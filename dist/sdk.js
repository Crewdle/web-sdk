(function(_0x5a916c,_0x2b3336){const _0x45d040=a0_0xdea0,_0x16fe36=_0x5a916c();while(!![]){try{const _0x2024f1=-parseInt(_0x45d040(0x733))/0x1*(parseInt(_0x45d040(0x9f0))/0x2)+parseInt(_0x45d040(0x60a))/0x3+parseInt(_0x45d040(0x298))/0x4+parseInt(_0x45d040(0x1cd))/0x5*(-parseInt(_0x45d040(0x341))/0x6)+parseInt(_0x45d040(0xa57))/0x7*(-parseInt(_0x45d040(0x22f))/0x8)+-parseInt(_0x45d040(0x2d9))/0x9+parseInt(_0x45d040(0x895))/0xa;if(_0x2024f1===_0x2b3336)break;else _0x16fe36['push'](_0x16fe36['shift']());}catch(_0x1ffbd7){_0x16fe36['push'](_0x16fe36['shift']());}}}(a0_0x52e0,0xc4853),!function(_0x32c8b1,_0x3021d2){const _0x3e06c1=a0_0xdea0;if(_0x3e06c1(0xa3a)==typeof exports&&_0x3e06c1(0xa3a)==typeof module)module[_0x3e06c1(0x824)]=_0x3021d2();else{if(_0x3e06c1(0x3c4)==typeof define&&define[_0x3e06c1(0x8a6)])define([],_0x3021d2);else{var _0x2601b0=_0x3021d2();for(var _0x51d91b in _0x2601b0)(_0x3e06c1(0xa3a)==typeof exports?exports:_0x32c8b1)[_0x51d91b]=_0x2601b0[_0x51d91b];}}}(this,()=>((()=>{'use strict';const _0x128a0b=a0_0xdea0;var _0x1706d5={0x14d:(_0x3c5af3,_0x1eeeab,_0x255129)=>{const _0x3f86ba=a0_0xdea0;_0x255129['d'](_0x1eeeab,{'O':()=>_0x4e0197});const _0x4e0197={'version':_0x3f86ba(0x8ed),'isProduction':!0x1,'firebaseConfig':{'apiKey':_0x3f86ba(0x1bd),'authDomain':'crewdle-sdk-stg.firebaseapp.com','databaseURL':_0x3f86ba(0x2df),'projectId':_0x3f86ba(0x60c),'storageBucket':_0x3f86ba(0x5c6),'appId':_0x3f86ba(0x2f9),'functionsRegion':_0x3f86ba(0x655)},'apiUrl':_0x3f86ba(0x299),'google':{'searchEngineId':'21a9d78dee97f487b'},'aws':{'endpoint':_0x3f86ba(0x81e),'region':_0x3f86ba(0x72e)}};},0x33b:(_0x37f12a,_0x516eef,_0x10e66f)=>{_0x10e66f['d'](_0x516eef,{'O':()=>_0x30a834});const _0x30a834={};},0x3e6:(_0x1832a6,_0x2119e1,_0x11c798)=>{const _0x202c55=a0_0xdea0;_0x11c798['d'](_0x2119e1,{'O':()=>_0x3ef1e4});const _0x3ef1e4={'version':_0x202c55(0x72a),'isProduction':!0x0,'firebaseConfig':{'apiKey':_0x202c55(0x9e9),'authDomain':_0x202c55(0xb14),'databaseURL':_0x202c55(0x88d),'projectId':_0x202c55(0x795),'storageBucket':_0x202c55(0x1ef),'messagingSenderId':_0x202c55(0x7fe),'appId':_0x202c55(0x2c4),'measurementId':'G-F7W8KXRKQB'},'apiUrl':_0x202c55(0x31f),'aws':{'endpoint':_0x202c55(0x8d2),'region':_0x202c55(0x72e)}};},0x20:(_0x2bb82f,_0xc5defe,_0x443a3b)=>{_0x443a3b['d'](_0xc5defe,{'O':()=>_0x56dad4});const _0x56dad4={};}},_0x59c8f1={};function _0x1f651b(_0x2c4b76){const _0x2430c2=a0_0xdea0;var _0x2cb0d6=_0x59c8f1[_0x2c4b76];if(void 0x0!==_0x2cb0d6)return _0x2cb0d6['exports'];var _0x30f555=_0x59c8f1[_0x2c4b76]={'exports':{}};return _0x1706d5[_0x2c4b76](_0x30f555,_0x30f555[_0x2430c2(0x824)],_0x1f651b),_0x30f555[_0x2430c2(0x824)];}_0x1f651b['d']=(_0x4e3d0b,_0x2e4fed)=>{const _0x42c4e3=a0_0xdea0;for(var _0x4c549f in _0x2e4fed)_0x1f651b['o'](_0x2e4fed,_0x4c549f)&&!_0x1f651b['o'](_0x4e3d0b,_0x4c549f)&&Object[_0x42c4e3(0x7b1)](_0x4e3d0b,_0x4c549f,{'enumerable':!0x0,'get':_0x2e4fed[_0x4c549f]});},_0x1f651b['g']=(function(){const _0x35f324=a0_0xdea0;if(_0x35f324(0xa3a)==typeof globalThis)return globalThis;try{return this||new Function('return\x20this')();}catch(_0x8909c){if(_0x35f324(0xa3a)==typeof window)return window;}}()),_0x1f651b['o']=(_0x58eed0,_0x8ceea4)=>Object['prototype'][_0x128a0b(0x18d)][_0x128a0b(0x4cd)](_0x58eed0,_0x8ceea4),_0x1f651b['r']=_0x4420af=>{const _0x324728=_0x128a0b;_0x324728(0x730)!=typeof Symbol&&Symbol[_0x324728(0x853)]&&Object[_0x324728(0x7b1)](_0x4420af,Symbol[_0x324728(0x853)],{'value':'Module'}),Object[_0x324728(0x7b1)](_0x4420af,'__esModule',{'value':!0x0});};var _0x3336f9,_0x5790a5,_0x1367fe,_0x50a423={};_0x1f651b['r'](_0x50a423),_0x1f651b['d'](_0x50a423,{'KeyValueDatabase':()=>_0xc51eec,'LayoutBuilder':()=>_0x1fbd4a,'LoggingChannels':()=>_0x1367fe,'QueryBuilder':()=>_0x476da4,'SDK':()=>_0x9b9d1c,'SDKClientErrorCodes':()=>_0x3336f9,'TableBuilder':()=>_0x65f43b,'logger':()=>_0x265260}),function(_0x38cc0d){const _0x5ca53a=_0x128a0b;_0x38cc0d['ApiKeyMissing']=_0x5ca53a(0xad8),_0x38cc0d['ConnectionBufferNotEmpty']=_0x5ca53a(0x590),_0x38cc0d[_0x5ca53a(0x7df)]=_0x5ca53a(0x932),_0x38cc0d['ExternalStorageConnectionAlreadyExists']=_0x5ca53a(0x8ef),_0x38cc0d['ExternalStorageConnectionAlreadySubscribed']=_0x5ca53a(0x843),_0x38cc0d['ExternalStorageConnectionDoesNotExist']='external-storage-connection-does-not-exist',_0x38cc0d[_0x5ca53a(0x8e4)]=_0x5ca53a(0x863),_0x38cc0d[_0x5ca53a(0x8c5)]=_0x5ca53a(0x7d2),_0x38cc0d[_0x5ca53a(0x991)]=_0x5ca53a(0x234),_0x38cc0d['FeatureNotEnabled']=_0x5ca53a(0x9cc),_0x38cc0d[_0x5ca53a(0x9b1)]='generative-ai-context-already-exists',_0x38cc0d[_0x5ca53a(0x508)]=_0x5ca53a(0x769),_0x38cc0d[_0x5ca53a(0x5ff)]=_0x5ca53a(0x99e),_0x38cc0d[_0x5ca53a(0x591)]=_0x5ca53a(0x4fe),_0x38cc0d[_0x5ca53a(0x4fb)]=_0x5ca53a(0x62b),_0x38cc0d['GenerativeAIWorkerAlreadyExists']='generative-ai-worker-already-exists',_0x38cc0d['GenerativeAIWorkerMissingConnector']=_0x5ca53a(0x31a),_0x38cc0d[_0x5ca53a(0x961)]=_0x5ca53a(0x910),_0x38cc0d[_0x5ca53a(0x9d6)]=_0x5ca53a(0x758),_0x38cc0d['GraphDatabaseDoesNotExist']=_0x5ca53a(0xa44),_0x38cc0d[_0x5ca53a(0xa0a)]=_0x5ca53a(0x390),_0x38cc0d[_0x5ca53a(0x241)]=_0x5ca53a(0x5ef),_0x38cc0d[_0x5ca53a(0x4e5)]=_0x5ca53a(0xadc),_0x38cc0d[_0x5ca53a(0xa22)]=_0x5ca53a(0x1e8),_0x38cc0d[_0x5ca53a(0x4be)]=_0x5ca53a(0x778),_0x38cc0d[_0x5ca53a(0x5f8)]=_0x5ca53a(0x455),_0x38cc0d['JobDispatcherInvalidJobType']=_0x5ca53a(0x8a0),_0x38cc0d[_0x5ca53a(0x8ee)]=_0x5ca53a(0x83e),_0x38cc0d[_0x5ca53a(0xa32)]='job-worker-does-not-exist',_0x38cc0d[_0x5ca53a(0x7e9)]='object-store-already-exists',_0x38cc0d['ObjectStoreAlreadySubscribed']=_0x5ca53a(0x9c3),_0x38cc0d[_0x5ca53a(0xae3)]=_0x5ca53a(0x618),_0x38cc0d['ObjectStoreNameNotString']='object-store-name-not-string',_0x38cc0d[_0x5ca53a(0x34e)]=_0x5ca53a(0x43c),_0x38cc0d[_0x5ca53a(0xad6)]=_0x5ca53a(0x266),_0x38cc0d['ObjectStoreNotInSync']='object-store-not-in-sync',_0x38cc0d[_0x5ca53a(0x5b2)]='internal-sdk-error',_0x38cc0d[_0x5ca53a(0x32a)]=_0x5ca53a(0x79d),_0x38cc0d['KeyValueDatabaseAlreadyExists']='key-value-database-already-exists',_0x38cc0d[_0x5ca53a(0x260)]=_0x5ca53a(0x7c9),_0x38cc0d[_0x5ca53a(0x7f4)]=_0x5ca53a(0x422),_0x38cc0d['KeyValueDatabaseInvalidQuery']=_0x5ca53a(0x94e),_0x38cc0d[_0x5ca53a(0x39a)]='key-value-database-invalid-value',_0x38cc0d[_0x5ca53a(0x90b)]='key-value-database-name-not-string',_0x38cc0d['KeyValueDatabaseNotOpen']=_0x5ca53a(0x24e),_0x38cc0d[_0x5ca53a(0x8e3)]=_0x5ca53a(0x82c),_0x38cc0d['KeyValueDatabaseTableNotFound']='key-value-database-table-not-found',_0x38cc0d['KeyValueDatabaseInvalidLayout']='key-value-database-invalid-layout',_0x38cc0d[_0x5ca53a(0x19c)]=_0x5ca53a(0x9e1),_0x38cc0d[_0x5ca53a(0x9d4)]='local-media-stream-no-audio-context',_0x38cc0d['PubSubTopicAlreadyExists']=_0x5ca53a(0x749),_0x38cc0d[_0x5ca53a(0x363)]=_0x5ca53a(0x779),_0x38cc0d[_0x5ca53a(0x67c)]=_0x5ca53a(0x4a0),_0x38cc0d['PubSubTopicAlreadySubscribed']='pub-sub-topic-already-subscribed',_0x38cc0d[_0x5ca53a(0x988)]=_0x5ca53a(0x98e),_0x38cc0d[_0x5ca53a(0x92d)]='remote-media-stream-already-exists',_0x38cc0d['RemoteMediaStreamInvalidSubscriptionParams']=_0x5ca53a(0x78a),_0x38cc0d['SubscriptionRequestInProgress']=_0x5ca53a(0x628),_0x38cc0d[_0x5ca53a(0x97a)]=_0x5ca53a(0x99b),_0x38cc0d[_0x5ca53a(0x513)]=_0x5ca53a(0x624),_0x38cc0d[_0x5ca53a(0x2e0)]=_0x5ca53a(0x696),_0x38cc0d[_0x5ca53a(0x3a2)]='node-type-required',_0x38cc0d[_0x5ca53a(0x3a4)]=_0x5ca53a(0x925),_0x38cc0d[_0x5ca53a(0x69e)]='vector-database-does-not-exist',_0x38cc0d['VectorDatabaseMissingConnector']=_0x5ca53a(0x1c8),_0x38cc0d[_0x5ca53a(0xa3b)]=_0x5ca53a(0x65d);}(_0x3336f9||(_0x3336f9={}));class _0x325cc6 extends Error{[_0x128a0b(0x1ce)];constructor(_0x1b51e9,_0x58fd7a){super(_0x58fd7a),this['code']=_0x1b51e9;}}!function(_0x5303a8){const _0x5f38d8=_0x128a0b;_0x5303a8['PubSub']=_0x5f38d8(0x712),_0x5303a8['ObjectStorage']='object-storage',_0x5303a8[_0x5f38d8(0xa05)]='key-value-database',_0x5303a8[_0x5f38d8(0x56f)]=_0x5f38d8(0x38e),_0x5303a8[_0x5f38d8(0x789)]=_0x5f38d8(0x90e),_0x5303a8['ExternalStorage']=_0x5f38d8(0x5a2),_0x5303a8[_0x5f38d8(0x61a)]=_0x5f38d8(0x3ad),_0x5303a8[_0x5f38d8(0x219)]=_0x5f38d8(0x558);}(_0x5790a5||(_0x5790a5={})),function(_0x18f560){const _0xee026a=_0x128a0b;_0x18f560[_0xee026a(0x9a9)]='all',_0x18f560[_0xee026a(0x2aa)]=_0xee026a(0x59b),_0x18f560[_0xee026a(0xaf5)]=_0xee026a(0x380),_0x18f560[_0xee026a(0x50f)]=_0xee026a(0x815),_0x18f560['Cluster']=_0xee026a(0x26f),_0x18f560['Content']=_0xee026a(0x95d),_0x18f560[_0xee026a(0x7a6)]=_0xee026a(0x9c4),_0x18f560[_0xee026a(0xa6b)]='detection',_0x18f560[_0xee026a(0x86a)]=_0xee026a(0x6cb),_0x18f560[_0xee026a(0x5a8)]=_0xee026a(0x5b5),_0x18f560['Jobs']=_0xee026a(0x2a1),_0x18f560[_0xee026a(0xa05)]='key-value-database',_0x18f560['Node']=_0xee026a(0x98b),_0x18f560[_0xee026a(0x592)]=_0xee026a(0x2b4),_0x18f560['PubSub']=_0xee026a(0x712),_0x18f560[_0xee026a(0x9ab)]='receiver-on-message',_0x18f560[_0xee026a(0x812)]=_0xee026a(0x7c3),_0x18f560['SenderSendMessage']='sender-send-message',_0x18f560[_0xee026a(0x504)]='signaling',_0x18f560[_0xee026a(0x1a6)]=_0xee026a(0x9fc),_0x18f560[_0xee026a(0x533)]=_0xee026a(0x8cb),_0x18f560['Support']=_0xee026a(0x495),_0x18f560['System']=_0xee026a(0x549),_0x18f560['SystemStats']=_0xee026a(0x834),_0x18f560['TestPage']=_0xee026a(0x35a),_0x18f560[_0xee026a(0x9b3)]='peer-connection';}(_0x1367fe||(_0x1367fe={}));const _0x16f74=require('@crewdle/web-sdk-types');class _0x476da4{['query'];constructor(_0x2fd0b8){const _0x4a6ccd=_0x128a0b;this['query']={'orderBy':{'key':_0x2fd0b8,'direction':_0x4a6ccd(0x5d6)}};}static[_0x128a0b(0x8a7)](_0x25d9f2){const _0x420fe4=_0x128a0b;if(_0x420fe4(0x55c)!=typeof _0x25d9f2||0x0===_0x25d9f2[_0x420fe4(0xa20)])throw new _0x325cc6(_0x3336f9[_0x420fe4(0x988)],_0x420fe4(0x7b5));return new _0x476da4(_0x25d9f2);}static[_0x128a0b(0x209)](_0x6ee740){const _0x410a15=_0x128a0b;try{return _0x476da4[_0x410a15(0xa9f)](_0x6ee740),!0x0;}catch(_0x1333c8){return!0x1;}}static[_0x128a0b(0xa9f)](_0x2b8a6b){const _0x17f8eb=_0x128a0b,_0xbc5925=_0x476da4[_0x17f8eb(0x8a7)](_0x2b8a6b[_0x17f8eb(0x280)]?.[_0x17f8eb(0x293)]??_0x2b8a6b[_0x17f8eb(0x1b2)]?.['key']??'');if(_0x2b8a6b[_0x17f8eb(0x1b2)]){const _0xa8e0e5=_0x2b8a6b[_0x17f8eb(0x1b2)];if((_0x476da4[_0x17f8eb(0x269)](_0xa8e0e5)||_0x476da4['isWhereValues'](_0xa8e0e5)||_0x476da4[_0x17f8eb(0x548)](_0xa8e0e5))&&_0xbc5925[_0x17f8eb(0x1b2)](_0xa8e0e5['operator'],_0xa8e0e5[_0x17f8eb(0x443)]),_0x2b8a6b[_0x17f8eb(0x280)]?.['key']&&_0x2b8a6b[_0x17f8eb(0x280)]?.[_0x17f8eb(0x293)]!==_0x2b8a6b[_0x17f8eb(0x1b2)][_0x17f8eb(0x293)])throw new _0x325cc6(_0x3336f9[_0x17f8eb(0x988)],_0x17f8eb(0x372));}return _0x2b8a6b[_0x17f8eb(0x280)]&&_0xbc5925[_0x17f8eb(0x280)](_0x2b8a6b[_0x17f8eb(0x280)]['direction']),_0x2b8a6b[_0x17f8eb(0x725)]&&_0xbc5925[_0x17f8eb(0x725)](_0x2b8a6b[_0x17f8eb(0x725)]),_0x2b8a6b['offset']&&_0xbc5925[_0x17f8eb(0x4f8)](_0x2b8a6b[_0x17f8eb(0x4f8)]),_0xbc5925;}[_0x128a0b(0x6c5)](){const _0x12ed0f=_0x128a0b;return{...this[_0x12ed0f(0x38b)]};}['where'](_0x585046,_0x305615){const _0x44793d=_0x128a0b,_0xdea288={'key':this['query'][_0x44793d(0x280)][_0x44793d(0x293)],'operator':_0x585046,'value':_0x305615};if(!_0x476da4[_0x44793d(0x269)](_0xdea288)&&!_0x476da4[_0x44793d(0x7ea)](_0xdea288)&&!_0x476da4[_0x44793d(0x548)](_0xdea288))throw new _0x325cc6(_0x3336f9['QueryBuilderInvalidArgument'],_0x44793d(0x34b));return this['query'][_0x44793d(0x1b2)]=_0xdea288,this;}['orderBy'](_0x43caac){const _0x5be5d4=_0x128a0b;if(_0x5be5d4(0x5d6)!==_0x43caac&&_0x5be5d4(0x6dc)!==_0x43caac)throw new _0x325cc6(_0x3336f9[_0x5be5d4(0x988)],_0x5be5d4(0x531));return this['query'][_0x5be5d4(0x280)][_0x5be5d4(0x3bb)]=_0x43caac,this;}[_0x128a0b(0x725)](_0x18beac){const _0x1d2832=_0x128a0b;if(_0x1d2832(0x762)!=typeof _0x18beac||_0x18beac<0x0)throw new _0x325cc6(_0x3336f9[_0x1d2832(0x988)],'Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number');return this[_0x1d2832(0x38b)][_0x1d2832(0x725)]=_0x18beac,this;}[_0x128a0b(0x4f8)](_0x56ddfd){const _0x5f5872=_0x128a0b;if(_0x5f5872(0x762)!=typeof _0x56ddfd||_0x56ddfd<0x0)throw new _0x325cc6(_0x3336f9[_0x5f5872(0x988)],_0x5f5872(0x33c));return this[_0x5f5872(0x38b)][_0x5f5872(0x4f8)]=_0x56ddfd,this;}static[_0x128a0b(0x269)](_0x27ce29){const _0x447298=_0x128a0b;if(!(_0x27ce29&&'object'==typeof _0x27ce29&&_0x447298(0x67a)in _0x27ce29&&_0x447298(0x443)in _0x27ce29))return!0x1;const {operator:_0x121865,value:_0x42f115}=_0x27ce29;return!(!['==','!=','>','<','<=','>='][_0x447298(0x6b7)](_0x121865)||Array[_0x447298(0xaec)](_0x42f115));}static['isWhereValues'](_0x5de351){const _0x54e221=_0x128a0b;if(!(_0x5de351&&_0x54e221(0xa3a)==typeof _0x5de351&&'operator'in _0x5de351&&_0x54e221(0x443)in _0x5de351))return!0x1;const {operator:_0xd0ca59,value:_0x19d0c6}=_0x5de351;return!(!['in',_0x54e221(0xab0)][_0x54e221(0x6b7)](_0xd0ca59)||!Array['isArray'](_0x19d0c6));}static[_0x128a0b(0x548)](_0x5f44b7){const _0x3f7bdb=_0x128a0b;if(!(_0x5f44b7&&_0x3f7bdb(0xa3a)==typeof _0x5f44b7&&_0x3f7bdb(0x67a)in _0x5f44b7&&_0x3f7bdb(0x443)in _0x5f44b7))return!0x1;const {operator:_0x4e83f9,value:_0x26700f}=_0x5f44b7;return!(_0x3f7bdb(0x641)!==_0x4e83f9||!Array[_0x3f7bdb(0xaec)](_0x26700f)||0x2!==_0x26700f[_0x3f7bdb(0xa20)]);}}class _0x1fbd4a{[_0x128a0b(0x55b)];constructor(_0x25a323){const _0x19b15b=_0x128a0b;this[_0x19b15b(0x55b)]={'tables':{},'version':_0x25a323};}static[_0x128a0b(0x2ce)](_0x275e9d){const _0x43b39e=_0x128a0b;for(const _0x3dac9c in _0x275e9d){if(_0x43b39e(0x318)!==_0x3dac9c&&'tables'!==_0x3dac9c)return[!0x1,_0x43b39e(0xadf)+_0x3dac9c+_0x43b39e(0x4db)];if(_0x43b39e(0x5b3)===_0x3dac9c)for(const _0x3457cf in _0x275e9d[_0x43b39e(0x5b3)]){if(_0x43b39e(0x55c)!=typeof _0x3457cf)return[!0x1,_0x43b39e(0x554)+_0x3457cf+'\x27'];for(const _0xffb6eb in _0x275e9d['tables'][_0x3457cf]){if('indexes'!==_0xffb6eb)return[!0x1,_0x43b39e(0xadf)+_0xffb6eb+_0x43b39e(0x58b)+_0x3457cf+'\x27'];const _0x29ef8c=_0x275e9d[_0x43b39e(0x5b3)][_0x3457cf][_0xffb6eb]??[];for(const _0x473374 of _0x29ef8c)if(void 0x0===_0x473374[_0x43b39e(0x9b2)]||'string'!=typeof _0x473374[_0x43b39e(0x9b2)])return[!0x1,_0x43b39e(0x44d)+_0x3457cf+_0x43b39e(0x197)];}}else{if(_0x43b39e(0x318)===_0x3dac9c&&_0x43b39e(0x762)!=typeof _0x275e9d[_0x3dac9c])return[!0x1,'Invalid\x20version\x20\x27'+_0x275e9d[_0x3dac9c]+_0x43b39e(0x2b2)];}}return[!0x0,'Valid\x20layout'];}static[_0x128a0b(0x55b)](_0x4296fe){const _0x1d6d03=_0x128a0b,_0x174192=new _0x1fbd4a(_0x4296fe);return _0x174192[_0x1d6d03(0x55b)]['version']=_0x4296fe,_0x174192;}['table'](_0x5bd212){const _0xa35eab=_0x128a0b;return this[_0xa35eab(0x55b)][_0xa35eab(0x5b3)][_0x5bd212]={},new _0x65f43b(this[_0xa35eab(0x55b)][_0xa35eab(0x5b3)][_0x5bd212]);}['getLayout'](){const _0x24c7b3=_0x128a0b;return this[_0x24c7b3(0x55b)];}}class _0x65f43b{[_0x128a0b(0x4dc)];constructor(_0xdd1b3c){const _0x4a914a=_0x128a0b;this[_0x4a914a(0x4dc)]=_0xdd1b3c;}[_0x128a0b(0x8a7)](_0x37df04){const _0x385378=_0x128a0b;return this['tableLayout'][_0x385378(0x65f)]=this[_0x385378(0x4dc)]['indexes']??[],this[_0x385378(0x4dc)][_0x385378(0x65f)]['push']({'keyPath':_0x37df04}),this;}}const _0x3ab506=0x40000,_0x5c06b7=0x20000,_0x9bc8e5=0x1388,_0x14fb58=_0x128a0b(0xa3f),_0x5099e4=_0x128a0b(0x83b),_0x2f2d6b=_0x128a0b(0x7e8),_0x555396=_0x128a0b(0x509),_0x5d2be1=0xdbba0,_0x247f8b=0x61a8,_0x4b0f68=_0x128a0b(0x281);var _0x1eb3c0;!function(_0x19d11b){const _0x43c479=_0x128a0b;_0x19d11b[_0x43c479(0x9f6)]='connection-not-initialized',_0x19d11b[_0x43c479(0x947)]=_0x43c479(0xa59),_0x19d11b['ConnectionNoRetryQueue']=_0x43c479(0x347),_0x19d11b[_0x43c479(0x2d0)]='connection-invalid-data-event',_0x19d11b[_0x43c479(0x954)]=_0x43c479(0x28a),_0x19d11b[_0x43c479(0xa90)]=_0x43c479(0x4bb),_0x19d11b[_0x43c479(0x40f)]=_0x43c479(0x67b),_0x19d11b[_0x43c479(0x64e)]=_0x43c479(0x46d),_0x19d11b[_0x43c479(0x689)]=_0x43c479(0x920),_0x19d11b[_0x43c479(0x7c6)]=_0x43c479(0x3fb),_0x19d11b['GenerativeAIWorkerCreationFailed']=_0x43c479(0x2e7),_0x19d11b[_0x43c479(0x6a4)]=_0x43c479(0x4ec),_0x19d11b[_0x43c479(0x699)]='invalid-data-chanel',_0x19d11b['InvalidPublisher']=_0x43c479(0x744),_0x19d11b['InvalidSubscriber']=_0x43c479(0x1c4),_0x19d11b[_0x43c479(0x8db)]='invalid-subscription',_0x19d11b[_0x43c479(0x8cd)]=_0x43c479(0x593),_0x19d11b[_0x43c479(0x9b0)]=_0x43c479(0x351),_0x19d11b[_0x43c479(0x5f8)]='job-dispatcher-job-not-found',_0x19d11b[_0x43c479(0x57b)]=_0x43c479(0x3ae),_0x19d11b['JobWorkerCreationFailed']=_0x43c479(0x1b8),_0x19d11b[_0x43c479(0x3bf)]=_0x43c479(0xa4b),_0x19d11b[_0x43c479(0x1d1)]=_0x43c479(0x21a),_0x19d11b['KeyValueDatabasePeakNotFound']=_0x43c479(0x344),_0x19d11b[_0x43c479(0x9dd)]=_0x43c479(0x1df),_0x19d11b[_0x43c479(0x6c0)]=_0x43c479(0x650),_0x19d11b[_0x43c479(0x2ff)]=_0x43c479(0x964),_0x19d11b[_0x43c479(0x7ca)]=_0x43c479(0x91b),_0x19d11b[_0x43c479(0x7f0)]=_0x43c479(0x8b8),_0x19d11b[_0x43c479(0x28d)]='missing-system-topic',_0x19d11b['MistletCapacityReportNotSet']=_0x43c479(0x82e),_0x19d11b[_0x43c479(0x217)]=_0x43c479(0x526),_0x19d11b[_0x43c479(0xa0f)]=_0x43c479(0xad5),_0x19d11b[_0x43c479(0x65b)]=_0x43c479(0x580),_0x19d11b['ObjectStoreNotSynced']=_0x43c479(0x37c),_0x19d11b[_0x43c479(0x767)]=_0x43c479(0x706),_0x19d11b['RemoteMediaStreamDoesNotExist']=_0x43c479(0x459),_0x19d11b[_0x43c479(0x3a0)]=_0x43c479(0xa53),_0x19d11b['RemoteConnectionExists']=_0x43c479(0x386),_0x19d11b['SubscriptionRequestDoesNotExist']=_0x43c479(0x664),_0x19d11b['SubscriptionRequestFailed']=_0x43c479(0x199),_0x19d11b[_0x43c479(0x1e3)]=_0x43c479(0x3f1),_0x19d11b[_0x43c479(0xa21)]=_0x43c479(0x626),_0x19d11b['NodeAlreadyExist']=_0x43c479(0xaf6),_0x19d11b['PeerConnectionInvalidDestination']=_0x43c479(0x7e3),_0x19d11b[_0x43c479(0x866)]='vector-database-creation-failed',_0x19d11b[_0x43c479(0x916)]=_0x43c479(0x1a0),_0x19d11b[_0x43c479(0x66b)]=_0x43c479(0x1a5);}(_0x1eb3c0||(_0x1eb3c0={}));const _0x60d87b=new Map([[_0x1eb3c0[_0x128a0b(0x9f6)],_0x128a0b(0x58c)],[_0x1eb3c0[_0x128a0b(0x947)],_0x128a0b(0x491)],[_0x1eb3c0[_0x128a0b(0x7cf)],_0x128a0b(0x64b)],[_0x1eb3c0[_0x128a0b(0x2d0)],_0x128a0b(0x1bc)],[_0x1eb3c0['DataCollectionDoesNotExist'],'Data\x20collection\x20does\x20not\x20exist.'],[_0x1eb3c0[_0x128a0b(0xa90)],'Generative\x20AI\x20context\x20creation\x20failed.'],[_0x1eb3c0[_0x128a0b(0x40f)],_0x128a0b(0x859)],[_0x1eb3c0[_0x128a0b(0x64e)],_0x128a0b(0xad1)],[_0x1eb3c0[_0x128a0b(0x689)],_0x128a0b(0x9c0)],[_0x1eb3c0['GenerativeAIContextJobTimeout'],_0x128a0b(0x742)],[_0x1eb3c0['GenerativeAIWorkerCreationFailed'],_0x128a0b(0x383)],[_0x1eb3c0[_0x128a0b(0x6a4)],_0x128a0b(0x5f1)],[_0x1eb3c0[_0x128a0b(0x699)],_0x128a0b(0x9c2)],[_0x1eb3c0[_0x128a0b(0x433)],'Invalid\x20publisher.'],[_0x1eb3c0['InvalidSubscriber'],_0x128a0b(0x503)],[_0x1eb3c0[_0x128a0b(0x8db)],_0x128a0b(0x793)],[_0x1eb3c0['JobDispatcherCreationFailed'],_0x128a0b(0x787)],[_0x1eb3c0[_0x128a0b(0x9b0)],_0x128a0b(0x951)],[_0x1eb3c0[_0x128a0b(0x5f8)],'Job\x20service\x20job\x20not\x20found.'],[_0x1eb3c0[_0x128a0b(0x57b)],_0x128a0b(0x972)],[_0x1eb3c0[_0x128a0b(0x41d)],'Job\x20worker\x20creation\x20failed.'],[_0x1eb3c0[_0x128a0b(0x3bf)],_0x128a0b(0x968)],[_0x1eb3c0[_0x128a0b(0x1d1)],'Key-value\x20database\x20creation\x20failed.'],[_0x1eb3c0[_0x128a0b(0xa95)],_0x128a0b(0x6cc)],[_0x1eb3c0[_0x128a0b(0x9dd)],_0x128a0b(0xa15)],[_0x1eb3c0[_0x128a0b(0x6c0)],_0x128a0b(0x205)],[_0x1eb3c0[_0x128a0b(0x2ff)],_0x128a0b(0x1a4)],[_0x1eb3c0[_0x128a0b(0x7ca)],'Local\x20stream\x20does\x20not\x20exist.'],[_0x1eb3c0['MissingRemoteConnection'],_0x128a0b(0xa5e)],[_0x1eb3c0[_0x128a0b(0x28d)],_0x128a0b(0x9f1)],[_0x1eb3c0[_0x128a0b(0xab8)],_0x128a0b(0x3da)],[_0x1eb3c0['ObjectStoreCannotWriteTransaction'],_0x128a0b(0xa07)],[_0x1eb3c0['ObjectStoreInvalidSyncMessage'],_0x128a0b(0x829)],[_0x1eb3c0[_0x128a0b(0xa0f)],_0x128a0b(0x9ee)],[_0x1eb3c0[_0x128a0b(0x6c7)],'Object\x20store\x20not\x20synced.'],[_0x1eb3c0[_0x128a0b(0x767)],_0x128a0b(0x75f)],[_0x1eb3c0[_0x128a0b(0x48e)],'Remote\x20stream\x20does\x20not\x20exist.'],[_0x1eb3c0[_0x128a0b(0x3a0)],_0x128a0b(0x636)],[_0x1eb3c0[_0x128a0b(0x7ed)],_0x128a0b(0x3f3)],[_0x1eb3c0[_0x128a0b(0x9fb)],_0x128a0b(0x711)],[_0x1eb3c0['SubscriptionRequestFailed'],_0x128a0b(0x510)],[_0x1eb3c0[_0x128a0b(0x1e3)],_0x128a0b(0x70b)],[_0x1eb3c0[_0x128a0b(0xa21)],'Node\x20does\x20not\x20exist.'],[_0x1eb3c0[_0x128a0b(0x19f)],'Node\x20already\x20exists.'],[_0x1eb3c0[_0x128a0b(0x5ba)],'Invalid\x20peer\x20connection\x20event\x20destination.'],[_0x1eb3c0[_0x128a0b(0x866)],_0x128a0b(0x4d3)],[_0x1eb3c0[_0x128a0b(0x916)],'Workflow\x20does\x20not\x20exist.'],[_0x1eb3c0[_0x128a0b(0x66b)],_0x128a0b(0x75c)]]);class _0x4204a5 extends Error{[_0x128a0b(0x1ce)];static [_0x128a0b(0x7f9)]=_0x1eb3c0;['data'];constructor(_0xedb042,_0x403ba9){const _0x280a06=_0x128a0b;super(_0x280a06(0x4eb)+_0xedb042+':\x20'+_0x60d87b[_0x280a06(0x8b0)](_0xedb042)+_0x280a06(0x25e)+JSON['stringify'](_0x403ba9)),this[_0x280a06(0x1ce)]=_0xedb042,this['data']=_0x403ba9||{};}}var _0x267eb0,_0x358c44,_0x2e884e,_0x5624f8,_0x67187c,_0x556bb0,_0x562b7c;!function(_0xe2542f){const _0x1cd2b4=_0x128a0b;_0xe2542f[_0xe2542f['CloseGraphDatabase']=0x0]=_0x1cd2b4(0x694),_0xe2542f[_0xe2542f['CloseJobDispatcher']=0x1]='CloseJobDispatcher',_0xe2542f[_0xe2542f[_0x1cd2b4(0x2a7)]=0x2]=_0x1cd2b4(0x2a7),_0xe2542f[_0xe2542f[_0x1cd2b4(0x1c9)]=0x3]=_0x1cd2b4(0x1c9),_0xe2542f[_0xe2542f[_0x1cd2b4(0x218)]=0x4]=_0x1cd2b4(0x218),_0xe2542f[_0xe2542f[_0x1cd2b4(0x570)]=0x5]='CloseMediaStream',_0xe2542f[_0xe2542f['CloseObjectStoreBucket']=0x6]='CloseObjectStoreBucket',_0xe2542f[_0xe2542f[_0x1cd2b4(0x595)]=0x7]=_0x1cd2b4(0x595),_0xe2542f[_0xe2542f[_0x1cd2b4(0x596)]=0x8]='CloseVectorDatabase',_0xe2542f[_0xe2542f[_0x1cd2b4(0x611)]=0x9]=_0x1cd2b4(0x611),_0xe2542f[_0xe2542f[_0x1cd2b4(0x86e)]=0xa]=_0x1cd2b4(0x86e),_0xe2542f[_0xe2542f['GenerativeAIWorkerStats']=0xb]=_0x1cd2b4(0x6a1),_0xe2542f[_0xe2542f[_0x1cd2b4(0x1bb)]=0xc]=_0x1cd2b4(0x1bb),_0xe2542f[_0xe2542f[_0x1cd2b4(0x49f)]=0xd]=_0x1cd2b4(0x49f),_0xe2542f[_0xe2542f[_0x1cd2b4(0x882)]=0xe]=_0x1cd2b4(0x882),_0xe2542f[_0xe2542f['KeyValueDatabaseRequestPeakTransactions']=0xf]=_0x1cd2b4(0x4da),_0xe2542f[_0xe2542f['KeyValueDatabaseRequestTransactionsValue']=0x10]=_0x1cd2b4(0x464),_0xe2542f[_0xe2542f[_0x1cd2b4(0x364)]=0x11]=_0x1cd2b4(0x364),_0xe2542f[_0xe2542f['KeyValueDatabaseStats']=0x12]=_0x1cd2b4(0x7c5),_0xe2542f[_0xe2542f['KeyValueDatabaseSyncRequired']=0x13]=_0x1cd2b4(0x400),_0xe2542f[_0xe2542f[_0x1cd2b4(0xa3d)]=0x14]='LocalMediaStreamTrackFail',_0xe2542f[_0xe2542f[_0x1cd2b4(0x9a6)]=0x15]='ObjectStoreStats',_0xe2542f[_0xe2542f[_0x1cd2b4(0x2c8)]=0x16]=_0x1cd2b4(0x2c8),_0xe2542f[_0xe2542f[_0x1cd2b4(0xa45)]=0x17]='PublishMediaStream',_0xe2542f[_0xe2542f['RemoteMediaStreamTrackFail']=0x18]=_0x1cd2b4(0x78e),_0xe2542f[_0xe2542f[_0x1cd2b4(0x89a)]=0x19]=_0x1cd2b4(0x89a),_0xe2542f[_0xe2542f[_0x1cd2b4(0x95e)]=0x1a]=_0x1cd2b4(0x95e),_0xe2542f[_0xe2542f[_0x1cd2b4(0x59c)]=0x1b]=_0x1cd2b4(0x59c),_0xe2542f[_0xe2542f[_0x1cd2b4(0x239)]=0x1c]=_0x1cd2b4(0x239),_0xe2542f[_0xe2542f[_0x1cd2b4(0x4fa)]=0x1d]=_0x1cd2b4(0x4fa);}(_0x267eb0||(_0x267eb0={})),function(_0x191f23){const _0x29c81d=_0x128a0b;_0x191f23['FileWrite']='file-write',_0x191f23[_0x29c81d(0x4af)]=_0x29c81d(0x482),_0x191f23[_0x29c81d(0x7b3)]='delete',_0x191f23[_0x29c81d(0x5dc)]=_0x29c81d(0x45b),_0x191f23[_0x29c81d(0x31b)]='request-file',_0x191f23[_0x29c81d(0xb02)]=_0x29c81d(0x7de),_0x191f23[_0x29c81d(0x675)]=_0x29c81d(0x6f4),_0x191f23[_0x29c81d(0x31d)]='request-file-write';}(_0x358c44||(_0x358c44={})),function(_0x40a752){const _0x1db8d0=_0x128a0b;_0x40a752[_0x1db8d0(0x46b)]=_0x1db8d0(0x37a),_0x40a752[_0x1db8d0(0x806)]=_0x1db8d0(0xabb);}(_0x2e884e||(_0x2e884e={})),function(_0x53a56f){const _0x32fcba=_0x128a0b;_0x53a56f[_0x32fcba(0xaaa)]='add',_0x53a56f[_0x32fcba(0xa5f)]=_0x32fcba(0x603),_0x53a56f[_0x32fcba(0x7b3)]=_0x32fcba(0x560);}(_0x5624f8||(_0x5624f8={})),function(_0xcebf9){const _0x4a498d=_0x128a0b;_0xcebf9[_0x4a498d(0xada)]=_0x4a498d(0x8b0),_0xcebf9[_0x4a498d(0x644)]='list',_0xcebf9['Count']=_0x4a498d(0x7c0);}(_0x67187c||(_0x67187c={})),function(_0x41958c){const _0x250957=_0x128a0b;_0x41958c[_0x41958c[_0x250957(0x46b)]=0x0]=_0x250957(0x46b),_0x41958c[_0x41958c[_0x250957(0x6ea)]=0x1]='Bid',_0x41958c[_0x41958c[_0x250957(0x51b)]=0x2]='Attribution',_0x41958c[_0x41958c[_0x250957(0x2a0)]=0x3]=_0x250957(0x2a0),_0x41958c[_0x41958c[_0x250957(0x52b)]=0x4]=_0x250957(0x52b),_0x41958c[_0x41958c[_0x250957(0x911)]=0x5]='Failed';}(_0x556bb0||(_0x556bb0={})),function(_0x5d55f8){const _0x459a04=_0x128a0b;_0x5d55f8[_0x5d55f8[_0x459a04(0x9b3)]=0x0]=_0x459a04(0x9b3),_0x5d55f8[_0x5d55f8['Node']=0x1]=_0x459a04(0x9f9),_0x5d55f8[_0x5d55f8['Content']=0x2]=_0x459a04(0x40d),_0x5d55f8[_0x5d55f8[_0x459a04(0x533)]=0x3]='Subscription',_0x5d55f8[_0x5d55f8['Stats']=0x4]=_0x459a04(0x1a6),_0x5d55f8[_0x5d55f8[_0x459a04(0xa6b)]=0x5]='Detection',_0x5d55f8[_0x5d55f8[_0x459a04(0x812)]=0x6]=_0x459a04(0x812);}(_0x562b7c||(_0x562b7c={}));class _0x3c7410{['owner'];['label'];[_0x128a0b(0x7be)];constructor(_0x826ea2,_0x136e64){const _0x2f875e=_0x128a0b;this[_0x2f875e(0x25a)]=_0x826ea2,this[_0x2f875e(0x9ce)]=_0x136e64;}['getLabel'](){const _0x408cd2=_0x128a0b;return this[_0x408cd2(0x9ce)];}['getOwnerId'](){const _0x4903e3=_0x128a0b;return this[_0x4903e3(0x25a)][_0x4903e3(0x993)]();}[_0x128a0b(0x61e)](){}['registerSystemPublisher'](_0x160be0){const _0x26b924=_0x128a0b;this[_0x26b924(0x7be)]=_0x160be0;}[_0x128a0b(0x211)](){delete this['systemTopic'];}}const _0x1b5a26=require('firebase/firestore');let _0x42ffff=_0x1f651b(0x14d)['O'];function _0x5bcc41(_0x57951b){const _0x2f322c=_0x128a0b;return!(!_0x57951b||_0x2f322c(0xa3a)!=typeof _0x57951b||Array[_0x2f322c(0xaec)](_0x57951b));}_0x42ffff=function _0x51275e(_0x4007d5,..._0x134c1d){const _0x564628=_0x128a0b;if(!Array[_0x564628(0xaec)](_0x134c1d)||0x0===_0x134c1d['length'])return _0x4007d5;const _0x2bd3ce=_0x134c1d[_0x564628(0x404)]();if(_0x5bcc41(_0x4007d5)&&_0x5bcc41(_0x2bd3ce)){for(const _0x5d3fa3 in _0x2bd3ce)_0x5bcc41(_0x2bd3ce[_0x5d3fa3])?(_0x4007d5[_0x5d3fa3]||Object[_0x564628(0x721)](_0x4007d5,{[_0x5d3fa3]:{}}),_0x51275e(_0x4007d5[_0x5d3fa3],_0x2bd3ce[_0x5d3fa3])):Object['assign'](_0x4007d5,{[_0x5d3fa3]:_0x2bd3ce[_0x5d3fa3]});}return _0x51275e(_0x4007d5,..._0x134c1d);}(_0x42ffff,_0x1f651b(0x3e6)['O']);const _0x4106b9=_0x42ffff,_0x5be1e3=require('firebase/app'),_0x4e8980=require('firebase/auth'),_0x33156d=require('firebase/database'),_0x197cf0=require('firebase/functions'),_0x49421a=require('uuid'),_0x95c013=_0x128a0b(0x7fa);class _0x58d4da{static [_0x128a0b(0x8e0)];[_0x128a0b(0x788)];[_0x128a0b(0x91e)];[_0x128a0b(0x869)];[_0x128a0b(0x288)];['firestore'];[_0x128a0b(0xaf2)];[_0x128a0b(0x1c5)];constructor(){const _0x3d32c4=_0x128a0b;this[_0x3d32c4(0x23f)]();}static[_0x128a0b(0x2cc)](){const _0x1e732a=_0x128a0b;return _0x58d4da['instance']||(_0x58d4da['instance']=new _0x58d4da()),_0x58d4da[_0x1e732a(0x8e0)];}[_0x128a0b(0x23f)](){const _0x1b6609=_0x128a0b;if(!this['app']){let _0x49f4e9=_0x95c013;_0x1b6609(0x730)!=typeof window&&(_0x49f4e9=_0x95c013+'-'+(0x0,_0x49421a['v4'])()),this[_0x1b6609(0x788)]=(0x0,_0x5be1e3['initializeApp'])(_0x4106b9[_0x1b6609(0xac3)],''+_0x49f4e9);}return this[_0x1b6609(0x788)];}[_0x128a0b(0x5a9)](){const _0x13180b=_0x128a0b;return this[_0x13180b(0x91e)]||(this[_0x13180b(0x91e)]=(0x0,_0x4e8980['getAuth'])(this[_0x13180b(0x23f)]())),this[_0x13180b(0x91e)];}[_0x128a0b(0x584)](){const _0x5dac58=_0x128a0b;return this['functions']||(this['functions']=(0x0,_0x197cf0[_0x5dac58(0x584)])(this[_0x5dac58(0x23f)](),_0x4106b9[_0x5dac58(0xac3)]['functionsRegion'])),this[_0x5dac58(0x869)];}['getDatabase'](){const _0x2e6066=_0x128a0b;return this[_0x2e6066(0x288)]||(this[_0x2e6066(0x288)]=(0x0,_0x33156d['getDatabase'])(this[_0x2e6066(0x23f)]())),this['database'];}[_0x128a0b(0x263)](){const _0x5590a2=_0x128a0b;return this[_0x5590a2(0x325)]||(this[_0x5590a2(0x325)]=(0x0,_0x1b5a26[_0x5590a2(0x263)])(this[_0x5590a2(0x23f)]())),this['firestore'];}async[_0x128a0b(0x64d)](){const _0x107224=_0x128a0b;if(this[_0x107224(0xaf2)]&&this['lastClockUpdate']&&Date[_0x107224(0x85a)]()-this['lastClockUpdate']<0x493e0)return Date[_0x107224(0x85a)]()+this[_0x107224(0xaf2)];const _0x1e7647=this[_0x107224(0xaa5)](),_0x262e6f=(0x0,_0x33156d['ref'])(_0x1e7647,_0x107224(0x3e2));return new Promise(_0x5dbdaa=>{const _0x5f5766=_0x107224;(0x0,_0x33156d[_0x5f5766(0x9cf)])(_0x262e6f,_0x1e55eb=>{const _0x190827=_0x5f5766;(0x0,_0x33156d[_0x190827(0xa80)])(_0x262e6f),this[_0x190827(0xaf2)]=_0x1e55eb[_0x190827(0x6ae)](),this[_0x190827(0x1c5)]=Date['now'](),_0x5dbdaa(Date[_0x190827(0x85a)]()+(this[_0x190827(0xaf2)]??0x0));});});}}const _0x342bc8=_0x58d4da[_0x128a0b(0x2cc)]();class _0x2df4f3{static ['instance'];['enabledChannels']=[_0x1367fe['Default']];[_0x128a0b(0x929)]=!0x1;[_0x128a0b(0x561)];[_0x128a0b(0x61b)]='';['globalObject'];[_0x128a0b(0x879)]=[];[_0x128a0b(0x339)];[_0x128a0b(0xa1a)];[_0x128a0b(0x7eb)]=0xa;[_0x128a0b(0x76d)]=0x1f4;[_0x128a0b(0x6d1)]=0x1c2;[_0x128a0b(0x6ad)]=0x3e8;constructor(){const _0x57a533=_0x128a0b;if(_0x57a533(0x730)!=typeof window)this[_0x57a533(0x471)]=window;else{if(void 0x0===_0x1f651b['g'])throw new Error(_0x57a533(0xa24));this[_0x57a533(0x471)]=_0x1f651b['g'];}this[_0x57a533(0x9f7)](),this['globalObject'][_0x57a533(0x9f5)]=_0x5032c4=>{const _0x484407=_0x57a533;if(_0x5032c4===_0x1367fe[_0x484407(0x9a9)])return this['enabledChannels']=Object['keys'](_0x1367fe)[_0x484407(0x8ac)](_0x59fbfe=>_0x1367fe[_0x59fbfe]),void Object[_0x484407(0x321)](_0x1367fe)[_0x484407(0x8b3)](_0x36670b=>{const _0x4a4b47=_0x484407,_0x52f6bd=_0x36670b;localStorage[_0x4a4b47(0x6d0)](_0x4a4b47(0x6e2)+_0x1367fe[_0x52f6bd],_0x4a4b47(0x2e9));});this[_0x484407(0x419)][_0x484407(0x6b7)](_0x5032c4)||(this['enabledChannels'][_0x484407(0xa98)](_0x5032c4),localStorage[_0x484407(0x6d0)](_0x484407(0x6e2)+_0x5032c4,_0x484407(0x2e9)));},this[_0x57a533(0x471)][_0x57a533(0x735)]=_0x5c4b92=>{const _0x5bd02b=_0x57a533;if(!_0x5c4b92||_0x5c4b92===_0x1367fe['All'])return this[_0x5bd02b(0x419)]=[],void Object[_0x5bd02b(0x321)](_0x1367fe)[_0x5bd02b(0x8b3)](_0x59a2bb=>{const _0x4be03a=_0x5bd02b,_0x425fb5=_0x59a2bb;localStorage[_0x4be03a(0x875)](_0x4be03a(0x6e2)+_0x1367fe[_0x425fb5]);});this[_0x5bd02b(0x419)][_0x5bd02b(0x6b7)](_0x5c4b92)&&(this[_0x5bd02b(0x419)]=this[_0x5bd02b(0x419)]['filter'](_0x43e03d=>_0x43e03d!==_0x5c4b92),localStorage['removeItem'](_0x5bd02b(0x6e2)+_0x5c4b92));},this[_0x57a533(0x471)]['crewdleSDKLoggingChannels']=_0x1367fe;}static[_0x128a0b(0x2cc)](){const _0x42483c=_0x128a0b;try{return _0x2df4f3['instance']||(_0x2df4f3[_0x42483c(0x8e0)]=new _0x2df4f3()),_0x2df4f3['instance'];}catch(_0xb685a){return console[_0x42483c(0x5b5)](_0x42483c(0xa89),_0xb685a),{'log':()=>{},'forceLog':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1,'processBatch':()=>{}};}}[_0x128a0b(0x3e8)](_0x3b3ced){const _0x218852=_0x128a0b;this[_0x218852(0x61b)]=_0x3b3ced,this[_0x218852(0x879)]=[],this[_0x218852(0x339)]=this[_0x218852(0x2ee)](),this['batchTimeout']&&(clearTimeout(this[_0x218852(0xa1a)]),this[_0x218852(0xa1a)]=void 0x0);}['setLoggingConnectors'](_0x5421af){const _0x28379e=_0x128a0b;this[_0x28379e(0x561)]=_0x5421af;}['debug'](_0x4fcff4,..._0x59cff7){const _0x24f1fc=_0x128a0b;this['debugEnabled']&&this[_0x24f1fc(0x552)](_0x1367fe[_0x24f1fc(0x2aa)],'DEBUG\x20-\x20'+_0x4fcff4,..._0x59cff7);}[_0x128a0b(0x79c)](_0x434a89,..._0x29a2b0){const _0x573575=_0x128a0b;console[_0x573575(0x552)](_0x434a89,..._0x29a2b0),this[_0x573575(0x561)]&&this[_0x573575(0x561)]['forEach'](_0xb2942a=>{const _0x1fedc5=_0x573575;_0xb2942a[_0x1fedc5(0x552)](_0x434a89,{'vendorId':this[_0x1fedc5(0x61b)],'nodeId':'','nodeType':'','data':{..._0x29a2b0}});});}['log'](_0x1955d6,_0x19478b,..._0x559d45){const _0x1e48d1=_0x128a0b;_0x4106b9['isProduction']||(this['enabledChannels']['includes'](_0x1955d6)&&console[_0x1e48d1(0x552)](_0x1e48d1(0x245)+_0x1955d6+'\x27\x0a',new Date()+'\x0a',_0x19478b,..._0x559d45),this['loggingConnectors']&&this[_0x1e48d1(0x561)][_0x1e48d1(0x8b3)](_0x48e5ce=>{const _0x21a3aa=_0x1e48d1;this[_0x21a3aa(0x780)](_0x48e5ce)&&_0x48e5ce['getEnabledChannels']()[_0x21a3aa(0x6b7)](_0x1955d6)&&_0x48e5ce[_0x21a3aa(0x552)](_0x19478b,{'vendorId':this[_0x21a3aa(0x61b)],'nodeId':'','nodeType':'','data':{'channel':_0x1955d6,..._0x559d45}});}));}[_0x128a0b(0x967)](_0x2d6852,_0x538e2f,..._0x5dd9d1){const _0x306fda=_0x128a0b;_0x4106b9[_0x306fda(0x602)]||(this[_0x306fda(0x419)]['includes'](_0x2d6852)&&console[_0x306fda(0x552)](_0x538e2f,..._0x5dd9d1),this[_0x306fda(0x561)]&&this[_0x306fda(0x561)]['forEach'](_0x23211c=>{const _0x2cd624=_0x306fda;this[_0x2cd624(0x780)](_0x23211c)&&_0x23211c['getEnabledChannels']()[_0x2cd624(0x6b7)](_0x2d6852)&&_0x23211c[_0x2cd624(0x552)](_0x538e2f,{'vendorId':this['vendorId'],'nodeId':'','nodeType':'','data':{'channel':_0x2d6852,..._0x5dd9d1}});}));}[_0x128a0b(0x229)](_0x41d3f0,_0x4078bb){const _0x385f19=_0x128a0b;if(!this[_0x385f19(0x561)])return;const _0x5b71af={'vendorId':this['vendorId'],..._0x4078bb};this[_0x385f19(0x561)]['forEach'](_0x12a0d2=>{const _0x38ae75=_0x385f19;_0x12a0d2[_0x38ae75(0x552)](_0x41d3f0,_0x5b71af);});}['logServiceEvent'](_0x2bdde5,_0x180b43){const _0x3049c8=_0x128a0b;this[_0x3049c8(0x472)](_0x2bdde5,_0x180b43),this[_0x3049c8(0x9ba)]();}['logStorage'](_0x596435,_0x2a7e0e,_0x272b9d){const _0x5b53a8=_0x128a0b;(0x0,_0x1b5a26[_0x5b53a8(0x440)])((0x0,_0x1b5a26[_0x5b53a8(0x1ff)])(_0x342bc8[_0x5b53a8(0x263)](),'developers/'+this[_0x5b53a8(0x61b)]+'/'+_0x596435+'/'+_0x2a7e0e),{'storage':_0x272b9d,'timestamp':(0x0,_0x1b5a26[_0x5b53a8(0x92e)])()});}['logBatch'](){const _0x54e5f5=_0x128a0b;this['currentBatch']&&(this[_0x54e5f5(0x339)][_0x54e5f5(0x87c)]+=0x1,this[_0x54e5f5(0x339)][_0x54e5f5(0x87c)]===this[_0x54e5f5(0x6d1)]?this[_0x54e5f5(0x30e)]():this[_0x54e5f5(0xa1a)]||(this[_0x54e5f5(0xa1a)]=this[_0x54e5f5(0x471)][_0x54e5f5(0x935)](()=>this[_0x54e5f5(0x30e)](),this[_0x54e5f5(0x6ad)])));}async[_0x128a0b(0x30e)](){const _0x28c0bf=_0x128a0b;if(this[_0x28c0bf(0x339)]){for(this[_0x28c0bf(0x879)][_0x28c0bf(0xa98)](this['currentBatch']),this[_0x28c0bf(0x339)]=this[_0x28c0bf(0x2ee)]();this[_0x28c0bf(0x879)][_0x28c0bf(0xa20)]>0x0;){const _0x54bb19=this['batchQueue'][_0x28c0bf(0x404)]();if(!await this[_0x28c0bf(0x890)](_0x54bb19))break;}clearTimeout(this[_0x28c0bf(0xa1a)]),this[_0x28c0bf(0xa1a)]=void 0x0;}}[_0x128a0b(0x5b5)](_0x4bae83,_0x2a104b,..._0xcc1e32){const _0x318519=_0x128a0b;if(console['error'](new Date(),_0x4bae83,_0x2a104b,..._0xcc1e32),this['loggingConnectors']){const _0xac8655={'vendorId':this[_0x318519(0x61b)],..._0x2a104b};this[_0x318519(0x561)]['forEach'](_0x46c3e0=>{const _0x57c69d=_0x318519;_0x46c3e0[_0x57c69d(0x5b5)](_0x4bae83,_0xac8655);});}}[_0x128a0b(0x1c3)](_0x59599e,_0x1c0bc7,..._0x3c42e4){const _0x179c58=_0x128a0b;if(console[_0x179c58(0xa77)](new Date(),_0x59599e,_0x1c0bc7,_0x3c42e4),this[_0x179c58(0x561)]){const _0x49f70f={'vendorId':this[_0x179c58(0x61b)],..._0x1c0bc7};this['loggingConnectors'][_0x179c58(0x8b3)](_0x3ae3b7=>{const _0x1c6e46=_0x179c58;_0x3ae3b7[_0x1c6e46(0xa77)](_0x59599e,_0x49f70f);});}}['isChannelEnabled'](_0x27eedc){const _0x445bd3=_0x128a0b;return this[_0x445bd3(0x419)][_0x445bd3(0x6b7)](_0x27eedc);}async[_0x128a0b(0x890)](_0x23ffff,_0xe8fd02=0x0){const _0x5c396b=_0x128a0b;if(_0x23ffff['counter']>0x0)try{return await _0x23ffff[_0x5c396b(0x654)][_0x5c396b(0x8ae)](),!0x0;}catch(_0xf887b8){if(console['error'](_0x5c396b(0x666),_0xf887b8,_0x5c396b(0x855),_0x23ffff[_0x5c396b(0x6bf)]),!(_0xe8fd02<this[_0x5c396b(0x7eb)])){const {nodeId:_0x28a359='',nodeType:_0x7ea84d='',clusterId:_0x978528=''}=_0x23ffff['operations'][0x0]['data'],_0x53fa43={'nodeId':_0x28a359,'nodeType':_0x7ea84d,'clusterId':_0x978528,'data':{'operations':_0x23ffff[_0x5c396b(0x6bf)],'error':_0xf887b8}};return this[_0x5c396b(0x5b5)](_0x5c396b(0x5a5),_0x53fa43),!0x1;}{const _0x168288=this[_0x5c396b(0x4bc)](_0x23ffff['operations']);setTimeout(()=>this[_0x5c396b(0x890)](_0x168288,_0xe8fd02+0x1),this[_0x5c396b(0x76d)]*Math['pow'](0x2,_0xe8fd02));}}}[_0x128a0b(0x9f7)](){const _0x50cd22=_0x128a0b;try{Object[_0x50cd22(0x321)](_0x1367fe)[_0x50cd22(0x8b3)](_0x4a63a2=>{const _0xa41837=_0x50cd22,_0x4f84c8=_0x4a63a2;localStorage[_0xa41837(0x194)]('crewdle-sdk-logging-'+_0x1367fe[_0x4f84c8])&&(console['log']('LoggingService:\x20logging\x20enabled\x20for',_0x1367fe[_0x4f84c8]),this['enabledChannels'][_0xa41837(0xa98)](_0x1367fe[_0x4f84c8]));});}catch(_0x146ed8){}}[_0x128a0b(0x780)](_0x2c0d03){const _0x5ec867=_0x128a0b;return void 0x0!==_0x2c0d03[_0x5ec867(0x21b)];}[_0x128a0b(0x2ee)](){const _0x402ff5=_0x128a0b;return{'batch':(0x0,_0x1b5a26[_0x402ff5(0x308)])(_0x342bc8[_0x402ff5(0x263)]()),'operations':[],'counter':0x0};}[_0x128a0b(0x4bc)](_0x447f7e){const _0x14042a=_0x128a0b,_0x5b45ef=(0x0,_0x1b5a26['writeBatch'])(_0x342bc8[_0x14042a(0x263)]());return _0x447f7e[_0x14042a(0x8b3)](_0x500ab4=>this[_0x14042a(0x2c7)](_0x5b45ef,_0x500ab4)),{'batch':_0x5b45ef,'operations':_0x447f7e,'counter':_0x447f7e[_0x14042a(0xa20)]};}['addBatchOperation'](_0x5c980f,_0x51a5ab){const _0x41aaad=_0x128a0b;switch(_0x51a5ab[_0x41aaad(0x7dd)]){case'set':_0x5c980f[_0x41aaad(0x663)](_0x51a5ab[_0x41aaad(0xabc)],_0x51a5ab[_0x41aaad(0xaae)]);break;case _0x41aaad(0x603):_0x5c980f[_0x41aaad(0x603)](_0x51a5ab[_0x41aaad(0xabc)],_0x51a5ab[_0x41aaad(0xaae)]);break;case'delete':_0x5c980f[_0x41aaad(0x560)](_0x51a5ab[_0x41aaad(0xabc)]);}}['createBatchOperation'](_0x2b9fab,_0x209289){const _0x1efa37=_0x128a0b;this['currentBatch']||(this[_0x1efa37(0x339)]=this[_0x1efa37(0x2ee)]());const _0x135abc=(0x0,_0x1b5a26[_0x1efa37(0x1ff)])((0x0,_0x1b5a26[_0x1efa37(0x952)])(_0x342bc8['getFirestore'](),'developers/'+this[_0x1efa37(0x61b)]+_0x1efa37(0x1be))),_0x4eaf84={..._0x209289,'service':_0x2b9fab,'timestamp':(0x0,_0x1b5a26['serverTimestamp'])()},_0x38e9be={'type':_0x1efa37(0x663),'path':_0x135abc[_0x1efa37(0x8c9)],'ref':_0x135abc,'data':_0x4eaf84};return this[_0x1efa37(0x339)][_0x1efa37(0x6bf)]['push'](_0x38e9be),this[_0x1efa37(0x2c7)](this[_0x1efa37(0x339)]['batch'],_0x38e9be),_0x135abc;}}const _0x265260=_0x2df4f3[_0x128a0b(0x2cc)]();function _0x348932(_0x6d09f,_0x3bcbac){return'/'===_0x6d09f?_0x6d09f+_0x3bcbac:_0x6d09f+'/'+_0x3bcbac;}function _0x4aedae(_0x26db8a){const _0x37e951=_0x128a0b,_0x314a80=function(_0xdd521b){const _0x4a6a3a=a0_0xdea0;return _0xdd521b[_0x4a6a3a(0x302)]('/')['filter'](_0x58652a=>_0x58652a[_0x4a6a3a(0xa20)]>0x0);}(_0x26db8a),_0x77a7bc=_0x314a80[_0x37e951(0x718)]()||'',_0x5c7fa1=_0x314a80[_0x37e951(0x406)]('/');return[0x0===_0x5c7fa1[_0x37e951(0xa20)]?'/':_0x5c7fa1,_0x77a7bc];}async function _0x2f5494(_0x240379){const _0x583d34=_0x128a0b;let _0x1c5406;const _0x3b3349=_0x240379[_0x583d34(0x388)]/0x100000;_0x1c5406=_0x3b3349<=0xa?0x1:_0x3b3349<=0x64?0.5:_0x3b3349<=0x1f4?0.1:0.05;const _0x5e6d2d=Math['ceil'](_0x240379[_0x583d34(0x388)]/_0x3ab506),_0x34f608=Math[_0x583d34(0x72b)](_0x5e6d2d*_0x1c5406);let _0x518cd5=new Uint8Array();for(let _0x43014d=0x0;_0x43014d<_0x34f608;_0x43014d++){const _0x529c73=Math['floor'](_0x43014d/_0x34f608*_0x240379[_0x583d34(0x388)]);let _0x5c6c6d=_0x529c73+_0x3ab506;_0x5c6c6d>_0x240379[_0x583d34(0x388)]&&(_0x5c6c6d=_0x240379[_0x583d34(0x388)]);const _0x166f7a=_0x240379['slice'](_0x529c73,_0x5c6c6d),_0x497d70=await _0x166f7a[_0x583d34(0xa35)](),_0x5b3804=new Uint8Array([..._0x518cd5,...new Uint8Array(_0x497d70)]);_0x518cd5=new Uint8Array(await crypto[_0x583d34(0xa31)][_0x583d34(0x1af)](_0x583d34(0x7f1),_0x5b3804));}return Array[_0x583d34(0x1ec)](new Uint8Array(_0x518cd5))['map'](_0x313fda=>_0x313fda[_0x583d34(0x5da)](0x10)[_0x583d34(0x889)](0x2,'0'))[_0x583d34(0x406)]('');}async function*_0xefb4f3(_0x497878,_0x528f30=0x0,_0x119002){const _0x1734a5=_0x128a0b;let _0x5852de=_0x528f30*_0x5c06b7,_0x43947d=_0x497878;for(;_0x5852de<_0x43947d['size'];){let _0x55da9a=_0x5852de+_0x5c06b7;_0x55da9a>_0x43947d[_0x1734a5(0x388)]&&(_0x55da9a=_0x43947d[_0x1734a5(0x388)]);let _0x19a8ea=0x0;for(;_0x19a8ea<0x14;)try{await _0x119002?.();const _0x220bb2=_0x43947d[_0x1734a5(0x659)](_0x5852de,_0x55da9a,'application/octet-stream'),_0x496eda=await _0x220bb2[_0x1734a5(0xa35)]();yield _0x496eda,_0x5852de=_0x55da9a,await new Promise(_0x351d3d=>setTimeout(_0x351d3d,0x0));break;}catch(_0x47d2bc){if(console[_0x1734a5(0x5b5)]('Error\x20reading\x20file\x20chunk\x20after\x20'+(_0x19a8ea+0x1)+'\x20attempts:',_0x47d2bc),_0x19a8ea++,_0x19a8ea>0x14)throw _0x47d2bc;let _0x113965=0x3e8*Math[_0x1734a5(0x3c7)](0x2,_0x19a8ea);_0x113965>0x7530&&(_0x113965=0x7530),await new Promise(_0x3e31b4=>setTimeout(_0x3e31b4,_0x113965));}}}class _0x5973c2 extends _0x3c7410{[_0x128a0b(0x7c2)];['incomingTopic'];['fileChunks']=new Map();[_0x128a0b(0x5e4)]=0x0;[_0x128a0b(0x68a)]=0x0;[_0x128a0b(0x9dc)]=0x0;[_0x128a0b(0xa43)]=0x0;constructor(_0x5d327d,_0x457348){super(_0x5d327d,_0x457348);}[_0x128a0b(0x5d1)](){const _0x56f84b=_0x128a0b;return this[_0x56f84b(0x9ce)];}['getName'](){const _0x46265c=_0x128a0b;return this[_0x46265c(0x9ce)];}['getContentType'](){const _0x5a4d36=_0x128a0b;return _0x16f74[_0x5a4d36(0x6f5)][_0x5a4d36(0x743)];}[_0x128a0b(0x1e9)](){const _0x57afab=_0x128a0b;return this[_0x57afab(0x9ce)];}[_0x128a0b(0x6d6)](_0x22243c){const _0x2cd109=_0x128a0b;if(this[_0x2cd109(0x7c2)])throw new _0x4204a5(_0x4204a5[_0x2cd109(0x7f9)][_0x2cd109(0x433)],{'message':_0x2cd109(0x79e)+this[_0x2cd109(0x25a)]['getId']()+_0x2cd109(0x69f)+this['label'],'topic':this[_0x2cd109(0x7c2)]});this[_0x2cd109(0x7c2)]=_0x22243c;}[_0x128a0b(0x532)](_0x3fb809){const _0x55636a=_0x128a0b;if(this[_0x55636a(0xae7)])throw new _0x4204a5(_0x4204a5['codes']['InvalidSubscriber'],{'message':_0x55636a(0x47a)+this['owner'][_0x55636a(0x993)]()+_0x55636a(0x69f)+this[_0x55636a(0x9ce)],'topic':this[_0x55636a(0xae7)]});this[_0x55636a(0xae7)]=_0x3fb809;}[_0x128a0b(0x8bc)](){const _0x20d57f=_0x128a0b;delete this[_0x20d57f(0x7c2)];}[_0x128a0b(0x950)](){const _0xe0c136=_0x128a0b;delete this[_0xe0c136(0xae7)];}async[_0x128a0b(0x8d1)](_0x39d036,_0x35dece){const _0x20b633=_0x128a0b;if(_0x265260[_0x20b633(0x552)](_0x1367fe[_0x20b633(0x7a6)],_0x20b633(0x230),this[_0x20b633(0x25a)][_0x20b633(0x993)](),_0x39d036,_0x35dece),this[_0x20b633(0x5e4)]+=0x1,_0x39d036 instanceof File){const _0x553e45=await async function(_0x266a2d){const _0x18df1f=[];for await(const _0x154a0a of _0xefb4f3(_0x266a2d))_0x18df1f['push'](_0x154a0a);return _0x18df1f;}(_0x39d036);return this[_0x20b633(0x9dc)]+=_0x553e45[_0x20b633(0x959)]((_0x91255c,_0x581755)=>_0x91255c+_0x581755[_0x20b633(0x452)],0x0),void _0x553e45[_0x20b633(0x8b3)]((_0x4441d7,_0x305431)=>{const _0x46a4be=_0x20b633;this[_0x46a4be(0x7c2)][_0x46a4be(0x56d)]({'sourceId':this[_0x46a4be(0x25a)][_0x46a4be(0x993)](),'destinationIds':_0x35dece,'propagate':!0x0,'contentType':_0x16f74[_0x46a4be(0x6f5)][_0x46a4be(0x21c)],'content':{'name':_0x39d036[_0x46a4be(0x3d4)],'type':_0x39d036[_0x46a4be(0x7dd)],'data':_0x4441d7,'index':_0x305431,'total':_0x553e45[_0x46a4be(0xa20)]}});});}this[_0x20b633(0x9dc)]+=JSON[_0x20b633(0x30b)](_0x39d036)[_0x20b633(0xa20)],this[_0x20b633(0x7c2)]['publish']({'sourceId':this[_0x20b633(0x25a)][_0x20b633(0x993)](),'destinationIds':_0x35dece,'propagate':!0x0,'contentType':_0x16f74[_0x20b633(0x6f5)][_0x20b633(0x743)],'content':_0x39d036});}[_0x128a0b(0x1d7)](_0x26621e){const _0x2a3e75=_0x128a0b;return this[_0x2a3e75(0xae7)]['subscribe'](_0x4f9c53=>{const _0x21c4c6=_0x2a3e75;switch(_0x265260[_0x21c4c6(0x552)](_0x1367fe['DataStream'],_0x21c4c6(0x401),this[_0x21c4c6(0x25a)][_0x21c4c6(0x993)](),_0x4f9c53),_0x4f9c53[_0x21c4c6(0x9c9)]){case _0x16f74[_0x21c4c6(0x6f5)]['Data']:this[_0x21c4c6(0x68a)]+=0x1,this[_0x21c4c6(0xa43)]+=JSON[_0x21c4c6(0x30b)](_0x4f9c53[_0x21c4c6(0x95d)])[_0x21c4c6(0xa20)],_0x26621e(_0x4f9c53[_0x21c4c6(0x898)],_0x4f9c53[_0x21c4c6(0x95d)]);break;case _0x16f74[_0x21c4c6(0x6f5)]['File']:this[_0x21c4c6(0xaf0)][_0x21c4c6(0x301)](_0x4f9c53[_0x21c4c6(0x95d)]['name'])||this[_0x21c4c6(0xaf0)][_0x21c4c6(0x663)](_0x4f9c53[_0x21c4c6(0x95d)]['name'],{'chunksReceived':0x0,'bytesReceived':0x0,'checksum':'','content':[]});const _0x5f43d6=this[_0x21c4c6(0xaf0)][_0x21c4c6(0x8b0)](_0x4f9c53['content'][_0x21c4c6(0x3d4)]);if(_0x5f43d6[_0x21c4c6(0x1e2)]+=0x1,_0x5f43d6[_0x21c4c6(0xa43)]+=_0x4f9c53[_0x21c4c6(0x95d)][_0x21c4c6(0xaae)]['byteLength'],_0x5f43d6['content']&&(_0x5f43d6[_0x21c4c6(0x95d)][_0x4f9c53[_0x21c4c6(0x95d)]['index']]=_0x4f9c53[_0x21c4c6(0x95d)]['data']),this[_0x21c4c6(0xaf0)][_0x21c4c6(0x663)](_0x4f9c53[_0x21c4c6(0x95d)]['name'],_0x5f43d6),_0x5f43d6['chunksReceived']+0x1<_0x4f9c53[_0x21c4c6(0x95d)][_0x21c4c6(0x3d2)])return;this[_0x21c4c6(0x68a)]+=0x1,this['bytesReceived']+=_0x5f43d6['bytesReceived'],_0x5f43d6[_0x21c4c6(0x95d)]&&_0x26621e(_0x4f9c53[_0x21c4c6(0x898)],(_0x16fdb3=_0x5f43d6[_0x21c4c6(0x95d)],_0x44ce32=_0x4f9c53['content'][_0x21c4c6(0x3d4)],_0x4d9763=_0x4f9c53[_0x21c4c6(0x95d)]['type'],new File(_0x16fdb3,_0x44ce32,{'type':_0x4d9763}))),this[_0x21c4c6(0xaf0)]['delete'](_0x4f9c53['content'][_0x21c4c6(0x3d4)]);}var _0x16fdb3,_0x44ce32,_0x4d9763;});}}function _0x41572e(){const _0x10e05a=_0x128a0b;let _0x435c5a=[];return{'subscribe':_0x3c6628=>(_0x435c5a[_0x10e05a(0xa98)](_0x3c6628),()=>{_0x435c5a=_0x435c5a['filter'](_0x192e14=>_0x192e14!==_0x3c6628);}),'publish':_0x3fa364=>{const _0x26f733=_0x10e05a;_0x435c5a[_0x26f733(0x8b3)](_0x483c16=>_0x483c16(_0x3fa364));}};}function _0x426138(){let _0xfca136;return{'subscribe':_0x1b428d=>(_0xfca136=_0x1b428d,()=>{_0xfca136=void 0x0;}),'publish':_0xbf1322=>{_0xfca136&&_0xfca136(_0xbf1322);}};}class _0x58a98f{['connector'];[_0x128a0b(0xa28)];['tableObserver'];[_0x128a0b(0xa10)]=_0x426138();[_0x128a0b(0x8f0)];constructor(_0x17c48b,_0x1e8249,_0x529316){const _0x1faa02=_0x128a0b;this[_0x1faa02(0x693)]=_0x17c48b,this[_0x1faa02(0xa28)]=_0x1e8249,this[_0x1faa02(0x48c)]=_0x529316;}['destroy'](){this['listenerUnsubscriber']?.();}async[_0x128a0b(0x8b0)](_0x3f73d8){const _0x458aa4=_0x128a0b,_0x519a0b={'key':_0x3f73d8,'tableName':this['tableName'],'action':_0x67187c[_0x458aa4(0xada)]};return this[_0x458aa4(0x48c)][_0x458aa4(0x56d)](_0x519a0b),this[_0x458aa4(0x693)]['get'](_0x3f73d8);}async[_0x128a0b(0x663)](_0x2b05b2,_0x41d1dd,_0x12b1f3=!0x0){const _0x333c7f=_0x128a0b;this['validateValue'](_0x41d1dd);const _0x6caad4=await this['connector'][_0x333c7f(0x8b0)](_0x2b05b2),_0x23995a=await this[_0x333c7f(0x693)]['set'](_0x2b05b2,_0x41d1dd),_0x3b8ffc=_0x6caad4?_0x5624f8[_0x333c7f(0xa5f)]:_0x5624f8['Add'];if(this['publish'](_0x3b8ffc,_0x23995a),!_0x12b1f3)return _0x23995a;const _0x14d10f={'key':_0x2b05b2,'tableName':this['tableName'],'action':_0x3b8ffc,'value':_0x23995a};return this[_0x333c7f(0x48c)][_0x333c7f(0x56d)](_0x14d10f),_0x23995a;}async[_0x128a0b(0x368)](_0xe5297f){const _0x34490e=_0x128a0b;this[_0x34490e(0xacf)](_0xe5297f);const _0x46e07e=await this[_0x34490e(0x693)][_0x34490e(0x368)](_0xe5297f),_0x2a1e34={'key':_0x46e07e['id'],'tableName':this[_0x34490e(0xa28)],'action':_0x5624f8[_0x34490e(0xaaa)],'value':_0x46e07e};return this[_0x34490e(0x48c)][_0x34490e(0x56d)](_0x2a1e34),this[_0x34490e(0x56d)](_0x2a1e34[_0x34490e(0xa33)],_0x46e07e),_0x46e07e;}async[_0x128a0b(0x560)](_0x49085d,_0x399227=!0x0){const _0x478f51=_0x128a0b,_0x369352=await this[_0x478f51(0x693)]['get'](_0x49085d);if(!_0x369352)return;await this['connector'][_0x478f51(0x560)](_0x49085d);const _0x12a47f=_0x5624f8['Delete'];if(this[_0x478f51(0x56d)](_0x12a47f,_0x369352),!_0x399227)return;const _0xcd675f={'key':_0x49085d,'tableName':this[_0x478f51(0xa28)],'action':_0x12a47f,'value':_0x369352};this[_0x478f51(0x48c)]['publish'](_0xcd675f);}async[_0x128a0b(0x9e4)](){const _0xbd92f3=_0x128a0b,_0x3daed8=await this[_0xbd92f3(0x622)]();for(const _0x40f325 of _0x3daed8){const _0x14ae85=_0x5624f8[_0xbd92f3(0x7b3)];this[_0xbd92f3(0x56d)](_0x14ae85,_0x40f325);const _0x2fa272={'key':_0x40f325['id'],'tableName':this[_0xbd92f3(0xa28)],'action':_0x14ae85,'value':_0x40f325};this[_0xbd92f3(0x48c)]['publish'](_0x2fa272);}return this[_0xbd92f3(0x693)][_0xbd92f3(0x9e4)]();}async[_0x128a0b(0x622)](_0x3d93b1){const _0x2b9fc1=_0x128a0b,_0xf61e44={'key':'','tableName':this['tableName'],'action':_0x67187c[_0x2b9fc1(0x644)]};this[_0x2b9fc1(0x48c)]['publish'](_0xf61e44);try{_0x3d93b1&&(_0x3d93b1=_0x3d93b1 instanceof _0x476da4?_0x3d93b1[_0x2b9fc1(0x6c5)]():_0x476da4[_0x2b9fc1(0xa9f)](_0x3d93b1)[_0x2b9fc1(0x6c5)]());}catch(_0x5b9e23){throw new _0x325cc6(_0x3336f9[_0x2b9fc1(0x871)],_0x2b9fc1(0x46a));}try{return await this[_0x2b9fc1(0x693)][_0x2b9fc1(0x622)](_0x3d93b1);}catch(_0x5d2334){let _0x225adf=_0x2b9fc1(0x46a);throw _0x5d2334 instanceof Error&&(_0x225adf=_0x5d2334[_0x2b9fc1(0x94c)]),new _0x325cc6(_0x3336f9[_0x2b9fc1(0x871)],_0x225adf);}}async[_0x128a0b(0x7c0)](_0x26fa94){const _0x37786f=_0x128a0b,_0x270dca={'key':'','tableName':this[_0x37786f(0xa28)],'action':_0x67187c['Count']};this[_0x37786f(0x48c)]['publish'](_0x270dca);try{_0x26fa94&&(_0x26fa94=_0x26fa94 instanceof _0x476da4?_0x26fa94[_0x37786f(0x6c5)]():_0x476da4['buildQuery'](_0x26fa94)[_0x37786f(0x6c5)]());}catch(_0x45e568){throw new _0x325cc6(_0x3336f9[_0x37786f(0x871)],_0x37786f(0x46a));}try{return await this[_0x37786f(0x693)][_0x37786f(0x7c0)](_0x26fa94);}catch(_0x34aa71){let _0x54b41f=_0x37786f(0x46a);throw _0x34aa71 instanceof Error&&(_0x54b41f=_0x34aa71[_0x37786f(0x94c)]),new _0x325cc6(_0x3336f9[_0x37786f(0x871)],_0x54b41f);}}[_0x128a0b(0x5ce)](){const _0x46bfee=_0x128a0b;return this[_0x46bfee(0x693)][_0x46bfee(0x5ce)]();}['subscribe'](_0x353690){const _0x359a7b=_0x128a0b;this[_0x359a7b(0x8f0)]=this[_0x359a7b(0xa10)]['subscribe'](_0x353690);}[_0x128a0b(0x3b0)](){const _0x3dce86=_0x128a0b;this[_0x3dce86(0x8f0)]?.();}[_0x128a0b(0x56d)](_0x436810,_0x3e134c){const _0x17eb8d=_0x128a0b,_0x5801fd=this[_0x17eb8d(0x9e5)](_0x436810,_0x3e134c);this[_0x17eb8d(0xa10)][_0x17eb8d(0x56d)](_0x5801fd);}['buildTableEvent'](_0x5ac495,_0x557422){const _0x5e08a3=_0x128a0b;let _0x21ae67;switch(_0x5ac495){case _0x5624f8[_0x5e08a3(0xaaa)]:_0x21ae67=_0x5e08a3(0x368);break;case _0x5624f8['Update']:_0x21ae67=_0x5e08a3(0x603);break;case _0x5624f8['Delete']:_0x21ae67=_0x5e08a3(0x560);}return{'action':_0x21ae67,'value':_0x557422};}[_0x128a0b(0xacf)](_0x43c15c){const _0x1ee55f=_0x128a0b;if(_0x1ee55f(0xa3a)!=typeof _0x43c15c||null===_0x43c15c)throw new _0x325cc6(_0x3336f9['KeyValueDatabaseInvalidValue'],_0x1ee55f(0x7da));for(const _0x643d31 in _0x43c15c){const _0x3532c0=_0x43c15c[_0x643d31];if(_0x1ee55f(0xa3a)!=typeof _0x3532c0||_0x3532c0 instanceof Date){if(![_0x1ee55f(0x55c),_0x1ee55f(0x762),_0x1ee55f(0x862)][_0x1ee55f(0x6b7)](typeof _0x3532c0))throw new _0x325cc6(_0x3336f9[_0x1ee55f(0x39a)],_0x1ee55f(0x5fe)+_0x643d31+_0x1ee55f(0x34c));}else this[_0x1ee55f(0xacf)](_0x3532c0);}}}class _0x251816{[_0x128a0b(0x498)]=[];['totalNodes']=0x0;[_0x128a0b(0x885)]=[];[_0x128a0b(0xadb)]=!0x1;['cachedRoot']=null;[_0x128a0b(0x9bb)]=null;[_0x128a0b(0x2c1)];[_0x128a0b(0x4e2)]=null;[_0x128a0b(0x4e6)]=[];['debounceReadyTimeout'];[_0x128a0b(0x7dc)]=Promise[_0x128a0b(0x913)]();[_0x128a0b(0x4ef)]=0x0;constructor(){}get[_0x128a0b(0x317)](){const _0x220dd6=_0x128a0b;return this[_0x220dd6(0x7dc)];}async[_0x128a0b(0x40b)](_0x2d6c52,_0x301bf9=0x0){const _0x3c5bf9=_0x128a0b;this[_0x3c5bf9(0x4e2)]||(this['_ready']=new Promise(_0x523de2=>{this['readyResolve']=_0x523de2;}),this[_0x3c5bf9(0x4ef)]=_0x301bf9);const _0x66d6ae=Date[_0x3c5bf9(0x85a)]();if(this[_0x3c5bf9(0xadb)])return void this['transactionQueue'][_0x3c5bf9(0xa98)](_0x2d6c52);this[_0x3c5bf9(0xadb)]=!0x0;let _0x5bdf4f={'hash':await this[_0x3c5bf9(0xa13)](_0x2d6c52),'height':0x0};const _0x17752f=this[_0x3c5bf9(0x1d3)](_0x5bdf4f);this[_0x3c5bf9(0x4e6)][_0x3c5bf9(0xa98)](_0x17752f),await _0x17752f,this[_0x3c5bf9(0x6e1)]+=0x1;const _0x4c549d=this[_0x3c5bf9(0x885)]['length'];for(;this[_0x3c5bf9(0x885)][_0x3c5bf9(0xa20)]>0x0;){const _0x206a2a=this[_0x3c5bf9(0x885)][_0x3c5bf9(0x404)]();await this[_0x3c5bf9(0x40b)](_0x206a2a);}this[_0x3c5bf9(0x4b9)](),await this['ready'],this[_0x3c5bf9(0x291)](_0x66d6ae,_0x4c549d);}async['getRoot'](){const _0x5c041b=_0x128a0b;return await this[_0x5c041b(0x7dc)],this[_0x5c041b(0xadb)]?(this[_0x5c041b(0x9bb)]||(this[_0x5c041b(0x9bb)]=this['recomputeRoot']()),await this[_0x5c041b(0x9bb)]):this[_0x5c041b(0xb15)];}[_0x128a0b(0x8c1)](){const _0x22074d=_0x128a0b;return this[_0x22074d(0x498)][_0x22074d(0x8ac)](({hash:_0x1aaab9,height:_0x52a79d})=>({'hash':_0x1aaab9,'height':_0x52a79d}));}[_0x128a0b(0x226)](){const _0x3885df=_0x128a0b;return this[_0x3885df(0x6e1)];}[_0x128a0b(0x665)](_0x24a3c3){const _0x51cee1=_0x128a0b;return this['peaks']['find'](_0x47e18c=>_0x47e18c[_0x51cee1(0x713)]===_0x24a3c3);}async[_0x128a0b(0x926)](_0x4ebeb9,_0x34afcc){const _0x51ef32=_0x128a0b;return await this[_0x51ef32(0x309)](_0x4ebeb9+_0x34afcc);}async['hashTransaction'](_0xb22116){const _0x187857=_0x128a0b;return await this[_0x187857(0x309)](JSON[_0x187857(0x30b)](_0xb22116));}['comparePeaks'](_0x3f9b9f){const _0xc3bf71=_0x128a0b,_0x23ba1f=this[_0xc3bf71(0x8c1)](),_0x2a4cb6=[],_0x5d566e=[],_0xe5dea8=[];for(const _0x21134b of _0x23ba1f){const _0x162139=_0x3f9b9f[_0xc3bf71(0x5cf)](_0x56a1e1=>_0x56a1e1['height']===_0x21134b['height']);_0x162139?_0x21134b[_0xc3bf71(0x94d)]!==_0x162139[_0xc3bf71(0x94d)]&&_0x2a4cb6['push']({'height':_0x21134b[_0xc3bf71(0x713)],'localPeak':_0x21134b,'remotePeak':_0x162139}):_0x5d566e[_0xc3bf71(0xa98)](_0x21134b);}for(const _0x133a8e of _0x3f9b9f)_0x23ba1f[_0xc3bf71(0x5cf)](_0x334909=>_0x334909[_0xc3bf71(0x713)]===_0x133a8e[_0xc3bf71(0x713)])||_0xe5dea8[_0xc3bf71(0xa98)](_0x133a8e);return{'differingPeaks':_0x2a4cb6,'peaksMissingInRemote':_0x5d566e,'peaksMissingInLocal':_0xe5dea8};}async[_0x128a0b(0xa08)](){const _0x9d7a20=_0x128a0b;this[_0x9d7a20(0xadb)]=!0x0;const _0x5653a3=this[_0x9d7a20(0x498)][_0x9d7a20(0x8ac)](_0x21e0c4=>_0x21e0c4['hash']);return this['cachedRoot']=await this[_0x9d7a20(0x8a3)](_0x5653a3),this['isComputingMMR']=!0x1,this['rootComputationPromise']=null,this[_0x9d7a20(0x4b9)](),this[_0x9d7a20(0xb15)];}async['computeHash'](_0x19442b){const _0x101d40=_0x128a0b;try{const _0x3eb730=new TextEncoder()['encode'](_0x19442b),_0x5a9650=await crypto[_0x101d40(0xa31)][_0x101d40(0x1af)](_0x101d40(0x7f1),_0x3eb730);return Array[_0x101d40(0x1ec)](new Uint8Array(_0x5a9650))['map'](_0x535cdd=>_0x535cdd[_0x101d40(0x5da)](0x10)[_0x101d40(0x889)](0x2,'0'))[_0x101d40(0x406)]('');}catch(_0x19c49b){return console[_0x101d40(0x5b5)](_0x101d40(0x581),_0x19c49b),this[_0x101d40(0x309)](_0x19442b);}}async[_0x128a0b(0x8a3)](_0x49c5a4){const _0x2fba67=_0x128a0b;return await this[_0x2fba67(0x309)](_0x49c5a4[_0x2fba67(0x406)](''));}async[_0x128a0b(0x1d3)](_0x1b4548){const _0xee8dcc=_0x128a0b;for(;this[_0xee8dcc(0x498)]['length']>0x0&&this[_0xee8dcc(0x498)][this[_0xee8dcc(0x498)]['length']-0x1][_0xee8dcc(0x713)]===_0x1b4548[_0xee8dcc(0x713)];){const _0xe2db3c=this[_0xee8dcc(0x498)]['pop']();_0x1b4548={'hash':await this[_0xee8dcc(0x926)](_0xe2db3c['hash'],_0x1b4548[_0xee8dcc(0x94d)]),'left':_0xe2db3c,'right':_0x1b4548,'height':_0x1b4548[_0xee8dcc(0x713)]+0x1};}this[_0xee8dcc(0x498)][_0xee8dcc(0xa98)](_0x1b4548),await this[_0xee8dcc(0xa08)]();}[_0x128a0b(0x291)](_0x46a845,_0x3c6a30){const _0x5d2fa4=_0x128a0b;if(!_0x265260[_0x5d2fa4(0x722)](_0x1367fe[_0x5d2fa4(0xa05)]))return;this['debounceLogTimeout']&&clearTimeout(this[_0x5d2fa4(0x2c1)]);const _0x1b5b38=Date[_0x5d2fa4(0x85a)]();this['debounceLogTimeout']=setTimeout(()=>_0x265260[_0x5d2fa4(0x552)](_0x1367fe[_0x5d2fa4(0xa05)],_0x5d2fa4(0x257),this[_0x5d2fa4(0xb15)],'nodes',this[_0x5d2fa4(0x226)](),_0x5d2fa4(0x608),_0x3c6a30,_0x5d2fa4(0x714),_0x1b5b38-_0x46a845),0x7d0);}[_0x128a0b(0x4b9)](){const _0x52ac6b=_0x128a0b;this[_0x52ac6b(0x2c6)]&&clearTimeout(this[_0x52ac6b(0x2c6)]),this['debounceReadyTimeout']=setTimeout(async()=>{const _0x495d4e=_0x52ac6b;try{const _0xe6a740=this[_0x495d4e(0x4e6)];if(this['readyPromises']=[],await Promise[_0x495d4e(0x33e)](_0xe6a740),this[_0x495d4e(0x4ef)]-=_0xe6a740['length'],this[_0x495d4e(0x4e6)]['length']>0x0||this['expectedTransactions']>0x0)return this[_0x495d4e(0x4b9)]();this[_0x495d4e(0x4e2)]&&(this[_0x495d4e(0x4e2)](),this[_0x495d4e(0x4e2)]=null),this[_0x495d4e(0x7dc)]=Promise['resolve'](),this['isComputingMMR']=!0x1;}catch(_0x57d892){console[_0x495d4e(0x5b5)](_0x495d4e(0x823),_0x57d892);}},0xa);}}const _0x2eae04=[_0x128a0b(0x9b3),'Node',_0x128a0b(0x40d),_0x128a0b(0x533),_0x128a0b(0x1a6),_0x128a0b(0xa6b),_0x128a0b(0x812)],_0x4a6e82=[[_0x128a0b(0x56b),_0x128a0b(0x8d4),_0x128a0b(0x489),_0x128a0b(0x99f),_0x128a0b(0x7c8),_0x128a0b(0x57f),_0x128a0b(0x3e7),_0x128a0b(0x1a6),_0x128a0b(0x3de)],[_0x128a0b(0x750),'NodeUpdate',_0x128a0b(0x220),_0x128a0b(0x75e)],['CloseGraphDatabase',_0x128a0b(0x656),'CloseJobWorker','CloseExternalStorageConnection',_0x128a0b(0x218),_0x128a0b(0x570),_0x128a0b(0x7cc),'ClosePubSubTopic',_0x128a0b(0x596),_0x128a0b(0x611),_0x128a0b(0x86e),_0x128a0b(0x6a1),_0x128a0b(0x1bb),_0x128a0b(0x49f),_0x128a0b(0x882),_0x128a0b(0x4da),_0x128a0b(0x464),_0x128a0b(0x364),_0x128a0b(0x7c5),_0x128a0b(0x400),_0x128a0b(0xa3d),_0x128a0b(0x9a6),_0x128a0b(0x2c8),_0x128a0b(0xa45),_0x128a0b(0x78e),_0x128a0b(0x89a),_0x128a0b(0x95e),_0x128a0b(0x59c),_0x128a0b(0x239),_0x128a0b(0x4fa)],[_0x128a0b(0x89a),_0x128a0b(0x239),_0x128a0b(0x405),_0x128a0b(0x3d5),_0x128a0b(0x519),'MediaStreamUnavailable'],[_0x128a0b(0x77f),'LocalReport'],[_0x128a0b(0x69c)],[_0x128a0b(0x812),_0x128a0b(0x61c)]];function _0x4bdc7c(_0xb12021){const _0x108710=_0x128a0b;return{..._0xb12021,'systemMessageType':_0x2eae04[_0xb12021[_0x108710(0x9a4)]],'systemContentMessageType':_0x4a6e82[_0xb12021[_0x108710(0x9a4)]][_0xb12021[_0x108710(0x95d)]['type']]};}const _0x25d1d2={'hour':_0x128a0b(0x77b),'minute':_0x128a0b(0x77b),'second':_0x128a0b(0x77b)};function _0x49bf91(_0x5d2d2a,_0x3f3d9c){const _0x4e434f=_0x128a0b,_0x5ac536=(function(){const _0x23d749=a0_0xdea0,_0x2dffd3=new Date(),_0x4c1aef=_0x2dffd3[_0x23d749(0x9a7)](),_0x455f42=_0x2dffd3[_0x23d749(0x87e)](_0x23d749(0x2f2),_0x25d1d2)[_0x23d749(0xa1f)](/\d\d:\d\d:\d\d/)?.[0x0];return _0x455f42+'.'+(_0x4c1aef>0x64?''+_0x4c1aef:_0x4c1aef>0xa?'0'+_0x4c1aef:'00'+_0x4c1aef);}()),{sourceId:_0x77ec19,destinationIds:_0x487930,systemMessageType:_0x183719,systemContentMessageType:_0x241ca3}=_0x4bdc7c(_0x5d2d2a);return _0x5ac536+'\x20-\x20'+_0x3f3d9c+_0x4e434f(0x69f)+(_0x77ec19===_0x3f3d9c?_0x4e434f(0x8d3)+_0x183719+_0x4e434f(0x66e)+(_0x487930?''+_0x487930:'everyone'):_0x5d2d2a[_0x4e434f(0x898)]===_0x4b0f68?_0x4e434f(0x4ae)+_0x183719+'\x27':(_0x487930?'':_0x4e434f(0x70e))+_0x4e434f(0xae5)+_0x183719+_0x4e434f(0x481)+_0x77ec19)+_0x4e434f(0x9b7)+_0x241ca3+_0x4e434f(0x44e);}function _0x5aa419(_0x1fc007,_0x106f5b){const _0x3182f2=_0x128a0b;if(!_0x265260['isChannelEnabled'](_0x1fc007))return;if(_0x4106b9[_0x3182f2(0x602)])return;if(_0x3182f2(0x730)==typeof process)return;const _0x49109d=process['memoryUsage']();console[_0x3182f2(0x552)](_0x3182f2(0x24d)+_0x106f5b+':');for(const _0x10c88d in _0x49109d)console[_0x3182f2(0x552)]('\x20\x20'+_0x10c88d+':\x20'+(_0x49109d[_0x10c88d]/0x400/0x400)[_0x3182f2(0x835)](0x2)+'\x20MB');}function _0x46d088(_0x5319da,_0x1cfe06){const _0xca7106=_0x128a0b;if(!_0x265260['isChannelEnabled'](_0x1cfe06))return _0x265260[_0xca7106(0x617)]('Logging\x20not\x20enabled\x20for\x20channel\x20'+_0x1cfe06),{'timingLogger':{'start':()=>{},'now':()=>0x0,'logWaitTime':()=>{}},'logger':{'log':()=>{},'performCalculation':(_0x20fad0,_0x28ed16)=>_0x28ed16}};let _0x7e25a2=0x0;return{'timingLogger':((()=>{const _0x4ee9d7=_0xca7106;let _0x184af7=Date['now']();return{'start':()=>{const _0x2d85b8=a0_0xdea0;_0x184af7=Date[_0x2d85b8(0x85a)]();},'now':()=>Date[_0x4ee9d7(0x85a)](),'logWaitTime':_0x2c3ce0=>{const _0x112b90=_0x4ee9d7;_0x7e25a2+=Date['now']()-_0x184af7,_0x265260[_0x112b90(0x552)](_0x1cfe06,_0x2c3ce0,_0x7e25a2+'ms',_0x5319da);}};})()),'logger':{'log':(_0x2976f8,_0xe0eca7=()=>{})=>{const _0x48d42f=_0xca7106,_0x41674e=_0xe0eca7();_0x41674e?_0x265260['log'](_0x1cfe06,_0x2976f8,_0x41674e,_0x5319da):_0x265260[_0x48d42f(0x552)](_0x1cfe06,_0x2976f8,_0x5319da);},'performCalculation':(_0x2d343c,_0x5d094b)=>_0x2d343c()}};}function _0x5f142c(_0x1c09fb){const _0x3e81fc=_0x128a0b;return _0x3e81fc(0x730)==typeof Buffer?0x0:Buffer['byteLength'](JSON[_0x3e81fc(0x30b)](_0x1c09fb),_0x3e81fc(0x732));}function _0x1d25d1(_0x3dae06){const _0x2f4a1a=_0x128a0b;if(0x0===_0x3dae06)return'0\x20B';const _0x565d09=Math[_0x2f4a1a(0x5fc)](Math[_0x2f4a1a(0x552)](_0x3dae06)/Math['log'](0x400));return parseFloat((_0x3dae06/Math[_0x2f4a1a(0x3c7)](0x400,_0x565d09))[_0x2f4a1a(0x835)](0x2))+'\x20'+['B','KB','MB','GB','TB'][_0x565d09];}class _0xc51eec extends _0x5973c2{['localNode'];[_0x128a0b(0x2cd)];[_0x128a0b(0x61b)];['isNodeReady'];['db'];[_0x128a0b(0x5d4)];[_0x128a0b(0x5b3)]=new Map();[_0x128a0b(0x48c)];[_0x128a0b(0x982)];[_0x128a0b(0x26d)];[_0x128a0b(0x98d)];[_0x128a0b(0x976)];[_0x128a0b(0x8e6)]=[];[_0x128a0b(0x2e2)]=()=>{};[_0x128a0b(0x709)];[_0x128a0b(0xa10)]=_0x426138();[_0x128a0b(0x8f0)];[_0x128a0b(0x550)]=[];[_0x128a0b(0x55b)];[_0x128a0b(0xa16)];[_0x128a0b(0xa2c)]=0x0;[_0x128a0b(0x469)]=0x0;[_0x128a0b(0x2c9)]=!0x1;[_0x128a0b(0xab9)]=new _0x251816();[_0x128a0b(0xa70)]=new Map();['transactions']=[];[_0x128a0b(0xa19)];[_0x128a0b(0x8ad)]=[];[_0x128a0b(0x872)];constructor(_0x480721,_0x1bf31d,_0x309357,_0x4cf460,_0x25827e,_0x5875d2,_0x8d442){const _0x12cd5a=_0x128a0b;if(_0x12cd5a(0x55c)!=typeof _0x1bf31d)throw new _0x325cc6(_0x3336f9[_0x12cd5a(0x90b)],_0x12cd5a(0xacd));if(super(_0x480721,_0x1bf31d),this[_0x12cd5a(0x8cc)]=_0x480721,this[_0x12cd5a(0x2cd)]=_0x309357,this['vendorId']=_0x4cf460,this['isNodeReady']=_0x8d442,this[_0x12cd5a(0x5d4)]='ccc'+this[_0x12cd5a(0x61b)]+_0x12cd5a(0x670)+this[_0x12cd5a(0x2cd)]+'ccc'+this[_0x12cd5a(0x9ce)],this[_0x12cd5a(0x48c)]=_0x426138(),this[_0x12cd5a(0x872)]=function(_0x52d2e3,_0x231724){const _0x511918=_0x12cd5a;if(!_0x265260['isChannelEnabled'](_0x231724))return _0x265260[_0x511918(0x617)](_0x511918(0x6f6)+_0x231724),{..._0x46d088(_0x52d2e3,_0x231724),'logDataSent':()=>0x0,'logDataReceived':()=>0x0,'getDataLogged':()=>({'dataSent':_0x511918(0x2af),'dataReceived':_0x511918(0x2af)})};const {timingLogger:_0x9da973,logger:_0x18ac96}=_0x46d088(_0x52d2e3,_0x231724);let _0x122489=0x0,_0x70b28=0x0;return{'timingLogger':_0x9da973,'logger':_0x18ac96,'logDataSent':(_0x10301f,_0x727a88=!0x1)=>{const _0x1cf83d=_0x511918,_0x1d8801=_0x5f142c(_0x10301f);return _0x727a88&&_0x265260[_0x1cf83d(0x552)](_0x231724,_0x1cf83d(0x1dc),_0x52d2e3,_0x1d8801),_0x122489+=_0x1d8801,_0x1d8801;},'logDataReceived':(_0x4d8855,_0x277c10=!0x1)=>{const _0x569dac=_0x511918,_0xf4450d=_0x5f142c(_0x4d8855);return _0x277c10&&_0x265260[_0x569dac(0x552)](_0x231724,_0x569dac(0x543),_0x52d2e3,_0xf4450d),_0x70b28+=_0xf4450d,_0xf4450d;},'getDataLogged':()=>({'dataSent':_0x1d25d1(_0x122489),'dataReceived':_0x1d25d1(_0x70b28)})};}(this[_0x12cd5a(0x9ce)],_0x1367fe[_0x12cd5a(0xa05)]),this[_0x12cd5a(0x98d)]=new Promise(_0xf7c93=>{this['syncResolve']=_0xf7c93;}),_0x25827e instanceof _0x1fbd4a)this[_0x12cd5a(0x55b)]=_0x25827e[_0x12cd5a(0x90c)]();else{const [_0x5555e8,_0x24bcc0]=_0x1fbd4a[_0x12cd5a(0x2ce)](_0x25827e);if(!_0x5555e8)throw new _0x325cc6(_0x3336f9[_0x12cd5a(0x6d5)],'Invalid\x20layout:\x20'+_0x24bcc0);this[_0x12cd5a(0x55b)]=structuredClone(_0x25827e);}this[_0x12cd5a(0x4e0)](this[_0x12cd5a(0x55b)]),this['db']=new _0x5875d2(this[_0x12cd5a(0x5d4)],this[_0x12cd5a(0x55b)]),this['sendStats']();}async[_0x128a0b(0xaed)](_0x12963a,_0x526bb4){const _0x19d528=_0x128a0b;if(_0x265260[_0x19d528(0x552)](_0x1367fe[_0x19d528(0xa05)],'Received\x20sync\x20required.\x20Database\x20available:\x20Checking\x20synchronization',this[_0x19d528(0x9ce)]),!this[_0x19d528(0x982)])throw new _0x4204a5(_0x4204a5[_0x19d528(0x7f9)][_0x19d528(0x6c0)]);if(await this[_0x19d528(0x98d)],await this['isNodeReady'](_0x12963a),await this[_0x19d528(0xab9)][_0x19d528(0x6e8)]()===_0x526bb4){const _0x3c57c0={'sourceId':this['localNode']['getId'](),'destinationIds':[_0x12963a],'propagate':!0x0,'messageType':_0x562b7c[_0x19d528(0x40d)],'content':{'type':_0x267eb0[_0x19d528(0x882)],'label':this[_0x19d528(0x9ce)],'mmrRoot':_0x526bb4}};return this[_0x19d528(0x872)]['logDataSent'](_0x3c57c0),void this['systemTopic']['publish'](_0x3c57c0);}const _0x42e8a1=this['mmr']['getPeaks'](),_0x45398c={'sourceId':this[_0x19d528(0x8cc)][_0x19d528(0x993)](),'destinationIds':[_0x12963a],'propagate':!0x0,'messageType':_0x562b7c['Content'],'content':{'type':_0x267eb0['KeyValueDatabaseContentAvailable'],'label':this[_0x19d528(0x9ce)],'peaks':_0x42e8a1}};this[_0x19d528(0x872)][_0x19d528(0x537)](_0x45398c),this[_0x19d528(0x7be)][_0x19d528(0x56d)](_0x45398c);}async['processContentSynchronized'](_0x29480f,_0x1ebddc){const _0x1ceb2c=_0x128a0b,_0x2347c0=await this[_0x1ceb2c(0xab9)][_0x1ceb2c(0x6e8)](),_0x3fb804=_0x2347c0===_0x1ebddc;if(_0x265260['log'](_0x1367fe['KeyValueDatabase'],_0x1ceb2c(0x5a3)+_0x29480f+_0x1ceb2c(0x4a9)+_0x3fb804,this[_0x1ceb2c(0x9ce)]),_0x3fb804)return this[_0x1ceb2c(0x870)](),void this['publishSyncCompleted']();_0x265260['log'](_0x1367fe['KeyValueDatabase'],_0x1ceb2c(0x1d8),_0x2347c0,_0x1ebddc),_0x265260['warning'](_0x1ceb2c(0x1d8),{'nodeId':this[_0x1ceb2c(0x8cc)][_0x1ceb2c(0x993)](),'nodeType':this[_0x1ceb2c(0x8cc)][_0x1ceb2c(0x7dd)],'remoteId':_0x29480f,'data':{'localMMRRoot':_0x2347c0,'remoteMMRRoot':_0x1ebddc}});const _0x280ce8={'sourceId':this[_0x1ceb2c(0x8cc)][_0x1ceb2c(0x993)](),'messageType':_0x562b7c[_0x1ceb2c(0x40d)],'propagate':!0x0,'content':{'type':_0x267eb0['KeyValueDatabaseSyncRequired'],'label':this['label'],'mmrRoot':_0x2347c0}};this[_0x1ceb2c(0x7be)]['publish'](_0x280ce8);}async[_0x128a0b(0x9c6)](_0x18f61f,_0x524afe){const _0x1faca3=_0x128a0b;if(_0x265260[_0x1faca3(0x552)](_0x1367fe['KeyValueDatabase'],_0x1faca3(0x80d),_0x18f61f,_0x1faca3(0x9ce),this[_0x1faca3(0x9ce)],'peaks',_0x524afe),this[_0x1faca3(0x2c9)])return;this['contentRequestSent']=!0x0,this['clearSyncTimeout']();const {differingPeaks:_0xb56c43,peaksMissingInLocal:_0x4b0995,peaksMissingInRemote:_0x14494f}=this['mmr']['comparePeaks'](_0x524afe);_0x265260['log'](_0x1367fe[_0x1faca3(0xa05)],'processContentAvailable\x20-\x20Peak\x20comparison:',{'differingPeaks':_0xb56c43,'peaksMissingInLocal':_0x4b0995,'peaksMissingInRemote':_0x14494f});const _0x46717e={'sourceId':this[_0x1faca3(0x8cc)][_0x1faca3(0x993)](),'destinationIds':[_0x18f61f],'propagate':!0x0,'messageType':_0x562b7c[_0x1faca3(0x40d)],'content':{'type':_0x267eb0[_0x1faca3(0x4da)],'label':this['label'],'peakHeights':_0x4b0995['map'](_0x3d44f9=>_0x3d44f9[_0x1faca3(0x713)])['concat'](_0xb56c43[_0x1faca3(0x8ac)](_0x4864db=>_0x4864db['height']))}};if(this[_0x1faca3(0x7be)][_0x1faca3(0x56d)](_0x46717e),_0xb56c43[_0x1faca3(0xa20)]>0x0||_0x14494f[_0x1faca3(0xa20)]>0x0){const _0x4ac9a7=_0x14494f[_0x1faca3(0x8ac)](_0xd41ad0=>_0xd41ad0['height'])[_0x1faca3(0x40c)](_0xb56c43[_0x1faca3(0x8ac)](_0x4626ff=>_0x4626ff['height']));await this[_0x1faca3(0x27b)](_0x18f61f,_0x4ac9a7,!0x0);}}async[_0x128a0b(0x27b)](_0x1a8203,_0x366c87,_0x200f28=!0x1){const _0x3e6b59=_0x128a0b;_0x265260[_0x3e6b59(0x552)](_0x1367fe[_0x3e6b59(0xa05)],_0x3e6b59(0x2e5),this[_0x3e6b59(0x9ce)]);const _0x59547c=_0x366c87[_0x3e6b59(0x8ac)](_0x2d9da4=>this[_0x3e6b59(0xab9)][_0x3e6b59(0x665)](_0x2d9da4))[_0x3e6b59(0x2ca)](Boolean);if(!_0x59547c[_0x3e6b59(0xa20)]||_0x366c87[_0x3e6b59(0xa20)]!==_0x59547c[_0x3e6b59(0xa20)])throw new _0x4204a5(_0x4204a5[_0x3e6b59(0x7f9)][_0x3e6b59(0xa95)],{'message':_0x3e6b59(0x329),'peakHeights':_0x366c87,'peaks':_0x59547c[_0x3e6b59(0x8ac)](_0x5ca756=>_0x5ca756[_0x3e6b59(0x713)]),'nodeId':_0x1a8203});const _0x4e4245=[];for(const _0x3d70de of _0x59547c)this['collectTransactionsFromNode'](_0x3d70de,_0x4e4245);const _0x4f8ea4=_0x200f28?void 0x0:[_0x1a8203],_0x101b62={'sourceId':this[_0x3e6b59(0x8cc)][_0x3e6b59(0x993)](),'destinationIds':_0x4f8ea4,'messageType':_0x562b7c['Content'],'propagate':!0x0,'content':{'type':_0x267eb0['KeyValueDatabaseSendTransactions'],'label':this[_0x3e6b59(0x9ce)],'transactions':_0x4e4245}};this[_0x3e6b59(0x872)][_0x3e6b59(0x537)](_0x101b62),this[_0x3e6b59(0x7be)][_0x3e6b59(0x56d)](_0x101b62);}async[_0x128a0b(0x5b6)](_0x1ddada,_0x46393f){const _0x35d1e1=_0x128a0b;_0x265260[_0x35d1e1(0x552)](_0x1367fe[_0x35d1e1(0xa05)],'Received\x20'+_0x46393f[_0x35d1e1(0xa20)]+_0x35d1e1(0x1d6)+_0x1ddada+_0x35d1e1(0x69f)+this[_0x35d1e1(0x9ce)]);for(const _0x1076e5 of _0x46393f){const _0x5cee2d=await this[_0x35d1e1(0x982)]['get'](_0x1076e5['id']);if(!(_0x5cee2d&&this['compareTransactions'](_0x5cee2d,_0x1076e5)>=0x0)){if(_0x1076e5[_0x35d1e1(0xa33)]===_0x5624f8['Delete']){const [_0x1dd76c,_0x2039aa]=_0x1076e5['id'][_0x35d1e1(0x302)]('::'),_0x5abdaf=this[_0x35d1e1(0x20d)](_0x1dd76c);await _0x5abdaf['delete'](_0x2039aa);}else this['transactionsToSync'][_0x35d1e1(0xa98)](_0x1076e5['id']);}}if(_0x265260[_0x35d1e1(0x552)](_0x1367fe[_0x35d1e1(0xa05)],_0x35d1e1(0x775)+this[_0x35d1e1(0x8e6)][_0x35d1e1(0xa20)]+_0x35d1e1(0x8b4),this[_0x35d1e1(0x9ce)]),this[_0x35d1e1(0x8e6)]['length']>0x0){const _0x59fdd6={'sourceId':this[_0x35d1e1(0x8cc)][_0x35d1e1(0x993)](),'destinationIds':[_0x1ddada],'messageType':_0x562b7c['Content'],'propagate':!0x0,'content':{'type':_0x267eb0[_0x35d1e1(0x464)],'label':this[_0x35d1e1(0x9ce)],'transactionIds':this[_0x35d1e1(0x8e6)]}};this[_0x35d1e1(0x872)]['logDataSent'](_0x59fdd6),this[_0x35d1e1(0x7be)][_0x35d1e1(0x56d)](_0x59fdd6);}}[_0x128a0b(0x49e)](){this['sendStats']();}[_0x128a0b(0x6da)](){const _0x3c0957=_0x128a0b;return _0x16f74[_0x3c0957(0x6f5)][_0x3c0957(0xa05)];}['destroy'](){const _0x2bc2c9=_0x128a0b;this['db'][_0x2bc2c9(0x42d)](),this[_0x2bc2c9(0x26d)]?.(),clearTimeout(this[_0x2bc2c9(0xa16)]),delete this['debounceStats'],super[_0x2bc2c9(0x61e)]();}[_0x128a0b(0x42d)](){const _0x103f2a=_0x128a0b;this[_0x103f2a(0x870)](),this[_0x103f2a(0x7be)][_0x103f2a(0x56d)]({'sourceId':_0x4b0f68,'messageType':_0x562b7c[_0x103f2a(0x40d)],'content':{'type':_0x267eb0[_0x103f2a(0x218)],'label':this[_0x103f2a(0x9ce)]}});}[_0x128a0b(0x20d)](_0x3f728e){const _0x5af224=_0x128a0b,_0x140a4e=this[_0x5af224(0x5b3)][_0x5af224(0x8b0)](_0x3f728e);if(_0x140a4e)return _0x140a4e;try{if(!this['db'][_0x5af224(0x54c)](_0x3f728e))throw new _0x325cc6(_0x3336f9[_0x5af224(0x454)],_0x5af224(0x315));const _0x2a90e6=new _0x58a98f(this['db'][_0x5af224(0x5a1)](_0x3f728e),_0x3f728e,this[_0x5af224(0x48c)]);return this[_0x5af224(0x5b3)][_0x5af224(0x663)](_0x3f728e,_0x2a90e6),{'get':_0x2a90e6[_0x5af224(0x8b0)][_0x5af224(0xa47)](_0x2a90e6),'set':_0x2a90e6['set'][_0x5af224(0xa47)](_0x2a90e6),'add':_0x2a90e6[_0x5af224(0x368)][_0x5af224(0xa47)](_0x2a90e6),'delete':_0x2a90e6[_0x5af224(0x560)][_0x5af224(0xa47)](_0x2a90e6),'clear':_0x2a90e6[_0x5af224(0x9e4)][_0x5af224(0xa47)](_0x2a90e6),'list':_0x2a90e6['list'][_0x5af224(0xa47)](_0x2a90e6),'count':_0x2a90e6[_0x5af224(0x7c0)][_0x5af224(0xa47)](_0x2a90e6),'subscribe':_0x2a90e6[_0x5af224(0x3b4)][_0x5af224(0xa47)](_0x2a90e6),'unsubscribe':_0x2a90e6[_0x5af224(0x3b0)][_0x5af224(0xa47)](_0x2a90e6)};}catch(_0x4ca220){if(_0x4ca220 instanceof _0x325cc6)throw _0x4ca220;throw new _0x325cc6(_0x3336f9['KeyValueDatabaseNotOpen'],_0x5af224(0xb03));}}[_0x128a0b(0x3b4)](_0x31ce28){const _0x4ef691=_0x128a0b;this[_0x4ef691(0x8f0)]=this[_0x4ef691(0xa10)]['subscribe'](_0x31ce28),this['isPromiseResolved'](this['isSync'])['then'](_0x11bfd2=>{const _0x8cb752=_0x4ef691;_0x11bfd2&&this[_0x8cb752(0xa10)][_0x8cb752(0x56d)]({'event':_0x16f74['DatabaseEvent']['SyncComplete']});});}[_0x128a0b(0x3b0)](){const _0x16d3f8=_0x128a0b;this['listenerUnsubscriber']?.(),this[_0x16d3f8(0x8f0)]=void 0x0;}async[_0x128a0b(0x645)](){const _0x475bab=_0x128a0b;_0x5aa419(_0x1367fe[_0x475bab(0xa05)],'Database\x20Opened');const _0x3ab8a3=[_0x2f2d6b,_0x555396],_0x4d0740=[];try{await this['db'][_0x475bab(0x645)]();const _0x58e69a=this['db'][_0x475bab(0x5a1)](_0x555396),_0x1c06c3=await _0x58e69a[_0x475bab(0x622)](),{id:_0x47f11b,layout:_0x20cfa1}=_0x1c06c3[0x0]??{};if(_0x20cfa1){for(const _0x21eaae in _0x20cfa1)_0x3ab8a3[_0x475bab(0x6b7)](_0x21eaae)||this['db'][_0x475bab(0x54c)](_0x21eaae)||_0x4d0740['push'](_0x21eaae);await _0x58e69a[_0x475bab(0x663)](_0x47f11b,{'layout':this[_0x475bab(0x55b)]});}else await _0x58e69a['add']({'layout':this[_0x475bab(0x55b)]});}catch(_0x4d8931){throw new _0x325cc6(_0x3336f9[_0x475bab(0x96b)],_0x4d8931[_0x475bab(0x94c)]||_0x475bab(0x48f));}this[_0x475bab(0x8f5)](),await this['buildInitialMMR'](),this[_0x475bab(0x61d)](),this[_0x475bab(0x668)](),_0x4d0740[_0x475bab(0x8b3)](_0xbe667f=>this[_0x475bab(0x68f)](_0xbe667f));}async[_0x128a0b(0x39e)](_0x3b769e,_0x33c6e5=()=>{},_0x24fed0=!0x1){const _0x548d88=_0x128a0b;if(!_0x3b769e)return setTimeout(()=>{const _0x2b223e=a0_0xdea0;this['clearSyncTimeout'](),this[_0x2b223e(0x76c)]();},0x0),!0x0;if(this['contentRequestSent']=!0x1,this['timeoutCallback']=_0x33c6e5,this[_0x548d88(0x709)]=setTimeout(_0x33c6e5,0x7d0),!this[_0x548d88(0x7be)])throw new _0x4204a5(_0x4204a5['codes'][_0x548d88(0x28d)]);const _0x2aa9d5=await this[_0x548d88(0xab9)]['getRoot'](),_0x23f8d1={'sourceId':this[_0x548d88(0x8cc)][_0x548d88(0x993)](),'messageType':_0x562b7c[_0x548d88(0x40d)],'propagate':_0x24fed0,'content':{'type':_0x267eb0['KeyValueDatabaseSyncRequired'],'label':this[_0x548d88(0x9ce)],'mmrRoot':_0x2aa9d5}};return this[_0x548d88(0x872)][_0x548d88(0x537)](_0x23f8d1),this['systemTopic']['publish'](_0x23f8d1),this['isSync'];}async[_0x128a0b(0xac9)](_0x47d52c,_0x477e65){const _0x4c4ab9=_0x128a0b;if(_0x265260['log'](_0x1367fe['KeyValueDatabase'],_0x4c4ab9(0x873)+_0x477e65[_0x4c4ab9(0xa20)],this[_0x4c4ab9(0x9ce)]),!this[_0x4c4ab9(0x982)])throw new _0x4204a5(_0x4204a5['codes'][_0x4c4ab9(0x6c0)]);for(const _0x532ade of _0x477e65){const _0x4fc3fd=await this[_0x4c4ab9(0x982)]['get'](_0x532ade);if(!_0x4fc3fd)continue;const [_0x190f2b,_0x174549]=_0x532ade[_0x4c4ab9(0x302)]('::'),_0x1b6a10=this[_0x4c4ab9(0x20d)](_0x190f2b),_0x4ea539=await _0x1b6a10[_0x4c4ab9(0x8b0)](_0x174549);_0x4ea539?(_0x4fc3fd[_0x4c4ab9(0x443)]=_0x4ea539,this[_0x4c4ab9(0x8d1)](_0x4fc3fd,[_0x47d52c])):_0x265260[_0x4c4ab9(0x1c3)](_0x4c4ab9(0x5e5),{'nodeId':this['localNode'][_0x4c4ab9(0x993)](),'nodeType':this['localNode'][_0x4c4ab9(0x7dd)],'remoteId':_0x47d52c,'data':{'tableKeys':Object['keys'](this['tables']),'transactionId':_0x532ade,'transactions':this[_0x4c4ab9(0x8e6)],'tableName':_0x190f2b,'key':_0x174549}});}}async[_0x128a0b(0x773)](_0x13cfcd){const _0x3456ff=_0x128a0b;if(!this[_0x3456ff(0x982)])throw new _0x4204a5(_0x4204a5['codes']['KeyValueDatabaseTransactionTableNotInitialized']);const _0x42dd75=await this[_0x3456ff(0xab9)][_0x3456ff(0xa13)](_0x13cfcd),_0x2c335f=this[_0x3456ff(0xa70)][_0x3456ff(0x8b0)](_0x42dd75);if(_0x2c335f&&this[_0x3456ff(0x8f1)](_0x13cfcd,_0x2c335f)<=0x0)return void _0x265260[_0x3456ff(0x552)](_0x1367fe['KeyValueDatabase'],_0x3456ff(0x511),_0x13cfcd);const _0x36a0b5={..._0x13cfcd};return delete _0x36a0b5['value'],this[_0x3456ff(0xaf7)](_0x36a0b5),await this[_0x3456ff(0x982)][_0x3456ff(0x663)](_0x13cfcd['id'],_0x36a0b5),_0x13cfcd;}[_0x128a0b(0x8f1)](_0x1ab34e,_0x35ef61){const _0x5e5e63=_0x128a0b;return _0x1ab34e[_0x5e5e63(0x2d6)]!==_0x35ef61[_0x5e5e63(0x2d6)]?_0x1ab34e['timestamp']-_0x35ef61[_0x5e5e63(0x2d6)]:_0x1ab34e[_0x5e5e63(0x522)]-_0x35ef61['priority'];}async[_0x128a0b(0x31e)](_0x41dbb3){const _0x14ca18=_0x128a0b;if(!this[_0x14ca18(0x982)])throw new _0x4204a5(_0x4204a5[_0x14ca18(0x7f9)][_0x14ca18(0x6c0)]);const _0x807598=_0x41dbb3[_0x14ca18(0xa28)]+'::'+_0x41dbb3[_0x14ca18(0x293)],_0x3756bc=await _0x342bc8[_0x14ca18(0x64d)](),_0x56290a={'id':_0x807598,'priority':Math[_0x14ca18(0x28c)](),'timestamp':_0x3756bc,'action':_0x41dbb3[_0x14ca18(0xa33)]};if(await this['writeTransaction'](_0x56290a))return _0x56290a;}async['deleteTransactionsForTable'](_0x9f1f54){const _0x2e52d9=_0x128a0b;if(!this[_0x2e52d9(0x982)])throw new _0x4204a5(_0x4204a5[_0x2e52d9(0x7f9)]['KeyValueDatabaseTransactionTableNotInitialized']);const _0x5285ad=_0x476da4[_0x2e52d9(0x8a7)]('id')['where']('between',[_0x9f1f54+'::',_0x9f1f54+_0x2e52d9(0xb10)]),_0x3cf025=await this['transactionTable'][_0x2e52d9(0x622)](_0x5285ad['getQuery']());for(const _0x53702c of _0x3cf025)await this['transactionTable'][_0x2e52d9(0x560)](_0x53702c['id']);}[_0x128a0b(0x61d)](){this['onMessage'](async(_0x423981,_0x2f1816)=>{const _0x4f54b7=a0_0xdea0;if(_0x2f1816 instanceof File)return;if(this['loggingCycle'][_0x4f54b7(0x8ff)](_0x2f1816),!await this[_0x4f54b7(0x773)](_0x2f1816))return void this[_0x4f54b7(0xa2f)](_0x423981,_0x2f1816);if(!_0x2f1816[_0x4f54b7(0x443)])throw new _0x4204a5(_0x4204a5[_0x4f54b7(0x7f9)][_0x4f54b7(0x2ff)]);const [_0x5f93e8,_0x12f462]=_0x2f1816['id'][_0x4f54b7(0x302)]('::'),_0x565ace=this['getTable'](_0x5f93e8);if(!_0x565ace)throw new _0x4204a5(_0x4204a5[_0x4f54b7(0x7f9)][_0x4f54b7(0x9dd)],{'table':_0x565ace});let _0x3c2fcc=0x0;switch(_0x2f1816[_0x4f54b7(0xa33)]){case _0x5624f8['Add']:case _0x5624f8[_0x4f54b7(0xa5f)]:{const _0x1f8e37=_0x565ace['set'](_0x12f462,_0x2f1816['value'],!0x1);_0x3c2fcc=JSON[_0x4f54b7(0x30b)](_0x2f1816['value'])[_0x4f54b7(0xa20)],this[_0x4f54b7(0x8e6)][_0x4f54b7(0x6b7)](_0x2f1816['id'])&&this[_0x4f54b7(0x550)][_0x4f54b7(0xa98)](_0x1f8e37);break;}case _0x5624f8[_0x4f54b7(0x7b3)]:{const _0x2324d5=_0x565ace[_0x4f54b7(0x560)](_0x12f462,!0x1);this[_0x4f54b7(0x8e6)]['includes'](_0x2f1816['id'])&&this[_0x4f54b7(0x550)][_0x4f54b7(0xa98)](_0x2324d5);break;}}_0x265260[_0x4f54b7(0x1b4)](_0x5790a5[_0x4f54b7(0xa05)],{'type':_0x4f54b7(0x39e),'label':this['label'],'nodeId':this['localNode'][_0x4f54b7(0x993)](),'nodeType':this[_0x4f54b7(0x8cc)]['type'],'clusterId':this[_0x4f54b7(0x2cd)],'tableName':_0x5f93e8,'key':_0x12f462,'size':_0x3c2fcc}),this[_0x4f54b7(0xa2f)](_0x423981,_0x2f1816);});}[_0x128a0b(0x668)](){const _0x1024db=_0x128a0b;this[_0x1024db(0x26d)]=this[_0x1024db(0x48c)][_0x1024db(0x3b4)](async _0x17e7ae=>{const _0x38d4a9=_0x1024db;let _0x24d648=0x0;switch(_0x17e7ae[_0x38d4a9(0xa33)]){case _0x5624f8['Add']:case _0x5624f8['Update']:case _0x5624f8['Delete']:{const _0x4dba4a=await this[_0x38d4a9(0x31e)](_0x17e7ae);if(!_0x4dba4a)return;_0x4dba4a['value']=_0x17e7ae[_0x38d4a9(0x443)],this['send'](_0x4dba4a),_0x24d648=JSON[_0x38d4a9(0x30b)](_0x17e7ae[_0x38d4a9(0x443)])[_0x38d4a9(0xa20)],this[_0x38d4a9(0xa2c)]+=0x1;break;}case _0x67187c[_0x38d4a9(0xada)]:case _0x67187c[_0x38d4a9(0x644)]:case _0x67187c['Count']:this[_0x38d4a9(0x469)]+=0x1;}_0x265260[_0x38d4a9(0x1b4)](_0x5790a5[_0x38d4a9(0xa05)],{'type':_0x17e7ae[_0x38d4a9(0xa33)],'label':this[_0x38d4a9(0x9ce)],'nodeId':this[_0x38d4a9(0x8cc)][_0x38d4a9(0x993)](),'nodeType':this[_0x38d4a9(0x8cc)][_0x38d4a9(0x7dd)],'clusterId':this[_0x38d4a9(0x2cd)],'tableName':_0x17e7ae[_0x38d4a9(0xa28)],'key':_0x17e7ae[_0x38d4a9(0x293)],'size':_0x24d648}),this[_0x38d4a9(0xa76)]();});}[_0x128a0b(0x8f5)](){const _0x10c7e3=_0x128a0b;this['db']&&(this[_0x10c7e3(0x982)]||(this[_0x10c7e3(0x982)]=this['db'][_0x10c7e3(0x5a1)](_0x2f2d6b)));}[_0x128a0b(0x870)](){const _0x110fc0=_0x128a0b;this[_0x110fc0(0x709)]&&(clearTimeout(this['syncTimeout']),delete this['syncTimeout']);}async[_0x128a0b(0x76c)](){const _0x25fce1=_0x128a0b;await this[_0x25fce1(0xab9)][_0x25fce1(0x317)],this['logSyncMetrics'](),this[_0x25fce1(0xa10)][_0x25fce1(0x56d)]({'event':_0x16f74[_0x25fce1(0x41b)][_0x25fce1(0xa0b)]}),this['syncResolve']?.(!0x0),delete this[_0x25fce1(0x976)],this['sendStats'](),_0x265260['log'](_0x1367fe[_0x25fce1(0xa05)],'Sync\x20completed',this[_0x25fce1(0x9ce)]);}async['publishSyncCompletedAfterWrites'](_0x12d9d2){const _0x49572c=_0x128a0b;await Promise[_0x49572c(0x33e)](this[_0x49572c(0x550)]),_0x265260[_0x49572c(0x552)](_0x1367fe[_0x49572c(0xa05)],_0x49572c(0x3a7)+this['syncTransactionsWritten'][_0x49572c(0xa20)]+_0x49572c(0x8ab)+_0x12d9d2+_0x49572c(0xa94),this[_0x49572c(0x9ce)]),await this[_0x49572c(0xab9)][_0x49572c(0x317)],await this['confirmSynchronization'](_0x12d9d2),await this[_0x49572c(0x76c)]();}[_0x128a0b(0xa2f)](_0x1971f0,_0x3c2029){const _0x244ced=_0x128a0b;this[_0x244ced(0x8e6)]['includes'](_0x3c2029['id'])&&(this[_0x244ced(0x870)](),this['transactionsToSync']=this[_0x244ced(0x8e6)][_0x244ced(0x2ca)](_0x35acde=>_0x35acde!==_0x3c2029['id']),0x0!==this[_0x244ced(0x8e6)][_0x244ced(0xa20)]?this[_0x244ced(0x709)]=setTimeout(this[_0x244ced(0x2e2)],0x7d0):this[_0x244ced(0xac8)](_0x1971f0));}[_0x128a0b(0xa76)](){const _0x1e680c=_0x128a0b;this['debounceStats']&&clearTimeout(this[_0x1e680c(0xa16)]),this[_0x1e680c(0xa16)]=setTimeout(async()=>{const _0x486d3c=_0x1e680c;delete this[_0x486d3c(0xa16)];let _0x4eeb69=0x0;for(const _0x16596d of this[_0x486d3c(0x5b3)]['values']())_0x4eeb69+=await _0x16596d[_0x486d3c(0x5ce)]();this[_0x486d3c(0x7be)]['publish']({'sourceId':_0x4b0f68,'messageType':_0x562b7c[_0x486d3c(0x40d)],'content':{'type':_0x267eb0[_0x486d3c(0x7c5)],'label':this['label'],'stats':{'timestamp':Date[_0x486d3c(0x85a)](),'storage':_0x4eeb69,'messagesSent':this['messagesSent'],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x486d3c(0x9dc)],'bytesReceived':this[_0x486d3c(0xa43)],'writes':this[_0x486d3c(0xa2c)],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),_0x265260[_0x486d3c(0xa3e)](_0x5790a5[_0x486d3c(0xa05)],_0x486d3c(0x670)+this[_0x486d3c(0x2cd)]+_0x486d3c(0x670)+this['label'],_0x4eeb69);},_0x9bc8e5);}[_0x128a0b(0x4e0)](_0x51c3d7){const _0x5b0031=_0x128a0b;if(_0x51c3d7[_0x5b0031(0x5b3)][_0x2f2d6b])throw new _0x325cc6(_0x3336f9[_0x5b0031(0x8e3)],_0x5b0031(0x331)+_0x2f2d6b+_0x5b0031(0x1e7));if(_0x51c3d7[_0x5b0031(0x5b3)][_0x555396])throw new _0x325cc6(_0x3336f9[_0x5b0031(0x8e3)],_0x5b0031(0x331)+_0x555396+_0x5b0031(0x1e7));_0x51c3d7[_0x5b0031(0x5b3)][_0x2f2d6b]={'indexes':[]},_0x51c3d7[_0x5b0031(0x5b3)][_0x555396]={'indexes':[]};}async['isPromiseResolved'](_0x390455){const _0x5d52dd=_0x128a0b;return Promise[_0x5d52dd(0x5e9)]([_0x390455,Promise[_0x5d52dd(0x913)](_0x5d52dd(0x820))])[_0x5d52dd(0x96e)](_0x4508d1=>_0x5d52dd(0x820)!==_0x4508d1);}async['confirmSynchronization'](_0x39f57c){const _0x83a518=_0x128a0b;await this[_0x83a518(0x616)]();const _0x3484d4=await this[_0x83a518(0xab9)][_0x83a518(0x6e8)](),_0x39766b={'sourceId':this[_0x83a518(0x8cc)][_0x83a518(0x993)](),'destinationIds':[_0x39f57c],'propagate':!0x0,'messageType':_0x562b7c[_0x83a518(0x40d)],'content':{'type':_0x267eb0[_0x83a518(0x882)],'label':this[_0x83a518(0x9ce)],'mmrRoot':_0x3484d4}};this['systemTopic'][_0x83a518(0x56d)](_0x39766b);}async[_0x128a0b(0x84b)](){const _0x38217b=_0x128a0b;if(!this[_0x38217b(0x982)])throw new _0x4204a5(_0x4204a5[_0x38217b(0x7f9)]['KeyValueDatabaseTransactionTableNotInitialized']);this['transactions']=await this['transactionTable'][_0x38217b(0x622)](),this[_0x38217b(0x67f)][_0x38217b(0x393)](this['compareTransactions']),this['mmr']=new _0x251816(),this[_0x38217b(0xa70)]=new Map();for(const _0x3bd6ea of this[_0x38217b(0x67f)])this[_0x38217b(0x3cd)](_0x3bd6ea,this[_0x38217b(0x67f)]['length']);this[_0x38217b(0x63b)]();}async[_0x128a0b(0x3cd)](_0x5dbf5d,_0x4c2231){const _0x10cddd=_0x128a0b,_0x2ae662={..._0x5dbf5d};delete _0x2ae662['value'],await this[_0x10cddd(0xab9)]['appendTransaction'](_0x2ae662,_0x4c2231);const _0x294874=await this[_0x10cddd(0xab9)]['hashTransaction'](_0x2ae662);this[_0x10cddd(0xa70)]['set'](_0x294874,_0x5dbf5d);}[_0x128a0b(0x1bf)](_0x1e5737){const _0x1a32b8=_0x128a0b;return this[_0x1a32b8(0xa70)][_0x1a32b8(0x8b0)](_0x1e5737);}[_0x128a0b(0x5aa)](_0x3854d0,_0x4aff9d){const _0x36ffa2=_0x128a0b;if(0x0!==_0x3854d0[_0x36ffa2(0x713)])_0x3854d0[_0x36ffa2(0x975)]&&this[_0x36ffa2(0x5aa)](_0x3854d0[_0x36ffa2(0x975)],_0x4aff9d),_0x3854d0[_0x36ffa2(0x900)]&&this['collectTransactionsFromNode'](_0x3854d0['right'],_0x4aff9d);else{const _0x52d573=this[_0x36ffa2(0x1bf)](_0x3854d0['hash']);_0x52d573&&_0x4aff9d[_0x36ffa2(0xa98)](_0x52d573);}}async[_0x128a0b(0x7a4)](){const _0x29f320=_0x128a0b;this[_0x29f320(0xa19)]&&(clearTimeout(this['debounceRebuildMMR']),delete this[_0x29f320(0xa19)],this[_0x29f320(0x8ad)][_0x29f320(0xa20)]>0x0&&(this[_0x29f320(0x67f)][_0x29f320(0xa98)](...this['transactionsToAppend'][_0x29f320(0x393)](this['compareTransactions'])),this[_0x29f320(0x8ad)]=[]));const _0x467669=this[_0x29f320(0x7f5)]();this['mmr']=new _0x251816(),this[_0x29f320(0xa70)][_0x29f320(0x9e4)](),this[_0x29f320(0x67f)]['sort'](this[_0x29f320(0x8f1)]);for(const _0x2b9018 of this[_0x29f320(0x67f)])this[_0x29f320(0x3cd)](_0x2b9018,this[_0x29f320(0x67f)][_0x29f320(0xa20)]);await this['mmr'][_0x29f320(0x317)],this[_0x29f320(0x2e3)](_0x467669);}[_0x128a0b(0x7f5)](){const _0xc7e4a5=_0x128a0b;return this[_0xc7e4a5(0x872)][_0xc7e4a5(0x576)][_0xc7e4a5(0x6f9)](async()=>{const _0x3c8aca=_0xc7e4a5,_0x553b8b=await this[_0x3c8aca(0xab9)][_0x3c8aca(0x6e8)]();return{'startTime':Date[_0x3c8aca(0x85a)](),'initialRoot':_0x553b8b};},Promise['resolve']({'startTime':0x0,'initialRoot':''}));}async['logMMRRebuild'](_0x3de742){const _0x47080f=_0x128a0b;try{const {startTime:_0x49df22,initialRoot:_0x28beae}=await _0x3de742,_0x5594e5=await this[_0x47080f(0xab9)][_0x47080f(0x6e8)](),_0x138dc7=[_0x47080f(0xae8)+(_0x28beae!==_0x5594e5),_0x47080f(0x37f)+_0x28beae,'\x0a\x20\x20===\x20New\x20MMR\x20Root:\x20'+_0x5594e5,_0x47080f(0x619)+this['mmr']['getTotalNodes'](),_0x47080f(0x4ab)+(Date[_0x47080f(0x85a)]()-_0x49df22)+'\x20ms\x0a'][_0x47080f(0x406)]('\x20');this[_0x47080f(0x872)][_0x47080f(0x576)][_0x47080f(0x552)]('',()=>_0x138dc7);}catch(_0x3106ba){console[_0x47080f(0x5b5)](_0x47080f(0x5dd),_0x3106ba);}}['debounceRebuildMMRWithTransaction'](_0x379d82){const _0x45f584=_0x128a0b;this[_0x45f584(0x8ad)][_0x45f584(0xa98)](_0x379d82),this[_0x45f584(0xa19)]&&(clearTimeout(this[_0x45f584(0xa19)]),delete this[_0x45f584(0xa19)]),this['debounceRebuildMMR']=setTimeout(()=>{this['processTransactionsToComputeMMR']();},0x3e8);}async[_0x128a0b(0x616)](){const _0x204aea=_0x128a0b;if(this[_0x204aea(0xa19)]&&(clearTimeout(this[_0x204aea(0xa19)]),delete this[_0x204aea(0xa19)]),0x0!==this[_0x204aea(0x8ad)][_0x204aea(0xa20)]){if(0x0===this[_0x204aea(0x67f)][_0x204aea(0xa20)])return this['transactions']=this['transactionsToAppend'],this[_0x204aea(0x8ad)]=[],await this[_0x204aea(0x7a4)]();if(this[_0x204aea(0x8ad)][_0x204aea(0x393)](this[_0x204aea(0x8f1)]),this[_0x204aea(0x8f1)](this['transactionsToAppend'][0x0],this['transactions'][this[_0x204aea(0x67f)][_0x204aea(0xa20)]-0x1])>0x0){this[_0x204aea(0x872)][_0x204aea(0x576)][_0x204aea(0x552)]('processTransactionsToComputeMMR\x20-\x20All\x20transactions\x20are\x20appendable.\x20Append:\x20'+this[_0x204aea(0x8ad)][_0x204aea(0xa20)]+',\x20Transactions:\x20'+this['transactions']['length']);for(const _0x57a2cb of this[_0x204aea(0x8ad)])this[_0x204aea(0x67f)][_0x204aea(0xa98)](_0x57a2cb),this['appendTransactionAndUpdateHashMap'](_0x57a2cb,this['transactionsToAppend'][_0x204aea(0xa20)]);return this[_0x204aea(0x8ad)]=[],void this[_0x204aea(0x872)][_0x204aea(0x576)]['log'](_0x204aea(0x3b7),async()=>_0x204aea(0x985)+await this[_0x204aea(0xab9)][_0x204aea(0x6e8)]()+_0x204aea(0x2dd)+this['mmr'][_0x204aea(0x226)]());}this[_0x204aea(0x872)][_0x204aea(0x576)][_0x204aea(0x552)](_0x204aea(0x236)+this[_0x204aea(0x8ad)][_0x204aea(0xa20)]+_0x204aea(0x81f)+this['transactions']['length']),this['transactions']['push'](...this[_0x204aea(0x8ad)]),this[_0x204aea(0x8ad)]=[],this['rebuildMMR']();}}async[_0x128a0b(0x6b9)](){const _0x204f4e=_0x128a0b;if(!_0x265260[_0x204f4e(0x722)](_0x1367fe[_0x204f4e(0xa05)]))return;await this['mmr'][_0x204f4e(0x317)];const {dataSent:_0x239af5,dataReceived:_0x3a962d}=this['loggingCycle'][_0x204f4e(0x501)]();_0x265260[_0x204f4e(0x552)](_0x1367fe[_0x204f4e(0xa05)],'Key-Value\x20Database\x20-\x20Sync\x20Completed',this[_0x204f4e(0x9ce)],_0x204f4e(0x5ac)+_0x239af5,'\x0a\x20===\x20Total\x20Data\x20Received:\x20'+_0x3a962d,_0x204f4e(0xa5a),await this[_0x204f4e(0xab9)][_0x204f4e(0x6e8)](),'\x0a\x20===\x20Total\x20Nodes:',this[_0x204f4e(0xab9)][_0x204f4e(0x226)]());}async[_0x128a0b(0x63b)](){const _0x535a1f=_0x128a0b;if(!_0x265260['isChannelEnabled'](_0x1367fe['KeyValueDatabase']))return;const _0xcaff76=this[_0x535a1f(0xab9)][_0x535a1f(0x8c1)](),_0x5ebda8=_0xcaff76[_0x535a1f(0x8ac)](_0x900bbe=>_0x900bbe[_0x535a1f(0x713)]),_0x236c84=await this[_0x535a1f(0xab9)]['getRoot']();_0x265260[_0x535a1f(0x552)](_0x1367fe[_0x535a1f(0xa05)],_0x535a1f(0x424),this[_0x535a1f(0x67f)][_0x535a1f(0xa20)],_0x535a1f(0x67f),this[_0x535a1f(0xab9)][_0x535a1f(0x226)](),_0x535a1f(0x6e1),_0xcaff76['length'],_0x535a1f(0x498),_0x5ebda8,_0x535a1f(0x214),_0x236c84);}}const _0x4e64c7=require('@crewdle/mist-connector-opfs'),_0x3d79d4=require('@crewdle/mist-connector-indexed-db'),_0x164ebf=require('@crewdle/mist-connector-webrtc-browser'),_0x1bd5ba=0x10000000;var _0x4d72b1,_0x899d67,_0x303120,_0x344238,_0x4bfec9,_0x11eb85,_0x9a52f6,_0x1e9e00,_0x33579b;!function(_0x25d11f){const _0x18681a=_0x128a0b;_0x25d11f[_0x18681a(0x3f6)]=_0x18681a(0x3f6),_0x25d11f[_0x18681a(0x1a3)]=_0x18681a(0x1a3),_0x25d11f[_0x18681a(0x639)]=_0x18681a(0x639),_0x25d11f[_0x18681a(0x643)]='Backgrounds',_0x25d11f['DeviceConfig']=_0x18681a(0x563),_0x25d11f[_0x18681a(0x61a)]=_0x18681a(0x61a),_0x25d11f['Recording']=_0x18681a(0x4c4),_0x25d11f[_0x18681a(0x52c)]=_0x18681a(0x52c),_0x25d11f[_0x18681a(0x687)]='WebGL',_0x25d11f[_0x18681a(0x75b)]=_0x18681a(0x75b);}(_0x4d72b1||(_0x4d72b1={}));class _0x429972{[_0x128a0b(0x9a5)];[_0x128a0b(0x6b2)];['eventTarget'];constructor(_0x377ba1=new Map(),_0x7f3a63=new Map(),_0x2bd535=new EventTarget()){const _0x408b11=_0x128a0b;this[_0x408b11(0x9a5)]=_0x377ba1,this[_0x408b11(0x6b2)]=_0x7f3a63,this[_0x408b11(0x8b5)]=_0x2bd535;}[_0x128a0b(0x421)]=(_0x670a69,_0x56a34d)=>this['registeredListeners']['has'](_0x670a69)?(_0x265260['log'](_0x1367fe[_0x128a0b(0x86a)],'Emitting\x20event\x20on\x20local\x20cluster',{'event':_0x670a69,'data':_0x56a34d}),this['eventTarget'][_0x128a0b(0x2b7)](new CustomEvent(_0x670a69,{'detail':_0x56a34d})),!0x0):(this[_0x128a0b(0x2cf)](_0x670a69,_0x56a34d),!0x1);['on']=(_0x4cfa20,_0x364887)=>{const _0x57517a=_0x128a0b,_0x14f4a9=_0x557363=>{const _0xc68b82=a0_0xdea0;_0x265260['log'](_0x1367fe[_0xc68b82(0x86a)],_0xc68b82(0x33a),_0x557363[_0xc68b82(0x7dd)],_0x557363['detail']),_0x364887(_0x557363[_0xc68b82(0x8ca)]);};return this[_0x57517a(0x9a5)][_0x57517a(0x663)](_0x4cfa20,_0x14f4a9),this['eventTarget'][_0x57517a(0x4f5)](_0x4cfa20,_0x14f4a9),_0x265260['log'](_0x1367fe['Cluster'],_0x57517a(0x98c),_0x4cfa20,_0x364887),this['consumeBufferedEvents'](_0x4cfa20),this;};[_0x128a0b(0xa80)](_0x421d50){const _0x1dccac=_0x128a0b;if(!_0x421d50)return this[_0x1dccac(0x9a5)][_0x1dccac(0x8b3)]((_0x452b98,_0x31cb42)=>{const _0xa895c3=_0x1dccac;this[_0xa895c3(0x8b5)][_0xa895c3(0x547)](_0x31cb42,_0x452b98);}),void this[_0x1dccac(0x9a5)][_0x1dccac(0x9e4)]();_0x1dccac(0x55c)==typeof _0x421d50&&this[_0x1dccac(0x1f8)](_0x421d50),Array[_0x1dccac(0xaec)](_0x421d50)&&_0x421d50['forEach'](_0x5a9f2a=>{const _0x4d9dec=_0x1dccac;this[_0x4d9dec(0x1f8)](_0x5a9f2a);});}[_0x128a0b(0x1f8)](_0x4a2bf1){const _0x39fa6f=_0x128a0b,_0x46b609=this[_0x39fa6f(0x9a5)][_0x39fa6f(0x8b0)](_0x4a2bf1);_0x46b609&&(this[_0x39fa6f(0x8b5)][_0x39fa6f(0x547)](_0x4a2bf1,_0x46b609),this[_0x39fa6f(0x9a5)][_0x39fa6f(0x560)](_0x4a2bf1));}[_0x128a0b(0x2cf)](_0xfd4d32,_0x2e29b7){const _0x3dfcf7=_0x128a0b;_0x265260[_0x3dfcf7(0x552)](_0x1367fe['Events'],'Buffering\x20event',{'event':_0xfd4d32,'data':_0x2e29b7});const _0x4137a2=this[_0x3dfcf7(0x6b2)]['get'](_0xfd4d32)||[];this[_0x3dfcf7(0x6b2)]['set'](_0xfd4d32,[..._0x4137a2,_0x2e29b7]);}[_0x128a0b(0x719)](_0x44961f){const _0x1c8ffc=_0x128a0b,_0x33fdea=this['bufferedEvents'][_0x1c8ffc(0x8b0)](_0x44961f);_0x33fdea&&(_0x33fdea[_0x1c8ffc(0x8b3)](_0x1e3ffc=>{const _0x3be275=_0x1c8ffc;_0x265260[_0x3be275(0x552)](_0x1367fe[_0x3be275(0x86a)],_0x3be275(0x905),{'event':_0x44961f,'data':_0x1e3ffc}),this['eventTarget'][_0x3be275(0x2b7)](new CustomEvent(_0x44961f,{'detail':_0x1e3ffc}));}),this['bufferedEvents'][_0x1c8ffc(0x560)](_0x44961f));}}class _0x4cb4b0 extends Error{constructor(_0x3fac4c){const _0x5d22df=_0x128a0b;super(_0x5d22df(0x8eb)+_0x3fac4c);}}!function(_0x572daa){const _0x4db2d7=_0x128a0b;_0x572daa[_0x572daa[_0x4db2d7(0x802)]=0x0]='Core',_0x572daa[_0x572daa[_0x4db2d7(0x40a)]=0x1]='Optimization';}(_0x899d67||(_0x899d67={})),function(_0x422ca1){const _0x447ae6=_0x128a0b;_0x422ca1[_0x422ca1[_0x447ae6(0x56b)]=0x0]=_0x447ae6(0x56b),_0x422ca1[_0x422ca1[_0x447ae6(0x8d4)]=0x1]=_0x447ae6(0x8d4),_0x422ca1[_0x422ca1[_0x447ae6(0x489)]=0x2]=_0x447ae6(0x489),_0x422ca1[_0x422ca1[_0x447ae6(0x99f)]=0x3]=_0x447ae6(0x99f),_0x422ca1[_0x422ca1[_0x447ae6(0x7c8)]=0x4]=_0x447ae6(0x7c8),_0x422ca1[_0x422ca1[_0x447ae6(0x57f)]=0x5]=_0x447ae6(0x57f),_0x422ca1[_0x422ca1['Disconnect']=0x6]=_0x447ae6(0x3e7),_0x422ca1[_0x422ca1[_0x447ae6(0x1a6)]=0x7]='Stats',_0x422ca1[_0x422ca1[_0x447ae6(0x3de)]=0x8]='OptimizationConnectionSuccess';}(_0x303120||(_0x303120={})),function(_0x25e15b){const _0x41b57b=_0x128a0b;_0x25e15b[_0x25e15b[_0x41b57b(0x20b)]=0x0]=_0x41b57b(0x20b),_0x25e15b[_0x25e15b[_0x41b57b(0x7b9)]=0x1]=_0x41b57b(0x7b9);}(_0x344238||(_0x344238={})),function(_0x38e028){const _0x7840b7=_0x128a0b;_0x38e028['MediaStream']=_0x7840b7(0x3ad);}(_0x4bfec9||(_0x4bfec9={})),function(_0x2835f8){const _0x4d290a=_0x128a0b;_0x2835f8[_0x2835f8['NodeJoin']=0x0]=_0x4d290a(0x750),_0x2835f8[_0x2835f8[_0x4d290a(0xa93)]=0x1]='NodeUpdate',_0x2835f8[_0x2835f8['NodeConnectionsUpdate']=0x2]=_0x4d290a(0x220),_0x2835f8[_0x2835f8[_0x4d290a(0x75e)]=0x3]='NodeLeave';}(_0x11eb85||(_0x11eb85={})),function(_0x14f5ef){const _0x52073b=_0x128a0b;_0x14f5ef[_0x14f5ef[_0x52073b(0x812)]=0x0]=_0x52073b(0x812),_0x14f5ef[_0x14f5ef[_0x52073b(0x61c)]=0x1]=_0x52073b(0x61c);}(_0x9a52f6||(_0x9a52f6={})),function(_0x88bf60){const _0xe89c97=_0x128a0b;_0x88bf60[_0xe89c97(0x480)]='upgrade',_0x88bf60[_0xe89c97(0x289)]=_0xe89c97(0x6f1);}(_0x1e9e00||(_0x1e9e00={})),function(_0xb54ed3){const _0x3bc65a=_0x128a0b;_0xb54ed3['Resolution']=_0x3bc65a(0x999),_0xb54ed3['Bitrate']=_0x3bc65a(0x2ba);}(_0x33579b||(_0x33579b={}));const _0x37ae28=require('aws-amplify'),_0x413fd2=require('aws-amplify/utils'),_0x3f9394=require('@aws-amplify/api'),_0x4b50d8=require('@aws-amplify/core');class _0x30591{['clusterId'];[_0x128a0b(0x8cc)];[_0x128a0b(0x606)];constructor(_0x2556c4,_0x1983d3,_0x26ee52){const _0x4b6216=_0x128a0b;this[_0x4b6216(0x2cd)]=_0x2556c4,this[_0x4b6216(0x8cc)]=_0x1983d3,this[_0x4b6216(0x606)]=_0x26ee52;}[_0x128a0b(0x3d1)](){const _0x15ed51=_0x128a0b;return this[_0x15ed51(0x8cc)][_0x15ed51(0x993)]();}['getRemoteId'](){const _0x3d44f5=_0x128a0b;return this[_0x3d44f5(0x606)];}}var _0x56b813,_0x172daa,_0x155040;function _0x138bc2(_0x331bf7,_0x56e252){const _0x23ddd5=_0x128a0b;return _0x331bf7[_0x23ddd5(0x898)]===_0x56e252;}function _0x529a07(_0x3f7dc0,_0x24b936){const _0x367d11=_0x128a0b;return _0x3f7dc0[_0x367d11(0x6ba)]?.[_0x367d11(0x6b7)](_0x24b936)??function(_0x144309){const _0x30b6da=_0x367d11;return void 0x0===_0x144309[_0x30b6da(0x6ba)];}(_0x3f7dc0);}function _0x3a5742(_0x181198,{contentType:_0x4c868d,label:_0x55344b,remoteId:_0x765c0c}){return _0x181198+'-'+_0x4c868d+'-'+_0x55344b+'-'+_0x765c0c;}function _0x25fc0a(_0x20d0eb,_0x2bb951,_0xb3c96f){return''+_0x20d0eb+_0x2bb951+_0xb3c96f;}function _0x152ae4(_0x35234f){const _0xf1e45a=_0x128a0b;return _0x35234f===_0x172daa[_0xf1e45a(0xb12)]?_0xf1e45a(0xa4e):'OutgoingSubscription';}function _0x423c76(_0x46f22b,_0x53c295){const _0x3ec36b=_0x128a0b;return{'label':_0x46f22b[_0x3ec36b(0x1e9)](),'contentType':_0x46f22b[_0x3ec36b(0x6da)](),'remoteId':_0x53c295[_0x3ec36b(0x846)](),'supportsContentType':_0x53c295[_0x3ec36b(0x18f)]()[_0x3ec36b(0x6b7)](_0x46f22b[_0x3ec36b(0x6da)]())};}!function(_0x26cd77){const _0x2358d2=_0x128a0b;_0x26cd77[_0x26cd77[_0x2358d2(0xac2)]=0x0]=_0x2358d2(0xac2),_0x26cd77[_0x26cd77['Accepted']=0x1]='Accepted',_0x26cd77[_0x26cd77[_0x2358d2(0x96f)]=0x2]='Rejected';}(_0x56b813||(_0x56b813={})),function(_0x2c487b){const _0x4bb1fa=_0x128a0b;_0x2c487b[_0x4bb1fa(0xb12)]='in',_0x2c487b[_0x4bb1fa(0x53a)]=_0x4bb1fa(0x7b0);}(_0x172daa||(_0x172daa={}));class _0x378ec7{['callback'];[_0x128a0b(0x256)];constructor(_0x473aa6,_0x286143){const _0x357d02=_0x128a0b;this[_0x357d02(0x8a2)]=_0x473aa6,this['retryCallback']=_0x286143;}[_0x128a0b(0x4cd)](_0x1e65fe){this['callback'](_0x1e65fe);}async[_0x128a0b(0x252)](){await this['retryCallback']();}}class _0x3e5232{[_0x128a0b(0x8a2)];[_0x128a0b(0x256)];constructor(_0x23a5b3,_0x47dc42){const _0x6d85e=_0x128a0b;this[_0x6d85e(0x8a2)]=_0x23a5b3,this[_0x6d85e(0x256)]=_0x47dc42;}async[_0x128a0b(0x4cd)](_0x45decb){const _0xd25950=_0x128a0b;await this[_0xd25950(0x8a2)](_0x45decb);}async['wait'](){const _0x102b85=_0x128a0b;await this[_0x102b85(0x256)]();}}function _0x4a634a(_0x26f3f4=()=>{},_0x2e696d=()=>!0x1,_0x55828f=()=>{}){let _0x58b3ff,_0x500a79,_0x4f636b=0x0;return{get 'size'(){return _0x4f636b;},get 'head'(){return _0x58b3ff;},get 'tail'(){return _0x500a79;},set 'head'(_0x3dec89){_0x58b3ff=_0x3dec89;},set 'tail'(_0x311e97){_0x500a79=_0x311e97;},'push'(_0x1c9383,_0x156290=!0x0){const _0x4c79de=a0_0xdea0,_0x4673f0={'value':_0x1c9383};_0x156290&&_0x2e696d(_0x4673f0)?_0x26f3f4():(_0x500a79&&(_0x4673f0[_0x4c79de(0x23c)]=_0x500a79,_0x500a79[_0x4c79de(0x20a)]=_0x4673f0),_0x500a79=_0x4673f0,_0x58b3ff||(_0x58b3ff=_0x4673f0),_0x4f636b+=0x1,_0x156290&&_0x26f3f4());},'pop'(){const _0x348cbb=a0_0xdea0;if(!_0x500a79)return;const _0x43e874=_0x500a79['value'];return _0x500a79=_0x500a79[_0x348cbb(0x23c)],_0x500a79&&delete _0x500a79[_0x348cbb(0x20a)],_0x500a79||(_0x58b3ff=void 0x0),_0x4f636b-=0x1,_0x43e874;},'unshift'(_0x172ba1,_0x20b12b=!0x0){const _0xa3a637=a0_0xdea0,_0x216570={'value':_0x172ba1};_0x20b12b&&_0x2e696d(_0x216570)?_0x26f3f4():(_0x58b3ff&&(_0x58b3ff[_0xa3a637(0x23c)]=_0x216570,_0x216570['next']=_0x58b3ff),_0x58b3ff=_0x216570,_0x500a79||(_0x500a79=_0x216570),_0x4f636b+=0x1,_0x20b12b&&_0x26f3f4());},'shift'(){const _0x4952ea=a0_0xdea0;if(!_0x58b3ff)return;const _0x57748d=_0x58b3ff[_0x4952ea(0x443)];return _0x58b3ff=_0x58b3ff[_0x4952ea(0x20a)],_0x58b3ff&&delete _0x58b3ff[_0x4952ea(0x23c)],_0x58b3ff||(_0x500a79=void 0x0),_0x4f636b-=0x1,_0x57748d;},'clear'(){_0x55828f(),_0x58b3ff=void 0x0,_0x500a79=void 0x0,_0x4f636b=0x0;}};}function _0x3e2378(_0x333bd8,_0x111aea=!0x1,_0x2b6620=()=>{},_0x15110d=()=>!0x1,_0x122a62=()=>{}){let _0x799a29=!0x1;const _0x40a64a=_0x4a634a(async function(){const _0x1266b3=a0_0xdea0;if(!_0x799a29){for(_0x799a29=!0x0;_0x40a64a[_0x1266b3(0x4d6)];){const _0x2a6b2a=_0x40a64a[_0x1266b3(0x404)]();if(_0x2a6b2a)try{_0x333bd8 instanceof _0x378ec7&&_0x333bd8[_0x1266b3(0x4cd)](_0x2a6b2a),_0x333bd8 instanceof _0x3e5232&&await _0x333bd8[_0x1266b3(0x4cd)](_0x2a6b2a),_0x2b6620(_0x2a6b2a);}catch(_0x26a554){_0x111aea?_0x40a64a[_0x1266b3(0xa98)](_0x2a6b2a,!0x1):_0x40a64a['unshift'](_0x2a6b2a,!0x1),await _0x333bd8[_0x1266b3(0x252)]();}}_0x799a29=!0x1;}},_0x15110d,_0x122a62);return _0x40a64a;}class _0x27d42f extends _0x30591{[_0x128a0b(0x61b)];[_0x128a0b(0x3b9)];[_0x128a0b(0x30f)]=_0x3f9394[_0x128a0b(0x50f)][_0x128a0b(0x8ba)];['connectionStateListener']=_0x426138();[_0x128a0b(0x36f)]=_0x41572e();[_0x128a0b(0x8cb)];[_0x128a0b(0xac4)];['retryQueue']=_0x3e2378(new _0x3e5232(this[_0x128a0b(0x3f8)]['bind'](this),this['waitConnected'][_0x128a0b(0xa47)](this)));[_0x128a0b(0x192)];constructor(_0x1bcf20,_0x71a56f,_0x3de3e6,_0x133863,_0x304a14){const _0x54dde5=_0x128a0b;super(_0x71a56f,_0x3de3e6,_0x133863),this[_0x54dde5(0x61b)]=_0x1bcf20,this['authService']=_0x304a14;}async['connect'](){const _0x551bee=_0x128a0b;try{const _0x478d43={'getTokens':async()=>{const _0x857ec1=a0_0xdea0,_0x10e3fb=await this[_0x857ec1(0x3b9)][_0x857ec1(0xa4c)]();return{'accessToken':(0x0,_0x4b50d8['decodeJWT'])(_0x10e3fb),'idToken':(0x0,_0x4b50d8[_0x857ec1(0x8b2)])(_0x10e3fb)};}};_0x37ae28[_0x551bee(0x2b0)][_0x551bee(0x1b6)]({'API':{'GraphQL':{'endpoint':_0x4106b9[_0x551bee(0x284)][_0x551bee(0x27e)],'region':_0x4106b9['aws'][_0x551bee(0x5d2)],'defaultAuthMode':_0x551bee(0x42f)}}},{'Auth':{'tokenProvider':_0x478d43}});const _0x15543c=(0x0,_0x3f9394[_0x551bee(0x278)])();this[_0x551bee(0x192)]=_0x15543c,await this[_0x551bee(0x3b4)](),this['listenUnsubscriber']=_0x413fd2[_0x551bee(0x8b9)]['listen'](_0x551bee(0x29b),async({payload:_0x263dbf})=>{const _0x5b5773=_0x551bee;if(_0x263dbf[_0x5b5773(0xa9e)]===_0x3f9394[_0x5b5773(0x484)]){const _0x22980f=_0x263dbf[_0x5b5773(0xaae)];this[_0x5b5773(0x30f)]=_0x22980f[_0x5b5773(0x30f)],this[_0x5b5773(0x4c7)][_0x5b5773(0x56d)](_0x22980f['connectionState']),this[_0x5b5773(0x30f)]===_0x3f9394[_0x5b5773(0x50f)][_0x5b5773(0x8ba)]?(_0x265260[_0x5b5773(0x5b5)](_0x5b5773(0x785),{'clusterId':this[_0x5b5773(0x2cd)],'nodeId':this['getLocalId'](),'nodeType':this['localNode'][_0x5b5773(0x7dd)]}),this['close'](),this[_0x5b5773(0x7f3)]()):this[_0x5b5773(0x30f)]===_0x3f9394['ConnectionState'][_0x5b5773(0x237)]?_0x265260[_0x5b5773(0x1c3)](_0x5b5773(0x5ed),{'clusterId':this['clusterId'],'nodeId':this['getLocalId'](),'nodeType':this[_0x5b5773(0x8cc)][_0x5b5773(0x7dd)]}):_0x265260['warning'](_0x5b5773(0x1b9),{'clusterId':this[_0x5b5773(0x2cd)],'nodeId':this['getLocalId'](),'nodeType':this[_0x5b5773(0x8cc)]['type'],'data':{'state':_0x22980f[_0x5b5773(0x30f)]}});}});}catch(_0x12e6e5){_0x265260['error'](_0x551bee(0x3af),{'clusterId':this[_0x551bee(0x2cd)],'nodeId':this[_0x551bee(0x3d1)](),'nodeType':this[_0x551bee(0x8cc)][_0x551bee(0x7dd)]});}}['close'](){const _0x3de5e6=_0x128a0b;_0x265260[_0x3de5e6(0x1c3)]('appsync-close',{'clusterId':this['clusterId'],'nodeId':this[_0x3de5e6(0x3d1)](),'nodeType':this[_0x3de5e6(0x8cc)][_0x3de5e6(0x7dd)]}),this['retryQueue'][_0x3de5e6(0x9e4)](),this[_0x3de5e6(0xac4)]?.(),this['subscription']?.[_0x3de5e6(0x3b0)](),delete this[_0x3de5e6(0x8cb)];}[_0x128a0b(0x4a3)](){const _0x2c0960=_0x128a0b;return this[_0x2c0960(0x30f)]===_0x3f9394[_0x2c0960(0x50f)][_0x2c0960(0x237)];}[_0x128a0b(0x8d1)](_0x398980){const _0x2055f0=_0x128a0b;this[_0x2055f0(0x6c3)]['push'](_0x398980);}[_0x128a0b(0x1d7)](_0x42d705){const _0x3b9401=_0x128a0b;return this['messageListeners'][_0x3b9401(0x3b4)](_0x42d705);}[_0x128a0b(0x18f)](){const _0x24be07=_0x128a0b;return[_0x16f74[_0x24be07(0x6f5)][_0x24be07(0x743)]];}async[_0x128a0b(0x2e8)](){const _0x35c5d7=_0x128a0b;if(!this[_0x35c5d7(0x4a3)]())return new Promise(_0x2095e8=>{const _0x2268ed=_0x35c5d7,_0x45aae6=this[_0x2268ed(0x4c7)][_0x2268ed(0x3b4)](_0x3ab57a=>{const _0x12ae81=_0x2268ed;_0x3ab57a===_0x3f9394[_0x12ae81(0x50f)][_0x12ae81(0x237)]&&(_0x45aae6(),_0x2095e8());});});}async[_0x128a0b(0x3f8)](_0x59c6a9){const _0x53654b=_0x128a0b;if(this['connectionState']!==_0x3f9394[_0x53654b(0x50f)][_0x53654b(0x237)])throw new Error(_0x53654b(0xa61));_0x59c6a9['destinationIds']&&0x1===_0x59c6a9[_0x53654b(0x6ba)][_0x53654b(0xa20)]?await this['publish'](_0x59c6a9['destinationIds'][0x0],JSON[_0x53654b(0x30b)](_0x59c6a9)):_0x265260[_0x53654b(0x5b5)](_0x53654b(0xafe),{'clusterId':this['clusterId'],'nodeId':this['getLocalId'](),'nodeType':this['localNode'][_0x53654b(0x7dd)]});}async[_0x128a0b(0x56d)](_0x148c4b,_0x3d7871){const _0x579e5b=_0x128a0b;if(!this[_0x579e5b(0x192)])throw new Error(_0x579e5b(0x7d5));_0x265260['log'](_0x1367fe[_0x579e5b(0x504)],_0x579e5b(0x476),this[_0x579e5b(0x3d1)](),_0x3d7871),await this[_0x579e5b(0x192)][_0x579e5b(0x254)]({'query':_0x579e5b(0x457),'variables':{'name':await this[_0x579e5b(0x800)](_0x148c4b),'data':_0x3d7871}});}async[_0x128a0b(0x3b4)](){const _0x2cd69a=_0x128a0b;if(this[_0x2cd69a(0x8cb)])return;if(!this[_0x2cd69a(0x192)])throw new Error('AppSync\x20client\x20not\x20ready');_0x265260[_0x2cd69a(0x552)](_0x1367fe[_0x2cd69a(0x504)],_0x2cd69a(0x5ab),this['getLocalId']());const _0x1c6701=await this['client'][_0x2cd69a(0x254)]({'query':_0x2cd69a(0x6d7),'variables':{'name':await this[_0x2cd69a(0x800)]()},'authToken':await this[_0x2cd69a(0x3b9)][_0x2cd69a(0xa4c)]()},{'Authorization':await this[_0x2cd69a(0x3b9)][_0x2cd69a(0xa4c)]()});this[_0x2cd69a(0x8cb)]=_0x1c6701[_0x2cd69a(0x3b4)]({'next':({data:_0x4b0ba3})=>{const _0x28daa9=_0x2cd69a,_0x414963=JSON[_0x28daa9(0x562)](_0x4b0ba3['subscribe']['data']);!_0x138bc2(_0x414963,this['getLocalId']())&&_0x529a07(_0x414963,this['getLocalId']())&&this[_0x28daa9(0x36f)]['publish'](_0x414963);},'error':console[_0x2cd69a(0x552)]});}async[_0x128a0b(0x800)](_0x4af885){const _0x4130e0=_0x128a0b,_0x104540=await crypto[_0x4130e0(0xa31)][_0x4130e0(0x1af)](_0x4130e0(0x53f),new TextEncoder()['encode'](this[_0x4130e0(0x61b)]+'-'+this[_0x4130e0(0x2cd)]+'-'+(_0x4af885??this[_0x4130e0(0x3d1)]())));return Array[_0x4130e0(0x1ec)](new Uint8Array(_0x104540))[_0x4130e0(0x8ac)](_0x3b5bc0=>_0x3b5bc0[_0x4130e0(0x5da)](0x10)[_0x4130e0(0x889)](0x2,'0'))[_0x4130e0(0x406)]('');}}!function(_0xe95bce){const _0x387942=_0x128a0b;_0xe95bce[_0xe95bce[_0x387942(0xaaa)]=0x0]=_0x387942(0xaaa),_0xe95bce[_0xe95bce[_0x387942(0x690)]=0x1]=_0x387942(0x690),_0xe95bce[_0xe95bce[_0x387942(0xa5f)]=0x2]=_0x387942(0xa5f),_0xe95bce[_0xe95bce[_0x387942(0x881)]=0x3]='RemoteAdd',_0xe95bce[_0xe95bce[_0x387942(0x349)]=0x4]=_0x387942(0x349);}(_0x155040||(_0x155040={}));const _0x2a1779='0',_0x2c7043='chunk',_0x4e5db2=_0x5c06b7,_0x4c266f=0x60000;class _0x4178c4{[_0x128a0b(0x2cd)];['localNode'];[_0x128a0b(0x606)];[_0x128a0b(0x1dd)];[_0x128a0b(0x2d8)];[_0x128a0b(0xa99)];[_0x128a0b(0x380)];[_0x128a0b(0x610)];['currentVersion']=0x1;[_0x128a0b(0x7be)];[_0x128a0b(0x64a)]=[];[_0x128a0b(0x515)]=[];[_0x128a0b(0x73e)];constructor(_0x5aeac3,_0x4eaa80,_0x14c9cc,_0x48130a,_0x5ad6cf,_0x458f97){const _0x294cc4=_0x128a0b;this[_0x294cc4(0x2cd)]=_0x5aeac3,this['localNode']=_0x4eaa80,this[_0x294cc4(0x606)]=_0x14c9cc,this['iceServers']=_0x48130a,this[_0x294cc4(0x2d8)]=_0x5ad6cf,this[_0x294cc4(0xa99)]=_0x458f97,this['connection']=new this[(_0x294cc4(0xa99))]({'handshakeServers':this[_0x294cc4(0x1dd)]}),this[_0x294cc4(0x71b)]();}['close'](){const _0x5bbe76=_0x128a0b;this[_0x5bbe76(0x85f)]();}['setConnectionType'](_0x17f73a){const _0x43be01=_0x128a0b;this[_0x43be01(0x2d8)]=_0x17f73a;}async[_0x128a0b(0xa55)](_0x2138f,_0x3ef24d){const _0x4ce99b=_0x128a0b;if(_0x3ef24d===this[_0x4ce99b(0x65c)])for(const _0x3a0c3d of _0x2138f){if(!this[_0x4ce99b(0x380)]['canAddCandidates'])return this[_0x4ce99b(0x4d0)](_0x3a0c3d);try{await this[_0x4ce99b(0x380)][_0x4ce99b(0x9e6)](_0x3a0c3d);}catch(_0x476274){this[_0x4ce99b(0x4d0)](_0x3a0c3d);}}}[_0x128a0b(0x4a3)](){const _0x2088f6=_0x128a0b;return this[_0x2088f6(0x294)](),'connected'===this[_0x2088f6(0x380)][_0x2088f6(0x30f)]&&[_0x2088f6(0x3ab),_0x2088f6(0x7bf)][_0x2088f6(0x6b7)](this[_0x2088f6(0x380)][_0x2088f6(0x5c3)])&&'closed'!==this[_0x2088f6(0x380)][_0x2088f6(0x221)]&&_0x2088f6(0x645)===this[_0x2088f6(0x610)]?.[_0x2088f6(0x243)];}[_0x128a0b(0x8fe)](_0x2cec8e){const _0x1abed3=_0x128a0b;this[_0x1abed3(0x7be)]=_0x2cec8e;}[_0x128a0b(0x211)](){const _0x569190=_0x128a0b;delete this[_0x569190(0x7be)];}[_0x128a0b(0x6db)](_0x585472){const _0x4cc50d=_0x128a0b;this[_0x4cc50d(0x85f)](),this['connection']=new this['connectionConstructor']({'handshakeServers':this[_0x4cc50d(0x1dd)]}),_0x585472?this[_0x4cc50d(0x65c)]=_0x585472:this['currentVersion']+=0x1,this[_0x4cc50d(0x71b)]();}[_0x128a0b(0x200)](){const _0x2472e5=_0x128a0b;this[_0x2472e5(0x515)]['forEach'](_0xe27ab=>{const _0xb3ea6e=_0x2472e5;try{this['connection'][_0xb3ea6e(0x9e6)](_0xe27ab);}catch(_0x5b0977){}}),this[_0x2472e5(0x515)]=[];}[_0x128a0b(0x314)](_0x44cb4d,_0x267ecc){const _0x38dddf=_0x128a0b;if(!this[_0x38dddf(0x7be)])throw new _0x4204a5(_0x4204a5[_0x38dddf(0x7f9)][_0x38dddf(0x28d)],{'content':_0x44cb4d});const _0xdde393={'sourceId':this['localNode'][_0x38dddf(0x993)](),'destinationIds':[this[_0x38dddf(0x606)]],'propagate':this['connectionType']!==_0x899d67['Core'],'retry':this['connectionType']!==_0x899d67[_0x38dddf(0x802)],'messageType':_0x562b7c[_0x38dddf(0x9b3)],'content':_0x44cb4d};_0x267ecc&&(_0xdde393[_0x38dddf(0x468)]=_0x267ecc),this[_0x38dddf(0x7be)][_0x38dddf(0x56d)](_0xdde393);}[_0x128a0b(0x71b)](){const _0x3afcb6=_0x128a0b;this['connection'][_0x3afcb6(0x7d8)]=()=>{const _0x4fcae5=_0x3afcb6;'complete'===this['connection'][_0x4fcae5(0x9d9)]&&this[_0x4fcae5(0x64a)][_0x4fcae5(0xa20)]>0x0&&(this[_0x4fcae5(0x73e)]&&clearTimeout(this[_0x4fcae5(0x73e)]),this[_0x4fcae5(0x73e)]=setTimeout(()=>{const _0x2b228e=_0x4fcae5;delete this[_0x2b228e(0x73e)],this[_0x2b228e(0x4b4)](),this[_0x2b228e(0x64a)]=[];},0x1f4));},this[_0x3afcb6(0x380)][_0x3afcb6(0x3d6)]=_0x7d0392=>{const _0x29f9f7=_0x3afcb6;_0x7d0392[_0x29f9f7(0x551)]&&this[_0x29f9f7(0x64a)][_0x29f9f7(0xa98)](_0x7d0392[_0x29f9f7(0x551)]);};}['stopConnection'](){const _0x115e0d=_0x128a0b;clearTimeout(this[_0x115e0d(0x73e)]),delete this['handshakeDebounce'],this[_0x115e0d(0x64a)]=[],this[_0x115e0d(0x515)]=[],this[_0x115e0d(0x610)]&&(this['dataChannel']['onMessage']=null,this[_0x115e0d(0x610)][_0x115e0d(0xaef)]=null,this[_0x115e0d(0x610)][_0x115e0d(0x42d)](),delete this[_0x115e0d(0x610)]),this['connection'][_0x115e0d(0x7d8)]=null,this[_0x115e0d(0x380)][_0x115e0d(0x3d6)]=null,this[_0x115e0d(0x380)][_0x115e0d(0x231)]=null,this[_0x115e0d(0x380)][_0x115e0d(0x527)]=null,this['connection'][_0x115e0d(0x671)]=null,this[_0x115e0d(0x380)]['onDataChannel']=null,this[_0x115e0d(0x380)]['close']();}[_0x128a0b(0x4d0)](_0x25235f){const _0x50a2f8=_0x128a0b;this[_0x50a2f8(0x515)]['push'](_0x25235f);}['logConnectionState'](){const _0x33ffb8=_0x128a0b;_0x265260['log'](_0x1367fe[_0x33ffb8(0x50f)],_0x33ffb8(0xa11),{'localId':this[_0x33ffb8(0x8cc)][_0x33ffb8(0x993)](),'remoteId':this[_0x33ffb8(0x606)],'connectionState':this[_0x33ffb8(0x380)]['connectionState'],'handshakeState':this['connection'][_0x33ffb8(0x5c3)],'signalingState':this[_0x33ffb8(0x380)][_0x33ffb8(0x221)],'dataChannelState':this[_0x33ffb8(0x610)]?.[_0x33ffb8(0x243)]});}}function _0xc2777d(_0x5bd5e2,_0x6a5313){_0x6a5313['publish']({'sourceId':_0x4b0f68,'messageType':_0x562b7c['PeerConnection'],'content':_0x5bd5e2});}class _0x41e003{static ['instance'];['parameters']=[];[_0x128a0b(0x8f9)];constructor(){setInterval(()=>{const _0x40859f=a0_0xdea0;this[_0x40859f(0x781)][_0x40859f(0x8b3)](_0x185d78=>{const _0x50aeab=_0x40859f;if(Date[_0x50aeab(0x85a)]()-_0x185d78['lastExecuted']>_0x185d78[_0x50aeab(0x995)]){try{_0x185d78[_0x50aeab(0x8a2)]();}catch(_0xbeaf06){}_0x185d78[_0x50aeab(0x55f)]=Date['now']();}});},0x64);}static[_0x128a0b(0x2cc)](){const _0x1f32aa=_0x128a0b;return _0x41e003[_0x1f32aa(0x8e0)]||(_0x41e003['instance']=new _0x41e003()),_0x41e003[_0x1f32aa(0x8e0)];}['startNoThrottlingHack'](_0x289b7d){const _0x19f7b9=_0x128a0b,_0x53159e=this['createConstantSource'](_0x289b7d),_0x1f0c0f=_0x289b7d[_0x19f7b9(0x989)]();_0x1f0c0f&&_0x53159e&&(_0x1f0c0f[_0x19f7b9(0x1f2)]['value']=0.001,_0x53159e[_0x19f7b9(0x7f3)](_0x1f0c0f),_0x1f0c0f[_0x19f7b9(0x7f3)](_0x289b7d['destination']),_0x53159e[_0x19f7b9(0x71e)]());}[_0x128a0b(0x58a)](){const _0x24346a=_0x128a0b;this[_0x24346a(0x8f9)]&&(this['source'][_0x24346a(0x867)](),this['source'][_0x24346a(0x5a7)](),this[_0x24346a(0x8f9)]=void 0x0);}[_0x128a0b(0x252)](_0x5d1083){return new Promise(_0x246c4c=>{setTimeout(_0x246c4c,_0x5d1083);});}[_0x128a0b(0x7ec)](_0x533ef3,_0x3d293f){const _0x3bc882=_0x128a0b;return this['parameters'][_0x3bc882(0xa98)]({'callback':_0x533ef3,'interval':_0x3d293f,'lastExecuted':Date[_0x3bc882(0x85a)]()}),()=>{const _0x481216=_0x3bc882;this['parameters']=this[_0x481216(0x781)][_0x481216(0x2ca)](_0xd628f5=>_0xd628f5[_0x481216(0x8a2)]!==_0x533ef3);};}['createConstantSource'](_0x2e332f){const _0x548914=_0x128a0b;if(_0x2e332f[_0x548914(0xa66)])return _0x2e332f['createConstantSource']();const _0x33678e=_0x2e332f[_0x548914(0x4f7)](),_0x48fc9e=_0x2e332f[_0x548914(0x8ec)](0x1,0x1,_0x2e332f['sampleRate']);return _0x48fc9e[_0x548914(0x391)](0x0)[0x0]=0xa,_0x33678e[_0x548914(0x3ea)]=_0x48fc9e,_0x33678e['loop']=!0x0,_0x33678e;}}const _0x52452b=_0x41e003['getInstance']();class _0x143797 extends _0x4178c4{[_0x128a0b(0x255)]=_0x426138();[_0x128a0b(0x470)]=_0x426138();[_0x128a0b(0x6ab)]=_0x426138();[_0x128a0b(0x5f3)]=new Map();[_0x128a0b(0x50e)]=new Map();['waitSuccess'];['messagesReceived']=0x0;[_0x128a0b(0x3dd)]={'messages':{'total':0x0}};[_0x128a0b(0xa43)]=0x0;[_0x128a0b(0x1d0)]=0x0;['loggingCycle']=_0x46d088(_0x128a0b(0x21f),_0x1367fe[_0x128a0b(0x9ab)]);[_0x128a0b(0x42d)](){const _0xf4037=_0x128a0b;this[_0xf4037(0x1fd)](),this['receivers'][_0xf4037(0x9e4)](),super[_0xf4037(0x42d)]();}async[_0x128a0b(0x20c)](_0x4a9dd4,_0x4e74f5){const _0x5cd2b=_0x128a0b;this[_0x5cd2b(0x65c)]=_0x4e74f5,this[_0x5cd2b(0x1fd)]();const _0x35ac1d=await this[_0x5cd2b(0x380)][_0x5cd2b(0x9bc)](_0x4a9dd4);this[_0x5cd2b(0x200)]();const _0x208665=(0x0,_0x49421a['v4'])();this['publishSystemMessage']({'type':_0x303120[_0x5cd2b(0x8d4)],'answer':_0x35ac1d,'version':_0x4e74f5,'connectionType':this[_0x5cd2b(0x2d8)]},_0x208665),this[_0x5cd2b(0x2d8)]===_0x899d67[_0x5cd2b(0x802)]&&(this['waitSuccess']=_0x52452b[_0x5cd2b(0x7ec)](()=>{const _0x1661d0=_0x5cd2b;this['publishSystemMessage']({'type':_0x303120[_0x1661d0(0x8d4)],'answer':_0x35ac1d,'version':_0x4e74f5,'connectionType':this[_0x1661d0(0x2d8)]},_0x208665);},0x1388));}[_0x128a0b(0x82b)](){this['clearWaitSuccess']();}[_0x128a0b(0x23b)](_0x36de50){const _0x5df96a=_0x128a0b;this[_0x5df96a(0x6db)](_0x36de50),this[_0x5df96a(0x314)]({'type':_0x303120[_0x5df96a(0x57f)]});}async[_0x128a0b(0x27a)](){const _0x2d79d0=_0x128a0b;this[_0x2d79d0(0x7be)]&&(await this[_0x2d79d0(0x380)][_0x2d79d0(0x3dc)](this[_0x2d79d0(0x5f3)],(_0x56a4c0,_0x5a7962)=>{const _0x23b686=_0x2d79d0;_0xc2777d({'type':_0x303120['Stats'],'streamId':_0x5a7962,'nodeId':this[_0x23b686(0x606)],'stats':_0x56a4c0},this['systemTopic']);}),this[_0x2d79d0(0x7be)][_0x2d79d0(0x56d)]({'sourceId':_0x4b0f68,'messageType':_0x562b7c['PeerConnection'],'content':{'type':_0x303120[_0x2d79d0(0x1a6)],'nodeId':this[_0x2d79d0(0x606)],'stats':{'origin':_0x344238['Receiver'],'timestamp':Date['now'](),'messagesReceived':this[_0x2d79d0(0x68a)],'bytesReceived':this[_0x2d79d0(0xa43)],'timeReceiving':this[_0x2d79d0(0x1d0)],'systemMessages':this[_0x2d79d0(0x3dd)]}}}));}['onMessage'](_0x31b104){const _0x51c522=_0x128a0b;return _0x4106b9[_0x51c522(0x602)]?this[_0x51c522(0x255)]['subscribe'](_0x31b104):this[_0x51c522(0x255)][_0x51c522(0x3b4)](_0x11d91d=>{const _0x58665a=_0x51c522;0x0===_0x11d91d[_0x58665a(0x6be)]&&_0x11d91d[_0x58665a(0x9a4)]===_0x562b7c[_0x58665a(0x40d)]&&this[_0x58665a(0x872)][_0x58665a(0x576)]['log'](_0x58665a(0x45f)+this['remoteId'],()=>_0x4bdc7c(_0x11d91d)),_0x31b104(_0x11d91d);});}[_0x128a0b(0x671)](_0xd2c4c0){const _0x14c8b3=_0x128a0b;return this[_0x14c8b3(0x470)][_0x14c8b3(0x3b4)](({track:_0x260623,stream:_0x26eb2e})=>_0xd2c4c0(_0x260623,_0x26eb2e));}[_0x128a0b(0x68c)](_0x3269a9){const _0x15daab=_0x128a0b;return this[_0x15daab(0x6ab)][_0x15daab(0x3b4)](({track:_0x4e061c,stream:_0x14648e})=>_0x3269a9(_0x4e061c,_0x14648e));}['resetConnection'](_0x54ddfd){const _0x54529a=_0x128a0b;this['clearWaitSuccess'](),this[_0x54529a(0x5f3)][_0x54529a(0x8b3)](_0x1d9c46=>{const _0x25a812=_0x54529a;_0x1d9c46[_0x25a812(0x9e4)]();}),super[_0x54529a(0x6db)](_0x54ddfd);}[_0x128a0b(0x4b4)](){const _0x1c7276=_0x128a0b;this[_0x1c7276(0x314)]({'type':_0x303120[_0x1c7276(0x489)],'candidates':this[_0x1c7276(0x64a)],'origin':_0x344238[_0x1c7276(0x7b9)],'version':this['currentVersion'],'connectionType':this[_0x1c7276(0x2d8)]});}[_0x128a0b(0x71b)](){const _0x31d5c9=_0x128a0b;super[_0x31d5c9(0x71b)](),this[_0x31d5c9(0x380)]['onTrack']=_0x1bd9d3=>{const _0x45b6d3=_0x31d5c9;_0x265260[_0x45b6d3(0x552)](_0x1367fe['Connection'],_0x45b6d3(0x48b),this[_0x45b6d3(0x8cc)][_0x45b6d3(0x993)](),_0x1bd9d3),_0x1bd9d3['streams'][0x0][_0x45b6d3(0x297)]=_0x5eaff5=>{const _0x4466cb=_0x45b6d3;this[_0x4466cb(0x5f3)][_0x4466cb(0x8b0)](_0x1bd9d3['streams'][0x0]['id'])?.['delete'](_0x5eaff5[_0x4466cb(0x6b0)]),0x0===this[_0x4466cb(0x5f3)]['get'](_0x1bd9d3[_0x4466cb(0x345)][0x0]['id'])?.['size']&&this[_0x4466cb(0x5f3)][_0x4466cb(0x560)](_0x1bd9d3[_0x4466cb(0x345)][0x0]['id']),this[_0x4466cb(0x6ab)][_0x4466cb(0x56d)]({'track':_0x5eaff5[_0x4466cb(0x6b0)],'stream':_0x1bd9d3[_0x4466cb(0x345)][0x0]});},this[_0x45b6d3(0x5f3)][_0x45b6d3(0x301)](_0x1bd9d3['streams'][0x0]['id'])||this['receivers'][_0x45b6d3(0x663)](_0x1bd9d3['streams'][0x0]['id'],new Set()),this['receivers'][_0x45b6d3(0x8b0)](_0x1bd9d3[_0x45b6d3(0x345)][0x0]['id'])[_0x45b6d3(0x368)](_0x1bd9d3[_0x45b6d3(0x6b0)]),this[_0x45b6d3(0x470)]['publish']({'track':_0x1bd9d3[_0x45b6d3(0x6b0)],'stream':_0x1bd9d3[_0x45b6d3(0x345)][0x0]});},this['connection'][_0x31d5c9(0xabe)]=_0xb04aa2=>{const _0xe03570=_0x31d5c9;this['dataChannel']=_0xb04aa2[_0xe03570(0x228)],this[_0xe03570(0x610)][_0xe03570(0x1d7)]=_0x2e9608=>{const _0x352a73=_0xe03570;if(_0x2e9608[_0x352a73(0xaae)]!==_0x2a1779)this[_0x352a73(0x9e2)](_0x2e9608[_0x352a73(0xaae)]);else{if(!this['dataChannel'])return void _0x265260[_0x352a73(0x5b5)](_0x352a73(0x375),{'clusterId':this['clusterId'],'nodeId':this[_0x352a73(0x8cc)][_0x352a73(0x993)](),'nodeType':this['localNode'][_0x352a73(0x7dd)],'remoteId':this[_0x352a73(0x606)],'data':{'connection':_0x352a73(0x283)}});if(_0x352a73(0x645)!==this['dataChannel']['state'])return;this['dataChannel'][_0x352a73(0x8d1)]('1');}};};}[_0x128a0b(0x9e2)](_0x1552d6){const _0x2e40fd=_0x128a0b;if(_0x2e40fd(0x55c)==typeof _0x1552d6&&_0x1552d6['startsWith'](_0x2c7043))return this[_0x2e40fd(0x68a)]+=0x1,this['bytesReceived']+=_0x1552d6[_0x2e40fd(0xa20)],this[_0x2e40fd(0x8bb)](_0x1552d6);setTimeout(()=>{const _0x18a4ac=_0x2e40fd,_0x5a226a=Date[_0x18a4ac(0x85a)]();let _0x2707c0;if((_0x1552d6 instanceof ArrayBuffer||_0x1552d6[_0x18a4ac(0xa20)]<=_0x4e5db2)&&(this[_0x18a4ac(0x68a)]+=0x1,this['bytesReceived']+=_0x1552d6 instanceof ArrayBuffer?_0x1552d6[_0x18a4ac(0x452)]:_0x1552d6[_0x18a4ac(0xa20)]),_0x1552d6 instanceof ArrayBuffer){const [_0x39e3e5,_0x1dab15]=this['splitParts'](_0x1552d6);_0x2707c0=_0x39e3e5,_0x2707c0[_0x18a4ac(0x95d)][_0x18a4ac(0xaae)]=_0x1dab15;}else _0x2707c0=JSON[_0x18a4ac(0x562)](_0x1552d6);if(0x0===_0x2707c0[_0x18a4ac(0x6be)]){this[_0x18a4ac(0x3dd)][_0x18a4ac(0x973)][_0x18a4ac(0x3d2)]+=0x1;const {systemMessageType:_0x3e30ce,systemContentMessageType:_0xf4b5}=_0x4bdc7c(_0x2707c0);this['systemMessagesReceived'][_0x3e30ce]||(this['systemMessagesReceived'][_0x3e30ce]={[_0xf4b5]:0x0}),this[_0x18a4ac(0x3dd)][_0x3e30ce][_0xf4b5]||(this[_0x18a4ac(0x3dd)][_0x3e30ce][_0xf4b5]=0x0),this['systemMessagesReceived'][_0x3e30ce][_0x18a4ac(0x3d2)]||(this[_0x18a4ac(0x3dd)][_0x3e30ce]['total']=0x0),this[_0x18a4ac(0x3dd)][_0x3e30ce][_0xf4b5]+=0x1,this[_0x18a4ac(0x3dd)][_0x3e30ce][_0x18a4ac(0x3d2)]+=0x1;}this[_0x18a4ac(0x255)][_0x18a4ac(0x56d)](_0x2707c0),this[_0x18a4ac(0x1d0)]+=Date[_0x18a4ac(0x85a)]()-_0x5a226a;},0x0);}['handleChunkMessage'](_0x544ab0){const _0x137c10=_0x128a0b,_0x3b523c=_0x544ab0[_0x137c10(0x302)](';'),_0x133b07=_0x3b523c[0x1],_0x31dac4=parseInt(_0x3b523c[0x2],0xa),_0x3a7aa6=parseInt(_0x3b523c[0x3],0xa),_0x7f858f=_0x544ab0[_0x137c10(0xa2e)](_0x2c7043+';'+_0x133b07+';'+_0x31dac4+';'+_0x3a7aa6+';','');this[_0x137c10(0x50e)][_0x137c10(0x301)](_0x133b07)||this[_0x137c10(0x50e)][_0x137c10(0x663)](_0x133b07,[]);const _0x223f06=this[_0x137c10(0x50e)][_0x137c10(0x8b0)](_0x133b07);_0x223f06[_0x31dac4]=_0x7f858f,_0x223f06[_0x137c10(0xa20)]===_0x3a7aa6&&(this[_0x137c10(0x9e2)](_0x223f06[_0x137c10(0x406)]('')),this[_0x137c10(0x50e)][_0x137c10(0x560)](_0x133b07));}['clearWaitSuccess'](){const _0x2d7b42=_0x128a0b;this[_0x2d7b42(0x407)]?.(),delete this[_0x2d7b42(0x407)];}[_0x128a0b(0x632)](_0x4550b3){const _0x5281e0=_0x128a0b,_0x2e2b8a=new TextDecoder()[_0x5281e0(0x7d9)](_0x4550b3);return JSON['parse'](_0x2e2b8a);}[_0x128a0b(0x2c5)](_0x1a0454){const _0x5d45ca=_0x128a0b,_0x2b448e=new Uint8Array(_0x1a0454[_0x5d45ca(0x659)](0x0,0x4)),_0x100c0c=new Uint32Array(_0x2b448e[_0x5d45ca(0x3ea)])[0x0],_0x5a86b0=new Uint8Array(_0x1a0454[_0x5d45ca(0x659)](0x4,0x4+_0x100c0c)),_0xace09=new Uint8Array(_0x1a0454[_0x5d45ca(0x659)](0x4+_0x100c0c));return[this[_0x5d45ca(0x632)](_0x5a86b0[_0x5d45ca(0x3ea)]),_0xace09[_0x5d45ca(0x3ea)]];}}const _0x473a0e=0xc350;var _0x3bd159,_0x1bde37;!function(_0x5e2052){const _0x3d752f=_0x128a0b;_0x5e2052[_0x5e2052[_0x3d752f(0x68e)]=0x0]=_0x3d752f(0x68e),_0x5e2052[_0x5e2052[_0x3d752f(0x6b1)]=0x1]=_0x3d752f(0x6b1),_0x5e2052[_0x5e2052[_0x3d752f(0x7d7)]=0x2]=_0x3d752f(0x7d7);}(_0x3bd159||(_0x3bd159={}));class _0x39d11f extends _0x4178c4{['maxFps'];['maxBpp'];['senders']=new Map();[_0x128a0b(0x4f3)];[_0x128a0b(0x39d)];[_0x128a0b(0x1cc)];[_0x128a0b(0x346)]=!0x1;['connectionTimeout'];['restartTimeout'];['upgradeTimeout'];[_0x128a0b(0x6c3)]=function(e,t=_0x3bd159,s=!0x1){const _0x5548be=_0x128a0b;let n=!0x1;const i=[];async function a(){const _0x361e54=a0_0xdea0;if(!n){for(n=!0x0;i['some'](e=>e[_0x361e54(0x4d6)]);){let t,n=0x0;for(const [e,s]of i[_0x361e54(0x268)]())if(t=s[_0x361e54(0x404)](),n=e,t)break;if(t)try{if(e instanceof _0x378ec7&&e[_0x361e54(0x4cd)](t),e instanceof _0x3e5232&&await e[_0x361e54(0x4cd)](t),i[_0x361e54(0x659)](-0x1)[_0x361e54(0x3c5)](e=>e[_0x361e54(0x4d6)]))continue;const s=i['length']-0x1;n===s&&i[s]['head']&&await _0x52452b['wait'](0x0);}catch(a){s?i[n][_0x361e54(0xa98)](t,!0x1):i[n][_0x361e54(0x883)](t,!0x1),await e[_0x361e54(0x252)]();}}n=!0x1;}}return Object[_0x5548be(0x36b)](t)[_0x5548be(0x8b3)](e=>{const _0x5d03d6=_0x5548be;_0x5d03d6(0x55c)!=typeof e&&(i[e]=_0x4a634a(a));}),{'queues':i};}(new _0x378ec7(this['sendAction'][_0x128a0b(0xa47)](this),this[_0x128a0b(0x9fa)][_0x128a0b(0xa47)](this)));[_0x128a0b(0x5e4)]=0x0;[_0x128a0b(0x9dc)]=0x0;[_0x128a0b(0x837)]=0x0;[_0x128a0b(0x832)]=0x0;[_0x128a0b(0x6bd)];[_0x128a0b(0x872)]=_0x46d088(_0x128a0b(0x599),_0x1367fe[_0x128a0b(0x9c1)]);constructor(_0xef5e3b,_0x335279,_0x2f2b4a,_0x19e702,_0x10c3fe,_0x18e41d,_0x12c31b,_0x5ab8f3){const _0xf6ddf4=_0x128a0b;super(_0xef5e3b,_0x335279,_0x2f2b4a,_0x19e702,_0x10c3fe,_0x5ab8f3),this[_0xf6ddf4(0x36a)]=_0x18e41d,this[_0xf6ddf4(0x51c)]=_0x12c31b;}['close'](){const _0x12cf35=_0x128a0b;this[_0x12cf35(0x35b)](),this[_0x12cf35(0x84f)](),delete this['lastHeartbeat'],this[_0x12cf35(0x373)](),this['clearConnectionTimeout'](),this['clearWaitAnswer'](),this['senders'][_0x12cf35(0x9e4)](),this['isReconnecting']=!0x1,this[_0x12cf35(0x6c3)][_0x12cf35(0xabd)][_0x12cf35(0x8b3)](_0x50d7e0=>_0x50d7e0[_0x12cf35(0x9e4)]()),this[_0x12cf35(0x95a)](),super[_0x12cf35(0x42d)]();}[_0x128a0b(0x4a3)](){const _0x4870df=_0x128a0b;return!!this[_0x4870df(0x1cc)]&&super[_0x4870df(0x4a3)]()&&Date['now']()-this[_0x4870df(0x1cc)]<0x3a98;}async['collectStats'](){const _0x16725b=_0x128a0b;this['systemTopic']&&(await this[_0x16725b(0x380)][_0x16725b(0x1a1)](this['senders'],(_0x1b6692,_0x23f563)=>{const _0x54996f=_0x16725b;_0xc2777d({'type':_0x303120[_0x54996f(0x1a6)],'streamId':_0x23f563,'nodeId':this[_0x54996f(0x606)],'stats':_0x1b6692},this['systemTopic']);}),this['systemTopic']['publish']({'sourceId':_0x4b0f68,'messageType':_0x562b7c[_0x16725b(0x9b3)],'content':{'type':_0x303120['Stats'],'nodeId':this[_0x16725b(0x606)],'stats':{'origin':_0x344238[_0x16725b(0x20b)],'timestamp':Date['now'](),'messagesSent':this[_0x16725b(0x5e4)],'bytesSent':this[_0x16725b(0x9dc)],'timeSending':this[_0x16725b(0x837)],'roundTripTime':this['roundTripTime']}}}));}async['createOffer'](_0x4a693f){const _0x22b126=_0x128a0b;_0x265260[_0x22b126(0x552)](_0x1367fe[_0x22b126(0xaf5)],'CrewdleSenderConnection\x20createOffer',this['localNode'][_0x22b126(0x993)](),this['remoteId']),this[_0x22b126(0x373)](),this['clearConnectionTimeout'](),this[_0x22b126(0x756)](),this[_0x22b126(0x32f)]=setTimeout(()=>{const _0x18b9b5=_0x22b126;this[_0x18b9b5(0x5e6)]();},0x7530),this['dataChannel']||(this[_0x22b126(0x610)]=this[_0x22b126(0x380)][_0x22b126(0x9e7)](_0x22b126(0xaae)),this[_0x22b126(0x610)][_0x22b126(0x803)]=_0x4c266f,this['dataChannel'][_0x22b126(0xaef)]=()=>{const _0x5ff695=_0x22b126;this[_0x5ff695(0x6bd)]=setTimeout(()=>{const _0x397e22=_0x5ff695;delete this['oncloseTimeout'],[_0x397e22(0x658),_0x397e22(0x645)]['includes'](this[_0x397e22(0x610)]?.[_0x397e22(0x243)]??'')||this[_0x397e22(0x5e6)]();},0xfa);});const _0xb1c385=await this[_0x22b126(0x380)][_0x22b126(0x553)](_0x4a693f);this['lastHeartbeat']||(this[_0x22b126(0x1cc)]=Date['now']());const _0x108672=(0x0,_0x49421a['v4'])();this['publishSystemMessage']({'type':_0x303120[_0x22b126(0x56b)],'offer':_0xb1c385,'version':this[_0x22b126(0x65c)],'connectionType':this[_0x22b126(0x2d8)]},_0x108672),this['connectionType']===_0x899d67[_0x22b126(0x802)]&&(this[_0x22b126(0x39d)]=_0x52452b['setInterval'](()=>{const _0x52d0fd=_0x22b126;this[_0x52d0fd(0x314)]({'type':_0x303120[_0x52d0fd(0x56b)],'offer':_0xb1c385,'version':this['currentVersion'],'connectionType':this[_0x52d0fd(0x2d8)]},_0x108672);},0x1388));}async['handleAnswer'](_0xa49944,_0x2643a8){const _0x6545fc=_0x128a0b;if(_0x2643a8===this['currentVersion']){this[_0x6545fc(0x756)]();try{await this[_0x6545fc(0x380)][_0x6545fc(0x2f1)](_0xa49944,this[_0x6545fc(0x553)][_0x6545fc(0xa47)](this)),this[_0x6545fc(0x200)](),this['clearConnectionTimeout'](),this[_0x6545fc(0x68b)]();}catch(_0x546da2){this[_0x6545fc(0x5e6)]();}}}[_0x128a0b(0x8d1)](_0x458e89){const _0x1798ad=_0x128a0b;if(!this[_0x1798ad(0x610)])throw new _0x4204a5(_0x4204a5[_0x1798ad(0x7f9)][_0x1798ad(0x699)],{'message':_0x1798ad(0x801),'localId':this[_0x1798ad(0x8cc)]['getId'](),'remoteId':this['remoteId'],'eventMessage':_0x458e89});if(_0x1798ad(0x645)!==this['dataChannel'][_0x1798ad(0x243)])throw new _0x4204a5(_0x4204a5[_0x1798ad(0x7f9)][_0x1798ad(0x699)],{'message':'Data\x20cluster\x20is\x20not\x20open.','localId':this[_0x1798ad(0x8cc)]['getId'](),'remoteId':this[_0x1798ad(0x606)],'eventMessage':_0x458e89});let _0x21539a;if(_0x458e89['content'][_0x1798ad(0xaae)]instanceof ArrayBuffer){const _0x200a45=_0x458e89[_0x1798ad(0x95d)][_0x1798ad(0xaae)];_0x458e89={..._0x458e89,'content':{..._0x458e89[_0x1798ad(0x95d)],'data':void 0x0}},_0x21539a=this['mergeParts'](_0x458e89,_0x200a45);}else _0x21539a=JSON['stringify'](_0x458e89);if(_0x1798ad(0x55c)==typeof _0x21539a&&_0x21539a[_0x1798ad(0xa20)]>_0x4e5db2)return void this[_0x1798ad(0x463)](_0x458e89,_0x21539a);0x0===_0x458e89['topicLabel']&&_0x458e89[_0x1798ad(0x9a4)]===_0x562b7c['Content']&&this[_0x1798ad(0x872)][_0x1798ad(0x576)]['performCalculation'](()=>_0x265260[_0x1798ad(0x552)](_0x1367fe['SenderSendMessage'],_0x1798ad(0x2db),this['remoteId'],_0x4bdc7c(_0x458e89)),void 0x0);const _0x539185=0x0===_0x458e89[_0x1798ad(0x6be)]&&[_0x562b7c[_0x1798ad(0x533)],_0x562b7c[_0x1798ad(0x9b3)]][_0x1798ad(0x6b7)](_0x458e89[_0x1798ad(0x9a4)])?_0x3bd159[_0x1798ad(0x68e)]:_0x458e89 instanceof ArrayBuffer?_0x3bd159[_0x1798ad(0x7d7)]:_0x3bd159[_0x1798ad(0x6b1)];this[_0x1798ad(0x6ef)](_0x21539a,_0x539185);}[_0x128a0b(0x776)](_0xf2315a,_0x5c497f,_0x2508b4,_0x53ed58){const _0x295adb=_0x128a0b,_0x54ef30=(_0x5455e5=this[_0x295adb(0x36a)],_0x55d60d=this[_0x295adb(0x51c)],Math[_0x295adb(0x5fc)](0xe1000*_0x5455e5*_0x55d60d));var _0x5455e5,_0x55d60d;const _0x2e9169=this[_0x295adb(0x9a1)][_0x295adb(0x8b0)](_0x5c497f['id'])||{'stream':_0x5c497f,'priority':_0x2508b4,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x54ef30,'maxBitrate':_0x54ef30,'framerate':this[_0x295adb(0x36a)],'maxFramerate':this[_0x295adb(0x36a)],'tracks':{},'params':_0x53ed58},_0x487cf2=_0x2e9169[_0x295adb(0x4c3)][_0xf2315a[_0x295adb(0x338)]]||{'track':_0xf2315a};if(_0x487cf2[_0x295adb(0x423)]?(_0x487cf2[_0x295adb(0x6b0)]=_0xf2315a,this[_0x295adb(0x380)][_0x295adb(0x23d)](_0xf2315a,_0x487cf2['sender'])):_0x487cf2[_0x295adb(0x423)]=this[_0x295adb(0x380)][_0x295adb(0x776)](_0xf2315a,_0x5c497f),_0x2e9169[_0x295adb(0x4c3)][_0xf2315a[_0x295adb(0x338)]]=_0x487cf2,_0x53ed58&&(_0x2e9169[_0x295adb(0x5fd)]=_0x53ed58),_0x53ed58&&_0x295adb(0x1fb)===_0x53ed58[_0x295adb(0x338)]&&_0x53ed58[_0x295adb(0x999)]&&_0x53ed58[_0x295adb(0x474)]&&(_0x2e9169[_0x295adb(0x41e)]=this[_0x295adb(0x723)](_0x53ed58[_0x295adb(0x999)],_0x53ed58[_0x295adb(0x474)]),_0x2e9169[_0x295adb(0x9da)]=_0x2e9169[_0x295adb(0x41e)],_0x2e9169[_0x295adb(0x4c3)][_0x295adb(0x1fb)]&&_0x2e9169[_0x295adb(0x4c3)][_0x295adb(0x1fb)]['sender'])){const _0x5d74b8=_0x2e9169['tracks'][_0x295adb(0x1fb)]['sender'];this['connection'][_0x295adb(0x84e)](_0x5d74b8,Math[_0x295adb(0x5fc)](0xa*_0x2e9169['resolutionScale'])/0xa,_0x2e9169['framerate'],_0x2e9169['bitrate'],_0x2e9169[_0x295adb(0x522)]);}this[_0x295adb(0x9a1)]['set'](_0x5c497f['id'],_0x2e9169);}[_0x128a0b(0x93a)](_0x2f9486,_0xcad1ea){const _0x3ff343=_0x128a0b,_0x280eb9=this[_0x3ff343(0x9a1)][_0x3ff343(0x8b0)](_0x2f9486['id']);if(_0x280eb9&&_0x280eb9[_0x3ff343(0x522)]!==_0xcad1ea&&(_0x280eb9[_0x3ff343(0x522)]=_0xcad1ea,_0x280eb9[_0x3ff343(0x4c3)]['video']&&_0x280eb9['tracks'][_0x3ff343(0x1fb)][_0x3ff343(0x423)])){const _0x1183f2=_0x280eb9[_0x3ff343(0x4c3)][_0x3ff343(0x1fb)][_0x3ff343(0x423)];this['connection']['setEncodingParameters'](_0x1183f2,Math[_0x3ff343(0x5fc)](0xa*_0x280eb9['resolutionScale'])/0xa,_0x280eb9[_0x3ff343(0x5a0)],_0x280eb9['bitrate'],_0x280eb9[_0x3ff343(0x522)]);}}[_0x128a0b(0xa5c)](_0x508a8a,_0x5459c7){const _0x36d01c=_0x128a0b,_0x3f1883=this[_0x36d01c(0x9a1)]['get'](_0x508a8a['id']);if(_0x3f1883){if(_0x3f1883[_0x36d01c(0x5fd)]=_0x5459c7,_0x5459c7&&'video'===_0x5459c7[_0x36d01c(0x338)]&&_0x5459c7['resolution']&&_0x5459c7[_0x36d01c(0x474)]){if(_0x3f1883[_0x36d01c(0x9da)]=this['getResolutionScale'](_0x5459c7[_0x36d01c(0x999)],_0x5459c7[_0x36d01c(0x474)]),_0x3f1883[_0x36d01c(0x41e)]<_0x3f1883[_0x36d01c(0x9da)]&&(_0x3f1883['resolutionScale']=_0x3f1883[_0x36d01c(0x9da)]),_0x3f1883['tracks']['video']&&_0x3f1883[_0x36d01c(0x4c3)][_0x36d01c(0x1fb)][_0x36d01c(0x423)]){const _0x4b4abf=_0x3f1883[_0x36d01c(0x4c3)][_0x36d01c(0x1fb)][_0x36d01c(0x423)];this['connection'][_0x36d01c(0x84e)](_0x4b4abf,Math[_0x36d01c(0x5fc)](0xa*_0x3f1883[_0x36d01c(0x41e)])/0xa,_0x3f1883['framerate'],_0x3f1883[_0x36d01c(0x2ba)],_0x3f1883['priority']);}this[_0x36d01c(0x35b)](),this[_0x36d01c(0x92f)]();}this[_0x36d01c(0x9a1)]['set'](_0x508a8a['id'],_0x3f1883);}}[_0x128a0b(0x8af)](_0xc1ac3e,_0x1ecc67){const _0x319291=_0x128a0b,_0x384865=this[_0x319291(0x9a1)][_0x319291(0x8b0)](_0x1ecc67['id']);if(_0x384865){const _0x2e34b1=_0x384865[_0x319291(0x4c3)][_0xc1ac3e[_0x319291(0x338)]];_0x2e34b1&&(_0x2e34b1[_0x319291(0x423)]&&this[_0x319291(0x380)][_0x319291(0x8af)](_0x2e34b1[_0x319291(0x423)]),_0x2e34b1['track']=void 0x0);}}['applyRemediation'](_0x1e3d36){const _0x2f0518=_0x128a0b;this[_0x2f0518(0x35b)]();const _0x47f64b=function(_0x288a1e,_0x1fda03){const _0x19c78e=_0x2f0518;return _0x288a1e['sort']((_0xeb2cb1,_0x2c2319)=>_0x1fda03['action']===_0x1e9e00[_0x19c78e(0x289)]?_0x2c2319[_0x19c78e(0x522)]-_0xeb2cb1[_0x19c78e(0x522)]:_0xeb2cb1[_0x19c78e(0x522)]-_0x2c2319[_0x19c78e(0x522)])[_0x19c78e(0x5cf)](_0x574707=>function(_0x1747c6,_0x247814){const _0x3cbe53=_0x19c78e;if(_0x247814[_0x3cbe53(0xa33)]===_0x1e9e00[_0x3cbe53(0x289)]){if(_0x247814[_0x3cbe53(0x2f8)]===_0x33579b[_0x3cbe53(0x9ec)])return _0x1747c6['resolutionScale']<0x4||_0x1747c6[_0x3cbe53(0x896)]>0xf;if(_0x247814[_0x3cbe53(0x2f8)]===_0x33579b[_0x3cbe53(0xaa3)])return _0x1747c6[_0x3cbe53(0x646)]>_0x473a0e;}return _0x1747c6[_0x3cbe53(0x41e)]>_0x1747c6[_0x3cbe53(0x9da)]||_0x1747c6[_0x3cbe53(0x5a0)]<_0x1747c6['maxFramerate']||_0x1747c6[_0x3cbe53(0x2ba)]<_0x1747c6[_0x3cbe53(0x646)];}(_0x574707,_0x1fda03));}(Array[_0x2f0518(0x1ec)](this[_0x2f0518(0x9a1)]['values']()),_0x1e3d36);if(_0x47f64b&&(function(_0x131242,_0x3a994f){const _0x3ff8f2=_0x2f0518;_0x131242[_0x3ff8f2(0x4c3)][_0x3ff8f2(0x1fb)]&&_0x131242['tracks'][_0x3ff8f2(0x1fb)][_0x3ff8f2(0x423)]&&(_0x131242['resolutionScale']=function(_0x2c6913,_0x355ce9,_0x183d6f){const _0x43c9c8=_0x3ff8f2;switch(_0x183d6f[_0x43c9c8(0xa33)]){case _0x1e9e00[_0x43c9c8(0x289)]:_0x183d6f[_0x43c9c8(0x2f8)]===_0x33579b['Resolution']&&(_0x2c6913+=0.5)>0x4&&(_0x2c6913=0x4);break;case _0x1e9e00['Upgrade']:(_0x2c6913-=0.5)<_0x355ce9&&(_0x2c6913=_0x355ce9);}return _0x2c6913;}(_0x131242[_0x3ff8f2(0x41e)],_0x131242[_0x3ff8f2(0x9da)],_0x3a994f),_0x131242[_0x3ff8f2(0x5a0)]=function(_0x1a0de6,_0x56feb3,_0x26db44){const _0x543c51=_0x3ff8f2;switch(_0x26db44[_0x543c51(0xa33)]){case _0x1e9e00[_0x543c51(0x289)]:_0x26db44['component']===_0x33579b[_0x543c51(0x9ec)]&&(_0x1a0de6-=0x3)<0xf&&(_0x1a0de6=0xf);break;case _0x1e9e00['Upgrade']:(_0x1a0de6+=0x3)>_0x56feb3&&(_0x1a0de6=_0x56feb3);}return _0x1a0de6;}(_0x131242[_0x3ff8f2(0x5a0)],_0x131242[_0x3ff8f2(0x896)],_0x3a994f),_0x131242[_0x3ff8f2(0x2ba)]=function(_0x327fd9,_0x25f05f,_0x3a05d2){const _0x5b163a=_0x3ff8f2;switch(_0x3a05d2[_0x5b163a(0xa33)]){case _0x1e9e00[_0x5b163a(0x289)]:_0x3a05d2[_0x5b163a(0x2f8)]===_0x33579b[_0x5b163a(0xaa3)]&&(_0x327fd9*=0.75)<_0x473a0e&&(_0x327fd9=_0x473a0e);break;case _0x1e9e00['Upgrade']:(_0x327fd9*=1.25)>_0x25f05f&&(_0x327fd9=_0x25f05f);}return _0x327fd9;}(_0x131242[_0x3ff8f2(0x2ba)],_0x131242[_0x3ff8f2(0x646)],_0x3a994f));}(_0x47f64b,_0x1e3d36),_0x47f64b[_0x2f0518(0x4c3)][_0x2f0518(0x1fb)]&&_0x47f64b[_0x2f0518(0x4c3)][_0x2f0518(0x1fb)][_0x2f0518(0x423)])){const _0x1f74a3=_0x47f64b['tracks'][_0x2f0518(0x1fb)][_0x2f0518(0x423)];this[_0x2f0518(0x380)][_0x2f0518(0x84e)](_0x1f74a3,Math[_0x2f0518(0x5fc)](0xa*_0x47f64b['resolutionScale'])/0xa,_0x47f64b[_0x2f0518(0x5a0)],_0x47f64b['bitrate'],_0x47f64b[_0x2f0518(0x522)]);}(_0x47f64b||_0x1e3d36['action']===_0x1e9e00[_0x2f0518(0x289)])&&this[_0x2f0518(0x92f)]();}[_0x128a0b(0x246)](){const _0x4f26d2=_0x128a0b;return this[_0x4f26d2(0x6c3)]['queues'][_0x4f26d2(0x959)]((_0x48136e,_0x494399)=>_0x48136e+_0x494399[_0x4f26d2(0x388)],0x0)*_0x5c06b7;}[_0x128a0b(0x5c0)](){const _0x2c90c3=_0x128a0b;return this['dataChannel']?.[_0x2c90c3(0x8b7)]??0x0;}['resetConnection'](){const _0x4ebe85=_0x128a0b;super[_0x4ebe85(0x6db)](),this[_0x4ebe85(0x95a)](),this[_0x4ebe85(0x756)](),this['senders'][_0x4ebe85(0x8b3)](_0x26d9ce=>{const _0x36d8a7=_0x4ebe85;_0x26d9ce[_0x36d8a7(0x4c3)]['video']&&(_0x26d9ce['tracks'][_0x36d8a7(0x1fb)][_0x36d8a7(0x423)]=void 0x0),_0x26d9ce[_0x36d8a7(0x4c3)]['audio']&&(_0x26d9ce['tracks']['audio'][_0x36d8a7(0x423)]=void 0x0);}),this[_0x4ebe85(0x346)]=!0x0;}async[_0x128a0b(0x9fa)](){return new Promise(async _0x385f6f=>{const _0xc88e82=a0_0xdea0;if(!this[_0xc88e82(0x610)]||_0xc88e82(0x645)!==this[_0xc88e82(0x610)][_0xc88e82(0x243)])return await _0x52452b[_0xc88e82(0x252)](0x64),void _0x385f6f();this[_0xc88e82(0x610)][_0xc88e82(0x8b7)]<_0x4c266f?_0x385f6f():this[_0xc88e82(0x610)][_0xc88e82(0x285)]=()=>{const _0x3c18ad=_0xc88e82;this[_0x3c18ad(0x610)]&&(this[_0x3c18ad(0x610)][_0x3c18ad(0x285)]=null),_0x385f6f();};});}async['sendChunked'](_0x43479e,_0x45c837){const _0x596a1b=_0x128a0b,_0x37b81a=[];for(let _0x51f55e=0x0;_0x51f55e<_0x45c837[_0x596a1b(0xa20)];_0x51f55e+=_0x4e5db2)_0x37b81a[_0x596a1b(0xa98)](_0x45c837['slice'](_0x51f55e,_0x51f55e+_0x4e5db2));for(const _0x553a8c of _0x37b81a){for(;this['retryQueue']['queues'][_0x3bd159[_0x596a1b(0x7d7)]][_0x596a1b(0x388)]>0x1;)await _0x52452b['wait'](0x64);this['sendWithRetry'](_0x2c7043+';'+_0x43479e[_0x596a1b(0x468)]+';'+_0x37b81a[_0x596a1b(0x44a)](_0x553a8c)+';'+_0x37b81a['length']+';'+_0x553a8c,_0x3bd159[_0x596a1b(0x7d7)]);}}async[_0x128a0b(0x6ef)](_0x1213d1,_0x38aaf8){const _0x2bd756=_0x128a0b;_0x1213d1===_0x2a1779?this[_0x2bd756(0x6c3)][_0x2bd756(0xabd)][_0x38aaf8]['head']?.[_0x2bd756(0x443)]!==_0x2a1779&&this[_0x2bd756(0x6c3)][_0x2bd756(0xabd)][_0x38aaf8][_0x2bd756(0x883)](_0x1213d1):this[_0x2bd756(0x6c3)][_0x2bd756(0xabd)][_0x38aaf8][_0x2bd756(0xa98)](_0x1213d1);}[_0x128a0b(0x3f8)](_0x2cbe9e){const _0x5c68e5=_0x128a0b;if(!this[_0x5c68e5(0x610)]||_0x5c68e5(0x645)!==this['dataChannel']['state'])throw new Error(_0x5c68e5(0x62d));if(this[_0x5c68e5(0x610)][_0x5c68e5(0x8b7)]>=0x600000)throw new Error('DataChannel\x20buffer\x20is\x20full.');const _0x845c4a=Date['now']();_0x2cbe9e!==_0x2a1779&&(this[_0x5c68e5(0x5e4)]+=0x1,this[_0x5c68e5(0x9dc)]+=_0x2cbe9e instanceof ArrayBuffer?_0x2cbe9e[_0x5c68e5(0x452)]:_0x2cbe9e['length']);try{ArrayBuffer,this[_0x5c68e5(0x610)][_0x5c68e5(0x8d1)](_0x2cbe9e);}catch(_0x535b56){throw console[_0x5c68e5(0x5b5)]('DataChannel\x20send\x20error',_0x535b56),_0x535b56;}this[_0x5c68e5(0x837)]+=Date[_0x5c68e5(0x85a)]()-_0x845c4a;}[_0x128a0b(0x68b)](){const _0x7ce601=_0x128a0b;this[_0x7ce601(0x4f3)]&&this['clearHeartbeat']();let _0x5bcde2=!0x0,_0x50bea3=Date[_0x7ce601(0x85a)]();this[_0x7ce601(0x1cc)]=Date['now'](),this['dataChannel'][_0x7ce601(0x1d7)]=_0x49ed34=>{const _0x44aae3=_0x7ce601;'1'===_0x49ed34['data']&&(this[_0x44aae3(0x832)]=Date[_0x44aae3(0x85a)]()-_0x50bea3,_0x5bcde2&&this[_0x44aae3(0x314)]({'type':_0x303120[_0x44aae3(0x99f)]}),_0x5bcde2=!0x1,this[_0x44aae3(0x1cc)]=Date['now'](),this['isReconnecting']&&(this[_0x44aae3(0x346)]=!0x1,this['handleMissingSenders']()));},this[_0x7ce601(0x4f3)]=_0x52452b[_0x7ce601(0x7ec)](()=>{const _0x4887ef=_0x7ce601;_0x50bea3=Date['now'](),this['sendWithRetry'](_0x2a1779,_0x3bd159[_0x4887ef(0x68e)]),Date[_0x4887ef(0x85a)]()-this[_0x4887ef(0x1cc)]>(_0x5bcde2?0x15f90:0x3a98)&&this[_0x4887ef(0x5e6)]();},0xbb8);}[_0x128a0b(0x2b8)](){const _0x6ddf60=_0x128a0b;this['senders'][_0x6ddf60(0x8b3)](_0x566d81=>{const _0x166897=_0x6ddf60;_0x566d81[_0x166897(0x4c3)]['video']&&_0x566d81['tracks']['video'][_0x166897(0x6b0)]&&!_0x566d81['tracks']['video'][_0x166897(0x423)]&&(_0x566d81[_0x166897(0x4c3)][_0x166897(0x1fb)][_0x166897(0x423)]=this[_0x166897(0x380)][_0x166897(0x776)](_0x566d81[_0x166897(0x4c3)]['video']['track'],_0x566d81[_0x166897(0x185)])),_0x566d81[_0x166897(0x4c3)][_0x166897(0x4a1)]&&_0x566d81[_0x166897(0x4c3)]['audio']['track']&&!_0x566d81[_0x166897(0x4c3)]['audio'][_0x166897(0x423)]&&(_0x566d81[_0x166897(0x4c3)][_0x166897(0x4a1)]['sender']=this[_0x166897(0x380)]['addTrack'](_0x566d81[_0x166897(0x4c3)][_0x166897(0x4a1)][_0x166897(0x6b0)],_0x566d81['stream']));});}['sendIceCandidates'](){const _0x26626b=_0x128a0b;this[_0x26626b(0x314)]({'type':_0x303120[_0x26626b(0x489)],'candidates':this[_0x26626b(0x64a)],'origin':_0x344238[_0x26626b(0x20b)],'version':this['currentVersion'],'connectionType':this[_0x26626b(0x2d8)]});}[_0x128a0b(0x71b)](){const _0x80725a=_0x128a0b;super[_0x80725a(0x71b)](),this[_0x80725a(0x380)][_0x80725a(0x231)]=()=>{const _0x1a4be8=_0x80725a;if('failed'===this[_0x1a4be8(0x380)][_0x1a4be8(0x5c3)]){_0x265260['log'](_0x1367fe[_0x1a4be8(0x50f)],_0x1a4be8(0xa85),this[_0x1a4be8(0x8cc)]['getId'](),this['remoteId']);try{if(this[_0x1a4be8(0x380)][_0x1a4be8(0x4f1)])return void this[_0x1a4be8(0x380)][_0x1a4be8(0xb0f)]();}catch(_0x178c60){}this[_0x1a4be8(0x553)]({'handshakeRestart':!0x0});}},this[_0x80725a(0x380)][_0x80725a(0x527)]=()=>{const _0xc84cb1=_0x80725a;'disconnected'!==this['connection'][_0xc84cb1(0x30f)]&&_0xc84cb1(0x6e7)!==this['connection'][_0xc84cb1(0x30f)]||this['handleDisconnect']();};}[_0x128a0b(0x5e6)](){const _0x849ddc=_0x128a0b;this['clearHeartbeat'](),this[_0x849ddc(0x373)](),this[_0x849ddc(0x460)](),_0x265260[_0x849ddc(0x1c3)](_0x849ddc(0x5a7),{'clusterId':this[_0x849ddc(0x2cd)],'nodeId':this[_0x849ddc(0x8cc)]['getId'](),'nodeType':this[_0x849ddc(0x8cc)][_0x849ddc(0x7dd)],'remoteId':this[_0x849ddc(0x606)],'data':{'connectionType':this[_0x849ddc(0x2d8)],'connectionState':this['connection']['connectionState'],'iceConnectionState':this['connection']['handshakeState'],'signalingState':this[_0x849ddc(0x380)][_0x849ddc(0x221)],'readyState':this[_0x849ddc(0x610)]?.[_0x849ddc(0x243)]||'','lastHeartbeat':this[_0x849ddc(0x1cc)]?Date['now']()-this[_0x849ddc(0x1cc)]:'','retryQueue':this['retryQueue']}}),(this[_0x849ddc(0x1cc)]&&Date[_0x849ddc(0x85a)]()-this['lastHeartbeat']>0xea60)??0x1?this[_0x849ddc(0x7be)]['publish']({'sourceId':this[_0x849ddc(0x606)],'destinationIds':[this[_0x849ddc(0x8cc)][_0x849ddc(0x993)]()],'messageType':_0x562b7c[_0x849ddc(0x9b3)],'content':{'type':_0x303120[_0x849ddc(0x3e7)]}}):(this['resetConnection'](),this[_0x849ddc(0x314)]({'type':_0x303120[_0x849ddc(0x7c8)],'version':this[_0x849ddc(0x65c)],'connectionType':this['connectionType']}),this[_0x849ddc(0xa1d)]=setTimeout(()=>{const _0x4e1e4c=_0x849ddc;this[_0x4e1e4c(0x5e6)]();},0x7530));}[_0x128a0b(0x84f)](){const _0x4eeb58=_0x128a0b;this[_0x4eeb58(0x4f3)]?.(),delete this[_0x4eeb58(0x4f3)];}[_0x128a0b(0x460)](){const _0x379423=_0x128a0b;this['connectionTimeout']&&(clearTimeout(this[_0x379423(0x32f)]),delete this[_0x379423(0x32f)]);}[_0x128a0b(0x373)](){const _0x589174=_0x128a0b;this[_0x589174(0xa1d)]&&(clearTimeout(this['restartTimeout']),delete this['restartTimeout']);}[_0x128a0b(0x35b)](){const _0x56914c=_0x128a0b;this[_0x56914c(0x78d)]&&(clearTimeout(this[_0x56914c(0x78d)]),delete this[_0x56914c(0x78d)]);}[_0x128a0b(0x92f)](){const _0x506b19=_0x128a0b;this[_0x506b19(0x78d)]=setTimeout(()=>{const _0x189af4=_0x506b19;this[_0x189af4(0x354)]({'type':_0x9a52f6[_0x189af4(0x812)],'action':_0x1e9e00['Upgrade']});},0x3a98);}[_0x128a0b(0x723)](_0x30e8da,_0x5f2712){const _0x3ad949=_0x128a0b,_0x338788=Math[_0x3ad949(0x5f2)](_0x30e8da[_0x3ad949(0x6c6)]/_0x5f2712[_0x3ad949(0x6c6)],_0x30e8da[_0x3ad949(0x713)]/_0x5f2712[_0x3ad949(0x713)]);return Math[_0x3ad949(0x362)](Math[_0x3ad949(0x5f2)](_0x338788,0x1),0x4);}[_0x128a0b(0x756)](){const _0x28ea33=_0x128a0b;this['waitAnswer']?.(),delete this[_0x28ea33(0x39d)];}['clearOncloseTimeout'](){const _0x18099c=_0x128a0b;this[_0x18099c(0x6bd)]&&(clearTimeout(this[_0x18099c(0x6bd)]),delete this[_0x18099c(0x6bd)]);}[_0x128a0b(0x5ae)](_0x3b4853){const _0x276fab=_0x128a0b,_0x19030d=JSON[_0x276fab(0x30b)](_0x3b4853);return new TextEncoder()['encode'](_0x19030d)['buffer'];}['mergeParts'](_0x51cf1f,_0x5d085d){const _0xc6af54=_0x128a0b,_0x3418e1=this[_0xc6af54(0x5ae)](_0x51cf1f),_0xd5e407=new Uint8Array(0x4),_0x139eb1=new Uint8Array(_0x3418e1),_0x29bc4d=new Uint8Array(_0x5d085d);_0xd5e407[_0xc6af54(0x663)](new Uint8Array(new Uint32Array([_0x139eb1['length']])[_0xc6af54(0x3ea)]));const _0xf21d1c=new Uint8Array(0x4+_0x139eb1[_0xc6af54(0xa20)]+_0x29bc4d['length']);return _0xf21d1c['set'](_0xd5e407),_0xf21d1c['set'](_0x139eb1,0x4),_0xf21d1c[_0xc6af54(0x663)](_0x29bc4d,0x4+_0x139eb1['length']),_0xf21d1c['buffer'];}}class _0x19852d extends _0x30591{[_0x128a0b(0x1dd)];['connectionType'];[_0x128a0b(0x36a)];[_0x128a0b(0x51c)];[_0x128a0b(0xa99)];['senderConnection'];[_0x128a0b(0x3c2)];[_0x128a0b(0x70f)]=[];[_0x128a0b(0x36f)]=_0x41572e();[_0x128a0b(0x76e)]=_0x41572e();[_0x128a0b(0x439)]=_0x41572e();[_0x128a0b(0x360)]=[];[_0x128a0b(0x7be)];[_0x128a0b(0x1ea)]=new Map();['dataUnsubscribers']=new Map();['mediaTopics']=new Map();[_0x128a0b(0x9b8)]=new Map();[_0x128a0b(0x326)]=!0x1;constructor(_0x1ebce7,_0x563b6a,_0x227c82,_0xfb3af2,_0x208aa7,_0x392399,_0x3f5d5f,_0x1341e9){const _0x1c7308=_0x128a0b;super(_0x1ebce7,_0x563b6a,_0x227c82),this['iceServers']=_0xfb3af2,this[_0x1c7308(0x2d8)]=_0x208aa7,this[_0x1c7308(0x36a)]=_0x392399,this[_0x1c7308(0x51c)]=_0x3f5d5f,this[_0x1c7308(0xa99)]=_0x1341e9;}[_0x128a0b(0x6d6)](_0x7adab7){const _0x2820b4=_0x128a0b;switch(_0x7adab7[_0x2820b4(0x6da)]()){case _0x16f74['ContentType'][_0x2820b4(0x743)]:case _0x16f74[_0x2820b4(0x6f5)][_0x2820b4(0x7ba)]:case _0x16f74[_0x2820b4(0x6f5)][_0x2820b4(0x748)]:case _0x16f74[_0x2820b4(0x6f5)]['KeyValueDatabase']:case _0x16f74[_0x2820b4(0x6f5)][_0x2820b4(0x22b)]:case _0x16f74[_0x2820b4(0x6f5)][_0x2820b4(0x56f)]:case _0x16f74[_0x2820b4(0x6f5)][_0x2820b4(0x789)]:case _0x16f74[_0x2820b4(0x6f5)]['ExternalStorage']:this[_0x2820b4(0x1ea)][_0x2820b4(0x663)](_0x7adab7[_0x2820b4(0x5d1)](),_0x7adab7);break;case _0x16f74['ContentType'][_0x2820b4(0x36d)]:this[_0x2820b4(0x262)][_0x2820b4(0x663)](_0x7adab7[_0x2820b4(0x5d1)](),_0x7adab7);}}[_0x128a0b(0x8bc)](_0x5402dd){const _0xbcfa87=_0x128a0b;switch(_0x5402dd[_0xbcfa87(0x6da)]()){case _0x16f74[_0xbcfa87(0x6f5)][_0xbcfa87(0x743)]:case _0x16f74[_0xbcfa87(0x6f5)][_0xbcfa87(0x7ba)]:case _0x16f74[_0xbcfa87(0x6f5)]['ObjectStore']:case _0x16f74[_0xbcfa87(0x6f5)][_0xbcfa87(0xa05)]:case _0x16f74[_0xbcfa87(0x6f5)][_0xbcfa87(0x22b)]:case _0x16f74[_0xbcfa87(0x6f5)][_0xbcfa87(0x56f)]:case _0x16f74[_0xbcfa87(0x6f5)][_0xbcfa87(0x789)]:case _0x16f74[_0xbcfa87(0x6f5)][_0xbcfa87(0x438)]:this['dataTopics'][_0xbcfa87(0x560)](_0x5402dd['getLabel']());break;case _0x16f74[_0xbcfa87(0x6f5)][_0xbcfa87(0x36d)]:this[_0xbcfa87(0x262)]['delete'](_0x5402dd[_0xbcfa87(0x5d1)]());}}['registerSubscriber'](_0x3a4210){const _0x2892fc=_0x128a0b;switch(_0x3a4210[_0x2892fc(0x6da)]()){case _0x16f74[_0x2892fc(0x6f5)]['Data']:case _0x16f74[_0x2892fc(0x6f5)][_0x2892fc(0x7ba)]:case _0x16f74[_0x2892fc(0x6f5)]['ObjectStore']:case _0x16f74[_0x2892fc(0x6f5)][_0x2892fc(0xa05)]:case _0x16f74[_0x2892fc(0x6f5)]['Job']:case _0x16f74[_0x2892fc(0x6f5)]['VectorDatabase']:case _0x16f74[_0x2892fc(0x6f5)][_0x2892fc(0x789)]:case _0x16f74[_0x2892fc(0x6f5)][_0x2892fc(0x438)]:{const _0x11bdb7=_0x3a4210['subscribe'](_0x1e1d8d=>{const _0x2c4e3a=_0x2892fc;_0x138bc2(_0x1e1d8d,this[_0x2c4e3a(0x3d1)]())&&_0x529a07(_0x1e1d8d,this[_0x2c4e3a(0x606)])&&this['send'](_0x1e1d8d);});this['dataUnsubscribers'][_0x2892fc(0x663)](_0x3a4210[_0x2892fc(0x5d1)](),_0x11bdb7);break;}case _0x16f74[_0x2892fc(0x6f5)][_0x2892fc(0x36d)]:{const _0x57ff10=_0x3a4210[_0x2892fc(0x3b4)](({content:_0xb2bc3b})=>{const _0x5e8b59=_0x2892fc;switch(_0xb2bc3b[_0x5e8b59(0xa33)]){case _0x155040[_0x5e8b59(0xaaa)]:this[_0x5e8b59(0x776)](_0xb2bc3b['track'],_0xb2bc3b[_0x5e8b59(0x185)],_0xb2bc3b['priority'],_0xb2bc3b[_0x5e8b59(0x5fd)]);break;case _0x155040[_0x5e8b59(0x690)]:this[_0x5e8b59(0x8af)](_0xb2bc3b[_0x5e8b59(0x6b0)],_0xb2bc3b['stream']);break;case _0x155040[_0x5e8b59(0xa5f)]:_0xb2bc3b['priority']&&this['setPriority'](_0xb2bc3b[_0x5e8b59(0x185)],_0xb2bc3b['priority']),_0xb2bc3b[_0x5e8b59(0x5fd)]&&this[_0x5e8b59(0xa5c)](_0xb2bc3b[_0x5e8b59(0x185)],_0xb2bc3b[_0x5e8b59(0x5fd)]);}});this[_0x2892fc(0x9b8)][_0x2892fc(0x663)](_0x3a4210['getLabel'](),_0x57ff10);break;}}}[_0x128a0b(0x950)](_0x367ddd){const _0x2d517d=_0x128a0b;switch(_0x367ddd[_0x2d517d(0x6da)]()){case _0x16f74[_0x2d517d(0x6f5)]['Data']:case _0x16f74[_0x2d517d(0x6f5)][_0x2d517d(0x7ba)]:case _0x16f74[_0x2d517d(0x6f5)][_0x2d517d(0x748)]:case _0x16f74[_0x2d517d(0x6f5)][_0x2d517d(0xa05)]:case _0x16f74[_0x2d517d(0x6f5)][_0x2d517d(0x22b)]:case _0x16f74[_0x2d517d(0x6f5)][_0x2d517d(0x56f)]:case _0x16f74[_0x2d517d(0x6f5)][_0x2d517d(0x789)]:case _0x16f74[_0x2d517d(0x6f5)][_0x2d517d(0x438)]:this[_0x2d517d(0x196)][_0x2d517d(0x8b0)](_0x367ddd[_0x2d517d(0x5d1)]())?.(),this['dataUnsubscribers'][_0x2d517d(0x560)](_0x367ddd[_0x2d517d(0x5d1)]());break;case _0x16f74[_0x2d517d(0x6f5)][_0x2d517d(0x36d)]:this[_0x2d517d(0x9b8)][_0x2d517d(0x8b0)](_0x367ddd[_0x2d517d(0x5d1)]())?.(),this[_0x2d517d(0x9b8)][_0x2d517d(0x560)](_0x367ddd['getLabel']());}}[_0x128a0b(0x18f)](){const _0x5a4596=_0x128a0b;return[_0x16f74[_0x5a4596(0x6f5)][_0x5a4596(0x743)],_0x16f74[_0x5a4596(0x6f5)]['Media'],_0x16f74[_0x5a4596(0x6f5)][_0x5a4596(0x7ba)],_0x16f74['ContentType'][_0x5a4596(0x748)],_0x16f74['ContentType']['KeyValueDatabase'],_0x16f74[_0x5a4596(0x6f5)][_0x5a4596(0x22b)],_0x16f74[_0x5a4596(0x6f5)][_0x5a4596(0x56f)],_0x16f74[_0x5a4596(0x6f5)][_0x5a4596(0x789)],_0x16f74[_0x5a4596(0x6f5)][_0x5a4596(0x438)]];}['registerSystemPublisher'](_0x2cd55b){const _0x454461=_0x128a0b;this[_0x454461(0x7be)]=_0x2cd55b;}['unregisterSystemPublisher'](){const _0x238713=_0x128a0b;delete this[_0x238713(0x7be)];}async['connect'](){const _0x4d0591=_0x128a0b;this['setupListeners'](),await this[_0x4d0591(0x553)]();}['close'](){const _0x3632f1=_0x128a0b;this[_0x3632f1(0x360)][_0x3632f1(0x8b3)](_0x50af99=>_0x50af99()),this[_0x3632f1(0x360)]=[],this[_0x3632f1(0x535)]?.[_0x3632f1(0x211)](),this[_0x3632f1(0x535)]?.[_0x3632f1(0x42d)](),delete this['senderConnection'],this[_0x3632f1(0x70f)][_0x3632f1(0x8b3)](_0x3adc7c=>_0x3adc7c()),this[_0x3632f1(0x70f)]=[],this[_0x3632f1(0x3c2)]?.[_0x3632f1(0x211)](),this[_0x3632f1(0x3c2)]?.['close'](),delete this[_0x3632f1(0x3c2)];}[_0x128a0b(0x4a3)](){const _0x459933=_0x128a0b;return this[_0x459933(0x535)]?.['isConnected']()&&this['receiverConnection']?.[_0x459933(0x4a3)]()||!0x1;}[_0x128a0b(0x8d1)](_0x553e29){const _0x490bfe=_0x128a0b;if(!this[_0x490bfe(0x535)]||!this[_0x490bfe(0x4a3)]())throw new _0x4204a5(_0x4204a5[_0x490bfe(0x7f9)]['ConnectionNotinitialized'],{'message':_0x490bfe(0x638),'senderConnected':this[_0x490bfe(0x535)]?.[_0x490bfe(0x4a3)](),'receiverConnected':this[_0x490bfe(0x3c2)]?.[_0x490bfe(0x4a3)](),'localId':this[_0x490bfe(0x3d1)](),'remoteId':this[_0x490bfe(0x606)],'data':_0x553e29});this[_0x490bfe(0x535)][_0x490bfe(0x8d1)](_0x553e29);}['onMessage'](_0x2ed9eb){const _0x3cb481=_0x128a0b;return this['messageListeners'][_0x3cb481(0x3b4)](_0x2ed9eb);}[_0x128a0b(0x671)](_0x46fd9b){const _0x1a5aab=_0x128a0b;return this['trackListeners'][_0x1a5aab(0x3b4)](({track:_0x3bbbc4,stream:_0x471dc1})=>_0x46fd9b(_0x3bbbc4,_0x471dc1));}[_0x128a0b(0x68c)](_0x3912e2){return this['removeTrackListeners']['subscribe'](({track:_0x2184d7,stream:_0xaf8527})=>_0x3912e2(_0x2184d7,_0xaf8527));}[_0x128a0b(0x776)](_0x432d52,_0x503fd1,_0x57ab4a,_0x778633){const _0x51557f=_0x128a0b;this[_0x51557f(0x535)]?.[_0x51557f(0x776)](_0x432d52,_0x503fd1,_0x57ab4a,_0x778633);}[_0x128a0b(0x93a)](_0x527ec8,_0x1461df){const _0x16868d=_0x128a0b;this['senderConnection']?.[_0x16868d(0x93a)](_0x527ec8,_0x1461df);}['setParams'](_0x389e25,_0x324b3d){const _0x45ed82=_0x128a0b;this[_0x45ed82(0x535)]?.[_0x45ed82(0xa5c)](_0x389e25,_0x324b3d);}[_0x128a0b(0x8af)](_0x2e6e5f,_0x2643c5){const _0x1ec243=_0x128a0b;this[_0x1ec243(0x535)]?.[_0x1ec243(0x8af)](_0x2e6e5f,_0x2643c5);}async[_0x128a0b(0xaff)](_0x48884b){const _0x36a0fe=_0x128a0b;_0x265260[_0x36a0fe(0x552)](_0x1367fe[_0x36a0fe(0xaf5)],_0x36a0fe(0x425),this[_0x36a0fe(0x3d1)](),_0x48884b);const {content:_0x988fcf}=_0x48884b;switch(_0x988fcf['type']){case _0x303120[_0x36a0fe(0x56b)]:await this[_0x36a0fe(0x20c)](_0x988fcf);break;case _0x303120[_0x36a0fe(0x8d4)]:await this[_0x36a0fe(0x2f1)](_0x988fcf);break;case _0x303120['Success']:this[_0x36a0fe(0x82b)]();break;case _0x303120[_0x36a0fe(0x489)]:await this[_0x36a0fe(0xafb)](_0x988fcf);break;case _0x303120[_0x36a0fe(0x7c8)]:this[_0x36a0fe(0x23b)](_0x988fcf);break;case _0x303120['Restart']:await this[_0x36a0fe(0x553)]();}}[_0x128a0b(0x761)](_0x4f318a){const _0x428296=_0x128a0b;this[_0x428296(0x535)]?.[_0x428296(0x354)](_0x4f318a[_0x428296(0x95d)]['data']);}['getConnectionType'](){return this['connectionType'];}[_0x128a0b(0x782)](_0x12925c){const _0x19f3e8=_0x128a0b;this['connectionType']=_0x12925c,this[_0x19f3e8(0x535)]?.[_0x19f3e8(0x782)](_0x12925c),this[_0x19f3e8(0x3c2)]?.[_0x19f3e8(0x782)](_0x12925c);}async[_0x128a0b(0x27a)](){const _0x5a1bc9=_0x128a0b;await this[_0x5a1bc9(0x535)]?.[_0x5a1bc9(0x27a)](),await this[_0x5a1bc9(0x3c2)]?.[_0x5a1bc9(0x27a)]();}[_0x128a0b(0x246)](){const _0x5e7f3a=_0x128a0b;return this['senderConnection']?.[_0x5e7f3a(0x246)]()??0x0;}[_0x128a0b(0x5c0)](){const _0x324d1a=_0x128a0b;return this[_0x324d1a(0x535)]?.[_0x324d1a(0x5c0)]()??0x0;}[_0x128a0b(0x1da)](){const _0x1f87fe=_0x128a0b;this[_0x1f87fe(0x360)][_0x1f87fe(0xa98)](this[_0x1f87fe(0x1d7)](_0x70a9ab=>{const _0x319eae=_0x1f87fe;_0x529a07(_0x70a9ab,this[_0x319eae(0x3d1)]())&&0x0!==_0x70a9ab['topicLabel']&&this[_0x319eae(0x1ea)][_0x319eae(0x8b0)](_0x70a9ab[_0x319eae(0x6be)])?.[_0x319eae(0x56d)](_0x70a9ab);})),this[_0x1f87fe(0x360)][_0x1f87fe(0xa98)](this[_0x1f87fe(0x671)]((_0x2935a6,_0x33e8e8)=>{const _0x9b94c3=_0x1f87fe,_0x57b70c=_0x25fc0a(_0x16f74[_0x9b94c3(0x6f5)][_0x9b94c3(0x36d)],_0x33e8e8['id'],this[_0x9b94c3(0x606)]);this['mediaTopics'][_0x9b94c3(0x8b0)](_0x57b70c)?.[_0x9b94c3(0x56d)]({'topicLabel':_0x57b70c,'sourceId':this[_0x9b94c3(0x606)],'contentType':_0x16f74[_0x9b94c3(0x6f5)]['Media'],'content':{'action':_0x155040[_0x9b94c3(0x881)],'track':_0x2935a6,'stream':_0x33e8e8,'providerId':this[_0x9b94c3(0x606)]}});})),this['listenerUnsubscribers'][_0x1f87fe(0xa98)](this[_0x1f87fe(0x68c)]((_0x3b593b,_0x647c80)=>{const _0x5402ca=_0x1f87fe,_0x2d44e1=_0x25fc0a(_0x16f74[_0x5402ca(0x6f5)][_0x5402ca(0x36d)],_0x647c80['id'],this[_0x5402ca(0x606)]);this['mediaTopics'][_0x5402ca(0x8b0)](_0x2d44e1)?.[_0x5402ca(0x56d)]({'topicLabel':_0x2d44e1,'sourceId':this[_0x5402ca(0x606)],'contentType':_0x16f74[_0x5402ca(0x6f5)][_0x5402ca(0x36d)],'content':{'action':_0x155040[_0x5402ca(0x349)],'track':_0x3b593b,'stream':_0x647c80,'providerId':this['remoteId']}});}));}[_0x128a0b(0xafb)]({candidates:_0x3a03b9,origin:_0x352a0a,version:_0x524f2d}){const _0x27b541=_0x128a0b;return _0x352a0a===_0x344238[_0x27b541(0x20b)]?(this[_0x27b541(0x3c2)]||this['createReceiverConnection'](),this[_0x27b541(0x3c2)][_0x27b541(0xa55)](_0x3a03b9,_0x524f2d)):this[_0x27b541(0x535)]['handleHandshake'](_0x3a03b9,_0x524f2d);}async['createOffer'](){const _0x171c14=_0x128a0b;this[_0x171c14(0x535)]||this['createSenderConnection'](),await this[_0x171c14(0x535)][_0x171c14(0x553)]();}async[_0x128a0b(0x20c)]({offer:_0x4a170d,version:_0x51c6f2}){const _0x25f710=_0x128a0b;this[_0x25f710(0x3c2)]||this[_0x25f710(0x42e)](),await this['receiverConnection'][_0x25f710(0x20c)](_0x4a170d,_0x51c6f2);}async[_0x128a0b(0x2f1)]({answer:_0x2e7e66,version:_0x2306d2}){const _0x39d9da=_0x128a0b;if(!this[_0x39d9da(0x535)])throw new _0x4204a5(_0x4204a5['codes']['ConnectionNotinitialized'],{'message':_0x39d9da(0x84a),'localId':this[_0x39d9da(0x3d1)](),'remoteId':this['remoteId'],'answer':_0x2e7e66});await this[_0x39d9da(0x535)]['handleAnswer'](_0x2e7e66,_0x2306d2);}['handleSuccess'](){const _0x4404b3=_0x128a0b;if(!this[_0x4404b3(0x3c2)])throw new _0x4204a5(_0x4204a5[_0x4404b3(0x7f9)][_0x4404b3(0x9f6)],{'message':_0x4404b3(0x59d),'localId':this['getLocalId'](),'remoteId':this['remoteId']});this[_0x4404b3(0x3c2)][_0x4404b3(0x82b)](),this[_0x4404b3(0x326)]||this['connectionType']!==_0x899d67['Optimization']||(this['successNotified']=!0x0,this[_0x4404b3(0x7be)]?.[_0x4404b3(0x56d)]({'sourceId':this[_0x4404b3(0x606)],'destinationIds':[this[_0x4404b3(0x3d1)]()],'messageType':_0x562b7c[_0x4404b3(0x9b3)],'content':{'type':_0x303120[_0x4404b3(0x3de)]}}));}[_0x128a0b(0x23b)](_0x3e90c4){const _0x3b3acc=_0x128a0b;this[_0x3b3acc(0x3c2)]||this[_0x3b3acc(0x42e)](),this['receiverConnection'][_0x3b3acc(0x23b)](_0x3e90c4[_0x3b3acc(0x318)]);}[_0x128a0b(0x434)](){const _0x5a9f40=_0x128a0b;this['senderConnection']=new _0x39d11f(this[_0x5a9f40(0x2cd)],this[_0x5a9f40(0x8cc)],this['remoteId'],this[_0x5a9f40(0x1dd)],this[_0x5a9f40(0x2d8)],this[_0x5a9f40(0x36a)],this[_0x5a9f40(0x51c)],this[_0x5a9f40(0xa99)]),this[_0x5a9f40(0x535)][_0x5a9f40(0x8fe)](this[_0x5a9f40(0x7be)]);}[_0x128a0b(0x42e)](){const _0x4bee35=_0x128a0b;this[_0x4bee35(0x3c2)]=new _0x143797(this[_0x4bee35(0x2cd)],this[_0x4bee35(0x8cc)],this['remoteId'],this[_0x4bee35(0x1dd)],this[_0x4bee35(0x2d8)],this[_0x4bee35(0xa99)]),this[_0x4bee35(0x3c2)][_0x4bee35(0x8fe)](this[_0x4bee35(0x7be)]),this[_0x4bee35(0x70f)]['push'](this['receiverConnection'][_0x4bee35(0x1d7)](_0x171cfa=>this[_0x4bee35(0x36f)][_0x4bee35(0x56d)](_0x171cfa))),this[_0x4bee35(0x70f)][_0x4bee35(0xa98)](this[_0x4bee35(0x3c2)][_0x4bee35(0x671)]((_0x2c43ae,_0x277e60)=>this[_0x4bee35(0x76e)][_0x4bee35(0x56d)]({'track':_0x2c43ae,'stream':_0x277e60}))),this[_0x4bee35(0x70f)][_0x4bee35(0xa98)](this['receiverConnection'][_0x4bee35(0x68c)]((_0x26a1b7,_0x541221)=>this[_0x4bee35(0x439)][_0x4bee35(0x56d)]({'track':_0x26a1b7,'stream':_0x541221})));}}class _0x1f4581{['localId'];[_0x128a0b(0x3a9)];['graphService'];[_0x128a0b(0x6af)]=new Map();['messageListeners']=_0x41572e();[_0x128a0b(0x7ac)];[_0x128a0b(0x1ea)]=new Map();[_0x128a0b(0x196)]=new Map();[_0x128a0b(0x8f3)]=new Map();constructor(_0x3bb2e6,_0x2b2194,_0x2d838e){const _0x19a52f=_0x128a0b;this[_0x19a52f(0x69a)]=_0x3bb2e6,this[_0x19a52f(0x3a9)]=_0x2b2194,this[_0x19a52f(0x292)]=_0x2d838e,this[_0x19a52f(0x7ac)]=this[_0x19a52f(0x1d7)](_0x420061=>{const _0x5146e8=_0x19a52f;this[_0x5146e8(0x3a9)][_0x5146e8(0x2a5)](_0x420061['uuid'])||(_0x529a07(_0x420061,this['localId'])&&0x0!==_0x420061[_0x5146e8(0x6be)]&&(this[_0x5146e8(0x3a9)][_0x5146e8(0xa39)](_0x420061[_0x5146e8(0x468)]),this[_0x5146e8(0x1ea)][_0x5146e8(0x8b0)](_0x420061[_0x5146e8(0x6be)])?.[_0x5146e8(0x56d)](_0x420061)),_0x420061[_0x5146e8(0x39b)]&&this['send'](_0x420061));});}[_0x128a0b(0x42d)](){const _0x5949ce=_0x128a0b;this[_0x5949ce(0x7ac)]?.();}[_0x128a0b(0x5cb)](_0x43789c){const _0x2abe75=_0x128a0b,_0x4e9f2c=_0x43789c[_0x2abe75(0x1d7)](_0x2470c8=>{const _0x40b055=_0x2abe75;this[_0x40b055(0x36f)][_0x40b055(0x56d)](_0x2470c8);});this[_0x2abe75(0x6af)][_0x2abe75(0x663)](_0x43789c,_0x4e9f2c),this[_0x2abe75(0x8f3)][_0x2abe75(0x663)](_0x43789c[_0x2abe75(0x846)](),function(_0x3872b1,_0xc05b=!0x1){let _0x4ba849=new Map();const _0x412ec9=_0x3e2378(_0x3872b1,_0xc05b,function(_0x2ffdcf){const _0x34a2e6=a0_0xdea0;_0x4140dd(_0x2ffdcf)&&_0x4ba849[_0x34a2e6(0x560)](_0x2ffdcf[_0x34a2e6(0x898)]+'-'+(_0x2ffdcf['destinationIds']??[])+'-'+_0x2ffdcf['messageType']+'-'+_0x2ffdcf[_0x34a2e6(0x95d)][_0x34a2e6(0x7dd)]);},function(_0x2d24a6){return!!function(_0x4ccf72){const _0x361661=a0_0xdea0,_0x3be683=_0x4ccf72[_0x361661(0x443)];if(!_0x4140dd(_0x3be683))return!0x1;const _0x13e99b=_0x3be683[_0x361661(0x898)]+'-'+(_0x3be683[_0x361661(0x6ba)]??[])+'-'+_0x3be683['messageType']+'-'+_0x3be683[_0x361661(0x95d)][_0x361661(0x7dd)],_0xde83b0={'version':_0x3be683[_0x361661(0x95d)][_0x361661(0x318)],'element':_0x4ccf72},_0x1fb69e=_0x4ba849['get'](_0x13e99b);return _0x1fb69e?(_0x1fb69e[_0x361661(0x318)]>=_0x3be683[_0x361661(0x95d)][_0x361661(0x318)]||(_0x1fb69e[_0x361661(0x33b)][_0x361661(0x23c)]&&(_0x1fb69e[_0x361661(0x33b)][_0x361661(0x23c)][_0x361661(0x20a)]=_0x4ccf72,_0x4ccf72['previous']=_0x1fb69e[_0x361661(0x33b)][_0x361661(0x23c)]),_0x1fb69e[_0x361661(0x33b)][_0x361661(0x20a)]&&(_0x1fb69e['element']['next'][_0x361661(0x23c)]=_0x4ccf72,_0x4ccf72[_0x361661(0x20a)]=_0x1fb69e['element'][_0x361661(0x20a)]),_0x1fb69e['element']===_0x412ec9[_0x361661(0x4d6)]&&(_0x412ec9['head']=_0x4ccf72),_0x1fb69e[_0x361661(0x33b)]===_0x412ec9[_0x361661(0x223)]&&(_0x412ec9['tail']=_0x4ccf72),_0x4ba849[_0x361661(0x663)](_0x13e99b,_0xde83b0)),!0x0):(_0x4ba849[_0x361661(0x663)](_0x13e99b,_0xde83b0),!0x1);}(_0x2d24a6);},function(){_0x4ba849['clear']();});function _0x4140dd(_0x1e05a6){const _0x332633=a0_0xdea0;if(_0x1e05a6&&_0x332633(0xa3a)==typeof _0x1e05a6&&_0x1e05a6[_0x332633(0x18d)](_0x332633(0x95d))&&_0x1e05a6[_0x332633(0x18d)](_0x332633(0x9a4))&&_0x1e05a6[_0x332633(0x18d)]('sourceId')){const _0x39f219=_0x1e05a6;if(_0x39f219[_0x332633(0x95d)]&&_0x332633(0xa3a)==typeof _0x39f219[_0x332633(0x95d)]&&_0x39f219[_0x332633(0x95d)]['hasOwnProperty'](_0x332633(0x318))&&_0x39f219[_0x332633(0x95d)][_0x332633(0x18d)]('type'))return!0x0;}return!0x1;}return _0x412ec9;}(new _0x378ec7(_0x2428cc=>_0x43789c[_0x2abe75(0x8d1)](_0x2428cc),()=>_0x52452b[_0x2abe75(0x252)](0x64))));}[_0x128a0b(0x8f6)](_0x1ca464){const _0x1aa14c=_0x128a0b;this[_0x1aa14c(0x6af)][_0x1aa14c(0x8b0)](_0x1ca464)?.(),this[_0x1aa14c(0x6af)][_0x1aa14c(0x560)](_0x1ca464),this[_0x1aa14c(0x8f3)]['get'](_0x1ca464['getRemoteId']())?.['clear'](),this[_0x1aa14c(0x8f3)][_0x1aa14c(0x560)](_0x1ca464['getRemoteId']());}[_0x128a0b(0x4a3)](_0x3e281c){const _0x115d89=_0x128a0b;return _0x265260[_0x115d89(0x552)](_0x1367fe['ConnectionState'],_0x115d89(0xa7f),this[_0x115d89(0x69a)],this['connections'][_0x115d89(0x321)]()),0x0!==this[_0x115d89(0x6af)][_0x115d89(0x388)]&&(Array[_0x115d89(0x1ec)](this[_0x115d89(0x6af)][_0x115d89(0x321)]())[_0x115d89(0x5cf)](_0x333fab=>_0x333fab[_0x115d89(0x846)]()===_0x3e281c)?.[_0x115d89(0x4a3)]()??!0x1);}['registerPublisher'](_0x11bf60){const _0x3381d5=_0x128a0b;this[_0x3381d5(0x1ea)][_0x3381d5(0x663)](_0x11bf60['getLabel'](),_0x11bf60);}[_0x128a0b(0x8bc)](_0x596d2a){const _0x3f5f1f=_0x128a0b;this['dataTopics']['delete'](_0x596d2a[_0x3f5f1f(0x5d1)]());}[_0x128a0b(0x532)](_0x226ada){const _0x47ecc7=_0x128a0b,_0x5bd4e8=_0x226ada[_0x47ecc7(0x3b4)](this[_0x47ecc7(0x8d1)][_0x47ecc7(0xa47)](this));this[_0x47ecc7(0x196)][_0x47ecc7(0x663)](_0x226ada[_0x47ecc7(0x5d1)](),_0x5bd4e8);}[_0x128a0b(0x950)](_0x31abe5){const _0x27d215=_0x128a0b;this[_0x27d215(0x196)][_0x27d215(0x8b0)](_0x31abe5[_0x27d215(0x5d1)]())?.(),this['dataUnsubscribers'][_0x27d215(0x560)](_0x31abe5[_0x27d215(0x5d1)]());}[_0x128a0b(0x18f)](){const _0xbb9f7b=_0x128a0b;return[_0x16f74['ContentType'][_0xbb9f7b(0x743)],_0x16f74['ContentType']['PubSub'],_0x16f74[_0xbb9f7b(0x6f5)][_0xbb9f7b(0x748)],_0x16f74[_0xbb9f7b(0x6f5)]['KeyValueDatabase'],_0x16f74[_0xbb9f7b(0x6f5)][_0xbb9f7b(0x22b)],_0x16f74['ContentType']['VectorDatabase'],_0x16f74[_0xbb9f7b(0x6f5)][_0xbb9f7b(0x789)],_0x16f74[_0xbb9f7b(0x6f5)][_0xbb9f7b(0x438)]];}['send'](_0x107da0){const _0x1e4913=_0x128a0b;if(!0x1===_0x107da0['retry']){if(_0x107da0[_0x1e4913(0x39b)]||!_0x107da0[_0x1e4913(0x6ba)]||0x1!==_0x107da0[_0x1e4913(0x6ba)]['length'])throw new _0x4204a5(_0x4204a5['codes'][_0x1e4913(0x2d0)],{'message':_0x1e4913(0x569),'localId':this[_0x1e4913(0x69a)]});if(!this[_0x1e4913(0x4a3)](_0x107da0[_0x1e4913(0x6ba)][0x0]))throw new _0x4cb4b0(_0x1e4913(0x763));}const _0x3e1df2=_0x107da0[_0x1e4913(0x856)]??[];try{const {filteredDestinationIds:_0x540f0f,extendedRecipients:_0x199af7}=this[_0x1e4913(0xa52)](_0x107da0,_0x3e1df2);_0x107da0[_0x1e4913(0x6ba)]=_0x540f0f,_0x107da0[_0x1e4913(0x856)]=_0x199af7;}catch(_0x27f66f){if(_0x27f66f instanceof _0x4cb4b0)return void _0x265260[_0x1e4913(0x552)](_0x1367fe[_0x1e4913(0xaf5)],_0x1e4913(0x3d3),_0x1e4913(0x5d9),_0x107da0,_0x27f66f[_0x1e4913(0x94c)]);}const _0x1e154d=this[_0x1e4913(0x35e)](_0x107da0);this[_0x1e4913(0x854)](_0x107da0,_0x1e154d),_0x107da0[_0x1e4913(0x39b)]=_0x1e154d;const _0x47f0b4=this[_0x1e4913(0x451)](_0x107da0,_0x3e1df2);for(const _0xb8b624 of _0x47f0b4){const _0x28b2c0=this['retryQueues'][_0x1e4913(0x8b0)](_0xb8b624[_0x1e4913(0x846)]());if(!_0x28b2c0)throw new _0x4204a5(_0x4204a5[_0x1e4913(0x7f9)][_0x1e4913(0x7cf)],{'message':'CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','localId':this['localId'],'remoteId':_0xb8b624[_0x1e4913(0x846)](),'data':_0x107da0});_0x28b2c0[_0x1e4913(0xa98)](_0x107da0);}}[_0x128a0b(0x846)](){return'';}[_0x128a0b(0x3d1)](){const _0x12c070=_0x128a0b;return this[_0x12c070(0x69a)];}['onMessage'](_0x3b1c04){return this['messageListeners']['subscribe'](_0x3b1c04);}[_0x128a0b(0xa52)](_0x8ab3d5,_0xb93342){const _0x52c8f3=_0x128a0b,_0x514c19={'filteredDestinationIds':_0x8ab3d5[_0x52c8f3(0x6ba)],'extendedRecipients':_0x8ab3d5['recipients']};if(!_0x8ab3d5[_0x52c8f3(0x39b)])return _0x514c19;const _0x34336c=Array['from'](this[_0x52c8f3(0x6af)][_0x52c8f3(0x321)]())[_0x52c8f3(0x2ca)](_0x448865=>_0x448865[_0x52c8f3(0x4f9)]()===_0x899d67[_0x52c8f3(0x802)]||_0x448865[_0x52c8f3(0x4a3)]())[_0x52c8f3(0x8ac)](_0x45add1=>_0x45add1[_0x52c8f3(0x846)]());if(_0x34336c[_0x52c8f3(0x959)]((_0x4e536c,_0x1e5445)=>_0x4e536c&&_0x8ab3d5[_0x52c8f3(0x856)][_0x52c8f3(0x6b7)](_0x1e5445),!0x0))throw new _0x4cb4b0('All\x20recipients\x20already\x20received');if(_0x8ab3d5[_0x52c8f3(0x6ba)]){const _0x4cc41c=_0x8ab3d5[_0x52c8f3(0x6ba)][_0x52c8f3(0x2ca)](_0x1687e8=>_0x1687e8!==this[_0x52c8f3(0x69a)]&&!_0x8ab3d5[_0x52c8f3(0x856)][_0x52c8f3(0x6b7)](_0x1687e8));if(0x0===_0x4cc41c[_0x52c8f3(0xa20)])throw new _0x4cb4b0(_0x52c8f3(0x933));_0x514c19[_0x52c8f3(0x4ce)]=_0x4cc41c;}return _0x514c19[_0x52c8f3(0x924)]=[...new Set([..._0xb93342,..._0x34336c,this[_0x52c8f3(0x69a)]])],_0x514c19;}['logPropagateSystemEvent'](_0x4a00b8,_0x36faad=!0x1){const _0x1bbe85=_0x128a0b;if(0x0===_0x4a00b8[_0x1bbe85(0x6be)]&&!_0x138bc2(_0x4a00b8,this['localId'])&&_0x4a00b8[_0x1bbe85(0x39b)]){const _0x119061=_0x49bf91(_0x4a00b8,this[_0x1bbe85(0x69a)]);_0x265260[_0x1bbe85(0x967)](_0x1367fe['System'],_0x4a00b8[_0x1bbe85(0x468)]+_0x1bbe85(0x6b6)+_0x36faad+')\x20'+_0x119061,_0x4a00b8,_0x36faad);}}[_0x128a0b(0x35e)](_0x6cd39d){const _0x4689f6=_0x128a0b;if(_0x6cd39d['destinationIds']&&_0x6cd39d[_0x4689f6(0x39b)]){const _0xabbf03=Array['from'](this[_0x4689f6(0x6af)][_0x4689f6(0x321)]())['filter'](_0xe8d348=>_0xe8d348[_0x4689f6(0x4f9)]()===_0x899d67[_0x4689f6(0x802)]||_0xe8d348[_0x4689f6(0x4a3)]())['map'](_0x2a3c14=>_0x2a3c14[_0x4689f6(0x846)]());return!_0x6cd39d[_0x4689f6(0x6ba)][_0x4689f6(0x959)]((_0x5e46ee,_0x4e2a8f)=>_0x5e46ee&&_0xabbf03['includes'](_0x4e2a8f),!0x0);}return _0x6cd39d['propagate']??!0x1;}['getConnectionDestinations'](_0x11e22e,_0x515ee8){const _0x1fb421=_0x128a0b;if(_0x11e22e['propagate']&&_0x11e22e['destinationIds']){const _0x4c9944=Array[_0x1fb421(0x1ec)](this['connections']['keys']())[_0x1fb421(0x2ca)](_0x2da7a0=>_0x2da7a0[_0x1fb421(0x4f9)]()===_0x899d67[_0x1fb421(0x802)]||_0x2da7a0[_0x1fb421(0x4a3)]())[_0x1fb421(0x8ac)](_0xc547b4=>_0xc547b4[_0x1fb421(0x846)]()),_0x187e12=new Set(),_0x39d8a5=_0x11e22e[_0x1fb421(0x898)]===this[_0x1fb421(0x69a)]?0x3:0x1;return _0x11e22e[_0x1fb421(0x6ba)]['forEach'](_0x12c1ce=>{const _0x4170d0=_0x1fb421,_0x2b063c=this[_0x4170d0(0x292)][_0x4170d0(0xa97)](_0x4c9944,_0x12c1ce);let _0x244c79=0x0,_0x16c95f=0x0;_0x2b063c[_0x4170d0(0x8b3)](_0x15f7da=>{const _0x99e3c4=_0x4170d0;if(_0x244c79>=_0x39d8a5)return;const _0x2fe603=Array[_0x99e3c4(0x1ec)](this[_0x99e3c4(0x6af)][_0x99e3c4(0x321)]())[_0x99e3c4(0x5cf)](_0x3eaa5b=>_0x3eaa5b[_0x99e3c4(0x846)]()===_0x15f7da);if(_0x2fe603){if(_0x2fe603['getConnectionType']()===_0x899d67[_0x99e3c4(0x802)]&&_0x16c95f>0x0)return void(_0x16c95f-=0x1);_0x187e12[_0x99e3c4(0x368)](_0x2fe603),_0x2fe603[_0x99e3c4(0x4f9)]()===_0x899d67['Optimization']&&(_0x16c95f+=0x1),_0x244c79+=0x1;}});}),Array['from'](_0x187e12);}return Array[_0x1fb421(0x1ec)](this[_0x1fb421(0x6af)]['keys']())[_0x1fb421(0x2ca)](_0x3fdabf=>{const _0xad3e33=_0x1fb421;return _0x2b4beb=_0x3fdabf[_0xad3e33(0x846)](),!_0x515ee8[_0xad3e33(0x6b7)](_0x2b4beb)&&(_0x529a07(_0x11e22e,_0x2b4beb)||_0x11e22e['propagate'])&&(!_0x11e22e[_0xad3e33(0x39b)]||_0x3fdabf[_0xad3e33(0x4a3)]()||_0x3fdabf['getConnectionType']()===_0x899d67[_0xad3e33(0x802)]);var _0x2b4beb;});}}class _0x1a796a{['localId'];[_0x128a0b(0x3a9)];[_0x128a0b(0x6af)]=new Map();[_0x128a0b(0x7be)];constructor(_0x184675,_0x2f02b9){const _0x1ef6b5=_0x128a0b;this[_0x1ef6b5(0x69a)]=_0x184675,this[_0x1ef6b5(0x3a9)]=_0x2f02b9;}['close'](){}[_0x128a0b(0x8d1)](_0x54ad5a){const _0x369d04=_0x128a0b;for(const _0x4447ce of this[_0x369d04(0x6af)][_0x369d04(0x321)]())try{return void _0x4447ce[_0x369d04(0x8d1)]({'retry':!0x1,..._0x54ad5a});}catch(_0x5aed38){_0x5aed38 instanceof _0x4cb4b0||_0x265260[_0x369d04(0x552)](_0x1367fe[_0x369d04(0x592)],_0x369d04(0x186)+_0x4447ce,_0x5aed38,_0x54ad5a);}_0x265260['log'](_0x1367fe[_0x369d04(0x592)],_0x369d04(0x274));}[_0x128a0b(0x5cb)](_0x4410d8){const _0x15f905=_0x128a0b,_0x224f0e=_0x4410d8[_0x15f905(0x1d7)](_0x192c25=>{const _0x59ddd1=_0x15f905;this[_0x59ddd1(0x3a9)][_0x59ddd1(0x2a5)](_0x192c25[_0x59ddd1(0x468)])||0x0===_0x192c25['topicLabel']&&(this[_0x59ddd1(0x3a9)]['addMessage'](_0x192c25['uuid']),_0x529a07(_0x192c25,this[_0x59ddd1(0x69a)])&&this[_0x59ddd1(0x7be)]?.[_0x59ddd1(0x56d)](_0x192c25));});this[_0x15f905(0x6af)][_0x15f905(0x663)](_0x4410d8,_0x224f0e);}['removeConnection'](_0x146b41){const _0x2ed581=_0x128a0b;this[_0x2ed581(0x6af)][_0x2ed581(0x8b0)](_0x146b41)?.(),this[_0x2ed581(0x6af)][_0x2ed581(0x560)](_0x146b41);}[_0x128a0b(0x3d1)](){const _0x26c90e=_0x128a0b;return this[_0x26c90e(0x69a)];}[_0x128a0b(0x846)](){return'';}[_0x128a0b(0x18f)](){const _0x5705db=_0x128a0b;return[_0x16f74[_0x5705db(0x6f5)]['Data']];}[_0x128a0b(0x4a3)](){const _0x1c935d=_0x128a0b;throw new Error(_0x1c935d(0x330));}[_0x128a0b(0x8fe)](_0x14ba00){const _0x428b66=_0x128a0b;this[_0x428b66(0x7be)]=_0x14ba00;}[_0x128a0b(0x211)](){delete this['systemTopic'];}}class _0x22a06a{['buffer']=new Map();[_0x128a0b(0x755)];constructor(){const _0x5cb1ac=_0x128a0b;this[_0x5cb1ac(0x755)]=_0x52452b[_0x5cb1ac(0x7ec)](()=>{const _0x6c6597=_0x5cb1ac;for(const [_0x24b5b6,_0xdc5906]of this[_0x6c6597(0x3ea)]['entries']())Date['now']()-_0xdc5906>0x124f80&&this[_0x6c6597(0x3ea)][_0x6c6597(0x560)](_0x24b5b6);},0x1d4c0);}[_0x128a0b(0x42d)](){const _0x224ce1=_0x128a0b;this[_0x224ce1(0x755)]();}[_0x128a0b(0xa39)](_0x46009c){const _0x2a2200=_0x128a0b;this[_0x2a2200(0x3ea)][_0x2a2200(0x663)](_0x46009c,Date[_0x2a2200(0x85a)]());}[_0x128a0b(0x2a5)](_0x52b09a){const _0xebfd68=_0x128a0b;return this[_0xebfd68(0x3ea)]['has'](_0x52b09a);}}class _0xb32d4{[_0x128a0b(0x282)];[_0x128a0b(0x3b9)];[_0x128a0b(0x1dd)];[_0x128a0b(0x5e7)];[_0x128a0b(0x6af)]=new Map();[_0x128a0b(0x4fc)];[_0x128a0b(0x36e)];[_0x128a0b(0x85b)];['messageBuffer'];constructor(_0x66edd2,_0x4f44db,_0x37be8f,_0xeed7c9,_0x463fd3){const _0x410317=_0x128a0b;this[_0x410317(0x282)]=_0x66edd2,this['authService']=_0x4f44db,this[_0x410317(0x1dd)]=_0xeed7c9,this[_0x410317(0x5e7)]=_0x463fd3,this[_0x410317(0x3a9)]=new _0x22a06a(),this[_0x410317(0x36e)]=new _0x1f4581(this[_0x410317(0x282)][_0x410317(0x8cc)][_0x410317(0x993)](),this[_0x410317(0x3a9)],_0x37be8f),this[_0x410317(0x85b)]=new _0x27d42f(this['configs'][_0x410317(0x61b)],this['configs']['clusterId'],this['configs'][_0x410317(0x8cc)],_0x410317(0x3d7),this['authService']),this[_0x410317(0x4fc)]=new _0x1a796a(this['configs']['localNode'][_0x410317(0x993)](),this[_0x410317(0x3a9)]),this[_0x410317(0x4fc)][_0x410317(0x5cb)](this['connectionGroup']),this[_0x410317(0x4fc)][_0x410317(0x5cb)](this['signalingServer']),this[_0x410317(0x282)][_0x410317(0x271)][_0x410317(0x3cc)](this[_0x410317(0x4fc)]);}[_0x128a0b(0x42d)](){const _0x4cdb41=_0x128a0b;this[_0x4cdb41(0x3a9)][_0x4cdb41(0x42d)](),this['connections'][_0x4cdb41(0x8b3)]((_0x1f97d6,_0x126549)=>this[_0x4cdb41(0xa8e)](_0x126549)),this[_0x4cdb41(0x282)]['mediator']['unregisterSystemSource'](this[_0x4cdb41(0x4fc)]),this[_0x4cdb41(0x4fc)][_0x4cdb41(0x8f6)](this[_0x4cdb41(0x85b)]),this['connectionPool'][_0x4cdb41(0x8f6)](this[_0x4cdb41(0x36e)]),this[_0x4cdb41(0x4fc)][_0x4cdb41(0x42d)](),this[_0x4cdb41(0x85b)][_0x4cdb41(0x42d)](),this[_0x4cdb41(0x36e)][_0x4cdb41(0x42d)]();}async[_0x128a0b(0x7fd)](){const _0x23db3b=_0x128a0b;await this[_0x23db3b(0x85b)]['connect']();}async['createConnection'](_0x46a568,_0x3df1b1=_0x899d67[_0x128a0b(0x802)]){const _0x1582d8=_0x128a0b;if(this[_0x1582d8(0x6af)][_0x1582d8(0x301)](_0x46a568)){if(this[_0x1582d8(0x6af)][_0x1582d8(0x8b0)](_0x46a568)?.['getConnectionType']()===_0x899d67[_0x1582d8(0x40a)]&&_0x3df1b1===_0x899d67[_0x1582d8(0x802)])return void this[_0x1582d8(0x6af)][_0x1582d8(0x8b0)](_0x46a568)?.[_0x1582d8(0x782)](_0x899d67[_0x1582d8(0x802)]);throw new _0x4204a5(_0x4204a5[_0x1582d8(0x7f9)][_0x1582d8(0x7ed)],{'localId':this[_0x1582d8(0x282)][_0x1582d8(0x8cc)]['getId'](),'remoteId':_0x46a568});}const _0x19b8c6=new _0x19852d(this[_0x1582d8(0x282)][_0x1582d8(0x2cd)],this['configs'][_0x1582d8(0x8cc)],_0x46a568,this[_0x1582d8(0x1dd)],_0x3df1b1,this[_0x1582d8(0x5e7)][_0x1582d8(0x36a)],this['options']['maxBpp'],this[_0x1582d8(0x5e7)][_0x1582d8(0x8da)]);this[_0x1582d8(0x6af)][_0x1582d8(0x663)](_0x46a568,_0x19b8c6),this[_0x1582d8(0x36e)][_0x1582d8(0x5cb)](_0x19b8c6),this['configs'][_0x1582d8(0x271)][_0x1582d8(0x3cc)](_0x19b8c6),this[_0x1582d8(0x282)][_0x1582d8(0x271)][_0x1582d8(0x47e)](_0x46a568),await _0x19b8c6[_0x1582d8(0x7f3)]();}[_0x128a0b(0x9ae)](){return this['connectionGroup'];}['getConnection'](_0x8f7ab1){const _0xe36e7d=_0x128a0b;if(!this['connections'][_0xe36e7d(0x301)](_0x8f7ab1))throw new _0x4204a5(_0x4204a5[_0xe36e7d(0x7f9)][_0xe36e7d(0x7f0)],{'localId':this['configs']['localNode'][_0xe36e7d(0x993)](),'remoteId':_0x8f7ab1});return this[_0xe36e7d(0x6af)][_0xe36e7d(0x8b0)](_0x8f7ab1);}['getConnections'](_0x4802ac){const _0x487731=_0x128a0b,_0x348da1=Array[_0x487731(0x1ec)](this[_0x487731(0x6af)][_0x487731(0x36b)]());return _0x4802ac?_0x348da1[_0x487731(0x2ca)](_0x4802ac):_0x348da1;}async[_0x128a0b(0x27a)](_0x7e485e){const _0x272f6e=_0x128a0b,_0x399c39=this[_0x272f6e(0x6af)][_0x272f6e(0x8b0)](_0x7e485e);_0x399c39&&_0x399c39[_0x272f6e(0x4a3)]()&&await _0x399c39[_0x272f6e(0x27a)]();}[_0x128a0b(0x93e)](_0x1d3190){const _0x29067e=_0x128a0b;if(_0x1d3190[_0x29067e(0x9a4)]!==_0x562b7c['PeerConnection']||_0x1d3190[_0x29067e(0x39b)])try{this[_0x29067e(0x36e)][_0x29067e(0x8d1)](_0x1d3190);}catch(_0x11ecaf){if(_0x11ecaf instanceof _0x4cb4b0)return;throw _0x11ecaf;}else this[_0x29067e(0x4fc)][_0x29067e(0x8d1)](_0x1d3190);}async[_0x128a0b(0xaff)](_0x4058bc){const _0x4f5e53=_0x128a0b;switch(_0x4058bc[_0x4f5e53(0x95d)][_0x4f5e53(0x7dd)]){case _0x303120['Disconnect']:case _0x303120[_0x4f5e53(0x1a6)]:case _0x303120[_0x4f5e53(0x3de)]:return;}if(!_0x4058bc[_0x4f5e53(0x6ba)]||0x1!==_0x4058bc[_0x4f5e53(0x6ba)][_0x4f5e53(0xa20)])throw new _0x4204a5(_0x4204a5['codes'][_0x4f5e53(0x5ba)],{'message':_0x4f5e53(0x22a),'event':_0x4058bc});if(_0x4058bc['destinationIds'][0x0]!==this[_0x4f5e53(0x282)][_0x4f5e53(0x8cc)][_0x4f5e53(0x993)]())throw new _0x4204a5(_0x4204a5['codes'][_0x4f5e53(0x5ba)],{'message':'Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','event':_0x4058bc});if(!this[_0x4f5e53(0x6af)][_0x4f5e53(0x301)](_0x4058bc[_0x4f5e53(0x898)])){let _0x2c8e39=_0x899d67[_0x4f5e53(0x802)];if(!(this[_0x4f5e53(0x4cf)](_0x4058bc['content'])||this[_0x4f5e53(0x8fa)](_0x4058bc[_0x4f5e53(0x95d)])||this[_0x4f5e53(0x4cc)](_0x4058bc[_0x4f5e53(0x95d)])))return;_0x2c8e39=_0x4058bc[_0x4f5e53(0x95d)][_0x4f5e53(0x2d8)],await this[_0x4f5e53(0xa36)](_0x4058bc[_0x4f5e53(0x898)],_0x2c8e39);}const _0xec5bb1=this['connections']['get'](_0x4058bc[_0x4f5e53(0x898)]);await _0xec5bb1[_0x4f5e53(0xaff)](_0x4058bc);}[_0x128a0b(0x761)](_0x3ad943){const _0x34aeca=_0x128a0b;if(_0x3ad943['content']['type']===_0x9a52f6['Remediation']){if(_0x3ad943[_0x34aeca(0x95d)][_0x34aeca(0x77e)]===this[_0x34aeca(0x282)][_0x34aeca(0x8cc)][_0x34aeca(0x993)]())return void this[_0x34aeca(0x6af)][_0x34aeca(0x8b3)](_0x45afff=>_0x45afff[_0x34aeca(0x761)](_0x3ad943));this['connections']['get'](_0x3ad943['content']['targetId'])?.[_0x34aeca(0x761)](_0x3ad943);}}[_0x128a0b(0x466)]({content:_0x466a0b}){const _0x412e01=_0x128a0b;_0x466a0b['type']===_0x11eb85[_0x412e01(0x75e)]&&this[_0x412e01(0xa8e)](_0x466a0b['id']);}[_0x128a0b(0x6a2)](){const _0x4351f6=_0x128a0b,_0x55eb26=Array[_0x4351f6(0x1ec)](this['connections'][_0x4351f6(0x36b)]())[_0x4351f6(0x959)]((_0x4f19f5,_0x3c038e)=>_0x4f19f5+_0x3c038e['calculateArrayBufferSize'](),0x0);return _0x55eb26<_0x1bd5ba?Promise[_0x4351f6(0x913)](_0x55eb26):new Promise(_0xf61059=>{const _0x3ecbd5=setInterval(()=>{const _0x454fdd=a0_0xdea0,_0x35555c=Array[_0x454fdd(0x1ec)](this['connections'][_0x454fdd(0x36b)]())[_0x454fdd(0x959)]((_0x606266,_0x41053c)=>_0x606266+_0x41053c[_0x454fdd(0x246)](),0x0);_0x35555c<_0x1bd5ba&&(clearInterval(_0x3ecbd5),_0xf61059(_0x35555c));},0x3e8);});}[_0x128a0b(0x888)](){const _0x2a983e=_0x128a0b;for(const _0x4dc912 of this['connections']['values']())if(_0x4dc912[_0x2a983e(0x5c0)]()>0x0||_0x4dc912[_0x2a983e(0x246)]()>0x0)return!0x0;return!0x1;}[_0x128a0b(0xa8e)](_0x5af86a){const _0x407afc=_0x128a0b,_0x4932b3=this[_0x407afc(0x6af)]['get'](_0x5af86a);_0x4932b3&&(this[_0x407afc(0x282)][_0x407afc(0x271)][_0x407afc(0x66f)](_0x5af86a),this['configs']['mediator'][_0x407afc(0xa2a)](_0x4932b3),_0x4932b3 instanceof _0x19852d&&this[_0x407afc(0x36e)][_0x407afc(0x8f6)](_0x4932b3),_0x4932b3[_0x407afc(0x42d)](),this['connections']['delete'](_0x5af86a));}[_0x128a0b(0x4cf)](_0x1b49af){const _0x34e666=_0x128a0b;return _0x1b49af[_0x34e666(0x7dd)]===_0x303120[_0x34e666(0x56b)];}[_0x128a0b(0x4cc)](_0x441bf4){const _0x53e68e=_0x128a0b;return _0x441bf4[_0x53e68e(0x7dd)]===_0x303120[_0x53e68e(0x7c8)];}['isIceCandidate'](_0x32afc3){const _0x454eda=_0x128a0b;return _0x32afc3[_0x454eda(0x7dd)]===_0x303120['Handshake'];}}!function(_0x235860){const _0xcf3065=_0x128a0b;_0x235860[_0x235860[_0xcf3065(0x89a)]=0x0]=_0xcf3065(0x89a),_0x235860[_0x235860[_0xcf3065(0x239)]=0x1]=_0xcf3065(0x239),_0x235860[_0x235860[_0xcf3065(0x59c)]=0x2]=_0xcf3065(0x59c),_0x235860[_0x235860[_0xcf3065(0xa48)]=0x3]=_0xcf3065(0xa48),_0x235860[_0x235860['RestartNeedMediaStream']=0x4]=_0xcf3065(0x49b),_0x235860[_0x235860[_0xcf3065(0x3d5)]=0x5]=_0xcf3065(0x3d5),_0x235860[_0x235860[_0xcf3065(0x519)]=0x6]='CannotProvideMediaStream',_0x235860[_0x235860[_0xcf3065(0x5ea)]=0x7]=_0xcf3065(0x5ea);}(_0x1bde37||(_0x1bde37={}));class _0x2052d7 extends _0x5973c2{[_0x128a0b(0x8cc)];[_0x128a0b(0x2cd)];['vendorId'];['connectorConstructor'];[_0x128a0b(0xa16)];[_0x128a0b(0x469)]=0x0;[_0x128a0b(0x693)];[_0x128a0b(0xa10)]=_0x41572e();[_0x128a0b(0x360)]=new Map();[_0x128a0b(0x669)];constructor(_0x11f5e5,_0x9d1fdf,_0x1acd2a,_0x285f4a,_0x1bd8db){const _0x59cd21=_0x128a0b;if(_0x59cd21(0x55c)!=typeof _0x9d1fdf)throw new _0x325cc6(_0x3336f9['ExternalStorageNameNotString'],_0x59cd21(0x2fc));super(_0x11f5e5,_0x9d1fdf),this[_0x59cd21(0x8cc)]=_0x11f5e5,this['clusterId']=_0x1acd2a,this[_0x59cd21(0x61b)]=_0x285f4a,this[_0x59cd21(0x3bd)]=_0x1bd8db,this[_0x59cd21(0xa76)]();}['destroy'](){const _0x3289c7=_0x128a0b;this[_0x3289c7(0x669)]?.(),this['listenerUnsubscribers']['forEach'](_0xe8c552=>_0xe8c552()),clearTimeout(this[_0x3289c7(0xa16)]),delete this['debounceStats'],super[_0x3289c7(0x61e)]();}[_0x128a0b(0x49e)](){const _0x4a3c4a=_0x128a0b;this[_0x4a3c4a(0xa76)]();}[_0x128a0b(0x42d)](){const _0x362ce9=_0x128a0b;this[_0x362ce9(0x7be)][_0x362ce9(0x56d)]({'sourceId':_0x4b0f68,'messageType':_0x562b7c[_0x362ce9(0x40d)],'content':{'type':_0x267eb0[_0x362ce9(0x1c9)],'label':this[_0x362ce9(0x9ce)]}});}[_0x128a0b(0x6da)](){const _0x5553a9=_0x128a0b;return _0x16f74[_0x5553a9(0x6f5)][_0x5553a9(0x438)];}async[_0x128a0b(0x8b0)](_0x159b01){const _0x52a0d8=_0x128a0b;if(!this[_0x52a0d8(0x693)])throw new _0x325cc6(_0x3336f9[_0x52a0d8(0x8e4)],_0x52a0d8(0xab5));_0x265260[_0x52a0d8(0x1b4)](_0x5790a5[_0x52a0d8(0x438)],{'type':_0x52a0d8(0x8b0),'label':this[_0x52a0d8(0x9ce)],'nodeId':this[_0x52a0d8(0x8cc)][_0x52a0d8(0x993)](),'nodeType':this[_0x52a0d8(0x8cc)][_0x52a0d8(0x7dd)],'clusterId':this[_0x52a0d8(0x2cd)],'path':_0x159b01}),this[_0x52a0d8(0x469)]+=0x1,this[_0x52a0d8(0xa76)]();try{return await this['connector'][_0x52a0d8(0x8b0)](_0x159b01);}catch(_0x2e685f){throw new _0x325cc6(_0x3336f9[_0x52a0d8(0x8c5)],'Cannot\x20get\x20file:\x20'+_0x159b01);}}async[_0x128a0b(0x622)](_0x12267e,_0x34fe66){const _0x15501f=_0x128a0b;if(!this[_0x15501f(0x693)])throw new _0x325cc6(_0x3336f9[_0x15501f(0x8e4)],'Cannot\x20list\x20directory:\x20External\x20Storage\x20not\x20connected');const {recursive:_0x2c5a5d=!0x1}=_0x34fe66??{};_0x265260[_0x15501f(0x1b4)](_0x5790a5[_0x15501f(0x438)],{'type':_0x15501f(0x622),'label':this[_0x15501f(0x9ce)],'nodeId':this['localNode']['getId'](),'nodeType':this[_0x15501f(0x8cc)][_0x15501f(0x7dd)],'clusterId':this[_0x15501f(0x2cd)],'path':_0x12267e}),this['reads']+=0x1,this['sendStats']();try{return await this['connector'][_0x15501f(0x622)](_0x12267e,_0x2c5a5d);}catch(_0x45e087){throw new _0x325cc6(_0x3336f9[_0x15501f(0x8c5)],'Cannot\x20list\x20directory:\x20'+_0x12267e);}}[_0x128a0b(0x3b4)](_0x3c6cef,_0x7fe0e){const _0x3a630f=_0x128a0b;if(this['listenerUnsubscribers'][_0x3a630f(0x301)](_0x3c6cef))throw new _0x325cc6(_0x3336f9[_0x3a630f(0x99d)],'Cannot\x20subscribe\x20to\x20ExternalStorage:\x20Already\x20subscribed');this['listenerUnsubscribers'][_0x3a630f(0x663)](_0x3c6cef,this[_0x3a630f(0xa10)][_0x3a630f(0x3b4)](_0x7fe0e));}[_0x128a0b(0x3b0)](_0x562bef){const _0x1e03b6=_0x128a0b;this[_0x1e03b6(0x360)][_0x1e03b6(0x8b0)](_0x562bef)?.(),this[_0x1e03b6(0x360)][_0x1e03b6(0x560)](_0x562bef);}async[_0x128a0b(0x645)](){const _0x4ee429=_0x128a0b,_0x233bd6=(await(0x0,_0x1b5a26[_0x4ee429(0x9af)])((0x0,_0x1b5a26[_0x4ee429(0x1ff)])(_0x342bc8[_0x4ee429(0x263)](),_0x4ee429(0x64f)+this['vendorId']+_0x4ee429(0x54a)+this[_0x4ee429(0x9ce)])))['data']();if(!_0x233bd6)throw new _0x325cc6(_0x3336f9[_0x4ee429(0x8c6)],_0x4ee429(0x955)+this[_0x4ee429(0x9ce)]);const {site:_0x5092c5,drive:_0x1ee9f6}=_0x233bd6,_0x49d152=(await(0x0,_0x197cf0[_0x4ee429(0x1e5)])(_0x342bc8['getFunctions'](),_0x4ee429(0xa2b))({'storageId':this[_0x4ee429(0x9ce)]}))[_0x4ee429(0xaae)]['accessToken'];this[_0x4ee429(0x693)]=new this[(_0x4ee429(0x3bd))](_0x5092c5['id'],_0x1ee9f6['id'],_0x49d152,async()=>(await(0x0,_0x197cf0[_0x4ee429(0x1e5)])(_0x342bc8[_0x4ee429(0x584)](),_0x4ee429(0xa67))({'storageId':this[_0x4ee429(0x9ce)]}))['data'][_0x4ee429(0x51a)]),this['trackChanges']();}[_0x128a0b(0xa76)](){const _0x2848ca=_0x128a0b;this[_0x2848ca(0xa16)]&&clearTimeout(this['debounceStats']),this[_0x2848ca(0xa16)]=setTimeout(async()=>{const _0x9d1d2b=_0x2848ca;delete this[_0x9d1d2b(0xa16)],this['systemTopic'][_0x9d1d2b(0x56d)]({'sourceId':_0x4b0f68,'messageType':_0x562b7c[_0x9d1d2b(0x40d)],'content':{'type':_0x267eb0[_0x9d1d2b(0x611)],'label':this[_0x9d1d2b(0x9ce)],'stats':{'timestamp':Date[_0x9d1d2b(0x85a)](),'storage':0x0,'messagesSent':0x0,'messagesReceived':0x0,'bytesSent':0x0,'bytesReceived':0x0,'writes':0x0,'reads':this[_0x9d1d2b(0x469)],'prompts':0x0,'tokens':0x0}}});},_0x9bc8e5);}async[_0x128a0b(0x5e1)](){const _0x261a47=_0x128a0b;await this[_0x261a47(0x693)]?.['listChanges'](),this[_0x261a47(0x669)]=_0x52452b[_0x261a47(0x7ec)](async()=>{const _0x35ca7d=_0x261a47;try{if(!this[_0x35ca7d(0x693)])return;const _0x2d18d0=await this['connector'][_0x35ca7d(0x30d)]();for(const _0x24d6ea of _0x2d18d0)this[_0x35ca7d(0xa10)][_0x35ca7d(0x56d)](_0x24d6ea);}catch(_0x13faf5){}},0x493e0);}}const _0x5ae861=require('rxjs');class _0x1d2b12 extends _0x5973c2{['graphService'];[_0x128a0b(0x2a1)]=new Map();[_0x128a0b(0x893)]=new Map();[_0x128a0b(0x4ee)]=new Map();[_0x128a0b(0x755)];constructor(_0x32d83d,_0x395dfd,_0xcbfd12){super(_0x32d83d,_0x395dfd),this['graphService']=_0xcbfd12;}[_0x128a0b(0x6da)](){const _0xab4b95=_0x128a0b;return _0x16f74[_0xab4b95(0x6f5)]['Job'];}['open'](){const _0x24acf7=_0x128a0b;this['unsubscribeHandler']=this[_0x24acf7(0x1d7)]((_0x2ff6e7,_0x23baa6)=>{const _0xbecf6b=_0x24acf7;if(_0x265260['log'](_0x1367fe[_0xbecf6b(0xae9)],_0xbecf6b(0x435),_0x2ff6e7,_0x23baa6,this[_0xbecf6b(0x292)][_0xbecf6b(0x3a3)]()),!(_0x23baa6 instanceof File)){if(!_0x23baa6)throw new _0x4204a5(_0x4204a5[_0xbecf6b(0x7f9)]['JobDispatcherInvalidPayload']);return this['isBidResponse'](_0x23baa6)?this[_0xbecf6b(0xa8d)](_0x2ff6e7,_0x23baa6['id'],_0x23baa6):this['isPartialResultResponse'](_0x23baa6)?(_0x265260[_0xbecf6b(0x552)](_0x1367fe['Jobs'],_0xbecf6b(0x442)+_0x23baa6['id']+_0xbecf6b(0x50b),_0x23baa6['result']),void this[_0xbecf6b(0x852)](_0x23baa6['id'],_0x23baa6)):this[_0xbecf6b(0xa4d)](_0x23baa6)?(_0x265260[_0xbecf6b(0x552)](_0x1367fe[_0xbecf6b(0xae9)],_0xbecf6b(0x442)+_0x23baa6['id']+_0xbecf6b(0x720),_0x23baa6['result']),void this[_0xbecf6b(0x53d)](_0x23baa6['id'],_0x23baa6)):void(this[_0xbecf6b(0x370)](_0x23baa6)&&this['failJob'](_0x23baa6['id'],_0x23baa6['message']));}});}[_0x128a0b(0x49e)](){const _0x48e215=_0x128a0b;this['clear'](),this[_0x48e215(0x645)]();}[_0x128a0b(0x61e)](){this['clear'](),super['destroy']();}[_0x128a0b(0x9e4)](){const _0x285e10=_0x128a0b;this[_0x285e10(0x2a1)]['clear'](),this[_0x285e10(0x755)]&&this['unsubscribeHandler']();}[_0x128a0b(0x42d)](){const _0x28e6cc=_0x128a0b;this[_0x28e6cc(0x7be)]?.[_0x28e6cc(0x56d)]({'sourceId':_0x4b0f68,'messageType':_0x562b7c[_0x28e6cc(0x40d)],'content':{'type':_0x267eb0['CloseJobDispatcher'],'label':this[_0x28e6cc(0x9ce)]}});}async['createJob'](_0x34ef29){const _0x506774=_0x128a0b,{id:_0x11efcf,parameters:_0x38d389,jobType:_0x3dbd77}=_0x34ef29,_0x8aead2={'id':_0x11efcf,'jobType':_0x3dbd77,'parameters':_0x38d389,'status':_0x16f74[_0x506774(0x7bd)][_0x506774(0xa91)],'created':new Date(),'updated':new Date()};if(this[_0x506774(0x2a1)]['has'](_0x8aead2['id']))throw new _0x325cc6(_0x3336f9[_0x506774(0x4be)],_0x506774(0x20e)+_0x8aead2['id']+_0x506774(0x8d8));_0x8aead2['created']=new Date(),_0x8aead2['updated']=new Date();const _0x30745d=new _0x5ae861[(_0x506774(0x4d8))]();this['jobs'][_0x506774(0x663)](_0x8aead2['id'],_0x8aead2),this['jobObservers'][_0x506774(0x663)](_0x8aead2['id'],_0x30745d);try{const _0x2ef1dd={'id':_0x8aead2['id'],'jobPhase':_0x556bb0[_0x506774(0x46b)],'jobType':_0x8aead2[_0x506774(0x82d)]},_0x11d7f9=0x3;let _0x2dee2e=0x0;const _0x179c6f=async()=>{const _0x11966c=_0x506774;_0x2dee2e+=0x1;try{_0x265260[_0x11966c(0x552)](_0x1367fe[_0x11966c(0xae9)],'Job\x20'+_0x8aead2['id']+'\x20sending\x20attempt\x20'+_0x2dee2e+'.',this[_0x11966c(0x292)][_0x11966c(0x3a3)]()),await this[_0x11966c(0x8d1)](_0x2ef1dd),_0x8aead2['updated']=new Date(),this[_0x11966c(0x2a1)][_0x11966c(0x663)](_0x8aead2['id'],_0x8aead2),this[_0x11966c(0x5b9)](_0x8aead2['id']);}catch(_0x2277d2){_0x2dee2e<_0x11d7f9?(_0x265260[_0x11966c(0x1c3)]('Attempt\x20'+_0x2dee2e+'\x20to\x20send\x20dispatcherJob\x20'+_0x8aead2['id']+_0x11966c(0x3f2),{'nodeId':this['owner']['getId'](),'nodeType':this['owner'][_0x11966c(0x7dd)],'data':{'job':_0x8aead2,'attempts':_0x2dee2e,'maxRetries':_0x11d7f9}}),setTimeout(_0x179c6f,0x3e8)):(_0x8aead2['status']=_0x16f74[_0x11966c(0x7bd)]['Failed'],_0x8aead2['updated']=new Date(),this[_0x11966c(0x2a1)][_0x11966c(0x663)](_0x8aead2['id'],_0x8aead2),_0x265260[_0x11966c(0x5b5)](_0x11966c(0x614)+_0x8aead2['id']+'\x20after\x20'+_0x11d7f9+_0x11966c(0x9f8),{'nodeId':this['owner'][_0x11966c(0x993)](),'nodeType':this['owner'][_0x11966c(0x7dd)],'data':{'job':_0x8aead2,'attempts':_0x2dee2e,'maxRetries':_0x11d7f9,'error':_0x2277d2}}));}};_0x179c6f();const {id:_0x870833}=_0x8aead2;this[_0x506774(0x229)](_0x506774(0x442)+_0x8aead2['id']+'\x20created\x20and\x20dispatched.',{'jobId':_0x870833}),_0x8aead2[_0x506774(0x9ea)]=new Date();}catch(_0x13958d){_0x8aead2['status']=_0x16f74[_0x506774(0x7bd)][_0x506774(0x911)],_0x265260[_0x506774(0x5b5)](_0x506774(0x614)+_0x8aead2['id']+':',{'nodeId':this['owner'][_0x506774(0x993)](),'nodeType':this['owner'][_0x506774(0x7dd)],'data':{'job':_0x8aead2,'error':_0x13958d}});}return _0x30745d[_0x506774(0x2ea)]();}[_0x128a0b(0x754)](_0x13cc0e){const _0x259cd6=_0x128a0b,_0x22ac2d=this[_0x259cd6(0x2a1)]['get'](_0x13cc0e);if(!_0x22ac2d)throw new _0x325cc6(_0x3336f9[_0x259cd6(0x5f8)],'Job\x20with\x20id\x20'+_0x13cc0e+'\x20not\x20found.');return{'id':_0x22ac2d['id'],'jobType':_0x22ac2d['jobType'],'status':_0x22ac2d[_0x259cd6(0x6f7)],'parameters':_0x22ac2d[_0x259cd6(0x781)]};}[_0x128a0b(0x6b5)](){const _0xb9fbd2=_0x128a0b;return Array['from'](this['jobs'][_0xb9fbd2(0x36b)]())[_0xb9fbd2(0x8ac)](_0x337252=>this['getJob'](_0x337252['id']));}async[_0x128a0b(0x728)](_0x52bee7,_0x56ee37){const _0x3241e3=_0x128a0b,_0x5ac442=this[_0x3241e3(0x2a1)]['get'](_0x52bee7);if(!_0x5ac442)throw new _0x325cc6(_0x3336f9[_0x3241e3(0x5f8)],_0x3241e3(0x20e)+_0x52bee7+_0x3241e3(0x1cf));_0x5ac442[_0x3241e3(0x781)]=_0x56ee37,_0x5ac442[_0x3241e3(0x9ea)]=new Date(),this[_0x3241e3(0x2a1)]['set'](_0x52bee7,_0x5ac442);}async['deleteJob'](_0x3daedb){const _0x25da74=_0x128a0b;if(!this['jobs'][_0x25da74(0x560)](_0x3daedb))throw new _0x325cc6(_0x3336f9['JobDispatcherJobNotFound'],_0x25da74(0x20e)+_0x3daedb+'\x20not\x20found.');const _0x53063d=this[_0x25da74(0x893)][_0x25da74(0x8b0)](_0x3daedb);if(!_0x53063d)throw new _0x4204a5(_0x4204a5[_0x25da74(0x7f9)][_0x25da74(0x57b)]);_0x53063d[_0x25da74(0x710)](),this['jobObservers']['delete'](_0x3daedb),_0x265260[_0x25da74(0x552)](_0x1367fe[_0x25da74(0xae9)],'Job\x20'+_0x3daedb+'\x20deleted.');}[_0x128a0b(0xa8d)](_0x51af0c,_0x57ca4c,_0x419a59){const _0x586772=_0x128a0b,_0x17b8ba=this[_0x586772(0x4ee)][_0x586772(0x8b0)](_0x57ca4c)??new Map();_0x17b8ba[_0x586772(0x663)](_0x51af0c,[_0x419a59,Date['now']()]),this[_0x586772(0x4ee)]['set'](_0x57ca4c,_0x17b8ba),this[_0x586772(0x369)](_0x57ca4c);}[_0x128a0b(0x5b9)](_0x4c557d){const _0x584ad7=_0x128a0b,_0x2b42a4=this[_0x584ad7(0x2a1)][_0x584ad7(0x8b0)](_0x4c557d);if(!_0x2b42a4)throw new _0x4204a5(_0x4204a5[_0x584ad7(0x7f9)][_0x584ad7(0x5f8)]);const _0x2ce073=setTimeout(()=>this[_0x584ad7(0x369)](_0x4c557d,!0x0),0xbb8);_0x2b42a4[_0x584ad7(0x799)]=_0x2ce073,this[_0x584ad7(0x2a1)][_0x584ad7(0x663)](_0x2b42a4['id'],_0x2b42a4);}[_0x128a0b(0x369)](_0x43cbdf,_0x13b595=!0x1){const _0x2f3613=_0x128a0b,_0xef155f=this[_0x2f3613(0x292)][_0x2f3613(0x3a3)](),_0x4b3217=Array[_0x2f3613(0x1ec)](_0xef155f['values']())['filter'](_0x1c2253=>_0x1c2253[_0x2f3613(0x7dd)]===_0x16f74[_0x2f3613(0x8d0)]['Agent']),_0x3df004=this[_0x2f3613(0x4ee)][_0x2f3613(0x8b0)](_0x43cbdf)??new Map();if(!_0x13b595&&(!_0x3df004||_0x3df004[_0x2f3613(0x388)]<_0x4b3217['length']))return;const _0x2e2c02=this[_0x2f3613(0x2a1)][_0x2f3613(0x8b0)](_0x43cbdf);if(!_0x2e2c02)throw new _0x4204a5(_0x4204a5[_0x2f3613(0x7f9)][_0x2f3613(0x5f8)]);if(clearTimeout(_0x2e2c02[_0x2f3613(0x799)]),_0x265260['log'](_0x1367fe[_0x2f3613(0xae9)],'Job\x20'+_0x2e2c02['id']+'\x20received\x20responses:',_0x3df004,this['jobBids']),!_0x3df004||0x0===_0x3df004[_0x2f3613(0x388)]){_0x2e2c02[_0x2f3613(0x6f7)]=_0x16f74[_0x2f3613(0x7bd)]['Failed'],_0x2e2c02[_0x2f3613(0x9ea)]=new Date(),_0x265260[_0x2f3613(0x5b5)](_0x2f3613(0x442)+_0x2e2c02['id']+'\x20failed\x20to\x20receive\x20a\x20valid\x20bid\x20responses\x20in\x20time.',{'nodeId':this[_0x2f3613(0x25a)]['getId'](),'nodeType':this[_0x2f3613(0x25a)]['type'],'data':{'job':_0x2e2c02,'responses':_0x3df004}});const _0x4fd645=this[_0x2f3613(0x893)][_0x2f3613(0x8b0)](_0x43cbdf);if(!_0x4fd645)throw new _0x4204a5(_0x4204a5[_0x2f3613(0x7f9)]['JobDispatcherObserverNotFound']);const _0x54c01f=_0x2f3613(0x860),_0x4c059d={'id':_0x2e2c02['id'],'status':_0x2e2c02['status'],'message':_0x54c01f};return _0x4fd645[_0x2f3613(0x20a)](_0x4c059d),_0x4fd645[_0x2f3613(0x710)](),this[_0x2f3613(0x2a1)][_0x2f3613(0x663)](_0x2e2c02['id'],_0x2e2c02),void this[_0x2f3613(0x4ee)][_0x2f3613(0x560)](_0x43cbdf);}const {nodeId:_0x3bc624,response:_0xc4ca82}=this[_0x2f3613(0x8e7)](_0x2e2c02['id'],_0x3df004);_0x2e2c02[_0x2f3613(0x6f7)]=_0x16f74[_0x2f3613(0x7bd)]['Processing'],_0x2e2c02[_0x2f3613(0x9ea)]=new Date(),_0x265260[_0x2f3613(0x552)](_0x1367fe[_0x2f3613(0xae9)],_0x2f3613(0x442)+_0x2e2c02['id']+_0x2f3613(0xa8c)+_0x3bc624+_0x2f3613(0x897),_0xc4ca82);const _0x456a7e={'id':_0x2e2c02['id'],'jobType':_0x2e2c02['jobType'],'jobPhase':_0x556bb0['Attribution'],'parameters':_0x2e2c02['parameters']};this[_0x2f3613(0x8d1)](_0x456a7e,[_0x3bc624]),this[_0x2f3613(0x2a1)][_0x2f3613(0x663)](_0x2e2c02['id'],_0x2e2c02),this['jobBids'][_0x2f3613(0x560)](_0x43cbdf);}['evaluateBids'](_0x5b2889,_0x13859b){const _0x5c4f1f=_0x128a0b;let _0x4b350e;const _0x4b86cb=Array[_0x5c4f1f(0x1ec)](_0x13859b[_0x5c4f1f(0x268)]())[_0x5c4f1f(0x2ca)](([,[_0x219c10]])=>_0x219c10[_0x5c4f1f(0x8a1)]);if(_0x4b350e=_0x4b86cb[_0x5c4f1f(0xa20)]>0x0?Array[_0x5c4f1f(0x1ec)](_0x13859b[_0x5c4f1f(0x268)]())[_0x5c4f1f(0x393)]((_0x295d5b,_0xf4e750)=>_0xf4e750[0x1][0x0][_0x5c4f1f(0x216)]-_0x295d5b[0x1][0x0]['bid']):Array['from'](_0x13859b[_0x5c4f1f(0x268)]())['sort']((_0x3e843f,_0x2e0217)=>_0x3e843f[0x1][0x0]['queueLength']-_0x2e0217[0x1][0x0][_0x5c4f1f(0x608)]),0x1===_0x4b350e[_0x5c4f1f(0xa20)])return{'nodeId':_0x4b350e[0x0][0x0],'response':_0x4b350e[0x0][0x1][0x0]};let _0x3e0c8f;if(_0x3e0c8f=_0x4b86cb[_0x5c4f1f(0xa20)]>0x0?(_0x19989a=>{const _0x4d9171=_0x5c4f1f,_0x4cf691=_0x19989a[0x0][0x1][0x0][_0x4d9171(0x216)];return _0x19989a[_0x4d9171(0x2ca)](([,[_0x269355]])=>_0x269355[_0x4d9171(0x216)]===_0x4cf691);})(_0x4b350e):(_0x1126be=>{const _0x22826e=_0x5c4f1f,_0x251695=_0x1126be[0x0][0x1][0x0][_0x22826e(0x608)];return _0x1126be[_0x22826e(0x2ca)](([,[_0x4db390]])=>_0x4db390[_0x22826e(0x608)]===_0x251695);})(_0x4b350e),0x1===_0x3e0c8f['length'])return{'nodeId':_0x3e0c8f[0x0][0x0],'response':_0x3e0c8f[0x0][0x1][0x0]};const _0x2b0e42=this['jobs']['get'](_0x5b2889);if(!_0x2b0e42)throw new _0x4204a5(_0x4204a5['codes']['JobDispatcherJobNotFound']);const _0x542d80=_0x2b0e42[_0x5c4f1f(0x745)]['getTime'](),_0x157179=_0x3e0c8f[_0x5c4f1f(0x8ac)](([_0x1c3d51,[,_0x4cf953]])=>({'nodeId':_0x1c3d51,'rtt':_0x4cf953-_0x542d80})),_0x3b7bde=Math[_0x5c4f1f(0x362)](..._0x157179['map'](({rtt:_0x17a460})=>_0x17a460)),_0x255daa=_0x157179[_0x5c4f1f(0x5cf)](({rtt:_0x1b8221})=>_0x1b8221===_0x3b7bde),[,[_0x455aba]]=_0x3e0c8f['find'](([_0x3f99bc])=>_0x3f99bc===_0x255daa[_0x5c4f1f(0x6aa)]);return{'nodeId':_0x255daa['nodeId'],'response':_0x455aba};}[_0x128a0b(0x852)](_0x3698ed,_0x99dc81){const _0x3437f0=_0x128a0b,_0x155483=this[_0x3437f0(0x2a1)][_0x3437f0(0x8b0)](_0x3698ed);if(!_0x155483)throw new _0x4204a5(_0x4204a5[_0x3437f0(0x7f9)][_0x3437f0(0x5f8)]);const _0x137aa6=this[_0x3437f0(0x893)][_0x3437f0(0x8b0)](_0x3698ed);if(!_0x137aa6)throw new _0x4204a5(_0x4204a5[_0x3437f0(0x7f9)][_0x3437f0(0x57b)]);const _0x51a6bd={'id':_0x155483['id'],'status':_0x16f74[_0x3437f0(0x7bd)][_0x3437f0(0x8a8)],'result':_0x99dc81[_0x3437f0(0x630)]};_0x137aa6[_0x3437f0(0x20a)](_0x51a6bd);}['evaluateProccessedJob'](_0x246808,_0x45a347){const _0x36ab73=_0x128a0b,_0x93f6df=this[_0x36ab73(0x2a1)]['get'](_0x246808);if(!_0x93f6df)throw new _0x4204a5(_0x4204a5['codes'][_0x36ab73(0x5f8)]);const _0x17d9a3=this['jobObservers'][_0x36ab73(0x8b0)](_0x246808);if(!_0x17d9a3)throw new _0x4204a5(_0x4204a5[_0x36ab73(0x7f9)][_0x36ab73(0x57b)]);_0x93f6df['status']=_0x16f74[_0x36ab73(0x7bd)][_0x36ab73(0x2ab)];const _0x1d7c60={'id':_0x93f6df['id'],'status':_0x93f6df[_0x36ab73(0x6f7)],'result':_0x45a347[_0x36ab73(0x630)]};_0x17d9a3['next'](_0x1d7c60),_0x17d9a3['complete'](),this[_0x36ab73(0x893)][_0x36ab73(0x560)](_0x246808),this['logEvent'](_0x36ab73(0x442)+_0x246808+_0x36ab73(0x686),{'jobId':_0x246808});}[_0x128a0b(0xaea)](_0x5ddfb3,_0x25fe40){const _0x4dd074=_0x128a0b,_0x329d9f=this[_0x4dd074(0x2a1)]['get'](_0x5ddfb3);if(!_0x329d9f)throw new _0x4204a5(_0x4204a5[_0x4dd074(0x7f9)][_0x4dd074(0x5f8)]);const _0x5c2c6c=this[_0x4dd074(0x893)][_0x4dd074(0x8b0)](_0x5ddfb3);if(!_0x5c2c6c)throw new _0x4204a5(_0x4204a5[_0x4dd074(0x7f9)][_0x4dd074(0x57b)]);_0x329d9f['status']=_0x16f74[_0x4dd074(0x7bd)][_0x4dd074(0x911)];const _0x4112cd={'id':_0x329d9f['id'],'status':_0x329d9f[_0x4dd074(0x6f7)],'message':_0x25fe40};_0x5c2c6c[_0x4dd074(0x20a)](_0x4112cd),_0x5c2c6c[_0x4dd074(0x710)](),this[_0x4dd074(0x893)]['delete'](_0x5ddfb3),this[_0x4dd074(0x229)](_0x4dd074(0x442)+_0x5ddfb3+_0x4dd074(0x2d2),{'jobId':_0x5ddfb3});}[_0x128a0b(0x229)](_0x3c0987,{jobId:_0x4c4348}){const _0x39a241=_0x128a0b,_0x46ebfe={'jobId':_0x4c4348,'mistletIds':Array[_0x39a241(0x1ec)](this[_0x39a241(0x292)][_0x39a241(0x3a3)]()[_0x39a241(0x36b)]())[_0x39a241(0x2ca)](_0xccae94=>_0xccae94[_0x39a241(0x7dd)]===_0x16f74['NodeType'][_0x39a241(0x1ae)])[_0x39a241(0x8ac)](_0x1419c7=>_0x1419c7[_0x39a241(0x993)]())};_0x265260[_0x39a241(0x229)](_0x3c0987,{'nodeId':this[_0x39a241(0x5e3)](),'nodeType':this[_0x39a241(0x25a)][_0x39a241(0x7dd)],'data':_0x46ebfe}),_0x265260['log'](_0x1367fe['Jobs'],_0x3c0987,_0x46ebfe);}['isBidResponse'](_0x48f4cd){const {jobPhase:_0x2defb0,available:_0x2f1bce,bid:_0x357d91}=_0x48f4cd;return _0x2defb0===_0x556bb0['Bid']&&void 0x0!==_0x2f1bce&&void 0x0!==_0x357d91;}[_0x128a0b(0x514)](_0x13ebe7){const _0x45fe3b=_0x128a0b,{jobPhase:_0x1a729b,result:_0x396f3d}=_0x13ebe7;return _0x1a729b===_0x556bb0[_0x45fe3b(0x2a0)]&&void 0x0!==_0x396f3d;}[_0x128a0b(0xa4d)](_0x246374){const _0x5ea454=_0x128a0b,{jobPhase:_0x44851f,result:_0x3d4233}=_0x246374;return _0x44851f===_0x556bb0[_0x5ea454(0x52b)]&&void 0x0!==_0x3d4233;}['isFailedResponse'](_0x5af9ab){const {jobPhase:_0x3d1f4b,message:_0x199b0b}=_0x5af9ab;return _0x3d1f4b===_0x556bb0['Failed']&&void 0x0!==_0x199b0b&&'string'==typeof _0x199b0b;}}var _0x567a2b,_0x20eebd,_0x23bc16,_0x39db15;!function(_0x5b6b98){const _0x46903f=_0x128a0b;_0x5b6b98[_0x46903f(0x303)]=_0x46903f(0x3df),_0x5b6b98[_0x46903f(0x438)]=_0x46903f(0x5a2);}(_0x567a2b||(_0x567a2b={})),function(_0x8854ec){const _0x3584d6=_0x128a0b;_0x8854ec[_0x3584d6(0x1ae)]=_0x3584d6(0x5a6),_0x8854ec[_0x3584d6(0x990)]=_0x3584d6(0x88f),_0x8854ec[_0x3584d6(0x18e)]='router',_0x8854ec['CustomSkill']=_0x3584d6(0x82f),_0x8854ec[_0x3584d6(0x4f2)]=_0x3584d6(0x9b4),_0x8854ec[_0x3584d6(0xb0b)]=_0x3584d6(0xa8f),_0x8854ec[_0x3584d6(0x316)]=_0x3584d6(0x5c9),_0x8854ec[_0x3584d6(0x8d4)]='answer',_0x8854ec[_0x3584d6(0x5d5)]=_0x3584d6(0x1ce),_0x8854ec[_0x3584d6(0x27c)]=_0x3584d6(0x50c),_0x8854ec[_0x3584d6(0x8c0)]='ai-search',_0x8854ec[_0x3584d6(0x53e)]=_0x3584d6(0x5b1),_0x8854ec['WebScraperRaw']=_0x3584d6(0x87a),_0x8854ec[_0x3584d6(0x2ae)]=_0x3584d6(0x9f2),_0x8854ec[_0x3584d6(0x734)]=_0x3584d6(0x63f),_0x8854ec[_0x3584d6(0x922)]='chunk-splitter',_0x8854ec['SentenceSplitter']=_0x3584d6(0x355),_0x8854ec[_0x3584d6(0x9aa)]=_0x3584d6(0x1eb),_0x8854ec[_0x3584d6(0xa74)]=_0x3584d6(0x5cd),_0x8854ec[_0x3584d6(0x8dd)]=_0x3584d6(0x68d),_0x8854ec[_0x3584d6(0x96d)]=_0x3584d6(0x204);}(_0x20eebd||(_0x20eebd={})),function(_0x80c06f){const _0x56ddb2=_0x128a0b;_0x80c06f[_0x56ddb2(0x2bd)]=_0x56ddb2(0x4b7),_0x80c06f[_0x56ddb2(0x35d)]=_0x56ddb2(0x427),_0x80c06f[_0x56ddb2(0xa74)]='document-parser',_0x80c06f[_0x56ddb2(0x922)]=_0x56ddb2(0x41c),_0x80c06f[_0x56ddb2(0x9aa)]=_0x56ddb2(0x1eb),_0x80c06f['SentenceSplitter']='sentence-splitter',_0x80c06f[_0x56ddb2(0x48a)]=_0x56ddb2(0x49d),_0x80c06f[_0x56ddb2(0x88a)]=_0x56ddb2(0x300),_0x80c06f['Reranker']='reranker',_0x80c06f['Model']='model',_0x80c06f[_0x56ddb2(0x1ae)]=_0x56ddb2(0x5a6),_0x80c06f['ObjectStorageBucket']=_0x56ddb2(0x3df),_0x80c06f[_0x56ddb2(0xa05)]='key-value-database',_0x80c06f['VectorDatabase']=_0x56ddb2(0x38e),_0x80c06f['GraphDatabase']=_0x56ddb2(0x90e),_0x80c06f[_0x56ddb2(0x316)]='prompt',_0x80c06f['Context']=_0x56ddb2(0x1c1);}(_0x23bc16||(_0x23bc16={})),function(_0x30799b){const _0x2e5936=_0x128a0b;_0x30799b['File']=_0x2e5936(0x892),_0x30799b[_0x2e5936(0xafa)]=_0x2e5936(0x992),_0x30799b[_0x2e5936(0x35f)]=_0x2e5936(0x2f7),_0x30799b[_0x2e5936(0x8e1)]=_0x2e5936(0x4a1),_0x30799b['Data']=_0x2e5936(0xaae),_0x30799b[_0x2e5936(0x2e6)]=_0x2e5936(0x945),_0x30799b[_0x2e5936(0x962)]=_0x2e5936(0x974),_0x30799b[_0x2e5936(0x559)]=_0x2e5936(0x857),_0x30799b[_0x2e5936(0x27c)]=_0x2e5936(0x50c),_0x30799b[_0x2e5936(0x1b5)]=_0x2e5936(0x8a7),_0x30799b['Tool']=_0x2e5936(0x2c2),_0x30799b[_0x2e5936(0xaa9)]=_0x2e5936(0x1c1),_0x30799b['Wait']=_0x2e5936(0x252),_0x30799b[_0x2e5936(0x520)]='wait-true',_0x30799b[_0x2e5936(0x695)]='wait-false';}(_0x39db15||(_0x39db15={}));const _0xd2de62=[{'id':_0x128a0b(0x772),'name':_0x128a0b(0x578),'description':'Routes\x20messages\x20based\x20on\x20conditional\x20logic.','modelId':_0x128a0b(0x29f),'instructions':_0x128a0b(0x770),'grammar':_0x128a0b(0x6a6),'temperature':0x0,'maxTokens':0x64}],_0x2a1bd0=[{'id':'blank-agent','name':_0x128a0b(0xb0c),'description':'','modelId':_0x128a0b(0x29f),'instructions':'','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x128a0b(0x2eb),'name':_0x128a0b(0x2c3),'description':_0x128a0b(0x2f3),'modelId':_0x128a0b(0x29f),'instructions':'Feedback\x20Agent\x20specializes\x20in\x20collecting\x20structured\x20feedback\x20through\x20dynamic\x20Q&A\x20interactions.\x0a-\x20It\x20identifies\x20the\x20type\x20of\x20feedback\x20needed\x20(e.g.,\x20product\x20experience,\x20service\x20quality,\x20event\x20review).\x0a-\x20It\x20asks\x20specific,\x20unbiased,\x20and\x20concise\x20questions\x20sequentially.\x0a-\x20Adjusts\x20follow-up\x20questions\x20dynamically\x20based\x20on\x20responses.\x0a-\x20Categorizes\x20responses\x20into\x20themes\x20if\x20applicable.\x0a-\x20Provides\x20a\x20structured\x20summary\x20at\x20the\x20end.\x0a-\x20Never\x20asks\x20leading\x20or\x20suggestive\x20questions.\x0a-\x20Uses\x20Markdown\x20formatting\x20for\x20clarity.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x128a0b(0x286),'name':_0x128a0b(0x5b7),'description':_0x128a0b(0x399),'modelId':_0x128a0b(0x29f),'instructions':'Learning\x20Agent\x20adapts\x20to\x20user\x20learning\x20levels,\x20pace,\x20and\x20preferred\x20format.\x0a-\x20Assesses\x20prior\x20knowledge\x20before\x20beginning\x20lessons.\x0a-\x20Customizes\x20learning\x20paths\x20and\x20adjusts\x20difficulty\x20based\x20on\x20performance.\x0a-\x20Provides\x20step-by-step\x20explanations\x20and\x20real-world\x20examples.\x0a-\x20Uses\x20spaced\x20repetition\x20techniques\x20for\x20reinforcement.\x0a-\x20Lessons\x20are\x20structured\x20with\x20Markdown\x20headers\x20and\x20inline\x20quizzes.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x128a0b(0x323),'name':'Query\x20Generator','description':_0x128a0b(0x6ff),'modelId':_0x128a0b(0x29f),'instructions':'Query\x20Generator\x20constructs\x20optimized\x20SQL\x20and\x20NoSQL\x20queries.\x0a-\x20Clarifies\x20database\x20type\x20(MySQL,\x20PostgreSQL,\x20MongoDB,\x20etc.)\x20before\x20generating\x20queries.\x0a-\x20Follows\x20best\x20practices\x20for\x20efficiency\x20and\x20readability.\x0a-\x20Explains\x20each\x20part\x20of\x20the\x20query\x20for\x20user\x20understanding.\x0a-\x20Checks\x20for\x20potential\x20performance\x20optimizations.\x0a-\x20Provides\x20queries\x20in\x20code\x20blocks\x20and\x20bullet-point\x20explanations.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':'competitive-agent','name':_0x128a0b(0xa9d),'description':'Monitors\x20competitors\x20and\x20provides\x20insights\x20on\x20their\x20products,\x20pricing,\x20and\x20updates.','modelId':_0x128a0b(0x29f),'instructions':'Competitive\x20Analysis\x20Agent\x20tracks\x20competitors\x27\x20products,\x20pricing,\x20and\x20market\x20strategies.\x0a-\x20It\x20first\x20identifies\x20competitors\x20and\x20analysis\x20aspects\x20(e.g.,\x20pricing,\x20features,\x20marketing).\x0a-\x20Collects\x20insights\x20from\x20public\x20reports,\x20websites,\x20and\x20customer\x20reviews.\x0a-\x20Provides\x20a\x20structured\x20comparison\x20highlighting\x20strengths,\x20weaknesses,\x20and\x20differentiators.\x0a-\x20Uses\x20a\x20SWOT\x20analysis\x20format\x20when\x20applicable.\x0a-\x20Presents\x20competitor\x20data\x20in\x20tables\x20with\x20a\x20Data\x20Source\x20&\x20Timestamp\x20section.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x128a0b(0x1ab),'name':_0x128a0b(0x7f6),'description':_0x128a0b(0x621),'modelId':'gpt-4o-mini','instructions':'Strategizing\x20Agent\x20helps\x20businesses\x20evaluate\x20strategies,\x20analyze\x20market\x20conditions,\x20and\x20optimize\x20decision-making.\x0a-\x20Identifies\x20the\x20business\x20goal\x20or\x20challenge\x20before\x20providing\x20recommendations.\x0a-\x20Provides\x20data-driven\x20insights\x20referencing\x20industry\x20benchmarks\x20and\x20trends.\x0a-\x20Uses\x20logical\x20frameworks\x20such\x20as\x20SWOT\x20Analysis,\x20Risk\x20Assessment,\x20and\x20Strategic\x20Roadmaps.\x0a-\x20Presents\x20recommendations\x20objectively,\x20listing\x20advantages\x20and\x20disadvantages.\x0a-\x20Uses\x20structured\x20formatting\x20with\x20bullet\x20points\x20and\x20comparison\x20tables.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':'summary-generator','name':_0x128a0b(0x7a8),'description':'Extracts\x20key\x20points\x20from\x20long\x20documents\x20and\x20emails.','modelId':_0x128a0b(0x29f),'instructions':'Summary\x20Generator\x20extracts\x20key\x20points,\x20action\x20items,\x20and\x20critical\x20insights\x20from\x20emails\x20and\x20documents.\x0a-\x20Identifies\x20the\x20document\x20type\x20(e.g.,\x20report,\x20legal\x20contract,\x20meeting\x20notes).\x0a-\x20Highlights\x20action\x20items\x20and\x20distills\x20the\x20main\x20takeaways\x20concisely.\x0a-\x20Provides\x20bullet-point\x20executive\x20summaries.\x0a-\x20Uses\x20Markdown\x20for\x20structured\x20formatting\x20with\x20a\x20Summary\x20and\x20Next\x20Steps\x20section.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':'archival-search','name':_0x128a0b(0x80a),'description':'Retrieves\x20historical\x20data\x20from\x20online\x20archives.','modelId':'gpt-4o-mini','instructions':_0x128a0b(0x6a3),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x128a0b(0x6ec),'name':_0x128a0b(0x387),'description':_0x128a0b(0x188),'modelId':_0x128a0b(0x29f),'instructions':_0x128a0b(0x797),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':'copywriter-agent','name':_0x128a0b(0x746),'description':'Generates\x20marketing\x20copy,\x20blog\x20articles,\x20and\x20ad\x20content.','modelId':_0x128a0b(0x29f),'instructions':_0x128a0b(0x574),'grammar':'','temperature':0.8,'maxTokens':0x3e8}];class _0x51dce{static [_0x128a0b(0x8e0)];constructor(){}static[_0x128a0b(0x2cc)](){const _0x17199d=_0x128a0b;return _0x51dce[_0x17199d(0x8e0)]||(_0x51dce[_0x17199d(0x8e0)]=new _0x51dce()),_0x51dce[_0x17199d(0x8e0)];}async['getWorkflow'](_0x222f9a,_0x1e435b){const _0xd8e80a=_0x128a0b,_0x1beb0a=await(0x0,_0x1b5a26[_0xd8e80a(0x9af)])((0x0,_0x1b5a26[_0xd8e80a(0x1ff)])(_0x342bc8[_0xd8e80a(0x263)](),_0xd8e80a(0x64f)+_0x222f9a+_0xd8e80a(0xa00)+_0x1e435b)),_0x2c17a3=await this['getAgents'](_0x222f9a);_0x2c17a3[_0xd8e80a(0xa98)](..._0xd2de62),_0x2c17a3['push'](..._0x2a1bd0);const _0x557ae1=await this['getDataCollections'](_0x222f9a);if(!_0x1beb0a[_0xd8e80a(0x28f)]())throw new _0x4204a5(_0x4204a5[_0xd8e80a(0x7f9)][_0xd8e80a(0x916)]);return this[_0xd8e80a(0x208)](_0x1beb0a,_0x2c17a3,_0x557ae1);}async['getDataCollection'](_0x33de05,_0x4f1142){const _0x526bdc=_0x128a0b,_0x31cdb0=await(0x0,_0x1b5a26['getDoc'])((0x0,_0x1b5a26[_0x526bdc(0x1ff)])(_0x342bc8['getFirestore'](),_0x526bdc(0x64f)+_0x33de05+'/resources/generative-ai-collection/items/'+_0x4f1142)),_0x8409d=await this[_0x526bdc(0x539)](_0x33de05),_0x26ea3e=_0x31cdb0['data']();if(!_0x26ea3e)throw new _0x4204a5(_0x4204a5['codes'][_0x526bdc(0x954)]);return{'type':_0x20eebd[_0x526bdc(0x4f2)],'id':_0x4f1142,'uid':_0x4f1142,'name':_0x26ea3e[_0x526bdc(0x3d4)],'description':_0x26ea3e[_0x526bdc(0x8fc)],'ingestBlocks':this['parseDataCollectionBlocks'](_0x26ea3e['ingestBlocks'],_0x8409d),'retrieveBlocks':this[_0x526bdc(0x233)](_0x26ea3e[_0x526bdc(0xa49)],_0x8409d),'links':[]};}[_0x128a0b(0x208)](_0xcb298a,_0x579a48,_0x485ddb){const _0x28ee4c=_0x128a0b,_0x431b7a=_0xcb298a['data']();if(!_0x431b7a)throw new _0x4204a5(_0x4204a5[_0x28ee4c(0x7f9)][_0x28ee4c(0x916)]);const _0x41727a=this[_0x28ee4c(0x901)](_0x431b7a[_0x28ee4c(0x1b3)],_0x579a48,_0x485ddb);return{'id':_0xcb298a['id'],'blocks':_0x41727a,'dataBucketIds':this[_0x28ee4c(0xb01)](_0x41727a),'externalStorageConnectionIds':this[_0x28ee4c(0x9b5)](_0x41727a),'initialPrompt':_0x431b7a[_0x28ee4c(0xaa8)]};}[_0x128a0b(0xb01)](_0x376b76){const _0x138b1c=_0x128a0b,_0xa6fab3=new Set();for(const _0x2f5078 of _0x376b76)switch(_0x2f5078[_0x138b1c(0x7dd)]){case _0x20eebd[_0x138b1c(0xb0b)]:case _0x20eebd[_0x138b1c(0x4f2)]:for(const _0x7a2281 of[..._0x2f5078['ingestBlocks'],..._0x2f5078['retrieveBlocks']])_0x7a2281[_0x138b1c(0x7dd)]===_0x23bc16['ObjectStorageUpload']&&_0xa6fab3[_0x138b1c(0x368)](_0x7a2281['id']);}return Array['from'](_0xa6fab3);}[_0x128a0b(0x9b5)](_0x4840a4){const _0xedfc70=_0x128a0b,_0x520f95=new Set();for(const _0x2e9f30 of _0x4840a4)switch(_0x2e9f30[_0xedfc70(0x7dd)]){case _0x20eebd[_0xedfc70(0xb0b)]:case _0x20eebd['DataCollection']:for(const _0x52265d of[..._0x2e9f30[_0xedfc70(0x7e2)],..._0x2e9f30['retrieveBlocks']])_0x52265d[_0xedfc70(0x7dd)]===_0x23bc16['ExternalStorageUpload']&&_0x520f95[_0xedfc70(0x368)](_0x52265d['id']);}return Array[_0xedfc70(0x1ec)](_0x520f95);}[_0x128a0b(0x901)](_0x3f18b3,_0x4e2cbd,_0xe8e311){const _0x21ddfc=_0x128a0b;return _0x3f18b3[_0x21ddfc(0x8ac)](_0x4c3571=>{const _0x5f49f0=_0x21ddfc;switch(_0x4c3571[_0x5f49f0(0x7dd)]){case _0x20eebd[_0x5f49f0(0x1ae)]:case _0x20eebd[_0x5f49f0(0x990)]:case _0x20eebd[_0x5f49f0(0x18e)]:const _0x9fbfa7=_0x4e2cbd['find'](_0x5b65c2=>_0x5b65c2['id']===_0x4c3571['id']);if(!_0x9fbfa7)throw new _0x4204a5(_0x4204a5[_0x5f49f0(0x7f9)][_0x5f49f0(0x66b)],{'block':_0x4c3571});return{'type':_0x20eebd[_0x5f49f0(0x1ae)],'id':_0x9fbfa7['id'],'uid':_0x4c3571['uid'],'name':_0x9fbfa7[_0x5f49f0(0x3d4)],'description':_0x9fbfa7[_0x5f49f0(0x8fc)],'instructions':(_0x9fbfa7[_0x5f49f0(0x414)]+'\x0a\x0a'+(_0x4c3571[_0x5f49f0(0x5a6)]?.[_0x5f49f0(0x517)]??''))[_0x5f49f0(0xad0)](),'contextOutputVariable':_0x4c3571['agent']?.[_0x5f49f0(0x930)],'contextInputVariable':_0x4c3571[_0x5f49f0(0x5a6)]?.['contextInputVariable'],'reasoning':_0x4c3571[_0x5f49f0(0x5a6)]?.[_0x5f49f0(0x7f8)]??!0x1,'grammar':_0x4c3571[_0x5f49f0(0x5a6)]?.['grammar']?this[_0x5f49f0(0xa40)](_0x4c3571['agent']?.[_0x5f49f0(0x971)]):'default','temperature':_0x4c3571['agent']?.[_0x5f49f0(0x8f2)]??0.5,'maxTokens':_0x4c3571['agent']?.['maxTokens']??0x1f4,'modelId':_0x4c3571[_0x5f49f0(0x5a6)]?.['modelId']??_0x5f49f0(0x29f),'links':_0x4c3571[_0x5f49f0(0x206)]};case _0x20eebd[_0x5f49f0(0xb0b)]:case _0x20eebd[_0x5f49f0(0x4f2)]:const _0x4a5f03=_0xe8e311['find'](_0x1fa1e8=>_0x1fa1e8['id']===_0x4c3571['id']);if(!_0x4a5f03)throw new _0x4204a5(_0x4204a5[_0x5f49f0(0x7f9)][_0x5f49f0(0x66b)],{'block':_0x4c3571});return{'type':_0x4c3571[_0x5f49f0(0x7dd)],'id':_0x4a5f03['id'],'uid':_0x4c3571[_0x5f49f0(0x997)],'name':_0x4a5f03[_0x5f49f0(0x3d4)],'description':_0x4a5f03[_0x5f49f0(0x8fc)],'ingestBlocks':this['parseDataCollectionBlocks'](_0x4a5f03[_0x5f49f0(0x7e2)],_0x4e2cbd),'retrieveBlocks':this[_0x5f49f0(0x233)](_0x4a5f03['retrieveBlocks'],_0x4e2cbd),'links':_0x4c3571[_0x5f49f0(0x206)]};case _0x20eebd[_0x5f49f0(0x6e0)]:return{'type':_0x4c3571[_0x5f49f0(0x7dd)],'id':_0x4c3571['id'],'uid':_0x4c3571[_0x5f49f0(0x997)],'name':_0x4c3571['name'],'description':_0x4c3571['description'],'parameters':_0x4c3571[_0x5f49f0(0x781)],'endpointUrl':_0x4c3571[_0x5f49f0(0x2b9)],'endpointMethod':_0x4c3571[_0x5f49f0(0x642)],'headers':_0x4c3571[_0x5f49f0(0x24f)],'queryParameters':_0x4c3571[_0x5f49f0(0xaab)],'bodyParameters':_0x4c3571[_0x5f49f0(0x34d)],'contextOutputVariable':_0x4c3571[_0x5f49f0(0x930)],'waitAsync':_0x4c3571[_0x5f49f0(0x86d)],'asyncEndpointUrl':_0x4c3571['asyncEndpointUrl'],'asyncEndpointMethod':_0x4c3571['asyncEndpointMethod'],'asyncHeaders':_0x4c3571['asyncHeaders'],'links':_0x4c3571[_0x5f49f0(0x206)]};case _0x20eebd['Prompt']:case _0x20eebd[_0x5f49f0(0x8dd)]:case _0x20eebd[_0x5f49f0(0x8d4)]:case _0x20eebd['OutputAudioStream']:case _0x20eebd[_0x5f49f0(0x5d5)]:case _0x20eebd[_0x5f49f0(0x27c)]:case _0x20eebd[_0x5f49f0(0x8c0)]:case _0x20eebd[_0x5f49f0(0x53e)]:case _0x20eebd[_0x5f49f0(0x7b8)]:case _0x20eebd[_0x5f49f0(0x2ae)]:case _0x20eebd[_0x5f49f0(0x734)]:case _0x20eebd[_0x5f49f0(0x500)]:case _0x20eebd[_0x5f49f0(0xa74)]:return{'type':_0x4c3571[_0x5f49f0(0x7dd)],'id':_0x4c3571['id'],'uid':_0x4c3571[_0x5f49f0(0x997)],'links':_0x4c3571[_0x5f49f0(0x206)]};case _0x20eebd['ChunkSplitter']:case _0x20eebd['WordSplitter']:return{'type':_0x4c3571[_0x5f49f0(0x7dd)],'id':_0x4c3571['id'],'uid':_0x4c3571[_0x5f49f0(0x997)],'links':_0x4c3571[_0x5f49f0(0x206)],'attributes':_0x4c3571[_0x5f49f0(0x80e)]};default:throw new _0x4204a5(_0x4204a5[_0x5f49f0(0x7f9)][_0x5f49f0(0x66b)],{'block':_0x4c3571});}});}[_0x128a0b(0x233)](_0x292682,_0x3a2b1b){const _0xedd9c0=_0x128a0b;return _0x292682?_0x292682[_0xedd9c0(0x8ac)](_0x347dff=>{const _0x3d5fe8=_0xedd9c0;switch(_0x347dff[_0x3d5fe8(0x7dd)]){case _0x23bc16[_0x3d5fe8(0x1ae)]:const _0x305fb9=_0x3a2b1b[_0x3d5fe8(0x5cf)](_0x4cb786=>_0x4cb786['id']===_0x347dff['id']);if(!_0x305fb9)throw new _0x4204a5(_0x4204a5[_0x3d5fe8(0x7f9)]['WorkflowInvalidBlockType'],{'block':_0x347dff});return{'type':_0x347dff[_0x3d5fe8(0x7dd)],'id':_0x347dff['id'],'uid':_0x347dff[_0x3d5fe8(0x997)],'description':_0x305fb9[_0x3d5fe8(0x8fc)],'instructions':_0x305fb9['instructions'],'reasoning':_0x305fb9['reasoning']??!0x1,'grammar':_0x305fb9[_0x3d5fe8(0x971)],'temperature':_0x305fb9[_0x3d5fe8(0x8f2)],'maxTokens':_0x305fb9['maxTokens'],'modelId':_0x305fb9[_0x3d5fe8(0x701)],'links':_0x347dff[_0x3d5fe8(0x206)]};case _0x23bc16[_0x3d5fe8(0x789)]:case _0x23bc16[_0x3d5fe8(0x56f)]:case _0x23bc16[_0x3d5fe8(0x9aa)]:case _0x23bc16[_0x3d5fe8(0x922)]:case _0x23bc16[_0x3d5fe8(0x88a)]:case _0x23bc16[_0x3d5fe8(0x64c)]:return{'type':_0x347dff[_0x3d5fe8(0x7dd)],'id':_0x347dff['id'],'uid':_0x347dff['uid'],'links':_0x347dff[_0x3d5fe8(0x206)],'attributes':_0x347dff[_0x3d5fe8(0x80e)]};case _0x23bc16[_0x3d5fe8(0x6a9)]:case _0x23bc16[_0x3d5fe8(0x3eb)]:case _0x23bc16[_0x3d5fe8(0xa05)]:case _0x23bc16[_0x3d5fe8(0x48a)]:case _0x23bc16['DocumentParser']:case _0x23bc16[_0x3d5fe8(0x500)]:case _0x23bc16[_0x3d5fe8(0x2bd)]:case _0x23bc16[_0x3d5fe8(0x35d)]:case _0x23bc16[_0x3d5fe8(0xaa9)]:case _0x23bc16['Prompt']:return{'type':_0x347dff[_0x3d5fe8(0x7dd)],'id':_0x347dff['id'],'uid':_0x347dff['uid'],'links':_0x347dff[_0x3d5fe8(0x206)]};default:throw new _0x4204a5(_0x4204a5[_0x3d5fe8(0x7f9)][_0x3d5fe8(0x66b)],{'block':_0x347dff});}}):[];}async[_0x128a0b(0x539)](_0x341d81){const _0x5e617e=_0x128a0b;return(await(0x0,_0x1b5a26[_0x5e617e(0x6c2)])((0x0,_0x1b5a26[_0x5e617e(0x952)])(_0x342bc8['getFirestore'](),'/developers/'+_0x341d81+'/resources/generative-ai-agent/items')))[_0x5e617e(0x2a6)][_0x5e617e(0x8ac)](_0x260182=>{const _0x52bec8=_0x5e617e,_0x578ab2=_0x260182[_0x52bec8(0xaae)]();return{'type':_0x20eebd[_0x52bec8(0x1ae)],'id':_0x260182['id'],'name':_0x578ab2[_0x52bec8(0x3d4)],'description':_0x578ab2[_0x52bec8(0x8fc)],'instructions':_0x578ab2[_0x52bec8(0x414)],'contextOutputVariable':_0x578ab2[_0x52bec8(0x930)],'contextInputVariable':_0x578ab2[_0x52bec8(0x80f)],'reasoning':_0x578ab2[_0x52bec8(0x7f8)]??!0x1,'grammar':_0x578ab2['grammar']??'default','temperature':_0x578ab2[_0x52bec8(0x8f2)],'maxTokens':_0x578ab2['maxTokens'],'modelId':_0x578ab2[_0x52bec8(0x701)]};});}async[_0x128a0b(0x3c3)](_0x378933){const _0x3dca04=_0x128a0b;return(await(0x0,_0x1b5a26['getDocs'])((0x0,_0x1b5a26[_0x3dca04(0x952)])(_0x342bc8[_0x3dca04(0x263)](),_0x3dca04(0x64f)+_0x378933+_0x3dca04(0x4e7))))[_0x3dca04(0x2a6)][_0x3dca04(0x8ac)](_0x49424a=>{const _0xc38f91=_0x3dca04,_0x3c5313=_0x49424a[_0xc38f91(0xaae)]();return{'type':_0x20eebd[_0xc38f91(0x4f2)],'id':_0x49424a['id'],'name':_0x3c5313[_0xc38f91(0x3d4)],'description':_0x3c5313[_0xc38f91(0x8fc)],'ingestBlocks':_0x3c5313[_0xc38f91(0x7e2)],'retrieveBlocks':_0x3c5313[_0xc38f91(0xa49)]};});}[_0x128a0b(0xa40)](_0x1fb91c){const _0x188afe=_0x128a0b;return _0x188afe(0x59b)===_0x1fb91c?'default':_0x188afe(0x6a6)===_0x1fb91c?_0x188afe(0x813):_0x1fb91c;}}const _0x2f59fa=_0x51dce['getInstance']();class _0xae9eaa extends _0x1d2b12{[_0x128a0b(0x8cc)];[_0x128a0b(0x61b)];[_0x128a0b(0x55e)]=0x0;[_0x128a0b(0xafd)]=0x0;['debounceStats'];constructor(_0x5213bb,_0x3c5b82,_0x28ff7d,_0x46b174){const _0x2afac3=_0x128a0b;super(_0x5213bb,_0x3c5b82,_0x46b174),this[_0x2afac3(0x8cc)]=_0x5213bb,this[_0x2afac3(0x61b)]=_0x28ff7d,this[_0x2afac3(0xa76)]();}[_0x128a0b(0x61e)](){const _0x5dcb50=_0x128a0b;this[_0x5dcb50(0xa16)]&&(clearTimeout(this[_0x5dcb50(0xa16)]),delete this[_0x5dcb50(0xa16)]),super['destroy']();}['reset'](){const _0x12492c=_0x128a0b;this[_0x12492c(0x55e)]=0x0,this[_0x12492c(0xafd)]=0x0,this[_0x12492c(0xa76)](),super[_0x12492c(0x49e)]();}[_0x128a0b(0x941)](_0x2a5525){const _0x218d54=_0x128a0b,_0x96f498='job-'+(0x0,_0x49421a['v4'])();switch(_0x2a5525[_0x218d54(0x7dd)]){case _0x218d54(0x19e):{let _0x337875=!0x1;const _0x44d992=()=>{const _0x44df0a=_0x218d54;if(_0x337875)throw new _0x4204a5(_0x4204a5[_0x44df0a(0x7f9)]['GenerativeAIContextJobAlreadyConsumed']);_0x337875=!0x0;};return{'id':_0x96f498,..._0x2a5525,'run':()=>(_0x44d992(),this[_0x218d54(0x38f)](_0x96f498,_0x2a5525))};}case _0x218d54(0x32b):{let _0x3b3497=!0x1;const _0x1d26a1=()=>{const _0x4300f8=_0x218d54;if(_0x3b3497)throw new _0x4204a5(_0x4204a5[_0x4300f8(0x7f9)][_0x4300f8(0x64e)]);_0x3b3497=!0x0;};return{'id':_0x96f498,..._0x2a5525,'run':()=>(_0x1d26a1(),this[_0x218d54(0x38f)](_0x96f498,_0x2a5525))};}case _0x218d54(0x612):{let _0x1dc1ac=!0x1;const _0x10ac4f=()=>{const _0x4ea79f=_0x218d54;if(_0x1dc1ac)throw new _0x4204a5(_0x4204a5[_0x4ea79f(0x7f9)][_0x4ea79f(0x64e)]);_0x1dc1ac=!0x0;};return{'id':_0x96f498,..._0x2a5525,'run':()=>(_0x10ac4f(),this[_0x218d54(0x38f)](_0x96f498,_0x2a5525))};}case _0x218d54(0x9fd):{let _0x11868a=!0x1;const _0xfd4b38=()=>{const _0x35a6a3=_0x218d54;if(_0x11868a)throw new _0x4204a5(_0x4204a5[_0x35a6a3(0x7f9)][_0x35a6a3(0x64e)]);_0x11868a=!0x0;};return{'id':_0x96f498,..._0x2a5525,'run':()=>(_0xfd4b38(),this[_0x218d54(0x38f)](_0x96f498,_0x2a5525))};}case _0x218d54(0x259):{let _0x2363ff=!0x1;const _0x8d0077=()=>{const _0xaa5843=_0x218d54;if(_0x2363ff)throw new _0x4204a5(_0x4204a5[_0xaa5843(0x7f9)][_0xaa5843(0x64e)]);_0x2363ff=!0x0;};return{'id':_0x96f498,..._0x2a5525,'run':()=>(_0x8d0077(),this[_0x218d54(0x38f)](_0x96f498,_0x2a5525))};}case _0x218d54(0x356):{let _0x41948b=!0x1;const _0x326a7b=()=>{const _0x4feca7=_0x218d54;if(_0x41948b)throw new _0x4204a5(_0x4204a5[_0x4feca7(0x7f9)]['GenerativeAIContextJobAlreadyConsumed']);_0x41948b=!0x0;};return{'id':_0x96f498,..._0x2a5525,'run':()=>(_0x326a7b(),this['internalJob'](_0x96f498,_0x2a5525))};}case _0x218d54(0x986):{let _0x45faa2=!0x1;const _0x5c33e5=()=>{if(_0x45faa2)throw new _0x4204a5(_0x4204a5['codes']['GenerativeAIContextJobAlreadyConsumed']);_0x45faa2=!0x0;};return{'id':_0x96f498,..._0x2a5525,'run':()=>(_0x5c33e5(),this[_0x218d54(0x38f)](_0x96f498,_0x2a5525))};}case'rate':{let _0x15398e=!0x1;const _0x49cb54=()=>{const _0x43e996=_0x218d54;if(_0x15398e)throw new _0x4204a5(_0x4204a5[_0x43e996(0x7f9)][_0x43e996(0x64e)]);_0x15398e=!0x0;};return{'id':_0x96f498,..._0x2a5525,'run':()=>(_0x49cb54(),this[_0x218d54(0x38f)](_0x96f498,_0x2a5525))};}case _0x218d54(0x25d):{let _0x41f9c1=!0x1;const _0x19c5f5=()=>{if(_0x41f9c1)throw new _0x4204a5(_0x4204a5['codes']['GenerativeAIContextJobAlreadyConsumed']);_0x41f9c1=!0x0;};return{'id':_0x96f498,..._0x2a5525,'run':()=>(_0x19c5f5(),this[_0x218d54(0x38f)](_0x96f498,_0x2a5525))};}case _0x218d54(0x6b3):{let _0x5a53bd=!0x1;const _0x1b765f=()=>{const _0x221c03=_0x218d54;if(_0x5a53bd)throw new _0x4204a5(_0x4204a5[_0x221c03(0x7f9)][_0x221c03(0x64e)]);_0x5a53bd=!0x0;};return{'id':_0x96f498,..._0x2a5525,'run':()=>(_0x1b765f(),this[_0x218d54(0x38f)](_0x96f498,_0x2a5525))};}case _0x218d54(0x328):{let _0x4021db=!0x1;const _0x5f08b6=()=>{const _0x1a50c4=_0x218d54;if(_0x4021db)throw new _0x4204a5(_0x4204a5[_0x1a50c4(0x7f9)][_0x1a50c4(0x64e)]);_0x4021db=!0x0;};return{'id':_0x96f498,..._0x2a5525,'run':()=>(_0x5f08b6(),this[_0x218d54(0x38f)](_0x96f498,_0x2a5525))};}case _0x218d54(0x1f7):case _0x218d54(0x5c9):let _0x6b47b1=!0x1;const _0x593f60=()=>{const _0x182d15=_0x218d54;if(_0x6b47b1)throw new _0x4204a5(_0x4204a5[_0x182d15(0x7f9)][_0x182d15(0x64e)]);_0x6b47b1=!0x0;},_0x577a22=()=>(_0x593f60(),this['run'](_0x96f498,_0x2a5525)),_0x4e55ca=()=>(_0x593f60(),this[_0x218d54(0x185)](_0x96f498,_0x2a5525));return{'id':_0x96f498,'options':{'threadId':'thread-'+(0x0,_0x49421a['v4'])()},..._0x2a5525,'run':_0x577a22,'stream':_0x4e55ca};default:throw new Error(_0x218d54(0x84d));}}async[_0x128a0b(0x38f)](_0x7df7e9,_0x2545df){const _0x29eed4=_0x128a0b;if(_0x29eed4(0x1f7)===_0x2545df[_0x29eed4(0x7dd)]||_0x29eed4(0x5c9)===_0x2545df[_0x29eed4(0x7dd)])throw new _0x325cc6(_0x3336f9[_0x29eed4(0x591)],'Invalid\x20job\x20type');const _0xa23c5f={'threadId':'thread-'+(0x0,_0x49421a['v4'])(),..._0x2545df},_0x56b7b8=await this[_0x29eed4(0x684)](_0x7df7e9,_0x16f74['JobType'][_0x29eed4(0x22b)],_0xa23c5f);return new Promise((_0x2dd7e7,_0x1b1c11)=>{const _0x320947=_0x29eed4;let _0x2fc7d3;const _0x289e45=_0x56b7b8[_0x320947(0x3b4)]({'next':_0x554ef4=>{const _0x358007=_0x320947;switch(_0x554ef4[_0x358007(0x6f7)]){case _0x16f74[_0x358007(0x7bd)]['Completed']:clearTimeout(_0x2fc7d3),_0x2dd7e7(_0x554ef4[_0x358007(0x630)]),_0x289e45[_0x358007(0x3b0)]();break;case _0x16f74[_0x358007(0x7bd)][_0x358007(0x911)]:clearTimeout(_0x2fc7d3),_0x1b1c11(new _0x4204a5(_0x4204a5['codes'][_0x358007(0x689)],{'updatedJob':_0x554ef4})),_0x289e45[_0x358007(0x3b0)]();}},'error':_0x4b92bf=>{const _0x537c9b=_0x320947;clearTimeout(_0x2fc7d3),_0x1b1c11(new _0x4204a5(_0x4204a5['codes'][_0x537c9b(0x689)],{'err':_0x4b92bf})),_0x289e45[_0x537c9b(0x3b0)]();}});_0x2fc7d3=setTimeout(()=>{const _0x43291a=_0x320947;_0x1b1c11(new _0x4204a5(_0x4204a5[_0x43291a(0x7f9)]['GenerativeAIContextJobTimeout'])),_0x289e45[_0x43291a(0x3b0)]();},_0x5d2be1);});}async['run'](_0x486964,_0x3baf8a){const _0x56f6b3=_0x128a0b,_0x21eee5=await this[_0x56f6b3(0x684)](_0x486964,_0x16f74[_0x56f6b3(0xadd)][_0x56f6b3(0x22b)],_0x3baf8a);return new Promise((_0x5b5717,_0x38a882)=>{let _0x4279be;const _0x47fdd5=_0x21eee5['subscribe']({'next':_0x92382f=>{const _0x59717b=a0_0xdea0;switch(_0x92382f['status']){case _0x16f74['JobStatus'][_0x59717b(0x2ab)]:if(_0x59717b(0x5c9)!==_0x92382f[_0x59717b(0x630)][_0x59717b(0x7dd)])return;const _0x598e79=_0x92382f[_0x59717b(0x630)][_0x59717b(0x267)]??0x0;this[_0x59717b(0x1b4)](_0x3baf8a[_0x59717b(0x5c9)],_0x598e79),clearTimeout(_0x4279be),_0x5b5717(_0x92382f['result']),_0x47fdd5[_0x59717b(0x3b0)](),this[_0x59717b(0x55e)]+=0x1,this[_0x59717b(0xafd)]+=_0x598e79,this[_0x59717b(0xa76)]();break;case _0x16f74[_0x59717b(0x7bd)][_0x59717b(0x911)]:clearTimeout(_0x4279be),_0x38a882(new _0x4204a5(_0x4204a5['codes']['GenerativeAIContextJobFailed'],{'updatedJob':_0x92382f})),_0x47fdd5['unsubscribe'](),this[_0x59717b(0xa76)]();}},'error':_0x1c3cd5=>{const _0x880b38=a0_0xdea0;clearTimeout(_0x4279be),_0x38a882(new _0x4204a5(_0x4204a5[_0x880b38(0x7f9)][_0x880b38(0x689)],{'err':_0x1c3cd5})),_0x47fdd5[_0x880b38(0x3b0)]();}});_0x4279be=setTimeout(()=>{const _0x5d5a9b=a0_0xdea0;_0x38a882(new _0x4204a5(_0x4204a5[_0x5d5a9b(0x7f9)][_0x5d5a9b(0x7c6)])),_0x47fdd5['unsubscribe']();},_0x5d2be1);});}async*[_0x128a0b(0x185)](_0x1512ce,_0xc1d7f6){const _0x4b8770=_0x128a0b,_0x28f2fd=await this[_0x4b8770(0x684)](_0x1512ce,_0x16f74['JobType'][_0x4b8770(0x9a8)],_0xc1d7f6);let _0x1ebcd8,_0xf989d1,_0x7dd11a=!0x1,_0x346ab5=0x0;const _0x275247=[],_0x4aeb13=new Map();let _0x37d3fc=null;const _0x43e7aa=()=>{_0x37d3fc&&(_0x37d3fc(),_0x37d3fc=null);},_0x3fe019=_0x2ca94c=>{_0x7dd11a=!0x0,_0x43e7aa(),_0x1c753c['unsubscribe'](),_0xf989d1=_0x2ca94c;},_0x1c753c=_0x28f2fd[_0x4b8770(0x3b4)]({'next':async _0x5567e3=>{const _0x3b60b5=_0x4b8770;switch(_0x5567e3[_0x3b60b5(0x6f7)]){case _0x16f74[_0x3b60b5(0x7bd)]['Partial']:if(_0x3b60b5(0x5c9)!==_0x5567e3['result'][_0x3b60b5(0x7dd)])return;if(void 0x0!==_0x5567e3[_0x3b60b5(0x630)][_0x3b60b5(0x956)]){if(void 0x0===_0x5567e3[_0x3b60b5(0x630)][_0x3b60b5(0x8a7)])return void _0x3fe019(_0x4204a5[_0x3b60b5(0x7f9)]['GenerativeAIContextInvalidPartialResult']);_0x346ab5===_0x5567e3[_0x3b60b5(0x630)][_0x3b60b5(0x8a7)]?(_0x275247[_0x3b60b5(0xa98)](_0x5567e3['result']),_0x346ab5++,((()=>{const _0x5e8b60=_0x3b60b5;for(;_0x4aeb13[_0x5e8b60(0x301)](_0x346ab5);)_0x275247[_0x5e8b60(0xa98)](_0x4aeb13[_0x5e8b60(0x8b0)](_0x275247[_0x5e8b60(0xa20)])),_0x4aeb13['delete'](_0x275247[_0x5e8b60(0xa20)]),_0x346ab5++;})()),_0x43e7aa(),_0x540608()):_0x4aeb13['set'](_0x5567e3[_0x3b60b5(0x630)]['index'],_0x5567e3['result']);}break;case _0x16f74[_0x3b60b5(0x7bd)][_0x3b60b5(0x2ab)]:if('prompt'!==_0x5567e3[_0x3b60b5(0x630)]['type'])return;for(;_0x346ab5!==_0x5567e3['result'][_0x3b60b5(0x8a7)];)await _0x52452b['wait'](0x3e8);const _0x22632e=_0x5567e3[_0x3b60b5(0x630)][_0x3b60b5(0x267)]??0x0;this[_0x3b60b5(0x1b4)](_0xc1d7f6['prompt'],_0x22632e),clearTimeout(_0x1ebcd8),_0x3fe019(),this['prompts']+=0x1,this[_0x3b60b5(0xafd)]+=_0x22632e,this[_0x3b60b5(0xa76)]();break;case _0x16f74['JobStatus'][_0x3b60b5(0x911)]:clearTimeout(_0x1ebcd8),_0x3fe019(_0x4204a5['codes']['GenerativeAIContextJobFailed']),this[_0x3b60b5(0xa76)]();}},'error':_0x1db560=>{const _0x5c9828=_0x4b8770;clearTimeout(_0x1ebcd8),_0x3fe019(_0x4204a5['codes'][_0x5c9828(0x689)]);}}),_0xf75bcd=()=>{const _0x4fd779=_0x4b8770;_0x3fe019(_0x4204a5[_0x4fd779(0x7f9)][_0x4fd779(0x7c6)]);},_0x540608=()=>{clearTimeout(_0x1ebcd8),_0x1ebcd8=setTimeout(_0xf75bcd,_0x5d2be1);};for(_0x1ebcd8=setTimeout(_0xf75bcd,_0x5d2be1);!_0x7dd11a||_0x275247[_0x4b8770(0xa20)]>0x0;)_0x275247[_0x4b8770(0xa20)]>0x0?yield _0x275247['shift']():await new Promise(_0x27874e=>_0x37d3fc=_0x27874e);if(_0xf989d1)throw _0x265260[_0x4b8770(0x5b5)](_0x4b8770(0xa73),{'nodeId':this['localNode']['getId'](),'nodeType':this[_0x4b8770(0x8cc)][_0x4b8770(0x7dd)]}),new _0x4204a5(_0xf989d1);}async[_0x128a0b(0x46c)](){const _0x5eb054=_0x128a0b;return(await _0x2f59fa[_0x5eb054(0x49a)](this[_0x5eb054(0x61b)],this[_0x5eb054(0x9ce)]))['dataBucketIds'];}[_0x128a0b(0x1b4)](_0x25f54a,_0x5295d8){const _0x564b20=_0x128a0b,_0xdff972=this[_0x564b20(0x9ce)],_0xde5251=this[_0x564b20(0x5e3)]();_0x265260[_0x564b20(0x1b4)](_0x5790a5[_0x564b20(0x219)],{'topic':_0xdff972,'prompt':_0x25f54a,'type':_0x564b20(0x5c9),'nodeId':_0xde5251,'tokenCount':_0x5295d8});}async[_0x128a0b(0x684)](_0x26a791,_0x467244,_0xaeba4b,_0x4214ec={}){const _0x3132b9=_0x128a0b;let _0x5ec15f;switch(_0xaeba4b[_0x3132b9(0x7dd)]){case _0x3132b9(0x19e):case _0x3132b9(0x32b):case _0x3132b9(0x612):case'embed':case _0x3132b9(0x9fd):case'file-download':case _0x3132b9(0x356):case _0x3132b9(0x986):case _0x3132b9(0x1f7):case _0x3132b9(0x5c9):case _0x3132b9(0x342):case _0x3132b9(0x25d):case _0x3132b9(0x6b3):_0x5ec15f={'id':_0x26a791,'jobType':_0x467244,'parameters':{..._0x4214ec,..._0xaeba4b},'status':_0x16f74[_0x3132b9(0x7bd)]['Pending']};break;default:throw new Error(_0x3132b9(0x84d));}return await this[_0x3132b9(0x3b6)](_0x5ec15f);}[_0x128a0b(0xa76)](){const _0x459e10=_0x128a0b;this[_0x459e10(0xa16)]&&clearTimeout(this[_0x459e10(0xa16)]),this[_0x459e10(0xa16)]=setTimeout(async()=>{const _0x409fa1=_0x459e10;delete this[_0x409fa1(0xa16)],this[_0x409fa1(0x7be)][_0x409fa1(0x56d)]({'sourceId':_0x4b0f68,'messageType':_0x562b7c[_0x409fa1(0x40d)],'content':{'type':_0x267eb0['GenerativeAIContextStats'],'label':this['label'],'stats':{'timestamp':Date[_0x409fa1(0x85a)](),'storage':0x0,'messagesSent':this[_0x409fa1(0x5e4)],'messagesReceived':this[_0x409fa1(0x68a)],'bytesSent':this[_0x409fa1(0x9dc)],'bytesReceived':this[_0x409fa1(0xa43)],'writes':0x0,'reads':0x0,'prompts':this[_0x409fa1(0x55e)],'tokens':this[_0x409fa1(0xafd)]}}});},_0x9bc8e5);}}var _0x2d734a,_0x27ce33,_0xe54e92,_0x478bd1,_0x5a4bd3,_0x33fc83,_0xc52bc9,_0x8bd8f0,_0x4c1fed,_0x1ca558,_0x546347;!function(_0x1858bc){const _0x3c20be=_0x128a0b;_0x1858bc[_0x3c20be(0x225)]=_0x3c20be(0x225),_0x1858bc[_0x3c20be(0x9c7)]=_0x3c20be(0x9c7),_0x1858bc[_0x3c20be(0x77a)]=_0x3c20be(0x77a),_0x1858bc[_0x3c20be(0x6bc)]=_0x3c20be(0x6bc);}(_0x2d734a||(_0x2d734a={})),function(_0x25ab93){const _0x5d0f24=_0x128a0b;_0x25ab93[_0x5d0f24(0x4a2)]='ModelText',_0x25ab93[_0x5d0f24(0x631)]=_0x5d0f24(0x631),_0x25ab93['VectorSearch']='VectorSearch',_0x25ab93[_0x5d0f24(0x88a)]='EntityExtractor',_0x25ab93[_0x5d0f24(0x7e4)]=_0x5d0f24(0x7e4),_0x25ab93[_0x5d0f24(0x64c)]='Reranker';}(_0x27ce33||(_0x27ce33={})),function(_0x2009f0){const _0x50e4a5=_0x128a0b;_0x2009f0[_0x2009f0[_0x50e4a5(0x431)]=0x0]=_0x50e4a5(0x431),_0x2009f0[_0x2009f0[_0x50e4a5(0x839)]=0x5]=_0x50e4a5(0x839),_0x2009f0[_0x2009f0[_0x50e4a5(0xac1)]=0xa]=_0x50e4a5(0xac1),_0x2009f0[_0x2009f0[_0x50e4a5(0x5a8)]=0xf]=_0x50e4a5(0x5a8);}(_0xe54e92||(_0xe54e92={})),function(_0x39100a){const _0x75076c=_0x128a0b;_0x39100a['Retrieve']=_0x75076c(0x984),_0x39100a[_0x75076c(0x2b3)]='Ingest',_0x39100a[_0x75076c(0xb0b)]=_0x75076c(0xb0b),_0x39100a[_0x75076c(0x5af)]=_0x75076c(0x5af),_0x39100a[_0x75076c(0x1d2)]=_0x75076c(0x1d2),_0x39100a[_0x75076c(0x22b)]=_0x75076c(0x22b),_0x39100a['JobContext']=_0x75076c(0x1e1),_0x39100a[_0x75076c(0x7fb)]=_0x75076c(0x7fb);}(_0x478bd1||(_0x478bd1={})),function(_0x19e57f){const _0x205dea=_0x128a0b;_0x19e57f[_0x205dea(0xa7e)]=_0x205dea(0xa7e),_0x19e57f[_0x205dea(0x2ab)]=_0x205dea(0x2ab);}(_0x5a4bd3||(_0x5a4bd3={})),function(_0x4170ec){const _0x1b732d=_0x128a0b;_0x4170ec[_0x1b732d(0x57a)]=_0x1b732d(0x57a),_0x4170ec[_0x1b732d(0x705)]=_0x1b732d(0x705),_0x4170ec['DataCollection']='DataCollection',_0x4170ec['FinalOutput']='FinalOutput';}(_0x33fc83||(_0x33fc83={})),function(_0x5c8183){const _0x2a54e9=_0x128a0b;_0x5c8183[_0x2a54e9(0x922)]='ChunkSplitter',_0x5c8183[_0x2a54e9(0xa74)]='DocumentParser',_0x5c8183['EntityExtractor']='EntityExtractor',_0x5c8183[_0x2a54e9(0x789)]=_0x2a54e9(0x789),_0x5c8183[_0x2a54e9(0x1ae)]=_0x2a54e9(0x1ae),_0x5c8183[_0x2a54e9(0x4a2)]='ModelText',_0x5c8183[_0x2a54e9(0x631)]=_0x2a54e9(0x631),_0x5c8183['RelationExtractor']=_0x2a54e9(0x48a),_0x5c8183[_0x2a54e9(0x500)]=_0x2a54e9(0x500),_0x5c8183[_0x2a54e9(0x56f)]=_0x2a54e9(0x56f),_0x5c8183[_0x2a54e9(0x9aa)]=_0x2a54e9(0x9aa);}(_0xc52bc9||(_0xc52bc9={})),function(_0x358216){const _0x45d4a7=_0x128a0b;_0x358216['GetContextQuery']='GetContextQuery',_0x358216['GetContextResult']=_0x45d4a7(0x89c);}(_0x8bd8f0||(_0x8bd8f0={})),function(_0x3edd25){const _0x4f77a0=_0x128a0b;_0x3edd25['ExecuteCode']='ExecuteCode',_0x3edd25[_0x4f77a0(0x276)]=_0x4f77a0(0x276),_0x3edd25[_0x4f77a0(0x810)]=_0x4f77a0(0x810),_0x3edd25[_0x4f77a0(0xad9)]=_0x4f77a0(0xad9),_0x3edd25[_0x4f77a0(0x647)]=_0x4f77a0(0x647),_0x3edd25['ExecuteCustomSkill']=_0x4f77a0(0x227),_0x3edd25[_0x4f77a0(0x2ae)]='QueryFile',_0x3edd25[_0x4f77a0(0x734)]='WriteFile';}(_0x4c1fed||(_0x4c1fed={})),function(_0x540d86){const _0x3c0e42=_0x128a0b;_0x540d86[_0x3c0e42(0x242)]=_0x3c0e42(0x242),_0x540d86[_0x3c0e42(0x63e)]=_0x3c0e42(0x63e);}(_0x1ca558||(_0x1ca558={})),function(_0x3a9de5){const _0x53e11f=_0x128a0b;_0x3a9de5[_0x53e11f(0x83c)]=_0x53e11f(0x83c);}(_0x546347||(_0x546347={}));class _0x55dd35{static [_0x128a0b(0x8e0)]=new _0x55dd35();[_0x128a0b(0x657)]=[];[_0x128a0b(0x9cd)]=!0x1;constructor(){}static[_0x128a0b(0x2cc)](){const _0x3a170f=_0x128a0b;return _0x55dd35[_0x3a170f(0x8e0)];}get[_0x128a0b(0xa20)](){const _0x4c962c=_0x128a0b;return this[_0x4c962c(0x657)]['length'];}['isAvailable'](){const _0x3e107d=_0x128a0b;return!this[_0x3e107d(0x9cd)];}[_0x128a0b(0x9e4)](_0x3a5004){const _0x4e82ab=_0x128a0b;_0x3a5004?this[_0x4e82ab(0x657)]=this[_0x4e82ab(0x657)]['filter'](_0x5cde9c=>_0x5cde9c[_0x4e82ab(0x250)]!==_0x3a5004):(this[_0x4e82ab(0x657)]=[],this[_0x4e82ab(0x9cd)]=!0x1);}['add'](_0x34c77b,_0x579556){const _0x249964=_0x128a0b;this[_0x249964(0x657)][_0x249964(0xa98)]({'callback':_0x579556,'ownerId':_0x34c77b}),this['runJobQueue']();}async['runJobQueue'](){const _0x1bdbf4=_0x128a0b;if(!this[_0x1bdbf4(0x9cd)]){for(this[_0x1bdbf4(0x9cd)]=!0x0;this['jobQueue'][_0x1bdbf4(0xa20)]>0x0;){const _0x4e55b1=this[_0x1bdbf4(0x657)][_0x1bdbf4(0x404)]();if(_0x4e55b1)try{console[_0x1bdbf4(0xa77)]('JobQueueService:\x20Running\x20job'),await _0x4e55b1[_0x1bdbf4(0x8a2)](),console[_0x1bdbf4(0xa77)](_0x1bdbf4(0x717));}catch(_0x4d8f8e){console[_0x1bdbf4(0x5b5)](_0x1bdbf4(0x74d),_0x4d8f8e);}}this[_0x1bdbf4(0x9cd)]=!0x1;}}}const _0x4f6af=_0x55dd35['getInstance']();class _0x377300 extends _0x5973c2{[_0x128a0b(0x4ac)];[_0x128a0b(0x3ca)];constructor(_0x26075d,_0x46dd5d,_0x543417){const _0x4de3f1=_0x128a0b;super(_0x26075d,_0x46dd5d),this[_0x4de3f1(0x4ac)]=_0x543417;}[_0x128a0b(0x6da)](){const _0x555050=_0x128a0b;return _0x16f74[_0x555050(0x6f5)][_0x555050(0x22b)];}[_0x128a0b(0x645)](){this['subscribeToJobs']();}[_0x128a0b(0x42d)](){const _0x115e7a=_0x128a0b;this[_0x115e7a(0x7be)]?.[_0x115e7a(0x56d)]({'sourceId':_0x4b0f68,'messageType':_0x562b7c[_0x115e7a(0x40d)],'content':{'type':_0x267eb0[_0x115e7a(0x2a7)],'label':this[_0x115e7a(0x9ce)]}});}[_0x128a0b(0x49e)](){const _0x392456=_0x128a0b;this['unsubscribeListener']?.(),delete this[_0x392456(0x3ca)],this[_0x392456(0x645)]();}[_0x128a0b(0x61e)](){const _0x5ca02b=_0x128a0b;_0x4f6af[_0x5ca02b(0x9e4)](this[_0x5ca02b(0x9ce)]),this['unsubscribeListener']?.(),delete this['unsubscribeListener'],super[_0x5ca02b(0x61e)]();}[_0x128a0b(0x4dd)](){const _0x1918d7=_0x128a0b;return _0x4f6af[_0x1918d7(0x4dd)]();}[_0x128a0b(0x426)](){return 0x1;}[_0x128a0b(0x2c0)](_0x47efaf,_0x21db89,_0x548a2e){}['accumulateResult'](_0x2b3684,_0x2bfd44){return _0x2b3684;}async[_0x128a0b(0x589)](_0xd01ac0,_0x41afed){const _0x5bdf06=_0x128a0b;console[_0x5bdf06(0xa77)](_0x5bdf06(0x7db));}async[_0x128a0b(0x202)](_0x4d34fa,_0x464be8){const _0x21c09b=_0x128a0b;console['warn'](_0x21c09b(0x7db));}['subscribeToJobs'](){const _0x48b3bc=_0x128a0b;this[_0x48b3bc(0x3ca)]||(this['unsubscribeListener']=this[_0x48b3bc(0x1d7)](async(_0x1bb5d0,_0x19f98a)=>{const _0xef11d6=_0x48b3bc;if(_0x265260[_0xef11d6(0x552)](_0x1367fe[_0xef11d6(0xae9)],_0xef11d6(0x4fd),_0x19f98a),!(_0x19f98a instanceof File)){if(this['isJobRequest'](_0x19f98a))_0x265260[_0xef11d6(0x552)](_0x1367fe[_0xef11d6(0xae9)],_0xef11d6(0xa2d),_0x19f98a),this[_0xef11d6(0x4dd)]()?this['sendBid'](_0x19f98a['id'],_0x19f98a['jobType'],_0x1bb5d0):this[_0xef11d6(0x994)](_0x19f98a['id'],_0x19f98a[_0xef11d6(0x82d)],_0x1bb5d0);else{if(this[_0xef11d6(0x45a)](_0x19f98a)){_0x265260['log'](_0x1367fe['Jobs'],_0xef11d6(0x906),_0x19f98a);const {id:_0x441562,parameters:_0x501956}=_0x19f98a;await this['startTracing'](_0x441562,_0x501956),this[_0xef11d6(0x79f)](_0x19f98a['id'],_0x19f98a,_0x1bb5d0);}}}}));}[_0x128a0b(0x8a9)](_0x2fc32e,_0x7f9d29,_0x3fec80){const _0x5f3b30=_0x128a0b,_0x1a379e={'id':_0x2fc32e,'jobType':_0x7f9d29,'jobPhase':_0x556bb0[_0x5f3b30(0x6ea)],'available':!0x0,'queueLength':_0x4f6af[_0x5f3b30(0xa20)],'bid':this[_0x5f3b30(0x426)]()};_0x265260[_0x5f3b30(0x552)](_0x1367fe[_0x5f3b30(0xae9)],_0x5f3b30(0xa58),_0x1a379e),this[_0x5f3b30(0x8d1)](_0x1a379e,[_0x3fec80]);}['sendReject'](_0x10e5ef,_0x434fcd,_0x5d6ce0){const _0x2515aa=_0x128a0b,_0x40a016={'id':_0x10e5ef,'jobType':_0x434fcd,'jobPhase':_0x556bb0[_0x2515aa(0x6ea)],'available':!0x1,'queueLength':_0x4f6af[_0x2515aa(0xa20)],'bid':0x0};_0x265260[_0x2515aa(0x552)](_0x1367fe[_0x2515aa(0xae9)],_0x2515aa(0x5d8),_0x40a016),this[_0x2515aa(0x8d1)](_0x40a016,[_0x5d6ce0]);}async[_0x128a0b(0x79f)](_0x5a4d69,_0x4e5265,_0x5d3477){const _0x2679a5=_0x128a0b;_0x265260['log'](_0x1367fe[_0x2679a5(0xae9)],'JobWorker:\x20Handling\x20job\x20attribution',_0x4e5265);const _0x5a8441={'id':_0x5a4d69,'jobType':_0x4e5265[_0x2679a5(0x82d)],'parameters':_0x4e5265[_0x2679a5(0x781)]};try{switch(_0x4e5265[_0x2679a5(0x82d)]){case _0x16f74[_0x2679a5(0xadd)][_0x2679a5(0x22b)]:await this[_0x2679a5(0x333)](_0x5a4d69,_0x4e5265,_0x5a8441,_0x5d3477);break;case _0x16f74[_0x2679a5(0xadd)][_0x2679a5(0x9a8)]:await this[_0x2679a5(0x496)](_0x5a4d69,_0x4e5265,_0x5a8441,_0x5d3477);break;default:throw new Error(_0x2679a5(0xb00));}}catch(_0x130649){_0x265260[_0x2679a5(0x5b5)](_0x2679a5(0xa34),{'nodeId':this[_0x2679a5(0x25a)][_0x2679a5(0x993)](),'nodeType':this[_0x2679a5(0x25a)][_0x2679a5(0x7dd)],'data':{'job':_0x5a8441}},_0x130649);const _0x5799c1=_0x130649 instanceof Error?_0x130649[_0x2679a5(0x94c)]:'An\x20error\x20occurred',_0x1a863f={'id':_0x5a4d69,'jobType':_0x4e5265['jobType'],'jobPhase':_0x556bb0[_0x2679a5(0x911)],'message':_0x5799c1};await this[_0x2679a5(0x8d1)](_0x1a863f,[_0x5d3477]);}}async[_0x128a0b(0x333)](_0x8f6380,_0x40ad98,_0x46c42d,_0x507b19){const _0x15a6e7=_0x128a0b,_0x900085=Date[_0x15a6e7(0x85a)](),_0x180fc7=await this[_0x15a6e7(0x6eb)](_0x8f6380,_0x46c42d['parameters']);this['compileStats'](_0x180fc7,_0x900085,Date[_0x15a6e7(0x85a)]());const _0x37768e={'id':_0x8f6380,'jobType':_0x40ad98[_0x15a6e7(0x82d)],'jobPhase':_0x556bb0[_0x15a6e7(0x52b)],'result':_0x180fc7};_0x265260[_0x15a6e7(0x552)](_0x1367fe[_0x15a6e7(0xae9)],_0x15a6e7(0x7cd),_0x37768e),await this[_0x15a6e7(0x8d1)](_0x37768e,[_0x507b19]),await this['stopTracing'](_0x8f6380,_0x46c42d[_0x15a6e7(0x781)]);}async[_0x128a0b(0x496)](_0x4019a7,_0x114e48,_0x437a6f,_0x3d40a2){const _0x397cb6=_0x128a0b,_0x21a8c7=Date['now']();let _0xd43c3a=0x0,_0x23265c={};for await(const _0x3024b of this['internalProcessJobStream'](_0x437a6f['id'],_0x437a6f['parameters'])){const _0x51f5da={'id':_0x4019a7,'jobType':_0x114e48['jobType'],'jobPhase':_0x556bb0[_0x397cb6(0x2a0)],'result':{..._0x3024b,'index':_0xd43c3a}};_0x265260[_0x397cb6(0x552)](_0x1367fe['Jobs'],'JobWorker:\x20Sending\x20job\x20partial\x20result',_0x51f5da),this[_0x397cb6(0x8d1)](_0x51f5da,[_0x3d40a2]),_0x23265c=this[_0x397cb6(0x27d)](_0x23265c,_0x3024b),_0xd43c3a++;}this[_0x397cb6(0x2c0)](_0x23265c,_0x21a8c7,Date[_0x397cb6(0x85a)]());const _0x592943={'id':_0x4019a7,'jobType':_0x114e48[_0x397cb6(0x82d)],'jobPhase':_0x556bb0[_0x397cb6(0x52b)],'result':{..._0x23265c,'index':_0xd43c3a}};_0x265260[_0x397cb6(0x552)](_0x1367fe[_0x397cb6(0xae9)],_0x397cb6(0x7cd),_0x592943),await this[_0x397cb6(0x8d1)](_0x592943,[_0x3d40a2]),await this[_0x397cb6(0x202)](_0x4019a7,_0x437a6f[_0x397cb6(0x781)]);}[_0x128a0b(0x4d4)](_0x367cc7){const _0xcac436=_0x128a0b;return _0x367cc7[_0xcac436(0xa82)]===_0x556bb0[_0xcac436(0x46b)];}['isJobAttribution'](_0x2c5ef9){return _0x2c5ef9['jobPhase']===_0x556bb0['Attribution'];}}function _0x41c519(_0x41798b){const _0x14ebc9=_0x128a0b;try{return JSON[_0x14ebc9(0x30b)](_0x41798b);}catch(_0x3eaa29){return _0x41798b instanceof Error?_0x41798b[_0x14ebc9(0x5da)]():JSON['stringify'](_0x14ebc9(0x3e1));}}class _0x398bf0{static [_0x128a0b(0x8e0)];[_0x128a0b(0x6c1)]=_0xe54e92[_0x128a0b(0x5a8)];['commitLevel']=_0xe54e92['Info'];[_0x128a0b(0x85c)]=_0x478bd1[_0x128a0b(0x984)];[_0x128a0b(0x9d1)]={};static ['getInstance']=()=>(_0x398bf0[_0x128a0b(0x8e0)]||(_0x398bf0['instance']=new _0x398bf0()),_0x398bf0['instance']);async[_0x128a0b(0x847)](_0x1ec6b5,_0x362aa0,_0x2aaaec,_0x2dcaf3){const _0x19c277=_0x128a0b;try{if(this[_0x19c277(0x9d1)][_0x362aa0])throw new Error(_0x19c277(0x7af));const _0x39d0ac={'vendorId':_0x1ec6b5,'workflowId':_0x2aaaec,'sequence':0x0};return this[_0x19c277(0x9d1)][_0x362aa0]=_0x39d0ac,!_0x2dcaf3||!_0x2aaaec||(await(0x0,_0x1b5a26[_0x19c277(0x440)])((0x0,_0x1b5a26[_0x19c277(0x1ff)])(_0x342bc8[_0x19c277(0x263)](),_0x19c277(0x76b)+_0x1ec6b5+'/workflows/'+_0x2aaaec+'/jobs',_0x362aa0),{'threadId':_0x2dcaf3,'startTime':(0x0,_0x1b5a26[_0x19c277(0x92e)])()}),!0x0);}catch(_0x5df63e){return console['error'](_0x19c277(0x7b4),_0x5df63e),!0x1;}}async[_0x128a0b(0x3e6)](_0x34559a){const _0x4adbfa=_0x128a0b;try{const _0x45615c=this['openedTraces'][_0x34559a[_0x4adbfa(0x97e)]];if(!_0x45615c)throw new Error(_0x4adbfa(0x80b));_0x34559a[_0x4adbfa(0x4a4)]=_0x45615c[_0x4adbfa(0x4a4)]++,_0x34559a[_0x4adbfa(0x540)]>=this['logLevel']&&console[_0x4adbfa(0x552)](JSON['stringify'](_0x34559a,null,0x2)),await this['commitTrace'](_0x34559a);}catch(_0x79597c){console[_0x4adbfa(0x5b5)]('GenerativeAITracing\x20-\x20Error\x20while\x20tracing',_0x79597c);}}async['closeTrace'](_0x276072,_0x2bb5f7){const _0x46c067=_0x128a0b;if(!_0x398bf0[_0x46c067(0x8e0)])throw new Error(_0x46c067(0x9ff));if(!this[_0x46c067(0x9d1)][_0x276072])throw new Error(_0x46c067(0x9d3));if(_0x2bb5f7&&this['openedTraces'][_0x276072][_0x46c067(0x7d0)])try{await(0x0,_0x1b5a26[_0x46c067(0x440)])((0x0,_0x1b5a26[_0x46c067(0x1ff)])(_0x342bc8[_0x46c067(0x263)](),_0x46c067(0x76b)+this[_0x46c067(0x9d1)][_0x276072][_0x46c067(0x61b)]+_0x46c067(0x403)+this[_0x46c067(0x9d1)][_0x276072][_0x46c067(0x7d0)]+'/jobs',_0x276072),{'endTime':(0x0,_0x1b5a26[_0x46c067(0x92e)])()},{'merge':!0x0}),delete this[_0x46c067(0x9d1)][_0x276072];}catch(_0x7bbc29){console[_0x46c067(0x5b5)](_0x46c067(0x59a),_0x7bbc29);}else delete this[_0x46c067(0x9d1)][_0x276072];}async[_0x128a0b(0x7e7)](_0x1b4516){const _0x5ff4b2=_0x128a0b;if(_0x1b4516[_0x5ff4b2(0x540)]<this[_0x5ff4b2(0xae4)]&&_0x1b4516[_0x5ff4b2(0x82d)]!==this['commitType'])return;if(!this['openedTraces'][_0x1b4516[_0x5ff4b2(0x97e)]])throw new Error(_0x5ff4b2(0x884));const _0x38cb37=this['openedTraces'][_0x1b4516[_0x5ff4b2(0x97e)]];try{const _0x225206=function(_0x4caf16){const _0x57c12e=_0x5ff4b2,_0x177850=['startTime',_0x57c12e(0x2d6),_0x57c12e(0x82d),_0x57c12e(0x7dd),'jobId',_0x57c12e(0x540),'blockId',_0x57c12e(0x6f7),'sequence',_0x57c12e(0x5c4)],_0x3b3299={..._0x4caf16};for(const _0x1cf698 of _0x177850)delete _0x3b3299[_0x1cf698];return{'timestamp':_0x4caf16[_0x57c12e(0x2d6)],'jobType':_0x4caf16[_0x57c12e(0x82d)],'type':_0x4caf16[_0x57c12e(0x7dd)],'jobId':_0x4caf16[_0x57c12e(0x97e)],'agentId':_0x4caf16[_0x57c12e(0x7f7)]??'','traceLevel':_0x4caf16[_0x57c12e(0x540)],'blockId':_0x4caf16['blockId']??'','startTime':_0x4caf16[_0x57c12e(0x759)],'status':_0x4caf16[_0x57c12e(0x6f7)],'sequence':_0x4caf16['sequence']??0x0,'errorDetails':_0x4caf16[_0x57c12e(0x5c4)]??'','metadata':_0x41c519(_0x3b3299)};}(_0x1b4516),_0x149a7e=(0x0,_0x49421a['v4'])();console[_0x5ff4b2(0x552)]('Logging\x20trace',_0x225206[_0x5ff4b2(0x7dd)]),await(0x0,_0x1b5a26[_0x5ff4b2(0x440)])((0x0,_0x1b5a26[_0x5ff4b2(0x1ff)])(_0x342bc8[_0x5ff4b2(0x263)](),_0x5ff4b2(0x76b)+_0x38cb37['vendorId']+_0x5ff4b2(0x403)+_0x38cb37['workflowId']+_0x5ff4b2(0x702)+_0x1b4516[_0x5ff4b2(0x97e)]+'/traces',_0x149a7e),_0x225206),_0x1b4516['type']===_0x546347[_0x5ff4b2(0x83c)]&&await(0x0,_0x1b5a26[_0x5ff4b2(0x440)])((0x0,_0x1b5a26[_0x5ff4b2(0x1ff)])(_0x342bc8[_0x5ff4b2(0x263)](),_0x5ff4b2(0x76b)+_0x38cb37[_0x5ff4b2(0x61b)]+_0x5ff4b2(0x403)+_0x38cb37['workflowId']+'/jobs',_0x1b4516['jobId']),{'rating':_0x1b4516[_0x5ff4b2(0x979)]},{'merge':!0x0});}catch(_0x4b78ee){console[_0x5ff4b2(0x5b5)](_0x5ff4b2(0xa37),_0x4b78ee);}}}const _0x5d2c78=_0x398bf0[_0x128a0b(0x2cc)]();async function _0x2bd5da(_0x50b1a5,_0x380b69,_0x451eee,_0x321f84,_0x27f227,_0x3ec065){const _0xbf9a94=_0x128a0b,_0x261896=Date[_0xbf9a94(0x85a)]();if(!_0x3ec065['models'][_0xbf9a94(0x5cf)](_0x26bbb1=>_0x26bbb1['id']===_0x321f84['modelId']))throw new Error('Model\x20not\x20found');const _0x5716ee=(0x0,_0x49421a['v4'])(),_0x34716a=[];_0x34716a['push']({'role':_0xbf9a94(0x549),'content':_0x321f84['instructions']}),_0x34716a[_0xbf9a94(0xa98)]({'role':'user','content':_0x451eee});const _0x55ab3c=await fetch(_0x4106b9[_0xbf9a94(0x5f0)]+_0xbf9a94(0x7a3),{'method':_0xbf9a94(0x3c6),'headers':{'Content-Type':'application/json','x-vendor-id':_0x50b1a5},'body':JSON[_0xbf9a94(0x30b)]({'model':_0x321f84[_0xbf9a94(0x701)],'messages':_0x34716a,'max_completion_tokens':_0x321f84[_0xbf9a94(0xa78)],'temperature':_0x321f84[_0xbf9a94(0x8f2)],'threadId':_0x5716ee})}),_0x131e65=(await _0x55ab3c[_0xbf9a94(0x46f)]())[_0xbf9a94(0x19b)][0x0][_0xbf9a94(0x94c)]['content'];await _0x5d2c78['trace']({'jobType':_0x478bd1['Ingest'],'type':_0xc52bc9[_0xbf9a94(0x1ae)],'jobId':_0x380b69,'blockId':_0x321f84['id'],'traceLevel':_0xe54e92['Debug'],'timestamp':Date[_0xbf9a94(0x85a)](),'startTime':_0x261896,'status':_0xbf9a94(0x816),'agentId':_0x5716ee,'content':_0x451eee,'instructions':_0x321f84[_0xbf9a94(0x414)],'result':_0x131e65});const _0x43a9d4=[];if(_0x321f84[_0xbf9a94(0x206)]?.[_0xbf9a94(0x3c5)](_0xc8bc75=>_0xc8bc75[_0xbf9a94(0x7dd)]===_0x39db15[_0xbf9a94(0xafa)]))return _0x43a9d4[_0xbf9a94(0xa98)]({'content':_0x131e65,'start':0x0,'length':_0x131e65['length']}),await _0x178cd8(_0x50b1a5,_0x380b69,_0x43a9d4,_0x321f84,_0x27f227,_0x3ec065),void await _0x178cd8(_0x50b1a5,_0x380b69,_0x131e65,_0x321f84,_0x27f227,_0x3ec065);_0x43a9d4[_0xbf9a94(0xa98)]({'content':_0x131e65,'start':0x0,'length':_0x451eee[_0xbf9a94(0xa20)]}),await _0x178cd8(_0x50b1a5,_0x380b69,_0x43a9d4,_0x321f84,_0x27f227,_0x3ec065);}async function _0x109fac(_0x59fcce,_0x387be3,_0x1fbe7b,_0x412fe2,_0x5be01b,_0x5c2a2f){const _0x26ab0d=_0x128a0b,_0x2428d7=Date['now']();let _0xd6f953=[];if(_0x1fbe7b instanceof Array){for(const _0x37591a of _0x1fbe7b)_0xd6f953=_0xd6f953[_0x26ab0d(0x40c)](_0x182659(_0x37591a[_0x26ab0d(0x95d)],_0x412fe2,_0x37591a[_0x26ab0d(0x71e)],_0x37591a['length']));}else _0xd6f953=_0x182659(_0x1fbe7b,_0x412fe2);await _0x5d2c78[_0x26ab0d(0x3e6)]({'jobType':_0x478bd1[_0x26ab0d(0x2b3)],'type':_0xc52bc9[_0x26ab0d(0x922)],'traceLevel':_0xe54e92[_0x26ab0d(0x431)],'jobId':_0x387be3,'blockId':_0x412fe2['id'],'startTime':_0x2428d7,'timestamp':Date['now'](),'status':_0x26ab0d(0x816),'totalChunks':_0xd6f953[_0x26ab0d(0xa20)],'chunkSize':_0x412fe2['attributes'][_0x26ab0d(0x388)]}),await _0x178cd8(_0x59fcce,_0x387be3,_0xd6f953,_0x412fe2,_0x5be01b,_0x5c2a2f);}function _0x182659(_0x3bd3d6,_0x4c647a,_0x2686b5,_0x1e2084){const _0x20d572=_0x128a0b,_0xfc5f19=[];for(let _0x17a21a=0x0;_0x17a21a<_0x3bd3d6[_0x20d572(0xa20)];_0x17a21a+=_0x4c647a[_0x20d572(0x80e)]['size']){let _0x1bccb1=_0x17a21a-_0x4c647a[_0x20d572(0x80e)][_0x20d572(0x715)];_0x1bccb1<0x0&&(_0x1bccb1=0x0);let _0xce7745=_0x17a21a+_0x4c647a[_0x20d572(0x80e)][_0x20d572(0x388)]+_0x4c647a['attributes']['overlap'];_0xce7745>_0x3bd3d6['length']&&(_0xce7745=_0x3bd3d6[_0x20d572(0xa20)]);const _0x1a1fb4=_0x3bd3d6['substring'](_0x1bccb1,_0xce7745);_0xfc5f19[_0x20d572(0xa98)]({'content':_0x1a1fb4,'start':_0x2686b5??_0x17a21a,'length':_0x1e2084??(_0x17a21a+_0x4c647a[_0x20d572(0x80e)]['size']>_0x3bd3d6[_0x20d572(0xa20)]?_0x3bd3d6['length']-_0x17a21a:_0x4c647a[_0x20d572(0x80e)][_0x20d572(0x388)])});}return _0xfc5f19;}async function _0x5beffd(_0x259146,_0x2b17f7,_0xee224c,_0x21a667,_0x200e7e,_0x5e85a4){const _0x2b1ddf=_0x128a0b,_0xefeeee=Date[_0x2b1ddf(0x85a)]();let _0x4b31f8;if(_0xee224c['file']['type'][_0x2b1ddf(0x5fa)](_0x2b1ddf(0x81b))||_0x1f29b4(_0xee224c['file']['name'],_0x327976))_0x4b31f8=await _0xee224c['file'][_0x2b1ddf(0x992)]();else{if(!_0x5e85a4[_0x2b1ddf(0x193)][_0x2b1ddf(0x42a)](_0xee224c[_0x2b1ddf(0x892)]))throw new Error(_0x2b1ddf(0x67d)+_0xee224c[_0x2b1ddf(0x892)][_0x2b1ddf(0x7dd)]+_0x2b1ddf(0x69f)+_0xee224c[_0x2b1ddf(0x892)][_0x2b1ddf(0x3d4)]);_0x4b31f8=await _0x5e85a4[_0x2b1ddf(0x193)][_0x2b1ddf(0x562)](_0xee224c[_0x2b1ddf(0x892)]);}await _0x5d2c78['trace']({'jobType':_0x478bd1[_0x2b1ddf(0x2b3)],'type':_0xc52bc9[_0x2b1ddf(0xa74)],'traceLevel':_0xe54e92['Debug'],'blockId':_0x21a667['id'],'jobId':_0x2b17f7,'startTime':_0xefeeee,'timestamp':Date[_0x2b1ddf(0x85a)](),'status':_0x2b1ddf(0x816),'documentType':_0xee224c[_0x2b1ddf(0x892)][_0x2b1ddf(0x7dd)],'documentName':_0xee224c[_0x2b1ddf(0x892)][_0x2b1ddf(0x3d4)],'extractionMethod':_0x2b1ddf(0x5ee)}),await _0x178cd8(_0x259146,_0x2b17f7,_0x4b31f8,_0x21a667,_0x200e7e,_0x5e85a4);const _0x5bf774=[{'content':_0x4b31f8,'start':0x0,'length':_0x4b31f8[_0x2b1ddf(0xa20)]}];await _0x178cd8(_0x259146,_0x2b17f7,_0x5bf774,_0x21a667,_0x200e7e,_0x5e85a4);}const _0x327976=[_0x128a0b(0x1f9),'.ts','.py',_0x128a0b(0x6d3),_0x128a0b(0x861),_0x128a0b(0x8f7),_0x128a0b(0x3ec),_0x128a0b(0x352),_0x128a0b(0x983),_0x128a0b(0x198),_0x128a0b(0x737),'.sh',_0x128a0b(0x371),_0x128a0b(0x874),'.cfg',_0x128a0b(0x189),_0x128a0b(0x649),_0x128a0b(0x24a),'.php','.java','.c',_0x128a0b(0x7a7),_0x128a0b(0x487),'.r',_0x128a0b(0x919),_0x128a0b(0x264),'.scala',_0x128a0b(0x3b3),'.rs',_0x128a0b(0x258),_0x128a0b(0x8b6),_0x128a0b(0x1c0),'.hs',_0x128a0b(0x83a),_0x128a0b(0x35c),_0x128a0b(0x4d5),'.ex',_0x128a0b(0x791),_0x128a0b(0x51f),'.ps1',_0x128a0b(0x25b),'.m','.vbs',_0x128a0b(0x26b),_0x128a0b(0x85d),'.jl',_0x128a0b(0xab4),_0x128a0b(0x752),_0x128a0b(0x585),_0x128a0b(0x416),'.erb','.jinja',_0x128a0b(0x71d),_0x128a0b(0x394),_0x128a0b(0x34f),_0x128a0b(0x3f4),_0x128a0b(0xaee),_0x128a0b(0x5c5),_0x128a0b(0xb07),_0x128a0b(0x2d7),_0x128a0b(0x4b5),_0x128a0b(0xa62),_0x128a0b(0x5de)];function _0x1f29b4(_0x8fbf9f,_0x3dfa71){const _0x468c41=_0x128a0b;return _0x3dfa71[_0x468c41(0x6b7)]('.'+(_0x8fbf9f['split']('.')['pop']()?.['toLowerCase']()||''));}async function _0x33040f(_0xf45a72,_0x2bb720,_0x47b443,_0x419291,_0x21b9f2,_0x4389dd){const _0x5d369f=_0x128a0b,_0x277ee7=Date[_0x5d369f(0x85a)](),_0x87e615=new Set();let _0x184852=0x0;for(const _0x4e394c of _0x47b443)_0x184852+=_0x4e394c[_0x5d369f(0x95d)]['length'],await _0x289fc(_0x4e394c[_0x5d369f(0x95d)],_0x87e615,_0x419291,_0x4389dd[_0x5d369f(0x2dc)]);await _0x5d2c78[_0x5d369f(0x3e6)]({'jobType':_0x478bd1[_0x5d369f(0x2b3)],'type':_0xc52bc9[_0x5d369f(0x88a)],'jobId':_0x2bb720,'blockId':_0x419291['id'],'traceLevel':_0xe54e92['Debug'],'startTime':_0x277ee7,'timestamp':Date[_0x5d369f(0x85a)](),'status':'success','contentLength':_0x184852,'totalChunks':_0x47b443 instanceof Array?_0x47b443[_0x5d369f(0xa20)]:0x1,'entitiesExtracted':_0x87e615,'totalEntities':_0x87e615[_0x5d369f(0x388)]}),await _0x178cd8(_0xf45a72,_0x2bb720,_0x87e615,_0x419291,_0x21b9f2,_0x4389dd);}async function _0x289fc(_0x23b8a4,_0x5544cf,_0x3b054e,_0x5d8e10){const _0x25acbb=_0x128a0b,_0x16d198=await _0x5d8e10[_0x25acbb(0x2d5)](_0x23b8a4,{'ner':_0x3b054e[_0x25acbb(0x80e)][_0x25acbb(0x51d)],'noun':_0x3b054e[_0x25acbb(0x80e)][_0x25acbb(0x54d)],'propn':_0x3b054e[_0x25acbb(0x80e)]['propn'],'verb':_0x3b054e[_0x25acbb(0x80e)][_0x25acbb(0x37e)]});for(const _0x344308 of _0x16d198)_0x5544cf[_0x25acbb(0x368)](_0x344308);}async function _0x309214(_0x9cfc97,_0x38f791,_0x9f6263,_0x5c7bf6,_0x8b2031){const _0x3acedb=_0x128a0b,_0x2819c2=Date['now']();if(_0x9f6263[_0x3acedb(0x22c)]||(_0x9f6263[_0x3acedb(0x22c)]={}),_0x3acedb(0x55c)==typeof _0x38f791?_0x9f6263['accumulated'][_0x3acedb(0x95d)]=_0x38f791:_0x38f791 instanceof Set?_0x9f6263[_0x3acedb(0x22c)][_0x3acedb(0x6de)]=_0x38f791:_0x38f791 instanceof Map?_0x9f6263[_0x3acedb(0x22c)][_0x3acedb(0x6a5)]=_0x38f791:_0x38f791 instanceof Array?_0x9f6263[_0x3acedb(0x22c)][_0x3acedb(0x8a7)]=_0x38f791:_0x9f6263[_0x3acedb(0x22c)]['file']=_0x38f791,_0x9f6263[_0x3acedb(0x92b)]=_0x9f6263['timesCalled']?_0x9f6263['timesCalled']+0x1:0x1,_0x23ad82(_0x9f6263,_0x5c7bf6)>_0x9f6263['timesCalled'])return;if(!(_0x9f6263[_0x3acedb(0x22c)]['entities']&&_0x9f6263['accumulated'][_0x3acedb(0x892)]&&_0x9f6263['accumulated'][_0x3acedb(0x95d)]&&_0x9f6263[_0x3acedb(0x22c)][_0x3acedb(0x8a7)]))throw new Error(_0x3acedb(0x45e));let _0x39a7cf=0x0;const _0x28fdd8=_0x8b2031[_0x3acedb(0x2b1)][_0x3acedb(0x3c8)](_0x9f6263['id']);for(const _0x402e8c of _0x9f6263[_0x3acedb(0x22c)]['entities']){let _0x490717=[];_0x490717=_0x9f6263['accumulated'][_0x3acedb(0x8a7)][_0x3acedb(0x2ca)](_0x24fd33=>_0x24fd33[_0x3acedb(0x95d)]['includes'](_0x402e8c));try{_0x28fdd8[_0x3acedb(0x3a1)](_0x9f6263[_0x3acedb(0x22c)][_0x3acedb(0x892)][_0x3acedb(0x8ce)],_0x9f6263['accumulated'][_0x3acedb(0x95d)],_0x490717,_0x402e8c),_0x39a7cf+=0x1;}catch(_0x2d818f){}}if(_0x9f6263['accumulated'][_0x3acedb(0x6a5)]){for(const [_0x594559,_0x4a44f3]of _0x9f6263[_0x3acedb(0x22c)][_0x3acedb(0x6a5)])for(const _0x5a3096 of _0x4a44f3)try{_0x28fdd8[_0x3acedb(0x8b1)](_0x594559,_0x5a3096);}catch(_0xd7186c){}await _0x5d2c78['trace']({'jobType':_0x478bd1[_0x3acedb(0x2b3)],'type':_0xc52bc9[_0x3acedb(0x789)],'jobId':_0x9cfc97,'blockId':_0x9f6263['id'],'status':_0x3acedb(0x816),'startTime':_0x2819c2,'timestamp':Date[_0x3acedb(0x85a)](),'traceLevel':_0xe54e92[_0x3acedb(0x431)],'nodesAdded':_0x39a7cf,'entities':_0x9f6263[_0x3acedb(0x22c)][_0x3acedb(0x6de)],'relations':_0x9f6263[_0x3acedb(0x22c)][_0x3acedb(0x6a5)]});}}async function _0x10b14b(_0x44847,_0x3464c9,_0x9724a4,_0x327131,_0xa127c,_0x51876f){const _0x4fa5b6=_0x128a0b,_0x435c43=_0x51876f[_0x4fa5b6(0x4ff)][_0x4fa5b6(0x5cf)](_0xd709ad=>_0xd709ad['id']===_0x327131['id']);if(!_0x435c43)throw new Error(_0x4fa5b6(0x30c));switch(_0x435c43[_0x4fa5b6(0x43e)]){case _0x16f74[_0x4fa5b6(0xa26)]['Text']:if(_0x4fa5b6(0x55c)!=typeof _0x9724a4)throw new Error(_0x4fa5b6(0x5fb));await async function(_0x1d9fd8,_0x9af445,_0x105f66,_0x33dafe,_0x30775d,_0x11bfe3,_0x28b50b){const _0xc1377d=_0x4fa5b6,_0xf74f04=Date['now']();let _0x57651b;const _0x3ddc32=await fetch(_0x4106b9[_0xc1377d(0x5f0)]+_0xc1377d(0x7a3),{'method':'POST','headers':{'Content-Type':_0xc1377d(0x18b),'x-vendor-id':_0x1d9fd8},'body':JSON['stringify']({'messages':[{'role':_0xc1377d(0x54f),'content':_0x105f66}]})});_0x57651b=(await _0x3ddc32[_0xc1377d(0x46f)]())[_0xc1377d(0x19b)][0x0][_0xc1377d(0x94c)][_0xc1377d(0x95d)],await _0x5d2c78[_0xc1377d(0x3e6)]({'jobType':_0x478bd1[_0xc1377d(0x2b3)],'type':_0xc52bc9[_0xc1377d(0x4a2)],'jobId':_0x9af445,'blockId':_0x30775d['id'],'traceLevel':_0xe54e92[_0xc1377d(0x431)],'timestamp':Date[_0xc1377d(0x85a)](),'startTime':_0xf74f04,'status':_0xc1377d(0x816),'modelName':_0x33dafe['id'],'inputType':_0x33dafe['inputType'],'outputType':_0x33dafe[_0xc1377d(0x43e)],'content':_0x105f66,'results':_0x57651b}),await _0x178cd8(_0x1d9fd8,_0x9af445,_0x57651b,_0x30775d,_0x11bfe3,_0x28b50b);}(_0x44847,_0x3464c9,_0x9724a4,_0x435c43,_0x327131,_0xa127c,_0x51876f);break;case _0x16f74[_0x4fa5b6(0xa26)][_0x4fa5b6(0x2e6)]:if(!(_0x9724a4 instanceof Array))throw new Error(_0x4fa5b6(0x757));await async function(_0x11cc7c,_0x94ce54,_0x2e3feb,_0x4eb71c,_0x30999d,_0x512a5c,_0x370096){const _0x250594=_0x4fa5b6,_0x4d7926=Date[_0x250594(0x85a)](),_0x231a2d=await fetch(_0x4106b9['apiUrl']+_0x250594(0x545),{'method':_0x250594(0x3c6),'headers':{'Content-Type':_0x250594(0x18b),'x-vendor-id':_0x11cc7c},'body':JSON[_0x250594(0x30b)]({'input':_0x2e3feb[_0x250594(0x8ac)](_0x7af0bb=>_0x7af0bb[_0x250594(0x95d)])})}),_0x1ac600=(await _0x231a2d['json']())[_0x250594(0xaae)]['map'](_0x4ccbe2=>_0x4ccbe2[_0x250594(0x87d)]);await _0x5d2c78[_0x250594(0x3e6)]({'jobType':_0x478bd1[_0x250594(0x2b3)],'type':_0xc52bc9[_0x250594(0x631)],'jobId':_0x94ce54,'blockId':_0x30999d['id'],'traceLevel':_0xe54e92[_0x250594(0x431)],'timestamp':Date[_0x250594(0x85a)](),'startTime':_0x4d7926,'status':_0x250594(0x816),'modelName':_0x4eb71c['id'],'inputType':_0x4eb71c[_0x250594(0x310)],'outputType':_0x4eb71c[_0x250594(0x43e)],'totalVectors':_0x1ac600[_0x250594(0xa20)]}),await _0x178cd8(_0x11cc7c,_0x94ce54,_0x1ac600,_0x30999d,_0x512a5c,_0x370096);}(_0x44847,_0x3464c9,_0x9724a4,_0x435c43,_0x327131,_0xa127c,_0x51876f);}}async function _0x4c6c6c(_0x16d99f,_0x31d2c1,_0x54ac11,_0x27d98c,_0x4afb2b,_0x1734bf){const _0x2560a7=_0x128a0b,_0x4d77d2=Date[_0x2560a7(0x85a)]();if(_0x27d98c[_0x2560a7(0x22c)]||(_0x27d98c[_0x2560a7(0x22c)]={}),_0x54ac11 instanceof Array?_0x27d98c[_0x2560a7(0x22c)][_0x2560a7(0x8a7)]=_0x54ac11:_0x27d98c['accumulated'][_0x2560a7(0x6de)]=_0x54ac11,_0x27d98c['timesCalled']=_0x27d98c[_0x2560a7(0x92b)]?_0x27d98c[_0x2560a7(0x92b)]+0x1:0x1,_0x23ad82(_0x27d98c,_0x4afb2b)>_0x27d98c['timesCalled'])return;if(!_0x27d98c[_0x2560a7(0x22c)][_0x2560a7(0x8a7)]||!_0x27d98c[_0x2560a7(0x22c)][_0x2560a7(0x6de)])throw new Error(_0x2560a7(0x5be));const _0x157477=new Map();for(const _0x177585 of _0x27d98c[_0x2560a7(0x22c)][_0x2560a7(0x8a7)])_0x367977(_0x177585[_0x2560a7(0x95d)],_0x27d98c[_0x2560a7(0x22c)][_0x2560a7(0x6de)],_0x157477);await _0x5d2c78[_0x2560a7(0x3e6)]({'jobType':_0x478bd1[_0x2560a7(0x2b3)],'type':_0xc52bc9[_0x2560a7(0x48a)],'jobId':_0x31d2c1,'blockId':_0x27d98c['id'],'traceLevel':_0xe54e92['Debug'],'timestamp':Date['now'](),'startTime':_0x4d77d2,'status':'success','entities':_0x27d98c[_0x2560a7(0x22c)][_0x2560a7(0x6de)],'relations':_0x157477,'totalRelationsExtracted':_0x157477[_0x2560a7(0x388)]}),await _0x178cd8(_0x16d99f,_0x31d2c1,_0x157477,_0x27d98c,_0x4afb2b,_0x1734bf);}function _0x367977(_0xc9693f,_0x493e5d,_0x4c3479){const _0x190dac=_0x128a0b;for(const _0x54bdb7 of _0x493e5d)for(const _0x533231 of _0x493e5d){if(_0x54bdb7===_0x533231)continue;const _0x519002=_0xc9693f[_0x190dac(0x44a)](_0x54bdb7),_0x23b610=_0xc9693f['indexOf'](_0x533231);-0x1!==_0x519002&&-0x1!==_0x23b610&&(_0x4c3479[_0x190dac(0x301)](_0x54bdb7)||_0x4c3479[_0x190dac(0x663)](_0x54bdb7,new Set()),_0x4c3479[_0x190dac(0x8b0)](_0x54bdb7)[_0x190dac(0x368)](_0x533231));}return _0x4c3479;}async function _0x17b6a7(_0x4ebe97,_0x453c33,_0x3db436,_0x336f57,_0x12db01,_0x551378){const _0x47fae3=_0x128a0b,_0x286ca2=Date[_0x47fae3(0x85a)]();let _0x4cf64c=[];if(_0x3db436 instanceof Array)for(const _0x39e1ec of _0x3db436){const _0x386a20=await _0x551378[_0x47fae3(0x2dc)]['getSentences'](_0x39e1ec[_0x47fae3(0x95d)]);_0x4cf64c=_0x4cf64c[_0x47fae3(0x40c)](_0x386a20['map'](_0x40e6a4=>({'content':_0x40e6a4,'start':_0x39e1ec['start'],'length':_0x39e1ec[_0x47fae3(0xa20)]})));}else _0x4cf64c=(await _0x551378[_0x47fae3(0x2dc)]['getSentences'](_0x3db436))[_0x47fae3(0x8ac)](_0x53a248=>({'content':_0x53a248,'start':_0x3db436['indexOf'](_0x53a248),'length':_0x53a248['length']}));await _0x5d2c78[_0x47fae3(0x3e6)]({'jobType':_0x478bd1[_0x47fae3(0x2b3)],'type':_0xc52bc9['SentenceSplitter'],'jobId':_0x453c33,'blockId':_0x336f57['id'],'traceLevel':_0xe54e92[_0x47fae3(0x431)],'startTime':_0x286ca2,'timestamp':Date[_0x47fae3(0x85a)](),'status':_0x47fae3(0x816),'totalSentences':_0x4cf64c[_0x47fae3(0xa20)],'averageSentenceLength':_0x4cf64c[_0x47fae3(0x959)]((_0x2d2fa5,_0x45c5cf)=>_0x2d2fa5+_0x45c5cf[_0x47fae3(0xa20)],0x0)/_0x4cf64c[_0x47fae3(0xa20)]}),await _0x178cd8(_0x4ebe97,_0x453c33,_0x4cf64c,_0x336f57,_0x12db01,_0x551378);}async function _0xfd4c5e(_0x281026,_0x1aad76,_0x2ec0e7,_0x43ddd3,_0x4a1ae9){const _0x4bd293=_0x128a0b,_0x369d64=Date[_0x4bd293(0x85a)]();var _0x4c30a0;if(_0x2ec0e7['accumulated']||(_0x2ec0e7[_0x4bd293(0x22c)]={}),_0x1aad76 instanceof Array?(_0x4c30a0=_0x1aad76)[0x0]instanceof Array&&_0x4bd293(0x762)==typeof _0x4c30a0[0x0]?.[0x0]?_0x2ec0e7[_0x4bd293(0x22c)][_0x4bd293(0x48d)]=_0x1aad76:_0x2ec0e7['accumulated']['index']=_0x1aad76:_0x4bd293(0x55c)==typeof _0x1aad76?_0x2ec0e7[_0x4bd293(0x22c)]['content']=_0x1aad76:_0x2ec0e7['accumulated'][_0x4bd293(0x892)]=_0x1aad76,_0x2ec0e7[_0x4bd293(0x92b)]=_0x2ec0e7['timesCalled']?_0x2ec0e7[_0x4bd293(0x92b)]+0x1:0x1,_0x23ad82(_0x2ec0e7,_0x43ddd3)>_0x2ec0e7[_0x4bd293(0x92b)])return;if(!(_0x2ec0e7[_0x4bd293(0x22c)][_0x4bd293(0x95d)]&&_0x2ec0e7[_0x4bd293(0x22c)][_0x4bd293(0x8a7)]&&_0x2ec0e7[_0x4bd293(0x22c)][_0x4bd293(0x48d)]&&_0x2ec0e7['accumulated'][_0x4bd293(0x892)]))throw new Error(_0x4bd293(0x629));const _0x80e12c=_0x4a1ae9[_0x4bd293(0x2b1)][_0x4bd293(0x378)](_0x2ec0e7['id']);_0x80e12c[_0x4bd293(0x960)](_0x2ec0e7[_0x4bd293(0x22c)][_0x4bd293(0x892)][_0x4bd293(0x8ce)],_0x2ec0e7[_0x4bd293(0x22c)]['content'],_0x2ec0e7[_0x4bd293(0x22c)][_0x4bd293(0x8a7)],_0x2ec0e7[_0x4bd293(0x22c)][_0x4bd293(0x48d)]),await _0x5d2c78[_0x4bd293(0x3e6)]({'jobType':_0x478bd1[_0x4bd293(0x2b3)],'type':_0xc52bc9[_0x4bd293(0x56f)],'jobId':_0x281026,'blockId':_0x2ec0e7['id'],'traceLevel':_0xe54e92[_0x4bd293(0x431)],'startTime':_0x369d64,'timestamp':Date[_0x4bd293(0x85a)](),'status':'success','databaseName':_0x80e12c['getName'](),'vectorsAdded':_0x2ec0e7[_0x4bd293(0x22c)][_0x4bd293(0x48d)][_0x4bd293(0xa20)],'filePathName':_0x2ec0e7[_0x4bd293(0x22c)][_0x4bd293(0x892)][_0x4bd293(0x8ce)]});}async function _0x1aa8d0(_0x5f5d13,_0xf60fbe,_0x31f91b,_0x1430dc,_0x49c6b2,_0x26833a){const _0x1377d9=_0x128a0b,_0x1431d7=Date['now']();let _0x1be4f5=[];if(_0x31f91b instanceof Array){for(const _0x2abae9 of _0x31f91b)_0x1be4f5=_0x1be4f5['concat'](_0x2146ac(_0x2abae9[_0x1377d9(0x95d)],_0x1430dc,_0x2abae9[_0x1377d9(0x71e)],_0x2abae9[_0x1377d9(0xa20)]));}else _0x1be4f5=_0x2146ac(_0x31f91b,_0x1430dc);await _0x5d2c78[_0x1377d9(0x3e6)]({'jobType':_0x478bd1[_0x1377d9(0x2b3)],'type':_0xc52bc9['WordSplitter'],'jobId':_0xf60fbe,'traceLevel':_0xe54e92[_0x1377d9(0x431)],'blockId':_0x1430dc['id'],'startTime':_0x1431d7,'timestamp':Date[_0x1377d9(0x85a)](),'status':_0x1377d9(0x816),'totalChunks':_0x1be4f5['length'],'averageChunkLength':_0x1be4f5[_0x1377d9(0x959)]((_0x4f99dc,_0x3653d8)=>_0x4f99dc+_0x3653d8[_0x1377d9(0xa20)],0x0)/_0x1be4f5[_0x1377d9(0xa20)]}),await _0x178cd8(_0x5f5d13,_0xf60fbe,_0x1be4f5,_0x1430dc,_0x49c6b2,_0x26833a);}function _0x2146ac(_0x575876,_0x23e949,_0x596873,_0x123bd5){const _0x4299bf=_0x128a0b,_0x31c02a=[],_0x51178a=_0x575876['split']('\x20');let _0xfb6f6='',_0x36e1e6=-0x1,_0x7ad2fd=0x0,_0x36a653=0x0;for(const _0xe5977c of _0x51178a){if(_0xfb6f6[_0x4299bf(0xa20)]+_0xe5977c[_0x4299bf(0xa20)]>_0x23e949[_0x4299bf(0x80e)][_0x4299bf(0x388)]){const _0x1d2d12=_0xfb6f6['length'];let _0x284405=_0x36e1e6,_0x6677fd='';for(;_0x284405>=0x0&&_0x6677fd[_0x4299bf(0xa20)]+_0x51178a[_0x284405][_0x4299bf(0xa20)]<_0x23e949[_0x4299bf(0x80e)]['overlap'];)_0x6677fd=_0x51178a[_0x284405]+'\x20'+_0x6677fd,_0x284405--;let _0x2eebbe=_0x7ad2fd,_0x36bf60='';for(;_0x2eebbe<_0x51178a['length']&&_0x36bf60[_0x4299bf(0xa20)]+_0x51178a[_0x2eebbe][_0x4299bf(0xa20)]<_0x23e949['attributes'][_0x4299bf(0x715)];)_0x36bf60+=_0x51178a[_0x2eebbe]+'\x20',_0x2eebbe++;_0xfb6f6=_0x6677fd+_0xfb6f6+_0x36bf60,_0x31c02a['push']({'content':_0xfb6f6[_0x4299bf(0xad0)](),'start':_0x596873??_0x36a653,'length':_0x123bd5??_0x1d2d12}),_0xfb6f6='',_0x36e1e6=_0x7ad2fd-0x1,_0x36a653+=_0x1d2d12;}_0xfb6f6+=_0xe5977c+'\x20',_0x7ad2fd++;}if(_0xfb6f6['length']>0x0){const _0x4bda4d=_0xfb6f6['length'];let _0xfb3e0e=_0x36e1e6,_0x1509e7='';for(;_0xfb3e0e>=0x0&&_0x1509e7[_0x4299bf(0xa20)]+_0x51178a[_0xfb3e0e]['length']<_0x23e949[_0x4299bf(0x80e)][_0x4299bf(0x715)];)_0x1509e7=_0x51178a[_0xfb3e0e]+'\x20'+_0x1509e7,_0xfb3e0e--;_0xfb6f6=_0x1509e7+_0xfb6f6,_0x31c02a[_0x4299bf(0xa98)]({'content':_0xfb6f6[_0x4299bf(0xad0)](),'start':_0x596873??_0x36a653,'length':_0x123bd5??_0x4bda4d});}return _0x31c02a;}async function _0x178cd8(_0x20c3a9,_0xf252f8,_0x44eb57,_0x472f83,_0x4a3616,_0x47191a){const _0x344bdf=_0x128a0b;for(const _0x7e7526 of _0x472f83[_0x344bdf(0x206)]||[]){const _0x4e1b92=_0x4a3616[_0x344bdf(0x5cf)](_0x17296c=>_0x17296c[_0x344bdf(0x997)]===_0x7e7526['uid']);if(_0x4e1b92)switch(_0x4e1b92[_0x344bdf(0x7dd)]){case _0x23bc16['Agent']:_0x7e7526[_0x344bdf(0x7dd)]===_0x39db15[_0x344bdf(0xafa)]&&'string'==typeof _0x44eb57&&await _0x2bd5da(_0x20c3a9,_0xf252f8,_0x44eb57,_0x4e1b92,_0x4a3616,_0x47191a);break;case _0x23bc16[_0x344bdf(0x922)]:_0x7e7526[_0x344bdf(0x7dd)]===_0x39db15[_0x344bdf(0xafa)]&&_0x344bdf(0x55c)==typeof _0x44eb57&&await _0x109fac(_0x20c3a9,_0xf252f8,_0x44eb57,_0x4e1b92,_0x4a3616,_0x47191a),_0x7e7526[_0x344bdf(0x7dd)]===_0x39db15['Index']&&_0x44eb57 instanceof Array&&await _0x109fac(_0x20c3a9,_0xf252f8,_0x44eb57,_0x4e1b92,_0x4a3616,_0x47191a);break;case _0x23bc16[_0x344bdf(0xa74)]:_0x7e7526[_0x344bdf(0x7dd)]===_0x39db15['File']&&await _0x5beffd(_0x20c3a9,_0xf252f8,_0x44eb57,_0x4e1b92,_0x4a3616,_0x47191a);break;case _0x23bc16['EntityExtractor']:_0x7e7526[_0x344bdf(0x7dd)]===_0x39db15[_0x344bdf(0x1b5)]&&_0x44eb57 instanceof Array&&await _0x33040f(_0x20c3a9,_0xf252f8,_0x44eb57,_0x4e1b92,_0x4a3616,_0x47191a);break;case _0x23bc16[_0x344bdf(0x789)]:_0x7e7526[_0x344bdf(0x7dd)]===_0x39db15[_0x344bdf(0xafa)]&&_0x344bdf(0x55c)==typeof _0x44eb57&&await _0x309214(_0xf252f8,_0x44eb57,_0x4e1b92,_0x4a3616,_0x47191a),_0x7e7526[_0x344bdf(0x7dd)]===_0x39db15[_0x344bdf(0x1b5)]&&_0x44eb57 instanceof Array&&await _0x309214(_0xf252f8,_0x44eb57,_0x4e1b92,_0x4a3616,_0x47191a),_0x7e7526[_0x344bdf(0x7dd)]===_0x39db15['Entity']&&_0x44eb57 instanceof Set&&await _0x309214(_0xf252f8,_0x44eb57,_0x4e1b92,_0x4a3616,_0x47191a),_0x7e7526['type']===_0x39db15['Relation']&&_0x44eb57 instanceof Map&&await _0x309214(_0xf252f8,_0x44eb57,_0x4e1b92,_0x4a3616,_0x47191a),_0x7e7526[_0x344bdf(0x7dd)]===_0x39db15[_0x344bdf(0x21c)]&&await _0x309214(_0xf252f8,_0x44eb57,_0x4e1b92,_0x4a3616,_0x47191a);break;case _0x23bc16[_0x344bdf(0x6a9)]:_0x7e7526[_0x344bdf(0x7dd)]===_0x39db15[_0x344bdf(0xafa)]&&'string'==typeof _0x44eb57&&await _0x10b14b(_0x20c3a9,_0xf252f8,_0x44eb57,_0x4e1b92,_0x4a3616,_0x47191a),_0x7e7526[_0x344bdf(0x7dd)]===_0x39db15[_0x344bdf(0x1b5)]&&_0x44eb57 instanceof Array&&await _0x10b14b(_0x20c3a9,_0xf252f8,_0x44eb57,_0x4e1b92,_0x4a3616,_0x47191a);break;case _0x23bc16[_0x344bdf(0x48a)]:_0x7e7526['type']===_0x39db15['Index']&&_0x44eb57 instanceof Array&&await _0x4c6c6c(_0x20c3a9,_0xf252f8,_0x44eb57,_0x4e1b92,_0x4a3616,_0x47191a),_0x7e7526[_0x344bdf(0x7dd)]===_0x39db15['Entity']&&_0x44eb57 instanceof Set&&await _0x4c6c6c(_0x20c3a9,_0xf252f8,_0x44eb57,_0x4e1b92,_0x4a3616,_0x47191a);break;case _0x23bc16[_0x344bdf(0x500)]:_0x7e7526['type']===_0x39db15[_0x344bdf(0xafa)]&&'string'==typeof _0x44eb57&&await _0x17b6a7(_0x20c3a9,_0xf252f8,_0x44eb57,_0x4e1b92,_0x4a3616,_0x47191a),_0x7e7526[_0x344bdf(0x7dd)]===_0x39db15[_0x344bdf(0x1b5)]&&_0x44eb57 instanceof Array&&await _0x17b6a7(_0x20c3a9,_0xf252f8,_0x44eb57,_0x4e1b92,_0x4a3616,_0x47191a);break;case _0x23bc16['VectorDatabase']:_0x7e7526[_0x344bdf(0x7dd)]===_0x39db15[_0x344bdf(0xafa)]&&_0x344bdf(0x55c)==typeof _0x44eb57&&await _0xfd4c5e(_0xf252f8,_0x44eb57,_0x4e1b92,_0x4a3616,_0x47191a),_0x7e7526[_0x344bdf(0x7dd)]===_0x39db15[_0x344bdf(0x1b5)]&&_0x44eb57 instanceof Array&&await _0xfd4c5e(_0xf252f8,_0x44eb57,_0x4e1b92,_0x4a3616,_0x47191a),_0x7e7526[_0x344bdf(0x7dd)]===_0x39db15[_0x344bdf(0x2e6)]&&_0x44eb57 instanceof Array&&await _0xfd4c5e(_0xf252f8,_0x44eb57,_0x4e1b92,_0x4a3616,_0x47191a),_0x7e7526[_0x344bdf(0x7dd)]===_0x39db15[_0x344bdf(0x21c)]&&await _0xfd4c5e(_0xf252f8,_0x44eb57,_0x4e1b92,_0x4a3616,_0x47191a);break;case _0x23bc16['WordSplitter']:_0x7e7526[_0x344bdf(0x7dd)]===_0x39db15[_0x344bdf(0xafa)]&&_0x344bdf(0x55c)==typeof _0x44eb57&&await _0x1aa8d0(_0x20c3a9,_0xf252f8,_0x44eb57,_0x4e1b92,_0x4a3616,_0x47191a),_0x7e7526[_0x344bdf(0x7dd)]===_0x39db15['Index']&&_0x44eb57 instanceof Array&&await _0x1aa8d0(_0x20c3a9,_0xf252f8,_0x44eb57,_0x4e1b92,_0x4a3616,_0x47191a);}}}function _0x23ad82(_0x5300df,_0x3e7525){const _0x5c7089=_0x128a0b;return _0x3e7525[_0x5c7089(0x2ca)](_0x35535d=>_0x35535d[_0x5c7089(0x206)]?.[_0x5c7089(0x3c5)](_0x295f7b=>_0x295f7b[_0x5c7089(0x997)]===_0x5300df['uid']))[_0x5c7089(0xa20)];}async function _0x57b200(_0xaea2f,_0x934718,_0xcc8185,_0x1952ff,_0x7a07ed,_0xb430ec,_0xb38c08,_0x7d837c){const _0x3d5eba=_0x128a0b,_0x34f4f7=Date[_0x3d5eba(0x85a)](),_0xeecde0=new Set();if(_0x1952ff instanceof Array){for(const _0x4db5c7 of _0x1952ff)await _0x19b195(_0x4db5c7['content'],_0xb430ec,_0xeecde0,_0x7d837c[_0x3d5eba(0x2dc)]);}else await _0x19b195(_0x1952ff,_0xb430ec,_0xeecde0,_0x7d837c['nlpLibraryConnector']);await _0x5d2c78['trace']({'jobType':_0x478bd1[_0x3d5eba(0x984)],'type':_0x27ce33[_0x3d5eba(0x88a)],'jobId':_0x934718,'threadId':_0xcc8185,'blockId':_0xb430ec['id'],'traceLevel':_0xe54e92[_0x3d5eba(0x431)],'startTime':_0x34f4f7,'timestamp':Date['now'](),'status':_0x3d5eba(0x816),'content':_0x1952ff,'entitiesExtracted':Array[_0x3d5eba(0x1ec)](_0xeecde0),'totalEntities':_0xeecde0[_0x3d5eba(0x388)]}),await _0x299bd6(_0xaea2f,_0x934718,_0xcc8185,_0xeecde0,_0x7a07ed,_0xb430ec,_0xb38c08,_0x7d837c);}async function _0x19b195(_0x47d65f,_0x6811b5,_0x38b873,_0x5176ff){const _0x36b016=_0x128a0b,_0x1c3383=await _0x5176ff[_0x36b016(0x2d5)](_0x47d65f,{'ner':_0x6811b5[_0x36b016(0x80e)][_0x36b016(0x51d)],'noun':_0x6811b5[_0x36b016(0x80e)]['noun'],'propn':_0x6811b5[_0x36b016(0x80e)]['propn'],'verb':_0x6811b5['attributes'][_0x36b016(0x37e)]});for(const _0x113d26 of _0x1c3383)_0x38b873[_0x36b016(0x368)](_0x113d26);}async function _0x4ad33a(_0x414be7,_0x413ba6,_0x48e0f7,_0x20a082,_0x49cd11,_0x52dd98,_0xab3172,_0x98f259){const _0x4e20cf=_0x128a0b,_0x4de1c6=Date[_0x4e20cf(0x85a)]();if(_0x52dd98[_0x4e20cf(0x22c)]||(_0x52dd98[_0x4e20cf(0x22c)]={}),_0x20a082 instanceof Array?(_0x52dd98[_0x4e20cf(0x22c)][_0x4e20cf(0x5df)]||(_0x52dd98[_0x4e20cf(0x22c)]['results']=[]),_0x52dd98[_0x4e20cf(0x22c)][_0x4e20cf(0x5df)]['push'](..._0x20a082)):_0x20a082 instanceof Set?_0x52dd98['accumulated'][_0x4e20cf(0x6de)]=_0x20a082:_0x52dd98[_0x4e20cf(0x22c)][_0x4e20cf(0x5c9)]=_0x20a082,_0x52dd98[_0x4e20cf(0x92b)]=_0x52dd98[_0x4e20cf(0x92b)]?_0x52dd98[_0x4e20cf(0x92b)]+0x1:0x1,_0x1d338a(_0x52dd98,_0xab3172)>_0x52dd98[_0x4e20cf(0x92b)])return;if(!_0x52dd98[_0x4e20cf(0x22c)][_0x4e20cf(0x5c9)]&&!_0x52dd98['accumulated'][_0x4e20cf(0x5df)]||!_0x52dd98['accumulated']['entities'])throw new Error(_0x4e20cf(0x45e));const _0x4cb0d1=_0x98f259['contentMediator'][_0x4e20cf(0x3c8)](_0x52dd98['id'])['getContent'](Array['from'](_0x52dd98[_0x4e20cf(0x22c)]['entities']),_0x52dd98[_0x4e20cf(0x80e)][_0x4e20cf(0x6d2)],_0x52dd98['attributes'][_0x4e20cf(0x805)]);let _0x44a607=[];for(const _0x17fc64 in _0x4cb0d1){const _0x23ebd=_0x4cb0d1[_0x17fc64];for(const _0x5d64df of _0x23ebd){let _0x5cb8eb=0x0;if(_0x52dd98[_0x4e20cf(0x22c)][_0x4e20cf(0x5c9)]&&(_0x5cb8eb=await _0x98f259['nlpLibraryConnector'][_0x4e20cf(0x934)](_0x52dd98[_0x4e20cf(0x22c)][_0x4e20cf(0x5c9)],_0x5d64df)),_0x52dd98[_0x4e20cf(0x22c)][_0x4e20cf(0x5df)]){for(const _0x10daaf of _0x52dd98[_0x4e20cf(0x22c)][_0x4e20cf(0x5df)])_0x5cb8eb=Math[_0x4e20cf(0x5f2)](_0x5cb8eb,await _0x98f259['nlpLibraryConnector'][_0x4e20cf(0x934)](_0x10daaf['content'],_0x5d64df));}_0x5cb8eb<_0x52dd98[_0x4e20cf(0x80e)][_0x4e20cf(0x2d3)]||_0x44a607['push']({'content':_0x5d64df,'relevance':_0x5cb8eb,'pathName':_0x17fc64});}}_0x44a607=_0x44a607['sort']((_0x26a497,_0x3997d4)=>_0x3997d4['relevance']-_0x26a497[_0x4e20cf(0x796)])[_0x4e20cf(0x659)](0x0,_0x52dd98[_0x4e20cf(0x80e)][_0x4e20cf(0x9b9)]),await _0x5d2c78[_0x4e20cf(0x3e6)]({'jobType':_0x478bd1[_0x4e20cf(0x984)],'type':_0x27ce33[_0x4e20cf(0x7e4)],'jobId':_0x413ba6,'threadId':_0x48e0f7,'blockId':_0x52dd98['id'],'traceLevel':_0xe54e92['Debug'],'timestamp':Date[_0x4e20cf(0x85a)](),'startTime':_0x4de1c6,'status':_0x4e20cf(0x816),'content':_0x20a082,'topResults':_0x44a607,'numResults':_0x44a607[_0x4e20cf(0xa20)]}),await _0x299bd6(_0x414be7,_0x413ba6,_0x48e0f7,_0x44a607,_0x49cd11,_0x52dd98,_0xab3172,_0x98f259);}async function _0x5c32b0(_0x435d63,_0x5eb4df,_0xac90b8,_0x20837e,_0x42a3fc,_0x13bf0f,_0x4bf3ee,_0x541123){const _0x452e0a=_0x128a0b,_0x50a056=_0x541123[_0x452e0a(0x4ff)][_0x452e0a(0x5cf)](_0x282a81=>_0x282a81['id']===_0x13bf0f['id']);if(!_0x50a056)throw new Error(_0x452e0a(0x30c));let _0x347032='';switch(_0x347032=_0x20837e instanceof Array?_0x20837e[_0x452e0a(0x8ac)](_0x519814=>_0x519814[_0x452e0a(0x95d)])[_0x452e0a(0x406)](',\x20'):_0x20837e,_0x50a056[_0x452e0a(0x43e)]){case _0x16f74['GenerativeAIModelOutputType'][_0x452e0a(0xafa)]:await async function(_0x43a5c3,_0x382d44,_0x237ea4,_0x21e359,_0x76d129,_0x5b2f73,_0x50b73e,_0x50a942,_0x480543){const _0x3d7fc6=_0x452e0a,_0x5d9107=Date[_0x3d7fc6(0x85a)](),_0x4b52bf=await fetch(_0x4106b9[_0x3d7fc6(0x5f0)]+_0x3d7fc6(0x7a3),{'method':_0x3d7fc6(0x3c6),'headers':{'Content-Type':_0x3d7fc6(0x18b),'x-vendor-id':_0x43a5c3},'body':JSON[_0x3d7fc6(0x30b)]({'messages':[{'role':_0x3d7fc6(0x54f),'content':_0x21e359}]})}),_0x9d4722=(await _0x4b52bf[_0x3d7fc6(0x46f)]())[_0x3d7fc6(0x19b)][0x0][_0x3d7fc6(0x94c)][_0x3d7fc6(0x95d)];await _0x5d2c78[_0x3d7fc6(0x3e6)]({'jobType':_0x478bd1[_0x3d7fc6(0x984)],'type':_0x27ce33[_0x3d7fc6(0x4a2)],'jobId':_0x382d44,'threadId':_0x237ea4,'blockId':_0x50b73e['id'],'traceLevel':_0xe54e92[_0x3d7fc6(0x431)],'startTime':_0x5d9107,'timestamp':Date['now'](),'status':'success','modelName':_0x5b2f73['id'],'content':_0x21e359,'newPrompt':_0x9d4722,'inputType':_0x5b2f73['inputType'],'outputType':_0x5b2f73[_0x3d7fc6(0x43e)]}),await _0x299bd6(_0x43a5c3,_0x382d44,_0x237ea4,_0x9d4722,_0x76d129,_0x50b73e,_0x50a942,_0x480543);}(_0x435d63,_0x5eb4df,_0xac90b8,_0x347032,_0x42a3fc,_0x50a056,_0x13bf0f,_0x4bf3ee,_0x541123);break;case _0x16f74[_0x452e0a(0xa26)]['Vector']:await async function(_0x3e6982,_0x4d3fbe,_0x26d9c1,_0x1879a3,_0x565b54,_0x5392d5,_0xaed71e,_0x37f6a8,_0x488e51){const _0x4f345e=_0x452e0a,_0x3f3202=Date['now'](),_0x4f65e0=await fetch(_0x4106b9[_0x4f345e(0x5f0)]+'/embeddings',{'method':'POST','headers':{'Content-Type':'application/json','x-vendor-id':_0x3e6982},'body':JSON[_0x4f345e(0x30b)]({'input':_0x1879a3})}),_0x1d37d5=(await _0x4f65e0['json']())[_0x4f345e(0xaae)][0x0][_0x4f345e(0x87d)];await _0x5d2c78[_0x4f345e(0x3e6)]({'jobType':_0x478bd1['Retrieve'],'type':_0x27ce33[_0x4f345e(0x631)],'jobId':_0x4d3fbe,'threadId':_0x26d9c1,'blockId':_0xaed71e['id'],'traceLevel':_0xe54e92[_0x4f345e(0x431)],'startTime':_0x3f3202,'timestamp':Date[_0x4f345e(0x85a)](),'status':_0x4f345e(0x816),'modelName':_0x5392d5['id'],'content':_0x1879a3,'totalVectors':_0x1d37d5[_0x4f345e(0xa20)]}),await _0x299bd6(_0x3e6982,_0x4d3fbe,_0x26d9c1,_0x1d37d5,_0x565b54,_0xaed71e,_0x37f6a8,_0x488e51);}(_0x435d63,_0x5eb4df,_0xac90b8,_0x347032,_0x42a3fc,_0x50a056,_0x13bf0f,_0x4bf3ee,_0x541123);}}async function _0x1cca38(_0x52a857,_0x5ef831,_0x9c550a,_0x56c427,_0x39f681,_0x57bbe7,_0x5d165e,_0x3b0142){const _0x40085d=_0x128a0b,_0x17506b=Date[_0x40085d(0x85a)]();if(_0x57bbe7[_0x40085d(0x22c)]||(_0x57bbe7[_0x40085d(0x22c)]={}),_0x56c427 instanceof Array?(_0x57bbe7[_0x40085d(0x22c)][_0x40085d(0x5df)]||(_0x57bbe7[_0x40085d(0x22c)]['results']=[]),_0x57bbe7[_0x40085d(0x22c)][_0x40085d(0x5df)][_0x40085d(0xa98)](..._0x56c427)):_0x57bbe7[_0x40085d(0x22c)]['prompt']=_0x56c427,_0x57bbe7[_0x40085d(0x92b)]=_0x57bbe7['timesCalled']?_0x57bbe7[_0x40085d(0x92b)]+0x1:0x1,_0x1d338a(_0x57bbe7,_0x5d165e)>_0x57bbe7[_0x40085d(0x92b)])return;if(!_0x57bbe7[_0x40085d(0x22c)]['prompt']||!_0x57bbe7[_0x40085d(0x22c)]['results'])throw new Error(_0x40085d(0x2fa));for(const _0x159165 of _0x57bbe7[_0x40085d(0x22c)][_0x40085d(0x5df)])_0x159165[_0x40085d(0x796)]=await _0x3b0142[_0x40085d(0x2dc)][_0x40085d(0x934)](_0x57bbe7[_0x40085d(0x22c)][_0x40085d(0x5c9)],_0x159165[_0x40085d(0x95d)]);const _0x5a040a=_0x57bbe7[_0x40085d(0x22c)][_0x40085d(0x5df)][_0x40085d(0x2ca)](_0x244594=>_0x244594['relevance']>_0x57bbe7['attributes']['minRelevance'])['sort']((_0x45abaf,_0x126649)=>_0x126649[_0x40085d(0x796)]-_0x45abaf[_0x40085d(0x796)])[_0x40085d(0x659)](0x0,_0x57bbe7[_0x40085d(0x80e)][_0x40085d(0x9b9)]);await _0x5d2c78[_0x40085d(0x3e6)]({'jobType':_0x478bd1[_0x40085d(0x984)],'type':_0x27ce33['Reranker'],'jobId':_0x5ef831,'threadId':_0x9c550a,'blockId':_0x57bbe7['id'],'traceLevel':_0xe54e92[_0x40085d(0x431)],'startTime':_0x17506b,'timestamp':Date['now'](),'status':_0x40085d(0x816),'inputResults':_0x57bbe7[_0x40085d(0x22c)][_0x40085d(0x5df)],'rerankedResults':_0x5a040a}),await _0x299bd6(_0x52a857,_0x5ef831,_0x9c550a,_0x5a040a,_0x39f681,_0x57bbe7,_0x5d165e,_0x3b0142);}async function _0x8920ad(_0x796b8e,_0xbbcd06,_0x45d760,_0x4310c6,_0x49bc25,_0x1e5828,_0x31a40e,_0x35c6c5){const _0x446ba4=_0x128a0b,_0x5047c7=Date[_0x446ba4(0x85a)]();if(_0x1e5828['accumulated']||(_0x1e5828['accumulated']={}),_0x4310c6 instanceof Array?_0x1e5828[_0x446ba4(0x22c)]['vector']=_0x4310c6:_0x1e5828[_0x446ba4(0x22c)][_0x446ba4(0x95d)]=_0x4310c6,_0x1e5828[_0x446ba4(0x92b)]=_0x1e5828[_0x446ba4(0x92b)]?_0x1e5828[_0x446ba4(0x92b)]+0x1:0x1,_0x1d338a(_0x1e5828,_0x31a40e)>_0x1e5828[_0x446ba4(0x92b)])return;if(!_0x1e5828['accumulated'][_0x446ba4(0x945)]||!_0x1e5828[_0x446ba4(0x22c)][_0x446ba4(0x95d)])throw new Error(_0x446ba4(0x629));const _0x4f65d4=await _0x35c6c5[_0x446ba4(0x2dc)]['getEntities'](_0x1e5828['accumulated']['content'],{'ner':!0x1,'noun':!0x0,'propn':!0x1,'verb':!0x1}),_0x17f150=_0x35c6c5[_0x446ba4(0x2b1)][_0x446ba4(0x378)](_0x1e5828['id'])['search'](_0x4f65d4,_0x1e5828['accumulated'][_0x446ba4(0x945)],_0x1e5828['attributes'][_0x446ba4(0x9b9)],_0x1e5828['attributes'][_0x446ba4(0x2d3)],_0x1e5828['attributes'][_0x446ba4(0x805)]);await _0x5d2c78[_0x446ba4(0x3e6)]({'jobType':_0x478bd1[_0x446ba4(0x984)],'type':_0x27ce33[_0x446ba4(0x436)],'jobId':_0xbbcd06,'threadId':_0x45d760,'blockId':_0x1e5828['id'],'traceLevel':_0xe54e92[_0x446ba4(0x431)],'startTime':_0x5047c7,'timestamp':Date[_0x446ba4(0x85a)](),'status':'success','topResults':_0x17f150,'numResults':_0x17f150['length']}),await _0x299bd6(_0x796b8e,_0xbbcd06,_0x45d760,_0x17f150,_0x49bc25,_0x1e5828,_0x31a40e,_0x35c6c5);}async function _0x299bd6(_0xb95fb1,_0x4c8658,_0x2b8b33,_0x3badac,_0xc0e195,_0x1e9474,_0x3de2c3,_0x47672d){const _0x46b280=_0x128a0b;for(const _0x1ec856 of _0x1e9474[_0x46b280(0x206)]||[]){const _0x8a76ec=_0x3de2c3[_0x46b280(0x5cf)](_0x280ed9=>_0x280ed9[_0x46b280(0x997)]===_0x1ec856[_0x46b280(0x997)]);if(_0x8a76ec)switch(_0x8a76ec[_0x46b280(0x7dd)]){case _0x23bc16[_0x46b280(0xaa9)]:_0x1ec856['type']===_0x39db15['Search']&&_0x3badac instanceof Array&&_0xc0e195['context']['push'](..._0x3badac);break;case _0x23bc16[_0x46b280(0x88a)]:_0x1ec856[_0x46b280(0x7dd)]===_0x39db15[_0x46b280(0xafa)]&&_0x46b280(0x55c)==typeof _0x3badac&&await _0x57b200(_0xb95fb1,_0x4c8658,_0x2b8b33,_0x3badac,_0xc0e195,_0x8a76ec,_0x3de2c3,_0x47672d),_0x1ec856[_0x46b280(0x7dd)]===_0x39db15[_0x46b280(0x27c)]&&_0x3badac instanceof Array&&await _0x57b200(_0xb95fb1,_0x4c8658,_0x2b8b33,_0x3badac,_0xc0e195,_0x8a76ec,_0x3de2c3,_0x47672d);break;case _0x23bc16['GraphDatabase']:_0x1ec856[_0x46b280(0x7dd)]===_0x39db15['Text']&&'string'==typeof _0x3badac&&await _0x4ad33a(_0xb95fb1,_0x4c8658,_0x2b8b33,_0x3badac,_0xc0e195,_0x8a76ec,_0x3de2c3,_0x47672d),_0x1ec856['type']===_0x39db15[_0x46b280(0x27c)]&&_0x3badac instanceof Array&&await _0x4ad33a(_0xb95fb1,_0x4c8658,_0x2b8b33,_0x3badac,_0xc0e195,_0x8a76ec,_0x3de2c3,_0x47672d),_0x1ec856[_0x46b280(0x7dd)]===_0x39db15['Entity']&&_0x3badac instanceof Set&&await _0x4ad33a(_0xb95fb1,_0x4c8658,_0x2b8b33,_0x3badac,_0xc0e195,_0x8a76ec,_0x3de2c3,_0x47672d);break;case _0x23bc16[_0x46b280(0x6a9)]:_0x1ec856[_0x46b280(0x7dd)]===_0x39db15['Text']&&_0x46b280(0x55c)==typeof _0x3badac&&await _0x5c32b0(_0xb95fb1,_0x4c8658,_0x2b8b33,_0x3badac,_0xc0e195,_0x8a76ec,_0x3de2c3,_0x47672d),_0x1ec856[_0x46b280(0x7dd)]===_0x39db15[_0x46b280(0x27c)]&&_0x3badac instanceof Array&&await _0x5c32b0(_0xb95fb1,_0x4c8658,_0x2b8b33,_0x3badac,_0xc0e195,_0x8a76ec,_0x3de2c3,_0x47672d);break;case _0x23bc16[_0x46b280(0x64c)]:_0x1ec856[_0x46b280(0x7dd)]===_0x39db15[_0x46b280(0xafa)]&&'string'==typeof _0x3badac&&await _0x1cca38(_0xb95fb1,_0x4c8658,_0x2b8b33,_0x3badac,_0xc0e195,_0x8a76ec,_0x3de2c3,_0x47672d),_0x1ec856[_0x46b280(0x7dd)]===_0x39db15[_0x46b280(0x27c)]&&_0x3badac instanceof Array&&await _0x1cca38(_0xb95fb1,_0x4c8658,_0x2b8b33,_0x3badac,_0xc0e195,_0x8a76ec,_0x3de2c3,_0x47672d);break;case _0x23bc16[_0x46b280(0x56f)]:_0x1ec856['type']===_0x39db15['Text']&&_0x46b280(0x55c)==typeof _0x3badac&&await _0x8920ad(_0xb95fb1,_0x4c8658,_0x2b8b33,_0x3badac,_0xc0e195,_0x8a76ec,_0x3de2c3,_0x47672d),_0x1ec856[_0x46b280(0x7dd)]===_0x39db15[_0x46b280(0x2e6)]&&_0x3badac instanceof Array&&await _0x8920ad(_0xb95fb1,_0x4c8658,_0x2b8b33,_0x3badac,_0xc0e195,_0x8a76ec,_0x3de2c3,_0x47672d);}}}function _0x1d338a(_0x40bb3a,_0x5a3a21){const _0x2cf2ab=_0x128a0b;return _0x5a3a21['filter'](_0x3ca950=>_0x3ca950[_0x2cf2ab(0x206)]?.[_0x2cf2ab(0x3c5)](_0x25f222=>_0x25f222['uid']===_0x40bb3a['uid']))[_0x2cf2ab(0xa20)];}const _0x50044e=require('rxjs/operators');class _0x311e96{[_0x128a0b(0x4d1)];constructor(){const _0x48c876=_0x128a0b;this[_0x48c876(0x4d1)]=new _0x5ae861['Subject']();}['emit'](_0x54d749){const _0xda23e9=_0x128a0b;this['subject'][_0xda23e9(0x20a)](_0x54d749);}async[_0x128a0b(0x943)](){const _0x3bffda=_0x128a0b;return(0x0,_0x5ae861['firstValueFrom'])(this[_0x3bffda(0x4d1)]['pipe']((0x0,_0x50044e[_0x3bffda(0x819)])(0x1)));}}async function _0x3af427(_0x564a8c,_0x17a877,_0x4fc14a,_0x37a3c0){const _0x410911=_0x128a0b;if(0x0===_0x564a8c[_0x410911(0xa20)])return;let _0x5d68a8=_0x410911(0x4b6);for(const _0x47caf6 of _0x564a8c)if(_0x47caf6[_0x410911(0x7dd)]['startsWith'](_0x410911(0x81b))||_0x1f29b4(_0x47caf6[_0x410911(0x3d4)],_0x327976))_0x5d68a8+='\x0a<'+_0x47caf6[_0x410911(0x3d4)]+'>\x0a'+await _0x47caf6[_0x410911(0x992)]()+'\x0a</'+_0x47caf6[_0x410911(0x3d4)]+'>';else{if(!_0x37a3c0[_0x410911(0x193)][_0x410911(0x42a)](_0x47caf6))throw new Error(_0x410911(0x67d)+_0x47caf6[_0x410911(0x7dd)]+_0x410911(0x69f)+_0x47caf6['name']);_0x5d68a8+='\x0a<'+_0x47caf6[_0x410911(0x3d4)]+'>\x0a'+await _0x37a3c0[_0x410911(0x193)][_0x410911(0x562)](_0x47caf6)+_0x410911(0x395)+_0x47caf6[_0x410911(0x3d4)]+'>';}_0x5d68a8+='\x0a</uploaded-files>';}async function _0x509d54(_0x5ee5bf,_0x14c1c5,_0x15e890,_0x5bb583,_0x464409,_0x3c3c45,_0xeeaee1,_0x57e096,_0x17497e){const _0x4e58e6=_0x128a0b;if(_0x3c3c45['accumulated']||(_0x3c3c45[_0x4e58e6(0x22c)]={}),_0x14c1c5===_0x39db15[_0x4e58e6(0xafa)]&&'string'==typeof _0x15e890&&(_0x3c3c45['accumulated'][_0x4e58e6(0x5c9)]||(_0x3c3c45[_0x4e58e6(0x22c)][_0x4e58e6(0x5c9)]=[]),_0x3c3c45[_0x4e58e6(0x22c)][_0x4e58e6(0x5c9)]['push'](_0x15e890)),_0x3c3c45[_0x4e58e6(0x92b)]=_0x3c3c45[_0x4e58e6(0x92b)]?_0x3c3c45[_0x4e58e6(0x92b)]+0x1:0x1,_0x43df6a(_0x3c3c45,_0xeeaee1)>_0x3c3c45[_0x4e58e6(0x92b)])return;if(_0x265260['forceLog'](_0x4e58e6(0x215)+_0x3c3c45[_0x4e58e6(0x3d4)],_0x3c3c45[_0x4e58e6(0x92b)]),!_0x3c3c45[_0x4e58e6(0x22c)][_0x4e58e6(0x5c9)])throw new Error(_0x4e58e6(0x6fd)+_0x3c3c45['name']);const _0xa99934=_0x57e096[_0x4e58e6(0x4ff)][_0x4e58e6(0x5cf)](_0x36585f=>_0x36585f['id']===_0x3c3c45[_0x4e58e6(0x701)]);if(!_0xa99934)throw new Error(_0x4e58e6(0x461)+_0x3c3c45[_0x4e58e6(0x701)]);const _0x4edf3a=Date[_0x4e58e6(0x85a)](),_0x22c3a2=(0x0,_0x49421a['v4'])();let _0x395556='',_0x19ee12=0x0,_0x3dc68b=0x0;const _0x4ccb97=[],_0x2ce02e=function(_0x34f55e,_0x416522,_0x31fb7d){const _0x18333f=_0x4e58e6;if(_0x31fb7d[_0x18333f(0x80f)]){const _0x7cf151=_0x31fb7d[_0x18333f(0x80f)][_0x18333f(0x302)](',');for(const _0x21bc2c of _0x7cf151)_0x416522[_0x18333f(0x5bd)]?.[_0x21bc2c]&&(_0x34f55e='<'+_0x21bc2c+'>'+_0x416522[_0x18333f(0x5bd)][_0x21bc2c]+'</'+_0x21bc2c+_0x18333f(0x78f)+_0x34f55e);}return _0x34f55e;}(_0x3c3c45[_0x4e58e6(0x22c)][_0x4e58e6(0x5c9)][_0x4e58e6(0x406)]('\x0a\x0a'),_0x464409,_0x3c3c45);if(_0x4ccb97['push']({'role':'system','content':_0x21eba6(_0x5bb583[_0x4e58e6(0x414)]??'',_0x3c3c45,_0xa99934)}),_0x4ccb97['push'](..._0x5bb583[_0x4e58e6(0x58d)]?.[_0x4e58e6(0x8ac)](_0x517005=>({'role':_0x517005[_0x4e58e6(0x8f9)]===_0x16f74[_0x4e58e6(0x248)][_0x4e58e6(0x738)]?'user':_0x4e58e6(0x2ef),'content':_0x517005[_0x4e58e6(0x94c)]}))??[]),_0x4ccb97['push']({'role':_0x4e58e6(0x54f),'content':_0x2ce02e}),_0x17497e){const _0x5ddcc5=_0x3c3c45[_0x4e58e6(0x206)]?.[_0x4e58e6(0x3c5)](_0x3f3511=>{const _0x3ce882=_0x4e58e6,_0x46064e=_0xeeaee1['find'](_0x784c07=>_0x784c07[_0x3ce882(0x997)]===_0x3f3511[_0x3ce882(0x997)]);return!!_0x46064e&&_0x3f3511[_0x3ce882(0x7dd)]===_0x39db15[_0x3ce882(0xafa)]&&_0x46064e[_0x3ce882(0x7dd)]===_0x20eebd[_0x3ce882(0x8d4)];})??!0x1,_0x482d74=_0xeeaee1[_0x4e58e6(0x2ca)](_0x4a129d=>_0x4a129d[_0x4e58e6(0x206)]?.['some'](_0x183f2f=>_0x183f2f[_0x4e58e6(0x997)]===_0x3c3c45[_0x4e58e6(0x997)]&&_0x183f2f[_0x4e58e6(0x7dd)]===_0x39db15['Tool'])),_0x4dcac4=await fetch(_0x4106b9[_0x4e58e6(0x5f0)]+_0x4e58e6(0x7a3),{'method':_0x4e58e6(0x3c6),'headers':{'Accept':_0x4e58e6(0x357),'Content-Type':'application/json','x-vendor-id':_0x5bb583[_0x4e58e6(0x61b)]},'body':JSON[_0x4e58e6(0x30b)]({'model':_0x3c3c45[_0x4e58e6(0x701)],'messages':_0x4ccb97,'max_completion_tokens':_0x3c3c45[_0x4e58e6(0xa78)],'temperature':_0x3c3c45['temperature'],'stream':!0x0,'stream_options':{'include_usage':!0x0},'tools':_0x482d74[_0x4e58e6(0x8ac)](_0x141957=>({'type':_0x141957[_0x4e58e6(0x7dd)],'name':_0x141957[_0x4e58e6(0x3d4)]??'','description':_0x141957[_0x4e58e6(0x8fc)]??'','parameters':_0x141957[_0x4e58e6(0x781)]??[],'headers':_0x141957[_0x4e58e6(0x24f)]??[],'queryParameters':_0x141957[_0x4e58e6(0xaab)]??[],'bodyParameters':_0x141957['bodyParameters']??[],'endpointUrl':_0x141957[_0x4e58e6(0x2b9)]??'','endpointMethod':_0x141957['endpointMethod']??'','modelId':_0x141957[_0x4e58e6(0x408)]??'','instructions':_0x141957[_0x4e58e6(0x414)]??'','maxTokens':_0x141957['maxTokens']??0x0,'temperature':_0x141957[_0x4e58e6(0x8f2)]??0x0,'collectionId':_0x141957[_0x4e58e6(0x7dd)]===_0x20eebd[_0x4e58e6(0x4f2)]||_0x141957['type']===_0x20eebd[_0x4e58e6(0xb0b)]?_0x141957['id']:''}))})});if(!_0x4dcac4['body'])throw new Error(_0x4e58e6(0x485));const _0x74607b=_0x4dcac4[_0x4e58e6(0x891)][_0x4e58e6(0x3ce)](),_0x4cf386=new TextDecoder();for(;;){const {value:_0x2c9164,done:_0x591ee2}=await _0x74607b[_0x4e58e6(0x1d9)]();if(_0x591ee2)break;const _0x151328=_0x4cf386[_0x4e58e6(0x7d9)](_0x2c9164,{'stream':!0x0});if(_0x4e58e6(0x5cc)===_0x151328)break;const _0x2631b3=_0x151328[_0x4e58e6(0x302)]('\x0a\x0adata:\x20')[_0x4e58e6(0x8ac)](_0xaf15a0=>_0xaf15a0['replace'](_0x4e58e6(0x73a),'')[_0x4e58e6(0xad0)]())[_0x4e58e6(0x2ca)](_0x1c48ba=>''!==_0x1c48ba)[_0x4e58e6(0x8ac)](_0x1007f7=>{const _0x3df8dd=_0x4e58e6;if(_0x3df8dd(0x478)===_0x1007f7)return null;try{return JSON['parse'](_0x1007f7);}catch(_0xcd59fc){return console[_0x3df8dd(0x5b5)](_0x3df8dd(0x2b6),_0x1007f7),null;}})[_0x4e58e6(0x2ca)](_0x118d98=>null!==_0x118d98);for(const _0x5a97e8 of _0x2631b3)_0x5a97e8['choices']&&_0x5a97e8[_0x4e58e6(0x19b)][0x0]&&(_0x5ddcc5&&''!==_0x5a97e8[_0x4e58e6(0x19b)][0x0][_0x4e58e6(0xaf1)][_0x4e58e6(0x95d)]&&(_0x395556+=_0x5a97e8[_0x4e58e6(0x19b)][0x0][_0x4e58e6(0xaf1)][_0x4e58e6(0x95d)]??'',_0x17497e['emit']({'output':_0x5a97e8[_0x4e58e6(0x19b)][0x0][_0x4e58e6(0xaf1)][_0x4e58e6(0x95d)],'type':_0x4e58e6(0x5c9)}),await _0x52452b['wait'](0x1)),_0x395556+=_0x5a97e8[_0x4e58e6(0x19b)][0x0][_0x4e58e6(0xaf1)][_0x4e58e6(0x95d)]??'',_0x19ee12=_0x5a97e8[_0x4e58e6(0x6a8)]?.[_0x4e58e6(0x3ff)]??0x0,_0x3dc68b=_0x5a97e8[_0x4e58e6(0x6a8)]?.[_0x4e58e6(0x3db)]??0x0);}_0x5ddcc5||_0x17497e[_0x4e58e6(0x421)]({'output':'','type':_0x4e58e6(0x5c9)});}else{const _0x537861=await fetch(_0x4106b9[_0x4e58e6(0x5f0)]+_0x4e58e6(0x7a3),{'method':_0x4e58e6(0x3c6),'headers':{'Content-Type':'application/json','x-vendor-id':_0x5bb583['vendorId']},'body':JSON['stringify']({'model':_0x3c3c45['modelId'],'messages':_0x4ccb97,'max_completion_tokens':_0x3c3c45[_0x4e58e6(0xa78)],'temperature':_0x3c3c45['temperature']})}),_0x5e7402=await _0x537861[_0x4e58e6(0x46f)]();_0x395556=_0x5e7402[_0x4e58e6(0x19b)][0x0][_0x4e58e6(0x94c)]['content'],_0x19ee12=_0x5e7402[_0x4e58e6(0x6a8)][_0x4e58e6(0x3ff)],_0x464409[_0x4e58e6(0x600)]=_0x5e7402[_0x4e58e6(0x6a8)][_0x4e58e6(0x3db)];}_0x3c3c45[_0x4e58e6(0x930)]&&(_0x464409[_0x4e58e6(0x5bd)]||(_0x464409[_0x4e58e6(0x5bd)]={}),_0x464409['internalContext'][_0x3c3c45[_0x4e58e6(0x930)]]=_0x395556),await _0x5d2c78[_0x4e58e6(0x3e6)]({'jobType':_0x478bd1[_0x4e58e6(0x1d2)],'type':_0x33fc83['IntermediateOutput'],'jobId':_0x5ee5bf,'agentId':_0x22c3a2,'threadId':_0x5bb583[_0x4e58e6(0xaca)],'traceLevel':_0xe54e92['Info'],'startTime':_0x4edf3a,'timestamp':Date[_0x4e58e6(0x85a)](),'blockId':_0x3c3c45['id'],'status':_0x4e58e6(0x816),'output':_0x395556,'prompt':_0x2ce02e,'agentName':_0x3c3c45[_0x4e58e6(0x3d4)],'history':[],'instructions':''+_0x3c3c45[_0x4e58e6(0x414)]+(_0x5bb583[_0x4e58e6(0x414)]??''),'ragContext':[],'inputTokens':_0x19ee12??0x0,'outputTokens':_0x3dc68b??0x0}),await _0xe50c7e(_0x5ee5bf,_0x395556,_0x5bb583,_0x464409,_0x3c3c45,_0xeeaee1,_0x57e096,_0x17497e);}function _0x21eba6(_0x1302b6,_0x886556,_0x1d536d){const _0x2b99c8=_0x128a0b;let _0x52f9e1='';return _0x1d536d[_0x2b99c8(0xb0d)]&&''!==_0x1d536d['knowledgeCutoffDate']&&(_0x52f9e1='Knowledge\x20Cutoff\x20Date:\x20'+_0x1d536d[_0x2b99c8(0xb0d)]+'\x0a\x0a'),_0x52f9e1=_0x52f9e1+'Today\x20Date:\x20'+new Date()[_0x2b99c8(0x87e)](void 0x0,{'weekday':_0x2b99c8(0x688),'year':_0x2b99c8(0x1f6),'month':_0x2b99c8(0x688),'day':'numeric'})+'\x0a\x0a',''+_0x52f9e1+_0x886556['instructions']+_0x1302b6;}async function _0x11b117(_0x107d44,_0x1a6418,_0xc620d3,_0x2145fe,_0x6e08ec,_0x129ad0,_0x5787db,_0x14008e){const _0x26358e=function(_0x5a30b3,_0x94ce13){const _0x5c5069=a0_0xdea0,_0x56f0c3=[];for(let _0x43245e=0x0;_0x43245e<_0x5a30b3[_0x5c5069(0xa20)];_0x43245e+=_0x94ce13[_0x5c5069(0x80e)]['size']){let _0x38f069=_0x43245e-_0x94ce13['attributes'][_0x5c5069(0x715)];_0x38f069<0x0&&(_0x38f069=0x0);let _0x49c68b=_0x43245e+_0x94ce13[_0x5c5069(0x80e)][_0x5c5069(0x388)]+_0x94ce13[_0x5c5069(0x80e)][_0x5c5069(0x715)];_0x49c68b>_0x5a30b3[_0x5c5069(0xa20)]&&(_0x49c68b=_0x5a30b3[_0x5c5069(0xa20)]),length||(length=_0x43245e+_0x94ce13[_0x5c5069(0x80e)][_0x5c5069(0x388)],length>_0x5a30b3['length']&&(length=_0x5a30b3[_0x5c5069(0xa20)])),_0x56f0c3[_0x5c5069(0xa98)](_0x5a30b3['substring'](_0x38f069,_0x49c68b));}return _0x56f0c3;}(_0x1a6418,_0x6e08ec);await _0xe50c7e(_0x107d44,_0x26358e,_0xc620d3,_0x2145fe,_0x6e08ec,_0x129ad0,_0x5787db,_0x14008e);}async function _0xf2a57d(_0x5e40ae,_0x530429,_0x51f0e7,_0x21c564,_0x5c2fd5,_0x1bf7d3,_0x458d93,_0x19cfc0){const _0x482d35=_0x128a0b;if(_0x5c2fd5['accumulated']||(_0x5c2fd5[_0x482d35(0x22c)]={}),_0x5c2fd5[_0x482d35(0x22c)][_0x482d35(0x2ad)]||(_0x5c2fd5[_0x482d35(0x22c)][_0x482d35(0x2ad)]=[]),_0x530429 instanceof Array?_0x5c2fd5[_0x482d35(0x22c)][_0x482d35(0x2ad)][_0x482d35(0xa98)](..._0x530429):_0x5c2fd5['accumulated'][_0x482d35(0x2ad)][_0x482d35(0xa98)](_0x530429),_0x5c2fd5[_0x482d35(0x92b)]=_0x5c2fd5[_0x482d35(0x92b)]?_0x5c2fd5['timesCalled']+0x1:0x1,_0x43df6a(_0x5c2fd5,_0x1bf7d3)>_0x5c2fd5[_0x482d35(0x92b)])return;if(0x0===_0x5c2fd5[_0x482d35(0x22c)]['queries'][_0x482d35(0xa20)])throw new Error(_0x482d35(0x648));let _0x1dcb22=[];const _0x5ae870=Date[_0x482d35(0x85a)]();try{let _0xbf26c0=0x0,_0x176429=0x0;for(const _0x10e4c0 of _0x5c2fd5['accumulated'][_0x482d35(0x2ad)]){const _0x33b224=await fetch(_0x4106b9[_0x482d35(0x5f0)]+_0x482d35(0x534)+_0x5c2fd5['id']+_0x482d35(0x72f),{'method':_0x482d35(0x3c6),'headers':{'Content-Type':_0x482d35(0x18b),'x-vendor-id':_0x51f0e7[_0x482d35(0x61b)]},'body':JSON[_0x482d35(0x30b)]({'query':_0x10e4c0})}),_0x5832df=((await _0x33b224[_0x482d35(0x46f)]())[_0x482d35(0xaae)]??[])[_0x482d35(0x8ac)](_0x2cb6ea=>({'pathName':_0x2cb6ea[_0x482d35(0x25f)],'relevance':_0x2cb6ea[_0x482d35(0x4b8)],'content':_0x2cb6ea['content'][_0x482d35(0x992)]}));_0x1dcb22=Array[_0x482d35(0x1ec)](new Set([..._0x1dcb22,..._0x5832df])),_0xbf26c0+=_0x5832df[_0x482d35(0x267)]??0x0,_0x176429+=_0x5832df[_0x482d35(0x600)]??0x0;}_0x21c564[_0x482d35(0x267)]+=_0xbf26c0,_0x21c564[_0x482d35(0x600)]+=_0x176429,_0x21c564[_0x482d35(0x1c1)]=Array[_0x482d35(0x1ec)](new Set([..._0x21c564['context'],..._0x1dcb22])),await _0x5d2c78[_0x482d35(0x3e6)]({'jobType':_0x478bd1[_0x482d35(0x1d2)],'type':_0x33fc83[_0x482d35(0x4f2)],'jobId':_0x5e40ae,'threadId':_0x51f0e7['threadId'],'traceLevel':_0xe54e92[_0x482d35(0x839)],'startTime':_0x5ae870,'timestamp':Date[_0x482d35(0x85a)](),'blockId':_0x5c2fd5['id'],'status':_0x482d35(0x816),'queries':_0x5c2fd5[_0x482d35(0x22c)]['queries'],'context':_0x1dcb22,'inputTokens':_0xbf26c0,'outputTokens':_0x176429});}catch(_0x25a16b){console[_0x482d35(0x5b5)](_0x25a16b),await _0x5d2c78[_0x482d35(0x3e6)]({'jobType':_0x478bd1[_0x482d35(0x1d2)],'type':_0x33fc83[_0x482d35(0x4f2)],'jobId':_0x5e40ae,'threadId':_0x51f0e7['threadId'],'traceLevel':_0xe54e92[_0x482d35(0x839)],'startTime':_0x5ae870,'timestamp':Date[_0x482d35(0x85a)](),'blockId':_0x5c2fd5['id'],'status':_0x482d35(0x5b5),'queries':_0x5c2fd5[_0x482d35(0x22c)][_0x482d35(0x2ad)],'context':[],'inputTokens':0x0,'outputTokens':0x0});}await _0xe50c7e(_0x5e40ae,'',_0x51f0e7,_0x21c564,_0x5c2fd5,_0x1bf7d3,_0x458d93,_0x19cfc0);}async function _0x1d5e28(_0x85de1b,_0xe28fac,_0x5b26b5,_0x12e8ad,_0x4a1a99,_0x498104,_0x77816,_0x4db323){const _0x51b6b1=_0x128a0b,_0x1f1b11=await _0x77816[_0x51b6b1(0x2dc)]['getSentences'](_0xe28fac);await _0xe50c7e(_0x85de1b,_0x1f1b11,_0x5b26b5,_0x12e8ad,_0x4a1a99,_0x498104,_0x77816,_0x4db323);}async function _0x5bee48(_0x4e7bc7,_0x28d18b,_0x4f8d1d,_0x5dc660,_0x593201,_0x4110c2,_0x230ccd,_0x30c1a9){const _0x3fa70f=function(_0x3c65e4,_0x18e658){const _0x2d8e77=a0_0xdea0,_0x5ad222=[],_0x30a44c=_0x3c65e4['split']('\x20');let _0x55c66a='',_0x4c0e87=0x0,_0x594dd0=0x0,_0x178af8=0x0;for(const _0x137005 of _0x30a44c){if(_0x55c66a[_0x2d8e77(0xa20)]+_0x137005['length']>_0x18e658[_0x2d8e77(0x80e)][_0x2d8e77(0x388)]){let _0x139964=_0x4c0e87,_0x4ca1a2='';for(;_0x139964>=0x0&&_0x4ca1a2[_0x2d8e77(0xa20)]+_0x30a44c[_0x139964][_0x2d8e77(0xa20)]<_0x18e658[_0x2d8e77(0x80e)][_0x2d8e77(0x715)];)_0x4ca1a2=_0x30a44c[_0x139964]+'\x20'+_0x4ca1a2,_0x139964--;let _0x3a0adf=_0x594dd0,_0x9eacc='';for(;_0x3a0adf<_0x30a44c[_0x2d8e77(0xa20)]&&_0x9eacc[_0x2d8e77(0xa20)]+_0x30a44c[_0x3a0adf]['length']<_0x18e658['attributes'][_0x2d8e77(0x715)];)_0x9eacc+=_0x30a44c[_0x3a0adf]+'\x20',_0x3a0adf++;_0x55c66a=_0x4ca1a2+_0x55c66a+_0x9eacc,_0x5ad222[_0x2d8e77(0xa98)](_0x55c66a['trim']()),_0x55c66a='',_0x4c0e87=_0x594dd0;}_0x55c66a+=_0x137005+'\x20',_0x594dd0++,_0x178af8+=_0x137005['length']+0x1;}if(_0x55c66a[_0x2d8e77(0xa20)]>0x0){let _0x3dcb4c=_0x4c0e87,_0x56a98a='';for(;_0x3dcb4c>=0x0&&_0x56a98a[_0x2d8e77(0xa20)]+_0x30a44c[_0x3dcb4c][_0x2d8e77(0xa20)]<_0x18e658[_0x2d8e77(0x80e)][_0x2d8e77(0x715)];)_0x56a98a=_0x30a44c[_0x3dcb4c]+'\x20'+_0x56a98a,_0x3dcb4c--;_0x55c66a=_0x56a98a+_0x55c66a,_0x5ad222['push'](_0x55c66a['trim']());}return _0x5ad222;}(_0x28d18b,_0x593201);await _0xe50c7e(_0x4e7bc7,_0x3fa70f,_0x4f8d1d,_0x5dc660,_0x593201,_0x4110c2,_0x230ccd,_0x30c1a9);}async function _0xe50c7e(_0x830314,_0x402f7b,_0xd7a335,_0x30e682,_0x5c2971,_0x204aa5,_0x78592d,_0x4b1b36){const _0xc051cb=_0x128a0b;if(await _0x52452b[_0xc051cb(0x252)](0x1),_0x5c2971[_0xc051cb(0x206)]){for(const _0x55c218 of _0x5c2971[_0xc051cb(0x206)]){if(_0x55c218[_0xc051cb(0x7dd)]===_0x39db15['Context'])continue;const _0x6b8be7=_0x204aa5[_0xc051cb(0x5cf)](_0x3954f4=>_0x3954f4['uid']===_0x55c218['uid']);if(_0x6b8be7)switch(_0x6b8be7['type']){case _0x20eebd[_0xc051cb(0x1ae)]:_0x55c218[_0xc051cb(0x7dd)]!==_0x39db15['Text']&&_0x55c218['type']!==_0x39db15[_0xc051cb(0x987)]||_0xc051cb(0x55c)!=typeof _0x402f7b||await _0x509d54(_0x830314,_0x55c218[_0xc051cb(0x7dd)],_0x402f7b,_0xd7a335,_0x30e682,_0x6b8be7,_0x204aa5,_0x78592d,_0x4b1b36),_0x55c218[_0xc051cb(0x7dd)]===_0x39db15[_0xc051cb(0x520)]&&_0xc051cb(0x2e9)===_0x402f7b&&await _0x509d54(_0x830314,_0x55c218['type'],_0x402f7b,_0xd7a335,_0x30e682,_0x6b8be7,_0x204aa5,_0x78592d,_0x4b1b36),_0x55c218['type']===_0x39db15[_0xc051cb(0x695)]&&_0xc051cb(0x74a)===_0x402f7b&&await _0x509d54(_0x830314,_0x55c218['type'],_0x402f7b,_0xd7a335,_0x30e682,_0x6b8be7,_0x204aa5,_0x78592d,_0x4b1b36);break;case _0x20eebd['ChunkSplitter']:_0x55c218['type']===_0x39db15[_0xc051cb(0xafa)]&&_0xc051cb(0x55c)==typeof _0x402f7b&&await _0x11b117(_0x830314,_0x402f7b,_0xd7a335,_0x30e682,_0x6b8be7,_0x204aa5,_0x78592d,_0x4b1b36);break;case _0x20eebd[_0xc051cb(0x4f2)]:_0x55c218[_0xc051cb(0x7dd)]===_0x39db15[_0xc051cb(0xafa)]&&_0xc051cb(0x55c)==typeof _0x402f7b&&await _0xf2a57d(_0x830314,_0x402f7b,_0xd7a335,_0x30e682,_0x6b8be7,_0x204aa5,_0x78592d,_0x4b1b36),_0x55c218[_0xc051cb(0x7dd)]===_0x39db15[_0xc051cb(0xafa)]&&_0x402f7b instanceof Array&&await _0xf2a57d(_0x830314,_0x402f7b,_0xd7a335,_0x30e682,_0x6b8be7,_0x204aa5,_0x78592d,_0x4b1b36);break;case _0x20eebd[_0xc051cb(0x500)]:_0x55c218[_0xc051cb(0x7dd)]===_0x39db15['Text']&&_0xc051cb(0x55c)==typeof _0x402f7b&&await _0x1d5e28(_0x830314,_0x402f7b,_0xd7a335,_0x30e682,_0x6b8be7,_0x204aa5,_0x78592d,_0x4b1b36);break;case _0x20eebd['WordSplitter']:_0x55c218['type']===_0x39db15['Text']&&_0xc051cb(0x55c)==typeof _0x402f7b&&await _0x5bee48(_0x830314,_0x402f7b,_0xd7a335,_0x30e682,_0x6b8be7,_0x204aa5,_0x78592d,_0x4b1b36);}}_0x5c2971['type']===_0x20eebd['Prompt']&&_0x4b1b36&&_0x4b1b36[_0xc051cb(0x421)](void 0x0);}else _0x5c2971[_0xc051cb(0x7dd)]===_0x20eebd['Prompt']&&_0x4b1b36&&_0x4b1b36['emit'](void 0x0);}function _0x43df6a(_0x462e24,_0x24702d){const _0x34e5d6=_0x128a0b;let _0x361ce5=0x0;for(const _0x4c9a81 of _0x24702d)for(const _0x16e5f8 of _0x4c9a81[_0x34e5d6(0x206)]??[])_0x16e5f8[_0x34e5d6(0x7dd)]!==_0x39db15[_0x34e5d6(0xaa9)]&&_0x16e5f8[_0x34e5d6(0x7dd)]!==_0x39db15['Tool']&&_0x16e5f8[_0x34e5d6(0x997)]===_0x462e24[_0x34e5d6(0x997)]&&_0x361ce5++;return _0x361ce5;}function _0x84f11e(_0x24b366,_0x3021c4){const _0x371a5b=_0x128a0b;_0x3021c4[_0x371a5b(0x22c)]||(_0x3021c4[_0x371a5b(0x22c)]={}),_0x3021c4[_0x371a5b(0x22c)][_0x371a5b(0x6d4)]=_0x24b366;}async function _0xc9a8c4(_0x5ee656,_0x566d80,_0x1676f7,_0x544d82){const _0x474a16=_0x128a0b;if(_0x5ee656[_0x474a16(0x6d4)]&&_0x566d80['links']){const _0x5e6253=[];for(const _0x39b4ef of _0x5ee656[_0x474a16(0x6d4)])_0x5e6253[_0x474a16(0xa98)](_0x3376c8(_0x39b4ef));for(const _0x5e9bc5 of _0x566d80[_0x474a16(0x206)])if('file'===_0x5e9bc5[_0x474a16(0x7dd)]){const _0x2cdb40=_0x1676f7['find'](_0x584d04=>_0x584d04[_0x474a16(0x997)]===_0x5e9bc5[_0x474a16(0x997)]);if(!_0x2cdb40)continue;_0x2cdb40[_0x474a16(0x7dd)]===_0x20eebd[_0x474a16(0xa74)]&&await _0x3af427(_0x5e6253,0x0,0x0,_0x544d82),_0x2cdb40[_0x474a16(0x7dd)]===_0x20eebd[_0x474a16(0x2ae)]&&_0x84f11e(_0x5e6253,_0x2cdb40);}}}function _0x3376c8(_0x4262dd){const _0x347567=_0x128a0b,_0xbb3735=atob(_0x4262dd[_0x347567(0x95d)]),_0x163bd0=_0xbb3735[_0x347567(0xa20)],_0x3b2710=new ArrayBuffer(_0x163bd0),_0x41c753=new Uint8Array(_0x3b2710);for(let _0x2393a5=0x0;_0x2393a5<_0x163bd0;_0x2393a5++)_0x41c753[_0x2393a5]=_0xbb3735[_0x347567(0x4d2)](_0x2393a5);return new File([_0x41c753],_0x4262dd['name'],{'type':_0x4262dd[_0x347567(0x7dd)]});}async function _0x33e165(_0x396431,_0x55a03c,_0x301816,_0x5a4031,_0x5dddc8,_0x1ed4a4){const _0x303471=_0x128a0b,_0x5c97fd=_0x303471(0xa5d)+_0x5a4031[_0x303471(0x8fc)]+_0x303471(0x880),_0x472b40={'prompt':{'type':_0x16f74[_0x303471(0x923)][_0x303471(0xa81)]}};return await _0x5d2c78['trace']({'jobType':_0x478bd1[_0x303471(0x1e1)],'type':_0x1ca558[_0x303471(0x63e)],'jobId':_0x396431,'agentId':_0x55a03c,'threadId':_0x301816[_0x303471(0xaca)],'traceLevel':_0xe54e92[_0x303471(0x839)],'startTime':Date[_0x303471(0x85a)](),'timestamp':Date[_0x303471(0x85a)](),'status':_0x303471(0x816),'function':_0x4c1fed[_0x303471(0x647)],'params':_0x472b40,'functionDescription':_0x5c97fd}),{'description':_0x5c97fd,'params':_0x472b40,'callback':async _0x5b358d=>_0x405d(_0x301816[_0x303471(0x61b)],_0x5a4031,_0x5dddc8,_0x5b358d,_0x396431,_0x55a03c,_0x301816[_0x303471(0xaca)],_0x1ed4a4)};}async function _0x405d(_0x47f4e3,_0x2842df,_0x4f8644,_0x2f5c40,_0x257faa,_0x5b4ff9,_0x55c3e8,_0x152c14){const _0x39aaf0=_0x128a0b,_0x7d4153=Date['now']();try{if(_0x39aaf0(0x55c)!=typeof _0x2f5c40?.['prompt'])throw new Error(_0x39aaf0(0x340));if(!_0x4f8644[_0x39aaf0(0x4ff)]['find'](_0x4cf8d1=>_0x4cf8d1['id']===_0x2842df[_0x39aaf0(0x701)]))throw new Error('Model\x20not\x20found');let _0x2cc10a='',_0x3dc39e=[];if(_0x2842df['instructions']&&_0x3dc39e[_0x39aaf0(0xa98)]({'role':_0x39aaf0(0x549),'content':_0x2842df['instructions']}),_0x3dc39e['push']({'role':_0x39aaf0(0x54f),'content':_0x2f5c40[_0x39aaf0(0x5c9)]}),_0x152c14){const _0x3e7692=await fetch(_0x4106b9['apiUrl']+'/chat/completions',{'method':_0x39aaf0(0x3c6),'headers':{'Accept':'text/event-stream','Content-Type':_0x39aaf0(0x18b),'x-vendor-id':_0x47f4e3},'body':JSON[_0x39aaf0(0x30b)]({'model':_0x2842df[_0x39aaf0(0x701)],'messages':_0x3dc39e,'max_completion_tokens':_0x2842df[_0x39aaf0(0xa78)],'temperature':_0x2842df[_0x39aaf0(0x8f2)],'stream':!0x0})});if(!_0x3e7692[_0x39aaf0(0x891)])throw new Error(_0x39aaf0(0x485));const _0x5b73f7=_0x3e7692['body']['getReader'](),_0x75d73=new TextDecoder();for(;;){const {value:_0xf78e9e,done:_0x4bcafb}=await _0x5b73f7[_0x39aaf0(0x1d9)]();if(_0x4bcafb)break;const _0x5797de=JSON[_0x39aaf0(0x562)](_0x75d73[_0x39aaf0(0x7d9)](_0xf78e9e,{'stream':!0x0}));_0x152c14[_0x39aaf0(0x421)]({'output':_0x5797de[_0x39aaf0(0x19b)][0x0]['delta'][_0x39aaf0(0x95d)],'type':_0x39aaf0(0x5c9)}),await _0x52452b[_0x39aaf0(0x252)](0x1),_0x2cc10a=_0x5797de[_0x39aaf0(0x19b)][0x0][_0x39aaf0(0xaf1)][_0x39aaf0(0x95d)];}}else{const _0x23ab46=await fetch(_0x4106b9[_0x39aaf0(0x5f0)]+_0x39aaf0(0x7a3),{'method':_0x39aaf0(0x3c6),'headers':{'Content-Type':'application/json','x-vendor-id':_0x47f4e3},'body':JSON[_0x39aaf0(0x30b)]({'model':_0x2842df[_0x39aaf0(0x701)],'messages':_0x3dc39e,'max_completion_tokens':_0x2842df['maxTokens'],'temperature':_0x2842df[_0x39aaf0(0x8f2)]})});_0x2cc10a=(await _0x23ab46['json']())['choices'][0x0][_0x39aaf0(0x94c)][_0x39aaf0(0x95d)];}if(_0x39aaf0(0x55c)!=typeof _0x2cc10a)throw new Error('Agent\x20output\x20is\x20not\x20a\x20string');return _0x257faa&&_0x5b4ff9&&_0x55c3e8&&await _0x5d2c78[_0x39aaf0(0x3e6)]({'jobType':_0x478bd1['Skill'],'type':_0x4c1fed[_0x39aaf0(0x647)],'jobId':_0x257faa,'blockId':_0x39aaf0(0x5a6),'agentId':_0x5b4ff9,'threadId':_0x55c3e8,'traceLevel':_0xe54e92[_0x39aaf0(0x839)],'startTime':_0x7d4153,'timestamp':Date[_0x39aaf0(0x85a)](),'status':_0x39aaf0(0x816),'agentName':_0x2842df[_0x39aaf0(0x3d4)],'prompt':_0x2f5c40[_0x39aaf0(0x5c9)],'instructions':_0x2842df['instructions']??'','result':_0x2cc10a,'inputTokens':0x0,'outputTokens':0x0}),_0x2cc10a;}catch(_0x2bf4b0){return console[_0x39aaf0(0x5b5)](_0x2bf4b0),_0x257faa&&_0x5b4ff9&&_0x55c3e8&&await _0x5d2c78['trace']({'jobType':_0x478bd1[_0x39aaf0(0x5af)],'type':_0x4c1fed[_0x39aaf0(0x647)],'jobId':_0x257faa,'blockId':_0x39aaf0(0x5a6),'agentId':_0x5b4ff9,'threadId':_0x55c3e8,'traceLevel':_0xe54e92[_0x39aaf0(0x839)],'startTime':_0x7d4153,'timestamp':Date[_0x39aaf0(0x85a)](),'status':'error','errorDetails':_0x584e6b(_0x2bf4b0),'agentName':_0x2842df['name'],'prompt':_0x2f5c40?.[_0x39aaf0(0x5c9)]??'','instructions':_0x2842df[_0x39aaf0(0x414)]??'','result':'','inputTokens':0x0,'outputTokens':0x0}),_0x2bf4b0 instanceof Error?_0x2bf4b0[_0x39aaf0(0x94c)]:_0x39aaf0(0x74e);}}async function _0x3cb5a8(_0xd32be2,_0xe91097,_0x40a5ad,_0x330d72,_0x1eb040){const _0xeae5a5=_0x128a0b,_0x432cc9=Date[_0xeae5a5(0x85a)]();try{if(!_0xd32be2[_0xeae5a5(0x568)])throw new Error(_0xeae5a5(0x238));if('string'!=typeof _0xe91097?.[_0xeae5a5(0x38b)])throw new Error(_0xeae5a5(0x3e4));const _0x5ca216=await _0xd32be2[_0xeae5a5(0x568)][_0xeae5a5(0x50c)](_0xe91097['query']);return _0x40a5ad&&_0x330d72&&_0x1eb040&&await _0x5d2c78[_0xeae5a5(0x3e6)]({'jobType':_0x478bd1[_0xeae5a5(0x5af)],'type':_0x4c1fed[_0xeae5a5(0xad9)],'jobId':_0x40a5ad,'agentId':_0x330d72,'threadId':_0x1eb040,'blockId':_0xeae5a5(0x3bc),'traceLevel':_0xe54e92[_0xeae5a5(0x839)],'startTime':_0x432cc9,'timestamp':Date['now'](),'status':_0xeae5a5(0x816),'query':_0xe91097[_0xeae5a5(0x38b)],'results':_0x5ca216}),_0x5ca216;}catch(_0x3f231c){return console[_0xeae5a5(0x5b5)](_0x3f231c),_0x40a5ad&&_0x330d72&&_0x1eb040&&await _0x5d2c78[_0xeae5a5(0x3e6)]({'jobType':_0x478bd1['Skill'],'type':_0x4c1fed[_0xeae5a5(0xad9)],'jobId':_0x40a5ad,'blockId':'ai-search','traceLevel':_0xe54e92[_0xeae5a5(0x839)],'startTime':_0x432cc9,'timestamp':Date[_0xeae5a5(0x85a)](),'status':_0xeae5a5(0x5b5),'errorDetails':_0x584e6b(_0x3f231c),'agentId':_0x330d72,'threadId':_0x1eb040,'query':_0xe91097?.[_0xeae5a5(0x38b)]??'','results':_0xeae5a5(0x499)}),_0x3f231c instanceof Error?_0x3f231c[_0xeae5a5(0x94c)]:_0xeae5a5(0x499);}}async function _0x328fba(_0x1dbf88,_0x4d39c7,_0x3790f4,_0x541daf){const _0x1f5e67=_0x128a0b,_0x51023a=Date[_0x1f5e67(0x85a)]();try{if(_0x1f5e67(0x55c)!=typeof _0x1dbf88?.[_0x1f5e67(0x1ce)])throw new Error(_0x1f5e67(0x3ef));const _0x3bf024=Function(''+_0x1dbf88?.[_0x1f5e67(0x1ce)])();let _0x4cfc11='';try{_0x4cfc11=JSON[_0x1f5e67(0x30b)](_0x3bf024);}catch{_0x4cfc11=_0x3bf024[_0x1f5e67(0x5da)]();}return _0x4d39c7&&_0x3790f4&&_0x541daf&&await _0x5d2c78[_0x1f5e67(0x3e6)]({'jobType':_0x478bd1[_0x1f5e67(0x5af)],'type':_0x4c1fed[_0x1f5e67(0x52f)],'agentId':_0x3790f4,'threadId':_0x541daf,'jobId':_0x4d39c7,'blockId':_0x1f5e67(0x1ce),'traceLevel':_0xe54e92[_0x1f5e67(0x839)],'startTime':_0x51023a,'timestamp':Date[_0x1f5e67(0x85a)](),'status':_0x1f5e67(0x816),'code':_0x1dbf88[_0x1f5e67(0x1ce)],'result':_0x4cfc11}),_0x3bf024;}catch(_0x40a702){return console[_0x1f5e67(0x5b5)](_0x40a702),_0x4d39c7&&_0x3790f4&&_0x541daf&&await _0x5d2c78[_0x1f5e67(0x3e6)]({'jobType':_0x478bd1[_0x1f5e67(0x5af)],'type':_0x4c1fed[_0x1f5e67(0x52f)],'jobId':_0x4d39c7,'blockId':_0x1f5e67(0x1ce),'traceLevel':_0xe54e92['Info'],'startTime':_0x51023a,'timestamp':Date[_0x1f5e67(0x85a)](),'status':_0x1f5e67(0x5b5),'errorDetails':_0x584e6b(_0x40a702),'agentId':_0x3790f4,'threadId':_0x541daf,'code':_0x1dbf88?.['code']??'','result':_0x1f5e67(0x542)}),_0x40a702 instanceof Error?_0x40a702['message']:_0x1f5e67(0x542);}}async function _0x4b7838(_0x2e282c,_0x5e624b,_0x48d233,_0x3f72eb,_0x437187){const _0x36c50c=_0x128a0b,_0x304264='Search\x20in\x20data\x20collection\x20'+_0x437187[_0x36c50c(0x8fc)]+_0x36c50c(0xa29),_0x57b8d6={'queryOrPrompt':{'type':_0x16f74[_0x36c50c(0x923)][_0x36c50c(0xa81)]}};return await _0x5d2c78[_0x36c50c(0x3e6)]({'jobType':_0x478bd1['JobContext'],'type':_0x1ca558[_0x36c50c(0x242)],'jobId':_0x2e282c,'agentId':_0x5e624b,'threadId':_0x48d233['threadId'],'blockId':_0x36c50c(0x9b4),'traceLevel':_0xe54e92['Info'],'startTime':Date[_0x36c50c(0x85a)](),'timestamp':Date['now'](),'status':_0x36c50c(0x816),'function':_0x8bd8f0[_0x36c50c(0x444)],'params':_0x57b8d6,'functionDescription':_0x304264}),{'description':_0x304264,'params':_0x57b8d6,'callback':async _0x4ab31c=>_0x412467(_0x48d233[_0x36c50c(0x61b)],_0x437187,_0x4ab31c,_0x2e282c,_0x5e624b,_0x48d233[_0x36c50c(0xaca)],_0x3f72eb)};}async function _0x412467(_0x38ab41,_0x126a21,_0x47f269,_0x1b4e47,_0x564ae9,_0x250f2d,_0x35c313){const _0x41a53b=_0x128a0b,_0x3ba61a=Date[_0x41a53b(0x85a)]();try{if(_0x41a53b(0x55c)!=typeof _0x47f269?.[_0x41a53b(0x651)])throw new Error(_0x41a53b(0x3e4));const _0x44a42d=await fetch(_0x4106b9[_0x41a53b(0x5f0)]+'/vector_stores/'+_0x126a21[_0x41a53b(0x2ec)]+_0x41a53b(0x72f),{'method':_0x41a53b(0x3c6),'headers':{'Content-Type':'application/json','x-vendor-id':_0x38ab41},'body':JSON['stringify']({'query':_0x47f269['queryOrPrompt']})}),_0x58f7e6=((await _0x44a42d['json']())['data']??[])[_0x41a53b(0x8ac)](_0x563e2d=>({'pathName':_0x563e2d[_0x41a53b(0x25f)],'relevance':_0x563e2d['score'],'content':_0x563e2d['content'][_0x41a53b(0x992)]}));return _0x35c313&&(_0x35c313['context']=Array[_0x41a53b(0x1ec)](new Set([..._0x35c313[_0x41a53b(0x1c1)]??[],..._0x58f7e6]))),_0x1b4e47&&_0x564ae9&&_0x250f2d&&await _0x5d2c78[_0x41a53b(0x3e6)]({'jobType':_0x478bd1[_0x41a53b(0xb0b)],'type':_0x8bd8f0[_0x41a53b(0x89c)],'jobId':_0x1b4e47,'blockId':'data-collection','agentId':_0x564ae9,'threadId':_0x250f2d,'traceLevel':_0xe54e92[_0x41a53b(0x839)],'startTime':_0x3ba61a,'timestamp':Date[_0x41a53b(0x85a)](),'status':_0x41a53b(0x816),'query':_0x47f269[_0x41a53b(0x651)],'context':_0x58f7e6[_0x41a53b(0x1c1)]??[],'inputTokens':_0x58f7e6[_0x41a53b(0x267)]??0x0,'outputTokens':_0x58f7e6[_0x41a53b(0x600)]??0x0}),_0x58f7e6[_0x41a53b(0x959)]((_0x27814b,_0x3d0ab9)=>_0x27814b+'\x0a'+_0x3d0ab9['content'],'');}catch(_0x5699c1){return console[_0x41a53b(0x5b5)](_0x5699c1),_0x1b4e47&&_0x564ae9&&_0x250f2d&&await _0x5d2c78[_0x41a53b(0x3e6)]({'jobType':_0x478bd1[_0x41a53b(0xb0b)],'type':_0x8bd8f0[_0x41a53b(0x89c)],'jobId':_0x1b4e47,'blockId':'data-collection','agentId':_0x564ae9,'threadId':_0x250f2d,'traceLevel':_0xe54e92[_0x41a53b(0x839)],'startTime':_0x3ba61a,'timestamp':Date['now'](),'status':'error','errorDetails':_0x584e6b(_0x5699c1),'query':_0x47f269?.[_0x41a53b(0x651)]??'','context':[],'inputTokens':0x0,'outputTokens':0x0}),_0x5699c1 instanceof Error?_0x5699c1[_0x41a53b(0x94c)]:_0x41a53b(0x826);}}async function _0x2d22a2(_0x5f38c6,_0xa84e7c,_0x15176b,_0x5cfe2c,_0x3fddcf){const _0x41db98=_0x128a0b,_0x2ffaf5={};for(const _0x565c10 of _0x3fddcf[_0x41db98(0x781)]??[])switch(_0x565c10['type']){case _0x41db98(0x55c):case _0x41db98(0x46f):_0x2ffaf5[_0x565c10[_0x41db98(0x3d4)]]={'type':_0x16f74[_0x41db98(0x923)][_0x41db98(0xa81)]};break;case _0x41db98(0x762):_0x2ffaf5[_0x565c10[_0x41db98(0x3d4)]]={'type':_0x16f74[_0x41db98(0x923)][_0x41db98(0x784)]};break;case'boolean':_0x2ffaf5[_0x565c10[_0x41db98(0x3d4)]]={'type':_0x16f74[_0x41db98(0x923)]['Boolean']};}return await _0x5d2c78['trace']({'jobType':_0x478bd1[_0x41db98(0x1e1)],'type':_0x1ca558[_0x41db98(0x63e)],'jobId':_0x5f38c6,'agentId':_0xa84e7c,'threadId':_0x15176b,'traceLevel':_0xe54e92[_0x41db98(0x839)],'startTime':Date[_0x41db98(0x85a)](),'timestamp':Date['now'](),'status':_0x41db98(0x816),'function':_0x4c1fed[_0x41db98(0x227)],'params':_0x2ffaf5,'functionDescription':_0x3fddcf[_0x41db98(0x8fc)]??''}),{'description':_0x41db98(0x4cb)+_0x3fddcf['description'],'params':_0x2ffaf5,'callback':async _0x497ef5=>_0x26be4f(_0x3fddcf,_0x497ef5,_0x5f38c6,_0xa84e7c,_0x15176b,_0x5cfe2c)};}async function _0x26be4f(_0x3ee0f5,_0x3ef3b3,_0x109849,_0x108ad2,_0x45d3c6,_0x470bac){const _0x489720=_0x128a0b,_0x1b1d5e=Date['now']();try{if(!_0x3ef3b3)throw new Error(_0x489720(0x79a));for(const _0x448d06 of _0x3ee0f5[_0x489720(0x781)]??[]){if(void 0x0===_0x3ef3b3[_0x448d06[_0x489720(0x3d4)]])throw new Error('Parameter\x20'+_0x448d06[_0x489720(0x3d4)]+_0x489720(0x65e));if('string'===_0x448d06['type']&&_0x489720(0x55c)!=typeof _0x3ef3b3[_0x448d06[_0x489720(0x3d4)]])throw new Error(_0x489720(0xa63)+_0x448d06[_0x489720(0x3d4)]+'\x20must\x20be\x20a\x20string');if(_0x489720(0x762)===_0x448d06[_0x489720(0x7dd)]&&'number'!=typeof _0x3ef3b3[_0x448d06[_0x489720(0x3d4)]])throw new Error('Parameter\x20'+_0x448d06[_0x489720(0x3d4)]+'\x20must\x20be\x20a\x20number');if(_0x489720(0x862)===_0x448d06[_0x489720(0x7dd)]&&_0x489720(0x862)!=typeof _0x3ef3b3[_0x448d06[_0x489720(0x3d4)]])throw new Error(_0x489720(0xa63)+_0x448d06['name']+_0x489720(0x844));if('json'===_0x448d06[_0x489720(0x7dd)]&&_0x489720(0x55c)!=typeof _0x3ef3b3[_0x448d06[_0x489720(0x3d4)]])throw new Error(_0x489720(0xa63)+_0x448d06[_0x489720(0x3d4)]+_0x489720(0x2fb));if(_0x489720(0x46f)===_0x448d06[_0x489720(0x7dd)])try{_0x3ef3b3[_0x448d06[_0x489720(0x3d4)]]=JSON[_0x489720(0x562)](_0x3ef3b3[_0x448d06[_0x489720(0x3d4)]]);}catch{throw new Error(_0x489720(0xa63)+_0x448d06[_0x489720(0x3d4)]+_0x489720(0xa72));}}const _0x3f33d7={};for(const _0x45c91a of _0x3ee0f5[_0x489720(0x24f)]??[]){let _0x21b928=_0x45c91a[_0x489720(0x443)];_0x21b928[_0x489720(0xa1f)](/\$[a-zA-Z0-9]+/)&&(_0x21b928=_0x21b928[_0x489720(0xa2e)](/\$[a-zA-Z0-9]+/g,_0x363550=>{const _0x33c2da=_0x363550['slice'](0x1);return _0x3ef3b3[_0x33c2da];})),_0x3f33d7[_0x45c91a['name']]=_0x21b928;}const _0x57d638=new URLSearchParams();for(const _0x56bb76 of _0x3ee0f5[_0x489720(0xaab)]??[]){let _0x2bc8bf=_0x56bb76['value'];if(_0x489720(0x55c)==typeof _0x2bc8bf&&_0x2bc8bf[_0x489720(0x5fa)]('$')){const _0x2aadd6=_0x2bc8bf[_0x489720(0x659)](0x1);_0x2bc8bf=_0x3ef3b3[_0x2aadd6];}if(_0x489720(0x55c)==typeof _0x2bc8bf&&_0x2bc8bf['startsWith']('@context.')){const _0x20ec43=_0x2bc8bf['replace'](_0x489720(0x907),'');if(_0x2bc8bf=_0x470bac?.[_0x489720(0x5bd)]?.[_0x20ec43],'string'==typeof _0x2bc8bf&&_0x2bc8bf[_0x489720(0x5fa)]('{')&&_0x2bc8bf[_0x489720(0x753)]('}'))try{_0x2bc8bf=JSON[_0x489720(0x562)](_0x2bc8bf);}catch{}}_0x489720(0x55c)==typeof _0x2bc8bf&&_0x2bc8bf['startsWith']('[')&&_0x2bc8bf[_0x489720(0x753)](']')&&(_0x2bc8bf=JSON[_0x489720(0x562)](_0x2bc8bf)),_0x57d638[_0x489720(0x680)](_0x56bb76['name'],_0x2bc8bf);}let _0x50e5bb=_0x3ee0f5[_0x489720(0x2b9)]??'';_0x57d638[_0x489720(0x388)]>0x0&&(_0x50e5bb+='?'+_0x57d638[_0x489720(0x5da)]());let _0x832605={};for(const _0x11dfda of _0x3ee0f5['bodyParameters']??[]){let _0x16464b=_0x11dfda[_0x489720(0x443)];if(_0x489720(0x55c)==typeof _0x16464b&&_0x16464b['startsWith']('$')){const _0x22f976=_0x16464b['slice'](0x1);_0x16464b=_0x3ef3b3[_0x22f976];}if(_0x489720(0x55c)==typeof _0x16464b&&_0x16464b[_0x489720(0x5fa)](_0x489720(0x907))){const _0x2bdee1=_0x16464b[_0x489720(0xa2e)]('@context.','');if(_0x16464b=_0x470bac?.['internalContext']?.[_0x2bdee1],_0x489720(0x55c)==typeof _0x16464b&&_0x16464b['startsWith']('{')&&_0x16464b[_0x489720(0x753)]('}'))try{_0x16464b=JSON[_0x489720(0x562)](_0x16464b);}catch{}}if('string'==typeof _0x16464b&&_0x16464b[_0x489720(0x5fa)]('[')&&_0x16464b[_0x489720(0x753)](']')&&(_0x16464b=JSON[_0x489720(0x562)](_0x16464b)),_0x489720(0x49c)===_0x11dfda[_0x489720(0x3d4)]){const _0x30d5e7=_0x16464b[_0x489720(0xa1f)](/```html(.*)```/s);_0x30d5e7&&(_0x16464b=_0x30d5e7[0x1]),_0x16464b=_0x16464b[_0x489720(0xa2e)](/\n/g,''),_0x16464b=_0x16464b[_0x489720(0xa2e)](/'/g,'\x22'),_0x832605=_0x16464b;break;}if(-0x1===_0x11dfda[_0x489720(0x3d4)][_0x489720(0x44a)]('.'))_0x832605[_0x11dfda[_0x489720(0x3d4)]]=_0x16464b;else{const [_0x28ff7c,_0x571052]=_0x11dfda[_0x489720(0x3d4)][_0x489720(0x302)]('.');_0x832605[_0x28ff7c]||(_0x832605[_0x28ff7c]={}),_0x832605[_0x28ff7c][_0x571052]=_0x16464b;}}console[_0x489720(0x552)](_0x489720(0x8a5)+_0x3ee0f5['name']+_0x489720(0x840)+JSON[_0x489720(0x30b)](_0x832605));const _0x18ed48=await fetch(_0x50e5bb,{'method':_0x3ee0f5[_0x489720(0x642)],'headers':_0x3f33d7,'body':_0x489720(0x55c)==typeof _0x832605?_0x832605:JSON[_0x489720(0x30b)](_0x832605)});if(_0x18ed48['ok']){let _0x5a3855=await _0x18ed48[_0x489720(0x46f)]();return _0x489720(0x55c)!=typeof _0x5a3855&&(_0x5a3855=JSON[_0x489720(0x30b)](_0x5a3855)),_0x109849&&_0x108ad2&&_0x45d3c6&&await _0x5d2c78[_0x489720(0x3e6)]({'jobType':_0x478bd1[_0x489720(0x5af)],'type':_0x4c1fed['ExecuteCustomSkill'],'jobId':_0x109849,'agentId':_0x108ad2,'threadId':_0x45d3c6,'blockId':'custom-skill','traceLevel':_0xe54e92['Info'],'startTime':_0x1b1d5e,'timestamp':Date['now'](),'status':'success','skillName':_0x3ee0f5[_0x489720(0x3d4)],'params':_0x3ef3b3,'result':_0x5a3855}),_0x5a3855[_0x489720(0x5bd)]||(_0x5a3855[_0x489720(0x5bd)]={}),_0x5a3855[_0x489720(0x5bd)][_0x489720(0x8dc)]=_0x5a3855,_0x5a3855;}throw new Error(_0x18ed48['statusText']);}catch(_0x4a9e5b){console['error'](_0x4a9e5b);const _0xef077c=_0x4a9e5b instanceof Error?_0x4a9e5b['message']:_0x489720(0x86f);return _0x109849&&_0x108ad2&&_0x45d3c6&&await _0x5d2c78[_0x489720(0x3e6)]({'jobType':_0x478bd1[_0x489720(0x5af)],'type':_0x4c1fed[_0x489720(0x227)],'jobId':_0x109849,'blockId':_0x489720(0x82f),'threadId':_0x45d3c6,'traceLevel':_0xe54e92[_0x489720(0x839)],'startTime':_0x1b1d5e,'timestamp':Date[_0x489720(0x85a)](),'agentId':_0x108ad2,'status':'error','skillName':_0x3ee0f5[_0x489720(0x3d4)],'params':_0x3ef3b3??{},'result':_0xef077c}),_0xef077c;}}async function _0x1719b3(_0x22822e,_0x2f16df,_0x4a00ac,_0x228109=!0x0){const _0x2e25d5=_0x128a0b,_0x2299d2=_0x2e25d5(0x2b5),_0x58d31d={'url':{'type':_0x16f74[_0x2e25d5(0x923)][_0x2e25d5(0xa81)]},'page':{'type':_0x16f74[_0x2e25d5(0x923)]['Number']}};return await _0x5d2c78[_0x2e25d5(0x3e6)]({'jobType':_0x478bd1[_0x2e25d5(0x1e1)],'type':_0x1ca558[_0x2e25d5(0x63e)],'jobId':_0x22822e,'agentId':_0x2f16df,'threadId':_0x4a00ac,'traceLevel':_0xe54e92[_0x2e25d5(0x839)],'startTime':Date['now'](),'timestamp':Date[_0x2e25d5(0x85a)](),'status':_0x2e25d5(0x816),'function':_0x4c1fed[_0x2e25d5(0x276)],'params':_0x58d31d,'functionDescription':_0x2299d2}),{'description':_0x2299d2,'params':_0x58d31d,'callback':async _0x34e2fc=>_0x58c021(_0x34e2fc,_0x228109,_0x22822e,_0x2f16df,_0x4a00ac)};}async function _0x58c021(_0x35f5e7,_0x134413=!0x0,_0x3dce3f,_0x5e3df7,_0x36d5b2){const _0x309f2c=_0x128a0b,_0x46c565=Date[_0x309f2c(0x85a)]();try{if('string'!=typeof _0x35f5e7?.['url'])throw new Error('URL\x20is\x20required');const _0x3f1aec=_0x35f5e7[_0x309f2c(0x4f4)];if([_0x309f2c(0x449),_0x309f2c(0x98a),'.docx','.ppt',_0x309f2c(0x1f0),_0x309f2c(0x836),_0x309f2c(0x2f4)][_0x309f2c(0x3c5)](_0x2782da=>_0x3f1aec[_0x309f2c(0x753)](_0x2782da)))throw new Error('Cannot\x20fetch\x20content\x20from\x20this\x20type\x20of\x20file');const _0x1cc45e=await fetch(_0x3f1aec),_0x4fa6f2=await _0x1cc45e['text']();let _0x2abe26=_0x4fa6f2;if(_0x134413){const _0x14283d=_0x4fa6f2[_0x309f2c(0xa1f)](/<body[^>]*>((.|[\n\r])*)<\/body>/i),_0x67ef80=_0x14283d?_0x14283d[0x1]:_0x4fa6f2,_0x2c6449=_0x67ef80[_0x309f2c(0xa2e)](/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,'')[_0x309f2c(0xa2e)](/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,'')[_0x309f2c(0xa2e)](/<br\s*\/?>/gi,'\x20')['replace'](/&nbsp;/g,'\x20');_0x2abe26=_0x2c6449[_0x309f2c(0xa2e)](/<\/?[^>]+(>|$)/g,'')['replace'](/\s\s+/g,'\x20')[_0x309f2c(0xad0)]();}const _0x2c7914=_0x309f2c(0x762)==typeof _0x35f5e7[_0x309f2c(0x5b0)]?_0x35f5e7[_0x309f2c(0x5b0)]:0x1,_0x1c10ab=Math[_0x309f2c(0x72b)](_0x2abe26[_0x309f2c(0xa20)]/_0x247f8b);return _0x2abe26[_0x309f2c(0xa20)]>_0x247f8b&&(_0x2abe26=_0x2abe26[_0x309f2c(0x9c8)]((_0x2c7914-0x1)*_0x247f8b,(_0x2c7914-0x1)*_0x247f8b+_0x247f8b)+_0x309f2c(0x507)+(_0x2c7914+0x1)+_0x309f2c(0x518)+_0x1c10ab+'.'),_0x3dce3f&&_0x5e3df7&&_0x36d5b2&&await _0x5d2c78[_0x309f2c(0x3e6)]({'jobType':_0x478bd1['Skill'],'type':_0x4c1fed[_0x309f2c(0x276)],'jobId':_0x3dce3f,'agentId':_0x5e3df7,'threadId':_0x36d5b2,'blockId':_0x309f2c(0x1e4),'traceLevel':_0xe54e92['Info'],'startTime':_0x46c565,'timestamp':Date['now'](),'status':_0x1cc45e['ok']?_0x309f2c(0x816):'error','url':_0x35f5e7['url'],'page':_0x2c7914,'totalPages':_0x1c10ab,'response':_0x2abe26}),_0x2abe26;}catch(_0x58c30d){console[_0x309f2c(0x5b5)](_0x58c30d);const _0x72a20a=_0x58c30d instanceof Error?_0x58c30d['message']:_0x309f2c(0x86f);return _0x3dce3f&&_0x5e3df7&&_0x36d5b2&&await _0x5d2c78[_0x309f2c(0x3e6)]({'jobType':_0x478bd1[_0x309f2c(0x5af)],'type':_0x4c1fed[_0x309f2c(0x276)],'jobId':_0x3dce3f,'blockId':_0x309f2c(0x1e4),'threadId':_0x36d5b2,'traceLevel':_0xe54e92[_0x309f2c(0x839)],'startTime':_0x46c565,'timestamp':Date[_0x309f2c(0x85a)](),'agentId':_0x5e3df7,'status':'error','errorDetails':_0x584e6b(_0x58c30d),'url':_0x35f5e7?.[_0x309f2c(0x4f4)]??'','page':0x0,'totalPages':0x0,'response':_0x72a20a}),_0x72a20a;}}async function _0xe4aa90(_0x43f107,_0x1910ad,_0x14e1f9,_0x2ec6b1,_0x112b1d){const _0x8b9e00=_0x128a0b,_0x2e53db=Date[_0x8b9e00(0x85a)]();try{if(!_0x43f107['searchConnector'])throw new Error('Search\x20connector\x20not\x20set');if(_0x8b9e00(0x55c)!=typeof _0x1910ad?.[_0x8b9e00(0x38b)])throw new Error(_0x8b9e00(0x3e4));const _0x20e1d2=await _0x43f107[_0x8b9e00(0x6d9)][_0x8b9e00(0x50c)](_0x1910ad[_0x8b9e00(0x38b)],_0x4106b9[_0x8b9e00(0x1fe)][_0x8b9e00(0x261)]);let _0x4d10b6='';for(const _0x1a34ed of _0x20e1d2)_0x4d10b6+=_0x1a34ed[_0x8b9e00(0xa68)]+'\x20-\x20'+_0x1a34ed[_0x8b9e00(0x4f4)]+'\x0a'+_0x1a34ed[_0x8b9e00(0x6cf)]+'\x0a\x0a';return _0x14e1f9&&_0x2ec6b1&&_0x112b1d&&await _0x5d2c78[_0x8b9e00(0x3e6)]({'jobType':_0x478bd1[_0x8b9e00(0x5af)],'type':_0x4c1fed[_0x8b9e00(0x810)],'jobId':_0x14e1f9,'agentId':_0x2ec6b1,'threadId':_0x112b1d,'blockId':'search','traceLevel':_0xe54e92['Info'],'startTime':_0x2e53db,'timestamp':Date['now'](),'status':'success','query':_0x1910ad[_0x8b9e00(0x38b)],'results':_0x4d10b6}),_0x4d10b6;}catch(_0x589914){return console['error'](_0x589914),_0x14e1f9&&_0x2ec6b1&&_0x112b1d&&await _0x5d2c78[_0x8b9e00(0x3e6)]({'jobType':_0x478bd1['Skill'],'type':_0x4c1fed['SearchGoogle'],'jobId':_0x14e1f9,'blockId':_0x8b9e00(0x50c),'traceLevel':_0xe54e92[_0x8b9e00(0x839)],'startTime':_0x2e53db,'timestamp':Date[_0x8b9e00(0x85a)](),'status':_0x8b9e00(0x5b5),'errorDetails':_0x584e6b(_0x589914),'agentId':_0x2ec6b1,'threadId':_0x112b1d,'query':_0x1910ad?.[_0x8b9e00(0x38b)]??'','results':'Error\x20searching'}),_0x589914 instanceof Error?_0x589914['message']:'Error\x20searching';}}async function _0x31ebda(_0x2076fe,_0x4393f4,_0x42118a,_0x56fd36,_0x20e259,_0x20c305,_0x2482f5){const _0x2d8783=_0x128a0b,_0x489d4f=new Map();for(const _0xf41c8e of _0x20e259)_0xf41c8e[_0x2d8783(0x7dd)]===_0x16f74[_0x2d8783(0xa03)][_0x2d8783(0xb0b)]||_0xf41c8e['type']===_0x16f74[_0x2d8783(0xa03)][_0x2d8783(0x4f2)]?_0x489d4f[_0x2d8783(0x663)](_0x2d8783(0x2e4)+_0xf41c8e['name'][_0x2d8783(0xa2e)](/[^a-zA-Z]/g,''),await _0x4b7838(_0x2076fe,_0x4393f4,_0x42118a,_0x56fd36,_0xf41c8e)):_0xf41c8e[_0x2d8783(0x7dd)]===_0x16f74['GenerativeAIInferenceToolType']['AgentSkill']||_0xf41c8e[_0x2d8783(0x7dd)]===_0x16f74[_0x2d8783(0xa03)][_0x2d8783(0x1ae)]?_0x489d4f[_0x2d8783(0x663)](_0x2d8783(0x4d9)+_0xf41c8e['name'][_0x2d8783(0xa2e)](/[^a-zA-Z]/g,''),await _0x33e165(_0x2076fe,_0x4393f4,_0x42118a,_0xf41c8e,_0x20c305,_0x2482f5)):_0xf41c8e[_0x2d8783(0x7dd)]===_0x16f74[_0x2d8783(0xa03)][_0x2d8783(0x6e0)]?_0x489d4f[_0x2d8783(0x663)](_0xf41c8e[_0x2d8783(0x3d4)][_0x2d8783(0xa2e)](/[^a-zA-Z]/g,''),await _0x2d22a2(_0x2076fe,_0x4393f4,_0x42118a[_0x2d8783(0xaca)],_0x56fd36,_0xf41c8e)):_0x489d4f[_0x2d8783(0x663)](_0x1ec439(_0xf41c8e),await _0x4f0be4(_0x2076fe,_0x4393f4,_0x42118a['threadId'],_0x56fd36,_0xf41c8e,_0x20c305));return _0x489d4f;}function _0x1ec439(_0x63daff){const _0x1e3701=_0x128a0b;switch(_0x63daff[_0x1e3701(0x7dd)]){case _0x16f74[_0x1e3701(0xa03)][_0x1e3701(0x79b)]:return'searchOnPerplexity';case _0x16f74[_0x1e3701(0xa03)][_0x1e3701(0x5d5)]:return'executeJavascriptCodeSnippet';case _0x16f74['GenerativeAIInferenceToolType'][_0x1e3701(0x2ae)]:return _0x1e3701(0x275);case _0x16f74['GenerativeAIInferenceToolType'][_0x1e3701(0x27c)]:return _0x1e3701(0x97c);case _0x16f74[_0x1e3701(0xa03)][_0x1e3701(0x53e)]:case _0x16f74[_0x1e3701(0xa03)][_0x1e3701(0x7b8)]:return'fetchContentFromUrl';case _0x16f74[_0x1e3701(0xa03)]['WriteFile']:return _0x1e3701(0x24c);}throw new Error('Unknown\x20skill\x20type');}async function _0x4f0be4(_0x1d8c0b,_0x4c3373,_0x1a7935,_0x1bf585,_0x1c141f,_0x41fc42){const _0xe8f043=_0x128a0b;switch(_0x1c141f[_0xe8f043(0x7dd)]){case _0x16f74[_0xe8f043(0xa03)]['AISearch']:return async function(_0x57fc6c,_0x8751f8,_0x2e95a4,_0x4891da){const _0x328f77=_0xe8f043,_0x4e7015=_0x328f77(0xa30),_0x17c651={'query':{'type':_0x16f74[_0x328f77(0x923)][_0x328f77(0xa81)]}};return await _0x5d2c78[_0x328f77(0x3e6)]({'jobType':_0x478bd1[_0x328f77(0x1e1)],'type':_0x1ca558[_0x328f77(0x63e)],'jobId':_0x57fc6c,'agentId':_0x8751f8,'threadId':_0x2e95a4,'traceLevel':_0xe54e92['Info'],'startTime':Date[_0x328f77(0x85a)](),'timestamp':Date[_0x328f77(0x85a)](),'status':_0x328f77(0x816),'function':_0x4c1fed[_0x328f77(0xad9)],'params':_0x17c651,'functionDescription':_0x4e7015}),{'description':_0x4e7015,'params':_0x17c651,'callback':async _0x10c3ca=>_0x3cb5a8(_0x4891da,_0x10c3ca,_0x57fc6c,_0x8751f8,_0x2e95a4)};}(_0x1d8c0b,_0x4c3373,_0x1a7935,_0x41fc42);case _0x16f74[_0xe8f043(0xa03)][_0xe8f043(0x5d5)]:return async function(_0x1c591c,_0x30a6d0,_0x4747e9){const _0x2f651e=_0xe8f043,_0x432b89=_0x2f651e(0x6f0),_0xdecb66={'code':{'type':_0x16f74['PromptFunctionParamsType'][_0x2f651e(0xa81)]}};return await _0x5d2c78[_0x2f651e(0x3e6)]({'jobType':_0x478bd1[_0x2f651e(0x1e1)],'type':_0x1ca558[_0x2f651e(0x63e)],'jobId':_0x1c591c,'agentId':_0x30a6d0,'threadId':_0x4747e9,'traceLevel':_0xe54e92[_0x2f651e(0x839)],'startTime':Date[_0x2f651e(0x85a)](),'timestamp':Date[_0x2f651e(0x85a)](),'status':_0x2f651e(0x816),'function':_0x4c1fed['ExecuteCode'],'params':_0xdecb66,'functionDescription':_0x432b89}),{'description':_0x432b89,'params':_0xdecb66,'callback':async _0x331ca2=>_0x328fba(_0x331ca2,_0x1c591c,_0x30a6d0,_0x4747e9)};}(_0x1d8c0b,_0x4c3373,_0x1a7935);case _0x16f74[_0xe8f043(0xa03)][_0xe8f043(0x2ae)]:return async function(_0x16b935,_0x46d7ab,_0x21c75a,_0x1e2bee,_0x1278ad){const _0xb89850=_0xe8f043,_0x6a676e=[',',';','\x09','|',':'],_0x5d3613=['\x22','\x27'];let _0x80f214='';if(_0xb89850(0x55d)===_0x1e2bee[_0xb89850(0x5bd)]?.[_0xb89850(0x3f5)]&&_0x1e2bee['internalContext']?.['file.content']&&(_0x80f214=_0x1e2bee[_0xb89850(0x5bd)][_0xb89850(0x28b)]),''===_0x80f214)throw new Error(_0xb89850(0x72d));const _0x24af40=_0x80f214[_0xb89850(0x302)]('\x0a')[0x0];let _0x25e5ef=null,_0x1baab9=null,_0x53d8ac=0x0;for(const _0x4aad54 of _0x6a676e){const _0x507e03=(_0x24af40['match'](new RegExp('\x5c'+_0x4aad54,'g'))||[])[_0xb89850(0xa20)];_0x507e03>_0x53d8ac&&(_0x53d8ac=_0x507e03,_0x25e5ef=_0x4aad54);}_0x25e5ef||(_0x25e5ef=','),_0x53d8ac=0x0;for(const _0x591b12 of _0x5d3613){const _0x58aaf2=(_0x24af40[_0xb89850(0xa1f)](new RegExp('\x5c'+_0x591b12,'g'))||[])[_0xb89850(0xa20)];_0x58aaf2>_0x53d8ac&&(_0x53d8ac=_0x58aaf2,_0x1baab9=_0x591b12);}_0x1baab9||(_0x1baab9='\x22');const _0x23ccd6=_0xb89850(0x3e9)+_0x24af40[_0xb89850(0x302)](_0x25e5ef)[_0xb89850(0x406)](',\x20'),_0x51cf66={'query':{'type':_0x16f74['PromptFunctionParamsType'][_0xb89850(0xa81)]}};return await _0x5d2c78['trace']({'jobType':_0x478bd1['JobContext'],'type':_0x1ca558[_0xb89850(0x63e)],'jobId':_0x16b935,'agentId':_0x46d7ab,'threadId':_0x21c75a,'traceLevel':_0xe54e92[_0xb89850(0x839)],'startTime':Date['now'](),'timestamp':Date[_0xb89850(0x85a)](),'status':_0xb89850(0x816),'function':_0x4c1fed[_0xb89850(0x2ae)],'params':_0x51cf66,'functionDescription':_0x23ccd6}),{'description':_0x23ccd6,'params':_0x51cf66,'callback':async _0x3486b7=>{const _0x3a8310=_0xb89850,_0x542090=Date['now']();try{if(!_0x1278ad[_0x3a8310(0x502)])throw new Error(_0x3a8310(0x88c));if(_0x3a8310(0x55c)!=typeof _0x3486b7?.[_0x3a8310(0x38b)])throw new Error(_0x3a8310(0x3e4));if(!_0x3486b7[_0x3a8310(0x38b)][_0x3a8310(0x6b7)](_0x3a8310(0x679)))throw new Error(_0x3a8310(0x47f));const _0x505411=await _0x1278ad[_0x3a8310(0x502)][_0x3a8310(0x996)](_0x80f214,_0x3486b7[_0x3a8310(0x38b)],{'headers':!0x0,'quote':_0x1baab9,'separator':_0x25e5ef});await _0x5d2c78[_0x3a8310(0x3e6)]({'jobType':_0x478bd1[_0x3a8310(0x5af)],'type':_0x4c1fed[_0x3a8310(0x2ae)],'jobId':_0x16b935,'agentId':_0x46d7ab,'threadId':_0x21c75a,'blockId':_0x3a8310(0x9f2),'traceLevel':_0xe54e92[_0x3a8310(0x839)],'startTime':_0x542090,'timestamp':Date['now'](),'status':_0x3a8310(0x816),'query':_0x3486b7[_0x3a8310(0x38b)],'results':_0x505411[_0x3a8310(0x9c8)](0x0,0x3e8)});const _0x406659=JSON[_0x3a8310(0x562)](_0x505411);let _0x382773='';if(_0x406659[_0x3a8310(0xa20)]>0x0){const _0x3fc875=Object['keys'](_0x406659[0x0]);_0x382773=_0x3fc875[_0x3a8310(0x8ac)](_0x517575=>'\x22'+_0x517575+'\x22')['join'](',')+'\x0a';for(const _0x24d3c0 of _0x406659)_0x382773+=_0x3fc875[_0x3a8310(0x8ac)](_0x4c989b=>'\x22'+_0x24d3c0[_0x4c989b]+'\x22')['join'](',')+'\x0a';}return _0x1e2bee[_0x3a8310(0x5bd)]||(_0x1e2bee[_0x3a8310(0x5bd)]={}),_0x1e2bee[_0x3a8310(0x5bd)]['file.content']=_0x382773,_0x1e2bee[_0x3a8310(0x5bd)]['file.type']=_0x3a8310(0x55d),_0x505411[_0x3a8310(0x9c8)](0x0,0x3e8);}catch(_0x3641df){return console[_0x3a8310(0x5b5)](_0x3641df),await _0x5d2c78[_0x3a8310(0x3e6)]({'jobType':_0x478bd1['Skill'],'type':_0x4c1fed[_0x3a8310(0x2ae)],'jobId':_0x16b935,'blockId':'query-file','traceLevel':_0xe54e92[_0x3a8310(0x839)],'startTime':_0x542090,'timestamp':Date[_0x3a8310(0x85a)](),'status':_0x3a8310(0x5b5),'errorDetails':_0x584e6b(_0x3641df),'agentId':_0x46d7ab,'threadId':_0x21c75a,'query':_0x3486b7?.['query']??'','results':'Error\x20searching'}),_0x3641df instanceof Error?_0x3641df['message']:'Error\x20querying\x20file';}}};}(_0x1d8c0b,_0x4c3373,_0x1a7935,_0x1bf585,_0x41fc42);case _0x16f74[_0xe8f043(0xa03)][_0xe8f043(0x27c)]:return async function(_0x2f1de7,_0x1ed6dd,_0x306282,_0x32aa62){const _0x51e899=_0xe8f043,_0x3dd3c8=_0x51e899(0x908),_0x1cac2b={'query':{'type':_0x16f74[_0x51e899(0x923)][_0x51e899(0xa81)]}};return await _0x5d2c78['trace']({'jobType':_0x478bd1[_0x51e899(0x1e1)],'type':_0x1ca558[_0x51e899(0x63e)],'jobId':_0x2f1de7,'agentId':_0x1ed6dd,'threadId':_0x306282,'traceLevel':_0xe54e92['Info'],'startTime':Date[_0x51e899(0x85a)](),'timestamp':Date[_0x51e899(0x85a)](),'status':_0x51e899(0x816),'function':_0x4c1fed['SearchGoogle'],'params':_0x1cac2b,'functionDescription':_0x3dd3c8}),{'description':_0x3dd3c8,'params':_0x1cac2b,'callback':async _0x4d3685=>_0xe4aa90(_0x32aa62,_0x4d3685,_0x2f1de7,_0x1ed6dd,_0x306282)};}(_0x1d8c0b,_0x4c3373,_0x1a7935,_0x41fc42);case _0x16f74['GenerativeAIInferenceToolType'][_0xe8f043(0x53e)]:return _0x1719b3(_0x1d8c0b,_0x4c3373,_0x1a7935);case _0x16f74[_0xe8f043(0xa03)][_0xe8f043(0x7b8)]:return _0x1719b3(_0x1d8c0b,_0x4c3373,_0x1a7935,!0x1);case _0x16f74['GenerativeAIInferenceToolType'][_0xe8f043(0x734)]:return async function(_0x52bc49,_0x50f29e,_0xd0bd0e,_0x5b29bb){const _0x535c60=_0xe8f043,_0x42793e=_0x535c60(0x90a),_0x1c590b={'text':{'type':_0x16f74[_0x535c60(0x923)][_0x535c60(0xa81)]}};return await _0x5d2c78[_0x535c60(0x3e6)]({'jobType':_0x478bd1[_0x535c60(0x1e1)],'type':_0x1ca558[_0x535c60(0x63e)],'jobId':_0x52bc49,'agentId':_0x50f29e,'threadId':_0xd0bd0e,'traceLevel':_0xe54e92[_0x535c60(0x839)],'startTime':Date[_0x535c60(0x85a)](),'timestamp':Date[_0x535c60(0x85a)](),'status':_0x535c60(0x816),'function':_0x4c1fed[_0x535c60(0x734)],'params':_0x1c590b,'functionDescription':_0x42793e}),{'description':_0x42793e,'params':_0x1c590b,'callback':async _0x52ce4d=>{const _0x1c1e1f=_0x535c60,_0x377416=Date[_0x1c1e1f(0x85a)]();try{if(_0x1c1e1f(0x55c)!=typeof _0x52ce4d?.[_0x1c1e1f(0x992)])throw new Error('Text\x20is\x20required');return await _0x5d2c78['trace']({'jobType':_0x478bd1['Skill'],'type':_0x4c1fed[_0x1c1e1f(0x734)],'jobId':_0x52bc49,'agentId':_0x50f29e,'threadId':_0xd0bd0e,'blockId':_0x1c1e1f(0x63f),'traceLevel':_0xe54e92[_0x1c1e1f(0x839)],'startTime':_0x377416,'timestamp':Date['now'](),'status':'success','content':_0x52ce4d[_0x1c1e1f(0x992)]}),_0x5b29bb['internalContext']||(_0x5b29bb[_0x1c1e1f(0x5bd)]={}),_0x5b29bb['internalContext'][_0x1c1e1f(0x28b)]=_0x52ce4d[_0x1c1e1f(0x992)],_0x5b29bb[_0x1c1e1f(0x5bd)][_0x1c1e1f(0x3f5)]=_0x1c1e1f(0x7e1),_0x1c1e1f(0x6cd);}catch(_0x4afbcd){return console['error'](_0x4afbcd),await _0x5d2c78[_0x1c1e1f(0x3e6)]({'jobType':_0x478bd1[_0x1c1e1f(0x5af)],'type':_0x4c1fed[_0x1c1e1f(0x734)],'jobId':_0x52bc49,'blockId':'write-file','traceLevel':_0xe54e92[_0x1c1e1f(0x839)],'startTime':_0x377416,'timestamp':Date[_0x1c1e1f(0x85a)](),'status':_0x1c1e1f(0x5b5),'errorDetails':_0x584e6b(_0x4afbcd),'agentId':_0x50f29e,'threadId':_0xd0bd0e,'content':_0x1c1e1f(0x55c)==typeof _0x52ce4d?.[_0x1c1e1f(0x992)]?_0x52ce4d[_0x1c1e1f(0x992)]:''}),_0x4afbcd instanceof Error?_0x4afbcd[_0x1c1e1f(0x94c)]:_0x1c1e1f(0x38c);}}};}(_0x1d8c0b,_0x4c3373,_0x1a7935,_0x1bf585);}throw new Error('Unknown\x20skill\x20type');}function _0x584e6b(_0x158ff3){const _0x287a81=_0x128a0b;try{return JSON['stringify'](_0x158ff3);}catch(_0x3569c1){return _0x158ff3 instanceof Error?_0x158ff3[_0x287a81(0x5da)]():'Error\x20fetching\x20context';}}class _0x7bf8d3 extends _0x377300{[_0x128a0b(0x2b1)];[_0x128a0b(0x3cf)];[_0x128a0b(0x193)];[_0x128a0b(0x2dc)];[_0x128a0b(0x6d9)];[_0x128a0b(0x568)];['queryFileConnector'];[_0x128a0b(0x6ac)];[_0x128a0b(0xab1)];['dataStores']=new Map();[_0x128a0b(0x4ff)]=new Map();[_0x128a0b(0xa16)];[_0x128a0b(0x55e)]=0x0;[_0x128a0b(0xafd)]=0x0;[_0x128a0b(0x93d)]=!0x1;constructor(_0xfbefdb,_0x12742c,_0x5d5ab4,_0x4c20a8,_0x296b74,_0x36e00d,_0x21ce2a,_0x750888,_0x43ca43,_0x57df41,_0x558faa,_0xfe5c6d){const _0x438b54=_0x128a0b;super(_0xfbefdb,_0x12742c,_0x5d5ab4),this[_0x438b54(0x2b1)]=_0x4c20a8,this[_0x438b54(0x3cf)]=_0x296b74,this[_0x438b54(0x193)]=_0x36e00d,this[_0x438b54(0x2dc)]=_0x21ce2a,this[_0x438b54(0x6d9)]=_0x750888,this[_0x438b54(0x568)]=_0x43ca43,this[_0x438b54(0x502)]=_0x57df41,this['ragConnector']=_0x558faa,this['openAIKey']=_0xfe5c6d;}async[_0x128a0b(0x61e)](){const _0x1b5a91=_0x128a0b;for(const _0x330746 of this['generativeAIWorkerConnectors'])await _0x330746[_0x1b5a91(0x42d)]();this[_0x1b5a91(0x9b6)][_0x1b5a91(0x8b3)](_0x2e3b2a=>_0x2e3b2a['unsubscribe'](this['label'])),this[_0x1b5a91(0xa16)]&&(clearTimeout(this[_0x1b5a91(0xa16)]),delete this[_0x1b5a91(0xa16)]),super[_0x1b5a91(0x61e)]();}async[_0x128a0b(0x645)](_0x5a9087=!0x1){const _0x4a9908=_0x128a0b;if(this['isOpened'])super[_0x4a9908(0x645)]();else{_0x265260[_0x4a9908(0x79c)](_0x4a9908(0x19d),this[_0x4a9908(0x9ce)]),this[_0x4a9908(0x4ff)][_0x4a9908(0x663)]('all-minilm-l12-v2',{'id':_0x4a9908(0x4d7),'engineType':_0x16f74[_0x4a9908(0x741)][_0x4a9908(0x794)],'taskType':_0x16f74['GenerativeAITaskType'][_0x4a9908(0x26c)],'inputType':_0x16f74[_0x4a9908(0x479)][_0x4a9908(0xafa)],'outputType':_0x16f74['GenerativeAIModelOutputType'][_0x4a9908(0x2e6)],'sourceUrl':'https://huggingface.co/leliuga/all-MiniLM-L12-v2-GGUF/resolve/main/all-MiniLM-L12-v2.F16.gguf'}),this[_0x4a9908(0x4ff)]['set']('llama-3.1-8b',{'id':'llama-3.1-8b','engineType':_0x16f74[_0x4a9908(0x741)][_0x4a9908(0x794)],'taskType':_0x16f74[_0x4a9908(0x3b8)][_0x4a9908(0x4b0)],'inputType':_0x16f74[_0x4a9908(0x479)][_0x4a9908(0xafa)],'outputType':_0x16f74[_0x4a9908(0xa26)]['Text'],'knowledgeCutoffDate':_0x4a9908(0x494),'sourceUrl':'https://huggingface.co/bartowski/Meta-Llama-3.1-8B-Instruct-GGUF/resolve/main/Meta-Llama-3.1-8B-Instruct-Q8_0.gguf'}),this['models']['set'](_0x4a9908(0x633),{'id':_0x4a9908(0x633),'engineType':_0x16f74[_0x4a9908(0x741)]['Llamacpp'],'taskType':_0x16f74[_0x4a9908(0x3b8)][_0x4a9908(0x4b0)],'inputType':_0x16f74['GenerativeAIModelInputType'][_0x4a9908(0xafa)],'outputType':_0x16f74[_0x4a9908(0xa26)]['Text'],'knowledgeCutoffDate':'December\x202023','sourceUrl':_0x4a9908(0x4c9)}),this[_0x4a9908(0x4ff)][_0x4a9908(0x663)](_0x4a9908(0x429),{'id':_0x4a9908(0x429),'engineType':_0x16f74[_0x4a9908(0x741)][_0x4a9908(0x794)],'taskType':_0x16f74['GenerativeAITaskType'][_0x4a9908(0x4b0)],'inputType':_0x16f74[_0x4a9908(0x479)][_0x4a9908(0xafa)],'outputType':_0x16f74[_0x4a9908(0xa26)][_0x4a9908(0xafa)],'knowledgeCutoffDate':_0x4a9908(0x4ba),'sourceUrl':_0x4a9908(0x93b)}),this['models']['set'](_0x4a9908(0x453),{'id':_0x4a9908(0x453),'engineType':_0x16f74[_0x4a9908(0x741)]['OpenAI'],'taskType':_0x16f74[_0x4a9908(0x3b8)]['TextGeneration'],'inputType':_0x16f74[_0x4a9908(0x479)]['Text'],'outputType':_0x16f74[_0x4a9908(0xa26)][_0x4a9908(0xafa)],'knowledgeCutoffDate':_0x4a9908(0x708),'sourceUrl':''}),this[_0x4a9908(0x4ff)][_0x4a9908(0x663)](_0x4a9908(0x29f),{'id':_0x4a9908(0x29f),'engineType':_0x16f74[_0x4a9908(0x741)][_0x4a9908(0x740)],'taskType':_0x16f74[_0x4a9908(0x3b8)][_0x4a9908(0x4b0)],'inputType':_0x16f74[_0x4a9908(0x479)]['Text'],'outputType':_0x16f74[_0x4a9908(0xa26)][_0x4a9908(0xafa)],'knowledgeCutoffDate':_0x4a9908(0x708),'sourceUrl':''}),this[_0x4a9908(0x4ff)]['set']('o1',{'id':'o1','engineType':_0x16f74[_0x4a9908(0x741)][_0x4a9908(0x740)],'taskType':_0x16f74[_0x4a9908(0x3b8)][_0x4a9908(0x4b0)],'inputType':_0x16f74[_0x4a9908(0x479)]['Text'],'outputType':_0x16f74[_0x4a9908(0xa26)][_0x4a9908(0xafa)],'knowledgeCutoffDate':_0x4a9908(0x708),'sourceUrl':''}),this[_0x4a9908(0x4ff)][_0x4a9908(0x663)]('o3-mini',{'id':_0x4a9908(0x365),'engineType':_0x16f74['GenerativeAIEngineType'][_0x4a9908(0x740)],'taskType':_0x16f74['GenerativeAITaskType']['TextGeneration'],'inputType':_0x16f74[_0x4a9908(0x479)][_0x4a9908(0xafa)],'outputType':_0x16f74[_0x4a9908(0xa26)][_0x4a9908(0xafa)],'knowledgeCutoffDate':_0x4a9908(0x708),'sourceUrl':''});try{for(const _0x154232 of this[_0x4a9908(0x3cf)])await _0x154232[_0x4a9908(0x7fd)](this[_0x4a9908(0x9ce)],this[_0x4a9908(0x4ff)]);}catch(_0x452485){return this[_0x4a9908(0x645)](_0x5a9087);}this[_0x4a9908(0x93d)]=!0x0,this[_0x4a9908(0xa76)](),super[_0x4a9908(0x645)](),_0x265260[_0x4a9908(0x79c)](_0x4a9908(0x662),this[_0x4a9908(0x9ce)]);}}['reset'](){const _0x58990c=_0x128a0b;this[_0x58990c(0x55e)]=0x0,this['tokens']=0x0,this[_0x58990c(0xa76)](),super[_0x58990c(0x49e)]();}['getBid'](){const _0x336fca=_0x128a0b;return this[_0x336fca(0xa76)](),this[_0x336fca(0x1a8)]();}['compileStats'](_0x54d219,_0x40e083,_0xcebeb5){const _0x1151a4=_0x128a0b,{outputTokens:_0x53faf7=0x0,output:_0x1ee99a=''}=_0x54d219,_0x25a334=_0x53faf7/((_0xcebeb5-_0x40e083)/0x3e8);this['prompts']+=0x1,this['tokens']+=_0x53faf7,this[_0x1151a4(0x1b4)](_0x25a334,_0x53faf7),this[_0x1151a4(0xa76)]();}['accumulateResult'](_0x14de96,_0xce39cf){const _0x4a10a0=_0x128a0b;return _0x14de96[_0x4a10a0(0x956)]=_0x14de96[_0x4a10a0(0x956)]??'',{'type':_0x4a10a0(0x5c9),'output':_0x4a10a0(0x55c)==typeof _0x14de96[_0x4a10a0(0x956)]&&_0x4a10a0(0x55c)==typeof _0xce39cf['output']?_0x14de96[_0x4a10a0(0x956)]+_0xce39cf[_0x4a10a0(0x956)]:_0xce39cf[_0x4a10a0(0x956)],'outputTokens':_0xce39cf[_0x4a10a0(0x600)]??_0x14de96[_0x4a10a0(0x600)],'inputTokens':_0xce39cf['inputTokens']??_0x14de96[_0x4a10a0(0x267)]};}async['internalProcessJob'](_0x18f21b,_0x3f5103){const _0x26c576=_0x128a0b;if(_0x26c576(0x5c9)===_0x3f5103['type']){const _0x43e3b0=await _0x2f59fa[_0x26c576(0x49a)](_0x3f5103[_0x26c576(0x61b)],_0x3f5103[_0x26c576(0x7d0)]),_0xd774e0=_0x43e3b0[_0x26c576(0x1b3)][_0x26c576(0x5cf)](_0x5f27a3=>_0x5f27a3[_0x26c576(0x7dd)]===_0x20eebd['Prompt']),_0x35b8cf=await async function(_0x4a32e7,_0x550d24,_0x427731,_0x1d1040,_0x1679af){const _0x3e14a6=_0x26c576,_0x31a2d5=(0x0,_0x49421a['v4'])(),_0x14af2a=Date[_0x3e14a6(0x85a)]();await _0x5d2c78[_0x3e14a6(0x3e6)]({'jobType':_0x478bd1[_0x3e14a6(0x1d2)],'type':_0x33fc83[_0x3e14a6(0x57a)],'jobId':_0x4a32e7,'blockId':_0x427731['id'],'agentId':_0x31a2d5,'threadId':_0x550d24[_0x3e14a6(0xaca)],'traceLevel':_0xe54e92[_0x3e14a6(0x839)],'startTime':Date[_0x3e14a6(0x85a)](),'timestamp':Date[_0x3e14a6(0x85a)](),'status':_0x3e14a6(0x816),'initialPrompt':_0x550d24[_0x3e14a6(0x5c9)]}),await _0xc9a8c4(_0x550d24,_0x427731,_0x1d1040,_0x1679af);const _0x2435ed={'type':_0x3e14a6(0x5c9),'context':[],'inputTokens':0x0,'outputTokens':0x0};_0x550d24[_0x3e14a6(0x5bd)]&&(_0x2435ed[_0x3e14a6(0x5bd)]=_0x550d24[_0x3e14a6(0x5bd)]),await _0xe50c7e(_0x4a32e7,''+_0x550d24['prompt'],_0x550d24,_0x2435ed,_0x427731,_0x1d1040,_0x1679af);const {inputTokens:_0x415e8e=0x0,outputTokens:_0x2638f8=0x0,context:_0x7fcd4e=[]}=_0x2435ed;await _0x5d2c78['trace']({'jobType':_0x478bd1[_0x3e14a6(0x1d2)],'type':_0x33fc83['FinalOutput'],'jobId':_0x4a32e7,'agentId':_0x31a2d5,'threadId':_0x550d24[_0x3e14a6(0xaca)],'traceLevel':_0xe54e92[_0x3e14a6(0x839)],'startTime':_0x14af2a,'timestamp':Date[_0x3e14a6(0x85a)](),'blockId':_0x427731['id'],'status':_0x3e14a6(0x816),'output':_0x2435ed['output']?.[_0x3e14a6(0x5da)]()??'','prompt':_0x550d24[_0x3e14a6(0x5c9)],'agentName':'','history':_0x550d24[_0x3e14a6(0x58d)]??[],'instructions':''+(_0x550d24['instructions']??''),'ragContext':_0x7fcd4e,'inputTokens':_0x415e8e,'outputTokens':_0x2638f8});const _0x385af8=_0x1d1040[_0x3e14a6(0x5cf)](_0x2752f2=>_0x2752f2[_0x3e14a6(0x7dd)]===_0x20eebd['Answer']);return{'type':_0x3e14a6(0x5c9),'output':_0x2435ed[_0x3e14a6(0x956)],'context':_0x2435ed[_0x3e14a6(0x1c1)],'internalContext':_0x2435ed[_0x3e14a6(0x5bd)],'resultFile':await _0x385af8?.[_0x3e14a6(0x22c)]?.[_0x3e14a6(0x892)]?.[_0x3e14a6(0x992)]()??void 0x0,'inputTokens':_0x2435ed['inputTokens']??0x0,'outputTokens':_0x2435ed['outputTokens']??0x0};}(_0x18f21b,_0x3f5103,_0xd774e0,_0x43e3b0[_0x26c576(0x1b3)],{'documentParserConnector':this[_0x26c576(0x193)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x26c576(0x3cf)],'models':Array['from'](this[_0x26c576(0x4ff)][_0x26c576(0x36b)]()),'contentMediator':this[_0x26c576(0x2b1)],'searchConnector':this[_0x26c576(0x6d9)],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this[_0x26c576(0x502)]});return _0x35b8cf;}if(_0x26c576(0x328)===_0x3f5103['type'])return await async function(_0x38028d,_0x3f328e){const _0x9b183b=_0x26c576,_0x4c60cd={'type':_0x9b183b(0x5c9),'inputTokens':0x0,'outputTokens':0x0};return await async function(_0x3a1ec2,_0x56ccdd){const _0xa2e265=_0x9b183b,_0x5e7af3=_0x56ccdd[_0xa2e265(0x4ff)][_0xa2e265(0x5cf)](_0x206c14=>_0x206c14['id']===_0x3a1ec2[_0xa2e265(0x408)]);if(!_0x5e7af3)throw new Error(_0xa2e265(0x30c));const _0x2feabe=_0x56ccdd[_0xa2e265(0x3cf)]['find'](_0x436fc9=>_0x436fc9[_0xa2e265(0x5f7)]()===_0x5e7af3[_0xa2e265(0x9db)]);if(!_0x2feabe)throw new Error(_0xa2e265(0x5c1));return _0x2feabe[_0xa2e265(0x333)]({'type':_0xa2e265(0x5c9),'prompt':_0x3a1ec2[_0xa2e265(0x992)],'threadId':_0x3a1ec2[_0xa2e265(0xaca)]},{'model':_0x5e7af3,'sequences':0x1});}(_0x38028d,_0x3f328e),{'type':_0x9b183b(0x5c9),'output':_0x4c60cd[_0x9b183b(0x956)],'inputTokens':_0x4c60cd[_0x9b183b(0x267)]??0x0,'outputTokens':_0x4c60cd[_0x9b183b(0x600)]??0x0};}(_0x3f5103,{'documentParserConnector':this[_0x26c576(0x193)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x26c576(0x3cf)],'models':Array[_0x26c576(0x1ec)](this['models'][_0x26c576(0x36b)]()),'contentMediator':this[_0x26c576(0x2b1)],'searchConnector':this[_0x26c576(0x6d9)],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this[_0x26c576(0x502)]});if(_0x26c576(0x1f7)===_0x3f5103[_0x26c576(0x7dd)])return await async function(_0x5be9cb,_0xf58d,_0x3b18b5){const _0x64d7=_0x26c576,_0x55beae=(0x0,_0x49421a['v4'])(),_0x233827={'type':_0x64d7(0x5c9),'context':[],'internalContext':_0xf58d[_0x64d7(0x5bd)]??{},'inputTokens':0x0,'outputTokens':0x0};return await async function(_0x3aa2d9,_0x5d7919,_0x285090,_0x215007,_0x2784ec){const _0x2d26b6=_0x64d7,_0x2464ea=_0x2784ec[_0x2d26b6(0x4ff)]['find'](_0x5dcd13=>_0x5dcd13['id']===_0x285090[_0x2d26b6(0x408)]);if(!_0x2464ea)throw new Error(_0x2d26b6(0x30c));const _0x488f2e=_0x2784ec[_0x2d26b6(0x3cf)][_0x2d26b6(0x5cf)](_0x408949=>_0x408949[_0x2d26b6(0x5f7)]()===_0x2464ea[_0x2d26b6(0x9db)]);if(!_0x488f2e)throw new Error(_0x2d26b6(0x5c1));const _0x31405e=await _0x31ebda(_0x3aa2d9,_0x5d7919,_0x285090,_0x215007,_0x285090['tools']??[],_0x2784ec);return _0x488f2e[_0x2d26b6(0x333)]({'type':_0x2d26b6(0x5c9),'prompt':_0x285090[_0x2d26b6(0x5c9)],'instructions':_0x285090[_0x2d26b6(0x414)],'reasoning':_0x285090[_0x2d26b6(0x7f8)],'grammar':_0x285090['grammar'],'temperature':_0x285090['temperature'],'maxTokens':_0x285090[_0x2d26b6(0xa78)],'history':_0x285090['history'],'functions':_0x31405e,'threadId':_0x285090['threadId']},{'model':_0x2464ea,'sequences':Array[_0x2d26b6(0x1ec)](_0x31405e['keys']())[_0x2d26b6(0x3c5)](_0x1ca90d=>_0x1ca90d[_0x2d26b6(0x5fa)](_0x2d26b6(0x4d9)))?0x2:0x1});}(_0x5be9cb,_0x55beae,_0xf58d,_0x233827,_0x3b18b5),{'type':_0x64d7(0x5c9),'output':_0x233827[_0x64d7(0x956)],'context':_0x233827[_0x64d7(0x1c1)],'internalContext':_0x233827['internalContext']??{},'inputTokens':_0x233827[_0x64d7(0x267)]??0x0,'outputTokens':_0x233827[_0x64d7(0x600)]??0x0};}(_0x18f21b,_0x3f5103,{'documentParserConnector':this[_0x26c576(0x193)],'nlpLibraryConnector':this[_0x26c576(0x2dc)],'generativeAIWorkerConnectors':this[_0x26c576(0x3cf)],'models':Array[_0x26c576(0x1ec)](this[_0x26c576(0x4ff)][_0x26c576(0x36b)]()),'contentMediator':this[_0x26c576(0x2b1)],'searchConnector':this[_0x26c576(0x6d9)],'aiSearchConnector':this[_0x26c576(0x568)],'queryFileConnector':this[_0x26c576(0x502)]});if('rate'===_0x3f5103[_0x26c576(0x7dd)])return await _0x5d2c78[_0x26c576(0x3e6)]({'jobType':_0x478bd1['Rating'],'type':_0x546347['PromptRating'],'jobId':_0x3f5103[_0x26c576(0x97e)],'threadId':_0x3f5103[_0x26c576(0xaca)],'traceLevel':_0xe54e92[_0x26c576(0x839)],'startTime':Date[_0x26c576(0x85a)](),'timestamp':Date['now'](),'status':_0x26c576(0x816),'rating':_0x3f5103[_0x26c576(0x979)],'feedback':_0x3f5103[_0x26c576(0x37b)]}),{'type':'rate','status':_0x16f74['GenerativeAIRatingStatus'][_0x26c576(0x99f)]};if(_0x26c576(0x6b3)===_0x3f5103[_0x26c576(0x7dd)]){const _0xfe7f34=await async function(_0x49f6d0,_0x199af9){const _0x502782=_0x26c576;let _0x497131='';switch(_0x49f6d0[_0x502782(0x2c2)][_0x502782(0x7dd)]){case _0x16f74['GenerativeAIInferenceToolType'][_0x502782(0x1ae)]:case _0x16f74[_0x502782(0xa03)][_0x502782(0x990)]:_0x497131=await _0x405d(_0x49f6d0[_0x502782(0x61b)],_0x49f6d0['tool'],_0x199af9,_0x49f6d0['arguments']);break;case _0x16f74[_0x502782(0xa03)][_0x502782(0x79b)]:_0x497131=await _0x3cb5a8(_0x199af9,_0x49f6d0[_0x502782(0x60b)]);break;case _0x16f74[_0x502782(0xa03)][_0x502782(0x5d5)]:_0x497131=await _0x328fba(_0x49f6d0[_0x502782(0x60b)]);break;case _0x16f74['GenerativeAIInferenceToolType'][_0x502782(0x4f2)]:case _0x16f74['GenerativeAIInferenceToolType']['Knowledge']:_0x497131=await _0x412467(_0x49f6d0[_0x502782(0x61b)],_0x49f6d0[_0x502782(0x2c2)],_0x49f6d0['arguments']);break;case _0x16f74[_0x502782(0xa03)][_0x502782(0x6e0)]:_0x497131=await _0x26be4f(_0x49f6d0[_0x502782(0x2c2)],_0x49f6d0['arguments']);break;case _0x16f74[_0x502782(0xa03)]['WebScraper']:_0x497131=await _0x58c021(_0x49f6d0['arguments']);break;case _0x16f74[_0x502782(0xa03)][_0x502782(0x7b8)]:_0x497131=await _0x58c021(_0x49f6d0[_0x502782(0x60b)],!0x1);break;case _0x16f74[_0x502782(0xa03)][_0x502782(0x27c)]:_0x497131=await _0xe4aa90(_0x199af9,_0x49f6d0[_0x502782(0x60b)]);}return{'type':_0x502782(0x6b3),'output':_0x497131};}(_0x3f5103,{'documentParserConnector':this[_0x26c576(0x193)],'nlpLibraryConnector':this[_0x26c576(0x2dc)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':Array[_0x26c576(0x1ec)](this[_0x26c576(0x4ff)][_0x26c576(0x36b)]()),'contentMediator':this[_0x26c576(0x2b1)],'searchConnector':this[_0x26c576(0x6d9)],'aiSearchConnector':this[_0x26c576(0x568)],'queryFileConnector':this['queryFileConnector']});return _0xfe7f34;}if('realtime-session-create'===_0x3f5103['type']){const _0x342a9c=await _0x2f59fa[_0x26c576(0x49a)](_0x3f5103[_0x26c576(0x61b)],_0x3f5103[_0x26c576(0x7d0)]),_0x51d2c8=_0x342a9c[_0x26c576(0x1b3)]['find'](_0x4c92cf=>_0x4c92cf[_0x26c576(0x7dd)]===_0x20eebd[_0x26c576(0x1ae)]),_0x35fb18=_0x342a9c[_0x26c576(0x1b3)][_0x26c576(0x2ca)](_0x20f059=>_0x20f059[_0x26c576(0x206)]?.[_0x26c576(0x3c5)](_0x3ed0b5=>_0x3ed0b5[_0x26c576(0x7dd)]===_0x39db15[_0x26c576(0x3d9)]&&_0x3ed0b5[_0x26c576(0x997)]===_0x51d2c8[_0x26c576(0x997)]));return{'type':_0x26c576(0x25d),'apiKey':this[_0x26c576(0xab1)],'modelId':_0x51d2c8[_0x26c576(0x701)],'instructions':_0x51d2c8[_0x26c576(0x414)],'temperature':_0x51d2c8[_0x26c576(0x8f2)],'maxTokens':_0x51d2c8[_0x26c576(0xa78)],'initialPrompt':_0x342a9c[_0x26c576(0xaa8)],'tools':_0x35fb18[_0x26c576(0x8ac)](_0x561aac=>({'type':_0x561aac[_0x26c576(0x7dd)],'name':this[_0x26c576(0x44c)](_0x561aac),'description':this[_0x26c576(0x931)](_0x561aac),'parameters':this['getToolParams'](_0x561aac),'headers':_0x561aac['headers']??[],'queryParameters':_0x561aac[_0x26c576(0xaab)]??[],'bodyParameters':_0x561aac['bodyParameters']??[],'endpointUrl':_0x561aac['endpointUrl']??'','endpointMethod':_0x561aac[_0x26c576(0x642)]??'','modelId':_0x561aac[_0x26c576(0x408)]??'','instructions':_0x561aac[_0x26c576(0x414)]??'','maxTokens':_0x561aac[_0x26c576(0xa78)]??0x0,'temperature':_0x561aac[_0x26c576(0x8f2)]??0x0,'collectionId':_0x561aac[_0x26c576(0x7dd)]===_0x20eebd[_0x26c576(0x4f2)]||_0x561aac[_0x26c576(0x7dd)]===_0x20eebd[_0x26c576(0xb0b)]?_0x561aac['id']:''}))};}if(_0x26c576(0x9fd)===_0x3f5103[_0x26c576(0x7dd)]){const {vendorId:_0x1f4bd9,collectionId:_0x5418d3,fileId:_0x1b6816}=_0x3f5103,_0x2a43a5=await _0x2f59fa[_0x26c576(0x65a)](_0x1f4bd9,_0x5418d3),_0x25672c=_0x2a43a5[_0x26c576(0xa49)]?.[_0x26c576(0x5cf)](_0x6c6eda=>_0x6c6eda[_0x26c576(0x7dd)]===_0x23bc16[_0x26c576(0x316)]);if(!_0x25672c){if(!this[_0x26c576(0x6ac)])throw new Error(_0x26c576(0x764));return await this[_0x26c576(0x6ac)][_0x26c576(0x544)](_0x5418d3,_0x1b6816),{'type':_0x26c576(0x9fd)};}return this[_0x26c576(0x521)](_0x2a43a5,_0x1b6816),{'type':'file-delete'};}if(_0x26c576(0x259)===_0x3f5103[_0x26c576(0x7dd)]){let _0x5a0bb5;const _0x5ee789=this[_0x26c576(0x9b6)]['keys']();for(;!_0x5a0bb5;){const _0x2ff540=_0x5ee789[_0x26c576(0x20a)]()['value'];if(!_0x2ff540)throw new Error(_0x26c576(0xa42));_0x5a0bb5=this['dataStores'][_0x26c576(0x8b0)](_0x2ff540);try{const _0x20a7d6=await _0x5a0bb5[_0x26c576(0x8b0)](_0x3f5103[_0x26c576(0xa14)]);return{'type':_0x26c576(0x259),'fileName':_0x20a7d6[_0x26c576(0x3d4)],'mimeType':_0x20a7d6[_0x26c576(0x7dd)],'document':await _0x20a7d6['arrayBuffer']()};}catch(_0x20f81e){continue;}}throw new Error(_0x26c576(0xa42));}if('file-ingest'===_0x3f5103['type']){const {vendorId:_0x47ee9e,collectionId:_0x20d51e,fileName:_0x35fcd3,content:_0x1ba55d}=_0x3f5103,_0x455b88=await _0x2f59fa['getDataCollection'](_0x47ee9e,_0x20d51e),_0x5582ad=_0x455b88[_0x26c576(0xa49)]?.[_0x26c576(0x5cf)](_0x4eea44=>_0x4eea44[_0x26c576(0x7dd)]===_0x23bc16['Prompt']);if(!_0x5582ad){if(!this[_0x26c576(0x6ac)])throw new Error('No\x20RAG\x20connector\x20available');return await this[_0x26c576(0x6ac)][_0x26c576(0x625)](_0x20d51e,_0x35fcd3,_0x1ba55d),{'type':_0x26c576(0x356)};}const _0x2d109b=_0x455b88[_0x26c576(0x7e2)]?.[_0x26c576(0x5cf)](_0x5aa7a4=>_0x5aa7a4[_0x26c576(0x7dd)]===_0x23bc16[_0x26c576(0x2bd)]);if(!_0x2d109b)throw new Error(_0x26c576(0x731));const _0x28997a=(0x0,_0x49421a['v4'])();return _0x5d2c78[_0x26c576(0x847)](_0x47ee9e,_0x28997a),await async function(_0x5e91b9,_0xa635bf,_0x51548c,_0x24bfd7,_0x21bcd6,_0xc24ae6){const _0x2c1cff=_0x26c576;try{let _0x4fa9ff;switch(_0x24bfd7[_0x2c1cff(0x7dd)]){case _0x23bc16[_0x2c1cff(0x2bd)]:const _0x352d60=_0xc24ae6[_0x2c1cff(0x2b1)][_0x2c1cff(0x277)](_0x24bfd7['id']);_0x4fa9ff=await _0x352d60[_0x2c1cff(0x8b0)](_0x51548c);break;case _0x23bc16[_0x2c1cff(0x35d)]:const _0x39466d=_0xc24ae6[_0x2c1cff(0x2b1)][_0x2c1cff(0x969)](_0x24bfd7['id']);_0x4fa9ff=await _0x39466d[_0x2c1cff(0x8b0)](_0x51548c);}if(!_0x4fa9ff)throw new Error(_0x2c1cff(0xa41));await _0x178cd8(_0x5e91b9,_0xa635bf,{'file':_0x4fa9ff,'pathName':_0x51548c},_0x24bfd7,structuredClone(_0x21bcd6),_0xc24ae6);}catch(_0x1769b9){console['error'](_0x2c1cff(0x77c),_0x1769b9);}}(_0x3f5103[_0x26c576(0x61b)],_0x28997a,'./'+_0x35fcd3,_0x2d109b,_0x455b88[_0x26c576(0x7e2)],{'documentParserConnector':this['documentParserConnector'],'nlpLibraryConnector':this[_0x26c576(0x2dc)],'generativeAIWorkerConnectors':this[_0x26c576(0x3cf)],'models':Array[_0x26c576(0x1ec)](this[_0x26c576(0x4ff)]['values']()),'contentMediator':this['contentMediator']}),_0x5d2c78['closeTrace'](_0x28997a),{'type':_0x26c576(0x356)};}if(_0x26c576(0x986)===_0x3f5103['type']){if(!this[_0x26c576(0x6ac)])throw new Error('No\x20RAG\x20connector\x20available');return{'type':'file-list','files':await this['ragConnector'][_0x26c576(0x2a8)](_0x3f5103[_0x26c576(0x2ec)])};}if('collection-create'===_0x3f5103[_0x26c576(0x7dd)])return this[_0x26c576(0x6ac)]?(await this[_0x26c576(0x6ac)]['createCollection'](_0x3f5103['collectionId']),{'type':'collection-create'}):{'type':_0x26c576(0x19e)};if('collection-delete'===_0x3f5103[_0x26c576(0x7dd)])return this[_0x26c576(0x6ac)]?(await this[_0x26c576(0x6ac)][_0x26c576(0x587)](_0x3f5103[_0x26c576(0x2ec)]),{'type':'collection-delete'}):{'type':_0x26c576(0x32b)};if(_0x26c576(0x612)===_0x3f5103[_0x26c576(0x7dd)]){const {query:_0x143f28,vendorId:_0x5d4fb7,collectionId:_0x19282c}=_0x3f5103,_0x4b7bdd=await _0x2f59fa[_0x26c576(0x65a)](_0x5d4fb7,_0x19282c),_0x335983=_0x4b7bdd[_0x26c576(0xa49)]?.['find'](_0x439e1c=>_0x439e1c[_0x26c576(0x7dd)]===_0x23bc16[_0x26c576(0x316)]);if(!_0x335983){if(!this[_0x26c576(0x6ac)])throw new Error(_0x26c576(0x764));return{'type':_0x26c576(0x612),'results':await this['ragConnector']['queryCollection'](_0x19282c,_0x143f28)};}const _0xea3227=await async function(_0x415993,_0x54d304,_0x1bf695,_0x5f1388,_0x50fef1,_0x2aa4f5,_0x2ea32b){const _0xb7332c=_0x26c576,_0xcc30c4={'type':'prompt','output':'','context':[],'inputTokens':0x0,'outputTokens':0x0};try{let _0x207d3;await _0x299bd6(_0x415993,_0x54d304,'',_0x5f1388,_0xcc30c4,_0x50fef1,structuredClone(_0x2aa4f5),_0x2ea32b),_0xcc30c4[_0xb7332c(0x1c1)][_0xb7332c(0x959)]((_0x1fb453,_0x460cf2)=>_0x1fb453+_0x460cf2['content'][_0xb7332c(0xa20)],0x0)>_0x247f8b&&(_0x207d3=Math[_0xb7332c(0x5fc)](_0x247f8b/_0xcc30c4[_0xb7332c(0x1c1)][_0xb7332c(0xa20)])),_0xcc30c4[_0xb7332c(0x956)]=_0xb7332c(0x928)+_0xcc30c4[_0xb7332c(0x1c1)]['map'](_0x4beeeb=>'From\x20'+_0x4beeeb[_0xb7332c(0x8ce)]+':\x20'+_0x4beeeb['content']['substring'](0x0,_0x207d3))[_0xb7332c(0x406)]('\x0a');}catch(_0x362ab9){console['error'](_0xb7332c(0x4ca),_0x362ab9);}return _0xcc30c4;}(_0x3f5103[_0x26c576(0x61b)],_0x18f21b,0x0,_0x143f28,_0x335983,_0x4b7bdd[_0x26c576(0xa49)],{'documentParserConnector':this['documentParserConnector'],'nlpLibraryConnector':this[_0x26c576(0x2dc)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':Array[_0x26c576(0x1ec)](this[_0x26c576(0x4ff)][_0x26c576(0x36b)]()),'contentMediator':this[_0x26c576(0x2b1)],'searchConnector':this[_0x26c576(0x6d9)],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this['queryFileConnector']});return _0xea3227;}throw new Error(_0x26c576(0xb00));}async*[_0x128a0b(0x50a)](_0x191066,_0x1e7481){const _0x3ad080=_0x128a0b;if(_0x3ad080(0x5c9)===_0x1e7481[_0x3ad080(0x7dd)]){const _0x298451=await _0x2f59fa[_0x3ad080(0x49a)](_0x1e7481[_0x3ad080(0x61b)],_0x1e7481[_0x3ad080(0x7d0)]),_0xb249cd=_0x298451['blocks'][_0x3ad080(0x5cf)](_0x1093dd=>_0x1093dd[_0x3ad080(0x7dd)]===_0x20eebd['Prompt']);for await(const _0x3e13e7 of async function*(_0xa122f8,_0x32a78a,_0x4b4072,_0x344d76,_0x4f7127){const _0x3a8a82=_0x3ad080,_0x45f7f8=(0x0,_0x49421a['v4'])(),_0x171c52=Date['now']();await _0x5d2c78[_0x3a8a82(0x3e6)]({'jobType':_0x478bd1[_0x3a8a82(0x1d2)],'type':_0x33fc83['InitialPrompt'],'jobId':_0xa122f8,'agentId':_0x45f7f8,'threadId':_0x32a78a[_0x3a8a82(0xaca)],'traceLevel':_0xe54e92[_0x3a8a82(0x839)],'startTime':Date['now'](),'timestamp':Date['now'](),'blockId':_0x4b4072['id'],'status':_0x3a8a82(0x816),'initialPrompt':_0x32a78a[_0x3a8a82(0x5c9)]}),await _0xc9a8c4(_0x32a78a,_0x4b4072,_0x344d76,_0x4f7127);const _0x3eb7d1={'type':_0x3a8a82(0x5c9),'context':[],'inputTokens':0x0,'outputTokens':0x0};_0x32a78a[_0x3a8a82(0x5bd)]&&(_0x3eb7d1[_0x3a8a82(0x5bd)]=_0x32a78a[_0x3a8a82(0x5bd)]);const _0xb11d34=new _0x311e96();_0xe50c7e(_0xa122f8,''+_0x32a78a[_0x3a8a82(0x5c9)],_0x32a78a,_0x3eb7d1,_0x4b4072,_0x344d76,_0x4f7127,_0xb11d34);let _0x27acb8='',_0x4fdd94={'type':'prompt'};for(;;){const _0x581017=await _0xb11d34[_0x3a8a82(0x943)]();if(!_0x581017)break;_0x27acb8+=_0x581017[_0x3a8a82(0x956)],_0x4fdd94={'type':'prompt','output':_0x581017[_0x3a8a82(0x956)],'context':_0x3eb7d1['context'],'resultFile':void 0x0,'inputTokens':(_0x3eb7d1['inputTokens']??0x0)+(_0x581017['inputTokens']??0x0),'outputTokens':(_0x3eb7d1[_0x3a8a82(0x600)]??0x0)+(_0x581017['outputTokens']??0x0)},yield _0x4fdd94;}const _0x5519d3=_0x344d76[_0x3a8a82(0x5cf)](_0x154bc6=>_0x154bc6['type']===_0x20eebd[_0x3a8a82(0x8d4)]);yield{..._0x4fdd94,'output':'','internalContext':_0x3eb7d1[_0x3a8a82(0x5bd)],'resultFile':await _0x5519d3?.[_0x3a8a82(0x22c)]?.['file']?.[_0x3a8a82(0x992)]()??void 0x0};const {inputTokens:_0x1640a2=0x0,outputTokens:_0x18be2d=0x0,context:_0x828005=[]}=_0x4fdd94;await _0x5d2c78['trace']({'jobType':_0x478bd1[_0x3a8a82(0x1d2)],'type':_0x33fc83[_0x3a8a82(0x93f)],'jobId':_0xa122f8,'agentId':_0x45f7f8,'threadId':_0x32a78a[_0x3a8a82(0xaca)],'traceLevel':_0xe54e92[_0x3a8a82(0x839)],'startTime':_0x171c52,'timestamp':Date[_0x3a8a82(0x85a)](),'blockId':_0x4b4072['id'],'status':_0x3a8a82(0x816),'output':_0x27acb8,'prompt':_0x32a78a[_0x3a8a82(0x5c9)],'agentName':'','history':_0x32a78a[_0x3a8a82(0x58d)]??[],'instructions':''+(_0x32a78a[_0x3a8a82(0x414)]??''),'ragContext':_0x828005,'inputTokens':_0x1640a2,'outputTokens':_0x18be2d});}(_0x191066,_0x1e7481,_0xb249cd,_0x298451[_0x3ad080(0x1b3)],{'documentParserConnector':this['documentParserConnector'],'nlpLibraryConnector':this[_0x3ad080(0x2dc)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':Array[_0x3ad080(0x1ec)](this[_0x3ad080(0x4ff)][_0x3ad080(0x36b)]()),'contentMediator':this[_0x3ad080(0x2b1)],'searchConnector':this[_0x3ad080(0x6d9)],'aiSearchConnector':this[_0x3ad080(0x568)],'queryFileConnector':this[_0x3ad080(0x502)]}))yield _0x3e13e7;}if(_0x3ad080(0x1f7)===_0x1e7481[_0x3ad080(0x7dd)]){for await(const _0x5b324a of async function*(_0x562bf9,_0x27732c,_0x1fdba3){const _0xd7f3e=_0x3ad080,_0x44f09b=(0x0,_0x49421a['v4'])(),_0x21c10c={'type':'prompt','context':[],'internalContext':_0x27732c['internalContext']??{},'inputTokens':0x0,'outputTokens':0x0},_0x5eef9a=new _0x311e96();!async function(_0x5042cc,_0x552e2b,_0x1a0bd7,_0x5aec34,_0x42d847,_0x2179c2){const _0x5e0146=a0_0xdea0,_0x3783c9=_0x2179c2[_0x5e0146(0x4ff)]['find'](_0x2ea563=>_0x2ea563['id']===_0x1a0bd7[_0x5e0146(0x408)]);if(!_0x3783c9)throw new Error(_0x5e0146(0x30c));const _0x294f30=_0x2179c2[_0x5e0146(0x3cf)][_0x5e0146(0x5cf)](_0x4e95c9=>_0x4e95c9[_0x5e0146(0x5f7)]()===_0x3783c9[_0x5e0146(0x9db)]);if(!_0x294f30)throw new Error(_0x5e0146(0x5c1));const _0x216e47={'type':_0x5e0146(0x5c9),'output':''},_0x28cec5=await _0x31ebda(_0x5042cc,_0x552e2b,_0x1a0bd7,_0x5aec34,_0x1a0bd7[_0x5e0146(0x70a)]??[],_0x2179c2,_0x42d847);for await(const _0x3d8fea of _0x294f30['processJobStream']({'type':_0x5e0146(0x5c9),'prompt':_0x1a0bd7['prompt'],'instructions':_0x1a0bd7[_0x5e0146(0x414)],'reasoning':_0x1a0bd7[_0x5e0146(0x7f8)],'grammar':_0x1a0bd7[_0x5e0146(0x971)],'temperature':_0x1a0bd7['temperature'],'maxTokens':_0x1a0bd7[_0x5e0146(0xa78)],'history':_0x1a0bd7['history'],'functions':_0x28cec5,'threadId':_0x1a0bd7[_0x5e0146(0xaca)]},{'model':_0x3783c9,'sequences':Array[_0x5e0146(0x1ec)](_0x28cec5[_0x5e0146(0x321)]())[_0x5e0146(0x3c5)](_0xd69ebc=>_0xd69ebc['startsWith'](_0x5e0146(0x4d9)))?0x2:0x1}))_0x42d847[_0x5e0146(0x421)](_0x3d8fea),_0x5e0146(0x55c)==typeof _0x216e47['output']&&'string'==typeof _0x3d8fea['output']&&(_0x216e47['output']+=_0x3d8fea[_0x5e0146(0x956)]),_0x216e47[_0x5e0146(0x267)]=_0x3d8fea[_0x5e0146(0x267)],_0x216e47[_0x5e0146(0x600)]=_0x3d8fea[_0x5e0146(0x600)];_0x42d847[_0x5e0146(0x421)](void 0x0);}(_0x562bf9,_0x44f09b,_0x27732c,_0x21c10c,_0x5eef9a,_0x1fdba3);let _0x34ab9a='',_0x34faa3={'type':'prompt'};for(;;){const _0x538883=await _0x5eef9a['once']();if(!_0x538883)break;_0x34ab9a+=_0x538883[_0xd7f3e(0x956)],_0x34faa3={'type':_0xd7f3e(0x5c9),'output':_0x538883['output'],'context':_0x21c10c[_0xd7f3e(0x1c1)],'internalContext':{},'inputTokens':(_0x21c10c['inputTokens']??0x0)+(_0x538883[_0xd7f3e(0x267)]??0x0),'outputTokens':(_0x21c10c[_0xd7f3e(0x600)]??0x0)+(_0x538883['outputTokens']??0x0)},yield _0x34faa3;}yield{..._0x34faa3,'output':'','internalContext':_0x21c10c[_0xd7f3e(0x5bd)]??{}};}(_0x191066,_0x1e7481,{'documentParserConnector':this[_0x3ad080(0x193)],'nlpLibraryConnector':this[_0x3ad080(0x2dc)],'generativeAIWorkerConnectors':this[_0x3ad080(0x3cf)],'models':Array['from'](this[_0x3ad080(0x4ff)][_0x3ad080(0x36b)]()),'contentMediator':this['contentMediator'],'searchConnector':this[_0x3ad080(0x6d9)],'aiSearchConnector':this[_0x3ad080(0x568)],'queryFileConnector':this[_0x3ad080(0x502)]}))yield _0x5b324a;}}async[_0x128a0b(0x589)](_0x365b66,_0x569fda){const _0x2853d3=_0x128a0b;if(_0x2853d3(0x342)===_0x569fda[_0x2853d3(0x7dd)])return _0x365b66=_0x569fda[_0x2853d3(0x97e)],void await this[_0x2853d3(0x847)](_0x365b66,_0x569fda[_0x2853d3(0x61b)],_0x569fda[_0x2853d3(0x7d0)]);await this['openTrace'](_0x365b66,_0x569fda['vendorId'],_0x569fda['workflowId'],_0x569fda[_0x2853d3(0xaca)]),await _0x5d2c78[_0x2853d3(0x3e6)]({'jobType':_0x478bd1['Job'],'type':_0x5a4bd3[_0x2853d3(0xa7e)],'traceLevel':_0xe54e92['Info'],'jobId':_0x365b66,'threadId':_0x569fda[_0x2853d3(0xaca)],'startTime':Date['now'](),'timestamp':Date[_0x2853d3(0x85a)](),'status':_0x2853d3(0x816)});}async[_0x128a0b(0x202)](_0x1c20c6,_0x47118a){const _0x3dfb17=_0x128a0b;if(_0x3dfb17(0x342)===_0x47118a[_0x3dfb17(0x7dd)])return _0x1c20c6=_0x47118a[_0x3dfb17(0x97e)],void await this['closeTrace'](_0x1c20c6);await _0x5d2c78[_0x3dfb17(0x3e6)]({'jobType':_0x478bd1[_0x3dfb17(0x22b)],'type':_0x5a4bd3[_0x3dfb17(0x2ab)],'traceLevel':_0xe54e92[_0x3dfb17(0x839)],'jobId':_0x1c20c6,'threadId':_0x47118a[_0x3dfb17(0xaca)],'startTime':Date[_0x3dfb17(0x85a)](),'timestamp':Date[_0x3dfb17(0x85a)](),'status':_0x3dfb17(0x816)}),await this[_0x3dfb17(0x398)](_0x1c20c6,_0x47118a['threadId']);}[_0x128a0b(0x44c)](_0x53f96c){const _0x456467=_0x128a0b;switch(_0x53f96c[_0x456467(0x7dd)]){case _0x20eebd[_0x456467(0x1ae)]:case _0x20eebd[_0x456467(0x990)]:return _0x456467(0x4d9)+_0x53f96c['name']['replace'](/[^a-zA-Z]/g,'');case _0x20eebd[_0x456467(0x4f2)]:case _0x20eebd[_0x456467(0xb0b)]:return _0x456467(0x2e4)+_0x53f96c[_0x456467(0x3d4)][_0x456467(0xa2e)](/[^a-zA-Z]/g,'');case _0x20eebd['CustomSkill']:return _0x53f96c['name'][_0x456467(0xa2e)](/[^a-zA-Z]/g,'');case _0x20eebd[_0x456467(0x8c0)]:return'searchOnPerplexity';case _0x20eebd[_0x456467(0x5d5)]:return _0x456467(0x60e);case _0x20eebd['Search']:return _0x456467(0x97c);case _0x20eebd['WebScraper']:case _0x20eebd[_0x456467(0x7b8)]:return _0x456467(0x353);default:return'';}}[_0x128a0b(0x931)](_0x4611c6){const _0x144f4f=_0x128a0b;switch(_0x4611c6[_0x144f4f(0x7dd)]){case _0x20eebd[_0x144f4f(0x1ae)]:case _0x20eebd[_0x144f4f(0x990)]:return _0x144f4f(0xa5d)+_0x4611c6[_0x144f4f(0x8fc)]+'\x20to\x20generate\x20a\x20response.';case _0x20eebd[_0x144f4f(0x4f2)]:case _0x20eebd[_0x144f4f(0xb0b)]:return _0x144f4f(0x1a7)+_0x4611c6[_0x144f4f(0x8fc)]+_0x144f4f(0xa29);case _0x20eebd[_0x144f4f(0x6e0)]:return _0x144f4f(0x4cb)+_0x4611c6[_0x144f4f(0x8fc)];case _0x20eebd[_0x144f4f(0x8c0)]:return _0x144f4f(0xa30);case _0x20eebd[_0x144f4f(0x5d5)]:return _0x144f4f(0x6f0);case _0x20eebd[_0x144f4f(0x27c)]:return _0x144f4f(0x908);case _0x20eebd[_0x144f4f(0x53e)]:case _0x20eebd[_0x144f4f(0x7b8)]:return'Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.';default:return'';}}['getToolParams'](_0x2c159f){const _0x290071=_0x128a0b;switch(_0x2c159f[_0x290071(0x7dd)]){case _0x20eebd[_0x290071(0x1ae)]:case _0x20eebd[_0x290071(0x990)]:return[{'name':_0x290071(0x5c9),'type':'string'}];case _0x20eebd[_0x290071(0x4f2)]:case _0x20eebd[_0x290071(0xb0b)]:return[{'name':_0x290071(0x651),'type':'string'}];case _0x20eebd[_0x290071(0x6e0)]:return _0x2c159f[_0x290071(0x781)]['map'](_0x113609=>({'name':_0x113609[_0x290071(0x3d4)],'type':_0x113609[_0x290071(0x7dd)]??'string'}))??[];case _0x20eebd[_0x290071(0x8c0)]:return[{'name':_0x290071(0x38b),'type':'string'}];case _0x20eebd[_0x290071(0x5d5)]:return[{'name':_0x290071(0x1ce),'type':_0x290071(0x55c)}];case _0x20eebd['Search']:return[{'name':'query','type':_0x290071(0x55c)}];case _0x20eebd[_0x290071(0x53e)]:case _0x20eebd[_0x290071(0x7b8)]:return[{'name':'url','type':'string'},{'name':_0x290071(0x5b0),'type':_0x290071(0x762)}];default:return[];}}['getCoresFromCapacityReport'](){const _0x137163=_0x128a0b;try{return this['capacityReporter'][_0x137163(0x187)]()[_0x137163(0x66a)][_0x137163(0xa8a)]*(0x1-this[_0x137163(0x4ac)][_0x137163(0x187)]()['gpu']['load']);}catch(_0x599472){return _0x265260['log'](_0x1367fe[_0x137163(0xae9)],_0x137163(0x8c3),_0x599472),0x0;}}['sendStats'](){const _0x323439=_0x128a0b;this[_0x323439(0x93d)]&&(this['debounceStats']&&clearTimeout(this[_0x323439(0xa16)]),this[_0x323439(0xa16)]=setTimeout(async()=>{const _0x527b3c=_0x323439;delete this[_0x527b3c(0xa16)];let _0x426747=0x0;for(const _0x1d040a of this[_0x527b3c(0x9b6)][_0x527b3c(0x36b)]())_0x426747+=await _0x1d040a['getSize']();this[_0x527b3c(0x7be)]['publish']({'sourceId':_0x4b0f68,'messageType':_0x562b7c[_0x527b3c(0x40d)],'content':{'type':_0x267eb0[_0x527b3c(0x6a1)],'label':this[_0x527b3c(0x9ce)],'stats':{'timestamp':Date[_0x527b3c(0x85a)](),'storage':_0x426747,'messagesSent':this[_0x527b3c(0x5e4)],'messagesReceived':this[_0x527b3c(0x68a)],'bytesSent':this[_0x527b3c(0x9dc)],'bytesReceived':this[_0x527b3c(0xa43)],'writes':0x0,'reads':0x0,'prompts':this['prompts'],'tokens':this[_0x527b3c(0xafd)]}}});},_0x9bc8e5));}[_0x128a0b(0x1b4)](_0x338549,_0x2d03b0){const _0x4ff335=_0x128a0b,_0x4bb90c=this[_0x4ff335(0x9ce)],_0x525f43=this[_0x4ff335(0x5e3)]();_0x265260[_0x4ff335(0x1b4)](_0x5790a5[_0x4ff335(0x219)],{'topic':_0x4bb90c,'type':'answer','nodeId':_0x525f43,'tokenCount':_0x2d03b0,'tokensPerSecond':_0x338549});}async[_0x128a0b(0x847)](_0x4058d7,_0x4dd02a,_0x1f78a1,_0x4de5d1){const _0x3e2857=_0x128a0b;try{if(!await _0x5d2c78[_0x3e2857(0x847)](_0x4dd02a,_0x4058d7,_0x1f78a1,_0x4de5d1))throw new Error(_0x3e2857(0x86b));return _0x4058d7;}catch(_0xe7d9a7){return console['error'](_0x3e2857(0x86b),_0xe7d9a7),_0x3e2857(0x676);}}async[_0x128a0b(0x398)](_0x5e9169,_0x5792de){const _0x48df67=_0x128a0b;try{await _0x5d2c78[_0x48df67(0x398)](_0x5e9169,_0x5792de);}catch(_0x3902ea){console[_0x48df67(0x5b5)](_0x48df67(0x4c5),{'jobId':_0x5e9169,'error':_0x3902ea});}}[_0x128a0b(0x521)](_0x23fda6,_0x4ae7e7){const _0x540d5f=_0x128a0b;for(const _0x42f324 of _0x23fda6['ingestBlocks']??[])_0x42f324[_0x540d5f(0x7dd)]===_0x23bc16[_0x540d5f(0x56f)]&&this[_0x540d5f(0x2b1)][_0x540d5f(0x378)](_0x42f324['id'])[_0x540d5f(0x213)](_0x4ae7e7),_0x42f324['type']===_0x23bc16['GraphDatabase']&&this[_0x540d5f(0x2b1)][_0x540d5f(0x3c8)](_0x42f324['id'])[_0x540d5f(0x213)](_0x4ae7e7);}}class _0x130a7b extends _0x5973c2{['localNode'];[_0x128a0b(0x2cd)];[_0x128a0b(0x61b)];['db'];['debounceStats'];[_0x128a0b(0xa2c)]=0x0;[_0x128a0b(0x469)]=0x0;[_0x128a0b(0x53b)]=!0x1;constructor(_0x25fb03,_0x20a5c3,_0x28fbd3,_0x315fc4,_0x2bb031){const _0x192af9=_0x128a0b;if('string'!=typeof _0x20a5c3)throw new _0x325cc6(_0x3336f9[_0x192af9(0x241)],_0x192af9(0xac0));super(_0x25fb03,_0x20a5c3),this[_0x192af9(0x8cc)]=_0x25fb03,this[_0x192af9(0x2cd)]=_0x28fbd3,this[_0x192af9(0x61b)]=_0x315fc4;const _0x4fc137=_0x192af9(0x670)+this[_0x192af9(0x61b)]+_0x192af9(0x670)+this[_0x192af9(0x2cd)]+_0x192af9(0x670)+this[_0x192af9(0x9ce)];this['db']=new _0x2bb031(_0x4fc137),this['sendStats']();}[_0x128a0b(0xaf9)](){const _0x5d4aee=_0x128a0b;return this[_0x5d4aee(0x53b)];}[_0x128a0b(0xae6)](_0x27806a){const _0x58ec49=_0x128a0b;this[_0x58ec49(0x53b)]=_0x27806a;}[_0x128a0b(0x61e)](){const _0x1634d3=_0x128a0b;clearTimeout(this[_0x1634d3(0xa16)]),delete this['debounceStats'],super[_0x1634d3(0x61e)]();}[_0x128a0b(0x42d)](){const _0x31d67b=_0x128a0b;this[_0x31d67b(0x7be)][_0x31d67b(0x56d)]({'sourceId':_0x4b0f68,'messageType':_0x562b7c[_0x31d67b(0x40d)],'content':{'type':_0x267eb0[_0x31d67b(0x694)],'label':this[_0x31d67b(0x9ce)]}});}['getContentType'](){const _0x50de89=_0x128a0b;return _0x16f74['ContentType'][_0x50de89(0x789)];}[_0x128a0b(0x49e)](){const _0x485b52=_0x128a0b;this[_0x485b52(0xa76)]();}['addNode'](_0x484f0d,_0x3a8bd8,_0x386213,_0x978a50){const _0x13c9c8=_0x128a0b;this['db']['addNode'](_0x484f0d,_0x3a8bd8,_0x386213,_0x978a50),this[_0x13c9c8(0xa2c)]+=0x1,this[_0x13c9c8(0xa76)]();}[_0x128a0b(0x8b1)](_0x347709,_0x27d077){const _0x5de1bd=_0x128a0b;this['db']['addEdge'](_0x347709,_0x27d077),this[_0x5de1bd(0xa2c)]+=0x1,this['sendStats']();}[_0x128a0b(0xae1)](_0x26fb0b,_0x31533a,_0xb14616){const _0x35589b=_0x128a0b,_0x58f6eb=this['db'][_0x35589b(0xae1)](_0x26fb0b,_0x31533a,_0xb14616);return this[_0x35589b(0x469)]+=0x1,_0x265260['logServiceEvent'](_0x5790a5[_0x35589b(0x789)],{'type':'get-content','label':this['label'],'nodeId':this['localNode'][_0x35589b(0x993)](),'nodeType':this['localNode'][_0x35589b(0x7dd)],'clusterId':this['clusterId'],'size':0x0}),this['sendStats'](),_0x58f6eb;}[_0x128a0b(0x213)](_0x58d47d){const _0x1b1b2a=_0x128a0b;this['db'][_0x1b1b2a(0x213)](_0x58d47d),this[_0x1b1b2a(0xa2c)]+=0x1,this['sendStats']();}[_0x128a0b(0x9de)](_0x4cb5c3){const _0x502e38=_0x128a0b;this['db'][_0x502e38(0x9de)](_0x4cb5c3);}[_0x128a0b(0x958)](_0x5a5640){this['db']['loadFromDisk'](_0x5a5640);}[_0x128a0b(0xa76)](){const _0xaf9fcc=_0x128a0b;this['debounceStats']&&clearTimeout(this[_0xaf9fcc(0xa16)]),this[_0xaf9fcc(0xa16)]=setTimeout(async()=>{const _0x202457=_0xaf9fcc;delete this[_0x202457(0xa16)];const _0x2e4ded=this['db'][_0x202457(0xa54)]();this[_0x202457(0x7be)]['publish']({'sourceId':_0x4b0f68,'messageType':_0x562b7c[_0x202457(0x40d)],'content':{'type':_0x267eb0[_0x202457(0x1bb)],'label':this[_0x202457(0x9ce)],'stats':{'timestamp':Date[_0x202457(0x85a)](),'storage':_0x2e4ded,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x202457(0x68a)],'bytesSent':this[_0x202457(0x9dc)],'bytesReceived':this['bytesReceived'],'writes':this[_0x202457(0xa2c)],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),_0x265260[_0x202457(0xa3e)](_0x5790a5['GraphDatabase'],_0x202457(0x670)+this['clusterId']+_0x202457(0x670)+this[_0x202457(0x9ce)],_0x2e4ded);},_0x9bc8e5);}}class _0x13935e extends _0x3c7410{['mediaStream'];constructor(_0x6ebe0a,_0x22c20f,_0x589f14){const _0x1e497f=_0x128a0b;super(_0x6ebe0a,_0x22c20f),this[_0x1e497f(0x39c)]=_0x589f14;}['getContentType'](){const _0x386aee=_0x128a0b;return _0x16f74[_0x386aee(0x6f5)]['Media'];}['getMediaStream'](){const _0xa88063=_0x128a0b;return this[_0xa88063(0x39c)];}[_0x128a0b(0x1e9)](){const _0x2a38b2=_0x128a0b;return this[_0x2a38b2(0x39c)]['id'];}}class _0x28300f extends _0x13935e{[_0x128a0b(0x606)];[_0x128a0b(0x5fd)];[_0x128a0b(0x3c1)];[_0x128a0b(0x71c)]=_0x426138();constructor(_0x42e7fa,_0x5032e6,_0x6c25df,_0x162b69,_0x4c2645){const _0x29f92b=_0x128a0b;super(_0x42e7fa,_0x5032e6,_0x6c25df),this[_0x29f92b(0x606)]=_0x162b69,this[_0x29f92b(0x5fd)]=_0x4c2645;}[_0x128a0b(0x61e)](){const _0x2ac5c6=_0x128a0b;this['removeTrack'](_0x2ac5c6(0x4a1)),this['removeTrack'](_0x2ac5c6(0x1fb)),super['destroy']();}['addTrack'](_0x27b04d){const _0x586224=_0x128a0b;if(!this[_0x586224(0x3c1)])throw new _0x4204a5(_0x4204a5[_0x586224(0x7f9)]['OutgoingMediaStreamNoTopic'],{'label':this[_0x586224(0x9ce)],'ownerId':this[_0x586224(0x25a)]['getId'](),'remoteId':this[_0x586224(0x606)]});this['topic'][_0x586224(0x56d)]({'sourceId':this['owner'][_0x586224(0x993)](),'content':{'action':_0x155040[_0x586224(0xaaa)],'track':_0x27b04d,'stream':this[_0x586224(0x39c)],'priority':_0x16f74['MediaStreamPriority'][_0x586224(0x2aa)],'params':this[_0x586224(0x244)](_0x27b04d['kind'],this[_0x586224(0x5fd)])}});}['removeTrack'](_0x20ef58){const _0x43288e=_0x128a0b,_0x5df275=this[_0x43288e(0x430)](_0x20ef58);if(_0x5df275){if(!this['topic'])return null;this['topic'][_0x43288e(0x56d)]({'sourceId':this[_0x43288e(0x25a)][_0x43288e(0x993)](),'content':{'action':_0x155040[_0x43288e(0x690)],'track':_0x5df275,'stream':this[_0x43288e(0x39c)]}});}return _0x5df275;}['setPriority'](_0x43dba8){const _0x3fdbdd=_0x128a0b;if(!this[_0x3fdbdd(0x3c1)])throw new _0x4204a5(_0x4204a5[_0x3fdbdd(0x7f9)][_0x3fdbdd(0x767)],{'label':this['label'],'ownerId':this[_0x3fdbdd(0x25a)][_0x3fdbdd(0x993)](),'remoteId':this[_0x3fdbdd(0x606)]});this[_0x3fdbdd(0x3c1)][_0x3fdbdd(0x56d)]({'sourceId':this[_0x3fdbdd(0x25a)]['getId'](),'content':{'action':_0x155040[_0x3fdbdd(0xa5f)],'priority':_0x43dba8,'stream':this[_0x3fdbdd(0x39c)]}});}['subscribe']({trackKinds:_0x4051cb,params:_0x43adef},_0x1f8950){const _0x1190ee=_0x128a0b;if(!this[_0x1190ee(0x3c1)])throw new _0x4204a5(_0x4204a5[_0x1190ee(0x7f9)][_0x1190ee(0x767)],{'label':this[_0x1190ee(0x9ce)],'ownerId':this[_0x1190ee(0x25a)][_0x1190ee(0x993)](),'remoteId':this['remoteId']});for(const _0x1b7343 of this[_0x1190ee(0x39c)][_0x1190ee(0x54e)]())_0x4051cb['includes'](_0x1b7343[_0x1190ee(0x338)])&&this[_0x1190ee(0x3c1)][_0x1190ee(0x56d)]({'sourceId':this['owner'][_0x1190ee(0x993)](),'content':{'action':_0x155040['Add'],'track':_0x1b7343,'stream':this[_0x1190ee(0x39c)],'priority':_0x1f8950,'params':this[_0x1190ee(0x244)](_0x1b7343[_0x1190ee(0x338)],_0x43adef)}});}[_0x128a0b(0x603)]({params:_0x2f0db8}){const _0x4750b2=_0x128a0b;if(!this[_0x4750b2(0x3c1)])throw new _0x4204a5(_0x4204a5[_0x4750b2(0x7f9)][_0x4750b2(0x767)],{'label':this['label'],'ownerId':this[_0x4750b2(0x25a)][_0x4750b2(0x993)](),'remoteId':this[_0x4750b2(0x606)]});for(const _0x19ecdf of this['mediaStream']['getTracks']())this[_0x4750b2(0x3c1)]['publish']({'sourceId':this[_0x4750b2(0x25a)][_0x4750b2(0x993)](),'content':{'action':_0x155040[_0x4750b2(0xa5f)],'stream':this[_0x4750b2(0x39c)],'params':this[_0x4750b2(0x244)](_0x19ecdf['kind'],_0x2f0db8)}});}['unsubscribe']({trackKinds:_0x5c6994}){const _0x25261b=_0x128a0b;if(this[_0x25261b(0x3c1)]){for(const _0x326b43 of this['mediaStream'][_0x25261b(0x54e)]())_0x5c6994[_0x25261b(0x6b7)](_0x326b43[_0x25261b(0x338)])&&this[_0x25261b(0x3c1)]['publish']({'sourceId':this[_0x25261b(0x25a)][_0x25261b(0x993)](),'content':{'action':_0x155040[_0x25261b(0x690)],'stream':this[_0x25261b(0x39c)],'track':_0x326b43}});}}[_0x128a0b(0x6d6)](_0x3c1822){const _0x327f48=_0x128a0b;this[_0x327f48(0x3c1)]=_0x3c1822;}[_0x128a0b(0x8bc)](_0x1e8957){const _0x1d68e5=_0x128a0b;_0x1e8957===this['topic']&&(delete this[_0x1d68e5(0x3c1)],this[_0x1d68e5(0x71c)][_0x1d68e5(0x56d)]());}[_0x128a0b(0xa9c)](_0x3416be){const _0x441b74=_0x128a0b;return this[_0x441b74(0x71c)][_0x441b74(0x3b4)](_0x3416be);}[_0x128a0b(0x430)](_0x13776e){const _0x4460cc=_0x128a0b;return this[_0x4460cc(0x39c)]['getTracks']()[_0x4460cc(0x5cf)](_0x56cf73=>_0x56cf73['kind']===_0x13776e)||null;}[_0x128a0b(0x244)](_0x4a4d74,_0x394c2e){const _0x4101a7=_0x128a0b;let _0xc99dcf;return _0x4101a7(0x1fb)===_0x4a4d74&&_0x394c2e?.[_0x4101a7(0x1fb)]&&_0x4101a7(0x862)!=typeof _0x394c2e[_0x4101a7(0x1fb)]&&(_0xc99dcf={'kind':_0x4101a7(0x1fb),..._0x394c2e[_0x4101a7(0x1fb)]},_0xc99dcf[_0x4101a7(0x999)]=this[_0x4101a7(0xaad)]()),_0x4101a7(0x4a1)===_0x4a4d74&&_0x394c2e?.[_0x4101a7(0x4a1)]&&'boolean'!=typeof _0x394c2e[_0x4101a7(0x4a1)]&&(_0xc99dcf={'kind':_0x4101a7(0x4a1),..._0x394c2e[_0x4101a7(0x4a1)]}),_0xc99dcf;}[_0x128a0b(0xaad)](){const _0x83b149=_0x128a0b;let _0x49ab21={'width':0x0,'height':0x0};const _0x539994=this[_0x83b149(0x39c)][_0x83b149(0x6c8)]();if(_0x539994[_0x83b149(0xa20)]>0x0){const _0xe4f998=_0x539994[0x0][_0x83b149(0x5f9)]();_0xe4f998['width']&&_0xe4f998[_0x83b149(0x713)]&&(_0x49ab21={'width':_0xe4f998[_0x83b149(0x6c6)],'height':_0xe4f998[_0x83b149(0x713)]});}return _0x49ab21;}}class _0x2641e1 extends _0x13935e{['clusterId'];[_0x128a0b(0x522)]=_0x16f74['MediaStreamPriority'][_0x128a0b(0x2aa)];[_0x128a0b(0x817)]=new Map();['outgoingStreams']=new Map();constructor(_0x5caa4b,_0xab228,_0x54aa57,_0x109aa7){const _0x196a4e=_0x128a0b;super(_0x5caa4b,_0xab228,_0x54aa57 instanceof MediaStream?_0x54aa57:_0x54aa57[_0x196a4e(0x904)]?_0x54aa57['srcObject']:_0x54aa57[_0x196a4e(0x682)]()),this[_0x196a4e(0x2cd)]=_0x109aa7,this['mediaStream'][_0x196a4e(0x54e)]()['forEach'](_0x492eb6=>this['setupTrackEndedListeners'](_0x492eb6)),_0x265260['logServiceEvent'](_0x5790a5['MediaStream'],{'type':'publish','label':this['label'],'nodeId':this['owner'][_0x196a4e(0x993)](),'nodeType':this[_0x196a4e(0x25a)]['type'],'clusterId':this[_0x196a4e(0x2cd)],'streamId':this[_0x196a4e(0x1e9)](),'trackKinds':this[_0x196a4e(0x39c)]['getTracks']()['map'](_0xcca530=>_0xcca530[_0x196a4e(0x338)])});}[_0x128a0b(0x61e)](){const _0xc25fac=_0x128a0b;this['outgoingStreams']['size']>0x0&&(this['outgoingStreams'][_0xc25fac(0x8b3)](_0x3954eb=>{const _0x14101a=_0xc25fac;_0x3954eb[_0x14101a(0x211)](),_0x3954eb['destroy']();}),this[_0xc25fac(0xa69)][_0xc25fac(0x9e4)]()),this['trackEndedListeners']['forEach'](_0x30ad69=>_0x30ad69()),super[_0xc25fac(0x61e)]();}[_0x128a0b(0x56d)](_0xe98255){const _0x226fb4=_0x128a0b;this[_0x226fb4(0x7be)][_0x226fb4(0x56d)]({'sourceId':this[_0x226fb4(0x25a)][_0x226fb4(0x993)](),'destinationIds':_0xe98255?[_0xe98255]:void 0x0,'propagate':!0x0,'messageType':_0x562b7c[_0x226fb4(0x40d)],'content':{'type':_0x267eb0[_0x226fb4(0xa45)],'ownerId':this[_0x226fb4(0x25a)]['getId'](),'label':this[_0x226fb4(0x9ce)],'stream':{'streamId':this[_0x226fb4(0x1e9)](),'availableTrackKinds':this[_0x226fb4(0x39c)]['getTracks']()['map'](_0x3f76f9=>_0x3f76f9[_0x226fb4(0x338)])}}});}[_0x128a0b(0x729)](){const _0x1d6750=_0x128a0b;this[_0x1d6750(0x7be)][_0x1d6750(0x56d)]({'sourceId':this[_0x1d6750(0x25a)]['getId'](),'propagate':!0x0,'messageType':_0x562b7c['Content'],'content':{'type':_0x267eb0[_0x1d6750(0x95e)],'ownerId':this[_0x1d6750(0x25a)][_0x1d6750(0x993)](),'label':this[_0x1d6750(0x9ce)]}}),this['systemTopic'][_0x1d6750(0x56d)]({'sourceId':_0x4b0f68,'messageType':_0x562b7c[_0x1d6750(0x40d)],'content':{'type':_0x267eb0['CloseMediaStream'],'label':this[_0x1d6750(0x9ce)]}}),_0x265260[_0x1d6750(0x1b4)](_0x5790a5['MediaStream'],{'type':_0x1d6750(0x729),'label':this[_0x1d6750(0x9ce)],'nodeId':this[_0x1d6750(0x25a)][_0x1d6750(0x993)](),'nodeType':this[_0x1d6750(0x25a)]['type'],'clusterId':this[_0x1d6750(0x2cd)],'streamId':this['getInternalStreamId']()});}['getPriority'](){return this['priority'];}[_0x128a0b(0x93a)](_0x28df86){const _0xa1018f=_0x128a0b;this[_0xa1018f(0x522)]=_0x28df86,this['outgoingStreams'][_0xa1018f(0x8b3)](_0x244ec1=>_0x244ec1[_0xa1018f(0x93a)](_0x28df86));}[_0x128a0b(0x62c)](_0xe47fdf,_0x1315f6){const _0xa647d6=_0x128a0b;if(!this['outgoingStreams'][_0xa647d6(0x301)](_0xe47fdf)){const _0x9bd72c=new _0x28300f(this['owner'],this[_0xa647d6(0x9ce)],this['mediaStream'],_0xe47fdf,_0x1315f6),_0x1a5d60=_0x9bd72c[_0xa647d6(0xa9c)](()=>{const _0x1b9bbe=_0xa647d6;_0x1a5d60(),this['outgoingStreams']['get'](_0xe47fdf)?.['destroy'](),this[_0x1b9bbe(0xa69)][_0x1b9bbe(0x560)](_0xe47fdf);});this[_0xa647d6(0xa69)][_0xa647d6(0x663)](_0xe47fdf,_0x9bd72c),_0x9bd72c[_0xa647d6(0x8fe)](this[_0xa647d6(0x7be)]);}return this[_0xa647d6(0xa69)][_0xa647d6(0x8b0)](_0xe47fdf);}[_0x128a0b(0x9c5)](){const _0x86ebeb=_0x128a0b;return this[_0x86ebeb(0x39c)]['id'];}[_0x128a0b(0x417)](_0x55dc41){const _0x2f5a04=_0x128a0b;this[_0x2f5a04(0x7be)][_0x2f5a04(0x56d)]({'sourceId':_0x4b0f68,'messageType':_0x562b7c[_0x2f5a04(0x40d)],'content':{'type':_0x267eb0[_0x2f5a04(0xa3d)],'label':this[_0x2f5a04(0x9ce)],'trackKinds':[_0x55dc41[_0x2f5a04(0x338)]]}});}[_0x128a0b(0xad4)](_0x34a2c8){const _0x42d327=_0x128a0b,_0x2b1559=()=>this[_0x42d327(0x417)](_0x34a2c8);_0x34a2c8[_0x42d327(0x4f5)](_0x42d327(0x63a),_0x2b1559),_0x34a2c8[_0x42d327(0x4f5)](_0x42d327(0x573),_0x2b1559),this[_0x42d327(0x817)]['set'](_0x34a2c8['kind'],()=>{const _0x81aa97=_0x42d327;_0x34a2c8[_0x81aa97(0x547)](_0x81aa97(0x63a),_0x2b1559),_0x34a2c8[_0x81aa97(0x547)](_0x81aa97(0x573),_0x2b1559),this['trackEndedListeners'][_0x81aa97(0x560)](_0x34a2c8['kind']);});}}class _0x38619b extends _0x2641e1{[_0x128a0b(0x998)];[_0x128a0b(0x1d4)]=[];[_0x128a0b(0x94b)];['audioSource'];[_0x128a0b(0x265)];[_0x128a0b(0xac5)];[_0x128a0b(0x678)];['context'];[_0x128a0b(0x995)];constructor(_0x4c6203,_0x281ab1,_0x3a3a79,_0x5f8202,_0x351243,_0x284d3e){const _0x508ed6=_0x128a0b;if(super(_0x4c6203,_0x281ab1,_0x3a3a79,_0x284d3e),this['audioContext']=_0x351243,this[_0x508ed6(0x94b)]=this['mediaStream'],this['sourceVideo']=document[_0x508ed6(0x6a7)](_0x508ed6(0x1fb)),this[_0x508ed6(0xac5)][_0x508ed6(0x73d)]=!0x0,this[_0x508ed6(0xac5)][_0x508ed6(0x827)]=!0x0,this[_0x508ed6(0xac5)][_0x508ed6(0x904)]=this[_0x508ed6(0x94b)],this['sourceVideo'][_0x508ed6(0x32d)](),this[_0x508ed6(0xac5)]['onloadeddata']=()=>{const _0x309ff1=_0x508ed6;this[_0x309ff1(0xac5)][_0x309ff1(0x3d0)]();},this[_0x508ed6(0x678)]=document[_0x508ed6(0x6a7)]('canvas'),this['context']=this[_0x508ed6(0x678)][_0x508ed6(0x963)]('2d'),this[_0x508ed6(0x39c)]=this[_0x508ed6(0x678)][_0x508ed6(0x682)](_0x5f8202),this[_0x508ed6(0x265)]=this[_0x508ed6(0x998)]['createMediaStreamDestination'](),this['clientStream'][_0x508ed6(0x232)]()[_0x508ed6(0xa20)]>0x0){const _0x3acf5b=this['clientStream'][_0x508ed6(0x232)]()[0x0];this[_0x508ed6(0x411)]=this[_0x508ed6(0x998)]['createMediaStreamSource'](new MediaStream([_0x3acf5b])),this[_0x508ed6(0x411)]['connect'](this[_0x508ed6(0x265)]);}const _0x305815=this[_0x508ed6(0x265)][_0x508ed6(0x185)][_0x508ed6(0x54e)]()[0x0];this[_0x508ed6(0x39c)][_0x508ed6(0x776)](_0x305815),this['interval']=setInterval(()=>{const _0x95349d=_0x508ed6;this[_0x95349d(0x678)][_0x95349d(0x6c6)]=this[_0x95349d(0xac5)][_0x95349d(0x567)],this[_0x95349d(0x678)][_0x95349d(0x713)]=this[_0x95349d(0xac5)][_0x95349d(0x946)],this[_0x95349d(0xac5)]['videoWidth']?(0x0!==this['clientStream'][_0x95349d(0x6c8)]()['length']&&this[_0x95349d(0x94b)][_0x95349d(0x6c8)]()[0x0][_0x95349d(0x9d7)]?this[_0x95349d(0x39c)][_0x95349d(0x6c8)]()[0x0][_0x95349d(0x9d7)]=!0x0:this[_0x95349d(0x39c)]['getVideoTracks']()[0x0][_0x95349d(0x9d7)]=!0x1,0x0!==this['clientStream']['getAudioTracks']()['length']&&this['clientStream']['getAudioTracks']()[0x0]['enabled']?this['mediaStream'][_0x95349d(0x232)]()[0x0][_0x95349d(0x9d7)]=!0x0:this[_0x95349d(0x39c)][_0x95349d(0x232)]()[0x0][_0x95349d(0x9d7)]=!0x1,this[_0x95349d(0x1c1)][_0x95349d(0x555)](this[_0x95349d(0xac5)],0x0,0x0)):this['context'][_0x95349d(0x3f9)](0x0,0x0,this['canvas']['width'],this[_0x95349d(0x678)][_0x95349d(0x713)]);},0x3e8/_0x5f8202);}[_0x128a0b(0x61e)](){const _0x3e36a7=_0x128a0b;clearInterval(this['interval']),this['sourceVideo'][_0x3e36a7(0x213)](),this[_0x3e36a7(0x678)]['remove'](),this[_0x3e36a7(0x411)]?.[_0x3e36a7(0x5a7)](),this[_0x3e36a7(0x265)][_0x3e36a7(0x5a7)](),this[_0x3e36a7(0x39c)][_0x3e36a7(0x54e)]()[_0x3e36a7(0x8b3)](_0x4008d5=>{const _0x32c49d=_0x3e36a7;_0x4008d5[_0x32c49d(0x867)](),this[_0x32c49d(0x39c)][_0x32c49d(0x8af)](_0x4008d5);}),super[_0x3e36a7(0x61e)]();}[_0x128a0b(0x776)](_0x438220){const _0x53124b=_0x128a0b,_0x530f62=this['getTrack'](_0x438220[_0x53124b(0x338)]);_0x530f62&&this[_0x53124b(0x8af)](_0x530f62),_0x53124b(0x4a1)!==_0x438220[_0x53124b(0x338)]?(_0x53124b(0x1fb)===_0x438220[_0x53124b(0x338)]&&this[_0x53124b(0x7aa)](_0x438220),this[_0x53124b(0xad4)](_0x438220)):this['addAudioTrack'](_0x438220);}[_0x128a0b(0x8af)](_0x57cd33){const _0x319a57=_0x128a0b,_0x29f603=this[_0x319a57(0x7e5)](_0x57cd33);return _0x29f603&&('audio'===_0x29f603[_0x319a57(0x338)]&&(this['audioSource']?.['disconnect'](),this['audioSource']=void 0x0),this[_0x319a57(0x817)][_0x319a57(0x8b0)](_0x29f603['kind'])?.(),this[_0x319a57(0x94b)][_0x319a57(0x8af)](_0x29f603)),_0x29f603;}['replaceTrack'](_0x1fe1a4){const _0x9a0b9f=_0x128a0b;this[_0x9a0b9f(0x8af)](_0x1fe1a4[_0x9a0b9f(0x338)]),this[_0x9a0b9f(0x776)](_0x1fe1a4);}[_0x128a0b(0x9f3)](_0x34c09b){const _0x56a07e=_0x128a0b;this[_0x56a07e(0x1d4)]=_0x34c09b;}[_0x128a0b(0x430)](_0xf66ca1){const _0xddd699=_0x128a0b;return this[_0xddd699(0x94b)][_0xddd699(0x54e)]()[_0xddd699(0x5cf)](_0x53ae23=>_0x53ae23['kind']===_0xf66ca1)||null;}['getTrackFromParam'](_0x3995e9){const _0x1336d9=_0x128a0b;return _0x1336d9(0x55c)==typeof _0x3995e9?this[_0x1336d9(0x430)](_0x3995e9):_0x3995e9;}[_0x128a0b(0x7a2)](_0x50c7d3){const _0x3d8368=_0x128a0b;_0x3d8368(0x1ee)===this[_0x3d8368(0x998)][_0x3d8368(0x243)]&&this['audioContext'][_0x3d8368(0x6dd)](),this[_0x3d8368(0x94b)][_0x3d8368(0x776)](_0x50c7d3),this['audioSource']=this[_0x3d8368(0x998)]['createMediaStreamSource'](this['clientStream']),this[_0x3d8368(0x411)][_0x3d8368(0x7f3)](this['audioDestination']);}['addVideoTrack'](_0x4aa24b){const _0x41021f=_0x128a0b;this[_0x41021f(0x94b)][_0x41021f(0x776)](_0x4aa24b),this['sourceVideo']['load']();}}class _0x43cf60 extends _0x2641e1{}class _0x73b54a extends _0x5973c2{['localNode'];[_0x128a0b(0x2cd)];[_0x128a0b(0x61b)];[_0x128a0b(0x828)];['waitForArrayBufferSize'];['options'];[_0x128a0b(0x755)];[_0x128a0b(0x8c8)];['pendingSyncTransactions']=new Map();['objectRequests']=new Map();[_0x128a0b(0x72c)]=new Map();['pendingFilesTransactions']=new Map();[_0x128a0b(0xa79)]=new Map();[_0x128a0b(0x70c)]=new Map();[_0x128a0b(0xb0a)];['eventListener']=_0x41572e();[_0x128a0b(0x360)]=new Map();[_0x128a0b(0xa16)];[_0x128a0b(0xa2c)]=0x0;[_0x128a0b(0x469)]=0x0;[_0x128a0b(0xae2)]=!0x0;['isSyncing']=!0x0;[_0x128a0b(0x536)]=0x0;[_0x128a0b(0x7e0)]=0x0;constructor(_0x526bd8,_0x2f6207,_0x372e22,_0x3513b8,_0x56272e,_0x2891f7,_0x190717,_0x8e675d){const _0x3523db=_0x128a0b;if(_0x3523db(0x55c)!=typeof _0x2f6207)throw new _0x325cc6(_0x3336f9[_0x3523db(0x4ad)],_0x3523db(0x524));super(_0x526bd8,_0x2f6207),this[_0x3523db(0x8cc)]=_0x526bd8,this[_0x3523db(0x2cd)]=_0x372e22,this[_0x3523db(0x61b)]=_0x3513b8,this[_0x3523db(0x828)]=_0x56272e,this['waitForArrayBufferSize']=_0x190717,this[_0x3523db(0x5e7)]=_0x8e675d;const _0x30834a=_0x3523db(0x670)+this[_0x3523db(0x61b)]+_0x3523db(0x670)+this[_0x3523db(0x2cd)]+'ccc'+_0x2f6207;this[_0x3523db(0xb0a)]=new _0x2891f7(_0x30834a),this[_0x3523db(0xae2)]=this[_0x3523db(0x5e7)]?.[_0x3523db(0xae2)]??!0x0,this['options']?.[_0x3523db(0xa02)]&&(this['syncContent']=!0x1),this[_0x3523db(0xa76)]();}['reset'](){this['sendStats']();}[_0x128a0b(0x6da)](){const _0x16155b=_0x128a0b;return _0x16f74[_0x16155b(0x6f5)]['ObjectStore'];}async[_0x128a0b(0x39e)](){const _0x43f344=_0x128a0b;this[_0x43f344(0x28e)]=!0x0;try{const _0x138e72=await this[_0x43f344(0xb0a)][_0x43f344(0x8b0)](_0x14fb58),_0x4a1542=await _0x138e72[_0x43f344(0x992)]();this['lastTransactionId']=_0x4a1542;}catch(_0x41ee44){}this[_0x43f344(0x755)]=this[_0x43f344(0x1d7)](async(_0x515160,_0x1c87c5)=>{const _0x269bc0=_0x43f344;if(!(_0x1c87c5 instanceof File))try{if(_0x1c87c5[_0x269bc0(0x902)]===_0x2e884e['Request'])return void this['handleRequestPayload'](_0x1c87c5);this[_0x269bc0(0xab2)](_0x1c87c5);}catch(_0x38d9da){if(_0x38d9da instanceof _0x4204a5)throw _0x38d9da;throw new _0x4204a5(_0x4204a5['codes'][_0x269bc0(0x65b)],{'payload':_0x1c87c5});}}),await this['syncTransactions'](),this[_0x43f344(0xae2)]?await this['syncPendingFiles']():this[_0x43f344(0x5c2)](),this['sendStats']();}['destroy'](){const _0x3a2978=_0x128a0b;this[_0x3a2978(0x755)]?.(),this[_0x3a2978(0x360)][_0x3a2978(0x8b3)](_0x829054=>_0x829054()),this[_0x3a2978(0x360)][_0x3a2978(0x9e4)](),clearTimeout(this[_0x3a2978(0xa16)]),delete this['debounceStats'],super[_0x3a2978(0x61e)]();}['close'](){const _0x5419e7=_0x128a0b;this['systemTopic']?.['publish']({'sourceId':_0x4b0f68,'messageType':_0x562b7c[_0x5419e7(0x40d)],'content':{'type':_0x267eb0[_0x5419e7(0x7cc)],'label':this['label']}});}[_0x128a0b(0x3b4)](_0x477c4e,_0x236776){const _0x3c1f35=_0x128a0b;if(this[_0x3c1f35(0x360)][_0x3c1f35(0x301)](_0x477c4e))throw new _0x325cc6(_0x3336f9[_0x3c1f35(0x2f5)],_0x3c1f35(0x412));this['listenerUnsubscribers'][_0x3c1f35(0x663)](_0x477c4e,this[_0x3c1f35(0xa10)][_0x3c1f35(0x3b4)](_0x236776)),this[_0x3c1f35(0x28e)]||this[_0x3c1f35(0xa10)]['publish']({'event':_0x16f74['StorageEventType'][_0x3c1f35(0xa0b)],'payload':{'filesSynced':this['filesSynced']}});}[_0x128a0b(0x3b0)](_0x24381f){const _0xc714ef=_0x128a0b;this[_0xc714ef(0x360)][_0xc714ef(0x8b0)](_0x24381f)?.(),this['listenerUnsubscribers'][_0xc714ef(0x560)](_0x24381f);}['publish'](_0x14d89b){const _0x118527=_0x128a0b;switch(_0x14d89b[_0x118527(0xa33)]){case _0x16f74[_0x118527(0x74b)]['File']:return this[_0x118527(0x634)](_0x14d89b['file'],_0x14d89b[_0x118527(0x8c9)],_0x14d89b[_0x118527(0x5e7)]);case _0x16f74[_0x118527(0x74b)][_0x118527(0x6ce)]:return this[_0x118527(0x409)](_0x14d89b[_0x118527(0x8c9)]);case _0x16f74[_0x118527(0x74b)]['Move']:return this[_0x118527(0x62e)](_0x14d89b[_0x118527(0x8c9)],_0x14d89b['newPath']);default:throw new _0x325cc6(_0x3336f9[_0x118527(0x34e)],'Cannot\x20publish\x20payload:\x20'+_0x14d89b);}}async[_0x128a0b(0x729)](_0x3c63a8){const _0x5f43a5=_0x128a0b;try{const _0x531847=(0x0,_0x49421a['v4'])(),_0x37a514=this[_0x5f43a5(0x8c8)],_0x3f8e2d={'payloadType':_0x2e884e[_0x5f43a5(0x806)],'action':_0x358c44[_0x5f43a5(0x7b3)],'id':_0x531847,'parentId':_0x37a514,'path':_0x3c63a8};await this[_0x5f43a5(0xa6e)](_0x3f8e2d);const _0x40dfb8=await this[_0x5f43a5(0x367)](_0x3c63a8);!0x0!==this['options']?.[_0x5f43a5(0xa02)]&&await this[_0x5f43a5(0x8d1)](_0x3f8e2d),_0x265260[_0x5f43a5(0x1b4)](_0x5790a5[_0x5f43a5(0x303)],{'type':_0x5f43a5(0x729),'label':this['label'],'nodeId':this[_0x5f43a5(0x8cc)][_0x5f43a5(0x993)](),'nodeType':this[_0x5f43a5(0x8cc)][_0x5f43a5(0x7dd)],'clusterId':this[_0x5f43a5(0x2cd)],'kind':_0x40dfb8,'path':_0x3c63a8}),this['writes']+=0x1,this[_0x5f43a5(0xa76)]();}catch(_0x56e9e7){if(_0x56e9e7 instanceof _0x4204a5)throw new _0x325cc6(_0x3336f9[_0x5f43a5(0x6f8)],'Cannot\x20unpublish\x20object\x20at\x20'+_0x3c63a8+_0x5f43a5(0x506));throw new _0x325cc6(_0x3336f9[_0x5f43a5(0xad6)],_0x5f43a5(0xa18)+_0x3c63a8);}}async[_0x128a0b(0x8b0)](_0x515175,_0x5dd707){const _0x116462=_0x128a0b;_0x265260[_0x116462(0x1b4)](_0x5790a5[_0x116462(0x303)],{'type':_0x116462(0x8b0),'label':this[_0x116462(0x9ce)],'nodeId':this['localNode'][_0x116462(0x993)](),'nodeType':this[_0x116462(0x8cc)][_0x116462(0x7dd)],'clusterId':this['clusterId'],'path':_0x515175}),this[_0x116462(0x469)]+=0x1,this['sendStats']();try{return await this[_0x116462(0xb0a)][_0x116462(0x8b0)](_0x515175,_0x5dd707);}catch(_0x314962){try{await this[_0x116462(0xb0a)][_0x116462(0x8b0)](_0x515175+_0x5099e4);}catch(_0x2c9490){throw new _0x325cc6(_0x3336f9['ObjectStoreInvalidPath'],_0x116462(0x44f)+_0x515175);}throw new _0x325cc6(_0x3336f9[_0x116462(0x6f8)],_0x116462(0x970));}}async[_0x128a0b(0x622)](_0x503dd3,_0x3b677d){const _0x44f8f4=_0x128a0b,{recursive:_0x34447c=!0x1,includeSyncingFiles:_0x1d8721=!0x1}=_0x3b677d??{};_0x265260[_0x44f8f4(0x1b4)](_0x5790a5[_0x44f8f4(0x303)],{'type':_0x44f8f4(0x622),'label':this[_0x44f8f4(0x9ce)],'nodeId':this[_0x44f8f4(0x8cc)]['getId'](),'nodeType':this['localNode']['type'],'clusterId':this['clusterId'],'path':_0x503dd3}),this['reads']+=0x1,this[_0x44f8f4(0xa76)]();try{const _0x1e5f93=await this[_0x44f8f4(0xb0a)][_0x44f8f4(0x622)](_0x503dd3,_0x34447c);return this[_0x44f8f4(0x8c7)](_0x1e5f93,{'recursive':_0x34447c,'includeSyncingFiles':_0x1d8721});}catch(_0x47dfef){throw new _0x325cc6(_0x3336f9[_0x44f8f4(0xad6)],_0x44f8f4(0x4ed)+_0x503dd3);}}[_0x128a0b(0x8c2)](_0x51b315){const _0x7c3936=_0x128a0b;this[_0x7c3936(0x7e0)]+=0x1;for(const _0x1765e0 of this['objectRequests'][_0x7c3936(0x36b)]())this[_0x7c3936(0x8d1)](_0x1765e0,[_0x51b315]);}[_0x128a0b(0x89f)](_0x511cc3){const _0x433517=_0x128a0b;this['nodesConnected']-=0x1;const _0x4e92bf=this[_0x433517(0x72c)][_0x433517(0x8b0)](_0x511cc3);if(_0x4e92bf){for(const [_0xf01732,_0x15aad9]of _0x4e92bf[_0x433517(0x36b)]())this[_0x433517(0x18c)](_0xf01732,_0x15aad9);this[_0x433517(0x72c)]['delete'](_0x511cc3);}}async[_0x128a0b(0xa54)](_0x22e3a5='/'){const _0x5b6045=_0x128a0b;try{return await this[_0x5b6045(0xb0a)]['calculateSize'](_0x22e3a5);}catch(_0x195e28){if(_0x195e28 instanceof Error&&_0x195e28['message']['includes'](_0x5b6045(0x790)))return 0x0;throw new _0x325cc6(_0x3336f9[_0x5b6045(0xad6)],_0x5b6045(0x5d0)+_0x22e3a5);}}[_0x128a0b(0x5c2)](){const _0xe7a8bd=_0x128a0b;this[_0xe7a8bd(0x28e)]&&(this[_0xe7a8bd(0x28e)]=!0x1,this['eventListener'][_0xe7a8bd(0x56d)]({'event':_0x16f74[_0xe7a8bd(0x270)][_0xe7a8bd(0xa0b)],'payload':{'filesSynced':this[_0xe7a8bd(0x536)]}}));}async[_0x128a0b(0x8c7)](_0x34018e,{includeSyncingFiles:_0x50ff83=!0x1}){const _0x27e294=_0x128a0b,_0x17ece5=[];for(const _0x3b1cb9 of _0x34018e)if(_0x3b1cb9['kind']!==_0x16f74[_0x27e294(0x683)][_0x27e294(0x6ce)]){if(_0x3b1cb9[_0x27e294(0x3d4)]!==_0x14fb58){if(_0x3b1cb9[_0x27e294(0x3d4)][_0x27e294(0x753)](_0x5099e4)){if(!_0x50ff83)continue;const _0x288584=_0x3b1cb9;if(_0x288584[_0x27e294(0x3d4)]=_0x288584[_0x27e294(0x3d4)][_0x27e294(0xa2e)](_0x5099e4,''),_0x288584[_0x27e294(0x8ce)]=_0x288584[_0x27e294(0x8ce)][_0x27e294(0xa2e)](_0x5099e4,''),await this['syncedFileExists'](_0x288584[_0x27e294(0x8ce)])){_0x34018e[_0x27e294(0x5cf)](_0x156652=>_0x156652[_0x27e294(0x8ce)]===_0x288584[_0x27e294(0x8ce)])[_0x27e294(0x6f7)]=_0x16f74['FileStatus']['Syncing'];continue;}_0x288584[_0x27e294(0x6f7)]=_0x16f74[_0x27e294(0x89b)][_0x27e294(0xa91)];}_0x17ece5[_0x27e294(0xa98)](_0x3b1cb9);}}else _0x3b1cb9['entries']=await this[_0x27e294(0x8c7)](_0x3b1cb9[_0x27e294(0x268)]??[],{'includeSyncingFiles':_0x50ff83}),_0x17ece5['push'](_0x3b1cb9);return _0x17ece5;}async[_0x128a0b(0x634)](_0x246ec2,_0x22812a,_0x58b9ec){const _0x444be0=_0x128a0b;try{const _0x40a598=(0x0,_0x49421a['v4'])(),_0x391991=await _0x2f5494(_0x246ec2),_0x248004=_0x348932(_0x22812a??'/',_0x246ec2[_0x444be0(0x3d4)]);let _0x17d0b0=!0x0;const _0x56b9c2={'payloadType':_0x2e884e['Transaction'],'action':_0x358c44[_0x444be0(0x5bc)],'id':_0x40a598,'parentId':this[_0x444be0(0x8c8)],'answererId':this[_0x444be0(0x8cc)][_0x444be0(0x993)](),'name':_0x246ec2['name'],'type':_0x246ec2[_0x444be0(0x7dd)],'path':_0x22812a??'/','skipEncryption':_0x58b9ec?.['skipEncryption']??!0x1,'checksum':_0x391991};try{if(!_0x58b9ec?.[_0x444be0(0x9df)])throw new Error(_0x444be0(0x821));const _0x29e970=_0x248004+_0x5099e4;await this[_0x444be0(0xb0a)][_0x444be0(0x8b0)](_0x29e970),_0x17d0b0=!0x1,await this[_0x444be0(0xb0a)][_0x444be0(0x367)](_0x29e970),this[_0x444be0(0x251)][_0x444be0(0x560)](_0x248004);}catch(_0x4d02a2){await this['publishTransaction'](_0x56b9c2);}if(this[_0x444be0(0xae2)]||this[_0x444be0(0x5e7)]?.[_0x444be0(0xa02)]?await this[_0x444be0(0x24c)](_0x246ec2,_0x22812a,_0x58b9ec):await this['createPendingFileWrite'](_0x246ec2['name'],_0x22812a??'/',{'checksum':_0x391991,'skipEncryption':_0x58b9ec?.[_0x444be0(0x4e8)]??!0x1}),this[_0x444be0(0x70c)][_0x444be0(0x301)](_0x248004)){const [_0x2b7a3c,_0xbbf215]=this[_0x444be0(0x70c)][_0x444be0(0x8b0)](_0x248004);this[_0x444be0(0x70c)][_0x444be0(0x663)](_0x248004,[!0x0,_0xbbf215]);try{await _0xbbf215;}catch(_0x3e4e2a){}this['fileSendingMap'][_0x444be0(0x560)](_0x248004);}_0x17d0b0&&this[_0x444be0(0x7e0)]>0x0&&!0x0!==this[_0x444be0(0x5e7)]?.[_0x444be0(0xa02)]&&await this[_0x444be0(0x57d)](_0x246ec2,_0x56b9c2),_0x265260[_0x444be0(0x1b4)](_0x5790a5[_0x444be0(0x303)],{'type':'publish','label':this[_0x444be0(0x9ce)],'nodeId':this[_0x444be0(0x8cc)]['getId'](),'nodeType':this[_0x444be0(0x8cc)][_0x444be0(0x7dd)],'clusterId':this[_0x444be0(0x2cd)],'kind':_0x16f74[_0x444be0(0x683)][_0x444be0(0x21c)],'path':_0x22812a,'fileName':_0x246ec2[_0x444be0(0x3d4)],'fileType':_0x246ec2[_0x444be0(0x7dd)],'size':_0x246ec2[_0x444be0(0x388)]}),this[_0x444be0(0xa2c)]+=0x1,this['sendStats']();}catch(_0x3ad9ed){if(_0x3ad9ed instanceof _0x4204a5)throw new _0x325cc6(_0x3336f9['ObjectStoreNotInSync'],_0x444be0(0x970));throw new _0x325cc6(_0x3336f9[_0x444be0(0xad6)],'Cannot\x20publish\x20file:\x20'+_0x22812a+(_0x22812a?.['endsWith']('/')?'':'/')+_0x246ec2[_0x444be0(0x3d4)]);}}async[_0x128a0b(0x409)](_0x1cb120){const _0x5bbb46=_0x128a0b;try{const _0x55a98a=(0x0,_0x49421a['v4'])(),_0x149c02=this[_0x5bbb46(0x8c8)],_0x2659af={'payloadType':_0x2e884e[_0x5bbb46(0x806)],'action':_0x358c44['FolderCreate'],'id':_0x55a98a,'parentId':_0x149c02,'path':_0x1cb120};await this['publishTransaction'](_0x2659af),await this[_0x5bbb46(0xb0a)][_0x5bbb46(0x1cb)](_0x1cb120),!0x0!==this[_0x5bbb46(0x5e7)]?.[_0x5bbb46(0xa02)]&&await this[_0x5bbb46(0x8d1)](_0x2659af),_0x265260[_0x5bbb46(0x1b4)](_0x5790a5[_0x5bbb46(0x303)],{'type':'publish','label':this[_0x5bbb46(0x9ce)],'nodeId':this[_0x5bbb46(0x8cc)][_0x5bbb46(0x993)](),'nodeType':this[_0x5bbb46(0x8cc)][_0x5bbb46(0x7dd)],'clusterId':this[_0x5bbb46(0x2cd)],'kind':_0x16f74[_0x5bbb46(0x683)][_0x5bbb46(0x6ce)],'path':_0x1cb120}),this[_0x5bbb46(0xa2c)]+=0x1,this[_0x5bbb46(0xa76)]();}catch(_0x9ee2fe){if(_0x9ee2fe instanceof _0x4204a5)throw new _0x325cc6(_0x3336f9[_0x5bbb46(0x6f8)],_0x5bbb46(0x970));throw new _0x325cc6(_0x3336f9[_0x5bbb46(0xad6)],'Cannot\x20publish\x20folder:\x20'+_0x1cb120);}}async['publishMove'](_0x3d3c16,_0x15eb44){const _0x4e9ed1=_0x128a0b;try{const _0x5a3272=(0x0,_0x49421a['v4'])(),_0x15d61a=this[_0x4e9ed1(0x8c8)],_0x49fce3={'payloadType':_0x2e884e['Transaction'],'action':_0x358c44[_0x4e9ed1(0x5dc)],'id':_0x5a3272,'parentId':_0x15d61a,'path':_0x3d3c16,'newPath':_0x15eb44};await this[_0x4e9ed1(0xa6e)](_0x49fce3);const _0x12aa94=await this[_0x4e9ed1(0x5ec)](_0x3d3c16,_0x15eb44);!0x0!==this[_0x4e9ed1(0x5e7)]?.[_0x4e9ed1(0xa02)]&&await this[_0x4e9ed1(0x8d1)](_0x49fce3),_0x265260['logServiceEvent'](_0x5790a5[_0x4e9ed1(0x303)],{'type':_0x4e9ed1(0x45b),'label':this[_0x4e9ed1(0x9ce)],'nodeId':this[_0x4e9ed1(0x8cc)][_0x4e9ed1(0x993)](),'nodeType':this[_0x4e9ed1(0x8cc)][_0x4e9ed1(0x7dd)],'clusterId':this['clusterId'],'kind':_0x12aa94,'path':_0x3d3c16,'newPath':_0x15eb44}),this[_0x4e9ed1(0xa2c)]+=0x1,this[_0x4e9ed1(0xa76)]();}catch(_0x480366){if(_0x480366 instanceof _0x4204a5)throw new _0x325cc6(_0x3336f9[_0x4e9ed1(0x6f8)],'Object\x20store\x20is\x20not\x20in\x20sync');throw new _0x325cc6(_0x3336f9[_0x4e9ed1(0xad6)],_0x4e9ed1(0x8e2)+_0x3d3c16);}}async['handleTransactionPayload'](_0x34ae18,_0x4b3473=!0x1){const _0x5465e1=_0x128a0b;if(this[_0x5465e1(0x8c8)]&&_0x34ae18['parentId']!==this[_0x5465e1(0x8c8)]&&_0x34ae18['id']!==this[_0x5465e1(0x8c8)]){if(!_0x34ae18[_0x5465e1(0x86c)])throw new _0x4204a5(_0x4204a5[_0x5465e1(0x7f9)][_0x5465e1(0x65b)]);this[_0x5465e1(0x1f1)][_0x5465e1(0x663)](_0x34ae18['parentId'],_0x34ae18);}else{try{await this[_0x5465e1(0x887)](_0x34ae18,_0x4b3473);}catch(_0x10749b){}await this[_0x5465e1(0x3fe)](_0x34ae18['id']),await this[_0x5465e1(0xa6a)](_0x34ae18['id'],_0x4b3473);}}async[_0x128a0b(0x887)](_0x2752d4,_0x1630ce=!0x1){const _0x309cae=_0x128a0b;switch(_0x2752d4['action']){case _0x358c44['FileWrite']:await this[_0x309cae(0x1ac)](_0x2752d4);break;case _0x358c44[_0x309cae(0x4af)]:await this[_0x309cae(0x921)](_0x2752d4);break;case _0x358c44[_0x309cae(0x5dc)]:await this['handleObjectMove'](_0x2752d4,_0x1630ce);break;case _0x358c44[_0x309cae(0x7b3)]:await this[_0x309cae(0x9ca)](_0x2752d4,_0x1630ce);break;default:throw new _0x4204a5(_0x4204a5['codes'][_0x309cae(0x65b)],{'payload':_0x2752d4});}}async[_0x128a0b(0xa6a)](_0x2c52e0,_0x9c96ce=!0x1){const _0x466229=_0x128a0b;if(this[_0x466229(0x1f1)][_0x466229(0x301)](_0x2c52e0)){const _0x117fdf=this[_0x466229(0x1f1)][_0x466229(0x8b0)](_0x2c52e0);this[_0x466229(0x1f1)][_0x466229(0x560)](_0x2c52e0),await this[_0x466229(0xab2)](_0x117fdf,_0x9c96ce);}}async[_0x128a0b(0x726)](_0x3c06ff){const _0x59ba05=_0x128a0b;switch(_0x3c06ff[_0x59ba05(0xa33)]){case _0x358c44[_0x59ba05(0x31b)]:return this[_0x59ba05(0x446)](_0x3c06ff);case _0x358c44[_0x59ba05(0xb02)]:return this[_0x59ba05(0x5db)](_0x3c06ff);case _0x358c44[_0x59ba05(0x675)]:return this[_0x59ba05(0x691)](_0x3c06ff);case _0x358c44[_0x59ba05(0x31d)]:return this[_0x59ba05(0x1ac)](_0x3c06ff);default:throw new _0x4204a5(_0x4204a5[_0x59ba05(0x7f9)][_0x59ba05(0x65b)],{'payload':_0x3c06ff});}}async['handleFileWrite'](_0xb6de38,_0x14c3f1=0x0){const _0x451c5f=_0x128a0b,_0x1b1e7e=_0x348932(_0xb6de38['path'],_0xb6de38[_0x451c5f(0x3d4)]);if(!_0xb6de38[_0x451c5f(0xaae)]||void 0x0===_0xb6de38[_0x451c5f(0x8a7)]||!_0xb6de38[_0x451c5f(0x3d2)])return this['fileChunks'][_0x451c5f(0x560)](_0x1b1e7e),void await this[_0x451c5f(0x90d)](_0xb6de38[_0x451c5f(0x3d4)],_0xb6de38[_0x451c5f(0x8c9)],{'checksum':_0xb6de38[_0x451c5f(0x359)],'skipEncryption':_0xb6de38['skipEncryption']});if(this['fileChunks']['has'](_0x1b1e7e)){const _0x3b03b5=this[_0x451c5f(0xaf0)][_0x451c5f(0x8b0)](_0x1b1e7e);_0x3b03b5[_0x451c5f(0x359)]!==_0xb6de38['checksum']&&(_0x3b03b5[_0x451c5f(0x185)]?.[_0x451c5f(0x42d)](),this[_0x451c5f(0xaf0)][_0x451c5f(0x560)](_0x1b1e7e));}if(!this[_0x451c5f(0xaf0)][_0x451c5f(0x301)](_0x1b1e7e)){try{await this[_0x451c5f(0xb0a)][_0x451c5f(0x367)](_0x1b1e7e);}catch(_0x55f406){}try{const _0x599297=this[_0x451c5f(0xae2)]?await this[_0x451c5f(0xb0a)]['createWritableStream'](_0x1b1e7e,{'skipEncryption':_0xb6de38[_0x451c5f(0x4e8)]}):void 0x0,_0x1cabf9={'chunksReceived':_0xb6de38[_0x451c5f(0x4ea)]??0x0,'bytesReceived':0x0,'stream':_0x599297,'checksum':_0xb6de38[_0x451c5f(0x359)]};this[_0x451c5f(0xaf0)][_0x451c5f(0x663)](_0x1b1e7e,_0x1cabf9),await this[_0x451c5f(0x90d)](_0xb6de38[_0x451c5f(0x3d4)],_0xb6de38[_0x451c5f(0x8c9)],{'checksum':_0xb6de38[_0x451c5f(0x359)],'skipEncryption':_0xb6de38[_0x451c5f(0x4e8)]});}catch(_0x1b435d){}}const _0x5c9379=this[_0x451c5f(0xaf0)][_0x451c5f(0x8b0)](_0x1b1e7e);if(_0xb6de38[_0x451c5f(0x359)]!==_0x5c9379[_0x451c5f(0x359)])return;if(this[_0x451c5f(0xaf3)](_0xb6de38,_0x1b1e7e),this[_0x451c5f(0xae2)]){if(!_0x5c9379[_0x451c5f(0x185)])throw new _0x4204a5(_0x4204a5[_0x451c5f(0x7f9)][_0x451c5f(0x65b)],{'message':'Writable\x20stream\x20is\x20missing'});let _0x5a3e01=_0x5c9379[_0x451c5f(0x1e2)];if(_0xb6de38['index']!==_0x5a3e01){if(_0x5a3e01>_0xb6de38[_0x451c5f(0x8a7)])return;const _0x1a48ac=0x1000;if(_0xb6de38[_0x451c5f(0x8a7)]>_0x5a3e01+_0x1a48ac)return;if(_0x5c9379[_0x451c5f(0x497)]||(_0x5c9379[_0x451c5f(0x497)]=[]),_0x5c9379['bufferedChunks'][_0x451c5f(0xa20)]>0x4000)throw this[_0x451c5f(0xaf0)]['delete'](_0x1b1e7e),new _0x4204a5(_0x4204a5[_0x451c5f(0x7f9)][_0x451c5f(0x65b)],{'message':_0x451c5f(0x26a)});return void _0x5c9379[_0x451c5f(0x497)]['push'](_0xb6de38);}try{_0x5c9379[_0x451c5f(0x1e2)]+=0x1,_0x5c9379['bytesReceived']+=_0xb6de38[_0x451c5f(0xaae)]['byteLength'],await _0x5c9379['stream'][_0x451c5f(0x9a2)](_0xb6de38[_0x451c5f(0xaae)]);}catch(_0x4362ac){if(console[_0x451c5f(0x5b5)](_0x451c5f(0x977),_0x4362ac),_0x14c3f1>0x3)throw this[_0x451c5f(0xaf0)][_0x451c5f(0x560)](_0x1b1e7e),console[_0x451c5f(0x5b5)](_0x451c5f(0x5d3),_0x4362ac),new _0x4204a5(_0x4204a5[_0x451c5f(0x7f9)][_0x451c5f(0x65b)],{'message':_0x451c5f(0x5d3)});return this[_0x451c5f(0x1ac)](_0xb6de38,_0x14c3f1+0x1);}}try{await this[_0x451c5f(0x203)](_0x5c9379,_0xb6de38[_0x451c5f(0x8a7)]+0x1);}catch(_0x19d3a8){throw this[_0x451c5f(0xaf0)][_0x451c5f(0x560)](_0x1b1e7e),_0x19d3a8;}if(this[_0x451c5f(0xaf0)][_0x451c5f(0x663)](_0x1b1e7e,_0x5c9379),_0x5c9379[_0x451c5f(0x1e2)]<_0xb6de38['total'])return;await this[_0x451c5f(0x60d)](_0x1b1e7e),this[_0x451c5f(0xae2)]&&(await this[_0x451c5f(0xa0c)](_0xb6de38),_0x265260[_0x451c5f(0x1b4)](_0x5790a5[_0x451c5f(0x303)],{'type':'sync','label':this[_0x451c5f(0x9ce)],'nodeId':this[_0x451c5f(0x8cc)]['getId'](),'nodeType':this[_0x451c5f(0x8cc)][_0x451c5f(0x7dd)],'clusterId':this[_0x451c5f(0x2cd)],'kind':_0x16f74['ObjectKind'][_0x451c5f(0x21c)],'path':_0xb6de38['path'],'fileName':_0xb6de38['name'],'fileType':_0xb6de38[_0x451c5f(0x7dd)],'size':_0x5c9379[_0x451c5f(0xa43)]}));const _0x20b076=this[_0x451c5f(0x6ee)][_0x451c5f(0x8b0)](_0xb6de38[_0x451c5f(0x8c9)])??[];for(const _0x31ae4a of _0x20b076)await this[_0x451c5f(0x887)](_0x31ae4a);this['pendingFilesTransactions'][_0x451c5f(0x560)](_0xb6de38['path']),this[_0x451c5f(0xa10)][_0x451c5f(0x56d)]({'event':_0x16f74[_0x451c5f(0x270)]['FileWrite'],'payload':{'file':{'kind':_0x16f74[_0x451c5f(0x683)][_0x451c5f(0x21c)],'path':_0xb6de38[_0x451c5f(0x8c9)],'type':_0xb6de38['type'],'size':_0x5c9379[_0x451c5f(0xa43)],'name':_0xb6de38['name'],'pathName':_0x1b1e7e,'status':this[_0x451c5f(0xae2)]?_0x16f74['FileStatus']['Synced']:_0x16f74[_0x451c5f(0x89b)][_0x451c5f(0xa91)]}}}),this[_0x451c5f(0xa76)]();}async[_0x128a0b(0x203)](_0xd6716c,_0x40a3e4){const _0x3dee11=_0x128a0b,_0xd9a8b1=_0xd6716c[_0x3dee11(0x185)];let _0x29babd=0x0;for(;_0xd6716c[_0x3dee11(0x497)]&&_0xd6716c[_0x3dee11(0x497)][_0x3dee11(0xa20)]>0x0;){const _0x583961=_0xd6716c[_0x3dee11(0x497)]['find'](_0x344904=>_0x344904[_0x3dee11(0x8a7)]===_0x40a3e4+0x1);if(!_0x583961)break;_0xd6716c[_0x3dee11(0x497)]=_0xd6716c['bufferedChunks']['filter'](_0x52c2d5=>_0x52c2d5[_0x3dee11(0x8a7)]!==_0x40a3e4+0x1);try{await _0xd9a8b1['write'](_0x583961['data']),_0x40a3e4++;}catch(_0x407d20){if(console[_0x3dee11(0x5b5)](_0x3dee11(0xa6c),_0x407d20),_0x29babd>0x3)throw console[_0x3dee11(0x5b5)](_0x3dee11(0x324),_0x407d20),new _0x4204a5(_0x4204a5[_0x3dee11(0x7f9)]['ObjectStoreInvalidSyncMessage'],{'message':_0x3dee11(0x324)});_0x29babd++;continue;}_0xd6716c[_0x3dee11(0x1e2)]+=0x1,_0xd6716c[_0x3dee11(0xa43)]+=_0x583961[_0x3dee11(0xaae)][_0x3dee11(0x452)];}}async[_0x128a0b(0x921)](_0x45bc33){const _0x26687a=_0x128a0b;await this['objectStoreConnector'][_0x26687a(0x1cb)](_0x45bc33[_0x26687a(0x8c9)]);const [_0x43f866,_0x3703e0]=_0x4aedae(_0x45bc33[_0x26687a(0x8c9)]);this[_0x26687a(0xa10)][_0x26687a(0x56d)]({'event':_0x16f74[_0x26687a(0x270)][_0x26687a(0x4af)],'payload':{'folder':{'kind':_0x16f74[_0x26687a(0x683)][_0x26687a(0x6ce)],'name':_0x3703e0,'path':_0x43f866,'pathName':_0x45bc33['path']}}});}async[_0x128a0b(0x9ca)](_0x68d7ae,_0x2f809b=!0x1){const _0x2f7538=_0x128a0b;if(!_0x2f809b&&!this[_0x2f7538(0x858)](_0x68d7ae))return;const _0x1cce9d=await this[_0x2f7538(0x367)](_0x68d7ae[_0x2f7538(0x8c9)]),[_0x40a2a0,_0x508c1f]=_0x4aedae(_0x68d7ae[_0x2f7538(0x8c9)]);this[_0x2f7538(0xa10)][_0x2f7538(0x56d)]({'event':_0x1cce9d===_0x16f74[_0x2f7538(0x683)][_0x2f7538(0x6ce)]?_0x16f74[_0x2f7538(0x270)][_0x2f7538(0x397)]:_0x16f74[_0x2f7538(0x270)][_0x2f7538(0x851)],'payload':{'name':_0x508c1f,'path':_0x40a2a0,'pathName':_0x68d7ae['path']}}),this[_0x2f7538(0xa76)]();}async[_0x128a0b(0xaeb)](_0x70404c,_0x2aa2f6=!0x1){const _0x234f92=_0x128a0b;if(!_0x2aa2f6&&!this[_0x234f92(0x858)](_0x70404c))return this[_0x234f92(0xa79)]['set'](_0x70404c['newPath'],this[_0x234f92(0xa79)][_0x234f92(0x8b0)](_0x70404c[_0x234f92(0x8c9)])??_0x70404c[_0x234f92(0x8c9)]),void this[_0x234f92(0xa79)][_0x234f92(0x560)](_0x70404c[_0x234f92(0x8c9)]);this[_0x234f92(0xa79)][_0x234f92(0x560)](_0x70404c[_0x234f92(0x8c9)]);const _0x35a82b=await this['objectStoreConnector'][_0x234f92(0x5ec)](_0x70404c['path'],_0x70404c[_0x234f92(0xa17)]),[_0x2931b1,_0x4f1d8d]=_0x4aedae(_0x70404c[_0x234f92(0x8c9)]),[_0x3e6cf5,_0x2d2a39]=_0x4aedae(_0x70404c[_0x234f92(0xa17)]);this[_0x234f92(0xa10)]['publish']({'event':_0x35a82b===_0x16f74['ObjectKind'][_0x234f92(0x6ce)]?_0x16f74[_0x234f92(0x270)][_0x234f92(0x379)]:_0x16f74['StorageEventType']['FileMove'],'payload':{'name':_0x2d2a39,'path':_0x3e6cf5,'pathName':_0x70404c['newPath'],'oldName':_0x4f1d8d,'oldPath':_0x2931b1,'oldPathName':_0x70404c[_0x234f92(0x8c9)]}}),this[_0x234f92(0xa76)]();}[_0x128a0b(0x858)](_0x12cf4d){const _0x10bbf0=_0x128a0b,_0x96e280=this[_0x10bbf0(0xa79)][_0x10bbf0(0x8b0)](_0x12cf4d[_0x10bbf0(0x8c9)])??_0x12cf4d['path'];let _0x4e387d=!0x1;for(const _0x250534 of this['fileChunks'][_0x10bbf0(0x321)]())if(_0x250534['startsWith'](_0x96e280)){const _0x177e8b=this['pendingFilesTransactions'][_0x10bbf0(0x8b0)](_0x250534)??[];_0x177e8b[_0x10bbf0(0xa98)](_0x12cf4d),this['pendingFilesTransactions'][_0x10bbf0(0x663)](_0x250534,_0x177e8b),_0x4e387d=!0x0;}return!_0x4e387d;}async[_0x128a0b(0xa6e)](_0x28acd6){const _0x3c305d=_0x128a0b;if(!this[_0x3c305d(0x5e7)]?.[_0x3c305d(0xa02)]){if(!_0x28acd6['id'])throw new _0x4204a5(_0x4204a5[_0x3c305d(0x7f9)][_0x3c305d(0x65b)],{'message':_0x3c305d(0x56c)});if(_0x28acd6['parentId']!==this['lastTransactionId'])throw new _0x4204a5(_0x4204a5[_0x3c305d(0x7f9)]['ObjectStoreNotSynced']);await this['transactionService'][_0x3c305d(0x773)](_0x28acd6,this[_0x3c305d(0x9ce)]),await this[_0x3c305d(0x3fe)](_0x28acd6['id']);}}async[_0x128a0b(0x3fe)](_0x43639c){const _0x4a2914=_0x128a0b;this[_0x4a2914(0x8c8)]=_0x43639c;const _0x11cce4=new File([new Blob([this[_0x4a2914(0x8c8)]])],_0x14fb58,{'type':_0x4a2914(0x7e1)});await this['writeFile'](_0x11cce4,'/');}async[_0x128a0b(0x446)](_0x587dc8){const _0x55a794=_0x128a0b;try{const _0x2f9a96=await this[_0x55a794(0x8b0)](_0x587dc8[_0x55a794(0x8c9)]+'/'+_0x587dc8['name'],{'skipEncryption':_0x587dc8[_0x55a794(0x4e8)]}),_0x347dd4=await _0x2f5494(_0x2f9a96);if(''!==_0x587dc8[_0x55a794(0x359)]&&_0x347dd4!==_0x587dc8[_0x55a794(0x359)])return;_0x587dc8[_0x55a794(0x4b2)]=this[_0x55a794(0x8cc)]['getId'](),_0x587dc8[_0x55a794(0xa33)]=_0x358c44['RequestAccepted'],await this['send'](_0x587dc8,[_0x587dc8[_0x55a794(0x898)]]);}catch(_0x302fda){}}async[_0x128a0b(0x5db)](_0x552e39){const _0x2e91a=_0x128a0b,_0x5b0289=_0x348932(_0x552e39[_0x2e91a(0x8c9)],_0x552e39['name']);if(!this[_0x2e91a(0x251)][_0x2e91a(0x301)](_0x5b0289))return;const _0x271cea=this[_0x2e91a(0x251)]['get'](_0x5b0289);_0x271cea['action']=_0x358c44[_0x2e91a(0x675)];const _0x2c7b68=_0x552e39[_0x2e91a(0x4b2)];if(!_0x2c7b68)throw new _0x4204a5(_0x4204a5[_0x2e91a(0x7f9)][_0x2e91a(0x65b)],{'message':_0x2e91a(0x6fc)});if(this['objectRequests']['delete'](_0x5b0289),this[_0x2e91a(0x72c)][_0x2e91a(0x301)](_0x2c7b68)||this[_0x2e91a(0x72c)][_0x2e91a(0x663)](_0x2c7b68,new Map()),this[_0x2e91a(0x72c)][_0x2e91a(0x8b0)](_0x2c7b68)[_0x2e91a(0x663)](_0x5b0289,[_0x271cea,this[_0x2e91a(0x3b2)](_0x2c7b68,_0x5b0289)]),_0x271cea[_0x2e91a(0x4b2)]=_0x2c7b68,_0x271cea['startIndex']=this[_0x2e91a(0xaf0)]['get'](_0x5b0289)?.['chunksReceived']??0x0,0x0===_0x271cea[_0x2e91a(0x4ea)])try{const [_0x485114,_0x1e18a3]=await this[_0x2e91a(0x207)](_0x552e39['name'],_0x552e39[_0x2e91a(0x8c9)],_0x552e39['checksum']);_0x485114&&(_0x271cea['startIndex']=_0x1e18a3);}catch(_0x25d0ee){}this[_0x2e91a(0x8d1)](_0x271cea,[_0x2c7b68]);}async[_0x128a0b(0x691)](_0x559ecf){const _0x46bad7=_0x128a0b,_0x4ce6cd=_0x348932(_0x559ecf['path'],_0x559ecf['name']),_0x1b9577=await this[_0x46bad7(0x8b0)](_0x4ce6cd,{'skipEncryption':_0x559ecf[_0x46bad7(0x4e8)]}),_0x1f1889={..._0x559ecf,'answererId':this[_0x46bad7(0x8cc)][_0x46bad7(0x993)](),'action':_0x358c44[_0x46bad7(0x31d)],'startIndex':_0x559ecf['startIndex']??0x0};await this[_0x46bad7(0x57d)](_0x1b9577,_0x1f1889,[_0x559ecf[_0x46bad7(0x898)]]);}async[_0x128a0b(0x57d)](_0xd89725,_0x233422,_0x43ffa1){let _0x40786b,_0x4b17af;const _0x1e2eb1=new Promise(async(_0x1c0a00,_0x3175b8)=>{_0x40786b=_0x1c0a00,_0x4b17af=_0x3175b8;});return((async()=>{const _0x29b1ae=a0_0xdea0,_0x51d271=Math['ceil'](_0xd89725[_0x29b1ae(0x388)]/_0x5c06b7);let _0x565ca9=_0x233422[_0x29b1ae(0x4ea)]??0x0;const _0xd1993f=_0x348932(_0x233422[_0x29b1ae(0x8c9)],_0x233422['name']);this[_0x29b1ae(0x70c)][_0x29b1ae(0x663)](_0xd1993f,[!0x1,_0x1e2eb1]);for await(const _0x4fd9e6 of async function*(_0x186213,_0x724c83=0x0,_0x3fe760){for await(const _0x5a8972 of _0xefb4f3(_0x186213,_0x724c83,_0x3fe760))yield _0x5a8972;}(_0xd89725,_0x565ca9,this[_0x29b1ae(0x6a2)])){const [_0x19c726]=this[_0x29b1ae(0x70c)][_0x29b1ae(0x8b0)](_0xd1993f)??[];if(_0x19c726)return this[_0x29b1ae(0x70c)][_0x29b1ae(0x560)](_0xd1993f),void _0x4b17af(new Error(_0x29b1ae(0x7b6)));if(this[_0x29b1ae(0x6ee)]['has'](_0xd1993f)){const _0x32a59a=this['pendingFilesTransactions'][_0x29b1ae(0x8b0)](_0xd1993f);for(const _0x1b13ad of _0x32a59a)if(_0x1b13ad[_0x29b1ae(0xa33)]===_0x358c44[_0x29b1ae(0x5bc)]||_0x1b13ad[_0x29b1ae(0xa33)]===_0x358c44[_0x29b1ae(0x7b3)])return;}const _0x3ae8ee={..._0x233422,'type':_0xd89725[_0x29b1ae(0x7dd)],'data':_0x4fd9e6,'index':_0x565ca9,'total':_0x51d271};this[_0x29b1ae(0x8d1)](_0x3ae8ee,_0x43ffa1),_0x565ca9++;}const _0x392361=setInterval(async()=>{const _0x26248b=_0x29b1ae;await this[_0x26248b(0x6a2)]()>0x0||(clearInterval(_0x392361),_0x40786b());});this[_0x29b1ae(0x70c)][_0x29b1ae(0x560)](_0xd1993f);})()),_0x1e2eb1;}async[_0x128a0b(0xa0c)](_0x3951fa){const _0x2b7d86=_0x128a0b;try{const _0xc88104=_0x348932(_0x3951fa[_0x2b7d86(0x8c9)],_0x3951fa['name']),_0x288f74=_0xc88104+_0x5099e4;await this[_0x2b7d86(0x367)](_0x288f74);const [,_0x3d7d27]=this['pendingFilesSyncing']['get'](_0x3951fa['answererId'])?.['get'](_0xc88104)??[];_0x3d7d27&&(clearTimeout(_0x3d7d27),this[_0x2b7d86(0x72c)][_0x2b7d86(0x8b0)](_0x3951fa[_0x2b7d86(0x4b2)])[_0x2b7d86(0x560)](_0xc88104));}catch(_0x782bb5){}0x0===this['pendingFilesSyncing'][_0x2b7d86(0x8b0)](_0x3951fa[_0x2b7d86(0x4b2)])?.['size']&&this[_0x2b7d86(0x72c)][_0x2b7d86(0x560)](_0x3951fa[_0x2b7d86(0x4b2)]),0x0===this[_0x2b7d86(0x72c)][_0x2b7d86(0x388)]&&0x0===this[_0x2b7d86(0x251)]['size']&&this[_0x2b7d86(0x5c2)]();}async[_0x128a0b(0x878)](){const _0x1019b3=_0x128a0b;try{const _0x213203=await this['transactionService']['getTransactions'](this[_0x1019b3(0x9ce)],this[_0x1019b3(0x8c8)]);for(const _0x233139 of _0x213203)await this[_0x1019b3(0xab2)](_0x233139,!0x0);}catch(_0x109fae){if(_0x109fae instanceof _0x4204a5&&_0x109fae['code']===_0x4204a5[_0x1019b3(0x7f9)][_0x1019b3(0xa0f)]){await this[_0x1019b3(0xb0a)][_0x1019b3(0x367)](_0x14fb58),delete this[_0x1019b3(0x8c8)];try{const _0x214cbf=await this[_0x1019b3(0xb0a)][_0x1019b3(0x622)]('/',!0x1);for(const _0x2b88f1 of _0x214cbf)await this[_0x1019b3(0xb0a)]['deleteObject'](_0x2b88f1[_0x1019b3(0x8ce)]);}catch(_0x49ea37){}return await this[_0x1019b3(0x878)]();}throw _0x109fae;}}async[_0x128a0b(0x505)](){const _0x3d8312=_0x128a0b,_0x5646b5=await this[_0x3d8312(0x622)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x0}),_0x495f56=async _0x131690=>{const _0x51368c=_0x3d8312;for(const _0x305984 of _0x131690){if(_0x305984[_0x51368c(0x338)]===_0x16f74[_0x51368c(0x683)][_0x51368c(0x6ce)]){_0x305984[_0x51368c(0x268)]&&_0x305984[_0x51368c(0x268)][_0x51368c(0xa20)]>0x0&&await _0x495f56(_0x305984['entries']);continue;}if(_0x305984[_0x51368c(0x6f7)]!==_0x16f74[_0x51368c(0x89b)][_0x51368c(0xa91)])continue;const _0x1362b2=await this[_0x51368c(0x8b0)](_0x305984['pathName']+_0x5099e4),_0x22dd4f=JSON[_0x51368c(0x562)](await _0x1362b2[_0x51368c(0x992)]()),_0x84a574=_0x305984[_0x51368c(0x3d4)][_0x51368c(0xa2e)](_0x5099e4,''),_0x1b1d00={'payloadType':_0x2e884e[_0x51368c(0x46b)],'action':_0x358c44['RequestFile'],'sourceId':this['localNode'][_0x51368c(0x993)](),'type':'','path':_0x305984[_0x51368c(0x8c9)],'name':_0x84a574,'checksum':_0x22dd4f[_0x51368c(0x359)],'skipEncryption':_0x22dd4f[_0x51368c(0x4e8)]},_0x21a757=_0x348932(_0x305984[_0x51368c(0x8c9)],_0x84a574);this[_0x51368c(0x251)]['set'](_0x21a757,_0x1b1d00);}};await _0x495f56(_0x5646b5),0x0===this[_0x3d8312(0x251)][_0x3d8312(0x388)]&&0x0===this[_0x3d8312(0x72c)][_0x3d8312(0x388)]&&this['completeSync']();}async[_0x128a0b(0x90d)](_0x2f62aa,_0x423229,_0x30b711){const _0x4ee01e=_0x128a0b,_0x41b01b=new File([new Blob([JSON[_0x4ee01e(0x30b)](_0x30b711)])],''+_0x2f62aa+_0x5099e4,{'type':'text/plain'});await this['writeFile'](_0x41b01b,_0x423229);}async[_0x128a0b(0x207)](_0x369457,_0x355acb,_0x409940){const _0x2eb210=_0x128a0b;try{const _0x1d1401=_0x348932(_0x355acb,_0x369457),_0x28ae27=_0x1d1401+_0x5099e4,_0x5040a8=await this['objectStoreConnector'][_0x2eb210(0x8b0)](_0x28ae27),{checksum:_0x48a0b8,skipEncryption:_0x325745}=JSON['parse'](await _0x5040a8[_0x2eb210(0x992)]()),_0x4eb088=(await this[_0x2eb210(0xb0a)][_0x2eb210(0x8b0)](_0x1d1401,{'skipEncryption':_0x325745}))['size'];return _0x48a0b8===_0x409940&&_0x4eb088%_0x5c06b7==0x0?[!0x0,Math[_0x2eb210(0x808)](_0x4eb088/_0x5c06b7)]:(await this[_0x2eb210(0xb0a)][_0x2eb210(0x367)](_0x1d1401),[!0x1,0x0]);}catch(_0x4f9183){return[!0x1,0x0];}}[_0x128a0b(0x3b2)](_0x1404a6,_0x3e5913){const _0x3d6423=_0x128a0b,[_0x4bba09,_0x22a0d6]=this['pendingFilesSyncing'][_0x3d6423(0x8b0)](_0x1404a6)?.[_0x3d6423(0x8b0)](_0x3e5913)??[];return _0x22a0d6&&clearTimeout(_0x22a0d6),setTimeout(()=>{const _0x1813bf=_0x3d6423,[_0x362718,_0x4c0a48]=this[_0x1813bf(0x72c)]['get'](_0x1404a6)['get'](_0x3e5913);this['sendFileRequestPayload'](_0x362718,_0x4c0a48);},0x927c0);}async[_0x128a0b(0x18c)](_0x5e674b,_0x59fc28){const _0x534f29=_0x128a0b;clearTimeout(_0x59fc28),_0x5e674b['action']=_0x358c44['RequestFile'],this[_0x534f29(0x251)][_0x534f29(0x663)](_0x348932(_0x5e674b[_0x534f29(0x8c9)],_0x5e674b[_0x534f29(0x3d4)]),_0x5e674b),this[_0x534f29(0x8d1)](_0x5e674b);}[_0x128a0b(0xaf3)](_0x410c16,_0x18a168){const _0x28d1a3=_0x128a0b;if(!this['syncContent'])return;this[_0x28d1a3(0x72c)][_0x28d1a3(0x301)](_0x410c16['answererId'])||this[_0x28d1a3(0x72c)][_0x28d1a3(0x663)](_0x410c16[_0x28d1a3(0x4b2)],new Map());const [_0x2a5ee6]=this[_0x28d1a3(0x72c)][_0x28d1a3(0x8b0)](_0x410c16['answererId'])[_0x28d1a3(0x8b0)](_0x18a168)??[{'payloadType':_0x2e884e[_0x28d1a3(0x46b)],'action':_0x358c44['RequestFile'],'sourceId':this['localNode']['getId'](),'type':_0x410c16[_0x28d1a3(0x7dd)],'name':_0x410c16[_0x28d1a3(0x3d4)],'path':_0x410c16[_0x28d1a3(0x8c9)],'skipEncryption':_0x410c16[_0x28d1a3(0x4e8)],'checksum':_0x410c16[_0x28d1a3(0x359)],'answererId':_0x410c16[_0x28d1a3(0x4b2)]}];this[_0x28d1a3(0x72c)][_0x28d1a3(0x8b0)](_0x410c16[_0x28d1a3(0x4b2)])[_0x28d1a3(0x663)](_0x18a168,[_0x2a5ee6,this[_0x28d1a3(0x3b2)](_0x410c16[_0x28d1a3(0x4b2)],_0x18a168)]);}async[_0x128a0b(0x24c)](_0x34713d,_0x22f6d7,_0x1fbcd1){const _0x5c28c3=_0x128a0b;this[_0x5c28c3(0x28e)]&&(this[_0x5c28c3(0x536)]+=0x1),await this[_0x5c28c3(0xb0a)][_0x5c28c3(0x24c)](_0x34713d,_0x22f6d7,_0x1fbcd1);}async[_0x128a0b(0x367)](_0x5c275d){const _0x23d9fd=_0x128a0b;try{const _0x390d55=await this[_0x23d9fd(0xb0a)][_0x23d9fd(0x367)](_0x5c275d);if(!_0x5c275d[_0x23d9fd(0x753)](_0x5099e4))try{await this[_0x23d9fd(0xb0a)][_0x23d9fd(0x367)](_0x5c275d+_0x5099e4);}catch(_0xfef319){}return this[_0x23d9fd(0x28e)]&&_0x390d55===_0x16f74[_0x23d9fd(0x683)][_0x23d9fd(0x21c)]&&(this[_0x23d9fd(0x536)]+=0x1),_0x390d55;}catch(_0x20540b){return await this[_0x23d9fd(0xb0a)][_0x23d9fd(0x367)](_0x5c275d+_0x5099e4);}}async[_0x128a0b(0x5ec)](_0x5d8b18,_0x2d5656){const _0x6236d6=_0x128a0b;try{const _0x35648e=await this[_0x6236d6(0xb0a)]['moveObject'](_0x5d8b18,_0x2d5656);if(!_0x5d8b18[_0x6236d6(0x753)](_0x5099e4))try{await this[_0x6236d6(0xb0a)]['moveObject'](_0x5d8b18+_0x5099e4,_0x2d5656+_0x5099e4);}catch(_0x313f80){}return _0x35648e;}catch(_0x47a931){return await this['objectStoreConnector'][_0x6236d6(0x5ec)](_0x5d8b18+_0x5099e4,_0x2d5656+_0x5099e4);}}[_0x128a0b(0xa76)](){const _0x56c777=_0x128a0b;this['debounceStats']&&clearTimeout(this[_0x56c777(0xa16)]),this[_0x56c777(0xa16)]=setTimeout(async()=>{const _0x111f3c=_0x56c777;delete this[_0x111f3c(0xa16)];const _0x1f17da=await this['objectStoreConnector'][_0x111f3c(0x5ce)]('/');this[_0x111f3c(0x7be)]?.[_0x111f3c(0x56d)]({'sourceId':_0x4b0f68,'messageType':_0x562b7c[_0x111f3c(0x40d)],'content':{'type':_0x267eb0[_0x111f3c(0x9a6)],'label':this[_0x111f3c(0x9ce)],'stats':{'timestamp':Date[_0x111f3c(0x85a)](),'storage':_0x1f17da,'messagesSent':this[_0x111f3c(0x5e4)],'messagesReceived':this[_0x111f3c(0x68a)],'bytesSent':this[_0x111f3c(0x9dc)],'bytesReceived':this[_0x111f3c(0xa43)],'writes':this['writes'],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),this[_0x111f3c(0xae2)]&&_0x265260[_0x111f3c(0xa3e)](_0x5790a5[_0x111f3c(0x303)],_0x111f3c(0x670)+this[_0x111f3c(0x2cd)]+_0x111f3c(0x670)+this[_0x111f3c(0x9ce)],_0x1f17da);},_0x9bc8e5);}async[_0x128a0b(0x60f)](_0x106809){const _0x424a89=_0x128a0b;try{return await this[_0x424a89(0x8b0)](_0x106809),!0x0;}catch(_0x21e2d1){return!0x1;}}async[_0x128a0b(0x60d)](_0x40fe43){const _0x5d3ca2=_0x128a0b;if(!this[_0x5d3ca2(0xaf0)][_0x5d3ca2(0x301)](_0x40fe43))return;const _0x12a9ad=this[_0x5d3ca2(0xaf0)][_0x5d3ca2(0x8b0)](_0x40fe43);if(_0x12a9ad['stream'])try{await _0x12a9ad[_0x5d3ca2(0x185)][_0x5d3ca2(0x42d)]();}catch(_0x2336d4){console[_0x5d3ca2(0x5b5)]('Error\x20closing\x20writable\x20stream',_0x2336d4);}this[_0x5d3ca2(0xaf0)][_0x5d3ca2(0x560)](_0x40fe43);}}class _0x237cf2 extends _0x5973c2{[_0x128a0b(0x8cc)];[_0x128a0b(0x2cd)];[_0x128a0b(0x755)]=new Map();[_0x128a0b(0xa16)];constructor(_0x3aab50,_0x5ec6f6,_0x21fc66){const _0x441d3d=_0x128a0b;if(_0x441d3d(0x55c)!=typeof _0x5ec6f6)throw new _0x325cc6(_0x3336f9[_0x441d3d(0x67c)],_0x441d3d(0xa87));super(_0x3aab50,_0x5ec6f6),this[_0x441d3d(0x8cc)]=_0x3aab50,this['clusterId']=_0x21fc66,this[_0x441d3d(0xa76)]();}[_0x128a0b(0x49e)](){this['sendStats']();}[_0x128a0b(0x6da)](){const _0x24ebf3=_0x128a0b;return _0x16f74[_0x24ebf3(0x6f5)][_0x24ebf3(0x7ba)];}[_0x128a0b(0x56d)](_0x552e3f,_0x56c031){const _0x1ee22d=_0x128a0b;_0x265260['log'](_0x1367fe['PubSub'],_0x1ee22d(0x571),this[_0x1ee22d(0x8cc)][_0x1ee22d(0x993)](),_0x552e3f,_0x56c031),_0x265260[_0x1ee22d(0x1b4)](_0x5790a5[_0x1ee22d(0x7ba)],{'type':'publish','label':this[_0x1ee22d(0x9ce)],'nodeId':this[_0x1ee22d(0x8cc)]['getId'](),'nodeType':this[_0x1ee22d(0x8cc)]['type'],'clusterId':this[_0x1ee22d(0x2cd)],'remoteIds':_0x56c031??[],'contentType':_0x552e3f instanceof File?_0x16f74[_0x1ee22d(0x6f5)][_0x1ee22d(0x21c)]:_0x16f74[_0x1ee22d(0x6f5)][_0x1ee22d(0x743)],'size':_0x552e3f instanceof File?_0x552e3f[_0x1ee22d(0x388)]:JSON[_0x1ee22d(0x30b)](_0x552e3f)['length']}),this[_0x1ee22d(0xa76)](),this[_0x1ee22d(0x8d1)](_0x552e3f,_0x56c031);}['subscribe'](_0xc5cd8f,_0x20b69e){const _0x46b393=_0x128a0b;if(this['unsubscribeHandler']['has'](_0xc5cd8f))throw new _0x325cc6(_0x3336f9[_0x46b393(0xa64)],_0x46b393(0x29e));this[_0x46b393(0x755)][_0x46b393(0x663)](_0xc5cd8f,this[_0x46b393(0x1d7)]((_0x1bb056,_0x50446f)=>{const _0x3ebda8=_0x46b393;_0x3ebda8(0xaae)===_0xc5cd8f&&_0x50446f instanceof File||!('file'!==_0xc5cd8f||_0x50446f instanceof File)||(_0x265260[_0x3ebda8(0x552)](_0x1367fe['PubSub'],_0x3ebda8(0x736),this[_0x3ebda8(0x8cc)][_0x3ebda8(0x993)](),_0x1bb056,_0x50446f),_0x265260[_0x3ebda8(0x1b4)](_0x5790a5[_0x3ebda8(0x7ba)],{'type':_0x3ebda8(0x3b4),'label':this['label'],'nodeId':this[_0x3ebda8(0x8cc)]['getId'](),'nodeType':this[_0x3ebda8(0x8cc)][_0x3ebda8(0x7dd)],'clusterId':this[_0x3ebda8(0x2cd)],'remoteId':_0x1bb056,'contentType':_0xc5cd8f,'size':_0x50446f instanceof File?_0x50446f['size']:JSON[_0x3ebda8(0x30b)](_0x50446f)['length']}),this[_0x3ebda8(0xa76)](),_0x20b69e(_0x1bb056,_0x50446f));}));}['unsubscribe'](_0x5eb0d9){const _0x5edcf3=_0x128a0b;this['unsubscribeHandler']['get'](_0x5eb0d9)?.(),this[_0x5edcf3(0x755)][_0x5edcf3(0x560)](_0x5eb0d9);}['destroy'](){const _0x111263=_0x128a0b;this[_0x111263(0x755)]['forEach'](_0x220256=>_0x220256()),clearTimeout(this[_0x111263(0xa16)]),delete this[_0x111263(0xa16)],super[_0x111263(0x61e)]();}[_0x128a0b(0x42d)](){const _0x5bb867=_0x128a0b;this[_0x5bb867(0x7be)]?.['publish']({'sourceId':_0x4b0f68,'messageType':_0x562b7c[_0x5bb867(0x40d)],'content':{'type':_0x267eb0['ClosePubSubTopic'],'label':this[_0x5bb867(0x9ce)]}});}[_0x128a0b(0xa76)](){const _0x57f0a2=_0x128a0b;this['debounceStats']&&clearTimeout(this[_0x57f0a2(0xa16)]),this[_0x57f0a2(0xa16)]=setTimeout(()=>{const _0x205068=_0x57f0a2;this[_0x205068(0x7be)]?.[_0x205068(0x56d)]({'sourceId':_0x4b0f68,'messageType':_0x562b7c[_0x205068(0x40d)],'content':{'type':_0x267eb0[_0x205068(0x2c8)],'label':this[_0x205068(0x9ce)],'stats':{'timestamp':Date[_0x205068(0x85a)](),'storage':0x0,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x205068(0x68a)],'bytesSent':this[_0x205068(0x9dc)],'bytesReceived':this[_0x205068(0xa43)],'writes':0x0,'reads':0x0,'prompts':0x0,'tokens':0x0}}});},_0x9bc8e5);}}class _0x367cb3 extends _0x13935e{[_0x128a0b(0x8cc)];[_0x128a0b(0x9d8)];['availableTrackKinds'];[_0x128a0b(0x2cd)];['unsubscribeHandler'];[_0x128a0b(0x6c4)];[_0x128a0b(0x2fe)];[_0x128a0b(0xa69)]=new Map();[_0x128a0b(0x635)];[_0x128a0b(0x8aa)]=new Set();['providerId'];[_0x128a0b(0x69d)]=_0x41572e();[_0x128a0b(0x817)]=new Map();constructor(_0x8a0b44,_0x48d69b,_0x12682f,_0x452ebd,_0x5b20be,_0x103a1e){const _0x4c5d09=_0x128a0b;super(_0x48d69b,_0x12682f,new MediaStream()),this[_0x4c5d09(0x8cc)]=_0x8a0b44,this[_0x4c5d09(0x9d8)]=_0x452ebd,this['availableTrackKinds']=_0x5b20be,this[_0x4c5d09(0x2cd)]=_0x103a1e,this[_0x4c5d09(0x39c)][_0x4c5d09(0x54e)]()[_0x4c5d09(0x8b3)](_0x157542=>this[_0x4c5d09(0xad4)](_0x157542));}[_0x128a0b(0x61e)](){const _0x7016b8=_0x128a0b;this[_0x7016b8(0xa69)][_0x7016b8(0x388)]>0x0&&(this['outgoingStreams'][_0x7016b8(0x8b3)](_0x3f0e43=>{const _0x5968e2=_0x7016b8;_0x3f0e43[_0x5968e2(0x211)](),_0x3f0e43[_0x5968e2(0x61e)]();}),this[_0x7016b8(0xa69)][_0x7016b8(0x9e4)]()),this['trackEndedListeners']['forEach'](_0x55fdff=>_0x55fdff()),this[_0x7016b8(0x39c)][_0x7016b8(0x54e)]()['forEach'](_0x5df84a=>this[_0x7016b8(0x39c)]['removeTrack'](_0x5df84a)),this[_0x7016b8(0x2fe)]&&(clearTimeout(this[_0x7016b8(0x2fe)]),delete this['updateDebounce']),this['resizeHandler']?.(),super[_0x7016b8(0x61e)]();}[_0x128a0b(0x532)](_0x4d7ad4){const _0x364cde=_0x128a0b;this['unsubscribeHandler']=_0x4d7ad4[_0x364cde(0x3b4)](({content:_0x21afbb})=>{const _0x2862d5=_0x364cde;switch(_0x21afbb['action']){case _0x155040[_0x2862d5(0x881)]:if(_0x265260[_0x2862d5(0x552)](_0x1367fe['Subscription'],_0x2862d5(0x8bd),this[_0x2862d5(0x8cc)][_0x2862d5(0x993)](),this['providerId']),_0x21afbb[_0x2862d5(0x185)]['id']!==this[_0x2862d5(0x9d8)]||_0x21afbb[_0x2862d5(0x473)]!==this[_0x2862d5(0x473)])return;this[_0x2862d5(0x8af)](_0x21afbb[_0x2862d5(0x6b0)][_0x2862d5(0x338)]),this[_0x2862d5(0x39c)]['addTrack'](_0x21afbb[_0x2862d5(0x6b0)]);for(const [_0x1f2901,_0x392a49]of this[_0x2862d5(0xa69)][_0x2862d5(0x268)]())try{_0x392a49[_0x2862d5(0x776)](_0x21afbb['track']);}catch(_0x12604f){_0x392a49[_0x2862d5(0x61e)](),this[_0x2862d5(0xa69)][_0x2862d5(0x560)](_0x1f2901);}this[_0x2862d5(0xad4)](_0x21afbb[_0x2862d5(0x6b0)]),this[_0x2862d5(0x3e0)](),_0x2862d5(0x1fb)===_0x21afbb[_0x2862d5(0x6b0)][_0x2862d5(0x338)]&&this['renderElement']&&(this['mediaStream'][_0x2862d5(0x92c)]?setTimeout(()=>this[_0x2862d5(0x635)]?.[_0x2862d5(0x3d0)](),0x0):setTimeout(()=>this[_0x2862d5(0x635)]?.[_0x2862d5(0x32d)](),0x0),this[_0x2862d5(0x6b8)]());break;case _0x155040[_0x2862d5(0x349)]:if(_0x21afbb[_0x2862d5(0x185)]['id']!==this[_0x2862d5(0x9d8)]||_0x21afbb[_0x2862d5(0x473)]!==this[_0x2862d5(0x473)])return;this['removeTrack'](_0x21afbb['track'][_0x2862d5(0x338)]),this['renderElement']&&_0x2862d5(0x1fb)===_0x21afbb[_0x2862d5(0x6b0)][_0x2862d5(0x338)]&&(this[_0x2862d5(0x6c4)]?.(),this['mediaStream']['getTracks']()[_0x2862d5(0xa20)]>0x0?this['renderElement']['load']():this['renderElement'][_0x2862d5(0x904)]=null);}});}[_0x128a0b(0x950)](){const _0x1b3aea=_0x128a0b;this[_0x1b3aea(0x755)]?.(),this['trackEndedListeners'][_0x1b3aea(0x8b3)](_0x14d876=>_0x14d876()),delete this[_0x1b3aea(0x755)];}[_0x128a0b(0x1e9)](){const _0xc6f08d=_0x128a0b;return this[_0xc6f08d(0x9d8)];}['setInternalId'](_0x203ca2){const _0xf65f40=_0x128a0b;this[_0xf65f40(0x9d8)]=_0x203ca2;}[_0x128a0b(0xaa6)](){const _0x4ac567=_0x128a0b;return this[_0x4ac567(0x615)];}[_0x128a0b(0x1de)](_0x572a21){const _0x3ac454=_0x128a0b;for(const _0x150d8f of _0x572a21||this['availableTrackKinds'])if(!this[_0x3ac454(0x39c)][_0x3ac454(0x54e)]()['find'](_0x26e61e=>_0x26e61e[_0x3ac454(0x338)]===_0x150d8f))return!0x1;return!0x0;}[_0x128a0b(0xaad)](){const _0x3178b6=_0x128a0b;let _0x14f30d={'width':0x0,'height':0x0};const _0x1d8e57=this[_0x3178b6(0x39c)]['getVideoTracks']();if(_0x1d8e57[_0x3178b6(0xa20)]>0x0){const _0x46fd90=_0x1d8e57[0x0]['getSettings']();_0x46fd90[_0x3178b6(0x6c6)]&&_0x46fd90[_0x3178b6(0x713)]&&(_0x14f30d={'width':_0x46fd90[_0x3178b6(0x6c6)],'height':_0x46fd90[_0x3178b6(0x713)]});}return _0x14f30d;}[_0x128a0b(0x332)](_0x1b181f){const _0x3cb92f=_0x128a0b;for(const _0x4dce51 of _0x1b181f)if(!this[_0x3cb92f(0x8aa)][_0x3cb92f(0x301)](_0x4dce51))return!0x1;return!0x0;}[_0x128a0b(0x62c)](_0x5d3cfb,_0x1cd239){const _0x2230fe=_0x128a0b;if(!this[_0x2230fe(0xa69)][_0x2230fe(0x301)](_0x5d3cfb)){const _0x37e103=new _0x28300f(this[_0x2230fe(0x25a)],this[_0x2230fe(0x9ce)],this['mediaStream'],_0x5d3cfb,_0x1cd239),_0x12a321=_0x37e103[_0x2230fe(0xa9c)](()=>{const _0x1938a3=_0x2230fe;_0x12a321(),this[_0x1938a3(0xa69)][_0x1938a3(0x8b0)](_0x5d3cfb)?.['destroy'](),this[_0x1938a3(0xa69)][_0x1938a3(0x560)](_0x5d3cfb);});this[_0x2230fe(0xa69)][_0x2230fe(0x663)](_0x5d3cfb,_0x37e103),_0x37e103['registerSystemPublisher'](this['systemTopic']);}return this[_0x2230fe(0xa69)][_0x2230fe(0x8b0)](_0x5d3cfb);}[_0x128a0b(0x9c5)](){const _0xb43ca4=_0x128a0b;return this[_0xb43ca4(0x39c)]['id'];}['getPriority'](){const _0x27e29d=_0x128a0b;return _0x16f74[_0x27e29d(0x8bf)]['Default'];}['getSubscribedTracks'](){const _0x1b324d=_0x128a0b;return Array[_0x1b324d(0x1ec)](this['subscribedTracks']);}[_0x128a0b(0x3b4)](_0x3694f6){const _0x25fa9c=_0x128a0b;let _0x1bb034=[];if(_0x3694f6){_0x25fa9c(0xa3a)!=typeof _0x3694f6[_0x25fa9c(0x1fb)]||_0x3694f6[_0x25fa9c(0x1fb)]['renderElement']instanceof HTMLVideoElement||!this[_0x25fa9c(0x635)]||(_0x3694f6['video']={'renderElement':this[_0x25fa9c(0x635)]});try{(0x0,_0x16f74['isValidMediaSubscriptionParams'])(_0x3694f6);}catch(_0x2876bb){throw new _0x325cc6(_0x3336f9[_0x25fa9c(0x727)],_0x25fa9c(0x1e0));}_0x3694f6[_0x25fa9c(0x1fb)]&&(_0x1bb034[_0x25fa9c(0xa98)](_0x25fa9c(0x1fb)),_0x25fa9c(0x862)!=typeof _0x3694f6[_0x25fa9c(0x1fb)]&&_0x3694f6[_0x25fa9c(0x1fb)][_0x25fa9c(0x635)]&&(this[_0x25fa9c(0x635)]=_0x3694f6[_0x25fa9c(0x1fb)]['renderElement'],_0x3694f6[_0x25fa9c(0x1fb)]['maxResolution']||(_0x3694f6[_0x25fa9c(0x1fb)][_0x25fa9c(0x474)]={'width':this['renderElement'][_0x25fa9c(0x9bf)],'height':this[_0x25fa9c(0x635)][_0x25fa9c(0x7b7)]}),delete _0x3694f6[_0x25fa9c(0x1fb)][_0x25fa9c(0x635)])),_0x3694f6[_0x25fa9c(0x4a1)]&&_0x1bb034['push'](_0x25fa9c(0x4a1));}else _0x1bb034=this[_0x25fa9c(0xaa6)]();this['isSubscribed'](_0x1bb034)||(_0x1bb034[_0x25fa9c(0x8b3)](_0x658c50=>this[_0x25fa9c(0x8aa)]['add'](_0x658c50)),this[_0x25fa9c(0x7be)][_0x25fa9c(0x56d)]({'sourceId':_0x4b0f68,'messageType':_0x562b7c['Content'],'content':{'type':_0x267eb0['SubscribeMediaStream'],'label':this['label'],'ownerId':this[_0x25fa9c(0x25a)][_0x25fa9c(0x993)](),'trackKinds':_0x1bb034,'params':_0x3694f6}}),_0x265260['logServiceEvent'](_0x5790a5[_0x25fa9c(0x61a)],{'type':'subscribe','label':this[_0x25fa9c(0x9ce)],'nodeId':this['localNode'][_0x25fa9c(0x993)](),'nodeType':this['localNode'][_0x25fa9c(0x7dd)],'clusterId':this[_0x25fa9c(0x2cd)],'sourceId':this[_0x25fa9c(0x25a)]['getId'](),'streamId':this[_0x25fa9c(0x9d8)],'trackKinds':_0x1bb034}));}[_0x128a0b(0x603)](_0x48b320){const _0x1f24eb=_0x128a0b;try{(0x0,_0x16f74[_0x1f24eb(0x577)])(_0x48b320);}catch(_0x514b26){throw new _0x325cc6(_0x3336f9[_0x1f24eb(0x727)],_0x1f24eb(0x1e0));}this['updateDebounce']&&clearTimeout(this['updateDebounce']),this[_0x1f24eb(0x2fe)]=setTimeout(()=>{const _0x570904=_0x1f24eb;delete this['updateDebounce'],this[_0x570904(0x7be)][_0x570904(0x56d)]({'sourceId':_0x4b0f68,'messageType':_0x562b7c[_0x570904(0x40d)],'content':{'type':_0x267eb0[_0x570904(0x239)],'label':this[_0x570904(0x9ce)],'ownerId':this['owner']['getId'](),'params':_0x48b320}});},0x1f4);}['unsubscribe'](_0x5d9b5c){const _0x3e3047=_0x128a0b;_0x5d9b5c||(_0x5d9b5c=this['getAvailableTrackKinds']()),(_0x5d9b5c=Array[_0x3e3047(0xaec)](_0x5d9b5c)?_0x5d9b5c:[_0x5d9b5c])['forEach'](_0x282873=>this[_0x3e3047(0x8aa)]['delete'](_0x282873)),this[_0x3e3047(0x7be)][_0x3e3047(0x56d)]({'sourceId':_0x4b0f68,'messageType':_0x562b7c[_0x3e3047(0x40d)],'content':{'type':_0x267eb0[_0x3e3047(0x59c)],'label':this[_0x3e3047(0x9ce)],'ownerId':this[_0x3e3047(0x25a)][_0x3e3047(0x993)](),'trackKinds':_0x5d9b5c,'remainingTracks':this[_0x3e3047(0x8aa)][_0x3e3047(0x388)]}});}[_0x128a0b(0x2a3)](_0x44f54f){const _0x41aa7=_0x128a0b;return this[_0x41aa7(0x69d)][_0x41aa7(0x3b4)](_0x44f54f);}['getProviderId'](){const _0x5f2ebf=_0x128a0b;return this[_0x5f2ebf(0x473)];}['setProviderId'](_0x3a8eac){const _0xa880e6=_0x128a0b;this[_0xa880e6(0x473)]!==_0x3a8eac&&(this[_0xa880e6(0x473)]=_0x3a8eac,this[_0xa880e6(0x69d)][_0xa880e6(0x56d)](_0x3a8eac));}[_0x128a0b(0x2d1)](_0x2c730b){const _0x548fed=_0x128a0b;this[_0x548fed(0x817)]['get'](_0x2c730b)?.(),this[_0x548fed(0x817)][_0x548fed(0x560)](_0x2c730b);}['removeTrack'](_0xb9d6bd){const _0x1dff59=_0x128a0b,_0x33217f=this['mediaStream'][_0x1dff59(0x54e)]()['find'](_0x4a2d98=>_0x4a2d98[_0x1dff59(0x338)]===_0xb9d6bd);_0x33217f&&(this[_0x1dff59(0x39c)][_0x1dff59(0x8af)](_0x33217f),this[_0x1dff59(0xa69)]['forEach'](_0x48fdda=>_0x48fdda[_0x1dff59(0x8af)](_0xb9d6bd)),this[_0x1dff59(0x817)]['get'](_0xb9d6bd)?.());}[_0x128a0b(0x3e0)](){const _0x555718=_0x128a0b;this['renderElement']&&(this[_0x555718(0x635)][_0x555718(0x904)]&&this[_0x555718(0x635)][_0x555718(0x904)]===this[_0x555718(0x39c)]||(this[_0x555718(0x635)][_0x555718(0x904)]=this[_0x555718(0x39c)]));}[_0x128a0b(0x6b8)](){const _0x2ecd6c=_0x128a0b;if(this[_0x2ecd6c(0x635)]&&!this['resizeHandler']&&_0x2ecd6c(0x730)!=typeof ResizeObserver){let _0x430131=this[_0x2ecd6c(0x635)][_0x2ecd6c(0x9bf)],_0x1510a4=this[_0x2ecd6c(0x635)]['clientHeight'];const _0x45666a=new ResizeObserver(_0x584202=>{const _0x1beb20=_0x2ecd6c,{width:_0x39b8eb,height:_0x19fe14}=_0x584202[0x0][_0x1beb20(0x5bf)];_0x430131===_0x39b8eb&&_0x1510a4===_0x19fe14||(_0x430131=Math['floor'](_0x39b8eb),_0x1510a4=Math['floor'](_0x19fe14),this[_0x1beb20(0x603)]({'video':{'maxResolution':{'width':_0x39b8eb,'height':_0x19fe14}}}));});_0x45666a[_0x2ecd6c(0x586)](this[_0x2ecd6c(0x635)]),this[_0x2ecd6c(0x6c4)]=()=>_0x45666a['disconnect']();}}['handleRemoteTrackFailure'](_0xd6f67f){const _0x5387d1=_0x128a0b,_0x32f9d3=[];for(const _0x6a9de4 of this[_0x5387d1(0x8aa)])this['removeTrack'](_0x6a9de4),_0x32f9d3[_0x5387d1(0xa98)](_0x6a9de4);this[_0x5387d1(0x473)]&&this[_0x5387d1(0x7be)][_0x5387d1(0x56d)]({'sourceId':_0x4b0f68,'messageType':_0x562b7c[_0x5387d1(0x40d)],'content':{'type':_0x267eb0['RemoteMediaStreamTrackFail'],'label':this[_0x5387d1(0x9ce)],'streamId':this['internalId'],'ownerId':this['owner'][_0x5387d1(0x993)](),'providerId':this[_0x5387d1(0x473)],'trackKinds':_0x32f9d3}});}['setupTrackEndedListeners'](_0x193edf){const _0x2ec916=_0x128a0b,_0x295ec4=()=>this[_0x2ec916(0xab6)](_0x193edf);_0x193edf[_0x2ec916(0x4f5)]('ended',_0x295ec4),_0x193edf['addEventListener'](_0x2ec916(0x573),_0x295ec4),this['trackEndedListeners'][_0x2ec916(0x663)](_0x193edf['kind'],()=>{const _0x535b66=_0x2ec916;_0x193edf[_0x535b66(0x547)](_0x535b66(0x63a),_0x295ec4),_0x193edf[_0x535b66(0x547)]('mute',_0x295ec4),this[_0x535b66(0x817)][_0x535b66(0x560)](_0x193edf['kind']);});}}class _0x14cab0 extends _0x5973c2{[_0x128a0b(0x8cc)];[_0x128a0b(0x2cd)];['vendorId'];['db'];[_0x128a0b(0xa16)];[_0x128a0b(0xa2c)]=0x0;[_0x128a0b(0x469)]=0x0;[_0x128a0b(0x53b)]=!0x1;constructor(_0xae4c3,_0x4bddde,_0x5e6c50,_0x404b09,_0x48c60f){const _0x408d8f=_0x128a0b;if('string'!=typeof _0x4bddde)throw new _0x325cc6(_0x3336f9[_0x408d8f(0xa3b)],_0x408d8f(0xa5b));super(_0xae4c3,_0x4bddde),this[_0x408d8f(0x8cc)]=_0xae4c3,this['clusterId']=_0x5e6c50,this[_0x408d8f(0x61b)]=_0x404b09;const _0x381d6b=_0x408d8f(0x670)+this[_0x408d8f(0x61b)]+'ccc'+this[_0x408d8f(0x2cd)]+_0x408d8f(0x670)+this[_0x408d8f(0x9ce)];this['db']=new _0x48c60f(_0x381d6b),this[_0x408d8f(0xa76)]();}[_0x128a0b(0xaf9)](){return this['isLoaded'];}[_0x128a0b(0xae6)](_0x23e8a1){const _0x203757=_0x128a0b;this[_0x203757(0x53b)]=_0x23e8a1;}[_0x128a0b(0x61e)](){const _0x2a855e=_0x128a0b;clearTimeout(this[_0x2a855e(0xa16)]),delete this[_0x2a855e(0xa16)],super[_0x2a855e(0x61e)]();}['close'](){const _0x2ed723=_0x128a0b;this[_0x2ed723(0x7be)][_0x2ed723(0x56d)]({'sourceId':_0x4b0f68,'messageType':_0x562b7c[_0x2ed723(0x40d)],'content':{'type':_0x267eb0[_0x2ed723(0x596)],'label':this['label']}});}['reset'](){const _0x1bedc1=_0x128a0b;this[_0x1bedc1(0xa76)]();}[_0x128a0b(0x6da)](){const _0x245538=_0x128a0b;return _0x16f74['ContentType'][_0x245538(0x56f)];}['search'](_0x4afbde,_0xf8e1c6,_0x1b7f49,_0x57b6da,_0x1f7f8a){const _0x59be9c=_0x128a0b,_0x394c55=this['db'][_0x59be9c(0x50c)](_0x4afbde,_0xf8e1c6,_0x1b7f49,_0x57b6da,_0x1f7f8a);return this[_0x59be9c(0x469)]+=0x1,_0x265260['logServiceEvent'](_0x5790a5[_0x59be9c(0x56f)],{'type':'search','label':this[_0x59be9c(0x9ce)],'nodeId':this['localNode'][_0x59be9c(0x993)](),'nodeType':this['localNode'][_0x59be9c(0x7dd)],'clusterId':this['clusterId'],'size':0x0}),this[_0x59be9c(0xa76)](),_0x394c55;}['insert'](_0x5773bb,_0x52829f,_0x15b6b0,_0x54d0ee){const _0x4303f4=_0x128a0b;this['db'][_0x4303f4(0x960)](_0x5773bb,_0x52829f,_0x15b6b0,_0x54d0ee),this[_0x4303f4(0xa2c)]+=0x1,_0x265260[_0x4303f4(0x1b4)](_0x5790a5[_0x4303f4(0x56f)],{'type':_0x4303f4(0x960),'label':this[_0x4303f4(0x9ce)],'nodeId':this['localNode']['getId'](),'nodeType':this['localNode'][_0x4303f4(0x7dd)],'clusterId':this[_0x4303f4(0x2cd)],'size':_0x54d0ee['reduce']((_0x23dcec,_0x2f4fc8)=>_0x23dcec+_0x2f4fc8['length'],0x0)}),this[_0x4303f4(0xa76)]();}[_0x128a0b(0x213)](_0x56f7c9){const _0x17b87e=_0x128a0b;this['db'][_0x17b87e(0x213)](_0x56f7c9),this[_0x17b87e(0xa2c)]+=0x1,_0x265260['logServiceEvent'](_0x5790a5[_0x17b87e(0x56f)],{'type':_0x17b87e(0x213),'label':this[_0x17b87e(0x9ce)],'nodeId':this[_0x17b87e(0x8cc)][_0x17b87e(0x993)](),'nodeType':this['localNode'][_0x17b87e(0x7dd)],'clusterId':this['clusterId'],'size':0x0}),this[_0x17b87e(0xa76)]();}[_0x128a0b(0x9de)](_0x141b50){this['db']['saveToDisk'](_0x141b50);}['loadFromDisk'](_0x2bc10a){const _0x14acb8=_0x128a0b;this['db'][_0x14acb8(0x958)](_0x2bc10a);}[_0x128a0b(0xa76)](){const _0x15a209=_0x128a0b;this[_0x15a209(0xa16)]&&clearTimeout(this[_0x15a209(0xa16)]),this[_0x15a209(0xa16)]=setTimeout(async()=>{const _0x43e4ae=_0x15a209;delete this[_0x43e4ae(0xa16)];const _0x48f05b=this['db'][_0x43e4ae(0x637)]()['byteLength'];this[_0x43e4ae(0x7be)][_0x43e4ae(0x56d)]({'sourceId':_0x4b0f68,'messageType':_0x562b7c['Content'],'content':{'type':_0x267eb0[_0x43e4ae(0x4fa)],'label':this['label'],'stats':{'timestamp':Date['now'](),'storage':_0x48f05b,'messagesSent':this[_0x43e4ae(0x5e4)],'messagesReceived':this[_0x43e4ae(0x68a)],'bytesSent':this[_0x43e4ae(0x9dc)],'bytesReceived':this[_0x43e4ae(0xa43)],'writes':this['writes'],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),_0x265260[_0x43e4ae(0xa3e)](_0x5790a5[_0x43e4ae(0x56f)],'ccc'+this[_0x43e4ae(0x2cd)]+_0x43e4ae(0x670)+this['label'],_0x48f05b);},_0x9bc8e5);}}class _0xf47ea0{['id'];['remoteConnections'];[_0x128a0b(0x766)];constructor(_0x3ccb4a,_0x3a96ee=new Set(),_0x6211f3){const _0x3f93b4=_0x128a0b;this['id']=_0x3ccb4a,this[_0x3f93b4(0x493)]=_0x3a96ee,this['rank']=_0x6211f3;}[_0x128a0b(0x42d)](){const _0x2ad531=_0x128a0b;this[_0x2ad531(0x766)]=void 0x0,this[_0x2ad531(0x493)][_0x2ad531(0x9e4)]();}[_0x128a0b(0x993)](){return this['id'];}[_0x128a0b(0x46e)](){const _0x4a3372=_0x128a0b;return this[_0x4a3372(0x766)];}[_0x128a0b(0x2d4)](){const _0x3508e3=_0x128a0b;return this[_0x3508e3(0x493)];}}class _0x31824e extends _0xf47ea0{['id'];['displayName'];[_0x128a0b(0x99a)];[_0x128a0b(0x493)];['rank'];[_0x128a0b(0x7dd)]=_0x16f74['NodeType'][_0x128a0b(0x85e)];constructor(_0x25d448,_0x2cca23,_0x4dcda9,_0x27ea3e=new Set(),_0x562516){const _0x10fe37=_0x128a0b;super(_0x25d448,_0x27ea3e,_0x562516),this['id']=_0x25d448,this['displayName']=_0x2cca23,this['email']=_0x4dcda9,this[_0x10fe37(0x493)]=_0x27ea3e,this[_0x10fe37(0x766)]=_0x562516;}['getDisplayName'](){return this['displayName'];}[_0x128a0b(0x53c)](){const _0x421e2b=_0x128a0b;return this[_0x421e2b(0x99a)];}}class _0x424e16{['vendorId'];['clusterId'];[_0x128a0b(0x771)];constructor(_0x2f0fb8,_0x25ccd2){const _0x54e1e8=_0x128a0b;this[_0x54e1e8(0x61b)]=_0x2f0fb8,this[_0x54e1e8(0x2cd)]=_0x25ccd2,this['clusterKey']=_0x54e1e8(0x670)+this[_0x54e1e8(0x61b)]+'ccc'+this[_0x54e1e8(0x2cd)];}async[_0x128a0b(0x773)](_0x254ea1,_0x524d1d){const _0x39612f=_0x128a0b,_0x313bb5=(0x0,_0x33156d[_0x39612f(0xabc)])(_0x342bc8[_0x39612f(0xaa5)](),_0x39612f(0x525)+this[_0x39612f(0x771)]+'/objectstores/'+_0x524d1d+_0x39612f(0x43b)+_0x254ea1['id']),_0x387130=(0x0,_0x33156d[_0x39612f(0x43a)])(_0x313bb5);_0x387130[_0x39612f(0x213)](),_0x254ea1[_0x39612f(0x86c)]||delete _0x254ea1[_0x39612f(0x86c)];try{await(0x0,_0x33156d[_0x39612f(0x663)])(_0x313bb5,_0x254ea1);}catch(_0xb193e0){throw await _0x387130[_0x39612f(0x24b)](),new _0x4204a5(_0x4204a5[_0x39612f(0x7f9)][_0x39612f(0x217)]);}if(!0x1===(await(0x0,_0x33156d['runTransaction'])((0x0,_0x33156d['ref'])(_0x342bc8[_0x39612f(0xaa5)](),_0x39612f(0x525)+this[_0x39612f(0x771)]+_0x39612f(0xab7)+_0x524d1d+'/transactions/lastTransaction'),_0xe27249=>_0xe27249?_0xe27249===_0x254ea1[_0x39612f(0x86c)]?_0x254ea1['id']:void 0x0:_0x254ea1[_0x39612f(0x86c)]?_0x254ea1[_0x39612f(0x86c)]:_0x254ea1['id']))[_0x39612f(0x894)])throw await(0x0,_0x33156d[_0x39612f(0x213)])(_0x313bb5),await _0x387130['cancel'](),new _0x4204a5(_0x4204a5['codes'][_0x39612f(0x6c7)]);await _0x387130[_0x39612f(0x24b)]();}async[_0x128a0b(0x4a6)](_0x1d69a4,_0x2e2de7){const _0xffbc7c=_0x128a0b;let _0x31e248=[];const _0x547c32=(0x0,_0x33156d[_0xffbc7c(0xabc)])(_0x342bc8[_0xffbc7c(0xaa5)](),_0xffbc7c(0x525)+this[_0xffbc7c(0x771)]+_0xffbc7c(0xab7)+_0x1d69a4+'/transactions');let _0x2cb511=await(0x0,_0x33156d[_0xffbc7c(0x8b0)])((0x0,_0x33156d[_0xffbc7c(0x38b)])(_0x547c32,(0x0,_0x33156d[_0xffbc7c(0x3f0)])(0x65),(0x0,_0x33156d[_0xffbc7c(0x3fa)])()));if(!_0x2cb511[_0xffbc7c(0x28f)]()){if(void 0x0!==_0x2e2de7)throw new _0x4204a5(_0x4204a5[_0xffbc7c(0x7f9)][_0xffbc7c(0xa0f)]);return _0x31e248;}const _0x3d76d4=_0x2cb511[_0xffbc7c(0x6ae)]();for(;Object[_0xffbc7c(0x321)](_0x2cb511[_0xffbc7c(0x6ae)]())[_0xffbc7c(0xa20)]>0x64;){const _0x86ec28=Object[_0xffbc7c(0x321)](_0x2cb511[_0xffbc7c(0x6ae)]()),_0xf5ff09=_0x86ec28[_0x86ec28[_0xffbc7c(0xa20)]-0x1];_0x2cb511=await(0x0,_0x33156d[_0xffbc7c(0x8b0)])((0x0,_0x33156d['query'])(_0x547c32,(0x0,_0x33156d[_0xffbc7c(0x3f0)])(0x65),(0x0,_0x33156d[_0xffbc7c(0xaa7)])(_0xf5ff09),(0x0,_0x33156d['orderByKey'])())),Object[_0xffbc7c(0x721)](_0x3d76d4,_0x2cb511[_0xffbc7c(0x6ae)]());}if(_0x31e248=Object[_0xffbc7c(0x36b)](_0x3d76d4)[_0xffbc7c(0x2ca)](_0x354acc=>_0xffbc7c(0x55c)!=typeof _0x354acc),0x0===_0x31e248[_0xffbc7c(0xa20)]&&void 0x0!==_0x2e2de7)throw new _0x4204a5(_0x4204a5[_0xffbc7c(0x7f9)][_0xffbc7c(0xa0f)]);if(_0x31e248[_0xffbc7c(0xa20)]>0x0&&void 0x0!==_0x2e2de7&&!_0x31e248[_0xffbc7c(0x5cf)](_0x1e7a38=>_0x1e7a38['id']===_0x2e2de7))throw new _0x4204a5(_0x4204a5['codes'][_0xffbc7c(0xa0f)]);const _0x4c0586=[];let _0x273500=_0x31e248[_0xffbc7c(0x5cf)](_0x41c21c=>_0x41c21c[_0xffbc7c(0x86c)]===_0x2e2de7);for(;_0x273500;)_0x4c0586[_0xffbc7c(0xa98)](_0x273500),_0x273500=_0x31e248[_0xffbc7c(0x5cf)](_0x37aa97=>_0x37aa97['parentId']===_0x273500['id']);return _0x4c0586;}}class _0x2612fe{[_0x128a0b(0x282)];[_0x128a0b(0x5e7)];[_0x128a0b(0x8cf)]=new Map();['remoteMediaStreams']=new Map();[_0x128a0b(0x6f2)]=new Map();[_0x128a0b(0x51e)]=new Map();[_0x128a0b(0x807)]=new Map();[_0x128a0b(0x95c)]=new Map();[_0x128a0b(0x97b)]=new Map();[_0x128a0b(0x96a)]=new Map();[_0x128a0b(0x410)]=new Map();['jobWorkers']=new Map();[_0x128a0b(0x828)];constructor(_0x11b68a,_0x399120){const _0x3a1b8b=_0x128a0b;this[_0x3a1b8b(0x282)]=_0x11b68a,this['options']=_0x399120,this[_0x3a1b8b(0x828)]=new _0x424e16(this[_0x3a1b8b(0x282)]['vendorId'],this[_0x3a1b8b(0x282)][_0x3a1b8b(0x2cd)]);}[_0x128a0b(0x42d)](_0x2ad325=!0x1){const _0x40b978=_0x128a0b;this[_0x40b978(0xad2)][_0x40b978(0x8b3)]((_0x37d20c,_0x55bd1c)=>{const _0x2179f6=_0x40b978;_0x37d20c[_0x2179f6(0x8b3)]((_0x4ae66b,_0x255ee9)=>{const _0x1b4053=_0x2179f6;this[_0x1b4053(0xa75)](_0x55bd1c,_0x255ee9);});}),_0x2ad325||(_0x4f6af[_0x40b978(0x9e4)](),this[_0x40b978(0x8cf)][_0x40b978(0x8b3)]((_0x375eed,_0x204ab1)=>{this['removeLocalMediaStream'](_0x204ab1);}),this[_0x40b978(0x6f2)][_0x40b978(0x8b3)]((_0xebe167,_0x715572)=>{const _0x8f23b0=_0x40b978;this[_0x8f23b0(0x465)](_0x715572);}),this[_0x40b978(0x51e)][_0x40b978(0x8b3)]((_0x5685a6,_0x394718)=>{const _0x720589=_0x40b978;this[_0x720589(0x685)](_0x394718);}),this[_0x40b978(0x807)][_0x40b978(0x8b3)]((_0x83c65a,_0x3ccd5f)=>{this['removeExternalStorageConnection'](_0x3ccd5f);}),this[_0x40b978(0x95c)][_0x40b978(0x8b3)]((_0x671365,_0x5b5cd4)=>{const _0x46e439=_0x40b978;this[_0x46e439(0x1b7)](_0x5b5cd4);}),this[_0x40b978(0x410)]['forEach']((_0x5ecefe,_0x49824f)=>{this['removeJobDispatcher'](_0x49824f);}),this[_0x40b978(0x413)]['forEach']((_0x5996d4,_0x512ef9)=>{const _0x277604=_0x40b978;this[_0x277604(0x99c)](_0x512ef9);}),this['vectorDatabases'][_0x40b978(0x8b3)]((_0x28d70b,_0x14a4e2)=>{const _0xa53018=_0x40b978;this[_0xa53018(0x366)](_0x14a4e2);}),this['graphDatabases']['forEach']((_0x27b4a6,_0x23ecdb)=>{const _0x2b00cb=_0x40b978;this[_0x2b00cb(0x774)](_0x23ecdb);}));}[_0x128a0b(0x63d)](_0x239993,_0x45e946,_0x391697){const _0x3f209f=_0x128a0b;if(this['objectStores']['has'](_0x239993))throw new _0x325cc6(_0x3336f9[_0x3f209f(0x7e9)],_0x3f209f(0x69b));const _0x39610d=new _0x73b54a(this['configs'][_0x3f209f(0x8cc)],_0x239993,this['configs']['clusterId'],this[_0x3f209f(0x282)][_0x3f209f(0x61b)],this[_0x3f209f(0x828)],_0x45e946,()=>this['configs'][_0x3f209f(0x271)][_0x3f209f(0x6a2)](),_0x391697);return this[_0x3f209f(0x51e)][_0x3f209f(0x663)](_0x239993,_0x39610d),this[_0x3f209f(0x282)][_0x3f209f(0x271)][_0x3f209f(0x3cc)](_0x39610d),_0x39610d;}['createExternalStorageConnection'](_0x307ea2,_0x5cd2fa){const _0x5b6b0b=_0x128a0b;if(this[_0x5b6b0b(0x51e)][_0x5b6b0b(0x301)](_0x307ea2))throw new _0x325cc6(_0x3336f9[_0x5b6b0b(0x81c)],'Connection\x20already\x20exists');const _0x3b37d7=new _0x2052d7(this['configs'][_0x5b6b0b(0x8cc)],_0x307ea2,this['configs'][_0x5b6b0b(0x2cd)],this[_0x5b6b0b(0x282)]['vendorId'],_0x5cd2fa);return this[_0x5b6b0b(0x807)][_0x5b6b0b(0x663)](_0x307ea2,_0x3b37d7),this[_0x5b6b0b(0x282)][_0x5b6b0b(0x271)][_0x5b6b0b(0x3cc)](_0x3b37d7),_0x3b37d7;}async['createKeyValueDatabase'](_0x5e7c62,_0x3ae164,_0x527a19){const _0x7e9a09=_0x128a0b;if(this[_0x7e9a09(0x95c)]['has'](_0x5e7c62))throw new _0x325cc6(_0x3336f9[_0x7e9a09(0x25c)],_0x7e9a09(0x212));try{const _0x5bc222=this['configs'][_0x7e9a09(0x271)][_0x7e9a09(0xb06)][_0x7e9a09(0xa47)](this[_0x7e9a09(0x282)][_0x7e9a09(0x271)]),_0x2a0680=new _0xc51eec(this[_0x7e9a09(0x282)]['localNode'],_0x5e7c62,this[_0x7e9a09(0x282)][_0x7e9a09(0x2cd)],this[_0x7e9a09(0x282)][_0x7e9a09(0x61b)],_0x3ae164,_0x527a19,_0x5bc222);return this[_0x7e9a09(0x95c)][_0x7e9a09(0x663)](_0x5e7c62,_0x2a0680),this['configs']['mediator'][_0x7e9a09(0x3cc)](_0x2a0680),_0x2a0680;}catch(_0x208fb8){if(_0x208fb8 instanceof _0x325cc6)throw _0x208fb8;throw new _0x4204a5(_0x4204a5['codes'][_0x7e9a09(0x1d1)],{'label':_0x5e7c62,'clusterId':this[_0x7e9a09(0x282)][_0x7e9a09(0x2cd)],'vendorId':this[_0x7e9a09(0x282)]['vendorId']});}}async[_0x128a0b(0x868)](_0x413726,_0x2875cf){const _0x4ca24c=_0x128a0b;if(this[_0x4ca24c(0x410)]['has'](_0x413726))throw new _0x325cc6(_0x3336f9['JobDispatcherAlreadyExists'],'Job\x20Dispatcher\x20already\x20exists');try{const _0x419618=new _0x1d2b12(this[_0x4ca24c(0x282)]['localNode'],_0x413726,_0x2875cf);return this[_0x4ca24c(0x410)][_0x4ca24c(0x663)](_0x413726,_0x419618),this['configs'][_0x4ca24c(0x271)]['registerSystemSource'](_0x419618),_0x419618;}catch(_0x430b16){if(_0x430b16 instanceof _0x325cc6)throw _0x430b16;throw new _0x4204a5(_0x4204a5[_0x4ca24c(0x7f9)][_0x4ca24c(0x8cd)],{'label':_0x413726,'clusterId':this['configs'][_0x4ca24c(0x2cd)],'vendorId':this['configs'][_0x4ca24c(0x61b)]});}}async['createGenerativeAIContext'](_0x987dc9,_0x538ee0){const _0x3fb51c=_0x128a0b;if(this['jobDispatchers'][_0x3fb51c(0x301)](_0x987dc9))throw new _0x325cc6(_0x3336f9[_0x3fb51c(0x9b1)],_0x3fb51c(0x334));if(this[_0x3fb51c(0x413)][_0x3fb51c(0x301)](_0x987dc9))throw new _0x325cc6(_0x3336f9[_0x3fb51c(0x4fb)],_0x3fb51c(0x5eb));try{const _0x476933=new _0xae9eaa(this['configs'][_0x3fb51c(0x8cc)],_0x987dc9,this[_0x3fb51c(0x282)][_0x3fb51c(0x61b)],_0x538ee0);return this[_0x3fb51c(0x410)][_0x3fb51c(0x663)](_0x987dc9,_0x476933),this[_0x3fb51c(0x282)][_0x3fb51c(0x271)][_0x3fb51c(0x3cc)](_0x476933),_0x476933;}catch(_0x5e6e6e){if(_0x5e6e6e instanceof _0x325cc6)throw _0x5e6e6e;throw new _0x4204a5(_0x4204a5[_0x3fb51c(0x7f9)]['GenerativeAIContextCreationFailed'],{'label':_0x987dc9,'clusterId':this[_0x3fb51c(0x282)][_0x3fb51c(0x2cd)],'vendorId':this[_0x3fb51c(0x282)][_0x3fb51c(0x61b)]});}}async[_0x128a0b(0x272)](_0x144a4c,_0x36a217,_0x5ce2f7,_0x3a8fc8,_0x43b665,_0x48cf6e,_0x590158,_0x5d4ef8,_0x7d4535,_0x3ddec0){const _0x5d7683=_0x128a0b;if(this['jobWorkers'][_0x5d7683(0x301)](_0x144a4c))throw new _0x325cc6(_0x3336f9['GenerativeAIWorkerAlreadyExists'],_0x5d7683(0x235));if(this[_0x5d7683(0x410)][_0x5d7683(0x301)](_0x144a4c))throw new _0x325cc6(_0x3336f9[_0x5d7683(0x4fb)],'Label\x20already\x20in\x20use\x20by\x20AI\x20Service');try{const _0x271bdd=new _0x7bf8d3(this[_0x5d7683(0x282)][_0x5d7683(0x8cc)],_0x144a4c,_0x36a217,this,_0x5ce2f7,_0x3a8fc8,_0x43b665,_0x48cf6e,_0x590158,_0x5d4ef8,_0x7d4535,_0x3ddec0);return this[_0x5d7683(0x413)]['set'](_0x144a4c,_0x271bdd),this[_0x5d7683(0x282)][_0x5d7683(0x271)]['registerSystemSource'](_0x271bdd),_0x271bdd;}catch(_0xc81650){if(_0xc81650 instanceof _0x325cc6)throw _0xc81650;throw new _0x4204a5(_0x4204a5['codes'][_0x5d7683(0x8fb)],{'label':_0x144a4c,'clusterId':this[_0x5d7683(0x282)][_0x5d7683(0x2cd)],'vendorId':this[_0x5d7683(0x282)][_0x5d7683(0x61b)]});}}[_0x128a0b(0x4f0)](_0x5ada20,_0xb4d39e){const _0x4643eb=_0x128a0b;if(this[_0x4643eb(0x96a)][_0x4643eb(0x301)](_0x5ada20))throw new _0x325cc6(_0x3336f9[_0x4643eb(0x9d6)],'Database\x20already\x20exists');try{const _0x2ce168=new _0x130a7b(this[_0x4643eb(0x282)][_0x4643eb(0x8cc)],_0x5ada20,this[_0x4643eb(0x282)][_0x4643eb(0x2cd)],this[_0x4643eb(0x282)][_0x4643eb(0x61b)],_0xb4d39e);return this[_0x4643eb(0x96a)][_0x4643eb(0x663)](_0x5ada20,_0x2ce168),this['configs']['mediator'][_0x4643eb(0x3cc)](_0x2ce168),_0x2ce168;}catch(_0x71235e){if(_0x71235e instanceof _0x325cc6)throw _0x71235e;throw new _0x4204a5(_0x4204a5[_0x4643eb(0x7f9)]['GraphDatabaseCreationFailed'],{'label':_0x5ada20,'clusterId':this['configs']['clusterId'],'vendorId':this[_0x4643eb(0x282)][_0x4643eb(0x61b)]});}}['createLocalDynamicMediaStream'](_0x516ffe,_0x356d40){const _0x4f9114=_0x128a0b;if(this[_0x4f9114(0x8cf)][_0x4f9114(0x301)](_0x516ffe))throw new _0x325cc6(_0x3336f9[_0x4f9114(0x19c)],'Local\x20MediaStream\x20already\x20exists');if(!this[_0x4f9114(0x5e7)]['audioContext'])throw new _0x325cc6(_0x3336f9[_0x4f9114(0x9d4)],_0x4f9114(0x84c));const _0x53445b=new _0x38619b(this[_0x4f9114(0x282)][_0x4f9114(0x8cc)],_0x516ffe,_0x356d40,this[_0x4f9114(0x5e7)]['maxFps'],this['options'][_0x4f9114(0x998)],this[_0x4f9114(0x282)][_0x4f9114(0x2cd)]);return this[_0x4f9114(0x8cf)][_0x4f9114(0x663)](_0x516ffe,_0x53445b),this['configs'][_0x4f9114(0x271)]['registerSystemSource'](_0x53445b),_0x53445b['publish'](),_0x53445b;}[_0x128a0b(0xb04)](_0x4c9efa,_0x1d719f){const _0x114a6b=_0x128a0b;if(this[_0x114a6b(0x8cf)]['has'](_0x4c9efa))throw new _0x325cc6(_0x3336f9[_0x114a6b(0x19c)],_0x114a6b(0x3d8));const _0xfd078a=new _0x43cf60(this[_0x114a6b(0x282)][_0x114a6b(0x8cc)],_0x4c9efa,_0x1d719f,this['configs'][_0x114a6b(0x2cd)]);return this[_0x114a6b(0x8cf)][_0x114a6b(0x663)](_0x4c9efa,_0xfd078a),this[_0x114a6b(0x282)][_0x114a6b(0x271)]['registerSystemSource'](_0xfd078a),_0xfd078a[_0x114a6b(0x56d)](),_0xfd078a;}['createPubSubTopic'](_0x18d0ce){const _0x27a84=_0x128a0b;if(this[_0x27a84(0x6f2)][_0x27a84(0x301)](_0x18d0ce))throw new _0x325cc6(_0x3336f9[_0x27a84(0x33f)],'PubSub\x20already\x20exists');const _0x38838a=new _0x237cf2(this[_0x27a84(0x282)][_0x27a84(0x8cc)],_0x18d0ce,this['configs']['clusterId']);return this[_0x27a84(0x6f2)]['set'](_0x18d0ce,_0x38838a),this['configs'][_0x27a84(0x271)][_0x27a84(0x3cc)](_0x38838a),_0x38838a;}[_0x128a0b(0xac7)](_0x59b023,_0x5552da,_0x37f849,_0x156ccd){const _0x13e532=_0x128a0b;this[_0x13e532(0xad2)][_0x13e532(0x301)](_0x59b023)||this[_0x13e532(0xad2)][_0x13e532(0x663)](_0x59b023,new Map());const _0x19cf4b=this[_0x13e532(0xad2)][_0x13e532(0x8b0)](_0x59b023);if(_0x19cf4b['has'](_0x5552da))throw new _0x325cc6(_0x3336f9[_0x13e532(0x92d)],_0x13e532(0x381));const _0x3eb0cb=new _0x31824e(_0x59b023,'',''),_0x129de7=new _0x367cb3(this[_0x13e532(0x282)]['localNode'],_0x3eb0cb,_0x5552da,_0x37f849,_0x156ccd,this[_0x13e532(0x282)]['clusterId']);return _0x19cf4b[_0x13e532(0x663)](_0x5552da,_0x129de7),this[_0x13e532(0x282)]['mediator'][_0x13e532(0x3cc)](_0x129de7),_0x129de7;}[_0x128a0b(0x98f)](_0x424753,_0xf0cca8){const _0x101944=_0x128a0b;if(this[_0x101944(0x97b)][_0x101944(0x301)](_0x424753))throw new _0x325cc6(_0x3336f9[_0x101944(0x3a4)],'Database\x20already\x20exists');try{const _0xb2cf9a=new _0x14cab0(this[_0x101944(0x282)]['localNode'],_0x424753,this[_0x101944(0x282)][_0x101944(0x2cd)],this[_0x101944(0x282)][_0x101944(0x61b)],_0xf0cca8);return this['vectorDatabases'][_0x101944(0x663)](_0x424753,_0xb2cf9a),this[_0x101944(0x282)]['mediator'][_0x101944(0x3cc)](_0xb2cf9a),_0xb2cf9a;}catch(_0x3fb061){if(_0x3fb061 instanceof _0x325cc6)throw _0x3fb061;throw new _0x4204a5(_0x4204a5[_0x101944(0x7f9)][_0x101944(0x866)],{'label':_0x424753,'clusterId':this[_0x101944(0x282)][_0x101944(0x2cd)],'vendorId':this['configs'][_0x101944(0x61b)]});}}['getObjectStoreBuckets'](_0x4c309b){const _0x473cf1=_0x128a0b,_0x10417d=Array[_0x473cf1(0x1ec)](this[_0x473cf1(0x51e)]['values']());return _0x4c309b?_0x10417d[_0x473cf1(0x2ca)](_0x4c309b):_0x10417d;}[_0x128a0b(0x865)](_0x27dfb7){const _0x1a6599=_0x128a0b,_0x3acab9=Array[_0x1a6599(0x1ec)](this[_0x1a6599(0x807)][_0x1a6599(0x36b)]());return _0x27dfb7?_0x3acab9[_0x1a6599(0x2ca)](_0x27dfb7):_0x3acab9;}[_0x128a0b(0x490)](_0x2a8bc3){const _0x58dca0=_0x128a0b,_0x1b5905=Array['from'](this[_0x58dca0(0x95c)][_0x58dca0(0x36b)]());return _0x2a8bc3?_0x1b5905['filter'](_0x2a8bc3):_0x1b5905;}[_0x128a0b(0x966)](_0x514014){const _0x14c415=_0x128a0b,_0x5c3363=Array[_0x14c415(0x1ec)](this[_0x14c415(0x410)]['values']());return _0x514014?_0x5c3363[_0x14c415(0x2ca)](_0x514014):_0x5c3363;}[_0x128a0b(0x279)](_0x5cdbd9){const _0x3430f5=_0x128a0b,_0x5d0675=Array[_0x3430f5(0x1ec)](this[_0x3430f5(0x413)][_0x3430f5(0x36b)]());return _0x5cdbd9?_0x5d0675[_0x3430f5(0x2ca)](_0x5cdbd9):_0x5d0675;}[_0x128a0b(0xaa1)](_0x586a07){const _0x50bb5a=_0x128a0b,_0xbbb78b=Array[_0x50bb5a(0x1ec)](this['jobDispatchers'][_0x50bb5a(0x36b)]())[_0x50bb5a(0x2ca)](_0x350e9a=>_0x350e9a instanceof _0xae9eaa);return _0x586a07?_0xbbb78b[_0x50bb5a(0x2ca)](_0x586a07):_0xbbb78b;}[_0x128a0b(0x698)](_0x5c60a3){const _0x8a128f=_0x128a0b,_0x5ac4d2=Array[_0x8a128f(0x1ec)](this[_0x8a128f(0x413)][_0x8a128f(0x36b)]())['filter'](_0x4a94ae=>_0x4a94ae instanceof _0x7bf8d3);return _0x5c60a3?_0x5ac4d2[_0x8a128f(0x2ca)](_0x5c60a3):_0x5ac4d2;}['getGraphDatabases'](_0x1c3597){const _0x89703b=_0x128a0b,_0x10685a=Array[_0x89703b(0x1ec)](this['graphDatabases']['values']());return _0x1c3597?_0x10685a['filter'](_0x1c3597):_0x10685a;}['getLocalMediaStreams'](_0x169c0f){const _0x21eb2b=_0x128a0b,_0x4a04cd=Array[_0x21eb2b(0x1ec)](this['localMediaStreams'][_0x21eb2b(0x36b)]());return _0x169c0f?_0x4a04cd['filter'](_0x169c0f):_0x4a04cd;}[_0x128a0b(0x58e)](_0x3c9ab1){const _0x57913a=_0x128a0b,_0x48520a=Array[_0x57913a(0x1ec)](this[_0x57913a(0x6f2)][_0x57913a(0x36b)]());return _0x3c9ab1?_0x48520a['filter'](_0x3c9ab1):_0x48520a;}[_0x128a0b(0x620)](_0x4bca72){const _0x2f272b=_0x128a0b,_0x530876=Array['from'](this[_0x2f272b(0xad2)][_0x2f272b(0x36b)]())[_0x2f272b(0x959)]((_0x3d2493,_0x226f24)=>[..._0x3d2493,...Array[_0x2f272b(0x1ec)](_0x226f24['values']())],[]);return _0x4bca72?_0x530876[_0x2f272b(0x2ca)](_0x4bca72):_0x530876;}[_0x128a0b(0x653)](_0x5a1f6e){const _0x4b664b=_0x128a0b,_0x19a898=Array['from'](this['vectorDatabases']['values']());return _0x5a1f6e?_0x19a898[_0x4b664b(0x2ca)](_0x5a1f6e):_0x19a898;}['getObjectStoreBucket'](_0xbc2588){const _0x897827=_0x128a0b,_0x5053f4=this[_0x897827(0x51e)]['get'](_0xbc2588);if(!_0x5053f4)throw new _0x325cc6(_0x3336f9[_0x897827(0xae3)],_0x897827(0x1a9));return _0x5053f4;}[_0x128a0b(0x969)](_0x387728){const _0xf95383=_0x128a0b,_0x1016c5=_0x387728['split']('-'),_0x2ac630=this[_0xf95383(0x807)][_0xf95383(0x8b0)](_0x1016c5[0x1]);if(!_0x2ac630)throw new _0x325cc6(_0x3336f9[_0xf95383(0x8c6)],'ExternalStorageConnection\x20not\x20found');return _0x2ac630;}[_0x128a0b(0x3c8)](_0x128175){const _0x18e3c7=_0x128a0b,_0xa1132a=this[_0x18e3c7(0x96a)]['get'](_0x128175);if(!_0xa1132a)throw new _0x325cc6(_0x3336f9[_0x18e3c7(0x475)],'GraphDatabase\x20not\x20found');return _0xa1132a;}['getKeyValueDatabase'](_0x18d572){const _0xc84b7b=_0x128a0b,_0x3c2cca=this[_0xc84b7b(0x95c)][_0xc84b7b(0x8b0)](_0x18d572);if(!_0x3c2cca)throw new _0x325cc6(_0x3336f9[_0xc84b7b(0x260)],'KeyValueDatabase\x20not\x20found');return _0x3c2cca;}[_0x128a0b(0x6bb)](_0x195a36){const _0x30e3f1=_0x128a0b,_0x576359=this[_0x30e3f1(0x6f2)]['get'](_0x195a36);if(!_0x576359)throw new _0x325cc6(_0x3336f9[_0x30e3f1(0x363)],'PubSubTopic\x20not\x20found');return _0x576359;}[_0x128a0b(0x378)](_0x5b3ca5){const _0x3696d2=_0x128a0b,_0x1e36ad=this['vectorDatabases']['get'](_0x5b3ca5);if(!_0x1e36ad)throw new _0x325cc6(_0x3336f9[_0x3696d2(0x69e)],'VectorDatabase\x20not\x20found');return _0x1e36ad;}['handleContentSystemEvents'](_0x4d8316){const _0x3a501e=_0x128a0b;switch(_0x4d8316[_0x3a501e(0x95d)][_0x3a501e(0x7dd)]){case _0x267eb0[_0x3a501e(0xa45)]:this[_0x3a501e(0x692)](_0x4d8316[_0x3a501e(0x95d)]);break;case _0x267eb0[_0x3a501e(0x95e)]:this[_0x3a501e(0x9ef)](_0x4d8316[_0x3a501e(0x95d)]);break;case _0x267eb0[_0x3a501e(0x656)]:this[_0x3a501e(0x30a)](_0x4d8316[_0x3a501e(0x95d)][_0x3a501e(0x9ce)]);break;case _0x267eb0['CloseJobWorker']:this[_0x3a501e(0x99c)](_0x4d8316['content'][_0x3a501e(0x9ce)]);break;case _0x267eb0['CloseMediaStream']:this[_0x3a501e(0x61f)](_0x4d8316['content'][_0x3a501e(0x9ce)]);break;case _0x267eb0['ClosePubSubTopic']:this[_0x3a501e(0x465)](_0x4d8316[_0x3a501e(0x95d)][_0x3a501e(0x9ce)]);break;case _0x267eb0['CloseObjectStoreBucket']:this[_0x3a501e(0x685)](_0x4d8316[_0x3a501e(0x95d)][_0x3a501e(0x9ce)]);break;case _0x267eb0[_0x3a501e(0x1c9)]:this[_0x3a501e(0x3a5)](_0x4d8316[_0x3a501e(0x95d)][_0x3a501e(0x9ce)]);break;case _0x267eb0[_0x3a501e(0x218)]:this[_0x3a501e(0x1b7)](_0x4d8316[_0x3a501e(0x95d)]['label']);break;case _0x267eb0['CloseVectorDatabase']:this[_0x3a501e(0x366)](_0x4d8316[_0x3a501e(0x95d)][_0x3a501e(0x9ce)]);break;case _0x267eb0[_0x3a501e(0x694)]:this[_0x3a501e(0x774)](_0x4d8316[_0x3a501e(0x95d)][_0x3a501e(0x9ce)]);break;case _0x267eb0[_0x3a501e(0x59c)]:this['handleContentUnsubscribeMediaStream'](_0x4d8316[_0x3a501e(0x95d)]);break;case _0x267eb0[_0x3a501e(0x400)]:this[_0x3a501e(0x95c)][_0x3a501e(0x8b0)](_0x4d8316['content']['label'])?.[_0x3a501e(0xaed)](_0x4d8316[_0x3a501e(0x898)],_0x4d8316['content'][_0x3a501e(0x29a)]);break;case _0x267eb0[_0x3a501e(0x882)]:this['keyValueDatabases'][_0x3a501e(0x8b0)](_0x4d8316['content'][_0x3a501e(0x9ce)])?.[_0x3a501e(0xa6f)](_0x4d8316[_0x3a501e(0x898)],_0x4d8316['content'][_0x3a501e(0x29a)]);break;case _0x267eb0[_0x3a501e(0x49f)]:this[_0x3a501e(0x95c)][_0x3a501e(0x8b0)](_0x4d8316['content'][_0x3a501e(0x9ce)])?.[_0x3a501e(0x9c6)](_0x4d8316[_0x3a501e(0x898)],_0x4d8316[_0x3a501e(0x95d)]['peaks']);break;case _0x267eb0[_0x3a501e(0x4da)]:this[_0x3a501e(0x95c)][_0x3a501e(0x8b0)](_0x4d8316['content'][_0x3a501e(0x9ce)])?.['sendPeakTransactions'](_0x4d8316[_0x3a501e(0x898)],_0x4d8316['content'][_0x3a501e(0x41a)]);break;case _0x267eb0[_0x3a501e(0x464)]:this[_0x3a501e(0x95c)][_0x3a501e(0x8b0)](_0x4d8316['content'][_0x3a501e(0x9ce)])?.['sendTransactionsValue'](_0x4d8316['sourceId'],_0x4d8316['content']['transactionIds']);break;case _0x267eb0['KeyValueDatabaseSendTransactions']:this[_0x3a501e(0x95c)][_0x3a501e(0x8b0)](_0x4d8316[_0x3a501e(0x95d)][_0x3a501e(0x9ce)])?.[_0x3a501e(0x5b6)](_0x4d8316['sourceId'],_0x4d8316[_0x3a501e(0x95d)][_0x3a501e(0x67f)]);break;case _0x267eb0[_0x3a501e(0xa3d)]:this[_0x3a501e(0x282)][_0x3a501e(0x271)][_0x3a501e(0x27f)](_0x3a501e(0x627),{'label':_0x4d8316[_0x3a501e(0x95d)][_0x3a501e(0x9ce)],'trackKinds':_0x4d8316[_0x3a501e(0x95d)][_0x3a501e(0x420)]});}}['handleNodeSystemEvents']({content:_0x2a29b5}){const _0x2281e8=_0x128a0b;switch(_0x2a29b5[_0x2281e8(0x7dd)]){case _0x11eb85[_0x2281e8(0x750)]:this['handleNodeJoinNeedPublishedStream'](_0x2a29b5),this[_0x2281e8(0x566)](_0x2a29b5);break;case _0x11eb85[_0x2281e8(0x75e)]:this[_0x2281e8(0x89f)](_0x2a29b5),this[_0x2281e8(0x22d)](_0x2a29b5);}}['handleSubscriptionSystemEvents'](_0x1e41f0){const _0x157cbb=_0x128a0b;switch(_0x1e41f0[_0x157cbb(0x95d)][_0x157cbb(0x7dd)]){case _0x1bde37[_0x157cbb(0x89a)]:this['handleSubscribeMediaStream'](_0x1e41f0[_0x157cbb(0x898)],_0x1e41f0['content']);break;case _0x1bde37[_0x157cbb(0x239)]:this[_0x157cbb(0x5f4)](_0x1e41f0['sourceId'],_0x1e41f0[_0x157cbb(0x95d)]);break;case _0x1bde37[_0x157cbb(0x59c)]:this['handleUnsubscribeMediaStream'](_0x1e41f0[_0x157cbb(0x898)],_0x1e41f0['content']);}}[_0x128a0b(0x83f)](_0x19f79e){const _0x3739b9=_0x128a0b;if(0x0===_0x19f79e[_0x3739b9(0x814)])this[_0x3739b9(0xad2)]['get'](_0x19f79e[_0x3739b9(0x250)])?.[_0x3739b9(0x8b0)](_0x19f79e[_0x3739b9(0x9ce)])?.[_0x3739b9(0x61e)]();else{const _0x439dd8=this[_0x3739b9(0xad2)][_0x3739b9(0x8b0)](_0x19f79e[_0x3739b9(0x250)])?.[_0x3739b9(0x8b0)](_0x19f79e[_0x3739b9(0x9ce)]);if(!_0x439dd8)return;_0x19f79e[_0x3739b9(0x420)][_0x3739b9(0x8b3)](_0x4fe6ed=>_0x439dd8[_0x3739b9(0x2d1)](_0x4fe6ed));}}[_0x128a0b(0x692)](_0x276b22){const _0x5a8ad8=_0x128a0b,{label:_0x4475e1,ownerId:_0x287dab,stream:{streamId:_0x34b7cc,availableTrackKinds:_0x12049d}}=_0x276b22;if(this[_0x5a8ad8(0xad2)]['get'](_0x287dab)?.[_0x5a8ad8(0x301)](_0x4475e1))return void _0x265260[_0x5a8ad8(0x552)](_0x1367fe['Content'],_0x5a8ad8(0x3d8),_0x34b7cc);const _0x5c20a7=this[_0x5a8ad8(0xac7)](_0x287dab,_0x4475e1,_0x34b7cc,_0x12049d);this['configs'][_0x5a8ad8(0x271)][_0x5a8ad8(0x27f)]('content-publish-media',{'ownerId':_0x287dab,'stream':_0x5c20a7});}[_0x128a0b(0x9ef)]({ownerId:_0x148dee,label:_0x36052b}){const _0x5efc40=_0x128a0b;this['removeRemoteMediaStream'](_0x148dee,_0x36052b),this['configs'][_0x5efc40(0x271)]['notifyCluster'](_0x5efc40(0x95f),{'ownerId':_0x148dee,'label':_0x36052b});}['handleSubscribeMediaStream'](_0x34a575,_0x123759){const _0x2c21ec=_0x128a0b,{ownerId:_0x5e22e4,label:_0x3ca4e6}=_0x123759;let _0x3fbf46;_0x3fbf46=_0x5e22e4!==this['configs'][_0x2c21ec(0x8cc)]['getId']()?this['remoteMediaStreams'][_0x2c21ec(0x8b0)](_0x5e22e4)[_0x2c21ec(0x8b0)](_0x3ca4e6):this[_0x2c21ec(0x8cf)][_0x2c21ec(0x8b0)](_0x3ca4e6),_0x3fbf46[_0x2c21ec(0x62c)](_0x34a575,_0x123759[_0x2c21ec(0x5fd)])[_0x2c21ec(0x3b4)](_0x123759,_0x3fbf46['getPriority']());}[_0x128a0b(0x5f4)](_0x13f298,_0xc7baec){const _0x280b29=_0x128a0b,{ownerId:_0x50afa2,label:_0x142259}=_0xc7baec;let _0x18f66e;_0x18f66e=_0x50afa2!==this[_0x280b29(0x282)][_0x280b29(0x8cc)][_0x280b29(0x993)]()?this[_0x280b29(0xad2)]['get'](_0x50afa2)[_0x280b29(0x8b0)](_0x142259):this[_0x280b29(0x8cf)][_0x280b29(0x8b0)](_0x142259),_0x18f66e[_0x280b29(0x62c)](_0x13f298,_0xc7baec[_0x280b29(0x5fd)])[_0x280b29(0x603)](_0xc7baec);}['handleUnsubscribeMediaStream'](_0x465c86,_0x555a7e){const _0x319062=_0x128a0b,{ownerId:_0x55dd5b,label:_0x1d4c5d}=_0x555a7e;let _0xca15af;_0xca15af=_0x55dd5b!==this[_0x319062(0x282)][_0x319062(0x8cc)][_0x319062(0x993)]()?this['remoteMediaStreams'][_0x319062(0x8b0)](_0x55dd5b)['get'](_0x1d4c5d):this['localMediaStreams'][_0x319062(0x8b0)](_0x1d4c5d),_0xca15af[_0x319062(0x62c)](_0x465c86)[_0x319062(0x3b0)](_0x555a7e);}[_0x128a0b(0x29c)]({id:_0x185bf4}){const _0x3336ff=_0x128a0b;this['getLocalMediaStreams']()[_0x3336ff(0x8b3)](_0x3c8b9a=>{const _0xe7b3f7=_0x3336ff;_0x3c8b9a[_0xe7b3f7(0x56d)](_0x185bf4);});}[_0x128a0b(0x89f)]({id:_0x50b820}){const _0xc7f402=_0x128a0b;this['getRemoteMediaStreams'](_0x1bc20d=>_0x1bc20d[_0xc7f402(0x5e3)]()===_0x50b820)[_0xc7f402(0x8b3)](_0x585b9d=>{const _0x36dd72=_0xc7f402;this[_0x36dd72(0xa75)](_0x585b9d[_0x36dd72(0x5e3)](),_0x585b9d['getLabel']());});}[_0x128a0b(0x566)]({id:_0x5d8824}){const _0x503f41=_0x128a0b;this[_0x503f41(0x51e)][_0x503f41(0x8b3)](_0x482c8a=>_0x482c8a[_0x503f41(0x8c2)](_0x5d8824));}['notifyObjectStoreOfNodeLeave']({id:_0x17dac3}){const _0x498cfd=_0x128a0b;this[_0x498cfd(0x51e)]['forEach'](_0x55d40a=>_0x55d40a[_0x498cfd(0x89f)](_0x17dac3));}['removeJobDispatcher'](_0x341fba){const _0x5a5427=_0x128a0b;if(!this[_0x5a5427(0x410)][_0x5a5427(0x301)](_0x341fba))throw new _0x325cc6(_0x3336f9[_0x5a5427(0xa22)],_0x5a5427(0x7bc));const _0x2a05a9=this[_0x5a5427(0x410)][_0x5a5427(0x8b0)](_0x341fba);this['jobDispatchers']['delete'](_0x341fba),_0x2a05a9[_0x5a5427(0x61e)](),this[_0x5a5427(0x282)]['mediator'][_0x5a5427(0xa2a)](_0x2a05a9);}['removeJobWorker'](_0x5d55d4){const _0xd42340=_0x128a0b;if(!this[_0xd42340(0x413)][_0xd42340(0x301)](_0x5d55d4))throw new _0x325cc6(_0x3336f9['JobWorkerDoesNotExist'],'Job\x20Worker\x20does\x20not\x20exist');const _0x36ef92=this[_0xd42340(0x413)][_0xd42340(0x8b0)](_0x5d55d4);this['jobWorkers'][_0xd42340(0x560)](_0x5d55d4),_0x36ef92['destroy'](),this[_0xd42340(0x282)][_0xd42340(0x271)][_0xd42340(0xa2a)](_0x36ef92);}[_0x128a0b(0x685)](_0x35fb5e){const _0x5ca7f7=_0x128a0b;if(!this['objectStores'][_0x5ca7f7(0x301)](_0x35fb5e))throw new _0x325cc6(_0x3336f9[_0x5ca7f7(0xae3)],_0x5ca7f7(0x96c));const _0x31d2e9=this[_0x5ca7f7(0x51e)]['get'](_0x35fb5e);this[_0x5ca7f7(0x51e)][_0x5ca7f7(0x560)](_0x35fb5e),_0x31d2e9[_0x5ca7f7(0x61e)](),this[_0x5ca7f7(0x282)][_0x5ca7f7(0x271)]['unregisterSystemSource'](_0x31d2e9);}[_0x128a0b(0x3a5)](_0x55b3b8){const _0x1125e5=_0x128a0b;if(!this[_0x1125e5(0x807)][_0x1125e5(0x301)](_0x55b3b8))throw new _0x325cc6(_0x3336f9[_0x1125e5(0x8c6)],'Connection\x20does\x20not\x20exist');const _0x1dadd4=this[_0x1125e5(0x807)][_0x1125e5(0x8b0)](_0x55b3b8);this['externalStorageConnections']['delete'](_0x55b3b8),_0x1dadd4['destroy'](),this[_0x1125e5(0x282)][_0x1125e5(0x271)][_0x1125e5(0xa2a)](_0x1dadd4);}[_0x128a0b(0x465)](_0x3b73cf){const _0x7bc917=_0x128a0b;if(!this['pubSubTopics']['has'](_0x3b73cf))throw new _0x325cc6(_0x3336f9[_0x7bc917(0x363)],_0x7bc917(0x96c));const _0x21b03d=this[_0x7bc917(0x6f2)][_0x7bc917(0x8b0)](_0x3b73cf);this['pubSubTopics'][_0x7bc917(0x560)](_0x3b73cf),_0x21b03d[_0x7bc917(0x61e)](),this[_0x7bc917(0x282)][_0x7bc917(0x271)][_0x7bc917(0xa2a)](_0x21b03d);}['removeKeyValueDatabase'](_0x5870db){const _0x262c73=_0x128a0b;if(!this[_0x262c73(0x95c)][_0x262c73(0x301)](_0x5870db))throw new _0x325cc6(_0x3336f9[_0x262c73(0x260)],_0x262c73(0xa23));const _0x48f584=this[_0x262c73(0x95c)][_0x262c73(0x8b0)](_0x5870db);this[_0x262c73(0x95c)][_0x262c73(0x560)](_0x5870db),_0x48f584[_0x262c73(0x61e)](),this['configs'][_0x262c73(0x271)]['unregisterSystemSource'](_0x48f584);}['removeVectorDatabase'](_0x937169){const _0x5cd948=_0x128a0b;if(!this[_0x5cd948(0x97b)][_0x5cd948(0x301)](_0x937169))throw new _0x325cc6(_0x3336f9['VectorDatabaseDoesNotExist'],_0x5cd948(0xa23));const _0x2bc326=this['vectorDatabases'][_0x5cd948(0x8b0)](_0x937169);this[_0x5cd948(0x97b)]['delete'](_0x937169),_0x2bc326[_0x5cd948(0x61e)](),this['configs'][_0x5cd948(0x271)][_0x5cd948(0xa2a)](_0x2bc326);}[_0x128a0b(0x774)](_0x550752){const _0x5c1c87=_0x128a0b;if(!this[_0x5c1c87(0x96a)][_0x5c1c87(0x301)](_0x550752))throw new _0x325cc6(_0x3336f9[_0x5c1c87(0x475)],_0x5c1c87(0xa23));const _0x11dd24=this[_0x5c1c87(0x96a)][_0x5c1c87(0x8b0)](_0x550752);this['graphDatabases']['delete'](_0x550752),_0x11dd24[_0x5c1c87(0x61e)](),this[_0x5c1c87(0x282)][_0x5c1c87(0x271)]['unregisterSystemSource'](_0x11dd24);}[_0x128a0b(0x61f)](_0x4a07c9){const _0x19d063=_0x128a0b;if(!this[_0x19d063(0x8cf)]['has'](_0x4a07c9))throw new _0x4204a5(_0x4204a5[_0x19d063(0x7f9)][_0x19d063(0x7ca)],{'label':_0x4a07c9,'localId':this['configs'][_0x19d063(0x8cc)][_0x19d063(0x993)]()});const _0x35718b=this[_0x19d063(0x8cf)][_0x19d063(0x8b0)](_0x4a07c9);this[_0x19d063(0x282)][_0x19d063(0x271)][_0x19d063(0xa2a)](_0x35718b),_0x35718b['destroy'](),this[_0x19d063(0x8cf)][_0x19d063(0x560)](_0x4a07c9);}[_0x128a0b(0xa75)](_0x2e2b6e,_0x2a74af){const _0x43ddcb=_0x128a0b;if(!this[_0x43ddcb(0xad2)][_0x43ddcb(0x301)](_0x2e2b6e))throw new _0x4204a5(_0x4204a5[_0x43ddcb(0x7f9)][_0x43ddcb(0xa21)],{'nodeId':_0x2e2b6e,'localId':this['configs']['localNode'][_0x43ddcb(0x993)]()});const _0x5cdbe8=this[_0x43ddcb(0xad2)][_0x43ddcb(0x8b0)](_0x2e2b6e);if(!_0x5cdbe8[_0x43ddcb(0x301)](_0x2a74af))throw new _0x4204a5(_0x4204a5['codes'][_0x43ddcb(0x48e)],{'nodeId':_0x2e2b6e,'label':_0x2a74af,'localId':this['configs']['localNode'][_0x43ddcb(0x993)]()});const _0x5cf4c7=_0x5cdbe8[_0x43ddcb(0x8b0)](_0x2a74af);this['configs'][_0x43ddcb(0x271)][_0x43ddcb(0xa2a)](_0x5cf4c7),_0x5cf4c7[_0x43ddcb(0x61e)](),_0x5cdbe8['delete'](_0x2a74af);}}var _0x5b3015,_0x3b3594,_0x19151c;!function(_0x53c22a){const _0x284dc3=_0x128a0b;_0x53c22a['STVolatility']=_0x284dc3(0x7c1),_0x53c22a[_0x284dc3(0x4e3)]=_0x284dc3(0x2bc),_0x53c22a[_0x284dc3(0xa83)]='time_per_frame',_0x53c22a[_0x284dc3(0xaa3)]='bitrate',_0x53c22a[_0x284dc3(0x80c)]=_0x284dc3(0x376),_0x53c22a['FramePerSecond']=_0x284dc3(0xaa4),_0x53c22a[_0x284dc3(0x57e)]='rtt',_0x53c22a[_0x284dc3(0x1aa)]=_0x284dc3(0x384);}(_0x5b3015||(_0x5b3015={})),function(_0x5d9f3b){const _0x4a6bdd=_0x128a0b;_0x5d9f3b[_0x4a6bdd(0x39f)]=_0x4a6bdd(0xa96),_0x5d9f3b[_0x4a6bdd(0xa83)]=_0x4a6bdd(0xa4a),_0x5d9f3b[_0x4a6bdd(0x1aa)]='cpu.av_delay',_0x5d9f3b[_0x4a6bdd(0x91a)]=_0x4a6bdd(0x830),_0x5d9f3b['Bitrate']=_0x4a6bdd(0x389),_0x5d9f3b[_0x4a6bdd(0x80c)]=_0x4a6bdd(0x273),_0x5d9f3b[_0x4a6bdd(0x57e)]=_0x4a6bdd(0x1c7);}(_0x3b3594||(_0x3b3594={})),function(_0x47074d){const _0x549b2e=_0x128a0b;_0x47074d[_0x47074d[_0x549b2e(0x69c)]=0x0]=_0x549b2e(0x69c);}(_0x19151c||(_0x19151c={}));const _0x392739=[{'type':_0x5b3015[_0x128a0b(0x9bd)],'reportMetric':_0x359027=>_0x359027[_0x128a0b(0x9bd)],'maxThreshold':2.5},{'type':_0x5b3015['DTVolatility'],'reportMetric':_0x34988b=>_0x34988b['DTVolatility'],'maxThreshold':0.5}],_0x1a7a6b=[{'type':_0x5b3015[_0x128a0b(0xa83)],'reportMetric':_0x448ba0=>{const _0x58dc8a=_0x128a0b,_0x3b53e2=0x3e8/_0x448ba0[_0x58dc8a(0x674)];return _0x448ba0[_0x58dc8a(0x8c4)]/_0x3b53e2;},'maxThreshold':0.75},{'type':_0x5b3015['Bitrate'],'reportMetric':_0x39df48=>{const _0x2d1d60=_0x128a0b,_0x3f7d12=_0x39df48[_0x2d1d60(0x674)]*_0x39df48[_0x2d1d60(0xa27)]*_0x39df48[_0x2d1d60(0x957)]*0.12;return _0x39df48[_0x2d1d60(0x2ba)]/_0x3f7d12;},'minThreshold':0.25},{'type':_0x5b3015['Jitter'],'reportMetric':_0x2596ec=>_0x2596ec[_0x128a0b(0x376)],'maxThreshold':0.6},{'type':_0x5b3015['FramePerSecond'],'reportMetric':_0x1502b9=>_0x1502b9['FPS'],'minThreshold':0xa}],_0x2a760a=[{'type':_0x5b3015[_0x128a0b(0x80c)],'reportMetric':_0x1d3021=>_0x1d3021['jitter'],'maxThreshold':0.6}],_0x3300dd=[{'type':_0x5b3015['RoundTripTime'],'reportMetric':_0x393e4e=>_0x393e4e[_0x128a0b(0x832)],'maxThreshold':0x1/0x0}],_0x50722f=[{'type':_0x5b3015['AudioVideoDelay'],'reportMetric':_0x2c049b=>_0x2c049b[_0x128a0b(0x1aa)],'maxThreshold':0x12c}],_0x4f2da5=[{'type':_0x3b3594['CPUCycle'],'issues':[{'type':_0x5b3015[_0x128a0b(0x9bd)],'threshold':0x5},{'type':_0x5b3015[_0x128a0b(0x4e3)],'threshold':0x5}]},{'type':_0x3b3594[_0x128a0b(0xa83)],'issues':[{'type':_0x5b3015['TimePerFrame'],'threshold':0x3}]},{'type':_0x3b3594[_0x128a0b(0x1aa)],'issues':[{'type':_0x5b3015[_0x128a0b(0x1aa)],'threshold':0x2}]},{'type':_0x3b3594['FramePerSecond'],'issues':[{'type':_0x5b3015[_0x128a0b(0x91a)],'threshold':0x3}]},{'type':_0x3b3594[_0x128a0b(0xaa3)],'issues':[{'type':_0x5b3015['Bitrate'],'threshold':0x3}]},{'type':_0x3b3594[_0x128a0b(0x80c)],'issues':[{'type':_0x5b3015[_0x128a0b(0x80c)],'threshold':0x3}]},{'type':_0x3b3594[_0x128a0b(0x57e)],'issues':[{'type':_0x5b3015['RoundTripTime'],'threshold':0x3}]}];var _0x222008,_0x18a6b1;!function(_0x1d0ab3){const _0x5dd4c1=_0x128a0b;_0x1d0ab3[_0x1d0ab3[_0x5dd4c1(0x77f)]=0x0]=_0x5dd4c1(0x77f),_0x1d0ab3[_0x1d0ab3[_0x5dd4c1(0x8a4)]=0x1]=_0x5dd4c1(0x8a4);}(_0x222008||(_0x222008={}));class _0x3014ba{[_0x128a0b(0x282)];[_0x128a0b(0x4bf)]=[];[_0x128a0b(0x7be)];constructor(_0x4af112){const _0x14401b=_0x128a0b;this[_0x14401b(0x282)]=_0x4af112,this[_0x14401b(0x282)][_0x14401b(0x271)][_0x14401b(0x3cc)](this);}[_0x128a0b(0x8fe)](_0x52dbe8){const _0x2fb5ef=_0x128a0b;this[_0x2fb5ef(0x7be)]=_0x52dbe8;}[_0x128a0b(0x211)](){const _0xacbb3b=_0x128a0b;this[_0xacbb3b(0x7be)]=void 0x0;}[_0x128a0b(0x42d)](){const _0x7da593=_0x128a0b;this[_0x7da593(0x282)][_0x7da593(0x271)]['unregisterSystemSource'](this),this[_0x7da593(0x4bf)]=[];}[_0x128a0b(0x8d7)](_0x5c3f72){const _0x33803e=_0x128a0b;switch(_0x5c3f72[_0x33803e(0x95d)]['type']){case _0x222008[_0x33803e(0x8a4)]:this['detectLocalIssues'](_0x5c3f72[_0x33803e(0x95d)][_0x33803e(0xaae)]);break;case _0x222008['StreamReport']:this[_0x33803e(0xa84)](_0x5c3f72[_0x33803e(0x95d)][_0x33803e(0xaae)]);}}[_0x128a0b(0x81d)](_0x5efc33,_0x57ecc3,_0x81b858,_0x325ff7){const _0xf9205b=_0x128a0b,_0x356d89=_0x4f2da5[_0xf9205b(0x5cf)](_0x165c2a=>_0x165c2a[_0xf9205b(0x4bf)][_0xf9205b(0x3c5)](_0x466305=>_0x466305[_0xf9205b(0x7dd)]===_0x5efc33));_0x325ff7>=_0x356d89[_0xf9205b(0x4bf)][_0xf9205b(0x5cf)](_0x18190b=>_0x18190b[_0xf9205b(0x7dd)]===_0x5efc33)[_0xf9205b(0x290)]&&(this[_0xf9205b(0x91c)](_0x356d89['type'],_0x57ecc3,_0x81b858),this[_0xf9205b(0x4bf)]=this[_0xf9205b(0x4bf)][_0xf9205b(0x2ca)](_0x8d1177=>!(_0x8d1177[_0xf9205b(0x7dd)]===_0x5efc33&&_0x8d1177[_0xf9205b(0x6aa)]===_0x57ecc3&&_0x8d1177[_0xf9205b(0x640)]===_0x81b858)));}['detectLocalIssues'](_0x162b1f){const _0x48ebfd=_0x128a0b;_0x392739[_0x48ebfd(0x8b3)](_0x15511a=>{const _0x1f10e9=_0x48ebfd,_0x5ec6a7=_0x15511a[_0x1f10e9(0x47c)](_0x162b1f);_0x15511a[_0x1f10e9(0x33d)]&&_0x5ec6a7>_0x15511a[_0x1f10e9(0x33d)]&&this['addIssue'](_0x15511a[_0x1f10e9(0x7dd)],this[_0x1f10e9(0x282)][_0x1f10e9(0x8cc)]['getId'](),_0x344238[_0x1f10e9(0x20b)],_0x5ec6a7),_0x15511a[_0x1f10e9(0x52e)]&&_0x5ec6a7<_0x15511a[_0x1f10e9(0x52e)]&&this['addIssue'](_0x15511a[_0x1f10e9(0x7dd)],this[_0x1f10e9(0x282)]['localNode'][_0x1f10e9(0x993)](),_0x344238['Sender'],_0x5ec6a7);});}[_0x128a0b(0xa84)](_0x368a65){const _0x322ac2=_0x128a0b;let _0x353160=[];switch(_0x368a65['origin']){case _0x344238[_0x322ac2(0x20b)]:_0x353160=_0x3300dd;break;case _0x344238[_0x322ac2(0x7b9)]:_0x353160=_0x50722f;}_0x368a65['video']&&this[_0x322ac2(0x2a4)](_0x368a65[_0x322ac2(0x6aa)],_0x344238[_0x322ac2(0x20b)],_0x368a65['video']),_0x368a65[_0x322ac2(0x4a1)]&&this[_0x322ac2(0x3aa)](_0x368a65[_0x322ac2(0x6aa)],_0x344238['Sender'],_0x368a65[_0x322ac2(0x4a1)]),_0x353160[_0x322ac2(0x8b3)](_0x28e846=>{const _0x4edb51=_0x322ac2,_0x5402ef=_0x28e846['reportMetric'](_0x368a65);_0x28e846['maxThreshold']&&_0x5402ef>_0x28e846[_0x4edb51(0x33d)]&&this[_0x4edb51(0x7d3)](_0x28e846[_0x4edb51(0x7dd)],_0x368a65[_0x4edb51(0x6aa)],_0x344238[_0x4edb51(0x20b)],_0x5402ef),_0x28e846[_0x4edb51(0x52e)]&&_0x5402ef<_0x28e846[_0x4edb51(0x52e)]&&this[_0x4edb51(0x7d3)](_0x28e846[_0x4edb51(0x7dd)],_0x368a65[_0x4edb51(0x6aa)],_0x344238['Sender'],_0x5402ef);});}[_0x128a0b(0x2a4)](_0x8a834c,_0x5af1c6,_0x308cc0){const _0x3bc2f8=_0x128a0b;0x0!==_0x308cc0[_0x3bc2f8(0x2ba)]&&_0x1a7a6b[_0x3bc2f8(0x8b3)](_0x2da7fd=>{const _0x559b5e=_0x3bc2f8,_0x488284=_0x2da7fd[_0x559b5e(0x47c)](_0x308cc0);_0x2da7fd[_0x559b5e(0x33d)]&&_0x488284>_0x2da7fd[_0x559b5e(0x33d)]&&this[_0x559b5e(0x7d3)](_0x2da7fd[_0x559b5e(0x7dd)],_0x8a834c,_0x5af1c6,_0x488284,_0x559b5e(0x1fb)),_0x2da7fd['minThreshold']&&_0x488284<_0x2da7fd[_0x559b5e(0x52e)]&&this[_0x559b5e(0x7d3)](_0x2da7fd[_0x559b5e(0x7dd)],_0x8a834c,_0x5af1c6,_0x488284,_0x559b5e(0x1fb));});}[_0x128a0b(0x3aa)](_0x522a08,_0x258099,_0x4b24e7){0x0!==_0x4b24e7['bitrate']&&_0x2a760a['forEach'](_0x1019b9=>{const _0x3f54ec=a0_0xdea0,_0xaf06e6=_0x1019b9[_0x3f54ec(0x47c)](_0x4b24e7);_0x1019b9[_0x3f54ec(0x33d)]&&_0xaf06e6>_0x1019b9['maxThreshold']&&this[_0x3f54ec(0x7d3)](_0x1019b9[_0x3f54ec(0x7dd)],_0x522a08,_0x258099,_0xaf06e6,'audio'),_0x1019b9[_0x3f54ec(0x52e)]&&_0xaf06e6<_0x1019b9['minThreshold']&&this[_0x3f54ec(0x7d3)](_0x1019b9['type'],_0x522a08,_0x258099,_0xaf06e6,_0x3f54ec(0x4a1));});}[_0x128a0b(0x7d3)](_0xaef3c9,_0x4b298e,_0x2005f0,_0x37c04c,_0x12ae97){const _0x5a8817=_0x128a0b;_0x265260['log'](_0x1367fe[_0x5a8817(0xa6b)],'Issue\x20detected:\x20'+_0xaef3c9,_0xaef3c9,_0x37c04c),_0x265260[_0x5a8817(0x229)]('issue',{'clusterId':this[_0x5a8817(0x282)][_0x5a8817(0x2cd)],'nodeId':this[_0x5a8817(0x282)]['localNode'][_0x5a8817(0x993)](),'nodeType':this[_0x5a8817(0x282)][_0x5a8817(0x8cc)]['type'],'remoteId':_0x4b298e,'data':{'type':_0xaef3c9,'value':_0x37c04c,'kind':_0x12ae97}}),this['issues']=this[_0x5a8817(0x4bf)][_0x5a8817(0x2ca)](_0x437a90=>Date[_0x5a8817(0x85a)]()-_0x437a90[_0x5a8817(0x2d6)]<0x7530),this[_0x5a8817(0x4bf)][_0x5a8817(0xa98)]({'timestamp':Date['now'](),'type':_0xaef3c9,'nodeId':_0x4b298e,'origin':_0x2005f0,'value':_0x37c04c,'kind':_0x12ae97});const _0x50ed4c=this['issues'][_0x5a8817(0x2ca)](_0x235047=>_0x235047[_0x5a8817(0x7dd)]===_0xaef3c9&&_0x235047['nodeId']===_0x4b298e&&_0x235047[_0x5a8817(0x640)]===_0x2005f0)[_0x5a8817(0xa20)];this[_0x5a8817(0x81d)](_0xaef3c9,_0x4b298e,_0x2005f0,_0x50ed4c);}[_0x128a0b(0x91c)](_0x2e1a85,_0x42090d,_0x1565bf){const _0x538a18=_0x128a0b;_0x265260[_0x538a18(0x552)](_0x1367fe[_0x538a18(0xa6b)],_0x538a18(0x336)+_0x2e1a85),_0x265260[_0x538a18(0x229)]('problem',{'clusterId':this[_0x538a18(0x282)]['clusterId'],'nodeId':this[_0x538a18(0x282)][_0x538a18(0x8cc)][_0x538a18(0x993)](),'nodeType':this['configs'][_0x538a18(0x8cc)][_0x538a18(0x7dd)],'remoteId':_0x42090d,'data':{'type':_0x2e1a85}}),this['systemTopic']?.[_0x538a18(0x56d)]({'sourceId':_0x4b0f68,'messageType':_0x562b7c['Detection'],'content':{'type':_0x19151c[_0x538a18(0x69c)],'data':{'timestamp':Date['now'](),'nodeId':_0x42090d,'origin':_0x344238[_0x538a18(0x20b)],'type':_0x2e1a85}}});}}class _0x1acae6 extends _0xf47ea0{[_0x128a0b(0x7dd)]=_0x16f74[_0x128a0b(0x8d0)][_0x128a0b(0x1ae)];}class _0x126c9a extends _0x1acae6{[_0x128a0b(0x7be)];[_0x128a0b(0x65c)]=Date[_0x128a0b(0x85a)]();[_0x128a0b(0x8f8)];[_0x128a0b(0x582)];[_0x128a0b(0x42d)](){const _0x2c6697=_0x128a0b;this['updateDebounceTimeout']&&(clearTimeout(this[_0x2c6697(0x8f8)]),delete this[_0x2c6697(0x8f8)]),delete this[_0x2c6697(0x582)],this[_0x2c6697(0x65c)]=Date['now'](),super['close']();}[_0x128a0b(0x8fe)](_0x1b4cf7){const _0x2e4502=_0x128a0b;this[_0x2e4502(0x7be)]=_0x1b4cf7;}[_0x128a0b(0x211)](){const _0x4989fe=_0x128a0b;delete this[_0x4989fe(0x7be)];}[_0x128a0b(0x2bb)](_0x3b4656){const _0xadbd09=_0x128a0b;!this[_0xadbd09(0x8f8)]&&this[_0xadbd09(0x766)]&&this[_0xadbd09(0x7be)]['publish']({'sourceId':this['id'],'destinationIds':[_0x3b4656],'propagate':!0x0,'messageType':_0x562b7c['Node'],'content':{'type':_0x11eb85[_0xadbd09(0xa93)],'id':this['id'],'metaData':{'type':this[_0xadbd09(0x7dd)]},'rank':this[_0xadbd09(0x46e)](),'remoteConnections':Array[_0xadbd09(0x1ec)](this[_0xadbd09(0x493)]),'version':this['currentVersion']}});}[_0x128a0b(0x7b2)](_0x9bac5f){const _0x4c29e2=_0x128a0b;this[_0x4c29e2(0x493)][_0x4c29e2(0x301)](_0x9bac5f)||(this[_0x4c29e2(0x493)][_0x4c29e2(0x368)](_0x9bac5f),this[_0x4c29e2(0x47d)](),this[_0x4c29e2(0x7d4)](!0x0));}['removeRemoteConnection'](_0xa73699){const _0x4c9dbe=_0x128a0b;this['remoteConnections'][_0x4c9dbe(0x301)](_0xa73699)&&(this[_0x4c9dbe(0x493)]['delete'](_0xa73699),this[_0x4c9dbe(0x47d)](),this[_0x4c9dbe(0x7d4)](!0x0));}['getCurrentVersion'](){const _0x302743=_0x128a0b;return this[_0x302743(0x65c)];}[_0x128a0b(0x7ab)](_0x1a9467,_0x47b594=!0x0){const _0x503fb7=_0x128a0b;this[_0x503fb7(0x766)]!==_0x1a9467&&(this[_0x503fb7(0x766)]=_0x1a9467,_0x47b594&&(this[_0x503fb7(0x47d)](),this['publishUserUpdate']()));}[_0x128a0b(0x47d)](){const _0x1bd0a4=_0x128a0b;this[_0x1bd0a4(0x65c)]=Date[_0x1bd0a4(0x85a)]();}['publishUserUpdate'](_0x248592=!0x1){const _0x212921=_0x128a0b;if(this['rank']){if(this['lastUpdated']||(this[_0x212921(0x582)]=Date[_0x212921(0x85a)]()),this['updateDebounceTimeout']){if(Date[_0x212921(0x85a)]()-this[_0x212921(0x582)]>0x2328)return;clearTimeout(this[_0x212921(0x8f8)]);}this['updateDebounceTimeout']=setTimeout(()=>{const _0x47bb96=_0x212921;delete this[_0x47bb96(0x582)],delete this[_0x47bb96(0x8f8)],this[_0x47bb96(0x7be)][_0x47bb96(0x56d)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x562b7c[_0x47bb96(0x9f9)],'content':{'type':_0x248592?_0x11eb85[_0x47bb96(0x220)]:_0x11eb85['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0x47bb96(0x7dd)]},'rank':this[_0x47bb96(0x46e)](),'remoteConnections':Array[_0x47bb96(0x1ec)](this[_0x47bb96(0x493)]),'version':this[_0x47bb96(0x65c)]}});},0x3e8);}}}class _0x243c4e extends _0x31824e{['systemTopic'];['currentVersion']=Date['now']();[_0x128a0b(0x8f8)];[_0x128a0b(0x582)];[_0x128a0b(0x42d)](){const _0x313d8e=_0x128a0b;this[_0x313d8e(0x8f8)]&&(clearTimeout(this[_0x313d8e(0x8f8)]),delete this[_0x313d8e(0x8f8)]),delete this[_0x313d8e(0x582)],this[_0x313d8e(0x65c)]=Date[_0x313d8e(0x85a)](),super[_0x313d8e(0x42d)]();}[_0x128a0b(0x8fe)](_0x24578c){const _0x1cdef0=_0x128a0b;this[_0x1cdef0(0x7be)]=_0x24578c;}['unregisterSystemPublisher'](){const _0x4c03bc=_0x128a0b;delete this[_0x4c03bc(0x7be)];}[_0x128a0b(0x2bb)](_0x220dc3){const _0x46c943=_0x128a0b;!this[_0x46c943(0x8f8)]&&this[_0x46c943(0x766)]&&this[_0x46c943(0x7be)][_0x46c943(0x56d)]({'sourceId':this['id'],'destinationIds':[_0x220dc3],'propagate':!0x0,'messageType':_0x562b7c[_0x46c943(0x9f9)],'content':{'type':_0x11eb85[_0x46c943(0xa93)],'id':this['id'],'metaData':{'type':this['type'],'displayName':this[_0x46c943(0x530)](),'email':this[_0x46c943(0x53c)]()},'rank':this[_0x46c943(0x46e)](),'remoteConnections':Array[_0x46c943(0x1ec)](this[_0x46c943(0x493)]),'version':this['currentVersion']}});}[_0x128a0b(0x7b2)](_0x354016){const _0x1cf746=_0x128a0b;this[_0x1cf746(0x493)]['has'](_0x354016)||(this[_0x1cf746(0x493)][_0x1cf746(0x368)](_0x354016),this[_0x1cf746(0x47d)](),this[_0x1cf746(0x7d4)](!0x0));}[_0x128a0b(0x936)](_0x2a9c49){const _0x5177a8=_0x128a0b;this['remoteConnections'][_0x5177a8(0x301)](_0x2a9c49)&&(this[_0x5177a8(0x493)][_0x5177a8(0x560)](_0x2a9c49),this[_0x5177a8(0x47d)](),this[_0x5177a8(0x7d4)](!0x0));}['getCurrentVersion'](){return this['currentVersion'];}['setDisplayName'](_0x47994a){const _0x5f25f1=_0x128a0b;this['displayName']!==_0x47994a&&(this['displayName']=_0x47994a,this[_0x5f25f1(0x47d)](),this['publishUserUpdate']());}[_0x128a0b(0x488)](_0x35623a){const _0xb7861b=_0x128a0b;this[_0xb7861b(0x99a)]!==_0x35623a&&(this[_0xb7861b(0x99a)]=_0x35623a,this[_0xb7861b(0x47d)](),this[_0xb7861b(0x7d4)]());}[_0x128a0b(0x7ab)](_0x28030f,_0x44f570=!0x0){const _0x2a28be=_0x128a0b;this[_0x2a28be(0x766)]!==_0x28030f&&(this[_0x2a28be(0x766)]=_0x28030f,_0x44f570&&(this['incrementVersion'](),this['publishUserUpdate']()));}[_0x128a0b(0x47d)](){const _0x5644ad=_0x128a0b;this[_0x5644ad(0x65c)]=Date[_0x5644ad(0x85a)]();}[_0x128a0b(0x7d4)](_0x54c422=!0x1){const _0x18a39f=_0x128a0b;if(this['rank']){if(this['lastUpdated']||(this['lastUpdated']=Date[_0x18a39f(0x85a)]()),this[_0x18a39f(0x8f8)]){if(Date[_0x18a39f(0x85a)]()-this[_0x18a39f(0x582)]>0x2328)return;clearTimeout(this['updateDebounceTimeout']);}this[_0x18a39f(0x8f8)]=setTimeout(()=>{const _0x36f2a3=_0x18a39f;delete this['lastUpdated'],delete this[_0x36f2a3(0x8f8)],this[_0x36f2a3(0x7be)][_0x36f2a3(0x56d)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x562b7c[_0x36f2a3(0x9f9)],'content':{'type':_0x54c422?_0x11eb85['NodeConnectionsUpdate']:_0x11eb85['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0x36f2a3(0x7dd)],'displayName':this[_0x36f2a3(0x530)](),'email':this[_0x36f2a3(0x53c)]()},'rank':this[_0x36f2a3(0x46e)](),'remoteConnections':Array[_0x36f2a3(0x1ec)](this[_0x36f2a3(0x493)]),'version':this[_0x36f2a3(0x65c)]}});},0x3e8);}}}class _0x83afd9{['id'];[_0x128a0b(0x1ba)];['vendorId'];['agentConfig'];[_0x128a0b(0x7dd)]=_0x16f74[_0x128a0b(0x8d0)][_0x128a0b(0x1ae)];[_0x128a0b(0x42b)];constructor(_0x537c86,_0x51e29e,_0x1860bf,_0x35c3ea){const _0xdfad49=_0x128a0b;this['id']=_0x537c86,this[_0xdfad49(0x1ba)]=_0x51e29e,this[_0xdfad49(0x61b)]=_0x1860bf,this[_0xdfad49(0x428)]=_0x35c3ea;}[_0x128a0b(0x993)](){return this['id'];}['onConfigurationChange'](_0x418d7a){const _0x37da03=_0x128a0b,_0x2b3a90=(0x0,_0x1b5a26[_0x37da03(0x7d6)])((0x0,_0x1b5a26[_0x37da03(0x1ff)])(_0x342bc8[_0x37da03(0x263)](),_0x37da03(0x76b)+this[_0x37da03(0x61b)]+'/resources/agent/items/'+this['groupId']),_0x10bb9b=>{const _0x21af59=_0x37da03;if(_0x10bb9b['exists']()){const _0x262148=_0x10bb9b[_0x21af59(0xaae)]();if(this[_0x21af59(0x428)]['timestamp']['isEqual'](_0x262148[_0x21af59(0x2d6)]))return;_0x265260[_0x21af59(0x552)](_0x1367fe[_0x21af59(0x9f9)],_0x21af59(0x94f),{'agentId':this['id'],'groupId':this[_0x21af59(0x1ba)],'oldConfig':this[_0x21af59(0x428)],'newConfig':_0x262148}),this['agentConfig']=_0x262148,_0x418d7a();}});return()=>_0x2b3a90();}[_0x128a0b(0x295)](_0x9c3fc){const _0x215385=_0x128a0b;return this[_0x215385(0x948)](this['groupId'],_0x9c3fc),_0x52452b['setInterval'](()=>this[_0x215385(0x948)](this[_0x215385(0x1ba)],_0x9c3fc),0x7530);}[_0x128a0b(0x187)](){if(!this['lastCapacityReport'])throw new _0x4204a5(_0x4204a5['codes']['MistletCapacityReportNotSet']);return this['lastCapacityReport'];}async[_0x128a0b(0x948)](_0x2f2ae7,_0x5409cb){const _0x3e4ede=_0x128a0b,_0x270ef0=await _0x5409cb();this[_0x3e4ede(0x42b)]=_0x270ef0,await(0x0,_0x1b5a26[_0x3e4ede(0x348)])((0x0,_0x1b5a26['collection'])(_0x342bc8[_0x3e4ede(0x263)](),_0x3e4ede(0x76b)+this[_0x3e4ede(0x61b)]+_0x3e4ede(0x9e3)),{'agentId':this['id'],'groupId':_0x2f2ae7,'timestamp':(0x0,_0x1b5a26['serverTimestamp'])(),'capacity':_0x270ef0});}}!function(_0x4554e6){const _0xa475c1=_0x128a0b;_0x4554e6[_0x4554e6['Online']=0x0]=_0xa475c1(0x594),_0x4554e6[_0x4554e6[_0xa475c1(0x677)]=0x1]=_0xa475c1(0x677);}(_0x18a6b1||(_0x18a6b1={}));class _0x275400 extends _0x1acae6{['currentVersion'];[_0x128a0b(0x6f7)]=_0x18a6b1['Online'];['lastUpdated']=Date['now']();constructor(_0x3ba07f,_0x3fec78=new Set(),_0x24fd3a,_0x3eee14){super(_0x3ba07f,_0x3fec78,_0x3eee14),this['currentVersion']=_0x24fd3a;}[_0x128a0b(0x59f)](){return this['currentVersion'];}[_0x128a0b(0x747)](){const _0x5eda60=_0x128a0b;return this[_0x5eda60(0x6f7)];}[_0x128a0b(0x1db)](){const _0x3de6ab=_0x128a0b;return this[_0x3de6ab(0x582)];}[_0x128a0b(0x7ab)](_0x31b050){const _0x439493=_0x128a0b;this[_0x439493(0x766)]!==_0x31b050&&(this[_0x439493(0x766)]=_0x31b050,this[_0x439493(0xa12)]());}['setRemoteConnections'](_0x1dd360){const _0x46e8bc=_0x128a0b;let _0x385f16=!0x1;for(const _0x4e834a of this[_0x46e8bc(0x493)])_0x1dd360[_0x46e8bc(0x6b7)](_0x4e834a)||(_0x385f16=!0x0,this[_0x46e8bc(0x493)][_0x46e8bc(0x560)](_0x4e834a));for(const _0x1a36c5 of _0x1dd360)this['remoteConnections'][_0x46e8bc(0x301)](_0x1a36c5)||(_0x385f16=!0x0,this[_0x46e8bc(0x493)]['add'](_0x1a36c5));_0x385f16&&this[_0x46e8bc(0xa12)]();}[_0x128a0b(0x87f)](_0xd8b7ef){const _0x41cb76=_0x128a0b;this['currentVersion']!==_0xd8b7ef&&(this['currentVersion']=_0xd8b7ef,this[_0x41cb76(0xa12)]());}['setStatus'](_0x533db6){const _0xcc5b8f=_0x128a0b;this[_0xcc5b8f(0x6f7)]!==_0x533db6&&(this['status']=_0x533db6,this[_0xcc5b8f(0xa12)](),_0x533db6===_0x18a6b1[_0xcc5b8f(0x677)]&&this[_0xcc5b8f(0x42d)]());}[_0x128a0b(0xa12)](){const _0x492398=_0x128a0b;this['lastUpdated']=Date[_0x492398(0x85a)]();}}class _0x49af0d extends _0x31824e{[_0x128a0b(0x65c)];[_0x128a0b(0x6f7)]=_0x18a6b1[_0x128a0b(0x594)];['lastUpdated']=Date[_0x128a0b(0x85a)]();constructor(_0x1e1979,_0x429301,_0x24c6c7,_0x4d7532=new Set(),_0x2c2dce,_0x3e1c3d){const _0x1e89a9=_0x128a0b;super(_0x1e1979,_0x429301,_0x24c6c7,_0x4d7532,_0x3e1c3d),this[_0x1e89a9(0x65c)]=_0x2c2dce;}['getCurrentVersion'](){return this['currentVersion'];}[_0x128a0b(0x747)](){return this['status'];}[_0x128a0b(0x1db)](){const _0xa7a33a=_0x128a0b;return this[_0xa7a33a(0x582)];}['setDisplayName'](_0x29d492){const _0x2dd1ee=_0x128a0b;this[_0x2dd1ee(0x7a1)]!==_0x29d492&&(this['displayName']=_0x29d492,this[_0x2dd1ee(0xa12)]());}[_0x128a0b(0x488)](_0x9ba79d){const _0x41b9b8=_0x128a0b;this[_0x41b9b8(0x99a)]!==_0x9ba79d&&(this[_0x41b9b8(0x99a)]=_0x9ba79d,this[_0x41b9b8(0xa12)]());}[_0x128a0b(0x7ab)](_0x296099){const _0x5ee323=_0x128a0b;this[_0x5ee323(0x766)]!==_0x296099&&(this[_0x5ee323(0x766)]=_0x296099,this[_0x5ee323(0xa12)]());}[_0x128a0b(0x2fd)](_0x2e8188){const _0xbb5b9f=_0x128a0b;let _0x59e57b=!0x1;for(const _0x1c7756 of this[_0xbb5b9f(0x493)])_0x2e8188[_0xbb5b9f(0x6b7)](_0x1c7756)||(_0x59e57b=!0x0,this[_0xbb5b9f(0x493)][_0xbb5b9f(0x560)](_0x1c7756));for(const _0x10600a of _0x2e8188)this[_0xbb5b9f(0x493)][_0xbb5b9f(0x301)](_0x10600a)||(_0x59e57b=!0x0,this[_0xbb5b9f(0x493)][_0xbb5b9f(0x368)](_0x10600a));_0x59e57b&&this['updateLastUpdated']();}[_0x128a0b(0x87f)](_0xa04476){const _0x164120=_0x128a0b;this[_0x164120(0x65c)]!==_0xa04476&&(this[_0x164120(0x65c)]=_0xa04476,this[_0x164120(0xa12)]());}['setStatus'](_0x2fb57c){const _0x1a471d=_0x128a0b;this['status']!==_0x2fb57c&&(this[_0x1a471d(0x6f7)]=_0x2fb57c,this[_0x1a471d(0xa12)](),_0x2fb57c===_0x18a6b1['Offline']&&this[_0x1a471d(0x42d)]());}[_0x128a0b(0xa12)](){const _0x35c6b0=_0x128a0b;this['lastUpdated']=Date[_0x35c6b0(0x85a)]();}}class _0x52a8d2{[_0x128a0b(0x61b)];[_0x128a0b(0x2cd)];[_0x128a0b(0x8cc)];['minConnections'];[_0x128a0b(0x841)]=_0x426138();[_0x128a0b(0x5e2)];[_0x128a0b(0x825)];[_0x128a0b(0x73f)];[_0x128a0b(0x3ab)]=!0x1;['clusterKey'];[_0x128a0b(0x52d)];constructor(_0x21b15b,_0x5def1c,_0xab61da,_0x177844){const _0xbd1f63=_0x128a0b;this[_0xbd1f63(0x61b)]=_0x21b15b,this[_0xbd1f63(0x2cd)]=_0x5def1c,this['localNode']=_0xab61da,this[_0xbd1f63(0xa51)]=_0x177844,this[_0xbd1f63(0x771)]=_0xbd1f63(0x670)+this[_0xbd1f63(0x61b)]+_0xbd1f63(0x670)+this[_0xbd1f63(0x2cd)],this[_0xbd1f63(0x52d)]='ccc'+this[_0xbd1f63(0x61b)]+_0xbd1f63(0x670)+this[_0xbd1f63(0x8cc)][_0xbd1f63(0x993)](),this[_0xbd1f63(0x5e2)]=(0x0,_0x33156d[_0xbd1f63(0x9cf)])((0x0,_0x33156d[_0xbd1f63(0xabc)])(_0x342bc8['getDatabase'](),_0xbd1f63(0x462)),_0x98c0fd=>{const _0xce2f7c=_0xbd1f63;!0x0!==_0x98c0fd[_0xce2f7c(0x6ae)]()?this['connected']&&_0x265260[_0xce2f7c(0x5b5)](_0xce2f7c(0x5b4),{'clusterId':this['clusterId'],'nodeId':this[_0xce2f7c(0x8cc)][_0xce2f7c(0x993)](),'nodeType':this['localNode'][_0xce2f7c(0x7dd)]}):(this['connected']=!0x0,this[_0xce2f7c(0xa6d)](),_0x265260['warning'](_0xce2f7c(0x36c),{'clusterId':this['clusterId'],'nodeId':this[_0xce2f7c(0x8cc)][_0xce2f7c(0x993)](),'nodeType':this[_0xce2f7c(0x8cc)][_0xce2f7c(0x7dd)]}));});}async['join'](){const _0x4ba8d7=_0x128a0b;await this[_0x4ba8d7(0x2a9)]();const _0x2d5e66=await this[_0x4ba8d7(0x2cb)]();return this[_0x4ba8d7(0x825)]=(0x0,_0x33156d[_0x4ba8d7(0x700)])((0x0,_0x33156d[_0x4ba8d7(0xabc)])(_0x342bc8[_0x4ba8d7(0xaa5)](),_0x4ba8d7(0x525)+this[_0x4ba8d7(0x771)]+_0x4ba8d7(0x75a)),_0x5722dd=>{const _0x136ed8=_0x4ba8d7,_0xebd7c1=_0x5722dd[_0x136ed8(0x293)];if(!_0xebd7c1)return;const _0x36dc4e=_0xebd7c1[_0x136ed8(0xa2e)](_0x136ed8(0x670)+this[_0x136ed8(0x61b)]+_0x136ed8(0x670),'');this['disconnectCallback']['publish'](_0x36dc4e);}),_0x2d5e66;}async[_0x128a0b(0x42d)](){const _0x5880f8=_0x128a0b;this[_0x5880f8(0x825)]?.(),delete this['childRemovedUnsubscriber'],this['onDisconnectHandler']?.['cancel'](),delete this[_0x5880f8(0x73f)],this['firebaseUnsubscriber']?.(),delete this[_0x5880f8(0x5e2)],await(0x0,_0x33156d[_0x5880f8(0x213)])((0x0,_0x33156d[_0x5880f8(0xabc)])(_0x342bc8[_0x5880f8(0xaa5)](),_0x5880f8(0x525)+this['clusterKey']+_0x5880f8(0x949)+this[_0x5880f8(0x52d)]));}[_0x128a0b(0x486)](_0x42488f){const _0x2e086c=_0x128a0b;return this[_0x2e086c(0x841)][_0x2e086c(0x3b4)](_0x42488f);}async[_0x128a0b(0x2cb)](){const _0x22461e=_0x128a0b,_0x5edf72=[],_0xbf02d0=await(0x0,_0x33156d[_0x22461e(0x8b0)])((0x0,_0x33156d[_0x22461e(0xabc)])(_0x342bc8[_0x22461e(0xaa5)](),_0x22461e(0x525)+this[_0x22461e(0x771)]+_0x22461e(0x75a))),_0x58588f=[];return _0xbf02d0[_0x22461e(0x8b3)](_0x372ddf=>{const _0x1237db=_0x22461e,_0x5e51cb=_0x372ddf[_0x1237db(0x293)]?.[_0x1237db(0xa2e)](_0x1237db(0x670)+this[_0x1237db(0x61b)]+_0x1237db(0x670),'');_0x58588f[_0x1237db(0xa98)]({'id':_0x5e51cb,'joinedAt':_0x372ddf[_0x1237db(0x6ae)]()[_0x1237db(0x2be)],'priority':_0x372ddf['val']()[_0x1237db(0x522)]});}),_0x58588f[_0x22461e(0x393)]((_0x302cd6,_0x4e3afd)=>_0x302cd6[_0x22461e(0x2be)]===_0x4e3afd['joinedAt']?_0x302cd6[_0x22461e(0x522)]-_0x4e3afd[_0x22461e(0x522)]:_0x302cd6[_0x22461e(0x2be)]-_0x4e3afd[_0x22461e(0x2be)])['splice'](_0x58588f['findIndex'](_0x4a344a=>_0x4a344a['id']===this[_0x22461e(0x8cc)][_0x22461e(0x993)]())),_0x58588f[_0x22461e(0x393)]((_0x11d157,_0x4a179a)=>_0x4a179a['joinedAt']===_0x11d157['joinedAt']?_0x4a179a[_0x22461e(0x522)]-_0x11d157[_0x22461e(0x522)]:_0x4a179a[_0x22461e(0x2be)]-_0x11d157[_0x22461e(0x2be)])['forEach'](_0x249b82=>{const _0xa13973=_0x22461e;_0x5edf72[_0xa13973(0xa20)]>=this[_0xa13973(0xa51)]||_0x5edf72['push'](_0x249b82['id']);}),_0x265260[_0x22461e(0x229)]('discover',{'clusterId':this[_0x22461e(0x2cd)],'nodeId':this[_0x22461e(0x8cc)][_0x22461e(0x993)](),'nodeType':this[_0x22461e(0x8cc)]['type'],'data':{'ancestorIds':_0x5edf72,'allNodes':_0x58588f}}),_0x5edf72;}async[_0x128a0b(0x2a9)](){const _0x1ae6a5=_0x128a0b;await(0x0,_0x33156d['set'])((0x0,_0x33156d[_0x1ae6a5(0xabc)])(_0x342bc8['getDatabase'](),'clusters/'+this[_0x1ae6a5(0x771)]+_0x1ae6a5(0x949)+this[_0x1ae6a5(0x52d)]),{'joinedAt':(0x0,_0x33156d[_0x1ae6a5(0x92e)])(),'priority':Math[_0x1ae6a5(0x28c)]()});}[_0x128a0b(0xa6d)](){const _0x2d82b0=_0x128a0b;this['onDisconnectHandler']&&this[_0x2d82b0(0x73f)][_0x2d82b0(0x24b)](),this[_0x2d82b0(0x73f)]=(0x0,_0x33156d[_0x2d82b0(0x43a)])((0x0,_0x33156d[_0x2d82b0(0xabc)])(_0x342bc8[_0x2d82b0(0xaa5)](),_0x2d82b0(0x525)+this['clusterKey']+_0x2d82b0(0x949)+this[_0x2d82b0(0x52d)])),this[_0x2d82b0(0x73f)][_0x2d82b0(0x213)]();}}class _0x506ca6{[_0x128a0b(0x282)];[_0x128a0b(0x292)];[_0x128a0b(0x6e5)];['discoveryService'];['discoveryUnsubscriber'];[_0x128a0b(0x3f7)]=[];[_0x128a0b(0x7be)];[_0x128a0b(0xaac)]=new Map();[_0x128a0b(0x55a)];[_0x128a0b(0x716)];['_isReady'];[_0x128a0b(0x623)];['rejectReady'];[_0x128a0b(0x210)];constructor(_0x3c31c5,_0x323022){const _0x286381=_0x128a0b;this[_0x286381(0x282)]=_0x3c31c5,this['graphService']=_0x323022,this[_0x286381(0x3c9)]=new Promise((_0x56eba8,_0x58fe28)=>{const _0x5980b7=_0x286381;this['resolveReady']=_0x56eba8,this[_0x5980b7(0x4aa)]=_0x58fe28;}),this['discoveryService']=new _0x52a8d2(this[_0x286381(0x282)][_0x286381(0x61b)],this[_0x286381(0x282)][_0x286381(0x2cd)],this[_0x286381(0x282)][_0x286381(0x8cc)],this[_0x286381(0x292)][_0x286381(0x492)]()),this[_0x286381(0xa8b)]=this[_0x286381(0x41f)][_0x286381(0x486)](this[_0x286381(0x1ed)][_0x286381(0xa47)](this)),this[_0x286381(0x282)][_0x286381(0x271)][_0x286381(0x3cc)](this['configs'][_0x286381(0x8cc)]),this['configs'][_0x286381(0x271)][_0x286381(0x3cc)](this),this[_0x286381(0x6e5)]=_0x52452b[_0x286381(0x7ec)](()=>{const _0x19ddfc=_0x286381,_0xcb27e8=Date['now']();this[_0x19ddfc(0x292)][_0x19ddfc(0x3a3)]()['forEach'](_0x454dfa=>{const _0x1b35e0=_0x19ddfc;_0x454dfa[_0x1b35e0(0x747)]()===_0x18a6b1[_0x1b35e0(0x677)]&&_0x454dfa[_0x1b35e0(0x1db)]()<_0xcb27e8-0x493e0&&this[_0x1b35e0(0x292)][_0x1b35e0(0x441)](_0x454dfa['getId']());});},0xea60);}async[_0x128a0b(0x78b)](){const _0x46ecf3=_0x128a0b;return this[_0x46ecf3(0x3c9)];}async[_0x128a0b(0xb06)](_0x19621e){return new Promise((_0x253e8d,_0x52ca26)=>{const _0xd9b95b=a0_0xdea0;let _0x8c541a;const _0x2474fa=setTimeout(()=>{const _0x278ce6=a0_0xdea0;_0x8c541a?.(),_0x52ca26(new Error(_0x278ce6(0x6df)+_0x19621e+_0x278ce6(0x7ee)));},0x2710);if(this['graphService'][_0xd9b95b(0x32c)](_0x19621e))return clearTimeout(_0x2474fa),void _0x253e8d(!0x0);_0x8c541a=this['graphService'][_0xd9b95b(0xb08)](()=>{const _0x431c03=_0xd9b95b;this[_0x431c03(0x292)][_0x431c03(0x32c)](_0x19621e)&&(clearTimeout(_0x2474fa),_0x253e8d(!0x0),_0x8c541a?.());});});}[_0x128a0b(0x8fe)](_0x154587){const _0x1fea34=_0x128a0b;this[_0x1fea34(0x7be)]=_0x154587;}[_0x128a0b(0x211)](){delete this['systemTopic'];}['close'](){const _0x339a21=_0x128a0b;this[_0x339a21(0x55a)]&&(clearTimeout(this[_0x339a21(0x55a)]),delete this[_0x339a21(0x55a)]),delete this[_0x339a21(0x716)],this['configs'][_0x339a21(0x8cc)]['close'](),this['remoteUnsubscriber'](),this[_0x339a21(0xa8b)](),this[_0x339a21(0x282)][_0x339a21(0x271)]['unregisterSystemSource'](this['configs'][_0x339a21(0x8cc)]),this[_0x339a21(0x282)][_0x339a21(0x271)][_0x339a21(0xa2a)](this),this[_0x339a21(0x41f)]['close']();}[_0x128a0b(0x45d)](){const _0x6feab=_0x128a0b;return this[_0x6feab(0x3f7)];}[_0x128a0b(0x3d1)](){const _0x3a99c9=_0x128a0b;return this[_0x3a99c9(0x282)][_0x3a99c9(0x8cc)][_0x3a99c9(0x993)]();}[_0x128a0b(0x944)](){const _0x429e3b=_0x128a0b;return this[_0x429e3b(0x282)][_0x429e3b(0x8cc)];}[_0x128a0b(0x3a3)](_0x1ebcf0){const _0x567c82=_0x128a0b,_0x1baa5c=Array['from'](this[_0x567c82(0x292)]['getRemoteNodes']()[_0x567c82(0x36b)]())[_0x567c82(0x2ca)](_0x1eaa24=>_0x1eaa24['getStatus']()===_0x18a6b1[_0x567c82(0x594)]);return _0x1ebcf0?_0x1baa5c[_0x567c82(0x2ca)](_0x1ebcf0):_0x1baa5c;}async[_0x128a0b(0x7a9)](){const _0x13a4d4=_0x128a0b;return this[_0x13a4d4(0x3f7)]=await this[_0x13a4d4(0x41f)][_0x13a4d4(0x406)](),this[_0x13a4d4(0x3f7)]['length']<this[_0x13a4d4(0x292)]['getMinConnections']()&&(this['configs'][_0x13a4d4(0x8cc)]['setRank'](this[_0x13a4d4(0x3f7)][_0x13a4d4(0xa20)]+0x1),this[_0x13a4d4(0x3ed)]()),this[_0x13a4d4(0x3f7)];}[_0x128a0b(0xaf8)](_0x339edf,_0x5e4469){const _0x5a538a=_0x128a0b,_0x3c878b=this[_0x5a538a(0x282)]['localNode'][_0x5a538a(0x2d4)](),_0x1eca82=new Set(_0x3c878b),_0x4ad033=Array['from'](_0x3c878b)[_0x5a538a(0x2ca)](_0x2db886=>_0x2db886!==_0x339edf)[_0x5a538a(0x8ac)](_0xd25884=>({'id':_0xd25884,'distance':0x1}));for(;_0x4ad033[_0x5a538a(0xa20)]>0x0;){const _0x5a59b1=_0x4ad033[_0x5a538a(0x404)]();if(!_0x5a59b1)continue;if(_0x5a59b1['id']===_0x5e4469)return _0x5a59b1['distance'];const _0x1345ed=this[_0x5a538a(0x292)][_0x5a538a(0x76f)](_0x5a59b1['id']);_0x1345ed&&_0x1345ed['getStatus']()!==_0x18a6b1[_0x5a538a(0x677)]&&_0x1345ed[_0x5a538a(0x2d4)]()[_0x5a538a(0x8b3)](_0x72d292=>{const _0x13fdcd=_0x5a538a;_0x1eca82[_0x13fdcd(0x301)](_0x72d292)||(_0x1eca82[_0x13fdcd(0x368)](_0x72d292),_0x4ad033[_0x13fdcd(0xa98)]({'id':_0x72d292,'distance':_0x5a59b1[_0x13fdcd(0x864)]+0x1}));});}return-0x1;}[_0x128a0b(0x466)](_0x226cbf){const _0x11358a=_0x128a0b;try{switch(_0x226cbf['content'][_0x11358a(0x7dd)]){case _0x11eb85[_0x11358a(0xa93)]:case _0x11eb85[_0x11358a(0x220)]:this[_0x11358a(0x538)](_0x226cbf[_0x11358a(0x95d)]),_0x265260[_0x11358a(0x552)](_0x1367fe[_0x11358a(0x9f9)],_0x11358a(0x3ac),'\x27'+this[_0x11358a(0x282)][_0x11358a(0x8cc)][_0x11358a(0x993)]()+',\x20'+_0x226cbf[_0x11358a(0x898)]+'\x27',_0x226cbf,_0x226cbf[_0x11358a(0x95d)]);break;case _0x11eb85[_0x11358a(0x75e)]:this[_0x11358a(0x43f)](_0x226cbf[_0x11358a(0x95d)]['id']),_0x265260['log'](_0x1367fe[_0x11358a(0x9f9)],_0x11358a(0x1b0),'\x27'+this[_0x11358a(0x282)][_0x11358a(0x8cc)]['getId']()+',\x20'+_0x226cbf[_0x11358a(0x898)]+'\x27',_0x226cbf,_0x226cbf[_0x11358a(0x95d)]);}}catch(_0x58cc88){if(_0x58cc88 instanceof _0x4cb4b0)return void _0x265260[_0x11358a(0x552)](_0x1367fe[_0x11358a(0x9f9)],_0x58cc88[_0x11358a(0x94c)]);throw _0x58cc88;}}[_0x128a0b(0xaff)](_0x366318){const _0x4548e5=_0x128a0b;switch(_0x366318[_0x4548e5(0x95d)][_0x4548e5(0x7dd)]){case _0x303120[_0x4548e5(0x99f)]:this[_0x4548e5(0xa9b)](_0x366318[_0x4548e5(0x898)]),_0x265260[_0x4548e5(0x552)](_0x1367fe['Node'],'NodeManager\x20-\x20ConnectionSuccess','\x27'+this[_0x4548e5(0x282)][_0x4548e5(0x8cc)]['getId']()+',\x20'+_0x366318[_0x4548e5(0x898)]+'\x27',_0x366318,_0x366318[_0x4548e5(0x95d)]);break;case _0x303120['Disconnect']:this[_0x4548e5(0x516)](_0x366318[_0x4548e5(0x898)]),_0x265260[_0x4548e5(0x552)](_0x1367fe[_0x4548e5(0x9f9)],_0x4548e5(0x97d),this['configs']['localNode'][_0x4548e5(0x993)](),_0x366318,_0x366318[_0x4548e5(0x95d)]);}}[_0x128a0b(0x8c2)](_0x31187b){const _0x5315c1=_0x128a0b;this[_0x5315c1(0x9e8)](_0x31187b),this[_0x5315c1(0x575)](_0x31187b);}[_0x128a0b(0x575)](_0x543ea3){const _0x160d73=_0x128a0b;this[_0x160d73(0x282)][_0x160d73(0x8cc)][_0x160d73(0x2bb)](_0x543ea3['id']),this[_0x160d73(0x751)](_0x543ea3['id']),this['notifyClusterNodeJoin'](_0x543ea3);}[_0x128a0b(0x538)](_0x17ee08){const _0x7dfb=_0x128a0b,{id:_0x130220,metaData:_0x5a1002,rank:_0x506b7d,remoteConnections:_0x11d140,version:_0x41f5ed}=_0x17ee08,_0x51d8f0=this[_0x7dfb(0x292)][_0x7dfb(0x76f)](_0x130220);if(_0x51d8f0){if(!(_0x41f5ed<=_0x51d8f0[_0x7dfb(0x59f)]())){if(_0x51d8f0[_0x7dfb(0x2fd)](_0x11d140),_0x51d8f0['setCurrentVersion'](_0x41f5ed),_0x51d8f0[_0x7dfb(0x7dd)]===_0x16f74[_0x7dfb(0x8d0)]['User']&&_0x5a1002[_0x7dfb(0x7dd)]===_0x16f74[_0x7dfb(0x8d0)][_0x7dfb(0x85e)]&&(_0x51d8f0[_0x7dfb(0x447)](_0x5a1002[_0x7dfb(0x7a1)]),_0x51d8f0[_0x7dfb(0x488)](_0x5a1002[_0x7dfb(0x99a)])),_0x506b7d&&_0x51d8f0['setRank'](_0x506b7d),this[_0x7dfb(0x2bf)](_0x130220,_0x506b7d),_0x51d8f0['getStatus']()===_0x18a6b1['Offline'])return _0x51d8f0[_0x7dfb(0xa60)](_0x18a6b1[_0x7dfb(0x594)]),this['processRank'](),void this['notifyJoin'](_0x17ee08);this[_0x7dfb(0x3ed)](),this[_0x7dfb(0x4f6)]({'id':_0x130220,'metaData':_0x5a1002,'remoteConnections':_0x11d140,'version':_0x41f5ed});}}else this[_0x7dfb(0x8c2)](_0x17ee08);}[_0x128a0b(0x2bf)](_0x157c53,_0x489c4d){const _0x26be7f=_0x128a0b;_0x489c4d&&this['ancestors'][_0x26be7f(0x6b7)](_0x157c53)&&this[_0x26be7f(0x282)][_0x26be7f(0x8cc)][_0x26be7f(0x7ab)](_0x489c4d+this[_0x26be7f(0x3f7)][_0x26be7f(0x44a)](_0x157c53)+0x1);}[_0x128a0b(0xa9b)](_0x5d032d){const _0x3c0130=_0x128a0b;this[_0x3c0130(0x282)][_0x3c0130(0x8cc)][_0x3c0130(0x7b2)](_0x5d032d);}['createRemoteNode']({id:_0x50d74a,metaData:_0x4b0ccd,rank:_0x5e8b01,remoteConnections:_0x3aa7d9,version:_0x3ccae9}){const _0x546bd0=_0x128a0b;if(this['graphService'][_0x546bd0(0x32c)](_0x50d74a))throw new _0x4cb4b0(_0x546bd0(0x56e)+_0x50d74a);switch(_0x4b0ccd[_0x546bd0(0x7dd)]){case _0x16f74[_0x546bd0(0x8d0)][_0x546bd0(0x85e)]:const {displayName:_0x1d0dee,email:_0x36772c}=_0x4b0ccd;this[_0x546bd0(0x292)][_0x546bd0(0x83d)](_0x50d74a,new _0x49af0d(_0x50d74a,_0x1d0dee,_0x36772c,new Set(_0x3aa7d9),_0x3ccae9,_0x5e8b01));break;case _0x16f74[_0x546bd0(0x8d0)][_0x546bd0(0x1ae)]:this['graphService'][_0x546bd0(0x83d)](_0x50d74a,new _0x275400(_0x50d74a,new Set(_0x3aa7d9),_0x3ccae9,_0x5e8b01));}const _0x34b358=this['getRemoteNodes'](),_0x433eef=new Set(this[_0x546bd0(0x3f7)]);_0x34b358[_0x546bd0(0x8b3)](_0x1c1c9a=>{const _0x44fb36=_0x546bd0;_0x433eef[_0x44fb36(0x301)](_0x1c1c9a[_0x44fb36(0x993)]())&&_0x433eef[_0x44fb36(0x560)](_0x1c1c9a[_0x44fb36(0x993)]());}),0x0===_0x433eef[_0x546bd0(0x388)]&&this[_0x546bd0(0x623)]&&(this[_0x546bd0(0x210)]&&clearTimeout(this[_0x546bd0(0x210)]),this['readyDebounce']=setTimeout(()=>{const _0x36b48e=_0x546bd0;this[_0x36b48e(0x623)]?.(!0x0),delete this['resolveReady'],delete this['rejectReady'];},0x7d0)),this[_0x546bd0(0x2bf)](_0x50d74a,_0x5e8b01),this['processRank']();}[_0x128a0b(0x751)](_0x2bed68){const _0x36d122=_0x128a0b;this[_0x36d122(0x7be)][_0x36d122(0x56d)]({'sourceId':_0x4b0f68,'messageType':_0x562b7c[_0x36d122(0x9f9)],'content':{'type':_0x11eb85['NodeJoin'],'id':_0x2bed68}});}['publishNodeLeave'](_0x36ef0e){this['systemTopic']?.['publish']({'sourceId':_0x4b0f68,'messageType':_0x562b7c['Node'],'content':{'type':_0x11eb85['NodeLeave'],'id':_0x36ef0e}});}[_0x128a0b(0x1ed)](_0x31ecf8){const _0x700147=_0x128a0b;if(_0x31ecf8===this[_0x700147(0x282)][_0x700147(0x8cc)][_0x700147(0x993)]())return this[_0x700147(0x282)]['mediator']['notifyCluster'](_0x700147(0x2f6),{'id':_0x31ecf8}),this[_0x700147(0x282)][_0x700147(0x271)][_0x700147(0x42d)]({'force':!0x0},!0x0),this[_0x700147(0x282)]['mediator'][_0x700147(0x645)](),void this[_0x700147(0x282)]['mediator']['initialize']();this[_0x700147(0x516)](_0x31ecf8);}[_0x128a0b(0x43f)](_0x5478e3){const _0xa1c672=_0x128a0b;this[_0xa1c672(0x3f7)][_0xa1c672(0x6b7)](_0x5478e3)?this[_0xa1c672(0x62f)](_0x5478e3):this[_0xa1c672(0x282)][_0xa1c672(0x8cc)]['getRemoteConnections']()['has'](_0x5478e3)&&this[_0xa1c672(0x1f3)](_0x5478e3),this[_0xa1c672(0x282)][_0xa1c672(0x8cc)][_0xa1c672(0x936)](_0x5478e3);const _0x3fd4ae=Array[_0xa1c672(0x1ec)](this['optimizationLayers'][_0xa1c672(0x268)]())[_0xa1c672(0x5cf)](([,_0x4755d0])=>_0x4755d0==_0x4755d0);_0x3fd4ae&&this[_0xa1c672(0xaac)][_0xa1c672(0x560)](_0x3fd4ae[0x0]);const _0x29d27c=this[_0xa1c672(0x292)][_0xa1c672(0x76f)](_0x5478e3);if(!_0x29d27c)return;const _0x5cc356=_0x29d27c[_0xa1c672(0x46e)](),_0x512ba1=this[_0xa1c672(0x282)]['localNode']['getRank']();_0x512ba1&&_0x5cc356&&_0x5cc356<_0x512ba1&&this['configs'][_0xa1c672(0x8cc)][_0xa1c672(0x7ab)](_0x512ba1-0x1,!0x1),Array[_0xa1c672(0x1ec)](this[_0xa1c672(0x292)][_0xa1c672(0x3a3)]()[_0xa1c672(0x36b)]())[_0xa1c672(0x8b3)](_0x43eb7a=>{const _0xade62f=_0xa1c672,_0xa0412b=_0x43eb7a[_0xade62f(0x46e)]();_0xa0412b&&_0x5cc356&&_0x5cc356<_0xa0412b&&_0x43eb7a[_0xade62f(0x7ab)](_0xa0412b-0x1);}),_0x29d27c[_0xa1c672(0xa60)](_0x18a6b1[_0xa1c672(0x677)]),this['configs'][_0xa1c672(0x271)][_0xa1c672(0x27f)](_0x29d27c[_0xa1c672(0x7dd)]+'-leave',{'id':_0x5478e3});}[_0x128a0b(0xa0d)]({id:_0x30dca6,metaData:_0x15dd72,remoteConnections:_0x21b9c2}){const _0x3bf90e=_0x128a0b;switch(_0x15dd72[_0x3bf90e(0x7dd)]){case _0x16f74[_0x3bf90e(0x8d0)][_0x3bf90e(0x85e)]:this[_0x3bf90e(0x282)][_0x3bf90e(0x271)][_0x3bf90e(0x27f)]('user-join',{'id':_0x30dca6,'metaData':_0x15dd72,'remoteConnections':_0x21b9c2});break;case _0x16f74['NodeType'][_0x3bf90e(0x1ae)]:this[_0x3bf90e(0x282)][_0x3bf90e(0x271)][_0x3bf90e(0x27f)]('agent-join',{'id':_0x30dca6,'metaData':_0x15dd72,'remoteConnections':_0x21b9c2});}}['notifyClusterNodeUpdate']({id:_0x3cffbf,metaData:_0x20e3ba,remoteConnections:_0x3560a5}){const _0x434b7a=_0x128a0b;switch(_0x20e3ba['type']){case _0x16f74[_0x434b7a(0x8d0)][_0x434b7a(0x85e)]:this['configs'][_0x434b7a(0x271)][_0x434b7a(0x27f)](_0x434b7a(0x652),{'id':_0x3cffbf,'metaData':_0x20e3ba,'remoteConnections':_0x3560a5});break;case _0x16f74[_0x434b7a(0x8d0)][_0x434b7a(0x1ae)]:this[_0x434b7a(0x282)][_0x434b7a(0x271)][_0x434b7a(0x27f)](_0x434b7a(0x402),{'id':_0x3cffbf,'metaData':_0x20e3ba,'remoteConnections':_0x3560a5});}}['processRank'](){const _0x4e627b=_0x128a0b;if(this['lastProcessRank']||(this['lastProcessRank']=Date[_0x4e627b(0x85a)]()),this[_0x4e627b(0x55a)]){if(Date[_0x4e627b(0x85a)]()-this[_0x4e627b(0x716)]>0x2328)return;clearTimeout(this[_0x4e627b(0x55a)]);}this[_0x4e627b(0x55a)]=setTimeout(async()=>{const _0x2d39fd=_0x4e627b;delete this[_0x2d39fd(0x716)],delete this[_0x2d39fd(0x55a)];const _0x54a48c=this[_0x2d39fd(0x282)][_0x2d39fd(0x8cc)]['getRank']();if(!_0x54a48c)return;const _0x4eebd0=this['graphService'][_0x2d39fd(0xa7a)](this[_0x2d39fd(0x292)][_0x2d39fd(0x3a3)]()[_0x2d39fd(0x388)]);if(this['optimizationLayers']['size']>=_0x4eebd0)return;let _0x2ac1db=0x1;for(;this[_0x2d39fd(0x282)][_0x2d39fd(0x271)]['getConnections']()['length']<this[_0x2d39fd(0x292)][_0x2d39fd(0x97f)]()&&_0x2ac1db<=_0x4eebd0;){if(this[_0x2d39fd(0xaac)]['has'](_0x2ac1db)){_0x2ac1db+=0x1;continue;}const _0x33f460=this[_0x2d39fd(0x292)][_0x2d39fd(0x1fa)](_0x54a48c,_0x2ac1db),_0x198b05=Array[_0x2d39fd(0x1ec)](this['graphService'][_0x2d39fd(0x3a3)]()[_0x2d39fd(0x36b)]())[_0x2d39fd(0x5cf)](_0x12bb14=>_0x12bb14[_0x2d39fd(0x46e)]()===_0x33f460&&_0x12bb14[_0x2d39fd(0x747)]()===_0x18a6b1[_0x2d39fd(0x594)]);if(_0x198b05){try{await this[_0x2d39fd(0x282)][_0x2d39fd(0x271)][_0x2d39fd(0xa36)](_0x198b05[_0x2d39fd(0x993)](),_0x899d67[_0x2d39fd(0x40a)]),this[_0x2d39fd(0xaac)][_0x2d39fd(0x663)](_0x2ac1db,_0x198b05[_0x2d39fd(0x993)]());}catch(_0x3fe8e2){if(!(_0x3fe8e2 instanceof _0x4204a5&&_0x3fe8e2[_0x2d39fd(0x1ce)]===_0x4204a5[_0x2d39fd(0x7f9)][_0x2d39fd(0x7ed)]))throw _0x3fe8e2;_0x265260[_0x2d39fd(0x552)](_0x1367fe[_0x2d39fd(0x9f9)],this['configs'][_0x2d39fd(0x8cc)]['getId'](),_0x198b05[_0x2d39fd(0x993)](),_0x3fe8e2[_0x2d39fd(0x94c)]);}_0x2ac1db+=0x1;}else _0x2ac1db+=0x1;}},0x3e8);}async[_0x128a0b(0x62f)](_0x3ccd29){const _0x2e6f62=_0x128a0b;this[_0x2e6f62(0x3f7)][_0x2e6f62(0x9a0)](this[_0x2e6f62(0x3f7)][_0x2e6f62(0x44a)](_0x3ccd29),0x1);const _0x4bc973=await this[_0x2e6f62(0x41f)]['getAncestors']();for(const _0x48ad1a of _0x4bc973)if(!this[_0x2e6f62(0x3f7)]['includes'](_0x48ad1a)){const _0x3c0c04=Array[_0x2e6f62(0x1ec)](this[_0x2e6f62(0xaac)][_0x2e6f62(0x268)]())[_0x2e6f62(0x5cf)](([,_0x314f1e])=>_0x314f1e===_0x48ad1a);_0x3c0c04&&this[_0x2e6f62(0xaac)]['delete'](_0x3c0c04[0x0]),this[_0x2e6f62(0x282)][_0x2e6f62(0x271)][_0x2e6f62(0xa36)](_0x48ad1a,_0x899d67[_0x2e6f62(0x802)]);}0x0===_0x4bc973['length']&&this['configs'][_0x2e6f62(0x8cc)][_0x2e6f62(0x7ab)](0x1),this[_0x2e6f62(0x3f7)]=_0x4bc973;}async[_0x128a0b(0x1f3)](_0x323698){const _0x59bfd8=_0x128a0b,_0x3fbd28=this[_0x59bfd8(0x282)][_0x59bfd8(0x8cc)][_0x59bfd8(0x46e)]();if(!_0x3fbd28)return;const _0x14317d=this[_0x59bfd8(0x292)][_0x59bfd8(0x76f)](_0x323698);if(!_0x14317d||_0x14317d[_0x59bfd8(0x747)]()===_0x18a6b1['Offline'])return;const _0x4a6e0e=_0x14317d[_0x59bfd8(0x46e)]();if(!_0x4a6e0e||_0x4a6e0e<_0x3fbd28)return;const _0x132dab=this[_0x59bfd8(0x9f4)](this[_0x59bfd8(0x282)]['localNode'][_0x59bfd8(0x2d4)](),_0x3fbd28),_0x25e9da=this[_0x59bfd8(0x9f4)](_0x14317d[_0x59bfd8(0x2d4)](),_0x4a6e0e)[_0x132dab[_0x59bfd8(0x3fd)](([_0x56ec0e])=>_0x56ec0e===_0x323698)];if(!_0x25e9da||this[_0x59bfd8(0x282)][_0x59bfd8(0x8cc)][_0x59bfd8(0x2d4)]()[_0x59bfd8(0x301)](_0x25e9da[0x0]))return;const _0x38b81b=this[_0x59bfd8(0x292)][_0x59bfd8(0x76f)](_0x25e9da[0x0]);if(_0x38b81b&&_0x38b81b[_0x59bfd8(0x747)]()!==_0x18a6b1[_0x59bfd8(0x677)])try{await this['configs'][_0x59bfd8(0x271)][_0x59bfd8(0xa36)](_0x25e9da[0x0],_0x899d67[_0x59bfd8(0x40a)]);const _0x437d3e=Array['from'](this['optimizationLayers'][_0x59bfd8(0x268)]())[_0x59bfd8(0x5cf)](([,_0x2a38c5])=>_0x2a38c5===_0x323698);_0x437d3e&&this[_0x59bfd8(0xaac)][_0x59bfd8(0x663)](_0x437d3e[0x0],_0x25e9da[0x0]);}catch(_0x364344){if(!(_0x364344 instanceof _0x4204a5&&_0x364344[_0x59bfd8(0x1ce)]===_0x4204a5[_0x59bfd8(0x7f9)]['RemoteConnectionExists']))throw _0x364344;_0x265260[_0x59bfd8(0x552)](_0x1367fe[_0x59bfd8(0x9f9)],this[_0x59bfd8(0x282)][_0x59bfd8(0x8cc)][_0x59bfd8(0x993)](),_0x25e9da[0x0],_0x364344[_0x59bfd8(0x94c)]);}}[_0x128a0b(0x9f4)](_0x446e7c,_0x68efc5){const _0x459901=_0x128a0b;return Array['from'](_0x446e7c)[_0x459901(0x959)]((_0xefc1d2,_0x530d2f)=>{const _0x131444=_0x459901,_0x30229d=this['graphService'][_0x131444(0x76f)](_0x530d2f);if(!_0x30229d||_0x30229d['getStatus']()===_0x18a6b1['Offline'])return _0xefc1d2;const _0x33baa1=_0x30229d[_0x131444(0x46e)]();if(!_0x33baa1)return _0xefc1d2;const _0x50e121=_0x33baa1-_0x68efc5;return _0x50e121<=this[_0x131444(0x292)][_0x131444(0x492)]()||_0xefc1d2[_0x131444(0xa98)]([_0x530d2f,_0x50e121]),_0xefc1d2;},[])[_0x459901(0x393)](([,_0x35ef2b],[,_0x1adc66])=>_0x35ef2b-_0x1adc66);}}const _0xe56748=[{'problemType':_0x3b3594[_0x128a0b(0x39f)],'remediations':[{'type':_0x9a52f6[_0x128a0b(0x812)],'component':_0x33579b['Resolution'],'action':_0x1e9e00['Downgrade']},{'type':_0x9a52f6[_0x128a0b(0x61c)],'component':_0x33579b[_0x128a0b(0x9ec)],'action':_0x1e9e00['Downgrade']}]},{'problemType':_0x3b3594['TimePerFrame'],'remediations':[{'type':_0x9a52f6[_0x128a0b(0x812)],'component':_0x33579b['Resolution'],'action':_0x1e9e00['Downgrade']}]},{'problemType':_0x3b3594['AudioVideoDelay'],'remediations':[{'type':_0x9a52f6[_0x128a0b(0x812)],'component':_0x33579b[_0x128a0b(0x9ec)],'action':_0x1e9e00[_0x128a0b(0x289)]}]},{'problemType':_0x3b3594['FramePerSecond'],'remediations':[{'type':_0x9a52f6[_0x128a0b(0x812)],'component':_0x33579b[_0x128a0b(0x9ec)],'action':_0x1e9e00[_0x128a0b(0x289)]}]},{'problemType':_0x3b3594[_0x128a0b(0xaa3)],'remediations':[{'type':_0x9a52f6['Remediation'],'component':_0x33579b[_0x128a0b(0xaa3)],'action':_0x1e9e00[_0x128a0b(0x289)]}]},{'problemType':_0x3b3594[_0x128a0b(0x80c)],'remediations':[{'type':_0x9a52f6[_0x128a0b(0x812)],'component':_0x33579b[_0x128a0b(0xaa3)],'action':_0x1e9e00['Downgrade']}]},{'problemType':_0x3b3594['RoundTripTime'],'remediations':[{'type':_0x9a52f6[_0x128a0b(0x812)],'component':_0x33579b[_0x128a0b(0xaa3)],'action':_0x1e9e00['Downgrade']}]}];class _0x5d1168{['configs'];[_0x128a0b(0x7be)];[_0x128a0b(0x5ca)]=new Map();constructor(_0xb18ac5){const _0x50e87c=_0x128a0b;this[_0x50e87c(0x282)]=_0xb18ac5,this['configs'][_0x50e87c(0x271)]['registerSystemSource'](this);}[_0x128a0b(0x42d)](){const _0x271ea9=_0x128a0b;this['configs'][_0x271ea9(0x271)]['unregisterSystemSource'](this);}[_0x128a0b(0x8fe)](_0x73c081){const _0x30815a=_0x128a0b;this[_0x30815a(0x7be)]=_0x73c081;}[_0x128a0b(0x211)](){delete this['systemTopic'];}[_0x128a0b(0x21d)](_0x345e55){const _0x5b8e01=_0x128a0b;_0x345e55['content'][_0x5b8e01(0x7dd)]===_0x19151c['Problem']&&this[_0x5b8e01(0x2ac)](_0x345e55[_0x5b8e01(0x95d)][_0x5b8e01(0xaae)]);}[_0x128a0b(0x761)](_0x3c913e){const _0x25c21a=_0x128a0b;_0x3c913e[_0x25c21a(0x95d)][_0x25c21a(0x7dd)]===_0x9a52f6[_0x25c21a(0x61c)]&&this[_0x25c21a(0x354)](_0x3c913e['sourceId'],{'type':_0x9a52f6['Remediation'],'component':_0x3c913e[_0x25c21a(0x95d)][_0x25c21a(0xaae)][_0x25c21a(0x2f8)],'action':_0x3c913e['content']['data']['action']});}['handleProblem'](_0x36c868){const _0x5ed810=_0x128a0b,_0x1c0327=_0xe56748[_0x5ed810(0x5cf)](_0x1079ba=>_0x1079ba[_0x5ed810(0x939)]===_0x36c868[_0x5ed810(0x7dd)]);_0x1c0327[_0x5ed810(0xa88)]?.[_0x5ed810(0x8b3)](_0x20575f=>{const _0x1951e1=_0x5ed810;this[_0x1951e1(0x354)](_0x36c868[_0x1951e1(0x6aa)],{'type':_0x36c868['origin']===_0x344238[_0x1951e1(0x20b)]?_0x9a52f6[_0x1951e1(0x812)]:_0x9a52f6[_0x1951e1(0x61c)],'component':_0x20575f[_0x1951e1(0x2f8)],'action':_0x20575f[_0x1951e1(0xa33)]});});}[_0x128a0b(0x354)](_0x3dc761,_0x123e6){const _0x38e4ce=_0x128a0b;if(_0x123e6[_0x38e4ce(0x7dd)]===_0x9a52f6['Remediation']){const _0x3bd91e=Date[_0x38e4ce(0x85a)](),_0x3b0df1=this[_0x38e4ce(0x5ca)][_0x38e4ce(0x8b0)](_0x3dc761);if(_0x3b0df1&&_0x3bd91e-_0x3b0df1<0x1388)return;this[_0x38e4ce(0x5ca)][_0x38e4ce(0x663)](_0x3dc761,_0x3bd91e);}_0x265260['log'](_0x1367fe[_0x38e4ce(0x812)],'Apply\x20remediation',_0x123e6),_0x265260[_0x38e4ce(0x229)]('remediation',{'clusterId':this[_0x38e4ce(0x282)]['clusterId'],'nodeId':this[_0x38e4ce(0x282)][_0x38e4ce(0x8cc)][_0x38e4ce(0x993)](),'nodeType':this['configs'][_0x38e4ce(0x8cc)][_0x38e4ce(0x7dd)],'remoteId':_0x3dc761,'data':{'type':_0x123e6[_0x38e4ce(0x7dd)],'component':_0x123e6[_0x38e4ce(0x2f8)],'action':_0x123e6['action']}});let _0x43d1a3,_0x3e08a3=_0x4b0f68;_0x123e6['type']===_0x9a52f6[_0x38e4ce(0x61c)]&&(_0x3e08a3=this[_0x38e4ce(0x282)][_0x38e4ce(0x8cc)][_0x38e4ce(0x993)](),_0x43d1a3=[_0x3dc761]),this[_0x38e4ce(0x7be)]['publish']({'sourceId':_0x3e08a3,'destinationIds':_0x43d1a3,'messageType':_0x562b7c[_0x38e4ce(0x812)],'content':{'type':_0x123e6[_0x38e4ce(0x7dd)],'targetId':_0x3dc761,'data':_0x123e6}});}}const _0x55d9bf=0x3e8,_0x154f95=0x7530,_0x3b3dd4=_0x128a0b(0x74f),_0x209340=_0x128a0b(0xa86),_0x4344dd=_0x128a0b(0x2de),_0x26bc65=[_0x3b3dd4,_0x209340],_0x2fe180=[_0x4344dd];class _0x3aeee8{['roundTripTime']=0x0;[_0x128a0b(0x8e5)]=0x0;[_0x128a0b(0x376)]=0x0;[_0x128a0b(0x249)]=0x0;[_0x128a0b(0xb11)]=0x0;[_0x128a0b(0x579)]=0x0;[_0x128a0b(0x50d)]=0x0;['currentBytes']=0x0;[_0x128a0b(0x918)]=0x0;get[_0x128a0b(0x2ba)](){const _0xe1f4ca=_0x128a0b;return this[_0xe1f4ca(0x579)]>0x0&&this[_0xe1f4ca(0x50d)]>0x0&&Date[_0xe1f4ca(0x85a)]()-this[_0xe1f4ca(0x579)]<_0x154f95?(this[_0xe1f4ca(0x739)]-this[_0xe1f4ca(0x918)])/(this[_0xe1f4ca(0x579)]-this[_0xe1f4ca(0x50d)])*0x8*0x3e8:0x0;}[_0x128a0b(0x848)](_0x4735f7){const _0x47e74b=_0x128a0b;switch(_0x4735f7['type']){case _0x4344dd:this[_0x47e74b(0x66c)](_0x4735f7);break;case _0x3b3dd4:this[_0x47e74b(0x29d)](_0x4735f7);break;case _0x209340:this[_0x47e74b(0x37d)](_0x4735f7);}}['getReport'](){const _0x3cbf3c=_0x128a0b;return{'bitrate':this['bitrate'],'packetsLostPerc':this[_0x3cbf3c(0x6e3)](),'roundTripTime':this['roundTripTime'],'jitter':this[_0x3cbf3c(0x376)]};}[_0x128a0b(0x66c)](_0x596721){const _0x4f67dd=_0x128a0b;this[_0x4f67dd(0x418)](_0x596721[_0x4f67dd(0xa43)]),this[_0x4f67dd(0x337)](_0x596721[_0x4f67dd(0x2d6)]),this[_0x4f67dd(0xb11)]=_0x596721['packetsReceived'],this[_0x4f67dd(0x249)]=_0x596721['packetsLost'],void 0x0!==_0x596721[_0x4f67dd(0x376)]?this[_0x4f67dd(0x376)]=_0x596721[_0x4f67dd(0x376)]:this['jitter']=0x0,void 0x0!==_0x596721[_0x4f67dd(0x8e5)]?this[_0x4f67dd(0x8e5)]=_0x596721['estimatedPlayoutTimestamp']:this[_0x4f67dd(0x8e5)]=0x0;}[_0x128a0b(0x29d)](_0x1c9aa6){const _0x54aed6=_0x128a0b;this[_0x54aed6(0x418)](_0x1c9aa6[_0x54aed6(0x9dc)]),this[_0x54aed6(0x337)](_0x1c9aa6['timestamp']),this[_0x54aed6(0xb11)]=_0x1c9aa6[_0x54aed6(0x247)];}[_0x128a0b(0x37d)](_0x1e218c){const _0x49a78b=_0x128a0b;this['roundTripTime']=0x3e8*_0x1e218c[_0x49a78b(0x832)],void 0x0!==_0x1e218c['jitter']?this[_0x49a78b(0x376)]=_0x1e218c[_0x49a78b(0x376)]:this[_0x49a78b(0x376)]=0x0;}[_0x128a0b(0x6e3)](){const _0x5eca74=_0x128a0b;return this[_0x5eca74(0xb11)]>0x0?this[_0x5eca74(0x249)]/this[_0x5eca74(0xb11)]:0x0;}[_0x128a0b(0x337)](_0x4f5e12){const _0x4e8472=_0x128a0b;_0x4f5e12>this[_0x4e8472(0x579)]&&(this[_0x4e8472(0x50d)]=this['currentTimestamp'],this[_0x4e8472(0x579)]=_0x4f5e12);}[_0x128a0b(0x418)](_0x4358cf){const _0x58cfbb=_0x128a0b;this[_0x58cfbb(0x918)]=this[_0x58cfbb(0x739)],this['currentBytes']=_0x4358cf;}}class _0x1981ae extends _0x3aeee8{}class _0x13fe0f extends _0x3aeee8{[_0x128a0b(0x335)]=0x0;[_0x128a0b(0xa27)]=0x0;[_0x128a0b(0x957)]=0x0;['currentFrames']=0x0;['previousFrames']=0x0;get[_0x128a0b(0xaa4)](){const _0x32339b=_0x128a0b;return this['currentTimestamp']>0x0&&this[_0x32339b(0x50d)]>0x0&&Date[_0x32339b(0x85a)]()-this[_0x32339b(0x579)]<_0x154f95?(this[_0x32339b(0x588)]-this[_0x32339b(0x909)])/(this[_0x32339b(0x579)]-this[_0x32339b(0x50d)])*0x3e8:0x0;}get['timePerFrame'](){const _0x5a5a9d=_0x128a0b;return this[_0x5a5a9d(0x335)]&&this[_0x5a5a9d(0x588)]&&this[_0x5a5a9d(0x588)]>0x0?this[_0x5a5a9d(0x335)]/this[_0x5a5a9d(0x588)]:0x0;}set[_0x128a0b(0x222)](_0x2c6982){const _0x2e728c=_0x128a0b;this['previousFrames']=this[_0x2e728c(0x588)],this[_0x2e728c(0x588)]=_0x2c6982;}['getReport'](){const _0x1ee399=_0x128a0b;return{...super[_0x1ee399(0x467)](),'FPS':this[_0x1ee399(0xaa4)],'timePerFrame':this['timePerFrame'],'frameWidth':this[_0x1ee399(0xa27)],'frameHeight':this[_0x1ee399(0x957)]};}[_0x128a0b(0x66c)](_0x5717cd){const _0x4d0db2=_0x128a0b;super[_0x4d0db2(0x66c)](_0x5717cd),this['frameTime']=_0x5717cd[_0x4d0db2(0x73c)],this[_0x4d0db2(0x222)]=_0x5717cd[_0x4d0db2(0x5f6)],this[_0x4d0db2(0xa27)]=_0x5717cd[_0x4d0db2(0xa27)],this[_0x4d0db2(0x957)]=_0x5717cd['frameHeight'];}[_0x128a0b(0x29d)](_0x463a78){const _0x3a7278=_0x128a0b;super[_0x3a7278(0x29d)](_0x463a78),this[_0x3a7278(0x335)]=_0x463a78[_0x3a7278(0x938)],this['frames']=_0x463a78[_0x3a7278(0x7a5)],this['frameWidth']=_0x463a78['frameWidth'],this[_0x3a7278(0x957)]=_0x463a78['frameHeight'];}}class _0x4bc272{[_0x128a0b(0x4a1)]=new _0x1981ae();[_0x128a0b(0x1fb)]=new _0x13fe0f();get[_0x128a0b(0x2ba)](){const _0x271ada=_0x128a0b;return this[_0x271ada(0x4a1)][_0x271ada(0x2ba)]+this[_0x271ada(0x1fb)][_0x271ada(0x2ba)];}['processReports'](_0x2eb0ee){const _0x3667f1=_0x128a0b;return _0x2eb0ee['forEach'](_0x41b766=>{const _0x6d2199=a0_0xdea0;switch(_0x41b766[_0x6d2199(0x338)]){case _0x6d2199(0x4a1):this[_0x6d2199(0x4a1)]['processReport'](_0x41b766);break;case _0x6d2199(0x1fb):this[_0x6d2199(0x1fb)][_0x6d2199(0x848)](_0x41b766);}}),this[_0x3667f1(0x467)]();}['getReport'](){const _0xea7b0=_0x128a0b;return{'audio':this[_0xea7b0(0x4a1)][_0xea7b0(0x467)](),'video':this['video'][_0xea7b0(0x467)](),'roundTripTime':this[_0xea7b0(0x1b1)](),'AudioVideoDelay':this[_0xea7b0(0xaa2)](),'bitrate':this[_0xea7b0(0x2ba)]};}[_0x128a0b(0x1b1)](){const _0xe2496c=_0x128a0b;return Math[_0xe2496c(0x5fc)]((this[_0xe2496c(0x4a1)]['roundTripTime']+this['video'][_0xe2496c(0x832)])/0x2);}[_0x128a0b(0xaa2)](){const _0x1a7ac7=_0x128a0b;return this[_0x1a7ac7(0x4a1)][_0x1a7ac7(0x8e5)]-this[_0x1a7ac7(0x1fb)]['estimatedPlayoutTimestamp'];}}class _0x24886e{[_0x128a0b(0x4b1)]=0x0;[_0x128a0b(0xad3)]=0x0;['receiverCurrentTimestamp']=0x0;[_0x128a0b(0x838)]=0x0;[_0x128a0b(0x374)]=0x0;[_0x128a0b(0x811)]=0x0;[_0x128a0b(0x6fb)]=0x0;[_0x128a0b(0x4c0)]=0x0;[_0x128a0b(0x4c2)]=0x0;[_0x128a0b(0x613)]=0x0;[_0x128a0b(0x191)]=0x0;[_0x128a0b(0x320)]=0x0;[_0x128a0b(0x832)]=0x0;get[_0x128a0b(0x2ba)](){const _0x2d8f7b=_0x128a0b;return this[_0x2d8f7b(0x927)]+this['receiverBitrate'];}get[_0x128a0b(0x927)](){const _0x3c2938=_0x128a0b;return this[_0x3c2938(0x4b1)]>0x0&&this[_0x3c2938(0xad3)]>0x0&&Date[_0x3c2938(0x85a)]()-this['senderCurrentTimestamp']<_0x154f95?(this[_0x3c2938(0x374)]-this[_0x3c2938(0x811)])/(this[_0x3c2938(0x4b1)]-this[_0x3c2938(0xad3)])*0x8*0x3e8:0x0;}get['receiverBitrate'](){const _0xd22cb9=_0x128a0b;return this[_0xd22cb9(0x609)]>0x0&&this[_0xd22cb9(0x838)]>0x0&&Date['now']()-this[_0xd22cb9(0x609)]<_0x154f95?(this[_0xd22cb9(0x6fb)]-this[_0xd22cb9(0x4c0)])/(this[_0xd22cb9(0x609)]-this[_0xd22cb9(0x838)])*0x8*0x3e8:0x0;}[_0x128a0b(0x848)](_0x1a7140){const _0x54f7db=_0x128a0b;switch(_0x1a7140[_0x54f7db(0x640)]){case _0x344238[_0x54f7db(0x20b)]:this[_0x54f7db(0x190)](_0x1a7140);break;case _0x344238['Receiver']:this[_0x54f7db(0x7ad)](_0x1a7140);}}[_0x128a0b(0x467)](){const _0x438bbd=_0x128a0b;return{'bitrate':this[_0x438bbd(0x2ba)],'senderBitrate':this[_0x438bbd(0x927)],'receiverBitrate':this[_0x438bbd(0xacb)],'totalBytes':this['getTotalBytes'](),'senderTotalBytes':this[_0x438bbd(0x914)](),'receiverTotalBytes':this[_0x438bbd(0x978)](),'totalMessages':this[_0x438bbd(0x4c2)]+this[_0x438bbd(0x613)],'senderTotalMessages':this[_0x438bbd(0x4c2)],'receiverTotalMessages':this[_0x438bbd(0x613)],'timeProcessing':this[_0x438bbd(0x191)]+this['receiverTimeProcessing'],'senderTimeProcessing':this[_0x438bbd(0x191)],'receiverTimeProcessing':this[_0x438bbd(0x320)],'roundTripTime':this[_0x438bbd(0x832)]};}[_0x128a0b(0x81a)](){const _0x1a0f29=_0x128a0b;return this[_0x1a0f29(0x374)]+this[_0x1a0f29(0x6fb)];}['getSenderTotalBytes'](){const _0xf99611=_0x128a0b;return this[_0xf99611(0x374)];}[_0x128a0b(0x978)](){return this['receiverCurrentBytes'];}[_0x128a0b(0x190)](_0x1566af){const _0x1c1610=_0x128a0b;this[_0x1c1610(0x5ad)](_0x1566af['timestamp']),this[_0x1c1610(0x418)](_0x1566af[_0x1c1610(0x9dc)]),this[_0x1c1610(0x4c2)]=_0x1566af[_0x1c1610(0x5e4)],this[_0x1c1610(0x191)]=_0x1566af[_0x1c1610(0x837)],this[_0x1c1610(0x832)]=_0x1566af[_0x1c1610(0x832)];}[_0x128a0b(0x7ad)](_0x579a3d){const _0x5a6d0f=_0x128a0b;this[_0x5a6d0f(0x7fc)](_0x579a3d[_0x5a6d0f(0x2d6)]),this[_0x5a6d0f(0x32e)](_0x579a3d[_0x5a6d0f(0xa43)]),this['receiverTotalMessages']=_0x579a3d[_0x5a6d0f(0x68a)],this[_0x5a6d0f(0x320)]=_0x579a3d[_0x5a6d0f(0x1d0)];}[_0x128a0b(0x5ad)](_0x349649){const _0x1c7c62=_0x128a0b;_0x349649>this[_0x1c7c62(0x4b1)]&&(this[_0x1c7c62(0xad3)]=this[_0x1c7c62(0x4b1)],this[_0x1c7c62(0x4b1)]=_0x349649);}[_0x128a0b(0x7fc)](_0x272772){const _0x4a7aa6=_0x128a0b;_0x272772>this[_0x4a7aa6(0x609)]&&(this[_0x4a7aa6(0x838)]=this[_0x4a7aa6(0x609)],this[_0x4a7aa6(0x609)]=_0x272772);}['setBytes'](_0x1a864d){const _0x4c452b=_0x128a0b;this['senderPreviousBytes']=this[_0x4c452b(0x374)],this[_0x4c452b(0x374)]=_0x1a864d;}[_0x128a0b(0x32e)](_0x4af277){const _0x2ba3a4=_0x128a0b;this[_0x2ba3a4(0x4c0)]=this[_0x2ba3a4(0x6fb)],this[_0x2ba3a4(0x6fb)]=_0x4af277;}}class _0x5d9d42{[_0x128a0b(0x34a)]=new Map();[_0x128a0b(0x82a)]=new Map();[_0x128a0b(0x610)]=new _0x24886e();get[_0x128a0b(0x927)](){const _0x3219e3=_0x128a0b;let _0x14fdb4=0x0;return this[_0x3219e3(0x34a)][_0x3219e3(0x8b3)](_0x297510=>{const _0x74eba0=_0x3219e3;_0x14fdb4+=_0x297510[_0x74eba0(0x2ba)];}),_0x14fdb4+=this['dataChannel'][_0x3219e3(0x927)],_0x14fdb4;}get[_0x128a0b(0xacb)](){const _0xc8e003=_0x128a0b;let _0xcf814f=0x0;return this['receiverStreams'][_0xc8e003(0x8b3)](_0x54095d=>{const _0x429e02=_0xc8e003;_0xcf814f+=_0x54095d[_0x429e02(0x2ba)];}),_0xcf814f+=this[_0xc8e003(0x610)][_0xc8e003(0xacb)],_0xcf814f;}get[_0x128a0b(0x2ba)](){const _0x5432c8=_0x128a0b;return this[_0x5432c8(0x927)]+this[_0x5432c8(0xacb)];}['processReports'](_0x5a07cb,_0x359b38){const _0xc0e628=_0x128a0b,_0x358cec=[],_0x44fd79=[];return _0x5a07cb instanceof Array?_0x5a07cb['forEach'](_0x49303e=>{const _0x49eb65=a0_0xdea0;_0x49303e[_0x49eb65(0x8b3)](_0x54debf=>{const _0x14fb55=_0x49eb65;_0x2fe180[_0x14fb55(0x6b7)](_0x54debf[_0x14fb55(0x7dd)])&&_0x358cec[_0x14fb55(0xa98)](_0x54debf),_0x26bc65[_0x14fb55(0x6b7)](_0x54debf['type'])&&_0x44fd79[_0x14fb55(0xa98)](_0x54debf);});}):this[_0xc0e628(0x610)][_0xc0e628(0x848)](_0x5a07cb),_0x358cec['length']>0x0&&_0x359b38?{...this[_0xc0e628(0xa50)](_0x359b38,_0x358cec),'origin':_0x344238[_0xc0e628(0x7b9)],'streamId':_0x359b38}:_0x44fd79['length']>0x0&&_0x359b38?{...this[_0xc0e628(0x358)](_0x359b38,_0x44fd79),'origin':_0x344238[_0xc0e628(0x20b)],'streamId':_0x359b38}:void 0x0;}[_0x128a0b(0x467)](){const _0x50b7a7=_0x128a0b,_0x3f1da9={};this[_0x50b7a7(0x34a)][_0x50b7a7(0x8b3)]((_0x5d8799,_0x50980c)=>{const _0x5aad1e=_0x50b7a7;_0x3f1da9[_0x50980c]=_0x5d8799[_0x5aad1e(0x467)]();});const _0xfe8306={};return this[_0x50b7a7(0x82a)]['forEach']((_0x248fc1,_0x1062d2)=>{_0xfe8306[_0x1062d2]=_0x248fc1['getReport']();}),{'bitrate':this[_0x50b7a7(0x2ba)],'senderBitrate':this[_0x50b7a7(0x927)],'receiverBitrate':this[_0x50b7a7(0xacb)],'senderStreams':_0x3f1da9,'receiverStreams':_0xfe8306,'dataChannel':this[_0x50b7a7(0x610)][_0x50b7a7(0x467)]()};}[_0x128a0b(0xa50)](_0x4340ad,_0x52133c){const _0x3fa421=_0x128a0b;return this['receiverStreams']['has'](_0x4340ad)||this[_0x3fa421(0x82a)][_0x3fa421(0x663)](_0x4340ad,new _0x4bc272()),this[_0x3fa421(0x82a)][_0x3fa421(0x8b0)](_0x4340ad)[_0x3fa421(0x4a5)](_0x52133c);}[_0x128a0b(0x358)](_0x23815d,_0x55a3af){const _0xb7c7eb=_0x128a0b;return this['senderStreams']['has'](_0x23815d)||this[_0xb7c7eb(0x34a)]['set'](_0x23815d,new _0x4bc272()),this[_0xb7c7eb(0x34a)][_0xb7c7eb(0x8b0)](_0x23815d)[_0xb7c7eb(0x4a5)](_0x55a3af);}}class _0x13504e{['nodes']=new Map();['scheduleTime']=0x0;[_0x128a0b(0x804)]=0x0;[_0x128a0b(0x557)]=new Map();[_0x128a0b(0x51e)]=new Map();[_0x128a0b(0x95c)]=new Map();['generativeAIContexts']=new Map();[_0x128a0b(0x667)]=new Map();[_0x128a0b(0x97b)]=new Map();[_0x128a0b(0x96a)]=new Map();[_0x128a0b(0x38d)]=new Map();[_0x128a0b(0x4c2)]=new Map();[_0x128a0b(0x613)]=new Map();[_0x128a0b(0x191)]=new Map();['receiverTimeProcessing']=new Map();[_0x128a0b(0x23a)]=new Map();[_0x128a0b(0x7be)];['getReport'](){const _0x24ea4d=_0x128a0b,_0x4fdda0={};this['nodes'][_0x24ea4d(0x8b3)]((_0x3eb75c,_0x2e21f9)=>{const _0x53c24c=_0x24ea4d;_0x4fdda0[_0x2e21f9]=_0x3eb75c[_0x53c24c(0x467)]();});let _0x308cfb=0x0;this[_0x24ea4d(0x191)]['forEach'](_0x3bc1b8=>{_0x308cfb+=_0x3bc1b8;});let _0x49b3e0=0x0;this[_0x24ea4d(0x320)]['forEach'](_0xa0dad6=>{_0x49b3e0+=_0xa0dad6;});const _0x2fe4b7=_0x308cfb+_0x49b3e0;let _0x31c4e8={'messages':{'total':0x0}};this[_0x24ea4d(0x23a)][_0x24ea4d(0x8b3)](_0x309e6c=>{const _0x4022bb=_0x24ea4d;Object[_0x4022bb(0x321)](_0x309e6c)[_0x4022bb(0x8b3)](_0x3db859=>{const _0xa1d38e=_0x4022bb;_0x31c4e8[_0x3db859]||(_0x31c4e8[_0x3db859]={}),Object[_0xa1d38e(0x321)](_0x309e6c[_0x3db859])['forEach'](_0x32ee9b=>{_0x31c4e8[_0x3db859][_0x32ee9b]||(_0x31c4e8[_0x3db859][_0x32ee9b]=0x0),_0x31c4e8[_0x3db859][_0x32ee9b]+=_0x309e6c[_0x3db859][_0x32ee9b];});});});let _0x2fc584=0x0,_0x2d14f4=0x0,_0x1509dc=0x0,_0x23893c=0x0,_0x48ec6e=0x0;return this['pubsubTopics'][_0x24ea4d(0x8b3)](_0x1779c6=>{const _0x352fc5=_0x24ea4d;_0x2d14f4+=_0x1779c6[_0x352fc5(0x5e4)],_0x1509dc+=_0x1779c6[_0x352fc5(0x68a)],_0x23893c+=_0x1779c6['bytesSent'],_0x48ec6e+=_0x1779c6[_0x352fc5(0xa43)];}),this[_0x24ea4d(0x51e)][_0x24ea4d(0x8b3)](_0x449687=>{const _0x26b34e=_0x24ea4d;_0x2fc584+=_0x449687[_0x26b34e(0x20f)],_0x2d14f4+=_0x449687[_0x26b34e(0x5e4)],_0x1509dc+=_0x449687['messagesReceived'],_0x23893c+=_0x449687[_0x26b34e(0x9dc)],_0x48ec6e+=_0x449687[_0x26b34e(0xa43)];}),this['keyValueDatabases'][_0x24ea4d(0x8b3)](_0x575e31=>{const _0x4b6a8f=_0x24ea4d;_0x2fc584+=_0x575e31[_0x4b6a8f(0x20f)],_0x2d14f4+=_0x575e31[_0x4b6a8f(0x5e4)],_0x1509dc+=_0x575e31[_0x4b6a8f(0x68a)],_0x23893c+=_0x575e31[_0x4b6a8f(0x9dc)],_0x48ec6e+=_0x575e31[_0x4b6a8f(0xa43)];}),this[_0x24ea4d(0x45c)]['forEach'](_0x1f7b95=>{const _0x3b8d4e=_0x24ea4d;_0x2fc584+=_0x1f7b95['storage'],_0x2d14f4+=_0x1f7b95[_0x3b8d4e(0x5e4)],_0x1509dc+=_0x1f7b95['messagesReceived'],_0x23893c+=_0x1f7b95[_0x3b8d4e(0x9dc)],_0x48ec6e+=_0x1f7b95['bytesReceived'];}),this[_0x24ea4d(0x667)][_0x24ea4d(0x8b3)](_0x348cd4=>{const _0x198557=_0x24ea4d;_0x2fc584+=_0x348cd4[_0x198557(0x20f)],_0x2d14f4+=_0x348cd4[_0x198557(0x5e4)],_0x1509dc+=_0x348cd4[_0x198557(0x68a)],_0x23893c+=_0x348cd4[_0x198557(0x9dc)],_0x48ec6e+=_0x348cd4[_0x198557(0xa43)];}),this[_0x24ea4d(0x97b)][_0x24ea4d(0x8b3)](_0x48f3e7=>{const _0x48d02c=_0x24ea4d;_0x2fc584+=_0x48f3e7['storage'],_0x2d14f4+=_0x48f3e7['messagesSent'],_0x1509dc+=_0x48f3e7[_0x48d02c(0x68a)],_0x23893c+=_0x48f3e7[_0x48d02c(0x9dc)],_0x48ec6e+=_0x48f3e7[_0x48d02c(0xa43)];}),this[_0x24ea4d(0x96a)][_0x24ea4d(0x8b3)](_0x42fce2=>{const _0x69471d=_0x24ea4d;_0x2fc584+=_0x42fce2[_0x69471d(0x20f)],_0x2d14f4+=_0x42fce2['messagesSent'],_0x1509dc+=_0x42fce2[_0x69471d(0x68a)],_0x23893c+=_0x42fce2[_0x69471d(0x9dc)],_0x48ec6e+=_0x42fce2[_0x69471d(0xa43)];}),{'STVolatility':this['getSTVolatility'](),'DTVolatility':this[_0x24ea4d(0x798)](),'bitrate':this[_0x24ea4d(0x382)](),'senderBitrate':this[_0x24ea4d(0x62a)](),'receiverBitrate':this[_0x24ea4d(0x783)](),'totalStorageSize':_0x2fc584,'totalMessages':_0x2d14f4+_0x1509dc,'totalMessagesSent':_0x2d14f4,'totalMessagesReceived':_0x1509dc,'totalBytes':_0x23893c+_0x48ec6e,'totalBytesSent':_0x23893c,'totalBytesReceived':_0x48ec6e,'systemMessages':_0x31c4e8,'timeProcessing':_0x2fe4b7,'nodes':_0x4fdda0,'pubsubTopics':Object[_0x24ea4d(0xafc)](this['pubsubTopics']),'objectStores':Object[_0x24ea4d(0xafc)](this[_0x24ea4d(0x51e)]),'keyValueDatabases':Object[_0x24ea4d(0xafc)](this['keyValueDatabases']),'generativeAIContexts':Object['fromEntries'](this['generativeAIContexts']),'generativeAIWorkers':Object['fromEntries'](this[_0x24ea4d(0x667)]),'vectorDatabases':Object[_0x24ea4d(0xafc)](this['vectorDatabases']),'graphDatabases':Object[_0x24ea4d(0xafc)](this[_0x24ea4d(0x96a)]),'externalStorages':Object['fromEntries'](this[_0x24ea4d(0x38d)])};}['addRemoteNode'](_0x3668eb){const _0x1b3dff=_0x128a0b;this[_0x1b3dff(0x681)][_0x1b3dff(0x663)](_0x3668eb,new _0x5d9d42());}['removeRemoteNode'](_0x36775a){const _0x926171=_0x128a0b;this[_0x926171(0x681)][_0x926171(0x560)](_0x36775a);}[_0x128a0b(0x4a5)](_0x38f153,_0x9b2f92,_0x5f1bdd){const _0x53837e=_0x128a0b;_0x9b2f92 instanceof Array||this[_0x53837e(0x5a4)](_0x38f153,_0x9b2f92);const _0x380e0d=this[_0x53837e(0x681)][_0x53837e(0x8b0)](_0x38f153)?.[_0x53837e(0x4a5)](_0x9b2f92,_0x5f1bdd);_0x380e0d&&this[_0x53837e(0x7be)][_0x53837e(0x56d)]({'sourceId':_0x4b0f68,'messageType':_0x562b7c[_0x53837e(0x1a6)],'content':{'type':_0x222008['StreamReport'],'data':{..._0x380e0d,'nodeId':_0x38f153}}});}[_0x128a0b(0x5bb)](_0x16429d){const _0x99dd61=_0x128a0b;this[_0x99dd61(0xa06)](_0x16429d[_0x99dd61(0x392)]),this[_0x99dd61(0x3c0)](_0x16429d['durationTime']),this['systemTopic']['publish']({'sourceId':_0x4b0f68,'messageType':_0x562b7c[_0x99dd61(0x1a6)],'content':{'type':_0x222008[_0x99dd61(0x8a4)],'data':{'STVolatility':this[_0x99dd61(0x66d)](),'DTVolatility':this[_0x99dd61(0x798)]()}}});}[_0x128a0b(0x6d8)](_0x5afa65,_0x58f402,_0x239dfe){const _0x1b1557=_0x128a0b;switch(_0x58f402){case _0x267eb0[_0x1b1557(0x2c8)]:this[_0x1b1557(0x557)][_0x1b1557(0x663)](_0x5afa65,_0x239dfe);break;case _0x267eb0['ObjectStoreStats']:this[_0x1b1557(0x51e)][_0x1b1557(0x663)](_0x5afa65,_0x239dfe);break;case _0x267eb0[_0x1b1557(0x7c5)]:this[_0x1b1557(0x95c)][_0x1b1557(0x663)](_0x5afa65,_0x239dfe);break;case _0x267eb0[_0x1b1557(0x86e)]:this[_0x1b1557(0x45c)][_0x1b1557(0x663)](_0x5afa65,_0x239dfe);break;case _0x267eb0[_0x1b1557(0x6a1)]:this[_0x1b1557(0x667)][_0x1b1557(0x663)](_0x5afa65,_0x239dfe);break;case _0x267eb0[_0x1b1557(0x4fa)]:this['vectorDatabases'][_0x1b1557(0x663)](_0x5afa65,_0x239dfe);break;case _0x267eb0[_0x1b1557(0x1bb)]:this[_0x1b1557(0x96a)][_0x1b1557(0x663)](_0x5afa65,_0x239dfe);break;case _0x267eb0['ExternalStorageStats']:this[_0x1b1557(0x38d)][_0x1b1557(0x663)](_0x5afa65,_0x239dfe);}}['registerSystemPublisher'](_0x2da3e5){const _0xa5df3c=_0x128a0b;this[_0xa5df3c(0x7be)]=_0x2da3e5;}[_0x128a0b(0x211)](){delete this['systemTopic'];}[_0x128a0b(0x66d)](){const _0x264a7f=_0x128a0b;return this['scheduleTime']>0x0&&this[_0x264a7f(0x917)]-_0x55d9bf>0x0?(this['scheduleTime']-_0x55d9bf)/_0x55d9bf:0x0;}['getDTVolatility'](){const _0x21297a=_0x128a0b;return this[_0x21297a(0x804)]>0x0&&this[_0x21297a(0x804)]-0x64>0x0?(this['durationTime']-0x64)/0x64:0x0;}[_0x128a0b(0x62a)](){const _0x1b3e6e=_0x128a0b;let _0x5664d2=0x0;return this[_0x1b3e6e(0x681)]['forEach'](_0x4372d1=>{_0x5664d2+=_0x4372d1['senderBitrate'];}),_0x5664d2;}[_0x128a0b(0x783)](){const _0x74afd5=_0x128a0b;let _0x5368be=0x0;return this[_0x74afd5(0x681)][_0x74afd5(0x8b3)](_0x5ea49e=>{const _0x23050a=_0x74afd5;_0x5368be+=_0x5ea49e[_0x23050a(0xacb)];}),_0x5368be;}[_0x128a0b(0x382)](){const _0x54adf5=_0x128a0b;let _0x571b4b=0x0;return this[_0x54adf5(0x681)]['forEach'](_0x1db8a8=>{_0x571b4b+=_0x1db8a8['bitrate'];}),_0x571b4b;}[_0x128a0b(0xa06)](_0x39ef49){this['scheduleTime']=_0x39ef49;}[_0x128a0b(0x3c0)](_0x12c2c5){const _0x29180b=_0x128a0b;this[_0x29180b(0x804)]=_0x12c2c5;}['processDataChannelReport'](_0x37a965,_0x46bc70){const _0x89ce9b=_0x128a0b;switch(_0x46bc70[_0x89ce9b(0x640)]){case _0x344238[_0x89ce9b(0x20b)]:this['processSenderReport'](_0x37a965,_0x46bc70);break;case _0x344238[_0x89ce9b(0x7b9)]:this[_0x89ce9b(0x7ad)](_0x37a965,_0x46bc70);}}[_0x128a0b(0x190)](_0x5e5c14,_0xf67daa){const _0x14c9be=_0x128a0b;this[_0x14c9be(0x4c2)][_0x14c9be(0x663)](_0x5e5c14,_0xf67daa[_0x14c9be(0x5e4)]),this[_0x14c9be(0x191)][_0x14c9be(0x663)](_0x5e5c14,_0xf67daa[_0x14c9be(0x837)]);}[_0x128a0b(0x7ad)](_0x49493c,_0x5b7f5a){const _0x3d95b5=_0x128a0b;this['receiverTotalMessages']['set'](_0x49493c,_0x5b7f5a[_0x3d95b5(0x68a)]),this[_0x3d95b5(0x320)]['set'](_0x49493c,_0x5b7f5a[_0x3d95b5(0x1d0)]),this['systemMessages'][_0x3d95b5(0x663)](_0x49493c,_0x5b7f5a[_0x3d95b5(0x23a)]);}}class _0x1ce8d4{['configs'];[_0x128a0b(0x18a)]=new Set();[_0x128a0b(0x9a3)];[_0x128a0b(0x1ca)];[_0x128a0b(0x87b)];[_0x128a0b(0x377)]=new _0x13504e();constructor(_0x3b77d4){const _0xe3c129=_0x128a0b;this[_0xe3c129(0x282)]=_0x3b77d4,this[_0xe3c129(0x282)][_0xe3c129(0x271)][_0xe3c129(0x3cc)](this[_0xe3c129(0x377)]),this[_0xe3c129(0x1ca)]=this[_0xe3c129(0xab3)](),this[_0xe3c129(0x87b)]=this[_0xe3c129(0x697)]();}[_0x128a0b(0x42d)](){const _0x3ea707=_0x128a0b;this[_0x3ea707(0x282)][_0x3ea707(0x271)][_0x3ea707(0xa2a)](this[_0x3ea707(0x377)]),this[_0x3ea707(0x87b)](),this[_0x3ea707(0x1ca)]();}['addRemoteNode'](_0x518100){const _0x26659d=_0x128a0b;this[_0x26659d(0x18a)][_0x26659d(0x368)](_0x518100),this[_0x26659d(0x377)][_0x26659d(0x607)](_0x518100);}[_0x128a0b(0x91f)](_0x236fa7){const _0x1854b5=_0x128a0b;this[_0x1854b5(0x18a)]['delete'](_0x236fa7),this[_0x1854b5(0x377)][_0x1854b5(0x91f)](_0x236fa7);}['handlePeerConnectionSystemEvents'](_0xa289a4){const _0x2f4fb6=_0x128a0b;if(_0xa289a4[_0x2f4fb6(0x95d)][_0x2f4fb6(0x7dd)]===_0x303120[_0x2f4fb6(0x1a6)]){const {nodeId:_0x57a28a,streamId:_0x2a2e47,stats:_0x1a3c1b}=_0xa289a4[_0x2f4fb6(0x95d)];this[_0x2f4fb6(0x377)]['processReports'](_0x57a28a,_0x1a3c1b,_0x2a2e47);}}['handleContentSystemEvents'](_0x357fc3){const _0x285b88=_0x128a0b;switch(_0x357fc3[_0x285b88(0x95d)][_0x285b88(0x7dd)]){case _0x267eb0[_0x285b88(0x9a6)]:case _0x267eb0[_0x285b88(0x7c5)]:case _0x267eb0[_0x285b88(0x2c8)]:case _0x267eb0[_0x285b88(0x86e)]:case _0x267eb0[_0x285b88(0x6a1)]:case _0x267eb0[_0x285b88(0x4fa)]:case _0x267eb0[_0x285b88(0x1bb)]:case _0x267eb0[_0x285b88(0x611)]:this[_0x285b88(0x377)][_0x285b88(0x6d8)](_0x357fc3[_0x285b88(0x95d)]['label'],_0x357fc3[_0x285b88(0x95d)][_0x285b88(0x7dd)],_0x357fc3[_0x285b88(0x95d)][_0x285b88(0x9fc)]);}}[_0x128a0b(0x697)](){const _0x379d81=_0x128a0b;return _0x52452b[_0x379d81(0x7ec)](()=>{const _0x2f4e77=_0x379d81,_0x396854=this['statsReport']['getReport']();_0x265260['log'](_0x1367fe[_0x2f4e77(0x1a6)],_0x2f4e77(0xa56),_0x396854),(0x0,_0x1b5a26['addDoc'])((0x0,_0x1b5a26[_0x2f4e77(0x952)])(_0x342bc8[_0x2f4e77(0x263)](),_0x2f4e77(0x76b)+this[_0x2f4e77(0x282)]['vendorId']+_0x2f4e77(0x361)),{'clusterId':this[_0x2f4e77(0x282)][_0x2f4e77(0x2cd)],'nodeId':this[_0x2f4e77(0x282)][_0x2f4e77(0x8cc)][_0x2f4e77(0x993)](),'nodeType':this['configs'][_0x2f4e77(0x8cc)]['type'],'timestamp':(0x0,_0x1b5a26['serverTimestamp'])(),'report':_0x396854}),_0x265260[_0x2f4e77(0x229)](_0x2f4e77(0x9fc),{'clusterId':this[_0x2f4e77(0x282)][_0x2f4e77(0x2cd)],'nodeId':this[_0x2f4e77(0x282)][_0x2f4e77(0x8cc)][_0x2f4e77(0x993)](),'nodeType':this[_0x2f4e77(0x282)][_0x2f4e77(0x8cc)]['type'],'data':{'report':_0x396854}});},_0x154f95);}[_0x128a0b(0xab3)](){let _0x24cea9=!0x1,_0x45bd12=Date['now']();return _0x52452b['setInterval'](async()=>{const _0x5a8aba=a0_0xdea0;if(_0x24cea9)return;if(_0x24cea9=!0x0,0x0===this[_0x5a8aba(0x18a)][_0x5a8aba(0x388)])return delete this[_0x5a8aba(0x9a3)],void(_0x24cea9=!0x1);const _0x47f716=Date[_0x5a8aba(0x85a)]();this[_0x5a8aba(0x9d5)]();try{await this[_0x5a8aba(0x282)][_0x5a8aba(0x271)][_0x5a8aba(0x27a)](this[_0x5a8aba(0x9a3)]);}catch(_0x4e181e){}this[_0x5a8aba(0x377)][_0x5a8aba(0x5bb)]({'secheduleTime':_0x47f716-_0x45bd12,'durationTime':Date['now']()-_0x47f716}),_0x45bd12=_0x47f716,_0x24cea9=!0x1;},_0x55d9bf);}[_0x128a0b(0x9d5)](){const _0x27e909=_0x128a0b;let _0x1fa38d,_0x4b53fa=!0x1;this['nextNodeId']&&(this[_0x27e909(0x18a)][_0x27e909(0x301)](this[_0x27e909(0x9a3)])||delete this[_0x27e909(0x9a3)]);for(const _0x168c71 of this[_0x27e909(0x18a)])if(_0x1fa38d||(_0x1fa38d=_0x168c71),this[_0x27e909(0x9a3)]!==_0x168c71){if(_0x4b53fa)return void(this[_0x27e909(0x9a3)]=_0x168c71);}else _0x4b53fa=!0x0,delete this[_0x27e909(0x9a3)];this[_0x27e909(0x9a3)]||(this[_0x27e909(0x9a3)]=_0x1fa38d);}}class _0x1f48d9{[_0x128a0b(0x8f9)];[_0x128a0b(0x849)];['systemTopic'];constructor(_0x38e7b0,_0x152236){const _0x240c20=_0x128a0b;this[_0x240c20(0x8f9)]=_0x38e7b0,this[_0x240c20(0x849)]=_0x152236;}[_0x128a0b(0x8fe)](_0x377777){this['systemTopic']=_0x377777;}[_0x128a0b(0x211)](){const _0x104ec9=_0x128a0b;delete this[_0x104ec9(0x7be)];}}class _0x36ac77 extends _0x1f48d9{['source'];[_0x128a0b(0x849)];['params'];constructor(_0x1afb7f,_0x96c25c,_0x48aae2){const _0x4af01e=_0x128a0b;super(_0x1afb7f,_0x96c25c),this[_0x4af01e(0x8f9)]=_0x1afb7f,this[_0x4af01e(0x849)]=_0x96c25c,this[_0x4af01e(0x5fd)]=_0x48aae2;}[_0x128a0b(0x3b4)](_0x3f69a6,_0xf5adbb,_0x217385){const _0x1a3221=_0x128a0b;if(this['destination'][_0x1a3221(0x6da)]()===_0x16f74[_0x1a3221(0x6f5)][_0x1a3221(0x36d)]){const _0x9ff17a={'type':_0x1bde37['SubscribeMediaStream'],'label':this['destination'][_0x1a3221(0x5d1)](),'ownerId':_0x3f69a6,'trackKinds':_0xf5adbb??this[_0x1a3221(0x849)][_0x1a3221(0xaa6)](),'params':_0x217385};this['systemTopic'][_0x1a3221(0x56d)]({'sourceId':this[_0x1a3221(0x8f9)][_0x1a3221(0x3d1)](),'destinationIds':[this[_0x1a3221(0x8f9)]['getRemoteId']()],'messageType':_0x562b7c['Subscription'],'content':_0x9ff17a}),this['params']=_0x217385;}}[_0x128a0b(0x603)](_0x166b1f,_0x55f27a){const _0x40d9f3=_0x128a0b;if(this['destination'][_0x40d9f3(0x6da)]()===_0x16f74[_0x40d9f3(0x6f5)][_0x40d9f3(0x36d)]){const _0x36c8f7={'type':_0x1bde37['UpdateMediaStream'],'label':this[_0x40d9f3(0x849)][_0x40d9f3(0x5d1)](),'ownerId':_0x166b1f,'params':_0x55f27a};this[_0x40d9f3(0x7be)][_0x40d9f3(0x56d)]({'sourceId':this[_0x40d9f3(0x8f9)][_0x40d9f3(0x3d1)](),'destinationIds':[this[_0x40d9f3(0x8f9)][_0x40d9f3(0x846)]()],'messageType':_0x562b7c['Subscription'],'content':_0x36c8f7}),this[_0x40d9f3(0x5fd)]=_0x55f27a;}}['unsubscribe'](_0x21aa72,_0x4be3f1,_0x184871){const _0x2761ae=_0x128a0b;if(this[_0x2761ae(0x849)][_0x2761ae(0x6da)]()===_0x16f74[_0x2761ae(0x6f5)]['Media']){const _0x96f26d={'type':_0x1bde37[_0x2761ae(0x59c)],'label':this['destination'][_0x2761ae(0x5d1)](),'ownerId':_0x21aa72,'trackKinds':_0x184871??this[_0x2761ae(0x849)]['getAvailableTrackKinds'](),'remainingTracks':_0x4be3f1};this['systemTopic']['publish']({'sourceId':this[_0x2761ae(0x8f9)][_0x2761ae(0x3d1)](),'destinationIds':[this[_0x2761ae(0x8f9)][_0x2761ae(0x846)]()],'messageType':_0x562b7c[_0x2761ae(0x533)],'content':_0x96f26d});}}}class _0x40d0f7{[_0x128a0b(0x899)];[_0x128a0b(0x903)];['tracks'];[_0x128a0b(0x7be)];[_0x128a0b(0x3a8)]=new Set();[_0x128a0b(0x759)]=Date[_0x128a0b(0x85a)]();['params'];[_0x128a0b(0x9fe)]=0x0;constructor(_0x35752a,_0x573b87,_0x4f2f9b,_0x4c1bf4){const _0x394b2d=_0x128a0b;this[_0x394b2d(0x899)]=_0x573b87,this['maxDistance']=_0x4f2f9b,this['tracks']=_0x4c1bf4,_0x35752a[_0x394b2d(0x8b3)](_0x1eb629=>{const _0x54e0bf=_0x394b2d;this[_0x54e0bf(0x3a8)][_0x54e0bf(0x368)]({'nodeId':_0x1eb629,'type':_0x56b813[_0x54e0bf(0xac2)]});});}[_0x128a0b(0x54e)](){const _0x26ba67=_0x128a0b;return this[_0x26ba67(0x4c3)];}[_0x128a0b(0x8fe)](_0x2de9d8){const _0x9a70=_0x128a0b;this[_0x9a70(0x7be)]=_0x2de9d8;}[_0x128a0b(0x211)](){const _0x313162=_0x128a0b;delete this[_0x313162(0x7be)];}[_0x128a0b(0x49e)](_0x5e9b3c,_0x22de43){const _0x4dd7d5=_0x128a0b;this[_0x4dd7d5(0x759)]=Date[_0x4dd7d5(0x85a)](),this[_0x4dd7d5(0x3a8)][_0x4dd7d5(0x9e4)](),_0x5e9b3c[_0x4dd7d5(0x8b3)](_0x546a9b=>{const _0x883db4=_0x4dd7d5;this[_0x883db4(0x3a8)][_0x883db4(0x368)]({'nodeId':_0x546a9b,'type':_0x56b813[_0x883db4(0xac2)]});}),this['retryCount']+=0x1,this[_0x4dd7d5(0x899)]=_0x22de43;}[_0x128a0b(0x528)](_0x3c6a98,_0x120df1,_0x136b3f,_0x5c9665,_0x507667){const _0x2593b3=_0x128a0b;if(this[_0x2593b3(0x9fe)]>0xa)throw new _0x4204a5(_0x4204a5[_0x2593b3(0x7f9)][_0x2593b3(0x1e3)],{'answers':Array[_0x2593b3(0x1ec)](this['answers'])[_0x2593b3(0x8ac)](_0x2d9c39=>({'nodeId':_0x2d9c39[_0x2593b3(0x6aa)],'type':_0x2d9c39['type']}))});const _0x41305b=Array[_0x2593b3(0x1ec)](this[_0x2593b3(0x3a8)])[_0x2593b3(0x8ac)](_0x4938c6=>_0x4938c6['nodeId']);this[_0x2593b3(0x5fd)]=_0x507667,this['systemTopic']['publish']({'sourceId':_0x3c6a98,'destinationIds':_0x41305b,'messageType':_0x562b7c[_0x2593b3(0x533)],'content':{'type':_0x1bde37[_0x2593b3(0xa48)],'label':_0x136b3f,'ownerId':_0x120df1,'trackKinds':_0x5c9665,'params':_0x507667}}),_0x265260[_0x2593b3(0x552)](_0x1367fe[_0x2593b3(0x533)],_0x2593b3(0x8de),_0x3c6a98,_0x41305b);}['handleSubscriptionSystemEvents'](_0x151114,_0x4d7f7a){const _0x4997f3=_0x128a0b;switch(_0x4d7f7a[_0x4997f3(0x7dd)]){case _0x1bde37[_0x4997f3(0x3d5)]:{const _0x49dfd2=this['currentDistance']>=_0x4d7f7a[_0x4997f3(0x864)]&&_0x4d7f7a[_0x4997f3(0x864)]<=this[_0x4997f3(0x903)],_0x23505f=Array[_0x4997f3(0x1ec)](this[_0x4997f3(0x3a8)])[_0x4997f3(0x5cf)](_0x2607c6=>_0x2607c6[_0x4997f3(0x6aa)]===_0x151114);_0x23505f[_0x4997f3(0x7dd)]=_0x49dfd2?_0x56b813[_0x4997f3(0x5c7)]:_0x56b813['Rejected'],_0x23505f[_0x4997f3(0x224)]=_0x4d7f7a[_0x4997f3(0x224)],_0x23505f['distance']=_0x4d7f7a[_0x4997f3(0x864)],_0x23505f[_0x4997f3(0x8d9)]=_0x4d7f7a[_0x4997f3(0x8d9)],_0x23505f[_0x4997f3(0x832)]=Date[_0x4997f3(0x85a)]()-this['startTime'],_0x23505f['params']=this[_0x4997f3(0x5fd)],_0x23505f['ownerId']=_0x4d7f7a[_0x4997f3(0x250)],_0x23505f['trackKinds']=_0x4d7f7a[_0x4997f3(0x420)],_0x23505f[_0x4997f3(0x3fc)]=_0x4d7f7a[_0x4997f3(0x9ce)],_0x265260[_0x4997f3(0x552)](_0x1367fe['Subscription'],(_0x49dfd2?_0x4997f3(0x5c7):_0x4997f3(0x96f))+_0x4997f3(0x886),_0x23505f);break;}case _0x1bde37[_0x4997f3(0x519)]:{const _0x571812=Array[_0x4997f3(0x1ec)](this[_0x4997f3(0x3a8)])['find'](_0x2196c3=>_0x2196c3[_0x4997f3(0x6aa)]===_0x151114);_0x571812[_0x4997f3(0x7dd)]=_0x56b813[_0x4997f3(0x96f)],_0x265260[_0x4997f3(0x552)](_0x1367fe[_0x4997f3(0x533)],_0x4997f3(0x9d0),_0x571812);break;}}if(this['canChooseAnswer']())return this[_0x4997f3(0x704)]();}[_0x128a0b(0x704)](){const _0x306f92=_0x128a0b,_0xcb8d76=Array[_0x306f92(0x1ec)](this['answers'])['filter'](_0x4907b4=>_0x4907b4[_0x306f92(0x7dd)]===_0x56b813['Accepted'])[_0x306f92(0x393)]((_0x570569,_0x389336)=>_0x570569[_0x306f92(0x224)]===_0x389336[_0x306f92(0x224)]?_0x570569[_0x306f92(0x832)]-_0x389336[_0x306f92(0x832)]:_0x570569[_0x306f92(0x224)]-_0x389336[_0x306f92(0x224)]);if(0x0===_0xcb8d76[_0x306f92(0xa20)])throw new _0x4204a5(_0x4204a5[_0x306f92(0x7f9)][_0x306f92(0x1e3)],{'answers':Array[_0x306f92(0x1ec)](this[_0x306f92(0x3a8)])[_0x306f92(0x8ac)](_0x160832=>({'nodeId':_0x160832[_0x306f92(0x6aa)],'type':_0x160832[_0x306f92(0x7dd)]}))});return _0x265260[_0x306f92(0x552)](_0x1367fe[_0x306f92(0x533)],_0x306f92(0x768),_0xcb8d76[0x0],this['answers']),_0xcb8d76[0x0];}[_0x128a0b(0x7ae)](){const _0xffd974=_0x128a0b;for(const _0x1bfe17 of this[_0xffd974(0x3a8)])if(_0x1bfe17['type']===_0x56b813[_0xffd974(0xac2)])return!0x1;return!0x0;}}class _0x142cae{['label'];[_0x128a0b(0x9c9)];[_0x128a0b(0x942)]=_0x41572e();constructor(_0x26fde4,_0x477df6){const _0x5cc022=_0x128a0b;this[_0x5cc022(0x9ce)]=_0x26fde4,this['contentType']=_0x477df6;}[_0x128a0b(0x5d1)](){const _0x43b43a=_0x128a0b;return this[_0x43b43a(0x9ce)];}['getContentType'](){return this['contentType'];}[_0x128a0b(0x7ce)](_0x4b507f){_0x4b507f['registerPublisher'](this);}[_0x128a0b(0x477)](_0x411306){_0x411306['registerSubscriber'](this);}[_0x128a0b(0x56d)](_0x2e052c){const _0xa2dd87=_0x128a0b;this[_0xa2dd87(0x942)][_0xa2dd87(0x56d)]({'topicLabel':this[_0xa2dd87(0x9ce)],'contentType':this[_0xa2dd87(0x9c9)],'uuid':(0x0,_0x49421a['v4'])(),'recipients':[],..._0x2e052c});}[_0x128a0b(0x3b4)](_0x2abebc){const _0x2ecf49=_0x128a0b;return this[_0x2ecf49(0x942)][_0x2ecf49(0x3b4)](_0x2abebc);}[_0x128a0b(0x311)](_0x284ac1){const _0x2b3505=_0x128a0b;_0x284ac1[_0x2b3505(0x8bc)](this);}[_0x128a0b(0x4a8)](_0x288cb8){const _0x50cfa3=_0x128a0b;_0x288cb8[_0x50cfa3(0x950)](this);}}class _0x3c68f1{['maps']={'topics':new Map(),'subscriptions':new Map()};['getPartsFromSubscription'];constructor(_0x3f76fc){this['getPartsFromSubscription']=_0x3f76fc;}get[_0x128a0b(0x605)](){const _0x318c2b=_0x128a0b;return this[_0x318c2b(0x59e)][_0x318c2b(0x605)];}get[_0x128a0b(0x6c9)](){const _0x5b8e8d=_0x128a0b;return this[_0x5b8e8d(0x59e)][_0x5b8e8d(0x6c9)];}['createSubscription'](_0x136999,_0x56e3b4){const _0x1286d8=_0x128a0b,_0x1ee272=this[_0x1286d8(0x92a)](_0x56e3b4),_0x15b580=_0x152ae4(_0x136999);if(!_0x1ee272[_0x1286d8(0x89d)])throw new _0x4204a5(_0x4204a5[_0x1286d8(0x7f9)]['InvalidSubscription'],{'message':_0x15b580+':\x20'+_0x1ee272[_0x1286d8(0x606)]+_0x1286d8(0x8be)+_0x1ee272[_0x1286d8(0x9c9)],'subscriptionType':_0x136999,'subscription':_0x56e3b4,'subscriptonParts':_0x1ee272});const _0x1323ab=_0x3a5742(_0x136999,_0x1ee272);if(this[_0x1286d8(0x59e)][_0x1286d8(0x605)][_0x1286d8(0x301)](_0x1323ab))throw new _0x4204a5(_0x4204a5['codes'][_0x1286d8(0x8db)],{'message':_0x15b580+':\x20'+_0x1323ab+_0x1286d8(0xa92),'subscriptionType':_0x136999,'subscription':_0x56e3b4,'subscriptonParts':_0x1ee272});this[_0x1286d8(0x59e)]['subscriptions'][_0x1286d8(0x663)](_0x1323ab,_0x56e3b4),this[_0x1286d8(0x3b1)](_0x1ee272,_0x56e3b4);}['removeSubscription'](_0x5dda1d,_0x37f078){const _0x4cba1f=_0x128a0b,_0x2be437=_0x3a5742(_0x37f078,_0x5dda1d),_0x3f6e48=this[_0x4cba1f(0x59e)]['subscriptions'][_0x4cba1f(0x8b0)](_0x2be437);if(!_0x3f6e48)throw new _0x4204a5(_0x4204a5[_0x4cba1f(0x7f9)][_0x4cba1f(0x8db)],{'message':_0x152ae4(_0x37f078)+':\x20'+_0x2be437+_0x4cba1f(0x437),'subscriptionType':_0x37f078,'subscription':_0x3f6e48,'subscriptonParts':_0x5dda1d});this['closeSubscription'](_0x3f6e48,_0x2be437,_0x5dda1d);}[_0x128a0b(0x981)](_0x38ec7b,_0x2dddbf,_0x3648d5){const _0xb31c60=_0x128a0b;_0x3648d5=_0x3648d5||this[_0xb31c60(0x92a)](_0x38ec7b),this[_0xb31c60(0x59e)][_0xb31c60(0x605)][_0xb31c60(0x560)](_0x2dddbf),this[_0xb31c60(0x240)](_0x3648d5,_0x38ec7b);}['createTopic'](_0x18534c,{source:_0x5375da,destination:_0x242fc9}){const _0x1e6b30=_0x128a0b,{contentType:_0x4ab397,label:_0x2277db,remoteId:_0xefdb1e}=_0x18534c,_0x30d015=_0x25fc0a(_0x4ab397,_0x2277db,_0xefdb1e),_0x4e2d71=new _0x142cae(_0x30d015,_0x4ab397);_0x4e2d71['registerSource'](_0x5375da),_0x4e2d71[_0x1e6b30(0x477)](_0x242fc9),this[_0x1e6b30(0x59e)][_0x1e6b30(0x6c9)][_0x1e6b30(0x663)](_0x4e2d71[_0x1e6b30(0x5d1)](),_0x4e2d71);}['removeTopic'](_0x12b6b7,_0x2f532b){const _0x25cb81=_0x128a0b,{contentType:_0x46f9e3,label:_0x342864,remoteId:_0x4d1584}=_0x12b6b7,_0x114286=_0x25fc0a(_0x46f9e3,_0x342864,_0x4d1584),_0x5bb55a=this[_0x25cb81(0x59e)][_0x25cb81(0x6c9)][_0x25cb81(0x8b0)](_0x114286);_0x5bb55a&&(this[_0x25cb81(0x4de)](_0x5bb55a,_0x2f532b),this[_0x25cb81(0x59e)][_0x25cb81(0x6c9)][_0x25cb81(0x560)](_0x114286));}['closeTopic'](_0x46d610,{source:_0x54153a,destination:_0x29531d}){_0x46d610['unregisterSource'](_0x54153a),_0x46d610['unregisterDestination'](_0x29531d);}[_0x128a0b(0x54b)](_0x4b5a2b){const _0x1b19c2=_0x128a0b;this[_0x1b19c2(0x59e)][_0x1b19c2(0x605)][_0x1b19c2(0x8b3)]((_0x175c31,_0xb4fcb1)=>{const _0x35fdc7=_0x1b19c2;_0xb4fcb1[_0x35fdc7(0x753)](_0x4b5a2b)&&this[_0x35fdc7(0x981)](_0x175c31,_0xb4fcb1);});}}class _0x4f24f7{[_0x128a0b(0x282)];[_0x128a0b(0x903)];[_0x128a0b(0x2a2)]=new Map();[_0x128a0b(0xabf)]=_0x3e2378(new _0x378ec7(this[_0x128a0b(0x604)][_0x128a0b(0xa47)](this),()=>_0x52452b[_0x128a0b(0x252)](0x64)),!0x0);[_0x128a0b(0xa4f)]=new Map();[_0x128a0b(0x59e)];[_0x128a0b(0x322)]=new Map();constructor(_0x456479,_0x546571){const _0x3b848d=_0x128a0b;this[_0x3b848d(0x282)]=_0x456479,this[_0x3b848d(0x903)]=_0x546571,this[_0x3b848d(0x59e)]=new _0x3c68f1(({source:_0x43796e,destination:_0x13c568})=>_0x423c76(_0x13c568,_0x43796e));}['createSubscription'](_0x5eba24,_0x4c3494){const _0x2e3270=_0x128a0b,_0x5c07fb=this[_0x2e3270(0x44b)](_0x5eba24)&&this[_0x2e3270(0x6f3)](_0x4c3494)?new _0x36ac77(_0x5eba24,_0x4c3494):new _0x1f48d9(_0x5eba24,_0x4c3494);this['maps'][_0x2e3270(0xb05)](_0x172daa['Incoming'],_0x5c07fb),this[_0x2e3270(0x282)][_0x2e3270(0x271)][_0x2e3270(0x3cc)](_0x5c07fb);}[_0x128a0b(0x9cb)](_0xe0851c,_0xcdb8f0,_0x385fee=''){const _0x3936f5=_0x128a0b,_0x3ba852={'contentType':_0xcdb8f0,'label':_0xe0851c,'remoteId':_0x385fee},_0x1a1b03=_0x3a5742(_0x172daa[_0x3936f5(0xb12)],_0x3ba852),_0x864b38=this[_0x3936f5(0x59e)]['subscriptions'][_0x3936f5(0x8b0)](_0x1a1b03);_0x864b38&&this[_0x3936f5(0x981)](_0x864b38,_0x1a1b03);}[_0x128a0b(0x458)](_0x170e7c){const _0x270156=_0x128a0b;this[_0x270156(0x556)](_0x170e7c);}[_0x128a0b(0x201)]({label:_0x2ce3de,ownerId:_0x1b8785,trackKinds:_0x26de5e,params:_0x112e3f}){const _0x243ec8=_0x128a0b;this[_0x243ec8(0x385)](_0x2ce3de,_0x1b8785,_0x26de5e,_0x112e3f);}[_0x128a0b(0x74c)]({ownerId:_0x53920b,label:_0xdebeb5,params:_0x737695}){const _0x25d55c=_0x128a0b,{subscriptionLabel:_0x495bc4}=this[_0x25d55c(0x7ff)](_0xdebeb5,_0x53920b),_0x21c2b7=this[_0x25d55c(0xa38)](_0x495bc4);_0x21c2b7&&_0x21c2b7[_0x25d55c(0x603)](_0x53920b,_0x737695);}[_0x128a0b(0x83f)]({ownerId:_0xaa33b,label:_0x5996c7,trackKinds:_0x3a26ea,remainingTracks:_0x446696}){const _0x4d6b89=_0x128a0b,_0x2eb66e=_0x3a5742(_0x172daa[_0x4d6b89(0xb12)],{'contentType':_0x16f74['ContentType'][_0x4d6b89(0x36d)],'label':_0x5996c7,'remoteId':_0xaa33b});this[_0x4d6b89(0x88b)](_0x2eb66e);const _0x24c668=this[_0x4d6b89(0x2a2)][_0x4d6b89(0x8b0)](_0x2eb66e);_0x24c668&&(this[_0x4d6b89(0x282)][_0x4d6b89(0x271)][_0x4d6b89(0xa2a)](_0x24c668),this['subscriptionRequests'][_0x4d6b89(0x560)](_0x2eb66e));const {parts:_0x3bf8c1,subscriptionLabel:_0x269bde}=this['getSubscriptionLabel'](_0x5996c7,_0xaa33b),_0x38aaa0=this['getMediaSubscription'](_0x269bde);_0x38aaa0&&(_0x38aaa0[_0x4d6b89(0x3b0)](_0xaa33b,_0x446696,_0x3a26ea),0x0===_0x446696&&this['removeSubscription'](_0x3bf8c1[_0x4d6b89(0x9ce)],_0x3bf8c1['contentType'],_0x3bf8c1['remoteId']));}[_0x128a0b(0x40e)](_0x105ac6,{label:_0x257edf,ownerId:_0x5dd797,trackKinds:_0x36724b,streamId:_0x1191bc,params:_0x12aff8}){const _0x5f1ef7=_0x128a0b,_0x468441=_0x3a5742(_0x172daa[_0x5f1ef7(0xb12)],{'contentType':_0x16f74[_0x5f1ef7(0x6f5)]['Media'],'label':_0x1191bc,'remoteId':_0x105ac6}),_0x3143b3=this[_0x5f1ef7(0x59e)][_0x5f1ef7(0x605)]['get'](_0x468441);if(!(_0x3143b3&&_0x3143b3 instanceof _0x36ac77))throw new _0x4204a5(_0x4204a5[_0x5f1ef7(0x7f9)][_0x5f1ef7(0x9fb)],{'label':_0x468441,'ownerId':_0x5dd797});this[_0x5f1ef7(0x981)](_0x3143b3,_0x468441),this[_0x5f1ef7(0x385)](_0x257edf,_0x5dd797,_0x36724b,_0x12aff8);}[_0x128a0b(0x5e8)](_0x5dc4e1,_0x56aef1){const _0x6b79d3=_0x128a0b,{label:_0x51088c,ownerId:_0x384bae,trackKinds:_0x1b7ccf,params:_0x5eb1d2}=_0x56aef1,_0xf48c7a=_0x3a5742(_0x172daa[_0x6b79d3(0xb12)],{'contentType':_0x16f74[_0x6b79d3(0x6f5)][_0x6b79d3(0x36d)],'label':_0x51088c,'remoteId':_0x384bae});if(!this[_0x6b79d3(0x2a2)][_0x6b79d3(0x301)](_0xf48c7a))throw new _0x4204a5(_0x4204a5[_0x6b79d3(0x7f9)][_0x6b79d3(0x9fb)],{'label':_0xf48c7a,'ownerId':_0x384bae,'streamId':_0x56aef1[_0x6b79d3(0x8d9)],'requests':this['subscriptionRequests']});const _0x5e5df1=this[_0x6b79d3(0x2a2)][_0x6b79d3(0x8b0)](_0xf48c7a);if(_0x1b7ccf[_0x6b79d3(0xa20)]===_0x5e5df1[_0x6b79d3(0x54e)]()[_0x6b79d3(0xa20)]&&_0x1b7ccf['every'](_0x4ad193=>_0x5e5df1[_0x6b79d3(0x54e)]()['includes'](_0x4ad193)))try{const _0xef56e7=_0x5e5df1[_0x6b79d3(0x77d)](_0x5dc4e1,_0x56aef1);if(!_0xef56e7)return;this['subscribe'](_0xef56e7,_0x384bae,_0x51088c,_0xf48c7a,_0x1b7ccf);}catch(_0x4b936c){return void this['handleNoAnswer'](_0x51088c,_0x384bae,_0x1b7ccf,_0x5eb1d2);}}['handleSubscriptionMediaStreamUnavailable'](_0x26f235,{label:_0x4be7ff,ownerId:_0x13ec66,trackKinds:_0x55b361}){const _0x59ca16=_0x128a0b,_0x18d322=this['configs'][_0x59ca16(0x271)]['getRemoteMediaStream'](_0x13ec66,_0x4be7ff);if(!_0x18d322)return;const _0x53703e=_0x18d322['getInternalStreamId'](),_0x2bc504=_0x18d322['getSubscribedTracks']();_0x2bc504[_0x59ca16(0x3c5)](_0x59e38c=>_0x55b361[_0x59ca16(0x6b7)](_0x59e38c))&&this[_0x59ca16(0x818)](_0x26f235,_0x4be7ff,_0x53703e,_0x13ec66,_0x2bc504);}[_0x128a0b(0x327)]({label:_0x920528,providerId:_0xb2986c,ownerId:_0x2d3665,streamId:_0x52419a,trackKinds:_0x31f162}){this['findNewMediaSubscription'](_0xb2986c,_0x920528,_0x52419a,_0x2d3665,_0x31f162);}[_0x128a0b(0x915)](_0xf58fc9){const _0x3c43bb=_0x128a0b;for(const _0x18c3c6 of this[_0x3c43bb(0x322)][_0x3c43bb(0x36b)]()){const {streamLabel:_0x254f08,ownerId:_0xe0511c,trackKinds:_0x128789,params:_0x19fc57}=_0x18c3c6;if(!_0xe0511c||!_0x128789||!_0x254f08)return;this[_0x3c43bb(0xabf)][_0x3c43bb(0xa98)]({'label':_0x254f08,'ownerId':_0xe0511c,'trackKinds':_0x128789,'params':_0x19fc57,'remoteId':_0xf58fc9});}}['removeSubscriptionsForNode'](_0x26986b){const _0x36ef45=_0x128a0b;this[_0x36ef45(0x59e)][_0x36ef45(0x605)][_0x36ef45(0x8b3)]((_0x23510b,_0x23cea2)=>{const _0x59042f=_0x36ef45;if(_0x23cea2[_0x59042f(0x753)](_0x26986b)){if(_0x23510b[_0x59042f(0x849)][_0x59042f(0x6da)]()===_0x16f74['ContentType'][_0x59042f(0x36d)]){const _0x51f10b=_0x23510b[_0x59042f(0x849)];if(_0x51f10b['getSubscribedTracks']()[_0x59042f(0xa20)]>0x0){const _0x2d4bfa={'type':_0x1bde37[_0x59042f(0x5ea)],'label':_0x51f10b[_0x59042f(0x5d1)](),'ownerId':_0x51f10b[_0x59042f(0x5e3)](),'trackKinds':_0x51f10b['getSubscribedTracks']()};return void this['handleSubscriptionMediaStreamUnavailable'](_0x26986b,_0x2d4bfa);}}this[_0x59042f(0x981)](_0x23510b,_0x23cea2);}});}[_0x128a0b(0x42d)](){const _0x2c2787=_0x128a0b;this[_0x2c2787(0x59e)]['subscriptions'][_0x2c2787(0x8b3)](this['closeSubscription']['bind'](this));}[_0x128a0b(0x3b4)](_0x253997,_0x2343b6,_0x1763fb,_0x14eaf4,_0x5db9b7){const _0x5b30a0=_0x128a0b,_0x5eb015=this[_0x5b30a0(0x282)][_0x5b30a0(0x271)][_0x5b30a0(0x305)](_0x253997[_0x5b30a0(0x6aa)]),_0x5ad1c5=this[_0x5b30a0(0x282)]['mediator'][_0x5b30a0(0x597)](_0x2343b6,_0x1763fb);this[_0x5b30a0(0x88b)](_0x14eaf4),this['subscriptionRequests'][_0x5b30a0(0x301)](_0x14eaf4)&&(this['configs'][_0x5b30a0(0x271)][_0x5b30a0(0xa2a)](this[_0x5b30a0(0x2a2)][_0x5b30a0(0x8b0)](_0x14eaf4)),this[_0x5b30a0(0x2a2)]['delete'](_0x14eaf4)),this[_0x5b30a0(0x396)](_0x253997,_0x2343b6,_0x1763fb,_0x5ad1c5),_0x5ad1c5[_0x5b30a0(0x5c8)](_0x253997[_0x5b30a0(0x8d9)]),_0x5ad1c5[_0x5b30a0(0x598)](_0x253997[_0x5b30a0(0x6aa)]);const _0x1c5c2f=_0x423c76(_0x5ad1c5,_0x5eb015),_0x189496=_0x3a5742(_0x172daa[_0x5b30a0(0xb12)],_0x1c5c2f);this['maps']['subscriptions'][_0x5b30a0(0x301)](_0x189496)||this[_0x5b30a0(0xb05)](_0x5eb015,_0x5ad1c5);const _0x53f6bd=this[_0x5b30a0(0x59e)][_0x5b30a0(0x605)][_0x5b30a0(0x8b0)](_0x189496);if(!(_0x53f6bd&&_0x53f6bd instanceof _0x36ac77))throw new _0x4204a5(_0x4204a5[_0x5b30a0(0x7f9)][_0x5b30a0(0x9fb)],{'label':_0x14eaf4,'ownerId':_0x2343b6});_0x265260[_0x5b30a0(0x229)](_0x5b30a0(0x8cb),{'clusterId':this['configs'][_0x5b30a0(0x2cd)],'nodeId':this['configs'][_0x5b30a0(0x8cc)][_0x5b30a0(0x993)](),'nodeType':this[_0x5b30a0(0x282)][_0x5b30a0(0x8cc)]['type'],'data':{'subscriptionLabel':_0x189496,'chosenAnswer':_0x253997}}),this[_0x5b30a0(0x322)][_0x5b30a0(0x663)](_0x189496,_0x253997),_0x53f6bd['subscribe'](_0x2343b6,_0x5db9b7,_0x253997[_0x5b30a0(0x5fd)]);}['removeRemoteStreamSubscription']({ownerId:_0x6369bd,label:_0x22db92}){const _0x763286=_0x128a0b,_0x25c1cc=this[_0x763286(0x282)][_0x763286(0x271)][_0x763286(0x597)](_0x6369bd,_0x22db92),[_0x1b1c9f,_0x47a897]=Array[_0x763286(0x1ec)](this[_0x763286(0x59e)][_0x763286(0x605)][_0x763286(0x268)]())[_0x763286(0x5cf)](([_0x59e2b0,_0x2ab614])=>-0x1!==_0x59e2b0[_0x763286(0x44a)](_0x25c1cc['getInternalStreamId']()));return this['closeSubscription'](_0x47a897,_0x1b1c9f);}[_0x128a0b(0x981)](_0x31645b,_0x379138){const _0x37d2c2=_0x128a0b;this[_0x37d2c2(0x282)][_0x37d2c2(0x271)][_0x37d2c2(0xa2a)](_0x31645b),this[_0x37d2c2(0x59e)]['closeSubscription'](_0x31645b,_0x379138);}[_0x128a0b(0x44b)](_0x43b350){const _0x2704c0=_0x128a0b;return _0x43b350[_0x2704c0(0x18f)]()[_0x2704c0(0x6b7)](_0x16f74['ContentType']['Media']);}[_0x128a0b(0x6f3)](_0xb3b05b){const _0x1a5845=_0x128a0b;return _0xb3b05b['getContentType']()===_0x16f74[_0x1a5845(0x6f5)][_0x1a5845(0x36d)];}async['handleNoAnswer'](_0x48f289,_0x581ed7,_0x3baad3,_0x51e1fe){const _0x403c98=_0x128a0b;await _0x52452b[_0x403c98(0x252)](0x3e8);const _0x262c60=_0x3a5742(_0x172daa['Incoming'],{'contentType':_0x16f74[_0x403c98(0x6f5)][_0x403c98(0x36d)],'label':_0x48f289,'remoteId':_0x581ed7});this[_0x403c98(0x88b)](_0x262c60);const _0x2d5096=this[_0x403c98(0x2a2)][_0x403c98(0x8b0)](_0x262c60);if(!_0x2d5096)throw new _0x4204a5(_0x4204a5[_0x403c98(0x7f9)]['SubscriptionRequestDoesNotExist'],{'label':_0x262c60,'ownerId':_0x581ed7});const _0x2d3a6f=this[_0x403c98(0x282)]['mediator'][_0x403c98(0xaba)](_0x11970f=>_0x11970f[_0x403c98(0x4a3)]()),_0xbb2698=this[_0x403c98(0x282)][_0x403c98(0x271)][_0x403c98(0xaf8)](this[_0x403c98(0x282)][_0x403c98(0x8cc)][_0x403c98(0x993)](),_0x581ed7);_0x2d5096[_0x403c98(0x49e)](_0x2d3a6f[_0x403c98(0x8ac)](_0x3850e2=>_0x3850e2[_0x403c98(0x846)]()),_0xbb2698);try{_0x2d5096[_0x403c98(0x528)](this[_0x403c98(0x282)][_0x403c98(0x8cc)][_0x403c98(0x993)](),_0x581ed7,_0x48f289,_0x3baad3,_0x51e1fe),this[_0x403c98(0xa1c)](_0x48f289,_0x581ed7,_0x3baad3,_0x51e1fe,_0x262c60,_0x2d5096);}catch(_0x1b4f69){this['subscriptionRequestsQueue'][_0x403c98(0xa98)]({'label':_0x48f289,'ownerId':_0x581ed7,'trackKinds':_0x3baad3,'params':_0x51e1fe});}}[_0x128a0b(0x385)](_0x30369a,_0x10be12,_0x1a9339,_0x2a0c2c){const _0x3b33f5=_0x128a0b;this['subscriptionRequestsQueue'][_0x3b33f5(0xa98)]({'label':_0x30369a,'ownerId':_0x10be12,'trackKinds':_0x1a9339,'params':_0x2a0c2c});}[_0x128a0b(0x604)]({label:_0x45350a,ownerId:_0x1c8023,trackKinds:_0x519098,params:_0x34e9d8,remoteId:_0x255575}){const _0xf17d45=_0x128a0b;if(!this[_0xf17d45(0x282)][_0xf17d45(0x271)][_0xf17d45(0x597)](_0x1c8023,_0x45350a))return;if(!this[_0xf17d45(0x282)]['mediator'][_0xf17d45(0x944)]()[_0xf17d45(0x46e)]())throw new Error(_0xf17d45(0xa9a));if(_0x255575){const _0x44bcef=this[_0xf17d45(0x282)][_0xf17d45(0x271)][_0xf17d45(0x3a3)]()['find'](_0x598713=>_0x598713[_0xf17d45(0x993)]()===_0x255575),_0x164739=_0x44bcef?.[_0xf17d45(0x46e)]();if(!_0x44bcef||!_0x164739)throw new Error(_0xf17d45(0x850));const _0x4ef0e3=this[_0xf17d45(0x282)][_0xf17d45(0x271)]['getRemoteNodes']()['find'](_0x439016=>_0x439016['getId']()===_0x1c8023),_0x51ed5e=_0x4ef0e3?.[_0xf17d45(0x46e)]();if(!_0x4ef0e3||!_0x51ed5e)throw new Error(_0xf17d45(0xade));const _0x4d349c=this['chosenAnswers']['get'](_0x45350a);if(_0x4d349c){const _0xd7e3ed=this[_0xf17d45(0x282)][_0xf17d45(0x271)][_0xf17d45(0x3a3)]()['find'](_0x596f29=>_0x596f29[_0xf17d45(0x993)]()===_0x4d349c[_0xf17d45(0x6aa)]),_0x1f66e2=_0xd7e3ed?.['getRank']();if(!_0xd7e3ed||!_0x1f66e2)throw new Error(_0xf17d45(0x4c8));if(Math[_0xf17d45(0x8e8)](_0x1f66e2-_0x51ed5e)<Math[_0xf17d45(0x8e8)](_0x164739-_0x51ed5e))return;}}const _0x217e0b=this['configs'][_0xf17d45(0x271)][_0xf17d45(0xaba)](_0x274414=>_0x274414[_0xf17d45(0x4a3)]()&&(!_0x255575||_0x274414[_0xf17d45(0x846)]()===_0x255575));if(!_0x217e0b[_0xf17d45(0xa20)]||0x0===_0x217e0b[_0xf17d45(0xa20)])throw new Error(_0xf17d45(0x91d));const _0x5ddd2b=this[_0xf17d45(0x282)][_0xf17d45(0x271)][_0xf17d45(0xaf8)](this[_0xf17d45(0x282)]['localNode'][_0xf17d45(0x993)](),_0x1c8023),_0x168063=_0x3a5742(_0x172daa[_0xf17d45(0xb12)],{'contentType':_0x16f74[_0xf17d45(0x6f5)][_0xf17d45(0x36d)],'label':_0x45350a,'remoteId':_0x1c8023});if(this[_0xf17d45(0x2a2)]['has'](_0x168063)){if(_0x255575)throw new Error('We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set');const _0x5cee11=this[_0xf17d45(0x2a2)]['get'](_0x168063)['getTracks']();if(_0x5cee11[_0xf17d45(0xa20)]===_0x519098[_0xf17d45(0xa20)]&&_0x5cee11[_0xf17d45(0x75d)](_0x2debcb=>_0x519098[_0xf17d45(0x6b7)](_0x2debcb)))return;this[_0xf17d45(0x282)]['mediator'][_0xf17d45(0xa2a)](this[_0xf17d45(0x2a2)][_0xf17d45(0x8b0)](_0x168063)),this['subscriptionRequests']['delete'](_0x168063),_0x519098=Array[_0xf17d45(0x1ec)](new Set(_0x519098[_0xf17d45(0x40c)](_0x5cee11))),this[_0xf17d45(0x88b)](_0x168063);}const _0x4c3ca0=new _0x40d0f7(_0x217e0b[_0xf17d45(0x8ac)](_0x4752fe=>_0x4752fe[_0xf17d45(0x846)]()),_0x5ddd2b,this[_0xf17d45(0x903)],_0x519098);this['configs']['mediator']['registerSystemSource'](_0x4c3ca0),this[_0xf17d45(0x2a2)][_0xf17d45(0x663)](_0x168063,_0x4c3ca0),_0x4c3ca0[_0xf17d45(0x528)](this[_0xf17d45(0x282)][_0xf17d45(0x8cc)][_0xf17d45(0x993)](),_0x1c8023,_0x45350a,_0x519098,_0x34e9d8),this[_0xf17d45(0xa1c)](_0x45350a,_0x1c8023,_0x519098,_0x34e9d8,_0x168063,_0x4c3ca0);}[_0x128a0b(0x88b)](_0x5591de){const _0x5a3798=_0x128a0b;this['subscriptionRequestTimeouts'][_0x5a3798(0x301)](_0x5591de)&&(clearTimeout(this[_0x5a3798(0xa4f)]['get'](_0x5591de)),this['subscriptionRequestTimeouts']['delete'](_0x5591de));}[_0x128a0b(0xa1c)](_0x4fbb35,_0x323cd5,_0xf86b8e,_0x152e9f,_0x455465,_0x33a3db){const _0x5362e7=_0x128a0b;this['clearSubscriptionRequestTimeout'](_0x455465),this[_0x5362e7(0xa4f)][_0x5362e7(0x663)](_0x455465,setTimeout(()=>{const _0x511b89=_0x5362e7;this[_0x511b89(0xa4f)]['delete'](_0x455465);try{const _0x2cc54e=_0x33a3db[_0x511b89(0x704)]();this[_0x511b89(0x3b4)](_0x2cc54e,_0x323cd5,_0x4fbb35,_0x455465,_0xf86b8e);}catch(_0x37d9f9){this[_0x511b89(0xb09)](_0x4fbb35,_0x323cd5,_0xf86b8e,_0x152e9f);}},0x7d0));}[_0x128a0b(0x818)](_0x1d3d43,_0x258f7a,_0x4b9f22,_0x102b3c,_0xf7dc67){const _0x36999c=_0x128a0b,{subscriptionLabel:_0x2c1895}=this[_0x36999c(0x7ff)](_0x258f7a,_0x102b3c),_0x1fcb7a=this[_0x36999c(0xa38)](_0x2c1895),_0x136f17=_0x1fcb7a?.[_0x36999c(0x5fd)];_0x1fcb7a&&(_0x1fcb7a[_0x36999c(0x3b0)](_0x102b3c,0x0),this[_0x36999c(0x9cb)](_0x4b9f22,_0x16f74[_0x36999c(0x6f5)]['Media'],_0x1d3d43)),this['requestSubscription'](_0x258f7a,_0x102b3c,_0xf7dc67,_0x136f17);}[_0x128a0b(0xa38)](_0x382fcd){const _0xacd7f2=_0x128a0b,_0x41c114=this[_0xacd7f2(0x59e)][_0xacd7f2(0x605)][_0xacd7f2(0x8b0)](_0x382fcd);if(_0x41c114){if(!(_0x41c114 instanceof _0x36ac77))throw new _0x4204a5(_0x4204a5[_0xacd7f2(0x7f9)][_0xacd7f2(0x8db)],{'label':_0x382fcd,'subscription':_0x41c114});return _0x41c114;}}['getSubscriptionLabel'](_0x5a4c96,_0x8ea3fc){const _0x474c98=_0x128a0b,_0x3494c7=this[_0x474c98(0x3ee)](_0x5a4c96,_0x8ea3fc);return{'parts':_0x3494c7,'subscriptionLabel':_0x3a5742(_0x172daa[_0x474c98(0xb12)],_0x3494c7)};}[_0x128a0b(0x3ee)](_0x22f77d,_0x525589){const _0x5d2581=_0x128a0b,_0x3c1580=this[_0x5d2581(0x282)][_0x5d2581(0x271)][_0x5d2581(0x597)](_0x525589,_0x22f77d),_0x465567=_0x3c1580[_0x5d2581(0x5b8)]();if(!_0x465567)throw new _0x4204a5(_0x4204a5[_0x5d2581(0x7f9)][_0x5d2581(0x3a0)],{'label':_0x22f77d,'streamId':_0x3c1580[_0x5d2581(0x1e9)](),'ownerId':_0x525589,'localId':this[_0x5d2581(0x282)][_0x5d2581(0x8cc)][_0x5d2581(0x993)]()});return{'contentType':_0x16f74['ContentType'][_0x5d2581(0x36d)],'label':_0x3c1580[_0x5d2581(0x1e9)](),'remoteId':_0x465567};}[_0x128a0b(0x396)](_0x59f5e5,_0x54840e,_0x2a4241,_0x2ca42a){const _0x3721c3=_0x128a0b,_0x56d14e=_0x2ca42a[_0x3721c3(0x5b8)]();if(_0x56d14e&&_0x56d14e!==_0x59f5e5[_0x3721c3(0x6aa)]){const {parts:_0x503d5f,subscriptionLabel:_0x8fc978}=this['getSubscriptionLabel'](_0x2a4241,_0x54840e),_0x2db13f=this[_0x3721c3(0xa38)](_0x8fc978);_0x2db13f&&(_0x2db13f['unsubscribe'](_0x54840e,0x0),this[_0x3721c3(0x9cb)](_0x503d5f['label'],_0x503d5f['contentType'],_0x503d5f['remoteId']));}}}class _0x3c58bd{[_0x128a0b(0x282)];['maxOutgoingSubscriptions'];[_0x128a0b(0x59e)];constructor(_0x1728ec,_0x57840d){const _0x3482da=_0x128a0b;this['configs']=_0x1728ec,this[_0x3482da(0x937)]=_0x57840d,this['maps']=new _0x3c68f1(({source:_0x7f8b46,destination:_0xc7b76b})=>_0x423c76(_0x7f8b46,_0xc7b76b));}[_0x128a0b(0xb05)](_0x3b0371,_0x389406){const _0x2fb51d=_0x128a0b,_0x5809df={'source':_0x3b0371,'destination':_0x389406};this[_0x2fb51d(0x59e)][_0x2fb51d(0xb05)](_0x172daa[_0x2fb51d(0x53a)],_0x5809df);}[_0x128a0b(0x9cb)](_0x5610ba,_0x158110,_0x13370a=''){const _0x4d7ea7={'contentType':_0x158110,'label':_0x5610ba,'remoteId':_0x13370a};this['maps']['removeSubscription'](_0x4d7ea7,_0x172daa['Outgoing']);}[_0x128a0b(0x445)](_0x5f228e,_0x3671cc){const _0x1be312=_0x128a0b;let _0x1080c4;_0x1080c4=_0x3671cc[_0x1be312(0x250)]!==this['configs'][_0x1be312(0x8cc)][_0x1be312(0x993)]()?this[_0x1be312(0x282)][_0x1be312(0x271)][_0x1be312(0x597)](_0x3671cc[_0x1be312(0x250)],_0x3671cc[_0x1be312(0x9ce)]):this['configs'][_0x1be312(0x271)][_0x1be312(0x483)](_0x3671cc[_0x1be312(0x9ce)]);const _0x499fe8=_0x3a5742(_0x172daa[_0x1be312(0x53a)],{'contentType':_0x16f74[_0x1be312(0x6f5)][_0x1be312(0x36d)],'label':_0x1080c4['getShareableStreamId'](),'remoteId':_0x5f228e}),_0x1657ec=this[_0x1be312(0x809)]();if(!this[_0x1be312(0x59e)]['subscriptions'][_0x1be312(0x301)](_0x499fe8)&&_0x1657ec>=this['maxOutgoingSubscriptions'])return{'type':_0x1bde37[_0x1be312(0x49b)],'ownerId':_0x3671cc[_0x1be312(0x250)],'label':_0x3671cc['label'],'streamId':_0x1080c4[_0x1be312(0x9c5)](),'trackKinds':_0x3671cc['trackKinds'],'params':_0x3671cc['params']};_0x1080c4 instanceof _0x367cb3&&!_0x1080c4[_0x1be312(0x332)](_0x3671cc[_0x1be312(0x420)])&&_0x1080c4[_0x1be312(0x3b4)](_0x3671cc[_0x1be312(0x5fd)]),this[_0x1be312(0x59e)][_0x1be312(0x605)][_0x1be312(0x301)](_0x499fe8)||this['createSubscription'](_0x1080c4[_0x1be312(0x62c)](_0x5f228e),this[_0x1be312(0x282)][_0x1be312(0x271)][_0x1be312(0x305)](_0x5f228e));}[_0x128a0b(0xa1b)](_0x4d0c98,{label:_0x2a2c50,ownerId:_0x33caed,remainingTracks:_0x2d523f}){const _0x105dea=_0x128a0b;if(_0x2d523f>0x0)return;let _0x4fbca5;_0x4fbca5=_0x33caed!==this[_0x105dea(0x282)][_0x105dea(0x8cc)][_0x105dea(0x993)]()?this[_0x105dea(0x282)][_0x105dea(0x271)][_0x105dea(0x597)](_0x33caed,_0x2a2c50):this[_0x105dea(0x282)][_0x105dea(0x271)][_0x105dea(0x483)](_0x2a2c50);const _0x24d230=_0x4fbca5[_0x105dea(0x9c5)](),_0x2146dd=_0x16f74['ContentType'][_0x105dea(0x36d)];this['removeSubscription'](_0x24d230,_0x2146dd,_0x4d0c98);}[_0x128a0b(0x83f)](_0x15f3ed,{label:_0x431d86,ownerId:_0x1938a8,trackKinds:_0x42cefe}){const _0x5b55df=_0x128a0b;if(_0x15f3ed!==_0x4b0f68)return[];let _0x47960c=[];for(const _0x3307de of this['maps'][_0x5b55df(0x605)]){const {source:_0xcff561,destination:_0x1ebde3}=_0x3307de[0x1];_0xcff561[_0x5b55df(0x5d1)]()===_0x431d86&&_0xcff561[_0x5b55df(0x5e3)]()===_0x1938a8&&_0x47960c[_0x5b55df(0xa98)]({'sourceId':this[_0x5b55df(0x282)][_0x5b55df(0x8cc)]['getId'](),'destinationIds':[_0x1ebde3[_0x5b55df(0x846)]()],'messageType':_0x562b7c[_0x5b55df(0x533)],'content':{'type':_0x1bde37[_0x5b55df(0x5ea)],'label':_0x431d86,'ownerId':_0x1938a8,'trackKinds':_0x42cefe}});}return _0x47960c;}[_0x128a0b(0x71a)](_0xd017c9,_0x340fee){const _0x16a619=_0x128a0b,{label:_0x192377,ownerId:_0x27c1b6,trackKinds:_0x2dd71d,params:_0x251d58}=_0x340fee,{hasTracks:_0x10b80a,streamId:_0x503831,hasResolution:_0x578f27,distance:_0x57a254,subscriptionLabel:_0x4efc9c}=this[_0x16a619(0x7c7)](_0xd017c9,_0x340fee);let _0x3da216=this['getNumberOutgoingSubscriptions']()<this[_0x16a619(0x937)]&&(_0x10b80a||_0x57a254>-0x1)?_0x1bde37[_0x16a619(0x3d5)]:_0x1bde37['CannotProvideMediaStream'];const _0x47a677=_0x57a254<0x0?0xa:_0x57a254;let _0x53c1a1=_0x10b80a?_0x578f27?_0x47a677:_0x47a677+0x0:_0x47a677+0xa;return _0x4efc9c&&this[_0x16a619(0x59e)][_0x16a619(0x605)][_0x16a619(0x301)](_0x4efc9c)&&(_0x10b80a&&(_0x53c1a1=0x0),_0x3da216=_0x1bde37['CanProvideMediaStream']),{'type':_0x3da216,'cost':_0x53c1a1,'distance':_0x57a254,'label':_0x192377,'ownerId':_0x27c1b6,'streamId':_0x503831,'trackKinds':_0x2dd71d,'params':_0x251d58};}['handleContentUnpublishMediaStream'](_0x545c71){const _0x1fc9fd=_0x128a0b,{label:_0x97852f,ownerId:_0x286dea}=_0x545c71,_0x556dde=this[_0x1fc9fd(0x282)][_0x1fc9fd(0x271)][_0x1fc9fd(0x597)](_0x286dea,_0x97852f);this[_0x1fc9fd(0x59e)][_0x1fc9fd(0x605)][_0x1fc9fd(0x8b3)](_0x9093f9=>{const _0x21f769=_0x1fc9fd;if(_0x9093f9[_0x21f769(0x8f9)][_0x21f769(0x1e9)]()===_0x556dde[_0x21f769(0x9c5)]()){const _0x1a269c=_0x9093f9[_0x21f769(0x849)];this[_0x21f769(0x9cb)](_0x556dde[_0x21f769(0x9c5)](),_0x16f74[_0x21f769(0x6f5)]['Media'],_0x1a269c[_0x21f769(0x846)]());}});}['handleContentCloseMediaStream']({label:_0x41e295}){const _0x94757=_0x128a0b,_0x1af1ff=this[_0x94757(0x282)][_0x94757(0x271)][_0x94757(0x483)](_0x41e295);this[_0x94757(0x59e)][_0x94757(0x605)][_0x94757(0x8b3)](_0x1506b9=>{const _0x40041b=_0x94757;if(_0x1506b9['source'][_0x40041b(0x1e9)]()===_0x1af1ff[_0x40041b(0x9c5)]()){const _0x273022=_0x1506b9['destination'];this[_0x40041b(0x9cb)](_0x1af1ff[_0x40041b(0x9c5)](),_0x16f74['ContentType'][_0x40041b(0x36d)],_0x273022[_0x40041b(0x846)]());}});}[_0x128a0b(0x54b)](_0x16bd06){const _0x387cf2=_0x128a0b;this[_0x387cf2(0x59e)]['removeSubscriptionsForNode'](_0x16bd06);}['close'](){const _0x5152c8=_0x128a0b;this[_0x5152c8(0x59e)][_0x5152c8(0x605)][_0x5152c8(0x8b3)](this[_0x5152c8(0x981)]['bind'](this));}['closeSubscription'](_0x309e51,_0x55a7df){const _0x414edc=_0x128a0b;this[_0x414edc(0x59e)]['closeSubscription'](_0x309e51,_0x55a7df);}['getSubscriptionInfo'](_0x35e58a,{label:_0x29cbd6,ownerId:_0x4cf5fb,trackKinds:_0x41d40e,params:_0x43a32f}){const _0xef899e=_0x128a0b;if(_0x4cf5fb!==this['configs'][_0xef899e(0x8cc)][_0xef899e(0x993)]()){const _0x111958=this[_0xef899e(0x282)]['mediator'][_0xef899e(0x597)](_0x4cf5fb,_0x29cbd6);return _0x111958&&_0x111958[_0xef899e(0x5b8)]()!==_0x35e58a?{'hasTracks':_0x111958[_0xef899e(0x1de)](_0x41d40e),'hasResolution':this['canProvideResolution'](_0x111958['getResolution'](),_0x43a32f),'streamId':_0x111958['getShareableStreamId'](),'distance':this['configs'][_0xef899e(0x271)][_0xef899e(0xaf8)](_0x35e58a,_0x4cf5fb),'subscriptionLabel':_0x3a5742(_0x172daa['Outgoing'],{'contentType':_0x16f74[_0xef899e(0x6f5)][_0xef899e(0x36d)],'label':_0x111958[_0xef899e(0x9c5)](),'remoteId':_0x35e58a})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x41d0bb=this['configs'][_0xef899e(0x271)][_0xef899e(0x483)](_0x29cbd6);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x41d0bb[_0xef899e(0x9c5)](),'distance':0x0,'subscriptionLabel':_0x3a5742(_0x172daa[_0xef899e(0x53a)],{'contentType':_0x16f74[_0xef899e(0x6f5)][_0xef899e(0x36d)],'label':_0x41d0bb[_0xef899e(0x9c5)](),'remoteId':_0x35e58a})};}[_0x128a0b(0x809)](){const _0x3e5203=_0x128a0b;return Array[_0x3e5203(0x1ec)](this[_0x3e5203(0x59e)][_0x3e5203(0x605)][_0x3e5203(0x268)]())[_0x3e5203(0x2ca)](([_0xe34e29,{source:_0x36ba5e}])=>_0xe34e29[_0x3e5203(0x5fa)](_0x172daa['Outgoing'])&&_0x36ba5e[_0x3e5203(0x6da)]()===_0x16f74[_0x3e5203(0x6f5)][_0x3e5203(0x36d)])['length'];}[_0x128a0b(0x2ed)](_0x4d6134,_0x578c10){const _0x3e5776=_0x128a0b;if(!_0x578c10||!_0x578c10[_0x3e5776(0x1fb)]||_0x3e5776(0x862)==typeof _0x578c10[_0x3e5776(0x1fb)]||!_0x578c10[_0x3e5776(0x1fb)]['maxResolution'])return!0x0;const {width:_0x454cce,height:_0x39b6c6}=_0x578c10[_0x3e5776(0x1fb)][_0x3e5776(0x474)];return _0x4d6134[_0x3e5776(0x6c6)]>=_0x454cce&&_0x4d6134['height']>=_0x39b6c6;}}class _0x48e277{[_0x128a0b(0x282)];[_0x128a0b(0x937)];['maxDistance'];[_0x128a0b(0x7be)];[_0x128a0b(0x523)];['outgoingManager'];constructor(_0x19a910,_0x56cc9c,_0x4eb516){const _0x494ba6=_0x128a0b;this[_0x494ba6(0x282)]=_0x19a910,this[_0x494ba6(0x937)]=_0x56cc9c,this[_0x494ba6(0x903)]=_0x4eb516,this[_0x494ba6(0x282)]['mediator'][_0x494ba6(0x3cc)](this),this[_0x494ba6(0x523)]=new _0x4f24f7(this[_0x494ba6(0x282)],this['maxDistance']),this[_0x494ba6(0x660)]=new _0x3c58bd(this[_0x494ba6(0x282)],this[_0x494ba6(0x937)]);}['registerSystemPublisher'](_0x271119){const _0x1c2df9=_0x128a0b;this[_0x1c2df9(0x7be)]=_0x271119;}[_0x128a0b(0x211)](){const _0x1912af=_0x128a0b;delete this[_0x1912af(0x7be)];}[_0x128a0b(0x42d)](){const _0x50e34c=_0x128a0b;this[_0x50e34c(0x523)][_0x50e34c(0x42d)](),this[_0x50e34c(0x660)][_0x50e34c(0x42d)](),this[_0x50e34c(0x282)][_0x50e34c(0x271)]['unregisterSystemSource'](this);}['createIncomingSubscription'](_0x2c65b2,_0x435823){const _0x372728=_0x128a0b;this[_0x372728(0x523)][_0x372728(0xb05)](_0x2c65b2,_0x435823);}[_0x128a0b(0x1f5)](_0x4858fd,_0x5b2e16){const _0x1b3100=_0x128a0b;this[_0x1b3100(0x660)][_0x1b3100(0xb05)](_0x4858fd,_0x5b2e16);}[_0x128a0b(0xb13)](_0x5c9c29,_0x361e52,_0x4cb406=''){const _0x208742=_0x128a0b;this[_0x208742(0x523)][_0x208742(0x9cb)](_0x5c9c29,_0x361e52,_0x4cb406);}['removeOutgoingSubscription'](_0x4c5a49,_0x12eb31,_0x366121=''){const _0x53ea45=_0x128a0b;try{this[_0x53ea45(0x660)][_0x53ea45(0x9cb)](_0x4c5a49,_0x12eb31,_0x366121);}catch(_0x28777c){if(_0x28777c instanceof _0x4204a5&&_0x28777c[_0x53ea45(0x1ce)]===_0x4204a5[_0x53ea45(0x7f9)][_0x53ea45(0x8db)])return;}}[_0x128a0b(0x77d)](_0x3bf3eb){const _0x3e0458=_0x128a0b;switch(_0x3bf3eb[_0x3e0458(0x95d)][_0x3e0458(0x7dd)]){case _0x1bde37['SubscribeMediaStream']:this[_0x3e0458(0x445)](_0x3bf3eb[_0x3e0458(0x898)],_0x3bf3eb['content']);break;case _0x1bde37[_0x3e0458(0x59c)]:this['outgoingManager'][_0x3e0458(0xa1b)](_0x3bf3eb[_0x3e0458(0x898)],_0x3bf3eb[_0x3e0458(0x95d)]);break;case _0x1bde37[_0x3e0458(0xa48)]:this[_0x3e0458(0x71a)](_0x3bf3eb[_0x3e0458(0x898)],_0x3bf3eb['content']);break;case _0x1bde37[_0x3e0458(0x49b)]:this['incomingManager'][_0x3e0458(0x40e)](_0x3bf3eb[_0x3e0458(0x898)],_0x3bf3eb[_0x3e0458(0x95d)]);break;case _0x1bde37['CanProvideMediaStream']:case _0x1bde37[_0x3e0458(0x519)]:this[_0x3e0458(0x523)][_0x3e0458(0x5e8)](_0x3bf3eb[_0x3e0458(0x898)],_0x3bf3eb['content']);break;case _0x1bde37[_0x3e0458(0x5ea)]:this[_0x3e0458(0x523)][_0x3e0458(0x601)](_0x3bf3eb['sourceId'],_0x3bf3eb[_0x3e0458(0x95d)]);}}[_0x128a0b(0x343)](_0x55b1bb){const _0x3d626a=_0x128a0b;switch(_0x55b1bb[_0x3d626a(0x95d)][_0x3d626a(0x7dd)]){case _0x267eb0[_0x3d626a(0x95e)]:this['incomingManager'][_0x3d626a(0x458)](_0x55b1bb[_0x3d626a(0x95d)]),this['outgoingManager'][_0x3d626a(0x458)](_0x55b1bb[_0x3d626a(0x95d)]);break;case _0x267eb0[_0x3d626a(0x89a)]:this[_0x3d626a(0x523)]['handleContentSubscribeMediaStream'](_0x55b1bb[_0x3d626a(0x95d)]);break;case _0x267eb0['UpdateMediaStream']:this['incomingManager'][_0x3d626a(0x74c)](_0x55b1bb[_0x3d626a(0x95d)]);break;case _0x267eb0['UnsubscribeMediaStream']:this[_0x3d626a(0x83f)](_0x55b1bb['sourceId'],_0x55b1bb['content']);break;case _0x267eb0[_0x3d626a(0x570)]:this[_0x3d626a(0x660)][_0x3d626a(0xa09)](_0x55b1bb[_0x3d626a(0x95d)]);break;case _0x267eb0[_0x3d626a(0x595)]:this[_0x3d626a(0x7e6)](_0x55b1bb[_0x3d626a(0x95d)][_0x3d626a(0x9ce)],_0x16f74[_0x3d626a(0x6f5)][_0x3d626a(0x7ba)]);break;case _0x267eb0['CloseObjectStoreBucket']:this[_0x3d626a(0x7e6)](_0x55b1bb[_0x3d626a(0x95d)][_0x3d626a(0x9ce)],_0x16f74[_0x3d626a(0x6f5)]['ObjectStore']);break;case _0x267eb0[_0x3d626a(0x1c9)]:this[_0x3d626a(0x7e6)](_0x55b1bb['content'][_0x3d626a(0x9ce)],_0x16f74['ContentType'][_0x3d626a(0x438)]);break;case _0x267eb0[_0x3d626a(0x218)]:this['handleCloseContent'](_0x55b1bb['content']['label'],_0x16f74[_0x3d626a(0x6f5)][_0x3d626a(0xa05)]);break;case _0x267eb0['CloseVectorDatabase']:this['handleCloseContent'](_0x55b1bb['content'][_0x3d626a(0x9ce)],_0x16f74['ContentType'][_0x3d626a(0x56f)]);break;case _0x267eb0[_0x3d626a(0x694)]:this[_0x3d626a(0x7e6)](_0x55b1bb[_0x3d626a(0x95d)][_0x3d626a(0x9ce)],_0x16f74[_0x3d626a(0x6f5)][_0x3d626a(0x789)]);break;case _0x267eb0[_0x3d626a(0x656)]:case _0x267eb0[_0x3d626a(0x2a7)]:this[_0x3d626a(0x7e6)](_0x55b1bb[_0x3d626a(0x95d)][_0x3d626a(0x9ce)],_0x16f74[_0x3d626a(0x6f5)][_0x3d626a(0x22b)]);break;case _0x267eb0[_0x3d626a(0x78e)]:this[_0x3d626a(0x523)][_0x3d626a(0x327)](_0x55b1bb[_0x3d626a(0x95d)]);}}['handleNodeSystemEvents']({content:_0x588ebc}){const _0x367b12=_0x128a0b;_0x588ebc['type']===_0x11eb85[_0x367b12(0x75e)]&&this[_0x367b12(0x54b)](_0x588ebc);}[_0x128a0b(0xaff)](_0x31ee7a){const _0x29dffc=_0x128a0b;_0x31ee7a[_0x29dffc(0x95d)][_0x29dffc(0x7dd)]===_0x303120[_0x29dffc(0x3de)]&&this['incomingManager']['handleOptimizationConnectionSuccess'](_0x31ee7a[_0x29dffc(0x898)]);}[_0x128a0b(0x83f)](_0x5bd34b,_0x1f7455){const _0x30c5b2=_0x128a0b;this[_0x30c5b2(0x523)][_0x30c5b2(0x83f)](_0x1f7455),this[_0x30c5b2(0x660)]['handleContentUnsubscribeMediaStream'](_0x5bd34b,_0x1f7455)[_0x30c5b2(0x8b3)](_0x29903f=>this[_0x30c5b2(0x7be)][_0x30c5b2(0x56d)](_0x29903f));}['handleSubscriptionSubscribeMediaStream'](_0x4a0709,_0x2d5252){const _0x21591c=_0x128a0b,_0x5877cf=this[_0x21591c(0x660)][_0x21591c(0x445)](_0x4a0709,_0x2d5252);if(_0x5877cf&&(this[_0x21591c(0x7be)][_0x21591c(0x56d)]({'sourceId':this[_0x21591c(0x282)]['localNode'][_0x21591c(0x993)](),'destinationIds':[_0x4a0709],'messageType':_0x562b7c['Subscription'],'content':_0x5877cf}),_0x5877cf[_0x21591c(0x7dd)]===_0x1bde37[_0x21591c(0x49b)]))throw new _0x4cb4b0(_0x21591c(0x450));}[_0x128a0b(0x71a)](_0x14b43d,_0x8b3b57){const _0x4f4d0d=_0x128a0b,_0x3c04a3=this[_0x4f4d0d(0x660)]['handleSubscriptionNeedMediaStream'](_0x14b43d,_0x8b3b57);this[_0x4f4d0d(0x7be)][_0x4f4d0d(0x56d)]({'sourceId':this['configs'][_0x4f4d0d(0x8cc)][_0x4f4d0d(0x993)](),'destinationIds':[_0x14b43d],'messageType':_0x562b7c[_0x4f4d0d(0x533)],'content':_0x3c04a3});}[_0x128a0b(0x7e6)](_0x2727c,_0x4ee31f){this['removeIncomingSubscription'](_0x2727c,_0x4ee31f),this['removeOutgoingSubscription'](_0x2727c,_0x4ee31f);}[_0x128a0b(0x54b)]({id:_0x130be0}){const _0xb96ac9=_0x128a0b;this[_0xb96ac9(0x523)]['removeSubscriptionsForNode'](_0x130be0),this['outgoingManager']['removeSubscriptionsForNode'](_0x130be0);}}class _0x34cd3f{[_0x128a0b(0x9ce)];[_0x128a0b(0x942)]=_0x41572e();constructor(){const _0x1440f4=_0x128a0b;this[_0x1440f4(0x9ce)]=0x0;}[_0x128a0b(0x5d1)](){return this['label'];}[_0x128a0b(0x6da)](){return _0x16f74['ContentType']['Data'];}[_0x128a0b(0x7ce)](_0x34241f){const _0x34491a=_0x128a0b;_0x34241f[_0x34491a(0x8fe)](this);}[_0x128a0b(0x311)](_0x53398b){const _0x239dae=_0x128a0b;_0x53398b[_0x239dae(0x211)]();}[_0x128a0b(0x56d)](_0xafadcc){const _0x3eb4e9=_0x128a0b;_0x265260['log'](_0x1367fe[_0x3eb4e9(0x86a)],_0x3eb4e9(0x78c),_0xafadcc[_0x3eb4e9(0x898)],_0xafadcc),this[_0x3eb4e9(0x942)][_0x3eb4e9(0x56d)]({'topicLabel':this[_0x3eb4e9(0x9ce)],'contentType':_0x16f74[_0x3eb4e9(0x6f5)]['Data'],'uuid':_0xafadcc[_0x3eb4e9(0x468)]??(0x0,_0x49421a['v4'])(),'recipients':_0xafadcc['recipients']??[],..._0xafadcc});}[_0x128a0b(0x3b4)](_0x47d5cf){const _0x3c88a2=_0x128a0b;return this[_0x3c88a2(0x942)][_0x3c88a2(0x3b4)](_0x47d5cf);}}class _0x165935{[_0x128a0b(0x5e7)];[_0x128a0b(0x3ba)]=[];[_0x128a0b(0x6e6)];[_0x128a0b(0x18a)]=new Map();['nodeUpdate']=_0x41572e();constructor(_0x43e9b6){const _0x8b3a0f=_0x128a0b;this[_0x8b3a0f(0x5e7)]=_0x43e9b6,this[_0x8b3a0f(0x6e6)]=(this[_0x8b3a0f(0x5e7)]['maxConnections']-0x2*this[_0x8b3a0f(0x5e7)][_0x8b3a0f(0xa51)])/0x2,this['ranges']['push']({'start':0x1,'end':this['getNextTargetRank'](0x1,0x1)-0x1});for(let _0x1f1110=0x0;_0x1f1110<this[_0x8b3a0f(0x6e6)];++_0x1f1110)this[_0x8b3a0f(0x3ba)]['push']({'start':this[_0x8b3a0f(0x1fa)](0x1,_0x1f1110+0x1),'end':this[_0x8b3a0f(0x1fa)](0x1,_0x1f1110+0x2)-0x1});}[_0x128a0b(0x1fa)](_0x12ac08,_0x14a84c=0x1){const _0x4fb2cb=_0x128a0b;let _0xd48a4f=this['options']['maxDistance']-this[_0x4fb2cb(0x5e7)][_0x4fb2cb(0xa51)],_0x2fe2fd=0x1;for(let _0x12fc24=0x1;_0x12fc24<_0x14a84c;++_0x12fc24)_0xd48a4f*=this[_0x4fb2cb(0x5e7)][_0x4fb2cb(0x903)]-this[_0x4fb2cb(0x5e7)]['minConnections']-_0x12fc24,_0x2fe2fd*=this[_0x4fb2cb(0x5e7)][_0x4fb2cb(0x903)]-this[_0x4fb2cb(0x5e7)][_0x4fb2cb(0xa51)]-_0x12fc24+0x1;return _0xd48a4f*this[_0x4fb2cb(0x5e7)][_0x4fb2cb(0xa51)]+_0x12ac08-_0x2fe2fd;}[_0x128a0b(0xa7a)](_0x280e80){const _0x367141=_0x128a0b;let _0x20e881=0x0;for(;this['ranges'][_0x20e881][_0x367141(0x2e1)]<_0x280e80;)_0x20e881+=0x1;return _0x20e881;}[_0x128a0b(0x492)](){const _0x16fd18=_0x128a0b;return this[_0x16fd18(0x5e7)][_0x16fd18(0xa51)];}[_0x128a0b(0x97f)](){const _0x4f7507=_0x128a0b;return this[_0x4f7507(0x5e7)]['maxConnections'];}[_0x128a0b(0x307)](){const _0x2d2f2c=_0x128a0b;return this[_0x2d2f2c(0x5e7)]['maxDistance'];}['getRemoteNodes'](){const _0x4d7ef5=_0x128a0b;return this[_0x4d7ef5(0x18a)];}['setRemoteNode'](_0xf480b7,_0x563048){const _0x41c8be=_0x128a0b;this[_0x41c8be(0x18a)][_0x41c8be(0x663)](_0xf480b7,_0x563048),this['nodeUpdate'][_0x41c8be(0x56d)]();}[_0x128a0b(0x441)](_0x33be4c){const _0x1a6f3b=_0x128a0b;this[_0x1a6f3b(0x18a)][_0x1a6f3b(0x560)](_0x33be4c),this[_0x1a6f3b(0x5e0)][_0x1a6f3b(0x56d)]();}['hasRemoteNode'](_0x485510){const _0x8ad7c3=_0x128a0b;return this['remoteNodes'][_0x8ad7c3(0x301)](_0x485510);}[_0x128a0b(0x76f)](_0x17a27d){const _0x4a3922=_0x128a0b;return this[_0x4a3922(0x18a)][_0x4a3922(0x8b0)](_0x17a27d);}[_0x128a0b(0xa97)](_0x5223f9,_0x1d67fb){const _0x1d75cf=_0x128a0b,_0x1c518f=this[_0x1d75cf(0x76f)](_0x1d67fb)?.[_0x1d75cf(0x46e)]()??0x0;return _0x5223f9[_0x1d75cf(0x8ac)](_0x53b6fe=>this[_0x1d75cf(0x76f)](_0x53b6fe))[_0x1d75cf(0x2ca)](_0x265880=>void 0x0!==_0x265880)[_0x1d75cf(0x393)]((_0x2e7cf7,_0x26316f)=>Math[_0x1d75cf(0x8e8)](_0x1c518f-(_0x2e7cf7&&_0x2e7cf7[_0x1d75cf(0x46e)]()||0x1/0x0))-Math[_0x1d75cf(0x8e8)](_0x1c518f-(_0x26316f&&_0x26316f['getRank']()||0x1/0x0)))[_0x1d75cf(0x8ac)](_0x203be4=>_0x203be4[_0x1d75cf(0x993)]());}[_0x128a0b(0xb08)](_0x200bb8){const _0x6dc892=_0x128a0b;return this[_0x6dc892(0x5e0)]['subscribe'](_0x200bb8);}}class _0xb33343{[_0x128a0b(0x61b)];['clusterId'];[_0x128a0b(0x23e)];[_0x128a0b(0x3b9)];[_0x128a0b(0x5e7)];[_0x128a0b(0x282)];['clusterEventEmitter'];['contentManager'];['connectionManager'];['subscriptionManager'];[_0x128a0b(0x4df)];[_0x128a0b(0xad7)];[_0x128a0b(0x673)];['nodeManager'];[_0x128a0b(0x292)];[_0x128a0b(0x7be)]=new _0x34cd3f();[_0x128a0b(0xa01)];[_0x128a0b(0x8cc)];constructor(_0x4fc5f4,_0x382cd2,_0x37d9a8,_0x38f024,_0x46549e,_0x17bf37,_0x47e165){const _0x31386d=_0x128a0b;switch(this['vendorId']=_0x4fc5f4,this[_0x31386d(0x2cd)]=_0x382cd2,this[_0x31386d(0x23e)]=_0x37d9a8,this[_0x31386d(0x3b9)]=_0x38f024,this['options']=_0x46549e,this[_0x31386d(0x282)]=_0x17bf37,this[_0x31386d(0x9ed)]=_0x47e165,_0x37d9a8[_0x31386d(0x7dd)]){case _0x16f74[_0x31386d(0x8d0)]['User']:this['localNode']=new _0x243c4e(_0x37d9a8[_0x31386d(0x993)](),_0x37d9a8[_0x31386d(0x530)](),_0x37d9a8[_0x31386d(0x53c)]());break;case _0x16f74[_0x31386d(0x8d0)][_0x31386d(0x1ae)]:default:this['localNode']=new _0x126c9a(_0x37d9a8[_0x31386d(0x993)]());}const _0x4bd57f=this[_0x31386d(0x253)]();this[_0x31386d(0x292)]=new _0x165935(this[_0x31386d(0x5e7)]),this[_0x31386d(0x19a)]=new _0x2612fe(_0x4bd57f,this[_0x31386d(0x5e7)]),this[_0x31386d(0xa0e)]=new _0xb32d4(_0x4bd57f,this[_0x31386d(0x3b9)],this['graphService'],this[_0x31386d(0x282)][_0x31386d(0x1dd)],this[_0x31386d(0x5e7)]),this[_0x31386d(0x565)]=new _0x48e277(_0x4bd57f,this[_0x31386d(0x5e7)][_0x31386d(0x937)],this[_0x31386d(0x292)][_0x31386d(0x307)]()),this[_0x31386d(0x4df)]=new _0x1ce8d4(_0x4bd57f),this[_0x31386d(0xad7)]=new _0x3014ba(_0x4bd57f),this[_0x31386d(0x673)]=new _0x5d1168(_0x4bd57f),this[_0x31386d(0x760)]=new _0x506ca6(_0x4bd57f,this[_0x31386d(0x292)]),this[_0x31386d(0xa01)]=this[_0x31386d(0xa04)]();}['open'](){const _0x22ae1d=_0x128a0b,_0xa07a85=this[_0x22ae1d(0x253)]();this[_0x22ae1d(0xa0e)]=new _0xb32d4(_0xa07a85,this[_0x22ae1d(0x3b9)],this['graphService'],this['configs'][_0x22ae1d(0x1dd)],this[_0x22ae1d(0x5e7)]),this[_0x22ae1d(0x565)]=new _0x48e277(_0xa07a85,this[_0x22ae1d(0x5e7)][_0x22ae1d(0x937)],this[_0x22ae1d(0x292)][_0x22ae1d(0x307)]()),this['statsManager']=new _0x1ce8d4(_0xa07a85),this[_0x22ae1d(0xad7)]=new _0x3014ba(_0xa07a85),this['remediationManager']=new _0x5d1168(_0xa07a85),this[_0x22ae1d(0x760)]=new _0x506ca6(_0xa07a85,this['graphService']);const _0x59784f=this[_0x22ae1d(0xa0e)][_0x22ae1d(0x9ae)]();this[_0x22ae1d(0x19a)]['getPubSubTopics']()[_0x22ae1d(0x8b3)](_0x43e8fe=>{const _0x3e6b2d=_0x22ae1d;this[_0x3e6b2d(0x565)]['createOutgoingSubscription'](_0x43e8fe,_0x59784f),this[_0x3e6b2d(0x565)]['createIncomingSubscription'](_0x59784f,_0x43e8fe),_0x43e8fe['reset']();}),this['contentManager'][_0x22ae1d(0x67e)]()[_0x22ae1d(0x8b3)](_0x38db2c=>{const _0x1d95ce=_0x22ae1d;this[_0x1d95ce(0x565)][_0x1d95ce(0x1f5)](_0x38db2c,_0x59784f),this['subscriptionManager'][_0x1d95ce(0x43d)](_0x59784f,_0x38db2c),_0x38db2c[_0x1d95ce(0x49e)](),_0x38db2c[_0x1d95ce(0x39e)]();}),this[_0x22ae1d(0x19a)][_0x22ae1d(0x490)]()[_0x22ae1d(0x8b3)](_0x1e1917=>{const _0x5b6bbd=_0x22ae1d;this[_0x5b6bbd(0x565)][_0x5b6bbd(0x1f5)](_0x1e1917,_0x59784f),this['subscriptionManager'][_0x5b6bbd(0x43d)](_0x59784f,_0x1e1917),_0x1e1917[_0x5b6bbd(0x49e)](),this['syncKeyValueDatabase'](_0x1e1917);}),this[_0x22ae1d(0x19a)][_0x22ae1d(0x966)]()['forEach'](_0x3e9dd1=>{const _0x76ad3f=_0x22ae1d;this['subscriptionManager']['createOutgoingSubscription'](_0x3e9dd1,_0x59784f),this[_0x76ad3f(0x565)][_0x76ad3f(0x43d)](_0x59784f,_0x3e9dd1),_0x3e9dd1[_0x76ad3f(0x49e)]();}),this['contentManager'][_0x22ae1d(0x279)]()[_0x22ae1d(0x8b3)](_0x4b0670=>{const _0x4c73a1=_0x22ae1d;this[_0x4c73a1(0x565)][_0x4c73a1(0x1f5)](_0x4b0670,_0x59784f),this[_0x4c73a1(0x565)][_0x4c73a1(0x43d)](_0x59784f,_0x4b0670),_0x4b0670[_0x4c73a1(0x49e)]();}),this[_0x22ae1d(0x19a)][_0x22ae1d(0x653)]()[_0x22ae1d(0x8b3)](_0x41a197=>{const _0x151fbf=_0x22ae1d;this[_0x151fbf(0x565)]['createOutgoingSubscription'](_0x41a197,_0x59784f),this['subscriptionManager']['createIncomingSubscription'](_0x59784f,_0x41a197),_0x41a197[_0x151fbf(0x49e)]();}),this[_0x22ae1d(0x19a)][_0x22ae1d(0x4bd)]()[_0x22ae1d(0x8b3)](_0x541cc9=>{const _0x3bc66d=_0x22ae1d;this[_0x3bc66d(0x565)][_0x3bc66d(0x1f5)](_0x541cc9,_0x59784f),this['subscriptionManager'][_0x3bc66d(0x43d)](_0x59784f,_0x541cc9),_0x541cc9[_0x3bc66d(0x49e)]();}),this[_0x22ae1d(0xa01)]=this[_0x22ae1d(0xa04)]();}['registerSystemSource'](_0x11ce83){const _0x28e5d2=_0x128a0b;try{this['systemTopic'][_0x28e5d2(0x7ce)](_0x11ce83);}catch(_0x247945){this['handleError'](_0x247945,{});}}[_0x128a0b(0xa2a)](_0x43a84f){const _0x2c5bb4=_0x128a0b;try{this[_0x2c5bb4(0x7be)][_0x2c5bb4(0x311)](_0x43a84f);}catch(_0x311a3d){this[_0x2c5bb4(0xaa0)](_0x311a3d,{});}}['createConnection'](_0x3a56a6,_0x4e9e93){const _0x10fb04=_0x128a0b;return this['connectionManager'][_0x10fb04(0xa36)](_0x3a56a6,_0x4e9e93);}[_0x128a0b(0x305)](_0x5ab611){const _0x5c1f68=_0x128a0b;try{return this['connectionManager'][_0x5c1f68(0x305)](_0x5ab611);}catch(_0xd7f9df){throw this[_0x5c1f68(0xaa0)](_0xd7f9df,{});}}['getConnections'](_0x3ef19f){const _0x1564df=_0x128a0b;try{return this['connectionManager'][_0x1564df(0xaba)](_0x3ef19f);}catch(_0x2d2c45){throw this[_0x1564df(0xaa0)](_0x2d2c45,{});}}[_0x128a0b(0x597)](_0x3452c5,_0x1dc517){const _0x10dee3=_0x128a0b;try{return this[_0x10dee3(0x19a)]['getRemoteMediaStreams'](_0x2b63b=>_0x2b63b[_0x10dee3(0x5e3)]()===_0x3452c5&&_0x2b63b['getLabel']()===_0x1dc517)[0x0];}catch(_0x2ae750){throw this['handleError'](_0x2ae750,{});}}[_0x128a0b(0x483)](_0x4ab4c6){const _0x59b23b=_0x128a0b;try{return this[_0x59b23b(0x19a)]['getLocalMediaStreams'](_0x1b693e=>_0x1b693e[_0x59b23b(0x5d1)]()===_0x4ab4c6)[0x0];}catch(_0x379e61){throw this['handleError'](_0x379e61,{});}}[_0x128a0b(0x27f)]=(..._0x4e6f09)=>{const _0x240f0c=_0x128a0b;try{return this['clusterEventEmitter'][_0x240f0c(0x421)](..._0x4e6f09);}catch(_0x37a687){throw this[_0x240f0c(0xaa0)](_0x37a687,{});}};[_0x128a0b(0x47e)](_0x37bc09){const _0x5696c3=_0x128a0b;try{this[_0x5696c3(0x4df)][_0x5696c3(0x607)](_0x37bc09);}catch(_0x3972ed){throw this[_0x5696c3(0xaa0)](_0x3972ed,{});}}[_0x128a0b(0x66f)](_0x243774){const _0x4d4223=_0x128a0b;try{this['statsManager'][_0x4d4223(0x91f)](_0x243774);}catch(_0x56b689){throw this['handleError'](_0x56b689,{});}}['collectStats'](_0x407ddf){const _0x4b7517=_0x128a0b;return this[_0x4b7517(0xa0e)][_0x4b7517(0x27a)](_0x407ddf);}async[_0x128a0b(0x7fd)](){const _0x2d1d9e=_0x128a0b;try{await this[_0x2d1d9e(0xa0e)][_0x2d1d9e(0x7fd)]();const _0x442b84=await this['nodeManager'][_0x2d1d9e(0x7a9)]();for(const _0x207f22 of _0x442b84)this[_0x2d1d9e(0xa0e)][_0x2d1d9e(0xa36)](_0x207f22);}catch(_0x2c5f60){throw this['handleError'](_0x2c5f60,{});}}[_0x128a0b(0x94a)](_0x21ab07){const _0x307faf=_0x128a0b;this[_0x307faf(0x8cc)]['type']===_0x16f74[_0x307faf(0x8d0)]['User']&&(this[_0x307faf(0x8cc)][_0x307faf(0x488)](_0x21ab07[_0x307faf(0x53c)]()),this[_0x307faf(0x8cc)][_0x307faf(0x447)](_0x21ab07[_0x307faf(0x530)]()));}[_0x128a0b(0x42d)]({force:_0x44ee8a=!0x1},_0x31920c=!0x1){const _0x5ada0b=_0x128a0b;if(_0x265260[_0x5ada0b(0x1c3)](_0x5ada0b(0x432),{'clusterId':this[_0x5ada0b(0x2cd)],'nodeId':this[_0x5ada0b(0x8cc)][_0x5ada0b(0x993)](),'nodeType':this[_0x5ada0b(0x8cc)]['type']}),!_0x44ee8a&&this[_0x5ada0b(0xa0e)][_0x5ada0b(0x888)]())throw new _0x325cc6(_0x3336f9[_0x5ada0b(0x3e3)],'Cannot\x20close\x20the\x20SDK\x20while\x20data\x20is\x20being\x20transferred.\x20Use\x20`force`\x20parameter\x20to\x20interrupt\x20the\x20connection');_0x265260['processBatch'](),this[_0x5ada0b(0xa01)](),this['remediationManager']['close'](),this[_0x5ada0b(0xad7)][_0x5ada0b(0x42d)](),this[_0x5ada0b(0x4df)][_0x5ada0b(0x42d)](),this['subscriptionManager'][_0x5ada0b(0x42d)](),this[_0x5ada0b(0xa0e)][_0x5ada0b(0x42d)](),this[_0x5ada0b(0x19a)][_0x5ada0b(0x42d)](_0x31920c),this[_0x5ada0b(0x760)][_0x5ada0b(0x42d)]();}['openPubSubTopic'](_0x1c39fa){const _0x1a9066=_0x128a0b;try{const _0x2ffd48=this[_0x1a9066(0x19a)][_0x1a9066(0x296)](_0x1c39fa),_0x32a61f=this[_0x1a9066(0xa0e)][_0x1a9066(0x9ae)]();return this[_0x1a9066(0x565)][_0x1a9066(0x1f5)](_0x2ffd48,_0x32a61f),this[_0x1a9066(0x565)]['createIncomingSubscription'](_0x32a61f,_0x2ffd48),_0x2ffd48;}catch(_0x2fdf4a){throw this[_0x1a9066(0xaa0)](_0x2fdf4a,{});}}async['openObjectStoreBucket'](_0x503ccb,_0x292c35){const _0x13aaa7=_0x128a0b;try{const _0x1c412a=this[_0x13aaa7(0x19a)][_0x13aaa7(0x63d)](_0x503ccb,this[_0x13aaa7(0x5e7)][_0x13aaa7(0xb0a)],_0x292c35),_0x3d9bd3=this[_0x13aaa7(0xa0e)][_0x13aaa7(0x9ae)]();return this['subscriptionManager'][_0x13aaa7(0x1f5)](_0x1c412a,_0x3d9bd3),this['subscriptionManager'][_0x13aaa7(0x43d)](_0x3d9bd3,_0x1c412a),await _0x1c412a['sync'](),_0x1c412a;}catch(_0x1c7f58){throw this[_0x13aaa7(0xaa0)](_0x1c7f58,{});}}async[_0x128a0b(0x52a)](_0x39d950,_0x2f79f4){const _0x1c3ba1=_0x128a0b;try{if(!this[_0x1c3ba1(0x5e7)]['externalStorageConnectors'])throw new _0x325cc6(_0x3336f9[_0x1c3ba1(0x8e4)],'Missing\x20external\x20storage\x20connector');if(!(this[_0x1c3ba1(0x23e)]instanceof _0x83afd9))throw new _0x325cc6(_0x3336f9[_0x1c3ba1(0x513)],_0x1c3ba1(0x845));const _0xf158cc=this[_0x1c3ba1(0x5e7)][_0x1c3ba1(0x8fd)]['get'](_0x2f79f4);if(!_0xf158cc)throw new _0x325cc6(_0x3336f9['ExternalStorageConnectorsMissing'],_0x1c3ba1(0x9d2));const _0x1d9aa5=this['contentManager']['createExternalStorageConnection'](_0x39d950,_0xf158cc),_0x4b1ed0=this[_0x1c3ba1(0xa0e)][_0x1c3ba1(0x9ae)]();return this[_0x1c3ba1(0x565)][_0x1c3ba1(0x1f5)](_0x1d9aa5,_0x4b1ed0),this[_0x1c3ba1(0x565)][_0x1c3ba1(0x43d)](_0x4b1ed0,_0x1d9aa5),await _0x1d9aa5['open'](),_0x1d9aa5;}catch(_0x3be2b5){throw this[_0x1c3ba1(0xaa0)](_0x3be2b5,{});}}async[_0x128a0b(0x572)](_0x4997bb,_0x40bfbc,_0x6056c9){const _0x533bbc=_0x128a0b;try{_0x6056c9=_0x6056c9||this[_0x533bbc(0x5e7)][_0x533bbc(0x1a2)];const _0x2142dc=await this[_0x533bbc(0x19a)][_0x533bbc(0xa1e)](_0x4997bb,_0x40bfbc,_0x6056c9),_0x102d84=this[_0x533bbc(0xa0e)]['getConnectionGroup']();return this[_0x533bbc(0x565)]['createOutgoingSubscription'](_0x2142dc,_0x102d84),this[_0x533bbc(0x565)]['createIncomingSubscription'](_0x102d84,_0x2142dc),await _0x2142dc[_0x533bbc(0x645)](),this['syncKeyValueDatabase'](_0x2142dc),_0x2142dc;}catch(_0x21e0dd){throw this['handleError'](_0x21e0dd,{});}}async[_0x128a0b(0xb0e)](_0x566d32){const _0x520de4=_0x128a0b;try{const _0x573333=await this[_0x520de4(0x19a)][_0x520de4(0x868)](_0x566d32,this[_0x520de4(0x292)]),_0xaeacc0=this['connectionManager'][_0x520de4(0x9ae)]();return this[_0x520de4(0x565)][_0x520de4(0x1f5)](_0x573333,_0xaeacc0),this[_0x520de4(0x565)][_0x520de4(0x43d)](_0xaeacc0,_0x573333),_0x573333[_0x520de4(0x645)](),_0x573333;}catch(_0x5b2c29){throw this[_0x520de4(0xaa0)](_0x5b2c29,{});}}async[_0x128a0b(0x9eb)](_0x286f0c){const _0x52b24e=_0x128a0b;throw new Error(_0x52b24e(0xac6));}async['openGenerativeAIContext'](_0x1b3652){const _0x285388=_0x128a0b;try{const _0x3c554c=await this[_0x285388(0x19a)][_0x285388(0x940)](_0x1b3652,this['graphService']),_0x2911a9=this[_0x285388(0xa0e)][_0x285388(0x9ae)]();return this[_0x285388(0x565)]['createOutgoingSubscription'](_0x3c554c,_0x2911a9),this[_0x285388(0x565)][_0x285388(0x43d)](_0x2911a9,_0x3c554c),_0x3c554c[_0x285388(0x645)](),_0x3c554c;}catch(_0x4f01a4){throw console[_0x285388(0x5b5)](_0x4f01a4),this[_0x285388(0xaa0)](_0x4f01a4,{});}}async[_0x128a0b(0x1f4)](_0x2f3f7b){const _0x16fa99=_0x128a0b;try{if(!this[_0x16fa99(0x5e7)]['generativeAIWorkerConnectors']||!this['options'][_0x16fa99(0x193)]||!this[_0x16fa99(0x5e7)][_0x16fa99(0x2dc)])throw new _0x325cc6(_0x3336f9['GenerativeAIWorkerMissingConnector'],_0x16fa99(0x707));if(!(this['authNode']instanceof _0x83afd9))throw new _0x325cc6(_0x3336f9[_0x16fa99(0x513)],'Node\x20is\x20not\x20an\x20agent');const _0x9cf10=[];for(const [_0x53b595,_0x1a9f96]of this[_0x16fa99(0x5e7)][_0x16fa99(0x3cf)]){let _0x57a692;if('openai'===_0x53b595){if(!this[_0x16fa99(0x282)][_0x16fa99(0x93c)])throw new _0x325cc6(_0x3336f9[_0x16fa99(0x833)],_0x16fa99(0x6a0));_0x57a692=this[_0x16fa99(0x282)][_0x16fa99(0x93c)];}_0x9cf10[_0x16fa99(0xa98)](new _0x1a9f96(_0x57a692));}const _0x461337=new this['options'][(_0x16fa99(0x193))](),_0x2d8b65=new this[(_0x16fa99(0x5e7))][(_0x16fa99(0x2dc))]();let _0xe43b93,_0x47fa1a,_0xedd5d7,_0xf6af3d;if(this['options']['searchConnector']){if(!this[_0x16fa99(0x282)][_0x16fa99(0x583)])throw new _0x325cc6(_0x3336f9[_0x16fa99(0x833)],_0x16fa99(0x842));_0xe43b93=new this[(_0x16fa99(0x5e7))][(_0x16fa99(0x6d9))](this[_0x16fa99(0x282)][_0x16fa99(0x583)]);}if(this[_0x16fa99(0x5e7)][_0x16fa99(0x568)]){if(!this[_0x16fa99(0x282)][_0x16fa99(0xa3c)])throw new _0x325cc6(_0x3336f9[_0x16fa99(0x833)],_0x16fa99(0x7d1));_0x47fa1a=new this['options']['aiSearchConnector'](this[_0x16fa99(0x282)][_0x16fa99(0xa3c)]);}if(this[_0x16fa99(0x5e7)][_0x16fa99(0x502)]&&(_0xedd5d7=new this['options'][(_0x16fa99(0x502))]()),this['options'][_0x16fa99(0x6ac)]){if(!this['configs']['ragApiKey'])throw new _0x325cc6(_0x3336f9['ApiKeyMissing'],_0x16fa99(0x3cb));_0xf6af3d=new this['options'][(_0x16fa99(0x6ac))](this[_0x16fa99(0x282)][_0x16fa99(0x21e)]);}const _0x801cd=await this[_0x16fa99(0x19a)][_0x16fa99(0x272)](_0x2f3f7b,this[_0x16fa99(0x23e)],_0x9cf10,_0x461337,_0x2d8b65,_0xe43b93,_0x47fa1a,_0xedd5d7,_0xf6af3d,this[_0x16fa99(0x282)][_0x16fa99(0x93c)]),_0x45d9fd=this[_0x16fa99(0xa0e)][_0x16fa99(0x9ae)]();this[_0x16fa99(0x565)][_0x16fa99(0x1f5)](_0x801cd,_0x45d9fd),this['subscriptionManager'][_0x16fa99(0x43d)](_0x45d9fd,_0x801cd);const _0xbdecab=this['nodeManager']['getAncestorIds']();return await _0x801cd[_0x16fa99(0x645)](0x0===_0xbdecab[_0x16fa99(0xa20)]||void 0x0),_0x801cd;}catch(_0x1ba350){throw this[_0x16fa99(0xaa0)](_0x1ba350,{});}}[_0x128a0b(0x71f)](_0x1780b5){const _0x379a88=_0x128a0b;try{if(!this[_0x379a88(0x5e7)][_0x379a88(0x786)])throw new _0x325cc6(_0x3336f9[_0x379a88(0xa0a)],_0x379a88(0x912));if(!(this['authNode']instanceof _0x83afd9))throw new _0x325cc6(_0x3336f9['NodeInvalidType'],_0x379a88(0x845));const _0x4e46a8=this['contentManager'][_0x379a88(0x4f0)](_0x1780b5,this[_0x379a88(0x5e7)][_0x379a88(0x786)]),_0x5bf1cd=this[_0x379a88(0xa0e)][_0x379a88(0x9ae)]();return this[_0x379a88(0x565)][_0x379a88(0x1f5)](_0x4e46a8,_0x5bf1cd),this[_0x379a88(0x565)]['createIncomingSubscription'](_0x5bf1cd,_0x4e46a8),_0x4e46a8;}catch(_0x2bcedf){throw this[_0x379a88(0xaa0)](_0x2bcedf,{});}}[_0x128a0b(0x4c6)](_0x274e5e){const _0x5e9fd5=_0x128a0b;try{if(!this['options'][_0x5e9fd5(0x57c)])throw new _0x325cc6(_0x3336f9['VectorDatabaseMissingConnector'],_0x5e9fd5(0x70d));if(!(this[_0x5e9fd5(0x23e)]instanceof _0x83afd9))throw new _0x325cc6(_0x3336f9[_0x5e9fd5(0x513)],_0x5e9fd5(0x845));const _0x1d758d=this['contentManager']['createVectorDatabase'](_0x274e5e,this['options'][_0x5e9fd5(0x57c)]),_0x2e37ab=this[_0x5e9fd5(0xa0e)][_0x5e9fd5(0x9ae)]();return this[_0x5e9fd5(0x565)]['createOutgoingSubscription'](_0x1d758d,_0x2e37ab),this[_0x5e9fd5(0x565)][_0x5e9fd5(0x43d)](_0x2e37ab,_0x1d758d),_0x1d758d;}catch(_0x5e8d28){throw this['handleError'](_0x5e8d28,{});}}['getPubSubTopics'](_0x422269){try{return this['contentManager']['getPubSubTopics'](_0x422269);}catch(_0x4b7cf1){throw this['handleError'](_0x4b7cf1,{});}}[_0x128a0b(0x67e)](_0x10af13){const _0x19b400=_0x128a0b;try{return this[_0x19b400(0x19a)][_0x19b400(0x67e)](_0x10af13);}catch(_0x2fdcbf){throw this['handleError'](_0x2fdcbf,{});}}['getExternalStorageConnections'](_0x4af364){const _0x183c51=_0x128a0b;try{return this[_0x183c51(0x19a)][_0x183c51(0x865)](_0x4af364);}catch(_0x3f1ba4){throw this['handleError'](_0x3f1ba4,{});}}['getKeyValueDatabases'](_0x304576){const _0x32e3ff=_0x128a0b;try{return this[_0x32e3ff(0x19a)][_0x32e3ff(0x490)](_0x304576);}catch(_0x27999f){throw this[_0x32e3ff(0xaa0)](_0x27999f,{});}}[_0x128a0b(0xaa1)](_0x470385){const _0xf947e3=_0x128a0b;try{return this[_0xf947e3(0x19a)][_0xf947e3(0xaa1)](_0x470385);}catch(_0x102f16){throw this[_0xf947e3(0xaa0)](_0x102f16,{});}}[_0x128a0b(0x698)](_0x2d0d3f){const _0x4a83ef=_0x128a0b;try{return this['contentManager']['getGenerativeAIWorkers'](_0x2d0d3f);}catch(_0x26d0af){throw this[_0x4a83ef(0xaa0)](_0x26d0af,{});}}[_0x128a0b(0x4bd)](_0x409e79){const _0x1054aa=_0x128a0b;try{return this[_0x1054aa(0x19a)][_0x1054aa(0x4bd)](_0x409e79);}catch(_0x292d10){throw this[_0x1054aa(0xaa0)](_0x292d10,{});}}[_0x128a0b(0xb04)](_0x3f47ca,_0x3986e5){const _0x543e2c=_0x128a0b;if(!this['configs'][_0x543e2c(0x31c)]['includes'](_0x4bfec9[_0x543e2c(0x61a)]))throw new _0x325cc6(_0x3336f9['FeatureNotEnabled'],_0x543e2c(0x319));try{return this[_0x543e2c(0x19a)][_0x543e2c(0xb04)](_0x3f47ca,_0x3986e5);}catch(_0x121aca){throw this['handleError'](_0x121aca,{});}}[_0x128a0b(0x4e4)](_0x19a0a6,_0x5e7b66){const _0xd7080a=_0x128a0b;if(!this[_0xd7080a(0x282)][_0xd7080a(0x31c)][_0xd7080a(0x6b7)](_0x4bfec9[_0xd7080a(0x61a)]))throw new _0x325cc6(_0x3336f9['FeatureNotEnabled'],'MediaStream\x20feature\x20not\x20enabled');try{return this[_0xd7080a(0x19a)]['createLocalDynamicMediaStream'](_0x19a0a6,_0x5e7b66);}catch(_0x536e10){throw this[_0xd7080a(0xaa0)](_0x536e10,{});}}[_0x128a0b(0x7ef)](_0x4cde78){const _0x3b4676=_0x128a0b;if(!this[_0x3b4676(0x282)][_0x3b4676(0x31c)]['includes'](_0x4bfec9[_0x3b4676(0x61a)]))throw new _0x325cc6(_0x3336f9['FeatureNotEnabled'],_0x3b4676(0x319));try{return this[_0x3b4676(0x19a)][_0x3b4676(0x7ef)](_0x4cde78);}catch(_0x3c4c35){throw this[_0x3b4676(0xaa0)](_0x3c4c35,{});}}['getRemoteMediaStreams'](_0x1baa6b){const _0xf8c0f=_0x128a0b;if(!this['configs'][_0xf8c0f(0x31c)][_0xf8c0f(0x6b7)](_0x4bfec9['MediaStream']))throw new _0x325cc6(_0x3336f9[_0xf8c0f(0xaaf)],_0xf8c0f(0x319));try{return this[_0xf8c0f(0x19a)][_0xf8c0f(0x620)](_0x1baa6b);}catch(_0x3f3328){throw this['handleError'](_0x3f3328,{});}}[_0x128a0b(0x653)](_0x15b414){const _0x48213d=_0x128a0b;try{return this['contentManager'][_0x48213d(0x653)](_0x15b414);}catch(_0x54bdb2){throw this['handleError'](_0x54bdb2,{});}}[_0x128a0b(0xaf8)](_0x504871,_0x244785){const _0x56c56c=_0x128a0b;return this[_0x56c56c(0x760)][_0x56c56c(0xaf8)](_0x504871,_0x244785);}[_0x128a0b(0x944)](){const _0x325f64=_0x128a0b;return this[_0x325f64(0x760)][_0x325f64(0x944)]();}[_0x128a0b(0x3a3)](_0x89c76){const _0x220a66=_0x128a0b;try{return this['nodeManager']['getRemoteNodes'](_0x89c76);}catch(_0x444404){throw this[_0x220a66(0xaa0)](_0x444404,{});}}[_0x128a0b(0x6a2)](){return this['connectionManager']['waitForArrayBufferSize']();}[_0x128a0b(0xb06)](_0x5a74a5){const _0x6bd6e6=_0x128a0b;return this[_0x6bd6e6(0x760)][_0x6bd6e6(0xb06)](_0x5a74a5);}async['handleSystemEvents'](_0x357738){const _0x29f402=_0x128a0b;try{if(_0x265260[_0x29f402(0x552)](_0x1367fe[_0x29f402(0x86a)],_0x29f402(0x9be),this['nodeManager'][_0x29f402(0x3d1)](),_0x357738),_0x138bc2(_0x357738,this['nodeManager'][_0x29f402(0x3d1)]()))return void this[_0x29f402(0xa0e)][_0x29f402(0x93e)](_0x357738);switch(_0x357738[_0x29f402(0x9a4)]){case _0x562b7c[_0x29f402(0x40d)]:this[_0x29f402(0x4df)][_0x29f402(0x343)](_0x357738),this[_0x29f402(0x565)]['handleContentSystemEvents'](_0x357738),this['contentManager'][_0x29f402(0x343)](_0x357738);break;case _0x562b7c[_0x29f402(0x9f9)]:this[_0x29f402(0x565)][_0x29f402(0x466)](_0x357738),this[_0x29f402(0xa0e)]['handleNodeSystemEvents'](_0x357738),this[_0x29f402(0x19a)][_0x29f402(0x466)](_0x357738),this['nodeManager']['handleNodeSystemEvents'](_0x357738);break;case _0x562b7c['Detection']:this[_0x29f402(0x673)][_0x29f402(0x21d)](_0x357738);break;case _0x562b7c[_0x29f402(0x812)]:this[_0x29f402(0x673)]['handleRemediationSystemEvents'](_0x357738);break;case _0x562b7c[_0x29f402(0x1a6)]:this[_0x29f402(0xad7)]['handleStatsSystemEvents'](_0x357738);break;case _0x562b7c[_0x29f402(0x533)]:_0x357738['content']['type']!==_0x1bde37[_0x29f402(0x59c)]?(this['subscriptionManager'][_0x29f402(0x77d)](_0x357738),this[_0x29f402(0x19a)][_0x29f402(0x77d)](_0x357738)):(this[_0x29f402(0x19a)][_0x29f402(0x77d)](_0x357738),this[_0x29f402(0x565)]['handleSubscriptionSystemEvents'](_0x357738));break;case _0x562b7c[_0x29f402(0x9b3)]:await this[_0x29f402(0xa0e)][_0x29f402(0xaff)](_0x357738),this['statsManager'][_0x29f402(0xaff)](_0x357738),this['nodeManager']['handlePeerConnectionSystemEvents'](_0x357738),this[_0x29f402(0x565)][_0x29f402(0xaff)](_0x357738);}}catch(_0x40a6a6){throw _0x265260[_0x29f402(0x617)](_0x29f402(0xa65),_0x40a6a6),this[_0x29f402(0xaa0)](_0x40a6a6,{});}}[_0x128a0b(0xaa0)](_0x3ed7d5,_0x5c4cc6){const _0xa8b4a5=_0x128a0b;if(!(_0x3ed7d5 instanceof _0x4cb4b0)){if(_0x3ed7d5 instanceof _0x325cc6)throw _0x3ed7d5;if(!(_0x3ed7d5 instanceof Error))throw new _0x325cc6(_0x3336f9['InternalSDKError'],_0xa8b4a5(0x1c6)+_0x3ed7d5);if(!(_0x3ed7d5 instanceof _0x4204a5))throw new _0x325cc6(_0x3336f9[_0xa8b4a5(0x5b2)],_0xa8b4a5(0x3a6)+_0x3ed7d5[_0xa8b4a5(0x94c)]);switch(_0x3ed7d5[_0xa8b4a5(0x1ce)]){case _0x4204a5[_0xa8b4a5(0x7f9)][_0xa8b4a5(0x28d)]:case _0x4204a5[_0xa8b4a5(0x7f9)][_0xa8b4a5(0x7f0)]:case _0x4204a5[_0xa8b4a5(0x7f9)][_0xa8b4a5(0x5ba)]:case _0x4204a5[_0xa8b4a5(0x7f9)][_0xa8b4a5(0x9f6)]:case _0x4204a5['codes'][_0xa8b4a5(0x947)]:case _0x4204a5[_0xa8b4a5(0x7f9)][_0xa8b4a5(0x699)]:case _0x4204a5[_0xa8b4a5(0x7f9)][_0xa8b4a5(0x433)]:case _0x4204a5[_0xa8b4a5(0x7f9)][_0xa8b4a5(0x1d5)]:case _0x4204a5[_0xa8b4a5(0x7f9)][_0xa8b4a5(0x9fb)]:case _0x4204a5[_0xa8b4a5(0x7f9)]['SubscriptionRequestFailed']:case _0x4204a5[_0xa8b4a5(0x7f9)]['SubscriptionRequestNoAnswer']:case _0x4204a5[_0xa8b4a5(0x7f9)][_0xa8b4a5(0x8db)]:}throw _0x265260['error'](_0xa8b4a5(0x8d6)+_0x3ed7d5[_0xa8b4a5(0x94c)],{'clusterId':this[_0xa8b4a5(0x2cd)],'nodeId':this[_0xa8b4a5(0x8cc)]['getId'](),'nodeType':this[_0xa8b4a5(0x8cc)][_0xa8b4a5(0x7dd)]},_0x3ed7d5),new _0x325cc6(_0x3336f9[_0xa8b4a5(0x5b2)],_0xa8b4a5(0x541)+_0x3ed7d5[_0xa8b4a5(0x94c)]);}}[_0x128a0b(0x253)](){const _0x1ab0ed=_0x128a0b;return{'mediator':this,'vendorId':this[_0x1ab0ed(0x61b)],'clusterId':this['clusterId'],'localNode':this['localNode']};}[_0x128a0b(0xa04)](){const _0x3d7026=_0x128a0b;return this[_0x3d7026(0x7be)][_0x3d7026(0x3b4)](_0x3da7ad=>{const _0x4f8972=_0x3d7026,_0x696560=_0x49bf91(_0x3da7ad,this[_0x4f8972(0x8cc)][_0x4f8972(0x993)]()),_0x2bb5aa=_0x3da7ad[_0x4f8972(0x9a4)]===_0x562b7c['Stats']||_0x3da7ad[_0x4f8972(0x9a4)]===_0x562b7c[_0x4f8972(0x9b3)]&&_0x3da7ad[_0x4f8972(0x95d)][_0x4f8972(0x7dd)]===_0x303120[_0x4f8972(0x1a6)]?_0x1367fe['SystemStats']:_0x1367fe[_0x4f8972(0x661)];_0x265260['logRaw'](_0x2bb5aa,_0x3da7ad[_0x4f8972(0x468)]+_0x4f8972(0x69f)+_0x696560,_0x3da7ad),this[_0x4f8972(0xa65)](_0x3da7ad)[_0x4f8972(0x6ca)](_0x382c1f=>{console['error'](_0x382c1f);});});}async['syncKeyValueDatabase'](_0x235313){const _0x4bef98=_0x128a0b,{timingLogger:_0x45f3ad,logger:_0x5518a7,logBeforeSync:_0x96e13,logAfterSync:_0x1ef295}=function(_0x5be8de,_0x229f6d){const _0x4fbaab=a0_0xdea0;if(!_0x265260[_0x4fbaab(0x722)](_0x229f6d))return _0x265260[_0x4fbaab(0x617)](_0x4fbaab(0x6f6)+_0x229f6d),{..._0x46d088(_0x5be8de,_0x229f6d),'syncStartTime':0x0,'logBeforeSync':()=>0x0,'logAfterSync':()=>{}};const {timingLogger:_0x307333,logger:_0x57e44c}=_0x46d088(_0x5be8de,_0x229f6d);let _0x2d260d=0x0;return _0x2d260d=Date[_0x4fbaab(0x85a)](),{'syncStartTime':_0x2d260d,'timingLogger':_0x307333,'logger':_0x57e44c,'logBeforeSync':()=>(_0x5aa419(_0x229f6d,_0x4fbaab(0x965)),_0x307333[_0x4fbaab(0x85a)]()),'logAfterSync':(_0x6ee26d,_0x20d2af)=>{const _0x120d2b=_0x4fbaab,_0x4ed398=Date[_0x120d2b(0x85a)]();_0x5aa419(_0x229f6d,_0x120d2b(0x564)+_0x20d2af);const _0x11dac4=(_0x4ed398-_0x2d260d)/0x3e8,_0x1d2b89=(_0x4ed398-_0x6ee26d)/0x3e8;_0x265260[_0x120d2b(0x552)](_0x229f6d,_0x120d2b(0x1e6),_0x5be8de,'\x0a\x20===\x20Total\x20Time:\x20'+_0x11dac4[_0x120d2b(0x835)](0x2)+'\x20seconds','\x0a\x20===\x20Wait\x20Time:\x20'+_0x1d2b89['toFixed'](0x3)+_0x120d2b(0x7bb),_0x120d2b(0xace)+((_0x4ed398-_0x2d260d)/0x3e8-_0x1d2b89)['toFixed'](0x2)+'\x20seconds');}};}(_0x235313[_0x4bef98(0x5d1)](),_0x1367fe[_0x4bef98(0xa05)]);_0x5518a7[_0x4bef98(0x552)](_0x4bef98(0x7c4));const _0x5e6e7a=this[_0x4bef98(0x760)]['getAncestorIds']()['length']>0x0;if(_0x5e6e7a){_0x5518a7[_0x4bef98(0x552)](_0x4bef98(0x95b),()=>this[_0x4bef98(0x760)][_0x4bef98(0x45d)]()),_0x45f3ad[_0x4bef98(0x71e)](),await Promise[_0x4bef98(0x33e)](this[_0x4bef98(0x760)][_0x4bef98(0x45d)]()[_0x4bef98(0x8ac)](async _0x3f0a56=>await this[_0x4bef98(0x760)][_0x4bef98(0xb06)](_0x3f0a56)))['catch'](_0xe4ca73=>_0x265260['warning'](_0x4bef98(0xa71),{'nodeId':this['localNode'][_0x4bef98(0x993)](),'nodeType':this[_0x4bef98(0x8cc)][_0x4bef98(0x7dd)]}));const _0x1f5090=_0x5518a7['performCalculation'](()=>this['nodeManager'][_0x4bef98(0x45d)](),[]);_0x45f3ad[_0x4bef98(0x6e4)]('SyncKeyValueDatabase\x20-\x20Ancestors\x20'+_0x1f5090+_0x4bef98(0x7f2));}_0x1ef295(_0x96e13(),await _0x235313[_0x4bef98(0x39e)](_0x5e6e7a,async()=>{const _0xc4801=_0x4bef98;_0x45f3ad[_0xc4801(0x71e)](),await this[_0xc4801(0x760)][_0xc4801(0x78b)](),_0x45f3ad[_0xc4801(0x6e4)](_0xc4801(0x6b4)),_0x235313[_0xc4801(0x39e)](!0x0,()=>{const _0x1d08b9=_0xc4801;_0x5518a7[_0x1d08b9(0x552)](_0x1d08b9(0x953)),_0x235313[_0x1d08b9(0x39e)](!0x1);},!0x0);}));}}class _0x14bf2e{['vendorId'];[_0x128a0b(0x2cd)];[_0x128a0b(0x23e)];[_0x128a0b(0x877)];[_0x128a0b(0x8df)];constructor(_0x18dc3e,_0x5b1250,_0x1b8bc7,_0x2da721,_0x49a164,_0x5bf095,_0x49b19d=new _0x429972()){const _0x4a6e97=_0x128a0b;this[_0x4a6e97(0x61b)]=_0x18dc3e,this[_0x4a6e97(0x2cd)]=_0x5b1250,this[_0x4a6e97(0x23e)]=_0x1b8bc7,this[_0x4a6e97(0x877)]=_0x49b19d,this[_0x4a6e97(0x8df)]=new _0xb33343(this[_0x4a6e97(0x61b)],this['clusterId'],_0x1b8bc7,_0x2da721,_0x49a164,_0x5bf095,this);}async[_0x128a0b(0x406)](){const _0x11334f=_0x128a0b;await this[_0x11334f(0x8df)][_0x11334f(0x7fd)](),this['authNode'][_0x11334f(0x7dd)]===_0x16f74[_0x11334f(0x8d0)]['User']&&this[_0x11334f(0x23e)][_0x11334f(0x777)](this[_0x11334f(0x2cd)],_0x4e7380=>{const _0x4d2fca=_0x11334f;this[_0x4d2fca(0x8df)]['updateUser'](_0x4e7380);});}[_0x128a0b(0x287)](_0x3fe8c6={}){const _0x4ab986=_0x128a0b;this[_0x4ab986(0x8df)][_0x4ab986(0x42d)](_0x3fe8c6),this[_0x4ab986(0x23e)][_0x4ab986(0x7dd)]===_0x16f74[_0x4ab986(0x8d0)][_0x4ab986(0x85e)]&&this[_0x4ab986(0x23e)][_0x4ab986(0x195)](this['clusterId']),this[_0x4ab986(0x421)]('cluster-leave',void 0x0);}[_0x128a0b(0x6fa)](_0x134edb){const _0x86ac58=_0x128a0b,_0x55e32e=this[_0x86ac58(0x8df)][_0x86ac58(0x6fa)](_0x134edb);return{'getName':_0x55e32e['getName'][_0x86ac58(0xa47)](_0x55e32e),'getOwnerId':_0x55e32e['getOwnerId'][_0x86ac58(0xa47)](_0x55e32e),'getContentType':_0x55e32e[_0x86ac58(0x6da)][_0x86ac58(0xa47)](_0x55e32e),'publish':_0x55e32e[_0x86ac58(0x56d)][_0x86ac58(0xa47)](_0x55e32e),'subscribe':_0x55e32e[_0x86ac58(0x3b4)]['bind'](_0x55e32e),'unsubscribe':_0x55e32e[_0x86ac58(0x3b0)]['bind'](_0x55e32e),'close':_0x55e32e[_0x86ac58(0x42d)]['bind'](_0x55e32e)};}async[_0x128a0b(0x6e9)](_0x4b3525,_0x138e79){const _0x37f4d6=_0x128a0b,_0x43cf77=await this[_0x37f4d6(0x8df)][_0x37f4d6(0x6e9)](_0x4b3525,_0x138e79);return{'getName':_0x43cf77['getName'][_0x37f4d6(0xa47)](_0x43cf77),'getOwnerId':_0x43cf77[_0x37f4d6(0x5e3)][_0x37f4d6(0xa47)](_0x43cf77),'getContentType':_0x43cf77[_0x37f4d6(0x6da)][_0x37f4d6(0xa47)](_0x43cf77),'publish':_0x43cf77[_0x37f4d6(0x56d)][_0x37f4d6(0xa47)](_0x43cf77),'unpublish':_0x43cf77['unpublish']['bind'](_0x43cf77),'get':_0x43cf77[_0x37f4d6(0x8b0)][_0x37f4d6(0xa47)](_0x43cf77),'list':_0x43cf77['list']['bind'](_0x43cf77),'getSize':_0x43cf77[_0x37f4d6(0xa54)][_0x37f4d6(0xa47)](_0x43cf77),'subscribe':_0x43cf77[_0x37f4d6(0x3b4)][_0x37f4d6(0xa47)](_0x43cf77),'unsubscribe':_0x43cf77['unsubscribe'][_0x37f4d6(0xa47)](_0x43cf77),'close':_0x43cf77[_0x37f4d6(0x42d)][_0x37f4d6(0xa47)](_0x43cf77)};}async[_0x128a0b(0x52a)](_0x4da552,_0x9aef9e){const _0x3cb3f6=_0x128a0b,_0x21a98d=await this[_0x3cb3f6(0x8df)]['openExternalStorageConnection'](_0x4da552,_0x9aef9e);return{'getName':_0x21a98d[_0x3cb3f6(0x4b3)][_0x3cb3f6(0xa47)](_0x21a98d),'getOwnerId':_0x21a98d[_0x3cb3f6(0x5e3)][_0x3cb3f6(0xa47)](_0x21a98d),'getContentType':_0x21a98d[_0x3cb3f6(0x6da)]['bind'](_0x21a98d),'close':_0x21a98d[_0x3cb3f6(0x42d)][_0x3cb3f6(0xa47)](_0x21a98d),'get':_0x21a98d['get']['bind'](_0x21a98d),'list':_0x21a98d[_0x3cb3f6(0x622)][_0x3cb3f6(0xa47)](_0x21a98d),'subscribe':_0x21a98d[_0x3cb3f6(0x3b4)][_0x3cb3f6(0xa47)](_0x21a98d),'unsubscribe':_0x21a98d[_0x3cb3f6(0x3b0)][_0x3cb3f6(0xa47)](_0x21a98d)};}async[_0x128a0b(0x572)](_0x55d3f4,_0x159dc5,_0x47a1d6){const _0x1cc356=_0x128a0b,_0x4942d5=await this[_0x1cc356(0x8df)][_0x1cc356(0x572)](_0x55d3f4,_0x159dc5,_0x47a1d6);return{'getName':_0x4942d5[_0x1cc356(0x4b3)][_0x1cc356(0xa47)](_0x4942d5),'getOwnerId':_0x4942d5[_0x1cc356(0x5e3)][_0x1cc356(0xa47)](_0x4942d5),'getContentType':_0x4942d5[_0x1cc356(0x6da)][_0x1cc356(0xa47)](_0x4942d5),'getTable':_0x4942d5['getTable']['bind'](_0x4942d5),'subscribe':_0x4942d5['subscribe']['bind'](_0x4942d5),'unsubscribe':_0x4942d5['unsubscribe']['bind'](_0x4942d5),'close':_0x4942d5[_0x1cc356(0x42d)][_0x1cc356(0xa47)](_0x4942d5)};}async[_0x128a0b(0xb0e)](_0xd629e0){const _0x417feb=_0x128a0b,_0x21d6dd=await this[_0x417feb(0x8df)][_0x417feb(0xb0e)](_0xd629e0);return{'getName':_0x21d6dd[_0x417feb(0x4b3)]['bind'](_0x21d6dd),'getOwnerId':_0x21d6dd[_0x417feb(0x5e3)][_0x417feb(0xa47)](_0x21d6dd),'getContentType':_0x21d6dd[_0x417feb(0x6da)][_0x417feb(0xa47)](_0x21d6dd),'createJob':_0x21d6dd[_0x417feb(0x3b6)][_0x417feb(0xa47)](_0x21d6dd),'getJob':_0x21d6dd[_0x417feb(0x754)][_0x417feb(0xa47)](_0x21d6dd),'getJobs':_0x21d6dd['getJobs']['bind'](_0x21d6dd),'close':_0x21d6dd[_0x417feb(0x42d)][_0x417feb(0xa47)](_0x21d6dd)};}async[_0x128a0b(0x9eb)](_0x1e59e1){const _0x54392e=_0x128a0b,_0x3cb01e=await this[_0x54392e(0x8df)]['openJobWorker'](_0x1e59e1);return{'close':_0x3cb01e[_0x54392e(0x42d)][_0x54392e(0xa47)](_0x3cb01e)};}async[_0x128a0b(0x2da)](_0x53cb8c){const _0x20e77a=_0x128a0b,_0x3697c3=await this['orchestrator'][_0x20e77a(0x2da)](_0x53cb8c);return{'createAIJob':_0x3697c3[_0x20e77a(0x941)][_0x20e77a(0xa47)](_0x3697c3),'getDataBucketIds':_0x3697c3[_0x20e77a(0x46c)][_0x20e77a(0xa47)](_0x3697c3),'close':_0x3697c3['close'][_0x20e77a(0xa47)](_0x3697c3)};}async[_0x128a0b(0x1f4)](_0x270a0c){const _0x19fd9e=_0x128a0b,_0x26c152=await this['orchestrator'][_0x19fd9e(0x1f4)](_0x270a0c);return{'close':_0x26c152[_0x19fd9e(0x42d)][_0x19fd9e(0xa47)](_0x26c152)};}['openGraphDatabase'](_0x49fa88){const _0x506b7f=_0x128a0b,_0x5c2bbe=this['orchestrator'][_0x506b7f(0x71f)](_0x49fa88);return{'getName':_0x5c2bbe['getName'][_0x506b7f(0xa47)](_0x5c2bbe),'getOwnerId':_0x5c2bbe['getOwnerId'][_0x506b7f(0xa47)](_0x5c2bbe),'getContentType':_0x5c2bbe[_0x506b7f(0x6da)][_0x506b7f(0xa47)](_0x5c2bbe),'addNode':_0x5c2bbe[_0x506b7f(0x3a1)][_0x506b7f(0xa47)](_0x5c2bbe),'addEdge':_0x5c2bbe[_0x506b7f(0x8b1)]['bind'](_0x5c2bbe),'getContent':_0x5c2bbe['getContent']['bind'](_0x5c2bbe),'remove':_0x5c2bbe[_0x506b7f(0x213)][_0x506b7f(0xa47)](_0x5c2bbe),'saveToDisk':_0x5c2bbe['saveToDisk'][_0x506b7f(0xa47)](_0x5c2bbe),'loadFromDisk':_0x5c2bbe[_0x506b7f(0x958)][_0x506b7f(0xa47)](_0x5c2bbe),'close':_0x5c2bbe[_0x506b7f(0x42d)]['bind'](_0x5c2bbe)};}['openVectorDatabase'](_0x41840f){const _0x5bf107=_0x128a0b,_0x2ca889=this[_0x5bf107(0x8df)][_0x5bf107(0x4c6)](_0x41840f);return{'getName':_0x2ca889[_0x5bf107(0x4b3)][_0x5bf107(0xa47)](_0x2ca889),'getOwnerId':_0x2ca889[_0x5bf107(0x5e3)][_0x5bf107(0xa47)](_0x2ca889),'getContentType':_0x2ca889['getContentType'][_0x5bf107(0xa47)](_0x2ca889),'search':_0x2ca889[_0x5bf107(0x50c)][_0x5bf107(0xa47)](_0x2ca889),'insert':_0x2ca889['insert']['bind'](_0x2ca889),'remove':_0x2ca889['remove'][_0x5bf107(0xa47)](_0x2ca889),'saveToDisk':_0x2ca889[_0x5bf107(0x9de)]['bind'](_0x2ca889),'loadFromDisk':_0x2ca889['loadFromDisk'][_0x5bf107(0xa47)](_0x2ca889),'close':_0x2ca889['close'][_0x5bf107(0xa47)](_0x2ca889)};}[_0x128a0b(0x58e)](_0x4c5dc2){const _0x21a0fb=_0x128a0b;return this[_0x21a0fb(0x8df)]['getPubSubTopics'](_0x4c5dc2)[_0x21a0fb(0x8ac)](_0x417fbd=>({'getName':_0x417fbd[_0x21a0fb(0x4b3)]['bind'](_0x417fbd),'getOwnerId':_0x417fbd[_0x21a0fb(0x5e3)][_0x21a0fb(0xa47)](_0x417fbd),'getContentType':_0x417fbd[_0x21a0fb(0x6da)][_0x21a0fb(0xa47)](_0x417fbd),'publish':_0x417fbd['publish']['bind'](_0x417fbd),'subscribe':_0x417fbd[_0x21a0fb(0x3b4)]['bind'](_0x417fbd),'unsubscribe':_0x417fbd['unsubscribe']['bind'](_0x417fbd),'close':_0x417fbd[_0x21a0fb(0x42d)][_0x21a0fb(0xa47)](_0x417fbd)}));}[_0x128a0b(0x67e)](_0x4f1f9b){const _0x4d4a13=_0x128a0b;return this['orchestrator'][_0x4d4a13(0x67e)](_0x4f1f9b)[_0x4d4a13(0x8ac)](_0x284658=>({'getName':_0x284658[_0x4d4a13(0x4b3)]['bind'](_0x284658),'getOwnerId':_0x284658['getOwnerId'][_0x4d4a13(0xa47)](_0x284658),'getContentType':_0x284658[_0x4d4a13(0x6da)][_0x4d4a13(0xa47)](_0x284658),'publish':_0x284658[_0x4d4a13(0x56d)][_0x4d4a13(0xa47)](_0x284658),'unpublish':_0x284658[_0x4d4a13(0x729)][_0x4d4a13(0xa47)](_0x284658),'get':_0x284658[_0x4d4a13(0x8b0)][_0x4d4a13(0xa47)](_0x284658),'list':_0x284658[_0x4d4a13(0x622)]['bind'](_0x284658),'getSize':_0x284658[_0x4d4a13(0xa54)][_0x4d4a13(0xa47)](_0x284658),'subscribe':_0x284658[_0x4d4a13(0x3b4)]['bind'](_0x284658),'unsubscribe':_0x284658[_0x4d4a13(0x3b0)][_0x4d4a13(0xa47)](_0x284658),'close':_0x284658['close'][_0x4d4a13(0xa47)](_0x284658)}));}[_0x128a0b(0x865)](_0x465df8){const _0x1be90c=_0x128a0b;return this['orchestrator']['getExternalStorageConnections'](_0x465df8)[_0x1be90c(0x8ac)](_0x4678fe=>({'getName':_0x4678fe['getName']['bind'](_0x4678fe),'getOwnerId':_0x4678fe['getOwnerId'][_0x1be90c(0xa47)](_0x4678fe),'getContentType':_0x4678fe['getContentType'][_0x1be90c(0xa47)](_0x4678fe),'close':_0x4678fe[_0x1be90c(0x42d)][_0x1be90c(0xa47)](_0x4678fe),'get':_0x4678fe['get']['bind'](_0x4678fe),'list':_0x4678fe[_0x1be90c(0x622)][_0x1be90c(0xa47)](_0x4678fe),'subscribe':_0x4678fe[_0x1be90c(0x3b4)]['bind'](_0x4678fe),'unsubscribe':_0x4678fe[_0x1be90c(0x3b0)][_0x1be90c(0xa47)](_0x4678fe)}));}[_0x128a0b(0x490)](_0x326991){const _0xfdcda4=_0x128a0b;return this['orchestrator'][_0xfdcda4(0x490)](_0x326991)[_0xfdcda4(0x8ac)](_0xc92890=>({'getName':_0xc92890['getName'][_0xfdcda4(0xa47)](_0xc92890),'getOwnerId':_0xc92890[_0xfdcda4(0x5e3)][_0xfdcda4(0xa47)](_0xc92890),'getContentType':_0xc92890[_0xfdcda4(0x6da)][_0xfdcda4(0xa47)](_0xc92890),'getTable':_0xc92890['getTable']['bind'](_0xc92890),'subscribe':_0xc92890[_0xfdcda4(0x3b4)][_0xfdcda4(0xa47)](_0xc92890),'unsubscribe':_0xc92890[_0xfdcda4(0x3b0)][_0xfdcda4(0xa47)](_0xc92890),'close':_0xc92890[_0xfdcda4(0x42d)][_0xfdcda4(0xa47)](_0xc92890)}));}[_0x128a0b(0xaa1)](_0x397f9f){const _0x8f2b1a=_0x128a0b;return this['orchestrator']['getGenerativeAIContexts'](_0x397f9f)[_0x8f2b1a(0x8ac)](_0x1e7d2b=>({'createAIJob':_0x1e7d2b[_0x8f2b1a(0x941)]['bind'](_0x1e7d2b),'getDataBucketIds':_0x1e7d2b[_0x8f2b1a(0x46c)][_0x8f2b1a(0xa47)](_0x1e7d2b),'close':_0x1e7d2b[_0x8f2b1a(0x42d)][_0x8f2b1a(0xa47)](_0x1e7d2b)}));}['getGenerativeAIWorkers'](_0x4f8b6a){const _0x322f61=_0x128a0b;return this[_0x322f61(0x8df)][_0x322f61(0x698)](_0x4f8b6a)[_0x322f61(0x8ac)](_0x25883d=>({'close':_0x25883d[_0x322f61(0x42d)][_0x322f61(0xa47)](_0x25883d)}));}[_0x128a0b(0x529)](_0x1d14bc,_0xfda5d){const _0x52747f=_0x128a0b,_0x49f66f=this[_0x52747f(0x8df)][_0x52747f(0xb04)](_0x1d14bc,_0xfda5d);return{'getLabel':_0x49f66f[_0x52747f(0x5d1)][_0x52747f(0xa47)](_0x49f66f),'getOwnerId':_0x49f66f[_0x52747f(0x5e3)][_0x52747f(0xa47)](_0x49f66f),'getContentType':_0x49f66f[_0x52747f(0x6da)]['bind'](_0x49f66f),'getMediaStream':_0x49f66f['getMediaStream'][_0x52747f(0xa47)](_0x49f66f),'setPriority':_0x49f66f[_0x52747f(0x93a)]['bind'](_0x49f66f),'unpublish':_0x49f66f[_0x52747f(0x729)]['bind'](_0x49f66f)};}[_0x128a0b(0x765)](_0x10765b,_0x35250b){const _0x37ae6d=_0x128a0b,_0x5c47bb=this[_0x37ae6d(0x8df)]['createLocalDynamicMediaStream'](_0x10765b,_0x35250b);return{'getLabel':_0x5c47bb[_0x37ae6d(0x5d1)]['bind'](_0x5c47bb),'getOwnerId':_0x5c47bb[_0x37ae6d(0x5e3)]['bind'](_0x5c47bb),'getContentType':_0x5c47bb['getContentType'][_0x37ae6d(0xa47)](_0x5c47bb),'setPriority':_0x5c47bb[_0x37ae6d(0x93a)][_0x37ae6d(0xa47)](_0x5c47bb),'unpublish':_0x5c47bb[_0x37ae6d(0x729)][_0x37ae6d(0xa47)](_0x5c47bb),'getMediaStream':_0x5c47bb[_0x37ae6d(0x1ad)][_0x37ae6d(0xa47)](_0x5c47bb),'addTrack':_0x5c47bb[_0x37ae6d(0x776)][_0x37ae6d(0xa47)](_0x5c47bb),'removeTrack':_0x5c47bb[_0x37ae6d(0x8af)][_0x37ae6d(0xa47)](_0x5c47bb),'replaceTrack':_0x5c47bb[_0x37ae6d(0x23d)]['bind'](_0x5c47bb),'setTransformations':_0x5c47bb['setTransformations'][_0x37ae6d(0xa47)](_0x5c47bb)};}[_0x128a0b(0x7ef)](_0x54adcc){const _0x419eb0=_0x128a0b;return this[_0x419eb0(0x8df)]['getLocalMediaStreams'](_0x54adcc)[_0x419eb0(0x8ac)](_0x2af39a=>({'getLabel':_0x2af39a['getLabel'][_0x419eb0(0xa47)](_0x2af39a),'getOwnerId':_0x2af39a[_0x419eb0(0x5e3)][_0x419eb0(0xa47)](_0x2af39a),'getContentType':_0x2af39a['getContentType']['bind'](_0x2af39a),'getMediaStream':_0x2af39a[_0x419eb0(0x1ad)]['bind'](_0x2af39a),'setPriority':_0x2af39a[_0x419eb0(0x93a)][_0x419eb0(0xa47)](_0x2af39a),'unpublish':_0x2af39a[_0x419eb0(0x729)][_0x419eb0(0xa47)](_0x2af39a)}));}[_0x128a0b(0x620)](_0x20016d){const _0x187f79=_0x128a0b;return this[_0x187f79(0x8df)][_0x187f79(0x620)](_0x20016d)[_0x187f79(0x8ac)](_0x3c4a29=>({'getLabel':_0x3c4a29[_0x187f79(0x5d1)][_0x187f79(0xa47)](_0x3c4a29),'getOwnerId':_0x3c4a29['getOwnerId'][_0x187f79(0xa47)](_0x3c4a29),'getContentType':_0x3c4a29[_0x187f79(0x6da)][_0x187f79(0xa47)](_0x3c4a29),'getMediaStream':_0x3c4a29[_0x187f79(0x1ad)]['bind'](_0x3c4a29),'subscribe':_0x3c4a29[_0x187f79(0x3b4)][_0x187f79(0xa47)](_0x3c4a29),'unsubscribe':_0x3c4a29[_0x187f79(0x3b0)]['bind'](_0x3c4a29),'getAvailableTrackKinds':_0x3c4a29[_0x187f79(0xaa6)][_0x187f79(0xa47)](_0x3c4a29),'update':_0x3c4a29[_0x187f79(0x603)][_0x187f79(0xa47)](_0x3c4a29),'onProviderChange':_0x3c4a29[_0x187f79(0x2a3)][_0x187f79(0xa47)](_0x3c4a29)}));}[_0x128a0b(0x4bd)](_0x14ab5d){const _0x5e8ca6=_0x128a0b;return this[_0x5e8ca6(0x8df)][_0x5e8ca6(0x4bd)](_0x14ab5d)['map'](_0x5a18f2=>({'getName':_0x5a18f2['getName']['bind'](_0x5a18f2),'getOwnerId':_0x5a18f2[_0x5e8ca6(0x5e3)][_0x5e8ca6(0xa47)](_0x5a18f2),'getContentType':_0x5a18f2['getContentType'][_0x5e8ca6(0xa47)](_0x5a18f2),'addNode':_0x5a18f2[_0x5e8ca6(0x3a1)]['bind'](_0x5a18f2),'addEdge':_0x5a18f2[_0x5e8ca6(0x8b1)][_0x5e8ca6(0xa47)](_0x5a18f2),'getContent':_0x5a18f2['getContent'][_0x5e8ca6(0xa47)](_0x5a18f2),'remove':_0x5a18f2[_0x5e8ca6(0x213)]['bind'](_0x5a18f2),'saveToDisk':_0x5a18f2[_0x5e8ca6(0x9de)][_0x5e8ca6(0xa47)](_0x5a18f2),'loadFromDisk':_0x5a18f2[_0x5e8ca6(0x958)][_0x5e8ca6(0xa47)](_0x5a18f2),'close':_0x5a18f2[_0x5e8ca6(0x42d)]['bind'](_0x5a18f2)}));}[_0x128a0b(0x653)](_0xf71714){const _0x41ab37=_0x128a0b;return this[_0x41ab37(0x8df)][_0x41ab37(0x653)](_0xf71714)[_0x41ab37(0x8ac)](_0x45baac=>({'getName':_0x45baac[_0x41ab37(0x4b3)][_0x41ab37(0xa47)](_0x45baac),'getOwnerId':_0x45baac[_0x41ab37(0x5e3)]['bind'](_0x45baac),'getContentType':_0x45baac[_0x41ab37(0x6da)][_0x41ab37(0xa47)](_0x45baac),'search':_0x45baac[_0x41ab37(0x50c)][_0x41ab37(0xa47)](_0x45baac),'insert':_0x45baac['insert'][_0x41ab37(0xa47)](_0x45baac),'remove':_0x45baac['remove'][_0x41ab37(0xa47)](_0x45baac),'saveToDisk':_0x45baac['saveToDisk'][_0x41ab37(0xa47)](_0x45baac),'loadFromDisk':_0x45baac[_0x41ab37(0x958)][_0x41ab37(0xa47)](_0x45baac),'close':_0x45baac[_0x41ab37(0x42d)][_0x41ab37(0xa47)](_0x45baac)}));}[_0x128a0b(0x944)](){const _0x1f52fb=_0x128a0b,_0x1787ea=this['orchestrator'][_0x1f52fb(0x944)]();switch(_0x1787ea[_0x1f52fb(0x7dd)]){case _0x16f74[_0x1f52fb(0x8d0)][_0x1f52fb(0x85e)]:return{'type':_0x16f74[_0x1f52fb(0x8d0)]['User'],'getId':_0x1787ea[_0x1f52fb(0x993)][_0x1f52fb(0xa47)](_0x1787ea),'getDisplayName':_0x1787ea[_0x1f52fb(0x530)][_0x1f52fb(0xa47)](_0x1787ea),'getEmail':_0x1787ea[_0x1f52fb(0x53c)][_0x1f52fb(0xa47)](_0x1787ea),'getRemoteConnections':_0x1787ea[_0x1f52fb(0x2d4)][_0x1f52fb(0xa47)](_0x1787ea),'setDisplayName':_0x1787ea[_0x1f52fb(0x447)][_0x1f52fb(0xa47)](_0x1787ea),'setEmail':_0x1787ea[_0x1f52fb(0x488)]['bind'](_0x1787ea)};case _0x16f74[_0x1f52fb(0x8d0)]['Agent']:default:return{'type':_0x16f74[_0x1f52fb(0x8d0)][_0x1f52fb(0x1ae)],'getId':_0x1787ea[_0x1f52fb(0x993)][_0x1f52fb(0xa47)](_0x1787ea),'getRemoteConnections':_0x1787ea[_0x1f52fb(0x2d4)]['bind'](_0x1787ea)};}}[_0x128a0b(0x3a3)](_0x16f167){const _0xe94450=_0x128a0b;return this[_0xe94450(0x8df)][_0xe94450(0x3a3)](_0x16f167)[_0xe94450(0x8ac)](_0x63bc24=>{const _0x52c342=_0xe94450;switch(_0x63bc24[_0x52c342(0x7dd)]){case _0x16f74[_0x52c342(0x8d0)][_0x52c342(0x85e)]:return{'type':_0x16f74[_0x52c342(0x8d0)]['User'],'getId':_0x63bc24[_0x52c342(0x993)][_0x52c342(0xa47)](_0x63bc24),'getDisplayName':_0x63bc24[_0x52c342(0x530)][_0x52c342(0xa47)](_0x63bc24),'getEmail':_0x63bc24['getEmail'][_0x52c342(0xa47)](_0x63bc24),'getRemoteConnections':_0x63bc24['getRemoteConnections'][_0x52c342(0xa47)](_0x63bc24)};case _0x16f74['NodeType']['Agent']:return{'type':_0x16f74['NodeType'][_0x52c342(0x1ae)],'getId':_0x63bc24[_0x52c342(0x993)]['bind'](_0x63bc24),'getRemoteConnections':_0x63bc24[_0x52c342(0x2d4)][_0x52c342(0xa47)](_0x63bc24)};default:throw new _0x325cc6(_0x3336f9[_0x52c342(0x513)],'Invalid\x20node\x20type');}});}['on']=(..._0x2985f1)=>{const _0x5ce43d=_0x128a0b;this[_0x5ce43d(0x877)]['on'](..._0x2985f1);};['emit']=(..._0x21cec5)=>this[_0x128a0b(0x877)][_0x128a0b(0x421)](..._0x21cec5);['off'](..._0x2eb9fd){const _0x21e067=_0x128a0b;this[_0x21e067(0x877)][_0x21e067(0xa80)](..._0x2eb9fd);}}class _0x5b48e3{['id'];['displayName'];['email'];[_0x128a0b(0x7dd)]=_0x16f74[_0x128a0b(0x8d0)][_0x128a0b(0x85e)];[_0x128a0b(0x1fc)]=new Map();['observer']=_0x41572e();constructor(_0x41b78d,_0x563d20,_0x333431){const _0x393a69=_0x128a0b;this['id']=_0x41b78d,this[_0x393a69(0x7a1)]=_0x563d20,this[_0x393a69(0x99a)]=_0x333431;}[_0x128a0b(0x993)](){return this['id'];}['getDisplayName'](){return this['displayName'];}[_0x128a0b(0x53c)](){const _0x228223=_0x128a0b;return this[_0x228223(0x99a)];}[_0x128a0b(0x447)](_0x4d7b56){const _0x44a1cf=_0x128a0b;this[_0x44a1cf(0x7a1)]!==_0x4d7b56&&(this[_0x44a1cf(0x7a1)]=_0x4d7b56,this[_0x44a1cf(0x5f5)][_0x44a1cf(0x56d)](this));}['setEmail'](_0x331581){const _0x5eab3d=_0x128a0b;this['email']!==_0x331581&&(this[_0x5eab3d(0x99a)]=_0x331581,this['observer'][_0x5eab3d(0x56d)](this));}[_0x128a0b(0x777)](_0x398ad8,_0x349e81){const _0x32e685=_0x128a0b;if(this[_0x32e685(0x1fc)][_0x32e685(0x301)](_0x398ad8))return;const _0x27e693=this['observer'][_0x32e685(0x3b4)](_0x349e81);this[_0x32e685(0x1fc)][_0x32e685(0x663)](_0x398ad8,_0x27e693);}[_0x128a0b(0x195)](_0x443660){const _0x2f7bee=_0x128a0b;if(!this[_0x2f7bee(0x1fc)][_0x2f7bee(0x301)](_0x443660))return;const _0x44d77b=this[_0x2f7bee(0x1fc)][_0x2f7bee(0x8b0)](_0x443660);_0x44d77b&&_0x44d77b(),this['joinedClusters'][_0x2f7bee(0x560)](_0x443660);}}class _0x1747c0{[_0x128a0b(0x61b)];['user'];constructor(_0x3c4c18){const _0x5d441d=_0x128a0b;this[_0x5d441d(0x61b)]=_0x3c4c18;}async[_0x128a0b(0x4e1)](_0x3acabb){const _0x3910fb=_0x128a0b,_0x3ebd78=await(0x0,_0x197cf0[_0x3910fb(0x1e5)])(_0x342bc8[_0x3910fb(0x584)](),'sdkCreateToken')({'uid':_0x3910fb(0x670)+this['vendorId']+_0x3910fb(0x670)+_0x3acabb['id']}),_0x31bcf4=await(0x0,_0x4e8980['signInWithCustomToken'])(_0x342bc8[_0x3910fb(0x5a9)](),_0x3ebd78[_0x3910fb(0xaae)][_0x3910fb(0xacc)]);this['user']=_0x31bcf4[_0x3910fb(0x54f)];}async[_0x128a0b(0x42c)](){const _0x4a631e=_0x128a0b;await(0x0,_0x4e8980[_0x4a631e(0x42c)])(_0x342bc8[_0x4a631e(0x5a9)]());}[_0x128a0b(0xa4c)](){const _0xc1a28e=_0x128a0b;return this['user']?.['getIdToken']()??Promise[_0xc1a28e(0xa25)](_0xc1a28e(0x8ea));}}class _0x1f5a90{static [_0x128a0b(0x8e0)];['featureSupport']=[];constructor(){}static[_0x128a0b(0x2cc)](){const _0x3b592f=_0x128a0b;return _0x1f5a90[_0x3b592f(0x8e0)]||(_0x1f5a90[_0x3b592f(0x8e0)]=new _0x1f5a90()),_0x1f5a90[_0x3b592f(0x8e0)];}[_0x128a0b(0x7fd)](){const _0x694a39=_0x128a0b;this[_0x694a39(0xa46)](),this[_0x694a39(0x724)](),this[_0x694a39(0x831)](),this[_0x694a39(0x26e)](),this[_0x694a39(0x456)](),this[_0x694a39(0x7cb)](),this[_0x694a39(0x4c1)](),this[_0x694a39(0x90f)](),this[_0x694a39(0x88e)](),this[_0x694a39(0x306)](),_0x265260[_0x694a39(0x552)](_0x1367fe[_0x694a39(0x8e9)],'Support:\x20current\x20config',{'featureSupport':this[_0x694a39(0x3be)]});}[_0x128a0b(0x448)](_0x3a0ef1){const _0x41ca7d=_0x128a0b,_0x1b5755=this['featureSupport'][_0x41ca7d(0x5cf)](_0x580243=>_0x580243[_0x41ca7d(0x3d4)]===_0x3a0ef1);return!!_0x1b5755&&_0x1b5755[_0x41ca7d(0x3b5)];}[_0x128a0b(0x5d7)](_0x3fe070){const _0x3bb60c=_0x128a0b;_0x265260[_0x3bb60c(0x229)](_0x3bb60c(0x495),{'nodeId':_0x3fe070[_0x3bb60c(0x993)](),'nodeType':_0x3fe070[_0x3bb60c(0x7dd)],'data':{'featureSupport':this[_0x3bb60c(0x3be)]}});}[_0x128a0b(0xa46)](){const _0x2b867e=_0x128a0b,_0x35871e=_0x4d72b1[_0x2b867e(0x75b)];let _0x5b1252=!0x1;_0x2b867e(0x3c4)==typeof RTCPeerConnection&&_0x2b867e(0x3c4)==typeof RTCIceCandidate&&'function'==typeof RTCSessionDescription?_0x5b1252=!0x0:_0x265260[_0x2b867e(0x552)](_0x1367fe[_0x2b867e(0x8e9)],_0x2b867e(0x822)+_0x35871e+_0x2b867e(0x703)),this['featureSupport']['push']({'name':_0x35871e,'supported':_0x5b1252});}['checkMediaStream'](){const _0x584f0e=_0x128a0b,_0x2f8b65=_0x4d72b1[_0x584f0e(0x61a)];let _0x4cb9cc=!0x1;'function'==typeof MediaStream&&_0x584f0e(0x3c4)==typeof MediaStreamTrack&&_0x584f0e(0xa3a)==typeof navigator&&'object'==typeof navigator[_0x584f0e(0x4a7)]&&_0x584f0e(0x3c4)==typeof navigator[_0x584f0e(0x4a7)][_0x584f0e(0x8d5)]?_0x4cb9cc=!0x0:_0x265260[_0x584f0e(0x552)](_0x1367fe[_0x584f0e(0x8e9)],_0x584f0e(0x822)+_0x2f8b65+_0x584f0e(0x703)),this[_0x584f0e(0x3be)]['push']({'name':_0x2f8b65,'supported':_0x4cb9cc});}[_0x128a0b(0x831)](){const _0x3f0402=_0x128a0b,_0x5ae7b1=_0x4d72b1['ScreenSharing'];let _0x584d3e=!0x1;_0x3f0402(0xa3a)==typeof navigator&&_0x3f0402(0xa3a)==typeof navigator['mediaDevices']&&_0x3f0402(0x3c4)==typeof navigator[_0x3f0402(0x4a7)][_0x3f0402(0x6ed)]?_0x584d3e=!0x0:_0x265260['log'](_0x1367fe[_0x3f0402(0x8e9)],_0x3f0402(0x822)+_0x5ae7b1+_0x3f0402(0x703)),this['featureSupport']['push']({'name':_0x5ae7b1,'supported':_0x584d3e});}[_0x128a0b(0x26e)](){const _0x1a9876=_0x128a0b,_0x2d04ba=_0x4d72b1[_0x1a9876(0x639)];let _0x43fb6a=!0x1;'function'!=typeof AudioContext||'function'!=typeof ScriptProcessorNode&&'function'!=typeof AudioWorkletNode||_0x1a9876(0x3c4)!=typeof MediaStreamAudioSourceNode?_0x265260['log'](_0x1367fe[_0x1a9876(0x8e9)],'Support:\x20'+_0x2d04ba+_0x1a9876(0x703)):_0x43fb6a=!0x0,this[_0x1a9876(0x3be)][_0x1a9876(0xa98)]({'name':_0x2d04ba,'supported':_0x43fb6a});}[_0x128a0b(0x456)](){const _0xb5d0b=_0x128a0b,_0x4c1adf=_0x4d72b1[_0xb5d0b(0x563)];let _0x214c1c=!0x1;'object'==typeof navigator&&_0xb5d0b(0xa3a)==typeof navigator[_0xb5d0b(0x4a7)]&&_0xb5d0b(0x3c4)==typeof navigator[_0xb5d0b(0x4a7)][_0xb5d0b(0x980)]&&'function'==typeof MediaDeviceInfo?_0x214c1c=!0x0:_0x265260[_0xb5d0b(0x552)](_0x1367fe[_0xb5d0b(0x8e9)],_0xb5d0b(0x822)+_0x4c1adf+_0xb5d0b(0x703)),this[_0xb5d0b(0x3be)][_0xb5d0b(0xa98)]({'name':_0x4c1adf,'supported':_0x214c1c});}[_0x128a0b(0x7cb)](){const _0x3d3064=_0x128a0b,_0x321d8e=_0x4d72b1[_0x3d3064(0x1a3)];let _0x5b6b53=!0x1;'object'==typeof document&&_0x3d3064(0x3c4)==typeof document['createElement'](_0x3d3064(0x1fb))[_0x3d3064(0x9ad)]?_0x5b6b53=!0x0:_0x265260[_0x3d3064(0x552)](_0x1367fe[_0x3d3064(0x8e9)],'Support:\x20'+_0x321d8e+_0x3d3064(0x703)),this[_0x3d3064(0x3be)][_0x3d3064(0xa98)]({'name':_0x321d8e,'supported':_0x5b6b53});}async['checkMediaRecording'](){const _0x4ee166=_0x128a0b,_0x50ca0d=_0x4d72b1['Recording'];let _0x375435=!0x1;try{const _0x65931e=document[_0x4ee166(0x6a7)](_0x4ee166(0x678));if(MediaRecorder&&MediaSource&&_0x65931e[_0x4ee166(0x682)]){const _0x1c5653=_0x65931e['captureStream'](),_0x538985=new MediaRecorder(_0x1c5653);_0x538985[_0x4ee166(0x71e)](),await new Promise(_0x5d4e8b=>setTimeout(_0x5d4e8b,0x7d0)),_0x538985[_0x4ee166(0x867)](),_0x375435=_0x4ee166(0x76a)===_0x538985[_0x4ee166(0x243)];}}catch(_0x3de969){_0x265260[_0x4ee166(0x552)](_0x1367fe[_0x4ee166(0x8e9)],_0x4ee166(0x822)+_0x50ca0d+_0x4ee166(0x8f4),_0x3de969);}this[_0x4ee166(0x3be)][_0x4ee166(0xa98)]({'name':_0x50ca0d,'supported':_0x375435}),_0x375435||_0x265260[_0x4ee166(0x552)](_0x1367fe[_0x4ee166(0x8e9)],'Support:\x20'+_0x50ca0d+_0x4ee166(0x703));}[_0x128a0b(0x90f)](){const _0x44cdfc=_0x128a0b,_0x1a194b=_0x4d72b1[_0x44cdfc(0x643)];let _0x5e4bcd=!0x1;try{document[_0x44cdfc(0x6a7)]('canvas')[_0x44cdfc(0x682)]&&(_0x5e4bcd=!0x0);}catch(_0xf1bec4){_0x265260[_0x44cdfc(0x552)](_0x1367fe['Support'],_0x44cdfc(0x822)+_0x1a194b+_0x44cdfc(0x8f4),_0xf1bec4);}this[_0x44cdfc(0x3be)][_0x44cdfc(0xa98)]({'name':_0x1a194b,'supported':_0x5e4bcd}),_0x5e4bcd||_0x265260['log'](_0x1367fe[_0x44cdfc(0x8e9)],_0x44cdfc(0x822)+_0x1a194b+'\x20not\x20supported');}['checkWebGL'](){const _0x5ec7e9=_0x128a0b,_0x1a04f0=_0x4d72b1[_0x5ec7e9(0x687)];let _0xb69188=!0x1;try{const _0x5bb7cb=document['createElement'](_0x5ec7e9(0x678));WebGLRenderingContext&&_0x5bb7cb[_0x5ec7e9(0x963)](_0x5ec7e9(0x2f0))&&(_0xb69188=!0x0);}catch(_0x224772){_0x265260[_0x5ec7e9(0x552)](_0x1367fe[_0x5ec7e9(0x8e9)],_0x5ec7e9(0x822)+_0x1a04f0+_0x5ec7e9(0x8f4),_0x224772);}this[_0x5ec7e9(0x3be)]['push']({'name':_0x1a04f0,'supported':_0xb69188}),_0xb69188||_0x265260[_0x5ec7e9(0x552)](_0x1367fe[_0x5ec7e9(0x8e9)],_0x5ec7e9(0x822)+_0x1a04f0+_0x5ec7e9(0x703));}[_0x128a0b(0x306)](){const _0x581c8b=_0x128a0b,_0x55c8c1=_0x4d72b1[_0x581c8b(0x3f6)];let _0x33c4e5=!0x1;_0x581c8b(0x3c4)==typeof AudioContext?_0x33c4e5=!0x0:_0x265260[_0x581c8b(0x552)](_0x1367fe[_0x581c8b(0x8e9)],'Support:\x20'+_0x55c8c1+_0x581c8b(0x703)),this[_0x581c8b(0x3be)]['push']({'name':_0x55c8c1,'supported':_0x33c4e5});}}const _0x1ee3a1=_0x1f5a90[_0x128a0b(0x2cc)]();class _0x9b9d1c{static [_0x128a0b(0x8e0)];static [_0x128a0b(0x3b0)];static [_0x128a0b(0x1c2)];[_0x128a0b(0x3b9)];['vendorId'];[_0x128a0b(0x5e7)];[_0x128a0b(0x282)];[_0x128a0b(0x73b)]=new Map();[_0x128a0b(0x792)];constructor(_0x2891bd,_0x26cd9a,_0x48d30d){const _0x212e54=_0x128a0b;this[_0x212e54(0x61b)]=_0x2891bd,this['configs']=_0x26cd9a,this[_0x212e54(0x3b9)]=new _0x1747c0(this[_0x212e54(0x61b)]),_0x1ee3a1[_0x212e54(0x7fd)](),this[_0x212e54(0x5e7)]={'audioContext':_0x48d30d?.[_0x212e54(0x998)]??(_0x1ee3a1[_0x212e54(0x448)](_0x4d72b1[_0x212e54(0x3f6)])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0x48d30d?.['maxOutgoingSubscriptions']??0x1,'minConnections':_0x48d30d?.[_0x212e54(0xa51)]??0x3,'maxConnections':_0x48d30d?.[_0x212e54(0x415)]??(_0x48d30d?.[_0x212e54(0xa51)]&&0x4*_0x48d30d['minConnections'])??0xc,'maxDistance':_0x48d30d?.[_0x212e54(0x903)]??0xa,'maxFps':_0x48d30d?.[_0x212e54(0x36a)]??0x18,'maxBpp':_0x48d30d?.['maxBpp']??0.12,'objectStoreConnector':_0x48d30d?.[_0x212e54(0xb0a)]??_0x4e64c7[_0x212e54(0x546)],'externalStorageConnectors':_0x48d30d?.[_0x212e54(0x8fd)],'keyValueDatabaseConnector':_0x48d30d?.[_0x212e54(0x1a2)]??_0x3d79d4['IDBDatabaseConnector'],'peerConnectionConnector':_0x48d30d?.['peerConnectionConnector']??_0x164ebf['WebRTCBrowserPeerConnectionConnector'],'generativeAIWorkerConnectors':_0x48d30d?.[_0x212e54(0x3cf)],'vectorDatabaseConnector':_0x48d30d?.[_0x212e54(0x57c)],'graphDatabaseConnector':_0x48d30d?.[_0x212e54(0x786)],'documentParserConnector':_0x48d30d?.['documentParserConnector'],'nlpLibraryConnector':_0x48d30d?.[_0x212e54(0x2dc)],'searchConnector':_0x48d30d?.[_0x212e54(0x6d9)],'aiSearchConnector':_0x48d30d?.['aiSearchConnector'],'queryFileConnector':_0x48d30d?.['queryFileConnector'],'ragConnector':_0x48d30d?.[_0x212e54(0x6ac)]},_0x48d30d?.[_0x212e54(0x58f)]&&this['options'][_0x212e54(0x998)]&&_0x52452b[_0x212e54(0x22e)](this['options'][_0x212e54(0x998)]),_0x265260[_0x212e54(0x3e8)](this[_0x212e54(0x61b)]),_0x48d30d?.[_0x212e54(0x561)]&&_0x265260['setLoggingConnectors'](_0x48d30d[_0x212e54(0x561)]);}static async[_0x128a0b(0x2cc)](_0x133c19,_0x129a6a,_0x559bf1,_0x408d60,_0x4fe6dd){const _0x2a2053=_0x128a0b;this[_0x2a2053(0x1c2)]=_0x559bf1;const _0x415d86=await this[_0x2a2053(0xa7b)](_0x133c19,_0x129a6a,_0x4fe6dd);return _0x9b9d1c['instance']||(_0x9b9d1c[_0x2a2053(0x8e0)]=new _0x9b9d1c(_0x133c19,_0x415d86,_0x408d60)),{'close':_0x9b9d1c[_0x2a2053(0x8e0)][_0x2a2053(0x42d)][_0x2a2053(0xa47)](_0x9b9d1c[_0x2a2053(0x8e0)]),'authenticateUser':_0x9b9d1c[_0x2a2053(0x8e0)]['authenticateUser']['bind'](_0x9b9d1c[_0x2a2053(0x8e0)]),'authenticateAgent':_0x9b9d1c[_0x2a2053(0x8e0)][_0x2a2053(0x9ac)][_0x2a2053(0xa47)](_0x9b9d1c[_0x2a2053(0x8e0)]),'validateKey':_0x9b9d1c[_0x2a2053(0x8e0)][_0x2a2053(0x6fe)][_0x2a2053(0xa47)](_0x9b9d1c[_0x2a2053(0x8e0)]),'joinCluster':_0x9b9d1c[_0x2a2053(0x8e0)][_0x2a2053(0x2a9)]['bind'](_0x9b9d1c['instance'])};}static async[_0x128a0b(0x2d6)](){const _0x5d8301=_0x128a0b;return _0x342bc8[_0x5d8301(0x64d)]();}static[_0x128a0b(0x602)](){const _0x40b01b=_0x128a0b;return _0x4106b9[_0x40b01b(0x602)];}async[_0x128a0b(0x42d)](_0x2a735e){const _0x516205=_0x128a0b;this[_0x516205(0x73b)]['forEach'](_0xeddda0=>{const _0x4d9883=_0x516205;_0xeddda0[_0x4d9883(0xa80)](),_0xeddda0['leave'](_0x2a735e);}),this['clusters'][_0x516205(0x9e4)](),this[_0x516205(0x5e7)][_0x516205(0x998)]&&_0x52452b[_0x516205(0x58a)](),_0x9b9d1c[_0x516205(0x3b0)]?.(),_0x9b9d1c['unsubscribe']=void 0x0,this[_0x516205(0x792)]=void 0x0,await this[_0x516205(0x3b9)][_0x516205(0x42c)](),_0x9b9d1c['instance']=void 0x0;}static async[_0x128a0b(0xa7b)](_0xc940b7,_0x38ffd3,_0x4fcaf3){const _0x5758a1=_0x128a0b;if(!this[_0x5758a1(0x1c2)])throw new _0x325cc6(_0x3336f9[_0x5758a1(0x3a2)],'Node\x20type\x20is\x20required');let _0x5e68aa;try{_0x5e68aa=await(0x0,_0x197cf0[_0x5758a1(0x1e5)])(_0x342bc8[_0x5758a1(0x584)](),_0x5758a1(0xaf4))({'vendorId':_0xc940b7,'accessToken':_0x38ffd3,'secretKey':_0x4fcaf3});}catch(_0x404c69){throw new _0x325cc6(_0x3336f9[_0x5758a1(0x32a)],_0x5758a1(0x63c));}if(!this[_0x5758a1(0xae0)](_0x5e68aa[_0x5758a1(0xaae)]))throw new _0x325cc6(_0x3336f9[_0x5758a1(0x32a)],_0x5758a1(0x63c));const _0x24d7fb=_0x5e68aa['data'];return _0x24d7fb[_0x5758a1(0x31c)]||(_0x24d7fb['features']=[]),this[_0x5758a1(0x3b0)]||(this[_0x5758a1(0x3b0)]=_0x52452b[_0x5758a1(0x7ec)](async()=>{const _0x573230=_0x5758a1;try{const _0xa339ab=await this[_0x573230(0xa7b)](_0xc940b7,_0x38ffd3,_0x4fcaf3);this[_0x573230(0x1c2)]===_0x16f74[_0x573230(0x8d0)]['Agent']&&(_0xa339ab[_0x573230(0x1dd)]=_0xa339ab['iceServers'][_0x573230(0x2ca)](_0x5eea25=>_0x5eea25[_0x573230(0x672)][_0x573230(0x5fa)](_0x573230(0xa7c)))),_0x24d7fb[_0x573230(0x1dd)]=_0xa339ab[_0x573230(0x1dd)];}catch(_0x3d470d){}},0x1b7740)),_0x24d7fb;}async[_0x128a0b(0x876)](_0x4cd7eb){const _0x3983a8=_0x128a0b;if(_0x9b9d1c['mode']!==_0x16f74[_0x3983a8(0x8d0)][_0x3983a8(0x85e)])throw new _0x325cc6(_0x3336f9['NodeInvalidType'],_0x3983a8(0x56a));await this[_0x3983a8(0x3b9)][_0x3983a8(0x4e1)](_0x4cd7eb);const _0x58b2f3=new _0x5b48e3(_0x4cd7eb['id'],_0x4cd7eb[_0x3983a8(0x7a1)],_0x4cd7eb[_0x3983a8(0x99a)]);return this[_0x3983a8(0x792)]={'node':_0x58b2f3},_0x1ee3a1['logSupport'](_0x58b2f3),{'type':_0x16f74[_0x3983a8(0x8d0)][_0x3983a8(0x85e)],'getId':_0x58b2f3[_0x3983a8(0x993)][_0x3983a8(0xa47)](_0x58b2f3),'getDisplayName':_0x58b2f3[_0x3983a8(0x530)]['bind'](_0x58b2f3),'getEmail':_0x58b2f3['getEmail'][_0x3983a8(0xa47)](_0x58b2f3),'setDisplayName':_0x58b2f3[_0x3983a8(0x447)][_0x3983a8(0xa47)](_0x58b2f3),'setEmail':_0x58b2f3[_0x3983a8(0x488)]['bind'](_0x58b2f3)};}async[_0x128a0b(0x9ac)](_0x4abaea){const _0x23524b=_0x128a0b;if(_0x9b9d1c[_0x23524b(0x1c2)]!==_0x16f74[_0x23524b(0x8d0)][_0x23524b(0x1ae)])throw new _0x325cc6(_0x3336f9[_0x23524b(0x513)],'Node\x20type\x20is\x20invalid');const {id:_0x4a24fd,groupId:_0x43652d}=_0x4abaea,_0x364f2a=await(0x0,_0x1b5a26['getDoc'])((0x0,_0x1b5a26['doc'])(_0x342bc8['getFirestore'](),_0x23524b(0x76b)+this['vendorId']+'/resources/agent/items/'+_0x43652d));if(!_0x364f2a[_0x23524b(0x28f)]())throw new _0x325cc6(_0x3336f9[_0x23524b(0x97a)],_0x23524b(0x89e));const _0x4c5607=_0x364f2a['data']();await this['authService'][_0x23524b(0x4e1)]({'id':_0x4a24fd});const _0xb2ff7d=new _0x83afd9(_0x4a24fd,_0x43652d,this[_0x23524b(0x61b)],_0x4c5607);return this[_0x23524b(0x792)]={'node':_0xb2ff7d},_0x1ee3a1['logSupport'](_0xb2ff7d),this[_0x23524b(0x304)](_0xb2ff7d),{'type':_0x16f74[_0x23524b(0x8d0)]['Agent'],'getId':_0xb2ff7d['getId']['bind'](_0xb2ff7d),'onConfigurationChange':_0xb2ff7d[_0x23524b(0x350)][_0x23524b(0xa47)](_0xb2ff7d),'setReportCapacity':_0xb2ff7d[_0x23524b(0x295)][_0x23524b(0xa47)](_0xb2ff7d)};}async[_0x128a0b(0x6fe)](_0xb55e89){const _0x235a54=_0x128a0b,_0x8965d2=await(0x0,_0x1b5a26[_0x235a54(0x9af)])((0x0,_0x1b5a26[_0x235a54(0x1ff)])(_0x342bc8[_0x235a54(0x263)](),_0x235a54(0x312)+_0xb55e89));if(!_0x8965d2['exists']())throw new _0x325cc6(_0x3336f9[_0x235a54(0x32a)],_0x235a54(0xa7d));return _0x8965d2[_0x235a54(0xaae)]()[_0x235a54(0x61b)];}async[_0x128a0b(0x2a9)](_0x77518e){const _0x572d78=_0x128a0b;if(!this[_0x572d78(0x792)])throw new _0x325cc6(_0x3336f9[_0x572d78(0x97a)],_0x572d78(0x313));if(this['authContext']['node'][_0x572d78(0x7dd)]!==_0x16f74[_0x572d78(0x8d0)][_0x572d78(0x85e)])throw new _0x325cc6(_0x3336f9['NodeTypeNotSupported'],_0x572d78(0x3e5));if(this['clusters'][_0x572d78(0x301)](_0x77518e))throw new _0x325cc6(_0x3336f9[_0x572d78(0x7df)],_0x572d78(0x7a0));const _0x348403=new _0x14bf2e(this[_0x572d78(0x61b)],_0x77518e,this[_0x572d78(0x792)]['node'],this[_0x572d78(0x3b9)],this[_0x572d78(0x5e7)],this[_0x572d78(0x282)]);return await _0x348403[_0x572d78(0x406)](),this[_0x572d78(0x9e0)](_0x77518e,_0x348403),_0x265260['logEvent'](_0x572d78(0x38a),{'clusterId':_0x77518e,'nodeId':this[_0x572d78(0x792)][_0x572d78(0x98b)][_0x572d78(0x993)](),'nodeType':this['authContext'][_0x572d78(0x98b)][_0x572d78(0x7dd)]}),{'leave':_0x348403['leave']['bind'](_0x348403),'getLocalNode':_0x348403['getLocalNode'][_0x572d78(0xa47)](_0x348403),'openPubSubTopic':_0x348403['openPubSubTopic']['bind'](_0x348403),'openObjectStoreBucket':_0x348403[_0x572d78(0x6e9)][_0x572d78(0xa47)](_0x348403),'openExternalStorageConnection':_0x348403[_0x572d78(0x52a)]['bind'](_0x348403),'openKeyValueDatabase':_0x348403[_0x572d78(0x572)]['bind'](_0x348403),'openGenerativeAIContext':_0x348403['openGenerativeAIContext'][_0x572d78(0xa47)](_0x348403),'openGenerativeAIWorker':_0x348403['openGenerativeAIWorker'][_0x572d78(0xa47)](_0x348403),'openGraphDatabase':_0x348403[_0x572d78(0x71f)][_0x572d78(0xa47)](_0x348403),'openVectorDatabase':_0x348403[_0x572d78(0x4c6)]['bind'](_0x348403),'publishLocalMediaStream':_0x348403[_0x572d78(0x529)][_0x572d78(0xa47)](_0x348403),'publishLocalDynamicMediaStream':_0x348403[_0x572d78(0x765)][_0x572d78(0xa47)](_0x348403),'getPubSubTopics':_0x348403[_0x572d78(0x58e)][_0x572d78(0xa47)](_0x348403),'getObjectStoreBuckets':_0x348403[_0x572d78(0x67e)][_0x572d78(0xa47)](_0x348403),'getExternalStorageConnections':_0x348403[_0x572d78(0x865)][_0x572d78(0xa47)](_0x348403),'getKeyValueDatabases':_0x348403[_0x572d78(0x490)][_0x572d78(0xa47)](_0x348403),'getGenerativeAIContexts':_0x348403[_0x572d78(0xaa1)][_0x572d78(0xa47)](_0x348403),'getGenerativeAIWorkers':_0x348403['getGenerativeAIWorkers'][_0x572d78(0xa47)](_0x348403),'getGraphDatabases':_0x348403['getGraphDatabases'][_0x572d78(0xa47)](_0x348403),'getVectorDatabases':_0x348403['getVectorDatabases']['bind'](_0x348403),'getLocalMediaStreams':_0x348403[_0x572d78(0x7ef)][_0x572d78(0xa47)](_0x348403),'getRemoteMediaStreams':_0x348403['getRemoteMediaStreams'][_0x572d78(0xa47)](_0x348403),'getRemoteNodes':_0x348403[_0x572d78(0x3a3)][_0x572d78(0xa47)](_0x348403),'on':_0x348403['on'][_0x572d78(0xa47)](_0x348403),'off':_0x348403[_0x572d78(0xa80)]['bind'](_0x348403)};}async[_0x128a0b(0x304)](_0x156473){const _0xaec7ee=_0x128a0b,_0x1df507=new _0x14bf2e(this['vendorId'],_0xaec7ee(0x512),_0x156473,this['authService'],this[_0xaec7ee(0x5e7)],this[_0xaec7ee(0x282)]);await _0x1df507[_0xaec7ee(0x406)](),this[_0xaec7ee(0x9e0)](_0xaec7ee(0x512),_0x1df507),_0x265260[_0xaec7ee(0x79c)]('Joined\x20cluster',_0xaec7ee(0x512)),await _0x1df507[_0xaec7ee(0x1f4)](_0xaec7ee(0x512)),_0x265260[_0xaec7ee(0x79c)](_0xaec7ee(0x4e9),_0xaec7ee(0x512));}[_0x128a0b(0x9e0)](_0x43d5eb,_0x4a8ef2){const _0x201262=_0x128a0b;this[_0x201262(0x73b)][_0x201262(0x663)](_0x43d5eb,_0x4a8ef2),_0x4a8ef2['on'](_0x201262(0x47b),()=>{const _0x58c219=_0x201262;_0x4a8ef2[_0x58c219(0xa80)](),this[_0x58c219(0x73b)][_0x58c219(0x560)](_0x43d5eb);});}static[_0x128a0b(0xae0)](_0x5a1a81){return void 0x0!==_0x5a1a81['iceServers'];}}return _0x50a423;})())));function a0_0xdea0(_0x4af5ea,_0x50660e){const _0x52e05b=a0_0x52e0();return a0_0xdea0=function(_0xdea057,_0x7efa0e){_0xdea057=_0xdea057-0x185;let _0x2a8c26=_0x52e05b[_0xdea057];return _0x2a8c26;},a0_0xdea0(_0x4af5ea,_0x50660e);}function a0_0x52e0(){const _0x21c3b7=['.j2','Parameter\x20','PubSubTopicAlreadySubscribed','handleSystemEvents','createConstantSource','msalRefreshToken','title','outgoingStreams','processPendingSyncTransactions','Detection','Error\x20writing\x20buffered\x20chunk\x20to\x20stream','setOnDisconnectHandler','publishTransaction','processContentSynchronized','transactionHashMap','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process\x20with\x20not\x20all\x20ancestors\x20connected.','\x20must\x20be\x20a\x20valid\x20JSON\x20string','GenerativeAIContext\x20stream\x20error','DocumentParser','removeRemoteMediaStream','sendStats','warn','maxTokens','pendingFilesRename','getCurrentMaxLayer','validateAccess','stun:','Invalid\x20key','Queued','ConnectionGroup','off','String','jobPhase','TimePerFrame','detectStreamIssues','iceConnectionState\x20failed','remote-inbound-rtp','Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string','remediations','Logger.getInstance','cores','discoveryUnsubscriber','\x20attributed\x20to\x20','addBidResponse','closeConnection','knowledge','GenerativeAIContextCreationFailed','Pending','\x20already\x20exists','NodeUpdate','\x20completed.','KeyValueDatabasePeakNotFound','cpu.cycle','getClosestNodes','push','connectionConstructor','Local\x20node\x20rank\x20is\x20not\x20set','handleConnectionSuccess','onUnregisterPublisher','Competitive\x20Analysis\x20Agent','event','buildQuery','handleError','getGenerativeAIContexts','getAudioVideoDelay','Bitrate','fps','getDatabase','getAvailableTrackKinds','startAt','initialPrompt','Context','Add','queryParameters','optimizationLayers','getResolution','data','FeatureNotEnabled','not-in','openAIKey','handleTransactionPayload','setupStatsCollection','.ipynb','Cannot\x20get\x20file:\x20External\x20Storage\x20not\x20connected','handleRemoteTrackFailure','/objectstores/','MistletCapacityReportNotSet','mmr','getConnections','transaction','ref','queues','onDataChannel','subscriptionRequestsQueue','Cannot\x20create\x20Graph\x20Database:\x20Name\x20must\x20be\x20a\x20string','Warning','Waiting','firebaseConfig','listenUnsubscriber','sourceVideo','Method\x20not\x20supported','createRemoteMediaStream','publishSyncCompletedAfterWrites','sendTransactionsValue','threadId','receiverBitrate','token','Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string','\x0a\x20===\x20Synchronization\x20Time:\x20','validateValue','trim','Generative\x20AI\x20context\x20job\x20already\x20consumed.','remoteMediaStreams','senderPreviousTimestamp','setupTrackEndedListeners','object-store-invalid-state','ObjectStoreInvalidPath','detectionManager','api-key-missing','SearchPerplexity','Get','isComputingMMR','job-dispatcher-already-exists','JobType','Missing\x20owner\x20node\x20or\x20rank','Invalid\x20key\x20\x27','isInternalSDKConfigs','getContent','syncContent','ObjectStoreDoesNotExist','commitLevel','Receiving\x20\x27','setIsLoaded','incomingTopic','RebuildMMR\x20-\x20MMR\x20Root\x20changed?\x20','Jobs','failJob','handleObjectMove','isArray','answerContentAvailable','.pug','onClose','fileChunks','delta','clockSkew','setPendingFileSyncingPayload','sdkValidateAccess','Connection','node-already-exist','debounceRebuildMMRWithTransaction','getDistance','getIsLoaded','Text','handleIceCandidates','fromEntries','tokens','appsync-no-destination','handlePeerConnectionSystemEvents','Unsupported\x20job\x20type','getWorkflowObjectStorageBuckets','RequestAccepted','Database\x20not\x20open','createLocalMediaStream','createSubscription','isNodeReady','.mustache','onNodeUpdate','handleNoAnswer','objectStoreConnector','Knowledge','Blank\x20Agent','knowledgeCutoffDate','openJobDispatcher','restartHandshake','::￿','packets','Incoming','removeIncomingSubscription','crewdle-sdk.firebaseapp.com','cachedRoot','stream','send\x20error\x20on\x20','getCapacityReport','Collects\x20and\x20summarizes\x20market\x20trends\x20from\x20various\x20sources.','.conf','remoteNodes','application/json','sendFileRequestPayload','hasOwnProperty','Router','getSupportedContentTypes','processSenderReport','senderTimeProcessing','client','documentParserConnector','getItem','unregisterCluster','dataUnsubscribers','\x27:\x20missing\x20or\x20invalid\x20keyPath','.yml','subscription-request-failed','contentManager','choices','LocalMediaStreamAlreadyExists','GenerativeAIWorker:\x20Opening','collection-create','NodeAlreadyExist','workflow-does-not-exist','collectSendersStats','keyValueDatabaseConnector','AudioOutput','Key-value\x20database\x20transaction\x20value\x20not\x20set.','workflow-invalid-block-type','Stats','Search\x20in\x20data\x20collection\x20','getCoresFromCapacityReport','ObjectStore\x20not\x20found','AudioVideoDelay','strategizing-agent','handleFileWrite','getMediaStream','Agent','digest','NodeManager\x20-\x20NodeLeave','getRoundTripTime','where','blocks','logServiceEvent','Index','configure','removeKeyValueDatabase','job-worker-creation-failed','appsync-statechange','groupId','GraphDatabaseStats','Invalid\x20data\x20event.','AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','/logs','getTransactionByHash','.lua','context','mode','warning','invalid-subscriber','lastClockUpdate','Internal\x20unknown\x20error:\x20','bandwidth.rtt','vector-database-missing-connector','CloseExternalStorageConnection','statsCollection','createFolder','lastHeartbeat','9785UioPbA','code','\x20not\x20found.','timeReceiving','KeyValueDatabaseCreationFailed','Workflow','combinePeaks','transformations','InvalidSubscriber','\x20transactions\x20from\x20node\x20','onMessage','ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.','read','setupListeners','getLastUpdated','Data\x20Sent','iceServers','hasTracks','key-value-database-table-does-not-exist','Invalid\x20params','JobContext','chunksReceived','SubscriptionRequestNoAnswer','fetch-url','httpsCallable','KeyValueDatabase\x20-\x20Sync\x20completed','\x27\x20reserved','job-dispatcher-does-not-exist','getInternalStreamId','dataTopics','word-splitter','from','handleNodeDisconnect','suspended','crewdle-sdk.appspot.com','.pptx','pendingSyncTransactions','gain','manageOptimization','openGenerativeAIWorker','createOutgoingSubscription','numeric','inference','removeListener','.js','getNextTargetRank','video','joinedClusters','clearWaitSuccess','google','doc','processPendingHandshakeCandidates','handleContentSubscribeMediaStream','stopTracing','manageBufferedChunks','output-audio-stream','Key-value\x20database\x20transaction\x20table\x20not\x20initialized.','links','checkExistingPendingFileContent','parseWorkflowDocument','validateQuery','next','Sender','handleOffer','getTable','Job\x20with\x20id\x20','storage','readyDebounce','unregisterSystemPublisher','Database\x20already\x20exists','remove','root\x20hash:\x20','Processing\x20agent\x20block:\x20','bid','ObjectStoreCannotWriteTransaction','CloseKeyValueDatabase','GenerativeAIContext','key-value-database-creation-failed','getEnabledChannels','File','handleDetectionSystemEvents','ragApiKey','ReceiverPeerConnection.onMessage','NodeConnectionsUpdate','signalingState','frames','tail','cost','AITrace','getTotalNodes','ExecuteCustomSkill','channel','logEvent','Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','Job','accumulated','notifyObjectStoreOfNodeLeave','startNoThrottlingHack','317176xYNyZH','DataStream\x20send','onHandshakeStateChange','getAudioTracks','parseDataCollectionBlocks','external-storage-name-not-string','AI\x20Worker\x20already\x20exists','processTransactionsToComputeMMR\x20-\x20Requires\x20a\x20rebuild.\x20Append:\x20','Connected','AI\x20Search\x20connector\x20not\x20set','UpdateMediaStream','systemMessages','handleNeedRestart','previous','replaceTrack','authNode','getApp','removeTopic','GraphDatabaseNameNotString','LoadKnowledgeFunction','state','getInternalTrackParams','Channel\x20\x27','calculateArrayBufferSize','packetsSent','PromptSource','packetsLost','.rb','cancel','writeFile','Memory\x20Usage\x20at\x20','key-value-database-not-open','headers','ownerId','objectRequests','wait','getConfigs','graphql','messageCallback','retryCallback','MerkleMountainRange\x20-\x20appendTransaction\x20-\x20Completed.\x20Root:','.dart','file-download','owner','.tcl','KeyValueDatabaseAlreadyExists','realtime-session-create','\x0aAdditional\x20data:\x20','filename','KeyValueDatabaseDoesNotExist','searchEngineId','mediaTopics','getFirestore','.swift','audioDestination','object-store-invalid-path','inputTokens','entries','isWhereValue','Buffered\x20chunks\x20are\x20too\x20large','.awk','Embeddings','tableUnsubscriber','checkAudioVolume','cluster','StorageEventType','mediator','createGenerativeAIWorker','bandwidth.jitter','No\x20connections\x20available\x20to\x20send\x20message','queryFile','FetchUrl','getObjectStoreBucket','generateClient','getJobWorkers','collectStats','sendPeakTransactions','Search','accumulateResult','endpoint','notifyCluster','orderBy','internal','configs','receiver','aws','onBufferedAmountLow','learn-agent','leave','database','Downgrade','data-collection-does-not-exist','file.content','random','MissingSystemTopic','isSyncing','exists','threshold','debounceAppendLog','graphService','key','logConnectionState','setReportCapacity','createPubSubTopic','onremovetrack','3265168auYEdX','https://api.stg.crewdle.ai','mmrRoot','api','handleNodeJoinNeedPublishedStream','processOutboundReport','Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed','gpt-4o-mini','PartialResult','jobs','subscriptionRequests','onProviderChange','detectVideoIssues','hasMessage','docs','CloseJobWorker','listFiles','joinCluster','Default','Completed','handleProblem','queries','QueryFile','0\x20B','Amplify','contentMediator','\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number','Ingest','pool','Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.','Invalid\x20JSON:','dispatchEvent','handleMissingSenders','endpointUrl','bitrate','answerJoin','dt_volatility','ObjectStorageUpload','joinedAt','setLocalRank','compileStats','debounceLogTimeout','tool','Feedback\x20Agent','1:420235181083:web:4eff6062bd845cb0748cbe','splitParts','debounceReadyTimeout','addBatchOperation','PubSubTopicStats','contentRequestSent','filter','getAncestors','getInstance','clusterId','validateLayout','bufferEvent','ConnectionInvalidDataEvent','unsubscribeTrackEndedListener','\x20failed.','minRelevance','getRemoteConnections','getEntities','timestamp','.tpl','connectionType','7581843KtZdiC','openGenerativeAIContext','SenderPeerConnection\x20send','nlpLibraryConnector',',\x20Total\x20Nodes:','inbound-rtp','https://crewdle-sdk-stg-default-rtdb.firebaseio.com','NodeTypeNotSupported','end','timeoutCallback','logMMRRebuild','searchInDataCollection','Received\x20request\x20for\x20peak\x20transactions.\x20Sending\x20Transactions.','Vector','generative-ai-worker-creation-failed','waitConnected','true','asObservable','feedback-agent','collectionId','canProvideResolution','createNewBatch','assistant','webgl','handleAnswer','en-US','Gathers\x20structured\x20user\x20feedback\x20and\x20compiles\x20reports.','.xlsx','ObjectStoreAlreadySubscribed','cluster-disconnect','image','component','1:519415702791:web:5dd39042f881cfde3251a2','Reranker\x20block\x20is\x20missing\x20required\x20data','\x20must\x20be\x20a\x20string','Cannot\x20create\x20External\x20Storage:\x20Name\x20must\x20be\x20a\x20string','setRemoteConnections','updateDebounce','KeyValueDatabaseTransactionValueNotSet','entity-extractor','has','split','ObjectStorage','connectAgent','getConnection','checkAudioContext','getMaxDistance','writeBatch','computeHash','removeJobDispatcher','stringify','Model\x20not\x20found','listChanges','processBatch','connectionState','inputType','unregisterSource','apikeys/','Node\x20not\x20authenticated','publishSystemMessage','Table\x20not\x20found','Prompt','ready','version','MediaStream\x20feature\x20not\x20enabled','generative-ai-worker-missing-connector','RequestFile','features','RequestFileWrite','getTransactionFromTableWriteEvent','https://api.crewdle.ai','receiverTimeProcessing','keys','chosenAnswers','query-generator','Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream','firestore','successNotified','handleContentRemoteMediaStreamTrackFail','embed','Peaks\x20requested\x20were\x20not\x20found\x20in\x20local\x20MMR','InvalidAccess','collection-delete','hasRemoteNode','load','setReceiverBytes','connectionTimeout','Method\x20not\x20implemented.','Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27','isSubscribed','processJob','AI\x20Service\x20already\x20exists','frameTime','Problem\x20detected:\x20','setTimestamp','kind','currentBatch','Received\x20event\x20on\x20cluster','element','Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number','maxThreshold','all','PubSubTopicAlreadyExists','Prompt\x20is\x20required','2622cFhJcG','rate','handleContentSystemEvents','key-value-database-peak-not-found','streams','isReconnecting','connection-no-retry-queue','addDoc','RemoteRemove','senderStreams','Invalid\x20where\x20clause','\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.','bodyParameters','ObjectStoreInvalidPayload','.handlebars','onConfigurationChange','job-dispatcher-invalid-payload','.xml','fetchContentFromUrl','applyRemediation','sentence-splitter','file-ingest','text/event-stream','processOutboundReports','checksum','test-page','clearUpgradeTimeout','.groovy','ExternalStorageUpload','shouldContinuePropagation','Image','listenerUnsubscribers','/stats','min','PubSubTopicDoesNotExist','KeyValueDatabaseSendTransactions','o3-mini','removeVectorDatabase','deleteObject','add','evaluateBidsAndAttributeJob','maxFps','values','firebase-connect','Media','connectionGroup','messageListeners','isFailedResponse','.bat','Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key','clearRestartTimeout','senderCurrentBytes','missing-datachannel','jitter','statsReport','getVectorDatabase','FolderMove','request','feedback','object-store-not-synced','processRemoteInboundReport','verb','\x0a\x20\x20===\x20Initial\x20MMR\x20Root:\x20','connection','Remote\x20MediaStream\x20already\x20exists','getBitrate','AI\x20worker\x20creation\x20failed.','av_delay','requestSubscription','remote-connection-exists','Trend\x20Spotter','size','bandwidth.bitrate','join-cluster','query','Error\x20writing\x20file','externalStorages','vector-database','internalJob','graph-database-missing-connector','getChannelData','secheduleTime','sort','.hbs','\x0a</','cleanOldSubscription','FolderDelete','closeTrace','Adapts\x20content\x20based\x20on\x20user\x20learning\x20progress.','KeyValueDatabaseInvalidValue','propagate','mediaStream','waitAnswer','sync','CPUCycle','RemoteMediaStreamMissingProviderId','addNode','NodeTypeRequired','getRemoteNodes','VectorDatabaseAlreadyExists','removeExternalStorageConnection','Internal\x20error:\x20','publishSyncCompletedAfterWrites\x20-\x20','answers','messageBuffer','detectAudioIssues','connected','NodeManager\x20-\x20NodeUpdate','media-stream','job-dispatcher-observer-not-found','appsync-connect-fail','unsubscribe','createTopic','getOrResetPendingFileTimeout','.kt','subscribe','supported','createJob','processTransactionsToComputeMMR\x20-\x20Transactions\x20appended\x20-','GenerativeAITaskType','authService','ranges','direction','ai-search','connectorConstructor','featureSupport','JobWorkerInvalidType','setDurationTime','topic','receiverConnection','getDataCollections','function','some','POST','pow','getGraphDatabase','_isReady','unsubscribeListener','Missing\x20RAG\x20API\x20key','registerSystemSource','appendTransactionAndUpdateHashMap','getReader','generativeAIWorkerConnectors','play','getLocalId','total','CrewdleConnectionGroup','name','CanProvideMediaStream','onCandidate','server','Stream\x20already\x20exists','Tool','Mistlet\x20capacity\x20report\x20not\x20set.','completion_tokens','collectReceiversStats','systemMessagesReceived','OptimizationConnectionSuccess','object-storage','setupRenderElement','Error\x20stringifying\x20object','.info/serverTimeOffset','ConnectionBufferNotEmpty','Query\x20is\x20required','Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user','trace','Disconnect','setVendorId','Execute\x20a\x20SQL\x20query\x20on\x20a\x20file\x20to\x20retrieve\x20data.\x20The\x20query\x20should\x20be\x20designed\x20to\x20extract\x20relevant\x20information\x20from\x20the\x20file.\x20Available\x20table\x20is\x20file\x20and\x20columns\x20are:\x20','buffer','ObjectStorageBucket','.css','processRank','getPartsForSubscriptionLabel','Code\x20is\x20required','limitToFirst','subscription-request-no-answer','\x20failed.\x20Retrying...','Remote\x20connection\x20already\x20exists.','.ejs','file.type','AudioContext','ancestors','sendAction','clearRect','orderByKey','generative-ai-context-job-timeout','streamLabel','findIndex','updateLastTransactionId','prompt_tokens','KeyValueDatabaseSyncRequired','DataStream\x20onMessage','agent-update','/workflows/','shift','UnsubscribeMediaStreamdiaStream','join','waitSuccess','model','publishFolder','Optimization','appendTransaction','concat','Content','handleSubscriptionRestartNeedMediaStream','GenerativeAIContextInvalidPartialResult','jobDispatchers','audioSource','Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed','jobWorkers','instructions','maxConnections','.vue','handleLocalTrackFailure','setBytes','enabledChannels','peakHeights','DatabaseEvent','chunk-splitter','JobWorkerCreationFailed','resolutionScale','discoveryService','trackKinds','emit','key-value-database-index-not-found','sender','Initial\x20MMR\x20built\x20with','CrewdleConnection\x20handlePeerConnectionSystemEvents','getBid','external-storage-upload','agentConfig','phi-4-14b','supports','lastCapacityReport','signOut','close','createReceiverConnection','oidc','getTrack','Debug','orchestrator-close','InvalidPublisher','createSenderConnection','JobDispatcher:\x20Received\x20job','VectorSearch','\x20does\x20not\x20exists','ExternalStorage','removeTrackListeners','onDisconnect','/transactions/','object-store-invalid-payload','createIncomingSubscription','outputType','removeNode','setDoc','deleteRemoteNode','Job\x20','value','GetContextQuery','handleSubscriptionSubscribeMediaStream','handleFileRequest','setDisplayName','isFeatureSupported','.pdf','indexOf','isMediaSource','getToolName','Invalid\x20index\x20in\x20table\x20\x27','\x27\x20payload:','Cannot\x20get\x20file:\x20','Restart\x20NeedMediaStream','getConnectionDestinations','byteLength','gpt-4o','KeyValueDatabaseTableNotFound','job-dispatcher-job-not-found','checkDeviceConfig','\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','handleContentUnpublishMediaStream','remote-stream-does-not-exist','isJobAttribution','move','generativeAIContexts','getAncestorIds','Graph\x20database\x20block\x20is\x20missing\x20required\x20data','ReceiverPeerConnection\x20onMessage\x27\x20-\x20Remote:\x20','clearConnectionTimeout','Model\x20not\x20found\x20','.info/connected','sendChunked','KeyValueDatabaseRequestTransactionsValue','removePubSubTopic','handleNodeSystemEvents','getReport','uuid','reads','Invalid\x20query','Request','getDataBucketIds','generative-ai-context-job-already-consumed','getRank','json','trackCallback','globalObject','createBatchOperation','providerId','maxResolution','GraphDatabaseDoesNotExist','AppSync\x20publish','registerDestination','[DONE]','GenerativeAIModelInputType','Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20','cluster-leave','reportMetric','incrementVersion','registerRemoteNode','Query\x20must\x20refer\x20to\x20the\x20file\x20table','Upgrade','\x27\x20from\x20','folder-create','getLocalMediaStream','CONNECTION_STATE_CHANGE','ReadableStream\x20is\x20not\x20supported','onNodeDisconnect','.cs','setEmail','Handshake','RelationExtractor','CrewdleReceiverConnection\x20ontrack','tableObserver','vectors','RemoteMediaStreamDoesNotExist','Error\x20encountered\x20while\x20opening\x20database','getKeyValueDatabases','Connection\x20not\x20connected.','getMinConnections','remoteConnections','December\x202023','support','processJobStream','bufferedChunks','peaks','Error\x20searching','getWorkflow','RestartNeedMediaStream','@root','relation-extractor','reset','KeyValueDatabaseContentAvailable','pub-sub-topic-name-not-string','audio','ModelText','isConnected','sequence','processReports','getTransactions','mediaDevices','unregisterDestination','.\x20Confirmation?\x20','rejectReady','\x0a\x20\x20===\x20MMR\x20Computation\x20Time:\x20','capacityReporter','ObjectStoreNameNotString','Internal\x20event\x20\x27','FolderCreate','TextGeneration','senderCurrentTimestamp','answererId','getName','sendIceCandidates','.twig','<uploaded-files>','object-storage-upload','score','debounceReady','June\x202024','generative-ai-context-creation-failed','createBatch','getGraphDatabases','JobDispatcherJobExists','issues','receiverPreviousBytes','checkMediaRecording','senderTotalMessages','tracks','Recording','Error\x20closing\x20trace','openVectorDatabase','connectionStateListener','Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank','https://huggingface.co/bartowski/Llama-3.2-3B-Instruct-GGUF/resolve/main/Llama-3.2-3B-Instruct-Q8_0.gguf','Error\x20processing\x20retrieve','Execute\x20skill\x20','isNeedRestart','call','filteredDestinationIds','isOffer','addPendingHandshakeCandidate','subject','charCodeAt','Vector\x20database\x20creation\x20failed.','isJobRequest','.erl','head','all-minilm-l12-v2','Subject','executeAgent','KeyValueDatabaseRequestPeakTransactions','\x27\x20in\x20layout','tableLayout','isAvailable','closeTopic','statsManager','addReservedTables','signInWithCredential','readyResolve','DTVolatility','createLocalDynamicMediaStream','JobDispatcherAlreadyExists','readyPromises','/resources/generative-ai-collection/items','skipEncryption','Opened\x20generative\x20AI\x20worker','startIndex','Internal\x20SDK\x20Error:\x20','graph-database-creation-failed','Cannot\x20list\x20directory:\x20','jobBids','expectedTransactions','createGraphDatabase','canRestartHandshake','DataCollection','heartbeatUnsubscriber','url','addEventListener','notifyClusterNodeUpdate','createBufferSource','offset','getConnectionType','VectorDatabaseStats','GenerativeAILabelConflict','connectionPool','JobWorker:\x20Received\x20job','generative-ai-context-job-invalid-type','models','SentenceSplitter','getDataLogged','queryFileConnector','Invalid\x20subscriber.','Signaling','syncPendingFiles',':\x20Object\x20store\x20is\x20not\x20in\x20sync','More\x20content\x20available\x20on\x20page\x20','GenerativeAIContextDoesNotExist','.crewdle-layout','internalProcessJobStream','\x20received\x20partial\x20result:','search','previousTimestamp','chunks','ConnectionState','Subscription\x20request\x20failed.','writeTransaction\x20-\x20transaction\x20already\x20exists','crewdle','NodeInvalidType','isPartialResultResponse','pendingHandshakeCandidates','publishNodeLeave','additionnalInstructions','.Total\x20pages\x20available:\x20','CannotProvideMediaStream','accessToken','Attribution','maxBpp','ner','objectStores','.vb','WaitTrue','processRemoveContent','priority','incomingManager','Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string','clusters/','object-store-cannot-write-transaction','onConnectionStateChange','sendRequest','publishLocalMediaStream','openExternalStorageConnection','Result','ScreenSharing','nodeKey','minThreshold','ExecuteCode','getDisplayName','Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc','registerSubscriber','Subscription','/vector_stores/','senderConnection','filesSynced','logDataSent','handleNodeUpdate','getAgents','Outgoing','isLoaded','getEmail','evaluateProccessedJob','WebScraper','SHA-1','traceLevel','Internal\x20SDK\x20error:\x20','Error\x20executing\x20code','Data\x20Received','deleteFile','/embeddings','OPFSObjectStoreConnector','removeEventListener','isWhereBetween','system','/resources/external-storage/items/','removeSubscriptionsForNode','hasTable','noun','getTracks','user','syncTransactionsWritten','candidate','log','createOffer','Invalid\x20table\x20name\x20\x27','drawImage','removeRemoteStreamSubscription','pubsubTopics','generative-ai','Relation','debounceProcessRank','layout','string','text/csv','prompts','lastExecuted','delete','loggingConnectors','parse','DeviceConfig','After\x20Synchronization\x20-\x20Is\x20Database\x20sync?\x20','subscriptionManager','notifyObjectStoreOfNodeJoin','videoWidth','aiSearchConnector','CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','Node\x20type\x20is\x20invalid','Offer','Missing\x20transaction\x20id','publish','Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20','VectorDatabase','CloseMediaStream','PubSubTopic\x20publish','openKeyValueDatabase','mute','Copywriter\x20Agent\x20creates\x20engaging,\x20high-quality\x20written\x20content\x20for\x20marketing,\x20blogs,\x20and\x20advertisements.\x0a-\x20Identifies\x20the\x20purpose\x20and\x20audience\x20before\x20generating\x20text.\x0a-\x20Follows\x20brand\x20tone\x20and\x20voice\x20guidelines\x20if\x20provided.\x0a-\x20Generates\x20SEO-optimized\x20and\x20persuasive\x20content\x20for\x20different\x20formats.\x0a-\x20Ensures\x20all\x20writing\x20is\x20original\x20and\x20avoids\x20generic\x20phrases.\x0a-\x20Structures\x20blog\x20articles\x20with\x20headers,\x20ad\x20copy\x20with\x20a\x20headline-body-CTA\x20format.','notifyJoin','logger','isValidMediaSubscriptionParams','Conditional\x20Router','currentTimestamp','InitialPrompt','JobDispatcherObserverNotFound','vectorDatabaseConnector','sendFile','RoundTripTime','Restart','object-store-invalid-sync-message','Hash\x20computation\x20failed,\x20retrying...','lastUpdated','searchApiKey','getFunctions','.tsx','observe','deleteCollection','currentFrames','startTracing','stopNoThrottlingHack','\x27\x20in\x20table\x20\x27','Connection\x20not\x20initialized.','history','getPubSubTopics','disableIntervalHack','connection-buffer-not-empty','GenerativeAIContextJobInvalidType','Pool','job-dispatcher-creation-failed','Online','ClosePubSubTopic','CloseVectorDatabase','getRemoteMediaStream','setProviderId','SenderPeerConnection.send','GenerativeAITracing\x20-\x20Error\x20while\x20closing\x20trace','default','UnsubscribeMediaStream','Receiver\x20connection\x20is\x20not\x20initialized.','maps','getCurrentVersion','framerate','getTableConnector','external-storage','Received\x20ContentSynchronized\x20from\x20','processDataChannelReport','Failed\x20to\x20commit\x20batch\x20after\x20retries:','agent','disconnect','Error','getAuth','collectTransactionsFromNode','AppSync\x20subscribe','\x0a\x20===\x20Total\x20Data\x20Sent:\x20','setSenderTimestamp','objectToArrayBuffer','Skill','page','web-scraper','InternalSDKError','tables','firebase-disconnect','error','processReceivedTransactions','Learning\x20Agent','getProviderId','startBidResponseHandling','PeerConnectionInvalidDestination','processLocalReport','FileWrite','internalContext','Relation\x20extractor\x20block\x20is\x20missing\x20required\x20data','contentRect','getBufferedAmount','No\x20connector\x20found\x20for\x20model','completeSync','handshakeState','errorDetails','.liquid','crewdle-sdk-stg.appspot.com','Accepted','setInternalId','prompt','lastRemediations','addConnection','data:\x20[DONE]\x0a\x0a','document-parser','calculateSize','find','Cannot\x20get\x20size\x20of\x20path:\x20','getLabel','region','Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream','dbKey','Code','asc','logSupport','JobWorker:\x20Sending\x20job\x20reject','Early\x20return','toString','handleFileRequestAnswer','Move','Error\x20during\x20MMR\x20rebuild\x20logging:','.djt','results','nodeUpdate','trackChanges','firebaseUnsubscriber','getOwnerId','messagesSent','sendTransactionsValue\x20-\x20value\x20not\x20found','handleDisconnect','options','handleSubscriptionProvideMediaStream','race','MediaStreamUnavailable','Label\x20already\x20in\x20use\x20by\x20AI\x20Service','moveObject','appsync-connect','OfficeParser','graph-database-name-not-string','apiUrl','Graph\x20database\x20creation\x20failed.','max','receivers','handleUpdateMediaStream','observer','framesDecoded','getEngineType','JobDispatcherJobNotFound','getSettings','startsWith','Model\x20output\x20type\x20is\x20text\x20but\x20input\x20is\x20not\x20text','floor','params','Invalid\x20value.\x20Property\x20\x27','GenerativeAIContextJobMissingThreadId','outputTokens','handleSubscriptionMediaStreamUnavailable','isProduction','update','requestSubscriptionAction','subscriptions','remoteId','addRemoteNode','queueLength','receiverCurrentTimestamp','3037551LShkxw','arguments','crewdle-sdk-stg','deleteFileChunks','executeJavascriptCodeSnippet','syncedFileExists','dataChannel','ExternalStorageStats','collection-query','receiverTotalMessages','Failed\x20to\x20send\x20job\x20','availableTrackKinds','processTransactionsToComputeMMR','debug','object-store-stream-does-not-exist','\x0a\x20\x20===\x20Total\x20Nodes:\x20','MediaStream','vendorId','RemoteRemediation','setOnMessageHandler','destroy','removeLocalMediaStream','getRemoteMediaStreams','Helps\x20businesses\x20analyze\x20options\x20and\x20make\x20strategic\x20decisions.','list','resolveReady','node-invalid-type','ingestFile','node-does-not-exist','local-media-stream-track-fail','subscription-request-in-progress','Vector\x20database\x20block\x20is\x20missing\x20required\x20data','getSenderBitrate','generative-ai-label-conflict','getShareableStream','DataChannel\x20is\x20not\x20open.','publishMove','manageAncestor','result','ModelVector','arrayBufferToObject','llama-3.2-3b','publishFile','renderElement','Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.','getBuffer','Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','AudioVolume','ended','logInitialMMR','Invalid\x20credentials','createObjectStoreBucket','LoadSkillFunction','write-file','origin','between','endpointMethod','Backgrounds','List','open','maxBitrate','ExecuteAgent','Data\x20collection\x20block\x20is\x20missing\x20required\x20data','.sql','handshakeCandidates','Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.','Reranker','getEstimatedTimestamp','GenerativeAIContextJobAlreadyConsumed','/developers/','key-value-database-transaction-table-not-initialized','queryOrPrompt','user-update','getVectorDatabases','batch','northamerica-northeast1','CloseJobDispatcher','jobQueue','connecting','slice','getDataCollection','ObjectStoreInvalidSyncMessage','currentVersion','vector-database-name-not-string','\x20is\x20required','indexes','outgoingManager','System','GenerativeAIWorker:\x20Opened','set','subscription-request-does-not-exist','getPeakNode','Error\x20committing\x20batch:','generativeAIWorkers','setOnTableWriteHandler','changesUnsubscriber','gpu','WorkflowInvalidBlockType','processInboundReport','getSTVolatility','\x27\x20to\x20','unregisterRemoteNode','ccc','onTrack','urls','remediationManager','FPS','RequestFileSync','Could\x20not\x20open\x20trace','Offline','canvas','FROM\x20file','operator','generative-ai-context-invalid-partial-result','PubSubTopicNameNotString','Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20','getObjectStoreBuckets','transactions','append','nodes','captureStream','ObjectKind','getJobObservable','removeObjectStore','\x20finalized.','WebGL','long','GenerativeAIContextJobFailed','messagesReceived','startHeartbeat','onRemoveTrack','input-audio-stream','High','deleteTransactionsForTable','Remove','handleFileSync','handlePublishMediaStream','connector','CloseGraphDatabase','WaitFalse','node-type-not-supported','setupStatsReporting','getGenerativeAIWorkers','InvalidDataChannel','localId','Store\x20already\x20exists','Problem','providerListener','VectorDatabaseDoesNotExist','\x20-\x20','Missing\x20OpenAI\x20API\x20key','GenerativeAIWorkerStats','waitForArrayBufferSize','Archival\x20Search\x20Agent\x20retrieves\x20historical\x20records,\x20archives,\x20and\x20academic\x20sources.\x0a-\x20Identifies\x20the\x20time\x20period\x20and\x20event\x20of\x20interest\x20before\x20searching.\x0a-\x20Searches\x20historical\x20databases,\x20digital\x20libraries,\x20and\x20archives.\x0a-\x20Prioritizes\x20academic,\x20governmental,\x20and\x20reputable\x20historical\x20sources.\x0a-\x20Provides\x20contextual\x20insights\x20linking\x20historical\x20events\x20to\x20modern\x20interpretations.\x0a-\x20Summaries\x20include\x20timeframes,\x20key\x20figures,\x20and\x20events,\x20with\x20a\x20References\x20section.','GraphDatabaseCreationFailed','relations','if_else','createElement','usage','Model','nodeId','removeTrackCallback','ragConnector','timeoutValue','val','connections','track','Medium','bufferedEvents','tool-call','syncKeyValueDatabase\x20-\x20Retrying\x20sync\x20in\x20broadcast\x20mode.\x20Waited\x20for\x20cluster\x20readiness\x20for:','getJobs','\x20-\x20Sending\x20propagation\x20(','includes','setupResizeHandler','logSyncMetrics','destinationIds','getPubSubTopic','WorkflowTrace','oncloseTimeout','topicLabel','operations','KeyValueDatabaseTransactionTableNotInitialized','logLevel','getDocs','retryQueue','resizeHandler','getQuery','width','ObjectStoreNotSynced','getVideoTracks','topics','catch','events','Key-value\x20database\x20peak\x20not\x20found.','Done','Folder','snippet','setItem','batchSize','maxDepth','.json','files','KeyValueDatabaseInvalidLayout','registerPublisher','\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','processServiceReport','searchConnector','getContentType','resetConnection','desc','resume','entities','Node\x20\x27','CustomSkill','totalNodes','crewdle-sdk-logging-','getPacketsLostPerc','logWaitTime','remoteUnsubscriber','maxLayer','failed','getRoot','openObjectStoreBucket','Bid','internalProcessJob','trend-spotter','getDisplayMedia','pendingFilesTransactions','sendWithRetry','Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.','downgrade','pubSubTopics','isMediaDestination','request-file-sync','ContentType','Logging\x20not\x20enabled\x20for\x20channel\x20','status','ObjectStoreNotInSync','performCalculation','openPubSubTopic','receiverCurrentBytes','Missing\x20answerer\x20id\x20on\x20request\x20answer','Agent\x20block\x20is\x20missing\x20required\x20data:\x20','validateKey','Helps\x20users\x20construct\x20optimized\x20SQL\x20or\x20NoSQL\x20queries.','onChildRemoved','modelId','/jobs/','\x20not\x20supported','chooseAnswer','IntermediateOutput','outgoing-stream-no-topic','Missing\x20AI\x20worker\x20connector','October\x202023','syncTimeout','tools','Subscription\x20request\x20has\x20not\x20been\x20answered.','fileSendingMap','Missing\x20vector\x20database\x20connector','Everyone\x20','receiverUnsubscribers','complete','Subscription\x20request\x20does\x20not\x20exist.','pubsub','height','time','overlap','lastProcessRank','JobQueueService:\x20Job\x20completed','pop','consumeBufferedEvents','handleSubscriptionNeedMediaStream','setupConnectionEvents','unregisterPublisherListener','.jinja2','start','openGraphDatabase','\x20received\x20result:','assign','isChannelEnabled','getResolutionScale','checkMediaStream','limit','handleRequestPayload','RemoteMediaStreamInvalidSubscriptionParams','updateJob','unpublish','1.0.26','ceil','pendingFilesSyncing','No\x20file\x20content\x20found','us-east-1','/search','undefined','No\x20start\x20block\x20found','utf8','78duowBj','WriteFile','crewdleSDKDisableLogging','PubSubTopic\x20onMessage','.yaml','Human','currentBytes','data:\x20','clusters','totalDecodeTime','autoplay','handshakeDebounce','onDisconnectHandler','OpenAI','GenerativeAIEngineType','Generative\x20AI\x20context\x20job\x20timeout.','Data','invalid-publisher','created','Copywriter\x20Agent','getStatus','ObjectStore','pub-sub-topic-already-exists','false','PayloadAction','handleContentUpdateMediaStream','JobQueueService:\x20Error\x20running\x20job','Error\x20executing\x20agent','outbound-rtp','NodeJoin','publishNodeJoin','.jsx','endsWith','getJob','unsubscribeHandler','clearWaitAnswer','Model\x20output\x20type\x20is\x20vector\x20but\x20input\x20is\x20not\x20an\x20index','graph-database-already-exists','startTime','/nodes','WebRTC','Invalid\x20workflow\x20block\x20type.','every','NodeLeave','Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.','nodeManager','handleRemediationSystemEvents','number','Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','No\x20RAG\x20connector\x20available','publishLocalDynamicMediaStream','rank','OutgoingMediaStreamNoTopic','Chosen\x20answer','generative-ai-context-does-not-exist','inactive','developers/','publishSyncCompleted','retryDelay','trackListeners','getRemoteNode','Returns\x20\x22true\x22\x20or\x20\x22false\x22\x20based\x20on\x20the\x20input\x20condition.','clusterKey','if-else-router','writeTransaction','removeGraphDatabase','Found\x20','addTrack','registerCluster','job-dispatcher-job-exists','pub-sub-topic-does-not-exist','RetrieveTrace','2-digit','Error\x20processing\x20ingest','handleSubscriptionSystemEvents','targetId','StreamReport','isInternalLoggingConnector','parameters','setConnectionType','getReceiverBitrate','Number','appsync-disconnect','graphDatabaseConnector','Job\x20service\x20creation\x20failed.','app','GraphDatabase','remote-media-stream-invalid-subscription-params','isReady','SystemTopic\x20publish','upgradeTimeout','RemoteMediaStreamTrackFail','>\x0a\x0a','ENOENT','.exs','authContext','Invalid\x20subscription.','Llamacpp','crewdle-sdk','relevance','Trend\x20Spotter\x20gathers\x20current\x20market\x20trends\x20from\x20reports,\x20social\x20media,\x20and\x20industry\x20news.\x0a-\x20It\x20identifies\x20the\x20market\x20of\x20interest\x20before\x20conducting\x20a\x20web\x20search.\x0a-\x20Provides\x20an\x20executive\x20summary\x20followed\x20by\x20detailed\x20insights.\x0a-\x20Lists\x20verified\x20statistics\x20and\x20their\x20sources.\x0a-\x20Always\x20states\x20the\x20date\x20of\x20information\x20and\x20suggests\x20verification.\x0a-\x20Summaries\x20are\x20structured\x20under\x20Key\x20Trends,\x20Market\x20Growth,\x20and\x20Consumer\x20Preferences.','getDTVolatility','responseTimeout','No\x20parameters\x20provided','AISearch','forceLog','invalid-access','Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20','handleJobAttribution','Cluster\x20already\x20joined','displayName','addAudioTrack','/chat/completions','rebuildMMR','framesEncoded','DataStream','.cpp','Summary\x20Generator','discover','addVideoTrack','setRank','messageUnsubscriber','processReceiverReport','canChooseAnswer','GenerativeAITracing\x20-\x20job\x20id\x20is\x20already\x20set','out','defineProperty','addRemoteConnection','Delete','GenerativeAITracing\x20-\x20Error\x20while\x20opening\x20trace.','Invalid\x20index\x20key:\x20must\x20be\x20a\x20string','File\x20sending\x20interrupted','clientHeight','WebScraperRaw','Receiver','PubSub','\x20seconds','Job\x20Dispatcher\x20does\x20not\x20exist','JobStatus','systemTopic','completed','count','st_volatility','outgoingTopic','remediation','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process','KeyValueDatabaseStats','GenerativeAIContextJobTimeout','getSubscriptionInfo','NeedRestart','key-value-database-does-not-exist','LocalMediaStreamDoesNotExist','checkAudioOutput','CloseObjectStoreBucket','JobWorker:\x20Sending\x20job\x20result','registerSource','ConnectionNoRetryQueue','workflowId','Missing\x20AI\x20search\x20API\x20key','external-storage-invalid-path','addIssue','publishUserUpdate','AppSync\x20client\x20not\x20ready','onSnapshot','Low','onGatheringStateChange','decode','Invalid\x20value.\x20Must\x20be\x20an\x20object.','JobWorker:\x20Tracing\x20not\x20implemented','_ready','type','request-accepted','ClusterAlreadyJoined','nodesConnected','text/plain','ingestBlocks','peer-connection-invalid-destination','GraphSearch','getTrackFromParam','handleCloseContent','commitTrace','.crewdle-transactions','ObjectStoreAlreadyExists','isWhereValues','retryLimit','setInterval','RemoteConnectionExists','\x27\x20is\x20not\x20ready','getLocalMediaStreams','MissingRemoteConnection','SHA-256','\x20were\x20ready\x20in','connect','KeyValueDatabaseIndexNotFound','startLoggingCycle','Strategizing\x20Agent','agentId','reasoning','codes','CREWDLE_WEB_SDK','Rating','setReceiverTimestamp','initialize','420235181083','getSubscriptionLabel','getHash','DataChannel\x20is\x20not\x20initialized.','Core','bufferedAmountLowThreshold','durationTime','contentSize','Transaction','externalStorageConnections','round','getNumberOutgoingSubscriptions','Archival\x20Search\x20Agent','GenerativeAITracing\x20-\x20job\x20id\x20not\x20found','Jitter','Received\x20content\x20available\x20from\x20node','attributes','contextInputVariable','SearchGoogle','senderPreviousBytes','Remediation','root\x20::=\x20\x22true\x22\x20|\x20\x22false\x22','remainingTracks','connection-state','success','trackEndedListeners','findNewMediaSubscription','take','getTotalBytes','text/','ExternalStorageConnectionAlreadyExists','detectProblems','https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql',',\x20Transactions:\x20','not-resolved','Publish\x20the\x20transaction','Support:\x20','Error\x20resolving\x20readyPromises:','exports','childRemovedUnsubscriber','Error\x20retrieving\x20context','muted','transactionService','Invalid\x20object\x20store\x20sync\x20message.','receiverStreams','handleSuccess','key-value-database-table-name-reserved','jobType','mistlet-capacity-report-not-set','custom-skill','cpu.fps','checkScreenSharing','roundTripTime','ApiKeyMissing','system-stats','toFixed','.xls','timeSending','receiverPreviousTimestamp','Info','.clj','.crewdle-pending','PromptRating','setRemoteNode','job-worker-already-exists','handleContentUnsubscribeMediaStream','\x20with\x20','disconnectCallback','Missing\x20search\x20API\x20key','external-storage-connection-already-subscribed','\x20must\x20be\x20a\x20boolean','Node\x20is\x20not\x20an\x20agent','getRemoteId','openTrace','processReport','destination','Sender\x20connection\x20is\x20not\x20initialized.','buildInitialMMR','AudioContext\x20is\x20not\x20available','Invalid\x20job\x20type','setEncodingParameters','clearHeartbeat','Missing\x20remote\x20node\x20or\x20rank','FileDelete','evaluatePartialJob','toStringTag','logPropagateSystemEvent','Operations:','recipients','relation','shouldProcessTransaction','Generative\x20AI\x20context\x20invalid\x20partial\x20result.','now','signalingServer','commitType','.rkt','User','stopConnection','No\x20valid\x20bid\x20responses\x20received\x20in\x20time.','.txt','boolean','external-storage-connectors-missing','distance','getExternalStorageConnections','VectorDatabaseCreationFailed','stop','createJobDispatcher','functions','Events','Error\x20opening\x20trace','parentId','waitAsync','GenerativeAIContextStats','Error\x20fetching\x20URL','clearSyncTimeout','KeyValueDatabaseInvalidQuery','loggingCycle','Received\x20request\x20for\x20transactions\x20value.\x20Sending\x20','.ini','removeItem','authenticateUser','eventEmitter','syncTransactions','batchQueue','web-scraper-raw','statsReporting','counter','embedding','toLocaleDateString','setCurrentVersion','\x20to\x20generate\x20a\x20response.','RemoteAdd','KeyValueDatabaseContentSynchronized','unshift','GenerativeAITracing\x20-\x20Trace\x20job\x20id\x20does\x20not\x20exist','transactionQueue','\x20answer','processTransactionPayload','hasBufferedData','padStart','EntityExtractor','clearSubscriptionRequestTimeout','Query\x20file\x20connector\x20not\x20set','https://crewdle-sdk-default-rtdb.firebaseio.com','checkWebGL','agent-skill','commitBatch','body','file','jobObservers','committed','23508030uYHWuJ','maxFramerate','\x20with\x20response:','sourceId','currentDistance','SubscribeMediaStream','FileStatus','GetContextResult','supportsContentType','Agent\x20group\x20not\x20found','handleNodeLeave','job-dispatcher-invalid-job-type','available','callback','hashPeakHashes','LocalReport','Executing\x20custom\x20skill:\x20','amd','index','Partial','sendBid','subscribedTracks','\x20writes\x20from\x20','map','transactionsToAppend','commit','removeTrack','get','addEdge','decodeJWT','forEach','\x20new\x20transactions','eventTarget','.pl','bufferedAmount','missing-incoming-connection','Hub','Disconnected','handleChunkMessage','unregisterPublisher','Received\x20track','\x20does\x20not\x20support\x20content\x20type\x20','MediaStreamPriority','AiSearch','getPeaks','handleNodeJoin','JobWorker:\x20Error\x20getting\x20cores\x20from\x20capacity\x20report','timePerFrame','ExternalStorageInvalidPath','ExternalStorageConnectionDoesNotExist','processList','lastTransactionId','path','detail','subscription','localNode','JobDispatcherCreationFailed','pathName','localMediaStreams','NodeType','send','https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','Sending\x20\x27','Answer','getUserMedia','sdk-internal-error:\x20','handleStatsSystemEvents','\x20already\x20exists.','streamId','peerConnectionConnector','InvalidSubscription','custom-skill.result','InputAudioStream','Send\x20request','orchestrator','instance','Audio','Cannot\x20publish\x20move\x20operation:\x20','KeyValueDatabaseTableNameReserved','ExternalStorageConnectorsMissing','estimatedPlayoutTimestamp','transactionsToSync','evaluateBids','abs','Support','User\x20not\x20signed\x20in','Early\x20return:\x20','createBuffer','1.0.26.0','JobWorkerAlreadyExists','external-storage-connection-already-exists','listenerUnsubscriber','compareTransactions','temperature','retryQueues','\x20check\x20failed','instantiateTransactionTable','removeConnection','.html','updateDebounceTimeout','source','isIceCandidate','GenerativeAIWorkerCreationFailed','description','externalStorageConnectors','registerSystemPublisher','logDataReceived','right','parseWorkflowBlocks','payloadType','maxDistance','srcObject','Consuming\x20buffered\x20event','JobWorker:\x20Received\x20job\x20attribution','@context.','Perform\x20a\x20search\x20on\x20Google\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','previousFrames','Write\x20text\x20data\x20to\x20a\x20file.','KeyValueDatabaseNameNotString','getLayout','createPendingFileWrite','graph-database','checkBackgrounds','generative-ai-worker-model-sync-error','Failed','Missing\x20graph\x20database\x20connector','resolve','getSenderTotalBytes','handleOptimizationConnectionSuccess','WorkflowDoesNotExist','scheduleTime','previousBytes','.go','FramePerSecond','local-stream-does-not-exist','addProblem','No\x20connections\x20available\x20to\x20send\x20subscription\x20request','auth','removeRemoteNode','generative-ai-context-job-failed','handleFolderCreate','ChunkSplitter','PromptFunctionParamsType','extendedRecipients','vector-database-already-exists','hashNodes','senderBitrate','Additional\x20context:\x0a','debugEnabled','getPartsFromSubscription','timesCalled','active','RemoteMediaStreamAlreadyExists','serverTimestamp','setUpgradeTimeout','contextOutputVariable','getToolDescription','cluster-already-joined','No\x20destinationIds\x20left','getSimilarity','setTimeout','removeRemoteConnection','maxOutgoingSubscriptions','totalEncodeTime','problemType','setPriority','https://huggingface.co/bartowski/phi-4-GGUF/resolve/main/phi-4-Q8_0.gguf','openaiApiKey','isOpened','handleOutgoingSystemEvents','FinalOutput','createGenerativeAIContext','createAIJob','listener','once','getLocalNode','vector','videoHeight','ConnectionNotConnected','reportCapacity','/nodes/','updateUser','clientStream','message','hash','key-value-database-invalid-query','agent-config-changed','unregisterSubscriber','Invalid\x20job\x20service\x20payload.','collection','KeyValueDatabase\x20-\x20Assuming\x20no\x20nodes\x20available\x20to\x20sync.\x20Completing\x20sync.','DataCollectionDoesNotExist','Cannot\x20find\x20External\x20Storage\x20connection:\x20','output','frameHeight','loadFromDisk','reduce','clearOncloseTimeout','SyncKeyValueDatabasse\x20-\x20Waiting\x20for\x20ancestors','keyValueDatabases','content','UnpublishMediaStream','content-unpublish-media','insert','GenerativeAIWorkerModelSyncError','Entity','getContext','key-value-database-transaction-value-not-set','Before\x20Synchronization','getJobDispatchers','logRaw','Invalid\x20job\x20worker\x20type.','getExternalStorageConnection','graphDatabases','KeyValueDatabaseNotOpen','Stream\x20does\x20not\x20exist','OutputAudioStream','then','Rejected','Object\x20store\x20is\x20not\x20in\x20sync','grammar','Job\x20service\x20observer\x20not\x20found.','messages','entity','left','syncResolve','Error\x20writing\x20chunk\x20to\x20stream','getReceiverTotalBytes','rating','NodeNotAuthenticated','vectorDatabases','searchOnGoogle','NodeManager\x20-\x20PublishNodeLeave','jobId','getMaxConnections','enumerateDevices','closeSubscription','transactionTable','.md','Retrieve','New\x20MMR\x20Root:\x20','file-list','Wait','QueryBuilderInvalidArgument','createGain','.doc','node','Subscribing\x20to\x20an\x20event:\x20on','isSync','query-helper-invalid-argument','createVectorDatabase','AgentSkill','ExternalStorageNameNotString','text','getId','sendReject','interval','executeQuery','uid','audioContext','resolution','email','node-not-authenticated','removeJobWorker','ExternalStorageConnectionAlreadySubscribed','generative-ai-context-job-missing-thread-id','Success','splice','senders','write','nextNodeId','messageType','registeredListeners','ObjectStoreStats','getMilliseconds','JobStream','All','WordSplitter','ReceiverOnMessage','authenticateAgent','setSinkId','getConnectionGroup','getDoc','JobDispatcherInvalidPayload','GenerativeAIContextAlreadyExists','keyPath','PeerConnection','data-collection','getWorkflowExternalStorageConnections','dataStores','\x20with\x20\x27','mediaUnsubscribers','topK','logBatch','rootComputationPromise','createAnswer','STVolatility','Orchestrator\x20handleSystemEvents','clientWidth','Generative\x20AI\x20context\x20job\x20failed.','SenderSendMessage','Invalid\x20data\x20channel.','object-store-already-subscribed','data-stream','getShareableStreamId','processContentAvailable','IngestTrace','substring','contentType','handleObjectDelete','removeSubscription','feature-not-enabled','isRunning','label','onValue','Rejected\x20answer','openedTraces','Missing\x20external\x20storage\x20connector','GenerativeAITracing\x20-\x20trace\x20job\x20id\x20does\x20not\x20match','LocalMediaStreamNoAudioContext','findNextNodeId','GraphDatabaseAlreadyExists','enabled','internalId','gatheringState','minResolutionScale','engineType','bytesSent','KeyValueDatabaseTableDoesNotExist','saveToDisk','fetchUrl','addCluster','local-media-stream-already-exists','handleOnMessage','/capacities','clear','buildTableEvent','addCandidate','createDataChannel','createRemoteNode','AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','updated','openJobWorker','Resolution','clusterEventEmitter','Invalid\x20object\x20store\x20state.','handleUnpublishMediaStream','17586ZWInFP','The\x20system\x20topic\x20has\x20not\x20been\x20registered.','query-file','setTransformations','getOutgoingOptimizationConnections','crewdleSDKEnableLogging','ConnectionNotinitialized','loadEnabledChannels','\x20attempts:','Node','waitSendBuffer','SubscriptionRequestDoesNotExist','stats','file-delete','retryCount','GenerativeAITracing\x20-\x20trace\x20is\x20not\x20open','/resources/generative-ai-workflow/items/','systemTopicUnsubscribe','standalone','GenerativeAIInferenceToolType','initializeSystemTopic','KeyValueDatabase','setScheduleTime','Cannot\x20write\x20transaction.','recomputeRoot','handleContentCloseMediaStream','GraphDatabaseMissingConnector','SyncComplete','deletePendingFile','notifyClusterNodeJoin','connectionManager','ObjectStoreInvalidState','eventListener','Base\x20Peer\x20Connection','updateLastUpdated','hashTransaction','documentPath','Key-value\x20database\x20table\x20does\x20not\x20exist.','debounceStats','newPath','Cannot\x20unpublish\x20object:\x20','debounceRebuildMMR','batchTimeout','handleSubscriptionUnsubscribeMediaStream','setSubscriptionRequestTimeout','restartTimeout','createKeyValueDatabase','match','length','NodeDoesNotExist','JobDispatcherDoesNotExist','Database\x20does\x20not\x20exist','No\x20global\x20object\x20found','reject','GenerativeAIModelOutputType','frameWidth','tableName','\x20when\x20you\x20need\x20contextual\x20data\x20to\x20inform\x20your\x20response.','unregisterSystemSource','msalGetAccessToken','writes','JobWorker:\x20Received\x20job\x20request','replace','checkSyncComplete','Perform\x20a\x20search\x20on\x20Perplexity\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','subtle','JobWorkerDoesNotExist','action','JobWorker:\x20Error\x20processing\x20job','arrayBuffer','createConnection','GenerativeAITracing\x20-\x20Error\x20while\x20committing\x20trace','getMediaSubscription','addMessage','object','VectorDatabaseNameNotString','aiSearchApiKey','LocalMediaStreamTrackFail','logStorage','.crewdle-last-transaction','getGrammar','Failed\x20to\x20get\x20file','DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found','bytesReceived','graph-database-does-not-exist','PublishMediaStream','checkWebRTC','bind','NeedMediaStream','retrieveBlocks','cpu.time_per_frame','job-worker-invalid-type','getIdToken','isResultResponse','IncomingSubscription','subscriptionRequestTimeouts','processInboundReports','minConnections','updatePropagationProperties','remote-stream-missing-provider-id','getSize','handleHandshake','Stats:\x20report','175QRcUGl','JobWorker:\x20Sending\x20job\x20bid','connection-not-connected','\x0a\x20===\x20Current\x20MMR\x20Root','Cannot\x20create\x20Vector\x20Database:\x20Name\x20must\x20be\x20a\x20string','setParams','Execute\x20the\x20agent\x20','Connection\x20does\x20not\x20exist.','Update','setStatus','AppSync\x20connection\x20not\x20ready'];a0_0x52e0=function(){return _0x21c3b7;};return a0_0x52e0();}