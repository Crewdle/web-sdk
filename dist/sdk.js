(function(_0x54d59b,_0x4d5080){const _0x2e1dcb=a0_0x72fc,_0x354e99=_0x54d59b();while(!![]){try{const _0x3b838f=-parseInt(_0x2e1dcb(0x53f))/0x1+-parseInt(_0x2e1dcb(0x3d4))/0x2+-parseInt(_0x2e1dcb(0x559))/0x3*(parseInt(_0x2e1dcb(0x218))/0x4)+parseInt(_0x2e1dcb(0x446))/0x5+parseInt(_0x2e1dcb(0x432))/0x6+-parseInt(_0x2e1dcb(0x326))/0x7+parseInt(_0x2e1dcb(0x5b1))/0x8*(parseInt(_0x2e1dcb(0x102))/0x9);if(_0x3b838f===_0x4d5080)break;else _0x354e99['push'](_0x354e99['shift']());}catch(_0x189b8e){_0x354e99['push'](_0x354e99['shift']());}}}(a0_0x3b18,0x536c1),!function(_0x591dcc,_0x9a15d9){const _0x2c23a6=a0_0x72fc;if(_0x2c23a6(0x221)==typeof exports&&'object'==typeof module)module[_0x2c23a6(0x2e5)]=_0x9a15d9();else{if(_0x2c23a6(0x495)==typeof define&&define[_0x2c23a6(0x3c5)])define([],_0x9a15d9);else{var _0x42000b=_0x9a15d9();for(var _0x53a65d in _0x42000b)(_0x2c23a6(0x221)==typeof exports?exports:_0x591dcc)[_0x53a65d]=_0x42000b[_0x53a65d];}}}(this,()=>((()=>{'use strict';const _0x116ea7=a0_0x72fc;var _0x203b41={0x14d:(_0x380f49,_0x5c3431,_0x304509)=>{const _0x33dc62=a0_0x72fc;_0x304509['d'](_0x5c3431,{'O':()=>_0x3803e8});const _0x3803e8={'version':_0x33dc62(0x1fc),'isProduction':!0x1,'firebaseConfig':{'apiKey':_0x33dc62(0x4ee),'authDomain':_0x33dc62(0xef),'databaseURL':_0x33dc62(0x640),'projectId':_0x33dc62(0x3ec),'storageBucket':_0x33dc62(0x636),'appId':'1:519415702791:web:5dd39042f881cfde3251a2','functionsRegion':_0x33dc62(0xcf)},'aws':{'endpoint':_0x33dc62(0x5ae),'region':_0x33dc62(0x604)}};},0x33b:(_0x13e563,_0x1d5cda,_0x23dcd3)=>{_0x23dcd3['d'](_0x1d5cda,{'O':()=>_0x3a38df});const _0x3a38df={};},0x3e6:(_0x1a2896,_0x25f3e8,_0x5e76fd)=>{const _0x512474=a0_0x72fc;_0x5e76fd['d'](_0x25f3e8,{'O':()=>_0x562220});const _0x562220={'isProduction':!0x0,'firebaseConfig':{'apiKey':'AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','authDomain':_0x512474(0x44d),'databaseURL':_0x512474(0x16e),'projectId':'crewdle-sdk','storageBucket':_0x512474(0x149),'messagingSenderId':'420235181083','appId':'1:420235181083:web:4eff6062bd845cb0748cbe','measurementId':_0x512474(0x459)},'aws':{'endpoint':_0x512474(0x4c2),'region':_0x512474(0x604)}};},0x20:(_0x4be1f5,_0x535536,_0x37c714)=>{_0x37c714['d'](_0x535536,{'O':()=>_0x240cb7});const _0x240cb7={};}},_0x2aa96b={};function _0x3f3f3d(_0xc66c8){const _0x5774b5=a0_0x72fc;var _0x4a56de=_0x2aa96b[_0xc66c8];if(void 0x0!==_0x4a56de)return _0x4a56de['exports'];var _0x4e8d35=_0x2aa96b[_0xc66c8]={'exports':{}};return _0x203b41[_0xc66c8](_0x4e8d35,_0x4e8d35[_0x5774b5(0x2e5)],_0x3f3f3d),_0x4e8d35[_0x5774b5(0x2e5)];}_0x3f3f3d['d']=(_0xc7c639,_0x4d897b)=>{for(var _0x4bc70f in _0x4d897b)_0x3f3f3d['o'](_0x4d897b,_0x4bc70f)&&!_0x3f3f3d['o'](_0xc7c639,_0x4bc70f)&&Object['defineProperty'](_0xc7c639,_0x4bc70f,{'enumerable':!0x0,'get':_0x4d897b[_0x4bc70f]});},_0x3f3f3d['o']=(_0x2dfc0b,_0x487f77)=>Object['prototype'][_0x116ea7(0x4d3)][_0x116ea7(0x557)](_0x2dfc0b,_0x487f77),_0x3f3f3d['r']=_0x574e67=>{const _0x4d3749=_0x116ea7;'undefined'!=typeof Symbol&&Symbol[_0x4d3749(0x3ed)]&&Object['defineProperty'](_0x574e67,Symbol[_0x4d3749(0x3ed)],{'value':_0x4d3749(0x37f)}),Object['defineProperty'](_0x574e67,_0x4d3749(0x603),{'value':!0x0});};var _0x2f5c7f={};return((()=>{const _0x4d2937=_0x116ea7;var _0x26da86,_0xc23566,_0x2d687a,_0x292156,_0x4346db,_0x18f6f1,_0x2ea380,_0x4f1cb9,_0x37cafd;_0x3f3f3d['r'](_0x2f5c7f),_0x3f3f3d['d'](_0x2f5c7f,{'ContentType':()=>_0x18f6f1,'DatabaseEvent':()=>_0x292156,'KeyValueDatabase':()=>_0x4bd530,'LayoutBuilder':()=>_0x3f30ea,'LoggingChannels':()=>_0x37cafd,'MediaStreamPriority':()=>_0x2ea380,'ObjectKind':()=>_0x26da86,'PayloadAction':()=>_0xc23566,'QueryBuilder':()=>_0x2b9a28,'SDK':()=>_0xb3ba15,'SDKClientErrorCodes':()=>_0x4346db,'StorageEventType':()=>_0x2d687a,'logger':()=>_0x4dbf9b}),function(_0x58016a){const _0x942e4=a0_0x72fc;_0x58016a['File']=_0x942e4(0x51e),_0x58016a['Folder']=_0x942e4(0x204);}(_0x26da86||(_0x26da86={})),function(_0x32dfcf){const _0x3f6c6a=a0_0x72fc;_0x32dfcf['File']='file',_0x32dfcf[_0x3f6c6a(0x3fd)]=_0x3f6c6a(0x204),_0x32dfcf['Move']=_0x3f6c6a(0x14d);}(_0xc23566||(_0xc23566={})),function(_0x1e832a){const _0x58ac97=a0_0x72fc;_0x1e832a[_0x58ac97(0x5a4)]='file-write',_0x1e832a[_0x58ac97(0x369)]=_0x58ac97(0x264),_0x1e832a['FileMove']=_0x58ac97(0x490),_0x1e832a['FolderCreate']=_0x58ac97(0x1eb),_0x1e832a[_0x58ac97(0x2af)]=_0x58ac97(0xb5),_0x1e832a[_0x58ac97(0x44c)]=_0x58ac97(0x399);}(_0x2d687a||(_0x2d687a={})),function(_0x25b988){const _0x5676cc=a0_0x72fc;_0x25b988[_0x5676cc(0x1df)]=_0x5676cc(0x1dc);}(_0x292156||(_0x292156={})),function(_0xf4c682){const _0x9a3e26=a0_0x72fc;_0xf4c682[_0x9a3e26(0x43a)]='feature-not-enabled',_0xf4c682['ObjectStoreAlreadyExists']=_0x9a3e26(0x285),_0xf4c682[_0x9a3e26(0x4b1)]='object-store-already-subscribed',_0xf4c682[_0x9a3e26(0x648)]=_0x9a3e26(0x32d),_0xf4c682['ObjectStoreNameNotString']=_0x9a3e26(0x5d4),_0xf4c682[_0x9a3e26(0x63e)]=_0x9a3e26(0x159),_0xf4c682[_0x9a3e26(0x1da)]=_0x9a3e26(0x248),_0xf4c682['ObjectStoreNotInSync']=_0x9a3e26(0x180),_0xf4c682[_0x9a3e26(0x254)]=_0x9a3e26(0x25b),_0xf4c682['KeyValueDatabaseAlreadyExists']=_0x9a3e26(0x1f4),_0xf4c682[_0x9a3e26(0x647)]=_0x9a3e26(0x616),_0xf4c682[_0x9a3e26(0x141)]='key-value-database-index-not-found',_0xf4c682['KeyValueDatabaseInvalidQuery']=_0x9a3e26(0xb7),_0xf4c682[_0x9a3e26(0x621)]=_0x9a3e26(0x15c),_0xf4c682['KeyValueDatabaseNameNotString']=_0x9a3e26(0x506),_0xf4c682[_0x9a3e26(0x5d9)]='key-value-database-not-open',_0xf4c682[_0x9a3e26(0x55f)]=_0x9a3e26(0x364),_0xf4c682['KeyValueDatabaseTableNotFound']=_0x9a3e26(0x580),_0xf4c682['KeyValueDatabaseInvalidLayout']=_0x9a3e26(0x4c8),_0xf4c682['LocalMediaStreamAlreadyExists']='local-media-stream-already-exists',_0xf4c682[_0x9a3e26(0x38d)]='pub-sub-topic-already-exists',_0xf4c682[_0x9a3e26(0x1f6)]=_0x9a3e26(0x19b),_0xf4c682[_0x9a3e26(0x5a3)]=_0x9a3e26(0x14a),_0xf4c682[_0x9a3e26(0x109)]='pub-sub-topic-already-subscribed',_0xf4c682['QueryBuilderInvalidArgument']=_0x9a3e26(0x57e),_0xf4c682[_0x9a3e26(0x5c4)]=_0x9a3e26(0xe2),_0xf4c682[_0x9a3e26(0x18a)]='remote-media-stream-invalid-subscription-params',_0xf4c682[_0x9a3e26(0xb1)]=_0x9a3e26(0x2b8),_0xf4c682[_0x9a3e26(0x4cf)]=_0x9a3e26(0x3e3);}(_0x4346db||(_0x4346db={}));class _0x5374d2 extends Error{['code'];constructor(_0x254a77,_0x3ab6da){const _0x5e62dc=a0_0x72fc;super(_0x3ab6da),this[_0x5e62dc(0x5b0)]=_0x254a77;}}function _0x4bb63e(_0x2ddc87){const _0x3cf902=a0_0x72fc;if(!_0x2ddc87)throw new _0x5374d2(_0x4346db[_0x3cf902(0x18a)],_0x3cf902(0x413));if(_0x3cf902(0x221)!=typeof _0x2ddc87)throw new _0x5374d2(_0x4346db[_0x3cf902(0x18a)],'Invalid\x20params');const _0x4ab994=_0x2ddc87;if(_0x4ab994[_0x3cf902(0x47b)]&&_0x3cf902(0x131)!=typeof _0x4ab994[_0x3cf902(0x47b)]){if(_0x4ab994[_0x3cf902(0x47b)][_0x3cf902(0x445)]&&(_0x3cf902(0x3ac)!=typeof _0x4ab994[_0x3cf902(0x47b)][_0x3cf902(0x445)][_0x3cf902(0x586)]||_0x3cf902(0x3ac)!=typeof _0x4ab994['video']['maxResolution'][_0x3cf902(0x33d)]))throw new _0x5374d2(_0x4346db['RemoteMediaStreamInvalidSubscriptionParams'],_0x3cf902(0x51a));if(_0x4ab994[_0x3cf902(0x47b)][_0x3cf902(0x442)]&&!(_0x4ab994['video'][_0x3cf902(0x442)]instanceof HTMLVideoElement))throw new _0x5374d2(_0x4346db[_0x3cf902(0x18a)],_0x3cf902(0x325));}return!0x0;}!function(_0x3a513e){const _0x350c0b=a0_0x72fc;_0x3a513e[_0x350c0b(0x1c3)]=_0x350c0b(0x1b4),_0x3a513e['Media']='media',_0x3a513e[_0x350c0b(0x36a)]=_0x350c0b(0x51e),_0x3a513e['PubSub']=_0x350c0b(0x5f0),_0x3a513e['ObjectStore']=_0x350c0b(0x1a8),_0x3a513e[_0x350c0b(0x119)]=_0x350c0b(0x303);}(_0x18f6f1||(_0x18f6f1={})),function(_0x5ebf7c){const _0x30c1fc=a0_0x72fc;_0x5ebf7c[_0x5ebf7c[_0x30c1fc(0x1ad)]=0x1]=_0x30c1fc(0x1ad),_0x5ebf7c[_0x5ebf7c['Default']=0x2]=_0x30c1fc(0x5a2),_0x5ebf7c[_0x5ebf7c[_0x30c1fc(0x395)]=0x3]='Low';}(_0x2ea380||(_0x2ea380={})),function(_0x23c949){const _0x1fd5dd=a0_0x72fc;_0x23c949['PubSub']=_0x1fd5dd(0x5f0),_0x23c949['ObjectStorage']=_0x1fd5dd(0x3bd),_0x23c949[_0x1fd5dd(0x119)]=_0x1fd5dd(0x173),_0x23c949[_0x1fd5dd(0x4c0)]=_0x1fd5dd(0x107);}(_0x4f1cb9||(_0x4f1cb9={})),function(_0x103049){const _0x218dc=a0_0x72fc;_0x103049[_0x218dc(0x190)]=_0x218dc(0x1f3),_0x103049[_0x218dc(0x5a2)]='default',_0x103049[_0x218dc(0x4b9)]=_0x218dc(0x454),_0x103049['ConnectionState']=_0x218dc(0x171),_0x103049[_0x218dc(0x2ac)]=_0x218dc(0x545),_0x103049[_0x218dc(0x1c6)]=_0x218dc(0x4eb),_0x103049[_0x218dc(0x47a)]='detection',_0x103049[_0x218dc(0x4d1)]=_0x218dc(0x11f),_0x103049['Error']=_0x218dc(0x2aa),_0x103049[_0x218dc(0x61c)]=_0x218dc(0x125),_0x103049[_0x218dc(0x13f)]=_0x218dc(0x52b),_0x103049[_0x218dc(0x126)]=_0x218dc(0x5f0),_0x103049[_0x218dc(0x338)]=_0x218dc(0xc1),_0x103049['Signaling']=_0x218dc(0x337),_0x103049['Stats']=_0x218dc(0x160),_0x103049['Subscription']=_0x218dc(0x246),_0x103049[_0x218dc(0x5b7)]=_0x218dc(0x480),_0x103049[_0x218dc(0x20d)]=_0x218dc(0x270),_0x103049[_0x218dc(0x3f5)]=_0x218dc(0x5eb),_0x103049[_0x218dc(0x2d2)]=_0x218dc(0x4a6),_0x103049[_0x218dc(0x4a8)]=_0x218dc(0x46c);}(_0x37cafd||(_0x37cafd={}));class _0x2b9a28{[_0x4d2937(0x572)];constructor(_0x584eed){const _0x23fed0=_0x4d2937;this[_0x23fed0(0x572)]={'orderBy':{'key':_0x584eed,'direction':_0x23fed0(0x427)}};}static[_0x4d2937(0x288)](_0x26085b){const _0x4a667b=_0x4d2937;if(_0x4a667b(0x2d6)!=typeof _0x26085b||0x0===_0x26085b['length'])throw new _0x5374d2(_0x4346db[_0x4a667b(0x483)],_0x4a667b(0x2a4));return new _0x2b9a28(_0x26085b);}static['validateQuery'](_0x23b01e){const _0x5d82bc=_0x4d2937;try{return _0x2b9a28[_0x5d82bc(0x320)](_0x23b01e),!0x0;}catch(_0x25a4f8){return!0x1;}}static[_0x4d2937(0x320)](_0x3adbb4){const _0x312e04=_0x4d2937,_0x227515=_0x2b9a28[_0x312e04(0x288)](_0x3adbb4[_0x312e04(0x256)]?.[_0x312e04(0x645)]??_0x3adbb4['where']?.[_0x312e04(0x645)]??'');if(_0x3adbb4['where']){const _0x3c6fa1=_0x3adbb4[_0x312e04(0x144)];if((_0x2b9a28[_0x312e04(0x579)](_0x3c6fa1)||_0x2b9a28[_0x312e04(0x57b)](_0x3c6fa1)||_0x2b9a28[_0x312e04(0x4db)](_0x3c6fa1))&&_0x227515[_0x312e04(0x144)](_0x3c6fa1[_0x312e04(0x3c0)],_0x3c6fa1[_0x312e04(0x5fa)]),_0x3adbb4[_0x312e04(0x256)]?.[_0x312e04(0x645)]&&_0x3adbb4[_0x312e04(0x256)]?.[_0x312e04(0x645)]!==_0x3adbb4[_0x312e04(0x144)][_0x312e04(0x645)])throw new _0x5374d2(_0x4346db['QueryBuilderInvalidArgument'],_0x312e04(0xc6));}return _0x3adbb4[_0x312e04(0x256)]&&_0x227515[_0x312e04(0x256)](_0x3adbb4[_0x312e04(0x256)][_0x312e04(0x5e0)]),_0x3adbb4[_0x312e04(0x2ed)]&&_0x227515[_0x312e04(0x2ed)](_0x3adbb4['limit']),_0x3adbb4['offset']&&_0x227515[_0x312e04(0x21f)](_0x3adbb4[_0x312e04(0x21f)]),_0x227515;}[_0x4d2937(0x4af)](){const _0x22bb74=_0x4d2937;return{...this[_0x22bb74(0x572)]};}[_0x4d2937(0x144)](_0x478fda,_0xbe8675){const _0x3edc81=_0x4d2937,_0x9194ef={'key':this[_0x3edc81(0x572)][_0x3edc81(0x256)][_0x3edc81(0x645)],'operator':_0x478fda,'value':_0xbe8675};if(!_0x2b9a28[_0x3edc81(0x579)](_0x9194ef)&&!_0x2b9a28['isWhereValues'](_0x9194ef)&&!_0x2b9a28['isWhereBetween'](_0x9194ef))throw new _0x5374d2(_0x4346db[_0x3edc81(0x483)],_0x3edc81(0x22f));return this[_0x3edc81(0x572)][_0x3edc81(0x144)]=_0x9194ef,this;}[_0x4d2937(0x256)](_0x527133){const _0x269607=_0x4d2937;if(_0x269607(0x427)!==_0x527133&&_0x269607(0x12b)!==_0x527133)throw new _0x5374d2(_0x4346db['QueryBuilderInvalidArgument'],_0x269607(0xdf));return this[_0x269607(0x572)][_0x269607(0x256)][_0x269607(0x5e0)]=_0x527133,this;}[_0x4d2937(0x2ed)](_0x28747d){const _0x40d105=_0x4d2937;if(_0x40d105(0x3ac)!=typeof _0x28747d||_0x28747d<0x0)throw new _0x5374d2(_0x4346db['QueryBuilderInvalidArgument'],'Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number');return this[_0x40d105(0x572)][_0x40d105(0x2ed)]=_0x28747d,this;}['offset'](_0xf7d61e){const _0x1c9131=_0x4d2937;if(_0x1c9131(0x3ac)!=typeof _0xf7d61e||_0xf7d61e<0x0)throw new _0x5374d2(_0x4346db[_0x1c9131(0x483)],_0x1c9131(0x38a));return this['query']['offset']=_0xf7d61e,this;}static[_0x4d2937(0x579)](_0xa7b66a){const _0x5d9084=_0x4d2937;if(!(_0xa7b66a&&_0x5d9084(0x221)==typeof _0xa7b66a&&'operator'in _0xa7b66a&&'value'in _0xa7b66a))return!0x1;const {operator:_0x41d88c,value:_0x1450b1}=_0xa7b66a;return!(!['==','!=','>','<','<=','>='][_0x5d9084(0x135)](_0x41d88c)||Array['isArray'](_0x1450b1));}static[_0x4d2937(0x57b)](_0x4aa6c3){const _0x3d21a7=_0x4d2937;if(!(_0x4aa6c3&&_0x3d21a7(0x221)==typeof _0x4aa6c3&&_0x3d21a7(0x3c0)in _0x4aa6c3&&_0x3d21a7(0x5fa)in _0x4aa6c3))return!0x1;const {operator:_0x39d5ff,value:_0x1f13a0}=_0x4aa6c3;return!(!['in',_0x3d21a7(0x2b7)]['includes'](_0x39d5ff)||!Array[_0x3d21a7(0x3e7)](_0x1f13a0));}static[_0x4d2937(0x4db)](_0x2eff0b){const _0xa73247=_0x4d2937;if(!(_0x2eff0b&&_0xa73247(0x221)==typeof _0x2eff0b&&_0xa73247(0x3c0)in _0x2eff0b&&_0xa73247(0x5fa)in _0x2eff0b))return!0x1;const {operator:_0x303c97,value:_0x3982e6}=_0x2eff0b;return!(_0xa73247(0x377)!==_0x303c97||!Array[_0xa73247(0x3e7)](_0x3982e6)||0x2!==_0x3982e6[_0xa73247(0x27f)]);}}class _0x3f30ea{['layout'];constructor(_0x241a80){const _0x1d5d7a=_0x4d2937;this[_0x1d5d7a(0x214)]={'tables':{},'version':_0x241a80};}static[_0x4d2937(0x569)](_0x2ac9e0){const _0x114ea6=_0x4d2937;for(const _0x348dbe in _0x2ac9e0){if(_0x114ea6(0x32c)!==_0x348dbe&&'tables'!==_0x348dbe)return[!0x1,_0x114ea6(0x520)+_0x348dbe+_0x114ea6(0x27a)];if(_0x114ea6(0x541)===_0x348dbe)for(const _0x3db064 in _0x2ac9e0['tables']){if(_0x114ea6(0x2d6)!=typeof _0x3db064)return[!0x1,_0x114ea6(0x51b)+_0x3db064+'\x27'];for(const _0x1ef984 in _0x2ac9e0[_0x114ea6(0x541)][_0x3db064]){if('indexes'!==_0x1ef984)return[!0x1,_0x114ea6(0x520)+_0x1ef984+_0x114ea6(0x574)+_0x3db064+'\x27'];const _0x11ddc9=_0x2ac9e0[_0x114ea6(0x541)][_0x3db064][_0x1ef984]??[];for(const _0x5e3b8f of _0x11ddc9)if(void 0x0===_0x5e3b8f[_0x114ea6(0x2fc)]||_0x114ea6(0x2d6)!=typeof _0x5e3b8f[_0x114ea6(0x2fc)])return[!0x1,'Invalid\x20index\x20in\x20table\x20\x27'+_0x3db064+_0x114ea6(0x29d)];}}else{if(_0x114ea6(0x32c)===_0x348dbe&&'number'!=typeof _0x2ac9e0[_0x348dbe])return[!0x1,_0x114ea6(0x500)+_0x2ac9e0[_0x348dbe]+_0x114ea6(0x188)];}}return[!0x0,'Valid\x20layout'];}static['layout'](_0x19c880){const _0x3ffdc0=_0x4d2937,_0x2aabd1=new _0x3f30ea(_0x19c880);return _0x2aabd1[_0x3ffdc0(0x214)][_0x3ffdc0(0x32c)]=_0x19c880,_0x2aabd1;}[_0x4d2937(0x50b)](_0xa5d05c){const _0x5e9676=_0x4d2937;return this['layout'][_0x5e9676(0x541)][_0xa5d05c]={},new _0x29d117(this['layout'][_0x5e9676(0x541)][_0xa5d05c]);}['getLayout'](){const _0x586e75=_0x4d2937;return this[_0x586e75(0x214)];}}class _0x29d117{['tableLayout'];constructor(_0x559adc){this['tableLayout']=_0x559adc;}['index'](_0x49ee6f){const _0x4dcfbe=_0x4d2937;return this[_0x4dcfbe(0x4e3)]['indexes']=this[_0x4dcfbe(0x4e3)]['indexes']??[],this[_0x4dcfbe(0x4e3)][_0x4dcfbe(0x32f)]['push']({'keyPath':_0x49ee6f}),this;}}const _0x303618=_0x4d2937(0x22d),_0x407823=_0x4d2937(0x1ea),_0x1fc29b='.crewdle-transactions',_0x1e84d3=0x7530,_0x52b8cb=_0x4d2937(0x45b);var _0x1a33c0;!function(_0x48a505){const _0x5a3641=_0x4d2937;_0x48a505[_0x5a3641(0x3a7)]='connection-not-initialized',_0x48a505[_0x5a3641(0xf2)]=_0x5a3641(0x100),_0x48a505[_0x5a3641(0x452)]='connection-no-retry-queue',_0x48a505[_0x5a3641(0x4b4)]=_0x5a3641(0x524),_0x48a505[_0x5a3641(0x65a)]=_0x5a3641(0x620),_0x48a505[_0x5a3641(0x3ee)]='object-store-invalid-sync-message',_0x48a505[_0x5a3641(0x46f)]=_0x5a3641(0x37b),_0x48a505[_0x5a3641(0x488)]=_0x5a3641(0x4cd),_0x48a505[_0x5a3641(0x435)]='invalid-publisher',_0x48a505[_0x5a3641(0x260)]=_0x5a3641(0x428),_0x48a505[_0x5a3641(0x120)]=_0x5a3641(0x646),_0x48a505[_0x5a3641(0x499)]=_0x5a3641(0x389),_0x48a505['KeyValueDatabaseTableDoesNotExist']=_0x5a3641(0x1b6),_0x48a505[_0x5a3641(0x2b2)]=_0x5a3641(0x28b),_0x48a505[_0x5a3641(0x2a5)]=_0x5a3641(0x51d),_0x48a505['LocalMediaStreamDoesNotExist']=_0x5a3641(0x403),_0x48a505[_0x5a3641(0x3dd)]='missing-incoming-connection',_0x48a505[_0x5a3641(0x504)]='missing-system-topic',_0x48a505[_0x5a3641(0x3da)]=_0x5a3641(0x28c),_0x48a505[_0x5a3641(0xbb)]=_0x5a3641(0x594),_0x48a505[_0x5a3641(0x591)]=_0x5a3641(0xb3),_0x48a505[_0x5a3641(0x5d6)]=_0x5a3641(0x5c8),_0x48a505[_0x5a3641(0x1ae)]=_0x5a3641(0x623),_0x48a505[_0x5a3641(0x534)]=_0x5a3641(0x400),_0x48a505[_0x5a3641(0x371)]=_0x5a3641(0x5da),_0x48a505[_0x5a3641(0x532)]=_0x5a3641(0x489),_0x48a505[_0x5a3641(0xfb)]=_0x5a3641(0x41e),_0x48a505[_0x5a3641(0x235)]=_0x5a3641(0x2de);}(_0x1a33c0||(_0x1a33c0={}));const _0x22b700=new Map([[_0x1a33c0[_0x4d2937(0x3a7)],'Connection\x20not\x20initialized.'],[_0x1a33c0['ConnectionNotConnected'],_0x4d2937(0x47d)],[_0x1a33c0[_0x4d2937(0x452)],'Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.'],[_0x1a33c0[_0x4d2937(0x4b4)],_0x4d2937(0x24b)],[_0x1a33c0[_0x4d2937(0x65a)],_0x4d2937(0x3d8)],[_0x1a33c0[_0x4d2937(0x3ee)],_0x4d2937(0x29b)],[_0x1a33c0['ObjectStoreNotSynced'],'Object\x20store\x20not\x20synced.'],[_0x1a33c0['InvalidDataChannel'],'Invalid\x20data\x20chan_NO_RENAMEENAl.'],[_0x1a33c0[_0x4d2937(0x435)],_0x4d2937(0x164)],[_0x1a33c0[_0x4d2937(0x260)],_0x4d2937(0x367)],[_0x1a33c0[_0x4d2937(0x120)],_0x4d2937(0xbc)],[_0x1a33c0[_0x4d2937(0x499)],_0x4d2937(0x30c)],[_0x1a33c0[_0x4d2937(0x1b3)],'Key-value\x20database\x20table\x20does\x20not\x20exist.'],[_0x1a33c0['KeyValueDatabaseTransactionTableNotInitialized'],_0x4d2937(0x301)],[_0x1a33c0[_0x4d2937(0x2a5)],_0x4d2937(0x329)],[_0x1a33c0['LocalMediaStreamDoesNotExist'],'Local\x20stream\x20does\x20not\x20exist.'],[_0x1a33c0['MissingRemoteConnection'],_0x4d2937(0x42f)],[_0x1a33c0[_0x4d2937(0x504)],_0x4d2937(0x5bf)],[_0x1a33c0[_0x4d2937(0x3da)],_0x4d2937(0x379)],[_0x1a33c0[_0x4d2937(0xbb)],_0x4d2937(0x2b5)],[_0x1a33c0[_0x4d2937(0x591)],_0x4d2937(0x255)],[_0x1a33c0[_0x4d2937(0x5d6)],_0x4d2937(0x240)],[_0x1a33c0[_0x4d2937(0x1ae)],'Subscription\x20request\x20does\x20not\x20exist.'],[_0x1a33c0[_0x4d2937(0x534)],'Subscription\x20request\x20failed.'],[_0x1a33c0[_0x4d2937(0x371)],_0x4d2937(0x21e)],[_0x1a33c0['UserDoesNotExist'],_0x4d2937(0x24f)],[_0x1a33c0[_0x4d2937(0xfb)],_0x4d2937(0x5fb)],[_0x1a33c0[_0x4d2937(0x235)],_0x4d2937(0x5c2)]]);class _0xce6ead extends Error{[_0x4d2937(0x5b0)];static [_0x4d2937(0x197)]=_0x1a33c0;[_0x4d2937(0x1b4)];constructor(_0x5abfa6,_0x30bbbf){const _0x23d227=_0x4d2937;super(_0x23d227(0x2dd)+_0x5abfa6+':\x20'+_0x22b700['get'](_0x5abfa6)+_0x23d227(0x55b)+JSON[_0x23d227(0x305)](_0x30bbbf)),this[_0x23d227(0x5b0)]=_0x5abfa6,this[_0x23d227(0x1b4)]=_0x30bbbf||{};}}var _0x163779,_0x3adf6c,_0x1050e1,_0x348bdb,_0x56eb66,_0x100c15;!function(_0x1407b7){const _0xa46d33=_0x4d2937;_0x1407b7[_0x1407b7[_0xa46d33(0x31e)]=0x0]='PublishMediaStream',_0x1407b7[_0x1407b7[_0xa46d33(0x5e4)]=0x1]=_0xa46d33(0x5e4),_0x1407b7[_0x1407b7[_0xa46d33(0x267)]=0x2]=_0xa46d33(0x267),_0x1407b7[_0x1407b7[_0xa46d33(0x298)]=0x3]='UpdateMediaStream',_0x1407b7[_0x1407b7[_0xa46d33(0x2cc)]=0x4]='UnsubscribeMediaStream',_0x1407b7[_0x1407b7[_0xa46d33(0x622)]=0x5]='CloseObjectStoreBucket',_0x1407b7[_0x1407b7[_0xa46d33(0x2d5)]=0x6]='CloseKeyValueDatabase',_0x1407b7[_0x1407b7[_0xa46d33(0x4d8)]=0x7]='ClosePubSubTopic',_0x1407b7[_0x1407b7['CloseMediaStream']=0x8]=_0xa46d33(0x25e),_0x1407b7[_0x1407b7[_0xa46d33(0x2df)]=0x9]='LocalMediaStreamTrackFail',_0x1407b7[_0x1407b7['RemoteMediaStreamTrackFail']=0xa]=_0xa46d33(0x385),_0x1407b7[_0x1407b7[_0xa46d33(0x14c)]=0xb]=_0xa46d33(0x14c),_0x1407b7[_0x1407b7['SendTransactionsDump']=0xc]=_0xa46d33(0x4bd),_0x1407b7[_0x1407b7[_0xa46d33(0x280)]=0xd]=_0xa46d33(0x280),_0x1407b7[_0x1407b7[_0xa46d33(0x162)]=0xe]=_0xa46d33(0x162),_0x1407b7[_0x1407b7[_0xa46d33(0x3e5)]=0xf]=_0xa46d33(0x3e5),_0x1407b7[_0x1407b7['KeyValueDatabaseStats']=0x10]=_0xa46d33(0x471);}(_0x163779||(_0x163779={})),function(_0x5453c6){const _0x4f278a=_0x4d2937;_0x5453c6[_0x4f278a(0x5a4)]=_0x4f278a(0x2f0),_0x5453c6[_0x4f278a(0x15b)]='folder-create',_0x5453c6[_0x4f278a(0x475)]=_0x4f278a(0x2e8),_0x5453c6[_0x4f278a(0x531)]='move',_0x5453c6['RequestFile']=_0x4f278a(0x566),_0x5453c6[_0x4f278a(0x46d)]=_0x4f278a(0x444),_0x5453c6[_0x4f278a(0x199)]=_0x4f278a(0x4f8),_0x5453c6[_0x4f278a(0x560)]=_0x4f278a(0x2e4);}(_0x3adf6c||(_0x3adf6c={})),function(_0x3be0b5){const _0x222d83=_0x4d2937;_0x3be0b5['Request']=_0x222d83(0x21b),_0x3be0b5[_0x222d83(0x601)]=_0x222d83(0xde);}(_0x1050e1||(_0x1050e1={})),function(_0x5aa7fa){const _0x109bd7=_0x4d2937;_0x5aa7fa['Add']=_0x109bd7(0x519),_0x5aa7fa[_0x109bd7(0x342)]=_0x109bd7(0x5b8),_0x5aa7fa[_0x109bd7(0x475)]=_0x109bd7(0x2e8);}(_0x348bdb||(_0x348bdb={})),function(_0x21219e){const _0x3aecac=_0x4d2937;_0x21219e[_0x3aecac(0x31d)]='get',_0x21219e[_0x3aecac(0x20e)]=_0x3aecac(0x60b),_0x21219e['Count']=_0x3aecac(0x405);}(_0x56eb66||(_0x56eb66={})),function(_0x33adbb){const _0x86da96=_0x4d2937;_0x33adbb[_0x33adbb['PeerConnection']=0x0]=_0x86da96(0x4a8),_0x33adbb[_0x33adbb['Node']=0x1]=_0x86da96(0x61c),_0x33adbb[_0x33adbb[_0x86da96(0x1c6)]=0x2]=_0x86da96(0x1c6),_0x33adbb[_0x33adbb[_0x86da96(0x194)]=0x3]=_0x86da96(0x194),_0x33adbb[_0x33adbb[_0x86da96(0x4b8)]=0x4]='Stats',_0x33adbb[_0x33adbb[_0x86da96(0x47a)]=0x5]='Detection',_0x33adbb[_0x33adbb[_0x86da96(0x338)]=0x6]=_0x86da96(0x338);}(_0x100c15||(_0x100c15={}));class _0x1a6461{[_0x4d2937(0x2bc)];[_0x4d2937(0x41b)];[_0x4d2937(0x2c5)];constructor(_0x571bee,_0x1f3911){this['ownerId']=_0x571bee,this['label']=_0x1f3911;}['getLabel'](){const _0x451083=_0x4d2937;return this[_0x451083(0x41b)];}[_0x4d2937(0x296)](){const _0x5b7274=_0x4d2937;return this[_0x5b7274(0x2bc)];}['destroy'](){}['registerSystemPublisher'](_0x2cb4c7){const _0x2bfdd1=_0x4d2937;this[_0x2bfdd1(0x2c5)]=_0x2cb4c7;}[_0x4d2937(0x1fe)](){delete this['systemTopic'];}}function _0x15f440(_0x4f990a,_0x279ec6){return'/'===_0x4f990a?_0x4f990a+_0x279ec6:_0x4f990a+'/'+_0x279ec6;}function _0x59c246(_0x241fd3){const _0x59edee=_0x4d2937,_0x83ccd0=function(_0x3b3a2d){const _0x25af84=a0_0x72fc;return _0x3b3a2d[_0x25af84(0x105)]('/')['filter'](_0x3105fe=>_0x3105fe[_0x25af84(0x27f)]>0x0);}(_0x241fd3),_0x11bbc2=_0x83ccd0[_0x59edee(0x1c9)]()||'',_0xb26eb9=_0x83ccd0[_0x59edee(0x27b)]('/');return[0x0===_0xb26eb9[_0x59edee(0x27f)]?'/':_0xb26eb9,_0x11bbc2];}async function _0x33a995(_0x12e348){const _0x17dc3f=_0x4d2937,_0x39cc50=await _0x12e348[_0x17dc3f(0x340)](),_0x4d1c63=new Uint8Array(_0x39cc50);let _0x1d92cf=0x0;for(const _0x139d21 of _0x4d1c63)_0x1d92cf+=_0x139d21;return _0x1d92cf[_0x17dc3f(0x5ec)]();}function _0x3aad2c(_0x26846f){return new Promise((_0x2716f2,_0x31dd4b)=>{!function(_0x4824d,_0x13d828,_0x5a55d2){let _0xdbfbcd=0x0;const _0x2f5ec7=[],_0x5aed8b=()=>{const _0x408d0b=a0_0x72fc;let _0x2e4cd4=_0xdbfbcd+0x3f800;_0x2e4cd4>_0x4824d[_0x408d0b(0x1b8)]&&(_0x2e4cd4=_0x4824d[_0x408d0b(0x1b8)]);let _0x2e9d1a=_0x4824d['slice'](_0xdbfbcd,_0x2e4cd4),_0x4af7ca=new FileReader();_0x4af7ca[_0x408d0b(0x33f)]=_0x1b58f6=>{const _0x263e58=_0x408d0b;_0x2f5ec7[_0x263e58(0x415)](_0x4af7ca[_0x263e58(0x412)]),_0xdbfbcd=_0x2e4cd4,_0xdbfbcd<_0x4824d['size']?_0x5aed8b():_0x13d828(_0x2f5ec7);},_0x4af7ca[_0x408d0b(0x13b)]=_0x47539b=>{_0x5a55d2(_0x47539b);},_0x4af7ca[_0x408d0b(0x23b)](_0x2e9d1a);};_0x5aed8b();}(_0x26846f,_0x2716f2,_0x31dd4b);});}function _0x2ca0cf(_0x2206fa,_0x563269,_0x835547){return new File(_0x2206fa,_0x563269,{'type':_0x835547});}class _0x48e12b extends _0x1a6461{[_0x4d2937(0x2b1)];[_0x4d2937(0x1ec)];[_0x4d2937(0x24d)]=new Map();[_0x4d2937(0x10f)]=0x0;[_0x4d2937(0x4ff)]=0x0;[_0x4d2937(0x1ab)]=0x0;[_0x4d2937(0x624)]=0x0;constructor(_0x4542ab,_0x3cb061){super(_0x4542ab,_0x3cb061);}[_0x4d2937(0x631)](){return this['label'];}[_0x4d2937(0x407)](){const _0x27bf3d=_0x4d2937;return this[_0x27bf3d(0x41b)];}[_0x4d2937(0x25c)](){const _0xac292=_0x4d2937;return _0x18f6f1[_0xac292(0x1c3)];}[_0x4d2937(0x5e8)](){return this['label'];}[_0x4d2937(0x153)](_0x2db3b3){const _0x427440=_0x4d2937;if(this['outgoingTopic'])throw new _0xce6ead(_0xce6ead[_0x427440(0x197)][_0x427440(0x435)],{'message':_0x427440(0x2d9)+this[_0x427440(0x2bc)]+_0x427440(0x2fb)+this[_0x427440(0x41b)],'topic':this[_0x427440(0x2b1)]});this[_0x427440(0x2b1)]=_0x2db3b3;}[_0x4d2937(0x56b)](_0x4dfea9){const _0x1d3cb0=_0x4d2937;if(this[_0x1d3cb0(0x1ec)])throw new _0xce6ead(_0xce6ead[_0x1d3cb0(0x197)][_0x1d3cb0(0x260)],{'message':_0x1d3cb0(0x20b)+this[_0x1d3cb0(0x2bc)]+_0x1d3cb0(0x2fb)+this[_0x1d3cb0(0x41b)],'topic':this[_0x1d3cb0(0x1ec)]});this['incomingTopic']=_0x4dfea9;}[_0x4d2937(0x548)](){delete this['outgoingTopic'];}['unregisterSubscriber'](){const _0x1971e1=_0x4d2937;delete this[_0x1971e1(0x1ec)];}async[_0x4d2937(0x4ad)](_0x15e2dd,_0x3c2793){const _0x300450=_0x4d2937;if(this[_0x300450(0x10f)]+=0x1,_0x15e2dd instanceof File){const _0x3d49db=await _0x3aad2c(_0x15e2dd);return this[_0x300450(0x1ab)]+=_0x3d49db[_0x300450(0x35b)]((_0x4a3b3c,_0x5e5133)=>_0x4a3b3c+_0x5e5133[_0x300450(0x55e)],0x0),void _0x3d49db[_0x300450(0x304)]((_0x130ac9,_0x28cd45)=>{const _0x180afa=_0x300450;this[_0x180afa(0x2b1)][_0x180afa(0x104)]({'sourceId':this[_0x180afa(0x2bc)],'destinationIds':_0x3c2793,'propagate':!0x0,'contentType':_0x18f6f1['File'],'content':{'name':_0x15e2dd[_0x180afa(0x1bc)],'type':_0x15e2dd[_0x180afa(0x5a5)],'data':_0x130ac9,'index':_0x28cd45,'total':_0x3d49db['length']}});});}this[_0x300450(0x1ab)]+=JSON['stringify'](_0x15e2dd)[_0x300450(0x27f)],this[_0x300450(0x2b1)][_0x300450(0x104)]({'sourceId':this[_0x300450(0x2bc)],'destinationIds':_0x3c2793,'propagate':!0x0,'contentType':_0x18f6f1[_0x300450(0x1c3)],'content':_0x15e2dd});}['onMessage'](_0xed74f1){const _0x345007=_0x4d2937;return this[_0x345007(0x1ec)][_0x345007(0x61d)](_0x23ee05=>{const _0x15db1d=_0x345007;switch(_0x23ee05['contentType']){case _0x18f6f1[_0x15db1d(0x1c3)]:this[_0x15db1d(0x4ff)]+=0x1,this[_0x15db1d(0x624)]+=JSON[_0x15db1d(0x305)](_0x23ee05[_0x15db1d(0x4eb)])['length'],_0xed74f1(_0x23ee05[_0x15db1d(0x59a)],_0x23ee05['content']);break;case _0x18f6f1['File']:this[_0x15db1d(0x24d)][_0x15db1d(0x314)](_0x23ee05[_0x15db1d(0x4eb)][_0x15db1d(0x1bc)])||this[_0x15db1d(0x24d)]['set'](_0x23ee05[_0x15db1d(0x4eb)][_0x15db1d(0x1bc)],[]);const _0x5a89e5=this[_0x15db1d(0x24d)]['get'](_0x23ee05[_0x15db1d(0x4eb)][_0x15db1d(0x1bc)]);_0x5a89e5[_0x23ee05[_0x15db1d(0x4eb)][_0x15db1d(0x288)]]=_0x23ee05[_0x15db1d(0x4eb)][_0x15db1d(0x1b4)],_0x5a89e5['length']===_0x23ee05[_0x15db1d(0x4eb)][_0x15db1d(0x215)]&&(this[_0x15db1d(0x4ff)]+=0x1,this['bytesReceived']+=_0x5a89e5[_0x15db1d(0x35b)]((_0x26ade8,_0x1b039b)=>_0x26ade8+_0x1b039b[_0x15db1d(0x55e)],0x0),_0xed74f1(_0x23ee05['sourceId'],_0x2ca0cf(_0x5a89e5,_0x23ee05[_0x15db1d(0x4eb)][_0x15db1d(0x1bc)],_0x23ee05[_0x15db1d(0x4eb)][_0x15db1d(0x5a5)])),this['fileChunks'][_0x15db1d(0x2e8)](_0x23ee05[_0x15db1d(0x4eb)][_0x15db1d(0x1bc)]));}});}}function _0x412493(){const _0x170f2a=_0x4d2937;let _0x1206ee=[];return{'subscribe':_0x3995ae=>(_0x1206ee[_0x170f2a(0x415)](_0x3995ae),()=>{const _0x4ef068=_0x170f2a;_0x1206ee=_0x1206ee[_0x4ef068(0x4a5)](_0x524e81=>_0x524e81!==_0x3995ae);}),'publish':_0x501455=>{const _0x3dead3=_0x170f2a;_0x1206ee[_0x3dead3(0x304)](_0x447cb1=>_0x447cb1(_0x501455));}};}function _0x568458(){let _0x51996e;return{'subscribe':_0x7a4b83=>(_0x51996e=_0x7a4b83,()=>{_0x51996e=void 0x0;}),'publish':_0x2eb6e0=>{_0x51996e&&_0x51996e(_0x2eb6e0);}};}class _0x3daed0{[_0x4d2937(0x469)];[_0x4d2937(0x289)];[_0x4d2937(0x391)];[_0x4d2937(0x458)]=_0x568458();['listenerUnsubscriber'];constructor(_0x8385c8,_0x21c7c3,_0x198782){const _0xf26199=_0x4d2937;this[_0xf26199(0x469)]=_0x8385c8,this[_0xf26199(0x289)]=_0x21c7c3,this['tableObserver']=_0x198782;}['destroy'](){const _0x5568c0=_0x4d2937;this[_0x5568c0(0x25f)]?.();}async[_0x4d2937(0x447)](_0x495488){const _0x4acd3d=_0x4d2937,_0x371c7a={'key':_0x495488,'tableName':this[_0x4acd3d(0x289)],'action':_0x56eb66[_0x4acd3d(0x31d)]};return this[_0x4acd3d(0x391)][_0x4acd3d(0x104)](_0x371c7a),this['connector'][_0x4acd3d(0x447)](_0x495488);}async['set'](_0x5a2ac4,_0x5a2035,_0x384766=!0x0){const _0x452f7b=_0x4d2937;this[_0x452f7b(0xd1)](_0x5a2035);const _0x3b6791=await this[_0x452f7b(0x469)][_0x452f7b(0x447)](_0x5a2ac4),_0x6b6bb2=await this[_0x452f7b(0x469)][_0x452f7b(0x470)](_0x5a2ac4,_0x5a2035),_0x406b59=_0x3b6791?_0x348bdb['Update']:_0x348bdb[_0x452f7b(0x34a)];if(this[_0x452f7b(0x104)](_0x406b59,_0x6b6bb2),!_0x384766)return _0x6b6bb2;const _0x289392={'key':_0x5a2ac4,'tableName':this[_0x452f7b(0x289)],'action':_0x406b59,'value':_0x6b6bb2};return this['tableObserver']['publish'](_0x289392),_0x6b6bb2;}async['add'](_0xeda05b){const _0x2ee2b9=_0x4d2937;this[_0x2ee2b9(0xd1)](_0xeda05b);const _0x5a5578=await this[_0x2ee2b9(0x469)][_0x2ee2b9(0x519)](_0xeda05b),_0x483a09={'key':_0x5a5578['id'],'tableName':this['tableName'],'action':_0x348bdb['Add'],'value':_0x5a5578};return this['tableObserver']['publish'](_0x483a09),this[_0x2ee2b9(0x104)](_0x483a09[_0x2ee2b9(0x568)],_0x5a5578),_0x5a5578;}async[_0x4d2937(0x2e8)](_0x6f3bd0,_0x30c00e=!0x0){const _0x4a09f1=_0x4d2937,_0xcb5840=await this[_0x4a09f1(0x469)][_0x4a09f1(0x447)](_0x6f3bd0);if(!_0xcb5840)return;await this[_0x4a09f1(0x469)][_0x4a09f1(0x2e8)](_0x6f3bd0);const _0x5231c6=_0x348bdb[_0x4a09f1(0x475)];if(this[_0x4a09f1(0x104)](_0x5231c6,_0xcb5840),!_0x30c00e)return;const _0x503a80={'key':_0x6f3bd0,'tableName':this['tableName'],'action':_0x5231c6,'value':_0xcb5840};this['tableObserver'][_0x4a09f1(0x104)](_0x503a80);}async[_0x4d2937(0x348)](){const _0x292331=_0x4d2937,_0x318b0d=await this[_0x292331(0x60b)]();for(const _0x1023f3 of _0x318b0d){const _0x93c0cc=_0x348bdb['Delete'];this[_0x292331(0x104)](_0x93c0cc,_0x1023f3);const _0x105dc0={'key':_0x1023f3['id'],'tableName':this['tableName'],'action':_0x93c0cc,'value':_0x1023f3};this[_0x292331(0x391)][_0x292331(0x104)](_0x105dc0);}return this[_0x292331(0x469)]['clear']();}async[_0x4d2937(0x60b)](_0x3a8db4){const _0x1b0c46=_0x4d2937,_0x42591a={'key':'','tableName':this[_0x1b0c46(0x289)],'action':_0x56eb66[_0x1b0c46(0x20e)]};this[_0x1b0c46(0x391)][_0x1b0c46(0x104)](_0x42591a);try{_0x3a8db4&&(_0x3a8db4=_0x3a8db4 instanceof _0x2b9a28?_0x3a8db4[_0x1b0c46(0x4af)]():_0x2b9a28[_0x1b0c46(0x320)](_0x3a8db4)[_0x1b0c46(0x4af)]());}catch(_0x420b01){throw new _0x5374d2(_0x4346db[_0x1b0c46(0x4b2)],_0x1b0c46(0x108));}try{return await this[_0x1b0c46(0x469)][_0x1b0c46(0x60b)](_0x3a8db4);}catch(_0xafde2f){let _0x124f16=_0x1b0c46(0x108);throw _0xafde2f instanceof Error&&(_0x124f16=_0xafde2f['message']),new _0x5374d2(_0x4346db[_0x1b0c46(0x4b2)],_0x124f16);}}async[_0x4d2937(0x405)](_0x2e2864){const _0x3cd766=_0x4d2937,_0x523b81={'key':'','tableName':this[_0x3cd766(0x289)],'action':_0x56eb66[_0x3cd766(0x4b0)]};this[_0x3cd766(0x391)][_0x3cd766(0x104)](_0x523b81);try{_0x2e2864&&(_0x2e2864=_0x2e2864 instanceof _0x2b9a28?_0x2e2864['getQuery']():_0x2b9a28['buildQuery'](_0x2e2864)[_0x3cd766(0x4af)]());}catch(_0x4c3f58){throw new _0x5374d2(_0x4346db['KeyValueDatabaseInvalidQuery'],_0x3cd766(0x108));}try{return await this[_0x3cd766(0x469)]['count'](_0x2e2864);}catch(_0x1f661b){let _0x123efe='Invalid\x20query';throw _0x1f661b instanceof Error&&(_0x123efe=_0x1f661b[_0x3cd766(0x58f)]),new _0x5374d2(_0x4346db[_0x3cd766(0x4b2)],_0x123efe);}}[_0x4d2937(0x42b)](){const _0x35d27=_0x4d2937;return this['connector'][_0x35d27(0x42b)]();}[_0x4d2937(0x61d)](_0x158825){const _0x119de9=_0x4d2937;this[_0x119de9(0x25f)]=this[_0x119de9(0x458)][_0x119de9(0x61d)](_0x158825);}[_0x4d2937(0x136)](){const _0x2103a9=_0x4d2937;this[_0x2103a9(0x25f)]?.();}['publish'](_0x4693f0,_0x3cf73b){const _0x3d1153=_0x4d2937,_0x2ac3eb=this[_0x3d1153(0x1ba)](_0x4693f0,_0x3cf73b);this[_0x3d1153(0x458)][_0x3d1153(0x104)](_0x2ac3eb);}['buildTableEvent'](_0x80cc86,_0x21d8dd){const _0x13a772=_0x4d2937;let _0x50bdb2;switch(_0x80cc86){case _0x348bdb[_0x13a772(0x34a)]:_0x50bdb2=_0x13a772(0x519);break;case _0x348bdb[_0x13a772(0x342)]:_0x50bdb2=_0x13a772(0x5b8);break;case _0x348bdb[_0x13a772(0x475)]:_0x50bdb2='delete';}return{'action':_0x50bdb2,'value':_0x21d8dd};}[_0x4d2937(0xd1)](_0x411417){const _0x251f00=_0x4d2937;if('object'!=typeof _0x411417||null===_0x411417)throw new _0x5374d2(_0x4346db[_0x251f00(0x621)],'Invalid\x20value.\x20Must\x20be\x20an\x20object.');for(const _0x52b279 in _0x411417){const _0xa74f81=_0x411417[_0x52b279];if(_0x251f00(0x221)!=typeof _0xa74f81||_0xa74f81 instanceof Date){if(![_0x251f00(0x2d6),'number',_0x251f00(0x131)][_0x251f00(0x135)](typeof _0xa74f81))throw new _0x5374d2(_0x4346db[_0x251f00(0x621)],_0x251f00(0x45f)+_0x52b279+'\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.');}else this[_0x251f00(0xd1)](_0xa74f81);}}}const _0x539ac8=require('firebase/app'),_0x3b4da4=require('firebase/auth'),_0x2c74ba=require('firebase/database'),_0x166d71=require('firebase/firestore'),_0x1c2722=require('firebase/functions');let _0x1dc1d8=_0x3f3f3d(0x14d)['O'];function _0x4c465e(_0x491d61){const _0x4a684f=_0x4d2937;return!(!_0x491d61||_0x4a684f(0x221)!=typeof _0x491d61||Array[_0x4a684f(0x3e7)](_0x491d61));}_0x1dc1d8=function _0x255d3d(_0x56a503,..._0x72d26e){const _0x1ee652=_0x4d2937;if(!Array[_0x1ee652(0x3e7)](_0x72d26e)||0x0===_0x72d26e[_0x1ee652(0x27f)])return _0x56a503;const _0x53ddba=_0x72d26e[_0x1ee652(0x21d)]();if(_0x4c465e(_0x56a503)&&_0x4c465e(_0x53ddba)){for(const _0x41e5f2 in _0x53ddba)_0x4c465e(_0x53ddba[_0x41e5f2])?(_0x56a503[_0x41e5f2]||Object[_0x1ee652(0x1f1)](_0x56a503,{[_0x41e5f2]:{}}),_0x255d3d(_0x56a503[_0x41e5f2],_0x53ddba[_0x41e5f2])):Object[_0x1ee652(0x1f1)](_0x56a503,{[_0x41e5f2]:_0x53ddba[_0x41e5f2]});}return _0x255d3d(_0x56a503,..._0x72d26e);}(_0x1dc1d8,_0x3f3f3d(0x3e6)['O']);const _0x1f9d33=_0x1dc1d8;class _0x41eaca{static ['instance'];[_0x4d2937(0xd2)];[_0x4d2937(0x12e)];[_0x4d2937(0x654)];[_0x4d2937(0x610)];['firestore'];[_0x4d2937(0x2ec)];constructor(){}static['getInstance'](){const _0x1ffa6f=_0x4d2937;return _0x41eaca['instance']||(_0x41eaca[_0x1ffa6f(0x5ca)]=new _0x41eaca()),_0x41eaca['instance'];}[_0x4d2937(0x611)](){const _0x25c6b4=_0x4d2937;return this[_0x25c6b4(0xd2)]||(this[_0x25c6b4(0xd2)]=(0x0,_0x539ac8['initializeApp'])(_0x1f9d33[_0x25c6b4(0x49c)])),this['app'];}[_0x4d2937(0x313)](){const _0x484e52=_0x4d2937;return this['auth']||(this[_0x484e52(0x12e)]=(0x0,_0x3b4da4[_0x484e52(0x313)])(this[_0x484e52(0x611)]())),this[_0x484e52(0x12e)];}[_0x4d2937(0x187)](){const _0x18286f=_0x4d2937;return this[_0x18286f(0x654)]||(this['functions']=(0x0,_0x1c2722['getFunctions'])(this[_0x18286f(0x611)](),_0x1f9d33[_0x18286f(0x49c)][_0x18286f(0x253)])),this[_0x18286f(0x654)];}[_0x4d2937(0x186)](){const _0x5c2055=_0x4d2937;return this[_0x5c2055(0x610)]||(this[_0x5c2055(0x610)]=(0x0,_0x2c74ba[_0x5c2055(0x186)])(this[_0x5c2055(0x611)]())),this[_0x5c2055(0x610)];}['getFirestore'](){const _0x5c4a5b=_0x4d2937;return this['firestore']||(this[_0x5c4a5b(0x2bf)]=(0x0,_0x166d71[_0x5c4a5b(0x29f)])(this[_0x5c4a5b(0x611)]())),this['firestore'];}async['getEstimatedTimestamp'](){const _0x302c26=_0x4d2937;if(this[_0x302c26(0x2ec)])return Date[_0x302c26(0x28d)]()+this[_0x302c26(0x2ec)];const _0x35d6fd=this[_0x302c26(0x186)](),_0x5ef1b3=(0x0,_0x2c74ba[_0x302c26(0x206)])(_0x35d6fd,'.info/connected'),_0xa93682=(0x0,_0x2c74ba[_0x302c26(0x26b)])(_0x5ef1b3,_0x26c2d7=>{const _0x2868f5=_0x302c26;!0x1===_0x26c2d7[_0x2868f5(0x50d)]()&&(_0xa93682(),delete this[_0x2868f5(0x2ec)]);}),_0x1ad1fd=(0x0,_0x2c74ba[_0x302c26(0x206)])(_0x35d6fd,_0x302c26(0x652));return new Promise(_0x2e2e01=>{const _0x7a3dc2=_0x302c26;(0x0,_0x2c74ba[_0x7a3dc2(0x26b)])(_0x1ad1fd,_0x4ef642=>{const _0x5dee21=_0x7a3dc2;(0x0,_0x2c74ba['off'])(_0x1ad1fd),this[_0x5dee21(0x2ec)]=_0x4ef642[_0x5dee21(0x50d)](),_0x2e2e01(Date[_0x5dee21(0x28d)]()+(this[_0x5dee21(0x2ec)]??0x0));});});}}const _0xbebd52=_0x41eaca[_0x4d2937(0x4a2)]();class _0x415ff6{static ['instance'];[_0x4d2937(0x423)]=[_0x37cafd[_0x4d2937(0x5a2)]];[_0x4d2937(0x573)]=!0x0;['loggingConnectors'];[_0x4d2937(0x581)]='';constructor(){const _0x2aaf9b=_0x4d2937;this[_0x2aaf9b(0x281)](),window[_0x2aaf9b(0x5b2)]=_0x24b106=>{const _0xd73a3b=_0x2aaf9b;if(_0x24b106===_0x37cafd[_0xd73a3b(0x190)])return this['enabledChannels']=Object['keys'](_0x37cafd)[_0xd73a3b(0x54c)](_0x58657b=>_0x37cafd[_0x58657b]),void Object[_0xd73a3b(0x1e2)](_0x37cafd)['forEach'](_0x22a9ba=>{const _0x4cea6c=_0xd73a3b,_0x10c128=_0x22a9ba;localStorage[_0x4cea6c(0x583)](_0x4cea6c(0x5a6)+_0x37cafd[_0x10c128],'true');});this[_0xd73a3b(0x423)]['includes'](_0x24b106)||(this[_0xd73a3b(0x423)][_0xd73a3b(0x415)](_0x24b106),localStorage[_0xd73a3b(0x583)]('crewdle-sdk-logging-'+_0x24b106,'true'));},window['crewdleSDKDisableLogging']=_0x1cdffb=>{const _0x5c3d4=_0x2aaf9b;if(!_0x1cdffb||_0x1cdffb===_0x37cafd[_0x5c3d4(0x190)])return this[_0x5c3d4(0x423)]=[],void Object[_0x5c3d4(0x1e2)](_0x37cafd)[_0x5c3d4(0x304)](_0x5ed96e=>{const _0x12e8dd=_0x5c3d4,_0x253747=_0x5ed96e;localStorage[_0x12e8dd(0x392)]('crewdle-sdk-logging-'+_0x37cafd[_0x253747]);});this['enabledChannels'][_0x5c3d4(0x135)](_0x1cdffb)&&(this[_0x5c3d4(0x423)]=this[_0x5c3d4(0x423)][_0x5c3d4(0x4a5)](_0x16a4a1=>_0x16a4a1!==_0x1cdffb),localStorage['removeItem'](_0x5c3d4(0x5a6)+_0x1cdffb));},window[_0x2aaf9b(0x22e)]=_0x37cafd;}static['getInstance'](){const _0x457657=_0x4d2937;try{return _0x415ff6[_0x457657(0x5ca)]||(_0x415ff6[_0x457657(0x5ca)]=new _0x415ff6()),_0x415ff6[_0x457657(0x5ca)];}catch(_0x9aa260){return console[_0x457657(0x2aa)](_0x457657(0x145),_0x9aa260),{'log':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isClusterEnabled':()=>!0x1};}}[_0x4d2937(0x5fd)](_0x55e442){const _0x4bc026=_0x4d2937;this[_0x4bc026(0x581)]=_0x55e442;}[_0x4d2937(0x3f4)](_0x8638c7){const _0x201a20=_0x4d2937;this[_0x201a20(0x511)]=_0x8638c7;}[_0x4d2937(0x259)](_0x35fee8,..._0x2e800b){const _0x3ebe65=_0x4d2937;this[_0x3ebe65(0x573)]&&this[_0x3ebe65(0x5f2)](_0x37cafd['Default'],'DEBUG\x20-\x20'+_0x35fee8,..._0x2e800b);}['log'](_0x2ba881,_0x34c242,..._0x78af0c){const _0x289a86=_0x4d2937;_0x1f9d33['isProduction']||(this['enabledChannels'][_0x289a86(0x135)](_0x2ba881)&&console[_0x289a86(0x5f2)](_0x289a86(0x179)+_0x2ba881+'\x27\x0a',new Date()+'\x0a',_0x34c242,..._0x78af0c),this[_0x289a86(0x511)]&&this[_0x289a86(0x511)][_0x289a86(0x304)](_0x394f30=>{const _0x916491=_0x289a86;this[_0x916491(0x5ba)](_0x394f30)&&_0x394f30[_0x916491(0x48b)]()[_0x916491(0x135)](_0x2ba881)&&_0x394f30[_0x916491(0x5f2)](_0x34c242,{'vendorId':this[_0x916491(0x581)],'userId':'','data':{'cluster':_0x2ba881,..._0x78af0c}});}));}[_0x4d2937(0x5c5)](_0x41f297,_0x28897e,..._0x1296bf){const _0x4d3e05=_0x4d2937;_0x1f9d33[_0x4d3e05(0x1e3)]||(this[_0x4d3e05(0x423)][_0x4d3e05(0x135)](_0x41f297)&&console[_0x4d3e05(0x5f2)](_0x28897e,..._0x1296bf),this[_0x4d3e05(0x511)]&&this['loggingConnectors'][_0x4d3e05(0x304)](_0x1cc8df=>{const _0x3667f5=_0x4d3e05;this['isInternalLoggingConnector'](_0x1cc8df)&&_0x1cc8df['getEnabledChannels']()[_0x3667f5(0x135)](_0x41f297)&&_0x1cc8df[_0x3667f5(0x5f2)](_0x28897e,{'vendorId':this[_0x3667f5(0x581)],'userId':'','data':{'cluster':_0x41f297,..._0x1296bf}});}));}[_0x4d2937(0x5fc)](_0x17a0bb,_0x3bd2fa){const _0x2fc730=_0x4d2937;if(this[_0x2fc730(0x511)]){const _0x5c7fdc={'vendorId':this[_0x2fc730(0x581)],..._0x3bd2fa};this['loggingConnectors'][_0x2fc730(0x304)](_0x53de00=>{const _0x1697d9=_0x2fc730;_0x53de00[_0x1697d9(0x5f2)](_0x17a0bb,_0x5c7fdc);});}}['logServiceEvent'](_0x214c5f,_0x3c70a6){const _0x1b23df=_0x4d2937;(0x0,_0x166d71['addDoc'])((0x0,_0x166d71['collection'])(_0xbebd52[_0x1b23df(0x29f)](),_0x1b23df(0x45c)+this['vendorId']+_0x1b23df(0x2ff)),{..._0x3c70a6,'service':_0x214c5f,'timestamp':(0x0,_0x166d71[_0x1b23df(0x11d)])()});}[_0x4d2937(0x597)](_0x3c0183,_0x258362,_0x37d877){const _0x32e2bb=_0x4d2937;(0x0,_0x166d71['setDoc'])((0x0,_0x166d71[_0x32e2bb(0x48e)])(_0xbebd52['getFirestore'](),_0x32e2bb(0x45c)+this[_0x32e2bb(0x581)]+'/'+_0x3c0183+'/'+_0x258362),{'storage':_0x37d877,'timestamp':(0x0,_0x166d71[_0x32e2bb(0x11d)])()});}['error'](_0x17bd65,_0x5eb0fd,..._0x49a366){const _0x5954c2=_0x4d2937;if(console['error'](new Date(),_0x17bd65,_0x5eb0fd,..._0x49a366),this['loggingConnectors']){const _0x29ea43={'vendorId':this['vendorId'],..._0x5eb0fd};this[_0x5954c2(0x511)][_0x5954c2(0x304)](_0x2ae773=>{const _0x3ab30d=_0x5954c2;_0x2ae773[_0x3ab30d(0x2aa)](_0x17bd65,_0x29ea43);});}}[_0x4d2937(0x2e7)](_0x5085ee,_0x4f0801,..._0x370180){const _0x574f1c=_0x4d2937;if(console['warn'](new Date(),_0x5085ee,_0x4f0801,_0x370180),this['loggingConnectors']){const _0x160a3f={'vendorId':this[_0x574f1c(0x581)],..._0x4f0801};this[_0x574f1c(0x511)][_0x574f1c(0x304)](_0x2aefcf=>{const _0x5b4fe1=_0x574f1c;_0x2aefcf[_0x5b4fe1(0x5cd)](_0x5085ee,_0x160a3f);});}}[_0x4d2937(0x512)](_0x1f7407){const _0x390c37=_0x4d2937;return this[_0x390c37(0x423)][_0x390c37(0x135)](_0x1f7407);}[_0x4d2937(0x281)](){const _0xe763a9=_0x4d2937;try{Object[_0xe763a9(0x1e2)](_0x37cafd)['forEach'](_0x2e77e8=>{const _0x4b76a2=_0xe763a9,_0x1326e1=_0x2e77e8;localStorage[_0x4b76a2(0x365)](_0x4b76a2(0x5a6)+_0x37cafd[_0x1326e1])&&(console[_0x4b76a2(0x5f2)](_0x4b76a2(0x1be),_0x37cafd[_0x1326e1]),this[_0x4b76a2(0x423)][_0x4b76a2(0x415)](_0x37cafd[_0x1326e1]));});}catch(_0x4dfefb){}}[_0x4d2937(0x5ba)](_0x35ddac){return void 0x0!==_0x35ddac['getEnabledChannels'];}}const _0x4dbf9b=_0x415ff6[_0x4d2937(0x4a2)]();class _0x4bd530 extends _0x48e12b{[_0x4d2937(0x201)];[_0x4d2937(0x20a)];[_0x4d2937(0x581)];['db'];[_0x4d2937(0x384)];[_0x4d2937(0x541)]=new Map();['tableObserver'];[_0x4d2937(0x10e)];[_0x4d2937(0x3d0)];[_0x4d2937(0xba)];[_0x4d2937(0x310)];['transactionsToSync']=[];[_0x4d2937(0x3ff)]=()=>{};[_0x4d2937(0x2e1)];[_0x4d2937(0x458)]=_0x568458();[_0x4d2937(0x25f)];[_0x4d2937(0x1c5)]=[];[_0x4d2937(0x214)];[_0x4d2937(0x2dc)];[_0x4d2937(0x57d)]=0x0;[_0x4d2937(0x52d)]=0x0;constructor(_0x5b4d93,_0x9a62e6,_0x574fa3,_0x24a3ae,_0x3628e8,_0x58c503){const _0x57e80d=_0x4d2937;if('string'!=typeof _0x9a62e6)throw new _0x5374d2(_0x4346db[_0x57e80d(0x526)],_0x57e80d(0x1d6));if(super(_0x5b4d93,_0x9a62e6),this[_0x57e80d(0x201)]=_0x5b4d93,this['clusterId']=_0x574fa3,this['vendorId']=_0x24a3ae,this[_0x57e80d(0x384)]=_0x57e80d(0x635)+this['vendorId']+_0x57e80d(0x635)+this['clusterId']+_0x57e80d(0x635)+this[_0x57e80d(0x41b)],this[_0x57e80d(0x391)]=_0x568458(),this['isSync']=new Promise(_0x5900a1=>{const _0x33982a=_0x57e80d;this[_0x33982a(0x310)]=_0x5900a1;}),_0x3628e8 instanceof _0x3f30ea)this['layout']=_0x3628e8[_0x57e80d(0x54b)]();else{const [_0x2cd46c,_0x3b665a]=_0x3f30ea[_0x57e80d(0x569)](_0x3628e8);if(!_0x2cd46c)throw new _0x5374d2(_0x4346db[_0x57e80d(0x1e8)],_0x57e80d(0x4dd)+_0x3b665a);this[_0x57e80d(0x214)]=_0x3628e8;}this['db']=new _0x58c503(this[_0x57e80d(0x384)],this['layout']);}[_0x4d2937(0x25c)](){const _0x504c82=_0x4d2937;return _0x18f6f1[_0x504c82(0x119)];}[_0x4d2937(0x191)](){const _0x437314=_0x4d2937;this['db'][_0x437314(0x5ff)](),this['tableUnsubscriber']?.(),clearTimeout(this[_0x437314(0x2dc)]),delete this['debounceStats'],super['destroy']();}[_0x4d2937(0x5ff)](){const _0x419f98=_0x4d2937;this[_0x419f98(0x2c5)][_0x419f98(0x104)]({'sourceId':_0x52b8cb,'messageType':_0x100c15[_0x419f98(0x1c6)],'content':{'type':_0x163779['CloseKeyValueDatabase'],'label':this[_0x419f98(0x41b)]}});}[_0x4d2937(0x231)](_0x1c9252){const _0x3f9d61=_0x4d2937,_0x120ee2=this[_0x3f9d61(0x541)]['get'](_0x1c9252);if(_0x120ee2)return _0x120ee2;try{if(!this['db']['hasTable'](_0x1c9252))throw new _0x5374d2(_0x4346db['KeyValueDatabaseTableNotFound'],'Table\x20not\x20found');const _0x1f155a=new _0x3daed0(this['db'][_0x3f9d61(0x486)](_0x1c9252),_0x1c9252,this[_0x3f9d61(0x391)]);return this[_0x3f9d61(0x541)][_0x3f9d61(0x470)](_0x1c9252,_0x1f155a),{'get':_0x1f155a[_0x3f9d61(0x447)][_0x3f9d61(0x4f1)](_0x1f155a),'set':_0x1f155a[_0x3f9d61(0x470)][_0x3f9d61(0x4f1)](_0x1f155a),'add':_0x1f155a[_0x3f9d61(0x519)][_0x3f9d61(0x4f1)](_0x1f155a),'delete':_0x1f155a[_0x3f9d61(0x2e8)][_0x3f9d61(0x4f1)](_0x1f155a),'clear':_0x1f155a[_0x3f9d61(0x348)][_0x3f9d61(0x4f1)](_0x1f155a),'list':_0x1f155a[_0x3f9d61(0x60b)][_0x3f9d61(0x4f1)](_0x1f155a),'count':_0x1f155a[_0x3f9d61(0x405)][_0x3f9d61(0x4f1)](_0x1f155a),'subscribe':_0x1f155a[_0x3f9d61(0x61d)][_0x3f9d61(0x4f1)](_0x1f155a),'unsubscribe':_0x1f155a['unsubscribe']['bind'](_0x1f155a)};}catch(_0x545e6c){throw new _0x5374d2(_0x4346db[_0x3f9d61(0x5d9)],_0x3f9d61(0x40a));}}[_0x4d2937(0x61d)](_0x45c478){const _0x87ae80=_0x4d2937;this[_0x87ae80(0x25f)]=this[_0x87ae80(0x458)][_0x87ae80(0x61d)](_0x45c478);}['unsubscribe'](){this['listenerUnsubscriber']?.();}async['open'](){const _0x20f41f=_0x4d2937,_0xa969e7=[_0x1fc29b],_0x3a4e93=[];await this['db']['open'](_0x2dbf17=>{const _0x115fa7=a0_0x72fc;for(const _0x321f54 in this['layout'][_0x115fa7(0x541)]){if(_0xa969e7[_0x115fa7(0x135)](_0x321f54))throw new _0x5374d2(_0x4346db['KeyValueDatabaseTableNameReserved'],_0x115fa7(0x16c));const _0x195f1f=this[_0x115fa7(0x214)][_0x115fa7(0x541)][_0x321f54];if(_0x2dbf17[_0x115fa7(0x502)](_0x321f54)){_0x195f1f[_0x115fa7(0x32f)]?.[_0x115fa7(0x304)](_0x8d3f1f=>{const _0x345ed8=_0x115fa7;_0x2dbf17['hasIndex'](_0x321f54,_0x8d3f1f[_0x345ed8(0x2fc)])||_0x2dbf17['createIndex'](_0x321f54,_0x8d3f1f[_0x345ed8(0x2fc)]);});for(const _0x118a6a of _0x2dbf17[_0x115fa7(0x618)](_0x321f54))_0x195f1f['indexes']?.[_0x115fa7(0x1d8)](_0x46b3e5=>_0x46b3e5['keyPath']===_0x118a6a)||_0x2dbf17[_0x115fa7(0x169)](_0x321f54,_0x118a6a);}else _0x2dbf17['createTable'](_0x321f54),_0x195f1f['indexes']?.[_0x115fa7(0x304)](_0x4faf4f=>{const _0x14c820=_0x115fa7;_0x2dbf17[_0x14c820(0xfe)](_0x321f54,_0x4faf4f[_0x14c820(0x2fc)]);});}for(const _0x1a3fd4 of _0x2dbf17[_0x115fa7(0x3cd)]())_0xa969e7[_0x115fa7(0x135)](_0x1a3fd4)||this[_0x115fa7(0x214)][_0x115fa7(0x541)][_0x1a3fd4]||(_0x2dbf17[_0x115fa7(0x24a)](_0x1a3fd4),_0x3a4e93[_0x115fa7(0x415)](_0x1a3fd4));}),this['instantiateTransactionTable'](),this[_0x20f41f(0x11e)](),this['setOnTableWriteHandler'](),_0x3a4e93[_0x20f41f(0x304)](_0x4940b5=>this['deleteTransactionsForTable'](_0x4940b5));}async[_0x4d2937(0xc4)](_0x3db431,_0x4b7497){const _0xb78e95=_0x4d2937;_0x3db431?(this['timeoutCallback']=_0x4b7497,this['syncTimeout']=window[_0xb78e95(0x2ee)](_0x4b7497,_0x1e84d3),this[_0xb78e95(0x2c5)]['publish']({'sourceId':this['localId'],'destinationIds':[_0x3db431],'messageType':_0x100c15[_0xb78e95(0x1c6)],'content':{'type':_0x163779[_0xb78e95(0x14c)],'label':this[_0xb78e95(0x41b)]}}),await this[_0xb78e95(0xba)]):setTimeout(()=>{const _0x251908=_0xb78e95;this[_0x251908(0x5ac)](),this[_0x251908(0x140)]();},0x0);}async[_0x4d2937(0x308)](_0xf72c7){const _0x2c2d64=_0x4d2937;if(!this[_0x2c2d64(0x10e)])throw new _0xce6ead(_0xce6ead['codes'][_0x2c2d64(0x2b2)]);await this[_0x2c2d64(0xba)];const _0x1d0f59=await this['transactionTable'][_0x2c2d64(0x60b)]();this[_0x2c2d64(0x2c5)]['publish']({'sourceId':this[_0x2c2d64(0x201)],'destinationIds':[_0xf72c7],'messageType':_0x100c15[_0x2c2d64(0x1c6)],'content':{'type':_0x163779[_0x2c2d64(0x4bd)],'label':this[_0x2c2d64(0x41b)],'transactions':_0x1d0f59}});}async[_0x4d2937(0x5db)](_0x1aa189,_0x2e17aa){const _0x122f40=_0x4d2937;if(!this[_0x122f40(0x10e)])throw new _0xce6ead(_0xce6ead[_0x122f40(0x197)]['KeyValueDatabaseTransactionTableNotInitialized']);this['clearSyncTimeout']();const _0x2a8d49=await this[_0x122f40(0x10e)][_0x122f40(0x60b)]();for(const _0xf466b2 of _0x2a8d49){const _0x42f5b2=_0x2e17aa['find'](_0x27d998=>_0x27d998['id']===_0xf466b2['id']);if(_0x42f5b2&&this[_0x122f40(0x5f3)](_0xf466b2,_0x42f5b2)<=0x0)continue;const [_0x48e6e0,_0x1741a2]=_0xf466b2['id']['split']('::'),_0x14348b=this['tables']['get'](_0x48e6e0),_0x14d7c1=await _0x14348b?.[_0x122f40(0x447)](_0x1741a2);_0xf466b2[_0x122f40(0x5fa)]=_0x14d7c1,this['send'](_0xf466b2);}for(const _0x1801d7 of _0x2e17aa){const _0x41cd33=await this[_0x122f40(0x10e)][_0x122f40(0x447)](_0x1801d7['id']);if(!(_0x41cd33&&this[_0x122f40(0x5f3)](_0x1801d7,_0x41cd33)<=0x0)){if(_0x1801d7[_0x122f40(0x568)]===_0x348bdb[_0x122f40(0x475)]){const [_0x4fc9a6,_0x537d0e]=_0x1801d7['id'][_0x122f40(0x105)]('::'),_0x1ff19e=this[_0x122f40(0x541)][_0x122f40(0x447)](_0x4fc9a6);await _0x1ff19e?.[_0x122f40(0x2e8)](_0x537d0e,!0x1);}else this[_0x122f40(0x1e0)][_0x122f40(0x415)](_0x1801d7['id']);}}if(0x0===this[_0x122f40(0x1e0)]['length'])return this[_0x122f40(0x5ac)](),void this[_0x122f40(0x140)]();this[_0x122f40(0x2e1)]=window['setTimeout'](this['timeoutCallback'],_0x1e84d3),this[_0x122f40(0x2c5)][_0x122f40(0x104)]({'sourceId':this[_0x122f40(0x201)],'destinationIds':[_0x1aa189],'messageType':_0x100c15['Content'],'content':{'type':_0x163779[_0x122f40(0x280)],'label':this[_0x122f40(0x41b)],'transactionIds':this[_0x122f40(0x1e0)]}});}async[_0x4d2937(0x3f3)](_0x49abf0,_0x337d8e){const _0x558e65=_0x4d2937;if(!this[_0x558e65(0x10e)])throw new _0xce6ead(_0xce6ead[_0x558e65(0x197)][_0x558e65(0x2b2)]);for(const _0x20452f of _0x337d8e){const _0x4514db=await this[_0x558e65(0x10e)][_0x558e65(0x447)](_0x20452f);if(!_0x4514db)continue;const [_0x1c251b,_0x49ac01]=_0x20452f[_0x558e65(0x105)]('::'),_0x378bd5=this[_0x558e65(0x541)][_0x558e65(0x447)](_0x1c251b),_0x3d145c=await _0x378bd5?.[_0x558e65(0x447)](_0x49ac01);_0x4514db['value']=_0x3d145c,this[_0x558e65(0x4ad)](_0x4514db,[_0x49abf0]);}}async[_0x4d2937(0x5a8)](_0x57016e){const _0x537308=_0x4d2937;if(!this[_0x537308(0x10e)])throw new _0xce6ead(_0xce6ead[_0x537308(0x197)][_0x537308(0x2b2)]);const _0x5012f5=await this['transactionTable'][_0x537308(0x447)](_0x57016e['id']);if(_0x5012f5&&this['compareTransactions'](_0x57016e,_0x5012f5)<=0x0)return;const _0x33413a={..._0x57016e};return delete _0x33413a[_0x537308(0x5fa)],await this[_0x537308(0x10e)][_0x537308(0x470)](_0x57016e['id'],_0x33413a),_0x57016e;}[_0x4d2937(0x5f3)](_0xb3a4af,_0x388ef2){const _0x31206f=_0x4d2937;return _0xb3a4af[_0x31206f(0x182)]<_0x388ef2[_0x31206f(0x182)]?-0x1:_0xb3a4af[_0x31206f(0x182)]>_0x388ef2[_0x31206f(0x182)]?0x1:_0xb3a4af['priority']-_0x388ef2[_0x31206f(0xec)];}async[_0x4d2937(0x5ef)](_0x220163){const _0x128f19=_0x4d2937;if(!this[_0x128f19(0x10e)])throw new _0xce6ead(_0xce6ead[_0x128f19(0x197)]['KeyValueDatabaseTransactionTableNotInitialized']);const _0x2c8d8f=_0x220163[_0x128f19(0x289)]+'::'+_0x220163['key'],_0x130c42=await _0xbebd52[_0x128f19(0x286)](),_0x5022b1={'id':_0x2c8d8f,'priority':Math['random'](),'timestamp':_0x130c42,'action':_0x220163[_0x128f19(0x568)]};if(await this[_0x128f19(0x5a8)](_0x5022b1))return _0x5022b1;}async[_0x4d2937(0x63f)](_0x3bd11c){const _0x502afe=_0x4d2937;if(!this[_0x502afe(0x10e)])throw new _0xce6ead(_0xce6ead[_0x502afe(0x197)][_0x502afe(0x2b2)]);const _0x433e2f=_0x2b9a28['index']('id')[_0x502afe(0x144)](_0x502afe(0x377),[_0x3bd11c+'::',_0x3bd11c+_0x502afe(0xf1)]),_0x55e082=await this[_0x502afe(0x10e)][_0x502afe(0x60b)](_0x433e2f[_0x502afe(0x4af)]());for(const _0x4719ef of _0x55e082)await this[_0x502afe(0x10e)][_0x502afe(0x2e8)](_0x4719ef['id']);}[_0x4d2937(0x11e)](){this['onMessage'](async(_0x1bd8c3,_0x2c5879)=>{const _0x64cd78=a0_0x72fc;if(_0x2c5879 instanceof File)return;if(!await this[_0x64cd78(0x5a8)](_0x2c5879))return void this[_0x64cd78(0x37e)](_0x2c5879);if(!_0x2c5879['value'])throw new _0xce6ead(_0xce6ead[_0x64cd78(0x197)][_0x64cd78(0x2a5)]);const [_0x191531,_0x3209eb]=_0x2c5879['id'][_0x64cd78(0x105)]('::'),_0x47dbf2=this[_0x64cd78(0x541)][_0x64cd78(0x447)](_0x191531);if(!_0x47dbf2)throw new _0xce6ead(_0xce6ead[_0x64cd78(0x197)][_0x64cd78(0x1b3)],{'table':_0x47dbf2});let _0x3decce=0x0;switch(_0x2c5879['action']){case _0x348bdb[_0x64cd78(0x34a)]:case _0x348bdb[_0x64cd78(0x342)]:{const _0x45dac4=_0x47dbf2[_0x64cd78(0x470)](_0x3209eb,_0x2c5879[_0x64cd78(0x5fa)],!0x1);_0x3decce=JSON['stringify'](_0x2c5879[_0x64cd78(0x5fa)])[_0x64cd78(0x27f)],this[_0x64cd78(0x1e0)][_0x64cd78(0x135)](_0x2c5879['id'])&&this[_0x64cd78(0x1c5)]['push'](_0x45dac4);break;}case _0x348bdb[_0x64cd78(0x475)]:{const _0x8393fc=_0x47dbf2[_0x64cd78(0x2e8)](_0x3209eb,!0x1);this[_0x64cd78(0x1e0)][_0x64cd78(0x135)](_0x2c5879['id'])&&this[_0x64cd78(0x1c5)][_0x64cd78(0x415)](_0x8393fc);break;}}_0x4dbf9b[_0x64cd78(0x4f2)](_0x4f1cb9[_0x64cd78(0x119)],{'type':_0x64cd78(0xc4),'label':this[_0x64cd78(0x41b)],'userId':this[_0x64cd78(0x201)],'tableName':_0x191531,'key':_0x3209eb,'size':_0x3decce}),this[_0x64cd78(0x37e)](_0x2c5879);});}[_0x4d2937(0x332)](){const _0x311552=_0x4d2937;this[_0x311552(0x3d0)]=this['tableObserver'][_0x311552(0x61d)](async _0x2b7ee5=>{const _0x444643=_0x311552;let _0x5bdfce=0x0;switch(_0x2b7ee5[_0x444643(0x568)]){case _0x348bdb['Add']:case _0x348bdb[_0x444643(0x342)]:case _0x348bdb[_0x444643(0x475)]:{const _0x3b4c80=await this[_0x444643(0x5ef)](_0x2b7ee5);if(!_0x3b4c80)return;_0x3b4c80[_0x444643(0x5fa)]=_0x2b7ee5[_0x444643(0x5fa)],this['send'](_0x3b4c80),_0x5bdfce=JSON[_0x444643(0x305)](_0x2b7ee5['value'])[_0x444643(0x27f)],this[_0x444643(0x57d)]+=0x1;break;}case _0x56eb66[_0x444643(0x31d)]:case _0x56eb66[_0x444643(0x20e)]:case _0x56eb66[_0x444643(0x4b0)]:this[_0x444643(0x52d)]+=0x1;}_0x4dbf9b['logServiceEvent'](_0x4f1cb9[_0x444643(0x119)],{'type':_0x2b7ee5[_0x444643(0x568)],'label':this['label'],'userId':this[_0x444643(0x201)],'tableName':_0x2b7ee5[_0x444643(0x289)],'key':_0x2b7ee5[_0x444643(0x645)],'size':_0x5bdfce}),this[_0x444643(0x5a0)]();});}[_0x4d2937(0x114)](){const _0x3762fb=_0x4d2937;this['db']&&(this[_0x3762fb(0x10e)]||(this['db'][_0x3762fb(0x502)](_0x1fc29b)||this['db'][_0x3762fb(0x46e)](_0x1fc29b),this[_0x3762fb(0x10e)]=this['db'][_0x3762fb(0x486)](_0x1fc29b)));}[_0x4d2937(0x5ac)](){const _0x2c2045=_0x4d2937;this[_0x2c2045(0x2e1)]&&(clearTimeout(this[_0x2c2045(0x2e1)]),delete this['syncTimeout']);}['publishSyncCompleted'](){const _0x42e66c=_0x4d2937;this[_0x42e66c(0x458)][_0x42e66c(0x104)]({'event':_0x292156['SyncComplete']}),this[_0x42e66c(0x310)]?.(!0x0),delete this['syncResolve'],this['sendStats']();}async[_0x4d2937(0x614)](){const _0x17d193=_0x4d2937;await Promise[_0x17d193(0x1f3)](this[_0x17d193(0x1c5)]),this[_0x17d193(0x140)]();}[_0x4d2937(0x37e)](_0x4a07ab){const _0x4645d2=_0x4d2937;this[_0x4645d2(0x1e0)]['includes'](_0x4a07ab['id'])&&(this[_0x4645d2(0x5ac)](),this[_0x4645d2(0x1e0)]=this[_0x4645d2(0x1e0)]['filter'](_0x554e67=>_0x554e67!==_0x4a07ab['id']),0x0!==this[_0x4645d2(0x1e0)][_0x4645d2(0x27f)]?this[_0x4645d2(0x2e1)]=window[_0x4645d2(0x2ee)](this[_0x4645d2(0x3ff)],_0x1e84d3):this[_0x4645d2(0x614)]());}['sendStats'](){const _0x429d2d=_0x4d2937;this['debounceStats']&&clearTimeout(this[_0x429d2d(0x2dc)]),this['debounceStats']=window[_0x429d2d(0x2ee)](async()=>{const _0x36dd63=_0x429d2d;delete this[_0x36dd63(0x2dc)];let _0x3842d4=0x0;for(const _0x2d5a53 of this['tables'][_0x36dd63(0xc2)]())_0x3842d4+=await _0x2d5a53['calculateSize']();this[_0x36dd63(0x2c5)][_0x36dd63(0x104)]({'sourceId':_0x52b8cb,'messageType':_0x100c15[_0x36dd63(0x1c6)],'content':{'type':_0x163779[_0x36dd63(0x471)],'label':this[_0x36dd63(0x41b)],'stats':{'timestamp':Date['now'](),'storage':_0x3842d4,'messagesSent':this[_0x36dd63(0x10f)],'messagesReceived':this[_0x36dd63(0x4ff)],'bytesSent':this[_0x36dd63(0x1ab)],'bytesReceived':this[_0x36dd63(0x624)],'writes':this[_0x36dd63(0x57d)],'reads':this[_0x36dd63(0x52d)]}}}),_0x4dbf9b[_0x36dd63(0x597)](_0x4f1cb9[_0x36dd63(0x119)],this[_0x36dd63(0x41b)],_0x3842d4);},0x1388);}}const _0x3bfa09=require('@crewdle/mist-connector-opfs'),_0x3d2679=require('@crewdle/mist-connector-indexed-db'),_0x10b5d5=require('@crewdle/mist-connector-webrtc-browser');class _0x512ac7{[_0x4d2937(0x181)];[_0x4d2937(0x2a3)];['eventTarget'];constructor(_0x2c8ce8=new Map(),_0x54014f=new Map(),_0x38f804=new EventTarget()){const _0xfb2348=_0x4d2937;this[_0xfb2348(0x181)]=_0x2c8ce8,this[_0xfb2348(0x2a3)]=_0x54014f,this[_0xfb2348(0x234)]=_0x38f804;}[_0x4d2937(0x2a2)]=(_0x4b0f96,_0x30052c)=>this[_0x4d2937(0x181)][_0x4d2937(0x314)](_0x4b0f96)?(_0x4dbf9b['log'](_0x37cafd['Events'],_0x4d2937(0x33b),{'event':_0x4b0f96,'data':_0x30052c}),this['eventTarget']['dispatchEvent'](new CustomEvent(_0x4b0f96,{'detail':_0x30052c})),!0x0):(this[_0x4d2937(0x388)](_0x4b0f96,_0x30052c),!0x1);['on']=(_0x9cc596,_0x383808)=>{const _0x404e71=_0x4d2937,_0x1b674b=_0x4478ab=>{const _0x51c7a9=a0_0x72fc;_0x4dbf9b['log'](_0x37cafd[_0x51c7a9(0x4d1)],'Received\x20event\x20on\x20cluster',_0x4478ab[_0x51c7a9(0x5a5)],_0x4478ab[_0x51c7a9(0x156)]),_0x383808(_0x4478ab['detail']);};return this[_0x404e71(0x181)]['set'](_0x9cc596,_0x1b674b),this[_0x404e71(0x234)][_0x404e71(0x39f)](_0x9cc596,_0x1b674b),_0x4dbf9b[_0x404e71(0x5f2)](_0x37cafd[_0x404e71(0x2ac)],_0x404e71(0x4d5),_0x9cc596,_0x383808),this[_0x404e71(0x339)](_0x9cc596),this;};[_0x4d2937(0x5d5)](_0x5a1f61){const _0x21a5b9=_0x4d2937;if(!_0x5a1f61)return this[_0x21a5b9(0x181)][_0x21a5b9(0x304)]((_0x17851d,_0x5eb06d)=>{const _0x4343a1=_0x21a5b9;this[_0x4343a1(0x234)]['removeEventListener'](_0x5eb06d,_0x17851d);}),void this['registeredListeners'][_0x21a5b9(0x348)]();_0x21a5b9(0x2d6)==typeof _0x5a1f61&&this[_0x21a5b9(0x2a8)](_0x5a1f61),Array['isArray'](_0x5a1f61)&&_0x5a1f61[_0x21a5b9(0x304)](_0x2b6b3c=>{const _0xff5d21=_0x21a5b9;this[_0xff5d21(0x2a8)](_0x2b6b3c);});}[_0x4d2937(0x2a8)](_0x48fc0b){const _0x311924=_0x4d2937,_0x2592b8=this['registeredListeners'][_0x311924(0x447)](_0x48fc0b);_0x2592b8&&(this[_0x311924(0x234)][_0x311924(0x54e)](_0x48fc0b,_0x2592b8),this['registeredListeners']['delete'](_0x48fc0b));}['bufferEvent'](_0x328a15,_0x3b880a){const _0x17f6e5=_0x4d2937;_0x4dbf9b['log'](_0x37cafd['Events'],_0x17f6e5(0x4ef),{'event':_0x328a15,'data':_0x3b880a});const _0x58df86=this[_0x17f6e5(0x2a3)][_0x17f6e5(0x447)](_0x328a15)||[];this[_0x17f6e5(0x2a3)][_0x17f6e5(0x470)](_0x328a15,[..._0x58df86,_0x3b880a]);}[_0x4d2937(0x339)](_0x5abe36){const _0x29c9ac=_0x4d2937,_0x47365b=this[_0x29c9ac(0x2a3)][_0x29c9ac(0x447)](_0x5abe36);_0x47365b&&(_0x47365b[_0x29c9ac(0x304)](_0x22d251=>{const _0x5c5bfb=_0x29c9ac;_0x4dbf9b[_0x5c5bfb(0x5f2)](_0x37cafd[_0x5c5bfb(0x4d1)],_0x5c5bfb(0x5d2),{'event':_0x5abe36,'data':_0x22d251}),this['eventTarget']['dispatchEvent'](new CustomEvent(_0x5abe36,{'detail':_0x22d251}));}),this[_0x29c9ac(0x2a3)][_0x29c9ac(0x2e8)](_0x5abe36));}}class _0x2efda1 extends Error{constructor(_0x1b6050){const _0x461436=_0x4d2937;super(_0x461436(0x398)+_0x1b6050);}}var _0x237b83,_0x2a9fc9,_0x298653,_0x144e2f,_0x3c511b,_0x571fa5,_0x46d714,_0x3e1a77;!function(_0x31f03d){const _0x21055e=_0x4d2937;_0x31f03d[_0x31f03d['Core']=0x0]=_0x21055e(0x479),_0x31f03d[_0x31f03d[_0x21055e(0x118)]=0x1]=_0x21055e(0x118);}(_0x237b83||(_0x237b83={})),function(_0x1b5174){const _0x4187b7=_0x4d2937;_0x1b5174[_0x1b5174['Offer']=0x0]=_0x4187b7(0x3f8),_0x1b5174[_0x1b5174['Answer']=0x1]=_0x4187b7(0x17a),_0x1b5174[_0x1b5174[_0x4187b7(0x42a)]=0x2]=_0x4187b7(0x42a),_0x1b5174[_0x1b5174[_0x4187b7(0x5cf)]=0x3]=_0x4187b7(0x5cf),_0x1b5174[_0x1b5174['NeedRestart']=0x4]=_0x4187b7(0x53d),_0x1b5174[_0x1b5174['Restart']=0x5]=_0x4187b7(0x383),_0x1b5174[_0x1b5174[_0x4187b7(0x38f)]=0x6]=_0x4187b7(0x38f),_0x1b5174[_0x1b5174[_0x4187b7(0x4b8)]=0x7]=_0x4187b7(0x4b8),_0x1b5174[_0x1b5174[_0x4187b7(0x5b4)]=0x8]=_0x4187b7(0x5b4);}(_0x2a9fc9||(_0x2a9fc9={})),function(_0x2a6c64){const _0xb97988=_0x4d2937;_0x2a6c64[_0x2a6c64[_0xb97988(0x553)]=0x0]=_0xb97988(0x553),_0x2a6c64[_0x2a6c64[_0xb97988(0x1cd)]=0x1]=_0xb97988(0x1cd);}(_0x298653||(_0x298653={})),function(_0x25b022){const _0x276cbf=_0x4d2937;_0x25b022['MediaStream']=_0x276cbf(0x107);}(_0x144e2f||(_0x144e2f={})),function(_0x5e4d48){const _0x64e4a0=_0x4d2937;_0x5e4d48[_0x5e4d48[_0x64e4a0(0x292)]=0x0]='UserJoin',_0x5e4d48[_0x5e4d48['UserUpdate']=0x1]='UserUpdate',_0x5e4d48[_0x5e4d48['UserConnectionsUpdate']=0x2]=_0x64e4a0(0x408),_0x5e4d48[_0x5e4d48['UserLeave']=0x3]=_0x64e4a0(0x429);}(_0x3c511b||(_0x3c511b={})),function(_0x379673){const _0x298323=_0x4d2937;_0x379673[_0x379673[_0x298323(0x338)]=0x0]='Remediation',_0x379673[_0x379673[_0x298323(0x59f)]=0x1]=_0x298323(0x59f);}(_0x571fa5||(_0x571fa5={})),function(_0x1cf45a){const _0x121104=_0x4d2937;_0x1cf45a[_0x121104(0x352)]='upgrade',_0x1cf45a['Downgrade']=_0x121104(0xbe);}(_0x46d714||(_0x46d714={})),function(_0x53e5a3){const _0x24a3e6=_0x4d2937;_0x53e5a3['Resolution']=_0x24a3e6(0x563),_0x53e5a3['Bitrate']=_0x24a3e6(0x1c8);}(_0x3e1a77||(_0x3e1a77={}));const _0x1ed730=require('aws-amplify'),_0x365e50=require('aws-amplify/utils'),_0x5999c9=require('@aws-amplify/api'),_0x50bc69=require('@aws-amplify/core');class _0x4e877e{[_0x4d2937(0x20a)];[_0x4d2937(0x201)];['remoteId'];constructor(_0x3d0bad,_0x158a23,_0x559a20){const _0x1bc82c=_0x4d2937;this[_0x1bc82c(0x20a)]=_0x3d0bad,this['localId']=_0x158a23,this[_0x1bc82c(0x4ba)]=_0x559a20;}[_0x4d2937(0x3bf)](){const _0x5c678d=_0x4d2937;return this[_0x5c678d(0x201)];}[_0x4d2937(0x2f5)](){return this['remoteId'];}}var _0x5f29f9,_0x5e85b3,_0x2056ac;function _0x250990(_0x5dc380,_0x56f34c){const _0x20cddd=_0x4d2937;return _0x5dc380[_0x20cddd(0x59a)]===_0x56f34c;}function _0x52fdd9(_0x82433c,_0x53de2f){const _0xa4dc8c=_0x4d2937;return _0x82433c[_0xa4dc8c(0x26c)]?.[_0xa4dc8c(0x135)](_0x53de2f)??function(_0x1ebb8c){const _0x15780f=_0xa4dc8c;return void 0x0===_0x1ebb8c[_0x15780f(0x26c)];}(_0x82433c);}function _0x2e4981(_0x30e3ae,{contentType:_0x530ff3,label:_0x58cde6,remoteId:_0x4a8715}){return _0x30e3ae+'-'+_0x530ff3+'-'+_0x58cde6+'-'+_0x4a8715;}function _0x8d2c7b(_0x156a7a,_0x12d2e8,_0x4ff68c){return''+_0x156a7a+_0x12d2e8+_0x4ff68c;}function _0x516aef(_0x59f0a8){const _0x4138d2=_0x4d2937;return _0x59f0a8===_0x5e85b3[_0x4138d2(0x373)]?'IncomingSubscription':_0x4138d2(0x609);}function _0x3b8fd4(_0x43f784,_0x18555b){const _0x2bc69f=_0x4d2937;return{'label':_0x43f784[_0x2bc69f(0x5e8)](),'contentType':_0x43f784['getContentType'](),'remoteId':_0x18555b[_0x2bc69f(0x2f5)](),'supportsContentType':_0x18555b[_0x2bc69f(0x2a6)]()[_0x2bc69f(0x135)](_0x43f784['getContentType']())};}!function(_0x469c65){const _0x572eab=_0x4d2937;_0x469c65[_0x469c65[_0x572eab(0x378)]=0x0]=_0x572eab(0x378),_0x469c65[_0x469c65['Accepted']=0x1]=_0x572eab(0x30d),_0x469c65[_0x469c65[_0x572eab(0x5f4)]=0x2]=_0x572eab(0x5f4);}(_0x5f29f9||(_0x5f29f9={})),function(_0x4a9586){const _0x4a27e7=_0x4d2937;_0x4a9586[_0x4a27e7(0x373)]='in',_0x4a9586[_0x4a27e7(0x433)]=_0x4a27e7(0x551);}(_0x5e85b3||(_0x5e85b3={}));class _0x3b5b80{[_0x4d2937(0x570)];[_0x4d2937(0x3a8)];constructor(_0x40051e,_0x1573aa){const _0x58d86d=_0x4d2937;this[_0x58d86d(0x570)]=_0x40051e,this[_0x58d86d(0x3a8)]=_0x1573aa;}[_0x4d2937(0x557)](_0x58b103){const _0x43c683=_0x4d2937;this[_0x43c683(0x570)](_0x58b103);}async[_0x4d2937(0x13a)](){await this['retryCallback']();}}class _0xd6bf93{[_0x4d2937(0x570)];[_0x4d2937(0x3a8)];constructor(_0x2cf67d,_0xae4438){const _0x390a2d=_0x4d2937;this[_0x390a2d(0x570)]=_0x2cf67d,this[_0x390a2d(0x3a8)]=_0xae4438;}async[_0x4d2937(0x557)](_0x1e7456){const _0x202102=_0x4d2937;await this[_0x202102(0x570)](_0x1e7456);}async[_0x4d2937(0x13a)](){const _0xc01424=_0x4d2937;await this[_0xc01424(0x3a8)]();}}function _0x59267a(_0x10e338=()=>{},_0x151840=()=>!0x1,_0x11e9d4=()=>{}){let _0x556c7f,_0x442fda,_0x1f0c0d=0x0;return{get 'size'(){return _0x1f0c0d;},get 'head'(){return _0x556c7f;},get 'tail'(){return _0x442fda;},set 'head'(_0x133349){_0x556c7f=_0x133349;},set 'tail'(_0x1f6892){_0x442fda=_0x1f6892;},'push'(_0x5295e9,_0x59cccd=!0x0){const _0xa87ffa=a0_0x72fc,_0x1f07c1={'value':_0x5295e9};_0x59cccd&&_0x151840(_0x1f07c1)?_0x10e338():(_0x442fda&&(_0x1f07c1[_0xa87ffa(0x5de)]=_0x442fda,_0x442fda[_0xa87ffa(0x3d6)]=_0x1f07c1),_0x442fda=_0x1f07c1,_0x556c7f||(_0x556c7f=_0x1f07c1),_0x1f0c0d+=0x1,_0x59cccd&&_0x10e338());},'pop'(){const _0x51f543=a0_0x72fc;if(!_0x442fda)return;const _0x311076=_0x442fda['value'];return _0x442fda=_0x442fda['previous'],_0x442fda&&delete _0x442fda[_0x51f543(0x3d6)],_0x442fda||(_0x556c7f=void 0x0),_0x1f0c0d-=0x1,_0x311076;},'unshift'(_0x1c7cc4,_0x490e3a=!0x0){const _0x2cea38={'value':_0x1c7cc4};_0x490e3a&&_0x151840(_0x2cea38)?_0x10e338():(_0x556c7f&&(_0x556c7f['previous']=_0x2cea38,_0x2cea38['next']=_0x556c7f),_0x556c7f=_0x2cea38,_0x442fda||(_0x442fda=_0x2cea38),_0x1f0c0d+=0x1,_0x490e3a&&_0x10e338());},'shift'(){const _0x5436ce=a0_0x72fc;if(!_0x556c7f)return;const _0x580b5e=_0x556c7f['value'];return _0x556c7f=_0x556c7f[_0x5436ce(0x3d6)],_0x556c7f&&delete _0x556c7f[_0x5436ce(0x5de)],_0x556c7f||(_0x442fda=void 0x0),_0x1f0c0d-=0x1,_0x580b5e;},'clear'(){_0x11e9d4(),_0x556c7f=void 0x0,_0x442fda=void 0x0,_0x1f0c0d=0x0;}};}function _0x543cea(_0x31c4c6,_0x50eb72=!0x1,_0x157765=()=>{},_0x5b467b=()=>!0x1,_0x1b9f8f=()=>{}){let _0x5b98fc=!0x1;const _0x2422fc=_0x59267a(async function(){const _0x57597f=a0_0x72fc;if(!_0x5b98fc){for(_0x5b98fc=!0x0;_0x2422fc[_0x57597f(0x643)];){const _0x225658=_0x2422fc[_0x57597f(0x21d)]();if(_0x225658)try{_0x31c4c6 instanceof _0x3b5b80&&_0x31c4c6[_0x57597f(0x557)](_0x225658),_0x31c4c6 instanceof _0xd6bf93&&await _0x31c4c6['call'](_0x225658),_0x157765(_0x225658);}catch(_0x5a64e2){_0x50eb72?_0x2422fc[_0x57597f(0x415)](_0x225658,!0x1):_0x2422fc[_0x57597f(0x3fb)](_0x225658,!0x1),await _0x31c4c6[_0x57597f(0x13a)]();}}_0x5b98fc=!0x1;}},_0x5b467b,_0x1b9f8f);return _0x2422fc;}class _0x2c9836 extends _0x4e877e{[_0x4d2937(0x581)];[_0x4d2937(0x62a)];[_0x4d2937(0x172)]=_0x5999c9[_0x4d2937(0x602)][_0x4d2937(0x48f)];[_0x4d2937(0x1d5)]=_0x568458();[_0x4d2937(0x1a7)]=_0x412493();[_0x4d2937(0x246)];[_0x4d2937(0x217)];[_0x4d2937(0x3f7)]=_0x543cea(new _0xd6bf93(this['sendAction'][_0x4d2937(0x4f1)](this),this[_0x4d2937(0xf9)][_0x4d2937(0x4f1)](this)));[_0x4d2937(0x582)];constructor(_0x5dc4d5,_0x53031e,_0x2804d1,_0x4413b2,_0x2abfec){const _0xcb8b22=_0x4d2937;super(_0x53031e,_0x2804d1,_0x4413b2),this[_0xcb8b22(0x581)]=_0x5dc4d5,this[_0xcb8b22(0x62a)]=_0x2abfec;}async[_0x4d2937(0x411)](){const _0x218164=_0x4d2937;try{const _0x3cd288=await this[_0x218164(0x62a)][_0x218164(0x4f5)](),_0x44de34={'getTokens':async()=>({'accessToken':(0x0,_0x50bc69[_0x218164(0x46b)])(_0x3cd288),'idToken':(0x0,_0x50bc69[_0x218164(0x46b)])(_0x3cd288)})};_0x1ed730[_0x218164(0x328)]['configure']({'API':{'GraphQL':{'endpoint':_0x1f9d33[_0x218164(0x4da)][_0x218164(0x414)],'region':_0x1f9d33[_0x218164(0x4da)]['region'],'defaultAuthMode':_0x218164(0x17c)}}},{'Auth':{'tokenProvider':_0x44de34}}),this[_0x218164(0x582)]=(0x0,_0x5999c9[_0x218164(0x56e)])(),await this['subscribe'](),this[_0x218164(0x217)]=_0x365e50[_0x218164(0x596)][_0x218164(0x309)](_0x218164(0x323),({payload:_0x3d5144})=>{const _0x32cfaf=_0x218164;if(_0x3d5144[_0x32cfaf(0x155)]===_0x5999c9[_0x32cfaf(0x269)]){const _0x66572f=_0x3d5144[_0x32cfaf(0x1b4)];this[_0x32cfaf(0x172)]=_0x66572f[_0x32cfaf(0x172)],this[_0x32cfaf(0x1d5)]['publish'](_0x66572f[_0x32cfaf(0x172)]),this[_0x32cfaf(0x172)]===_0x5999c9[_0x32cfaf(0x602)][_0x32cfaf(0x272)]&&(this[_0x32cfaf(0x246)]?.[_0x32cfaf(0x136)](),delete this[_0x32cfaf(0x246)]),this[_0x32cfaf(0x172)]===_0x5999c9['ConnectionState'][_0x32cfaf(0x48f)]&&(_0x4dbf9b[_0x32cfaf(0x2aa)](_0x32cfaf(0x64b),{'clusterId':this[_0x32cfaf(0x20a)],'userId':this[_0x32cfaf(0x201)]}),this[_0x32cfaf(0x61d)]());}});}catch(_0x40e8c5){_0x4dbf9b[_0x218164(0x2aa)]('appsync-connect-fail',{'clusterId':this[_0x218164(0x20a)],'userId':this[_0x218164(0x201)]});}}['close'](){const _0x59a6b3=_0x4d2937;this['retryQueue'][_0x59a6b3(0x348)](),this[_0x59a6b3(0x217)]?.(),this[_0x59a6b3(0x246)]?.['unsubscribe'](),delete this[_0x59a6b3(0x246)];}[_0x4d2937(0x23e)](){const _0x41df99=_0x4d2937;return this[_0x41df99(0x172)]===_0x5999c9['ConnectionState'][_0x41df99(0xe4)];}[_0x4d2937(0x4ad)](_0x1f05f2){const _0x455cac=_0x4d2937;this[_0x455cac(0x3f7)][_0x455cac(0x415)](_0x1f05f2);}[_0x4d2937(0x12d)](_0x72a1ee){const _0x201881=_0x4d2937;return this[_0x201881(0x1a7)][_0x201881(0x61d)](_0x72a1ee);}[_0x4d2937(0x2a6)](){return[_0x18f6f1['Data']];}async['waitConnected'](){if(!this['isConnected']())return new Promise(_0x2188c6=>{const _0x39a693=a0_0x72fc,_0x561387=this[_0x39a693(0x1d5)][_0x39a693(0x61d)](_0x213014=>{const _0x288347=_0x39a693;_0x213014===_0x5999c9['ConnectionState'][_0x288347(0xe4)]&&(_0x561387(),_0x2188c6());});});}async[_0x4d2937(0x4b6)](_0x3b5f28){const _0x3c7fb4=_0x4d2937;if(this[_0x3c7fb4(0x172)]!==_0x5999c9[_0x3c7fb4(0x602)][_0x3c7fb4(0xe4)])throw new Error(_0x3c7fb4(0x203));_0x3b5f28[_0x3c7fb4(0x26c)]&&0x1===_0x3b5f28['destinationIds'][_0x3c7fb4(0x27f)]?await this[_0x3c7fb4(0x104)](_0x3b5f28[_0x3c7fb4(0x26c)][0x0],JSON[_0x3c7fb4(0x305)](_0x3b5f28)):_0x4dbf9b[_0x3c7fb4(0x2aa)]('appsync-no-destination',{'clusterId':this[_0x3c7fb4(0x20a)],'userId':this[_0x3c7fb4(0x201)]});}async[_0x4d2937(0x104)](_0x171bb7,_0x302c78){const _0xbb01e4=_0x4d2937;if(!this['client'])throw new Error('AppSync\x20client\x20not\x20ready');_0x4dbf9b[_0xbb01e4(0x5f2)](_0x37cafd[_0xbb01e4(0x3db)],_0xbb01e4(0x176),this['localId'],_0x302c78),await this['client']['graphql']({'query':_0xbb01e4(0x4fa),'variables':{'name':await this[_0xbb01e4(0xb6)](_0x171bb7),'data':_0x302c78}});}async['subscribe'](){const _0x3da210=_0x4d2937;if(this[_0x3da210(0x246)])return;if(!this['client'])throw new Error(_0x3da210(0x64a));_0x4dbf9b[_0x3da210(0x5f2)](_0x37cafd[_0x3da210(0x3db)],'AppSync\x20subscribe',this[_0x3da210(0x201)]);const _0x4d1b15=await this[_0x3da210(0x582)][_0x3da210(0x3f9)]({'query':_0x3da210(0x2d7),'variables':{'name':await this[_0x3da210(0xb6)]()},'authToken':await this[_0x3da210(0x62a)][_0x3da210(0x4f5)]()},{'Authorization':await this[_0x3da210(0x62a)][_0x3da210(0x4f5)]()});this[_0x3da210(0x246)]=_0x4d1b15['subscribe']({'next':({data:_0x295aad})=>{const _0x3a2787=_0x3da210,_0x40f44b=JSON[_0x3a2787(0x3d7)](_0x295aad[_0x3a2787(0x61d)][_0x3a2787(0x1b4)]);!_0x250990(_0x40f44b,this[_0x3a2787(0x201)])&&_0x52fdd9(_0x40f44b,this[_0x3a2787(0x201)])&&this[_0x3a2787(0x1a7)][_0x3a2787(0x104)](_0x40f44b);},'error':console['log']});}async['getHash'](_0x899f7b){const _0x50b036=_0x4d2937,_0x340f9e=await crypto[_0x50b036(0x4c4)][_0x50b036(0x2cb)](_0x50b036(0x2a0),new TextEncoder()[_0x50b036(0x2a9)](this[_0x50b036(0x581)]+'-'+this[_0x50b036(0x20a)]+'-'+(_0x899f7b??this[_0x50b036(0x201)])));return Array[_0x50b036(0x474)](new Uint8Array(_0x340f9e))[_0x50b036(0x54c)](_0x371960=>_0x371960[_0x50b036(0x5ec)](0x10)['padStart'](0x2,'0'))[_0x50b036(0x27b)]('');}}!function(_0x2a7c0c){const _0x36a885=_0x4d2937;_0x2a7c0c[_0x2a7c0c[_0x36a885(0x34a)]=0x0]=_0x36a885(0x34a),_0x2a7c0c[_0x2a7c0c[_0x36a885(0x324)]=0x1]='Remove',_0x2a7c0c[_0x2a7c0c[_0x36a885(0x342)]=0x2]='Update',_0x2a7c0c[_0x2a7c0c[_0x36a885(0x20f)]=0x3]=_0x36a885(0x20f),_0x2a7c0c[_0x2a7c0c[_0x36a885(0x223)]=0x4]=_0x36a885(0x223);}(_0x2056ac||(_0x2056ac={}));const _0x44b60e=require('uuid'),_0x312663='0',_0x57e3f1=_0x4d2937(0x3c9),_0x473129=0x3fc00;class _0x1b6736{[_0x4d2937(0x20a)];[_0x4d2937(0x201)];['remoteId'];[_0x4d2937(0x2be)];[_0x4d2937(0x40f)];[_0x4d2937(0x4d4)];[_0x4d2937(0x454)];['dataChannel'];[_0x4d2937(0x4d2)]=0x1;[_0x4d2937(0x2c5)];[_0x4d2937(0x416)]=[];[_0x4d2937(0xe0)]=[];[_0x4d2937(0x509)];constructor(_0x5cd6c4,_0x50ee7f,_0x2a8b93,_0x4983db,_0x29e4b1,_0x499947){const _0x13ca81=_0x4d2937;this['clusterId']=_0x5cd6c4,this[_0x13ca81(0x201)]=_0x50ee7f,this[_0x13ca81(0x4ba)]=_0x2a8b93,this[_0x13ca81(0x2be)]=_0x4983db,this[_0x13ca81(0x40f)]=_0x29e4b1,this[_0x13ca81(0x4d4)]=_0x499947,this[_0x13ca81(0x454)]=new this[(_0x13ca81(0x4d4))]({'handshakeServers':this[_0x13ca81(0x2be)]}),this['setupConnectionEvents']();}[_0x4d2937(0x5ff)](){const _0x472a92=_0x4d2937;this[_0x472a92(0x275)]();}[_0x4d2937(0x455)](_0xca0ab7){const _0x593163=_0x4d2937;this[_0x593163(0x40f)]=_0xca0ab7;}async[_0x4d2937(0x50c)](_0x26917f,_0x131d23){const _0x36e5aa=_0x4d2937;if(_0x131d23===this[_0x36e5aa(0x4d2)])for(const _0x4f5008 of _0x26917f){if(!this[_0x36e5aa(0x454)][_0x36e5aa(0x5f8)])return this['addPendingHandshakeCandidate'](_0x4f5008);await this[_0x36e5aa(0x454)][_0x36e5aa(0x1f2)](_0x4f5008);}}[_0x4d2937(0x23e)](){const _0x176d86=_0x4d2937;return this[_0x176d86(0x2b9)](),'connected'===this[_0x176d86(0x454)][_0x176d86(0x172)]&&[_0x176d86(0x629),_0x176d86(0x1c2)]['includes'](this[_0x176d86(0x454)][_0x176d86(0x36c)])&&_0x176d86(0x4a7)!==this[_0x176d86(0x454)][_0x176d86(0x167)]&&_0x176d86(0x493)===this[_0x176d86(0x15f)]?.['state'];}[_0x4d2937(0xfc)](_0x57af60){const _0xddecfc=_0x4d2937;this[_0xddecfc(0x2c5)]=_0x57af60;}[_0x4d2937(0x1fe)](){delete this['systemTopic'];}[_0x4d2937(0x349)](_0x36515a){const _0x349039=_0x4d2937;this[_0x349039(0x275)](),this['connection']=new this[(_0x349039(0x4d4))]({'handshakeServers':this['iceServers']}),_0x36515a?this[_0x349039(0x4d2)]=_0x36515a:this[_0x349039(0x4d2)]+=0x1,this[_0x349039(0xf0)]();}[_0x4d2937(0x587)](){const _0x10210b=_0x4d2937;this[_0x10210b(0xe0)]['forEach'](_0x52077f=>this[_0x10210b(0x454)][_0x10210b(0x1f2)](_0x52077f)),this[_0x10210b(0xe0)]=[];}[_0x4d2937(0x1b5)](_0x15080e,_0x85f27){const _0x686b9b=_0x4d2937;if(!this['systemTopic'])throw new _0xce6ead(_0xce6ead['codes']['MissingSystemTopic'],{'content':_0x15080e});const _0x14f01a={'sourceId':this[_0x686b9b(0x201)],'destinationIds':[this[_0x686b9b(0x4ba)]],'propagate':this[_0x686b9b(0x40f)]!==_0x237b83[_0x686b9b(0x479)],'retry':this[_0x686b9b(0x40f)]!==_0x237b83[_0x686b9b(0x479)],'messageType':_0x100c15['PeerConnection'],'content':_0x15080e};_0x85f27&&(_0x14f01a[_0x686b9b(0x16f)]=_0x85f27),this[_0x686b9b(0x2c5)][_0x686b9b(0x104)](_0x14f01a);}['setupConnectionEvents'](){const _0xc03b7c=_0x4d2937;this['connection'][_0xc03b7c(0x5fe)]=()=>{const _0x51e36=_0xc03b7c;_0x51e36(0x4d6)===this[_0x51e36(0x454)][_0x51e36(0x5cb)]&&this[_0x51e36(0x416)][_0x51e36(0x27f)]>0x0&&(this[_0x51e36(0x509)]&&clearTimeout(this[_0x51e36(0x509)]),this['handshakeDebounce']=setTimeout(()=>{const _0x4b29e7=_0x51e36;delete this['handshakeDebounce'],this[_0x4b29e7(0x409)](),this['handshakeCandidates']=[];},0x1f4));},this[_0xc03b7c(0x454)][_0xc03b7c(0x24c)]=_0x15cccd=>{const _0x334a99=_0xc03b7c;_0x15cccd['candidate']&&this[_0x334a99(0x416)][_0x334a99(0x415)](_0x15cccd[_0x334a99(0x374)]);};}[_0x4d2937(0x275)](){const _0x466c50=_0x4d2937;clearTimeout(this['handshakeDebounce']),delete this['handshakeDebounce'],this['handshakeCandidates']=[],this[_0x466c50(0x15f)]&&(this[_0x466c50(0x15f)]['onMessage']=null,this[_0x466c50(0x15f)][_0x466c50(0x207)]=null,this[_0x466c50(0x15f)][_0x466c50(0x5ff)](),delete this['dataChannel']),this[_0x466c50(0x454)][_0x466c50(0x5fe)]=null,this[_0x466c50(0x454)][_0x466c50(0x24c)]=null,this[_0x466c50(0x454)][_0x466c50(0x381)]=null,this[_0x466c50(0x454)][_0x466c50(0x641)]=null,this[_0x466c50(0x454)][_0x466c50(0x51f)]=null,this['connection'][_0x466c50(0x3bb)]=null,this[_0x466c50(0x454)]['close']();}[_0x4d2937(0x239)](_0x2a63e3){const _0x430e9a=_0x4d2937;this[_0x430e9a(0xe0)]['push'](_0x2a63e3);}[_0x4d2937(0x2b9)](){const _0xe0b1ef=_0x4d2937;_0x4dbf9b[_0xe0b1ef(0x5f2)](_0x37cafd[_0xe0b1ef(0x602)],_0xe0b1ef(0x4ce),{'localId':this[_0xe0b1ef(0x201)],'remoteId':this['remoteId'],'connectionState':this[_0xe0b1ef(0x454)]['connectionState'],'handshakeState':this['connection']['handshakeState'],'signalingState':this[_0xe0b1ef(0x454)][_0xe0b1ef(0x167)],'dataChannelState':this[_0xe0b1ef(0x15f)]?.[_0xe0b1ef(0x262)]});}}function _0x1ff0b9(_0x42edc3,_0x9bdc98){const _0x26bfc8=_0x4d2937;_0x9bdc98[_0x26bfc8(0x104)]({'sourceId':_0x52b8cb,'messageType':_0x100c15[_0x26bfc8(0x4a8)],'content':_0x42edc3});}class _0x29c95b{static [_0x4d2937(0x5ca)];[_0x4d2937(0x4b5)]=[];constructor(){setInterval(()=>{const _0x4532ce=a0_0x72fc;this[_0x4532ce(0x4b5)]['forEach'](_0x375031=>{const _0x29e8be=_0x4532ce;if(Date[_0x29e8be(0x28d)]()-_0x375031['lastExecuted']>_0x375031[_0x29e8be(0x1f8)]){try{_0x375031[_0x29e8be(0x570)]();}catch(_0x260684){}_0x375031[_0x29e8be(0x36f)]=Date[_0x29e8be(0x28d)]();}});},0x64);}static['getInstance'](){const _0x1c10d2=_0x4d2937;return _0x29c95b['instance']||(_0x29c95b[_0x1c10d2(0x5ca)]=new _0x29c95b()),_0x29c95b[_0x1c10d2(0x5ca)];}['startNoThrottlingHack'](_0x5aafd0){const _0x54cf82=_0x4d2937,_0x6e45c3=this['createConstantSource'](_0x5aafd0),_0x59b11d=_0x5aafd0[_0x54cf82(0x450)]();_0x59b11d&&_0x6e45c3&&(_0x59b11d[_0x54cf82(0xc3)]['value']=0.001,_0x6e45c3['connect'](_0x59b11d),_0x59b11d['connect'](_0x5aafd0[_0x54cf82(0x2f6)]),_0x6e45c3['start']());}[_0x4d2937(0x13a)](_0x33e58c){return new Promise(_0x123fb5=>{setTimeout(_0x123fb5,_0x33e58c);});}['setInterval'](_0x1af6d8,_0x321dc8){const _0x4b9303=_0x4d2937;return this[_0x4b9303(0x4b5)][_0x4b9303(0x415)]({'callback':_0x1af6d8,'interval':_0x321dc8,'lastExecuted':Date[_0x4b9303(0x28d)]()}),()=>{const _0x112535=_0x4b9303;this['parameters']=this[_0x112535(0x4b5)][_0x112535(0x4a5)](_0x361bd4=>_0x361bd4[_0x112535(0x570)]!==_0x1af6d8);};}[_0x4d2937(0x237)](_0xae3622){const _0x36d6ee=_0x4d2937;if(_0xae3622['createConstantSource'])return _0xae3622[_0x36d6ee(0x237)]();const _0x40cf29=_0xae3622['createBufferSource'](),_0x29ea01=_0xae3622['createBuffer'](0x1,0x1,_0xae3622[_0x36d6ee(0x25a)]);return _0x29ea01[_0x36d6ee(0x35a)](0x0)[0x0]=0xa,_0x40cf29[_0x36d6ee(0x189)]=_0x29ea01,_0x40cf29['loop']=!0x0,_0x40cf29;}}const _0x3cfc44=_0x29c95b[_0x4d2937(0x4a2)](),_0x5eaa93=[_0x4d2937(0x4a8),_0x4d2937(0x61c),'Content','Subscription',_0x4d2937(0x4b8),_0x4d2937(0x47a),_0x4d2937(0x338)],_0x1d890b=[[_0x4d2937(0x3f8),'Answer','Handshake',_0x4d2937(0x5cf),_0x4d2937(0x53d),_0x4d2937(0x383),_0x4d2937(0x38f),_0x4d2937(0x4b8),_0x4d2937(0x5b4)],[_0x4d2937(0x292),_0x4d2937(0xd9),'UserConnectionsUpdate','UserLeave'],[_0x4d2937(0x31e),_0x4d2937(0x5e4),_0x4d2937(0x267),'UpdateMediaStream',_0x4d2937(0x2cc),_0x4d2937(0x622),_0x4d2937(0x2d5),_0x4d2937(0x4d8),_0x4d2937(0x25e),_0x4d2937(0x2df),_0x4d2937(0x385),_0x4d2937(0x14c),_0x4d2937(0x4bd),_0x4d2937(0x280),_0x4d2937(0x3e5),'KeyValueDatabaseStats'],[_0x4d2937(0x267),'UpdateMediaStream',_0x4d2937(0x2cc),'NeedMediaStream',_0x4d2937(0x370),_0x4d2937(0x375),'CannotProvideMediaStream',_0x4d2937(0x626)],[_0x4d2937(0x4f7),'LocalReport'],['Problem'],[_0x4d2937(0x338),_0x4d2937(0x59f)]];function _0x4f7adf(_0xcf9c61){const _0x202ed4=_0x4d2937;return{..._0xcf9c61,'systemMessageType':_0x5eaa93[_0xcf9c61[_0x202ed4(0x4a0)]],'systemContentMessageType':_0x1d890b[_0xcf9c61['messageType']][_0xcf9c61[_0x202ed4(0x4eb)]['type']]};}const _0x26b62e={'hour':_0x4d2937(0x552),'minute':_0x4d2937(0x552),'second':_0x4d2937(0x552)};function _0x5ec816(_0x585f88,_0x16d147){const _0x40c296=_0x4d2937,_0x464361=(function(){const _0x4b2a39=a0_0x72fc,_0x2408d7=new Date(),_0x59f1e1=_0x2408d7[_0x4b2a39(0x300)](),_0x1e15f1=_0x2408d7[_0x4b2a39(0x19f)](_0x4b2a39(0x496),_0x26b62e)[_0x4b2a39(0x14b)](/\d\d:\d\d:\d\d/)?.[0x0];return _0x1e15f1+'.'+(_0x59f1e1>0x64?''+_0x59f1e1:_0x59f1e1>0xa?'0'+_0x59f1e1:'00'+_0x59f1e1);}()),{sourceId:_0x53725f,destinationIds:_0x118825,systemMessageType:_0x563e8a,systemContentMessageType:_0x586065}=_0x4f7adf(_0x585f88);return _0x464361+_0x40c296(0x2fb)+_0x16d147+_0x40c296(0x2fb)+(_0x53725f===_0x16d147?_0x40c296(0x44b)+_0x563e8a+_0x40c296(0x31f)+(_0x118825?''+_0x118825:_0x40c296(0x27c)):_0x585f88[_0x40c296(0x59a)]===_0x52b8cb?'Internal\x20event\x20\x27'+_0x563e8a+'\x27':(_0x118825?'':'Everyone\x20')+'Receiving\x20\x27'+_0x563e8a+'\x27\x20from\x20'+_0x53725f)+'\x20with\x20\x27'+_0x586065+_0x40c296(0x4fd);}class _0x4e675d extends _0x1b6736{['messageCallback']=_0x568458();[_0x4d2937(0x613)]=_0x568458();[_0x4d2937(0x273)]=_0x568458();[_0x4d2937(0x46a)]=new Map();[_0x4d2937(0x1ff)]=new Map();['waitSuccess'];[_0x4d2937(0x4ff)]=0x0;['systemMessagesReceived']={'messages':{'total':0x0}};[_0x4d2937(0x624)]=0x0;['timeReceiving']=0x0;[_0x4d2937(0x5ff)](){const _0x1ce164=_0x4d2937;this[_0x1ce164(0x265)](),this[_0x1ce164(0x46a)][_0x1ce164(0x348)](),super['close']();}async[_0x4d2937(0xe3)](_0xf20b5c,_0x262556){const _0x85e861=_0x4d2937;this[_0x85e861(0x4d2)]=_0x262556,this['clearWaitSuccess']();const _0x11fb91=await this[_0x85e861(0x454)]['createAnswer'](_0xf20b5c);this[_0x85e861(0x587)]();const _0x315c23=(0x0,_0x44b60e['v4'])();this[_0x85e861(0x1b5)]({'type':_0x2a9fc9[_0x85e861(0x17a)],'answer':_0x11fb91,'version':_0x262556,'connectionType':this[_0x85e861(0x40f)]},_0x315c23),this[_0x85e861(0x40f)]===_0x237b83['Core']&&(this['waitSuccess']=_0x3cfc44[_0x85e861(0x466)](()=>{const _0x25928b=_0x85e861;this['publishSystemMessage']({'type':_0x2a9fc9[_0x25928b(0x17a)],'answer':_0x11fb91,'version':_0x262556,'connectionType':this[_0x25928b(0x40f)]},_0x315c23);},0x1388));}['handleSuccess'](){this['clearWaitSuccess']();}[_0x4d2937(0x2d4)](_0x2fdd14){const _0x4d3be3=_0x4d2937;this[_0x4d3be3(0x349)](_0x2fdd14),this['publishSystemMessage']({'type':_0x2a9fc9['Restart']});}async['collectStats'](){const _0x3d33f1=_0x4d2937;this[_0x3d33f1(0x2c5)]&&(await this[_0x3d33f1(0x454)][_0x3d33f1(0x638)](this[_0x3d33f1(0x46a)],(_0x7feca7,_0x498317)=>{const _0x26abbd=_0x3d33f1;_0x1ff0b9({'type':_0x2a9fc9[_0x26abbd(0x4b8)],'streamId':_0x498317,'userId':this['remoteId'],'stats':_0x7feca7},this[_0x26abbd(0x2c5)]);}),this[_0x3d33f1(0x2c5)][_0x3d33f1(0x104)]({'sourceId':_0x52b8cb,'messageType':_0x100c15['PeerConnection'],'content':{'type':_0x2a9fc9[_0x3d33f1(0x4b8)],'userId':this['remoteId'],'stats':{'origin':_0x298653[_0x3d33f1(0x1cd)],'timestamp':Date['now'](),'messagesReceived':this[_0x3d33f1(0x4ff)],'bytesReceived':this[_0x3d33f1(0x624)],'timeReceiving':this[_0x3d33f1(0x612)],'systemMessages':this['systemMessagesReceived']}}}));}[_0x4d2937(0x12d)](_0x3ef1e0){const _0x253db0=_0x4d2937;return this[_0x253db0(0x124)][_0x253db0(0x61d)](_0x3ef1e0);}[_0x4d2937(0x51f)](_0x1b3c46){const _0x17f0d5=_0x4d2937;return this['trackCallback'][_0x17f0d5(0x61d)](({track:_0x4471aa,stream:_0x365ca6})=>_0x1b3c46(_0x4471aa,_0x365ca6));}[_0x4d2937(0x212)](_0x299105){return this['removeTrackCallback']['subscribe'](({track:_0x4b00e8,stream:_0x4280ac})=>_0x299105(_0x4b00e8,_0x4280ac));}[_0x4d2937(0x349)](_0x3d116d){const _0x5d2fc2=_0x4d2937;this[_0x5d2fc2(0x265)](),this[_0x5d2fc2(0x46a)][_0x5d2fc2(0x304)](_0x35a504=>{const _0x4cd6d9=_0x5d2fc2;_0x35a504[_0x4cd6d9(0x348)]();}),super[_0x5d2fc2(0x349)](_0x3d116d);}[_0x4d2937(0x409)](){const _0x39226e=_0x4d2937;this[_0x39226e(0x1b5)]({'type':_0x2a9fc9[_0x39226e(0x42a)],'candidates':this[_0x39226e(0x416)],'origin':_0x298653[_0x39226e(0x1cd)],'version':this['currentVersion'],'connectionType':this[_0x39226e(0x40f)]});}[_0x4d2937(0xf0)](){const _0x90d456=_0x4d2937;super[_0x90d456(0xf0)](),this[_0x90d456(0x454)][_0x90d456(0x51f)]=_0x573c00=>{const _0x559837=_0x90d456;_0x4dbf9b[_0x559837(0x5f2)](_0x37cafd[_0x559837(0x4b9)],_0x559837(0x227),this[_0x559837(0x201)],_0x573c00),_0x573c00['streams'][0x0][_0x559837(0x5dd)]=_0x553a58=>{const _0x3f835e=_0x559837;this[_0x3f835e(0x46a)][_0x3f835e(0x447)](_0x573c00[_0x3f835e(0xce)][0x0]['id'])?.[_0x3f835e(0x2e8)](_0x553a58[_0x3f835e(0x16b)]),0x0===this['receivers'][_0x3f835e(0x447)](_0x573c00['streams'][0x0]['id'])?.[_0x3f835e(0x1b8)]&&this[_0x3f835e(0x46a)][_0x3f835e(0x2e8)](_0x573c00[_0x3f835e(0xce)][0x0]['id']),this[_0x3f835e(0x273)][_0x3f835e(0x104)]({'track':_0x553a58[_0x3f835e(0x16b)],'stream':_0x573c00['streams'][0x0]});},this[_0x559837(0x46a)][_0x559837(0x314)](_0x573c00['streams'][0x0]['id'])||this[_0x559837(0x46a)]['set'](_0x573c00['streams'][0x0]['id'],new Set()),this[_0x559837(0x46a)][_0x559837(0x447)](_0x573c00['streams'][0x0]['id'])[_0x559837(0x519)](_0x573c00[_0x559837(0x16b)]),this[_0x559837(0x613)][_0x559837(0x104)]({'track':_0x573c00[_0x559837(0x16b)],'stream':_0x573c00['streams'][0x0]});},this[_0x90d456(0x454)]['onDataChannel']=_0x2eae94=>{const _0x578c27=_0x90d456;this[_0x578c27(0x15f)]=_0x2eae94[_0x578c27(0xfa)],this[_0x578c27(0x15f)]['onMessage']=_0x324060=>{const _0x383729=_0x578c27;if(_0x324060[_0x383729(0x1b4)]!==_0x312663)this['handleOnMessage'](_0x324060['data']);else{if(!this[_0x383729(0x15f)])return void _0x4dbf9b['error'](_0x383729(0x1dd),{'clusterId':this[_0x383729(0x20a)],'userId':this[_0x383729(0x201)],'remoteId':this['remoteId'],'data':{'connection':_0x383729(0x1e7)}});if(_0x383729(0x493)!==this[_0x383729(0x15f)]['state'])return;this['dataChannel'][_0x383729(0x4ad)]('1');}};};}[_0x4d2937(0x1fb)](_0x362f3c){const _0x5c15ec=_0x4d2937;if(_0x5c15ec(0x2d6)==typeof _0x362f3c&&_0x362f3c[_0x5c15ec(0x1f9)](_0x57e3f1))return this[_0x5c15ec(0x4ff)]+=0x1,this['bytesReceived']+=_0x362f3c[_0x5c15ec(0x27f)],this[_0x5c15ec(0x233)](_0x362f3c);setTimeout(()=>{const _0x2d9121=_0x5c15ec,_0x551816=Date['now']();let _0x572172;if((_0x362f3c instanceof ArrayBuffer||_0x362f3c[_0x2d9121(0x27f)]<=_0x473129)&&(this[_0x2d9121(0x4ff)]+=0x1,this[_0x2d9121(0x624)]+=_0x362f3c instanceof ArrayBuffer?_0x362f3c[_0x2d9121(0x55e)]:_0x362f3c[_0x2d9121(0x27f)]),_0x362f3c instanceof ArrayBuffer){const [_0x2457bb,_0x1cb2ea]=this[_0x2d9121(0x5ce)](_0x362f3c);_0x572172=_0x2457bb,_0x572172[_0x2d9121(0x4eb)][_0x2d9121(0x1b4)]=_0x1cb2ea;}else _0x572172=JSON['parse'](_0x362f3c);if(0x0===_0x572172[_0x2d9121(0x3de)]){this[_0x2d9121(0x58b)][_0x2d9121(0x5c3)][_0x2d9121(0x215)]+=0x1;const {systemMessageType:_0x5ab522,systemContentMessageType:_0xdcd3c1}=_0x4f7adf(_0x572172);this[_0x2d9121(0x58b)][_0x5ab522]||(this[_0x2d9121(0x58b)][_0x5ab522]={[_0xdcd3c1]:0x0}),this[_0x2d9121(0x58b)][_0x5ab522][_0xdcd3c1]||(this[_0x2d9121(0x58b)][_0x5ab522][_0xdcd3c1]=0x0),this['systemMessagesReceived'][_0x5ab522][_0x2d9121(0x215)]||(this['systemMessagesReceived'][_0x5ab522][_0x2d9121(0x215)]=0x0),this['systemMessagesReceived'][_0x5ab522][_0xdcd3c1]+=0x1,this[_0x2d9121(0x58b)][_0x5ab522][_0x2d9121(0x215)]+=0x1;}this[_0x2d9121(0x124)][_0x2d9121(0x104)](_0x572172),this[_0x2d9121(0x612)]+=Date['now']()-_0x551816;},0x0);}[_0x4d2937(0x233)](_0x5f17ac){const _0x1ac39b=_0x4d2937,_0x3c9e10=_0x5f17ac[_0x1ac39b(0x105)](';'),_0x3e19f9=_0x3c9e10[0x1],_0x129001=parseInt(_0x3c9e10[0x2],0xa),_0x4f32bc=parseInt(_0x3c9e10[0x3],0xa),_0x9a7cdb=_0x5f17ac[_0x1ac39b(0x12a)](_0x57e3f1+';'+_0x3e19f9+';'+_0x129001+';'+_0x4f32bc+';','');this[_0x1ac39b(0x1ff)][_0x1ac39b(0x314)](_0x3e19f9)||this[_0x1ac39b(0x1ff)][_0x1ac39b(0x470)](_0x3e19f9,[]);const _0xc8eb3c=this['chunks']['get'](_0x3e19f9);_0xc8eb3c[_0x129001]=_0x9a7cdb,_0xc8eb3c[_0x1ac39b(0x27f)]===_0x4f32bc&&(this['handleOnMessage'](_0xc8eb3c[_0x1ac39b(0x27b)]('')),this['chunks'][_0x1ac39b(0x2e8)](_0x3e19f9));}['clearWaitSuccess'](){const _0xe2ecd5=_0x4d2937;this[_0xe2ecd5(0x134)]?.(),delete this['waitSuccess'];}[_0x4d2937(0x497)](_0x54ab94){const _0x225543=_0x4d2937,_0x44eeac=new TextDecoder()[_0x225543(0x33a)](_0x54ab94);return JSON[_0x225543(0x3d7)](_0x44eeac);}['splitParts'](_0x51bf77){const _0x5a8143=_0x4d2937,_0x2ba80c=new Uint8Array(_0x51bf77[_0x5a8143(0x358)](0x0,0x4)),_0x332f3d=new Uint32Array(_0x2ba80c[_0x5a8143(0x189)])[0x0],_0x2783eb=new Uint8Array(_0x51bf77[_0x5a8143(0x358)](0x4,0x4+_0x332f3d)),_0xf38734=new Uint8Array(_0x51bf77['slice'](0x4+_0x332f3d));return[this['arrayBufferToObject'](_0x2783eb[_0x5a8143(0x189)]),_0xf38734['buffer']];}}const _0x4109f3=0xc350;var _0x45ba73,_0x2d9739,_0x316030,_0x5d7110,_0xd26ef2;!function(_0x4d635b){const _0x36b41f=_0x4d2937;_0x4d635b[_0x4d635b[_0x36b41f(0x1ad)]=0x0]=_0x36b41f(0x1ad),_0x4d635b[_0x4d635b['Medium']=0x1]='Medium',_0x4d635b[_0x4d635b['Low']=0x2]=_0x36b41f(0x395);}(_0x45ba73||(_0x45ba73={}));class _0x1af633 extends _0x1b6736{['maxFps'];[_0x4d2937(0x4c6)];['senders']=new Map();[_0x4d2937(0x2e6)];[_0x4d2937(0x106)];[_0x4d2937(0x1a4)];['isReconnecting']=!0x1;[_0x4d2937(0x3c4)];[_0x4d2937(0x60a)];[_0x4d2937(0x5ea)];[_0x4d2937(0x3f7)]=function(e,t=_0x45ba73,s=!0x1){const _0x5b3064=_0x4d2937;let i=!0x1;const n=[];async function a(){const _0x112160=a0_0x72fc;if(!i){for(i=!0x0;n[_0x112160(0x31c)](e=>e['head']);){let t,i=0x0;for(const [e,s]of n[_0x112160(0x287)]())if(t=s[_0x112160(0x21d)](),i=e,t)break;if(t)try{if(e instanceof _0x3b5b80&&e[_0x112160(0x557)](t),e instanceof _0xd6bf93&&await e[_0x112160(0x557)](t),n[_0x112160(0x358)](-0x1)[_0x112160(0x31c)](e=>e[_0x112160(0x643)]))continue;const s=n[_0x112160(0x27f)]-0x1;i===s&&n[s]['head']&&await _0x3cfc44['wait'](0x0);}catch(a){s?n[i][_0x112160(0x415)](t,!0x1):n[i]['unshift'](t,!0x1),await e[_0x112160(0x13a)]();}}i=!0x1;}}return Object[_0x5b3064(0xc2)](t)[_0x5b3064(0x304)](e=>{const _0x33ac3a=_0x5b3064;_0x33ac3a(0x2d6)!=typeof e&&(n[e]=_0x59267a(a));}),{'queues':n};}(new _0x3b5b80(this[_0x4d2937(0x4b6)][_0x4d2937(0x4f1)](this),this[_0x4d2937(0x38e)][_0x4d2937(0x4f1)](this)));[_0x4d2937(0x10f)]=0x0;['bytesSent']=0x0;[_0x4d2937(0x5e2)]=0x0;['roundTripTime']=0x0;[_0x4d2937(0x2bd)];constructor(_0x270602,_0x2f99aa,_0x207168,_0x8776f9,_0x3b9605,_0x3a1b20,_0x2e412c,_0x317260){const _0x5d186b=_0x4d2937;super(_0x270602,_0x2f99aa,_0x207168,_0x8776f9,_0x3b9605,_0x317260),this[_0x5d186b(0x543)]=_0x3a1b20,this[_0x5d186b(0x4c6)]=_0x2e412c;}[_0x4d2937(0x5ff)](){const _0x3ebac6=_0x4d2937;this[_0x3ebac6(0x4bc)](),this[_0x3ebac6(0x653)](),delete this[_0x3ebac6(0x1a4)],this[_0x3ebac6(0x57f)](),this[_0x3ebac6(0x39b)](),this[_0x3ebac6(0x128)](),this['senders']['clear'](),this[_0x3ebac6(0x19c)]=!0x1,this[_0x3ebac6(0x3f7)][_0x3ebac6(0x2f4)][_0x3ebac6(0x304)](_0x586207=>_0x586207[_0x3ebac6(0x348)]()),this['clearOncloseTimeout'](),super[_0x3ebac6(0x5ff)]();}[_0x4d2937(0x23e)](){const _0x2f31c6=_0x4d2937;return!!this[_0x2f31c6(0x1a4)]&&super[_0x2f31c6(0x23e)]()&&Date[_0x2f31c6(0x28d)]()-this[_0x2f31c6(0x1a4)]<0x3a98;}async[_0x4d2937(0x503)](){const _0x3a4fd4=_0x4d2937;this[_0x3a4fd4(0x2c5)]&&(await this[_0x3a4fd4(0x454)][_0x3a4fd4(0x52f)](this['senders'],(_0x187464,_0x27e109)=>{const _0x22fb89=_0x3a4fd4;_0x1ff0b9({'type':_0x2a9fc9[_0x22fb89(0x4b8)],'streamId':_0x27e109,'userId':this[_0x22fb89(0x4ba)],'stats':_0x187464},this[_0x22fb89(0x2c5)]);}),this['systemTopic']['publish']({'sourceId':_0x52b8cb,'messageType':_0x100c15['PeerConnection'],'content':{'type':_0x2a9fc9[_0x3a4fd4(0x4b8)],'userId':this['remoteId'],'stats':{'origin':_0x298653[_0x3a4fd4(0x553)],'timestamp':Date[_0x3a4fd4(0x28d)](),'messagesSent':this[_0x3a4fd4(0x10f)],'bytesSent':this[_0x3a4fd4(0x1ab)],'timeSending':this[_0x3a4fd4(0x5e2)],'roundTripTime':this[_0x3a4fd4(0x243)]}}}));}async[_0x4d2937(0x465)](_0x494696){const _0x46129b=_0x4d2937;_0x4dbf9b['log'](_0x37cafd[_0x46129b(0x4b9)],_0x46129b(0x30f),this['localId'],this['remoteId']),this[_0x46129b(0x57f)](),this['clearConnectionTimeout'](),this[_0x46129b(0x128)](),this[_0x46129b(0x3c4)]=setTimeout(()=>{const _0x504f5f=_0x46129b;this[_0x504f5f(0x2a1)]();},0x7530),this[_0x46129b(0x15f)]||(this[_0x46129b(0x15f)]=this[_0x46129b(0x454)][_0x46129b(0x161)](_0x46129b(0x1b4)),this[_0x46129b(0x15f)][_0x46129b(0x4a4)]=0x10000,this['dataChannel'][_0x46129b(0x207)]=()=>{this['oncloseTimeout']=setTimeout(()=>{const _0x450c94=a0_0x72fc;delete this['oncloseTimeout'],['connecting',_0x450c94(0x493)][_0x450c94(0x135)](this[_0x450c94(0x15f)]?.[_0x450c94(0x262)]??'')||this[_0x450c94(0x2a1)]();},0xfa);});const _0x145c20=await this['connection'][_0x46129b(0x465)](_0x494696);this[_0x46129b(0x1a4)]||(this['lastHeartbeat']=Date[_0x46129b(0x28d)]());const _0x2e6e81=(0x0,_0x44b60e['v4'])();this[_0x46129b(0x1b5)]({'type':_0x2a9fc9['Offer'],'offer':_0x145c20,'version':this[_0x46129b(0x4d2)],'connectionType':this[_0x46129b(0x40f)]},_0x2e6e81),this[_0x46129b(0x40f)]===_0x237b83[_0x46129b(0x479)]&&(this[_0x46129b(0x106)]=_0x3cfc44['setInterval'](()=>{const _0x2c5589=_0x46129b;this[_0x2c5589(0x1b5)]({'type':_0x2a9fc9[_0x2c5589(0x3f8)],'offer':_0x145c20,'version':this[_0x2c5589(0x4d2)],'connectionType':this[_0x2c5589(0x40f)]},_0x2e6e81);},0x1388));}async[_0x4d2937(0x5d3)](_0x31a1ae,_0x5bd747){const _0x180669=_0x4d2937;if(_0x5bd747===this['currentVersion']){this[_0x180669(0x128)]();try{await this['connection'][_0x180669(0x5d3)](_0x31a1ae,this[_0x180669(0x465)][_0x180669(0x4f1)](this)),this[_0x180669(0x587)](),this[_0x180669(0x39b)](),this[_0x180669(0x478)]();}catch(_0x1b86fa){this['handleDisconnect']();}}}[_0x4d2937(0x4ad)](_0x2201c0){const _0x243c45=_0x4d2937;if(!this[_0x243c45(0x15f)])throw new _0xce6ead(_0xce6ead['codes'][_0x243c45(0x488)],{'message':_0x243c45(0x142),'localId':this[_0x243c45(0x201)],'remoteId':this[_0x243c45(0x4ba)],'eventMessage':_0x2201c0});if(_0x243c45(0x493)!==this[_0x243c45(0x15f)][_0x243c45(0x262)])throw new _0xce6ead(_0xce6ead[_0x243c45(0x197)]['InvalidDataChannel'],{'message':_0x243c45(0x52e),'localId':this[_0x243c45(0x201)],'remoteId':this[_0x243c45(0x4ba)],'eventMessage':_0x2201c0});let _0x43a712;if(_0x2201c0[_0x243c45(0x4eb)][_0x243c45(0x1b4)]instanceof ArrayBuffer){const _0x398d9d=_0x2201c0[_0x243c45(0x4eb)]['data'];delete _0x2201c0[_0x243c45(0x4eb)][_0x243c45(0x1b4)],_0x43a712=this[_0x243c45(0xb9)](_0x2201c0,_0x398d9d);}else _0x43a712=JSON[_0x243c45(0x305)](_0x2201c0);if(_0x243c45(0x2d6)==typeof _0x43a712&&_0x43a712[_0x243c45(0x27f)]>_0x473129)return this['sendChunked'](_0x2201c0,_0x43a712);const _0x3fa7c0=0x0===_0x2201c0[_0x243c45(0x3de)]&&[_0x100c15['Subscription'],_0x100c15[_0x243c45(0x4a8)]]['includes'](_0x2201c0['messageType'])?_0x45ba73[_0x243c45(0x1ad)]:_0x2201c0 instanceof ArrayBuffer?_0x45ba73[_0x243c45(0x395)]:_0x45ba73[_0x243c45(0x193)];this['sendWithRetry'](_0x43a712,_0x3fa7c0);}[_0x4d2937(0x1e1)](_0x169356,_0x162363,_0x198804,_0x3a7471){const _0x36a8ab=_0x4d2937,_0x4c1775=(_0x40b076=this['maxFps'],_0x4dd102=this['maxBpp'],Math[_0x36a8ab(0x5d1)](0xe1000*_0x40b076*_0x4dd102));var _0x40b076,_0x4dd102;const _0x5db275=this[_0x36a8ab(0x387)][_0x36a8ab(0x447)](_0x162363['id'])||{'stream':_0x162363,'priority':_0x198804,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x4c1775,'maxBitrate':_0x4c1775,'framerate':this[_0x36a8ab(0x543)],'maxFramerate':this[_0x36a8ab(0x543)],'tracks':{},'params':_0x3a7471},_0x538f1f=_0x5db275[_0x36a8ab(0x57a)][_0x169356[_0x36a8ab(0x3ef)]]||{'track':_0x169356};if(_0x538f1f[_0x36a8ab(0x64f)]?(_0x538f1f[_0x36a8ab(0x16b)]=_0x169356,this[_0x36a8ab(0x454)][_0x36a8ab(0x32b)](_0x169356,_0x538f1f[_0x36a8ab(0x64f)])):_0x538f1f['sender']=this[_0x36a8ab(0x454)][_0x36a8ab(0x1e1)](_0x169356,_0x162363),_0x5db275[_0x36a8ab(0x57a)][_0x169356['kind']]=_0x538f1f,_0x3a7471&&(_0x5db275[_0x36a8ab(0xf3)]=_0x3a7471),_0x3a7471&&'video'===_0x3a7471[_0x36a8ab(0x3ef)]&&_0x3a7471[_0x36a8ab(0x563)]&&_0x3a7471[_0x36a8ab(0x445)]&&(_0x5db275['resolutionScale']=this['getResolutionScale'](_0x3a7471[_0x36a8ab(0x563)],_0x3a7471['maxResolution']),_0x5db275[_0x36a8ab(0x23a)]=_0x5db275[_0x36a8ab(0x525)],_0x5db275[_0x36a8ab(0x57a)][_0x36a8ab(0x47b)]&&_0x5db275[_0x36a8ab(0x57a)][_0x36a8ab(0x47b)]['sender'])){const _0x44851a=_0x5db275[_0x36a8ab(0x57a)][_0x36a8ab(0x47b)][_0x36a8ab(0x64f)];this[_0x36a8ab(0x454)][_0x36a8ab(0xe9)](_0x44851a,Math[_0x36a8ab(0x5d1)](0xa*_0x5db275['resolutionScale'])/0xa,_0x5db275[_0x36a8ab(0x1e5)],_0x5db275['bitrate'],_0x5db275[_0x36a8ab(0xec)]);}this[_0x36a8ab(0x387)][_0x36a8ab(0x470)](_0x162363['id'],_0x5db275);}[_0x4d2937(0x13d)](_0x4d3908,_0x8c01f4){const _0x431903=_0x4d2937,_0xf11f31=this[_0x431903(0x387)][_0x431903(0x447)](_0x4d3908['id']);if(_0xf11f31&&_0xf11f31[_0x431903(0xec)]!==_0x8c01f4&&(_0xf11f31[_0x431903(0xec)]=_0x8c01f4,_0xf11f31[_0x431903(0x57a)][_0x431903(0x47b)]&&_0xf11f31[_0x431903(0x57a)][_0x431903(0x47b)][_0x431903(0x64f)])){const _0x6a8323=_0xf11f31['tracks']['video'][_0x431903(0x64f)];this[_0x431903(0x454)][_0x431903(0xe9)](_0x6a8323,Math[_0x431903(0x5d1)](0xa*_0xf11f31[_0x431903(0x525)])/0xa,_0xf11f31['framerate'],_0xf11f31[_0x431903(0x1c8)],_0xf11f31['priority']);}}[_0x4d2937(0x4d9)](_0x2475cc,_0x333813){const _0x4705cb=_0x4d2937,_0x1b594c=this[_0x4705cb(0x387)][_0x4705cb(0x447)](_0x2475cc['id']);if(_0x1b594c){if(_0x1b594c[_0x4705cb(0xf3)]=_0x333813,_0x333813&&_0x4705cb(0x47b)===_0x333813['kind']&&_0x333813[_0x4705cb(0x563)]&&_0x333813[_0x4705cb(0x445)]){if(_0x1b594c[_0x4705cb(0x23a)]=this[_0x4705cb(0x5b9)](_0x333813[_0x4705cb(0x563)],_0x333813['maxResolution']),_0x1b594c[_0x4705cb(0x525)]<_0x1b594c[_0x4705cb(0x23a)]&&(_0x1b594c[_0x4705cb(0x525)]=_0x1b594c[_0x4705cb(0x23a)]),_0x1b594c['tracks'][_0x4705cb(0x47b)]&&_0x1b594c['tracks']['video'][_0x4705cb(0x64f)]){const _0x33061a=_0x1b594c['tracks'][_0x4705cb(0x47b)][_0x4705cb(0x64f)];this[_0x4705cb(0x454)][_0x4705cb(0xe9)](_0x33061a,Math[_0x4705cb(0x5d1)](0xa*_0x1b594c[_0x4705cb(0x525)])/0xa,_0x1b594c['framerate'],_0x1b594c[_0x4705cb(0x1c8)],_0x1b594c['priority']);}this[_0x4705cb(0x4bc)](),this[_0x4705cb(0x453)]();}this['senders'][_0x4705cb(0x470)](_0x2475cc['id'],_0x1b594c);}}[_0x4d2937(0x633)](_0x417415,_0x3974b3){const _0x3f51c8=_0x4d2937,_0xe50b71=this[_0x3f51c8(0x387)][_0x3f51c8(0x447)](_0x3974b3['id']);if(_0xe50b71){const _0x4463ed=_0xe50b71['tracks'][_0x417415[_0x3f51c8(0x3ef)]];_0x4463ed&&(_0x4463ed[_0x3f51c8(0x64f)]&&this[_0x3f51c8(0x454)][_0x3f51c8(0x633)](_0x4463ed[_0x3f51c8(0x64f)]),_0x4463ed[_0x3f51c8(0x16b)]=void 0x0);}}[_0x4d2937(0x3cc)](_0x2e4bc5){const _0x3f3dc6=_0x4d2937;this[_0x3f3dc6(0x4bc)]();const _0x51f6db=function(_0x241944,_0x28caa7){const _0x5f0e65=_0x3f3dc6;return _0x241944['sort']((_0x3d122d,_0xa762ee)=>_0x28caa7[_0x5f0e65(0x568)]===_0x46d714['Downgrade']?_0xa762ee[_0x5f0e65(0xec)]-_0x3d122d[_0x5f0e65(0xec)]:_0x3d122d[_0x5f0e65(0xec)]-_0xa762ee[_0x5f0e65(0xec)])[_0x5f0e65(0x1d8)](_0x36be79=>function(_0x8924c9,_0x2c9582){const _0x1f0f80=_0x5f0e65;if(_0x2c9582['action']===_0x46d714[_0x1f0f80(0x2c7)]){if(_0x2c9582['component']===_0x3e1a77[_0x1f0f80(0x37a)])return _0x8924c9[_0x1f0f80(0x525)]<0x4||_0x8924c9[_0x1f0f80(0x170)]>0xf;if(_0x2c9582[_0x1f0f80(0x47e)]===_0x3e1a77[_0x1f0f80(0x53e)])return _0x8924c9[_0x1f0f80(0x238)]>_0x4109f3;}return _0x8924c9[_0x1f0f80(0x525)]>_0x8924c9[_0x1f0f80(0x23a)]||_0x8924c9[_0x1f0f80(0x1e5)]<_0x8924c9['maxFramerate']||_0x8924c9[_0x1f0f80(0x1c8)]<_0x8924c9[_0x1f0f80(0x238)];}(_0x36be79,_0x28caa7));}(Array[_0x3f3dc6(0x474)](this[_0x3f3dc6(0x387)]['values']()),_0x2e4bc5);if(_0x51f6db&&(function(_0xa78417,_0x1cd5ab){const _0x186e98=_0x3f3dc6;_0xa78417[_0x186e98(0x57a)]['video']&&_0xa78417[_0x186e98(0x57a)]['video']['sender']&&(_0xa78417[_0x186e98(0x525)]=function(_0x10cc51,_0x216bd9,_0x3aa4f4){const _0x54be5c=_0x186e98;switch(_0x3aa4f4[_0x54be5c(0x568)]){case _0x46d714[_0x54be5c(0x2c7)]:_0x3aa4f4[_0x54be5c(0x47e)]===_0x3e1a77[_0x54be5c(0x37a)]&&(_0x10cc51+=0.5)>0x4&&(_0x10cc51=0x4);break;case _0x46d714[_0x54be5c(0x352)]:(_0x10cc51-=0.5)<_0x216bd9&&(_0x10cc51=_0x216bd9);}return _0x10cc51;}(_0xa78417[_0x186e98(0x525)],_0xa78417[_0x186e98(0x23a)],_0x1cd5ab),_0xa78417[_0x186e98(0x1e5)]=function(_0x92cc1f,_0x2421c9,_0x4f084e){const _0x3faf99=_0x186e98;switch(_0x4f084e[_0x3faf99(0x568)]){case _0x46d714[_0x3faf99(0x2c7)]:_0x4f084e[_0x3faf99(0x47e)]===_0x3e1a77[_0x3faf99(0x37a)]&&(_0x92cc1f-=0x3)<0xf&&(_0x92cc1f=0xf);break;case _0x46d714['Upgrade']:(_0x92cc1f+=0x3)>_0x2421c9&&(_0x92cc1f=_0x2421c9);}return _0x92cc1f;}(_0xa78417[_0x186e98(0x1e5)],_0xa78417[_0x186e98(0x170)],_0x1cd5ab),_0xa78417[_0x186e98(0x1c8)]=function(_0x20ad5d,_0x582460,_0x411e60){const _0x18e64e=_0x186e98;switch(_0x411e60[_0x18e64e(0x568)]){case _0x46d714['Downgrade']:_0x411e60[_0x18e64e(0x47e)]===_0x3e1a77[_0x18e64e(0x53e)]&&(_0x20ad5d*=0.75)<_0x4109f3&&(_0x20ad5d=_0x4109f3);break;case _0x46d714[_0x18e64e(0x352)]:(_0x20ad5d*=1.25)>_0x582460&&(_0x20ad5d=_0x582460);}return _0x20ad5d;}(_0xa78417[_0x186e98(0x1c8)],_0xa78417['maxBitrate'],_0x1cd5ab));}(_0x51f6db,_0x2e4bc5),_0x51f6db['tracks'][_0x3f3dc6(0x47b)]&&_0x51f6db['tracks'][_0x3f3dc6(0x47b)][_0x3f3dc6(0x64f)])){const _0x1184fc=_0x51f6db[_0x3f3dc6(0x57a)]['video'][_0x3f3dc6(0x64f)];this['connection']['setEncodingParameters'](_0x1184fc,Math[_0x3f3dc6(0x5d1)](0xa*_0x51f6db[_0x3f3dc6(0x525)])/0xa,_0x51f6db[_0x3f3dc6(0x1e5)],_0x51f6db[_0x3f3dc6(0x1c8)],_0x51f6db[_0x3f3dc6(0xec)]);}(_0x51f6db||_0x2e4bc5[_0x3f3dc6(0x568)]===_0x46d714[_0x3f3dc6(0x2c7)])&&this[_0x3f3dc6(0x453)]();}[_0x4d2937(0x349)](){const _0x3c0875=_0x4d2937;super[_0x3c0875(0x349)](),this[_0x3c0875(0x49b)](),this[_0x3c0875(0x128)](),this[_0x3c0875(0x387)][_0x3c0875(0x304)](_0x1e94cc=>{const _0x216fdf=_0x3c0875;_0x1e94cc['tracks'][_0x216fdf(0x47b)]&&(_0x1e94cc[_0x216fdf(0x57a)][_0x216fdf(0x47b)][_0x216fdf(0x64f)]=void 0x0),_0x1e94cc[_0x216fdf(0x57a)]['audio']&&(_0x1e94cc[_0x216fdf(0x57a)]['audio']['sender']=void 0x0);}),this['isReconnecting']=!0x0;}async[_0x4d2937(0x38e)](){return new Promise(async _0x350d42=>{const _0x456086=a0_0x72fc;if(!this[_0x456086(0x15f)]||_0x456086(0x493)!==this['dataChannel'][_0x456086(0x262)])return await _0x3cfc44[_0x456086(0x13a)](0x64),void _0x350d42();this[_0x456086(0x15f)][_0x456086(0x5cc)]<0x10000?_0x350d42():this[_0x456086(0x15f)][_0x456086(0x35d)]=()=>{const _0x166b32=_0x456086;this[_0x166b32(0x15f)]&&(this[_0x166b32(0x15f)][_0x166b32(0x35d)]=null),_0x350d42();};});}[_0x4d2937(0x54f)](_0x144386,_0x2d817f){const _0x323650=_0x4d2937,_0xa910cf=[];for(let _0x5c5844=0x0;_0x5c5844<_0x2d817f[_0x323650(0x27f)];_0x5c5844+=_0x473129)_0xa910cf[_0x323650(0x415)](_0x2d817f['slice'](_0x5c5844,_0x5c5844+_0x473129));for(const _0x438c01 of _0xa910cf)this['sendWithRetry'](_0x57e3f1+';'+_0x144386['uuid']+';'+_0xa910cf[_0x323650(0x456)](_0x438c01)+';'+_0xa910cf[_0x323650(0x27f)]+';'+_0x438c01,_0x45ba73[_0x323650(0x395)]);}async[_0x4d2937(0x481)](_0x323707,_0x28f8a6){const _0x55e051=_0x4d2937;_0x323707===_0x312663?this[_0x55e051(0x3f7)][_0x55e051(0x2f4)][_0x28f8a6][_0x55e051(0x643)]?.[_0x55e051(0x5fa)]!==_0x312663&&this[_0x55e051(0x3f7)][_0x55e051(0x2f4)][_0x28f8a6][_0x55e051(0x3fb)](_0x323707):this[_0x55e051(0x3f7)][_0x55e051(0x2f4)][_0x28f8a6]['push'](_0x323707);}['sendAction'](_0x551963){const _0x6757fd=_0x4d2937;if(!this[_0x6757fd(0x15f)]||_0x6757fd(0x493)!==this[_0x6757fd(0x15f)]['state'])throw new Error('DataChannel\x20is\x20not\x20open.');const _0x2dbb7e=Date[_0x6757fd(0x28d)]();_0x551963!==_0x312663&&(this[_0x6757fd(0x10f)]+=0x1,this[_0x6757fd(0x1ab)]+=_0x551963 instanceof ArrayBuffer?_0x551963[_0x6757fd(0x55e)]:_0x551963[_0x6757fd(0x27f)]),ArrayBuffer,this['dataChannel'][_0x6757fd(0x4ad)](_0x551963),this[_0x6757fd(0x5e2)]+=Date[_0x6757fd(0x28d)]()-_0x2dbb7e;}[_0x4d2937(0x478)](){const _0xf32122=_0x4d2937;this[_0xf32122(0x2e6)]&&this[_0xf32122(0x653)]();let _0x48c4e6=!0x0,_0x2ba8f7=Date[_0xf32122(0x28d)]();this['lastHeartbeat']=Date['now'](),this[_0xf32122(0x15f)]['onMessage']=_0x75625f=>{const _0x2b200f=_0xf32122;'1'===_0x75625f['data']&&(this[_0x2b200f(0x243)]=Date[_0x2b200f(0x28d)]()-_0x2ba8f7,_0x48c4e6&&this['publishSystemMessage']({'type':_0x2a9fc9[_0x2b200f(0x5cf)]}),_0x48c4e6=!0x1,this['lastHeartbeat']=Date[_0x2b200f(0x28d)](),this['isReconnecting']&&(this[_0x2b200f(0x19c)]=!0x1,this[_0x2b200f(0x3e1)]()));},this['heartbeatUnsubscriber']=_0x3cfc44[_0xf32122(0x466)](()=>{const _0x18640a=_0xf32122;_0x2ba8f7=Date['now'](),this[_0x18640a(0x481)](_0x312663,_0x45ba73[_0x18640a(0x1ad)]),Date[_0x18640a(0x28d)]()-this['lastHeartbeat']>(_0x48c4e6?0x15f90:0x3a98)&&this[_0x18640a(0x2a1)]();},0xbb8);}[_0x4d2937(0x3e1)](){const _0x38c498=_0x4d2937;this[_0x38c498(0x387)][_0x38c498(0x304)](_0x5a46a7=>{const _0x585310=_0x38c498;_0x5a46a7[_0x585310(0x57a)]['video']&&_0x5a46a7[_0x585310(0x57a)]['video'][_0x585310(0x16b)]&&!_0x5a46a7['tracks'][_0x585310(0x47b)][_0x585310(0x64f)]&&(_0x5a46a7[_0x585310(0x57a)][_0x585310(0x47b)][_0x585310(0x64f)]=this[_0x585310(0x454)][_0x585310(0x1e1)](_0x5a46a7[_0x585310(0x57a)][_0x585310(0x47b)][_0x585310(0x16b)],_0x5a46a7[_0x585310(0x354)])),_0x5a46a7[_0x585310(0x57a)][_0x585310(0x608)]&&_0x5a46a7[_0x585310(0x57a)][_0x585310(0x608)][_0x585310(0x16b)]&&!_0x5a46a7[_0x585310(0x57a)]['audio'][_0x585310(0x64f)]&&(_0x5a46a7['tracks'][_0x585310(0x608)][_0x585310(0x64f)]=this[_0x585310(0x454)][_0x585310(0x1e1)](_0x5a46a7[_0x585310(0x57a)][_0x585310(0x608)][_0x585310(0x16b)],_0x5a46a7[_0x585310(0x354)]));});}['sendIceCandidates'](){const _0x11307a=_0x4d2937;this['publishSystemMessage']({'type':_0x2a9fc9[_0x11307a(0x42a)],'candidates':this['handshakeCandidates'],'origin':_0x298653[_0x11307a(0x553)],'version':this['currentVersion'],'connectionType':this['connectionType']});}['setupConnectionEvents'](){const _0x1c37a6=_0x4d2937;super[_0x1c37a6(0xf0)](),this['connection'][_0x1c37a6(0x381)]=()=>{const _0x2cb24c=_0x1c37a6;if(_0x2cb24c(0x150)===this[_0x2cb24c(0x454)][_0x2cb24c(0x36c)]){if(_0x4dbf9b[_0x2cb24c(0x5f2)](_0x37cafd[_0x2cb24c(0x602)],_0x2cb24c(0x437),this['localId'],this[_0x2cb24c(0x4ba)]),this[_0x2cb24c(0x454)][_0x2cb24c(0x224)])return void this[_0x2cb24c(0x454)][_0x2cb24c(0x17b)]();this['createOffer']({'handshakeRestart':!0x0});}},this[_0x1c37a6(0x454)][_0x1c37a6(0x641)]=()=>{const _0x24643d=_0x1c37a6;'disconnected'!==this['connection'][_0x24643d(0x172)]&&'failed'!==this[_0x24643d(0x454)][_0x24643d(0x172)]||this[_0x24643d(0x2a1)]();};}[_0x4d2937(0x2a1)](){const _0x301c41=_0x4d2937;this[_0x301c41(0x653)](),this[_0x301c41(0x57f)](),this['clearConnectionTimeout'](),_0x4dbf9b[_0x301c41(0x2e7)](_0x301c41(0x425),{'clusterId':this[_0x301c41(0x20a)],'userId':this[_0x301c41(0x201)],'remoteId':this['remoteId'],'data':{'connectionType':this[_0x301c41(0x40f)],'connectionState':this['connection'][_0x301c41(0x172)],'iceConnectionState':this[_0x301c41(0x454)][_0x301c41(0x36c)],'signalingState':this[_0x301c41(0x454)][_0x301c41(0x167)],'readyState':this[_0x301c41(0x15f)]?.[_0x301c41(0x262)]||'','lastHeartbeat':this['lastHeartbeat']?Date[_0x301c41(0x28d)]()-this[_0x301c41(0x1a4)]:'','retryQueue':this[_0x301c41(0x3f7)]}}),(this[_0x301c41(0x1a4)]&&Date[_0x301c41(0x28d)]()-this[_0x301c41(0x1a4)]>0xea60)??0x1?this[_0x301c41(0x2c5)]['publish']({'sourceId':this[_0x301c41(0x4ba)],'destinationIds':[this[_0x301c41(0x201)]],'messageType':_0x100c15[_0x301c41(0x4a8)],'content':{'type':_0x2a9fc9['Disconnect']}}):(this['resetConnection'](),this[_0x301c41(0x1b5)]({'type':_0x2a9fc9[_0x301c41(0x53d)],'version':this['currentVersion'],'connectionType':this[_0x301c41(0x40f)]}),this[_0x301c41(0x60a)]=setTimeout(()=>{const _0x1ca8d5=_0x301c41;this[_0x1ca8d5(0x2a1)]();},0x7530));}[_0x4d2937(0x653)](){const _0x122287=_0x4d2937;this[_0x122287(0x2e6)]?.(),delete this['heartbeatUnsubscriber'];}[_0x4d2937(0x39b)](){const _0x39160e=_0x4d2937;this[_0x39160e(0x3c4)]&&(clearTimeout(this[_0x39160e(0x3c4)]),delete this[_0x39160e(0x3c4)]);}[_0x4d2937(0x57f)](){const _0x3b6dfc=_0x4d2937;this[_0x3b6dfc(0x60a)]&&(clearTimeout(this['restartTimeout']),delete this[_0x3b6dfc(0x60a)]);}[_0x4d2937(0x4bc)](){const _0x59bf3f=_0x4d2937;this[_0x59bf3f(0x5ea)]&&(clearTimeout(this[_0x59bf3f(0x5ea)]),delete this[_0x59bf3f(0x5ea)]);}[_0x4d2937(0x453)](){const _0x1c3ba2=_0x4d2937;this[_0x1c3ba2(0x5ea)]=setTimeout(()=>{const _0x573281=_0x1c3ba2;this['applyRemediation']({'type':_0x571fa5[_0x573281(0x338)],'action':_0x46d714[_0x573281(0x352)]});},0x3a98);}[_0x4d2937(0x5b9)](_0x561422,_0x5ee16d){const _0x156df7=_0x4d2937,_0x18997d=Math[_0x156df7(0x41d)](_0x561422[_0x156df7(0x586)]/_0x5ee16d['width'],_0x561422[_0x156df7(0x33d)]/_0x5ee16d['height']);return Math[_0x156df7(0x43b)](Math[_0x156df7(0x41d)](_0x18997d,0x1),0x4);}[_0x4d2937(0x128)](){const _0x25e555=_0x4d2937;this[_0x25e555(0x106)]?.(),delete this[_0x25e555(0x106)];}[_0x4d2937(0x49b)](){const _0x55be14=_0x4d2937;this[_0x55be14(0x2bd)]&&(clearTimeout(this[_0x55be14(0x2bd)]),delete this[_0x55be14(0x2bd)]);}[_0x4d2937(0x5bd)](_0xc23a58){const _0x5a9f6b=_0x4d2937,_0x471913=JSON[_0x5a9f6b(0x305)](_0xc23a58);return new TextEncoder()[_0x5a9f6b(0x2a9)](_0x471913)[_0x5a9f6b(0x189)];}[_0x4d2937(0xb9)](_0x19aad3,_0x2e9a46){const _0x29977f=_0x4d2937,_0x2f7d41=this[_0x29977f(0x5bd)](_0x19aad3),_0x2dc79e=new Uint8Array(0x4),_0x15db7e=new Uint8Array(_0x2f7d41),_0x60dc1f=new Uint8Array(_0x2e9a46);_0x2dc79e[_0x29977f(0x470)](new Uint8Array(new Uint32Array([_0x15db7e['length']])['buffer']));const _0x5426ac=new Uint8Array(0x4+_0x15db7e[_0x29977f(0x27f)]+_0x60dc1f['length']);return _0x5426ac['set'](_0x2dc79e),_0x5426ac[_0x29977f(0x470)](_0x15db7e,0x4),_0x5426ac['set'](_0x60dc1f,0x4+_0x15db7e[_0x29977f(0x27f)]),_0x5426ac['buffer'];}}class _0x1b82c4 extends _0x4e877e{[_0x4d2937(0x2be)];['connectionType'];[_0x4d2937(0x543)];[_0x4d2937(0x4c6)];[_0x4d2937(0x4d4)];[_0x4d2937(0x3d1)];[_0x4d2937(0x32e)];[_0x4d2937(0x4ec)]=[];['messageListeners']=_0x412493();['trackListeners']=_0x412493();[_0x4d2937(0x3cb)]=_0x412493();[_0x4d2937(0x15e)]=[];['systemTopic'];[_0x4d2937(0x3e0)]=new Map();[_0x4d2937(0x39e)]=new Map();[_0x4d2937(0x4b7)]=new Map();[_0x4d2937(0x2f7)]=new Map();['successNotified']=!0x1;constructor(_0x26db4f,_0x44503d,_0x43bf44,_0x216741,_0x86d6f4,_0x45d3af,_0x4a84dc,_0x27d6a1){const _0x1d096e=_0x4d2937;super(_0x26db4f,_0x44503d,_0x43bf44),this[_0x1d096e(0x2be)]=_0x216741,this['connectionType']=_0x86d6f4,this[_0x1d096e(0x543)]=_0x45d3af,this[_0x1d096e(0x4c6)]=_0x4a84dc,this[_0x1d096e(0x4d4)]=_0x27d6a1;}[_0x4d2937(0x153)](_0x4351fe){const _0x3397c3=_0x4d2937;switch(_0x4351fe[_0x3397c3(0x25c)]()){case _0x18f6f1[_0x3397c3(0x1c3)]:case _0x18f6f1[_0x3397c3(0x126)]:case _0x18f6f1[_0x3397c3(0x52a)]:case _0x18f6f1[_0x3397c3(0x119)]:this[_0x3397c3(0x3e0)][_0x3397c3(0x470)](_0x4351fe[_0x3397c3(0x631)](),_0x4351fe);break;case _0x18f6f1[_0x3397c3(0x3e2)]:this[_0x3397c3(0x4b7)][_0x3397c3(0x470)](_0x4351fe[_0x3397c3(0x631)](),_0x4351fe);}}[_0x4d2937(0x548)](_0x514a49){const _0x121ce9=_0x4d2937;switch(_0x514a49['getContentType']()){case _0x18f6f1['Data']:case _0x18f6f1[_0x121ce9(0x126)]:case _0x18f6f1[_0x121ce9(0x52a)]:case _0x18f6f1[_0x121ce9(0x119)]:this[_0x121ce9(0x3e0)][_0x121ce9(0x2e8)](_0x514a49[_0x121ce9(0x631)]());break;case _0x18f6f1[_0x121ce9(0x3e2)]:this[_0x121ce9(0x4b7)][_0x121ce9(0x2e8)](_0x514a49[_0x121ce9(0x631)]());}}['registerSubscriber'](_0x41bfbb){const _0x46e567=_0x4d2937;switch(_0x41bfbb['getContentType']()){case _0x18f6f1['Data']:case _0x18f6f1['PubSub']:case _0x18f6f1[_0x46e567(0x52a)]:case _0x18f6f1[_0x46e567(0x119)]:{const _0x7e5b8a=_0x41bfbb['subscribe'](_0x33e7bd=>{const _0x5acca9=_0x46e567;_0x250990(_0x33e7bd,this[_0x5acca9(0x201)])&&_0x52fdd9(_0x33e7bd,this['remoteId'])&&this['send'](_0x33e7bd);});this[_0x46e567(0x39e)][_0x46e567(0x470)](_0x41bfbb[_0x46e567(0x631)](),_0x7e5b8a);break;}case _0x18f6f1[_0x46e567(0x3e2)]:{const _0x58d18e=_0x41bfbb[_0x46e567(0x61d)](({content:_0x3a1d96})=>{const _0x60f2c2=_0x46e567;switch(_0x3a1d96[_0x60f2c2(0x568)]){case _0x2056ac[_0x60f2c2(0x34a)]:this[_0x60f2c2(0x1e1)](_0x3a1d96[_0x60f2c2(0x16b)],_0x3a1d96['stream'],_0x3a1d96['priority'],_0x3a1d96[_0x60f2c2(0xf3)]);break;case _0x2056ac[_0x60f2c2(0x324)]:this[_0x60f2c2(0x633)](_0x3a1d96[_0x60f2c2(0x16b)],_0x3a1d96[_0x60f2c2(0x354)]);break;case _0x2056ac[_0x60f2c2(0x342)]:_0x3a1d96['priority']&&this[_0x60f2c2(0x13d)](_0x3a1d96[_0x60f2c2(0x354)],_0x3a1d96[_0x60f2c2(0xec)]),_0x3a1d96[_0x60f2c2(0xf3)]&&this[_0x60f2c2(0x4d9)](_0x3a1d96[_0x60f2c2(0x354)],_0x3a1d96['params']);}});this['mediaUnsubscribers'][_0x46e567(0x470)](_0x41bfbb[_0x46e567(0x631)](),_0x58d18e);break;}}}['unregisterSubscriber'](_0x3fbefb){const _0x4b9ef4=_0x4d2937;switch(_0x3fbefb[_0x4b9ef4(0x25c)]()){case _0x18f6f1['Data']:case _0x18f6f1[_0x4b9ef4(0x126)]:case _0x18f6f1[_0x4b9ef4(0x52a)]:case _0x18f6f1[_0x4b9ef4(0x119)]:this['dataUnsubscribers'][_0x4b9ef4(0x447)](_0x3fbefb[_0x4b9ef4(0x631)]())?.(),this[_0x4b9ef4(0x39e)][_0x4b9ef4(0x2e8)](_0x3fbefb[_0x4b9ef4(0x631)]());break;case _0x18f6f1[_0x4b9ef4(0x3e2)]:this['mediaUnsubscribers']['get'](_0x3fbefb[_0x4b9ef4(0x631)]())?.(),this['mediaUnsubscribers']['delete'](_0x3fbefb[_0x4b9ef4(0x631)]());}}[_0x4d2937(0x2a6)](){const _0x30c4cd=_0x4d2937;return[_0x18f6f1[_0x30c4cd(0x1c3)],_0x18f6f1[_0x30c4cd(0x3e2)],_0x18f6f1[_0x30c4cd(0x126)],_0x18f6f1[_0x30c4cd(0x52a)],_0x18f6f1['KeyValueDatabase']];}['registerSystemPublisher'](_0x72ff3d){this['systemTopic']=_0x72ff3d;}['unregisterSystemPublisher'](){const _0x3f1858=_0x4d2937;delete this[_0x3f1858(0x2c5)];}async[_0x4d2937(0x411)](){const _0x59aca0=_0x4d2937;this['setupListeners'](),await this[_0x59aca0(0x465)]();}[_0x4d2937(0x5ff)](){const _0x51e86d=_0x4d2937;this[_0x51e86d(0x15e)][_0x51e86d(0x304)](_0x446ffb=>_0x446ffb()),this[_0x51e86d(0x15e)]=[],this[_0x51e86d(0x3d1)]?.[_0x51e86d(0x1fe)](),this[_0x51e86d(0x3d1)]?.[_0x51e86d(0x5ff)](),delete this[_0x51e86d(0x3d1)],this[_0x51e86d(0x4ec)]['forEach'](_0x48001b=>_0x48001b()),this['receiverUnsubscribers']=[],this['receiverConnection']?.['unregisterSystemPublisher'](),this[_0x51e86d(0x32e)]?.[_0x51e86d(0x5ff)](),delete this[_0x51e86d(0x32e)];}['isConnected'](){const _0x7f6c05=_0x4d2937;return this[_0x7f6c05(0x3d1)]?.[_0x7f6c05(0x23e)]()&&this[_0x7f6c05(0x32e)]?.[_0x7f6c05(0x23e)]()||!0x1;}[_0x4d2937(0x4ad)](_0x11f364){const _0x25f10e=_0x4d2937;if(!this[_0x25f10e(0x3d1)]||!this[_0x25f10e(0x23e)]())throw new _0xce6ead(_0xce6ead[_0x25f10e(0x197)]['ConnectionNotinitialized'],{'message':'Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','senderConnected':this['senderConnection']?.[_0x25f10e(0x23e)](),'receiverConnected':this[_0x25f10e(0x32e)]?.[_0x25f10e(0x23e)](),'localId':this[_0x25f10e(0x201)],'remoteId':this[_0x25f10e(0x4ba)],'data':_0x11f364});this[_0x25f10e(0x3d1)][_0x25f10e(0x4ad)](_0x11f364);}[_0x4d2937(0x12d)](_0x7e5095){const _0x1645b1=_0x4d2937;return this[_0x1645b1(0x1a7)][_0x1645b1(0x61d)](_0x7e5095);}[_0x4d2937(0x51f)](_0x4bc3da){const _0x2fee8d=_0x4d2937;return this[_0x2fee8d(0x41f)][_0x2fee8d(0x61d)](({track:_0x29e3ca,stream:_0x135d59})=>_0x4bc3da(_0x29e3ca,_0x135d59));}['onRemoveTrack'](_0xd7e89a){const _0x53c527=_0x4d2937;return this[_0x53c527(0x3cb)][_0x53c527(0x61d)](({track:_0x163e45,stream:_0x824378})=>_0xd7e89a(_0x163e45,_0x824378));}[_0x4d2937(0x1e1)](_0x373a68,_0x4953d8,_0x32ad24,_0x210970){const _0x16ffdd=_0x4d2937;this['senderConnection']?.[_0x16ffdd(0x1e1)](_0x373a68,_0x4953d8,_0x32ad24,_0x210970);}[_0x4d2937(0x13d)](_0x26ac32,_0x3353a1){const _0x3445f=_0x4d2937;this[_0x3445f(0x3d1)]?.['setPriority'](_0x26ac32,_0x3353a1);}[_0x4d2937(0x4d9)](_0x31fd2c,_0x294516){const _0x46e6ec=_0x4d2937;this[_0x46e6ec(0x3d1)]?.[_0x46e6ec(0x4d9)](_0x31fd2c,_0x294516);}[_0x4d2937(0x633)](_0x1b567c,_0x4d11bc){const _0x15d9d0=_0x4d2937;this[_0x15d9d0(0x3d1)]?.[_0x15d9d0(0x633)](_0x1b567c,_0x4d11bc);}async['handlePeerConnectionSystemEvents'](_0x37a62e){const _0x217e8c=_0x4d2937;_0x4dbf9b['log'](_0x37cafd['Connection'],_0x217e8c(0x1d9),this[_0x217e8c(0x201)],_0x37a62e);const {content:_0x1878dc}=_0x37a62e;switch(_0x1878dc[_0x217e8c(0x5a5)]){case _0x2a9fc9[_0x217e8c(0x3f8)]:await this[_0x217e8c(0xe3)](_0x1878dc);break;case _0x2a9fc9[_0x217e8c(0x17a)]:await this[_0x217e8c(0x5d3)](_0x1878dc);break;case _0x2a9fc9['Success']:this['handleSuccess']();break;case _0x2a9fc9[_0x217e8c(0x42a)]:await this[_0x217e8c(0x192)](_0x1878dc);break;case _0x2a9fc9[_0x217e8c(0x53d)]:this[_0x217e8c(0x2d4)](_0x1878dc);break;case _0x2a9fc9[_0x217e8c(0x383)]:await this['createOffer']();}}[_0x4d2937(0x1aa)](_0x132c10){const _0x2cdafd=_0x4d2937;this[_0x2cdafd(0x3d1)]?.[_0x2cdafd(0x3cc)](_0x132c10[_0x2cdafd(0x4eb)][_0x2cdafd(0x1b4)]);}['getConnectionType'](){const _0x206ccf=_0x4d2937;return this[_0x206ccf(0x40f)];}['setConnectionType'](_0x14e396){const _0x5336ce=_0x4d2937;this[_0x5336ce(0x40f)]=_0x14e396,this[_0x5336ce(0x3d1)]?.['setConnectionType'](_0x14e396),this['receiverConnection']?.['setConnectionType'](_0x14e396);}async[_0x4d2937(0x503)](){const _0x328fa0=_0x4d2937;await this[_0x328fa0(0x3d1)]?.[_0x328fa0(0x503)](),await this['receiverConnection']?.[_0x328fa0(0x503)]();}[_0x4d2937(0x2b6)](){const _0x59c60c=_0x4d2937;this[_0x59c60c(0x15e)][_0x59c60c(0x415)](this[_0x59c60c(0x12d)](_0x226eed=>{const _0x4c6a92=_0x59c60c;_0x52fdd9(_0x226eed,this[_0x4c6a92(0x201)])&&0x0!==_0x226eed[_0x4c6a92(0x3de)]&&this[_0x4c6a92(0x3e0)][_0x4c6a92(0x447)](_0x226eed[_0x4c6a92(0x3de)])?.[_0x4c6a92(0x104)](_0x226eed);})),this[_0x59c60c(0x15e)][_0x59c60c(0x415)](this[_0x59c60c(0x51f)]((_0x17b91e,_0x10ddb1)=>{const _0x22e335=_0x59c60c,_0x1d7d10=_0x8d2c7b(_0x18f6f1['Media'],_0x10ddb1['id'],this[_0x22e335(0x4ba)]);this['mediaTopics'][_0x22e335(0x447)](_0x1d7d10)?.[_0x22e335(0x104)]({'topicLabel':_0x1d7d10,'sourceId':this[_0x22e335(0x4ba)],'contentType':_0x18f6f1[_0x22e335(0x3e2)],'content':{'action':_0x2056ac['RemoteAdd'],'track':_0x17b91e,'stream':_0x10ddb1,'providerId':this[_0x22e335(0x4ba)]}});})),this[_0x59c60c(0x15e)][_0x59c60c(0x415)](this[_0x59c60c(0x212)]((_0x3882b5,_0x4e61c6)=>{const _0x141820=_0x59c60c,_0x2052a7=_0x8d2c7b(_0x18f6f1['Media'],_0x4e61c6['id'],this[_0x141820(0x4ba)]);this[_0x141820(0x4b7)]['get'](_0x2052a7)?.['publish']({'topicLabel':_0x2052a7,'sourceId':this['remoteId'],'contentType':_0x18f6f1[_0x141820(0x3e2)],'content':{'action':_0x2056ac[_0x141820(0x223)],'track':_0x3882b5,'stream':_0x4e61c6,'providerId':this[_0x141820(0x4ba)]}});}));}[_0x4d2937(0x192)]({candidates:_0x2f84b4,origin:_0x525ae6,version:_0x1ea807}){const _0x3aa792=_0x4d2937;return _0x525ae6===_0x298653['Sender']?(this[_0x3aa792(0x32e)]||this[_0x3aa792(0x518)](),this['receiverConnection'][_0x3aa792(0x50c)](_0x2f84b4,_0x1ea807)):this[_0x3aa792(0x3d1)][_0x3aa792(0x50c)](_0x2f84b4,_0x1ea807);}async[_0x4d2937(0x465)](){const _0x48f4be=_0x4d2937;this[_0x48f4be(0x3d1)]||this[_0x48f4be(0xfd)](),await this['senderConnection'][_0x48f4be(0x465)]();}async[_0x4d2937(0xe3)]({offer:_0x470d9b,version:_0xa53754}){const _0x151616=_0x4d2937;this[_0x151616(0x32e)]||this[_0x151616(0x518)](),await this[_0x151616(0x32e)][_0x151616(0xe3)](_0x470d9b,_0xa53754);}async['handleAnswer']({answer:_0x1ed7d3,version:_0x5063d5}){const _0x5c6673=_0x4d2937;if(!this['senderConnection'])throw new _0xce6ead(_0xce6ead['codes'][_0x5c6673(0x3a7)],{'message':_0x5c6673(0x2cd),'localId':this[_0x5c6673(0x201)],'remoteId':this[_0x5c6673(0x4ba)],'answer':_0x1ed7d3});await this[_0x5c6673(0x3d1)]['handleAnswer'](_0x1ed7d3,_0x5063d5);}['handleSuccess'](){const _0x3d401c=_0x4d2937;if(!this['receiverConnection'])throw new _0xce6ead(_0xce6ead[_0x3d401c(0x197)]['ConnectionNotinitialized'],{'message':_0x3d401c(0x590),'localId':this[_0x3d401c(0x201)],'remoteId':this['remoteId']});this[_0x3d401c(0x32e)][_0x3d401c(0x482)](),this[_0x3d401c(0x1a1)]||this[_0x3d401c(0x40f)]!==_0x237b83['Optimization']||(this[_0x3d401c(0x1a1)]=!0x0,this[_0x3d401c(0x2c5)]?.['publish']({'sourceId':this[_0x3d401c(0x4ba)],'destinationIds':[this[_0x3d401c(0x201)]],'messageType':_0x100c15['PeerConnection'],'content':{'type':_0x2a9fc9[_0x3d401c(0x5b4)]}}));}['handleNeedRestart'](_0x10cfaf){const _0x39dfff=_0x4d2937;this[_0x39dfff(0x32e)]||this[_0x39dfff(0x518)](),this['receiverConnection'][_0x39dfff(0x2d4)](_0x10cfaf[_0x39dfff(0x32c)]);}[_0x4d2937(0xfd)](){const _0x4d3ed4=_0x4d2937;this[_0x4d3ed4(0x3d1)]=new _0x1af633(this[_0x4d3ed4(0x20a)],this['localId'],this[_0x4d3ed4(0x4ba)],this['iceServers'],this[_0x4d3ed4(0x40f)],this['maxFps'],this[_0x4d3ed4(0x4c6)],this[_0x4d3ed4(0x4d4)]),this['senderConnection'][_0x4d3ed4(0xfc)](this[_0x4d3ed4(0x2c5)]);}['createReceiverConnection'](){const _0x337a99=_0x4d2937;this['receiverConnection']=new _0x4e675d(this[_0x337a99(0x20a)],this[_0x337a99(0x201)],this[_0x337a99(0x4ba)],this[_0x337a99(0x2be)],this['connectionType'],this['connectionConstructor']),this[_0x337a99(0x32e)][_0x337a99(0xfc)](this[_0x337a99(0x2c5)]),this['receiverUnsubscribers'][_0x337a99(0x415)](this[_0x337a99(0x32e)][_0x337a99(0x12d)](_0x51cc27=>this[_0x337a99(0x1a7)]['publish'](_0x51cc27))),this[_0x337a99(0x4ec)][_0x337a99(0x415)](this[_0x337a99(0x32e)][_0x337a99(0x51f)]((_0x40de6d,_0x3c7dd3)=>this['trackListeners'][_0x337a99(0x104)]({'track':_0x40de6d,'stream':_0x3c7dd3}))),this[_0x337a99(0x4ec)][_0x337a99(0x415)](this['receiverConnection'][_0x337a99(0x212)]((_0x155669,_0x2a790b)=>this[_0x337a99(0x3cb)][_0x337a99(0x104)]({'track':_0x155669,'stream':_0x2a790b})));}}class _0x132549{[_0x4d2937(0x201)];[_0x4d2937(0x4d0)];['graphService'];[_0x4d2937(0x50a)]=new Map();['messageListeners']=_0x412493();[_0x4d2937(0x195)];[_0x4d2937(0x3e0)]=new Map();[_0x4d2937(0x39e)]=new Map();[_0x4d2937(0x363)]=new Map();constructor(_0x2800fb,_0x4c7c61,_0x35f790){const _0x3fe4e2=_0x4d2937;this[_0x3fe4e2(0x201)]=_0x2800fb,this[_0x3fe4e2(0x4d0)]=_0x4c7c61,this[_0x3fe4e2(0x26e)]=_0x35f790,this[_0x3fe4e2(0x195)]=this[_0x3fe4e2(0x12d)](_0x3e7c52=>{const _0x3b0395=_0x3fe4e2;this[_0x3b0395(0x4d0)]['hasMessage'](_0x3e7c52['uuid'])||(_0x52fdd9(_0x3e7c52,this[_0x3b0395(0x201)])&&0x0!==_0x3e7c52[_0x3b0395(0x3de)]&&(this[_0x3b0395(0x4d0)][_0x3b0395(0x4f9)](_0x3e7c52['uuid']),this[_0x3b0395(0x3e0)][_0x3b0395(0x447)](_0x3e7c52[_0x3b0395(0x3de)])?.[_0x3b0395(0x104)](_0x3e7c52)),_0x3e7c52[_0x3b0395(0x3e8)]&&this[_0x3b0395(0x4ad)](_0x3e7c52));});}['close'](){const _0x400c56=_0x4d2937;this[_0x400c56(0x195)]?.();}[_0x4d2937(0x28f)](_0x2a834a){const _0x5bbb34=_0x4d2937,_0x556c06=_0x2a834a[_0x5bbb34(0x12d)](_0x25104e=>{const _0xb0230f=_0x5bbb34;this[_0xb0230f(0x1a7)][_0xb0230f(0x104)](_0x25104e);});this[_0x5bbb34(0x50a)][_0x5bbb34(0x470)](_0x2a834a,_0x556c06),this['retryQueues'][_0x5bbb34(0x470)](_0x2a834a[_0x5bbb34(0x2f5)](),function(_0x594fd0,_0x494a39=!0x1){let _0x39c397=new Map();const _0x377bf5=_0x543cea(_0x594fd0,_0x494a39,function(_0x7b529b){const _0x2aca48=a0_0x72fc;_0x504c93(_0x7b529b)&&_0x39c397['delete'](_0x7b529b[_0x2aca48(0x59a)]+'-'+(_0x7b529b['destinationIds']??[])+'-'+_0x7b529b[_0x2aca48(0x4a0)]+'-'+_0x7b529b[_0x2aca48(0x4eb)][_0x2aca48(0x5a5)]);},function(_0x4276a2){return!!function(_0x3e252a){const _0x305fa9=a0_0x72fc,_0x512a69=_0x3e252a['value'];if(!_0x504c93(_0x512a69))return!0x1;const _0x1e03ff=_0x512a69[_0x305fa9(0x59a)]+'-'+(_0x512a69[_0x305fa9(0x26c)]??[])+'-'+_0x512a69[_0x305fa9(0x4a0)]+'-'+_0x512a69[_0x305fa9(0x4eb)][_0x305fa9(0x5a5)],_0x330566={'version':_0x512a69[_0x305fa9(0x4eb)][_0x305fa9(0x32c)],'element':_0x3e252a},_0x10196b=_0x39c397[_0x305fa9(0x447)](_0x1e03ff);return _0x10196b?(_0x10196b[_0x305fa9(0x32c)]>=_0x512a69[_0x305fa9(0x4eb)][_0x305fa9(0x32c)]||(_0x10196b[_0x305fa9(0x52c)][_0x305fa9(0x5de)]&&(_0x10196b[_0x305fa9(0x52c)][_0x305fa9(0x5de)]['next']=_0x3e252a,_0x3e252a[_0x305fa9(0x5de)]=_0x10196b[_0x305fa9(0x52c)][_0x305fa9(0x5de)]),_0x10196b[_0x305fa9(0x52c)][_0x305fa9(0x3d6)]&&(_0x10196b[_0x305fa9(0x52c)][_0x305fa9(0x3d6)]['previous']=_0x3e252a,_0x3e252a[_0x305fa9(0x3d6)]=_0x10196b['element'][_0x305fa9(0x3d6)]),_0x10196b[_0x305fa9(0x52c)]===_0x377bf5[_0x305fa9(0x643)]&&(_0x377bf5['head']=_0x3e252a),_0x10196b[_0x305fa9(0x52c)]===_0x377bf5[_0x305fa9(0x4c3)]&&(_0x377bf5['tail']=_0x3e252a),_0x39c397[_0x305fa9(0x470)](_0x1e03ff,_0x330566)),!0x0):(_0x39c397[_0x305fa9(0x470)](_0x1e03ff,_0x330566),!0x1);}(_0x4276a2);},function(){const _0x4de137=a0_0x72fc;_0x39c397[_0x4de137(0x348)]();});function _0x504c93(_0x27219b){const _0x4e1ed5=a0_0x72fc;if(_0x27219b&&_0x4e1ed5(0x221)==typeof _0x27219b&&_0x27219b[_0x4e1ed5(0x4d3)](_0x4e1ed5(0x4eb))&&_0x27219b[_0x4e1ed5(0x4d3)](_0x4e1ed5(0x4a0))&&_0x27219b[_0x4e1ed5(0x4d3)](_0x4e1ed5(0x59a))){const _0x3485d1=_0x27219b;if(_0x3485d1[_0x4e1ed5(0x4eb)]&&_0x4e1ed5(0x221)==typeof _0x3485d1['content']&&_0x3485d1[_0x4e1ed5(0x4eb)][_0x4e1ed5(0x4d3)](_0x4e1ed5(0x32c))&&_0x3485d1[_0x4e1ed5(0x4eb)][_0x4e1ed5(0x4d3)]('type'))return!0x0;}return!0x1;}return _0x377bf5;}(new _0x3b5b80(_0x1c796c=>_0x2a834a[_0x5bbb34(0x4ad)](_0x1c796c),()=>_0x3cfc44[_0x5bbb34(0x13a)](0x64))));}['removeConnection'](_0xeef595){const _0x2e9611=_0x4d2937;this['connections'][_0x2e9611(0x447)](_0xeef595)?.(),this[_0x2e9611(0x50a)][_0x2e9611(0x2e8)](_0xeef595),this['retryQueues'][_0x2e9611(0x447)](_0xeef595[_0x2e9611(0x2f5)]())?.['clear'](),this['retryQueues'][_0x2e9611(0x2e8)](_0xeef595[_0x2e9611(0x2f5)]());}[_0x4d2937(0x23e)](_0x3545ab){const _0x59d4c3=_0x4d2937;return _0x4dbf9b[_0x59d4c3(0x5f2)](_0x37cafd['ConnectionState'],_0x59d4c3(0x366),this[_0x59d4c3(0x201)],this['connections'][_0x59d4c3(0x1e2)]()),0x0!==this['connections'][_0x59d4c3(0x1b8)]&&(Array['from'](this[_0x59d4c3(0x50a)][_0x59d4c3(0x1e2)]())['find'](_0x3908c4=>_0x3908c4[_0x59d4c3(0x2f5)]()===_0x3545ab)?.[_0x59d4c3(0x23e)]()??!0x1);}['registerPublisher'](_0x77cd4e){const _0x22dd83=_0x4d2937;this['dataTopics'][_0x22dd83(0x470)](_0x77cd4e[_0x22dd83(0x631)](),_0x77cd4e);}[_0x4d2937(0x548)](_0xd9449b){const _0x431471=_0x4d2937;this[_0x431471(0x3e0)][_0x431471(0x2e8)](_0xd9449b[_0x431471(0x631)]());}[_0x4d2937(0x56b)](_0x5cf078){const _0x33f548=_0x4d2937,_0xf0edae=_0x5cf078['subscribe'](this['send'][_0x33f548(0x4f1)](this));this[_0x33f548(0x39e)]['set'](_0x5cf078[_0x33f548(0x631)](),_0xf0edae);}[_0x4d2937(0x5f9)](_0xa0e9de){const _0x4b8754=_0x4d2937;this[_0x4b8754(0x39e)][_0x4b8754(0x447)](_0xa0e9de['getLabel']())?.(),this[_0x4b8754(0x39e)][_0x4b8754(0x2e8)](_0xa0e9de[_0x4b8754(0x631)]());}[_0x4d2937(0x2a6)](){const _0x9d71fb=_0x4d2937;return[_0x18f6f1['Data'],_0x18f6f1[_0x9d71fb(0x126)],_0x18f6f1['ObjectStore'],_0x18f6f1[_0x9d71fb(0x119)]];}[_0x4d2937(0x4ad)](_0x1faa56){const _0x51bd18=_0x4d2937;if(!0x1===_0x1faa56['retry']){if(_0x1faa56['propagate']||!_0x1faa56[_0x51bd18(0x26c)]||0x1!==_0x1faa56[_0x51bd18(0x26c)][_0x51bd18(0x27f)])throw new _0xce6ead(_0xce6ead[_0x51bd18(0x197)][_0x51bd18(0x4b4)],{'message':_0x51bd18(0x36e),'localId':this[_0x51bd18(0x201)]});if(!this['isConnected'](_0x1faa56[_0x51bd18(0x26c)][0x0]))throw new _0x2efda1(_0x51bd18(0x418));}const _0x468e64=_0x1faa56[_0x51bd18(0x515)]??[];try{const {filteredDestinationIds:_0x4db80c,extendedRecipients:_0x34d2b5}=this[_0x51bd18(0x36b)](_0x1faa56,_0x468e64);_0x1faa56['destinationIds']=_0x4db80c,_0x1faa56[_0x51bd18(0x515)]=_0x34d2b5;}catch(_0x9cf2fb){if(_0x9cf2fb instanceof _0x2efda1)return void _0x4dbf9b['log'](_0x37cafd[_0x51bd18(0x4b9)],'CrewdleConnectionGroup',_0x51bd18(0x27d),_0x1faa56,_0x9cf2fb['message']);}const _0x306d69=this['shouldContinuePropagation'](_0x1faa56);this[_0x51bd18(0x2f1)](_0x1faa56,_0x306d69),_0x1faa56['propagate']=_0x306d69;const _0x3e3a3e=this[_0x51bd18(0x1e9)](_0x1faa56,_0x468e64);for(const _0x4a639f of _0x3e3a3e){const _0x506084=this['retryQueues'][_0x51bd18(0x447)](_0x4a639f[_0x51bd18(0x2f5)]());if(!_0x506084)throw new _0xce6ead(_0xce6ead[_0x51bd18(0x197)][_0x51bd18(0x452)],{'message':'CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','localId':this[_0x51bd18(0x201)],'remoteId':_0x4a639f[_0x51bd18(0x2f5)](),'data':_0x1faa56});_0x506084[_0x51bd18(0x415)](_0x1faa56);}}['getRemoteId'](){return'';}[_0x4d2937(0x3bf)](){const _0x320861=_0x4d2937;return this[_0x320861(0x201)];}['onMessage'](_0xf2a504){const _0x1b45fb=_0x4d2937;return this[_0x1b45fb(0x1a7)][_0x1b45fb(0x61d)](_0xf2a504);}['updatePropagationProperties'](_0x1ce6e7,_0x1ec565){const _0x55af7a=_0x4d2937,_0x15f62d={'filteredDestinationIds':_0x1ce6e7[_0x55af7a(0x26c)],'extendedRecipients':_0x1ce6e7[_0x55af7a(0x515)]};if(!_0x1ce6e7[_0x55af7a(0x3e8)])return _0x15f62d;const _0x415b61=Array[_0x55af7a(0x474)](this[_0x55af7a(0x50a)][_0x55af7a(0x1e2)]())[_0x55af7a(0x4a5)](_0x134532=>_0x134532['getConnectionType']()===_0x237b83[_0x55af7a(0x479)]||_0x134532[_0x55af7a(0x23e)]())[_0x55af7a(0x54c)](_0x3231d4=>_0x3231d4[_0x55af7a(0x2f5)]());if(_0x415b61['reduce']((_0x257071,_0x41159b)=>_0x257071&&_0x1ce6e7[_0x55af7a(0x515)][_0x55af7a(0x135)](_0x41159b),!0x0))throw new _0x2efda1('All\x20recipients\x20already\x20received');if(_0x1ce6e7[_0x55af7a(0x26c)]){const _0x5eb963=_0x1ce6e7[_0x55af7a(0x26c)]['filter'](_0x68ea7b=>_0x68ea7b!==this[_0x55af7a(0x201)]&&!_0x1ce6e7['recipients'][_0x55af7a(0x135)](_0x68ea7b));if(0x0===_0x5eb963[_0x55af7a(0x27f)])throw new _0x2efda1(_0x55af7a(0x122));_0x15f62d[_0x55af7a(0x5e9)]=_0x5eb963;}return _0x15f62d['extendedRecipients']=[...new Set([..._0x1ec565,..._0x415b61,this['localId']])],_0x15f62d;}[_0x4d2937(0x2f1)](_0x1cc4f9,_0x437ab5=!0x1){const _0x21bf25=_0x4d2937;if(0x0===_0x1cc4f9[_0x21bf25(0x3de)]&&!_0x250990(_0x1cc4f9,this[_0x21bf25(0x201)])&&_0x1cc4f9[_0x21bf25(0x3e8)]){const _0x4360c3=_0x5ec816(_0x1cc4f9,this[_0x21bf25(0x201)]);_0x4dbf9b[_0x21bf25(0x5c5)](_0x37cafd[_0x21bf25(0x20d)],_0x1cc4f9[_0x21bf25(0x16f)]+_0x21bf25(0x34b)+_0x437ab5+')\x20'+_0x4360c3,_0x1cc4f9,_0x437ab5);}}[_0x4d2937(0x494)](_0x18ed51){const _0x4289e6=_0x4d2937;if(_0x18ed51[_0x4289e6(0x26c)]&&_0x18ed51[_0x4289e6(0x3e8)]){const _0x4e1964=Array[_0x4289e6(0x474)](this[_0x4289e6(0x50a)][_0x4289e6(0x1e2)]())[_0x4289e6(0x4a5)](_0x3aae5b=>_0x3aae5b[_0x4289e6(0x578)]()===_0x237b83[_0x4289e6(0x479)]||_0x3aae5b[_0x4289e6(0x23e)]())[_0x4289e6(0x54c)](_0x5d456a=>_0x5d456a[_0x4289e6(0x2f5)]());return!_0x18ed51[_0x4289e6(0x26c)]['reduce']((_0x9f3101,_0x2d57f0)=>_0x9f3101&&_0x4e1964[_0x4289e6(0x135)](_0x2d57f0),!0x0);}return _0x18ed51[_0x4289e6(0x3e8)]??!0x1;}['getConnectionDestinations'](_0x35af84,_0x475153){const _0x19b0d3=_0x4d2937;if(_0x35af84[_0x19b0d3(0x3e8)]&&_0x35af84[_0x19b0d3(0x26c)]){const _0x42010d=Array[_0x19b0d3(0x474)](this[_0x19b0d3(0x50a)][_0x19b0d3(0x1e2)]())[_0x19b0d3(0x4a5)](_0x351f49=>_0x351f49[_0x19b0d3(0x578)]()===_0x237b83[_0x19b0d3(0x479)]||_0x351f49[_0x19b0d3(0x23e)]())[_0x19b0d3(0x54c)](_0x54d74d=>_0x54d74d[_0x19b0d3(0x2f5)]()),_0x770cea=new Set(),_0x27123d=_0x35af84[_0x19b0d3(0x59a)]===this[_0x19b0d3(0x201)]?0x3:0x1;return _0x35af84[_0x19b0d3(0x26c)][_0x19b0d3(0x304)](_0x31b665=>{const _0x17d19e=_0x19b0d3,_0x2b1938=this[_0x17d19e(0x26e)][_0x17d19e(0xf5)](_0x42010d,_0x31b665);let _0xd1e22c=0x0,_0xcd5f1f=0x0;_0x2b1938[_0x17d19e(0x304)](_0x412d16=>{const _0x26b303=_0x17d19e;if(_0xd1e22c>=_0x27123d)return;const _0x5b36ad=Array[_0x26b303(0x474)](this[_0x26b303(0x50a)][_0x26b303(0x1e2)]())[_0x26b303(0x1d8)](_0x5a781f=>_0x5a781f['getRemoteId']()===_0x412d16);if(_0x5b36ad){if(_0x5b36ad['getConnectionType']()===_0x237b83[_0x26b303(0x479)]&&_0xcd5f1f>0x0)return void(_0xcd5f1f-=0x1);_0x770cea[_0x26b303(0x519)](_0x5b36ad),_0x5b36ad['getConnectionType']()===_0x237b83[_0x26b303(0x118)]&&(_0xcd5f1f+=0x1),_0xd1e22c+=0x1;}});}),Array['from'](_0x770cea);}return Array['from'](this[_0x19b0d3(0x50a)][_0x19b0d3(0x1e2)]())[_0x19b0d3(0x4a5)](_0x1c39ca=>{const _0x12c80b=_0x19b0d3;return _0x4093dc=_0x1c39ca[_0x12c80b(0x2f5)](),!_0x475153[_0x12c80b(0x135)](_0x4093dc)&&(_0x52fdd9(_0x35af84,_0x4093dc)||_0x35af84[_0x12c80b(0x3e8)])&&(!_0x35af84['propagate']||_0x1c39ca[_0x12c80b(0x23e)]()||_0x1c39ca[_0x12c80b(0x578)]()===_0x237b83[_0x12c80b(0x479)]);var _0x4093dc;});}}class _0x32a814{['localId'];[_0x4d2937(0x4d0)];[_0x4d2937(0x50a)]=new Map();[_0x4d2937(0x2c5)];constructor(_0x8f815f,_0x17ae08){const _0x507a94=_0x4d2937;this[_0x507a94(0x201)]=_0x8f815f,this[_0x507a94(0x4d0)]=_0x17ae08;}[_0x4d2937(0x5ff)](){}[_0x4d2937(0x4ad)](_0x29282b){const _0x4580ee=_0x4d2937;for(const _0x1ae57a of this[_0x4580ee(0x50a)]['keys']())try{return void _0x1ae57a[_0x4580ee(0x4ad)]({'retry':!0x1,..._0x29282b});}catch(_0x557fe4){_0x557fe4 instanceof _0x2efda1||_0x4dbf9b[_0x4580ee(0x5f2)](_0x37cafd['Pool'],'send\x20error\x20on\x20'+_0x1ae57a,_0x557fe4,_0x29282b);}_0x4dbf9b['log'](_0x37cafd['Pool'],_0x4580ee(0x514));}['addConnection'](_0x199b83){const _0x14da46=_0x4d2937,_0x2382c1=_0x199b83[_0x14da46(0x12d)](_0x440bad=>{const _0xd39821=_0x14da46;this[_0xd39821(0x4d0)][_0xd39821(0x50e)](_0x440bad[_0xd39821(0x16f)])||0x0===_0x440bad['topicLabel']&&(this[_0xd39821(0x4d0)][_0xd39821(0x4f9)](_0x440bad[_0xd39821(0x16f)]),_0x52fdd9(_0x440bad,this[_0xd39821(0x201)])&&this[_0xd39821(0x2c5)]?.[_0xd39821(0x104)](_0x440bad));});this[_0x14da46(0x50a)][_0x14da46(0x470)](_0x199b83,_0x2382c1);}[_0x4d2937(0x157)](_0x35b8b3){const _0x43435b=_0x4d2937;this[_0x43435b(0x50a)][_0x43435b(0x447)](_0x35b8b3)?.(),this[_0x43435b(0x50a)][_0x43435b(0x2e8)](_0x35b8b3);}[_0x4d2937(0x3bf)](){const _0x1cbf7e=_0x4d2937;return this[_0x1cbf7e(0x201)];}['getRemoteId'](){return'';}[_0x4d2937(0x2a6)](){const _0x3285d6=_0x4d2937;return[_0x18f6f1[_0x3285d6(0x1c3)]];}['isConnected'](){const _0x33cede=_0x4d2937;throw new Error(_0x33cede(0x2fe));}[_0x4d2937(0xfc)](_0x39369c){const _0x5907ac=_0x4d2937;this[_0x5907ac(0x2c5)]=_0x39369c;}[_0x4d2937(0x1fe)](){delete this['systemTopic'];}}class _0x69595e{[_0x4d2937(0x189)]=new Map();['unsubscribeHandler'];constructor(){const _0x3e4f31=_0x4d2937;this[_0x3e4f31(0x1cf)]=_0x3cfc44['setInterval'](()=>{const _0x38e46b=_0x3e4f31;for(const [_0x2eaa08,_0x872a1a]of this['buffer'][_0x38e46b(0x287)]())Date['now']()-_0x872a1a>0x124f80&&this[_0x38e46b(0x189)][_0x38e46b(0x2e8)](_0x2eaa08);},0x1d4c0);}['close'](){this['unsubscribeHandler']();}[_0x4d2937(0x4f9)](_0x367870){const _0x4735f0=_0x4d2937;this[_0x4735f0(0x189)][_0x4735f0(0x470)](_0x367870,Date[_0x4735f0(0x28d)]());}[_0x4d2937(0x50e)](_0x401368){const _0x1832b7=_0x4d2937;return this['buffer'][_0x1832b7(0x314)](_0x401368);}}class _0x189eb6{['configs'];[_0x4d2937(0x62a)];[_0x4d2937(0x2be)];[_0x4d2937(0x543)];[_0x4d2937(0x4c6)];[_0x4d2937(0x4d4)];[_0x4d2937(0x50a)]=new Map();['connectionPool'];[_0x4d2937(0x29a)];['signalingServer'];[_0x4d2937(0x4d0)];constructor(_0x410b79,_0x3cede0,_0x3e5a4d,_0x36a8f5,_0x524b8c,_0x153bc5,_0x3e1e14){const _0x4617a6=_0x4d2937;this[_0x4617a6(0x202)]=_0x410b79,this['authService']=_0x3cede0,this['iceServers']=_0x3e5a4d,this[_0x4617a6(0x543)]=_0x36a8f5,this[_0x4617a6(0x4c6)]=_0x524b8c,this[_0x4617a6(0x4d4)]=_0x3e1e14,this[_0x4617a6(0x4d0)]=new _0x69595e(),this['connectionGroup']=new _0x132549(this[_0x4617a6(0x202)]['localId'],this[_0x4617a6(0x4d0)],_0x153bc5),this[_0x4617a6(0x4c9)]=new _0x2c9836(this['configs'][_0x4617a6(0x581)],this[_0x4617a6(0x202)]['clusterId'],this[_0x4617a6(0x202)][_0x4617a6(0x201)],_0x4617a6(0x404),this[_0x4617a6(0x62a)]),this[_0x4617a6(0xe8)]=new _0x32a814(this[_0x4617a6(0x202)][_0x4617a6(0x201)],this[_0x4617a6(0x4d0)]),this[_0x4617a6(0xe8)][_0x4617a6(0x28f)](this[_0x4617a6(0x29a)]),this[_0x4617a6(0xe8)][_0x4617a6(0x28f)](this[_0x4617a6(0x4c9)]),this[_0x4617a6(0x202)]['mediator']['registerSystemSource'](this[_0x4617a6(0xe8)]);}['close'](){const _0x28f88b=_0x4d2937;this[_0x28f88b(0x4d0)]['close'](),this[_0x28f88b(0x50a)][_0x28f88b(0x304)]((_0x2431bb,_0x3473cb)=>this[_0x28f88b(0x1a2)](_0x3473cb)),this['configs'][_0x28f88b(0x434)][_0x28f88b(0x32a)](this['connectionPool']),this['connectionPool']['removeConnection'](this['signalingServer']),this[_0x28f88b(0xe8)]['removeConnection'](this[_0x28f88b(0x29a)]),this['connectionPool'][_0x28f88b(0x5ff)](),this['signalingServer']['close'](),this[_0x28f88b(0x29a)][_0x28f88b(0x5ff)]();}async[_0x4d2937(0x565)](){const _0x595dde=_0x4d2937;await this[_0x595dde(0x4c9)]['connect']();}async[_0x4d2937(0x507)](_0x196ad3,_0x35a52a=_0x237b83[_0x4d2937(0x479)]){const _0x2b7525=_0x4d2937;if(this[_0x2b7525(0x50a)][_0x2b7525(0x314)](_0x196ad3)){if(this['connections'][_0x2b7525(0x447)](_0x196ad3)?.[_0x2b7525(0x578)]()===_0x237b83[_0x2b7525(0x118)]&&_0x35a52a===_0x237b83[_0x2b7525(0x479)])return void this['connections']['get'](_0x196ad3)?.[_0x2b7525(0x455)](_0x237b83['Core']);throw new _0xce6ead(_0xce6ead[_0x2b7525(0x197)]['RemoteConnectionExists'],{'localId':this[_0x2b7525(0x202)][_0x2b7525(0x201)],'remoteId':_0x196ad3});}const _0x245fc4=new _0x1b82c4(this[_0x2b7525(0x202)][_0x2b7525(0x20a)],this[_0x2b7525(0x202)]['localId'],_0x196ad3,this[_0x2b7525(0x2be)],_0x35a52a,this[_0x2b7525(0x543)],this[_0x2b7525(0x4c6)],this[_0x2b7525(0x4d4)]);this[_0x2b7525(0x50a)][_0x2b7525(0x470)](_0x196ad3,_0x245fc4),this[_0x2b7525(0x29a)][_0x2b7525(0x28f)](_0x245fc4),this['configs'][_0x2b7525(0x434)][_0x2b7525(0x335)](_0x245fc4),this[_0x2b7525(0x202)][_0x2b7525(0x434)]['registerRemoteUser'](_0x196ad3),await _0x245fc4[_0x2b7525(0x411)]();}[_0x4d2937(0x18f)](){const _0x1e0696=_0x4d2937;return this[_0x1e0696(0x29a)];}[_0x4d2937(0x4e5)](_0x2ef29a){const _0xd225b1=_0x4d2937;if(!this[_0xd225b1(0x50a)][_0xd225b1(0x314)](_0x2ef29a))throw new _0xce6ead(_0xce6ead['codes']['MissingRemoteConnection'],{'localId':this[_0xd225b1(0x202)]['localId'],'remoteId':_0x2ef29a});return this['connections'][_0xd225b1(0x447)](_0x2ef29a);}[_0x4d2937(0x49a)](_0x4b646e){const _0x5422fd=_0x4d2937,_0x9b11bc=Array['from'](this[_0x5422fd(0x50a)][_0x5422fd(0xc2)]());return _0x4b646e?_0x9b11bc['filter'](_0x4b646e):_0x9b11bc;}async[_0x4d2937(0x503)](_0x683dfa){const _0x1d1b21=_0x4d2937,_0x305382=this[_0x1d1b21(0x50a)]['get'](_0x683dfa);_0x305382&&_0x305382[_0x1d1b21(0x23e)]()&&await _0x305382[_0x1d1b21(0x503)]();}[_0x4d2937(0x390)](_0x19a18a){const _0x4ff1ea=_0x4d2937;if(_0x19a18a[_0x4ff1ea(0x4a0)]!==_0x100c15[_0x4ff1ea(0x4a8)]||_0x19a18a[_0x4ff1ea(0x3e8)])try{this['connectionGroup'][_0x4ff1ea(0x4ad)](_0x19a18a);}catch(_0x733f19){if(_0x733f19 instanceof _0x2efda1)return;throw _0x733f19;}else this[_0x4ff1ea(0xe8)][_0x4ff1ea(0x4ad)](_0x19a18a);}async[_0x4d2937(0xf6)](_0x544d95){const _0xfbc6b7=_0x4d2937;switch(_0x544d95[_0xfbc6b7(0x4eb)]['type']){case _0x2a9fc9[_0xfbc6b7(0x38f)]:case _0x2a9fc9[_0xfbc6b7(0x4b8)]:case _0x2a9fc9[_0xfbc6b7(0x5b4)]:return;}if(!_0x544d95[_0xfbc6b7(0x26c)]||0x1!==_0x544d95[_0xfbc6b7(0x26c)][_0xfbc6b7(0x27f)])throw new _0xce6ead(_0xce6ead[_0xfbc6b7(0x197)]['PeerConnectionInvalidDestination'],{'message':_0xfbc6b7(0x4a9),'event':_0x544d95});if(_0x544d95[_0xfbc6b7(0x26c)][0x0]!==this[_0xfbc6b7(0x202)][_0xfbc6b7(0x201)])throw new _0xce6ead(_0xce6ead['codes'][_0xfbc6b7(0x235)],{'message':_0xfbc6b7(0x2e3),'event':_0x544d95});if(!this[_0xfbc6b7(0x50a)]['has'](_0x544d95[_0xfbc6b7(0x59a)])){let _0x4a4dd0=_0x237b83[_0xfbc6b7(0x479)];if(!(this[_0xfbc6b7(0x3cf)](_0x544d95[_0xfbc6b7(0x4eb)])||this[_0xfbc6b7(0x53b)](_0x544d95['content'])||this[_0xfbc6b7(0x2ba)](_0x544d95['content'])))return;_0x4a4dd0=_0x544d95['content'][_0xfbc6b7(0x40f)],await this['createConnection'](_0x544d95[_0xfbc6b7(0x59a)],_0x4a4dd0);}const _0x37fc6d=this['connections']['get'](_0x544d95['sourceId']);await _0x37fc6d[_0xfbc6b7(0xf6)](_0x544d95);}['handleRemediationSystemEvents'](_0x5337f9){const _0x7b44df=_0x4d2937;if(_0x5337f9[_0x7b44df(0x4eb)][_0x7b44df(0x5a5)]===_0x571fa5[_0x7b44df(0x338)]){if(_0x5337f9[_0x7b44df(0x4eb)][_0x7b44df(0x2f2)]===this[_0x7b44df(0x202)]['localId'])return void this['connections']['forEach'](_0x27ce52=>_0x27ce52['handleRemediationSystemEvents'](_0x5337f9));this['connections']['get'](_0x5337f9[_0x7b44df(0x4eb)]['targetId'])?.[_0x7b44df(0x1aa)](_0x5337f9);}}['handleNodeSystemEvents']({content:_0x531465}){const _0x150e45=_0x4d2937;_0x531465[_0x150e45(0x5a5)]===_0x3c511b[_0x150e45(0x429)]&&this[_0x150e45(0x1a2)](_0x531465['id']);}['closeConnection'](_0x38eb69){const _0x3ae48f=_0x4d2937,_0x39ebbe=this[_0x3ae48f(0x50a)][_0x3ae48f(0x447)](_0x38eb69);_0x39ebbe&&(this[_0x3ae48f(0x202)][_0x3ae48f(0x434)][_0x3ae48f(0x3ea)](_0x38eb69),this['configs'][_0x3ae48f(0x434)][_0x3ae48f(0x32a)](_0x39ebbe),_0x39ebbe instanceof _0x1b82c4&&this[_0x3ae48f(0x29a)][_0x3ae48f(0x157)](_0x39ebbe),_0x39ebbe[_0x3ae48f(0x5ff)](),this['connections'][_0x3ae48f(0x2e8)](_0x38eb69));}[_0x4d2937(0x3cf)](_0x9c7709){const _0x5a03f5=_0x4d2937;return _0x9c7709['type']===_0x2a9fc9[_0x5a03f5(0x3f8)];}[_0x4d2937(0x2ba)](_0xd0f3ff){const _0x53f193=_0x4d2937;return _0xd0f3ff[_0x53f193(0x5a5)]===_0x2a9fc9[_0x53f193(0x53d)];}[_0x4d2937(0x53b)](_0x267043){return _0x267043['type']===_0x2a9fc9['Handshake'];}}!function(_0x3fe3e8){const _0xac619e=_0x4d2937;_0x3fe3e8[_0x3fe3e8['SubscribeMediaStream']=0x0]=_0xac619e(0x267),_0x3fe3e8[_0x3fe3e8[_0xac619e(0x298)]=0x1]='UpdateMediaStream',_0x3fe3e8[_0x3fe3e8['UnsubscribeMediaStream']=0x2]=_0xac619e(0x2cc),_0x3fe3e8[_0x3fe3e8[_0xac619e(0x34d)]=0x3]='NeedMediaStream',_0x3fe3e8[_0x3fe3e8['RestartNeedMediaStream']=0x4]=_0xac619e(0x370),_0x3fe3e8[_0x3fe3e8[_0xac619e(0x375)]=0x5]=_0xac619e(0x375),_0x3fe3e8[_0x3fe3e8[_0xac619e(0x577)]=0x6]=_0xac619e(0x577),_0x3fe3e8[_0x3fe3e8[_0xac619e(0x626)]=0x7]=_0xac619e(0x626);}(_0x2d9739||(_0x2d9739={}));class _0x535d91 extends _0x48e12b{[_0x4d2937(0x20a)];[_0x4d2937(0x581)];[_0x4d2937(0x1ef)];[_0x4d2937(0x1cf)];[_0x4d2937(0x2d0)];[_0x4d2937(0x250)]=new Map();[_0x4d2937(0x501)]=new Map();[_0x4d2937(0x605)]=new Map();[_0x4d2937(0x460)]=new Map();[_0x4d2937(0x3b3)]=new Map();[_0x4d2937(0x380)];[_0x4d2937(0x458)]=_0x568458();['listenerUnsubscriber'];['debounceStats'];['writes']=0x0;[_0x4d2937(0x52d)]=0x0;constructor(_0x251daf,_0x1f09bc,_0x10d406,_0x2b7b33,_0x25a376,_0x57d150){const _0x430951=_0x4d2937;if(_0x430951(0x2d6)!=typeof _0x1f09bc)throw new _0x5374d2(_0x4346db[_0x430951(0x344)],_0x430951(0x539));super(_0x251daf,_0x1f09bc),this[_0x430951(0x20a)]=_0x10d406,this[_0x430951(0x581)]=_0x2b7b33,this['transactionService']=_0x25a376;const _0x37c805=_0x430951(0x635)+this['vendorId']+_0x430951(0x635)+this[_0x430951(0x20a)]+_0x430951(0x635)+_0x1f09bc;this[_0x430951(0x380)]=new _0x57d150(_0x37c805);}[_0x4d2937(0x25c)](){const _0x1053a6=_0x4d2937;return _0x18f6f1[_0x1053a6(0x52a)];}async['sync'](){const _0x31d418=_0x4d2937;try{const _0x2d5593=await this[_0x31d418(0x380)]['getOrCreateFolderHandle'](),_0x13da91=await _0x2d5593[_0x31d418(0x5e1)](_0x303618),_0x13cba4=await _0x13da91[_0x31d418(0x13e)](),_0x1ba2c8=await _0x13cba4[_0x31d418(0x28e)]();this[_0x31d418(0x2d0)]=_0x1ba2c8;}catch(_0x249c9f){}this['unsubscribeHandler']=this[_0x31d418(0x12d)](async(_0x32762c,_0x1de356)=>{const _0x52ab8f=_0x31d418;if(!(_0x1de356 instanceof File))try{if(_0x1de356[_0x52ab8f(0x311)]===_0x1050e1['Request'])return void this[_0x52ab8f(0x42d)](_0x1de356);this['handleTransactionPayload'](_0x1de356);}catch(_0xabab13){if(_0xabab13 instanceof _0xce6ead)throw _0xabab13;throw new _0xce6ead(_0xce6ead[_0x52ab8f(0x197)][_0x52ab8f(0x3ee)],{'payload':_0x1de356});}}),await this[_0x31d418(0x5aa)](),await this[_0x31d418(0x4e8)](),this[_0x31d418(0x5a0)]();}['destroy'](){const _0x380e78=_0x4d2937;this[_0x380e78(0x1cf)]?.(),clearTimeout(this[_0x380e78(0x2dc)]),delete this[_0x380e78(0x2dc)],super[_0x380e78(0x191)]();}[_0x4d2937(0x5ff)](){const _0x132d9d=_0x4d2937;this[_0x132d9d(0x2c5)]?.[_0x132d9d(0x104)]({'sourceId':_0x52b8cb,'messageType':_0x100c15[_0x132d9d(0x1c6)],'content':{'type':_0x163779[_0x132d9d(0x622)],'label':this['label']}});}[_0x4d2937(0x61d)](_0x2dfed8){const _0x5cf223=_0x4d2937;if(this[_0x5cf223(0x25f)])throw new _0x5374d2(_0x4346db['ObjectStoreAlreadySubscribed'],'Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed');this[_0x5cf223(0x25f)]=this[_0x5cf223(0x458)][_0x5cf223(0x61d)](_0x2dfed8);}[_0x4d2937(0x136)](){const _0x155f34=_0x4d2937;this[_0x155f34(0x25f)]&&this[_0x155f34(0x25f)]();}[_0x4d2937(0x104)](_0x204f1b){const _0x4c8839=_0x4d2937;switch(_0x204f1b[_0x4c8839(0x568)]){case _0xc23566[_0x4c8839(0x36a)]:return this[_0x4c8839(0x615)](_0x204f1b[_0x4c8839(0x51e)],_0x204f1b[_0x4c8839(0x4c5)]);case _0xc23566[_0x4c8839(0x3fd)]:return this[_0x4c8839(0x535)](_0x204f1b[_0x4c8839(0x4c5)]);case _0xc23566['Move']:return this[_0x4c8839(0x3c2)](_0x204f1b[_0x4c8839(0x4c5)],_0x204f1b[_0x4c8839(0x3b6)]);default:throw new _0x5374d2(_0x4346db[_0x4c8839(0x63e)],'Cannot\x20publish\x20payload:\x20'+_0x204f1b);}}async[_0x4d2937(0x290)](_0x2af416){const _0x111c88=_0x4d2937;try{const _0x10ed49=(0x0,_0x44b60e['v4'])(),_0x49a936=this['lastTransactionId'],_0x4c74db={'payloadType':_0x1050e1[_0x111c88(0x601)],'action':_0x3adf6c[_0x111c88(0x475)],'id':_0x10ed49,'parentId':_0x49a936,'path':_0x2af416};await this[_0x111c88(0x331)](_0x4c74db);const _0x3adc0e=await this['deleteObject'](_0x2af416);await this['send'](_0x4c74db),_0x4dbf9b[_0x111c88(0x4f2)](_0x4f1cb9[_0x111c88(0x3b7)],{'type':_0x111c88(0x290),'label':this['label'],'userId':this['ownerId'],'kind':_0x3adc0e,'path':_0x2af416}),this['writes']+=0x1,this['sendStats']();}catch(_0x5ab9f9){if(_0x5ab9f9 instanceof _0xce6ead)throw new _0x5374d2(_0x4346db[_0x111c88(0x143)],_0x111c88(0x2d1));throw new _0x5374d2(_0x4346db['ObjectStoreInvalidPath'],_0x111c88(0x650)+_0x2af416);}}async[_0x4d2937(0x447)](_0x4e0927){const _0x2fa4e3=_0x4d2937;_0x4dbf9b[_0x2fa4e3(0x4f2)](_0x4f1cb9[_0x2fa4e3(0x3b7)],{'type':'get','label':this[_0x2fa4e3(0x41b)],'userId':this[_0x2fa4e3(0x2bc)],'path':_0x4e0927}),this[_0x2fa4e3(0x52d)]+=0x1,this['sendStats']();try{return await this['objectStoreConnector'][_0x2fa4e3(0x447)](_0x4e0927);}catch(_0x3fee50){try{await this[_0x2fa4e3(0x380)][_0x2fa4e3(0x447)](_0x4e0927+_0x407823);}catch(_0x222b47){throw new _0x5374d2(_0x4346db[_0x2fa4e3(0x1da)],_0x2fa4e3(0x31b)+_0x4e0927);}throw new _0x5374d2(_0x4346db[_0x2fa4e3(0x143)],_0x2fa4e3(0x62f));}}async[_0x4d2937(0x60b)](_0x3dfdff,_0x135401=!0x1,_0x2e5cff=!0x1){const _0xfabe8d=_0x4d2937;_0x4dbf9b[_0xfabe8d(0x4f2)](_0x4f1cb9[_0xfabe8d(0x3b7)],{'type':_0xfabe8d(0x60b),'label':this[_0xfabe8d(0x41b)],'userId':this[_0xfabe8d(0x2bc)],'path':_0x3dfdff}),this[_0xfabe8d(0x52d)]+=0x1,this['sendStats']();try{const _0x200d52=await this[_0xfabe8d(0x380)][_0xfabe8d(0x60b)](_0x3dfdff,_0x135401);return _0x2e5cff?_0x200d52:this[_0xfabe8d(0xb2)](_0x200d52);}catch(_0x538cb4){throw new _0x5374d2(_0x4346db[_0xfabe8d(0x1da)],'Cannot\x20list\x20directory:\x20'+_0x3dfdff);}}[_0x4d2937(0x1de)](_0x3c1a7b){const _0xf6539f=_0x4d2937;for(const _0x1f0020 of this[_0xf6539f(0x501)][_0xf6539f(0xc2)]())this[_0xf6539f(0x4ad)](_0x1f0020,[_0x3c1a7b]);}['handleUserLeave'](_0x45b7a8){const _0x33fef6=_0x4d2937,_0xf8bb14=this[_0x33fef6(0x605)][_0x33fef6(0x447)](_0x45b7a8);if(_0xf8bb14){for(const [_0x5507c8,_0x27eccd]of _0xf8bb14[_0x33fef6(0xc2)]())this[_0x33fef6(0xd4)](_0x5507c8,_0x27eccd);this[_0x33fef6(0x605)][_0x33fef6(0x2e8)](_0x45b7a8);}}['cleanList'](_0x2aec48){const _0x9e863b=_0x4d2937;for(const _0x9ea290 of _0x2aec48)_0x9ea290['kind']===_0x26da86[_0x9e863b(0x3fd)]&&(_0x9ea290[_0x9e863b(0x287)]=this[_0x9e863b(0xb2)](_0x9ea290['entries']??[])),(_0x9ea290[_0x9e863b(0x1bc)][_0x9e863b(0x295)](_0x407823)||_0x9ea290['name']===_0x303618)&&_0x2aec48[_0x9e863b(0x23f)](_0x2aec48[_0x9e863b(0x456)](_0x9ea290),0x1);return _0x2aec48;}async['publishFile'](_0x54af0a,_0x551d58){const _0x1b29d5=_0x4d2937;try{const _0x1b909d=(0x0,_0x44b60e['v4'])(),_0x58ef2f=this[_0x1b29d5(0x2d0)],_0x4d8c4d=await _0x33a995(_0x54af0a);await this[_0x1b29d5(0x331)]({'payloadType':_0x1050e1[_0x1b29d5(0x601)],'action':_0x3adf6c[_0x1b29d5(0x5a4)],'id':_0x1b909d,'parentId':_0x58ef2f,'answererId':this[_0x1b29d5(0x2bc)],'name':_0x54af0a[_0x1b29d5(0x1bc)],'type':_0x54af0a[_0x1b29d5(0x5a5)],'path':_0x551d58??'/','checksum':_0x4d8c4d}),await this[_0x1b29d5(0x593)](_0x54af0a,_0x551d58),await this[_0x1b29d5(0x44e)](_0x54af0a,{'payloadType':_0x1050e1[_0x1b29d5(0x601)],'action':_0x3adf6c[_0x1b29d5(0x5a4)],'id':_0x1b909d,'parentId':_0x58ef2f,'answererId':this[_0x1b29d5(0x2bc)],'name':_0x54af0a[_0x1b29d5(0x1bc)],'type':_0x54af0a['type'],'path':_0x551d58??'/','checksum':_0x4d8c4d}),_0x4dbf9b[_0x1b29d5(0x4f2)](_0x4f1cb9[_0x1b29d5(0x3b7)],{'type':_0x1b29d5(0x104),'label':this['label'],'userId':this[_0x1b29d5(0x2bc)],'kind':_0x26da86['File'],'path':_0x551d58,'fileName':_0x54af0a[_0x1b29d5(0x1bc)],'fileType':_0x54af0a['type'],'size':_0x54af0a[_0x1b29d5(0x1b8)]}),this[_0x1b29d5(0x57d)]+=0x1,this[_0x1b29d5(0x5a0)]();}catch(_0x1093cc){if(_0x1093cc instanceof _0xce6ead)throw new _0x5374d2(_0x4346db[_0x1b29d5(0x143)],_0x1b29d5(0x62f));throw new _0x5374d2(_0x4346db[_0x1b29d5(0x1da)],_0x1b29d5(0x2c2)+_0x551d58);}}async['publishFolder'](_0x157835){const _0x5c833f=_0x4d2937;try{const _0x216f28=(0x0,_0x44b60e['v4'])(),_0x5327b8=this[_0x5c833f(0x2d0)],_0x3aebf0={'payloadType':_0x1050e1[_0x5c833f(0x601)],'action':_0x3adf6c['FolderCreate'],'id':_0x216f28,'parentId':_0x5327b8,'path':_0x157835};await this[_0x5c833f(0x331)](_0x3aebf0),await this['objectStoreConnector'][_0x5c833f(0x4fb)](_0x157835),await this['send'](_0x3aebf0),_0x4dbf9b['logServiceEvent'](_0x4f1cb9['ObjectStorage'],{'type':_0x5c833f(0x104),'label':this[_0x5c833f(0x41b)],'userId':this[_0x5c833f(0x2bc)],'kind':_0x26da86[_0x5c833f(0x3fd)],'path':_0x157835}),this[_0x5c833f(0x57d)]+=0x1,this[_0x5c833f(0x5a0)]();}catch(_0x16e7ad){if(_0x16e7ad instanceof _0xce6ead)throw new _0x5374d2(_0x4346db[_0x5c833f(0x143)],_0x5c833f(0x62f));throw new _0x5374d2(_0x4346db['ObjectStoreInvalidPath'],_0x5c833f(0x29e)+_0x157835);}}async['publishMove'](_0x32bd29,_0x38b15b){const _0x51d72e=_0x4d2937;try{const _0x1202f6=(0x0,_0x44b60e['v4'])(),_0x549389=this[_0x51d72e(0x2d0)],_0x182ed7={'payloadType':_0x1050e1[_0x51d72e(0x601)],'action':_0x3adf6c[_0x51d72e(0x531)],'id':_0x1202f6,'parentId':_0x549389,'path':_0x32bd29,'newPath':_0x38b15b};await this[_0x51d72e(0x331)](_0x182ed7);const _0x227625=await this['moveObject'](_0x32bd29,_0x38b15b);await this[_0x51d72e(0x4ad)](_0x182ed7),_0x4dbf9b[_0x51d72e(0x4f2)](_0x4f1cb9[_0x51d72e(0x3b7)],{'type':'move','label':this[_0x51d72e(0x41b)],'userId':this[_0x51d72e(0x2bc)],'kind':_0x227625,'path':_0x32bd29,'newPath':_0x38b15b}),this['writes']+=0x1,this['sendStats']();}catch(_0x7c7619){if(_0x7c7619 instanceof _0xce6ead)throw new _0x5374d2(_0x4346db[_0x51d72e(0x143)],'Object\x20store\x20is\x20not\x20in\x20sync');throw new _0x5374d2(_0x4346db[_0x51d72e(0x1da)],_0x51d72e(0xeb)+_0x32bd29);}}async[_0x4d2937(0x3ae)](_0x1c28e1){const _0x54f7c8=_0x4d2937;if(this[_0x54f7c8(0x2d0)]&&_0x1c28e1[_0x54f7c8(0xd3)]!==this['lastTransactionId']&&_0x1c28e1['id']!==this[_0x54f7c8(0x2d0)]){if(!_0x1c28e1[_0x54f7c8(0xd3)])throw new _0xce6ead(_0xce6ead[_0x54f7c8(0x197)][_0x54f7c8(0x3ee)]);this[_0x54f7c8(0x250)][_0x54f7c8(0x470)](_0x1c28e1[_0x54f7c8(0xd3)],_0x1c28e1);}else{try{await this[_0x54f7c8(0x44f)](_0x1c28e1);}catch(_0x8f2454){}await this['updateLastTransactionId'](_0x1c28e1['id']),await this[_0x54f7c8(0x165)](_0x1c28e1['id']);}}async[_0x4d2937(0x44f)](_0x1cd583){const _0x394fab=_0x4d2937;switch(_0x1cd583[_0x394fab(0x568)]){case _0x3adf6c[_0x394fab(0x5a4)]:await this[_0x394fab(0x57c)](_0x1cd583);break;case _0x3adf6c['FolderCreate']:await this['handleFolderCreate'](_0x1cd583);break;case _0x3adf6c[_0x394fab(0x531)]:await this['handleObjectMove'](_0x1cd583);break;case _0x3adf6c[_0x394fab(0x475)]:await this[_0x394fab(0x3f0)](_0x1cd583);break;default:throw new _0xce6ead(_0xce6ead[_0x394fab(0x197)][_0x394fab(0x3ee)],{'payload':_0x1cd583});}}async[_0x4d2937(0x165)](_0x5d5e83){const _0x4fb29c=_0x4d2937;if(this[_0x4fb29c(0x250)]['has'](_0x5d5e83)){const _0x39d859=this[_0x4fb29c(0x250)]['get'](_0x5d5e83);this['pendingSyncTransactions'][_0x4fb29c(0x2e8)](_0x5d5e83),await this[_0x4fb29c(0x3ae)](_0x39d859);}}async[_0x4d2937(0x42d)](_0x2ee6e1){const _0x5b0917=_0x4d2937;switch(_0x2ee6e1[_0x5b0917(0x568)]){case _0x3adf6c[_0x5b0917(0x530)]:return this[_0x5b0917(0xea)](_0x2ee6e1);case _0x3adf6c['RequestAccepted']:return this[_0x5b0917(0xf4)](_0x2ee6e1);case _0x3adf6c[_0x5b0917(0x199)]:return this['handleFileSync'](_0x2ee6e1);case _0x3adf6c['RequestFileWrite']:return this[_0x5b0917(0x57c)](_0x2ee6e1);default:throw new _0xce6ead(_0xce6ead[_0x5b0917(0x197)][_0x5b0917(0x3ee)],{'payload':_0x2ee6e1});}}async[_0x4d2937(0x57c)](_0x3dfa7b){const _0x54fee9=_0x4d2937;if(!_0x3dfa7b[_0x54fee9(0x1b4)]||void 0x0===_0x3dfa7b[_0x54fee9(0x288)]||!_0x3dfa7b[_0x54fee9(0x215)])return void await this[_0x54fee9(0x1b1)](_0x3dfa7b);const _0x5ab13f=_0x15f440(_0x3dfa7b[_0x54fee9(0x4c5)],_0x3dfa7b['name']);this[_0x54fee9(0x24d)][_0x54fee9(0x314)](_0x5ab13f)||(this[_0x54fee9(0x24d)][_0x54fee9(0x470)](_0x5ab13f,[]),await this['createPendingFileWrite'](_0x3dfa7b)),this['setPendingFileSyncingPayload'](_0x3dfa7b,_0x5ab13f);const _0x41e512=this[_0x54fee9(0x24d)]['get'](_0x5ab13f);if(_0x41e512[_0x3dfa7b['index']]=_0x3dfa7b[_0x54fee9(0x1b4)],_0x41e512[_0x54fee9(0x4a5)](_0x5811be=>_0x5811be)[_0x54fee9(0x27f)]<_0x3dfa7b[_0x54fee9(0x215)])return;const _0x3d543a=_0x2ca0cf(_0x41e512,_0x3dfa7b[_0x54fee9(0x1bc)],_0x3dfa7b[_0x54fee9(0x5a5)]);await this[_0x54fee9(0x593)](_0x3d543a,_0x3dfa7b[_0x54fee9(0x4c5)]),await this[_0x54fee9(0x441)](_0x3dfa7b),this[_0x54fee9(0x24d)][_0x54fee9(0x2e8)](_0x5ab13f),_0x4dbf9b[_0x54fee9(0x4f2)](_0x4f1cb9[_0x54fee9(0x3b7)],{'type':'sync','label':this['label'],'userId':this['ownerId'],'kind':_0x26da86[_0x54fee9(0x36a)],'path':_0x3dfa7b[_0x54fee9(0x4c5)],'fileName':_0x3dfa7b[_0x54fee9(0x1bc)],'fileType':_0x3dfa7b[_0x54fee9(0x5a5)],'size':_0x3d543a['size']});const _0x4b8dbe=this[_0x54fee9(0x460)][_0x54fee9(0x447)](_0x3dfa7b['path'])??[];for(const _0x423889 of _0x4b8dbe)await this[_0x54fee9(0x44f)](_0x423889);this[_0x54fee9(0x460)][_0x54fee9(0x2e8)](_0x3dfa7b[_0x54fee9(0x4c5)]),this[_0x54fee9(0x458)]['publish']({'event':_0x2d687a[_0x54fee9(0x5a4)],'payload':{'file':{'kind':_0x26da86[_0x54fee9(0x36a)],'path':_0x3dfa7b['path'],'type':_0x3d543a[_0x54fee9(0x5a5)],'size':_0x3d543a['size'],'name':_0x3dfa7b[_0x54fee9(0x1bc)],'pathName':_0x5ab13f}}});}async[_0x4d2937(0x184)](_0xf8184e){const _0x3683be=_0x4d2937;await this['objectStoreConnector']['getOrCreateFolderHandle'](_0xf8184e[_0x3683be(0x4c5)]);const [_0x201bc9,_0x4f8bfa]=_0x59c246(_0xf8184e['path']);this[_0x3683be(0x458)][_0x3683be(0x104)]({'event':_0x2d687a[_0x3683be(0x15b)],'payload':{'folder':{'kind':_0x26da86[_0x3683be(0x3fd)],'name':_0x4f8bfa,'path':_0x201bc9,'pathName':_0xf8184e['path']}}});}async[_0x4d2937(0x3f0)](_0x3d1cbe){const _0x1401d6=_0x4d2937;if(!this['shouldProcessTransaction'](_0x3d1cbe))return;const _0x463301=await this[_0x1401d6(0x3ce)](_0x3d1cbe[_0x1401d6(0x4c5)]),[_0x2315a1,_0x47c306]=_0x59c246(_0x3d1cbe[_0x1401d6(0x4c5)]);this['eventListener'][_0x1401d6(0x104)]({'event':_0x463301===_0x26da86[_0x1401d6(0x3fd)]?_0x2d687a[_0x1401d6(0x2af)]:_0x2d687a[_0x1401d6(0x369)],'payload':{'name':_0x47c306,'path':_0x2315a1,'pathName':_0x3d1cbe[_0x1401d6(0x4c5)]}});}async[_0x4d2937(0x540)](_0x4eefc0){const _0x1a9bc0=_0x4d2937;if(!this[_0x1a9bc0(0xcb)](_0x4eefc0))return this[_0x1a9bc0(0x3b3)][_0x1a9bc0(0x470)](_0x4eefc0[_0x1a9bc0(0x3b6)],this[_0x1a9bc0(0x3b3)][_0x1a9bc0(0x447)](_0x4eefc0[_0x1a9bc0(0x4c5)])??_0x4eefc0[_0x1a9bc0(0x4c5)]),void this[_0x1a9bc0(0x3b3)]['delete'](_0x4eefc0[_0x1a9bc0(0x4c5)]);this['pendingFilesRename'][_0x1a9bc0(0x2e8)](_0x4eefc0[_0x1a9bc0(0x4c5)]);const _0xbda5e3=await this['objectStoreConnector'][_0x1a9bc0(0x35c)](_0x4eefc0[_0x1a9bc0(0x4c5)],_0x4eefc0['newPath']),[_0x5edbab,_0x167de1]=_0x59c246(_0x4eefc0[_0x1a9bc0(0x4c5)]),[_0x4decee,_0x36e181]=_0x59c246(_0x4eefc0['newPath']);this['eventListener'][_0x1a9bc0(0x104)]({'event':_0xbda5e3===_0x26da86[_0x1a9bc0(0x3fd)]?_0x2d687a[_0x1a9bc0(0x44c)]:_0x2d687a[_0x1a9bc0(0x3be)],'payload':{'name':_0x36e181,'path':_0x4decee,'pathName':_0x4eefc0[_0x1a9bc0(0x3b6)],'oldName':_0x167de1,'oldPath':_0x5edbab,'oldPathName':_0x4eefc0[_0x1a9bc0(0x4c5)]}});}[_0x4d2937(0xcb)](_0x49ff4d){const _0x19b014=_0x4d2937,_0x1a57a3=this[_0x19b014(0x3b3)][_0x19b014(0x447)](_0x49ff4d[_0x19b014(0x4c5)])??_0x49ff4d[_0x19b014(0x4c5)];let _0x176f30=!0x1;for(const _0x48a36f of this[_0x19b014(0x24d)][_0x19b014(0x1e2)]())if(_0x48a36f[_0x19b014(0x1f9)](_0x1a57a3)){const _0x47fbbd=this['pendingFilesTransactions'][_0x19b014(0x447)](_0x48a36f)??[];_0x47fbbd[_0x19b014(0x415)](_0x49ff4d),this[_0x19b014(0x460)]['set'](_0x48a36f,_0x47fbbd),_0x176f30=!0x0;}return!_0x176f30;}async[_0x4d2937(0x331)](_0x104143){const _0x4363ae=_0x4d2937;if(!_0x104143['id'])throw new _0xce6ead(_0xce6ead[_0x4363ae(0x197)][_0x4363ae(0x3ee)],{'message':_0x4363ae(0x4e2)});await this[_0x4363ae(0x1ef)][_0x4363ae(0x5a8)](_0x104143,this[_0x4363ae(0x41b)],this[_0x4363ae(0x2d0)]),await this['updateLastTransactionId'](_0x104143['id']);}async['updateLastTransactionId'](_0x36c0bd){const _0x446e23=_0x4d2937;this[_0x446e23(0x2d0)]=_0x36c0bd;const _0x158482=new File([new Blob([this[_0x446e23(0x2d0)]])],_0x303618,{'type':_0x446e23(0x297)});await this[_0x446e23(0x593)](_0x158482,'/');}async['handleFileRequest'](_0x447aa5){const _0xf6b647=_0x4d2937;try{const _0x5c6700=await this[_0xf6b647(0x447)](_0x447aa5['path']+'/'+_0x447aa5[_0xf6b647(0x1bc)]);if(await _0x33a995(_0x5c6700)!==_0x447aa5[_0xf6b647(0x4cc)])return;_0x447aa5[_0xf6b647(0x123)]=this[_0xf6b647(0x2bc)],_0x447aa5[_0xf6b647(0x568)]=_0x3adf6c[_0xf6b647(0x46d)],await this[_0xf6b647(0x4ad)](_0x447aa5,[_0x447aa5['sourceId']]);}catch(_0x45a5f8){}}async['handleFileRequestAnswer'](_0x1b62e1){const _0x5874f6=_0x4d2937,_0xa341a9=_0x15f440(_0x1b62e1['path'],_0x1b62e1[_0x5874f6(0x1bc)]);if(!this[_0x5874f6(0x501)][_0x5874f6(0x314)](_0xa341a9))return;const _0x178c60=this[_0x5874f6(0x501)]['get'](_0xa341a9);_0x178c60[_0x5874f6(0x568)]=_0x3adf6c[_0x5874f6(0x199)];const _0x7cae82=_0x1b62e1[_0x5874f6(0x123)];if(!_0x7cae82)throw new _0xce6ead(_0xce6ead['codes'][_0x5874f6(0x3ee)],{'message':_0x5874f6(0x516)});this[_0x5874f6(0x501)][_0x5874f6(0x2e8)](_0xa341a9),this[_0x5874f6(0x605)][_0x5874f6(0x314)](_0x7cae82)||this[_0x5874f6(0x605)][_0x5874f6(0x470)](_0x7cae82,new Map()),this['pendingFilesSyncing']['get'](_0x7cae82)[_0x5874f6(0x470)](_0xa341a9,[_0x178c60,this[_0x5874f6(0x562)](_0x7cae82,_0xa341a9)]),_0x178c60[_0x5874f6(0x123)]=_0x7cae82,this['send'](_0x178c60,[_0x7cae82]);}async[_0x4d2937(0x628)](_0x5fef87){const _0x44766c=_0x4d2937,_0x27343d=_0x15f440(_0x5fef87[_0x44766c(0x4c5)],_0x5fef87['name']),_0x189da6=await this['get'](_0x27343d),_0x18014d={..._0x5fef87,'answererId':this['ownerId'],'action':_0x3adf6c[_0x44766c(0x560)]};await this[_0x44766c(0x44e)](_0x189da6,_0x18014d,[_0x5fef87[_0x44766c(0x59a)]]);}async['sendFile'](_0x1b82a8,_0xfa6e61,_0x3a5c02){const _0x36f047=_0x4d2937,_0x12153a=await _0x3aad2c(_0x1b82a8);for(const [_0x3ea8fc,_0x361bf2]of _0x12153a[_0x36f047(0x287)]()){const _0x301647={..._0xfa6e61,'type':_0x1b82a8['type'],'data':_0x361bf2,'index':_0x3ea8fc,'total':_0x12153a[_0x36f047(0x27f)]};this[_0x36f047(0x4ad)](_0x301647,_0x3a5c02);}}async[_0x4d2937(0x441)](_0x5de4d1){const _0x49bda3=_0x4d2937;try{const _0x4c4a76=_0x15f440(_0x5de4d1[_0x49bda3(0x4c5)],_0x5de4d1[_0x49bda3(0x1bc)]),_0x27dade=_0x4c4a76+_0x407823;await this[_0x49bda3(0x3ce)](_0x27dade);const [,_0x32b34a]=this['pendingFilesSyncing'][_0x49bda3(0x447)](_0x5de4d1['answererId'])?.[_0x49bda3(0x447)](_0x4c4a76)??[];_0x32b34a&&(clearTimeout(_0x32b34a),this[_0x49bda3(0x605)][_0x49bda3(0x447)](_0x5de4d1[_0x49bda3(0x123)])[_0x49bda3(0x2e8)](_0x4c4a76));}catch(_0x348f78){}}async[_0x4d2937(0x5aa)](){const _0x12661e=_0x4d2937,_0x4a632a=await this[_0x12661e(0x1ef)][_0x12661e(0x3c6)](this['label'],this[_0x12661e(0x2d0)]);for(const _0x1bbbfb of _0x4a632a)await this[_0x12661e(0x3ae)](_0x1bbbfb);}async[_0x4d2937(0x4e8)](){const _0x1c0630=_0x4d2937,_0x347bc0=await this[_0x1c0630(0x60b)]('/',!0x0,!0x0),_0x81d1b0=async _0x10f618=>{const _0x294e22=_0x1c0630;for(const _0x45cc68 of _0x10f618){if(_0x45cc68[_0x294e22(0x3ef)]===_0x26da86[_0x294e22(0x3fd)]){_0x45cc68['entries']&&_0x45cc68[_0x294e22(0x287)][_0x294e22(0x27f)]>0x0&&await _0x81d1b0(_0x45cc68['entries']);continue;}if(!_0x45cc68[_0x294e22(0x1bc)][_0x294e22(0x295)](_0x407823))continue;const _0x50a699=await this['get'](_0x45cc68[_0x294e22(0x386)]),_0x369969=await _0x50a699[_0x294e22(0x28e)](),_0x224f23=_0x45cc68['name'][_0x294e22(0x12a)](_0x407823,''),_0x32c708={'payloadType':_0x1050e1[_0x294e22(0x2c1)],'action':_0x3adf6c['RequestFile'],'sourceId':this[_0x294e22(0x2bc)],'type':'','path':_0x45cc68[_0x294e22(0x4c5)],'name':_0x224f23,'checksum':_0x369969},_0xb42621=_0x15f440(_0x45cc68[_0x294e22(0x4c5)],_0x224f23);this[_0x294e22(0x501)][_0x294e22(0x470)](_0xb42621,_0x32c708);}};await _0x81d1b0(_0x347bc0);}async[_0x4d2937(0x1b1)](_0x4b2b91){const _0x1e692a=_0x4d2937,_0x361670=new File([new Blob([_0x4b2b91[_0x1e692a(0x4cc)]])],''+_0x4b2b91[_0x1e692a(0x1bc)]+_0x407823,{'type':'text/plain'});await this[_0x1e692a(0x593)](_0x361670,_0x4b2b91[_0x1e692a(0x4c5)]);}[_0x4d2937(0x562)](_0x2b003b,_0x4044fa){const _0x5bf700=_0x4d2937,[_0x1083aa,_0x4d6991]=this[_0x5bf700(0x605)][_0x5bf700(0x447)](_0x2b003b)?.['get'](_0x4044fa)??[];return _0x4d6991&&clearTimeout(_0x4d6991),window[_0x5bf700(0x2ee)](()=>{const _0x5e08b1=_0x5bf700,[_0x14163b,_0x39d2e4]=this[_0x5e08b1(0x605)][_0x5e08b1(0x447)](_0x2b003b)[_0x5e08b1(0x447)](_0x4044fa);this[_0x5e08b1(0xd4)](_0x14163b,_0x39d2e4);},0xea60);}async[_0x4d2937(0xd4)](_0x216685,_0x2dbe50){const _0x222535=_0x4d2937;clearTimeout(_0x2dbe50),_0x216685[_0x222535(0x568)]=_0x3adf6c[_0x222535(0x530)],this[_0x222535(0x501)]['set'](_0x15f440(_0x216685[_0x222535(0x4c5)],_0x216685[_0x222535(0x1bc)]),_0x216685),this['send'](_0x216685);}[_0x4d2937(0x4ac)](_0x47f5c8,_0x1213fa){const _0x8dfdf5=_0x4d2937;this[_0x8dfdf5(0x605)][_0x8dfdf5(0x314)](_0x47f5c8[_0x8dfdf5(0x123)])||this['pendingFilesSyncing']['set'](_0x47f5c8['answererId'],new Map());const [_0x3b79aa]=this[_0x8dfdf5(0x605)][_0x8dfdf5(0x447)](_0x47f5c8['answererId'])[_0x8dfdf5(0x447)](_0x1213fa)??[{'payloadType':_0x1050e1[_0x8dfdf5(0x2c1)],'action':_0x3adf6c['RequestFile'],'sourceId':this[_0x8dfdf5(0x2bc)],'type':_0x47f5c8[_0x8dfdf5(0x5a5)],'name':_0x47f5c8[_0x8dfdf5(0x1bc)],'path':_0x47f5c8[_0x8dfdf5(0x4c5)],'checksum':_0x47f5c8[_0x8dfdf5(0x4cc)],'answererId':_0x47f5c8[_0x8dfdf5(0x123)]}];this[_0x8dfdf5(0x605)]['get'](_0x47f5c8[_0x8dfdf5(0x123)])['set'](_0x1213fa,[_0x3b79aa,this['getOrResetPendingFileTimeout'](_0x47f5c8[_0x8dfdf5(0x123)],_0x1213fa)]);}async[_0x4d2937(0x593)](_0x3ae6a6,_0xf34c9f){const _0x1f6c02=_0x4d2937;await this[_0x1f6c02(0x380)]['writeFile'](_0x3ae6a6,_0xf34c9f);}async[_0x4d2937(0x3ce)](_0x2fe93f){const _0x116741=_0x4d2937;try{return await this['objectStoreConnector'][_0x116741(0x3ce)](_0x2fe93f);}catch(_0x496085){return await this[_0x116741(0x380)][_0x116741(0x3ce)](_0x2fe93f+_0x407823);}}async[_0x4d2937(0x35c)](_0x46c46e,_0x3ba7d4){const _0x50bd5f=_0x4d2937;try{return await this['objectStoreConnector'][_0x50bd5f(0x35c)](_0x46c46e,_0x3ba7d4);}catch(_0x37523e){return await this[_0x50bd5f(0x380)]['moveObject'](_0x46c46e+_0x407823,_0x3ba7d4+_0x407823);}}['sendStats'](){const _0x321ddc=_0x4d2937;this[_0x321ddc(0x2dc)]&&clearTimeout(this[_0x321ddc(0x2dc)]),this[_0x321ddc(0x2dc)]=window[_0x321ddc(0x2ee)](async()=>{const _0x43ee0b=_0x321ddc;delete this[_0x43ee0b(0x2dc)];const _0x594a21=await this[_0x43ee0b(0x380)]['calculateSize']('/');this[_0x43ee0b(0x2c5)]?.[_0x43ee0b(0x104)]({'sourceId':_0x52b8cb,'messageType':_0x100c15[_0x43ee0b(0x1c6)],'content':{'type':_0x163779['ObjectStoreStats'],'label':this['label'],'stats':{'timestamp':Date[_0x43ee0b(0x28d)](),'storage':_0x594a21,'messagesSent':this[_0x43ee0b(0x10f)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x43ee0b(0x1ab)],'bytesReceived':this['bytesReceived'],'writes':this[_0x43ee0b(0x57d)],'reads':this[_0x43ee0b(0x52d)]}}}),_0x4dbf9b[_0x43ee0b(0x597)](_0x4f1cb9[_0x43ee0b(0x3b7)],this['label'],_0x594a21);},0x1388);}}class _0x3447f3 extends _0x1a6461{['mediaStream'];constructor(_0x56ec6b,_0x4b26ee,_0x315043){const _0x598931=_0x4d2937;super(_0x56ec6b,_0x4b26ee),this[_0x598931(0x5df)]=_0x315043;}['getContentType'](){const _0x3aa8d2=_0x4d2937;return _0x18f6f1[_0x3aa8d2(0x3e2)];}[_0x4d2937(0x1bb)](){const _0x51f96c=_0x4d2937;return this[_0x51f96c(0x5df)];}['getInternalStreamId'](){const _0x104839=_0x4d2937;return this[_0x104839(0x5df)]['id'];}}class _0x2faa17 extends _0x3447f3{[_0x4d2937(0x4ba)];[_0x4d2937(0xf3)];[_0x4d2937(0x523)];[_0x4d2937(0x299)]=_0x568458();constructor(_0xefd580,_0x30f31e,_0x22023d,_0x59bded,_0x1d6cf0){super(_0xefd580,_0x30f31e,_0x22023d),this['remoteId']=_0x59bded,this['params']=_0x1d6cf0;}['destroy'](){const _0x4d35c6=_0x4d2937;this[_0x4d35c6(0x633)](_0x4d35c6(0x608)),this[_0x4d35c6(0x633)](_0x4d35c6(0x47b)),super[_0x4d35c6(0x191)]();}['addTrack'](_0x180181){const _0x1b20cb=_0x4d2937;if(!this[_0x1b20cb(0x523)])throw new _0xce6ead(_0xce6ead[_0x1b20cb(0x197)][_0x1b20cb(0x3da)],{'label':this['label'],'ownerId':this[_0x1b20cb(0x2bc)],'remoteId':this[_0x1b20cb(0x4ba)]});this['topic'][_0x1b20cb(0x104)]({'sourceId':this[_0x1b20cb(0x2bc)],'content':{'action':_0x2056ac[_0x1b20cb(0x34a)],'track':_0x180181,'stream':this['mediaStream'],'priority':_0x2ea380[_0x1b20cb(0x5a2)],'params':this[_0x1b20cb(0x10b)](_0x180181[_0x1b20cb(0x3ef)],this[_0x1b20cb(0xf3)])}});}[_0x4d2937(0x633)](_0x28d121){const _0x151cc1=_0x4d2937,_0x51cd3a=this['getTrack'](_0x28d121);if(_0x51cd3a){if(!this['topic'])return null;this[_0x151cc1(0x523)][_0x151cc1(0x104)]({'sourceId':this[_0x151cc1(0x2bc)],'content':{'action':_0x2056ac[_0x151cc1(0x324)],'track':_0x51cd3a,'stream':this[_0x151cc1(0x5df)]}});}return _0x51cd3a;}['setPriority'](_0x46eedd){const _0x4ae9f9=_0x4d2937;if(!this[_0x4ae9f9(0x523)])throw new _0xce6ead(_0xce6ead[_0x4ae9f9(0x197)][_0x4ae9f9(0x3da)],{'label':this[_0x4ae9f9(0x41b)],'ownerId':this[_0x4ae9f9(0x2bc)],'remoteId':this['remoteId']});this[_0x4ae9f9(0x523)][_0x4ae9f9(0x104)]({'sourceId':this[_0x4ae9f9(0x2bc)],'content':{'action':_0x2056ac['Update'],'priority':_0x46eedd,'stream':this[_0x4ae9f9(0x5df)]}});}['subscribe']({trackKinds:_0x183d66,params:_0x1f77ac},_0x4833af){const _0x2e0124=_0x4d2937;if(!this['topic'])throw new _0xce6ead(_0xce6ead[_0x2e0124(0x197)][_0x2e0124(0x3da)],{'label':this[_0x2e0124(0x41b)],'ownerId':this[_0x2e0124(0x2bc)],'remoteId':this[_0x2e0124(0x4ba)]});for(const _0x1002bb of this[_0x2e0124(0x5df)]['getTracks']())_0x183d66[_0x2e0124(0x135)](_0x1002bb['kind'])&&this[_0x2e0124(0x523)][_0x2e0124(0x104)]({'sourceId':this['ownerId'],'content':{'action':_0x2056ac['Add'],'track':_0x1002bb,'stream':this[_0x2e0124(0x5df)],'priority':_0x4833af,'params':this['getInternalTrackParams'](_0x1002bb[_0x2e0124(0x3ef)],_0x1f77ac)}});}[_0x4d2937(0x5b8)]({params:_0x458e92}){const _0x4b4bf0=_0x4d2937;if(!this[_0x4b4bf0(0x523)])throw new _0xce6ead(_0xce6ead['codes'][_0x4b4bf0(0x3da)],{'label':this['label'],'ownerId':this[_0x4b4bf0(0x2bc)],'remoteId':this[_0x4b4bf0(0x4ba)]});for(const _0x3de070 of this[_0x4b4bf0(0x5df)]['getTracks']())this[_0x4b4bf0(0x523)][_0x4b4bf0(0x104)]({'sourceId':this[_0x4b4bf0(0x2bc)],'content':{'action':_0x2056ac[_0x4b4bf0(0x342)],'stream':this[_0x4b4bf0(0x5df)],'params':this[_0x4b4bf0(0x10b)](_0x3de070['kind'],_0x458e92)}});}[_0x4d2937(0x136)]({trackKinds:_0x26edbe}){const _0x4d2233=_0x4d2937;if(this[_0x4d2233(0x523)]){for(const _0x5e3a9e of this['mediaStream'][_0x4d2233(0xed)]())_0x26edbe[_0x4d2233(0x135)](_0x5e3a9e['kind'])&&this[_0x4d2233(0x523)][_0x4d2233(0x104)]({'sourceId':this['ownerId'],'content':{'action':_0x2056ac['Remove'],'stream':this['mediaStream'],'track':_0x5e3a9e}});}}[_0x4d2937(0x153)](_0x4e457b){const _0x1e7ffb=_0x4d2937;this[_0x1e7ffb(0x523)]=_0x4e457b;}['unregisterPublisher'](_0x5a60f0){const _0x290ed4=_0x4d2937;_0x5a60f0===this[_0x290ed4(0x523)]&&(delete this[_0x290ed4(0x523)],this[_0x290ed4(0x299)][_0x290ed4(0x104)]());}[_0x4d2937(0x2e2)](_0x5c2c8e){const _0x9b56d3=_0x4d2937;return this[_0x9b56d3(0x299)][_0x9b56d3(0x61d)](_0x5c2c8e);}[_0x4d2937(0x127)](_0x1038cf){const _0x36d296=_0x4d2937;return this[_0x36d296(0x5df)][_0x36d296(0xed)]()[_0x36d296(0x1d8)](_0x2bd235=>_0x2bd235['kind']===_0x1038cf)||null;}[_0x4d2937(0x10b)](_0x577e00,_0x9bb151){const _0x3ee206=_0x4d2937;let _0x231402;return _0x3ee206(0x47b)===_0x577e00&&_0x9bb151?.[_0x3ee206(0x47b)]&&'boolean'!=typeof _0x9bb151[_0x3ee206(0x47b)]&&(_0x231402={'kind':_0x3ee206(0x47b),..._0x9bb151[_0x3ee206(0x47b)]},_0x231402['resolution']=this[_0x3ee206(0x438)]()),_0x3ee206(0x608)===_0x577e00&&_0x9bb151?.[_0x3ee206(0x608)]&&_0x3ee206(0x131)!=typeof _0x9bb151[_0x3ee206(0x608)]&&(_0x231402={'kind':_0x3ee206(0x608),..._0x9bb151['audio']}),_0x231402;}[_0x4d2937(0x438)](){const _0xc1c00a=_0x4d2937;let _0x39705d={'width':0x0,'height':0x0};const _0x1419c1=this['mediaStream'][_0xc1c00a(0x1c4)]();if(_0x1419c1[_0xc1c00a(0x27f)]>0x0){const _0x412465=_0x1419c1[0x0][_0xc1c00a(0xb8)]();_0x412465[_0xc1c00a(0x586)]&&_0x412465[_0xc1c00a(0x33d)]&&(_0x39705d={'width':_0x412465[_0xc1c00a(0x586)],'height':_0x412465[_0xc1c00a(0x33d)]});}return _0x39705d;}}class _0x2844dd extends _0x3447f3{['priority']=_0x2ea380[_0x4d2937(0x5a2)];['trackEndedListeners']=new Map();[_0x4d2937(0x196)]=new Map();constructor(_0x3bd8a3,_0x46c5a9,_0x479ea7){const _0x5d7098=_0x4d2937;super(_0x3bd8a3,_0x46c5a9,_0x479ea7 instanceof MediaStream?_0x479ea7:_0x479ea7[_0x5d7098(0x5b3)]?_0x479ea7[_0x5d7098(0x5b3)]:_0x479ea7[_0x5d7098(0x12c)]()),this[_0x5d7098(0x5df)]['getTracks']()[_0x5d7098(0x304)](_0x1d35de=>this[_0x5d7098(0x3b0)](_0x1d35de)),_0x4dbf9b[_0x5d7098(0x4f2)](_0x4f1cb9[_0x5d7098(0x4c0)],{'type':_0x5d7098(0x104),'label':this[_0x5d7098(0x41b)],'userId':this[_0x5d7098(0x2bc)],'streamId':this['getInternalStreamId'](),'trackKinds':this[_0x5d7098(0x5df)][_0x5d7098(0xed)]()['map'](_0x215227=>_0x215227['kind'])});}['destroy'](){const _0x178257=_0x4d2937;this[_0x178257(0x196)][_0x178257(0x1b8)]>0x0&&(this[_0x178257(0x196)][_0x178257(0x304)](_0x515c32=>{const _0x389330=_0x178257;_0x515c32[_0x389330(0x1fe)](),_0x515c32[_0x389330(0x191)]();}),this['outgoingStreams'][_0x178257(0x348)]()),this[_0x178257(0x19d)][_0x178257(0x304)](_0x323711=>_0x323711()),super[_0x178257(0x191)]();}['publish'](_0x27de0a){const _0xc809c6=_0x4d2937;this['systemTopic'][_0xc809c6(0x104)]({'sourceId':this[_0xc809c6(0x2bc)],'destinationIds':_0x27de0a?[_0x27de0a]:void 0x0,'propagate':!0x0,'messageType':_0x100c15[_0xc809c6(0x1c6)],'content':{'type':_0x163779['PublishMediaStream'],'ownerId':this['ownerId'],'label':this['label'],'stream':{'streamId':this[_0xc809c6(0x5e8)](),'availableTrackKinds':this['mediaStream'][_0xc809c6(0xed)]()['map'](_0x8e9d42=>_0x8e9d42[_0xc809c6(0x3ef)])}}});}['unpublish'](){const _0x4f3cba=_0x4d2937;this[_0x4f3cba(0x2c5)][_0x4f3cba(0x104)]({'sourceId':this[_0x4f3cba(0x2bc)],'propagate':!0x0,'messageType':_0x100c15[_0x4f3cba(0x1c6)],'content':{'type':_0x163779['UnpublishMediaStream'],'ownerId':this[_0x4f3cba(0x2bc)],'label':this[_0x4f3cba(0x41b)]}}),this[_0x4f3cba(0x2c5)][_0x4f3cba(0x104)]({'sourceId':_0x52b8cb,'messageType':_0x100c15[_0x4f3cba(0x1c6)],'content':{'type':_0x163779['CloseMediaStream'],'label':this[_0x4f3cba(0x41b)]}}),_0x4dbf9b[_0x4f3cba(0x4f2)](_0x4f1cb9[_0x4f3cba(0x4c0)],{'type':_0x4f3cba(0x290),'label':this[_0x4f3cba(0x41b)],'userId':this[_0x4f3cba(0x2bc)],'streamId':this[_0x4f3cba(0x5e8)]()});}[_0x4d2937(0x330)](){const _0x54759=_0x4d2937;return this[_0x54759(0xec)];}[_0x4d2937(0x13d)](_0x157364){const _0x23c250=_0x4d2937;this['priority']=_0x157364,this[_0x23c250(0x196)]['forEach'](_0x188634=>_0x188634[_0x23c250(0x13d)](_0x157364));}[_0x4d2937(0x111)](_0x4d4211,_0x3173ff){const _0x2388bd=_0x4d2937;if(!this[_0x2388bd(0x196)][_0x2388bd(0x314)](_0x4d4211)){const _0x17db17=new _0x2faa17(this[_0x2388bd(0x2bc)],this['label'],this[_0x2388bd(0x5df)],_0x4d4211,_0x3173ff),_0x31b377=_0x17db17[_0x2388bd(0x2e2)](()=>{const _0x900501=_0x2388bd;_0x31b377(),this[_0x900501(0x196)][_0x900501(0x447)](_0x4d4211)?.[_0x900501(0x191)](),this[_0x900501(0x196)][_0x900501(0x2e8)](_0x4d4211);});this[_0x2388bd(0x196)][_0x2388bd(0x470)](_0x4d4211,_0x17db17),_0x17db17[_0x2388bd(0xfc)](this['systemTopic']);}return this[_0x2388bd(0x196)][_0x2388bd(0x447)](_0x4d4211);}[_0x4d2937(0x477)](){const _0xf50b92=_0x4d2937;return this[_0xf50b92(0x5df)]['id'];}[_0x4d2937(0x449)](_0x31543a){const _0x54fbc6=_0x4d2937;this[_0x54fbc6(0x2c5)]['publish']({'sourceId':_0x52b8cb,'messageType':_0x100c15[_0x54fbc6(0x1c6)],'content':{'type':_0x163779[_0x54fbc6(0x2df)],'label':this[_0x54fbc6(0x41b)],'trackKinds':[_0x31543a['kind']]}});}['setupTrackEndedListeners'](_0x1bbb2b){const _0x2600c0=_0x4d2937,_0x588f35=()=>this[_0x2600c0(0x449)](_0x1bbb2b);_0x1bbb2b['addEventListener']('ended',_0x588f35),_0x1bbb2b[_0x2600c0(0x39f)](_0x2600c0(0xd0),_0x588f35),this['trackEndedListeners'][_0x2600c0(0x470)](_0x1bbb2b[_0x2600c0(0x3ef)],()=>{const _0x47f2b0=_0x2600c0;_0x1bbb2b[_0x47f2b0(0x54e)](_0x47f2b0(0x571),_0x588f35),_0x1bbb2b[_0x47f2b0(0x54e)]('mute',_0x588f35),this[_0x47f2b0(0x19d)]['delete'](_0x1bbb2b['kind']);});}}class _0x2ee950 extends _0x2844dd{[_0x4d2937(0x5d8)];[_0x4d2937(0x2cf)]=[];[_0x4d2937(0x5be)];[_0x4d2937(0x4bb)];[_0x4d2937(0x2b4)];[_0x4d2937(0x430)];['canvas'];[_0x4d2937(0x419)];[_0x4d2937(0x1f8)];constructor(_0x7a0224,_0x114879,_0x44478c,_0x456e33,_0x2d636f){const _0x5493a6=_0x4d2937;if(super(_0x7a0224,_0x114879,_0x44478c),this[_0x5493a6(0x5d8)]=_0x2d636f,this[_0x5493a6(0x5be)]=this[_0x5493a6(0x5df)],this[_0x5493a6(0x430)]=document[_0x5493a6(0x2db)](_0x5493a6(0x47b)),this['sourceVideo'][_0x5493a6(0x448)]=!0x0,this[_0x5493a6(0x430)]['muted']=!0x0,this[_0x5493a6(0x430)][_0x5493a6(0x5b3)]=this['clientStream'],this['sourceVideo'][_0x5493a6(0x47f)](),this['sourceVideo'][_0x5493a6(0x312)]=()=>{const _0x9283d7=_0x5493a6;this[_0x9283d7(0x430)][_0x9283d7(0x219)]();},this['canvas']=document['createElement'](_0x5493a6(0xe7)),this[_0x5493a6(0x419)]=this[_0x5493a6(0xe7)]['getContext']('2d'),this['mediaStream']=this[_0x5493a6(0xe7)][_0x5493a6(0x12c)](_0x456e33),this[_0x5493a6(0x2b4)]=this[_0x5493a6(0x5d8)][_0x5493a6(0x133)](),this['clientStream'][_0x5493a6(0x2ae)]()[_0x5493a6(0x27f)]>0x0){const _0xa01c06=this[_0x5493a6(0x5be)]['getAudioTracks']()[0x0];this[_0x5493a6(0x4bb)]=this[_0x5493a6(0x5d8)][_0x5493a6(0x163)](new MediaStream([_0xa01c06])),this[_0x5493a6(0x4bb)][_0x5493a6(0x411)](this[_0x5493a6(0x2b4)]);}const _0x5d15b3=this[_0x5493a6(0x2b4)][_0x5493a6(0x354)][_0x5493a6(0xed)]()[0x0];this[_0x5493a6(0x5df)][_0x5493a6(0x1e1)](_0x5d15b3),this['interval']=setInterval(()=>{const _0x1ef68c=_0x5493a6;this['canvas']['width']=this[_0x1ef68c(0x430)]['videoWidth'],this[_0x1ef68c(0xe7)][_0x1ef68c(0x33d)]=this['sourceVideo'][_0x1ef68c(0x4e4)],this[_0x1ef68c(0x430)]['videoWidth']?(0x0!==this[_0x1ef68c(0x5be)][_0x1ef68c(0x1c4)]()['length']&&this[_0x1ef68c(0x5be)][_0x1ef68c(0x1c4)]()[0x0][_0x1ef68c(0x34c)]?this[_0x1ef68c(0x5df)][_0x1ef68c(0x1c4)]()[0x0][_0x1ef68c(0x34c)]=!0x0:this[_0x1ef68c(0x5df)][_0x1ef68c(0x1c4)]()[0x0][_0x1ef68c(0x34c)]=!0x1,0x0!==this[_0x1ef68c(0x5be)][_0x1ef68c(0x2ae)]()['length']&&this[_0x1ef68c(0x5be)]['getAudioTracks']()[0x0][_0x1ef68c(0x34c)]?this[_0x1ef68c(0x5df)][_0x1ef68c(0x2ae)]()[0x0][_0x1ef68c(0x34c)]=!0x0:this[_0x1ef68c(0x5df)]['getAudioTracks']()[0x0][_0x1ef68c(0x34c)]=!0x1,this[_0x1ef68c(0x419)][_0x1ef68c(0x2b3)](this[_0x1ef68c(0x430)],0x0,0x0)):this[_0x1ef68c(0x419)][_0x1ef68c(0x27e)](0x0,0x0,this['canvas'][_0x1ef68c(0x586)],this[_0x1ef68c(0xe7)][_0x1ef68c(0x33d)]);},0x3e8/_0x456e33);}['destroy'](){const _0x42f150=_0x4d2937;clearInterval(this[_0x42f150(0x1f8)]),this[_0x42f150(0x430)][_0x42f150(0x3a0)](),this[_0x42f150(0xe7)][_0x42f150(0x3a0)](),this['audioSource']?.['disconnect'](),this[_0x42f150(0x2b4)]['disconnect'](),this['mediaStream']['getTracks']()['forEach'](_0x196e38=>{const _0x557398=_0x42f150;_0x196e38[_0x557398(0x110)](),this[_0x557398(0x5df)][_0x557398(0x633)](_0x196e38);}),super[_0x42f150(0x191)]();}[_0x4d2937(0x1e1)](_0x3bf829){const _0x43b304=_0x4d2937,_0xc275f3=this[_0x43b304(0x127)](_0x3bf829[_0x43b304(0x3ef)]);_0xc275f3&&this[_0x43b304(0x633)](_0xc275f3),'audio'!==_0x3bf829[_0x43b304(0x3ef)]?('video'===_0x3bf829[_0x43b304(0x3ef)]&&this['addVideoTrack'](_0x3bf829),this[_0x43b304(0x3b0)](_0x3bf829)):this['addAudioTrack'](_0x3bf829);}[_0x4d2937(0x633)](_0x2e7089){const _0x1804a8=_0x4d2937,_0x47baaf=this['getTrackFromParam'](_0x2e7089);return _0x47baaf&&('audio'===_0x47baaf[_0x1804a8(0x3ef)]&&(this[_0x1804a8(0x4bb)]?.['disconnect'](),this[_0x1804a8(0x4bb)]=void 0x0),this[_0x1804a8(0x19d)][_0x1804a8(0x447)](_0x47baaf['kind'])?.(),this[_0x1804a8(0x5be)][_0x1804a8(0x633)](_0x47baaf)),_0x47baaf;}[_0x4d2937(0x32b)](_0x34de5b){const _0x1e027d=_0x4d2937;this['removeTrack'](_0x34de5b[_0x1e027d(0x3ef)]),this[_0x1e027d(0x1e1)](_0x34de5b);}['setTransformations'](_0x5d5a92){const _0x2b64a9=_0x4d2937;this[_0x2b64a9(0x2cf)]=_0x5d5a92;}['getTrack'](_0x1dc437){const _0x5f375f=_0x4d2937;return this['clientStream']['getTracks']()['find'](_0x4c0271=>_0x4c0271[_0x5f375f(0x3ef)]===_0x1dc437)||null;}[_0x4d2937(0x247)](_0x166aee){const _0x487455=_0x4d2937;return _0x487455(0x2d6)==typeof _0x166aee?this['getTrack'](_0x166aee):_0x166aee;}[_0x4d2937(0x2b0)](_0x151e87){const _0x42e884=_0x4d2937;_0x42e884(0x1e4)===this['audioContext']['state']&&this[_0x42e884(0x5d8)]['resume'](),this[_0x42e884(0x5be)][_0x42e884(0x1e1)](_0x151e87),this['audioSource']=this[_0x42e884(0x5d8)][_0x42e884(0x163)](this['clientStream']),this[_0x42e884(0x4bb)][_0x42e884(0x411)](this['audioDestination']);}[_0x4d2937(0x318)](_0x5e1ebe){const _0x304c23=_0x4d2937;this[_0x304c23(0x5be)][_0x304c23(0x1e1)](_0x5e1ebe),this[_0x304c23(0x430)]['load']();}}class _0x51b10f extends _0x2844dd{}class _0x1505fe extends _0x48e12b{[_0x4d2937(0x1cf)]=new Map();['debounceStats'];constructor(_0x5b2e55,_0xccee5c){const _0x4d6c12=_0x4d2937;if(_0x4d6c12(0x2d6)!=typeof _0xccee5c)throw new _0x5374d2(_0x4346db[_0x4d6c12(0x5a3)],_0x4d6c12(0x1a9));super(_0x5b2e55,_0xccee5c);}[_0x4d2937(0x25c)](){const _0x2570e3=_0x4d2937;return _0x18f6f1[_0x2570e3(0x126)];}[_0x4d2937(0x104)](_0x36a7cf,_0x7700e6){const _0x4b28a3=_0x4d2937;_0x4dbf9b['log'](_0x37cafd[_0x4b28a3(0x126)],_0x4b28a3(0x40b),this[_0x4b28a3(0x2bc)],_0x36a7cf,_0x7700e6),_0x4dbf9b[_0x4b28a3(0x4f2)](_0x4f1cb9[_0x4b28a3(0x126)],{'type':'publish','label':this['label'],'userId':this[_0x4b28a3(0x2bc)],'remoteIds':_0x7700e6??[],'contentType':_0x36a7cf instanceof File?_0x18f6f1[_0x4b28a3(0x36a)]:_0x18f6f1[_0x4b28a3(0x1c3)],'size':_0x36a7cf instanceof File?_0x36a7cf[_0x4b28a3(0x1b8)]:JSON[_0x4b28a3(0x305)](_0x36a7cf)[_0x4b28a3(0x27f)]}),this[_0x4b28a3(0x5a0)](),this[_0x4b28a3(0x4ad)](_0x36a7cf,_0x7700e6);}[_0x4d2937(0x61d)](_0x1a8708,_0x4456f2){const _0x502fb0=_0x4d2937;if(this[_0x502fb0(0x1cf)][_0x502fb0(0x314)](_0x1a8708))throw new _0x5374d2(_0x4346db['PubSubTopicAlreadySubscribed'],_0x502fb0(0x508));this['unsubscribeHandler'][_0x502fb0(0x470)](_0x1a8708,this[_0x502fb0(0x12d)]((_0x4a9328,_0x2408b1)=>{const _0x20881e=_0x502fb0;_0x20881e(0x1b4)===_0x1a8708&&_0x2408b1 instanceof File||!(_0x20881e(0x51e)!==_0x1a8708||_0x2408b1 instanceof File)||(_0x4dbf9b['log'](_0x37cafd[_0x20881e(0x126)],_0x20881e(0x236),this['ownerId'],_0x4a9328,_0x2408b1),_0x4dbf9b[_0x20881e(0x4f2)](_0x4f1cb9['PubSub'],{'type':_0x20881e(0x61d),'label':this[_0x20881e(0x41b)],'userId':this[_0x20881e(0x2bc)],'remoteId':_0x4a9328,'contentType':_0x1a8708,'size':_0x2408b1 instanceof File?_0x2408b1[_0x20881e(0x1b8)]:JSON['stringify'](_0x2408b1)[_0x20881e(0x27f)]}),this[_0x20881e(0x5a0)](),_0x4456f2(_0x4a9328,_0x2408b1));}));}['unsubscribe'](_0xdc44b3){const _0x4ea23e=_0x4d2937;this[_0x4ea23e(0x1cf)][_0x4ea23e(0x447)](_0xdc44b3)?.(),this['unsubscribeHandler'][_0x4ea23e(0x2e8)](_0xdc44b3);}['destroy'](){const _0x525864=_0x4d2937;this['unsubscribeHandler'][_0x525864(0x304)](_0x4a6c79=>_0x4a6c79()),clearTimeout(this[_0x525864(0x2dc)]),delete this[_0x525864(0x2dc)],super[_0x525864(0x191)]();}[_0x4d2937(0x5ff)](){const _0x6feeb7=_0x4d2937;this[_0x6feeb7(0x2c5)]?.[_0x6feeb7(0x104)]({'sourceId':_0x52b8cb,'messageType':_0x100c15['Content'],'content':{'type':_0x163779[_0x6feeb7(0x4d8)],'label':this[_0x6feeb7(0x41b)]}});}[_0x4d2937(0x5a0)](){const _0x3b7e13=_0x4d2937;this[_0x3b7e13(0x2dc)]&&clearTimeout(this['debounceStats']),this[_0x3b7e13(0x2dc)]=window[_0x3b7e13(0x2ee)](()=>{const _0x113213=_0x3b7e13;this[_0x113213(0x2c5)]?.[_0x113213(0x104)]({'sourceId':_0x52b8cb,'messageType':_0x100c15[_0x113213(0x1c6)],'content':{'type':_0x163779[_0x113213(0x162)],'label':this[_0x113213(0x41b)],'stats':{'timestamp':Date[_0x113213(0x28d)](),'storage':0x0,'messagesSent':this[_0x113213(0x10f)],'messagesReceived':this[_0x113213(0x4ff)],'bytesSent':this[_0x113213(0x1ab)],'bytesReceived':this['bytesReceived'],'writes':0x0,'reads':0x0}}});},0x1388);}}class _0x18d4d5 extends _0x3447f3{['localId'];[_0x4d2937(0x302)];['availableTrackKinds'];[_0x4d2937(0x1cf)];[_0x4d2937(0x62c)];[_0x4d2937(0xdd)];[_0x4d2937(0x196)]=new Map();[_0x4d2937(0x442)];['subscribedTracks']=new Set();[_0x4d2937(0x18c)];[_0x4d2937(0x59b)]=_0x412493();[_0x4d2937(0x19d)]=new Map();constructor(_0x19cd6c,_0x406d3a,_0x155cf3,_0x272935,_0x2e79d3){const _0x1f88b1=_0x4d2937;super(_0x406d3a,_0x155cf3,new MediaStream()),this['localId']=_0x19cd6c,this[_0x1f88b1(0x302)]=_0x272935,this[_0x1f88b1(0xd6)]=_0x2e79d3,this['mediaStream'][_0x1f88b1(0xed)]()[_0x1f88b1(0x304)](_0x281cad=>this[_0x1f88b1(0x3b0)](_0x281cad));}[_0x4d2937(0x191)](){const _0x35caf4=_0x4d2937;this[_0x35caf4(0x196)][_0x35caf4(0x1b8)]>0x0&&(this[_0x35caf4(0x196)]['forEach'](_0xef591c=>{const _0x178f73=_0x35caf4;_0xef591c['unregisterSystemPublisher'](),_0xef591c[_0x178f73(0x191)]();}),this[_0x35caf4(0x196)][_0x35caf4(0x348)]()),this[_0x35caf4(0x19d)][_0x35caf4(0x304)](_0x560d46=>_0x560d46()),this[_0x35caf4(0x5df)][_0x35caf4(0xed)]()[_0x35caf4(0x304)](_0x30a64b=>this['mediaStream'][_0x35caf4(0x633)](_0x30a64b)),this[_0x35caf4(0xdd)]&&(clearTimeout(this[_0x35caf4(0xdd)]),delete this[_0x35caf4(0xdd)]),this[_0x35caf4(0x62c)]?.(),super['destroy']();}[_0x4d2937(0x56b)](_0x5d8649){const _0x33cfff=_0x4d2937;this[_0x33cfff(0x1cf)]=_0x5d8649[_0x33cfff(0x61d)](({content:_0x311883})=>{const _0x41e6bf=_0x33cfff;switch(_0x311883[_0x41e6bf(0x568)]){case _0x2056ac[_0x41e6bf(0x20f)]:if(_0x4dbf9b[_0x41e6bf(0x5f2)](_0x37cafd[_0x41e6bf(0x194)],_0x41e6bf(0x148),this['localId'],this[_0x41e6bf(0x18c)]),_0x311883[_0x41e6bf(0x354)]['id']!==this[_0x41e6bf(0x302)]||_0x311883[_0x41e6bf(0x18c)]!==this[_0x41e6bf(0x18c)])return;this[_0x41e6bf(0x633)](_0x311883[_0x41e6bf(0x16b)][_0x41e6bf(0x3ef)]),this[_0x41e6bf(0x5df)][_0x41e6bf(0x1e1)](_0x311883['track']);for(const [_0x22f6f4,_0xd58b1f]of this[_0x41e6bf(0x196)]['entries']())try{_0xd58b1f['addTrack'](_0x311883['track']);}catch(_0x4e0425){_0xd58b1f[_0x41e6bf(0x191)](),this['outgoingStreams'][_0x41e6bf(0x2e8)](_0x22f6f4);}this['setupTrackEndedListeners'](_0x311883[_0x41e6bf(0x16b)]),this[_0x41e6bf(0x268)](),_0x41e6bf(0x47b)===_0x311883['track'][_0x41e6bf(0x3ef)]&&this[_0x41e6bf(0x442)]&&(this[_0x41e6bf(0x5df)]['active']?setTimeout(()=>this[_0x41e6bf(0x442)]?.[_0x41e6bf(0x219)](),0x0):setTimeout(()=>this['renderElement']?.[_0x41e6bf(0x47f)](),0x0),this[_0x41e6bf(0x62e)]());break;case _0x2056ac[_0x41e6bf(0x223)]:if(_0x311883[_0x41e6bf(0x354)]['id']!==this['internalId']||_0x311883['providerId']!==this[_0x41e6bf(0x18c)])return;this[_0x41e6bf(0x633)](_0x311883[_0x41e6bf(0x16b)]['kind']),this[_0x41e6bf(0x442)]&&_0x41e6bf(0x47b)===_0x311883[_0x41e6bf(0x16b)]['kind']&&(this[_0x41e6bf(0x62c)]?.(),this[_0x41e6bf(0x5df)][_0x41e6bf(0xed)]()[_0x41e6bf(0x27f)]>0x0?this[_0x41e6bf(0x442)][_0x41e6bf(0x47f)]():this[_0x41e6bf(0x442)][_0x41e6bf(0x5b3)]=null);}});}[_0x4d2937(0x5f9)](){const _0x10d1e8=_0x4d2937;this[_0x10d1e8(0x1cf)]?.(),this[_0x10d1e8(0x19d)][_0x10d1e8(0x304)](_0x3d3aaa=>_0x3d3aaa()),delete this[_0x10d1e8(0x1cf)];}['getInternalStreamId'](){return this['internalId'];}['setInternalId'](_0x2ad472){const _0x320bb2=_0x4d2937;this[_0x320bb2(0x302)]=_0x2ad472;}[_0x4d2937(0x333)](){return this['availableTrackKinds'];}[_0x4d2937(0x103)](_0x15f4bb){const _0x5b9543=_0x4d2937;for(const _0x9af11 of _0x15f4bb||this[_0x5b9543(0xd6)])if(!this[_0x5b9543(0x5df)][_0x5b9543(0xed)]()[_0x5b9543(0x1d8)](_0x474d8b=>_0x474d8b[_0x5b9543(0x3ef)]===_0x9af11))return!0x1;return!0x0;}[_0x4d2937(0x438)](){const _0x1ccb5a=_0x4d2937;let _0x5803af={'width':0x0,'height':0x0};const _0x14adc8=this[_0x1ccb5a(0x5df)][_0x1ccb5a(0x1c4)]();if(_0x14adc8[_0x1ccb5a(0x27f)]>0x0){const _0x230dd5=_0x14adc8[0x0][_0x1ccb5a(0xb8)]();_0x230dd5[_0x1ccb5a(0x586)]&&_0x230dd5[_0x1ccb5a(0x33d)]&&(_0x5803af={'width':_0x230dd5[_0x1ccb5a(0x586)],'height':_0x230dd5[_0x1ccb5a(0x33d)]});}return _0x5803af;}[_0x4d2937(0x4ae)](_0x5c4f0c){const _0xd2048c=_0x4d2937;for(const _0x2361ec of _0x5c4f0c)if(!this[_0xd2048c(0x382)][_0xd2048c(0x314)](_0x2361ec))return!0x1;return!0x0;}[_0x4d2937(0x111)](_0x262be9,_0x4886bd){const _0xa8cd37=_0x4d2937;if(!this[_0xa8cd37(0x196)]['has'](_0x262be9)){const _0x2e7133=new _0x2faa17(this[_0xa8cd37(0x2bc)],this[_0xa8cd37(0x41b)],this[_0xa8cd37(0x5df)],_0x262be9,_0x4886bd),_0x255207=_0x2e7133['onUnregisterPublisher'](()=>{const _0x57be7d=_0xa8cd37;_0x255207(),this[_0x57be7d(0x196)][_0x57be7d(0x447)](_0x262be9)?.[_0x57be7d(0x191)](),this[_0x57be7d(0x196)][_0x57be7d(0x2e8)](_0x262be9);});this[_0xa8cd37(0x196)][_0xa8cd37(0x470)](_0x262be9,_0x2e7133),_0x2e7133[_0xa8cd37(0xfc)](this[_0xa8cd37(0x2c5)]);}return this['outgoingStreams'][_0xa8cd37(0x447)](_0x262be9);}[_0x4d2937(0x477)](){return this['mediaStream']['id'];}[_0x4d2937(0x330)](){const _0x1a5c6a=_0x4d2937;return _0x2ea380[_0x1a5c6a(0x5a2)];}[_0x4d2937(0x584)](){const _0x108332=_0x4d2937;return Array[_0x108332(0x474)](this['subscribedTracks']);}[_0x4d2937(0x61d)](_0x31220f){const _0x17ab47=_0x4d2937;let _0x4913f1=[];_0x31220f?(_0x17ab47(0x221)!=typeof _0x31220f[_0x17ab47(0x47b)]||_0x31220f[_0x17ab47(0x47b)]['renderElement']instanceof HTMLVideoElement||!this['renderElement']||(_0x31220f[_0x17ab47(0x47b)]={'renderElement':this['renderElement']}),_0x4bb63e(_0x31220f),_0x31220f['video']&&(_0x4913f1[_0x17ab47(0x415)](_0x17ab47(0x47b)),_0x17ab47(0x131)!=typeof _0x31220f[_0x17ab47(0x47b)]&&_0x31220f[_0x17ab47(0x47b)][_0x17ab47(0x442)]&&(this[_0x17ab47(0x442)]=_0x31220f[_0x17ab47(0x47b)][_0x17ab47(0x442)],_0x31220f['video'][_0x17ab47(0x445)]||(_0x31220f[_0x17ab47(0x47b)]['maxResolution']={'width':this[_0x17ab47(0x442)][_0x17ab47(0x327)],'height':this['renderElement'][_0x17ab47(0x528)]}),delete _0x31220f[_0x17ab47(0x47b)]['renderElement'])),_0x31220f['audio']&&_0x4913f1[_0x17ab47(0x415)](_0x17ab47(0x608))):_0x4913f1=this['getAvailableTrackKinds'](),this[_0x17ab47(0x4ae)](_0x4913f1)||(_0x4913f1[_0x17ab47(0x304)](_0x439d93=>this['subscribedTracks']['add'](_0x439d93)),this[_0x17ab47(0x2c5)][_0x17ab47(0x104)]({'sourceId':_0x52b8cb,'messageType':_0x100c15[_0x17ab47(0x1c6)],'content':{'type':_0x163779['SubscribeMediaStream'],'label':this[_0x17ab47(0x41b)],'ownerId':this['ownerId'],'trackKinds':_0x4913f1,'params':_0x31220f}}),_0x4dbf9b[_0x17ab47(0x4f2)](_0x4f1cb9[_0x17ab47(0x4c0)],{'type':_0x17ab47(0x61d),'label':this['label'],'userId':this[_0x17ab47(0x201)],'sourceId':this[_0x17ab47(0x2bc)],'streamId':this['internalId'],'trackKinds':_0x4913f1}));}[_0x4d2937(0x5b8)](_0x362c12){const _0x441ed6=_0x4d2937;_0x4bb63e(_0x362c12),this[_0x441ed6(0xdd)]&&clearTimeout(this['updateDebounce']),this[_0x441ed6(0xdd)]=setTimeout(()=>{const _0x4ffbcb=_0x441ed6;delete this[_0x4ffbcb(0xdd)],this[_0x4ffbcb(0x2c5)]['publish']({'sourceId':_0x52b8cb,'messageType':_0x100c15[_0x4ffbcb(0x1c6)],'content':{'type':_0x163779[_0x4ffbcb(0x298)],'label':this[_0x4ffbcb(0x41b)],'ownerId':this['ownerId'],'params':_0x362c12}});},0x1f4);}[_0x4d2937(0x136)](_0x107dbd){const _0x2e4e57=_0x4d2937;_0x107dbd||(_0x107dbd=this[_0x2e4e57(0x333)]()),(_0x107dbd=Array[_0x2e4e57(0x3e7)](_0x107dbd)?_0x107dbd:[_0x107dbd])[_0x2e4e57(0x304)](_0x1e9b6=>this['subscribedTracks'][_0x2e4e57(0x2e8)](_0x1e9b6)),this[_0x2e4e57(0x2c5)]['publish']({'sourceId':_0x52b8cb,'messageType':_0x100c15[_0x2e4e57(0x1c6)],'content':{'type':_0x163779[_0x2e4e57(0x2cc)],'label':this[_0x2e4e57(0x41b)],'ownerId':this[_0x2e4e57(0x2bc)],'trackKinds':_0x107dbd,'remainingTracks':this['subscribedTracks'][_0x2e4e57(0x1b8)]}});}[_0x4d2937(0x533)](_0x556591){const _0xc1b549=_0x4d2937;return this[_0xc1b549(0x59b)][_0xc1b549(0x61d)](_0x556591);}[_0x4d2937(0x393)](){return this['providerId'];}[_0x4d2937(0x317)](_0x28679f){const _0x4050fe=_0x4d2937;this[_0x4050fe(0x18c)]!==_0x28679f&&(this[_0x4050fe(0x18c)]=_0x28679f,this[_0x4050fe(0x59b)][_0x4050fe(0x104)](_0x28679f));}['unsubscribeTrackEndedListener'](_0x36ed83){const _0x3f54af=_0x4d2937;this['trackEndedListeners'][_0x3f54af(0x447)](_0x36ed83)?.(),this[_0x3f54af(0x19d)]['delete'](_0x36ed83);}['removeTrack'](_0x1535eb){const _0x189972=_0x4d2937,_0xede54c=this[_0x189972(0x5df)]['getTracks']()[_0x189972(0x1d8)](_0x1fd1bb=>_0x1fd1bb['kind']===_0x1535eb);_0xede54c&&(this[_0x189972(0x5df)][_0x189972(0x633)](_0xede54c),this[_0x189972(0x196)][_0x189972(0x304)](_0xce7948=>_0xce7948[_0x189972(0x633)](_0x1535eb)),this[_0x189972(0x19d)][_0x189972(0x447)](_0x1535eb)?.());}[_0x4d2937(0x268)](){const _0x44aa1d=_0x4d2937;this[_0x44aa1d(0x442)]&&(this[_0x44aa1d(0x442)][_0x44aa1d(0x5b3)]&&this[_0x44aa1d(0x442)][_0x44aa1d(0x5b3)]===this[_0x44aa1d(0x5df)]||(this[_0x44aa1d(0x442)][_0x44aa1d(0x5b3)]=this[_0x44aa1d(0x5df)]));}[_0x4d2937(0x62e)](){const _0x3b7b55=_0x4d2937;if(this[_0x3b7b55(0x442)]&&!this[_0x3b7b55(0x62c)]&&_0x3b7b55(0x112)!=typeof ResizeObserver){let _0x2b191d=this[_0x3b7b55(0x442)][_0x3b7b55(0x327)],_0x558de6=this[_0x3b7b55(0x442)][_0x3b7b55(0x528)];const _0x703dd6=new ResizeObserver(_0x27fee3=>{const _0x1aa91b=_0x3b7b55,{width:_0xff3e57,height:_0x495450}=_0x27fee3[0x0]['contentRect'];_0x2b191d===_0xff3e57&&_0x558de6===_0x495450||(_0x2b191d=Math[_0x1aa91b(0x5d1)](_0xff3e57),_0x558de6=Math['floor'](_0x495450),this['update']({'video':{'maxResolution':{'width':_0xff3e57,'height':_0x495450}}}));});_0x703dd6[_0x3b7b55(0x249)](this[_0x3b7b55(0x442)]),this['resizeHandler']=()=>_0x703dd6['disconnect']();}}[_0x4d2937(0x4c1)](_0x182cf6){const _0x555192=_0x4d2937,_0x576ba0=[];for(const _0x2775a8 of this[_0x555192(0x382)])this[_0x555192(0x633)](_0x2775a8),_0x576ba0['push'](_0x2775a8);this[_0x555192(0x18c)]&&this['systemTopic']['publish']({'sourceId':_0x52b8cb,'messageType':_0x100c15[_0x555192(0x1c6)],'content':{'type':_0x163779[_0x555192(0x385)],'label':this['label'],'streamId':this[_0x555192(0x302)],'ownerId':this['ownerId'],'providerId':this[_0x555192(0x18c)],'trackKinds':_0x576ba0}});}[_0x4d2937(0x3b0)](_0x17d1d8){const _0x213567=_0x4d2937,_0x172e3c=()=>this[_0x213567(0x4c1)](_0x17d1d8);_0x17d1d8[_0x213567(0x39f)](_0x213567(0x571),_0x172e3c),_0x17d1d8[_0x213567(0x39f)](_0x213567(0xd0),_0x172e3c),this['trackEndedListeners'][_0x213567(0x470)](_0x17d1d8[_0x213567(0x3ef)],()=>{const _0x11cfc8=_0x213567;_0x17d1d8[_0x11cfc8(0x54e)]('ended',_0x172e3c),_0x17d1d8[_0x11cfc8(0x54e)]('mute',_0x172e3c),this[_0x11cfc8(0x19d)][_0x11cfc8(0x2e8)](_0x17d1d8[_0x11cfc8(0x3ef)]);});}}class _0x54012b{['vendorId'];['clusterId'];['clusterKey'];constructor(_0x303fd3,_0x5b43cb){const _0x14024f=_0x4d2937;this['vendorId']=_0x303fd3,this['clusterId']=_0x5b43cb,this[_0x14024f(0x3a9)]=_0x14024f(0x635)+this[_0x14024f(0x581)]+'ccc'+this[_0x14024f(0x20a)];}async[_0x4d2937(0x5a8)](_0x2e32ff,_0x4cb3a6,_0x44ec2d){const _0xcd25f7=_0x4d2937;if(!0x1===(await(0x0,_0x2c74ba['runTransaction'])((0x0,_0x2c74ba[_0xcd25f7(0x206)])(_0xbebd52[_0xcd25f7(0x186)](),'clusters/'+this['clusterKey']+_0xcd25f7(0x60f)+_0x4cb3a6+_0xcd25f7(0x291)),_0x5eb2c8=>{const _0x309ec2=_0xcd25f7;if(!_0x5eb2c8)return _0x2e32ff['id'];if(_0x5eb2c8!==_0x44ec2d)throw new _0xce6ead(_0xce6ead[_0x309ec2(0x197)][_0x309ec2(0x46f)]);return _0x2e32ff['id'];}))[_0xcd25f7(0x2a7)])throw new _0xce6ead(_0xce6ead[_0xcd25f7(0x197)][_0xcd25f7(0x65a)]);_0x2e32ff[_0xcd25f7(0xd3)]||delete _0x2e32ff[_0xcd25f7(0xd3)],await(0x0,_0x2c74ba['set'])((0x0,_0x2c74ba[_0xcd25f7(0x206)])(_0xbebd52[_0xcd25f7(0x186)](),_0xcd25f7(0x3a3)+this[_0xcd25f7(0x3a9)]+_0xcd25f7(0x60f)+_0x4cb3a6+_0xcd25f7(0x293)+_0x2e32ff['id']),_0x2e32ff);}async[_0x4d2937(0x3c6)](_0x2e6593,_0x4c3b12){const _0x29fec8=_0x4d2937;let _0x398b39=[];const _0x41d151=await(0x0,_0x2c74ba[_0x29fec8(0x447)])((0x0,_0x2c74ba[_0x29fec8(0x206)])(_0xbebd52[_0x29fec8(0x186)](),'clusters/'+this[_0x29fec8(0x3a9)]+_0x29fec8(0x60f)+_0x2e6593+'/transactions'));if(!_0x41d151[_0x29fec8(0x232)]())return _0x398b39;const _0x1faf1d=_0x41d151[_0x29fec8(0x50d)]();_0x398b39=Object[_0x29fec8(0xc2)](_0x1faf1d)[_0x29fec8(0x4a5)](_0x4e1615=>'string'!=typeof _0x4e1615);const _0x344b62=[];let _0x3a6951=_0x398b39['find'](_0x222919=>_0x222919[_0x29fec8(0xd3)]===_0x4c3b12);for(;_0x3a6951;)_0x344b62[_0x29fec8(0x415)](_0x3a6951),_0x3a6951=_0x398b39[_0x29fec8(0x1d8)](_0x252685=>_0x252685[_0x29fec8(0xd3)]===_0x3a6951['id']);return _0x344b62;}}class _0x2690ae{[_0x4d2937(0x202)];[_0x4d2937(0x543)];['audioContext'];['localMediaStreams']=new Map();[_0x4d2937(0x424)]=new Map();[_0x4d2937(0x2ca)]=new Map();[_0x4d2937(0x17f)]=new Map();['keyValueDatabases']=new Map();[_0x4d2937(0x1ef)];constructor(_0xc05092,_0x5994cd,_0x9da590){const _0x1a094d=_0x4d2937;this[_0x1a094d(0x202)]=_0xc05092,this[_0x1a094d(0x543)]=_0x5994cd,this[_0x1a094d(0x5d8)]=_0x9da590,this[_0x1a094d(0x1ef)]=new _0x54012b(this['configs'][_0x1a094d(0x581)],this['configs'][_0x1a094d(0x20a)]);}['close'](_0x4fb3ea=!0x1){const _0xc831f4=_0x4d2937;this['remoteMediaStreams']['forEach']((_0x927781,_0x17fb1b)=>{const _0x1d2889=a0_0x72fc;_0x927781[_0x1d2889(0x304)]((_0x5af92f,_0x55f23b)=>{const _0x1c2620=_0x1d2889;this[_0x1c2620(0x56f)](_0x17fb1b,_0x55f23b);});}),_0x4fb3ea||(this[_0xc831f4(0x2bb)][_0xc831f4(0x304)]((_0x2e8c24,_0x3d9831)=>{const _0x53efe6=_0xc831f4;this[_0x53efe6(0x522)](_0x3d9831);}),this[_0xc831f4(0x2ca)][_0xc831f4(0x304)]((_0x3cc8c5,_0x461e02)=>{const _0x41c97d=_0xc831f4;this[_0x41c97d(0x2c0)](_0x461e02);}),this[_0xc831f4(0x17f)][_0xc831f4(0x304)]((_0x35551a,_0x3f4d25)=>{const _0x4f6fd0=_0xc831f4;this[_0x4f6fd0(0x4ca)](_0x3f4d25);}),this[_0xc831f4(0x2ef)][_0xc831f4(0x304)]((_0x150c39,_0x156cf1)=>{const _0x4ff023=_0xc831f4;this[_0x4ff023(0x245)](_0x156cf1);}));}[_0x4d2937(0x4f0)](_0x8599ce,_0x5e01ba){const _0x99dc57=_0x4d2937;if(this[_0x99dc57(0x17f)]['has'](_0x8599ce))throw new _0x5374d2(_0x4346db['ObjectStoreAlreadyExists'],_0x99dc57(0x1e6));const _0x4565b0=new _0x535d91(this[_0x99dc57(0x202)][_0x99dc57(0x201)],_0x8599ce,this[_0x99dc57(0x202)][_0x99dc57(0x20a)],this['configs'][_0x99dc57(0x581)],this[_0x99dc57(0x1ef)],_0x5e01ba);return this[_0x99dc57(0x17f)][_0x99dc57(0x470)](_0x8599ce,_0x4565b0),this[_0x99dc57(0x202)]['mediator']['registerSystemSource'](_0x4565b0),_0x4565b0;}async['createKeyValueDatabase'](_0x39d1ec,_0x3a0b49,_0x4ee684){const _0x4b39eb=_0x4d2937;if(this['keyValueDatabases'][_0x4b39eb(0x314)](_0x39d1ec))throw new _0x5374d2(_0x4346db[_0x4b39eb(0x5e6)],'Database\x20already\x20exists');try{const _0x492ff3=new _0x4bd530(this[_0x4b39eb(0x202)][_0x4b39eb(0x201)],_0x39d1ec,this[_0x4b39eb(0x202)][_0x4b39eb(0x20a)],this[_0x4b39eb(0x202)][_0x4b39eb(0x581)],_0x3a0b49,_0x4ee684);return this[_0x4b39eb(0x2ef)]['set'](_0x39d1ec,_0x492ff3),this['configs'][_0x4b39eb(0x434)][_0x4b39eb(0x335)](_0x492ff3),_0x492ff3;}catch(_0x208ad8){if(_0x208ad8 instanceof _0x5374d2)throw _0x208ad8;throw console[_0x4b39eb(0x5cd)](_0x4b39eb(0x3bc),_0x208ad8),new _0xce6ead(_0xce6ead['codes'][_0x4b39eb(0x499)],{'label':_0x39d1ec,'clusterId':this[_0x4b39eb(0x202)][_0x4b39eb(0x20a)],'vendorId':this[_0x4b39eb(0x202)][_0x4b39eb(0x581)]});}}['createLocalDynamicMediaStream'](_0x5b5be,_0x2d22dd){const _0x235c71=_0x4d2937;if(this[_0x235c71(0x2bb)]['has'](_0x5b5be))throw new _0x5374d2(_0x4346db[_0x235c71(0x1d2)],_0x235c71(0x63a));const _0x26b1c2=new _0x2ee950(this[_0x235c71(0x202)][_0x235c71(0x201)],_0x5b5be,_0x2d22dd,this[_0x235c71(0x543)],this[_0x235c71(0x5d8)]);return this[_0x235c71(0x2bb)][_0x235c71(0x470)](_0x5b5be,_0x26b1c2),this[_0x235c71(0x202)][_0x235c71(0x434)][_0x235c71(0x335)](_0x26b1c2),_0x26b1c2[_0x235c71(0x104)](),_0x26b1c2;}[_0x4d2937(0x3dc)](_0x2740ec,_0x1ec0c3){const _0x4a5528=_0x4d2937;if(this[_0x4a5528(0x2bb)]['has'](_0x2740ec))throw new _0x5374d2(_0x4346db[_0x4a5528(0x1d2)],_0x4a5528(0x2f9));const _0x55e06b=new _0x51b10f(this['configs'][_0x4a5528(0x201)],_0x2740ec,_0x1ec0c3);return this[_0x4a5528(0x2bb)][_0x4a5528(0x470)](_0x2740ec,_0x55e06b),this[_0x4a5528(0x202)][_0x4a5528(0x434)][_0x4a5528(0x335)](_0x55e06b),_0x55e06b[_0x4a5528(0x104)](),_0x55e06b;}['createPubSubTopic'](_0x5b1461){const _0x1f2297=_0x4d2937;if(this[_0x1f2297(0x2ca)][_0x1f2297(0x314)](_0x5b1461))throw new _0x5374d2(_0x4346db[_0x1f2297(0x38d)],_0x1f2297(0x30a));const _0x2f81d8=new _0x1505fe(this[_0x1f2297(0x202)][_0x1f2297(0x201)],_0x5b1461);return this['pubSubTopics'][_0x1f2297(0x470)](_0x5b1461,_0x2f81d8),this[_0x1f2297(0x202)]['mediator']['registerSystemSource'](_0x2f81d8),_0x2f81d8;}[_0x4d2937(0x467)](_0x191fe8,_0x348089,_0x39d5f8,_0xbc45fc){const _0x4227a1=_0x4d2937;this['remoteMediaStreams'][_0x4227a1(0x314)](_0x191fe8)||this['remoteMediaStreams'][_0x4227a1(0x470)](_0x191fe8,new Map());const _0x543d1b=this[_0x4227a1(0x424)][_0x4227a1(0x447)](_0x191fe8);if(_0x543d1b[_0x4227a1(0x314)](_0x348089))throw new _0x5374d2(_0x4346db['RemoteMediaStreamAlreadyExists'],_0x4227a1(0x10d));const _0x396b3d=new _0x18d4d5(this[_0x4227a1(0x202)][_0x4227a1(0x201)],_0x191fe8,_0x348089,_0x39d5f8,_0xbc45fc);return _0x543d1b['set'](_0x348089,_0x396b3d),this[_0x4227a1(0x202)]['mediator'][_0x4227a1(0x335)](_0x396b3d),_0x396b3d;}[_0x4d2937(0x627)](_0x1f8bdf){const _0x40f80f=_0x4d2937,_0x4ecc9f=Array['from'](this[_0x40f80f(0x17f)][_0x40f80f(0xc2)]());return _0x1f8bdf?_0x4ecc9f['filter'](_0x1f8bdf):_0x4ecc9f;}[_0x4d2937(0x64e)](_0x54f0c5){const _0x56a553=_0x4d2937,_0x2548a6=Array['from'](this['keyValueDatabases'][_0x56a553(0xc2)]());return _0x54f0c5?_0x2548a6[_0x56a553(0x4a5)](_0x54f0c5):_0x2548a6;}[_0x4d2937(0x36d)](_0x2c9985){const _0x33b2a0=_0x4d2937,_0x5e93f0=Array['from'](this[_0x33b2a0(0x2bb)][_0x33b2a0(0xc2)]());return _0x2c9985?_0x5e93f0['filter'](_0x2c9985):_0x5e93f0;}[_0x4d2937(0x473)](_0xa20970){const _0x57ded7=_0x4d2937,_0x1feec8=Array['from'](this[_0x57ded7(0x2ca)][_0x57ded7(0xc2)]());return _0xa20970?_0x1feec8['filter'](_0xa20970):_0x1feec8;}[_0x4d2937(0x45a)](_0x363ddf){const _0x1f1dfd=_0x4d2937,_0x4b0d98=Array[_0x1f1dfd(0x474)](this[_0x1f1dfd(0x424)][_0x1f1dfd(0xc2)]())['reduce']((_0x4c65f6,_0x275ff3)=>[..._0x4c65f6,...Array[_0x1f1dfd(0x474)](_0x275ff3[_0x1f1dfd(0xc2)]())],[]);return _0x363ddf?_0x4b0d98['filter'](_0x363ddf):_0x4b0d98;}[_0x4d2937(0x556)](_0x39cd5e){const _0x210947=_0x4d2937;switch(_0x39cd5e[_0x210947(0x4eb)][_0x210947(0x5a5)]){case _0x163779[_0x210947(0x31e)]:this[_0x210947(0x4c7)](_0x39cd5e[_0x210947(0x4eb)]);break;case _0x163779[_0x210947(0x5e4)]:this[_0x210947(0x658)](_0x39cd5e[_0x210947(0x4eb)]);break;case _0x163779[_0x210947(0x25e)]:this['handleCloseMediaStream'](_0x39cd5e['content']);break;case _0x163779[_0x210947(0x4d8)]:this[_0x210947(0x306)](_0x39cd5e[_0x210947(0x4eb)]);break;case _0x163779[_0x210947(0x622)]:this[_0x210947(0x457)](_0x39cd5e[_0x210947(0x4eb)]);break;case _0x163779[_0x210947(0x2d5)]:this[_0x210947(0x406)](_0x39cd5e[_0x210947(0x4eb)]);break;case _0x163779[_0x210947(0x2cc)]:this[_0x210947(0xf7)](_0x39cd5e[_0x210947(0x4eb)]);break;case _0x163779['RequestSyncKeyValueDatabase']:this['keyValueDatabases']['get'](_0x39cd5e['content'][_0x210947(0x41b)])?.[_0x210947(0x308)](_0x39cd5e[_0x210947(0x59a)]);break;case _0x163779[_0x210947(0x4bd)]:this['keyValueDatabases'][_0x210947(0x447)](_0x39cd5e['content'][_0x210947(0x41b)])?.['processTransactionsDump'](_0x39cd5e['sourceId'],_0x39cd5e[_0x210947(0x4eb)]['transactions']);break;case _0x163779[_0x210947(0x280)]:this[_0x210947(0x2ef)][_0x210947(0x447)](_0x39cd5e[_0x210947(0x4eb)]['label'])?.['sendTransactionsValue'](_0x39cd5e['sourceId'],_0x39cd5e[_0x210947(0x4eb)][_0x210947(0xc0)]);break;case _0x163779[_0x210947(0x2df)]:this[_0x210947(0x202)]['mediator'][_0x210947(0x31a)](_0x210947(0x62d),{'label':_0x39cd5e[_0x210947(0x4eb)]['label'],'trackKinds':_0x39cd5e[_0x210947(0x4eb)]['trackKinds']});}}[_0x4d2937(0x59e)]({content:_0x470ff2}){const _0x5f126a=_0x4d2937;switch(_0x470ff2['type']){case _0x3c511b['UserJoin']:this[_0x5f126a(0x48a)](_0x470ff2),this[_0x5f126a(0x274)](_0x470ff2);break;case _0x3c511b[_0x5f126a(0x429)]:this[_0x5f126a(0x209)](_0x470ff2),this[_0x5f126a(0x3b8)](_0x470ff2);}}[_0x4d2937(0xd7)](_0x5c1072){const _0x1cc8e8=_0x4d2937;switch(_0x5c1072[_0x1cc8e8(0x4eb)][_0x1cc8e8(0x5a5)]){case _0x2d9739[_0x1cc8e8(0x267)]:this['handleSubscribeMediaStream'](_0x5c1072[_0x1cc8e8(0x59a)],_0x5c1072['content']);break;case _0x2d9739[_0x1cc8e8(0x298)]:this[_0x1cc8e8(0x5d7)](_0x5c1072[_0x1cc8e8(0x59a)],_0x5c1072['content']);break;case _0x2d9739[_0x1cc8e8(0x2cc)]:this[_0x1cc8e8(0x595)](_0x5c1072[_0x1cc8e8(0x59a)],_0x5c1072[_0x1cc8e8(0x4eb)]);}}[_0x4d2937(0xf7)](_0x2f8df9){const _0x41bb5e=_0x4d2937;if(0x0===_0x2f8df9[_0x41bb5e(0x321)])this['remoteMediaStreams'][_0x41bb5e(0x447)](_0x2f8df9['ownerId'])?.[_0x41bb5e(0x447)](_0x2f8df9[_0x41bb5e(0x41b)])?.[_0x41bb5e(0x191)]();else{const _0x1e2b8a=this[_0x41bb5e(0x424)]['get'](_0x2f8df9['ownerId'])?.['get'](_0x2f8df9[_0x41bb5e(0x41b)]);if(!_0x1e2b8a)return;_0x2f8df9[_0x41bb5e(0x538)][_0x41bb5e(0x304)](_0x429cc2=>_0x1e2b8a[_0x41bb5e(0x158)](_0x429cc2));}}[_0x4d2937(0x4c7)](_0x17c5b8){const _0x1a1a53=_0x4d2937,{label:_0x2f3b9d,ownerId:_0x2ddb03,stream:{streamId:_0x34f959,availableTrackKinds:_0x57d88a}}=_0x17c5b8;if(this[_0x1a1a53(0x424)][_0x1a1a53(0x447)](_0x2ddb03)?.[_0x1a1a53(0x314)](_0x2f3b9d))return void _0x4dbf9b['log'](_0x37cafd[_0x1a1a53(0x1c6)],'Stream\x20already\x20exists',_0x34f959);const _0x2ad3de=this[_0x1a1a53(0x467)](_0x2ddb03,_0x2f3b9d,_0x34f959,_0x57d88a);this[_0x1a1a53(0x202)][_0x1a1a53(0x434)][_0x1a1a53(0x31a)](_0x1a1a53(0x151),{'ownerId':_0x2ddb03,'stream':_0x2ad3de});}[_0x4d2937(0x658)]({ownerId:_0x5b70d6,label:_0x4af66a}){const _0x47e5d4=_0x4d2937;this[_0x47e5d4(0x56f)](_0x5b70d6,_0x4af66a),this['configs'][_0x47e5d4(0x434)][_0x47e5d4(0x31a)](_0x47e5d4(0x4f3),{'ownerId':_0x5b70d6,'label':_0x4af66a});}[_0x4d2937(0x334)](_0x49fae2){const _0x1fb7a1=_0x4d2937;this[_0x1fb7a1(0x522)](_0x49fae2['label']);}[_0x4d2937(0x457)](_0x2e4592){const _0x15af49=_0x4d2937;this['removeObjectStore'](_0x2e4592[_0x15af49(0x41b)]);}[_0x4d2937(0x306)](_0x38b716){const _0x365b1d=_0x4d2937;this[_0x365b1d(0x2c0)](_0x38b716[_0x365b1d(0x41b)]);}['handleCloseKeyValueDatabase'](_0x46e894){const _0x3b47ba=_0x4d2937;this['removeKeyValueDatabase'](_0x46e894[_0x3b47ba(0x41b)]);}['handleSubscribeMediaStream'](_0x2b0d6a,_0x2e21ea){const _0xbfa93d=_0x4d2937,{ownerId:_0x2223d0,label:_0x37e08d}=_0x2e21ea;let _0x8a9694;_0x8a9694=_0x2223d0!==this[_0xbfa93d(0x202)][_0xbfa93d(0x201)]?this['remoteMediaStreams'][_0xbfa93d(0x447)](_0x2223d0)[_0xbfa93d(0x447)](_0x37e08d):this[_0xbfa93d(0x2bb)]['get'](_0x37e08d),_0x8a9694[_0xbfa93d(0x111)](_0x2b0d6a,_0x2e21ea[_0xbfa93d(0xf3)])[_0xbfa93d(0x61d)](_0x2e21ea,_0x8a9694['getPriority']());}['handleUpdateMediaStream'](_0x4db277,_0x37df2c){const _0x3acf42=_0x4d2937,{ownerId:_0x9f2677,label:_0x5af170}=_0x37df2c;let _0x2172e8;_0x2172e8=_0x9f2677!==this[_0x3acf42(0x202)][_0x3acf42(0x201)]?this[_0x3acf42(0x424)][_0x3acf42(0x447)](_0x9f2677)['get'](_0x5af170):this[_0x3acf42(0x2bb)][_0x3acf42(0x447)](_0x5af170),_0x2172e8['getShareableStream'](_0x4db277,_0x37df2c[_0x3acf42(0xf3)])[_0x3acf42(0x5b8)](_0x37df2c);}[_0x4d2937(0x595)](_0x46ce78,_0x5a5cb7){const _0x1c2c02=_0x4d2937,{ownerId:_0x55fe49,label:_0x4f92ea}=_0x5a5cb7;let _0x48ff06;_0x48ff06=_0x55fe49!==this[_0x1c2c02(0x202)][_0x1c2c02(0x201)]?this[_0x1c2c02(0x424)][_0x1c2c02(0x447)](_0x55fe49)['get'](_0x4f92ea):this[_0x1c2c02(0x2bb)][_0x1c2c02(0x447)](_0x4f92ea),_0x48ff06[_0x1c2c02(0x111)](_0x46ce78)['unsubscribe'](_0x5a5cb7);}[_0x4d2937(0x48a)]({id:_0x379ab3}){const _0x45a685=_0x4d2937;this[_0x45a685(0x36d)]()[_0x45a685(0x304)](_0x39aed1=>{_0x39aed1['publish'](_0x379ab3);});}[_0x4d2937(0x209)]({id:_0x5b6147}){const _0x5e6702=_0x4d2937;this[_0x5e6702(0x45a)](_0x464eb1=>_0x464eb1['getOwnerId']()===_0x5b6147)['forEach'](_0x137cdc=>{const _0x35dff5=_0x5e6702;this['removeRemoteMediaStream'](_0x137cdc[_0x35dff5(0x296)](),_0x137cdc[_0x35dff5(0x631)]());});}['notifyObjectStoreOfUserJoin']({id:_0x5c2c41}){const _0x91256b=_0x4d2937;this[_0x91256b(0x17f)]['forEach'](_0x35cfb3=>_0x35cfb3[_0x91256b(0x1de)](_0x5c2c41));}[_0x4d2937(0x3b8)]({id:_0x118174}){const _0x2b7945=_0x4d2937;this[_0x2b7945(0x17f)][_0x2b7945(0x304)](_0x21e9d1=>_0x21e9d1['handleUserLeave'](_0x118174));}[_0x4d2937(0x4ca)](_0x5d0684){const _0xc5457a=_0x4d2937;if(!this['objectStores']['has'](_0x5d0684))throw new _0x5374d2(_0x4346db[_0xc5457a(0x648)],_0xc5457a(0x607));const _0x1f776f=this['objectStores'][_0xc5457a(0x447)](_0x5d0684);this[_0xc5457a(0x17f)][_0xc5457a(0x2e8)](_0x5d0684),_0x1f776f[_0xc5457a(0x191)](),this[_0xc5457a(0x202)][_0xc5457a(0x434)]['unregisterSystemSource'](_0x1f776f);}[_0x4d2937(0x2c0)](_0x22021d){const _0x37eeed=_0x4d2937;if(!this[_0x37eeed(0x2ca)][_0x37eeed(0x314)](_0x22021d))throw new _0x5374d2(_0x4346db['PubSubTopicDoesNotExist'],_0x37eeed(0x607));const _0x29c955=this[_0x37eeed(0x2ca)][_0x37eeed(0x447)](_0x22021d);this[_0x37eeed(0x2ca)][_0x37eeed(0x2e8)](_0x22021d),_0x29c955['destroy'](),this[_0x37eeed(0x202)][_0x37eeed(0x434)][_0x37eeed(0x32a)](_0x29c955);}[_0x4d2937(0x245)](_0x3e3d98){const _0x48cbe9=_0x4d2937;if(!this[_0x48cbe9(0x2ef)]['has'](_0x3e3d98))throw new _0x5374d2(_0x4346db[_0x48cbe9(0x647)],_0x48cbe9(0x56a));const _0x421955=this['keyValueDatabases'][_0x48cbe9(0x447)](_0x3e3d98);this[_0x48cbe9(0x2ef)]['delete'](_0x3e3d98),_0x421955['destroy'](),this['configs'][_0x48cbe9(0x434)]['unregisterSystemSource'](_0x421955);}['removeLocalMediaStream'](_0x5844ea){const _0x50dda5=_0x4d2937;if(!this[_0x50dda5(0x2bb)][_0x50dda5(0x314)](_0x5844ea))throw new _0xce6ead(_0xce6ead[_0x50dda5(0x197)][_0x50dda5(0x625)],{'label':_0x5844ea,'localId':this[_0x50dda5(0x202)][_0x50dda5(0x201)]});const _0x511c09=this[_0x50dda5(0x2bb)][_0x50dda5(0x447)](_0x5844ea);this[_0x50dda5(0x202)][_0x50dda5(0x434)]['unregisterSystemSource'](_0x511c09),_0x511c09['destroy'](),this[_0x50dda5(0x2bb)][_0x50dda5(0x2e8)](_0x5844ea);}[_0x4d2937(0x56f)](_0x5dfe9b,_0x29d2c5){const _0x5721ae=_0x4d2937;if(!this['remoteMediaStreams']['has'](_0x5dfe9b))throw new _0xce6ead(_0xce6ead['codes'][_0x5721ae(0x532)],{'userId':_0x5dfe9b,'localId':this[_0x5721ae(0x202)]['localId']});const _0x2620e6=this[_0x5721ae(0x424)][_0x5721ae(0x447)](_0x5dfe9b);if(!_0x2620e6[_0x5721ae(0x314)](_0x29d2c5))throw new _0xce6ead(_0xce6ead['codes']['RemoteMediaStreamDoesNotExist'],{'userId':_0x5dfe9b,'label':_0x29d2c5,'localId':this[_0x5721ae(0x202)][_0x5721ae(0x201)]});const _0x385a11=_0x2620e6[_0x5721ae(0x447)](_0x29d2c5);this[_0x5721ae(0x202)][_0x5721ae(0x434)]['unregisterSystemSource'](_0x385a11),_0x385a11['destroy'](),_0x2620e6[_0x5721ae(0x2e8)](_0x29d2c5);}}!function(_0x34d252){const _0x1a4692=_0x4d2937;_0x34d252[_0x1a4692(0x43f)]=_0x1a4692(0x346),_0x34d252[_0x1a4692(0xcc)]=_0x1a4692(0x166),_0x34d252['TimePerFrame']=_0x1a4692(0x1bd),_0x34d252[_0x1a4692(0x53e)]=_0x1a4692(0x1c8),_0x34d252['Jitter']=_0x1a4692(0x132),_0x34d252[_0x1a4692(0x47c)]=_0x1a4692(0x1d0),_0x34d252[_0x1a4692(0x372)]=_0x1a4692(0xdc),_0x34d252[_0x1a4692(0x276)]='av_delay';}(_0x316030||(_0x316030={})),function(_0x1c4f9c){const _0x4a67d9=_0x4d2937;_0x1c4f9c['CPUCycle']=_0x4a67d9(0x13c),_0x1c4f9c[_0x4a67d9(0x137)]=_0x4a67d9(0x18d),_0x1c4f9c['AudioVideoDelay']=_0x4a67d9(0x307),_0x1c4f9c[_0x4a67d9(0x47c)]=_0x4a67d9(0x357),_0x1c4f9c['Bitrate']=_0x4a67d9(0x228),_0x1c4f9c[_0x4a67d9(0x14f)]=_0x4a67d9(0x185),_0x1c4f9c[_0x4a67d9(0x372)]=_0x4a67d9(0x3a1);}(_0x5d7110||(_0x5d7110={})),function(_0x12b6e2){const _0x2967d2=_0x4d2937;_0x12b6e2[_0x12b6e2[_0x2967d2(0x3aa)]=0x0]=_0x2967d2(0x3aa);}(_0xd26ef2||(_0xd26ef2={}));const _0x406051=[{'type':_0x316030[_0x4d2937(0x43f)],'reportMetric':_0x410221=>_0x410221[_0x4d2937(0x43f)],'maxThreshold':2.5},{'type':_0x316030[_0x4d2937(0xcc)],'reportMetric':_0x20fa88=>_0x20fa88['DTVolatility'],'maxThreshold':0.5}],_0x4bef55=[{'type':_0x316030[_0x4d2937(0x137)],'reportMetric':_0x9b6994=>{const _0x2d89d1=_0x4d2937,_0x8ad1b6=0x3e8/_0x9b6994['FPS'];return _0x9b6994[_0x2d89d1(0x2ea)]/_0x8ad1b6;},'maxThreshold':0.75},{'type':_0x316030[_0x4d2937(0x53e)],'reportMetric':_0x2289d0=>{const _0x1c9e25=_0x4d2937,_0x147d3d=_0x2289d0[_0x1c9e25(0x55d)]*_0x2289d0['frameWidth']*_0x2289d0[_0x1c9e25(0x4f6)]*0.12;return _0x2289d0[_0x1c9e25(0x1c8)]/_0x147d3d;},'minThreshold':0.25},{'type':_0x316030['Jitter'],'reportMetric':_0x2f7e60=>_0x2f7e60[_0x4d2937(0x132)],'maxThreshold':0.6},{'type':_0x316030['FramePerSecond'],'reportMetric':_0x441df9=>_0x441df9['FPS'],'minThreshold':0xa}],_0x5629ef=[{'type':_0x316030[_0x4d2937(0x14f)],'reportMetric':_0x4e1aff=>_0x4e1aff[_0x4d2937(0x132)],'maxThreshold':0.6}],_0x2eb285=[{'type':_0x316030[_0x4d2937(0x372)],'reportMetric':_0x526ce8=>_0x526ce8[_0x4d2937(0x243)],'maxThreshold':0x1/0x0}],_0x1cb078=[{'type':_0x316030[_0x4d2937(0x276)],'reportMetric':_0x3e9f5b=>_0x3e9f5b[_0x4d2937(0x276)],'maxThreshold':0x12c}],_0x17edde=[{'type':_0x5d7110['CPUCycle'],'issues':[{'type':_0x316030[_0x4d2937(0x43f)],'threshold':0x5},{'type':_0x316030['DTVolatility'],'threshold':0x5}]},{'type':_0x5d7110['TimePerFrame'],'issues':[{'type':_0x316030['TimePerFrame'],'threshold':0x3}]},{'type':_0x5d7110[_0x4d2937(0x276)],'issues':[{'type':_0x316030['AudioVideoDelay'],'threshold':0x2}]},{'type':_0x5d7110[_0x4d2937(0x47c)],'issues':[{'type':_0x316030[_0x4d2937(0x47c)],'threshold':0x3}]},{'type':_0x5d7110[_0x4d2937(0x53e)],'issues':[{'type':_0x316030[_0x4d2937(0x53e)],'threshold':0x3}]},{'type':_0x5d7110[_0x4d2937(0x14f)],'issues':[{'type':_0x316030['Jitter'],'threshold':0x3}]},{'type':_0x5d7110[_0x4d2937(0x372)],'issues':[{'type':_0x316030[_0x4d2937(0x372)],'threshold':0x3}]}];var _0xb1be6d,_0x512002;!function(_0x29633c){const _0x51ad10=_0x4d2937;_0x29633c[_0x29633c[_0x51ad10(0x4f7)]=0x0]='StreamReport',_0x29633c[_0x29633c[_0x51ad10(0x18e)]=0x1]=_0x51ad10(0x18e);}(_0xb1be6d||(_0xb1be6d={}));class _0x2fcc93{['configs'];[_0x4d2937(0xc7)]=[];[_0x4d2937(0x2c5)];constructor(_0x115c4a){const _0xcc8b3a=_0x4d2937;this[_0xcc8b3a(0x202)]=_0x115c4a,this[_0xcc8b3a(0x202)][_0xcc8b3a(0x434)][_0xcc8b3a(0x335)](this);}[_0x4d2937(0xfc)](_0x18da39){const _0x138b02=_0x4d2937;this[_0x138b02(0x2c5)]=_0x18da39;}[_0x4d2937(0x1fe)](){this['systemTopic']=void 0x0;}[_0x4d2937(0x5ff)](){const _0x413ed4=_0x4d2937;this['configs'][_0x413ed4(0x434)]['unregisterSystemSource'](this),this[_0x413ed4(0xc7)]=[];}[_0x4d2937(0x505)](_0x1df74d){const _0x497e1c=_0x4d2937;switch(_0x1df74d[_0x497e1c(0x4eb)][_0x497e1c(0x5a5)]){case _0xb1be6d[_0x497e1c(0x18e)]:this[_0x497e1c(0x5a7)](_0x1df74d[_0x497e1c(0x4eb)][_0x497e1c(0x1b4)]);break;case _0xb1be6d[_0x497e1c(0x4f7)]:this['detectStreamIssues'](_0x1df74d[_0x497e1c(0x4eb)][_0x497e1c(0x1b4)]);}}[_0x4d2937(0x1c1)](_0x16dd5f,_0x3dee8e,_0xac6568,_0x4f8a3a){const _0xdb07ac=_0x4d2937,_0x1a435e=_0x17edde[_0xdb07ac(0x1d8)](_0x14dafe=>_0x14dafe[_0xdb07ac(0xc7)]['some'](_0x3da322=>_0x3da322[_0xdb07ac(0x5a5)]===_0x16dd5f));_0x4f8a3a>=_0x1a435e[_0xdb07ac(0xc7)]['find'](_0x4f5f4d=>_0x4f5f4d[_0xdb07ac(0x5a5)]===_0x16dd5f)[_0xdb07ac(0x544)]&&(this[_0xdb07ac(0x53c)](_0x1a435e[_0xdb07ac(0x5a5)],_0x3dee8e,_0xac6568),this[_0xdb07ac(0xc7)]=this[_0xdb07ac(0xc7)]['filter'](_0x6d2198=>!(_0x6d2198['type']===_0x16dd5f&&_0x6d2198[_0xdb07ac(0x294)]===_0x3dee8e&&_0x6d2198[_0xdb07ac(0x3e6)]===_0xac6568)));}[_0x4d2937(0x5a7)](_0x502a20){const _0x39e49e=_0x4d2937;_0x406051[_0x39e49e(0x304)](_0x19ef22=>{const _0x46988c=_0x39e49e,_0x1a5986=_0x19ef22[_0x46988c(0x130)](_0x502a20);_0x19ef22[_0x46988c(0x4dc)]&&_0x1a5986>_0x19ef22[_0x46988c(0x4dc)]&&this[_0x46988c(0x43c)](_0x19ef22[_0x46988c(0x5a5)],this[_0x46988c(0x202)][_0x46988c(0x201)],_0x298653[_0x46988c(0x553)],_0x1a5986),_0x19ef22['minThreshold']&&_0x1a5986<_0x19ef22[_0x46988c(0x1d3)]&&this['addIssue'](_0x19ef22['type'],this[_0x46988c(0x202)][_0x46988c(0x201)],_0x298653[_0x46988c(0x553)],_0x1a5986);});}[_0x4d2937(0x48d)](_0x11720a){const _0x6db91=_0x4d2937;let _0x15ea9d=[];switch(_0x11720a[_0x6db91(0x3e6)]){case _0x298653['Sender']:_0x15ea9d=_0x2eb285;break;case _0x298653[_0x6db91(0x1cd)]:_0x15ea9d=_0x1cb078;}_0x11720a[_0x6db91(0x47b)]&&this[_0x6db91(0x2d8)](_0x11720a[_0x6db91(0x294)],_0x298653[_0x6db91(0x553)],_0x11720a[_0x6db91(0x47b)]),_0x11720a[_0x6db91(0x608)]&&this[_0x6db91(0x39c)](_0x11720a[_0x6db91(0x294)],_0x298653['Sender'],_0x11720a['audio']),_0x15ea9d[_0x6db91(0x304)](_0x6f7b77=>{const _0x2a57a5=_0x6db91,_0x3ed236=_0x6f7b77[_0x2a57a5(0x130)](_0x11720a);_0x6f7b77[_0x2a57a5(0x4dc)]&&_0x3ed236>_0x6f7b77[_0x2a57a5(0x4dc)]&&this[_0x2a57a5(0x43c)](_0x6f7b77[_0x2a57a5(0x5a5)],_0x11720a[_0x2a57a5(0x294)],_0x298653['Sender'],_0x3ed236),_0x6f7b77[_0x2a57a5(0x1d3)]&&_0x3ed236<_0x6f7b77[_0x2a57a5(0x1d3)]&&this[_0x2a57a5(0x43c)](_0x6f7b77[_0x2a57a5(0x5a5)],_0x11720a[_0x2a57a5(0x294)],_0x298653[_0x2a57a5(0x553)],_0x3ed236);});}['detectVideoIssues'](_0x5913f5,_0x2ad1b6,_0x1bd6cc){const _0x29f775=_0x4d2937;0x0!==_0x1bd6cc[_0x29f775(0x1c8)]&&_0x4bef55[_0x29f775(0x304)](_0x5e4685=>{const _0x1161b6=_0x29f775,_0x3b04b6=_0x5e4685['reportMetric'](_0x1bd6cc);_0x5e4685['maxThreshold']&&_0x3b04b6>_0x5e4685['maxThreshold']&&this[_0x1161b6(0x43c)](_0x5e4685[_0x1161b6(0x5a5)],_0x5913f5,_0x2ad1b6,_0x3b04b6,_0x1161b6(0x47b)),_0x5e4685[_0x1161b6(0x1d3)]&&_0x3b04b6<_0x5e4685[_0x1161b6(0x1d3)]&&this[_0x1161b6(0x43c)](_0x5e4685[_0x1161b6(0x5a5)],_0x5913f5,_0x2ad1b6,_0x3b04b6,'video');});}[_0x4d2937(0x39c)](_0x366097,_0x3eba66,_0x59508a){const _0x158172=_0x4d2937;0x0!==_0x59508a[_0x158172(0x1c8)]&&_0x5629ef[_0x158172(0x304)](_0x57c168=>{const _0x3223e1=_0x158172,_0x3db415=_0x57c168[_0x3223e1(0x130)](_0x59508a);_0x57c168[_0x3223e1(0x4dc)]&&_0x3db415>_0x57c168[_0x3223e1(0x4dc)]&&this['addIssue'](_0x57c168[_0x3223e1(0x5a5)],_0x366097,_0x3eba66,_0x3db415,_0x3223e1(0x608)),_0x57c168[_0x3223e1(0x1d3)]&&_0x3db415<_0x57c168['minThreshold']&&this[_0x3223e1(0x43c)](_0x57c168[_0x3223e1(0x5a5)],_0x366097,_0x3eba66,_0x3db415,_0x3223e1(0x608));});}['addIssue'](_0x11a8b6,_0x1cf6d1,_0x19b898,_0x363702,_0x140f70){const _0x20bb55=_0x4d2937;_0x4dbf9b[_0x20bb55(0x5f2)](_0x37cafd[_0x20bb55(0x47a)],_0x20bb55(0x60c)+_0x11a8b6,_0x11a8b6,_0x363702),_0x4dbf9b[_0x20bb55(0x5fc)](_0x20bb55(0x116),{'clusterId':this[_0x20bb55(0x202)]['clusterId'],'userId':this[_0x20bb55(0x202)]['localId'],'remoteId':_0x1cf6d1,'data':{'type':_0x11a8b6,'value':_0x363702,'kind':_0x140f70}}),this['issues']=this[_0x20bb55(0xc7)][_0x20bb55(0x4a5)](_0x519c90=>Date[_0x20bb55(0x28d)]()-_0x519c90[_0x20bb55(0x182)]<0x7530),this[_0x20bb55(0xc7)][_0x20bb55(0x415)]({'timestamp':Date[_0x20bb55(0x28d)](),'type':_0x11a8b6,'userId':_0x1cf6d1,'origin':_0x19b898,'value':_0x363702,'kind':_0x140f70});const _0xecb0f6=this[_0x20bb55(0xc7)][_0x20bb55(0x4a5)](_0x40da8b=>_0x40da8b[_0x20bb55(0x5a5)]===_0x11a8b6&&_0x40da8b[_0x20bb55(0x294)]===_0x1cf6d1&&_0x40da8b[_0x20bb55(0x3e6)]===_0x19b898)[_0x20bb55(0x27f)];this[_0x20bb55(0x1c1)](_0x11a8b6,_0x1cf6d1,_0x19b898,_0xecb0f6);}[_0x4d2937(0x53c)](_0x2821b6,_0x5988d9,_0x3de0b6){const _0x4af4a3=_0x4d2937;_0x4dbf9b[_0x4af4a3(0x5f2)](_0x37cafd[_0x4af4a3(0x47a)],'Problem\x20detected:\x20'+_0x2821b6),_0x4dbf9b['logEvent']('problem',{'clusterId':this[_0x4af4a3(0x202)]['clusterId'],'userId':this['configs']['localId'],'remoteId':_0x5988d9,'data':{'type':_0x2821b6}}),this['systemTopic']?.[_0x4af4a3(0x104)]({'sourceId':_0x52b8cb,'messageType':_0x100c15[_0x4af4a3(0x47a)],'content':{'type':_0xd26ef2[_0x4af4a3(0x3aa)],'data':{'timestamp':Date[_0x4af4a3(0x28d)](),'userId':_0x5988d9,'origin':_0x298653[_0x4af4a3(0x553)],'type':_0x2821b6}}});}}!function(_0xc400c7){const _0x3b1d61=_0x4d2937;_0xc400c7[_0xc400c7[_0x3b1d61(0x4ab)]=0x0]=_0x3b1d61(0x4ab),_0xc400c7[_0xc400c7['Offline']=0x1]=_0x3b1d61(0x4e1);}(_0x512002||(_0x512002={}));class _0x5bfdb1{['id'];[_0x4d2937(0x561)];[_0x4d2937(0x21a)];[_0x4d2937(0x5c0)];[_0x4d2937(0x513)];constructor(_0x48501a,_0x3444c9,_0x4b380e,_0x53820a=new Set(),_0x21f6aa){const _0x3ab7ae=_0x4d2937;this['id']=_0x48501a,this[_0x3ab7ae(0x561)]=_0x3444c9,this[_0x3ab7ae(0x21a)]=_0x4b380e,this['remoteConnections']=_0x53820a,this[_0x3ab7ae(0x513)]=_0x21f6aa;}['close'](){const _0x992bd4=_0x4d2937;this[_0x992bd4(0x513)]=void 0x0,this[_0x992bd4(0x5c0)][_0x992bd4(0x348)]();}[_0x4d2937(0x5a1)](){return this['id'];}['getDisplayName'](){return this['displayName'];}[_0x4d2937(0x336)](){return this['email'];}[_0x4d2937(0x4aa)](){return this['rank'];}[_0x4d2937(0x5e7)](){const _0x474775=_0x4d2937;return this[_0x474775(0x5c0)];}}class _0xf65688 extends _0x5bfdb1{[_0x4d2937(0x4d2)];[_0x4d2937(0x4d7)]=_0x512002['Online'];['lastUpdated']=Date[_0x4d2937(0x28d)]();constructor(_0x1d78be,_0x28ac92,_0xa63279,_0x1c07bc=new Set(),_0x307061,_0x43cb2c){const _0x272c27=_0x4d2937;super(_0x1d78be,_0x28ac92,_0xa63279,_0x1c07bc,_0x43cb2c),this[_0x272c27(0x4d2)]=_0x307061;}['getCurrentVersion'](){const _0x156749=_0x4d2937;return this[_0x156749(0x4d2)];}['getStatus'](){const _0x1d4112=_0x4d2937;return this[_0x1d4112(0x4d7)];}[_0x4d2937(0x5a9)](){const _0x3f28ee=_0x4d2937;return this[_0x3f28ee(0x3e9)];}[_0x4d2937(0x598)](_0x7a6309){const _0x33f920=_0x4d2937;this[_0x33f920(0x561)]!==_0x7a6309&&(this[_0x33f920(0x561)]=_0x7a6309,this['updateLastUpdated']());}['setEmail'](_0x3487f1){const _0x464536=_0x4d2937;this['email']!==_0x3487f1&&(this['email']=_0x3487f1,this[_0x464536(0xee)]());}[_0x4d2937(0x5af)](_0x5c0499){const _0x5ead88=_0x4d2937;this[_0x5ead88(0x513)]!==_0x5c0499&&(this[_0x5ead88(0x513)]=_0x5c0499,this[_0x5ead88(0xee)]());}[_0x4d2937(0x48c)](_0x3129ec){const _0x26dcad=_0x4d2937;let _0x28f308=!0x1;for(const _0x106649 of this[_0x26dcad(0x5c0)])_0x3129ec[_0x26dcad(0x135)](_0x106649)||(_0x28f308=!0x0,this[_0x26dcad(0x5c0)][_0x26dcad(0x2e8)](_0x106649));for(const _0x35e452 of _0x3129ec)this['remoteConnections'][_0x26dcad(0x314)](_0x35e452)||(_0x28f308=!0x0,this[_0x26dcad(0x5c0)][_0x26dcad(0x519)](_0x35e452));_0x28f308&&this[_0x26dcad(0xee)]();}['setCurrentVersion'](_0x3c5afd){const _0x3e96f0=_0x4d2937;this[_0x3e96f0(0x4d2)]!==_0x3c5afd&&(this[_0x3e96f0(0x4d2)]=_0x3c5afd,this[_0x3e96f0(0xee)]());}[_0x4d2937(0x4ed)](_0x276883){const _0x380657=_0x4d2937;this[_0x380657(0x4d7)]!==_0x276883&&(this[_0x380657(0x4d7)]=_0x276883,this[_0x380657(0xee)](),_0x276883===_0x512002['Offline']&&this['close']());}[_0x4d2937(0xee)](){const _0x1321f0=_0x4d2937;this[_0x1321f0(0x3e9)]=Date[_0x1321f0(0x28d)]();}}class _0x594267{[_0x4d2937(0x581)];['clusterId'];[_0x4d2937(0x2ad)];[_0x4d2937(0x345)];['disconnectCallback']=_0x568458();['firebaseUnsubscriber'];[_0x4d2937(0x644)];[_0x4d2937(0x61b)];[_0x4d2937(0x629)]=!0x1;[_0x4d2937(0x3a9)];['nodeKey'];['disconnectTimeout'];constructor(_0x4f5335,_0x436151,_0x1725be,_0x20af28){const _0x3f9080=_0x4d2937;this['vendorId']=_0x4f5335,this['clusterId']=_0x436151,this['localUser']=_0x1725be,this[_0x3f9080(0x345)]=_0x20af28,this[_0x3f9080(0x3a9)]=_0x3f9080(0x635)+this[_0x3f9080(0x581)]+_0x3f9080(0x635)+this[_0x3f9080(0x20a)],this['nodeKey']='ccc'+this[_0x3f9080(0x581)]+'ccc'+this['localUser'][_0x3f9080(0x5a1)](),this[_0x3f9080(0x271)]=(0x0,_0x2c74ba[_0x3f9080(0x26b)])((0x0,_0x2c74ba[_0x3f9080(0x206)])(_0xbebd52['getDatabase'](),_0x3f9080(0x29c)),_0x2e92b8=>{const _0x12fa1b=_0x3f9080;!0x0!==_0x2e92b8[_0x12fa1b(0x50d)]()?this[_0x12fa1b(0x629)]&&(this[_0x12fa1b(0x476)]=setTimeout(()=>{const _0x2ffd74=_0x12fa1b;delete this[_0x2ffd74(0x476)],_0x4dbf9b['error'](_0x2ffd74(0x1b9),{'clusterId':this[_0x2ffd74(0x20a)],'userId':this[_0x2ffd74(0x2ad)][_0x2ffd74(0x5a1)]()}),(0x0,_0x2c74ba[_0x2ffd74(0x41c)])(_0xbebd52['getDatabase']());const _0x536b9b=_0x3cfc44[_0x2ffd74(0x466)](()=>{const _0x22a848=_0x2ffd74;navigator[_0x22a848(0x529)]&&(_0x536b9b(),(0x0,_0x2c74ba[_0x22a848(0x175)])(_0xbebd52[_0x22a848(0x186)]()));},0x3e8);},0xbb8)):(this[_0x12fa1b(0x629)]=!0x0,this['setOnDisconnectHandler'](),this['disconnectTimeout']&&(clearTimeout(this[_0x12fa1b(0x476)]),delete this[_0x12fa1b(0x476)]));});}async[_0x4d2937(0x27b)](){const _0x1e74cd=_0x4d2937;await this[_0x1e74cd(0x575)]();const _0x4c3d97=await this[_0x1e74cd(0x402)]();return this[_0x1e74cd(0x644)]=(0x0,_0x2c74ba[_0x1e74cd(0x397)])((0x0,_0x2c74ba['ref'])(_0xbebd52[_0x1e74cd(0x186)](),_0x1e74cd(0x3a3)+this['clusterKey']+_0x1e74cd(0x28a)),_0x5281ed=>{const _0x3255b8=_0x1e74cd,_0x408f8e=_0x5281ed[_0x3255b8(0x645)];if(!_0x408f8e)return;const _0x1b5f31=_0x408f8e['replace'](_0x3255b8(0x635)+this[_0x3255b8(0x581)]+_0x3255b8(0x635),'');this[_0x3255b8(0x14e)][_0x3255b8(0x104)](_0x1b5f31);}),_0x4c3d97;}async[_0x4d2937(0x5ff)](){const _0x6330d8=_0x4d2937;this[_0x6330d8(0x644)]?.(),delete this['childRemovedUnsubscriber'],this['onDisconnectHandler']?.[_0x6330d8(0x464)](),delete this[_0x6330d8(0x61b)],this[_0x6330d8(0x271)]?.(),delete this[_0x6330d8(0x271)],this['disconnectTimeout']&&(clearTimeout(this[_0x6330d8(0x476)]),delete this['disconnectTimeout']),await(0x0,_0x2c74ba['remove'])((0x0,_0x2c74ba[_0x6330d8(0x206)])(_0xbebd52[_0x6330d8(0x186)](),'clusters/'+this[_0x6330d8(0x3a9)]+_0x6330d8(0x547)+this[_0x6330d8(0x33e)]));}[_0x4d2937(0x139)](_0x359f56){const _0x272309=_0x4d2937;return this[_0x272309(0x14e)][_0x272309(0x61d)](_0x359f56);}async[_0x4d2937(0x402)](){const _0x2ae069=_0x4d2937,_0xb6a682=[],_0x3a5aa5=await(0x0,_0x2c74ba[_0x2ae069(0x447)])((0x0,_0x2c74ba[_0x2ae069(0x206)])(_0xbebd52[_0x2ae069(0x186)](),'clusters/'+this[_0x2ae069(0x3a9)]+'/nodes')),_0x498a53=[];return _0x3a5aa5[_0x2ae069(0x304)](_0x4fb50e=>{const _0x2cf193=_0x2ae069,_0x15e4ce=_0x4fb50e[_0x2cf193(0x645)]?.[_0x2cf193(0x12a)](_0x2cf193(0x635)+this[_0x2cf193(0x581)]+_0x2cf193(0x635),'');_0x498a53['push']({'id':_0x15e4ce,'joinedAt':_0x4fb50e[_0x2cf193(0x50d)]()[_0x2cf193(0x282)],'priority':_0x4fb50e['val']()[_0x2cf193(0xec)]});}),_0x498a53[_0x2ae069(0x657)]((_0x505875,_0xfef5da)=>_0x505875[_0x2ae069(0x282)]===_0xfef5da[_0x2ae069(0x282)]?_0x505875['priority']-_0xfef5da[_0x2ae069(0xec)]:_0x505875[_0x2ae069(0x282)]-_0xfef5da['joinedAt'])['splice'](_0x498a53[_0x2ae069(0x2c3)](_0x9f8230=>_0x9f8230['id']===this['localUser'][_0x2ae069(0x5a1)]())),_0x498a53[_0x2ae069(0x657)]((_0x5f2642,_0x5bdbd0)=>_0x5bdbd0[_0x2ae069(0x282)]===_0x5f2642[_0x2ae069(0x282)]?_0x5bdbd0[_0x2ae069(0xec)]-_0x5f2642[_0x2ae069(0xec)]:_0x5bdbd0[_0x2ae069(0x282)]-_0x5f2642[_0x2ae069(0x282)])[_0x2ae069(0x304)](_0x1b27c0=>{const _0x4197a6=_0x2ae069;_0xb6a682[_0x4197a6(0x27f)]>=this['minConnections']||_0xb6a682[_0x4197a6(0x415)](_0x1b27c0['id']);}),_0x4dbf9b[_0x2ae069(0x5fc)](_0x2ae069(0x58d),{'clusterId':this[_0x2ae069(0x20a)],'userId':this[_0x2ae069(0x2ad)][_0x2ae069(0x5a1)](),'data':{'ancestorIds':_0xb6a682,'allUsers':_0x498a53}}),_0xb6a682;}async[_0x4d2937(0x575)](){const _0x34773c=_0x4d2937;await(0x0,_0x2c74ba[_0x34773c(0x470)])((0x0,_0x2c74ba[_0x34773c(0x206)])(_0xbebd52[_0x34773c(0x186)](),_0x34773c(0x3a3)+this[_0x34773c(0x3a9)]+_0x34773c(0x547)+this[_0x34773c(0x33e)]),{'joinedAt':(0x0,_0x2c74ba[_0x34773c(0x11d)])(),'priority':Math[_0x34773c(0x3a6)]()});}['setOnDisconnectHandler'](){const _0xa41241=_0x4d2937;this[_0xa41241(0x61b)]&&this['onDisconnectHandler'][_0xa41241(0x464)](),this['onDisconnectHandler']=(0x0,_0x2c74ba[_0xa41241(0x554)])((0x0,_0x2c74ba[_0xa41241(0x206)])(_0xbebd52[_0xa41241(0x186)](),'clusters/'+this[_0xa41241(0x3a9)]+'/nodes/'+this[_0xa41241(0x33e)])),this[_0xa41241(0x61b)][_0xa41241(0x3a0)]();}}class _0x2d1d7d{[_0x4d2937(0x202)];[_0x4d2937(0x26e)];[_0x4d2937(0x2ad)];['remoteUnsubscriber'];[_0x4d2937(0x3c1)];['discoveryUnsubscriber'];[_0x4d2937(0x3b4)]=[];[_0x4d2937(0x2c5)];['optimizationLayers']=new Map();[_0x4d2937(0xc8)];[_0x4d2937(0x3a5)];constructor(_0x5e6a40,_0x3967f3,_0x144595){const _0x1c7c19=_0x4d2937;this['configs']=_0x5e6a40,this['graphService']=_0x3967f3,this[_0x1c7c19(0x2ad)]=_0x144595,this[_0x1c7c19(0x3c1)]=new _0x594267(this[_0x1c7c19(0x202)][_0x1c7c19(0x581)],this[_0x1c7c19(0x202)]['clusterId'],this[_0x1c7c19(0x2ad)],this['graphService'][_0x1c7c19(0x45d)]()),this['discoveryUnsubscriber']=this[_0x1c7c19(0x3c1)]['onNodeDisconnect'](this[_0x1c7c19(0x1fd)][_0x1c7c19(0x4f1)](this)),this[_0x1c7c19(0x202)][_0x1c7c19(0x434)][_0x1c7c19(0x335)](this['localUser']),this[_0x1c7c19(0x202)][_0x1c7c19(0x434)][_0x1c7c19(0x335)](this),this[_0x1c7c19(0x266)]=_0x3cfc44['setInterval'](()=>{const _0x25c24f=_0x1c7c19,_0x4dd770=Date['now']();this['graphService'][_0x25c24f(0xc9)]()[_0x25c24f(0x304)](_0x27a7fc=>{const _0x33c2a9=_0x25c24f;_0x27a7fc[_0x33c2a9(0x3fa)]()===_0x512002[_0x33c2a9(0x4e1)]&&_0x27a7fc[_0x33c2a9(0x5a9)]()<_0x4dd770-0x493e0&&this[_0x33c2a9(0x26e)][_0x33c2a9(0x576)](_0x27a7fc[_0x33c2a9(0x5a1)]());});},0xea60);}[_0x4d2937(0xfc)](_0x466a6b){this['systemTopic']=_0x466a6b;}['unregisterSystemPublisher'](){const _0x2c14a8=_0x4d2937;delete this[_0x2c14a8(0x2c5)];}[_0x4d2937(0x5ff)](){const _0xbe36f6=_0x4d2937;this[_0xbe36f6(0xc8)]&&(clearTimeout(this[_0xbe36f6(0xc8)]),delete this[_0xbe36f6(0xc8)]),delete this['lastProcessRank'],this[_0xbe36f6(0x2ad)]['close'](),this[_0xbe36f6(0x266)](),this[_0xbe36f6(0x655)](),this['configs'][_0xbe36f6(0x434)]['unregisterSystemSource'](this['localUser']),this['configs'][_0xbe36f6(0x434)][_0xbe36f6(0x32a)](this),this[_0xbe36f6(0x3c1)][_0xbe36f6(0x5ff)]();}[_0x4d2937(0x261)](){const _0x374e27=_0x4d2937;return this[_0x374e27(0x3b4)];}[_0x4d2937(0x3bf)](){const _0x561666=_0x4d2937;return this[_0x561666(0x2ad)][_0x561666(0x5a1)]();}[_0x4d2937(0x50f)](){const _0x23e3c8=_0x4d2937;return this[_0x23e3c8(0x2ad)];}[_0x4d2937(0xc9)](_0x24254){const _0x4e0601=_0x4d2937,_0x5b65e8=Array['from'](this['graphService'][_0x4e0601(0xc9)]()[_0x4e0601(0xc2)]())[_0x4e0601(0x4a5)](_0x28dbb0=>_0x28dbb0['getStatus']()===_0x512002[_0x4e0601(0x4ab)]);return _0x24254?_0x5b65e8[_0x4e0601(0x4a5)](_0x24254):_0x5b65e8;}async[_0x4d2937(0x58d)](){const _0x5ed12c=_0x4d2937;return this[_0x5ed12c(0x3b4)]=await this[_0x5ed12c(0x3c1)][_0x5ed12c(0x27b)](),this[_0x5ed12c(0x3b4)]['length']<this[_0x5ed12c(0x26e)][_0x5ed12c(0x45d)]()&&(this['localUser'][_0x5ed12c(0x5af)](this[_0x5ed12c(0x3b4)]['length']+0x1),this[_0x5ed12c(0x3a4)]()),this[_0x5ed12c(0x3b4)];}[_0x4d2937(0x3eb)](_0x31c56b,_0x3a4818){const _0x45f6ed=_0x4d2937,_0x36b2cb=this[_0x45f6ed(0x2ad)]['getRemoteConnections'](),_0x2ef0b6=new Set(_0x36b2cb),_0x3eace8=Array[_0x45f6ed(0x474)](_0x36b2cb)[_0x45f6ed(0x4a5)](_0x4e3c4a=>_0x4e3c4a!==_0x31c56b)[_0x45f6ed(0x54c)](_0x1db56c=>({'id':_0x1db56c,'distance':0x1}));for(;_0x3eace8[_0x45f6ed(0x27f)]>0x0;){const _0x1991d0=_0x3eace8[_0x45f6ed(0x21d)]();if(!_0x1991d0)continue;if(_0x1991d0['id']===_0x3a4818)return _0x1991d0[_0x45f6ed(0x129)];const _0x38228=this['graphService'][_0x45f6ed(0x549)](_0x1991d0['id']);_0x38228&&_0x38228[_0x45f6ed(0x3fa)]()!==_0x512002['Offline']&&_0x38228[_0x45f6ed(0x5e7)]()[_0x45f6ed(0x304)](_0x17bc12=>{const _0x5e299a=_0x45f6ed;_0x2ef0b6[_0x5e299a(0x314)](_0x17bc12)||(_0x2ef0b6[_0x5e299a(0x519)](_0x17bc12),_0x3eace8[_0x5e299a(0x415)]({'id':_0x17bc12,'distance':_0x1991d0['distance']+0x1}));});}return-0x1;}['handleNodeSystemEvents'](_0xc91a0e){const _0x53f0af=_0x4d2937;try{switch(_0xc91a0e[_0x53f0af(0x4eb)]['type']){case _0x3c511b['UserUpdate']:case _0x3c511b['UserConnectionsUpdate']:this['handleUserUpdate'](_0xc91a0e[_0x53f0af(0x4eb)]),_0x4dbf9b['log'](_0x37cafd[_0x53f0af(0x61c)],_0x53f0af(0x59c),'\x27'+this[_0x53f0af(0x2ad)]['getId']()+',\x20'+_0xc91a0e['sourceId']+'\x27',_0xc91a0e,_0xc91a0e[_0x53f0af(0x4eb)]);break;case _0x3c511b['UserLeave']:this[_0x53f0af(0x451)](_0xc91a0e[_0x53f0af(0x4eb)]['id']),_0x4dbf9b[_0x53f0af(0x5f2)](_0x37cafd[_0x53f0af(0x61c)],_0x53f0af(0x55a),'\x27'+this[_0x53f0af(0x2ad)][_0x53f0af(0x5a1)]()+',\x20'+_0xc91a0e[_0x53f0af(0x59a)]+'\x27',_0xc91a0e,_0xc91a0e['content']);}}catch(_0x185d60){if(_0x185d60 instanceof _0x2efda1)return void _0x4dbf9b[_0x53f0af(0x5f2)](_0x37cafd[_0x53f0af(0x61c)],_0x185d60['message']);throw _0x185d60;}}[_0x4d2937(0xf6)](_0x2119ea){const _0x680edd=_0x4d2937;switch(_0x2119ea[_0x680edd(0x4eb)]['type']){case _0x2a9fc9['Success']:this[_0x680edd(0x5ed)](_0x2119ea[_0x680edd(0x59a)]),_0x4dbf9b[_0x680edd(0x5f2)](_0x37cafd[_0x680edd(0x61c)],_0x680edd(0x498),'\x27'+this[_0x680edd(0x2ad)][_0x680edd(0x5a1)]()+',\x20'+_0x2119ea[_0x680edd(0x59a)]+'\x27',_0x2119ea,_0x2119ea[_0x680edd(0x4eb)]);break;case _0x2a9fc9[_0x680edd(0x38f)]:this[_0x680edd(0x121)](_0x2119ea[_0x680edd(0x59a)]),_0x4dbf9b[_0x680edd(0x5f2)](_0x37cafd[_0x680edd(0x61c)],_0x680edd(0x53a),this['localUser'][_0x680edd(0x5a1)](),_0x2119ea,_0x2119ea[_0x680edd(0x4eb)]);}}[_0x4d2937(0x1de)](_0x35c7d8){const _0x17c2b6=_0x4d2937;this[_0x17c2b6(0x642)](_0x35c7d8),this[_0x17c2b6(0x4df)](_0x35c7d8);}[_0x4d2937(0x4df)](_0x43be84){const _0x148ba0=_0x4d2937;this['localUser'][_0x148ba0(0x463)](_0x43be84['id']),this[_0x148ba0(0x659)](_0x43be84['id']),this['notifyClusterUserJoin'](_0x43be84);}[_0x4d2937(0x619)](_0x1da3ab){const _0x243488=_0x4d2937,{id:_0x4e2e92,displayName:_0x93e5b1,email:_0x279c22,rank:_0x7c45c0,remoteConnections:_0x25fda6,version:_0x16679d}=_0x1da3ab,_0x2114df=this[_0x243488(0x26e)][_0x243488(0x549)](_0x4e2e92);if(_0x2114df){if(!(_0x16679d<=_0x2114df[_0x243488(0x208)]())){if(_0x2114df[_0x243488(0x48c)](_0x25fda6),_0x2114df['setCurrentVersion'](_0x16679d),_0x2114df[_0x243488(0x598)](_0x93e5b1),_0x2114df['setEmail'](_0x279c22),_0x7c45c0&&_0x2114df['setRank'](_0x7c45c0),this['setLocalRank'](_0x4e2e92,_0x7c45c0),_0x2114df[_0x243488(0x3fa)]()===_0x512002[_0x243488(0x4e1)])return _0x2114df[_0x243488(0x4ed)](_0x512002['Online']),this[_0x243488(0x3a4)](),void this[_0x243488(0x4df)](_0x1da3ab);this[_0x243488(0x3a4)](),this[_0x243488(0x17d)]({'id':_0x4e2e92,'displayName':_0x93e5b1,'email':_0x279c22,'remoteConnections':_0x25fda6,'version':_0x16679d});}}else this[_0x243488(0x1de)](_0x1da3ab);}[_0x4d2937(0x51c)](_0x2faaa7,_0xfd8f3e){const _0xae8c00=_0x4d2937;_0xfd8f3e&&this[_0xae8c00(0x3b4)]['includes'](_0x2faaa7)&&this[_0xae8c00(0x2ad)][_0xae8c00(0x5af)](_0xfd8f3e+this[_0xae8c00(0x3b4)][_0xae8c00(0x456)](_0x2faaa7)+0x1);}[_0x4d2937(0x5ed)](_0x534cea){const _0x289369=_0x4d2937;this[_0x289369(0x2ad)][_0x289369(0x2f8)](_0x534cea);}[_0x4d2937(0x642)]({id:_0x332702,displayName:_0x4865d0='',email:_0x447a44='',rank:_0x3b8784,remoteConnections:_0x15b6e1,version:_0x9c9779}){const _0x22f948=_0x4d2937;if(this[_0x22f948(0x26e)]['hasRemoteUser'](_0x332702))throw new _0x2efda1(_0x22f948(0x1c0)+_0x332702);this[_0x22f948(0x26e)]['setRemoteUser'](_0x332702,new _0xf65688(_0x332702,_0x4865d0,_0x447a44,new Set(_0x15b6e1),_0x9c9779,_0x3b8784)),this[_0x22f948(0x51c)](_0x332702,_0x3b8784),this[_0x22f948(0x3a4)]();}[_0x4d2937(0x659)](_0x413d1a){const _0x4a0fca=_0x4d2937;this[_0x4a0fca(0x2c5)][_0x4a0fca(0x104)]({'sourceId':_0x52b8cb,'messageType':_0x100c15[_0x4a0fca(0x61c)],'content':{'type':_0x3c511b[_0x4a0fca(0x292)],'id':_0x413d1a}});}[_0x4d2937(0x121)](_0xd33438){const _0x296ba9=_0x4d2937;this[_0x296ba9(0x2c5)]?.['publish']({'sourceId':_0x52b8cb,'messageType':_0x100c15[_0x296ba9(0x61c)],'content':{'type':_0x3c511b[_0x296ba9(0x429)],'id':_0xd33438}});}[_0x4d2937(0x1fd)](_0x5a3e88){const _0x5b6330=_0x4d2937;if(_0x5a3e88===this[_0x5b6330(0x2ad)][_0x5b6330(0x5a1)]())return this[_0x5b6330(0x202)][_0x5b6330(0x434)][_0x5b6330(0x31a)](_0x5b6330(0x113),{'id':_0x5a3e88}),this[_0x5b6330(0x202)][_0x5b6330(0x434)]['close'](!0x0),this[_0x5b6330(0x202)]['mediator'][_0x5b6330(0x493)](),void this[_0x5b6330(0x202)]['mediator'][_0x5b6330(0x565)]();this[_0x5b6330(0x121)](_0x5a3e88);}[_0x4d2937(0x451)](_0xf5ea7d){const _0x117531=_0x4d2937;this[_0x117531(0x3b4)]['includes'](_0xf5ea7d)?this[_0x117531(0x4e7)](_0xf5ea7d):this[_0x117531(0x2ad)]['getRemoteConnections']()[_0x117531(0x314)](_0xf5ea7d)&&this[_0x117531(0x147)](_0xf5ea7d),this[_0x117531(0x2ad)]['removeRemoteConnection'](_0xf5ea7d);const _0x2b1514=Array[_0x117531(0x474)](this[_0x117531(0x1a6)][_0x117531(0x287)]())[_0x117531(0x1d8)](([,_0x1a8e0e])=>_0x1a8e0e==_0x1a8e0e);_0x2b1514&&this['optimizationLayers'][_0x117531(0x2e8)](_0x2b1514[0x0]);const _0x2bcdb4=this[_0x117531(0x26e)][_0x117531(0x549)](_0xf5ea7d);if(!_0x2bcdb4)return;const _0x52cf9a=_0x2bcdb4['getRank'](),_0x4e2263=this[_0x117531(0x2ad)][_0x117531(0x4aa)]();_0x4e2263&&_0x52cf9a&&_0x52cf9a<_0x4e2263&&this['localUser'][_0x117531(0x5af)](_0x4e2263-0x1,!0x1),Array[_0x117531(0x474)](this[_0x117531(0x26e)][_0x117531(0xc9)]()[_0x117531(0xc2)]())['forEach'](_0x53bb1d=>{const _0x14e9fa=_0x117531,_0x4c3623=_0x53bb1d[_0x14e9fa(0x4aa)]();_0x4c3623&&_0x52cf9a&&_0x52cf9a<_0x4c3623&&_0x53bb1d['setRank'](_0x4c3623-0x1);}),_0x2bcdb4[_0x117531(0x4ed)](_0x512002[_0x117531(0x4e1)]),this[_0x117531(0x202)][_0x117531(0x434)][_0x117531(0x31a)]('user-leave',{'id':_0xf5ea7d});}['notifyClusterUserJoin']({id:_0x389b20,displayName:_0x74f39a,email:_0x3f7e11,remoteConnections:_0x571c2a}){const _0x5c0253=_0x4d2937;this[_0x5c0253(0x202)][_0x5c0253(0x434)][_0x5c0253(0x31a)](_0x5c0253(0x1ce),{'id':_0x389b20,'displayName':_0x74f39a,'email':_0x3f7e11,'remoteConnections':_0x571c2a});}[_0x4d2937(0x17d)]({id:_0x3f9f13,displayName:_0x1a164c,email:_0xad38cc,remoteConnections:_0x191411}){const _0x5d2a08=_0x4d2937;this[_0x5d2a08(0x202)][_0x5d2a08(0x434)][_0x5d2a08(0x31a)](_0x5d2a08(0x10c),{'id':_0x3f9f13,'displayName':_0x1a164c,'email':_0xad38cc,'remoteConnections':_0x191411});}['processRank'](){const _0x16d336=_0x4d2937;if(this[_0x16d336(0x3a5)]||(this[_0x16d336(0x3a5)]=Date[_0x16d336(0x28d)]()),this[_0x16d336(0xc8)]){if(Date[_0x16d336(0x28d)]()-this['lastProcessRank']>0x2328)return;clearTimeout(this['debounceProcessRank']);}this[_0x16d336(0xc8)]=setTimeout(async()=>{const _0x55cb61=_0x16d336;delete this[_0x55cb61(0x3a5)],delete this['debounceProcessRank'];const _0x269328=this[_0x55cb61(0x2ad)][_0x55cb61(0x4aa)]();if(!_0x269328)return;const _0x30af0a=this[_0x55cb61(0x26e)]['getCurrentMaxLayer'](this[_0x55cb61(0x26e)][_0x55cb61(0xc9)]()[_0x55cb61(0x1b8)]);if(this[_0x55cb61(0x1a6)][_0x55cb61(0x1b8)]>=_0x30af0a)return;let _0x1dea71=0x1;for(;this['configs'][_0x55cb61(0x434)]['getConnections']()[_0x55cb61(0x27f)]<this[_0x55cb61(0x26e)][_0x55cb61(0x277)]()&&_0x1dea71<=_0x30af0a;){if(this[_0x55cb61(0x1a6)]['has'](_0x1dea71)){_0x1dea71+=0x1;continue;}const _0x5bca7c=this[_0x55cb61(0x26e)][_0x55cb61(0x2ce)](_0x269328,_0x1dea71),_0x24fc7d=Array[_0x55cb61(0x474)](this['graphService'][_0x55cb61(0xc9)]()['values']())['find'](_0x39a086=>_0x39a086['getRank']()===_0x5bca7c&&_0x39a086['getStatus']()===_0x512002['Online']);if(_0x24fc7d){try{await this[_0x55cb61(0x202)][_0x55cb61(0x434)]['createConnection'](_0x24fc7d[_0x55cb61(0x5a1)](),_0x237b83[_0x55cb61(0x118)]),this[_0x55cb61(0x1a6)][_0x55cb61(0x470)](_0x1dea71,_0x24fc7d['getId']());}catch(_0x45ba11){if(!(_0x45ba11 instanceof _0xce6ead&&_0x45ba11[_0x55cb61(0x5b0)]===_0xce6ead[_0x55cb61(0x197)][_0x55cb61(0x5d6)]))throw _0x45ba11;_0x4dbf9b[_0x55cb61(0x5f2)](_0x37cafd[_0x55cb61(0x61c)],this[_0x55cb61(0x2ad)][_0x55cb61(0x5a1)](),_0x24fc7d[_0x55cb61(0x5a1)](),_0x45ba11[_0x55cb61(0x58f)]);}_0x1dea71+=0x1;}else _0x1dea71+=0x1;}},0x3e8);}async[_0x4d2937(0x4e7)](_0x4ba442){const _0x25d4c8=_0x4d2937;this[_0x25d4c8(0x3b4)][_0x25d4c8(0x23f)](this['ancestors'][_0x25d4c8(0x456)](_0x4ba442),0x1);const _0x36ee4f=await this[_0x25d4c8(0x3c1)][_0x25d4c8(0x402)]();for(const _0x1a6f23 of _0x36ee4f)if(!this['ancestors']['includes'](_0x1a6f23)){const _0x5b013a=Array[_0x25d4c8(0x474)](this[_0x25d4c8(0x1a6)][_0x25d4c8(0x287)]())[_0x25d4c8(0x1d8)](([,_0x59f672])=>_0x59f672===_0x1a6f23);_0x5b013a&&this[_0x25d4c8(0x1a6)][_0x25d4c8(0x2e8)](_0x5b013a[0x0]),this[_0x25d4c8(0x202)][_0x25d4c8(0x434)][_0x25d4c8(0x507)](_0x1a6f23,_0x237b83['Core']);}0x0===_0x36ee4f['length']&&this['localUser']['setRank'](0x1),this['ancestors']=_0x36ee4f;}async['manageOptimization'](_0x42b7dd){const _0x52b48a=_0x4d2937,_0x2423e3=this['localUser'][_0x52b48a(0x4aa)]();if(!_0x2423e3)return;const _0xb34a9c=this[_0x52b48a(0x26e)][_0x52b48a(0x549)](_0x42b7dd);if(!_0xb34a9c||_0xb34a9c[_0x52b48a(0x3fa)]()===_0x512002[_0x52b48a(0x4e1)])return;const _0x93d1f7=_0xb34a9c[_0x52b48a(0x4aa)]();if(!_0x93d1f7||_0x93d1f7<_0x2423e3)return;const _0x398961=this[_0x52b48a(0x19a)](this[_0x52b48a(0x2ad)][_0x52b48a(0x5e7)](),_0x2423e3),_0x104de0=this[_0x52b48a(0x19a)](_0xb34a9c[_0x52b48a(0x5e7)](),_0x93d1f7)[_0x398961[_0x52b48a(0x2c3)](([_0x1d166c])=>_0x1d166c===_0x42b7dd)];if(!_0x104de0||this[_0x52b48a(0x2ad)][_0x52b48a(0x5e7)]()['has'](_0x104de0[0x0]))return;const _0x4492d1=this['graphService'][_0x52b48a(0x549)](_0x104de0[0x0]);if(_0x4492d1&&_0x4492d1['getStatus']()!==_0x512002['Offline'])try{await this['configs'][_0x52b48a(0x434)][_0x52b48a(0x507)](_0x104de0[0x0],_0x237b83[_0x52b48a(0x118)]);const _0x417c56=Array['from'](this[_0x52b48a(0x1a6)][_0x52b48a(0x287)]())[_0x52b48a(0x1d8)](([,_0x435b94])=>_0x435b94===_0x42b7dd);_0x417c56&&this[_0x52b48a(0x1a6)]['set'](_0x417c56[0x0],_0x104de0[0x0]);}catch(_0x3f4e4e){if(!(_0x3f4e4e instanceof _0xce6ead&&_0x3f4e4e[_0x52b48a(0x5b0)]===_0xce6ead['codes'][_0x52b48a(0x5d6)]))throw _0x3f4e4e;_0x4dbf9b['log'](_0x37cafd['Node'],this[_0x52b48a(0x2ad)]['getId'](),_0x104de0[0x0],_0x3f4e4e['message']);}}['getOutgoingOptimizationConnections'](_0x4df925,_0x19d7d4){const _0x4a51ef=_0x4d2937;return Array[_0x4a51ef(0x474)](_0x4df925)[_0x4a51ef(0x35b)]((_0x52f1c9,_0x2f6e8c)=>{const _0x28703b=_0x4a51ef,_0x1d753b=this[_0x28703b(0x26e)]['getRemoteUser'](_0x2f6e8c);if(!_0x1d753b||_0x1d753b['getStatus']()===_0x512002[_0x28703b(0x4e1)])return _0x52f1c9;const _0x4967ad=_0x1d753b[_0x28703b(0x4aa)]();if(!_0x4967ad)return _0x52f1c9;const _0x2f3988=_0x4967ad-_0x19d7d4;return _0x2f3988<=this[_0x28703b(0x26e)][_0x28703b(0x45d)]()||_0x52f1c9[_0x28703b(0x415)]([_0x2f6e8c,_0x2f3988]),_0x52f1c9;},[])[_0x4a51ef(0x657)](([,_0x251816],[,_0x18714c])=>_0x251816-_0x18714c);}}class _0x5e57f4 extends _0x5bfdb1{[_0x4d2937(0x2c5)];[_0x4d2937(0x4d2)]=Date[_0x4d2937(0x28d)]();['updateDebounceTimeout'];[_0x4d2937(0x3e9)];[_0x4d2937(0x5ff)](){const _0x3defb3=_0x4d2937;this[_0x3defb3(0x600)]&&(clearTimeout(this[_0x3defb3(0x600)]),delete this[_0x3defb3(0x600)]),delete this[_0x3defb3(0x3e9)],this[_0x3defb3(0x4d2)]=Date[_0x3defb3(0x28d)](),super[_0x3defb3(0x5ff)]();}['registerSystemPublisher'](_0x43b526){const _0xe7d52b=_0x4d2937;this[_0xe7d52b(0x2c5)]=_0x43b526;}[_0x4d2937(0x1fe)](){const _0x383e89=_0x4d2937;delete this[_0x383e89(0x2c5)];}[_0x4d2937(0x463)](_0x3005cd){const _0x1d26e5=_0x4d2937;!this[_0x1d26e5(0x600)]&&this[_0x1d26e5(0x513)]&&this[_0x1d26e5(0x2c5)][_0x1d26e5(0x104)]({'sourceId':this['id'],'destinationIds':[_0x3005cd],'propagate':!0x0,'messageType':_0x100c15[_0x1d26e5(0x61c)],'content':{'type':_0x3c511b['UserUpdate'],'id':this['id'],'displayName':this[_0x1d26e5(0xf8)](),'email':this[_0x1d26e5(0x336)](),'rank':this[_0x1d26e5(0x4aa)](),'remoteConnections':Array[_0x1d26e5(0x474)](this[_0x1d26e5(0x5c0)]),'version':this[_0x1d26e5(0x4d2)]}});}[_0x4d2937(0x2f8)](_0x370ba3){const _0x138c2a=_0x4d2937;this[_0x138c2a(0x5c0)][_0x138c2a(0x314)](_0x370ba3)||(this[_0x138c2a(0x5c0)][_0x138c2a(0x519)](_0x370ba3),this['incrementVersion'](),this[_0x138c2a(0x45e)](!0x0));}[_0x4d2937(0x198)](_0x327a67){const _0x5d5da3=_0x4d2937;this['remoteConnections'][_0x5d5da3(0x314)](_0x327a67)&&(this[_0x5d5da3(0x5c0)]['delete'](_0x327a67),this[_0x5d5da3(0x491)](),this[_0x5d5da3(0x45e)](!0x0));}[_0x4d2937(0x208)](){const _0x16d8c6=_0x4d2937;return this[_0x16d8c6(0x4d2)];}[_0x4d2937(0x598)](_0x46d83a){const _0x180c83=_0x4d2937;this[_0x180c83(0x561)]!==_0x46d83a&&(this[_0x180c83(0x561)]=_0x46d83a,this['incrementVersion'](),this['publishUserUpdate']());}[_0x4d2937(0x3c8)](_0x3408cd){const _0x205fee=_0x4d2937;this[_0x205fee(0x21a)]!==_0x3408cd&&(this[_0x205fee(0x21a)]=_0x3408cd,this['incrementVersion'](),this[_0x205fee(0x45e)]());}[_0x4d2937(0x5af)](_0x1be710,_0x50ac42=!0x0){const _0x49fecb=_0x4d2937;this[_0x49fecb(0x513)]!==_0x1be710&&(this['rank']=_0x1be710,_0x50ac42&&(this[_0x49fecb(0x491)](),this[_0x49fecb(0x45e)]()));}[_0x4d2937(0x491)](){const _0x145292=_0x4d2937;this[_0x145292(0x4d2)]=Date[_0x145292(0x28d)]();}[_0x4d2937(0x45e)](_0x2dbdc6=!0x1){const _0x56d391=_0x4d2937;if(this['rank']){if(this[_0x56d391(0x3e9)]||(this[_0x56d391(0x3e9)]=Date[_0x56d391(0x28d)]()),this[_0x56d391(0x600)]){if(Date[_0x56d391(0x28d)]()-this[_0x56d391(0x3e9)]>0x2328)return;clearTimeout(this[_0x56d391(0x600)]);}this['updateDebounceTimeout']=setTimeout(()=>{const _0x369757=_0x56d391;delete this[_0x369757(0x3e9)],delete this[_0x369757(0x600)],this[_0x369757(0x2c5)]['publish']({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x100c15['Node'],'content':{'type':_0x2dbdc6?_0x3c511b[_0x369757(0x408)]:_0x3c511b[_0x369757(0xd9)],'id':this['id'],'displayName':this[_0x369757(0xf8)](),'email':this[_0x369757(0x336)](),'rank':this['getRank'](),'remoteConnections':Array[_0x369757(0x474)](this['remoteConnections']),'version':this[_0x369757(0x4d2)]}});},0x3e8);}}}const _0x58a474=[{'problemType':_0x5d7110[_0x4d2937(0x4f4)],'remediations':[{'type':_0x571fa5['Remediation'],'component':_0x3e1a77[_0x4d2937(0x37a)],'action':_0x46d714['Downgrade']},{'type':_0x571fa5[_0x4d2937(0x59f)],'component':_0x3e1a77[_0x4d2937(0x37a)],'action':_0x46d714[_0x4d2937(0x2c7)]}]},{'problemType':_0x5d7110[_0x4d2937(0x137)],'remediations':[{'type':_0x571fa5[_0x4d2937(0x338)],'component':_0x3e1a77[_0x4d2937(0x37a)],'action':_0x46d714[_0x4d2937(0x2c7)]}]},{'problemType':_0x5d7110[_0x4d2937(0x276)],'remediations':[{'type':_0x571fa5[_0x4d2937(0x338)],'component':_0x3e1a77[_0x4d2937(0x37a)],'action':_0x46d714['Downgrade']}]},{'problemType':_0x5d7110[_0x4d2937(0x47c)],'remediations':[{'type':_0x571fa5['Remediation'],'component':_0x3e1a77[_0x4d2937(0x37a)],'action':_0x46d714[_0x4d2937(0x2c7)]}]},{'problemType':_0x5d7110[_0x4d2937(0x53e)],'remediations':[{'type':_0x571fa5[_0x4d2937(0x338)],'component':_0x3e1a77[_0x4d2937(0x53e)],'action':_0x46d714[_0x4d2937(0x2c7)]}]},{'problemType':_0x5d7110[_0x4d2937(0x14f)],'remediations':[{'type':_0x571fa5[_0x4d2937(0x338)],'component':_0x3e1a77[_0x4d2937(0x53e)],'action':_0x46d714['Downgrade']}]},{'problemType':_0x5d7110['RoundTripTime'],'remediations':[{'type':_0x571fa5[_0x4d2937(0x338)],'component':_0x3e1a77[_0x4d2937(0x53e)],'action':_0x46d714[_0x4d2937(0x2c7)]}]}];class _0x55e8c8{[_0x4d2937(0x202)];['systemTopic'];[_0x4d2937(0x639)]=new Map();constructor(_0x67aa0c){const _0x3649f5=_0x4d2937;this[_0x3649f5(0x202)]=_0x67aa0c,this[_0x3649f5(0x202)][_0x3649f5(0x434)]['registerSystemSource'](this);}[_0x4d2937(0x5ff)](){const _0x3587b8=_0x4d2937;this[_0x3587b8(0x202)]['mediator']['unregisterSystemSource'](this);}[_0x4d2937(0xfc)](_0x1655e3){const _0x176b6e=_0x4d2937;this[_0x176b6e(0x2c5)]=_0x1655e3;}['unregisterSystemPublisher'](){const _0x468696=_0x4d2937;delete this[_0x468696(0x2c5)];}[_0x4d2937(0x634)](_0x38b4ee){const _0x326641=_0x4d2937;_0x38b4ee[_0x326641(0x4eb)][_0x326641(0x5a5)]===_0xd26ef2[_0x326641(0x3aa)]&&this[_0x326641(0x2eb)](_0x38b4ee[_0x326641(0x4eb)][_0x326641(0x1b4)]);}['handleRemediationSystemEvents'](_0x3b71a6){const _0x4bd28d=_0x4d2937;_0x3b71a6[_0x4bd28d(0x4eb)]['type']===_0x571fa5[_0x4bd28d(0x59f)]&&this[_0x4bd28d(0x3cc)](_0x3b71a6[_0x4bd28d(0x59a)],{'type':_0x571fa5[_0x4bd28d(0x338)],'component':_0x3b71a6[_0x4bd28d(0x4eb)][_0x4bd28d(0x1b4)][_0x4bd28d(0x47e)],'action':_0x3b71a6[_0x4bd28d(0x4eb)]['data'][_0x4bd28d(0x568)]});}[_0x4d2937(0x2eb)](_0x21264e){const _0x51805e=_0x4d2937,_0x5c5d05=_0x58a474['find'](_0x3308dc=>_0x3308dc[_0x51805e(0x54d)]===_0x21264e[_0x51805e(0x5a5)]);_0x5c5d05[_0x51805e(0x63b)]?.[_0x51805e(0x304)](_0x54e3e9=>{const _0x4d1c6e=_0x51805e;this[_0x4d1c6e(0x3cc)](_0x21264e['userId'],{'type':_0x21264e[_0x4d1c6e(0x3e6)]===_0x298653[_0x4d1c6e(0x553)]?_0x571fa5['Remediation']:_0x571fa5[_0x4d1c6e(0x59f)],'component':_0x54e3e9[_0x4d1c6e(0x47e)],'action':_0x54e3e9[_0x4d1c6e(0x568)]});});}[_0x4d2937(0x3cc)](_0x2e0c42,_0x5ccb8b){const _0x575859=_0x4d2937;if(_0x5ccb8b[_0x575859(0x5a5)]===_0x571fa5[_0x575859(0x338)]){const _0x4d1859=Date[_0x575859(0x28d)](),_0x2456c1=this['lastRemediations']['get'](_0x2e0c42);if(_0x2456c1&&_0x4d1859-_0x2456c1<0x1388)return;this[_0x575859(0x639)][_0x575859(0x470)](_0x2e0c42,_0x4d1859);}_0x4dbf9b[_0x575859(0x5f2)](_0x37cafd['Remediation'],'Apply\x20remediation',_0x5ccb8b),_0x4dbf9b[_0x575859(0x5fc)](_0x575859(0xc1),{'clusterId':this[_0x575859(0x202)][_0x575859(0x20a)],'userId':this[_0x575859(0x202)]['localId'],'remoteId':_0x2e0c42,'data':{'type':_0x5ccb8b['type'],'component':_0x5ccb8b[_0x575859(0x47e)],'action':_0x5ccb8b[_0x575859(0x568)]}});let _0xf68b92,_0x390d30=_0x52b8cb;_0x5ccb8b['type']===_0x571fa5['RemoteRemediation']&&(_0x390d30=this[_0x575859(0x202)][_0x575859(0x201)],_0xf68b92=[_0x2e0c42]),this['systemTopic'][_0x575859(0x104)]({'sourceId':_0x390d30,'destinationIds':_0xf68b92,'messageType':_0x100c15['Remediation'],'content':{'type':_0x5ccb8b[_0x575859(0x5a5)],'targetId':_0x2e0c42,'data':_0x5ccb8b}});}}const _0x929bc8=0x3e8,_0xbaf22=0x7530,_0x3829ab=_0x4d2937(0xcd),_0x5f253c=_0x4d2937(0x1af),_0x15dee8=_0x4d2937(0x38c),_0x1cc5bc=[_0x3829ab,_0x5f253c],_0x29e80a=[_0x15dee8];class _0xd50b41{['roundTripTime']=0x0;[_0x4d2937(0x5bb)]=0x0;[_0x4d2937(0x132)]=0x0;[_0x4d2937(0x279)]=0x0;[_0x4d2937(0x63d)]=0x0;[_0x4d2937(0x3d9)]=0x0;[_0x4d2937(0x23c)]=0x0;[_0x4d2937(0x18b)]=0x0;[_0x4d2937(0x3e4)]=0x0;get['bitrate'](){const _0x2e90b7=_0x4d2937;return this[_0x2e90b7(0x3d9)]>0x0&&this[_0x2e90b7(0x23c)]>0x0&&Date[_0x2e90b7(0x28d)]()-this[_0x2e90b7(0x3d9)]<_0xbaf22?(this['currentBytes']-this[_0x2e90b7(0x3e4)])/(this[_0x2e90b7(0x3d9)]-this['previousTimestamp'])*0x8*0x3e8:0x0;}[_0x4d2937(0x3fc)](_0x3ec964){const _0x18f534=_0x4d2937;switch(_0x3ec964[_0x18f534(0x5a5)]){case _0x15dee8:this['processInboundReport'](_0x3ec964);break;case _0x3829ab:this[_0x18f534(0xe6)](_0x3ec964);break;case _0x5f253c:this[_0x18f534(0x17e)](_0x3ec964);}}['getReport'](){const _0x4f8d3a=_0x4d2937;return{'bitrate':this[_0x4f8d3a(0x1c8)],'packetsLostPerc':this[_0x4f8d3a(0xff)](),'roundTripTime':this[_0x4f8d3a(0x243)],'jitter':this[_0x4f8d3a(0x132)]};}['processInboundReport'](_0x5f0ac8){const _0x3e35e1=_0x4d2937;this['setBytes'](_0x5f0ac8[_0x3e35e1(0x624)]),this[_0x3e35e1(0x15d)](_0x5f0ac8[_0x3e35e1(0x182)]),this[_0x3e35e1(0x63d)]=_0x5f0ac8[_0x3e35e1(0x1f5)],this[_0x3e35e1(0x279)]=_0x5f0ac8[_0x3e35e1(0x279)],void 0x0!==_0x5f0ac8[_0x3e35e1(0x132)]?this[_0x3e35e1(0x132)]=_0x5f0ac8['jitter']:this['jitter']=0x0,void 0x0!==_0x5f0ac8[_0x3e35e1(0x5bb)]?this[_0x3e35e1(0x5bb)]=_0x5f0ac8[_0x3e35e1(0x5bb)]:this[_0x3e35e1(0x5bb)]=0x0;}[_0x4d2937(0xe6)](_0x4eec7a){const _0x5a17a3=_0x4d2937;this['setBytes'](_0x4eec7a['bytesSent']),this[_0x5a17a3(0x15d)](_0x4eec7a[_0x5a17a3(0x182)]),this[_0x5a17a3(0x63d)]=_0x4eec7a[_0x5a17a3(0x241)];}['processRemoteInboundReport'](_0x3bfad9){const _0x21ecb8=_0x4d2937;this[_0x21ecb8(0x243)]=0x3e8*_0x3bfad9[_0x21ecb8(0x243)],void 0x0!==_0x3bfad9['jitter']?this[_0x21ecb8(0x132)]=_0x3bfad9[_0x21ecb8(0x132)]:this[_0x21ecb8(0x132)]=0x0;}[_0x4d2937(0xff)](){const _0x459475=_0x4d2937;return this[_0x459475(0x63d)]>0x0?this['packetsLost']/this['packets']:0x0;}[_0x4d2937(0x15d)](_0x42499e){const _0x198399=_0x4d2937;_0x42499e>this[_0x198399(0x3d9)]&&(this[_0x198399(0x23c)]=this['currentTimestamp'],this[_0x198399(0x3d9)]=_0x42499e);}[_0x4d2937(0x3b9)](_0xdfef2a){const _0x3d9d4b=_0x4d2937;this[_0x3d9d4b(0x3e4)]=this[_0x3d9d4b(0x18b)],this[_0x3d9d4b(0x18b)]=_0xdfef2a;}}class _0x55e94d extends _0xd50b41{}class _0x5da813 extends _0xd50b41{[_0x4d2937(0x38b)]=0x0;[_0x4d2937(0x2fd)]=0x0;[_0x4d2937(0x4f6)]=0x0;[_0x4d2937(0x462)]=0x0;[_0x4d2937(0x1cb)]=0x0;get['fps'](){const _0x5e1daf=_0x4d2937;return this[_0x5e1daf(0x3d9)]>0x0&&this[_0x5e1daf(0x23c)]>0x0&&Date[_0x5e1daf(0x28d)]()-this['currentTimestamp']<_0xbaf22?(this[_0x5e1daf(0x462)]-this[_0x5e1daf(0x1cb)])/(this['currentTimestamp']-this[_0x5e1daf(0x23c)])*0x3e8:0x0;}get[_0x4d2937(0x2ea)](){const _0x533e1e=_0x4d2937;return this[_0x533e1e(0x38b)]&&this['currentFrames']&&this[_0x533e1e(0x462)]>0x0?this[_0x533e1e(0x38b)]/this[_0x533e1e(0x462)]:0x0;}set['frames'](_0xf3372){const _0xaf4da1=_0x4d2937;this[_0xaf4da1(0x1cb)]=this[_0xaf4da1(0x462)],this['currentFrames']=_0xf3372;}[_0x4d2937(0x4de)](){const _0x1e5ad5=_0x4d2937;return{...super[_0x1e5ad5(0x4de)](),'FPS':this[_0x1e5ad5(0x1d0)],'timePerFrame':this[_0x1e5ad5(0x2ea)],'frameWidth':this[_0x1e5ad5(0x2fd)],'frameHeight':this[_0x1e5ad5(0x4f6)]};}['processInboundReport'](_0x85a145){const _0x2dd953=_0x4d2937;super['processInboundReport'](_0x85a145),this[_0x2dd953(0x38b)]=_0x85a145[_0x2dd953(0x2f3)],this['frames']=_0x85a145[_0x2dd953(0x5ab)],this[_0x2dd953(0x2fd)]=_0x85a145[_0x2dd953(0x2fd)],this[_0x2dd953(0x4f6)]=_0x85a145[_0x2dd953(0x4f6)];}[_0x4d2937(0xe6)](_0x18b418){const _0xcfb6ab=_0x4d2937;super[_0xcfb6ab(0xe6)](_0x18b418),this[_0xcfb6ab(0x38b)]=_0x18b418[_0xcfb6ab(0x5c6)],this[_0xcfb6ab(0x5c7)]=_0x18b418[_0xcfb6ab(0x284)],this['frameWidth']=_0x18b418[_0xcfb6ab(0x2fd)],this[_0xcfb6ab(0x4f6)]=_0x18b418[_0xcfb6ab(0x4f6)];}}class _0x4e4cec{[_0x4d2937(0x608)]=new _0x55e94d();['video']=new _0x5da813();get[_0x4d2937(0x1c8)](){const _0x46eaa9=_0x4d2937;return this['audio'][_0x46eaa9(0x1c8)]+this[_0x46eaa9(0x47b)][_0x46eaa9(0x1c8)];}['processReports'](_0x1cdff6){const _0x50b37d=_0x4d2937;return _0x1cdff6['forEach'](_0x34a951=>{const _0x418672=a0_0x72fc;switch(_0x34a951[_0x418672(0x3ef)]){case'audio':this[_0x418672(0x608)]['processReport'](_0x34a951);break;case _0x418672(0x47b):this[_0x418672(0x47b)][_0x418672(0x3fc)](_0x34a951);}}),this[_0x50b37d(0x4de)]();}['getReport'](){const _0x22faa7=_0x4d2937;return{'audio':this[_0x22faa7(0x608)][_0x22faa7(0x4de)](),'video':this[_0x22faa7(0x47b)][_0x22faa7(0x4de)](),'roundTripTime':this['getRoundTripTime'](),'AudioVideoDelay':this[_0x22faa7(0x49d)](),'bitrate':this['bitrate']};}[_0x4d2937(0x484)](){const _0x37a7dc=_0x4d2937;return Math[_0x37a7dc(0x5d1)]((this['audio']['roundTripTime']+this[_0x37a7dc(0x47b)][_0x37a7dc(0x243)])/0x2);}[_0x4d2937(0x49d)](){const _0xe1da1d=_0x4d2937;return this[_0xe1da1d(0x608)][_0xe1da1d(0x5bb)]-this[_0xe1da1d(0x47b)]['estimatedPlayoutTimestamp'];}}class _0x1cba05{[_0x4d2937(0x2e9)]=0x0;['senderPreviousTimestamp']=0x0;[_0x4d2937(0x15a)]=0x0;[_0x4d2937(0x60d)]=0x0;[_0x4d2937(0x58c)]=0x0;[_0x4d2937(0x205)]=0x0;[_0x4d2937(0x347)]=0x0;[_0x4d2937(0x2fa)]=0x0;['senderTotalMessages']=0x0;[_0x4d2937(0x422)]=0x0;[_0x4d2937(0xc5)]=0x0;[_0x4d2937(0x4a3)]=0x0;['roundTripTime']=0x0;get[_0x4d2937(0x1c8)](){const _0x23e700=_0x4d2937;return this[_0x23e700(0x19e)]+this[_0x23e700(0x49f)];}get[_0x4d2937(0x19e)](){const _0x196d8b=_0x4d2937;return this[_0x196d8b(0x2e9)]>0x0&&this[_0x196d8b(0x443)]>0x0&&Date[_0x196d8b(0x28d)]()-this[_0x196d8b(0x2e9)]<_0xbaf22?(this[_0x196d8b(0x58c)]-this['senderPreviousBytes'])/(this[_0x196d8b(0x2e9)]-this[_0x196d8b(0x443)])*0x8*0x3e8:0x0;}get['receiverBitrate'](){const _0x4de3cc=_0x4d2937;return this['receiverCurrentTimestamp']>0x0&&this[_0x4de3cc(0x60d)]>0x0&&Date[_0x4de3cc(0x28d)]()-this['receiverCurrentTimestamp']<_0xbaf22?(this[_0x4de3cc(0x347)]-this[_0x4de3cc(0x2fa)])/(this[_0x4de3cc(0x15a)]-this[_0x4de3cc(0x60d)])*0x8*0x3e8:0x0;}[_0x4d2937(0x3fc)](_0x262d98){const _0x1cdb70=_0x4d2937;switch(_0x262d98[_0x1cdb70(0x3e6)]){case _0x298653[_0x1cdb70(0x553)]:this[_0x1cdb70(0x178)](_0x262d98);break;case _0x298653[_0x1cdb70(0x1cd)]:this['processReceiverReport'](_0x262d98);}}[_0x4d2937(0x4de)](){const _0x4dc93f=_0x4d2937;return{'bitrate':this[_0x4dc93f(0x1c8)],'senderBitrate':this[_0x4dc93f(0x19e)],'receiverBitrate':this[_0x4dc93f(0x49f)],'totalBytes':this[_0x4dc93f(0x4fe)](),'senderTotalBytes':this[_0x4dc93f(0x421)](),'receiverTotalBytes':this[_0x4dc93f(0x2c6)](),'totalMessages':this[_0x4dc93f(0x183)]+this['receiverTotalMessages'],'senderTotalMessages':this[_0x4dc93f(0x183)],'receiverTotalMessages':this[_0x4dc93f(0x422)],'timeProcessing':this['senderTimeProcessing']+this[_0x4dc93f(0x4a3)],'senderTimeProcessing':this['senderTimeProcessing'],'receiverTimeProcessing':this['receiverTimeProcessing'],'roundTripTime':this[_0x4dc93f(0x243)]};}[_0x4d2937(0x4fe)](){const _0x32c6f4=_0x4d2937;return this[_0x32c6f4(0x58c)]+this[_0x32c6f4(0x347)];}[_0x4d2937(0x421)](){return this['senderCurrentBytes'];}[_0x4d2937(0x2c6)](){const _0x541092=_0x4d2937;return this[_0x541092(0x347)];}[_0x4d2937(0x178)](_0x52543c){const _0x1b8fc1=_0x4d2937;this[_0x1b8fc1(0x4fc)](_0x52543c['timestamp']),this[_0x1b8fc1(0x3b9)](_0x52543c['bytesSent']),this['senderTotalMessages']=_0x52543c[_0x1b8fc1(0x10f)],this[_0x1b8fc1(0xc5)]=_0x52543c[_0x1b8fc1(0x5e2)],this[_0x1b8fc1(0x243)]=_0x52543c['roundTripTime'];}[_0x4d2937(0x3c3)](_0x2536f6){const _0x185b2a=_0x4d2937;this['setReceiverTimestamp'](_0x2536f6[_0x185b2a(0x182)]),this[_0x185b2a(0x439)](_0x2536f6[_0x185b2a(0x624)]),this[_0x185b2a(0x422)]=_0x2536f6[_0x185b2a(0x4ff)],this[_0x185b2a(0x4a3)]=_0x2536f6[_0x185b2a(0x612)];}[_0x4d2937(0x4fc)](_0x384557){const _0x5ea0ae=_0x4d2937;_0x384557>this[_0x5ea0ae(0x2e9)]&&(this['senderPreviousTimestamp']=this[_0x5ea0ae(0x2e9)],this[_0x5ea0ae(0x2e9)]=_0x384557);}['setReceiverTimestamp'](_0x59e931){const _0x2f16d5=_0x4d2937;_0x59e931>this[_0x2f16d5(0x15a)]&&(this['receiverPreviousTimestamp']=this[_0x2f16d5(0x15a)],this[_0x2f16d5(0x15a)]=_0x59e931);}[_0x4d2937(0x3b9)](_0x41fa40){const _0x225fda=_0x4d2937;this[_0x225fda(0x205)]=this[_0x225fda(0x58c)],this[_0x225fda(0x58c)]=_0x41fa40;}[_0x4d2937(0x439)](_0x550334){const _0x4d21fd=_0x4d2937;this[_0x4d21fd(0x2fa)]=this[_0x4d21fd(0x347)],this[_0x4d21fd(0x347)]=_0x550334;}}class _0x48b04f{[_0x4d2937(0x252)]=new Map();[_0x4d2937(0x361)]=new Map();[_0x4d2937(0x15f)]=new _0x1cba05();get[_0x4d2937(0x19e)](){const _0x5f4d0b=_0x4d2937;let _0x5b716d=0x0;return this[_0x5f4d0b(0x252)][_0x5f4d0b(0x304)](_0x258370=>{const _0x20935a=_0x5f4d0b;_0x5b716d+=_0x258370[_0x20935a(0x1c8)];}),_0x5b716d+=this[_0x5f4d0b(0x15f)][_0x5f4d0b(0x19e)],_0x5b716d;}get['receiverBitrate'](){const _0x284563=_0x4d2937;let _0x5a1939=0x0;return this[_0x284563(0x361)][_0x284563(0x304)](_0x79d4dc=>{const _0x37c6f0=_0x284563;_0x5a1939+=_0x79d4dc[_0x37c6f0(0x1c8)];}),_0x5a1939+=this[_0x284563(0x15f)][_0x284563(0x49f)],_0x5a1939;}get[_0x4d2937(0x1c8)](){const _0x1384b6=_0x4d2937;return this[_0x1384b6(0x19e)]+this[_0x1384b6(0x49f)];}[_0x4d2937(0x1fa)](_0x48e297,_0xbacd78){const _0x300798=_0x4d2937,_0x419e67=[],_0x307a18=[];return _0x48e297 instanceof Array?_0x48e297['forEach'](_0x2c40cb=>{const _0x3f74a7=a0_0x72fc;_0x2c40cb[_0x3f74a7(0x304)](_0x1e606c=>{const _0x42f339=_0x3f74a7;_0x29e80a[_0x42f339(0x135)](_0x1e606c[_0x42f339(0x5a5)])&&_0x419e67['push'](_0x1e606c),_0x1cc5bc[_0x42f339(0x135)](_0x1e606c[_0x42f339(0x5a5)])&&_0x307a18[_0x42f339(0x415)](_0x1e606c);});}):this['dataChannel'][_0x300798(0x3fc)](_0x48e297),_0x419e67[_0x300798(0x27f)]>0x0&&_0xbacd78?{...this[_0x300798(0x3fe)](_0xbacd78,_0x419e67),'origin':_0x298653[_0x300798(0x1cd)],'streamId':_0xbacd78}:_0x307a18[_0x300798(0x27f)]>0x0&&_0xbacd78?{...this['processOutboundReports'](_0xbacd78,_0x307a18),'origin':_0x298653[_0x300798(0x553)],'streamId':_0xbacd78}:void 0x0;}[_0x4d2937(0x4de)](){const _0x570b5f=_0x4d2937,_0x58a8e9={};this[_0x570b5f(0x252)][_0x570b5f(0x304)]((_0x29589b,_0xf01e33)=>{const _0xa85e90=_0x570b5f;_0x58a8e9[_0xf01e33]=_0x29589b[_0xa85e90(0x4de)]();});const _0x4cda93={};return this[_0x570b5f(0x361)][_0x570b5f(0x304)]((_0x245814,_0x2baf11)=>{const _0x3ab7c5=_0x570b5f;_0x4cda93[_0x2baf11]=_0x245814[_0x3ab7c5(0x4de)]();}),{'bitrate':this[_0x570b5f(0x1c8)],'senderBitrate':this[_0x570b5f(0x19e)],'receiverBitrate':this['receiverBitrate'],'senderStreams':_0x58a8e9,'receiverStreams':_0x4cda93,'dataChannel':this[_0x570b5f(0x15f)][_0x570b5f(0x4de)]()};}[_0x4d2937(0x3fe)](_0x5938b1,_0x55501c){const _0x194af1=_0x4d2937;return this['receiverStreams'][_0x194af1(0x314)](_0x5938b1)||this[_0x194af1(0x361)][_0x194af1(0x470)](_0x5938b1,new _0x4e4cec()),this[_0x194af1(0x361)][_0x194af1(0x447)](_0x5938b1)[_0x194af1(0x1fa)](_0x55501c);}[_0x4d2937(0x257)](_0x587a80,_0x378e4c){const _0x5637c4=_0x4d2937;return this['senderStreams'][_0x5637c4(0x314)](_0x587a80)||this[_0x5637c4(0x252)][_0x5637c4(0x470)](_0x587a80,new _0x4e4cec()),this[_0x5637c4(0x252)][_0x5637c4(0x447)](_0x587a80)[_0x5637c4(0x1fa)](_0x378e4c);}}class _0x6ca55d{[_0x4d2937(0x4e9)]=new Map();['scheduleTime']=0x0;[_0x4d2937(0x492)]=0x0;[_0x4d2937(0x3b1)]=new Map();['objectStores']=new Map();[_0x4d2937(0x2ef)]=new Map();['senderTotalMessages']=new Map();['receiverTotalMessages']=new Map();[_0x4d2937(0xc5)]=new Map();[_0x4d2937(0x4a3)]=new Map();[_0x4d2937(0x43e)]=new Map();['systemTopic'];[_0x4d2937(0x4de)](){const _0x89fc92=_0x4d2937,_0x74ed73={};this['users']['forEach']((_0x2e3be3,_0x11a5cb)=>{const _0x2bac62=a0_0x72fc;_0x74ed73[_0x11a5cb]=_0x2e3be3[_0x2bac62(0x4de)]();});let _0x5bab84=0x0;this[_0x89fc92(0xc5)]['forEach'](_0x14976a=>{_0x5bab84+=_0x14976a;});let _0x28f6bb=0x0;this[_0x89fc92(0x4a3)][_0x89fc92(0x304)](_0x2f323e=>{_0x28f6bb+=_0x2f323e;});const _0x2fb602=_0x5bab84+_0x28f6bb;let _0x4f11f4={'messages':{'total':0x0}};this[_0x89fc92(0x43e)][_0x89fc92(0x304)](_0x18f664=>{const _0x4df200=_0x89fc92;Object[_0x4df200(0x1e2)](_0x18f664)[_0x4df200(0x304)](_0x49cdc9=>{const _0x466cda=_0x4df200;_0x4f11f4[_0x49cdc9]||(_0x4f11f4[_0x49cdc9]={}),Object[_0x466cda(0x1e2)](_0x18f664[_0x49cdc9])[_0x466cda(0x304)](_0x9399c5=>{_0x4f11f4[_0x49cdc9][_0x9399c5]||(_0x4f11f4[_0x49cdc9][_0x9399c5]=0x0),_0x4f11f4[_0x49cdc9][_0x9399c5]+=_0x18f664[_0x49cdc9][_0x9399c5];});});});let _0x117766=0x0,_0x536f82=0x0,_0x347462=0x0,_0xf11a7c=0x0,_0x13fadf=0x0;return this[_0x89fc92(0x3b1)][_0x89fc92(0x304)](_0x264110=>{const _0x6c2619=_0x89fc92;_0x536f82+=_0x264110[_0x6c2619(0x10f)],_0x347462+=_0x264110['messagesReceived'],_0xf11a7c+=_0x264110[_0x6c2619(0x1ab)],_0x13fadf+=_0x264110['bytesReceived'];}),this[_0x89fc92(0x17f)][_0x89fc92(0x304)](_0x5870d8=>{const _0x5ce535=_0x89fc92;_0x117766+=_0x5870d8[_0x5ce535(0x3df)],_0x536f82+=_0x5870d8[_0x5ce535(0x10f)],_0x347462+=_0x5870d8[_0x5ce535(0x4ff)],_0xf11a7c+=_0x5870d8['bytesSent'],_0x13fadf+=_0x5870d8[_0x5ce535(0x624)];}),this[_0x89fc92(0x2ef)]['forEach'](_0xe82467=>{const _0x1aa965=_0x89fc92;_0x117766+=_0xe82467[_0x1aa965(0x3df)],_0x536f82+=_0xe82467[_0x1aa965(0x10f)],_0x347462+=_0xe82467[_0x1aa965(0x4ff)],_0xf11a7c+=_0xe82467[_0x1aa965(0x1ab)],_0x13fadf+=_0xe82467[_0x1aa965(0x624)];}),{'STVolatility':this[_0x89fc92(0x617)](),'DTVolatility':this['getDTVolatility'](),'bitrate':this[_0x89fc92(0x410)](),'senderBitrate':this[_0x89fc92(0x396)](),'receiverBitrate':this[_0x89fc92(0x54a)](),'totalStorageSize':_0x117766,'totalMessages':_0x536f82+_0x347462,'totalMessagesSent':_0x536f82,'totalMessagesReceived':_0x347462,'totalBytes':_0xf11a7c+_0x13fadf,'totalBytesSent':_0xf11a7c,'totalBytesReceived':_0x13fadf,'systemMessages':_0x4f11f4,'timeProcessing':_0x2fb602,'users':_0x74ed73,'pubsubTopics':Object[_0x89fc92(0x417)](this[_0x89fc92(0x3b1)]),'objectStores':Object['fromEntries'](this[_0x89fc92(0x17f)]),'keyValueDatabases':Object[_0x89fc92(0x417)](this['keyValueDatabases'])};}['addRemoteUser'](_0x93d6d8){const _0x379485=_0x4d2937;this[_0x379485(0x4e9)][_0x379485(0x470)](_0x93d6d8,new _0x48b04f());}[_0x4d2937(0x341)](_0x49132a){this['users']['delete'](_0x49132a);}['processReports'](_0x2fe14f,_0x30c647,_0x393058){const _0x21c415=_0x4d2937;_0x30c647 instanceof Array||this[_0x21c415(0x360)](_0x2fe14f,_0x30c647);const _0x23bc13=this[_0x21c415(0x4e9)]['get'](_0x2fe14f)?.[_0x21c415(0x1fa)](_0x30c647,_0x393058);_0x23bc13&&this[_0x21c415(0x2c5)][_0x21c415(0x104)]({'sourceId':_0x52b8cb,'messageType':_0x100c15['Stats'],'content':{'type':_0xb1be6d[_0x21c415(0x4f7)],'data':{..._0x23bc13,'userId':_0x2fe14f}}});}[_0x4d2937(0x5f6)](_0x2be9f9){const _0x4d008c=_0x4d2937;this[_0x4d008c(0x40c)](_0x2be9f9[_0x4d008c(0x546)]),this[_0x4d008c(0x263)](_0x2be9f9[_0x4d008c(0x492)]),this[_0x4d008c(0x2c5)][_0x4d008c(0x104)]({'sourceId':_0x52b8cb,'messageType':_0x100c15[_0x4d008c(0x4b8)],'content':{'type':_0xb1be6d[_0x4d008c(0x18e)],'data':{'STVolatility':this[_0x4d008c(0x617)](),'DTVolatility':this[_0x4d008c(0xbf)]()}}});}[_0x4d2937(0x550)](_0x28a7bf,_0x58d6a6,_0x426fbd){const _0x486a27=_0x4d2937;switch(_0x58d6a6){case _0x163779[_0x486a27(0x162)]:this[_0x486a27(0x3b1)][_0x486a27(0x470)](_0x28a7bf,_0x426fbd);break;case _0x163779['ObjectStoreStats']:this[_0x486a27(0x17f)][_0x486a27(0x470)](_0x28a7bf,_0x426fbd);break;case _0x163779[_0x486a27(0x471)]:this[_0x486a27(0x2ef)][_0x486a27(0x470)](_0x28a7bf,_0x426fbd);}}[_0x4d2937(0xfc)](_0x22dc61){const _0x781cdc=_0x4d2937;this[_0x781cdc(0x2c5)]=_0x22dc61;}[_0x4d2937(0x1fe)](){const _0x5597f1=_0x4d2937;delete this[_0x5597f1(0x2c5)];}[_0x4d2937(0x617)](){const _0x522a58=_0x4d2937;return this[_0x522a58(0x26f)]>0x0&&this[_0x522a58(0x26f)]-_0x929bc8>0x0?(this[_0x522a58(0x26f)]-_0x929bc8)/_0x929bc8:0x0;}[_0x4d2937(0xbf)](){const _0xe49e27=_0x4d2937;return this[_0xe49e27(0x492)]>0x0&&this['durationTime']-0x64>0x0?(this[_0xe49e27(0x492)]-0x64)/0x64:0x0;}[_0x4d2937(0x396)](){const _0x211105=_0x4d2937;let _0x267e4c=0x0;return this[_0x211105(0x4e9)]['forEach'](_0x160f52=>{const _0x3e19d1=_0x211105;_0x267e4c+=_0x160f52[_0x3e19d1(0x19e)];}),_0x267e4c;}['getReceiverBitrate'](){const _0x5f4d09=_0x4d2937;let _0x1cc157=0x0;return this[_0x5f4d09(0x4e9)]['forEach'](_0x2f4b2f=>{const _0x1aa54b=_0x5f4d09;_0x1cc157+=_0x2f4b2f[_0x1aa54b(0x49f)];}),_0x1cc157;}[_0x4d2937(0x410)](){const _0x514c64=_0x4d2937;let _0x5ac776=0x0;return this['users'][_0x514c64(0x304)](_0x44e6e3=>{const _0x27bf46=_0x514c64;_0x5ac776+=_0x44e6e3[_0x27bf46(0x1c8)];}),_0x5ac776;}[_0x4d2937(0x40c)](_0x580626){const _0x594b29=_0x4d2937;this[_0x594b29(0x26f)]=_0x580626;}[_0x4d2937(0x263)](_0x4831e6){const _0x3a4d73=_0x4d2937;this[_0x3a4d73(0x492)]=_0x4831e6;}[_0x4d2937(0x360)](_0x4cee40,_0x7481f9){const _0x46c1b7=_0x4d2937;switch(_0x7481f9[_0x46c1b7(0x3e6)]){case _0x298653[_0x46c1b7(0x553)]:this[_0x46c1b7(0x178)](_0x4cee40,_0x7481f9);break;case _0x298653[_0x46c1b7(0x1cd)]:this[_0x46c1b7(0x3c3)](_0x4cee40,_0x7481f9);}}[_0x4d2937(0x178)](_0x44994e,_0x50a096){const _0x27eb87=_0x4d2937;this[_0x27eb87(0x183)][_0x27eb87(0x470)](_0x44994e,_0x50a096['messagesSent']),this['senderTimeProcessing'][_0x27eb87(0x470)](_0x44994e,_0x50a096[_0x27eb87(0x5e2)]);}['processReceiverReport'](_0x1d5942,_0x229117){const _0x114798=_0x4d2937;this['receiverTotalMessages']['set'](_0x1d5942,_0x229117[_0x114798(0x4ff)]),this[_0x114798(0x4a3)][_0x114798(0x470)](_0x1d5942,_0x229117['timeReceiving']),this[_0x114798(0x43e)]['set'](_0x1d5942,_0x229117[_0x114798(0x43e)]);}}class _0x510d83{[_0x4d2937(0x202)];[_0x4d2937(0x11c)]=new Set();[_0x4d2937(0x585)];['statsCollection'];[_0x4d2937(0x226)];[_0x4d2937(0x3f6)]=new _0x6ca55d();constructor(_0x5615de){const _0x32c66e=_0x4d2937;this[_0x32c66e(0x202)]=_0x5615de,this[_0x32c66e(0x202)][_0x32c66e(0x434)][_0x32c66e(0x335)](this[_0x32c66e(0x3f6)]),this[_0x32c66e(0x4cb)]=this['setupStatsCollection'](),this[_0x32c66e(0x226)]=this[_0x32c66e(0x1f0)]();}[_0x4d2937(0x5ff)](){const _0x39c2c2=_0x4d2937;this[_0x39c2c2(0x202)][_0x39c2c2(0x434)][_0x39c2c2(0x32a)](this[_0x39c2c2(0x3f6)]),this[_0x39c2c2(0x226)](),this['statsCollection']();}[_0x4d2937(0x3ba)](_0x207174){const _0x1c61c7=_0x4d2937;this[_0x1c61c7(0x11c)][_0x1c61c7(0x519)](_0x207174),this[_0x1c61c7(0x3f6)][_0x1c61c7(0x3ba)](_0x207174);}[_0x4d2937(0x341)](_0x190ed3){const _0x33747a=_0x4d2937;this[_0x33747a(0x11c)][_0x33747a(0x2e8)](_0x190ed3),this[_0x33747a(0x3f6)][_0x33747a(0x341)](_0x190ed3);}['handlePeerConnectionSystemEvents'](_0x98a666){const _0x3018d0=_0x4d2937;if(_0x98a666[_0x3018d0(0x4eb)][_0x3018d0(0x5a5)]===_0x2a9fc9['Stats']){const {userId:_0x13403f,streamId:_0x556f0d,stats:_0x32062e}=_0x98a666[_0x3018d0(0x4eb)];this[_0x3018d0(0x3f6)]['processReports'](_0x13403f,_0x32062e,_0x556f0d);}}['handleContentSystemEvents'](_0x27d703){const _0x4a155f=_0x4d2937;switch(_0x27d703['content'][_0x4a155f(0x5a5)]){case _0x163779[_0x4a155f(0x3e5)]:case _0x163779[_0x4a155f(0x471)]:case _0x163779['PubSubTopicStats']:this[_0x4a155f(0x3f6)][_0x4a155f(0x550)](_0x27d703[_0x4a155f(0x4eb)][_0x4a155f(0x41b)],_0x27d703[_0x4a155f(0x4eb)][_0x4a155f(0x5a5)],_0x27d703[_0x4a155f(0x4eb)][_0x4a155f(0x160)]);}}[_0x4d2937(0x1f0)](){const _0x5e1a31=_0x4d2937;return _0x3cfc44[_0x5e1a31(0x466)](()=>{const _0x47717e=_0x5e1a31,_0x5239f7=this[_0x47717e(0x3f6)][_0x47717e(0x4de)]();_0x4dbf9b[_0x47717e(0x5f2)](_0x37cafd[_0x47717e(0x4b8)],_0x47717e(0x213),_0x5239f7),(0x0,_0x166d71[_0x47717e(0x461)])((0x0,_0x166d71['collection'])(_0xbebd52[_0x47717e(0x29f)](),'developers/'+this['configs'][_0x47717e(0x581)]+_0x47717e(0x39d)),{'clusterId':this[_0x47717e(0x202)][_0x47717e(0x20a)],'userId':this['configs'][_0x47717e(0x201)],'timestamp':(0x0,_0x166d71[_0x47717e(0x11d)])(),'report':_0x5239f7}),_0x4dbf9b[_0x47717e(0x5fc)](_0x47717e(0x160),{'clusterId':this[_0x47717e(0x202)][_0x47717e(0x20a)],'userId':this['configs'][_0x47717e(0x201)],'data':{'report':_0x5239f7}});},_0xbaf22);}['setupStatsCollection'](){const _0x2484a7=_0x4d2937;let _0x1e3d7a=!0x1,_0x1ddb0d=Date[_0x2484a7(0x28d)]();return _0x3cfc44[_0x2484a7(0x466)](async()=>{const _0x50e877=_0x2484a7;if(_0x1e3d7a)return;if(_0x1e3d7a=!0x0,0x0===this[_0x50e877(0x11c)][_0x50e877(0x1b8)])return delete this['nextUserId'],void(_0x1e3d7a=!0x1);const _0x431716=Date[_0x50e877(0x28d)]();this[_0x50e877(0x322)]();try{await this[_0x50e877(0x202)][_0x50e877(0x434)][_0x50e877(0x503)](this[_0x50e877(0x585)]);}catch(_0x34e2a3){}this[_0x50e877(0x3f6)][_0x50e877(0x5f6)]({'secheduleTime':_0x431716-_0x1ddb0d,'durationTime':Date[_0x50e877(0x28d)]()-_0x431716}),_0x1ddb0d=_0x431716,_0x1e3d7a=!0x1;},_0x929bc8);}[_0x4d2937(0x322)](){const _0x22ce8c=_0x4d2937;let _0x48c414,_0x18f956=!0x1;this[_0x22ce8c(0x585)]&&(this[_0x22ce8c(0x11c)]['has'](this['nextUserId'])||delete this[_0x22ce8c(0x585)]);for(const _0x2cb18f of this[_0x22ce8c(0x11c)])if(_0x48c414||(_0x48c414=_0x2cb18f),this[_0x22ce8c(0x585)]!==_0x2cb18f){if(_0x18f956)return void(this[_0x22ce8c(0x585)]=_0x2cb18f);}else _0x18f956=!0x0,delete this[_0x22ce8c(0x585)];this[_0x22ce8c(0x585)]||(this[_0x22ce8c(0x585)]=_0x48c414);}}class _0x140bbd{[_0x4d2937(0xbd)];[_0x4d2937(0x2f6)];[_0x4d2937(0x2c5)];constructor(_0x28e55f,_0xe40faa){const _0x593f57=_0x4d2937;this['source']=_0x28e55f,this[_0x593f57(0x2f6)]=_0xe40faa;}['registerSystemPublisher'](_0x3d9c6e){this['systemTopic']=_0x3d9c6e;}[_0x4d2937(0x1fe)](){delete this['systemTopic'];}}class _0x5601cb extends _0x140bbd{[_0x4d2937(0xbd)];[_0x4d2937(0x2f6)];['params'];constructor(_0x3d64c6,_0x50c7a9,_0x41c2c7){const _0x2f7da2=_0x4d2937;super(_0x3d64c6,_0x50c7a9),this[_0x2f7da2(0xbd)]=_0x3d64c6,this[_0x2f7da2(0x2f6)]=_0x50c7a9,this[_0x2f7da2(0xf3)]=_0x41c2c7;}[_0x4d2937(0x61d)](_0x304ab1,_0x454bc4,_0x4583b3){const _0x3f46c9=_0x4d2937;if(this[_0x3f46c9(0x2f6)][_0x3f46c9(0x25c)]()===_0x18f6f1[_0x3f46c9(0x3e2)]){const _0x4b347d={'type':_0x2d9739['SubscribeMediaStream'],'label':this[_0x3f46c9(0x2f6)][_0x3f46c9(0x631)](),'ownerId':_0x304ab1,'trackKinds':_0x454bc4??this[_0x3f46c9(0x2f6)][_0x3f46c9(0x333)](),'params':_0x4583b3};this['systemTopic'][_0x3f46c9(0x104)]({'sourceId':this['source'][_0x3f46c9(0x3bf)](),'destinationIds':[this[_0x3f46c9(0xbd)][_0x3f46c9(0x2f5)]()],'messageType':_0x100c15[_0x3f46c9(0x194)],'content':_0x4b347d}),this[_0x3f46c9(0xf3)]=_0x4583b3;}}[_0x4d2937(0x5b8)](_0x210d65,_0x30c6c0){const _0x3b5b4e=_0x4d2937;if(this['destination'][_0x3b5b4e(0x25c)]()===_0x18f6f1['Media']){const _0x251f77={'type':_0x2d9739[_0x3b5b4e(0x298)],'label':this[_0x3b5b4e(0x2f6)]['getLabel'](),'ownerId':_0x210d65,'params':_0x30c6c0};this[_0x3b5b4e(0x2c5)][_0x3b5b4e(0x104)]({'sourceId':this[_0x3b5b4e(0xbd)]['getLocalId'](),'destinationIds':[this['source']['getRemoteId']()],'messageType':_0x100c15[_0x3b5b4e(0x194)],'content':_0x251f77}),this[_0x3b5b4e(0xf3)]=_0x30c6c0;}}[_0x4d2937(0x136)](_0x5a388a,_0x16fc52,_0x2c96b0){const _0x1a78c9=_0x4d2937;if(this[_0x1a78c9(0x2f6)][_0x1a78c9(0x25c)]()===_0x18f6f1[_0x1a78c9(0x3e2)]){const _0x3914f6={'type':_0x2d9739[_0x1a78c9(0x2cc)],'label':this[_0x1a78c9(0x2f6)][_0x1a78c9(0x631)](),'ownerId':_0x5a388a,'trackKinds':_0x2c96b0??this[_0x1a78c9(0x2f6)][_0x1a78c9(0x333)](),'remainingTracks':_0x16fc52};this[_0x1a78c9(0x2c5)][_0x1a78c9(0x104)]({'sourceId':this['source'][_0x1a78c9(0x3bf)](),'destinationIds':[this[_0x1a78c9(0xbd)][_0x1a78c9(0x2f5)]()],'messageType':_0x100c15[_0x1a78c9(0x194)],'content':_0x3914f6});}}}class _0x2cbb6c{[_0x4d2937(0x2d3)];[_0x4d2937(0x1db)];[_0x4d2937(0x57a)];[_0x4d2937(0x2c5)];[_0x4d2937(0x225)]=new Set();['startTime']=Date[_0x4d2937(0x28d)]();[_0x4d2937(0xf3)];[_0x4d2937(0x61f)]=0x0;constructor(_0xd799cf,_0x5e3592,_0x14dba6,_0x4eeb94){const _0xf18510=_0x4d2937;this[_0xf18510(0x2d3)]=_0x5e3592,this[_0xf18510(0x1db)]=_0x14dba6,this[_0xf18510(0x57a)]=_0x4eeb94,_0xd799cf[_0xf18510(0x304)](_0x16cf60=>{const _0x3143b7=_0xf18510;this[_0x3143b7(0x225)][_0x3143b7(0x519)]({'userId':_0x16cf60,'type':_0x5f29f9[_0x3143b7(0x378)]});});}['getTracks'](){return this['tracks'];}[_0x4d2937(0xfc)](_0xd54e24){const _0x5f02e8=_0x4d2937;this[_0x5f02e8(0x2c5)]=_0xd54e24;}[_0x4d2937(0x1fe)](){const _0xde232b=_0x4d2937;delete this[_0xde232b(0x2c5)];}['reset'](_0x34f74a,_0x471bb4){const _0x383f8a=_0x4d2937;this[_0x383f8a(0x3a2)]=Date['now'](),this['answers'][_0x383f8a(0x348)](),_0x34f74a['forEach'](_0x3e512a=>{const _0x47efd1=_0x383f8a;this['answers'][_0x47efd1(0x519)]({'userId':_0x3e512a,'type':_0x5f29f9[_0x47efd1(0x378)]});}),this[_0x383f8a(0x61f)]+=0x1,this[_0x383f8a(0x2d3)]=_0x471bb4;}['sendRequest'](_0x2a7d2e,_0xcebe73,_0xadf200,_0x279d96,_0x48c651){const _0x59a5a0=_0x4d2937;if(this['retryCount']>0xa)throw new _0xce6ead(_0xce6ead[_0x59a5a0(0x197)]['SubscriptionRequestNoAnswer'],{'answers':Array['from'](this[_0x59a5a0(0x225)])[_0x59a5a0(0x54c)](_0x2ce6db=>({'userId':_0x2ce6db['userId'],'type':_0x2ce6db[_0x59a5a0(0x5a5)]}))});const _0x1ba387=Array[_0x59a5a0(0x474)](this[_0x59a5a0(0x225)])['map'](_0x4b605=>_0x4b605[_0x59a5a0(0x294)]);this[_0x59a5a0(0xf3)]=_0x48c651,this[_0x59a5a0(0x2c5)][_0x59a5a0(0x104)]({'sourceId':_0x2a7d2e,'destinationIds':_0x1ba387,'messageType':_0x100c15[_0x59a5a0(0x194)],'content':{'type':_0x2d9739['NeedMediaStream'],'label':_0xadf200,'ownerId':_0xcebe73,'trackKinds':_0x279d96,'params':_0x48c651}}),_0x4dbf9b[_0x59a5a0(0x5f2)](_0x37cafd[_0x59a5a0(0x194)],_0x59a5a0(0x426),_0x2a7d2e,_0x1ba387);}[_0x4d2937(0xd7)](_0x865812,_0x1babfa){const _0x20a953=_0x4d2937;switch(_0x1babfa[_0x20a953(0x5a5)]){case _0x2d9739[_0x20a953(0x375)]:{const _0x23498f=this[_0x20a953(0x2d3)]>=_0x1babfa[_0x20a953(0x129)]&&_0x1babfa['distance']<=this[_0x20a953(0x1db)],_0x21ecc7=Array[_0x20a953(0x474)](this[_0x20a953(0x225)])[_0x20a953(0x1d8)](_0x4d9ac7=>_0x4d9ac7[_0x20a953(0x294)]===_0x865812);_0x21ecc7['type']=_0x23498f?_0x5f29f9[_0x20a953(0x30d)]:_0x5f29f9[_0x20a953(0x5f4)],_0x21ecc7['cost']=_0x1babfa[_0x20a953(0x1ac)],_0x21ecc7[_0x20a953(0x129)]=_0x1babfa[_0x20a953(0x129)],_0x21ecc7[_0x20a953(0x1cc)]=_0x1babfa[_0x20a953(0x1cc)],_0x21ecc7['roundTripTime']=Date['now']()-this['startTime'],_0x21ecc7[_0x20a953(0xf3)]=this[_0x20a953(0xf3)],_0x21ecc7[_0x20a953(0x2bc)]=_0x1babfa['ownerId'],_0x21ecc7[_0x20a953(0x538)]=_0x1babfa['trackKinds'],_0x21ecc7[_0x20a953(0x242)]=_0x1babfa['label'],_0x4dbf9b[_0x20a953(0x5f2)](_0x37cafd['Subscription'],(_0x23498f?'Accepted':_0x20a953(0x5f4))+_0x20a953(0x39a),_0x21ecc7);break;}case _0x2d9739[_0x20a953(0x577)]:{const _0x14ef6e=Array[_0x20a953(0x474)](this[_0x20a953(0x225)])[_0x20a953(0x1d8)](_0x4b3587=>_0x4b3587[_0x20a953(0x294)]===_0x865812);_0x14ef6e[_0x20a953(0x5a5)]=_0x5f29f9[_0x20a953(0x5f4)],_0x4dbf9b[_0x20a953(0x5f2)](_0x37cafd[_0x20a953(0x194)],_0x20a953(0x220),_0x14ef6e);break;}}if(this[_0x20a953(0x146)]())return this[_0x20a953(0x521)]();}['chooseAnswer'](){const _0x4c9ec5=_0x4d2937,_0x47d39a=Array[_0x4c9ec5(0x474)](this[_0x4c9ec5(0x225)])[_0x4c9ec5(0x4a5)](_0x543061=>_0x543061['type']===_0x5f29f9[_0x4c9ec5(0x30d)])['sort']((_0xf63174,_0x450fbb)=>_0xf63174[_0x4c9ec5(0x1ac)]===_0x450fbb['cost']?_0xf63174['roundTripTime']-_0x450fbb[_0x4c9ec5(0x243)]:_0xf63174[_0x4c9ec5(0x1ac)]-_0x450fbb['cost']);if(0x0===_0x47d39a[_0x4c9ec5(0x27f)])throw new _0xce6ead(_0xce6ead[_0x4c9ec5(0x197)][_0x4c9ec5(0x371)],{'answers':Array[_0x4c9ec5(0x474)](this['answers'])['map'](_0x59d674=>({'userId':_0x59d674[_0x4c9ec5(0x294)],'type':_0x59d674[_0x4c9ec5(0x5a5)]}))});return _0x4dbf9b[_0x4c9ec5(0x5f2)](_0x37cafd[_0x4c9ec5(0x194)],'Chosen\x20answer',_0x47d39a[0x0],this[_0x4c9ec5(0x225)]),_0x47d39a[0x0];}[_0x4d2937(0x146)](){const _0xbaff6=_0x4d2937;for(const _0x5d27af of this[_0xbaff6(0x225)])if(_0x5d27af[_0xbaff6(0x5a5)]===_0x5f29f9[_0xbaff6(0x378)])return!0x1;return!0x0;}}class _0xe7e78e{['label'];[_0x4d2937(0x3af)];[_0x4d2937(0x368)]=_0x412493();constructor(_0x162550,_0x54778e){const _0x2bcf0b=_0x4d2937;this[_0x2bcf0b(0x41b)]=_0x162550,this[_0x2bcf0b(0x3af)]=_0x54778e;}[_0x4d2937(0x631)](){const _0x4b1424=_0x4d2937;return this[_0x4b1424(0x41b)];}['getContentType'](){const _0x15595f=_0x4d2937;return this[_0x15595f(0x3af)];}[_0x4d2937(0x362)](_0x12538c){const _0x16b558=_0x4d2937;_0x12538c[_0x16b558(0x153)](this);}['registerDestination'](_0x4fdb94){const _0x509136=_0x4d2937;_0x4fdb94[_0x509136(0x56b)](this);}[_0x4d2937(0x104)](_0x3be889){const _0x383129=_0x4d2937;this[_0x383129(0x368)][_0x383129(0x104)]({'topicLabel':this[_0x383129(0x41b)],'contentType':this['contentType'],'uuid':(0x0,_0x44b60e['v4'])(),'recipients':[],..._0x3be889});}[_0x4d2937(0x61d)](_0x58342c){const _0x14451d=_0x4d2937;return this[_0x14451d(0x368)][_0x14451d(0x61d)](_0x58342c);}[_0x4d2937(0x3d5)](_0xa5ad62){_0xa5ad62['unregisterPublisher'](this);}[_0x4d2937(0xe5)](_0x379eab){const _0x2b3d33=_0x4d2937;_0x379eab[_0x2b3d33(0x5f9)](this);}}class _0x3656cb{['maps']={'topics':new Map(),'subscriptions':new Map()};[_0x4d2937(0x34f)];constructor(_0x873ab3){this['getPartsFromSubscription']=_0x873ab3;}get['subscriptions'](){const _0x4ea339=_0x4d2937;return this[_0x4ea339(0x62b)][_0x4ea339(0x3f2)];}get['topics'](){const _0x3caa66=_0x4d2937;return this[_0x3caa66(0x62b)]['topics'];}['createSubscription'](_0x32d995,_0xd3a57d){const _0x43e2d1=_0x4d2937,_0x346215=this[_0x43e2d1(0x34f)](_0xd3a57d),_0x18e268=_0x516aef(_0x32d995);if(!_0x346215[_0x43e2d1(0x56d)])throw new _0xce6ead(_0xce6ead[_0x43e2d1(0x197)]['InvalidSubscription'],{'message':_0x18e268+':\x20'+_0x346215[_0x43e2d1(0x4ba)]+_0x43e2d1(0x58e)+_0x346215[_0x43e2d1(0x3af)],'subscriptionType':_0x32d995,'subscription':_0xd3a57d,'subscriptonParts':_0x346215});const _0x202f29=_0x2e4981(_0x32d995,_0x346215);if(this[_0x43e2d1(0x62b)]['subscriptions'][_0x43e2d1(0x314)](_0x202f29))throw new _0xce6ead(_0xce6ead['codes'][_0x43e2d1(0x120)],{'message':_0x18e268+':\x20'+_0x202f29+'\x20already\x20exists','subscriptionType':_0x32d995,'subscription':_0xd3a57d,'subscriptonParts':_0x346215});this[_0x43e2d1(0x62b)][_0x43e2d1(0x3f2)]['set'](_0x202f29,_0xd3a57d),this[_0x43e2d1(0x1ed)](_0x346215,_0xd3a57d);}[_0x4d2937(0x21c)](_0x368535,_0x41f2af){const _0x39292d=_0x4d2937,_0x105023=_0x2e4981(_0x41f2af,_0x368535),_0xe6a54f=this[_0x39292d(0x62b)][_0x39292d(0x3f2)][_0x39292d(0x447)](_0x105023);if(!_0xe6a54f)throw new _0xce6ead(_0xce6ead['codes'][_0x39292d(0x120)],{'message':_0x516aef(_0x41f2af)+':\x20'+_0x105023+_0x39292d(0x22c),'subscriptionType':_0x41f2af,'subscription':_0xe6a54f,'subscriptonParts':_0x368535});this[_0x39292d(0x44a)](_0xe6a54f,_0x105023,_0x368535);}[_0x4d2937(0x44a)](_0x3cab60,_0x2ff9e2,_0x2d3a5a){const _0x10b368=_0x4d2937;_0x2d3a5a=_0x2d3a5a||this[_0x10b368(0x34f)](_0x3cab60),this['maps'][_0x10b368(0x3f2)][_0x10b368(0x2e8)](_0x2ff9e2),this['removeTopic'](_0x2d3a5a,_0x3cab60);}['createTopic'](_0x49b8be,{source:_0x52a041,destination:_0xf3ae5d}){const _0x4dd82a=_0x4d2937,{contentType:_0x4c1e9b,label:_0x368c1a,remoteId:_0x12d22d}=_0x49b8be,_0x4d6bd3=_0x8d2c7b(_0x4c1e9b,_0x368c1a,_0x12d22d),_0x957200=new _0xe7e78e(_0x4d6bd3,_0x4c1e9b);_0x957200[_0x4dd82a(0x362)](_0x52a041),_0x957200[_0x4dd82a(0x2c8)](_0xf3ae5d),this[_0x4dd82a(0x62b)][_0x4dd82a(0x542)][_0x4dd82a(0x470)](_0x957200[_0x4dd82a(0x631)](),_0x957200);}[_0x4d2937(0x485)](_0x99543b,_0x51ccc4){const _0x10e8f2=_0x4d2937,{contentType:_0x26334d,label:_0x130b75,remoteId:_0x4faa95}=_0x99543b,_0x2aa8ce=_0x8d2c7b(_0x26334d,_0x130b75,_0x4faa95),_0x55173e=this[_0x10e8f2(0x62b)][_0x10e8f2(0x542)]['get'](_0x2aa8ce);_0x55173e&&(this['closeTopic'](_0x55173e,_0x51ccc4),this[_0x10e8f2(0x62b)][_0x10e8f2(0x542)]['delete'](_0x2aa8ce));}[_0x4d2937(0x630)](_0x10e589,{source:_0x4c35a1,destination:_0x3c3f6a}){const _0x5f3882=_0x4d2937;_0x10e589[_0x5f3882(0x3d5)](_0x4c35a1),_0x10e589[_0x5f3882(0xe5)](_0x3c3f6a);}[_0x4d2937(0x1d4)](_0x24d35e){const _0xb2b86e=_0x4d2937;this[_0xb2b86e(0x62b)][_0xb2b86e(0x3f2)]['forEach']((_0x460000,_0x301cd8)=>{const _0x3fc534=_0xb2b86e;_0x301cd8[_0x3fc534(0x295)](_0x24d35e)&&this[_0x3fc534(0x44a)](_0x460000,_0x301cd8);});}}class _0x462f0d{[_0x4d2937(0x202)];[_0x4d2937(0x1db)];['subscriptionRequests']=new Map();[_0x4d2937(0x117)]=_0x543cea(new _0x3b5b80(this[_0x4d2937(0x37d)][_0x4d2937(0x4f1)](this),()=>_0x3cfc44[_0x4d2937(0x13a)](0x64)),!0x0);[_0x4d2937(0x564)]=new Map();['maps'];[_0x4d2937(0x30b)]=new Map();constructor(_0x102657,_0x2b788d){const _0x32da5b=_0x4d2937;this['configs']=_0x102657,this[_0x32da5b(0x1db)]=_0x2b788d,this[_0x32da5b(0x62b)]=new _0x3656cb(({source:_0x3aace8,destination:_0x14fe45})=>_0x3b8fd4(_0x14fe45,_0x3aace8));}[_0x4d2937(0x40e)](_0x4bf6da,_0xd1efd4){const _0x172aca=_0x4d2937,_0x3b93f0=this['isMediaSource'](_0x4bf6da)&&this[_0x172aca(0xca)](_0xd1efd4)?new _0x5601cb(_0x4bf6da,_0xd1efd4):new _0x140bbd(_0x4bf6da,_0xd1efd4);this[_0x172aca(0x62b)][_0x172aca(0x40e)](_0x5e85b3[_0x172aca(0x373)],_0x3b93f0),this['configs'][_0x172aca(0x434)][_0x172aca(0x335)](_0x3b93f0);}[_0x4d2937(0x21c)](_0x5c4053,_0x3ee89c,_0x41809b=''){const _0xef6b98=_0x4d2937,_0x12fa78={'contentType':_0x3ee89c,'label':_0x5c4053,'remoteId':_0x41809b},_0x42a732=_0x2e4981(_0x5e85b3[_0xef6b98(0x373)],_0x12fa78),_0x561e59=this[_0xef6b98(0x62b)][_0xef6b98(0x3f2)][_0xef6b98(0x447)](_0x42a732);_0x561e59&&this['closeSubscription'](_0x561e59,_0x42a732);}[_0x4d2937(0x517)](_0x1cf8db){const _0x432223=_0x4d2937;this[_0x432223(0x216)](_0x1cf8db);}[_0x4d2937(0x11b)]({label:_0x8b43c4,ownerId:_0x1cb383,trackKinds:_0x15ac6b,params:_0x21baff}){const _0x11fc9d=_0x4d2937;this[_0x11fc9d(0xb4)](_0x8b43c4,_0x1cb383,_0x15ac6b,_0x21baff);}[_0x4d2937(0x5f5)]({ownerId:_0x4c1bf3,label:_0x243074,params:_0x209c17}){const _0x4389dc=_0x4d2937,{subscriptionLabel:_0x36b89a}=this[_0x4389dc(0x5b6)](_0x243074,_0x4c1bf3),_0x2a100b=this[_0x4389dc(0x42c)](_0x36b89a);_0x2a100b&&_0x2a100b['update'](_0x4c1bf3,_0x209c17);}[_0x4d2937(0xf7)]({ownerId:_0x133940,label:_0x472a5c,trackKinds:_0x27ea37,remainingTracks:_0x4571f4}){const _0xaf259b=_0x4d2937,_0x4cab60=_0x2e4981(_0x5e85b3[_0xaf259b(0x373)],{'contentType':_0x18f6f1[_0xaf259b(0x3e2)],'label':_0x472a5c,'remoteId':_0x133940});this[_0xaf259b(0x316)](_0x4cab60);const _0x2d7cd3=this[_0xaf259b(0x359)][_0xaf259b(0x447)](_0x4cab60);_0x2d7cd3&&(this[_0xaf259b(0x202)]['mediator']['unregisterSystemSource'](_0x2d7cd3),this['subscriptionRequests'][_0xaf259b(0x2e8)](_0x4cab60));const {parts:_0x518320,subscriptionLabel:_0x2da398}=this[_0xaf259b(0x5b6)](_0x472a5c,_0x133940),_0x36a17e=this[_0xaf259b(0x42c)](_0x2da398);_0x36a17e&&(_0x36a17e[_0xaf259b(0x136)](_0x133940,_0x4571f4,_0x27ea37),0x0===_0x4571f4&&this['removeSubscription'](_0x518320[_0xaf259b(0x41b)],_0x518320[_0xaf259b(0x3af)],_0x518320[_0xaf259b(0x4ba)]));}[_0x4d2937(0x16d)](_0x381b75,{label:_0x3c6f72,ownerId:_0x221523,trackKinds:_0x2ab121,streamId:_0x44fd80,params:_0x2ec67b}){const _0x32622b=_0x4d2937,_0x24b037=_0x2e4981(_0x5e85b3[_0x32622b(0x373)],{'contentType':_0x18f6f1[_0x32622b(0x3e2)],'label':_0x44fd80,'remoteId':_0x381b75}),_0x4b4bfc=this['maps'][_0x32622b(0x3f2)][_0x32622b(0x447)](_0x24b037);if(!(_0x4b4bfc&&_0x4b4bfc instanceof _0x5601cb))throw new _0xce6ead(_0xce6ead[_0x32622b(0x197)][_0x32622b(0x1ae)],{'label':_0x24b037,'ownerId':_0x221523});this[_0x32622b(0x44a)](_0x4b4bfc,_0x24b037),this[_0x32622b(0xb4)](_0x3c6f72,_0x221523,_0x2ab121,_0x2ec67b);}['handleSubscriptionProvideMediaStream'](_0x127e00,_0x4b456c){const _0x89951f=_0x4d2937,{label:_0x4751db,ownerId:_0x512732,trackKinds:_0x1a3888,params:_0x11b05c}=_0x4b456c,_0x2cd556=_0x2e4981(_0x5e85b3[_0x89951f(0x373)],{'contentType':_0x18f6f1[_0x89951f(0x3e2)],'label':_0x4751db,'remoteId':_0x512732});if(!this[_0x89951f(0x359)]['has'](_0x2cd556))throw new _0xce6ead(_0xce6ead['codes']['SubscriptionRequestDoesNotExist'],{'label':_0x2cd556,'ownerId':_0x512732,'streamId':_0x4b456c[_0x89951f(0x1cc)],'requests':this[_0x89951f(0x359)]});const _0xd43f64=this[_0x89951f(0x359)][_0x89951f(0x447)](_0x2cd556);if(_0x1a3888[_0x89951f(0x27f)]===_0xd43f64[_0x89951f(0xed)]()[_0x89951f(0x27f)]&&_0x1a3888[_0x89951f(0x258)](_0x4fba71=>_0xd43f64[_0x89951f(0xed)]()['includes'](_0x4fba71)))try{const _0x4d62e7=_0xd43f64['handleSubscriptionSystemEvents'](_0x127e00,_0x4b456c);if(!_0x4d62e7)return;this[_0x89951f(0x61d)](_0x4d62e7,_0x512732,_0x4751db,_0x2cd556,_0x1a3888);}catch(_0x3ed603){return void this[_0x89951f(0x1ee)](_0x4751db,_0x512732,_0x1a3888,_0x11b05c);}}[_0x4d2937(0x42e)](_0x4eedcc,{label:_0xd84f9a,ownerId:_0x1e4f0a,trackKinds:_0x3e5283}){const _0x1d939=_0x4d2937,_0x17267d=this['configs'][_0x1d939(0x434)]['getRemoteMediaStream'](_0x1e4f0a,_0xd84f9a);if(!_0x17267d)return;const _0x46300a=_0x17267d[_0x1d939(0x5e8)](),_0xb0fdf=_0x17267d['getSubscribedTracks']();_0xb0fdf[_0x1d939(0x31c)](_0x7b7fcf=>_0x3e5283[_0x1d939(0x135)](_0x7b7fcf))&&this[_0x1d939(0x5c1)](_0x4eedcc,_0xd84f9a,_0x46300a,_0x1e4f0a,_0xb0fdf);}[_0x4d2937(0x5ee)]({label:_0x19ec24,providerId:_0x2b2a74,ownerId:_0x345d86,streamId:_0x2653f5,trackKinds:_0x170d6a}){this['findNewMediaSubscription'](_0x2b2a74,_0x19ec24,_0x2653f5,_0x345d86,_0x170d6a);}[_0x4d2937(0x2c9)](_0x28bb79){const _0x191c78=_0x4d2937;for(const _0x1baa0b of this[_0x191c78(0x30b)][_0x191c78(0xc2)]()){const {streamLabel:_0x2233c6,ownerId:_0x48a6ad,trackKinds:_0x3ee32e,params:_0x101df1}=_0x1baa0b;if(!_0x48a6ad||!_0x3ee32e||!_0x2233c6)return;this[_0x191c78(0x117)][_0x191c78(0x415)]({'label':_0x2233c6,'ownerId':_0x48a6ad,'trackKinds':_0x3ee32e,'params':_0x101df1,'remoteId':_0x28bb79});}}['removeSubscriptionsForUser'](_0x15ba09){const _0x277f5a=_0x4d2937;this[_0x277f5a(0x62b)][_0x277f5a(0x3f2)][_0x277f5a(0x304)]((_0x4023a3,_0x2bcba5)=>{const _0x4bd823=_0x277f5a;if(_0x2bcba5[_0x4bd823(0x295)](_0x15ba09)){if(_0x4023a3[_0x4bd823(0x2f6)][_0x4bd823(0x25c)]()===_0x18f6f1[_0x4bd823(0x3e2)]){const _0x558ae2=_0x4023a3['destination'];if(_0x558ae2[_0x4bd823(0x584)]()[_0x4bd823(0x27f)]>0x0){const _0x39815f={'type':_0x2d9739['MediaStreamUnavailable'],'label':_0x558ae2[_0x4bd823(0x631)](),'ownerId':_0x558ae2['getOwnerId'](),'trackKinds':_0x558ae2[_0x4bd823(0x584)]()};return void this[_0x4bd823(0x42e)](_0x15ba09,_0x39815f);}}this[_0x4bd823(0x44a)](_0x4023a3,_0x2bcba5);}});}[_0x4d2937(0x5ff)](){const _0x3b6ed3=_0x4d2937;this[_0x3b6ed3(0x62b)][_0x3b6ed3(0x3f2)]['forEach'](this[_0x3b6ed3(0x44a)]['bind'](this));}[_0x4d2937(0x61d)](_0x392b43,_0x592831,_0x6604fd,_0x10acd4,_0x2ca838){const _0xbbb08c=_0x4d2937,_0x357f5e=this['configs'][_0xbbb08c(0x434)][_0xbbb08c(0x4e5)](_0x392b43['userId']),_0x36fbb5=this[_0xbbb08c(0x202)][_0xbbb08c(0x434)][_0xbbb08c(0x606)](_0x592831,_0x6604fd);this[_0xbbb08c(0x316)](_0x10acd4),this[_0xbbb08c(0x359)][_0xbbb08c(0x314)](_0x10acd4)&&(this[_0xbbb08c(0x202)][_0xbbb08c(0x434)]['unregisterSystemSource'](this[_0xbbb08c(0x359)][_0xbbb08c(0x447)](_0x10acd4)),this[_0xbbb08c(0x359)][_0xbbb08c(0x2e8)](_0x10acd4)),this[_0xbbb08c(0x41a)](_0x392b43,_0x592831,_0x6604fd,_0x36fbb5),_0x36fbb5[_0xbbb08c(0xd8)](_0x392b43[_0xbbb08c(0x1cc)]),_0x36fbb5[_0xbbb08c(0x317)](_0x392b43[_0xbbb08c(0x294)]);const _0x1aa966=_0x3b8fd4(_0x36fbb5,_0x357f5e),_0x376601=_0x2e4981(_0x5e85b3['Incoming'],_0x1aa966);this[_0xbbb08c(0x62b)][_0xbbb08c(0x3f2)]['has'](_0x376601)||this[_0xbbb08c(0x40e)](_0x357f5e,_0x36fbb5);const _0x3a8b1b=this[_0xbbb08c(0x62b)][_0xbbb08c(0x3f2)]['get'](_0x376601);if(!(_0x3a8b1b&&_0x3a8b1b instanceof _0x5601cb))throw new _0xce6ead(_0xce6ead[_0xbbb08c(0x197)][_0xbbb08c(0x1ae)],{'label':_0x10acd4,'ownerId':_0x592831});_0x4dbf9b['logEvent']('subscription',{'clusterId':this[_0xbbb08c(0x202)][_0xbbb08c(0x20a)],'userId':this[_0xbbb08c(0x202)][_0xbbb08c(0x201)],'data':{'subscriptionLabel':_0x376601,'chosenAnswer':_0x392b43}}),this[_0xbbb08c(0x30b)][_0xbbb08c(0x470)](_0x376601,_0x392b43),_0x3a8b1b[_0xbbb08c(0x61d)](_0x592831,_0x2ca838,_0x392b43[_0xbbb08c(0xf3)]);}[_0x4d2937(0x216)]({ownerId:_0x1b05bd,label:_0x25d6a8}){const _0x396383=_0x4d2937,_0xbc6343=this['configs'][_0x396383(0x434)]['getRemoteMediaStream'](_0x1b05bd,_0x25d6a8),[_0x194f0d,_0x352090]=Array[_0x396383(0x474)](this[_0x396383(0x62b)][_0x396383(0x3f2)][_0x396383(0x287)]())[_0x396383(0x1d8)](([_0x221d05,_0xbf8edb])=>-0x1!==_0x221d05[_0x396383(0x456)](_0xbc6343['getInternalStreamId']()));return this[_0x396383(0x44a)](_0x352090,_0x194f0d);}[_0x4d2937(0x44a)](_0x2b9eb8,_0x4168c8){const _0x3f344c=_0x4d2937;this[_0x3f344c(0x202)]['mediator']['unregisterSystemSource'](_0x2b9eb8),this[_0x3f344c(0x62b)][_0x3f344c(0x44a)](_0x2b9eb8,_0x4168c8);}[_0x4d2937(0x33c)](_0x32eb3b){const _0x511912=_0x4d2937;return _0x32eb3b[_0x511912(0x2a6)]()['includes'](_0x18f6f1[_0x511912(0x3e2)]);}[_0x4d2937(0xca)](_0x205d23){const _0x235ee0=_0x4d2937;return _0x205d23[_0x235ee0(0x25c)]()===_0x18f6f1[_0x235ee0(0x3e2)];}async['handleNoAnswer'](_0x28ab79,_0x12a7fc,_0xf9ddb4,_0x4db7c2){const _0x41828d=_0x4d2937;await _0x3cfc44[_0x41828d(0x13a)](0x3e8);const _0x280921=_0x2e4981(_0x5e85b3[_0x41828d(0x373)],{'contentType':_0x18f6f1[_0x41828d(0x3e2)],'label':_0x28ab79,'remoteId':_0x12a7fc});this[_0x41828d(0x316)](_0x280921);const _0x537703=this[_0x41828d(0x359)][_0x41828d(0x447)](_0x280921);if(!_0x537703)throw new _0xce6ead(_0xce6ead[_0x41828d(0x197)][_0x41828d(0x1ae)],{'label':_0x280921,'ownerId':_0x12a7fc});const _0x43cd92=this[_0x41828d(0x202)][_0x41828d(0x434)]['getConnections'](_0x2b3e08=>_0x2b3e08[_0x41828d(0x23e)]()),_0x3050b6=this[_0x41828d(0x202)][_0x41828d(0x434)]['getDistance'](this[_0x41828d(0x202)][_0x41828d(0x201)],_0x12a7fc);_0x537703[_0x41828d(0x1a5)](_0x43cd92[_0x41828d(0x54c)](_0x4ff5f5=>_0x4ff5f5[_0x41828d(0x2f5)]()),_0x3050b6);try{_0x537703[_0x41828d(0x355)](this[_0x41828d(0x202)][_0x41828d(0x201)],_0x12a7fc,_0x28ab79,_0xf9ddb4,_0x4db7c2),this[_0x41828d(0x168)](_0x28ab79,_0x12a7fc,_0xf9ddb4,_0x4db7c2,_0x280921,_0x537703);}catch(_0x5d5694){this[_0x41828d(0x117)][_0x41828d(0x415)]({'label':_0x28ab79,'ownerId':_0x12a7fc,'trackKinds':_0xf9ddb4,'params':_0x4db7c2});}}[_0x4d2937(0xb4)](_0x3bcdb2,_0x5356cd,_0x2fb95d,_0x384b4c){const _0x580488=_0x4d2937;this['subscriptionRequestsQueue'][_0x580488(0x415)]({'label':_0x3bcdb2,'ownerId':_0x5356cd,'trackKinds':_0x2fb95d,'params':_0x384b4c});}[_0x4d2937(0x37d)]({label:_0x551336,ownerId:_0x12ad05,trackKinds:_0x3d7966,params:_0x3de762,remoteId:_0x3e77ff}){const _0x10f0d4=_0x4d2937;if(!this[_0x10f0d4(0x202)][_0x10f0d4(0x434)][_0x10f0d4(0x606)](_0x12ad05,_0x551336))return;if(!this[_0x10f0d4(0x202)][_0x10f0d4(0x434)][_0x10f0d4(0x50f)]()[_0x10f0d4(0x4aa)]())throw new Error(_0x10f0d4(0x16a));if(_0x3e77ff){const _0x208295=this[_0x10f0d4(0x202)][_0x10f0d4(0x434)][_0x10f0d4(0xc9)]()['find'](_0x2866e8=>_0x2866e8[_0x10f0d4(0x5a1)]()===_0x3e77ff),_0xc1bd46=_0x208295?.[_0x10f0d4(0x4aa)]();if(!_0x208295||!_0xc1bd46)throw new Error(_0x10f0d4(0x2da));const _0x23b07b=this[_0x10f0d4(0x202)][_0x10f0d4(0x434)][_0x10f0d4(0xc9)]()[_0x10f0d4(0x1d8)](_0x14ebc4=>_0x14ebc4[_0x10f0d4(0x5a1)]()===_0x12ad05),_0x4a0f17=_0x23b07b?.['getRank']();if(!_0x23b07b||!_0x4a0f17)throw new Error('Missing\x20owner\x20user\x20or\x20rank');const _0x1e1a61=this['chosenAnswers'][_0x10f0d4(0x447)](_0x551336);if(_0x1e1a61){const _0x53d0ce=this[_0x10f0d4(0x202)][_0x10f0d4(0x434)]['getRemoteUsers']()['find'](_0x218fa7=>_0x218fa7[_0x10f0d4(0x5a1)]()===_0x1e1a61[_0x10f0d4(0x294)]),_0x3c84ad=_0x53d0ce?.[_0x10f0d4(0x4aa)]();if(!_0x53d0ce||!_0x3c84ad)throw new Error('Retry\x20request\x20with\x20chosen\x20answer\x20user\x20or\x20rank');if(Math[_0x10f0d4(0x537)](_0x3c84ad-_0x4a0f17)<Math[_0x10f0d4(0x537)](_0xc1bd46-_0x4a0f17))return;}}const _0x4941c0=this[_0x10f0d4(0x202)][_0x10f0d4(0x434)]['getConnections'](_0x18ae87=>_0x18ae87[_0x10f0d4(0x23e)]()&&(!_0x3e77ff||_0x18ae87[_0x10f0d4(0x2f5)]()===_0x3e77ff));if(!_0x4941c0[_0x10f0d4(0x27f)]||0x0===_0x4941c0[_0x10f0d4(0x27f)])throw new Error(_0x10f0d4(0x1a3));const _0x59aa88=this[_0x10f0d4(0x202)]['mediator'][_0x10f0d4(0x3eb)](this[_0x10f0d4(0x202)][_0x10f0d4(0x201)],_0x12ad05),_0x1ddcde=_0x2e4981(_0x5e85b3[_0x10f0d4(0x373)],{'contentType':_0x18f6f1[_0x10f0d4(0x3e2)],'label':_0x551336,'remoteId':_0x12ad05});if(this['subscriptionRequests']['has'](_0x1ddcde)){if(_0x3e77ff)throw new Error(_0x10f0d4(0x211));const _0x41abe7=this[_0x10f0d4(0x359)]['get'](_0x1ddcde)['getTracks']();if(_0x41abe7[_0x10f0d4(0x27f)]===_0x3d7966[_0x10f0d4(0x27f)]&&_0x41abe7[_0x10f0d4(0x258)](_0x29b500=>_0x3d7966[_0x10f0d4(0x135)](_0x29b500)))return;this['configs'][_0x10f0d4(0x434)][_0x10f0d4(0x32a)](this['subscriptionRequests']['get'](_0x1ddcde)),this[_0x10f0d4(0x359)][_0x10f0d4(0x2e8)](_0x1ddcde),_0x3d7966=Array[_0x10f0d4(0x474)](new Set(_0x3d7966[_0x10f0d4(0x487)](_0x41abe7))),this[_0x10f0d4(0x316)](_0x1ddcde);}const _0x316619=new _0x2cbb6c(_0x4941c0[_0x10f0d4(0x54c)](_0x115e3a=>_0x115e3a['getRemoteId']()),_0x59aa88,this['maxDistance'],_0x3d7966);this['configs']['mediator'][_0x10f0d4(0x335)](_0x316619),this[_0x10f0d4(0x359)][_0x10f0d4(0x470)](_0x1ddcde,_0x316619),_0x316619['sendRequest'](this[_0x10f0d4(0x202)][_0x10f0d4(0x201)],_0x12ad05,_0x551336,_0x3d7966,_0x3de762),this[_0x10f0d4(0x168)](_0x551336,_0x12ad05,_0x3d7966,_0x3de762,_0x1ddcde,_0x316619);}[_0x4d2937(0x316)](_0x18f621){const _0x539430=_0x4d2937;this[_0x539430(0x564)][_0x539430(0x314)](_0x18f621)&&(clearTimeout(this[_0x539430(0x564)][_0x539430(0x447)](_0x18f621)),this[_0x539430(0x564)]['delete'](_0x18f621));}[_0x4d2937(0x168)](_0x33f8c6,_0x17767c,_0x420cff,_0x1e1735,_0xecc32e,_0x36b1cc){const _0x16154=_0x4d2937;this['clearSubscriptionRequestTimeout'](_0xecc32e),this[_0x16154(0x564)][_0x16154(0x470)](_0xecc32e,setTimeout(()=>{const _0x2a2e34=_0x16154;this[_0x2a2e34(0x564)][_0x2a2e34(0x2e8)](_0xecc32e);try{const _0x46d797=_0x36b1cc[_0x2a2e34(0x521)]();this[_0x2a2e34(0x61d)](_0x46d797,_0x17767c,_0x33f8c6,_0xecc32e,_0x420cff);}catch(_0x2e0690){this[_0x2a2e34(0x1ee)](_0x33f8c6,_0x17767c,_0x420cff,_0x1e1735);}},0x7d0));}[_0x4d2937(0x5c1)](_0x3b499a,_0x2207cd,_0x227dce,_0x5df2bb,_0x2360e5){const _0x2d88ef=_0x4d2937,{subscriptionLabel:_0x474e30}=this[_0x2d88ef(0x5b6)](_0x2207cd,_0x5df2bb),_0x4d00f6=this[_0x2d88ef(0x42c)](_0x474e30),_0x521ac7=_0x4d00f6?.[_0x2d88ef(0xf3)];_0x4d00f6&&(_0x4d00f6[_0x2d88ef(0x136)](_0x5df2bb,0x0),this[_0x2d88ef(0x21c)](_0x227dce,_0x18f6f1[_0x2d88ef(0x3e2)],_0x3b499a)),this['requestSubscription'](_0x2207cd,_0x5df2bb,_0x2360e5,_0x521ac7);}[_0x4d2937(0x42c)](_0xc70edb){const _0x49c693=_0x4d2937,_0x119f93=this[_0x49c693(0x62b)][_0x49c693(0x3f2)][_0x49c693(0x447)](_0xc70edb);if(_0x119f93){if(!(_0x119f93 instanceof _0x5601cb))throw new _0xce6ead(_0xce6ead[_0x49c693(0x197)][_0x49c693(0x120)],{'label':_0xc70edb,'subscription':_0x119f93});return _0x119f93;}}[_0x4d2937(0x5b6)](_0xec404c,_0x320f56){const _0x4dfdbd=_0x4d2937,_0x4037e1=this[_0x4dfdbd(0x43d)](_0xec404c,_0x320f56);return{'parts':_0x4037e1,'subscriptionLabel':_0x2e4981(_0x5e85b3[_0x4dfdbd(0x373)],_0x4037e1)};}[_0x4d2937(0x43d)](_0x5bb446,_0x2c35ad){const _0x4fe408=_0x4d2937,_0x50e204=this[_0x4fe408(0x202)][_0x4fe408(0x434)]['getRemoteMediaStream'](_0x2c35ad,_0x5bb446),_0x4427f7=_0x50e204[_0x4fe408(0x393)]();if(!_0x4427f7)throw new _0xce6ead(_0xce6ead[_0x4fe408(0x197)][_0x4fe408(0x591)],{'label':_0x5bb446,'streamId':_0x50e204['getInternalStreamId'](),'ownerId':_0x2c35ad,'localId':this['configs'][_0x4fe408(0x201)]});return{'contentType':_0x18f6f1[_0x4fe408(0x3e2)],'label':_0x50e204['getInternalStreamId'](),'remoteId':_0x4427f7};}['cleanOldSubscription'](_0x23d1e4,_0x5db2af,_0x49a4a7,_0x34ac85){const _0x321c27=_0x4d2937,_0x32f454=_0x34ac85[_0x321c27(0x393)]();if(_0x32f454&&_0x32f454!==_0x23d1e4[_0x321c27(0x294)]){const {parts:_0x4709fb,subscriptionLabel:_0x20b7dc}=this[_0x321c27(0x5b6)](_0x49a4a7,_0x5db2af),_0x5bb9f0=this[_0x321c27(0x42c)](_0x20b7dc);_0x5bb9f0&&(_0x5bb9f0[_0x321c27(0x136)](_0x5db2af,0x0),this[_0x321c27(0x21c)](_0x4709fb[_0x321c27(0x41b)],_0x4709fb['contentType'],_0x4709fb[_0x321c27(0x4ba)]));}}}class _0x3cbc4a{[_0x4d2937(0x202)];[_0x4d2937(0x5e3)];['maps'];constructor(_0x2a0464,_0x5d7af1){const _0x537183=_0x4d2937;this['configs']=_0x2a0464,this[_0x537183(0x5e3)]=_0x5d7af1,this[_0x537183(0x62b)]=new _0x3656cb(({source:_0x3eb83e,destination:_0x6de508})=>_0x3b8fd4(_0x3eb83e,_0x6de508));}[_0x4d2937(0x40e)](_0x35f7bb,_0xa4d69e){const _0x4656f3=_0x4d2937,_0x3d03e2={'source':_0x35f7bb,'destination':_0xa4d69e};this[_0x4656f3(0x62b)]['createSubscription'](_0x5e85b3[_0x4656f3(0x433)],_0x3d03e2);}[_0x4d2937(0x21c)](_0x2a5848,_0x434970,_0x2cf869=''){const _0x31ed2b=_0x4d2937,_0x1faf2f={'contentType':_0x434970,'label':_0x2a5848,'remoteId':_0x2cf869};this['maps'][_0x31ed2b(0x21c)](_0x1faf2f,_0x5e85b3[_0x31ed2b(0x433)]);}[_0x4d2937(0x35f)](_0x369b36,_0x10f727){const _0x7e1168=_0x4d2937;let _0x56d36f;_0x56d36f=_0x10f727[_0x7e1168(0x2bc)]!==this[_0x7e1168(0x202)][_0x7e1168(0x201)]?this[_0x7e1168(0x202)][_0x7e1168(0x434)][_0x7e1168(0x606)](_0x10f727[_0x7e1168(0x2bc)],_0x10f727[_0x7e1168(0x41b)]):this[_0x7e1168(0x202)][_0x7e1168(0x434)][_0x7e1168(0x1a0)](_0x10f727[_0x7e1168(0x41b)]);const _0x411011=_0x2e4981(_0x5e85b3[_0x7e1168(0x433)],{'contentType':_0x18f6f1[_0x7e1168(0x3e2)],'label':_0x56d36f[_0x7e1168(0x477)](),'remoteId':_0x369b36}),_0x43c9d3=this['getNumberOutgoingSubscriptions']();if(!this['maps'][_0x7e1168(0x3f2)]['has'](_0x411011)&&_0x43c9d3>=this['maxOutgoingSubscriptions'])return{'type':_0x2d9739[_0x7e1168(0x370)],'ownerId':_0x10f727[_0x7e1168(0x2bc)],'label':_0x10f727['label'],'streamId':_0x56d36f['getShareableStreamId'](),'trackKinds':_0x10f727['trackKinds'],'params':_0x10f727[_0x7e1168(0xf3)]};_0x56d36f instanceof _0x18d4d5&&!_0x56d36f[_0x7e1168(0x4ae)](_0x10f727[_0x7e1168(0x538)])&&_0x56d36f[_0x7e1168(0x61d)](_0x10f727[_0x7e1168(0xf3)]),this[_0x7e1168(0x62b)]['subscriptions']['has'](_0x411011)||this[_0x7e1168(0x40e)](_0x56d36f[_0x7e1168(0x111)](_0x369b36),this[_0x7e1168(0x202)][_0x7e1168(0x434)][_0x7e1168(0x4e5)](_0x369b36));}[_0x4d2937(0xda)](_0x50f2d0,{label:_0x5c48ed,ownerId:_0x341cf2,remainingTracks:_0x48e907}){const _0xf97d63=_0x4d2937;if(_0x48e907>0x0)return;let _0x40ffd2;_0x40ffd2=_0x341cf2!==this[_0xf97d63(0x202)][_0xf97d63(0x201)]?this[_0xf97d63(0x202)][_0xf97d63(0x434)][_0xf97d63(0x606)](_0x341cf2,_0x5c48ed):this[_0xf97d63(0x202)][_0xf97d63(0x434)][_0xf97d63(0x1a0)](_0x5c48ed);const _0xf3ac8b=_0x40ffd2[_0xf97d63(0x477)](),_0x4ce08a=_0x18f6f1['Media'];this['removeSubscription'](_0xf3ac8b,_0x4ce08a,_0x50f2d0);}['handleContentUnsubscribeMediaStream'](_0x426cdd,{label:_0x576a9b,ownerId:_0x511010,trackKinds:_0x1ec859}){const _0xb08148=_0x4d2937;if(_0x426cdd!==_0x52b8cb)return[];let _0x3279e0=[];for(const _0x5087be of this['maps'][_0xb08148(0x3f2)]){const {source:_0x12958f,destination:_0x725d79}=_0x5087be[0x1];_0x12958f['getLabel']()===_0x576a9b&&_0x12958f['getOwnerId']()===_0x511010&&_0x3279e0[_0xb08148(0x415)]({'sourceId':this['configs'][_0xb08148(0x201)],'destinationIds':[_0x725d79[_0xb08148(0x2f5)]()],'messageType':_0x100c15[_0xb08148(0x194)],'content':{'type':_0x2d9739[_0xb08148(0x626)],'label':_0x576a9b,'ownerId':_0x511010,'trackKinds':_0x1ec859}});}return _0x3279e0;}[_0x4d2937(0x5c9)](_0x4f5c03,_0x5f4d9d){const _0x39ca5a=_0x4d2937,{label:_0x157646,ownerId:_0xb2209f,trackKinds:_0xa52672,params:_0x344102}=_0x5f4d9d,{hasTracks:_0x46c2be,streamId:_0x16f40d,hasResolution:_0x259849,distance:_0xa1a25b,subscriptionLabel:_0x36053b}=this[_0x39ca5a(0x58a)](_0x4f5c03,_0x5f4d9d);let _0x2b7347=this[_0x39ca5a(0x283)]()<this[_0x39ca5a(0x5e3)]&&(_0x46c2be||_0xa1a25b>-0x1)?_0x2d9739[_0x39ca5a(0x375)]:_0x2d9739[_0x39ca5a(0x577)];const _0x29dad7=_0xa1a25b<0x0?0xa:_0xa1a25b;let _0x292d07=_0x46c2be?_0x259849?_0x29dad7:_0x29dad7+0x0:_0x29dad7+0xa;return _0x36053b&&this[_0x39ca5a(0x62b)][_0x39ca5a(0x3f2)]['has'](_0x36053b)&&(_0x46c2be&&(_0x292d07=0x0),_0x2b7347=_0x2d9739[_0x39ca5a(0x375)]),{'type':_0x2b7347,'cost':_0x292d07,'distance':_0xa1a25b,'label':_0x157646,'ownerId':_0xb2209f,'streamId':_0x16f40d,'trackKinds':_0xa52672,'params':_0x344102};}[_0x4d2937(0x517)](_0x2d5857){const _0x5c3917=_0x4d2937,{label:_0x3e5b16,ownerId:_0x3e781a}=_0x2d5857,_0x58d900=this[_0x5c3917(0x202)][_0x5c3917(0x434)][_0x5c3917(0x606)](_0x3e781a,_0x3e5b16);this[_0x5c3917(0x62b)][_0x5c3917(0x3f2)][_0x5c3917(0x304)](_0x30760f=>{const _0x1c8fba=_0x5c3917;if(_0x30760f[_0x1c8fba(0xbd)][_0x1c8fba(0x5e8)]()===_0x58d900[_0x1c8fba(0x477)]()){const _0x4d40dd=_0x30760f[_0x1c8fba(0x2f6)];this['removeSubscription'](_0x58d900[_0x1c8fba(0x477)](),_0x18f6f1[_0x1c8fba(0x3e2)],_0x4d40dd[_0x1c8fba(0x2f5)]());}});}[_0x4d2937(0x35e)]({label:_0x258b95}){const _0x128f79=_0x4d2937,_0x162fac=this[_0x128f79(0x202)][_0x128f79(0x434)][_0x128f79(0x1a0)](_0x258b95);this[_0x128f79(0x62b)]['subscriptions']['forEach'](_0x1ebea8=>{const _0x3c940f=_0x128f79;if(_0x1ebea8[_0x3c940f(0xbd)][_0x3c940f(0x5e8)]()===_0x162fac[_0x3c940f(0x477)]()){const _0x659cac=_0x1ebea8['destination'];this[_0x3c940f(0x21c)](_0x162fac[_0x3c940f(0x477)](),_0x18f6f1['Media'],_0x659cac[_0x3c940f(0x2f5)]());}});}[_0x4d2937(0x1d4)](_0x5bbf05){this['maps']['removeSubscriptionsForUser'](_0x5bbf05);}[_0x4d2937(0x5ff)](){const _0x30f9f9=_0x4d2937;this[_0x30f9f9(0x62b)][_0x30f9f9(0x3f2)][_0x30f9f9(0x304)](this[_0x30f9f9(0x44a)][_0x30f9f9(0x4f1)](this));}[_0x4d2937(0x44a)](_0x12230a,_0x127c56){const _0x2a57bc=_0x4d2937;this[_0x2a57bc(0x62b)][_0x2a57bc(0x44a)](_0x12230a,_0x127c56);}[_0x4d2937(0x58a)](_0x1486a5,{label:_0x3b2ac4,ownerId:_0x2dd5d9,trackKinds:_0x3aac45,params:_0x332126}){const _0x6547c1=_0x4d2937;if(_0x2dd5d9!==this[_0x6547c1(0x202)]['localId']){const _0x1e0eaa=this[_0x6547c1(0x202)][_0x6547c1(0x434)][_0x6547c1(0x606)](_0x2dd5d9,_0x3b2ac4);return _0x1e0eaa&&_0x1e0eaa[_0x6547c1(0x393)]()!==_0x1486a5?{'hasTracks':_0x1e0eaa['hasTracks'](_0x3aac45),'hasResolution':this[_0x6547c1(0x3b5)](_0x1e0eaa['getResolution'](),_0x332126),'streamId':_0x1e0eaa['getShareableStreamId'](),'distance':this[_0x6547c1(0x202)]['mediator'][_0x6547c1(0x3eb)](_0x1486a5,_0x2dd5d9),'subscriptionLabel':_0x2e4981(_0x5e85b3[_0x6547c1(0x433)],{'contentType':_0x18f6f1['Media'],'label':_0x1e0eaa['getShareableStreamId'](),'remoteId':_0x1486a5})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x42528d=this[_0x6547c1(0x202)][_0x6547c1(0x434)]['getLocalMediaStream'](_0x3b2ac4);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x42528d[_0x6547c1(0x477)](),'distance':0x0,'subscriptionLabel':_0x2e4981(_0x5e85b3[_0x6547c1(0x433)],{'contentType':_0x18f6f1[_0x6547c1(0x3e2)],'label':_0x42528d[_0x6547c1(0x477)](),'remoteId':_0x1486a5})};}[_0x4d2937(0x283)](){const _0x391f9f=_0x4d2937;return Array[_0x391f9f(0x474)](this[_0x391f9f(0x62b)][_0x391f9f(0x3f2)][_0x391f9f(0x287)]())[_0x391f9f(0x4a5)](([_0x5bad83,{source:_0x17d900}])=>_0x5bad83['startsWith'](_0x5e85b3[_0x391f9f(0x433)])&&_0x17d900[_0x391f9f(0x25c)]()===_0x18f6f1['Media'])[_0x391f9f(0x27f)];}[_0x4d2937(0x3b5)](_0x3b2d99,_0x24451a){const _0x100a90=_0x4d2937;if(!_0x24451a||!_0x24451a[_0x100a90(0x47b)]||_0x100a90(0x131)==typeof _0x24451a['video']||!_0x24451a['video'][_0x100a90(0x445)])return!0x0;const {width:_0xe9e022,height:_0x23ee74}=_0x24451a[_0x100a90(0x47b)]['maxResolution'];return _0x3b2d99['width']>=_0xe9e022&&_0x3b2d99[_0x100a90(0x33d)]>=_0x23ee74;}}class _0x3fe450{['configs'];[_0x4d2937(0x5e3)];['maxDistance'];[_0x4d2937(0x2c5)];[_0x4d2937(0x1b7)];[_0x4d2937(0x1d1)];constructor(_0x170ffd,_0x972add,_0x2a05b7){const _0x417d86=_0x4d2937;this[_0x417d86(0x202)]=_0x170ffd,this[_0x417d86(0x5e3)]=_0x972add,this['maxDistance']=_0x2a05b7,this[_0x417d86(0x202)]['mediator']['registerSystemSource'](this),this[_0x417d86(0x1b7)]=new _0x462f0d(this[_0x417d86(0x202)],this['maxDistance']),this[_0x417d86(0x1d1)]=new _0x3cbc4a(this[_0x417d86(0x202)],this[_0x417d86(0x5e3)]);}[_0x4d2937(0xfc)](_0x1e227f){this['systemTopic']=_0x1e227f;}[_0x4d2937(0x1fe)](){delete this['systemTopic'];}[_0x4d2937(0x5ff)](){const _0x14d814=_0x4d2937;this[_0x14d814(0x1b7)][_0x14d814(0x5ff)](),this['outgoingManager'][_0x14d814(0x5ff)](),this['configs'][_0x14d814(0x434)][_0x14d814(0x32a)](this);}[_0x4d2937(0xe1)](_0x321f31,_0x22ff2a){const _0x29d0d7=_0x4d2937;this[_0x29d0d7(0x1b7)][_0x29d0d7(0x40e)](_0x321f31,_0x22ff2a);}[_0x4d2937(0x4ea)](_0x50b148,_0x588259){const _0x2794c2=_0x4d2937;this['outgoingManager'][_0x2794c2(0x40e)](_0x50b148,_0x588259);}['removeIncomingSubscription'](_0x2ebff6,_0x42ce75,_0x2ae871=''){const _0x138cf9=_0x4d2937;this[_0x138cf9(0x1b7)][_0x138cf9(0x21c)](_0x2ebff6,_0x42ce75,_0x2ae871);}[_0x4d2937(0x174)](_0x2d1c86,_0xaf1c62,_0x20ce01=''){const _0x56a307=_0x4d2937;try{this[_0x56a307(0x1d1)][_0x56a307(0x21c)](_0x2d1c86,_0xaf1c62,_0x20ce01);}catch(_0x3f3c83){if(_0x3f3c83 instanceof _0xce6ead&&_0x3f3c83[_0x56a307(0x5b0)]===_0xce6ead['codes'][_0x56a307(0x120)])return;}}[_0x4d2937(0xd7)](_0x194f04){const _0x4eec34=_0x4d2937;switch(_0x194f04[_0x4eec34(0x4eb)][_0x4eec34(0x5a5)]){case _0x2d9739[_0x4eec34(0x267)]:this[_0x4eec34(0x35f)](_0x194f04[_0x4eec34(0x59a)],_0x194f04[_0x4eec34(0x4eb)]);break;case _0x2d9739[_0x4eec34(0x2cc)]:this[_0x4eec34(0x1d1)][_0x4eec34(0xda)](_0x194f04['sourceId'],_0x194f04['content']);break;case _0x2d9739['NeedMediaStream']:this[_0x4eec34(0x5c9)](_0x194f04[_0x4eec34(0x59a)],_0x194f04['content']);break;case _0x2d9739[_0x4eec34(0x370)]:this['incomingManager']['handleSubscriptionRestartNeedMediaStream'](_0x194f04['sourceId'],_0x194f04[_0x4eec34(0x4eb)]);break;case _0x2d9739[_0x4eec34(0x375)]:case _0x2d9739['CannotProvideMediaStream']:this[_0x4eec34(0x1b7)][_0x4eec34(0x555)](_0x194f04[_0x4eec34(0x59a)],_0x194f04['content']);break;case _0x2d9739[_0x4eec34(0x626)]:this[_0x4eec34(0x1b7)][_0x4eec34(0x42e)](_0x194f04[_0x4eec34(0x59a)],_0x194f04[_0x4eec34(0x4eb)]);}}[_0x4d2937(0x556)](_0x2aac36){const _0x54ee03=_0x4d2937;switch(_0x2aac36[_0x54ee03(0x4eb)][_0x54ee03(0x5a5)]){case _0x163779[_0x54ee03(0x5e4)]:this[_0x54ee03(0x1b7)][_0x54ee03(0x517)](_0x2aac36[_0x54ee03(0x4eb)]),this['outgoingManager'][_0x54ee03(0x517)](_0x2aac36[_0x54ee03(0x4eb)]);break;case _0x163779[_0x54ee03(0x267)]:this[_0x54ee03(0x1b7)][_0x54ee03(0x11b)](_0x2aac36[_0x54ee03(0x4eb)]);break;case _0x163779['UpdateMediaStream']:this['incomingManager']['handleContentUpdateMediaStream'](_0x2aac36[_0x54ee03(0x4eb)]);break;case _0x163779['UnsubscribeMediaStream']:this[_0x54ee03(0xf7)](_0x2aac36[_0x54ee03(0x59a)],_0x2aac36[_0x54ee03(0x4eb)]);break;case _0x163779[_0x54ee03(0x25e)]:this['outgoingManager'][_0x54ee03(0x35e)](_0x2aac36[_0x54ee03(0x4eb)]);break;case _0x163779[_0x54ee03(0x4d8)]:this['handleContentClosePubSubTopic'](_0x2aac36[_0x54ee03(0x4eb)]);break;case _0x163779[_0x54ee03(0x622)]:this[_0x54ee03(0x222)](_0x2aac36[_0x54ee03(0x4eb)]);break;case _0x163779['CloseKeyValueDatabase']:this['handleContentCloseKeyValueDatabase'](_0x2aac36[_0x54ee03(0x4eb)]);break;case _0x163779[_0x54ee03(0x385)]:this[_0x54ee03(0x1b7)][_0x54ee03(0x5ee)](_0x2aac36['content']);}}[_0x4d2937(0x59e)]({content:_0x3000f1}){const _0x14c255=_0x4d2937;_0x3000f1['type']===_0x3c511b[_0x14c255(0x429)]&&this['removeSubscriptionsForUser'](_0x3000f1);}[_0x4d2937(0xf6)](_0x22d6c7){const _0x39d650=_0x4d2937;_0x22d6c7['content']['type']===_0x2a9fc9[_0x39d650(0x5b4)]&&this[_0x39d650(0x1b7)][_0x39d650(0x2c9)](_0x22d6c7['sourceId']);}[_0x4d2937(0xf7)](_0xf4621e,_0x122214){const _0x5b7482=_0x4d2937;this[_0x5b7482(0x1b7)][_0x5b7482(0xf7)](_0x122214),this[_0x5b7482(0x1d1)][_0x5b7482(0xf7)](_0xf4621e,_0x122214)[_0x5b7482(0x304)](_0x42f2ef=>this[_0x5b7482(0x2c5)]['publish'](_0x42f2ef));}[_0x4d2937(0x35f)](_0xf829a2,_0x30bcd2){const _0x31aac6=_0x4d2937,_0x279f2e=this['outgoingManager'][_0x31aac6(0x35f)](_0xf829a2,_0x30bcd2);if(_0x279f2e&&(this[_0x31aac6(0x2c5)]['publish']({'sourceId':this['configs'][_0x31aac6(0x201)],'destinationIds':[_0xf829a2],'messageType':_0x100c15[_0x31aac6(0x194)],'content':_0x279f2e}),_0x279f2e[_0x31aac6(0x5a5)]===_0x2d9739[_0x31aac6(0x370)]))throw new _0x2efda1(_0x31aac6(0x353));}['handleSubscriptionNeedMediaStream'](_0x32185d,_0x50a7e1){const _0x62b926=_0x4d2937,_0x509efe=this['outgoingManager'][_0x62b926(0x5c9)](_0x32185d,_0x50a7e1);this[_0x62b926(0x2c5)][_0x62b926(0x104)]({'sourceId':this[_0x62b926(0x202)][_0x62b926(0x201)],'destinationIds':[_0x32185d],'messageType':_0x100c15['Subscription'],'content':_0x509efe});}[_0x4d2937(0x222)]({label:_0x319b5d}){const _0x1eff21=_0x4d2937;this[_0x1eff21(0x536)](_0x319b5d,_0x18f6f1[_0x1eff21(0x52a)]),this['removeOutgoingSubscription'](_0x319b5d,_0x18f6f1['ObjectStore']);}[_0x4d2937(0x3ca)]({label:_0xcc0a7a}){const _0x2760e8=_0x4d2937;this[_0x2760e8(0x536)](_0xcc0a7a,_0x18f6f1[_0x2760e8(0x119)]),this[_0x2760e8(0x174)](_0xcc0a7a,_0x18f6f1[_0x2760e8(0x119)]);}[_0x4d2937(0x12f)]({label:_0xb5bc65}){const _0x3cb382=_0x4d2937;this[_0x3cb382(0x536)](_0xb5bc65,_0x18f6f1[_0x3cb382(0x126)]),this[_0x3cb382(0x174)](_0xb5bc65,_0x18f6f1[_0x3cb382(0x126)]);}[_0x4d2937(0x1d4)]({id:_0x2dc195}){const _0x5b1c2a=_0x4d2937;this[_0x5b1c2a(0x1b7)]['removeSubscriptionsForUser'](_0x2dc195),this[_0x5b1c2a(0x1d1)]['removeSubscriptionsForUser'](_0x2dc195);}}class _0x1fbff2{[_0x4d2937(0x41b)];['listener']=_0x412493();constructor(){this['label']=0x0;}[_0x4d2937(0x631)](){const _0x4568a9=_0x4d2937;return this[_0x4568a9(0x41b)];}[_0x4d2937(0x25c)](){return _0x18f6f1['Data'];}[_0x4d2937(0x362)](_0x5c5c49){_0x5c5c49['registerSystemPublisher'](this);}[_0x4d2937(0x3d5)](_0x873f93){const _0x5d27ec=_0x4d2937;_0x873f93[_0x5d27ec(0x1fe)]();}[_0x4d2937(0x104)](_0x512413){const _0x3f33bc=_0x4d2937;_0x4dbf9b[_0x3f33bc(0x5f2)](_0x37cafd[_0x3f33bc(0x4d1)],_0x3f33bc(0x637),_0x512413[_0x3f33bc(0x59a)],_0x512413),this[_0x3f33bc(0x368)][_0x3f33bc(0x104)]({'topicLabel':this[_0x3f33bc(0x41b)],'contentType':_0x18f6f1['Data'],'uuid':_0x512413['uuid']??(0x0,_0x44b60e['v4'])(),'recipients':_0x512413[_0x3f33bc(0x515)]??[],..._0x512413});}[_0x4d2937(0x61d)](_0x4ad2fc){const _0x375c6d=_0x4d2937;return this[_0x375c6d(0x368)][_0x375c6d(0x61d)](_0x4ad2fc);}}class _0x40c3d5{[_0x4d2937(0x345)];[_0x4d2937(0x343)];['maxDistance'];['ranges']=[];[_0x4d2937(0x510)];['remoteUsers']=new Map();constructor(_0xf27e4c,_0x26c46b,_0x4dcaea){const _0x11e985=_0x4d2937;this[_0x11e985(0x345)]=_0xf27e4c,this[_0x11e985(0x343)]=_0x26c46b,this[_0x11e985(0x1db)]=_0x4dcaea,this[_0x11e985(0x510)]=(this['maxConnections']-0x2*this[_0x11e985(0x345)])/0x2,this['ranges'][_0x11e985(0x415)]({'start':0x1,'end':this[_0x11e985(0x2ce)](0x1,0x1)-0x1});for(let _0x459727=0x0;_0x459727<this[_0x11e985(0x510)];++_0x459727)this[_0x11e985(0x1f7)][_0x11e985(0x415)]({'start':this[_0x11e985(0x2ce)](0x1,_0x459727+0x1),'end':this['getNextTargetRank'](0x1,_0x459727+0x2)-0x1});}[_0x4d2937(0x2ce)](_0x3cc708,_0x476a61=0x1){const _0x58bb7d=_0x4d2937;let _0x792f=this['maxDistance']-this[_0x58bb7d(0x345)],_0x28da31=0x1;for(let _0x41ff99=0x1;_0x41ff99<_0x476a61;++_0x41ff99)_0x792f*=this[_0x58bb7d(0x1db)]-this[_0x58bb7d(0x345)]-_0x41ff99,_0x28da31*=this[_0x58bb7d(0x1db)]-this[_0x58bb7d(0x345)]-_0x41ff99+0x1;return _0x792f*this[_0x58bb7d(0x345)]+_0x3cc708-_0x28da31;}[_0x4d2937(0x5f7)](_0x27b232){const _0x1daffb=_0x4d2937;let _0x192195=0x0;for(;this[_0x1daffb(0x1f7)][_0x192195][_0x1daffb(0x177)]<_0x27b232;)_0x192195+=0x1;return _0x192195;}['getMinConnections'](){const _0x4bfb69=_0x4d2937;return this[_0x4bfb69(0x345)];}[_0x4d2937(0x277)](){const _0x54c4b8=_0x4d2937;return this[_0x54c4b8(0x343)];}[_0x4d2937(0x200)](){const _0x42829e=_0x4d2937;return this[_0x42829e(0x1db)];}[_0x4d2937(0xc9)](){return this['remoteUsers'];}['setRemoteUser'](_0xb32541,_0x3d2fef){const _0x55fd05=_0x4d2937;this[_0x55fd05(0x11c)]['set'](_0xb32541,_0x3d2fef);}[_0x4d2937(0x394)](_0x53c7f9){const _0x5a650d=_0x4d2937;return this[_0x5a650d(0x11c)][_0x5a650d(0x314)](_0x53c7f9);}[_0x4d2937(0x549)](_0xe76852){const _0x29436f=_0x4d2937;return this[_0x29436f(0x11c)]['get'](_0xe76852);}[_0x4d2937(0x576)](_0x11b3f4){const _0x1ba900=_0x4d2937;this[_0x1ba900(0x11c)][_0x1ba900(0x2e8)](_0x11b3f4);}[_0x4d2937(0xf5)](_0x1eec5e,_0x3d8301){const _0xde1919=_0x4d2937,_0x3895df=this[_0xde1919(0x549)](_0x3d8301)?.[_0xde1919(0x4aa)]()??0x0;return _0x1eec5e[_0xde1919(0x54c)](_0x4fdefc=>this[_0xde1919(0x549)](_0x4fdefc))[_0xde1919(0x4a5)](_0x1ded00=>void 0x0!==_0x1ded00)['sort']((_0x4971ed,_0x4c5451)=>Math[_0xde1919(0x537)](_0x3895df-(_0x4971ed&&_0x4971ed['getRank']()||0x1/0x0))-Math['abs'](_0x3895df-(_0x4c5451&&_0x4c5451[_0xde1919(0x4aa)]()||0x1/0x0)))[_0xde1919(0x54c)](_0x23fa0a=>_0x23fa0a[_0xde1919(0x5a1)]());}}class _0x35c83f{['vendorId'];['clusterId'];[_0x4d2937(0x62a)];[_0x4d2937(0x61a)];[_0x4d2937(0x202)];['clusterEventEmitter'];[_0x4d2937(0x376)];['connectionManager'];[_0x4d2937(0x152)];[_0x4d2937(0x115)];[_0x4d2937(0x350)];['remediationManager'];[_0x4d2937(0x229)];[_0x4d2937(0x26e)];[_0x4d2937(0x2c5)]=new _0x1fbff2();[_0x4d2937(0x3ab)];['localUser'];constructor(_0x4dc8b1,_0x3194b4,_0x5f515e,_0x49b1e4,_0x325dcc,_0x24666f,_0x23dacd){const _0x28af95=_0x4d2937;this['vendorId']=_0x4dc8b1,this[_0x28af95(0x20a)]=_0x3194b4,this[_0x28af95(0x62a)]=_0x49b1e4,this[_0x28af95(0x61a)]=_0x325dcc,this[_0x28af95(0x202)]=_0x24666f,this[_0x28af95(0x64d)]=_0x23dacd,this['localUser']=new _0x5e57f4(_0x5f515e[_0x28af95(0x5a1)](),_0x5f515e[_0x28af95(0xf8)](),_0x5f515e[_0x28af95(0x336)]());const _0x4b48d1=this[_0x28af95(0x3d2)]();this[_0x28af95(0x26e)]=new _0x40c3d5(this[_0x28af95(0x61a)][_0x28af95(0x345)],this['options'][_0x28af95(0x343)],this[_0x28af95(0x61a)][_0x28af95(0x1db)]),this['contentManager']=new _0x2690ae(_0x4b48d1,this[_0x28af95(0x61a)][_0x28af95(0x543)],this[_0x28af95(0x61a)]['audioContext']),this[_0x28af95(0x244)]=new _0x189eb6(_0x4b48d1,this[_0x28af95(0x62a)],this['configs'][_0x28af95(0x2be)],this[_0x28af95(0x61a)][_0x28af95(0x543)],this[_0x28af95(0x61a)][_0x28af95(0x4c6)],this['graphService'],this[_0x28af95(0x61a)][_0x28af95(0x24e)]),this['subscriptionManager']=new _0x3fe450(_0x4b48d1,this['options'][_0x28af95(0x5e3)],this['graphService'][_0x28af95(0x200)]()),this[_0x28af95(0x115)]=new _0x510d83(_0x4b48d1),this[_0x28af95(0x350)]=new _0x2fcc93(_0x4b48d1),this[_0x28af95(0x401)]=new _0x55e8c8(_0x4b48d1),this[_0x28af95(0x229)]=new _0x2d1d7d(_0x4b48d1,this[_0x28af95(0x26e)],this[_0x28af95(0x2ad)]),this[_0x28af95(0x3ab)]=this[_0x28af95(0x4e6)]();}[_0x4d2937(0x493)](){const _0x24e2e5=_0x4d2937,_0xf03f27=this[_0x24e2e5(0x3d2)]();this['connectionManager']=new _0x189eb6(_0xf03f27,this[_0x24e2e5(0x62a)],this[_0x24e2e5(0x202)][_0x24e2e5(0x2be)],this[_0x24e2e5(0x61a)][_0x24e2e5(0x543)],this[_0x24e2e5(0x61a)][_0x24e2e5(0x4c6)],this[_0x24e2e5(0x26e)],this['options'][_0x24e2e5(0x24e)]),this[_0x24e2e5(0x152)]=new _0x3fe450(_0xf03f27,this[_0x24e2e5(0x61a)]['maxOutgoingSubscriptions'],this[_0x24e2e5(0x26e)][_0x24e2e5(0x200)]()),this[_0x24e2e5(0x115)]=new _0x510d83(_0xf03f27),this[_0x24e2e5(0x350)]=new _0x2fcc93(_0xf03f27),this[_0x24e2e5(0x401)]=new _0x55e8c8(_0xf03f27),this[_0x24e2e5(0x229)]=new _0x2d1d7d(_0xf03f27,this[_0x24e2e5(0x26e)],this[_0x24e2e5(0x2ad)]);const _0x54f161=this[_0x24e2e5(0x244)][_0x24e2e5(0x18f)]();this[_0x24e2e5(0x376)]['getPubSubTopics']()[_0x24e2e5(0x304)](_0x2a070a=>{const _0x3bf660=_0x24e2e5;this[_0x3bf660(0x152)][_0x3bf660(0x4ea)](_0x2a070a,_0x54f161),this[_0x3bf660(0x152)][_0x3bf660(0xe1)](_0x54f161,_0x2a070a);}),this[_0x24e2e5(0x376)][_0x24e2e5(0x627)]()[_0x24e2e5(0x304)](_0x40c9d7=>{const _0x17e37d=_0x24e2e5;this[_0x17e37d(0x152)]['createOutgoingSubscription'](_0x40c9d7,_0x54f161),this['subscriptionManager'][_0x17e37d(0xe1)](_0x54f161,_0x40c9d7);}),this[_0x24e2e5(0x376)][_0x24e2e5(0x64e)]()[_0x24e2e5(0x304)](_0xb7404f=>{const _0x251257=_0x24e2e5;this['subscriptionManager']['createOutgoingSubscription'](_0xb7404f,_0x54f161),this[_0x251257(0x152)]['createIncomingSubscription'](_0x54f161,_0xb7404f);}),this[_0x24e2e5(0x3ab)]=this['initializeSystemTopic']();}[_0x4d2937(0x335)](_0x1442ee){const _0x7d2e57=_0x4d2937;try{this[_0x7d2e57(0x2c5)][_0x7d2e57(0x362)](_0x1442ee);}catch(_0x5bb9a1){this[_0x7d2e57(0x599)](_0x5bb9a1,{});}}[_0x4d2937(0x32a)](_0x48d9a0){const _0x319605=_0x4d2937;try{this[_0x319605(0x2c5)]['unregisterSource'](_0x48d9a0);}catch(_0x18a7da){this[_0x319605(0x599)](_0x18a7da,{});}}[_0x4d2937(0x507)](_0xb27f86,_0x285682){const _0x1a8322=_0x4d2937;return this['connectionManager'][_0x1a8322(0x507)](_0xb27f86,_0x285682);}['getConnection'](_0x14aa6b){const _0x4c6380=_0x4d2937;try{return this['connectionManager'][_0x4c6380(0x4e5)](_0x14aa6b);}catch(_0x73b187){throw this[_0x4c6380(0x599)](_0x73b187,{});}}[_0x4d2937(0x49a)](_0xba2759){const _0x204441=_0x4d2937;try{return this[_0x204441(0x244)]['getConnections'](_0xba2759);}catch(_0xb37c2f){throw this['handleError'](_0xb37c2f,{});}}['getRemoteMediaStream'](_0x526114,_0x2c8d04){const _0x1f962f=_0x4d2937;try{return this[_0x1f962f(0x376)][_0x1f962f(0x45a)](_0xdeb7b5=>_0xdeb7b5[_0x1f962f(0x296)]()===_0x526114&&_0xdeb7b5['getLabel']()===_0x2c8d04)[0x0];}catch(_0x221405){throw this[_0x1f962f(0x599)](_0x221405,{});}}[_0x4d2937(0x1a0)](_0x56ce7c){const _0x54fd9a=_0x4d2937;try{return this[_0x54fd9a(0x376)]['getLocalMediaStreams'](_0xe7d29c=>_0xe7d29c[_0x54fd9a(0x631)]()===_0x56ce7c)[0x0];}catch(_0x34cc77){throw this[_0x54fd9a(0x599)](_0x34cc77,{});}}[_0x4d2937(0x31a)]=(..._0x3fbcc1)=>{const _0x4d0640=_0x4d2937;try{return this[_0x4d0640(0x64d)]['emit'](..._0x3fbcc1);}catch(_0x5beb75){throw this[_0x4d0640(0x599)](_0x5beb75,{});}};[_0x4d2937(0x56c)](_0x5f1190){const _0x192040=_0x4d2937;try{this['statsManager'][_0x192040(0x3ba)](_0x5f1190);}catch(_0x1485a1){throw this[_0x192040(0x599)](_0x1485a1,{});}}['unregisterRemoteUser'](_0x17945e){const _0x151ad1=_0x4d2937;try{this[_0x151ad1(0x115)][_0x151ad1(0x341)](_0x17945e);}catch(_0x15d29b){throw this[_0x151ad1(0x599)](_0x15d29b,{});}}[_0x4d2937(0x503)](_0xd00494){const _0x3ce1c2=_0x4d2937;return this['connectionManager'][_0x3ce1c2(0x503)](_0xd00494);}async[_0x4d2937(0x565)](){const _0x284e41=_0x4d2937;try{await this[_0x284e41(0x244)][_0x284e41(0x565)]();const _0x120fed=await this['nodeManager'][_0x284e41(0x58d)]();for(const _0x1e28c1 of _0x120fed)this[_0x284e41(0x244)][_0x284e41(0x507)](_0x1e28c1);}catch(_0x33dca1){throw this[_0x284e41(0x599)](_0x33dca1,{});}}[_0x4d2937(0x1b2)](_0x4cc32c){const _0x406687=_0x4d2937;this['localUser'][_0x406687(0x3c8)](_0x4cc32c[_0x406687(0x336)]()),this['localUser'][_0x406687(0x598)](_0x4cc32c[_0x406687(0xf8)]());}[_0x4d2937(0x5ff)](_0x1c2037=!0x1){const _0x597ef5=_0x4d2937;this[_0x597ef5(0x3ab)](),this[_0x597ef5(0x401)][_0x597ef5(0x5ff)](),this[_0x597ef5(0x350)][_0x597ef5(0x5ff)](),this[_0x597ef5(0x115)]['close'](),this[_0x597ef5(0x152)][_0x597ef5(0x5ff)](),this['connectionManager'][_0x597ef5(0x5ff)](),this[_0x597ef5(0x376)][_0x597ef5(0x5ff)](_0x1c2037),this[_0x597ef5(0x229)]['close']();}[_0x4d2937(0x210)](_0x1e7592){const _0x5ee410=_0x4d2937;try{const _0x370925=this[_0x5ee410(0x376)]['createPubSubTopic'](_0x1e7592),_0x30c4a0=this[_0x5ee410(0x244)]['getConnectionGroup']();return this[_0x5ee410(0x152)][_0x5ee410(0x4ea)](_0x370925,_0x30c4a0),this['subscriptionManager'][_0x5ee410(0xe1)](_0x30c4a0,_0x370925),_0x370925;}catch(_0x3ad068){throw this[_0x5ee410(0x599)](_0x3ad068,{});}}async[_0x4d2937(0x1ca)](_0x105011){const _0x391189=_0x4d2937;try{const _0x66b5e0=this[_0x391189(0x376)][_0x391189(0x4f0)](_0x105011,this[_0x391189(0x61a)][_0x391189(0x380)]),_0x4c51ba=this[_0x391189(0x244)]['getConnectionGroup']();return this[_0x391189(0x152)]['createOutgoingSubscription'](_0x66b5e0,_0x4c51ba),this[_0x391189(0x152)][_0x391189(0xe1)](_0x4c51ba,_0x66b5e0),await _0x66b5e0[_0x391189(0xc4)](),_0x66b5e0;}catch(_0x38fe99){throw this[_0x391189(0x599)](_0x38fe99,{});}}async[_0x4d2937(0x4be)](_0x48378b,_0x383088){const _0x4baa47=_0x4d2937;try{const _0x1d5224=await this['contentManager'][_0x4baa47(0x1d7)](_0x48378b,_0x383088,this[_0x4baa47(0x61a)][_0x4baa47(0x1c7)]),_0x42ca44=this[_0x4baa47(0x244)][_0x4baa47(0x18f)]();return this[_0x4baa47(0x152)][_0x4baa47(0x4ea)](_0x1d5224,_0x42ca44),this[_0x4baa47(0x152)]['createIncomingSubscription'](_0x42ca44,_0x1d5224),await _0x1d5224[_0x4baa47(0x493)](),this[_0x4baa47(0x20c)](_0x1d5224),_0x1d5224;}catch(_0x240e47){throw this['handleError'](_0x240e47,{});}}[_0x4d2937(0x473)](_0xcb5b4f){const _0x4000ad=_0x4d2937;try{return this[_0x4000ad(0x376)]['getPubSubTopics'](_0xcb5b4f);}catch(_0x19866e){throw this[_0x4000ad(0x599)](_0x19866e,{});}}[_0x4d2937(0x627)](_0x39df5a){const _0x5b1a48=_0x4d2937;try{return this[_0x5b1a48(0x376)]['getObjectStoreBuckets'](_0x39df5a);}catch(_0x5827ab){throw this[_0x5b1a48(0x599)](_0x5827ab,{});}}[_0x4d2937(0x64e)](_0x21b38a){const _0x51bff4=_0x4d2937;try{return this['contentManager']['getKeyValueDatabases'](_0x21b38a);}catch(_0x192bf4){throw this[_0x51bff4(0x599)](_0x192bf4,{});}}[_0x4d2937(0x3dc)](_0x2fea47,_0x3afbb1){const _0x5c2c39=_0x4d2937;if(!this[_0x5c2c39(0x202)]['features'][_0x5c2c39(0x135)](_0x144e2f['MediaStream']))throw new _0x5374d2(_0x4346db['FeatureNotEnabled'],_0x5c2c39(0x278));try{return this[_0x5c2c39(0x376)][_0x5c2c39(0x3dc)](_0x2fea47,_0x3afbb1);}catch(_0x370cd2){throw this[_0x5c2c39(0x599)](_0x370cd2,{});}}[_0x4d2937(0x558)](_0x136429,_0x2e59b2){const _0x2e207a=_0x4d2937;if(!this[_0x2e207a(0x202)]['features'][_0x2e207a(0x135)](_0x144e2f[_0x2e207a(0x4c0)]))throw new _0x5374d2(_0x4346db[_0x2e207a(0x43a)],'MediaStream\x20feature\x20not\x20enabled');try{return this[_0x2e207a(0x376)][_0x2e207a(0x558)](_0x136429,_0x2e59b2);}catch(_0x986d9b){throw this[_0x2e207a(0x599)](_0x986d9b,{});}}[_0x4d2937(0x36d)](_0x22043c){const _0x31ccd2=_0x4d2937;if(!this[_0x31ccd2(0x202)][_0x31ccd2(0x3ad)][_0x31ccd2(0x135)](_0x144e2f[_0x31ccd2(0x4c0)]))throw new _0x5374d2(_0x4346db[_0x31ccd2(0x43a)],_0x31ccd2(0x278));try{return this[_0x31ccd2(0x376)][_0x31ccd2(0x36d)](_0x22043c);}catch(_0x4f8ddc){throw this[_0x31ccd2(0x599)](_0x4f8ddc,{});}}['getRemoteMediaStreams'](_0x4d3a45){const _0x4f0080=_0x4d2937;if(!this['configs'][_0x4f0080(0x3ad)][_0x4f0080(0x135)](_0x144e2f[_0x4f0080(0x4c0)]))throw new _0x5374d2(_0x4346db[_0x4f0080(0x43a)],_0x4f0080(0x278));try{return this['contentManager'][_0x4f0080(0x45a)](_0x4d3a45);}catch(_0xa90fd4){throw this[_0x4f0080(0x599)](_0xa90fd4,{});}}[_0x4d2937(0x3eb)](_0x3c1fb7,_0x59ef6e){const _0xca3cb5=_0x4d2937;return this[_0xca3cb5(0x229)][_0xca3cb5(0x3eb)](_0x3c1fb7,_0x59ef6e);}['getAudioContext'](){const _0x5af566=_0x4d2937;return this['options'][_0x5af566(0x5d8)];}['getLocalUser'](){const _0x2d06da=_0x4d2937;return this[_0x2d06da(0x229)][_0x2d06da(0x50f)]();}[_0x4d2937(0xc9)](_0x11c0d0){const _0x15bc3f=_0x4d2937;try{return this[_0x15bc3f(0x229)][_0x15bc3f(0xc9)](_0x11c0d0);}catch(_0x1f6f30){throw this[_0x15bc3f(0x599)](_0x1f6f30,{});}}async[_0x4d2937(0x4bf)](_0x38998a){const _0xe6f7ad=_0x4d2937;try{if(_0x4dbf9b[_0xe6f7ad(0x5f2)](_0x37cafd[_0xe6f7ad(0x4d1)],_0xe6f7ad(0x22b),this['nodeManager'][_0xe6f7ad(0x3bf)](),_0x38998a),_0x250990(_0x38998a,this[_0xe6f7ad(0x229)][_0xe6f7ad(0x3bf)]()))return void this[_0xe6f7ad(0x244)][_0xe6f7ad(0x390)](_0x38998a);switch(_0x38998a[_0xe6f7ad(0x4a0)]){case _0x100c15[_0xe6f7ad(0x1c6)]:this[_0xe6f7ad(0x115)][_0xe6f7ad(0x556)](_0x38998a),this[_0xe6f7ad(0x152)][_0xe6f7ad(0x556)](_0x38998a),this['contentManager'][_0xe6f7ad(0x556)](_0x38998a);break;case _0x100c15[_0xe6f7ad(0x61c)]:this[_0xe6f7ad(0x152)][_0xe6f7ad(0x59e)](_0x38998a),this[_0xe6f7ad(0x244)][_0xe6f7ad(0x59e)](_0x38998a),this[_0xe6f7ad(0x376)][_0xe6f7ad(0x59e)](_0x38998a),this[_0xe6f7ad(0x229)][_0xe6f7ad(0x59e)](_0x38998a);break;case _0x100c15[_0xe6f7ad(0x47a)]:this[_0xe6f7ad(0x401)]['handleDetectionSystemEvents'](_0x38998a);break;case _0x100c15['Remediation']:this[_0xe6f7ad(0x401)][_0xe6f7ad(0x1aa)](_0x38998a);break;case _0x100c15[_0xe6f7ad(0x4b8)]:this[_0xe6f7ad(0x350)][_0xe6f7ad(0x505)](_0x38998a);break;case _0x100c15[_0xe6f7ad(0x194)]:_0x38998a[_0xe6f7ad(0x4eb)][_0xe6f7ad(0x5a5)]!==_0x2d9739[_0xe6f7ad(0x2cc)]?(this['subscriptionManager'][_0xe6f7ad(0xd7)](_0x38998a),this[_0xe6f7ad(0x376)][_0xe6f7ad(0xd7)](_0x38998a)):(this[_0xe6f7ad(0x376)][_0xe6f7ad(0xd7)](_0x38998a),this[_0xe6f7ad(0x152)][_0xe6f7ad(0xd7)](_0x38998a));break;case _0x100c15[_0xe6f7ad(0x4a8)]:await this['connectionManager'][_0xe6f7ad(0xf6)](_0x38998a),this[_0xe6f7ad(0x115)]['handlePeerConnectionSystemEvents'](_0x38998a),this['nodeManager'][_0xe6f7ad(0xf6)](_0x38998a),this['subscriptionManager'][_0xe6f7ad(0xf6)](_0x38998a);}}catch(_0x33861e){throw this[_0xe6f7ad(0x599)](_0x33861e,{});}}[_0x4d2937(0x599)](_0x582ad0,_0x452a93){const _0x36ffd6=_0x4d2937;if(!(_0x582ad0 instanceof _0x2efda1)){if(_0x582ad0 instanceof _0x5374d2)throw _0x582ad0;if(!(_0x582ad0 instanceof Error))throw new _0x5374d2(_0x4346db[_0x36ffd6(0x254)],'Internal\x20unknown\x20error:\x20'+_0x582ad0);if(!(_0x582ad0 instanceof _0xce6ead))throw new _0x5374d2(_0x4346db[_0x36ffd6(0x254)],_0x36ffd6(0x34e)+_0x582ad0[_0x36ffd6(0x58f)]);switch(_0x582ad0[_0x36ffd6(0x5b0)]){case _0xce6ead[_0x36ffd6(0x197)][_0x36ffd6(0x504)]:case _0xce6ead[_0x36ffd6(0x197)][_0x36ffd6(0x3dd)]:case _0xce6ead[_0x36ffd6(0x197)][_0x36ffd6(0x235)]:case _0xce6ead[_0x36ffd6(0x197)]['ConnectionNotinitialized']:case _0xce6ead[_0x36ffd6(0x197)][_0x36ffd6(0xf2)]:case _0xce6ead['codes'][_0x36ffd6(0x488)]:case _0xce6ead[_0x36ffd6(0x197)][_0x36ffd6(0x435)]:case _0xce6ead[_0x36ffd6(0x197)][_0x36ffd6(0x260)]:case _0xce6ead['codes']['SubscriptionRequestDoesNotExist']:case _0xce6ead[_0x36ffd6(0x197)][_0x36ffd6(0x534)]:case _0xce6ead[_0x36ffd6(0x197)][_0x36ffd6(0x371)]:case _0xce6ead['codes'][_0x36ffd6(0x120)]:}throw _0x4dbf9b[_0x36ffd6(0x2aa)](_0x36ffd6(0x440)+_0x582ad0[_0x36ffd6(0x58f)],{'clusterId':this[_0x36ffd6(0x20a)],'userId':this[_0x36ffd6(0x2ad)]['getId']()},_0x582ad0),new _0x5374d2(_0x4346db[_0x36ffd6(0x254)],_0x36ffd6(0x3c7)+_0x582ad0[_0x36ffd6(0x58f)]);}}[_0x4d2937(0x3d2)](){const _0x2482e4=_0x4d2937;return{'mediator':this,'vendorId':this[_0x2482e4(0x581)],'clusterId':this[_0x2482e4(0x20a)],'localId':this[_0x2482e4(0x2ad)][_0x2482e4(0x5a1)]()};}['initializeSystemTopic'](){const _0xde80b=_0x4d2937;return this[_0xde80b(0x2c5)]['subscribe'](_0x586c84=>{const _0x490025=_0xde80b,_0xe3cf4d=_0x5ec816(_0x586c84,this[_0x490025(0x2ad)][_0x490025(0x5a1)]()),_0x4077fb=_0x586c84[_0x490025(0x4a0)]===_0x100c15[_0x490025(0x4b8)]||_0x586c84[_0x490025(0x4a0)]===_0x100c15['PeerConnection']&&_0x586c84[_0x490025(0x4eb)][_0x490025(0x5a5)]===_0x2a9fc9[_0x490025(0x4b8)]?_0x37cafd[_0x490025(0x3f5)]:_0x37cafd[_0x490025(0x20d)];_0x4dbf9b['logRaw'](_0x4077fb,_0x586c84['uuid']+_0x490025(0x2fb)+_0xe3cf4d,_0x586c84),this[_0x490025(0x4bf)](_0x586c84)[_0x490025(0x3d3)](_0x2c7e28=>{const _0x60b355=_0x490025;console[_0x60b355(0x2aa)](_0x2c7e28);});});}async[_0x4d2937(0x20c)](_0x334f7f,_0x3e40ba){const _0x2b8ce2=_0x4d2937;_0x3e40ba=this[_0x2b8ce2(0x319)](_0x3e40ba),await _0x334f7f[_0x2b8ce2(0xc4)](_0x3e40ba,()=>this[_0x2b8ce2(0x20c)](_0x334f7f,_0x3e40ba));}[_0x4d2937(0x319)](_0x309bd7){const _0x53eef0=_0x4d2937,_0x561b63=this[_0x53eef0(0x229)][_0x53eef0(0x261)]();if(!_0x309bd7)return _0x561b63[0x0];const _0x348716=_0x561b63[_0x53eef0(0x2c3)](_0x59d99f=>_0x309bd7===_0x59d99f),_0x471c65=_0x561b63[_0x348716+0x1];return _0x561b63[_0x53eef0(0x27f)]>0x0&&!_0x471c65?_0x309bd7[0x0]:_0x471c65;}}class _0x598445{['vendorId'];[_0x4d2937(0x20a)];['authUser'];[_0x4d2937(0x59d)];['orchestrator'];constructor(_0x3d45f3,_0x2ef224,_0x4d993d,_0x5dbfd6,_0x81c1c2,_0x41f2b1,_0xc61cda=new _0x512ac7()){const _0x460f0d=_0x4d2937;this['vendorId']=_0x3d45f3,this[_0x460f0d(0x20a)]=_0x2ef224,this[_0x460f0d(0x3b2)]=_0x4d993d,this[_0x460f0d(0x59d)]=_0xc61cda,this['orchestrator']=new _0x35c83f(this['vendorId'],this[_0x460f0d(0x20a)],_0x4d993d,_0x5dbfd6,_0x81c1c2,_0x41f2b1,this);}async[_0x4d2937(0x27b)](){const _0x1de23b=_0x4d2937;await this[_0x1de23b(0x436)][_0x1de23b(0x565)](),this[_0x1de23b(0x3b2)][_0x1de23b(0x3f1)](this[_0x1de23b(0x20a)],_0x55ef3f=>{const _0x3fdb45=_0x1de23b;this[_0x3fdb45(0x436)][_0x3fdb45(0x1b2)](_0x55ef3f);});}[_0x4d2937(0x351)](){const _0x399eee=_0x4d2937,_0x2bcaf7=this[_0x399eee(0x436)][_0x399eee(0x50f)]();return{'getId':_0x2bcaf7[_0x399eee(0x5a1)][_0x399eee(0x4f1)](_0x2bcaf7),'getDisplayName':_0x2bcaf7[_0x399eee(0xf8)][_0x399eee(0x4f1)](_0x2bcaf7),'getEmail':_0x2bcaf7[_0x399eee(0x336)][_0x399eee(0x4f1)](_0x2bcaf7),'getRemoteConnections':_0x2bcaf7[_0x399eee(0x5e7)]['bind'](_0x2bcaf7),'setDisplayName':_0x2bcaf7[_0x399eee(0x598)][_0x399eee(0x4f1)](_0x2bcaf7),'setEmail':_0x2bcaf7[_0x399eee(0x3c8)][_0x399eee(0x4f1)](_0x2bcaf7)};}[_0x4d2937(0x431)](){const _0x387b04=_0x4d2937;this['orchestrator'][_0x387b04(0x5ff)](),this[_0x387b04(0x3b2)][_0x387b04(0x356)](this[_0x387b04(0x20a)]);}[_0x4d2937(0x210)](_0x54b3d6){const _0x1fbcb3=_0x4d2937,_0x4979be=this[_0x1fbcb3(0x436)][_0x1fbcb3(0x210)](_0x54b3d6);return{'getName':_0x4979be['getName'][_0x1fbcb3(0x4f1)](_0x4979be),'getOwnerId':_0x4979be[_0x1fbcb3(0x296)][_0x1fbcb3(0x4f1)](_0x4979be),'getContentType':_0x4979be[_0x1fbcb3(0x25c)]['bind'](_0x4979be),'publish':_0x4979be['publish'][_0x1fbcb3(0x4f1)](_0x4979be),'subscribe':_0x4979be[_0x1fbcb3(0x61d)][_0x1fbcb3(0x4f1)](_0x4979be),'unsubscribe':_0x4979be['unsubscribe'][_0x1fbcb3(0x4f1)](_0x4979be),'close':_0x4979be['close'][_0x1fbcb3(0x4f1)](_0x4979be)};}async['openObjectStoreBucket'](_0x459175){const _0x49bfbd=_0x4d2937,_0x3ddf8c=await this[_0x49bfbd(0x436)]['openObjectStoreBucket'](_0x459175);return{'getName':_0x3ddf8c[_0x49bfbd(0x407)][_0x49bfbd(0x4f1)](_0x3ddf8c),'getOwnerId':_0x3ddf8c[_0x49bfbd(0x296)][_0x49bfbd(0x4f1)](_0x3ddf8c),'getContentType':_0x3ddf8c[_0x49bfbd(0x25c)][_0x49bfbd(0x4f1)](_0x3ddf8c),'publish':_0x3ddf8c['publish'][_0x49bfbd(0x4f1)](_0x3ddf8c),'unpublish':_0x3ddf8c[_0x49bfbd(0x290)]['bind'](_0x3ddf8c),'get':_0x3ddf8c[_0x49bfbd(0x447)][_0x49bfbd(0x4f1)](_0x3ddf8c),'list':_0x3ddf8c['list'][_0x49bfbd(0x4f1)](_0x3ddf8c),'subscribe':_0x3ddf8c[_0x49bfbd(0x61d)][_0x49bfbd(0x4f1)](_0x3ddf8c),'unsubscribe':_0x3ddf8c[_0x49bfbd(0x136)][_0x49bfbd(0x4f1)](_0x3ddf8c),'close':_0x3ddf8c[_0x49bfbd(0x5ff)][_0x49bfbd(0x4f1)](_0x3ddf8c)};}async[_0x4d2937(0x4be)](_0x1728d9,_0x34a766){const _0x3652b5=_0x4d2937,_0x354aa3=await this[_0x3652b5(0x436)][_0x3652b5(0x4be)](_0x1728d9,_0x34a766);return{'getName':_0x354aa3['getName']['bind'](_0x354aa3),'getOwnerId':_0x354aa3[_0x3652b5(0x296)][_0x3652b5(0x4f1)](_0x354aa3),'getContentType':_0x354aa3[_0x3652b5(0x25c)][_0x3652b5(0x4f1)](_0x354aa3),'getTable':_0x354aa3[_0x3652b5(0x231)][_0x3652b5(0x4f1)](_0x354aa3),'subscribe':_0x354aa3[_0x3652b5(0x61d)][_0x3652b5(0x4f1)](_0x354aa3),'unsubscribe':_0x354aa3[_0x3652b5(0x136)][_0x3652b5(0x4f1)](_0x354aa3),'close':_0x354aa3[_0x3652b5(0x5ff)]['bind'](_0x354aa3)};}[_0x4d2937(0x473)](_0x40a91a){const _0x5cea90=_0x4d2937;return this['orchestrator'][_0x5cea90(0x473)](_0x40a91a)[_0x5cea90(0x54c)](_0xb78808=>({'getName':_0xb78808[_0x5cea90(0x407)][_0x5cea90(0x4f1)](_0xb78808),'getOwnerId':_0xb78808['getOwnerId'][_0x5cea90(0x4f1)](_0xb78808),'getContentType':_0xb78808[_0x5cea90(0x25c)]['bind'](_0xb78808),'publish':_0xb78808['publish'][_0x5cea90(0x4f1)](_0xb78808),'subscribe':_0xb78808[_0x5cea90(0x61d)][_0x5cea90(0x4f1)](_0xb78808),'unsubscribe':_0xb78808[_0x5cea90(0x136)][_0x5cea90(0x4f1)](_0xb78808),'close':_0xb78808[_0x5cea90(0x5ff)][_0x5cea90(0x4f1)](_0xb78808)}));}['getObjectStoreBuckets'](_0x3f63b0){const _0x3619d0=_0x4d2937;return this[_0x3619d0(0x436)][_0x3619d0(0x627)](_0x3f63b0)['map'](_0x522d15=>({'getName':_0x522d15[_0x3619d0(0x407)][_0x3619d0(0x4f1)](_0x522d15),'getOwnerId':_0x522d15[_0x3619d0(0x296)]['bind'](_0x522d15),'getContentType':_0x522d15[_0x3619d0(0x25c)][_0x3619d0(0x4f1)](_0x522d15),'publish':_0x522d15[_0x3619d0(0x104)][_0x3619d0(0x4f1)](_0x522d15),'unpublish':_0x522d15[_0x3619d0(0x290)][_0x3619d0(0x4f1)](_0x522d15),'get':_0x522d15[_0x3619d0(0x447)][_0x3619d0(0x4f1)](_0x522d15),'list':_0x522d15[_0x3619d0(0x60b)][_0x3619d0(0x4f1)](_0x522d15),'subscribe':_0x522d15[_0x3619d0(0x61d)][_0x3619d0(0x4f1)](_0x522d15),'unsubscribe':_0x522d15[_0x3619d0(0x136)][_0x3619d0(0x4f1)](_0x522d15),'close':_0x522d15['close'][_0x3619d0(0x4f1)](_0x522d15)}));}['getKeyValueDatabases'](_0x2e7dd3){const _0x152450=_0x4d2937;return this[_0x152450(0x436)][_0x152450(0x64e)](_0x2e7dd3)[_0x152450(0x54c)](_0x5a711b=>({'getName':_0x5a711b[_0x152450(0x407)][_0x152450(0x4f1)](_0x5a711b),'getOwnerId':_0x5a711b['getOwnerId']['bind'](_0x5a711b),'getContentType':_0x5a711b[_0x152450(0x25c)][_0x152450(0x4f1)](_0x5a711b),'getTable':_0x5a711b[_0x152450(0x231)]['bind'](_0x5a711b),'subscribe':_0x5a711b['subscribe'][_0x152450(0x4f1)](_0x5a711b),'unsubscribe':_0x5a711b['unsubscribe'][_0x152450(0x4f1)](_0x5a711b),'close':_0x5a711b[_0x152450(0x5ff)][_0x152450(0x4f1)](_0x5a711b)}));}[_0x4d2937(0x592)](_0x36a53b,_0x6b33dd){const _0x255920=_0x4d2937,_0x7d388d=this[_0x255920(0x436)]['createLocalMediaStream'](_0x36a53b,_0x6b33dd);return{'getLabel':_0x7d388d[_0x255920(0x631)][_0x255920(0x4f1)](_0x7d388d),'getOwnerId':_0x7d388d['getOwnerId'][_0x255920(0x4f1)](_0x7d388d),'getContentType':_0x7d388d[_0x255920(0x25c)][_0x255920(0x4f1)](_0x7d388d),'getMediaStream':_0x7d388d[_0x255920(0x1bb)][_0x255920(0x4f1)](_0x7d388d),'setPriority':_0x7d388d['setPriority']['bind'](_0x7d388d),'unpublish':_0x7d388d['unpublish'][_0x255920(0x4f1)](_0x7d388d)};}[_0x4d2937(0x1bf)](_0x1eaea8,_0x44c0ac){const _0x21d97a=_0x4d2937,_0x3d1bc9=this[_0x21d97a(0x436)][_0x21d97a(0x558)](_0x1eaea8,_0x44c0ac);return{'getLabel':_0x3d1bc9[_0x21d97a(0x631)][_0x21d97a(0x4f1)](_0x3d1bc9),'getOwnerId':_0x3d1bc9[_0x21d97a(0x296)][_0x21d97a(0x4f1)](_0x3d1bc9),'getContentType':_0x3d1bc9[_0x21d97a(0x25c)][_0x21d97a(0x4f1)](_0x3d1bc9),'setPriority':_0x3d1bc9[_0x21d97a(0x13d)][_0x21d97a(0x4f1)](_0x3d1bc9),'unpublish':_0x3d1bc9[_0x21d97a(0x290)][_0x21d97a(0x4f1)](_0x3d1bc9),'getMediaStream':_0x3d1bc9['getMediaStream'][_0x21d97a(0x4f1)](_0x3d1bc9),'addTrack':_0x3d1bc9[_0x21d97a(0x1e1)]['bind'](_0x3d1bc9),'removeTrack':_0x3d1bc9[_0x21d97a(0x633)][_0x21d97a(0x4f1)](_0x3d1bc9),'replaceTrack':_0x3d1bc9['replaceTrack'][_0x21d97a(0x4f1)](_0x3d1bc9),'setTransformations':_0x3d1bc9[_0x21d97a(0x649)]['bind'](_0x3d1bc9)};}[_0x4d2937(0x36d)](_0x25e1f9){const _0x3679b0=_0x4d2937;return this[_0x3679b0(0x436)][_0x3679b0(0x36d)](_0x25e1f9)[_0x3679b0(0x54c)](_0x58d80a=>({'getLabel':_0x58d80a['getLabel'][_0x3679b0(0x4f1)](_0x58d80a),'getOwnerId':_0x58d80a[_0x3679b0(0x296)][_0x3679b0(0x4f1)](_0x58d80a),'getContentType':_0x58d80a[_0x3679b0(0x25c)][_0x3679b0(0x4f1)](_0x58d80a),'getMediaStream':_0x58d80a[_0x3679b0(0x1bb)]['bind'](_0x58d80a),'setPriority':_0x58d80a[_0x3679b0(0x13d)][_0x3679b0(0x4f1)](_0x58d80a),'unpublish':_0x58d80a[_0x3679b0(0x290)][_0x3679b0(0x4f1)](_0x58d80a)}));}['getRemoteMediaStreams'](_0x3933eb){const _0x543a26=_0x4d2937;return this[_0x543a26(0x436)][_0x543a26(0x45a)](_0x3933eb)[_0x543a26(0x54c)](_0x21a487=>({'getLabel':_0x21a487[_0x543a26(0x631)][_0x543a26(0x4f1)](_0x21a487),'getOwnerId':_0x21a487[_0x543a26(0x296)][_0x543a26(0x4f1)](_0x21a487),'getContentType':_0x21a487[_0x543a26(0x25c)][_0x543a26(0x4f1)](_0x21a487),'getMediaStream':_0x21a487[_0x543a26(0x1bb)]['bind'](_0x21a487),'subscribe':_0x21a487[_0x543a26(0x61d)][_0x543a26(0x4f1)](_0x21a487),'unsubscribe':_0x21a487[_0x543a26(0x136)]['bind'](_0x21a487),'getAvailableTrackKinds':_0x21a487[_0x543a26(0x333)][_0x543a26(0x4f1)](_0x21a487),'update':_0x21a487['update'][_0x543a26(0x4f1)](_0x21a487),'onProviderChanged':_0x21a487[_0x543a26(0x533)]['bind'](_0x21a487)}));}['getRemoteUsers'](_0x21c03a){const _0x6ee0cc=_0x4d2937;return this[_0x6ee0cc(0x436)][_0x6ee0cc(0xc9)](_0x21c03a)[_0x6ee0cc(0x54c)](_0x554d19=>({'getId':_0x554d19['getId'][_0x6ee0cc(0x4f1)](_0x554d19),'getDisplayName':_0x554d19[_0x6ee0cc(0xf8)]['bind'](_0x554d19),'getEmail':_0x554d19[_0x6ee0cc(0x336)]['bind'](_0x554d19),'getRemoteConnections':_0x554d19[_0x6ee0cc(0x5e7)][_0x6ee0cc(0x4f1)](_0x554d19)}));}['on']=(..._0x49e4e9)=>{const _0x3d6e69=_0x4d2937;this[_0x3d6e69(0x59d)]['on'](..._0x49e4e9);};[_0x4d2937(0x2a2)]=(..._0x413484)=>this[_0x4d2937(0x59d)][_0x4d2937(0x2a2)](..._0x413484);[_0x4d2937(0x5d5)](..._0x79006a){const _0x28e504=_0x4d2937;this['eventEmitter'][_0x28e504(0x5d5)](..._0x79006a);}}class _0x3d8f16{['id'];[_0x4d2937(0x561)];[_0x4d2937(0x21a)];[_0x4d2937(0x40d)]=new Map();[_0x4d2937(0x4b3)]=_0x412493();constructor(_0x1f0d16,_0x62ac3e,_0x1b7478){const _0x450b35=_0x4d2937;this['id']=_0x1f0d16,this[_0x450b35(0x561)]=_0x62ac3e,this[_0x450b35(0x21a)]=_0x1b7478;}[_0x4d2937(0x5a1)](){return this['id'];}['getDisplayName'](){const _0x4083c6=_0x4d2937;return this[_0x4083c6(0x561)];}[_0x4d2937(0x336)](){const _0x408c4f=_0x4d2937;return this[_0x408c4f(0x21a)];}[_0x4d2937(0x598)](_0x179205){const _0x13263e=_0x4d2937;this['displayName']!==_0x179205&&(this['displayName']=_0x179205,this['observer'][_0x13263e(0x104)](this));}['setEmail'](_0x503587){const _0xf43a55=_0x4d2937;this[_0xf43a55(0x21a)]!==_0x503587&&(this[_0xf43a55(0x21a)]=_0x503587,this[_0xf43a55(0x4b3)][_0xf43a55(0x104)](this));}['registerCluster'](_0x55b1f0,_0x5b2af7){const _0x374348=_0x4d2937;if(this[_0x374348(0x40d)][_0x374348(0x314)](_0x55b1f0))return;const _0x4885d8=this['observer'][_0x374348(0x61d)](_0x5b2af7);this[_0x374348(0x40d)][_0x374348(0x470)](_0x55b1f0,_0x4885d8);}[_0x4d2937(0x356)](_0x90dfec){const _0x346f98=_0x4d2937;if(!this['joinedClusters'][_0x346f98(0x314)](_0x90dfec))return;const _0x1b2389=this[_0x346f98(0x40d)][_0x346f98(0x447)](_0x90dfec);_0x1b2389&&_0x1b2389(),this[_0x346f98(0x40d)]['delete'](_0x90dfec);}}class _0x270ace{[_0x4d2937(0x581)];['user'];constructor(_0x57f1cc){this['vendorId']=_0x57f1cc;}async[_0x4d2937(0x26a)](_0x5c0cd7){const _0x48968d=_0x4d2937,_0x2bc8f4=await(0x0,_0x1c2722['httpsCallable'])(_0xbebd52[_0x48968d(0x187)](),_0x48968d(0x10a))({'uid':'ccc'+this[_0x48968d(0x581)]+_0x48968d(0x635)+_0x5c0cd7['id']}),_0x50bea3=await(0x0,_0x3b4da4[_0x48968d(0x4e0)])(_0xbebd52[_0x48968d(0x313)](),_0x2bc8f4[_0x48968d(0x1b4)][_0x48968d(0x1b0)]);this['user']=_0x50bea3[_0x48968d(0x64c)];}[_0x4d2937(0x4f5)](){const _0x113092=_0x4d2937;return this[_0x113092(0x64c)]?.[_0x113092(0x4f5)]()??Promise[_0x113092(0x230)]('User\x20not\x20signed\x20in');}}var _0x491bfd;!function(_0x46da1b){const _0x5d2b66=_0x4d2937;_0x46da1b['WebRTC']='WebRTC',_0x46da1b['MediaStream']='MediaStream',_0x46da1b[_0x5d2b66(0x61e)]=_0x5d2b66(0x61e),_0x46da1b[_0x5d2b66(0x632)]='AudioVolume',_0x46da1b[_0x5d2b66(0x5bc)]=_0x5d2b66(0x5bc),_0x46da1b[_0x5d2b66(0x26d)]=_0x5d2b66(0x26d),_0x46da1b['Recording']=_0x5d2b66(0x22a),_0x46da1b['Backgrounds']='Backgrounds',_0x46da1b[_0x5d2b66(0x11a)]=_0x5d2b66(0x11a);}(_0x491bfd||(_0x491bfd={}));class _0x3f65ac{static ['instance'];['featureSupport']=[];constructor(){}static[_0x4d2937(0x4a2)](){const _0x463f30=_0x4d2937;return _0x3f65ac[_0x463f30(0x5ca)]||(_0x3f65ac[_0x463f30(0x5ca)]=new _0x3f65ac()),_0x3f65ac[_0x463f30(0x5ca)];}[_0x4d2937(0x565)](){const _0x50945d=_0x4d2937;this['checkWebRTC'](),this[_0x50945d(0x37c)](),this[_0x50945d(0x420)](),this[_0x50945d(0x4a1)](),this[_0x50945d(0x315)](),this['checkAudioOutput'](),this['checkMediaRecording'](),this[_0x50945d(0x651)](),this[_0x50945d(0xd5)](),_0x4dbf9b['log'](_0x37cafd[_0x50945d(0x5b7)],_0x50945d(0x138),{'featureSupport':this[_0x50945d(0x101)]});}['isFeatureSupported'](_0x2a9a5a){const _0x2e74d5=_0x4d2937,_0xefd535=this['featureSupport'][_0x2e74d5(0x1d8)](_0x5cc8a4=>_0x5cc8a4[_0x2e74d5(0x1bc)]===_0x2a9a5a);return!!_0xefd535&&_0xefd535[_0x2e74d5(0x589)];}[_0x4d2937(0x55c)](_0x14b91b){const _0x48f031=_0x4d2937;_0x4dbf9b[_0x48f031(0x5fc)](_0x48f031(0x480),{'userId':_0x14b91b,'data':{'featureSupport':this['featureSupport']}});}[_0x4d2937(0x60e)](){const _0xb33064=_0x4d2937,_0x576a92=_0x491bfd[_0xb33064(0x23d)];let _0x3b20a4=!0x1;'function'==typeof RTCPeerConnection&&_0xb33064(0x495)==typeof RTCIceCandidate&&_0xb33064(0x495)==typeof RTCSessionDescription?_0x3b20a4=!0x0:_0x4dbf9b['log'](_0x37cafd[_0xb33064(0x5b7)],'Support:\x20'+_0x576a92+_0xb33064(0x30e)),this[_0xb33064(0x101)]['push']({'name':_0x576a92,'supported':_0x3b20a4});}[_0x4d2937(0x37c)](){const _0x2b7019=_0x4d2937,_0x38e14c=_0x491bfd['MediaStream'];let _0x4ce2e9=!0x1;_0x2b7019(0x495)==typeof MediaStream&&_0x2b7019(0x495)==typeof MediaStreamTrack&&_0x2b7019(0x221)==typeof navigator&&_0x2b7019(0x221)==typeof navigator[_0x2b7019(0x154)]&&_0x2b7019(0x495)==typeof navigator['mediaDevices'][_0x2b7019(0x25d)]?_0x4ce2e9=!0x0:_0x4dbf9b[_0x2b7019(0x5f2)](_0x37cafd[_0x2b7019(0x5b7)],_0x2b7019(0x656)+_0x38e14c+_0x2b7019(0x30e)),this[_0x2b7019(0x101)][_0x2b7019(0x415)]({'name':_0x38e14c,'supported':_0x4ce2e9});}[_0x4d2937(0x420)](){const _0x27288a=_0x4d2937,_0x1d4fee=_0x491bfd[_0x27288a(0x61e)];let _0x4587f7=!0x1;_0x27288a(0x221)==typeof navigator&&'object'==typeof navigator[_0x27288a(0x154)]&&_0x27288a(0x495)==typeof navigator['mediaDevices']['getDisplayMedia']?_0x4587f7=!0x0:_0x4dbf9b[_0x27288a(0x5f2)](_0x37cafd[_0x27288a(0x5b7)],_0x27288a(0x656)+_0x1d4fee+_0x27288a(0x30e)),this[_0x27288a(0x101)][_0x27288a(0x415)]({'name':_0x1d4fee,'supported':_0x4587f7});}[_0x4d2937(0x4a1)](){const _0xf3bbb4=_0x4d2937,_0xe2ed18=_0x491bfd[_0xf3bbb4(0x632)];let _0x48ce50=!0x1;_0xf3bbb4(0x495)!=typeof AudioContext||'function'!=typeof ScriptProcessorNode&&_0xf3bbb4(0x495)!=typeof AudioWorkletNode||_0xf3bbb4(0x495)!=typeof MediaStreamAudioSourceNode?_0x4dbf9b['log'](_0x37cafd[_0xf3bbb4(0x5b7)],'Support:\x20'+_0xe2ed18+_0xf3bbb4(0x30e)):_0x48ce50=!0x0,this['featureSupport'][_0xf3bbb4(0x415)]({'name':_0xe2ed18,'supported':_0x48ce50});}[_0x4d2937(0x315)](){const _0xeb7fac=_0x4d2937,_0x4d3697=_0x491bfd[_0xeb7fac(0x5bc)];let _0x5b0db7=!0x1;_0xeb7fac(0x221)==typeof navigator&&_0xeb7fac(0x221)==typeof navigator[_0xeb7fac(0x154)]&&_0xeb7fac(0x495)==typeof navigator[_0xeb7fac(0x154)]['enumerateDevices']&&_0xeb7fac(0x495)==typeof MediaDeviceInfo?_0x5b0db7=!0x0:_0x4dbf9b[_0xeb7fac(0x5f2)](_0x37cafd[_0xeb7fac(0x5b7)],_0xeb7fac(0x656)+_0x4d3697+_0xeb7fac(0x30e)),this[_0xeb7fac(0x101)][_0xeb7fac(0x415)]({'name':_0x4d3697,'supported':_0x5b0db7});}['checkAudioOutput'](){const _0x5c3fa2=_0x4d2937,_0x11a704=_0x491bfd[_0x5c3fa2(0x26d)];let _0x4264e7=!0x1;_0x5c3fa2(0x495)==typeof document[_0x5c3fa2(0x2db)](_0x5c3fa2(0x47b))[_0x5c3fa2(0x5b5)]?_0x4264e7=!0x0:_0x4dbf9b[_0x5c3fa2(0x5f2)](_0x37cafd[_0x5c3fa2(0x5b7)],'Support:\x20'+_0x11a704+_0x5c3fa2(0x30e)),this[_0x5c3fa2(0x101)][_0x5c3fa2(0x415)]({'name':_0x11a704,'supported':_0x4264e7});}async[_0x4d2937(0x588)](){const _0x40ead4=_0x4d2937,_0x255958=_0x491bfd['Recording'];let _0x155f80=!0x1;try{const _0x1e4f8e=document['createElement']('canvas');if(window[_0x40ead4(0x2ab)]&&window[_0x40ead4(0x5ad)]&&_0x1e4f8e['captureStream']){const _0x3d8789=_0x1e4f8e[_0x40ead4(0x12c)](),_0x158361=new MediaRecorder(_0x3d8789);_0x158361['start'](),await new Promise(_0x439f0c=>setTimeout(_0x439f0c,0x7d0)),_0x158361[_0x40ead4(0x110)](),_0x155f80=_0x40ead4(0x251)===_0x158361['state'];}}catch(_0x4b7a05){_0x4dbf9b[_0x40ead4(0x5f2)](_0x37cafd[_0x40ead4(0x5b7)],_0x40ead4(0x656)+_0x255958+_0x40ead4(0x5f1),_0x4b7a05);}this['featureSupport'][_0x40ead4(0x415)]({'name':_0x255958,'supported':_0x155f80}),_0x155f80||_0x4dbf9b[_0x40ead4(0x5f2)](_0x37cafd[_0x40ead4(0x5b7)],'Support:\x20'+_0x255958+_0x40ead4(0x30e));}[_0x4d2937(0x651)](){const _0x2e454a=_0x4d2937,_0x1bf85f=_0x491bfd['Backgrounds'];let _0x31d76d=!0x1;try{document[_0x2e454a(0x2db)](_0x2e454a(0xe7))[_0x2e454a(0x12c)]&&(_0x31d76d=!0x0);}catch(_0x67faf){_0x4dbf9b[_0x2e454a(0x5f2)](_0x37cafd[_0x2e454a(0x5b7)],_0x2e454a(0x656)+_0x1bf85f+_0x2e454a(0x5f1),_0x67faf);}this[_0x2e454a(0x101)]['push']({'name':_0x1bf85f,'supported':_0x31d76d}),_0x31d76d||_0x4dbf9b[_0x2e454a(0x5f2)](_0x37cafd['Support'],_0x2e454a(0x656)+_0x1bf85f+'\x20not\x20supported');}['checkWebGL'](){const _0x3eac58=_0x4d2937,_0x416912=_0x491bfd['WebGL'];let _0x5071d7=!0x1;try{const _0x35d283=document['createElement']('canvas');window['WebGLRenderingContext']&&_0x35d283[_0x3eac58(0xdb)](_0x3eac58(0x49e))&&(_0x5071d7=!0x0);}catch(_0x546933){_0x4dbf9b[_0x3eac58(0x5f2)](_0x37cafd[_0x3eac58(0x5b7)],'Support:\x20'+_0x416912+_0x3eac58(0x5f1),_0x546933);}this[_0x3eac58(0x101)][_0x3eac58(0x415)]({'name':_0x416912,'supported':_0x5071d7}),_0x5071d7||_0x4dbf9b['log'](_0x37cafd[_0x3eac58(0x5b7)],'Support:\x20'+_0x416912+_0x3eac58(0x30e));}}const _0x5d7283=_0x3f65ac[_0x4d2937(0x4a2)]();class _0xb3ba15{static [_0x4d2937(0x5ca)];[_0x4d2937(0x62a)];[_0x4d2937(0x581)];[_0x4d2937(0x61a)];[_0x4d2937(0x202)];[_0x4d2937(0x5e5)];constructor(_0x4d7705,_0x3fba35,_0x4e8e3d){const _0xea7572=_0x4d2937;this['vendorId']=_0x4d7705,this[_0xea7572(0x202)]=_0x3fba35,this[_0xea7572(0x62a)]=new _0x270ace(this[_0xea7572(0x581)]),this['options']={'audioContext':_0x4e8e3d?.[_0xea7572(0x5d8)]??new AudioContext(),'maxOutgoingSubscriptions':_0x4e8e3d?.['maxOutgoingSubscriptions']??0x1,'minConnections':_0x4e8e3d?.[_0xea7572(0x345)]??0x3,'maxConnections':_0x4e8e3d?.[_0xea7572(0x343)]??(_0x4e8e3d?.[_0xea7572(0x345)]&&0x4*_0x4e8e3d['minConnections'])??0xc,'maxDistance':_0x4e8e3d?.[_0xea7572(0x1db)]??0xa,'maxFps':_0x4e8e3d?.['maxFps']??0x18,'maxBpp':_0x4e8e3d?.[_0xea7572(0x4c6)]??0.12,'objectStoreConnector':_0x4e8e3d?.['objectStoreConnector']??_0x3bfa09[_0xea7572(0x2c4)],'keyValueDatabaseConnector':_0x4e8e3d?.['keyValueDatabaseConnector']??_0x3d2679[_0xea7572(0x567)],'peerConnectionConnector':_0x4e8e3d?.['peerConnectionConnector']??_0x10b5d5[_0xea7572(0x63c)]},_0x4e8e3d?.[_0xea7572(0x527)]&&_0x3cfc44[_0xea7572(0x472)](this[_0xea7572(0x61a)]['audioContext']),_0x4dbf9b[_0xea7572(0x5fd)](this[_0xea7572(0x581)]),_0x4e8e3d?.['loggingConnectors']&&_0x4dbf9b[_0xea7572(0x3f4)](_0x4e8e3d[_0xea7572(0x511)]),_0x5d7283[_0xea7572(0x565)]();}static async[_0x4d2937(0x4a2)](_0x5eb286,_0x50d7e0,_0x13f680){const _0x24e603=_0x4d2937,_0x958b07=await this['validateAccess'](_0x5eb286,_0x50d7e0);return _0xb3ba15[_0x24e603(0x5ca)]||(_0xb3ba15[_0x24e603(0x5ca)]=new _0xb3ba15(_0x5eb286,_0x958b07,_0x13f680)),{'authenticateUser':_0xb3ba15['instance'][_0x24e603(0x5dc)][_0x24e603(0x4f1)](_0xb3ba15[_0x24e603(0x5ca)]),'joinCluster':_0xb3ba15['instance'][_0x24e603(0x575)][_0x24e603(0x4f1)](_0xb3ba15[_0x24e603(0x5ca)])};}static async[_0x4d2937(0x182)](){const _0x52a666=_0x4d2937;return _0xbebd52[_0x52a666(0x286)]();}static async[_0x4d2937(0x2e0)](_0x15f425,_0x299d51){const _0x1dc151=_0x4d2937,_0x3247c2=(await(0x0,_0x1c2722[_0x1dc151(0x5d0)])(_0xbebd52[_0x1dc151(0x187)](),'sdkValidateAccess')({'vendorId':_0x15f425,'accessToken':_0x299d51}))[_0x1dc151(0x1b4)];return _0x3247c2[_0x1dc151(0x3ad)]||(_0x3247c2[_0x1dc151(0x3ad)]=[]),_0x3247c2;}async[_0x4d2937(0x5dc)](_0x1f0f27){const _0x539812=_0x4d2937;await this[_0x539812(0x62a)][_0x539812(0x26a)](_0x1f0f27);const _0x238982=new _0x3d8f16(_0x1f0f27['id'],_0x1f0f27[_0x539812(0x561)],_0x1f0f27[_0x539812(0x21a)]);return this['authContext']={'user':_0x238982},_0x5d7283[_0x539812(0x55c)](_0x238982[_0x539812(0x5a1)]()),{'getId':_0x238982[_0x539812(0x5a1)][_0x539812(0x4f1)](_0x238982),'getDisplayName':_0x238982[_0x539812(0xf8)]['bind'](_0x238982),'getEmail':_0x238982[_0x539812(0x336)][_0x539812(0x4f1)](_0x238982),'setDisplayName':_0x238982[_0x539812(0x598)][_0x539812(0x4f1)](_0x238982),'setEmail':_0x238982[_0x539812(0x3c8)][_0x539812(0x4f1)](_0x238982)};}async[_0x4d2937(0x575)](_0x444765){const _0x53e758=_0x4d2937;if(!this[_0x53e758(0x5e5)])throw new _0x5374d2(_0x4346db[_0x53e758(0x4cf)],_0x53e758(0x468));const _0x163c62=new _0x598445(this['vendorId'],_0x444765,this[_0x53e758(0x5e5)]['user'],this[_0x53e758(0x62a)],this['options'],this[_0x53e758(0x202)]);return await _0x163c62[_0x53e758(0x27b)](),_0x4dbf9b[_0x53e758(0x5fc)]('join-cluster',{'clusterId':_0x444765,'userId':this[_0x53e758(0x5e5)][_0x53e758(0x64c)][_0x53e758(0x5a1)]()}),{'leave':_0x163c62[_0x53e758(0x431)]['bind'](_0x163c62),'getUser':_0x163c62[_0x53e758(0x351)][_0x53e758(0x4f1)](_0x163c62),'openPubSubTopic':_0x163c62[_0x53e758(0x210)]['bind'](_0x163c62),'openObjectStoreBucket':_0x163c62[_0x53e758(0x1ca)][_0x53e758(0x4f1)](_0x163c62),'openKeyValueDatabase':_0x163c62[_0x53e758(0x4be)][_0x53e758(0x4f1)](_0x163c62),'publishLocalMediaStream':_0x163c62[_0x53e758(0x592)][_0x53e758(0x4f1)](_0x163c62),'publishLocalDynamicMediaStream':_0x163c62[_0x53e758(0x1bf)][_0x53e758(0x4f1)](_0x163c62),'getPubSubTopics':_0x163c62['getPubSubTopics'][_0x53e758(0x4f1)](_0x163c62),'getObjectStoreBuckets':_0x163c62[_0x53e758(0x627)][_0x53e758(0x4f1)](_0x163c62),'getKeyValueDatabases':_0x163c62['getKeyValueDatabases'][_0x53e758(0x4f1)](_0x163c62),'getLocalMediaStreams':_0x163c62['getLocalMediaStreams'][_0x53e758(0x4f1)](_0x163c62),'getRemoteMediaStreams':_0x163c62[_0x53e758(0x45a)][_0x53e758(0x4f1)](_0x163c62),'getRemoteUsers':_0x163c62[_0x53e758(0xc9)][_0x53e758(0x4f1)](_0x163c62),'on':_0x163c62['on'][_0x53e758(0x4f1)](_0x163c62),'off':_0x163c62['off'][_0x53e758(0x4f1)](_0x163c62)};}}})()),_0x2f5c7f;})())));function a0_0x72fc(_0x2d6ded,_0x88a269){const _0x3b18db=a0_0x3b18();return a0_0x72fc=function(_0x72fcbf,_0x3124ae){_0x72fcbf=_0x72fcbf-0xb1;let _0x3f0c0d=_0x3b18db[_0x72fcbf];return _0x3f0c0d;},a0_0x72fc(_0x2d6ded,_0x88a269);}function a0_0x3b18(){const _0x15365c=['FileWrite','type','crewdle-sdk-logging-','detectLocalIssues','writeTransaction','getLastUpdated','syncTransactions','framesDecoded','clearSyncTimeout','MediaSource','https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','setRank','code','9804008FPLwhp','crewdleSDKEnableLogging','srcObject','OptimizationConnectionSuccess','setSinkId','getSubscriptionLabel','Support','update','getResolutionScale','isInternalLoggingConnector','estimatedPlayoutTimestamp','DeviceConfig','objectToArrayBuffer','clientStream','The\x20system\x20topic\x20has\x20not\x20been\x20registered.','remoteConnections','findNewMediaSubscription','Invalid\x20peer\x20connection\x20event\x20destination.','messages','RemoteMediaStreamAlreadyExists','logRaw','totalEncodeTime','frames','remote-connection-exists','handleSubscriptionNeedMediaStream','instance','gatheringState','bufferedAmount','warn','splitParts','Success','httpsCallable','floor','Consuming\x20buffered\x20event','handleAnswer','object-store-name-not-string','off','RemoteConnectionExists','handleUpdateMediaStream','audioContext','KeyValueDatabaseNotOpen','subscription-request-no-answer','processTransactionsDump','authenticateUser','onremovetrack','previous','mediaStream','direction','getFileHandle','timeSending','maxOutgoingSubscriptions','UnpublishMediaStream','authContext','KeyValueDatabaseAlreadyExists','getRemoteConnections','getInternalStreamId','filteredDestinationIds','upgradeTimeout','system-stats','toString','handleConnectionSuccess','handleContentRemoteMediaStreamTrackFail','getTransactionFromTableWriteEvent','pubsub','\x20check\x20failed','log','compareTransactions','Rejected','handleContentUpdateMediaStream','processLocalReport','getCurrentMaxLayer','canAddCandidates','unregisterSubscriber','value','User\x20already\x20exists.','logEvent','setVendorId','onGatheringStateChange','close','updateDebounceTimeout','Transaction','ConnectionState','__esModule','us-east-1','pendingFilesSyncing','getRemoteMediaStream','Stream\x20does\x20not\x20exist','audio','OutgoingSubscription','restartTimeout','list','Issue\x20detected:\x20','receiverPreviousTimestamp','checkWebRTC','/objectstores/','database','getApp','timeReceiving','trackCallback','publishSyncCompletedAfterWrites','publishFile','key-value-database-does-not-exist','getSTVolatility','getIndexes','handleUserUpdate','options','onDisconnectHandler','Node','subscribe','ScreenSharing','retryCount','object-store-cannot-write-transaction','KeyValueDatabaseInvalidValue','CloseObjectStoreBucket','subscription-request-does-not-exist','bytesReceived','LocalMediaStreamDoesNotExist','MediaStreamUnavailable','getObjectStoreBuckets','handleFileSync','connected','authService','maps','resizeHandler','local-media-stream-track-fail','setupResizeHandler','Object\x20store\x20is\x20not\x20in\x20sync','closeTopic','getLabel','AudioVolume','removeTrack','handleDetectionSystemEvents','ccc','crewdle-sdk-stg.appspot.com','SystemTopic\x20publish','collectReceiversStats','lastRemediations','Local\x20MediaStream\x20already\x20exists','remediations','WebRTCBrowserPeerConnectionConnector','packets','ObjectStoreInvalidPayload','deleteTransactionsForTable','https://crewdle-sdk-stg-default-rtdb.firebaseio.com','onConnectionStateChange','createRemoteUser','head','childRemovedUnsubscriber','key','invalid-subscription','KeyValueDatabaseDoesNotExist','ObjectStoreDoesNotExist','setTransformations','AppSync\x20client\x20not\x20ready','appsync-disconnect','user','clusterEventEmitter','getKeyValueDatabases','sender','Cannot\x20unpublish\x20object:\x20','checkBackgrounds','.info/serverTimeOffset','clearHeartbeat','functions','discoveryUnsubscriber','Support:\x20','sort','handleUnpublishMediaStream','publishUserJoin','ObjectStoreCannotWriteTransaction','SubscriptionRequestInProgress','cleanList','remote-stream-missing-provider-id','requestSubscription','folder-delete','getHash','key-value-database-invalid-query','getSettings','mergeParts','isSync','RemoteMediaStreamDoesNotExist','Invalid\x20subscription.','source','downgrade','getDTVolatility','transactionIds','remediation','values','gain','sync','senderTimeProcessing','Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key','issues','debounceProcessRank','getRemoteUsers','isMediaDestination','shouldProcessTransaction','DTVolatility','outbound-rtp','streams','northamerica-northeast1','mute','validateValue','app','parentId','sendFileRequestPayload','checkWebGL','availableTrackKinds','handleSubscriptionSystemEvents','setInternalId','UserUpdate','handleSubscriptionUnsubscribeMediaStream','getContext','rtt','updateDebounce','transaction','Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc','pendingHandshakeCandidates','createIncomingSubscription','remote-media-stream-already-exists','handleOffer','Connected','unregisterDestination','processOutboundReport','canvas','connectionPool','setEncodingParameters','handleFileRequest','Cannot\x20publish\x20move\x20operation:\x20','priority','getTracks','updateLastUpdated','crewdle-sdk-stg.firebaseapp.com','setupConnectionEvents','::','ConnectionNotConnected','params','handleFileRequestAnswer','getClosestUsers','handlePeerConnectionSystemEvents','handleContentUnsubscribeMediaStream','getDisplayName','waitConnected','channel','UserAlreadyExist','registerSystemPublisher','createSenderConnection','createIndex','getPacketsLostPerc','connection-not-connected','featureSupport','9jCVIpe','hasTracks','publish','split','waitAnswer','media-stream','Invalid\x20query','PubSubTopicAlreadySubscribed','sdkCreateToken','getInternalTrackParams','user-update','Remote\x20MediaStream\x20already\x20exists','transactionTable','messagesSent','stop','getShareableStream','undefined','cluster-disconnect','instantiateTransactionTable','statsManager','issue','subscriptionRequestsQueue','Optimization','KeyValueDatabase','WebGL','handleContentSubscribeMediaStream','remoteUsers','serverTimestamp','setOnMessageHandler','events','InvalidSubscription','publishUserLeave','No\x20destinationIds\x20left','answererId','messageCallback','node','PubSub','getTrack','clearWaitAnswer','distance','replace','desc','captureStream','onMessage','auth','handleContentClosePubSubTopic','reportMetric','boolean','jitter','createMediaStreamDestination','waitSuccess','includes','unsubscribe','TimePerFrame','Support:\x20current\x20config','onNodeDisconnect','wait','onerror','cpu.cycle','setPriority','getFile','Pool','publishSyncCompleted','KeyValueDatabaseIndexNotFound','DataChannel\x20is\x20not\x20initialized.','ObjectStoreNotInSync','where','Logger.getInstance','canChooseAnswer','manageOptimization','Received\x20track','crewdle-sdk.appspot.com','pub-sub-topic-name-not-string','match','RequestSyncKeyValueDatabase','move','disconnectCallback','Jitter','failed','user-publish-media','subscriptionManager','registerPublisher','mediaDevices','event','detail','removeConnection','unsubscribeTrackEndedListener','object-store-invalid-payload','receiverCurrentTimestamp','FolderCreate','key-value-database-invalid-value','setTimestamp','listenerUnsubscribers','dataChannel','stats','createDataChannel','PubSubTopicStats','createMediaStreamSource','Invalid\x20publisher.','processPendingSyncTransactions','dt_volatility','signalingState','setSubscriptionRequestTimeout','deleteIndex','Local\x20user\x20rank\x20is\x20not\x20set','track','Back\x20off:\x20Table\x20name\x20reserved','handleSubscriptionRestartNeedMediaStream','https://crewdle-sdk-default-rtdb.firebaseio.com','uuid','maxFramerate','connection-state','connectionState','key-value-database','removeOutgoingSubscription','goOnline','AppSync\x20publish','end','processSenderReport','Cluster\x20\x27','Answer','restartHandshake','oidc','notifyClusterUserUpdate','processRemoteInboundReport','objectStores','object-store-not-in-sync','registeredListeners','timestamp','senderTotalMessages','handleFolderCreate','bandwidth.jitter','getDatabase','getFunctions','\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number','buffer','RemoteMediaStreamInvalidSubscriptionParams','currentBytes','providerId','cpu.time_per_frame','LocalReport','getConnectionGroup','All','destroy','handleIceCandidates','Medium','Subscription','messageUnsubscriber','outgoingStreams','codes','removeRemoteConnection','RequestFileSync','getOutgoingOptimizationConnections','pub-sub-topic-does-not-exist','isReconnecting','trackEndedListeners','senderBitrate','toLocaleDateString','getLocalMediaStream','successNotified','closeConnection','No\x20connections\x20available\x20to\x20send\x20subscription\x20request','lastHeartbeat','reset','optimizationLayers','messageListeners','objectstore','Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string','handleRemediationSystemEvents','bytesSent','cost','High','SubscriptionRequestDoesNotExist','remote-inbound-rtp','token','createPendingFileWrite','updateUser','KeyValueDatabaseTableDoesNotExist','data','publishSystemMessage','key-value-database-table-does-not-exist','incomingManager','size','firebase-disconnect','buildTableEvent','getMediaStream','name','time_per_frame','LoggingService:\x20logging\x20enabled\x20for','publishLocalDynamicMediaStream','Cannot\x20create\x20remote\x20user:\x20User\x20already\x20exists:\x20','detectProblems','completed','Data','getVideoTracks','syncTransactionsWritten','Content','keyValueDatabaseConnector','bitrate','pop','openObjectStoreBucket','previousFrames','streamId','Receiver','user-join','unsubscribeHandler','fps','outgoingManager','LocalMediaStreamAlreadyExists','minThreshold','removeSubscriptionsForUser','connectionStateListener','Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string','createKeyValueDatabase','find','CrewdleConnection\x20handlePeerConnectionSystemEvents','ObjectStoreInvalidPath','maxDistance','sync-complete','missing-datachannel','handleUserJoin','SyncComplete','transactionsToSync','addTrack','keys','isProduction','suspended','framerate','Store\x20already\x20exists','receiver','KeyValueDatabaseInvalidLayout','getConnectionDestinations','.crewdle-pending','folder-create','incomingTopic','createTopic','handleNoAnswer','transactionService','setupStatsReporting','assign','addCandidate','all','key-value-database-already-exists','packetsReceived','PubSubTopicDoesNotExist','ranges','interval','startsWith','processReports','handleOnMessage','0.1.0','handleNodeDisconnect','unregisterSystemPublisher','chunks','getMaxDistance','localId','configs','AppSync\x20connection\x20not\x20ready','folder','senderPreviousBytes','ref','onClose','getCurrentVersion','handleUserLeave','clusterId','Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20','syncKeyValueDatabase','System','List','RemoteAdd','openPubSubTopic','We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set','onRemoveTrack','Stats:\x20report','layout','total','removeRemoteStreamSubscription','listenUnsubscriber','572WmEKlo','play','email','request','removeSubscription','shift','Subscription\x20request\x20has\x20not\x20been\x20answered.','offset','Rejected\x20answer','object','handleContentCloseObjectStore','RemoteRemove','canRestartHandshake','answers','statsReporting','CrewdleReceiverConnection\x20ontrack','bandwidth.bitrate','nodeManager','Recording','Orchestrator\x20handleSystemEvents','\x20does\x20not\x20exists','.crewdle-last-transaction','crewdleSDKLoggingChannels','Invalid\x20where\x20clause','reject','getTable','exists','handleChunkMessage','eventTarget','PeerConnectionInvalidDestination','PubSubTopic\x20onMessage','createConstantSource','maxBitrate','addPendingHandshakeCandidate','minResolutionScale','readAsArrayBuffer','previousTimestamp','WebRTC','isConnected','splice','Remote\x20connection\x20already\x20exists.','packetsSent','streamLabel','roundTripTime','connectionManager','removeKeyValueDatabase','subscription','getTrackFromParam','object-store-invalid-path','observe','deleteTable','Invalid\x20data\x20event.','onCandidate','fileChunks','peerConnectionConnector','User\x20does\x20not\x20exist.','pendingSyncTransactions','inactive','senderStreams','functionsRegion','InternalSDKError','Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.','orderBy','processOutboundReports','every','debug','sampleRate','internal-sdk-error','getContentType','getUserMedia','CloseMediaStream','listenerUnsubscriber','InvalidSubscriber','getAncestorIds','state','setDurationTime','file-delete','clearWaitSuccess','remoteUnsubscriber','SubscribeMediaStream','setupRenderElement','CONNECTION_STATE_CHANGE','signInWithCredential','onValue','destinationIds','AudioOutput','graphService','scheduleTime','system','firebaseUnsubscriber','ConnectedPendingKeepAlive','removeTrackCallback','notifyObjectStoreOfUserJoin','stopConnection','AudioVideoDelay','getMaxConnections','MediaStream\x20feature\x20not\x20enabled','packetsLost','\x27\x20in\x20layout','join','everyone','Early\x20return','clearRect','length','RequestTransactionsValue','loadEnabledClusters','joinedAt','getNumberOutgoingSubscriptions','framesEncoded','object-store-already-exists','getEstimatedTimestamp','entries','index','tableName','/nodes','key-value-database-transaction-table-not-initialized','outgoing-stream-no-topic','now','text','addConnection','unpublish','/transactions/lastTransaction','UserJoin','/transactions/','userId','endsWith','getOwnerId','text/plain','UpdateMediaStream','unregisterPublisherListener','connectionGroup','Invalid\x20object\x20store\x20sync\x20message.','.info/connected','\x27:\x20missing\x20or\x20invalid\x20keyPath','Cannot\x20publish\x20folder:\x20','getFirestore','SHA-1','handleDisconnect','emit','bufferedEvents','Invalid\x20index\x20key:\x20must\x20be\x20a\x20string','KeyValueDatabaseTransactionValueNotSet','getSupportedContentTypes','committed','removeListener','encode','error','MediaRecorder','Cluster','localUser','getAudioTracks','FolderDelete','addAudioTrack','outgoingTopic','KeyValueDatabaseTransactionTableNotInitialized','drawImage','audioDestination','Remote\x20stream\x20does\x20not\x20exist.','setupListeners','not-in','subscription-request-in-progress','logConnectionState','isNeedRestart','localMediaStreams','ownerId','oncloseTimeout','iceServers','firestore','removePubSubTopic','Request','Cannot\x20publish\x20file:\x20','findIndex','OPFSObjectStoreConnector','systemTopic','getReceiverTotalBytes','Downgrade','registerDestination','handleOptimizationConnectionSuccess','pubSubTopics','digest','UnsubscribeMediaStream','Sender\x20connection\x20is\x20not\x20initialized.','getNextTargetRank','transformations','lastTransactionId','Object\x20store\x20data\x20stream\x20is\x20not\x20in\x20sync','TestPage','currentDistance','handleNeedRestart','CloseKeyValueDatabase','string','\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','detectVideoIssues','Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20','Missing\x20remote\x20user\x20or\x20rank','createElement','debounceStats','Internal\x20SDK\x20Error:\x20','peer-connection-invalid-destination','LocalMediaStreamTrackFail','validateAccess','syncTimeout','onUnregisterPublisher','Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','request-file-write','exports','heartbeatUnsubscriber','warning','delete','senderCurrentTimestamp','timePerFrame','handleProblem','clockSkew','limit','setTimeout','keyValueDatabases','file-write','logPropagateSystemEvent','targetId','totalDecodeTime','queues','getRemoteId','destination','mediaUnsubscribers','addRemoteConnection','Stream\x20already\x20exists','receiverPreviousBytes','\x20-\x20','keyPath','frameWidth','Method\x20not\x20implemented.','/logs','getMilliseconds','Key-value\x20database\x20transaction\x20table\x20not\x20initialized.','internalId','keyvaluedatabase','forEach','stringify','handleClosePubSubTopic','cpu.av_delay','sendTransactionsDump','listen','PubSub\x20already\x20exists','chosenAnswers','Key-value\x20database\x20creation\x20failed.','Accepted','\x20not\x20supported','CrewdleSenderConnection\x20createOffer','syncResolve','payloadType','onloadeddata','getAuth','has','checkDeviceConfig','clearSubscriptionRequestTimeout','setProviderId','addVideoTrack','findNextAncestor','notifyCluster','Cannot\x20get\x20file:\x20','some','Get','PublishMediaStream','\x27\x20to\x20','buildQuery','remainingTracks','findNextUserId','api','Remove','Invalid\x20render\x20element','4378185qEGzcB','clientWidth','Amplify','Key-value\x20database\x20transaction\x20value\x20not\x20set.','unregisterSystemSource','replaceTrack','version','object-store-stream-does-not-exist','receiverConnection','indexes','getPriority','publishTransaction','setOnTableWriteHandler','getAvailableTrackKinds','handleCloseMediaStream','registerSystemSource','getEmail','signaling','Remediation','consumeBufferedEvents','decode','Emitting\x20event\x20on\x20local\x20cluster','isMediaSource','height','nodeKey','onload','arrayBuffer','removeRemoteUser','Update','maxConnections','ObjectStoreNameNotString','minConnections','st_volatility','receiverCurrentBytes','clear','resetConnection','Add','\x20-\x20Sending\x20propagation\x20(','enabled','NeedMediaStream','Internal\x20error:\x20','getPartsFromSubscription','detectionManager','getUser','Upgrade','Restart\x20NeedMediaStream','stream','sendRequest','unregisterCluster','cpu.fps','slice','subscriptionRequests','getChannelData','reduce','moveObject','onBufferedAmountLow','handleContentCloseMediaStream','handleSubscriptionSubscribeMediaStream','processDataChannelReport','receiverStreams','registerSource','retryQueues','key-value-database-table-name-reserved','getItem','ConnectionGroup','Invalid\x20subscriber.','listener','FileDelete','File','updatePropagationProperties','handshakeState','getLocalMediaStreams','CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','lastExecuted','RestartNeedMediaStream','SubscriptionRequestNoAnswer','RoundTripTime','Incoming','candidate','CanProvideMediaStream','contentManager','between','Waiting','Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.','Resolution','object-store-not-synced','checkMediaStream','requestSubscriptionAction','checkSyncComplete','Module','objectStoreConnector','onHandshakeStateChange','subscribedTracks','Restart','dbKey','RemoteMediaStreamTrackFail','pathName','senders','bufferEvent','key-value-database-creation-failed','Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number','frameTime','inbound-rtp','PubSubTopicAlreadyExists','waitSendBuffer','Disconnect','handleOutgoingSystemEvents','tableObserver','removeItem','getProviderId','hasRemoteUser','Low','getSenderBitrate','onChildRemoved','Early\x20return:\x20','folder-move','\x20answer','clearConnectionTimeout','detectAudioIssues','/stats','dataUnsubscribers','addEventListener','remove','bandwidth.rtt','startTime','clusters/','processRank','lastProcessRank','random','ConnectionNotinitialized','retryCallback','clusterKey','Problem','systemTopicUnsubscribe','number','features','handleTransactionPayload','contentType','setupTrackEndedListeners','pubsubTopics','authUser','pendingFilesRename','ancestors','canProvideResolution','newPath','ObjectStorage','notifyObjectStoreOfUserLeave','setBytes','addRemoteUser','onDataChannel','Failed\x20to\x20create\x20key\x20value\x20database','object-storage','FileMove','getLocalId','operator','discoveryService','publishMove','processReceiverReport','connectionTimeout','amd','getTransactions','Internal\x20SDK\x20error:\x20','setEmail','chunk','handleContentCloseKeyValueDatabase','removeTrackListeners','applyRemediation','getTables','deleteObject','isOffer','tableUnsubscriber','senderConnection','getConfigs','catch','881674hKDYxt','unregisterSource','next','parse','Cannot\x20write\x20transaction.','currentTimestamp','OutgoingMediaStreamNoTopic','Signaling','createLocalMediaStream','MissingRemoteConnection','topicLabel','storage','dataTopics','handleMissingSenders','Media','user-not-authenticated','previousBytes','ObjectStoreStats','origin','isArray','propagate','lastUpdated','unregisterRemoteUser','getDistance','crewdle-sdk-stg','toStringTag','ObjectStoreInvalidSyncMessage','kind','handleObjectDelete','registerCluster','subscriptions','sendTransactionsValue','setLoggingConnectors','SystemStats','statsReport','retryQueue','Offer','graphql','getStatus','unshift','processReport','Folder','processInboundReports','timeoutCallback','subscription-request-failed','remediationManager','getAncestors','local-stream-does-not-exist','server','count','handleCloseKeyValueDatabase','getName','UserConnectionsUpdate','sendIceCandidates','Database\x20not\x20open','PubSubTopic\x20publish','setScheduleTime','joinedClusters','createSubscription','connectionType','getBitrate','connect','result','Invalid\x20params','endpoint','push','handshakeCandidates','fromEntries','Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','context','cleanOldSubscription','label','goOffline','max','user-already-exist','trackListeners','checkScreenSharing','getSenderTotalBytes','receiverTotalMessages','enabledChannels','remoteMediaStreams','disconnect','Send\x20request','asc','invalid-subscriber','UserLeave','Handshake','calculateSize','getMediaSubscription','handleRequestPayload','handleSubscriptionMediaStreamUnavailable','Connection\x20does\x20not\x20exist.','sourceVideo','leave','1645296KiuEcz','Outgoing','mediator','InvalidPublisher','orchestrator','iceConnectionState\x20failed','getResolution','setReceiverBytes','FeatureNotEnabled','min','addIssue','getPartsForSubscriptionLabel','systemMessages','STVolatility','sdk-internal-error:\x20','deletePendingFile','renderElement','senderPreviousTimestamp','request-accepted','maxResolution','3403000wakXHm','get','autoplay','handleLocalTrackFailure','closeSubscription','Sending\x20\x27','FolderMove','crewdle-sdk.firebaseapp.com','sendFile','processTransactionPayload','createGain','removeUser','ConnectionNoRetryQueue','setUpgradeTimeout','connection','setConnectionType','indexOf','handleCloseObjectStore','eventListener','G-F7W8KXRKQB','getRemoteMediaStreams','internal','developers/','getMinConnections','publishUserUpdate','Invalid\x20value.\x20Property\x20\x27','pendingFilesTransactions','addDoc','currentFrames','answerJoin','cancel','createOffer','setInterval','createRemoteMediaStream','User\x20not\x20authenticated','connector','receivers','decodeJWT','peer-connection','RequestAccepted','createTable','ObjectStoreNotSynced','set','KeyValueDatabaseStats','startNoThrottlingHack','getPubSubTopics','from','Delete','disconnectTimeout','getShareableStreamId','startHeartbeat','Core','Detection','video','FramePerSecond','Connection\x20not\x20connected.','component','load','support','sendWithRetry','handleSuccess','QueryBuilderInvalidArgument','getRoundTripTime','removeTopic','getTableConnector','concat','InvalidDataChannel','user-does-not-exist','handleUserJoinNeedPublishedStream','getEnabledChannels','setRemoteConnections','detectStreamIssues','doc','Disconnected','file-move','incrementVersion','durationTime','open','shouldContinuePropagation','function','en-US','arrayBufferToObject','NodeManager\x20-\x20ConnectionSuccess','KeyValueDatabaseCreationFailed','getConnections','clearOncloseTimeout','firebaseConfig','getAudioVideoDelay','webgl','receiverBitrate','messageType','checkAudioVolume','getInstance','receiverTimeProcessing','bufferedAmountLowThreshold','filter','test-page','closed','PeerConnection','Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','getRank','Online','setPendingFileSyncingPayload','send','isSubscribed','getQuery','Count','ObjectStoreAlreadySubscribed','KeyValueDatabaseInvalidQuery','observer','ConnectionInvalidDataEvent','parameters','sendAction','mediaTopics','Stats','Connection','remoteId','audioSource','clearUpgradeTimeout','SendTransactionsDump','openKeyValueDatabase','handleSystemEvents','MediaStream','handleRemoteTrackFailure','https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','tail','subtle','path','maxBpp','handlePublishMediaStream','key-value-database-invalid-layout','signalingServer','removeObjectStore','statsCollection','checksum','invalid-data-chanel','Base\x20Peer\x20Connection','UserNotAuthenticated','messageBuffer','Events','currentVersion','hasOwnProperty','connectionConstructor','Subscribing\x20to\x20an\x20event:\x20on','complete','status','ClosePubSubTopic','setParams','aws','isWhereBetween','maxThreshold','Invalid\x20layout:\x20','getReport','notifyJoin','signInWithCustomToken','Offline','Missing\x20transaction\x20id','tableLayout','videoHeight','getConnection','initializeSystemTopic','manageAncestor','syncPendingFiles','users','createOutgoingSubscription','content','receiverUnsubscribers','setStatus','AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','Buffering\x20event','createObjectStoreBucket','bind','logServiceEvent','user-unpublish-media','CPUCycle','getIdToken','frameHeight','StreamReport','request-file-sync','addMessage','\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','getOrCreateFolderHandle','setSenderTimestamp','\x27\x20payload:','getTotalBytes','messagesReceived','Invalid\x20version\x20\x27','objectRequests','hasTable','collectStats','MissingSystemTopic','handleStatsSystemEvents','key-value-database-name-not-string','createConnection','Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed','handshakeDebounce','connections','table','handleHandshake','val','hasMessage','getLocalUser','maxLayer','loggingConnectors','isClusterEnabled','rank','No\x20connections\x20available\x20to\x20send\x20message','recipients','Missing\x20answerer\x20id\x20on\x20request\x20answer','handleContentUnpublishMediaStream','createReceiverConnection','add','Invalid\x20resolution','Invalid\x20table\x20name\x20\x27','setLocalRank','key-value-database-transaction-value-not-set','file','onTrack','Invalid\x20key\x20\x27','chooseAnswer','removeLocalMediaStream','topic','connection-invalid-data-event','resolutionScale','KeyValueDatabaseNameNotString','disableIntervalHack','clientHeight','onLine','ObjectStore','pool','element','reads','Data\x20cluster\x20is\x20not\x20open.','collectSendersStats','RequestFile','Move','UserDoesNotExist','onProviderChanged','SubscriptionRequestFailed','publishFolder','removeIncomingSubscription','abs','trackKinds','Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string','NodeManager\x20-\x20PublishUserLeave','isIceCandidate','addProblem','NeedRestart','Bitrate','298426sUitWn','handleObjectMove','tables','topics','maxFps','threshold','cluster','secheduleTime','/nodes/','unregisterPublisher','getRemoteUser','getReceiverBitrate','getLayout','map','problemType','removeEventListener','sendChunked','processServiceReport','out','2-digit','Sender','onDisconnect','handleSubscriptionProvideMediaStream','handleContentSystemEvents','call','createLocalDynamicMediaStream','9942rWnUHU','NodeManager\x20-\x20UserLeave','\x0aAdditional\x20data:\x20','logSupport','FPS','byteLength','KeyValueDatabaseTableNameReserved','RequestFileWrite','displayName','getOrResetPendingFileTimeout','resolution','subscriptionRequestTimeouts','initialize','request-file','IDBDatabaseConnector','action','validateLayout','Database\x20does\x20not\x20exist','registerSubscriber','registerRemoteUser','supportsContentType','generateClient','removeRemoteMediaStream','callback','ended','query','debugEnabled','\x27\x20in\x20table\x20\x27','joinCluster','deleteRemoteUser','CannotProvideMediaStream','getConnectionType','isWhereValue','tracks','isWhereValues','handleFileWrite','writes','query-helper-invalid-argument','clearRestartTimeout','key-value-database-table-not-found','vendorId','client','setItem','getSubscribedTracks','nextUserId','width','processPendingHandshakeCandidates','checkMediaRecording','supported','getSubscriptionInfo','systemMessagesReceived','senderCurrentBytes','discover','\x20does\x20not\x20support\x20content\x20type\x20','message','Receiver\x20connection\x20is\x20not\x20initialized.','RemoteMediaStreamMissingProviderId','publishLocalMediaStream','writeFile','remote-stream-does-not-exist','handleUnsubscribeMediaStream','Hub','logStorage','setDisplayName','handleError','sourceId','providerListener','NodeManager\x20-\x20UserUpdate','eventEmitter','handleNodeSystemEvents','RemoteRemediation','sendStats','getId','Default','PubSubTopicNameNotString'];a0_0x3b18=function(){return _0x15365c;};return a0_0x3b18();}