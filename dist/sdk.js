function a0_0x119e(_0x407814,_0x149e24){const _0x333fa3=a0_0x333f();return a0_0x119e=function(_0x119e13,_0x337cf2){_0x119e13=_0x119e13-0x16e;let _0x7486e3=_0x333fa3[_0x119e13];return _0x7486e3;},a0_0x119e(_0x407814,_0x149e24);}(function(_0x359607,_0x4fee56){const _0x58e5f5=a0_0x119e,_0x1b9ddd=_0x359607();while(!![]){try{const _0x4b7d92=-parseInt(_0x58e5f5(0x4c7))/0x1*(parseInt(_0x58e5f5(0x7cc))/0x2)+parseInt(_0x58e5f5(0x974))/0x3*(-parseInt(_0x58e5f5(0x19b))/0x4)+parseInt(_0x58e5f5(0x200))/0x5*(parseInt(_0x58e5f5(0x2af))/0x6)+parseInt(_0x58e5f5(0x952))/0x7+parseInt(_0x58e5f5(0x73c))/0x8*(-parseInt(_0x58e5f5(0x706))/0x9)+parseInt(_0x58e5f5(0x69c))/0xa+-parseInt(_0x58e5f5(0x444))/0xb*(-parseInt(_0x58e5f5(0x5ef))/0xc);if(_0x4b7d92===_0x4fee56)break;else _0x1b9ddd['push'](_0x1b9ddd['shift']());}catch(_0x5bffe7){_0x1b9ddd['push'](_0x1b9ddd['shift']());}}}(a0_0x333f,0xba43f),!function(_0x5a9dd5,_0x25cbb2){const _0x2edd7c=a0_0x119e;if(_0x2edd7c(0x24f)==typeof exports&&_0x2edd7c(0x24f)==typeof module)module['exports']=_0x25cbb2();else{if(_0x2edd7c(0x6d4)==typeof define&&define[_0x2edd7c(0x791)])define([],_0x25cbb2);else{var _0x466635=_0x25cbb2();for(var _0x11d575 in _0x466635)(_0x2edd7c(0x24f)==typeof exports?exports:_0x5a9dd5)[_0x11d575]=_0x466635[_0x11d575];}}}(this,()=>((()=>{'use strict';const _0x2ad6ba=a0_0x119e;var _0x3925cd={0x14d:(_0x368f0e,_0xfc0c84,_0x700b68)=>{const _0x159f52=a0_0x119e;_0x700b68['d'](_0xfc0c84,{'O':()=>_0xa416d7});const _0xa416d7={'version':_0x159f52(0xa88),'isProduction':!0x1,'firebaseConfig':{'apiKey':_0x159f52(0x6a6),'authDomain':_0x159f52(0x890),'databaseURL':_0x159f52(0x75f),'projectId':_0x159f52(0x1a3),'storageBucket':_0x159f52(0x609),'appId':_0x159f52(0x96b),'functionsRegion':_0x159f52(0x719)},'google':{'searchEngineId':_0x159f52(0x415)},'aws':{'endpoint':_0x159f52(0xa09),'region':_0x159f52(0xabd)}};},0x33b:(_0x742014,_0x4ae42d,_0x21ef5f)=>{_0x21ef5f['d'](_0x4ae42d,{'O':()=>_0x508e90});const _0x508e90={};},0x3e6:(_0x851ac3,_0x498bbb,_0x3938fa)=>{const _0x1f3482=a0_0x119e;_0x3938fa['d'](_0x498bbb,{'O':()=>_0xfec10e});const _0xfec10e={'version':_0x1f3482(0x58e),'isProduction':!0x0,'firebaseConfig':{'apiKey':'AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','authDomain':'crewdle-sdk.firebaseapp.com','databaseURL':'https://crewdle-sdk-default-rtdb.firebaseio.com','projectId':_0x1f3482(0x2fe),'storageBucket':'crewdle-sdk.appspot.com','messagingSenderId':'420235181083','appId':_0x1f3482(0x3a6),'measurementId':'G-F7W8KXRKQB'},'aws':{'endpoint':_0x1f3482(0xaad),'region':'us-east-1'}};},0x20:(_0xd28e39,_0x16b8fe,_0x1be7a5)=>{_0x1be7a5['d'](_0x16b8fe,{'O':()=>_0x485609});const _0x485609={};}},_0x547d67={};function _0xb60808(_0xeb4361){const _0x16c710=a0_0x119e;var _0x1738e9=_0x547d67[_0xeb4361];if(void 0x0!==_0x1738e9)return _0x1738e9[_0x16c710(0x80b)];var _0x57a389=_0x547d67[_0xeb4361]={'exports':{}};return _0x3925cd[_0xeb4361](_0x57a389,_0x57a389[_0x16c710(0x80b)],_0xb60808),_0x57a389[_0x16c710(0x80b)];}_0xb60808['d']=(_0x4ed0ff,_0x1b9403)=>{const _0xfe3244=a0_0x119e;for(var _0x1b8487 in _0x1b9403)_0xb60808['o'](_0x1b9403,_0x1b8487)&&!_0xb60808['o'](_0x4ed0ff,_0x1b8487)&&Object[_0xfe3244(0x9e3)](_0x4ed0ff,_0x1b8487,{'enumerable':!0x0,'get':_0x1b9403[_0x1b8487]});},_0xb60808['g']=(function(){const _0x4f03ca=a0_0x119e;if(_0x4f03ca(0x24f)==typeof globalThis)return globalThis;try{return this||new Function(_0x4f03ca(0x2db))();}catch(_0x447b37){if(_0x4f03ca(0x24f)==typeof window)return window;}}()),_0xb60808['o']=(_0x23067c,_0x398cd8)=>Object['prototype']['hasOwnProperty'][_0x2ad6ba(0x5fe)](_0x23067c,_0x398cd8),_0xb60808['r']=_0x4af6ab=>{const _0x29ff49=_0x2ad6ba;'undefined'!=typeof Symbol&&Symbol[_0x29ff49(0x363)]&&Object[_0x29ff49(0x9e3)](_0x4af6ab,Symbol[_0x29ff49(0x363)],{'value':'Module'}),Object[_0x29ff49(0x9e3)](_0x4af6ab,'__esModule',{'value':!0x0});};var _0x429a2c,_0x573191,_0x1b63ac,_0x1878a5={};_0xb60808['r'](_0x1878a5),_0xb60808['d'](_0x1878a5,{'KeyValueDatabase':()=>_0x3cd211,'LayoutBuilder':()=>_0x198559,'LoggingChannels':()=>_0x1b63ac,'QueryBuilder':()=>_0x398813,'SDK':()=>_0x1b4094,'SDKClientErrorCodes':()=>_0x429a2c,'TableBuilder':()=>_0x56bf1b,'logger':()=>_0xe8f382}),function(_0x205754){const _0x27f513=_0x2ad6ba;_0x205754['ConnectionBufferNotEmpty']='connection-buffer-not-empty',_0x205754[_0x27f513(0x4c6)]=_0x27f513(0xabc),_0x205754[_0x27f513(0x4e2)]='external-storage-connection-already-exists',_0x205754[_0x27f513(0x558)]=_0x27f513(0x958),_0x205754[_0x27f513(0x63f)]='external-storage-connection-does-not-exist',_0x205754[_0x27f513(0x3b8)]='external-storage-connectors-missing',_0x205754['ExternalStorageInvalidPath']='external-storage-invalid-path',_0x205754[_0x27f513(0x432)]=_0x27f513(0x452),_0x205754[_0x27f513(0x618)]=_0x27f513(0xa23),_0x205754[_0x27f513(0x9e1)]='generative-ai-context-already-exists',_0x205754['GenerativeAIContextDoesNotExist']=_0x27f513(0xa91),_0x205754[_0x27f513(0x683)]=_0x27f513(0x1c1),_0x205754[_0x27f513(0x7f2)]=_0x27f513(0x4f9),_0x205754[_0x27f513(0x61f)]='generative-ai-worker-already-exists',_0x205754[_0x27f513(0x705)]=_0x27f513(0x9c2),_0x205754[_0x27f513(0x481)]='generative-ai-worker-model-sync-error',_0x205754[_0x27f513(0xa8e)]=_0x27f513(0x8f4),_0x205754['GraphDatabaseDoesNotExist']='graph-database-does-not-exist',_0x205754['GraphDatabaseMissingConnector']=_0x27f513(0x3ec),_0x205754[_0x27f513(0x482)]='graph-database-name-not-string',_0x205754['JobDispatcherAlreadyExists']=_0x27f513(0x723),_0x205754[_0x27f513(0x6e8)]=_0x27f513(0x7fb),_0x205754['JobDispatcherJobExists']=_0x27f513(0x183),_0x205754[_0x27f513(0x414)]='job-dispatcher-job-not-found',_0x205754['JobDispatcherInvalidJobType']='job-dispatcher-invalid-job-type',_0x205754[_0x27f513(0x4ad)]=_0x27f513(0x47c),_0x205754[_0x27f513(0x3c2)]=_0x27f513(0x857),_0x205754[_0x27f513(0x29c)]=_0x27f513(0x5bd),_0x205754['ObjectStoreAlreadySubscribed']='object-store-already-subscribed',_0x205754['ObjectStoreDoesNotExist']=_0x27f513(0x1a2),_0x205754[_0x27f513(0x38f)]=_0x27f513(0x903),_0x205754[_0x27f513(0x7f5)]=_0x27f513(0x947),_0x205754[_0x27f513(0xa95)]=_0x27f513(0x732),_0x205754['ObjectStoreNotInSync']=_0x27f513(0x206),_0x205754[_0x27f513(0xa52)]=_0x27f513(0xa65),_0x205754[_0x27f513(0x39b)]=_0x27f513(0x68c),_0x205754[_0x27f513(0x47e)]='key-value-database-already-exists',_0x205754['KeyValueDatabaseDoesNotExist']=_0x27f513(0x5ed),_0x205754[_0x27f513(0x702)]=_0x27f513(0x314),_0x205754[_0x27f513(0x980)]=_0x27f513(0x2c7),_0x205754[_0x27f513(0x329)]=_0x27f513(0x4cc),_0x205754[_0x27f513(0x760)]=_0x27f513(0xa99),_0x205754[_0x27f513(0xab7)]=_0x27f513(0x17c),_0x205754[_0x27f513(0x2bc)]=_0x27f513(0x8a3),_0x205754[_0x27f513(0x1db)]=_0x27f513(0xa01),_0x205754['KeyValueDatabaseInvalidLayout']=_0x27f513(0x2fa),_0x205754[_0x27f513(0x174)]=_0x27f513(0x961),_0x205754[_0x27f513(0x1f6)]='local-media-stream-no-audio-context',_0x205754[_0x27f513(0x8d4)]=_0x27f513(0x825),_0x205754[_0x27f513(0x818)]=_0x27f513(0x943),_0x205754[_0x27f513(0x74e)]=_0x27f513(0x358),_0x205754[_0x27f513(0x73b)]=_0x27f513(0x278),_0x205754[_0x27f513(0x3b2)]=_0x27f513(0x4a5),_0x205754[_0x27f513(0x95d)]=_0x27f513(0x9df),_0x205754[_0x27f513(0x1e8)]=_0x27f513(0x2a7),_0x205754[_0x27f513(0x289)]=_0x27f513(0x792),_0x205754[_0x27f513(0xa34)]=_0x27f513(0x880),_0x205754['NodeInvalidType']='node-invalid-type',_0x205754[_0x27f513(0x637)]='node-type-not-supported',_0x205754[_0x27f513(0x6ca)]=_0x27f513(0x21c),_0x205754[_0x27f513(0x210)]='vector-database-already-exists',_0x205754[_0x27f513(0x20a)]='vector-database-does-not-exist',_0x205754['VectorDatabaseMissingConnector']=_0x27f513(0x871),_0x205754[_0x27f513(0x870)]=_0x27f513(0x93c);}(_0x429a2c||(_0x429a2c={}));class _0x3f1f96 extends Error{[_0x2ad6ba(0x4f6)];constructor(_0x3354dc,_0x14bebd){const _0x37ddae=_0x2ad6ba;super(_0x14bebd),this[_0x37ddae(0x4f6)]=_0x3354dc;}}!function(_0xcb0ccb){const _0x305c90=_0x2ad6ba;_0xcb0ccb['PubSub']=_0x305c90(0x575),_0xcb0ccb['ObjectStorage']=_0x305c90(0x489),_0xcb0ccb[_0x305c90(0x924)]=_0x305c90(0x51b),_0xcb0ccb[_0x305c90(0x9e6)]=_0x305c90(0x8b0),_0xcb0ccb[_0x305c90(0x57e)]=_0x305c90(0x64b),_0xcb0ccb['ExternalStorage']=_0x305c90(0x5b7),_0xcb0ccb['MediaStream']=_0x305c90(0x5ba),_0xcb0ccb[_0x305c90(0x180)]='generative-ai';}(_0x573191||(_0x573191={})),function(_0x20b6ce){const _0x1afd39=_0x2ad6ba;_0x20b6ce[_0x1afd39(0x178)]=_0x1afd39(0x8f8),_0x20b6ce[_0x1afd39(0x8f3)]=_0x1afd39(0x25f),_0x20b6ce['Connection']=_0x1afd39(0x89b),_0x20b6ce[_0x1afd39(0x831)]=_0x1afd39(0x3bb),_0x20b6ce[_0x1afd39(0x905)]='cluster',_0x20b6ce['Content']='content',_0x20b6ce[_0x1afd39(0x1df)]=_0x1afd39(0x26c),_0x20b6ce[_0x1afd39(0x991)]=_0x1afd39(0x82e),_0x20b6ce[_0x1afd39(0x2df)]='events',_0x20b6ce['Error']=_0x1afd39(0x60c),_0x20b6ce[_0x1afd39(0x6eb)]=_0x1afd39(0x8a5),_0x20b6ce[_0x1afd39(0x924)]='key-value-database',_0x20b6ce[_0x1afd39(0x636)]='node',_0x20b6ce['Pool']='pool',_0x20b6ce[_0x1afd39(0x8a9)]=_0x1afd39(0x575),_0x20b6ce[_0x1afd39(0x560)]=_0x1afd39(0x24e),_0x20b6ce[_0x1afd39(0x6f1)]=_0x1afd39(0x7e7),_0x20b6ce['SenderSendMessage']='sender-send-message',_0x20b6ce[_0x1afd39(0x2f8)]='signaling',_0x20b6ce[_0x1afd39(0xa47)]=_0x1afd39(0x8e7),_0x20b6ce[_0x1afd39(0x99c)]='subscription',_0x20b6ce[_0x1afd39(0x6fd)]='support',_0x20b6ce[_0x1afd39(0x78a)]='system',_0x20b6ce['SystemStats']='system-stats',_0x20b6ce['TestPage']=_0x1afd39(0x40d),_0x20b6ce[_0x1afd39(0x746)]=_0x1afd39(0x197);}(_0x1b63ac||(_0x1b63ac={}));const _0x406df3=require('@crewdle/web-sdk-types');class _0x398813{[_0x2ad6ba(0xab1)];constructor(_0x5ba642){const _0xb7e08=_0x2ad6ba;this[_0xb7e08(0xab1)]={'orderBy':{'key':_0x5ba642,'direction':_0xb7e08(0x368)}};}static[_0x2ad6ba(0x807)](_0x5bd408){const _0x3711f9=_0x2ad6ba;if(_0x3711f9(0x488)!=typeof _0x5bd408||0x0===_0x5bd408[_0x3711f9(0x8e0)])throw new _0x3f1f96(_0x429a2c[_0x3711f9(0x3b2)],'Invalid\x20index\x20key:\x20must\x20be\x20a\x20string');return new _0x398813(_0x5bd408);}static['validateQuery'](_0x3beef5){const _0x496f49=_0x2ad6ba;try{return _0x398813[_0x496f49(0x573)](_0x3beef5),!0x0;}catch(_0x47b29c){return!0x1;}}static[_0x2ad6ba(0x573)](_0x16e354){const _0x2cceeb=_0x2ad6ba,_0x1bac27=_0x398813[_0x2cceeb(0x807)](_0x16e354[_0x2cceeb(0x3ed)]?.[_0x2cceeb(0x2b3)]??_0x16e354[_0x2cceeb(0x63d)]?.['key']??'');if(_0x16e354['where']){const _0x27e459=_0x16e354[_0x2cceeb(0x63d)];if((_0x398813[_0x2cceeb(0x1bb)](_0x27e459)||_0x398813[_0x2cceeb(0x5a7)](_0x27e459)||_0x398813[_0x2cceeb(0x973)](_0x27e459))&&_0x1bac27[_0x2cceeb(0x63d)](_0x27e459[_0x2cceeb(0x2ca)],_0x27e459['value']),_0x16e354[_0x2cceeb(0x3ed)]?.[_0x2cceeb(0x2b3)]&&_0x16e354[_0x2cceeb(0x3ed)]?.[_0x2cceeb(0x2b3)]!==_0x16e354['where'][_0x2cceeb(0x2b3)])throw new _0x3f1f96(_0x429a2c[_0x2cceeb(0x3b2)],'Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key');}return _0x16e354[_0x2cceeb(0x3ed)]&&_0x1bac27[_0x2cceeb(0x3ed)](_0x16e354[_0x2cceeb(0x3ed)][_0x2cceeb(0x62f)]),_0x16e354[_0x2cceeb(0xa51)]&&_0x1bac27['limit'](_0x16e354[_0x2cceeb(0xa51)]),_0x16e354[_0x2cceeb(0xa7a)]&&_0x1bac27['offset'](_0x16e354[_0x2cceeb(0xa7a)]),_0x1bac27;}[_0x2ad6ba(0x67e)](){return{...this['query']};}[_0x2ad6ba(0x63d)](_0x1a89b8,_0x1cc8d0){const _0x51a918=_0x2ad6ba,_0x1a4549={'key':this[_0x51a918(0xab1)]['orderBy'][_0x51a918(0x2b3)],'operator':_0x1a89b8,'value':_0x1cc8d0};if(!_0x398813[_0x51a918(0x1bb)](_0x1a4549)&&!_0x398813[_0x51a918(0x5a7)](_0x1a4549)&&!_0x398813['isWhereBetween'](_0x1a4549))throw new _0x3f1f96(_0x429a2c[_0x51a918(0x3b2)],_0x51a918(0x563));return this[_0x51a918(0xab1)][_0x51a918(0x63d)]=_0x1a4549,this;}[_0x2ad6ba(0x3ed)](_0x2f07e2){const _0x5f17fa=_0x2ad6ba;if(_0x5f17fa(0x368)!==_0x2f07e2&&_0x5f17fa(0x6d1)!==_0x2f07e2)throw new _0x3f1f96(_0x429a2c[_0x5f17fa(0x3b2)],_0x5f17fa(0x697));return this[_0x5f17fa(0xab1)]['orderBy']['direction']=_0x2f07e2,this;}['limit'](_0x26e04a){const _0xe16ea2=_0x2ad6ba;if(_0xe16ea2(0x822)!=typeof _0x26e04a||_0x26e04a<0x0)throw new _0x3f1f96(_0x429a2c[_0xe16ea2(0x3b2)],_0xe16ea2(0x32f));return this[_0xe16ea2(0xab1)][_0xe16ea2(0xa51)]=_0x26e04a,this;}['offset'](_0x17221a){const _0x871ecd=_0x2ad6ba;if('number'!=typeof _0x17221a||_0x17221a<0x0)throw new _0x3f1f96(_0x429a2c['QueryBuilderInvalidArgument'],_0x871ecd(0x7d0));return this[_0x871ecd(0xab1)][_0x871ecd(0xa7a)]=_0x17221a,this;}static[_0x2ad6ba(0x1bb)](_0x35ec83){const _0x4b5bec=_0x2ad6ba;if(!(_0x35ec83&&_0x4b5bec(0x24f)==typeof _0x35ec83&&_0x4b5bec(0x2ca)in _0x35ec83&&'value'in _0x35ec83))return!0x1;const {operator:_0x3b28fa,value:_0x2020ca}=_0x35ec83;return!(!['==','!=','>','<','<=','>=']['includes'](_0x3b28fa)||Array[_0x4b5bec(0xaaa)](_0x2020ca));}static[_0x2ad6ba(0x5a7)](_0x3c3f59){const _0xb2f9d9=_0x2ad6ba;if(!(_0x3c3f59&&_0xb2f9d9(0x24f)==typeof _0x3c3f59&&_0xb2f9d9(0x2ca)in _0x3c3f59&&'value'in _0x3c3f59))return!0x1;const {operator:_0x45206e,value:_0x5ed6bb}=_0x3c3f59;return!(!['in',_0xb2f9d9(0x412)][_0xb2f9d9(0x205)](_0x45206e)||!Array[_0xb2f9d9(0xaaa)](_0x5ed6bb));}static[_0x2ad6ba(0x973)](_0x5b7b7d){const _0x40a487=_0x2ad6ba;if(!(_0x5b7b7d&&_0x40a487(0x24f)==typeof _0x5b7b7d&&_0x40a487(0x2ca)in _0x5b7b7d&&_0x40a487(0x393)in _0x5b7b7d))return!0x1;const {operator:_0x326346,value:_0x264615}=_0x5b7b7d;return!('between'!==_0x326346||!Array[_0x40a487(0xaaa)](_0x264615)||0x2!==_0x264615[_0x40a487(0x8e0)]);}}class _0x198559{[_0x2ad6ba(0x191)];constructor(_0x4267ee){const _0x544f71=_0x2ad6ba;this[_0x544f71(0x191)]={'tables':{},'version':_0x4267ee};}static[_0x2ad6ba(0x790)](_0x2b9b05){const _0xa2b2b1=_0x2ad6ba;for(const _0x42d977 in _0x2b9b05){if(_0xa2b2b1(0x354)!==_0x42d977&&_0xa2b2b1(0x3bf)!==_0x42d977)return[!0x1,_0xa2b2b1(0x70c)+_0x42d977+_0xa2b2b1(0x902)];if(_0xa2b2b1(0x3bf)===_0x42d977)for(const _0xf5647d in _0x2b9b05[_0xa2b2b1(0x3bf)]){if(_0xa2b2b1(0x488)!=typeof _0xf5647d)return[!0x1,_0xa2b2b1(0x220)+_0xf5647d+'\x27'];for(const _0x1cbd8d in _0x2b9b05[_0xa2b2b1(0x3bf)][_0xf5647d]){if('indexes'!==_0x1cbd8d)return[!0x1,_0xa2b2b1(0x70c)+_0x1cbd8d+_0xa2b2b1(0x3b7)+_0xf5647d+'\x27'];const _0x20ac4c=_0x2b9b05[_0xa2b2b1(0x3bf)][_0xf5647d][_0x1cbd8d]??[];for(const _0x105fb7 of _0x20ac4c)if(void 0x0===_0x105fb7['keyPath']||_0xa2b2b1(0x488)!=typeof _0x105fb7[_0xa2b2b1(0x63a)])return[!0x1,_0xa2b2b1(0x47b)+_0xf5647d+_0xa2b2b1(0x44c)];}}else{if(_0xa2b2b1(0x354)===_0x42d977&&_0xa2b2b1(0x822)!=typeof _0x2b9b05[_0x42d977])return[!0x1,_0xa2b2b1(0x63c)+_0x2b9b05[_0x42d977]+'\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number'];}}return[!0x0,'Valid\x20layout'];}static[_0x2ad6ba(0x191)](_0xa52c9b){const _0x2d48e6=_0x2ad6ba,_0x354e07=new _0x198559(_0xa52c9b);return _0x354e07[_0x2d48e6(0x191)][_0x2d48e6(0x354)]=_0xa52c9b,_0x354e07;}[_0x2ad6ba(0x3b4)](_0x438cb4){const _0x2847dc=_0x2ad6ba;return this['layout']['tables'][_0x438cb4]={},new _0x56bf1b(this[_0x2847dc(0x191)][_0x2847dc(0x3bf)][_0x438cb4]);}[_0x2ad6ba(0x18e)](){const _0x87680b=_0x2ad6ba;return this[_0x87680b(0x191)];}}class _0x56bf1b{['tableLayout'];constructor(_0x2af305){const _0x22ac89=_0x2ad6ba;this[_0x22ac89(0x353)]=_0x2af305;}[_0x2ad6ba(0x807)](_0x15cf47){const _0x6b0db2=_0x2ad6ba;return this['tableLayout'][_0x6b0db2(0x531)]=this['tableLayout']['indexes']??[],this[_0x6b0db2(0x353)][_0x6b0db2(0x531)][_0x6b0db2(0x673)]({'keyPath':_0x15cf47}),this;}}const _0x10632a=0x40000,_0x9ed6ad=0x20000,_0x18dd7b=0x1388,_0x8c6ce4=_0x2ad6ba(0x1b1),_0x21581a=_0x2ad6ba(0x613),_0x4649d8='.crewdle-transactions',_0x2ad241=_0x2ad6ba(0x5cd),_0x15075e=0xdbba0,_0x5a25ca=_0x2ad6ba(0x5ad),_0x424fb1=0x61a8,_0x217938=0x7530,_0x124816=_0x2ad6ba(0x97e);var _0x47dfc4;!function(_0x28078a){const _0x17b0c3=_0x2ad6ba;_0x28078a[_0x17b0c3(0x63b)]=_0x17b0c3(0x24c),_0x28078a[_0x17b0c3(0xa0d)]='connection-not-connected',_0x28078a[_0x17b0c3(0xaa1)]='connection-no-retry-queue',_0x28078a['ConnectionInvalidDataEvent']=_0x17b0c3(0x6da),_0x28078a['GenerativeAIContextCreationFailed']=_0x17b0c3(0x8e4),_0x28078a['GenerativeAIContextInvalidPartialResult']=_0x17b0c3(0x953),_0x28078a[_0x17b0c3(0x6a4)]=_0x17b0c3(0x590),_0x28078a[_0x17b0c3(0x8bd)]=_0x17b0c3(0x31b),_0x28078a[_0x17b0c3(0x91f)]=_0x17b0c3(0x3a4),_0x28078a['GenerativeAIWorkerCreationFailed']='generative-ai-worker-creation-failed',_0x28078a[_0x17b0c3(0x84c)]='graph-database-creation-failed',_0x28078a[_0x17b0c3(0x517)]=_0x17b0c3(0x6d2),_0x28078a[_0x17b0c3(0x213)]=_0x17b0c3(0x728),_0x28078a[_0x17b0c3(0x640)]=_0x17b0c3(0x770),_0x28078a['InvalidSubscription']=_0x17b0c3(0x9f1),_0x28078a['JobDispatcherCreationFailed']=_0x17b0c3(0x76e),_0x28078a[_0x17b0c3(0x704)]='job-dispatcher-invalid-payload',_0x28078a[_0x17b0c3(0x414)]=_0x17b0c3(0x583),_0x28078a[_0x17b0c3(0xa93)]=_0x17b0c3(0x3e5),_0x28078a['JobWorkerCreationFailed']=_0x17b0c3(0x4c2),_0x28078a['JobWorkerInvalidType']=_0x17b0c3(0x33b),_0x28078a[_0x17b0c3(0x750)]=_0x17b0c3(0x313),_0x28078a['KeyValueDatabasePeakNotFound']='key-value-database-peak-not-found',_0x28078a['KeyValueDatabaseTableDoesNotExist']=_0x17b0c3(0x6f5),_0x28078a[_0x17b0c3(0x4b4)]='key-value-database-transaction-table-not-initialized',_0x28078a[_0x17b0c3(0x325)]='key-value-database-transaction-value-not-set',_0x28078a['LocalMediaStreamDoesNotExist']='local-stream-does-not-exist',_0x28078a[_0x17b0c3(0x8a2)]=_0x17b0c3(0x938),_0x28078a[_0x17b0c3(0x2fc)]='missing-system-topic',_0x28078a[_0x17b0c3(0x7c0)]=_0x17b0c3(0x1ff),_0x28078a[_0x17b0c3(0x5f6)]=_0x17b0c3(0x3eb),_0x28078a[_0x17b0c3(0x98e)]=_0x17b0c3(0x6a3),_0x28078a['ObjectStoreInvalidSyncMessage']=_0x17b0c3(0x676),_0x28078a[_0x17b0c3(0x714)]=_0x17b0c3(0x402),_0x28078a[_0x17b0c3(0x25a)]='outgoing-stream-no-topic',_0x28078a['RemoteMediaStreamDoesNotExist']='remote-stream-does-not-exist',_0x28078a[_0x17b0c3(0x55c)]='remote-stream-missing-provider-id',_0x28078a['RemoteConnectionExists']='remote-connection-exists',_0x28078a[_0x17b0c3(0x40c)]=_0x17b0c3(0x661),_0x28078a[_0x17b0c3(0x1fb)]=_0x17b0c3(0x845),_0x28078a[_0x17b0c3(0x349)]=_0x17b0c3(0x584),_0x28078a['NodeDoesNotExist']=_0x17b0c3(0x35a),_0x28078a['NodeAlreadyExist']=_0x17b0c3(0x6f4),_0x28078a[_0x17b0c3(0xa05)]='peer-connection-invalid-destination',_0x28078a['VectorDatabaseCreationFailed']=_0x17b0c3(0x9cd),_0x28078a[_0x17b0c3(0x783)]=_0x17b0c3(0x528),_0x28078a[_0x17b0c3(0x569)]=_0x17b0c3(0x8c8);}(_0x47dfc4||(_0x47dfc4={}));const _0x4e79d3=new Map([[_0x47dfc4[_0x2ad6ba(0x63b)],'Connection\x20not\x20initialized.'],[_0x47dfc4[_0x2ad6ba(0xa0d)],_0x2ad6ba(0x9d1)],[_0x47dfc4[_0x2ad6ba(0xaa1)],_0x2ad6ba(0x1e6)],[_0x47dfc4[_0x2ad6ba(0x773)],_0x2ad6ba(0x324)],[_0x47dfc4[_0x2ad6ba(0xa6b)],_0x2ad6ba(0x4e3)],[_0x47dfc4[_0x2ad6ba(0xa61)],_0x2ad6ba(0x293)],[_0x47dfc4[_0x2ad6ba(0x6a4)],'Generative\x20AI\x20context\x20job\x20already\x20consumed.'],[_0x47dfc4[_0x2ad6ba(0x8bd)],'Generative\x20AI\x20context\x20job\x20failed.'],[_0x47dfc4[_0x2ad6ba(0x91f)],_0x2ad6ba(0x7b9)],[_0x47dfc4[_0x2ad6ba(0x3fc)],_0x2ad6ba(0xa92)],[_0x47dfc4[_0x2ad6ba(0x84c)],_0x2ad6ba(0x597)],[_0x47dfc4['InvalidDataChannel'],_0x2ad6ba(0x763)],[_0x47dfc4[_0x2ad6ba(0x213)],_0x2ad6ba(0x302)],[_0x47dfc4['InvalidSubscriber'],'Invalid\x20subscriber.'],[_0x47dfc4[_0x2ad6ba(0x284)],'Invalid\x20subscription.'],[_0x47dfc4[_0x2ad6ba(0x7b6)],_0x2ad6ba(0x695)],[_0x47dfc4[_0x2ad6ba(0x704)],_0x2ad6ba(0x4e6)],[_0x47dfc4['JobDispatcherJobNotFound'],_0x2ad6ba(0x7a0)],[_0x47dfc4['JobDispatcherObserverNotFound'],'Job\x20service\x20observer\x20not\x20found.'],[_0x47dfc4['JobWorkerCreationFailed'],_0x2ad6ba(0x7db)],[_0x47dfc4[_0x2ad6ba(0x6aa)],_0x2ad6ba(0x30f)],[_0x47dfc4[_0x2ad6ba(0x750)],_0x2ad6ba(0x392)],[_0x47dfc4[_0x2ad6ba(0x543)],_0x2ad6ba(0xac1)],[_0x47dfc4[_0x2ad6ba(0x2a0)],_0x2ad6ba(0xa10)],[_0x47dfc4[_0x2ad6ba(0x4b4)],'Key-value\x20database\x20transaction\x20table\x20not\x20initialized.'],[_0x47dfc4[_0x2ad6ba(0x325)],_0x2ad6ba(0x44d)],[_0x47dfc4['LocalMediaStreamDoesNotExist'],'Local\x20stream\x20does\x20not\x20exist.'],[_0x47dfc4[_0x2ad6ba(0x8a2)],_0x2ad6ba(0x434)],[_0x47dfc4[_0x2ad6ba(0x2fc)],_0x2ad6ba(0x592)],[_0x47dfc4[_0x2ad6ba(0x7c0)],_0x2ad6ba(0x49c)],[_0x47dfc4[_0x2ad6ba(0x5f6)],'Cannot\x20write\x20transaction.'],[_0x47dfc4[_0x2ad6ba(0x55a)],_0x2ad6ba(0x4a1)],[_0x47dfc4[_0x2ad6ba(0x98e)],'Invalid\x20object\x20store\x20state.'],[_0x47dfc4[_0x2ad6ba(0x714)],'Object\x20store\x20not\x20synced.'],[_0x47dfc4[_0x2ad6ba(0x25a)],_0x2ad6ba(0x98c)],[_0x47dfc4[_0x2ad6ba(0x67a)],_0x2ad6ba(0x915)],[_0x47dfc4[_0x2ad6ba(0x55c)],'Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.'],[_0x47dfc4[_0x2ad6ba(0x87f)],_0x2ad6ba(0x3cc)],[_0x47dfc4[_0x2ad6ba(0x40c)],_0x2ad6ba(0x988)],[_0x47dfc4[_0x2ad6ba(0x1fb)],_0x2ad6ba(0x6cd)],[_0x47dfc4[_0x2ad6ba(0x349)],'Subscription\x20request\x20has\x20not\x20been\x20answered.'],[_0x47dfc4[_0x2ad6ba(0x921)],_0x2ad6ba(0x8c2)],[_0x47dfc4['NodeAlreadyExist'],_0x2ad6ba(0x5d4)],[_0x47dfc4['PeerConnectionInvalidDestination'],_0x2ad6ba(0x7a2)],[_0x47dfc4[_0x2ad6ba(0x3f5)],_0x2ad6ba(0x2de)],[_0x47dfc4[_0x2ad6ba(0x783)],'Workflow\x20does\x20not\x20exist.'],[_0x47dfc4[_0x2ad6ba(0x569)],_0x2ad6ba(0x561)]]);class _0x31ec66 extends Error{[_0x2ad6ba(0x4f6)];static ['codes']=_0x47dfc4;[_0x2ad6ba(0x19c)];constructor(_0x5ad203,_0x18dfbf){const _0x39a88c=_0x2ad6ba;super('Internal\x20SDK\x20Error:\x20'+_0x5ad203+':\x20'+_0x4e79d3[_0x39a88c(0x736)](_0x5ad203)+_0x39a88c(0x384)+JSON[_0x39a88c(0x6a9)](_0x18dfbf)),this[_0x39a88c(0x4f6)]=_0x5ad203,this[_0x39a88c(0x19c)]=_0x18dfbf||{};}}var _0x5d0a4b,_0x2e7120,_0x2ec464,_0x40d910,_0x21689f,_0x3ea5c4,_0x5f120e;!function(_0x508261){const _0x537b53=_0x2ad6ba;_0x508261[_0x508261[_0x537b53(0x8cf)]=0x0]=_0x537b53(0x8cf),_0x508261[_0x508261[_0x537b53(0x6cc)]=0x1]=_0x537b53(0x6cc),_0x508261[_0x508261[_0x537b53(0xa3d)]=0x2]=_0x537b53(0xa3d),_0x508261[_0x508261[_0x537b53(0x9dd)]=0x3]=_0x537b53(0x9dd),_0x508261[_0x508261[_0x537b53(0x21f)]=0x4]=_0x537b53(0x21f),_0x508261[_0x508261[_0x537b53(0x570)]=0x5]='CloseMediaStream',_0x508261[_0x508261[_0x537b53(0x2d7)]=0x6]=_0x537b53(0x2d7),_0x508261[_0x508261[_0x537b53(0x891)]=0x7]=_0x537b53(0x891),_0x508261[_0x508261['CloseVectorDatabase']=0x8]=_0x537b53(0x6c1),_0x508261[_0x508261[_0x537b53(0x513)]=0x9]=_0x537b53(0x513),_0x508261[_0x508261[_0x537b53(0x77d)]=0xa]='GenerativeAIContextStats',_0x508261[_0x508261['GenerativeAIWorkerStats']=0xb]=_0x537b53(0x2f4),_0x508261[_0x508261['GraphDatabaseStats']=0xc]='GraphDatabaseStats',_0x508261[_0x508261[_0x537b53(0xa45)]=0xd]=_0x537b53(0xa45),_0x508261[_0x508261['KeyValueDatabaseContentSynchronized']=0xe]=_0x537b53(0x56f),_0x508261[_0x508261[_0x537b53(0x405)]=0xf]=_0x537b53(0x405),_0x508261[_0x508261['KeyValueDatabaseRequestTransactionsValue']=0x10]=_0x537b53(0x9b4),_0x508261[_0x508261['KeyValueDatabaseSendTransactions']=0x11]=_0x537b53(0x221),_0x508261[_0x508261['KeyValueDatabaseStats']=0x12]=_0x537b53(0xa38),_0x508261[_0x508261['KeyValueDatabaseSyncRequired']=0x13]=_0x537b53(0x2ec),_0x508261[_0x508261[_0x537b53(0x61b)]=0x14]=_0x537b53(0x61b),_0x508261[_0x508261['ObjectStoreStats']=0x15]=_0x537b53(0x701),_0x508261[_0x508261[_0x537b53(0x836)]=0x16]=_0x537b53(0x836),_0x508261[_0x508261[_0x537b53(0x474)]=0x17]=_0x537b53(0x474),_0x508261[_0x508261[_0x537b53(0x930)]=0x18]='RemoteMediaStreamTrackFail',_0x508261[_0x508261['SubscribeMediaStream']=0x19]='SubscribeMediaStream',_0x508261[_0x508261[_0x537b53(0x631)]=0x1a]=_0x537b53(0x631),_0x508261[_0x508261[_0x537b53(0x978)]=0x1b]='UnsubscribeMediaStream',_0x508261[_0x508261[_0x537b53(0x404)]=0x1c]=_0x537b53(0x404),_0x508261[_0x508261[_0x537b53(0x23d)]=0x1d]=_0x537b53(0x23d);}(_0x5d0a4b||(_0x5d0a4b={})),function(_0x5b7763){const _0x423d1c=_0x2ad6ba;_0x5b7763[_0x423d1c(0x3f6)]=_0x423d1c(0x7d9),_0x5b7763[_0x423d1c(0x53f)]=_0x423d1c(0x7e1),_0x5b7763[_0x423d1c(0x5c2)]='delete',_0x5b7763[_0x423d1c(0x496)]='move',_0x5b7763[_0x423d1c(0x38e)]=_0x423d1c(0x795),_0x5b7763[_0x423d1c(0x43d)]=_0x423d1c(0xa56),_0x5b7763[_0x423d1c(0x8f7)]=_0x423d1c(0x453),_0x5b7763[_0x423d1c(0x615)]=_0x423d1c(0x74a);}(_0x2e7120||(_0x2e7120={})),function(_0xb8dd31){const _0x4256c1=_0x2ad6ba;_0xb8dd31[_0x4256c1(0x2f3)]=_0x4256c1(0x95a),_0xb8dd31[_0x4256c1(0x9e5)]=_0x4256c1(0x589);}(_0x2ec464||(_0x2ec464={})),function(_0x8097fa){const _0x2fbd63=_0x2ad6ba;_0x8097fa[_0x2fbd63(0x45e)]='add',_0x8097fa['Update']=_0x2fbd63(0x9cc),_0x8097fa[_0x2fbd63(0x5c2)]=_0x2fbd63(0xa12);}(_0x40d910||(_0x40d910={})),function(_0x4ad45f){const _0x14c293=_0x2ad6ba;_0x4ad45f[_0x14c293(0x534)]='get',_0x4ad45f[_0x14c293(0x58a)]='list',_0x4ad45f['Count']=_0x14c293(0x874);}(_0x21689f||(_0x21689f={})),function(_0x506cda){const _0x1c2f0d=_0x2ad6ba;_0x506cda[_0x506cda['Request']=0x0]=_0x1c2f0d(0x2f3),_0x506cda[_0x506cda[_0x1c2f0d(0x1b3)]=0x1]=_0x1c2f0d(0x1b3),_0x506cda[_0x506cda['Attribution']=0x2]=_0x1c2f0d(0x70b),_0x506cda[_0x506cda['PartialResult']=0x3]=_0x1c2f0d(0x38a),_0x506cda[_0x506cda[_0x1c2f0d(0x233)]=0x4]='Result',_0x506cda[_0x506cda['Failed']=0x5]='Failed';}(_0x3ea5c4||(_0x3ea5c4={})),function(_0x1cb157){const _0x4fc6c8=_0x2ad6ba;_0x1cb157[_0x1cb157['PeerConnection']=0x0]=_0x4fc6c8(0x746),_0x1cb157[_0x1cb157[_0x4fc6c8(0x636)]=0x1]=_0x4fc6c8(0x636),_0x1cb157[_0x1cb157[_0x4fc6c8(0x670)]=0x2]=_0x4fc6c8(0x670),_0x1cb157[_0x1cb157['Subscription']=0x3]='Subscription',_0x1cb157[_0x1cb157['Stats']=0x4]='Stats',_0x1cb157[_0x1cb157[_0x4fc6c8(0x991)]=0x5]=_0x4fc6c8(0x991),_0x1cb157[_0x1cb157[_0x4fc6c8(0x6f1)]=0x6]=_0x4fc6c8(0x6f1);}(_0x5f120e||(_0x5f120e={}));class _0x39cd91{[_0x2ad6ba(0x817)];[_0x2ad6ba(0x19d)];[_0x2ad6ba(0x5a2)];constructor(_0x1f77d4,_0x3a47ed){const _0x160020=_0x2ad6ba;this[_0x160020(0x817)]=_0x1f77d4,this[_0x160020(0x19d)]=_0x3a47ed;}[_0x2ad6ba(0x5c3)](){const _0x2e4d8b=_0x2ad6ba;return this[_0x2e4d8b(0x19d)];}[_0x2ad6ba(0x4e9)](){const _0x500593=_0x2ad6ba;return this[_0x500593(0x817)][_0x500593(0x362)]();}[_0x2ad6ba(0x4aa)](){}['registerSystemPublisher'](_0x3c5a3e){const _0x588d10=_0x2ad6ba;this[_0x588d10(0x5a2)]=_0x3c5a3e;}[_0x2ad6ba(0x460)](){const _0x318f9d=_0x2ad6ba;delete this[_0x318f9d(0x5a2)];}}const _0x2fd630=require('firebase/firestore');let _0x1e6afa=_0xb60808(0x14d)['O'];function _0x3c88e2(_0xc4c22e){const _0x2047fb=_0x2ad6ba;return!(!_0xc4c22e||'object'!=typeof _0xc4c22e||Array[_0x2047fb(0xaaa)](_0xc4c22e));}_0x1e6afa=function _0x2482d4(_0x18abc5,..._0x18e0a0){const _0x2e0ee4=_0x2ad6ba;if(!Array[_0x2e0ee4(0xaaa)](_0x18e0a0)||0x0===_0x18e0a0[_0x2e0ee4(0x8e0)])return _0x18abc5;const _0x4e830f=_0x18e0a0[_0x2e0ee4(0x591)]();if(_0x3c88e2(_0x18abc5)&&_0x3c88e2(_0x4e830f)){for(const _0x55ffcb in _0x4e830f)_0x3c88e2(_0x4e830f[_0x55ffcb])?(_0x18abc5[_0x55ffcb]||Object['assign'](_0x18abc5,{[_0x55ffcb]:{}}),_0x2482d4(_0x18abc5[_0x55ffcb],_0x4e830f[_0x55ffcb])):Object['assign'](_0x18abc5,{[_0x55ffcb]:_0x4e830f[_0x55ffcb]});}return _0x2482d4(_0x18abc5,..._0x18e0a0);}(_0x1e6afa,_0xb60808(0x3e6)['O']);const _0x582331=_0x1e6afa,_0x5aa15e=require('firebase/app'),_0x3e570a=require('firebase/auth'),_0x1c8bd3=require('firebase/database'),_0x1f6782=require('firebase/functions'),_0x145036=require('uuid'),_0x4204ae=_0x2ad6ba(0x7d5);class _0x4fe599{static [_0x2ad6ba(0x691)];[_0x2ad6ba(0x4de)];['auth'];[_0x2ad6ba(0x6c2)];[_0x2ad6ba(0x81b)];[_0x2ad6ba(0x31f)];[_0x2ad6ba(0x1af)];[_0x2ad6ba(0x86f)];constructor(){const _0x5bca3d=_0x2ad6ba;this[_0x5bca3d(0x6f2)]();}static[_0x2ad6ba(0x1d8)](){const _0x5835d9=_0x2ad6ba;return _0x4fe599[_0x5835d9(0x691)]||(_0x4fe599[_0x5835d9(0x691)]=new _0x4fe599()),_0x4fe599[_0x5835d9(0x691)];}[_0x2ad6ba(0x6f2)](){const _0x5578d0=_0x2ad6ba;if(!this[_0x5578d0(0x4de)]){let _0x54b1dd=_0x4204ae;_0x5578d0(0x887)!=typeof window&&(_0x54b1dd=_0x4204ae+'-'+(0x0,_0x145036['v4'])()),this[_0x5578d0(0x4de)]=(0x0,_0x5aa15e['initializeApp'])(_0x582331[_0x5578d0(0x1c8)],''+_0x54b1dd);}return this[_0x5578d0(0x4de)];}['getAuth'](){const _0x190720=_0x2ad6ba;return this[_0x190720(0x490)]||(this[_0x190720(0x490)]=(0x0,_0x3e570a[_0x190720(0x8fd)])(this[_0x190720(0x6f2)]())),this[_0x190720(0x490)];}[_0x2ad6ba(0x731)](){const _0x50fe04=_0x2ad6ba;return this[_0x50fe04(0x6c2)]||(this[_0x50fe04(0x6c2)]=(0x0,_0x1f6782[_0x50fe04(0x731)])(this[_0x50fe04(0x6f2)](),_0x582331[_0x50fe04(0x1c8)]['functionsRegion'])),this['functions'];}[_0x2ad6ba(0x1c2)](){const _0x3063ea=_0x2ad6ba;return this[_0x3063ea(0x81b)]||(this['database']=(0x0,_0x1c8bd3['getDatabase'])(this[_0x3063ea(0x6f2)]())),this[_0x3063ea(0x81b)];}[_0x2ad6ba(0xa35)](){const _0x54d955=_0x2ad6ba;return this[_0x54d955(0x31f)]||(this[_0x54d955(0x31f)]=(0x0,_0x2fd630[_0x54d955(0xa35)])(this['getApp']())),this[_0x54d955(0x31f)];}async[_0x2ad6ba(0x5b4)](){const _0x4b32dc=_0x2ad6ba;if(this[_0x4b32dc(0x1af)]&&this[_0x4b32dc(0x86f)]&&Date[_0x4b32dc(0x9fc)]()-this[_0x4b32dc(0x86f)]<0x493e0)return Date[_0x4b32dc(0x9fc)]()+this['clockSkew'];const _0x9ce588=this[_0x4b32dc(0x1c2)](),_0x1f6819=(0x0,_0x1c8bd3['ref'])(_0x9ce588,_0x4b32dc(0x345));return new Promise(_0x257154=>{const _0x87c147=_0x4b32dc;(0x0,_0x1c8bd3[_0x87c147(0x8ad)])(_0x1f6819,_0xba8989=>{const _0x1bbbd5=_0x87c147;(0x0,_0x1c8bd3[_0x1bbbd5(0x8fa)])(_0x1f6819),this[_0x1bbbd5(0x1af)]=_0xba8989[_0x1bbbd5(0x547)](),this[_0x1bbbd5(0x86f)]=Date[_0x1bbbd5(0x9fc)](),_0x257154(Date[_0x1bbbd5(0x9fc)]()+(this[_0x1bbbd5(0x1af)]??0x0));});});}}const _0x480677=_0x4fe599['getInstance']();class _0x369641{static ['instance'];['enabledChannels']=[_0x1b63ac[_0x2ad6ba(0x8f3)]];['debugEnabled']=!0x1;[_0x2ad6ba(0x291)];[_0x2ad6ba(0x8e1)]='';[_0x2ad6ba(0x9ab)];[_0x2ad6ba(0xa6f)]=[];['currentBatch'];[_0x2ad6ba(0x202)];[_0x2ad6ba(0x668)]=0xa;['retryDelay']=0x1f4;['batchSize']=0x1c2;[_0x2ad6ba(0x649)]=0x3e8;constructor(){const _0x22add9=_0x2ad6ba;if(_0x22add9(0x887)!=typeof window)this['globalObject']=window;else{if(void 0x0===_0xb60808['g'])throw new Error(_0x22add9(0x18a));this[_0x22add9(0x9ab)]=_0xb60808['g'];}this[_0x22add9(0x2ad)](),this['globalObject'][_0x22add9(0x8b2)]=_0x3d54cb=>{const _0x961b28=_0x22add9;if(_0x3d54cb===_0x1b63ac[_0x961b28(0x178)])return this[_0x961b28(0x9db)]=Object[_0x961b28(0xa6a)](_0x1b63ac)['map'](_0xac817=>_0x1b63ac[_0xac817]),void Object[_0x961b28(0xa6a)](_0x1b63ac)[_0x961b28(0x9a0)](_0x4cf642=>{const _0x2454ff=_0x961b28,_0x4fb59a=_0x4cf642;localStorage[_0x2454ff(0x553)](_0x2454ff(0x5ae)+_0x1b63ac[_0x4fb59a],_0x2454ff(0x3a7));});this[_0x961b28(0x9db)][_0x961b28(0x205)](_0x3d54cb)||(this[_0x961b28(0x9db)]['push'](_0x3d54cb),localStorage[_0x961b28(0x553)](_0x961b28(0x5ae)+_0x3d54cb,_0x961b28(0x3a7)));},this[_0x22add9(0x9ab)][_0x22add9(0x54d)]=_0x348977=>{const _0x52deac=_0x22add9;if(!_0x348977||_0x348977===_0x1b63ac[_0x52deac(0x178)])return this[_0x52deac(0x9db)]=[],void Object[_0x52deac(0xa6a)](_0x1b63ac)['forEach'](_0xf9a140=>{const _0x16c86b=_0x52deac,_0x33d219=_0xf9a140;localStorage[_0x16c86b(0x232)](_0x16c86b(0x5ae)+_0x1b63ac[_0x33d219]);});this['enabledChannels'][_0x52deac(0x205)](_0x348977)&&(this[_0x52deac(0x9db)]=this['enabledChannels']['filter'](_0x20032b=>_0x20032b!==_0x348977),localStorage[_0x52deac(0x232)](_0x52deac(0x5ae)+_0x348977));},this[_0x22add9(0x9ab)]['crewdleSDKLoggingChannels']=_0x1b63ac;}static[_0x2ad6ba(0x1d8)](){const _0x4e46e0=_0x2ad6ba;try{return _0x369641[_0x4e46e0(0x691)]||(_0x369641[_0x4e46e0(0x691)]=new _0x369641()),_0x369641[_0x4e46e0(0x691)];}catch(_0x2e1a1f){return console[_0x4e46e0(0x60c)](_0x4e46e0(0xa67),_0x2e1a1f),{'log':()=>{},'forceLog':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1,'processBatch':()=>{}};}}[_0x2ad6ba(0x893)](_0x4e9f59){const _0xb5ab2e=_0x2ad6ba;this['vendorId']=_0x4e9f59,this[_0xb5ab2e(0xa6f)]=[],this[_0xb5ab2e(0x8da)]=this['createNewBatch'](),this[_0xb5ab2e(0x202)]&&(clearTimeout(this[_0xb5ab2e(0x202)]),this['batchTimeout']=void 0x0);}[_0x2ad6ba(0x782)](_0x5f37c5){const _0x328803=_0x2ad6ba;this[_0x328803(0x291)]=_0x5f37c5;}[_0x2ad6ba(0xa53)](_0x2b2f92,..._0x2e1c02){const _0x73927e=_0x2ad6ba;this[_0x73927e(0x550)]&&this[_0x73927e(0xa40)](_0x1b63ac['Default'],_0x73927e(0xa7d)+_0x2b2f92,..._0x2e1c02);}['forceLog'](_0x154211,..._0x1a8a63){const _0x216c66=_0x2ad6ba;console[_0x216c66(0xa40)](_0x154211,..._0x1a8a63),this[_0x216c66(0x291)]&&this[_0x216c66(0x291)]['forEach'](_0x1ddfb0=>{const _0x5acd3b=_0x216c66;_0x1ddfb0[_0x5acd3b(0xa40)](_0x154211,{'vendorId':this[_0x5acd3b(0x8e1)],'nodeId':'','nodeType':'','data':{..._0x1a8a63}});});}['log'](_0x14358b,_0x5d7117,..._0x5adb2e){const _0x44a0a7=_0x2ad6ba;_0x582331[_0x44a0a7(0x521)]||(this[_0x44a0a7(0x9db)]['includes'](_0x14358b)&&console['log'](_0x44a0a7(0x6c6)+_0x14358b+'\x27\x0a',new Date()+'\x0a',_0x5d7117,..._0x5adb2e),this[_0x44a0a7(0x291)]&&this['loggingConnectors']['forEach'](_0x4d9975=>{const _0x53745c=_0x44a0a7;this[_0x53745c(0x375)](_0x4d9975)&&_0x4d9975[_0x53745c(0x46f)]()[_0x53745c(0x205)](_0x14358b)&&_0x4d9975['log'](_0x5d7117,{'vendorId':this[_0x53745c(0x8e1)],'nodeId':'','nodeType':'','data':{'channel':_0x14358b,..._0x5adb2e}});}));}[_0x2ad6ba(0x59d)](_0x17e1af,_0x3030a2,..._0x1883ab){const _0x50c565=_0x2ad6ba;_0x582331['isProduction']||(this[_0x50c565(0x9db)][_0x50c565(0x205)](_0x17e1af)&&console[_0x50c565(0xa40)](_0x3030a2,..._0x1883ab),this[_0x50c565(0x291)]&&this[_0x50c565(0x291)][_0x50c565(0x9a0)](_0x22b5ee=>{const _0x10e1f8=_0x50c565;this[_0x10e1f8(0x375)](_0x22b5ee)&&_0x22b5ee[_0x10e1f8(0x46f)]()[_0x10e1f8(0x205)](_0x17e1af)&&_0x22b5ee[_0x10e1f8(0xa40)](_0x3030a2,{'vendorId':this['vendorId'],'nodeId':'','nodeType':'','data':{'channel':_0x17e1af,..._0x1883ab}});}));}[_0x2ad6ba(0x844)](_0x364093,_0x539344){const _0x33fe32=_0x2ad6ba;if(!this[_0x33fe32(0x291)])return;const _0x19aba4={'vendorId':this[_0x33fe32(0x8e1)],..._0x539344};this['loggingConnectors']['forEach'](_0x5b1d26=>{const _0x3286a2=_0x33fe32;_0x5b1d26[_0x3286a2(0xa40)](_0x364093,_0x19aba4);});}[_0x2ad6ba(0x861)](_0x212d4d,_0x4a0af1){const _0x3558da=_0x2ad6ba;this['createBatchOperation'](_0x212d4d,_0x4a0af1),this[_0x3558da(0x8d6)]();}[_0x2ad6ba(0x654)](_0x4ced55,_0x296fd7,_0x393a2f){const _0x34f046=_0x2ad6ba;(0x0,_0x2fd630[_0x34f046(0x810)])((0x0,_0x2fd630['doc'])(_0x480677[_0x34f046(0xa35)](),_0x34f046(0x376)+this[_0x34f046(0x8e1)]+'/'+_0x4ced55+'/'+_0x296fd7),{'storage':_0x393a2f,'timestamp':(0x0,_0x2fd630[_0x34f046(0x80d)])()});}['logBatch'](){const _0x14e86c=_0x2ad6ba;this['currentBatch']&&(this[_0x14e86c(0x8da)][_0x14e86c(0x9b8)]+=0x1,this[_0x14e86c(0x8da)][_0x14e86c(0x9b8)]===this[_0x14e86c(0x2b2)]?this['processBatch']():this[_0x14e86c(0x202)]||(this['batchTimeout']=this[_0x14e86c(0x9ab)][_0x14e86c(0x6d5)](()=>this[_0x14e86c(0x1ed)](),this['timeoutValue'])));}async[_0x2ad6ba(0x1ed)](){const _0x452c53=_0x2ad6ba;if(this[_0x452c53(0x8da)]){for(this[_0x452c53(0xa6f)][_0x452c53(0x673)](this[_0x452c53(0x8da)]),this[_0x452c53(0x8da)]=this[_0x452c53(0xab5)]();this[_0x452c53(0xa6f)][_0x452c53(0x8e0)]>0x0;){const _0xc628d1=this[_0x452c53(0xa6f)][_0x452c53(0x591)]();if(!await this[_0x452c53(0x522)](_0xc628d1))break;}clearTimeout(this[_0x452c53(0x202)]),this[_0x452c53(0x202)]=void 0x0;}}['error'](_0x190a0d,_0x1a5112,..._0x8eec84){const _0x3d80f0=_0x2ad6ba;if(console[_0x3d80f0(0x60c)](new Date(),_0x190a0d,_0x1a5112,..._0x8eec84),this[_0x3d80f0(0x291)]){const _0x4b7998={'vendorId':this[_0x3d80f0(0x8e1)],..._0x1a5112};this['loggingConnectors'][_0x3d80f0(0x9a0)](_0x40b95b=>{const _0x278daf=_0x3d80f0;_0x40b95b[_0x278daf(0x60c)](_0x190a0d,_0x4b7998);});}}[_0x2ad6ba(0x4a2)](_0x3194a3,_0x59f913,..._0x1deb3c){const _0x1ca694=_0x2ad6ba;if(console['warn'](new Date(),_0x3194a3,_0x59f913,_0x1deb3c),this[_0x1ca694(0x291)]){const _0x2481e0={'vendorId':this[_0x1ca694(0x8e1)],..._0x59f913};this[_0x1ca694(0x291)][_0x1ca694(0x9a0)](_0x1980dc=>{_0x1980dc['warn'](_0x3194a3,_0x2481e0);});}}['isChannelEnabled'](_0x38d504){const _0x1796da=_0x2ad6ba;return this[_0x1796da(0x9db)]['includes'](_0x38d504);}async[_0x2ad6ba(0x522)](_0x42c954,_0x27a9e4=0x0){const _0x222da5=_0x2ad6ba;if(_0x42c954[_0x222da5(0x9b8)]>0x0)try{return await _0x42c954[_0x222da5(0x93f)][_0x222da5(0x99e)](),!0x0;}catch(_0x3baa10){if(console[_0x222da5(0x60c)]('Error\x20committing\x20batch:',_0x3baa10,_0x222da5(0x68f),_0x42c954[_0x222da5(0x7e3)]),!(_0x27a9e4<this[_0x222da5(0x668)])){const {nodeId:_0x3a42fe='',nodeType:_0x3e6efe='',clusterId:_0x1499ee=''}=_0x42c954['operations'][0x0][_0x222da5(0x19c)],_0x2264b8={'nodeId':_0x3a42fe,'nodeType':_0x3e6efe,'clusterId':_0x1499ee,'data':{'operations':_0x42c954['operations'],'error':_0x3baa10}};return this[_0x222da5(0x60c)](_0x222da5(0x480),_0x2264b8),!0x1;}{const _0x890215=this[_0x222da5(0x67d)](_0x42c954[_0x222da5(0x7e3)]);setTimeout(()=>this['commitBatch'](_0x890215,_0x27a9e4+0x1),this[_0x222da5(0x698)]*Math['pow'](0x2,_0x27a9e4));}}}[_0x2ad6ba(0x2ad)](){const _0x201112=_0x2ad6ba;try{Object[_0x201112(0xa6a)](_0x1b63ac)[_0x201112(0x9a0)](_0x443bc2=>{const _0x2983f4=_0x201112,_0x733910=_0x443bc2;localStorage[_0x2983f4(0x2f0)](_0x2983f4(0x5ae)+_0x1b63ac[_0x733910])&&(console['log'](_0x2983f4(0x430),_0x1b63ac[_0x733910]),this['enabledChannels']['push'](_0x1b63ac[_0x733910]));});}catch(_0x5e0315){}}[_0x2ad6ba(0x375)](_0x1db7b6){return void 0x0!==_0x1db7b6['getEnabledChannels'];}['createNewBatch'](){const _0x35d23b=_0x2ad6ba;return{'batch':(0x0,_0x2fd630[_0x35d23b(0x3dc)])(_0x480677[_0x35d23b(0xa35)]()),'operations':[],'counter':0x0};}[_0x2ad6ba(0x67d)](_0x29e042){const _0x213ebe=_0x2ad6ba,_0x556151=(0x0,_0x2fd630[_0x213ebe(0x3dc)])(_0x480677[_0x213ebe(0xa35)]());return _0x29e042[_0x213ebe(0x9a0)](_0x7dd7d1=>this['addBatchOperation'](_0x556151,_0x7dd7d1)),{'batch':_0x556151,'operations':_0x29e042,'counter':_0x29e042[_0x213ebe(0x8e0)]};}['addBatchOperation'](_0x2b9009,_0x210c4b){const _0x56e8d0=_0x2ad6ba;switch(_0x210c4b['type']){case'set':_0x2b9009['set'](_0x210c4b[_0x56e8d0(0x3df)],_0x210c4b[_0x56e8d0(0x19c)]);break;case'update':_0x2b9009['update'](_0x210c4b['ref'],_0x210c4b[_0x56e8d0(0x19c)]);break;case _0x56e8d0(0xa12):_0x2b9009[_0x56e8d0(0xa12)](_0x210c4b[_0x56e8d0(0x3df)]);}}['createBatchOperation'](_0x1870fa,_0x566d04){const _0x4b46b6=_0x2ad6ba;this[_0x4b46b6(0x8da)]||(this[_0x4b46b6(0x8da)]=this[_0x4b46b6(0xab5)]());const _0x5e3713=(0x0,_0x2fd630[_0x4b46b6(0x9c3)])((0x0,_0x2fd630[_0x4b46b6(0x2b6)])(_0x480677['getFirestore'](),_0x4b46b6(0x376)+this[_0x4b46b6(0x8e1)]+_0x4b46b6(0x3da))),_0x5bdc6e={..._0x566d04,'service':_0x1870fa,'timestamp':(0x0,_0x2fd630[_0x4b46b6(0x80d)])()},_0x5670a8={'type':'set','path':_0x5e3713[_0x4b46b6(0x5f5)],'ref':_0x5e3713,'data':_0x5bdc6e};return this[_0x4b46b6(0x8da)][_0x4b46b6(0x7e3)][_0x4b46b6(0x673)](_0x5670a8),this['addBatchOperation'](this[_0x4b46b6(0x8da)]['batch'],_0x5670a8),_0x5e3713;}}const _0xe8f382=_0x369641[_0x2ad6ba(0x1d8)]();function _0x240979(_0x37d37e,_0x13bdee){return'/'===_0x37d37e?_0x37d37e+_0x13bdee:_0x37d37e+'/'+_0x13bdee;}function _0x5704a7(_0x38b63c){const _0x445c8e=_0x2ad6ba,_0x1eae39=function(_0x14db11){const _0xbe7081=a0_0x119e;return _0x14db11[_0xbe7081(0x1c9)]('/')[_0xbe7081(0x1bc)](_0x2238fd=>_0x2238fd['length']>0x0);}(_0x38b63c),_0x53684e=_0x1eae39[_0x445c8e(0x281)]()||'',_0x332da8=_0x1eae39[_0x445c8e(0x3a2)]('/');return[0x0===_0x332da8[_0x445c8e(0x8e0)]?'/':_0x332da8,_0x53684e];}async function _0x3bceb5(_0x55380d){const _0x136e1d=_0x2ad6ba;let _0x565fcc;const _0x8f514b=_0x55380d['size']/0x100000;_0x565fcc=_0x8f514b<=0xa?0x1:_0x8f514b<=0x64?0.5:_0x8f514b<=0x1f4?0.1:0.05;const _0x51c52e=Math[_0x136e1d(0xa6e)](_0x55380d[_0x136e1d(0x399)]/_0x10632a),_0x36f245=Math[_0x136e1d(0xa6e)](_0x51c52e*_0x565fcc);let _0xbcda51=new Uint8Array();for(let _0x1336ef=0x0;_0x1336ef<_0x36f245;_0x1336ef++){const _0x582bac=Math[_0x136e1d(0xa7f)](_0x1336ef/_0x36f245*_0x55380d[_0x136e1d(0x399)]);let _0x686cb2=_0x582bac+_0x10632a;_0x686cb2>_0x55380d[_0x136e1d(0x399)]&&(_0x686cb2=_0x55380d[_0x136e1d(0x399)]);const _0x1d6fc3=_0x55380d[_0x136e1d(0x1b2)](_0x582bac,_0x686cb2),_0x2d0dfb=await _0x1d6fc3[_0x136e1d(0x641)](),_0x5f08fd=new Uint8Array([..._0xbcda51,...new Uint8Array(_0x2d0dfb)]);_0xbcda51=new Uint8Array(await crypto[_0x136e1d(0x29e)][_0x136e1d(0x4c0)](_0x136e1d(0x524),_0x5f08fd));}return Array[_0x136e1d(0x854)](new Uint8Array(_0xbcda51))['map'](_0x6c2422=>_0x6c2422[_0x136e1d(0x8d9)](0x10)[_0x136e1d(0xa33)](0x2,'0'))[_0x136e1d(0x3a2)]('');}async function*_0x2189f7(_0x4e4931,_0x40c67e=0x0,_0x52cec1){const _0x35760b=_0x2ad6ba;let _0x385004=_0x40c67e*_0x9ed6ad,_0x35f054=_0x4e4931;for(;_0x385004<_0x35f054[_0x35760b(0x399)];){let _0x1d729a=_0x385004+_0x9ed6ad;_0x1d729a>_0x35f054[_0x35760b(0x399)]&&(_0x1d729a=_0x35f054[_0x35760b(0x399)]);let _0x5300cb=0x0;for(;_0x5300cb<0x14;)try{await _0x52cec1?.();const _0x3c3a60=_0x35f054[_0x35760b(0x1b2)](_0x385004,_0x1d729a,_0x35760b(0x657)),_0x33e557=await _0x3c3a60[_0x35760b(0x641)]();yield _0x33e557,_0x385004=_0x1d729a,await new Promise(_0xdb430f=>setTimeout(_0xdb430f,0x0));break;}catch(_0x11f636){if(console['error'](_0x35760b(0x4f2)+(_0x5300cb+0x1)+_0x35760b(0x2b4),_0x11f636),_0x5300cb++,_0x5300cb>0x14)throw _0x11f636;let _0x28db1a=0x3e8*Math[_0x35760b(0x1da)](0x2,_0x5300cb);_0x28db1a>0x7530&&(_0x28db1a=0x7530),await new Promise(_0x27dbe3=>setTimeout(_0x27dbe3,_0x28db1a));}}}class _0x3cbe57 extends _0x39cd91{[_0x2ad6ba(0xa58)];[_0x2ad6ba(0x765)];[_0x2ad6ba(0x767)]=new Map();['messagesSent']=0x0;['messagesReceived']=0x0;['bytesSent']=0x0;[_0x2ad6ba(0x416)]=0x0;constructor(_0xe36df,_0x2c201b){super(_0xe36df,_0x2c201b);}[_0x2ad6ba(0x5c3)](){return this['label'];}[_0x2ad6ba(0x576)](){return this['label'];}[_0x2ad6ba(0x30c)](){const _0x2319df=_0x2ad6ba;return _0x406df3[_0x2319df(0x525)][_0x2319df(0xaa7)];}[_0x2ad6ba(0x3af)](){return this['label'];}[_0x2ad6ba(0xa43)](_0x26df38){const _0x3727ca=_0x2ad6ba;if(this[_0x3727ca(0xa58)])throw new _0x31ec66(_0x31ec66[_0x3727ca(0x4b6)]['InvalidPublisher'],{'message':'Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20'+this['owner'][_0x3727ca(0x362)]()+_0x3727ca(0xa0b)+this[_0x3727ca(0x19d)],'topic':this['outgoingTopic']});this['outgoingTopic']=_0x26df38;}[_0x2ad6ba(0x95c)](_0x53ce49){const _0x4562f5=_0x2ad6ba;if(this['incomingTopic'])throw new _0x31ec66(_0x31ec66[_0x4562f5(0x4b6)][_0x4562f5(0x640)],{'message':'Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20'+this[_0x4562f5(0x817)][_0x4562f5(0x362)]()+_0x4562f5(0xa0b)+this[_0x4562f5(0x19d)],'topic':this['incomingTopic']});this[_0x4562f5(0x765)]=_0x53ce49;}[_0x2ad6ba(0x30d)](){const _0x54f74c=_0x2ad6ba;delete this[_0x54f74c(0xa58)];}[_0x2ad6ba(0x5d9)](){const _0x42c0b2=_0x2ad6ba;delete this[_0x42c0b2(0x765)];}async[_0x2ad6ba(0x9d3)](_0x433303,_0x2b930c){const _0x3f5852=_0x2ad6ba;if(_0xe8f382[_0x3f5852(0xa40)](_0x1b63ac[_0x3f5852(0x1df)],_0x3f5852(0x3f9),this['owner'][_0x3f5852(0x362)](),_0x433303,_0x2b930c),this['messagesSent']+=0x1,_0x433303 instanceof File){const _0x2c7093=await async function(_0x329e17){const _0x4b14a8=_0x3f5852,_0x15b782=[];for await(const _0xa63aa2 of _0x2189f7(_0x329e17))_0x15b782[_0x4b14a8(0x673)](_0xa63aa2);return _0x15b782;}(_0x433303);return this[_0x3f5852(0x18f)]+=_0x2c7093[_0x3f5852(0x735)]((_0x11168f,_0x19c6f2)=>_0x11168f+_0x19c6f2[_0x3f5852(0x918)],0x0),void _0x2c7093[_0x3f5852(0x9a0)]((_0x4bc57a,_0x95e724)=>{const _0x371e2e=_0x3f5852;this[_0x371e2e(0xa58)][_0x371e2e(0x29d)]({'sourceId':this['owner'][_0x371e2e(0x362)](),'destinationIds':_0x2b930c,'propagate':!0x0,'contentType':_0x406df3[_0x371e2e(0x525)][_0x371e2e(0x87a)],'content':{'name':_0x433303[_0x371e2e(0x2b9)],'type':_0x433303[_0x371e2e(0x285)],'data':_0x4bc57a,'index':_0x95e724,'total':_0x2c7093[_0x371e2e(0x8e0)]}});});}this['bytesSent']+=JSON[_0x3f5852(0x6a9)](_0x433303)[_0x3f5852(0x8e0)],this[_0x3f5852(0xa58)][_0x3f5852(0x29d)]({'sourceId':this[_0x3f5852(0x817)][_0x3f5852(0x362)](),'destinationIds':_0x2b930c,'propagate':!0x0,'contentType':_0x406df3[_0x3f5852(0x525)][_0x3f5852(0xaa7)],'content':_0x433303});}[_0x2ad6ba(0x435)](_0x765dc3){const _0x5d3849=_0x2ad6ba;return this[_0x5d3849(0x765)]['subscribe'](_0x31bf0a=>{const _0x2180de=_0x5d3849;switch(_0xe8f382[_0x2180de(0xa40)](_0x1b63ac[_0x2180de(0x1df)],'DataStream\x20onMessage',this[_0x2180de(0x817)][_0x2180de(0x362)](),_0x31bf0a),_0x31bf0a[_0x2180de(0xaa2)]){case _0x406df3['ContentType'][_0x2180de(0xaa7)]:this[_0x2180de(0x8f2)]+=0x1,this[_0x2180de(0x416)]+=JSON[_0x2180de(0x6a9)](_0x31bf0a[_0x2180de(0x257)])[_0x2180de(0x8e0)],_0x765dc3(_0x31bf0a[_0x2180de(0xa59)],_0x31bf0a[_0x2180de(0x257)]);break;case _0x406df3[_0x2180de(0x525)][_0x2180de(0x87a)]:this[_0x2180de(0x767)]['has'](_0x31bf0a['content'][_0x2180de(0x2b9)])||this[_0x2180de(0x767)]['set'](_0x31bf0a['content'][_0x2180de(0x2b9)],{'chunksReceived':0x0,'bytesReceived':0x0,'checksum':'','content':[]});const _0x2843b5=this[_0x2180de(0x767)][_0x2180de(0x736)](_0x31bf0a[_0x2180de(0x257)][_0x2180de(0x2b9)]);if(_0x2843b5[_0x2180de(0x222)]+=0x1,_0x2843b5[_0x2180de(0x416)]+=_0x31bf0a[_0x2180de(0x257)][_0x2180de(0x19c)][_0x2180de(0x918)],_0x2843b5['content']&&(_0x2843b5[_0x2180de(0x257)][_0x31bf0a[_0x2180de(0x257)]['index']]=_0x31bf0a['content'][_0x2180de(0x19c)]),this[_0x2180de(0x767)][_0x2180de(0x50f)](_0x31bf0a['content'][_0x2180de(0x2b9)],_0x2843b5),_0x2843b5['chunksReceived']+0x1<_0x31bf0a[_0x2180de(0x257)][_0x2180de(0x7da)])return;this[_0x2180de(0x8f2)]+=0x1,this[_0x2180de(0x416)]+=_0x2843b5[_0x2180de(0x416)],_0x2843b5[_0x2180de(0x257)]&&_0x765dc3(_0x31bf0a[_0x2180de(0xa59)],(_0x2ab0de=_0x2843b5[_0x2180de(0x257)],_0x542ec6=_0x31bf0a[_0x2180de(0x257)][_0x2180de(0x2b9)],_0xdfaa62=_0x31bf0a[_0x2180de(0x257)][_0x2180de(0x285)],new File(_0x2ab0de,_0x542ec6,{'type':_0xdfaa62}))),this[_0x2180de(0x767)][_0x2180de(0xa12)](_0x31bf0a[_0x2180de(0x257)][_0x2180de(0x2b9)]);}var _0x2ab0de,_0x542ec6,_0xdfaa62;});}}function _0x2af2eb(){const _0x217e0a=_0x2ad6ba;let _0x4df755=[];return{'subscribe':_0xb81956=>(_0x4df755[_0x217e0a(0x673)](_0xb81956),()=>{_0x4df755=_0x4df755['filter'](_0x361aad=>_0x361aad!==_0xb81956);}),'publish':_0x474314=>{const _0x40c364=_0x217e0a;_0x4df755[_0x40c364(0x9a0)](_0x2d74b2=>_0x2d74b2(_0x474314));}};}function _0x331eb8(){let _0x31c7dd;return{'subscribe':_0x27c94a=>(_0x31c7dd=_0x27c94a,()=>{_0x31c7dd=void 0x0;}),'publish':_0x3575ad=>{_0x31c7dd&&_0x31c7dd(_0x3575ad);}};}class _0x101102{[_0x2ad6ba(0x721)];[_0x2ad6ba(0x2e9)];[_0x2ad6ba(0xa27)];[_0x2ad6ba(0xa8d)]=_0x331eb8();['listenerUnsubscriber'];constructor(_0x4a79dc,_0x246fce,_0x7aafa9){const _0x372148=_0x2ad6ba;this[_0x372148(0x721)]=_0x4a79dc,this[_0x372148(0x2e9)]=_0x246fce,this['tableObserver']=_0x7aafa9;}[_0x2ad6ba(0x4aa)](){const _0x391c87=_0x2ad6ba;this[_0x391c87(0x3a1)]?.();}async[_0x2ad6ba(0x736)](_0x1f17da){const _0x5c45d8=_0x2ad6ba,_0x137615={'key':_0x1f17da,'tableName':this[_0x5c45d8(0x2e9)],'action':_0x21689f[_0x5c45d8(0x534)]};return this['tableObserver']['publish'](_0x137615),this[_0x5c45d8(0x721)]['get'](_0x1f17da);}async['set'](_0x19648d,_0x383c99,_0x10ab4c=!0x0){const _0x32f27b=_0x2ad6ba;this[_0x32f27b(0x2da)](_0x383c99);const _0x3e2f75=await this[_0x32f27b(0x721)][_0x32f27b(0x736)](_0x19648d),_0x1ff2bf=await this['connector'][_0x32f27b(0x50f)](_0x19648d,_0x383c99),_0x47006a=_0x3e2f75?_0x40d910['Update']:_0x40d910['Add'];if(this[_0x32f27b(0x29d)](_0x47006a,_0x1ff2bf),!_0x10ab4c)return _0x1ff2bf;const _0x599eb3={'key':_0x19648d,'tableName':this['tableName'],'action':_0x47006a,'value':_0x1ff2bf};return this[_0x32f27b(0xa27)]['publish'](_0x599eb3),_0x1ff2bf;}async['add'](_0x55251f){const _0x2897f7=_0x2ad6ba;this[_0x2897f7(0x2da)](_0x55251f);const _0x2de141=await this[_0x2897f7(0x721)][_0x2897f7(0x424)](_0x55251f),_0x137950={'key':_0x2de141['id'],'tableName':this['tableName'],'action':_0x40d910[_0x2897f7(0x45e)],'value':_0x2de141};return this['tableObserver']['publish'](_0x137950),this['publish'](_0x137950['action'],_0x2de141),_0x2de141;}async[_0x2ad6ba(0xa12)](_0x23671f,_0x3ddaa7=!0x0){const _0x192e7f=_0x2ad6ba,_0x237bff=await this[_0x192e7f(0x721)][_0x192e7f(0x736)](_0x23671f);if(!_0x237bff)return;await this[_0x192e7f(0x721)]['delete'](_0x23671f);const _0x342d87=_0x40d910[_0x192e7f(0x5c2)];if(this[_0x192e7f(0x29d)](_0x342d87,_0x237bff),!_0x3ddaa7)return;const _0xb2c566={'key':_0x23671f,'tableName':this[_0x192e7f(0x2e9)],'action':_0x342d87,'value':_0x237bff};this[_0x192e7f(0xa27)][_0x192e7f(0x29d)](_0xb2c566);}async[_0x2ad6ba(0xa82)](){const _0x598e2d=_0x2ad6ba,_0x1fc8bf=await this[_0x598e2d(0xa73)]();for(const _0xff99f2 of _0x1fc8bf){const _0x211df8=_0x40d910[_0x598e2d(0x5c2)];this[_0x598e2d(0x29d)](_0x211df8,_0xff99f2);const _0x4aa7b9={'key':_0xff99f2['id'],'tableName':this[_0x598e2d(0x2e9)],'action':_0x211df8,'value':_0xff99f2};this[_0x598e2d(0xa27)][_0x598e2d(0x29d)](_0x4aa7b9);}return this[_0x598e2d(0x721)]['clear']();}async['list'](_0x2abd6a){const _0x53b0a0=_0x2ad6ba,_0x179a6d={'key':'','tableName':this[_0x53b0a0(0x2e9)],'action':_0x21689f[_0x53b0a0(0x58a)]};this[_0x53b0a0(0xa27)][_0x53b0a0(0x29d)](_0x179a6d);try{_0x2abd6a&&(_0x2abd6a=_0x2abd6a instanceof _0x398813?_0x2abd6a[_0x53b0a0(0x67e)]():_0x398813[_0x53b0a0(0x573)](_0x2abd6a)['getQuery']());}catch(_0x32e0b1){throw new _0x3f1f96(_0x429a2c['KeyValueDatabaseInvalidQuery'],'Invalid\x20query');}try{return await this[_0x53b0a0(0x721)]['list'](_0x2abd6a);}catch(_0x5ce1b9){let _0x2c18c5=_0x53b0a0(0x678);throw _0x5ce1b9 instanceof Error&&(_0x2c18c5=_0x5ce1b9[_0x53b0a0(0xa5a)]),new _0x3f1f96(_0x429a2c[_0x53b0a0(0x980)],_0x2c18c5);}}async[_0x2ad6ba(0x874)](_0x3d7d0a){const _0x1fe6c4=_0x2ad6ba,_0xcfb5c0={'key':'','tableName':this[_0x1fe6c4(0x2e9)],'action':_0x21689f[_0x1fe6c4(0x5b1)]};this[_0x1fe6c4(0xa27)]['publish'](_0xcfb5c0);try{_0x3d7d0a&&(_0x3d7d0a=_0x3d7d0a instanceof _0x398813?_0x3d7d0a[_0x1fe6c4(0x67e)]():_0x398813[_0x1fe6c4(0x573)](_0x3d7d0a)[_0x1fe6c4(0x67e)]());}catch(_0x573778){throw new _0x3f1f96(_0x429a2c[_0x1fe6c4(0x980)],_0x1fe6c4(0x678));}try{return await this[_0x1fe6c4(0x721)][_0x1fe6c4(0x874)](_0x3d7d0a);}catch(_0x56dfcf){let _0x56edc2=_0x1fe6c4(0x678);throw _0x56dfcf instanceof Error&&(_0x56edc2=_0x56dfcf[_0x1fe6c4(0xa5a)]),new _0x3f1f96(_0x429a2c[_0x1fe6c4(0x980)],_0x56edc2);}}[_0x2ad6ba(0x9f8)](){const _0x537dff=_0x2ad6ba;return this[_0x537dff(0x721)]['calculateSize']();}[_0x2ad6ba(0x208)](_0x3fb8f6){const _0x44d485=_0x2ad6ba;this[_0x44d485(0x3a1)]=this[_0x44d485(0xa8d)]['subscribe'](_0x3fb8f6);}[_0x2ad6ba(0x99f)](){const _0x37dd9d=_0x2ad6ba;this[_0x37dd9d(0x3a1)]?.();}[_0x2ad6ba(0x29d)](_0x1f7d64,_0x34bbf6){const _0x44fe7e=_0x2ad6ba,_0x429833=this[_0x44fe7e(0x552)](_0x1f7d64,_0x34bbf6);this[_0x44fe7e(0xa8d)][_0x44fe7e(0x29d)](_0x429833);}[_0x2ad6ba(0x552)](_0x3d2ef0,_0x47291b){const _0x2b506d=_0x2ad6ba;let _0x8070bf;switch(_0x3d2ef0){case _0x40d910[_0x2b506d(0x45e)]:_0x8070bf='add';break;case _0x40d910[_0x2b506d(0x269)]:_0x8070bf='update';break;case _0x40d910['Delete']:_0x8070bf=_0x2b506d(0xa12);}return{'action':_0x8070bf,'value':_0x47291b};}[_0x2ad6ba(0x2da)](_0x2aee8a){const _0x731a5a=_0x2ad6ba;if('object'!=typeof _0x2aee8a||null===_0x2aee8a)throw new _0x3f1f96(_0x429a2c[_0x731a5a(0x329)],'Invalid\x20value.\x20Must\x20be\x20an\x20object.');for(const _0x234eb0 in _0x2aee8a){const _0x22c41d=_0x2aee8a[_0x234eb0];if(_0x731a5a(0x24f)!=typeof _0x22c41d||_0x22c41d instanceof Date){if(![_0x731a5a(0x488),_0x731a5a(0x822),_0x731a5a(0x863)][_0x731a5a(0x205)](typeof _0x22c41d))throw new _0x3f1f96(_0x429a2c[_0x731a5a(0x329)],_0x731a5a(0x74c)+_0x234eb0+_0x731a5a(0x7d2));}else this[_0x731a5a(0x2da)](_0x22c41d);}}}class _0x17d31d{[_0x2ad6ba(0x4e4)]=[];[_0x2ad6ba(0x2a2)]=0x0;[_0x2ad6ba(0x6dc)]=[];[_0x2ad6ba(0x35d)]=!0x1;[_0x2ad6ba(0x601)]=null;[_0x2ad6ba(0x90e)]=null;[_0x2ad6ba(0x34a)];['readyResolve']=null;[_0x2ad6ba(0x1f0)]=[];[_0x2ad6ba(0x5b2)];[_0x2ad6ba(0x5d3)]=Promise[_0x2ad6ba(0x92e)]();[_0x2ad6ba(0x275)]=0x0;constructor(){}get[_0x2ad6ba(0x717)](){const _0x5cac2e=_0x2ad6ba;return this[_0x5cac2e(0x5d3)];}async[_0x2ad6ba(0x9d8)](_0x33b545,_0x5a3a19=0x0){const _0xe2579f=_0x2ad6ba;this[_0xe2579f(0x67b)]||(this[_0xe2579f(0x5d3)]=new Promise(_0x16de0f=>{const _0xa4ea52=_0xe2579f;this[_0xa4ea52(0x67b)]=_0x16de0f;}),this[_0xe2579f(0x275)]=_0x5a3a19);const _0x22e46a=Date[_0xe2579f(0x9fc)]();if(this[_0xe2579f(0x35d)])return void this[_0xe2579f(0x6dc)][_0xe2579f(0x673)](_0x33b545);this[_0xe2579f(0x35d)]=!0x0;let _0x3196be={'hash':await this[_0xe2579f(0xa4c)](_0x33b545),'height':0x0};const _0x1a6af0=this['combinePeaks'](_0x3196be);this[_0xe2579f(0x1f0)][_0xe2579f(0x673)](_0x1a6af0),await _0x1a6af0,this[_0xe2579f(0x2a2)]+=0x1;const _0x562311=this['transactionQueue'][_0xe2579f(0x8e0)];for(;this[_0xe2579f(0x6dc)][_0xe2579f(0x8e0)]>0x0;){const _0x5f256e=this[_0xe2579f(0x6dc)]['shift']();await this[_0xe2579f(0x9d8)](_0x5f256e);}this[_0xe2579f(0x9b6)](),await this['ready'],this[_0xe2579f(0x533)](_0x22e46a,_0x562311);}async[_0x2ad6ba(0x5e7)](){const _0x1c576d=_0x2ad6ba;return await this[_0x1c576d(0x5d3)],this['isComputingMMR']?(this['rootComputationPromise']||(this[_0x1c576d(0x90e)]=this[_0x1c576d(0x26b)]()),await this[_0x1c576d(0x90e)]):this[_0x1c576d(0x601)];}[_0x2ad6ba(0x939)](){const _0x2787f2=_0x2ad6ba;return this[_0x2787f2(0x4e4)]['map'](({hash:_0x4adaa1,height:_0x513132})=>({'hash':_0x4adaa1,'height':_0x513132}));}[_0x2ad6ba(0x19e)](){const _0x420ae8=_0x2ad6ba;return this[_0x420ae8(0x2a2)];}[_0x2ad6ba(0x483)](_0x2a184d){const _0x669f46=_0x2ad6ba;return this['peaks'][_0x669f46(0x2e0)](_0x530351=>_0x530351[_0x669f46(0x529)]===_0x2a184d);}async[_0x2ad6ba(0x787)](_0x3bf502,_0x4eba6e){const _0x432e37=_0x2ad6ba;return await this[_0x432e37(0x6e3)](_0x3bf502+_0x4eba6e);}async[_0x2ad6ba(0xa4c)](_0x33b9c0){const _0x1fd84c=_0x2ad6ba;return await this[_0x1fd84c(0x6e3)](JSON['stringify'](_0x33b9c0));}[_0x2ad6ba(0x264)](_0x173759){const _0x274637=_0x2ad6ba,_0x42093b=this[_0x274637(0x939)](),_0x5cb900=[],_0x4cc9b3=[],_0x3a3ca5=[];for(const _0x496d13 of _0x42093b){const _0x3e558a=_0x173759[_0x274637(0x2e0)](_0x1fd852=>_0x1fd852['height']===_0x496d13[_0x274637(0x529)]);_0x3e558a?_0x496d13['hash']!==_0x3e558a['hash']&&_0x5cb900[_0x274637(0x673)]({'height':_0x496d13['height'],'localPeak':_0x496d13,'remotePeak':_0x3e558a}):_0x4cc9b3['push'](_0x496d13);}for(const _0x10a131 of _0x173759)_0x42093b[_0x274637(0x2e0)](_0xcfe266=>_0xcfe266[_0x274637(0x529)]===_0x10a131['height'])||_0x3a3ca5[_0x274637(0x673)](_0x10a131);return{'differingPeaks':_0x5cb900,'peaksMissingInRemote':_0x4cc9b3,'peaksMissingInLocal':_0x3a3ca5};}async[_0x2ad6ba(0x26b)](){const _0x2baf0a=_0x2ad6ba;this[_0x2baf0a(0x35d)]=!0x0;const _0x1500d4=this['peaks'][_0x2baf0a(0x607)](_0x137362=>_0x137362['hash']);return this[_0x2baf0a(0x601)]=await this[_0x2baf0a(0x658)](_0x1500d4),this[_0x2baf0a(0x35d)]=!0x1,this['rootComputationPromise']=null,this[_0x2baf0a(0x9b6)](),this[_0x2baf0a(0x601)];}async[_0x2ad6ba(0x6e3)](_0x326721){const _0x1ebdd2=_0x2ad6ba;try{const _0x5bb597=new TextEncoder()['encode'](_0x326721),_0x32fc58=await crypto[_0x1ebdd2(0x29e)][_0x1ebdd2(0x4c0)](_0x1ebdd2(0x524),_0x5bb597);return Array['from'](new Uint8Array(_0x32fc58))[_0x1ebdd2(0x607)](_0x136eb6=>_0x136eb6[_0x1ebdd2(0x8d9)](0x10)['padStart'](0x2,'0'))[_0x1ebdd2(0x3a2)]('');}catch(_0x329a69){return console[_0x1ebdd2(0x60c)](_0x1ebdd2(0x932),_0x329a69),this[_0x1ebdd2(0x6e3)](_0x326721);}}async[_0x2ad6ba(0x658)](_0xe5fc07){const _0x266569=_0x2ad6ba;return await this[_0x266569(0x6e3)](_0xe5fc07[_0x266569(0x3a2)](''));}async['combinePeaks'](_0x5b2299){const _0x31df0a=_0x2ad6ba;for(;this[_0x31df0a(0x4e4)][_0x31df0a(0x8e0)]>0x0&&this[_0x31df0a(0x4e4)][this[_0x31df0a(0x4e4)]['length']-0x1][_0x31df0a(0x529)]===_0x5b2299[_0x31df0a(0x529)];){const _0xe18ddc=this['peaks'][_0x31df0a(0x281)]();_0x5b2299={'hash':await this[_0x31df0a(0x787)](_0xe18ddc[_0x31df0a(0x9f9)],_0x5b2299[_0x31df0a(0x9f9)]),'left':_0xe18ddc,'right':_0x5b2299,'height':_0x5b2299[_0x31df0a(0x529)]+0x1};}this[_0x31df0a(0x4e4)][_0x31df0a(0x673)](_0x5b2299),await this[_0x31df0a(0x26b)]();}[_0x2ad6ba(0x533)](_0x3b1df5,_0xc59f17){const _0x132092=_0x2ad6ba;if(!_0xe8f382[_0x132092(0xa32)](_0x1b63ac['KeyValueDatabase']))return;this[_0x132092(0x34a)]&&clearTimeout(this['debounceLogTimeout']);const _0x4bc566=Date[_0x132092(0x9fc)]();this[_0x132092(0x34a)]=setTimeout(()=>_0xe8f382['log'](_0x1b63ac[_0x132092(0x924)],_0x132092(0xa4f),this[_0x132092(0x601)],'nodes',this[_0x132092(0x19e)](),_0x132092(0x66c),_0xc59f17,_0x132092(0x7e2),_0x4bc566-_0x3b1df5),0x7d0);}[_0x2ad6ba(0x9b6)](){const _0x1f7529=_0x2ad6ba;this[_0x1f7529(0x5b2)]&&clearTimeout(this['debounceReadyTimeout']),this[_0x1f7529(0x5b2)]=setTimeout(async()=>{const _0x34ebaf=_0x1f7529;try{const _0x27bc66=this[_0x34ebaf(0x1f0)];if(this[_0x34ebaf(0x1f0)]=[],await Promise[_0x34ebaf(0x8f8)](_0x27bc66),this[_0x34ebaf(0x275)]-=_0x27bc66['length'],this[_0x34ebaf(0x1f0)]['length']>0x0||this[_0x34ebaf(0x275)]>0x0)return this['debounceReady']();this[_0x34ebaf(0x67b)]&&(this[_0x34ebaf(0x67b)](),this['readyResolve']=null),this[_0x34ebaf(0x5d3)]=Promise[_0x34ebaf(0x92e)](),this[_0x34ebaf(0x35d)]=!0x1;}catch(_0x2cf9a2){console['error'](_0x34ebaf(0x1d5),_0x2cf9a2);}},0xa);}}const _0x5201c0=[_0x2ad6ba(0x746),'Node',_0x2ad6ba(0x670),'Subscription',_0x2ad6ba(0xa47),'Detection',_0x2ad6ba(0x6f1)],_0x285bb3=[[_0x2ad6ba(0x3fa),'Answer',_0x2ad6ba(0x647),_0x2ad6ba(0x896),_0x2ad6ba(0x298),'Restart',_0x2ad6ba(0x211),_0x2ad6ba(0xa47),_0x2ad6ba(0x4c4)],[_0x2ad6ba(0x7fd),_0x2ad6ba(0x498),_0x2ad6ba(0x89a),'NodeLeave'],[_0x2ad6ba(0x8cf),'CloseJobDispatcher','CloseJobWorker',_0x2ad6ba(0x9dd),_0x2ad6ba(0x21f),_0x2ad6ba(0x570),_0x2ad6ba(0x2d7),_0x2ad6ba(0x891),_0x2ad6ba(0x6c1),_0x2ad6ba(0x513),_0x2ad6ba(0x77d),_0x2ad6ba(0x2f4),_0x2ad6ba(0xa20),_0x2ad6ba(0xa45),_0x2ad6ba(0x56f),_0x2ad6ba(0x405),'KeyValueDatabaseRequestTransactionsValue','KeyValueDatabaseSendTransactions',_0x2ad6ba(0xa38),_0x2ad6ba(0x2ec),_0x2ad6ba(0x61b),'ObjectStoreStats',_0x2ad6ba(0x836),_0x2ad6ba(0x474),_0x2ad6ba(0x930),_0x2ad6ba(0x8d3),_0x2ad6ba(0x631),_0x2ad6ba(0x978),'UpdateMediaStream',_0x2ad6ba(0x23d)],[_0x2ad6ba(0x8d3),_0x2ad6ba(0x404),'UnsubscribeMediaStreamdiaStream',_0x2ad6ba(0x272),_0x2ad6ba(0x7b7),_0x2ad6ba(0x786)],[_0x2ad6ba(0xa8f),_0x2ad6ba(0x8c9)],['Problem'],['Remediation','RemoteRemediation']];function _0x302423(_0x22eb13){const _0x5c38fd=_0x2ad6ba;return{..._0x22eb13,'systemMessageType':_0x5201c0[_0x22eb13['messageType']],'systemContentMessageType':_0x285bb3[_0x22eb13[_0x5c38fd(0x7d8)]][_0x22eb13[_0x5c38fd(0x257)][_0x5c38fd(0x285)]]};}const _0x2d9586={'hour':_0x2ad6ba(0xa25),'minute':_0x2ad6ba(0xa25),'second':_0x2ad6ba(0xa25)};function _0x4de56b(_0x47b0a0,_0x4ac3d8){const _0x208a6a=_0x2ad6ba,_0x537260=(function(){const _0x1782bf=a0_0x119e,_0x2fd93d=new Date(),_0x370cde=_0x2fd93d[_0x1782bf(0x84e)](),_0x3b4776=_0x2fd93d[_0x1782bf(0x7a1)](_0x1782bf(0x69e),_0x2d9586)[_0x1782bf(0x36a)](/\d\d:\d\d:\d\d/)?.[0x0];return _0x3b4776+'.'+(_0x370cde>0x64?''+_0x370cde:_0x370cde>0xa?'0'+_0x370cde:'00'+_0x370cde);}()),{sourceId:_0x5a2222,destinationIds:_0x29cec2,systemMessageType:_0x7a0ab9,systemContentMessageType:_0x165af8}=_0x302423(_0x47b0a0);return _0x537260+'\x20-\x20'+_0x4ac3d8+_0x208a6a(0xa0b)+(_0x5a2222===_0x4ac3d8?_0x208a6a(0x7a4)+_0x7a0ab9+_0x208a6a(0x512)+(_0x29cec2?''+_0x29cec2:_0x208a6a(0x32b)):_0x47b0a0[_0x208a6a(0xa59)]===_0x124816?_0x208a6a(0x599)+_0x7a0ab9+'\x27':(_0x29cec2?'':_0x208a6a(0x44e))+_0x208a6a(0x859)+_0x7a0ab9+_0x208a6a(0x5fb)+_0x5a2222)+'\x20with\x20\x27'+_0x165af8+_0x208a6a(0x643);}function _0x41e4d2(_0x16e77c,_0x305a2c){const _0x49732f=_0x2ad6ba;if(!_0xe8f382[_0x49732f(0xa32)](_0x16e77c))return;if(_0x582331[_0x49732f(0x521)])return;if('undefined'==typeof process)return;const _0x22d6ed=process[_0x49732f(0x74b)]();console[_0x49732f(0xa40)]('Memory\x20Usage\x20at\x20'+_0x305a2c+':');for(const _0x5d6c77 in _0x22d6ed)console[_0x49732f(0xa40)]('\x20\x20'+_0x5d6c77+':\x20'+(_0x22d6ed[_0x5d6c77]/0x400/0x400)[_0x49732f(0x733)](0x2)+_0x49732f(0x83e));}function _0x59f28c(_0x11ca49,_0x2cabe3){const _0x58ca56=_0x2ad6ba;if(!_0xe8f382[_0x58ca56(0xa32)](_0x2cabe3))return _0xe8f382['debug'](_0x58ca56(0x793)+_0x2cabe3),{'timingLogger':{'start':()=>{},'now':()=>0x0,'logWaitTime':()=>{}},'logger':{'log':()=>{},'performCalculation':(_0x2a0a54,_0x5ab1c6)=>_0x5ab1c6}};let _0x2c27dd=0x0;return{'timingLogger':((()=>{const _0x1227ad=_0x58ca56;let _0x50414a=Date[_0x1227ad(0x9fc)]();return{'start':()=>{const _0x3bd06c=_0x1227ad;_0x50414a=Date[_0x3bd06c(0x9fc)]();},'now':()=>Date[_0x1227ad(0x9fc)](),'logWaitTime':_0xf2dc02=>{const _0x256d96=_0x1227ad;_0x2c27dd+=Date[_0x256d96(0x9fc)]()-_0x50414a,_0xe8f382[_0x256d96(0xa40)](_0x2cabe3,_0xf2dc02,_0x2c27dd+'ms',_0x11ca49);}};})()),'logger':{'log':(_0x1fd9dc,_0x48d08b=()=>{})=>{const _0x532388=_0x58ca56,_0x5e91db=_0x48d08b();_0x5e91db?_0xe8f382[_0x532388(0xa40)](_0x2cabe3,_0x1fd9dc,_0x5e91db,_0x11ca49):_0xe8f382[_0x532388(0xa40)](_0x2cabe3,_0x1fd9dc,_0x11ca49);},'performCalculation':(_0x120952,_0x4f7c3b)=>_0x120952()}};}function _0x3d300a(_0x57f179){const _0x4ce351=_0x2ad6ba;return _0x4ce351(0x887)==typeof Buffer?0x0:Buffer['byteLength'](JSON[_0x4ce351(0x6a9)](_0x57f179),_0x4ce351(0x3c8));}function _0x44ba23(_0x2e611c){const _0x461776=_0x2ad6ba;if(0x0===_0x2e611c)return _0x461776(0x1de);const _0x7e65d4=Math[_0x461776(0xa7f)](Math[_0x461776(0xa40)](_0x2e611c)/Math[_0x461776(0xa40)](0x400));return parseFloat((_0x2e611c/Math[_0x461776(0x1da)](0x400,_0x7e65d4))[_0x461776(0x733)](0x2))+'\x20'+['B','KB','MB','GB','TB'][_0x7e65d4];}class _0x3cd211 extends _0x3cbe57{[_0x2ad6ba(0x6e0)];[_0x2ad6ba(0x58c)];[_0x2ad6ba(0x8e1)];['isNodeReady'];['db'];[_0x2ad6ba(0x967)];[_0x2ad6ba(0x3bf)]=new Map();[_0x2ad6ba(0xa27)];[_0x2ad6ba(0x853)];['tableUnsubscriber'];[_0x2ad6ba(0x2cd)];[_0x2ad6ba(0x587)];[_0x2ad6ba(0x3c1)]=[];[_0x2ad6ba(0x9d9)]=()=>{};[_0x2ad6ba(0x57a)];[_0x2ad6ba(0xa8d)]=_0x331eb8();[_0x2ad6ba(0x3a1)];[_0x2ad6ba(0x46e)]=[];[_0x2ad6ba(0x191)];[_0x2ad6ba(0xa97)];['writes']=0x0;[_0x2ad6ba(0x8c1)]=0x0;[_0x2ad6ba(0x63e)]=!0x1;['mmr']=new _0x17d31d();['transactionHashMap']=new Map();['transactions']=[];['debounceRebuildMMR'];[_0x2ad6ba(0x1d4)]=[];[_0x2ad6ba(0x572)];constructor(_0x1051ed,_0x3cfa5,_0x551c0f,_0x5c5137,_0xa358f2,_0x4928a9,_0x3c77c4){const _0xfad691=_0x2ad6ba;if(_0xfad691(0x488)!=typeof _0x3cfa5)throw new _0x3f1f96(_0x429a2c['KeyValueDatabaseNameNotString'],'Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string');if(super(_0x1051ed,_0x3cfa5),this[_0xfad691(0x6e0)]=_0x1051ed,this[_0xfad691(0x58c)]=_0x551c0f,this['vendorId']=_0x5c5137,this[_0xfad691(0x2bb)]=_0x3c77c4,this[_0xfad691(0x967)]=_0xfad691(0x5c8)+this[_0xfad691(0x8e1)]+'ccc'+this[_0xfad691(0x58c)]+_0xfad691(0x5c8)+this['label'],this[_0xfad691(0xa27)]=_0x331eb8(),this[_0xfad691(0x572)]=function(_0x3e72d6,_0x733474){const _0x3d4b69=_0xfad691;if(!_0xe8f382[_0x3d4b69(0xa32)](_0x733474))return _0xe8f382[_0x3d4b69(0xa53)]('Logging\x20not\x20enabled\x20for\x20channel\x20'+_0x733474),{..._0x59f28c(_0x3e72d6,_0x733474),'logDataSent':()=>0x0,'logDataReceived':()=>0x0,'getDataLogged':()=>({'dataSent':_0x3d4b69(0x1de),'dataReceived':'0\x20B'})};const {timingLogger:_0x93232,logger:_0x4e9125}=_0x59f28c(_0x3e72d6,_0x733474);let _0x4a79e5=0x0,_0xe36f0e=0x0;return{'timingLogger':_0x93232,'logger':_0x4e9125,'logDataSent':(_0x14593b,_0x243b1e=!0x1)=>{const _0x566ad3=_0x3d4b69,_0x530e36=_0x3d300a(_0x14593b);return _0x243b1e&&_0xe8f382['log'](_0x733474,_0x566ad3(0x8dc),_0x3e72d6,_0x530e36),_0x4a79e5+=_0x530e36,_0x530e36;},'logDataReceived':(_0x18f6a2,_0x1c332b=!0x1)=>{const _0x42e234=_0x3d4b69,_0x2c8b1d=_0x3d300a(_0x18f6a2);return _0x1c332b&&_0xe8f382['log'](_0x733474,_0x42e234(0x1fc),_0x3e72d6,_0x2c8b1d),_0xe36f0e+=_0x2c8b1d,_0x2c8b1d;},'getDataLogged':()=>({'dataSent':_0x44ba23(_0x4a79e5),'dataReceived':_0x44ba23(_0xe36f0e)})};}(this[_0xfad691(0x19d)],_0x1b63ac[_0xfad691(0x924)]),this[_0xfad691(0x2cd)]=new Promise(_0x2820ae=>{const _0x3b2cba=_0xfad691;this[_0x3b2cba(0x587)]=_0x2820ae;}),_0xa358f2 instanceof _0x198559)this[_0xfad691(0x191)]=_0xa358f2['getLayout']();else{const [_0x18d845,_0x5cf950]=_0x198559[_0xfad691(0x790)](_0xa358f2);if(!_0x18d845)throw new _0x3f1f96(_0x429a2c[_0xfad691(0xa7e)],_0xfad691(0x8e3)+_0x5cf950);this[_0xfad691(0x191)]=structuredClone(_0xa358f2);}this[_0xfad691(0x679)](this[_0xfad691(0x191)]),this['db']=new _0x4928a9(this[_0xfad691(0x967)],this[_0xfad691(0x191)]),this[_0xfad691(0x7cb)]();}async[_0x2ad6ba(0x306)](_0x4a5043,_0x9b507f){const _0x1e88e7=_0x2ad6ba;if(_0xe8f382[_0x1e88e7(0xa40)](_0x1b63ac[_0x1e88e7(0x924)],_0x1e88e7(0x263),this['label']),!this[_0x1e88e7(0x853)])throw new _0x31ec66(_0x31ec66[_0x1e88e7(0x4b6)]['KeyValueDatabaseTransactionTableNotInitialized']);if(await this[_0x1e88e7(0x2cd)],await this['isNodeReady'](_0x4a5043),await this[_0x1e88e7(0x445)][_0x1e88e7(0x5e7)]()===_0x9b507f){const _0x4141e2={'sourceId':this[_0x1e88e7(0x6e0)]['getId'](),'destinationIds':[_0x4a5043],'propagate':!0x0,'messageType':_0x5f120e[_0x1e88e7(0x670)],'content':{'type':_0x5d0a4b[_0x1e88e7(0x56f)],'label':this[_0x1e88e7(0x19d)],'mmrRoot':_0x9b507f}};return this[_0x1e88e7(0x572)][_0x1e88e7(0x4f3)](_0x4141e2),void this[_0x1e88e7(0x5a2)][_0x1e88e7(0x29d)](_0x4141e2);}const _0x218858=this[_0x1e88e7(0x445)][_0x1e88e7(0x939)](),_0x8ed536={'sourceId':this[_0x1e88e7(0x6e0)][_0x1e88e7(0x362)](),'destinationIds':[_0x4a5043],'propagate':!0x0,'messageType':_0x5f120e[_0x1e88e7(0x670)],'content':{'type':_0x5d0a4b[_0x1e88e7(0xa45)],'label':this[_0x1e88e7(0x19d)],'peaks':_0x218858}};this[_0x1e88e7(0x572)][_0x1e88e7(0x4f3)](_0x8ed536),this[_0x1e88e7(0x5a2)][_0x1e88e7(0x29d)](_0x8ed536);}async[_0x2ad6ba(0x88e)](_0x5d1dbb,_0x967f0d){const _0x5af5b5=_0x2ad6ba,_0xa5cdee=await this[_0x5af5b5(0x445)][_0x5af5b5(0x5e7)](),_0x2e25f5=_0xa5cdee===_0x967f0d;if(_0xe8f382['log'](_0x1b63ac[_0x5af5b5(0x924)],_0x5af5b5(0x9f6)+_0x5d1dbb+'.\x20Confirmation?\x20'+_0x2e25f5,this[_0x5af5b5(0x19d)]),_0x2e25f5)return this[_0x5af5b5(0x51c)](),void this[_0x5af5b5(0x5b5)]();_0xe8f382[_0x5af5b5(0xa40)](_0x1b63ac['KeyValueDatabase'],_0x5af5b5(0x7d7),_0xa5cdee,_0x967f0d),_0xe8f382[_0x5af5b5(0x4a2)](_0x5af5b5(0x7d7),{'nodeId':this[_0x5af5b5(0x6e0)][_0x5af5b5(0x362)](),'nodeType':this[_0x5af5b5(0x6e0)][_0x5af5b5(0x285)],'remoteId':_0x5d1dbb,'data':{'localMMRRoot':_0xa5cdee,'remoteMMRRoot':_0x967f0d}});const _0x253192={'sourceId':this[_0x5af5b5(0x6e0)][_0x5af5b5(0x362)](),'messageType':_0x5f120e[_0x5af5b5(0x670)],'propagate':!0x0,'content':{'type':_0x5d0a4b[_0x5af5b5(0x2ec)],'label':this[_0x5af5b5(0x19d)],'mmrRoot':_0xa5cdee}};this[_0x5af5b5(0x5a2)][_0x5af5b5(0x29d)](_0x253192);}async[_0x2ad6ba(0x936)](_0x193b3a,_0x341941){const _0x4cc912=_0x2ad6ba;if(_0xe8f382['log'](_0x1b63ac[_0x4cc912(0x924)],_0x4cc912(0x48e),_0x193b3a,'label',this[_0x4cc912(0x19d)],_0x4cc912(0x4e4),_0x341941),this[_0x4cc912(0x63e)])return;this[_0x4cc912(0x63e)]=!0x0,this[_0x4cc912(0x51c)]();const {differingPeaks:_0x3970f4,peaksMissingInLocal:_0x49e4dc,peaksMissingInRemote:_0xdb1454}=this[_0x4cc912(0x445)][_0x4cc912(0x264)](_0x341941);_0xe8f382[_0x4cc912(0xa40)](_0x1b63ac[_0x4cc912(0x924)],_0x4cc912(0x32a),{'differingPeaks':_0x3970f4,'peaksMissingInLocal':_0x49e4dc,'peaksMissingInRemote':_0xdb1454});const _0x273051={'sourceId':this[_0x4cc912(0x6e0)][_0x4cc912(0x362)](),'destinationIds':[_0x193b3a],'propagate':!0x0,'messageType':_0x5f120e[_0x4cc912(0x670)],'content':{'type':_0x5d0a4b[_0x4cc912(0x405)],'label':this[_0x4cc912(0x19d)],'peakHeights':_0x49e4dc[_0x4cc912(0x607)](_0x1eb957=>_0x1eb957[_0x4cc912(0x529)])['concat'](_0x3970f4[_0x4cc912(0x607)](_0x3ea6b8=>_0x3ea6b8[_0x4cc912(0x529)]))}};if(this['systemTopic'][_0x4cc912(0x29d)](_0x273051),_0x3970f4[_0x4cc912(0x8e0)]>0x0||_0xdb1454[_0x4cc912(0x8e0)]>0x0){const _0x4a7e5a=_0xdb1454[_0x4cc912(0x607)](_0x4f2802=>_0x4f2802[_0x4cc912(0x529)])[_0x4cc912(0x992)](_0x3970f4['map'](_0x2f08ce=>_0x2f08ce[_0x4cc912(0x529)]));await this[_0x4cc912(0xaa9)](_0x193b3a,_0x4a7e5a,!0x0);}}async[_0x2ad6ba(0xaa9)](_0xd99653,_0xffe2c3,_0x2b612f=!0x1){const _0x359fa3=_0x2ad6ba;_0xe8f382[_0x359fa3(0xa40)](_0x1b63ac[_0x359fa3(0x924)],_0x359fa3(0x4ac),this[_0x359fa3(0x19d)]);const _0x495988=_0xffe2c3[_0x359fa3(0x607)](_0x3da655=>this[_0x359fa3(0x445)][_0x359fa3(0x483)](_0x3da655))[_0x359fa3(0x1bc)](Boolean);if(!_0x495988['length']||_0xffe2c3['length']!==_0x495988[_0x359fa3(0x8e0)])throw new _0x31ec66(_0x31ec66[_0x359fa3(0x4b6)][_0x359fa3(0x543)],{'message':'Peaks\x20requested\x20were\x20not\x20found\x20in\x20local\x20MMR','peakHeights':_0xffe2c3,'peaks':_0x495988['map'](_0x251dcd=>_0x251dcd['height']),'nodeId':_0xd99653});const _0x58bf33=[];for(const _0x46c8ca of _0x495988)this[_0x359fa3(0xa08)](_0x46c8ca,_0x58bf33);const _0x36e336=_0x2b612f?void 0x0:[_0xd99653],_0x5e4828={'sourceId':this['localNode'][_0x359fa3(0x362)](),'destinationIds':_0x36e336,'messageType':_0x5f120e[_0x359fa3(0x670)],'propagate':!0x0,'content':{'type':_0x5d0a4b[_0x359fa3(0x221)],'label':this[_0x359fa3(0x19d)],'transactions':_0x58bf33}};this[_0x359fa3(0x572)][_0x359fa3(0x4f3)](_0x5e4828),this[_0x359fa3(0x5a2)]['publish'](_0x5e4828);}async[_0x2ad6ba(0xa9f)](_0x5e9e1b,_0x2f6f1e){const _0x20e3f1=_0x2ad6ba;_0xe8f382['log'](_0x1b63ac[_0x20e3f1(0x924)],_0x20e3f1(0x76b)+_0x2f6f1e['length']+'\x20transactions\x20from\x20node\x20'+_0x5e9e1b+'\x20-\x20'+this[_0x20e3f1(0x19d)]);for(const _0x391320 of _0x2f6f1e){const _0x429054=await this[_0x20e3f1(0x853)][_0x20e3f1(0x736)](_0x391320['id']);if(!(_0x429054&&this[_0x20e3f1(0x8cc)](_0x429054,_0x391320)>=0x0)){if(_0x391320[_0x20e3f1(0x3c9)]===_0x40d910['Delete']){const [_0x29ad27,_0x17c860]=_0x391320['id'][_0x20e3f1(0x1c9)]('::'),_0x3849aa=this['getTable'](_0x29ad27);await _0x3849aa[_0x20e3f1(0xa12)](_0x17c860);}else this[_0x20e3f1(0x3c1)][_0x20e3f1(0x673)](_0x391320['id']);}}if(_0xe8f382[_0x20e3f1(0xa40)](_0x1b63ac['KeyValueDatabase'],_0x20e3f1(0xa71)+this[_0x20e3f1(0x3c1)]['length']+_0x20e3f1(0x2d8),this['label']),this['transactionsToSync'][_0x20e3f1(0x8e0)]>0x0){const _0x4cd48c={'sourceId':this['localNode'][_0x20e3f1(0x362)](),'destinationIds':[_0x5e9e1b],'messageType':_0x5f120e[_0x20e3f1(0x670)],'propagate':!0x0,'content':{'type':_0x5d0a4b[_0x20e3f1(0x9b4)],'label':this[_0x20e3f1(0x19d)],'transactionIds':this[_0x20e3f1(0x3c1)]}};this[_0x20e3f1(0x572)]['logDataSent'](_0x4cd48c),this[_0x20e3f1(0x5a2)][_0x20e3f1(0x29d)](_0x4cd48c);}}[_0x2ad6ba(0x536)](){const _0x53b6cc=_0x2ad6ba;this[_0x53b6cc(0x7cb)]();}[_0x2ad6ba(0x30c)](){const _0x3d6b69=_0x2ad6ba;return _0x406df3[_0x3d6b69(0x525)][_0x3d6b69(0x924)];}[_0x2ad6ba(0x4aa)](){const _0x47335c=_0x2ad6ba;this['db'][_0x47335c(0x27c)](),this[_0x47335c(0x2ac)]?.(),clearTimeout(this['debounceStats']),delete this[_0x47335c(0xa97)],super['destroy']();}['close'](){const _0x1e2bb3=_0x2ad6ba;this[_0x1e2bb3(0x51c)](),this[_0x1e2bb3(0x5a2)][_0x1e2bb3(0x29d)]({'sourceId':_0x124816,'messageType':_0x5f120e['Content'],'content':{'type':_0x5d0a4b[_0x1e2bb3(0x21f)],'label':this[_0x1e2bb3(0x19d)]}});}[_0x2ad6ba(0x3ff)](_0x172858){const _0x3e2d44=_0x2ad6ba,_0x5b95dd=this[_0x3e2d44(0x3bf)][_0x3e2d44(0x736)](_0x172858);if(_0x5b95dd)return _0x5b95dd;try{if(!this['db'][_0x3e2d44(0x6a2)](_0x172858))throw new _0x3f1f96(_0x429a2c['KeyValueDatabaseTableNotFound'],_0x3e2d44(0x999));const _0x1f124c=new _0x101102(this['db'][_0x3e2d44(0x57f)](_0x172858),_0x172858,this[_0x3e2d44(0xa27)]);return this[_0x3e2d44(0x3bf)]['set'](_0x172858,_0x1f124c),{'get':_0x1f124c[_0x3e2d44(0x736)][_0x3e2d44(0xa0a)](_0x1f124c),'set':_0x1f124c[_0x3e2d44(0x50f)][_0x3e2d44(0xa0a)](_0x1f124c),'add':_0x1f124c[_0x3e2d44(0x424)]['bind'](_0x1f124c),'delete':_0x1f124c[_0x3e2d44(0xa12)][_0x3e2d44(0xa0a)](_0x1f124c),'clear':_0x1f124c[_0x3e2d44(0xa82)]['bind'](_0x1f124c),'list':_0x1f124c[_0x3e2d44(0xa73)]['bind'](_0x1f124c),'count':_0x1f124c['count'][_0x3e2d44(0xa0a)](_0x1f124c),'subscribe':_0x1f124c[_0x3e2d44(0x208)]['bind'](_0x1f124c),'unsubscribe':_0x1f124c[_0x3e2d44(0x99f)][_0x3e2d44(0xa0a)](_0x1f124c)};}catch(_0x3d6a38){if(_0x3d6a38 instanceof _0x3f1f96)throw _0x3d6a38;throw new _0x3f1f96(_0x429a2c[_0x3e2d44(0xab7)],_0x3e2d44(0x772));}}['subscribe'](_0x55a7b9){const _0x2d8f5e=_0x2ad6ba;this[_0x2d8f5e(0x3a1)]=this['eventListener'][_0x2d8f5e(0x208)](_0x55a7b9),this[_0x2d8f5e(0x4c8)](this[_0x2d8f5e(0x2cd)])[_0x2d8f5e(0x59c)](_0x3a609c=>{const _0x4ba68a=_0x2d8f5e;_0x3a609c&&this[_0x4ba68a(0xa8d)][_0x4ba68a(0x29d)]({'event':_0x406df3[_0x4ba68a(0xa00)][_0x4ba68a(0x9b1)]});});}[_0x2ad6ba(0x99f)](){const _0x4f3d47=_0x2ad6ba;this[_0x4f3d47(0x3a1)]?.(),this['listenerUnsubscriber']=void 0x0;}async[_0x2ad6ba(0xa60)](){const _0x38b3c8=_0x2ad6ba;_0x41e4d2(_0x1b63ac[_0x38b3c8(0x924)],_0x38b3c8(0x8ca));const _0x2b7fe0=[_0x4649d8,_0x2ad241],_0x4dc27b=[];try{await this['db']['open']();const _0x47bb28=this['db'][_0x38b3c8(0x57f)](_0x2ad241),_0xcd71e1=await _0x47bb28[_0x38b3c8(0xa73)](),{id:_0x4e4706,layout:_0x4c9b21}=_0xcd71e1[0x0]??{};if(_0x4c9b21){for(const _0x11edbd in _0x4c9b21)_0x2b7fe0[_0x38b3c8(0x205)](_0x11edbd)||this['db']['hasTable'](_0x11edbd)||_0x4dc27b[_0x38b3c8(0x673)](_0x11edbd);await _0x47bb28[_0x38b3c8(0x50f)](_0x4e4706,{'layout':this[_0x38b3c8(0x191)]});}else await _0x47bb28[_0x38b3c8(0x424)]({'layout':this[_0x38b3c8(0x191)]});}catch(_0x567d12){throw new _0x3f1f96(_0x429a2c['KeyValueDatabaseNotOpen'],_0x567d12[_0x38b3c8(0xa5a)]||_0x38b3c8(0xa78));}this[_0x38b3c8(0x331)](),await this[_0x38b3c8(0xaa4)](),this[_0x38b3c8(0x8c3)](),this[_0x38b3c8(0x9e2)](),_0x4dc27b[_0x38b3c8(0x9a0)](_0x43dc17=>this['deleteTransactionsForTable'](_0x43dc17));}async[_0x2ad6ba(0x628)](_0x5c3cdb,_0x278227=()=>{},_0x29aec5=!0x1){const _0x47b605=_0x2ad6ba;if(!_0x5c3cdb)return setTimeout(()=>{this['clearSyncTimeout'](),this['publishSyncCompleted']();},0x0),!0x0;if(this[_0x47b605(0x63e)]=!0x1,this[_0x47b605(0x9d9)]=_0x278227,this[_0x47b605(0x57a)]=setTimeout(_0x278227,0x7d0),!this['systemTopic'])throw new _0x31ec66(_0x31ec66[_0x47b605(0x4b6)][_0x47b605(0x2fc)]);const _0x527d63=await this[_0x47b605(0x445)][_0x47b605(0x5e7)](),_0x131732={'sourceId':this[_0x47b605(0x6e0)][_0x47b605(0x362)](),'messageType':_0x5f120e[_0x47b605(0x670)],'propagate':_0x29aec5,'content':{'type':_0x5d0a4b[_0x47b605(0x2ec)],'label':this['label'],'mmrRoot':_0x527d63}};return this[_0x47b605(0x572)][_0x47b605(0x4f3)](_0x131732),this['systemTopic'][_0x47b605(0x29d)](_0x131732),this['isSync'];}async[_0x2ad6ba(0x766)](_0x376ea7,_0x596df2){const _0x3f9587=_0x2ad6ba;if(_0xe8f382[_0x3f9587(0xa40)](_0x1b63ac['KeyValueDatabase'],_0x3f9587(0x3b6)+_0x596df2[_0x3f9587(0x8e0)],this[_0x3f9587(0x19d)]),!this[_0x3f9587(0x853)])throw new _0x31ec66(_0x31ec66['codes'][_0x3f9587(0x4b4)]);for(const _0x154228 of _0x596df2){const _0x188004=await this['transactionTable'][_0x3f9587(0x736)](_0x154228);if(!_0x188004)continue;const [_0x3172b9,_0x4edf9a]=_0x154228[_0x3f9587(0x1c9)]('::'),_0x429ee1=this[_0x3f9587(0x3ff)](_0x3172b9),_0x4d0e33=await _0x429ee1[_0x3f9587(0x736)](_0x4edf9a);_0x4d0e33?(_0x188004[_0x3f9587(0x393)]=_0x4d0e33,this[_0x3f9587(0x9d3)](_0x188004,[_0x376ea7])):_0xe8f382[_0x3f9587(0x4a2)](_0x3f9587(0x59b),{'nodeId':this[_0x3f9587(0x6e0)][_0x3f9587(0x362)](),'nodeType':this['localNode'][_0x3f9587(0x285)],'remoteId':_0x376ea7,'data':{'tableKeys':Object['keys'](this['tables']),'transactionId':_0x154228,'transactions':this[_0x3f9587(0x3c1)],'tableName':_0x3172b9,'key':_0x4edf9a}});}}async['writeTransaction'](_0x5f47d7){const _0x37d80c=_0x2ad6ba;if(!this['transactionTable'])throw new _0x31ec66(_0x31ec66[_0x37d80c(0x4b6)][_0x37d80c(0x4b4)]);const _0x2c7880=await this[_0x37d80c(0x445)]['hashTransaction'](_0x5f47d7),_0x3c652f=this[_0x37d80c(0x92f)][_0x37d80c(0x736)](_0x2c7880);if(_0x3c652f&&this['compareTransactions'](_0x5f47d7,_0x3c652f)<=0x0)return void _0xe8f382[_0x37d80c(0xa40)](_0x1b63ac['KeyValueDatabase'],_0x37d80c(0x1a7),_0x5f47d7);const _0x48cf15={..._0x5f47d7};return delete _0x48cf15[_0x37d80c(0x393)],this['debounceRebuildMMRWithTransaction'](_0x48cf15),await this[_0x37d80c(0x853)]['set'](_0x5f47d7['id'],_0x48cf15),_0x5f47d7;}['compareTransactions'](_0x55b696,_0x21d8a5){const _0xde4e8a=_0x2ad6ba;return _0x55b696[_0xde4e8a(0x687)]!==_0x21d8a5[_0xde4e8a(0x687)]?_0x55b696[_0xde4e8a(0x687)]-_0x21d8a5[_0xde4e8a(0x687)]:_0x55b696[_0xde4e8a(0x539)]-_0x21d8a5[_0xde4e8a(0x539)];}async[_0x2ad6ba(0x666)](_0x270398){const _0x449694=_0x2ad6ba;if(!this[_0x449694(0x853)])throw new _0x31ec66(_0x31ec66[_0x449694(0x4b6)][_0x449694(0x4b4)]);const _0x569cff=_0x270398[_0x449694(0x2e9)]+'::'+_0x270398[_0x449694(0x2b3)],_0x3bcdc8=await _0x480677['getEstimatedTimestamp'](),_0x176918={'id':_0x569cff,'priority':Math['random'](),'timestamp':_0x3bcdc8,'action':_0x270398['action']};if(await this[_0x449694(0x5c4)](_0x176918))return _0x176918;}async['deleteTransactionsForTable'](_0x2519bd){const _0x3d113c=_0x2ad6ba;if(!this[_0x3d113c(0x853)])throw new _0x31ec66(_0x31ec66[_0x3d113c(0x4b6)]['KeyValueDatabaseTransactionTableNotInitialized']);const _0x676e98=_0x398813[_0x3d113c(0x807)]('id')[_0x3d113c(0x63d)](_0x3d113c(0x754),[_0x2519bd+'::',_0x2519bd+_0x3d113c(0x58b)]),_0x58cddb=await this[_0x3d113c(0x853)][_0x3d113c(0xa73)](_0x676e98['getQuery']());for(const _0x402ed5 of _0x58cddb)await this[_0x3d113c(0x853)]['delete'](_0x402ed5['id']);}['setOnMessageHandler'](){const _0x4d543e=_0x2ad6ba;this[_0x4d543e(0x435)](async(_0x78552b,_0x9d6701)=>{const _0x3a1449=_0x4d543e;if(_0x9d6701 instanceof File)return;if(this[_0x3a1449(0x572)][_0x3a1449(0x9cf)](_0x9d6701),!await this[_0x3a1449(0x5c4)](_0x9d6701))return void this[_0x3a1449(0x7c2)](_0x78552b,_0x9d6701);if(!_0x9d6701[_0x3a1449(0x393)])throw new _0x31ec66(_0x31ec66[_0x3a1449(0x4b6)][_0x3a1449(0x325)]);const [_0x5a450c,_0x2bcf9b]=_0x9d6701['id'][_0x3a1449(0x1c9)]('::'),_0x13a6c7=this['getTable'](_0x5a450c);if(!_0x13a6c7)throw new _0x31ec66(_0x31ec66['codes']['KeyValueDatabaseTableDoesNotExist'],{'table':_0x13a6c7});let _0x43925b=0x0;switch(_0x9d6701[_0x3a1449(0x3c9)]){case _0x40d910[_0x3a1449(0x45e)]:case _0x40d910[_0x3a1449(0x269)]:{const _0x9138d3=_0x13a6c7['set'](_0x2bcf9b,_0x9d6701[_0x3a1449(0x393)],!0x1);_0x43925b=JSON[_0x3a1449(0x6a9)](_0x9d6701[_0x3a1449(0x393)])['length'],this[_0x3a1449(0x3c1)][_0x3a1449(0x205)](_0x9d6701['id'])&&this[_0x3a1449(0x46e)]['push'](_0x9138d3);break;}case _0x40d910['Delete']:{const _0x29a30d=_0x13a6c7[_0x3a1449(0xa12)](_0x2bcf9b,!0x1);this['transactionsToSync'][_0x3a1449(0x205)](_0x9d6701['id'])&&this['syncTransactionsWritten']['push'](_0x29a30d);break;}}_0xe8f382[_0x3a1449(0x861)](_0x573191[_0x3a1449(0x924)],{'type':_0x3a1449(0x628),'label':this[_0x3a1449(0x19d)],'nodeId':this[_0x3a1449(0x6e0)]['getId'](),'nodeType':this[_0x3a1449(0x6e0)][_0x3a1449(0x285)],'clusterId':this['clusterId'],'tableName':_0x5a450c,'key':_0x2bcf9b,'size':_0x43925b}),this['checkSyncComplete'](_0x78552b,_0x9d6701);});}['setOnTableWriteHandler'](){const _0x16e374=_0x2ad6ba;this['tableUnsubscriber']=this[_0x16e374(0xa27)]['subscribe'](async _0x2f875a=>{const _0x441635=_0x16e374;let _0x23bd6c=0x0;switch(_0x2f875a['action']){case _0x40d910[_0x441635(0x45e)]:case _0x40d910[_0x441635(0x269)]:case _0x40d910['Delete']:{const _0x44cc69=await this[_0x441635(0x666)](_0x2f875a);if(!_0x44cc69)return;_0x44cc69[_0x441635(0x393)]=_0x2f875a[_0x441635(0x393)],this[_0x441635(0x9d3)](_0x44cc69),_0x23bd6c=JSON[_0x441635(0x6a9)](_0x2f875a[_0x441635(0x393)])[_0x441635(0x8e0)],this['writes']+=0x1;break;}case _0x21689f[_0x441635(0x534)]:case _0x21689f[_0x441635(0x58a)]:case _0x21689f[_0x441635(0x5b1)]:this[_0x441635(0x8c1)]+=0x1;}_0xe8f382['logServiceEvent'](_0x573191['KeyValueDatabase'],{'type':_0x2f875a[_0x441635(0x3c9)],'label':this['label'],'nodeId':this[_0x441635(0x6e0)][_0x441635(0x362)](),'nodeType':this[_0x441635(0x6e0)][_0x441635(0x285)],'clusterId':this[_0x441635(0x58c)],'tableName':_0x2f875a[_0x441635(0x2e9)],'key':_0x2f875a[_0x441635(0x2b3)],'size':_0x23bd6c}),this[_0x441635(0x7cb)]();});}['instantiateTransactionTable'](){const _0x492b10=_0x2ad6ba;this['db']&&(this['transactionTable']||(this['transactionTable']=this['db'][_0x492b10(0x57f)](_0x4649d8)));}[_0x2ad6ba(0x51c)](){const _0x4502fb=_0x2ad6ba;this[_0x4502fb(0x57a)]&&(clearTimeout(this[_0x4502fb(0x57a)]),delete this[_0x4502fb(0x57a)]);}async[_0x2ad6ba(0x5b5)](){const _0x24f110=_0x2ad6ba;await this[_0x24f110(0x445)][_0x24f110(0x717)],this['logSyncMetrics'](),this['eventListener'][_0x24f110(0x29d)]({'event':_0x406df3[_0x24f110(0xa00)][_0x24f110(0x9b1)]}),this[_0x24f110(0x587)]?.(!0x0),delete this[_0x24f110(0x587)],this['sendStats'](),_0xe8f382[_0x24f110(0xa40)](_0x1b63ac[_0x24f110(0x924)],_0x24f110(0x6bb),this[_0x24f110(0x19d)]);}async[_0x2ad6ba(0xa30)](_0x5cfa8c){const _0x24dd16=_0x2ad6ba;await Promise['all'](this[_0x24dd16(0x46e)]),_0xe8f382[_0x24dd16(0xa40)](_0x1b63ac['KeyValueDatabase'],_0x24dd16(0x3d1)+this['syncTransactionsWritten'][_0x24dd16(0x8e0)]+_0x24dd16(0x820)+_0x5cfa8c+_0x24dd16(0x60a),this[_0x24dd16(0x19d)]),await this[_0x24dd16(0x445)][_0x24dd16(0x717)],await this[_0x24dd16(0x2e5)](_0x5cfa8c),await this[_0x24dd16(0x5b5)]();}['checkSyncComplete'](_0x4c6086,_0xe91e5c){const _0x4ea52e=_0x2ad6ba;this[_0x4ea52e(0x3c1)][_0x4ea52e(0x205)](_0xe91e5c['id'])&&(this[_0x4ea52e(0x51c)](),this[_0x4ea52e(0x3c1)]=this[_0x4ea52e(0x3c1)]['filter'](_0x24c2bb=>_0x24c2bb!==_0xe91e5c['id']),0x0!==this[_0x4ea52e(0x3c1)][_0x4ea52e(0x8e0)]?this[_0x4ea52e(0x57a)]=setTimeout(this[_0x4ea52e(0x9d9)],0x7d0):this[_0x4ea52e(0xa30)](_0x4c6086));}[_0x2ad6ba(0x7cb)](){const _0x1c004c=_0x2ad6ba;this[_0x1c004c(0xa97)]&&clearTimeout(this[_0x1c004c(0xa97)]),this['debounceStats']=setTimeout(async()=>{const _0x14f4ec=_0x1c004c;delete this['debounceStats'];let _0x29ea4a=0x0;for(const _0x299032 of this[_0x14f4ec(0x3bf)]['values']())_0x29ea4a+=await _0x299032[_0x14f4ec(0x9f8)]();this[_0x14f4ec(0x5a2)][_0x14f4ec(0x29d)]({'sourceId':_0x124816,'messageType':_0x5f120e[_0x14f4ec(0x670)],'content':{'type':_0x5d0a4b[_0x14f4ec(0xa38)],'label':this[_0x14f4ec(0x19d)],'stats':{'timestamp':Date[_0x14f4ec(0x9fc)](),'storage':_0x29ea4a,'messagesSent':this[_0x14f4ec(0x812)],'messagesReceived':this[_0x14f4ec(0x8f2)],'bytesSent':this[_0x14f4ec(0x18f)],'bytesReceived':this[_0x14f4ec(0x416)],'writes':this[_0x14f4ec(0x337)],'reads':this[_0x14f4ec(0x8c1)],'prompts':0x0,'tokens':0x0}}}),_0xe8f382[_0x14f4ec(0x654)](_0x573191['KeyValueDatabase'],_0x14f4ec(0x5c8)+this[_0x14f4ec(0x58c)]+_0x14f4ec(0x5c8)+this[_0x14f4ec(0x19d)],_0x29ea4a);},_0x18dd7b);}[_0x2ad6ba(0x679)](_0x44717b){const _0xc308df=_0x2ad6ba;if(_0x44717b[_0xc308df(0x3bf)][_0x4649d8])throw new _0x3f1f96(_0x429a2c['KeyValueDatabaseTableNameReserved'],_0xc308df(0x3f1)+_0x4649d8+_0xc308df(0xa21));if(_0x44717b[_0xc308df(0x3bf)][_0x2ad241])throw new _0x3f1f96(_0x429a2c[_0xc308df(0x2bc)],_0xc308df(0x3f1)+_0x2ad241+_0xc308df(0xa21));_0x44717b[_0xc308df(0x3bf)][_0x4649d8]={'indexes':[]},_0x44717b[_0xc308df(0x3bf)][_0x2ad241]={'indexes':[]};}async[_0x2ad6ba(0x4c8)](_0x39a9f5){const _0x50189d=_0x2ad6ba;return Promise['race']([_0x39a9f5,Promise['resolve']('not-resolved')])[_0x50189d(0x59c)](_0x3cce3f=>_0x50189d(0x780)!==_0x3cce3f);}async[_0x2ad6ba(0x2e5)](_0x2d78a6){const _0x33fa14=_0x2ad6ba;await this['processTransactionsToComputeMMR']();const _0x41577d=await this[_0x33fa14(0x445)][_0x33fa14(0x5e7)](),_0x337d62={'sourceId':this['localNode'][_0x33fa14(0x362)](),'destinationIds':[_0x2d78a6],'propagate':!0x0,'messageType':_0x5f120e[_0x33fa14(0x670)],'content':{'type':_0x5d0a4b['KeyValueDatabaseContentSynchronized'],'label':this['label'],'mmrRoot':_0x41577d}};this[_0x33fa14(0x5a2)][_0x33fa14(0x29d)](_0x337d62);}async[_0x2ad6ba(0xaa4)](){const _0x138624=_0x2ad6ba;if(!this[_0x138624(0x853)])throw new _0x31ec66(_0x31ec66[_0x138624(0x4b6)]['KeyValueDatabaseTransactionTableNotInitialized']);this[_0x138624(0x904)]=await this[_0x138624(0x853)]['list'](),this[_0x138624(0x904)][_0x138624(0xa22)](this[_0x138624(0x8cc)]),this[_0x138624(0x445)]=new _0x17d31d(),this[_0x138624(0x92f)]=new Map();for(const _0x4ace6e of this['transactions'])this[_0x138624(0x1f7)](_0x4ace6e,this[_0x138624(0x904)]['length']);this[_0x138624(0x8d8)]();}async[_0x2ad6ba(0x1f7)](_0x263c27,_0x5663e1){const _0x5a45a5=_0x2ad6ba,_0x37f21f={..._0x263c27};delete _0x37f21f[_0x5a45a5(0x393)],await this[_0x5a45a5(0x445)][_0x5a45a5(0x9d8)](_0x37f21f,_0x5663e1);const _0x1d1d40=await this[_0x5a45a5(0x445)][_0x5a45a5(0xa4c)](_0x37f21f);this[_0x5a45a5(0x92f)][_0x5a45a5(0x50f)](_0x1d1d40,_0x263c27);}[_0x2ad6ba(0x48f)](_0xa66cd4){const _0x30fa37=_0x2ad6ba;return this[_0x30fa37(0x92f)][_0x30fa37(0x736)](_0xa66cd4);}[_0x2ad6ba(0xa08)](_0x2407a6,_0x1e3ad2){const _0x5128d9=_0x2ad6ba;if(0x0!==_0x2407a6['height'])_0x2407a6[_0x5128d9(0x1f8)]&&this[_0x5128d9(0xa08)](_0x2407a6['left'],_0x1e3ad2),_0x2407a6[_0x5128d9(0x4d6)]&&this['collectTransactionsFromNode'](_0x2407a6[_0x5128d9(0x4d6)],_0x1e3ad2);else{const _0x452d9b=this['getTransactionByHash'](_0x2407a6[_0x5128d9(0x9f9)]);_0x452d9b&&_0x1e3ad2['push'](_0x452d9b);}}async[_0x2ad6ba(0x186)](){const _0x48fa89=_0x2ad6ba;this[_0x48fa89(0x51a)]&&(clearTimeout(this['debounceRebuildMMR']),delete this[_0x48fa89(0x51a)],this[_0x48fa89(0x1d4)][_0x48fa89(0x8e0)]>0x0&&(this[_0x48fa89(0x904)][_0x48fa89(0x673)](...this[_0x48fa89(0x1d4)][_0x48fa89(0xa22)](this[_0x48fa89(0x8cc)])),this[_0x48fa89(0x1d4)]=[]));const _0x4fca8c=this[_0x48fa89(0x94d)]();this[_0x48fa89(0x445)]=new _0x17d31d(),this[_0x48fa89(0x92f)][_0x48fa89(0xa82)](),this[_0x48fa89(0x904)]['sort'](this[_0x48fa89(0x8cc)]);for(const _0x339f90 of this['transactions'])this[_0x48fa89(0x1f7)](_0x339f90,this[_0x48fa89(0x904)][_0x48fa89(0x8e0)]);await this[_0x48fa89(0x445)][_0x48fa89(0x717)],this[_0x48fa89(0x6bf)](_0x4fca8c);}['startLoggingCycle'](){const _0x30ad13=_0x2ad6ba;return this[_0x30ad13(0x572)][_0x30ad13(0x5b8)][_0x30ad13(0x346)](async()=>{const _0x201d75=_0x30ad13,_0x490d16=await this[_0x201d75(0x445)][_0x201d75(0x5e7)]();return{'startTime':Date[_0x201d75(0x9fc)](),'initialRoot':_0x490d16};},Promise[_0x30ad13(0x92e)]({'startTime':0x0,'initialRoot':''}));}async[_0x2ad6ba(0x6bf)](_0x2b7e88){const _0x2f2d9f=_0x2ad6ba;try{const {startTime:_0x4c3ef7,initialRoot:_0x1b8ef9}=await _0x2b7e88,_0x126dd2=await this[_0x2f2d9f(0x445)]['getRoot'](),_0x7dfdd7=[_0x2f2d9f(0x6b0)+(_0x1b8ef9!==_0x126dd2),'\x0a\x20\x20===\x20Initial\x20MMR\x20Root:\x20'+_0x1b8ef9,_0x2f2d9f(0x2a8)+_0x126dd2,_0x2f2d9f(0x578)+this[_0x2f2d9f(0x445)][_0x2f2d9f(0x19e)](),_0x2f2d9f(0x885)+(Date[_0x2f2d9f(0x9fc)]()-_0x4c3ef7)+'\x20ms\x0a'][_0x2f2d9f(0x3a2)]('\x20');this['loggingCycle']['logger'][_0x2f2d9f(0xa40)]('',()=>_0x7dfdd7);}catch(_0x32ee3d){console[_0x2f2d9f(0x60c)](_0x2f2d9f(0x339),_0x32ee3d);}}[_0x2ad6ba(0x8c0)](_0x15ff74){const _0x3cc6ad=_0x2ad6ba;this[_0x3cc6ad(0x1d4)][_0x3cc6ad(0x673)](_0x15ff74),this[_0x3cc6ad(0x51a)]&&(clearTimeout(this[_0x3cc6ad(0x51a)]),delete this['debounceRebuildMMR']),this[_0x3cc6ad(0x51a)]=setTimeout(()=>{const _0x1e5a47=_0x3cc6ad;this[_0x1e5a47(0x8ac)]();},0x3e8);}async['processTransactionsToComputeMMR'](){const _0x29e780=_0x2ad6ba;if(this[_0x29e780(0x51a)]&&(clearTimeout(this[_0x29e780(0x51a)]),delete this[_0x29e780(0x51a)]),0x0!==this[_0x29e780(0x1d4)][_0x29e780(0x8e0)]){if(0x0===this[_0x29e780(0x904)][_0x29e780(0x8e0)])return this[_0x29e780(0x904)]=this['transactionsToAppend'],this[_0x29e780(0x1d4)]=[],await this[_0x29e780(0x186)]();if(this['transactionsToAppend'][_0x29e780(0xa22)](this[_0x29e780(0x8cc)]),this[_0x29e780(0x8cc)](this['transactionsToAppend'][0x0],this[_0x29e780(0x904)][this['transactions']['length']-0x1])>0x0){this[_0x29e780(0x572)][_0x29e780(0x5b8)][_0x29e780(0xa40)]('processTransactionsToComputeMMR\x20-\x20All\x20transactions\x20are\x20appendable.\x20Append:\x20'+this[_0x29e780(0x1d4)][_0x29e780(0x8e0)]+',\x20Transactions:\x20'+this[_0x29e780(0x904)]['length']);for(const _0x1fa4b0 of this[_0x29e780(0x1d4)])this[_0x29e780(0x904)]['push'](_0x1fa4b0),this[_0x29e780(0x1f7)](_0x1fa4b0,this['transactionsToAppend']['length']);return this[_0x29e780(0x1d4)]=[],void this[_0x29e780(0x572)][_0x29e780(0x5b8)]['log'](_0x29e780(0x96e),async()=>_0x29e780(0x49f)+await this[_0x29e780(0x445)][_0x29e780(0x5e7)]()+_0x29e780(0x827)+this[_0x29e780(0x445)]['getTotalNodes']());}this[_0x29e780(0x572)]['logger']['log']('processTransactionsToComputeMMR\x20-\x20Requires\x20a\x20rebuild.\x20Append:\x20'+this[_0x29e780(0x1d4)][_0x29e780(0x8e0)]+_0x29e780(0x580)+this[_0x29e780(0x904)][_0x29e780(0x8e0)]),this[_0x29e780(0x904)][_0x29e780(0x673)](...this[_0x29e780(0x1d4)]),this['transactionsToAppend']=[],this[_0x29e780(0x186)]();}}async['logSyncMetrics'](){const _0x345bb3=_0x2ad6ba;if(!_0xe8f382[_0x345bb3(0xa32)](_0x1b63ac[_0x345bb3(0x924)]))return;await this[_0x345bb3(0x445)][_0x345bb3(0x717)];const {dataSent:_0x15eff4,dataReceived:_0x1d4e24}=this[_0x345bb3(0x572)]['getDataLogged']();_0xe8f382['log'](_0x1b63ac['KeyValueDatabase'],_0x345bb3(0x523),this[_0x345bb3(0x19d)],'\x0a\x20===\x20Total\x20Data\x20Sent:\x20'+_0x15eff4,_0x345bb3(0x3a5)+_0x1d4e24,'\x0a\x20===\x20Current\x20MMR\x20Root',await this[_0x345bb3(0x445)]['getRoot'](),_0x345bb3(0x84f),this[_0x345bb3(0x445)][_0x345bb3(0x19e)]());}async[_0x2ad6ba(0x8d8)](){const _0x419472=_0x2ad6ba;if(!_0xe8f382[_0x419472(0xa32)](_0x1b63ac[_0x419472(0x924)]))return;const _0x1db476=this[_0x419472(0x445)][_0x419472(0x939)](),_0x4d8b92=_0x1db476['map'](_0x2769d1=>_0x2769d1[_0x419472(0x529)]),_0x4a1165=await this['mmr'][_0x419472(0x5e7)]();_0xe8f382[_0x419472(0xa40)](_0x1b63ac[_0x419472(0x924)],_0x419472(0x365),this[_0x419472(0x904)][_0x419472(0x8e0)],_0x419472(0x904),this[_0x419472(0x445)]['getTotalNodes'](),_0x419472(0x2a2),_0x1db476[_0x419472(0x8e0)],_0x419472(0x4e4),_0x4d8b92,'root\x20hash:\x20',_0x4a1165);}}const _0x4651db=require('@crewdle/mist-connector-opfs'),_0x2b2bfe=require('@crewdle/mist-connector-indexed-db'),_0x2458bd=require('@crewdle/mist-connector-webrtc-browser'),_0x3702b6=0x10000000;var _0x4dd235,_0x3d5fa4,_0x330228,_0x3141bb,_0x4aaf57,_0x152a71,_0x3cd557,_0x4c89bc,_0x3ed4e6;!function(_0x32723d){const _0x25f1c0=_0x2ad6ba;_0x32723d[_0x25f1c0(0x3b9)]=_0x25f1c0(0x3b9),_0x32723d[_0x25f1c0(0x6ba)]=_0x25f1c0(0x6ba),_0x32723d['AudioVolume']=_0x25f1c0(0x3e2),_0x32723d['Backgrounds']=_0x25f1c0(0x846),_0x32723d[_0x25f1c0(0x968)]='DeviceConfig',_0x32723d[_0x25f1c0(0x6a0)]=_0x25f1c0(0x6a0),_0x32723d[_0x25f1c0(0x6ef)]=_0x25f1c0(0x6ef),_0x32723d[_0x25f1c0(0x542)]=_0x25f1c0(0x542),_0x32723d['WebGL']=_0x25f1c0(0x407),_0x32723d['WebRTC']='WebRTC';}(_0x4dd235||(_0x4dd235={}));class _0x3b34ea{['registeredListeners'];[_0x2ad6ba(0x621)];['eventTarget'];constructor(_0x595658=new Map(),_0x80f457=new Map(),_0x32676e=new EventTarget()){const _0x55459f=_0x2ad6ba;this[_0x55459f(0x74d)]=_0x595658,this['bufferedEvents']=_0x80f457,this[_0x55459f(0x6ff)]=_0x32676e;}[_0x2ad6ba(0x4ce)]=(_0x58d2f3,_0x69fc2d)=>this[_0x2ad6ba(0x74d)][_0x2ad6ba(0x98d)](_0x58d2f3)?(_0xe8f382[_0x2ad6ba(0xa40)](_0x1b63ac[_0x2ad6ba(0x2df)],_0x2ad6ba(0x89c),{'event':_0x58d2f3,'data':_0x69fc2d}),this[_0x2ad6ba(0x6ff)][_0x2ad6ba(0x45f)](new CustomEvent(_0x58d2f3,{'detail':_0x69fc2d})),!0x0):(this[_0x2ad6ba(0x73f)](_0x58d2f3,_0x69fc2d),!0x1);['on']=(_0x34814e,_0x26fcf5)=>{const _0x117c17=_0x2ad6ba,_0x24732b=_0xa4c9ed=>{const _0x39d8a0=a0_0x119e;_0xe8f382[_0x39d8a0(0xa40)](_0x1b63ac['Events'],_0x39d8a0(0x1b4),_0xa4c9ed[_0x39d8a0(0x285)],_0xa4c9ed[_0x39d8a0(0x4d7)]),_0x26fcf5(_0xa4c9ed[_0x39d8a0(0x4d7)]);};return this[_0x117c17(0x74d)]['set'](_0x34814e,_0x24732b),this['eventTarget'][_0x117c17(0x80c)](_0x34814e,_0x24732b),_0xe8f382[_0x117c17(0xa40)](_0x1b63ac[_0x117c17(0x905)],_0x117c17(0x196),_0x34814e,_0x26fcf5),this[_0x117c17(0x8e6)](_0x34814e),this;};['off'](_0x9e5e43){const _0x2b18f5=_0x2ad6ba;if(!_0x9e5e43)return this[_0x2b18f5(0x74d)][_0x2b18f5(0x9a0)]((_0xe0755c,_0x3b6fee)=>{const _0x340300=_0x2b18f5;this['eventTarget'][_0x340300(0x802)](_0x3b6fee,_0xe0755c);}),void this[_0x2b18f5(0x74d)]['clear']();'string'==typeof _0x9e5e43&&this[_0x2b18f5(0x2dd)](_0x9e5e43),Array[_0x2b18f5(0xaaa)](_0x9e5e43)&&_0x9e5e43['forEach'](_0x564abc=>{this['removeListener'](_0x564abc);});}[_0x2ad6ba(0x2dd)](_0x1e3902){const _0x2ec38d=_0x2ad6ba,_0x31ebc1=this['registeredListeners'][_0x2ec38d(0x736)](_0x1e3902);_0x31ebc1&&(this[_0x2ec38d(0x6ff)][_0x2ec38d(0x802)](_0x1e3902,_0x31ebc1),this[_0x2ec38d(0x74d)]['delete'](_0x1e3902));}[_0x2ad6ba(0x73f)](_0x8399ab,_0x3a6917){const _0x5288b9=_0x2ad6ba;_0xe8f382[_0x5288b9(0xa40)](_0x1b63ac['Events'],'Buffering\x20event',{'event':_0x8399ab,'data':_0x3a6917});const _0x5b8372=this['bufferedEvents'][_0x5288b9(0x736)](_0x8399ab)||[];this[_0x5288b9(0x621)][_0x5288b9(0x50f)](_0x8399ab,[..._0x5b8372,_0x3a6917]);}['consumeBufferedEvents'](_0x529369){const _0x82b55c=_0x2ad6ba,_0x3306a4=this[_0x82b55c(0x621)]['get'](_0x529369);_0x3306a4&&(_0x3306a4['forEach'](_0x55fc86=>{const _0x77a90e=_0x82b55c;_0xe8f382[_0x77a90e(0xa40)](_0x1b63ac[_0x77a90e(0x2df)],'Consuming\x20buffered\x20event',{'event':_0x529369,'data':_0x55fc86}),this['eventTarget']['dispatchEvent'](new CustomEvent(_0x529369,{'detail':_0x55fc86}));}),this[_0x82b55c(0x621)][_0x82b55c(0xa12)](_0x529369));}}class _0x1b0c6c extends Error{constructor(_0x6637d5){const _0x38e27e=_0x2ad6ba;super(_0x38e27e(0x448)+_0x6637d5);}}!function(_0x5f3a21){const _0x3552e5=_0x2ad6ba;_0x5f3a21[_0x5f3a21[_0x3552e5(0x38c)]=0x0]=_0x3552e5(0x38c),_0x5f3a21[_0x5f3a21[_0x3552e5(0x574)]=0x1]=_0x3552e5(0x574);}(_0x3d5fa4||(_0x3d5fa4={})),function(_0x54489f){const _0x47986f=_0x2ad6ba;_0x54489f[_0x54489f[_0x47986f(0x3fa)]=0x0]=_0x47986f(0x3fa),_0x54489f[_0x54489f['Answer']=0x1]=_0x47986f(0x865),_0x54489f[_0x54489f[_0x47986f(0x647)]=0x2]='Handshake',_0x54489f[_0x54489f[_0x47986f(0x896)]=0x3]=_0x47986f(0x896),_0x54489f[_0x54489f[_0x47986f(0x298)]=0x4]=_0x47986f(0x298),_0x54489f[_0x54489f[_0x47986f(0x28e)]=0x5]=_0x47986f(0x28e),_0x54489f[_0x54489f[_0x47986f(0x211)]=0x6]=_0x47986f(0x211),_0x54489f[_0x54489f[_0x47986f(0xa47)]=0x7]=_0x47986f(0xa47),_0x54489f[_0x54489f[_0x47986f(0x4c4)]=0x8]=_0x47986f(0x4c4);}(_0x330228||(_0x330228={})),function(_0x2df983){const _0x3ab3a9=_0x2ad6ba;_0x2df983[_0x2df983[_0x3ab3a9(0x814)]=0x0]=_0x3ab3a9(0x814),_0x2df983[_0x2df983[_0x3ab3a9(0x596)]=0x1]=_0x3ab3a9(0x596);}(_0x3141bb||(_0x3141bb={})),function(_0x26da89){const _0x5f18fc=_0x2ad6ba;_0x26da89[_0x5f18fc(0x6a0)]=_0x5f18fc(0x5ba);}(_0x4aaf57||(_0x4aaf57={})),function(_0x247390){const _0x387e8a=_0x2ad6ba;_0x247390[_0x247390[_0x387e8a(0x7fd)]=0x0]=_0x387e8a(0x7fd),_0x247390[_0x247390[_0x387e8a(0x498)]=0x1]=_0x387e8a(0x498),_0x247390[_0x247390[_0x387e8a(0x89a)]=0x2]=_0x387e8a(0x89a),_0x247390[_0x247390[_0x387e8a(0x46d)]=0x3]=_0x387e8a(0x46d);}(_0x152a71||(_0x152a71={})),function(_0x2ef660){const _0x7bf810=_0x2ad6ba;_0x2ef660[_0x2ef660[_0x7bf810(0x6f1)]=0x0]=_0x7bf810(0x6f1),_0x2ef660[_0x2ef660[_0x7bf810(0x2d4)]=0x1]=_0x7bf810(0x2d4);}(_0x3cd557||(_0x3cd557={})),function(_0x2baddc){const _0x2da890=_0x2ad6ba;_0x2baddc[_0x2da890(0x1a6)]=_0x2da890(0x2fd),_0x2baddc['Downgrade']=_0x2da890(0x1f9);}(_0x4c89bc||(_0x4c89bc={})),function(_0x308a8c){const _0x2289cc=_0x2ad6ba;_0x308a8c[_0x2289cc(0x486)]=_0x2289cc(0x97a),_0x308a8c[_0x2289cc(0x64a)]='bitrate';}(_0x3ed4e6||(_0x3ed4e6={}));const _0x3f8955=require('aws-amplify'),_0x4bef6c=require('aws-amplify/utils'),_0x3e7a00=require('@aws-amplify/api'),_0x2c71f5=require('@aws-amplify/core');class _0x363876{['clusterId'];['localNode'];[_0x2ad6ba(0x64e)];constructor(_0x1e1f55,_0x2ca75e,_0x35f637){const _0x144c06=_0x2ad6ba;this[_0x144c06(0x58c)]=_0x1e1f55,this[_0x144c06(0x6e0)]=_0x2ca75e,this['remoteId']=_0x35f637;}[_0x2ad6ba(0x4a8)](){const _0x2e0b3a=_0x2ad6ba;return this[_0x2e0b3a(0x6e0)][_0x2e0b3a(0x362)]();}['getRemoteId'](){const _0x1c1363=_0x2ad6ba;return this[_0x1c1363(0x64e)];}}var _0x46547a,_0x5af75a,_0x39a19c;function _0x47c141(_0x418a93,_0x4838e7){const _0x716ca1=_0x2ad6ba;return _0x418a93[_0x716ca1(0xa59)]===_0x4838e7;}function _0x3bfc8d(_0x39adc1,_0x126c24){const _0x1ae1e6=_0x2ad6ba;return _0x39adc1[_0x1ae1e6(0x784)]?.[_0x1ae1e6(0x205)](_0x126c24)??function(_0x47b514){const _0x1c762b=_0x1ae1e6;return void 0x0===_0x47b514[_0x1c762b(0x784)];}(_0x39adc1);}function _0x138dbf(_0x78b0e1,{contentType:_0x396372,label:_0x583f96,remoteId:_0x14961d}){return _0x78b0e1+'-'+_0x396372+'-'+_0x583f96+'-'+_0x14961d;}function _0x58867d(_0x1263eb,_0x489e08,_0x4d3404){return''+_0x1263eb+_0x489e08+_0x4d3404;}function _0x4df53f(_0x14c74b){const _0x11d659=_0x2ad6ba;return _0x14c74b===_0x5af75a[_0x11d659(0x177)]?_0x11d659(0x471):_0x11d659(0x809);}function _0x45ee74(_0x4f8ed2,_0x3994ee){const _0x236fd7=_0x2ad6ba;return{'label':_0x4f8ed2['getInternalStreamId'](),'contentType':_0x4f8ed2[_0x236fd7(0x30c)](),'remoteId':_0x3994ee[_0x236fd7(0x61e)](),'supportsContentType':_0x3994ee['getSupportedContentTypes']()[_0x236fd7(0x205)](_0x4f8ed2[_0x236fd7(0x30c)]())};}!function(_0x45b95f){const _0x5e01e4=_0x2ad6ba;_0x45b95f[_0x45b95f[_0x5e01e4(0x4a9)]=0x0]='Waiting',_0x45b95f[_0x45b95f[_0x5e01e4(0x5ff)]=0x1]='Accepted',_0x45b95f[_0x45b95f[_0x5e01e4(0x9da)]=0x2]=_0x5e01e4(0x9da);}(_0x46547a||(_0x46547a={})),function(_0xde99d7){const _0x455717=_0x2ad6ba;_0xde99d7[_0x455717(0x177)]='in',_0xde99d7['Outgoing']=_0x455717(0x620);}(_0x5af75a||(_0x5af75a={}));class _0x1d14d9{[_0x2ad6ba(0x98b)];['retryCallback'];constructor(_0x4d0267,_0xf8f17){const _0x5cecd=_0x2ad6ba;this[_0x5cecd(0x98b)]=_0x4d0267,this[_0x5cecd(0x8b1)]=_0xf8f17;}[_0x2ad6ba(0x5fe)](_0x27ac14){const _0x236e99=_0x2ad6ba;this[_0x236e99(0x98b)](_0x27ac14);}async[_0x2ad6ba(0x602)](){const _0x2bda87=_0x2ad6ba;await this[_0x2bda87(0x8b1)]();}}class _0x41c15c{[_0x2ad6ba(0x98b)];[_0x2ad6ba(0x8b1)];constructor(_0x5af03c,_0x299bfe){const _0x521490=_0x2ad6ba;this[_0x521490(0x98b)]=_0x5af03c,this[_0x521490(0x8b1)]=_0x299bfe;}async[_0x2ad6ba(0x5fe)](_0x260167){await this['callback'](_0x260167);}async[_0x2ad6ba(0x602)](){await this['retryCallback']();}}function _0x198f36(_0x143c41=()=>{},_0x451fb1=()=>!0x1,_0x4859c1=()=>{}){let _0x4c7e2e,_0x3e44e3,_0x9b9040=0x0;return{get 'size'(){return _0x9b9040;},get 'head'(){return _0x4c7e2e;},get 'tail'(){return _0x3e44e3;},set 'head'(_0x54e080){_0x4c7e2e=_0x54e080;},set 'tail'(_0x498e62){_0x3e44e3=_0x498e62;},'push'(_0x439f0a,_0x279c06=!0x0){const _0x3c6e77=a0_0x119e,_0x64b273={'value':_0x439f0a};_0x279c06&&_0x451fb1(_0x64b273)?_0x143c41():(_0x3e44e3&&(_0x64b273['previous']=_0x3e44e3,_0x3e44e3[_0x3c6e77(0x3e3)]=_0x64b273),_0x3e44e3=_0x64b273,_0x4c7e2e||(_0x4c7e2e=_0x64b273),_0x9b9040+=0x1,_0x279c06&&_0x143c41());},'pop'(){const _0x3453fc=a0_0x119e;if(!_0x3e44e3)return;const _0x2c1f2b=_0x3e44e3[_0x3453fc(0x393)];return _0x3e44e3=_0x3e44e3['previous'],_0x3e44e3&&delete _0x3e44e3[_0x3453fc(0x3e3)],_0x3e44e3||(_0x4c7e2e=void 0x0),_0x9b9040-=0x1,_0x2c1f2b;},'unshift'(_0x484e94,_0xa5b78f=!0x0){const _0x36fb91=a0_0x119e,_0x5ba363={'value':_0x484e94};_0xa5b78f&&_0x451fb1(_0x5ba363)?_0x143c41():(_0x4c7e2e&&(_0x4c7e2e['previous']=_0x5ba363,_0x5ba363[_0x36fb91(0x3e3)]=_0x4c7e2e),_0x4c7e2e=_0x5ba363,_0x3e44e3||(_0x3e44e3=_0x5ba363),_0x9b9040+=0x1,_0xa5b78f&&_0x143c41());},'shift'(){const _0x1fb57d=a0_0x119e;if(!_0x4c7e2e)return;const _0x104e76=_0x4c7e2e['value'];return _0x4c7e2e=_0x4c7e2e[_0x1fb57d(0x3e3)],_0x4c7e2e&&delete _0x4c7e2e[_0x1fb57d(0x72f)],_0x4c7e2e||(_0x3e44e3=void 0x0),_0x9b9040-=0x1,_0x104e76;},'clear'(){_0x4859c1(),_0x4c7e2e=void 0x0,_0x3e44e3=void 0x0,_0x9b9040=0x0;}};}function _0xb475cb(_0x5478ce,_0x13f1ad=!0x1,_0x3f1dd3=()=>{},_0x2aa610=()=>!0x1,_0x3cedae=()=>{}){let _0x1ee9c9=!0x1;const _0x4b7d39=_0x198f36(async function(){const _0x2b7807=a0_0x119e;if(!_0x1ee9c9){for(_0x1ee9c9=!0x0;_0x4b7d39[_0x2b7807(0x2ba)];){const _0x2e24a1=_0x4b7d39['shift']();if(_0x2e24a1)try{_0x5478ce instanceof _0x1d14d9&&_0x5478ce['call'](_0x2e24a1),_0x5478ce instanceof _0x41c15c&&await _0x5478ce[_0x2b7807(0x5fe)](_0x2e24a1),_0x3f1dd3(_0x2e24a1);}catch(_0x52c838){_0x13f1ad?_0x4b7d39[_0x2b7807(0x673)](_0x2e24a1,!0x1):_0x4b7d39['unshift'](_0x2e24a1,!0x1),await _0x5478ce[_0x2b7807(0x602)]();}}_0x1ee9c9=!0x1;}},_0x2aa610,_0x3cedae);return _0x4b7d39;}class _0x33446f extends _0x363876{[_0x2ad6ba(0x8e1)];['authService'];[_0x2ad6ba(0x965)]=_0x3e7a00[_0x2ad6ba(0x831)]['Disconnected'];[_0x2ad6ba(0x53b)]=_0x331eb8();[_0x2ad6ba(0x4a0)]=_0x2af2eb();['subscription'];['listenUnsubscriber'];[_0x2ad6ba(0x910)]=_0xb475cb(new _0x41c15c(this[_0x2ad6ba(0x1ae)][_0x2ad6ba(0xa0a)](this),this[_0x2ad6ba(0x3a3)][_0x2ad6ba(0xa0a)](this)));['client'];constructor(_0x31fbc0,_0x526e70,_0x4c4686,_0x510a7c,_0x50658b){const _0x18009f=_0x2ad6ba;super(_0x526e70,_0x4c4686,_0x510a7c),this['vendorId']=_0x31fbc0,this[_0x18009f(0xa49)]=_0x50658b;}async[_0x2ad6ba(0x456)](){const _0x209819=_0x2ad6ba;try{const _0x2942e6={'getTokens':async()=>{const _0x102a8b=a0_0x119e,_0xdc8b9f=await this[_0x102a8b(0xa49)][_0x102a8b(0x87e)]();return{'accessToken':(0x0,_0x2c71f5['decodeJWT'])(_0xdc8b9f),'idToken':(0x0,_0x2c71f5[_0x102a8b(0x828)])(_0xdc8b9f)};}};_0x3f8955['Amplify'][_0x209819(0x527)]({'API':{'GraphQL':{'endpoint':_0x582331[_0x209819(0x9eb)][_0x209819(0x9a5)],'region':_0x582331[_0x209819(0x9eb)][_0x209819(0x78d)],'defaultAuthMode':_0x209819(0x8a7)}}},{'Auth':{'tokenProvider':_0x2942e6}});const _0x31f69e=(0x0,_0x3e7a00['generateClient'])();this[_0x209819(0x883)]=_0x31f69e,await this[_0x209819(0x208)](),this['listenUnsubscriber']=_0x4bef6c['Hub'][_0x209819(0x711)](_0x209819(0x1d0),async({payload:_0x4d31df})=>{const _0x21f5a0=_0x209819;if(_0x4d31df[_0x21f5a0(0xabb)]===_0x3e7a00['CONNECTION_STATE_CHANGE']){const _0x32ca0e=_0x4d31df[_0x21f5a0(0x19c)];this['connectionState']=_0x32ca0e[_0x21f5a0(0x965)],this[_0x21f5a0(0x53b)][_0x21f5a0(0x29d)](_0x32ca0e[_0x21f5a0(0x965)]),this[_0x21f5a0(0x965)]===_0x3e7a00[_0x21f5a0(0x831)][_0x21f5a0(0x4b2)]?(_0xe8f382['error'](_0x21f5a0(0x8e5),{'clusterId':this['clusterId'],'nodeId':this[_0x21f5a0(0x4a8)](),'nodeType':this[_0x21f5a0(0x6e0)][_0x21f5a0(0x285)]}),this['close'](),this[_0x21f5a0(0x456)]()):this[_0x21f5a0(0x965)]===_0x3e7a00[_0x21f5a0(0x831)][_0x21f5a0(0x57b)]?_0xe8f382['warning']('appsync-connect',{'clusterId':this[_0x21f5a0(0x58c)],'nodeId':this[_0x21f5a0(0x4a8)](),'nodeType':this[_0x21f5a0(0x6e0)][_0x21f5a0(0x285)]}):_0xe8f382[_0x21f5a0(0x4a2)](_0x21f5a0(0x4e5),{'clusterId':this[_0x21f5a0(0x58c)],'nodeId':this[_0x21f5a0(0x4a8)](),'nodeType':this[_0x21f5a0(0x6e0)][_0x21f5a0(0x285)],'data':{'state':_0x32ca0e[_0x21f5a0(0x965)]}});}});}catch(_0x2aaf9a){_0xe8f382[_0x209819(0x60c)](_0x209819(0x6c3),{'clusterId':this[_0x209819(0x58c)],'nodeId':this[_0x209819(0x4a8)](),'nodeType':this[_0x209819(0x6e0)][_0x209819(0x285)]});}}[_0x2ad6ba(0x27c)](){const _0x44cff3=_0x2ad6ba;_0xe8f382[_0x44cff3(0x4a2)](_0x44cff3(0xa44),{'clusterId':this[_0x44cff3(0x58c)],'nodeId':this['getLocalId'](),'nodeType':this[_0x44cff3(0x6e0)][_0x44cff3(0x285)]}),this[_0x44cff3(0x910)]['clear'](),this[_0x44cff3(0x502)]?.(),this['subscription']?.[_0x44cff3(0x99f)](),delete this[_0x44cff3(0x8ae)];}[_0x2ad6ba(0x881)](){const _0x17f461=_0x2ad6ba;return this['connectionState']===_0x3e7a00['ConnectionState'][_0x17f461(0x57b)];}[_0x2ad6ba(0x9d3)](_0x1cdcc9){const _0x519630=_0x2ad6ba;this['retryQueue'][_0x519630(0x673)](_0x1cdcc9);}[_0x2ad6ba(0x435)](_0x2ef3d2){const _0x302fae=_0x2ad6ba;return this[_0x302fae(0x4a0)]['subscribe'](_0x2ef3d2);}[_0x2ad6ba(0x52e)](){const _0x2cb76a=_0x2ad6ba;return[_0x406df3[_0x2cb76a(0x525)]['Data']];}async[_0x2ad6ba(0x3a3)](){if(!this['isConnected']())return new Promise(_0xcf77c=>{const _0x390244=a0_0x119e,_0x41f86b=this[_0x390244(0x53b)]['subscribe'](_0x471999=>{_0x471999===_0x3e7a00['ConnectionState']['Connected']&&(_0x41f86b(),_0xcf77c());});});}async[_0x2ad6ba(0x1ae)](_0x4555e2){const _0x2028ed=_0x2ad6ba;if(this[_0x2028ed(0x965)]!==_0x3e7a00[_0x2028ed(0x831)][_0x2028ed(0x57b)])throw new Error('AppSync\x20connection\x20not\x20ready');_0x4555e2[_0x2028ed(0x784)]&&0x1===_0x4555e2[_0x2028ed(0x784)]['length']?await this[_0x2028ed(0x29d)](_0x4555e2[_0x2028ed(0x784)][0x0],JSON[_0x2028ed(0x6a9)](_0x4555e2)):_0xe8f382[_0x2028ed(0x60c)](_0x2028ed(0x90f),{'clusterId':this[_0x2028ed(0x58c)],'nodeId':this['getLocalId'](),'nodeType':this[_0x2028ed(0x6e0)][_0x2028ed(0x285)]});}async[_0x2ad6ba(0x29d)](_0x86564d,_0x3ded99){const _0x3541b7=_0x2ad6ba;if(!this[_0x3541b7(0x883)])throw new Error('AppSync\x20client\x20not\x20ready');_0xe8f382[_0x3541b7(0xa40)](_0x1b63ac[_0x3541b7(0x2f8)],_0x3541b7(0x81a),this[_0x3541b7(0x4a8)](),_0x3ded99),await this[_0x3541b7(0x883)][_0x3541b7(0xa37)]({'query':_0x3541b7(0xabe),'variables':{'name':await this[_0x3541b7(0x8dd)](_0x86564d),'data':_0x3ded99}});}async['subscribe'](){const _0xf724ce=_0x2ad6ba;if(this['subscription'])return;if(!this[_0xf724ce(0x883)])throw new Error('AppSync\x20client\x20not\x20ready');_0xe8f382[_0xf724ce(0xa40)](_0x1b63ac[_0xf724ce(0x2f8)],_0xf724ce(0x204),this[_0xf724ce(0x4a8)]());const _0x55a7fd=await this[_0xf724ce(0x883)]['graphql']({'query':_0xf724ce(0x3bd),'variables':{'name':await this[_0xf724ce(0x8dd)]()},'authToken':await this[_0xf724ce(0xa49)][_0xf724ce(0x87e)]()},{'Authorization':await this['authService'][_0xf724ce(0x87e)]()});this[_0xf724ce(0x8ae)]=_0x55a7fd[_0xf724ce(0x208)]({'next':({data:_0x362ce0})=>{const _0x5bf9de=_0xf724ce,_0x501d67=JSON[_0x5bf9de(0x72a)](_0x362ce0['subscribe'][_0x5bf9de(0x19c)]);!_0x47c141(_0x501d67,this['getLocalId']())&&_0x3bfc8d(_0x501d67,this[_0x5bf9de(0x4a8)]())&&this[_0x5bf9de(0x4a0)]['publish'](_0x501d67);},'error':console[_0xf724ce(0xa40)]});}async[_0x2ad6ba(0x8dd)](_0x505002){const _0x118e43=_0x2ad6ba,_0x27be2e=await crypto['subtle'][_0x118e43(0x4c0)](_0x118e43(0x878),new TextEncoder()[_0x118e43(0x2d2)](this['vendorId']+'-'+this['clusterId']+'-'+(_0x505002??this[_0x118e43(0x4a8)]())));return Array[_0x118e43(0x854)](new Uint8Array(_0x27be2e))[_0x118e43(0x607)](_0x1abfd6=>_0x1abfd6[_0x118e43(0x8d9)](0x10)[_0x118e43(0xa33)](0x2,'0'))[_0x118e43(0x3a2)]('');}}!function(_0x3403a5){const _0x25b7a7=_0x2ad6ba;_0x3403a5[_0x3403a5[_0x25b7a7(0x45e)]=0x0]='Add',_0x3403a5[_0x3403a5[_0x25b7a7(0x288)]=0x1]=_0x25b7a7(0x288),_0x3403a5[_0x3403a5[_0x25b7a7(0x269)]=0x2]=_0x25b7a7(0x269),_0x3403a5[_0x3403a5['RemoteAdd']=0x3]=_0x25b7a7(0x75e),_0x3403a5[_0x3403a5['RemoteRemove']=0x4]='RemoteRemove';}(_0x39a19c||(_0x39a19c={}));const _0x43a5a4='0',_0x455bd2=_0x2ad6ba(0x270),_0xb11a25=_0x9ed6ad,_0x11216e=0x60000;class _0x540dbc{[_0x2ad6ba(0x58c)];[_0x2ad6ba(0x6e0)];[_0x2ad6ba(0x64e)];[_0x2ad6ba(0x2eb)];[_0x2ad6ba(0xa3b)];['connectionConstructor'];['connection'];['dataChannel'];[_0x2ad6ba(0x9a8)]=0x1;[_0x2ad6ba(0x5a2)];[_0x2ad6ba(0x577)]=[];[_0x2ad6ba(0x7d6)]=[];['handshakeDebounce'];constructor(_0x3be5df,_0x2bf7b5,_0x32d302,_0x47ac04,_0x106d46,_0x4336fd){const _0x2eb067=_0x2ad6ba;this[_0x2eb067(0x58c)]=_0x3be5df,this[_0x2eb067(0x6e0)]=_0x2bf7b5,this[_0x2eb067(0x64e)]=_0x32d302,this['iceServers']=_0x47ac04,this[_0x2eb067(0xa3b)]=_0x106d46,this['connectionConstructor']=_0x4336fd,this[_0x2eb067(0x89b)]=new this[(_0x2eb067(0x9d5))]({'handshakeServers':this[_0x2eb067(0x2eb)]}),this[_0x2eb067(0x1be)]();}[_0x2ad6ba(0x27c)](){this['stopConnection']();}[_0x2ad6ba(0x2f9)](_0x29c007){const _0x770fab=_0x2ad6ba;this[_0x770fab(0xa3b)]=_0x29c007;}async[_0x2ad6ba(0x6f6)](_0x21c1b5,_0x5d09e0){const _0x5a81b8=_0x2ad6ba;if(_0x5d09e0===this[_0x5a81b8(0x9a8)])for(const _0x3613ba of _0x21c1b5){if(!this['connection'][_0x5a81b8(0x344)])return this[_0x5a81b8(0x2a9)](_0x3613ba);try{await this[_0x5a81b8(0x89b)][_0x5a81b8(0x31c)](_0x3613ba);}catch(_0x424192){this[_0x5a81b8(0x2a9)](_0x3613ba);}}}[_0x2ad6ba(0x881)](){const _0x574b1a=_0x2ad6ba;return this[_0x574b1a(0x6f3)](),_0x574b1a(0x8ff)===this[_0x574b1a(0x89b)]['connectionState']&&[_0x574b1a(0x8ff),_0x574b1a(0x756)]['includes'](this[_0x574b1a(0x89b)][_0x574b1a(0x255)])&&_0x574b1a(0x2f6)!==this['connection'][_0x574b1a(0x95f)]&&_0x574b1a(0xa60)===this[_0x574b1a(0xa57)]?.[_0x574b1a(0x9c0)];}[_0x2ad6ba(0x3ba)](_0x136a7d){const _0x12b966=_0x2ad6ba;this[_0x12b966(0x5a2)]=_0x136a7d;}['unregisterSystemPublisher'](){delete this['systemTopic'];}[_0x2ad6ba(0x8bb)](_0x47b79f){const _0x419a51=_0x2ad6ba;this['stopConnection'](),this[_0x419a51(0x89b)]=new this['connectionConstructor']({'handshakeServers':this[_0x419a51(0x2eb)]}),_0x47b79f?this[_0x419a51(0x9a8)]=_0x47b79f:this['currentVersion']+=0x1,this['setupConnectionEvents']();}[_0x2ad6ba(0x1ac)](){const _0x29627d=_0x2ad6ba;this['pendingHandshakeCandidates'][_0x29627d(0x9a0)](_0x276200=>{const _0x1e6ded=_0x29627d;try{this[_0x1e6ded(0x89b)][_0x1e6ded(0x31c)](_0x276200);}catch(_0x1efd5a){}}),this[_0x29627d(0x7d6)]=[];}['publishSystemMessage'](_0x2eed3,_0x2c86f1){const _0x46c296=_0x2ad6ba;if(!this[_0x46c296(0x5a2)])throw new _0x31ec66(_0x31ec66[_0x46c296(0x4b6)][_0x46c296(0x2fc)],{'content':_0x2eed3});const _0x35615e={'sourceId':this['localNode']['getId'](),'destinationIds':[this[_0x46c296(0x64e)]],'propagate':this[_0x46c296(0xa3b)]!==_0x3d5fa4['Core'],'retry':this[_0x46c296(0xa3b)]!==_0x3d5fa4[_0x46c296(0x38c)],'messageType':_0x5f120e[_0x46c296(0x746)],'content':_0x2eed3};_0x2c86f1&&(_0x35615e['uuid']=_0x2c86f1),this[_0x46c296(0x5a2)][_0x46c296(0x29d)](_0x35615e);}['setupConnectionEvents'](){const _0x3efaed=_0x2ad6ba;this[_0x3efaed(0x89b)][_0x3efaed(0xaa0)]=()=>{const _0x530ac3=_0x3efaed;_0x530ac3(0x455)===this['connection'][_0x530ac3(0x9c5)]&&this[_0x530ac3(0x577)][_0x530ac3(0x8e0)]>0x0&&(this['handshakeDebounce']&&clearTimeout(this[_0x530ac3(0x84d)]),this['handshakeDebounce']=setTimeout(()=>{const _0xfb9a22=_0x530ac3;delete this[_0xfb9a22(0x84d)],this[_0xfb9a22(0x88f)](),this[_0xfb9a22(0x577)]=[];},0x1f4));},this[_0x3efaed(0x89b)][_0x3efaed(0x3d6)]=_0x42025f=>{const _0x546ecd=_0x3efaed;_0x42025f[_0x546ecd(0x2ea)]&&this['handshakeCandidates']['push'](_0x42025f[_0x546ecd(0x2ea)]);};}[_0x2ad6ba(0x75c)](){const _0x30f9c7=_0x2ad6ba;clearTimeout(this[_0x30f9c7(0x84d)]),delete this[_0x30f9c7(0x84d)],this[_0x30f9c7(0x577)]=[],this[_0x30f9c7(0x7d6)]=[],this['dataChannel']&&(this[_0x30f9c7(0xa57)][_0x30f9c7(0x435)]=null,this[_0x30f9c7(0xa57)]['onClose']=null,this[_0x30f9c7(0xa57)][_0x30f9c7(0x27c)](),delete this['dataChannel']),this[_0x30f9c7(0x89b)]['onGatheringStateChange']=null,this['connection'][_0x30f9c7(0x3d6)]=null,this[_0x30f9c7(0x89b)]['onHandshakeStateChange']=null,this['connection'][_0x30f9c7(0x382)]=null,this[_0x30f9c7(0x89b)][_0x30f9c7(0x500)]=null,this[_0x30f9c7(0x89b)][_0x30f9c7(0x1ce)]=null,this[_0x30f9c7(0x89b)][_0x30f9c7(0x27c)]();}['addPendingHandshakeCandidate'](_0x28cd81){const _0x1d88e7=_0x2ad6ba;this[_0x1d88e7(0x7d6)]['push'](_0x28cd81);}['logConnectionState'](){const _0x14fdb8=_0x2ad6ba;_0xe8f382['log'](_0x1b63ac['ConnectionState'],_0x14fdb8(0x351),{'localId':this[_0x14fdb8(0x6e0)][_0x14fdb8(0x362)](),'remoteId':this['remoteId'],'connectionState':this['connection'][_0x14fdb8(0x965)],'handshakeState':this['connection'][_0x14fdb8(0x255)],'signalingState':this['connection'][_0x14fdb8(0x95f)],'dataChannelState':this[_0x14fdb8(0xa57)]?.['state']});}}function _0x484c0e(_0x63459b,_0x1ec3e1){const _0x5aeacc=_0x2ad6ba;_0x1ec3e1[_0x5aeacc(0x29d)]({'sourceId':_0x124816,'messageType':_0x5f120e[_0x5aeacc(0x746)],'content':_0x63459b});}class _0x4fb727{static ['instance'];[_0x2ad6ba(0x223)]=[];[_0x2ad6ba(0x97d)];constructor(){setInterval(()=>{const _0x210de0=a0_0x119e;this[_0x210de0(0x223)][_0x210de0(0x9a0)](_0x2862a9=>{const _0x242202=_0x210de0;if(Date[_0x242202(0x9fc)]()-_0x2862a9[_0x242202(0x76a)]>_0x2862a9['interval']){try{_0x2862a9[_0x242202(0x98b)]();}catch(_0x50dc24){}_0x2862a9[_0x242202(0x76a)]=Date[_0x242202(0x9fc)]();}});},0x64);}static['getInstance'](){const _0x29c654=_0x2ad6ba;return _0x4fb727[_0x29c654(0x691)]||(_0x4fb727['instance']=new _0x4fb727()),_0x4fb727['instance'];}[_0x2ad6ba(0xa2b)](_0x3bb0e2){const _0x2da6a2=_0x2ad6ba,_0x299afc=this[_0x2da6a2(0xa7b)](_0x3bb0e2),_0x487439=_0x3bb0e2[_0x2da6a2(0x64d)]();_0x487439&&_0x299afc&&(_0x487439[_0x2da6a2(0x2cf)][_0x2da6a2(0x393)]=0.001,_0x299afc['connect'](_0x487439),_0x487439['connect'](_0x3bb0e2['destination']),_0x299afc[_0x2da6a2(0x28b)]());}['stopNoThrottlingHack'](){const _0x271b23=_0x2ad6ba;this[_0x271b23(0x97d)]&&(this[_0x271b23(0x97d)][_0x271b23(0x5ee)](),this[_0x271b23(0x97d)][_0x271b23(0x6bd)](),this['source']=void 0x0);}[_0x2ad6ba(0x602)](_0xf02ed3){return new Promise(_0x2d1906=>{setTimeout(_0x2d1906,_0xf02ed3);});}['setInterval'](_0x154c2d,_0x266d6f){const _0x2d4a4c=_0x2ad6ba;return this['parameters'][_0x2d4a4c(0x673)]({'callback':_0x154c2d,'interval':_0x266d6f,'lastExecuted':Date[_0x2d4a4c(0x9fc)]()}),()=>{const _0x3de9dc=_0x2d4a4c;this['parameters']=this['parameters'][_0x3de9dc(0x1bc)](_0x172862=>_0x172862[_0x3de9dc(0x98b)]!==_0x154c2d);};}[_0x2ad6ba(0xa7b)](_0x1e06a7){const _0x54d3a7=_0x2ad6ba;if(_0x1e06a7['createConstantSource'])return _0x1e06a7[_0x54d3a7(0xa7b)]();const _0x6071ba=_0x1e06a7[_0x54d3a7(0x9ae)](),_0x4a673f=_0x1e06a7['createBuffer'](0x1,0x1,_0x1e06a7[_0x54d3a7(0x876)]);return _0x4a673f[_0x54d3a7(0x8ea)](0x0)[0x0]=0xa,_0x6071ba[_0x54d3a7(0x18c)]=_0x4a673f,_0x6071ba[_0x54d3a7(0x4eb)]=!0x0,_0x6071ba;}}const _0x401df5=_0x4fb727['getInstance']();class _0x1c315e extends _0x540dbc{[_0x2ad6ba(0x4f4)]=_0x331eb8();[_0x2ad6ba(0x438)]=_0x331eb8();[_0x2ad6ba(0x72c)]=_0x331eb8();[_0x2ad6ba(0x439)]=new Map();[_0x2ad6ba(0x9de)]=new Map();[_0x2ad6ba(0x960)];[_0x2ad6ba(0x8f2)]=0x0;[_0x2ad6ba(0x6c5)]={'messages':{'total':0x0}};[_0x2ad6ba(0x416)]=0x0;[_0x2ad6ba(0x43a)]=0x0;[_0x2ad6ba(0x572)]=_0x59f28c(_0x2ad6ba(0x541),_0x1b63ac['ReceiverOnMessage']);['close'](){const _0x2e7b1d=_0x2ad6ba;this[_0x2e7b1d(0x934)](),this[_0x2e7b1d(0x439)][_0x2e7b1d(0xa82)](),super[_0x2e7b1d(0x27c)]();}async[_0x2ad6ba(0x7d4)](_0xf77120,_0x2b01e1){const _0x3b3555=_0x2ad6ba;this[_0x3b3555(0x9a8)]=_0x2b01e1,this[_0x3b3555(0x934)]();const _0x1b7e2d=await this[_0x3b3555(0x89b)]['createAnswer'](_0xf77120);this['processPendingHandshakeCandidates']();const _0x49823f=(0x0,_0x145036['v4'])();this[_0x3b3555(0x81f)]({'type':_0x330228[_0x3b3555(0x865)],'answer':_0x1b7e2d,'version':_0x2b01e1,'connectionType':this[_0x3b3555(0xa3b)]},_0x49823f),this[_0x3b3555(0xa3b)]===_0x3d5fa4[_0x3b3555(0x38c)]&&(this[_0x3b3555(0x960)]=_0x401df5[_0x3b3555(0x338)](()=>{const _0x334e1e=_0x3b3555;this[_0x334e1e(0x81f)]({'type':_0x330228[_0x334e1e(0x865)],'answer':_0x1b7e2d,'version':_0x2b01e1,'connectionType':this[_0x334e1e(0xa3b)]},_0x49823f);},0x1388));}['handleSuccess'](){const _0x3d9584=_0x2ad6ba;this[_0x3d9584(0x934)]();}['handleNeedRestart'](_0x45c104){const _0x366349=_0x2ad6ba;this[_0x366349(0x8bb)](_0x45c104),this[_0x366349(0x81f)]({'type':_0x330228['Restart']});}async[_0x2ad6ba(0x49e)](){const _0x7328ca=_0x2ad6ba;this[_0x7328ca(0x5a2)]&&(await this[_0x7328ca(0x89b)][_0x7328ca(0x627)](this[_0x7328ca(0x439)],(_0x29dcd6,_0xc712d7)=>{const _0xa7648d=_0x7328ca;_0x484c0e({'type':_0x330228[_0xa7648d(0xa47)],'streamId':_0xc712d7,'nodeId':this['remoteId'],'stats':_0x29dcd6},this[_0xa7648d(0x5a2)]);}),this[_0x7328ca(0x5a2)][_0x7328ca(0x29d)]({'sourceId':_0x124816,'messageType':_0x5f120e[_0x7328ca(0x746)],'content':{'type':_0x330228[_0x7328ca(0xa47)],'nodeId':this[_0x7328ca(0x64e)],'stats':{'origin':_0x3141bb['Receiver'],'timestamp':Date[_0x7328ca(0x9fc)](),'messagesReceived':this['messagesReceived'],'bytesReceived':this['bytesReceived'],'timeReceiving':this[_0x7328ca(0x43a)],'systemMessages':this[_0x7328ca(0x6c5)]}}}));}[_0x2ad6ba(0x435)](_0x5adabe){const _0x4c2dc2=_0x2ad6ba;return _0x582331[_0x4c2dc2(0x521)]?this[_0x4c2dc2(0x4f4)][_0x4c2dc2(0x208)](_0x5adabe):this[_0x4c2dc2(0x4f4)]['subscribe'](_0x431700=>{const _0x49e6e6=_0x4c2dc2;0x0===_0x431700[_0x49e6e6(0x994)]&&_0x431700[_0x49e6e6(0x7d8)]===_0x5f120e['Content']&&this[_0x49e6e6(0x572)][_0x49e6e6(0x5b8)][_0x49e6e6(0xa40)]('ReceiverPeerConnection\x20onMessage\x27\x20-\x20Remote:\x20'+this['remoteId'],()=>_0x302423(_0x431700)),_0x5adabe(_0x431700);});}[_0x2ad6ba(0x500)](_0x488b60){const _0x146c86=_0x2ad6ba;return this[_0x146c86(0x438)][_0x146c86(0x208)](({track:_0x5c5092,stream:_0x16e061})=>_0x488b60(_0x5c5092,_0x16e061));}[_0x2ad6ba(0x97f)](_0x432705){const _0x3f5309=_0x2ad6ba;return this[_0x3f5309(0x72c)]['subscribe'](({track:_0x5d8bed,stream:_0x2fd0dc})=>_0x432705(_0x5d8bed,_0x2fd0dc));}[_0x2ad6ba(0x8bb)](_0x59d445){const _0xa025bf=_0x2ad6ba;this[_0xa025bf(0x934)](),this[_0xa025bf(0x439)][_0xa025bf(0x9a0)](_0x5c2387=>{const _0x3ff06f=_0xa025bf;_0x5c2387[_0x3ff06f(0xa82)]();}),super['resetConnection'](_0x59d445);}['sendIceCandidates'](){const _0x229876=_0x2ad6ba;this['publishSystemMessage']({'type':_0x330228[_0x229876(0x647)],'candidates':this[_0x229876(0x577)],'origin':_0x3141bb['Receiver'],'version':this[_0x229876(0x9a8)],'connectionType':this['connectionType']});}[_0x2ad6ba(0x1be)](){const _0x10bc47=_0x2ad6ba;super[_0x10bc47(0x1be)](),this[_0x10bc47(0x89b)]['onTrack']=_0x53d36a=>{const _0x14ba56=_0x10bc47;_0xe8f382[_0x14ba56(0xa40)](_0x1b63ac[_0x14ba56(0x645)],_0x14ba56(0x51f),this['localNode']['getId'](),_0x53d36a),_0x53d36a[_0x14ba56(0x359)][0x0][_0x14ba56(0x6e4)]=_0x29914c=>{const _0xdcd762=_0x14ba56;this[_0xdcd762(0x439)][_0xdcd762(0x736)](_0x53d36a[_0xdcd762(0x359)][0x0]['id'])?.[_0xdcd762(0xa12)](_0x29914c[_0xdcd762(0xab8)]),0x0===this[_0xdcd762(0x439)][_0xdcd762(0x736)](_0x53d36a[_0xdcd762(0x359)][0x0]['id'])?.[_0xdcd762(0x399)]&&this[_0xdcd762(0x439)][_0xdcd762(0xa12)](_0x53d36a[_0xdcd762(0x359)][0x0]['id']),this[_0xdcd762(0x72c)][_0xdcd762(0x29d)]({'track':_0x29914c[_0xdcd762(0xab8)],'stream':_0x53d36a[_0xdcd762(0x359)][0x0]});},this['receivers'][_0x14ba56(0x98d)](_0x53d36a[_0x14ba56(0x359)][0x0]['id'])||this[_0x14ba56(0x439)][_0x14ba56(0x50f)](_0x53d36a[_0x14ba56(0x359)][0x0]['id'],new Set()),this[_0x14ba56(0x439)][_0x14ba56(0x736)](_0x53d36a[_0x14ba56(0x359)][0x0]['id'])[_0x14ba56(0x424)](_0x53d36a[_0x14ba56(0xab8)]),this['trackCallback'][_0x14ba56(0x29d)]({'track':_0x53d36a[_0x14ba56(0xab8)],'stream':_0x53d36a[_0x14ba56(0x359)][0x0]});},this['connection'][_0x10bc47(0x1ce)]=_0x24a338=>{const _0x48939b=_0x10bc47;this[_0x48939b(0xa57)]=_0x24a338[_0x48939b(0x2e1)],this[_0x48939b(0xa57)][_0x48939b(0x435)]=_0x32b1ad=>{const _0x52c186=_0x48939b;if(_0x32b1ad[_0x52c186(0x19c)]!==_0x43a5a4)this[_0x52c186(0x68a)](_0x32b1ad[_0x52c186(0x19c)]);else{if(!this[_0x52c186(0xa57)])return void _0xe8f382['error'](_0x52c186(0x96d),{'clusterId':this[_0x52c186(0x58c)],'nodeId':this['localNode'][_0x52c186(0x362)](),'nodeType':this[_0x52c186(0x6e0)][_0x52c186(0x285)],'remoteId':this[_0x52c186(0x64e)],'data':{'connection':_0x52c186(0x409)}});if(_0x52c186(0xa60)!==this[_0x52c186(0xa57)][_0x52c186(0x9c0)])return;this[_0x52c186(0xa57)][_0x52c186(0x9d3)]('1');}};};}[_0x2ad6ba(0x68a)](_0x9a7d76){const _0x360a26=_0x2ad6ba;if('string'==typeof _0x9a7d76&&_0x9a7d76[_0x360a26(0x493)](_0x455bd2))return this[_0x360a26(0x8f2)]+=0x1,this['bytesReceived']+=_0x9a7d76[_0x360a26(0x8e0)],this[_0x360a26(0x995)](_0x9a7d76);setTimeout(()=>{const _0x3d7027=_0x360a26,_0x4bf5cf=Date['now']();let _0x514f84;if((_0x9a7d76 instanceof ArrayBuffer||_0x9a7d76['length']<=_0xb11a25)&&(this['messagesReceived']+=0x1,this[_0x3d7027(0x416)]+=_0x9a7d76 instanceof ArrayBuffer?_0x9a7d76[_0x3d7027(0x918)]:_0x9a7d76[_0x3d7027(0x8e0)]),_0x9a7d76 instanceof ArrayBuffer){const [_0x29b787,_0x463796]=this[_0x3d7027(0x935)](_0x9a7d76);_0x514f84=_0x29b787,_0x514f84[_0x3d7027(0x257)]['data']=_0x463796;}else _0x514f84=JSON[_0x3d7027(0x72a)](_0x9a7d76);if(0x0===_0x514f84[_0x3d7027(0x994)]){this[_0x3d7027(0x6c5)]['messages'][_0x3d7027(0x7da)]+=0x1;const {systemMessageType:_0xae0eb5,systemContentMessageType:_0x300359}=_0x302423(_0x514f84);this[_0x3d7027(0x6c5)][_0xae0eb5]||(this[_0x3d7027(0x6c5)][_0xae0eb5]={[_0x300359]:0x0}),this[_0x3d7027(0x6c5)][_0xae0eb5][_0x300359]||(this[_0x3d7027(0x6c5)][_0xae0eb5][_0x300359]=0x0),this['systemMessagesReceived'][_0xae0eb5][_0x3d7027(0x7da)]||(this[_0x3d7027(0x6c5)][_0xae0eb5][_0x3d7027(0x7da)]=0x0),this[_0x3d7027(0x6c5)][_0xae0eb5][_0x300359]+=0x1,this[_0x3d7027(0x6c5)][_0xae0eb5][_0x3d7027(0x7da)]+=0x1;}this[_0x3d7027(0x4f4)][_0x3d7027(0x29d)](_0x514f84),this[_0x3d7027(0x43a)]+=Date['now']()-_0x4bf5cf;},0x0);}[_0x2ad6ba(0x995)](_0xd0f861){const _0x4876b1=_0x2ad6ba,_0x2cc422=_0xd0f861[_0x4876b1(0x1c9)](';'),_0x64cb44=_0x2cc422[0x1],_0x5b28aa=parseInt(_0x2cc422[0x2],0xa),_0x37660e=parseInt(_0x2cc422[0x3],0xa),_0x9f3356=_0xd0f861[_0x4876b1(0xa48)](_0x455bd2+';'+_0x64cb44+';'+_0x5b28aa+';'+_0x37660e+';','');this[_0x4876b1(0x9de)][_0x4876b1(0x98d)](_0x64cb44)||this['chunks'][_0x4876b1(0x50f)](_0x64cb44,[]);const _0x22d2b5=this[_0x4876b1(0x9de)][_0x4876b1(0x736)](_0x64cb44);_0x22d2b5[_0x5b28aa]=_0x9f3356,_0x22d2b5[_0x4876b1(0x8e0)]===_0x37660e&&(this[_0x4876b1(0x68a)](_0x22d2b5[_0x4876b1(0x3a2)]('')),this[_0x4876b1(0x9de)]['delete'](_0x64cb44));}[_0x2ad6ba(0x934)](){const _0xe64464=_0x2ad6ba;this[_0xe64464(0x960)]?.(),delete this[_0xe64464(0x960)];}[_0x2ad6ba(0x64c)](_0x15ee25){const _0x24b3ea=_0x2ad6ba,_0x54dc4c=new TextDecoder()[_0x24b3ea(0x551)](_0x15ee25);return JSON['parse'](_0x54dc4c);}['splitParts'](_0xe415f6){const _0x4c6591=_0x2ad6ba,_0x181095=new Uint8Array(_0xe415f6[_0x4c6591(0x1b2)](0x0,0x4)),_0x1b2f3f=new Uint32Array(_0x181095[_0x4c6591(0x18c)])[0x0],_0x27d179=new Uint8Array(_0xe415f6[_0x4c6591(0x1b2)](0x4,0x4+_0x1b2f3f)),_0x2f8f49=new Uint8Array(_0xe415f6[_0x4c6591(0x1b2)](0x4+_0x1b2f3f));return[this[_0x4c6591(0x64c)](_0x27d179[_0x4c6591(0x18c)]),_0x2f8f49[_0x4c6591(0x18c)]];}}const _0x3bfd28=0xc350;var _0x51ca89,_0x5340f1;!function(_0x136bc4){const _0x8bf113=_0x2ad6ba;_0x136bc4[_0x136bc4['High']=0x0]=_0x8bf113(0x342),_0x136bc4[_0x136bc4[_0x8bf113(0x3a9)]=0x1]=_0x8bf113(0x3a9),_0x136bc4[_0x136bc4[_0x8bf113(0x699)]=0x2]='Low';}(_0x51ca89||(_0x51ca89={}));class _0xad6261 extends _0x540dbc{[_0x2ad6ba(0x39a)];[_0x2ad6ba(0x562)];['senders']=new Map();[_0x2ad6ba(0x933)];[_0x2ad6ba(0x3d9)];[_0x2ad6ba(0x374)];['isReconnecting']=!0x1;[_0x2ad6ba(0x441)];[_0x2ad6ba(0x30b)];[_0x2ad6ba(0x509)];[_0x2ad6ba(0x910)]=function(e,t=_0x51ca89,s=!0x1){const _0x1aefad=_0x2ad6ba;let n=!0x1;const i=[];async function o(){const _0x51e04a=a0_0x119e;if(!n){for(n=!0x0;i[_0x51e04a(0x4df)](e=>e[_0x51e04a(0x2ba)]);){let t,n=0x0;for(const [e,s]of i[_0x51e04a(0x866)]())if(t=s[_0x51e04a(0x591)](),n=e,t)break;if(t)try{if(e instanceof _0x1d14d9&&e[_0x51e04a(0x5fe)](t),e instanceof _0x41c15c&&await e['call'](t),i['slice'](-0x1)[_0x51e04a(0x4df)](e=>e[_0x51e04a(0x2ba)]))continue;const s=i['length']-0x1;n===s&&i[s][_0x51e04a(0x2ba)]&&await _0x401df5[_0x51e04a(0x602)](0x0);}catch(o){s?i[n][_0x51e04a(0x673)](t,!0x1):i[n]['unshift'](t,!0x1),await e['wait']();}}n=!0x1;}}return Object[_0x1aefad(0x9c1)](t)[_0x1aefad(0x9a0)](e=>{'string'!=typeof e&&(i[e]=_0x198f36(o));}),{'queues':i};}(new _0x1d14d9(this['sendAction']['bind'](this),this[_0x2ad6ba(0x459)][_0x2ad6ba(0xa0a)](this)));[_0x2ad6ba(0x812)]=0x0;[_0x2ad6ba(0x18f)]=0x0;['timeSending']=0x0;[_0x2ad6ba(0x94b)]=0x0;[_0x2ad6ba(0x70e)];[_0x2ad6ba(0x572)]=_0x59f28c('SenderPeerConnection.send',_0x1b63ac[_0x2ad6ba(0x504)]);constructor(_0x4f083f,_0x46960e,_0x53e954,_0x25908d,_0x332967,_0x40ed52,_0x28dbc4,_0x3bfc06){const _0x54b785=_0x2ad6ba;super(_0x4f083f,_0x46960e,_0x53e954,_0x25908d,_0x332967,_0x3bfc06),this[_0x54b785(0x39a)]=_0x40ed52,this[_0x54b785(0x562)]=_0x28dbc4;}[_0x2ad6ba(0x27c)](){const _0x274ff4=_0x2ad6ba;this[_0x274ff4(0x5d0)](),this[_0x274ff4(0x7b1)](),delete this[_0x274ff4(0x374)],this[_0x274ff4(0x24a)](),this[_0x274ff4(0x9d6)](),this[_0x274ff4(0x6bc)](),this['senders'][_0x274ff4(0xa82)](),this[_0x274ff4(0x82a)]=!0x1,this[_0x274ff4(0x910)][_0x274ff4(0x7dc)]['forEach'](_0x4d16c8=>_0x4d16c8[_0x274ff4(0xa82)]()),this[_0x274ff4(0x447)](),super['close']();}[_0x2ad6ba(0x881)](){const _0x350a5e=_0x2ad6ba;return!!this[_0x350a5e(0x374)]&&super[_0x350a5e(0x881)]()&&Date[_0x350a5e(0x9fc)]()-this[_0x350a5e(0x374)]<0x3a98;}async[_0x2ad6ba(0x49e)](){const _0x40c473=_0x2ad6ba;this[_0x40c473(0x5a2)]&&(await this[_0x40c473(0x89b)][_0x40c473(0x2c3)](this['senders'],(_0x2ccb3d,_0x3ed873)=>{const _0x241160=_0x40c473;_0x484c0e({'type':_0x330228[_0x241160(0xa47)],'streamId':_0x3ed873,'nodeId':this[_0x241160(0x64e)],'stats':_0x2ccb3d},this[_0x241160(0x5a2)]);}),this[_0x40c473(0x5a2)][_0x40c473(0x29d)]({'sourceId':_0x124816,'messageType':_0x5f120e[_0x40c473(0x746)],'content':{'type':_0x330228['Stats'],'nodeId':this[_0x40c473(0x64e)],'stats':{'origin':_0x3141bb['Sender'],'timestamp':Date[_0x40c473(0x9fc)](),'messagesSent':this[_0x40c473(0x812)],'bytesSent':this[_0x40c473(0x18f)],'timeSending':this['timeSending'],'roundTripTime':this[_0x40c473(0x94b)]}}}));}async[_0x2ad6ba(0x216)](_0x30ba3c){const _0x5da7c5=_0x2ad6ba;_0xe8f382['log'](_0x1b63ac['Connection'],_0x5da7c5(0x712),this[_0x5da7c5(0x6e0)][_0x5da7c5(0x362)](),this[_0x5da7c5(0x64e)]),this[_0x5da7c5(0x24a)](),this[_0x5da7c5(0x9d6)](),this['clearWaitAnswer'](),this[_0x5da7c5(0x441)]=setTimeout(()=>{this['handleDisconnect']();},0x7530),this[_0x5da7c5(0xa57)]||(this[_0x5da7c5(0xa57)]=this[_0x5da7c5(0x89b)]['createDataChannel'](_0x5da7c5(0x19c)),this[_0x5da7c5(0xa57)]['bufferedAmountLowThreshold']=_0x11216e,this[_0x5da7c5(0xa57)][_0x5da7c5(0xabf)]=()=>{const _0x1e8361=_0x5da7c5;this[_0x1e8361(0x70e)]=setTimeout(()=>{const _0x3c92dc=_0x1e8361;delete this['oncloseTimeout'],[_0x3c92dc(0x41e),_0x3c92dc(0xa60)][_0x3c92dc(0x205)](this[_0x3c92dc(0xa57)]?.['state']??'')||this[_0x3c92dc(0x4bc)]();},0xfa);});const _0x25eaf0=await this[_0x5da7c5(0x89b)][_0x5da7c5(0x216)](_0x30ba3c);this['lastHeartbeat']||(this[_0x5da7c5(0x374)]=Date[_0x5da7c5(0x9fc)]());const _0x813a0d=(0x0,_0x145036['v4'])();this[_0x5da7c5(0x81f)]({'type':_0x330228['Offer'],'offer':_0x25eaf0,'version':this[_0x5da7c5(0x9a8)],'connectionType':this[_0x5da7c5(0xa3b)]},_0x813a0d),this[_0x5da7c5(0xa3b)]===_0x3d5fa4[_0x5da7c5(0x38c)]&&(this[_0x5da7c5(0x3d9)]=_0x401df5[_0x5da7c5(0x338)](()=>{const _0x3c1540=_0x5da7c5;this['publishSystemMessage']({'type':_0x330228[_0x3c1540(0x3fa)],'offer':_0x25eaf0,'version':this['currentVersion'],'connectionType':this[_0x3c1540(0xa3b)]},_0x813a0d);},0x1388));}async['handleAnswer'](_0x2f5318,_0xbe985b){const _0x265d21=_0x2ad6ba;if(_0xbe985b===this[_0x265d21(0x9a8)]){this[_0x265d21(0x6bc)]();try{await this[_0x265d21(0x89b)]['handleAnswer'](_0x2f5318,this[_0x265d21(0x216)][_0x265d21(0xa0a)](this)),this[_0x265d21(0x1ac)](),this[_0x265d21(0x9d6)](),this[_0x265d21(0x1e5)]();}catch(_0x5b3509){this[_0x265d21(0x4bc)]();}}}[_0x2ad6ba(0x9d3)](_0x243136){const _0x8e9245=_0x2ad6ba;if(!this[_0x8e9245(0xa57)])throw new _0x31ec66(_0x31ec66['codes'][_0x8e9245(0x517)],{'message':'DataChannel\x20is\x20not\x20initialized.','localId':this[_0x8e9245(0x6e0)][_0x8e9245(0x362)](),'remoteId':this[_0x8e9245(0x64e)],'eventMessage':_0x243136});if('open'!==this[_0x8e9245(0xa57)][_0x8e9245(0x9c0)])throw new _0x31ec66(_0x31ec66[_0x8e9245(0x4b6)][_0x8e9245(0x517)],{'message':_0x8e9245(0x7f9),'localId':this[_0x8e9245(0x6e0)][_0x8e9245(0x362)](),'remoteId':this[_0x8e9245(0x64e)],'eventMessage':_0x243136});let _0x918a9f;if(_0x243136[_0x8e9245(0x257)][_0x8e9245(0x19c)]instanceof ArrayBuffer){const _0x3122aa=_0x243136['content'][_0x8e9245(0x19c)];_0x243136={..._0x243136,'content':{..._0x243136[_0x8e9245(0x257)],'data':void 0x0}},_0x918a9f=this[_0x8e9245(0x6ab)](_0x243136,_0x3122aa);}else _0x918a9f=JSON[_0x8e9245(0x6a9)](_0x243136);if(_0x8e9245(0x488)==typeof _0x918a9f&&_0x918a9f[_0x8e9245(0x8e0)]>_0xb11a25)return void this[_0x8e9245(0x9f7)](_0x243136,_0x918a9f);0x0===_0x243136[_0x8e9245(0x994)]&&_0x243136['messageType']===_0x5f120e['Content']&&this[_0x8e9245(0x572)][_0x8e9245(0x5b8)][_0x8e9245(0x346)](()=>_0xe8f382[_0x8e9245(0xa40)](_0x1b63ac[_0x8e9245(0x504)],_0x8e9245(0x3ae),this[_0x8e9245(0x64e)],_0x302423(_0x243136)),void 0x0);const _0x3dbaf4=0x0===_0x243136[_0x8e9245(0x994)]&&[_0x5f120e[_0x8e9245(0x99c)],_0x5f120e[_0x8e9245(0x746)]][_0x8e9245(0x205)](_0x243136[_0x8e9245(0x7d8)])?_0x51ca89[_0x8e9245(0x342)]:_0x243136 instanceof ArrayBuffer?_0x51ca89[_0x8e9245(0x699)]:_0x51ca89[_0x8e9245(0x3a9)];this[_0x8e9245(0xa84)](_0x918a9f,_0x3dbaf4);}[_0x2ad6ba(0x8a1)](_0xf35f7c,_0x3e2525,_0x44644a,_0x2a247f){const _0x2c5358=_0x2ad6ba,_0x2631ab=(_0x4a26af=this['maxFps'],_0x5bb91b=this[_0x2c5358(0x562)],Math[_0x2c5358(0xa7f)](0xe1000*_0x4a26af*_0x5bb91b));var _0x4a26af,_0x5bb91b;const _0x16c676=this[_0x2c5358(0x76c)][_0x2c5358(0x736)](_0x3e2525['id'])||{'stream':_0x3e2525,'priority':_0x44644a,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x2631ab,'maxBitrate':_0x2631ab,'framerate':this[_0x2c5358(0x39a)],'maxFramerate':this[_0x2c5358(0x39a)],'tracks':{},'params':_0x2a247f},_0x351bd5=_0x16c676[_0x2c5358(0x171)][_0xf35f7c[_0x2c5358(0x7bc)]]||{'track':_0xf35f7c};if(_0x351bd5[_0x2c5358(0x4c5)]?(_0x351bd5[_0x2c5358(0xab8)]=_0xf35f7c,this['connection'][_0x2c5358(0x59f)](_0xf35f7c,_0x351bd5[_0x2c5358(0x4c5)])):_0x351bd5[_0x2c5358(0x4c5)]=this[_0x2c5358(0x89b)]['addTrack'](_0xf35f7c,_0x3e2525),_0x16c676['tracks'][_0xf35f7c[_0x2c5358(0x7bc)]]=_0x351bd5,_0x2a247f&&(_0x16c676[_0x2c5358(0x716)]=_0x2a247f),_0x2a247f&&_0x2c5358(0x28d)===_0x2a247f[_0x2c5358(0x7bc)]&&_0x2a247f[_0x2c5358(0x97a)]&&_0x2a247f['maxResolution']&&(_0x16c676[_0x2c5358(0x5e3)]=this['getResolutionScale'](_0x2a247f[_0x2c5358(0x97a)],_0x2a247f['maxResolution']),_0x16c676[_0x2c5358(0x276)]=_0x16c676[_0x2c5358(0x5e3)],_0x16c676['tracks'][_0x2c5358(0x28d)]&&_0x16c676[_0x2c5358(0x171)][_0x2c5358(0x28d)]['sender'])){const _0xfc1db3=_0x16c676[_0x2c5358(0x171)]['video']['sender'];this[_0x2c5358(0x89b)][_0x2c5358(0x5ac)](_0xfc1db3,Math[_0x2c5358(0xa7f)](0xa*_0x16c676[_0x2c5358(0x5e3)])/0xa,_0x16c676[_0x2c5358(0x333)],_0x16c676[_0x2c5358(0x90d)],_0x16c676[_0x2c5358(0x539)]);}this[_0x2c5358(0x76c)]['set'](_0x3e2525['id'],_0x16c676);}[_0x2ad6ba(0x6b6)](_0x46f0f1,_0x1921d3){const _0x557b4d=_0x2ad6ba,_0x54f42b=this[_0x557b4d(0x76c)]['get'](_0x46f0f1['id']);if(_0x54f42b&&_0x54f42b['priority']!==_0x1921d3&&(_0x54f42b[_0x557b4d(0x539)]=_0x1921d3,_0x54f42b[_0x557b4d(0x171)][_0x557b4d(0x28d)]&&_0x54f42b[_0x557b4d(0x171)]['video'][_0x557b4d(0x4c5)])){const _0x57cd92=_0x54f42b[_0x557b4d(0x171)][_0x557b4d(0x28d)]['sender'];this[_0x557b4d(0x89b)][_0x557b4d(0x5ac)](_0x57cd92,Math[_0x557b4d(0xa7f)](0xa*_0x54f42b[_0x557b4d(0x5e3)])/0xa,_0x54f42b[_0x557b4d(0x333)],_0x54f42b['bitrate'],_0x54f42b[_0x557b4d(0x539)]);}}[_0x2ad6ba(0x408)](_0x43065a,_0x5ab416){const _0x5b360d=_0x2ad6ba,_0x117eeb=this[_0x5b360d(0x76c)][_0x5b360d(0x736)](_0x43065a['id']);if(_0x117eeb){if(_0x117eeb[_0x5b360d(0x716)]=_0x5ab416,_0x5ab416&&_0x5b360d(0x28d)===_0x5ab416[_0x5b360d(0x7bc)]&&_0x5ab416['resolution']&&_0x5ab416[_0x5b360d(0x616)]){if(_0x117eeb['minResolutionScale']=this[_0x5b360d(0x25e)](_0x5ab416['resolution'],_0x5ab416[_0x5b360d(0x616)]),_0x117eeb[_0x5b360d(0x5e3)]<_0x117eeb[_0x5b360d(0x276)]&&(_0x117eeb[_0x5b360d(0x5e3)]=_0x117eeb[_0x5b360d(0x276)]),_0x117eeb[_0x5b360d(0x171)][_0x5b360d(0x28d)]&&_0x117eeb['tracks'][_0x5b360d(0x28d)][_0x5b360d(0x4c5)]){const _0x279831=_0x117eeb[_0x5b360d(0x171)]['video'][_0x5b360d(0x4c5)];this[_0x5b360d(0x89b)][_0x5b360d(0x5ac)](_0x279831,Math['floor'](0xa*_0x117eeb[_0x5b360d(0x5e3)])/0xa,_0x117eeb['framerate'],_0x117eeb[_0x5b360d(0x90d)],_0x117eeb[_0x5b360d(0x539)]);}this[_0x5b360d(0x5d0)](),this[_0x5b360d(0x722)]();}this[_0x5b360d(0x76c)]['set'](_0x43065a['id'],_0x117eeb);}}[_0x2ad6ba(0xa1b)](_0x3e904c,_0x3e9ba1){const _0x511388=_0x2ad6ba,_0x304ced=this[_0x511388(0x76c)]['get'](_0x3e9ba1['id']);if(_0x304ced){const _0x571142=_0x304ced[_0x511388(0x171)][_0x3e904c['kind']];_0x571142&&(_0x571142[_0x511388(0x4c5)]&&this['connection']['removeTrack'](_0x571142[_0x511388(0x4c5)]),_0x571142[_0x511388(0xab8)]=void 0x0);}}[_0x2ad6ba(0x549)](_0x3ef475){const _0x1986ff=_0x2ad6ba;this[_0x1986ff(0x5d0)]();const _0x303327=function(_0x5c5acc,_0xd9e5e7){const _0x2eba5c=_0x1986ff;return _0x5c5acc[_0x2eba5c(0xa22)]((_0xc79e6,_0x3aad65)=>_0xd9e5e7[_0x2eba5c(0x3c9)]===_0x4c89bc[_0x2eba5c(0x394)]?_0x3aad65[_0x2eba5c(0x539)]-_0xc79e6[_0x2eba5c(0x539)]:_0xc79e6['priority']-_0x3aad65[_0x2eba5c(0x539)])[_0x2eba5c(0x2e0)](_0x514830=>function(_0x2a1601,_0x67fb13){const _0x411789=_0x2eba5c;if(_0x67fb13['action']===_0x4c89bc[_0x411789(0x394)]){if(_0x67fb13[_0x411789(0x614)]===_0x3ed4e6['Resolution'])return _0x2a1601[_0x411789(0x5e3)]<0x4||_0x2a1601[_0x411789(0x2e7)]>0xf;if(_0x67fb13['component']===_0x3ed4e6[_0x411789(0x64a)])return _0x2a1601['maxBitrate']>_0x3bfd28;}return _0x2a1601[_0x411789(0x5e3)]>_0x2a1601[_0x411789(0x276)]||_0x2a1601['framerate']<_0x2a1601[_0x411789(0x2e7)]||_0x2a1601[_0x411789(0x90d)]<_0x2a1601[_0x411789(0x901)];}(_0x514830,_0xd9e5e7));}(Array[_0x1986ff(0x854)](this[_0x1986ff(0x76c)][_0x1986ff(0x9c1)]()),_0x3ef475);if(_0x303327&&(function(_0x1a5999,_0x2df3d1){const _0x149a36=_0x1986ff;_0x1a5999[_0x149a36(0x171)][_0x149a36(0x28d)]&&_0x1a5999['tracks'][_0x149a36(0x28d)]['sender']&&(_0x1a5999[_0x149a36(0x5e3)]=function(_0x4026ac,_0x2a10a7,_0x8f879){const _0x1c4ea4=_0x149a36;switch(_0x8f879['action']){case _0x4c89bc[_0x1c4ea4(0x394)]:_0x8f879[_0x1c4ea4(0x614)]===_0x3ed4e6[_0x1c4ea4(0x486)]&&(_0x4026ac+=0.5)>0x4&&(_0x4026ac=0x4);break;case _0x4c89bc[_0x1c4ea4(0x1a6)]:(_0x4026ac-=0.5)<_0x2a10a7&&(_0x4026ac=_0x2a10a7);}return _0x4026ac;}(_0x1a5999['resolutionScale'],_0x1a5999['minResolutionScale'],_0x2df3d1),_0x1a5999[_0x149a36(0x333)]=function(_0x522987,_0x55a1c4,_0x24c2b0){const _0x2c0be9=_0x149a36;switch(_0x24c2b0['action']){case _0x4c89bc['Downgrade']:_0x24c2b0['component']===_0x3ed4e6[_0x2c0be9(0x486)]&&(_0x522987-=0x3)<0xf&&(_0x522987=0xf);break;case _0x4c89bc[_0x2c0be9(0x1a6)]:(_0x522987+=0x3)>_0x55a1c4&&(_0x522987=_0x55a1c4);}return _0x522987;}(_0x1a5999['framerate'],_0x1a5999[_0x149a36(0x2e7)],_0x2df3d1),_0x1a5999[_0x149a36(0x90d)]=function(_0x4c9a29,_0x2af209,_0x272dc2){const _0x112d68=_0x149a36;switch(_0x272dc2['action']){case _0x4c89bc[_0x112d68(0x394)]:_0x272dc2['component']===_0x3ed4e6[_0x112d68(0x64a)]&&(_0x4c9a29*=0.75)<_0x3bfd28&&(_0x4c9a29=_0x3bfd28);break;case _0x4c89bc['Upgrade']:(_0x4c9a29*=1.25)>_0x2af209&&(_0x4c9a29=_0x2af209);}return _0x4c9a29;}(_0x1a5999[_0x149a36(0x90d)],_0x1a5999[_0x149a36(0x901)],_0x2df3d1));}(_0x303327,_0x3ef475),_0x303327['tracks'][_0x1986ff(0x28d)]&&_0x303327[_0x1986ff(0x171)][_0x1986ff(0x28d)][_0x1986ff(0x4c5)])){const _0x5d90c6=_0x303327[_0x1986ff(0x171)]['video'][_0x1986ff(0x4c5)];this['connection']['setEncodingParameters'](_0x5d90c6,Math['floor'](0xa*_0x303327[_0x1986ff(0x5e3)])/0xa,_0x303327[_0x1986ff(0x333)],_0x303327[_0x1986ff(0x90d)],_0x303327[_0x1986ff(0x539)]);}(_0x303327||_0x3ef475[_0x1986ff(0x3c9)]===_0x4c89bc[_0x1986ff(0x394)])&&this[_0x1986ff(0x722)]();}[_0x2ad6ba(0x925)](){const _0x1803d5=_0x2ad6ba;return this[_0x1803d5(0x910)]['queues'][_0x1803d5(0x735)]((_0x192fe2,_0x26a450)=>_0x192fe2+_0x26a450[_0x1803d5(0x399)],0x0)*_0x9ed6ad;}[_0x2ad6ba(0xa69)](){const _0x369e12=_0x2ad6ba;return this[_0x369e12(0xa57)]?.['bufferedAmount']??0x0;}[_0x2ad6ba(0x8bb)](){const _0x13c5d5=_0x2ad6ba;super['resetConnection'](),this[_0x13c5d5(0x447)](),this[_0x13c5d5(0x6bc)](),this[_0x13c5d5(0x76c)]['forEach'](_0x52c6de=>{const _0x519708=_0x13c5d5;_0x52c6de[_0x519708(0x171)]['video']&&(_0x52c6de[_0x519708(0x171)][_0x519708(0x28d)][_0x519708(0x4c5)]=void 0x0),_0x52c6de[_0x519708(0x171)][_0x519708(0x648)]&&(_0x52c6de[_0x519708(0x171)]['audio'][_0x519708(0x4c5)]=void 0x0);}),this[_0x13c5d5(0x82a)]=!0x0;}async[_0x2ad6ba(0x459)](){return new Promise(async _0x5647c1=>{const _0x3ac016=a0_0x119e;if(!this[_0x3ac016(0xa57)]||_0x3ac016(0xa60)!==this[_0x3ac016(0xa57)][_0x3ac016(0x9c0)])return await _0x401df5['wait'](0x64),void _0x5647c1();this[_0x3ac016(0xa57)][_0x3ac016(0x5fa)]<_0x11216e?_0x5647c1():this[_0x3ac016(0xa57)]['onBufferedAmountLow']=()=>{const _0x3b2555=_0x3ac016;this[_0x3b2555(0xa57)]&&(this[_0x3b2555(0xa57)][_0x3b2555(0xa07)]=null),_0x5647c1();};});}async[_0x2ad6ba(0x9f7)](_0x3ddcec,_0x2ac588){const _0x11bb69=_0x2ad6ba,_0x49a374=[];for(let _0x3955dc=0x0;_0x3955dc<_0x2ac588[_0x11bb69(0x8e0)];_0x3955dc+=_0xb11a25)_0x49a374['push'](_0x2ac588[_0x11bb69(0x1b2)](_0x3955dc,_0x3955dc+_0xb11a25));for(const _0x532e of _0x49a374){for(;this['retryQueue']['queues'][_0x51ca89[_0x11bb69(0x699)]][_0x11bb69(0x399)]>0x1;)await _0x401df5[_0x11bb69(0x602)](0x64);this[_0x11bb69(0xa84)](_0x455bd2+';'+_0x3ddcec[_0x11bb69(0x23b)]+';'+_0x49a374['indexOf'](_0x532e)+';'+_0x49a374[_0x11bb69(0x8e0)]+';'+_0x532e,_0x51ca89[_0x11bb69(0x699)]);}}async[_0x2ad6ba(0xa84)](_0x426526,_0x59bf6d){const _0x1a7791=_0x2ad6ba;_0x426526===_0x43a5a4?this[_0x1a7791(0x910)][_0x1a7791(0x7dc)][_0x59bf6d][_0x1a7791(0x2ba)]?.[_0x1a7791(0x393)]!==_0x43a5a4&&this[_0x1a7791(0x910)]['queues'][_0x59bf6d]['unshift'](_0x426526):this[_0x1a7791(0x910)][_0x1a7791(0x7dc)][_0x59bf6d]['push'](_0x426526);}[_0x2ad6ba(0x1ae)](_0x226ac9){const _0x53a03a=_0x2ad6ba;if(!this['dataChannel']||'open'!==this['dataChannel'][_0x53a03a(0x9c0)])throw new Error('DataChannel\x20is\x20not\x20open.');if(this[_0x53a03a(0xa57)][_0x53a03a(0x5fa)]>=0x600000)throw new Error(_0x53a03a(0x426));const _0x408f1f=Date['now']();_0x226ac9!==_0x43a5a4&&(this[_0x53a03a(0x812)]+=0x1,this[_0x53a03a(0x18f)]+=_0x226ac9 instanceof ArrayBuffer?_0x226ac9[_0x53a03a(0x918)]:_0x226ac9['length']);try{ArrayBuffer,this[_0x53a03a(0xa57)][_0x53a03a(0x9d3)](_0x226ac9);}catch(_0x3b7b41){throw console[_0x53a03a(0x60c)]('DataChannel\x20send\x20error',_0x3b7b41),_0x3b7b41;}this[_0x53a03a(0x265)]+=Date['now']()-_0x408f1f;}[_0x2ad6ba(0x1e5)](){const _0x137df5=_0x2ad6ba;this[_0x137df5(0x933)]&&this[_0x137df5(0x7b1)]();let _0x1f23b8=!0x0,_0x7425c2=Date['now']();this[_0x137df5(0x374)]=Date[_0x137df5(0x9fc)](),this[_0x137df5(0xa57)]['onMessage']=_0x28d609=>{const _0xb596c1=_0x137df5;'1'===_0x28d609['data']&&(this[_0xb596c1(0x94b)]=Date[_0xb596c1(0x9fc)]()-_0x7425c2,_0x1f23b8&&this['publishSystemMessage']({'type':_0x330228[_0xb596c1(0x896)]}),_0x1f23b8=!0x1,this['lastHeartbeat']=Date[_0xb596c1(0x9fc)](),this['isReconnecting']&&(this[_0xb596c1(0x82a)]=!0x1,this[_0xb596c1(0x87d)]()));},this[_0x137df5(0x933)]=_0x401df5[_0x137df5(0x338)](()=>{const _0x32c914=_0x137df5;_0x7425c2=Date[_0x32c914(0x9fc)](),this[_0x32c914(0xa84)](_0x43a5a4,_0x51ca89['High']),Date[_0x32c914(0x9fc)]()-this['lastHeartbeat']>(_0x1f23b8?0x15f90:0x3a98)&&this['handleDisconnect']();},0xbb8);}['handleMissingSenders'](){const _0x59111e=_0x2ad6ba;this[_0x59111e(0x76c)][_0x59111e(0x9a0)](_0x12fd4a=>{const _0x45f4c2=_0x59111e;_0x12fd4a[_0x45f4c2(0x171)][_0x45f4c2(0x28d)]&&_0x12fd4a[_0x45f4c2(0x171)][_0x45f4c2(0x28d)][_0x45f4c2(0xab8)]&&!_0x12fd4a[_0x45f4c2(0x171)][_0x45f4c2(0x28d)][_0x45f4c2(0x4c5)]&&(_0x12fd4a[_0x45f4c2(0x171)][_0x45f4c2(0x28d)][_0x45f4c2(0x4c5)]=this[_0x45f4c2(0x89b)][_0x45f4c2(0x8a1)](_0x12fd4a[_0x45f4c2(0x171)][_0x45f4c2(0x28d)][_0x45f4c2(0xab8)],_0x12fd4a[_0x45f4c2(0x707)])),_0x12fd4a[_0x45f4c2(0x171)][_0x45f4c2(0x648)]&&_0x12fd4a[_0x45f4c2(0x171)][_0x45f4c2(0x648)][_0x45f4c2(0xab8)]&&!_0x12fd4a[_0x45f4c2(0x171)][_0x45f4c2(0x648)][_0x45f4c2(0x4c5)]&&(_0x12fd4a[_0x45f4c2(0x171)][_0x45f4c2(0x648)][_0x45f4c2(0x4c5)]=this[_0x45f4c2(0x89b)][_0x45f4c2(0x8a1)](_0x12fd4a['tracks'][_0x45f4c2(0x648)][_0x45f4c2(0xab8)],_0x12fd4a['stream']));});}['sendIceCandidates'](){const _0x50259a=_0x2ad6ba;this[_0x50259a(0x81f)]({'type':_0x330228[_0x50259a(0x647)],'candidates':this[_0x50259a(0x577)],'origin':_0x3141bb['Sender'],'version':this['currentVersion'],'connectionType':this[_0x50259a(0xa3b)]});}['setupConnectionEvents'](){const _0x5983d1=_0x2ad6ba;super[_0x5983d1(0x1be)](),this[_0x5983d1(0x89b)][_0x5983d1(0x68e)]=()=>{const _0x166101=_0x5983d1;if(_0x166101(0x860)===this[_0x166101(0x89b)][_0x166101(0x255)]){_0xe8f382['log'](_0x1b63ac['ConnectionState'],_0x166101(0x280),this[_0x166101(0x6e0)][_0x166101(0x362)](),this['remoteId']);try{if(this[_0x166101(0x89b)][_0x166101(0x427)])return void this['connection'][_0x166101(0x250)]();}catch(_0x245399){}this['createOffer']({'handshakeRestart':!0x0});}},this[_0x5983d1(0x89b)][_0x5983d1(0x382)]=()=>{const _0x4f9dd0=_0x5983d1;_0x4f9dd0(0x4cb)!==this['connection'][_0x4f9dd0(0x965)]&&_0x4f9dd0(0x860)!==this[_0x4f9dd0(0x89b)][_0x4f9dd0(0x965)]||this[_0x4f9dd0(0x4bc)]();};}[_0x2ad6ba(0x4bc)](){const _0x522788=_0x2ad6ba;this['clearHeartbeat'](),this[_0x522788(0x24a)](),this[_0x522788(0x9d6)](),_0xe8f382[_0x522788(0x4a2)]('disconnect',{'clusterId':this['clusterId'],'nodeId':this['localNode'][_0x522788(0x362)](),'nodeType':this['localNode']['type'],'remoteId':this[_0x522788(0x64e)],'data':{'connectionType':this[_0x522788(0xa3b)],'connectionState':this['connection'][_0x522788(0x965)],'iceConnectionState':this[_0x522788(0x89b)][_0x522788(0x255)],'signalingState':this[_0x522788(0x89b)]['signalingState'],'readyState':this[_0x522788(0xa57)]?.[_0x522788(0x9c0)]||'','lastHeartbeat':this[_0x522788(0x374)]?Date[_0x522788(0x9fc)]()-this['lastHeartbeat']:'','retryQueue':this[_0x522788(0x910)]}}),(this[_0x522788(0x374)]&&Date[_0x522788(0x9fc)]()-this[_0x522788(0x374)]>0xea60)??0x1?this['systemTopic'][_0x522788(0x29d)]({'sourceId':this[_0x522788(0x64e)],'destinationIds':[this['localNode']['getId']()],'messageType':_0x5f120e[_0x522788(0x746)],'content':{'type':_0x330228[_0x522788(0x211)]}}):(this[_0x522788(0x8bb)](),this[_0x522788(0x81f)]({'type':_0x330228[_0x522788(0x298)],'version':this[_0x522788(0x9a8)],'connectionType':this[_0x522788(0xa3b)]}),this[_0x522788(0x30b)]=setTimeout(()=>{const _0x270659=_0x522788;this[_0x270659(0x4bc)]();},0x7530));}[_0x2ad6ba(0x7b1)](){const _0x3ce357=_0x2ad6ba;this[_0x3ce357(0x933)]?.(),delete this['heartbeatUnsubscriber'];}[_0x2ad6ba(0x9d6)](){const _0x55650b=_0x2ad6ba;this['connectionTimeout']&&(clearTimeout(this[_0x55650b(0x441)]),delete this['connectionTimeout']);}[_0x2ad6ba(0x24a)](){const _0x6b388c=_0x2ad6ba;this[_0x6b388c(0x30b)]&&(clearTimeout(this['restartTimeout']),delete this[_0x6b388c(0x30b)]);}['clearUpgradeTimeout'](){const _0x13c047=_0x2ad6ba;this[_0x13c047(0x509)]&&(clearTimeout(this[_0x13c047(0x509)]),delete this[_0x13c047(0x509)]);}[_0x2ad6ba(0x722)](){this['upgradeTimeout']=setTimeout(()=>{const _0xc5b907=a0_0x119e;this['applyRemediation']({'type':_0x3cd557['Remediation'],'action':_0x4c89bc[_0xc5b907(0x1a6)]});},0x3a98);}['getResolutionScale'](_0x2118af,_0x46cf1f){const _0x288d54=_0x2ad6ba,_0x2859e4=Math[_0x288d54(0x1b0)](_0x2118af[_0x288d54(0x49a)]/_0x46cf1f['width'],_0x2118af[_0x288d54(0x529)]/_0x46cf1f[_0x288d54(0x529)]);return Math[_0x288d54(0x9e7)](Math[_0x288d54(0x1b0)](_0x2859e4,0x1),0x4);}['clearWaitAnswer'](){const _0x52bb32=_0x2ad6ba;this[_0x52bb32(0x3d9)]?.(),delete this[_0x52bb32(0x3d9)];}[_0x2ad6ba(0x447)](){const _0x1de05f=_0x2ad6ba;this[_0x1de05f(0x70e)]&&(clearTimeout(this['oncloseTimeout']),delete this[_0x1de05f(0x70e)]);}['objectToArrayBuffer'](_0x414d71){const _0x308495=_0x2ad6ba,_0x5384f1=JSON['stringify'](_0x414d71);return new TextEncoder()[_0x308495(0x2d2)](_0x5384f1)[_0x308495(0x18c)];}[_0x2ad6ba(0x6ab)](_0x6de960,_0x35c3d1){const _0x5664e3=_0x2ad6ba,_0x276025=this[_0x5664e3(0x7c9)](_0x6de960),_0x3ef170=new Uint8Array(0x4),_0x294930=new Uint8Array(_0x276025),_0x1d8b43=new Uint8Array(_0x35c3d1);_0x3ef170[_0x5664e3(0x50f)](new Uint8Array(new Uint32Array([_0x294930[_0x5664e3(0x8e0)]])[_0x5664e3(0x18c)]));const _0x253f7e=new Uint8Array(0x4+_0x294930[_0x5664e3(0x8e0)]+_0x1d8b43[_0x5664e3(0x8e0)]);return _0x253f7e[_0x5664e3(0x50f)](_0x3ef170),_0x253f7e[_0x5664e3(0x50f)](_0x294930,0x4),_0x253f7e[_0x5664e3(0x50f)](_0x1d8b43,0x4+_0x294930['length']),_0x253f7e[_0x5664e3(0x18c)];}}class _0x3ea0e6 extends _0x363876{[_0x2ad6ba(0x2eb)];[_0x2ad6ba(0xa3b)];['maxFps'];[_0x2ad6ba(0x562)];[_0x2ad6ba(0x9d5)];[_0x2ad6ba(0x997)];[_0x2ad6ba(0x22a)];[_0x2ad6ba(0x70d)]=[];['messageListeners']=_0x2af2eb();['trackListeners']=_0x2af2eb();[_0x2ad6ba(0x879)]=_0x2af2eb();[_0x2ad6ba(0x928)]=[];['systemTopic'];['dataTopics']=new Map();['dataUnsubscribers']=new Map();[_0x2ad6ba(0x1d7)]=new Map();[_0x2ad6ba(0x77f)]=new Map();[_0x2ad6ba(0xa42)]=!0x1;constructor(_0x12dc4b,_0xe76e6f,_0x550cd7,_0x55d87e,_0x246a4c,_0x4e32b8,_0x3aa6ba,_0x3d2559){const _0x56fd85=_0x2ad6ba;super(_0x12dc4b,_0xe76e6f,_0x550cd7),this['iceServers']=_0x55d87e,this[_0x56fd85(0xa3b)]=_0x246a4c,this['maxFps']=_0x4e32b8,this[_0x56fd85(0x562)]=_0x3aa6ba,this[_0x56fd85(0x9d5)]=_0x3d2559;}['registerPublisher'](_0x2f9cb6){const _0x28d82c=_0x2ad6ba;switch(_0x2f9cb6[_0x28d82c(0x30c)]()){case _0x406df3[_0x28d82c(0x525)][_0x28d82c(0xaa7)]:case _0x406df3['ContentType']['PubSub']:case _0x406df3[_0x28d82c(0x525)]['ObjectStore']:case _0x406df3[_0x28d82c(0x525)]['KeyValueDatabase']:case _0x406df3[_0x28d82c(0x525)][_0x28d82c(0x8ed)]:case _0x406df3['ContentType'][_0x28d82c(0x9e6)]:case _0x406df3[_0x28d82c(0x525)][_0x28d82c(0x57e)]:case _0x406df3[_0x28d82c(0x525)][_0x28d82c(0x5ca)]:this[_0x28d82c(0x315)][_0x28d82c(0x50f)](_0x2f9cb6[_0x28d82c(0x5c3)](),_0x2f9cb6);break;case _0x406df3[_0x28d82c(0x525)]['Media']:this[_0x28d82c(0x1d7)][_0x28d82c(0x50f)](_0x2f9cb6[_0x28d82c(0x5c3)](),_0x2f9cb6);}}[_0x2ad6ba(0x30d)](_0x141eec){const _0x4edfb5=_0x2ad6ba;switch(_0x141eec['getContentType']()){case _0x406df3[_0x4edfb5(0x525)][_0x4edfb5(0xaa7)]:case _0x406df3[_0x4edfb5(0x525)][_0x4edfb5(0x8a9)]:case _0x406df3[_0x4edfb5(0x525)]['ObjectStore']:case _0x406df3[_0x4edfb5(0x525)][_0x4edfb5(0x924)]:case _0x406df3['ContentType']['Job']:case _0x406df3[_0x4edfb5(0x525)][_0x4edfb5(0x9e6)]:case _0x406df3[_0x4edfb5(0x525)][_0x4edfb5(0x57e)]:case _0x406df3[_0x4edfb5(0x525)][_0x4edfb5(0x5ca)]:this[_0x4edfb5(0x315)]['delete'](_0x141eec[_0x4edfb5(0x5c3)]());break;case _0x406df3[_0x4edfb5(0x525)][_0x4edfb5(0x479)]:this[_0x4edfb5(0x1d7)][_0x4edfb5(0xa12)](_0x141eec[_0x4edfb5(0x5c3)]());}}[_0x2ad6ba(0x95c)](_0x5512de){const _0x320570=_0x2ad6ba;switch(_0x5512de[_0x320570(0x30c)]()){case _0x406df3[_0x320570(0x525)][_0x320570(0xaa7)]:case _0x406df3[_0x320570(0x525)][_0x320570(0x8a9)]:case _0x406df3[_0x320570(0x525)][_0x320570(0x41d)]:case _0x406df3[_0x320570(0x525)][_0x320570(0x924)]:case _0x406df3[_0x320570(0x525)]['Job']:case _0x406df3[_0x320570(0x525)][_0x320570(0x9e6)]:case _0x406df3['ContentType'][_0x320570(0x57e)]:case _0x406df3[_0x320570(0x525)][_0x320570(0x5ca)]:{const _0x1139b5=_0x5512de['subscribe'](_0x4b87b2=>{const _0x1034dd=_0x320570;_0x47c141(_0x4b87b2,this['getLocalId']())&&_0x3bfc8d(_0x4b87b2,this[_0x1034dd(0x64e)])&&this[_0x1034dd(0x9d3)](_0x4b87b2);});this[_0x320570(0x2d5)][_0x320570(0x50f)](_0x5512de[_0x320570(0x5c3)](),_0x1139b5);break;}case _0x406df3[_0x320570(0x525)][_0x320570(0x479)]:{const _0xa8462a=_0x5512de['subscribe'](({content:_0x243440})=>{const _0x19e0b6=_0x320570;switch(_0x243440[_0x19e0b6(0x3c9)]){case _0x39a19c[_0x19e0b6(0x45e)]:this[_0x19e0b6(0x8a1)](_0x243440['track'],_0x243440[_0x19e0b6(0x707)],_0x243440[_0x19e0b6(0x539)],_0x243440['params']);break;case _0x39a19c[_0x19e0b6(0x288)]:this[_0x19e0b6(0xa1b)](_0x243440[_0x19e0b6(0xab8)],_0x243440[_0x19e0b6(0x707)]);break;case _0x39a19c['Update']:_0x243440[_0x19e0b6(0x539)]&&this[_0x19e0b6(0x6b6)](_0x243440[_0x19e0b6(0x707)],_0x243440[_0x19e0b6(0x539)]),_0x243440[_0x19e0b6(0x716)]&&this['setParams'](_0x243440['stream'],_0x243440[_0x19e0b6(0x716)]);}});this[_0x320570(0x77f)][_0x320570(0x50f)](_0x5512de[_0x320570(0x5c3)](),_0xa8462a);break;}}}[_0x2ad6ba(0x5d9)](_0x4da33b){const _0x2fe82d=_0x2ad6ba;switch(_0x4da33b[_0x2fe82d(0x30c)]()){case _0x406df3[_0x2fe82d(0x525)][_0x2fe82d(0xaa7)]:case _0x406df3[_0x2fe82d(0x525)][_0x2fe82d(0x8a9)]:case _0x406df3['ContentType'][_0x2fe82d(0x41d)]:case _0x406df3[_0x2fe82d(0x525)][_0x2fe82d(0x924)]:case _0x406df3[_0x2fe82d(0x525)][_0x2fe82d(0x8ed)]:case _0x406df3[_0x2fe82d(0x525)][_0x2fe82d(0x9e6)]:case _0x406df3[_0x2fe82d(0x525)][_0x2fe82d(0x57e)]:case _0x406df3[_0x2fe82d(0x525)][_0x2fe82d(0x5ca)]:this['dataUnsubscribers'][_0x2fe82d(0x736)](_0x4da33b[_0x2fe82d(0x5c3)]())?.(),this[_0x2fe82d(0x2d5)][_0x2fe82d(0xa12)](_0x4da33b[_0x2fe82d(0x5c3)]());break;case _0x406df3['ContentType'][_0x2fe82d(0x479)]:this[_0x2fe82d(0x77f)][_0x2fe82d(0x736)](_0x4da33b[_0x2fe82d(0x5c3)]())?.(),this[_0x2fe82d(0x77f)][_0x2fe82d(0xa12)](_0x4da33b[_0x2fe82d(0x5c3)]());}}[_0x2ad6ba(0x52e)](){const _0x5a04c5=_0x2ad6ba;return[_0x406df3[_0x5a04c5(0x525)][_0x5a04c5(0xaa7)],_0x406df3['ContentType'][_0x5a04c5(0x479)],_0x406df3[_0x5a04c5(0x525)]['PubSub'],_0x406df3[_0x5a04c5(0x525)][_0x5a04c5(0x41d)],_0x406df3['ContentType'][_0x5a04c5(0x924)],_0x406df3[_0x5a04c5(0x525)]['Job'],_0x406df3['ContentType'][_0x5a04c5(0x9e6)],_0x406df3['ContentType'][_0x5a04c5(0x57e)],_0x406df3[_0x5a04c5(0x525)][_0x5a04c5(0x5ca)]];}['registerSystemPublisher'](_0x1aae75){const _0xec8db=_0x2ad6ba;this[_0xec8db(0x5a2)]=_0x1aae75;}[_0x2ad6ba(0x460)](){const _0x2b7c72=_0x2ad6ba;delete this[_0x2b7c72(0x5a2)];}async['connect'](){this['setupListeners'](),await this['createOffer']();}[_0x2ad6ba(0x27c)](){const _0x49daf1=_0x2ad6ba;this['listenerUnsubscribers']['forEach'](_0x140cee=>_0x140cee()),this[_0x49daf1(0x928)]=[],this['senderConnection']?.[_0x49daf1(0x460)](),this[_0x49daf1(0x997)]?.[_0x49daf1(0x27c)](),delete this[_0x49daf1(0x997)],this[_0x49daf1(0x70d)][_0x49daf1(0x9a0)](_0x36ecad=>_0x36ecad()),this[_0x49daf1(0x70d)]=[],this[_0x49daf1(0x22a)]?.[_0x49daf1(0x460)](),this['receiverConnection']?.['close'](),delete this['receiverConnection'];}[_0x2ad6ba(0x881)](){const _0x39bf48=_0x2ad6ba;return this[_0x39bf48(0x997)]?.['isConnected']()&&this['receiverConnection']?.[_0x39bf48(0x881)]()||!0x1;}[_0x2ad6ba(0x9d3)](_0x1275b1){const _0x8c1ca5=_0x2ad6ba;if(!this[_0x8c1ca5(0x997)]||!this[_0x8c1ca5(0x881)]())throw new _0x31ec66(_0x31ec66['codes'][_0x8c1ca5(0x63b)],{'message':_0x8c1ca5(0x71d),'senderConnected':this[_0x8c1ca5(0x997)]?.[_0x8c1ca5(0x881)](),'receiverConnected':this[_0x8c1ca5(0x22a)]?.[_0x8c1ca5(0x881)](),'localId':this[_0x8c1ca5(0x4a8)](),'remoteId':this[_0x8c1ca5(0x64e)],'data':_0x1275b1});this[_0x8c1ca5(0x997)][_0x8c1ca5(0x9d3)](_0x1275b1);}[_0x2ad6ba(0x435)](_0x1986fe){const _0x2883e4=_0x2ad6ba;return this[_0x2883e4(0x4a0)][_0x2883e4(0x208)](_0x1986fe);}[_0x2ad6ba(0x500)](_0x44f044){const _0x24c0bb=_0x2ad6ba;return this[_0x24c0bb(0x55e)]['subscribe'](({track:_0x154ac1,stream:_0x4d499f})=>_0x44f044(_0x154ac1,_0x4d499f));}[_0x2ad6ba(0x97f)](_0x3eea79){const _0x44590d=_0x2ad6ba;return this[_0x44590d(0x879)][_0x44590d(0x208)](({track:_0x152a5d,stream:_0x3c3383})=>_0x3eea79(_0x152a5d,_0x3c3383));}['addTrack'](_0x3192df,_0x57953e,_0x5a5fa6,_0x73ca42){this['senderConnection']?.['addTrack'](_0x3192df,_0x57953e,_0x5a5fa6,_0x73ca42);}['setPriority'](_0xf57acc,_0x4d9ff0){const _0x284ea0=_0x2ad6ba;this[_0x284ea0(0x997)]?.['setPriority'](_0xf57acc,_0x4d9ff0);}[_0x2ad6ba(0x408)](_0x1af59c,_0x1d120d){const _0x16c508=_0x2ad6ba;this[_0x16c508(0x997)]?.[_0x16c508(0x408)](_0x1af59c,_0x1d120d);}['removeTrack'](_0x32e03d,_0x1ec70a){const _0x4d7283=_0x2ad6ba;this[_0x4d7283(0x997)]?.[_0x4d7283(0xa1b)](_0x32e03d,_0x1ec70a);}async[_0x2ad6ba(0x3d5)](_0x744fb6){const _0x45a2c3=_0x2ad6ba;_0xe8f382['log'](_0x1b63ac[_0x45a2c3(0x645)],_0x45a2c3(0x5bc),this[_0x45a2c3(0x4a8)](),_0x744fb6);const {content:_0x1020d8}=_0x744fb6;switch(_0x1020d8[_0x45a2c3(0x285)]){case _0x330228[_0x45a2c3(0x3fa)]:await this['handleOffer'](_0x1020d8);break;case _0x330228[_0x45a2c3(0x865)]:await this[_0x45a2c3(0x4e1)](_0x1020d8);break;case _0x330228[_0x45a2c3(0x896)]:this[_0x45a2c3(0x720)]();break;case _0x330228[_0x45a2c3(0x647)]:await this[_0x45a2c3(0x7bb)](_0x1020d8);break;case _0x330228[_0x45a2c3(0x298)]:this[_0x45a2c3(0x5e5)](_0x1020d8);break;case _0x330228[_0x45a2c3(0x28e)]:await this[_0x45a2c3(0x216)]();}}[_0x2ad6ba(0x8bf)](_0x43b1b8){const _0xed1412=_0x2ad6ba;this[_0xed1412(0x997)]?.[_0xed1412(0x549)](_0x43b1b8[_0xed1412(0x257)][_0xed1412(0x19c)]);}['getConnectionType'](){const _0x3c078b=_0x2ad6ba;return this[_0x3c078b(0xa3b)];}['setConnectionType'](_0x310947){const _0x15947d=_0x2ad6ba;this[_0x15947d(0xa3b)]=_0x310947,this['senderConnection']?.[_0x15947d(0x2f9)](_0x310947),this['receiverConnection']?.[_0x15947d(0x2f9)](_0x310947);}async[_0x2ad6ba(0x49e)](){const _0x27b243=_0x2ad6ba;await this[_0x27b243(0x997)]?.[_0x27b243(0x49e)](),await this[_0x27b243(0x22a)]?.[_0x27b243(0x49e)]();}['calculateArrayBufferSize'](){const _0x2e8324=_0x2ad6ba;return this[_0x2e8324(0x997)]?.[_0x2e8324(0x925)]()??0x0;}[_0x2ad6ba(0xa69)](){const _0x5158d1=_0x2ad6ba;return this[_0x5158d1(0x997)]?.[_0x5158d1(0xa69)]()??0x0;}[_0x2ad6ba(0xa46)](){const _0x1a2023=_0x2ad6ba;this['listenerUnsubscribers'][_0x1a2023(0x673)](this['onMessage'](_0xf3e5c=>{const _0x28a94a=_0x1a2023;_0x3bfc8d(_0xf3e5c,this[_0x28a94a(0x4a8)]())&&0x0!==_0xf3e5c[_0x28a94a(0x994)]&&this['dataTopics'][_0x28a94a(0x736)](_0xf3e5c[_0x28a94a(0x994)])?.['publish'](_0xf3e5c);})),this[_0x1a2023(0x928)]['push'](this[_0x1a2023(0x500)]((_0x208c93,_0xe5fa4)=>{const _0x32fc07=_0x1a2023,_0x39859f=_0x58867d(_0x406df3['ContentType'][_0x32fc07(0x479)],_0xe5fa4['id'],this[_0x32fc07(0x64e)]);this['mediaTopics'][_0x32fc07(0x736)](_0x39859f)?.[_0x32fc07(0x29d)]({'topicLabel':_0x39859f,'sourceId':this[_0x32fc07(0x64e)],'contentType':_0x406df3['ContentType'][_0x32fc07(0x479)],'content':{'action':_0x39a19c[_0x32fc07(0x75e)],'track':_0x208c93,'stream':_0xe5fa4,'providerId':this[_0x32fc07(0x64e)]}});})),this[_0x1a2023(0x928)][_0x1a2023(0x673)](this['onRemoveTrack']((_0x2ff8ee,_0x1df87e)=>{const _0x23a042=_0x1a2023,_0x529d14=_0x58867d(_0x406df3['ContentType'][_0x23a042(0x479)],_0x1df87e['id'],this[_0x23a042(0x64e)]);this['mediaTopics']['get'](_0x529d14)?.[_0x23a042(0x29d)]({'topicLabel':_0x529d14,'sourceId':this['remoteId'],'contentType':_0x406df3['ContentType'][_0x23a042(0x479)],'content':{'action':_0x39a19c[_0x23a042(0x3ad)],'track':_0x2ff8ee,'stream':_0x1df87e,'providerId':this[_0x23a042(0x64e)]}});}));}[_0x2ad6ba(0x7bb)]({candidates:_0x6cbcdf,origin:_0x575fe8,version:_0x253897}){const _0x315b45=_0x2ad6ba;return _0x575fe8===_0x3141bb[_0x315b45(0x814)]?(this['receiverConnection']||this['createReceiverConnection'](),this['receiverConnection'][_0x315b45(0x6f6)](_0x6cbcdf,_0x253897)):this['senderConnection'][_0x315b45(0x6f6)](_0x6cbcdf,_0x253897);}async[_0x2ad6ba(0x216)](){const _0x2b1144=_0x2ad6ba;this[_0x2b1144(0x997)]||this['createSenderConnection'](),await this[_0x2b1144(0x997)]['createOffer']();}async[_0x2ad6ba(0x7d4)]({offer:_0x8c5e10,version:_0x38c9f8}){const _0x3225b1=_0x2ad6ba;this['receiverConnection']||this[_0x3225b1(0x38b)](),await this[_0x3225b1(0x22a)][_0x3225b1(0x7d4)](_0x8c5e10,_0x38c9f8);}async[_0x2ad6ba(0x4e1)]({answer:_0x3cf1db,version:_0x471122}){const _0x4ae991=_0x2ad6ba;if(!this[_0x4ae991(0x997)])throw new _0x31ec66(_0x31ec66[_0x4ae991(0x4b6)][_0x4ae991(0x63b)],{'message':_0x4ae991(0x4fe),'localId':this[_0x4ae991(0x4a8)](),'remoteId':this[_0x4ae991(0x64e)],'answer':_0x3cf1db});await this['senderConnection']['handleAnswer'](_0x3cf1db,_0x471122);}[_0x2ad6ba(0x720)](){const _0x158ea2=_0x2ad6ba;if(!this['receiverConnection'])throw new _0x31ec66(_0x31ec66['codes'][_0x158ea2(0x63b)],{'message':'Receiver\x20connection\x20is\x20not\x20initialized.','localId':this['getLocalId'](),'remoteId':this['remoteId']});this[_0x158ea2(0x22a)][_0x158ea2(0x720)](),this[_0x158ea2(0xa42)]||this[_0x158ea2(0xa3b)]!==_0x3d5fa4[_0x158ea2(0x574)]||(this['successNotified']=!0x0,this[_0x158ea2(0x5a2)]?.[_0x158ea2(0x29d)]({'sourceId':this['remoteId'],'destinationIds':[this[_0x158ea2(0x4a8)]()],'messageType':_0x5f120e[_0x158ea2(0x746)],'content':{'type':_0x330228[_0x158ea2(0x4c4)]}}));}[_0x2ad6ba(0x5e5)](_0x538f38){const _0x26f24b=_0x2ad6ba;this[_0x26f24b(0x22a)]||this[_0x26f24b(0x38b)](),this[_0x26f24b(0x22a)][_0x26f24b(0x5e5)](_0x538f38[_0x26f24b(0x354)]);}[_0x2ad6ba(0x55f)](){const _0xd69690=_0x2ad6ba;this[_0xd69690(0x997)]=new _0xad6261(this[_0xd69690(0x58c)],this['localNode'],this[_0xd69690(0x64e)],this[_0xd69690(0x2eb)],this[_0xd69690(0xa3b)],this[_0xd69690(0x39a)],this['maxBpp'],this[_0xd69690(0x9d5)]),this['senderConnection']['registerSystemPublisher'](this[_0xd69690(0x5a2)]);}[_0x2ad6ba(0x38b)](){const _0x295013=_0x2ad6ba;this[_0x295013(0x22a)]=new _0x1c315e(this[_0x295013(0x58c)],this[_0x295013(0x6e0)],this['remoteId'],this[_0x295013(0x2eb)],this['connectionType'],this[_0x295013(0x9d5)]),this['receiverConnection'][_0x295013(0x3ba)](this['systemTopic']),this['receiverUnsubscribers'][_0x295013(0x673)](this[_0x295013(0x22a)][_0x295013(0x435)](_0x10e08f=>this[_0x295013(0x4a0)][_0x295013(0x29d)](_0x10e08f))),this[_0x295013(0x70d)][_0x295013(0x673)](this[_0x295013(0x22a)][_0x295013(0x500)]((_0xfb57f,_0x224d7f)=>this[_0x295013(0x55e)][_0x295013(0x29d)]({'track':_0xfb57f,'stream':_0x224d7f}))),this[_0x295013(0x70d)][_0x295013(0x673)](this['receiverConnection']['onRemoveTrack']((_0x1521a3,_0x2dcdad)=>this[_0x295013(0x879)]['publish']({'track':_0x1521a3,'stream':_0x2dcdad})));}}class _0xde170{['localId'];[_0x2ad6ba(0x682)];[_0x2ad6ba(0x5df)];['connections']=new Map();['messageListeners']=_0x2af2eb();[_0x2ad6ba(0x2aa)];[_0x2ad6ba(0x315)]=new Map();[_0x2ad6ba(0x2d5)]=new Map();[_0x2ad6ba(0x65f)]=new Map();constructor(_0x5088ec,_0x27cf46,_0xa4cead){const _0x8f17f7=_0x2ad6ba;this[_0x8f17f7(0x7a6)]=_0x5088ec,this['messageBuffer']=_0x27cf46,this[_0x8f17f7(0x5df)]=_0xa4cead,this[_0x8f17f7(0x2aa)]=this[_0x8f17f7(0x435)](_0x4dcf57=>{const _0x3bc4e5=_0x8f17f7;this[_0x3bc4e5(0x682)]['hasMessage'](_0x4dcf57[_0x3bc4e5(0x23b)])||(_0x3bfc8d(_0x4dcf57,this[_0x3bc4e5(0x7a6)])&&0x0!==_0x4dcf57['topicLabel']&&(this[_0x3bc4e5(0x682)][_0x3bc4e5(0x478)](_0x4dcf57['uuid']),this[_0x3bc4e5(0x315)][_0x3bc4e5(0x736)](_0x4dcf57[_0x3bc4e5(0x994)])?.[_0x3bc4e5(0x29d)](_0x4dcf57)),_0x4dcf57[_0x3bc4e5(0x4a4)]&&this[_0x3bc4e5(0x9d3)](_0x4dcf57));});}[_0x2ad6ba(0x27c)](){const _0x569939=_0x2ad6ba;this[_0x569939(0x2aa)]?.();}[_0x2ad6ba(0x5db)](_0x56f27e){const _0xe4ab0b=_0x2ad6ba,_0x1bc69f=_0x56f27e[_0xe4ab0b(0x435)](_0x4ca16f=>{const _0x42e9b6=_0xe4ab0b;this[_0x42e9b6(0x4a0)][_0x42e9b6(0x29d)](_0x4ca16f);});this[_0xe4ab0b(0x60d)][_0xe4ab0b(0x50f)](_0x56f27e,_0x1bc69f),this[_0xe4ab0b(0x65f)][_0xe4ab0b(0x50f)](_0x56f27e['getRemoteId'](),function(_0x47a1a0,_0x557b8f=!0x1){let _0x49c2f6=new Map();const _0x1c1541=_0xb475cb(_0x47a1a0,_0x557b8f,function(_0x195793){const _0x589dcf=a0_0x119e;_0x213d61(_0x195793)&&_0x49c2f6['delete'](_0x195793[_0x589dcf(0xa59)]+'-'+(_0x195793['destinationIds']??[])+'-'+_0x195793[_0x589dcf(0x7d8)]+'-'+_0x195793['content'][_0x589dcf(0x285)]);},function(_0x4d6231){return!!function(_0x3dc3d9){const _0x35d182=a0_0x119e,_0x5a8ca4=_0x3dc3d9[_0x35d182(0x393)];if(!_0x213d61(_0x5a8ca4))return!0x1;const _0xb610ae=_0x5a8ca4[_0x35d182(0xa59)]+'-'+(_0x5a8ca4[_0x35d182(0x784)]??[])+'-'+_0x5a8ca4[_0x35d182(0x7d8)]+'-'+_0x5a8ca4[_0x35d182(0x257)][_0x35d182(0x285)],_0x55274c={'version':_0x5a8ca4[_0x35d182(0x257)][_0x35d182(0x354)],'element':_0x3dc3d9},_0x3164e0=_0x49c2f6[_0x35d182(0x736)](_0xb610ae);return _0x3164e0?(_0x3164e0['version']>=_0x5a8ca4['content']['version']||(_0x3164e0[_0x35d182(0x604)][_0x35d182(0x72f)]&&(_0x3164e0[_0x35d182(0x604)]['previous']['next']=_0x3dc3d9,_0x3dc3d9['previous']=_0x3164e0[_0x35d182(0x604)][_0x35d182(0x72f)]),_0x3164e0[_0x35d182(0x604)][_0x35d182(0x3e3)]&&(_0x3164e0[_0x35d182(0x604)][_0x35d182(0x3e3)]['previous']=_0x3dc3d9,_0x3dc3d9['next']=_0x3164e0[_0x35d182(0x604)][_0x35d182(0x3e3)]),_0x3164e0[_0x35d182(0x604)]===_0x1c1541['head']&&(_0x1c1541[_0x35d182(0x2ba)]=_0x3dc3d9),_0x3164e0[_0x35d182(0x604)]===_0x1c1541[_0x35d182(0xaae)]&&(_0x1c1541[_0x35d182(0xaae)]=_0x3dc3d9),_0x49c2f6[_0x35d182(0x50f)](_0xb610ae,_0x55274c)),!0x0):(_0x49c2f6['set'](_0xb610ae,_0x55274c),!0x1);}(_0x4d6231);},function(){const _0x6bded=a0_0x119e;_0x49c2f6[_0x6bded(0xa82)]();});function _0x213d61(_0x32d2d){const _0x38a337=a0_0x119e;if(_0x32d2d&&_0x38a337(0x24f)==typeof _0x32d2d&&_0x32d2d['hasOwnProperty']('content')&&_0x32d2d['hasOwnProperty'](_0x38a337(0x7d8))&&_0x32d2d[_0x38a337(0xa06)]('sourceId')){const _0x5041c1=_0x32d2d;if(_0x5041c1[_0x38a337(0x257)]&&'object'==typeof _0x5041c1[_0x38a337(0x257)]&&_0x5041c1[_0x38a337(0x257)][_0x38a337(0xa06)](_0x38a337(0x354))&&_0x5041c1['content'][_0x38a337(0xa06)](_0x38a337(0x285)))return!0x0;}return!0x1;}return _0x1c1541;}(new _0x1d14d9(_0x40d953=>_0x56f27e[_0xe4ab0b(0x9d3)](_0x40d953),()=>_0x401df5['wait'](0x64))));}['removeConnection'](_0x395132){const _0x55ce4a=_0x2ad6ba;this[_0x55ce4a(0x60d)]['get'](_0x395132)?.(),this['connections']['delete'](_0x395132),this['retryQueues'][_0x55ce4a(0x736)](_0x395132['getRemoteId']())?.[_0x55ce4a(0xa82)](),this[_0x55ce4a(0x65f)][_0x55ce4a(0xa12)](_0x395132[_0x55ce4a(0x61e)]());}['isConnected'](_0x2795a5){const _0x2e3caa=_0x2ad6ba;return _0xe8f382['log'](_0x1b63ac['ConnectionState'],_0x2e3caa(0x7fc),this[_0x2e3caa(0x7a6)],this[_0x2e3caa(0x60d)]['keys']()),0x0!==this['connections'][_0x2e3caa(0x399)]&&(Array['from'](this[_0x2e3caa(0x60d)][_0x2e3caa(0xa6a)]())[_0x2e3caa(0x2e0)](_0x469b90=>_0x469b90[_0x2e3caa(0x61e)]()===_0x2795a5)?.[_0x2e3caa(0x881)]()??!0x1);}[_0x2ad6ba(0xa43)](_0x579dea){const _0x1c0160=_0x2ad6ba;this['dataTopics'][_0x1c0160(0x50f)](_0x579dea['getLabel'](),_0x579dea);}['unregisterPublisher'](_0x1ae173){const _0x16dec2=_0x2ad6ba;this[_0x16dec2(0x315)][_0x16dec2(0xa12)](_0x1ae173['getLabel']());}[_0x2ad6ba(0x95c)](_0xb11359){const _0x35556b=_0x2ad6ba,_0x59cbea=_0xb11359['subscribe'](this[_0x35556b(0x9d3)][_0x35556b(0xa0a)](this));this[_0x35556b(0x2d5)][_0x35556b(0x50f)](_0xb11359[_0x35556b(0x5c3)](),_0x59cbea);}['unregisterSubscriber'](_0x171326){const _0x524ce0=_0x2ad6ba;this[_0x524ce0(0x2d5)][_0x524ce0(0x736)](_0x171326[_0x524ce0(0x5c3)]())?.(),this[_0x524ce0(0x2d5)][_0x524ce0(0xa12)](_0x171326[_0x524ce0(0x5c3)]());}[_0x2ad6ba(0x52e)](){const _0x17b810=_0x2ad6ba;return[_0x406df3[_0x17b810(0x525)][_0x17b810(0xaa7)],_0x406df3[_0x17b810(0x525)]['PubSub'],_0x406df3[_0x17b810(0x525)]['ObjectStore'],_0x406df3[_0x17b810(0x525)][_0x17b810(0x924)],_0x406df3[_0x17b810(0x525)][_0x17b810(0x8ed)],_0x406df3[_0x17b810(0x525)]['VectorDatabase'],_0x406df3[_0x17b810(0x525)][_0x17b810(0x57e)],_0x406df3[_0x17b810(0x525)][_0x17b810(0x5ca)]];}[_0x2ad6ba(0x9d3)](_0x477d4e){const _0x1e935d=_0x2ad6ba;if(!0x1===_0x477d4e['retry']){if(_0x477d4e[_0x1e935d(0x4a4)]||!_0x477d4e['destinationIds']||0x1!==_0x477d4e['destinationIds'][_0x1e935d(0x8e0)])throw new _0x31ec66(_0x31ec66['codes'][_0x1e935d(0x773)],{'message':_0x1e935d(0x99a),'localId':this['localId']});if(!this[_0x1e935d(0x881)](_0x477d4e[_0x1e935d(0x784)][0x0]))throw new _0x1b0c6c('Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false');}const _0x32114b=_0x477d4e[_0x1e935d(0x516)]??[];try{const {filteredDestinationIds:_0x2c96fa,extendedRecipients:_0x1223d7}=this[_0x1e935d(0x739)](_0x477d4e,_0x32114b);_0x477d4e['destinationIds']=_0x2c96fa,_0x477d4e['recipients']=_0x1223d7;}catch(_0x90c48d){if(_0x90c48d instanceof _0x1b0c6c)return void _0xe8f382[_0x1e935d(0xa40)](_0x1b63ac['Connection'],_0x1e935d(0x217),_0x1e935d(0x564),_0x477d4e,_0x90c48d[_0x1e935d(0xa5a)]);}const _0x3b8d70=this['shouldContinuePropagation'](_0x477d4e);this[_0x1e935d(0x32c)](_0x477d4e,_0x3b8d70),_0x477d4e[_0x1e935d(0x4a4)]=_0x3b8d70;const _0x3409cd=this[_0x1e935d(0x3cd)](_0x477d4e,_0x32114b);for(const _0x193abc of _0x3409cd){const _0x5cb418=this['retryQueues'][_0x1e935d(0x736)](_0x193abc[_0x1e935d(0x61e)]());if(!_0x5cb418)throw new _0x31ec66(_0x31ec66[_0x1e935d(0x4b6)][_0x1e935d(0xaa1)],{'message':_0x1e935d(0x8ec),'localId':this[_0x1e935d(0x7a6)],'remoteId':_0x193abc[_0x1e935d(0x61e)](),'data':_0x477d4e});_0x5cb418[_0x1e935d(0x673)](_0x477d4e);}}['getRemoteId'](){return'';}['getLocalId'](){return this['localId'];}[_0x2ad6ba(0x435)](_0x191593){const _0x73a201=_0x2ad6ba;return this['messageListeners'][_0x73a201(0x208)](_0x191593);}[_0x2ad6ba(0x739)](_0x3d3ee6,_0x4bcbdc){const _0x439378=_0x2ad6ba,_0xaa4dcb={'filteredDestinationIds':_0x3d3ee6['destinationIds'],'extendedRecipients':_0x3d3ee6['recipients']};if(!_0x3d3ee6[_0x439378(0x4a4)])return _0xaa4dcb;const _0x323bca=Array[_0x439378(0x854)](this[_0x439378(0x60d)][_0x439378(0xa6a)]())[_0x439378(0x1bc)](_0x15f786=>_0x15f786['getConnectionType']()===_0x3d5fa4[_0x439378(0x38c)]||_0x15f786['isConnected']())[_0x439378(0x607)](_0x108f22=>_0x108f22['getRemoteId']());if(_0x323bca[_0x439378(0x735)]((_0x5433f2,_0x270758)=>_0x5433f2&&_0x3d3ee6[_0x439378(0x516)][_0x439378(0x205)](_0x270758),!0x0))throw new _0x1b0c6c(_0x439378(0x84b));if(_0x3d3ee6[_0x439378(0x784)]){const _0x319a8b=_0x3d3ee6[_0x439378(0x784)]['filter'](_0x39c017=>_0x39c017!==this[_0x439378(0x7a6)]&&!_0x3d3ee6[_0x439378(0x516)][_0x439378(0x205)](_0x39c017));if(0x0===_0x319a8b[_0x439378(0x8e0)])throw new _0x1b0c6c('No\x20destinationIds\x20left');_0xaa4dcb[_0x439378(0x873)]=_0x319a8b;}return _0xaa4dcb[_0x439378(0x55b)]=[...new Set([..._0x4bcbdc,..._0x323bca,this[_0x439378(0x7a6)]])],_0xaa4dcb;}[_0x2ad6ba(0x32c)](_0x47d21f,_0x57c1a8=!0x1){const _0x537017=_0x2ad6ba;if(0x0===_0x47d21f['topicLabel']&&!_0x47c141(_0x47d21f,this['localId'])&&_0x47d21f[_0x537017(0x4a4)]){const _0x1d68a7=_0x4de56b(_0x47d21f,this['localId']);_0xe8f382['logRaw'](_0x1b63ac[_0x537017(0x78a)],_0x47d21f['uuid']+_0x537017(0x4ec)+_0x57c1a8+')\x20'+_0x1d68a7,_0x47d21f,_0x57c1a8);}}[_0x2ad6ba(0x2ce)](_0x24306b){const _0x145d6a=_0x2ad6ba;if(_0x24306b[_0x145d6a(0x784)]&&_0x24306b['propagate']){const _0x54d28c=Array[_0x145d6a(0x854)](this[_0x145d6a(0x60d)][_0x145d6a(0xa6a)]())[_0x145d6a(0x1bc)](_0x38b2fa=>_0x38b2fa[_0x145d6a(0x8f6)]()===_0x3d5fa4[_0x145d6a(0x38c)]||_0x38b2fa[_0x145d6a(0x881)]())['map'](_0x27f50b=>_0x27f50b[_0x145d6a(0x61e)]());return!_0x24306b[_0x145d6a(0x784)][_0x145d6a(0x735)]((_0x335b3f,_0x34f5f8)=>_0x335b3f&&_0x54d28c[_0x145d6a(0x205)](_0x34f5f8),!0x0);}return _0x24306b[_0x145d6a(0x4a4)]??!0x1;}[_0x2ad6ba(0x3cd)](_0x46b7e1,_0x5beb95){const _0x65d37d=_0x2ad6ba;if(_0x46b7e1['propagate']&&_0x46b7e1['destinationIds']){const _0x16796f=Array[_0x65d37d(0x854)](this[_0x65d37d(0x60d)][_0x65d37d(0xa6a)]())['filter'](_0xcef99b=>_0xcef99b[_0x65d37d(0x8f6)]()===_0x3d5fa4[_0x65d37d(0x38c)]||_0xcef99b[_0x65d37d(0x881)]())['map'](_0x1647cc=>_0x1647cc[_0x65d37d(0x61e)]()),_0x5ee0b7=new Set(),_0x4e808c=_0x46b7e1[_0x65d37d(0xa59)]===this[_0x65d37d(0x7a6)]?0x3:0x1;return _0x46b7e1['destinationIds'][_0x65d37d(0x9a0)](_0x56b0b9=>{const _0x5995d5=_0x65d37d,_0x1f2264=this[_0x5995d5(0x5df)][_0x5995d5(0x466)](_0x16796f,_0x56b0b9);let _0x743a4c=0x0,_0x148231=0x0;_0x1f2264[_0x5995d5(0x9a0)](_0x7d01a8=>{const _0x4fc643=_0x5995d5;if(_0x743a4c>=_0x4e808c)return;const _0x324369=Array[_0x4fc643(0x854)](this[_0x4fc643(0x60d)][_0x4fc643(0xa6a)]())[_0x4fc643(0x2e0)](_0xabcb3c=>_0xabcb3c['getRemoteId']()===_0x7d01a8);if(_0x324369){if(_0x324369['getConnectionType']()===_0x3d5fa4[_0x4fc643(0x38c)]&&_0x148231>0x0)return void(_0x148231-=0x1);_0x5ee0b7[_0x4fc643(0x424)](_0x324369),_0x324369[_0x4fc643(0x8f6)]()===_0x3d5fa4[_0x4fc643(0x574)]&&(_0x148231+=0x1),_0x743a4c+=0x1;}});}),Array[_0x65d37d(0x854)](_0x5ee0b7);}return Array[_0x65d37d(0x854)](this[_0x65d37d(0x60d)][_0x65d37d(0xa6a)]())[_0x65d37d(0x1bc)](_0x169ee6=>{const _0x505845=_0x65d37d;return _0x1645ef=_0x169ee6[_0x505845(0x61e)](),!_0x5beb95[_0x505845(0x205)](_0x1645ef)&&(_0x3bfc8d(_0x46b7e1,_0x1645ef)||_0x46b7e1[_0x505845(0x4a4)])&&(!_0x46b7e1[_0x505845(0x4a4)]||_0x169ee6[_0x505845(0x881)]()||_0x169ee6[_0x505845(0x8f6)]()===_0x3d5fa4[_0x505845(0x38c)]);var _0x1645ef;});}}class _0x2ee172{[_0x2ad6ba(0x7a6)];[_0x2ad6ba(0x682)];[_0x2ad6ba(0x60d)]=new Map();[_0x2ad6ba(0x5a2)];constructor(_0x3f1b97,_0x109447){const _0xa518b4=_0x2ad6ba;this[_0xa518b4(0x7a6)]=_0x3f1b97,this[_0xa518b4(0x682)]=_0x109447;}['close'](){}[_0x2ad6ba(0x9d3)](_0x133bb0){const _0xe1cd91=_0x2ad6ba;for(const _0x216754 of this['connections'][_0xe1cd91(0xa6a)]())try{return void _0x216754[_0xe1cd91(0x9d3)]({'retry':!0x1,..._0x133bb0});}catch(_0x5c9582){_0x5c9582 instanceof _0x1b0c6c||_0xe8f382['log'](_0x1b63ac[_0xe1cd91(0x274)],_0xe1cd91(0x90a)+_0x216754,_0x5c9582,_0x133bb0);}_0xe8f382[_0xe1cd91(0xa40)](_0x1b63ac[_0xe1cd91(0x274)],_0xe1cd91(0x8c7));}[_0x2ad6ba(0x5db)](_0xcff59b){const _0xdc6da0=_0x2ad6ba,_0x24ae3a=_0xcff59b[_0xdc6da0(0x435)](_0x38eab7=>{const _0xbcae6c=_0xdc6da0;this['messageBuffer'][_0xbcae6c(0x829)](_0x38eab7[_0xbcae6c(0x23b)])||0x0===_0x38eab7['topicLabel']&&(this[_0xbcae6c(0x682)][_0xbcae6c(0x478)](_0x38eab7[_0xbcae6c(0x23b)]),_0x3bfc8d(_0x38eab7,this[_0xbcae6c(0x7a6)])&&this[_0xbcae6c(0x5a2)]?.[_0xbcae6c(0x29d)](_0x38eab7));});this['connections'][_0xdc6da0(0x50f)](_0xcff59b,_0x24ae3a);}[_0x2ad6ba(0x785)](_0xd5988b){const _0x5650f3=_0x2ad6ba;this[_0x5650f3(0x60d)]['get'](_0xd5988b)?.(),this[_0x5650f3(0x60d)][_0x5650f3(0xa12)](_0xd5988b);}[_0x2ad6ba(0x4a8)](){const _0x44aaca=_0x2ad6ba;return this[_0x44aaca(0x7a6)];}[_0x2ad6ba(0x61e)](){return'';}[_0x2ad6ba(0x52e)](){const _0x1de780=_0x2ad6ba;return[_0x406df3[_0x1de780(0x525)][_0x1de780(0xaa7)]];}[_0x2ad6ba(0x881)](){const _0x416214=_0x2ad6ba;throw new Error(_0x416214(0x37f));}[_0x2ad6ba(0x3ba)](_0x4d8b4b){const _0x1b08e4=_0x2ad6ba;this[_0x1b08e4(0x5a2)]=_0x4d8b4b;}[_0x2ad6ba(0x460)](){delete this['systemTopic'];}}class _0x3d76c8{[_0x2ad6ba(0x18c)]=new Map();[_0x2ad6ba(0x5d7)];constructor(){this['unsubscribeHandler']=_0x401df5['setInterval'](()=>{const _0x410c53=a0_0x119e;for(const [_0x3b292e,_0x159149]of this[_0x410c53(0x18c)][_0x410c53(0x866)]())Date[_0x410c53(0x9fc)]()-_0x159149>0x124f80&&this[_0x410c53(0x18c)]['delete'](_0x3b292e);},0x1d4c0);}['close'](){const _0x345d8c=_0x2ad6ba;this[_0x345d8c(0x5d7)]();}[_0x2ad6ba(0x478)](_0x28b322){const _0x469287=_0x2ad6ba;this[_0x469287(0x18c)]['set'](_0x28b322,Date[_0x469287(0x9fc)]());}['hasMessage'](_0x46431c){const _0x153c2a=_0x2ad6ba;return this['buffer'][_0x153c2a(0x98d)](_0x46431c);}}class _0x5628f9{['configs'];['authService'];['iceServers'];['options'];[_0x2ad6ba(0x60d)]=new Map();[_0x2ad6ba(0x67c)];['connectionGroup'];['signalingServer'];[_0x2ad6ba(0x682)];constructor(_0x13905d,_0x32c30b,_0x1da87a,_0x2664ab,_0x37eb21){const _0x3f8323=_0x2ad6ba;this[_0x3f8323(0x744)]=_0x13905d,this[_0x3f8323(0xa49)]=_0x32c30b,this[_0x3f8323(0x2eb)]=_0x2664ab,this[_0x3f8323(0x6e9)]=_0x37eb21,this[_0x3f8323(0x682)]=new _0x3d76c8(),this[_0x3f8323(0x1dd)]=new _0xde170(this[_0x3f8323(0x744)]['localNode'][_0x3f8323(0x362)](),this[_0x3f8323(0x682)],_0x1da87a),this['signalingServer']=new _0x33446f(this[_0x3f8323(0x744)][_0x3f8323(0x8e1)],this[_0x3f8323(0x744)]['clusterId'],this['configs'][_0x3f8323(0x6e0)],_0x3f8323(0x410),this[_0x3f8323(0xa49)]),this[_0x3f8323(0x67c)]=new _0x2ee172(this[_0x3f8323(0x744)]['localNode'][_0x3f8323(0x362)](),this['messageBuffer']),this[_0x3f8323(0x67c)][_0x3f8323(0x5db)](this[_0x3f8323(0x1dd)]),this[_0x3f8323(0x67c)][_0x3f8323(0x5db)](this[_0x3f8323(0x644)]),this['configs'][_0x3f8323(0x5fc)][_0x3f8323(0xa24)](this[_0x3f8323(0x67c)]);}[_0x2ad6ba(0x27c)](){const _0x2e7ce2=_0x2ad6ba;this[_0x2e7ce2(0x682)][_0x2e7ce2(0x27c)](),this[_0x2e7ce2(0x60d)][_0x2e7ce2(0x9a0)]((_0x59ed2a,_0x1e68cd)=>this[_0x2e7ce2(0x1c3)](_0x1e68cd)),this[_0x2e7ce2(0x744)]['mediator']['unregisterSystemSource'](this['connectionPool']),this[_0x2e7ce2(0x67c)][_0x2e7ce2(0x785)](this['signalingServer']),this[_0x2e7ce2(0x67c)][_0x2e7ce2(0x785)](this[_0x2e7ce2(0x1dd)]),this['connectionPool'][_0x2e7ce2(0x27c)](),this[_0x2e7ce2(0x644)][_0x2e7ce2(0x27c)](),this[_0x2e7ce2(0x1dd)][_0x2e7ce2(0x27c)]();}async[_0x2ad6ba(0x88b)](){const _0x41e3a2=_0x2ad6ba;await this[_0x41e3a2(0x644)][_0x41e3a2(0x456)]();}async[_0x2ad6ba(0x9a3)](_0x29f216,_0x5e990f=_0x3d5fa4[_0x2ad6ba(0x38c)]){const _0x2314a7=_0x2ad6ba;if(this[_0x2314a7(0x60d)][_0x2314a7(0x98d)](_0x29f216)){if(this[_0x2314a7(0x60d)]['get'](_0x29f216)?.[_0x2314a7(0x8f6)]()===_0x3d5fa4[_0x2314a7(0x574)]&&_0x5e990f===_0x3d5fa4[_0x2314a7(0x38c)])return void this['connections'][_0x2314a7(0x736)](_0x29f216)?.[_0x2314a7(0x2f9)](_0x3d5fa4['Core']);throw new _0x31ec66(_0x31ec66[_0x2314a7(0x4b6)][_0x2314a7(0x87f)],{'localId':this[_0x2314a7(0x744)][_0x2314a7(0x6e0)][_0x2314a7(0x362)](),'remoteId':_0x29f216});}const _0x5b7d9c=new _0x3ea0e6(this[_0x2314a7(0x744)]['clusterId'],this[_0x2314a7(0x744)][_0x2314a7(0x6e0)],_0x29f216,this[_0x2314a7(0x2eb)],_0x5e990f,this['options'][_0x2314a7(0x39a)],this['options'][_0x2314a7(0x562)],this[_0x2314a7(0x6e9)][_0x2314a7(0x755)]);this[_0x2314a7(0x60d)][_0x2314a7(0x50f)](_0x29f216,_0x5b7d9c),this[_0x2314a7(0x1dd)][_0x2314a7(0x5db)](_0x5b7d9c),this[_0x2314a7(0x744)][_0x2314a7(0x5fc)]['registerSystemSource'](_0x5b7d9c),this[_0x2314a7(0x744)][_0x2314a7(0x5fc)]['registerRemoteNode'](_0x29f216),await _0x5b7d9c[_0x2314a7(0x456)]();}[_0x2ad6ba(0x546)](){const _0x2ad987=_0x2ad6ba;return this[_0x2ad987(0x1dd)];}[_0x2ad6ba(0x9dc)](_0x193617){const _0x310d27=_0x2ad6ba;if(!this[_0x310d27(0x60d)][_0x310d27(0x98d)](_0x193617))throw new _0x31ec66(_0x31ec66[_0x310d27(0x4b6)][_0x310d27(0x8a2)],{'localId':this[_0x310d27(0x744)]['localNode'][_0x310d27(0x362)](),'remoteId':_0x193617});return this['connections'][_0x310d27(0x736)](_0x193617);}[_0x2ad6ba(0x87c)](_0x583b66){const _0x502458=_0x2ad6ba,_0x2cf355=Array[_0x502458(0x854)](this[_0x502458(0x60d)][_0x502458(0x9c1)]());return _0x583b66?_0x2cf355[_0x502458(0x1bc)](_0x583b66):_0x2cf355;}async[_0x2ad6ba(0x49e)](_0x5c3a71){const _0x3b4b71=_0x2ad6ba,_0x4e8872=this[_0x3b4b71(0x60d)][_0x3b4b71(0x736)](_0x5c3a71);_0x4e8872&&_0x4e8872['isConnected']()&&await _0x4e8872[_0x3b4b71(0x49e)]();}[_0x2ad6ba(0x821)](_0x5bc9c4){const _0x141580=_0x2ad6ba;if(_0x5bc9c4[_0x141580(0x7d8)]!==_0x5f120e[_0x141580(0x746)]||_0x5bc9c4[_0x141580(0x4a4)])try{this[_0x141580(0x1dd)]['send'](_0x5bc9c4);}catch(_0x4843be){if(_0x4843be instanceof _0x1b0c6c)return;throw _0x4843be;}else this[_0x141580(0x67c)][_0x141580(0x9d3)](_0x5bc9c4);}async[_0x2ad6ba(0x3d5)](_0x23995a){const _0x6707ad=_0x2ad6ba;switch(_0x23995a['content']['type']){case _0x330228[_0x6707ad(0x211)]:case _0x330228[_0x6707ad(0xa47)]:case _0x330228[_0x6707ad(0x4c4)]:return;}if(!_0x23995a['destinationIds']||0x1!==_0x23995a[_0x6707ad(0x784)][_0x6707ad(0x8e0)])throw new _0x31ec66(_0x31ec66[_0x6707ad(0x4b6)][_0x6707ad(0xa05)],{'message':_0x6707ad(0x4ba),'event':_0x23995a});if(_0x23995a[_0x6707ad(0x784)][0x0]!==this[_0x6707ad(0x744)][_0x6707ad(0x6e0)][_0x6707ad(0x362)]())throw new _0x31ec66(_0x31ec66[_0x6707ad(0x4b6)][_0x6707ad(0xa05)],{'message':_0x6707ad(0x8cb),'event':_0x23995a});if(!this[_0x6707ad(0x60d)]['has'](_0x23995a['sourceId'])){let _0x501334=_0x3d5fa4[_0x6707ad(0x38c)];if(!(this[_0x6707ad(0x7e5)](_0x23995a[_0x6707ad(0x257)])||this[_0x6707ad(0x64f)](_0x23995a[_0x6707ad(0x257)])||this[_0x6707ad(0x6ed)](_0x23995a[_0x6707ad(0x257)])))return;_0x501334=_0x23995a[_0x6707ad(0x257)]['connectionType'],await this[_0x6707ad(0x9a3)](_0x23995a['sourceId'],_0x501334);}const _0x3d06c7=this['connections'][_0x6707ad(0x736)](_0x23995a[_0x6707ad(0xa59)]);await _0x3d06c7[_0x6707ad(0x3d5)](_0x23995a);}[_0x2ad6ba(0x8bf)](_0x1b7ec1){const _0x4d282a=_0x2ad6ba;if(_0x1b7ec1['content'][_0x4d282a(0x285)]===_0x3cd557[_0x4d282a(0x6f1)]){if(_0x1b7ec1['content'][_0x4d282a(0x57c)]===this[_0x4d282a(0x744)][_0x4d282a(0x6e0)][_0x4d282a(0x362)]())return void this[_0x4d282a(0x60d)][_0x4d282a(0x9a0)](_0x1f79d3=>_0x1f79d3[_0x4d282a(0x8bf)](_0x1b7ec1));this[_0x4d282a(0x60d)][_0x4d282a(0x736)](_0x1b7ec1[_0x4d282a(0x257)]['targetId'])?.['handleRemediationSystemEvents'](_0x1b7ec1);}}[_0x2ad6ba(0x692)]({content:_0x82cd50}){const _0x251efe=_0x2ad6ba;_0x82cd50[_0x251efe(0x285)]===_0x152a71[_0x251efe(0x46d)]&&this['closeConnection'](_0x82cd50['id']);}['waitForArrayBufferSize'](){const _0x26d25c=_0x2ad6ba,_0x10ac1a=Array['from'](this[_0x26d25c(0x60d)]['values']())[_0x26d25c(0x735)]((_0x4d6e3a,_0x551c21)=>_0x4d6e3a+_0x551c21[_0x26d25c(0x925)](),0x0);return _0x10ac1a<_0x3702b6?Promise['resolve'](_0x10ac1a):new Promise(_0xdd3f2a=>{const _0x3b4505=setInterval(()=>{const _0x1e9923=a0_0x119e,_0x323ba1=Array[_0x1e9923(0x854)](this[_0x1e9923(0x60d)][_0x1e9923(0x9c1)]())[_0x1e9923(0x735)]((_0x5f16d4,_0x2a5950)=>_0x5f16d4+_0x2a5950[_0x1e9923(0x925)](),0x0);_0x323ba1<_0x3702b6&&(clearInterval(_0x3b4505),_0xdd3f2a(_0x323ba1));},0x3e8);});}[_0x2ad6ba(0x5bb)](){const _0x1315d5=_0x2ad6ba;for(const _0x109d9a of this[_0x1315d5(0x60d)][_0x1315d5(0x9c1)]())if(_0x109d9a[_0x1315d5(0xa69)]()>0x0||_0x109d9a[_0x1315d5(0x925)]()>0x0)return!0x0;return!0x1;}[_0x2ad6ba(0x1c3)](_0x23ce66){const _0x1f0a71=_0x2ad6ba,_0x194ed5=this[_0x1f0a71(0x60d)]['get'](_0x23ce66);_0x194ed5&&(this['configs'][_0x1f0a71(0x5fc)]['unregisterRemoteNode'](_0x23ce66),this[_0x1f0a71(0x744)][_0x1f0a71(0x5fc)][_0x1f0a71(0x1dc)](_0x194ed5),_0x194ed5 instanceof _0x3ea0e6&&this['connectionGroup'][_0x1f0a71(0x785)](_0x194ed5),_0x194ed5[_0x1f0a71(0x27c)](),this[_0x1f0a71(0x60d)][_0x1f0a71(0xa12)](_0x23ce66));}[_0x2ad6ba(0x7e5)](_0x22a37e){const _0xa9594a=_0x2ad6ba;return _0x22a37e[_0xa9594a(0x285)]===_0x330228[_0xa9594a(0x3fa)];}[_0x2ad6ba(0x6ed)](_0x4861e5){const _0x5af435=_0x2ad6ba;return _0x4861e5[_0x5af435(0x285)]===_0x330228[_0x5af435(0x298)];}[_0x2ad6ba(0x64f)](_0x5d579a){const _0x126a9c=_0x2ad6ba;return _0x5d579a[_0x126a9c(0x285)]===_0x330228[_0x126a9c(0x647)];}}!function(_0x5705b4){const _0x157037=_0x2ad6ba;_0x5705b4[_0x5705b4[_0x157037(0x8d3)]=0x0]=_0x157037(0x8d3),_0x5705b4[_0x5705b4[_0x157037(0x404)]=0x1]=_0x157037(0x404),_0x5705b4[_0x5705b4['UnsubscribeMediaStream']=0x2]=_0x157037(0x978),_0x5705b4[_0x5705b4['NeedMediaStream']=0x3]=_0x157037(0x69f),_0x5705b4[_0x5705b4[_0x157037(0x38d)]=0x4]='RestartNeedMediaStream',_0x5705b4[_0x5705b4[_0x157037(0x272)]=0x5]=_0x157037(0x272),_0x5705b4[_0x5705b4[_0x157037(0x7b7)]=0x6]=_0x157037(0x7b7),_0x5705b4[_0x5705b4[_0x157037(0x786)]=0x7]='MediaStreamUnavailable';}(_0x5340f1||(_0x5340f1={}));class _0x368a26 extends _0x3cbe57{[_0x2ad6ba(0x6e0)];[_0x2ad6ba(0x58c)];[_0x2ad6ba(0x8e1)];[_0x2ad6ba(0x7fa)];[_0x2ad6ba(0xa97)];[_0x2ad6ba(0x8c1)]=0x0;[_0x2ad6ba(0x721)];[_0x2ad6ba(0xa8d)]=_0x2af2eb();[_0x2ad6ba(0x928)]=new Map();[_0x2ad6ba(0x949)];constructor(_0x551fa4,_0x2341fd,_0x19acd7,_0x4db252,_0x8b1e38){const _0x7c6ef=_0x2ad6ba;if(_0x7c6ef(0x488)!=typeof _0x2341fd)throw new _0x3f1f96(_0x429a2c['ExternalStorageNameNotString'],_0x7c6ef(0x9b9));super(_0x551fa4,_0x2341fd),this['localNode']=_0x551fa4,this[_0x7c6ef(0x58c)]=_0x19acd7,this[_0x7c6ef(0x8e1)]=_0x4db252,this[_0x7c6ef(0x7fa)]=_0x8b1e38,this[_0x7c6ef(0x7cb)]();}[_0x2ad6ba(0x4aa)](){const _0x2ba444=_0x2ad6ba;this['changesUnsubscriber']?.(),this[_0x2ba444(0x928)][_0x2ba444(0x9a0)](_0x598a89=>_0x598a89()),clearTimeout(this['debounceStats']),delete this['debounceStats'],super[_0x2ba444(0x4aa)]();}['reset'](){const _0x24beae=_0x2ad6ba;this[_0x24beae(0x7cb)]();}['close'](){const _0x3f9214=_0x2ad6ba;this[_0x3f9214(0x5a2)][_0x3f9214(0x29d)]({'sourceId':_0x124816,'messageType':_0x5f120e[_0x3f9214(0x670)],'content':{'type':_0x5d0a4b[_0x3f9214(0x9dd)],'label':this[_0x3f9214(0x19d)]}});}[_0x2ad6ba(0x30c)](){const _0x4acb9a=_0x2ad6ba;return _0x406df3[_0x4acb9a(0x525)][_0x4acb9a(0x5ca)];}async[_0x2ad6ba(0x736)](_0x57707){const _0x2a4bca=_0x2ad6ba;if(!this[_0x2a4bca(0x721)])throw new _0x3f1f96(_0x429a2c[_0x2a4bca(0x3b8)],'Cannot\x20get\x20file:\x20External\x20Storage\x20not\x20connected');_0xe8f382[_0x2a4bca(0x861)](_0x573191[_0x2a4bca(0x5ca)],{'type':_0x2a4bca(0x736),'label':this[_0x2a4bca(0x19d)],'nodeId':this['localNode'][_0x2a4bca(0x362)](),'nodeType':this['localNode'][_0x2a4bca(0x285)],'clusterId':this[_0x2a4bca(0x58c)],'path':_0x57707}),this[_0x2a4bca(0x8c1)]+=0x1,this[_0x2a4bca(0x7cb)]();try{return await this['connector'][_0x2a4bca(0x736)](_0x57707);}catch(_0x36acb7){throw new _0x3f1f96(_0x429a2c[_0x2a4bca(0x450)],_0x2a4bca(0xa81)+_0x57707);}}async[_0x2ad6ba(0xa73)](_0x31c6e1,_0x4fcb99){const _0x358077=_0x2ad6ba;if(!this['connector'])throw new _0x3f1f96(_0x429a2c['ExternalStorageConnectorsMissing'],_0x358077(0x6e5));const {recursive:_0x192e98=!0x1}=_0x4fcb99??{};_0xe8f382[_0x358077(0x861)](_0x573191[_0x358077(0x5ca)],{'type':_0x358077(0xa73),'label':this[_0x358077(0x19d)],'nodeId':this[_0x358077(0x6e0)][_0x358077(0x362)](),'nodeType':this[_0x358077(0x6e0)]['type'],'clusterId':this['clusterId'],'path':_0x31c6e1}),this[_0x358077(0x8c1)]+=0x1,this[_0x358077(0x7cb)]();try{return await this['connector'][_0x358077(0xa73)](_0x31c6e1,_0x192e98);}catch(_0x2add55){throw new _0x3f1f96(_0x429a2c[_0x358077(0x450)],_0x358077(0x8ce)+_0x31c6e1);}}[_0x2ad6ba(0x208)](_0x1c2a70,_0x438887){const _0x12893a=_0x2ad6ba;if(this[_0x12893a(0x928)][_0x12893a(0x98d)](_0x1c2a70))throw new _0x3f1f96(_0x429a2c[_0x12893a(0x558)],_0x12893a(0x3e9));this[_0x12893a(0x928)][_0x12893a(0x50f)](_0x1c2a70,this[_0x12893a(0xa8d)][_0x12893a(0x208)](_0x438887));}[_0x2ad6ba(0x99f)](_0x471ed9){const _0x3f8761=_0x2ad6ba;this[_0x3f8761(0x928)][_0x3f8761(0x736)](_0x471ed9)?.(),this['listenerUnsubscribers']['delete'](_0x471ed9);}async[_0x2ad6ba(0xa60)](){const _0x4ee6ca=_0x2ad6ba,_0xcb26b4=(await(0x0,_0x2fd630['getDoc'])((0x0,_0x2fd630['doc'])(_0x480677[_0x4ee6ca(0xa35)](),_0x4ee6ca(0x6c4)+this[_0x4ee6ca(0x8e1)]+_0x4ee6ca(0x8df)+this[_0x4ee6ca(0x19d)])))[_0x4ee6ca(0x19c)]();if(!_0xcb26b4)throw new _0x3f1f96(_0x429a2c['ExternalStorageConnectionDoesNotExist'],_0x4ee6ca(0x79f)+this[_0x4ee6ca(0x19d)]);const {site:_0xc7290b,drive:_0x4b4a07}=_0xcb26b4,_0x5707ce=(await(0x0,_0x1f6782[_0x4ee6ca(0x5e9)])(_0x480677[_0x4ee6ca(0x731)](),_0x4ee6ca(0x5a5))({'storageId':this[_0x4ee6ca(0x19d)]}))['data'][_0x4ee6ca(0x726)];this[_0x4ee6ca(0x721)]=new this[(_0x4ee6ca(0x7fa))](_0xc7290b['id'],_0x4b4a07['id'],_0x5707ce,async()=>(await(0x0,_0x1f6782[_0x4ee6ca(0x5e9)])(_0x480677[_0x4ee6ca(0x731)](),_0x4ee6ca(0x624))({'storageId':this['label']}))['data'][_0x4ee6ca(0x726)]),this[_0x4ee6ca(0xa76)]();}[_0x2ad6ba(0x7cb)](){const _0x292893=_0x2ad6ba;this['debounceStats']&&clearTimeout(this[_0x292893(0xa97)]),this[_0x292893(0xa97)]=setTimeout(async()=>{const _0x1279d0=_0x292893;delete this[_0x1279d0(0xa97)],this[_0x1279d0(0x5a2)][_0x1279d0(0x29d)]({'sourceId':_0x124816,'messageType':_0x5f120e[_0x1279d0(0x670)],'content':{'type':_0x5d0a4b[_0x1279d0(0x513)],'label':this[_0x1279d0(0x19d)],'stats':{'timestamp':Date[_0x1279d0(0x9fc)](),'storage':0x0,'messagesSent':0x0,'messagesReceived':0x0,'bytesSent':0x0,'bytesReceived':0x0,'writes':0x0,'reads':this[_0x1279d0(0x8c1)],'prompts':0x0,'tokens':0x0}}});},_0x18dd7b);}async[_0x2ad6ba(0xa76)](){const _0x3d925a=_0x2ad6ba;await this[_0x3d925a(0x721)]?.['listChanges'](),this[_0x3d925a(0x949)]=_0x401df5[_0x3d925a(0x338)](async()=>{const _0xe105c5=_0x3d925a;try{if(!this[_0xe105c5(0x721)])return;const _0x21d4d6=await this[_0xe105c5(0x721)]['listChanges']();for(const _0x5472ec of _0x21d4d6)this[_0xe105c5(0xa8d)][_0xe105c5(0x29d)](_0x5472ec);}catch(_0xff7f3b){}},0x493e0);}}const _0x3f49a4=require('rxjs');class _0xeaf38c extends _0x3cbe57{[_0x2ad6ba(0x5df)];['jobs']=new Map();['jobObservers']=new Map();[_0x2ad6ba(0x42d)]=new Map();[_0x2ad6ba(0x5d7)];constructor(_0x2dee5d,_0x695ccc,_0x37f532){const _0x520a72=_0x2ad6ba;super(_0x2dee5d,_0x695ccc),this[_0x520a72(0x5df)]=_0x37f532;}['getContentType'](){const _0x107b25=_0x2ad6ba;return _0x406df3[_0x107b25(0x525)][_0x107b25(0x8ed)];}[_0x2ad6ba(0xa60)](){const _0x1f92d7=_0x2ad6ba;this['unsubscribeHandler']=this[_0x1f92d7(0x435)]((_0x26e604,_0x148adc)=>{const _0x4e95f3=_0x1f92d7;if(_0xe8f382['log'](_0x1b63ac[_0x4e95f3(0x6eb)],'JobDispatcher:\x20Received\x20job',_0x26e604,_0x148adc,this[_0x4e95f3(0x5df)]['getRemoteNodes']()),!(_0x148adc instanceof File)){if(!_0x148adc)throw new _0x31ec66(_0x31ec66[_0x4e95f3(0x4b6)][_0x4e95f3(0x704)]);return this[_0x4e95f3(0x26d)](_0x148adc)?this[_0x4e95f3(0xa1d)](_0x26e604,_0x148adc['id'],_0x148adc):this[_0x4e95f3(0x5cf)](_0x148adc)?(_0xe8f382[_0x4e95f3(0xa40)](_0x1b63ac[_0x4e95f3(0x6eb)],'Job\x20'+_0x148adc['id']+_0x4e95f3(0xa8a),_0x148adc[_0x4e95f3(0x917)]),void this[_0x4e95f3(0x6e1)](_0x148adc['id'],_0x148adc)):this['isResultResponse'](_0x148adc)?(_0xe8f382[_0x4e95f3(0xa40)](_0x1b63ac[_0x4e95f3(0x6eb)],_0x4e95f3(0x7ef)+_0x148adc['id']+_0x4e95f3(0x847),_0x148adc[_0x4e95f3(0x917)]),void this[_0x4e95f3(0x1a5)](_0x148adc['id'],_0x148adc)):void(this['isFailedResponse'](_0x148adc)&&this[_0x4e95f3(0x4ea)](_0x148adc['id'],_0x148adc['message']));}});}[_0x2ad6ba(0x536)](){const _0xcf98ee=_0x2ad6ba;this[_0xcf98ee(0xa82)](),this[_0xcf98ee(0xa60)]();}[_0x2ad6ba(0x4aa)](){this['clear'](),super['destroy']();}[_0x2ad6ba(0xa82)](){const _0x557bf2=_0x2ad6ba;this['jobs'][_0x557bf2(0xa82)](),this[_0x557bf2(0x5d7)]&&this[_0x557bf2(0x5d7)]();}[_0x2ad6ba(0x27c)](){const _0x6a10b0=_0x2ad6ba;this[_0x6a10b0(0x5a2)]?.[_0x6a10b0(0x29d)]({'sourceId':_0x124816,'messageType':_0x5f120e['Content'],'content':{'type':_0x5d0a4b['CloseJobDispatcher'],'label':this[_0x6a10b0(0x19d)]}});}async['createJob'](_0x4fdea8){const _0x210f59=_0x2ad6ba,{id:_0x187f3e,parameters:_0x53eaeb,jobType:_0x4493c2}=_0x4fdea8,_0x6cc6d5={'id':_0x187f3e,'jobType':_0x4493c2,'parameters':_0x53eaeb,'status':_0x406df3[_0x210f59(0x623)][_0x210f59(0x5c7)],'created':new Date(),'updated':new Date()};if(this['jobs'][_0x210f59(0x98d)](_0x6cc6d5['id']))throw new _0x3f1f96(_0x429a2c[_0x210f59(0x20e)],_0x210f59(0x372)+_0x6cc6d5['id']+_0x210f59(0x507));_0x6cc6d5[_0x210f59(0x5e4)]=new Date(),_0x6cc6d5['updated']=new Date();const _0x5524a5=new _0x3f49a4[(_0x210f59(0x852))]();this[_0x210f59(0x8a5)][_0x210f59(0x50f)](_0x6cc6d5['id'],_0x6cc6d5),this['jobObservers'][_0x210f59(0x50f)](_0x6cc6d5['id'],_0x5524a5);try{const _0x445907={'id':_0x6cc6d5['id'],'jobPhase':_0x3ea5c4[_0x210f59(0x2f3)],'jobType':_0x6cc6d5[_0x210f59(0x2f7)]},_0x5d45bf=0x3;let _0x138d72=0x0;const _0x42aacf=async()=>{const _0x378d48=_0x210f59;_0x138d72+=0x1;try{_0xe8f382['log'](_0x1b63ac[_0x378d48(0x6eb)],'Job\x20'+_0x6cc6d5['id']+'\x20sending\x20attempt\x20'+_0x138d72+'.',this[_0x378d48(0x5df)][_0x378d48(0x734)]()),await this[_0x378d48(0x9d3)](_0x445907),_0x6cc6d5[_0x378d48(0x76f)]=new Date(),this[_0x378d48(0x8a5)][_0x378d48(0x50f)](_0x6cc6d5['id'],_0x6cc6d5),this['startBidResponseHandling'](_0x6cc6d5['id']);}catch(_0x1ae49d){_0x138d72<_0x5d45bf?(_0xe8f382[_0x378d48(0x4a2)](_0x378d48(0x46c)+_0x138d72+'\x20to\x20send\x20dispatcherJob\x20'+_0x6cc6d5['id']+_0x378d48(0x6d3),{'nodeId':this[_0x378d48(0x817)][_0x378d48(0x362)](),'nodeType':this[_0x378d48(0x817)][_0x378d48(0x285)],'data':{'job':_0x6cc6d5,'attempts':_0x138d72,'maxRetries':_0x5d45bf}}),setTimeout(_0x42aacf,0x3e8)):(_0x6cc6d5[_0x378d48(0x811)]=_0x406df3['JobStatus']['Failed'],_0x6cc6d5[_0x378d48(0x76f)]=new Date(),this[_0x378d48(0x8a5)]['set'](_0x6cc6d5['id'],_0x6cc6d5),_0xe8f382['error'](_0x378d48(0x781)+_0x6cc6d5['id']+_0x378d48(0x696)+_0x5d45bf+_0x378d48(0x2b4),{'nodeId':this['owner'][_0x378d48(0x362)](),'nodeType':this[_0x378d48(0x817)]['type'],'data':{'job':_0x6cc6d5,'attempts':_0x138d72,'maxRetries':_0x5d45bf,'error':_0x1ae49d}}));}};_0x42aacf();const {id:_0x4f7cb3}=_0x6cc6d5;this[_0x210f59(0x844)](_0x210f59(0x7ef)+_0x6cc6d5['id']+_0x210f59(0x1e1),{'jobId':_0x4f7cb3}),_0x6cc6d5[_0x210f59(0x76f)]=new Date();}catch(_0x5decab){_0x6cc6d5[_0x210f59(0x811)]=_0x406df3[_0x210f59(0x623)][_0x210f59(0x1ab)],_0xe8f382[_0x210f59(0x60c)](_0x210f59(0x781)+_0x6cc6d5['id']+':',{'nodeId':this[_0x210f59(0x817)][_0x210f59(0x362)](),'nodeType':this['owner'][_0x210f59(0x285)],'data':{'job':_0x6cc6d5,'error':_0x5decab}});}return _0x5524a5['asObservable']();}[_0x2ad6ba(0x17b)](_0x404bbf){const _0x2b835f=_0x2ad6ba,_0x5f6588=this[_0x2b835f(0x8a5)]['get'](_0x404bbf);if(!_0x5f6588)throw new _0x3f1f96(_0x429a2c['JobDispatcherJobNotFound'],_0x2b835f(0x372)+_0x404bbf+_0x2b835f(0xa36));return{'id':_0x5f6588['id'],'jobType':_0x5f6588[_0x2b835f(0x2f7)],'status':_0x5f6588['status'],'parameters':_0x5f6588['parameters']};}[_0x2ad6ba(0x6c9)](){const _0xf92a5f=_0x2ad6ba;return Array['from'](this[_0xf92a5f(0x8a5)][_0xf92a5f(0x9c1)]())[_0xf92a5f(0x607)](_0x492f1b=>this['getJob'](_0x492f1b['id']));}async[_0x2ad6ba(0x201)](_0x2232c3,_0x16ee89){const _0x2cbe9e=_0x2ad6ba,_0x2bd6f5=this[_0x2cbe9e(0x8a5)][_0x2cbe9e(0x736)](_0x2232c3);if(!_0x2bd6f5)throw new _0x3f1f96(_0x429a2c['JobDispatcherJobNotFound'],_0x2cbe9e(0x372)+_0x2232c3+_0x2cbe9e(0xa36));_0x2bd6f5[_0x2cbe9e(0x223)]=_0x16ee89,_0x2bd6f5[_0x2cbe9e(0x76f)]=new Date(),this[_0x2cbe9e(0x8a5)][_0x2cbe9e(0x50f)](_0x2232c3,_0x2bd6f5);}async[_0x2ad6ba(0x6ac)](_0x27d1dd){const _0x43cf73=_0x2ad6ba;if(!this[_0x43cf73(0x8a5)][_0x43cf73(0xa12)](_0x27d1dd))throw new _0x3f1f96(_0x429a2c[_0x43cf73(0x414)],_0x43cf73(0x372)+_0x27d1dd+_0x43cf73(0xa36));const _0x4104b2=this[_0x43cf73(0x669)]['get'](_0x27d1dd);if(!_0x4104b2)throw new _0x31ec66(_0x31ec66[_0x43cf73(0x4b6)][_0x43cf73(0xa93)]);_0x4104b2[_0x43cf73(0x455)](),this[_0x43cf73(0x669)]['delete'](_0x27d1dd),_0xe8f382[_0x43cf73(0xa40)](_0x1b63ac[_0x43cf73(0x6eb)],_0x43cf73(0x7ef)+_0x27d1dd+_0x43cf73(0x971));}[_0x2ad6ba(0xa1d)](_0x4e543e,_0x1aa6af,_0x29c740){const _0xbab232=_0x2ad6ba,_0x38769b=this[_0xbab232(0x42d)][_0xbab232(0x736)](_0x1aa6af)??new Map();_0x38769b['set'](_0x4e543e,[_0x29c740,Date['now']()]),this[_0xbab232(0x42d)][_0xbab232(0x50f)](_0x1aa6af,_0x38769b),this[_0xbab232(0x3c4)](_0x1aa6af);}[_0x2ad6ba(0x1eb)](_0x2c73b9){const _0x5c31f0=_0x2ad6ba,_0x27d9f7=this[_0x5c31f0(0x8a5)][_0x5c31f0(0x736)](_0x2c73b9);if(!_0x27d9f7)throw new _0x31ec66(_0x31ec66['codes'][_0x5c31f0(0x414)]);const _0xf85a8=setTimeout(()=>this['evaluateBidsAndAttributeJob'](_0x2c73b9,!0x0),0xbb8);_0x27d9f7[_0x5c31f0(0x3b0)]=_0xf85a8,this[_0x5c31f0(0x8a5)]['set'](_0x27d9f7['id'],_0x27d9f7);}[_0x2ad6ba(0x3c4)](_0x203a89,_0x42fbf3=!0x1){const _0x1d045=_0x2ad6ba,_0x56c8f8=this['graphService'][_0x1d045(0x734)](),_0x39eb94=Array[_0x1d045(0x854)](_0x56c8f8['values']())[_0x1d045(0x1bc)](_0x1e1d71=>_0x1e1d71['type']===_0x406df3['NodeType'][_0x1d045(0x37e)]),_0x347b4f=this[_0x1d045(0x42d)][_0x1d045(0x736)](_0x203a89)??new Map();if(!_0x42fbf3&&(!_0x347b4f||_0x347b4f['size']<_0x39eb94[_0x1d045(0x8e0)]))return;const _0x5c0c29=this['jobs'][_0x1d045(0x736)](_0x203a89);if(!_0x5c0c29)throw new _0x31ec66(_0x31ec66[_0x1d045(0x4b6)]['JobDispatcherJobNotFound']);if(clearTimeout(_0x5c0c29['responseTimeout']),_0xe8f382[_0x1d045(0xa40)](_0x1b63ac['Jobs'],_0x1d045(0x7ef)+_0x5c0c29['id']+'\x20received\x20responses:',_0x347b4f,this[_0x1d045(0x42d)]),!_0x347b4f||0x0===_0x347b4f['size']){_0x5c0c29[_0x1d045(0x811)]=_0x406df3[_0x1d045(0x623)]['Failed'],_0x5c0c29[_0x1d045(0x76f)]=new Date(),_0xe8f382[_0x1d045(0x60c)](_0x1d045(0x7ef)+_0x5c0c29['id']+_0x1d045(0x983),{'nodeId':this['owner'][_0x1d045(0x362)](),'nodeType':this[_0x1d045(0x817)]['type'],'data':{'job':_0x5c0c29,'responses':_0x347b4f}});const _0x3eeb92=this[_0x1d045(0x669)][_0x1d045(0x736)](_0x203a89);if(!_0x3eeb92)throw new _0x31ec66(_0x31ec66[_0x1d045(0x4b6)][_0x1d045(0xa93)]);const _0x2848b1=_0x1d045(0x6cf),_0x3ba5df={'id':_0x5c0c29['id'],'status':_0x5c0c29[_0x1d045(0x811)],'message':_0x2848b1};return _0x3eeb92['next'](_0x3ba5df),_0x3eeb92[_0x1d045(0x455)](),this[_0x1d045(0x8a5)][_0x1d045(0x50f)](_0x5c0c29['id'],_0x5c0c29),void this['jobBids'][_0x1d045(0xa12)](_0x203a89);}const {nodeId:_0x555183,response:_0x43e266}=this[_0x1d045(0x979)](_0x5c0c29['id'],_0x347b4f);_0x5c0c29[_0x1d045(0x811)]=_0x406df3[_0x1d045(0x623)]['Processing'],_0x5c0c29[_0x1d045(0x76f)]=new Date(),_0xe8f382[_0x1d045(0xa40)](_0x1b63ac[_0x1d045(0x6eb)],_0x1d045(0x7ef)+_0x5c0c29['id']+_0x1d045(0x4c9)+_0x555183+'\x20with\x20response:',_0x43e266);const _0xea0b22={'id':_0x5c0c29['id'],'jobType':_0x5c0c29['jobType'],'jobPhase':_0x3ea5c4[_0x1d045(0x70b)],'parameters':_0x5c0c29['parameters']};this[_0x1d045(0x9d3)](_0xea0b22,[_0x555183]),this['jobs'][_0x1d045(0x50f)](_0x5c0c29['id'],_0x5c0c29),this[_0x1d045(0x42d)][_0x1d045(0xa12)](_0x203a89);}[_0x2ad6ba(0x979)](_0x2c5e33,_0x1d7ee6){const _0x6e0069=_0x2ad6ba;let _0x173127;const _0xd91d57=Array[_0x6e0069(0x854)](_0x1d7ee6[_0x6e0069(0x866)]())[_0x6e0069(0x1bc)](([,[_0x587b5a]])=>_0x587b5a[_0x6e0069(0x464)]);if(_0x173127=_0xd91d57[_0x6e0069(0x8e0)]>0x0?Array[_0x6e0069(0x854)](_0x1d7ee6[_0x6e0069(0x866)]())[_0x6e0069(0xa22)]((_0x31e819,_0x3b55cc)=>_0x3b55cc[0x1][0x0][_0x6e0069(0x50c)]-_0x31e819[0x1][0x0][_0x6e0069(0x50c)]):Array[_0x6e0069(0x854)](_0x1d7ee6['entries']())['sort']((_0x684763,_0x3d3038)=>_0x684763[0x1][0x0][_0x6e0069(0x66c)]-_0x3d3038[0x1][0x0][_0x6e0069(0x66c)]),0x1===_0x173127[_0x6e0069(0x8e0)])return{'nodeId':_0x173127[0x0][0x0],'response':_0x173127[0x0][0x1][0x0]};let _0x3dba62;if(_0x3dba62=_0xd91d57[_0x6e0069(0x8e0)]>0x0?(_0x228c6e=>{const _0xec3303=_0x6e0069,_0x23307b=_0x228c6e[0x0][0x1][0x0]['bid'];return _0x228c6e[_0xec3303(0x1bc)](([,[_0x57fad7]])=>_0x57fad7[_0xec3303(0x50c)]===_0x23307b);})(_0x173127):(_0x3fc378=>{const _0x287f30=_0x6e0069,_0x4de3fe=_0x3fc378[0x0][0x1][0x0][_0x287f30(0x66c)];return _0x3fc378['filter'](([,[_0x4230e2]])=>_0x4230e2[_0x287f30(0x66c)]===_0x4de3fe);})(_0x173127),0x1===_0x3dba62[_0x6e0069(0x8e0)])return{'nodeId':_0x3dba62[0x0][0x0],'response':_0x3dba62[0x0][0x1][0x0]};const _0x4d4c0a=this[_0x6e0069(0x8a5)][_0x6e0069(0x736)](_0x2c5e33);if(!_0x4d4c0a)throw new _0x31ec66(_0x31ec66[_0x6e0069(0x4b6)][_0x6e0069(0x414)]);const _0x3e918f=_0x4d4c0a[_0x6e0069(0x5e4)]['getTime'](),_0x4302eb=_0x3dba62['map'](([_0x5c5daf,[,_0x434f15]])=>({'nodeId':_0x5c5daf,'rtt':_0x434f15-_0x3e918f})),_0x338e9d=Math[_0x6e0069(0x9e7)](..._0x4302eb[_0x6e0069(0x607)](({rtt:_0x4ae4b9})=>_0x4ae4b9)),_0x1ad366=_0x4302eb[_0x6e0069(0x2e0)](({rtt:_0x20c041})=>_0x20c041===_0x338e9d),[,[_0x186305]]=_0x3dba62[_0x6e0069(0x2e0)](([_0x120acd])=>_0x120acd===_0x1ad366[_0x6e0069(0x898)]);return{'nodeId':_0x1ad366[_0x6e0069(0x898)],'response':_0x186305};}[_0x2ad6ba(0x6e1)](_0x37ca2e,_0x1315f6){const _0x30950c=_0x2ad6ba,_0x342ce2=this[_0x30950c(0x8a5)][_0x30950c(0x736)](_0x37ca2e);if(!_0x342ce2)throw new _0x31ec66(_0x31ec66[_0x30950c(0x4b6)][_0x30950c(0x414)]);const _0x3d7a59=this[_0x30950c(0x669)][_0x30950c(0x736)](_0x37ca2e);if(!_0x3d7a59)throw new _0x31ec66(_0x31ec66[_0x30950c(0x4b6)][_0x30950c(0xa93)]);const _0x4a6715={'id':_0x342ce2['id'],'status':_0x406df3['JobStatus']['Partial'],'result':_0x1315f6[_0x30950c(0x917)]};_0x3d7a59[_0x30950c(0x3e3)](_0x4a6715);}[_0x2ad6ba(0x1a5)](_0x1b2b03,_0x5fa754){const _0x4d36d2=_0x2ad6ba,_0x452a53=this['jobs']['get'](_0x1b2b03);if(!_0x452a53)throw new _0x31ec66(_0x31ec66[_0x4d36d2(0x4b6)][_0x4d36d2(0x414)]);const _0x3f5635=this['jobObservers'][_0x4d36d2(0x736)](_0x1b2b03);if(!_0x3f5635)throw new _0x31ec66(_0x31ec66[_0x4d36d2(0x4b6)][_0x4d36d2(0xa93)]);_0x452a53[_0x4d36d2(0x811)]=_0x406df3[_0x4d36d2(0x623)][_0x4d36d2(0x8f5)];const _0x407b3a={'id':_0x452a53['id'],'status':_0x452a53['status'],'result':_0x5fa754[_0x4d36d2(0x917)]};_0x3f5635['next'](_0x407b3a),_0x3f5635[_0x4d36d2(0x455)](),this[_0x4d36d2(0x669)][_0x4d36d2(0xa12)](_0x1b2b03),this['logEvent'](_0x4d36d2(0x7ef)+_0x1b2b03+'\x20finalized.',{'jobId':_0x1b2b03});}[_0x2ad6ba(0x4ea)](_0x24a6b8,_0xfe16e0){const _0x2b776e=_0x2ad6ba,_0x2f5d5e=this[_0x2b776e(0x8a5)]['get'](_0x24a6b8);if(!_0x2f5d5e)throw new _0x31ec66(_0x31ec66['codes'][_0x2b776e(0x414)]);const _0x1eda0a=this['jobObservers'][_0x2b776e(0x736)](_0x24a6b8);if(!_0x1eda0a)throw new _0x31ec66(_0x31ec66[_0x2b776e(0x4b6)][_0x2b776e(0xa93)]);_0x2f5d5e[_0x2b776e(0x811)]=_0x406df3[_0x2b776e(0x623)][_0x2b776e(0x1ab)];const _0x2ea4c0={'id':_0x2f5d5e['id'],'status':_0x2f5d5e[_0x2b776e(0x811)],'message':_0xfe16e0};_0x1eda0a['next'](_0x2ea4c0),_0x1eda0a[_0x2b776e(0x455)](),this[_0x2b776e(0x669)]['delete'](_0x24a6b8),this[_0x2b776e(0x844)]('Job\x20'+_0x24a6b8+_0x2b776e(0x2d9),{'jobId':_0x24a6b8});}['logEvent'](_0x50a054,{jobId:_0x50c0f0}){const _0x1ca803=_0x2ad6ba,_0x1f7aad={'jobId':_0x50c0f0,'mistletIds':Array['from'](this[_0x1ca803(0x5df)][_0x1ca803(0x734)]()[_0x1ca803(0x9c1)]())['filter'](_0x50d74e=>_0x50d74e[_0x1ca803(0x285)]===_0x406df3[_0x1ca803(0x9c4)][_0x1ca803(0x37e)])[_0x1ca803(0x607)](_0x229359=>_0x229359[_0x1ca803(0x362)]())};_0xe8f382[_0x1ca803(0x844)](_0x50a054,{'nodeId':this[_0x1ca803(0x4e9)](),'nodeType':this['owner'][_0x1ca803(0x285)],'data':_0x1f7aad}),_0xe8f382[_0x1ca803(0xa40)](_0x1b63ac[_0x1ca803(0x6eb)],_0x50a054,_0x1f7aad);}[_0x2ad6ba(0x26d)](_0x2b0f01){const _0x54f1f9=_0x2ad6ba,{jobPhase:_0x80ed71,available:_0x5b023d,bid:_0x502bb2}=_0x2b0f01;return _0x80ed71===_0x3ea5c4[_0x54f1f9(0x1b3)]&&void 0x0!==_0x5b023d&&void 0x0!==_0x502bb2;}[_0x2ad6ba(0x5cf)](_0x5857de){const _0x565bda=_0x2ad6ba,{jobPhase:_0x26cfbc,result:_0x388aea}=_0x5857de;return _0x26cfbc===_0x3ea5c4[_0x565bda(0x38a)]&&void 0x0!==_0x388aea;}[_0x2ad6ba(0x729)](_0x285d95){const _0x2b3883=_0x2ad6ba,{jobPhase:_0x9b03fe,result:_0x3c50e3}=_0x285d95;return _0x9b03fe===_0x3ea5c4[_0x2b3883(0x233)]&&void 0x0!==_0x3c50e3;}[_0x2ad6ba(0x43f)](_0x1ed7e4){const _0x52ca2c=_0x2ad6ba,{jobPhase:_0x2ca200,message:_0xded7e5}=_0x1ed7e4;return _0x2ca200===_0x3ea5c4['Failed']&&void 0x0!==_0xded7e5&&_0x52ca2c(0x488)==typeof _0xded7e5;}}var _0x3e4b21,_0x154e5e,_0x3373d7,_0x1481cb;!function(_0x559f86){const _0x5db2b3=_0x2ad6ba;_0x559f86[_0x5db2b3(0x639)]=_0x5db2b3(0x489),_0x559f86[_0x5db2b3(0x5ca)]=_0x5db2b3(0x5b7);}(_0x3e4b21||(_0x3e4b21={})),function(_0x3c431f){const _0x98e9f2=_0x2ad6ba;_0x3c431f['Agent']=_0x98e9f2(0x8af),_0x3c431f[_0x98e9f2(0x4f7)]=_0x98e9f2(0x1bf),_0x3c431f['CustomSkill']='custom-skill',_0x3c431f[_0x98e9f2(0x176)]=_0x98e9f2(0x7c8),_0x3c431f['Knowledge']=_0x98e9f2(0x85b),_0x3c431f['Prompt']=_0x98e9f2(0x57d),_0x3c431f['Answer']=_0x98e9f2(0x8c6),_0x3c431f[_0x98e9f2(0x727)]=_0x98e9f2(0x4f6),_0x3c431f[_0x98e9f2(0x927)]=_0x98e9f2(0xa96),_0x3c431f['AiSearch']='ai-search',_0x3c431f['WebScraper']=_0x98e9f2(0x9fe),_0x3c431f[_0x98e9f2(0x610)]='web-scraper-raw',_0x3c431f[_0x98e9f2(0x656)]=_0x98e9f2(0x833),_0x3c431f[_0x98e9f2(0x252)]='write-file',_0x3c431f[_0x98e9f2(0x423)]=_0x98e9f2(0x26f),_0x3c431f['SentenceSplitter']=_0x98e9f2(0x467),_0x3c431f[_0x98e9f2(0x3d0)]=_0x98e9f2(0xa70),_0x3c431f[_0x98e9f2(0x653)]=_0x98e9f2(0x82f);}(_0x154e5e||(_0x154e5e={})),function(_0x25a636){const _0xaa08ee=_0x2ad6ba;_0x25a636['ObjectStorageUpload']=_0xaa08ee(0x3f8),_0x25a636[_0xaa08ee(0x926)]=_0xaa08ee(0xa41),_0x25a636[_0xaa08ee(0x653)]='document-parser',_0x25a636[_0xaa08ee(0x423)]=_0xaa08ee(0x26f),_0x25a636[_0xaa08ee(0x3d0)]=_0xaa08ee(0xa70),_0x25a636['SentenceSplitter']=_0xaa08ee(0x467),_0x25a636[_0xaa08ee(0x77c)]='relation-extractor',_0x25a636['EntityExtractor']=_0xaa08ee(0x872),_0x25a636[_0xaa08ee(0x841)]=_0xaa08ee(0x83b),_0x25a636[_0xaa08ee(0x72d)]='model',_0x25a636[_0xaa08ee(0x37e)]=_0xaa08ee(0x8af),_0x25a636[_0xaa08ee(0x296)]=_0xaa08ee(0x489),_0x25a636[_0xaa08ee(0x924)]=_0xaa08ee(0x51b),_0x25a636['VectorDatabase']=_0xaa08ee(0x8b0),_0x25a636[_0xaa08ee(0x57e)]=_0xaa08ee(0x64b),_0x25a636[_0xaa08ee(0x46b)]=_0xaa08ee(0x57d),_0x25a636[_0xaa08ee(0x470)]='context';}(_0x3373d7||(_0x3373d7={})),function(_0x2d5d0a){const _0x44c990=_0x2ad6ba;_0x2d5d0a[_0x44c990(0x87a)]='file',_0x2d5d0a['Text']=_0x44c990(0x303),_0x2d5d0a[_0x44c990(0x2c5)]=_0x44c990(0x899),_0x2d5d0a[_0x44c990(0x911)]=_0x44c990(0x648),_0x2d5d0a[_0x44c990(0xaa7)]=_0x44c990(0x19c),_0x2d5d0a[_0x44c990(0x40e)]=_0x44c990(0x6b3),_0x2d5d0a[_0x44c990(0x45a)]=_0x44c990(0xa6d),_0x2d5d0a[_0x44c990(0x848)]='relation',_0x2d5d0a['Search']='search',_0x2d5d0a[_0x44c990(0x3fb)]=_0x44c990(0x807),_0x2d5d0a[_0x44c990(0x799)]=_0x44c990(0x85b),_0x2d5d0a['Skill']=_0x44c990(0x327),_0x2d5d0a[_0x44c990(0x470)]=_0x44c990(0x567),_0x2d5d0a[_0x44c990(0x458)]=_0x44c990(0x602);}(_0x1481cb||(_0x1481cb={}));class _0x5d1636{static [_0x2ad6ba(0x691)];constructor(){}static[_0x2ad6ba(0x1d8)](){const _0x59e4af=_0x2ad6ba;return _0x5d1636[_0x59e4af(0x691)]||(_0x5d1636[_0x59e4af(0x691)]=new _0x5d1636()),_0x5d1636['instance'];}async[_0x2ad6ba(0x5fd)](_0x465abc,_0x23b0dd){const _0x281984=_0x2ad6ba,_0x597a7b=await(0x0,_0x2fd630[_0x281984(0x73e)])((0x0,_0x2fd630['doc'])(_0x480677[_0x281984(0xa35)](),_0x281984(0x6c4)+_0x465abc+_0x281984(0x908)+_0x23b0dd)),_0x3d056d=await this[_0x281984(0x5f3)](_0x465abc),_0x142231=await this[_0x281984(0x254)](_0x465abc),_0x1f2ae3=await this[_0x281984(0x1e0)](_0x465abc),_0x2866a2=await this[_0x281984(0x3ef)](_0x465abc),_0xb2749c=await this[_0x281984(0x24d)](_0x465abc);if(!_0x597a7b[_0x281984(0x855)]())throw new _0x31ec66(_0x31ec66[_0x281984(0x4b6)][_0x281984(0x783)]);return this['parseWorkflowDocument'](_0x597a7b,_0x3d056d,_0x142231,_0x1f2ae3,_0x2866a2,_0xb2749c);}[_0x2ad6ba(0xa9d)](_0x2efec9,_0x563e38,_0x306072,_0x919d31,_0xe03cda,_0x2ed3dd){const _0x9fee32=_0x2ad6ba,_0x1930e0=_0x2efec9['data']();if(!_0x1930e0)throw new _0x31ec66(_0x31ec66[_0x9fee32(0x4b6)][_0x9fee32(0x783)]);const _0x5dbb99=_0x1930e0[_0x9fee32(0x803)]&&_0x1930e0[_0x9fee32(0x730)]?_0x1930e0[_0x9fee32(0x730)][_0x1930e0['deployedVersion']-0x1]:_0x1930e0,_0x31415d=this[_0x9fee32(0x3f2)](_0x5dbb99[_0x9fee32(0x2a5)],_0x563e38,_0x306072,_0x919d31,_0x2ed3dd);return{'id':_0x2efec9['id'],'modelsBucketId':_0x1930e0['bucketId'],'blocks':_0x31415d,'models':this[_0x9fee32(0x956)](_0x31415d,_0xe03cda),'dataBucketIds':this[_0x9fee32(0x7f4)](_0x31415d),'externalStorageConnectionIds':this[_0x9fee32(0x9e4)](_0x31415d)};}[_0x2ad6ba(0x956)](_0x211009,_0x3f8beb){const _0x1b9a53=_0x2ad6ba,_0x43d2a5=new Set();for(const _0x55855c of _0x211009)if(_0x55855c[_0x1b9a53(0x285)]!==_0x154e5e[_0x1b9a53(0x37e)]&&_0x55855c[_0x1b9a53(0x285)]!==_0x154e5e[_0x1b9a53(0x4f7)]||_0x43d2a5['add'](_0x55855c[_0x1b9a53(0x1e7)]),_0x55855c['type']===_0x154e5e[_0x1b9a53(0x799)]||_0x55855c[_0x1b9a53(0x285)]===_0x154e5e['DataCollection']){for(const _0x3413e4 of[..._0x55855c[_0x1b9a53(0x16f)],..._0x55855c[_0x1b9a53(0x789)]])_0x3413e4[_0x1b9a53(0x285)]===_0x3373d7['Model']&&_0x43d2a5[_0x1b9a53(0x424)](_0x3413e4['id']),_0x3413e4[_0x1b9a53(0x285)]===_0x3373d7[_0x1b9a53(0x37e)]&&_0x43d2a5['add'](_0x3413e4[_0x1b9a53(0x1e7)]);}return Array[_0x1b9a53(0x854)](_0x43d2a5)['map'](_0xd59ee4=>{const _0x2585e8=_0x1b9a53,{id:_0x590589,engineType:_0x2381c0,taskType:_0x14caef,knowledgeCutoffDate:_0x179686,inputType:_0xe08eb3,outputType:_0x57dc2b,sourceUrl:_0x5ca632}=_0x3f8beb[_0x2585e8(0x2e0)](_0x1ff053=>_0x1ff053['id']===_0xd59ee4);return{'id':_0x590589,'engineType':_0x2381c0,'taskType':_0x14caef,'knowledgeCutoffDate':_0x179686,'inputType':_0xe08eb3,'outputType':_0x57dc2b,'sourceUrl':_0x5ca632};});}[_0x2ad6ba(0x7f4)](_0x101cbe){const _0x5a9ac0=_0x2ad6ba,_0x2f94ec=new Set();for(const _0x52604b of _0x101cbe)switch(_0x52604b[_0x5a9ac0(0x285)]){case _0x154e5e[_0x5a9ac0(0x799)]:case _0x154e5e[_0x5a9ac0(0x176)]:for(const _0x1ca332 of[..._0x52604b[_0x5a9ac0(0x16f)],..._0x52604b[_0x5a9ac0(0x789)]])_0x1ca332[_0x5a9ac0(0x285)]===_0x3373d7[_0x5a9ac0(0x268)]&&_0x2f94ec[_0x5a9ac0(0x424)](_0x1ca332['id']);}return Array[_0x5a9ac0(0x854)](_0x2f94ec);}['getWorkflowExternalStorageConnections'](_0x363c64){const _0x1b746c=_0x2ad6ba,_0x2135ac=new Set();for(const _0x300cfd of _0x363c64)switch(_0x300cfd[_0x1b746c(0x285)]){case _0x154e5e[_0x1b746c(0x799)]:case _0x154e5e[_0x1b746c(0x176)]:for(const _0x17c9bc of[..._0x300cfd['ingestBlocks'],..._0x300cfd[_0x1b746c(0x789)]])_0x17c9bc[_0x1b746c(0x285)]===_0x3373d7[_0x1b746c(0x926)]&&_0x2135ac[_0x1b746c(0x424)](_0x17c9bc['id']);}return Array[_0x1b746c(0x854)](_0x2135ac);}['parseWorkflowBlocks'](_0xbe06c1,_0x21b416,_0x11c0bf,_0x54e30c,_0x331337){const _0x461527=_0x2ad6ba;return _0xbe06c1[_0x461527(0x607)](_0xd0b130=>{const _0x2ec59b=_0x461527;switch(_0xd0b130[_0x2ec59b(0x285)]){case _0x154e5e[_0x2ec59b(0x37e)]:case _0x154e5e[_0x2ec59b(0x4f7)]:const _0x135c8b=_0x21b416[_0x2ec59b(0x2e0)](_0x28af5a=>_0x28af5a['id']===_0xd0b130['id']);if(!_0x135c8b)throw new _0x31ec66(_0x31ec66[_0x2ec59b(0x4b6)][_0x2ec59b(0x569)],{'block':_0xd0b130});const _0xb06a63=_0xd0b130[_0x2ec59b(0x354)]&&_0x135c8b['versions']?_0x135c8b[_0x2ec59b(0x730)][_0xd0b130[_0x2ec59b(0x354)]-0x1]:_0x135c8b;return{'type':_0x135c8b[_0x2ec59b(0x285)],'id':_0x135c8b['id'],'uid':_0xd0b130[_0x2ec59b(0x19a)],'name':_0xb06a63['name'],'description':_0xb06a63[_0x2ec59b(0x9b5)],'instructions':_0xb06a63[_0x2ec59b(0x4ae)],'contextOutputVariable':_0xb06a63[_0x2ec59b(0xaa3)],'contextInputVariable':_0xb06a63['contextInputVariable'],'grammar':[_0x2ec59b(0x25f),_0x2ec59b(0xa63),_0x2ec59b(0xa9a)][_0x2ec59b(0x205)](_0xb06a63[_0x2ec59b(0x7df)])?_0xb06a63['grammar']:_0x331337[_0x2ec59b(0x2e0)](_0x33bda1=>_0x33bda1['id']===_0xb06a63['grammar'])[_0x2ec59b(0x257)],'temperature':_0xb06a63[_0x2ec59b(0x1d3)],'maxTokens':_0xb06a63[_0x2ec59b(0x390)],'modelId':_0xb06a63['modelId'],'links':_0xd0b130[_0x2ec59b(0x319)],'version':_0xd0b130[_0x2ec59b(0x354)]};case _0x154e5e[_0x2ec59b(0x799)]:case _0x154e5e[_0x2ec59b(0x176)]:const _0x53ad93=_0x11c0bf[_0x2ec59b(0x2e0)](_0x1da471=>_0x1da471['id']===_0xd0b130['id']);if(!_0x53ad93)throw new _0x31ec66(_0x31ec66[_0x2ec59b(0x4b6)][_0x2ec59b(0x569)],{'block':_0xd0b130});const _0x1d1a9b=_0xd0b130['version']&&_0x53ad93[_0x2ec59b(0x730)]?_0x53ad93[_0x2ec59b(0x730)][_0xd0b130[_0x2ec59b(0x354)]-0x1]:_0x53ad93;return{'type':_0xd0b130['type'],'id':_0x53ad93['id'],'uid':_0xd0b130[_0x2ec59b(0x19a)],'name':_0x1d1a9b[_0x2ec59b(0x2b9)],'description':_0x1d1a9b[_0x2ec59b(0x9b5)],'ingestBlocks':this['parseDataCollectionBlocks'](_0x1d1a9b['ingestBlocks'],_0x21b416),'retrieveBlocks':this[_0x2ec59b(0x469)](_0x1d1a9b['retrieveBlocks'],_0x21b416),'links':_0xd0b130['links'],'version':_0xd0b130[_0x2ec59b(0x354)]};case _0x154e5e[_0x2ec59b(0x8b4)]:const _0x5010ff=_0x54e30c[_0x2ec59b(0x2e0)](_0x311148=>_0x311148['id']===_0xd0b130['id']);if(!_0x5010ff)throw new _0x31ec66(_0x31ec66[_0x2ec59b(0x4b6)][_0x2ec59b(0x569)],{'block':_0xd0b130});return{'type':_0xd0b130[_0x2ec59b(0x285)],'id':_0x5010ff['id'],'uid':_0xd0b130['uid'],'name':_0x5010ff['name'],'description':_0x5010ff[_0x2ec59b(0x9b5)],'parameters':_0x5010ff[_0x2ec59b(0x223)],'endpointUrl':_0x5010ff['endpointUrl'],'endpointMethod':_0x5010ff[_0x2ec59b(0x179)],'headers':_0x5010ff['headers'],'queryParameters':_0x5010ff[_0x2ec59b(0x245)],'bodyParameters':_0x5010ff['bodyParameters'],'contextOutputVariable':_0x5010ff[_0x2ec59b(0xaa3)],'waitAsync':_0x5010ff[_0x2ec59b(0x5c9)],'asyncEndpointUrl':_0x5010ff[_0x2ec59b(0x17a)],'asyncEndpointMethod':_0x5010ff[_0x2ec59b(0x77a)],'asyncHeaders':_0x5010ff[_0x2ec59b(0x53e)],'links':_0xd0b130[_0x2ec59b(0x319)]};case _0x154e5e[_0x2ec59b(0x46b)]:case _0x154e5e['Answer']:case _0x154e5e['Code']:case _0x154e5e['Search']:case _0x154e5e['AiSearch']:case _0x154e5e['WebScraper']:case _0x154e5e['WebScraperRaw']:case _0x154e5e[_0x2ec59b(0x656)]:case _0x154e5e[_0x2ec59b(0x252)]:case _0x154e5e[_0x2ec59b(0x4d8)]:case _0x154e5e[_0x2ec59b(0x653)]:return{'type':_0xd0b130[_0x2ec59b(0x285)],'id':_0xd0b130['id'],'uid':_0xd0b130[_0x2ec59b(0x19a)],'links':_0xd0b130[_0x2ec59b(0x319)]};case _0x154e5e[_0x2ec59b(0x423)]:case _0x154e5e[_0x2ec59b(0x3d0)]:return{'type':_0xd0b130[_0x2ec59b(0x285)],'id':_0xd0b130['id'],'uid':_0xd0b130['uid'],'links':_0xd0b130[_0x2ec59b(0x319)],'attributes':_0xd0b130[_0x2ec59b(0x37c)]};default:throw new _0x31ec66(_0x31ec66[_0x2ec59b(0x4b6)][_0x2ec59b(0x569)],{'block':_0xd0b130});}});}['parseDataCollectionBlocks'](_0x5edb16,_0x3a13e6){const _0x384b25=_0x2ad6ba;return _0x5edb16[_0x384b25(0x607)](_0x26727b=>{const _0x28e983=_0x384b25;switch(_0x26727b['type']){case _0x3373d7[_0x28e983(0x37e)]:const _0xa37dfb=_0x3a13e6[_0x28e983(0x2e0)](_0x3a819b=>_0x3a819b['id']===_0x26727b['id']);if(!_0xa37dfb)throw new _0x31ec66(_0x31ec66[_0x28e983(0x4b6)][_0x28e983(0x569)],{'block':_0x26727b});const _0x3ca0e6=_0x26727b['version']&&_0xa37dfb['versions']?_0xa37dfb[_0x28e983(0x730)][_0x26727b[_0x28e983(0x354)]-0x1]:_0xa37dfb;return{'type':_0x26727b[_0x28e983(0x285)],'id':_0x26727b['id'],'uid':_0x26727b[_0x28e983(0x19a)],'description':_0x3ca0e6[_0x28e983(0x9b5)],'instructions':_0x3ca0e6[_0x28e983(0x4ae)],'grammar':_0x3ca0e6['grammar'],'temperature':_0x3ca0e6[_0x28e983(0x1d3)],'maxTokens':_0x3ca0e6[_0x28e983(0x390)],'modelId':_0x3ca0e6[_0x28e983(0x1e7)],'links':_0x26727b[_0x28e983(0x319)],'version':_0x26727b[_0x28e983(0x354)]};case _0x3373d7['GraphDatabase']:case _0x3373d7['VectorDatabase']:case _0x3373d7['WordSplitter']:case _0x3373d7[_0x28e983(0x423)]:case _0x3373d7['EntityExtractor']:case _0x3373d7['Reranker']:return{'type':_0x26727b[_0x28e983(0x285)],'id':_0x26727b['id'],'uid':_0x26727b[_0x28e983(0x19a)],'links':_0x26727b['links'],'attributes':_0x26727b[_0x28e983(0x37c)]};case _0x3373d7['Model']:case _0x3373d7[_0x28e983(0x296)]:case _0x3373d7['KeyValueDatabase']:case _0x3373d7[_0x28e983(0x77c)]:case _0x3373d7[_0x28e983(0x653)]:case _0x3373d7[_0x28e983(0x4d8)]:case _0x3373d7[_0x28e983(0x268)]:case _0x3373d7[_0x28e983(0x926)]:case _0x3373d7[_0x28e983(0x470)]:case _0x3373d7[_0x28e983(0x46b)]:return{'type':_0x26727b[_0x28e983(0x285)],'id':_0x26727b['id'],'uid':_0x26727b[_0x28e983(0x19a)],'links':_0x26727b[_0x28e983(0x319)]};default:throw new _0x31ec66(_0x31ec66[_0x28e983(0x4b6)][_0x28e983(0x569)],{'block':_0x26727b});}});}async[_0x2ad6ba(0x5f3)](_0x434734){const _0x45d414=_0x2ad6ba;return(await(0x0,_0x2fd630['getDocs'])((0x0,_0x2fd630['collection'])(_0x480677[_0x45d414(0xa35)](),_0x45d414(0x6c4)+_0x434734+_0x45d414(0x92c))))[_0x45d414(0x4ca)][_0x45d414(0x607)](_0x245a5c=>{const _0x25d23f=_0x45d414,_0xd0b10a=_0x245a5c[_0x25d23f(0x19c)]();return{'type':_0x154e5e[_0x25d23f(0x37e)],'id':_0x245a5c['id'],'name':_0xd0b10a[_0x25d23f(0x2b9)],'description':_0xd0b10a[_0x25d23f(0x9b5)],'instructions':_0xd0b10a['instructions'],'contextOutputVariable':_0xd0b10a[_0x25d23f(0xaa3)],'contextInputVariable':_0xd0b10a[_0x25d23f(0x7e4)],'grammar':_0xd0b10a[_0x25d23f(0x7df)]??_0x25d23f(0x25f),'temperature':_0xd0b10a[_0x25d23f(0x1d3)],'maxTokens':_0xd0b10a[_0x25d23f(0x390)],'modelId':_0xd0b10a[_0x25d23f(0x1e7)],'versions':_0xd0b10a['versions']};});}async[_0x2ad6ba(0x254)](_0x20655a){const _0x5725d4=_0x2ad6ba;return(await(0x0,_0x2fd630[_0x5725d4(0x2ef)])((0x0,_0x2fd630[_0x5725d4(0x2b6)])(_0x480677['getFirestore'](),_0x5725d4(0x6c4)+_0x20655a+_0x5725d4(0xa7c))))[_0x5725d4(0x4ca)][_0x5725d4(0x607)](_0x4b2ffa=>{const _0x49ea35=_0x5725d4,_0x17dbc0=_0x4b2ffa[_0x49ea35(0x19c)]();return{'type':_0x154e5e[_0x49ea35(0x176)],'id':_0x4b2ffa['id'],'name':_0x17dbc0[_0x49ea35(0x2b9)],'description':_0x17dbc0[_0x49ea35(0x9b5)],'ingestBlocks':_0x17dbc0[_0x49ea35(0x16f)],'retrieveBlocks':_0x17dbc0[_0x49ea35(0x789)],'versions':_0x17dbc0['versions']};});}async[_0x2ad6ba(0x1e0)](_0x36a63b){const _0x59eb47=_0x2ad6ba;return(await(0x0,_0x2fd630[_0x59eb47(0x2ef)])((0x0,_0x2fd630['collection'])(_0x480677['getFirestore'](),_0x59eb47(0x6c4)+_0x36a63b+_0x59eb47(0x1e9))))[_0x59eb47(0x4ca)]['map'](_0x38f8bf=>{const _0x29c1ce=_0x59eb47,_0x4758bb=_0x38f8bf[_0x29c1ce(0x19c)]();return{'type':_0x154e5e[_0x29c1ce(0x8b4)],'id':_0x38f8bf['id'],'name':_0x4758bb['name'],'description':_0x4758bb[_0x29c1ce(0x9b5)],'parameters':_0x4758bb[_0x29c1ce(0x223)],'endpointUrl':_0x4758bb[_0x29c1ce(0x472)],'endpointMethod':_0x4758bb['endpointMethod'],'headers':_0x4758bb[_0x29c1ce(0x1c0)],'queryParameters':_0x4758bb[_0x29c1ce(0x245)],'bodyParameters':_0x4758bb[_0x29c1ce(0x743)],'contextOutputVariable':_0x4758bb['contextOutputVariable'],'waitAsync':_0x4758bb[_0x29c1ce(0x5c9)]??!0x1,'asyncEndpointUrl':_0x4758bb[_0x29c1ce(0x17a)],'asyncEndpointMethod':_0x4758bb[_0x29c1ce(0x77a)],'asyncHeaders':_0x4758bb[_0x29c1ce(0x53e)]};});}async[_0x2ad6ba(0x24d)](_0x98a540){const _0x4fcaa6=_0x2ad6ba;return(await(0x0,_0x2fd630['getDocs'])((0x0,_0x2fd630[_0x4fcaa6(0x2b6)])(_0x480677['getFirestore'](),_0x4fcaa6(0x6c4)+_0x98a540+_0x4fcaa6(0x681))))[_0x4fcaa6(0x4ca)][_0x4fcaa6(0x607)](_0x4fd9d5=>{const _0x3680e4=_0x4fcaa6,_0x3ea042=_0x4fd9d5[_0x3680e4(0x19c)]();return{'id':_0x4fd9d5['id'],'name':_0x3ea042[_0x3680e4(0x2b9)],'description':_0x3ea042[_0x3680e4(0x9b5)],'content':_0x3ea042['content']};});}async[_0x2ad6ba(0x3ef)](_0x22c532){const _0x54cc8a=_0x2ad6ba;return(await(0x0,_0x2fd630[_0x54cc8a(0x2ef)])((0x0,_0x2fd630[_0x54cc8a(0x2b6)])(_0x480677[_0x54cc8a(0xa35)](),_0x54cc8a(0x6c4)+_0x22c532+'/resources/generative-ai-model/items')))[_0x54cc8a(0x4ca)][_0x54cc8a(0x607)](_0x1724f8=>{const _0x45599b=_0x54cc8a,_0x7a4926=_0x1724f8[_0x45599b(0x19c)]();return{'id':_0x1724f8['id'],'modelName':_0x7a4926[_0x45599b(0x585)],'engineType':_0x7a4926[_0x45599b(0x769)],'taskType':_0x7a4926[_0x45599b(0x322)],'knowledgeCutoffDate':_0x7a4926[_0x45599b(0x8f1)],'inputType':_0x7a4926[_0x45599b(0x47f)]??_0x406df3[_0x45599b(0x912)][_0x45599b(0x3c3)],'outputType':_0x7a4926[_0x45599b(0x9a7)]??_0x406df3[_0x45599b(0x886)][_0x45599b(0x3c3)],'sourceUrl':_0x7a4926[_0x45599b(0x18d)]};});}}const _0x5c0e98=_0x5d1636[_0x2ad6ba(0x1d8)]();class _0x2c2857 extends _0xeaf38c{['localNode'];[_0x2ad6ba(0x8e1)];['prompts']=0x0;['tokens']=0x0;[_0x2ad6ba(0xa97)];constructor(_0x60ed6c,_0x39f3a7,_0x4e4cc8,_0x5157be){const _0xbc2437=_0x2ad6ba;super(_0x60ed6c,_0x39f3a7,_0x5157be),this['localNode']=_0x60ed6c,this[_0xbc2437(0x8e1)]=_0x4e4cc8,this['sendStats']();}[_0x2ad6ba(0x4aa)](){const _0x4a8f05=_0x2ad6ba;this[_0x4a8f05(0xa97)]&&(clearTimeout(this['debounceStats']),delete this['debounceStats']),super[_0x4a8f05(0x4aa)]();}[_0x2ad6ba(0x536)](){const _0x2872bc=_0x2ad6ba;this[_0x2872bc(0x823)]=0x0,this['tokens']=0x0,this[_0x2872bc(0x7cb)](),super[_0x2872bc(0x536)]();}['createAIJob'](_0x5affe4){const _0x1b8dcf=_0x2ad6ba,_0x2e7c55=_0x1b8dcf(0x81d)+(0x0,_0x145036['v4'])();switch(_0x5affe4[_0x1b8dcf(0x285)]){case _0x1b8dcf(0x57d):let _0x4f908e=!0x1;const _0x5089f4=()=>{if(_0x4f908e)throw new _0x31ec66(_0x31ec66['codes']['GenerativeAIContextJobAlreadyConsumed']);_0x4f908e=!0x0;},_0x4d3232=()=>(_0x5089f4(),this['prompt'](_0x2e7c55,_0x5affe4[_0x1b8dcf(0x57d)],_0x5affe4[_0x1b8dcf(0x6e9)])),_0x4dac9a=()=>(_0x5089f4(),this['stream'](_0x2e7c55,_0x5affe4['prompt'],_0x5affe4[_0x1b8dcf(0x6e9)]));return{'id':_0x2e7c55,'prompt':_0x5affe4[_0x1b8dcf(0x57d)],'options':_0x5affe4[_0x1b8dcf(0x6e9)]??{'threadId':_0x1b8dcf(0x931)+(0x0,_0x145036['v4'])()},'run':_0x4d3232,'stream':_0x4dac9a};case _0x1b8dcf(0x8db):let _0x4a52a4=!0x1;const _0x271572=()=>{const _0x4f5042=_0x1b8dcf;if(_0x4a52a4)throw new _0x31ec66(_0x31ec66['codes'][_0x4f5042(0x6a4)]);_0x4a52a4=!0x0;},_0x4058d7=()=>(_0x271572(),this[_0x1b8dcf(0x300)](_0x2e7c55,_0x5affe4[_0x1b8dcf(0x40f)],_0x5affe4[_0x1b8dcf(0xa0f)],_0x5affe4[_0x1b8dcf(0x6e9)]));if(!_0x5affe4[_0x1b8dcf(0x6e9)]?.[_0x1b8dcf(0x9e8)])throw new _0x3f1f96(_0x429a2c[_0x1b8dcf(0x683)],_0x1b8dcf(0x185));return{'id':_0x2e7c55,'rating':_0x5affe4[_0x1b8dcf(0x40f)],'options':_0x5affe4['options']??{'threadId':_0x1b8dcf(0x931)+(0x0,_0x145036['v4'])()},'rate':_0x4058d7};case _0x1b8dcf(0x83f):let _0x421e0b=!0x1;const _0x5b9aa7=()=>{const _0x1198de=_0x1b8dcf;if(_0x421e0b)throw new _0x31ec66(_0x31ec66[_0x1198de(0x4b6)][_0x1198de(0x6a4)]);_0x421e0b=!0x0;};return{'id':_0x2e7c55,'objectStoreId':'','documentPath':_0x5affe4[_0x1b8dcf(0x9be)],'download':()=>(_0x5b9aa7(),this[_0x1b8dcf(0x2e2)](_0x2e7c55,_0x5affe4['objectStoreId'],_0x5affe4[_0x1b8dcf(0x9be)]))};case _0x1b8dcf(0xa96):let _0x127024=!0x1;const _0x238206=()=>{if(_0x127024)throw new _0x31ec66(_0x31ec66['codes']['GenerativeAIContextJobAlreadyConsumed']);_0x127024=!0x0;};return{'id':_0x2e7c55,'query':_0x5affe4[_0x1b8dcf(0xab1)],'collectionId':_0x5affe4[_0x1b8dcf(0x7f7)],'search':()=>(_0x238206(),this[_0x1b8dcf(0x85c)](_0x2e7c55,_0x5affe4[_0x1b8dcf(0xab1)],_0x5affe4[_0x1b8dcf(0x7f7)]))};}}async['ratePrompt'](_0x165714){const _0x1b974f=_0x2ad6ba;return this[_0x1b974f(0xa9e)](_0x165714)[_0x1b974f(0x8db)]();}async['downloadDocument'](_0x242d12){const _0x1659e5=_0x2ad6ba,_0x2cef2f={'type':_0x1659e5(0x83f),'objectStoreId':'','documentPath':_0x242d12};return this['createAIJob'](_0x2cef2f)['download']();}async[_0x2ad6ba(0xa96)](_0x377734){const _0xbbeabd=_0x2ad6ba;return this['createAIJob'](_0x377734)[_0xbbeabd(0xa96)]();}async[_0x2ad6ba(0x85c)](_0x435a1e,_0x1a47a5,_0x1503a1){const _0x40d10f=_0x2ad6ba,_0x5e36a3={'type':_0x40d10f(0xa96),'threadId':'','query':_0x1a47a5,'collectionId':_0x1503a1},_0x39b4e4=await this[_0x40d10f(0x355)](_0x435a1e,_0x406df3[_0x40d10f(0x29b)]['Job'],_0x5e36a3);return new Promise((_0x43e02d,_0xacf081)=>{let _0x180d0c;const _0x2edf1c=_0x39b4e4['subscribe']({'next':_0x3f74c8=>{const _0x33093b=a0_0x119e;switch(_0x3f74c8['status']){case _0x406df3[_0x33093b(0x623)][_0x33093b(0x8f5)]:clearTimeout(_0x180d0c),_0x43e02d(_0x3f74c8[_0x33093b(0x917)][_0x33093b(0x567)]??[]),_0x2edf1c[_0x33093b(0x99f)]();break;case _0x406df3[_0x33093b(0x623)][_0x33093b(0x1ab)]:clearTimeout(_0x180d0c),_0xacf081(new _0x31ec66(_0x31ec66[_0x33093b(0x4b6)][_0x33093b(0x8bd)],{'updatedJob':_0x3f74c8})),_0x2edf1c[_0x33093b(0x99f)]();}},'error':_0x3483c1=>{const _0x284d55=a0_0x119e;clearTimeout(_0x180d0c),_0xacf081(new _0x31ec66(_0x31ec66[_0x284d55(0x4b6)][_0x284d55(0x8bd)],{'err':_0x3483c1})),_0x2edf1c[_0x284d55(0x99f)]();}});_0x180d0c=setTimeout(()=>{const _0xc58269=a0_0x119e;_0xacf081(new _0x31ec66(_0x31ec66[_0xc58269(0x4b6)][_0xc58269(0x91f)])),_0x2edf1c[_0xc58269(0x99f)]();},_0x15075e);});}async[_0x2ad6ba(0x300)](_0x227939,_0x3463a2,_0x2a7b76,{threadId:_0xea8e82,feedback:_0x3ff4e2=''}){const _0x5bec8b=_0x2ad6ba,_0x5ac263={'type':_0x5bec8b(0x8db),'jobId':_0x2a7b76,'threadId':_0xea8e82,'rating':_0x3463a2,'feedback':_0x3ff4e2},_0x2d82f4=await this[_0x5bec8b(0x355)](_0x227939,_0x406df3[_0x5bec8b(0x29b)][_0x5bec8b(0x8ed)],_0x5ac263,{'threadId':_0xea8e82,'feedback':_0x3ff4e2});return new Promise((_0x41e926,_0x12b2f9)=>{let _0x5b22da;const _0x2241f4=_0x2d82f4['subscribe']({'next':_0x803907=>{const _0x35a9b8=a0_0x119e;switch(_0x803907['status']){case _0x406df3[_0x35a9b8(0x623)][_0x35a9b8(0x8f5)]:clearTimeout(_0x5b22da),_0x41e926(_0x803907[_0x35a9b8(0x917)]),_0x2241f4[_0x35a9b8(0x99f)]();break;case _0x406df3[_0x35a9b8(0x623)][_0x35a9b8(0x1ab)]:clearTimeout(_0x5b22da),_0x12b2f9(new _0x31ec66(_0x31ec66[_0x35a9b8(0x4b6)]['GenerativeAIContextJobFailed'],{'updatedJob':_0x803907})),_0x2241f4['unsubscribe']();}},'error':_0x2204a5=>{const _0x286556=a0_0x119e;clearTimeout(_0x5b22da),_0x12b2f9(new _0x31ec66(_0x31ec66[_0x286556(0x4b6)][_0x286556(0x8bd)],{'err':_0x2204a5})),_0x2241f4[_0x286556(0x99f)]();}});_0x5b22da=setTimeout(()=>{_0x12b2f9(new _0x31ec66(_0x31ec66['codes']['GenerativeAIContextJobTimeout'])),_0x2241f4['unsubscribe']();},_0x15075e);});}async[_0x2ad6ba(0x2e2)](_0x4e8e21,_0x8bdf7e,_0x4c9648){const _0x3620c6=_0x2ad6ba,_0x320ada={'type':_0x3620c6(0x83f),'objectStoreId':_0x8bdf7e,'documentPath':_0x4c9648,'threadId':_0x3620c6(0x931)+(0x0,_0x145036['v4'])()},_0x11c350=await this[_0x3620c6(0x355)](_0x4e8e21,_0x406df3[_0x3620c6(0x29b)][_0x3620c6(0x8ed)],_0x320ada);return new Promise((_0xc23121,_0x307231)=>{const _0x450e9a=_0x3620c6;let _0x3cd1e9;const _0x4f112e=_0x11c350[_0x450e9a(0x208)]({'next':_0x9b616d=>{const _0x3911c8=_0x450e9a;switch(_0x9b616d['status']){case _0x406df3[_0x3911c8(0x623)][_0x3911c8(0x8f5)]:clearTimeout(_0x3cd1e9),_0xc23121(_0x9b616d[_0x3911c8(0x917)]),_0x4f112e[_0x3911c8(0x99f)]();break;case _0x406df3['JobStatus'][_0x3911c8(0x1ab)]:clearTimeout(_0x3cd1e9),_0x307231(new _0x31ec66(_0x31ec66['codes']['GenerativeAIContextJobFailed'],{'updatedJob':_0x9b616d})),_0x4f112e[_0x3911c8(0x99f)]();}},'error':_0x3bcefe=>{const _0x22cece=_0x450e9a;clearTimeout(_0x3cd1e9),_0x307231(new _0x31ec66(_0x31ec66['codes'][_0x22cece(0x8bd)],{'err':_0x3bcefe})),_0x4f112e[_0x22cece(0x99f)]();}});_0x3cd1e9=setTimeout(()=>{const _0x2b77f8=_0x450e9a;_0x307231(new _0x31ec66(_0x31ec66[_0x2b77f8(0x4b6)]['GenerativeAIContextJobTimeout'])),_0x4f112e['unsubscribe']();},_0x15075e);});}async[_0x2ad6ba(0x57d)](_0x476a65,_0xc09f5a,_0x2e2464){const _0x19dcda=_0x2ad6ba,_0x5e5260={'type':'prompt','prompt':_0xc09f5a,'threadId':_0x2e2464?.[_0x19dcda(0x9e8)]??'thread-'+(0x0,_0x145036['v4'])()},_0x594976=await this[_0x19dcda(0x355)](_0x476a65,_0x406df3['JobType'][_0x19dcda(0x8ed)],_0x5e5260,_0x2e2464);return new Promise((_0x4b3c7f,_0x1237d1)=>{const _0x4f7d5d=_0x19dcda;let _0x354864;const _0x360d32=_0x594976[_0x4f7d5d(0x208)]({'next':_0x5e4f15=>{const _0x158fde=_0x4f7d5d;switch(_0x5e4f15[_0x158fde(0x811)]){case _0x406df3[_0x158fde(0x623)][_0x158fde(0x8f5)]:if(_0x158fde(0x57d)!==_0x5e4f15['result'][_0x158fde(0x285)])return;const _0x44d999=_0x5e4f15['result']['inputTokens']??0x0;this['logServiceEvent'](_0xc09f5a,_0x44d999),clearTimeout(_0x354864),_0x4b3c7f(_0x5e4f15[_0x158fde(0x917)]),_0x360d32[_0x158fde(0x99f)](),this[_0x158fde(0x823)]+=0x1,this['tokens']+=_0x44d999,this['sendStats']();break;case _0x406df3[_0x158fde(0x623)][_0x158fde(0x1ab)]:clearTimeout(_0x354864),_0x1237d1(new _0x31ec66(_0x31ec66[_0x158fde(0x4b6)][_0x158fde(0x8bd)],{'updatedJob':_0x5e4f15})),_0x360d32[_0x158fde(0x99f)](),this['sendStats']();}},'error':_0x228273=>{const _0xe8fb82=_0x4f7d5d;clearTimeout(_0x354864),_0x1237d1(new _0x31ec66(_0x31ec66[_0xe8fb82(0x4b6)]['GenerativeAIContextJobFailed'],{'err':_0x228273})),_0x360d32[_0xe8fb82(0x99f)]();}});_0x354864=setTimeout(()=>{const _0x36e4ff=_0x4f7d5d;_0x1237d1(new _0x31ec66(_0x31ec66[_0x36e4ff(0x4b6)]['GenerativeAIContextJobTimeout'])),_0x360d32['unsubscribe']();},_0x15075e);});}async*['stream'](_0x6e5a8b,_0x9a4d37,_0xea3305){const _0x5980b0=_0x2ad6ba,_0x207e4f={'type':_0x5980b0(0x57d),'prompt':_0x9a4d37,'threadId':_0xea3305?.[_0x5980b0(0x9e8)]??_0x5980b0(0x931)+(0x0,_0x145036['v4'])()},_0x18cfd3=await this[_0x5980b0(0x355)](_0x6e5a8b,_0x406df3['JobType'][_0x5980b0(0x7ea)],_0x207e4f,_0xea3305);let _0x5c2725,_0x27ecc8,_0x339b82=!0x1,_0x241be8=0x0;const _0x1e687c=[],_0x560a17=new Map();let _0x5c5270=null;const _0x9c9f29=()=>{_0x5c5270&&(_0x5c5270(),_0x5c5270=null);},_0xa69c74=_0x127ca0=>{const _0x5372ea=_0x5980b0;_0x339b82=!0x0,_0x9c9f29(),_0x2a34d3[_0x5372ea(0x99f)](),_0x27ecc8=_0x127ca0;},_0x2a34d3=_0x18cfd3[_0x5980b0(0x208)]({'next':async _0x3a789d=>{const _0x2edbc9=_0x5980b0;switch(_0x3a789d[_0x2edbc9(0x811)]){case _0x406df3[_0x2edbc9(0x623)][_0x2edbc9(0x3b3)]:if(_0x2edbc9(0x57d)!==_0x3a789d[_0x2edbc9(0x917)]['type'])return;if(_0x3a789d[_0x2edbc9(0x917)]&&void 0x0!==_0x3a789d[_0x2edbc9(0x917)][_0x2edbc9(0x970)]){if(void 0x0===_0x3a789d[_0x2edbc9(0x917)][_0x2edbc9(0x807)])return void _0xa69c74(_0x31ec66[_0x2edbc9(0x4b6)][_0x2edbc9(0xa61)]);_0x241be8===_0x3a789d[_0x2edbc9(0x917)][_0x2edbc9(0x807)]?(_0x1e687c[_0x2edbc9(0x673)](_0x3a789d['result']),_0x241be8++,((()=>{const _0x1ebbd4=_0x2edbc9;for(;_0x560a17['has'](_0x241be8);)_0x1e687c[_0x1ebbd4(0x673)](_0x560a17['get'](_0x1e687c[_0x1ebbd4(0x8e0)])),_0x560a17[_0x1ebbd4(0xa12)](_0x1e687c['length']),_0x241be8++;})()),_0x9c9f29(),_0x42e9ac()):_0x560a17[_0x2edbc9(0x50f)](_0x3a789d[_0x2edbc9(0x917)][_0x2edbc9(0x807)],_0x3a789d[_0x2edbc9(0x917)]);}break;case _0x406df3[_0x2edbc9(0x623)]['Completed']:if(_0x2edbc9(0x57d)!==_0x3a789d[_0x2edbc9(0x917)][_0x2edbc9(0x285)])return;for(;_0x241be8!==_0x3a789d[_0x2edbc9(0x917)]['index'];)await _0x401df5['wait'](0x3e8);const _0x363c41=_0x3a789d['result'][_0x2edbc9(0x39f)]??0x0;this['logServiceEvent'](_0x9a4d37,_0x363c41),clearTimeout(_0x5c2725),_0xa69c74(),this['prompts']+=0x1,this['tokens']+=_0x363c41,this[_0x2edbc9(0x7cb)]();break;case _0x406df3[_0x2edbc9(0x623)][_0x2edbc9(0x1ab)]:clearTimeout(_0x5c2725),_0xa69c74(_0x31ec66[_0x2edbc9(0x4b6)]['GenerativeAIContextJobFailed']),this[_0x2edbc9(0x7cb)]();}},'error':_0x255dec=>{const _0x383d51=_0x5980b0;clearTimeout(_0x5c2725),_0xa69c74(_0x31ec66[_0x383d51(0x4b6)][_0x383d51(0x8bd)]);}}),_0x536871=()=>{const _0xcc68ff=_0x5980b0;_0xa69c74(_0x31ec66[_0xcc68ff(0x4b6)][_0xcc68ff(0x91f)]);},_0x42e9ac=()=>{clearTimeout(_0x5c2725),_0x5c2725=setTimeout(_0x536871,_0x15075e);};for(_0x5c2725=setTimeout(_0x536871,_0x15075e);!_0x339b82||_0x1e687c[_0x5980b0(0x8e0)]>0x0;)_0x1e687c[_0x5980b0(0x8e0)]>0x0?yield _0x1e687c[_0x5980b0(0x591)]():await new Promise(_0x5b94a1=>_0x5c5270=_0x5b94a1);if(_0x27ecc8)throw _0xe8f382[_0x5980b0(0x60c)]('GenerativeAIContext\x20stream\x20error',{'nodeId':this[_0x5980b0(0x6e0)][_0x5980b0(0x362)](),'nodeType':this[_0x5980b0(0x6e0)][_0x5980b0(0x285)]}),new _0x31ec66(_0x27ecc8);}async[_0x2ad6ba(0x36d)](){const _0xe4f13e=_0x2ad6ba;return(await _0x5c0e98[_0xe4f13e(0x5fd)](this[_0xe4f13e(0x8e1)],this[_0xe4f13e(0x19d)]))[_0xe4f13e(0x31d)];}[_0x2ad6ba(0x861)](_0x3bcacc,_0x2d3e37){const _0x4514b4=_0x2ad6ba,_0x55eacf=this[_0x4514b4(0x19d)],_0x1bad7d=this['getOwnerId']();_0xe8f382[_0x4514b4(0x861)](_0x573191['GenerativeAIContext'],{'topic':_0x55eacf,'prompt':_0x3bcacc,'type':_0x4514b4(0x57d),'nodeId':_0x1bad7d,'tokenCount':_0x2d3e37});}async[_0x2ad6ba(0x355)](_0x42de6b,_0x355553,_0x3eb3a2,_0x1b971a={}){const _0x4916b8=_0x2ad6ba;let _0x497ffa;switch(_0x3eb3a2[_0x4916b8(0x285)]){case _0x4916b8(0x57d):{const {threadId:_0x5d4e1a}=_0x1b971a;_0x497ffa={'id':_0x42de6b,'jobType':_0x355553,'parameters':{..._0x1b971a,'type':_0x4916b8(0x57d),'prompt':_0x3eb3a2[_0x4916b8(0x57d)],'threadId':_0x5d4e1a},'status':_0x406df3[_0x4916b8(0x623)][_0x4916b8(0x5c7)]};break;}case'rate':{const {threadId:_0x464142}=_0x1b971a;_0x497ffa={'id':_0x42de6b,'jobType':_0x355553,'parameters':{..._0x1b971a,'type':'rate','jobId':_0x3eb3a2[_0x4916b8(0xa0f)],'rating':_0x3eb3a2['rating'],'feedback':_0x3eb3a2[_0x4916b8(0x740)]??'','threadId':_0x464142},'status':_0x406df3[_0x4916b8(0x623)][_0x4916b8(0x5c7)]};break;}case _0x4916b8(0x83f):_0x497ffa={'id':_0x42de6b,'jobType':_0x355553,'parameters':{..._0x1b971a,'type':'downloadDocument','objectStoreId':_0x3eb3a2['objectStoreId'],'documentPath':_0x3eb3a2[_0x4916b8(0x9be)]},'status':_0x406df3[_0x4916b8(0x623)][_0x4916b8(0x5c7)]};break;case _0x4916b8(0xa96):_0x497ffa={'id':_0x42de6b,'jobType':_0x355553,'parameters':{..._0x1b971a,'type':'search','query':_0x3eb3a2[_0x4916b8(0xab1)],'collectionId':_0x3eb3a2['collectionId']},'status':_0x406df3[_0x4916b8(0x623)][_0x4916b8(0x5c7)]};}return await this['createJob'](_0x497ffa);}['sendStats'](){const _0x58cf89=_0x2ad6ba;this[_0x58cf89(0xa97)]&&clearTimeout(this[_0x58cf89(0xa97)]),this[_0x58cf89(0xa97)]=setTimeout(async()=>{const _0x418139=_0x58cf89;delete this[_0x418139(0xa97)],this[_0x418139(0x5a2)][_0x418139(0x29d)]({'sourceId':_0x124816,'messageType':_0x5f120e[_0x418139(0x670)],'content':{'type':_0x5d0a4b[_0x418139(0x77d)],'label':this[_0x418139(0x19d)],'stats':{'timestamp':Date['now'](),'storage':0x0,'messagesSent':this[_0x418139(0x812)],'messagesReceived':this[_0x418139(0x8f2)],'bytesSent':this[_0x418139(0x18f)],'bytesReceived':this[_0x418139(0x416)],'writes':0x0,'reads':0x0,'prompts':this[_0x418139(0x823)],'tokens':this[_0x418139(0x48c)]}}});},_0x18dd7b);}}var _0x161b96,_0x1f25c0,_0x3c4020,_0xdeb8fb,_0xefe43c,_0x531c2e,_0xed09f4,_0x45c669,_0x3cdc78,_0x457200,_0x474821;!function(_0x4c85d2){const _0x2c3ecd=_0x2ad6ba;_0x4c85d2['AITrace']=_0x2c3ecd(0x20c),_0x4c85d2[_0x2c3ecd(0x181)]=_0x2c3ecd(0x181),_0x4c85d2[_0x2c3ecd(0x87b)]=_0x2c3ecd(0x87b),_0x4c85d2['WorkflowTrace']=_0x2c3ecd(0x50b);}(_0x161b96||(_0x161b96={})),function(_0x1a9f46){const _0x117be2=_0x2ad6ba;_0x1a9f46[_0x117be2(0x92a)]=_0x117be2(0x92a),_0x1a9f46[_0x117be2(0x806)]=_0x117be2(0x806),_0x1a9f46[_0x117be2(0xa9c)]=_0x117be2(0xa9c),_0x1a9f46['EntityExtractor']='EntityExtractor',_0x1a9f46[_0x117be2(0xa5f)]=_0x117be2(0xa5f),_0x1a9f46['Reranker']=_0x117be2(0x841);}(_0x1f25c0||(_0x1f25c0={})),function(_0x301026){const _0x85a964=_0x2ad6ba;_0x301026[_0x301026[_0x85a964(0x634)]=0x0]='Debug',_0x301026[_0x301026[_0x85a964(0x659)]=0x5]=_0x85a964(0x659),_0x301026[_0x301026[_0x85a964(0x5be)]=0xa]=_0x85a964(0x5be),_0x301026[_0x301026[_0x85a964(0xa1f)]=0xf]=_0x85a964(0xa1f);}(_0x3c4020||(_0x3c4020={})),function(_0x4f01fa){const _0x39cde3=_0x2ad6ba;_0x4f01fa['Retrieve']=_0x39cde3(0x9b3),_0x4f01fa['Ingest']=_0x39cde3(0x2c2),_0x4f01fa[_0x39cde3(0x799)]=_0x39cde3(0x799),_0x4f01fa['Skill']='Skill',_0x4f01fa['Workflow']=_0x39cde3(0x9d7),_0x4f01fa['Job']='Job',_0x4f01fa[_0x39cde3(0xa5e)]=_0x39cde3(0xa5e),_0x4f01fa[_0x39cde3(0x3fd)]=_0x39cde3(0x3fd);}(_0xdeb8fb||(_0xdeb8fb={})),function(_0x4788f4){const _0x59dc8b=_0x2ad6ba;_0x4788f4[_0x59dc8b(0x42b)]=_0x59dc8b(0x42b),_0x4788f4[_0x59dc8b(0x8f5)]=_0x59dc8b(0x8f5);}(_0xefe43c||(_0xefe43c={})),function(_0x1796de){const _0x383bcf=_0x2ad6ba;_0x1796de[_0x383bcf(0x33f)]=_0x383bcf(0x33f),_0x1796de['IntermediateOutput']=_0x383bcf(0x43b),_0x1796de[_0x383bcf(0x176)]=_0x383bcf(0x176),_0x1796de['FinalOutput']='FinalOutput';}(_0x531c2e||(_0x531c2e={})),function(_0x45d316){const _0xa619ad=_0x2ad6ba;_0x45d316[_0xa619ad(0x423)]=_0xa619ad(0x423),_0x45d316[_0xa619ad(0x653)]=_0xa619ad(0x653),_0x45d316[_0xa619ad(0x6f0)]='EntityExtractor',_0x45d316[_0xa619ad(0x57e)]=_0xa619ad(0x57e),_0x45d316[_0xa619ad(0x37e)]=_0xa619ad(0x37e),_0x45d316[_0xa619ad(0x92a)]=_0xa619ad(0x92a),_0x45d316['ModelVector']=_0xa619ad(0x806),_0x45d316[_0xa619ad(0x77c)]=_0xa619ad(0x77c),_0x45d316[_0xa619ad(0x4d8)]=_0xa619ad(0x4d8),_0x45d316[_0xa619ad(0x9e6)]='VectorDatabase',_0x45d316[_0xa619ad(0x3d0)]=_0xa619ad(0x3d0);}(_0xed09f4||(_0xed09f4={})),function(_0x29ce34){const _0x52aa63=_0x2ad6ba;_0x29ce34['GetContextQuery']=_0x52aa63(0xa26),_0x29ce34[_0x52aa63(0x1ef)]='GetContextResult';}(_0x45c669||(_0x45c669={})),function(_0x476188){const _0x4ad40b=_0x2ad6ba;_0x476188['ExecuteCode']='ExecuteCode',_0x476188[_0x4ad40b(0x758)]=_0x4ad40b(0x758),_0x476188[_0x4ad40b(0x1ba)]='SearchGoogle',_0x476188['SearchPerplexity']='SearchPerplexity',_0x476188['ExecuteAgent']=_0x4ad40b(0x75b),_0x476188[_0x4ad40b(0x27d)]=_0x4ad40b(0x27d),_0x476188[_0x4ad40b(0x656)]='QueryFile',_0x476188[_0x4ad40b(0x252)]=_0x4ad40b(0x252);}(_0x3cdc78||(_0x3cdc78={})),function(_0x1a0c74){const _0x2418f9=_0x2ad6ba;_0x1a0c74['LoadKnowledgeFunction']=_0x2418f9(0x463),_0x1a0c74[_0x2418f9(0x449)]='LoadSkillFunction';}(_0x457200||(_0x457200={})),function(_0x1c3d8f){const _0x3c6320=_0x2ad6ba;_0x1c3d8f[_0x3c6320(0x22d)]=_0x3c6320(0x22d);}(_0x474821||(_0x474821={}));class _0xd080c6{static ['instance']=new _0xd080c6();['jobQueue']=[];[_0x2ad6ba(0x685)]=!0x1;constructor(){}static[_0x2ad6ba(0x1d8)](){const _0x563e1c=_0x2ad6ba;return _0xd080c6[_0x563e1c(0x691)];}get[_0x2ad6ba(0x8e0)](){const _0x3963d4=_0x2ad6ba;return this['jobQueue'][_0x3963d4(0x8e0)];}[_0x2ad6ba(0x20d)](){const _0x22e3ce=_0x2ad6ba;return!this[_0x22e3ce(0x685)];}[_0x2ad6ba(0xa82)](_0x5d3225){const _0x49da3c=_0x2ad6ba;_0x5d3225?this[_0x49da3c(0x418)]=this[_0x49da3c(0x418)]['filter'](_0x5369c7=>_0x5369c7['ownerId']!==_0x5d3225):(this[_0x49da3c(0x418)]=[],this[_0x49da3c(0x685)]=!0x1);}[_0x2ad6ba(0x424)](_0x22008a,_0xd31b16){const _0x4259cc=_0x2ad6ba;this[_0x4259cc(0x418)][_0x4259cc(0x673)]({'callback':_0xd31b16,'ownerId':_0x22008a}),this[_0x4259cc(0xa50)]();}async[_0x2ad6ba(0xa50)](){const _0x4fee04=_0x2ad6ba;if(!this['isRunning']){for(this[_0x4fee04(0x685)]=!0x0;this['jobQueue'][_0x4fee04(0x8e0)]>0x0;){const _0xe61628=this[_0x4fee04(0x418)]['shift']();if(_0xe61628)try{console['warn']('JobQueueService:\x20Running\x20job'),await _0xe61628[_0x4fee04(0x98b)](),console['warn'](_0x4fee04(0x8b6));}catch(_0x13e11e){console['error'](_0x4fee04(0x422),_0x13e11e);}}this[_0x4fee04(0x685)]=!0x1;}}}const _0x5b48dd=_0xd080c6[_0x2ad6ba(0x1d8)]();class _0x9bc73 extends _0x3cbe57{[_0x2ad6ba(0x718)];['unsubscribeListener'];constructor(_0x272eee,_0x2a5eba,_0xdae4e0){const _0xae4411=_0x2ad6ba;super(_0x272eee,_0x2a5eba),this[_0xae4411(0x718)]=_0xdae4e0;}['getContentType'](){const _0x2767fa=_0x2ad6ba;return _0x406df3[_0x2767fa(0x525)][_0x2767fa(0x8ed)];}[_0x2ad6ba(0xa60)](){this['subscribeToJobs']();}[_0x2ad6ba(0x27c)](){const _0x4564b8=_0x2ad6ba;this['systemTopic']?.[_0x4564b8(0x29d)]({'sourceId':_0x124816,'messageType':_0x5f120e['Content'],'content':{'type':_0x5d0a4b['CloseJobWorker'],'label':this['label']}});}[_0x2ad6ba(0x536)](){const _0x2a3bc0=_0x2ad6ba;this[_0x2a3bc0(0x226)]?.(),delete this[_0x2a3bc0(0x226)],this['open']();}[_0x2ad6ba(0x4aa)](){const _0x391ffe=_0x2ad6ba;_0x5b48dd[_0x391ffe(0xa82)](this[_0x391ffe(0x19d)]),this['unsubscribeListener']?.(),delete this[_0x391ffe(0x226)],super[_0x391ffe(0x4aa)]();}[_0x2ad6ba(0x20d)](){const _0xa7600=_0x2ad6ba;return _0x5b48dd[_0xa7600(0x20d)]();}[_0x2ad6ba(0x913)](){return 0x1;}[_0x2ad6ba(0x684)](_0x5af7cc,_0x5a3a14,_0x2a28c9){}[_0x2ad6ba(0x5de)](_0x557d9b,_0x53b462){return _0x557d9b;}[_0x2ad6ba(0x22c)](_0x4d63fa,_0x34cff0){const _0x1d44c7=_0x2ad6ba;console[_0x1d44c7(0x700)]('JobWorker:\x20Tracing\x20not\x20implemented');}[_0x2ad6ba(0xab6)](_0x2a1f1f,_0x525acc){const _0x25286a=_0x2ad6ba;console[_0x25286a(0x700)](_0x25286a(0x9ff));}[_0x2ad6ba(0x713)](){const _0x2ecc34=_0x2ad6ba;this['unsubscribeListener']||(this[_0x2ecc34(0x226)]=this['onMessage']((_0x185364,_0x328c20)=>{const _0x5c2b7e=_0x2ecc34;if(_0xe8f382[_0x5c2b7e(0xa40)](_0x1b63ac[_0x5c2b7e(0x6eb)],'JobWorker:\x20Received\x20job',_0x328c20),!(_0x328c20 instanceof File)){if(this[_0x5c2b7e(0xa2e)](_0x328c20))_0xe8f382[_0x5c2b7e(0xa40)](_0x1b63ac[_0x5c2b7e(0x6eb)],'JobWorker:\x20Received\x20job\x20request',_0x328c20),this[_0x5c2b7e(0x20d)]()?this['sendBid'](_0x328c20['id'],_0x328c20[_0x5c2b7e(0x2f7)],_0x185364):this['sendReject'](_0x328c20['id'],_0x328c20['jobType'],_0x185364);else{if(this[_0x5c2b7e(0x44f)](_0x328c20)){_0xe8f382[_0x5c2b7e(0xa40)](_0x1b63ac[_0x5c2b7e(0x6eb)],_0x5c2b7e(0x85a),_0x328c20);const {id:_0x1fac2c,parameters:_0x307869}=_0x328c20;this['startTracing'](_0x1fac2c,_0x307869),_0x5b48dd[_0x5c2b7e(0x424)](this[_0x5c2b7e(0x19d)],()=>this[_0x5c2b7e(0x236)](_0x328c20['id'],_0x328c20,_0x185364));}}}}));}[_0x2ad6ba(0xa3c)](_0x369ea4,_0x55b18d,_0x48d8d9){const _0x5dc823=_0x2ad6ba,_0x3ab941={'id':_0x369ea4,'jobType':_0x55b18d,'jobPhase':_0x3ea5c4[_0x5dc823(0x1b3)],'available':!0x0,'queueLength':_0x5b48dd[_0x5dc823(0x8e0)],'bid':this['getBid']()};_0xe8f382[_0x5dc823(0xa40)](_0x1b63ac[_0x5dc823(0x6eb)],'JobWorker:\x20Sending\x20job\x20bid',_0x3ab941),this[_0x5dc823(0x9d3)](_0x3ab941,[_0x48d8d9]);}[_0x2ad6ba(0x805)](_0x38ff36,_0x2ed2a4,_0x132660){const _0x5641ca=_0x2ad6ba,_0x1de404={'id':_0x38ff36,'jobType':_0x2ed2a4,'jobPhase':_0x3ea5c4[_0x5641ca(0x1b3)],'available':!0x1,'queueLength':_0x5b48dd['length'],'bid':0x0};_0xe8f382[_0x5641ca(0xa40)](_0x1b63ac[_0x5641ca(0x6eb)],_0x5641ca(0x457),_0x1de404),this[_0x5641ca(0x9d3)](_0x1de404,[_0x132660]);}async[_0x2ad6ba(0x236)](_0x154109,_0x5c9d43,_0x5df545){const _0x249257=_0x2ad6ba;_0xe8f382[_0x249257(0xa40)](_0x1b63ac[_0x249257(0x6eb)],_0x249257(0x491),_0x5c9d43);const _0xaba561={'id':_0x154109,'jobType':_0x5c9d43[_0x249257(0x2f7)],'parameters':_0x5c9d43[_0x249257(0x223)]};try{switch(_0x5c9d43[_0x249257(0x2f7)]){case _0x406df3['JobType']['Job']:await this[_0x249257(0x40b)](_0x154109,_0x5c9d43,_0xaba561,_0x5df545);break;case _0x406df3[_0x249257(0x29b)][_0x249257(0x7ea)]:await this[_0x249257(0x97c)](_0x154109,_0x5c9d43,_0xaba561,_0x5df545);break;default:throw new Error(_0x249257(0x7b0));}}catch(_0x3f1a04){_0xe8f382['error'](_0x249257(0x65c),{'nodeId':this['owner']['getId'](),'nodeType':this[_0x249257(0x817)][_0x249257(0x285)],'data':{'job':_0xaba561}},_0x3f1a04);const _0x2256b3=_0x3f1a04 instanceof Error?_0x3f1a04[_0x249257(0xa5a)]:_0x249257(0x5f9),_0x399f98={'id':_0x154109,'jobType':_0x5c9d43[_0x249257(0x2f7)],'jobPhase':_0x3ea5c4[_0x249257(0x1ab)],'message':_0x2256b3};await this['send'](_0x399f98,[_0x5df545]);}}async['processJob'](_0x387257,_0x9b9ea9,_0x51e279,_0x446e4){const _0xcf54aa=_0x2ad6ba,_0x5d5d95=Date[_0xcf54aa(0x9fc)](),_0x95d8ec=await this[_0xcf54aa(0x411)](_0x387257,_0x51e279['parameters']);this['compileStats'](_0x95d8ec,_0x5d5d95,Date[_0xcf54aa(0x9fc)]());const _0x4655df={'id':_0x387257,'jobType':_0x9b9ea9['jobType'],'jobPhase':_0x3ea5c4[_0xcf54aa(0x233)],'result':_0x95d8ec};_0xe8f382[_0xcf54aa(0xa40)](_0x1b63ac[_0xcf54aa(0x6eb)],_0xcf54aa(0xa2d),_0x4655df),await this[_0xcf54aa(0x9d3)](_0x4655df,[_0x446e4]),this['stopTracing'](_0x387257,_0x51e279[_0xcf54aa(0x223)]);}async[_0x2ad6ba(0x97c)](_0x299895,_0x1e9875,_0x970b29,_0x281213){const _0x2d61db=_0x2ad6ba,_0x4baede=Date['now']();let _0x25faa8=0x0,_0x3d5edc={};for await(const _0x3e7098 of this[_0x2d61db(0x7f0)](_0x970b29['id'],_0x970b29[_0x2d61db(0x223)])){const _0x5485fd={'id':_0x299895,'jobType':_0x1e9875[_0x2d61db(0x2f7)],'jobPhase':_0x3ea5c4[_0x2d61db(0x38a)],'result':{..._0x3e7098,'index':_0x25faa8}};_0xe8f382[_0x2d61db(0xa40)](_0x1b63ac[_0x2d61db(0x6eb)],_0x2d61db(0xaa8),_0x5485fd),this[_0x2d61db(0x9d3)](_0x5485fd,[_0x281213]),_0x3d5edc=this[_0x2d61db(0x5de)](_0x3d5edc,_0x3e7098),_0x25faa8++;}this[_0x2d61db(0x684)](_0x3d5edc,_0x4baede,Date[_0x2d61db(0x9fc)]());const _0x108675={'id':_0x299895,'jobType':_0x1e9875['jobType'],'jobPhase':_0x3ea5c4[_0x2d61db(0x233)],'result':{..._0x3d5edc,'index':_0x25faa8}};_0xe8f382['log'](_0x1b63ac['Jobs'],_0x2d61db(0xa2d),_0x108675),await this[_0x2d61db(0x9d3)](_0x108675,[_0x281213]),this['stopTracing'](_0x299895,_0x970b29[_0x2d61db(0x223)]);}[_0x2ad6ba(0xa2e)](_0x179950){const _0x7f0bee=_0x2ad6ba;return _0x179950[_0x7f0bee(0x80a)]===_0x3ea5c4[_0x7f0bee(0x2f3)];}[_0x2ad6ba(0x44f)](_0x4244f5){const _0x58ff06=_0x2ad6ba;return _0x4244f5[_0x58ff06(0x80a)]===_0x3ea5c4[_0x58ff06(0x70b)];}}function _0xbe45c(_0x36dc99,_0x55fbfd){const _0x509924=_0x2ad6ba;return _0x509924(0x209)+_0x36dc99+'-'+_0x55fbfd;}function _0x4e6b5f(){const _0xca6b0f=_0x2ad6ba,_0x37dd4f=_0x198559[_0xca6b0f(0x191)](0x1);return _0x37dd4f[_0xca6b0f(0x3b4)](_0xca6b0f(0x753))[_0xca6b0f(0x807)]('id')[_0xca6b0f(0x807)](_0xca6b0f(0xa0f))[_0xca6b0f(0x807)](_0xca6b0f(0x499))['index']('threadId')[_0xca6b0f(0x807)](_0xca6b0f(0x687))['index'](_0xca6b0f(0x751)),_0x37dd4f;}function _0x3e7697(_0x4ff83b){const _0x91f68a=_0x2ad6ba;try{return JSON[_0x91f68a(0x6a9)](_0x4ff83b);}catch(_0x1954f1){return _0x4ff83b instanceof Error?_0x4ff83b[_0x91f68a(0x8d9)]():JSON[_0x91f68a(0x6a9)](_0x91f68a(0x9fb));}}class _0x4311c0{static [_0x2ad6ba(0x691)];[_0x2ad6ba(0x922)]=_0x3c4020[_0x2ad6ba(0xa1f)];[_0x2ad6ba(0x282)]=_0x3c4020[_0x2ad6ba(0x659)];[_0x2ad6ba(0x397)]=_0xdeb8fb['Retrieve'];['openedTraces']={};static [_0x2ad6ba(0x1d8)]=()=>(_0x4311c0[_0x2ad6ba(0x691)]||(_0x4311c0['instance']=new _0x4311c0()),_0x4311c0['instance']);['openTrace'](_0x1bdbbd,_0x1a4c2f,_0x5c3dc3=!0x0){const _0x335481=_0x2ad6ba;try{if(this[_0x335481(0x94e)][_0x1a4c2f])throw new Error(_0x335481(0x6af));const _0x1bf1c7={'sequence':0x0};if(this['openedTraces'][_0x1a4c2f]=_0x1bf1c7,!_0x1bdbbd)return!0x0;const _0x593fb3=function(_0x1d4e47){const _0x59b759=_0x335481;return _0x1d4e47[_0x59b759(0x3ff)]('logs');}(_0x1bdbbd);return _0x1bf1c7['database']=_0x1bdbbd,_0x1bf1c7['table']=_0x593fb3,!0x0;}catch(_0x36a5e0){return console[_0x335481(0x60c)](_0x335481(0x8b7)+_0x5c3dc3,_0x36a5e0),!!_0x5c3dc3&&(this[_0x335481(0x4c3)](_0x1a4c2f),this[_0x335481(0x5a9)](_0x1bdbbd,_0x1a4c2f,!0x1));}}[_0x2ad6ba(0xa5c)](_0x46424e){const _0x53de96=_0x2ad6ba;try{const _0x16ef36=this['openedTraces'][_0x46424e['jobId']];if(!_0x16ef36)throw new Error(_0x53de96(0x5cb));_0x46424e['sequence']=_0x16ef36['sequence']++,_0x46424e[_0x53de96(0xa79)]>=this[_0x53de96(0x922)]&&console[_0x53de96(0xa40)](JSON[_0x53de96(0x6a9)](_0x46424e,null,0x2)),this[_0x53de96(0x1e4)](_0x46424e);}catch(_0x20ca0a){console[_0x53de96(0x60c)](_0x53de96(0x4ee),_0x20ca0a);}}[_0x2ad6ba(0x4c3)](_0x17ff5c){const _0xa62a9d=_0x2ad6ba;if(!_0x4311c0[_0xa62a9d(0x691)])throw new Error(_0xa62a9d(0xa85));if(!this[_0xa62a9d(0x94e)][_0x17ff5c])throw new Error(_0xa62a9d(0x495));delete this[_0xa62a9d(0x94e)][_0x17ff5c];}[_0x2ad6ba(0x1e4)](_0x39593c){const _0x1bb4ef=_0x2ad6ba;if(_0x39593c[_0x1bb4ef(0xa79)]<this[_0x1bb4ef(0x282)]&&_0x39593c[_0x1bb4ef(0x2f7)]!==this[_0x1bb4ef(0x397)])return;if(!this['openedTraces'][_0x39593c[_0x1bb4ef(0xa0f)]])throw new Error(_0x1bb4ef(0x959));const _0x1691da=this[_0x1bb4ef(0x94e)][_0x39593c[_0x1bb4ef(0xa0f)]];if(!_0x1691da[_0x1bb4ef(0x81b)])throw new Error(_0x1bb4ef(0x972));if(!_0x1691da['table'])throw new Error(_0x1bb4ef(0x73d));try{const _0x1db7af=function(_0x41b592){const _0x1397f9=_0x1bb4ef,_0x880838=[_0x1397f9(0x671),'timestamp',_0x1397f9(0x2f7),_0x1397f9(0x285),_0x1397f9(0xa0f),_0x1397f9(0xa79),_0x1397f9(0x454),_0x1397f9(0x811),_0x1397f9(0x751),'errorDetails'],_0x96f5a7={..._0x41b592};for(const _0x20a3d9 of _0x880838)delete _0x96f5a7[_0x20a3d9];return{'timestamp':_0x41b592[_0x1397f9(0x687)],'jobType':_0x41b592[_0x1397f9(0x2f7)],'type':_0x41b592[_0x1397f9(0x285)],'jobId':_0x41b592['jobId'],'agentId':_0x41b592[_0x1397f9(0x499)]??'','traceLevel':_0x41b592['traceLevel'],'blockId':_0x41b592[_0x1397f9(0x454)]??'','startTime':_0x41b592[_0x1397f9(0x671)],'status':_0x41b592[_0x1397f9(0x811)],'sequence':_0x41b592[_0x1397f9(0x751)]??0x0,'errorDetails':_0x41b592[_0x1397f9(0x371)]??'','metadata':_0x3e7697(_0x96f5a7)};}(_0x39593c),_0x4986f3=(0x0,_0x145036['v4'])();console[_0x1bb4ef(0xa40)](_0x1bb4ef(0x4d1),_0x1db7af[_0x1bb4ef(0x285)]),_0x1691da[_0x1bb4ef(0x3b4)][_0x1bb4ef(0x50f)](_0x4986f3,_0x1db7af);}catch(_0x663da5){console[_0x1bb4ef(0x60c)]('GenerativeAITracing\x20-\x20Error\x20while\x20committing\x20trace',_0x663da5);}}}const _0x3bb532=_0x4311c0[_0x2ad6ba(0x1d8)]();async function _0x567f90(_0x41f907,_0x41c949,_0xcb2f2,_0x2c70e1,_0x5a5659){const _0x148a70=_0x2ad6ba,_0x1406db=Date['now'](),_0xdc6ec6=_0x5a5659[_0x148a70(0x6fb)][_0x148a70(0x2e0)](_0x2ce4bb=>_0x2ce4bb['id']===_0xcb2f2[_0x148a70(0x1e7)]);if(!_0xdc6ec6)throw new Error('Model\x20not\x20found');const _0x58cb79=_0x5a5659['generativeAIWorkerConnectors']['find'](_0x44b49b=>_0x44b49b['getEngineType']()===_0xdc6ec6[_0x148a70(0x6b5)]);if(!_0x58cb79)throw new Error('No\x20connector\x20found\x20for\x20model');const _0x282b10=[],_0x510351=(0x0,_0x145036['v4'])(),_0x192f85=await _0x58cb79[_0x148a70(0x40b)]({'type':'prompt','prompt':_0x41c949,'instructions':_0xcb2f2[_0x148a70(0x4ae)],'grammar':_0xcb2f2[_0x148a70(0x7df)],'temperature':_0xcb2f2[_0x148a70(0x1d3)],'maxTokens':_0xcb2f2[_0x148a70(0x390)],'threadId':_0x510351},{'model':_0xdc6ec6});if('string'!=typeof _0x192f85[_0x148a70(0x970)])throw new Error('Agent\x20output\x20is\x20not\x20a\x20string');if(_0x3bb532['trace']({'jobType':_0xdeb8fb['Ingest'],'type':_0xed09f4[_0x148a70(0x37e)],'jobId':_0x41f907,'blockId':_0xcb2f2['id'],'traceLevel':_0x3c4020[_0x148a70(0x634)],'timestamp':Date[_0x148a70(0x9fc)](),'startTime':_0x1406db,'status':_0x148a70(0x190),'agentId':_0x510351,'content':_0x41c949,'instructions':_0xcb2f2[_0x148a70(0x4ae)],'result':_0x192f85[_0x148a70(0x970)]}),_0xcb2f2[_0x148a70(0x319)]?.[_0x148a70(0x4df)](_0x58c049=>_0x58c049['type']===_0x1481cb['Text']))return _0x282b10[_0x148a70(0x673)]({'content':_0x192f85[_0x148a70(0x970)],'start':0x0,'length':_0x192f85[_0x148a70(0x970)]['length']}),await _0x3b36c9(_0x41f907,_0x282b10,_0xcb2f2,_0x2c70e1,_0x5a5659),void await _0x3b36c9(_0x41f907,_0x192f85[_0x148a70(0x970)],_0xcb2f2,_0x2c70e1,_0x5a5659);_0x282b10[_0x148a70(0x673)]({'content':_0x192f85[_0x148a70(0x970)],'start':0x0,'length':_0x41c949[_0x148a70(0x8e0)]}),await _0x3b36c9(_0x41f907,_0x282b10,_0xcb2f2,_0x2c70e1,_0x5a5659);}async function _0x20e880(_0x3accde,_0x5892c1,_0x3d1784,_0xc0167b,_0x48c10f){const _0x164d29=_0x2ad6ba,_0x2a3738=Date[_0x164d29(0x9fc)]();let _0x231a8e=[];if(_0x5892c1 instanceof Array){for(const _0x11bde6 of _0x5892c1)_0x231a8e=_0x231a8e['concat'](_0xd73ad2(_0x11bde6[_0x164d29(0x257)],_0x3d1784,_0x11bde6[_0x164d29(0x28b)],_0x11bde6[_0x164d29(0x8e0)]));}else _0x231a8e=_0xd73ad2(_0x5892c1,_0x3d1784);_0x3bb532[_0x164d29(0xa5c)]({'jobType':_0xdeb8fb[_0x164d29(0x2c2)],'type':_0xed09f4['ChunkSplitter'],'traceLevel':_0x3c4020[_0x164d29(0x634)],'jobId':_0x3accde,'blockId':_0x3d1784['id'],'startTime':_0x2a3738,'timestamp':Date[_0x164d29(0x9fc)](),'status':_0x164d29(0x190),'totalChunks':_0x231a8e[_0x164d29(0x8e0)],'chunkSize':_0x3d1784[_0x164d29(0x37c)][_0x164d29(0x399)]}),await _0x3b36c9(_0x3accde,_0x231a8e,_0x3d1784,_0xc0167b,_0x48c10f);}function _0xd73ad2(_0x4d99d6,_0x3ca153,_0x47cfd9,_0xcff796){const _0x2e3dcf=_0x2ad6ba,_0x251f1c=[];for(let _0x32b7ea=0x0;_0x32b7ea<_0x4d99d6[_0x2e3dcf(0x8e0)];_0x32b7ea+=_0x3ca153[_0x2e3dcf(0x37c)][_0x2e3dcf(0x399)]){let _0x1f629b=_0x32b7ea-_0x3ca153['attributes'][_0x2e3dcf(0x7a3)];_0x1f629b<0x0&&(_0x1f629b=0x0);let _0x538554=_0x32b7ea+_0x3ca153[_0x2e3dcf(0x37c)][_0x2e3dcf(0x399)]+_0x3ca153[_0x2e3dcf(0x37c)][_0x2e3dcf(0x7a3)];_0x538554>_0x4d99d6[_0x2e3dcf(0x8e0)]&&(_0x538554=_0x4d99d6[_0x2e3dcf(0x8e0)]);const _0x8e8ec9=_0x4d99d6[_0x2e3dcf(0x95e)](_0x1f629b,_0x538554);_0x251f1c['push']({'content':_0x8e8ec9,'start':_0x47cfd9??_0x32b7ea,'length':_0xcff796??(_0x32b7ea+_0x3ca153[_0x2e3dcf(0x37c)]['size']>_0x4d99d6[_0x2e3dcf(0x8e0)]?_0x4d99d6[_0x2e3dcf(0x8e0)]-_0x32b7ea:_0x3ca153[_0x2e3dcf(0x37c)][_0x2e3dcf(0x399)])});}return _0x251f1c;}async function _0x1a44e7(_0x48bc39,_0x142fbc,_0x17ee45,_0x4109b7,_0x4dbe69){const _0x5c716a=_0x2ad6ba,_0x487c42=Date[_0x5c716a(0x9fc)]();let _0x237dde;if(_0x142fbc[_0x5c716a(0x82c)][_0x5c716a(0x285)][_0x5c716a(0x493)]('text/')||_0x35ce84(_0x142fbc[_0x5c716a(0x82c)]['name'],_0x35c6e0))_0x237dde=await _0x142fbc['file'][_0x5c716a(0x303)]();else{if(!_0x4dbe69[_0x5c716a(0x462)]['supports'](_0x142fbc['file']))throw new Error('Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20'+_0x142fbc['file'][_0x5c716a(0x285)]+'\x20-\x20'+_0x142fbc[_0x5c716a(0x82c)][_0x5c716a(0x2b9)]);_0x237dde=await _0x4dbe69[_0x5c716a(0x462)]['parse'](_0x142fbc['file']);}_0x3bb532['trace']({'jobType':_0xdeb8fb[_0x5c716a(0x2c2)],'type':_0xed09f4['DocumentParser'],'traceLevel':_0x3c4020[_0x5c716a(0x634)],'blockId':_0x17ee45['id'],'jobId':_0x48bc39,'startTime':_0x487c42,'timestamp':Date[_0x5c716a(0x9fc)](),'status':_0x5c716a(0x190),'documentType':_0x142fbc[_0x5c716a(0x82c)][_0x5c716a(0x285)],'documentName':_0x142fbc[_0x5c716a(0x82c)]['name'],'extractionMethod':_0x5c716a(0x9c9)}),await _0x3b36c9(_0x48bc39,_0x237dde,_0x17ee45,_0x4109b7,_0x4dbe69);const _0x53d74b=[{'content':_0x237dde,'start':0x0,'length':_0x237dde[_0x5c716a(0x8e0)]}];await _0x3b36c9(_0x48bc39,_0x53d74b,_0x17ee45,_0x4109b7,_0x4dbe69);}const _0x35c6e0=[_0x2ad6ba(0x237),'.ts',_0x2ad6ba(0x537),_0x2ad6ba(0x240),'.txt','.html',_0x2ad6ba(0x7a9),'.xml',_0x2ad6ba(0x4b3),'.yml',_0x2ad6ba(0x326),_0x2ad6ba(0x5aa),_0x2ad6ba(0x2ed),_0x2ad6ba(0x30a),_0x2ad6ba(0x520),'.conf',_0x2ad6ba(0x2ee),_0x2ad6ba(0x5e8),'.php','.java','.c',_0x2ad6ba(0x777),_0x2ad6ba(0x1ca),'.r',_0x2ad6ba(0x343),_0x2ad6ba(0x976),_0x2ad6ba(0x79a),_0x2ad6ba(0x277),_0x2ad6ba(0x838),_0x2ad6ba(0x36c),_0x2ad6ba(0x3c0),_0x2ad6ba(0x7fe),_0x2ad6ba(0x61c),'.clj',_0x2ad6ba(0x9aa),'.erl',_0x2ad6ba(0x505),'.exs',_0x2ad6ba(0x400),'.ps1','.tcl','.m',_0x2ad6ba(0x192),'.awk',_0x2ad6ba(0x8e2),_0x2ad6ba(0x2fb),_0x2ad6ba(0x50a),'.jsx',_0x2ad6ba(0x797),_0x2ad6ba(0x2f5),'.erb','.jinja',_0x2ad6ba(0x321),'.hbs','.handlebars',_0x2ad6ba(0x27a),_0x2ad6ba(0x774),_0x2ad6ba(0x48a),_0x2ad6ba(0xaab),_0x2ad6ba(0xa64),'.twig',_0x2ad6ba(0x70a),_0x2ad6ba(0x175)];function _0x35ce84(_0x409b39,_0x53692f){const _0x19e09d=_0x2ad6ba;return _0x53692f['includes']('.'+(_0x409b39[_0x19e09d(0x1c9)]('.')[_0x19e09d(0x281)]()?.[_0x19e09d(0x742)]()||''));}async function _0x3391fd(_0xf5557f,_0x3a5605,_0x2ca5a9,_0x226d5d,_0x240472){const _0x4a80a3=_0x2ad6ba,_0x2a8d65=Date[_0x4a80a3(0x9fc)](),_0x5f05dd=new Set();let _0x5f5582=0x0;for(const _0x167c39 of _0x3a5605)_0x5f5582+=_0x167c39[_0x4a80a3(0x257)]['length'],await _0x30bd23(_0x167c39[_0x4a80a3(0x257)],_0x5f05dd,_0x2ca5a9,_0x240472[_0x4a80a3(0x4dd)]);_0x3bb532[_0x4a80a3(0xa5c)]({'jobType':_0xdeb8fb[_0x4a80a3(0x2c2)],'type':_0xed09f4[_0x4a80a3(0x6f0)],'jobId':_0xf5557f,'blockId':_0x2ca5a9['id'],'traceLevel':_0x3c4020[_0x4a80a3(0x634)],'startTime':_0x2a8d65,'timestamp':Date['now'](),'status':_0x4a80a3(0x190),'contentLength':_0x5f5582,'totalChunks':_0x3a5605 instanceof Array?_0x3a5605[_0x4a80a3(0x8e0)]:0x1,'entitiesExtracted':_0x5f05dd,'totalEntities':_0x5f05dd[_0x4a80a3(0x399)]}),await _0x3b36c9(_0xf5557f,_0x5f05dd,_0x2ca5a9,_0x226d5d,_0x240472);}async function _0x30bd23(_0x4f10bd,_0x530dbe,_0x2311d4,_0xb38ca9){const _0x51fbef=_0x2ad6ba,_0x5a48ca=await _0xb38ca9[_0x51fbef(0x36b)](_0x4f10bd,{'ner':_0x2311d4[_0x51fbef(0x37c)][_0x51fbef(0x97b)],'noun':_0x2311d4['attributes'][_0x51fbef(0x8b9)],'propn':_0x2311d4[_0x51fbef(0x37c)][_0x51fbef(0x78b)],'verb':_0x2311d4['attributes']['verb']});for(const _0x36a0dc of _0x5a48ca)_0x530dbe[_0x51fbef(0x424)](_0x36a0dc);}function _0x3f0b27(_0x4e8333,_0x1ee370,_0x28845f,_0x4d0b83,_0x44aaa8){const _0xa03ed6=_0x2ad6ba,_0x3945e0=Date[_0xa03ed6(0x9fc)]();if(_0x28845f['accumulated']||(_0x28845f[_0xa03ed6(0x42f)]={}),_0xa03ed6(0x488)==typeof _0x1ee370?_0x28845f[_0xa03ed6(0x42f)][_0xa03ed6(0x257)]=_0x1ee370:_0x1ee370 instanceof Set?_0x28845f[_0xa03ed6(0x42f)][_0xa03ed6(0x6c7)]=_0x1ee370:_0x1ee370 instanceof Map?_0x28845f[_0xa03ed6(0x42f)][_0xa03ed6(0x6b4)]=_0x1ee370:_0x1ee370 instanceof Array?_0x28845f[_0xa03ed6(0x42f)][_0xa03ed6(0x807)]=_0x1ee370:_0x28845f['accumulated'][_0xa03ed6(0x82c)]=_0x1ee370,_0x28845f[_0xa03ed6(0x7e8)]=_0x28845f[_0xa03ed6(0x7e8)]?_0x28845f[_0xa03ed6(0x7e8)]+0x1:0x1,_0x2f1616(_0x28845f,_0x4d0b83)>_0x28845f['timesCalled'])return;if(!(_0x28845f['accumulated'][_0xa03ed6(0x6c7)]&&_0x28845f[_0xa03ed6(0x42f)]['file']&&_0x28845f[_0xa03ed6(0x42f)]['content']&&_0x28845f['accumulated'][_0xa03ed6(0x807)]))throw new Error('Graph\x20database\x20block\x20is\x20missing\x20required\x20data');let _0x3fba27=0x0;const _0x37c3d2=_0x44aaa8[_0xa03ed6(0x813)][_0xa03ed6(0x800)](_0x28845f['id']);for(const _0xb9a57a of _0x28845f['accumulated'][_0xa03ed6(0x6c7)]){let _0x22825c=[];_0x22825c=_0x28845f[_0xa03ed6(0x42f)][_0xa03ed6(0x807)][_0xa03ed6(0x1bc)](_0x291d74=>_0x291d74['content'][_0xa03ed6(0x205)](_0xb9a57a));try{_0x37c3d2[_0xa03ed6(0x17d)](_0x28845f['accumulated'][_0xa03ed6(0x82c)][_0xa03ed6(0x225)],_0x28845f['accumulated']['content'],_0x22825c,_0xb9a57a),_0x3fba27+=0x1;}catch(_0x5475e8){}}if(_0x28845f[_0xa03ed6(0x42f)][_0xa03ed6(0x6b4)]){for(const [_0x13c823,_0x2c0ebf]of _0x28845f[_0xa03ed6(0x42f)][_0xa03ed6(0x6b4)])for(const _0x50a1ef of _0x2c0ebf)try{_0x37c3d2[_0xa03ed6(0x396)](_0x13c823,_0x50a1ef);}catch(_0x100a96){}if(_0x37c3d2['getIsLoaded']()){let _0x322a3c=''+(_0x44aaa8['version']??0x1);for(const _0x523e74 of _0x4d0b83)if(_0x523e74[_0xa03ed6(0x285)]===_0x3373d7[_0xa03ed6(0x37e)]){_0x322a3c=_0x322a3c+'-'+(_0x523e74[_0xa03ed6(0x354)]??0x1);break;}_0x37c3d2[_0xa03ed6(0x1fd)](_0x322a3c);}_0x3bb532['trace']({'jobType':_0xdeb8fb['Ingest'],'type':_0xed09f4['GraphDatabase'],'jobId':_0x4e8333,'blockId':_0x28845f['id'],'status':'success','startTime':_0x3945e0,'timestamp':Date[_0xa03ed6(0x9fc)](),'traceLevel':_0x3c4020[_0xa03ed6(0x634)],'nodesAdded':_0x3fba27,'entities':_0x28845f[_0xa03ed6(0x42f)][_0xa03ed6(0x6c7)],'relations':_0x28845f['accumulated']['relations']});}}async function _0x9b99a2(_0x21b9f4,_0x29a00a,_0x2f09a7,_0x2a2489,_0x51a637){const _0x33b9f4=_0x2ad6ba,_0xa1c788=_0x51a637[_0x33b9f4(0x6fb)][_0x33b9f4(0x2e0)](_0x4f7c8c=>_0x4f7c8c['id']===_0x2f09a7['id']);if(!_0xa1c788)throw new Error(_0x33b9f4(0x7de));switch(_0xa1c788[_0x33b9f4(0x9a7)]){case _0x406df3[_0x33b9f4(0x886)][_0x33b9f4(0x3c3)]:if(_0x33b9f4(0x488)!=typeof _0x29a00a)throw new Error(_0x33b9f4(0x996));await async function(_0x1bd5bf,_0x4d7954,_0x3208f1,_0x540136,_0x3bc4df,_0x589e88){const _0x2c1fa2=_0x33b9f4,_0x22de5e=Date['now']();let _0x208321;const _0x1c3315=_0x589e88['generativeAIWorkerConnectors'][_0x2c1fa2(0x2e0)](_0x3795da=>_0x3795da[_0x2c1fa2(0x875)]()===_0x3208f1[_0x2c1fa2(0x6b5)]);if(!_0x1c3315)throw new Error(_0x2c1fa2(0x895));_0x208321=await async function(_0x13fc0a,_0x5a5294,_0x2fe158){const _0x8704d3=_0x2c1fa2,_0x101f4c=await _0x5a5294['processJob']({'type':_0x8704d3(0x57d),'prompt':_0x13fc0a,'threadId':''},{'model':_0x2fe158});if(_0x101f4c['output']instanceof Array)throw new Error(_0x8704d3(0x35c));return _0x101f4c['output'];}(_0x4d7954,_0x1c3315,_0x3208f1),_0x3bb532[_0x2c1fa2(0xa5c)]({'jobType':_0xdeb8fb[_0x2c1fa2(0x2c2)],'type':_0xed09f4[_0x2c1fa2(0x92a)],'jobId':_0x1bd5bf,'blockId':_0x540136['id'],'traceLevel':_0x3c4020[_0x2c1fa2(0x634)],'timestamp':Date['now'](),'startTime':_0x22de5e,'status':_0x2c1fa2(0x190),'modelName':_0x3208f1['id'],'inputType':_0x3208f1[_0x2c1fa2(0x47f)],'outputType':_0x3208f1[_0x2c1fa2(0x9a7)],'content':_0x4d7954,'results':_0x208321}),await _0x3b36c9(_0x1bd5bf,_0x208321,_0x540136,_0x3bc4df,_0x589e88);}(_0x21b9f4,_0x29a00a,_0xa1c788,_0x2f09a7,_0x2a2489,_0x51a637);break;case _0x406df3[_0x33b9f4(0x886)][_0x33b9f4(0x40e)]:if(!(_0x29a00a instanceof Array))throw new Error(_0x33b9f4(0x663));await async function(_0x3cd269,_0x29b069,_0x37eb27,_0x51f820,_0x554d29,_0x8685ae){const _0x5a3002=_0x33b9f4,_0x2e311f=Date[_0x5a3002(0x9fc)](),_0x47e47d=[],_0x25081d=_0x8685ae[_0x5a3002(0xa1e)][_0x5a3002(0x2e0)](_0x2b82b3=>_0x2b82b3[_0x5a3002(0x875)]()===_0x37eb27[_0x5a3002(0x6b5)]);if(!_0x25081d)throw new Error(_0x5a3002(0x895));for(const _0x17097b of _0x29b069)_0x47e47d[_0x5a3002(0x673)](await _0x1cf30d(_0x17097b,_0x25081d,_0x37eb27));_0x3bb532[_0x5a3002(0xa5c)]({'jobType':_0xdeb8fb[_0x5a3002(0x2c2)],'type':_0xed09f4['ModelVector'],'jobId':_0x3cd269,'blockId':_0x51f820['id'],'traceLevel':_0x3c4020[_0x5a3002(0x634)],'timestamp':Date[_0x5a3002(0x9fc)](),'startTime':_0x2e311f,'status':'success','modelName':_0x37eb27['id'],'inputType':_0x37eb27[_0x5a3002(0x47f)],'outputType':_0x37eb27[_0x5a3002(0x9a7)],'totalVectors':_0x47e47d[_0x5a3002(0x8e0)]}),await _0x3b36c9(_0x3cd269,_0x47e47d,_0x51f820,_0x554d29,_0x8685ae);}(_0x21b9f4,_0x29a00a,_0xa1c788,_0x2f09a7,_0x2a2489,_0x51a637);}}async function _0x1cf30d(_0x2aece5,_0x318597,_0x5c7078){const _0x1febf4=_0x2ad6ba;return(await _0x318597[_0x1febf4(0x40b)]({'type':_0x1febf4(0x57d),'prompt':_0x2aece5[_0x1febf4(0x257)],'threadId':''},{'model':_0x5c7078}))[_0x1febf4(0x970)];}async function _0xb12cfb(_0x110056,_0x5663c4,_0x2e3cb9,_0x2c3172,_0x1ff365){const _0x5a67db=_0x2ad6ba,_0x7804fe=Date[_0x5a67db(0x9fc)]();if(_0x2e3cb9['accumulated']||(_0x2e3cb9[_0x5a67db(0x42f)]={}),_0x5663c4 instanceof Array?_0x2e3cb9[_0x5a67db(0x42f)]['index']=_0x5663c4:_0x2e3cb9[_0x5a67db(0x42f)][_0x5a67db(0x6c7)]=_0x5663c4,_0x2e3cb9[_0x5a67db(0x7e8)]=_0x2e3cb9['timesCalled']?_0x2e3cb9[_0x5a67db(0x7e8)]+0x1:0x1,_0x2f1616(_0x2e3cb9,_0x2c3172)>_0x2e3cb9[_0x5a67db(0x7e8)])return;if(!_0x2e3cb9[_0x5a67db(0x42f)][_0x5a67db(0x807)]||!_0x2e3cb9[_0x5a67db(0x42f)][_0x5a67db(0x6c7)])throw new Error('Relation\x20extractor\x20block\x20is\x20missing\x20required\x20data');const _0x85535f=new Map();for(const _0x2a991a of _0x2e3cb9[_0x5a67db(0x42f)][_0x5a67db(0x807)])_0x30ff1b(_0x2a991a['content'],_0x2e3cb9[_0x5a67db(0x42f)][_0x5a67db(0x6c7)],_0x85535f);_0x3bb532[_0x5a67db(0xa5c)]({'jobType':_0xdeb8fb[_0x5a67db(0x2c2)],'type':_0xed09f4[_0x5a67db(0x77c)],'jobId':_0x110056,'blockId':_0x2e3cb9['id'],'traceLevel':_0x3c4020[_0x5a67db(0x634)],'timestamp':Date[_0x5a67db(0x9fc)](),'startTime':_0x7804fe,'status':_0x5a67db(0x190),'entities':_0x2e3cb9[_0x5a67db(0x42f)][_0x5a67db(0x6c7)],'relations':_0x85535f,'totalRelationsExtracted':_0x85535f[_0x5a67db(0x399)]}),await _0x3b36c9(_0x110056,_0x85535f,_0x2e3cb9,_0x2c3172,_0x1ff365);}function _0x30ff1b(_0x14dfd7,_0x5268a6,_0x319be5){const _0x4e70d0=_0x2ad6ba;for(const _0x277dfe of _0x5268a6)for(const _0x2574aa of _0x5268a6){if(_0x277dfe===_0x2574aa)continue;const _0x29876c=_0x14dfd7[_0x4e70d0(0x82d)](_0x277dfe),_0x45a7c5=_0x14dfd7[_0x4e70d0(0x82d)](_0x2574aa);-0x1!==_0x29876c&&-0x1!==_0x45a7c5&&(_0x319be5['has'](_0x277dfe)||_0x319be5[_0x4e70d0(0x50f)](_0x277dfe,new Set()),_0x319be5[_0x4e70d0(0x736)](_0x277dfe)[_0x4e70d0(0x424)](_0x2574aa));}return _0x319be5;}async function _0x53403f(_0x2b1e53,_0x55e944,_0x1b43d8,_0x55a017,_0x20eeb9){const _0x325b31=_0x2ad6ba,_0x50dcd5=Date[_0x325b31(0x9fc)]();let _0x5db37b=[];if(_0x55e944 instanceof Array)for(const _0x43260e of _0x55e944){const _0x1c202a=await _0x20eeb9[_0x325b31(0x4dd)][_0x325b31(0x99b)](_0x43260e[_0x325b31(0x257)]);_0x5db37b=_0x5db37b[_0x325b31(0x992)](_0x1c202a[_0x325b31(0x607)](_0x42de1f=>({'content':_0x42de1f,'start':_0x43260e['start'],'length':_0x43260e[_0x325b31(0x8e0)]})));}else _0x5db37b=(await _0x20eeb9[_0x325b31(0x4dd)]['getSentences'](_0x55e944))[_0x325b31(0x607)](_0xac4192=>({'content':_0xac4192,'start':_0x55e944[_0x325b31(0x82d)](_0xac4192),'length':_0xac4192[_0x325b31(0x8e0)]}));_0x3bb532['trace']({'jobType':_0xdeb8fb['Ingest'],'type':_0xed09f4[_0x325b31(0x4d8)],'jobId':_0x2b1e53,'blockId':_0x1b43d8['id'],'traceLevel':_0x3c4020['Debug'],'startTime':_0x50dcd5,'timestamp':Date[_0x325b31(0x9fc)](),'status':_0x325b31(0x190),'totalSentences':_0x5db37b[_0x325b31(0x8e0)],'averageSentenceLength':_0x5db37b['reduce']((_0x3194cd,_0x870d2b)=>_0x3194cd+_0x870d2b[_0x325b31(0x8e0)],0x0)/_0x5db37b[_0x325b31(0x8e0)]}),await _0x3b36c9(_0x2b1e53,_0x5db37b,_0x1b43d8,_0x55a017,_0x20eeb9);}function _0x3ba4d2(_0x3f9485,_0x449b71,_0x37d3e2,_0x53d11e,_0x402854){const _0x3b463d=_0x2ad6ba,_0x3916df=Date[_0x3b463d(0x9fc)]();var _0x238a42;if(_0x37d3e2[_0x3b463d(0x42f)]||(_0x37d3e2['accumulated']={}),_0x449b71 instanceof Array?(_0x238a42=_0x449b71)[0x0]instanceof Array&&_0x3b463d(0x822)==typeof _0x238a42[0x0]?.[0x0]?_0x37d3e2['accumulated']['vectors']=_0x449b71:_0x37d3e2[_0x3b463d(0x42f)][_0x3b463d(0x807)]=_0x449b71:'string'==typeof _0x449b71?_0x37d3e2['accumulated']['content']=_0x449b71:_0x37d3e2['accumulated'][_0x3b463d(0x82c)]=_0x449b71,_0x37d3e2[_0x3b463d(0x7e8)]=_0x37d3e2[_0x3b463d(0x7e8)]?_0x37d3e2[_0x3b463d(0x7e8)]+0x1:0x1,_0x2f1616(_0x37d3e2,_0x53d11e)>_0x37d3e2['timesCalled'])return;if(!(_0x37d3e2['accumulated']['content']&&_0x37d3e2[_0x3b463d(0x42f)][_0x3b463d(0x807)]&&_0x37d3e2[_0x3b463d(0x42f)]['vectors']&&_0x37d3e2['accumulated']['file']))throw new Error(_0x3b463d(0x4ab));const _0x1912d3=_0x402854['contentMediator'][_0x3b463d(0xa54)](_0x37d3e2['id']);if(_0x1912d3['insert'](_0x37d3e2[_0x3b463d(0x42f)][_0x3b463d(0x82c)][_0x3b463d(0x225)],_0x37d3e2[_0x3b463d(0x42f)]['content'],_0x37d3e2[_0x3b463d(0x42f)]['index'],_0x37d3e2[_0x3b463d(0x42f)][_0x3b463d(0xa89)]),_0x1912d3[_0x3b463d(0x9b7)]()){let _0x2fffca=''+(_0x402854[_0x3b463d(0x354)]??0x1);for(const _0x15f0ed of _0x53d11e)_0x15f0ed[_0x3b463d(0x285)]===_0x3373d7[_0x3b463d(0x37e)]&&(_0x2fffca=_0x2fffca+'-'+(_0x15f0ed[_0x3b463d(0x354)]??0x1));_0x1912d3[_0x3b463d(0x1fd)](_0x2fffca);}_0x3bb532['trace']({'jobType':_0xdeb8fb[_0x3b463d(0x2c2)],'type':_0xed09f4['VectorDatabase'],'jobId':_0x3f9485,'blockId':_0x37d3e2['id'],'traceLevel':_0x3c4020[_0x3b463d(0x634)],'startTime':_0x3916df,'timestamp':Date[_0x3b463d(0x9fc)](),'status':_0x3b463d(0x190),'databaseName':_0x1912d3['getName'](),'vectorsAdded':_0x37d3e2[_0x3b463d(0x42f)][_0x3b463d(0xa89)]['length'],'filePathName':_0x37d3e2[_0x3b463d(0x42f)][_0x3b463d(0x82c)][_0x3b463d(0x225)]});}async function _0x47214b(_0x24e8d2,_0x28e947,_0x2b2e11,_0x319e88,_0x5eae1e){const _0x576e90=_0x2ad6ba,_0x45e7d6=Date['now']();let _0x1c0b33=[];if(_0x28e947 instanceof Array){for(const _0x36168f of _0x28e947)_0x1c0b33=_0x1c0b33[_0x576e90(0x992)](_0x3ca63c(_0x36168f['content'],_0x2b2e11,_0x36168f['start'],_0x36168f[_0x576e90(0x8e0)]));}else _0x1c0b33=_0x3ca63c(_0x28e947,_0x2b2e11);_0x3bb532[_0x576e90(0xa5c)]({'jobType':_0xdeb8fb[_0x576e90(0x2c2)],'type':_0xed09f4[_0x576e90(0x3d0)],'jobId':_0x24e8d2,'traceLevel':_0x3c4020['Debug'],'blockId':_0x2b2e11['id'],'startTime':_0x45e7d6,'timestamp':Date[_0x576e90(0x9fc)](),'status':_0x576e90(0x190),'totalChunks':_0x1c0b33['length'],'averageChunkLength':_0x1c0b33[_0x576e90(0x735)]((_0x5a5bbb,_0x2aacb6)=>_0x5a5bbb+_0x2aacb6[_0x576e90(0x8e0)],0x0)/_0x1c0b33[_0x576e90(0x8e0)]}),await _0x3b36c9(_0x24e8d2,_0x1c0b33,_0x2b2e11,_0x319e88,_0x5eae1e);}function _0x3ca63c(_0xed8fc1,_0x4c5a35,_0x5ee838,_0xe878b0){const _0x265ba2=_0x2ad6ba,_0x550cf1=[],_0x30e1d8=_0xed8fc1[_0x265ba2(0x1c9)]('\x20');let _0x359d0='',_0x4470bc=-0x1,_0x142eed=0x0,_0x4a3a8f=0x0;for(const _0x269076 of _0x30e1d8){if(_0x359d0[_0x265ba2(0x8e0)]+_0x269076[_0x265ba2(0x8e0)]>_0x4c5a35[_0x265ba2(0x37c)][_0x265ba2(0x399)]){const _0x3ab065=_0x359d0['length'];let _0x53cdff=_0x4470bc,_0x2552dd='';for(;_0x53cdff>=0x0&&_0x2552dd[_0x265ba2(0x8e0)]+_0x30e1d8[_0x53cdff][_0x265ba2(0x8e0)]<_0x4c5a35[_0x265ba2(0x37c)]['overlap'];)_0x2552dd=_0x30e1d8[_0x53cdff]+'\x20'+_0x2552dd,_0x53cdff--;let _0x4c9358=_0x142eed,_0x58ec68='';for(;_0x4c9358<_0x30e1d8[_0x265ba2(0x8e0)]&&_0x58ec68[_0x265ba2(0x8e0)]+_0x30e1d8[_0x4c9358][_0x265ba2(0x8e0)]<_0x4c5a35['attributes'][_0x265ba2(0x7a3)];)_0x58ec68+=_0x30e1d8[_0x4c9358]+'\x20',_0x4c9358++;_0x359d0=_0x2552dd+_0x359d0+_0x58ec68,_0x550cf1[_0x265ba2(0x673)]({'content':_0x359d0[_0x265ba2(0x387)](),'start':_0x5ee838??_0x4a3a8f,'length':_0xe878b0??_0x3ab065}),_0x359d0='',_0x4470bc=_0x142eed-0x1,_0x4a3a8f+=_0x3ab065;}_0x359d0+=_0x269076+'\x20',_0x142eed++;}if(_0x359d0[_0x265ba2(0x8e0)]>0x0){const _0xc92739=_0x359d0[_0x265ba2(0x8e0)];let _0xe717da=_0x4470bc,_0x39f8ef='';for(;_0xe717da>=0x0&&_0x39f8ef[_0x265ba2(0x8e0)]+_0x30e1d8[_0xe717da][_0x265ba2(0x8e0)]<_0x4c5a35['attributes'][_0x265ba2(0x7a3)];)_0x39f8ef=_0x30e1d8[_0xe717da]+'\x20'+_0x39f8ef,_0xe717da--;_0x359d0=_0x39f8ef+_0x359d0,_0x550cf1[_0x265ba2(0x673)]({'content':_0x359d0['trim'](),'start':_0x5ee838??_0x4a3a8f,'length':_0xe878b0??_0xc92739});}return _0x550cf1;}async function _0x3b36c9(_0x337998,_0x40e5a9,_0x4e2cc3,_0x259d59,_0x2bb547){const _0x266772=_0x2ad6ba;for(const _0x2b3c7b of _0x4e2cc3[_0x266772(0x319)]||[]){const _0x3bd6f0=_0x259d59[_0x266772(0x2e0)](_0x8e1c27=>_0x8e1c27[_0x266772(0x19a)]===_0x2b3c7b[_0x266772(0x19a)]);if(_0x3bd6f0)switch(_0x3bd6f0[_0x266772(0x285)]){case _0x3373d7[_0x266772(0x37e)]:_0x2b3c7b[_0x266772(0x285)]===_0x1481cb[_0x266772(0x3c3)]&&'string'==typeof _0x40e5a9&&await _0x567f90(_0x337998,_0x40e5a9,_0x3bd6f0,_0x259d59,_0x2bb547);break;case _0x3373d7[_0x266772(0x423)]:_0x2b3c7b['type']===_0x1481cb['Text']&&_0x266772(0x488)==typeof _0x40e5a9&&await _0x20e880(_0x337998,_0x40e5a9,_0x3bd6f0,_0x259d59,_0x2bb547),_0x2b3c7b[_0x266772(0x285)]===_0x1481cb[_0x266772(0x3fb)]&&_0x40e5a9 instanceof Array&&await _0x20e880(_0x337998,_0x40e5a9,_0x3bd6f0,_0x259d59,_0x2bb547);break;case _0x3373d7[_0x266772(0x653)]:_0x2b3c7b[_0x266772(0x285)]===_0x1481cb[_0x266772(0x87a)]&&await _0x1a44e7(_0x337998,_0x40e5a9,_0x3bd6f0,_0x259d59,_0x2bb547);break;case _0x3373d7[_0x266772(0x6f0)]:_0x2b3c7b[_0x266772(0x285)]===_0x1481cb['Index']&&_0x40e5a9 instanceof Array&&await _0x3391fd(_0x337998,_0x40e5a9,_0x3bd6f0,_0x259d59,_0x2bb547);break;case _0x3373d7['GraphDatabase']:_0x2b3c7b['type']===_0x1481cb[_0x266772(0x3c3)]&&'string'==typeof _0x40e5a9&&_0x3f0b27(_0x337998,_0x40e5a9,_0x3bd6f0,_0x259d59,_0x2bb547),_0x2b3c7b[_0x266772(0x285)]===_0x1481cb['Index']&&_0x40e5a9 instanceof Array&&_0x3f0b27(_0x337998,_0x40e5a9,_0x3bd6f0,_0x259d59,_0x2bb547),_0x2b3c7b[_0x266772(0x285)]===_0x1481cb[_0x266772(0x45a)]&&_0x40e5a9 instanceof Set&&_0x3f0b27(_0x337998,_0x40e5a9,_0x3bd6f0,_0x259d59,_0x2bb547),_0x2b3c7b[_0x266772(0x285)]===_0x1481cb['Relation']&&_0x40e5a9 instanceof Map&&_0x3f0b27(_0x337998,_0x40e5a9,_0x3bd6f0,_0x259d59,_0x2bb547),_0x2b3c7b[_0x266772(0x285)]===_0x1481cb[_0x266772(0x87a)]&&_0x3f0b27(_0x337998,_0x40e5a9,_0x3bd6f0,_0x259d59,_0x2bb547);break;case _0x3373d7[_0x266772(0x72d)]:_0x2b3c7b[_0x266772(0x285)]===_0x1481cb[_0x266772(0x3c3)]&&_0x266772(0x488)==typeof _0x40e5a9&&await _0x9b99a2(_0x337998,_0x40e5a9,_0x3bd6f0,_0x259d59,_0x2bb547),_0x2b3c7b['type']===_0x1481cb[_0x266772(0x3fb)]&&_0x40e5a9 instanceof Array&&await _0x9b99a2(_0x337998,_0x40e5a9,_0x3bd6f0,_0x259d59,_0x2bb547);break;case _0x3373d7[_0x266772(0x77c)]:_0x2b3c7b[_0x266772(0x285)]===_0x1481cb[_0x266772(0x3fb)]&&_0x40e5a9 instanceof Array&&await _0xb12cfb(_0x337998,_0x40e5a9,_0x3bd6f0,_0x259d59,_0x2bb547),_0x2b3c7b['type']===_0x1481cb['Entity']&&_0x40e5a9 instanceof Set&&await _0xb12cfb(_0x337998,_0x40e5a9,_0x3bd6f0,_0x259d59,_0x2bb547);break;case _0x3373d7[_0x266772(0x4d8)]:_0x2b3c7b[_0x266772(0x285)]===_0x1481cb[_0x266772(0x3c3)]&&_0x266772(0x488)==typeof _0x40e5a9&&await _0x53403f(_0x337998,_0x40e5a9,_0x3bd6f0,_0x259d59,_0x2bb547),_0x2b3c7b[_0x266772(0x285)]===_0x1481cb[_0x266772(0x3fb)]&&_0x40e5a9 instanceof Array&&await _0x53403f(_0x337998,_0x40e5a9,_0x3bd6f0,_0x259d59,_0x2bb547);break;case _0x3373d7[_0x266772(0x9e6)]:_0x2b3c7b['type']===_0x1481cb[_0x266772(0x3c3)]&&_0x266772(0x488)==typeof _0x40e5a9&&_0x3ba4d2(_0x337998,_0x40e5a9,_0x3bd6f0,_0x259d59,_0x2bb547),_0x2b3c7b[_0x266772(0x285)]===_0x1481cb['Index']&&_0x40e5a9 instanceof Array&&_0x3ba4d2(_0x337998,_0x40e5a9,_0x3bd6f0,_0x259d59,_0x2bb547),_0x2b3c7b['type']===_0x1481cb['Vector']&&_0x40e5a9 instanceof Array&&_0x3ba4d2(_0x337998,_0x40e5a9,_0x3bd6f0,_0x259d59,_0x2bb547),_0x2b3c7b[_0x266772(0x285)]===_0x1481cb[_0x266772(0x87a)]&&_0x3ba4d2(_0x337998,_0x40e5a9,_0x3bd6f0,_0x259d59,_0x2bb547);break;case _0x3373d7['WordSplitter']:_0x2b3c7b[_0x266772(0x285)]===_0x1481cb[_0x266772(0x3c3)]&&_0x266772(0x488)==typeof _0x40e5a9&&await _0x47214b(_0x337998,_0x40e5a9,_0x3bd6f0,_0x259d59,_0x2bb547),_0x2b3c7b[_0x266772(0x285)]===_0x1481cb['Index']&&_0x40e5a9 instanceof Array&&await _0x47214b(_0x337998,_0x40e5a9,_0x3bd6f0,_0x259d59,_0x2bb547);}}}function _0x2f1616(_0x22a2f8,_0x2ce22d){const _0x47172c=_0x2ad6ba;return _0x2ce22d[_0x47172c(0x1bc)](_0x50ec95=>_0x50ec95['links']?.[_0x47172c(0x4df)](_0x1091ee=>_0x1091ee[_0x47172c(0x19a)]===_0x22a2f8[_0x47172c(0x19a)]))['length'];}async function _0x38aa17(_0x43d2d8,_0x4f8701,_0x4ff7b3,_0x3d9c0d,_0x20276a){const _0x3c06a3=_0x2ad6ba;try{let _0x5f0e55;switch(_0x4ff7b3['type']){case _0x3373d7[_0x3c06a3(0x268)]:const _0x33a133=_0x20276a['contentMediator']['getObjectStoreBucket'](_0x4ff7b3['id']);_0x5f0e55=await _0x33a133[_0x3c06a3(0x736)](_0x4f8701);break;case _0x3373d7[_0x3c06a3(0x926)]:const _0xad9d4=_0x20276a[_0x3c06a3(0x813)][_0x3c06a3(0x6b8)](_0x4ff7b3['id']);_0x5f0e55=await _0xad9d4[_0x3c06a3(0x736)](_0x4f8701);}if(!_0x5f0e55)throw new Error(_0x3c06a3(0x579));await _0x3b36c9(_0x43d2d8,{'file':_0x5f0e55,'pathName':_0x4f8701},_0x4ff7b3,structuredClone(_0x3d9c0d),_0x20276a);}catch(_0x500d99){console['error']('Error\x20processing\x20ingest',_0x500d99);}}async function _0x541933(_0x12feff,_0x1b9e53,_0x3e1e13,_0x3ea0bc,_0x550b48,_0x5a0f83,_0x1d2829){const _0x55b6ed=_0x2ad6ba,_0x2f054f=Date[_0x55b6ed(0x9fc)](),_0x51e3f3=new Set();if(_0x3e1e13 instanceof Array){for(const _0x2bee08 of _0x3e1e13)await _0x22d134(_0x2bee08['content'],_0x550b48,_0x51e3f3,_0x1d2829['nlpLibraryConnector']);}else await _0x22d134(_0x3e1e13,_0x550b48,_0x51e3f3,_0x1d2829['nlpLibraryConnector']);_0x3bb532['trace']({'jobType':_0xdeb8fb[_0x55b6ed(0x9b3)],'type':_0x1f25c0[_0x55b6ed(0x6f0)],'jobId':_0x12feff,'threadId':_0x1b9e53,'blockId':_0x550b48['id'],'traceLevel':_0x3c4020['Debug'],'startTime':_0x2f054f,'timestamp':Date[_0x55b6ed(0x9fc)](),'status':_0x55b6ed(0x190),'content':_0x3e1e13,'entitiesExtracted':Array['from'](_0x51e3f3),'totalEntities':_0x51e3f3[_0x55b6ed(0x399)]}),await _0x5131f7(_0x12feff,_0x1b9e53,_0x51e3f3,_0x3ea0bc,_0x550b48,_0x5a0f83,_0x1d2829);}async function _0x22d134(_0x153ec1,_0x4e2b1a,_0x369e44,_0x7d7257){const _0x3ac822=_0x2ad6ba,_0x3a15e0=await _0x7d7257[_0x3ac822(0x36b)](_0x153ec1,{'ner':_0x4e2b1a[_0x3ac822(0x37c)][_0x3ac822(0x97b)],'noun':_0x4e2b1a[_0x3ac822(0x37c)][_0x3ac822(0x8b9)],'propn':_0x4e2b1a[_0x3ac822(0x37c)][_0x3ac822(0x78b)],'verb':_0x4e2b1a[_0x3ac822(0x37c)]['verb']});for(const _0x12f972 of _0x3a15e0)_0x369e44[_0x3ac822(0x424)](_0x12f972);}async function _0x52f1cf(_0x22e36,_0x47733a,_0x1ed626,_0x55080d,_0x1f754e,_0x5e77a0,_0x46792e){const _0x301335=_0x2ad6ba,_0x378b59=Date[_0x301335(0x9fc)]();if(_0x1f754e[_0x301335(0x42f)]||(_0x1f754e[_0x301335(0x42f)]={}),_0x1ed626 instanceof Array?(_0x1f754e[_0x301335(0x42f)][_0x301335(0x312)]||(_0x1f754e['accumulated'][_0x301335(0x312)]=[]),_0x1f754e['accumulated'][_0x301335(0x312)][_0x301335(0x673)](..._0x1ed626)):_0x1ed626 instanceof Set?_0x1f754e[_0x301335(0x42f)][_0x301335(0x6c7)]=_0x1ed626:_0x1f754e[_0x301335(0x42f)][_0x301335(0x57d)]=_0x1ed626,_0x1f754e[_0x301335(0x7e8)]=_0x1f754e[_0x301335(0x7e8)]?_0x1f754e['timesCalled']+0x1:0x1,_0x18ea7c(_0x1f754e,_0x5e77a0)>_0x1f754e[_0x301335(0x7e8)])return;if(!_0x1f754e[_0x301335(0x42f)][_0x301335(0x57d)]&&!_0x1f754e[_0x301335(0x42f)][_0x301335(0x312)]||!_0x1f754e[_0x301335(0x42f)]['entities'])throw new Error('Graph\x20database\x20block\x20is\x20missing\x20required\x20data');const _0x2ee5c0=_0x46792e[_0x301335(0x813)][_0x301335(0x800)](_0x1f754e['id'])[_0x301335(0x20b)](Array[_0x301335(0x854)](_0x1f754e[_0x301335(0x42f)][_0x301335(0x6c7)]),_0x1f754e['attributes'][_0x301335(0x8a0)],_0x1f754e[_0x301335(0x37c)][_0x301335(0x28c)]);let _0x3c1fce=[];for(const _0x5e54a9 in _0x2ee5c0){const _0x4d820a=_0x2ee5c0[_0x5e54a9];for(const _0x573cf4 of _0x4d820a){let _0x291cfa=0x0;if(_0x1f754e[_0x301335(0x42f)][_0x301335(0x57d)]&&(_0x291cfa=await _0x46792e[_0x301335(0x4dd)][_0x301335(0x352)](_0x1f754e['accumulated'][_0x301335(0x57d)],_0x573cf4)),_0x1f754e[_0x301335(0x42f)][_0x301335(0x312)]){for(const _0x51cf1b of _0x1f754e['accumulated'][_0x301335(0x312)])_0x291cfa=Math['max'](_0x291cfa,await _0x46792e['nlpLibraryConnector']['getSimilarity'](_0x51cf1b[_0x301335(0x257)],_0x573cf4));}_0x291cfa<_0x1f754e[_0x301335(0x37c)][_0x301335(0x4fd)]||_0x3c1fce[_0x301335(0x673)]({'content':_0x573cf4,'relevance':_0x291cfa,'pathName':_0x5e54a9});}}_0x3c1fce=_0x3c1fce[_0x301335(0xa22)]((_0xe829eb,_0x2664aa)=>_0x2664aa['relevance']-_0xe829eb[_0x301335(0x249)])['slice'](0x0,_0x1f754e['attributes']['topK']),_0x3bb532[_0x301335(0xa5c)]({'jobType':_0xdeb8fb['Retrieve'],'type':_0x1f25c0['GraphSearch'],'jobId':_0x22e36,'threadId':_0x47733a,'blockId':_0x1f754e['id'],'traceLevel':_0x3c4020[_0x301335(0x634)],'timestamp':Date[_0x301335(0x9fc)](),'startTime':_0x378b59,'status':_0x301335(0x190),'content':_0x1ed626,'topResults':_0x3c1fce,'numResults':_0x3c1fce[_0x301335(0x8e0)]}),await _0x5131f7(_0x22e36,_0x47733a,_0x3c1fce,_0x55080d,_0x1f754e,_0x5e77a0,_0x46792e);}async function _0x420c21(_0x386e1f,_0x5adf0c,_0x4ba0e1,_0x560e32,_0xdf308e,_0x39a343,_0x2f9fed){const _0x2d2e6c=_0x2ad6ba,_0x37b48=_0x2f9fed[_0x2d2e6c(0x6fb)][_0x2d2e6c(0x2e0)](_0xc46ae=>_0xc46ae['id']===_0xdf308e['id']);if(!_0x37b48)throw new Error(_0x2d2e6c(0x7de));let _0x40a9b3='';switch(_0x40a9b3=_0x4ba0e1 instanceof Array?_0x4ba0e1[_0x2d2e6c(0x607)](_0x5cc34c=>_0x5cc34c[_0x2d2e6c(0x257)])['join'](',\x20'):_0x4ba0e1,_0x37b48[_0x2d2e6c(0x9a7)]){case _0x406df3[_0x2d2e6c(0x886)][_0x2d2e6c(0x3c3)]:await async function(_0x266773,_0x55f3ed,_0xe98d21,_0x1d745c,_0x1ea024,_0x55bee6,_0xf19a12,_0x389afb){const _0x997e6e=_0x2d2e6c,_0x6fb62d=Date[_0x997e6e(0x9fc)](),_0x8141b4=_0x389afb[_0x997e6e(0xa1e)][_0x997e6e(0x2e0)](_0x3e7cff=>_0x3e7cff[_0x997e6e(0x875)]()===_0x1ea024['engineType']);if(!_0x8141b4)throw new Error(_0x997e6e(0x895));const _0x3a29cb=await async function(_0x1d5d71,_0x2d0bfb,_0x328226,_0x520ee5,_0x592a3d){const _0x2b753a=_0x997e6e,_0x2f387d={'type':_0x2b753a(0x57d),'prompt':_0x2d0bfb,'threadId':_0x1d5d71};_0x328226[_0x2b753a(0x567)][_0x2b753a(0x8e0)]>0x0&&(_0x2f387d[_0x2b753a(0x4ae)]=_0x2b753a(0x5f0)+_0x328226[_0x2b753a(0x567)][_0x2b753a(0x607)](_0x32827c=>_0x2b753a(0x594)+_0x32827c[_0x2b753a(0x225)]+':\x20'+_0x32827c[_0x2b753a(0x257)])['join']('\x0a'));const _0x3c8d31=await _0x520ee5[_0x2b753a(0x40b)](_0x2f387d,{'model':_0x592a3d});if(_0x3c8d31[_0x2b753a(0x970)]instanceof Array)throw new Error(_0x2b753a(0x966));return _0x328226[_0x2b753a(0x39f)]+=_0x3c8d31[_0x2b753a(0x39f)]??0x0,_0x328226[_0x2b753a(0xa2f)]+=_0x3c8d31[_0x2b753a(0xa2f)]??0x0,_0x3c8d31[_0x2b753a(0x970)];}(_0x55f3ed,_0xe98d21,_0x1d745c,_0x8141b4,_0x1ea024);_0x3bb532['trace']({'jobType':_0xdeb8fb[_0x997e6e(0x9b3)],'type':_0x1f25c0[_0x997e6e(0x92a)],'jobId':_0x266773,'threadId':_0x55f3ed,'blockId':_0x55bee6['id'],'traceLevel':_0x3c4020[_0x997e6e(0x634)],'startTime':_0x6fb62d,'timestamp':Date[_0x997e6e(0x9fc)](),'status':_0x997e6e(0x190),'modelName':_0x1ea024['id'],'content':_0xe98d21,'newPrompt':_0x3a29cb,'inputType':_0x1ea024[_0x997e6e(0x47f)],'outputType':_0x1ea024[_0x997e6e(0x9a7)]}),await _0x5131f7(_0x266773,_0x55f3ed,_0x3a29cb,_0x1d745c,_0x55bee6,_0xf19a12,_0x389afb);}(_0x386e1f,_0x5adf0c,_0x40a9b3,_0x560e32,_0x37b48,_0xdf308e,_0x39a343,_0x2f9fed);break;case _0x406df3[_0x2d2e6c(0x886)]['Vector']:await async function(_0x2d73b8,_0x32c23c,_0x312647,_0x13a2fa,_0x5c4398,_0x4bec31,_0x2a638a,_0x45b73f){const _0x21d096=_0x2d2e6c,_0x224ae3=Date['now'](),_0x5b6fec=_0x45b73f['generativeAIWorkerConnectors']['find'](_0x547aa4=>_0x547aa4[_0x21d096(0x875)]()===_0x5c4398[_0x21d096(0x6b5)]);if(!_0x5b6fec)throw new Error('No\x20connector\x20found\x20for\x20model');const _0x3034cf=await async function(_0x14b00b,_0x3a640f,_0x3e7a73,_0x3b539d){const _0x1c26ba=_0x21d096;return(await _0x3e7a73[_0x1c26ba(0x40b)]({'type':_0x1c26ba(0x57d),'prompt':_0x3a640f,'threadId':_0x14b00b},{'model':_0x3b539d}))[_0x1c26ba(0x970)];}(_0x32c23c,_0x312647,_0x5b6fec,_0x5c4398);_0x3bb532['trace']({'jobType':_0xdeb8fb[_0x21d096(0x9b3)],'type':_0x1f25c0[_0x21d096(0x806)],'jobId':_0x2d73b8,'threadId':_0x32c23c,'blockId':_0x4bec31['id'],'traceLevel':_0x3c4020[_0x21d096(0x634)],'startTime':_0x224ae3,'timestamp':Date[_0x21d096(0x9fc)](),'status':'success','modelName':_0x5c4398['id'],'content':_0x312647,'totalVectors':_0x3034cf['length']}),await _0x5131f7(_0x2d73b8,_0x32c23c,_0x3034cf,_0x13a2fa,_0x4bec31,_0x2a638a,_0x45b73f);}(_0x386e1f,_0x5adf0c,_0x40a9b3,_0x560e32,_0x37b48,_0xdf308e,_0x39a343,_0x2f9fed);}}async function _0x3064c2(_0x174bbf,_0x1165ce,_0x547d6d,_0xd927a8,_0x3bae83,_0x2b6d57,_0x45d3e7){const _0x1f2b12=_0x2ad6ba,_0x3b2468=Date[_0x1f2b12(0x9fc)]();if(_0x3bae83[_0x1f2b12(0x42f)]||(_0x3bae83[_0x1f2b12(0x42f)]={}),_0x547d6d instanceof Array?(_0x3bae83[_0x1f2b12(0x42f)][_0x1f2b12(0x312)]||(_0x3bae83[_0x1f2b12(0x42f)]['results']=[]),_0x3bae83[_0x1f2b12(0x42f)]['results'][_0x1f2b12(0x673)](..._0x547d6d)):_0x3bae83[_0x1f2b12(0x42f)][_0x1f2b12(0x57d)]=_0x547d6d,_0x3bae83[_0x1f2b12(0x7e8)]=_0x3bae83[_0x1f2b12(0x7e8)]?_0x3bae83[_0x1f2b12(0x7e8)]+0x1:0x1,_0x18ea7c(_0x3bae83,_0x2b6d57)>_0x3bae83[_0x1f2b12(0x7e8)])return;if(!_0x3bae83[_0x1f2b12(0x42f)][_0x1f2b12(0x57d)]||!_0x3bae83[_0x1f2b12(0x42f)][_0x1f2b12(0x312)])throw new Error(_0x1f2b12(0x85d));for(const _0x5e2568 of _0x3bae83[_0x1f2b12(0x42f)]['results'])_0x5e2568[_0x1f2b12(0x249)]=await _0x45d3e7['nlpLibraryConnector'][_0x1f2b12(0x352)](_0x3bae83[_0x1f2b12(0x42f)][_0x1f2b12(0x57d)],_0x5e2568['content']);const _0x39ce85=_0x3bae83['accumulated'][_0x1f2b12(0x312)][_0x1f2b12(0x1bc)](_0x58e2e7=>_0x58e2e7[_0x1f2b12(0x249)]>_0x3bae83[_0x1f2b12(0x37c)][_0x1f2b12(0x4fd)])[_0x1f2b12(0xa22)]((_0x179a00,_0x8486c4)=>_0x8486c4[_0x1f2b12(0x249)]-_0x179a00['relevance'])[_0x1f2b12(0x1b2)](0x0,_0x3bae83[_0x1f2b12(0x37c)][_0x1f2b12(0x3d7)]);_0x3bb532[_0x1f2b12(0xa5c)]({'jobType':_0xdeb8fb[_0x1f2b12(0x9b3)],'type':_0x1f25c0['Reranker'],'jobId':_0x174bbf,'threadId':_0x1165ce,'blockId':_0x3bae83['id'],'traceLevel':_0x3c4020[_0x1f2b12(0x634)],'startTime':_0x3b2468,'timestamp':Date[_0x1f2b12(0x9fc)](),'status':_0x1f2b12(0x190),'inputResults':_0x3bae83[_0x1f2b12(0x42f)][_0x1f2b12(0x312)],'rerankedResults':_0x39ce85}),await _0x5131f7(_0x174bbf,_0x1165ce,_0x39ce85,_0xd927a8,_0x3bae83,_0x2b6d57,_0x45d3e7);}async function _0x127ebd(_0x596316,_0x3c0b63,_0x596f0c,_0x5cadfc,_0x528da6,_0x19b239,_0x4def42){const _0x3019d8=_0x2ad6ba,_0x4e17b0=Date[_0x3019d8(0x9fc)]();if(_0x528da6[_0x3019d8(0x42f)]||(_0x528da6['accumulated']={}),_0x596f0c instanceof Array?_0x528da6['accumulated']['vector']=_0x596f0c:_0x528da6['accumulated'][_0x3019d8(0x257)]=_0x596f0c,_0x528da6['timesCalled']=_0x528da6[_0x3019d8(0x7e8)]?_0x528da6['timesCalled']+0x1:0x1,_0x18ea7c(_0x528da6,_0x19b239)>_0x528da6['timesCalled'])return;if(!_0x528da6[_0x3019d8(0x42f)][_0x3019d8(0x6b3)]||!_0x528da6['accumulated'][_0x3019d8(0x257)])throw new Error(_0x3019d8(0x4ab));const _0x24f8cf=await _0x4def42[_0x3019d8(0x4dd)][_0x3019d8(0x36b)](_0x528da6['accumulated'][_0x3019d8(0x257)],{'ner':!0x1,'noun':!0x0,'propn':!0x1,'verb':!0x1}),_0x28679f=_0x4def42[_0x3019d8(0x813)]['getVectorDatabase'](_0x528da6['id'])[_0x3019d8(0xa96)](_0x24f8cf,_0x528da6[_0x3019d8(0x42f)]['vector'],_0x528da6[_0x3019d8(0x37c)][_0x3019d8(0x3d7)],_0x528da6[_0x3019d8(0x37c)][_0x3019d8(0x4fd)],_0x528da6['attributes'][_0x3019d8(0x28c)]);_0x3bb532[_0x3019d8(0xa5c)]({'jobType':_0xdeb8fb[_0x3019d8(0x9b3)],'type':_0x1f25c0[_0x3019d8(0xa9c)],'jobId':_0x596316,'threadId':_0x3c0b63,'blockId':_0x528da6['id'],'traceLevel':_0x3c4020['Debug'],'startTime':_0x4e17b0,'timestamp':Date[_0x3019d8(0x9fc)](),'status':_0x3019d8(0x190),'topResults':_0x28679f,'numResults':_0x28679f[_0x3019d8(0x8e0)]}),await _0x5131f7(_0x596316,_0x3c0b63,_0x28679f,_0x5cadfc,_0x528da6,_0x19b239,_0x4def42);}async function _0x5131f7(_0x5b86f7,_0x17b942,_0x39b370,_0x333455,_0x47b452,_0x24c39a,_0x1a1b99){const _0x404605=_0x2ad6ba;for(const _0x489e1e of _0x47b452[_0x404605(0x319)]||[]){const _0x2f00d5=_0x24c39a[_0x404605(0x2e0)](_0x4a2c73=>_0x4a2c73[_0x404605(0x19a)]===_0x489e1e[_0x404605(0x19a)]);if(_0x2f00d5)switch(_0x2f00d5[_0x404605(0x285)]){case _0x3373d7[_0x404605(0x470)]:_0x489e1e[_0x404605(0x285)]===_0x1481cb[_0x404605(0x927)]&&_0x39b370 instanceof Array&&_0x333455[_0x404605(0x567)][_0x404605(0x673)](..._0x39b370);break;case _0x3373d7[_0x404605(0x6f0)]:_0x489e1e['type']===_0x1481cb[_0x404605(0x3c3)]&&_0x404605(0x488)==typeof _0x39b370&&await _0x541933(_0x5b86f7,_0x17b942,_0x39b370,_0x333455,_0x2f00d5,_0x24c39a,_0x1a1b99),_0x489e1e['type']===_0x1481cb['Search']&&_0x39b370 instanceof Array&&await _0x541933(_0x5b86f7,_0x17b942,_0x39b370,_0x333455,_0x2f00d5,_0x24c39a,_0x1a1b99);break;case _0x3373d7[_0x404605(0x57e)]:_0x489e1e[_0x404605(0x285)]===_0x1481cb[_0x404605(0x3c3)]&&_0x404605(0x488)==typeof _0x39b370&&await _0x52f1cf(_0x5b86f7,_0x17b942,_0x39b370,_0x333455,_0x2f00d5,_0x24c39a,_0x1a1b99),_0x489e1e[_0x404605(0x285)]===_0x1481cb['Search']&&_0x39b370 instanceof Array&&await _0x52f1cf(_0x5b86f7,_0x17b942,_0x39b370,_0x333455,_0x2f00d5,_0x24c39a,_0x1a1b99),_0x489e1e['type']===_0x1481cb['Entity']&&_0x39b370 instanceof Set&&await _0x52f1cf(_0x5b86f7,_0x17b942,_0x39b370,_0x333455,_0x2f00d5,_0x24c39a,_0x1a1b99);break;case _0x3373d7[_0x404605(0x72d)]:_0x489e1e['type']===_0x1481cb[_0x404605(0x3c3)]&&_0x404605(0x488)==typeof _0x39b370&&await _0x420c21(_0x5b86f7,_0x17b942,_0x39b370,_0x333455,_0x2f00d5,_0x24c39a,_0x1a1b99),_0x489e1e[_0x404605(0x285)]===_0x1481cb[_0x404605(0x927)]&&_0x39b370 instanceof Array&&await _0x420c21(_0x5b86f7,_0x17b942,_0x39b370,_0x333455,_0x2f00d5,_0x24c39a,_0x1a1b99);break;case _0x3373d7[_0x404605(0x841)]:_0x489e1e[_0x404605(0x285)]===_0x1481cb[_0x404605(0x3c3)]&&_0x404605(0x488)==typeof _0x39b370&&await _0x3064c2(_0x5b86f7,_0x17b942,_0x39b370,_0x333455,_0x2f00d5,_0x24c39a,_0x1a1b99),_0x489e1e['type']===_0x1481cb['Search']&&_0x39b370 instanceof Array&&await _0x3064c2(_0x5b86f7,_0x17b942,_0x39b370,_0x333455,_0x2f00d5,_0x24c39a,_0x1a1b99);break;case _0x3373d7['VectorDatabase']:_0x489e1e[_0x404605(0x285)]===_0x1481cb[_0x404605(0x3c3)]&&_0x404605(0x488)==typeof _0x39b370&&await _0x127ebd(_0x5b86f7,_0x17b942,_0x39b370,_0x333455,_0x2f00d5,_0x24c39a,_0x1a1b99),_0x489e1e['type']===_0x1481cb[_0x404605(0x40e)]&&_0x39b370 instanceof Array&&await _0x127ebd(_0x5b86f7,_0x17b942,_0x39b370,_0x333455,_0x2f00d5,_0x24c39a,_0x1a1b99);}}}function _0x18ea7c(_0x4e5e68,_0x1164d2){const _0x938499=_0x2ad6ba;return _0x1164d2[_0x938499(0x1bc)](_0xf1dd8f=>_0xf1dd8f[_0x938499(0x319)]?.[_0x938499(0x4df)](_0x22bda3=>_0x22bda3[_0x938499(0x19a)]===_0x4e5e68['uid']))[_0x938499(0x8e0)];}async function _0x932b98(_0x164ac8,_0x48c095,_0x47dd19,_0x53a7a3,_0x5ded74,_0x475365){const _0x28e787=_0x2ad6ba,_0x1d991c={'type':_0x28e787(0x57d),'output':'','context':[],'inputTokens':0x0,'outputTokens':0x0};try{let _0x4ac7ec;await _0x5131f7(_0x164ac8,_0x48c095,_0x47dd19,_0x1d991c,_0x53a7a3,structuredClone(_0x5ded74),_0x475365),_0x1d991c['context']['reduce']((_0x290919,_0x521068)=>_0x290919+_0x521068['content'][_0x28e787(0x8e0)],0x0)>_0x424fb1&&(_0x4ac7ec=Math[_0x28e787(0xa7f)](_0x424fb1/_0x1d991c[_0x28e787(0x567)][_0x28e787(0x8e0)])),_0x1d991c[_0x28e787(0x970)]='Additional\x20context:\x0a'+_0x1d991c[_0x28e787(0x567)]['map'](_0xfae287=>_0x28e787(0x594)+_0xfae287[_0x28e787(0x225)]+':\x20'+_0xfae287[_0x28e787(0x257)][_0x28e787(0x95e)](0x0,_0x4ac7ec))[_0x28e787(0x3a2)]('\x0a');}catch(_0x5ab55c){console['error']('Error\x20processing\x20retrieve',_0x5ab55c);}return _0x1d991c;}const _0x4a8a3b=require('rxjs/operators');class _0x4176d7{[_0x2ad6ba(0x1ec)];constructor(){const _0x1db5a3=_0x2ad6ba;this[_0x1db5a3(0x1ec)]=new _0x3f49a4['Subject']();}[_0x2ad6ba(0x4ce)](_0xdd9ee5){this['subject']['next'](_0xdd9ee5);}async[_0x2ad6ba(0x35b)](){const _0x5da447=_0x2ad6ba;return(0x0,_0x3f49a4[_0x5da447(0x6f9)])(this[_0x5da447(0x1ec)][_0x5da447(0x69a)]((0x0,_0x4a8a3b[_0x5da447(0x62d)])(0x1)));}}function _0x299976(_0x2dc24f,_0x1cf2c6,_0x52313b,_0x316fa6,_0x77d91f,_0x38d8ea,_0x1312a2,_0x740bb){const _0x26d218=_0x2ad6ba,_0x18d6ae=_0x26d218(0x2e6)+_0x77d91f[_0x26d218(0x9b5)]+'\x20to\x20generate\x20a\x20response.',_0x674db3={'prompt':{'type':_0x406df3[_0x26d218(0x347)][_0x26d218(0x44a)]}};return _0x3bb532[_0x26d218(0xa5c)]({'jobType':_0xdeb8fb[_0x26d218(0xa5e)],'type':_0x457200[_0x26d218(0x449)],'jobId':_0x2dc24f,'agentId':_0x1cf2c6,'threadId':_0x52313b[_0x26d218(0x9e8)],'traceLevel':_0x3c4020[_0x26d218(0x659)],'startTime':Date[_0x26d218(0x9fc)](),'timestamp':Date[_0x26d218(0x9fc)](),'status':'success','function':_0x3cdc78['ExecuteAgent'],'params':_0x674db3,'functionDescription':_0x18d6ae}),{'description':_0x18d6ae,'params':_0x674db3,'callback':async _0x32fc30=>{const _0x279132=_0x26d218,_0x4560fc=Date[_0x279132(0x9fc)]();try{if(_0x740bb&&(await _0x401df5[_0x279132(0x602)](0x1),_0x740bb[_0x279132(0x4ce)]({'output':_0x279132(0x882)+_0x77d91f[_0x279132(0x2b9)]+'`\x0a\x0a','type':_0x279132(0x57d)})),'string'!=typeof _0x32fc30?.[_0x279132(0x57d)])throw new Error(_0x279132(0x622));const _0x567ef2=_0x1312a2[_0x279132(0x6fb)]['find'](_0x24af06=>_0x24af06['id']===_0x77d91f[_0x279132(0x1e7)]);if(!_0x567ef2)throw new Error(_0x279132(0x7de));const _0x37f692=_0x1312a2[_0x279132(0xa1e)][_0x279132(0x2e0)](_0x4580ba=>_0x4580ba[_0x279132(0x875)]()===_0x567ef2[_0x279132(0x6b5)]);if(!_0x37f692)throw new Error(_0x279132(0x895));const _0x35374e=_0x77d91f[_0x279132(0x319)]?.[_0x279132(0x4df)](_0x3c7773=>{const _0xa8ef29=_0x279132,_0x58d1f7=_0x38d8ea[_0xa8ef29(0x2e0)](_0x2722de=>_0x2722de[_0xa8ef29(0x19a)]===_0x3c7773['uid']);return!!_0x58d1f7&&_0x3c7773['type']===_0x1481cb[_0xa8ef29(0x3c3)]&&_0x58d1f7[_0xa8ef29(0x285)]===_0x154e5e['Answer'];})??!0x1;let _0x4ca4f9;if(_0x740bb&&_0x35374e?(await _0x401df5[_0x279132(0x602)](0x1),_0x740bb[_0x279132(0x4ce)]({'output':'\x0a\x0a','type':'prompt'}),_0x4ca4f9=await async function(_0x5ad086,_0x2a66e9,_0x32a36e,_0x38ea18,_0xd6151d,_0x25267b,_0x432258,_0x352915,_0x375b8d){const _0xbd974f=_0x279132;let _0x1b8f79='';const _0x148749=_0x375b8d[_0xbd974f(0x6fb)][_0xbd974f(0x2e0)](_0x1d23dc=>_0x1d23dc['id']===_0x25267b[_0xbd974f(0x1e7)]);if(!_0x148749)throw new Error('Model\x20not\x20found');const _0x50a048=_0x375b8d[_0xbd974f(0xa1e)][_0xbd974f(0x2e0)](_0x3ffbb3=>_0x3ffbb3[_0xbd974f(0x875)]()===_0x148749[_0xbd974f(0x6b5)]);if(!_0x50a048)throw new Error('No\x20connector\x20found\x20for\x20model');for await(const _0x47a632 of _0x50a048[_0xbd974f(0x97c)]({'type':_0xbd974f(0x57d),'prompt':_0x5a1eaa(_0x32a36e,_0x25267b),'instructions':_0xcbe93b('',_0x25267b,_0x148749),'grammar':_0x25267b[_0xbd974f(0x7df)],'temperature':_0x25267b[_0xbd974f(0x1d3)],'maxTokens':_0x25267b[_0xbd974f(0x390)],'functions':await _0x14a793(_0x5ad086,_0x2a66e9,_0x38ea18,_0xd6151d,_0x25267b,_0x432258,_0x375b8d,_0x352915),'threadId':_0x38ea18[_0xbd974f(0x9e8)]},{'model':_0x148749,'sequences':0x2}))_0x352915['emit'](_0x47a632),_0x1b8f79+=_0x47a632[_0xbd974f(0x970)];return{'type':_0xbd974f(0x57d),'output':_0x1b8f79};}(_0x2dc24f,_0x1cf2c6,_0x32fc30[_0x279132(0x57d)],_0x52313b,_0x316fa6,_0x77d91f,_0x38d8ea,_0x740bb,_0x1312a2),await _0x401df5[_0x279132(0x602)](0x1),_0x740bb[_0x279132(0x4ce)]({'output':'\x0a\x0a','type':_0x279132(0x57d)})):_0x4ca4f9=await _0x37f692[_0x279132(0x40b)]({'type':_0x279132(0x57d),'prompt':_0x5a1eaa(_0x32fc30['prompt'],_0x77d91f),'instructions':_0xcbe93b('',_0x77d91f,_0x567ef2),'grammar':_0x77d91f['grammar'],'temperature':_0x77d91f[_0x279132(0x1d3)],'maxTokens':_0x77d91f[_0x279132(0x390)],'functions':await _0x14a793(_0x2dc24f,_0x1cf2c6,_0x52313b,_0x316fa6,_0x77d91f,_0x38d8ea,_0x1312a2,_0x740bb),'threadId':_0x52313b['threadId']},{'model':_0x567ef2,'sequences':0x2}),_0x279132(0x488)!=typeof _0x4ca4f9[_0x279132(0x970)])throw new Error(_0x279132(0x804));return _0x3bb532[_0x279132(0xa5c)]({'jobType':_0xdeb8fb[_0x279132(0x6b7)],'type':_0x3cdc78[_0x279132(0x75b)],'jobId':_0x2dc24f,'blockId':_0x77d91f['id'],'agentId':_0x1cf2c6,'threadId':_0x52313b[_0x279132(0x9e8)],'traceLevel':_0x3c4020[_0x279132(0x659)],'startTime':_0x4560fc,'timestamp':Date[_0x279132(0x9fc)](),'status':'success','agentName':_0x77d91f[_0x279132(0x2b9)],'prompt':_0x32fc30[_0x279132(0x57d)],'instructions':_0x77d91f[_0x279132(0x4ae)],'result':_0x4ca4f9[_0x279132(0x970)],'inputTokens':0x0,'outputTokens':0x0}),_0x77d91f[_0x279132(0x319)]?.['some'](_0x31ce57=>_0x31ce57[_0x279132(0x285)]===_0x1481cb[_0x279132(0x470)])?(_0x93a755(_0x4ca4f9[_0x279132(0x970)],_0x77d91f,_0x38d8ea),'I\x20am\x20done'):_0x4ca4f9[_0x279132(0x970)];}catch(_0x1b191c){return console['error'](_0x1b191c),_0x3bb532['trace']({'jobType':_0xdeb8fb['Skill'],'type':_0x3cdc78[_0x279132(0x75b)],'jobId':_0x2dc24f,'blockId':_0x77d91f['id'],'agentId':_0x1cf2c6,'threadId':_0x52313b['threadId'],'traceLevel':_0x3c4020[_0x279132(0x659)],'startTime':_0x4560fc,'timestamp':Date[_0x279132(0x9fc)](),'status':'error','errorDetails':_0x55b6f8(_0x1b191c),'agentName':_0x77d91f[_0x279132(0x2b9)],'prompt':_0x32fc30?.[_0x279132(0x57d)]??'','instructions':_0x77d91f[_0x279132(0x4ae)],'result':'','inputTokens':0x0,'outputTokens':0x0}),_0x1b191c instanceof Error?_0x1b191c[_0x279132(0xa5a)]:_0x279132(0x837);}}};}function _0x4da0da(_0x2f01cf,_0x385796,_0x2e2956,_0xb62738,_0x1937ef,_0x275785,_0x285768){const _0x290db0=_0x2ad6ba,_0x2ed222=_0x290db0(0x68b)+_0x1937ef[_0x290db0(0x9b5)]+'\x20when\x20you\x20need\x20contextual\x20data\x20to\x20inform\x20your\x20response.',_0xeebefb={'queryOrPrompt':{'type':_0x406df3[_0x290db0(0x347)]['String']}};return _0x3bb532[_0x290db0(0xa5c)]({'jobType':_0xdeb8fb[_0x290db0(0xa5e)],'type':_0x457200[_0x290db0(0x463)],'jobId':_0x2f01cf,'agentId':_0x385796,'threadId':_0x2e2956,'blockId':_0x1937ef['id'],'traceLevel':_0x3c4020[_0x290db0(0x659)],'startTime':Date['now'](),'timestamp':Date[_0x290db0(0x9fc)](),'status':_0x290db0(0x190),'function':_0x45c669['GetContextQuery'],'params':_0xeebefb,'functionDescription':_0x2ed222}),{'description':_0x2ed222,'params':_0xeebefb,'callback':async _0x174348=>{const _0xcdad70=_0x290db0,_0xf79cea=Date[_0xcdad70(0x9fc)]();try{if(_0x285768&&(await _0x401df5[_0xcdad70(0x602)](0x1),_0x285768['emit']({'output':_0xcdad70(0x5a1)+_0x1937ef[_0xcdad70(0x2b9)]+_0xcdad70(0x73a)+_0x174348?.[_0xcdad70(0x9f5)]+_0xcdad70(0x65e),'type':'prompt'})),'string'!=typeof _0x174348?.[_0xcdad70(0x9f5)])throw new Error(_0xcdad70(0x6cb));const _0x14dfae=_0x1937ef[_0xcdad70(0x789)][_0xcdad70(0x2e0)](_0x86570f=>_0x86570f[_0xcdad70(0x285)]===_0x3373d7[_0xcdad70(0x46b)]),_0x281d78=await _0x932b98(_0x2f01cf,_0x2e2956,_0x174348[_0xcdad70(0x9f5)],_0x14dfae,_0x1937ef[_0xcdad70(0x789)],_0x275785);return _0xb62738[_0xcdad70(0x567)]=Array[_0xcdad70(0x854)](new Set([..._0xb62738[_0xcdad70(0x567)],..._0x281d78[_0xcdad70(0x567)]])),_0x3bb532[_0xcdad70(0xa5c)]({'jobType':_0xdeb8fb[_0xcdad70(0x799)],'type':_0x45c669[_0xcdad70(0x1ef)],'jobId':_0x2f01cf,'blockId':_0x1937ef['id'],'agentId':_0x385796,'threadId':_0x2e2956,'traceLevel':_0x3c4020[_0xcdad70(0x659)],'startTime':_0xf79cea,'timestamp':Date[_0xcdad70(0x9fc)](),'status':'success','query':_0x174348[_0xcdad70(0x9f5)],'context':_0x281d78[_0xcdad70(0x567)]??[],'inputTokens':_0x281d78[_0xcdad70(0x39f)]??0x0,'outputTokens':_0x281d78[_0xcdad70(0xa2f)]??0x0}),_0x281d78[_0xcdad70(0x970)];}catch(_0x1fd65b){return console[_0xcdad70(0x60c)](_0x1fd65b),_0x3bb532[_0xcdad70(0xa5c)]({'jobType':_0xdeb8fb[_0xcdad70(0x799)],'type':_0x45c669['GetContextResult'],'jobId':_0x2f01cf,'blockId':_0x1937ef['id'],'agentId':_0x385796,'threadId':_0x2e2956,'traceLevel':_0x3c4020[_0xcdad70(0x659)],'startTime':_0xf79cea,'timestamp':Date['now'](),'status':_0xcdad70(0x60c),'errorDetails':_0x55b6f8(_0x1fd65b),'query':_0x174348?.[_0xcdad70(0x9f5)]??'','context':[],'inputTokens':0x0,'outputTokens':0x0}),_0x1fd65b instanceof Error?_0x1fd65b[_0xcdad70(0xa5a)]:'Error\x20retrieving\x20context';}}};}function _0x55907b(_0x3b6e7f,_0x531060,_0x4d08e0,_0x564647,_0x59add1,_0x55500d){const _0x4d74be=_0x2ad6ba,_0x2776a7={};for(const _0x283b50 of _0x564647[_0x4d74be(0x223)])switch(_0x283b50[_0x4d74be(0x285)]){case _0x4d74be(0x488):case _0x4d74be(0xa63):_0x2776a7[_0x283b50['name']]={'type':_0x406df3[_0x4d74be(0x347)][_0x4d74be(0x44a)]};break;case _0x4d74be(0x822):_0x2776a7[_0x283b50[_0x4d74be(0x2b9)]]={'type':_0x406df3[_0x4d74be(0x347)]['Number']};break;case _0x4d74be(0x863):_0x2776a7[_0x283b50[_0x4d74be(0x2b9)]]={'type':_0x406df3['PromptFunctionParamsType'][_0x4d74be(0x420)]};}return _0x3bb532[_0x4d74be(0xa5c)]({'jobType':_0xdeb8fb[_0x4d74be(0xa5e)],'type':_0x457200[_0x4d74be(0x449)],'jobId':_0x3b6e7f,'agentId':_0x531060,'threadId':_0x4d08e0,'traceLevel':_0x3c4020['Info'],'startTime':Date[_0x4d74be(0x9fc)](),'timestamp':Date[_0x4d74be(0x9fc)](),'status':'success','function':_0x3cdc78['ExecuteCustomSkill'],'params':_0x2776a7,'functionDescription':_0x564647['description']}),{'description':_0x4d74be(0x4e7)+_0x564647[_0x4d74be(0x9b5)],'params':_0x2776a7,'callback':async _0x2c7087=>{const _0xd5dcde=_0x4d74be,_0x15ec92=Date[_0xd5dcde(0x9fc)]();try{if(_0x55500d&&(await _0x401df5['wait'](0x1),_0x55500d[_0xd5dcde(0x4ce)]({'output':_0xd5dcde(0x80f)+_0x564647[_0xd5dcde(0x2b9)]+'`\x0a\x0a','type':'prompt'})),!_0x2c7087)throw new Error('No\x20parameters\x20provided');for(const _0x3bc7e8 of _0x564647[_0xd5dcde(0x223)]){if(void 0x0===_0x2c7087[_0x3bc7e8[_0xd5dcde(0x2b9)]])throw new Error(_0xd5dcde(0x7c6)+_0x3bc7e8[_0xd5dcde(0x2b9)]+_0xd5dcde(0x91b));if(_0xd5dcde(0x488)===_0x3bc7e8[_0xd5dcde(0x285)]&&_0xd5dcde(0x488)!=typeof _0x2c7087[_0x3bc7e8[_0xd5dcde(0x2b9)]])throw new Error(_0xd5dcde(0x7c6)+_0x3bc7e8[_0xd5dcde(0x2b9)]+_0xd5dcde(0x5cc));if(_0xd5dcde(0x822)===_0x3bc7e8['type']&&'number'!=typeof _0x2c7087[_0x3bc7e8[_0xd5dcde(0x2b9)]])throw new Error(_0xd5dcde(0x7c6)+_0x3bc7e8[_0xd5dcde(0x2b9)]+_0xd5dcde(0x788));if('boolean'===_0x3bc7e8[_0xd5dcde(0x285)]&&_0xd5dcde(0x863)!=typeof _0x2c7087[_0x3bc7e8[_0xd5dcde(0x2b9)]])throw new Error('Parameter\x20'+_0x3bc7e8[_0xd5dcde(0x2b9)]+'\x20must\x20be\x20a\x20boolean');if('json'===_0x3bc7e8['type']&&'string'!=typeof _0x2c7087[_0x3bc7e8[_0xd5dcde(0x2b9)]])throw new Error(_0xd5dcde(0x7c6)+_0x3bc7e8[_0xd5dcde(0x2b9)]+_0xd5dcde(0x5cc));if('json'===_0x3bc7e8[_0xd5dcde(0x285)])try{_0x2c7087[_0x3bc7e8['name']]=JSON[_0xd5dcde(0x72a)](_0x2c7087[_0x3bc7e8[_0xd5dcde(0x2b9)]]);}catch{throw new Error(_0xd5dcde(0x7c6)+_0x3bc7e8['name']+_0xd5dcde(0x530));}}const _0xad32d3={};for(const _0x543626 of _0x564647[_0xd5dcde(0x1c0)]){let _0x29ac80=_0x543626[_0xd5dcde(0x393)];_0x29ac80[_0xd5dcde(0x36a)](/\$[a-zA-Z0-9]+/)&&(_0x29ac80=_0x29ac80[_0xd5dcde(0xa48)](/\$[a-zA-Z0-9]+/g,_0x3c5bae=>{const _0x16ce59=_0x3c5bae['slice'](0x1);return _0x2c7087[_0x16ce59];})),_0xad32d3[_0x543626['name']]=_0x29ac80;}const _0x10aa84=new URLSearchParams();for(const _0x52b3a3 of _0x564647[_0xd5dcde(0x245)]){let _0x37ab97=_0x52b3a3['value'];if('string'==typeof _0x37ab97&&_0x37ab97[_0xd5dcde(0x493)]('$')){const _0x3bd0bc=_0x37ab97[_0xd5dcde(0x1b2)](0x1);_0x37ab97=_0x2c7087[_0x3bd0bc];}if(_0xd5dcde(0x488)==typeof _0x37ab97&&_0x37ab97[_0xd5dcde(0x493)](_0xd5dcde(0x199))){const _0x2085e6=_0x37ab97[_0xd5dcde(0xa48)](_0xd5dcde(0x199),'');if(_0x564647['accumulated'],_0x37ab97=_0x564647[_0xd5dcde(0x42f)]?.[_0xd5dcde(0x567)]?.[_0x2085e6],_0xd5dcde(0x488)==typeof _0x37ab97&&_0x37ab97[_0xd5dcde(0x493)]('{')&&_0x37ab97['endsWith']('}'))try{_0x37ab97=JSON['parse'](_0x37ab97);}catch{}}'string'==typeof _0x37ab97&&_0x37ab97[_0xd5dcde(0x493)]('[')&&_0x37ab97[_0xd5dcde(0xa87)](']')&&(_0x37ab97=JSON[_0xd5dcde(0x72a)](_0x37ab97)),_0x10aa84['append'](_0x52b3a3[_0xd5dcde(0x2b9)],_0x37ab97);}let _0x5e6e7c=_0x564647[_0xd5dcde(0x472)];_0x10aa84['size']>0x0&&(_0x5e6e7c+='?'+_0x10aa84['toString']());let _0x938283={};for(const _0x4ca680 of _0x564647[_0xd5dcde(0x743)]){let _0x44f8fc=_0x4ca680[_0xd5dcde(0x393)];if(_0xd5dcde(0x488)==typeof _0x44f8fc&&_0x44f8fc[_0xd5dcde(0x493)]('$')){const _0x151597=_0x44f8fc[_0xd5dcde(0x1b2)](0x1);_0x44f8fc=_0x2c7087[_0x151597];}if(_0xd5dcde(0x488)==typeof _0x44f8fc&&_0x44f8fc['startsWith'](_0xd5dcde(0x199))){const _0x52f493=_0x44f8fc[_0xd5dcde(0xa48)](_0xd5dcde(0x199),'');if(_0x44f8fc=_0x564647[_0xd5dcde(0x42f)]?.[_0xd5dcde(0x567)]?.[_0x52f493],_0xd5dcde(0x488)==typeof _0x44f8fc&&_0x44f8fc[_0xd5dcde(0x493)]('{')&&_0x44f8fc[_0xd5dcde(0xa87)]('}'))try{_0x44f8fc=JSON[_0xd5dcde(0x72a)](_0x44f8fc);}catch{}}if(_0xd5dcde(0x488)==typeof _0x44f8fc&&_0x44f8fc[_0xd5dcde(0x493)]('[')&&_0x44f8fc[_0xd5dcde(0xa87)](']')&&(_0x44f8fc=JSON['parse'](_0x44f8fc)),_0xd5dcde(0x508)===_0x4ca680[_0xd5dcde(0x2b9)]){const _0x5719af=_0x44f8fc[_0xd5dcde(0x36a)](/```html(.*)```/s);_0x5719af&&(_0x44f8fc=_0x5719af[0x1]),_0x44f8fc=_0x44f8fc['replace'](/\n/g,''),_0x44f8fc=_0x44f8fc[_0xd5dcde(0xa48)](/'/g,'\x22'),_0x938283=_0x44f8fc;break;}if(-0x1===_0x4ca680[_0xd5dcde(0x2b9)][_0xd5dcde(0x82d)]('.'))_0x938283[_0x4ca680[_0xd5dcde(0x2b9)]]=_0x44f8fc;else{const [_0x5397d2,_0x296f96]=_0x4ca680[_0xd5dcde(0x2b9)][_0xd5dcde(0x1c9)]('.');_0x938283[_0x5397d2]||(_0x938283[_0x5397d2]={}),_0x938283[_0x5397d2][_0x296f96]=_0x44f8fc;}}console['log']('Executing\x20custom\x20skill:\x20'+_0x564647[_0xd5dcde(0x2b9)]+'\x20with\x20'+JSON['stringify'](_0x938283));const _0x4588bf=await fetch(_0x5e6e7c,{'method':_0x564647['endpointMethod'],'headers':_0xad32d3,'body':_0xd5dcde(0x488)==typeof _0x938283?_0x938283:JSON[_0xd5dcde(0x6a9)](_0x938283)});if(_0x4588bf['ok']){let _0x798862=await _0x4588bf[_0xd5dcde(0xa63)]();return _0x564647[_0xd5dcde(0x5c9)]&&(_0x798862=await function(_0xec2665,_0x3c4e77){return new Promise((_0x1a09ed,_0x319084)=>{const _0x22256c=a0_0x119e,_0x229d00=_0x401df5[_0x22256c(0x338)](async()=>{const _0x1f8b6a=_0x22256c;try{if(!_0xec2665[_0x1f8b6a(0x17a)]||!_0xec2665[_0x1f8b6a(0x77a)])throw new Error(_0x1f8b6a(0x39c));const _0x5c0004={};if(_0xec2665[_0x1f8b6a(0x53e)]){for(const _0x2e451d of _0xec2665[_0x1f8b6a(0x53e)])_0x5c0004[_0x2e451d[_0x1f8b6a(0x2b9)]]=_0x2e451d[_0x1f8b6a(0x393)];}const _0x16e6da=_0xec2665['asyncEndpointUrl']['replace']('@id',_0x3c4e77),_0x28fe1f=await fetch(_0x16e6da,{'method':_0xec2665['asyncEndpointMethod'],'headers':_0x5c0004});if(0xc8===_0x28fe1f[_0x1f8b6a(0x811)]){const _0x3d2450=await _0x28fe1f[_0x1f8b6a(0xa63)]();_0x229d00(),_0x1a09ed(_0x3d2450);}_0x28fe1f[_0x1f8b6a(0x811)]>=0x190&&(console[_0x1f8b6a(0x60c)](_0x28fe1f[_0x1f8b6a(0x8ab)]),_0x229d00(),_0x319084(new Error(_0x28fe1f[_0x1f8b6a(0x8ab)])));}catch(_0x2ba3a9){console[_0x1f8b6a(0x60c)](_0x2ba3a9),_0x229d00(),_0x319084(_0x2ba3a9);}},_0x217938);});}(_0x564647,_0x798862['id'])),_0xd5dcde(0x488)!=typeof _0x798862&&(_0x798862=JSON[_0xd5dcde(0x6a9)](_0x798862)),_0x3bb532[_0xd5dcde(0xa5c)]({'jobType':_0xdeb8fb['Skill'],'type':_0x3cdc78['ExecuteCustomSkill'],'jobId':_0x3b6e7f,'agentId':_0x531060,'threadId':_0x4d08e0,'blockId':_0x564647['id'],'traceLevel':_0x3c4020[_0xd5dcde(0x659)],'startTime':_0x15ec92,'timestamp':Date[_0xd5dcde(0x9fc)](),'status':_0xd5dcde(0x190),'skillName':_0x564647[_0xd5dcde(0x2b9)],'params':_0x2c7087,'result':_0x798862}),_0x564647[_0xd5dcde(0x319)]?.[_0xd5dcde(0x4df)](_0x101db8=>_0x101db8['type']===_0x1481cb[_0xd5dcde(0x470)])?(_0x93a755(_0x798862,_0x564647,_0x59add1),'{\x20\x22status\x22:\x20\x22success\x22\x20}'):_0x798862;}throw new Error(_0x4588bf[_0xd5dcde(0x8ab)]);}catch(_0xcbc5f6){console[_0xd5dcde(0x60c)](_0xcbc5f6);const _0x288a91=_0xcbc5f6 instanceof Error?_0xcbc5f6[_0xd5dcde(0xa5a)]:'Error\x20fetching\x20URL';return _0x3bb532[_0xd5dcde(0xa5c)]({'jobType':_0xdeb8fb[_0xd5dcde(0x6b7)],'type':_0x3cdc78[_0xd5dcde(0x27d)],'jobId':_0x3b6e7f,'blockId':_0x564647['id'],'threadId':_0x4d08e0,'traceLevel':_0x3c4020[_0xd5dcde(0x659)],'startTime':_0x15ec92,'timestamp':Date[_0xd5dcde(0x9fc)](),'agentId':_0x531060,'status':'error','skillName':_0x564647[_0xd5dcde(0x2b9)],'params':_0x2c7087??{},'result':_0x288a91}),_0x288a91;}}};}function _0x4f04ff(_0x1bd1bf,_0x4ca6f2,_0xe69a59,_0x3ae509,_0x5e3afe,_0x5b37b3=!0x0){const _0x485a29=_0x2ad6ba,_0x4143d9=_0x485a29(0x532),_0x522119={'url':{'type':_0x406df3[_0x485a29(0x347)][_0x485a29(0x44a)]},'page':{'type':_0x406df3[_0x485a29(0x347)][_0x485a29(0x262)]}};return _0x3bb532[_0x485a29(0xa5c)]({'jobType':_0xdeb8fb[_0x485a29(0xa5e)],'type':_0x457200[_0x485a29(0x449)],'jobId':_0x1bd1bf,'agentId':_0x4ca6f2,'threadId':_0xe69a59,'traceLevel':_0x3c4020['Info'],'startTime':Date['now'](),'timestamp':Date[_0x485a29(0x9fc)](),'status':_0x485a29(0x190),'function':_0x3cdc78[_0x485a29(0x758)],'params':_0x522119,'functionDescription':_0x4143d9}),{'description':_0x4143d9,'params':_0x522119,'callback':async _0x2bd592=>{const _0x5e3910=_0x485a29,_0x344bd9=Date[_0x5e3910(0x9fc)]();try{if(_0x5e3afe&&(await _0x401df5[_0x5e3910(0x602)](0x1),_0x5e3afe[_0x5e3910(0x4ce)]({'output':'\x0a\x0a`Fetching\x20content\x20from\x20URL\x20'+_0x2bd592?.[_0x5e3910(0x18d)]+_0x5e3910(0x65e),'type':'prompt'})),_0x5e3910(0x488)!=typeof _0x2bd592?.[_0x5e3910(0x18d)])throw new Error(_0x5e3910(0x6ce));const _0x282668=_0x2bd592[_0x5e3910(0x18d)];if([_0x5e3910(0x557),'.doc',_0x5e3910(0x332),_0x5e3910(0x7ec),_0x5e3910(0xa16),'.xls',_0x5e3910(0x18b)][_0x5e3910(0x4df)](_0x515a10=>_0x282668[_0x5e3910(0xa87)](_0x515a10)))throw new Error('Cannot\x20fetch\x20content\x20from\x20this\x20type\x20of\x20file');const _0x7b51bf=await fetch(_0x282668),_0x1f0156=await _0x7b51bf[_0x5e3910(0x303)]();let _0x61a8a4=_0x1f0156;if(_0x5b37b3){const _0x2e5367=_0x1f0156[_0x5e3910(0x36a)](/<body[^>]*>((.|[\n\r])*)<\/body>/i),_0x264b3e=_0x2e5367?_0x2e5367[0x1]:_0x1f0156,_0x2733cd=_0x264b3e[_0x5e3910(0xa48)](/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,'')[_0x5e3910(0xa48)](/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,'')['replace'](/<br\s*\/?>/gi,'\x20')['replace'](/&nbsp;/g,'\x20');_0x61a8a4=_0x2733cd[_0x5e3910(0xa48)](/<\/?[^>]+(>|$)/g,'')[_0x5e3910(0xa48)](/\s\s+/g,'\x20')[_0x5e3910(0x387)]();}const _0x8ed796=_0x5e3910(0x822)==typeof _0x2bd592['page']?_0x2bd592[_0x5e3910(0x22f)]:0x1,_0x353a47=Math['ceil'](_0x61a8a4['length']/_0x424fb1);return _0x61a8a4[_0x5e3910(0x8e0)]>_0x424fb1&&(_0x61a8a4=_0x61a8a4[_0x5e3910(0x95e)]((_0x8ed796-0x1)*_0x424fb1,(_0x8ed796-0x1)*_0x424fb1+_0x424fb1)+'More\x20content\x20available\x20on\x20page\x20'+(_0x8ed796+0x1)+_0x5e3910(0x59a)+_0x353a47+'.'),_0x3bb532[_0x5e3910(0xa5c)]({'jobType':_0xdeb8fb[_0x5e3910(0x6b7)],'type':_0x3cdc78['FetchUrl'],'jobId':_0x1bd1bf,'agentId':_0x4ca6f2,'threadId':_0xe69a59,'blockId':_0x3ae509,'traceLevel':_0x3c4020[_0x5e3910(0x659)],'startTime':_0x344bd9,'timestamp':Date['now'](),'status':_0x7b51bf['ok']?_0x5e3910(0x190):'error','url':_0x2bd592[_0x5e3910(0x18d)],'page':_0x8ed796,'totalPages':_0x353a47,'response':_0x61a8a4}),_0x61a8a4;}catch(_0x429cf6){console[_0x5e3910(0x60c)](_0x429cf6);const _0x2ce7cc=_0x429cf6 instanceof Error?_0x429cf6[_0x5e3910(0xa5a)]:_0x5e3910(0x581);return _0x3bb532[_0x5e3910(0xa5c)]({'jobType':_0xdeb8fb[_0x5e3910(0x6b7)],'type':_0x3cdc78[_0x5e3910(0x758)],'jobId':_0x1bd1bf,'blockId':_0x3ae509,'threadId':_0xe69a59,'traceLevel':_0x3c4020[_0x5e3910(0x659)],'startTime':_0x344bd9,'timestamp':Date[_0x5e3910(0x9fc)](),'agentId':_0x4ca6f2,'status':'error','errorDetails':_0x55b6f8(_0x429cf6),'url':_0x2bd592?.[_0x5e3910(0x18d)]??'','page':0x0,'totalPages':0x0,'response':_0x2ce7cc}),_0x2ce7cc;}}};}async function _0x14a793(_0x5164b9,_0x21a0c1,_0x4fec60,_0x4ab807,_0x1f8c5d,_0x10f497,_0x1b5148,_0x3f12f1){const _0x21d88a=_0x2ad6ba,_0x116cc5=new Map(),_0x5aba2e=_0x10f497[_0x21d88a(0x1bc)](_0x162cc8=>_0x162cc8[_0x21d88a(0x319)]?.[_0x21d88a(0x2e0)](_0x59a0e6=>_0x59a0e6[_0x21d88a(0x19a)]===_0x1f8c5d[_0x21d88a(0x19a)]&&(_0x59a0e6[_0x21d88a(0x285)]===_0x1481cb[_0x21d88a(0x799)]||_0x59a0e6['type']===_0x1481cb[_0x21d88a(0x6b7)])));for(const _0x400c40 of _0x5aba2e)_0x400c40[_0x21d88a(0x285)]===_0x154e5e[_0x21d88a(0x799)]||_0x400c40[_0x21d88a(0x285)]===_0x154e5e[_0x21d88a(0x176)]?_0x116cc5[_0x21d88a(0x50f)](_0x21d88a(0x9fd)+_0x400c40[_0x21d88a(0x2b9)][_0x21d88a(0xa48)](/[^a-zA-Z]/g,''),_0x4da0da(_0x5164b9,_0x21a0c1,_0x4fec60['threadId'],_0x4ab807,_0x400c40,_0x1b5148,_0x3f12f1)):_0x400c40['type']===_0x154e5e[_0x21d88a(0x4f7)]||_0x400c40[_0x21d88a(0x285)]===_0x154e5e['Agent']?_0x116cc5[_0x21d88a(0x50f)](_0x21d88a(0x62b)+_0x400c40[_0x21d88a(0x2b9)]['replace'](/[^a-zA-Z]/g,''),_0x299976(_0x5164b9,_0x21a0c1,_0x4fec60,_0x4ab807,_0x400c40,_0x10f497,_0x1b5148,_0x3f12f1)):_0x400c40[_0x21d88a(0x285)]===_0x154e5e['CustomSkill']?_0x116cc5[_0x21d88a(0x50f)](_0x400c40['name']['replace'](/[^a-zA-Z]/g,''),_0x55907b(_0x5164b9,_0x21a0c1,_0x4fec60[_0x21d88a(0x9e8)],_0x400c40,_0x10f497,_0x3f12f1)):_0x116cc5['set'](_0x1b98e9(_0x400c40),await _0x4a210f(_0x5164b9,_0x21a0c1,_0x4fec60,_0x4ab807,_0x400c40,_0x10f497,_0x1b5148,_0x3f12f1));return _0x116cc5;}function _0x1b98e9(_0x23ed16){const _0x41987e=_0x2ad6ba;switch(_0x23ed16[_0x41987e(0x285)]){case _0x154e5e[_0x41987e(0x367)]:return _0x41987e(0x4fa);case _0x154e5e[_0x41987e(0x727)]:return'executeJavascriptCodeSnippet';case _0x154e5e[_0x41987e(0x656)]:return _0x41987e(0x267);case _0x154e5e[_0x41987e(0x927)]:return _0x41987e(0x43e);case _0x154e5e[_0x41987e(0x7aa)]:case _0x154e5e['WebScraperRaw']:return _0x41987e(0x2b8);case _0x154e5e[_0x41987e(0x252)]:return _0x41987e(0x566);}throw new Error(_0x41987e(0x2d6));}async function _0x4a210f(_0x13bddb,_0x334fa6,_0x59f9a4,_0xfb09a5,_0x1cbd57,_0x53dfa2,_0x1c38a0,_0x43ce06){const _0xe1d047=_0x2ad6ba;switch(_0x1cbd57[_0xe1d047(0x285)]){case _0x154e5e[_0xe1d047(0x367)]:return function(_0x25b5c2,_0x1f3667,_0x21e027,_0x301903,_0x1d075b,_0x4b5d2c,_0x2c6e08){const _0x49e494=_0xe1d047,_0x724c53=_0x49e494(0x2ff),_0x42f637={'query':{'type':_0x406df3['PromptFunctionParamsType'][_0x49e494(0x44a)]}};return _0x3bb532[_0x49e494(0xa5c)]({'jobType':_0xdeb8fb[_0x49e494(0xa5e)],'type':_0x457200['LoadSkillFunction'],'jobId':_0x25b5c2,'agentId':_0x1f3667,'threadId':_0x21e027,'traceLevel':_0x3c4020['Info'],'startTime':Date['now'](),'timestamp':Date[_0x49e494(0x9fc)](),'status':_0x49e494(0x190),'function':_0x3cdc78[_0x49e494(0x4be)],'params':_0x42f637,'functionDescription':_0x724c53}),{'description':_0x724c53,'params':_0x42f637,'callback':async _0x5f18b8=>{const _0x1feefc=_0x49e494,_0x148464=Date[_0x1feefc(0x9fc)]();try{if(_0x2c6e08&&(await _0x401df5[_0x1feefc(0x602)](0x1),_0x2c6e08[_0x1feefc(0x4ce)]({'output':_0x1feefc(0x6b2)+_0x5f18b8?.[_0x1feefc(0xab1)]+'`\x0a\x0a','type':_0x1feefc(0x57d)})),!_0x4b5d2c[_0x1feefc(0x92b)])throw new Error(_0x1feefc(0x741));if(_0x1feefc(0x488)!=typeof _0x5f18b8?.[_0x1feefc(0xab1)])throw new Error(_0x1feefc(0x6cb));const _0x48acfa=await _0x4b5d2c[_0x1feefc(0x92b)][_0x1feefc(0xa96)](_0x5f18b8['query'],_0x1d075b);return _0x3bb532[_0x1feefc(0xa5c)]({'jobType':_0xdeb8fb['Skill'],'type':_0x3cdc78[_0x1feefc(0x4be)],'jobId':_0x25b5c2,'agentId':_0x1f3667,'threadId':_0x21e027,'blockId':_0x301903,'traceLevel':_0x3c4020[_0x1feefc(0x659)],'startTime':_0x148464,'timestamp':Date[_0x1feefc(0x9fc)](),'status':_0x1feefc(0x190),'query':_0x5f18b8[_0x1feefc(0xab1)],'results':_0x48acfa}),_0x48acfa;}catch(_0x4b91e6){return console['error'](_0x4b91e6),_0x3bb532[_0x1feefc(0xa5c)]({'jobType':_0xdeb8fb['Skill'],'type':_0x3cdc78[_0x1feefc(0x4be)],'jobId':_0x25b5c2,'blockId':_0x301903,'traceLevel':_0x3c4020[_0x1feefc(0x659)],'startTime':_0x148464,'timestamp':Date[_0x1feefc(0x9fc)](),'status':'error','errorDetails':_0x55b6f8(_0x4b91e6),'agentId':_0x1f3667,'threadId':_0x21e027,'query':_0x5f18b8?.[_0x1feefc(0xab1)]??'','results':_0x1feefc(0x8a4)}),_0x4b91e6 instanceof Error?_0x4b91e6[_0x1feefc(0xa5a)]:_0x1feefc(0x8a4);}}};}(_0x13bddb,_0x334fa6,_0x59f9a4[_0xe1d047(0x9e8)],_0x1cbd57['id'],_0x1c38a0[_0xe1d047(0x3cb)],_0x1c38a0,_0x43ce06);case _0x154e5e[_0xe1d047(0x727)]:return function(_0x4cf9e3,_0x6ddcbe,_0x2a91eb,_0x56e71e,_0x548dea){const _0x4dba54=_0xe1d047,_0x4fa41a=_0x4dba54(0x72b),_0x5c56c9={'code':{'type':_0x406df3[_0x4dba54(0x347)]['String']}};return _0x3bb532[_0x4dba54(0xa5c)]({'jobType':_0xdeb8fb[_0x4dba54(0xa5e)],'type':_0x457200[_0x4dba54(0x449)],'jobId':_0x4cf9e3,'agentId':_0x6ddcbe,'threadId':_0x2a91eb,'traceLevel':_0x3c4020['Info'],'startTime':Date[_0x4dba54(0x9fc)](),'timestamp':Date[_0x4dba54(0x9fc)](),'status':_0x4dba54(0x190),'function':_0x3cdc78['ExecuteCode'],'params':_0x5c56c9,'functionDescription':_0x4fa41a}),{'description':_0x4fa41a,'params':_0x5c56c9,'callback':async _0x45e00e=>{const _0x38be9b=_0x4dba54,_0xc5e5d2=Date['now']();try{if(_0x548dea&&(await _0x401df5['wait'](0x1),_0x548dea['emit']({'output':_0x38be9b(0x72e),'type':_0x38be9b(0x57d)})),_0x38be9b(0x488)!=typeof _0x45e00e?.['code'])throw new Error(_0x38be9b(0x964));const _0x430fa0=Function(''+_0x45e00e?.[_0x38be9b(0x4f6)])();let _0x45e52c='';try{_0x45e52c=JSON[_0x38be9b(0x6a9)](_0x430fa0);}catch{_0x45e52c=_0x430fa0[_0x38be9b(0x8d9)]();}return _0x3bb532[_0x38be9b(0xa5c)]({'jobType':_0xdeb8fb[_0x38be9b(0x6b7)],'type':_0x3cdc78[_0x38be9b(0x688)],'agentId':_0x6ddcbe,'threadId':_0x2a91eb,'jobId':_0x4cf9e3,'blockId':_0x56e71e,'traceLevel':_0x3c4020[_0x38be9b(0x659)],'startTime':_0xc5e5d2,'timestamp':Date['now'](),'status':_0x38be9b(0x190),'code':_0x45e00e[_0x38be9b(0x4f6)],'result':_0x45e52c}),_0x430fa0;}catch(_0x3224f8){return console[_0x38be9b(0x60c)](_0x3224f8),_0x3bb532[_0x38be9b(0xa5c)]({'jobType':_0xdeb8fb[_0x38be9b(0x6b7)],'type':_0x3cdc78[_0x38be9b(0x688)],'jobId':_0x4cf9e3,'blockId':_0x56e71e,'traceLevel':_0x3c4020[_0x38be9b(0x659)],'startTime':_0xc5e5d2,'timestamp':Date[_0x38be9b(0x9fc)](),'status':'error','errorDetails':_0x55b6f8(_0x3224f8),'agentId':_0x6ddcbe,'threadId':_0x2a91eb,'code':_0x45e00e?.['code']??'','result':_0x38be9b(0x75d)}),_0x3224f8 instanceof Error?_0x3224f8['message']:_0x38be9b(0x75d);}}};}(_0x13bddb,_0x334fa6,_0x59f9a4['threadId'],_0x1cbd57['id'],_0x43ce06);case _0x154e5e[_0xe1d047(0x656)]:return async function(_0x26b879,_0x248315,_0xaf3fb9,_0x1e7871,_0xd30a7f,_0x2b2a4a,_0x2903ac,_0x337d91){const _0x582d4b=_0xe1d047;if(!_0xd30a7f['accumulated']?.['files']||0x0===_0xd30a7f[_0x582d4b(0x42f)][_0x582d4b(0x2dc)]['length'])throw new Error(_0x582d4b(0x9a6));if(_0xd30a7f['accumulated'][_0x582d4b(0x2dc)]['length']>0x1)throw new Error('Multiple\x20files\x20found');const _0x10eb98=[',',';','\x09','|',':'],_0x3b3741=['\x22','\x27'],_0x4dd340=await _0xd30a7f['accumulated']['files'][0x0][_0x582d4b(0x303)](),_0x5f117e=_0x4dd340[_0x582d4b(0x1c9)]('\x0a')[0x0];let _0x6bcc1c=null,_0x50e8f6=null,_0xff4058=0x0;for(const _0x20b392 of _0x10eb98){const _0x2f945b=(_0x5f117e[_0x582d4b(0x36a)](new RegExp('\x5c'+_0x20b392,'g'))||[])['length'];_0x2f945b>_0xff4058&&(_0xff4058=_0x2f945b,_0x6bcc1c=_0x20b392);}_0x6bcc1c||(_0x6bcc1c=','),_0xff4058=0x0;for(const _0x267346 of _0x3b3741){const _0x453f7d=(_0x5f117e['match'](new RegExp('\x5c'+_0x267346,'g'))||[])['length'];_0x453f7d>_0xff4058&&(_0xff4058=_0x453f7d,_0x50e8f6=_0x267346);}_0x50e8f6||(_0x50e8f6='\x22');const _0x3e4257=_0x582d4b(0x940)+_0x5f117e['split'](_0x6bcc1c)[_0x582d4b(0x3a2)](',\x20'),_0x4501a3={'query':{'type':_0x406df3[_0x582d4b(0x347)][_0x582d4b(0x44a)]}};return _0x3bb532[_0x582d4b(0xa5c)]({'jobType':_0xdeb8fb[_0x582d4b(0xa5e)],'type':_0x457200[_0x582d4b(0x449)],'jobId':_0x26b879,'agentId':_0x248315,'threadId':_0xaf3fb9[_0x582d4b(0x9e8)],'traceLevel':_0x3c4020[_0x582d4b(0x659)],'startTime':Date[_0x582d4b(0x9fc)](),'timestamp':Date[_0x582d4b(0x9fc)](),'status':'success','function':_0x3cdc78['QueryFile'],'params':_0x4501a3,'functionDescription':_0x3e4257}),{'description':_0x3e4257,'params':_0x4501a3,'callback':async _0x2a3dc5=>{const _0x265bdc=_0x582d4b,_0x549daf=Date[_0x265bdc(0x9fc)]();try{if(_0x337d91&&(await _0x401df5[_0x265bdc(0x602)](0x1),_0x337d91[_0x265bdc(0x4ce)]({'output':_0x265bdc(0x987),'type':'prompt'})),!_0x2903ac[_0x265bdc(0x555)])throw new Error(_0x265bdc(0x5f4));if('string'!=typeof _0x2a3dc5?.[_0x265bdc(0xab1)])throw new Error(_0x265bdc(0x6cb));if(!_0x2a3dc5[_0x265bdc(0xab1)][_0x265bdc(0x205)](_0x265bdc(0x798)))throw new Error(_0x265bdc(0x35f));const _0x212709=await _0x2903ac['queryFileConnector'][_0x265bdc(0x3e0)](_0x4dd340,_0x2a3dc5[_0x265bdc(0xab1)],{'headers':!0x0,'quote':_0x50e8f6,'separator':_0x6bcc1c});if(_0x3bb532[_0x265bdc(0xa5c)]({'jobType':_0xdeb8fb[_0x265bdc(0x6b7)],'type':_0x3cdc78[_0x265bdc(0x656)],'jobId':_0x26b879,'agentId':_0x248315,'threadId':_0xaf3fb9[_0x265bdc(0x9e8)],'blockId':_0xd30a7f['id'],'traceLevel':_0x3c4020[_0x265bdc(0x659)],'startTime':_0x549daf,'timestamp':Date[_0x265bdc(0x9fc)](),'status':_0x265bdc(0x190),'query':_0x2a3dc5['query'],'results':_0x212709[_0x265bdc(0x95e)](0x0,0x3e8)}),_0xd30a7f[_0x265bdc(0x319)]?.[_0x265bdc(0x4df)](_0x895776=>_0x895776[_0x265bdc(0x285)]===_0x1481cb[_0x265bdc(0x87a)])){const _0x15aa37=JSON['parse'](_0x212709);let _0xf9700d='';if(_0x15aa37[_0x265bdc(0x8e0)]>0x0){const _0x464408=Object[_0x265bdc(0xa6a)](_0x15aa37[0x0]);_0xf9700d=_0x464408[_0x265bdc(0x607)](_0x4fe87f=>'\x22'+_0x4fe87f+'\x22')[_0x265bdc(0x3a2)](',')+'\x0a';for(const _0x4e6e7f of _0x15aa37)_0xf9700d+=_0x464408['map'](_0x96b545=>'\x22'+_0x4e6e7f[_0x96b545]+'\x22')[_0x265bdc(0x3a2)](',')+'\x0a';}const _0x53bdc9=new File([_0xf9700d],_0x265bdc(0x41c),{'type':'text/csv'});await _0x1d52ad(_0x26b879,[_0x53bdc9],_0xaf3fb9,_0x1e7871,_0xd30a7f,_0x2b2a4a,_0x2903ac,_0x337d91);}return _0x212709['substring'](0x0,0x3e8);}catch(_0x18f844){return console[_0x265bdc(0x60c)](_0x18f844),_0x3bb532[_0x265bdc(0xa5c)]({'jobType':_0xdeb8fb[_0x265bdc(0x6b7)],'type':_0x3cdc78[_0x265bdc(0x656)],'jobId':_0x26b879,'blockId':_0xd30a7f['id'],'traceLevel':_0x3c4020[_0x265bdc(0x659)],'startTime':_0x549daf,'timestamp':Date[_0x265bdc(0x9fc)](),'status':_0x265bdc(0x60c),'errorDetails':_0x55b6f8(_0x18f844),'agentId':_0x248315,'threadId':_0xaf3fb9[_0x265bdc(0x9e8)],'query':_0x2a3dc5?.[_0x265bdc(0xab1)]??'','results':'Error\x20searching'}),_0x18f844 instanceof Error?_0x18f844[_0x265bdc(0xa5a)]:_0x265bdc(0xa80);}}};}(_0x13bddb,_0x334fa6,_0x59f9a4,_0xfb09a5,_0x1cbd57,_0x53dfa2,_0x1c38a0,_0x43ce06);case _0x154e5e[_0xe1d047(0x927)]:return function(_0x5dc7fd,_0x10e4f2,_0x2c43cf,_0x5b9e29,_0xfd5db5,_0x5a4d6d,_0x2286f8){const _0x53d930=_0xe1d047,_0xd52386=_0x53d930(0x674),_0xeb7b24={'query':{'type':_0x406df3[_0x53d930(0x347)][_0x53d930(0x44a)]}};return _0x3bb532['trace']({'jobType':_0xdeb8fb[_0x53d930(0xa5e)],'type':_0x457200[_0x53d930(0x449)],'jobId':_0x5dc7fd,'agentId':_0x10e4f2,'threadId':_0x2c43cf,'traceLevel':_0x3c4020[_0x53d930(0x659)],'startTime':Date[_0x53d930(0x9fc)](),'timestamp':Date['now'](),'status':_0x53d930(0x190),'function':_0x3cdc78[_0x53d930(0x1ba)],'params':_0xeb7b24,'functionDescription':_0xd52386}),{'description':_0xd52386,'params':_0xeb7b24,'callback':async _0x1ec53f=>{const _0x4f4477=_0x53d930,_0x5509f2=Date['now']();try{if(_0x2286f8&&(await _0x401df5['wait'](0x1),_0x2286f8[_0x4f4477(0x4ce)]({'output':'\x0a\x0a`Searching\x20on\x20Google\x20for\x20'+_0x1ec53f?.[_0x4f4477(0xab1)]+_0x4f4477(0x65e),'type':'prompt'})),!_0x5a4d6d[_0x4f4477(0x79d)])throw new Error(_0x4f4477(0x2b7));if('string'!=typeof _0x1ec53f?.[_0x4f4477(0xab1)])throw new Error(_0x4f4477(0x6cb));const _0x47eee8=await _0x5a4d6d[_0x4f4477(0x79d)][_0x4f4477(0xa96)](_0x1ec53f['query'],_0xfd5db5,_0x582331['google']['searchEngineId']);let _0x471d4c='';for(const _0x4a1c56 of _0x47eee8)_0x471d4c+=_0x4a1c56[_0x4f4477(0x23c)]+_0x4f4477(0xa0b)+_0x4a1c56['url']+'\x0a'+_0x4a1c56[_0x4f4477(0x4b0)]+'\x0a\x0a';return _0x3bb532[_0x4f4477(0xa5c)]({'jobType':_0xdeb8fb[_0x4f4477(0x6b7)],'type':_0x3cdc78[_0x4f4477(0x1ba)],'jobId':_0x5dc7fd,'agentId':_0x10e4f2,'threadId':_0x2c43cf,'blockId':_0x5b9e29,'traceLevel':_0x3c4020[_0x4f4477(0x659)],'startTime':_0x5509f2,'timestamp':Date[_0x4f4477(0x9fc)](),'status':_0x4f4477(0x190),'query':_0x1ec53f[_0x4f4477(0xab1)],'results':_0x471d4c}),_0x471d4c;}catch(_0x3c2c10){return console[_0x4f4477(0x60c)](_0x3c2c10),_0x3bb532[_0x4f4477(0xa5c)]({'jobType':_0xdeb8fb[_0x4f4477(0x6b7)],'type':_0x3cdc78['SearchGoogle'],'jobId':_0x5dc7fd,'blockId':_0x5b9e29,'traceLevel':_0x3c4020[_0x4f4477(0x659)],'startTime':_0x5509f2,'timestamp':Date['now'](),'status':_0x4f4477(0x60c),'errorDetails':_0x55b6f8(_0x3c2c10),'agentId':_0x10e4f2,'threadId':_0x2c43cf,'query':_0x1ec53f?.[_0x4f4477(0xab1)]??'','results':'Error\x20searching'}),_0x3c2c10 instanceof Error?_0x3c2c10[_0x4f4477(0xa5a)]:_0x4f4477(0x8a4);}}};}(_0x13bddb,_0x334fa6,_0x59f9a4['threadId'],_0x1cbd57['id'],_0x1c38a0[_0xe1d047(0x348)],_0x1c38a0,_0x43ce06);case _0x154e5e[_0xe1d047(0x7aa)]:return _0x4f04ff(_0x13bddb,_0x334fa6,_0x59f9a4[_0xe1d047(0x9e8)],_0x1cbd57['id'],_0x43ce06);case _0x154e5e[_0xe1d047(0x610)]:return _0x4f04ff(_0x13bddb,_0x334fa6,_0x59f9a4[_0xe1d047(0x9e8)],_0x1cbd57['id'],_0x43ce06,!0x1);case _0x154e5e[_0xe1d047(0x252)]:return async function(_0x508754,_0x58470b,_0x3f067a,_0xb63710,_0x1b15f2,_0x39175d,_0x41d515,_0x1402fd){const _0x557dd7=_0xe1d047,_0x50b19d='Write\x20text\x20data\x20to\x20a\x20file.',_0x209520={'text':{'type':_0x406df3[_0x557dd7(0x347)][_0x557dd7(0x44a)]}};return _0x3bb532['trace']({'jobType':_0xdeb8fb['JobContext'],'type':_0x457200[_0x557dd7(0x449)],'jobId':_0x508754,'agentId':_0x58470b,'threadId':_0x3f067a['threadId'],'traceLevel':_0x3c4020[_0x557dd7(0x659)],'startTime':Date[_0x557dd7(0x9fc)](),'timestamp':Date['now'](),'status':_0x557dd7(0x190),'function':_0x3cdc78['WriteFile'],'params':_0x209520,'functionDescription':_0x50b19d}),{'description':_0x50b19d,'params':_0x209520,'callback':async _0xf6c50b=>{const _0x3c6af7=_0x557dd7,_0xb07174=Date[_0x3c6af7(0x9fc)]();try{if(_0x1402fd&&(await _0x401df5[_0x3c6af7(0x602)](0x1),_0x1402fd[_0x3c6af7(0x4ce)]({'output':_0x3c6af7(0x1d6),'type':'prompt'})),'string'!=typeof _0xf6c50b?.[_0x3c6af7(0x303)])throw new Error(_0x3c6af7(0x7f8));if(_0x3bb532[_0x3c6af7(0xa5c)]({'jobType':_0xdeb8fb[_0x3c6af7(0x6b7)],'type':_0x3cdc78[_0x3c6af7(0x252)],'jobId':_0x508754,'agentId':_0x58470b,'threadId':_0x3f067a[_0x3c6af7(0x9e8)],'blockId':_0x1b15f2['id'],'traceLevel':_0x3c4020[_0x3c6af7(0x659)],'startTime':_0xb07174,'timestamp':Date[_0x3c6af7(0x9fc)](),'status':_0x3c6af7(0x190),'content':_0xf6c50b[_0x3c6af7(0x303)]}),_0x1b15f2['links']?.['some'](_0x1a1084=>_0x1a1084[_0x3c6af7(0x285)]===_0x1481cb[_0x3c6af7(0x87a)])){const _0x5eb338=new File([_0xf6c50b[_0x3c6af7(0x303)]],_0x3c6af7(0x501),{'type':_0x3c6af7(0x194)});await _0x1d52ad(_0x508754,[_0x5eb338],_0x3f067a,_0xb63710,_0x1b15f2,_0x39175d,_0x41d515,_0x1402fd);}return _0x3c6af7(0x52b);}catch(_0x1ccce1){return console[_0x3c6af7(0x60c)](_0x1ccce1),_0x3bb532[_0x3c6af7(0xa5c)]({'jobType':_0xdeb8fb[_0x3c6af7(0x6b7)],'type':_0x3cdc78[_0x3c6af7(0x252)],'jobId':_0x508754,'blockId':_0x1b15f2['id'],'traceLevel':_0x3c4020[_0x3c6af7(0x659)],'startTime':_0xb07174,'timestamp':Date['now'](),'status':'error','errorDetails':_0x55b6f8(_0x1ccce1),'agentId':_0x58470b,'threadId':_0x3f067a[_0x3c6af7(0x9e8)],'content':_0x3c6af7(0x488)==typeof _0xf6c50b?.[_0x3c6af7(0x303)]?_0xf6c50b[_0x3c6af7(0x303)]:''}),_0x1ccce1 instanceof Error?_0x1ccce1['message']:'Error\x20fetching\x20file';}}};}(_0x13bddb,_0x334fa6,_0x59f9a4,_0xfb09a5,_0x1cbd57,_0x53dfa2,_0x1c38a0,_0x43ce06);}throw new Error('Unknown\x20skill\x20type');}function _0x55b6f8(_0x1a6ce5){const _0x255c87=_0x2ad6ba;try{return JSON['stringify'](_0x1a6ce5);}catch(_0x43abca){return _0x1a6ce5 instanceof Error?_0x1a6ce5[_0x255c87(0x8d9)]():'Error\x20fetching\x20context';}}async function _0x1e8a73(_0x288c3c,_0x2521c9,_0x3512dc,_0x87d2c6,_0x5d9120,_0x1758a5,_0x2b8991,_0x5466d4,_0x2d87ad){const _0x4be975=_0x2ad6ba;if(_0x1758a5['accumulated']||(_0x1758a5['accumulated']={}),_0x2521c9===_0x1481cb[_0x4be975(0x3c3)]&&_0x4be975(0x488)==typeof _0x3512dc&&(_0x1758a5[_0x4be975(0x42f)]['prompt']=_0x3512dc),_0x1758a5[_0x4be975(0x7e8)]=_0x1758a5[_0x4be975(0x7e8)]?_0x1758a5[_0x4be975(0x7e8)]+0x1:0x1,_0x545219(_0x1758a5,_0x2b8991)>_0x1758a5['timesCalled'])return;if(_0xe8f382[_0x4be975(0x849)](_0x4be975(0x851)+_0x1758a5['name'],_0x1758a5[_0x4be975(0x7e8)]),!_0x1758a5[_0x4be975(0x42f)][_0x4be975(0x57d)])throw new Error(_0x4be975(0x440)+_0x1758a5[_0x4be975(0x2b9)]);const _0x598d26=_0x5466d4[_0x4be975(0x6fb)]['find'](_0x2eceda=>_0x2eceda['id']===_0x1758a5[_0x4be975(0x1e7)]);if(!_0x598d26)throw new Error(_0x4be975(0x7de));if(!_0x5466d4[_0x4be975(0xa1e)][_0x4be975(0x2e0)](_0x4e19a6=>_0x4e19a6['getEngineType']()===_0x598d26['engineType']))throw new Error(_0x4be975(0x895));_0x2d87ad&&_0x2d87ad[_0x4be975(0x4ce)]({'output':_0x4be975(0x882)+_0x1758a5[_0x4be975(0x2b9)]+'`\x0a\x0a','type':_0x4be975(0x57d)});const _0x3806ac=Date[_0x4be975(0x9fc)](),_0x37b01b=(0x0,_0x145036['v4'])(),_0xed958d=_0x2d87ad?await async function(_0x356093,_0x4ee4de,_0x23394e,_0x2bf5d0,_0x594d0c,_0x4d24ca,_0x286d74,_0x31ce64){const _0x319c1a=_0x4be975,_0x1e4d77=_0x31ce64['models'][_0x319c1a(0x2e0)](_0x4d2837=>_0x4d2837['id']===_0x594d0c[_0x319c1a(0x1e7)]);if(!_0x1e4d77)throw new Error(_0x319c1a(0x7de));const _0x3f21e9=_0x31ce64['generativeAIWorkerConnectors'][_0x319c1a(0x2e0)](_0x7be7ba=>_0x7be7ba[_0x319c1a(0x875)]()===_0x1e4d77[_0x319c1a(0x6b5)]);if(!_0x3f21e9)throw new Error(_0x319c1a(0x895));if(!_0x594d0c[_0x319c1a(0x42f)]||!_0x594d0c[_0x319c1a(0x42f)][_0x319c1a(0x57d)])throw new Error(_0x319c1a(0x916));const _0x5ddc55={'type':_0x319c1a(0x57d),'output':''},_0x5d5418=await _0x14a793(_0x356093,_0x4ee4de,_0x23394e,_0x2bf5d0,_0x594d0c,_0x4d24ca,_0x31ce64,_0x286d74);for await(const _0x4b11f3 of _0x3f21e9[_0x319c1a(0x97c)]({'type':_0x23394e['type'],'prompt':_0x5a1eaa(_0x594d0c['accumulated'][_0x319c1a(0x57d)],_0x594d0c),'instructions':_0xcbe93b(_0x23394e[_0x319c1a(0x4ae)]??'',_0x594d0c,_0x1e4d77),'grammar':_0x594d0c['grammar'],'temperature':_0x594d0c[_0x319c1a(0x1d3)],'maxTokens':_0x594d0c[_0x319c1a(0x390)],'history':_0x23394e[_0x319c1a(0x286)],'functions':_0x5d5418,'threadId':_0x23394e[_0x319c1a(0x9e8)]},{'model':_0x1e4d77,'sequences':Array[_0x319c1a(0x854)](_0x5d5418[_0x319c1a(0xa6a)]())[_0x319c1a(0x4df)](_0xa73fad=>_0xa73fad[_0x319c1a(0x493)]('executeAgent'))?0x2:0x1}))_0x594d0c['links']&&_0x594d0c[_0x319c1a(0x319)]['some'](_0x28082f=>{const _0xc058c0=_0x319c1a,_0x22d9e2=_0x4d24ca[_0xc058c0(0x2e0)](_0x4b6c98=>_0x4b6c98['uid']===_0x28082f['uid']);return!!_0x22d9e2&&_0x28082f[_0xc058c0(0x285)]===_0x1481cb[_0xc058c0(0x3c3)]&&_0x22d9e2[_0xc058c0(0x285)]===_0x154e5e[_0xc058c0(0x865)];})&&_0x286d74[_0x319c1a(0x4ce)](_0x4b11f3),_0x319c1a(0x488)==typeof _0x5ddc55['output']&&_0x319c1a(0x488)==typeof _0x4b11f3[_0x319c1a(0x970)]&&(_0x5ddc55[_0x319c1a(0x970)]+=_0x4b11f3[_0x319c1a(0x970)]),_0x5ddc55[_0x319c1a(0x39f)]=_0x4b11f3[_0x319c1a(0x39f)],_0x5ddc55['outputTokens']=_0x4b11f3[_0x319c1a(0xa2f)];return _0x5ddc55;}(_0x288c3c,_0x37b01b,_0x87d2c6,_0x5d9120,_0x1758a5,_0x2b8991,_0x2d87ad,_0x5466d4):await async function(_0x1e9cdb,_0x93a164,_0x5b19e1,_0x456bf1,_0x16d83b,_0x33e945,_0x561121){const _0x16b901=_0x4be975,_0xb6df01=_0x561121[_0x16b901(0x6fb)][_0x16b901(0x2e0)](_0x2731bb=>_0x2731bb['id']===_0x16d83b[_0x16b901(0x1e7)]);if(!_0xb6df01)throw new Error(_0x16b901(0x7de));const _0x3093fa=_0x561121[_0x16b901(0xa1e)][_0x16b901(0x2e0)](_0x4079fb=>_0x4079fb[_0x16b901(0x875)]()===_0xb6df01[_0x16b901(0x6b5)]);if(!_0x3093fa)throw new Error(_0x16b901(0x895));if(!_0x16d83b[_0x16b901(0x42f)]||!_0x16d83b['accumulated'][_0x16b901(0x57d)])throw new Error('Agent\x20block\x20is\x20missing\x20required\x20data');const _0x1b730d=await _0x14a793(_0x1e9cdb,_0x93a164,_0x5b19e1,_0x456bf1,_0x16d83b,_0x33e945,_0x561121);return _0x3093fa[_0x16b901(0x40b)]({'type':_0x16b901(0x57d),'prompt':_0x5a1eaa(_0x16d83b[_0x16b901(0x42f)][_0x16b901(0x57d)],_0x16d83b),'instructions':_0xcbe93b(_0x5b19e1[_0x16b901(0x4ae)]??'',_0x16d83b,_0xb6df01),'grammar':_0x16d83b[_0x16b901(0x7df)],'temperature':_0x16d83b[_0x16b901(0x1d3)],'maxTokens':_0x16d83b[_0x16b901(0x390)],'history':_0x5b19e1['history'],'functions':_0x1b730d,'threadId':_0x5b19e1[_0x16b901(0x9e8)]},{'model':_0xb6df01,'sequences':Array[_0x16b901(0x854)](_0x1b730d[_0x16b901(0xa6a)]())[_0x16b901(0x4df)](_0x3b1604=>_0x3b1604['startsWith']('executeAgent'))?0x2:0x1});}(_0x288c3c,_0x37b01b,_0x87d2c6,_0x5d9120,_0x1758a5,_0x2b8991,_0x5466d4);if('string'!=typeof _0xed958d[_0x4be975(0x970)])throw new Error(_0x4be975(0x804));_0x5d9120[_0x4be975(0x39f)]+=_0xed958d[_0x4be975(0x39f)]??0x0,_0x5d9120[_0x4be975(0xa2f)]+=_0xed958d[_0x4be975(0xa2f)]??0x0,_0x2d87ad||(_0x5d9120[_0x4be975(0x970)]=_0xed958d[_0x4be975(0x970)]),_0x3bb532['trace']({'jobType':_0xdeb8fb[_0x4be975(0x9d7)],'type':_0x531c2e['IntermediateOutput'],'jobId':_0x288c3c,'agentId':_0x37b01b,'threadId':_0x87d2c6[_0x4be975(0x9e8)],'traceLevel':_0x3c4020[_0x4be975(0x659)],'startTime':_0x3806ac,'timestamp':Date[_0x4be975(0x9fc)](),'blockId':_0x1758a5['id'],'status':'success','output':_0xed958d[_0x4be975(0x970)],'prompt':_0x1758a5[_0x4be975(0x42f)][_0x4be975(0x57d)],'agentName':_0x1758a5[_0x4be975(0x2b9)],'history':[],'instructions':''+_0x1758a5[_0x4be975(0x4ae)]+(_0x87d2c6[_0x4be975(0x4ae)]??''),'ragContext':_0xed958d[_0x4be975(0x567)]??[],'inputTokens':_0xed958d[_0x4be975(0x39f)]??0x0,'outputTokens':_0xed958d[_0x4be975(0xa2f)]??0x0}),_0x93a755(_0xed958d[_0x4be975(0x970)],_0x1758a5,_0x2b8991),await _0x1d52ad(_0x288c3c,_0xed958d['output'],_0x87d2c6,_0x5d9120,_0x1758a5,_0x2b8991,_0x5466d4,_0x2d87ad);}function _0x5a1eaa(_0x458b68,_0x59f60e){const _0x2b2583=_0x2ad6ba;if(!_0x59f60e[_0x2b2583(0x42f)]||!_0x59f60e[_0x2b2583(0x42f)][_0x2b2583(0x567)])return _0x458b68;if(_0x59f60e[_0x2b2583(0x42f)]['context'])for(const _0x554f1e of Object['keys'](_0x59f60e[_0x2b2583(0x42f)][_0x2b2583(0x567)])){const _0x1d9f29=_0x59f60e[_0x2b2583(0x42f)][_0x2b2583(0x567)][_0x554f1e];_0x458b68=_0x1d9f29 instanceof Array?'<'+_0x554f1e+_0x2b2583(0x84a)+_0x1d9f29[_0x2b2583(0x607)](_0x2c39cd=>'<'+_0x2c39cd['pathName']+'>'+_0x2c39cd[_0x2b2583(0x257)]+'</'+_0x2c39cd[_0x2b2583(0x225)]+'>')[_0x2b2583(0x3a2)]('\x0a\x0a')+'\x0a\x0a</'+_0x554f1e+'>\x0a\x0a'+_0x458b68:'<'+_0x554f1e+'>'+_0x1d9f29+'</'+_0x554f1e+_0x2b2583(0x84a)+_0x458b68;}return _0x458b68;}function _0xcbe93b(_0x5d6616,_0x8df727,_0x4398b0){const _0x5ee536=_0x2ad6ba;let _0xb4236e='';return _0x4398b0[_0x5ee536(0x8f1)]&&''!==_0x4398b0[_0x5ee536(0x8f1)]&&(_0xb4236e=_0x5ee536(0x23f)+_0x4398b0[_0x5ee536(0x8f1)]+'\x0a\x0a'),_0xb4236e=_0xb4236e+_0x5ee536(0x7c4)+new Date()[_0x5ee536(0x7a1)](void 0x0,{'weekday':'long','year':_0x5ee536(0x1d9),'month':_0x5ee536(0x2d0),'day':_0x5ee536(0x1d9)})+'\x0a\x0a',''+_0xb4236e+_0x8df727['instructions']+_0x5d6616;}function _0x19fc23(_0x52eb95,_0x5bda6a,_0x1e6da6){const _0xda3dc2=_0x2ad6ba;_0x1e6da6[_0xda3dc2(0x42f)]||(_0x1e6da6[_0xda3dc2(0x42f)]={}),_0x1e6da6[_0xda3dc2(0x42f)]['context']||(_0x1e6da6[_0xda3dc2(0x42f)][_0xda3dc2(0x567)]={});const _0x47af02=_0x1e6da6['contextInputVariable']?.[_0xda3dc2(0x1c9)](',');_0x47af02&&_0x47af02[_0xda3dc2(0x205)](_0x52eb95)&&(_0x1e6da6[_0xda3dc2(0x42f)][_0xda3dc2(0x567)][_0x52eb95]=_0x5bda6a);}function _0x2c8199(_0x40b57c,_0x2cb478,_0x9801fd,_0x4c8e87){const _0x4e6efb=_0x2ad6ba;_0x40b57c!==_0x1481cb[_0x4e6efb(0x470)]&&_0x40b57c!==_0x1481cb['File']||(_0x4c8e87[_0x4e6efb(0x42f)]||(_0x4c8e87[_0x4e6efb(0x42f)]={}),_0x4e6efb(0x488)==typeof _0x9801fd?(_0x4c8e87['accumulated'][_0x4e6efb(0x567)]||(_0x4c8e87[_0x4e6efb(0x42f)][_0x4e6efb(0x567)]={}),_0x4c8e87[_0x4e6efb(0x42f)][_0x4e6efb(0x567)][_0x2cb478]=_0x9801fd):_0x4c8e87[_0x4e6efb(0x42f)]['file']=_0x9801fd);}async function _0x565bef(_0x48654b,_0x1b482a,_0x373b25,_0x2d7725,_0x1182dd,_0x259b12,_0x3a2674,_0x24ad3c){const _0x2ecf0e=function(_0x22e81a,_0x3abe0a){const _0x46ba2f=a0_0x119e,_0x302bbc=[];for(let _0x5372e7=0x0;_0x5372e7<_0x22e81a['length'];_0x5372e7+=_0x3abe0a[_0x46ba2f(0x37c)][_0x46ba2f(0x399)]){let _0x21e378=_0x5372e7-_0x3abe0a[_0x46ba2f(0x37c)][_0x46ba2f(0x7a3)];_0x21e378<0x0&&(_0x21e378=0x0);let _0x35e5d2=_0x5372e7+_0x3abe0a['attributes'][_0x46ba2f(0x399)]+_0x3abe0a['attributes'][_0x46ba2f(0x7a3)];_0x35e5d2>_0x22e81a[_0x46ba2f(0x8e0)]&&(_0x35e5d2=_0x22e81a[_0x46ba2f(0x8e0)]),length||(length=_0x5372e7+_0x3abe0a[_0x46ba2f(0x37c)][_0x46ba2f(0x399)],length>_0x22e81a[_0x46ba2f(0x8e0)]&&(length=_0x22e81a[_0x46ba2f(0x8e0)])),_0x302bbc[_0x46ba2f(0x673)](_0x22e81a[_0x46ba2f(0x95e)](_0x21e378,_0x35e5d2));}return _0x302bbc;}(_0x1b482a,_0x1182dd);await _0x1d52ad(_0x48654b,_0x2ecf0e,_0x373b25,_0x2d7725,_0x1182dd,_0x259b12,_0x3a2674,_0x24ad3c);}function _0x2a58b4(_0x27c8cc,_0x2add3b,_0x5e22cf){const _0x2785a6=_0x2ad6ba;_0x5e22cf[_0x2785a6(0x42f)]||(_0x5e22cf[_0x2785a6(0x42f)]={}),_0x5e22cf['accumulated'][_0x2785a6(0x567)]||(_0x5e22cf[_0x2785a6(0x42f)][_0x2785a6(0x567)]={}),_0x5e22cf[_0x2785a6(0x42f)][_0x2785a6(0x567)][_0x27c8cc]=_0x2add3b;}async function _0x1fa2ca(_0x45510a,_0x1a52b9,_0x22e62a,_0x1b6c06,_0x2cd9d4,_0x1a00de,_0x3a7599,_0x3fe84b){const _0x2effac=_0x2ad6ba;if(_0x2cd9d4['accumulated']||(_0x2cd9d4['accumulated']={}),_0x2cd9d4[_0x2effac(0x42f)]['queries']||(_0x2cd9d4['accumulated']['queries']=[]),_0x1a52b9 instanceof Array?_0x2cd9d4['accumulated'][_0x2effac(0x51e)][_0x2effac(0x673)](..._0x1a52b9):_0x2cd9d4[_0x2effac(0x42f)][_0x2effac(0x51e)]['push'](_0x1a52b9),_0x2cd9d4[_0x2effac(0x7e8)]=_0x2cd9d4['timesCalled']?_0x2cd9d4[_0x2effac(0x7e8)]+0x1:0x1,_0x545219(_0x2cd9d4,_0x1a00de)>_0x2cd9d4['timesCalled'])return;if(0x0===_0x2cd9d4[_0x2effac(0x42f)][_0x2effac(0x51e)][_0x2effac(0x8e0)])throw new Error(_0x2effac(0x1f3));let _0x115581=[];const _0x52352b=Date[_0x2effac(0x9fc)]();try{let _0x53b7f3=0x0,_0x2a930d=0x0;for(const _0x450df7 of _0x2cd9d4['accumulated'][_0x2effac(0x51e)]){const _0x2f0054=_0x2cd9d4[_0x2effac(0x789)][_0x2effac(0x2e0)](_0x55a86d=>_0x55a86d[_0x2effac(0x285)]===_0x3373d7[_0x2effac(0x46b)]),_0x4554f8=await _0x932b98(_0x45510a,_0x22e62a[_0x2effac(0x9e8)],_0x450df7,_0x2f0054,_0x2cd9d4[_0x2effac(0x789)],_0x3a7599);_0x115581=Array[_0x2effac(0x854)](new Set([..._0x115581,..._0x4554f8[_0x2effac(0x567)]])),_0x53b7f3+=_0x4554f8[_0x2effac(0x39f)]??0x0,_0x2a930d+=_0x4554f8['outputTokens']??0x0;}_0x1b6c06[_0x2effac(0x39f)]+=_0x53b7f3,_0x1b6c06['outputTokens']+=_0x2a930d,_0x1b6c06[_0x2effac(0x567)]=Array['from'](new Set([..._0x1b6c06['context'],..._0x115581])),_0x3bb532[_0x2effac(0xa5c)]({'jobType':_0xdeb8fb[_0x2effac(0x9d7)],'type':_0x531c2e[_0x2effac(0x176)],'jobId':_0x45510a,'threadId':_0x22e62a[_0x2effac(0x9e8)],'traceLevel':_0x3c4020[_0x2effac(0x659)],'startTime':_0x52352b,'timestamp':Date[_0x2effac(0x9fc)](),'blockId':_0x2cd9d4['id'],'status':_0x2effac(0x190),'queries':_0x2cd9d4[_0x2effac(0x42f)]['queries'],'context':_0x115581,'inputTokens':_0x53b7f3,'outputTokens':_0x2a930d});}catch(_0x222739){console[_0x2effac(0x60c)](_0x222739),_0x3bb532[_0x2effac(0xa5c)]({'jobType':_0xdeb8fb['Workflow'],'type':_0x531c2e[_0x2effac(0x176)],'jobId':_0x45510a,'threadId':_0x22e62a[_0x2effac(0x9e8)],'traceLevel':_0x3c4020[_0x2effac(0x659)],'startTime':_0x52352b,'timestamp':Date[_0x2effac(0x9fc)](),'blockId':_0x2cd9d4['id'],'status':_0x2effac(0x60c),'queries':_0x2cd9d4[_0x2effac(0x42f)][_0x2effac(0x51e)],'context':[],'inputTokens':0x0,'outputTokens':0x0});}_0x93a755(_0x115581,_0x2cd9d4,_0x1a00de),await _0x1d52ad(_0x45510a,'',_0x22e62a,_0x1b6c06,_0x2cd9d4,_0x1a00de,_0x3a7599,_0x3fe84b);}async function _0x2f3449(_0x353eb3,_0x329f50,_0x343bbb,_0x2517f9,_0x2337c4,_0x12ec1c,_0x8884c2,_0x3c2532){const _0x589719=_0x2ad6ba,_0x101218=await _0x8884c2['nlpLibraryConnector'][_0x589719(0x99b)](_0x329f50);await _0x1d52ad(_0x353eb3,_0x101218,_0x343bbb,_0x2517f9,_0x2337c4,_0x12ec1c,_0x8884c2,_0x3c2532);}async function _0x316dc0(_0xf394b3,_0xac73ca,_0x327434,_0x3d2595,_0x451fff,_0x4a2995,_0x4b4141,_0x5f38c8){const _0x1f88c8=function(_0x229cce,_0x24fece){const _0xba9415=a0_0x119e,_0x5b3c4d=[],_0x5ae7fe=_0x229cce['split']('\x20');let _0x30fe65='',_0x35d057=0x0,_0x2e35ff=0x0,_0x5af5bf=0x0;for(const _0x1ba87c of _0x5ae7fe){if(_0x30fe65['length']+_0x1ba87c[_0xba9415(0x8e0)]>_0x24fece[_0xba9415(0x37c)]['size']){let _0x19a19b=_0x35d057,_0x202857='';for(;_0x19a19b>=0x0&&_0x202857[_0xba9415(0x8e0)]+_0x5ae7fe[_0x19a19b]['length']<_0x24fece['attributes'][_0xba9415(0x7a3)];)_0x202857=_0x5ae7fe[_0x19a19b]+'\x20'+_0x202857,_0x19a19b--;let _0x2c5714=_0x2e35ff,_0x5087d1='';for(;_0x2c5714<_0x5ae7fe[_0xba9415(0x8e0)]&&_0x5087d1[_0xba9415(0x8e0)]+_0x5ae7fe[_0x2c5714][_0xba9415(0x8e0)]<_0x24fece['attributes'][_0xba9415(0x7a3)];)_0x5087d1+=_0x5ae7fe[_0x2c5714]+'\x20',_0x2c5714++;_0x30fe65=_0x202857+_0x30fe65+_0x5087d1,_0x5b3c4d['push'](_0x30fe65[_0xba9415(0x387)]()),_0x30fe65='',_0x35d057=_0x2e35ff;}_0x30fe65+=_0x1ba87c+'\x20',_0x2e35ff++,_0x5af5bf+=_0x1ba87c[_0xba9415(0x8e0)]+0x1;}if(_0x30fe65['length']>0x0){let _0x5b5f9d=_0x35d057,_0x27028a='';for(;_0x5b5f9d>=0x0&&_0x27028a['length']+_0x5ae7fe[_0x5b5f9d][_0xba9415(0x8e0)]<_0x24fece[_0xba9415(0x37c)][_0xba9415(0x7a3)];)_0x27028a=_0x5ae7fe[_0x5b5f9d]+'\x20'+_0x27028a,_0x5b5f9d--;_0x30fe65=_0x27028a+_0x30fe65,_0x5b3c4d[_0xba9415(0x673)](_0x30fe65[_0xba9415(0x387)]());}return _0x5b3c4d;}(_0xac73ca,_0x451fff);await _0x1d52ad(_0xf394b3,_0x1f88c8,_0x327434,_0x3d2595,_0x451fff,_0x4a2995,_0x4b4141,_0x5f38c8);}function _0x93a755(_0x1b7549,_0x5246ca,_0x5b1075,_0x115505){const _0x139545=_0x2ad6ba;if(_0x5246ca[_0x139545(0x319)])for(const _0x9d77fd of _0x5246ca[_0x139545(0x319)]){if(_0x9d77fd[_0x139545(0x285)]!==_0x1481cb[_0x139545(0x470)])continue;const _0x55138b=_0x5b1075[_0x139545(0x2e0)](_0x1e5946=>_0x1e5946[_0x139545(0x19a)]===_0x9d77fd[_0x139545(0x19a)]);if(!_0x55138b)continue;let _0x409708=_0x5246ca['id'];switch(_0x115505?_0x409708=_0x115505:(_0x5246ca['type']===_0x154e5e[_0x139545(0x176)]&&(_0x409708=_0x5246ca[_0x139545(0x2b9)]),_0x5246ca[_0x139545(0x285)]!==_0x154e5e[_0x139545(0x37e)]&&_0x5246ca[_0x139545(0x285)]!==_0x154e5e['AgentSkill']&&_0x5246ca[_0x139545(0x285)]!==_0x154e5e['CustomSkill']||(_0x409708=_0x5246ca['contextOutputVariable']??_0x5246ca[_0x139545(0x2b9)])),_0x55138b['type']){case _0x154e5e[_0x139545(0x37e)]:_0xe8f382[_0x139545(0x849)](_0x139545(0x3f3),_0x55138b[_0x139545(0x2b9)],_0x409708),_0x55138b[_0x139545(0x42f)]||(_0x55138b[_0x139545(0x42f)]={}),_0x55138b[_0x139545(0x42f)][_0x139545(0x567)]||(_0x55138b[_0x139545(0x42f)][_0x139545(0x567)]={});const _0x51fb58=_0x55138b[_0x139545(0x7e4)]?.['split'](',');if(!(_0x51fb58&&_0x51fb58['includes'](_0x409708)||'file-upload'===_0x409708))return;_0x55138b[_0x139545(0x42f)][_0x139545(0x567)][_0x409708]=_0x1b7549;break;case _0x154e5e[_0x139545(0x4f7)]:_0xe8f382['forceLog'](_0x139545(0x1a8),_0x55138b[_0x139545(0x2b9)],_0x409708),_0x19fc23(_0x409708,_0x1b7549,_0x55138b);break;case _0x154e5e[_0x139545(0x865)]:_0xe8f382[_0x139545(0x849)](_0x139545(0x7c7),_0x409708),'string'==typeof _0x1b7549&&_0x2c8199(_0x9d77fd[_0x139545(0x285)],_0x409708,_0x1b7549,_0x55138b);break;case _0x154e5e[_0x139545(0x8b4)]:_0xe8f382['forceLog'](_0x139545(0x243),_0x55138b[_0x139545(0x2b9)],_0x409708),'string'==typeof _0x1b7549&&_0x2a58b4(_0x409708,_0x1b7549,_0x55138b);}}}async function _0x1d52ad(_0x2bffed,_0x27eaee,_0xbcbe1b,_0x142f0c,_0x5b1840,_0x20bb8d,_0x3d92eb,_0x2cf647){const _0x2cc261=_0x2ad6ba;if(await _0x401df5['wait'](0x1),_0x5b1840[_0x2cc261(0x319)]){for(const _0x368f37 of _0x5b1840[_0x2cc261(0x319)]){if(_0x368f37['type']===_0x1481cb[_0x2cc261(0x470)])continue;const _0x14ccbe=_0x20bb8d[_0x2cc261(0x2e0)](_0x8d93fb=>_0x8d93fb[_0x2cc261(0x19a)]===_0x368f37['uid']);if(_0x14ccbe)switch(_0x14ccbe[_0x2cc261(0x285)]){case _0x154e5e[_0x2cc261(0x37e)]:_0x368f37[_0x2cc261(0x285)]!==_0x1481cb[_0x2cc261(0x3c3)]&&_0x368f37[_0x2cc261(0x285)]!==_0x1481cb[_0x2cc261(0x458)]||_0x2cc261(0x488)!=typeof _0x27eaee||await _0x1e8a73(_0x2bffed,_0x368f37[_0x2cc261(0x285)],_0x27eaee,_0xbcbe1b,_0x142f0c,_0x14ccbe,_0x20bb8d,_0x3d92eb,_0x2cf647);break;case _0x154e5e[_0x2cc261(0x865)]:_0x368f37[_0x2cc261(0x285)]===_0x1481cb[_0x2cc261(0x87a)]&&_0x27eaee instanceof Array&&_0x27eaee['length']>0x0&&_0x2c8199(_0x368f37[_0x2cc261(0x285)],_0x2bffed,_0x27eaee[0x0],_0x14ccbe);break;case _0x154e5e[_0x2cc261(0x423)]:_0x368f37[_0x2cc261(0x285)]===_0x1481cb[_0x2cc261(0x3c3)]&&_0x2cc261(0x488)==typeof _0x27eaee&&await _0x565bef(_0x2bffed,_0x27eaee,_0xbcbe1b,_0x142f0c,_0x14ccbe,_0x20bb8d,_0x3d92eb,_0x2cf647);break;case _0x154e5e['DataCollection']:_0x368f37[_0x2cc261(0x285)]===_0x1481cb['Text']&&_0x2cc261(0x488)==typeof _0x27eaee&&await _0x1fa2ca(_0x2bffed,_0x27eaee,_0xbcbe1b,_0x142f0c,_0x14ccbe,_0x20bb8d,_0x3d92eb,_0x2cf647),_0x368f37[_0x2cc261(0x285)]===_0x1481cb[_0x2cc261(0x3c3)]&&_0x27eaee instanceof Array&&await _0x1fa2ca(_0x2bffed,_0x27eaee,_0xbcbe1b,_0x142f0c,_0x14ccbe,_0x20bb8d,_0x3d92eb,_0x2cf647);break;case _0x154e5e[_0x2cc261(0x4d8)]:_0x368f37[_0x2cc261(0x285)]===_0x1481cb[_0x2cc261(0x3c3)]&&_0x2cc261(0x488)==typeof _0x27eaee&&await _0x2f3449(_0x2bffed,_0x27eaee,_0xbcbe1b,_0x142f0c,_0x14ccbe,_0x20bb8d,_0x3d92eb,_0x2cf647);break;case _0x154e5e['WordSplitter']:_0x368f37[_0x2cc261(0x285)]===_0x1481cb['Text']&&_0x2cc261(0x488)==typeof _0x27eaee&&await _0x316dc0(_0x2bffed,_0x27eaee,_0xbcbe1b,_0x142f0c,_0x14ccbe,_0x20bb8d,_0x3d92eb,_0x2cf647);}}_0x5b1840['type']===_0x154e5e[_0x2cc261(0x46b)]&&_0x2cf647&&_0x2cf647[_0x2cc261(0x4ce)](void 0x0);}else _0x5b1840[_0x2cc261(0x285)]===_0x154e5e[_0x2cc261(0x46b)]&&_0x2cf647&&_0x2cf647[_0x2cc261(0x4ce)](void 0x0);}function _0x545219(_0x353f49,_0x3326f4){const _0x42cf36=_0x2ad6ba;let _0x98b883=0x0;for(const _0x275967 of _0x3326f4)for(const _0x164110 of _0x275967[_0x42cf36(0x319)]??[])_0x164110[_0x42cf36(0x285)]!==_0x1481cb['Context']&&_0x164110[_0x42cf36(0x285)]!==_0x1481cb[_0x42cf36(0x799)]&&_0x164110[_0x42cf36(0x285)]!==_0x1481cb[_0x42cf36(0x6b7)]&&_0x164110[_0x42cf36(0x19a)]===_0x353f49[_0x42cf36(0x19a)]&&_0x98b883++;return _0x98b883;}async function _0x501bfd(_0x489833,_0x24253d,_0x2f5c42,_0x42d364){const _0x4cbcef=_0x2ad6ba;if(0x0===_0x489833[_0x4cbcef(0x8e0)])return;let _0x4d6269='<uploaded-files>';for(const _0x831da0 of _0x489833)if(_0x831da0['type']['startsWith'](_0x4cbcef(0x5e0))||_0x35ce84(_0x831da0['name'],_0x35c6e0))_0x4d6269+='\x0a<'+_0x831da0[_0x4cbcef(0x2b9)]+'>\x0a'+await _0x831da0[_0x4cbcef(0x303)]()+'\x0a</'+_0x831da0[_0x4cbcef(0x2b9)]+'>';else{if(!_0x42d364[_0x4cbcef(0x462)][_0x4cbcef(0x2b0)](_0x831da0))throw new Error('Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20'+_0x831da0[_0x4cbcef(0x285)]+_0x4cbcef(0xa0b)+_0x831da0['name']);_0x4d6269+='\x0a<'+_0x831da0[_0x4cbcef(0x2b9)]+'>\x0a'+await _0x42d364[_0x4cbcef(0x462)]['parse'](_0x831da0)+_0x4cbcef(0x34d)+_0x831da0[_0x4cbcef(0x2b9)]+'>';}_0x4d6269+=_0x4cbcef(0x47a),_0x93a755(_0x4d6269,_0x24253d,_0x2f5c42,_0x4cbcef(0xa28));}function _0x26b1b2(_0x535ae3,_0x407748){const _0x570afb=_0x2ad6ba;_0x407748[_0x570afb(0x42f)]||(_0x407748[_0x570afb(0x42f)]={}),_0x407748[_0x570afb(0x42f)][_0x570afb(0x2dc)]=_0x535ae3;}async function _0x14ead6(_0x21fd7b,_0x45d81a,_0x2a31b4,_0x3e784f){const _0x5d3cf1=_0x2ad6ba;if(_0x21fd7b['files']&&_0x45d81a['links']){const _0x2773bf=[];for(const _0xe420c3 of _0x21fd7b[_0x5d3cf1(0x2dc)])_0x2773bf[_0x5d3cf1(0x673)](_0x371813(_0xe420c3));for(const _0x2a4848 of _0x45d81a[_0x5d3cf1(0x319)])if(_0x5d3cf1(0x82c)===_0x2a4848[_0x5d3cf1(0x285)]){const _0x232211=_0x2a31b4[_0x5d3cf1(0x2e0)](_0x25e438=>_0x25e438[_0x5d3cf1(0x19a)]===_0x2a4848['uid']);if(!_0x232211)continue;_0x232211[_0x5d3cf1(0x285)]===_0x154e5e[_0x5d3cf1(0x653)]&&await _0x501bfd(_0x2773bf,_0x232211,_0x2a31b4,_0x3e784f),_0x232211['type']===_0x154e5e[_0x5d3cf1(0x656)]&&_0x26b1b2(_0x2773bf,_0x232211);}}}function _0x371813(_0x18f525){const _0xc2f36=_0x2ad6ba,_0x325f97=atob(_0x18f525[_0xc2f36(0x257)]),_0x39e885=_0x325f97[_0xc2f36(0x8e0)],_0x37a703=new ArrayBuffer(_0x39e885),_0x18c42e=new Uint8Array(_0x37a703);for(let _0x107575=0x0;_0x107575<_0x39e885;_0x107575++)_0x18c42e[_0x107575]=_0x325f97['charCodeAt'](_0x107575);return new File([_0x18c42e],_0x18f525['name'],{'type':_0x18f525[_0xc2f36(0x285)]});}class _0x18b89d extends _0x9bc73{[_0x2ad6ba(0x6e0)];[_0x2ad6ba(0x8e1)];[_0x2ad6ba(0x813)];['generativeAIWorkerConnectors'];[_0x2ad6ba(0x462)];[_0x2ad6ba(0x4dd)];['searchApiKey'];[_0x2ad6ba(0x3cb)];[_0x2ad6ba(0x79d)];['aiSearchConnector'];[_0x2ad6ba(0x555)];[_0x2ad6ba(0x646)];[_0x2ad6ba(0x775)];[_0x2ad6ba(0x403)]=new Map();[_0x2ad6ba(0x1fe)]=new Map();[_0x2ad6ba(0xa19)];[_0x2ad6ba(0x6fb)]=new Map();[_0x2ad6ba(0xa97)];[_0x2ad6ba(0x823)]=0x0;['tokens']=0x0;[_0x2ad6ba(0x510)]=!0x1;[_0x2ad6ba(0x241)]=[];[_0x2ad6ba(0x340)]=!0x1;constructor(_0x515f9f,_0x564c74,_0x3f025b,_0x389b75,_0x3a5230,_0x30143e,_0x589f11,_0x5508a1,_0x3489bb,_0x28a4f0,_0x20d666,_0x3a5dc6,_0x5a8496){const _0x359877=_0x2ad6ba;super(_0x515f9f,_0x564c74,_0x389b75),this['localNode']=_0x515f9f,this[_0x359877(0x8e1)]=_0x3f025b,this[_0x359877(0x813)]=_0x3a5230,this[_0x359877(0xa1e)]=_0x30143e,this[_0x359877(0x462)]=_0x589f11,this[_0x359877(0x4dd)]=_0x5508a1,this[_0x359877(0x348)]=_0x3489bb,this[_0x359877(0x3cb)]=_0x28a4f0,this[_0x359877(0x79d)]=_0x20d666,this[_0x359877(0x92b)]=_0x3a5dc6,this[_0x359877(0x555)]=_0x5a8496;}async[_0x2ad6ba(0x4aa)](){const _0x4bd6ac=_0x2ad6ba;for(const _0x3171fc of this[_0x4bd6ac(0xa1e)])await _0x3171fc[_0x4bd6ac(0x27c)]();this['modelStore']?.[_0x4bd6ac(0x99f)](this[_0x4bd6ac(0x19d)]),this[_0x4bd6ac(0x403)]['forEach'](_0x11b01c=>_0x11b01c[_0x4bd6ac(0x99f)](this[_0x4bd6ac(0x19d)])),this[_0x4bd6ac(0xa97)]&&(clearTimeout(this['debounceStats']),delete this[_0x4bd6ac(0xa97)]),super[_0x4bd6ac(0x4aa)]();}async[_0x2ad6ba(0xa60)](_0x2201a4=!0x1){const _0x564938=_0x2ad6ba;if(this['isOpened'])super[_0x564938(0xa60)]();else{if(_0xe8f382[_0x564938(0x849)]('GenerativeAIWorker:\x20Opening',this[_0x564938(0x19d)]),this[_0x564938(0x646)]=await _0x5c0e98[_0x564938(0x5fd)](this[_0x564938(0x8e1)],this[_0x564938(0x19d)]),this['modelStore']=this[_0x564938(0x813)][_0x564938(0x79e)](this[_0x564938(0x646)][_0x564938(0x1a0)]),!this[_0x564938(0x775)])throw new Error(_0x564938(0x98a));this[_0x564938(0x506)](),_0xe8f382[_0x564938(0x849)](_0x564938(0x603),this['workflow'][_0x564938(0x6fb)]);for(const _0x2f1692 of this['workflow'][_0x564938(0x6fb)])try{let _0x33199c;_0x2f1692[_0x564938(0x6b5)]===_0x406df3[_0x564938(0x28a)][_0x564938(0x66f)]&&(_0x33199c=await this[_0x564938(0xa75)]('/'+_0x2f1692['id']+_0x5a25ca)),this[_0x564938(0x6fb)][_0x564938(0x50f)](_0x2f1692['id'],{'id':_0x2f1692['id'],'engineType':_0x2f1692['engineType'],'taskType':_0x2f1692[_0x564938(0x664)],'inputType':_0x2f1692[_0x564938(0x47f)],'outputType':_0x2f1692[_0x564938(0x9a7)],'sourceUrl':_0x2f1692[_0x564938(0x588)],'pathName':_0x33199c});}catch(_0x50c505){await this[_0x564938(0x775)][_0x564938(0x29d)]({'action':_0x406df3[_0x564938(0x7c5)][_0x564938(0x87a)],'file':new File([''],''+_0x2f1692['id']+_0x5a25ca),'path':'/','options':{'skipEncryption':!0x0,'fetchUrl':_0x2f1692[_0x564938(0x588)]}}),this[_0x564938(0x6fb)]['set'](_0x2f1692['id'],{'id':_0x2f1692['id'],'engineType':_0x2f1692['engineType'],'taskType':_0x2f1692[_0x564938(0x664)],'inputType':_0x2f1692[_0x564938(0x47f)],'outputType':_0x2f1692[_0x564938(0x9a7)],'sourceUrl':_0x2f1692['sourceUrl'],'pathName':await this[_0x564938(0xa75)]('/'+_0x2f1692['id']+_0x5a25ca)});}try{for(const _0x1150e7 of this[_0x564938(0xa1e)])await _0x1150e7[_0x564938(0x88b)](this[_0x564938(0x19d)],this[_0x564938(0x6fb)]);}catch(_0x551bea){return this[_0x564938(0xa60)](_0x2201a4);}for(const _0x4160be of this[_0x564938(0x646)][_0x564938(0x31d)])this[_0x564938(0x403)][_0x564938(0x50f)](_0x4160be,this[_0x564938(0x813)][_0x564938(0x79e)](_0x4160be));await this[_0x564938(0x22e)](),this[_0x564938(0x9f3)]();for(const _0x545e93 of this[_0x564938(0x646)][_0x564938(0x1c6)])this[_0x564938(0x1fe)][_0x564938(0x50f)](_0x545e93,this[_0x564938(0x813)][_0x564938(0x6b8)](_0x545e93));await this[_0x564938(0x86c)](),this['subscribeToExternalContent'](),this[_0x564938(0x510)]=!0x0,this[_0x564938(0x7cb)](),super[_0x564938(0xa60)](),_0xe8f382[_0x564938(0x849)]('GenerativeAIWorker:\x20Opened',this[_0x564938(0x19d)]);}}[_0x2ad6ba(0x536)](){const _0x146922=_0x2ad6ba;this[_0x146922(0x823)]=0x0,this['tokens']=0x0,this[_0x146922(0x7cb)](),super[_0x146922(0x536)]();}['getBid'](){const _0x491537=_0x2ad6ba;return this[_0x491537(0x7cb)](),this[_0x491537(0x256)]();}[_0x2ad6ba(0x684)](_0x4c767b,_0x5d6634,_0x35014b){const _0x595686=_0x2ad6ba,{outputTokens:_0x5923b5=0x0,output:_0x57b921=''}=_0x4c767b,_0x5e3bc6=_0x5923b5/((_0x35014b-_0x5d6634)/0x3e8);this[_0x595686(0x823)]+=0x1,this[_0x595686(0x48c)]+=_0x5923b5,this['logServiceEvent'](_0x5e3bc6,_0x5923b5),this['sendStats']();}[_0x2ad6ba(0x5de)](_0x3e16c8,_0x18681e){const _0x4cb9c1=_0x2ad6ba;return _0x3e16c8[_0x4cb9c1(0x970)]=_0x3e16c8[_0x4cb9c1(0x970)]??'',{'type':_0x4cb9c1(0x57d),'output':_0x4cb9c1(0x488)==typeof _0x3e16c8[_0x4cb9c1(0x970)]&&_0x4cb9c1(0x488)==typeof _0x18681e[_0x4cb9c1(0x970)]?_0x3e16c8[_0x4cb9c1(0x970)]+_0x18681e[_0x4cb9c1(0x970)]:_0x18681e['output'],'outputTokens':_0x18681e[_0x4cb9c1(0xa2f)]??_0x3e16c8['outputTokens'],'inputTokens':_0x18681e['inputTokens']??_0x3e16c8[_0x4cb9c1(0x39f)]};}async[_0x2ad6ba(0x411)](_0x22d2da,_0x1ed606){const _0x16dd9c=_0x2ad6ba;if(this[_0x16dd9c(0x646)]=await _0x5c0e98['getWorkflow'](this[_0x16dd9c(0x8e1)],this[_0x16dd9c(0x19d)]),'prompt'===_0x1ed606[_0x16dd9c(0x285)]){const _0x4ba4d3=this[_0x16dd9c(0x646)][_0x16dd9c(0x2a5)]['find'](_0x2c2d65=>_0x2c2d65[_0x16dd9c(0x285)]===_0x154e5e['Prompt']),_0x223d09=await async function(_0x24519b,_0x1dd6b3,_0x24e42c,_0x2d2a34,_0x24a473){const _0x5d98a2=_0x16dd9c,_0x8105c4=(0x0,_0x145036['v4'])(),_0x28783e=Date['now']();if(_0x3bb532['trace']({'jobType':_0xdeb8fb[_0x5d98a2(0x9d7)],'type':_0x531c2e[_0x5d98a2(0x33f)],'jobId':_0x24519b,'blockId':_0x24e42c['id'],'agentId':_0x8105c4,'threadId':_0x1dd6b3[_0x5d98a2(0x9e8)],'traceLevel':_0x3c4020[_0x5d98a2(0x659)],'startTime':Date[_0x5d98a2(0x9fc)](),'timestamp':Date[_0x5d98a2(0x9fc)](),'status':_0x5d98a2(0x190),'initialPrompt':_0x1dd6b3[_0x5d98a2(0x57d)]}),await _0x14ead6(_0x1dd6b3,_0x24e42c,_0x2d2a34,_0x24a473),_0x1dd6b3[_0x5d98a2(0x5b9)]){for(const _0x55c702 in _0x1dd6b3[_0x5d98a2(0x5b9)])_0x93a755(_0x1dd6b3['internalContext'][_0x55c702],_0x24e42c,_0x2d2a34,_0x55c702);}const _0x4334a9={'type':_0x1dd6b3[_0x5d98a2(0x285)],'context':[],'inputTokens':0x0,'outputTokens':0x0};await _0x1d52ad(_0x24519b,''+_0x1dd6b3[_0x5d98a2(0x57d)],_0x1dd6b3,_0x4334a9,_0x24e42c,_0x2d2a34,_0x24a473);const {inputTokens:_0x2aae02=0x0,outputTokens:_0x12b00e=0x0,context:_0x17b16d=[]}=_0x4334a9;_0x3bb532['trace']({'jobType':_0xdeb8fb[_0x5d98a2(0x9d7)],'type':_0x531c2e[_0x5d98a2(0x3be)],'jobId':_0x24519b,'agentId':_0x8105c4,'threadId':_0x1dd6b3[_0x5d98a2(0x9e8)],'traceLevel':_0x3c4020['Info'],'startTime':_0x28783e,'timestamp':Date[_0x5d98a2(0x9fc)](),'blockId':_0x24e42c['id'],'status':_0x5d98a2(0x190),'output':_0x4334a9[_0x5d98a2(0x970)]?.[_0x5d98a2(0x8d9)]()??'','prompt':_0x1dd6b3[_0x5d98a2(0x57d)],'agentName':'','history':_0x1dd6b3['history']??[],'instructions':''+(_0x1dd6b3[_0x5d98a2(0x4ae)]??''),'ragContext':_0x17b16d,'inputTokens':_0x2aae02,'outputTokens':_0x12b00e});const _0x27c4e0=_0x2d2a34['find'](_0x29f0d7=>_0x29f0d7[_0x5d98a2(0x285)]===_0x154e5e['Answer']);return{'type':_0x1dd6b3[_0x5d98a2(0x285)],'output':_0x4334a9[_0x5d98a2(0x970)],'context':_0x4334a9[_0x5d98a2(0x567)],'internalContext':_0x27c4e0?.[_0x5d98a2(0x42f)]?.[_0x5d98a2(0x567)]??{},'resultFile':await _0x27c4e0?.[_0x5d98a2(0x42f)]?.[_0x5d98a2(0x82c)]?.[_0x5d98a2(0x303)]()??void 0x0,'inputTokens':_0x4334a9[_0x5d98a2(0x39f)]??0x0,'outputTokens':_0x4334a9[_0x5d98a2(0xa2f)]??0x0};}(_0x22d2da,_0x1ed606,_0x4ba4d3,this['workflow']['blocks'],{'documentParserConnector':this[_0x16dd9c(0x462)],'nlpLibraryConnector':this[_0x16dd9c(0x4dd)],'generativeAIWorkerConnectors':this[_0x16dd9c(0xa1e)],'models':this['workflow']['models'],'contentMediator':this[_0x16dd9c(0x813)],'searchApiKey':this[_0x16dd9c(0x348)],'aiSearchApiKey':this['aiSearchApiKey'],'searchConnector':this[_0x16dd9c(0x79d)],'aiSearchConnector':this[_0x16dd9c(0x92b)],'queryFileConnector':this['queryFileConnector']});return _0x223d09;}if(_0x16dd9c(0x8db)===_0x1ed606['type'])return _0x3bb532['trace']({'jobType':_0xdeb8fb['Rating'],'type':_0x474821[_0x16dd9c(0x22d)],'jobId':_0x1ed606[_0x16dd9c(0xa0f)],'threadId':_0x1ed606[_0x16dd9c(0x9e8)],'traceLevel':_0x3c4020[_0x16dd9c(0x659)],'startTime':Date[_0x16dd9c(0x9fc)](),'timestamp':Date['now'](),'status':_0x16dd9c(0x190),'rating':_0x1ed606[_0x16dd9c(0x40f)],'feedback':_0x1ed606[_0x16dd9c(0x740)]}),{'type':'rate','status':_0x406df3[_0x16dd9c(0xa31)][_0x16dd9c(0x896)]};if(_0x16dd9c(0x83f)===_0x1ed606[_0x16dd9c(0x285)]){let _0x5d1f91;const _0x53b04a=this[_0x16dd9c(0x403)][_0x16dd9c(0xa6a)]();for(;!_0x5d1f91;){const _0x4e987c=_0x53b04a['next']()[_0x16dd9c(0x393)];if(!_0x4e987c)throw new Error(_0x16dd9c(0x7b4));_0x5d1f91=this[_0x16dd9c(0x403)][_0x16dd9c(0x736)](_0x4e987c);try{const _0x5392a4=await _0x5d1f91[_0x16dd9c(0x736)](_0x1ed606[_0x16dd9c(0x9be)]);return{'type':_0x16dd9c(0x83f),'fileName':_0x5392a4[_0x16dd9c(0x2b9)],'mimeType':_0x5392a4[_0x16dd9c(0x285)],'document':await _0x5392a4[_0x16dd9c(0x641)]()};}catch(_0x17b465){continue;}}throw new Error('DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found');}if(_0x16dd9c(0xa96)===_0x1ed606[_0x16dd9c(0x285)]){const {query:_0xc9c61a,collectionId:_0x1c7377}=_0x1ed606,_0x5ad9aa=this['workflow'][_0x16dd9c(0x2a5)][_0x16dd9c(0x2e0)](_0x37a4a3=>(_0x37a4a3[_0x16dd9c(0x285)]===_0x154e5e['DataCollection']||_0x154e5e[_0x16dd9c(0x799)])&&_0x37a4a3['id']===_0x1c7377);if(!_0x5ad9aa)throw new Error('Data\x20collection\x20not\x20found');const _0x348070=_0x5ad9aa[_0x16dd9c(0x789)]?.[_0x16dd9c(0x2e0)](_0x5aea23=>_0x5aea23[_0x16dd9c(0x285)]===_0x3373d7[_0x16dd9c(0x46b)]);if(!_0x348070)throw new Error(_0x16dd9c(0x48b));return await _0x932b98(_0x22d2da,'',_0xc9c61a,_0x348070,_0x5ad9aa[_0x16dd9c(0x789)],{'documentParserConnector':this[_0x16dd9c(0x462)],'nlpLibraryConnector':this[_0x16dd9c(0x4dd)],'generativeAIWorkerConnectors':this[_0x16dd9c(0xa1e)],'models':this[_0x16dd9c(0x646)][_0x16dd9c(0x6fb)],'contentMediator':this[_0x16dd9c(0x813)],'searchApiKey':this[_0x16dd9c(0x348)],'aiSearchApiKey':this[_0x16dd9c(0x3cb)],'searchConnector':this[_0x16dd9c(0x79d)],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this['queryFileConnector']});}throw new Error(_0x16dd9c(0x7b0));}async*['internalProcessJobStream'](_0x523fc0,_0x162e34){const _0x1d4d17=_0x2ad6ba;this[_0x1d4d17(0x646)]=await _0x5c0e98[_0x1d4d17(0x5fd)](this[_0x1d4d17(0x8e1)],this['label']);const _0x1d9c79=this[_0x1d4d17(0x646)]['blocks'][_0x1d4d17(0x2e0)](_0x291055=>_0x291055[_0x1d4d17(0x285)]===_0x154e5e[_0x1d4d17(0x46b)]);for await(const _0x1e3189 of async function*(_0x16eba2,_0x4aeb23,_0x2539ef,_0x398521,_0x21eb44){const _0xf8b6e1=_0x1d4d17,_0x40bd2d=(0x0,_0x145036['v4'])(),_0x3216b1=Date[_0xf8b6e1(0x9fc)]();if(_0x3bb532[_0xf8b6e1(0xa5c)]({'jobType':_0xdeb8fb[_0xf8b6e1(0x9d7)],'type':_0x531c2e[_0xf8b6e1(0x33f)],'jobId':_0x16eba2,'agentId':_0x40bd2d,'threadId':_0x4aeb23[_0xf8b6e1(0x9e8)],'traceLevel':_0x3c4020[_0xf8b6e1(0x659)],'startTime':Date['now'](),'timestamp':Date[_0xf8b6e1(0x9fc)](),'blockId':_0x2539ef['id'],'status':_0xf8b6e1(0x190),'initialPrompt':_0x4aeb23[_0xf8b6e1(0x57d)]}),await _0x14ead6(_0x4aeb23,_0x2539ef,_0x398521,_0x21eb44),_0x4aeb23[_0xf8b6e1(0x5b9)]){for(const _0x2b9507 in _0x4aeb23[_0xf8b6e1(0x5b9)])_0x93a755(_0x4aeb23[_0xf8b6e1(0x5b9)][_0x2b9507],_0x2539ef,_0x398521,_0x2b9507);}const _0x5a969c={'type':_0x4aeb23[_0xf8b6e1(0x285)],'context':[],'inputTokens':0x0,'outputTokens':0x0},_0x3bb703=new _0x4176d7();_0x1d52ad(_0x16eba2,''+_0x4aeb23['prompt'],_0x4aeb23,_0x5a969c,_0x2539ef,_0x398521,_0x21eb44,_0x3bb703);let _0x7944a9='',_0x5e9f05={'type':_0x4aeb23['type']};for(;;){const _0xc3f769=await _0x3bb703[_0xf8b6e1(0x35b)]();if(!_0xc3f769)break;_0x7944a9+=_0xc3f769[_0xf8b6e1(0x970)],_0x5e9f05={'type':_0x4aeb23[_0xf8b6e1(0x285)],'output':_0xc3f769[_0xf8b6e1(0x970)],'context':_0x5a969c[_0xf8b6e1(0x567)],'internalContext':{},'resultFile':void 0x0,'inputTokens':(_0x5a969c['inputTokens']??0x0)+(_0xc3f769['inputTokens']??0x0),'outputTokens':(_0x5a969c[_0xf8b6e1(0xa2f)]??0x0)+(_0xc3f769[_0xf8b6e1(0xa2f)]??0x0)},yield _0x5e9f05;}const _0xb60f06=_0x398521[_0xf8b6e1(0x2e0)](_0x3626e5=>_0x3626e5[_0xf8b6e1(0x285)]===_0x154e5e[_0xf8b6e1(0x865)]);yield{..._0x5e9f05,'output':'','internalContext':_0xb60f06?.[_0xf8b6e1(0x42f)]?.[_0xf8b6e1(0x567)]??{},'resultFile':await _0xb60f06?.[_0xf8b6e1(0x42f)]?.[_0xf8b6e1(0x82c)]?.['text']()??void 0x0};const {inputTokens:_0x291dc9=0x0,outputTokens:_0x4ab7aa=0x0,context:_0x2f05e2=[]}=_0x5e9f05;_0x3bb532[_0xf8b6e1(0xa5c)]({'jobType':_0xdeb8fb[_0xf8b6e1(0x9d7)],'type':_0x531c2e[_0xf8b6e1(0x3be)],'jobId':_0x16eba2,'agentId':_0x40bd2d,'threadId':_0x4aeb23[_0xf8b6e1(0x9e8)],'traceLevel':_0x3c4020['Info'],'startTime':_0x3216b1,'timestamp':Date['now'](),'blockId':_0x2539ef['id'],'status':_0xf8b6e1(0x190),'output':_0x7944a9,'prompt':_0x4aeb23[_0xf8b6e1(0x57d)],'agentName':'','history':_0x4aeb23[_0xf8b6e1(0x286)]??[],'instructions':''+(_0x4aeb23[_0xf8b6e1(0x4ae)]??''),'ragContext':_0x2f05e2,'inputTokens':_0x291dc9,'outputTokens':_0x4ab7aa});}(_0x523fc0,_0x162e34,_0x1d9c79,this[_0x1d4d17(0x646)][_0x1d4d17(0x2a5)],{'documentParserConnector':this['documentParserConnector'],'nlpLibraryConnector':this[_0x1d4d17(0x4dd)],'generativeAIWorkerConnectors':this[_0x1d4d17(0xa1e)],'models':this[_0x1d4d17(0x646)][_0x1d4d17(0x6fb)],'contentMediator':this[_0x1d4d17(0x813)],'searchApiKey':this['searchApiKey'],'aiSearchApiKey':this[_0x1d4d17(0x3cb)],'searchConnector':this[_0x1d4d17(0x79d)],'aiSearchConnector':this[_0x1d4d17(0x92b)],'queryFileConnector':this[_0x1d4d17(0x555)]}))yield _0x1e3189;}[_0x2ad6ba(0x22c)](_0x38f166,_0x5ebc81){const _0x38fb07=_0x2ad6ba;if('rate'===_0x5ebc81[_0x38fb07(0x285)])return _0x38f166=_0x5ebc81[_0x38fb07(0xa0f)],void this[_0x38fb07(0x5a9)](_0x38f166);this[_0x38fb07(0x5a9)](_0x38f166),_0x3bb532[_0x38fb07(0xa5c)]({'jobType':_0xdeb8fb[_0x38fb07(0x8ed)],'type':_0xefe43c[_0x38fb07(0x42b)],'traceLevel':_0x3c4020['Info'],'jobId':_0x38f166,'threadId':_0x5ebc81[_0x38fb07(0x9e8)],'startTime':Date[_0x38fb07(0x9fc)](),'timestamp':Date[_0x38fb07(0x9fc)](),'status':'success'});}[_0x2ad6ba(0xab6)](_0x35fc4a,_0xb288ab){const _0x2e007e=_0x2ad6ba;if(_0x2e007e(0x8db)===_0xb288ab[_0x2e007e(0x285)])return _0x35fc4a=_0xb288ab[_0x2e007e(0xa0f)],void this[_0x2e007e(0x4c3)](_0x35fc4a);_0x3bb532['trace']({'jobType':_0xdeb8fb[_0x2e007e(0x8ed)],'type':_0xefe43c[_0x2e007e(0x8f5)],'traceLevel':_0x3c4020[_0x2e007e(0x659)],'jobId':_0x35fc4a,'threadId':_0xb288ab[_0x2e007e(0x9e8)],'startTime':Date[_0x2e007e(0x9fc)](),'timestamp':Date[_0x2e007e(0x9fc)](),'status':_0x2e007e(0x190)}),this[_0x2e007e(0x4c3)](_0x35fc4a);}async['getModel'](_0x10f899){const _0x1745e8=_0x2ad6ba;if(!this[_0x1745e8(0x775)])throw new Error(_0x1745e8(0x98a));const _0x3e618c=await this[_0x1745e8(0x775)][_0x1745e8(0xa73)]('/',{'recursive':!0x1,'includeSyncingFiles':!0x1});for(const _0x4dc2ca of _0x3e618c)if(_0x4dc2ca[_0x1745e8(0x7bc)]===_0x406df3[_0x1745e8(0x1a9)][_0x1745e8(0x87a)]&&_0x4dc2ca['pathName']===_0x10f899)return _0x4dc2ca[_0x1745e8(0x1a4)]??_0x4dc2ca[_0x1745e8(0x225)];throw new Error(_0x1745e8(0x694)+_0x10f899);}async[_0x2ad6ba(0x22e)](){const _0x1fbdd3=_0x2ad6ba;if(!this[_0x1fbdd3(0x646)])throw new Error('Workflow\x20not\x20initialized');for(const _0xe21292 of this[_0x1fbdd3(0x403)][_0x1fbdd3(0x9c1)]())try{const _0x199849=this['workflow'][_0x1fbdd3(0x2a5)]['filter'](_0x48bd10=>(_0x48bd10[_0x1fbdd3(0x285)]===_0x154e5e['DataCollection']||_0x48bd10[_0x1fbdd3(0x285)]===_0x154e5e['Knowledge'])&&_0x48bd10['ingestBlocks']?.[_0x1fbdd3(0x4df)](_0xbd4db2=>_0xbd4db2['id']===_0xe21292[_0x1fbdd3(0x5c3)]()));for(let _0x21342c=_0x199849['length']-0x1;_0x21342c>=0x0;_0x21342c--)for(const _0x3f8522 of _0x199849[_0x21342c]['ingestBlocks']??[])_0x3f8522[_0x1fbdd3(0x285)]===_0x3373d7[_0x1fbdd3(0x9e6)]&&this[_0x1fbdd3(0x813)][_0x1fbdd3(0xa54)](_0x3f8522['id'])['getIsLoaded']()&&_0x199849['splice'](_0x21342c,0x1),_0x3f8522['type']===_0x3373d7[_0x1fbdd3(0x57e)]&&this['contentMediator']['getGraphDatabase'](_0x3f8522['id'])[_0x1fbdd3(0x9b7)]()&&_0x199849[_0x1fbdd3(0x33a)](_0x21342c,0x1);const _0x2bf979=new Map();let _0xa552d3=!0x1;for(const _0x4007e6 of _0x199849){let _0x34352=''+(_0x4007e6[_0x1fbdd3(0x354)]??0x1);for(const _0x338062 of _0x4007e6[_0x1fbdd3(0x16f)]??[])_0x338062[_0x1fbdd3(0x285)]===_0x3373d7['Agent']&&(_0x34352=_0x34352+'-'+(_0x338062[_0x1fbdd3(0x354)]??0x1));for(const _0x134b33 of _0x4007e6['ingestBlocks']??[])_0x134b33[_0x1fbdd3(0x285)]===_0x3373d7[_0x1fbdd3(0x9e6)]&&_0x2bf979[_0x1fbdd3(0x50f)](_0x134b33['id'],{'version':_0x34352,'getDatabase':this['contentMediator'][_0x1fbdd3(0xa54)][_0x1fbdd3(0xa0a)](this[_0x1fbdd3(0x813)]),'block':_0x134b33}),_0x134b33[_0x1fbdd3(0x285)]===_0x3373d7[_0x1fbdd3(0x57e)]&&_0x2bf979[_0x1fbdd3(0x50f)](_0x134b33['id'],{'version':_0x34352,'getDatabase':this[_0x1fbdd3(0x813)]['getGraphDatabase'][_0x1fbdd3(0xa0a)](this['contentMediator']),'block':_0x134b33});}for(const {getDatabase:_0x383970,block:_0x2676af,version:_0x3f29ac}of _0x2bf979['values']())try{const _0x570e67=_0x383970(_0x2676af['id']);if(_0x570e67[_0x1fbdd3(0x9b7)]())continue;_0x570e67['loadFromDisk'](_0x3f29ac),_0x570e67[_0x1fbdd3(0x71e)](!0x0),_0xa552d3=!0x0;}catch(_0x6ccb40){console['error'](_0x6ccb40),_0xa552d3=!0x1;break;}if(_0xe8f382[_0x1fbdd3(0x849)]('Loaded\x20from\x20disk'),_0xa552d3)continue;_0xe8f382[_0x1fbdd3(0x849)](_0x1fbdd3(0x6d9));const _0x3239a1=await _0xe21292[_0x1fbdd3(0xa73)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x1});await this[_0x1fbdd3(0x494)](_0x3e4b21[_0x1fbdd3(0x639)],_0xe21292[_0x1fbdd3(0x576)](),_0x3239a1);for(const {getDatabase:_0x3ad2ce,block:_0x4dad05,version:_0x456861}of _0x2bf979[_0x1fbdd3(0x9c1)]()){const _0x2e527f=_0x3ad2ce(_0x4dad05['id']);_0x2e527f['getIsLoaded']()||(_0x2e527f[_0x1fbdd3(0x1fd)](_0x456861),_0x2e527f[_0x1fbdd3(0x71e)](!0x0));}}catch(_0x4f445f){_0xe8f382[_0x1fbdd3(0x60c)](_0x1fbdd3(0x65b),{'nodeId':this['localNode'][_0x1fbdd3(0x362)](),'nodeType':this[_0x1fbdd3(0x6e0)][_0x1fbdd3(0x285)]});}}async[_0x2ad6ba(0x86c)](){const _0x5ce228=_0x2ad6ba;for(const _0x498d04 of this['externalStores'][_0x5ce228(0x9c1)]())try{const _0x445de0=await _0x498d04[_0x5ce228(0xa73)]('/',{'recursive':!0x0});await this[_0x5ce228(0x494)](_0x3e4b21[_0x5ce228(0x5ca)],_0x498d04[_0x5ce228(0x576)](),_0x445de0);}catch(_0x312526){_0xe8f382[_0x5ce228(0x60c)](_0x5ce228(0xaac),{'nodeId':this['localNode']['getId'](),'nodeType':this[_0x5ce228(0x6e0)][_0x5ce228(0x285)]});}}async[_0x2ad6ba(0x494)](_0xc93e41,_0x267823,_0x5d41a6){const _0x4b8bfa=_0x2ad6ba;for(const _0x1bf34f of _0x5d41a6){if(_0x1bf34f[_0x4b8bfa(0x7bc)]===_0x406df3['ObjectKind'][_0x4b8bfa(0x5ce)]){if(!_0x1bf34f[_0x4b8bfa(0x866)]||0x0===_0x1bf34f[_0x4b8bfa(0x866)][_0x4b8bfa(0x8e0)])continue;await this[_0x4b8bfa(0x494)](_0xc93e41,_0x267823,_0x1bf34f[_0x4b8bfa(0x866)]);}_0x1bf34f[_0x4b8bfa(0x7bc)]===_0x406df3[_0x4b8bfa(0x1a9)]['File']&&this[_0x4b8bfa(0x7ab)](_0xc93e41,_0x267823,_0x1bf34f[_0x4b8bfa(0x225)]);}return new Promise(_0x309f3d=>{const _0x288090=_0x401df5['setInterval'](()=>{const _0x589b61=a0_0x119e;0x0!==this[_0x589b61(0x241)][_0x589b61(0x8e0)]||this[_0x589b61(0x340)]||(_0x288090(),_0x309f3d());},0x1388);});}[_0x2ad6ba(0x9f3)](){const _0x16afe1=_0x2ad6ba;for(const _0x3f5f45 of this['dataStores']['values']())_0x3f5f45[_0x16afe1(0x208)](this[_0x16afe1(0x19d)],async _0x289d7c=>{const _0x445f8e=_0x16afe1;switch(_0x289d7c[_0x445f8e(0xabb)]){case _0x406df3['StorageEventType'][_0x445f8e(0x3f6)]:this[_0x445f8e(0x62e)](_0x3e4b21[_0x445f8e(0x639)],_0x3f5f45['getName'](),_0x289d7c[_0x445f8e(0x31a)][_0x445f8e(0x82c)][_0x445f8e(0x225)]),this[_0x445f8e(0x7ab)](_0x3e4b21['ObjectStorage'],_0x3f5f45['getName'](),_0x289d7c[_0x445f8e(0x31a)][_0x445f8e(0x82c)][_0x445f8e(0x225)]);break;case _0x406df3['StorageEventType'][_0x445f8e(0x6b1)]:this[_0x445f8e(0x62e)](_0x3e4b21['ObjectStorage'],_0x3f5f45[_0x445f8e(0x576)](),_0x289d7c[_0x445f8e(0x31a)][_0x445f8e(0x225)]);}});}[_0x2ad6ba(0x4bb)](){const _0x4668de=_0x2ad6ba;for(const _0x4b12d6 of this['externalStores'][_0x4668de(0x9c1)]())_0x4b12d6[_0x4668de(0x208)](this[_0x4668de(0x19d)],async _0x363095=>{const _0x4f7e6c=_0x4668de;switch(_0x363095[_0x4f7e6c(0xabb)]){case _0x406df3['StorageEventType'][_0x4f7e6c(0x3f6)]:this[_0x4f7e6c(0x62e)](_0x3e4b21[_0x4f7e6c(0x5ca)],_0x4b12d6['getName'](),_0x363095['payload'][_0x4f7e6c(0x82c)][_0x4f7e6c(0x225)]),this[_0x4f7e6c(0x7ab)](_0x3e4b21[_0x4f7e6c(0x5ca)],_0x4b12d6['getName'](),_0x363095[_0x4f7e6c(0x31a)][_0x4f7e6c(0x82c)][_0x4f7e6c(0x225)]);break;case _0x406df3[_0x4f7e6c(0x1cd)][_0x4f7e6c(0x6b1)]:this['removeContent'](_0x3e4b21[_0x4f7e6c(0x5ca)],_0x4b12d6[_0x4f7e6c(0x576)](),_0x363095[_0x4f7e6c(0x31a)][_0x4f7e6c(0x225)]);}});}[_0x2ad6ba(0x7ab)](_0x168257,_0x2acbb8,_0x1a1a6b){const _0x65c8c4=_0x2ad6ba;this[_0x65c8c4(0x241)]['push']({'type':_0x65c8c4(0x424),'storageType':_0x168257,'storeId':_0x2acbb8,'pathName':_0x1a1a6b}),this[_0x65c8c4(0x182)]();}[_0x2ad6ba(0x62e)](_0x3ca07e,_0x1478f9,_0x21009d){const _0x95f465=_0x2ad6ba;this[_0x95f465(0x241)][_0x95f465(0x673)]({'type':_0x95f465(0x6e6),'storageType':_0x3ca07e,'storeId':_0x1478f9,'pathName':_0x21009d}),this[_0x95f465(0x182)]();}async['processContentQueue'](){const _0x4f1cf9=_0x2ad6ba;if(!this[_0x4f1cf9(0x340)]){try{this['contentQueueRunning']=!0x0;const _0x39907d=this[_0x4f1cf9(0x241)][_0x4f1cf9(0x591)]();if(!_0x39907d)return;_0x4f1cf9(0x424)===_0x39907d[_0x4f1cf9(0x285)]?await this[_0x4f1cf9(0x9c6)](_0x39907d[_0x4f1cf9(0x17f)],_0x39907d[_0x4f1cf9(0x839)],_0x39907d[_0x4f1cf9(0x225)]):this[_0x4f1cf9(0x385)](_0x39907d[_0x4f1cf9(0x17f)],_0x39907d[_0x4f1cf9(0x839)],_0x39907d['pathName']);}catch(_0x1392fa){_0xe8f382['error'](_0x4f1cf9(0x50e),{'nodeId':this[_0x4f1cf9(0x6e0)][_0x4f1cf9(0x362)](),'nodeType':this['localNode'][_0x4f1cf9(0x285)]});}this['contentQueueRunning']=!0x1,this['contentQueue']['length']>0x0&&this[_0x4f1cf9(0x182)]();}}async[_0x2ad6ba(0x9c6)](_0xd1c5df,_0x5180b4,_0x434c68){const _0x1f9738=_0x2ad6ba;if(_0xe8f382[_0x1f9738(0x849)]('addContent',_0xd1c5df,_0x5180b4,_0x434c68),!this['workflow'])throw new Error(_0x1f9738(0x93d));let _0x509019;switch(_0xd1c5df){case _0x3e4b21[_0x1f9738(0x639)]:_0x509019=_0x3373d7[_0x1f9738(0x268)];break;case _0x3e4b21[_0x1f9738(0x5ca)]:_0x509019=_0x3373d7[_0x1f9738(0x926)];}if(!_0x509019)return;const _0x21b56b=this['workflow'][_0x1f9738(0x2a5)][_0x1f9738(0x1bc)](_0x5d7c27=>_0x5d7c27[_0x1f9738(0x285)]===_0x154e5e['Knowledge']||_0x5d7c27[_0x1f9738(0x285)]===_0x154e5e[_0x1f9738(0x176)]),_0x4690f3=new Set(_0x21b56b['map'](_0x3c10e9=>_0x3c10e9['id'])),_0x2aab2d=_0x21b56b[_0x1f9738(0x1bc)](_0x417543=>_0x417543[_0x1f9738(0x16f)]?.[_0x1f9738(0x4df)](_0x49177a=>_0x49177a['type']===_0x509019&&_0x49177a['id']===_0x5180b4)),_0x60b7ce=[];for(const _0x53ba4d of _0x2aab2d){if(!_0x4690f3[_0x1f9738(0x98d)](_0x53ba4d['id']))continue;_0x4690f3[_0x1f9738(0xa12)](_0x53ba4d['id']);const _0x22386e=_0x53ba4d[_0x1f9738(0x16f)]?.[_0x1f9738(0x2e0)](_0x2362e0=>_0x2362e0[_0x1f9738(0x285)]===_0x509019&&_0x2362e0['id']===_0x5180b4);_0x22386e&&_0x5b48dd[_0x1f9738(0x424)](this[_0x1f9738(0x19d)],async()=>{const _0x36b12e=_0x1f9738,_0x2e2d50=new Promise(async _0x573d02=>{const _0x3b247e=a0_0x119e,_0x225d05=(0x0,_0x145036['v4'])();_0x3bb532[_0x3b247e(0x5a9)](null,_0x225d05),await _0x38aa17(_0x225d05,_0x434c68,_0x22386e,_0x53ba4d[_0x3b247e(0x16f)],{'documentParserConnector':this[_0x3b247e(0x462)],'nlpLibraryConnector':this[_0x3b247e(0x4dd)],'generativeAIWorkerConnectors':this[_0x3b247e(0xa1e)],'models':this[_0x3b247e(0x646)][_0x3b247e(0x6fb)],'contentMediator':this[_0x3b247e(0x813)],'searchApiKey':this[_0x3b247e(0x348)],'aiSearchApiKey':this[_0x3b247e(0x3cb)],'version':_0x53ba4d[_0x3b247e(0x354)]??0x1}),_0x3bb532['closeTrace'](_0x225d05),_0x573d02();});_0x60b7ce[_0x36b12e(0x673)](_0x2e2d50);});}await Promise['all'](_0x60b7ce),this['sendStats']();}[_0x2ad6ba(0x385)](_0x2cc984,_0x484c1b,_0x3d56a9){const _0x4753b2=_0x2ad6ba;if(_0xe8f382[_0x4753b2(0x849)](_0x4753b2(0x62e),_0x2cc984,_0x484c1b,_0x3d56a9),!this[_0x4753b2(0x646)])throw new Error(_0x4753b2(0x93d));let _0x535433;switch(_0x2cc984){case _0x3e4b21['ObjectStorage']:_0x535433=_0x3373d7[_0x4753b2(0x268)];break;case _0x3e4b21[_0x4753b2(0x5ca)]:_0x535433=_0x3373d7[_0x4753b2(0x926)];}if(!_0x535433)return;const _0x3cf9e8=this[_0x4753b2(0x646)][_0x4753b2(0x2a5)][_0x4753b2(0x1bc)](_0x42e4dc=>_0x42e4dc['type']===_0x154e5e[_0x4753b2(0x799)]||_0x42e4dc[_0x4753b2(0x285)]===_0x154e5e[_0x4753b2(0x176)]),_0x390f15=new Set(_0x3cf9e8[_0x4753b2(0x607)](_0xe24d71=>_0xe24d71['id'])),_0x1ff123=_0x3cf9e8['filter'](_0x4ee92b=>_0x4ee92b[_0x4753b2(0x16f)]?.[_0x4753b2(0x4df)](_0x18b3f0=>_0x18b3f0[_0x4753b2(0x285)]===_0x535433&&_0x18b3f0['id']===_0x484c1b));for(const _0x24d7e5 of _0x1ff123){if(!_0x390f15[_0x4753b2(0x98d)](_0x24d7e5['id']))continue;_0x390f15[_0x4753b2(0xa12)](_0x24d7e5['id']);let _0x1e2f15=''+(_0x24d7e5['version']??0x1);for(const _0x4e7ef3 of _0x24d7e5['ingestBlocks']??[])_0x4e7ef3[_0x4753b2(0x285)]===_0x3373d7['Agent']&&(_0x1e2f15=_0x1e2f15+'-'+(_0x4e7ef3['version']??0x1));for(const _0x848666 of _0x24d7e5[_0x4753b2(0x16f)]??[]){if(_0x848666[_0x4753b2(0x285)]===_0x3373d7[_0x4753b2(0x9e6)]){const _0x2d7d30=this[_0x4753b2(0x813)]['getVectorDatabase'](_0x848666['id']);_0x2d7d30[_0x4753b2(0x6e6)](_0x3d56a9),_0x2d7d30[_0x4753b2(0x9b7)]()&&_0x2d7d30['saveToDisk'](_0x1e2f15);}if(_0x848666[_0x4753b2(0x285)]===_0x3373d7['GraphDatabase']){const _0x2ce507=this['contentMediator'][_0x4753b2(0x800)](_0x848666['id']);_0x2ce507[_0x4753b2(0x6e6)](_0x3d56a9),_0x2ce507['getIsLoaded']()&&_0x2ce507[_0x4753b2(0x1fd)](_0x1e2f15);}}}this['sendStats']();}[_0x2ad6ba(0x256)](){const _0x2ae757=_0x2ad6ba;try{return this['capacityReporter']['getCapacityReport']()[_0x2ae757(0x4e0)][_0x2ae757(0x7ca)]*(0x1-this[_0x2ae757(0x718)][_0x2ae757(0x2f1)]()[_0x2ae757(0x4e0)]['load']);}catch(_0x18b66a){return _0xe8f382['log'](_0x1b63ac['Jobs'],_0x2ae757(0x7bd),_0x18b66a),0x0;}}[_0x2ad6ba(0x7cb)](){const _0x1a219e=_0x2ad6ba;this[_0x1a219e(0x510)]&&(this[_0x1a219e(0xa97)]&&clearTimeout(this[_0x1a219e(0xa97)]),this[_0x1a219e(0xa97)]=setTimeout(async()=>{const _0x2cad40=_0x1a219e;if(delete this[_0x2cad40(0xa97)],!this['modelStore'])return;let _0x43e0c1=await this[_0x2cad40(0x775)][_0x2cad40(0x856)]();for(const _0x303366 of this[_0x2cad40(0x403)][_0x2cad40(0x9c1)]())_0x43e0c1+=await _0x303366['getSize']();this[_0x2cad40(0x5a2)]['publish']({'sourceId':_0x124816,'messageType':_0x5f120e[_0x2cad40(0x670)],'content':{'type':_0x5d0a4b[_0x2cad40(0x2f4)],'label':this[_0x2cad40(0x19d)],'stats':{'timestamp':Date[_0x2cad40(0x9fc)](),'storage':_0x43e0c1,'messagesSent':this[_0x2cad40(0x812)],'messagesReceived':this['messagesReceived'],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x2cad40(0x416)],'writes':0x0,'reads':0x0,'prompts':this['prompts'],'tokens':this[_0x2cad40(0x48c)]}}});},_0x18dd7b));}[_0x2ad6ba(0x861)](_0x51575c,_0x100e84){const _0x1cfe5d=_0x2ad6ba,_0x41499b=this[_0x1cfe5d(0x19d)],_0x403faf=this['getOwnerId']();_0xe8f382[_0x1cfe5d(0x861)](_0x573191['GenerativeAIContext'],{'topic':_0x41499b,'type':_0x1cfe5d(0x8c6),'nodeId':_0x403faf,'tokenCount':_0x100e84,'tokensPerSecond':_0x51575c});}[_0x2ad6ba(0x5a9)](_0x3eeeec){const _0x31ac0e=_0x2ad6ba;try{if(!this['workflow'])throw new Error(_0x31ac0e(0x93d));if(!this[_0x31ac0e(0xa19)])throw new Error(_0x31ac0e(0x8d2));if(!_0x3bb532[_0x31ac0e(0x5a9)](this[_0x31ac0e(0xa19)],_0x3eeeec))throw new Error(_0x31ac0e(0x189));return _0x3eeeec;}catch(_0x1862a7){return console[_0x31ac0e(0x60c)]('Error\x20opening\x20trace',_0x1862a7),'Could\x20not\x20open\x20trace';}}['closeTrace'](_0x5f28ee){const _0x1b9fb5=_0x2ad6ba;try{_0x3bb532[_0x1b9fb5(0x4c3)](_0x5f28ee);}catch(_0x550334){console[_0x1b9fb5(0x60c)]('Error\x20closing\x20trace',{'jobId':_0x5f28ee,'error':_0x550334});}}async[_0x2ad6ba(0x506)](){return new Promise(_0xfceda1=>{const _0x50594c=a0_0x119e;try{const _0x55229e=_0xbe45c(this[_0x50594c(0x8e1)],this[_0x50594c(0x19d)]);this[_0x50594c(0xa19)]=this['contentMediator'][_0x50594c(0x605)](_0x55229e),this[_0x50594c(0xa19)][_0x50594c(0x208)](({event:_0x4bc30a})=>{const _0x262637=_0x50594c;_0x4bc30a===_0x406df3[_0x262637(0xa00)][_0x262637(0x9b1)]&&(this['loggingDb']['unsubscribe'](),_0xfceda1());});}catch(_0x3d1591){console[_0x50594c(0x60c)]('Error\x20initializing\x20logging\x20database\x20with\x20\x27'+_0xbe45c(this[_0x50594c(0x8e1)],this[_0x50594c(0x19d)])+_0x50594c(0x957),_0x3d1591),_0xfceda1();}});}}class _0x24e80b extends _0x3cbe57{[_0x2ad6ba(0x6e0)];[_0x2ad6ba(0x58c)];['vendorId'];['db'];[_0x2ad6ba(0xa97)];[_0x2ad6ba(0x337)]=0x0;[_0x2ad6ba(0x8c1)]=0x0;[_0x2ad6ba(0x8b5)]=!0x1;constructor(_0x5394af,_0x182de7,_0x41702a,_0x522557,_0x2d4113){const _0x7f11e1=_0x2ad6ba;if(_0x7f11e1(0x488)!=typeof _0x182de7)throw new _0x3f1f96(_0x429a2c[_0x7f11e1(0x482)],'Cannot\x20create\x20Graph\x20Database:\x20Name\x20must\x20be\x20a\x20string');super(_0x5394af,_0x182de7),this[_0x7f11e1(0x6e0)]=_0x5394af,this[_0x7f11e1(0x58c)]=_0x41702a,this[_0x7f11e1(0x8e1)]=_0x522557;const _0x1848cb=_0x7f11e1(0x5c8)+this['vendorId']+_0x7f11e1(0x5c8)+this['clusterId']+_0x7f11e1(0x5c8)+this[_0x7f11e1(0x19d)];this['db']=new _0x2d4113(_0x1848cb),this[_0x7f11e1(0x7cb)]();}[_0x2ad6ba(0x9b7)](){return this['isLoaded'];}[_0x2ad6ba(0x71e)](_0x430fea){const _0x1148f7=_0x2ad6ba;this[_0x1148f7(0x8b5)]=_0x430fea;}[_0x2ad6ba(0x4aa)](){const _0x3c3e5e=_0x2ad6ba;clearTimeout(this[_0x3c3e5e(0xa97)]),delete this[_0x3c3e5e(0xa97)],super['destroy']();}[_0x2ad6ba(0x27c)](){const _0x582acd=_0x2ad6ba;this['systemTopic']['publish']({'sourceId':_0x124816,'messageType':_0x5f120e[_0x582acd(0x670)],'content':{'type':_0x5d0a4b[_0x582acd(0x8cf)],'label':this['label']}});}[_0x2ad6ba(0x30c)](){const _0x369157=_0x2ad6ba;return _0x406df3[_0x369157(0x525)][_0x369157(0x57e)];}[_0x2ad6ba(0x536)](){const _0x280fa5=_0x2ad6ba;this[_0x280fa5(0x7cb)]();}[_0x2ad6ba(0x17d)](_0x56a912,_0x3f22ca,_0x505959,_0x4d9dec){const _0x480c2d=_0x2ad6ba;this['db'][_0x480c2d(0x17d)](_0x56a912,_0x3f22ca,_0x505959,_0x4d9dec),this['writes']+=0x1,this[_0x480c2d(0x7cb)]();}['addEdge'](_0x5d6a2c,_0x52b210){const _0x24f12b=_0x2ad6ba;this['db']['addEdge'](_0x5d6a2c,_0x52b210),this['writes']+=0x1,this[_0x24f12b(0x7cb)]();}[_0x2ad6ba(0x20b)](_0x1aa87d,_0x48be0f,_0xf81a63){const _0x403dcb=_0x2ad6ba,_0x1a2c3e=this['db'][_0x403dcb(0x20b)](_0x1aa87d,_0x48be0f,_0xf81a63);return this['reads']+=0x1,_0xe8f382[_0x403dcb(0x861)](_0x573191[_0x403dcb(0x57e)],{'type':_0x403dcb(0x867),'label':this[_0x403dcb(0x19d)],'nodeId':this[_0x403dcb(0x6e0)][_0x403dcb(0x362)](),'nodeType':this[_0x403dcb(0x6e0)][_0x403dcb(0x285)],'clusterId':this['clusterId'],'size':0x0}),this[_0x403dcb(0x7cb)](),_0x1a2c3e;}[_0x2ad6ba(0x6e6)](_0x515b15){const _0x494c65=_0x2ad6ba;this['db'][_0x494c65(0x6e6)](_0x515b15),this['writes']+=0x1,this['sendStats']();}[_0x2ad6ba(0x1fd)](_0x2fdce2){this['db']['saveToDisk'](_0x2fdce2);}[_0x2ad6ba(0x3f0)](_0x36be82){this['db']['loadFromDisk'](_0x36be82);}[_0x2ad6ba(0x7cb)](){const _0x528a67=_0x2ad6ba;this['debounceStats']&&clearTimeout(this[_0x528a67(0xa97)]),this[_0x528a67(0xa97)]=setTimeout(async()=>{const _0x21dd11=_0x528a67;delete this[_0x21dd11(0xa97)];const _0xa76a0e=this['db'][_0x21dd11(0x856)]();this[_0x21dd11(0x5a2)]['publish']({'sourceId':_0x124816,'messageType':_0x5f120e['Content'],'content':{'type':_0x5d0a4b[_0x21dd11(0xa20)],'label':this[_0x21dd11(0x19d)],'stats':{'timestamp':Date[_0x21dd11(0x9fc)](),'storage':_0xa76a0e,'messagesSent':this[_0x21dd11(0x812)],'messagesReceived':this[_0x21dd11(0x8f2)],'bytesSent':this[_0x21dd11(0x18f)],'bytesReceived':this[_0x21dd11(0x416)],'writes':this[_0x21dd11(0x337)],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),_0xe8f382[_0x21dd11(0x654)](_0x573191[_0x21dd11(0x57e)],_0x21dd11(0x5c8)+this[_0x21dd11(0x58c)]+'ccc'+this[_0x21dd11(0x19d)],_0xa76a0e);},_0x18dd7b);}}class _0x212001 extends _0x39cd91{[_0x2ad6ba(0x6c0)];constructor(_0x571b5e,_0x53f88a,_0x593faa){const _0x4dca05=_0x2ad6ba;super(_0x571b5e,_0x53f88a),this[_0x4dca05(0x6c0)]=_0x593faa;}[_0x2ad6ba(0x30c)](){const _0x101326=_0x2ad6ba;return _0x406df3[_0x101326(0x525)][_0x101326(0x479)];}[_0x2ad6ba(0x4dc)](){const _0x33242d=_0x2ad6ba;return this[_0x33242d(0x6c0)];}[_0x2ad6ba(0x3af)](){const _0x5adc05=_0x2ad6ba;return this[_0x5adc05(0x6c0)]['id'];}}class _0x2997ec extends _0x212001{['remoteId'];['params'];[_0x2ad6ba(0x1d1)];[_0x2ad6ba(0x6a7)]=_0x331eb8();constructor(_0x3885d9,_0x382198,_0x3f9c9f,_0x57f08a,_0x222fb3){const _0x38f9f8=_0x2ad6ba;super(_0x3885d9,_0x382198,_0x3f9c9f),this[_0x38f9f8(0x64e)]=_0x57f08a,this[_0x38f9f8(0x716)]=_0x222fb3;}[_0x2ad6ba(0x4aa)](){const _0x19c2c4=_0x2ad6ba;this[_0x19c2c4(0xa1b)](_0x19c2c4(0x648)),this[_0x19c2c4(0xa1b)](_0x19c2c4(0x28d)),super[_0x19c2c4(0x4aa)]();}[_0x2ad6ba(0x8a1)](_0x2f8dfa){const _0x4ba716=_0x2ad6ba;if(!this[_0x4ba716(0x1d1)])throw new _0x31ec66(_0x31ec66['codes'][_0x4ba716(0x25a)],{'label':this[_0x4ba716(0x19d)],'ownerId':this[_0x4ba716(0x817)][_0x4ba716(0x362)](),'remoteId':this[_0x4ba716(0x64e)]});this[_0x4ba716(0x1d1)][_0x4ba716(0x29d)]({'sourceId':this['owner'][_0x4ba716(0x362)](),'content':{'action':_0x39a19c[_0x4ba716(0x45e)],'track':_0x2f8dfa,'stream':this[_0x4ba716(0x6c0)],'priority':_0x406df3[_0x4ba716(0x3db)]['Default'],'params':this[_0x4ba716(0x771)](_0x2f8dfa['kind'],this[_0x4ba716(0x716)])}});}['removeTrack'](_0x442f1){const _0x37ae25=_0x2ad6ba,_0x5929aa=this[_0x37ae25(0x900)](_0x442f1);if(_0x5929aa){if(!this[_0x37ae25(0x1d1)])return null;this[_0x37ae25(0x1d1)][_0x37ae25(0x29d)]({'sourceId':this[_0x37ae25(0x817)]['getId'](),'content':{'action':_0x39a19c['Remove'],'track':_0x5929aa,'stream':this[_0x37ae25(0x6c0)]}});}return _0x5929aa;}[_0x2ad6ba(0x6b6)](_0x135c47){const _0x273d0c=_0x2ad6ba;if(!this['topic'])throw new _0x31ec66(_0x31ec66[_0x273d0c(0x4b6)][_0x273d0c(0x25a)],{'label':this[_0x273d0c(0x19d)],'ownerId':this[_0x273d0c(0x817)][_0x273d0c(0x362)](),'remoteId':this[_0x273d0c(0x64e)]});this[_0x273d0c(0x1d1)][_0x273d0c(0x29d)]({'sourceId':this['owner'][_0x273d0c(0x362)](),'content':{'action':_0x39a19c[_0x273d0c(0x269)],'priority':_0x135c47,'stream':this[_0x273d0c(0x6c0)]}});}[_0x2ad6ba(0x208)]({trackKinds:_0xfa37b7,params:_0x4959d8},_0xcbaa5f){const _0x26c8bf=_0x2ad6ba;if(!this[_0x26c8bf(0x1d1)])throw new _0x31ec66(_0x31ec66['codes'][_0x26c8bf(0x25a)],{'label':this[_0x26c8bf(0x19d)],'ownerId':this['owner'][_0x26c8bf(0x362)](),'remoteId':this[_0x26c8bf(0x64e)]});for(const _0x23e469 of this[_0x26c8bf(0x6c0)][_0x26c8bf(0x88a)]())_0xfa37b7[_0x26c8bf(0x205)](_0x23e469['kind'])&&this[_0x26c8bf(0x1d1)][_0x26c8bf(0x29d)]({'sourceId':this['owner'][_0x26c8bf(0x362)](),'content':{'action':_0x39a19c[_0x26c8bf(0x45e)],'track':_0x23e469,'stream':this[_0x26c8bf(0x6c0)],'priority':_0xcbaa5f,'params':this[_0x26c8bf(0x771)](_0x23e469[_0x26c8bf(0x7bc)],_0x4959d8)}});}[_0x2ad6ba(0x9cc)]({params:_0x75d1bf}){const _0x415c5a=_0x2ad6ba;if(!this[_0x415c5a(0x1d1)])throw new _0x31ec66(_0x31ec66[_0x415c5a(0x4b6)][_0x415c5a(0x25a)],{'label':this[_0x415c5a(0x19d)],'ownerId':this[_0x415c5a(0x817)][_0x415c5a(0x362)](),'remoteId':this[_0x415c5a(0x64e)]});for(const _0x3d9e93 of this[_0x415c5a(0x6c0)][_0x415c5a(0x88a)]())this['topic']['publish']({'sourceId':this[_0x415c5a(0x817)][_0x415c5a(0x362)](),'content':{'action':_0x39a19c[_0x415c5a(0x269)],'stream':this['mediaStream'],'params':this[_0x415c5a(0x771)](_0x3d9e93[_0x415c5a(0x7bc)],_0x75d1bf)}});}[_0x2ad6ba(0x99f)]({trackKinds:_0x270ae2}){const _0x30d9b5=_0x2ad6ba;if(this['topic']){for(const _0x16d847 of this['mediaStream'][_0x30d9b5(0x88a)]())_0x270ae2[_0x30d9b5(0x205)](_0x16d847[_0x30d9b5(0x7bc)])&&this[_0x30d9b5(0x1d1)][_0x30d9b5(0x29d)]({'sourceId':this[_0x30d9b5(0x817)][_0x30d9b5(0x362)](),'content':{'action':_0x39a19c[_0x30d9b5(0x288)],'stream':this[_0x30d9b5(0x6c0)],'track':_0x16d847}});}}['registerPublisher'](_0x10ac56){const _0x5dd85c=_0x2ad6ba;this[_0x5dd85c(0x1d1)]=_0x10ac56;}[_0x2ad6ba(0x30d)](_0x291279){const _0x59579d=_0x2ad6ba;_0x291279===this[_0x59579d(0x1d1)]&&(delete this[_0x59579d(0x1d1)],this[_0x59579d(0x6a7)][_0x59579d(0x29d)]());}[_0x2ad6ba(0x969)](_0xa76f7b){const _0x3b5fc3=_0x2ad6ba;return this[_0x3b5fc3(0x6a7)][_0x3b5fc3(0x208)](_0xa76f7b);}[_0x2ad6ba(0x900)](_0x2d8c54){const _0x5cbbd6=_0x2ad6ba;return this[_0x5cbbd6(0x6c0)]['getTracks']()[_0x5cbbd6(0x2e0)](_0x1dda01=>_0x1dda01[_0x5cbbd6(0x7bc)]===_0x2d8c54)||null;}[_0x2ad6ba(0x771)](_0x899d8,_0x2d74dd){const _0x10502e=_0x2ad6ba;let _0x2eaf70;return _0x10502e(0x28d)===_0x899d8&&_0x2d74dd?.[_0x10502e(0x28d)]&&_0x10502e(0x863)!=typeof _0x2d74dd[_0x10502e(0x28d)]&&(_0x2eaf70={'kind':_0x10502e(0x28d),..._0x2d74dd['video']},_0x2eaf70[_0x10502e(0x97a)]=this['getResolution']()),'audio'===_0x899d8&&_0x2d74dd?.[_0x10502e(0x648)]&&'boolean'!=typeof _0x2d74dd['audio']&&(_0x2eaf70={'kind':_0x10502e(0x648),..._0x2d74dd[_0x10502e(0x648)]}),_0x2eaf70;}[_0x2ad6ba(0x5f2)](){const _0x5c255b=_0x2ad6ba;let _0x304162={'width':0x0,'height':0x0};const _0x2c8d2a=this[_0x5c255b(0x6c0)][_0x5c255b(0x23e)]();if(_0x2c8d2a[_0x5c255b(0x8e0)]>0x0){const _0x5644a1=_0x2c8d2a[0x0][_0x5c255b(0x79c)]();_0x5644a1['width']&&_0x5644a1[_0x5c255b(0x529)]&&(_0x304162={'width':_0x5644a1['width'],'height':_0x5644a1[_0x5c255b(0x529)]});}return _0x304162;}}class _0x129156 extends _0x212001{['clusterId'];[_0x2ad6ba(0x539)]=_0x406df3['MediaStreamPriority'][_0x2ad6ba(0x8f3)];[_0x2ad6ba(0x5d8)]=new Map();[_0x2ad6ba(0x4d3)]=new Map();constructor(_0x25f33c,_0xbe7f66,_0x1f4da1,_0x4eb49f){const _0x34c258=_0x2ad6ba;super(_0x25f33c,_0xbe7f66,_0x1f4da1 instanceof MediaStream?_0x1f4da1:_0x1f4da1[_0x34c258(0x7e0)]?_0x1f4da1[_0x34c258(0x7e0)]:_0x1f4da1['captureStream']()),this[_0x34c258(0x58c)]=_0x4eb49f,this[_0x34c258(0x6c0)][_0x34c258(0x88a)]()['forEach'](_0x1b050d=>this[_0x34c258(0x840)](_0x1b050d)),_0xe8f382[_0x34c258(0x861)](_0x573191[_0x34c258(0x6a0)],{'type':_0x34c258(0x29d),'label':this[_0x34c258(0x19d)],'nodeId':this[_0x34c258(0x817)]['getId'](),'nodeType':this['owner'][_0x34c258(0x285)],'clusterId':this[_0x34c258(0x58c)],'streamId':this[_0x34c258(0x3af)](),'trackKinds':this['mediaStream'][_0x34c258(0x88a)]()[_0x34c258(0x607)](_0x2453ac=>_0x2453ac[_0x34c258(0x7bc)])});}[_0x2ad6ba(0x4aa)](){const _0x373071=_0x2ad6ba;this['outgoingStreams'][_0x373071(0x399)]>0x0&&(this[_0x373071(0x4d3)]['forEach'](_0x2206b4=>{const _0x167de3=_0x373071;_0x2206b4[_0x167de3(0x460)](),_0x2206b4[_0x167de3(0x4aa)]();}),this[_0x373071(0x4d3)][_0x373071(0xa82)]()),this['trackEndedListeners'][_0x373071(0x9a0)](_0xcaad61=>_0xcaad61()),super[_0x373071(0x4aa)]();}['publish'](_0x53d787){const _0xac2207=_0x2ad6ba;this[_0xac2207(0x5a2)][_0xac2207(0x29d)]({'sourceId':this[_0xac2207(0x817)][_0xac2207(0x362)](),'destinationIds':_0x53d787?[_0x53d787]:void 0x0,'propagate':!0x0,'messageType':_0x5f120e[_0xac2207(0x670)],'content':{'type':_0x5d0a4b[_0xac2207(0x474)],'ownerId':this[_0xac2207(0x817)][_0xac2207(0x362)](),'label':this[_0xac2207(0x19d)],'stream':{'streamId':this[_0xac2207(0x3af)](),'availableTrackKinds':this[_0xac2207(0x6c0)][_0xac2207(0x88a)]()[_0xac2207(0x607)](_0x287a9e=>_0x287a9e[_0xac2207(0x7bc)])}}});}['unpublish'](){const _0x42758a=_0x2ad6ba;this['systemTopic'][_0x42758a(0x29d)]({'sourceId':this['owner']['getId'](),'propagate':!0x0,'messageType':_0x5f120e[_0x42758a(0x670)],'content':{'type':_0x5d0a4b['UnpublishMediaStream'],'ownerId':this[_0x42758a(0x817)][_0x42758a(0x362)](),'label':this[_0x42758a(0x19d)]}}),this[_0x42758a(0x5a2)][_0x42758a(0x29d)]({'sourceId':_0x124816,'messageType':_0x5f120e['Content'],'content':{'type':_0x5d0a4b['CloseMediaStream'],'label':this[_0x42758a(0x19d)]}}),_0xe8f382['logServiceEvent'](_0x573191[_0x42758a(0x6a0)],{'type':_0x42758a(0x1d2),'label':this[_0x42758a(0x19d)],'nodeId':this['owner']['getId'](),'nodeType':this[_0x42758a(0x817)]['type'],'clusterId':this[_0x42758a(0x58c)],'streamId':this[_0x42758a(0x3af)]()});}[_0x2ad6ba(0x5a4)](){const _0x3f962c=_0x2ad6ba;return this[_0x3f962c(0x539)];}[_0x2ad6ba(0x6b6)](_0x593128){const _0x2d67fe=_0x2ad6ba;this[_0x2d67fe(0x539)]=_0x593128,this['outgoingStreams'][_0x2d67fe(0x9a0)](_0x7054ca=>_0x7054ca[_0x2d67fe(0x6b6)](_0x593128));}[_0x2ad6ba(0x32e)](_0x520576,_0x388141){const _0x6848cb=_0x2ad6ba;if(!this[_0x6848cb(0x4d3)][_0x6848cb(0x98d)](_0x520576)){const _0x4bdc32=new _0x2997ec(this[_0x6848cb(0x817)],this[_0x6848cb(0x19d)],this['mediaStream'],_0x520576,_0x388141),_0x4af673=_0x4bdc32['onUnregisterPublisher'](()=>{const _0x1faa14=_0x6848cb;_0x4af673(),this[_0x1faa14(0x4d3)][_0x1faa14(0x736)](_0x520576)?.['destroy'](),this['outgoingStreams']['delete'](_0x520576);});this[_0x6848cb(0x4d3)]['set'](_0x520576,_0x4bdc32),_0x4bdc32['registerSystemPublisher'](this['systemTopic']);}return this[_0x6848cb(0x4d3)]['get'](_0x520576);}[_0x2ad6ba(0x19f)](){const _0x453178=_0x2ad6ba;return this[_0x453178(0x6c0)]['id'];}[_0x2ad6ba(0x91c)](_0x3cf972){const _0xe61b33=_0x2ad6ba;this[_0xe61b33(0x5a2)][_0xe61b33(0x29d)]({'sourceId':_0x124816,'messageType':_0x5f120e[_0xe61b33(0x670)],'content':{'type':_0x5d0a4b['LocalMediaStreamTrackFail'],'label':this['label'],'trackKinds':[_0x3cf972[_0xe61b33(0x7bc)]]}});}[_0x2ad6ba(0x840)](_0x29f583){const _0x549f11=_0x2ad6ba,_0x294b94=()=>this['handleLocalTrackFailure'](_0x29f583);_0x29f583[_0x549f11(0x80c)](_0x549f11(0x283),_0x294b94),_0x29f583[_0x549f11(0x80c)](_0x549f11(0x869),_0x294b94),this[_0x549f11(0x5d8)][_0x549f11(0x50f)](_0x29f583[_0x549f11(0x7bc)],()=>{const _0x3c0559=_0x549f11;_0x29f583[_0x3c0559(0x802)](_0x3c0559(0x283),_0x294b94),_0x29f583[_0x3c0559(0x802)]('mute',_0x294b94),this[_0x3c0559(0x5d8)][_0x3c0559(0xa12)](_0x29f583[_0x3c0559(0x7bc)]);});}}class _0x5958ed extends _0x129156{[_0x2ad6ba(0x5f8)];[_0x2ad6ba(0x3ac)]=[];[_0x2ad6ba(0x9a2)];['audioSource'];[_0x2ad6ba(0x5c1)];[_0x2ad6ba(0x950)];[_0x2ad6ba(0x8d0)];['context'];['interval'];constructor(_0x3f31c7,_0x17ddc4,_0x4f779c,_0x140e81,_0x101bb2,_0x4f3597){const _0x2d6952=_0x2ad6ba;if(super(_0x3f31c7,_0x17ddc4,_0x4f779c,_0x4f3597),this[_0x2d6952(0x5f8)]=_0x101bb2,this[_0x2d6952(0x9a2)]=this['mediaStream'],this[_0x2d6952(0x950)]=document[_0x2d6952(0x832)](_0x2d6952(0x28d)),this['sourceVideo'][_0x2d6952(0x86e)]=!0x0,this[_0x2d6952(0x950)]['muted']=!0x0,this[_0x2d6952(0x950)][_0x2d6952(0x7e0)]=this[_0x2d6952(0x9a2)],this['sourceVideo'][_0x2d6952(0x923)](),this[_0x2d6952(0x950)][_0x2d6952(0x830)]=()=>{const _0x23940b=_0x2d6952;this['sourceVideo'][_0x23940b(0xa14)]();},this[_0x2d6952(0x8d0)]=document['createElement'](_0x2d6952(0x8d0)),this[_0x2d6952(0x567)]=this['canvas'][_0x2d6952(0x96f)]('2d'),this[_0x2d6952(0x6c0)]=this[_0x2d6952(0x8d0)][_0x2d6952(0x37b)](_0x140e81),this['audioDestination']=this[_0x2d6952(0x5f8)][_0x2d6952(0x320)](),this['clientStream'][_0x2d6952(0x45b)]()[_0x2d6952(0x8e0)]>0x0){const _0x51bf9a=this[_0x2d6952(0x9a2)][_0x2d6952(0x45b)]()[0x0];this[_0x2d6952(0x7e9)]=this['audioContext'][_0x2d6952(0x826)](new MediaStream([_0x51bf9a])),this[_0x2d6952(0x7e9)]['connect'](this['audioDestination']);}const _0x58f102=this['audioDestination']['stream']['getTracks']()[0x0];this[_0x2d6952(0x6c0)][_0x2d6952(0x8a1)](_0x58f102),this[_0x2d6952(0x9a9)]=setInterval(()=>{const _0x6de190=_0x2d6952;this[_0x6de190(0x8d0)][_0x6de190(0x49a)]=this[_0x6de190(0x950)]['videoWidth'],this[_0x6de190(0x8d0)][_0x6de190(0x529)]=this['sourceVideo'][_0x6de190(0x3f4)],this[_0x6de190(0x950)][_0x6de190(0x7cd)]?(0x0!==this['clientStream'][_0x6de190(0x23e)]()[_0x6de190(0x8e0)]&&this[_0x6de190(0x9a2)][_0x6de190(0x23e)]()[0x0][_0x6de190(0x8eb)]?this[_0x6de190(0x6c0)][_0x6de190(0x23e)]()[0x0]['enabled']=!0x0:this[_0x6de190(0x6c0)]['getVideoTracks']()[0x0][_0x6de190(0x8eb)]=!0x1,0x0!==this['clientStream'][_0x6de190(0x45b)]()['length']&&this[_0x6de190(0x9a2)][_0x6de190(0x45b)]()[0x0][_0x6de190(0x8eb)]?this[_0x6de190(0x6c0)][_0x6de190(0x45b)]()[0x0][_0x6de190(0x8eb)]=!0x0:this[_0x6de190(0x6c0)]['getAudioTracks']()[0x0][_0x6de190(0x8eb)]=!0x1,this[_0x6de190(0x567)]['drawImage'](this[_0x6de190(0x950)],0x0,0x0)):this[_0x6de190(0x567)][_0x6de190(0x60b)](0x0,0x0,this['canvas'][_0x6de190(0x49a)],this[_0x6de190(0x8d0)][_0x6de190(0x529)]);},0x3e8/_0x140e81);}[_0x2ad6ba(0x4aa)](){const _0x42aa9f=_0x2ad6ba;clearInterval(this['interval']),this[_0x42aa9f(0x950)][_0x42aa9f(0x6e6)](),this[_0x42aa9f(0x8d0)][_0x42aa9f(0x6e6)](),this[_0x42aa9f(0x7e9)]?.['disconnect'](),this[_0x42aa9f(0x5c1)][_0x42aa9f(0x6bd)](),this[_0x42aa9f(0x6c0)][_0x42aa9f(0x88a)]()[_0x42aa9f(0x9a0)](_0x4a1ab6=>{const _0x27ec1c=_0x42aa9f;_0x4a1ab6[_0x27ec1c(0x5ee)](),this[_0x27ec1c(0x6c0)][_0x27ec1c(0xa1b)](_0x4a1ab6);}),super[_0x42aa9f(0x4aa)]();}[_0x2ad6ba(0x8a1)](_0x35e99a){const _0x2ba2ee=_0x2ad6ba,_0x23a849=this[_0x2ba2ee(0x900)](_0x35e99a[_0x2ba2ee(0x7bc)]);_0x23a849&&this[_0x2ba2ee(0xa1b)](_0x23a849),'audio'!==_0x35e99a[_0x2ba2ee(0x7bc)]?(_0x2ba2ee(0x28d)===_0x35e99a['kind']&&this[_0x2ba2ee(0x305)](_0x35e99a),this[_0x2ba2ee(0x840)](_0x35e99a)):this['addAudioTrack'](_0x35e99a);}[_0x2ad6ba(0xa1b)](_0x77865f){const _0x2b322b=_0x2ad6ba,_0x5eef23=this[_0x2b322b(0x380)](_0x77865f);return _0x5eef23&&(_0x2b322b(0x648)===_0x5eef23[_0x2b322b(0x7bc)]&&(this[_0x2b322b(0x7e9)]?.['disconnect'](),this[_0x2b322b(0x7e9)]=void 0x0),this[_0x2b322b(0x5d8)][_0x2b322b(0x736)](_0x5eef23[_0x2b322b(0x7bc)])?.(),this['clientStream'][_0x2b322b(0xa1b)](_0x5eef23)),_0x5eef23;}['replaceTrack'](_0x47a049){const _0x25fbf3=_0x2ad6ba;this[_0x25fbf3(0xa1b)](_0x47a049[_0x25fbf3(0x7bc)]),this['addTrack'](_0x47a049);}[_0x2ad6ba(0x56b)](_0x2fa9f3){const _0x3ad32f=_0x2ad6ba;this[_0x3ad32f(0x3ac)]=_0x2fa9f3;}['getTrack'](_0x1039ac){const _0x540fbc=_0x2ad6ba;return this[_0x540fbc(0x9a2)][_0x540fbc(0x88a)]()[_0x540fbc(0x2e0)](_0x12a746=>_0x12a746[_0x540fbc(0x7bc)]===_0x1039ac)||null;}[_0x2ad6ba(0x380)](_0x5c466d){return'string'==typeof _0x5c466d?this['getTrack'](_0x5c466d):_0x5c466d;}[_0x2ad6ba(0x6ea)](_0x2d92f9){const _0x17beac=_0x2ad6ba;'suspended'===this['audioContext'][_0x17beac(0x9c0)]&&this['audioContext']['resume'](),this['clientStream'][_0x17beac(0x8a1)](_0x2d92f9),this[_0x17beac(0x7e9)]=this['audioContext'][_0x17beac(0x826)](this[_0x17beac(0x9a2)]),this['audioSource'][_0x17beac(0x456)](this[_0x17beac(0x5c1)]);}['addVideoTrack'](_0x4ecdc5){const _0x4fee52=_0x2ad6ba;this[_0x4fee52(0x9a2)][_0x4fee52(0x8a1)](_0x4ecdc5),this['sourceVideo'][_0x4fee52(0x923)]();}}class _0xf7c264 extends _0x129156{}class _0x45426b extends _0x3cbe57{['localNode'];[_0x2ad6ba(0x58c)];['vendorId'];['transactionService'];['waitForArrayBufferSize'];['options'];[_0x2ad6ba(0x5d7)];[_0x2ad6ba(0x3c7)];[_0x2ad6ba(0x906)]=new Map();[_0x2ad6ba(0x4b9)]=new Map();[_0x2ad6ba(0x650)]=new Map();[_0x2ad6ba(0x227)]=new Map();[_0x2ad6ba(0x228)]=new Map();['fileSendingMap']=new Map();['objectStoreConnector'];[_0x2ad6ba(0xa8d)]=_0x2af2eb();[_0x2ad6ba(0x928)]=new Map();['debounceStats'];[_0x2ad6ba(0x337)]=0x0;[_0x2ad6ba(0x8c1)]=0x0;['syncContent']=!0x0;[_0x2ad6ba(0x287)]=!0x0;[_0x2ad6ba(0x4ed)]=0x0;[_0x2ad6ba(0x9ef)]=0x0;constructor(_0x13df7b,_0x2c5b3a,_0x290925,_0x48a738,_0x4f70be,_0x468ac4,_0x2aea9f,_0x50d72e){const _0x1a1429=_0x2ad6ba;if(_0x1a1429(0x488)!=typeof _0x2c5b3a)throw new _0x3f1f96(_0x429a2c[_0x1a1429(0x38f)],'Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string');super(_0x13df7b,_0x2c5b3a),this[_0x1a1429(0x6e0)]=_0x13df7b,this[_0x1a1429(0x58c)]=_0x290925,this[_0x1a1429(0x8e1)]=_0x48a738,this[_0x1a1429(0x9ea)]=_0x4f70be,this['waitForArrayBufferSize']=_0x2aea9f,this[_0x1a1429(0x6e9)]=_0x50d72e;const _0x640257='ccc'+this[_0x1a1429(0x8e1)]+_0x1a1429(0x5c8)+this['clusterId']+_0x1a1429(0x5c8)+_0x2c5b3a;this[_0x1a1429(0x9ed)]=new _0x468ac4(_0x640257),this[_0x1a1429(0x6d7)]=this[_0x1a1429(0x6e9)]?.[_0x1a1429(0x6d7)]??!0x0,this[_0x1a1429(0x6e9)]?.[_0x1a1429(0x629)]&&(this[_0x1a1429(0x6d7)]=!0x1),this[_0x1a1429(0x7cb)]();}[_0x2ad6ba(0x536)](){const _0x5ea0a7=_0x2ad6ba;this[_0x5ea0a7(0x7cb)]();}[_0x2ad6ba(0x30c)](){const _0x2b80a9=_0x2ad6ba;return _0x406df3[_0x2b80a9(0x525)][_0x2b80a9(0x41d)];}async[_0x2ad6ba(0x628)](){const _0x3a999c=_0x2ad6ba;this[_0x3a999c(0x287)]=!0x0;try{const _0x5d12db=await this[_0x3a999c(0x9ed)][_0x3a999c(0x736)](_0x8c6ce4),_0x525886=await _0x5d12db[_0x3a999c(0x303)]();this[_0x3a999c(0x3c7)]=_0x525886;}catch(_0x5d8162){}this[_0x3a999c(0x5d7)]=this[_0x3a999c(0x435)](async(_0x26ce31,_0xf25eb3)=>{const _0x444b7b=_0x3a999c;if(!(_0xf25eb3 instanceof File))try{if(_0xf25eb3[_0x444b7b(0x431)]===_0x2ec464[_0x444b7b(0x2f3)])return void this['handleRequestPayload'](_0xf25eb3);this[_0x444b7b(0x56e)](_0xf25eb3);}catch(_0x2fc911){if(_0x2fc911 instanceof _0x31ec66)throw _0x2fc911;throw new _0x31ec66(_0x31ec66[_0x444b7b(0x4b6)][_0x444b7b(0x55a)],{'payload':_0xf25eb3});}}),await this[_0x3a999c(0x54e)](),this[_0x3a999c(0x6d7)]?await this[_0x3a999c(0x608)]():this[_0x3a999c(0x83d)](),this[_0x3a999c(0x7cb)]();}[_0x2ad6ba(0x4aa)](){const _0x50e99a=_0x2ad6ba;this[_0x50e99a(0x5d7)]?.(),this[_0x50e99a(0x928)][_0x50e99a(0x9a0)](_0xb49ae9=>_0xb49ae9()),this['listenerUnsubscribers'][_0x50e99a(0xa82)](),clearTimeout(this[_0x50e99a(0xa97)]),delete this[_0x50e99a(0xa97)],super[_0x50e99a(0x4aa)]();}[_0x2ad6ba(0x27c)](){const _0x592733=_0x2ad6ba;this[_0x592733(0x5a2)]?.[_0x592733(0x29d)]({'sourceId':_0x124816,'messageType':_0x5f120e['Content'],'content':{'type':_0x5d0a4b['CloseObjectStoreBucket'],'label':this[_0x592733(0x19d)]}});}[_0x2ad6ba(0x208)](_0x14d866,_0x9f502d){const _0x231d09=_0x2ad6ba;if(this[_0x231d09(0x928)][_0x231d09(0x98d)](_0x14d866))throw new _0x3f1f96(_0x429a2c[_0x231d09(0x8d7)],_0x231d09(0x759));this[_0x231d09(0x928)]['set'](_0x14d866,this[_0x231d09(0xa8d)][_0x231d09(0x208)](_0x9f502d)),this[_0x231d09(0x287)]||this[_0x231d09(0xa8d)][_0x231d09(0x29d)]({'event':_0x406df3['StorageEventType'][_0x231d09(0x9b1)],'payload':{'filesSynced':this['filesSynced']}});}[_0x2ad6ba(0x99f)](_0x2b665e){const _0x1f1ded=_0x2ad6ba;this['listenerUnsubscribers']['get'](_0x2b665e)?.(),this[_0x1f1ded(0x928)][_0x1f1ded(0xa12)](_0x2b665e);}['publish'](_0x12aad9){const _0x47de5d=_0x2ad6ba;switch(_0x12aad9['action']){case _0x406df3[_0x47de5d(0x7c5)][_0x47de5d(0x87a)]:return this[_0x47de5d(0x9b2)](_0x12aad9[_0x47de5d(0x82c)],_0x12aad9[_0x47de5d(0x5f5)],_0x12aad9['options']);case _0x406df3[_0x47de5d(0x7c5)][_0x47de5d(0x5ce)]:return this[_0x47de5d(0x9e0)](_0x12aad9['path']);case _0x406df3['PayloadAction']['Move']:return this[_0x47de5d(0x299)](_0x12aad9[_0x47de5d(0x5f5)],_0x12aad9['newPath']);default:throw new _0x3f1f96(_0x429a2c['ObjectStoreInvalidPayload'],'Cannot\x20publish\x20payload:\x20'+_0x12aad9);}}async[_0x2ad6ba(0x1d2)](_0x56fcd6){const _0x56a44b=_0x2ad6ba;try{const _0x7a4b1b=(0x0,_0x145036['v4'])(),_0x148911=this[_0x56a44b(0x3c7)],_0xc76693={'payloadType':_0x2ec464[_0x56a44b(0x9e5)],'action':_0x2e7120['Delete'],'id':_0x7a4b1b,'parentId':_0x148911,'path':_0x56fcd6};await this[_0x56a44b(0x378)](_0xc76693);const _0x2033af=await this[_0x56a44b(0x53c)](_0x56fcd6);!0x0!==this[_0x56a44b(0x6e9)]?.[_0x56a44b(0x629)]&&await this['send'](_0xc76693),_0xe8f382['logServiceEvent'](_0x573191['ObjectStorage'],{'type':_0x56a44b(0x1d2),'label':this[_0x56a44b(0x19d)],'nodeId':this[_0x56a44b(0x6e0)][_0x56a44b(0x362)](),'nodeType':this['localNode']['type'],'clusterId':this[_0x56a44b(0x58c)],'kind':_0x2033af,'path':_0x56fcd6}),this[_0x56a44b(0x337)]+=0x1,this[_0x56a44b(0x7cb)]();}catch(_0x40700a){if(_0x40700a instanceof _0x31ec66)throw new _0x3f1f96(_0x429a2c['ObjectStoreNotInSync'],_0x56a44b(0x677)+_0x56fcd6+_0x56a44b(0x26a));throw new _0x3f1f96(_0x429a2c[_0x56a44b(0xa95)],_0x56a44b(0x4ef)+_0x56fcd6);}}async[_0x2ad6ba(0x736)](_0x5f9e65,_0x2e9e35){const _0x2950d1=_0x2ad6ba;_0xe8f382[_0x2950d1(0x861)](_0x573191['ObjectStorage'],{'type':_0x2950d1(0x736),'label':this[_0x2950d1(0x19d)],'nodeId':this[_0x2950d1(0x6e0)]['getId'](),'nodeType':this[_0x2950d1(0x6e0)][_0x2950d1(0x285)],'clusterId':this[_0x2950d1(0x58c)],'path':_0x5f9e65}),this['reads']+=0x1,this['sendStats']();try{return await this[_0x2950d1(0x9ed)][_0x2950d1(0x736)](_0x5f9e65,_0x2e9e35);}catch(_0x559659){try{await this['objectStoreConnector'][_0x2950d1(0x736)](_0x5f9e65+_0x21581a);}catch(_0x229867){throw new _0x3f1f96(_0x429a2c[_0x2950d1(0xa95)],_0x2950d1(0xa81)+_0x5f9e65);}throw new _0x3f1f96(_0x429a2c[_0x2950d1(0x188)],_0x2950d1(0xa1a));}}async['list'](_0x26b795,_0x29bea8){const _0x1a2d08=_0x2ad6ba,{recursive:_0x222b4f=!0x1,includeSyncingFiles:_0x13fb35=!0x1}=_0x29bea8??{};_0xe8f382[_0x1a2d08(0x861)](_0x573191[_0x1a2d08(0x639)],{'type':_0x1a2d08(0xa73),'label':this[_0x1a2d08(0x19d)],'nodeId':this[_0x1a2d08(0x6e0)][_0x1a2d08(0x362)](),'nodeType':this['localNode'][_0x1a2d08(0x285)],'clusterId':this[_0x1a2d08(0x58c)],'path':_0x26b795}),this['reads']+=0x1,this['sendStats']();try{const _0x3ad8b8=await this[_0x1a2d08(0x9ed)]['list'](_0x26b795,_0x222b4f);return this[_0x1a2d08(0x58f)](_0x3ad8b8,{'recursive':_0x222b4f,'includeSyncingFiles':_0x13fb35});}catch(_0x90438b){throw new _0x3f1f96(_0x429a2c[_0x1a2d08(0xa95)],_0x1a2d08(0x8ce)+_0x26b795);}}[_0x2ad6ba(0x3dd)](_0x788e9d){const _0x438095=_0x2ad6ba;this[_0x438095(0x9ef)]+=0x1;for(const _0x10e8b5 of this['objectRequests']['values']())this['send'](_0x10e8b5,[_0x788e9d]);}['handleNodeLeave'](_0x2384f0){const _0x4f3edf=_0x2ad6ba;this[_0x4f3edf(0x9ef)]-=0x1;const _0x3c6e49=this[_0x4f3edf(0x650)][_0x4f3edf(0x736)](_0x2384f0);if(_0x3c6e49){for(const [_0x1663ca,_0x5d50bb]of _0x3c6e49[_0x4f3edf(0x9c1)]())this[_0x4f3edf(0x89f)](_0x1663ca,_0x5d50bb);this['pendingFilesSyncing'][_0x4f3edf(0xa12)](_0x2384f0);}}async[_0x2ad6ba(0x856)](_0x2d2dd8='/'){const _0x16cce9=_0x2ad6ba;try{return await this[_0x16cce9(0x9ed)][_0x16cce9(0x9f8)](_0x2d2dd8);}catch(_0xfe0ffe){if(_0xfe0ffe instanceof Error&&_0xfe0ffe[_0x16cce9(0xa5a)]['includes'](_0x16cce9(0x538)))return 0x0;throw new _0x3f1f96(_0x429a2c[_0x16cce9(0xa95)],_0x16cce9(0x5eb)+_0x2d2dd8);}}[_0x2ad6ba(0x83d)](){const _0xfef29d=_0x2ad6ba;this[_0xfef29d(0x287)]&&(this[_0xfef29d(0x287)]=!0x1,this[_0xfef29d(0xa8d)][_0xfef29d(0x29d)]({'event':_0x406df3[_0xfef29d(0x1cd)]['SyncComplete'],'payload':{'filesSynced':this['filesSynced']}}));}async['processList'](_0x2e2eee,{includeSyncingFiles:_0x34f70e=!0x1}){const _0x567069=_0x2ad6ba,_0x57edbf=[];for(const _0x1c437a of _0x2e2eee)if(_0x1c437a[_0x567069(0x7bc)]!==_0x406df3[_0x567069(0x1a9)][_0x567069(0x5ce)]){if(_0x1c437a['name']!==_0x8c6ce4){if(_0x1c437a[_0x567069(0x2b9)]['endsWith'](_0x21581a)){if(!_0x34f70e)continue;const _0x3d41b7=_0x1c437a;if(_0x3d41b7[_0x567069(0x2b9)]=_0x3d41b7[_0x567069(0x2b9)][_0x567069(0xa48)](_0x21581a,''),_0x3d41b7[_0x567069(0x225)]=_0x3d41b7[_0x567069(0x225)][_0x567069(0xa48)](_0x21581a,''),await this[_0x567069(0x9ad)](_0x3d41b7[_0x567069(0x225)])){_0x2e2eee['find'](_0x26aabd=>_0x26aabd[_0x567069(0x225)]===_0x3d41b7[_0x567069(0x225)])['status']=_0x406df3[_0x567069(0x65d)][_0x567069(0x2e3)];continue;}_0x3d41b7[_0x567069(0x811)]=_0x406df3[_0x567069(0x65d)][_0x567069(0x5c7)];}_0x57edbf[_0x567069(0x673)](_0x1c437a);}}else _0x1c437a[_0x567069(0x866)]=await this[_0x567069(0x58f)](_0x1c437a[_0x567069(0x866)]??[],{'includeSyncingFiles':_0x34f70e}),_0x57edbf[_0x567069(0x673)](_0x1c437a);return _0x57edbf;}async[_0x2ad6ba(0x9b2)](_0x46f882,_0x4b4665,_0x4283ab){const _0x528a4c=_0x2ad6ba;try{const _0x42af9e=(0x0,_0x145036['v4'])(),_0xac82e0=await _0x3bceb5(_0x46f882),_0x31b4c8=_0x240979(_0x4b4665??'/',_0x46f882[_0x528a4c(0x2b9)]);let _0x514400=!0x0;const _0x2fd96a={'payloadType':_0x2ec464[_0x528a4c(0x9e5)],'action':_0x2e7120[_0x528a4c(0x3f6)],'id':_0x42af9e,'parentId':this[_0x528a4c(0x3c7)],'answererId':this[_0x528a4c(0x6e0)][_0x528a4c(0x362)](),'name':_0x46f882[_0x528a4c(0x2b9)],'type':_0x46f882[_0x528a4c(0x285)],'path':_0x4b4665??'/','skipEncryption':_0x4283ab?.[_0x528a4c(0x4b8)]??!0x1,'checksum':_0xac82e0};try{if(!_0x4283ab?.['fetchUrl'])throw new Error(_0x528a4c(0xa83));const _0x41e481=_0x31b4c8+_0x21581a;await this['objectStoreConnector']['get'](_0x41e481),_0x514400=!0x1,await this[_0x528a4c(0x9ed)]['deleteObject'](_0x41e481),this[_0x528a4c(0x4b9)]['delete'](_0x31b4c8);}catch(_0x826add){await this['publishTransaction'](_0x2fd96a);}if(this[_0x528a4c(0x6d7)]||this[_0x528a4c(0x6e9)]?.[_0x528a4c(0x629)]?await this[_0x528a4c(0x566)](_0x46f882,_0x4b4665,_0x4283ab):await this[_0x528a4c(0x70f)](_0x46f882['name'],_0x4b4665??'/',{'checksum':_0xac82e0,'skipEncryption':_0x4283ab?.[_0x528a4c(0x4b8)]??!0x1}),this[_0x528a4c(0x9c8)][_0x528a4c(0x98d)](_0x31b4c8)){const [_0x1e954d,_0x15c5f7]=this[_0x528a4c(0x9c8)]['get'](_0x31b4c8);this[_0x528a4c(0x9c8)][_0x528a4c(0x50f)](_0x31b4c8,[!0x0,_0x15c5f7]);try{await _0x15c5f7;}catch(_0x1440c9){}this[_0x528a4c(0x9c8)][_0x528a4c(0xa12)](_0x31b4c8);}_0x514400&&this[_0x528a4c(0x9ef)]>0x0&&!0x0!==this[_0x528a4c(0x6e9)]?.[_0x528a4c(0x629)]&&await this[_0x528a4c(0x316)](_0x46f882,_0x2fd96a),_0xe8f382['logServiceEvent'](_0x573191[_0x528a4c(0x639)],{'type':_0x528a4c(0x29d),'label':this[_0x528a4c(0x19d)],'nodeId':this['localNode'][_0x528a4c(0x362)](),'nodeType':this[_0x528a4c(0x6e0)][_0x528a4c(0x285)],'clusterId':this[_0x528a4c(0x58c)],'kind':_0x406df3['ObjectKind'][_0x528a4c(0x87a)],'path':_0x4b4665,'fileName':_0x46f882[_0x528a4c(0x2b9)],'fileType':_0x46f882['type'],'size':_0x46f882[_0x528a4c(0x399)]}),this['writes']+=0x1,this[_0x528a4c(0x7cb)]();}catch(_0x3e961f){if(_0x3e961f instanceof _0x31ec66)throw new _0x3f1f96(_0x429a2c['ObjectStoreNotInSync'],_0x528a4c(0xa1a));throw new _0x3f1f96(_0x429a2c[_0x528a4c(0xa95)],_0x528a4c(0x3aa)+_0x4b4665+(_0x4b4665?.[_0x528a4c(0xa87)]('/')?'':'/')+_0x46f882[_0x528a4c(0x2b9)]);}}async[_0x2ad6ba(0x9e0)](_0x1263d4){const _0x2ed661=_0x2ad6ba;try{const _0x4db3a2=(0x0,_0x145036['v4'])(),_0x1f3bc1=this[_0x2ed661(0x3c7)],_0x2df1c3={'payloadType':_0x2ec464[_0x2ed661(0x9e5)],'action':_0x2e7120[_0x2ed661(0x53f)],'id':_0x4db3a2,'parentId':_0x1f3bc1,'path':_0x1263d4};await this[_0x2ed661(0x378)](_0x2df1c3),await this['objectStoreConnector']['createFolder'](_0x1263d4),!0x0!==this[_0x2ed661(0x6e9)]?.[_0x2ed661(0x629)]&&await this['send'](_0x2df1c3),_0xe8f382[_0x2ed661(0x861)](_0x573191['ObjectStorage'],{'type':_0x2ed661(0x29d),'label':this[_0x2ed661(0x19d)],'nodeId':this[_0x2ed661(0x6e0)][_0x2ed661(0x362)](),'nodeType':this[_0x2ed661(0x6e0)][_0x2ed661(0x285)],'clusterId':this[_0x2ed661(0x58c)],'kind':_0x406df3['ObjectKind']['Folder'],'path':_0x1263d4}),this[_0x2ed661(0x337)]+=0x1,this[_0x2ed661(0x7cb)]();}catch(_0x1d8501){if(_0x1d8501 instanceof _0x31ec66)throw new _0x3f1f96(_0x429a2c[_0x2ed661(0x188)],_0x2ed661(0xa1a));throw new _0x3f1f96(_0x429a2c[_0x2ed661(0xa95)],_0x2ed661(0x672)+_0x1263d4);}}async[_0x2ad6ba(0x299)](_0x5218fb,_0x487185){const _0x4e74e3=_0x2ad6ba;try{const _0x390779=(0x0,_0x145036['v4'])(),_0x58bffe=this[_0x4e74e3(0x3c7)],_0x21dc23={'payloadType':_0x2ec464[_0x4e74e3(0x9e5)],'action':_0x2e7120[_0x4e74e3(0x496)],'id':_0x390779,'parentId':_0x58bffe,'path':_0x5218fb,'newPath':_0x487185};await this[_0x4e74e3(0x378)](_0x21dc23);const _0x30247a=await this[_0x4e74e3(0x6b9)](_0x5218fb,_0x487185);!0x0!==this[_0x4e74e3(0x6e9)]?.[_0x4e74e3(0x629)]&&await this[_0x4e74e3(0x9d3)](_0x21dc23),_0xe8f382[_0x4e74e3(0x861)](_0x573191[_0x4e74e3(0x639)],{'type':'move','label':this[_0x4e74e3(0x19d)],'nodeId':this[_0x4e74e3(0x6e0)][_0x4e74e3(0x362)](),'nodeType':this['localNode']['type'],'clusterId':this[_0x4e74e3(0x58c)],'kind':_0x30247a,'path':_0x5218fb,'newPath':_0x487185}),this[_0x4e74e3(0x337)]+=0x1,this['sendStats']();}catch(_0x4163ec){if(_0x4163ec instanceof _0x31ec66)throw new _0x3f1f96(_0x429a2c[_0x4e74e3(0x188)],_0x4e74e3(0xa1a));throw new _0x3f1f96(_0x429a2c[_0x4e74e3(0xa95)],_0x4e74e3(0x6f8)+_0x5218fb);}}async[_0x2ad6ba(0x56e)](_0xe0d674,_0x15a638=!0x1){const _0x2d1956=_0x2ad6ba;if(this['lastTransactionId']&&_0xe0d674[_0x2d1956(0x6d6)]!==this[_0x2d1956(0x3c7)]&&_0xe0d674['id']!==this['lastTransactionId']){if(!_0xe0d674[_0x2d1956(0x6d6)])throw new _0x31ec66(_0x31ec66[_0x2d1956(0x4b6)][_0x2d1956(0x55a)]);this['pendingSyncTransactions'][_0x2d1956(0x50f)](_0xe0d674[_0x2d1956(0x6d6)],_0xe0d674);}else{try{await this['processTransactionPayload'](_0xe0d674,_0x15a638);}catch(_0x1d7d3f){}await this[_0x2d1956(0x27f)](_0xe0d674['id']),await this[_0x2d1956(0x62c)](_0xe0d674['id'],_0x15a638);}}async[_0x2ad6ba(0x8fb)](_0x26c6c6,_0x4b928d=!0x1){const _0x26a018=_0x2ad6ba;switch(_0x26c6c6[_0x26a018(0x3c9)]){case _0x2e7120[_0x26a018(0x3f6)]:await this[_0x26a018(0xa0e)](_0x26c6c6);break;case _0x2e7120[_0x26a018(0x53f)]:await this['handleFolderCreate'](_0x26c6c6);break;case _0x2e7120[_0x26a018(0x496)]:await this[_0x26a018(0x2c6)](_0x26c6c6,_0x4b928d);break;case _0x2e7120[_0x26a018(0x5c2)]:await this[_0x26a018(0x323)](_0x26c6c6,_0x4b928d);break;default:throw new _0x31ec66(_0x31ec66[_0x26a018(0x4b6)][_0x26a018(0x55a)],{'payload':_0x26c6c6});}}async[_0x2ad6ba(0x62c)](_0x35cebf,_0x4ec9ce=!0x1){const _0x162d25=_0x2ad6ba;if(this[_0x162d25(0x906)][_0x162d25(0x98d)](_0x35cebf)){const _0x1c29db=this[_0x162d25(0x906)][_0x162d25(0x736)](_0x35cebf);this[_0x162d25(0x906)][_0x162d25(0xa12)](_0x35cebf),await this[_0x162d25(0x56e)](_0x1c29db,_0x4ec9ce);}}async[_0x2ad6ba(0x8a8)](_0x6e2f53){const _0x2d2594=_0x2ad6ba;switch(_0x6e2f53[_0x2d2594(0x3c9)]){case _0x2e7120[_0x2d2594(0x38e)]:return this[_0x2d2594(0x1fa)](_0x6e2f53);case _0x2e7120[_0x2d2594(0x43d)]:return this[_0x2d2594(0xa2a)](_0x6e2f53);case _0x2e7120[_0x2d2594(0x8f7)]:return this[_0x2d2594(0x54f)](_0x6e2f53);case _0x2e7120[_0x2d2594(0x615)]:return this[_0x2d2594(0xa0e)](_0x6e2f53);default:throw new _0x31ec66(_0x31ec66['codes'][_0x2d2594(0x55a)],{'payload':_0x6e2f53});}}async[_0x2ad6ba(0xa0e)](_0x4c0ae4,_0x13fff6=0x0){const _0x3118e0=_0x2ad6ba,_0x2ed6e7=_0x240979(_0x4c0ae4[_0x3118e0(0x5f5)],_0x4c0ae4[_0x3118e0(0x2b9)]);if(!_0x4c0ae4[_0x3118e0(0x19c)]||void 0x0===_0x4c0ae4['index']||!_0x4c0ae4[_0x3118e0(0x7da)])return this[_0x3118e0(0x767)][_0x3118e0(0xa12)](_0x2ed6e7),void await this[_0x3118e0(0x70f)](_0x4c0ae4['name'],_0x4c0ae4['path'],{'checksum':_0x4c0ae4[_0x3118e0(0x370)],'skipEncryption':_0x4c0ae4[_0x3118e0(0x4b8)]});if(this[_0x3118e0(0x767)][_0x3118e0(0x98d)](_0x2ed6e7)){const _0x20d863=this['fileChunks'][_0x3118e0(0x736)](_0x2ed6e7);_0x20d863[_0x3118e0(0x370)]!==_0x4c0ae4['checksum']&&(_0x20d863[_0x3118e0(0x707)]?.[_0x3118e0(0x27c)](),this['fileChunks'][_0x3118e0(0xa12)](_0x2ed6e7));}if(!this['fileChunks']['has'](_0x2ed6e7)){try{await this[_0x3118e0(0x9ed)][_0x3118e0(0x53c)](_0x2ed6e7);}catch(_0xa1b544){}try{const _0x23fb7f=this[_0x3118e0(0x6d7)]?await this[_0x3118e0(0x9ed)][_0x3118e0(0x497)](_0x2ed6e7,{'skipEncryption':_0x4c0ae4[_0x3118e0(0x4b8)]}):void 0x0,_0x58cce4={'chunksReceived':_0x4c0ae4[_0x3118e0(0x7eb)]??0x0,'bytesReceived':0x0,'stream':_0x23fb7f,'checksum':_0x4c0ae4[_0x3118e0(0x370)]};this[_0x3118e0(0x767)]['set'](_0x2ed6e7,_0x58cce4),await this[_0x3118e0(0x70f)](_0x4c0ae4['name'],_0x4c0ae4['path'],{'checksum':_0x4c0ae4['checksum'],'skipEncryption':_0x4c0ae4[_0x3118e0(0x4b8)]});}catch(_0x2f51eb){}}const _0x46d647=this[_0x3118e0(0x767)][_0x3118e0(0x736)](_0x2ed6e7);if(_0x4c0ae4[_0x3118e0(0x370)]!==_0x46d647[_0x3118e0(0x370)])return;if(this[_0x3118e0(0xa13)](_0x4c0ae4,_0x2ed6e7),this[_0x3118e0(0x6d7)]){if(!_0x46d647[_0x3118e0(0x707)])throw new _0x31ec66(_0x31ec66[_0x3118e0(0x4b6)][_0x3118e0(0x55a)],{'message':'Writable\x20stream\x20is\x20missing'});let _0x4f569a=_0x46d647['chunksReceived'];if(_0x4c0ae4[_0x3118e0(0x807)]!==_0x4f569a){if(_0x4f569a>_0x4c0ae4[_0x3118e0(0x807)])return;const _0x59b590=0x1000;if(_0x4c0ae4[_0x3118e0(0x807)]>_0x4f569a+_0x59b590)return;if(_0x46d647[_0x3118e0(0xa6c)]||(_0x46d647['bufferedChunks']=[]),_0x46d647[_0x3118e0(0xa6c)][_0x3118e0(0x8e0)]>0x4000)throw this[_0x3118e0(0x767)]['delete'](_0x2ed6e7),new _0x31ec66(_0x31ec66[_0x3118e0(0x4b6)][_0x3118e0(0x55a)],{'message':_0x3118e0(0x81e)});return void _0x46d647[_0x3118e0(0xa6c)][_0x3118e0(0x673)](_0x4c0ae4);}try{_0x46d647[_0x3118e0(0x222)]+=0x1,_0x46d647[_0x3118e0(0x416)]+=_0x4c0ae4[_0x3118e0(0x19c)][_0x3118e0(0x918)],await _0x46d647['stream'][_0x3118e0(0x42c)](_0x4c0ae4[_0x3118e0(0x19c)]);}catch(_0x266d70){if(console[_0x3118e0(0x60c)]('Error\x20writing\x20chunk\x20to\x20stream',_0x266d70),_0x13fff6>0x3)throw this['fileChunks']['delete'](_0x2ed6e7),console[_0x3118e0(0x60c)](_0x3118e0(0x7e6),_0x266d70),new _0x31ec66(_0x31ec66[_0x3118e0(0x4b6)][_0x3118e0(0x55a)],{'message':_0x3118e0(0x7e6)});return this[_0x3118e0(0xa0e)](_0x4c0ae4,_0x13fff6+0x1);}}try{await this['manageBufferedChunks'](_0x46d647,_0x4c0ae4['index']+0x1);}catch(_0x114f35){throw this[_0x3118e0(0x767)]['delete'](_0x2ed6e7),_0x114f35;}if(this[_0x3118e0(0x767)]['set'](_0x2ed6e7,_0x46d647),_0x46d647['chunksReceived']<_0x4c0ae4['total'])return;await this[_0x3118e0(0x251)](_0x2ed6e7),this[_0x3118e0(0x6d7)]&&(await this[_0x3118e0(0x519)](_0x4c0ae4),_0xe8f382[_0x3118e0(0x861)](_0x573191['ObjectStorage'],{'type':'sync','label':this[_0x3118e0(0x19d)],'nodeId':this['localNode']['getId'](),'nodeType':this['localNode'][_0x3118e0(0x285)],'clusterId':this[_0x3118e0(0x58c)],'kind':_0x406df3[_0x3118e0(0x1a9)][_0x3118e0(0x87a)],'path':_0x4c0ae4[_0x3118e0(0x5f5)],'fileName':_0x4c0ae4[_0x3118e0(0x2b9)],'fileType':_0x4c0ae4[_0x3118e0(0x285)],'size':_0x46d647[_0x3118e0(0x416)]}));const _0x3c66f2=this[_0x3118e0(0x227)]['get'](_0x4c0ae4[_0x3118e0(0x5f5)])??[];for(const _0xe4db4a of _0x3c66f2)await this[_0x3118e0(0x8fb)](_0xe4db4a);this['pendingFilesTransactions'][_0x3118e0(0xa12)](_0x4c0ae4[_0x3118e0(0x5f5)]),this[_0x3118e0(0xa8d)]['publish']({'event':_0x406df3[_0x3118e0(0x1cd)][_0x3118e0(0x3f6)],'payload':{'file':{'kind':_0x406df3[_0x3118e0(0x1a9)][_0x3118e0(0x87a)],'path':_0x4c0ae4['path'],'type':_0x4c0ae4[_0x3118e0(0x285)],'size':_0x46d647[_0x3118e0(0x416)],'name':_0x4c0ae4[_0x3118e0(0x2b9)],'pathName':_0x2ed6e7,'status':this[_0x3118e0(0x6d7)]?_0x406df3[_0x3118e0(0x65d)][_0x3118e0(0xa74)]:_0x406df3[_0x3118e0(0x65d)]['Pending']}}}),this[_0x3118e0(0x7cb)]();}async[_0x2ad6ba(0x1ee)](_0x54430e,_0x55cfd6){const _0x3c4ede=_0x2ad6ba,_0x55cd2e=_0x54430e['stream'];let _0x6bdfa4=0x0;for(;_0x54430e[_0x3c4ede(0xa6c)]&&_0x54430e['bufferedChunks']['length']>0x0;){const _0x36ca90=_0x54430e['bufferedChunks'][_0x3c4ede(0x2e0)](_0x5c5ac6=>_0x5c5ac6['index']===_0x55cfd6+0x1);if(!_0x36ca90)break;_0x54430e[_0x3c4ede(0xa6c)]=_0x54430e[_0x3c4ede(0xa6c)][_0x3c4ede(0x1bc)](_0x54203b=>_0x54203b[_0x3c4ede(0x807)]!==_0x55cfd6+0x1);try{await _0x55cd2e[_0x3c4ede(0x42c)](_0x36ca90[_0x3c4ede(0x19c)]),_0x55cfd6++;}catch(_0xc827e0){if(console['error']('Error\x20writing\x20buffered\x20chunk\x20to\x20stream',_0xc827e0),_0x6bdfa4>0x3)throw console['error'](_0x3c4ede(0x25c),_0xc827e0),new _0x31ec66(_0x31ec66[_0x3c4ede(0x4b6)][_0x3c4ede(0x55a)],{'message':_0x3c4ede(0x25c)});_0x6bdfa4++;continue;}_0x54430e[_0x3c4ede(0x222)]+=0x1,_0x54430e[_0x3c4ede(0x416)]+=_0x36ca90['data']['byteLength'];}}async[_0x2ad6ba(0x518)](_0x473d7b){const _0x44aba4=_0x2ad6ba;await this[_0x44aba4(0x9ed)][_0x44aba4(0xaba)](_0x473d7b[_0x44aba4(0x5f5)]);const [_0xfe935d,_0x7a7a9]=_0x5704a7(_0x473d7b[_0x44aba4(0x5f5)]);this[_0x44aba4(0xa8d)][_0x44aba4(0x29d)]({'event':_0x406df3[_0x44aba4(0x1cd)]['FolderCreate'],'payload':{'folder':{'kind':_0x406df3['ObjectKind'][_0x44aba4(0x5ce)],'name':_0x7a7a9,'path':_0xfe935d,'pathName':_0x473d7b[_0x44aba4(0x5f5)]}}});}async[_0x2ad6ba(0x323)](_0x2f2ac6,_0x383f0d=!0x1){const _0x1a2aff=_0x2ad6ba;if(!_0x383f0d&&!this[_0x1a2aff(0x667)](_0x2f2ac6))return;const _0x154b66=await this[_0x1a2aff(0x53c)](_0x2f2ac6[_0x1a2aff(0x5f5)]),[_0x50d5a3,_0x142ffa]=_0x5704a7(_0x2f2ac6[_0x1a2aff(0x5f5)]);this[_0x1a2aff(0xa8d)][_0x1a2aff(0x29d)]({'event':_0x154b66===_0x406df3[_0x1a2aff(0x1a9)]['Folder']?_0x406df3[_0x1a2aff(0x1cd)][_0x1a2aff(0x2a6)]:_0x406df3[_0x1a2aff(0x1cd)][_0x1a2aff(0x6b1)],'payload':{'name':_0x142ffa,'path':_0x50d5a3,'pathName':_0x2f2ac6[_0x1a2aff(0x5f5)]}}),this[_0x1a2aff(0x7cb)]();}async[_0x2ad6ba(0x2c6)](_0x50b92a,_0x153beb=!0x1){const _0x334fc1=_0x2ad6ba;if(!_0x153beb&&!this['shouldProcessTransaction'](_0x50b92a))return this['pendingFilesRename']['set'](_0x50b92a[_0x334fc1(0x86d)],this[_0x334fc1(0x228)][_0x334fc1(0x736)](_0x50b92a['path'])??_0x50b92a[_0x334fc1(0x5f5)]),void this['pendingFilesRename'][_0x334fc1(0xa12)](_0x50b92a[_0x334fc1(0x5f5)]);this[_0x334fc1(0x228)]['delete'](_0x50b92a[_0x334fc1(0x5f5)]);const _0x462b4d=await this['objectStoreConnector'][_0x334fc1(0x6b9)](_0x50b92a[_0x334fc1(0x5f5)],_0x50b92a[_0x334fc1(0x86d)]),[_0x4b695b,_0x295251]=_0x5704a7(_0x50b92a[_0x334fc1(0x5f5)]),[_0x591c65,_0xa9866b]=_0x5704a7(_0x50b92a[_0x334fc1(0x86d)]);this[_0x334fc1(0xa8d)][_0x334fc1(0x29d)]({'event':_0x462b4d===_0x406df3[_0x334fc1(0x1a9)][_0x334fc1(0x5ce)]?_0x406df3[_0x334fc1(0x1cd)]['FolderMove']:_0x406df3[_0x334fc1(0x1cd)]['FileMove'],'payload':{'name':_0xa9866b,'path':_0x591c65,'pathName':_0x50b92a[_0x334fc1(0x86d)],'oldName':_0x295251,'oldPath':_0x4b695b,'oldPathName':_0x50b92a[_0x334fc1(0x5f5)]}}),this[_0x334fc1(0x7cb)]();}[_0x2ad6ba(0x667)](_0x2e5d7c){const _0x32e216=_0x2ad6ba,_0x152cf1=this[_0x32e216(0x228)][_0x32e216(0x736)](_0x2e5d7c[_0x32e216(0x5f5)])??_0x2e5d7c['path'];let _0x265a30=!0x1;for(const _0x24fbc6 of this[_0x32e216(0x767)][_0x32e216(0xa6a)]())if(_0x24fbc6['startsWith'](_0x152cf1)){const _0x2aa964=this['pendingFilesTransactions']['get'](_0x24fbc6)??[];_0x2aa964[_0x32e216(0x673)](_0x2e5d7c),this['pendingFilesTransactions'][_0x32e216(0x50f)](_0x24fbc6,_0x2aa964),_0x265a30=!0x0;}return!_0x265a30;}async[_0x2ad6ba(0x378)](_0x40e15f){const _0x441b05=_0x2ad6ba;if(!this[_0x441b05(0x6e9)]?.[_0x441b05(0x629)]){if(!_0x40e15f['id'])throw new _0x31ec66(_0x31ec66[_0x441b05(0x4b6)][_0x441b05(0x55a)],{'message':_0x441b05(0x889)});if(_0x40e15f[_0x441b05(0x6d6)]!==this[_0x441b05(0x3c7)])throw new _0x31ec66(_0x31ec66[_0x441b05(0x4b6)]['ObjectStoreNotSynced']);await this['transactionService']['writeTransaction'](_0x40e15f,this[_0x441b05(0x19d)]),await this[_0x441b05(0x27f)](_0x40e15f['id']);}}async['updateLastTransactionId'](_0x270006){const _0x4ab287=_0x2ad6ba;this[_0x4ab287(0x3c7)]=_0x270006;const _0x285d8d=new File([new Blob([this[_0x4ab287(0x3c7)]])],_0x8c6ce4,{'type':'text/plain'});await this[_0x4ab287(0x566)](_0x285d8d,'/');}async[_0x2ad6ba(0x1fa)](_0x24f521){const _0x2ecb03=_0x2ad6ba;try{const _0x5322d9=await this[_0x2ecb03(0x736)](_0x24f521['path']+'/'+_0x24f521[_0x2ecb03(0x2b9)],{'skipEncryption':_0x24f521['skipEncryption']}),_0x1342c1=await _0x3bceb5(_0x5322d9);if(''!==_0x24f521[_0x2ecb03(0x370)]&&_0x1342c1!==_0x24f521[_0x2ecb03(0x370)])return;_0x24f521['answererId']=this[_0x2ecb03(0x6e0)][_0x2ecb03(0x362)](),_0x24f521[_0x2ecb03(0x3c9)]=_0x2e7120[_0x2ecb03(0x43d)],await this[_0x2ecb03(0x9d3)](_0x24f521,[_0x24f521['sourceId']]);}catch(_0x4744d4){}}async[_0x2ad6ba(0xa2a)](_0x625802){const _0x223334=_0x2ad6ba,_0x180f65=_0x240979(_0x625802['path'],_0x625802[_0x223334(0x2b9)]);if(!this[_0x223334(0x4b9)][_0x223334(0x98d)](_0x180f65))return;const _0x30128c=this[_0x223334(0x4b9)][_0x223334(0x736)](_0x180f65);_0x30128c[_0x223334(0x3c9)]=_0x2e7120['RequestFileSync'];const _0x36dd49=_0x625802[_0x223334(0x62a)];if(!_0x36dd49)throw new _0x31ec66(_0x31ec66[_0x223334(0x4b6)][_0x223334(0x55a)],{'message':'Missing\x20answerer\x20id\x20on\x20request\x20answer'});if(this['objectRequests'][_0x223334(0xa12)](_0x180f65),this[_0x223334(0x650)][_0x223334(0x98d)](_0x36dd49)||this[_0x223334(0x650)][_0x223334(0x50f)](_0x36dd49,new Map()),this[_0x223334(0x650)][_0x223334(0x736)](_0x36dd49)[_0x223334(0x50f)](_0x180f65,[_0x30128c,this[_0x223334(0x5a0)](_0x36dd49,_0x180f65)]),_0x30128c['answererId']=_0x36dd49,_0x30128c[_0x223334(0x7eb)]=this[_0x223334(0x767)][_0x223334(0x736)](_0x180f65)?.[_0x223334(0x222)]??0x0,0x0===_0x30128c[_0x223334(0x7eb)])try{const [_0x14ce3c,_0x520300]=await this[_0x223334(0x7bf)](_0x625802[_0x223334(0x2b9)],_0x625802[_0x223334(0x5f5)],_0x625802['checksum']);_0x14ce3c&&(_0x30128c[_0x223334(0x7eb)]=_0x520300);}catch(_0x3b71ae){}this['send'](_0x30128c,[_0x36dd49]);}async[_0x2ad6ba(0x54f)](_0x5dd3d0){const _0x28e4c8=_0x2ad6ba,_0x5b5aee=_0x240979(_0x5dd3d0[_0x28e4c8(0x5f5)],_0x5dd3d0[_0x28e4c8(0x2b9)]),_0xe538fb=await this['get'](_0x5b5aee,{'skipEncryption':_0x5dd3d0[_0x28e4c8(0x4b8)]}),_0x3d177f={..._0x5dd3d0,'answererId':this[_0x28e4c8(0x6e0)][_0x28e4c8(0x362)](),'action':_0x2e7120[_0x28e4c8(0x615)],'startIndex':_0x5dd3d0[_0x28e4c8(0x7eb)]??0x0};await this[_0x28e4c8(0x316)](_0xe538fb,_0x3d177f,[_0x5dd3d0[_0x28e4c8(0xa59)]]);}async[_0x2ad6ba(0x316)](_0x43c3fb,_0x219578,_0x566d19){let _0x7764ca,_0x220cf2;const _0x1d8ae1=new Promise(async(_0x15c6e9,_0x39545c)=>{_0x7764ca=_0x15c6e9,_0x220cf2=_0x39545c;});return((async()=>{const _0x3e529d=a0_0x119e,_0x5e70f5=Math['ceil'](_0x43c3fb[_0x3e529d(0x399)]/_0x9ed6ad);let _0x23ec3c=_0x219578['startIndex']??0x0;const _0x526f20=_0x240979(_0x219578[_0x3e529d(0x5f5)],_0x219578['name']);this[_0x3e529d(0x9c8)][_0x3e529d(0x50f)](_0x526f20,[!0x1,_0x1d8ae1]);for await(const _0x3a751b of async function*(_0x230bc8,_0x34793a=0x0,_0x32181b){for await(const _0x1da965 of _0x2189f7(_0x230bc8,_0x34793a,_0x32181b))yield _0x1da965;}(_0x43c3fb,_0x23ec3c,this[_0x3e529d(0x48d)])){const [_0x5a4b7a]=this['fileSendingMap']['get'](_0x526f20)??[];if(_0x5a4b7a)return this[_0x3e529d(0x9c8)][_0x3e529d(0xa12)](_0x526f20),void _0x220cf2(new Error('File\x20sending\x20interrupted'));if(this[_0x3e529d(0x227)]['has'](_0x526f20)){const _0x481633=this[_0x3e529d(0x227)][_0x3e529d(0x736)](_0x526f20);for(const _0x1c666c of _0x481633)if(_0x1c666c[_0x3e529d(0x3c9)]===_0x2e7120[_0x3e529d(0x3f6)]||_0x1c666c[_0x3e529d(0x3c9)]===_0x2e7120[_0x3e529d(0x5c2)])return;}const _0x96914a={..._0x219578,'type':_0x43c3fb[_0x3e529d(0x285)],'data':_0x3a751b,'index':_0x23ec3c,'total':_0x5e70f5};this[_0x3e529d(0x9d3)](_0x96914a,_0x566d19),_0x23ec3c++;}const _0x5d77c6=setInterval(async()=>{const _0x447736=_0x3e529d;await this[_0x447736(0x48d)]()>0x0||(clearInterval(_0x5d77c6),_0x7764ca());});this[_0x3e529d(0x9c8)][_0x3e529d(0xa12)](_0x526f20);})()),_0x1d8ae1;}async[_0x2ad6ba(0x519)](_0x2ce581){const _0x4848ab=_0x2ad6ba;try{const _0x2fe108=_0x240979(_0x2ce581[_0x4848ab(0x5f5)],_0x2ce581['name']),_0x408f07=_0x2fe108+_0x21581a;await this[_0x4848ab(0x53c)](_0x408f07);const [,_0x32e9e8]=this[_0x4848ab(0x650)][_0x4848ab(0x736)](_0x2ce581[_0x4848ab(0x62a)])?.[_0x4848ab(0x736)](_0x2fe108)??[];_0x32e9e8&&(clearTimeout(_0x32e9e8),this[_0x4848ab(0x650)][_0x4848ab(0x736)](_0x2ce581[_0x4848ab(0x62a)])[_0x4848ab(0xa12)](_0x2fe108));}catch(_0x4e8ed1){}0x0===this['pendingFilesSyncing'][_0x4848ab(0x736)](_0x2ce581[_0x4848ab(0x62a)])?.[_0x4848ab(0x399)]&&this[_0x4848ab(0x650)][_0x4848ab(0xa12)](_0x2ce581['answererId']),0x0===this['pendingFilesSyncing']['size']&&0x0===this['objectRequests'][_0x4848ab(0x399)]&&this['completeSync']();}async['syncTransactions'](){const _0x343194=_0x2ad6ba;try{const _0x2868cd=await this['transactionService'][_0x343194(0x749)](this[_0x343194(0x19d)],this[_0x343194(0x3c7)]);for(const _0x5a5fa8 of _0x2868cd)await this[_0x343194(0x56e)](_0x5a5fa8,!0x0);}catch(_0x4da722){if(_0x4da722 instanceof _0x31ec66&&_0x4da722[_0x343194(0x4f6)]===_0x31ec66[_0x343194(0x4b6)]['ObjectStoreInvalidState']){await this[_0x343194(0x9ed)][_0x343194(0x53c)](_0x8c6ce4),delete this[_0x343194(0x3c7)];try{const _0x41ebdc=await this[_0x343194(0x9ed)][_0x343194(0xa73)]('/',!0x1);for(const _0x2c92b8 of _0x41ebdc)await this[_0x343194(0x9ed)][_0x343194(0x53c)](_0x2c92b8[_0x343194(0x225)]);}catch(_0x417b5e){}return await this['syncTransactions']();}throw _0x4da722;}}async[_0x2ad6ba(0x608)](){const _0x56eacf=_0x2ad6ba,_0x2bdd6d=await this[_0x56eacf(0xa73)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x0}),_0x2b7f0d=async _0x10cc43=>{const _0x1bea5f=_0x56eacf;for(const _0x13cd2a of _0x10cc43){if(_0x13cd2a['kind']===_0x406df3['ObjectKind'][_0x1bea5f(0x5ce)]){_0x13cd2a['entries']&&_0x13cd2a[_0x1bea5f(0x866)]['length']>0x0&&await _0x2b7f0d(_0x13cd2a[_0x1bea5f(0x866)]);continue;}if(_0x13cd2a[_0x1bea5f(0x811)]!==_0x406df3[_0x1bea5f(0x65d)][_0x1bea5f(0x5c7)])continue;const _0x5d9ccf=await this[_0x1bea5f(0x736)](_0x13cd2a[_0x1bea5f(0x225)]+_0x21581a),_0x132e31=JSON[_0x1bea5f(0x72a)](await _0x5d9ccf[_0x1bea5f(0x303)]()),_0x5e666c=_0x13cd2a[_0x1bea5f(0x2b9)][_0x1bea5f(0xa48)](_0x21581a,''),_0x5e5506={'payloadType':_0x2ec464[_0x1bea5f(0x2f3)],'action':_0x2e7120[_0x1bea5f(0x38e)],'sourceId':this[_0x1bea5f(0x6e0)][_0x1bea5f(0x362)](),'type':'','path':_0x13cd2a[_0x1bea5f(0x5f5)],'name':_0x5e666c,'checksum':_0x132e31['checksum'],'skipEncryption':_0x132e31[_0x1bea5f(0x4b8)]},_0x463d8f=_0x240979(_0x13cd2a['path'],_0x5e666c);this[_0x1bea5f(0x4b9)][_0x1bea5f(0x50f)](_0x463d8f,_0x5e5506);}};await _0x2b7f0d(_0x2bdd6d),0x0===this[_0x56eacf(0x4b9)][_0x56eacf(0x399)]&&0x0===this['pendingFilesSyncing']['size']&&this['completeSync']();}async[_0x2ad6ba(0x70f)](_0x2e698c,_0xd2a84f,_0x79f533){const _0x28bcb2=_0x2ad6ba,_0x54ccae=new File([new Blob([JSON[_0x28bcb2(0x6a9)](_0x79f533)])],''+_0x2e698c+_0x21581a,{'type':'text/plain'});await this['writeFile'](_0x54ccae,_0xd2a84f);}async['checkExistingPendingFileContent'](_0x8c22ab,_0x1b3477,_0x5d3612){const _0x4810ab=_0x2ad6ba;try{const _0x43d661=_0x240979(_0x1b3477,_0x8c22ab),_0x2587a2=_0x43d661+_0x21581a,_0x5f1dda=await this['objectStoreConnector']['get'](_0x2587a2),{checksum:_0x349f7b,skipEncryption:_0xe50645}=JSON['parse'](await _0x5f1dda[_0x4810ab(0x303)]()),_0x14d276=(await this[_0x4810ab(0x9ed)]['get'](_0x43d661,{'skipEncryption':_0xe50645}))['size'];return _0x349f7b===_0x5d3612&&_0x14d276%_0x9ed6ad==0x0?[!0x0,Math['round'](_0x14d276/_0x9ed6ad)]:(await this[_0x4810ab(0x9ed)][_0x4810ab(0x53c)](_0x43d661),[!0x1,0x0]);}catch(_0x94fa4b){return[!0x1,0x0];}}[_0x2ad6ba(0x5a0)](_0x85e5ff,_0xe1a8f9){const _0x22394d=_0x2ad6ba,[_0x4cd4c5,_0x122c91]=this[_0x22394d(0x650)][_0x22394d(0x736)](_0x85e5ff)?.[_0x22394d(0x736)](_0xe1a8f9)??[];return _0x122c91&&clearTimeout(_0x122c91),setTimeout(()=>{const _0x1a1838=_0x22394d,[_0x2bbba6,_0x2ed2a2]=this[_0x1a1838(0x650)][_0x1a1838(0x736)](_0x85e5ff)[_0x1a1838(0x736)](_0xe1a8f9);this['sendFileRequestPayload'](_0x2bbba6,_0x2ed2a2);},0x927c0);}async[_0x2ad6ba(0x89f)](_0x37a8a5,_0x1ed1ba){const _0x5cd837=_0x2ad6ba;clearTimeout(_0x1ed1ba),_0x37a8a5[_0x5cd837(0x3c9)]=_0x2e7120[_0x5cd837(0x38e)],this[_0x5cd837(0x4b9)][_0x5cd837(0x50f)](_0x240979(_0x37a8a5[_0x5cd837(0x5f5)],_0x37a8a5[_0x5cd837(0x2b9)]),_0x37a8a5),this[_0x5cd837(0x9d3)](_0x37a8a5);}[_0x2ad6ba(0xa13)](_0x529726,_0x11be5e){const _0x54aa3b=_0x2ad6ba;if(!this[_0x54aa3b(0x6d7)])return;this[_0x54aa3b(0x650)][_0x54aa3b(0x98d)](_0x529726[_0x54aa3b(0x62a)])||this[_0x54aa3b(0x650)][_0x54aa3b(0x50f)](_0x529726[_0x54aa3b(0x62a)],new Map());const [_0x235314]=this[_0x54aa3b(0x650)][_0x54aa3b(0x736)](_0x529726[_0x54aa3b(0x62a)])[_0x54aa3b(0x736)](_0x11be5e)??[{'payloadType':_0x2ec464['Request'],'action':_0x2e7120[_0x54aa3b(0x38e)],'sourceId':this[_0x54aa3b(0x6e0)][_0x54aa3b(0x362)](),'type':_0x529726[_0x54aa3b(0x285)],'name':_0x529726[_0x54aa3b(0x2b9)],'path':_0x529726[_0x54aa3b(0x5f5)],'skipEncryption':_0x529726[_0x54aa3b(0x4b8)],'checksum':_0x529726[_0x54aa3b(0x370)],'answererId':_0x529726[_0x54aa3b(0x62a)]}];this[_0x54aa3b(0x650)][_0x54aa3b(0x736)](_0x529726['answererId'])[_0x54aa3b(0x50f)](_0x11be5e,[_0x235314,this[_0x54aa3b(0x5a0)](_0x529726[_0x54aa3b(0x62a)],_0x11be5e)]);}async[_0x2ad6ba(0x566)](_0x49a191,_0x3323c6,_0xe5e15b){const _0x51e806=_0x2ad6ba;this[_0x51e806(0x287)]&&(this[_0x51e806(0x4ed)]+=0x1),await this[_0x51e806(0x9ed)]['writeFile'](_0x49a191,_0x3323c6,_0xe5e15b);}async[_0x2ad6ba(0x53c)](_0xefa887){const _0x488937=_0x2ad6ba;try{const _0x50f8c8=await this['objectStoreConnector']['deleteObject'](_0xefa887);if(!_0xefa887[_0x488937(0xa87)](_0x21581a))try{await this[_0x488937(0x9ed)][_0x488937(0x53c)](_0xefa887+_0x21581a);}catch(_0xb786c6){}return this['isSyncing']&&_0x50f8c8===_0x406df3[_0x488937(0x1a9)][_0x488937(0x87a)]&&(this[_0x488937(0x4ed)]+=0x1),_0x50f8c8;}catch(_0x32502d){return await this['objectStoreConnector'][_0x488937(0x53c)](_0xefa887+_0x21581a);}}async['moveObject'](_0x5afd2e,_0x50d50b){const _0x19c32d=_0x2ad6ba;try{const _0x58a418=await this['objectStoreConnector'][_0x19c32d(0x6b9)](_0x5afd2e,_0x50d50b);if(!_0x5afd2e['endsWith'](_0x21581a))try{await this[_0x19c32d(0x9ed)][_0x19c32d(0x6b9)](_0x5afd2e+_0x21581a,_0x50d50b+_0x21581a);}catch(_0x3be72e){}return _0x58a418;}catch(_0x1f21b7){return await this[_0x19c32d(0x9ed)][_0x19c32d(0x6b9)](_0x5afd2e+_0x21581a,_0x50d50b+_0x21581a);}}['sendStats'](){const _0x4f60fb=_0x2ad6ba;this[_0x4f60fb(0xa97)]&&clearTimeout(this[_0x4f60fb(0xa97)]),this[_0x4f60fb(0xa97)]=setTimeout(async()=>{const _0x3e6bba=_0x4f60fb;delete this[_0x3e6bba(0xa97)];const _0x2ba3c8=await this[_0x3e6bba(0x9ed)][_0x3e6bba(0x9f8)]('/');this[_0x3e6bba(0x5a2)]?.[_0x3e6bba(0x29d)]({'sourceId':_0x124816,'messageType':_0x5f120e[_0x3e6bba(0x670)],'content':{'type':_0x5d0a4b[_0x3e6bba(0x701)],'label':this['label'],'stats':{'timestamp':Date[_0x3e6bba(0x9fc)](),'storage':_0x2ba3c8,'messagesSent':this[_0x3e6bba(0x812)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x3e6bba(0x18f)],'bytesReceived':this['bytesReceived'],'writes':this[_0x3e6bba(0x337)],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),this[_0x3e6bba(0x6d7)]&&_0xe8f382[_0x3e6bba(0x654)](_0x573191[_0x3e6bba(0x639)],_0x3e6bba(0x5c8)+this[_0x3e6bba(0x58c)]+_0x3e6bba(0x5c8)+this[_0x3e6bba(0x19d)],_0x2ba3c8);},_0x18dd7b);}async[_0x2ad6ba(0x9ad)](_0x4ede0f){const _0x5008f6=_0x2ad6ba;try{return await this[_0x5008f6(0x736)](_0x4ede0f),!0x0;}catch(_0x2270f3){return!0x1;}}async[_0x2ad6ba(0x251)](_0x261934){const _0x455a2b=_0x2ad6ba;if(!this[_0x455a2b(0x767)]['has'](_0x261934))return;const _0x510ea6=this[_0x455a2b(0x767)]['get'](_0x261934);if(_0x510ea6[_0x455a2b(0x707)])try{await _0x510ea6['stream'][_0x455a2b(0x27c)]();}catch(_0x3c1f69){console[_0x455a2b(0x60c)](_0x455a2b(0x9cb),_0x3c1f69);}this['fileChunks'][_0x455a2b(0xa12)](_0x261934);}}class _0x259a78 extends _0x3cbe57{['localNode'];['clusterId'];[_0x2ad6ba(0x5d7)]=new Map();[_0x2ad6ba(0xa97)];constructor(_0x462957,_0x29448f,_0x45e7e8){const _0x56b68d=_0x2ad6ba;if(_0x56b68d(0x488)!=typeof _0x29448f)throw new _0x3f1f96(_0x429a2c[_0x56b68d(0x74e)],_0x56b68d(0xab0));super(_0x462957,_0x29448f),this[_0x56b68d(0x6e0)]=_0x462957,this['clusterId']=_0x45e7e8,this[_0x56b68d(0x7cb)]();}['reset'](){const _0x9d1291=_0x2ad6ba;this[_0x9d1291(0x7cb)]();}['getContentType'](){const _0x112858=_0x2ad6ba;return _0x406df3[_0x112858(0x525)][_0x112858(0x8a9)];}[_0x2ad6ba(0x29d)](_0x106d58,_0x928ab5){const _0x5a13b0=_0x2ad6ba;_0xe8f382[_0x5a13b0(0xa40)](_0x1b63ac[_0x5a13b0(0x8a9)],_0x5a13b0(0x3d2),this[_0x5a13b0(0x6e0)][_0x5a13b0(0x362)](),_0x106d58,_0x928ab5),_0xe8f382[_0x5a13b0(0x861)](_0x573191[_0x5a13b0(0x8a9)],{'type':_0x5a13b0(0x29d),'label':this[_0x5a13b0(0x19d)],'nodeId':this[_0x5a13b0(0x6e0)][_0x5a13b0(0x362)](),'nodeType':this[_0x5a13b0(0x6e0)]['type'],'clusterId':this[_0x5a13b0(0x58c)],'remoteIds':_0x928ab5??[],'contentType':_0x106d58 instanceof File?_0x406df3['ContentType'][_0x5a13b0(0x87a)]:_0x406df3[_0x5a13b0(0x525)][_0x5a13b0(0xaa7)],'size':_0x106d58 instanceof File?_0x106d58[_0x5a13b0(0x399)]:JSON[_0x5a13b0(0x6a9)](_0x106d58)['length']}),this[_0x5a13b0(0x7cb)](),this['send'](_0x106d58,_0x928ab5);}[_0x2ad6ba(0x208)](_0x339ec6,_0x176299){const _0x244527=_0x2ad6ba;if(this['unsubscribeHandler'][_0x244527(0x98d)](_0x339ec6))throw new _0x3f1f96(_0x429a2c[_0x244527(0x73b)],_0x244527(0x7f1));this[_0x244527(0x5d7)][_0x244527(0x50f)](_0x339ec6,this['onMessage']((_0x5758e6,_0x4982fe)=>{const _0x1b23c9=_0x244527;'data'===_0x339ec6&&_0x4982fe instanceof File||!('file'!==_0x339ec6||_0x4982fe instanceof File)||(_0xe8f382[_0x1b23c9(0xa40)](_0x1b63ac['PubSub'],'PubSubTopic\x20onMessage',this[_0x1b23c9(0x6e0)][_0x1b23c9(0x362)](),_0x5758e6,_0x4982fe),_0xe8f382[_0x1b23c9(0x861)](_0x573191[_0x1b23c9(0x8a9)],{'type':'subscribe','label':this[_0x1b23c9(0x19d)],'nodeId':this['localNode'][_0x1b23c9(0x362)](),'nodeType':this[_0x1b23c9(0x6e0)]['type'],'clusterId':this[_0x1b23c9(0x58c)],'remoteId':_0x5758e6,'contentType':_0x339ec6,'size':_0x4982fe instanceof File?_0x4982fe[_0x1b23c9(0x399)]:JSON[_0x1b23c9(0x6a9)](_0x4982fe)[_0x1b23c9(0x8e0)]}),this[_0x1b23c9(0x7cb)](),_0x176299(_0x5758e6,_0x4982fe));}));}[_0x2ad6ba(0x99f)](_0x573da1){const _0xb0f1ad=_0x2ad6ba;this['unsubscribeHandler']['get'](_0x573da1)?.(),this[_0xb0f1ad(0x5d7)][_0xb0f1ad(0xa12)](_0x573da1);}[_0x2ad6ba(0x4aa)](){const _0x2f86aa=_0x2ad6ba;this[_0x2f86aa(0x5d7)][_0x2f86aa(0x9a0)](_0x36c221=>_0x36c221()),clearTimeout(this['debounceStats']),delete this[_0x2f86aa(0xa97)],super[_0x2f86aa(0x4aa)]();}['close'](){const _0x2fd664=_0x2ad6ba;this[_0x2fd664(0x5a2)]?.[_0x2fd664(0x29d)]({'sourceId':_0x124816,'messageType':_0x5f120e[_0x2fd664(0x670)],'content':{'type':_0x5d0a4b[_0x2fd664(0x891)],'label':this[_0x2fd664(0x19d)]}});}[_0x2ad6ba(0x7cb)](){const _0x3d2683=_0x2ad6ba;this[_0x3d2683(0xa97)]&&clearTimeout(this[_0x3d2683(0xa97)]),this[_0x3d2683(0xa97)]=setTimeout(()=>{const _0x5ab477=_0x3d2683;this['systemTopic']?.['publish']({'sourceId':_0x124816,'messageType':_0x5f120e[_0x5ab477(0x670)],'content':{'type':_0x5d0a4b['PubSubTopicStats'],'label':this[_0x5ab477(0x19d)],'stats':{'timestamp':Date[_0x5ab477(0x9fc)](),'storage':0x0,'messagesSent':this[_0x5ab477(0x812)],'messagesReceived':this['messagesReceived'],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x5ab477(0x416)],'writes':0x0,'reads':0x0,'prompts':0x0,'tokens':0x0}}});},_0x18dd7b);}}class _0x23c40f extends _0x212001{[_0x2ad6ba(0x6e0)];[_0x2ad6ba(0x2bf)];[_0x2ad6ba(0x858)];[_0x2ad6ba(0x58c)];[_0x2ad6ba(0x5d7)];['resizeHandler'];[_0x2ad6ba(0x1f2)];[_0x2ad6ba(0x4d3)]=new Map();[_0x2ad6ba(0x3e7)];[_0x2ad6ba(0x975)]=new Set();[_0x2ad6ba(0x9ca)];[_0x2ad6ba(0x8fe)]=_0x2af2eb();[_0x2ad6ba(0x5d8)]=new Map();constructor(_0x6fb026,_0x4924f7,_0x386e49,_0x47eebb,_0x506950,_0x31d247){const _0x1e30f9=_0x2ad6ba;super(_0x4924f7,_0x386e49,new MediaStream()),this[_0x1e30f9(0x6e0)]=_0x6fb026,this[_0x1e30f9(0x2bf)]=_0x47eebb,this['availableTrackKinds']=_0x506950,this['clusterId']=_0x31d247,this['mediaStream'][_0x1e30f9(0x88a)]()[_0x1e30f9(0x9a0)](_0x1996a0=>this[_0x1e30f9(0x840)](_0x1996a0));}[_0x2ad6ba(0x4aa)](){const _0x1103b6=_0x2ad6ba;this[_0x1103b6(0x4d3)][_0x1103b6(0x399)]>0x0&&(this['outgoingStreams'][_0x1103b6(0x9a0)](_0x3003da=>{const _0x532e8b=_0x1103b6;_0x3003da['unregisterSystemPublisher'](),_0x3003da[_0x532e8b(0x4aa)]();}),this[_0x1103b6(0x4d3)]['clear']()),this[_0x1103b6(0x5d8)][_0x1103b6(0x9a0)](_0x146995=>_0x146995()),this[_0x1103b6(0x6c0)][_0x1103b6(0x88a)]()['forEach'](_0x295e8b=>this['mediaStream']['removeTrack'](_0x295e8b)),this[_0x1103b6(0x1f2)]&&(clearTimeout(this[_0x1103b6(0x1f2)]),delete this[_0x1103b6(0x1f2)]),this[_0x1103b6(0x708)]?.(),super[_0x1103b6(0x4aa)]();}['registerSubscriber'](_0x7e7051){const _0x1b13d7=_0x2ad6ba;this['unsubscribeHandler']=_0x7e7051[_0x1b13d7(0x208)](({content:_0x3fcc32})=>{const _0x31c49c=_0x1b13d7;switch(_0x3fcc32[_0x31c49c(0x3c9)]){case _0x39a19c['RemoteAdd']:if(_0xe8f382[_0x31c49c(0xa40)](_0x1b63ac['Subscription'],_0x31c49c(0x224),this[_0x31c49c(0x6e0)][_0x31c49c(0x362)](),this[_0x31c49c(0x9ca)]),_0x3fcc32[_0x31c49c(0x707)]['id']!==this['internalId']||_0x3fcc32[_0x31c49c(0x9ca)]!==this[_0x31c49c(0x9ca)])return;this[_0x31c49c(0xa1b)](_0x3fcc32[_0x31c49c(0xab8)]['kind']),this[_0x31c49c(0x6c0)][_0x31c49c(0x8a1)](_0x3fcc32[_0x31c49c(0xab8)]);for(const [_0x2ea076,_0x57d091]of this[_0x31c49c(0x4d3)][_0x31c49c(0x866)]())try{_0x57d091[_0x31c49c(0x8a1)](_0x3fcc32[_0x31c49c(0xab8)]);}catch(_0x49c47c){_0x57d091[_0x31c49c(0x4aa)](),this[_0x31c49c(0x4d3)]['delete'](_0x2ea076);}this[_0x31c49c(0x840)](_0x3fcc32['track']),this[_0x31c49c(0x54b)](),'video'===_0x3fcc32[_0x31c49c(0xab8)][_0x31c49c(0x7bc)]&&this['renderElement']&&(this[_0x31c49c(0x6c0)][_0x31c49c(0x8de)]?setTimeout(()=>this[_0x31c49c(0x3e7)]?.['play'](),0x0):setTimeout(()=>this['renderElement']?.['load'](),0x0),this[_0x31c49c(0x544)]());break;case _0x39a19c[_0x31c49c(0x3ad)]:if(_0x3fcc32[_0x31c49c(0x707)]['id']!==this[_0x31c49c(0x2bf)]||_0x3fcc32[_0x31c49c(0x9ca)]!==this[_0x31c49c(0x9ca)])return;this[_0x31c49c(0xa1b)](_0x3fcc32[_0x31c49c(0xab8)][_0x31c49c(0x7bc)]),this[_0x31c49c(0x3e7)]&&_0x31c49c(0x28d)===_0x3fcc32[_0x31c49c(0xab8)]['kind']&&(this[_0x31c49c(0x708)]?.(),this[_0x31c49c(0x6c0)][_0x31c49c(0x88a)]()[_0x31c49c(0x8e0)]>0x0?this[_0x31c49c(0x3e7)][_0x31c49c(0x923)]():this[_0x31c49c(0x3e7)][_0x31c49c(0x7e0)]=null);}});}['unregisterSubscriber'](){const _0x41ace4=_0x2ad6ba;this[_0x41ace4(0x5d7)]?.(),this[_0x41ace4(0x5d8)][_0x41ace4(0x9a0)](_0x30c8b3=>_0x30c8b3()),delete this['unsubscribeHandler'];}['getInternalStreamId'](){const _0x46722a=_0x2ad6ba;return this[_0x46722a(0x2bf)];}[_0x2ad6ba(0x9f4)](_0x5ce42f){const _0x4c7543=_0x2ad6ba;this[_0x4c7543(0x2bf)]=_0x5ce42f;}[_0x2ad6ba(0x95b)](){const _0xd8b895=_0x2ad6ba;return this[_0xd8b895(0x858)];}[_0x2ad6ba(0x94c)](_0xf0bd42){const _0x56930a=_0x2ad6ba;for(const _0x22af94 of _0xf0bd42||this[_0x56930a(0x858)])if(!this[_0x56930a(0x6c0)][_0x56930a(0x88a)]()[_0x56930a(0x2e0)](_0x36588a=>_0x36588a[_0x56930a(0x7bc)]===_0x22af94))return!0x1;return!0x0;}[_0x2ad6ba(0x5f2)](){const _0x37a85f=_0x2ad6ba;let _0x39f039={'width':0x0,'height':0x0};const _0x390a6c=this[_0x37a85f(0x6c0)][_0x37a85f(0x23e)]();if(_0x390a6c[_0x37a85f(0x8e0)]>0x0){const _0x5bac6c=_0x390a6c[0x0][_0x37a85f(0x79c)]();_0x5bac6c['width']&&_0x5bac6c[_0x37a85f(0x529)]&&(_0x39f039={'width':_0x5bac6c[_0x37a85f(0x49a)],'height':_0x5bac6c[_0x37a85f(0x529)]});}return _0x39f039;}['isSubscribed'](_0x44a572){const _0x3c3885=_0x2ad6ba;for(const _0x524d29 of _0x44a572)if(!this[_0x3c3885(0x975)][_0x3c3885(0x98d)](_0x524d29))return!0x1;return!0x0;}[_0x2ad6ba(0x32e)](_0x40f715,_0x512c87){const _0x44bb5e=_0x2ad6ba;if(!this['outgoingStreams'][_0x44bb5e(0x98d)](_0x40f715)){const _0xd049d2=new _0x2997ec(this['owner'],this[_0x44bb5e(0x19d)],this[_0x44bb5e(0x6c0)],_0x40f715,_0x512c87),_0x5917fd=_0xd049d2[_0x44bb5e(0x969)](()=>{const _0x20d498=_0x44bb5e;_0x5917fd(),this['outgoingStreams'][_0x20d498(0x736)](_0x40f715)?.['destroy'](),this[_0x20d498(0x4d3)][_0x20d498(0xa12)](_0x40f715);});this[_0x44bb5e(0x4d3)][_0x44bb5e(0x50f)](_0x40f715,_0xd049d2),_0xd049d2[_0x44bb5e(0x3ba)](this[_0x44bb5e(0x5a2)]);}return this[_0x44bb5e(0x4d3)][_0x44bb5e(0x736)](_0x40f715);}[_0x2ad6ba(0x19f)](){const _0x2175af=_0x2ad6ba;return this[_0x2175af(0x6c0)]['id'];}['getPriority'](){const _0x45dd24=_0x2ad6ba;return _0x406df3[_0x45dd24(0x3db)][_0x45dd24(0x8f3)];}[_0x2ad6ba(0x796)](){const _0x509ed0=_0x2ad6ba;return Array[_0x509ed0(0x854)](this[_0x509ed0(0x975)]);}[_0x2ad6ba(0x208)](_0x17f510){const _0x526624=_0x2ad6ba;let _0x4fb6bc=[];if(_0x17f510){_0x526624(0x24f)!=typeof _0x17f510[_0x526624(0x28d)]||_0x17f510[_0x526624(0x28d)]['renderElement']instanceof HTMLVideoElement||!this['renderElement']||(_0x17f510['video']={'renderElement':this[_0x526624(0x3e7)]});try{(0x0,_0x406df3['isValidMediaSubscriptionParams'])(_0x17f510);}catch(_0x5e6e0d){throw new _0x3f1f96(_0x429a2c['RemoteMediaStreamInvalidSubscriptionParams'],_0x526624(0x1aa));}_0x17f510[_0x526624(0x28d)]&&(_0x4fb6bc['push'](_0x526624(0x28d)),_0x526624(0x863)!=typeof _0x17f510[_0x526624(0x28d)]&&_0x17f510[_0x526624(0x28d)][_0x526624(0x3e7)]&&(this[_0x526624(0x3e7)]=_0x17f510[_0x526624(0x28d)]['renderElement'],_0x17f510[_0x526624(0x28d)]['maxResolution']||(_0x17f510[_0x526624(0x28d)]['maxResolution']={'width':this[_0x526624(0x3e7)][_0x526624(0x86a)],'height':this[_0x526624(0x3e7)]['clientHeight']}),delete _0x17f510[_0x526624(0x28d)][_0x526624(0x3e7)])),_0x17f510[_0x526624(0x648)]&&_0x4fb6bc[_0x526624(0x673)](_0x526624(0x648));}else _0x4fb6bc=this[_0x526624(0x95b)]();this[_0x526624(0x443)](_0x4fb6bc)||(_0x4fb6bc[_0x526624(0x9a0)](_0x402d96=>this[_0x526624(0x975)][_0x526624(0x424)](_0x402d96)),this[_0x526624(0x5a2)][_0x526624(0x29d)]({'sourceId':_0x124816,'messageType':_0x5f120e[_0x526624(0x670)],'content':{'type':_0x5d0a4b[_0x526624(0x8d3)],'label':this[_0x526624(0x19d)],'ownerId':this[_0x526624(0x817)][_0x526624(0x362)](),'trackKinds':_0x4fb6bc,'params':_0x17f510}}),_0xe8f382[_0x526624(0x861)](_0x573191[_0x526624(0x6a0)],{'type':_0x526624(0x208),'label':this[_0x526624(0x19d)],'nodeId':this[_0x526624(0x6e0)][_0x526624(0x362)](),'nodeType':this[_0x526624(0x6e0)][_0x526624(0x285)],'clusterId':this['clusterId'],'sourceId':this[_0x526624(0x817)][_0x526624(0x362)](),'streamId':this[_0x526624(0x2bf)],'trackKinds':_0x4fb6bc}));}[_0x2ad6ba(0x9cc)](_0x3e64e9){const _0x60a870=_0x2ad6ba;try{(0x0,_0x406df3[_0x60a870(0x60f)])(_0x3e64e9);}catch(_0x177cef){throw new _0x3f1f96(_0x429a2c[_0x60a870(0x1e8)],'Invalid\x20params');}this[_0x60a870(0x1f2)]&&clearTimeout(this[_0x60a870(0x1f2)]),this['updateDebounce']=setTimeout(()=>{const _0x2cc290=_0x60a870;delete this['updateDebounce'],this['systemTopic']['publish']({'sourceId':_0x124816,'messageType':_0x5f120e[_0x2cc290(0x670)],'content':{'type':_0x5d0a4b[_0x2cc290(0x404)],'label':this[_0x2cc290(0x19d)],'ownerId':this[_0x2cc290(0x817)][_0x2cc290(0x362)](),'params':_0x3e64e9}});},0x1f4);}[_0x2ad6ba(0x99f)](_0xd987c2){const _0x2c887f=_0x2ad6ba;_0xd987c2||(_0xd987c2=this[_0x2c887f(0x95b)]()),(_0xd987c2=Array[_0x2c887f(0xaaa)](_0xd987c2)?_0xd987c2:[_0xd987c2])['forEach'](_0x46d89b=>this[_0x2c887f(0x975)][_0x2c887f(0xa12)](_0x46d89b)),this[_0x2c887f(0x5a2)][_0x2c887f(0x29d)]({'sourceId':_0x124816,'messageType':_0x5f120e['Content'],'content':{'type':_0x5d0a4b[_0x2c887f(0x978)],'label':this[_0x2c887f(0x19d)],'ownerId':this[_0x2c887f(0x817)]['getId'](),'trackKinds':_0xd987c2,'remainingTracks':this['subscribedTracks'][_0x2c887f(0x399)]}});}['onProviderChange'](_0x8413ca){return this['providerListener']['subscribe'](_0x8413ca);}[_0x2ad6ba(0x1c4)](){const _0x255493=_0x2ad6ba;return this[_0x255493(0x9ca)];}[_0x2ad6ba(0x328)](_0x3e8661){const _0x4dd2eb=_0x2ad6ba;this[_0x4dd2eb(0x9ca)]!==_0x3e8661&&(this[_0x4dd2eb(0x9ca)]=_0x3e8661,this[_0x4dd2eb(0x8fe)][_0x4dd2eb(0x29d)](_0x3e8661));}[_0x2ad6ba(0x2a1)](_0x1efaff){const _0x1ce8c7=_0x2ad6ba;this[_0x1ce8c7(0x5d8)][_0x1ce8c7(0x736)](_0x1efaff)?.(),this[_0x1ce8c7(0x5d8)][_0x1ce8c7(0xa12)](_0x1efaff);}[_0x2ad6ba(0xa1b)](_0x3acd9a){const _0x21542c=_0x2ad6ba,_0x27263f=this[_0x21542c(0x6c0)][_0x21542c(0x88a)]()[_0x21542c(0x2e0)](_0x2edddc=>_0x2edddc[_0x21542c(0x7bc)]===_0x3acd9a);_0x27263f&&(this[_0x21542c(0x6c0)][_0x21542c(0xa1b)](_0x27263f),this['outgoingStreams'][_0x21542c(0x9a0)](_0x4a6009=>_0x4a6009[_0x21542c(0xa1b)](_0x3acd9a)),this[_0x21542c(0x5d8)][_0x21542c(0x736)](_0x3acd9a)?.());}[_0x2ad6ba(0x54b)](){const _0x13b86d=_0x2ad6ba;this[_0x13b86d(0x3e7)]&&(this[_0x13b86d(0x3e7)][_0x13b86d(0x7e0)]&&this['renderElement']['srcObject']===this[_0x13b86d(0x6c0)]||(this[_0x13b86d(0x3e7)][_0x13b86d(0x7e0)]=this[_0x13b86d(0x6c0)]));}['setupResizeHandler'](){const _0x32b184=_0x2ad6ba;if(this[_0x32b184(0x3e7)]&&!this[_0x32b184(0x708)]&&_0x32b184(0x887)!=typeof ResizeObserver){let _0x2ddb1d=this['renderElement'][_0x32b184(0x86a)],_0x4c190a=this[_0x32b184(0x3e7)][_0x32b184(0x258)];const _0x528732=new ResizeObserver(_0x388883=>{const _0x33a4f3=_0x32b184,{width:_0x99ef4c,height:_0x44b55f}=_0x388883[0x0][_0x33a4f3(0x39d)];_0x2ddb1d===_0x99ef4c&&_0x4c190a===_0x44b55f||(_0x2ddb1d=Math[_0x33a4f3(0xa7f)](_0x99ef4c),_0x4c190a=Math[_0x33a4f3(0xa7f)](_0x44b55f),this[_0x33a4f3(0x9cc)]({'video':{'maxResolution':{'width':_0x99ef4c,'height':_0x44b55f}}}));});_0x528732[_0x32b184(0x951)](this[_0x32b184(0x3e7)]),this[_0x32b184(0x708)]=()=>_0x528732['disconnect']();}}[_0x2ad6ba(0x3f7)](_0x4a5510){const _0x5467f2=_0x2ad6ba,_0x17e11c=[];for(const _0x40dad2 of this[_0x5467f2(0x975)])this['removeTrack'](_0x40dad2),_0x17e11c[_0x5467f2(0x673)](_0x40dad2);this[_0x5467f2(0x9ca)]&&this[_0x5467f2(0x5a2)][_0x5467f2(0x29d)]({'sourceId':_0x124816,'messageType':_0x5f120e[_0x5467f2(0x670)],'content':{'type':_0x5d0a4b[_0x5467f2(0x930)],'label':this[_0x5467f2(0x19d)],'streamId':this[_0x5467f2(0x2bf)],'ownerId':this['owner'][_0x5467f2(0x362)](),'providerId':this[_0x5467f2(0x9ca)],'trackKinds':_0x17e11c}});}[_0x2ad6ba(0x840)](_0x4070d6){const _0x5bb0ad=_0x2ad6ba,_0x43e055=()=>this[_0x5bb0ad(0x3f7)](_0x4070d6);_0x4070d6['addEventListener'](_0x5bb0ad(0x283),_0x43e055),_0x4070d6[_0x5bb0ad(0x80c)](_0x5bb0ad(0x869),_0x43e055),this[_0x5bb0ad(0x5d8)][_0x5bb0ad(0x50f)](_0x4070d6['kind'],()=>{const _0x175dcb=_0x5bb0ad;_0x4070d6['removeEventListener'](_0x175dcb(0x283),_0x43e055),_0x4070d6['removeEventListener'](_0x175dcb(0x869),_0x43e055),this['trackEndedListeners']['delete'](_0x4070d6[_0x175dcb(0x7bc)]);});}}class _0x152142 extends _0x3cbe57{['localNode'];['clusterId'];[_0x2ad6ba(0x8e1)];['db'];['debounceStats'];[_0x2ad6ba(0x337)]=0x0;[_0x2ad6ba(0x8c1)]=0x0;[_0x2ad6ba(0x8b5)]=!0x1;constructor(_0x45ec26,_0x58433e,_0x3a8d26,_0xa114d0,_0x5bb2d8){const _0x3b9798=_0x2ad6ba;if(_0x3b9798(0x488)!=typeof _0x58433e)throw new _0x3f1f96(_0x429a2c['VectorDatabaseNameNotString'],_0x3b9798(0xa17));super(_0x45ec26,_0x58433e),this[_0x3b9798(0x6e0)]=_0x45ec26,this['clusterId']=_0x3a8d26,this[_0x3b9798(0x8e1)]=_0xa114d0;const _0xc0fc65='ccc'+this[_0x3b9798(0x8e1)]+_0x3b9798(0x5c8)+this[_0x3b9798(0x58c)]+_0x3b9798(0x5c8)+this[_0x3b9798(0x19d)];this['db']=new _0x5bb2d8(_0xc0fc65),this[_0x3b9798(0x7cb)]();}['getIsLoaded'](){const _0x45c429=_0x2ad6ba;return this[_0x45c429(0x8b5)];}[_0x2ad6ba(0x71e)](_0x4d3955){const _0x2ef00e=_0x2ad6ba;this[_0x2ef00e(0x8b5)]=_0x4d3955;}[_0x2ad6ba(0x4aa)](){const _0x355e33=_0x2ad6ba;clearTimeout(this[_0x355e33(0xa97)]),delete this[_0x355e33(0xa97)],super[_0x355e33(0x4aa)]();}[_0x2ad6ba(0x27c)](){const _0x11d3c0=_0x2ad6ba;this[_0x11d3c0(0x5a2)]['publish']({'sourceId':_0x124816,'messageType':_0x5f120e[_0x11d3c0(0x670)],'content':{'type':_0x5d0a4b['CloseVectorDatabase'],'label':this[_0x11d3c0(0x19d)]}});}['reset'](){this['sendStats']();}[_0x2ad6ba(0x30c)](){const _0x2ced34=_0x2ad6ba;return _0x406df3[_0x2ced34(0x525)][_0x2ced34(0x9e6)];}[_0x2ad6ba(0xa96)](_0x19cb7c,_0x5c4d92,_0x2097e4,_0x4d621e,_0xa1f427){const _0x5e776c=_0x2ad6ba,_0x485b3d=this['db'][_0x5e776c(0xa96)](_0x19cb7c,_0x5c4d92,_0x2097e4,_0x4d621e,_0xa1f427);return this[_0x5e776c(0x8c1)]+=0x1,_0xe8f382['logServiceEvent'](_0x573191[_0x5e776c(0x9e6)],{'type':_0x5e776c(0xa96),'label':this['label'],'nodeId':this[_0x5e776c(0x6e0)]['getId'](),'nodeType':this[_0x5e776c(0x6e0)][_0x5e776c(0x285)],'clusterId':this[_0x5e776c(0x58c)],'size':0x0}),this[_0x5e776c(0x7cb)](),_0x485b3d;}[_0x2ad6ba(0x33c)](_0x344961,_0xdf11c3,_0x2a2376,_0x149920){const _0x3cf9a7=_0x2ad6ba;this['db'][_0x3cf9a7(0x33c)](_0x344961,_0xdf11c3,_0x2a2376,_0x149920),this[_0x3cf9a7(0x337)]+=0x1,_0xe8f382['logServiceEvent'](_0x573191['VectorDatabase'],{'type':_0x3cf9a7(0x33c),'label':this[_0x3cf9a7(0x19d)],'nodeId':this[_0x3cf9a7(0x6e0)][_0x3cf9a7(0x362)](),'nodeType':this[_0x3cf9a7(0x6e0)][_0x3cf9a7(0x285)],'clusterId':this[_0x3cf9a7(0x58c)],'size':_0x149920[_0x3cf9a7(0x735)]((_0x493952,_0x35d634)=>_0x493952+_0x35d634[_0x3cf9a7(0x8e0)],0x0)}),this['sendStats']();}['remove'](_0x30560e){const _0x26d8af=_0x2ad6ba;this['db'][_0x26d8af(0x6e6)](_0x30560e),this[_0x26d8af(0x337)]+=0x1,_0xe8f382[_0x26d8af(0x861)](_0x573191['VectorDatabase'],{'type':_0x26d8af(0x6e6),'label':this[_0x26d8af(0x19d)],'nodeId':this[_0x26d8af(0x6e0)][_0x26d8af(0x362)](),'nodeType':this[_0x26d8af(0x6e0)][_0x26d8af(0x285)],'clusterId':this[_0x26d8af(0x58c)],'size':0x0}),this[_0x26d8af(0x7cb)]();}[_0x2ad6ba(0x1fd)](_0xa6299e){this['db']['saveToDisk'](_0xa6299e);}[_0x2ad6ba(0x3f0)](_0xec5d24){this['db']['loadFromDisk'](_0xec5d24);}[_0x2ad6ba(0x7cb)](){const _0x1502eb=_0x2ad6ba;this[_0x1502eb(0xa97)]&&clearTimeout(this[_0x1502eb(0xa97)]),this['debounceStats']=setTimeout(async()=>{const _0x33af38=_0x1502eb;delete this[_0x33af38(0xa97)];const _0x3b1b0f=this['db'][_0x33af38(0xa11)]()[_0x33af38(0x918)];this['systemTopic'][_0x33af38(0x29d)]({'sourceId':_0x124816,'messageType':_0x5f120e[_0x33af38(0x670)],'content':{'type':_0x5d0a4b[_0x33af38(0x23d)],'label':this[_0x33af38(0x19d)],'stats':{'timestamp':Date['now'](),'storage':_0x3b1b0f,'messagesSent':this[_0x33af38(0x812)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x33af38(0x18f)],'bytesReceived':this[_0x33af38(0x416)],'writes':this[_0x33af38(0x337)],'reads':this[_0x33af38(0x8c1)],'prompts':0x0,'tokens':0x0}}}),_0xe8f382[_0x33af38(0x654)](_0x573191[_0x33af38(0x9e6)],_0x33af38(0x5c8)+this[_0x33af38(0x58c)]+_0x33af38(0x5c8)+this[_0x33af38(0x19d)],_0x3b1b0f);},_0x18dd7b);}}class _0x42aca2{['id'];[_0x2ad6ba(0x815)];[_0x2ad6ba(0x41b)];constructor(_0x164e05,_0x3e95b6=new Set(),_0x356fc8){const _0x4f90d7=_0x2ad6ba;this['id']=_0x164e05,this[_0x4f90d7(0x815)]=_0x3e95b6,this['rank']=_0x356fc8;}[_0x2ad6ba(0x27c)](){const _0x4a946d=_0x2ad6ba;this[_0x4a946d(0x41b)]=void 0x0,this[_0x4a946d(0x815)][_0x4a946d(0xa82)]();}['getId'](){return this['id'];}[_0x2ad6ba(0x515)](){const _0x3ff6ab=_0x2ad6ba;return this[_0x3ff6ab(0x41b)];}['getRemoteConnections'](){return this['remoteConnections'];}}class _0x4c463e extends _0x42aca2{['id'];['displayName'];['email'];[_0x2ad6ba(0x815)];[_0x2ad6ba(0x41b)];[_0x2ad6ba(0x285)]=_0x406df3[_0x2ad6ba(0x9c4)][_0x2ad6ba(0xa62)];constructor(_0x51041f,_0x20567d,_0x331f9f,_0x3a0bd0=new Set(),_0x4ae6ee){const _0x113136=_0x2ad6ba;super(_0x51041f,_0x3a0bd0,_0x4ae6ee),this['id']=_0x51041f,this[_0x113136(0xa8b)]=_0x20567d,this[_0x113136(0xa1c)]=_0x331f9f,this['remoteConnections']=_0x3a0bd0,this['rank']=_0x4ae6ee;}[_0x2ad6ba(0x195)](){const _0x58a53c=_0x2ad6ba;return this[_0x58a53c(0xa8b)];}[_0x2ad6ba(0x1b8)](){const _0xe133f1=_0x2ad6ba;return this[_0xe133f1(0xa1c)];}}class _0x3677e6{[_0x2ad6ba(0x8e1)];[_0x2ad6ba(0x58c)];['clusterKey'];constructor(_0xa24940,_0x3e47c6){const _0x4dc84b=_0x2ad6ba;this[_0x4dc84b(0x8e1)]=_0xa24940,this[_0x4dc84b(0x58c)]=_0x3e47c6,this[_0x4dc84b(0x2c1)]='ccc'+this[_0x4dc84b(0x8e1)]+_0x4dc84b(0x5c8)+this[_0x4dc84b(0x58c)];}async[_0x2ad6ba(0x5c4)](_0x31271b,_0x435b1a){const _0x3e4b23=_0x2ad6ba,_0xd1f746=(0x0,_0x1c8bd3[_0x3e4b23(0x3df)])(_0x480677['getDatabase'](),'clusters/'+this[_0x3e4b23(0x2c1)]+_0x3e4b23(0x9bb)+_0x435b1a+'/transactions/'+_0x31271b['id']),_0x3d6a72=(0x0,_0x1c8bd3[_0x3e4b23(0x9bc)])(_0xd1f746);_0x3d6a72[_0x3e4b23(0x6e6)](),_0x31271b[_0x3e4b23(0x6d6)]||delete _0x31271b[_0x3e4b23(0x6d6)];try{await(0x0,_0x1c8bd3[_0x3e4b23(0x50f)])(_0xd1f746,_0x31271b);}catch(_0x4ce7bd){throw await _0x3d6a72[_0x3e4b23(0xab9)](),new _0x31ec66(_0x31ec66[_0x3e4b23(0x4b6)][_0x3e4b23(0x5f6)]);}if(!0x1===(await(0x0,_0x1c8bd3[_0x3e4b23(0x3d3)])((0x0,_0x1c8bd3['ref'])(_0x480677[_0x3e4b23(0x1c2)](),_0x3e4b23(0x21e)+this[_0x3e4b23(0x2c1)]+_0x3e4b23(0x9bb)+_0x435b1a+_0x3e4b23(0x341)),_0x38b5f4=>_0x38b5f4?_0x38b5f4===_0x31271b['parentId']?_0x31271b['id']:void 0x0:_0x31271b[_0x3e4b23(0x6d6)]?_0x31271b['parentId']:_0x31271b['id']))[_0x3e4b23(0x364)])throw await(0x0,_0x1c8bd3[_0x3e4b23(0x6e6)])(_0xd1f746),await _0x3d6a72[_0x3e4b23(0xab9)](),new _0x31ec66(_0x31ec66[_0x3e4b23(0x4b6)][_0x3e4b23(0x714)]);await _0x3d6a72['cancel']();}async['getTransactions'](_0x5d02eb,_0xfcb2d6){const _0x48003c=_0x2ad6ba;let _0x311275=[];const _0x376693=(0x0,_0x1c8bd3[_0x48003c(0x3df)])(_0x480677[_0x48003c(0x1c2)](),_0x48003c(0x21e)+this[_0x48003c(0x2c1)]+_0x48003c(0x9bb)+_0x5d02eb+_0x48003c(0x651));let _0x5a33aa=await(0x0,_0x1c8bd3[_0x48003c(0x736)])((0x0,_0x1c8bd3['query'])(_0x376693,(0x0,_0x1c8bd3['limitToFirst'])(0x65),(0x0,_0x1c8bd3[_0x48003c(0x98f)])()));if(!_0x5a33aa[_0x48003c(0x855)]()){if(void 0x0!==_0xfcb2d6)throw new _0x31ec66(_0x31ec66[_0x48003c(0x4b6)][_0x48003c(0x98e)]);return _0x311275;}const _0x402b94=_0x5a33aa[_0x48003c(0x547)]();for(;Object[_0x48003c(0xa6a)](_0x5a33aa[_0x48003c(0x547)]())['length']>0x64;){const _0x30c46a=Object[_0x48003c(0xa6a)](_0x5a33aa[_0x48003c(0x547)]()),_0x5de25d=_0x30c46a[_0x30c46a[_0x48003c(0x8e0)]-0x1];_0x5a33aa=await(0x0,_0x1c8bd3[_0x48003c(0x736)])((0x0,_0x1c8bd3['query'])(_0x376693,(0x0,_0x1c8bd3['limitToFirst'])(0x65),(0x0,_0x1c8bd3[_0x48003c(0x6fe)])(_0x5de25d),(0x0,_0x1c8bd3[_0x48003c(0x98f)])())),Object['assign'](_0x402b94,_0x5a33aa[_0x48003c(0x547)]());}if(_0x311275=Object[_0x48003c(0x9c1)](_0x402b94)['filter'](_0x179464=>'string'!=typeof _0x179464),0x0===_0x311275[_0x48003c(0x8e0)]&&void 0x0!==_0xfcb2d6)throw new _0x31ec66(_0x31ec66[_0x48003c(0x4b6)][_0x48003c(0x98e)]);if(_0x311275['length']>0x0&&void 0x0!==_0xfcb2d6&&!_0x311275['find'](_0x5e506e=>_0x5e506e['id']===_0xfcb2d6))throw new _0x31ec66(_0x31ec66['codes'][_0x48003c(0x98e)]);const _0x5369e2=[];let _0x9faef5=_0x311275[_0x48003c(0x2e0)](_0x9c183c=>_0x9c183c[_0x48003c(0x6d6)]===_0xfcb2d6);for(;_0x9faef5;)_0x5369e2[_0x48003c(0x673)](_0x9faef5),_0x9faef5=_0x311275[_0x48003c(0x2e0)](_0x47d930=>_0x47d930[_0x48003c(0x6d6)]===_0x9faef5['id']);return _0x5369e2;}}class _0x2bb550{[_0x2ad6ba(0x744)];[_0x2ad6ba(0x6e9)];[_0x2ad6ba(0x348)];[_0x2ad6ba(0x3cb)];[_0x2ad6ba(0x2d1)]=new Map();[_0x2ad6ba(0x35e)]=new Map();['pubSubTopics']=new Map();[_0x2ad6ba(0x23a)]=new Map();[_0x2ad6ba(0x461)]=new Map();[_0x2ad6ba(0x4f8)]=new Map();[_0x2ad6ba(0x842)]=new Map();[_0x2ad6ba(0x77e)]=new Map();[_0x2ad6ba(0x401)]=new Map();[_0x2ad6ba(0x334)]=new Map();[_0x2ad6ba(0x9ea)];constructor(_0xbaaeff,_0x5ee70d,_0x2e03c0,_0x193d33){const _0x4733f1=_0x2ad6ba;this[_0x4733f1(0x744)]=_0xbaaeff,this[_0x4733f1(0x6e9)]=_0x5ee70d,this['searchApiKey']=_0x2e03c0,this['aiSearchApiKey']=_0x193d33,this['transactionService']=new _0x3677e6(this[_0x4733f1(0x744)][_0x4733f1(0x8e1)],this[_0x4733f1(0x744)][_0x4733f1(0x58c)]);}[_0x2ad6ba(0x27c)](_0xa5dadb=!0x1){const _0x2496d5=_0x2ad6ba;this['remoteMediaStreams'][_0x2496d5(0x9a0)]((_0x10a266,_0x588be0)=>{const _0x32523e=_0x2496d5;_0x10a266[_0x32523e(0x9a0)]((_0x43ca84,_0x1765a3)=>{this['removeRemoteMediaStream'](_0x588be0,_0x1765a3);});}),_0xa5dadb||(_0x5b48dd['clear'](),this['localMediaStreams'][_0x2496d5(0x9a0)]((_0x39dbea,_0x1022c0)=>{const _0x22d178=_0x2496d5;this[_0x22d178(0x61a)](_0x1022c0);}),this[_0x2496d5(0x6ee)][_0x2496d5(0x9a0)]((_0x186f09,_0x4c4062)=>{this['removePubSubTopic'](_0x4c4062);}),this[_0x2496d5(0x23a)][_0x2496d5(0x9a0)]((_0x2b5642,_0x1eb4d3)=>{this['removeObjectStore'](_0x1eb4d3);}),this[_0x2496d5(0x461)][_0x2496d5(0x9a0)]((_0x461bb9,_0x9f0d48)=>{const _0x274048=_0x2496d5;this[_0x274048(0x954)](_0x9f0d48);}),this['keyValueDatabases'][_0x2496d5(0x9a0)]((_0x1ab6ae,_0x49311b)=>{const _0x23648d=_0x2496d5;this[_0x23648d(0x545)](_0x49311b);}),this[_0x2496d5(0x401)][_0x2496d5(0x9a0)]((_0x444b77,_0x496966)=>{const _0x4820fb=_0x2496d5;this[_0x4820fb(0x748)](_0x496966);}),this[_0x2496d5(0x334)][_0x2496d5(0x9a0)]((_0x45c2af,_0x5b1cbd)=>{this['removeJobWorker'](_0x5b1cbd);}),this[_0x2496d5(0x842)]['forEach']((_0x346d17,_0x5cefb8)=>{const _0x500354=_0x2496d5;this[_0x500354(0x3c6)](_0x5cefb8);}),this[_0x2496d5(0x77e)][_0x2496d5(0x9a0)]((_0x529cfd,_0x124298)=>{const _0x41a835=_0x2496d5;this[_0x41a835(0x451)](_0x124298);}));}[_0x2ad6ba(0x78c)](_0x5044f1,_0x38ce2c,_0x4fd417){const _0x3b29ca=_0x2ad6ba;if(this['objectStores'][_0x3b29ca(0x98d)](_0x5044f1))throw new _0x3f1f96(_0x429a2c['ObjectStoreAlreadyExists'],'Store\x20already\x20exists');const _0x213cb3=new _0x45426b(this[_0x3b29ca(0x744)][_0x3b29ca(0x6e0)],_0x5044f1,this[_0x3b29ca(0x744)][_0x3b29ca(0x58c)],this[_0x3b29ca(0x744)][_0x3b29ca(0x8e1)],this[_0x3b29ca(0x9ea)],_0x38ce2c,()=>this[_0x3b29ca(0x744)][_0x3b29ca(0x5fc)][_0x3b29ca(0x48d)](),_0x4fd417);return this[_0x3b29ca(0x23a)][_0x3b29ca(0x50f)](_0x5044f1,_0x213cb3),this['configs'][_0x3b29ca(0x5fc)]['registerSystemSource'](_0x213cb3),_0x213cb3;}['createExternalStorageConnection'](_0x343a6c,_0x4633e5){const _0x2c536a=_0x2ad6ba;if(this['objectStores'][_0x2c536a(0x98d)](_0x343a6c))throw new _0x3f1f96(_0x429a2c['ExternalStorageConnectionAlreadyExists'],'Connection\x20already\x20exists');const _0x3fea94=new _0x368a26(this[_0x2c536a(0x744)]['localNode'],_0x343a6c,this[_0x2c536a(0x744)][_0x2c536a(0x58c)],this[_0x2c536a(0x744)]['vendorId'],_0x4633e5);return this[_0x2c536a(0x461)][_0x2c536a(0x50f)](_0x343a6c,_0x3fea94),this[_0x2c536a(0x744)][_0x2c536a(0x5fc)][_0x2c536a(0xa24)](_0x3fea94),_0x3fea94;}async[_0x2ad6ba(0x9bd)](_0x40b5f8,_0x9e6aa,_0x49f2bf){const _0x1e3ca9=_0x2ad6ba;if(this[_0x1e3ca9(0x4f8)]['has'](_0x40b5f8))throw new _0x3f1f96(_0x429a2c[_0x1e3ca9(0x47e)],'Database\x20already\x20exists');try{const _0x4e69e5=this['configs'][_0x1e3ca9(0x5fc)]['isNodeReady'][_0x1e3ca9(0xa0a)](this['configs'][_0x1e3ca9(0x5fc)]),_0x343e56=new _0x3cd211(this[_0x1e3ca9(0x744)]['localNode'],_0x40b5f8,this[_0x1e3ca9(0x744)][_0x1e3ca9(0x58c)],this['configs']['vendorId'],_0x9e6aa,_0x49f2bf,_0x4e69e5);return this[_0x1e3ca9(0x4f8)][_0x1e3ca9(0x50f)](_0x40b5f8,_0x343e56),this['configs']['mediator'][_0x1e3ca9(0xa24)](_0x343e56),_0x343e56;}catch(_0x43e646){if(_0x43e646 instanceof _0x3f1f96)throw _0x43e646;throw new _0x31ec66(_0x31ec66[_0x1e3ca9(0x4b6)][_0x1e3ca9(0x750)],{'label':_0x40b5f8,'clusterId':this[_0x1e3ca9(0x744)][_0x1e3ca9(0x58c)],'vendorId':this[_0x1e3ca9(0x744)]['vendorId']});}}async[_0x2ad6ba(0x360)](_0x470537,_0x522e08){const _0x5f30b6=_0x2ad6ba;if(this[_0x5f30b6(0x401)][_0x5f30b6(0x98d)](_0x470537))throw new _0x3f1f96(_0x429a2c[_0x5f30b6(0x725)],_0x5f30b6(0x8aa));try{const _0x1bd93c=new _0xeaf38c(this[_0x5f30b6(0x744)][_0x5f30b6(0x6e0)],_0x470537,_0x522e08);return this[_0x5f30b6(0x401)]['set'](_0x470537,_0x1bd93c),this[_0x5f30b6(0x744)][_0x5f30b6(0x5fc)][_0x5f30b6(0xa24)](_0x1bd93c),_0x1bd93c;}catch(_0x50087d){if(_0x50087d instanceof _0x3f1f96)throw _0x50087d;throw new _0x31ec66(_0x31ec66[_0x5f30b6(0x4b6)][_0x5f30b6(0x7b6)],{'label':_0x470537,'clusterId':this[_0x5f30b6(0x744)][_0x5f30b6(0x58c)],'vendorId':this['configs']['vendorId']});}}async[_0x2ad6ba(0x89d)](_0x30f871,_0x48a455){const _0x47d229=_0x2ad6ba;if(this[_0x47d229(0x401)][_0x47d229(0x98d)](_0x30f871))throw new _0x3f1f96(_0x429a2c[_0x47d229(0x9e1)],'AI\x20Service\x20already\x20exists');if(this[_0x47d229(0x334)][_0x47d229(0x98d)](_0x30f871))throw new _0x3f1f96(_0x429a2c[_0x47d229(0x7f2)],_0x47d229(0x715));try{const _0x5d97fb=new _0x2c2857(this[_0x47d229(0x744)][_0x47d229(0x6e0)],_0x30f871,this[_0x47d229(0x744)][_0x47d229(0x8e1)],_0x48a455);return this['jobDispatchers']['set'](_0x30f871,_0x5d97fb),this[_0x47d229(0x744)][_0x47d229(0x5fc)]['registerSystemSource'](_0x5d97fb),_0x5d97fb;}catch(_0x140bdd){if(_0x140bdd instanceof _0x3f1f96)throw _0x140bdd;throw new _0x31ec66(_0x31ec66[_0x47d229(0x4b6)][_0x47d229(0xa6b)],{'label':_0x30f871,'clusterId':this[_0x47d229(0x744)][_0x47d229(0x58c)],'vendorId':this[_0x47d229(0x744)][_0x47d229(0x8e1)]});}}async[_0x2ad6ba(0x559)](_0x364c02,_0x1c2c5a,_0x4731a3,_0xdce033,_0x32684c,_0x451a87,_0x270400,_0x28e777){const _0x5aa73d=_0x2ad6ba;if(this[_0x5aa73d(0x334)][_0x5aa73d(0x98d)](_0x364c02))throw new _0x3f1f96(_0x429a2c[_0x5aa73d(0x61f)],_0x5aa73d(0x5d5));if(this[_0x5aa73d(0x401)][_0x5aa73d(0x98d)](_0x364c02))throw new _0x3f1f96(_0x429a2c[_0x5aa73d(0x7f2)],_0x5aa73d(0x715));try{const _0x209371=new _0x18b89d(this[_0x5aa73d(0x744)][_0x5aa73d(0x6e0)],_0x364c02,this[_0x5aa73d(0x744)][_0x5aa73d(0x8e1)],_0x1c2c5a,this,_0x4731a3,_0xdce033,_0x32684c,this[_0x5aa73d(0x348)],this['aiSearchApiKey'],_0x451a87,_0x270400,_0x28e777);return this[_0x5aa73d(0x334)][_0x5aa73d(0x50f)](_0x364c02,_0x209371),this['configs'][_0x5aa73d(0x5fc)][_0x5aa73d(0xa24)](_0x209371),_0x209371;}catch(_0x41cf1c){if(_0x41cf1c instanceof _0x3f1f96)throw _0x41cf1c;throw new _0x31ec66(_0x31ec66[_0x5aa73d(0x4b6)]['GenerativeAIWorkerCreationFailed'],{'label':_0x364c02,'clusterId':this[_0x5aa73d(0x744)][_0x5aa73d(0x58c)],'vendorId':this[_0x5aa73d(0x744)][_0x5aa73d(0x8e1)]});}}['createGraphDatabase'](_0x5ccb80,_0xc11353){const _0x4f544e=_0x2ad6ba;if(this['graphDatabases'][_0x4f544e(0x98d)](_0x5ccb80))throw new _0x3f1f96(_0x429a2c[_0x4f544e(0xa8e)],_0x4f544e(0x32d));try{const _0x55d1bb=new _0x24e80b(this['configs']['localNode'],_0x5ccb80,this[_0x4f544e(0x744)][_0x4f544e(0x58c)],this['configs'][_0x4f544e(0x8e1)],_0xc11353);return this[_0x4f544e(0x77e)][_0x4f544e(0x50f)](_0x5ccb80,_0x55d1bb),this['configs'][_0x4f544e(0x5fc)][_0x4f544e(0xa24)](_0x55d1bb),_0x55d1bb;}catch(_0x486e13){if(_0x486e13 instanceof _0x3f1f96)throw _0x486e13;throw new _0x31ec66(_0x31ec66[_0x4f544e(0x4b6)][_0x4f544e(0x84c)],{'label':_0x5ccb80,'clusterId':this[_0x4f544e(0x744)]['clusterId'],'vendorId':this['configs'][_0x4f544e(0x8e1)]});}}['createLocalDynamicMediaStream'](_0x2e8575,_0x5e6932){const _0x572bfa=_0x2ad6ba;if(this[_0x572bfa(0x2d1)]['has'](_0x2e8575))throw new _0x3f1f96(_0x429a2c[_0x572bfa(0x174)],_0x572bfa(0x762));if(!this[_0x572bfa(0x6e9)]['audioContext'])throw new _0x3f1f96(_0x429a2c[_0x572bfa(0x1f6)],_0x572bfa(0x44b));const _0x5db3a7=new _0x5958ed(this[_0x572bfa(0x744)][_0x572bfa(0x6e0)],_0x2e8575,_0x5e6932,this['options'][_0x572bfa(0x39a)],this[_0x572bfa(0x6e9)][_0x572bfa(0x5f8)],this[_0x572bfa(0x744)][_0x572bfa(0x58c)]);return this[_0x572bfa(0x2d1)][_0x572bfa(0x50f)](_0x2e8575,_0x5db3a7),this['configs'][_0x572bfa(0x5fc)][_0x572bfa(0xa24)](_0x5db3a7),_0x5db3a7[_0x572bfa(0x29d)](),_0x5db3a7;}[_0x2ad6ba(0x5dd)](_0x138ca3,_0x15f97a){const _0x52c5dc=_0x2ad6ba;if(this[_0x52c5dc(0x2d1)][_0x52c5dc(0x98d)](_0x138ca3))throw new _0x3f1f96(_0x429a2c['LocalMediaStreamAlreadyExists'],'Stream\x20already\x20exists');const _0x463670=new _0xf7c264(this[_0x52c5dc(0x744)]['localNode'],_0x138ca3,_0x15f97a,this[_0x52c5dc(0x744)][_0x52c5dc(0x58c)]);return this['localMediaStreams'][_0x52c5dc(0x50f)](_0x138ca3,_0x463670),this['configs']['mediator'][_0x52c5dc(0xa24)](_0x463670),_0x463670[_0x52c5dc(0x29d)](),_0x463670;}['createPubSubTopic'](_0x1aa1a9){const _0x272fd2=_0x2ad6ba;if(this[_0x272fd2(0x6ee)][_0x272fd2(0x98d)](_0x1aa1a9))throw new _0x3f1f96(_0x429a2c[_0x272fd2(0x8d4)],_0x272fd2(0x4d2));const _0x3f3eff=new _0x259a78(this[_0x272fd2(0x744)][_0x272fd2(0x6e0)],_0x1aa1a9,this[_0x272fd2(0x744)]['clusterId']);return this[_0x272fd2(0x6ee)]['set'](_0x1aa1a9,_0x3f3eff),this[_0x272fd2(0x744)][_0x272fd2(0x5fc)][_0x272fd2(0xa24)](_0x3f3eff),_0x3f3eff;}['createRemoteMediaStream'](_0x3e4c5b,_0x4e5058,_0x15b995,_0x439db1){const _0x3ee4be=_0x2ad6ba;this[_0x3ee4be(0x35e)][_0x3ee4be(0x98d)](_0x3e4c5b)||this[_0x3ee4be(0x35e)][_0x3ee4be(0x50f)](_0x3e4c5b,new Map());const _0x3d6090=this['remoteMediaStreams'][_0x3ee4be(0x736)](_0x3e4c5b);if(_0x3d6090[_0x3ee4be(0x98d)](_0x4e5058))throw new _0x3f1f96(_0x429a2c[_0x3ee4be(0x95d)],_0x3ee4be(0x33e));const _0x691465=new _0x4c463e(_0x3e4c5b,'',''),_0x3ca761=new _0x23c40f(this['configs'][_0x3ee4be(0x6e0)],_0x691465,_0x4e5058,_0x15b995,_0x439db1,this[_0x3ee4be(0x744)][_0x3ee4be(0x58c)]);return _0x3d6090[_0x3ee4be(0x50f)](_0x4e5058,_0x3ca761),this['configs'][_0x3ee4be(0x5fc)][_0x3ee4be(0xa24)](_0x3ca761),_0x3ca761;}['createVectorDatabase'](_0x1f03df,_0x29b872){const _0x5790c0=_0x2ad6ba;if(this[_0x5790c0(0x842)][_0x5790c0(0x98d)](_0x1f03df))throw new _0x3f1f96(_0x429a2c[_0x5790c0(0x210)],'Database\x20already\x20exists');try{const _0x1eeecb=new _0x152142(this[_0x5790c0(0x744)]['localNode'],_0x1f03df,this[_0x5790c0(0x744)][_0x5790c0(0x58c)],this[_0x5790c0(0x744)][_0x5790c0(0x8e1)],_0x29b872);return this[_0x5790c0(0x842)][_0x5790c0(0x50f)](_0x1f03df,_0x1eeecb),this['configs']['mediator'][_0x5790c0(0xa24)](_0x1eeecb),_0x1eeecb;}catch(_0x134673){if(_0x134673 instanceof _0x3f1f96)throw _0x134673;throw new _0x31ec66(_0x31ec66['codes']['VectorDatabaseCreationFailed'],{'label':_0x1f03df,'clusterId':this[_0x5790c0(0x744)][_0x5790c0(0x58c)],'vendorId':this[_0x5790c0(0x744)][_0x5790c0(0x8e1)]});}}[_0x2ad6ba(0x242)](_0x378034){const _0x465c15=_0x2ad6ba,_0x33feb9=Array[_0x465c15(0x854)](this[_0x465c15(0x23a)][_0x465c15(0x9c1)]());return _0x378034?_0x33feb9[_0x465c15(0x1bc)](_0x378034):_0x33feb9;}['getExternalStorageConnections'](_0x4935f9){const _0x2724a4=_0x2ad6ba,_0xc1f923=Array[_0x2724a4(0x854)](this[_0x2724a4(0x461)][_0x2724a4(0x9c1)]());return _0x4935f9?_0xc1f923[_0x2724a4(0x1bc)](_0x4935f9):_0xc1f923;}[_0x2ad6ba(0x246)](_0x4e4c19){const _0x42c8c4=_0x2ad6ba,_0xb36968=Array['from'](this[_0x42c8c4(0x4f8)][_0x42c8c4(0x9c1)]());return _0x4e4c19?_0xb36968[_0x42c8c4(0x1bc)](_0x4e4c19):_0xb36968;}['getJobDispatchers'](_0x4be3be){const _0x5ddd13=_0x2ad6ba,_0x4c50e2=Array[_0x5ddd13(0x854)](this['jobDispatchers'][_0x5ddd13(0x9c1)]());return _0x4be3be?_0x4c50e2[_0x5ddd13(0x1bc)](_0x4be3be):_0x4c50e2;}[_0x2ad6ba(0x3d8)](_0x37cf28){const _0x5bb771=_0x2ad6ba,_0xce4ef2=Array['from'](this['jobWorkers'][_0x5bb771(0x9c1)]());return _0x37cf28?_0xce4ef2[_0x5bb771(0x1bc)](_0x37cf28):_0xce4ef2;}['getGenerativeAIContexts'](_0x44eaef){const _0x43bc5c=_0x2ad6ba,_0x6ebf7b=Array[_0x43bc5c(0x854)](this['jobDispatchers'][_0x43bc5c(0x9c1)]())[_0x43bc5c(0x1bc)](_0x1da2e7=>_0x1da2e7 instanceof _0x2c2857);return _0x44eaef?_0x6ebf7b[_0x43bc5c(0x1bc)](_0x44eaef):_0x6ebf7b;}[_0x2ad6ba(0x391)](_0x44cb46){const _0x33c8a0=_0x2ad6ba,_0x41f751=Array[_0x33c8a0(0x854)](this['jobWorkers']['values']())['filter'](_0x24acd0=>_0x24acd0 instanceof _0x18b89d);return _0x44cb46?_0x41f751[_0x33c8a0(0x1bc)](_0x44cb46):_0x41f751;}[_0x2ad6ba(0x4fb)](_0x240798){const _0x3b6010=_0x2ad6ba,_0x1cdfa2=Array['from'](this['graphDatabases'][_0x3b6010(0x9c1)]());return _0x240798?_0x1cdfa2[_0x3b6010(0x1bc)](_0x240798):_0x1cdfa2;}[_0x2ad6ba(0xa5d)](_0x480e72){const _0x8ac435=_0x2ad6ba,_0x54fce8=Array[_0x8ac435(0x854)](this[_0x8ac435(0x2d1)][_0x8ac435(0x9c1)]());return _0x480e72?_0x54fce8[_0x8ac435(0x1bc)](_0x480e72):_0x54fce8;}['getPubSubTopics'](_0x5f21b1){const _0x20a425=_0x2ad6ba,_0x38d5cc=Array[_0x20a425(0x854)](this[_0x20a425(0x6ee)]['values']());return _0x5f21b1?_0x38d5cc[_0x20a425(0x1bc)](_0x5f21b1):_0x38d5cc;}[_0x2ad6ba(0x990)](_0x424cb3){const _0xad8917=_0x2ad6ba,_0x3693b3=Array[_0xad8917(0x854)](this[_0xad8917(0x35e)][_0xad8917(0x9c1)]())['reduce']((_0x4ff33b,_0x156329)=>[..._0x4ff33b,...Array[_0xad8917(0x854)](_0x156329['values']())],[]);return _0x424cb3?_0x3693b3[_0xad8917(0x1bc)](_0x424cb3):_0x3693b3;}[_0x2ad6ba(0x7b8)](_0x4c75f8){const _0x506a20=_0x2ad6ba,_0x3bad4d=Array[_0x506a20(0x854)](this[_0x506a20(0x842)][_0x506a20(0x9c1)]());return _0x4c75f8?_0x3bad4d[_0x506a20(0x1bc)](_0x4c75f8):_0x3bad4d;}[_0x2ad6ba(0x79e)](_0x3c302f){const _0x4b422b=_0x2ad6ba,_0x3f04dc=this[_0x4b422b(0x23a)][_0x4b422b(0x736)](_0x3c302f);if(!_0x3f04dc)throw new _0x3f1f96(_0x429a2c[_0x4b422b(0x3ca)],_0x4b422b(0x3de));return _0x3f04dc;}[_0x2ad6ba(0x6b8)](_0x2b4059){const _0x293e10=_0x2ad6ba,_0x59583c=_0x2b4059['split']('-'),_0x498cf3=this[_0x293e10(0x461)][_0x293e10(0x736)](_0x59583c[0x1]);if(!_0x498cf3)throw new _0x3f1f96(_0x429a2c[_0x293e10(0x63f)],'ExternalStorageConnection\x20not\x20found');return _0x498cf3;}['getGraphDatabase'](_0x19a43c){const _0x37dc31=_0x2ad6ba,_0x1d0c74=this['graphDatabases']['get'](_0x19a43c);if(!_0x1d0c74)throw new _0x3f1f96(_0x429a2c[_0x37dc31(0x945)],_0x37dc31(0x49d));return _0x1d0c74;}['getKeyValueDatabase'](_0x12c34e){const _0x558826=_0x2ad6ba,_0x3e2b89=this['keyValueDatabases'][_0x558826(0x736)](_0x12c34e);if(!_0x3e2b89)throw new _0x3f1f96(_0x429a2c[_0x558826(0x710)],_0x558826(0x894));return _0x3e2b89;}['getPubSubTopic'](_0x1c9bb4){const _0x17382a=_0x2ad6ba,_0x3df7db=this['pubSubTopics'][_0x17382a(0x736)](_0x1c9bb4);if(!_0x3df7db)throw new _0x3f1f96(_0x429a2c[_0x17382a(0x818)],_0x17382a(0x42e));return _0x3df7db;}[_0x2ad6ba(0xa54)](_0x7d2923){const _0x38991e=_0x2ad6ba,_0x1fbf75=this[_0x38991e(0x842)][_0x38991e(0x736)](_0x7d2923);if(!_0x1fbf75)throw new _0x3f1f96(_0x429a2c[_0x38991e(0x20a)],'VectorDatabase\x20not\x20found');return _0x1fbf75;}[_0x2ad6ba(0x3ee)](_0x2699f7){const _0x1eb4c3=_0x2ad6ba;switch(_0x2699f7['content'][_0x1eb4c3(0x285)]){case _0x5d0a4b['PublishMediaStream']:this[_0x1eb4c3(0x2c0)](_0x2699f7[_0x1eb4c3(0x257)]);break;case _0x5d0a4b['UnpublishMediaStream']:this[_0x1eb4c3(0x941)](_0x2699f7['content']);break;case _0x5d0a4b[_0x1eb4c3(0x6cc)]:this['removeJobDispatcher'](_0x2699f7[_0x1eb4c3(0x257)][_0x1eb4c3(0x19d)]);break;case _0x5d0a4b[_0x1eb4c3(0xa3d)]:this['removeJobWorker'](_0x2699f7[_0x1eb4c3(0x257)]['label']);break;case _0x5d0a4b[_0x1eb4c3(0x570)]:this[_0x1eb4c3(0x61a)](_0x2699f7[_0x1eb4c3(0x257)][_0x1eb4c3(0x19d)]);break;case _0x5d0a4b[_0x1eb4c3(0x891)]:this['removePubSubTopic'](_0x2699f7[_0x1eb4c3(0x257)][_0x1eb4c3(0x19d)]);break;case _0x5d0a4b[_0x1eb4c3(0x2d7)]:this['removeObjectStore'](_0x2699f7[_0x1eb4c3(0x257)][_0x1eb4c3(0x19d)]);break;case _0x5d0a4b['CloseExternalStorageConnection']:this['removeExternalStorageConnection'](_0x2699f7['content'][_0x1eb4c3(0x19d)]);break;case _0x5d0a4b[_0x1eb4c3(0x21f)]:this[_0x1eb4c3(0x545)](_0x2699f7[_0x1eb4c3(0x257)][_0x1eb4c3(0x19d)]);break;case _0x5d0a4b[_0x1eb4c3(0x6c1)]:this[_0x1eb4c3(0x3c6)](_0x2699f7['content'][_0x1eb4c3(0x19d)]);break;case _0x5d0a4b[_0x1eb4c3(0x8cf)]:this['removeGraphDatabase'](_0x2699f7[_0x1eb4c3(0x257)][_0x1eb4c3(0x19d)]);break;case _0x5d0a4b[_0x1eb4c3(0x978)]:this[_0x1eb4c3(0x3e8)](_0x2699f7[_0x1eb4c3(0x257)]);break;case _0x5d0a4b['KeyValueDatabaseSyncRequired']:this[_0x1eb4c3(0x4f8)][_0x1eb4c3(0x736)](_0x2699f7[_0x1eb4c3(0x257)][_0x1eb4c3(0x19d)])?.['answerContentAvailable'](_0x2699f7[_0x1eb4c3(0xa59)],_0x2699f7[_0x1eb4c3(0x257)][_0x1eb4c3(0xa04)]);break;case _0x5d0a4b[_0x1eb4c3(0x56f)]:this[_0x1eb4c3(0x4f8)]['get'](_0x2699f7[_0x1eb4c3(0x257)][_0x1eb4c3(0x19d)])?.[_0x1eb4c3(0x88e)](_0x2699f7['sourceId'],_0x2699f7[_0x1eb4c3(0x257)][_0x1eb4c3(0xa04)]);break;case _0x5d0a4b[_0x1eb4c3(0xa45)]:this[_0x1eb4c3(0x4f8)][_0x1eb4c3(0x736)](_0x2699f7[_0x1eb4c3(0x257)]['label'])?.[_0x1eb4c3(0x936)](_0x2699f7[_0x1eb4c3(0xa59)],_0x2699f7[_0x1eb4c3(0x257)][_0x1eb4c3(0x4e4)]);break;case _0x5d0a4b[_0x1eb4c3(0x405)]:this[_0x1eb4c3(0x4f8)][_0x1eb4c3(0x736)](_0x2699f7[_0x1eb4c3(0x257)]['label'])?.[_0x1eb4c3(0xaa9)](_0x2699f7['sourceId'],_0x2699f7[_0x1eb4c3(0x257)][_0x1eb4c3(0x386)]);break;case _0x5d0a4b['KeyValueDatabaseRequestTransactionsValue']:this[_0x1eb4c3(0x4f8)][_0x1eb4c3(0x736)](_0x2699f7[_0x1eb4c3(0x257)]['label'])?.[_0x1eb4c3(0x766)](_0x2699f7[_0x1eb4c3(0xa59)],_0x2699f7['content'][_0x1eb4c3(0x219)]);break;case _0x5d0a4b[_0x1eb4c3(0x221)]:this[_0x1eb4c3(0x4f8)][_0x1eb4c3(0x736)](_0x2699f7['content'][_0x1eb4c3(0x19d)])?.[_0x1eb4c3(0xa9f)](_0x2699f7[_0x1eb4c3(0xa59)],_0x2699f7['content'][_0x1eb4c3(0x904)]);break;case _0x5d0a4b[_0x1eb4c3(0x61b)]:this[_0x1eb4c3(0x744)][_0x1eb4c3(0x5fc)][_0x1eb4c3(0x709)](_0x1eb4c3(0x33d),{'label':_0x2699f7['content'][_0x1eb4c3(0x19d)],'trackKinds':_0x2699f7[_0x1eb4c3(0x257)][_0x1eb4c3(0x1e3)]});}}[_0x2ad6ba(0x692)]({content:_0xdff79c}){const _0x4a9cc3=_0x2ad6ba;switch(_0xdff79c['type']){case _0x152a71[_0x4a9cc3(0x7fd)]:this[_0x4a9cc3(0x703)](_0xdff79c),this['notifyObjectStoreOfNodeJoin'](_0xdff79c);break;case _0x152a71[_0x4a9cc3(0x46d)]:this[_0x4a9cc3(0x693)](_0xdff79c),this[_0x4a9cc3(0x66b)](_0xdff79c);}}[_0x2ad6ba(0x9d2)](_0x53ba68){const _0x1700cf=_0x2ad6ba;switch(_0x53ba68[_0x1700cf(0x257)][_0x1700cf(0x285)]){case _0x5340f1[_0x1700cf(0x8d3)]:this[_0x1700cf(0x660)](_0x53ba68[_0x1700cf(0xa59)],_0x53ba68[_0x1700cf(0x257)]);break;case _0x5340f1[_0x1700cf(0x404)]:this[_0x1700cf(0x2b5)](_0x53ba68[_0x1700cf(0xa59)],_0x53ba68['content']);break;case _0x5340f1[_0x1700cf(0x978)]:this[_0x1700cf(0x47d)](_0x53ba68[_0x1700cf(0xa59)],_0x53ba68['content']);}}[_0x2ad6ba(0x3e8)](_0x4f3575){const _0x943bc9=_0x2ad6ba;if(0x0===_0x4f3575[_0x943bc9(0x59e)])this[_0x943bc9(0x35e)][_0x943bc9(0x736)](_0x4f3575[_0x943bc9(0x568)])?.['get'](_0x4f3575[_0x943bc9(0x19d)])?.[_0x943bc9(0x4aa)]();else{const _0x39e493=this[_0x943bc9(0x35e)][_0x943bc9(0x736)](_0x4f3575[_0x943bc9(0x568)])?.['get'](_0x4f3575[_0x943bc9(0x19d)]);if(!_0x39e493)return;_0x4f3575['trackKinds'][_0x943bc9(0x9a0)](_0x5d4d38=>_0x39e493[_0x943bc9(0x2a1)](_0x5d4d38));}}[_0x2ad6ba(0x2c0)](_0x3dc633){const _0x315151=_0x2ad6ba,{label:_0x389a6c,ownerId:_0x28dfe6,stream:{streamId:_0x53c7e6,availableTrackKinds:_0x537ae8}}=_0x3dc633;if(this[_0x315151(0x35e)][_0x315151(0x736)](_0x28dfe6)?.[_0x315151(0x98d)](_0x389a6c))return void _0xe8f382[_0x315151(0xa40)](_0x1b63ac[_0x315151(0x670)],_0x315151(0x6ad),_0x53c7e6);const _0x23dfe9=this[_0x315151(0x428)](_0x28dfe6,_0x389a6c,_0x53c7e6,_0x537ae8);this['configs']['mediator'][_0x315151(0x709)](_0x315151(0x7a7),{'ownerId':_0x28dfe6,'stream':_0x23dfe9});}['handleUnpublishMediaStream']({ownerId:_0x39ed93,label:_0x41736a}){const _0x16930b=_0x2ad6ba;this['removeRemoteMediaStream'](_0x39ed93,_0x41736a),this[_0x16930b(0x744)]['mediator'][_0x16930b(0x709)](_0x16930b(0x571),{'ownerId':_0x39ed93,'label':_0x41736a});}[_0x2ad6ba(0x660)](_0x2fadbe,_0x24b88c){const _0x4c3ca4=_0x2ad6ba,{ownerId:_0x199e93,label:_0x2f80e8}=_0x24b88c;let _0x411536;_0x411536=_0x199e93!==this[_0x4c3ca4(0x744)]['localNode']['getId']()?this[_0x4c3ca4(0x35e)][_0x4c3ca4(0x736)](_0x199e93)[_0x4c3ca4(0x736)](_0x2f80e8):this['localMediaStreams'][_0x4c3ca4(0x736)](_0x2f80e8),_0x411536[_0x4c3ca4(0x32e)](_0x2fadbe,_0x24b88c[_0x4c3ca4(0x716)])[_0x4c3ca4(0x208)](_0x24b88c,_0x411536[_0x4c3ca4(0x5a4)]());}[_0x2ad6ba(0x2b5)](_0x3e559c,_0x1ac6d0){const _0xd28d70=_0x2ad6ba,{ownerId:_0x5f111f,label:_0x5aa4f9}=_0x1ac6d0;let _0x50dcf4;_0x50dcf4=_0x5f111f!==this['configs']['localNode'][_0xd28d70(0x362)]()?this[_0xd28d70(0x35e)][_0xd28d70(0x736)](_0x5f111f)[_0xd28d70(0x736)](_0x5aa4f9):this['localMediaStreams'][_0xd28d70(0x736)](_0x5aa4f9),_0x50dcf4[_0xd28d70(0x32e)](_0x3e559c,_0x1ac6d0[_0xd28d70(0x716)])[_0xd28d70(0x9cc)](_0x1ac6d0);}[_0x2ad6ba(0x47d)](_0x3c024e,_0x192534){const _0x61be9c=_0x2ad6ba,{ownerId:_0x562e50,label:_0xd2ad80}=_0x192534;let _0x22a09a;_0x22a09a=_0x562e50!==this[_0x61be9c(0x744)][_0x61be9c(0x6e0)]['getId']()?this[_0x61be9c(0x35e)][_0x61be9c(0x736)](_0x562e50)[_0x61be9c(0x736)](_0xd2ad80):this[_0x61be9c(0x2d1)][_0x61be9c(0x736)](_0xd2ad80),_0x22a09a[_0x61be9c(0x32e)](_0x3c024e)[_0x61be9c(0x99f)](_0x192534);}[_0x2ad6ba(0x703)]({id:_0x2f0394}){const _0x29bc23=_0x2ad6ba;this[_0x29bc23(0xa5d)]()[_0x29bc23(0x9a0)](_0x3f4d27=>{const _0x368202=_0x29bc23;_0x3f4d27[_0x368202(0x29d)](_0x2f0394);});}[_0x2ad6ba(0x693)]({id:_0x98a745}){const _0x99bd7b=_0x2ad6ba;this[_0x99bd7b(0x990)](_0x5db3e5=>_0x5db3e5['getOwnerId']()===_0x98a745)[_0x99bd7b(0x9a0)](_0x3ae2ad=>{const _0xe4df12=_0x99bd7b;this[_0xe4df12(0x1cf)](_0x3ae2ad[_0xe4df12(0x4e9)](),_0x3ae2ad[_0xe4df12(0x5c3)]());});}[_0x2ad6ba(0x8f0)]({id:_0x5bf052}){const _0x197cff=_0x2ad6ba;this[_0x197cff(0x23a)][_0x197cff(0x9a0)](_0x1fbba8=>_0x1fbba8['handleNodeJoin'](_0x5bf052));}[_0x2ad6ba(0x66b)]({id:_0xa660ac}){const _0x824bba=_0x2ad6ba;this['objectStores']['forEach'](_0x21cd0e=>_0x21cd0e[_0x824bba(0x693)](_0xa660ac));}[_0x2ad6ba(0x748)](_0x202d81){const _0x90453d=_0x2ad6ba;if(!this[_0x90453d(0x401)]['has'](_0x202d81))throw new _0x3f1f96(_0x429a2c[_0x90453d(0x6e8)],_0x90453d(0x34c));const _0x4f15ff=this['jobDispatchers'][_0x90453d(0x736)](_0x202d81);this[_0x90453d(0x401)]['delete'](_0x202d81),_0x4f15ff[_0x90453d(0x4aa)](),this['configs'][_0x90453d(0x5fc)][_0x90453d(0x1dc)](_0x4f15ff);}['removeJobWorker'](_0x4de7b7){const _0x2fb5ef=_0x2ad6ba;if(!this[_0x2fb5ef(0x334)][_0x2fb5ef(0x98d)](_0x4de7b7))throw new _0x3f1f96(_0x429a2c[_0x2fb5ef(0x3c2)],_0x2fb5ef(0x6f7));const _0x203ce8=this['jobWorkers'][_0x2fb5ef(0x736)](_0x4de7b7);this[_0x2fb5ef(0x334)][_0x2fb5ef(0xa12)](_0x4de7b7),_0x203ce8[_0x2fb5ef(0x4aa)](),this[_0x2fb5ef(0x744)][_0x2fb5ef(0x5fc)][_0x2fb5ef(0x1dc)](_0x203ce8);}[_0x2ad6ba(0x361)](_0x5ababb){const _0xe2546e=_0x2ad6ba;if(!this[_0xe2546e(0x23a)]['has'](_0x5ababb))throw new _0x3f1f96(_0x429a2c['ObjectStoreDoesNotExist'],_0xe2546e(0x801));const _0x29e9d8=this[_0xe2546e(0x23a)][_0xe2546e(0x736)](_0x5ababb);this['objectStores'][_0xe2546e(0xa12)](_0x5ababb),_0x29e9d8['destroy'](),this['configs'][_0xe2546e(0x5fc)][_0xe2546e(0x1dc)](_0x29e9d8);}['removeExternalStorageConnection'](_0x268e2f){const _0x464bb8=_0x2ad6ba;if(!this[_0x464bb8(0x461)]['has'](_0x268e2f))throw new _0x3f1f96(_0x429a2c['ExternalStorageConnectionDoesNotExist'],_0x464bb8(0x3c5));const _0x3122c3=this[_0x464bb8(0x461)][_0x464bb8(0x736)](_0x268e2f);this['externalStorageConnections']['delete'](_0x268e2f),_0x3122c3[_0x464bb8(0x4aa)](),this[_0x464bb8(0x744)][_0x464bb8(0x5fc)]['unregisterSystemSource'](_0x3122c3);}[_0x2ad6ba(0x877)](_0x349d1c){const _0x44431e=_0x2ad6ba;if(!this[_0x44431e(0x6ee)][_0x44431e(0x98d)](_0x349d1c))throw new _0x3f1f96(_0x429a2c[_0x44431e(0x818)],'Stream\x20does\x20not\x20exist');const _0x39a72c=this[_0x44431e(0x6ee)][_0x44431e(0x736)](_0x349d1c);this[_0x44431e(0x6ee)]['delete'](_0x349d1c),_0x39a72c['destroy'](),this[_0x44431e(0x744)][_0x44431e(0x5fc)][_0x44431e(0x1dc)](_0x39a72c);}['removeKeyValueDatabase'](_0x200a73){const _0x5039e8=_0x2ad6ba;if(!this[_0x5039e8(0x4f8)][_0x5039e8(0x98d)](_0x200a73))throw new _0x3f1f96(_0x429a2c['KeyValueDatabaseDoesNotExist'],_0x5039e8(0x40a));const _0x343e1a=this[_0x5039e8(0x4f8)][_0x5039e8(0x736)](_0x200a73);this[_0x5039e8(0x4f8)]['delete'](_0x200a73),_0x343e1a[_0x5039e8(0x4aa)](),this[_0x5039e8(0x744)][_0x5039e8(0x5fc)][_0x5039e8(0x1dc)](_0x343e1a);}[_0x2ad6ba(0x3c6)](_0x52b6e4){const _0x5cda33=_0x2ad6ba;if(!this[_0x5cda33(0x842)][_0x5cda33(0x98d)](_0x52b6e4))throw new _0x3f1f96(_0x429a2c[_0x5cda33(0x20a)],_0x5cda33(0x40a));const _0x462651=this[_0x5cda33(0x842)][_0x5cda33(0x736)](_0x52b6e4);this[_0x5cda33(0x842)][_0x5cda33(0xa12)](_0x52b6e4),_0x462651[_0x5cda33(0x4aa)](),this[_0x5cda33(0x744)]['mediator'][_0x5cda33(0x1dc)](_0x462651);}[_0x2ad6ba(0x451)](_0xff9769){const _0x41d24c=_0x2ad6ba;if(!this[_0x41d24c(0x77e)][_0x41d24c(0x98d)](_0xff9769))throw new _0x3f1f96(_0x429a2c['GraphDatabaseDoesNotExist'],_0x41d24c(0x40a));const _0x69adde=this[_0x41d24c(0x77e)][_0x41d24c(0x736)](_0xff9769);this[_0x41d24c(0x77e)]['delete'](_0xff9769),_0x69adde['destroy'](),this[_0x41d24c(0x744)][_0x41d24c(0x5fc)]['unregisterSystemSource'](_0x69adde);}[_0x2ad6ba(0x61a)](_0x3dbc00){const _0x54c7c9=_0x2ad6ba;if(!this[_0x54c7c9(0x2d1)]['has'](_0x3dbc00))throw new _0x31ec66(_0x31ec66[_0x54c7c9(0x4b6)][_0x54c7c9(0x307)],{'label':_0x3dbc00,'localId':this[_0x54c7c9(0x744)][_0x54c7c9(0x6e0)]['getId']()});const _0x1ae01a=this[_0x54c7c9(0x2d1)][_0x54c7c9(0x736)](_0x3dbc00);this[_0x54c7c9(0x744)][_0x54c7c9(0x5fc)][_0x54c7c9(0x1dc)](_0x1ae01a),_0x1ae01a[_0x54c7c9(0x4aa)](),this['localMediaStreams']['delete'](_0x3dbc00);}[_0x2ad6ba(0x1cf)](_0x54a6a0,_0x4285ad){const _0x43630e=_0x2ad6ba;if(!this[_0x43630e(0x35e)][_0x43630e(0x98d)](_0x54a6a0))throw new _0x31ec66(_0x31ec66[_0x43630e(0x4b6)][_0x43630e(0x921)],{'nodeId':_0x54a6a0,'localId':this[_0x43630e(0x744)][_0x43630e(0x6e0)]['getId']()});const _0x726e22=this[_0x43630e(0x35e)]['get'](_0x54a6a0);if(!_0x726e22[_0x43630e(0x98d)](_0x4285ad))throw new _0x31ec66(_0x31ec66['codes'][_0x43630e(0x67a)],{'nodeId':_0x54a6a0,'label':_0x4285ad,'localId':this[_0x43630e(0x744)][_0x43630e(0x6e0)][_0x43630e(0x362)]()});const _0x516225=_0x726e22[_0x43630e(0x736)](_0x4285ad);this['configs'][_0x43630e(0x5fc)]['unregisterSystemSource'](_0x516225),_0x516225[_0x43630e(0x4aa)](),_0x726e22['delete'](_0x4285ad);}}var _0x40d47e,_0x5299b2,_0x64237c;!function(_0x52c922){const _0x524ccb=_0x2ad6ba;_0x52c922[_0x524ccb(0x381)]=_0x524ccb(0x5b6),_0x52c922[_0x524ccb(0x7f3)]='dt_volatility',_0x52c922[_0x524ccb(0x473)]='time_per_frame',_0x52c922[_0x524ccb(0x64a)]=_0x524ccb(0x90d),_0x52c922[_0x524ccb(0x93a)]=_0x524ccb(0x4cd),_0x52c922[_0x524ccb(0x49b)]='fps',_0x52c922[_0x524ccb(0x8d1)]=_0x524ccb(0x8be),_0x52c922['AudioVideoDelay']=_0x524ccb(0x981);}(_0x40d47e||(_0x40d47e={})),function(_0x254e03){const _0x8239a5=_0x2ad6ba;_0x254e03[_0x8239a5(0x75a)]=_0x8239a5(0x8ee),_0x254e03['TimePerFrame']=_0x8239a5(0x5e1),_0x254e03['AudioVideoDelay']=_0x8239a5(0xa4e),_0x254e03['FramePerSecond']=_0x8239a5(0x388),_0x254e03['Bitrate']=_0x8239a5(0x8f9),_0x254e03[_0x8239a5(0x93a)]=_0x8239a5(0x69b),_0x254e03['RoundTripTime']=_0x8239a5(0x212);}(_0x5299b2||(_0x5299b2={})),function(_0x4ad362){_0x4ad362[_0x4ad362['Problem']=0x0]='Problem';}(_0x64237c||(_0x64237c={}));const _0x1fe032=[{'type':_0x40d47e['STVolatility'],'reportMetric':_0x2597bc=>_0x2597bc[_0x2ad6ba(0x381)],'maxThreshold':2.5},{'type':_0x40d47e[_0x2ad6ba(0x7f3)],'reportMetric':_0x1f2744=>_0x1f2744[_0x2ad6ba(0x7f3)],'maxThreshold':0.5}],_0x277b61=[{'type':_0x40d47e[_0x2ad6ba(0x473)],'reportMetric':_0x59519d=>{const _0x36a15d=_0x2ad6ba,_0x589add=0x3e8/_0x59519d['FPS'];return _0x59519d[_0x36a15d(0x170)]/_0x589add;},'maxThreshold':0.75},{'type':_0x40d47e[_0x2ad6ba(0x64a)],'reportMetric':_0x4cd19c=>{const _0x5d1d60=_0x2ad6ba,_0x4b6e0d=_0x4cd19c[_0x5d1d60(0x304)]*_0x4cd19c[_0x5d1d60(0x34f)]*_0x4cd19c[_0x5d1d60(0x218)]*0.12;return _0x4cd19c[_0x5d1d60(0x90d)]/_0x4b6e0d;},'minThreshold':0.25},{'type':_0x40d47e[_0x2ad6ba(0x93a)],'reportMetric':_0x3149df=>_0x3149df[_0x2ad6ba(0x4cd)],'maxThreshold':0.6},{'type':_0x40d47e[_0x2ad6ba(0x49b)],'reportMetric':_0x266fe1=>_0x266fe1[_0x2ad6ba(0x304)],'minThreshold':0xa}],_0x152d66=[{'type':_0x40d47e[_0x2ad6ba(0x93a)],'reportMetric':_0xc6b0ac=>_0xc6b0ac[_0x2ad6ba(0x4cd)],'maxThreshold':0.6}],_0x42dd27=[{'type':_0x40d47e[_0x2ad6ba(0x8d1)],'reportMetric':_0x51fced=>_0x51fced[_0x2ad6ba(0x94b)],'maxThreshold':0x1/0x0}],_0x15c8f7=[{'type':_0x40d47e[_0x2ad6ba(0x436)],'reportMetric':_0x483fcd=>_0x483fcd['AudioVideoDelay'],'maxThreshold':0x12c}],_0x2e510d=[{'type':_0x5299b2[_0x2ad6ba(0x75a)],'issues':[{'type':_0x40d47e[_0x2ad6ba(0x381)],'threshold':0x5},{'type':_0x40d47e['DTVolatility'],'threshold':0x5}]},{'type':_0x5299b2['TimePerFrame'],'issues':[{'type':_0x40d47e[_0x2ad6ba(0x473)],'threshold':0x3}]},{'type':_0x5299b2[_0x2ad6ba(0x436)],'issues':[{'type':_0x40d47e[_0x2ad6ba(0x436)],'threshold':0x2}]},{'type':_0x5299b2[_0x2ad6ba(0x49b)],'issues':[{'type':_0x40d47e[_0x2ad6ba(0x49b)],'threshold':0x3}]},{'type':_0x5299b2[_0x2ad6ba(0x64a)],'issues':[{'type':_0x40d47e[_0x2ad6ba(0x64a)],'threshold':0x3}]},{'type':_0x5299b2[_0x2ad6ba(0x93a)],'issues':[{'type':_0x40d47e[_0x2ad6ba(0x93a)],'threshold':0x3}]},{'type':_0x5299b2[_0x2ad6ba(0x8d1)],'issues':[{'type':_0x40d47e['RoundTripTime'],'threshold':0x3}]}];var _0x155df0,_0x24363f;!function(_0x5e3165){const _0x3ec342=_0x2ad6ba;_0x5e3165[_0x5e3165['StreamReport']=0x0]='StreamReport',_0x5e3165[_0x5e3165[_0x3ec342(0x8c9)]=0x1]=_0x3ec342(0x8c9);}(_0x155df0||(_0x155df0={}));class _0x362c5e{[_0x2ad6ba(0x744)];[_0x2ad6ba(0x83a)]=[];[_0x2ad6ba(0x5a2)];constructor(_0x1b6361){const _0x9dd6ad=_0x2ad6ba;this[_0x9dd6ad(0x744)]=_0x1b6361,this[_0x9dd6ad(0x744)]['mediator'][_0x9dd6ad(0xa24)](this);}['registerSystemPublisher'](_0x48a353){const _0x840dcc=_0x2ad6ba;this[_0x840dcc(0x5a2)]=_0x48a353;}[_0x2ad6ba(0x460)](){const _0x230b21=_0x2ad6ba;this[_0x230b21(0x5a2)]=void 0x0;}[_0x2ad6ba(0x27c)](){const _0x3a7deb=_0x2ad6ba;this[_0x3a7deb(0x744)]['mediator'][_0x3a7deb(0x1dc)](this),this[_0x3a7deb(0x83a)]=[];}['handleStatsSystemEvents'](_0x5d0879){const _0x38ba16=_0x2ad6ba;switch(_0x5d0879[_0x38ba16(0x257)][_0x38ba16(0x285)]){case _0x155df0[_0x38ba16(0x8c9)]:this[_0x38ba16(0x7b5)](_0x5d0879['content']['data']);break;case _0x155df0[_0x38ba16(0xa8f)]:this[_0x38ba16(0x21b)](_0x5d0879[_0x38ba16(0x257)][_0x38ba16(0x19c)]);}}[_0x2ad6ba(0xa90)](_0x215c92,_0x3eda47,_0x1303fd,_0x16ff06){const _0x3d807=_0x2ad6ba,_0x11cc3d=_0x2e510d['find'](_0x5ad3f0=>_0x5ad3f0[_0x3d807(0x83a)][_0x3d807(0x4df)](_0x5b7576=>_0x5b7576[_0x3d807(0x285)]===_0x215c92));_0x16ff06>=_0x11cc3d[_0x3d807(0x83a)][_0x3d807(0x2e0)](_0x103970=>_0x103970[_0x3d807(0x285)]===_0x215c92)['threshold']&&(this[_0x3d807(0x745)](_0x11cc3d[_0x3d807(0x285)],_0x3eda47,_0x1303fd),this[_0x3d807(0x83a)]=this[_0x3d807(0x83a)][_0x3d807(0x1bc)](_0x4455c3=>!(_0x4455c3[_0x3d807(0x285)]===_0x215c92&&_0x4455c3['nodeId']===_0x3eda47&&_0x4455c3[_0x3d807(0x8e8)]===_0x1303fd)));}[_0x2ad6ba(0x7b5)](_0x1f279a){const _0x5156d2=_0x2ad6ba;_0x1fe032[_0x5156d2(0x9a0)](_0x481aca=>{const _0x4c2a42=_0x5156d2,_0x55bc3c=_0x481aca['reportMetric'](_0x1f279a);_0x481aca[_0x4c2a42(0x819)]&&_0x55bc3c>_0x481aca[_0x4c2a42(0x819)]&&this['addIssue'](_0x481aca[_0x4c2a42(0x285)],this[_0x4c2a42(0x744)][_0x4c2a42(0x6e0)][_0x4c2a42(0x362)](),_0x3141bb[_0x4c2a42(0x814)],_0x55bc3c),_0x481aca[_0x4c2a42(0x79b)]&&_0x55bc3c<_0x481aca['minThreshold']&&this[_0x4c2a42(0x437)](_0x481aca[_0x4c2a42(0x285)],this['configs']['localNode'][_0x4c2a42(0x362)](),_0x3141bb[_0x4c2a42(0x814)],_0x55bc3c);});}[_0x2ad6ba(0x21b)](_0xf5a2c4){const _0x54e1e0=_0x2ad6ba;let _0x4056fc=[];switch(_0xf5a2c4[_0x54e1e0(0x8e8)]){case _0x3141bb[_0x54e1e0(0x814)]:_0x4056fc=_0x42dd27;break;case _0x3141bb[_0x54e1e0(0x596)]:_0x4056fc=_0x15c8f7;}_0xf5a2c4[_0x54e1e0(0x28d)]&&this[_0x54e1e0(0x207)](_0xf5a2c4[_0x54e1e0(0x898)],_0x3141bb[_0x54e1e0(0x814)],_0xf5a2c4[_0x54e1e0(0x28d)]),_0xf5a2c4[_0x54e1e0(0x648)]&&this[_0x54e1e0(0x9d0)](_0xf5a2c4[_0x54e1e0(0x898)],_0x3141bb[_0x54e1e0(0x814)],_0xf5a2c4['audio']),_0x4056fc[_0x54e1e0(0x9a0)](_0x567a9b=>{const _0x3fe900=_0x54e1e0,_0x2c73b2=_0x567a9b['reportMetric'](_0xf5a2c4);_0x567a9b['maxThreshold']&&_0x2c73b2>_0x567a9b[_0x3fe900(0x819)]&&this[_0x3fe900(0x437)](_0x567a9b[_0x3fe900(0x285)],_0xf5a2c4[_0x3fe900(0x898)],_0x3141bb['Sender'],_0x2c73b2),_0x567a9b[_0x3fe900(0x79b)]&&_0x2c73b2<_0x567a9b[_0x3fe900(0x79b)]&&this[_0x3fe900(0x437)](_0x567a9b['type'],_0xf5a2c4[_0x3fe900(0x898)],_0x3141bb[_0x3fe900(0x814)],_0x2c73b2);});}[_0x2ad6ba(0x207)](_0x53eabd,_0x6e199d,_0x3da7b2){const _0x1c0bda=_0x2ad6ba;0x0!==_0x3da7b2[_0x1c0bda(0x90d)]&&_0x277b61[_0x1c0bda(0x9a0)](_0x1127ff=>{const _0x45fd87=_0x1c0bda,_0x161620=_0x1127ff[_0x45fd87(0x9bf)](_0x3da7b2);_0x1127ff[_0x45fd87(0x819)]&&_0x161620>_0x1127ff['maxThreshold']&&this[_0x45fd87(0x437)](_0x1127ff[_0x45fd87(0x285)],_0x53eabd,_0x6e199d,_0x161620,_0x45fd87(0x28d)),_0x1127ff[_0x45fd87(0x79b)]&&_0x161620<_0x1127ff[_0x45fd87(0x79b)]&&this[_0x45fd87(0x437)](_0x1127ff['type'],_0x53eabd,_0x6e199d,_0x161620,_0x45fd87(0x28d));});}[_0x2ad6ba(0x9d0)](_0x5cdc22,_0x15c998,_0x17ffa8){const _0x273914=_0x2ad6ba;0x0!==_0x17ffa8['bitrate']&&_0x152d66[_0x273914(0x9a0)](_0x10e839=>{const _0x27dfac=_0x273914,_0xe4fb9e=_0x10e839[_0x27dfac(0x9bf)](_0x17ffa8);_0x10e839[_0x27dfac(0x819)]&&_0xe4fb9e>_0x10e839[_0x27dfac(0x819)]&&this[_0x27dfac(0x437)](_0x10e839['type'],_0x5cdc22,_0x15c998,_0xe4fb9e,'audio'),_0x10e839['minThreshold']&&_0xe4fb9e<_0x10e839[_0x27dfac(0x79b)]&&this[_0x27dfac(0x437)](_0x10e839[_0x27dfac(0x285)],_0x5cdc22,_0x15c998,_0xe4fb9e,'audio');});}[_0x2ad6ba(0x437)](_0x3f334f,_0x530596,_0x1d41d2,_0x2fd234,_0x86bb81){const _0x59485f=_0x2ad6ba;_0xe8f382['log'](_0x1b63ac[_0x59485f(0x991)],_0x59485f(0x477)+_0x3f334f,_0x3f334f,_0x2fd234),_0xe8f382[_0x59485f(0x844)](_0x59485f(0x85e),{'clusterId':this[_0x59485f(0x744)][_0x59485f(0x58c)],'nodeId':this['configs'][_0x59485f(0x6e0)][_0x59485f(0x362)](),'nodeType':this['configs'][_0x59485f(0x6e0)][_0x59485f(0x285)],'remoteId':_0x530596,'data':{'type':_0x3f334f,'value':_0x2fd234,'kind':_0x86bb81}}),this[_0x59485f(0x83a)]=this['issues'][_0x59485f(0x1bc)](_0x3e52e9=>Date[_0x59485f(0x9fc)]()-_0x3e52e9['timestamp']<0x7530),this[_0x59485f(0x83a)][_0x59485f(0x673)]({'timestamp':Date[_0x59485f(0x9fc)](),'type':_0x3f334f,'nodeId':_0x530596,'origin':_0x1d41d2,'value':_0x2fd234,'kind':_0x86bb81});const _0x350819=this[_0x59485f(0x83a)][_0x59485f(0x1bc)](_0x2618ee=>_0x2618ee[_0x59485f(0x285)]===_0x3f334f&&_0x2618ee[_0x59485f(0x898)]===_0x530596&&_0x2618ee[_0x59485f(0x8e8)]===_0x1d41d2)[_0x59485f(0x8e0)];this['detectProblems'](_0x3f334f,_0x530596,_0x1d41d2,_0x350819);}['addProblem'](_0x379c32,_0x4d445f,_0xf48eb2){const _0x2dc44a=_0x2ad6ba;_0xe8f382[_0x2dc44a(0xa40)](_0x1b63ac[_0x2dc44a(0x991)],_0x2dc44a(0x356)+_0x379c32),_0xe8f382[_0x2dc44a(0x844)]('problem',{'clusterId':this[_0x2dc44a(0x744)][_0x2dc44a(0x58c)],'nodeId':this[_0x2dc44a(0x744)][_0x2dc44a(0x6e0)][_0x2dc44a(0x362)](),'nodeType':this[_0x2dc44a(0x744)][_0x2dc44a(0x6e0)][_0x2dc44a(0x285)],'remoteId':_0x4d445f,'data':{'type':_0x379c32}}),this[_0x2dc44a(0x5a2)]?.['publish']({'sourceId':_0x124816,'messageType':_0x5f120e[_0x2dc44a(0x991)],'content':{'type':_0x64237c[_0x2dc44a(0x690)],'data':{'timestamp':Date[_0x2dc44a(0x9fc)](),'nodeId':_0x4d445f,'origin':_0x3141bb['Sender'],'type':_0x379c32}}});}}class _0xef187b extends _0x42aca2{[_0x2ad6ba(0x285)]=_0x406df3['NodeType'][_0x2ad6ba(0x37e)];}class _0x46110e extends _0xef187b{[_0x2ad6ba(0x5a2)];[_0x2ad6ba(0x9a8)]=Date[_0x2ad6ba(0x9fc)]();[_0x2ad6ba(0x88d)];[_0x2ad6ba(0x71a)];['close'](){const _0x4a556e=_0x2ad6ba;this['updateDebounceTimeout']&&(clearTimeout(this[_0x4a556e(0x88d)]),delete this[_0x4a556e(0x88d)]),delete this[_0x4a556e(0x71a)],this[_0x4a556e(0x9a8)]=Date[_0x4a556e(0x9fc)](),super[_0x4a556e(0x27c)]();}['registerSystemPublisher'](_0x4a91a9){const _0x703dd8=_0x2ad6ba;this[_0x703dd8(0x5a2)]=_0x4a91a9;}[_0x2ad6ba(0x460)](){const _0x3d187f=_0x2ad6ba;delete this[_0x3d187f(0x5a2)];}['answerJoin'](_0x391505){const _0x1c5624=_0x2ad6ba;!this['updateDebounceTimeout']&&this[_0x1c5624(0x41b)]&&this['systemTopic'][_0x1c5624(0x29d)]({'sourceId':this['id'],'destinationIds':[_0x391505],'propagate':!0x0,'messageType':_0x5f120e[_0x1c5624(0x636)],'content':{'type':_0x152a71[_0x1c5624(0x498)],'id':this['id'],'metaData':{'type':this[_0x1c5624(0x285)]},'rank':this[_0x1c5624(0x515)](),'remoteConnections':Array[_0x1c5624(0x854)](this[_0x1c5624(0x815)]),'version':this[_0x1c5624(0x9a8)]}});}[_0x2ad6ba(0x9a4)](_0x11bc48){const _0x43c451=_0x2ad6ba;this[_0x43c451(0x815)][_0x43c451(0x98d)](_0x11bc48)||(this[_0x43c451(0x815)][_0x43c451(0x424)](_0x11bc48),this[_0x43c451(0x292)](),this['publishUserUpdate'](!0x0));}[_0x2ad6ba(0x335)](_0x349596){const _0x3acbc1=_0x2ad6ba;this[_0x3acbc1(0x815)][_0x3acbc1(0x98d)](_0x349596)&&(this[_0x3acbc1(0x815)][_0x3acbc1(0xa12)](_0x349596),this['incrementVersion'](),this[_0x3acbc1(0x2a4)](!0x0));}['getCurrentVersion'](){return this['currentVersion'];}[_0x2ad6ba(0x91e)](_0x1ac55a,_0x552b67=!0x0){const _0x56cbdd=_0x2ad6ba;this[_0x56cbdd(0x41b)]!==_0x1ac55a&&(this[_0x56cbdd(0x41b)]=_0x1ac55a,_0x552b67&&(this[_0x56cbdd(0x292)](),this[_0x56cbdd(0x2a4)]()));}[_0x2ad6ba(0x292)](){const _0xb71fd2=_0x2ad6ba;this[_0xb71fd2(0x9a8)]=Date[_0xb71fd2(0x9fc)]();}[_0x2ad6ba(0x2a4)](_0x5f15ac=!0x1){const _0xd9a371=_0x2ad6ba;if(this['rank']){if(this['lastUpdated']||(this[_0xd9a371(0x71a)]=Date[_0xd9a371(0x9fc)]()),this[_0xd9a371(0x88d)]){if(Date[_0xd9a371(0x9fc)]()-this[_0xd9a371(0x71a)]>0x2328)return;clearTimeout(this[_0xd9a371(0x88d)]);}this[_0xd9a371(0x88d)]=setTimeout(()=>{const _0x26d979=_0xd9a371;delete this[_0x26d979(0x71a)],delete this[_0x26d979(0x88d)],this[_0x26d979(0x5a2)][_0x26d979(0x29d)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x5f120e['Node'],'content':{'type':_0x5f15ac?_0x152a71[_0x26d979(0x89a)]:_0x152a71['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0x26d979(0x285)]},'rank':this['getRank'](),'remoteConnections':Array[_0x26d979(0x854)](this[_0x26d979(0x815)]),'version':this[_0x26d979(0x9a8)]}});},0x3e8);}}}class _0x1a535b extends _0x4c463e{['systemTopic'];['currentVersion']=Date[_0x2ad6ba(0x9fc)]();[_0x2ad6ba(0x88d)];[_0x2ad6ba(0x71a)];['close'](){const _0x36b4fd=_0x2ad6ba;this[_0x36b4fd(0x88d)]&&(clearTimeout(this[_0x36b4fd(0x88d)]),delete this[_0x36b4fd(0x88d)]),delete this[_0x36b4fd(0x71a)],this[_0x36b4fd(0x9a8)]=Date[_0x36b4fd(0x9fc)](),super[_0x36b4fd(0x27c)]();}[_0x2ad6ba(0x3ba)](_0x34d348){const _0x56ad6a=_0x2ad6ba;this[_0x56ad6a(0x5a2)]=_0x34d348;}[_0x2ad6ba(0x460)](){const _0x3405f5=_0x2ad6ba;delete this[_0x3405f5(0x5a2)];}[_0x2ad6ba(0xaa5)](_0x4b7e76){const _0x20489c=_0x2ad6ba;!this[_0x20489c(0x88d)]&&this[_0x20489c(0x41b)]&&this[_0x20489c(0x5a2)][_0x20489c(0x29d)]({'sourceId':this['id'],'destinationIds':[_0x4b7e76],'propagate':!0x0,'messageType':_0x5f120e['Node'],'content':{'type':_0x152a71[_0x20489c(0x498)],'id':this['id'],'metaData':{'type':this[_0x20489c(0x285)],'displayName':this[_0x20489c(0x195)](),'email':this[_0x20489c(0x1b8)]()},'rank':this['getRank'](),'remoteConnections':Array[_0x20489c(0x854)](this['remoteConnections']),'version':this[_0x20489c(0x9a8)]}});}[_0x2ad6ba(0x9a4)](_0x2b8c0b){const _0x3e0c5b=_0x2ad6ba;this[_0x3e0c5b(0x815)][_0x3e0c5b(0x98d)](_0x2b8c0b)||(this[_0x3e0c5b(0x815)][_0x3e0c5b(0x424)](_0x2b8c0b),this['incrementVersion'](),this['publishUserUpdate'](!0x0));}[_0x2ad6ba(0x335)](_0x4ae788){const _0x29a3a7=_0x2ad6ba;this['remoteConnections'][_0x29a3a7(0x98d)](_0x4ae788)&&(this[_0x29a3a7(0x815)][_0x29a3a7(0xa12)](_0x4ae788),this[_0x29a3a7(0x292)](),this['publishUserUpdate'](!0x0));}['getCurrentVersion'](){return this['currentVersion'];}[_0x2ad6ba(0xa03)](_0x571bd8){const _0x398eda=_0x2ad6ba;this[_0x398eda(0xa8b)]!==_0x571bd8&&(this[_0x398eda(0xa8b)]=_0x571bd8,this[_0x398eda(0x292)](),this[_0x398eda(0x2a4)]());}['setEmail'](_0xaf15e6){const _0x5d4f0e=_0x2ad6ba;this[_0x5d4f0e(0xa1c)]!==_0xaf15e6&&(this[_0x5d4f0e(0xa1c)]=_0xaf15e6,this[_0x5d4f0e(0x292)](),this[_0x5d4f0e(0x2a4)]());}['setRank'](_0x4d36e2,_0x2a9bab=!0x0){const _0x3d8a8c=_0x2ad6ba;this[_0x3d8a8c(0x41b)]!==_0x4d36e2&&(this[_0x3d8a8c(0x41b)]=_0x4d36e2,_0x2a9bab&&(this[_0x3d8a8c(0x292)](),this[_0x3d8a8c(0x2a4)]()));}[_0x2ad6ba(0x292)](){const _0x34f21a=_0x2ad6ba;this[_0x34f21a(0x9a8)]=Date[_0x34f21a(0x9fc)]();}['publishUserUpdate'](_0x5eaa0c=!0x1){const _0x354cb7=_0x2ad6ba;if(this['rank']){if(this[_0x354cb7(0x71a)]||(this[_0x354cb7(0x71a)]=Date[_0x354cb7(0x9fc)]()),this[_0x354cb7(0x88d)]){if(Date['now']()-this[_0x354cb7(0x71a)]>0x2328)return;clearTimeout(this['updateDebounceTimeout']);}this[_0x354cb7(0x88d)]=setTimeout(()=>{const _0x51820d=_0x354cb7;delete this[_0x51820d(0x71a)],delete this[_0x51820d(0x88d)],this[_0x51820d(0x5a2)]['publish']({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x5f120e[_0x51820d(0x636)],'content':{'type':_0x5eaa0c?_0x152a71[_0x51820d(0x89a)]:_0x152a71['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0x51820d(0x285)],'displayName':this['getDisplayName'](),'email':this['getEmail']()},'rank':this[_0x51820d(0x515)](),'remoteConnections':Array[_0x51820d(0x854)](this['remoteConnections']),'version':this[_0x51820d(0x9a8)]}});},0x3e8);}}}class _0x337e7b{['id'];['groupId'];['vendorId'];[_0x2ad6ba(0x929)];[_0x2ad6ba(0x285)]=_0x406df3[_0x2ad6ba(0x9c4)][_0x2ad6ba(0x37e)];[_0x2ad6ba(0x942)];constructor(_0x42df85,_0x212b41,_0x25bf97,_0x14238c){const _0x56c25e=_0x2ad6ba;this['id']=_0x42df85,this[_0x56c25e(0x655)]=_0x212b41,this[_0x56c25e(0x8e1)]=_0x25bf97,this[_0x56c25e(0x929)]=_0x14238c;}[_0x2ad6ba(0x362)](){return this['id'];}[_0x2ad6ba(0x36f)](_0x2b8d87){const _0x377bed=_0x2ad6ba,_0x3c0829=(0x0,_0x2fd630[_0x377bed(0x446)])((0x0,_0x2fd630[_0x377bed(0x9c3)])(_0x480677[_0x377bed(0xa35)](),_0x377bed(0x376)+this[_0x377bed(0x8e1)]+_0x377bed(0x366)+this[_0x377bed(0x655)]),_0x2a978d=>{const _0x3a46f6=_0x377bed;if(_0x2a978d[_0x3a46f6(0x855)]()){const _0x7c050a=_0x2a978d[_0x3a46f6(0x19c)]();if(this['agentConfig']['timestamp'][_0x3a46f6(0x4c1)](_0x7c050a[_0x3a46f6(0x687)]))return;_0xe8f382[_0x3a46f6(0xa40)](_0x1b63ac[_0x3a46f6(0x636)],_0x3a46f6(0x9ce),{'agentId':this['id'],'groupId':this['groupId'],'oldConfig':this[_0x3a46f6(0x929)],'newConfig':_0x7c050a}),this[_0x3a46f6(0x929)]=_0x7c050a,_0x2b8d87();}});return()=>_0x3c0829();}[_0x2ad6ba(0x768)](_0x165e07){const _0x3b5234=_0x2ad6ba;return this['reportCapacity'](this[_0x3b5234(0x655)],_0x165e07),_0x401df5[_0x3b5234(0x338)](()=>this[_0x3b5234(0x948)](this[_0x3b5234(0x655)],_0x165e07),0x7530);}[_0x2ad6ba(0x2f1)](){const _0x22b60c=_0x2ad6ba;if(!this[_0x22b60c(0x942)])throw new _0x31ec66(_0x31ec66['codes'][_0x22b60c(0x7c0)]);return this['lastCapacityReport'];}async[_0x2ad6ba(0x948)](_0x34e033,_0xc6c7a2){const _0x14c72d=_0x2ad6ba,_0xb2be89=await _0xc6c7a2();this[_0x14c72d(0x942)]=_0xb2be89,await(0x0,_0x2fd630[_0x14c72d(0x379)])((0x0,_0x2fd630[_0x14c72d(0x2b6)])(_0x480677['getFirestore'](),'developers/'+this[_0x14c72d(0x8e1)]+'/capacities'),{'agentId':this['id'],'groupId':_0x34e033,'timestamp':(0x0,_0x2fd630[_0x14c72d(0x80d)])(),'capacity':_0xb2be89});}}!function(_0x1f92be){const _0x1ad4fb=_0x2ad6ba;_0x1f92be[_0x1f92be[_0x1ad4fb(0x9f2)]=0x0]=_0x1ad4fb(0x9f2),_0x1f92be[_0x1f92be[_0x1ad4fb(0x301)]=0x1]=_0x1ad4fb(0x301);}(_0x24363f||(_0x24363f={}));class _0x2ab04e extends _0xef187b{[_0x2ad6ba(0x9a8)];[_0x2ad6ba(0x811)]=_0x24363f[_0x2ad6ba(0x9f2)];['lastUpdated']=Date[_0x2ad6ba(0x9fc)]();constructor(_0x2740ae,_0x47d02b=new Set(),_0xa122e6,_0x4bae2a){const _0x5f053c=_0x2ad6ba;super(_0x2740ae,_0x47d02b,_0x4bae2a),this[_0x5f053c(0x9a8)]=_0xa122e6;}[_0x2ad6ba(0x30e)](){const _0xa50660=_0x2ad6ba;return this[_0xa50660(0x9a8)];}['getStatus'](){const _0x28f883=_0x2ad6ba;return this[_0x28f883(0x811)];}[_0x2ad6ba(0x8a6)](){const _0x180fe4=_0x2ad6ba;return this[_0x180fe4(0x71a)];}['setRank'](_0x37d0ee){const _0x1c0f93=_0x2ad6ba;this[_0x1c0f93(0x41b)]!==_0x37d0ee&&(this[_0x1c0f93(0x41b)]=_0x37d0ee,this[_0x1c0f93(0xa2c)]());}[_0x2ad6ba(0x946)](_0x1c95aa){const _0x255d7d=_0x2ad6ba;let _0x1ed858=!0x1;for(const _0x23ce30 of this[_0x255d7d(0x815)])_0x1c95aa[_0x255d7d(0x205)](_0x23ce30)||(_0x1ed858=!0x0,this[_0x255d7d(0x815)][_0x255d7d(0xa12)](_0x23ce30));for(const _0x116325 of _0x1c95aa)this['remoteConnections']['has'](_0x116325)||(_0x1ed858=!0x0,this['remoteConnections'][_0x255d7d(0x424)](_0x116325));_0x1ed858&&this[_0x255d7d(0xa2c)]();}[_0x2ad6ba(0x600)](_0x1b45d5){const _0xb8a4a2=_0x2ad6ba;this['currentVersion']!==_0x1b45d5&&(this[_0xb8a4a2(0x9a8)]=_0x1b45d5,this[_0xb8a4a2(0xa2c)]());}['setStatus'](_0x2db7c7){const _0x491c15=_0x2ad6ba;this['status']!==_0x2db7c7&&(this[_0x491c15(0x811)]=_0x2db7c7,this[_0x491c15(0xa2c)](),_0x2db7c7===_0x24363f[_0x491c15(0x301)]&&this['close']());}[_0x2ad6ba(0xa2c)](){const _0x417926=_0x2ad6ba;this[_0x417926(0x71a)]=Date[_0x417926(0x9fc)]();}}class _0x429b78 extends _0x4c463e{[_0x2ad6ba(0x9a8)];['status']=_0x24363f[_0x2ad6ba(0x9f2)];[_0x2ad6ba(0x71a)]=Date[_0x2ad6ba(0x9fc)]();constructor(_0x405bdd,_0x3d6312,_0x24ffd7,_0x3bcfb2=new Set(),_0x5274ad,_0x1c5dfa){const _0x31c4bf=_0x2ad6ba;super(_0x405bdd,_0x3d6312,_0x24ffd7,_0x3bcfb2,_0x1c5dfa),this[_0x31c4bf(0x9a8)]=_0x5274ad;}[_0x2ad6ba(0x30e)](){const _0x31f22f=_0x2ad6ba;return this[_0x31f22f(0x9a8)];}[_0x2ad6ba(0x3b5)](){const _0x42a79f=_0x2ad6ba;return this[_0x42a79f(0x811)];}[_0x2ad6ba(0x8a6)](){const _0x956bf5=_0x2ad6ba;return this[_0x956bf5(0x71a)];}[_0x2ad6ba(0xa03)](_0x1c2889){const _0x393136=_0x2ad6ba;this['displayName']!==_0x1c2889&&(this['displayName']=_0x1c2889,this[_0x393136(0xa2c)]());}[_0x2ad6ba(0x835)](_0x5d4855){const _0x247dc2=_0x2ad6ba;this[_0x247dc2(0xa1c)]!==_0x5d4855&&(this['email']=_0x5d4855,this['updateLastUpdated']());}[_0x2ad6ba(0x91e)](_0x2b6b15){const _0x1f2772=_0x2ad6ba;this[_0x1f2772(0x41b)]!==_0x2b6b15&&(this[_0x1f2772(0x41b)]=_0x2b6b15,this[_0x1f2772(0xa2c)]());}[_0x2ad6ba(0x946)](_0x4868e0){const _0xd5ff0=_0x2ad6ba;let _0x1545a3=!0x1;for(const _0x358e63 of this['remoteConnections'])_0x4868e0[_0xd5ff0(0x205)](_0x358e63)||(_0x1545a3=!0x0,this[_0xd5ff0(0x815)][_0xd5ff0(0xa12)](_0x358e63));for(const _0x1afbe3 of _0x4868e0)this['remoteConnections'][_0xd5ff0(0x98d)](_0x1afbe3)||(_0x1545a3=!0x0,this[_0xd5ff0(0x815)][_0xd5ff0(0x424)](_0x1afbe3));_0x1545a3&&this[_0xd5ff0(0xa2c)]();}[_0x2ad6ba(0x600)](_0x4b58fa){const _0x228f76=_0x2ad6ba;this[_0x228f76(0x9a8)]!==_0x4b58fa&&(this[_0x228f76(0x9a8)]=_0x4b58fa,this[_0x228f76(0xa2c)]());}[_0x2ad6ba(0x7ed)](_0x3f8aef){const _0x9d17e8=_0x2ad6ba;this[_0x9d17e8(0x811)]!==_0x3f8aef&&(this[_0x9d17e8(0x811)]=_0x3f8aef,this[_0x9d17e8(0xa2c)](),_0x3f8aef===_0x24363f['Offline']&&this[_0x9d17e8(0x27c)]());}[_0x2ad6ba(0xa2c)](){const _0x1971e2=_0x2ad6ba;this[_0x1971e2(0x71a)]=Date['now']();}}class _0xe23ca2{[_0x2ad6ba(0x8e1)];[_0x2ad6ba(0x58c)];['localNode'];['minConnections'];[_0x2ad6ba(0x7ff)]=_0x331eb8();[_0x2ad6ba(0x279)];['childRemovedUnsubscriber'];[_0x2ad6ba(0x253)];[_0x2ad6ba(0x8ff)]=!0x1;[_0x2ad6ba(0x2c1)];[_0x2ad6ba(0x2cc)];constructor(_0x51cc30,_0x23785d,_0x3b137c,_0x1cdbc3){const _0x427f15=_0x2ad6ba;this[_0x427f15(0x8e1)]=_0x51cc30,this['clusterId']=_0x23785d,this[_0x427f15(0x6e0)]=_0x3b137c,this[_0x427f15(0x1b9)]=_0x1cdbc3,this[_0x427f15(0x2c1)]=_0x427f15(0x5c8)+this['vendorId']+_0x427f15(0x5c8)+this['clusterId'],this[_0x427f15(0x2cc)]=_0x427f15(0x5c8)+this[_0x427f15(0x8e1)]+'ccc'+this[_0x427f15(0x6e0)][_0x427f15(0x362)](),this[_0x427f15(0x279)]=(0x0,_0x1c8bd3[_0x427f15(0x8ad)])((0x0,_0x1c8bd3['ref'])(_0x480677[_0x427f15(0x1c2)](),'.info/connected'),_0x4fbf43=>{const _0x39d257=_0x427f15;!0x0!==_0x4fbf43[_0x39d257(0x547)]()?this[_0x39d257(0x8ff)]&&_0xe8f382[_0x39d257(0x60c)](_0x39d257(0x7ce),{'clusterId':this[_0x39d257(0x58c)],'nodeId':this[_0x39d257(0x6e0)]['getId'](),'nodeType':this[_0x39d257(0x6e0)]['type']}):(this[_0x39d257(0x8ff)]=!0x0,this['setOnDisconnectHandler'](),_0xe8f382[_0x39d257(0x4a2)](_0x39d257(0x91d),{'clusterId':this[_0x39d257(0x58c)],'nodeId':this[_0x39d257(0x6e0)][_0x39d257(0x362)](),'nodeType':this[_0x39d257(0x6e0)][_0x39d257(0x285)]}));});}async['join'](){const _0x2aace6=_0x2ad6ba;await this['joinCluster']();const _0x28e70e=await this[_0x2aace6(0xa0c)]();return this[_0x2aace6(0x203)]=(0x0,_0x1c8bd3[_0x2aace6(0x53a)])((0x0,_0x1c8bd3[_0x2aace6(0x3df)])(_0x480677[_0x2aace6(0x1c2)](),_0x2aace6(0x21e)+this[_0x2aace6(0x2c1)]+'/nodes'),_0x4e9924=>{const _0x1f900d=_0x2aace6,_0x11777e=_0x4e9924[_0x1f900d(0x2b3)];if(!_0x11777e)return;const _0x2d7d0c=_0x11777e[_0x1f900d(0xa48)](_0x1f900d(0x5c8)+this[_0x1f900d(0x8e1)]+_0x1f900d(0x5c8),'');this[_0x1f900d(0x7ff)][_0x1f900d(0x29d)](_0x2d7d0c);}),_0x28e70e;}async[_0x2ad6ba(0x27c)](){const _0xabbe2d=_0x2ad6ba;this[_0xabbe2d(0x203)]?.(),delete this[_0xabbe2d(0x203)],this[_0xabbe2d(0x253)]?.[_0xabbe2d(0xab9)](),delete this[_0xabbe2d(0x253)],this[_0xabbe2d(0x279)]?.(),delete this[_0xabbe2d(0x279)],await(0x0,_0x1c8bd3['remove'])((0x0,_0x1c8bd3[_0xabbe2d(0x3df)])(_0x480677['getDatabase'](),'clusters/'+this[_0xabbe2d(0x2c1)]+_0xabbe2d(0x2c8)+this[_0xabbe2d(0x2cc)]));}['onNodeDisconnect'](_0x56453f){const _0xb62750=_0x2ad6ba;return this[_0xb62750(0x7ff)][_0xb62750(0x208)](_0x56453f);}async[_0x2ad6ba(0xa0c)](){const _0x51c334=_0x2ad6ba,_0x4e2b56=[],_0x2e0423=await(0x0,_0x1c8bd3[_0x51c334(0x736)])((0x0,_0x1c8bd3[_0x51c334(0x3df)])(_0x480677[_0x51c334(0x1c2)](),'clusters/'+this[_0x51c334(0x2c1)]+_0x51c334(0x465))),_0x4c0824=[];return _0x2e0423[_0x51c334(0x9a0)](_0x4ba372=>{const _0x4a0e17=_0x51c334,_0x43acd9=_0x4ba372[_0x4a0e17(0x2b3)]?.[_0x4a0e17(0xa48)](_0x4a0e17(0x5c8)+this[_0x4a0e17(0x8e1)]+_0x4a0e17(0x5c8),'');_0x4c0824[_0x4a0e17(0x673)]({'id':_0x43acd9,'joinedAt':_0x4ba372[_0x4a0e17(0x547)]()[_0x4a0e17(0x52f)],'priority':_0x4ba372[_0x4a0e17(0x547)]()[_0x4a0e17(0x539)]});}),_0x4c0824['sort']((_0x579852,_0x6d23aa)=>_0x579852[_0x51c334(0x52f)]===_0x6d23aa[_0x51c334(0x52f)]?_0x579852[_0x51c334(0x539)]-_0x6d23aa[_0x51c334(0x539)]:_0x579852[_0x51c334(0x52f)]-_0x6d23aa[_0x51c334(0x52f)])[_0x51c334(0x33a)](_0x4c0824[_0x51c334(0x468)](_0x566d34=>_0x566d34['id']===this[_0x51c334(0x6e0)][_0x51c334(0x362)]())),_0x4c0824['sort']((_0x45265f,_0x4438d9)=>_0x4438d9[_0x51c334(0x52f)]===_0x45265f['joinedAt']?_0x4438d9[_0x51c334(0x539)]-_0x45265f[_0x51c334(0x539)]:_0x4438d9[_0x51c334(0x52f)]-_0x45265f[_0x51c334(0x52f)])['forEach'](_0x556f8a=>{const _0x380250=_0x51c334;_0x4e2b56[_0x380250(0x8e0)]>=this[_0x380250(0x1b9)]||_0x4e2b56[_0x380250(0x673)](_0x556f8a['id']);}),_0xe8f382[_0x51c334(0x844)]('discover',{'clusterId':this[_0x51c334(0x58c)],'nodeId':this[_0x51c334(0x6e0)][_0x51c334(0x362)](),'nodeType':this[_0x51c334(0x6e0)][_0x51c334(0x285)],'data':{'ancestorIds':_0x4e2b56,'allNodes':_0x4c0824}}),_0x4e2b56;}async[_0x2ad6ba(0x71b)](){const _0x35e66c=_0x2ad6ba;await(0x0,_0x1c8bd3[_0x35e66c(0x50f)])((0x0,_0x1c8bd3[_0x35e66c(0x3df)])(_0x480677[_0x35e66c(0x1c2)](),_0x35e66c(0x21e)+this[_0x35e66c(0x2c1)]+'/nodes/'+this[_0x35e66c(0x2cc)]),{'joinedAt':(0x0,_0x1c8bd3[_0x35e66c(0x80d)])(),'priority':Math[_0x35e66c(0x1c5)]()});}[_0x2ad6ba(0x3ab)](){const _0x1a2d0e=_0x2ad6ba;this[_0x1a2d0e(0x253)]&&this[_0x1a2d0e(0x253)]['cancel'](),this['onDisconnectHandler']=(0x0,_0x1c8bd3[_0x1a2d0e(0x9bc)])((0x0,_0x1c8bd3['ref'])(_0x480677[_0x1a2d0e(0x1c2)](),_0x1a2d0e(0x21e)+this[_0x1a2d0e(0x2c1)]+_0x1a2d0e(0x2c8)+this[_0x1a2d0e(0x2cc)])),this['onDisconnectHandler'][_0x1a2d0e(0x6e6)]();}}class _0x4363f2{[_0x2ad6ba(0x744)];[_0x2ad6ba(0x5df)];[_0x2ad6ba(0xa29)];[_0x2ad6ba(0x308)];['discoveryUnsubscriber'];[_0x2ad6ba(0x193)]=[];[_0x2ad6ba(0x5a2)];[_0x2ad6ba(0x2e4)]=new Map();[_0x2ad6ba(0x1bd)];['lastProcessRank'];[_0x2ad6ba(0x389)];[_0x2ad6ba(0x91a)];['rejectReady'];['readyDebounce'];constructor(_0x3e8374,_0x2b15d3){const _0x31b509=_0x2ad6ba;this[_0x31b509(0x744)]=_0x3e8374,this[_0x31b509(0x5df)]=_0x2b15d3,this['_isReady']=new Promise((_0x8b274c,_0x62f373)=>{const _0x3ebc65=_0x31b509;this[_0x3ebc65(0x91a)]=_0x8b274c,this[_0x3ebc65(0x6fc)]=_0x62f373;}),this[_0x31b509(0x308)]=new _0xe23ca2(this[_0x31b509(0x744)][_0x31b509(0x8e1)],this['configs'][_0x31b509(0x58c)],this[_0x31b509(0x744)][_0x31b509(0x6e0)],this['graphService'][_0x31b509(0x606)]()),this['discoveryUnsubscriber']=this[_0x31b509(0x308)][_0x31b509(0x310)](this[_0x31b509(0x1ad)][_0x31b509(0xa0a)](this)),this[_0x31b509(0x744)][_0x31b509(0x5fc)][_0x31b509(0xa24)](this[_0x31b509(0x744)][_0x31b509(0x6e0)]),this['configs'][_0x31b509(0x5fc)][_0x31b509(0xa24)](this),this[_0x31b509(0xa29)]=_0x401df5[_0x31b509(0x338)](()=>{const _0x3dc06=_0x31b509,_0x282b45=Date[_0x3dc06(0x9fc)]();this[_0x3dc06(0x5df)][_0x3dc06(0x734)]()['forEach'](_0x684888=>{const _0x30dcf7=_0x3dc06;_0x684888[_0x30dcf7(0x3b5)]()===_0x24363f[_0x30dcf7(0x301)]&&_0x684888['getLastUpdated']()<_0x282b45-0x493e0&&this['graphService'][_0x30dcf7(0x955)](_0x684888[_0x30dcf7(0x362)]());});},0xea60);}async[_0x2ad6ba(0x5ec)](){const _0x94a02a=_0x2ad6ba;return this[_0x94a02a(0x389)];}async['isNodeReady'](_0x7f9b4f){return new Promise((_0x80bde1,_0xfe0dd0)=>{const _0xf45839=a0_0x119e;let _0x1a0ff3;const _0x1169c4=setTimeout(()=>{const _0x3504ad=a0_0x119e;_0x1a0ff3?.(),_0xfe0dd0(new Error(_0x3504ad(0xa18)+_0x7f9b4f+_0x3504ad(0xac0)));},0x2710);if(this['graphService'][_0xf45839(0xa66)](_0x7f9b4f))return clearTimeout(_0x1169c4),void _0x80bde1(!0x0);_0x1a0ff3=this[_0xf45839(0x5df)][_0xf45839(0xaaf)](()=>{const _0x42b9da=_0xf45839;this[_0x42b9da(0x5df)][_0x42b9da(0xa66)](_0x7f9b4f)&&(clearTimeout(_0x1169c4),_0x80bde1(!0x0),_0x1a0ff3?.());});});}[_0x2ad6ba(0x3ba)](_0x507385){const _0x34e9cf=_0x2ad6ba;this[_0x34e9cf(0x5a2)]=_0x507385;}[_0x2ad6ba(0x460)](){const _0x2ea3d2=_0x2ad6ba;delete this[_0x2ea3d2(0x5a2)];}['close'](){const _0x11f330=_0x2ad6ba;this[_0x11f330(0x1bd)]&&(clearTimeout(this[_0x11f330(0x1bd)]),delete this['debounceProcessRank']),delete this[_0x11f330(0x229)],this[_0x11f330(0x744)][_0x11f330(0x6e0)][_0x11f330(0x27c)](),this[_0x11f330(0xa29)](),this[_0x11f330(0x834)](),this[_0x11f330(0x744)]['mediator']['unregisterSystemSource'](this[_0x11f330(0x744)][_0x11f330(0x6e0)]),this[_0x11f330(0x744)][_0x11f330(0x5fc)][_0x11f330(0x1dc)](this),this['discoveryService'][_0x11f330(0x27c)]();}[_0x2ad6ba(0x514)](){return this['ancestors'];}[_0x2ad6ba(0x4a8)](){const _0x517e46=_0x2ad6ba;return this['configs']['localNode'][_0x517e46(0x362)]();}[_0x2ad6ba(0x247)](){const _0xc27860=_0x2ad6ba;return this[_0xc27860(0x744)][_0xc27860(0x6e0)];}['getRemoteNodes'](_0x682da0){const _0x2b7f34=_0x2ad6ba,_0x40303b=Array[_0x2b7f34(0x854)](this[_0x2b7f34(0x5df)][_0x2b7f34(0x734)]()[_0x2b7f34(0x9c1)]())[_0x2b7f34(0x1bc)](_0x46ff75=>_0x46ff75[_0x2b7f34(0x3b5)]()===_0x24363f['Online']);return _0x682da0?_0x40303b[_0x2b7f34(0x1bc)](_0x682da0):_0x40303b;}async[_0x2ad6ba(0x56d)](){const _0x255b8f=_0x2ad6ba;return this['ancestors']=await this[_0x255b8f(0x308)][_0x255b8f(0x3a2)](),this['ancestors']['length']<this[_0x255b8f(0x5df)]['getMinConnections']()&&(this[_0x255b8f(0x744)][_0x255b8f(0x6e0)][_0x255b8f(0x91e)](this[_0x255b8f(0x193)][_0x255b8f(0x8e0)]+0x1),this[_0x255b8f(0x21d)]()),this[_0x255b8f(0x193)];}[_0x2ad6ba(0x395)](_0x2fe70d,_0x3d4b16){const _0x10cb52=_0x2ad6ba,_0x3a8c93=this['configs'][_0x10cb52(0x6e0)][_0x10cb52(0xa4a)](),_0x5d70ec=new Set(_0x3a8c93),_0x16f6a8=Array[_0x10cb52(0x854)](_0x3a8c93)[_0x10cb52(0x1bc)](_0x8a618=>_0x8a618!==_0x2fe70d)[_0x10cb52(0x607)](_0x296c62=>({'id':_0x296c62,'distance':0x1}));for(;_0x16f6a8[_0x10cb52(0x8e0)]>0x0;){const _0x139fa3=_0x16f6a8[_0x10cb52(0x591)]();if(!_0x139fa3)continue;if(_0x139fa3['id']===_0x3d4b16)return _0x139fa3['distance'];const _0x4ff836=this['graphService']['getRemoteNode'](_0x139fa3['id']);_0x4ff836&&_0x4ff836['getStatus']()!==_0x24363f['Offline']&&_0x4ff836[_0x10cb52(0xa4a)]()[_0x10cb52(0x9a0)](_0x64932a=>{const _0x55c646=_0x10cb52;_0x5d70ec[_0x55c646(0x98d)](_0x64932a)||(_0x5d70ec['add'](_0x64932a),_0x16f6a8[_0x55c646(0x673)]({'id':_0x64932a,'distance':_0x139fa3['distance']+0x1}));});}return-0x1;}[_0x2ad6ba(0x692)](_0x71568d){const _0x379161=_0x2ad6ba;try{switch(_0x71568d[_0x379161(0x257)]['type']){case _0x152a71[_0x379161(0x498)]:case _0x152a71['NodeConnectionsUpdate']:this[_0x379161(0x3a8)](_0x71568d['content']),_0xe8f382[_0x379161(0xa40)](_0x1b63ac[_0x379161(0x636)],'NodeManager\x20-\x20NodeUpdate','\x27'+this[_0x379161(0x744)][_0x379161(0x6e0)]['getId']()+',\x20'+_0x71568d[_0x379161(0xa59)]+'\x27',_0x71568d,_0x71568d['content']);break;case _0x152a71[_0x379161(0x46d)]:this[_0x379161(0x50d)](_0x71568d[_0x379161(0x257)]['id']),_0xe8f382[_0x379161(0xa40)](_0x1b63ac[_0x379161(0x636)],_0x379161(0x843),'\x27'+this[_0x379161(0x744)][_0x379161(0x6e0)]['getId']()+',\x20'+_0x71568d[_0x379161(0xa59)]+'\x27',_0x71568d,_0x71568d[_0x379161(0x257)]);}}catch(_0x592837){if(_0x592837 instanceof _0x1b0c6c)return void _0xe8f382[_0x379161(0xa40)](_0x1b63ac[_0x379161(0x636)],_0x592837['message']);throw _0x592837;}}[_0x2ad6ba(0x3d5)](_0x5ba7aa){const _0x23f5ed=_0x2ad6ba;switch(_0x5ba7aa[_0x23f5ed(0x257)][_0x23f5ed(0x285)]){case _0x330228[_0x23f5ed(0x896)]:this['handleConnectionSuccess'](_0x5ba7aa[_0x23f5ed(0xa59)]),_0xe8f382['log'](_0x1b63ac[_0x23f5ed(0x636)],'NodeManager\x20-\x20ConnectionSuccess','\x27'+this['configs']['localNode'][_0x23f5ed(0x362)]()+',\x20'+_0x5ba7aa[_0x23f5ed(0xa59)]+'\x27',_0x5ba7aa,_0x5ba7aa[_0x23f5ed(0x257)]);break;case _0x330228[_0x23f5ed(0x211)]:this[_0x23f5ed(0x8ef)](_0x5ba7aa['sourceId']),_0xe8f382[_0x23f5ed(0xa40)](_0x1b63ac[_0x23f5ed(0x636)],_0x23f5ed(0x3e4),this[_0x23f5ed(0x744)][_0x23f5ed(0x6e0)]['getId'](),_0x5ba7aa,_0x5ba7aa[_0x23f5ed(0x257)]);}}[_0x2ad6ba(0x3dd)](_0x3f5624){const _0x4a81c2=_0x2ad6ba;this['createRemoteNode'](_0x3f5624),this[_0x4a81c2(0x919)](_0x3f5624);}[_0x2ad6ba(0x919)](_0x309e60){const _0x3f3582=_0x2ad6ba;this[_0x3f3582(0x744)][_0x3f3582(0x6e0)][_0x3f3582(0xaa5)](_0x309e60['id']),this[_0x3f3582(0x5af)](_0x309e60['id']),this[_0x3f3582(0x7a8)](_0x309e60);}[_0x2ad6ba(0x3a8)](_0x3760e6){const _0x22693a=_0x2ad6ba,{id:_0x43bd58,metaData:_0x354230,rank:_0x4b9099,remoteConnections:_0x42f5ba,version:_0x13ffa9}=_0x3760e6,_0x13086e=this['graphService'][_0x22693a(0x230)](_0x43bd58);if(_0x13086e){if(!(_0x13ffa9<=_0x13086e[_0x22693a(0x30e)]())){if(_0x13086e[_0x22693a(0x946)](_0x42f5ba),_0x13086e[_0x22693a(0x600)](_0x13ffa9),_0x13086e['type']===_0x406df3[_0x22693a(0x9c4)][_0x22693a(0xa62)]&&_0x354230[_0x22693a(0x285)]===_0x406df3[_0x22693a(0x9c4)][_0x22693a(0xa62)]&&(_0x13086e['setDisplayName'](_0x354230[_0x22693a(0xa8b)]),_0x13086e[_0x22693a(0x835)](_0x354230[_0x22693a(0xa1c)])),_0x4b9099&&_0x13086e[_0x22693a(0x91e)](_0x4b9099),this[_0x22693a(0x8ba)](_0x43bd58,_0x4b9099),_0x13086e[_0x22693a(0x3b5)]()===_0x24363f['Offline'])return _0x13086e[_0x22693a(0x7ed)](_0x24363f['Online']),this[_0x22693a(0x21d)](),void this[_0x22693a(0x919)](_0x3760e6);this[_0x22693a(0x21d)](),this[_0x22693a(0x977)]({'id':_0x43bd58,'metaData':_0x354230,'remoteConnections':_0x42f5ba,'version':_0x13ffa9});}}else this[_0x22693a(0x3dd)](_0x3760e6);}[_0x2ad6ba(0x8ba)](_0x528da5,_0x2d8602){const _0x2dcd1b=_0x2ad6ba;_0x2d8602&&this[_0x2dcd1b(0x193)][_0x2dcd1b(0x205)](_0x528da5)&&this[_0x2dcd1b(0x744)][_0x2dcd1b(0x6e0)][_0x2dcd1b(0x91e)](_0x2d8602+this[_0x2dcd1b(0x193)][_0x2dcd1b(0x82d)](_0x528da5)+0x1);}['handleConnectionSuccess'](_0x162b6b){const _0x4477d4=_0x2ad6ba;this[_0x4477d4(0x744)][_0x4477d4(0x6e0)][_0x4477d4(0x9a4)](_0x162b6b);}[_0x2ad6ba(0x1b7)]({id:_0xc1119,metaData:_0x373192,rank:_0x5168d7,remoteConnections:_0x4fce60,version:_0x1487a5}){const _0x494258=_0x2ad6ba;if(this[_0x494258(0x5df)][_0x494258(0xa66)](_0xc1119))throw new _0x1b0c6c(_0x494258(0x868)+_0xc1119);switch(_0x373192[_0x494258(0x285)]){case _0x406df3['NodeType'][_0x494258(0xa62)]:const {displayName:_0x2b87c2,email:_0x4a14a3}=_0x373192;this[_0x494258(0x5df)][_0x494258(0x37d)](_0xc1119,new _0x429b78(_0xc1119,_0x2b87c2,_0x4a14a3,new Set(_0x4fce60),_0x1487a5,_0x5168d7));break;case _0x406df3[_0x494258(0x9c4)][_0x494258(0x37e)]:this['graphService']['setRemoteNode'](_0xc1119,new _0x2ab04e(_0xc1119,new Set(_0x4fce60),_0x1487a5,_0x5168d7));}const _0x54f714=this[_0x494258(0x734)](),_0x54550a=new Set(this[_0x494258(0x193)]);_0x54f714['forEach'](_0x266fb6=>{const _0x18f4a4=_0x494258;_0x54550a[_0x18f4a4(0x98d)](_0x266fb6[_0x18f4a4(0x362)]())&&_0x54550a[_0x18f4a4(0xa12)](_0x266fb6['getId']());}),0x0===_0x54550a['size']&&this[_0x494258(0x91a)]&&(this[_0x494258(0x582)]&&clearTimeout(this[_0x494258(0x582)]),this[_0x494258(0x582)]=setTimeout(()=>{const _0x542797=_0x494258;this[_0x542797(0x91a)]?.(!0x0),delete this['resolveReady'],delete this['rejectReady'];},0x7d0)),this[_0x494258(0x8ba)](_0xc1119,_0x5168d7),this[_0x494258(0x21d)]();}['publishNodeJoin'](_0x450e5f){const _0x3b14b8=_0x2ad6ba;this[_0x3b14b8(0x5a2)][_0x3b14b8(0x29d)]({'sourceId':_0x124816,'messageType':_0x5f120e[_0x3b14b8(0x636)],'content':{'type':_0x152a71[_0x3b14b8(0x7fd)],'id':_0x450e5f}});}[_0x2ad6ba(0x8ef)](_0x1c2c3d){const _0x1914d5=_0x2ad6ba;this['systemTopic']?.['publish']({'sourceId':_0x124816,'messageType':_0x5f120e[_0x1914d5(0x636)],'content':{'type':_0x152a71[_0x1914d5(0x46d)],'id':_0x1c2c3d}});}[_0x2ad6ba(0x1ad)](_0x4fe43b){const _0x3ee0c0=_0x2ad6ba;if(_0x4fe43b===this['configs']['localNode'][_0x3ee0c0(0x362)]())return this[_0x3ee0c0(0x744)][_0x3ee0c0(0x5fc)][_0x3ee0c0(0x709)]('cluster-disconnect',{'id':_0x4fe43b}),this['configs'][_0x3ee0c0(0x5fc)][_0x3ee0c0(0x27c)]({'force':!0x0},!0x0),this[_0x3ee0c0(0x744)][_0x3ee0c0(0x5fc)][_0x3ee0c0(0xa60)](),void this['configs'][_0x3ee0c0(0x5fc)][_0x3ee0c0(0x88b)]();this['publishNodeLeave'](_0x4fe43b);}[_0x2ad6ba(0x50d)](_0x508bbb){const _0x45cf11=_0x2ad6ba;this['ancestors'][_0x45cf11(0x205)](_0x508bbb)?this[_0x45cf11(0x4f1)](_0x508bbb):this[_0x45cf11(0x744)][_0x45cf11(0x6e0)][_0x45cf11(0xa4a)]()['has'](_0x508bbb)&&this[_0x45cf11(0x6d8)](_0x508bbb),this[_0x45cf11(0x744)][_0x45cf11(0x6e0)][_0x45cf11(0x335)](_0x508bbb);const _0x224e6f=Array['from'](this[_0x45cf11(0x2e4)]['entries']())[_0x45cf11(0x2e0)](([,_0x1ee378])=>_0x1ee378==_0x1ee378);_0x224e6f&&this[_0x45cf11(0x2e4)][_0x45cf11(0xa12)](_0x224e6f[0x0]);const _0x1b6dca=this[_0x45cf11(0x5df)][_0x45cf11(0x230)](_0x508bbb);if(!_0x1b6dca)return;const _0x574816=_0x1b6dca['getRank'](),_0x5bf9a4=this['configs']['localNode']['getRank']();_0x5bf9a4&&_0x574816&&_0x574816<_0x5bf9a4&&this['configs'][_0x45cf11(0x6e0)][_0x45cf11(0x91e)](_0x5bf9a4-0x1,!0x1),Array[_0x45cf11(0x854)](this[_0x45cf11(0x5df)][_0x45cf11(0x734)]()[_0x45cf11(0x9c1)]())['forEach'](_0x46e64b=>{const _0x4295db=_0x45cf11,_0x45c7dc=_0x46e64b[_0x4295db(0x515)]();_0x45c7dc&&_0x574816&&_0x574816<_0x45c7dc&&_0x46e64b['setRank'](_0x45c7dc-0x1);}),_0x1b6dca[_0x45cf11(0x7ed)](_0x24363f['Offline']),this['configs'][_0x45cf11(0x5fc)][_0x45cf11(0x709)](_0x1b6dca['type']+_0x45cf11(0x37a),{'id':_0x508bbb});}[_0x2ad6ba(0x7a8)]({id:_0x302d06,metaData:_0x21335b,remoteConnections:_0x3920c7}){const _0x4f0798=_0x2ad6ba;switch(_0x21335b[_0x4f0798(0x285)]){case _0x406df3[_0x4f0798(0x9c4)]['User']:this[_0x4f0798(0x744)][_0x4f0798(0x5fc)][_0x4f0798(0x709)](_0x4f0798(0x215),{'id':_0x302d06,'metaData':_0x21335b,'remoteConnections':_0x3920c7});break;case _0x406df3[_0x4f0798(0x9c4)][_0x4f0798(0x37e)]:this[_0x4f0798(0x744)][_0x4f0798(0x5fc)][_0x4f0798(0x709)](_0x4f0798(0x556),{'id':_0x302d06,'metaData':_0x21335b,'remoteConnections':_0x3920c7});}}['notifyClusterNodeUpdate']({id:_0x2aa67d,metaData:_0x486838,remoteConnections:_0x22bf2f}){const _0x304241=_0x2ad6ba;switch(_0x486838['type']){case _0x406df3[_0x304241(0x9c4)][_0x304241(0xa62)]:this[_0x304241(0x744)][_0x304241(0x5fc)][_0x304241(0x709)](_0x304241(0x2ab),{'id':_0x2aa67d,'metaData':_0x486838,'remoteConnections':_0x22bf2f});break;case _0x406df3[_0x304241(0x9c4)][_0x304241(0x37e)]:this[_0x304241(0x744)][_0x304241(0x5fc)][_0x304241(0x709)](_0x304241(0x5b0),{'id':_0x2aa67d,'metaData':_0x486838,'remoteConnections':_0x22bf2f});}}[_0x2ad6ba(0x21d)](){const _0x286a90=_0x2ad6ba;if(this['lastProcessRank']||(this[_0x286a90(0x229)]=Date[_0x286a90(0x9fc)]()),this[_0x286a90(0x1bd)]){if(Date[_0x286a90(0x9fc)]()-this[_0x286a90(0x229)]>0x2328)return;clearTimeout(this[_0x286a90(0x1bd)]);}this[_0x286a90(0x1bd)]=setTimeout(async()=>{const _0x159aa1=_0x286a90;delete this[_0x159aa1(0x229)],delete this[_0x159aa1(0x1bd)];const _0x3b7fde=this['configs'][_0x159aa1(0x6e0)][_0x159aa1(0x515)]();if(!_0x3b7fde)return;const _0x158188=this[_0x159aa1(0x5df)][_0x159aa1(0x686)](this['graphService'][_0x159aa1(0x734)]()['size']);if(this[_0x159aa1(0x2e4)][_0x159aa1(0x399)]>=_0x158188)return;let _0xe2ee29=0x1;for(;this[_0x159aa1(0x744)][_0x159aa1(0x5fc)][_0x159aa1(0x87c)]()[_0x159aa1(0x8e0)]<this['graphService']['getMaxConnections']()&&_0xe2ee29<=_0x158188;){if(this[_0x159aa1(0x2e4)][_0x159aa1(0x98d)](_0xe2ee29)){_0xe2ee29+=0x1;continue;}const _0x423c44=this[_0x159aa1(0x5df)]['getNextTargetRank'](_0x3b7fde,_0xe2ee29),_0x432959=Array[_0x159aa1(0x854)](this[_0x159aa1(0x5df)]['getRemoteNodes']()[_0x159aa1(0x9c1)]())['find'](_0x89479c=>_0x89479c[_0x159aa1(0x515)]()===_0x423c44&&_0x89479c[_0x159aa1(0x3b5)]()===_0x24363f[_0x159aa1(0x9f2)]);if(_0x432959){try{await this[_0x159aa1(0x744)][_0x159aa1(0x5fc)][_0x159aa1(0x9a3)](_0x432959[_0x159aa1(0x362)](),_0x3d5fa4[_0x159aa1(0x574)]),this[_0x159aa1(0x2e4)][_0x159aa1(0x50f)](_0xe2ee29,_0x432959[_0x159aa1(0x362)]());}catch(_0x29629b){if(!(_0x29629b instanceof _0x31ec66&&_0x29629b[_0x159aa1(0x4f6)]===_0x31ec66[_0x159aa1(0x4b6)]['RemoteConnectionExists']))throw _0x29629b;_0xe8f382['log'](_0x1b63ac['Node'],this[_0x159aa1(0x744)][_0x159aa1(0x6e0)][_0x159aa1(0x362)](),_0x432959['getId'](),_0x29629b[_0x159aa1(0xa5a)]);}_0xe2ee29+=0x1;}else _0xe2ee29+=0x1;}},0x3e8);}async[_0x2ad6ba(0x4f1)](_0x56cfbd){const _0x5286df=_0x2ad6ba;this[_0x5286df(0x193)][_0x5286df(0x33a)](this['ancestors']['indexOf'](_0x56cfbd),0x1);const _0x4fddb2=await this[_0x5286df(0x308)][_0x5286df(0xa0c)]();for(const _0x32f01d of _0x4fddb2)if(!this[_0x5286df(0x193)][_0x5286df(0x205)](_0x32f01d)){const _0x5db4af=Array[_0x5286df(0x854)](this[_0x5286df(0x2e4)][_0x5286df(0x866)]())[_0x5286df(0x2e0)](([,_0x25a5bd])=>_0x25a5bd===_0x32f01d);_0x5db4af&&this[_0x5286df(0x2e4)][_0x5286df(0xa12)](_0x5db4af[0x0]),this[_0x5286df(0x744)]['mediator']['createConnection'](_0x32f01d,_0x3d5fa4[_0x5286df(0x38c)]);}0x0===_0x4fddb2[_0x5286df(0x8e0)]&&this[_0x5286df(0x744)][_0x5286df(0x6e0)][_0x5286df(0x91e)](0x1),this[_0x5286df(0x193)]=_0x4fddb2;}async[_0x2ad6ba(0x6d8)](_0x4aecda){const _0x552fc9=_0x2ad6ba,_0x587a1c=this[_0x552fc9(0x744)]['localNode'][_0x552fc9(0x515)]();if(!_0x587a1c)return;const _0x4987e1=this[_0x552fc9(0x5df)][_0x552fc9(0x230)](_0x4aecda);if(!_0x4987e1||_0x4987e1['getStatus']()===_0x24363f[_0x552fc9(0x301)])return;const _0x32d782=_0x4987e1[_0x552fc9(0x515)]();if(!_0x32d782||_0x32d782<_0x587a1c)return;const _0x3ce949=this[_0x552fc9(0x5f7)](this['configs'][_0x552fc9(0x6e0)][_0x552fc9(0xa4a)](),_0x587a1c),_0xf083d9=this[_0x552fc9(0x5f7)](_0x4987e1[_0x552fc9(0xa4a)](),_0x32d782)[_0x3ce949['findIndex'](([_0x98d210])=>_0x98d210===_0x4aecda)];if(!_0xf083d9||this[_0x552fc9(0x744)][_0x552fc9(0x6e0)][_0x552fc9(0xa4a)]()[_0x552fc9(0x98d)](_0xf083d9[0x0]))return;const _0x314d0d=this[_0x552fc9(0x5df)][_0x552fc9(0x230)](_0xf083d9[0x0]);if(_0x314d0d&&_0x314d0d[_0x552fc9(0x3b5)]()!==_0x24363f[_0x552fc9(0x301)])try{await this[_0x552fc9(0x744)][_0x552fc9(0x5fc)][_0x552fc9(0x9a3)](_0xf083d9[0x0],_0x3d5fa4[_0x552fc9(0x574)]);const _0x4ac34b=Array[_0x552fc9(0x854)](this[_0x552fc9(0x2e4)][_0x552fc9(0x866)]())[_0x552fc9(0x2e0)](([,_0x39e131])=>_0x39e131===_0x4aecda);_0x4ac34b&&this['optimizationLayers'][_0x552fc9(0x50f)](_0x4ac34b[0x0],_0xf083d9[0x0]);}catch(_0x5df7be){if(!(_0x5df7be instanceof _0x31ec66&&_0x5df7be['code']===_0x31ec66[_0x552fc9(0x4b6)][_0x552fc9(0x87f)]))throw _0x5df7be;_0xe8f382['log'](_0x1b63ac[_0x552fc9(0x636)],this[_0x552fc9(0x744)][_0x552fc9(0x6e0)][_0x552fc9(0x362)](),_0xf083d9[0x0],_0x5df7be[_0x552fc9(0xa5a)]);}}[_0x2ad6ba(0x5f7)](_0x2ed476,_0x32f071){const _0x1ebd40=_0x2ad6ba;return Array[_0x1ebd40(0x854)](_0x2ed476)[_0x1ebd40(0x735)]((_0x1760b6,_0xeb3807)=>{const _0x4a3ea0=_0x1ebd40,_0x2504a5=this[_0x4a3ea0(0x5df)][_0x4a3ea0(0x230)](_0xeb3807);if(!_0x2504a5||_0x2504a5[_0x4a3ea0(0x3b5)]()===_0x24363f[_0x4a3ea0(0x301)])return _0x1760b6;const _0x4f87e8=_0x2504a5['getRank']();if(!_0x4f87e8)return _0x1760b6;const _0x2efb11=_0x4f87e8-_0x32f071;return _0x2efb11<=this[_0x4a3ea0(0x5df)][_0x4a3ea0(0x606)]()||_0x1760b6[_0x4a3ea0(0x673)]([_0xeb3807,_0x2efb11]),_0x1760b6;},[])['sort'](([,_0x35aa79],[,_0x2d77ef])=>_0x35aa79-_0x2d77ef);}}const _0x4f5392=[{'problemType':_0x5299b2[_0x2ad6ba(0x75a)],'remediations':[{'type':_0x3cd557[_0x2ad6ba(0x6f1)],'component':_0x3ed4e6['Resolution'],'action':_0x4c89bc[_0x2ad6ba(0x394)]},{'type':_0x3cd557[_0x2ad6ba(0x2d4)],'component':_0x3ed4e6[_0x2ad6ba(0x486)],'action':_0x4c89bc[_0x2ad6ba(0x394)]}]},{'problemType':_0x5299b2[_0x2ad6ba(0x473)],'remediations':[{'type':_0x3cd557[_0x2ad6ba(0x6f1)],'component':_0x3ed4e6[_0x2ad6ba(0x486)],'action':_0x4c89bc[_0x2ad6ba(0x394)]}]},{'problemType':_0x5299b2[_0x2ad6ba(0x436)],'remediations':[{'type':_0x3cd557[_0x2ad6ba(0x6f1)],'component':_0x3ed4e6[_0x2ad6ba(0x486)],'action':_0x4c89bc[_0x2ad6ba(0x394)]}]},{'problemType':_0x5299b2['FramePerSecond'],'remediations':[{'type':_0x3cd557[_0x2ad6ba(0x6f1)],'component':_0x3ed4e6[_0x2ad6ba(0x486)],'action':_0x4c89bc[_0x2ad6ba(0x394)]}]},{'problemType':_0x5299b2[_0x2ad6ba(0x64a)],'remediations':[{'type':_0x3cd557[_0x2ad6ba(0x6f1)],'component':_0x3ed4e6[_0x2ad6ba(0x64a)],'action':_0x4c89bc['Downgrade']}]},{'problemType':_0x5299b2[_0x2ad6ba(0x93a)],'remediations':[{'type':_0x3cd557['Remediation'],'component':_0x3ed4e6[_0x2ad6ba(0x64a)],'action':_0x4c89bc['Downgrade']}]},{'problemType':_0x5299b2[_0x2ad6ba(0x8d1)],'remediations':[{'type':_0x3cd557['Remediation'],'component':_0x3ed4e6[_0x2ad6ba(0x64a)],'action':_0x4c89bc['Downgrade']}]}];class _0x30ec1e{[_0x2ad6ba(0x744)];[_0x2ad6ba(0x5a2)];[_0x2ad6ba(0x920)]=new Map();constructor(_0x13a1f9){const _0x20b22d=_0x2ad6ba;this[_0x20b22d(0x744)]=_0x13a1f9,this[_0x20b22d(0x744)][_0x20b22d(0x5fc)][_0x20b22d(0xa24)](this);}[_0x2ad6ba(0x27c)](){const _0x41a644=_0x2ad6ba;this[_0x41a644(0x744)][_0x41a644(0x5fc)]['unregisterSystemSource'](this);}[_0x2ad6ba(0x3ba)](_0x55fabb){this['systemTopic']=_0x55fabb;}[_0x2ad6ba(0x460)](){const _0x1f0bb2=_0x2ad6ba;delete this[_0x1f0bb2(0x5a2)];}['handleDetectionSystemEvents'](_0x21dd0b){const _0x2768bd=_0x2ad6ba;_0x21dd0b[_0x2768bd(0x257)][_0x2768bd(0x285)]===_0x64237c['Problem']&&this[_0x2768bd(0x9c7)](_0x21dd0b[_0x2768bd(0x257)]['data']);}[_0x2ad6ba(0x8bf)](_0x49e9b9){const _0x1b0c68=_0x2ad6ba;_0x49e9b9[_0x1b0c68(0x257)][_0x1b0c68(0x285)]===_0x3cd557['RemoteRemediation']&&this['applyRemediation'](_0x49e9b9[_0x1b0c68(0xa59)],{'type':_0x3cd557[_0x1b0c68(0x6f1)],'component':_0x49e9b9['content']['data'][_0x1b0c68(0x614)],'action':_0x49e9b9[_0x1b0c68(0x257)]['data'][_0x1b0c68(0x3c9)]});}[_0x2ad6ba(0x9c7)](_0x28dfc8){const _0x4d07c0=_0x2ad6ba,_0x10d688=_0x4f5392[_0x4d07c0(0x2e0)](_0x2a3680=>_0x2a3680[_0x4d07c0(0x433)]===_0x28dfc8[_0x4d07c0(0x285)]);_0x10d688[_0x4d07c0(0x8b8)]?.['forEach'](_0x5b9e69=>{const _0x36f395=_0x4d07c0;this[_0x36f395(0x549)](_0x28dfc8['nodeId'],{'type':_0x28dfc8['origin']===_0x3141bb[_0x36f395(0x814)]?_0x3cd557['Remediation']:_0x3cd557[_0x36f395(0x2d4)],'component':_0x5b9e69[_0x36f395(0x614)],'action':_0x5b9e69[_0x36f395(0x3c9)]});});}[_0x2ad6ba(0x549)](_0x33d6dc,_0x3b1b03){const _0xa99247=_0x2ad6ba;if(_0x3b1b03[_0xa99247(0x285)]===_0x3cd557[_0xa99247(0x6f1)]){const _0x1e92d3=Date['now'](),_0x4f4ea5=this[_0xa99247(0x920)][_0xa99247(0x736)](_0x33d6dc);if(_0x4f4ea5&&_0x1e92d3-_0x4f4ea5<0x1388)return;this['lastRemediations'][_0xa99247(0x50f)](_0x33d6dc,_0x1e92d3);}_0xe8f382[_0xa99247(0xa40)](_0x1b63ac[_0xa99247(0x6f1)],_0xa99247(0x7a5),_0x3b1b03),_0xe8f382[_0xa99247(0x844)]('remediation',{'clusterId':this[_0xa99247(0x744)]['clusterId'],'nodeId':this[_0xa99247(0x744)][_0xa99247(0x6e0)]['getId'](),'nodeType':this[_0xa99247(0x744)][_0xa99247(0x6e0)][_0xa99247(0x285)],'remoteId':_0x33d6dc,'data':{'type':_0x3b1b03[_0xa99247(0x285)],'component':_0x3b1b03[_0xa99247(0x614)],'action':_0x3b1b03[_0xa99247(0x3c9)]}});let _0x28540f,_0x4d8d34=_0x124816;_0x3b1b03[_0xa99247(0x285)]===_0x3cd557[_0xa99247(0x2d4)]&&(_0x4d8d34=this[_0xa99247(0x744)][_0xa99247(0x6e0)][_0xa99247(0x362)](),_0x28540f=[_0x33d6dc]),this[_0xa99247(0x5a2)]['publish']({'sourceId':_0x4d8d34,'destinationIds':_0x28540f,'messageType':_0x5f120e[_0xa99247(0x6f1)],'content':{'type':_0x3b1b03['type'],'targetId':_0x33d6dc,'data':_0x3b1b03}});}}const _0x2ff5d3=0x3e8,_0x2f4a82=0x7530,_0x161ca0='outbound-rtp',_0x2505c3='remote-inbound-rtp',_0x40df9b=_0x2ad6ba(0x652),_0x409ab0=[_0x161ca0,_0x2505c3],_0x58bb76=[_0x40df9b];class _0x61257d{['roundTripTime']=0x0;[_0x2ad6ba(0x28f)]=0x0;['jitter']=0x0;[_0x2ad6ba(0x6be)]=0x0;[_0x2ad6ba(0x21a)]=0x0;[_0x2ad6ba(0x248)]=0x0;[_0x2ad6ba(0x565)]=0x0;[_0x2ad6ba(0xa72)]=0x0;[_0x2ad6ba(0x369)]=0x0;get[_0x2ad6ba(0x90d)](){const _0x4ff6c2=_0x2ad6ba;return this[_0x4ff6c2(0x248)]>0x0&&this['previousTimestamp']>0x0&&Date[_0x4ff6c2(0x9fc)]()-this['currentTimestamp']<_0x2f4a82?(this['currentBytes']-this['previousBytes'])/(this[_0x4ff6c2(0x248)]-this['previousTimestamp'])*0x8*0x3e8:0x0;}[_0x2ad6ba(0x4da)](_0x1b0ece){const _0x1c2289=_0x2ad6ba;switch(_0x1b0ece[_0x1c2289(0x285)]){case _0x40df9b:this[_0x1c2289(0x625)](_0x1b0ece);break;case _0x161ca0:this[_0x1c2289(0x294)](_0x1b0ece);break;case _0x2505c3:this[_0x1c2289(0x662)](_0x1b0ece);}}[_0x2ad6ba(0x3bc)](){const _0x35e1f5=_0x2ad6ba;return{'bitrate':this[_0x35e1f5(0x90d)],'packetsLostPerc':this[_0x35e1f5(0x540)](),'roundTripTime':this['roundTripTime'],'jitter':this['jitter']};}[_0x2ad6ba(0x625)](_0x519c45){const _0x844063=_0x2ad6ba;this[_0x844063(0x511)](_0x519c45['bytesReceived']),this[_0x844063(0x1f5)](_0x519c45[_0x844063(0x687)]),this[_0x844063(0x21a)]=_0x519c45[_0x844063(0x5a8)],this[_0x844063(0x6be)]=_0x519c45[_0x844063(0x6be)],void 0x0!==_0x519c45['jitter']?this['jitter']=_0x519c45[_0x844063(0x4cd)]:this['jitter']=0x0,void 0x0!==_0x519c45[_0x844063(0x28f)]?this[_0x844063(0x28f)]=_0x519c45[_0x844063(0x28f)]:this['estimatedPlayoutTimestamp']=0x0;}[_0x2ad6ba(0x294)](_0x2295be){const _0x2b4111=_0x2ad6ba;this['setBytes'](_0x2295be[_0x2b4111(0x18f)]),this[_0x2b4111(0x1f5)](_0x2295be['timestamp']),this[_0x2b4111(0x21a)]=_0x2295be[_0x2b4111(0x5c5)];}[_0x2ad6ba(0x662)](_0x26e348){const _0x4618e2=_0x2ad6ba;this[_0x4618e2(0x94b)]=0x3e8*_0x26e348['roundTripTime'],void 0x0!==_0x26e348[_0x4618e2(0x4cd)]?this[_0x4618e2(0x4cd)]=_0x26e348[_0x4618e2(0x4cd)]:this[_0x4618e2(0x4cd)]=0x0;}[_0x2ad6ba(0x540)](){const _0x51f7bb=_0x2ad6ba;return this[_0x51f7bb(0x21a)]>0x0?this['packetsLost']/this[_0x51f7bb(0x21a)]:0x0;}[_0x2ad6ba(0x1f5)](_0x46452a){const _0x380138=_0x2ad6ba;_0x46452a>this[_0x380138(0x248)]&&(this[_0x380138(0x565)]=this[_0x380138(0x248)],this[_0x380138(0x248)]=_0x46452a);}[_0x2ad6ba(0x511)](_0x4692cd){const _0x30a51b=_0x2ad6ba;this[_0x30a51b(0x369)]=this[_0x30a51b(0xa72)],this[_0x30a51b(0xa72)]=_0x4692cd;}}class _0x2a5967 extends _0x61257d{}class _0x1b7324 extends _0x61257d{[_0x2ad6ba(0x52c)]=0x0;[_0x2ad6ba(0x34f)]=0x0;['frameHeight']=0x0;[_0x2ad6ba(0xa4b)]=0x0;[_0x2ad6ba(0x963)]=0x0;get[_0x2ad6ba(0xab3)](){const _0x1c4870=_0x2ad6ba;return this[_0x1c4870(0x248)]>0x0&&this[_0x1c4870(0x565)]>0x0&&Date[_0x1c4870(0x9fc)]()-this[_0x1c4870(0x248)]<_0x2f4a82?(this[_0x1c4870(0xa4b)]-this[_0x1c4870(0x963)])/(this[_0x1c4870(0x248)]-this[_0x1c4870(0x565)])*0x3e8:0x0;}get['timePerFrame'](){const _0x41baad=_0x2ad6ba;return this['frameTime']&&this[_0x41baad(0xa4b)]&&this[_0x41baad(0xa4b)]>0x0?this['frameTime']/this[_0x41baad(0xa4b)]:0x0;}set['frames'](_0x49a0a9){const _0x2ca99b=_0x2ad6ba;this[_0x2ca99b(0x963)]=this[_0x2ca99b(0xa4b)],this['currentFrames']=_0x49a0a9;}[_0x2ad6ba(0x3bc)](){const _0xae3b63=_0x2ad6ba;return{...super[_0xae3b63(0x3bc)](),'FPS':this[_0xae3b63(0xab3)],'timePerFrame':this[_0xae3b63(0x170)],'frameWidth':this[_0xae3b63(0x34f)],'frameHeight':this[_0xae3b63(0x218)]};}[_0x2ad6ba(0x625)](_0x19f328){const _0x4987aa=_0x2ad6ba;super['processInboundReport'](_0x19f328),this[_0x4987aa(0x52c)]=_0x19f328[_0x4987aa(0x9ba)],this[_0x4987aa(0x172)]=_0x19f328[_0x4987aa(0x4bf)],this['frameWidth']=_0x19f328[_0x4987aa(0x34f)],this['frameHeight']=_0x19f328[_0x4987aa(0x218)];}[_0x2ad6ba(0x294)](_0x1d2df1){const _0x1ffd3d=_0x2ad6ba;super[_0x1ffd3d(0x294)](_0x1d2df1),this['frameTime']=_0x1d2df1[_0x1ffd3d(0x984)],this[_0x1ffd3d(0x172)]=_0x1d2df1[_0x1ffd3d(0x425)],this[_0x1ffd3d(0x34f)]=_0x1d2df1['frameWidth'],this[_0x1ffd3d(0x218)]=_0x1d2df1[_0x1ffd3d(0x218)];}}class _0x2e9df0{[_0x2ad6ba(0x648)]=new _0x2a5967();['video']=new _0x1b7324();get[_0x2ad6ba(0x90d)](){const _0x193444=_0x2ad6ba;return this[_0x193444(0x648)]['bitrate']+this[_0x193444(0x28d)][_0x193444(0x90d)];}['processReports'](_0x530f85){const _0x1d9113=_0x2ad6ba;return _0x530f85[_0x1d9113(0x9a0)](_0x2bd14c=>{const _0x5bb70e=_0x1d9113;switch(_0x2bd14c[_0x5bb70e(0x7bc)]){case _0x5bb70e(0x648):this[_0x5bb70e(0x648)]['processReport'](_0x2bd14c);break;case _0x5bb70e(0x28d):this['video']['processReport'](_0x2bd14c);}}),this['getReport']();}[_0x2ad6ba(0x3bc)](){const _0x415bf5=_0x2ad6ba;return{'audio':this[_0x415bf5(0x648)][_0x415bf5(0x3bc)](),'video':this[_0x415bf5(0x28d)][_0x415bf5(0x3bc)](),'roundTripTime':this['getRoundTripTime'](),'AudioVideoDelay':this[_0x415bf5(0x442)](),'bitrate':this[_0x415bf5(0x90d)]};}[_0x2ad6ba(0x1f4)](){const _0x33fff3=_0x2ad6ba;return Math['floor']((this[_0x33fff3(0x648)][_0x33fff3(0x94b)]+this[_0x33fff3(0x28d)]['roundTripTime'])/0x2);}['getAudioVideoDelay'](){const _0xa50105=_0x2ad6ba;return this[_0xa50105(0x648)][_0xa50105(0x28f)]-this['video'][_0xa50105(0x28f)];}}class _0x50f4f8{[_0x2ad6ba(0x36e)]=0x0;[_0x2ad6ba(0x34e)]=0x0;[_0x2ad6ba(0x5d6)]=0x0;[_0x2ad6ba(0x5d2)]=0x0;['senderCurrentBytes']=0x0;['senderPreviousBytes']=0x0;['receiverCurrentBytes']=0x0;['receiverPreviousBytes']=0x0;['senderTotalMessages']=0x0;[_0x2ad6ba(0x3e1)]=0x0;[_0x2ad6ba(0x99d)]=0x0;[_0x2ad6ba(0x5d1)]=0x0;[_0x2ad6ba(0x94b)]=0x0;get[_0x2ad6ba(0x90d)](){const _0x45b37a=_0x2ad6ba;return this[_0x45b37a(0x336)]+this['receiverBitrate'];}get['senderBitrate'](){const _0x194812=_0x2ad6ba;return this[_0x194812(0x36e)]>0x0&&this[_0x194812(0x34e)]>0x0&&Date[_0x194812(0x9fc)]()-this[_0x194812(0x36e)]<_0x2f4a82?(this[_0x194812(0x52a)]-this[_0x194812(0x7d3)])/(this['senderCurrentTimestamp']-this[_0x194812(0x34e)])*0x8*0x3e8:0x0;}get[_0x2ad6ba(0x42a)](){const _0x1e94cc=_0x2ad6ba;return this[_0x1e94cc(0x5d6)]>0x0&&this[_0x1e94cc(0x5d2)]>0x0&&Date[_0x1e94cc(0x9fc)]()-this[_0x1e94cc(0x5d6)]<_0x2f4a82?(this[_0x1e94cc(0x4af)]-this[_0x1e94cc(0x238)])/(this[_0x1e94cc(0x5d6)]-this[_0x1e94cc(0x5d2)])*0x8*0x3e8:0x0;}[_0x2ad6ba(0x4da)](_0x5185bf){const _0x5747db=_0x2ad6ba;switch(_0x5185bf[_0x5747db(0x8e8)]){case _0x3141bb['Sender']:this['processSenderReport'](_0x5185bf);break;case _0x3141bb[_0x5747db(0x596)]:this[_0x5747db(0x1f1)](_0x5185bf);}}[_0x2ad6ba(0x3bc)](){const _0x38ddfb=_0x2ad6ba;return{'bitrate':this[_0x38ddfb(0x90d)],'senderBitrate':this[_0x38ddfb(0x336)],'receiverBitrate':this[_0x38ddfb(0x42a)],'totalBytes':this[_0x38ddfb(0x619)](),'senderTotalBytes':this[_0x38ddfb(0x7f6)](),'receiverTotalBytes':this[_0x38ddfb(0x6df)](),'totalMessages':this[_0x38ddfb(0x3fe)]+this[_0x38ddfb(0x3e1)],'senderTotalMessages':this[_0x38ddfb(0x3fe)],'receiverTotalMessages':this['receiverTotalMessages'],'timeProcessing':this['senderTimeProcessing']+this[_0x38ddfb(0x5d1)],'senderTimeProcessing':this[_0x38ddfb(0x99d)],'receiverTimeProcessing':this[_0x38ddfb(0x5d1)],'roundTripTime':this[_0x38ddfb(0x94b)]};}[_0x2ad6ba(0x619)](){const _0x42a2c0=_0x2ad6ba;return this['senderCurrentBytes']+this[_0x42a2c0(0x4af)];}['getSenderTotalBytes'](){return this['senderCurrentBytes'];}[_0x2ad6ba(0x6df)](){const _0x125d82=_0x2ad6ba;return this[_0x125d82(0x4af)];}[_0x2ad6ba(0x2ae)](_0x36fd1d){const _0x21dae0=_0x2ad6ba;this['setSenderTimestamp'](_0x36fd1d[_0x21dae0(0x687)]),this[_0x21dae0(0x511)](_0x36fd1d[_0x21dae0(0x18f)]),this['senderTotalMessages']=_0x36fd1d[_0x21dae0(0x812)],this[_0x21dae0(0x99d)]=_0x36fd1d[_0x21dae0(0x265)],this[_0x21dae0(0x94b)]=_0x36fd1d[_0x21dae0(0x94b)];}['processReceiverReport'](_0x38f2ea){const _0x1772c5=_0x2ad6ba;this[_0x1772c5(0x9fa)](_0x38f2ea[_0x1772c5(0x687)]),this['setReceiverBytes'](_0x38f2ea[_0x1772c5(0x416)]),this[_0x1772c5(0x3e1)]=_0x38f2ea['messagesReceived'],this[_0x1772c5(0x5d1)]=_0x38f2ea[_0x1772c5(0x43a)];}[_0x2ad6ba(0x1a1)](_0x19c75d){const _0x5cd809=_0x2ad6ba;_0x19c75d>this[_0x5cd809(0x36e)]&&(this[_0x5cd809(0x34e)]=this['senderCurrentTimestamp'],this['senderCurrentTimestamp']=_0x19c75d);}[_0x2ad6ba(0x9fa)](_0x21160b){const _0x425e73=_0x2ad6ba;_0x21160b>this[_0x425e73(0x5d6)]&&(this[_0x425e73(0x5d2)]=this[_0x425e73(0x5d6)],this[_0x425e73(0x5d6)]=_0x21160b);}[_0x2ad6ba(0x511)](_0x3371ac){const _0x1dfe0c=_0x2ad6ba;this[_0x1dfe0c(0x7d3)]=this[_0x1dfe0c(0x52a)],this['senderCurrentBytes']=_0x3371ac;}[_0x2ad6ba(0x6e7)](_0x34416c){const _0x177c3a=_0x2ad6ba;this[_0x177c3a(0x238)]=this['receiverCurrentBytes'],this[_0x177c3a(0x4af)]=_0x34416c;}}class _0x1077cc{[_0x2ad6ba(0x81c)]=new Map();[_0x2ad6ba(0x377)]=new Map();['dataChannel']=new _0x50f4f8();get[_0x2ad6ba(0x336)](){const _0x21df60=_0x2ad6ba;let _0x1f8cb6=0x0;return this[_0x21df60(0x81c)][_0x21df60(0x9a0)](_0x37e1a8=>{_0x1f8cb6+=_0x37e1a8['bitrate'];}),_0x1f8cb6+=this[_0x21df60(0xa57)][_0x21df60(0x336)],_0x1f8cb6;}get[_0x2ad6ba(0x42a)](){const _0x56c189=_0x2ad6ba;let _0x2485a0=0x0;return this['receiverStreams'][_0x56c189(0x9a0)](_0x47451c=>{_0x2485a0+=_0x47451c['bitrate'];}),_0x2485a0+=this[_0x56c189(0xa57)][_0x56c189(0x42a)],_0x2485a0;}get[_0x2ad6ba(0x90d)](){const _0x4c6179=_0x2ad6ba;return this['senderBitrate']+this[_0x4c6179(0x42a)];}[_0x2ad6ba(0x4a6)](_0x166918,_0x398a35){const _0x3c1547=_0x2ad6ba,_0x55ed67=[],_0x396c80=[];return _0x166918 instanceof Array?_0x166918[_0x3c1547(0x9a0)](_0x53c5c9=>{const _0x1ce5a3=_0x3c1547;_0x53c5c9[_0x1ce5a3(0x9a0)](_0x1e1b84=>{const _0x31517b=_0x1ce5a3;_0x58bb76[_0x31517b(0x205)](_0x1e1b84['type'])&&_0x55ed67[_0x31517b(0x673)](_0x1e1b84),_0x409ab0[_0x31517b(0x205)](_0x1e1b84[_0x31517b(0x285)])&&_0x396c80[_0x31517b(0x673)](_0x1e1b84);});}):this['dataChannel']['processReport'](_0x166918),_0x55ed67[_0x3c1547(0x8e0)]>0x0&&_0x398a35?{...this[_0x3c1547(0x2c4)](_0x398a35,_0x55ed67),'origin':_0x3141bb[_0x3c1547(0x596)],'streamId':_0x398a35}:_0x396c80[_0x3c1547(0x8e0)]>0x0&&_0x398a35?{...this[_0x3c1547(0x273)](_0x398a35,_0x396c80),'origin':_0x3141bb[_0x3c1547(0x814)],'streamId':_0x398a35}:void 0x0;}['getReport'](){const _0x3f5544=_0x2ad6ba,_0x44adb1={};this[_0x3f5544(0x81c)]['forEach']((_0x369fce,_0x3170c9)=>{const _0x2e4152=_0x3f5544;_0x44adb1[_0x3170c9]=_0x369fce[_0x2e4152(0x3bc)]();});const _0x1aae49={};return this[_0x3f5544(0x377)][_0x3f5544(0x9a0)]((_0x2ed191,_0x5c451d)=>{const _0x2c38c5=_0x3f5544;_0x1aae49[_0x5c451d]=_0x2ed191[_0x2c38c5(0x3bc)]();}),{'bitrate':this[_0x3f5544(0x90d)],'senderBitrate':this['senderBitrate'],'receiverBitrate':this['receiverBitrate'],'senderStreams':_0x44adb1,'receiverStreams':_0x1aae49,'dataChannel':this[_0x3f5544(0xa57)][_0x3f5544(0x3bc)]()};}[_0x2ad6ba(0x2c4)](_0x34c6b6,_0x5be799){const _0x271e33=_0x2ad6ba;return this['receiverStreams'][_0x271e33(0x98d)](_0x34c6b6)||this[_0x271e33(0x377)][_0x271e33(0x50f)](_0x34c6b6,new _0x2e9df0()),this['receiverStreams']['get'](_0x34c6b6)[_0x271e33(0x4a6)](_0x5be799);}[_0x2ad6ba(0x273)](_0x1311c2,_0x5f31f0){const _0x3de338=_0x2ad6ba;return this[_0x3de338(0x81c)][_0x3de338(0x98d)](_0x1311c2)||this[_0x3de338(0x81c)][_0x3de338(0x50f)](_0x1311c2,new _0x2e9df0()),this[_0x3de338(0x81c)][_0x3de338(0x736)](_0x1311c2)[_0x3de338(0x4a6)](_0x5f31f0);}}class _0x2e1b83{[_0x2ad6ba(0x318)]=new Map();[_0x2ad6ba(0x5f1)]=0x0;[_0x2ad6ba(0x5c6)]=0x0;[_0x2ad6ba(0x2bd)]=new Map();[_0x2ad6ba(0x23a)]=new Map();[_0x2ad6ba(0x4f8)]=new Map();['generativeAIContexts']=new Map();['generativeAIWorkers']=new Map();[_0x2ad6ba(0x842)]=new Map();['graphDatabases']=new Map();[_0x2ad6ba(0x27e)]=new Map();[_0x2ad6ba(0x3fe)]=new Map();[_0x2ad6ba(0x3e1)]=new Map();[_0x2ad6ba(0x99d)]=new Map();[_0x2ad6ba(0x5d1)]=new Map();['systemMessages']=new Map();[_0x2ad6ba(0x5a2)];[_0x2ad6ba(0x3bc)](){const _0x8a4bc0=_0x2ad6ba,_0x17b6dd={};this['nodes']['forEach']((_0x1b8671,_0x3c268e)=>{_0x17b6dd[_0x3c268e]=_0x1b8671['getReport']();});let _0x3057bc=0x0;this[_0x8a4bc0(0x99d)]['forEach'](_0x1d5b0b=>{_0x3057bc+=_0x1d5b0b;});let _0x4d0039=0x0;this[_0x8a4bc0(0x5d1)][_0x8a4bc0(0x9a0)](_0x52549e=>{_0x4d0039+=_0x52549e;});const _0x5de87c=_0x3057bc+_0x4d0039;let _0x67d206={'messages':{'total':0x0}};this[_0x8a4bc0(0x25b)][_0x8a4bc0(0x9a0)](_0x50b4cb=>{const _0x10f360=_0x8a4bc0;Object['keys'](_0x50b4cb)[_0x10f360(0x9a0)](_0x45c970=>{const _0x3d83f0=_0x10f360;_0x67d206[_0x45c970]||(_0x67d206[_0x45c970]={}),Object[_0x3d83f0(0xa6a)](_0x50b4cb[_0x45c970])[_0x3d83f0(0x9a0)](_0x5795ac=>{_0x67d206[_0x45c970][_0x5795ac]||(_0x67d206[_0x45c970][_0x5795ac]=0x0),_0x67d206[_0x45c970][_0x5795ac]+=_0x50b4cb[_0x45c970][_0x5795ac];});});});let _0xca6196=0x0,_0x5171a8=0x0,_0x49a80f=0x0,_0x1a0be7=0x0,_0xdbe858=0x0;return this[_0x8a4bc0(0x2bd)][_0x8a4bc0(0x9a0)](_0x4f4f0e=>{const _0x32e33c=_0x8a4bc0;_0x5171a8+=_0x4f4f0e['messagesSent'],_0x49a80f+=_0x4f4f0e[_0x32e33c(0x8f2)],_0x1a0be7+=_0x4f4f0e[_0x32e33c(0x18f)],_0xdbe858+=_0x4f4f0e[_0x32e33c(0x416)];}),this[_0x8a4bc0(0x23a)][_0x8a4bc0(0x9a0)](_0x463150=>{const _0x565703=_0x8a4bc0;_0xca6196+=_0x463150[_0x565703(0x633)],_0x5171a8+=_0x463150[_0x565703(0x812)],_0x49a80f+=_0x463150['messagesReceived'],_0x1a0be7+=_0x463150[_0x565703(0x18f)],_0xdbe858+=_0x463150[_0x565703(0x416)];}),this[_0x8a4bc0(0x4f8)][_0x8a4bc0(0x9a0)](_0x1800f0=>{const _0x450a5e=_0x8a4bc0;_0xca6196+=_0x1800f0[_0x450a5e(0x633)],_0x5171a8+=_0x1800f0['messagesSent'],_0x49a80f+=_0x1800f0[_0x450a5e(0x8f2)],_0x1a0be7+=_0x1800f0[_0x450a5e(0x18f)],_0xdbe858+=_0x1800f0[_0x450a5e(0x416)];}),this[_0x8a4bc0(0x598)][_0x8a4bc0(0x9a0)](_0x106f1b=>{const _0x25c334=_0x8a4bc0;_0xca6196+=_0x106f1b[_0x25c334(0x633)],_0x5171a8+=_0x106f1b[_0x25c334(0x812)],_0x49a80f+=_0x106f1b[_0x25c334(0x8f2)],_0x1a0be7+=_0x106f1b[_0x25c334(0x18f)],_0xdbe858+=_0x106f1b[_0x25c334(0x416)];}),this[_0x8a4bc0(0x311)][_0x8a4bc0(0x9a0)](_0x387cbe=>{const _0x42df45=_0x8a4bc0;_0xca6196+=_0x387cbe[_0x42df45(0x633)],_0x5171a8+=_0x387cbe[_0x42df45(0x812)],_0x49a80f+=_0x387cbe['messagesReceived'],_0x1a0be7+=_0x387cbe[_0x42df45(0x18f)],_0xdbe858+=_0x387cbe[_0x42df45(0x416)];}),this[_0x8a4bc0(0x842)][_0x8a4bc0(0x9a0)](_0x103b38=>{const _0x5638ae=_0x8a4bc0;_0xca6196+=_0x103b38[_0x5638ae(0x633)],_0x5171a8+=_0x103b38['messagesSent'],_0x49a80f+=_0x103b38['messagesReceived'],_0x1a0be7+=_0x103b38[_0x5638ae(0x18f)],_0xdbe858+=_0x103b38['bytesReceived'];}),this[_0x8a4bc0(0x77e)]['forEach'](_0x32f080=>{const _0x31ff6f=_0x8a4bc0;_0xca6196+=_0x32f080[_0x31ff6f(0x633)],_0x5171a8+=_0x32f080[_0x31ff6f(0x812)],_0x49a80f+=_0x32f080['messagesReceived'],_0x1a0be7+=_0x32f080[_0x31ff6f(0x18f)],_0xdbe858+=_0x32f080[_0x31ff6f(0x416)];}),{'STVolatility':this[_0x8a4bc0(0x88c)](),'DTVolatility':this[_0x8a4bc0(0x808)](),'bitrate':this[_0x8a4bc0(0x290)](),'senderBitrate':this[_0x8a4bc0(0x909)](),'receiverBitrate':this[_0x8a4bc0(0xa68)](),'totalStorageSize':_0xca6196,'totalMessages':_0x5171a8+_0x49a80f,'totalMessagesSent':_0x5171a8,'totalMessagesReceived':_0x49a80f,'totalBytes':_0x1a0be7+_0xdbe858,'totalBytesSent':_0x1a0be7,'totalBytesReceived':_0xdbe858,'systemMessages':_0x67d206,'timeProcessing':_0x5de87c,'nodes':_0x17b6dd,'pubsubTopics':Object[_0x8a4bc0(0x317)](this['pubsubTopics']),'objectStores':Object[_0x8a4bc0(0x317)](this[_0x8a4bc0(0x23a)]),'keyValueDatabases':Object[_0x8a4bc0(0x317)](this[_0x8a4bc0(0x4f8)]),'generativeAIContexts':Object[_0x8a4bc0(0x317)](this[_0x8a4bc0(0x598)]),'generativeAIWorkers':Object[_0x8a4bc0(0x317)](this[_0x8a4bc0(0x311)]),'vectorDatabases':Object['fromEntries'](this[_0x8a4bc0(0x842)]),'graphDatabases':Object[_0x8a4bc0(0x317)](this['graphDatabases']),'externalStorages':Object[_0x8a4bc0(0x317)](this[_0x8a4bc0(0x27e)])};}[_0x2ad6ba(0x593)](_0xe862d1){const _0x3e363a=_0x2ad6ba;this['nodes'][_0x3e363a(0x50f)](_0xe862d1,new _0x1077cc());}[_0x2ad6ba(0x2e8)](_0x4978ba){const _0x170f38=_0x2ad6ba;this[_0x170f38(0x318)][_0x170f38(0xa12)](_0x4978ba);}[_0x2ad6ba(0x4a6)](_0x7d54cd,_0x3b6123,_0x14621b){const _0x5ecfff=_0x2ad6ba;_0x3b6123 instanceof Array||this[_0x5ecfff(0x9af)](_0x7d54cd,_0x3b6123);const _0x1a117a=this[_0x5ecfff(0x318)][_0x5ecfff(0x736)](_0x7d54cd)?.[_0x5ecfff(0x4a6)](_0x3b6123,_0x14621b);_0x1a117a&&this[_0x5ecfff(0x5a2)][_0x5ecfff(0x29d)]({'sourceId':_0x124816,'messageType':_0x5f120e[_0x5ecfff(0xa47)],'content':{'type':_0x155df0[_0x5ecfff(0xa8f)],'data':{..._0x1a117a,'nodeId':_0x7d54cd}}});}[_0x2ad6ba(0x4d0)](_0x30b93d){const _0x1b90a8=_0x2ad6ba;this[_0x1b90a8(0x776)](_0x30b93d[_0x1b90a8(0x6dd)]),this[_0x1b90a8(0x234)](_0x30b93d[_0x1b90a8(0x5c6)]),this['systemTopic'][_0x1b90a8(0x29d)]({'sourceId':_0x124816,'messageType':_0x5f120e['Stats'],'content':{'type':_0x155df0[_0x1b90a8(0x8c9)],'data':{'STVolatility':this['getSTVolatility'](),'DTVolatility':this[_0x1b90a8(0x808)]()}}});}[_0x2ad6ba(0x413)](_0x58382d,_0x2fbc98,_0x305db3){const _0x4cf362=_0x2ad6ba;switch(_0x2fbc98){case _0x5d0a4b['PubSubTopicStats']:this[_0x4cf362(0x2bd)][_0x4cf362(0x50f)](_0x58382d,_0x305db3);break;case _0x5d0a4b[_0x4cf362(0x701)]:this['objectStores']['set'](_0x58382d,_0x305db3);break;case _0x5d0a4b['KeyValueDatabaseStats']:this['keyValueDatabases'][_0x4cf362(0x50f)](_0x58382d,_0x305db3);break;case _0x5d0a4b[_0x4cf362(0x77d)]:this[_0x4cf362(0x598)][_0x4cf362(0x50f)](_0x58382d,_0x305db3);break;case _0x5d0a4b[_0x4cf362(0x2f4)]:this[_0x4cf362(0x311)]['set'](_0x58382d,_0x305db3);break;case _0x5d0a4b[_0x4cf362(0x23d)]:this[_0x4cf362(0x842)][_0x4cf362(0x50f)](_0x58382d,_0x305db3);break;case _0x5d0a4b['GraphDatabaseStats']:this[_0x4cf362(0x77e)]['set'](_0x58382d,_0x305db3);break;case _0x5d0a4b[_0x4cf362(0x513)]:this[_0x4cf362(0x27e)][_0x4cf362(0x50f)](_0x58382d,_0x305db3);}}[_0x2ad6ba(0x3ba)](_0x2bb229){this['systemTopic']=_0x2bb229;}['unregisterSystemPublisher'](){delete this['systemTopic'];}[_0x2ad6ba(0x88c)](){const _0x103a3d=_0x2ad6ba;return this[_0x103a3d(0x5f1)]>0x0&&this['scheduleTime']-_0x2ff5d3>0x0?(this[_0x103a3d(0x5f1)]-_0x2ff5d3)/_0x2ff5d3:0x0;}[_0x2ad6ba(0x808)](){const _0x1c3e30=_0x2ad6ba;return this['durationTime']>0x0&&this[_0x1c3e30(0x5c6)]-0x64>0x0?(this['durationTime']-0x64)/0x64:0x0;}[_0x2ad6ba(0x909)](){const _0x4d4d2c=_0x2ad6ba;let _0x4e7d84=0x0;return this[_0x4d4d2c(0x318)][_0x4d4d2c(0x9a0)](_0x109c02=>{const _0x2a23f8=_0x4d4d2c;_0x4e7d84+=_0x109c02[_0x2a23f8(0x336)];}),_0x4e7d84;}[_0x2ad6ba(0xa68)](){const _0x55574b=_0x2ad6ba;let _0x5529b6=0x0;return this['nodes'][_0x55574b(0x9a0)](_0x54e8c8=>{_0x5529b6+=_0x54e8c8['receiverBitrate'];}),_0x5529b6;}[_0x2ad6ba(0x290)](){const _0x778adf=_0x2ad6ba;let _0x2c3fff=0x0;return this[_0x778adf(0x318)][_0x778adf(0x9a0)](_0x1430a4=>{const _0x1f43b6=_0x778adf;_0x2c3fff+=_0x1430a4[_0x1f43b6(0x90d)];}),_0x2c3fff;}['setScheduleTime'](_0x35d5c8){const _0x14f414=_0x2ad6ba;this[_0x14f414(0x5f1)]=_0x35d5c8;}['setDurationTime'](_0x315247){const _0x3b523d=_0x2ad6ba;this[_0x3b523d(0x5c6)]=_0x315247;}[_0x2ad6ba(0x9af)](_0xa1a875,_0x5bf5f9){const _0xcc5918=_0x2ad6ba;switch(_0x5bf5f9[_0xcc5918(0x8e8)]){case _0x3141bb[_0xcc5918(0x814)]:this[_0xcc5918(0x2ae)](_0xa1a875,_0x5bf5f9);break;case _0x3141bb[_0xcc5918(0x596)]:this[_0xcc5918(0x1f1)](_0xa1a875,_0x5bf5f9);}}[_0x2ad6ba(0x2ae)](_0x1f5d21,_0x681ba8){const _0x3ff2ae=_0x2ad6ba;this['senderTotalMessages']['set'](_0x1f5d21,_0x681ba8[_0x3ff2ae(0x812)]),this[_0x3ff2ae(0x99d)][_0x3ff2ae(0x50f)](_0x1f5d21,_0x681ba8['timeSending']);}[_0x2ad6ba(0x1f1)](_0x5a069f,_0x16f79c){const _0x1a2571=_0x2ad6ba;this[_0x1a2571(0x3e1)][_0x1a2571(0x50f)](_0x5a069f,_0x16f79c[_0x1a2571(0x8f2)]),this['receiverTimeProcessing']['set'](_0x5a069f,_0x16f79c['timeReceiving']),this[_0x1a2571(0x25b)][_0x1a2571(0x50f)](_0x5a069f,_0x16f79c[_0x1a2571(0x25b)]);}}class _0x4c9a5d{[_0x2ad6ba(0x744)];[_0x2ad6ba(0x642)]=new Set();[_0x2ad6ba(0x7af)];['statsCollection'];[_0x2ad6ba(0x503)];[_0x2ad6ba(0x96c)]=new _0x2e1b83();constructor(_0x233572){const _0xba995c=_0x2ad6ba;this[_0xba995c(0x744)]=_0x233572,this[_0xba995c(0x744)][_0xba995c(0x5fc)][_0xba995c(0xa24)](this[_0xba995c(0x96c)]),this[_0xba995c(0x675)]=this[_0xba995c(0x7c3)](),this[_0xba995c(0x503)]=this[_0xba995c(0x96a)]();}['close'](){const _0x3fd152=_0x2ad6ba;this[_0x3fd152(0x744)]['mediator']['unregisterSystemSource'](this['statsReport']),this['statsReporting'](),this[_0x3fd152(0x675)]();}['addRemoteNode'](_0x2159b1){const _0x45d0fe=_0x2ad6ba;this[_0x45d0fe(0x642)][_0x45d0fe(0x424)](_0x2159b1),this[_0x45d0fe(0x96c)][_0x45d0fe(0x593)](_0x2159b1);}['removeRemoteNode'](_0x4966e0){const _0x4ff4ea=_0x2ad6ba;this[_0x4ff4ea(0x642)][_0x4ff4ea(0xa12)](_0x4966e0),this[_0x4ff4ea(0x96c)]['removeRemoteNode'](_0x4966e0);}['handlePeerConnectionSystemEvents'](_0x5341a6){const _0x3c1e9c=_0x2ad6ba;if(_0x5341a6[_0x3c1e9c(0x257)]['type']===_0x330228[_0x3c1e9c(0xa47)]){const {nodeId:_0x201a63,streamId:_0x45e7fa,stats:_0x31f5c6}=_0x5341a6['content'];this[_0x3c1e9c(0x96c)]['processReports'](_0x201a63,_0x31f5c6,_0x45e7fa);}}['handleContentSystemEvents'](_0x617a6d){const _0x1d87ae=_0x2ad6ba;switch(_0x617a6d[_0x1d87ae(0x257)][_0x1d87ae(0x285)]){case _0x5d0a4b[_0x1d87ae(0x701)]:case _0x5d0a4b['KeyValueDatabaseStats']:case _0x5d0a4b['PubSubTopicStats']:case _0x5d0a4b[_0x1d87ae(0x77d)]:case _0x5d0a4b[_0x1d87ae(0x2f4)]:case _0x5d0a4b['VectorDatabaseStats']:case _0x5d0a4b[_0x1d87ae(0xa20)]:case _0x5d0a4b[_0x1d87ae(0x513)]:this[_0x1d87ae(0x96c)][_0x1d87ae(0x413)](_0x617a6d[_0x1d87ae(0x257)][_0x1d87ae(0x19d)],_0x617a6d[_0x1d87ae(0x257)][_0x1d87ae(0x285)],_0x617a6d[_0x1d87ae(0x257)][_0x1d87ae(0x8e7)]);}}[_0x2ad6ba(0x96a)](){const _0x6125b0=_0x2ad6ba;return _0x401df5[_0x6125b0(0x338)](()=>{const _0x2e366f=_0x6125b0,_0x22cf96=this[_0x2e366f(0x96c)]['getReport']();_0xe8f382[_0x2e366f(0xa40)](_0x1b63ac[_0x2e366f(0xa47)],'Stats:\x20report',_0x22cf96),(0x0,_0x2fd630[_0x2e366f(0x379)])((0x0,_0x2fd630[_0x2e366f(0x2b6)])(_0x480677[_0x2e366f(0xa35)](),_0x2e366f(0x376)+this[_0x2e366f(0x744)][_0x2e366f(0x8e1)]+_0x2e366f(0x764)),{'clusterId':this[_0x2e366f(0x744)][_0x2e366f(0x58c)],'nodeId':this[_0x2e366f(0x744)][_0x2e366f(0x6e0)][_0x2e366f(0x362)](),'nodeType':this[_0x2e366f(0x744)][_0x2e366f(0x6e0)]['type'],'timestamp':(0x0,_0x2fd630[_0x2e366f(0x80d)])(),'report':_0x22cf96}),_0xe8f382['logEvent'](_0x2e366f(0x8e7),{'clusterId':this[_0x2e366f(0x744)][_0x2e366f(0x58c)],'nodeId':this[_0x2e366f(0x744)]['localNode']['getId'](),'nodeType':this['configs'][_0x2e366f(0x6e0)]['type'],'data':{'report':_0x22cf96}});},_0x2f4a82);}[_0x2ad6ba(0x7c3)](){const _0x1d0796=_0x2ad6ba;let _0x35d905=!0x1,_0x78ddb5=Date[_0x1d0796(0x9fc)]();return _0x401df5[_0x1d0796(0x338)](async()=>{const _0x4e63e0=_0x1d0796;if(_0x35d905)return;if(_0x35d905=!0x0,0x0===this['remoteNodes']['size'])return delete this[_0x4e63e0(0x7af)],void(_0x35d905=!0x1);const _0x540121=Date[_0x4e63e0(0x9fc)]();this['findNextNodeId']();try{await this[_0x4e63e0(0x744)]['mediator']['collectStats'](this[_0x4e63e0(0x7af)]);}catch(_0x56b7e3){}this['statsReport']['processLocalReport']({'secheduleTime':_0x540121-_0x78ddb5,'durationTime':Date[_0x4e63e0(0x9fc)]()-_0x540121}),_0x78ddb5=_0x540121,_0x35d905=!0x1;},_0x2ff5d3);}['findNextNodeId'](){const _0xbe28ed=_0x2ad6ba;let _0x8ffa2c,_0x5f21d7=!0x1;this[_0xbe28ed(0x7af)]&&(this['remoteNodes'][_0xbe28ed(0x98d)](this[_0xbe28ed(0x7af)])||delete this['nextNodeId']);for(const _0x1434f3 of this['remoteNodes'])if(_0x8ffa2c||(_0x8ffa2c=_0x1434f3),this[_0xbe28ed(0x7af)]!==_0x1434f3){if(_0x5f21d7)return void(this[_0xbe28ed(0x7af)]=_0x1434f3);}else _0x5f21d7=!0x0,delete this[_0xbe28ed(0x7af)];this['nextNodeId']||(this[_0xbe28ed(0x7af)]=_0x8ffa2c);}}class _0x263967{['source'];[_0x2ad6ba(0x993)];[_0x2ad6ba(0x5a2)];constructor(_0x2f0be6,_0x17b0be){const _0x21d420=_0x2ad6ba;this[_0x21d420(0x97d)]=_0x2f0be6,this[_0x21d420(0x993)]=_0x17b0be;}[_0x2ad6ba(0x3ba)](_0x1959cc){const _0x311932=_0x2ad6ba;this[_0x311932(0x5a2)]=_0x1959cc;}[_0x2ad6ba(0x460)](){delete this['systemTopic'];}}class _0x34b199 extends _0x263967{[_0x2ad6ba(0x97d)];[_0x2ad6ba(0x993)];[_0x2ad6ba(0x716)];constructor(_0x7a7725,_0x553ff1,_0x1e61da){const _0x4fa01d=_0x2ad6ba;super(_0x7a7725,_0x553ff1),this[_0x4fa01d(0x97d)]=_0x7a7725,this['destination']=_0x553ff1,this[_0x4fa01d(0x716)]=_0x1e61da;}[_0x2ad6ba(0x208)](_0x3886f2,_0x11d2bc,_0x322fe2){const _0x5c0614=_0x2ad6ba;if(this[_0x5c0614(0x993)][_0x5c0614(0x30c)]()===_0x406df3[_0x5c0614(0x525)][_0x5c0614(0x479)]){const _0x56501f={'type':_0x5340f1[_0x5c0614(0x8d3)],'label':this['destination'][_0x5c0614(0x5c3)](),'ownerId':_0x3886f2,'trackKinds':_0x11d2bc??this[_0x5c0614(0x993)][_0x5c0614(0x95b)](),'params':_0x322fe2};this['systemTopic'][_0x5c0614(0x29d)]({'sourceId':this[_0x5c0614(0x97d)][_0x5c0614(0x4a8)](),'destinationIds':[this[_0x5c0614(0x97d)][_0x5c0614(0x61e)]()],'messageType':_0x5f120e['Subscription'],'content':_0x56501f}),this[_0x5c0614(0x716)]=_0x322fe2;}}[_0x2ad6ba(0x9cc)](_0x1180d0,_0x2e18df){const _0x4c0832=_0x2ad6ba;if(this['destination']['getContentType']()===_0x406df3[_0x4c0832(0x525)][_0x4c0832(0x479)]){const _0x22a0ee={'type':_0x5340f1[_0x4c0832(0x404)],'label':this[_0x4c0832(0x993)]['getLabel'](),'ownerId':_0x1180d0,'params':_0x2e18df};this[_0x4c0832(0x5a2)]['publish']({'sourceId':this[_0x4c0832(0x97d)][_0x4c0832(0x4a8)](),'destinationIds':[this[_0x4c0832(0x97d)][_0x4c0832(0x61e)]()],'messageType':_0x5f120e[_0x4c0832(0x99c)],'content':_0x22a0ee}),this[_0x4c0832(0x716)]=_0x2e18df;}}['unsubscribe'](_0x296e76,_0x30c157,_0x295d04){const _0x475c0d=_0x2ad6ba;if(this[_0x475c0d(0x993)][_0x475c0d(0x30c)]()===_0x406df3[_0x475c0d(0x525)][_0x475c0d(0x479)]){const _0x897b9f={'type':_0x5340f1[_0x475c0d(0x978)],'label':this['destination'][_0x475c0d(0x5c3)](),'ownerId':_0x296e76,'trackKinds':_0x295d04??this[_0x475c0d(0x993)]['getAvailableTrackKinds'](),'remainingTracks':_0x30c157};this[_0x475c0d(0x5a2)][_0x475c0d(0x29d)]({'sourceId':this[_0x475c0d(0x97d)][_0x475c0d(0x4a8)](),'destinationIds':[this[_0x475c0d(0x97d)]['getRemoteId']()],'messageType':_0x5f120e[_0x475c0d(0x99c)],'content':_0x897b9f});}}}class _0x41ce4a{[_0x2ad6ba(0x680)];[_0x2ad6ba(0x985)];[_0x2ad6ba(0x171)];['systemTopic'];['answers']=new Set();[_0x2ad6ba(0x671)]=Date[_0x2ad6ba(0x9fc)]();[_0x2ad6ba(0x716)];[_0x2ad6ba(0x235)]=0x0;constructor(_0x5aab10,_0x299dfd,_0x35a6ed,_0x1ac248){const _0x1097f8=_0x2ad6ba;this[_0x1097f8(0x680)]=_0x299dfd,this[_0x1097f8(0x985)]=_0x35a6ed,this[_0x1097f8(0x171)]=_0x1ac248,_0x5aab10['forEach'](_0x5e83a1=>{const _0x268370=_0x1097f8;this[_0x268370(0x66e)][_0x268370(0x424)]({'nodeId':_0x5e83a1,'type':_0x46547a[_0x268370(0x4a9)]});});}[_0x2ad6ba(0x88a)](){return this['tracks'];}[_0x2ad6ba(0x3ba)](_0x4d12eb){const _0x5839de=_0x2ad6ba;this[_0x5839de(0x5a2)]=_0x4d12eb;}['unregisterSystemPublisher'](){const _0x5872d4=_0x2ad6ba;delete this[_0x5872d4(0x5a2)];}[_0x2ad6ba(0x536)](_0x34893b,_0x1ef758){const _0x2a73de=_0x2ad6ba;this[_0x2a73de(0x671)]=Date['now'](),this[_0x2a73de(0x66e)][_0x2a73de(0xa82)](),_0x34893b['forEach'](_0x49d2a2=>{const _0x1823cd=_0x2a73de;this['answers']['add']({'nodeId':_0x49d2a2,'type':_0x46547a[_0x1823cd(0x4a9)]});}),this['retryCount']+=0x1,this['currentDistance']=_0x1ef758;}['sendRequest'](_0x139419,_0x55235b,_0x4fa08f,_0x59e944,_0x3f07ee){const _0x1fffa5=_0x2ad6ba;if(this[_0x1fffa5(0x235)]>0xa)throw new _0x31ec66(_0x31ec66[_0x1fffa5(0x4b6)]['SubscriptionRequestNoAnswer'],{'answers':Array[_0x1fffa5(0x854)](this['answers'])['map'](_0x34c5c5=>({'nodeId':_0x34c5c5[_0x1fffa5(0x898)],'type':_0x34c5c5[_0x1fffa5(0x285)]}))});const _0x576e26=Array[_0x1fffa5(0x854)](this[_0x1fffa5(0x66e)])[_0x1fffa5(0x607)](_0x546b=>_0x546b[_0x1fffa5(0x898)]);this[_0x1fffa5(0x716)]=_0x3f07ee,this[_0x1fffa5(0x5a2)][_0x1fffa5(0x29d)]({'sourceId':_0x139419,'destinationIds':_0x576e26,'messageType':_0x5f120e[_0x1fffa5(0x99c)],'content':{'type':_0x5340f1[_0x1fffa5(0x69f)],'label':_0x4fa08f,'ownerId':_0x55235b,'trackKinds':_0x59e944,'params':_0x3f07ee}}),_0xe8f382[_0x1fffa5(0xa40)](_0x1b63ac[_0x1fffa5(0x99c)],_0x1fffa5(0x6fa),_0x139419,_0x576e26);}[_0x2ad6ba(0x9d2)](_0x2ffabf,_0x378429){const _0x43e6b0=_0x2ad6ba;switch(_0x378429[_0x43e6b0(0x285)]){case _0x5340f1['CanProvideMediaStream']:{const _0x1ff435=this['currentDistance']>=_0x378429[_0x43e6b0(0x373)]&&_0x378429['distance']<=this[_0x43e6b0(0x985)],_0x54ad51=Array[_0x43e6b0(0x854)](this[_0x43e6b0(0x66e)])[_0x43e6b0(0x2e0)](_0x1ed81a=>_0x1ed81a[_0x43e6b0(0x898)]===_0x2ffabf);_0x54ad51[_0x43e6b0(0x285)]=_0x1ff435?_0x46547a[_0x43e6b0(0x5ff)]:_0x46547a[_0x43e6b0(0x9da)],_0x54ad51[_0x43e6b0(0x83c)]=_0x378429[_0x43e6b0(0x83c)],_0x54ad51[_0x43e6b0(0x373)]=_0x378429['distance'],_0x54ad51[_0x43e6b0(0x77b)]=_0x378429[_0x43e6b0(0x77b)],_0x54ad51[_0x43e6b0(0x94b)]=Date['now']()-this[_0x43e6b0(0x671)],_0x54ad51[_0x43e6b0(0x716)]=this['params'],_0x54ad51[_0x43e6b0(0x568)]=_0x378429[_0x43e6b0(0x568)],_0x54ad51[_0x43e6b0(0x1e3)]=_0x378429['trackKinds'],_0x54ad51[_0x43e6b0(0x5a3)]=_0x378429['label'],_0xe8f382['log'](_0x1b63ac[_0x43e6b0(0x99c)],(_0x1ff435?_0x43e6b0(0x5ff):_0x43e6b0(0x9da))+_0x43e6b0(0x8c4),_0x54ad51);break;}case _0x5340f1[_0x43e6b0(0x7b7)]:{const _0x205eb9=Array[_0x43e6b0(0x854)](this['answers'])['find'](_0x203545=>_0x203545[_0x43e6b0(0x898)]===_0x2ffabf);_0x205eb9['type']=_0x46547a['Rejected'],_0xe8f382[_0x43e6b0(0xa40)](_0x1b63ac[_0x43e6b0(0x99c)],_0x43e6b0(0x357),_0x205eb9);break;}}if(this['canChooseAnswer']())return this['chooseAnswer']();}[_0x2ad6ba(0x6db)](){const _0x45fa32=_0x2ad6ba,_0x3dd33e=Array[_0x45fa32(0x854)](this[_0x45fa32(0x66e)])[_0x45fa32(0x1bc)](_0x357883=>_0x357883[_0x45fa32(0x285)]===_0x46547a[_0x45fa32(0x5ff)])[_0x45fa32(0xa22)]((_0x1d69f0,_0x75f0f)=>_0x1d69f0[_0x45fa32(0x83c)]===_0x75f0f['cost']?_0x1d69f0[_0x45fa32(0x94b)]-_0x75f0f[_0x45fa32(0x94b)]:_0x1d69f0[_0x45fa32(0x83c)]-_0x75f0f['cost']);if(0x0===_0x3dd33e[_0x45fa32(0x8e0)])throw new _0x31ec66(_0x31ec66[_0x45fa32(0x4b6)][_0x45fa32(0x349)],{'answers':Array[_0x45fa32(0x854)](this[_0x45fa32(0x66e)])[_0x45fa32(0x607)](_0x11d934=>({'nodeId':_0x11d934[_0x45fa32(0x898)],'type':_0x11d934[_0x45fa32(0x285)]}))});return _0xe8f382[_0x45fa32(0xa40)](_0x1b63ac['Subscription'],_0x45fa32(0x612),_0x3dd33e[0x0],this[_0x45fa32(0x66e)]),_0x3dd33e[0x0];}[_0x2ad6ba(0x485)](){const _0x33a9d4=_0x2ad6ba;for(const _0x1d264d of this[_0x33a9d4(0x66e)])if(_0x1d264d[_0x33a9d4(0x285)]===_0x46547a[_0x33a9d4(0x4a9)])return!0x1;return!0x0;}}class _0xf0a60a{[_0x2ad6ba(0x19d)];[_0x2ad6ba(0xaa2)];[_0x2ad6ba(0x398)]=_0x2af2eb();constructor(_0x5e6b47,_0x15775a){const _0x1e711c=_0x2ad6ba;this['label']=_0x5e6b47,this[_0x1e711c(0xaa2)]=_0x15775a;}[_0x2ad6ba(0x5c3)](){const _0x2689f6=_0x2ad6ba;return this[_0x2689f6(0x19d)];}['getContentType'](){const _0x3ff61a=_0x2ad6ba;return this[_0x3ff61a(0xaa2)];}['registerSource'](_0x4ba5d7){const _0x1e3c9=_0x2ad6ba;_0x4ba5d7[_0x1e3c9(0xa43)](this);}[_0x2ad6ba(0x92d)](_0x5f1680){_0x5f1680['registerSubscriber'](this);}['publish'](_0x4000c4){const _0x39ab91=_0x2ad6ba;this['listener'][_0x39ab91(0x29d)]({'topicLabel':this[_0x39ab91(0x19d)],'contentType':this[_0x39ab91(0xaa2)],'uuid':(0x0,_0x145036['v4'])(),'recipients':[],..._0x4000c4});}[_0x2ad6ba(0x208)](_0x5eda8e){const _0x56125e=_0x2ad6ba;return this[_0x56125e(0x398)][_0x56125e(0x208)](_0x5eda8e);}[_0x2ad6ba(0x635)](_0xf16558){_0xf16558['unregisterPublisher'](this);}[_0x2ad6ba(0x198)](_0x58fd65){const _0x9a3c79=_0x2ad6ba;_0x58fd65[_0x9a3c79(0x5d9)](this);}}class _0x1377dc{['maps']={'topics':new Map(),'subscriptions':new Map()};['getPartsFromSubscription'];constructor(_0x2f1e69){const _0x567a65=_0x2ad6ba;this[_0x567a65(0x8c5)]=_0x2f1e69;}get[_0x2ad6ba(0x5e6)](){const _0x1cae85=_0x2ad6ba;return this[_0x1cae85(0x43c)][_0x1cae85(0x5e6)];}get[_0x2ad6ba(0x53d)](){const _0x53e3b1=_0x2ad6ba;return this[_0x53e3b1(0x43c)][_0x53e3b1(0x53d)];}['createSubscription'](_0x27ee0d,_0x23b366){const _0x2037f9=_0x2ad6ba,_0x5333cd=this[_0x2037f9(0x8c5)](_0x23b366),_0x18b2e5=_0x4df53f(_0x27ee0d);if(!_0x5333cd[_0x2037f9(0x7d1)])throw new _0x31ec66(_0x31ec66[_0x2037f9(0x4b6)][_0x2037f9(0x284)],{'message':_0x18b2e5+':\x20'+_0x5333cd['remoteId']+_0x2037f9(0x907)+_0x5333cd[_0x2037f9(0xaa2)],'subscriptionType':_0x27ee0d,'subscription':_0x23b366,'subscriptonParts':_0x5333cd});const _0x2893d9=_0x138dbf(_0x27ee0d,_0x5333cd);if(this[_0x2037f9(0x43c)]['subscriptions'][_0x2037f9(0x98d)](_0x2893d9))throw new _0x31ec66(_0x31ec66[_0x2037f9(0x4b6)][_0x2037f9(0x284)],{'message':_0x18b2e5+':\x20'+_0x2893d9+'\x20already\x20exists','subscriptionType':_0x27ee0d,'subscription':_0x23b366,'subscriptonParts':_0x5333cd});this[_0x2037f9(0x43c)][_0x2037f9(0x5e6)][_0x2037f9(0x50f)](_0x2893d9,_0x23b366),this[_0x2037f9(0x7dd)](_0x5333cd,_0x23b366);}[_0x2ad6ba(0x60e)](_0x3c2cf4,_0x3832cb){const _0x1f14b7=_0x2ad6ba,_0x73fada=_0x138dbf(_0x3832cb,_0x3c2cf4),_0x432222=this[_0x1f14b7(0x43c)][_0x1f14b7(0x5e6)][_0x1f14b7(0x736)](_0x73fada);if(!_0x432222)throw new _0x31ec66(_0x31ec66['codes'][_0x1f14b7(0x284)],{'message':_0x4df53f(_0x3832cb)+':\x20'+_0x73fada+'\x20does\x20not\x20exists','subscriptionType':_0x3832cb,'subscription':_0x432222,'subscriptonParts':_0x3c2cf4});this[_0x1f14b7(0x526)](_0x432222,_0x73fada,_0x3c2cf4);}['closeSubscription'](_0x558db4,_0x187cf1,_0x4a6c3a){const _0x288148=_0x2ad6ba;_0x4a6c3a=_0x4a6c3a||this['getPartsFromSubscription'](_0x558db4),this['maps'][_0x288148(0x5e6)][_0x288148(0xa12)](_0x187cf1),this['removeTopic'](_0x4a6c3a,_0x558db4);}['createTopic'](_0x56d0ee,{source:_0x34eb18,destination:_0x5d5c3b}){const _0x2eeac7=_0x2ad6ba,{contentType:_0x5f07ad,label:_0x2be096,remoteId:_0x369ab5}=_0x56d0ee,_0x3cc080=_0x58867d(_0x5f07ad,_0x2be096,_0x369ab5),_0x5ee715=new _0xf0a60a(_0x3cc080,_0x5f07ad);_0x5ee715[_0x2eeac7(0x2f2)](_0x34eb18),_0x5ee715[_0x2eeac7(0x92d)](_0x5d5c3b),this[_0x2eeac7(0x43c)][_0x2eeac7(0x53d)][_0x2eeac7(0x50f)](_0x5ee715[_0x2eeac7(0x5c3)](),_0x5ee715);}[_0x2ad6ba(0x757)](_0x4d4f1d,_0x1b2841){const _0x245082=_0x2ad6ba,{contentType:_0x5d239f,label:_0x3b6a8c,remoteId:_0x126b6e}=_0x4d4f1d,_0x2dc083=_0x58867d(_0x5d239f,_0x3b6a8c,_0x126b6e),_0x3d8b3c=this[_0x245082(0x43c)][_0x245082(0x53d)][_0x245082(0x736)](_0x2dc083);_0x3d8b3c&&(this[_0x245082(0x16e)](_0x3d8b3c,_0x1b2841),this[_0x245082(0x43c)][_0x245082(0x53d)]['delete'](_0x2dc083));}['closeTopic'](_0xca3a78,{source:_0x109f28,destination:_0x125c46}){const _0x5a4a2a=_0x2ad6ba;_0xca3a78[_0x5a4a2a(0x635)](_0x109f28),_0xca3a78['unregisterDestination'](_0x125c46);}[_0x2ad6ba(0x6c8)](_0x3d3e58){const _0x4040fd=_0x2ad6ba;this[_0x4040fd(0x43c)][_0x4040fd(0x5e6)][_0x4040fd(0x9a0)]((_0x41623b,_0x4b0ef7)=>{const _0x3b8196=_0x4040fd;_0x4b0ef7[_0x3b8196(0xa87)](_0x3d3e58)&&this[_0x3b8196(0x526)](_0x41623b,_0x4b0ef7);});}}class _0x58809c{['configs'];[_0x2ad6ba(0x985)];[_0x2ad6ba(0x239)]=new Map();[_0x2ad6ba(0x71c)]=_0xb475cb(new _0x1d14d9(this[_0x2ad6ba(0x214)]['bind'](this),()=>_0x401df5[_0x2ad6ba(0x602)](0x64)),!0x0);['subscriptionRequestTimeouts']=new Map();[_0x2ad6ba(0x43c)];['chosenAnswers']=new Map();constructor(_0x5b6dc2,_0x22c45e){const _0x4d92b3=_0x2ad6ba;this[_0x4d92b3(0x744)]=_0x5b6dc2,this[_0x4d92b3(0x985)]=_0x22c45e,this[_0x4d92b3(0x43c)]=new _0x1377dc(({source:_0x499934,destination:_0x2061c7})=>_0x45ee74(_0x2061c7,_0x499934));}[_0x2ad6ba(0x9ee)](_0x1a4010,_0x3f51c2){const _0x15a4d1=_0x2ad6ba,_0x367b4b=this['isMediaSource'](_0x1a4010)&&this[_0x15a4d1(0x779)](_0x3f51c2)?new _0x34b199(_0x1a4010,_0x3f51c2):new _0x263967(_0x1a4010,_0x3f51c2);this[_0x15a4d1(0x43c)][_0x15a4d1(0x9ee)](_0x5af75a[_0x15a4d1(0x177)],_0x367b4b),this[_0x15a4d1(0x744)]['mediator'][_0x15a4d1(0xa24)](_0x367b4b);}[_0x2ad6ba(0x60e)](_0x13ba0d,_0x256ed4,_0x459e2a=''){const _0x9c29a3=_0x2ad6ba,_0xdf6ddc={'contentType':_0x256ed4,'label':_0x13ba0d,'remoteId':_0x459e2a},_0x2a3156=_0x138dbf(_0x5af75a['Incoming'],_0xdf6ddc),_0xe25f37=this[_0x9c29a3(0x43c)]['subscriptions']['get'](_0x2a3156);_0xe25f37&&this['closeSubscription'](_0xe25f37,_0x2a3156);}[_0x2ad6ba(0x184)](_0x392bd8){const _0x4eeed0=_0x2ad6ba;this[_0x4eeed0(0xa5b)](_0x392bd8);}[_0x2ad6ba(0x1cb)]({label:_0x38b062,ownerId:_0x51e091,trackKinds:_0xf99005,params:_0x2b02e1}){this['requestSubscription'](_0x38b062,_0x51e091,_0xf99005,_0x2b02e1);}[_0x2ad6ba(0x419)]({ownerId:_0x4ab0a4,label:_0xc74d4a,params:_0x39bb61}){const _0x2df97a=_0x2ad6ba,{subscriptionLabel:_0xbdf308}=this[_0x2df97a(0x937)](_0xc74d4a,_0x4ab0a4),_0x4ed761=this['getMediaSubscription'](_0xbdf308);_0x4ed761&&_0x4ed761['update'](_0x4ab0a4,_0x39bb61);}[_0x2ad6ba(0x3e8)]({ownerId:_0x24cd8f,label:_0x1dd7c3,trackKinds:_0x31de7d,remainingTracks:_0x124f83}){const _0x51c175=_0x2ad6ba,_0x4399cb=_0x138dbf(_0x5af75a[_0x51c175(0x177)],{'contentType':_0x406df3[_0x51c175(0x525)][_0x51c175(0x479)],'label':_0x1dd7c3,'remoteId':_0x24cd8f});this[_0x51c175(0x8fc)](_0x4399cb);const _0x3455bf=this[_0x51c175(0x239)][_0x51c175(0x736)](_0x4399cb);_0x3455bf&&(this[_0x51c175(0x744)][_0x51c175(0x5fc)]['unregisterSystemSource'](_0x3455bf),this[_0x51c175(0x239)][_0x51c175(0xa12)](_0x4399cb));const {parts:_0x450778,subscriptionLabel:_0x2c7fef}=this['getSubscriptionLabel'](_0x1dd7c3,_0x24cd8f),_0x5c558a=this[_0x51c175(0x2b1)](_0x2c7fef);_0x5c558a&&(_0x5c558a['unsubscribe'](_0x24cd8f,_0x124f83,_0x31de7d),0x0===_0x124f83&&this['removeSubscription'](_0x450778[_0x51c175(0x19d)],_0x450778[_0x51c175(0xaa2)],_0x450778[_0x51c175(0x64e)]));}[_0x2ad6ba(0x4db)](_0x366215,{label:_0x4838d9,ownerId:_0x3256e6,trackKinds:_0x3c5362,streamId:_0x3aa6ac,params:_0x38393c}){const _0x3dee27=_0x2ad6ba,_0x5cad4a=_0x138dbf(_0x5af75a[_0x3dee27(0x177)],{'contentType':_0x406df3[_0x3dee27(0x525)]['Media'],'label':_0x3aa6ac,'remoteId':_0x366215}),_0x247084=this['maps'][_0x3dee27(0x5e6)][_0x3dee27(0x736)](_0x5cad4a);if(!(_0x247084&&_0x247084 instanceof _0x34b199))throw new _0x31ec66(_0x31ec66[_0x3dee27(0x4b6)][_0x3dee27(0x40c)],{'label':_0x5cad4a,'ownerId':_0x3256e6});this[_0x3dee27(0x526)](_0x247084,_0x5cad4a),this[_0x3dee27(0x535)](_0x4838d9,_0x3256e6,_0x3c5362,_0x38393c);}[_0x2ad6ba(0x78e)](_0x323ef2,_0x121572){const _0x3b1851=_0x2ad6ba,{label:_0x5de0d0,ownerId:_0x5c796e,trackKinds:_0x443ad7,params:_0x1a0eb8}=_0x121572,_0x47d9cc=_0x138dbf(_0x5af75a[_0x3b1851(0x177)],{'contentType':_0x406df3[_0x3b1851(0x525)][_0x3b1851(0x479)],'label':_0x5de0d0,'remoteId':_0x5c796e});if(!this[_0x3b1851(0x239)]['has'](_0x47d9cc))throw new _0x31ec66(_0x31ec66['codes'][_0x3b1851(0x40c)],{'label':_0x47d9cc,'ownerId':_0x5c796e,'streamId':_0x121572['streamId'],'requests':this[_0x3b1851(0x239)]});const _0x7518db=this[_0x3b1851(0x239)][_0x3b1851(0x736)](_0x47d9cc);if(_0x443ad7['length']===_0x7518db['getTracks']()[_0x3b1851(0x8e0)]&&_0x443ad7['every'](_0x1a3f96=>_0x7518db[_0x3b1851(0x88a)]()[_0x3b1851(0x205)](_0x1a3f96)))try{const _0x44d4ec=_0x7518db[_0x3b1851(0x9d2)](_0x323ef2,_0x121572);if(!_0x44d4ec)return;this['subscribe'](_0x44d4ec,_0x5c796e,_0x5de0d0,_0x47d9cc,_0x443ad7);}catch(_0x4e7a1b){return void this[_0x3b1851(0xa39)](_0x5de0d0,_0x5c796e,_0x443ad7,_0x1a0eb8);}}[_0x2ad6ba(0x1ea)](_0x111c81,{label:_0x5bd9ec,ownerId:_0x3ca459,trackKinds:_0x3ca74a}){const _0x1b39a1=_0x2ad6ba,_0x379974=this[_0x1b39a1(0x744)][_0x1b39a1(0x5fc)][_0x1b39a1(0x2a3)](_0x3ca459,_0x5bd9ec);if(!_0x379974)return;const _0x55406e=_0x379974[_0x1b39a1(0x3af)](),_0x174851=_0x379974[_0x1b39a1(0x796)]();_0x174851[_0x1b39a1(0x4df)](_0x535e39=>_0x3ca74a[_0x1b39a1(0x205)](_0x535e39))&&this[_0x1b39a1(0x4a3)](_0x111c81,_0x5bd9ec,_0x55406e,_0x3ca459,_0x174851);}[_0x2ad6ba(0x76d)]({label:_0x394982,providerId:_0x2005d0,ownerId:_0x2e3c6d,streamId:_0xf844ba,trackKinds:_0x5d3ce0}){const _0x52ad93=_0x2ad6ba;this[_0x52ad93(0x4a3)](_0x2005d0,_0x394982,_0xf844ba,_0x2e3c6d,_0x5d3ce0);}['handleOptimizationConnectionSuccess'](_0x372303){const _0x59874a=_0x2ad6ba;for(const _0x1e31fd of this[_0x59874a(0x66a)][_0x59874a(0x9c1)]()){const {streamLabel:_0x208b41,ownerId:_0x57a734,trackKinds:_0x585f55,params:_0x1b9753}=_0x1e31fd;if(!_0x57a734||!_0x585f55||!_0x208b41)return;this[_0x59874a(0x71c)][_0x59874a(0x673)]({'label':_0x208b41,'ownerId':_0x57a734,'trackKinds':_0x585f55,'params':_0x1b9753,'remoteId':_0x372303});}}[_0x2ad6ba(0x6c8)](_0x5c2cd7){const _0x3fe31d=_0x2ad6ba;this[_0x3fe31d(0x43c)][_0x3fe31d(0x5e6)][_0x3fe31d(0x9a0)]((_0x4a6ee2,_0x5e8053)=>{const _0x4fbda8=_0x3fe31d;if(_0x5e8053[_0x4fbda8(0xa87)](_0x5c2cd7)){if(_0x4a6ee2[_0x4fbda8(0x993)]['getContentType']()===_0x406df3[_0x4fbda8(0x525)][_0x4fbda8(0x479)]){const _0x2d5631=_0x4a6ee2['destination'];if(_0x2d5631[_0x4fbda8(0x796)]()['length']>0x0){const _0x2b9355={'type':_0x5340f1[_0x4fbda8(0x786)],'label':_0x2d5631[_0x4fbda8(0x5c3)](),'ownerId':_0x2d5631['getOwnerId'](),'trackKinds':_0x2d5631[_0x4fbda8(0x796)]()};return void this['handleSubscriptionMediaStreamUnavailable'](_0x5c2cd7,_0x2b9355);}}this['closeSubscription'](_0x4a6ee2,_0x5e8053);}});}['close'](){const _0x215313=_0x2ad6ba;this[_0x215313(0x43c)][_0x215313(0x5e6)][_0x215313(0x9a0)](this[_0x215313(0x526)][_0x215313(0xa0a)](this));}[_0x2ad6ba(0x208)](_0x6e8451,_0x596d42,_0x4f3bab,_0x2d0114,_0x2fcede){const _0x44aaad=_0x2ad6ba,_0x23ae91=this[_0x44aaad(0x744)]['mediator']['getConnection'](_0x6e8451[_0x44aaad(0x898)]),_0x3c8e90=this['configs'][_0x44aaad(0x5fc)][_0x44aaad(0x2a3)](_0x596d42,_0x4f3bab);this[_0x44aaad(0x8fc)](_0x2d0114),this[_0x44aaad(0x239)][_0x44aaad(0x98d)](_0x2d0114)&&(this[_0x44aaad(0x744)][_0x44aaad(0x5fc)][_0x44aaad(0x1dc)](this[_0x44aaad(0x239)]['get'](_0x2d0114)),this['subscriptionRequests'][_0x44aaad(0xa12)](_0x2d0114)),this[_0x44aaad(0x41f)](_0x6e8451,_0x596d42,_0x4f3bab,_0x3c8e90),_0x3c8e90[_0x44aaad(0x9f4)](_0x6e8451[_0x44aaad(0x77b)]),_0x3c8e90[_0x44aaad(0x328)](_0x6e8451[_0x44aaad(0x898)]);const _0x2ac4f3=_0x45ee74(_0x3c8e90,_0x23ae91),_0x165e13=_0x138dbf(_0x5af75a[_0x44aaad(0x177)],_0x2ac4f3);this['maps']['subscriptions'][_0x44aaad(0x98d)](_0x165e13)||this[_0x44aaad(0x9ee)](_0x23ae91,_0x3c8e90);const _0xed9b7=this[_0x44aaad(0x43c)][_0x44aaad(0x5e6)][_0x44aaad(0x736)](_0x165e13);if(!(_0xed9b7&&_0xed9b7 instanceof _0x34b199))throw new _0x31ec66(_0x31ec66[_0x44aaad(0x4b6)]['SubscriptionRequestDoesNotExist'],{'label':_0x2d0114,'ownerId':_0x596d42});_0xe8f382['logEvent'](_0x44aaad(0x8ae),{'clusterId':this[_0x44aaad(0x744)][_0x44aaad(0x58c)],'nodeId':this[_0x44aaad(0x744)]['localNode'][_0x44aaad(0x362)](),'nodeType':this[_0x44aaad(0x744)][_0x44aaad(0x6e0)]['type'],'data':{'subscriptionLabel':_0x165e13,'chosenAnswer':_0x6e8451}}),this['chosenAnswers'][_0x44aaad(0x50f)](_0x165e13,_0x6e8451),_0xed9b7['subscribe'](_0x596d42,_0x2fcede,_0x6e8451[_0x44aaad(0x716)]);}['removeRemoteStreamSubscription']({ownerId:_0x5e692f,label:_0x329db5}){const _0x44e2cf=_0x2ad6ba,_0x146e83=this[_0x44e2cf(0x744)][_0x44e2cf(0x5fc)][_0x44e2cf(0x2a3)](_0x5e692f,_0x329db5),[_0x433d39,_0x324f0d]=Array['from'](this[_0x44e2cf(0x43c)]['subscriptions'][_0x44e2cf(0x866)]())[_0x44e2cf(0x2e0)](([_0x1a89a2,_0x2bb9ad])=>-0x1!==_0x1a89a2[_0x44e2cf(0x82d)](_0x146e83[_0x44e2cf(0x3af)]()));return this['closeSubscription'](_0x324f0d,_0x433d39);}['closeSubscription'](_0x3f61a4,_0x5327ce){const _0x5833c5=_0x2ad6ba;this[_0x5833c5(0x744)][_0x5833c5(0x5fc)]['unregisterSystemSource'](_0x3f61a4),this['maps'][_0x5833c5(0x526)](_0x3f61a4,_0x5327ce);}[_0x2ad6ba(0x6e2)](_0x3ef751){const _0x17fe23=_0x2ad6ba;return _0x3ef751['getSupportedContentTypes']()[_0x17fe23(0x205)](_0x406df3[_0x17fe23(0x525)][_0x17fe23(0x479)]);}['isMediaDestination'](_0x380076){const _0x1e1abd=_0x2ad6ba;return _0x380076[_0x1e1abd(0x30c)]()===_0x406df3[_0x1e1abd(0x525)][_0x1e1abd(0x479)];}async['handleNoAnswer'](_0xa7d4b8,_0x5559e8,_0xc40652,_0x4d3588){const _0x3911a0=_0x2ad6ba;await _0x401df5[_0x3911a0(0x602)](0x3e8);const _0x5d7cf4=_0x138dbf(_0x5af75a['Incoming'],{'contentType':_0x406df3[_0x3911a0(0x525)]['Media'],'label':_0xa7d4b8,'remoteId':_0x5559e8});this[_0x3911a0(0x8fc)](_0x5d7cf4);const _0x165ee7=this[_0x3911a0(0x239)][_0x3911a0(0x736)](_0x5d7cf4);if(!_0x165ee7)throw new _0x31ec66(_0x31ec66['codes'][_0x3911a0(0x40c)],{'label':_0x5d7cf4,'ownerId':_0x5559e8});const _0x38dcfe=this[_0x3911a0(0x744)][_0x3911a0(0x5fc)][_0x3911a0(0x87c)](_0x331b05=>_0x331b05[_0x3911a0(0x881)]()),_0x556891=this[_0x3911a0(0x744)][_0x3911a0(0x5fc)]['getDistance'](this['configs'][_0x3911a0(0x6e0)][_0x3911a0(0x362)](),_0x5559e8);_0x165ee7['reset'](_0x38dcfe[_0x3911a0(0x607)](_0x4f8fc6=>_0x4f8fc6['getRemoteId']()),_0x556891);try{_0x165ee7['sendRequest'](this[_0x3911a0(0x744)][_0x3911a0(0x6e0)][_0x3911a0(0x362)](),_0x5559e8,_0xa7d4b8,_0xc40652,_0x4d3588),this[_0x3911a0(0x626)](_0xa7d4b8,_0x5559e8,_0xc40652,_0x4d3588,_0x5d7cf4,_0x165ee7);}catch(_0x452efe){this['subscriptionRequestsQueue']['push']({'label':_0xa7d4b8,'ownerId':_0x5559e8,'trackKinds':_0xc40652,'params':_0x4d3588});}}[_0x2ad6ba(0x535)](_0x239512,_0xe62a61,_0x46f4eb,_0x327ceb){this['subscriptionRequestsQueue']['push']({'label':_0x239512,'ownerId':_0xe62a61,'trackKinds':_0x46f4eb,'params':_0x327ceb});}['requestSubscriptionAction']({label:_0x55c17d,ownerId:_0x373336,trackKinds:_0x3679f1,params:_0x92381d,remoteId:_0x2007de}){const _0x2396ac=_0x2ad6ba;if(!this['configs'][_0x2396ac(0x5fc)][_0x2396ac(0x2a3)](_0x373336,_0x55c17d))return;if(!this[_0x2396ac(0x744)][_0x2396ac(0x5fc)]['getLocalNode']()['getRank']())throw new Error(_0x2396ac(0x4a7));if(_0x2007de){const _0x6fa8a0=this[_0x2396ac(0x744)]['mediator'][_0x2396ac(0x734)]()[_0x2396ac(0x2e0)](_0x1f98ad=>_0x1f98ad[_0x2396ac(0x362)]()===_0x2007de),_0x7d5ee=_0x6fa8a0?.[_0x2396ac(0x515)]();if(!_0x6fa8a0||!_0x7d5ee)throw new Error('Missing\x20remote\x20node\x20or\x20rank');const _0x123a0f=this[_0x2396ac(0x744)]['mediator']['getRemoteNodes']()[_0x2396ac(0x2e0)](_0xcce70f=>_0xcce70f[_0x2396ac(0x362)]()===_0x373336),_0x4bad86=_0x123a0f?.['getRank']();if(!_0x123a0f||!_0x4bad86)throw new Error(_0x2396ac(0x7ac));const _0x21dde4=this[_0x2396ac(0x66a)][_0x2396ac(0x736)](_0x55c17d);if(_0x21dde4){const _0x4ceb56=this[_0x2396ac(0x744)]['mediator'][_0x2396ac(0x734)]()[_0x2396ac(0x2e0)](_0x1cc649=>_0x1cc649[_0x2396ac(0x362)]()===_0x21dde4['nodeId']),_0x5ac5e9=_0x4ceb56?.[_0x2396ac(0x515)]();if(!_0x4ceb56||!_0x5ac5e9)throw new Error('Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank');if(Math[_0x2396ac(0x6a1)](_0x5ac5e9-_0x4bad86)<Math[_0x2396ac(0x6a1)](_0x7d5ee-_0x4bad86))return;}}const _0x249e2c=this[_0x2396ac(0x744)]['mediator']['getConnections'](_0x554344=>_0x554344[_0x2396ac(0x881)]()&&(!_0x2007de||_0x554344['getRemoteId']()===_0x2007de));if(!_0x249e2c['length']||0x0===_0x249e2c[_0x2396ac(0x8e0)])throw new Error(_0x2396ac(0x888));const _0x370b99=this[_0x2396ac(0x744)]['mediator'][_0x2396ac(0x395)](this[_0x2396ac(0x744)][_0x2396ac(0x6e0)][_0x2396ac(0x362)](),_0x373336),_0x8ba5a4=_0x138dbf(_0x5af75a[_0x2396ac(0x177)],{'contentType':_0x406df3[_0x2396ac(0x525)][_0x2396ac(0x479)],'label':_0x55c17d,'remoteId':_0x373336});if(this[_0x2396ac(0x239)][_0x2396ac(0x98d)](_0x8ba5a4)){if(_0x2007de)throw new Error(_0x2396ac(0x864));const _0x575e57=this[_0x2396ac(0x239)][_0x2396ac(0x736)](_0x8ba5a4)[_0x2396ac(0x88a)]();if(_0x575e57['length']===_0x3679f1[_0x2396ac(0x8e0)]&&_0x575e57[_0x2396ac(0x595)](_0x264214=>_0x3679f1[_0x2396ac(0x205)](_0x264214)))return;this[_0x2396ac(0x744)][_0x2396ac(0x5fc)]['unregisterSystemSource'](this[_0x2396ac(0x239)][_0x2396ac(0x736)](_0x8ba5a4)),this[_0x2396ac(0x239)][_0x2396ac(0xa12)](_0x8ba5a4),_0x3679f1=Array[_0x2396ac(0x854)](new Set(_0x3679f1[_0x2396ac(0x992)](_0x575e57))),this[_0x2396ac(0x8fc)](_0x8ba5a4);}const _0x37fc95=new _0x41ce4a(_0x249e2c[_0x2396ac(0x607)](_0x41610f=>_0x41610f[_0x2396ac(0x61e)]()),_0x370b99,this[_0x2396ac(0x985)],_0x3679f1);this[_0x2396ac(0x744)][_0x2396ac(0x5fc)][_0x2396ac(0xa24)](_0x37fc95),this[_0x2396ac(0x239)][_0x2396ac(0x50f)](_0x8ba5a4,_0x37fc95),_0x37fc95['sendRequest'](this[_0x2396ac(0x744)][_0x2396ac(0x6e0)][_0x2396ac(0x362)](),_0x373336,_0x55c17d,_0x3679f1,_0x92381d),this[_0x2396ac(0x626)](_0x55c17d,_0x373336,_0x3679f1,_0x92381d,_0x8ba5a4,_0x37fc95);}['clearSubscriptionRequestTimeout'](_0xdd49a){const _0x55a187=_0x2ad6ba;this[_0x55a187(0x989)]['has'](_0xdd49a)&&(clearTimeout(this[_0x55a187(0x989)][_0x55a187(0x736)](_0xdd49a)),this['subscriptionRequestTimeouts'][_0x55a187(0xa12)](_0xdd49a));}[_0x2ad6ba(0x626)](_0x1453dd,_0x4c8969,_0x5605ad,_0x3d171c,_0x28577f,_0x4b0641){const _0x17511b=_0x2ad6ba;this[_0x17511b(0x8fc)](_0x28577f),this[_0x17511b(0x989)][_0x17511b(0x50f)](_0x28577f,setTimeout(()=>{const _0x582f60=_0x17511b;this['subscriptionRequestTimeouts'][_0x582f60(0xa12)](_0x28577f);try{const _0x295850=_0x4b0641[_0x582f60(0x6db)]();this[_0x582f60(0x208)](_0x295850,_0x4c8969,_0x1453dd,_0x28577f,_0x5605ad);}catch(_0x4906a8){this[_0x582f60(0xa39)](_0x1453dd,_0x4c8969,_0x5605ad,_0x3d171c);}},0x7d0));}[_0x2ad6ba(0x4a3)](_0x1e8d65,_0x4f6f25,_0x339dc8,_0x5f45c3,_0x3859b8){const _0x1ec6e8=_0x2ad6ba,{subscriptionLabel:_0x49410c}=this['getSubscriptionLabel'](_0x4f6f25,_0x5f45c3),_0x444239=this[_0x1ec6e8(0x2b1)](_0x49410c),_0xcd9cac=_0x444239?.['params'];_0x444239&&(_0x444239[_0x1ec6e8(0x99f)](_0x5f45c3,0x0),this['removeSubscription'](_0x339dc8,_0x406df3['ContentType'][_0x1ec6e8(0x479)],_0x1e8d65)),this[_0x1ec6e8(0x535)](_0x4f6f25,_0x5f45c3,_0x3859b8,_0xcd9cac);}[_0x2ad6ba(0x2b1)](_0x597022){const _0x5b7572=_0x2ad6ba,_0xbbbe6f=this['maps'][_0x5b7572(0x5e6)]['get'](_0x597022);if(_0xbbbe6f){if(!(_0xbbbe6f instanceof _0x34b199))throw new _0x31ec66(_0x31ec66['codes'][_0x5b7572(0x284)],{'label':_0x597022,'subscription':_0xbbbe6f});return _0xbbbe6f;}}[_0x2ad6ba(0x937)](_0x26c942,_0x53c83a){const _0x57b04a=_0x2ad6ba,_0x2ff070=this[_0x57b04a(0x54c)](_0x26c942,_0x53c83a);return{'parts':_0x2ff070,'subscriptionLabel':_0x138dbf(_0x5af75a['Incoming'],_0x2ff070)};}[_0x2ad6ba(0x54c)](_0x257f7f,_0x31ef0e){const _0x35ab02=_0x2ad6ba,_0x17a908=this[_0x35ab02(0x744)]['mediator'][_0x35ab02(0x2a3)](_0x31ef0e,_0x257f7f),_0x568e6d=_0x17a908[_0x35ab02(0x1c4)]();if(!_0x568e6d)throw new _0x31ec66(_0x31ec66[_0x35ab02(0x4b6)][_0x35ab02(0x55c)],{'label':_0x257f7f,'streamId':_0x17a908['getInternalStreamId'](),'ownerId':_0x31ef0e,'localId':this[_0x35ab02(0x744)]['localNode'][_0x35ab02(0x362)]()});return{'contentType':_0x406df3[_0x35ab02(0x525)]['Media'],'label':_0x17a908[_0x35ab02(0x3af)](),'remoteId':_0x568e6d};}[_0x2ad6ba(0x41f)](_0x4a516c,_0x5db561,_0x4073b9,_0x1b772b){const _0x36ec08=_0x2ad6ba,_0x378528=_0x1b772b[_0x36ec08(0x1c4)]();if(_0x378528&&_0x378528!==_0x4a516c[_0x36ec08(0x898)]){const {parts:_0x123d4e,subscriptionLabel:_0x2a9b2c}=this[_0x36ec08(0x937)](_0x4073b9,_0x5db561),_0x4dec37=this[_0x36ec08(0x2b1)](_0x2a9b2c);_0x4dec37&&(_0x4dec37[_0x36ec08(0x99f)](_0x5db561,0x0),this[_0x36ec08(0x60e)](_0x123d4e[_0x36ec08(0x19d)],_0x123d4e[_0x36ec08(0xaa2)],_0x123d4e['remoteId']));}}}class _0x380c20{[_0x2ad6ba(0x744)];[_0x2ad6ba(0x4ff)];[_0x2ad6ba(0x43c)];constructor(_0x46bac9,_0x5ceb6e){const _0x26195c=_0x2ad6ba;this[_0x26195c(0x744)]=_0x46bac9,this[_0x26195c(0x4ff)]=_0x5ceb6e,this[_0x26195c(0x43c)]=new _0x1377dc(({source:_0x44dff7,destination:_0x3d77ba})=>_0x45ee74(_0x44dff7,_0x3d77ba));}['createSubscription'](_0x1952f7,_0x3666d5){const _0x5064ab=_0x2ad6ba,_0x392015={'source':_0x1952f7,'destination':_0x3666d5};this[_0x5064ab(0x43c)][_0x5064ab(0x9ee)](_0x5af75a[_0x5064ab(0x309)],_0x392015);}[_0x2ad6ba(0x60e)](_0x58b562,_0x44cead,_0x3cebce=''){const _0x251efa=_0x2ad6ba,_0x58de54={'contentType':_0x44cead,'label':_0x58b562,'remoteId':_0x3cebce};this[_0x251efa(0x43c)][_0x251efa(0x60e)](_0x58de54,_0x5af75a[_0x251efa(0x309)]);}[_0x2ad6ba(0x330)](_0x2f0893,_0x10cf3f){const _0x293a4e=_0x2ad6ba;let _0x2c470b;_0x2c470b=_0x10cf3f[_0x293a4e(0x568)]!==this['configs']['localNode']['getId']()?this['configs']['mediator'][_0x293a4e(0x2a3)](_0x10cf3f[_0x293a4e(0x568)],_0x10cf3f[_0x293a4e(0x19d)]):this[_0x293a4e(0x744)][_0x293a4e(0x5fc)][_0x293a4e(0x724)](_0x10cf3f[_0x293a4e(0x19d)]);const _0x756d9c=_0x138dbf(_0x5af75a['Outgoing'],{'contentType':_0x406df3[_0x293a4e(0x525)][_0x293a4e(0x479)],'label':_0x2c470b[_0x293a4e(0x19f)](),'remoteId':_0x2f0893}),_0x56e7f8=this['getNumberOutgoingSubscriptions']();if(!this['maps']['subscriptions'][_0x293a4e(0x98d)](_0x756d9c)&&_0x56e7f8>=this[_0x293a4e(0x4ff)])return{'type':_0x5340f1['RestartNeedMediaStream'],'ownerId':_0x10cf3f['ownerId'],'label':_0x10cf3f[_0x293a4e(0x19d)],'streamId':_0x2c470b[_0x293a4e(0x19f)](),'trackKinds':_0x10cf3f[_0x293a4e(0x1e3)],'params':_0x10cf3f[_0x293a4e(0x716)]};_0x2c470b instanceof _0x23c40f&&!_0x2c470b['isSubscribed'](_0x10cf3f['trackKinds'])&&_0x2c470b[_0x293a4e(0x208)](_0x10cf3f[_0x293a4e(0x716)]),this[_0x293a4e(0x43c)][_0x293a4e(0x5e6)]['has'](_0x756d9c)||this[_0x293a4e(0x9ee)](_0x2c470b[_0x293a4e(0x32e)](_0x2f0893),this['configs'][_0x293a4e(0x5fc)][_0x293a4e(0x9dc)](_0x2f0893));}[_0x2ad6ba(0x56a)](_0x4be683,{label:_0x43885a,ownerId:_0x5ab2b5,remainingTracks:_0x493088}){const _0x4c863d=_0x2ad6ba;if(_0x493088>0x0)return;let _0x737e18;_0x737e18=_0x5ab2b5!==this[_0x4c863d(0x744)][_0x4c863d(0x6e0)][_0x4c863d(0x362)]()?this[_0x4c863d(0x744)][_0x4c863d(0x5fc)][_0x4c863d(0x2a3)](_0x5ab2b5,_0x43885a):this['configs'][_0x4c863d(0x5fc)][_0x4c863d(0x724)](_0x43885a);const _0x1314ff=_0x737e18[_0x4c863d(0x19f)](),_0x100031=_0x406df3[_0x4c863d(0x525)][_0x4c863d(0x479)];this[_0x4c863d(0x60e)](_0x1314ff,_0x100031,_0x4be683);}['handleContentUnsubscribeMediaStream'](_0xc20bbb,{label:_0x41646b,ownerId:_0x2d140e,trackKinds:_0x1de713}){const _0x4ac0e9=_0x2ad6ba;if(_0xc20bbb!==_0x124816)return[];let _0x38a90f=[];for(const _0x2195da of this['maps']['subscriptions']){const {source:_0x2a1d14,destination:_0x114c91}=_0x2195da[0x1];_0x2a1d14[_0x4ac0e9(0x5c3)]()===_0x41646b&&_0x2a1d14['getOwnerId']()===_0x2d140e&&_0x38a90f['push']({'sourceId':this[_0x4ac0e9(0x744)][_0x4ac0e9(0x6e0)][_0x4ac0e9(0x362)](),'destinationIds':[_0x114c91[_0x4ac0e9(0x61e)]()],'messageType':_0x5f120e[_0x4ac0e9(0x99c)],'content':{'type':_0x5340f1[_0x4ac0e9(0x786)],'label':_0x41646b,'ownerId':_0x2d140e,'trackKinds':_0x1de713}});}return _0x38a90f;}[_0x2ad6ba(0x82b)](_0x4cf7f9,_0x26970b){const _0x328f93=_0x2ad6ba,{label:_0x35b30e,ownerId:_0x5ff533,trackKinds:_0x3faf07,params:_0x196cca}=_0x26970b,{hasTracks:_0x152383,streamId:_0x3e82b0,hasResolution:_0x3a8596,distance:_0x2fd9b9,subscriptionLabel:_0x50897a}=this[_0x328f93(0x7b2)](_0x4cf7f9,_0x26970b);let _0x47edc8=this[_0x328f93(0x65a)]()<this[_0x328f93(0x4ff)]&&(_0x152383||_0x2fd9b9>-0x1)?_0x5340f1[_0x328f93(0x272)]:_0x5340f1[_0x328f93(0x7b7)];const _0x2a0f3f=_0x2fd9b9<0x0?0xa:_0x2fd9b9;let _0x115552=_0x152383?_0x3a8596?_0x2a0f3f:_0x2a0f3f+0x0:_0x2a0f3f+0xa;return _0x50897a&&this['maps']['subscriptions']['has'](_0x50897a)&&(_0x152383&&(_0x115552=0x0),_0x47edc8=_0x5340f1['CanProvideMediaStream']),{'type':_0x47edc8,'cost':_0x115552,'distance':_0x2fd9b9,'label':_0x35b30e,'ownerId':_0x5ff533,'streamId':_0x3e82b0,'trackKinds':_0x3faf07,'params':_0x196cca};}['handleContentUnpublishMediaStream'](_0x306582){const _0x43fa3b=_0x2ad6ba,{label:_0xf423e1,ownerId:_0x209f86}=_0x306582,_0x35ff77=this[_0x43fa3b(0x744)][_0x43fa3b(0x5fc)][_0x43fa3b(0x2a3)](_0x209f86,_0xf423e1);this['maps']['subscriptions'][_0x43fa3b(0x9a0)](_0x11e060=>{const _0x1caab5=_0x43fa3b;if(_0x11e060[_0x1caab5(0x97d)]['getInternalStreamId']()===_0x35ff77['getShareableStreamId']()){const _0x1ef640=_0x11e060[_0x1caab5(0x993)];this[_0x1caab5(0x60e)](_0x35ff77['getShareableStreamId'](),_0x406df3[_0x1caab5(0x525)][_0x1caab5(0x479)],_0x1ef640['getRemoteId']());}});}[_0x2ad6ba(0x884)]({label:_0x1a4511}){const _0x2a492c=_0x2ad6ba,_0x4067bd=this[_0x2a492c(0x744)][_0x2a492c(0x5fc)][_0x2a492c(0x724)](_0x1a4511);this[_0x2a492c(0x43c)][_0x2a492c(0x5e6)]['forEach'](_0x88b3a2=>{const _0x2380ae=_0x2a492c;if(_0x88b3a2[_0x2380ae(0x97d)]['getInternalStreamId']()===_0x4067bd[_0x2380ae(0x19f)]()){const _0x54b92e=_0x88b3a2[_0x2380ae(0x993)];this['removeSubscription'](_0x4067bd[_0x2380ae(0x19f)](),_0x406df3[_0x2380ae(0x525)][_0x2380ae(0x479)],_0x54b92e[_0x2380ae(0x61e)]());}});}[_0x2ad6ba(0x6c8)](_0x4b0de8){const _0x517497=_0x2ad6ba;this['maps'][_0x517497(0x6c8)](_0x4b0de8);}[_0x2ad6ba(0x27c)](){const _0x529c7f=_0x2ad6ba;this['maps']['subscriptions'][_0x529c7f(0x9a0)](this[_0x529c7f(0x526)][_0x529c7f(0xa0a)](this));}[_0x2ad6ba(0x526)](_0x238899,_0x3bdab1){const _0x42c13e=_0x2ad6ba;this['maps'][_0x42c13e(0x526)](_0x238899,_0x3bdab1);}[_0x2ad6ba(0x7b2)](_0x120e21,{label:_0x37959e,ownerId:_0x513197,trackKinds:_0x5d30d7,params:_0x4d4a1e}){const _0x30839e=_0x2ad6ba;if(_0x513197!==this[_0x30839e(0x744)][_0x30839e(0x6e0)][_0x30839e(0x362)]()){const _0x516368=this[_0x30839e(0x744)][_0x30839e(0x5fc)]['getRemoteMediaStream'](_0x513197,_0x37959e);return _0x516368&&_0x516368[_0x30839e(0x1c4)]()!==_0x120e21?{'hasTracks':_0x516368[_0x30839e(0x94c)](_0x5d30d7),'hasResolution':this[_0x30839e(0x794)](_0x516368[_0x30839e(0x5f2)](),_0x4d4a1e),'streamId':_0x516368['getShareableStreamId'](),'distance':this[_0x30839e(0x744)][_0x30839e(0x5fc)][_0x30839e(0x395)](_0x120e21,_0x513197),'subscriptionLabel':_0x138dbf(_0x5af75a[_0x30839e(0x309)],{'contentType':_0x406df3[_0x30839e(0x525)][_0x30839e(0x479)],'label':_0x516368[_0x30839e(0x19f)](),'remoteId':_0x120e21})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x5df7d2=this[_0x30839e(0x744)]['mediator'][_0x30839e(0x724)](_0x37959e);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x5df7d2[_0x30839e(0x19f)](),'distance':0x0,'subscriptionLabel':_0x138dbf(_0x5af75a[_0x30839e(0x309)],{'contentType':_0x406df3[_0x30839e(0x525)][_0x30839e(0x479)],'label':_0x5df7d2[_0x30839e(0x19f)](),'remoteId':_0x120e21})};}['getNumberOutgoingSubscriptions'](){const _0x50a3a5=_0x2ad6ba;return Array[_0x50a3a5(0x854)](this['maps'][_0x50a3a5(0x5e6)]['entries']())[_0x50a3a5(0x1bc)](([_0x26a593,{source:_0x40f848}])=>_0x26a593[_0x50a3a5(0x493)](_0x5af75a[_0x50a3a5(0x309)])&&_0x40f848[_0x50a3a5(0x30c)]()===_0x406df3[_0x50a3a5(0x525)][_0x50a3a5(0x479)])[_0x50a3a5(0x8e0)];}[_0x2ad6ba(0x794)](_0x13f263,_0x474875){const _0x494599=_0x2ad6ba;if(!_0x474875||!_0x474875[_0x494599(0x28d)]||_0x494599(0x863)==typeof _0x474875[_0x494599(0x28d)]||!_0x474875[_0x494599(0x28d)][_0x494599(0x616)])return!0x0;const {width:_0x57e2b8,height:_0x5b1b99}=_0x474875[_0x494599(0x28d)][_0x494599(0x616)];return _0x13f263[_0x494599(0x49a)]>=_0x57e2b8&&_0x13f263[_0x494599(0x529)]>=_0x5b1b99;}}class _0x314c93{[_0x2ad6ba(0x744)];[_0x2ad6ba(0x4ff)];[_0x2ad6ba(0x985)];[_0x2ad6ba(0x5a2)];[_0x2ad6ba(0x231)];[_0x2ad6ba(0xa94)];constructor(_0x2584f4,_0x59a9a8,_0x29f405){const _0x15d77b=_0x2ad6ba;this['configs']=_0x2584f4,this[_0x15d77b(0x4ff)]=_0x59a9a8,this['maxDistance']=_0x29f405,this[_0x15d77b(0x744)][_0x15d77b(0x5fc)][_0x15d77b(0xa24)](this),this[_0x15d77b(0x231)]=new _0x58809c(this[_0x15d77b(0x744)],this[_0x15d77b(0x985)]),this['outgoingManager']=new _0x380c20(this[_0x15d77b(0x744)],this[_0x15d77b(0x4ff)]);}[_0x2ad6ba(0x3ba)](_0x12e54e){const _0x2ddae8=_0x2ad6ba;this[_0x2ddae8(0x5a2)]=_0x12e54e;}[_0x2ad6ba(0x460)](){const _0x5e6341=_0x2ad6ba;delete this[_0x5e6341(0x5a2)];}[_0x2ad6ba(0x27c)](){const _0x4aead1=_0x2ad6ba;this['incomingManager'][_0x4aead1(0x27c)](),this[_0x4aead1(0xa94)][_0x4aead1(0x27c)](),this[_0x4aead1(0x744)][_0x4aead1(0x5fc)]['unregisterSystemSource'](this);}[_0x2ad6ba(0x4f5)](_0x127045,_0xf7746f){const _0x483824=_0x2ad6ba;this['incomingManager'][_0x483824(0x9ee)](_0x127045,_0xf7746f);}[_0x2ad6ba(0x187)](_0x2c1feb,_0xe2d10a){const _0x12dc32=_0x2ad6ba;this[_0x12dc32(0xa94)][_0x12dc32(0x9ee)](_0x2c1feb,_0xe2d10a);}[_0x2ad6ba(0x5a6)](_0x471c8e,_0x13ee87,_0x225d3b=''){const _0x518f7b=_0x2ad6ba;this['incomingManager'][_0x518f7b(0x60e)](_0x471c8e,_0x13ee87,_0x225d3b);}[_0x2ad6ba(0xa02)](_0x5d4528,_0x16a21e,_0x41a909=''){const _0x30ec04=_0x2ad6ba;try{this[_0x30ec04(0xa94)][_0x30ec04(0x60e)](_0x5d4528,_0x16a21e,_0x41a909);}catch(_0x1e9b75){if(_0x1e9b75 instanceof _0x31ec66&&_0x1e9b75[_0x30ec04(0x4f6)]===_0x31ec66[_0x30ec04(0x4b6)][_0x30ec04(0x284)])return;}}[_0x2ad6ba(0x9d2)](_0x47e6b9){const _0x25b043=_0x2ad6ba;switch(_0x47e6b9[_0x25b043(0x257)][_0x25b043(0x285)]){case _0x5340f1['SubscribeMediaStream']:this[_0x25b043(0x330)](_0x47e6b9['sourceId'],_0x47e6b9['content']);break;case _0x5340f1['UnsubscribeMediaStream']:this[_0x25b043(0xa94)][_0x25b043(0x56a)](_0x47e6b9[_0x25b043(0xa59)],_0x47e6b9[_0x25b043(0x257)]);break;case _0x5340f1[_0x25b043(0x69f)]:this[_0x25b043(0x82b)](_0x47e6b9['sourceId'],_0x47e6b9[_0x25b043(0x257)]);break;case _0x5340f1[_0x25b043(0x38d)]:this[_0x25b043(0x231)][_0x25b043(0x4db)](_0x47e6b9[_0x25b043(0xa59)],_0x47e6b9[_0x25b043(0x257)]);break;case _0x5340f1['CanProvideMediaStream']:case _0x5340f1['CannotProvideMediaStream']:this[_0x25b043(0x231)][_0x25b043(0x78e)](_0x47e6b9[_0x25b043(0xa59)],_0x47e6b9[_0x25b043(0x257)]);break;case _0x5340f1[_0x25b043(0x786)]:this[_0x25b043(0x231)][_0x25b043(0x1ea)](_0x47e6b9['sourceId'],_0x47e6b9['content']);}}['handleContentSystemEvents'](_0x2517f1){const _0x1fba9f=_0x2ad6ba;switch(_0x2517f1['content'][_0x1fba9f(0x285)]){case _0x5d0a4b[_0x1fba9f(0x631)]:this[_0x1fba9f(0x231)][_0x1fba9f(0x184)](_0x2517f1[_0x1fba9f(0x257)]),this[_0x1fba9f(0xa94)][_0x1fba9f(0x184)](_0x2517f1[_0x1fba9f(0x257)]);break;case _0x5d0a4b['SubscribeMediaStream']:this[_0x1fba9f(0x231)][_0x1fba9f(0x1cb)](_0x2517f1[_0x1fba9f(0x257)]);break;case _0x5d0a4b[_0x1fba9f(0x404)]:this[_0x1fba9f(0x231)]['handleContentUpdateMediaStream'](_0x2517f1[_0x1fba9f(0x257)]);break;case _0x5d0a4b['UnsubscribeMediaStream']:this[_0x1fba9f(0x3e8)](_0x2517f1['sourceId'],_0x2517f1['content']);break;case _0x5d0a4b[_0x1fba9f(0x570)]:this[_0x1fba9f(0xa94)][_0x1fba9f(0x884)](_0x2517f1[_0x1fba9f(0x257)]);break;case _0x5d0a4b[_0x1fba9f(0x891)]:this['handleCloseContent'](_0x2517f1[_0x1fba9f(0x257)][_0x1fba9f(0x19d)],_0x406df3[_0x1fba9f(0x525)][_0x1fba9f(0x8a9)]);break;case _0x5d0a4b[_0x1fba9f(0x2d7)]:this[_0x1fba9f(0x29a)](_0x2517f1['content'][_0x1fba9f(0x19d)],_0x406df3['ContentType']['ObjectStore']);break;case _0x5d0a4b[_0x1fba9f(0x9dd)]:this['handleCloseContent'](_0x2517f1[_0x1fba9f(0x257)][_0x1fba9f(0x19d)],_0x406df3['ContentType']['ExternalStorage']);break;case _0x5d0a4b[_0x1fba9f(0x21f)]:this[_0x1fba9f(0x29a)](_0x2517f1[_0x1fba9f(0x257)][_0x1fba9f(0x19d)],_0x406df3[_0x1fba9f(0x525)][_0x1fba9f(0x924)]);break;case _0x5d0a4b[_0x1fba9f(0x6c1)]:this[_0x1fba9f(0x29a)](_0x2517f1[_0x1fba9f(0x257)][_0x1fba9f(0x19d)],_0x406df3[_0x1fba9f(0x525)][_0x1fba9f(0x9e6)]);break;case _0x5d0a4b[_0x1fba9f(0x8cf)]:this[_0x1fba9f(0x29a)](_0x2517f1[_0x1fba9f(0x257)][_0x1fba9f(0x19d)],_0x406df3[_0x1fba9f(0x525)][_0x1fba9f(0x57e)]);break;case _0x5d0a4b[_0x1fba9f(0x6cc)]:case _0x5d0a4b[_0x1fba9f(0xa3d)]:this[_0x1fba9f(0x29a)](_0x2517f1[_0x1fba9f(0x257)][_0x1fba9f(0x19d)],_0x406df3['ContentType'][_0x1fba9f(0x8ed)]);break;case _0x5d0a4b[_0x1fba9f(0x930)]:this[_0x1fba9f(0x231)][_0x1fba9f(0x76d)](_0x2517f1[_0x1fba9f(0x257)]);}}[_0x2ad6ba(0x692)]({content:_0x1d18a0}){const _0x233f53=_0x2ad6ba;_0x1d18a0[_0x233f53(0x285)]===_0x152a71[_0x233f53(0x46d)]&&this[_0x233f53(0x6c8)](_0x1d18a0);}[_0x2ad6ba(0x3d5)](_0x535fea){const _0x14aba2=_0x2ad6ba;_0x535fea['content'][_0x14aba2(0x285)]===_0x330228[_0x14aba2(0x4c4)]&&this[_0x14aba2(0x231)][_0x14aba2(0x429)](_0x535fea[_0x14aba2(0xa59)]);}[_0x2ad6ba(0x3e8)](_0x4b89ff,_0x4cdcd4){const _0x437caa=_0x2ad6ba;this[_0x437caa(0x231)][_0x437caa(0x3e8)](_0x4cdcd4),this[_0x437caa(0xa94)][_0x437caa(0x3e8)](_0x4b89ff,_0x4cdcd4)[_0x437caa(0x9a0)](_0x2ae4e4=>this[_0x437caa(0x5a2)][_0x437caa(0x29d)](_0x2ae4e4));}[_0x2ad6ba(0x330)](_0x1cf0f9,_0x5ae2e2){const _0x1a7671=_0x2ad6ba,_0x1b0125=this[_0x1a7671(0xa94)][_0x1a7671(0x330)](_0x1cf0f9,_0x5ae2e2);if(_0x1b0125&&(this[_0x1a7671(0x5a2)][_0x1a7671(0x29d)]({'sourceId':this['configs']['localNode'][_0x1a7671(0x362)](),'destinationIds':[_0x1cf0f9],'messageType':_0x5f120e[_0x1a7671(0x99c)],'content':_0x1b0125}),_0x1b0125['type']===_0x5340f1['RestartNeedMediaStream']))throw new _0x1b0c6c(_0x1a7671(0x3cf));}['handleSubscriptionNeedMediaStream'](_0x1eaf0a,_0x37c415){const _0x4aa6af=_0x2ad6ba,_0x494425=this['outgoingManager'][_0x4aa6af(0x82b)](_0x1eaf0a,_0x37c415);this['systemTopic'][_0x4aa6af(0x29d)]({'sourceId':this[_0x4aa6af(0x744)][_0x4aa6af(0x6e0)]['getId'](),'destinationIds':[_0x1eaf0a],'messageType':_0x5f120e[_0x4aa6af(0x99c)],'content':_0x494425});}[_0x2ad6ba(0x29a)](_0x287389,_0x514002){const _0x265f2f=_0x2ad6ba;this[_0x265f2f(0x5a6)](_0x287389,_0x514002),this[_0x265f2f(0xa02)](_0x287389,_0x514002);}['removeSubscriptionsForNode']({id:_0x4428e9}){const _0x50f545=_0x2ad6ba;this[_0x50f545(0x231)]['removeSubscriptionsForNode'](_0x4428e9),this['outgoingManager'][_0x50f545(0x6c8)](_0x4428e9);}}class _0x17ccf8{[_0x2ad6ba(0x19d)];['listener']=_0x2af2eb();constructor(){const _0x4c4d5d=_0x2ad6ba;this[_0x4c4d5d(0x19d)]=0x0;}[_0x2ad6ba(0x5c3)](){const _0x5f40d1=_0x2ad6ba;return this[_0x5f40d1(0x19d)];}[_0x2ad6ba(0x30c)](){const _0x477581=_0x2ad6ba;return _0x406df3[_0x477581(0x525)]['Data'];}[_0x2ad6ba(0x2f2)](_0x522773){const _0x3123b2=_0x2ad6ba;_0x522773[_0x3123b2(0x3ba)](this);}[_0x2ad6ba(0x635)](_0x29ad6b){const _0x200dd3=_0x2ad6ba;_0x29ad6b[_0x200dd3(0x460)]();}[_0x2ad6ba(0x29d)](_0x1d1e96){const _0x114aa7=_0x2ad6ba;_0xe8f382[_0x114aa7(0xa40)](_0x1b63ac[_0x114aa7(0x2df)],_0x114aa7(0x7ae),_0x1d1e96[_0x114aa7(0xa59)],_0x1d1e96),this[_0x114aa7(0x398)][_0x114aa7(0x29d)]({'topicLabel':this[_0x114aa7(0x19d)],'contentType':_0x406df3[_0x114aa7(0x525)][_0x114aa7(0xaa7)],'uuid':_0x1d1e96[_0x114aa7(0x23b)]??(0x0,_0x145036['v4'])(),'recipients':_0x1d1e96[_0x114aa7(0x516)]??[],..._0x1d1e96});}[_0x2ad6ba(0x208)](_0xefb4b5){const _0x2d9536=_0x2ad6ba;return this[_0x2d9536(0x398)][_0x2d9536(0x208)](_0xefb4b5);}}class _0x2a9579{[_0x2ad6ba(0x6e9)];[_0x2ad6ba(0x962)]=[];[_0x2ad6ba(0x5ea)];[_0x2ad6ba(0x642)]=new Map();[_0x2ad6ba(0x17e)]=_0x2af2eb();constructor(_0x375273){const _0x299495=_0x2ad6ba;this[_0x299495(0x6e9)]=_0x375273,this['maxLayer']=(this['options'][_0x299495(0x6a5)]-0x2*this[_0x299495(0x6e9)][_0x299495(0x1b9)])/0x2,this['ranges']['push']({'start':0x1,'end':this['getNextTargetRank'](0x1,0x1)-0x1});for(let _0x1e03a8=0x0;_0x1e03a8<this[_0x299495(0x5ea)];++_0x1e03a8)this[_0x299495(0x962)][_0x299495(0x673)]({'start':this['getNextTargetRank'](0x1,_0x1e03a8+0x1),'end':this[_0x299495(0x90c)](0x1,_0x1e03a8+0x2)-0x1});}['getNextTargetRank'](_0x128364,_0x5deb71=0x1){const _0x29b66d=_0x2ad6ba;let _0x100523=this[_0x29b66d(0x6e9)][_0x29b66d(0x985)]-this[_0x29b66d(0x6e9)][_0x29b66d(0x1b9)],_0x39e76d=0x1;for(let _0x35962d=0x1;_0x35962d<_0x5deb71;++_0x35962d)_0x100523*=this[_0x29b66d(0x6e9)][_0x29b66d(0x985)]-this[_0x29b66d(0x6e9)][_0x29b66d(0x1b9)]-_0x35962d,_0x39e76d*=this['options']['maxDistance']-this['options'][_0x29b66d(0x1b9)]-_0x35962d+0x1;return _0x100523*this[_0x29b66d(0x6e9)]['minConnections']+_0x128364-_0x39e76d;}[_0x2ad6ba(0x686)](_0x5a974a){const _0x552781=_0x2ad6ba;let _0xbf4900=0x0;for(;this[_0x552781(0x962)][_0xbf4900][_0x552781(0x69d)]<_0x5a974a;)_0xbf4900+=0x1;return _0xbf4900;}[_0x2ad6ba(0x606)](){const _0x4527f2=_0x2ad6ba;return this['options'][_0x4527f2(0x1b9)];}[_0x2ad6ba(0x3b1)](){const _0x51c35b=_0x2ad6ba;return this[_0x51c35b(0x6e9)]['maxConnections'];}[_0x2ad6ba(0x261)](){const _0x38159c=_0x2ad6ba;return this['options'][_0x38159c(0x985)];}[_0x2ad6ba(0x734)](){return this['remoteNodes'];}[_0x2ad6ba(0x37d)](_0x5374ab,_0x1aaf6c){const _0x13f6e4=_0x2ad6ba;this['remoteNodes'][_0x13f6e4(0x50f)](_0x5374ab,_0x1aaf6c),this[_0x13f6e4(0x17e)]['publish']();}[_0x2ad6ba(0x955)](_0x4a0449){const _0x164f0a=_0x2ad6ba;this['remoteNodes'][_0x164f0a(0xa12)](_0x4a0449),this['nodeUpdate'][_0x164f0a(0x29d)]();}[_0x2ad6ba(0xa66)](_0xf7bfe){const _0x3c3015=_0x2ad6ba;return this[_0x3c3015(0x642)][_0x3c3015(0x98d)](_0xf7bfe);}[_0x2ad6ba(0x230)](_0x4e4287){const _0x64353e=_0x2ad6ba;return this[_0x64353e(0x642)][_0x64353e(0x736)](_0x4e4287);}[_0x2ad6ba(0x466)](_0x455e8e,_0x26e462){const _0x22a915=_0x2ad6ba,_0x1f4301=this[_0x22a915(0x230)](_0x26e462)?.[_0x22a915(0x515)]()??0x0;return _0x455e8e[_0x22a915(0x607)](_0x32a814=>this['getRemoteNode'](_0x32a814))[_0x22a915(0x1bc)](_0x4dd878=>void 0x0!==_0x4dd878)[_0x22a915(0xa22)]((_0x3b9473,_0x27b400)=>Math[_0x22a915(0x6a1)](_0x1f4301-(_0x3b9473&&_0x3b9473['getRank']()||0x1/0x0))-Math[_0x22a915(0x6a1)](_0x1f4301-(_0x27b400&&_0x27b400[_0x22a915(0x515)]()||0x1/0x0)))[_0x22a915(0x607)](_0x3af7c6=>_0x3af7c6[_0x22a915(0x362)]());}[_0x2ad6ba(0xaaf)](_0x1b489a){const _0x4c9b25=_0x2ad6ba;return this[_0x4c9b25(0x17e)]['subscribe'](_0x1b489a);}}class _0x401d59{[_0x2ad6ba(0x8e1)];[_0x2ad6ba(0x58c)];[_0x2ad6ba(0x9f0)];[_0x2ad6ba(0xa49)];[_0x2ad6ba(0x6e9)];['configs'];[_0x2ad6ba(0x8d5)];[_0x2ad6ba(0x421)];[_0x2ad6ba(0x617)];[_0x2ad6ba(0x1b5)];[_0x2ad6ba(0x4d4)];[_0x2ad6ba(0x665)];['remediationManager'];[_0x2ad6ba(0x71f)];[_0x2ad6ba(0x5df)];[_0x2ad6ba(0x5a2)]=new _0x17ccf8();[_0x2ad6ba(0x41a)];['localNode'];constructor(_0x579de8,_0x30364f,_0x10d6bd,_0x3ed7dd,_0x17ce3d,_0x41ff7a,_0x2c38f4){const _0x4ccbbb=_0x2ad6ba;switch(this[_0x4ccbbb(0x8e1)]=_0x579de8,this[_0x4ccbbb(0x58c)]=_0x30364f,this[_0x4ccbbb(0x9f0)]=_0x10d6bd,this['authService']=_0x3ed7dd,this['options']=_0x17ce3d,this['configs']=_0x41ff7a,this[_0x4ccbbb(0x8d5)]=_0x2c38f4,_0x10d6bd[_0x4ccbbb(0x285)]){case _0x406df3[_0x4ccbbb(0x9c4)][_0x4ccbbb(0xa62)]:this['localNode']=new _0x1a535b(_0x10d6bd['getId'](),_0x10d6bd[_0x4ccbbb(0x195)](),_0x10d6bd[_0x4ccbbb(0x1b8)]());break;case _0x406df3[_0x4ccbbb(0x9c4)][_0x4ccbbb(0x37e)]:default:this[_0x4ccbbb(0x6e0)]=new _0x46110e(_0x10d6bd[_0x4ccbbb(0x362)]());}const _0x113adf=this[_0x4ccbbb(0x80e)]();this['graphService']=new _0x2a9579(this[_0x4ccbbb(0x6e9)]),this[_0x4ccbbb(0x421)]=new _0x2bb550(_0x113adf,this[_0x4ccbbb(0x6e9)],this[_0x4ccbbb(0x744)][_0x4ccbbb(0x348)],this[_0x4ccbbb(0x744)]['aiSearchApiKey']),this[_0x4ccbbb(0x617)]=new _0x5628f9(_0x113adf,this['authService'],this[_0x4ccbbb(0x5df)],this[_0x4ccbbb(0x744)][_0x4ccbbb(0x2eb)],this[_0x4ccbbb(0x6e9)]),this[_0x4ccbbb(0x1b5)]=new _0x314c93(_0x113adf,this[_0x4ccbbb(0x6e9)][_0x4ccbbb(0x4ff)],this['graphService'][_0x4ccbbb(0x261)]()),this[_0x4ccbbb(0x4d4)]=new _0x4c9a5d(_0x113adf),this[_0x4ccbbb(0x665)]=new _0x362c5e(_0x113adf),this[_0x4ccbbb(0x27b)]=new _0x30ec1e(_0x113adf),this[_0x4ccbbb(0x71f)]=new _0x4363f2(_0x113adf,this[_0x4ccbbb(0x5df)]),this['systemTopicUnsubscribe']=this[_0x4ccbbb(0x3ce)]();}[_0x2ad6ba(0xa60)](){const _0x47c540=_0x2ad6ba,_0xd70052=this[_0x47c540(0x80e)]();this[_0x47c540(0x617)]=new _0x5628f9(_0xd70052,this['authService'],this[_0x47c540(0x5df)],this['configs']['iceServers'],this[_0x47c540(0x6e9)]),this['subscriptionManager']=new _0x314c93(_0xd70052,this[_0x47c540(0x6e9)]['maxOutgoingSubscriptions'],this[_0x47c540(0x5df)]['getMaxDistance']()),this[_0x47c540(0x4d4)]=new _0x4c9a5d(_0xd70052),this['detectionManager']=new _0x362c5e(_0xd70052),this[_0x47c540(0x27b)]=new _0x30ec1e(_0xd70052),this[_0x47c540(0x71f)]=new _0x4363f2(_0xd70052,this[_0x47c540(0x5df)]);const _0x5d33e4=this[_0x47c540(0x617)][_0x47c540(0x546)]();this[_0x47c540(0x421)][_0x47c540(0x632)]()['forEach'](_0x53967e=>{const _0x5d66c6=_0x47c540;this['subscriptionManager'][_0x5d66c6(0x187)](_0x53967e,_0x5d33e4),this[_0x5d66c6(0x1b5)][_0x5d66c6(0x4f5)](_0x5d33e4,_0x53967e),_0x53967e[_0x5d66c6(0x536)]();}),this['contentManager']['getObjectStoreBuckets']()[_0x47c540(0x9a0)](_0x112fa8=>{const _0x4e0098=_0x47c540;this[_0x4e0098(0x1b5)]['createOutgoingSubscription'](_0x112fa8,_0x5d33e4),this['subscriptionManager'][_0x4e0098(0x4f5)](_0x5d33e4,_0x112fa8),_0x112fa8[_0x4e0098(0x536)](),_0x112fa8[_0x4e0098(0x628)]();}),this[_0x47c540(0x421)][_0x47c540(0x246)]()[_0x47c540(0x9a0)](_0x551cdb=>{const _0x3c7788=_0x47c540;this['subscriptionManager']['createOutgoingSubscription'](_0x551cdb,_0x5d33e4),this[_0x3c7788(0x1b5)]['createIncomingSubscription'](_0x5d33e4,_0x551cdb),_0x551cdb[_0x3c7788(0x536)](),this[_0x3c7788(0x20f)](_0x551cdb);}),this[_0x47c540(0x421)]['getJobDispatchers']()['forEach'](_0x5aee9b=>{const _0x97a4ad=_0x47c540;this[_0x97a4ad(0x1b5)][_0x97a4ad(0x187)](_0x5aee9b,_0x5d33e4),this['subscriptionManager']['createIncomingSubscription'](_0x5d33e4,_0x5aee9b),_0x5aee9b['reset']();}),this[_0x47c540(0x421)][_0x47c540(0x3d8)]()[_0x47c540(0x9a0)](_0x8676c1=>{const _0x12db70=_0x47c540;this[_0x12db70(0x1b5)]['createOutgoingSubscription'](_0x8676c1,_0x5d33e4),this[_0x12db70(0x1b5)][_0x12db70(0x4f5)](_0x5d33e4,_0x8676c1),_0x8676c1[_0x12db70(0x536)]();}),this['contentManager'][_0x47c540(0x7b8)]()[_0x47c540(0x9a0)](_0x521bf1=>{const _0x1bb88c=_0x47c540;this[_0x1bb88c(0x1b5)][_0x1bb88c(0x187)](_0x521bf1,_0x5d33e4),this[_0x1bb88c(0x1b5)][_0x1bb88c(0x4f5)](_0x5d33e4,_0x521bf1),_0x521bf1[_0x1bb88c(0x536)]();}),this[_0x47c540(0x421)][_0x47c540(0x4fb)]()['forEach'](_0x4ed4ad=>{const _0x241365=_0x47c540;this[_0x241365(0x1b5)]['createOutgoingSubscription'](_0x4ed4ad,_0x5d33e4),this[_0x241365(0x1b5)][_0x241365(0x4f5)](_0x5d33e4,_0x4ed4ad),_0x4ed4ad[_0x241365(0x536)]();}),this[_0x47c540(0x41a)]=this[_0x47c540(0x3ce)]();}[_0x2ad6ba(0xa24)](_0x3452d){const _0x1da6c1=_0x2ad6ba;try{this[_0x1da6c1(0x5a2)][_0x1da6c1(0x2f2)](_0x3452d);}catch(_0x736abc){this[_0x1da6c1(0x738)](_0x736abc,{});}}[_0x2ad6ba(0x1dc)](_0x10dc8c){const _0x38a6ef=_0x2ad6ba;try{this[_0x38a6ef(0x5a2)][_0x38a6ef(0x635)](_0x10dc8c);}catch(_0x4b25ec){this[_0x38a6ef(0x738)](_0x4b25ec,{});}}[_0x2ad6ba(0x9a3)](_0x526230,_0x333d77){const _0x51252b=_0x2ad6ba;return this[_0x51252b(0x617)][_0x51252b(0x9a3)](_0x526230,_0x333d77);}[_0x2ad6ba(0x9dc)](_0x151d8a){const _0x4a46cb=_0x2ad6ba;try{return this[_0x4a46cb(0x617)][_0x4a46cb(0x9dc)](_0x151d8a);}catch(_0x3bb971){throw this[_0x4a46cb(0x738)](_0x3bb971,{});}}[_0x2ad6ba(0x87c)](_0x3e6623){const _0x345c9e=_0x2ad6ba;try{return this['connectionManager']['getConnections'](_0x3e6623);}catch(_0x34b14d){throw this[_0x345c9e(0x738)](_0x34b14d,{});}}[_0x2ad6ba(0x2a3)](_0x38b32c,_0x4717cb){const _0x297a27=_0x2ad6ba;try{return this[_0x297a27(0x421)][_0x297a27(0x990)](_0x28b837=>_0x28b837[_0x297a27(0x4e9)]()===_0x38b32c&&_0x28b837[_0x297a27(0x5c3)]()===_0x4717cb)[0x0];}catch(_0x249e7b){throw this[_0x297a27(0x738)](_0x249e7b,{});}}[_0x2ad6ba(0x724)](_0x197253){const _0x58b6c5=_0x2ad6ba;try{return this[_0x58b6c5(0x421)][_0x58b6c5(0xa5d)](_0x1896f6=>_0x1896f6[_0x58b6c5(0x5c3)]()===_0x197253)[0x0];}catch(_0x5657d2){throw this[_0x58b6c5(0x738)](_0x5657d2,{});}}['notifyCluster']=(..._0x21c7bb)=>{const _0x503c4d=_0x2ad6ba;try{return this[_0x503c4d(0x8d5)][_0x503c4d(0x4ce)](..._0x21c7bb);}catch(_0x521d1e){throw this[_0x503c4d(0x738)](_0x521d1e,{});}};[_0x2ad6ba(0x58d)](_0x5e5422){const _0x1de2d2=_0x2ad6ba;try{this[_0x1de2d2(0x4d4)][_0x1de2d2(0x593)](_0x5e5422);}catch(_0x59dce7){throw this[_0x1de2d2(0x738)](_0x59dce7,{});}}[_0x2ad6ba(0x747)](_0x753427){const _0x161398=_0x2ad6ba;try{this[_0x161398(0x4d4)][_0x161398(0x2e8)](_0x753427);}catch(_0x17d7ee){throw this['handleError'](_0x17d7ee,{});}}[_0x2ad6ba(0x49e)](_0x21160e){const _0x376aa1=_0x2ad6ba;return this['connectionManager'][_0x376aa1(0x49e)](_0x21160e);}async[_0x2ad6ba(0x88b)](){const _0x252e8e=_0x2ad6ba;try{await this[_0x252e8e(0x617)][_0x252e8e(0x88b)]();const _0x9cf95e=await this[_0x252e8e(0x71f)]['discover']();for(const _0x12c104 of _0x9cf95e)this[_0x252e8e(0x617)][_0x252e8e(0x9a3)](_0x12c104);}catch(_0x3b9488){throw this[_0x252e8e(0x738)](_0x3b9488,{});}}[_0x2ad6ba(0x7ba)](_0x7a333d){const _0x143584=_0x2ad6ba;this['localNode'][_0x143584(0x285)]===_0x406df3[_0x143584(0x9c4)][_0x143584(0xa62)]&&(this[_0x143584(0x6e0)][_0x143584(0x835)](_0x7a333d['getEmail']()),this[_0x143584(0x6e0)]['setDisplayName'](_0x7a333d[_0x143584(0x195)]()));}[_0x2ad6ba(0x27c)]({force:_0x2a8b3c=!0x1},_0x39057b=!0x1){const _0x4cc036=_0x2ad6ba;if(_0xe8f382[_0x4cc036(0x4a2)](_0x4cc036(0x67f),{'clusterId':this['clusterId'],'nodeId':this[_0x4cc036(0x6e0)][_0x4cc036(0x362)](),'nodeType':this[_0x4cc036(0x6e0)][_0x4cc036(0x285)]}),!_0x2a8b3c&&this[_0x4cc036(0x617)][_0x4cc036(0x5bb)]())throw new _0x3f1f96(_0x429a2c[_0x4cc036(0x383)],_0x4cc036(0x8b3));_0xe8f382['processBatch'](),this[_0x4cc036(0x41a)](),this[_0x4cc036(0x27b)][_0x4cc036(0x27c)](),this[_0x4cc036(0x665)][_0x4cc036(0x27c)](),this['statsManager'][_0x4cc036(0x27c)](),this['subscriptionManager'][_0x4cc036(0x27c)](),this[_0x4cc036(0x617)]['close'](),this[_0x4cc036(0x421)][_0x4cc036(0x27c)](_0x39057b),this[_0x4cc036(0x71f)][_0x4cc036(0x27c)]();}[_0x2ad6ba(0x4d5)](_0x237a87){const _0x5416cf=_0x2ad6ba;try{const _0x6fee26=this[_0x5416cf(0x421)]['createPubSubTopic'](_0x237a87),_0x33f598=this[_0x5416cf(0x617)][_0x5416cf(0x546)]();return this[_0x5416cf(0x1b5)][_0x5416cf(0x187)](_0x6fee26,_0x33f598),this[_0x5416cf(0x1b5)][_0x5416cf(0x4f5)](_0x33f598,_0x6fee26),_0x6fee26;}catch(_0x275296){throw this[_0x5416cf(0x738)](_0x275296,{});}}async[_0x2ad6ba(0xa4d)](_0x13b49b,_0x389b06){const _0x2b0929=_0x2ad6ba;try{const _0x208df5=this['contentManager'][_0x2b0929(0x78c)](_0x13b49b,this[_0x2b0929(0x6e9)][_0x2b0929(0x9ed)],_0x389b06),_0x243aae=this[_0x2b0929(0x617)]['getConnectionGroup']();return this[_0x2b0929(0x1b5)][_0x2b0929(0x187)](_0x208df5,_0x243aae),this[_0x2b0929(0x1b5)]['createIncomingSubscription'](_0x243aae,_0x208df5),await _0x208df5[_0x2b0929(0x628)](),_0x208df5;}catch(_0xbedf58){throw this['handleError'](_0xbedf58,{});}}async[_0x2ad6ba(0x55d)](_0x18bdf1,_0x4e8f49){const _0x59c8f3=_0x2ad6ba;try{if(!this[_0x59c8f3(0x6e9)][_0x59c8f3(0x824)])throw new _0x3f1f96(_0x429a2c[_0x59c8f3(0x3b8)],_0x59c8f3(0x4b1));if(!(this[_0x59c8f3(0x9f0)]instanceof _0x337e7b))throw new _0x3f1f96(_0x429a2c['NodeInvalidType'],_0x59c8f3(0x39e));const _0x302a0a=this['options'][_0x59c8f3(0x824)][_0x59c8f3(0x736)](_0x4e8f49);if(!_0x302a0a)throw new _0x3f1f96(_0x429a2c[_0x59c8f3(0x3b8)],'Missing\x20external\x20storage\x20connector');const _0xac7f65=this[_0x59c8f3(0x421)][_0x59c8f3(0x4e8)](_0x18bdf1,_0x302a0a),_0x449064=this[_0x59c8f3(0x617)][_0x59c8f3(0x546)]();return this[_0x59c8f3(0x1b5)][_0x59c8f3(0x187)](_0xac7f65,_0x449064),this['subscriptionManager'][_0x59c8f3(0x4f5)](_0x449064,_0xac7f65),await _0xac7f65['open'](),_0xac7f65;}catch(_0x1709ee){throw this[_0x59c8f3(0x738)](_0x1709ee,{});}}async[_0x2ad6ba(0x1b6)](_0x4df193,_0x1c6ca8,_0x257a1b){const _0x39ad5=_0x2ad6ba;try{_0x257a1b=_0x257a1b||this[_0x39ad5(0x6e9)][_0x39ad5(0x9d4)];const _0x59b290=await this[_0x39ad5(0x421)][_0x39ad5(0x9bd)](_0x4df193,_0x1c6ca8,_0x257a1b),_0x5ebc0f=this[_0x39ad5(0x617)]['getConnectionGroup']();return this['subscriptionManager']['createOutgoingSubscription'](_0x59b290,_0x5ebc0f),this[_0x39ad5(0x1b5)][_0x39ad5(0x4f5)](_0x5ebc0f,_0x59b290),await _0x59b290['open'](),this[_0x39ad5(0x20f)](_0x59b290),_0x59b290;}catch(_0x358a54){throw this['handleError'](_0x358a54,{});}}async[_0x2ad6ba(0x2c9)](_0x162ea7){const _0x21b88c=_0x2ad6ba;try{const _0x1759ff=await this[_0x21b88c(0x421)][_0x21b88c(0x360)](_0x162ea7,this['graphService']),_0x5d0111=this[_0x21b88c(0x617)]['getConnectionGroup']();return this[_0x21b88c(0x1b5)][_0x21b88c(0x187)](_0x1759ff,_0x5d0111),this['subscriptionManager']['createIncomingSubscription'](_0x5d0111,_0x1759ff),_0x1759ff['open'](),_0x1759ff;}catch(_0xb249c3){throw this[_0x21b88c(0x738)](_0xb249c3,{});}}async[_0x2ad6ba(0x6de)](_0x428e80){const _0x44e1df=_0x2ad6ba;throw new Error(_0x44e1df(0x5dc));}async[_0x2ad6ba(0x4b5)](_0x31bd2a){const _0x1a0e75=_0x2ad6ba;try{const _0x2ecbcc=await this[_0x1a0e75(0x421)]['createGenerativeAIContext'](_0x31bd2a,this[_0x1a0e75(0x5df)]),_0x29f6dd=this[_0x1a0e75(0x617)]['getConnectionGroup']();return this[_0x1a0e75(0x1b5)][_0x1a0e75(0x187)](_0x2ecbcc,_0x29f6dd),this[_0x1a0e75(0x1b5)][_0x1a0e75(0x4f5)](_0x29f6dd,_0x2ecbcc),_0x2ecbcc['open'](),_0x2ecbcc;}catch(_0x45299f){throw console['error'](_0x45299f),this[_0x1a0e75(0x738)](_0x45299f,{});}}async[_0x2ad6ba(0x417)](_0x3ec80b){const _0x5e9c8e=_0x2ad6ba;try{if(!this[_0x5e9c8e(0x6e9)][_0x5e9c8e(0xa1e)]||!this[_0x5e9c8e(0x6e9)]['documentParserConnector']||!this[_0x5e9c8e(0x6e9)][_0x5e9c8e(0x4dd)])throw new _0x3f1f96(_0x429a2c[_0x5e9c8e(0x705)],_0x5e9c8e(0x4d9));if(!(this['authNode']instanceof _0x337e7b))throw new _0x3f1f96(_0x429a2c['NodeInvalidType'],_0x5e9c8e(0x39e));const _0x5d9b27=[];for(const _0xcb0d8a of this[_0x5e9c8e(0x6e9)]['generativeAIWorkerConnectors'])_0x5d9b27[_0x5e9c8e(0x673)](new _0xcb0d8a());const _0xe3d157=new this['options'][(_0x5e9c8e(0x462))](),_0x567067=new this[(_0x5e9c8e(0x6e9))]['nlpLibraryConnector']();let _0x373e84,_0x285e5a,_0x5759d0;this[_0x5e9c8e(0x6e9)][_0x5e9c8e(0x79d)]&&(_0x373e84=new this[(_0x5e9c8e(0x6e9))][(_0x5e9c8e(0x79d))]()),this['options']['aiSearchConnector']&&(_0x285e5a=new this[(_0x5e9c8e(0x6e9))][(_0x5e9c8e(0x92b))]()),this[_0x5e9c8e(0x6e9)]['queryFileConnector']&&(_0x5759d0=new this['options'][(_0x5e9c8e(0x555))]());const _0x233555=await this[_0x5e9c8e(0x421)][_0x5e9c8e(0x559)](_0x3ec80b,this[_0x5e9c8e(0x9f0)],_0x5d9b27,_0xe3d157,_0x567067,_0x373e84,_0x285e5a,_0x5759d0),_0x3b06e7=this['connectionManager']['getConnectionGroup']();this[_0x5e9c8e(0x1b5)][_0x5e9c8e(0x187)](_0x233555,_0x3b06e7),this[_0x5e9c8e(0x1b5)][_0x5e9c8e(0x4f5)](_0x3b06e7,_0x233555);const _0x4cbf23=this[_0x5e9c8e(0x71f)][_0x5e9c8e(0x514)]();return await _0x233555[_0x5e9c8e(0xa60)](0x0===_0x4cbf23[_0x5e9c8e(0x8e0)]||void 0x0),_0x233555;}catch(_0x38e147){throw this[_0x5e9c8e(0x738)](_0x38e147,{});}}[_0x2ad6ba(0x34b)](_0x1e9102){const _0x59d92d=_0x2ad6ba;try{if(!this['options']['graphDatabaseConnector'])throw new _0x3f1f96(_0x429a2c[_0x59d92d(0x94f)],_0x59d92d(0x26e));if(!(this[_0x59d92d(0x9f0)]instanceof _0x337e7b))throw new _0x3f1f96(_0x429a2c[_0x59d92d(0xab4)],_0x59d92d(0x39e));const _0x416137=this['contentManager'][_0x59d92d(0x761)](_0x1e9102,this[_0x59d92d(0x6e9)][_0x59d92d(0x66d)]),_0x4f110b=this[_0x59d92d(0x617)][_0x59d92d(0x546)]();return this[_0x59d92d(0x1b5)]['createOutgoingSubscription'](_0x416137,_0x4f110b),this[_0x59d92d(0x1b5)][_0x59d92d(0x4f5)](_0x4f110b,_0x416137),_0x416137;}catch(_0x53488e){throw this[_0x59d92d(0x738)](_0x53488e,{});}}[_0x2ad6ba(0x850)](_0x3644a6){const _0x2ed5af=_0x2ad6ba;try{if(!this[_0x2ed5af(0x6e9)][_0x2ed5af(0x78f)])throw new _0x3f1f96(_0x429a2c[_0x2ed5af(0x752)],_0x2ed5af(0x295));if(!(this[_0x2ed5af(0x9f0)]instanceof _0x337e7b))throw new _0x3f1f96(_0x429a2c[_0x2ed5af(0xab4)],_0x2ed5af(0x39e));const _0x1377a2=this[_0x2ed5af(0x421)][_0x2ed5af(0x22b)](_0x3644a6,this[_0x2ed5af(0x6e9)][_0x2ed5af(0x78f)]),_0x2c0d63=this[_0x2ed5af(0x617)][_0x2ed5af(0x546)]();return this[_0x2ed5af(0x1b5)][_0x2ed5af(0x187)](_0x1377a2,_0x2c0d63),this[_0x2ed5af(0x1b5)]['createIncomingSubscription'](_0x2c0d63,_0x1377a2),_0x1377a2;}catch(_0x48cfc1){throw this[_0x2ed5af(0x738)](_0x48cfc1,{});}}[_0x2ad6ba(0x632)](_0x3adcb4){const _0x180117=_0x2ad6ba;try{return this[_0x180117(0x421)][_0x180117(0x632)](_0x3adcb4);}catch(_0x5746df){throw this['handleError'](_0x5746df,{});}}[_0x2ad6ba(0x242)](_0x8ddfb0){const _0x1f4b1a=_0x2ad6ba;try{return this[_0x1f4b1a(0x421)]['getObjectStoreBuckets'](_0x8ddfb0);}catch(_0x19d06a){throw this[_0x1f4b1a(0x738)](_0x19d06a,{});}}[_0x2ad6ba(0x7b3)](_0x7c3363){const _0xacc771=_0x2ad6ba;try{return this['contentManager']['getExternalStorageConnections'](_0x7c3363);}catch(_0x368af0){throw this[_0xacc771(0x738)](_0x368af0,{});}}[_0x2ad6ba(0x246)](_0x3725c4){const _0x523304=_0x2ad6ba;try{return this[_0x523304(0x421)][_0x523304(0x246)](_0x3725c4);}catch(_0x597000){throw this['handleError'](_0x597000,{});}}['getGenerativeAIContexts'](_0x34071f){const _0x1e48b1=_0x2ad6ba;try{return this[_0x1e48b1(0x421)][_0x1e48b1(0x244)](_0x34071f);}catch(_0x2ae057){throw this[_0x1e48b1(0x738)](_0x2ae057,{});}}[_0x2ad6ba(0x391)](_0x598ef6){const _0xed75c=_0x2ad6ba;try{return this[_0xed75c(0x421)][_0xed75c(0x391)](_0x598ef6);}catch(_0x5e6f31){throw this['handleError'](_0x5e6f31,{});}}[_0x2ad6ba(0x4fb)](_0x4f2b79){const _0x52ee82=_0x2ad6ba;try{return this['contentManager']['getGraphDatabases'](_0x4f2b79);}catch(_0x15e84b){throw this[_0x52ee82(0x738)](_0x15e84b,{});}}[_0x2ad6ba(0x5dd)](_0x537253,_0xdab6a2){const _0x17b8f6=_0x2ad6ba;if(!this[_0x17b8f6(0x744)]['features'][_0x17b8f6(0x205)](_0x4aaf57[_0x17b8f6(0x6a0)]))throw new _0x3f1f96(_0x429a2c[_0x17b8f6(0x618)],_0x17b8f6(0x892));try{return this[_0x17b8f6(0x421)][_0x17b8f6(0x5dd)](_0x537253,_0xdab6a2);}catch(_0x528002){throw this[_0x17b8f6(0x738)](_0x528002,{});}}[_0x2ad6ba(0x266)](_0x45bbd0,_0x532505){const _0x1eee1e=_0x2ad6ba;if(!this[_0x1eee1e(0x744)][_0x1eee1e(0x85f)][_0x1eee1e(0x205)](_0x4aaf57['MediaStream']))throw new _0x3f1f96(_0x429a2c['FeatureNotEnabled'],_0x1eee1e(0x892));try{return this[_0x1eee1e(0x421)]['createLocalDynamicMediaStream'](_0x45bbd0,_0x532505);}catch(_0x5a6d5d){throw this['handleError'](_0x5a6d5d,{});}}[_0x2ad6ba(0xa5d)](_0x46e73a){const _0x5cf5dc=_0x2ad6ba;if(!this[_0x5cf5dc(0x744)][_0x5cf5dc(0x85f)][_0x5cf5dc(0x205)](_0x4aaf57['MediaStream']))throw new _0x3f1f96(_0x429a2c['FeatureNotEnabled'],_0x5cf5dc(0x892));try{return this[_0x5cf5dc(0x421)]['getLocalMediaStreams'](_0x46e73a);}catch(_0x28a13a){throw this[_0x5cf5dc(0x738)](_0x28a13a,{});}}[_0x2ad6ba(0x990)](_0x934dde){const _0x516404=_0x2ad6ba;if(!this[_0x516404(0x744)][_0x516404(0x85f)][_0x516404(0x205)](_0x4aaf57[_0x516404(0x6a0)]))throw new _0x3f1f96(_0x429a2c['FeatureNotEnabled'],_0x516404(0x892));try{return this['contentManager'][_0x516404(0x990)](_0x934dde);}catch(_0x4e6900){throw this[_0x516404(0x738)](_0x4e6900,{});}}[_0x2ad6ba(0x7b8)](_0x593b91){const _0xd07f54=_0x2ad6ba;try{return this[_0xd07f54(0x421)][_0xd07f54(0x7b8)](_0x593b91);}catch(_0x3c1690){throw this['handleError'](_0x3c1690,{});}}[_0x2ad6ba(0x395)](_0x17fe07,_0x399688){const _0xa2eae3=_0x2ad6ba;return this[_0xa2eae3(0x71f)]['getDistance'](_0x17fe07,_0x399688);}[_0x2ad6ba(0x247)](){const _0x419ab7=_0x2ad6ba;return this[_0x419ab7(0x71f)][_0x419ab7(0x247)]();}[_0x2ad6ba(0x734)](_0xf1b280){const _0x1532b0=_0x2ad6ba;try{return this[_0x1532b0(0x71f)][_0x1532b0(0x734)](_0xf1b280);}catch(_0x3210d8){throw this['handleError'](_0x3210d8,{});}}[_0x2ad6ba(0x48d)](){const _0x248708=_0x2ad6ba;return this[_0x248708(0x617)][_0x248708(0x48d)]();}[_0x2ad6ba(0x2bb)](_0x58770f){const _0x3b01b1=_0x2ad6ba;return this[_0x3b01b1(0x71f)]['isNodeReady'](_0x58770f);}async[_0x2ad6ba(0x6ae)](_0x101e21){const _0x4ebeba=_0x2ad6ba;try{if(_0xe8f382[_0x4ebeba(0xa40)](_0x1b63ac[_0x4ebeba(0x2df)],_0x4ebeba(0x46a),this[_0x4ebeba(0x71f)]['getLocalId'](),_0x101e21),_0x47c141(_0x101e21,this['nodeManager'][_0x4ebeba(0x4a8)]()))return void this[_0x4ebeba(0x617)]['handleOutgoingSystemEvents'](_0x101e21);switch(_0x101e21[_0x4ebeba(0x7d8)]){case _0x5f120e[_0x4ebeba(0x670)]:this[_0x4ebeba(0x4d4)][_0x4ebeba(0x3ee)](_0x101e21),this['subscriptionManager']['handleContentSystemEvents'](_0x101e21),this[_0x4ebeba(0x421)][_0x4ebeba(0x3ee)](_0x101e21);break;case _0x5f120e['Node']:this[_0x4ebeba(0x1b5)][_0x4ebeba(0x692)](_0x101e21),this[_0x4ebeba(0x617)][_0x4ebeba(0x692)](_0x101e21),this[_0x4ebeba(0x421)]['handleNodeSystemEvents'](_0x101e21),this[_0x4ebeba(0x71f)][_0x4ebeba(0x692)](_0x101e21);break;case _0x5f120e[_0x4ebeba(0x991)]:this[_0x4ebeba(0x27b)][_0x4ebeba(0x914)](_0x101e21);break;case _0x5f120e['Remediation']:this[_0x4ebeba(0x27b)][_0x4ebeba(0x8bf)](_0x101e21);break;case _0x5f120e[_0x4ebeba(0xa47)]:this[_0x4ebeba(0x665)][_0x4ebeba(0x56c)](_0x101e21);break;case _0x5f120e[_0x4ebeba(0x99c)]:_0x101e21['content'][_0x4ebeba(0x285)]!==_0x5340f1[_0x4ebeba(0x978)]?(this[_0x4ebeba(0x1b5)][_0x4ebeba(0x9d2)](_0x101e21),this[_0x4ebeba(0x421)][_0x4ebeba(0x9d2)](_0x101e21)):(this[_0x4ebeba(0x421)][_0x4ebeba(0x9d2)](_0x101e21),this['subscriptionManager'][_0x4ebeba(0x9d2)](_0x101e21));break;case _0x5f120e['PeerConnection']:await this[_0x4ebeba(0x617)][_0x4ebeba(0x3d5)](_0x101e21),this[_0x4ebeba(0x4d4)][_0x4ebeba(0x3d5)](_0x101e21),this[_0x4ebeba(0x71f)][_0x4ebeba(0x3d5)](_0x101e21),this[_0x4ebeba(0x1b5)][_0x4ebeba(0x3d5)](_0x101e21);}}catch(_0xf1fdab){throw _0xe8f382[_0x4ebeba(0xa53)]('handleSystemEvents',_0xf1fdab),this[_0x4ebeba(0x738)](_0xf1fdab,{});}}[_0x2ad6ba(0x738)](_0x20de75,_0x3ad362){const _0x13c8a0=_0x2ad6ba;if(!(_0x20de75 instanceof _0x1b0c6c)){if(_0x20de75 instanceof _0x3f1f96)throw _0x20de75;if(!(_0x20de75 instanceof Error))throw new _0x3f1f96(_0x429a2c[_0x13c8a0(0xa52)],_0x13c8a0(0x45c)+_0x20de75);if(!(_0x20de75 instanceof _0x31ec66))throw new _0x3f1f96(_0x429a2c[_0x13c8a0(0xa52)],'Internal\x20error:\x20'+_0x20de75['message']);switch(_0x20de75['code']){case _0x31ec66[_0x13c8a0(0x4b6)]['MissingSystemTopic']:case _0x31ec66[_0x13c8a0(0x4b6)]['MissingRemoteConnection']:case _0x31ec66['codes'][_0x13c8a0(0xa05)]:case _0x31ec66[_0x13c8a0(0x4b6)][_0x13c8a0(0x63b)]:case _0x31ec66[_0x13c8a0(0x4b6)]['ConnectionNotConnected']:case _0x31ec66[_0x13c8a0(0x4b6)][_0x13c8a0(0x517)]:case _0x31ec66[_0x13c8a0(0x4b6)][_0x13c8a0(0x213)]:case _0x31ec66[_0x13c8a0(0x4b6)]['InvalidSubscriber']:case _0x31ec66['codes']['SubscriptionRequestDoesNotExist']:case _0x31ec66[_0x13c8a0(0x4b6)][_0x13c8a0(0x1fb)]:case _0x31ec66[_0x13c8a0(0x4b6)][_0x13c8a0(0x349)]:case _0x31ec66[_0x13c8a0(0x4b6)][_0x13c8a0(0x284)]:}throw _0xe8f382[_0x13c8a0(0x60c)](_0x13c8a0(0x7ad)+_0x20de75[_0x13c8a0(0xa5a)],{'clusterId':this[_0x13c8a0(0x58c)],'nodeId':this[_0x13c8a0(0x6e0)][_0x13c8a0(0x362)](),'nodeType':this[_0x13c8a0(0x6e0)][_0x13c8a0(0x285)]},_0x20de75),new _0x3f1f96(_0x429a2c[_0x13c8a0(0xa52)],_0x13c8a0(0x2cb)+_0x20de75['message']);}}[_0x2ad6ba(0x80e)](){const _0x52013c=_0x2ad6ba;return{'mediator':this,'vendorId':this[_0x52013c(0x8e1)],'clusterId':this[_0x52013c(0x58c)],'localNode':this[_0x52013c(0x6e0)]};}[_0x2ad6ba(0x3ce)](){const _0x18b3a7=_0x2ad6ba;return this['systemTopic'][_0x18b3a7(0x208)](_0x59e2c7=>{const _0x4dbdc8=_0x18b3a7,_0x47c375=_0x4de56b(_0x59e2c7,this[_0x4dbdc8(0x6e0)][_0x4dbdc8(0x362)]()),_0x4e9c98=_0x59e2c7[_0x4dbdc8(0x7d8)]===_0x5f120e[_0x4dbdc8(0xa47)]||_0x59e2c7[_0x4dbdc8(0x7d8)]===_0x5f120e[_0x4dbdc8(0x746)]&&_0x59e2c7[_0x4dbdc8(0x257)][_0x4dbdc8(0x285)]===_0x330228['Stats']?_0x1b63ac[_0x4dbdc8(0xa15)]:_0x1b63ac[_0x4dbdc8(0x78a)];_0xe8f382[_0x4dbdc8(0x59d)](_0x4e9c98,_0x59e2c7['uuid']+_0x4dbdc8(0xa0b)+_0x47c375,_0x59e2c7),this[_0x4dbdc8(0x6ae)](_0x59e2c7)[_0x4dbdc8(0x484)](_0x2a1f25=>{console['error'](_0x2a1f25);});});}async[_0x2ad6ba(0x20f)](_0x3029d8){const _0x5320bb=_0x2ad6ba,{timingLogger:_0x73dcd8,logger:_0x7f427d,logBeforeSync:_0x5f2bb8,logAfterSync:_0x18db5d}=function(_0x16d60c,_0x3469c4){const _0x51ee24=a0_0x119e;if(!_0xe8f382[_0x51ee24(0xa32)](_0x3469c4))return _0xe8f382[_0x51ee24(0xa53)](_0x51ee24(0x793)+_0x3469c4),{..._0x59f28c(_0x16d60c,_0x3469c4),'syncStartTime':0x0,'logBeforeSync':()=>0x0,'logAfterSync':()=>{}};const {timingLogger:_0x29522f,logger:_0x458ba2}=_0x59f28c(_0x16d60c,_0x3469c4);let _0x3697bb=0x0;return _0x3697bb=Date['now'](),{'syncStartTime':_0x3697bb,'timingLogger':_0x29522f,'logger':_0x458ba2,'logBeforeSync':()=>(_0x41e4d2(_0x3469c4,_0x51ee24(0x6ec)),_0x29522f[_0x51ee24(0x9fc)]()),'logAfterSync':(_0x510f79,_0x1f7769)=>{const _0x559df1=_0x51ee24,_0x4af114=Date[_0x559df1(0x9fc)]();_0x41e4d2(_0x3469c4,'After\x20Synchronization\x20-\x20Is\x20Database\x20sync?\x20'+_0x1f7769);const _0x2dd6b6=(_0x4af114-_0x3697bb)/0x3e8,_0x582e18=(_0x4af114-_0x510f79)/0x3e8;_0xe8f382['log'](_0x3469c4,_0x559df1(0xa3a),_0x16d60c,_0x559df1(0x5ab)+_0x2dd6b6[_0x559df1(0x733)](0x2)+_0x559df1(0x90b),_0x559df1(0x689)+_0x582e18[_0x559df1(0x733)](0x3)+_0x559df1(0x90b),_0x559df1(0x2be)+((_0x4af114-_0x3697bb)/0x3e8-_0x582e18)['toFixed'](0x2)+_0x559df1(0x90b));}};}(_0x3029d8[_0x5320bb(0x5c3)](),_0x1b63ac[_0x5320bb(0x924)]);_0x7f427d[_0x5320bb(0xa40)](_0x5320bb(0x9ac));const _0x7df4b7=this[_0x5320bb(0x71f)][_0x5320bb(0x514)]()[_0x5320bb(0x8e0)]>0x0;if(_0x7df4b7){_0x7f427d[_0x5320bb(0xa40)](_0x5320bb(0x4cf),()=>this[_0x5320bb(0x71f)]['getAncestorIds']()),_0x73dcd8[_0x5320bb(0x28b)](),await Promise[_0x5320bb(0x8f8)](this[_0x5320bb(0x71f)]['getAncestorIds']()[_0x5320bb(0x607)](async _0x204dc0=>await this[_0x5320bb(0x71f)]['isNodeReady'](_0x204dc0)))[_0x5320bb(0x484)](_0x4a5f42=>_0xe8f382[_0x5320bb(0x4a2)]('SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process\x20with\x20not\x20all\x20ancestors\x20connected.',{'nodeId':this[_0x5320bb(0x6e0)][_0x5320bb(0x362)](),'nodeType':this[_0x5320bb(0x6e0)]['type']}));const _0x58afee=_0x7f427d[_0x5320bb(0x346)](()=>this['nodeManager']['getAncestorIds'](),[]);_0x73dcd8[_0x5320bb(0x350)]('SyncKeyValueDatabase\x20-\x20Ancestors\x20'+_0x58afee+_0x5320bb(0x7ee));}_0x18db5d(_0x5f2bb8(),await _0x3029d8[_0x5320bb(0x628)](_0x7df4b7,async()=>{const _0x3d7cf9=_0x5320bb;_0x73dcd8[_0x3d7cf9(0x28b)](),await this[_0x3d7cf9(0x71f)][_0x3d7cf9(0x5ec)](),_0x73dcd8[_0x3d7cf9(0x350)]('syncKeyValueDatabase\x20-\x20Retrying\x20sync\x20in\x20broadcast\x20mode.\x20Waited\x20for\x20cluster\x20readiness\x20for:'),_0x3029d8[_0x3d7cf9(0x628)](!0x0,()=>{const _0x547041=_0x3d7cf9;_0x7f427d[_0x547041(0xa40)](_0x547041(0x737)),_0x3029d8[_0x547041(0x628)](!0x1);},!0x0);}));}}class _0x20fce6{[_0x2ad6ba(0x8e1)];['clusterId'];[_0x2ad6ba(0x9f0)];[_0x2ad6ba(0x554)];[_0x2ad6ba(0x816)];constructor(_0x464fd8,_0x1431ee,_0x998604,_0x12494a,_0x5edf5a,_0x3ecf68,_0x15cfe7=new _0x3b34ea()){const _0x295464=_0x2ad6ba;this[_0x295464(0x8e1)]=_0x464fd8,this[_0x295464(0x58c)]=_0x1431ee,this[_0x295464(0x9f0)]=_0x998604,this['eventEmitter']=_0x15cfe7,this[_0x295464(0x816)]=new _0x401d59(this['vendorId'],this[_0x295464(0x58c)],_0x998604,_0x12494a,_0x5edf5a,_0x3ecf68,this);}async[_0x2ad6ba(0x3a2)](){const _0x71b431=_0x2ad6ba;await this[_0x71b431(0x816)][_0x71b431(0x88b)](),this[_0x71b431(0x9f0)][_0x71b431(0x285)]===_0x406df3[_0x71b431(0x9c4)][_0x71b431(0xa62)]&&this['authNode'][_0x71b431(0x68d)](this['clusterId'],_0x435ef6=>{const _0x3d7450=_0x71b431;this[_0x3d7450(0x816)][_0x3d7450(0x7ba)](_0x435ef6);});}[_0x2ad6ba(0x93b)](_0x24e049={}){const _0x4065ad=_0x2ad6ba;this[_0x4065ad(0x816)]['close'](_0x24e049),this[_0x4065ad(0x9f0)]['type']===_0x406df3[_0x4065ad(0x9c4)][_0x4065ad(0xa62)]&&this['authNode']['unregisterCluster'](this[_0x4065ad(0x58c)]),this[_0x4065ad(0x4ce)]('cluster-leave',void 0x0);}[_0x2ad6ba(0x4d5)](_0x92cd5e){const _0xb81907=_0x2ad6ba,_0x24f50a=this[_0xb81907(0x816)][_0xb81907(0x4d5)](_0x92cd5e);return{'getName':_0x24f50a[_0xb81907(0x576)][_0xb81907(0xa0a)](_0x24f50a),'getOwnerId':_0x24f50a[_0xb81907(0x4e9)]['bind'](_0x24f50a),'getContentType':_0x24f50a['getContentType'][_0xb81907(0xa0a)](_0x24f50a),'publish':_0x24f50a[_0xb81907(0x29d)][_0xb81907(0xa0a)](_0x24f50a),'subscribe':_0x24f50a['subscribe'][_0xb81907(0xa0a)](_0x24f50a),'unsubscribe':_0x24f50a[_0xb81907(0x99f)][_0xb81907(0xa0a)](_0x24f50a),'close':_0x24f50a[_0xb81907(0x27c)][_0xb81907(0xa0a)](_0x24f50a)};}async[_0x2ad6ba(0xa4d)](_0x199359,_0x504c64){const _0x2e6039=_0x2ad6ba,_0x547bc6=await this[_0x2e6039(0x816)][_0x2e6039(0xa4d)](_0x199359,_0x504c64);return{'getName':_0x547bc6[_0x2e6039(0x576)][_0x2e6039(0xa0a)](_0x547bc6),'getOwnerId':_0x547bc6[_0x2e6039(0x4e9)][_0x2e6039(0xa0a)](_0x547bc6),'getContentType':_0x547bc6[_0x2e6039(0x30c)][_0x2e6039(0xa0a)](_0x547bc6),'publish':_0x547bc6['publish'][_0x2e6039(0xa0a)](_0x547bc6),'unpublish':_0x547bc6['unpublish']['bind'](_0x547bc6),'get':_0x547bc6[_0x2e6039(0x736)][_0x2e6039(0xa0a)](_0x547bc6),'list':_0x547bc6[_0x2e6039(0xa73)][_0x2e6039(0xa0a)](_0x547bc6),'getSize':_0x547bc6['getSize'][_0x2e6039(0xa0a)](_0x547bc6),'subscribe':_0x547bc6['subscribe'][_0x2e6039(0xa0a)](_0x547bc6),'unsubscribe':_0x547bc6[_0x2e6039(0x99f)]['bind'](_0x547bc6),'close':_0x547bc6[_0x2e6039(0x27c)]['bind'](_0x547bc6)};}async[_0x2ad6ba(0x55d)](_0x54dfea,_0x4d7288){const _0x4cff89=_0x2ad6ba,_0x28a762=await this['orchestrator'][_0x4cff89(0x55d)](_0x54dfea,_0x4d7288);return{'getName':_0x28a762[_0x4cff89(0x576)][_0x4cff89(0xa0a)](_0x28a762),'getOwnerId':_0x28a762['getOwnerId'][_0x4cff89(0xa0a)](_0x28a762),'getContentType':_0x28a762[_0x4cff89(0x30c)][_0x4cff89(0xa0a)](_0x28a762),'close':_0x28a762['close'][_0x4cff89(0xa0a)](_0x28a762),'get':_0x28a762[_0x4cff89(0x736)][_0x4cff89(0xa0a)](_0x28a762),'list':_0x28a762[_0x4cff89(0xa73)][_0x4cff89(0xa0a)](_0x28a762),'subscribe':_0x28a762['subscribe'][_0x4cff89(0xa0a)](_0x28a762),'unsubscribe':_0x28a762[_0x4cff89(0x99f)]['bind'](_0x28a762)};}async[_0x2ad6ba(0x1b6)](_0x1809b7,_0x2ad589,_0x33a979){const _0x54d373=_0x2ad6ba,_0x31dc3d=await this[_0x54d373(0x816)][_0x54d373(0x1b6)](_0x1809b7,_0x2ad589,_0x33a979);return{'getName':_0x31dc3d[_0x54d373(0x576)][_0x54d373(0xa0a)](_0x31dc3d),'getOwnerId':_0x31dc3d['getOwnerId'][_0x54d373(0xa0a)](_0x31dc3d),'getContentType':_0x31dc3d['getContentType'][_0x54d373(0xa0a)](_0x31dc3d),'getTable':_0x31dc3d[_0x54d373(0x3ff)][_0x54d373(0xa0a)](_0x31dc3d),'subscribe':_0x31dc3d[_0x54d373(0x208)]['bind'](_0x31dc3d),'unsubscribe':_0x31dc3d[_0x54d373(0x99f)][_0x54d373(0xa0a)](_0x31dc3d),'close':_0x31dc3d[_0x54d373(0x27c)]['bind'](_0x31dc3d)};}async['openJobDispatcher'](_0xe71896){const _0x656613=_0x2ad6ba,_0x43b266=await this['orchestrator'][_0x656613(0x2c9)](_0xe71896);return{'getName':_0x43b266[_0x656613(0x576)]['bind'](_0x43b266),'getOwnerId':_0x43b266[_0x656613(0x4e9)][_0x656613(0xa0a)](_0x43b266),'getContentType':_0x43b266[_0x656613(0x30c)]['bind'](_0x43b266),'createJob':_0x43b266['createJob']['bind'](_0x43b266),'getJob':_0x43b266[_0x656613(0x17b)][_0x656613(0xa0a)](_0x43b266),'getJobs':_0x43b266[_0x656613(0x6c9)]['bind'](_0x43b266),'close':_0x43b266[_0x656613(0x27c)]['bind'](_0x43b266)};}async[_0x2ad6ba(0x6de)](_0x55095a){const _0x49b8c4=_0x2ad6ba,_0x212e1f=await this[_0x49b8c4(0x816)]['openJobWorker'](_0x55095a);return{'close':_0x212e1f[_0x49b8c4(0x27c)][_0x49b8c4(0xa0a)](_0x212e1f)};}async[_0x2ad6ba(0x4b5)](_0x4779c0){const _0x40f571=_0x2ad6ba,_0x16e06a=await this['orchestrator']['openGenerativeAIContext'](_0x4779c0);return{'createAIJob':_0x16e06a[_0x40f571(0xa9e)][_0x40f571(0xa0a)](_0x16e06a),'ratePrompt':_0x16e06a['ratePrompt'][_0x40f571(0xa0a)](_0x16e06a),'downloadDocument':_0x16e06a[_0x40f571(0x83f)]['bind'](_0x16e06a),'search':_0x16e06a[_0x40f571(0xa96)]['bind'](_0x16e06a),'getDataBucketIds':_0x16e06a[_0x40f571(0x36d)][_0x40f571(0xa0a)](_0x16e06a),'close':_0x16e06a[_0x40f571(0x27c)][_0x40f571(0xa0a)](_0x16e06a)};}async[_0x2ad6ba(0x417)](_0x15d695){const _0x170e64=_0x2ad6ba,_0x5ea8a2=await this[_0x170e64(0x816)]['openGenerativeAIWorker'](_0x15d695);return{'close':_0x5ea8a2[_0x170e64(0x27c)][_0x170e64(0xa0a)](_0x5ea8a2)};}['openGraphDatabase'](_0x41855f){const _0xcbdb3b=_0x2ad6ba,_0x2580f7=this[_0xcbdb3b(0x816)][_0xcbdb3b(0x34b)](_0x41855f);return{'getName':_0x2580f7[_0xcbdb3b(0x576)][_0xcbdb3b(0xa0a)](_0x2580f7),'getOwnerId':_0x2580f7[_0xcbdb3b(0x4e9)][_0xcbdb3b(0xa0a)](_0x2580f7),'getContentType':_0x2580f7['getContentType'][_0xcbdb3b(0xa0a)](_0x2580f7),'addNode':_0x2580f7[_0xcbdb3b(0x17d)][_0xcbdb3b(0xa0a)](_0x2580f7),'addEdge':_0x2580f7[_0xcbdb3b(0x396)][_0xcbdb3b(0xa0a)](_0x2580f7),'getContent':_0x2580f7[_0xcbdb3b(0x20b)]['bind'](_0x2580f7),'remove':_0x2580f7[_0xcbdb3b(0x6e6)]['bind'](_0x2580f7),'saveToDisk':_0x2580f7[_0xcbdb3b(0x1fd)][_0xcbdb3b(0xa0a)](_0x2580f7),'loadFromDisk':_0x2580f7[_0xcbdb3b(0x3f0)][_0xcbdb3b(0xa0a)](_0x2580f7),'close':_0x2580f7[_0xcbdb3b(0x27c)][_0xcbdb3b(0xa0a)](_0x2580f7)};}[_0x2ad6ba(0x850)](_0x4f49bf){const _0x3b1d4e=_0x2ad6ba,_0xf7407a=this[_0x3b1d4e(0x816)]['openVectorDatabase'](_0x4f49bf);return{'getName':_0xf7407a[_0x3b1d4e(0x576)][_0x3b1d4e(0xa0a)](_0xf7407a),'getOwnerId':_0xf7407a['getOwnerId'][_0x3b1d4e(0xa0a)](_0xf7407a),'getContentType':_0xf7407a[_0x3b1d4e(0x30c)]['bind'](_0xf7407a),'search':_0xf7407a[_0x3b1d4e(0xa96)][_0x3b1d4e(0xa0a)](_0xf7407a),'insert':_0xf7407a[_0x3b1d4e(0x33c)][_0x3b1d4e(0xa0a)](_0xf7407a),'remove':_0xf7407a['remove'][_0x3b1d4e(0xa0a)](_0xf7407a),'saveToDisk':_0xf7407a['saveToDisk'][_0x3b1d4e(0xa0a)](_0xf7407a),'loadFromDisk':_0xf7407a[_0x3b1d4e(0x3f0)][_0x3b1d4e(0xa0a)](_0xf7407a),'close':_0xf7407a[_0x3b1d4e(0x27c)][_0x3b1d4e(0xa0a)](_0xf7407a)};}[_0x2ad6ba(0x632)](_0x2dd3a2){const _0xc5f0f8=_0x2ad6ba;return this[_0xc5f0f8(0x816)][_0xc5f0f8(0x632)](_0x2dd3a2)[_0xc5f0f8(0x607)](_0x5d7678=>({'getName':_0x5d7678['getName'][_0xc5f0f8(0xa0a)](_0x5d7678),'getOwnerId':_0x5d7678[_0xc5f0f8(0x4e9)][_0xc5f0f8(0xa0a)](_0x5d7678),'getContentType':_0x5d7678[_0xc5f0f8(0x30c)][_0xc5f0f8(0xa0a)](_0x5d7678),'publish':_0x5d7678['publish']['bind'](_0x5d7678),'subscribe':_0x5d7678['subscribe'][_0xc5f0f8(0xa0a)](_0x5d7678),'unsubscribe':_0x5d7678[_0xc5f0f8(0x99f)][_0xc5f0f8(0xa0a)](_0x5d7678),'close':_0x5d7678[_0xc5f0f8(0x27c)]['bind'](_0x5d7678)}));}[_0x2ad6ba(0x242)](_0x347fb8){const _0x28d060=_0x2ad6ba;return this[_0x28d060(0x816)][_0x28d060(0x242)](_0x347fb8)[_0x28d060(0x607)](_0x16ccea=>({'getName':_0x16ccea[_0x28d060(0x576)]['bind'](_0x16ccea),'getOwnerId':_0x16ccea[_0x28d060(0x4e9)][_0x28d060(0xa0a)](_0x16ccea),'getContentType':_0x16ccea['getContentType'][_0x28d060(0xa0a)](_0x16ccea),'publish':_0x16ccea['publish'][_0x28d060(0xa0a)](_0x16ccea),'unpublish':_0x16ccea[_0x28d060(0x1d2)][_0x28d060(0xa0a)](_0x16ccea),'get':_0x16ccea[_0x28d060(0x736)]['bind'](_0x16ccea),'list':_0x16ccea['list'][_0x28d060(0xa0a)](_0x16ccea),'getSize':_0x16ccea[_0x28d060(0x856)][_0x28d060(0xa0a)](_0x16ccea),'subscribe':_0x16ccea[_0x28d060(0x208)]['bind'](_0x16ccea),'unsubscribe':_0x16ccea[_0x28d060(0x99f)][_0x28d060(0xa0a)](_0x16ccea),'close':_0x16ccea[_0x28d060(0x27c)][_0x28d060(0xa0a)](_0x16ccea)}));}['getExternalStorageConnections'](_0x1f0b1a){const _0x35ffd4=_0x2ad6ba;return this['orchestrator'][_0x35ffd4(0x7b3)](_0x1f0b1a)[_0x35ffd4(0x607)](_0xcc83a6=>({'getName':_0xcc83a6['getName'][_0x35ffd4(0xa0a)](_0xcc83a6),'getOwnerId':_0xcc83a6[_0x35ffd4(0x4e9)][_0x35ffd4(0xa0a)](_0xcc83a6),'getContentType':_0xcc83a6['getContentType']['bind'](_0xcc83a6),'close':_0xcc83a6[_0x35ffd4(0x27c)][_0x35ffd4(0xa0a)](_0xcc83a6),'get':_0xcc83a6['get']['bind'](_0xcc83a6),'list':_0xcc83a6['list'][_0x35ffd4(0xa0a)](_0xcc83a6),'subscribe':_0xcc83a6[_0x35ffd4(0x208)]['bind'](_0xcc83a6),'unsubscribe':_0xcc83a6['unsubscribe'][_0x35ffd4(0xa0a)](_0xcc83a6)}));}[_0x2ad6ba(0x246)](_0x4350d2){const _0x12b05a=_0x2ad6ba;return this['orchestrator'][_0x12b05a(0x246)](_0x4350d2)[_0x12b05a(0x607)](_0x3716ec=>({'getName':_0x3716ec['getName'][_0x12b05a(0xa0a)](_0x3716ec),'getOwnerId':_0x3716ec[_0x12b05a(0x4e9)]['bind'](_0x3716ec),'getContentType':_0x3716ec[_0x12b05a(0x30c)][_0x12b05a(0xa0a)](_0x3716ec),'getTable':_0x3716ec['getTable'][_0x12b05a(0xa0a)](_0x3716ec),'subscribe':_0x3716ec['subscribe'][_0x12b05a(0xa0a)](_0x3716ec),'unsubscribe':_0x3716ec[_0x12b05a(0x99f)][_0x12b05a(0xa0a)](_0x3716ec),'close':_0x3716ec[_0x12b05a(0x27c)]['bind'](_0x3716ec)}));}[_0x2ad6ba(0x244)](_0x4d77be){const _0x1a42ab=_0x2ad6ba;return this['orchestrator'][_0x1a42ab(0x244)](_0x4d77be)[_0x1a42ab(0x607)](_0x39f70a=>({'createAIJob':_0x39f70a['createAIJob'][_0x1a42ab(0xa0a)](_0x39f70a),'ratePrompt':_0x39f70a[_0x1a42ab(0x986)]['bind'](_0x39f70a),'downloadDocument':_0x39f70a[_0x1a42ab(0x83f)]['bind'](_0x39f70a),'search':_0x39f70a['search']['bind'](_0x39f70a),'getDataBucketIds':_0x39f70a[_0x1a42ab(0x36d)]['bind'](_0x39f70a),'close':_0x39f70a[_0x1a42ab(0x27c)][_0x1a42ab(0xa0a)](_0x39f70a)}));}['getGenerativeAIWorkers'](_0x2d0a07){const _0x195f38=_0x2ad6ba;return this[_0x195f38(0x816)][_0x195f38(0x391)](_0x2d0a07)[_0x195f38(0x607)](_0x6ad8a1=>({'close':_0x6ad8a1[_0x195f38(0x27c)]['bind'](_0x6ad8a1)}));}[_0x2ad6ba(0x406)](_0x524cf8,_0x2ce145){const _0x4070dd=_0x2ad6ba,_0x31b43a=this[_0x4070dd(0x816)]['createLocalMediaStream'](_0x524cf8,_0x2ce145);return{'getLabel':_0x31b43a['getLabel'][_0x4070dd(0xa0a)](_0x31b43a),'getOwnerId':_0x31b43a['getOwnerId'][_0x4070dd(0xa0a)](_0x31b43a),'getContentType':_0x31b43a[_0x4070dd(0x30c)][_0x4070dd(0xa0a)](_0x31b43a),'getMediaStream':_0x31b43a[_0x4070dd(0x4dc)][_0x4070dd(0xa0a)](_0x31b43a),'setPriority':_0x31b43a[_0x4070dd(0x6b6)][_0x4070dd(0xa0a)](_0x31b43a),'unpublish':_0x31b43a[_0x4070dd(0x1d2)]['bind'](_0x31b43a)};}['publishLocalDynamicMediaStream'](_0x4490eb,_0x2ec5e1){const _0x315a7c=_0x2ad6ba,_0x425ce3=this[_0x315a7c(0x816)][_0x315a7c(0x266)](_0x4490eb,_0x2ec5e1);return{'getLabel':_0x425ce3[_0x315a7c(0x5c3)][_0x315a7c(0xa0a)](_0x425ce3),'getOwnerId':_0x425ce3[_0x315a7c(0x4e9)][_0x315a7c(0xa0a)](_0x425ce3),'getContentType':_0x425ce3['getContentType'][_0x315a7c(0xa0a)](_0x425ce3),'setPriority':_0x425ce3[_0x315a7c(0x6b6)][_0x315a7c(0xa0a)](_0x425ce3),'unpublish':_0x425ce3[_0x315a7c(0x1d2)][_0x315a7c(0xa0a)](_0x425ce3),'getMediaStream':_0x425ce3[_0x315a7c(0x4dc)][_0x315a7c(0xa0a)](_0x425ce3),'addTrack':_0x425ce3[_0x315a7c(0x8a1)][_0x315a7c(0xa0a)](_0x425ce3),'removeTrack':_0x425ce3[_0x315a7c(0xa1b)]['bind'](_0x425ce3),'replaceTrack':_0x425ce3[_0x315a7c(0x59f)]['bind'](_0x425ce3),'setTransformations':_0x425ce3[_0x315a7c(0x56b)][_0x315a7c(0xa0a)](_0x425ce3)};}[_0x2ad6ba(0xa5d)](_0x52545f){const _0x15c4c2=_0x2ad6ba;return this[_0x15c4c2(0x816)][_0x15c4c2(0xa5d)](_0x52545f)[_0x15c4c2(0x607)](_0x52cbe5=>({'getLabel':_0x52cbe5[_0x15c4c2(0x5c3)][_0x15c4c2(0xa0a)](_0x52cbe5),'getOwnerId':_0x52cbe5[_0x15c4c2(0x4e9)][_0x15c4c2(0xa0a)](_0x52cbe5),'getContentType':_0x52cbe5['getContentType'][_0x15c4c2(0xa0a)](_0x52cbe5),'getMediaStream':_0x52cbe5[_0x15c4c2(0x4dc)][_0x15c4c2(0xa0a)](_0x52cbe5),'setPriority':_0x52cbe5[_0x15c4c2(0x6b6)]['bind'](_0x52cbe5),'unpublish':_0x52cbe5['unpublish'][_0x15c4c2(0xa0a)](_0x52cbe5)}));}[_0x2ad6ba(0x990)](_0x88736d){const _0x13f986=_0x2ad6ba;return this['orchestrator'][_0x13f986(0x990)](_0x88736d)[_0x13f986(0x607)](_0x46898a=>({'getLabel':_0x46898a[_0x13f986(0x5c3)]['bind'](_0x46898a),'getOwnerId':_0x46898a[_0x13f986(0x4e9)][_0x13f986(0xa0a)](_0x46898a),'getContentType':_0x46898a[_0x13f986(0x30c)][_0x13f986(0xa0a)](_0x46898a),'getMediaStream':_0x46898a['getMediaStream'][_0x13f986(0xa0a)](_0x46898a),'subscribe':_0x46898a[_0x13f986(0x208)][_0x13f986(0xa0a)](_0x46898a),'unsubscribe':_0x46898a[_0x13f986(0x99f)][_0x13f986(0xa0a)](_0x46898a),'getAvailableTrackKinds':_0x46898a[_0x13f986(0x95b)][_0x13f986(0xa0a)](_0x46898a),'update':_0x46898a['update'][_0x13f986(0xa0a)](_0x46898a),'onProviderChange':_0x46898a[_0x13f986(0x297)][_0x13f986(0xa0a)](_0x46898a)}));}[_0x2ad6ba(0x4fb)](_0x120ef5){const _0xd1b316=_0x2ad6ba;return this['orchestrator']['getGraphDatabases'](_0x120ef5)[_0xd1b316(0x607)](_0x43fee2=>({'getName':_0x43fee2[_0xd1b316(0x576)][_0xd1b316(0xa0a)](_0x43fee2),'getOwnerId':_0x43fee2[_0xd1b316(0x4e9)][_0xd1b316(0xa0a)](_0x43fee2),'getContentType':_0x43fee2['getContentType']['bind'](_0x43fee2),'addNode':_0x43fee2[_0xd1b316(0x17d)][_0xd1b316(0xa0a)](_0x43fee2),'addEdge':_0x43fee2[_0xd1b316(0x396)][_0xd1b316(0xa0a)](_0x43fee2),'getContent':_0x43fee2[_0xd1b316(0x20b)][_0xd1b316(0xa0a)](_0x43fee2),'remove':_0x43fee2[_0xd1b316(0x6e6)][_0xd1b316(0xa0a)](_0x43fee2),'saveToDisk':_0x43fee2[_0xd1b316(0x1fd)]['bind'](_0x43fee2),'loadFromDisk':_0x43fee2[_0xd1b316(0x3f0)][_0xd1b316(0xa0a)](_0x43fee2),'close':_0x43fee2[_0xd1b316(0x27c)][_0xd1b316(0xa0a)](_0x43fee2)}));}[_0x2ad6ba(0x7b8)](_0x553ce2){const _0x574eb7=_0x2ad6ba;return this[_0x574eb7(0x816)][_0x574eb7(0x7b8)](_0x553ce2)[_0x574eb7(0x607)](_0x51348b=>({'getName':_0x51348b[_0x574eb7(0x576)][_0x574eb7(0xa0a)](_0x51348b),'getOwnerId':_0x51348b[_0x574eb7(0x4e9)][_0x574eb7(0xa0a)](_0x51348b),'getContentType':_0x51348b['getContentType'][_0x574eb7(0xa0a)](_0x51348b),'search':_0x51348b[_0x574eb7(0xa96)]['bind'](_0x51348b),'insert':_0x51348b[_0x574eb7(0x33c)][_0x574eb7(0xa0a)](_0x51348b),'remove':_0x51348b[_0x574eb7(0x6e6)][_0x574eb7(0xa0a)](_0x51348b),'saveToDisk':_0x51348b['saveToDisk'][_0x574eb7(0xa0a)](_0x51348b),'loadFromDisk':_0x51348b[_0x574eb7(0x3f0)]['bind'](_0x51348b),'close':_0x51348b[_0x574eb7(0x27c)][_0x574eb7(0xa0a)](_0x51348b)}));}[_0x2ad6ba(0x247)](){const _0x81f783=_0x2ad6ba,_0x5096e4=this[_0x81f783(0x816)][_0x81f783(0x247)]();switch(_0x5096e4[_0x81f783(0x285)]){case _0x406df3[_0x81f783(0x9c4)]['User']:return{'type':_0x406df3[_0x81f783(0x9c4)]['User'],'getId':_0x5096e4[_0x81f783(0x362)][_0x81f783(0xa0a)](_0x5096e4),'getDisplayName':_0x5096e4[_0x81f783(0x195)][_0x81f783(0xa0a)](_0x5096e4),'getEmail':_0x5096e4[_0x81f783(0x1b8)][_0x81f783(0xa0a)](_0x5096e4),'getRemoteConnections':_0x5096e4['getRemoteConnections'][_0x81f783(0xa0a)](_0x5096e4),'setDisplayName':_0x5096e4[_0x81f783(0xa03)][_0x81f783(0xa0a)](_0x5096e4),'setEmail':_0x5096e4[_0x81f783(0x835)][_0x81f783(0xa0a)](_0x5096e4)};case _0x406df3[_0x81f783(0x9c4)][_0x81f783(0x37e)]:default:return{'type':_0x406df3[_0x81f783(0x9c4)][_0x81f783(0x37e)],'getId':_0x5096e4['getId'][_0x81f783(0xa0a)](_0x5096e4),'getRemoteConnections':_0x5096e4[_0x81f783(0xa4a)][_0x81f783(0xa0a)](_0x5096e4)};}}['getRemoteNodes'](_0x1cf39f){const _0xc383e1=_0x2ad6ba;return this[_0xc383e1(0x816)][_0xc383e1(0x734)](_0x1cf39f)[_0xc383e1(0x607)](_0x4ae3a5=>{const _0x5251b0=_0xc383e1;switch(_0x4ae3a5['type']){case _0x406df3[_0x5251b0(0x9c4)][_0x5251b0(0xa62)]:return{'type':_0x406df3[_0x5251b0(0x9c4)][_0x5251b0(0xa62)],'getId':_0x4ae3a5[_0x5251b0(0x362)][_0x5251b0(0xa0a)](_0x4ae3a5),'getDisplayName':_0x4ae3a5[_0x5251b0(0x195)][_0x5251b0(0xa0a)](_0x4ae3a5),'getEmail':_0x4ae3a5[_0x5251b0(0x1b8)][_0x5251b0(0xa0a)](_0x4ae3a5),'getRemoteConnections':_0x4ae3a5['getRemoteConnections'][_0x5251b0(0xa0a)](_0x4ae3a5)};case _0x406df3[_0x5251b0(0x9c4)][_0x5251b0(0x37e)]:return{'type':_0x406df3[_0x5251b0(0x9c4)][_0x5251b0(0x37e)],'getId':_0x4ae3a5['getId'][_0x5251b0(0xa0a)](_0x4ae3a5),'getRemoteConnections':_0x4ae3a5[_0x5251b0(0xa4a)][_0x5251b0(0xa0a)](_0x4ae3a5)};default:throw new _0x3f1f96(_0x429a2c[_0x5251b0(0xab4)],_0x5251b0(0x638));}});}['on']=(..._0x462d04)=>{this['eventEmitter']['on'](..._0x462d04);};[_0x2ad6ba(0x4ce)]=(..._0x2be2ab)=>this[_0x2ad6ba(0x554)]['emit'](..._0x2be2ab);[_0x2ad6ba(0x8fa)](..._0x505aef){const _0x1f7980=_0x2ad6ba;this[_0x1f7980(0x554)]['off'](..._0x505aef);}}class _0xc0c39f{['id'];[_0x2ad6ba(0xa8b)];[_0x2ad6ba(0xa1c)];[_0x2ad6ba(0x285)]=_0x406df3['NodeType'][_0x2ad6ba(0xa62)];[_0x2ad6ba(0x862)]=new Map();['observer']=_0x2af2eb();constructor(_0x2b22e6,_0x33e716,_0x18ae57){const _0x1ada69=_0x2ad6ba;this['id']=_0x2b22e6,this[_0x1ada69(0xa8b)]=_0x33e716,this['email']=_0x18ae57;}[_0x2ad6ba(0x362)](){return this['id'];}[_0x2ad6ba(0x195)](){const _0x902bba=_0x2ad6ba;return this[_0x902bba(0xa8b)];}[_0x2ad6ba(0x1b8)](){const _0x4a0913=_0x2ad6ba;return this[_0x4a0913(0xa1c)];}[_0x2ad6ba(0xa03)](_0x2cae2e){const _0x512db1=_0x2ad6ba;this[_0x512db1(0xa8b)]!==_0x2cae2e&&(this[_0x512db1(0xa8b)]=_0x2cae2e,this[_0x512db1(0xa3f)][_0x512db1(0x29d)](this));}['setEmail'](_0x384e2a){const _0xa52249=_0x2ad6ba;this[_0xa52249(0xa1c)]!==_0x384e2a&&(this[_0xa52249(0xa1c)]=_0x384e2a,this[_0xa52249(0xa3f)][_0xa52249(0x29d)](this));}[_0x2ad6ba(0x68d)](_0x54145a,_0x19e8ef){const _0x5f5168=_0x2ad6ba;if(this[_0x5f5168(0x862)][_0x5f5168(0x98d)](_0x54145a))return;const _0x2b67e0=this[_0x5f5168(0xa3f)]['subscribe'](_0x19e8ef);this['joinedClusters'][_0x5f5168(0x50f)](_0x54145a,_0x2b67e0);}[_0x2ad6ba(0x944)](_0x456851){const _0x124169=_0x2ad6ba;if(!this[_0x124169(0x862)][_0x124169(0x98d)](_0x456851))return;const _0x2a3cc0=this['joinedClusters']['get'](_0x456851);_0x2a3cc0&&_0x2a3cc0(),this[_0x124169(0x862)][_0x124169(0xa12)](_0x456851);}}class _0xa6af6e{[_0x2ad6ba(0x8e1)];[_0x2ad6ba(0x54a)];constructor(_0x18f833){const _0x57bbc2=_0x2ad6ba;this[_0x57bbc2(0x8e1)]=_0x18f833;}async[_0x2ad6ba(0x548)](_0x3413d5){const _0x35c9d7=_0x2ad6ba,_0x5d4bcc=await(0x0,_0x1f6782[_0x35c9d7(0x5e9)])(_0x480677[_0x35c9d7(0x731)](),_0x35c9d7(0x1cc))({'uid':'ccc'+this[_0x35c9d7(0x8e1)]+_0x35c9d7(0x5c8)+_0x3413d5['id']}),_0x1241e5=await(0x0,_0x3e570a[_0x35c9d7(0xab2)])(_0x480677['getAuth'](),_0x5d4bcc['data'][_0x35c9d7(0x897)]);this[_0x35c9d7(0x54a)]=_0x1241e5[_0x35c9d7(0x54a)];}async[_0x2ad6ba(0xa9b)](){const _0x4d6700=_0x2ad6ba;await(0x0,_0x3e570a[_0x4d6700(0xa9b)])(_0x480677[_0x4d6700(0x8fd)]());}['getIdToken'](){const _0x15654c=_0x2ad6ba;return this[_0x15654c(0x54a)]?.['getIdToken']()??Promise[_0x15654c(0x31e)](_0x15654c(0x5da));}}class _0x20bb53{static [_0x2ad6ba(0x691)];[_0x2ad6ba(0x4bd)]=[];constructor(){}static[_0x2ad6ba(0x1d8)](){const _0x1d6f7b=_0x2ad6ba;return _0x20bb53[_0x1d6f7b(0x691)]||(_0x20bb53['instance']=new _0x20bb53()),_0x20bb53['instance'];}[_0x2ad6ba(0x88b)](){const _0x3a1698=_0x2ad6ba;this['checkWebRTC'](),this[_0x3a1698(0xa55)](),this[_0x3a1698(0x6a8)](),this['checkAudioVolume'](),this[_0x3a1698(0xa77)](),this[_0x3a1698(0x492)](),this['checkMediaRecording'](),this[_0x3a1698(0x7c1)](),this['checkWebGL'](),this[_0x3a1698(0x6d0)](),_0xe8f382[_0x3a1698(0xa40)](_0x1b63ac[_0x3a1698(0x6fd)],_0x3a1698(0x45d),{'featureSupport':this[_0x3a1698(0x4bd)]});}['isFeatureSupported'](_0x12e0fe){const _0x15dd8b=_0x2ad6ba,_0x434fd2=this[_0x15dd8b(0x4bd)][_0x15dd8b(0x2e0)](_0x1d63d2=>_0x1d63d2['name']===_0x12e0fe);return!!_0x434fd2&&_0x434fd2[_0x15dd8b(0x86b)];}[_0x2ad6ba(0x8e9)](_0xf2b506){const _0x357f4d=_0x2ad6ba;_0xe8f382[_0x357f4d(0x844)](_0x357f4d(0x4fc),{'nodeId':_0xf2b506[_0x357f4d(0x362)](),'nodeType':_0xf2b506[_0x357f4d(0x285)],'data':{'featureSupport':this[_0x357f4d(0x4bd)]}});}['checkWebRTC'](){const _0x3e64d8=_0x2ad6ba,_0x457491=_0x4dd235[_0x3e64d8(0xa8c)];let _0x37fb69=!0x1;'function'==typeof RTCPeerConnection&&_0x3e64d8(0x6d4)==typeof RTCIceCandidate&&'function'==typeof RTCSessionDescription?_0x37fb69=!0x0:_0xe8f382[_0x3e64d8(0xa40)](_0x1b63ac[_0x3e64d8(0x6fd)],_0x3e64d8(0x7cf)+_0x457491+_0x3e64d8(0x7be)),this[_0x3e64d8(0x4bd)][_0x3e64d8(0x673)]({'name':_0x457491,'supported':_0x37fb69});}[_0x2ad6ba(0xa55)](){const _0x31c4ba=_0x2ad6ba,_0x1ea44f=_0x4dd235[_0x31c4ba(0x6a0)];let _0x18a33b=!0x1;_0x31c4ba(0x6d4)==typeof MediaStream&&_0x31c4ba(0x6d4)==typeof MediaStreamTrack&&_0x31c4ba(0x24f)==typeof navigator&&_0x31c4ba(0x24f)==typeof navigator[_0x31c4ba(0x8bc)]&&_0x31c4ba(0x6d4)==typeof navigator['mediaDevices'][_0x31c4ba(0x89e)]?_0x18a33b=!0x0:_0xe8f382[_0x31c4ba(0xa40)](_0x1b63ac[_0x31c4ba(0x6fd)],_0x31c4ba(0x7cf)+_0x1ea44f+'\x20not\x20supported'),this[_0x31c4ba(0x4bd)]['push']({'name':_0x1ea44f,'supported':_0x18a33b});}['checkScreenSharing'](){const _0x57d69c=_0x2ad6ba,_0x250de4=_0x4dd235[_0x57d69c(0x542)];let _0x3f6d49=!0x1;_0x57d69c(0x24f)==typeof navigator&&_0x57d69c(0x24f)==typeof navigator[_0x57d69c(0x8bc)]&&_0x57d69c(0x6d4)==typeof navigator[_0x57d69c(0x8bc)]['getDisplayMedia']?_0x3f6d49=!0x0:_0xe8f382['log'](_0x1b63ac[_0x57d69c(0x6fd)],_0x57d69c(0x7cf)+_0x250de4+_0x57d69c(0x7be)),this[_0x57d69c(0x4bd)][_0x57d69c(0x673)]({'name':_0x250de4,'supported':_0x3f6d49});}['checkAudioVolume'](){const _0x439ec8=_0x2ad6ba,_0x3e81c4=_0x4dd235[_0x439ec8(0x3e2)];let _0x249b05=!0x1;_0x439ec8(0x6d4)!=typeof AudioContext||_0x439ec8(0x6d4)!=typeof ScriptProcessorNode&&_0x439ec8(0x6d4)!=typeof AudioWorkletNode||_0x439ec8(0x6d4)!=typeof MediaStreamAudioSourceNode?_0xe8f382[_0x439ec8(0xa40)](_0x1b63ac[_0x439ec8(0x6fd)],_0x439ec8(0x7cf)+_0x3e81c4+_0x439ec8(0x7be)):_0x249b05=!0x0,this[_0x439ec8(0x4bd)]['push']({'name':_0x3e81c4,'supported':_0x249b05});}[_0x2ad6ba(0xa77)](){const _0x5957d0=_0x2ad6ba,_0x385682=_0x4dd235[_0x5957d0(0x968)];let _0x2bbe41=!0x1;_0x5957d0(0x24f)==typeof navigator&&_0x5957d0(0x24f)==typeof navigator[_0x5957d0(0x8bc)]&&_0x5957d0(0x6d4)==typeof navigator[_0x5957d0(0x8bc)][_0x5957d0(0x9a1)]&&_0x5957d0(0x6d4)==typeof MediaDeviceInfo?_0x2bbe41=!0x0:_0xe8f382['log'](_0x1b63ac[_0x5957d0(0x6fd)],_0x5957d0(0x7cf)+_0x385682+'\x20not\x20supported'),this[_0x5957d0(0x4bd)][_0x5957d0(0x673)]({'name':_0x385682,'supported':_0x2bbe41});}['checkAudioOutput'](){const _0x5cc835=_0x2ad6ba,_0x268eb1=_0x4dd235[_0x5cc835(0x6ba)];let _0x21aef8=!0x1;_0x5cc835(0x24f)==typeof document&&_0x5cc835(0x6d4)==typeof document[_0x5cc835(0x832)](_0x5cc835(0x28d))[_0x5cc835(0x476)]?_0x21aef8=!0x0:_0xe8f382[_0x5cc835(0xa40)](_0x1b63ac[_0x5cc835(0x6fd)],_0x5cc835(0x7cf)+_0x268eb1+_0x5cc835(0x7be)),this['featureSupport']['push']({'name':_0x268eb1,'supported':_0x21aef8});}async[_0x2ad6ba(0x24b)](){const _0x44abc8=_0x2ad6ba,_0x4aaecb=_0x4dd235[_0x44abc8(0x6ef)];let _0x1d8c10=!0x1;try{const _0x35330c=document[_0x44abc8(0x832)](_0x44abc8(0x8d0));if(MediaRecorder&&MediaSource&&_0x35330c[_0x44abc8(0x37b)]){const _0x3d9f3b=_0x35330c[_0x44abc8(0x37b)](),_0x5b6e60=new MediaRecorder(_0x3d9f3b);_0x5b6e60[_0x44abc8(0x28b)](),await new Promise(_0x17da20=>setTimeout(_0x17da20,0x7d0)),_0x5b6e60[_0x44abc8(0x5ee)](),_0x1d8c10='inactive'===_0x5b6e60[_0x44abc8(0x9c0)];}}catch(_0x516a25){_0xe8f382[_0x44abc8(0xa40)](_0x1b63ac[_0x44abc8(0x6fd)],'Support:\x20'+_0x4aaecb+_0x44abc8(0x778),_0x516a25);}this[_0x44abc8(0x4bd)]['push']({'name':_0x4aaecb,'supported':_0x1d8c10}),_0x1d8c10||_0xe8f382['log'](_0x1b63ac[_0x44abc8(0x6fd)],_0x44abc8(0x7cf)+_0x4aaecb+'\x20not\x20supported');}[_0x2ad6ba(0x7c1)](){const _0x24a34b=_0x2ad6ba,_0x4beef3=_0x4dd235[_0x24a34b(0x846)];let _0x14544a=!0x1;try{document[_0x24a34b(0x832)](_0x24a34b(0x8d0))[_0x24a34b(0x37b)]&&(_0x14544a=!0x0);}catch(_0x11ec44){_0xe8f382['log'](_0x1b63ac[_0x24a34b(0x6fd)],_0x24a34b(0x7cf)+_0x4beef3+_0x24a34b(0x778),_0x11ec44);}this[_0x24a34b(0x4bd)]['push']({'name':_0x4beef3,'supported':_0x14544a}),_0x14544a||_0xe8f382[_0x24a34b(0xa40)](_0x1b63ac[_0x24a34b(0x6fd)],_0x24a34b(0x7cf)+_0x4beef3+_0x24a34b(0x7be));}['checkWebGL'](){const _0x1a5fa6=_0x2ad6ba,_0x4b9c1c=_0x4dd235[_0x1a5fa6(0x407)];let _0xf6d789=!0x1;try{const _0x31526c=document['createElement'](_0x1a5fa6(0x8d0));WebGLRenderingContext&&_0x31526c['getContext'](_0x1a5fa6(0xa98))&&(_0xf6d789=!0x0);}catch(_0x12ffde){_0xe8f382[_0x1a5fa6(0xa40)](_0x1b63ac[_0x1a5fa6(0x6fd)],_0x1a5fa6(0x7cf)+_0x4b9c1c+_0x1a5fa6(0x778),_0x12ffde);}this[_0x1a5fa6(0x4bd)][_0x1a5fa6(0x673)]({'name':_0x4b9c1c,'supported':_0xf6d789}),_0xf6d789||_0xe8f382[_0x1a5fa6(0xa40)](_0x1b63ac[_0x1a5fa6(0x6fd)],'Support:\x20'+_0x4b9c1c+'\x20not\x20supported');}[_0x2ad6ba(0x6d0)](){const _0x4b793a=_0x2ad6ba,_0x2b2eb5=_0x4dd235[_0x4b793a(0x3b9)];let _0x5bb19f=!0x1;'function'==typeof AudioContext?_0x5bb19f=!0x0:_0xe8f382['log'](_0x1b63ac[_0x4b793a(0x6fd)],_0x4b793a(0x7cf)+_0x2b2eb5+'\x20not\x20supported'),this['featureSupport'][_0x4b793a(0x673)]({'name':_0x2b2eb5,'supported':_0x5bb19f});}}const _0x51016c=_0x20bb53[_0x2ad6ba(0x1d8)]();class _0x1b4094{static [_0x2ad6ba(0x691)];static [_0x2ad6ba(0x99f)];static [_0x2ad6ba(0x5c0)];[_0x2ad6ba(0xa49)];[_0x2ad6ba(0x8e1)];[_0x2ad6ba(0x6e9)];[_0x2ad6ba(0x744)];[_0x2ad6ba(0x94a)]=new Map();[_0x2ad6ba(0x260)];constructor(_0x5d3013,_0x1f80c6,_0x4e5441){const _0x45789d=_0x2ad6ba;this[_0x45789d(0x8e1)]=_0x5d3013,this[_0x45789d(0x744)]=_0x1f80c6,this['authService']=new _0xa6af6e(this[_0x45789d(0x8e1)]),_0x51016c['initialize'](),this[_0x45789d(0x6e9)]={'audioContext':_0x4e5441?.[_0x45789d(0x5f8)]??(_0x51016c[_0x45789d(0x271)](_0x4dd235[_0x45789d(0x3b9)])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0x4e5441?.[_0x45789d(0x4ff)]??0x1,'minConnections':_0x4e5441?.[_0x45789d(0x1b9)]??0x3,'maxConnections':_0x4e5441?.[_0x45789d(0x6a5)]??(_0x4e5441?.[_0x45789d(0x1b9)]&&0x4*_0x4e5441[_0x45789d(0x1b9)])??0xc,'maxDistance':_0x4e5441?.[_0x45789d(0x985)]??0xa,'maxFps':_0x4e5441?.[_0x45789d(0x39a)]??0x18,'maxBpp':_0x4e5441?.['maxBpp']??0.12,'objectStoreConnector':_0x4e5441?.[_0x45789d(0x9ed)]??_0x4651db[_0x45789d(0x5b3)],'externalStorageConnectors':_0x4e5441?.['externalStorageConnectors'],'keyValueDatabaseConnector':_0x4e5441?.[_0x45789d(0x9d4)]??_0x2b2bfe[_0x45789d(0x9ec)],'loggingDatabaseConnector':_0x4e5441?.[_0x45789d(0x5e2)]??_0x2b2bfe[_0x45789d(0x9ec)],'peerConnectionConnector':_0x4e5441?.[_0x45789d(0x755)]??_0x2458bd[_0x45789d(0x982)],'generativeAIWorkerConnectors':_0x4e5441?.[_0x45789d(0xa1e)],'vectorDatabaseConnector':_0x4e5441?.['vectorDatabaseConnector'],'graphDatabaseConnector':_0x4e5441?.[_0x45789d(0x66d)],'documentParserConnector':_0x4e5441?.[_0x45789d(0x462)],'nlpLibraryConnector':_0x4e5441?.[_0x45789d(0x4dd)],'searchConnector':_0x4e5441?.[_0x45789d(0x79d)],'aiSearchConnector':_0x4e5441?.['aiSearchConnector'],'queryFileConnector':_0x4e5441?.[_0x45789d(0x555)]},_0x4e5441?.[_0x45789d(0x5bf)]&&this[_0x45789d(0x6e9)][_0x45789d(0x5f8)]&&_0x401df5[_0x45789d(0xa2b)](this['options'][_0x45789d(0x5f8)]),_0xe8f382['setVendorId'](this[_0x45789d(0x8e1)]),_0x4e5441?.[_0x45789d(0x291)]&&_0xe8f382['setLoggingConnectors'](_0x4e5441[_0x45789d(0x291)]);}static async[_0x2ad6ba(0x1d8)](_0x33d541,_0x13b273,_0x5515fd,_0xb5ba18,_0x1ae64f){const _0x48fd7b=_0x2ad6ba;this['mode']=_0x5515fd;const _0x19397e=await this['validateAccess'](_0x33d541,_0x13b273,_0x1ae64f);return _0x1b4094[_0x48fd7b(0x691)]||(_0x1b4094[_0x48fd7b(0x691)]=new _0x1b4094(_0x33d541,_0x19397e,_0xb5ba18)),{'close':_0x1b4094[_0x48fd7b(0x691)]['close'][_0x48fd7b(0xa0a)](_0x1b4094[_0x48fd7b(0x691)]),'authenticateUser':_0x1b4094[_0x48fd7b(0x691)][_0x48fd7b(0x1e2)][_0x48fd7b(0xa0a)](_0x1b4094[_0x48fd7b(0x691)]),'authenticateAgent':_0x1b4094[_0x48fd7b(0x691)][_0x48fd7b(0x74f)][_0x48fd7b(0xa0a)](_0x1b4094[_0x48fd7b(0x691)]),'joinCluster':_0x1b4094[_0x48fd7b(0x691)][_0x48fd7b(0x71b)][_0x48fd7b(0xa0a)](_0x1b4094[_0x48fd7b(0x691)])};}static async[_0x2ad6ba(0x687)](){return _0x480677['getEstimatedTimestamp']();}static[_0x2ad6ba(0x521)](){const _0x1f81c2=_0x2ad6ba;return _0x582331[_0x1f81c2(0x521)];}async['close'](_0x4fe4d0){const _0x130f99=_0x2ad6ba;this[_0x130f99(0x94a)][_0x130f99(0x9a0)](_0xf1aa5d=>{const _0xe71cbc=_0x130f99;_0xf1aa5d['off'](),_0xf1aa5d[_0xe71cbc(0x93b)](_0x4fe4d0);}),this['clusters'][_0x130f99(0xa82)](),this['options'][_0x130f99(0x5f8)]&&_0x401df5[_0x130f99(0x487)](),_0x1b4094['unsubscribe']?.(),_0x1b4094[_0x130f99(0x99f)]=void 0x0,this[_0x130f99(0x260)]=void 0x0,await this[_0x130f99(0xa49)]['signOut'](),_0x1b4094['instance']=void 0x0;}static async[_0x2ad6ba(0x93e)](_0x3f20d3,_0x1e6784,_0x17b0ea){const _0x574f34=_0x2ad6ba;if(!this[_0x574f34(0x5c0)])throw new _0x3f1f96(_0x429a2c[_0x574f34(0x6ca)],_0x574f34(0x998));let _0x159508;try{_0x159508=await(0x0,_0x1f6782[_0x574f34(0x5e9)])(_0x480677[_0x574f34(0x731)](),_0x574f34(0xa86))({'vendorId':_0x3f20d3,'accessToken':_0x1e6784,'secretKey':_0x17b0ea});}catch(_0x2c9a46){throw new _0x3f1f96(_0x429a2c[_0x574f34(0x39b)],_0x574f34(0x2d3));}if(!this[_0x574f34(0x29f)](_0x159508['data']))throw new _0x3f1f96(_0x429a2c['InvalidAccess'],_0x574f34(0x2d3));const _0x3d9549=_0x159508[_0x574f34(0x19c)];return _0x3d9549[_0x574f34(0x85f)]||(_0x3d9549[_0x574f34(0x85f)]=[]),this[_0x574f34(0x99f)]||(this['unsubscribe']=_0x401df5[_0x574f34(0x338)](async()=>{const _0x5e1f11=_0x574f34;try{const _0x296ba1=await this[_0x5e1f11(0x93e)](_0x3f20d3,_0x1e6784,_0x17b0ea);this[_0x5e1f11(0x5c0)]===_0x406df3[_0x5e1f11(0x9c4)]['Agent']&&(_0x296ba1[_0x5e1f11(0x2eb)]=_0x296ba1[_0x5e1f11(0x2eb)][_0x5e1f11(0x1bc)](_0x2a919f=>_0x2a919f[_0x5e1f11(0x52d)][_0x5e1f11(0x493)](_0x5e1f11(0x630)))),_0x3d9549[_0x5e1f11(0x2eb)]=_0x296ba1[_0x5e1f11(0x2eb)];}catch(_0x2225bd){}},0x1b7740)),_0x3d9549;}async[_0x2ad6ba(0x1e2)](_0x22d531){const _0x2521c3=_0x2ad6ba;if(_0x1b4094['mode']!==_0x406df3[_0x2521c3(0x9c4)][_0x2521c3(0xa62)])throw new _0x3f1f96(_0x429a2c['NodeInvalidType'],'Node\x20type\x20is\x20invalid');await this[_0x2521c3(0xa49)][_0x2521c3(0x548)](_0x22d531);const _0x509ff9=new _0xc0c39f(_0x22d531['id'],_0x22d531['displayName'],_0x22d531[_0x2521c3(0xa1c)]);return this[_0x2521c3(0x260)]={'node':_0x509ff9},_0x51016c[_0x2521c3(0x8e9)](_0x509ff9),{'type':_0x406df3[_0x2521c3(0x9c4)][_0x2521c3(0xa62)],'getId':_0x509ff9[_0x2521c3(0x362)][_0x2521c3(0xa0a)](_0x509ff9),'getDisplayName':_0x509ff9[_0x2521c3(0x195)][_0x2521c3(0xa0a)](_0x509ff9),'getEmail':_0x509ff9['getEmail'][_0x2521c3(0xa0a)](_0x509ff9),'setDisplayName':_0x509ff9['setDisplayName'][_0x2521c3(0xa0a)](_0x509ff9),'setEmail':_0x509ff9[_0x2521c3(0x835)][_0x2521c3(0xa0a)](_0x509ff9)};}async[_0x2ad6ba(0x74f)](_0x5d9c4){const _0x2f5bd4=_0x2ad6ba;if(_0x1b4094[_0x2f5bd4(0x5c0)]!==_0x406df3['NodeType']['Agent'])throw new _0x3f1f96(_0x429a2c[_0x2f5bd4(0xab4)],_0x2f5bd4(0x4b7));const {id:_0x36827a,groupId:_0x3d3f62}=_0x5d9c4,_0x464997=await(0x0,_0x2fd630[_0x2f5bd4(0x73e)])((0x0,_0x2fd630['doc'])(_0x480677['getFirestore'](),_0x2f5bd4(0x376)+this['vendorId']+_0x2f5bd4(0x366)+_0x3d3f62));if(!_0x464997[_0x2f5bd4(0x855)]())throw new _0x3f1f96(_0x429a2c[_0x2f5bd4(0xa34)],_0x2f5bd4(0x3a0));const _0x5e437b=_0x464997['data']();await this[_0x2f5bd4(0xa49)][_0x2f5bd4(0x548)]({'id':_0x36827a});const _0x5acc6d=new _0x337e7b(_0x36827a,_0x3d3f62,this[_0x2f5bd4(0x8e1)],_0x5e437b);return this[_0x2f5bd4(0x260)]={'node':_0x5acc6d},_0x51016c[_0x2f5bd4(0x8e9)](_0x5acc6d),this[_0x2f5bd4(0xaa6)](_0x5acc6d),{'type':_0x406df3[_0x2f5bd4(0x9c4)]['Agent'],'getId':_0x5acc6d[_0x2f5bd4(0x362)]['bind'](_0x5acc6d),'onConfigurationChange':_0x5acc6d[_0x2f5bd4(0x36f)]['bind'](_0x5acc6d),'setReportCapacity':_0x5acc6d[_0x2f5bd4(0x768)]['bind'](_0x5acc6d)};}async[_0x2ad6ba(0x71b)](_0x3f6ae0){const _0x2b86db=_0x2ad6ba;if(!this[_0x2b86db(0x260)])throw new _0x3f1f96(_0x429a2c[_0x2b86db(0xa34)],_0x2b86db(0x611));if(this['authContext'][_0x2b86db(0x8cd)][_0x2b86db(0x285)]!==_0x406df3[_0x2b86db(0x9c4)][_0x2b86db(0xa62)])throw new _0x3f1f96(_0x429a2c[_0x2b86db(0x637)],_0x2b86db(0x259));if(this['clusters'][_0x2b86db(0x98d)](_0x3f6ae0))throw new _0x3f1f96(_0x429a2c[_0x2b86db(0x4c6)],_0x2b86db(0x25d));const _0x168095=new _0x20fce6(this[_0x2b86db(0x8e1)],_0x3f6ae0,this['authContext'][_0x2b86db(0x8cd)],this[_0x2b86db(0xa49)],this['options'],this[_0x2b86db(0x744)]);return await _0x168095[_0x2b86db(0x3a2)](),this['addCluster'](_0x3f6ae0,_0x168095),_0xe8f382['logEvent'](_0x2b86db(0x61d),{'clusterId':_0x3f6ae0,'nodeId':this[_0x2b86db(0x260)]['node'][_0x2b86db(0x362)](),'nodeType':this[_0x2b86db(0x260)][_0x2b86db(0x8cd)]['type']}),{'leave':_0x168095[_0x2b86db(0x93b)][_0x2b86db(0xa0a)](_0x168095),'getLocalNode':_0x168095[_0x2b86db(0x247)][_0x2b86db(0xa0a)](_0x168095),'openPubSubTopic':_0x168095['openPubSubTopic'][_0x2b86db(0xa0a)](_0x168095),'openObjectStoreBucket':_0x168095[_0x2b86db(0xa4d)][_0x2b86db(0xa0a)](_0x168095),'openExternalStorageConnection':_0x168095[_0x2b86db(0x55d)][_0x2b86db(0xa0a)](_0x168095),'openKeyValueDatabase':_0x168095[_0x2b86db(0x1b6)][_0x2b86db(0xa0a)](_0x168095),'openGenerativeAIContext':_0x168095['openGenerativeAIContext']['bind'](_0x168095),'openGenerativeAIWorker':_0x168095[_0x2b86db(0x417)][_0x2b86db(0xa0a)](_0x168095),'openGraphDatabase':_0x168095[_0x2b86db(0x34b)]['bind'](_0x168095),'openVectorDatabase':_0x168095['openVectorDatabase'][_0x2b86db(0xa0a)](_0x168095),'publishLocalMediaStream':_0x168095[_0x2b86db(0x406)][_0x2b86db(0xa0a)](_0x168095),'publishLocalDynamicMediaStream':_0x168095['publishLocalDynamicMediaStream'][_0x2b86db(0xa0a)](_0x168095),'getPubSubTopics':_0x168095[_0x2b86db(0x632)][_0x2b86db(0xa0a)](_0x168095),'getObjectStoreBuckets':_0x168095[_0x2b86db(0x242)]['bind'](_0x168095),'getExternalStorageConnections':_0x168095[_0x2b86db(0x7b3)][_0x2b86db(0xa0a)](_0x168095),'getKeyValueDatabases':_0x168095['getKeyValueDatabases'][_0x2b86db(0xa0a)](_0x168095),'getGenerativeAIContexts':_0x168095['getGenerativeAIContexts'][_0x2b86db(0xa0a)](_0x168095),'getGenerativeAIWorkers':_0x168095[_0x2b86db(0x391)]['bind'](_0x168095),'getGraphDatabases':_0x168095[_0x2b86db(0x4fb)][_0x2b86db(0xa0a)](_0x168095),'getVectorDatabases':_0x168095['getVectorDatabases'][_0x2b86db(0xa0a)](_0x168095),'getLocalMediaStreams':_0x168095[_0x2b86db(0xa5d)][_0x2b86db(0xa0a)](_0x168095),'getRemoteMediaStreams':_0x168095[_0x2b86db(0x990)][_0x2b86db(0xa0a)](_0x168095),'getRemoteNodes':_0x168095[_0x2b86db(0x734)][_0x2b86db(0xa0a)](_0x168095),'on':_0x168095['on'][_0x2b86db(0xa0a)](_0x168095),'off':_0x168095['off'][_0x2b86db(0xa0a)](_0x168095)};}async['connectAgent'](_0x2f9a56){const _0x4f4142=_0x2ad6ba;for(const _0xfd7581 of _0x2f9a56[_0x4f4142(0x929)][_0x4f4142(0x94a)]){const _0x5069f3=new _0x20fce6(this[_0x4f4142(0x8e1)],_0xfd7581['id'],_0x2f9a56,this[_0x4f4142(0xa49)],this[_0x4f4142(0x6e9)],this[_0x4f4142(0x744)]);await _0x5069f3[_0x4f4142(0x3a2)](),this[_0x4f4142(0x4f0)](_0xfd7581['id'],_0x5069f3),_0xe8f382[_0x4f4142(0x849)](_0x4f4142(0x51d),_0xfd7581['id']);for(const _0x5d678f of _0xfd7581[_0x4f4142(0x6ee)]??[])_0x5069f3[_0x4f4142(0x4d5)](_0x5d678f),_0xe8f382[_0x4f4142(0x849)](_0x4f4142(0x1c7),_0x5d678f);for(const _0x1edf4d of _0xfd7581[_0x4f4142(0xa3e)]??[])await _0x5069f3['openObjectStoreBucket'](_0x1edf4d),_0xe8f382[_0x4f4142(0x849)](_0x4f4142(0x586),_0x1edf4d);for(const _0x4d7d32 of _0xfd7581[_0x4f4142(0x9e9)]??[])await _0x5069f3[_0x4f4142(0xa4d)](_0x4d7d32,{'standalone':!0x0}),_0xe8f382[_0x4f4142(0x849)](_0x4f4142(0x9b0),_0x4d7d32);for(const _0xf98d1 of _0xfd7581[_0x4f4142(0x461)]??[]){const _0x273133=_0xf98d1['split']('-');await _0x5069f3[_0x4f4142(0x55d)](_0x273133[0x1],_0x273133[0x0]),_0xe8f382['forceLog'](_0x4f4142(0x3d4),_0xf98d1);}for(const _0x436337 of _0xfd7581[_0x4f4142(0x4f8)]??[])await _0x5069f3[_0x4f4142(0x1b6)](_0x436337,{'version':0x1,'tables':{}}),_0xe8f382['forceLog'](_0x4f4142(0x173),_0x436337);for(const _0x42137d of _0xfd7581[_0x4f4142(0x77e)]??[])_0x5069f3['openGraphDatabase'](_0x42137d),_0xe8f382[_0x4f4142(0x849)](_0x4f4142(0x3e6),_0x42137d);for(const _0x545167 of _0xfd7581[_0x4f4142(0x842)]??[])_0x5069f3[_0x4f4142(0x850)](_0x545167),_0xe8f382[_0x4f4142(0x849)](_0x4f4142(0x475),_0x545167);for(const _0x45740a of _0xfd7581[_0x4f4142(0x598)]??[]){const _0x1491b0=_0xbe45c(this[_0x4f4142(0x8e1)],_0x45740a),_0x401c5a=_0x4e6b5f(),_0x189eb8=this[_0x4f4142(0x6e9)]['loggingDatabaseConnector']??this[_0x4f4142(0x6e9)]['keyValueDatabaseConnector'];await _0x5069f3[_0x4f4142(0x1b6)](_0x1491b0,_0x401c5a,_0x189eb8),_0xe8f382[_0x4f4142(0x849)](_0x4f4142(0x3ea),_0x1491b0),await _0x5069f3['openGenerativeAIWorker'](_0x45740a),_0xe8f382[_0x4f4142(0x849)]('Opened\x20generative\x20AI\x20worker',_0x45740a);}}}[_0x2ad6ba(0x4f0)](_0x4dc2a3,_0x3459ec){const _0x39d7d5=_0x2ad6ba;this[_0x39d7d5(0x94a)][_0x39d7d5(0x50f)](_0x4dc2a3,_0x3459ec),_0x3459ec['on']('cluster-leave',()=>{const _0x43f1cb=_0x39d7d5;_0x3459ec[_0x43f1cb(0x8fa)](),this[_0x43f1cb(0x94a)][_0x43f1cb(0xa12)](_0x4dc2a3);});}static['isInternalSDKConfigs'](_0xb5e31b){const _0x2a7d60=_0x2ad6ba;return void 0x0!==_0xb5e31b[_0x2a7d60(0x2eb)];}}return _0x1878a5;})())));function a0_0x333f(){const _0x161180=['getRemoteConnections','currentFrames','hashTransaction','openObjectStoreBucket','cpu.av_delay','MerkleMountainRange\x20-\x20appendTransaction\x20-\x20Completed.\x20Root:','runJobQueue','limit','InternalSDKError','debug','getVectorDatabase','checkMediaStream','request-accepted','dataChannel','outgoingTopic','sourceId','message','removeRemoteStreamSubscription','trace','getLocalMediaStreams','JobContext','GraphSearch','open','GenerativeAIContextInvalidPartialResult','User','json','.tpl','internal-sdk-error','hasRemoteNode','Logger.getInstance','getReceiverBitrate','getBufferedAmount','keys','GenerativeAIContextCreationFailed','bufferedChunks','entity','ceil','batchQueue','word-splitter','Found\x20','currentBytes','list','Synced','getModel','trackChanges','checkDeviceConfig','Error\x20encountered\x20while\x20opening\x20database','traceLevel','offset','createConstantSource','/resources/generative-ai-collection/items','DEBUG\x20-\x20','KeyValueDatabaseInvalidLayout','floor','Error\x20fetching\x20file','Cannot\x20get\x20file:\x20','clear','Publish\x20the\x20transaction','sendWithRetry','GenerativeAITracing\x20-\x20trace\x20is\x20not\x20open','sdkValidateAccess','endsWith','1.0.23.0','vectors','\x20received\x20partial\x20result:','displayName','WebRTC','eventListener','GraphDatabaseAlreadyExists','StreamReport','detectProblems','generative-ai-context-does-not-exist','AI\x20worker\x20creation\x20failed.','JobDispatcherObserverNotFound','outgoingManager','ObjectStoreInvalidPath','search','debounceStats','webgl','key-value-database-name-not-string','json_arr','signOut','VectorSearch','parseWorkflowDocument','createAIJob','processReceivedTransactions','onGatheringStateChange','ConnectionNoRetryQueue','contentType','contextOutputVariable','buildInitialMMR','answerJoin','connectAgent','Data','JobWorker:\x20Sending\x20job\x20partial\x20result','sendPeakTransactions','isArray','.mustache','Error\x20loading\x20external\x20content','https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','tail','onNodeUpdate','Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string','query','signInWithCustomToken','fps','NodeInvalidType','createNewBatch','stopTracing','KeyValueDatabaseNotOpen','track','cancel','createFolder','event','cluster-already-joined','us-east-1','\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','onClose','\x27\x20is\x20not\x20ready','Key-value\x20database\x20peak\x20not\x20found.','closeTopic','ingestBlocks','timePerFrame','tracks','frames','Opened\x20key\x20value\x20database','LocalMediaStreamAlreadyExists','.djt','DataCollection','Incoming','All','endpointMethod','asyncEndpointUrl','getJob','key-value-database-not-open','addNode','nodeUpdate','storageType','GenerativeAIContext','IngestTrace','processContentQueue','job-dispatcher-job-exists','handleContentUnpublishMediaStream','Please\x20provide\x20a\x20threadId\x20in\x20the\x20options','rebuildMMR','createOutgoingSubscription','ObjectStoreNotInSync','Error\x20opening\x20trace','No\x20global\x20object\x20found','.xlsx','buffer','url','getLayout','bytesSent','success','layout','.vbs','ancestors','text/plain','getDisplayName','Subscribing\x20to\x20an\x20event:\x20on','peer-connection','unregisterDestination','@context.','uid','4URQgnX','data','label','getTotalNodes','getShareableStreamId','modelsBucketId','setSenderTimestamp','object-store-stream-does-not-exist','crewdle-sdk-stg','absolutePathName','evaluateProccessedJob','Upgrade','writeTransaction\x20-\x20transaction\x20already\x20exists','Setting\x20context\x20for\x20agent\x20skill\x20block','ObjectKind','Invalid\x20params','Failed','processPendingHandshakeCandidates','handleNodeDisconnect','sendAction','clockSkew','max','.crewdle-last-transaction','slice','Bid','Received\x20event\x20on\x20cluster','subscriptionManager','openKeyValueDatabase','createRemoteNode','getEmail','minConnections','SearchGoogle','isWhereValue','filter','debounceProcessRank','setupConnectionEvents','agent-skill','headers','generative-ai-context-job-missing-thread-id','getDatabase','closeConnection','getProviderId','random','externalStorageConnectionIds','Opened\x20pubsub\x20topic','firebaseConfig','split','.cs','handleContentSubscribeMediaStream','sdkCreateToken','StorageEventType','onDataChannel','removeRemoteMediaStream','api','topic','unpublish','temperature','transactionsToAppend','Error\x20resolving\x20readyPromises:','\x0a\x0a`Writing\x20file`\x0a\x0a','mediaTopics','getInstance','numeric','pow','KeyValueDatabaseTableNotFound','unregisterSystemSource','connectionGroup','0\x20B','DataStream','getSkills','\x20created\x20and\x20dispatched.','authenticateUser','trackKinds','commitTrace','startHeartbeat','Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.','modelId','RemoteMediaStreamInvalidSubscriptionParams','/resources/generative-ai-skill/items','handleSubscriptionMediaStreamUnavailable','startBidResponseHandling','subject','processBatch','manageBufferedChunks','GetContextResult','readyPromises','processReceiverReport','updateDebounce','Data\x20collection\x20block\x20is\x20missing\x20required\x20data','getRoundTripTime','setTimestamp','LocalMediaStreamNoAudioContext','appendTransactionAndUpdateHashMap','left','downgrade','handleFileRequest','SubscriptionRequestFailed','Data\x20Received','saveToDisk','externalStores','mistlet-capacity-report-not-set','10NINUfn','updateJob','batchTimeout','childRemovedUnsubscriber','AppSync\x20subscribe','includes','object-store-not-in-sync','detectVideoIssues','subscribe','logging-db-','VectorDatabaseDoesNotExist','getContent','AITrace','isAvailable','JobDispatcherJobExists','syncKeyValueDatabase','VectorDatabaseAlreadyExists','Disconnect','bandwidth.rtt','InvalidPublisher','requestSubscriptionAction','user-join','createOffer','CrewdleConnectionGroup','frameHeight','transactionIds','packets','detectStreamIssues','node-type-required','processRank','clusters/','CloseKeyValueDatabase','Invalid\x20table\x20name\x20\x27','KeyValueDatabaseSendTransactions','chunksReceived','parameters','Received\x20track','pathName','unsubscribeListener','pendingFilesTransactions','pendingFilesRename','lastProcessRank','receiverConnection','createVectorDatabase','startTracing','PromptRating','loadLocalContent','page','getRemoteNode','incomingManager','removeItem','Result','setDurationTime','retryCount','handleJobAttribution','.js','receiverPreviousBytes','subscriptionRequests','objectStores','uuid','title','VectorDatabaseStats','getVideoTracks','Knowledge\x20Cutoff\x20Date:\x20','.json','contentQueue','getObjectStoreBuckets','Setting\x20context\x20for\x20custom\x20skill\x20block','getGenerativeAIContexts','queryParameters','getKeyValueDatabases','getLocalNode','currentTimestamp','relevance','clearRestartTimeout','checkMediaRecording','connection-not-initialized','getGrammars','receiver-on-message','object','restartHandshake','deleteFileChunks','WriteFile','onDisconnectHandler','getDataCollections','handshakeState','getCoresFromCapacityReport','content','clientHeight','Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user','OutgoingMediaStreamNoTopic','systemMessages','Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream','Cluster\x20already\x20joined','getResolutionScale','default','authContext','getMaxDistance','Number','Received\x20sync\x20required.\x20Database\x20available:\x20Checking\x20synchronization','comparePeaks','timeSending','createLocalDynamicMediaStream','queryFile','ObjectStorageUpload','Update',':\x20Object\x20store\x20is\x20not\x20in\x20sync','recomputeRoot','data-stream','isBidResponse','Missing\x20graph\x20database\x20connector','chunk-splitter','chunk','isFeatureSupported','CanProvideMediaStream','processOutboundReports','Pool','expectedTransactions','minResolutionScale','.kt','pub-sub-topic-already-subscribed','firebaseUnsubscriber','.ejs','remediationManager','close','ExecuteCustomSkill','externalStorages','updateLastTransactionId','iceConnectionState\x20failed','pop','commitLevel','ended','InvalidSubscription','type','history','isSyncing','Remove','SubscriptionRequestInProgress','GenerativeAIEngineType','start','contentSize','video','Restart','estimatedPlayoutTimestamp','getBitrate','loggingConnectors','incrementVersion','Generative\x20AI\x20context\x20invalid\x20partial\x20result.','processOutboundReport','Missing\x20vector\x20database\x20connector','ObjectStorageBucket','onProviderChange','NeedRestart','publishMove','handleCloseContent','JobType','ObjectStoreAlreadyExists','publish','subtle','isInternalSDKConfigs','KeyValueDatabaseTableDoesNotExist','unsubscribeTrackEndedListener','totalNodes','getRemoteMediaStream','publishUserUpdate','blocks','FolderDelete','remote-media-stream-invalid-subscription-params','\x0a\x20\x20===\x20New\x20MMR\x20Root:\x20','addPendingHandshakeCandidate','messageUnsubscriber','user-update','tableUnsubscriber','loadEnabledChannels','processSenderReport','4441218YMQwuo','supports','getMediaSubscription','batchSize','key','\x20attempts:','handleUpdateMediaStream','collection','Search\x20connector\x20not\x20set','fetchContentFromUrl','name','head','isNodeReady','KeyValueDatabaseTableNameReserved','pubsubTopics','\x0a\x20===\x20Synchronization\x20Time:\x20','internalId','handlePublishMediaStream','clusterKey','Ingest','collectSendersStats','processInboundReports','Image','handleObjectMove','key-value-database-invalid-query','/nodes/','openJobDispatcher','operator','Internal\x20SDK\x20error:\x20','nodeKey','isSync','shouldContinuePropagation','gain','long','localMediaStreams','encode','Invalid\x20credentials','RemoteRemediation','dataUnsubscribers','Unknown\x20skill\x20type','CloseObjectStoreBucket','\x20new\x20transactions','\x20failed.','validateValue','return\x20this','files','removeListener','Vector\x20database\x20creation\x20failed.','Events','find','channel','internalDownloadDocument','Syncing','optimizationLayers','confirmSynchronization','Execute\x20the\x20agent\x20','maxFramerate','removeRemoteNode','tableName','candidate','iceServers','KeyValueDatabaseSyncRequired','.bat','.sql','getDocs','getItem','getCapacityReport','registerSource','Request','GenerativeAIWorkerStats','.vue','closed','jobType','Signaling','setConnectionType','key-value-database-invalid-layout','.jl','MissingSystemTopic','upgrade','crewdle-sdk','Perform\x20a\x20search\x20on\x20Perplexity\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','internalRatePrompt','Offline','Invalid\x20publisher.','text','FPS','addVideoTrack','answerContentAvailable','LocalMediaStreamDoesNotExist','discoveryService','Outgoing','.ini','restartTimeout','getContentType','unregisterPublisher','getCurrentVersion','Invalid\x20job\x20worker\x20type.','onNodeDisconnect','generativeAIWorkers','results','key-value-database-creation-failed','key-value-database-index-not-found','dataTopics','sendFile','fromEntries','nodes','links','payload','generative-ai-context-job-failed','addCandidate','dataBucketIds','reject','firestore','createMediaStreamDestination','.jinja2','task','handleObjectDelete','Invalid\x20data\x20event.','KeyValueDatabaseTransactionValueNotSet','.yaml','skill','setProviderId','KeyValueDatabaseInvalidValue','processContentAvailable\x20-\x20Peak\x20comparison:','everyone','logPropagateSystemEvent','Database\x20already\x20exists','getShareableStream','Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number','handleSubscriptionSubscribeMediaStream','instantiateTransactionTable','.docx','framerate','jobWorkers','removeRemoteConnection','senderBitrate','writes','setInterval','Error\x20during\x20MMR\x20rebuild\x20logging:','splice','job-worker-invalid-type','insert','local-media-stream-track-fail','Remote\x20MediaStream\x20already\x20exists','InitialPrompt','contentQueueRunning','/transactions/lastTransaction','High','.go','canAddCandidates','.info/serverTimeOffset','performCalculation','PromptFunctionParamsType','searchApiKey','SubscriptionRequestNoAnswer','debounceLogTimeout','openGraphDatabase','Job\x20Dispatcher\x20does\x20not\x20exist','\x0a</','senderPreviousTimestamp','frameWidth','logWaitTime','Base\x20Peer\x20Connection','getSimilarity','tableLayout','version','getJobObservable','Problem\x20detected:\x20','Rejected\x20answer','pub-sub-topic-name-not-string','streams','node-does-not-exist','once','Model\x20output\x20is\x20an\x20array\x20but\x20expected\x20text','isComputingMMR','remoteMediaStreams','Query\x20must\x20refer\x20to\x20the\x20file\x20table','createJobDispatcher','removeObjectStore','getId','toStringTag','committed','Initial\x20MMR\x20built\x20with','/resources/agent/items/','AiSearch','asc','previousBytes','match','getEntities','.dart','getDataBucketIds','senderCurrentTimestamp','onConfigurationChange','checksum','errorDetails','Job\x20with\x20id\x20','distance','lastHeartbeat','isInternalLoggingConnector','developers/','receiverStreams','publishTransaction','addDoc','-leave','captureStream','attributes','setRemoteNode','Agent','Method\x20not\x20implemented.','getTrackFromParam','STVolatility','onConnectionStateChange','ConnectionBufferNotEmpty','\x0aAdditional\x20data:\x20','processRemoveContent','peakHeights','trim','cpu.fps','_isReady','PartialResult','createReceiverConnection','Core','RestartNeedMediaStream','RequestFile','ObjectStoreNameNotString','maxTokens','getGenerativeAIWorkers','Key-value\x20database\x20creation\x20failed.','value','Downgrade','getDistance','addEdge','commitType','listener','size','maxFps','InvalidAccess','No\x20async\x20endpoint\x20URL','contentRect','Node\x20is\x20not\x20an\x20agent','inputTokens','Agent\x20group\x20not\x20found','listenerUnsubscriber','join','waitConnected','generative-ai-context-job-timeout','\x0a\x20===\x20Total\x20Data\x20Received:\x20','1:420235181083:web:4eff6062bd845cb0748cbe','true','handleNodeUpdate','Medium','Cannot\x20publish\x20file:\x20','setOnDisconnectHandler','transformations','RemoteRemove','SenderPeerConnection\x20send','getInternalStreamId','responseTimeout','getMaxConnections','QueryBuilderInvalidArgument','Partial','table','getStatus','Received\x20request\x20for\x20transactions\x20value.\x20Sending\x20','\x27\x20in\x20table\x20\x27','ExternalStorageConnectorsMissing','AudioContext','registerSystemPublisher','connection-state','getReport','\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','FinalOutput','tables','.pl','transactionsToSync','JobWorkerDoesNotExist','Text','evaluateBidsAndAttributeJob','Connection\x20does\x20not\x20exist','removeVectorDatabase','lastTransactionId','utf8','action','ObjectStoreDoesNotExist','aiSearchApiKey','Remote\x20connection\x20already\x20exists.','getConnectionDestinations','initializeSystemTopic','Restart\x20NeedMediaStream','WordSplitter','publishSyncCompletedAfterWrites\x20-\x20','PubSubTopic\x20publish','runTransaction','Opened\x20external\x20storage\x20connection','handlePeerConnectionSystemEvents','onCandidate','topK','getJobWorkers','waitAnswer','/logs','MediaStreamPriority','writeBatch','handleNodeJoin','ObjectStore\x20not\x20found','ref','executeQuery','receiverTotalMessages','AudioVolume','next','NodeManager\x20-\x20PublishNodeLeave','job-dispatcher-observer-not-found','Opened\x20graph\x20database','renderElement','handleContentUnsubscribeMediaStream','Cannot\x20subscribe\x20to\x20ExternalStorage:\x20Already\x20subscribed','Opened\x20logging\x20database','object-store-cannot-write-transaction','graph-database-missing-connector','orderBy','handleContentSystemEvents','getModels','loadFromDisk','Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27','parseWorkflowBlocks','Setting\x20context\x20for\x20agent\x20block','videoHeight','VectorDatabaseCreationFailed','FileWrite','handleRemoteTrackFailure','object-storage-upload','DataStream\x20send','Offer','Index','GenerativeAIWorkerCreationFailed','Rating','senderTotalMessages','getTable','.vb','jobDispatchers','object-store-not-synced','dataStores','UpdateMediaStream','KeyValueDatabaseRequestPeakTransactions','publishLocalMediaStream','WebGL','setParams','receiver','Database\x20does\x20not\x20exist','processJob','SubscriptionRequestDoesNotExist','test-page','Vector','rating','server','internalProcessJob','not-in','processServiceReport','JobDispatcherJobNotFound','21a9d78dee97f487b','bytesReceived','openGenerativeAIWorker','jobQueue','handleContentUpdateMediaStream','systemTopicUnsubscribe','rank','results.csv','ObjectStore','connecting','cleanOldSubscription','Boolean','contentManager','JobQueueService:\x20Error\x20running\x20job','ChunkSplitter','add','framesEncoded','DataChannel\x20buffer\x20is\x20full.','canRestartHandshake','createRemoteMediaStream','handleOptimizationConnectionSuccess','receiverBitrate','Queued','write','jobBids','PubSubTopic\x20not\x20found','accumulated','LoggingService:\x20logging\x20enabled\x20for','payloadType','ExternalStorageNameNotString','problemType','Connection\x20does\x20not\x20exist.','onMessage','AudioVideoDelay','addIssue','trackCallback','receivers','timeReceiving','IntermediateOutput','maps','RequestAccepted','searchOnGoogle','isFailedResponse','Agent\x20block\x20is\x20missing\x20required\x20data:\x20','connectionTimeout','getAudioVideoDelay','isSubscribed','11wjIWnU','mmr','onSnapshot','clearOncloseTimeout','Early\x20return:\x20','LoadSkillFunction','String','AudioContext\x20is\x20not\x20available','\x27:\x20missing\x20or\x20invalid\x20keyPath','Key-value\x20database\x20transaction\x20value\x20not\x20set.','Everyone\x20','isJobAttribution','ExternalStorageInvalidPath','removeGraphDatabase','external-storage-name-not-string','request-file-sync','blockId','complete','connect','JobWorker:\x20Sending\x20job\x20reject','Wait','waitSendBuffer','Entity','getAudioTracks','Internal\x20unknown\x20error:\x20','Support:\x20current\x20config','Add','dispatchEvent','unregisterSystemPublisher','externalStorageConnections','documentParserConnector','LoadKnowledgeFunction','available','/nodes','getClosestNodes','sentence-splitter','findIndex','parseDataCollectionBlocks','Orchestrator\x20handleSystemEvents','Prompt','Attempt\x20','NodeLeave','syncTransactionsWritten','getEnabledChannels','Context','IncomingSubscription','endpointUrl','TimePerFrame','PublishMediaStream','Opened\x20vector\x20database','setSinkId','Issue\x20detected:\x20','addMessage','Media','\x0a</uploaded-files>','Invalid\x20index\x20in\x20table\x20\x27','job-worker-already-exists','handleUnsubscribeMediaStream','KeyValueDatabaseAlreadyExists','inputType','Failed\x20to\x20commit\x20batch\x20after\x20retries:','GenerativeAIWorkerModelSyncError','GraphDatabaseNameNotString','getPeakNode','catch','canChooseAnswer','Resolution','stopNoThrottlingHack','string','object-storage','.liquid','Prompt\x20block\x20not\x20found','tokens','waitForArrayBufferSize','Received\x20content\x20available\x20from\x20node','getTransactionByHash','auth','JobWorker:\x20Handling\x20job\x20attribution','checkAudioOutput','startsWith','syncFolder','GenerativeAITracing\x20-\x20trace\x20job\x20id\x20does\x20not\x20match','Move','createWritableStream','NodeUpdate','agentId','width','FramePerSecond','Mistlet\x20capacity\x20report\x20not\x20set.','GraphDatabase\x20not\x20found','collectStats','New\x20MMR\x20Root:\x20','messageListeners','Invalid\x20object\x20store\x20sync\x20message.','warning','findNewMediaSubscription','propagate','query-helper-invalid-argument','processReports','Local\x20node\x20rank\x20is\x20not\x20set','getLocalId','Waiting','destroy','Vector\x20database\x20block\x20is\x20missing\x20required\x20data','Received\x20request\x20for\x20peak\x20transactions.\x20Sending\x20Transactions.','JobWorkerAlreadyExists','instructions','receiverCurrentBytes','snippet','Missing\x20external\x20storage\x20connector','Disconnected','.md','KeyValueDatabaseTransactionTableNotInitialized','openGenerativeAIContext','codes','Node\x20type\x20is\x20invalid','skipEncryption','objectRequests','Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','subscribeToExternalContent','handleDisconnect','featureSupport','SearchPerplexity','framesDecoded','digest','isEqual','job-worker-creation-failed','closeTrace','OptimizationConnectionSuccess','sender','ClusterAlreadyJoined','1410mpRKun','isPromiseResolved','\x20attributed\x20to\x20','docs','disconnected','key-value-database-invalid-value','jitter','emit','SyncKeyValueDatabasse\x20-\x20Waiting\x20for\x20ancestors','processLocalReport','Logging\x20trace','PubSub\x20already\x20exists','outgoingStreams','statsManager','openPubSubTopic','right','detail','SentenceSplitter','Missing\x20AI\x20worker\x20connector','processReport','handleSubscriptionRestartNeedMediaStream','getMediaStream','nlpLibraryConnector','app','some','gpu','handleAnswer','ExternalStorageConnectionAlreadyExists','Generative\x20AI\x20context\x20creation\x20failed.','peaks','appsync-statechange','Invalid\x20job\x20service\x20payload.','Execute\x20skill\x20','createExternalStorageConnection','getOwnerId','failJob','loop','\x20-\x20Sending\x20propagation\x20(','filesSynced','GenerativeAITracing\x20-\x20Error\x20while\x20tracing','Cannot\x20unpublish\x20object:\x20','addCluster','manageAncestor','Error\x20reading\x20file\x20chunk\x20after\x20','logDataSent','messageCallback','createIncomingSubscription','code','AgentSkill','keyValueDatabases','generative-ai-label-conflict','searchOnPerplexity','getGraphDatabases','support','minRelevance','Sender\x20connection\x20is\x20not\x20initialized.','maxOutgoingSubscriptions','onTrack','results.txt','listenUnsubscriber','statsReporting','SenderSendMessage','.ex','initializeLoggingDatabase','\x20already\x20exists.','@root','upgradeTimeout','.ipynb','WorkflowTrace','bid','removeNode','Error\x20processing\x20content\x20queue','set','isOpened','setBytes','\x27\x20to\x20','ExternalStorageStats','getAncestorIds','getRank','recipients','InvalidDataChannel','handleFolderCreate','deletePendingFile','debounceRebuildMMR','key-value-database','clearSyncTimeout','Joined\x20cluster','queries','CrewdleReceiverConnection\x20ontrack','.cfg','isProduction','commitBatch','Key-Value\x20Database\x20-\x20Sync\x20Completed','SHA-256','ContentType','closeSubscription','configure','workflow-does-not-exist','height','senderCurrentBytes','Done','frameTime','urls','getSupportedContentTypes','joinedAt','\x20must\x20be\x20a\x20valid\x20JSON\x20string','indexes','Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.','debounceAppendLog','Get','requestSubscription','reset','.py','ENOENT','priority','onChildRemoved','connectionStateListener','deleteObject','topics','asyncHeaders','FolderCreate','getPacketsLostPerc','ReceiverPeerConnection.onMessage','ScreenSharing','KeyValueDatabasePeakNotFound','setupResizeHandler','removeKeyValueDatabase','getConnectionGroup','val','signInWithCredential','applyRemediation','user','setupRenderElement','getPartsForSubscriptionLabel','crewdleSDKDisableLogging','syncTransactions','handleFileSync','debugEnabled','decode','buildTableEvent','setItem','eventEmitter','queryFileConnector','agent-join','.pdf','ExternalStorageConnectionAlreadySubscribed','createGenerativeAIWorker','ObjectStoreInvalidSyncMessage','extendedRecipients','RemoteMediaStreamMissingProviderId','openExternalStorageConnection','trackListeners','createSenderConnection','ReceiverOnMessage','Invalid\x20workflow\x20block\x20type.','maxBpp','Invalid\x20where\x20clause','Early\x20return','previousTimestamp','writeFile','context','ownerId','WorkflowInvalidBlockType','handleSubscriptionUnsubscribeMediaStream','setTransformations','handleStatsSystemEvents','discover','handleTransactionPayload','KeyValueDatabaseContentSynchronized','CloseMediaStream','content-unpublish-media','loggingCycle','buildQuery','Optimization','pubsub','getName','handshakeCandidates','\x0a\x20\x20===\x20Total\x20Nodes:\x20','Failed\x20to\x20get\x20file','syncTimeout','Connected','targetId','prompt','GraphDatabase','getTableConnector',',\x20Transactions:\x20','Error\x20fetching\x20URL','readyDebounce','job-dispatcher-job-not-found','subscription-request-no-answer','modelName','Opened\x20object\x20store\x20bucket','syncResolve','sourceUrl','transaction','List','::','clusterId','registerRemoteNode','1.0.23','processList','generative-ai-context-job-already-consumed','shift','The\x20system\x20topic\x20has\x20not\x20been\x20registered.','addRemoteNode','From\x20','every','Receiver','Graph\x20database\x20creation\x20failed.','generativeAIContexts','Internal\x20event\x20\x27','.Total\x20pages\x20available:\x20','sendTransactionsValue\x20-\x20value\x20not\x20found','then','logRaw','remainingTracks','replaceTrack','getOrResetPendingFileTimeout','\x0a\x0a`Searching\x20in\x20data\x20collection\x20','systemTopic','streamLabel','getPriority','msalGetAccessToken','removeIncomingSubscription','isWhereValues','packetsReceived','openTrace','.sh','\x0a\x20===\x20Total\x20Time:\x20','setEncodingParameters','.gguf','crewdle-sdk-logging-','publishNodeJoin','agent-update','Count','debounceReadyTimeout','OPFSObjectStoreConnector','getEstimatedTimestamp','publishSyncCompleted','st_volatility','external-storage','logger','internalContext','media-stream','hasBufferedData','CrewdleConnection\x20handlePeerConnectionSystemEvents','object-store-already-exists','Warning','disableIntervalHack','mode','audioDestination','Delete','getLabel','writeTransaction','packetsSent','durationTime','Pending','ccc','waitAsync','ExternalStorage','GenerativeAITracing\x20-\x20job\x20id\x20not\x20found','\x20must\x20be\x20a\x20string','.crewdle-layout','Folder','isPartialResultResponse','clearUpgradeTimeout','receiverTimeProcessing','receiverPreviousTimestamp','_ready','Node\x20already\x20exists.','AI\x20Worker\x20already\x20exists','receiverCurrentTimestamp','unsubscribeHandler','trackEndedListeners','unregisterSubscriber','User\x20not\x20signed\x20in','addConnection','Method\x20not\x20supported','createLocalMediaStream','accumulateResult','graphService','text/','cpu.time_per_frame','loggingDatabaseConnector','resolutionScale','created','handleNeedRestart','subscriptions','getRoot','.rb','httpsCallable','maxLayer','Cannot\x20get\x20size\x20of\x20path:\x20','isReady','key-value-database-does-not-exist','stop','2952204LGehwC','Additional\x20context:\x0a','scheduleTime','getResolution','getAgents','Query\x20file\x20connector\x20not\x20set','path','ObjectStoreCannotWriteTransaction','getOutgoingOptimizationConnections','audioContext','An\x20error\x20occurred','bufferedAmount','\x27\x20from\x20','mediator','getWorkflow','call','Accepted','setCurrentVersion','cachedRoot','wait','GenerativeAIWorker:\x20Models','element','getKeyValueDatabase','getMinConnections','map','syncPendingFiles','crewdle-sdk-stg.appspot.com','\x20completed.','clearRect','error','connections','removeSubscription','isValidMediaSubscriptionParams','WebScraperRaw','Node\x20not\x20authenticated','Chosen\x20answer','.crewdle-pending','component','RequestFileWrite','maxResolution','connectionManager','FeatureNotEnabled','getTotalBytes','removeLocalMediaStream','LocalMediaStreamTrackFail','.hs','join-cluster','getRemoteId','GenerativeAIWorkerAlreadyExists','out','bufferedEvents','Prompt\x20is\x20required','JobStatus','msalRefreshToken','processInboundReport','setSubscriptionRequestTimeout','collectReceiversStats','sync','standalone','answererId','executeAgent','processPendingSyncTransactions','take','removeContent','direction','stun:','UnpublishMediaStream','getPubSubTopics','storage','Debug','unregisterSource','Node','NodeTypeNotSupported','Invalid\x20node\x20type','ObjectStorage','keyPath','ConnectionNotinitialized','Invalid\x20version\x20\x27','where','contentRequestSent','ExternalStorageConnectionDoesNotExist','InvalidSubscriber','arrayBuffer','remoteNodes','\x27\x20payload:','signalingServer','Connection','workflow','Handshake','audio','timeoutValue','Bitrate','graph-database','arrayBufferToObject','createGain','remoteId','isIceCandidate','pendingFilesSyncing','/transactions','inbound-rtp','DocumentParser','logStorage','groupId','QueryFile','application/octet-stream','hashPeakHashes','Info','getNumberOutgoingSubscriptions','Error\x20loading\x20existing\x20content','JobWorker:\x20Error\x20processing\x20job','FileStatus','`\x0a\x0a','retryQueues','handleSubscribeMediaStream','subscription-request-does-not-exist','processRemoteInboundReport','Model\x20output\x20type\x20is\x20vector\x20but\x20input\x20is\x20not\x20an\x20index','taskType','detectionManager','getTransactionFromTableWriteEvent','shouldProcessTransaction','retryLimit','jobObservers','chosenAnswers','notifyObjectStoreOfNodeLeave','queueLength','graphDatabaseConnector','answers','Llamacpp','Content','startTime','Cannot\x20publish\x20folder:\x20','push','Perform\x20a\x20search\x20on\x20Google\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','statsCollection','object-store-invalid-sync-message','Cannot\x20unpublish\x20object\x20at\x20','Invalid\x20query','addReservedTables','RemoteMediaStreamDoesNotExist','readyResolve','connectionPool','createBatch','getQuery','orchestrator-close','currentDistance','/resources/generative-ai-grammar/items','messageBuffer','GenerativeAIContextJobMissingThreadId','compileStats','isRunning','getCurrentMaxLayer','timestamp','ExecuteCode','\x0a\x20===\x20Wait\x20Time:\x20','handleOnMessage','Search\x20in\x20data\x20collection\x20','invalid-access','registerCluster','onHandshakeStateChange','Operations:','Problem','instance','handleNodeSystemEvents','handleNodeLeave','Model\x20not\x20found:\x20','Job\x20service\x20creation\x20failed.','\x20after\x20','Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc','retryDelay','Low','pipe','bandwidth.jitter','6043830HeTtBf','end','en-US','NeedMediaStream','MediaStream','abs','hasTable','object-store-invalid-state','GenerativeAIContextJobAlreadyConsumed','maxConnections','AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','unregisterPublisherListener','checkScreenSharing','stringify','JobWorkerInvalidType','mergeParts','deleteJob','Stream\x20already\x20exists','handleSystemEvents','GenerativeAITracing\x20-\x20job\x20id\x20is\x20already\x20set','RebuildMMR\x20-\x20MMR\x20Root\x20changed?\x20','FileDelete','\x0a\x0a`Searching\x20on\x20Perplexity\x20for\x20','vector','relations','engineType','setPriority','Skill','getExternalStorageConnection','moveObject','AudioOutput','Sync\x20completed','clearWaitAnswer','disconnect','packetsLost','logMMRRebuild','mediaStream','CloseVectorDatabase','functions','appsync-connect-fail','/developers/','systemMessagesReceived','Channel\x20\x27','entities','removeSubscriptionsForNode','getJobs','NodeTypeRequired','Query\x20is\x20required','CloseJobDispatcher','Subscription\x20request\x20failed.','URL\x20is\x20required','No\x20valid\x20bid\x20responses\x20received\x20in\x20time.','checkAudioContext','desc','invalid-data-chanel','\x20failed.\x20Retrying...','function','setTimeout','parentId','syncContent','manageOptimization','Start\x20Ingestion','connection-invalid-data-event','chooseAnswer','transactionQueue','secheduleTime','openJobWorker','getReceiverTotalBytes','localNode','evaluatePartialJob','isMediaSource','computeHash','onremovetrack','Cannot\x20list\x20directory:\x20External\x20Storage\x20not\x20connected','remove','setReceiverBytes','JobDispatcherDoesNotExist','options','addAudioTrack','Jobs','Before\x20Synchronization','isNeedRestart','pubSubTopics','Recording','EntityExtractor','Remediation','getApp','logConnectionState','node-already-exist','key-value-database-table-does-not-exist','handleHandshake','Job\x20Worker\x20does\x20not\x20exist','Cannot\x20publish\x20move\x20operation:\x20','firstValueFrom','Send\x20request','models','rejectReady','Support','startAt','eventTarget','warn','ObjectStoreStats','KeyValueDatabaseIndexNotFound','handleNodeJoinNeedPublishedStream','JobDispatcherInvalidPayload','GenerativeAIWorkerMissingConnector','18lcFNuB','stream','resizeHandler','notifyCluster','.j2','Attribution','Invalid\x20key\x20\x27','receiverUnsubscribers','oncloseTimeout','createPendingFileWrite','KeyValueDatabaseDoesNotExist','listen','CrewdleSenderConnection\x20createOffer','subscribeToJobs','ObjectStoreNotSynced','Label\x20already\x20in\x20use\x20by\x20AI\x20Service','params','ready','capacityReporter','northamerica-northeast1','lastUpdated','joinCluster','subscriptionRequestsQueue','Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','setIsLoaded','nodeManager','handleSuccess','connector','setUpgradeTimeout','job-dispatcher-already-exists','getLocalMediaStream','JobDispatcherAlreadyExists','accessToken','Code','invalid-publisher','isResultResponse','parse','Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.','removeTrackCallback','Model','\x0a\x0a`Executing\x20code\x20snippet`\x0a\x0a','previous','versions','getFunctions','object-store-invalid-path','toFixed','getRemoteNodes','reduce','get','KeyValueDatabase\x20-\x20Assuming\x20no\x20nodes\x20available\x20to\x20sync.\x20Completing\x20sync.','handleError','updatePropagationProperties','\x20for\x20','PubSubTopicAlreadySubscribed','863000KLIpnX','GenerativeAITracing\x20-\x20Cannot\x20commit\x20trace,\x20logging\x20table\x20is\x20not\x20set','getDoc','bufferEvent','feedback','AI\x20Search\x20connector\x20not\x20set','toLowerCase','bodyParameters','configs','addProblem','PeerConnection','unregisterRemoteNode','removeJobDispatcher','getTransactions','request-file-write','memoryUsage','Invalid\x20value.\x20Property\x20\x27','registeredListeners','PubSubTopicNameNotString','authenticateAgent','KeyValueDatabaseCreationFailed','sequence','VectorDatabaseMissingConnector','logs','between','peerConnectionConnector','completed','removeTopic','FetchUrl','Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed','CPUCycle','ExecuteAgent','stopConnection','Error\x20executing\x20code','RemoteAdd','https://crewdle-sdk-stg-default-rtdb.firebaseio.com','KeyValueDatabaseNameNotString','createGraphDatabase','Local\x20MediaStream\x20already\x20exists','Invalid\x20data\x20channel.','/stats','incomingTopic','sendTransactionsValue','fileChunks','setReportCapacity','engine','lastExecuted','Received\x20','senders','handleContentRemoteMediaStreamTrackFail','job-dispatcher-creation-failed','updated','invalid-subscriber','getInternalTrackParams','Database\x20not\x20open','ConnectionInvalidDataEvent','.pug','modelStore','setScheduleTime','.cpp','\x20check\x20failed','isMediaDestination','asyncEndpointMethod','streamId','RelationExtractor','GenerativeAIContextStats','graphDatabases','mediaUnsubscribers','not-resolved','Failed\x20to\x20send\x20job\x20','setLoggingConnectors','WorkflowDoesNotExist','destinationIds','removeConnection','MediaStreamUnavailable','hashNodes','\x20must\x20be\x20a\x20number','retrieveBlocks','System','propn','createObjectStoreBucket','region','handleSubscriptionProvideMediaStream','vectorDatabaseConnector','validateLayout','amd','subscription-request-in-progress','Logging\x20not\x20enabled\x20for\x20channel\x20','canProvideResolution','request-file','getSubscribedTracks','.tsx','FROM\x20file','Knowledge','.scala','minThreshold','getSettings','searchConnector','getObjectStoreBucket','Cannot\x20find\x20External\x20Storage\x20connection:\x20','Job\x20service\x20job\x20not\x20found.','toLocaleDateString','Invalid\x20peer\x20connection\x20event\x20destination.','overlap','Sending\x20\x27','Apply\x20remediation','localId','content-publish-media','notifyClusterNodeJoin','.css','WebScraper','addContent','Missing\x20owner\x20node\x20or\x20rank','sdk-internal-error:\x20','SystemTopic\x20publish','nextNodeId','Unsupported\x20job\x20type','clearHeartbeat','getSubscriptionInfo','getExternalStorageConnections','DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found','detectLocalIssues','JobDispatcherCreationFailed','CannotProvideMediaStream','getVectorDatabases','Generative\x20AI\x20context\x20job\x20timeout.','updateUser','handleIceCandidates','kind','JobWorker:\x20Error\x20getting\x20cores\x20from\x20capacity\x20report','\x20not\x20supported','checkExistingPendingFileContent','MistletCapacityReportNotSet','checkBackgrounds','checkSyncComplete','setupStatsCollection','Today\x20Date:\x20','PayloadAction','Parameter\x20','Setting\x20context\x20for\x20answer\x20block','data-collection','objectToArrayBuffer','cores','sendStats','1466oOfAaD','videoWidth','firebase-disconnect','Support:\x20','Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number','supportsContentType','\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.','senderPreviousBytes','handleOffer','CREWDLE_WEB_SDK','pendingHandshakeCandidates','ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.','messageType','file-write','total','Job\x20worker\x20creation\x20failed.','queues','createTopic','Model\x20not\x20found','grammar','srcObject','folder-create','time','operations','contextInputVariable','isOffer','Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream','remediation','timesCalled','audioSource','JobStream','startIndex','.ppt','setStatus','\x20were\x20ready\x20in','Job\x20','internalProcessJobStream','Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed','GenerativeAILabelConflict','DTVolatility','getWorkflowObjectStorageBuckets','ObjectStoreInvalidPayload','getSenderTotalBytes','collectionId','Text\x20is\x20required','Data\x20cluster\x20is\x20not\x20open.','connectorConstructor','job-dispatcher-does-not-exist','ConnectionGroup','NodeJoin','.lua','disconnectCallback','getGraphDatabase','Stream\x20does\x20not\x20exist','removeEventListener','deployedVersion','Agent\x20output\x20is\x20not\x20a\x20string','sendReject','ModelVector','index','getDTVolatility','OutgoingSubscription','jobPhase','exports','addEventListener','serverTimestamp','getConfigs','\x0a\x0a`Executing\x20custom\x20skill\x20','setDoc','status','messagesSent','contentMediator','Sender','remoteConnections','orchestrator','owner','PubSubTopicDoesNotExist','maxThreshold','AppSync\x20publish','database','senderStreams','job-','Buffered\x20chunks\x20are\x20too\x20large','publishSystemMessage','\x20writes\x20from\x20','handleOutgoingSystemEvents','number','prompts','externalStorageConnectors','pub-sub-topic-already-exists','createMediaStreamSource',',\x20Total\x20Nodes:','decodeJWT','hasMessage','isReconnecting','handleSubscriptionNeedMediaStream','file','indexOf','detection','document-parser','onloadeddata','ConnectionState','createElement','query-file','discoveryUnsubscriber','setEmail','PubSubTopicStats','Error\x20executing\x20agent','.rs','storeId','issues','reranker','cost','completeSync','\x20MB','downloadDocument','setupTrackEndedListeners','Reranker','vectorDatabases','NodeManager\x20-\x20NodeLeave','logEvent','subscription-request-failed','Backgrounds','\x20received\x20result:','Relation','forceLog','>\x0a\x0a','All\x20recipients\x20already\x20received','GraphDatabaseCreationFailed','handshakeDebounce','getMilliseconds','\x0a\x20===\x20Total\x20Nodes:','openVectorDatabase','Processing\x20agent\x20block:\x20','Subject','transactionTable','from','exists','getSize','job-worker-does-not-exist','availableTrackKinds','Receiving\x20\x27','JobWorker:\x20Received\x20job\x20attribution','knowledge','internalSearch','Reranker\x20block\x20is\x20missing\x20required\x20data','issue','features','failed','logServiceEvent','joinedClusters','boolean','We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set','Answer','entries','get-content','Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20','mute','clientWidth','supported','loadExternalContent','newPath','autoplay','lastClockUpdate','VectorDatabaseNameNotString','vector-database-missing-connector','entity-extractor','filteredDestinationIds','count','getEngineType','sampleRate','removePubSubTopic','SHA-1','removeTrackListeners','File','RetrieveTrace','getConnections','handleMissingSenders','getIdToken','RemoteConnectionExists','node-not-authenticated','isConnected','\x0a\x0a`Executing\x20agent\x20','client','handleContentCloseMediaStream','\x0a\x20\x20===\x20MMR\x20Computation\x20Time:\x20','GenerativeAIModelOutputType','undefined','No\x20connections\x20available\x20to\x20send\x20subscription\x20request','Missing\x20transaction\x20id','getTracks','initialize','getSTVolatility','updateDebounceTimeout','processContentSynchronized','sendIceCandidates','crewdle-sdk-stg.firebaseapp.com','ClosePubSubTopic','MediaStream\x20feature\x20not\x20enabled','setVendorId','KeyValueDatabase\x20not\x20found','No\x20connector\x20found\x20for\x20model','Success','token','nodeId','image','NodeConnectionsUpdate','connection','Emitting\x20event\x20on\x20local\x20cluster','createGenerativeAIContext','getUserMedia','sendFileRequestPayload','maxDepth','addTrack','MissingRemoteConnection','key-value-database-table-name-reserved','Error\x20searching','jobs','getLastUpdated','oidc','handleRequestPayload','PubSub','Job\x20Dispatcher\x20already\x20exists','statusText','processTransactionsToComputeMMR','onValue','subscription','agent','vector-database','retryCallback','crewdleSDKEnableLogging','Cannot\x20close\x20the\x20SDK\x20while\x20data\x20is\x20being\x20transferred.\x20Use\x20`force`\x20parameter\x20to\x20interrupt\x20the\x20connection','CustomSkill','isLoaded','JobQueueService:\x20Job\x20completed','GenerativeAITracing\x20-\x20Error\x20while\x20opening\x20trace.\x20Retrying:\x20\x27','remediations','noun','setLocalRank','resetConnection','mediaDevices','GenerativeAIContextJobFailed','rtt','handleRemediationSystemEvents','debounceRebuildMMRWithTransaction','reads','Node\x20does\x20not\x20exist.','setOnMessageHandler','\x20answer','getPartsFromSubscription','answer','No\x20connections\x20available\x20to\x20send\x20message','workflow-invalid-block-type','LocalReport','Database\x20Opened','Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','compareTransactions','node','Cannot\x20list\x20directory:\x20','CloseGraphDatabase','canvas','RoundTripTime','Logging\x20database\x20not\x20initialized','SubscribeMediaStream','PubSubTopicAlreadyExists','clusterEventEmitter','logBatch','ObjectStoreAlreadySubscribed','logInitialMMR','toString','currentBatch','rate','Data\x20Sent','getHash','active','/resources/external-storage/items/','length','vendorId','.rkt','Invalid\x20layout:\x20','generative-ai-context-creation-failed','appsync-disconnect','consumeBufferedEvents','stats','origin','logSupport','getChannelData','enabled','CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','Job','cpu.cycle','publishNodeLeave','notifyObjectStoreOfNodeJoin','knowledgeCutoffDate','messagesReceived','Default','graph-database-already-exists','Completed','getConnectionType','RequestFileSync','all','bandwidth.bitrate','off','processTransactionPayload','clearSubscriptionRequestTimeout','getAuth','providerListener','connected','getTrack','maxBitrate','\x27\x20in\x20layout','object-store-name-not-string','transactions','Cluster','pendingSyncTransactions','\x20does\x20not\x20support\x20content\x20type\x20','/resources/generative-ai-workflow/items/','getSenderBitrate','send\x20error\x20on\x20','\x20seconds','getNextTargetRank','bitrate','rootComputationPromise','appsync-no-destination','retryQueue','Audio','GenerativeAIModelInputType','getBid','handleDetectionSystemEvents','Remote\x20stream\x20does\x20not\x20exist.','Agent\x20block\x20is\x20missing\x20required\x20data','result','byteLength','notifyJoin','resolveReady','\x20is\x20required','handleLocalTrackFailure','firebase-connect','setRank','GenerativeAIContextJobTimeout','lastRemediations','NodeDoesNotExist','logLevel','load','KeyValueDatabase','calculateArrayBufferSize','ExternalStorageUpload','Search','listenerUnsubscribers','agentConfig','ModelText','aiSearchConnector','/resources/generative-ai-agent/items','registerDestination','resolve','transactionHashMap','RemoteMediaStreamTrackFail','thread-','Hash\x20computation\x20failed,\x20retrying...','heartbeatUnsubscriber','clearWaitSuccess','splitParts','processContentAvailable','getSubscriptionLabel','missing-incoming-connection','getPeaks','Jitter','leave','vector-database-name-not-string','Workflow\x20not\x20initialized','validateAccess','batch','Execute\x20a\x20SQL\x20query\x20on\x20a\x20file\x20to\x20retrieve\x20data.\x20The\x20query\x20should\x20be\x20designed\x20to\x20extract\x20relevant\x20information\x20from\x20the\x20file.\x20Available\x20table\x20is\x20file\x20and\x20columns\x20are:\x20','handleUnpublishMediaStream','lastCapacityReport','pub-sub-topic-does-not-exist','unregisterCluster','GraphDatabaseDoesNotExist','setRemoteConnections','object-store-invalid-payload','reportCapacity','changesUnsubscriber','clusters','roundTripTime','hasTracks','startLoggingCycle','openedTraces','GraphDatabaseMissingConnector','sourceVideo','observe','3488688eZZSiv','generative-ai-context-invalid-partial-result','removeExternalStorageConnection','deleteRemoteNode','getWorkflowModels','\x27\x20dabatase\x20id.','external-storage-connection-already-subscribed','GenerativeAITracing\x20-\x20Trace\x20job\x20id\x20does\x20not\x20exist','request','getAvailableTrackKinds','registerSubscriber','RemoteMediaStreamAlreadyExists','substring','signalingState','waitSuccess','local-media-stream-already-exists','ranges','previousFrames','Code\x20is\x20required','connectionState','Unexpected\x20output\x20type','dbKey','DeviceConfig','onUnregisterPublisher','setupStatsReporting','1:519415702791:web:5dd39042f881cfde3251a2','statsReport','missing-datachannel','processTransactionsToComputeMMR\x20-\x20Transactions\x20appended\x20-','getContext','output','\x20deleted.','GenerativeAITracing\x20-\x20Cannot\x20commit\x20trace,\x20database\x20is\x20not\x20set','isWhereBetween','2450901ywxlNC','subscribedTracks','.swift','notifyClusterNodeUpdate','UnsubscribeMediaStream','evaluateBids','resolution','ner','processJobStream','source','internal','onRemoveTrack','KeyValueDatabaseInvalidQuery','av_delay','WebRTCBrowserPeerConnectionConnector','\x20failed\x20to\x20receive\x20a\x20valid\x20bid\x20responses\x20in\x20time.','totalEncodeTime','maxDistance','ratePrompt','\x0a\x0a`Executing\x20query`\x0a\x0a','Subscription\x20request\x20does\x20not\x20exist.','subscriptionRequestTimeouts','Model\x20store\x20not\x20initialized','callback','Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.','has','ObjectStoreInvalidState','orderByKey','getRemoteMediaStreams','Detection','concat','destination','topicLabel','handleChunkMessage','Model\x20output\x20type\x20is\x20text\x20but\x20input\x20is\x20not\x20text','senderConnection','Node\x20type\x20is\x20required','Table\x20not\x20found','CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','getSentences','Subscription','senderTimeProcessing','commit','unsubscribe','forEach','enumerateDevices','clientStream','createConnection','addRemoteConnection','endpoint','No\x20files\x20found','outputType','currentVersion','interval','.groovy','globalObject','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process','syncedFileExists','createBufferSource','processDataChannelReport','Opened\x20model\x20store\x20bucket','SyncComplete','publishFile','Retrieve','KeyValueDatabaseRequestTransactionsValue','description','debounceReady','getIsLoaded','counter','Cannot\x20create\x20External\x20Storage:\x20Name\x20must\x20be\x20a\x20string','totalDecodeTime','/objectstores/','onDisconnect','createKeyValueDatabase','documentPath','reportMetric','state','values','generative-ai-worker-missing-connector','doc','NodeType','gatheringState','processAddContent','handleProblem','fileSendingMap','OfficeParser','providerId','Error\x20closing\x20writable\x20stream','update','vector-database-creation-failed','agent-config-changed','logDataReceived','detectAudioIssues','Connection\x20not\x20connected.','handleSubscriptionSystemEvents','send','keyValueDatabaseConnector','connectionConstructor','clearConnectionTimeout','Workflow','appendTransaction','timeoutCallback','Rejected','enabledChannels','getConnection','CloseExternalStorageConnection','chunks','remote-media-stream-already-exists','publishFolder','GenerativeAIContextAlreadyExists','setOnTableWriteHandler','defineProperty','getWorkflowExternalStorageConnections','Transaction','VectorDatabase','min','threadId','modelStorageBuckets','transactionService','aws','IDBDatabaseConnector','objectStoreConnector','createSubscription','nodesConnected','authNode','invalid-subscription','Online','subscribeToLocalContent','setInternalId','queryOrPrompt','Received\x20ContentSynchronized\x20from\x20','sendChunked','calculateSize','hash','setReceiverTimestamp','Error\x20stringifying\x20object','now','searchInDataCollection','web-scraper','JobWorker:\x20Tracing\x20not\x20implemented','DatabaseEvent','key-value-database-table-not-found','removeOutgoingSubscription','setDisplayName','mmrRoot','PeerConnectionInvalidDestination','hasOwnProperty','onBufferedAmountLow','collectTransactionsFromNode','https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','bind','\x20-\x20','getAncestors','ConnectionNotConnected','handleFileWrite','jobId','Key-value\x20database\x20table\x20does\x20not\x20exist.','getBuffer','delete','setPendingFileSyncingPayload','play','SystemStats','.pptx','Cannot\x20create\x20Vector\x20Database:\x20Name\x20must\x20be\x20a\x20string','Node\x20\x27','loggingDb','Object\x20store\x20is\x20not\x20in\x20sync','removeTrack','email','addBidResponse','generativeAIWorkerConnectors','Error','GraphDatabaseStats','\x27\x20reserved','sort','feature-not-enabled','registerSystemSource','2-digit','GetContextQuery','tableObserver','file-upload','remoteUnsubscriber','handleFileRequestAnswer','startNoThrottlingHack','updateLastUpdated','JobWorker:\x20Sending\x20job\x20result','isJobRequest','outputTokens','publishSyncCompletedAfterWrites','GenerativeAIRatingStatus','isChannelEnabled','padStart','NodeNotAuthenticated','getFirestore','\x20not\x20found.','graphql','KeyValueDatabaseStats','handleNoAnswer','KeyValueDatabase\x20-\x20Sync\x20completed','connectionType','sendBid','CloseJobWorker','objectStorageBuckets','observer','log','external-storage-upload','successNotified','registerPublisher','appsync-close','KeyValueDatabaseContentAvailable','setupListeners','Stats','replace','authService'];a0_0x333f=function(){return _0x161180;};return a0_0x333f();}