(function(_0xaa7bb2,_0x28e1c4){const _0x3f80ef=a0_0x50c4,_0x5efd6f=_0xaa7bb2();while(!![]){try{const _0x5a1a53=parseInt(_0x3f80ef(0x7a4))/0x1+-parseInt(_0x3f80ef(0x1c0))/0x2+parseInt(_0x3f80ef(0x966))/0x3+-parseInt(_0x3f80ef(0xa5a))/0x4*(-parseInt(_0x3f80ef(0x552))/0x5)+-parseInt(_0x3f80ef(0x6c4))/0x6+parseInt(_0x3f80ef(0x5c3))/0x7+parseInt(_0x3f80ef(0x56d))/0x8*(-parseInt(_0x3f80ef(0x496))/0x9);if(_0x5a1a53===_0x28e1c4)break;else _0x5efd6f['push'](_0x5efd6f['shift']());}catch(_0x50c8cb){_0x5efd6f['push'](_0x5efd6f['shift']());}}}(a0_0x5dc6,0x97c28),!function(_0x2c721e,_0x33cb57){const _0x1af1e6=a0_0x50c4;if('object'==typeof exports&&_0x1af1e6(0x55b)==typeof module)module['exports']=_0x33cb57();else{if(_0x1af1e6(0x234)==typeof define&&define[_0x1af1e6(0xa1f)])define([],_0x33cb57);else{var _0x19ded3=_0x33cb57();for(var _0x589f93 in _0x19ded3)(_0x1af1e6(0x55b)==typeof exports?exports:_0x2c721e)[_0x589f93]=_0x19ded3[_0x589f93];}}}(this,()=>((()=>{'use strict';const _0x3d1090=a0_0x50c4;var _0x57821f={0x14d:(_0x5e6c5a,_0x5e5bf0,_0x4f2046)=>{const _0x47dc90=a0_0x50c4;_0x4f2046['d'](_0x5e5bf0,{'O':()=>_0x4b846a});const _0x4b846a={'version':'1.0.8.0','isProduction':!0x1,'firebaseConfig':{'apiKey':'AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','authDomain':_0x47dc90(0x38d),'databaseURL':_0x47dc90(0x5ed),'projectId':_0x47dc90(0x309),'storageBucket':_0x47dc90(0x6ae),'appId':_0x47dc90(0x44f),'functionsRegion':_0x47dc90(0x96f)},'google':{'searchEngineId':'21a9d78dee97f487b'},'aws':{'endpoint':_0x47dc90(0x9cf),'region':_0x47dc90(0x314)}};},0x33b:(_0x483d19,_0x4fc0c3,_0x1371a9)=>{_0x1371a9['d'](_0x4fc0c3,{'O':()=>_0x284497});const _0x284497={};},0x3e6:(_0x41390f,_0x25f056,_0x2bea4a)=>{const _0x423891=a0_0x50c4;_0x2bea4a['d'](_0x25f056,{'O':()=>_0x2b6d02});const _0x2b6d02={'version':_0x423891(0x618),'isProduction':!0x0,'firebaseConfig':{'apiKey':'AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','authDomain':_0x423891(0x68c),'databaseURL':'https://crewdle-sdk-default-rtdb.firebaseio.com','projectId':_0x423891(0x2fc),'storageBucket':_0x423891(0x90c),'messagingSenderId':_0x423891(0x6f8),'appId':_0x423891(0x99b),'measurementId':_0x423891(0xa44)},'aws':{'endpoint':_0x423891(0x91f),'region':_0x423891(0x314)}};},0x20:(_0x1ddc80,_0xa084ab,_0x1ad598)=>{_0x1ad598['d'](_0xa084ab,{'O':()=>_0x1260e0});const _0x1260e0={};}},_0x5071b0={};function _0x54bc3a(_0x5bfe90){const _0x1c887c=a0_0x50c4;var _0x36e24f=_0x5071b0[_0x5bfe90];if(void 0x0!==_0x36e24f)return _0x36e24f['exports'];var _0x38b749=_0x5071b0[_0x5bfe90]={'exports':{}};return _0x57821f[_0x5bfe90](_0x38b749,_0x38b749[_0x1c887c(0x3a0)],_0x54bc3a),_0x38b749[_0x1c887c(0x3a0)];}_0x54bc3a['d']=(_0x5cc20a,_0x459193)=>{for(var _0x241f25 in _0x459193)_0x54bc3a['o'](_0x459193,_0x241f25)&&!_0x54bc3a['o'](_0x5cc20a,_0x241f25)&&Object['defineProperty'](_0x5cc20a,_0x241f25,{'enumerable':!0x0,'get':_0x459193[_0x241f25]});},_0x54bc3a['g']=(function(){if('object'==typeof globalThis)return globalThis;try{return this||new Function('return\x20this')();}catch(_0xf6d6ca){if('object'==typeof window)return window;}}()),_0x54bc3a['o']=(_0x3b5c81,_0x5249c8)=>Object[_0x3d1090(0x292)][_0x3d1090(0x695)][_0x3d1090(0x3df)](_0x3b5c81,_0x5249c8),_0x54bc3a['r']=_0x3e62b1=>{const _0x591856=_0x3d1090;_0x591856(0x6fb)!=typeof Symbol&&Symbol[_0x591856(0x5f7)]&&Object[_0x591856(0x1bd)](_0x3e62b1,Symbol[_0x591856(0x5f7)],{'value':'Module'}),Object[_0x591856(0x1bd)](_0x3e62b1,'__esModule',{'value':!0x0});};var _0x2c3351,_0x264391,_0x5a543d,_0x547974={};_0x54bc3a['r'](_0x547974),_0x54bc3a['d'](_0x547974,{'KeyValueDatabase':()=>_0x34775a,'LayoutBuilder':()=>_0x498528,'LoggingChannels':()=>_0x5a543d,'QueryBuilder':()=>_0x5f4ef0,'SDK':()=>_0x9a277c,'SDKClientErrorCodes':()=>_0x2c3351,'TableBuilder':()=>_0x1f520c,'logger':()=>_0x3dc4e5}),function(_0x4dd067){const _0x154099=_0x3d1090;_0x4dd067[_0x154099(0x57d)]=_0x154099(0x57a),_0x4dd067[_0x154099(0x663)]='cluster-already-joined',_0x4dd067[_0x154099(0x92d)]=_0x154099(0x483),_0x4dd067[_0x154099(0x770)]=_0x154099(0x92e),_0x4dd067[_0x154099(0xa3f)]='external-storage-connection-does-not-exist',_0x4dd067['ExternalStorageConnectorsMissing']=_0x154099(0x46b),_0x4dd067[_0x154099(0x67b)]='external-storage-invalid-path',_0x4dd067[_0x154099(0x26d)]=_0x154099(0x36c),_0x4dd067[_0x154099(0x1a6)]='feature-not-enabled',_0x4dd067[_0x154099(0x453)]=_0x154099(0x90e),_0x4dd067[_0x154099(0x595)]=_0x154099(0x3ac),_0x4dd067[_0x154099(0x67e)]=_0x154099(0x8fe),_0x4dd067['GenerativeAILabelConflict']=_0x154099(0x6ef),_0x4dd067[_0x154099(0x4db)]='generative-ai-worker-already-exists',_0x4dd067['GenerativeAIWorkerMissingConnector']=_0x154099(0x73d),_0x4dd067['GenerativeAIWorkerModelSyncError']=_0x154099(0x265),_0x4dd067['GraphDatabaseAlreadyExists']=_0x154099(0xa2a),_0x4dd067['GraphDatabaseDoesNotExist']=_0x154099(0x37e),_0x4dd067['GraphDatabaseMissingConnector']=_0x154099(0x8c4),_0x4dd067[_0x154099(0x5b1)]='graph-database-name-not-string',_0x4dd067[_0x154099(0x2e6)]='job-dispatcher-already-exists',_0x4dd067[_0x154099(0x661)]='job-dispatcher-does-not-exist',_0x4dd067[_0x154099(0x800)]=_0x154099(0x696),_0x4dd067[_0x154099(0x33b)]=_0x154099(0x648),_0x4dd067[_0x154099(0x9c6)]=_0x154099(0x90b),_0x4dd067[_0x154099(0x1ea)]=_0x154099(0x499),_0x4dd067[_0x154099(0x290)]=_0x154099(0x23b),_0x4dd067[_0x154099(0x33d)]=_0x154099(0x23f),_0x4dd067[_0x154099(0x3c4)]='object-store-already-subscribed',_0x4dd067[_0x154099(0x50e)]='object-store-stream-does-not-exist',_0x4dd067['ObjectStoreNameNotString']=_0x154099(0x817),_0x4dd067['ObjectStoreInvalidPayload']=_0x154099(0x84f),_0x4dd067[_0x154099(0x378)]=_0x154099(0x8dd),_0x4dd067['ObjectStoreNotInSync']=_0x154099(0x557),_0x4dd067[_0x154099(0x343)]=_0x154099(0x3ed),_0x4dd067['InvalidAccess']=_0x154099(0x5e2),_0x4dd067['KeyValueDatabaseAlreadyExists']=_0x154099(0x65c),_0x4dd067[_0x154099(0x3ef)]=_0x154099(0x5c5),_0x4dd067[_0x154099(0x391)]=_0x154099(0x8f0),_0x4dd067[_0x154099(0x198)]=_0x154099(0x248),_0x4dd067[_0x154099(0x255)]=_0x154099(0x865),_0x4dd067[_0x154099(0x55c)]='key-value-database-name-not-string',_0x4dd067[_0x154099(0x1f1)]='key-value-database-not-open',_0x4dd067[_0x154099(0x5d2)]=_0x154099(0x1ad),_0x4dd067[_0x154099(0x1ec)]='key-value-database-table-not-found',_0x4dd067[_0x154099(0x601)]=_0x154099(0x31b),_0x4dd067[_0x154099(0x5af)]=_0x154099(0x2b3),_0x4dd067[_0x154099(0x3d7)]=_0x154099(0x571),_0x4dd067[_0x154099(0x33c)]='pub-sub-topic-already-exists',_0x4dd067[_0x154099(0x934)]=_0x154099(0xa74),_0x4dd067['PubSubTopicNameNotString']=_0x154099(0x3b3),_0x4dd067[_0x154099(0x1b8)]=_0x154099(0x847),_0x4dd067['QueryBuilderInvalidArgument']='query-helper-invalid-argument',_0x4dd067[_0x154099(0x4e0)]=_0x154099(0x2ea),_0x4dd067[_0x154099(0x79c)]=_0x154099(0x797),_0x4dd067[_0x154099(0x919)]=_0x154099(0xab5),_0x4dd067[_0x154099(0x194)]=_0x154099(0x77c),_0x4dd067['NodeInvalidType']='node-invalid-type',_0x4dd067['NodeTypeNotSupported']='node-type-not-supported',_0x4dd067['NodeTypeRequired']='node-type-required',_0x4dd067['VectorDatabaseAlreadyExists']='vector-database-already-exists',_0x4dd067[_0x154099(0xa82)]=_0x154099(0x341),_0x4dd067['VectorDatabaseMissingConnector']='vector-database-missing-connector',_0x4dd067['VectorDatabaseNameNotString']=_0x154099(0x5fc);}(_0x2c3351||(_0x2c3351={}));class _0x4ded08 extends Error{[_0x3d1090(0x393)];constructor(_0x435e54,_0x58668e){const _0x1b75b5=_0x3d1090;super(_0x58668e),this[_0x1b75b5(0x393)]=_0x435e54;}}!function(_0x34e10a){const _0x29c618=_0x3d1090;_0x34e10a[_0x29c618(0x458)]=_0x29c618(0xa35),_0x34e10a[_0x29c618(0x250)]=_0x29c618(0x320),_0x34e10a[_0x29c618(0x970)]=_0x29c618(0x786),_0x34e10a[_0x29c618(0x191)]=_0x29c618(0x29a),_0x34e10a[_0x29c618(0x77b)]=_0x29c618(0x45a),_0x34e10a[_0x29c618(0x1d5)]=_0x29c618(0x36e),_0x34e10a['MediaStream']=_0x29c618(0x1f9),_0x34e10a[_0x29c618(0x5bc)]=_0x29c618(0x80e);}(_0x264391||(_0x264391={})),function(_0x22f3b8){const _0x41980a=_0x3d1090;_0x22f3b8[_0x41980a(0x24d)]=_0x41980a(0x9ed),_0x22f3b8[_0x41980a(0x96b)]=_0x41980a(0x83e),_0x22f3b8['Connection']=_0x41980a(0x423),_0x22f3b8[_0x41980a(0x9db)]=_0x41980a(0x95b),_0x22f3b8[_0x41980a(0x4cb)]='cluster',_0x22f3b8[_0x41980a(0x235)]=_0x41980a(0x1d7),_0x22f3b8[_0x41980a(0xaa2)]=_0x41980a(0x489),_0x22f3b8[_0x41980a(0x440)]=_0x41980a(0x4ff),_0x22f3b8[_0x41980a(0x33a)]=_0x41980a(0x874),_0x22f3b8[_0x41980a(0x747)]=_0x41980a(0x58c),_0x22f3b8['Jobs']=_0x41980a(0x7fa),_0x22f3b8[_0x41980a(0x970)]=_0x41980a(0x786),_0x22f3b8[_0x41980a(0x3e6)]=_0x41980a(0x435),_0x22f3b8[_0x41980a(0x9a6)]=_0x41980a(0x8ab),_0x22f3b8['PubSub']='pubsub',_0x22f3b8[_0x41980a(0x1ca)]='receiver-on-message',_0x22f3b8[_0x41980a(0x760)]=_0x41980a(0xa2e),_0x22f3b8[_0x41980a(0x913)]=_0x41980a(0x612),_0x22f3b8[_0x41980a(0x226)]='signaling',_0x22f3b8[_0x41980a(0xa7a)]=_0x41980a(0x959),_0x22f3b8[_0x41980a(0x957)]='subscription',_0x22f3b8[_0x41980a(0x7c5)]=_0x41980a(0xa10),_0x22f3b8['System']='system',_0x22f3b8['SystemStats']=_0x41980a(0x8c3),_0x22f3b8['TestPage']=_0x41980a(0x426),_0x22f3b8[_0x41980a(0x4aa)]=_0x41980a(0x46f);}(_0x5a543d||(_0x5a543d={}));const _0x25b155=require('@crewdle/web-sdk-types');class _0x5f4ef0{['query'];constructor(_0xa3da76){const _0x542694=_0x3d1090;this[_0x542694(0x968)]={'orderBy':{'key':_0xa3da76,'direction':_0x542694(0x366)}};}static[_0x3d1090(0x560)](_0x1821ab){const _0x7aaad9=_0x3d1090;if(_0x7aaad9(0x205)!=typeof _0x1821ab||0x0===_0x1821ab['length'])throw new _0x4ded08(_0x2c3351[_0x7aaad9(0x4cf)],'Invalid\x20index\x20key:\x20must\x20be\x20a\x20string');return new _0x5f4ef0(_0x1821ab);}static[_0x3d1090(0xa26)](_0x46f1d5){const _0x1312d1=_0x3d1090;try{return _0x5f4ef0[_0x1312d1(0x213)](_0x46f1d5),!0x0;}catch(_0x4a6611){return!0x1;}}static[_0x3d1090(0x213)](_0x96dc2){const _0x486c08=_0x3d1090,_0x4d6626=_0x5f4ef0[_0x486c08(0x560)](_0x96dc2[_0x486c08(0x4ae)]?.[_0x486c08(0x3ae)]??_0x96dc2[_0x486c08(0x636)]?.[_0x486c08(0x3ae)]??'');if(_0x96dc2[_0x486c08(0x636)]){const _0x3587ba=_0x96dc2[_0x486c08(0x636)];if((_0x5f4ef0[_0x486c08(0x1c4)](_0x3587ba)||_0x5f4ef0[_0x486c08(0x65a)](_0x3587ba)||_0x5f4ef0[_0x486c08(0x51b)](_0x3587ba))&&_0x4d6626['where'](_0x3587ba['operator'],_0x3587ba[_0x486c08(0x81e)]),_0x96dc2[_0x486c08(0x4ae)]?.[_0x486c08(0x3ae)]&&_0x96dc2['orderBy']?.[_0x486c08(0x3ae)]!==_0x96dc2[_0x486c08(0x636)][_0x486c08(0x3ae)])throw new _0x4ded08(_0x2c3351[_0x486c08(0x4cf)],_0x486c08(0x34a));}return _0x96dc2[_0x486c08(0x4ae)]&&_0x4d6626[_0x486c08(0x4ae)](_0x96dc2[_0x486c08(0x4ae)][_0x486c08(0x196)]),_0x96dc2[_0x486c08(0x3a5)]&&_0x4d6626[_0x486c08(0x3a5)](_0x96dc2[_0x486c08(0x3a5)]),_0x96dc2[_0x486c08(0x58e)]&&_0x4d6626[_0x486c08(0x58e)](_0x96dc2[_0x486c08(0x58e)]),_0x4d6626;}[_0x3d1090(0x322)](){const _0x14b166=_0x3d1090;return{...this[_0x14b166(0x968)]};}['where'](_0x45e370,_0x10e13b){const _0x87e57c=_0x3d1090,_0x6ea0f3={'key':this['query']['orderBy'][_0x87e57c(0x3ae)],'operator':_0x45e370,'value':_0x10e13b};if(!_0x5f4ef0['isWhereValue'](_0x6ea0f3)&&!_0x5f4ef0['isWhereValues'](_0x6ea0f3)&&!_0x5f4ef0[_0x87e57c(0x51b)](_0x6ea0f3))throw new _0x4ded08(_0x2c3351[_0x87e57c(0x4cf)],_0x87e57c(0x269));return this[_0x87e57c(0x968)]['where']=_0x6ea0f3,this;}['orderBy'](_0x5e737b){const _0x2126bb=_0x3d1090;if('asc'!==_0x5e737b&&_0x2126bb(0x606)!==_0x5e737b)throw new _0x4ded08(_0x2c3351[_0x2126bb(0x4cf)],_0x2126bb(0x1b9));return this['query'][_0x2126bb(0x4ae)][_0x2126bb(0x196)]=_0x5e737b,this;}[_0x3d1090(0x3a5)](_0x45f6d8){const _0x1a68bb=_0x3d1090;if(_0x1a68bb(0x761)!=typeof _0x45f6d8||_0x45f6d8<0x0)throw new _0x4ded08(_0x2c3351['QueryBuilderInvalidArgument'],_0x1a68bb(0x888));return this['query'][_0x1a68bb(0x3a5)]=_0x45f6d8,this;}[_0x3d1090(0x58e)](_0x4cbf68){const _0x325acd=_0x3d1090;if(_0x325acd(0x761)!=typeof _0x4cbf68||_0x4cbf68<0x0)throw new _0x4ded08(_0x2c3351['QueryBuilderInvalidArgument'],_0x325acd(0x8d6));return this[_0x325acd(0x968)]['offset']=_0x4cbf68,this;}static[_0x3d1090(0x1c4)](_0x32863f){const _0x557f78=_0x3d1090;if(!(_0x32863f&&_0x557f78(0x55b)==typeof _0x32863f&&'operator'in _0x32863f&&_0x557f78(0x81e)in _0x32863f))return!0x1;const {operator:_0x31572a,value:_0x509d22}=_0x32863f;return!(!['==','!=','>','<','<=','>='][_0x557f78(0x1e2)](_0x31572a)||Array['isArray'](_0x509d22));}static['isWhereValues'](_0x1fac8b){const _0x47d23=_0x3d1090;if(!(_0x1fac8b&&_0x47d23(0x55b)==typeof _0x1fac8b&&'operator'in _0x1fac8b&&'value'in _0x1fac8b))return!0x1;const {operator:_0x47af6c,value:_0x3e3d4c}=_0x1fac8b;return!(!['in','not-in'][_0x47d23(0x1e2)](_0x47af6c)||!Array[_0x47d23(0x625)](_0x3e3d4c));}static['isWhereBetween'](_0x14fd89){const _0x1b512f=_0x3d1090;if(!(_0x14fd89&&_0x1b512f(0x55b)==typeof _0x14fd89&&_0x1b512f(0xa12)in _0x14fd89&&_0x1b512f(0x81e)in _0x14fd89))return!0x1;const {operator:_0x1acb8e,value:_0xc4af27}=_0x14fd89;return!(_0x1b512f(0x41e)!==_0x1acb8e||!Array[_0x1b512f(0x625)](_0xc4af27)||0x2!==_0xc4af27[_0x1b512f(0x73c)]);}}class _0x498528{[_0x3d1090(0x337)];constructor(_0x2c5119){this['layout']={'tables':{},'version':_0x2c5119};}static['validateLayout'](_0x893ab0){const _0x1084cf=_0x3d1090;for(const _0x4f679b in _0x893ab0){if(_0x1084cf(0x4f5)!==_0x4f679b&&_0x1084cf(0x1f3)!==_0x4f679b)return[!0x1,_0x1084cf(0x811)+_0x4f679b+_0x1084cf(0x372)];if(_0x1084cf(0x1f3)===_0x4f679b)for(const _0x45b171 in _0x893ab0[_0x1084cf(0x1f3)]){if(_0x1084cf(0x205)!=typeof _0x45b171)return[!0x1,_0x1084cf(0x7aa)+_0x45b171+'\x27'];for(const _0xdb048b in _0x893ab0[_0x1084cf(0x1f3)][_0x45b171]){if(_0x1084cf(0x3bd)!==_0xdb048b)return[!0x1,'Invalid\x20key\x20\x27'+_0xdb048b+_0x1084cf(0x321)+_0x45b171+'\x27'];const _0x4b864d=_0x893ab0[_0x1084cf(0x1f3)][_0x45b171][_0xdb048b]??[];for(const _0x3af9e0 of _0x4b864d)if(void 0x0===_0x3af9e0['keyPath']||'string'!=typeof _0x3af9e0['keyPath'])return[!0x1,_0x1084cf(0x1db)+_0x45b171+'\x27:\x20missing\x20or\x20invalid\x20keyPath'];}}else{if('version'===_0x4f679b&&_0x1084cf(0x761)!=typeof _0x893ab0[_0x4f679b])return[!0x1,_0x1084cf(0x8ea)+_0x893ab0[_0x4f679b]+'\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number'];}}return[!0x0,_0x1084cf(0x823)];}static['layout'](_0x58a8a3){const _0x473b95=_0x3d1090,_0x52c7ca=new _0x498528(_0x58a8a3);return _0x52c7ca['layout'][_0x473b95(0x4f5)]=_0x58a8a3,_0x52c7ca;}[_0x3d1090(0x71a)](_0x3fe144){const _0x2635eb=_0x3d1090;return this[_0x2635eb(0x337)][_0x2635eb(0x1f3)][_0x3fe144]={},new _0x1f520c(this[_0x2635eb(0x337)][_0x2635eb(0x1f3)][_0x3fe144]);}[_0x3d1090(0x537)](){const _0x39eabc=_0x3d1090;return this[_0x39eabc(0x337)];}}class _0x1f520c{[_0x3d1090(0x4c5)];constructor(_0x5b2dc0){const _0x2ef822=_0x3d1090;this[_0x2ef822(0x4c5)]=_0x5b2dc0;}[_0x3d1090(0x560)](_0x3dabc0){const _0x555fa9=_0x3d1090;return this[_0x555fa9(0x4c5)][_0x555fa9(0x3bd)]=this[_0x555fa9(0x4c5)]['indexes']??[],this[_0x555fa9(0x4c5)][_0x555fa9(0x3bd)][_0x555fa9(0xa93)]({'keyPath':_0x3dabc0}),this;}}const _0x42c53f=0x40000,_0x3f812c=0x3f800,_0x28192e=0x1388,_0x1c71aa=_0x3d1090(0x614),_0x42b217='.crewdle-pending',_0x5d9926=_0x3d1090(0x224),_0x4302ce=_0x3d1090(0x27c),_0x339e08=0xdbba0,_0x34dde2=_0x3d1090(0x1d1),_0x58b322=0x61a8,_0x33a52a=0x7530,_0x22135a=_0x3d1090(0x7a6);var _0x5cf7ba;!function(_0x485202){const _0x2f8aa5=_0x3d1090;_0x485202[_0x2f8aa5(0x86b)]='connection-not-initialized',_0x485202[_0x2f8aa5(0x35d)]=_0x2f8aa5(0x722),_0x485202['ConnectionNoRetryQueue']=_0x2f8aa5(0x9bb),_0x485202[_0x2f8aa5(0x514)]=_0x2f8aa5(0x7a7),_0x485202[_0x2f8aa5(0x604)]=_0x2f8aa5(0x448),_0x485202[_0x2f8aa5(0xa7b)]=_0x2f8aa5(0x4e8),_0x485202['GenerativeAIContextJobAlreadyConsumed']=_0x2f8aa5(0xa77),_0x485202[_0x2f8aa5(0x326)]='generative-ai-context-job-failed',_0x485202[_0x2f8aa5(0x1a9)]=_0x2f8aa5(0x818),_0x485202['GenerativeAIWorkerCreationFailed']=_0x2f8aa5(0x289),_0x485202['GraphDatabaseCreationFailed']=_0x2f8aa5(0x4a6),_0x485202[_0x2f8aa5(0x748)]=_0x2f8aa5(0x4f0),_0x485202[_0x2f8aa5(0x61f)]=_0x2f8aa5(0x45e),_0x485202[_0x2f8aa5(0x870)]='invalid-subscriber',_0x485202[_0x2f8aa5(0x982)]=_0x2f8aa5(0x829),_0x485202['JobDispatcherCreationFailed']=_0x2f8aa5(0x3e0),_0x485202[_0x2f8aa5(0x521)]='job-dispatcher-invalid-payload',_0x485202[_0x2f8aa5(0x33b)]=_0x2f8aa5(0x648),_0x485202[_0x2f8aa5(0x725)]=_0x2f8aa5(0x629),_0x485202[_0x2f8aa5(0x3aa)]=_0x2f8aa5(0x24e),_0x485202['JobWorkerInvalidType']=_0x2f8aa5(0x201),_0x485202['KeyValueDatabaseCreationFailed']=_0x2f8aa5(0x5f0),_0x485202[_0x2f8aa5(0x5b9)]=_0x2f8aa5(0x60d),_0x485202['KeyValueDatabaseTableDoesNotExist']=_0x2f8aa5(0x18b),_0x485202[_0x2f8aa5(0x6fc)]=_0x2f8aa5(0x7d5),_0x485202[_0x2f8aa5(0x5ea)]='key-value-database-transaction-value-not-set',_0x485202[_0x2f8aa5(0x47b)]=_0x2f8aa5(0x1ce),_0x485202[_0x2f8aa5(0x7f1)]=_0x2f8aa5(0x2ae),_0x485202['MissingSystemTopic']=_0x2f8aa5(0x433),_0x485202['MistletCapacityReportNotSet']=_0x2f8aa5(0x344),_0x485202[_0x2f8aa5(0x5db)]=_0x2f8aa5(0x7d2),_0x485202[_0x2f8aa5(0x518)]=_0x2f8aa5(0xa02),_0x485202[_0x2f8aa5(0x50f)]='object-store-invalid-sync-message',_0x485202['ObjectStoreNotSynced']=_0x2f8aa5(0x543),_0x485202[_0x2f8aa5(0x9f0)]=_0x2f8aa5(0x637),_0x485202['RemoteMediaStreamDoesNotExist']=_0x2f8aa5(0x3c2),_0x485202[_0x2f8aa5(0x960)]=_0x2f8aa5(0x95c),_0x485202[_0x2f8aa5(0x92c)]='remote-connection-exists',_0x485202[_0x2f8aa5(0x5e8)]=_0x2f8aa5(0x72c),_0x485202['SubscriptionRequestFailed']=_0x2f8aa5(0x7d7),_0x485202[_0x2f8aa5(0x830)]=_0x2f8aa5(0x4b4),_0x485202[_0x2f8aa5(0x852)]='node-does-not-exist',_0x485202[_0x2f8aa5(0x71f)]=_0x2f8aa5(0x2f7),_0x485202['PeerConnectionInvalidDestination']=_0x2f8aa5(0x742),_0x485202[_0x2f8aa5(0x399)]='vector-database-creation-failed',_0x485202[_0x2f8aa5(0x383)]=_0x2f8aa5(0xa53),_0x485202[_0x2f8aa5(0x980)]=_0x2f8aa5(0x834);}(_0x5cf7ba||(_0x5cf7ba={}));const _0x398dfb=new Map([[_0x5cf7ba[_0x3d1090(0x86b)],_0x3d1090(0x237)],[_0x5cf7ba[_0x3d1090(0x35d)],_0x3d1090(0x6c7)],[_0x5cf7ba[_0x3d1090(0x375)],_0x3d1090(0x434)],[_0x5cf7ba[_0x3d1090(0x514)],_0x3d1090(0x57f)],[_0x5cf7ba[_0x3d1090(0x604)],_0x3d1090(0x54c)],[_0x5cf7ba['GenerativeAIContextInvalidPartialResult'],'Generative\x20AI\x20context\x20invalid\x20partial\x20result.'],[_0x5cf7ba[_0x3d1090(0x5d9)],_0x3d1090(0x824)],[_0x5cf7ba['GenerativeAIContextJobFailed'],_0x3d1090(0xa0d)],[_0x5cf7ba['GenerativeAIContextJobTimeout'],'Generative\x20AI\x20context\x20job\x20timeout.'],[_0x5cf7ba[_0x3d1090(0x794)],_0x3d1090(0x94b)],[_0x5cf7ba[_0x3d1090(0x5ee)],'Graph\x20database\x20creation\x20failed.'],[_0x5cf7ba['InvalidDataChannel'],_0x3d1090(0x5cd)],[_0x5cf7ba[_0x3d1090(0x61f)],_0x3d1090(0x564)],[_0x5cf7ba[_0x3d1090(0x870)],_0x3d1090(0x32a)],[_0x5cf7ba[_0x3d1090(0x982)],_0x3d1090(0x791)],[_0x5cf7ba[_0x3d1090(0x899)],_0x3d1090(0x66f)],[_0x5cf7ba['JobDispatcherInvalidPayload'],_0x3d1090(0x56a)],[_0x5cf7ba[_0x3d1090(0x33b)],_0x3d1090(0x776)],[_0x5cf7ba[_0x3d1090(0x725)],'Job\x20service\x20observer\x20not\x20found.'],[_0x5cf7ba['JobWorkerCreationFailed'],_0x3d1090(0xa54)],[_0x5cf7ba[_0x3d1090(0x3cc)],_0x3d1090(0x735)],[_0x5cf7ba['KeyValueDatabaseCreationFailed'],_0x3d1090(0x9d1)],[_0x5cf7ba['KeyValueDatabasePeakNotFound'],_0x3d1090(0x890)],[_0x5cf7ba[_0x3d1090(0x835)],_0x3d1090(0x947)],[_0x5cf7ba[_0x3d1090(0x6fc)],_0x3d1090(0x5f4)],[_0x5cf7ba[_0x3d1090(0x5ea)],_0x3d1090(0x407)],[_0x5cf7ba[_0x3d1090(0x47b)],'Local\x20stream\x20does\x20not\x20exist.'],[_0x5cf7ba[_0x3d1090(0x7f1)],_0x3d1090(0x3d5)],[_0x5cf7ba['MissingSystemTopic'],_0x3d1090(0x3f0)],[_0x5cf7ba[_0x3d1090(0xa21)],_0x3d1090(0x83a)],[_0x5cf7ba[_0x3d1090(0x5db)],_0x3d1090(0x3ce)],[_0x5cf7ba[_0x3d1090(0x50f)],'Invalid\x20object\x20store\x20sync\x20message.'],[_0x5cf7ba[_0x3d1090(0x518)],_0x3d1090(0x42b)],[_0x5cf7ba['ObjectStoreNotSynced'],_0x3d1090(0x8e4)],[_0x5cf7ba[_0x3d1090(0x9f0)],'Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.'],[_0x5cf7ba[_0x3d1090(0x3d6)],_0x3d1090(0x873)],[_0x5cf7ba['RemoteMediaStreamMissingProviderId'],_0x3d1090(0x48f)],[_0x5cf7ba[_0x3d1090(0x92c)],'Remote\x20connection\x20already\x20exists.'],[_0x5cf7ba['SubscriptionRequestDoesNotExist'],_0x3d1090(0x2dd)],[_0x5cf7ba[_0x3d1090(0x3e8)],_0x3d1090(0x3cf)],[_0x5cf7ba[_0x3d1090(0x830)],'Subscription\x20request\x20has\x20not\x20been\x20answered.'],[_0x5cf7ba[_0x3d1090(0x852)],'Node\x20does\x20not\x20exist.'],[_0x5cf7ba[_0x3d1090(0x71f)],_0x3d1090(0x49b)],[_0x5cf7ba['PeerConnectionInvalidDestination'],'Invalid\x20peer\x20connection\x20event\x20destination.'],[_0x5cf7ba[_0x3d1090(0x399)],_0x3d1090(0x467)],[_0x5cf7ba[_0x3d1090(0x383)],'Workflow\x20does\x20not\x20exist.'],[_0x5cf7ba[_0x3d1090(0x980)],_0x3d1090(0x98d)]]);class _0x1b9d16 extends Error{[_0x3d1090(0x393)];static [_0x3d1090(0x276)]=_0x5cf7ba;[_0x3d1090(0xa3d)];constructor(_0x3db026,_0x273551){const _0x1d4440=_0x3d1090;super(_0x1d4440(0x871)+_0x3db026+':\x20'+_0x398dfb[_0x1d4440(0x252)](_0x3db026)+_0x1d4440(0x96e)+JSON[_0x1d4440(0x90a)](_0x273551)),this[_0x1d4440(0x393)]=_0x3db026,this[_0x1d4440(0xa3d)]=_0x273551||{};}}var _0x4a88e8,_0xb6aaf5,_0x396e5b,_0x208c9d,_0x2bcb22,_0x5e252a,_0x17c3e2;!function(_0x39129b){const _0x389afe=_0x3d1090;_0x39129b[_0x39129b[_0x389afe(0x4ec)]=0x0]=_0x389afe(0x4ec),_0x39129b[_0x39129b['CloseJobDispatcher']=0x1]='CloseJobDispatcher',_0x39129b[_0x39129b[_0x389afe(0x958)]=0x2]=_0x389afe(0x958),_0x39129b[_0x39129b[_0x389afe(0x9b5)]=0x3]=_0x389afe(0x9b5),_0x39129b[_0x39129b[_0x389afe(0x291)]=0x4]=_0x389afe(0x291),_0x39129b[_0x39129b['CloseMediaStream']=0x5]=_0x389afe(0x7f6),_0x39129b[_0x39129b[_0x389afe(0xa5d)]=0x6]='CloseObjectStoreBucket',_0x39129b[_0x39129b[_0x389afe(0x6dd)]=0x7]=_0x389afe(0x6dd),_0x39129b[_0x39129b['CloseVectorDatabase']=0x8]=_0x389afe(0x45b),_0x39129b[_0x39129b[_0x389afe(0x930)]=0x9]=_0x389afe(0x930),_0x39129b[_0x39129b[_0x389afe(0x65e)]=0xa]=_0x389afe(0x65e),_0x39129b[_0x39129b[_0x389afe(0x867)]=0xb]=_0x389afe(0x867),_0x39129b[_0x39129b['GraphDatabaseStats']=0xc]=_0x389afe(0x394),_0x39129b[_0x39129b['KeyValueDatabaseContentAvailable']=0xd]=_0x389afe(0x9b4),_0x39129b[_0x39129b[_0x389afe(0x7b4)]=0xe]=_0x389afe(0x7b4),_0x39129b[_0x39129b['KeyValueDatabaseRequestPeakTransactions']=0xf]=_0x389afe(0x671),_0x39129b[_0x39129b[_0x389afe(0x8d0)]=0x10]='KeyValueDatabaseRequestTransactionsValue',_0x39129b[_0x39129b[_0x389afe(0x34f)]=0x11]=_0x389afe(0x34f),_0x39129b[_0x39129b[_0x389afe(0x7b1)]=0x12]=_0x389afe(0x7b1),_0x39129b[_0x39129b[_0x389afe(0x704)]=0x13]=_0x389afe(0x704),_0x39129b[_0x39129b[_0x389afe(0x2eb)]=0x14]=_0x389afe(0x2eb),_0x39129b[_0x39129b[_0x389afe(0x7b2)]=0x15]=_0x389afe(0x7b2),_0x39129b[_0x39129b[_0x389afe(0x36b)]=0x16]=_0x389afe(0x36b),_0x39129b[_0x39129b['PublishMediaStream']=0x17]='PublishMediaStream',_0x39129b[_0x39129b[_0x389afe(0x617)]=0x18]='RemoteMediaStreamTrackFail',_0x39129b[_0x39129b['SubscribeMediaStream']=0x19]=_0x389afe(0x731),_0x39129b[_0x39129b[_0x389afe(0x630)]=0x1a]='UnpublishMediaStream',_0x39129b[_0x39129b[_0x389afe(0x1cb)]=0x1b]='UnsubscribeMediaStream',_0x39129b[_0x39129b[_0x389afe(0x88b)]=0x1c]=_0x389afe(0x88b),_0x39129b[_0x39129b[_0x389afe(0x418)]=0x1d]=_0x389afe(0x418);}(_0x4a88e8||(_0x4a88e8={})),function(_0x63aa5e){const _0x34b52e=_0x3d1090;_0x63aa5e[_0x34b52e(0x66c)]=_0x34b52e(0x6e4),_0x63aa5e['FolderCreate']=_0x34b52e(0x739),_0x63aa5e[_0x34b52e(0x424)]=_0x34b52e(0x54a),_0x63aa5e['Move']=_0x34b52e(0x9a7),_0x63aa5e['RequestFile']=_0x34b52e(0x45d),_0x63aa5e['RequestAccepted']=_0x34b52e(0x6b3),_0x63aa5e[_0x34b52e(0xa81)]=_0x34b52e(0x8f3),_0x63aa5e['RequestFileWrite']=_0x34b52e(0x577);}(_0xb6aaf5||(_0xb6aaf5={})),function(_0x1ce334){const _0x1d3b66=_0x3d1090;_0x1ce334['Request']=_0x1d3b66(0x821),_0x1ce334[_0x1d3b66(0x6fe)]='transaction';}(_0x396e5b||(_0x396e5b={})),function(_0x2bc5f3){const _0x23bf5d=_0x3d1090;_0x2bc5f3[_0x23bf5d(0x59f)]='add',_0x2bc5f3['Update']='update',_0x2bc5f3[_0x23bf5d(0x424)]=_0x23bf5d(0x54a);}(_0x208c9d||(_0x208c9d={})),function(_0x18d060){const _0x134847=_0x3d1090;_0x18d060['Get']=_0x134847(0x252),_0x18d060[_0x134847(0x27a)]=_0x134847(0x97e),_0x18d060[_0x134847(0x820)]=_0x134847(0x872);}(_0x2bcb22||(_0x2bcb22={})),function(_0x19a45d){const _0x20b6cf=_0x3d1090;_0x19a45d[_0x19a45d[_0x20b6cf(0x857)]=0x0]=_0x20b6cf(0x857),_0x19a45d[_0x19a45d[_0x20b6cf(0x4bc)]=0x1]=_0x20b6cf(0x4bc),_0x19a45d[_0x19a45d[_0x20b6cf(0x4c8)]=0x2]=_0x20b6cf(0x4c8),_0x19a45d[_0x19a45d[_0x20b6cf(0x5be)]=0x3]='PartialResult',_0x19a45d[_0x19a45d[_0x20b6cf(0x796)]=0x4]='Result',_0x19a45d[_0x19a45d[_0x20b6cf(0x2a0)]=0x5]=_0x20b6cf(0x2a0);}(_0x5e252a||(_0x5e252a={})),function(_0x7d4c3e){const _0x10fcc7=_0x3d1090;_0x7d4c3e[_0x7d4c3e[_0x10fcc7(0x4aa)]=0x0]=_0x10fcc7(0x4aa),_0x7d4c3e[_0x7d4c3e['Node']=0x1]=_0x10fcc7(0x3e6),_0x7d4c3e[_0x7d4c3e[_0x10fcc7(0x235)]=0x2]=_0x10fcc7(0x235),_0x7d4c3e[_0x7d4c3e[_0x10fcc7(0x957)]=0x3]=_0x10fcc7(0x957),_0x7d4c3e[_0x7d4c3e[_0x10fcc7(0xa7a)]=0x4]=_0x10fcc7(0xa7a),_0x7d4c3e[_0x7d4c3e['Detection']=0x5]=_0x10fcc7(0x440),_0x7d4c3e[_0x7d4c3e['Remediation']=0x6]=_0x10fcc7(0x760);}(_0x17c3e2||(_0x17c3e2={}));class _0x392939{['owner'];[_0x3d1090(0x7d3)];[_0x3d1090(0x613)];constructor(_0x2e11ad,_0x51762a){const _0x5474ca=_0x3d1090;this[_0x5474ca(0x620)]=_0x2e11ad,this[_0x5474ca(0x7d3)]=_0x51762a;}[_0x3d1090(0xa01)](){const _0x1a8de3=_0x3d1090;return this[_0x1a8de3(0x7d3)];}[_0x3d1090(0x310)](){const _0xd4f66b=_0x3d1090;return this[_0xd4f66b(0x620)]['getId']();}[_0x3d1090(0x1f8)](){}[_0x3d1090(0x60f)](_0x237114){const _0x1dc9e0=_0x3d1090;this[_0x1dc9e0(0x613)]=_0x237114;}[_0x3d1090(0x7b7)](){const _0x186beb=_0x3d1090;delete this[_0x186beb(0x613)];}}const _0x11d3a3=require('firebase/firestore');let _0x218236=_0x54bc3a(0x14d)['O'];function _0x5c225d(_0x4f64e5){const _0x387d5b=_0x3d1090;return!(!_0x4f64e5||'object'!=typeof _0x4f64e5||Array[_0x387d5b(0x625)](_0x4f64e5));}_0x218236=function _0x45e18f(_0x473fa4,..._0x4c748a){const _0x50f25f=_0x3d1090;if(!Array[_0x50f25f(0x625)](_0x4c748a)||0x0===_0x4c748a[_0x50f25f(0x73c)])return _0x473fa4;const _0x5a5b01=_0x4c748a[_0x50f25f(0x536)]();if(_0x5c225d(_0x473fa4)&&_0x5c225d(_0x5a5b01)){for(const _0x586caa in _0x5a5b01)_0x5c225d(_0x5a5b01[_0x586caa])?(_0x473fa4[_0x586caa]||Object[_0x50f25f(0x831)](_0x473fa4,{[_0x586caa]:{}}),_0x45e18f(_0x473fa4[_0x586caa],_0x5a5b01[_0x586caa])):Object[_0x50f25f(0x831)](_0x473fa4,{[_0x586caa]:_0x5a5b01[_0x586caa]});}return _0x45e18f(_0x473fa4,..._0x4c748a);}(_0x218236,_0x54bc3a(0x3e6)['O']);const _0x114c13=_0x218236,_0x2b98c0=require('firebase/app'),_0x20e417=require('firebase/auth'),_0x580970=require('firebase/database'),_0x4d8717=require('firebase/functions'),_0x14a38c=require('uuid'),_0x15f571=_0x3d1090(0x27b);class _0x2d2d34{static [_0x3d1090(0x404)];[_0x3d1090(0x611)];[_0x3d1090(0x6a9)];[_0x3d1090(0x2d6)];[_0x3d1090(0x392)];[_0x3d1090(0x86a)];[_0x3d1090(0x3d0)];[_0x3d1090(0x79f)];constructor(){this['getApp']();}static[_0x3d1090(0x49a)](){const _0x40c567=_0x3d1090;return _0x2d2d34[_0x40c567(0x404)]||(_0x2d2d34[_0x40c567(0x404)]=new _0x2d2d34()),_0x2d2d34[_0x40c567(0x404)];}[_0x3d1090(0x497)](){const _0x47c69c=_0x3d1090;if(!this[_0x47c69c(0x611)]){let _0x3ec11a=_0x15f571;_0x47c69c(0x6fb)!=typeof window&&(_0x3ec11a=_0x15f571+'-'+(0x0,_0x14a38c['v4'])()),this[_0x47c69c(0x611)]=(0x0,_0x2b98c0[_0x47c69c(0x7e6)])(_0x114c13['firebaseConfig'],''+_0x3ec11a);}return this[_0x47c69c(0x611)];}[_0x3d1090(0x4a4)](){const _0x118d3e=_0x3d1090;return this['auth']||(this[_0x118d3e(0x6a9)]=(0x0,_0x20e417[_0x118d3e(0x4a4)])(this[_0x118d3e(0x497)]())),this[_0x118d3e(0x6a9)];}[_0x3d1090(0x778)](){const _0x444429=_0x3d1090;return this[_0x444429(0x2d6)]||(this['functions']=(0x0,_0x4d8717[_0x444429(0x778)])(this['getApp'](),_0x114c13[_0x444429(0x6b6)][_0x444429(0x825)])),this[_0x444429(0x2d6)];}[_0x3d1090(0xaa8)](){const _0x2fa525=_0x3d1090;return this['database']||(this[_0x2fa525(0x392)]=(0x0,_0x580970[_0x2fa525(0xaa8)])(this[_0x2fa525(0x497)]())),this[_0x2fa525(0x392)];}[_0x3d1090(0x78d)](){const _0xd7f390=_0x3d1090;return this['firestore']||(this['firestore']=(0x0,_0x11d3a3['getFirestore'])(this[_0xd7f390(0x497)]())),this['firestore'];}async[_0x3d1090(0x8a6)](){const _0xbdecf7=_0x3d1090;if(this[_0xbdecf7(0x3d0)]&&this[_0xbdecf7(0x79f)]&&Date[_0xbdecf7(0x267)]()-this[_0xbdecf7(0x79f)]<0x493e0)return Date[_0xbdecf7(0x267)]()+this[_0xbdecf7(0x3d0)];const _0x5c790f=this[_0xbdecf7(0xaa8)](),_0x3af2c1=(0x0,_0x580970['ref'])(_0x5c790f,_0xbdecf7(0x28b));return new Promise(_0x2ce22d=>{(0x0,_0x580970['onValue'])(_0x3af2c1,_0x5693b5=>{const _0x17c6d7=a0_0x50c4;(0x0,_0x580970[_0x17c6d7(0x2d4)])(_0x3af2c1),this['clockSkew']=_0x5693b5[_0x17c6d7(0x4e6)](),this[_0x17c6d7(0x79f)]=Date[_0x17c6d7(0x267)](),_0x2ce22d(Date[_0x17c6d7(0x267)]()+(this['clockSkew']??0x0));});});}}const _0x2f14fd=_0x2d2d34[_0x3d1090(0x49a)]();class _0x3d22ce{static ['instance'];[_0x3d1090(0x3e5)]=[_0x5a543d[_0x3d1090(0x96b)]];['debugEnabled']=!0x1;[_0x3d1090(0x6bc)];[_0x3d1090(0x43c)]='';[_0x3d1090(0xa9a)];[_0x3d1090(0x9d6)]=[];[_0x3d1090(0x23d)];[_0x3d1090(0xa1d)];[_0x3d1090(0x602)]=0xa;[_0x3d1090(0x3f1)]=0x1f4;[_0x3d1090(0xa8d)]=0x1c2;['timeoutValue']=0x3e8;constructor(){const _0x3a7c7c=_0x3d1090;if('undefined'!=typeof window)this[_0x3a7c7c(0xa9a)]=window;else{if(void 0x0===_0x54bc3a['g'])throw new Error('No\x20global\x20object\x20found');this[_0x3a7c7c(0xa9a)]=_0x54bc3a['g'];}this[_0x3a7c7c(0x741)](),this[_0x3a7c7c(0xa9a)]['crewdleSDKEnableLogging']=_0x3d68a9=>{const _0x49e123=_0x3a7c7c;if(_0x3d68a9===_0x5a543d[_0x49e123(0x24d)])return this['enabledChannels']=Object[_0x49e123(0x912)](_0x5a543d)[_0x49e123(0x855)](_0x28ac4a=>_0x5a543d[_0x28ac4a]),void Object[_0x49e123(0x912)](_0x5a543d)[_0x49e123(0x7ff)](_0x1b19ef=>{const _0x54c021=_0x49e123,_0x4df20f=_0x1b19ef;localStorage[_0x54c021(0x551)](_0x54c021(0x69a)+_0x5a543d[_0x4df20f],_0x54c021(0x2cc));});this['enabledChannels'][_0x49e123(0x1e2)](_0x3d68a9)||(this['enabledChannels'][_0x49e123(0xa93)](_0x3d68a9),localStorage[_0x49e123(0x551)](_0x49e123(0x69a)+_0x3d68a9,'true'));},this['globalObject'][_0x3a7c7c(0x21b)]=_0x40a751=>{const _0x4fc19c=_0x3a7c7c;if(!_0x40a751||_0x40a751===_0x5a543d[_0x4fc19c(0x24d)])return this[_0x4fc19c(0x3e5)]=[],void Object[_0x4fc19c(0x912)](_0x5a543d)[_0x4fc19c(0x7ff)](_0x1f328c=>{const _0xa6a187=_0x4fc19c,_0x176dc6=_0x1f328c;localStorage['removeItem'](_0xa6a187(0x69a)+_0x5a543d[_0x176dc6]);});this[_0x4fc19c(0x3e5)][_0x4fc19c(0x1e2)](_0x40a751)&&(this[_0x4fc19c(0x3e5)]=this[_0x4fc19c(0x3e5)][_0x4fc19c(0x25d)](_0xa0547e=>_0xa0547e!==_0x40a751),localStorage['removeItem'](_0x4fc19c(0x69a)+_0x40a751));},this[_0x3a7c7c(0xa9a)][_0x3a7c7c(0x468)]=_0x5a543d;}static[_0x3d1090(0x49a)](){const _0xc82d2e=_0x3d1090;try{return _0x3d22ce['instance']||(_0x3d22ce[_0xc82d2e(0x404)]=new _0x3d22ce()),_0x3d22ce[_0xc82d2e(0x404)];}catch(_0x3b85e6){return console['error'](_0xc82d2e(0x93a),_0x3b85e6),{'log':()=>{},'forceLog':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1,'processBatch':()=>{}};}}[_0x3d1090(0x7cc)](_0x1ab430){const _0x464224=_0x3d1090;this['vendorId']=_0x1ab430,this['batchQueue']=[],this['currentBatch']=this['createNewBatch'](),this[_0x464224(0xa1d)]&&(clearTimeout(this['batchTimeout']),this[_0x464224(0xa1d)]=void 0x0);}[_0x3d1090(0x299)](_0x1557de){const _0x1d7d0f=_0x3d1090;this[_0x1d7d0f(0x6bc)]=_0x1557de;}[_0x3d1090(0x9f8)](_0x54a023,..._0x354f66){const _0x4a46d9=_0x3d1090;this['debugEnabled']&&this[_0x4a46d9(0x546)](_0x5a543d[_0x4a46d9(0x96b)],_0x4a46d9(0x87f)+_0x54a023,..._0x354f66);}[_0x3d1090(0x5f3)](_0x253103,..._0x5c355e){const _0x14ef4e=_0x3d1090;console[_0x14ef4e(0x546)](_0x253103,..._0x5c355e);}['log'](_0x267ea6,_0x3c80b3,..._0x341e2f){const _0xc65bee=_0x3d1090;_0x114c13[_0xc65bee(0x549)]||(this[_0xc65bee(0x3e5)][_0xc65bee(0x1e2)](_0x267ea6)&&console['log'](_0xc65bee(0x812)+_0x267ea6+'\x27\x0a',new Date()+'\x0a',_0x3c80b3,..._0x341e2f),this[_0xc65bee(0x6bc)]&&this[_0xc65bee(0x6bc)][_0xc65bee(0x7ff)](_0x17db7e=>{const _0x5e9126=_0xc65bee;this['isInternalLoggingConnector'](_0x17db7e)&&_0x17db7e[_0x5e9126(0x6bf)]()[_0x5e9126(0x1e2)](_0x267ea6)&&_0x17db7e[_0x5e9126(0x546)](_0x3c80b3,{'vendorId':this[_0x5e9126(0x43c)],'nodeId':'','nodeType':'','data':{'channel':_0x267ea6,..._0x341e2f}});}));}[_0x3d1090(0x753)](_0x21a225,_0x55c5ba,..._0x2b1e86){const _0x3b1971=_0x3d1090;_0x114c13['isProduction']||(this[_0x3b1971(0x3e5)][_0x3b1971(0x1e2)](_0x21a225)&&console[_0x3b1971(0x546)](_0x55c5ba,..._0x2b1e86),this[_0x3b1971(0x6bc)]&&this[_0x3b1971(0x6bc)]['forEach'](_0x10d5be=>{const _0x491e74=_0x3b1971;this['isInternalLoggingConnector'](_0x10d5be)&&_0x10d5be[_0x491e74(0x6bf)]()[_0x491e74(0x1e2)](_0x21a225)&&_0x10d5be[_0x491e74(0x546)](_0x55c5ba,{'vendorId':this['vendorId'],'nodeId':'','nodeType':'','data':{'channel':_0x21a225,..._0x2b1e86}});}));}[_0x3d1090(0x369)](_0x532960,_0x258c0b){const _0x1400f3=_0x3d1090;if(!this['loggingConnectors'])return;const _0x48a853={'vendorId':this['vendorId'],..._0x258c0b};this[_0x1400f3(0x6bc)][_0x1400f3(0x7ff)](_0x36ecb0=>{const _0x329468=_0x1400f3;_0x36ecb0[_0x329468(0x546)](_0x532960,_0x48a853);});}[_0x3d1090(0x340)](_0x5027ed,_0x4bb11a){const _0x37ce91=_0x3d1090;this[_0x37ce91(0x662)](_0x5027ed,_0x4bb11a),this[_0x37ce91(0x88f)]();}['logStorage'](_0x4a68b3,_0x19884e,_0x45e0ce){const _0x2817fd=_0x3d1090;(0x0,_0x11d3a3['setDoc'])((0x0,_0x11d3a3[_0x2817fd(0x713)])(_0x2f14fd[_0x2817fd(0x78d)](),'developers/'+this[_0x2817fd(0x43c)]+'/'+_0x4a68b3+'/'+_0x19884e),{'storage':_0x45e0ce,'timestamp':(0x0,_0x11d3a3[_0x2817fd(0x20d)])()});}[_0x3d1090(0x88f)](){const _0x4d22c4=_0x3d1090;this[_0x4d22c4(0x23d)]&&(this[_0x4d22c4(0x23d)][_0x4d22c4(0x2b6)]+=0x1,this['currentBatch']['counter']===this[_0x4d22c4(0xa8d)]?this[_0x4d22c4(0x3fc)]():this[_0x4d22c4(0xa1d)]||(this['batchTimeout']=this[_0x4d22c4(0xa9a)][_0x4d22c4(0x44e)](()=>this[_0x4d22c4(0x3fc)](),this['timeoutValue'])));}async[_0x3d1090(0x3fc)](){const _0x336ae0=_0x3d1090;if(this['currentBatch']){for(this[_0x336ae0(0x9d6)][_0x336ae0(0xa93)](this[_0x336ae0(0x23d)]),this[_0x336ae0(0x23d)]=this[_0x336ae0(0x58d)]();this[_0x336ae0(0x9d6)][_0x336ae0(0x73c)]>0x0;){const _0x7494ab=this['batchQueue'][_0x336ae0(0x536)]();if(!await this[_0x336ae0(0x2d8)](_0x7494ab))break;}clearTimeout(this[_0x336ae0(0xa1d)]),this[_0x336ae0(0xa1d)]=void 0x0;}}[_0x3d1090(0x58c)](_0x25aa8b,_0x35aa1d,..._0x1b6bc1){const _0x13550a=_0x3d1090;if(console[_0x13550a(0x58c)](new Date(),_0x25aa8b,_0x35aa1d,..._0x1b6bc1),this[_0x13550a(0x6bc)]){const _0x14daab={'vendorId':this[_0x13550a(0x43c)],..._0x35aa1d};this['loggingConnectors'][_0x13550a(0x7ff)](_0x3e1cae=>{const _0x31583d=_0x13550a;_0x3e1cae[_0x31583d(0x58c)](_0x25aa8b,_0x14daab);});}}[_0x3d1090(0x236)](_0x1f12c4,_0x28b647,..._0x1f5cbc){const _0x483865=_0x3d1090;if(console['warn'](new Date(),_0x1f12c4,_0x28b647,_0x1f5cbc),this['loggingConnectors']){const _0x27f577={'vendorId':this[_0x483865(0x43c)],..._0x28b647};this[_0x483865(0x6bc)][_0x483865(0x7ff)](_0x2cf647=>{const _0x11cac4=_0x483865;_0x2cf647[_0x11cac4(0x929)](_0x1f12c4,_0x27f577);});}}[_0x3d1090(0x445)](_0x5ed8e3){const _0x186f27=_0x3d1090;return this[_0x186f27(0x3e5)]['includes'](_0x5ed8e3);}async[_0x3d1090(0x2d8)](_0x490959,_0x4cccc1=0x0){const _0x1f44da=_0x3d1090;if(_0x490959['counter']>0x0)try{return await _0x490959[_0x1f44da(0x2f0)][_0x1f44da(0x7a5)](),!0x0;}catch(_0x42af73){if(console[_0x1f44da(0x58c)]('Error\x20committing\x20batch:',_0x42af73,_0x1f44da(0x6e3),_0x490959[_0x1f44da(0x9d9)]),!(_0x4cccc1<this[_0x1f44da(0x602)])){const {nodeId:_0x485991='',nodeType:_0x39bb2f='',clusterId:_0xc794b6=''}=_0x490959['operations'][0x0][_0x1f44da(0xa3d)],_0x2624e7={'nodeId':_0x485991,'nodeType':_0x39bb2f,'clusterId':_0xc794b6,'data':{'operations':_0x490959[_0x1f44da(0x9d9)],'error':_0x42af73}};return this[_0x1f44da(0x58c)](_0x1f44da(0x41a),_0x2624e7),!0x1;}{const _0x247e95=this[_0x1f44da(0x6a1)](_0x490959[_0x1f44da(0x9d9)]);setTimeout(()=>this['commitBatch'](_0x247e95,_0x4cccc1+0x1),this[_0x1f44da(0x3f1)]*Math[_0x1f44da(0x772)](0x2,_0x4cccc1));}}}['loadEnabledChannels'](){const _0x3c4716=_0x3d1090;try{Object[_0x3c4716(0x912)](_0x5a543d)[_0x3c4716(0x7ff)](_0x20bbf0=>{const _0x1d4b1c=_0x3c4716,_0x30b4ec=_0x20bbf0;localStorage[_0x1d4b1c(0xa7c)](_0x1d4b1c(0x69a)+_0x5a543d[_0x30b4ec])&&(console[_0x1d4b1c(0x546)](_0x1d4b1c(0x1f6),_0x5a543d[_0x30b4ec]),this[_0x1d4b1c(0x3e5)][_0x1d4b1c(0xa93)](_0x5a543d[_0x30b4ec]));});}catch(_0x2ff9d8){}}[_0x3d1090(0x216)](_0xab0e34){const _0x5a8c53=_0x3d1090;return void 0x0!==_0xab0e34[_0x5a8c53(0x6bf)];}[_0x3d1090(0x58d)](){const _0x3c1b2c=_0x3d1090;return{'batch':(0x0,_0x11d3a3[_0x3c1b2c(0x813)])(_0x2f14fd[_0x3c1b2c(0x78d)]()),'operations':[],'counter':0x0};}[_0x3d1090(0x6a1)](_0x77c6a6){const _0xf843a=_0x3d1090,_0x257314=(0x0,_0x11d3a3[_0xf843a(0x813)])(_0x2f14fd[_0xf843a(0x78d)]());return _0x77c6a6[_0xf843a(0x7ff)](_0x577b98=>this[_0xf843a(0x8c5)](_0x257314,_0x577b98)),{'batch':_0x257314,'operations':_0x77c6a6,'counter':_0x77c6a6[_0xf843a(0x73c)]};}[_0x3d1090(0x8c5)](_0x1409fb,_0x160622){const _0x2e9e7f=_0x3d1090;switch(_0x160622['type']){case _0x2e9e7f(0x6f0):_0x1409fb['set'](_0x160622[_0x2e9e7f(0x5fd)],_0x160622[_0x2e9e7f(0xa3d)]);break;case _0x2e9e7f(0x2f8):_0x1409fb[_0x2e9e7f(0x2f8)](_0x160622['ref'],_0x160622[_0x2e9e7f(0xa3d)]);break;case'delete':_0x1409fb[_0x2e9e7f(0x54a)](_0x160622['ref']);}}[_0x3d1090(0x662)](_0xd4b35b,_0x5724e3){const _0xe341fe=_0x3d1090;this[_0xe341fe(0x23d)]||(this[_0xe341fe(0x23d)]=this['createNewBatch']());const _0x926d04=(0x0,_0x11d3a3['doc'])((0x0,_0x11d3a3['collection'])(_0x2f14fd[_0xe341fe(0x78d)](),_0xe341fe(0xa58)+this[_0xe341fe(0x43c)]+_0xe341fe(0x77d))),_0x19c83b={..._0x5724e3,'service':_0xd4b35b,'timestamp':(0x0,_0x11d3a3[_0xe341fe(0x20d)])()},_0x3600c5={'type':_0xe341fe(0x6f0),'path':_0x926d04[_0xe341fe(0x6fd)],'ref':_0x926d04,'data':_0x19c83b};return this[_0xe341fe(0x23d)]['operations'][_0xe341fe(0xa93)](_0x3600c5),this[_0xe341fe(0x8c5)](this[_0xe341fe(0x23d)]['batch'],_0x3600c5),_0x926d04;}}const _0x3dc4e5=_0x3d22ce[_0x3d1090(0x49a)]();function _0x229f31(_0x501422,_0x54a59d){return'/'===_0x501422?_0x501422+_0x54a59d:_0x501422+'/'+_0x54a59d;}function _0x578a2f(_0x5eb4f4){const _0x3ff3d3=_0x3d1090,_0x112e28=function(_0x1524b5){const _0x15d8a0=a0_0x50c4;return _0x1524b5[_0x15d8a0(0xa49)]('/')[_0x15d8a0(0x25d)](_0x2c86ab=>_0x2c86ab['length']>0x0);}(_0x5eb4f4),_0x2a1a7f=_0x112e28['pop']()||'',_0x551449=_0x112e28[_0x3ff3d3(0x4b9)]('/');return[0x0===_0x551449[_0x3ff3d3(0x73c)]?'/':_0x551449,_0x2a1a7f];}async function _0x163456(_0x1c2703){const _0x115260=_0x3d1090;let _0x452593;const _0xedb0f4=_0x1c2703[_0x115260(0x8e5)]/0x100000;_0x452593=_0xedb0f4<=0xa?0x1:_0xedb0f4<=0x64?0.5:_0xedb0f4<=0x1f4?0.1:0.05;const _0x3f3341=Math[_0x115260(0x971)](_0x1c2703[_0x115260(0x8e5)]/_0x42c53f),_0x3c487b=Math['ceil'](_0x3f3341*_0x452593);let _0x18f947=new Uint8Array();for(let _0x2e4745=0x0;_0x2e4745<_0x3c487b;_0x2e4745++){const _0x578e50=Math[_0x115260(0x93b)](_0x2e4745/_0x3c487b*_0x1c2703['size']);let _0x97923d=_0x578e50+_0x42c53f;_0x97923d>_0x1c2703[_0x115260(0x8e5)]&&(_0x97923d=_0x1c2703[_0x115260(0x8e5)]);const _0x559ef1=_0x1c2703[_0x115260(0x5ec)](_0x578e50,_0x97923d),_0x5c274a=await _0x559ef1[_0x115260(0x86c)](),_0x12e298=new Uint8Array([..._0x18f947,...new Uint8Array(_0x5c274a)]);_0x18f947=new Uint8Array(await crypto['subtle'][_0x115260(0x9d8)](_0x115260(0x2a4),_0x12e298));}return Array['from'](new Uint8Array(_0x18f947))[_0x115260(0x855)](_0x27d1f6=>_0x27d1f6[_0x115260(0x8ee)](0x10)[_0x115260(0x3fe)](0x2,'0'))[_0x115260(0x4b9)]('');}async function*_0x1bc5dd(_0x43d5b7,_0x238deb=0x0,_0x2c5b3f){const _0x5b53ac=_0x3d1090;let _0x1abb80=_0x238deb*_0x3f812c,_0x30a49a=_0x43d5b7;for(;_0x1abb80<_0x30a49a['size'];){let _0x2e0498=_0x1abb80+_0x3f812c;_0x2e0498>_0x30a49a[_0x5b53ac(0x8e5)]&&(_0x2e0498=_0x30a49a[_0x5b53ac(0x8e5)]);let _0x5e1661=0x0;for(;_0x5e1661<0x14;)try{await _0x2c5b3f?.();const _0x5cc551=_0x30a49a['slice'](_0x1abb80,_0x2e0498,_0x5b53ac(0x3a3)),_0x1af892=await _0x5cc551['arrayBuffer']();yield _0x1af892,_0x1abb80=_0x2e0498,await new Promise(_0x5d23f3=>setTimeout(_0x5d23f3,0x0));break;}catch(_0x4df286){if(console['error']('Error\x20reading\x20file\x20chunk\x20after\x20'+(_0x5e1661+0x1)+_0x5b53ac(0x7cf),_0x4df286),_0x5e1661++,_0x5e1661>0x14)throw _0x4df286;let _0x11bc27=0x3e8*Math[_0x5b53ac(0x772)](0x2,_0x5e1661);_0x11bc27>0x7530&&(_0x11bc27=0x7530),await new Promise(_0x3b80de=>setTimeout(_0x3b80de,_0x11bc27));}}}class _0x38f018 extends _0x392939{[_0x3d1090(0x981)];[_0x3d1090(0x8bd)];[_0x3d1090(0x72d)]=new Map();[_0x3d1090(0x20a)]=0x0;[_0x3d1090(0x658)]=0x0;[_0x3d1090(0x6bd)]=0x0;[_0x3d1090(0x335)]=0x0;constructor(_0x315b6e,_0x2009ec){super(_0x315b6e,_0x2009ec);}[_0x3d1090(0xa01)](){return this['label'];}[_0x3d1090(0x44c)](){const _0x220379=_0x3d1090;return this[_0x220379(0x7d3)];}[_0x3d1090(0x3b7)](){const _0x40daff=_0x3d1090;return _0x25b155[_0x40daff(0x2ce)]['Data'];}[_0x3d1090(0xa3e)](){const _0x3ddc0e=_0x3d1090;return this[_0x3ddc0e(0x7d3)];}[_0x3d1090(0x942)](_0x19b484){const _0x1ad3f9=_0x3d1090;if(this[_0x1ad3f9(0x981)])throw new _0x1b9d16(_0x1b9d16[_0x1ad3f9(0x276)][_0x1ad3f9(0x61f)],{'message':_0x1ad3f9(0x8dc)+this['owner'][_0x1ad3f9(0x79a)]()+_0x1ad3f9(0x649)+this['label'],'topic':this['outgoingTopic']});this[_0x1ad3f9(0x981)]=_0x19b484;}[_0x3d1090(0x208)](_0x16cf0e){const _0x4fe1d8=_0x3d1090;if(this['incomingTopic'])throw new _0x1b9d16(_0x1b9d16[_0x4fe1d8(0x276)][_0x4fe1d8(0x870)],{'message':_0x4fe1d8(0x3a2)+this['owner'][_0x4fe1d8(0x79a)]()+'\x20-\x20'+this[_0x4fe1d8(0x7d3)],'topic':this[_0x4fe1d8(0x8bd)]});this['incomingTopic']=_0x16cf0e;}[_0x3d1090(0x2be)](){const _0xf53433=_0x3d1090;delete this[_0xf53433(0x981)];}[_0x3d1090(0x669)](){const _0x4f10cd=_0x3d1090;delete this[_0x4f10cd(0x8bd)];}async['send'](_0x27d4cb,_0x451feb){const _0x325263=_0x3d1090;if(_0x3dc4e5[_0x325263(0x546)](_0x5a543d[_0x325263(0xaa2)],'DataStream\x20send',this[_0x325263(0x620)][_0x325263(0x79a)](),_0x27d4cb,_0x451feb),this[_0x325263(0x20a)]+=0x1,_0x27d4cb instanceof File){const _0x5d086b=await async function(_0x327a39){const _0x4592e7=[];for await(const _0x332a89 of _0x1bc5dd(_0x327a39))_0x4592e7['push'](_0x332a89);return _0x4592e7;}(_0x27d4cb);return this['bytesSent']+=_0x5d086b[_0x325263(0x8f1)]((_0x205ff5,_0xc0cca8)=>_0x205ff5+_0xc0cca8[_0x325263(0x88e)],0x0),void _0x5d086b[_0x325263(0x7ff)]((_0x361007,_0x51c147)=>{const _0x114e05=_0x325263;this[_0x114e05(0x981)][_0x114e05(0x681)]({'sourceId':this['owner'][_0x114e05(0x79a)](),'destinationIds':_0x451feb,'propagate':!0x0,'contentType':_0x25b155[_0x114e05(0x2ce)][_0x114e05(0x7f0)],'content':{'name':_0x27d4cb[_0x114e05(0x643)],'type':_0x27d4cb[_0x114e05(0x88c)],'data':_0x361007,'index':_0x51c147,'total':_0x5d086b[_0x114e05(0x73c)]}});});}this['bytesSent']+=JSON[_0x325263(0x90a)](_0x27d4cb)['length'],this[_0x325263(0x981)][_0x325263(0x681)]({'sourceId':this[_0x325263(0x620)][_0x325263(0x79a)](),'destinationIds':_0x451feb,'propagate':!0x0,'contentType':_0x25b155[_0x325263(0x2ce)][_0x325263(0x624)],'content':_0x27d4cb});}['onMessage'](_0x12c084){const _0x333b78=_0x3d1090;return this['incomingTopic'][_0x333b78(0x81b)](_0x1dbe65=>{const _0x51b646=_0x333b78;switch(_0x3dc4e5[_0x51b646(0x546)](_0x5a543d[_0x51b646(0xaa2)],_0x51b646(0xa7d),this[_0x51b646(0x620)][_0x51b646(0x79a)](),_0x1dbe65),_0x1dbe65[_0x51b646(0x886)]){case _0x25b155[_0x51b646(0x2ce)][_0x51b646(0x624)]:this[_0x51b646(0x658)]+=0x1,this['bytesReceived']+=JSON[_0x51b646(0x90a)](_0x1dbe65[_0x51b646(0x1d7)])[_0x51b646(0x73c)],_0x12c084(_0x1dbe65[_0x51b646(0x590)],_0x1dbe65[_0x51b646(0x1d7)]);break;case _0x25b155[_0x51b646(0x2ce)][_0x51b646(0x7f0)]:this[_0x51b646(0x72d)][_0x51b646(0x1ac)](_0x1dbe65['content'][_0x51b646(0x643)])||this['fileChunks'][_0x51b646(0x6f0)](_0x1dbe65[_0x51b646(0x1d7)][_0x51b646(0x643)],{'chunksReceived':0x0,'bytesReceived':0x0,'checksum':'','content':[]});const _0x2f63e7=this['fileChunks'][_0x51b646(0x252)](_0x1dbe65[_0x51b646(0x1d7)][_0x51b646(0x643)]);if(_0x2f63e7[_0x51b646(0x464)]+=0x1,_0x2f63e7['bytesReceived']+=_0x1dbe65[_0x51b646(0x1d7)][_0x51b646(0xa3d)][_0x51b646(0x88e)],_0x2f63e7[_0x51b646(0x1d7)]&&(_0x2f63e7[_0x51b646(0x1d7)][_0x1dbe65[_0x51b646(0x1d7)][_0x51b646(0x560)]]=_0x1dbe65['content']['data']),this[_0x51b646(0x72d)][_0x51b646(0x6f0)](_0x1dbe65['content']['name'],_0x2f63e7),_0x2f63e7[_0x51b646(0x464)]+0x1<_0x1dbe65[_0x51b646(0x1d7)][_0x51b646(0x3ca)])return;this[_0x51b646(0x658)]+=0x1,this[_0x51b646(0x335)]+=_0x2f63e7[_0x51b646(0x335)],_0x2f63e7[_0x51b646(0x1d7)]&&_0x12c084(_0x1dbe65[_0x51b646(0x590)],(_0x24669c=_0x2f63e7[_0x51b646(0x1d7)],_0x5e0c1=_0x1dbe65['content']['name'],_0xe5f423=_0x1dbe65['content'][_0x51b646(0x88c)],new File(_0x24669c,_0x5e0c1,{'type':_0xe5f423}))),this['fileChunks']['delete'](_0x1dbe65[_0x51b646(0x1d7)][_0x51b646(0x643)]);}var _0x24669c,_0x5e0c1,_0xe5f423;});}}function _0x353664(){const _0xde2725=_0x3d1090;let _0x292643=[];return{'subscribe':_0x72e3ca=>(_0x292643[_0xde2725(0xa93)](_0x72e3ca),()=>{const _0x290b30=_0xde2725;_0x292643=_0x292643[_0x290b30(0x25d)](_0x1a211d=>_0x1a211d!==_0x72e3ca);}),'publish':_0x22c509=>{const _0x55ba83=_0xde2725;_0x292643[_0x55ba83(0x7ff)](_0x9d42de=>_0x9d42de(_0x22c509));}};}function _0x2d1d0b(){let _0x420de9;return{'subscribe':_0x585cc0=>(_0x420de9=_0x585cc0,()=>{_0x420de9=void 0x0;}),'publish':_0x4ad436=>{_0x420de9&&_0x420de9(_0x4ad436);}};}class _0x4fa21a{[_0x3d1090(0x995)];[_0x3d1090(0x5a6)];[_0x3d1090(0x395)];[_0x3d1090(0x787)]=_0x2d1d0b();[_0x3d1090(0x582)];constructor(_0x5cb69c,_0x46b87e,_0x4f0c89){const _0x465b55=_0x3d1090;this[_0x465b55(0x995)]=_0x5cb69c,this['tableName']=_0x46b87e,this[_0x465b55(0x395)]=_0x4f0c89;}[_0x3d1090(0x1f8)](){const _0x3efe72=_0x3d1090;this[_0x3efe72(0x582)]?.();}async[_0x3d1090(0x252)](_0x59b7de){const _0x36db8d=_0x3d1090,_0x102291={'key':_0x59b7de,'tableName':this[_0x36db8d(0x5a6)],'action':_0x2bcb22[_0x36db8d(0x27d)]};return this['tableObserver'][_0x36db8d(0x681)](_0x102291),this[_0x36db8d(0x995)][_0x36db8d(0x252)](_0x59b7de);}async['set'](_0x4acf44,_0x5876ea,_0x530050=!0x0){const _0xc94bad=_0x3d1090;this[_0xc94bad(0x5a4)](_0x5876ea);const _0x167d01=await this[_0xc94bad(0x995)]['get'](_0x4acf44),_0x16f9fe=await this['connector']['set'](_0x4acf44,_0x5876ea),_0x5ac679=_0x167d01?_0x208c9d[_0xc94bad(0x4f8)]:_0x208c9d[_0xc94bad(0x59f)];if(this[_0xc94bad(0x681)](_0x5ac679,_0x16f9fe),!_0x530050)return _0x16f9fe;const _0x267286={'key':_0x4acf44,'tableName':this['tableName'],'action':_0x5ac679,'value':_0x16f9fe};return this['tableObserver'][_0xc94bad(0x681)](_0x267286),_0x16f9fe;}async['add'](_0x418c5f){const _0x4eace2=_0x3d1090;this['validateValue'](_0x418c5f);const _0x41027e=await this[_0x4eace2(0x995)][_0x4eace2(0x691)](_0x418c5f),_0x2799bb={'key':_0x41027e['id'],'tableName':this[_0x4eace2(0x5a6)],'action':_0x208c9d[_0x4eace2(0x59f)],'value':_0x41027e};return this[_0x4eace2(0x395)][_0x4eace2(0x681)](_0x2799bb),this['publish'](_0x2799bb[_0x4eace2(0x2ec)],_0x41027e),_0x41027e;}async[_0x3d1090(0x54a)](_0x9690fe,_0x180699=!0x0){const _0x2aebcc=_0x3d1090,_0x29d515=await this[_0x2aebcc(0x995)][_0x2aebcc(0x252)](_0x9690fe);if(!_0x29d515)return;await this[_0x2aebcc(0x995)][_0x2aebcc(0x54a)](_0x9690fe);const _0x1e2fcf=_0x208c9d[_0x2aebcc(0x424)];if(this[_0x2aebcc(0x681)](_0x1e2fcf,_0x29d515),!_0x180699)return;const _0x40abec={'key':_0x9690fe,'tableName':this[_0x2aebcc(0x5a6)],'action':_0x1e2fcf,'value':_0x29d515};this[_0x2aebcc(0x395)][_0x2aebcc(0x681)](_0x40abec);}async[_0x3d1090(0x97a)](){const _0x1e1afd=_0x3d1090,_0x58d0e9=await this[_0x1e1afd(0x97e)]();for(const _0x513c22 of _0x58d0e9){const _0x5cbb65=_0x208c9d[_0x1e1afd(0x424)];this[_0x1e1afd(0x681)](_0x5cbb65,_0x513c22);const _0x2a6a02={'key':_0x513c22['id'],'tableName':this[_0x1e1afd(0x5a6)],'action':_0x5cbb65,'value':_0x513c22};this['tableObserver'][_0x1e1afd(0x681)](_0x2a6a02);}return this[_0x1e1afd(0x995)][_0x1e1afd(0x97a)]();}async[_0x3d1090(0x97e)](_0x5b2c98){const _0x3b9685=_0x3d1090,_0x5b5488={'key':'','tableName':this['tableName'],'action':_0x2bcb22[_0x3b9685(0x27a)]};this[_0x3b9685(0x395)][_0x3b9685(0x681)](_0x5b5488);try{_0x5b2c98&&(_0x5b2c98=_0x5b2c98 instanceof _0x5f4ef0?_0x5b2c98[_0x3b9685(0x322)]():_0x5f4ef0[_0x3b9685(0x213)](_0x5b2c98)[_0x3b9685(0x322)]());}catch(_0x11978b){throw new _0x4ded08(_0x2c3351[_0x3b9685(0x198)],'Invalid\x20query');}try{return await this[_0x3b9685(0x995)][_0x3b9685(0x97e)](_0x5b2c98);}catch(_0x5b3f3c){let _0x1dbc35=_0x3b9685(0x97b);throw _0x5b3f3c instanceof Error&&(_0x1dbc35=_0x5b3f3c[_0x3b9685(0x6d7)]),new _0x4ded08(_0x2c3351[_0x3b9685(0x198)],_0x1dbc35);}}async[_0x3d1090(0x872)](_0x3d2c17){const _0x5dd223=_0x3d1090,_0x18f574={'key':'','tableName':this['tableName'],'action':_0x2bcb22[_0x5dd223(0x820)]};this[_0x5dd223(0x395)][_0x5dd223(0x681)](_0x18f574);try{_0x3d2c17&&(_0x3d2c17=_0x3d2c17 instanceof _0x5f4ef0?_0x3d2c17[_0x5dd223(0x322)]():_0x5f4ef0['buildQuery'](_0x3d2c17)[_0x5dd223(0x322)]());}catch(_0x2baf00){throw new _0x4ded08(_0x2c3351[_0x5dd223(0x198)],'Invalid\x20query');}try{return await this[_0x5dd223(0x995)]['count'](_0x3d2c17);}catch(_0x4f92d6){let _0x404e51=_0x5dd223(0x97b);throw _0x4f92d6 instanceof Error&&(_0x404e51=_0x4f92d6[_0x5dd223(0x6d7)]),new _0x4ded08(_0x2c3351[_0x5dd223(0x198)],_0x404e51);}}['calculateSize'](){const _0x148e20=_0x3d1090;return this['connector'][_0x148e20(0x24f)]();}[_0x3d1090(0x81b)](_0xebfb33){const _0x247cf1=_0x3d1090;this[_0x247cf1(0x582)]=this[_0x247cf1(0x787)][_0x247cf1(0x81b)](_0xebfb33);}['unsubscribe'](){const _0x2d599e=_0x3d1090;this[_0x2d599e(0x582)]?.();}[_0x3d1090(0x681)](_0x5888f2,_0x22c22d){const _0x4a7339=_0x3d1090,_0x1e4e96=this[_0x4a7339(0x444)](_0x5888f2,_0x22c22d);this['eventListener'][_0x4a7339(0x681)](_0x1e4e96);}['buildTableEvent'](_0x5ed92a,_0x4297e3){const _0x216a6f=_0x3d1090;let _0x5a6622;switch(_0x5ed92a){case _0x208c9d[_0x216a6f(0x59f)]:_0x5a6622=_0x216a6f(0x691);break;case _0x208c9d[_0x216a6f(0x4f8)]:_0x5a6622=_0x216a6f(0x2f8);break;case _0x208c9d[_0x216a6f(0x424)]:_0x5a6622=_0x216a6f(0x54a);}return{'action':_0x5a6622,'value':_0x4297e3};}[_0x3d1090(0x5a4)](_0x3db1af){const _0x36cfa8=_0x3d1090;if(_0x36cfa8(0x55b)!=typeof _0x3db1af||null===_0x3db1af)throw new _0x4ded08(_0x2c3351['KeyValueDatabaseInvalidValue'],'Invalid\x20value.\x20Must\x20be\x20an\x20object.');for(const _0x1d3556 in _0x3db1af){const _0x2c02bf=_0x3db1af[_0x1d3556];if('object'!=typeof _0x2c02bf||_0x2c02bf instanceof Date){if(![_0x36cfa8(0x205),'number','boolean']['includes'](typeof _0x2c02bf))throw new _0x4ded08(_0x2c3351[_0x36cfa8(0x255)],_0x36cfa8(0x4df)+_0x1d3556+_0x36cfa8(0x3e1));}else this[_0x36cfa8(0x5a4)](_0x2c02bf);}}}class _0x4384cf{[_0x3d1090(0x68d)]=[];[_0x3d1090(0x3bc)]=0x0;[_0x3d1090(0x32c)]=[];[_0x3d1090(0x28e)]=!0x1;[_0x3d1090(0x357)]=null;[_0x3d1090(0x8a1)]=null;['debounceLogTimeout'];['readyResolve']=null;[_0x3d1090(0x85b)]=[];[_0x3d1090(0x956)];[_0x3d1090(0x1b6)]=Promise[_0x3d1090(0x7df)]();[_0x3d1090(0x5e4)]=0x0;constructor(){}get[_0x3d1090(0x77a)](){const _0x124316=_0x3d1090;return this[_0x124316(0x1b6)];}async[_0x3d1090(0x1e5)](_0x38f690,_0x131131=0x0){const _0x362da9=_0x3d1090;this['readyResolve']||(this[_0x362da9(0x1b6)]=new Promise(_0x218234=>{const _0x4475b1=_0x362da9;this[_0x4475b1(0x7ab)]=_0x218234;}),this[_0x362da9(0x5e4)]=_0x131131);const _0x28251e=Date['now']();if(this[_0x362da9(0x28e)])return void this[_0x362da9(0x32c)][_0x362da9(0xa93)](_0x38f690);this['isComputingMMR']=!0x0;let _0x54be65={'hash':await this[_0x362da9(0x415)](_0x38f690),'height':0x0};const _0x139aa7=this[_0x362da9(0x5b2)](_0x54be65);this[_0x362da9(0x85b)][_0x362da9(0xa93)](_0x139aa7),await _0x139aa7,this['totalNodes']+=0x1;const _0x263012=this[_0x362da9(0x32c)][_0x362da9(0x73c)];for(;this[_0x362da9(0x32c)][_0x362da9(0x73c)]>0x0;){const _0x540a15=this['transactionQueue'][_0x362da9(0x536)]();await this['appendTransaction'](_0x540a15);}this[_0x362da9(0x2ca)](),await this[_0x362da9(0x77a)],this[_0x362da9(0x7fd)](_0x28251e,_0x263012);}async['getRoot'](){const _0xaa8800=_0x3d1090;return await this[_0xaa8800(0x1b6)],this[_0xaa8800(0x28e)]?(this['rootComputationPromise']||(this[_0xaa8800(0x8a1)]=this[_0xaa8800(0x2f6)]()),await this[_0xaa8800(0x8a1)]):this[_0xaa8800(0x357)];}[_0x3d1090(0x212)](){const _0x4ebfd8=_0x3d1090;return this[_0x4ebfd8(0x68d)][_0x4ebfd8(0x855)](({hash:_0x48ec29,height:_0xa6b87c})=>({'hash':_0x48ec29,'height':_0xa6b87c}));}[_0x3d1090(0xaad)](){const _0x3bfddf=_0x3d1090;return this[_0x3bfddf(0x3bc)];}['getPeakNode'](_0x1def25){const _0x3b4d16=_0x3d1090;return this[_0x3b4d16(0x68d)][_0x3b4d16(0x447)](_0x57adc3=>_0x57adc3[_0x3b4d16(0x4f7)]===_0x1def25);}async[_0x3d1090(0x264)](_0x18d595,_0x22b449){const _0x1cbc78=_0x3d1090;return await this[_0x1cbc78(0x676)](_0x18d595+_0x22b449);}async['hashTransaction'](_0x3af02b){const _0x39b829=_0x3d1090;return await this[_0x39b829(0x676)](JSON[_0x39b829(0x90a)](_0x3af02b));}[_0x3d1090(0x89b)](_0x515eb0){const _0x3a33f1=_0x3d1090,_0xfa4676=this[_0x3a33f1(0x212)](),_0x198a69=[],_0x115abd=[],_0x13c622=[];for(const _0x86f7c2 of _0xfa4676){const _0x3242bd=_0x515eb0['find'](_0x13ecb9=>_0x13ecb9[_0x3a33f1(0x4f7)]===_0x86f7c2[_0x3a33f1(0x4f7)]);_0x3242bd?_0x86f7c2[_0x3a33f1(0x379)]!==_0x3242bd['hash']&&_0x198a69[_0x3a33f1(0xa93)]({'height':_0x86f7c2[_0x3a33f1(0x4f7)],'localPeak':_0x86f7c2,'remotePeak':_0x3242bd}):_0x115abd[_0x3a33f1(0xa93)](_0x86f7c2);}for(const _0x55e97f of _0x515eb0)_0xfa4676['find'](_0x1bcfbd=>_0x1bcfbd[_0x3a33f1(0x4f7)]===_0x55e97f['height'])||_0x13c622['push'](_0x55e97f);return{'differingPeaks':_0x198a69,'peaksMissingInRemote':_0x115abd,'peaksMissingInLocal':_0x13c622};}async[_0x3d1090(0x2f6)](){const _0x14c0b6=_0x3d1090;this[_0x14c0b6(0x28e)]=!0x0;const _0x398de9=this['peaks'][_0x14c0b6(0x855)](_0x1496c5=>_0x1496c5[_0x14c0b6(0x379)]);return this[_0x14c0b6(0x357)]=await this[_0x14c0b6(0x5a9)](_0x398de9),this[_0x14c0b6(0x28e)]=!0x1,this[_0x14c0b6(0x8a1)]=null,this[_0x14c0b6(0x2ca)](),this[_0x14c0b6(0x357)];}async[_0x3d1090(0x676)](_0x3ce998){const _0x5a260d=_0x3d1090;try{const _0x3a8f37=new TextEncoder()[_0x5a260d(0x9f7)](_0x3ce998),_0x385458=await crypto[_0x5a260d(0xa6e)][_0x5a260d(0x9d8)](_0x5a260d(0x2a4),_0x3a8f37);return Array[_0x5a260d(0x2bc)](new Uint8Array(_0x385458))[_0x5a260d(0x855)](_0x30ec4c=>_0x30ec4c[_0x5a260d(0x8ee)](0x10)[_0x5a260d(0x3fe)](0x2,'0'))['join']('');}catch(_0x549834){return console[_0x5a260d(0x58c)](_0x5a260d(0x4bf),_0x549834),this[_0x5a260d(0x676)](_0x3ce998);}}async[_0x3d1090(0x5a9)](_0x1ac65e){const _0x307732=_0x3d1090;return await this[_0x307732(0x676)](_0x1ac65e[_0x307732(0x4b9)](''));}async['combinePeaks'](_0x410023){const _0x252feb=_0x3d1090;for(;this['peaks'][_0x252feb(0x73c)]>0x0&&this[_0x252feb(0x68d)][this[_0x252feb(0x68d)]['length']-0x1][_0x252feb(0x4f7)]===_0x410023[_0x252feb(0x4f7)];){const _0x52829d=this['peaks'][_0x252feb(0x2a7)]();_0x410023={'hash':await this['hashNodes'](_0x52829d[_0x252feb(0x379)],_0x410023[_0x252feb(0x379)]),'left':_0x52829d,'right':_0x410023,'height':_0x410023[_0x252feb(0x4f7)]+0x1};}this[_0x252feb(0x68d)][_0x252feb(0xa93)](_0x410023),await this['recomputeRoot']();}[_0x3d1090(0x7fd)](_0x59ea58,_0x47bfd1){const _0x3a64ca=_0x3d1090;if(!_0x3dc4e5[_0x3a64ca(0x445)](_0x5a543d[_0x3a64ca(0x970)]))return;this['debounceLogTimeout']&&clearTimeout(this[_0x3a64ca(0x40f)]);const _0x4909cb=Date[_0x3a64ca(0x267)]();this['debounceLogTimeout']=setTimeout(()=>_0x3dc4e5[_0x3a64ca(0x546)](_0x5a543d[_0x3a64ca(0x970)],_0x3a64ca(0x730),this[_0x3a64ca(0x357)],'nodes',this[_0x3a64ca(0xaad)](),_0x3a64ca(0x385),_0x47bfd1,'time',_0x4909cb-_0x59ea58),0x7d0);}['debounceReady'](){const _0x1b8e53=_0x3d1090;this[_0x1b8e53(0x956)]&&clearTimeout(this['debounceReadyTimeout']),this[_0x1b8e53(0x956)]=setTimeout(async()=>{const _0x1678c8=_0x1b8e53;try{const _0x4f7249=this[_0x1678c8(0x85b)];if(this['readyPromises']=[],await Promise[_0x1678c8(0x9ed)](_0x4f7249),this[_0x1678c8(0x5e4)]-=_0x4f7249[_0x1678c8(0x73c)],this[_0x1678c8(0x85b)][_0x1678c8(0x73c)]>0x0||this[_0x1678c8(0x5e4)]>0x0)return this['debounceReady']();this['readyResolve']&&(this[_0x1678c8(0x7ab)](),this[_0x1678c8(0x7ab)]=null),this[_0x1678c8(0x1b6)]=Promise[_0x1678c8(0x7df)](),this['isComputingMMR']=!0x1;}catch(_0x51ec00){console[_0x1678c8(0x58c)]('Error\x20resolving\x20readyPromises:',_0x51ec00);}},0xa);}}const _0x1fbaad=[_0x3d1090(0x4aa),_0x3d1090(0x3e6),_0x3d1090(0x235),'Subscription',_0x3d1090(0xa7a),_0x3d1090(0x440),'Remediation'],_0x3c56cc=[[_0x3d1090(0x659),_0x3d1090(0x3dd),_0x3d1090(0x2cf),_0x3d1090(0x47f),_0x3d1090(0x19c),_0x3d1090(0x247),'Disconnect',_0x3d1090(0xa7a),_0x3d1090(0x9e4)],[_0x3d1090(0x42f),'NodeUpdate','NodeConnectionsUpdate',_0x3d1090(0x8cc)],['CloseGraphDatabase',_0x3d1090(0x819),'CloseJobWorker',_0x3d1090(0x9b5),_0x3d1090(0x291),_0x3d1090(0x7f6),_0x3d1090(0xa5d),_0x3d1090(0x6dd),_0x3d1090(0x45b),_0x3d1090(0x930),'GenerativeAIContextStats',_0x3d1090(0x867),'GraphDatabaseStats','KeyValueDatabaseContentAvailable',_0x3d1090(0x7b4),_0x3d1090(0x671),_0x3d1090(0x8d0),_0x3d1090(0x34f),'KeyValueDatabaseStats',_0x3d1090(0x704),_0x3d1090(0x2eb),_0x3d1090(0x7b2),_0x3d1090(0x36b),_0x3d1090(0x579),_0x3d1090(0x617),_0x3d1090(0x731),'UnpublishMediaStream',_0x3d1090(0x1cb),_0x3d1090(0x88b),_0x3d1090(0x418)],[_0x3d1090(0x731),'UpdateMediaStream',_0x3d1090(0x3ad),'CanProvideMediaStream','CannotProvideMediaStream',_0x3d1090(0x78c)],[_0x3d1090(0x6c5),_0x3d1090(0x6f7)],[_0x3d1090(0x31a)],[_0x3d1090(0x760),_0x3d1090(0x948)]];function _0x260e13(_0x2ff1c9){const _0x38302b=_0x3d1090;return{..._0x2ff1c9,'systemMessageType':_0x1fbaad[_0x2ff1c9[_0x38302b(0x3b0)]],'systemContentMessageType':_0x3c56cc[_0x2ff1c9[_0x38302b(0x3b0)]][_0x2ff1c9[_0x38302b(0x1d7)]['type']]};}const _0x70dac6={'hour':_0x3d1090(0x1bc),'minute':'2-digit','second':_0x3d1090(0x1bc)};function _0x167b75(_0x1d62c4,_0x523906){const _0x4fbca3=_0x3d1090,_0x506ac4=(function(){const _0x5005e3=a0_0x50c4,_0x154dd4=new Date(),_0x4b117d=_0x154dd4[_0x5005e3(0x2ff)](),_0x454d3c=_0x154dd4['toLocaleDateString'](_0x5005e3(0x317),_0x70dac6)['match'](/\d\d:\d\d:\d\d/)?.[0x0];return _0x454d3c+'.'+(_0x4b117d>0x64?''+_0x4b117d:_0x4b117d>0xa?'0'+_0x4b117d:'00'+_0x4b117d);}()),{sourceId:_0x18fd3c,destinationIds:_0x179903,systemMessageType:_0x3f71d1,systemContentMessageType:_0x4fa274}=_0x260e13(_0x1d62c4);return _0x506ac4+_0x4fbca3(0x649)+_0x523906+_0x4fbca3(0x649)+(_0x18fd3c===_0x523906?_0x4fbca3(0x5c7)+_0x3f71d1+_0x4fbca3(0x48a)+(_0x179903?''+_0x179903:_0x4fbca3(0xa4e)):_0x1d62c4[_0x4fbca3(0x590)]===_0x22135a?_0x4fbca3(0x7e8)+_0x3f71d1+'\x27':(_0x179903?'':_0x4fbca3(0x1fb))+_0x4fbca3(0x1be)+_0x3f71d1+_0x4fbca3(0x3a8)+_0x18fd3c)+_0x4fbca3(0x3f9)+_0x4fa274+'\x27\x20payload:';}function _0x2246bf(_0x13bafe,_0x545090){const _0x1ee50e=_0x3d1090;if(!_0x3dc4e5[_0x1ee50e(0x445)](_0x13bafe))return;if(_0x114c13['isProduction'])return;if(_0x1ee50e(0x6fb)==typeof process)return;const _0x23fe76=process[_0x1ee50e(0x70c)]();console[_0x1ee50e(0x546)](_0x1ee50e(0x37c)+_0x545090+':');for(const _0x35505f in _0x23fe76)console[_0x1ee50e(0x546)]('\x20\x20'+_0x35505f+':\x20'+(_0x23fe76[_0x35505f]/0x400/0x400)['toFixed'](0x2)+_0x1ee50e(0x286));}function _0x131003(_0x5a9660,_0x3ad6e9){const _0x2a628f=_0x3d1090;if(!_0x3dc4e5[_0x2a628f(0x445)](_0x3ad6e9))return _0x3dc4e5[_0x2a628f(0x9f8)]('Logging\x20not\x20enabled\x20for\x20channel\x20'+_0x3ad6e9),{'timingLogger':{'start':()=>{},'now':()=>0x0,'logWaitTime':()=>{}},'logger':{'log':()=>{},'performCalculation':(_0x2cb837,_0x5aefe4)=>_0x5aefe4}};let _0x3a5639=0x0;return{'timingLogger':((()=>{const _0x14dbc0=_0x2a628f;let _0x1125a6=Date[_0x14dbc0(0x267)]();return{'start':()=>{_0x1125a6=Date['now']();},'now':()=>Date[_0x14dbc0(0x267)](),'logWaitTime':_0x38c95c=>{const _0x419393=_0x14dbc0;_0x3a5639+=Date[_0x419393(0x267)]()-_0x1125a6,_0x3dc4e5[_0x419393(0x546)](_0x3ad6e9,_0x38c95c,_0x3a5639+'ms',_0x5a9660);}};})()),'logger':{'log':(_0x447b9a,_0x27c6e3=()=>{})=>{const _0x3b68a9=_0x2a628f,_0x5eb4fa=_0x27c6e3();_0x5eb4fa?_0x3dc4e5[_0x3b68a9(0x546)](_0x3ad6e9,_0x447b9a,_0x5eb4fa,_0x5a9660):_0x3dc4e5['log'](_0x3ad6e9,_0x447b9a,_0x5a9660);},'performCalculation':(_0xeb8747,_0xfac0fc)=>_0xeb8747()}};}function _0x24e6d0(_0x1aef2d){const _0x4a0ff8=_0x3d1090;return'undefined'==typeof Buffer?0x0:Buffer['byteLength'](JSON[_0x4a0ff8(0x90a)](_0x1aef2d),'utf8');}function _0x9d95d1(_0x4c59b1){const _0x5de209=_0x3d1090;if(0x0===_0x4c59b1)return _0x5de209(0x66a);const _0x94a0bb=Math[_0x5de209(0x93b)](Math[_0x5de209(0x546)](_0x4c59b1)/Math[_0x5de209(0x546)](0x400));return parseFloat((_0x4c59b1/Math[_0x5de209(0x772)](0x400,_0x94a0bb))[_0x5de209(0x2c2)](0x2))+'\x20'+['B','KB','MB','GB','TB'][_0x94a0bb];}class _0x34775a extends _0x38f018{[_0x3d1090(0x5d3)];[_0x3d1090(0xa3c)];[_0x3d1090(0x43c)];['isNodeReady'];['db'];[_0x3d1090(0x8b8)];[_0x3d1090(0x1f3)]=new Map();[_0x3d1090(0x395)];[_0x3d1090(0x1aa)];[_0x3d1090(0x58b)];['isSync'];[_0x3d1090(0x44b)];[_0x3d1090(0x9f9)]=[];[_0x3d1090(0x315)]=()=>{};[_0x3d1090(0x654)];[_0x3d1090(0x787)]=_0x2d1d0b();['listenerUnsubscriber'];[_0x3d1090(0x3f3)]=[];[_0x3d1090(0x337)];[_0x3d1090(0xa20)];['writes']=0x0;[_0x3d1090(0xa6b)]=0x0;[_0x3d1090(0x245)]=!0x1;[_0x3d1090(0x7a0)]=new _0x4384cf();[_0x3d1090(0x9e7)]=new Map();[_0x3d1090(0x89c)]=[];[_0x3d1090(0x619)];['transactionsToAppend']=[];[_0x3d1090(0x694)];constructor(_0xf5770f,_0x216877,_0xd79ff7,_0x4e2932,_0x586d31,_0x2440ef,_0x1e2b58){const _0x2cf72a=_0x3d1090;if(_0x2cf72a(0x205)!=typeof _0x216877)throw new _0x4ded08(_0x2c3351[_0x2cf72a(0x55c)],_0x2cf72a(0x766));if(super(_0xf5770f,_0x216877),this[_0x2cf72a(0x5d3)]=_0xf5770f,this[_0x2cf72a(0xa3c)]=_0xd79ff7,this[_0x2cf72a(0x43c)]=_0x4e2932,this[_0x2cf72a(0x64c)]=_0x1e2b58,this[_0x2cf72a(0x8b8)]=_0x2cf72a(0x6df)+this[_0x2cf72a(0x43c)]+_0x2cf72a(0x6df)+this['clusterId']+_0x2cf72a(0x6df)+this['label'],this[_0x2cf72a(0x395)]=_0x2d1d0b(),this[_0x2cf72a(0x694)]=function(_0x2d26c6,_0x1d30f7){const _0x101f83=_0x2cf72a;if(!_0x3dc4e5[_0x101f83(0x445)](_0x1d30f7))return _0x3dc4e5['debug'](_0x101f83(0x999)+_0x1d30f7),{..._0x131003(_0x2d26c6,_0x1d30f7),'logDataSent':()=>0x0,'logDataReceived':()=>0x0,'getDataLogged':()=>({'dataSent':_0x101f83(0x66a),'dataReceived':_0x101f83(0x66a)})};const {timingLogger:_0x5a79cd,logger:_0x10d9ed}=_0x131003(_0x2d26c6,_0x1d30f7);let _0x2fb5e5=0x0,_0x9b7088=0x0;return{'timingLogger':_0x5a79cd,'logger':_0x10d9ed,'logDataSent':(_0x381d1b,_0x30c71e=!0x1)=>{const _0x1b68b8=_0x101f83,_0x452abb=_0x24e6d0(_0x381d1b);return _0x30c71e&&_0x3dc4e5[_0x1b68b8(0x546)](_0x1d30f7,_0x1b68b8(0x769),_0x2d26c6,_0x452abb),_0x2fb5e5+=_0x452abb,_0x452abb;},'logDataReceived':(_0x3881a7,_0x5c5a3e=!0x1)=>{const _0x391c5c=_0x101f83,_0xc0c090=_0x24e6d0(_0x3881a7);return _0x5c5a3e&&_0x3dc4e5[_0x391c5c(0x546)](_0x1d30f7,_0x391c5c(0x308),_0x2d26c6,_0xc0c090),_0x9b7088+=_0xc0c090,_0xc0c090;},'getDataLogged':()=>({'dataSent':_0x9d95d1(_0x2fb5e5),'dataReceived':_0x9d95d1(_0x9b7088)})};}(this[_0x2cf72a(0x7d3)],_0x5a543d[_0x2cf72a(0x970)]),this[_0x2cf72a(0x4fb)]=new Promise(_0x28a21d=>{const _0x539608=_0x2cf72a;this[_0x539608(0x44b)]=_0x28a21d;}),_0x586d31 instanceof _0x498528)this[_0x2cf72a(0x337)]=_0x586d31[_0x2cf72a(0x537)]();else{const [_0x4d6538,_0x557a11]=_0x498528[_0x2cf72a(0xa57)](_0x586d31);if(!_0x4d6538)throw new _0x4ded08(_0x2c3351[_0x2cf72a(0x601)],_0x2cf72a(0x4e7)+_0x557a11);this[_0x2cf72a(0x337)]=structuredClone(_0x586d31);}this[_0x2cf72a(0x4b7)](this[_0x2cf72a(0x337)]),this['db']=new _0x2440ef(this['dbKey'],this[_0x2cf72a(0x337)]),this[_0x2cf72a(0xaa9)]();}async[_0x3d1090(0xa52)](_0x5ec081,_0x293672){const _0x43b12c=_0x3d1090;if(_0x3dc4e5['log'](_0x5a543d[_0x43b12c(0x970)],'Received\x20sync\x20required.\x20Database\x20available:\x20Checking\x20synchronization',this[_0x43b12c(0x7d3)]),!this[_0x43b12c(0x1aa)])throw new _0x1b9d16(_0x1b9d16[_0x43b12c(0x276)]['KeyValueDatabaseTransactionTableNotInitialized']);if(await this[_0x43b12c(0x4fb)],await this['isNodeReady'](_0x5ec081),await this[_0x43b12c(0x7a0)][_0x43b12c(0x3b2)]()===_0x293672){const _0x1b4afe={'sourceId':this[_0x43b12c(0x5d3)][_0x43b12c(0x79a)](),'destinationIds':[_0x5ec081],'propagate':!0x0,'messageType':_0x17c3e2[_0x43b12c(0x235)],'content':{'type':_0x4a88e8[_0x43b12c(0x7b4)],'label':this['label'],'mmrRoot':_0x293672}};return this[_0x43b12c(0x694)]['logDataSent'](_0x1b4afe),void this[_0x43b12c(0x613)][_0x43b12c(0x681)](_0x1b4afe);}const _0x3205e8=this[_0x43b12c(0x7a0)][_0x43b12c(0x212)](),_0xbaccc6={'sourceId':this[_0x43b12c(0x5d3)][_0x43b12c(0x79a)](),'destinationIds':[_0x5ec081],'propagate':!0x0,'messageType':_0x17c3e2[_0x43b12c(0x235)],'content':{'type':_0x4a88e8[_0x43b12c(0x9b4)],'label':this[_0x43b12c(0x7d3)],'peaks':_0x3205e8}};this[_0x43b12c(0x694)][_0x43b12c(0x381)](_0xbaccc6),this[_0x43b12c(0x613)][_0x43b12c(0x681)](_0xbaccc6);}async[_0x3d1090(0x578)](_0x1b1f10,_0x291bff){const _0x2a6338=_0x3d1090,_0x5041d5=await this[_0x2a6338(0x7a0)][_0x2a6338(0x3b2)](),_0x5c57a1=_0x5041d5===_0x291bff;if(_0x3dc4e5[_0x2a6338(0x546)](_0x5a543d[_0x2a6338(0x970)],'Received\x20ContentSynchronized\x20from\x20'+_0x1b1f10+'.\x20Confirmation?\x20'+_0x5c57a1,this['label']),_0x5c57a1)return this[_0x2a6338(0x8d4)](),void this['publishSyncCompleted']();_0x3dc4e5['log'](_0x5a543d['KeyValueDatabase'],'ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.',_0x5041d5,_0x291bff),_0x3dc4e5[_0x2a6338(0x236)]('ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.',{'nodeId':this['localNode'][_0x2a6338(0x79a)](),'nodeType':this[_0x2a6338(0x5d3)][_0x2a6338(0x88c)],'remoteId':_0x1b1f10,'data':{'localMMRRoot':_0x5041d5,'remoteMMRRoot':_0x291bff}});const _0xacce3f={'sourceId':this[_0x2a6338(0x5d3)]['getId'](),'messageType':_0x17c3e2['Content'],'propagate':!0x0,'content':{'type':_0x4a88e8[_0x2a6338(0x704)],'label':this[_0x2a6338(0x7d3)],'mmrRoot':_0x5041d5}};this[_0x2a6338(0x613)][_0x2a6338(0x681)](_0xacce3f);}async[_0x3d1090(0xab1)](_0x51cb21,_0x1c24c3){const _0x5024ae=_0x3d1090;if(_0x3dc4e5[_0x5024ae(0x546)](_0x5a543d[_0x5024ae(0x970)],_0x5024ae(0xa25),_0x51cb21,_0x5024ae(0x7d3),this['label'],_0x5024ae(0x68d),_0x1c24c3),this[_0x5024ae(0x245)])return;this[_0x5024ae(0x245)]=!0x0,this[_0x5024ae(0x8d4)]();const {differingPeaks:_0x5894e0,peaksMissingInLocal:_0x178d44,peaksMissingInRemote:_0x333f74}=this[_0x5024ae(0x7a0)]['comparePeaks'](_0x1c24c3);_0x3dc4e5[_0x5024ae(0x546)](_0x5a543d[_0x5024ae(0x970)],_0x5024ae(0x4d5),{'differingPeaks':_0x5894e0,'peaksMissingInLocal':_0x178d44,'peaksMissingInRemote':_0x333f74});const _0x126ecc={'sourceId':this[_0x5024ae(0x5d3)][_0x5024ae(0x79a)](),'destinationIds':[_0x51cb21],'propagate':!0x0,'messageType':_0x17c3e2[_0x5024ae(0x235)],'content':{'type':_0x4a88e8[_0x5024ae(0x671)],'label':this[_0x5024ae(0x7d3)],'peakHeights':_0x178d44[_0x5024ae(0x855)](_0x5934db=>_0x5934db[_0x5024ae(0x4f7)])[_0x5024ae(0x2ba)](_0x5894e0[_0x5024ae(0x855)](_0xe9c656=>_0xe9c656[_0x5024ae(0x4f7)]))}};if(this[_0x5024ae(0x613)][_0x5024ae(0x681)](_0x126ecc),_0x5894e0['length']>0x0||_0x333f74[_0x5024ae(0x73c)]>0x0){const _0x4f7a66=_0x333f74['map'](_0x422047=>_0x422047[_0x5024ae(0x4f7)])['concat'](_0x5894e0[_0x5024ae(0x855)](_0xe57f8e=>_0xe57f8e[_0x5024ae(0x4f7)]));await this[_0x5024ae(0xa0f)](_0x51cb21,_0x4f7a66,!0x0);}}async[_0x3d1090(0xa0f)](_0x1aac2c,_0x588ec9,_0x6d1937=!0x1){const _0x4c373f=_0x3d1090;_0x3dc4e5[_0x4c373f(0x546)](_0x5a543d[_0x4c373f(0x970)],'Received\x20request\x20for\x20peak\x20transactions.\x20Sending\x20Transactions.',this[_0x4c373f(0x7d3)]);const _0x11a1ae=_0x588ec9[_0x4c373f(0x855)](_0x1f63b9=>this[_0x4c373f(0x7a0)]['getPeakNode'](_0x1f63b9))[_0x4c373f(0x25d)](Boolean);if(!_0x11a1ae[_0x4c373f(0x73c)]||_0x588ec9['length']!==_0x11a1ae['length'])throw new _0x1b9d16(_0x1b9d16['codes'][_0x4c373f(0x5b9)],{'message':_0x4c373f(0x651),'peakHeights':_0x588ec9,'peaks':_0x11a1ae[_0x4c373f(0x855)](_0x4edc13=>_0x4edc13[_0x4c373f(0x4f7)]),'nodeId':_0x1aac2c});const _0x607433=[];for(const _0x32d6ec of _0x11a1ae)this[_0x4c373f(0x57c)](_0x32d6ec,_0x607433);const _0x54708b=_0x6d1937?void 0x0:[_0x1aac2c],_0x12ac54={'sourceId':this[_0x4c373f(0x5d3)][_0x4c373f(0x79a)](),'destinationIds':_0x54708b,'messageType':_0x17c3e2[_0x4c373f(0x235)],'propagate':!0x0,'content':{'type':_0x4a88e8[_0x4c373f(0x34f)],'label':this[_0x4c373f(0x7d3)],'transactions':_0x607433}};this[_0x4c373f(0x694)]['logDataSent'](_0x12ac54),this[_0x4c373f(0x613)]['publish'](_0x12ac54);}async[_0x3d1090(0x884)](_0x407141,_0xb54d31){const _0x27751c=_0x3d1090;_0x3dc4e5[_0x27751c(0x546)](_0x5a543d['KeyValueDatabase'],_0x27751c(0x58a)+_0xb54d31['length']+_0x27751c(0xa4c)+_0x407141+_0x27751c(0x649)+this['label']);for(const _0x5568d8 of _0xb54d31){const _0x5837c=await this['transactionTable'][_0x27751c(0x252)](_0x5568d8['id']);if(!(_0x5837c&&this[_0x27751c(0x863)](_0x5837c,_0x5568d8)>=0x0)){if(_0x5568d8['action']===_0x208c9d[_0x27751c(0x424)]){const [_0xa2fd09,_0x335b49]=_0x5568d8['id'][_0x27751c(0xa49)]('::'),_0x243210=this[_0x27751c(0x40b)](_0xa2fd09);await _0x243210[_0x27751c(0x54a)](_0x335b49);}else this[_0x27751c(0x9f9)][_0x27751c(0xa93)](_0x5568d8['id']);}}if(_0x3dc4e5['log'](_0x5a543d['KeyValueDatabase'],_0x27751c(0x339)+this[_0x27751c(0x9f9)][_0x27751c(0x73c)]+'\x20new\x20transactions',this[_0x27751c(0x7d3)]),this['transactionsToSync'][_0x27751c(0x73c)]>0x0){const _0x86a463={'sourceId':this['localNode'][_0x27751c(0x79a)](),'destinationIds':[_0x407141],'messageType':_0x17c3e2[_0x27751c(0x235)],'propagate':!0x0,'content':{'type':_0x4a88e8[_0x27751c(0x8d0)],'label':this[_0x27751c(0x7d3)],'transactionIds':this[_0x27751c(0x9f9)]}};this['loggingCycle'][_0x27751c(0x381)](_0x86a463),this[_0x27751c(0x613)][_0x27751c(0x681)](_0x86a463);}}[_0x3d1090(0x548)](){const _0x22258b=_0x3d1090;this[_0x22258b(0xaa9)]();}[_0x3d1090(0x3b7)](){const _0x3383e1=_0x3d1090;return _0x25b155[_0x3383e1(0x2ce)]['KeyValueDatabase'];}[_0x3d1090(0x1f8)](){const _0x3c99a3=_0x3d1090;this['db'][_0x3c99a3(0x8d5)](),this['tableUnsubscriber']?.(),clearTimeout(this['debounceStats']),delete this['debounceStats'],super[_0x3c99a3(0x1f8)]();}['close'](){const _0x42b001=_0x3d1090;this[_0x42b001(0x8d4)](),this[_0x42b001(0x613)]['publish']({'sourceId':_0x22135a,'messageType':_0x17c3e2[_0x42b001(0x235)],'content':{'type':_0x4a88e8['CloseKeyValueDatabase'],'label':this['label']}});}[_0x3d1090(0x40b)](_0x5f5af6){const _0x36c006=_0x3d1090,_0x160fa3=this[_0x36c006(0x1f3)][_0x36c006(0x252)](_0x5f5af6);if(_0x160fa3)return _0x160fa3;try{if(!this['db']['hasTable'](_0x5f5af6))throw new _0x4ded08(_0x2c3351['KeyValueDatabaseTableNotFound'],_0x36c006(0x7bf));const _0x5346ba=new _0x4fa21a(this['db'][_0x36c006(0x55f)](_0x5f5af6),_0x5f5af6,this['tableObserver']);return this[_0x36c006(0x1f3)][_0x36c006(0x6f0)](_0x5f5af6,_0x5346ba),{'get':_0x5346ba[_0x36c006(0x252)]['bind'](_0x5346ba),'set':_0x5346ba[_0x36c006(0x6f0)]['bind'](_0x5346ba),'add':_0x5346ba[_0x36c006(0x691)][_0x36c006(0x82a)](_0x5346ba),'delete':_0x5346ba[_0x36c006(0x54a)][_0x36c006(0x82a)](_0x5346ba),'clear':_0x5346ba[_0x36c006(0x97a)][_0x36c006(0x82a)](_0x5346ba),'list':_0x5346ba[_0x36c006(0x97e)][_0x36c006(0x82a)](_0x5346ba),'count':_0x5346ba[_0x36c006(0x872)]['bind'](_0x5346ba),'subscribe':_0x5346ba[_0x36c006(0x81b)][_0x36c006(0x82a)](_0x5346ba),'unsubscribe':_0x5346ba[_0x36c006(0x7d0)][_0x36c006(0x82a)](_0x5346ba)};}catch(_0x2d5115){if(_0x2d5115 instanceof _0x4ded08)throw _0x2d5115;throw new _0x4ded08(_0x2c3351[_0x36c006(0x1f1)],_0x36c006(0x35a));}}['subscribe'](_0x501ffb){const _0x5dac85=_0x3d1090;this[_0x5dac85(0x582)]=this['eventListener'][_0x5dac85(0x81b)](_0x501ffb),this[_0x5dac85(0x6ea)](this[_0x5dac85(0x4fb)])[_0x5dac85(0x89f)](_0x1e270d=>{const _0x175732=_0x5dac85;_0x1e270d&&this[_0x175732(0x787)][_0x175732(0x681)]({'event':_0x25b155[_0x175732(0x746)][_0x175732(0x2ee)]});});}[_0x3d1090(0x7d0)](){const _0x1184a2=_0x3d1090;this[_0x1184a2(0x582)]?.(),this[_0x1184a2(0x582)]=void 0x0;}async[_0x3d1090(0x4be)](){const _0x2e0096=_0x3d1090;_0x2246bf(_0x5a543d[_0x2e0096(0x970)],_0x2e0096(0x9df));const _0x35630f=[_0x5d9926,_0x4302ce],_0x40a5ff=[];try{await this['db'][_0x2e0096(0x4be)]();const _0x2c0283=this['db']['getTableConnector'](_0x4302ce),_0x24a33a=await _0x2c0283[_0x2e0096(0x97e)](),{id:_0x14aa2e,layout:_0x4d28d5}=_0x24a33a[0x0]??{};if(_0x4d28d5){for(const _0x38f21d in _0x4d28d5)_0x35630f[_0x2e0096(0x1e2)](_0x38f21d)||this['db'][_0x2e0096(0x4a9)](_0x38f21d)||_0x40a5ff['push'](_0x38f21d);await _0x2c0283['set'](_0x14aa2e,{'layout':this[_0x2e0096(0x337)]});}else await _0x2c0283[_0x2e0096(0x691)]({'layout':this[_0x2e0096(0x337)]});}catch(_0x45d777){throw new _0x4ded08(_0x2c3351[_0x2e0096(0x1f1)],_0x45d777['message']||_0x2e0096(0x6e2));}this[_0x2e0096(0x8bf)](),await this['buildInitialMMR'](),this['setOnMessageHandler'](),this[_0x2e0096(0x6a3)](),_0x40a5ff[_0x2e0096(0x7ff)](_0x197035=>this[_0x2e0096(0x4c6)](_0x197035));}async[_0x3d1090(0x439)](_0x4f17d2,_0x23e0b5=()=>{},_0x309196=!0x1){const _0x1543a9=_0x3d1090;if(!_0x4f17d2)return setTimeout(()=>{const _0x4ffdee=a0_0x50c4;this[_0x4ffdee(0x8d4)](),this['publishSyncCompleted']();},0x0),!0x0;if(this[_0x1543a9(0x245)]=!0x1,this[_0x1543a9(0x315)]=_0x23e0b5,this['syncTimeout']=setTimeout(_0x23e0b5,0x7d0),!this[_0x1543a9(0x613)])throw new _0x1b9d16(_0x1b9d16['codes'][_0x1543a9(0x8f6)]);const _0x38b85a=await this['mmr'][_0x1543a9(0x3b2)](),_0x33183d={'sourceId':this[_0x1543a9(0x5d3)][_0x1543a9(0x79a)](),'messageType':_0x17c3e2[_0x1543a9(0x235)],'propagate':_0x309196,'content':{'type':_0x4a88e8[_0x1543a9(0x704)],'label':this['label'],'mmrRoot':_0x38b85a}};return this[_0x1543a9(0x694)]['logDataSent'](_0x33183d),this[_0x1543a9(0x613)][_0x1543a9(0x681)](_0x33183d),this[_0x1543a9(0x4fb)];}async[_0x3d1090(0x8ae)](_0x17d3ab,_0x3dc772){const _0x2a9c6b=_0x3d1090;if(_0x3dc4e5['log'](_0x5a543d[_0x2a9c6b(0x970)],_0x2a9c6b(0x25f)+_0x3dc772[_0x2a9c6b(0x73c)],this[_0x2a9c6b(0x7d3)]),!this['transactionTable'])throw new _0x1b9d16(_0x1b9d16[_0x2a9c6b(0x276)][_0x2a9c6b(0x6fc)]);for(const _0x3e0f8c of _0x3dc772){const _0x179722=await this[_0x2a9c6b(0x1aa)][_0x2a9c6b(0x252)](_0x3e0f8c);if(!_0x179722)continue;const [_0x56fd5e,_0x5a6e0a]=_0x3e0f8c[_0x2a9c6b(0xa49)]('::'),_0x20e061=this[_0x2a9c6b(0x40b)](_0x56fd5e),_0x29d7b1=await _0x20e061['get'](_0x5a6e0a);_0x29d7b1?(_0x179722['value']=_0x29d7b1,this[_0x2a9c6b(0x908)](_0x179722,[_0x17d3ab])):_0x3dc4e5[_0x2a9c6b(0x236)](_0x2a9c6b(0x2fd),{'nodeId':this[_0x2a9c6b(0x5d3)][_0x2a9c6b(0x79a)](),'nodeType':this[_0x2a9c6b(0x5d3)][_0x2a9c6b(0x88c)],'remoteId':_0x17d3ab,'data':{'tableKeys':Object['keys'](this[_0x2a9c6b(0x1f3)]),'transactionId':_0x3e0f8c,'transactions':this[_0x2a9c6b(0x9f9)],'tableName':_0x56fd5e,'key':_0x5a6e0a}});}}async[_0x3d1090(0x239)](_0xc65699){const _0x4c0078=_0x3d1090;if(!this[_0x4c0078(0x1aa)])throw new _0x1b9d16(_0x1b9d16[_0x4c0078(0x276)][_0x4c0078(0x6fc)]);const _0x2bcfae=await this['mmr'][_0x4c0078(0x415)](_0xc65699),_0x43530e=this[_0x4c0078(0x9e7)][_0x4c0078(0x252)](_0x2bcfae);if(_0x43530e&&this[_0x4c0078(0x863)](_0xc65699,_0x43530e)<=0x0)return void _0x3dc4e5[_0x4c0078(0x546)](_0x5a543d[_0x4c0078(0x970)],_0x4c0078(0x4f3),_0xc65699);const _0x42905c={..._0xc65699};return delete _0x42905c[_0x4c0078(0x81e)],this[_0x4c0078(0x4a0)](_0x42905c),await this[_0x4c0078(0x1aa)][_0x4c0078(0x6f0)](_0xc65699['id'],_0x42905c),_0xc65699;}['compareTransactions'](_0x2dcc7c,_0x3852c0){const _0x1bebfc=_0x3d1090;return _0x2dcc7c['timestamp']!==_0x3852c0[_0x1bebfc(0xa8a)]?_0x2dcc7c[_0x1bebfc(0xa8a)]-_0x3852c0['timestamp']:_0x2dcc7c[_0x1bebfc(0x6c3)]-_0x3852c0[_0x1bebfc(0x6c3)];}async[_0x3d1090(0x789)](_0x9d3db5){const _0x511d08=_0x3d1090;if(!this[_0x511d08(0x1aa)])throw new _0x1b9d16(_0x1b9d16['codes'][_0x511d08(0x6fc)]);const _0x43f516=_0x9d3db5[_0x511d08(0x5a6)]+'::'+_0x9d3db5[_0x511d08(0x3ae)],_0xb37336=await _0x2f14fd[_0x511d08(0x8a6)](),_0x1d3ce9={'id':_0x43f516,'priority':Math[_0x511d08(0x805)](),'timestamp':_0xb37336,'action':_0x9d3db5[_0x511d08(0x2ec)]};if(await this[_0x511d08(0x239)](_0x1d3ce9))return _0x1d3ce9;}async[_0x3d1090(0x4c6)](_0x54ca9e){const _0x38eb4c=_0x3d1090;if(!this[_0x38eb4c(0x1aa)])throw new _0x1b9d16(_0x1b9d16['codes'][_0x38eb4c(0x6fc)]);const _0x10de60=_0x5f4ef0[_0x38eb4c(0x560)]('id')[_0x38eb4c(0x636)](_0x38eb4c(0x41e),[_0x54ca9e+'::',_0x54ca9e+'::']),_0x1767b4=await this['transactionTable'][_0x38eb4c(0x97e)](_0x10de60[_0x38eb4c(0x322)]());for(const _0x4784f6 of _0x1767b4)await this['transactionTable']['delete'](_0x4784f6['id']);}[_0x3d1090(0x6eb)](){const _0x46f3dd=_0x3d1090;this[_0x46f3dd(0xa76)](async(_0x1f552c,_0x442cee)=>{const _0x25c869=_0x46f3dd;if(_0x442cee instanceof File)return;if(this[_0x25c869(0x694)][_0x25c869(0x679)](_0x442cee),!await this['writeTransaction'](_0x442cee))return void this[_0x25c869(0x1b3)](_0x1f552c,_0x442cee);if(!_0x442cee[_0x25c869(0x81e)])throw new _0x1b9d16(_0x1b9d16[_0x25c869(0x276)]['KeyValueDatabaseTransactionValueNotSet']);const [_0x325658,_0x5541e9]=_0x442cee['id'][_0x25c869(0xa49)]('::'),_0x5a307d=this[_0x25c869(0x40b)](_0x325658);if(!_0x5a307d)throw new _0x1b9d16(_0x1b9d16['codes']['KeyValueDatabaseTableDoesNotExist'],{'table':_0x5a307d});let _0x26ab00=0x0;switch(_0x442cee[_0x25c869(0x2ec)]){case _0x208c9d[_0x25c869(0x59f)]:case _0x208c9d[_0x25c869(0x4f8)]:{const _0x232e58=_0x5a307d[_0x25c869(0x6f0)](_0x5541e9,_0x442cee['value'],!0x1);_0x26ab00=JSON[_0x25c869(0x90a)](_0x442cee[_0x25c869(0x81e)])[_0x25c869(0x73c)],this[_0x25c869(0x9f9)][_0x25c869(0x1e2)](_0x442cee['id'])&&this[_0x25c869(0x3f3)][_0x25c869(0xa93)](_0x232e58);break;}case _0x208c9d[_0x25c869(0x424)]:{const _0x22b3ae=_0x5a307d['delete'](_0x5541e9,!0x1);this[_0x25c869(0x9f9)]['includes'](_0x442cee['id'])&&this[_0x25c869(0x3f3)]['push'](_0x22b3ae);break;}}_0x3dc4e5['logServiceEvent'](_0x264391[_0x25c869(0x970)],{'type':'sync','label':this[_0x25c869(0x7d3)],'nodeId':this[_0x25c869(0x5d3)][_0x25c869(0x79a)](),'nodeType':this[_0x25c869(0x5d3)][_0x25c869(0x88c)],'clusterId':this[_0x25c869(0xa3c)],'tableName':_0x325658,'key':_0x5541e9,'size':_0x26ab00}),this['checkSyncComplete'](_0x1f552c,_0x442cee);});}[_0x3d1090(0x6a3)](){const _0x2ca3c9=_0x3d1090;this[_0x2ca3c9(0x58b)]=this['tableObserver'][_0x2ca3c9(0x81b)](async _0x3b6097=>{const _0xef90fa=_0x2ca3c9;let _0x391b45=0x0;switch(_0x3b6097[_0xef90fa(0x2ec)]){case _0x208c9d[_0xef90fa(0x59f)]:case _0x208c9d[_0xef90fa(0x4f8)]:case _0x208c9d[_0xef90fa(0x424)]:{const _0x5bfc30=await this[_0xef90fa(0x789)](_0x3b6097);if(!_0x5bfc30)return;_0x5bfc30[_0xef90fa(0x81e)]=_0x3b6097[_0xef90fa(0x81e)],this[_0xef90fa(0x908)](_0x5bfc30),_0x391b45=JSON[_0xef90fa(0x90a)](_0x3b6097['value'])[_0xef90fa(0x73c)],this[_0xef90fa(0x18d)]+=0x1;break;}case _0x2bcb22[_0xef90fa(0x27d)]:case _0x2bcb22['List']:case _0x2bcb22[_0xef90fa(0x820)]:this['reads']+=0x1;}_0x3dc4e5['logServiceEvent'](_0x264391[_0xef90fa(0x970)],{'type':_0x3b6097[_0xef90fa(0x2ec)],'label':this[_0xef90fa(0x7d3)],'nodeId':this[_0xef90fa(0x5d3)][_0xef90fa(0x79a)](),'nodeType':this['localNode']['type'],'clusterId':this[_0xef90fa(0xa3c)],'tableName':_0x3b6097[_0xef90fa(0x5a6)],'key':_0x3b6097['key'],'size':_0x391b45}),this['sendStats']();});}[_0x3d1090(0x8bf)](){const _0x14df16=_0x3d1090;this['db']&&(this[_0x14df16(0x1aa)]||(this[_0x14df16(0x1aa)]=this['db']['getTableConnector'](_0x5d9926)));}[_0x3d1090(0x8d4)](){const _0x57b334=_0x3d1090;this[_0x57b334(0x654)]&&(clearTimeout(this[_0x57b334(0x654)]),delete this[_0x57b334(0x654)]);}async[_0x3d1090(0x462)](){const _0x2a73a9=_0x3d1090;await this[_0x2a73a9(0x7a0)][_0x2a73a9(0x77a)],this[_0x2a73a9(0x5de)](),this[_0x2a73a9(0x787)]['publish']({'event':_0x25b155[_0x2a73a9(0x746)]['SyncComplete']}),this['syncResolve']?.(!0x0),delete this[_0x2a73a9(0x44b)],this['sendStats'](),_0x3dc4e5[_0x2a73a9(0x546)](_0x5a543d[_0x2a73a9(0x970)],'Sync\x20completed',this['label']);}async['publishSyncCompletedAfterWrites'](_0x27728c){const _0x52636d=_0x3d1090;await Promise['all'](this[_0x52636d(0x3f3)]),_0x3dc4e5[_0x52636d(0x546)](_0x5a543d['KeyValueDatabase'],'publishSyncCompletedAfterWrites\x20-\x20'+this[_0x52636d(0x3f3)][_0x52636d(0x73c)]+_0x52636d(0x98b)+_0x27728c+'\x20completed.',this[_0x52636d(0x7d3)]),await this['mmr'][_0x52636d(0x77a)],await this['confirmSynchronization'](_0x27728c),await this['publishSyncCompleted']();}['checkSyncComplete'](_0x284c76,_0x54b348){const _0x4f05a0=_0x3d1090;this[_0x4f05a0(0x9f9)][_0x4f05a0(0x1e2)](_0x54b348['id'])&&(this[_0x4f05a0(0x8d4)](),this[_0x4f05a0(0x9f9)]=this[_0x4f05a0(0x9f9)]['filter'](_0x58e8fb=>_0x58e8fb!==_0x54b348['id']),0x0!==this[_0x4f05a0(0x9f9)]['length']?this[_0x4f05a0(0x654)]=setTimeout(this[_0x4f05a0(0x315)],0x7d0):this[_0x4f05a0(0x653)](_0x284c76));}[_0x3d1090(0xaa9)](){const _0x37e1b9=_0x3d1090;this['debounceStats']&&clearTimeout(this['debounceStats']),this[_0x37e1b9(0xa20)]=setTimeout(async()=>{const _0x1253b5=_0x37e1b9;delete this[_0x1253b5(0xa20)];let _0x38d667=0x0;for(const _0x27ba58 of this[_0x1253b5(0x1f3)][_0x1253b5(0x6a5)]())_0x38d667+=await _0x27ba58['calculateSize']();this[_0x1253b5(0x613)]['publish']({'sourceId':_0x22135a,'messageType':_0x17c3e2[_0x1253b5(0x235)],'content':{'type':_0x4a88e8['KeyValueDatabaseStats'],'label':this['label'],'stats':{'timestamp':Date[_0x1253b5(0x267)](),'storage':_0x38d667,'messagesSent':this['messagesSent'],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x1253b5(0x6bd)],'bytesReceived':this['bytesReceived'],'writes':this[_0x1253b5(0x18d)],'reads':this[_0x1253b5(0xa6b)],'prompts':0x0,'tokens':0x0}}}),_0x3dc4e5[_0x1253b5(0xa90)](_0x264391[_0x1253b5(0x970)],_0x1253b5(0x6df)+this[_0x1253b5(0xa3c)]+_0x1253b5(0x6df)+this[_0x1253b5(0x7d3)],_0x38d667);},_0x28192e);}[_0x3d1090(0x4b7)](_0x4e137e){const _0x13555d=_0x3d1090;if(_0x4e137e['tables'][_0x5d9926])throw new _0x4ded08(_0x2c3351[_0x13555d(0x5d2)],_0x13555d(0x97f)+_0x5d9926+'\x27\x20reserved');if(_0x4e137e['tables'][_0x4302ce])throw new _0x4ded08(_0x2c3351['KeyValueDatabaseTableNameReserved'],_0x13555d(0x97f)+_0x4302ce+_0x13555d(0x37b));_0x4e137e['tables'][_0x5d9926]={'indexes':[]},_0x4e137e[_0x13555d(0x1f3)][_0x4302ce]={'indexes':[]};}async[_0x3d1090(0x6ea)](_0x325de8){const _0x44ab52=_0x3d1090;return Promise[_0x44ab52(0x8a0)]([_0x325de8,Promise['resolve'](_0x44ab52(0x8eb))])['then'](_0x19399b=>'not-resolved'!==_0x19399b);}async['confirmSynchronization'](_0xefabe2){const _0x1d2149=_0x3d1090;await this['processTransactionsToComputeMMR']();const _0x59b0eb=await this['mmr'][_0x1d2149(0x3b2)](),_0x56b6d0={'sourceId':this[_0x1d2149(0x5d3)]['getId'](),'destinationIds':[_0xefabe2],'propagate':!0x0,'messageType':_0x17c3e2[_0x1d2149(0x235)],'content':{'type':_0x4a88e8[_0x1d2149(0x7b4)],'label':this['label'],'mmrRoot':_0x59b0eb}};this[_0x1d2149(0x613)]['publish'](_0x56b6d0);}async['buildInitialMMR'](){const _0x391fa4=_0x3d1090;if(!this[_0x391fa4(0x1aa)])throw new _0x1b9d16(_0x1b9d16['codes'][_0x391fa4(0x6fc)]);this[_0x391fa4(0x89c)]=await this[_0x391fa4(0x1aa)]['list'](),this['transactions'][_0x391fa4(0xa08)](this[_0x391fa4(0x863)]),this[_0x391fa4(0x7a0)]=new _0x4384cf(),this[_0x391fa4(0x9e7)]=new Map();for(const _0xb0b985 of this[_0x391fa4(0x89c)])this['appendTransactionAndUpdateHashMap'](_0xb0b985,this[_0x391fa4(0x89c)][_0x391fa4(0x73c)]);this[_0x391fa4(0x8c8)]();}async[_0x3d1090(0x77f)](_0x216e76,_0x5c1665){const _0x20d6ef=_0x3d1090,_0x29f1a={..._0x216e76};delete _0x29f1a[_0x20d6ef(0x81e)],await this[_0x20d6ef(0x7a0)]['appendTransaction'](_0x29f1a,_0x5c1665);const _0x1e3e85=await this[_0x20d6ef(0x7a0)][_0x20d6ef(0x415)](_0x29f1a);this[_0x20d6ef(0x9e7)]['set'](_0x1e3e85,_0x216e76);}[_0x3d1090(0x8c1)](_0xf6b45){const _0x534f4d=_0x3d1090;return this[_0x534f4d(0x9e7)]['get'](_0xf6b45);}[_0x3d1090(0x57c)](_0x5ad91a,_0x2ebb0e){const _0x40bbdb=_0x3d1090;if(0x0!==_0x5ad91a[_0x40bbdb(0x4f7)])_0x5ad91a['left']&&this['collectTransactionsFromNode'](_0x5ad91a['left'],_0x2ebb0e),_0x5ad91a[_0x40bbdb(0x86f)]&&this[_0x40bbdb(0x57c)](_0x5ad91a['right'],_0x2ebb0e);else{const _0x5e10f6=this[_0x40bbdb(0x8c1)](_0x5ad91a[_0x40bbdb(0x379)]);_0x5e10f6&&_0x2ebb0e[_0x40bbdb(0xa93)](_0x5e10f6);}}async[_0x3d1090(0x7b9)](){const _0x4ec1dc=_0x3d1090;this[_0x4ec1dc(0x619)]&&(clearTimeout(this[_0x4ec1dc(0x619)]),delete this[_0x4ec1dc(0x619)],this[_0x4ec1dc(0x98c)][_0x4ec1dc(0x73c)]>0x0&&(this[_0x4ec1dc(0x89c)][_0x4ec1dc(0xa93)](...this[_0x4ec1dc(0x98c)][_0x4ec1dc(0xa08)](this['compareTransactions'])),this[_0x4ec1dc(0x98c)]=[]));const _0x5d8880=this[_0x4ec1dc(0x580)]();this[_0x4ec1dc(0x7a0)]=new _0x4384cf(),this[_0x4ec1dc(0x9e7)][_0x4ec1dc(0x97a)](),this[_0x4ec1dc(0x89c)][_0x4ec1dc(0xa08)](this[_0x4ec1dc(0x863)]);for(const _0x2ad575 of this[_0x4ec1dc(0x89c)])this[_0x4ec1dc(0x77f)](_0x2ad575,this[_0x4ec1dc(0x89c)][_0x4ec1dc(0x73c)]);await this[_0x4ec1dc(0x7a0)][_0x4ec1dc(0x77a)],this[_0x4ec1dc(0x99e)](_0x5d8880);}['startLoggingCycle'](){const _0x10839c=_0x3d1090;return this[_0x10839c(0x694)][_0x10839c(0x2f5)]['performCalculation'](async()=>{const _0x262ecc=_0x10839c,_0x3105ef=await this['mmr'][_0x262ecc(0x3b2)]();return{'startTime':Date['now'](),'initialRoot':_0x3105ef};},Promise[_0x10839c(0x7df)]({'startTime':0x0,'initialRoot':''}));}async[_0x3d1090(0x99e)](_0x25c188){const _0x546274=_0x3d1090;try{const {startTime:_0x4564eb,initialRoot:_0x550461}=await _0x25c188,_0x8d0b3f=await this[_0x546274(0x7a0)][_0x546274(0x3b2)](),_0x1a914f=[_0x546274(0x841)+(_0x550461!==_0x8d0b3f),_0x546274(0x342)+_0x550461,_0x546274(0x1a5)+_0x8d0b3f,_0x546274(0x572)+this['mmr'][_0x546274(0xaad)](),_0x546274(0x626)+(Date['now']()-_0x4564eb)+'\x20ms\x0a'][_0x546274(0x4b9)]('\x20');this[_0x546274(0x694)][_0x546274(0x2f5)][_0x546274(0x546)]('',()=>_0x1a914f);}catch(_0x623f9b){console[_0x546274(0x58c)](_0x546274(0x3d4),_0x623f9b);}}[_0x3d1090(0x4a0)](_0x5120ff){const _0x57a6e=_0x3d1090;this['transactionsToAppend']['push'](_0x5120ff),this[_0x57a6e(0x619)]&&(clearTimeout(this['debounceRebuildMMR']),delete this[_0x57a6e(0x619)]),this[_0x57a6e(0x619)]=setTimeout(()=>{const _0x1fb880=_0x57a6e;this[_0x1fb880(0x714)]();},0x3e8);}async['processTransactionsToComputeMMR'](){const _0x526a6b=_0x3d1090;if(this['debounceRebuildMMR']&&(clearTimeout(this[_0x526a6b(0x619)]),delete this['debounceRebuildMMR']),0x0!==this['transactionsToAppend'][_0x526a6b(0x73c)]){if(0x0===this['transactions'][_0x526a6b(0x73c)])return this[_0x526a6b(0x89c)]=this[_0x526a6b(0x98c)],this[_0x526a6b(0x98c)]=[],await this['rebuildMMR']();if(this[_0x526a6b(0x98c)][_0x526a6b(0xa08)](this['compareTransactions']),this[_0x526a6b(0x863)](this[_0x526a6b(0x98c)][0x0],this[_0x526a6b(0x89c)][this[_0x526a6b(0x89c)]['length']-0x1])>0x0){this[_0x526a6b(0x694)][_0x526a6b(0x2f5)][_0x526a6b(0x546)](_0x526a6b(0xa89)+this['transactionsToAppend']['length']+_0x526a6b(0x71e)+this[_0x526a6b(0x89c)]['length']);for(const _0x5288da of this[_0x526a6b(0x98c)])this['transactions']['push'](_0x5288da),this[_0x526a6b(0x77f)](_0x5288da,this['transactionsToAppend']['length']);return this[_0x526a6b(0x98c)]=[],void this[_0x526a6b(0x694)]['logger'][_0x526a6b(0x546)](_0x526a6b(0xa5f),async()=>_0x526a6b(0x67f)+await this[_0x526a6b(0x7a0)][_0x526a6b(0x3b2)]()+_0x526a6b(0x3d9)+this[_0x526a6b(0x7a0)]['getTotalNodes']());}this[_0x526a6b(0x694)][_0x526a6b(0x2f5)]['log']('processTransactionsToComputeMMR\x20-\x20Requires\x20a\x20rebuild.\x20Append:\x20'+this['transactionsToAppend'][_0x526a6b(0x73c)]+_0x526a6b(0x71e)+this['transactions'][_0x526a6b(0x73c)]),this['transactions'][_0x526a6b(0xa93)](...this['transactionsToAppend']),this[_0x526a6b(0x98c)]=[],this[_0x526a6b(0x7b9)]();}}async[_0x3d1090(0x5de)](){const _0x550a99=_0x3d1090;if(!_0x3dc4e5[_0x550a99(0x445)](_0x5a543d[_0x550a99(0x970)]))return;await this['mmr']['ready'];const {dataSent:_0xd99405,dataReceived:_0x141172}=this[_0x550a99(0x694)][_0x550a99(0x36d)]();_0x3dc4e5[_0x550a99(0x546)](_0x5a543d[_0x550a99(0x970)],_0x550a99(0x7f2),this[_0x550a99(0x7d3)],_0x550a99(0x670)+_0xd99405,'\x0a\x20===\x20Total\x20Data\x20Received:\x20'+_0x141172,_0x550a99(0x939),await this[_0x550a99(0x7a0)][_0x550a99(0x3b2)](),_0x550a99(0x814),this[_0x550a99(0x7a0)][_0x550a99(0xaad)]());}async[_0x3d1090(0x8c8)](){const _0x5eea0b=_0x3d1090;if(!_0x3dc4e5[_0x5eea0b(0x445)](_0x5a543d['KeyValueDatabase']))return;const _0x35f962=this[_0x5eea0b(0x7a0)][_0x5eea0b(0x212)](),_0x193087=_0x35f962['map'](_0x230eb3=>_0x230eb3[_0x5eea0b(0x4f7)]),_0x32931f=await this['mmr'][_0x5eea0b(0x3b2)]();_0x3dc4e5[_0x5eea0b(0x546)](_0x5a543d[_0x5eea0b(0x970)],_0x5eea0b(0x991),this['transactions']['length'],_0x5eea0b(0x89c),this[_0x5eea0b(0x7a0)][_0x5eea0b(0xaad)](),'totalNodes',_0x35f962['length'],_0x5eea0b(0x68d),_0x193087,_0x5eea0b(0xa5e),_0x32931f);}}const _0x2bd079=require('@crewdle/mist-connector-opfs'),_0x4ee04f=require('@crewdle/mist-connector-indexed-db'),_0x41266a=require('@crewdle/mist-connector-webrtc-browser'),_0x26b7f8=0x1fc00000;var _0x47ec0c,_0x12fb75,_0x465160,_0x39d673,_0x23b529,_0x1a2879,_0x4ca264,_0x462d5f,_0x22471f;!function(_0x5e5199){const _0x249ce8=_0x3d1090;_0x5e5199['AudioContext']='AudioContext',_0x5e5199[_0x249ce8(0x9aa)]=_0x249ce8(0x9aa),_0x5e5199['AudioVolume']='AudioVolume',_0x5e5199[_0x249ce8(0x22c)]='Backgrounds',_0x5e5199[_0x249ce8(0x4ce)]=_0x249ce8(0x4ce),_0x5e5199['MediaStream']=_0x249ce8(0x8ca),_0x5e5199[_0x249ce8(0x387)]=_0x249ce8(0x387),_0x5e5199[_0x249ce8(0x84a)]=_0x249ce8(0x84a),_0x5e5199['WebGL']='WebGL',_0x5e5199[_0x249ce8(0x6f9)]=_0x249ce8(0x6f9);}(_0x47ec0c||(_0x47ec0c={}));class _0x2b227f{[_0x3d1090(0x206)];[_0x3d1090(0x921)];[_0x3d1090(0x89d)];constructor(_0x22b196=new Map(),_0xf253ae=new Map(),_0x3113e7=new EventTarget()){const _0xfbf067=_0x3d1090;this[_0xfbf067(0x206)]=_0x22b196,this[_0xfbf067(0x921)]=_0xf253ae,this[_0xfbf067(0x89d)]=_0x3113e7;}[_0x3d1090(0xa17)]=(_0x202c30,_0x22dc32)=>this[_0x3d1090(0x206)][_0x3d1090(0x1ac)](_0x202c30)?(_0x3dc4e5['log'](_0x5a543d[_0x3d1090(0x33a)],_0x3d1090(0x708),{'event':_0x202c30,'data':_0x22dc32}),this[_0x3d1090(0x89d)]['dispatchEvent'](new CustomEvent(_0x202c30,{'detail':_0x22dc32})),!0x0):(this[_0x3d1090(0x877)](_0x202c30,_0x22dc32),!0x1);['on']=(_0x2c002f,_0x482f8a)=>{const _0x15402a=_0x3d1090,_0x4ad122=_0x14e454=>{const _0x1ab1b2=a0_0x50c4;_0x3dc4e5[_0x1ab1b2(0x546)](_0x5a543d[_0x1ab1b2(0x33a)],_0x1ab1b2(0x732),_0x14e454[_0x1ab1b2(0x88c)],_0x14e454[_0x1ab1b2(0x52b)]),_0x482f8a(_0x14e454['detail']);};return this[_0x15402a(0x206)][_0x15402a(0x6f0)](_0x2c002f,_0x4ad122),this[_0x15402a(0x89d)][_0x15402a(0x222)](_0x2c002f,_0x4ad122),_0x3dc4e5[_0x15402a(0x546)](_0x5a543d[_0x15402a(0x4cb)],_0x15402a(0x2e8),_0x2c002f,_0x482f8a),this[_0x15402a(0x2fe)](_0x2c002f),this;};['off'](_0x3ef8c1){const _0x2036ee=_0x3d1090;if(!_0x3ef8c1)return this[_0x2036ee(0x206)]['forEach']((_0x3deb1f,_0x1a556)=>{const _0x271995=_0x2036ee;this['eventTarget'][_0x271995(0x8ec)](_0x1a556,_0x3deb1f);}),void this[_0x2036ee(0x206)][_0x2036ee(0x97a)]();_0x2036ee(0x205)==typeof _0x3ef8c1&&this[_0x2036ee(0x4d9)](_0x3ef8c1),Array[_0x2036ee(0x625)](_0x3ef8c1)&&_0x3ef8c1['forEach'](_0x1bf689=>{const _0x2c5529=_0x2036ee;this[_0x2c5529(0x4d9)](_0x1bf689);});}[_0x3d1090(0x4d9)](_0x3584ed){const _0xec30c3=_0x3d1090,_0xebdbeb=this[_0xec30c3(0x206)][_0xec30c3(0x252)](_0x3584ed);_0xebdbeb&&(this[_0xec30c3(0x89d)][_0xec30c3(0x8ec)](_0x3584ed,_0xebdbeb),this['registeredListeners'][_0xec30c3(0x54a)](_0x3584ed));}[_0x3d1090(0x877)](_0x568b8f,_0x20013f){const _0x1380e8=_0x3d1090;_0x3dc4e5['log'](_0x5a543d[_0x1380e8(0x33a)],_0x1380e8(0x89e),{'event':_0x568b8f,'data':_0x20013f});const _0x15f924=this[_0x1380e8(0x921)][_0x1380e8(0x252)](_0x568b8f)||[];this[_0x1380e8(0x921)]['set'](_0x568b8f,[..._0x15f924,_0x20013f]);}[_0x3d1090(0x2fe)](_0x2e86ee){const _0x3280d9=_0x3d1090,_0x565bc0=this[_0x3280d9(0x921)]['get'](_0x2e86ee);_0x565bc0&&(_0x565bc0[_0x3280d9(0x7ff)](_0x15ff5e=>{const _0x492cfd=_0x3280d9;_0x3dc4e5[_0x492cfd(0x546)](_0x5a543d[_0x492cfd(0x33a)],_0x492cfd(0x885),{'event':_0x2e86ee,'data':_0x15ff5e}),this['eventTarget']['dispatchEvent'](new CustomEvent(_0x2e86ee,{'detail':_0x15ff5e}));}),this[_0x3280d9(0x921)]['delete'](_0x2e86ee));}}class _0x331e4d extends Error{constructor(_0x37cec7){const _0x394042=_0x3d1090;super(_0x394042(0x40a)+_0x37cec7);}}!function(_0x418198){const _0x3858fb=_0x3d1090;_0x418198[_0x418198[_0x3858fb(0x4f1)]=0x0]='Core',_0x418198[_0x418198[_0x3858fb(0x5f2)]=0x1]=_0x3858fb(0x5f2);}(_0x12fb75||(_0x12fb75={})),function(_0x30adc7){const _0x5b7ea4=_0x3d1090;_0x30adc7[_0x30adc7[_0x5b7ea4(0x659)]=0x0]=_0x5b7ea4(0x659),_0x30adc7[_0x30adc7[_0x5b7ea4(0x3dd)]=0x1]=_0x5b7ea4(0x3dd),_0x30adc7[_0x30adc7['Handshake']=0x2]=_0x5b7ea4(0x2cf),_0x30adc7[_0x30adc7[_0x5b7ea4(0x47f)]=0x3]='Success',_0x30adc7[_0x30adc7[_0x5b7ea4(0x19c)]=0x4]=_0x5b7ea4(0x19c),_0x30adc7[_0x30adc7[_0x5b7ea4(0x247)]=0x5]='Restart',_0x30adc7[_0x30adc7['Disconnect']=0x6]=_0x5b7ea4(0x1c9),_0x30adc7[_0x30adc7['Stats']=0x7]='Stats',_0x30adc7[_0x30adc7['OptimizationConnectionSuccess']=0x8]=_0x5b7ea4(0x9e4);}(_0x465160||(_0x465160={})),function(_0x3b373e){const _0x17c746=_0x3d1090;_0x3b373e[_0x3b373e['Sender']=0x0]='Sender',_0x3b373e[_0x3b373e['Receiver']=0x1]=_0x17c746(0x3ab);}(_0x39d673||(_0x39d673={})),function(_0x140795){const _0x34a8af=_0x3d1090;_0x140795[_0x34a8af(0x8ca)]=_0x34a8af(0x1f9);}(_0x23b529||(_0x23b529={})),function(_0x286379){const _0x10cc6c=_0x3d1090;_0x286379[_0x286379[_0x10cc6c(0x42f)]=0x0]=_0x10cc6c(0x42f),_0x286379[_0x286379[_0x10cc6c(0x73e)]=0x1]=_0x10cc6c(0x73e),_0x286379[_0x286379[_0x10cc6c(0x655)]=0x2]=_0x10cc6c(0x655),_0x286379[_0x286379[_0x10cc6c(0x8cc)]=0x3]='NodeLeave';}(_0x1a2879||(_0x1a2879={})),function(_0x338a99){const _0x1ff9f1=_0x3d1090;_0x338a99[_0x338a99[_0x1ff9f1(0x760)]=0x0]='Remediation',_0x338a99[_0x338a99[_0x1ff9f1(0x948)]=0x1]=_0x1ff9f1(0x948);}(_0x4ca264||(_0x4ca264={})),function(_0x3bbcb3){const _0x169fc7=_0x3d1090;_0x3bbcb3['Upgrade']='upgrade',_0x3bbcb3[_0x169fc7(0x8c6)]=_0x169fc7(0xa63);}(_0x462d5f||(_0x462d5f={})),function(_0x373b2b){const _0x5810cd=_0x3d1090;_0x373b2b[_0x5810cd(0x1c8)]='resolution',_0x373b2b[_0x5810cd(0x370)]='bitrate';}(_0x22471f||(_0x22471f={}));const _0x523118=require('aws-amplify'),_0x2b4825=require('aws-amplify/utils'),_0x51b373=require('@aws-amplify/api'),_0x3726e3=require('@aws-amplify/core');class _0x90a485{[_0x3d1090(0xa3c)];['localNode'];[_0x3d1090(0xaa3)];constructor(_0x2f2eab,_0x82a7f8,_0x2f33e3){const _0x463e00=_0x3d1090;this[_0x463e00(0xa3c)]=_0x2f2eab,this['localNode']=_0x82a7f8,this[_0x463e00(0xaa3)]=_0x2f33e3;}['getLocalId'](){const _0x2c5a51=_0x3d1090;return this[_0x2c5a51(0x5d3)][_0x2c5a51(0x79a)]();}[_0x3d1090(0x9d0)](){const _0x519453=_0x3d1090;return this[_0x519453(0xaa3)];}}var _0x4d5d76,_0x5d42e4,_0x4e5ea4;function _0x1913cb(_0x3892bd,_0x27f359){const _0x52dbed=_0x3d1090;return _0x3892bd[_0x52dbed(0x590)]===_0x27f359;}function _0x139d41(_0x4c04d1,_0x46a5a1){const _0x466711=_0x3d1090;return _0x4c04d1[_0x466711(0x39b)]?.[_0x466711(0x1e2)](_0x46a5a1)??function(_0x5d18d6){const _0xfbfba5=_0x466711;return void 0x0===_0x5d18d6[_0xfbfba5(0x39b)];}(_0x4c04d1);}function _0x3781c9(_0x537587,{contentType:_0x44ac30,label:_0x32859d,remoteId:_0x49a3c0}){return _0x537587+'-'+_0x44ac30+'-'+_0x32859d+'-'+_0x49a3c0;}function _0x14711d(_0x1dac91,_0x52278b,_0x7ad297){return''+_0x1dac91+_0x52278b+_0x7ad297;}function _0x3d2f72(_0x2843de){const _0x1705cc=_0x3d1090;return _0x2843de===_0x5d42e4[_0x1705cc(0x775)]?'IncomingSubscription':_0x1705cc(0x8fd);}function _0x17099f(_0x2f0fee,_0x414cb3){const _0x46e94a=_0x3d1090;return{'label':_0x2f0fee['getInternalStreamId'](),'contentType':_0x2f0fee[_0x46e94a(0x3b7)](),'remoteId':_0x414cb3[_0x46e94a(0x9d0)](),'supportsContentType':_0x414cb3[_0x46e94a(0x4c7)]()[_0x46e94a(0x1e2)](_0x2f0fee[_0x46e94a(0x3b7)]())};}!function(_0x525041){const _0x22b61a=_0x3d1090;_0x525041[_0x525041[_0x22b61a(0x301)]=0x0]='Waiting',_0x525041[_0x525041['Accepted']=0x1]=_0x22b61a(0x59a),_0x525041[_0x525041[_0x22b61a(0x7d8)]=0x2]=_0x22b61a(0x7d8);}(_0x4d5d76||(_0x4d5d76={})),function(_0x32abbd){const _0x4d12c0=_0x3d1090;_0x32abbd[_0x4d12c0(0x775)]='in',_0x32abbd[_0x4d12c0(0x751)]='out';}(_0x5d42e4||(_0x5d42e4={}));class _0x29a46b{['callback'];[_0x3d1090(0x674)];constructor(_0x1f6f17,_0x334223){const _0x422205=_0x3d1090;this[_0x422205(0x5b7)]=_0x1f6f17,this['retryCallback']=_0x334223;}[_0x3d1090(0x3df)](_0x45c09e){const _0x136e2b=_0x3d1090;this[_0x136e2b(0x5b7)](_0x45c09e);}async[_0x3d1090(0x228)](){await this['retryCallback']();}}class _0x523990{[_0x3d1090(0x5b7)];['retryCallback'];constructor(_0x25180e,_0x24998a){const _0x2e568d=_0x3d1090;this[_0x2e568d(0x5b7)]=_0x25180e,this[_0x2e568d(0x674)]=_0x24998a;}async[_0x3d1090(0x3df)](_0x27f98f){const _0x593d55=_0x3d1090;await this[_0x593d55(0x5b7)](_0x27f98f);}async[_0x3d1090(0x228)](){const _0x13ffae=_0x3d1090;await this[_0x13ffae(0x674)]();}}function _0x26bde2(_0x1ab113=()=>{},_0x36edf1=()=>!0x1,_0xafb20e=()=>{}){let _0x28cedc,_0x3a2d6e,_0x22d523=0x0;return{get 'size'(){return _0x22d523;},get 'head'(){return _0x28cedc;},get 'tail'(){return _0x3a2d6e;},set 'head'(_0x3f3fdc){_0x28cedc=_0x3f3fdc;},set 'tail'(_0x5d1aa3){_0x3a2d6e=_0x5d1aa3;},'push'(_0x3785cd,_0x1b1ed5=!0x0){const _0x3696c1=a0_0x50c4,_0x4e7c9e={'value':_0x3785cd};_0x1b1ed5&&_0x36edf1(_0x4e7c9e)?_0x1ab113():(_0x3a2d6e&&(_0x4e7c9e[_0x3696c1(0x501)]=_0x3a2d6e,_0x3a2d6e[_0x3696c1(0xa91)]=_0x4e7c9e),_0x3a2d6e=_0x4e7c9e,_0x28cedc||(_0x28cedc=_0x4e7c9e),_0x22d523+=0x1,_0x1b1ed5&&_0x1ab113());},'pop'(){const _0x17a1cf=a0_0x50c4;if(!_0x3a2d6e)return;const _0x360dba=_0x3a2d6e[_0x17a1cf(0x81e)];return _0x3a2d6e=_0x3a2d6e['previous'],_0x3a2d6e&&delete _0x3a2d6e[_0x17a1cf(0xa91)],_0x3a2d6e||(_0x28cedc=void 0x0),_0x22d523-=0x1,_0x360dba;},'unshift'(_0x1ba268,_0x3f5955=!0x0){const _0x492138=a0_0x50c4,_0x12abcb={'value':_0x1ba268};_0x3f5955&&_0x36edf1(_0x12abcb)?_0x1ab113():(_0x28cedc&&(_0x28cedc[_0x492138(0x501)]=_0x12abcb,_0x12abcb[_0x492138(0xa91)]=_0x28cedc),_0x28cedc=_0x12abcb,_0x3a2d6e||(_0x3a2d6e=_0x12abcb),_0x22d523+=0x1,_0x3f5955&&_0x1ab113());},'shift'(){const _0x15cdae=a0_0x50c4;if(!_0x28cedc)return;const _0x19b1f1=_0x28cedc[_0x15cdae(0x81e)];return _0x28cedc=_0x28cedc[_0x15cdae(0xa91)],_0x28cedc&&delete _0x28cedc[_0x15cdae(0x501)],_0x28cedc||(_0x3a2d6e=void 0x0),_0x22d523-=0x1,_0x19b1f1;},'clear'(){_0xafb20e(),_0x28cedc=void 0x0,_0x3a2d6e=void 0x0,_0x22d523=0x0;}};}function _0x13f924(_0x3c3fc5,_0x2e3f95=!0x1,_0x462d22=()=>{},_0x243ef2=()=>!0x1,_0x1ace76=()=>{}){let _0x320970=!0x1;const _0x5647c1=_0x26bde2(async function(){const _0x489481=a0_0x50c4;if(!_0x320970){for(_0x320970=!0x0;_0x5647c1['head'];){const _0x2a1531=_0x5647c1[_0x489481(0x536)]();if(_0x2a1531)try{_0x3c3fc5 instanceof _0x29a46b&&_0x3c3fc5[_0x489481(0x3df)](_0x2a1531),_0x3c3fc5 instanceof _0x523990&&await _0x3c3fc5[_0x489481(0x3df)](_0x2a1531),_0x462d22(_0x2a1531);}catch(_0x2490db){_0x2e3f95?_0x5647c1[_0x489481(0xa93)](_0x2a1531,!0x1):_0x5647c1['unshift'](_0x2a1531,!0x1),await _0x3c3fc5[_0x489481(0x228)]();}}_0x320970=!0x1;}},_0x243ef2,_0x1ace76);return _0x5647c1;}class _0x1bbf88 extends _0x90a485{['vendorId'];[_0x3d1090(0xaab)];['connectionState']=_0x51b373[_0x3d1090(0x9db)][_0x3d1090(0x7fc)];[_0x3d1090(0x46c)]=_0x2d1d0b();['messageListeners']=_0x353664();[_0x3d1090(0xa04)];[_0x3d1090(0x81c)];[_0x3d1090(0x346)]=_0x13f924(new _0x523990(this[_0x3d1090(0x25e)]['bind'](this),this[_0x3d1090(0x271)][_0x3d1090(0x82a)](this)));[_0x3d1090(0x9d7)];constructor(_0x4ad617,_0xddffc2,_0x26e055,_0x42272b,_0x12285c){const _0x57c4f7=_0x3d1090;super(_0xddffc2,_0x26e055,_0x42272b),this[_0x57c4f7(0x43c)]=_0x4ad617,this[_0x57c4f7(0xaab)]=_0x12285c;}async[_0x3d1090(0x977)](){const _0x59b481=_0x3d1090;try{const _0x2e17ab={'getTokens':async()=>{const _0x238a9c=a0_0x50c4,_0x2ab067=await this[_0x238a9c(0xaab)][_0x238a9c(0x6de)]();return{'accessToken':(0x0,_0x3726e3[_0x238a9c(0x1f2)])(_0x2ab067),'idToken':(0x0,_0x3726e3['decodeJWT'])(_0x2ab067)};}};_0x523118[_0x59b481(0x1e8)]['configure']({'API':{'GraphQL':{'endpoint':_0x114c13[_0x59b481(0x573)][_0x59b481(0x1ed)],'region':_0x114c13[_0x59b481(0x573)][_0x59b481(0x927)],'defaultAuthMode':'oidc'}}},{'Auth':{'tokenProvider':_0x2e17ab}});const _0x4a405c=(0x0,_0x51b373['generateClient'])();this[_0x59b481(0x9d7)]=_0x4a405c,await this[_0x59b481(0x81b)](),this[_0x59b481(0x81c)]=_0x2b4825[_0x59b481(0x7be)][_0x59b481(0x300)]('api',async({payload:_0x441d88})=>{const _0x15e3ad=_0x59b481;if(_0x441d88[_0x15e3ad(0x84c)]===_0x51b373[_0x15e3ad(0x988)]){const _0x6aeb9e=_0x441d88[_0x15e3ad(0xa3d)];this['connectionState']=_0x6aeb9e['connectionState'],this[_0x15e3ad(0x46c)]['publish'](_0x6aeb9e[_0x15e3ad(0x4a8)]),this[_0x15e3ad(0x4a8)]===_0x51b373[_0x15e3ad(0x9db)][_0x15e3ad(0x7fc)]?(_0x3dc4e5['error'](_0x15e3ad(0x783),{'clusterId':this[_0x15e3ad(0xa3c)],'nodeId':this[_0x15e3ad(0x8b2)](),'nodeType':this[_0x15e3ad(0x5d3)][_0x15e3ad(0x88c)]}),this[_0x15e3ad(0x8d5)](),this[_0x15e3ad(0x977)]()):this[_0x15e3ad(0x4a8)]===_0x51b373[_0x15e3ad(0x9db)][_0x15e3ad(0x258)]?_0x3dc4e5[_0x15e3ad(0x236)](_0x15e3ad(0x8d3),{'clusterId':this['clusterId'],'nodeId':this[_0x15e3ad(0x8b2)](),'nodeType':this[_0x15e3ad(0x5d3)][_0x15e3ad(0x88c)]}):_0x3dc4e5[_0x15e3ad(0x236)](_0x15e3ad(0x26a),{'clusterId':this['clusterId'],'nodeId':this[_0x15e3ad(0x8b2)](),'nodeType':this[_0x15e3ad(0x5d3)][_0x15e3ad(0x88c)],'data':{'state':_0x6aeb9e[_0x15e3ad(0x4a8)]}});}});}catch(_0x1904f7){_0x3dc4e5[_0x59b481(0x58c)]('appsync-connect-fail',{'clusterId':this[_0x59b481(0xa3c)],'nodeId':this['getLocalId'](),'nodeType':this['localNode'][_0x59b481(0x88c)]});}}[_0x3d1090(0x8d5)](){const _0x206bd2=_0x3d1090;_0x3dc4e5[_0x206bd2(0x236)]('appsync-close',{'clusterId':this['clusterId'],'nodeId':this['getLocalId'](),'nodeType':this[_0x206bd2(0x5d3)][_0x206bd2(0x88c)]}),this[_0x206bd2(0x346)][_0x206bd2(0x97a)](),this[_0x206bd2(0x81c)]?.(),this[_0x206bd2(0xa04)]?.[_0x206bd2(0x7d0)](),delete this[_0x206bd2(0xa04)];}[_0x3d1090(0x9ef)](){const _0x15bb21=_0x3d1090;return this[_0x15bb21(0x4a8)]===_0x51b373['ConnectionState'][_0x15bb21(0x258)];}[_0x3d1090(0x908)](_0x11e36e){const _0x1fb496=_0x3d1090;this['retryQueue'][_0x1fb496(0xa93)](_0x11e36e);}[_0x3d1090(0xa76)](_0x13b23e){const _0x3f6735=_0x3d1090;return this[_0x3f6735(0x398)][_0x3f6735(0x81b)](_0x13b23e);}[_0x3d1090(0x4c7)](){const _0xd721ea=_0x3d1090;return[_0x25b155[_0xd721ea(0x2ce)][_0xd721ea(0x624)]];}async[_0x3d1090(0x271)](){if(!this['isConnected']())return new Promise(_0x21eca1=>{const _0x37f620=a0_0x50c4,_0x324617=this[_0x37f620(0x46c)]['subscribe'](_0x5a89e4=>{const _0xa1f995=_0x37f620;_0x5a89e4===_0x51b373[_0xa1f995(0x9db)][_0xa1f995(0x258)]&&(_0x324617(),_0x21eca1());});});}async[_0x3d1090(0x25e)](_0x4ab81d){const _0x3f50bd=_0x3d1090;if(this[_0x3f50bd(0x4a8)]!==_0x51b373[_0x3f50bd(0x9db)][_0x3f50bd(0x258)])throw new Error(_0x3f50bd(0x360));_0x4ab81d[_0x3f50bd(0x39b)]&&0x1===_0x4ab81d['destinationIds'][_0x3f50bd(0x73c)]?await this[_0x3f50bd(0x681)](_0x4ab81d['destinationIds'][0x0],JSON[_0x3f50bd(0x90a)](_0x4ab81d)):_0x3dc4e5[_0x3f50bd(0x58c)](_0x3f50bd(0x51f),{'clusterId':this[_0x3f50bd(0xa3c)],'nodeId':this[_0x3f50bd(0x8b2)](),'nodeType':this[_0x3f50bd(0x5d3)][_0x3f50bd(0x88c)]});}async['publish'](_0x3ed579,_0x14406a){const _0x4a4eb0=_0x3d1090;if(!this[_0x4a4eb0(0x9d7)])throw new Error(_0x4a4eb0(0x6c1));_0x3dc4e5[_0x4a4eb0(0x546)](_0x5a543d[_0x4a4eb0(0x226)],_0x4a4eb0(0x491),this[_0x4a4eb0(0x8b2)](),_0x14406a),await this[_0x4a4eb0(0x9d7)]['graphql']({'query':'\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','variables':{'name':await this[_0x4a4eb0(0x5e5)](_0x3ed579),'data':_0x14406a}});}async['subscribe'](){const _0xcb8132=_0x3d1090;if(this['subscription'])return;if(!this[_0xcb8132(0x9d7)])throw new Error(_0xcb8132(0x6c1));_0x3dc4e5[_0xcb8132(0x546)](_0x5a543d[_0xcb8132(0x226)],_0xcb8132(0x951),this['getLocalId']());const _0x454372=await this['client']['graphql']({'query':_0xcb8132(0x759),'variables':{'name':await this[_0xcb8132(0x5e5)]()},'authToken':await this[_0xcb8132(0xaab)][_0xcb8132(0x6de)]()},{'Authorization':await this['authService'][_0xcb8132(0x6de)]()});this[_0xcb8132(0xa04)]=_0x454372[_0xcb8132(0x81b)]({'next':({data:_0xdd3b3e})=>{const _0x40221e=_0xcb8132,_0x59f60a=JSON['parse'](_0xdd3b3e[_0x40221e(0x81b)][_0x40221e(0xa3d)]);!_0x1913cb(_0x59f60a,this['getLocalId']())&&_0x139d41(_0x59f60a,this[_0x40221e(0x8b2)]())&&this['messageListeners'][_0x40221e(0x681)](_0x59f60a);},'error':console[_0xcb8132(0x546)]});}async[_0x3d1090(0x5e5)](_0xecd597){const _0x54c36e=_0x3d1090,_0x3d8d00=await crypto['subtle']['digest']('SHA-1',new TextEncoder()['encode'](this[_0x54c36e(0x43c)]+'-'+this[_0x54c36e(0xa3c)]+'-'+(_0xecd597??this[_0x54c36e(0x8b2)]())));return Array['from'](new Uint8Array(_0x3d8d00))[_0x54c36e(0x855)](_0x319ce6=>_0x319ce6[_0x54c36e(0x8ee)](0x10)[_0x54c36e(0x3fe)](0x2,'0'))[_0x54c36e(0x4b9)]('');}}!function(_0x4bc6f6){const _0x29cada=_0x3d1090;_0x4bc6f6[_0x4bc6f6[_0x29cada(0x59f)]=0x0]=_0x29cada(0x59f),_0x4bc6f6[_0x4bc6f6[_0x29cada(0x204)]=0x1]=_0x29cada(0x204),_0x4bc6f6[_0x4bc6f6[_0x29cada(0x4f8)]=0x2]='Update',_0x4bc6f6[_0x4bc6f6['RemoteAdd']=0x3]=_0x29cada(0x35c),_0x4bc6f6[_0x4bc6f6['RemoteRemove']=0x4]=_0x29cada(0x6d3);}(_0x4e5ea4||(_0x4e5ea4={}));const _0x122922='0',_0x3b7bf9=_0x3d1090(0xa39),_0x27b5a3=_0x3f812c,_0x13e03a=0xbe800;class _0x182736{[_0x3d1090(0xa3c)];[_0x3d1090(0x5d3)];[_0x3d1090(0xaa3)];[_0x3d1090(0x261)];[_0x3d1090(0x998)];['connectionConstructor'];['connection'];['dataChannel'];['currentVersion']=0x1;[_0x3d1090(0x613)];[_0x3d1090(0x417)]=[];['pendingHandshakeCandidates']=[];[_0x3d1090(0x430)];constructor(_0x3702f8,_0x13b7e7,_0xf025c5,_0x16ca99,_0x246a78,_0x50058f){const _0x4904e8=_0x3d1090;this[_0x4904e8(0xa3c)]=_0x3702f8,this['localNode']=_0x13b7e7,this['remoteId']=_0xf025c5,this[_0x4904e8(0x261)]=_0x16ca99,this[_0x4904e8(0x998)]=_0x246a78,this[_0x4904e8(0x9bc)]=_0x50058f,this[_0x4904e8(0x423)]=new this[(_0x4904e8(0x9bc))]({'handshakeServers':this['iceServers']}),this['setupConnectionEvents']();}['close'](){this['stopConnection']();}[_0x3d1090(0x46d)](_0xd7cedc){const _0x36b956=_0x3d1090;this[_0x36b956(0x998)]=_0xd7cedc;}async['handleHandshake'](_0x34c089,_0x814762){const _0x39eebc=_0x3d1090;if(_0x814762===this[_0x39eebc(0x9f4)])for(const _0x20790b of _0x34c089){if(!this[_0x39eebc(0x423)][_0x39eebc(0x3c8)])return this['addPendingHandshakeCandidate'](_0x20790b);try{await this[_0x39eebc(0x423)][_0x39eebc(0x2e7)](_0x20790b);}catch(_0x10d7e1){this['addPendingHandshakeCandidate'](_0x20790b);}}}[_0x3d1090(0x9ef)](){const _0x159008=_0x3d1090;return this[_0x159008(0x209)](),_0x159008(0x5bb)===this[_0x159008(0x423)][_0x159008(0x4a8)]&&[_0x159008(0x5bb),_0x159008(0xa98)][_0x159008(0x1e2)](this[_0x159008(0x423)]['handshakeState'])&&_0x159008(0x2a2)!==this[_0x159008(0x423)]['signalingState']&&_0x159008(0x4be)===this[_0x159008(0x832)]?.[_0x159008(0xa09)];}[_0x3d1090(0x60f)](_0x19adf0){const _0x4b759a=_0x3d1090;this[_0x4b759a(0x613)]=_0x19adf0;}[_0x3d1090(0x7b7)](){const _0x42b828=_0x3d1090;delete this[_0x42b828(0x613)];}[_0x3d1090(0xa9c)](_0x5ea6cb){const _0x18cd87=_0x3d1090;this[_0x18cd87(0x1d4)](),this['connection']=new this[(_0x18cd87(0x9bc))]({'handshakeServers':this[_0x18cd87(0x261)]}),_0x5ea6cb?this[_0x18cd87(0x9f4)]=_0x5ea6cb:this[_0x18cd87(0x9f4)]+=0x1,this['setupConnectionEvents']();}[_0x3d1090(0x91e)](){const _0x154529=_0x3d1090;this[_0x154529(0x190)]['forEach'](_0xba26b5=>{const _0x2c52b7=_0x154529;try{this['connection'][_0x2c52b7(0x2e7)](_0xba26b5);}catch(_0x3e406b){}}),this['pendingHandshakeCandidates']=[];}[_0x3d1090(0x419)](_0x48d35e,_0x4f328b){const _0xb76f10=_0x3d1090;if(!this['systemTopic'])throw new _0x1b9d16(_0x1b9d16[_0xb76f10(0x276)][_0xb76f10(0x8f6)],{'content':_0x48d35e});const _0x2ec973={'sourceId':this[_0xb76f10(0x5d3)][_0xb76f10(0x79a)](),'destinationIds':[this[_0xb76f10(0xaa3)]],'propagate':this['connectionType']!==_0x12fb75[_0xb76f10(0x4f1)],'retry':this[_0xb76f10(0x998)]!==_0x12fb75[_0xb76f10(0x4f1)],'messageType':_0x17c3e2[_0xb76f10(0x4aa)],'content':_0x48d35e};_0x4f328b&&(_0x2ec973[_0xb76f10(0x29b)]=_0x4f328b),this[_0xb76f10(0x613)][_0xb76f10(0x681)](_0x2ec973);}[_0x3d1090(0x903)](){const _0x47f501=_0x3d1090;this[_0x47f501(0x423)][_0x47f501(0x22e)]=()=>{const _0x5f3e3f=_0x47f501;_0x5f3e3f(0x7f4)===this[_0x5f3e3f(0x423)]['gatheringState']&&this[_0x5f3e3f(0x417)][_0x5f3e3f(0x73c)]>0x0&&(this['handshakeDebounce']&&clearTimeout(this[_0x5f3e3f(0x430)]),this['handshakeDebounce']=setTimeout(()=>{const _0x22f990=_0x5f3e3f;delete this['handshakeDebounce'],this[_0x22f990(0x6e5)](),this['handshakeCandidates']=[];},0x1f4));},this['connection']['onCandidate']=_0x20d4ae=>{const _0x234ca9=_0x47f501;_0x20d4ae[_0x234ca9(0x78f)]&&this[_0x234ca9(0x417)][_0x234ca9(0xa93)](_0x20d4ae[_0x234ca9(0x78f)]);};}['stopConnection'](){const _0x8d72f8=_0x3d1090;clearTimeout(this[_0x8d72f8(0x430)]),delete this['handshakeDebounce'],this[_0x8d72f8(0x417)]=[],this['pendingHandshakeCandidates']=[],this[_0x8d72f8(0x832)]&&(this[_0x8d72f8(0x832)][_0x8d72f8(0xa76)]=null,this[_0x8d72f8(0x832)][_0x8d72f8(0x581)]=null,this[_0x8d72f8(0x832)]['close'](),delete this[_0x8d72f8(0x832)]),this[_0x8d72f8(0x423)][_0x8d72f8(0x22e)]=null,this[_0x8d72f8(0x423)][_0x8d72f8(0x3e7)]=null,this[_0x8d72f8(0x423)][_0x8d72f8(0x5f8)]=null,this['connection'][_0x8d72f8(0xa69)]=null,this[_0x8d72f8(0x423)][_0x8d72f8(0x454)]=null,this[_0x8d72f8(0x423)][_0x8d72f8(0x70a)]=null,this[_0x8d72f8(0x423)]['close']();}[_0x3d1090(0x1cc)](_0x37162a){const _0x167547=_0x3d1090;this['pendingHandshakeCandidates'][_0x167547(0xa93)](_0x37162a);}[_0x3d1090(0x209)](){const _0x34d8cb=_0x3d1090;_0x3dc4e5[_0x34d8cb(0x546)](_0x5a543d[_0x34d8cb(0x9db)],'Base\x20Peer\x20Connection',{'localId':this['localNode'][_0x34d8cb(0x79a)](),'remoteId':this[_0x34d8cb(0xaa3)],'connectionState':this['connection'][_0x34d8cb(0x4a8)],'handshakeState':this[_0x34d8cb(0x423)][_0x34d8cb(0x723)],'signalingState':this['connection'][_0x34d8cb(0xa06)],'dataChannelState':this[_0x34d8cb(0x832)]?.['state']});}}function _0x1a84bf(_0x540908,_0x59e63c){const _0xcd835f=_0x3d1090;_0x59e63c[_0xcd835f(0x681)]({'sourceId':_0x22135a,'messageType':_0x17c3e2['PeerConnection'],'content':_0x540908});}class _0x42a209{static [_0x3d1090(0x404)];[_0x3d1090(0x7b8)]=[];['source'];constructor(){setInterval(()=>{const _0x5c583e=a0_0x50c4;this[_0x5c583e(0x7b8)][_0x5c583e(0x7ff)](_0x2b0fde=>{const _0x2dbd56=_0x5c583e;if(Date[_0x2dbd56(0x267)]()-_0x2b0fde[_0x2dbd56(0x94d)]>_0x2b0fde['interval']){try{_0x2b0fde['callback']();}catch(_0x357ba0){}_0x2b0fde[_0x2dbd56(0x94d)]=Date[_0x2dbd56(0x267)]();}});},0x64);}static[_0x3d1090(0x49a)](){const _0x453380=_0x3d1090;return _0x42a209[_0x453380(0x404)]||(_0x42a209[_0x453380(0x404)]=new _0x42a209()),_0x42a209[_0x453380(0x404)];}[_0x3d1090(0xa1e)](_0x1ae26f){const _0x10dd52=_0x3d1090,_0x580ee1=this[_0x10dd52(0x52a)](_0x1ae26f),_0x43e21b=_0x1ae26f[_0x10dd52(0xa47)]();_0x43e21b&&_0x580ee1&&(_0x43e21b[_0x10dd52(0x541)][_0x10dd52(0x81e)]=0.001,_0x580ee1['connect'](_0x43e21b),_0x43e21b[_0x10dd52(0x977)](_0x1ae26f[_0x10dd52(0x93e)]),_0x580ee1[_0x10dd52(0x30e)]());}[_0x3d1090(0x3f2)](){const _0x299de0=_0x3d1090;this[_0x299de0(0x7e1)]&&(this['source'][_0x299de0(0x5ce)](),this[_0x299de0(0x7e1)][_0x299de0(0x70e)](),this[_0x299de0(0x7e1)]=void 0x0);}[_0x3d1090(0x228)](_0x1f72d5){return new Promise(_0x2d4c95=>{setTimeout(_0x2d4c95,_0x1f72d5);});}['setInterval'](_0x45b507,_0x3041ab){const _0x165719=_0x3d1090;return this['parameters'][_0x165719(0xa93)]({'callback':_0x45b507,'interval':_0x3041ab,'lastExecuted':Date['now']()}),()=>{const _0x4dfdb2=_0x165719;this['parameters']=this['parameters'][_0x4dfdb2(0x25d)](_0x20e4ce=>_0x20e4ce['callback']!==_0x45b507);};}[_0x3d1090(0x52a)](_0x549813){const _0x1e1856=_0x3d1090;if(_0x549813[_0x1e1856(0x52a)])return _0x549813[_0x1e1856(0x52a)]();const _0x3193df=_0x549813[_0x1e1856(0x6b9)](),_0x420819=_0x549813[_0x1e1856(0x591)](0x1,0x1,_0x549813['sampleRate']);return _0x420819['getChannelData'](0x0)[0x0]=0xa,_0x3193df['buffer']=_0x420819,_0x3193df[_0x1e1856(0x507)]=!0x0,_0x3193df;}}const _0x5aa24a=_0x42a209['getInstance']();class _0x34b98c extends _0x182736{[_0x3d1090(0x809)]=_0x2d1d0b();[_0x3d1090(0x87b)]=_0x2d1d0b();['removeTrackCallback']=_0x2d1d0b();['receivers']=new Map();[_0x3d1090(0x656)]=new Map();['waitSuccess'];[_0x3d1090(0x658)]=0x0;['systemMessagesReceived']={'messages':{'total':0x0}};[_0x3d1090(0x335)]=0x0;['timeReceiving']=0x0;[_0x3d1090(0x694)]=_0x131003('ReceiverPeerConnection.onMessage',_0x5a543d[_0x3d1090(0x1ca)]);[_0x3d1090(0x8d5)](){const _0x3912f2=_0x3d1090;this[_0x3912f2(0x9a1)](),this[_0x3912f2(0x7cb)][_0x3912f2(0x97a)](),super['close']();}async['handleOffer'](_0x55cf1d,_0x3e44a8){const _0x43d689=_0x3d1090;this['currentVersion']=_0x3e44a8,this[_0x43d689(0x9a1)]();const _0x41b600=await this[_0x43d689(0x423)][_0x43d689(0xa0c)](_0x55cf1d);this[_0x43d689(0x91e)]();const _0x3faedb=(0x0,_0x14a38c['v4'])();this[_0x43d689(0x419)]({'type':_0x465160[_0x43d689(0x3dd)],'answer':_0x41b600,'version':_0x3e44a8,'connectionType':this[_0x43d689(0x998)]},_0x3faedb),this['connectionType']===_0x12fb75['Core']&&(this[_0x43d689(0x569)]=_0x5aa24a['setInterval'](()=>{const _0x43b07f=_0x43d689;this[_0x43b07f(0x419)]({'type':_0x465160[_0x43b07f(0x3dd)],'answer':_0x41b600,'version':_0x3e44a8,'connectionType':this[_0x43b07f(0x998)]},_0x3faedb);},0x1388));}['handleSuccess'](){const _0x42c639=_0x3d1090;this[_0x42c639(0x9a1)]();}[_0x3d1090(0x7a9)](_0xd227f7){const _0x5f34a8=_0x3d1090;this['resetConnection'](_0xd227f7),this[_0x5f34a8(0x419)]({'type':_0x465160[_0x5f34a8(0x247)]});}async[_0x3d1090(0x323)](){const _0x815473=_0x3d1090;this[_0x815473(0x613)]&&(await this[_0x815473(0x423)][_0x815473(0x457)](this['receivers'],(_0x32fc1f,_0x8942fe)=>{const _0x68fa42=_0x815473;_0x1a84bf({'type':_0x465160['Stats'],'streamId':_0x8942fe,'nodeId':this[_0x68fa42(0xaa3)],'stats':_0x32fc1f},this[_0x68fa42(0x613)]);}),this[_0x815473(0x613)][_0x815473(0x681)]({'sourceId':_0x22135a,'messageType':_0x17c3e2[_0x815473(0x4aa)],'content':{'type':_0x465160[_0x815473(0xa7a)],'nodeId':this[_0x815473(0xaa3)],'stats':{'origin':_0x39d673['Receiver'],'timestamp':Date[_0x815473(0x267)](),'messagesReceived':this[_0x815473(0x658)],'bytesReceived':this['bytesReceived'],'timeReceiving':this['timeReceiving'],'systemMessages':this[_0x815473(0x75f)]}}}));}[_0x3d1090(0xa76)](_0x497a6f){const _0x16f72e=_0x3d1090;return _0x114c13[_0x16f72e(0x549)]?this[_0x16f72e(0x809)][_0x16f72e(0x81b)](_0x497a6f):this[_0x16f72e(0x809)]['subscribe'](_0x3c304e=>{const _0x109f36=_0x16f72e;0x0===_0x3c304e[_0x109f36(0x230)]&&_0x3c304e['messageType']===_0x17c3e2[_0x109f36(0x235)]&&this['loggingCycle'][_0x109f36(0x2f5)]['log'](_0x109f36(0x950)+this['remoteId'],()=>_0x260e13(_0x3c304e)),_0x497a6f(_0x3c304e);});}[_0x3d1090(0x454)](_0x306a6d){const _0x4f663c=_0x3d1090;return this[_0x4f663c(0x87b)][_0x4f663c(0x81b)](({track:_0x2b978a,stream:_0x50a80a})=>_0x306a6d(_0x2b978a,_0x50a80a));}['onRemoveTrack'](_0x434757){const _0x526f96=_0x3d1090;return this[_0x526f96(0x34b)][_0x526f96(0x81b)](({track:_0x2c84e5,stream:_0x3c9edf})=>_0x434757(_0x2c84e5,_0x3c9edf));}[_0x3d1090(0xa9c)](_0x4e50a2){const _0x35984e=_0x3d1090;this[_0x35984e(0x9a1)](),this[_0x35984e(0x7cb)][_0x35984e(0x7ff)](_0x4e05e2=>{_0x4e05e2['clear']();}),super[_0x35984e(0xa9c)](_0x4e50a2);}[_0x3d1090(0x6e5)](){const _0x1df7ba=_0x3d1090;this['publishSystemMessage']({'type':_0x465160['Handshake'],'candidates':this[_0x1df7ba(0x417)],'origin':_0x39d673[_0x1df7ba(0x3ab)],'version':this[_0x1df7ba(0x9f4)],'connectionType':this[_0x1df7ba(0x998)]});}[_0x3d1090(0x903)](){const _0x41e88a=_0x3d1090;super[_0x41e88a(0x903)](),this[_0x41e88a(0x423)][_0x41e88a(0x454)]=_0x15e033=>{const _0x1fd08a=_0x41e88a;_0x3dc4e5[_0x1fd08a(0x546)](_0x5a543d['Connection'],_0x1fd08a(0x707),this[_0x1fd08a(0x5d3)]['getId'](),_0x15e033),_0x15e033[_0x1fd08a(0xa51)][0x0]['onremovetrack']=_0x2fc457=>{const _0x28bc87=_0x1fd08a;this[_0x28bc87(0x7cb)][_0x28bc87(0x252)](_0x15e033[_0x28bc87(0xa51)][0x0]['id'])?.[_0x28bc87(0x54a)](_0x2fc457[_0x28bc87(0x481)]),0x0===this[_0x28bc87(0x7cb)][_0x28bc87(0x252)](_0x15e033['streams'][0x0]['id'])?.['size']&&this[_0x28bc87(0x7cb)]['delete'](_0x15e033['streams'][0x0]['id']),this['removeTrackCallback'][_0x28bc87(0x681)]({'track':_0x2fc457[_0x28bc87(0x481)],'stream':_0x15e033[_0x28bc87(0xa51)][0x0]});},this[_0x1fd08a(0x7cb)][_0x1fd08a(0x1ac)](_0x15e033['streams'][0x0]['id'])||this[_0x1fd08a(0x7cb)][_0x1fd08a(0x6f0)](_0x15e033[_0x1fd08a(0xa51)][0x0]['id'],new Set()),this[_0x1fd08a(0x7cb)][_0x1fd08a(0x252)](_0x15e033['streams'][0x0]['id'])[_0x1fd08a(0x691)](_0x15e033[_0x1fd08a(0x481)]),this[_0x1fd08a(0x87b)]['publish']({'track':_0x15e033[_0x1fd08a(0x481)],'stream':_0x15e033[_0x1fd08a(0xa51)][0x0]});},this[_0x41e88a(0x423)]['onDataChannel']=_0x3de9d5=>{const _0x554801=_0x41e88a;this[_0x554801(0x832)]=_0x3de9d5['channel'],this[_0x554801(0x832)][_0x554801(0xa76)]=_0x2a0386=>{const _0x16c07e=_0x554801;if(_0x2a0386[_0x16c07e(0xa3d)]!==_0x122922)this[_0x16c07e(0x2d0)](_0x2a0386['data']);else{if(!this[_0x16c07e(0x832)])return void _0x3dc4e5[_0x16c07e(0x58c)](_0x16c07e(0x799),{'clusterId':this[_0x16c07e(0xa3c)],'nodeId':this[_0x16c07e(0x5d3)]['getId'](),'nodeType':this[_0x16c07e(0x5d3)][_0x16c07e(0x88c)],'remoteId':this['remoteId'],'data':{'connection':_0x16c07e(0x81a)}});if('open'!==this[_0x16c07e(0x832)][_0x16c07e(0xa09)])return;this[_0x16c07e(0x832)]['send']('1');}};};}[_0x3d1090(0x2d0)](_0x1fffd9){const _0xd30f5e=_0x3d1090;if(_0xd30f5e(0x205)==typeof _0x1fffd9&&_0x1fffd9['startsWith'](_0x3b7bf9))return this[_0xd30f5e(0x658)]+=0x1,this[_0xd30f5e(0x335)]+=_0x1fffd9[_0xd30f5e(0x73c)],this['handleChunkMessage'](_0x1fffd9);setTimeout(()=>{const _0x46afc6=_0xd30f5e,_0x570240=Date[_0x46afc6(0x267)]();let _0x5a07e2;if((_0x1fffd9 instanceof ArrayBuffer||_0x1fffd9[_0x46afc6(0x73c)]<=_0x27b5a3)&&(this['messagesReceived']+=0x1,this[_0x46afc6(0x335)]+=_0x1fffd9 instanceof ArrayBuffer?_0x1fffd9['byteLength']:_0x1fffd9[_0x46afc6(0x73c)]),_0x1fffd9 instanceof ArrayBuffer){const [_0x414954,_0x1d75b2]=this[_0x46afc6(0x969)](_0x1fffd9);_0x5a07e2=_0x414954,_0x5a07e2[_0x46afc6(0x1d7)][_0x46afc6(0xa3d)]=_0x1d75b2;}else _0x5a07e2=JSON[_0x46afc6(0x25a)](_0x1fffd9);if(0x0===_0x5a07e2[_0x46afc6(0x230)]){this[_0x46afc6(0x75f)][_0x46afc6(0x3d1)][_0x46afc6(0x3ca)]+=0x1;const {systemMessageType:_0x58de2f,systemContentMessageType:_0x4c9d1a}=_0x260e13(_0x5a07e2);this[_0x46afc6(0x75f)][_0x58de2f]||(this[_0x46afc6(0x75f)][_0x58de2f]={[_0x4c9d1a]:0x0}),this[_0x46afc6(0x75f)][_0x58de2f][_0x4c9d1a]||(this[_0x46afc6(0x75f)][_0x58de2f][_0x4c9d1a]=0x0),this[_0x46afc6(0x75f)][_0x58de2f][_0x46afc6(0x3ca)]||(this[_0x46afc6(0x75f)][_0x58de2f][_0x46afc6(0x3ca)]=0x0),this[_0x46afc6(0x75f)][_0x58de2f][_0x4c9d1a]+=0x1,this[_0x46afc6(0x75f)][_0x58de2f][_0x46afc6(0x3ca)]+=0x1;}this['messageCallback'][_0x46afc6(0x681)](_0x5a07e2),this[_0x46afc6(0x64e)]+=Date['now']()-_0x570240;},0x0);}[_0x3d1090(0x7f3)](_0x11bd60){const _0x18f614=_0x3d1090,_0x5a79fc=_0x11bd60[_0x18f614(0xa49)](';'),_0x3f6b9e=_0x5a79fc[0x1],_0x40f895=parseInt(_0x5a79fc[0x2],0xa),_0x1fefd1=parseInt(_0x5a79fc[0x3],0xa),_0x3253fd=_0x11bd60['replace'](_0x3b7bf9+';'+_0x3f6b9e+';'+_0x40f895+';'+_0x1fefd1+';','');this[_0x18f614(0x656)][_0x18f614(0x1ac)](_0x3f6b9e)||this[_0x18f614(0x656)][_0x18f614(0x6f0)](_0x3f6b9e,[]);const _0x52cf56=this[_0x18f614(0x656)][_0x18f614(0x252)](_0x3f6b9e);_0x52cf56[_0x40f895]=_0x3253fd,_0x52cf56[_0x18f614(0x73c)]===_0x1fefd1&&(this['handleOnMessage'](_0x52cf56[_0x18f614(0x4b9)]('')),this['chunks'][_0x18f614(0x54a)](_0x3f6b9e));}['clearWaitSuccess'](){const _0x5b3f25=_0x3d1090;this[_0x5b3f25(0x569)]?.(),delete this[_0x5b3f25(0x569)];}[_0x3d1090(0xa42)](_0x55f9db){const _0x3d350b=_0x3d1090,_0x235ba8=new TextDecoder()[_0x3d350b(0x8ad)](_0x55f9db);return JSON[_0x3d350b(0x25a)](_0x235ba8);}[_0x3d1090(0x969)](_0x28ad7b){const _0x1bf20b=_0x3d1090,_0x3b1c72=new Uint8Array(_0x28ad7b[_0x1bf20b(0x5ec)](0x0,0x4)),_0x3753ba=new Uint32Array(_0x3b1c72[_0x1bf20b(0x485)])[0x0],_0xb517ec=new Uint8Array(_0x28ad7b[_0x1bf20b(0x5ec)](0x4,0x4+_0x3753ba)),_0x409913=new Uint8Array(_0x28ad7b[_0x1bf20b(0x5ec)](0x4+_0x3753ba));return[this['arrayBufferToObject'](_0xb517ec[_0x1bf20b(0x485)]),_0x409913[_0x1bf20b(0x485)]];}}const _0x48fef3=0xc350;var _0x52427b,_0x12f68d;!function(_0x195778){const _0x80fdb2=_0x3d1090;_0x195778[_0x195778[_0x80fdb2(0x3ba)]=0x0]=_0x80fdb2(0x3ba),_0x195778[_0x195778['Medium']=0x1]=_0x80fdb2(0x64f),_0x195778[_0x195778[_0x80fdb2(0x8e3)]=0x2]=_0x80fdb2(0x8e3);}(_0x52427b||(_0x52427b={}));class _0x27275a extends _0x182736{[_0x3d1090(0x273)];[_0x3d1090(0x31c)];[_0x3d1090(0x5d7)]=new Map();[_0x3d1090(0x334)];[_0x3d1090(0x6c6)];[_0x3d1090(0xa4b)];[_0x3d1090(0x38e)]=!0x1;[_0x3d1090(0x788)];[_0x3d1090(0x7da)];[_0x3d1090(0x62c)];[_0x3d1090(0x346)]=function(e,t=_0x52427b,s=!0x1){const _0x54d0b4=_0x3d1090;let n=!0x1;const i=[];async function o(){const _0x2f339f=a0_0x50c4;if(!n){for(n=!0x0;i['some'](e=>e['head']);){let t,n=0x0;for(const [e,s]of i[_0x2f339f(0x6c2)]())if(t=s['shift'](),n=e,t)break;if(t)try{if(e instanceof _0x29a46b&&e[_0x2f339f(0x3df)](t),e instanceof _0x523990&&await e[_0x2f339f(0x3df)](t),i['slice'](-0x1)['some'](e=>e[_0x2f339f(0x94a)]))continue;const s=i[_0x2f339f(0x73c)]-0x1;n===s&&i[s][_0x2f339f(0x94a)]&&await _0x5aa24a[_0x2f339f(0x228)](0x0);}catch(o){s?i[n][_0x2f339f(0xa93)](t,!0x1):i[n][_0x2f339f(0x246)](t,!0x1),await e[_0x2f339f(0x228)]();}}n=!0x1;}}return Object[_0x54d0b4(0x6a5)](t)[_0x54d0b4(0x7ff)](e=>{'string'!=typeof e&&(i[e]=_0x26bde2(o));}),{'queues':i};}(new _0x29a46b(this[_0x3d1090(0x25e)][_0x3d1090(0x82a)](this),this[_0x3d1090(0x66b)][_0x3d1090(0x82a)](this)));[_0x3d1090(0x20a)]=0x0;[_0x3d1090(0x6bd)]=0x0;[_0x3d1090(0x678)]=0x0;[_0x3d1090(0x558)]=0x0;[_0x3d1090(0x99d)];[_0x3d1090(0x694)]=_0x131003(_0x3d1090(0x8c7),_0x5a543d[_0x3d1090(0x913)]);constructor(_0x5c6a04,_0x4be3f7,_0x39202d,_0x54a42a,_0xa39046,_0x3d28eb,_0x4912c1,_0x1e5f09){const _0x14dbf2=_0x3d1090;super(_0x5c6a04,_0x4be3f7,_0x39202d,_0x54a42a,_0xa39046,_0x1e5f09),this['maxFps']=_0x3d28eb,this[_0x14dbf2(0x31c)]=_0x4912c1;}['close'](){const _0x306d6d=_0x3d1090;this[_0x306d6d(0x95e)](),this[_0x306d6d(0x1c2)](),delete this['lastHeartbeat'],this['clearRestartTimeout'](),this[_0x306d6d(0x298)](),this['clearWaitAnswer'](),this[_0x306d6d(0x5d7)][_0x306d6d(0x97a)](),this['isReconnecting']=!0x1,this[_0x306d6d(0x346)][_0x306d6d(0x675)]['forEach'](_0x33923a=>_0x33923a[_0x306d6d(0x97a)]()),this[_0x306d6d(0xa9d)](),super[_0x306d6d(0x8d5)]();}[_0x3d1090(0x9ef)](){const _0x42d417=_0x3d1090;return!!this['lastHeartbeat']&&super[_0x42d417(0x9ef)]()&&Date[_0x42d417(0x267)]()-this[_0x42d417(0xa4b)]<0x3a98;}async[_0x3d1090(0x323)](){const _0x46213=_0x3d1090;this[_0x46213(0x613)]&&(await this[_0x46213(0x423)][_0x46213(0xa92)](this[_0x46213(0x5d7)],(_0x291c88,_0x394901)=>{const _0x2482e0=_0x46213;_0x1a84bf({'type':_0x465160[_0x2482e0(0xa7a)],'streamId':_0x394901,'nodeId':this[_0x2482e0(0xaa3)],'stats':_0x291c88},this['systemTopic']);}),this[_0x46213(0x613)]['publish']({'sourceId':_0x22135a,'messageType':_0x17c3e2[_0x46213(0x4aa)],'content':{'type':_0x465160[_0x46213(0xa7a)],'nodeId':this[_0x46213(0xaa3)],'stats':{'origin':_0x39d673[_0x46213(0x500)],'timestamp':Date[_0x46213(0x267)](),'messagesSent':this[_0x46213(0x20a)],'bytesSent':this[_0x46213(0x6bd)],'timeSending':this[_0x46213(0x678)],'roundTripTime':this[_0x46213(0x558)]}}}));}async[_0x3d1090(0x3b4)](_0x4fc229){const _0x500be0=_0x3d1090;_0x3dc4e5[_0x500be0(0x546)](_0x5a543d[_0x500be0(0x4d6)],'CrewdleSenderConnection\x20createOffer',this[_0x500be0(0x5d3)][_0x500be0(0x79a)](),this[_0x500be0(0xaa3)]),this[_0x500be0(0x8ff)](),this[_0x500be0(0x298)](),this[_0x500be0(0x471)](),this[_0x500be0(0x788)]=setTimeout(()=>{const _0x5cc73a=_0x500be0;this[_0x5cc73a(0x6ce)]();},0x7530),this[_0x500be0(0x832)]||(this[_0x500be0(0x832)]=this[_0x500be0(0x423)][_0x500be0(0x49e)](_0x500be0(0xa3d)),this['dataChannel'][_0x500be0(0x4e5)]=_0x13e03a,this[_0x500be0(0x832)]['onClose']=()=>{const _0x5376f0=_0x500be0;this[_0x5376f0(0x99d)]=setTimeout(()=>{const _0x33b5bb=_0x5376f0;delete this['oncloseTimeout'],['connecting',_0x33b5bb(0x4be)]['includes'](this[_0x33b5bb(0x832)]?.[_0x33b5bb(0xa09)]??'')||this[_0x33b5bb(0x6ce)]();},0xfa);});const _0x380fd7=await this[_0x500be0(0x423)]['createOffer'](_0x4fc229);this[_0x500be0(0xa4b)]||(this[_0x500be0(0xa4b)]=Date[_0x500be0(0x267)]());const _0x28c1ee=(0x0,_0x14a38c['v4'])();this[_0x500be0(0x419)]({'type':_0x465160[_0x500be0(0x659)],'offer':_0x380fd7,'version':this['currentVersion'],'connectionType':this[_0x500be0(0x998)]},_0x28c1ee),this[_0x500be0(0x998)]===_0x12fb75['Core']&&(this[_0x500be0(0x6c6)]=_0x5aa24a['setInterval'](()=>{const _0x437018=_0x500be0;this[_0x437018(0x419)]({'type':_0x465160['Offer'],'offer':_0x380fd7,'version':this[_0x437018(0x9f4)],'connectionType':this['connectionType']},_0x28c1ee);},0x1388));}async['handleAnswer'](_0x1061fa,_0x412e46){const _0x84281e=_0x3d1090;if(_0x412e46===this[_0x84281e(0x9f4)]){this[_0x84281e(0x471)]();try{await this['connection']['handleAnswer'](_0x1061fa,this['createOffer'][_0x84281e(0x82a)](this)),this[_0x84281e(0x91e)](),this[_0x84281e(0x298)](),this[_0x84281e(0x4d0)]();}catch(_0x14eae0){this[_0x84281e(0x6ce)]();}}}['send'](_0xa113d5){const _0x11b711=_0x3d1090;if(!this[_0x11b711(0x832)])throw new _0x1b9d16(_0x1b9d16[_0x11b711(0x276)][_0x11b711(0x748)],{'message':_0x11b711(0x203),'localId':this[_0x11b711(0x5d3)][_0x11b711(0x79a)](),'remoteId':this[_0x11b711(0xaa3)],'eventMessage':_0xa113d5});if(_0x11b711(0x4be)!==this['dataChannel']['state'])throw new _0x1b9d16(_0x1b9d16[_0x11b711(0x276)][_0x11b711(0x748)],{'message':_0x11b711(0x979),'localId':this[_0x11b711(0x5d3)][_0x11b711(0x79a)](),'remoteId':this[_0x11b711(0xaa3)],'eventMessage':_0xa113d5});let _0x5ea002;if(_0xa113d5[_0x11b711(0x1d7)][_0x11b711(0xa3d)]instanceof ArrayBuffer){const _0x1e5a2e=_0xa113d5[_0x11b711(0x1d7)][_0x11b711(0xa3d)];_0xa113d5={..._0xa113d5,'content':{..._0xa113d5[_0x11b711(0x1d7)],'data':void 0x0}},_0x5ea002=this[_0x11b711(0x83d)](_0xa113d5,_0x1e5a2e);}else _0x5ea002=JSON['stringify'](_0xa113d5);if(_0x11b711(0x205)==typeof _0x5ea002&&_0x5ea002['length']>_0x27b5a3)return this[_0x11b711(0x6a0)](_0xa113d5,_0x5ea002);0x0===_0xa113d5[_0x11b711(0x230)]&&_0xa113d5['messageType']===_0x17c3e2[_0x11b711(0x235)]&&this[_0x11b711(0x694)][_0x11b711(0x2f5)][_0x11b711(0x358)](()=>_0x3dc4e5['log'](_0x5a543d['SenderSendMessage'],_0x11b711(0x9ba),this[_0x11b711(0xaa3)],_0x260e13(_0xa113d5)),void 0x0);const _0x31434c=0x0===_0xa113d5['topicLabel']&&[_0x17c3e2[_0x11b711(0x957)],_0x17c3e2[_0x11b711(0x4aa)]][_0x11b711(0x1e2)](_0xa113d5[_0x11b711(0x3b0)])?_0x52427b[_0x11b711(0x3ba)]:_0xa113d5 instanceof ArrayBuffer?_0x52427b['Low']:_0x52427b['Medium'];this['sendWithRetry'](_0x5ea002,_0x31434c);}[_0x3d1090(0x5f6)](_0x13a798,_0xba11a2,_0x259c18,_0x385dcd){const _0x11b739=_0x3d1090,_0x29482b=(_0x6651fc=this['maxFps'],_0x3b405c=this[_0x11b739(0x31c)],Math[_0x11b739(0x93b)](0xe1000*_0x6651fc*_0x3b405c));var _0x6651fc,_0x3b405c;const _0x55199c=this['senders'][_0x11b739(0x252)](_0xba11a2['id'])||{'stream':_0xba11a2,'priority':_0x259c18,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x29482b,'maxBitrate':_0x29482b,'framerate':this[_0x11b739(0x273)],'maxFramerate':this[_0x11b739(0x273)],'tracks':{},'params':_0x385dcd},_0x50c8ce=_0x55199c[_0x11b739(0x531)][_0x13a798[_0x11b739(0x6c9)]]||{'track':_0x13a798};if(_0x50c8ce[_0x11b739(0x492)]?(_0x50c8ce[_0x11b739(0x481)]=_0x13a798,this[_0x11b739(0x423)]['replaceTrack'](_0x13a798,_0x50c8ce['sender'])):_0x50c8ce[_0x11b739(0x492)]=this[_0x11b739(0x423)][_0x11b739(0x5f6)](_0x13a798,_0xba11a2),_0x55199c[_0x11b739(0x531)][_0x13a798[_0x11b739(0x6c9)]]=_0x50c8ce,_0x385dcd&&(_0x55199c[_0x11b739(0x523)]=_0x385dcd),_0x385dcd&&_0x11b739(0x4c4)===_0x385dcd[_0x11b739(0x6c9)]&&_0x385dcd[_0x11b739(0x48b)]&&_0x385dcd['maxResolution']&&(_0x55199c[_0x11b739(0x684)]=this[_0x11b739(0x7c2)](_0x385dcd[_0x11b739(0x48b)],_0x385dcd[_0x11b739(0x729)]),_0x55199c['minResolutionScale']=_0x55199c[_0x11b739(0x684)],_0x55199c[_0x11b739(0x531)][_0x11b739(0x4c4)]&&_0x55199c['tracks'][_0x11b739(0x4c4)][_0x11b739(0x492)])){const _0x4ac428=_0x55199c[_0x11b739(0x531)][_0x11b739(0x4c4)][_0x11b739(0x492)];this['connection'][_0x11b739(0x41b)](_0x4ac428,Math[_0x11b739(0x93b)](0xa*_0x55199c[_0x11b739(0x684)])/0xa,_0x55199c[_0x11b739(0x4ef)],_0x55199c[_0x11b739(0x493)],_0x55199c['priority']);}this[_0x11b739(0x5d7)][_0x11b739(0x6f0)](_0xba11a2['id'],_0x55199c);}[_0x3d1090(0x3a4)](_0x482a57,_0x9e78da){const _0x39caa7=_0x3d1090,_0x45b67f=this[_0x39caa7(0x5d7)][_0x39caa7(0x252)](_0x482a57['id']);if(_0x45b67f&&_0x45b67f[_0x39caa7(0x6c3)]!==_0x9e78da&&(_0x45b67f['priority']=_0x9e78da,_0x45b67f[_0x39caa7(0x531)]['video']&&_0x45b67f[_0x39caa7(0x531)][_0x39caa7(0x4c4)][_0x39caa7(0x492)])){const _0x412958=_0x45b67f[_0x39caa7(0x531)]['video']['sender'];this['connection']['setEncodingParameters'](_0x412958,Math[_0x39caa7(0x93b)](0xa*_0x45b67f['resolutionScale'])/0xa,_0x45b67f[_0x39caa7(0x4ef)],_0x45b67f['bitrate'],_0x45b67f[_0x39caa7(0x6c3)]);}}[_0x3d1090(0x768)](_0x42a2b5,_0x4b2b67){const _0x2f4366=_0x3d1090,_0x32c1b8=this['senders'][_0x2f4366(0x252)](_0x42a2b5['id']);if(_0x32c1b8){if(_0x32c1b8[_0x2f4366(0x523)]=_0x4b2b67,_0x4b2b67&&_0x2f4366(0x4c4)===_0x4b2b67['kind']&&_0x4b2b67[_0x2f4366(0x48b)]&&_0x4b2b67[_0x2f4366(0x729)]){if(_0x32c1b8[_0x2f4366(0x8b7)]=this[_0x2f4366(0x7c2)](_0x4b2b67[_0x2f4366(0x48b)],_0x4b2b67[_0x2f4366(0x729)]),_0x32c1b8[_0x2f4366(0x684)]<_0x32c1b8[_0x2f4366(0x8b7)]&&(_0x32c1b8[_0x2f4366(0x684)]=_0x32c1b8[_0x2f4366(0x8b7)]),_0x32c1b8[_0x2f4366(0x531)][_0x2f4366(0x4c4)]&&_0x32c1b8[_0x2f4366(0x531)]['video']['sender']){const _0x29bd23=_0x32c1b8['tracks'][_0x2f4366(0x4c4)]['sender'];this[_0x2f4366(0x423)]['setEncodingParameters'](_0x29bd23,Math[_0x2f4366(0x93b)](0xa*_0x32c1b8[_0x2f4366(0x684)])/0xa,_0x32c1b8[_0x2f4366(0x4ef)],_0x32c1b8[_0x2f4366(0x493)],_0x32c1b8[_0x2f4366(0x6c3)]);}this[_0x2f4366(0x95e)](),this['setUpgradeTimeout']();}this[_0x2f4366(0x5d7)][_0x2f4366(0x6f0)](_0x42a2b5['id'],_0x32c1b8);}}[_0x3d1090(0x37f)](_0x90d614,_0x17b7ae){const _0x1011ab=_0x3d1090,_0x4b88f1=this[_0x1011ab(0x5d7)][_0x1011ab(0x252)](_0x17b7ae['id']);if(_0x4b88f1){const _0x1743ed=_0x4b88f1[_0x1011ab(0x531)][_0x90d614['kind']];_0x1743ed&&(_0x1743ed['sender']&&this[_0x1011ab(0x423)]['removeTrack'](_0x1743ed[_0x1011ab(0x492)]),_0x1743ed[_0x1011ab(0x481)]=void 0x0);}}[_0x3d1090(0x20c)](_0x330fb8){const _0x9d4b4b=_0x3d1090;this[_0x9d4b4b(0x95e)]();const _0x2c68be=function(_0x134f05,_0x359b7b){const _0x4e7745=_0x9d4b4b;return _0x134f05[_0x4e7745(0xa08)]((_0x366a5f,_0x29cad0)=>_0x359b7b[_0x4e7745(0x2ec)]===_0x462d5f[_0x4e7745(0x8c6)]?_0x29cad0[_0x4e7745(0x6c3)]-_0x366a5f[_0x4e7745(0x6c3)]:_0x366a5f[_0x4e7745(0x6c3)]-_0x29cad0['priority'])['find'](_0x448a76=>function(_0x3b5240,_0x5487c0){const _0x12251e=_0x4e7745;if(_0x5487c0[_0x12251e(0x2ec)]===_0x462d5f[_0x12251e(0x8c6)]){if(_0x5487c0['component']===_0x22471f[_0x12251e(0x1c8)])return _0x3b5240['resolutionScale']<0x4||_0x3b5240[_0x12251e(0x664)]>0xf;if(_0x5487c0[_0x12251e(0x986)]===_0x22471f[_0x12251e(0x370)])return _0x3b5240[_0x12251e(0x93f)]>_0x48fef3;}return _0x3b5240[_0x12251e(0x684)]>_0x3b5240[_0x12251e(0x8b7)]||_0x3b5240[_0x12251e(0x4ef)]<_0x3b5240[_0x12251e(0x664)]||_0x3b5240[_0x12251e(0x493)]<_0x3b5240[_0x12251e(0x93f)];}(_0x448a76,_0x359b7b));}(Array[_0x9d4b4b(0x2bc)](this[_0x9d4b4b(0x5d7)]['values']()),_0x330fb8);if(_0x2c68be&&(function(_0x3e871b,_0x158ad1){const _0x516e59=_0x9d4b4b;_0x3e871b[_0x516e59(0x531)][_0x516e59(0x4c4)]&&_0x3e871b[_0x516e59(0x531)]['video'][_0x516e59(0x492)]&&(_0x3e871b[_0x516e59(0x684)]=function(_0xabe16,_0x397cac,_0x326354){const _0x941a6d=_0x516e59;switch(_0x326354[_0x941a6d(0x2ec)]){case _0x462d5f['Downgrade']:_0x326354[_0x941a6d(0x986)]===_0x22471f['Resolution']&&(_0xabe16+=0.5)>0x4&&(_0xabe16=0x4);break;case _0x462d5f[_0x941a6d(0xa05)]:(_0xabe16-=0.5)<_0x397cac&&(_0xabe16=_0x397cac);}return _0xabe16;}(_0x3e871b[_0x516e59(0x684)],_0x3e871b[_0x516e59(0x8b7)],_0x158ad1),_0x3e871b[_0x516e59(0x4ef)]=function(_0x1f8261,_0x940d42,_0x36045c){const _0x3b5c94=_0x516e59;switch(_0x36045c[_0x3b5c94(0x2ec)]){case _0x462d5f['Downgrade']:_0x36045c[_0x3b5c94(0x986)]===_0x22471f['Resolution']&&(_0x1f8261-=0x3)<0xf&&(_0x1f8261=0xf);break;case _0x462d5f[_0x3b5c94(0xa05)]:(_0x1f8261+=0x3)>_0x940d42&&(_0x1f8261=_0x940d42);}return _0x1f8261;}(_0x3e871b['framerate'],_0x3e871b['maxFramerate'],_0x158ad1),_0x3e871b[_0x516e59(0x493)]=function(_0x41b815,_0x29464a,_0x48a6fa){const _0x940178=_0x516e59;switch(_0x48a6fa['action']){case _0x462d5f[_0x940178(0x8c6)]:_0x48a6fa[_0x940178(0x986)]===_0x22471f[_0x940178(0x370)]&&(_0x41b815*=0.75)<_0x48fef3&&(_0x41b815=_0x48fef3);break;case _0x462d5f[_0x940178(0xa05)]:(_0x41b815*=1.25)>_0x29464a&&(_0x41b815=_0x29464a);}return _0x41b815;}(_0x3e871b[_0x516e59(0x493)],_0x3e871b[_0x516e59(0x93f)],_0x158ad1));}(_0x2c68be,_0x330fb8),_0x2c68be[_0x9d4b4b(0x531)][_0x9d4b4b(0x4c4)]&&_0x2c68be[_0x9d4b4b(0x531)][_0x9d4b4b(0x4c4)]['sender'])){const _0x3bbd00=_0x2c68be[_0x9d4b4b(0x531)][_0x9d4b4b(0x4c4)][_0x9d4b4b(0x492)];this['connection']['setEncodingParameters'](_0x3bbd00,Math[_0x9d4b4b(0x93b)](0xa*_0x2c68be[_0x9d4b4b(0x684)])/0xa,_0x2c68be['framerate'],_0x2c68be[_0x9d4b4b(0x493)],_0x2c68be[_0x9d4b4b(0x6c3)]);}(_0x2c68be||_0x330fb8[_0x9d4b4b(0x2ec)]===_0x462d5f['Downgrade'])&&this['setUpgradeTimeout']();}['calculateArrayBufferSize'](){const _0x3c0331=_0x3d1090;return this[_0x3c0331(0x346)][_0x3c0331(0x675)][_0x3c0331(0x8f1)]((_0x382158,_0x2dbf1e)=>_0x382158+_0x2dbf1e[_0x3c0331(0x8e5)],0x0)*_0x3f812c;}[_0x3d1090(0x325)](){const _0x33f625=_0x3d1090;return this[_0x33f625(0x832)]?.['bufferedAmount']??0x0;}[_0x3d1090(0xa9c)](){const _0x945256=_0x3d1090;super[_0x945256(0xa9c)](),this[_0x945256(0xa9d)](),this[_0x945256(0x471)](),this[_0x945256(0x5d7)][_0x945256(0x7ff)](_0x32ee10=>{const _0x9694ac=_0x945256;_0x32ee10[_0x9694ac(0x531)][_0x9694ac(0x4c4)]&&(_0x32ee10[_0x9694ac(0x531)]['video'][_0x9694ac(0x492)]=void 0x0),_0x32ee10[_0x9694ac(0x531)][_0x9694ac(0x83c)]&&(_0x32ee10[_0x9694ac(0x531)]['audio'][_0x9694ac(0x492)]=void 0x0);}),this[_0x945256(0x38e)]=!0x0;}async['waitSendBuffer'](){return new Promise(async _0x51eec0=>{const _0x4ba26b=a0_0x50c4;if(!this[_0x4ba26b(0x832)]||_0x4ba26b(0x4be)!==this[_0x4ba26b(0x832)][_0x4ba26b(0xa09)])return await _0x5aa24a[_0x4ba26b(0x228)](0x64),void _0x51eec0();this['dataChannel'][_0x4ba26b(0x362)]<_0x13e03a?_0x51eec0():this['dataChannel'][_0x4ba26b(0x270)]=()=>{const _0x32860a=_0x4ba26b;this[_0x32860a(0x832)]&&(this[_0x32860a(0x832)][_0x32860a(0x270)]=null),_0x51eec0();};});}[_0x3d1090(0x6a0)](_0x5ec251,_0x275e0f){const _0x57da9e=_0x3d1090,_0xbf0525=[];for(let _0x597ee6=0x0;_0x597ee6<_0x275e0f[_0x57da9e(0x73c)];_0x597ee6+=_0x27b5a3)_0xbf0525[_0x57da9e(0xa93)](_0x275e0f[_0x57da9e(0x5ec)](_0x597ee6,_0x597ee6+_0x27b5a3));for(const _0x599ea2 of _0xbf0525)this[_0x57da9e(0x5dc)](_0x3b7bf9+';'+_0x5ec251[_0x57da9e(0x29b)]+';'+_0xbf0525[_0x57da9e(0x7dc)](_0x599ea2)+';'+_0xbf0525[_0x57da9e(0x73c)]+';'+_0x599ea2,_0x52427b[_0x57da9e(0x8e3)]);}async[_0x3d1090(0x5dc)](_0x56c0de,_0x30adba){const _0x44e082=_0x3d1090;_0x56c0de===_0x122922?this[_0x44e082(0x346)][_0x44e082(0x675)][_0x30adba]['head']?.[_0x44e082(0x81e)]!==_0x122922&&this[_0x44e082(0x346)][_0x44e082(0x675)][_0x30adba][_0x44e082(0x246)](_0x56c0de):this[_0x44e082(0x346)][_0x44e082(0x675)][_0x30adba]['push'](_0x56c0de);}['sendAction'](_0xc1382a){const _0x37b997=_0x3d1090;if(!this[_0x37b997(0x832)]||_0x37b997(0x4be)!==this[_0x37b997(0x832)][_0x37b997(0xa09)])throw new Error(_0x37b997(0x792));if(this[_0x37b997(0x832)]['bufferedAmount']>=0xbe8000)throw new Error(_0x37b997(0x545));const _0x558ace=Date[_0x37b997(0x267)]();_0xc1382a!==_0x122922&&(this[_0x37b997(0x20a)]+=0x1,this[_0x37b997(0x6bd)]+=_0xc1382a instanceof ArrayBuffer?_0xc1382a[_0x37b997(0x88e)]:_0xc1382a[_0x37b997(0x73c)]),ArrayBuffer,this[_0x37b997(0x832)][_0x37b997(0x908)](_0xc1382a),this['timeSending']+=Date[_0x37b997(0x267)]()-_0x558ace;}['startHeartbeat'](){const _0x4e0b7d=_0x3d1090;this['heartbeatUnsubscriber']&&this[_0x4e0b7d(0x1c2)]();let _0x5d6887=!0x0,_0x1ba8b6=Date[_0x4e0b7d(0x267)]();this[_0x4e0b7d(0xa4b)]=Date[_0x4e0b7d(0x267)](),this['dataChannel'][_0x4e0b7d(0xa76)]=_0x444782=>{const _0x4db963=_0x4e0b7d;'1'===_0x444782['data']&&(this[_0x4db963(0x558)]=Date['now']()-_0x1ba8b6,_0x5d6887&&this['publishSystemMessage']({'type':_0x465160[_0x4db963(0x47f)]}),_0x5d6887=!0x1,this[_0x4db963(0xa4b)]=Date[_0x4db963(0x267)](),this['isReconnecting']&&(this[_0x4db963(0x38e)]=!0x1,this['handleMissingSenders']()));},this['heartbeatUnsubscriber']=_0x5aa24a[_0x4e0b7d(0x8e2)](()=>{const _0x56c616=_0x4e0b7d;_0x1ba8b6=Date[_0x56c616(0x267)](),this['sendWithRetry'](_0x122922,_0x52427b[_0x56c616(0x3ba)]),Date[_0x56c616(0x267)]()-this[_0x56c616(0xa4b)]>(_0x5d6887?0x15f90:0x3a98)&&this[_0x56c616(0x6ce)]();},0xbb8);}[_0x3d1090(0x32e)](){const _0x1269c7=_0x3d1090;this[_0x1269c7(0x5d7)][_0x1269c7(0x7ff)](_0x30269e=>{const _0x532041=_0x1269c7;_0x30269e[_0x532041(0x531)][_0x532041(0x4c4)]&&_0x30269e[_0x532041(0x531)][_0x532041(0x4c4)][_0x532041(0x481)]&&!_0x30269e[_0x532041(0x531)][_0x532041(0x4c4)][_0x532041(0x492)]&&(_0x30269e[_0x532041(0x531)][_0x532041(0x4c4)][_0x532041(0x492)]=this[_0x532041(0x423)][_0x532041(0x5f6)](_0x30269e[_0x532041(0x531)][_0x532041(0x4c4)][_0x532041(0x481)],_0x30269e[_0x532041(0x85c)])),_0x30269e[_0x532041(0x531)]['audio']&&_0x30269e[_0x532041(0x531)]['audio'][_0x532041(0x481)]&&!_0x30269e['tracks'][_0x532041(0x83c)][_0x532041(0x492)]&&(_0x30269e['tracks']['audio'][_0x532041(0x492)]=this['connection']['addTrack'](_0x30269e[_0x532041(0x531)][_0x532041(0x83c)]['track'],_0x30269e[_0x532041(0x85c)]));});}[_0x3d1090(0x6e5)](){const _0x1e278e=_0x3d1090;this['publishSystemMessage']({'type':_0x465160[_0x1e278e(0x2cf)],'candidates':this['handshakeCandidates'],'origin':_0x39d673[_0x1e278e(0x500)],'version':this[_0x1e278e(0x9f4)],'connectionType':this[_0x1e278e(0x998)]});}[_0x3d1090(0x903)](){const _0x5c7091=_0x3d1090;super[_0x5c7091(0x903)](),this[_0x5c7091(0x423)][_0x5c7091(0x5f8)]=()=>{const _0x316983=_0x5c7091;if('failed'===this[_0x316983(0x423)][_0x316983(0x723)]){_0x3dc4e5[_0x316983(0x546)](_0x5a543d[_0x316983(0x9db)],_0x316983(0x29c),this['localNode']['getId'](),this[_0x316983(0xaa3)]);try{if(this[_0x316983(0x423)][_0x316983(0x6f3)])return void this['connection'][_0x316983(0x680)]();}catch(_0x191679){}this[_0x316983(0x3b4)]({'handshakeRestart':!0x0});}},this[_0x5c7091(0x423)][_0x5c7091(0xa69)]=()=>{const _0x3dc408=_0x5c7091;_0x3dc408(0x5ca)!==this['connection'][_0x3dc408(0x4a8)]&&_0x3dc408(0x849)!==this[_0x3dc408(0x423)]['connectionState']||this[_0x3dc408(0x6ce)]();};}[_0x3d1090(0x6ce)](){const _0x38c194=_0x3d1090;this[_0x38c194(0x1c2)](),this['clearRestartTimeout'](),this[_0x38c194(0x298)](),_0x3dc4e5[_0x38c194(0x236)](_0x38c194(0x70e),{'clusterId':this[_0x38c194(0xa3c)],'nodeId':this[_0x38c194(0x5d3)]['getId'](),'nodeType':this[_0x38c194(0x5d3)][_0x38c194(0x88c)],'remoteId':this[_0x38c194(0xaa3)],'data':{'connectionType':this[_0x38c194(0x998)],'connectionState':this['connection'][_0x38c194(0x4a8)],'iceConnectionState':this['connection'][_0x38c194(0x723)],'signalingState':this['connection'][_0x38c194(0xa06)],'readyState':this[_0x38c194(0x832)]?.[_0x38c194(0xa09)]||'','lastHeartbeat':this[_0x38c194(0xa4b)]?Date[_0x38c194(0x267)]()-this[_0x38c194(0xa4b)]:'','retryQueue':this['retryQueue']}}),(this[_0x38c194(0xa4b)]&&Date[_0x38c194(0x267)]()-this[_0x38c194(0xa4b)]>0xea60)??0x1?this[_0x38c194(0x613)][_0x38c194(0x681)]({'sourceId':this[_0x38c194(0xaa3)],'destinationIds':[this[_0x38c194(0x5d3)][_0x38c194(0x79a)]()],'messageType':_0x17c3e2[_0x38c194(0x4aa)],'content':{'type':_0x465160[_0x38c194(0x1c9)]}}):(this[_0x38c194(0xa9c)](),this[_0x38c194(0x419)]({'type':_0x465160['NeedRestart'],'version':this[_0x38c194(0x9f4)],'connectionType':this['connectionType']}),this['restartTimeout']=setTimeout(()=>{const _0xd85915=_0x38c194;this[_0xd85915(0x6ce)]();},0x7530));}[_0x3d1090(0x1c2)](){const _0x3f5ad3=_0x3d1090;this[_0x3f5ad3(0x334)]?.(),delete this[_0x3f5ad3(0x334)];}['clearConnectionTimeout'](){const _0x156997=_0x3d1090;this[_0x156997(0x788)]&&(clearTimeout(this[_0x156997(0x788)]),delete this[_0x156997(0x788)]);}['clearRestartTimeout'](){const _0x5349a6=_0x3d1090;this[_0x5349a6(0x7da)]&&(clearTimeout(this[_0x5349a6(0x7da)]),delete this[_0x5349a6(0x7da)]);}[_0x3d1090(0x95e)](){const _0xb14f2f=_0x3d1090;this['upgradeTimeout']&&(clearTimeout(this[_0xb14f2f(0x62c)]),delete this[_0xb14f2f(0x62c)]);}[_0x3d1090(0x698)](){this['upgradeTimeout']=setTimeout(()=>{const _0x18b722=a0_0x50c4;this[_0x18b722(0x20c)]({'type':_0x4ca264[_0x18b722(0x760)],'action':_0x462d5f[_0x18b722(0xa05)]});},0x3a98);}[_0x3d1090(0x7c2)](_0x864e13,_0x207f6c){const _0x18619c=_0x3d1090,_0x221165=Math['max'](_0x864e13[_0x18619c(0x210)]/_0x207f6c[_0x18619c(0x210)],_0x864e13[_0x18619c(0x4f7)]/_0x207f6c['height']);return Math['min'](Math[_0x18619c(0x3bf)](_0x221165,0x1),0x4);}[_0x3d1090(0x471)](){const _0x486657=_0x3d1090;this[_0x486657(0x6c6)]?.(),delete this[_0x486657(0x6c6)];}[_0x3d1090(0xa9d)](){const _0x1fbc18=_0x3d1090;this['oncloseTimeout']&&(clearTimeout(this[_0x1fbc18(0x99d)]),delete this[_0x1fbc18(0x99d)]);}[_0x3d1090(0x1f7)](_0x45d243){const _0x16b88d=_0x3d1090,_0x18a8ee=JSON[_0x16b88d(0x90a)](_0x45d243);return new TextEncoder()[_0x16b88d(0x9f7)](_0x18a8ee)[_0x16b88d(0x485)];}[_0x3d1090(0x83d)](_0x3a8b33,_0x6e8ecd){const _0x28b8c9=_0x3d1090,_0x51050a=this[_0x28b8c9(0x1f7)](_0x3a8b33),_0x1dbc52=new Uint8Array(0x4),_0x2bc9d3=new Uint8Array(_0x51050a),_0x1232f6=new Uint8Array(_0x6e8ecd);_0x1dbc52[_0x28b8c9(0x6f0)](new Uint8Array(new Uint32Array([_0x2bc9d3['length']])[_0x28b8c9(0x485)]));const _0x22ea85=new Uint8Array(0x4+_0x2bc9d3[_0x28b8c9(0x73c)]+_0x1232f6[_0x28b8c9(0x73c)]);return _0x22ea85['set'](_0x1dbc52),_0x22ea85[_0x28b8c9(0x6f0)](_0x2bc9d3,0x4),_0x22ea85[_0x28b8c9(0x6f0)](_0x1232f6,0x4+_0x2bc9d3[_0x28b8c9(0x73c)]),_0x22ea85['buffer'];}}class _0x48b4bc extends _0x90a485{[_0x3d1090(0x261)];[_0x3d1090(0x998)];['maxFps'];['maxBpp'];['connectionConstructor'];[_0x3d1090(0x504)];[_0x3d1090(0x96a)];[_0x3d1090(0x3c3)]=[];['messageListeners']=_0x353664();['trackListeners']=_0x353664();['removeTrackListeners']=_0x353664();[_0x3d1090(0x757)]=[];[_0x3d1090(0x613)];[_0x3d1090(0x53e)]=new Map();[_0x3d1090(0x2e3)]=new Map();['mediaTopics']=new Map();['mediaUnsubscribers']=new Map();[_0x3d1090(0x3bb)]=!0x1;constructor(_0x42aa5c,_0x311503,_0x19947e,_0x2b96e5,_0x6eaf25,_0x9bc50b,_0x4ec040,_0x58c83c){const _0x5a3c92=_0x3d1090;super(_0x42aa5c,_0x311503,_0x19947e),this['iceServers']=_0x2b96e5,this[_0x5a3c92(0x998)]=_0x6eaf25,this['maxFps']=_0x9bc50b,this['maxBpp']=_0x4ec040,this[_0x5a3c92(0x9bc)]=_0x58c83c;}[_0x3d1090(0x942)](_0x5c7978){const _0x4885ae=_0x3d1090;switch(_0x5c7978[_0x4885ae(0x3b7)]()){case _0x25b155[_0x4885ae(0x2ce)][_0x4885ae(0x624)]:case _0x25b155[_0x4885ae(0x2ce)][_0x4885ae(0x458)]:case _0x25b155['ContentType'][_0x4885ae(0x287)]:case _0x25b155[_0x4885ae(0x2ce)]['KeyValueDatabase']:case _0x25b155[_0x4885ae(0x2ce)][_0x4885ae(0x673)]:case _0x25b155[_0x4885ae(0x2ce)][_0x4885ae(0x191)]:case _0x25b155[_0x4885ae(0x2ce)]['GraphDatabase']:case _0x25b155[_0x4885ae(0x2ce)]['ExternalStorage']:this['dataTopics'][_0x4885ae(0x6f0)](_0x5c7978[_0x4885ae(0xa01)](),_0x5c7978);break;case _0x25b155[_0x4885ae(0x2ce)][_0x4885ae(0x39e)]:this[_0x4885ae(0x9b1)][_0x4885ae(0x6f0)](_0x5c7978[_0x4885ae(0xa01)](),_0x5c7978);}}[_0x3d1090(0x2be)](_0x3214f6){const _0x11b19c=_0x3d1090;switch(_0x3214f6[_0x11b19c(0x3b7)]()){case _0x25b155[_0x11b19c(0x2ce)][_0x11b19c(0x624)]:case _0x25b155[_0x11b19c(0x2ce)][_0x11b19c(0x458)]:case _0x25b155['ContentType']['ObjectStore']:case _0x25b155[_0x11b19c(0x2ce)][_0x11b19c(0x970)]:case _0x25b155[_0x11b19c(0x2ce)][_0x11b19c(0x673)]:case _0x25b155['ContentType'][_0x11b19c(0x191)]:case _0x25b155['ContentType'][_0x11b19c(0x77b)]:case _0x25b155[_0x11b19c(0x2ce)][_0x11b19c(0x1d5)]:this[_0x11b19c(0x53e)][_0x11b19c(0x54a)](_0x3214f6[_0x11b19c(0xa01)]());break;case _0x25b155[_0x11b19c(0x2ce)][_0x11b19c(0x39e)]:this[_0x11b19c(0x9b1)]['delete'](_0x3214f6[_0x11b19c(0xa01)]());}}[_0x3d1090(0x208)](_0x4d6a0c){const _0x41a5e9=_0x3d1090;switch(_0x4d6a0c[_0x41a5e9(0x3b7)]()){case _0x25b155[_0x41a5e9(0x2ce)][_0x41a5e9(0x624)]:case _0x25b155[_0x41a5e9(0x2ce)][_0x41a5e9(0x458)]:case _0x25b155[_0x41a5e9(0x2ce)][_0x41a5e9(0x287)]:case _0x25b155[_0x41a5e9(0x2ce)]['KeyValueDatabase']:case _0x25b155[_0x41a5e9(0x2ce)]['Job']:case _0x25b155['ContentType']['VectorDatabase']:case _0x25b155['ContentType']['GraphDatabase']:case _0x25b155[_0x41a5e9(0x2ce)][_0x41a5e9(0x1d5)]:{const _0x3525cb=_0x4d6a0c['subscribe'](_0x87f688=>{const _0x29951a=_0x41a5e9;_0x1913cb(_0x87f688,this[_0x29951a(0x8b2)]())&&_0x139d41(_0x87f688,this['remoteId'])&&this[_0x29951a(0x908)](_0x87f688);});this[_0x41a5e9(0x2e3)][_0x41a5e9(0x6f0)](_0x4d6a0c[_0x41a5e9(0xa01)](),_0x3525cb);break;}case _0x25b155['ContentType'][_0x41a5e9(0x39e)]:{const _0x19ee56=_0x4d6a0c[_0x41a5e9(0x81b)](({content:_0x404d9f})=>{const _0x1fe925=_0x41a5e9;switch(_0x404d9f[_0x1fe925(0x2ec)]){case _0x4e5ea4[_0x1fe925(0x59f)]:this['addTrack'](_0x404d9f[_0x1fe925(0x481)],_0x404d9f[_0x1fe925(0x85c)],_0x404d9f[_0x1fe925(0x6c3)],_0x404d9f['params']);break;case _0x4e5ea4['Remove']:this[_0x1fe925(0x37f)](_0x404d9f['track'],_0x404d9f[_0x1fe925(0x85c)]);break;case _0x4e5ea4['Update']:_0x404d9f[_0x1fe925(0x6c3)]&&this[_0x1fe925(0x3a4)](_0x404d9f[_0x1fe925(0x85c)],_0x404d9f[_0x1fe925(0x6c3)]),_0x404d9f[_0x1fe925(0x523)]&&this[_0x1fe925(0x768)](_0x404d9f['stream'],_0x404d9f[_0x1fe925(0x523)]);}});this['mediaUnsubscribers'][_0x41a5e9(0x6f0)](_0x4d6a0c[_0x41a5e9(0xa01)](),_0x19ee56);break;}}}[_0x3d1090(0x669)](_0x5e33d4){const _0x175930=_0x3d1090;switch(_0x5e33d4[_0x175930(0x3b7)]()){case _0x25b155[_0x175930(0x2ce)][_0x175930(0x624)]:case _0x25b155['ContentType']['PubSub']:case _0x25b155[_0x175930(0x2ce)][_0x175930(0x287)]:case _0x25b155['ContentType'][_0x175930(0x970)]:case _0x25b155[_0x175930(0x2ce)][_0x175930(0x673)]:case _0x25b155['ContentType']['VectorDatabase']:case _0x25b155[_0x175930(0x2ce)][_0x175930(0x77b)]:case _0x25b155[_0x175930(0x2ce)][_0x175930(0x1d5)]:this[_0x175930(0x2e3)][_0x175930(0x252)](_0x5e33d4[_0x175930(0xa01)]())?.(),this['dataUnsubscribers'][_0x175930(0x54a)](_0x5e33d4[_0x175930(0xa01)]());break;case _0x25b155['ContentType']['Media']:this['mediaUnsubscribers']['get'](_0x5e33d4[_0x175930(0xa01)]())?.(),this['mediaUnsubscribers']['delete'](_0x5e33d4['getLabel']());}}[_0x3d1090(0x4c7)](){const _0x432cfd=_0x3d1090;return[_0x25b155[_0x432cfd(0x2ce)]['Data'],_0x25b155['ContentType'][_0x432cfd(0x39e)],_0x25b155[_0x432cfd(0x2ce)][_0x432cfd(0x458)],_0x25b155[_0x432cfd(0x2ce)]['ObjectStore'],_0x25b155['ContentType'][_0x432cfd(0x970)],_0x25b155['ContentType'][_0x432cfd(0x673)],_0x25b155['ContentType'][_0x432cfd(0x191)],_0x25b155['ContentType'][_0x432cfd(0x77b)],_0x25b155['ContentType'][_0x432cfd(0x1d5)]];}[_0x3d1090(0x60f)](_0x17fd37){this['systemTopic']=_0x17fd37;}[_0x3d1090(0x7b7)](){const _0x4caa1f=_0x3d1090;delete this[_0x4caa1f(0x613)];}async[_0x3d1090(0x977)](){const _0x5eeb3c=_0x3d1090;this[_0x5eeb3c(0x65f)](),await this[_0x5eeb3c(0x3b4)]();}[_0x3d1090(0x8d5)](){const _0x109921=_0x3d1090;this[_0x109921(0x757)]['forEach'](_0x57e3b8=>_0x57e3b8()),this[_0x109921(0x757)]=[],this[_0x109921(0x504)]?.[_0x109921(0x7b7)](),this['senderConnection']?.[_0x109921(0x8d5)](),delete this[_0x109921(0x504)],this['receiverUnsubscribers'][_0x109921(0x7ff)](_0x5df4c4=>_0x5df4c4()),this[_0x109921(0x3c3)]=[],this[_0x109921(0x96a)]?.[_0x109921(0x7b7)](),this[_0x109921(0x96a)]?.[_0x109921(0x8d5)](),delete this[_0x109921(0x96a)];}[_0x3d1090(0x9ef)](){const _0x25daf7=_0x3d1090;return this[_0x25daf7(0x504)]?.['isConnected']()&&this['receiverConnection']?.[_0x25daf7(0x9ef)]()||!0x1;}[_0x3d1090(0x908)](_0x1afd38){const _0x251b67=_0x3d1090;if(!this[_0x251b67(0x504)]||!this[_0x251b67(0x9ef)]())throw new _0x1b9d16(_0x1b9d16[_0x251b67(0x276)][_0x251b67(0x86b)],{'message':_0x251b67(0xab3),'senderConnected':this[_0x251b67(0x504)]?.[_0x251b67(0x9ef)](),'receiverConnected':this[_0x251b67(0x96a)]?.[_0x251b67(0x9ef)](),'localId':this[_0x251b67(0x8b2)](),'remoteId':this['remoteId'],'data':_0x1afd38});this['senderConnection'][_0x251b67(0x908)](_0x1afd38);}[_0x3d1090(0xa76)](_0x9e333f){const _0x506862=_0x3d1090;return this['messageListeners'][_0x506862(0x81b)](_0x9e333f);}[_0x3d1090(0x454)](_0x15c8f6){const _0x28f962=_0x3d1090;return this[_0x28f962(0x4bb)][_0x28f962(0x81b)](({track:_0x4c253b,stream:_0x2cdd2e})=>_0x15c8f6(_0x4c253b,_0x2cdd2e));}['onRemoveTrack'](_0x20b4db){const _0x211db4=_0x3d1090;return this[_0x211db4(0x48e)][_0x211db4(0x81b)](({track:_0x4abbc1,stream:_0x403633})=>_0x20b4db(_0x4abbc1,_0x403633));}[_0x3d1090(0x5f6)](_0x4f216f,_0x20faeb,_0x5ed636,_0x173861){const _0x3cf48c=_0x3d1090;this[_0x3cf48c(0x504)]?.[_0x3cf48c(0x5f6)](_0x4f216f,_0x20faeb,_0x5ed636,_0x173861);}[_0x3d1090(0x3a4)](_0x42316b,_0x3763bc){const _0x5c2b77=_0x3d1090;this[_0x5c2b77(0x504)]?.[_0x5c2b77(0x3a4)](_0x42316b,_0x3763bc);}['setParams'](_0x393578,_0x5acc3d){const _0x2c2239=_0x3d1090;this[_0x2c2239(0x504)]?.[_0x2c2239(0x768)](_0x393578,_0x5acc3d);}[_0x3d1090(0x37f)](_0x226bd8,_0x1d371f){const _0x54cabf=_0x3d1090;this[_0x54cabf(0x504)]?.[_0x54cabf(0x37f)](_0x226bd8,_0x1d371f);}async[_0x3d1090(0x233)](_0x1e3d41){const _0xfe3407=_0x3d1090;_0x3dc4e5['log'](_0x5a543d[_0xfe3407(0x4d6)],'CrewdleConnection\x20handlePeerConnectionSystemEvents',this['getLocalId'](),_0x1e3d41);const {content:_0x2c6c9c}=_0x1e3d41;switch(_0x2c6c9c[_0xfe3407(0x88c)]){case _0x465160['Offer']:await this['handleOffer'](_0x2c6c9c);break;case _0x465160['Answer']:await this[_0xfe3407(0x214)](_0x2c6c9c);break;case _0x465160[_0xfe3407(0x47f)]:this[_0xfe3407(0x450)]();break;case _0x465160['Handshake']:await this[_0xfe3407(0x8df)](_0x2c6c9c);break;case _0x465160[_0xfe3407(0x19c)]:this[_0xfe3407(0x7a9)](_0x2c6c9c);break;case _0x465160['Restart']:await this['createOffer']();}}[_0x3d1090(0x82c)](_0x4d989e){const _0x150f02=_0x3d1090;this[_0x150f02(0x504)]?.[_0x150f02(0x20c)](_0x4d989e[_0x150f02(0x1d7)][_0x150f02(0xa3d)]);}['getConnectionType'](){const _0xe2756b=_0x3d1090;return this[_0xe2756b(0x998)];}[_0x3d1090(0x46d)](_0x366f34){const _0x378635=_0x3d1090;this[_0x378635(0x998)]=_0x366f34,this[_0x378635(0x504)]?.[_0x378635(0x46d)](_0x366f34),this[_0x378635(0x96a)]?.[_0x378635(0x46d)](_0x366f34);}async[_0x3d1090(0x323)](){const _0x36bcff=_0x3d1090;await this['senderConnection']?.[_0x36bcff(0x323)](),await this[_0x36bcff(0x96a)]?.[_0x36bcff(0x323)]();}[_0x3d1090(0xa3a)](){const _0x3eabf8=_0x3d1090;return this[_0x3eabf8(0x504)]?.[_0x3eabf8(0xa3a)]()??0x0;}[_0x3d1090(0x325)](){const _0x425d13=_0x3d1090;return this[_0x425d13(0x504)]?.['getBufferedAmount']()??0x0;}[_0x3d1090(0x65f)](){const _0x40279c=_0x3d1090;this[_0x40279c(0x757)][_0x40279c(0xa93)](this[_0x40279c(0xa76)](_0x2f5b9e=>{const _0x254e8a=_0x40279c;_0x139d41(_0x2f5b9e,this['getLocalId']())&&0x0!==_0x2f5b9e['topicLabel']&&this[_0x254e8a(0x53e)]['get'](_0x2f5b9e[_0x254e8a(0x230)])?.['publish'](_0x2f5b9e);})),this['listenerUnsubscribers'][_0x40279c(0xa93)](this[_0x40279c(0x454)]((_0x3b81d1,_0x1ceee1)=>{const _0x8e9059=_0x40279c,_0x24232c=_0x14711d(_0x25b155['ContentType'][_0x8e9059(0x39e)],_0x1ceee1['id'],this[_0x8e9059(0xaa3)]);this[_0x8e9059(0x9b1)][_0x8e9059(0x252)](_0x24232c)?.[_0x8e9059(0x681)]({'topicLabel':_0x24232c,'sourceId':this[_0x8e9059(0xaa3)],'contentType':_0x25b155[_0x8e9059(0x2ce)][_0x8e9059(0x39e)],'content':{'action':_0x4e5ea4[_0x8e9059(0x35c)],'track':_0x3b81d1,'stream':_0x1ceee1,'providerId':this[_0x8e9059(0xaa3)]}});})),this['listenerUnsubscribers'][_0x40279c(0xa93)](this[_0x40279c(0x594)]((_0x4dfaea,_0x3f7197)=>{const _0x1e9f7e=_0x40279c,_0x367d48=_0x14711d(_0x25b155[_0x1e9f7e(0x2ce)][_0x1e9f7e(0x39e)],_0x3f7197['id'],this[_0x1e9f7e(0xaa3)]);this[_0x1e9f7e(0x9b1)]['get'](_0x367d48)?.[_0x1e9f7e(0x681)]({'topicLabel':_0x367d48,'sourceId':this[_0x1e9f7e(0xaa3)],'contentType':_0x25b155[_0x1e9f7e(0x2ce)][_0x1e9f7e(0x39e)],'content':{'action':_0x4e5ea4[_0x1e9f7e(0x6d3)],'track':_0x4dfaea,'stream':_0x3f7197,'providerId':this['remoteId']}});}));}[_0x3d1090(0x8df)]({candidates:_0x65d579,origin:_0x343d9a,version:_0x29c252}){const _0x2260be=_0x3d1090;return _0x343d9a===_0x39d673[_0x2260be(0x500)]?(this[_0x2260be(0x96a)]||this[_0x2260be(0x592)](),this['receiverConnection']['handleHandshake'](_0x65d579,_0x29c252)):this[_0x2260be(0x504)]['handleHandshake'](_0x65d579,_0x29c252);}async[_0x3d1090(0x3b4)](){const _0x345a45=_0x3d1090;this[_0x345a45(0x504)]||this[_0x345a45(0x28a)](),await this[_0x345a45(0x504)][_0x345a45(0x3b4)]();}async[_0x3d1090(0x74c)]({offer:_0x127923,version:_0x2635b8}){const _0x4fc6d9=_0x3d1090;this[_0x4fc6d9(0x96a)]||this[_0x4fc6d9(0x592)](),await this[_0x4fc6d9(0x96a)][_0x4fc6d9(0x74c)](_0x127923,_0x2635b8);}async[_0x3d1090(0x214)]({answer:_0x5481e1,version:_0x549509}){const _0x2b0a8e=_0x3d1090;if(!this['senderConnection'])throw new _0x1b9d16(_0x1b9d16['codes'][_0x2b0a8e(0x86b)],{'message':_0x2b0a8e(0x764),'localId':this[_0x2b0a8e(0x8b2)](),'remoteId':this[_0x2b0a8e(0xaa3)],'answer':_0x5481e1});await this['senderConnection'][_0x2b0a8e(0x214)](_0x5481e1,_0x549509);}[_0x3d1090(0x450)](){const _0x555d72=_0x3d1090;if(!this[_0x555d72(0x96a)])throw new _0x1b9d16(_0x1b9d16[_0x555d72(0x276)][_0x555d72(0x86b)],{'message':_0x555d72(0x41f),'localId':this['getLocalId'](),'remoteId':this[_0x555d72(0xaa3)]});this[_0x555d72(0x96a)][_0x555d72(0x450)](),this['successNotified']||this[_0x555d72(0x998)]!==_0x12fb75['Optimization']||(this['successNotified']=!0x0,this[_0x555d72(0x613)]?.[_0x555d72(0x681)]({'sourceId':this[_0x555d72(0xaa3)],'destinationIds':[this[_0x555d72(0x8b2)]()],'messageType':_0x17c3e2[_0x555d72(0x4aa)],'content':{'type':_0x465160[_0x555d72(0x9e4)]}}));}[_0x3d1090(0x7a9)](_0x56934a){const _0x4f1909=_0x3d1090;this[_0x4f1909(0x96a)]||this[_0x4f1909(0x592)](),this['receiverConnection'][_0x4f1909(0x7a9)](_0x56934a[_0x4f1909(0x4f5)]);}['createSenderConnection'](){const _0x10c668=_0x3d1090;this[_0x10c668(0x504)]=new _0x27275a(this['clusterId'],this['localNode'],this[_0x10c668(0xaa3)],this[_0x10c668(0x261)],this['connectionType'],this[_0x10c668(0x273)],this[_0x10c668(0x31c)],this['connectionConstructor']),this[_0x10c668(0x504)]['registerSystemPublisher'](this['systemTopic']);}[_0x3d1090(0x592)](){const _0x2d7676=_0x3d1090;this['receiverConnection']=new _0x34b98c(this[_0x2d7676(0xa3c)],this['localNode'],this[_0x2d7676(0xaa3)],this[_0x2d7676(0x261)],this['connectionType'],this[_0x2d7676(0x9bc)]),this['receiverConnection'][_0x2d7676(0x60f)](this['systemTopic']),this[_0x2d7676(0x3c3)][_0x2d7676(0xa93)](this['receiverConnection'][_0x2d7676(0xa76)](_0x380ff3=>this[_0x2d7676(0x398)][_0x2d7676(0x681)](_0x380ff3))),this[_0x2d7676(0x3c3)]['push'](this[_0x2d7676(0x96a)][_0x2d7676(0x454)]((_0x33fc8e,_0x31f345)=>this[_0x2d7676(0x4bb)][_0x2d7676(0x681)]({'track':_0x33fc8e,'stream':_0x31f345}))),this[_0x2d7676(0x3c3)]['push'](this[_0x2d7676(0x96a)][_0x2d7676(0x594)]((_0x561952,_0x471b21)=>this['removeTrackListeners'][_0x2d7676(0x681)]({'track':_0x561952,'stream':_0x471b21})));}}class _0x3483bd{[_0x3d1090(0x327)];[_0x3d1090(0x6ad)];['graphService'];[_0x3d1090(0x535)]=new Map();[_0x3d1090(0x398)]=_0x353664();[_0x3d1090(0x623)];[_0x3d1090(0x53e)]=new Map();[_0x3d1090(0x2e3)]=new Map();['retryQueues']=new Map();constructor(_0x63562f,_0x25ec08,_0x35047f){const _0x5a3b6c=_0x3d1090;this['localId']=_0x63562f,this[_0x5a3b6c(0x6ad)]=_0x25ec08,this[_0x5a3b6c(0x8bb)]=_0x35047f,this[_0x5a3b6c(0x623)]=this[_0x5a3b6c(0xa76)](_0x453439=>{const _0x18bb37=_0x5a3b6c;this[_0x18bb37(0x6ad)][_0x18bb37(0x61e)](_0x453439[_0x18bb37(0x29b)])||(_0x139d41(_0x453439,this[_0x18bb37(0x327)])&&0x0!==_0x453439[_0x18bb37(0x230)]&&(this[_0x18bb37(0x6ad)][_0x18bb37(0x9e2)](_0x453439['uuid']),this[_0x18bb37(0x53e)]['get'](_0x453439[_0x18bb37(0x230)])?.[_0x18bb37(0x681)](_0x453439)),_0x453439[_0x18bb37(0xa50)]&&this[_0x18bb37(0x908)](_0x453439));});}[_0x3d1090(0x8d5)](){this['messageUnsubscriber']?.();}[_0x3d1090(0x7d9)](_0x477d78){const _0x2f99ba=_0x3d1090,_0xb3f170=_0x477d78['onMessage'](_0x2f0ba6=>{const _0x14cd32=a0_0x50c4;this['messageListeners'][_0x14cd32(0x681)](_0x2f0ba6);});this['connections'][_0x2f99ba(0x6f0)](_0x477d78,_0xb3f170),this[_0x2f99ba(0x1d3)]['set'](_0x477d78[_0x2f99ba(0x9d0)](),function(_0x55e3d2,_0x670fc0=!0x1){let _0x129c5f=new Map();const _0x3c714c=_0x13f924(_0x55e3d2,_0x670fc0,function(_0x314e6d){const _0xc6fab4=a0_0x50c4;_0x5148a6(_0x314e6d)&&_0x129c5f['delete'](_0x314e6d[_0xc6fab4(0x590)]+'-'+(_0x314e6d[_0xc6fab4(0x39b)]??[])+'-'+_0x314e6d[_0xc6fab4(0x3b0)]+'-'+_0x314e6d[_0xc6fab4(0x1d7)]['type']);},function(_0x322291){return!!function(_0x5b5a2b){const _0x1651ba=a0_0x50c4,_0x51c88a=_0x5b5a2b['value'];if(!_0x5148a6(_0x51c88a))return!0x1;const _0x28489c=_0x51c88a[_0x1651ba(0x590)]+'-'+(_0x51c88a['destinationIds']??[])+'-'+_0x51c88a[_0x1651ba(0x3b0)]+'-'+_0x51c88a[_0x1651ba(0x1d7)]['type'],_0x32b1d2={'version':_0x51c88a[_0x1651ba(0x1d7)][_0x1651ba(0x4f5)],'element':_0x5b5a2b},_0x1195ef=_0x129c5f['get'](_0x28489c);return _0x1195ef?(_0x1195ef[_0x1651ba(0x4f5)]>=_0x51c88a[_0x1651ba(0x1d7)][_0x1651ba(0x4f5)]||(_0x1195ef['element'][_0x1651ba(0x501)]&&(_0x1195ef['element'][_0x1651ba(0x501)][_0x1651ba(0xa91)]=_0x5b5a2b,_0x5b5a2b[_0x1651ba(0x501)]=_0x1195ef[_0x1651ba(0x8e0)][_0x1651ba(0x501)]),_0x1195ef[_0x1651ba(0x8e0)][_0x1651ba(0xa91)]&&(_0x1195ef[_0x1651ba(0x8e0)][_0x1651ba(0xa91)][_0x1651ba(0x501)]=_0x5b5a2b,_0x5b5a2b['next']=_0x1195ef[_0x1651ba(0x8e0)]['next']),_0x1195ef[_0x1651ba(0x8e0)]===_0x3c714c[_0x1651ba(0x94a)]&&(_0x3c714c[_0x1651ba(0x94a)]=_0x5b5a2b),_0x1195ef[_0x1651ba(0x8e0)]===_0x3c714c[_0x1651ba(0x749)]&&(_0x3c714c[_0x1651ba(0x749)]=_0x5b5a2b),_0x129c5f['set'](_0x28489c,_0x32b1d2)),!0x0):(_0x129c5f['set'](_0x28489c,_0x32b1d2),!0x1);}(_0x322291);},function(){_0x129c5f['clear']();});function _0x5148a6(_0x4f7500){const _0x4dc6a8=a0_0x50c4;if(_0x4f7500&&_0x4dc6a8(0x55b)==typeof _0x4f7500&&_0x4f7500[_0x4dc6a8(0x695)](_0x4dc6a8(0x1d7))&&_0x4f7500[_0x4dc6a8(0x695)](_0x4dc6a8(0x3b0))&&_0x4f7500[_0x4dc6a8(0x695)](_0x4dc6a8(0x590))){const _0x3df025=_0x4f7500;if(_0x3df025[_0x4dc6a8(0x1d7)]&&_0x4dc6a8(0x55b)==typeof _0x3df025[_0x4dc6a8(0x1d7)]&&_0x3df025['content']['hasOwnProperty']('version')&&_0x3df025[_0x4dc6a8(0x1d7)][_0x4dc6a8(0x695)]('type'))return!0x0;}return!0x1;}return _0x3c714c;}(new _0x29a46b(_0x5eebd3=>_0x477d78[_0x2f99ba(0x908)](_0x5eebd3),()=>_0x5aa24a[_0x2f99ba(0x228)](0x64))));}[_0x3d1090(0x5b0)](_0x491a6a){const _0x1c4720=_0x3d1090;this[_0x1c4720(0x535)][_0x1c4720(0x252)](_0x491a6a)?.(),this[_0x1c4720(0x535)][_0x1c4720(0x54a)](_0x491a6a),this[_0x1c4720(0x1d3)][_0x1c4720(0x252)](_0x491a6a['getRemoteId']())?.[_0x1c4720(0x97a)](),this['retryQueues'][_0x1c4720(0x54a)](_0x491a6a[_0x1c4720(0x9d0)]());}[_0x3d1090(0x9ef)](_0x4b4f5b){const _0x5a0ab8=_0x3d1090;return _0x3dc4e5[_0x5a0ab8(0x546)](_0x5a543d[_0x5a0ab8(0x9db)],_0x5a0ab8(0x7d4),this[_0x5a0ab8(0x327)],this[_0x5a0ab8(0x535)]['keys']()),0x0!==this['connections'][_0x5a0ab8(0x8e5)]&&(Array[_0x5a0ab8(0x2bc)](this[_0x5a0ab8(0x535)][_0x5a0ab8(0x912)]())[_0x5a0ab8(0x447)](_0x2b8a6b=>_0x2b8a6b[_0x5a0ab8(0x9d0)]()===_0x4b4f5b)?.[_0x5a0ab8(0x9ef)]()??!0x1);}['registerPublisher'](_0x4d907e){const _0x353004=_0x3d1090;this[_0x353004(0x53e)][_0x353004(0x6f0)](_0x4d907e[_0x353004(0xa01)](),_0x4d907e);}[_0x3d1090(0x2be)](_0x1df0fb){const _0x5e17bb=_0x3d1090;this['dataTopics']['delete'](_0x1df0fb[_0x5e17bb(0xa01)]());}[_0x3d1090(0x208)](_0x2ab0b4){const _0x22e6d8=_0x3d1090,_0x4d8b53=_0x2ab0b4[_0x22e6d8(0x81b)](this['send']['bind'](this));this['dataUnsubscribers'][_0x22e6d8(0x6f0)](_0x2ab0b4[_0x22e6d8(0xa01)](),_0x4d8b53);}[_0x3d1090(0x669)](_0x3fb2a0){const _0x4f8ff2=_0x3d1090;this[_0x4f8ff2(0x2e3)][_0x4f8ff2(0x252)](_0x3fb2a0['getLabel']())?.(),this[_0x4f8ff2(0x2e3)][_0x4f8ff2(0x54a)](_0x3fb2a0['getLabel']());}[_0x3d1090(0x4c7)](){const _0xbe300d=_0x3d1090;return[_0x25b155[_0xbe300d(0x2ce)][_0xbe300d(0x624)],_0x25b155['ContentType']['PubSub'],_0x25b155[_0xbe300d(0x2ce)][_0xbe300d(0x287)],_0x25b155['ContentType'][_0xbe300d(0x970)],_0x25b155[_0xbe300d(0x2ce)][_0xbe300d(0x673)],_0x25b155['ContentType'][_0xbe300d(0x191)],_0x25b155[_0xbe300d(0x2ce)][_0xbe300d(0x77b)],_0x25b155[_0xbe300d(0x2ce)][_0xbe300d(0x1d5)]];}[_0x3d1090(0x908)](_0x3dad8f){const _0x14ed35=_0x3d1090;if(!0x1===_0x3dad8f[_0x14ed35(0x7e4)]){if(_0x3dad8f[_0x14ed35(0xa50)]||!_0x3dad8f[_0x14ed35(0x39b)]||0x1!==_0x3dad8f[_0x14ed35(0x39b)][_0x14ed35(0x73c)])throw new _0x1b9d16(_0x1b9d16[_0x14ed35(0x276)][_0x14ed35(0x514)],{'message':'CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','localId':this['localId']});if(!this[_0x14ed35(0x9ef)](_0x3dad8f[_0x14ed35(0x39b)][0x0]))throw new _0x331e4d('Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false');}const _0x1348f9=_0x3dad8f[_0x14ed35(0x62a)]??[];try{const {filteredDestinationIds:_0x1f1c3c,extendedRecipients:_0x1c5d63}=this[_0x14ed35(0x43d)](_0x3dad8f,_0x1348f9);_0x3dad8f[_0x14ed35(0x39b)]=_0x1f1c3c,_0x3dad8f[_0x14ed35(0x62a)]=_0x1c5d63;}catch(_0x12248c){if(_0x12248c instanceof _0x331e4d)return void _0x3dc4e5['log'](_0x5a543d[_0x14ed35(0x4d6)],_0x14ed35(0x24b),'Early\x20return',_0x3dad8f,_0x12248c[_0x14ed35(0x6d7)]);}const _0x200ad8=this[_0x14ed35(0x38a)](_0x3dad8f);this[_0x14ed35(0x50d)](_0x3dad8f,_0x200ad8),_0x3dad8f[_0x14ed35(0xa50)]=_0x200ad8;const _0x49e4a1=this[_0x14ed35(0x9be)](_0x3dad8f,_0x1348f9);for(const _0x175b9f of _0x49e4a1){const _0x147d15=this['retryQueues']['get'](_0x175b9f[_0x14ed35(0x9d0)]());if(!_0x147d15)throw new _0x1b9d16(_0x1b9d16[_0x14ed35(0x276)][_0x14ed35(0x375)],{'message':_0x14ed35(0x86d),'localId':this['localId'],'remoteId':_0x175b9f[_0x14ed35(0x9d0)](),'data':_0x3dad8f});_0x147d15[_0x14ed35(0xa93)](_0x3dad8f);}}[_0x3d1090(0x9d0)](){return'';}[_0x3d1090(0x8b2)](){const _0x5ef8bf=_0x3d1090;return this[_0x5ef8bf(0x327)];}[_0x3d1090(0xa76)](_0xb4652e){const _0x494e00=_0x3d1090;return this[_0x494e00(0x398)][_0x494e00(0x81b)](_0xb4652e);}['updatePropagationProperties'](_0x3db843,_0x4b0c43){const _0x514f26=_0x3d1090,_0x389537={'filteredDestinationIds':_0x3db843[_0x514f26(0x39b)],'extendedRecipients':_0x3db843[_0x514f26(0x62a)]};if(!_0x3db843[_0x514f26(0xa50)])return _0x389537;const _0x4a6a7b=Array['from'](this[_0x514f26(0x535)]['keys']())[_0x514f26(0x25d)](_0x1a5325=>_0x1a5325[_0x514f26(0x2ac)]()===_0x12fb75[_0x514f26(0x4f1)]||_0x1a5325['isConnected']())[_0x514f26(0x855)](_0x5ecbd7=>_0x5ecbd7[_0x514f26(0x9d0)]());if(_0x4a6a7b['reduce']((_0x568773,_0xa1250f)=>_0x568773&&_0x3db843[_0x514f26(0x62a)]['includes'](_0xa1250f),!0x0))throw new _0x331e4d('All\x20recipients\x20already\x20received');if(_0x3db843[_0x514f26(0x39b)]){const _0x5a5baf=_0x3db843[_0x514f26(0x39b)][_0x514f26(0x25d)](_0x2666ba=>_0x2666ba!==this[_0x514f26(0x327)]&&!_0x3db843[_0x514f26(0x62a)]['includes'](_0x2666ba));if(0x0===_0x5a5baf[_0x514f26(0x73c)])throw new _0x331e4d('No\x20destinationIds\x20left');_0x389537[_0x514f26(0x3de)]=_0x5a5baf;}return _0x389537[_0x514f26(0x744)]=[...new Set([..._0x4b0c43,..._0x4a6a7b,this[_0x514f26(0x327)]])],_0x389537;}[_0x3d1090(0x50d)](_0x5698b0,_0x23568d=!0x1){const _0xf263f3=_0x3d1090;if(0x0===_0x5698b0[_0xf263f3(0x230)]&&!_0x1913cb(_0x5698b0,this['localId'])&&_0x5698b0[_0xf263f3(0xa50)]){const _0x269b4f=_0x167b75(_0x5698b0,this[_0xf263f3(0x327)]);_0x3dc4e5[_0xf263f3(0x753)](_0x5a543d[_0xf263f3(0x472)],_0x5698b0[_0xf263f3(0x29b)]+'\x20-\x20Sending\x20propagation\x20('+_0x23568d+')\x20'+_0x269b4f,_0x5698b0,_0x23568d);}}['shouldContinuePropagation'](_0x342700){const _0xfc8c40=_0x3d1090;if(_0x342700['destinationIds']&&_0x342700[_0xfc8c40(0xa50)]){const _0x31d3cd=Array[_0xfc8c40(0x2bc)](this[_0xfc8c40(0x535)][_0xfc8c40(0x912)]())[_0xfc8c40(0x25d)](_0x287453=>_0x287453[_0xfc8c40(0x2ac)]()===_0x12fb75[_0xfc8c40(0x4f1)]||_0x287453[_0xfc8c40(0x9ef)]())[_0xfc8c40(0x855)](_0x2a3dae=>_0x2a3dae['getRemoteId']());return!_0x342700[_0xfc8c40(0x39b)][_0xfc8c40(0x8f1)]((_0xe2981,_0xb0adfb)=>_0xe2981&&_0x31d3cd['includes'](_0xb0adfb),!0x0);}return _0x342700[_0xfc8c40(0xa50)]??!0x1;}['getConnectionDestinations'](_0x575741,_0x5bd99b){const _0x1ddc84=_0x3d1090;if(_0x575741[_0x1ddc84(0xa50)]&&_0x575741['destinationIds']){const _0x2be0d1=Array[_0x1ddc84(0x2bc)](this['connections']['keys']())[_0x1ddc84(0x25d)](_0x4a4648=>_0x4a4648[_0x1ddc84(0x2ac)]()===_0x12fb75[_0x1ddc84(0x4f1)]||_0x4a4648[_0x1ddc84(0x9ef)]())[_0x1ddc84(0x855)](_0x17b259=>_0x17b259[_0x1ddc84(0x9d0)]()),_0xe6bc90=new Set(),_0x1dcfb4=_0x575741['sourceId']===this[_0x1ddc84(0x327)]?0x3:0x1;return _0x575741[_0x1ddc84(0x39b)]['forEach'](_0x281c60=>{const _0x2ee4c2=_0x1ddc84,_0x2273b8=this[_0x2ee4c2(0x8bb)]['getClosestNodes'](_0x2be0d1,_0x281c60);let _0x107a5c=0x0,_0x5dda8c=0x0;_0x2273b8[_0x2ee4c2(0x7ff)](_0x57defc=>{const _0x1a361a=_0x2ee4c2;if(_0x107a5c>=_0x1dcfb4)return;const _0x4565ea=Array[_0x1a361a(0x2bc)](this[_0x1a361a(0x535)]['keys']())[_0x1a361a(0x447)](_0xdb8ded=>_0xdb8ded['getRemoteId']()===_0x57defc);if(_0x4565ea){if(_0x4565ea[_0x1a361a(0x2ac)]()===_0x12fb75[_0x1a361a(0x4f1)]&&_0x5dda8c>0x0)return void(_0x5dda8c-=0x1);_0xe6bc90[_0x1a361a(0x691)](_0x4565ea),_0x4565ea['getConnectionType']()===_0x12fb75[_0x1a361a(0x5f2)]&&(_0x5dda8c+=0x1),_0x107a5c+=0x1;}});}),Array[_0x1ddc84(0x2bc)](_0xe6bc90);}return Array[_0x1ddc84(0x2bc)](this[_0x1ddc84(0x535)][_0x1ddc84(0x912)]())[_0x1ddc84(0x25d)](_0x3bda9c=>{const _0x681ef0=_0x1ddc84;return _0x2ef222=_0x3bda9c[_0x681ef0(0x9d0)](),!_0x5bd99b[_0x681ef0(0x1e2)](_0x2ef222)&&(_0x139d41(_0x575741,_0x2ef222)||_0x575741[_0x681ef0(0xa50)])&&(!_0x575741[_0x681ef0(0xa50)]||_0x3bda9c['isConnected']()||_0x3bda9c['getConnectionType']()===_0x12fb75[_0x681ef0(0x4f1)]);var _0x2ef222;});}}class _0x2e8727{['localId'];[_0x3d1090(0x6ad)];[_0x3d1090(0x535)]=new Map();['systemTopic'];constructor(_0x381c1d,_0x541c78){const _0x5cd2b2=_0x3d1090;this['localId']=_0x381c1d,this[_0x5cd2b2(0x6ad)]=_0x541c78;}[_0x3d1090(0x8d5)](){}['send'](_0x572148){const _0xaf1773=_0x3d1090;for(const _0x290f97 of this['connections']['keys']())try{return void _0x290f97[_0xaf1773(0x908)]({'retry':!0x1,..._0x572148});}catch(_0xccb3b8){_0xccb3b8 instanceof _0x331e4d||_0x3dc4e5['log'](_0x5a543d[_0xaf1773(0x9a6)],'send\x20error\x20on\x20'+_0x290f97,_0xccb3b8,_0x572148);}_0x3dc4e5[_0xaf1773(0x546)](_0x5a543d['Pool'],_0xaf1773(0x1b0));}[_0x3d1090(0x7d9)](_0x13d249){const _0xa229e3=_0x3d1090,_0x36bef5=_0x13d249[_0xa229e3(0xa76)](_0x9d561c=>{const _0x327b59=_0xa229e3;this['messageBuffer']['hasMessage'](_0x9d561c[_0x327b59(0x29b)])||0x0===_0x9d561c[_0x327b59(0x230)]&&(this[_0x327b59(0x6ad)][_0x327b59(0x9e2)](_0x9d561c[_0x327b59(0x29b)]),_0x139d41(_0x9d561c,this[_0x327b59(0x327)])&&this[_0x327b59(0x613)]?.[_0x327b59(0x681)](_0x9d561c));});this[_0xa229e3(0x535)][_0xa229e3(0x6f0)](_0x13d249,_0x36bef5);}[_0x3d1090(0x5b0)](_0x11e6bb){const _0xe947b4=_0x3d1090;this[_0xe947b4(0x535)][_0xe947b4(0x252)](_0x11e6bb)?.(),this['connections'][_0xe947b4(0x54a)](_0x11e6bb);}[_0x3d1090(0x8b2)](){const _0x50c5d2=_0x3d1090;return this[_0x50c5d2(0x327)];}[_0x3d1090(0x9d0)](){return'';}[_0x3d1090(0x4c7)](){const _0x1229cf=_0x3d1090;return[_0x25b155[_0x1229cf(0x2ce)][_0x1229cf(0x624)]];}[_0x3d1090(0x9ef)](){throw new Error('Method\x20not\x20implemented.');}['registerSystemPublisher'](_0x17f7ce){const _0x4be2c3=_0x3d1090;this[_0x4be2c3(0x613)]=_0x17f7ce;}[_0x3d1090(0x7b7)](){const _0x24eaf3=_0x3d1090;delete this[_0x24eaf3(0x613)];}}class _0x11fcae{[_0x3d1090(0x485)]=new Map();[_0x3d1090(0x8cb)];constructor(){const _0x5dbb09=_0x3d1090;this[_0x5dbb09(0x8cb)]=_0x5aa24a[_0x5dbb09(0x8e2)](()=>{const _0x24027b=_0x5dbb09;for(const [_0x1e5c31,_0x570f96]of this['buffer'][_0x24027b(0x6c2)]())Date['now']()-_0x570f96>0x124f80&&this['buffer'][_0x24027b(0x54a)](_0x1e5c31);},0x1d4c0);}['close'](){const _0x4386a8=_0x3d1090;this[_0x4386a8(0x8cb)]();}[_0x3d1090(0x9e2)](_0x2f3f6b){const _0x1febea=_0x3d1090;this[_0x1febea(0x485)]['set'](_0x2f3f6b,Date[_0x1febea(0x267)]());}[_0x3d1090(0x61e)](_0x597e4e){const _0x28d7cf=_0x3d1090;return this['buffer'][_0x28d7cf(0x1ac)](_0x597e4e);}}class _0x400d00{[_0x3d1090(0x9e8)];[_0x3d1090(0xaab)];[_0x3d1090(0x261)];[_0x3d1090(0x6d5)];[_0x3d1090(0x535)]=new Map();[_0x3d1090(0x4f2)];[_0x3d1090(0x963)];[_0x3d1090(0x8b3)];['messageBuffer'];constructor(_0x4fccd5,_0x1cfbc0,_0xc37a83,_0x28b982,_0x2bea3b){const _0x46f994=_0x3d1090;this[_0x46f994(0x9e8)]=_0x4fccd5,this[_0x46f994(0xaab)]=_0x1cfbc0,this[_0x46f994(0x261)]=_0x28b982,this[_0x46f994(0x6d5)]=_0x2bea3b,this[_0x46f994(0x6ad)]=new _0x11fcae(),this['connectionGroup']=new _0x3483bd(this[_0x46f994(0x9e8)][_0x46f994(0x5d3)]['getId'](),this[_0x46f994(0x6ad)],_0xc37a83),this[_0x46f994(0x8b3)]=new _0x1bbf88(this[_0x46f994(0x9e8)][_0x46f994(0x43c)],this[_0x46f994(0x9e8)][_0x46f994(0xa3c)],this[_0x46f994(0x9e8)][_0x46f994(0x5d3)],'server',this[_0x46f994(0xaab)]),this[_0x46f994(0x4f2)]=new _0x2e8727(this[_0x46f994(0x9e8)][_0x46f994(0x5d3)][_0x46f994(0x79a)](),this[_0x46f994(0x6ad)]),this[_0x46f994(0x4f2)][_0x46f994(0x7d9)](this[_0x46f994(0x963)]),this[_0x46f994(0x4f2)]['addConnection'](this['signalingServer']),this['configs'][_0x46f994(0x93d)][_0x46f994(0x66d)](this[_0x46f994(0x4f2)]);}[_0x3d1090(0x8d5)](){const _0x5dbd16=_0x3d1090;this[_0x5dbd16(0x6ad)]['close'](),this[_0x5dbd16(0x535)]['forEach']((_0x3c712e,_0x3c4058)=>this['closeConnection'](_0x3c4058)),this['configs'][_0x5dbd16(0x93d)][_0x5dbd16(0x5ad)](this['connectionPool']),this[_0x5dbd16(0x4f2)][_0x5dbd16(0x5b0)](this[_0x5dbd16(0x8b3)]),this[_0x5dbd16(0x4f2)][_0x5dbd16(0x5b0)](this['connectionGroup']),this['connectionPool'][_0x5dbd16(0x8d5)](),this['signalingServer']['close'](),this[_0x5dbd16(0x963)][_0x5dbd16(0x8d5)]();}async[_0x3d1090(0x9c4)](){const _0x4c751b=_0x3d1090;await this[_0x4c751b(0x8b3)][_0x4c751b(0x977)]();}async[_0x3d1090(0x30b)](_0x456b81,_0xf7163d=_0x12fb75['Core']){const _0x1d48c3=_0x3d1090;if(this['connections'][_0x1d48c3(0x1ac)](_0x456b81)){if(this[_0x1d48c3(0x535)][_0x1d48c3(0x252)](_0x456b81)?.['getConnectionType']()===_0x12fb75[_0x1d48c3(0x5f2)]&&_0xf7163d===_0x12fb75[_0x1d48c3(0x4f1)])return void this[_0x1d48c3(0x535)][_0x1d48c3(0x252)](_0x456b81)?.[_0x1d48c3(0x46d)](_0x12fb75[_0x1d48c3(0x4f1)]);throw new _0x1b9d16(_0x1b9d16[_0x1d48c3(0x276)][_0x1d48c3(0x92c)],{'localId':this[_0x1d48c3(0x9e8)][_0x1d48c3(0x5d3)]['getId'](),'remoteId':_0x456b81});}const _0x4b4bda=new _0x48b4bc(this['configs'][_0x1d48c3(0xa3c)],this[_0x1d48c3(0x9e8)][_0x1d48c3(0x5d3)],_0x456b81,this[_0x1d48c3(0x261)],_0xf7163d,this['options'][_0x1d48c3(0x273)],this[_0x1d48c3(0x6d5)][_0x1d48c3(0x31c)],this[_0x1d48c3(0x6d5)][_0x1d48c3(0x4a1)]);this['connections'][_0x1d48c3(0x6f0)](_0x456b81,_0x4b4bda),this['connectionGroup'][_0x1d48c3(0x7d9)](_0x4b4bda),this[_0x1d48c3(0x9e8)]['mediator'][_0x1d48c3(0x66d)](_0x4b4bda),this[_0x1d48c3(0x9e8)][_0x1d48c3(0x93d)][_0x1d48c3(0x4f9)](_0x456b81),await _0x4b4bda[_0x1d48c3(0x977)]();}[_0x3d1090(0x717)](){const _0x5efc56=_0x3d1090;return this[_0x5efc56(0x963)];}[_0x3d1090(0x461)](_0x233a7c){const _0xa72a7=_0x3d1090;if(!this['connections'][_0xa72a7(0x1ac)](_0x233a7c))throw new _0x1b9d16(_0x1b9d16[_0xa72a7(0x276)][_0xa72a7(0x7f1)],{'localId':this[_0xa72a7(0x9e8)][_0xa72a7(0x5d3)][_0xa72a7(0x79a)](),'remoteId':_0x233a7c});return this[_0xa72a7(0x535)][_0xa72a7(0x252)](_0x233a7c);}['getConnections'](_0x317475){const _0x486ed8=_0x3d1090,_0x5a3d44=Array[_0x486ed8(0x2bc)](this['connections'][_0x486ed8(0x6a5)]());return _0x317475?_0x5a3d44[_0x486ed8(0x25d)](_0x317475):_0x5a3d44;}async[_0x3d1090(0x323)](_0x2d1622){const _0x22cffd=_0x3d1090,_0x35317c=this[_0x22cffd(0x535)][_0x22cffd(0x252)](_0x2d1622);_0x35317c&&_0x35317c['isConnected']()&&await _0x35317c[_0x22cffd(0x323)]();}[_0x3d1090(0x87d)](_0x3af610){const _0x64e4cd=_0x3d1090;if(_0x3af610[_0x64e4cd(0x3b0)]!==_0x17c3e2[_0x64e4cd(0x4aa)]||_0x3af610['propagate'])try{this[_0x64e4cd(0x963)][_0x64e4cd(0x908)](_0x3af610);}catch(_0xd85395){if(_0xd85395 instanceof _0x331e4d)return;throw _0xd85395;}else this['connectionPool'][_0x64e4cd(0x908)](_0x3af610);}async[_0x3d1090(0x233)](_0x1af3ee){const _0x60a5a3=_0x3d1090;switch(_0x1af3ee[_0x60a5a3(0x1d7)][_0x60a5a3(0x88c)]){case _0x465160[_0x60a5a3(0x1c9)]:case _0x465160[_0x60a5a3(0xa7a)]:case _0x465160[_0x60a5a3(0x9e4)]:return;}if(!_0x1af3ee['destinationIds']||0x1!==_0x1af3ee[_0x60a5a3(0x39b)]['length'])throw new _0x1b9d16(_0x1b9d16['codes']['PeerConnectionInvalidDestination'],{'message':_0x60a5a3(0xa0b),'event':_0x1af3ee});if(_0x1af3ee[_0x60a5a3(0x39b)][0x0]!==this[_0x60a5a3(0x9e8)][_0x60a5a3(0x5d3)][_0x60a5a3(0x79a)]())throw new _0x1b9d16(_0x1b9d16[_0x60a5a3(0x276)][_0x60a5a3(0x1b4)],{'message':'Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','event':_0x1af3ee});if(!this[_0x60a5a3(0x535)][_0x60a5a3(0x1ac)](_0x1af3ee[_0x60a5a3(0x590)])){let _0x24856b=_0x12fb75[_0x60a5a3(0x4f1)];if(!(this[_0x60a5a3(0x697)](_0x1af3ee[_0x60a5a3(0x1d7)])||this[_0x60a5a3(0x850)](_0x1af3ee[_0x60a5a3(0x1d7)])||this[_0x60a5a3(0x941)](_0x1af3ee[_0x60a5a3(0x1d7)])))return;_0x24856b=_0x1af3ee[_0x60a5a3(0x1d7)][_0x60a5a3(0x998)],await this[_0x60a5a3(0x30b)](_0x1af3ee['sourceId'],_0x24856b);}const _0xc18ba3=this[_0x60a5a3(0x535)][_0x60a5a3(0x252)](_0x1af3ee[_0x60a5a3(0x590)]);await _0xc18ba3[_0x60a5a3(0x233)](_0x1af3ee);}[_0x3d1090(0x82c)](_0x3aec3e){const _0x6d4648=_0x3d1090;if(_0x3aec3e[_0x6d4648(0x1d7)][_0x6d4648(0x88c)]===_0x4ca264[_0x6d4648(0x760)]){if(_0x3aec3e[_0x6d4648(0x1d7)][_0x6d4648(0x945)]===this[_0x6d4648(0x9e8)][_0x6d4648(0x5d3)][_0x6d4648(0x79a)]())return void this[_0x6d4648(0x535)]['forEach'](_0x473cf8=>_0x473cf8['handleRemediationSystemEvents'](_0x3aec3e));this[_0x6d4648(0x535)]['get'](_0x3aec3e[_0x6d4648(0x1d7)][_0x6d4648(0x945)])?.[_0x6d4648(0x82c)](_0x3aec3e);}}[_0x3d1090(0x328)]({content:_0x18d99b}){const _0x4e5f9c=_0x3d1090;_0x18d99b[_0x4e5f9c(0x88c)]===_0x1a2879[_0x4e5f9c(0x8cc)]&&this[_0x4e5f9c(0x878)](_0x18d99b['id']);}['waitForArrayBufferSize'](){const _0x31d143=_0x3d1090,_0x5a2091=Array[_0x31d143(0x2bc)](this[_0x31d143(0x535)][_0x31d143(0x6a5)]())[_0x31d143(0x8f1)]((_0x4d4915,_0x32aace)=>_0x4d4915+_0x32aace[_0x31d143(0xa3a)](),0x0);return _0x5a2091<_0x26b7f8?Promise[_0x31d143(0x7df)](_0x5a2091):new Promise(_0x39045c=>{const _0x19e06c=setInterval(()=>{const _0x27e946=a0_0x50c4,_0x31d863=Array['from'](this[_0x27e946(0x535)][_0x27e946(0x6a5)]())[_0x27e946(0x8f1)]((_0x18c364,_0x43ae2b)=>_0x18c364+_0x43ae2b[_0x27e946(0xa3a)](),0x0);_0x31d863<_0x26b7f8&&(clearInterval(_0x19e06c),_0x39045c(_0x31d863));},0x3e8);});}[_0x3d1090(0x3cd)](){const _0x3536e9=_0x3d1090;for(const _0x210c1e of this[_0x3536e9(0x535)]['values']())if(_0x210c1e[_0x3536e9(0x325)]()>0x0||_0x210c1e[_0x3536e9(0xa3a)]()>0x0)return!0x0;return!0x1;}['closeConnection'](_0x1d9e85){const _0x419baa=_0x3d1090,_0x488116=this[_0x419baa(0x535)]['get'](_0x1d9e85);_0x488116&&(this[_0x419baa(0x9e8)][_0x419baa(0x93d)][_0x419baa(0x24a)](_0x1d9e85),this['configs'][_0x419baa(0x93d)]['unregisterSystemSource'](_0x488116),_0x488116 instanceof _0x48b4bc&&this[_0x419baa(0x963)][_0x419baa(0x5b0)](_0x488116),_0x488116['close'](),this['connections'][_0x419baa(0x54a)](_0x1d9e85));}[_0x3d1090(0x697)](_0x2012c5){return _0x2012c5['type']===_0x465160['Offer'];}[_0x3d1090(0x941)](_0x3860e1){const _0x236ff2=_0x3d1090;return _0x3860e1[_0x236ff2(0x88c)]===_0x465160['NeedRestart'];}[_0x3d1090(0x850)](_0x22b4ae){const _0x11f4fc=_0x3d1090;return _0x22b4ae[_0x11f4fc(0x88c)]===_0x465160['Handshake'];}}!function(_0x526e04){const _0x49e5fb=_0x3d1090;_0x526e04[_0x526e04[_0x49e5fb(0x731)]=0x0]=_0x49e5fb(0x731),_0x526e04[_0x526e04['UpdateMediaStream']=0x1]=_0x49e5fb(0x88b),_0x526e04[_0x526e04[_0x49e5fb(0x1cb)]=0x2]=_0x49e5fb(0x1cb),_0x526e04[_0x526e04['NeedMediaStream']=0x3]=_0x49e5fb(0x48d),_0x526e04[_0x526e04[_0x49e5fb(0x6cc)]=0x4]=_0x49e5fb(0x6cc),_0x526e04[_0x526e04[_0x49e5fb(0x390)]=0x5]='CanProvideMediaStream',_0x526e04[_0x526e04[_0x49e5fb(0x47a)]=0x6]=_0x49e5fb(0x47a),_0x526e04[_0x526e04[_0x49e5fb(0x78c)]=0x7]=_0x49e5fb(0x78c);}(_0x12f68d||(_0x12f68d={}));class _0x238d48 extends _0x38f018{[_0x3d1090(0x5d3)];[_0x3d1090(0xa3c)];['vendorId'];['connectorConstructor'];[_0x3d1090(0xa20)];[_0x3d1090(0xa6b)]=0x0;[_0x3d1090(0x995)];[_0x3d1090(0x787)]=_0x353664();['listenerUnsubscribers']=new Map();[_0x3d1090(0x911)];constructor(_0x5284e7,_0x36a10e,_0x142056,_0x40358d,_0x2d09a5){const _0x16fd53=_0x3d1090;if('string'!=typeof _0x36a10e)throw new _0x4ded08(_0x2c3351[_0x16fd53(0x26d)],_0x16fd53(0x1a3));super(_0x5284e7,_0x36a10e),this[_0x16fd53(0x5d3)]=_0x5284e7,this[_0x16fd53(0xa3c)]=_0x142056,this['vendorId']=_0x40358d,this[_0x16fd53(0x943)]=_0x2d09a5,this[_0x16fd53(0xaa9)]();}[_0x3d1090(0x1f8)](){const _0x4f62b5=_0x3d1090;this[_0x4f62b5(0x911)]?.(),this[_0x4f62b5(0x757)][_0x4f62b5(0x7ff)](_0x39deda=>_0x39deda()),clearTimeout(this[_0x4f62b5(0xa20)]),delete this[_0x4f62b5(0xa20)],super[_0x4f62b5(0x1f8)]();}[_0x3d1090(0x548)](){const _0x16dc4d=_0x3d1090;this[_0x16dc4d(0xaa9)]();}['close'](){const _0x51c230=_0x3d1090;this[_0x51c230(0x613)][_0x51c230(0x681)]({'sourceId':_0x22135a,'messageType':_0x17c3e2[_0x51c230(0x235)],'content':{'type':_0x4a88e8[_0x51c230(0x9b5)],'label':this[_0x51c230(0x7d3)]}});}['getContentType'](){return _0x25b155['ContentType']['ExternalStorage'];}async[_0x3d1090(0x252)](_0x1714c4){const _0x5d9256=_0x3d1090;if(!this[_0x5d9256(0x995)])throw new _0x4ded08(_0x2c3351['ExternalStorageConnectorsMissing'],'Cannot\x20get\x20file:\x20External\x20Storage\x20not\x20connected');_0x3dc4e5[_0x5d9256(0x340)](_0x264391[_0x5d9256(0x1d5)],{'type':_0x5d9256(0x252),'label':this[_0x5d9256(0x7d3)],'nodeId':this['localNode']['getId'](),'nodeType':this[_0x5d9256(0x5d3)][_0x5d9256(0x88c)],'clusterId':this[_0x5d9256(0xa3c)],'path':_0x1714c4}),this[_0x5d9256(0xa6b)]+=0x1,this[_0x5d9256(0xaa9)]();try{return await this[_0x5d9256(0x995)][_0x5d9256(0x252)](_0x1714c4);}catch(_0x3eaeb6){throw new _0x4ded08(_0x2c3351[_0x5d9256(0x67b)],_0x5d9256(0xa03)+_0x1714c4);}}async[_0x3d1090(0x97e)](_0x5f1933,_0x49d35d){const _0x241649=_0x3d1090;if(!this[_0x241649(0x995)])throw new _0x4ded08(_0x2c3351[_0x241649(0x932)],_0x241649(0x231));const {recursive:_0x4c152d=!0x1}=_0x49d35d??{};_0x3dc4e5[_0x241649(0x340)](_0x264391[_0x241649(0x1d5)],{'type':_0x241649(0x97e),'label':this[_0x241649(0x7d3)],'nodeId':this[_0x241649(0x5d3)]['getId'](),'nodeType':this[_0x241649(0x5d3)][_0x241649(0x88c)],'clusterId':this[_0x241649(0xa3c)],'path':_0x5f1933}),this[_0x241649(0xa6b)]+=0x1,this[_0x241649(0xaa9)]();try{return await this[_0x241649(0x995)]['list'](_0x5f1933,_0x4c152d);}catch(_0x496e13){throw new _0x4ded08(_0x2c3351['ExternalStorageInvalidPath'],_0x241649(0x7e7)+_0x5f1933);}}[_0x3d1090(0x81b)](_0x422cc3,_0x3cf1b6){const _0x5266ad=_0x3d1090;if(this[_0x5266ad(0x757)][_0x5266ad(0x1ac)](_0x422cc3))throw new _0x4ded08(_0x2c3351[_0x5266ad(0x770)],_0x5266ad(0x9fb));this[_0x5266ad(0x757)][_0x5266ad(0x6f0)](_0x422cc3,this['eventListener']['subscribe'](_0x3cf1b6));}[_0x3d1090(0x7d0)](_0x539f90){const _0x44c31d=_0x3d1090;this[_0x44c31d(0x757)][_0x44c31d(0x252)](_0x539f90)?.(),this[_0x44c31d(0x757)][_0x44c31d(0x54a)](_0x539f90);}async[_0x3d1090(0x4be)](){const _0x470201=_0x3d1090,_0xe97a3d=(await(0x0,_0x11d3a3[_0x470201(0x9c3)])((0x0,_0x11d3a3[_0x470201(0x713)])(_0x2f14fd[_0x470201(0x78d)](),_0x470201(0x32b)+this[_0x470201(0x43c)]+_0x470201(0x926)+this['label'])))['data']();if(!_0xe97a3d)throw new _0x4ded08(_0x2c3351[_0x470201(0xa3f)],_0x470201(0x667)+this[_0x470201(0x7d3)]);const {site:_0x1db67c,drive:_0x378db1}=_0xe97a3d,_0x11796b=(await(0x0,_0x4d8717['httpsCallable'])(_0x2f14fd[_0x470201(0x778)](),_0x470201(0x71d))({'storageId':this[_0x470201(0x7d3)]}))[_0x470201(0xa3d)][_0x470201(0x7bb)];this[_0x470201(0x995)]=new this[(_0x470201(0x943))](_0x1db67c['id'],_0x378db1['id'],_0x11796b,async()=>(await(0x0,_0x4d8717[_0x470201(0x21a)])(_0x2f14fd[_0x470201(0x778)](),_0x470201(0x1f4))({'storageId':this['label']}))[_0x470201(0xa3d)][_0x470201(0x7bb)]),this[_0x470201(0x484)]();}[_0x3d1090(0xaa9)](){const _0x4bab51=_0x3d1090;this[_0x4bab51(0xa20)]&&clearTimeout(this[_0x4bab51(0xa20)]),this[_0x4bab51(0xa20)]=setTimeout(async()=>{const _0x8f6ef6=_0x4bab51;delete this[_0x8f6ef6(0xa20)],this['systemTopic']['publish']({'sourceId':_0x22135a,'messageType':_0x17c3e2[_0x8f6ef6(0x235)],'content':{'type':_0x4a88e8[_0x8f6ef6(0x930)],'label':this[_0x8f6ef6(0x7d3)],'stats':{'timestamp':Date[_0x8f6ef6(0x267)](),'storage':0x0,'messagesSent':0x0,'messagesReceived':0x0,'bytesSent':0x0,'bytesReceived':0x0,'writes':0x0,'reads':this[_0x8f6ef6(0xa6b)],'prompts':0x0,'tokens':0x0}}});},_0x28192e);}async['trackChanges'](){const _0x5f587d=_0x3d1090;await this[_0x5f587d(0x995)]?.['listChanges'](),this[_0x5f587d(0x911)]=_0x5aa24a[_0x5f587d(0x8e2)](async()=>{const _0x26c41=_0x5f587d;try{if(!this['connector'])return;const _0x18b3cd=await this[_0x26c41(0x995)][_0x26c41(0x463)]();for(const _0x1efaf5 of _0x18b3cd)this['eventListener']['publish'](_0x1efaf5);}catch(_0x2421f2){}},0x493e0);}}const _0x1aed9f=require('rxjs');class _0x53979b extends _0x38f018{[_0x3d1090(0x8bb)];['jobs']=new Map();[_0x3d1090(0x82e)]=new Map();['jobBids']=new Map();[_0x3d1090(0x8cb)];constructor(_0x4b9b0f,_0x3ad29b,_0x28d7d){const _0x281be5=_0x3d1090;super(_0x4b9b0f,_0x3ad29b),this[_0x281be5(0x8bb)]=_0x28d7d;}[_0x3d1090(0x3b7)](){const _0x511d40=_0x3d1090;return _0x25b155['ContentType'][_0x511d40(0x673)];}['open'](){const _0x213284=_0x3d1090;this[_0x213284(0x8cb)]=this[_0x213284(0xa76)]((_0x10ab65,_0x19af77)=>{const _0x2cfd88=_0x213284;if(_0x3dc4e5['log'](_0x5a543d['Jobs'],_0x2cfd88(0x856),_0x10ab65,_0x19af77,this['graphService']['getRemoteNodes']()),!(_0x19af77 instanceof File)){if(!_0x19af77)throw new _0x1b9d16(_0x1b9d16[_0x2cfd88(0x276)][_0x2cfd88(0x521)]);return this[_0x2cfd88(0x4ea)](_0x19af77)?this[_0x2cfd88(0x363)](_0x10ab65,_0x19af77['id'],_0x19af77):this[_0x2cfd88(0xa95)](_0x19af77)?(_0x3dc4e5[_0x2cfd88(0x546)](_0x5a543d[_0x2cfd88(0x373)],_0x2cfd88(0x6c0)+_0x19af77['id']+'\x20received\x20partial\x20result:',_0x19af77[_0x2cfd88(0x2de)]),void this[_0x2cfd88(0x39d)](_0x19af77['id'],_0x19af77)):this['isResultResponse'](_0x19af77)?(_0x3dc4e5[_0x2cfd88(0x546)](_0x5a543d[_0x2cfd88(0x373)],_0x2cfd88(0x6c0)+_0x19af77['id']+_0x2cfd88(0x490),_0x19af77[_0x2cfd88(0x2de)]),void this['evaluateProccessedJob'](_0x19af77['id'],_0x19af77)):void(this[_0x2cfd88(0x99a)](_0x19af77)&&this[_0x2cfd88(0x844)](_0x19af77['id'],_0x19af77[_0x2cfd88(0x6d7)]));}});}[_0x3d1090(0x548)](){const _0x588ae9=_0x3d1090;this[_0x588ae9(0x97a)](),this[_0x588ae9(0x4be)]();}[_0x3d1090(0x1f8)](){const _0x35edce=_0x3d1090;this[_0x35edce(0x97a)](),super[_0x35edce(0x1f8)]();}[_0x3d1090(0x97a)](){const _0x21f96c=_0x3d1090;this[_0x21f96c(0x7fa)][_0x21f96c(0x97a)](),this['unsubscribeHandler']&&this[_0x21f96c(0x8cb)]();}[_0x3d1090(0x8d5)](){const _0x2bd431=_0x3d1090;this['systemTopic']?.[_0x2bd431(0x681)]({'sourceId':_0x22135a,'messageType':_0x17c3e2[_0x2bd431(0x235)],'content':{'type':_0x4a88e8[_0x2bd431(0x819)],'label':this[_0x2bd431(0x7d3)]}});}async[_0x3d1090(0x90f)](_0x5c62e9){const _0x2e9c99=_0x3d1090,{id:_0x497bbf,parameters:_0x330c56,jobType:_0x3cd43b}=_0x5c62e9,_0x1f7e70={'id':_0x497bbf,'jobType':_0x3cd43b,'parameters':_0x330c56,'status':_0x25b155['JobStatus'][_0x2e9c99(0xa83)],'created':new Date(),'updated':new Date()};if(this[_0x2e9c99(0x7fa)][_0x2e9c99(0x1ac)](_0x1f7e70['id']))throw new _0x4ded08(_0x2c3351[_0x2e9c99(0x800)],_0x2e9c99(0x763)+_0x1f7e70['id']+_0x2e9c99(0x3e2));_0x1f7e70[_0x2e9c99(0x8c2)]=new Date(),_0x1f7e70[_0x2e9c99(0x6d2)]=new Date();const _0x14a152=new _0x1aed9f[(_0x2e9c99(0x91d))]();this[_0x2e9c99(0x7fa)]['set'](_0x1f7e70['id'],_0x1f7e70),this[_0x2e9c99(0x82e)][_0x2e9c99(0x6f0)](_0x1f7e70['id'],_0x14a152);try{const _0x3eeb62={'id':_0x1f7e70['id'],'jobPhase':_0x5e252a[_0x2e9c99(0x857)],'jobType':_0x1f7e70[_0x2e9c99(0x95d)]},_0x52e9d1=0x3;let _0x280ced=0x0;const _0x5bfcd6=async()=>{const _0x5a6da7=_0x2e9c99;_0x280ced+=0x1;try{_0x3dc4e5[_0x5a6da7(0x546)](_0x5a543d[_0x5a6da7(0x373)],_0x5a6da7(0x6c0)+_0x1f7e70['id']+_0x5a6da7(0x452)+_0x280ced+'.',this[_0x5a6da7(0x8bb)][_0x5a6da7(0x559)]()),await this['send'](_0x3eeb62),_0x1f7e70[_0x5a6da7(0x6d2)]=new Date(),this[_0x5a6da7(0x7fa)][_0x5a6da7(0x6f0)](_0x1f7e70['id'],_0x1f7e70),this['startBidResponseHandling'](_0x1f7e70['id']);}catch(_0x17deb7){_0x280ced<_0x52e9d1?(_0x3dc4e5[_0x5a6da7(0x236)](_0x5a6da7(0x516)+_0x280ced+'\x20to\x20send\x20dispatcherJob\x20'+_0x1f7e70['id']+_0x5a6da7(0x710),{'nodeId':this['owner'][_0x5a6da7(0x79a)](),'nodeType':this[_0x5a6da7(0x620)][_0x5a6da7(0x88c)],'data':{'job':_0x1f7e70,'attempts':_0x280ced,'maxRetries':_0x52e9d1}}),setTimeout(_0x5bfcd6,0x3e8)):(_0x1f7e70[_0x5a6da7(0x479)]=_0x25b155['JobStatus']['Failed'],_0x1f7e70[_0x5a6da7(0x6d2)]=new Date(),this[_0x5a6da7(0x7fa)][_0x5a6da7(0x6f0)](_0x1f7e70['id'],_0x1f7e70),_0x3dc4e5[_0x5a6da7(0x58c)](_0x5a6da7(0xa07)+_0x1f7e70['id']+_0x5a6da7(0x1af)+_0x52e9d1+_0x5a6da7(0x7cf),{'nodeId':this['owner'][_0x5a6da7(0x79a)](),'nodeType':this['owner']['type'],'data':{'job':_0x1f7e70,'attempts':_0x280ced,'maxRetries':_0x52e9d1,'error':_0x17deb7}}));}};_0x5bfcd6();const {id:_0x34fc92}=_0x1f7e70;this[_0x2e9c99(0x369)](_0x2e9c99(0x6c0)+_0x1f7e70['id']+_0x2e9c99(0x3ec),{'jobId':_0x34fc92}),_0x1f7e70[_0x2e9c99(0x6d2)]=new Date();}catch(_0x41cfa6){_0x1f7e70[_0x2e9c99(0x479)]=_0x25b155['JobStatus']['Failed'],_0x3dc4e5[_0x2e9c99(0x58c)](_0x2e9c99(0xa07)+_0x1f7e70['id']+':',{'nodeId':this[_0x2e9c99(0x620)]['getId'](),'nodeType':this[_0x2e9c99(0x620)][_0x2e9c99(0x88c)],'data':{'job':_0x1f7e70,'error':_0x41cfa6}});}return _0x14a152['asObservable']();}['getJob'](_0xa51002){const _0xe67bc5=_0x3d1090,_0x1cf623=this[_0xe67bc5(0x7fa)][_0xe67bc5(0x252)](_0xa51002);if(!_0x1cf623)throw new _0x4ded08(_0x2c3351['JobDispatcherJobNotFound'],'Job\x20with\x20id\x20'+_0xa51002+'\x20not\x20found.');return{'id':_0x1cf623['id'],'jobType':_0x1cf623['jobType'],'status':_0x1cf623['status'],'parameters':_0x1cf623[_0xe67bc5(0x7b8)]};}[_0x3d1090(0x70b)](){const _0x2c0e01=_0x3d1090;return Array[_0x2c0e01(0x2bc)](this['jobs'][_0x2c0e01(0x6a5)]())['map'](_0x158dc0=>this['getJob'](_0x158dc0['id']));}async['updateJob'](_0x921845,_0x5ea3b9){const _0x16a8e1=_0x3d1090,_0x5407f1=this['jobs'][_0x16a8e1(0x252)](_0x921845);if(!_0x5407f1)throw new _0x4ded08(_0x2c3351[_0x16a8e1(0x33b)],'Job\x20with\x20id\x20'+_0x921845+_0x16a8e1(0xa32));_0x5407f1[_0x16a8e1(0x7b8)]=_0x5ea3b9,_0x5407f1[_0x16a8e1(0x6d2)]=new Date(),this[_0x16a8e1(0x7fa)][_0x16a8e1(0x6f0)](_0x921845,_0x5407f1);}async[_0x3d1090(0x815)](_0x15b1eb){const _0x5c1daa=_0x3d1090;if(!this[_0x5c1daa(0x7fa)]['delete'](_0x15b1eb))throw new _0x4ded08(_0x2c3351[_0x5c1daa(0x33b)],_0x5c1daa(0x763)+_0x15b1eb+_0x5c1daa(0xa32));const _0x9a9686=this['jobObservers'][_0x5c1daa(0x252)](_0x15b1eb);if(!_0x9a9686)throw new _0x1b9d16(_0x1b9d16['codes'][_0x5c1daa(0x725)]);_0x9a9686['complete'](),this[_0x5c1daa(0x82e)][_0x5c1daa(0x54a)](_0x15b1eb),_0x3dc4e5['log'](_0x5a543d[_0x5c1daa(0x373)],_0x5c1daa(0x6c0)+_0x15b1eb+_0x5c1daa(0x953));}[_0x3d1090(0x363)](_0xe9b448,_0x4904ce,_0x4a7304){const _0x2734cd=_0x3d1090,_0x2678ce=this['jobBids']['get'](_0x4904ce)??new Map();_0x2678ce['set'](_0xe9b448,[_0x4a7304,Date['now']()]),this['jobBids'][_0x2734cd(0x6f0)](_0x4904ce,_0x2678ce),this[_0x2734cd(0x45c)](_0x4904ce);}['startBidResponseHandling'](_0x28b029){const _0x453986=_0x3d1090,_0x47243c=this[_0x453986(0x7fa)]['get'](_0x28b029);if(!_0x47243c)throw new _0x1b9d16(_0x1b9d16[_0x453986(0x276)][_0x453986(0x33b)]);const _0x54fbe8=setTimeout(()=>this[_0x453986(0x45c)](_0x28b029,!0x0),0xbb8);_0x47243c[_0x453986(0x368)]=_0x54fbe8,this[_0x453986(0x7fa)]['set'](_0x47243c['id'],_0x47243c);}[_0x3d1090(0x45c)](_0x126d01,_0x19816e=!0x1){const _0x5d8f32=_0x3d1090,_0x139adf=this['graphService'][_0x5d8f32(0x559)](),_0x4902d2=Array[_0x5d8f32(0x2bc)](_0x139adf[_0x5d8f32(0x6a5)]())['filter'](_0x2a5a90=>_0x2a5a90[_0x5d8f32(0x88c)]===_0x25b155['NodeType']['Agent']),_0x2e4906=this['jobBids'][_0x5d8f32(0x252)](_0x126d01)??new Map();if(!_0x19816e&&(!_0x2e4906||_0x2e4906[_0x5d8f32(0x8e5)]<_0x4902d2[_0x5d8f32(0x73c)]))return;const _0x5358cf=this[_0x5d8f32(0x7fa)][_0x5d8f32(0x252)](_0x126d01);if(!_0x5358cf)throw new _0x1b9d16(_0x1b9d16[_0x5d8f32(0x276)][_0x5d8f32(0x33b)]);if(clearTimeout(_0x5358cf[_0x5d8f32(0x368)]),_0x3dc4e5[_0x5d8f32(0x546)](_0x5a543d[_0x5d8f32(0x373)],_0x5d8f32(0x6c0)+_0x5358cf['id']+'\x20received\x20responses:',_0x2e4906,this[_0x5d8f32(0x50b)]),!_0x2e4906||0x0===_0x2e4906[_0x5d8f32(0x8e5)]){_0x5358cf[_0x5d8f32(0x479)]=_0x25b155[_0x5d8f32(0x6a8)][_0x5d8f32(0x2a0)],_0x5358cf[_0x5d8f32(0x6d2)]=new Date(),_0x3dc4e5['error'](_0x5d8f32(0x6c0)+_0x5358cf['id']+'\x20failed\x20to\x20receive\x20a\x20valid\x20bid\x20responses\x20in\x20time.',{'nodeId':this['owner'][_0x5d8f32(0x79a)](),'nodeType':this[_0x5d8f32(0x620)][_0x5d8f32(0x88c)],'data':{'job':_0x5358cf,'responses':_0x2e4906}});const _0x360af2=this[_0x5d8f32(0x82e)][_0x5d8f32(0x252)](_0x126d01);if(!_0x360af2)throw new _0x1b9d16(_0x1b9d16[_0x5d8f32(0x276)][_0x5d8f32(0x725)]);const _0x59d719=_0x5d8f32(0x2b2),_0x50868e={'id':_0x5358cf['id'],'status':_0x5358cf['status'],'message':_0x59d719};return _0x360af2[_0x5d8f32(0xa91)](_0x50868e),_0x360af2[_0x5d8f32(0x7f4)](),this[_0x5d8f32(0x7fa)][_0x5d8f32(0x6f0)](_0x5358cf['id'],_0x5358cf),void this[_0x5d8f32(0x50b)]['delete'](_0x126d01);}const {nodeId:_0x17daba,response:_0x58c02f}=this[_0x5d8f32(0x6dc)](_0x5358cf['id'],_0x2e4906);_0x5358cf['status']=_0x25b155[_0x5d8f32(0x6a8)][_0x5d8f32(0x902)],_0x5358cf[_0x5d8f32(0x6d2)]=new Date(),_0x3dc4e5[_0x5d8f32(0x546)](_0x5a543d[_0x5d8f32(0x373)],_0x5d8f32(0x6c0)+_0x5358cf['id']+'\x20attributed\x20to\x20'+_0x17daba+_0x5d8f32(0x701),_0x58c02f);const _0x19d202={'id':_0x5358cf['id'],'jobType':_0x5358cf[_0x5d8f32(0x95d)],'jobPhase':_0x5e252a[_0x5d8f32(0x4c8)],'parameters':_0x5358cf[_0x5d8f32(0x7b8)]};this[_0x5d8f32(0x908)](_0x19d202,[_0x17daba]),this[_0x5d8f32(0x7fa)][_0x5d8f32(0x6f0)](_0x5358cf['id'],_0x5358cf),this['jobBids'][_0x5d8f32(0x54a)](_0x126d01);}[_0x3d1090(0x6dc)](_0x2cdc29,_0x264937){const _0x4634ba=_0x3d1090;let _0x289039;const _0x4da38c=Array[_0x4634ba(0x2bc)](_0x264937['entries']())['filter'](([,[_0x488402]])=>_0x488402[_0x4634ba(0x9e5)]);if(_0x289039=_0x4da38c[_0x4634ba(0x73c)]>0x0?Array['from'](_0x264937[_0x4634ba(0x6c2)]())[_0x4634ba(0xa08)]((_0x449d54,_0x4e45ce)=>_0x4e45ce[0x1][0x0][_0x4634ba(0x9e0)]-_0x449d54[0x1][0x0][_0x4634ba(0x9e0)]):Array[_0x4634ba(0x2bc)](_0x264937[_0x4634ba(0x6c2)]())[_0x4634ba(0xa08)]((_0x28058c,_0x538a1f)=>_0x28058c[0x1][0x0][_0x4634ba(0x385)]-_0x538a1f[0x1][0x0]['queueLength']),0x1===_0x289039[_0x4634ba(0x73c)])return{'nodeId':_0x289039[0x0][0x0],'response':_0x289039[0x0][0x1][0x0]};let _0x8e66a2;if(_0x8e66a2=_0x4da38c['length']>0x0?(_0x4cf55f=>{const _0xb51db2=_0x4634ba,_0xa93480=_0x4cf55f[0x0][0x1][0x0][_0xb51db2(0x9e0)];return _0x4cf55f[_0xb51db2(0x25d)](([,[_0x57a800]])=>_0x57a800['bid']===_0xa93480);})(_0x289039):(_0x29b6e7=>{const _0x1aea31=_0x4634ba,_0x1f8bf9=_0x29b6e7[0x0][0x1][0x0][_0x1aea31(0x385)];return _0x29b6e7['filter'](([,[_0x4427a8]])=>_0x4427a8[_0x1aea31(0x385)]===_0x1f8bf9);})(_0x289039),0x1===_0x8e66a2[_0x4634ba(0x73c)])return{'nodeId':_0x8e66a2[0x0][0x0],'response':_0x8e66a2[0x0][0x1][0x0]};const _0x19fda6=this[_0x4634ba(0x7fa)][_0x4634ba(0x252)](_0x2cdc29);if(!_0x19fda6)throw new _0x1b9d16(_0x1b9d16['codes'][_0x4634ba(0x33b)]);const _0x118937=_0x19fda6[_0x4634ba(0x8c2)][_0x4634ba(0xa71)](),_0x35eeec=_0x8e66a2['map'](([_0x9ae1f1,[,_0x166950]])=>({'nodeId':_0x9ae1f1,'rtt':_0x166950-_0x118937})),_0x2e9828=Math['min'](..._0x35eeec[_0x4634ba(0x855)](({rtt:_0x28ae69})=>_0x28ae69)),_0x55b0d1=_0x35eeec[_0x4634ba(0x447)](({rtt:_0x492038})=>_0x492038===_0x2e9828),[,[_0x167fcc]]=_0x8e66a2['find'](([_0x53e34d])=>_0x53e34d===_0x55b0d1[_0x4634ba(0x7a3)]);return{'nodeId':_0x55b0d1[_0x4634ba(0x7a3)],'response':_0x167fcc};}[_0x3d1090(0x39d)](_0x75fd8b,_0x4f96ca){const _0x4920ee=_0x3d1090,_0x153706=this[_0x4920ee(0x7fa)][_0x4920ee(0x252)](_0x75fd8b);if(!_0x153706)throw new _0x1b9d16(_0x1b9d16[_0x4920ee(0x276)][_0x4920ee(0x33b)]);const _0x181ced=this[_0x4920ee(0x82e)][_0x4920ee(0x252)](_0x75fd8b);if(!_0x181ced)throw new _0x1b9d16(_0x1b9d16[_0x4920ee(0x276)][_0x4920ee(0x725)]);const _0x5206f3={'id':_0x153706['id'],'status':_0x25b155[_0x4920ee(0x6a8)]['Partial'],'result':_0x4f96ca[_0x4920ee(0x2de)]};_0x181ced[_0x4920ee(0xa91)](_0x5206f3);}[_0x3d1090(0x891)](_0x2163a4,_0x241303){const _0x5e5956=_0x3d1090,_0x2da553=this[_0x5e5956(0x7fa)][_0x5e5956(0x252)](_0x2163a4);if(!_0x2da553)throw new _0x1b9d16(_0x1b9d16[_0x5e5956(0x276)]['JobDispatcherJobNotFound']);const _0x567372=this[_0x5e5956(0x82e)][_0x5e5956(0x252)](_0x2163a4);if(!_0x567372)throw new _0x1b9d16(_0x1b9d16[_0x5e5956(0x276)]['JobDispatcherObserverNotFound']);_0x2da553['status']=_0x25b155[_0x5e5956(0x6a8)][_0x5e5956(0x80b)];const _0x76e53b={'id':_0x2da553['id'],'status':_0x2da553[_0x5e5956(0x479)],'result':_0x241303[_0x5e5956(0x2de)]};_0x567372[_0x5e5956(0xa91)](_0x76e53b),_0x567372[_0x5e5956(0x7f4)](),this['jobObservers'][_0x5e5956(0x54a)](_0x2163a4),this[_0x5e5956(0x369)]('Job\x20'+_0x2163a4+_0x5e5956(0x221),{'jobId':_0x2163a4});}[_0x3d1090(0x844)](_0x255109,_0x5aec58){const _0x4ee6d0=_0x3d1090,_0x280d73=this[_0x4ee6d0(0x7fa)]['get'](_0x255109);if(!_0x280d73)throw new _0x1b9d16(_0x1b9d16['codes']['JobDispatcherJobNotFound']);const _0xfd7cef=this[_0x4ee6d0(0x82e)][_0x4ee6d0(0x252)](_0x255109);if(!_0xfd7cef)throw new _0x1b9d16(_0x1b9d16[_0x4ee6d0(0x276)][_0x4ee6d0(0x725)]);_0x280d73['status']=_0x25b155[_0x4ee6d0(0x6a8)]['Failed'];const _0x126398={'id':_0x280d73['id'],'status':_0x280d73[_0x4ee6d0(0x479)],'message':_0x5aec58};_0xfd7cef[_0x4ee6d0(0xa91)](_0x126398),_0xfd7cef[_0x4ee6d0(0x7f4)](),this['jobObservers'][_0x4ee6d0(0x54a)](_0x255109),this[_0x4ee6d0(0x369)](_0x4ee6d0(0x6c0)+_0x255109+_0x4ee6d0(0x44d),{'jobId':_0x255109});}[_0x3d1090(0x369)](_0x4e8fc0,{jobId:_0x342ce5}){const _0x1f5e16=_0x3d1090,_0x5b8711={'jobId':_0x342ce5,'mistletIds':Array[_0x1f5e16(0x2bc)](this[_0x1f5e16(0x8bb)][_0x1f5e16(0x559)]()[_0x1f5e16(0x6a5)]())['filter'](_0x5a003d=>_0x5a003d[_0x1f5e16(0x88c)]===_0x25b155[_0x1f5e16(0xa14)][_0x1f5e16(0x7ae)])[_0x1f5e16(0x855)](_0x11a035=>_0x11a035[_0x1f5e16(0x79a)]())};_0x3dc4e5[_0x1f5e16(0x369)](_0x4e8fc0,{'nodeId':this[_0x1f5e16(0x310)](),'nodeType':this[_0x1f5e16(0x620)]['type'],'data':_0x5b8711}),_0x3dc4e5[_0x1f5e16(0x546)](_0x5a543d[_0x1f5e16(0x373)],_0x4e8fc0,_0x5b8711);}[_0x3d1090(0x4ea)](_0x1e2d6d){const _0x5066b8=_0x3d1090,{jobPhase:_0x599f28,available:_0x562331,bid:_0x59aa58}=_0x1e2d6d;return _0x599f28===_0x5e252a[_0x5066b8(0x4bc)]&&void 0x0!==_0x562331&&void 0x0!==_0x59aa58;}['isPartialResultResponse'](_0x5ddb92){const _0x20c1b2=_0x3d1090,{jobPhase:_0xcd2191,result:_0x11afa7}=_0x5ddb92;return _0xcd2191===_0x5e252a[_0x20c1b2(0x5be)]&&void 0x0!==_0x11afa7;}[_0x3d1090(0x82f)](_0x32786d){const {jobPhase:_0x47aaaf,result:_0x4754d8}=_0x32786d;return _0x47aaaf===_0x5e252a['Result']&&void 0x0!==_0x4754d8;}[_0x3d1090(0x99a)](_0x123db2){const _0xff86a0=_0x3d1090,{jobPhase:_0x4c2248,message:_0x3477fd}=_0x123db2;return _0x4c2248===_0x5e252a[_0xff86a0(0x2a0)]&&void 0x0!==_0x3477fd&&_0xff86a0(0x205)==typeof _0x3477fd;}}var _0x3bb5a2,_0x3f7901,_0x4f2535,_0x2e5edf;!function(_0x4dbea8){const _0x2ee451=_0x3d1090;_0x4dbea8[_0x2ee451(0x250)]='object-storage',_0x4dbea8[_0x2ee451(0x1d5)]=_0x2ee451(0x36e);}(_0x3bb5a2||(_0x3bb5a2={})),function(_0x364c8d){const _0x4a66e1=_0x3d1090;_0x364c8d[_0x4a66e1(0x7ae)]=_0x4a66e1(0x46e),_0x364c8d[_0x4a66e1(0x955)]=_0x4a66e1(0x598),_0x364c8d['CustomSkill']='custom-skill',_0x364c8d[_0x4a66e1(0x8aa)]=_0x4a66e1(0x9bd),_0x364c8d['Knowledge']=_0x4a66e1(0xa22),_0x364c8d['Prompt']='prompt',_0x364c8d[_0x4a66e1(0x3dd)]='answer',_0x364c8d[_0x4a66e1(0x254)]=_0x4a66e1(0x84b),_0x364c8d['Code']=_0x4a66e1(0x393),_0x364c8d['Search']=_0x4a66e1(0x9b9),_0x364c8d[_0x4a66e1(0x43a)]='web-scraper',_0x364c8d[_0x4a66e1(0x9b8)]='web-scraper-raw',_0x364c8d[_0x4a66e1(0x3d2)]=_0x4a66e1(0x7c4),_0x364c8d[_0x4a66e1(0x972)]='sentence-splitter',_0x364c8d[_0x4a66e1(0x348)]=_0x4a66e1(0x1df);}(_0x3f7901||(_0x3f7901={})),function(_0x4bcf9b){const _0x9b76db=_0x3d1090;_0x4bcf9b['ObjectStorageUpload']=_0x9b76db(0x9b3),_0x4bcf9b['ExternalStorageUpload']='external-storage-upload',_0x4bcf9b[_0x9b76db(0x720)]=_0x9b76db(0x33f),_0x4bcf9b[_0x9b76db(0x3d2)]=_0x9b76db(0x7c4),_0x4bcf9b[_0x9b76db(0x348)]='word-splitter',_0x4bcf9b['SentenceSplitter']=_0x9b76db(0x9c7),_0x4bcf9b[_0x9b76db(0x4eb)]=_0x9b76db(0x974),_0x4bcf9b['EntityExtractor']=_0x9b76db(0x57e),_0x4bcf9b['Reranker']=_0x9b76db(0x645),_0x4bcf9b[_0x9b76db(0x9c1)]=_0x9b76db(0x71b),_0x4bcf9b[_0x9b76db(0x7ae)]=_0x9b76db(0x46e),_0x4bcf9b[_0x9b76db(0xa5b)]=_0x9b76db(0x320),_0x4bcf9b[_0x9b76db(0x970)]='key-value-database',_0x4bcf9b[_0x9b76db(0x191)]=_0x9b76db(0x29a),_0x4bcf9b['GraphDatabase']=_0x9b76db(0x45a),_0x4bcf9b[_0x9b76db(0x8cd)]=_0x9b76db(0x513),_0x4bcf9b[_0x9b76db(0x78a)]='context';}(_0x4f2535||(_0x4f2535={})),function(_0x4051e8){const _0x5b05b4=_0x3d1090;_0x4051e8[_0x5b05b4(0x7f0)]=_0x5b05b4(0x2c4),_0x4051e8[_0x5b05b4(0x76f)]='text',_0x4051e8['Image']=_0x5b05b4(0x2cb),_0x4051e8[_0x5b05b4(0xa1b)]=_0x5b05b4(0x83c),_0x4051e8[_0x5b05b4(0x624)]=_0x5b05b4(0xa3d),_0x4051e8[_0x5b05b4(0x4de)]=_0x5b05b4(0x9c2),_0x4051e8['Entity']=_0x5b05b4(0x58f),_0x4051e8[_0x5b05b4(0x6e7)]=_0x5b05b4(0x84d),_0x4051e8[_0x5b05b4(0x987)]='search',_0x4051e8[_0x5b05b4(0x99c)]=_0x5b05b4(0x560),_0x4051e8[_0x5b05b4(0x6cb)]=_0x5b05b4(0xa22),_0x4051e8[_0x5b05b4(0x3fa)]=_0x5b05b4(0xaaa),_0x4051e8['Context']=_0x5b05b4(0x7e2),_0x4051e8[_0x5b05b4(0x211)]=_0x5b05b4(0x228);}(_0x2e5edf||(_0x2e5edf={}));class _0x43d7f8{static [_0x3d1090(0x404)];constructor(){}static[_0x3d1090(0x49a)](){const _0x1de528=_0x3d1090;return _0x43d7f8[_0x1de528(0x404)]||(_0x43d7f8['instance']=new _0x43d7f8()),_0x43d7f8['instance'];}async[_0x3d1090(0x59c)](_0x3c525c,_0x424616){const _0x537bfb=_0x3d1090,_0x1dc926=await(0x0,_0x11d3a3['getDoc'])((0x0,_0x11d3a3[_0x537bfb(0x713)])(_0x2f14fd['getFirestore'](),'/developers/'+_0x3c525c+_0x537bfb(0x839)+_0x424616)),_0x234e63=await this[_0x537bfb(0x470)](_0x3c525c),_0x45944e=await this[_0x537bfb(0x19b)](_0x3c525c),_0xa6854f=await this[_0x537bfb(0x28c)](_0x3c525c),_0x54de1b=await this[_0x537bfb(0x26e)](_0x3c525c),_0x23511e=await this[_0x537bfb(0x7c3)](_0x3c525c);if(!_0x1dc926[_0x537bfb(0x359)]())throw new _0x1b9d16(_0x1b9d16[_0x537bfb(0x276)][_0x537bfb(0x383)]);return this['parseWorkflowDocument'](_0x1dc926,_0x234e63,_0x45944e,_0xa6854f,_0x54de1b,_0x23511e);}[_0x3d1090(0x3db)](_0x5b8226,_0x582350,_0x24230e,_0x36f8b0,_0x54afc9,_0x54ca5e){const _0x1da849=_0x3d1090,_0xe8afba=_0x5b8226[_0x1da849(0xa3d)]();if(!_0xe8afba)throw new _0x1b9d16(_0x1b9d16[_0x1da849(0x276)][_0x1da849(0x383)]);const _0x5f28f9=_0xe8afba[_0x1da849(0x23a)]&&_0xe8afba['versions']?_0xe8afba[_0x1da849(0x52f)][_0xe8afba[_0x1da849(0x23a)]-0x1]:_0xe8afba,_0x2a5620=this[_0x1da849(0x9bf)](_0x5f28f9['blocks'],_0x582350,_0x24230e,_0x36f8b0,_0x54ca5e);return{'id':_0x5b8226['id'],'modelsBucketId':_0xe8afba['bucketId'],'blocks':_0x2a5620,'models':this['getWorkflowModels'](_0x2a5620,_0x54afc9),'dataBucketIds':this[_0x1da849(0x752)](_0x2a5620),'externalStorageConnectionIds':this[_0x1da849(0x4e4)](_0x2a5620)};}[_0x3d1090(0x721)](_0x2b046c,_0x5cdf15){const _0x27f95e=_0x3d1090,_0x47c10b=new Set();for(const _0x23eb1b of _0x2b046c)if(_0x23eb1b[_0x27f95e(0x88c)]!==_0x3f7901[_0x27f95e(0x7ae)]&&_0x23eb1b[_0x27f95e(0x88c)]!==_0x3f7901[_0x27f95e(0x955)]||_0x47c10b[_0x27f95e(0x691)](_0x23eb1b[_0x27f95e(0x7c7)]),_0x23eb1b[_0x27f95e(0x88c)]===_0x3f7901[_0x27f95e(0x6cb)]||_0x23eb1b['type']===_0x3f7901[_0x27f95e(0x8aa)]){for(const _0x2ae268 of[..._0x23eb1b[_0x27f95e(0x9a8)],..._0x23eb1b['retrieveBlocks']])_0x2ae268[_0x27f95e(0x88c)]===_0x4f2535[_0x27f95e(0x9c1)]&&_0x47c10b[_0x27f95e(0x691)](_0x2ae268['id']),_0x2ae268[_0x27f95e(0x88c)]===_0x4f2535[_0x27f95e(0x7ae)]&&_0x47c10b['add'](_0x2ae268[_0x27f95e(0x7c7)]);}return Array[_0x27f95e(0x2bc)](_0x47c10b)['map'](_0x424957=>{const _0x496576=_0x27f95e,{id:_0x936b13,engineType:_0xb139a1,taskType:_0x265674,inputType:_0x58e8d3,outputType:_0x595a45,sourceUrl:_0x51dd99}=_0x5cdf15[_0x496576(0x447)](_0x3e7637=>_0x3e7637['id']===_0x424957);return{'id':_0x936b13,'engineType':_0xb139a1,'taskType':_0x265674,'inputType':_0x58e8d3,'outputType':_0x595a45,'sourceUrl':_0x51dd99};});}[_0x3d1090(0x752)](_0x4ee601){const _0x922cb7=_0x3d1090,_0x1b1e7c=new Set();for(const _0x48ac0b of _0x4ee601)switch(_0x48ac0b['type']){case _0x3f7901[_0x922cb7(0x6cb)]:case _0x3f7901[_0x922cb7(0x8aa)]:for(const _0x5250df of[..._0x48ac0b['ingestBlocks'],..._0x48ac0b[_0x922cb7(0x7f7)]])_0x5250df[_0x922cb7(0x88c)]===_0x4f2535[_0x922cb7(0x8af)]&&_0x1b1e7c['add'](_0x5250df['id']);}return Array[_0x922cb7(0x2bc)](_0x1b1e7c);}['getWorkflowExternalStorageConnections'](_0x1bab94){const _0xd56bbe=_0x3d1090,_0x39d100=new Set();for(const _0x9e317a of _0x1bab94)switch(_0x9e317a['type']){case _0x3f7901[_0xd56bbe(0x6cb)]:case _0x3f7901[_0xd56bbe(0x8aa)]:for(const _0x37e191 of[..._0x9e317a[_0xd56bbe(0x9a8)],..._0x9e317a[_0xd56bbe(0x7f7)]])_0x37e191[_0xd56bbe(0x88c)]===_0x4f2535[_0xd56bbe(0x67c)]&&_0x39d100[_0xd56bbe(0x691)](_0x37e191['id']);}return Array['from'](_0x39d100);}[_0x3d1090(0x9bf)](_0x2563d4,_0xbb5e34,_0x431d4f,_0x33746d,_0x5c86d4){const _0x4669b6=_0x3d1090;return _0x2563d4[_0x4669b6(0x855)](_0x45a2dd=>{const _0x4896c6=_0x4669b6;switch(_0x45a2dd[_0x4896c6(0x88c)]){case _0x3f7901['Agent']:case _0x3f7901[_0x4896c6(0x955)]:const _0x500c4f=_0xbb5e34[_0x4896c6(0x447)](_0x59e96c=>_0x59e96c['id']===_0x45a2dd['id']);if(!_0x500c4f)throw new _0x1b9d16(_0x1b9d16[_0x4896c6(0x276)]['WorkflowInvalidBlockType'],{'block':_0x45a2dd});const _0x45155f=_0x45a2dd[_0x4896c6(0x4f5)]&&_0x500c4f[_0x4896c6(0x52f)]?_0x500c4f[_0x4896c6(0x52f)][_0x45a2dd[_0x4896c6(0x4f5)]-0x1]:_0x500c4f;return{'type':_0x500c4f['type'],'id':_0x500c4f['id'],'uid':_0x45a2dd[_0x4896c6(0x4dd)],'name':_0x45155f[_0x4896c6(0x643)],'description':_0x45155f[_0x4896c6(0x441)],'instructions':_0x45155f[_0x4896c6(0xa8e)],'contextOutputVariable':_0x45155f['contextOutputVariable'],'grammar':[_0x4896c6(0x83e),_0x4896c6(0x6d1),_0x4896c6(0x5ba)][_0x4896c6(0x1e2)](_0x45155f[_0x4896c6(0x2a5)])?_0x45155f[_0x4896c6(0x2a5)]:_0x5c86d4[_0x4896c6(0x447)](_0x4d2c13=>_0x4d2c13['id']===_0x45155f[_0x4896c6(0x2a5)])[_0x4896c6(0x1d7)],'temperature':_0x45155f[_0x4896c6(0x683)],'maxTokens':_0x45155f[_0x4896c6(0x527)],'modelId':_0x45155f[_0x4896c6(0x7c7)],'links':_0x45a2dd[_0x4896c6(0x207)],'version':_0x45a2dd['version']};case _0x3f7901['Knowledge']:case _0x3f7901[_0x4896c6(0x8aa)]:const _0x102bd9=_0x431d4f[_0x4896c6(0x447)](_0x4c4465=>_0x4c4465['id']===_0x45a2dd['id']);if(!_0x102bd9)throw new _0x1b9d16(_0x1b9d16[_0x4896c6(0x276)][_0x4896c6(0x980)],{'block':_0x45a2dd});const _0x527aea=_0x45a2dd[_0x4896c6(0x4f5)]&&_0x102bd9['versions']?_0x102bd9['versions'][_0x45a2dd[_0x4896c6(0x4f5)]-0x1]:_0x102bd9;return{'type':_0x45a2dd[_0x4896c6(0x88c)],'id':_0x102bd9['id'],'uid':_0x45a2dd[_0x4896c6(0x4dd)],'name':_0x527aea['name'],'description':_0x527aea['description'],'ingestBlocks':this['parseDataCollectionBlocks'](_0x527aea[_0x4896c6(0x9a8)],_0xbb5e34),'retrieveBlocks':this[_0x4896c6(0x563)](_0x527aea['retrieveBlocks'],_0xbb5e34),'links':_0x45a2dd[_0x4896c6(0x207)],'version':_0x45a2dd[_0x4896c6(0x4f5)]};case _0x3f7901[_0x4896c6(0x8d2)]:const _0x4f28a2=_0x33746d[_0x4896c6(0x447)](_0x1cbd8e=>_0x1cbd8e['id']===_0x45a2dd['id']);if(!_0x4f28a2)throw new _0x1b9d16(_0x1b9d16[_0x4896c6(0x276)][_0x4896c6(0x980)],{'block':_0x45a2dd});return{'type':_0x45a2dd[_0x4896c6(0x88c)],'id':_0x4f28a2['id'],'uid':_0x45a2dd[_0x4896c6(0x4dd)],'name':_0x4f28a2[_0x4896c6(0x643)],'description':_0x4f28a2[_0x4896c6(0x441)],'parameters':_0x4f28a2[_0x4896c6(0x7b8)],'endpointUrl':_0x4f28a2[_0x4896c6(0x34e)],'endpointMethod':_0x4f28a2[_0x4896c6(0x1bb)],'headers':_0x4f28a2[_0x4896c6(0x6f6)],'queryParameters':_0x4f28a2['queryParameters'],'bodyParameters':_0x4f28a2[_0x4896c6(0x199)],'contextOutputVariable':_0x4f28a2[_0x4896c6(0x868)],'waitAsync':_0x4f28a2['waitAsync'],'asyncEndpointUrl':_0x4f28a2['asyncEndpointUrl'],'asyncEndpointMethod':_0x4f28a2[_0x4896c6(0x6d0)],'asyncHeaders':_0x4f28a2[_0x4896c6(0x53a)],'links':_0x45a2dd[_0x4896c6(0x207)]};case _0x3f7901['Prompt']:case _0x3f7901[_0x4896c6(0x3dd)]:case _0x3f7901[_0x4896c6(0x254)]:case _0x3f7901['Code']:case _0x3f7901['Search']:case _0x3f7901[_0x4896c6(0x43a)]:case _0x3f7901[_0x4896c6(0x9b8)]:case _0x3f7901[_0x4896c6(0x972)]:return{'type':_0x45a2dd[_0x4896c6(0x88c)],'id':_0x45a2dd['id'],'uid':_0x45a2dd['uid'],'links':_0x45a2dd[_0x4896c6(0x207)]};case _0x3f7901[_0x4896c6(0x3d2)]:case _0x3f7901[_0x4896c6(0x348)]:return{'type':_0x45a2dd['type'],'id':_0x45a2dd['id'],'uid':_0x45a2dd['uid'],'links':_0x45a2dd['links'],'attributes':_0x45a2dd[_0x4896c6(0x80a)]};default:throw new _0x1b9d16(_0x1b9d16['codes']['WorkflowInvalidBlockType'],{'block':_0x45a2dd});}});}[_0x3d1090(0x563)](_0x5ba888,_0x51cffe){const _0x56c264=_0x3d1090;return _0x5ba888[_0x56c264(0x855)](_0x3b0a95=>{const _0x40cec3=_0x56c264;switch(_0x3b0a95[_0x40cec3(0x88c)]){case _0x4f2535[_0x40cec3(0x7ae)]:const _0x429bb7=_0x51cffe[_0x40cec3(0x447)](_0x675c1c=>_0x675c1c['id']===_0x3b0a95['id']);if(!_0x429bb7)throw new _0x1b9d16(_0x1b9d16[_0x40cec3(0x276)][_0x40cec3(0x980)],{'block':_0x3b0a95});const _0x576928=_0x3b0a95['version']&&_0x429bb7[_0x40cec3(0x52f)]?_0x429bb7['versions'][_0x3b0a95[_0x40cec3(0x4f5)]-0x1]:_0x429bb7;return{'type':_0x3b0a95[_0x40cec3(0x88c)],'id':_0x3b0a95['id'],'uid':_0x3b0a95[_0x40cec3(0x4dd)],'description':_0x576928[_0x40cec3(0x441)],'instructions':_0x576928['instructions'],'grammar':_0x576928[_0x40cec3(0x2a5)],'temperature':_0x576928[_0x40cec3(0x683)],'maxTokens':_0x576928[_0x40cec3(0x527)],'modelId':_0x576928[_0x40cec3(0x7c7)],'links':_0x3b0a95['links'],'version':_0x3b0a95[_0x40cec3(0x4f5)]};case _0x4f2535[_0x40cec3(0x77b)]:case _0x4f2535[_0x40cec3(0x191)]:case _0x4f2535[_0x40cec3(0x348)]:case _0x4f2535[_0x40cec3(0x3d2)]:case _0x4f2535[_0x40cec3(0x8a7)]:case _0x4f2535[_0x40cec3(0x9f3)]:return{'type':_0x3b0a95[_0x40cec3(0x88c)],'id':_0x3b0a95['id'],'uid':_0x3b0a95[_0x40cec3(0x4dd)],'links':_0x3b0a95[_0x40cec3(0x207)],'attributes':_0x3b0a95['attributes']};case _0x4f2535['Model']:case _0x4f2535[_0x40cec3(0xa5b)]:case _0x4f2535[_0x40cec3(0x970)]:case _0x4f2535[_0x40cec3(0x4eb)]:case _0x4f2535['DocumentParser']:case _0x4f2535[_0x40cec3(0x972)]:case _0x4f2535[_0x40cec3(0x8af)]:case _0x4f2535[_0x40cec3(0x67c)]:case _0x4f2535[_0x40cec3(0x78a)]:case _0x4f2535[_0x40cec3(0x8cd)]:return{'type':_0x3b0a95[_0x40cec3(0x88c)],'id':_0x3b0a95['id'],'uid':_0x3b0a95[_0x40cec3(0x4dd)],'links':_0x3b0a95[_0x40cec3(0x207)]};default:throw new _0x1b9d16(_0x1b9d16[_0x40cec3(0x276)][_0x40cec3(0x980)],{'block':_0x3b0a95});}});}async['getAgents'](_0x1978b2){const _0x314096=_0x3d1090;return(await(0x0,_0x11d3a3[_0x314096(0x7ef)])((0x0,_0x11d3a3[_0x314096(0x41d)])(_0x2f14fd[_0x314096(0x78d)](),_0x314096(0x32b)+_0x1978b2+_0x314096(0x7b5))))[_0x314096(0xa00)][_0x314096(0x855)](_0x462f2e=>{const _0x1a5b26=_0x314096,_0x43914e=_0x462f2e['data']();return{'type':_0x3f7901[_0x1a5b26(0x7ae)],'id':_0x462f2e['id'],'name':_0x43914e[_0x1a5b26(0x643)],'description':_0x43914e[_0x1a5b26(0x441)],'instructions':_0x43914e[_0x1a5b26(0xa8e)],'contextOutputVariable':_0x43914e[_0x1a5b26(0x868)],'grammar':_0x43914e[_0x1a5b26(0x2a5)]??_0x1a5b26(0x83e),'temperature':_0x43914e[_0x1a5b26(0x683)],'maxTokens':_0x43914e[_0x1a5b26(0x527)],'modelId':_0x43914e[_0x1a5b26(0x7c7)],'versions':_0x43914e[_0x1a5b26(0x52f)]};});}async[_0x3d1090(0x19b)](_0x11082e){const _0x46e991=_0x3d1090;return(await(0x0,_0x11d3a3[_0x46e991(0x7ef)])((0x0,_0x11d3a3['collection'])(_0x2f14fd[_0x46e991(0x78d)](),_0x46e991(0x32b)+_0x11082e+_0x46e991(0x89a))))[_0x46e991(0xa00)]['map'](_0x1059e3=>{const _0x1367b9=_0x46e991,_0x2eca50=_0x1059e3[_0x1367b9(0xa3d)]();return{'type':_0x3f7901['DataCollection'],'id':_0x1059e3['id'],'name':_0x2eca50['name'],'description':_0x2eca50[_0x1367b9(0x441)],'ingestBlocks':_0x2eca50[_0x1367b9(0x9a8)],'retrieveBlocks':_0x2eca50['retrieveBlocks'],'versions':_0x2eca50[_0x1367b9(0x52f)]};});}async['getSkills'](_0x32348e){const _0x5a2b35=_0x3d1090;return(await(0x0,_0x11d3a3['getDocs'])((0x0,_0x11d3a3[_0x5a2b35(0x41d)])(_0x2f14fd[_0x5a2b35(0x78d)](),'/developers/'+_0x32348e+_0x5a2b35(0x7de))))[_0x5a2b35(0xa00)][_0x5a2b35(0x855)](_0x1ce0fd=>{const _0x153ad2=_0x5a2b35,_0x5338e6=_0x1ce0fd[_0x153ad2(0xa3d)]();return{'type':_0x3f7901[_0x153ad2(0x8d2)],'id':_0x1ce0fd['id'],'name':_0x5338e6[_0x153ad2(0x643)],'description':_0x5338e6[_0x153ad2(0x441)],'parameters':_0x5338e6['parameters'],'endpointUrl':_0x5338e6['endpointUrl'],'endpointMethod':_0x5338e6[_0x153ad2(0x1bb)],'headers':_0x5338e6['headers'],'queryParameters':_0x5338e6[_0x153ad2(0x27e)],'bodyParameters':_0x5338e6[_0x153ad2(0x199)],'contextOutputVariable':_0x5338e6[_0x153ad2(0x868)],'waitAsync':_0x5338e6[_0x153ad2(0x85d)]??!0x1,'asyncEndpointUrl':_0x5338e6[_0x153ad2(0x9a3)],'asyncEndpointMethod':_0x5338e6[_0x153ad2(0x6d0)],'asyncHeaders':_0x5338e6['asyncHeaders']};});}async[_0x3d1090(0x7c3)](_0x53aede){const _0x2c259f=_0x3d1090;return(await(0x0,_0x11d3a3[_0x2c259f(0x7ef)])((0x0,_0x11d3a3[_0x2c259f(0x41d)])(_0x2f14fd[_0x2c259f(0x78d)](),_0x2c259f(0x32b)+_0x53aede+_0x2c259f(0x376))))['docs'][_0x2c259f(0x855)](_0x5e7045=>{const _0x17afba=_0x2c259f,_0x23f932=_0x5e7045[_0x17afba(0xa3d)]();return{'id':_0x5e7045['id'],'name':_0x23f932[_0x17afba(0x643)],'description':_0x23f932['description'],'content':_0x23f932[_0x17afba(0x1d7)]};});}async[_0x3d1090(0x26e)](_0x4fdfec){const _0x47e8fb=_0x3d1090;return(await(0x0,_0x11d3a3[_0x47e8fb(0x7ef)])((0x0,_0x11d3a3[_0x47e8fb(0x41d)])(_0x2f14fd[_0x47e8fb(0x78d)](),_0x47e8fb(0x32b)+_0x4fdfec+_0x47e8fb(0x466))))[_0x47e8fb(0xa00)][_0x47e8fb(0x855)](_0x4b700b=>{const _0x58897f=_0x47e8fb,_0x47ac1b=_0x4b700b[_0x58897f(0xa3d)]();return{'id':_0x4b700b['id'],'modelName':_0x47ac1b[_0x58897f(0x5cb)],'engineType':_0x47ac1b['engine'],'taskType':_0x47ac1b[_0x58897f(0x39f)],'inputType':_0x47ac1b[_0x58897f(0x5f9)]??_0x25b155[_0x58897f(0xa59)][_0x58897f(0x76f)],'outputType':_0x47ac1b['outputType']??_0x25b155[_0x58897f(0x962)][_0x58897f(0x76f)],'sourceUrl':_0x47ac1b[_0x58897f(0x4ba)]};});}}const _0x26537d=_0x43d7f8['getInstance']();class _0x14129f extends _0x53979b{[_0x3d1090(0x5d3)];[_0x3d1090(0x43c)];[_0x3d1090(0x3ee)]=0x0;[_0x3d1090(0xaa5)]=0x0;[_0x3d1090(0xa20)];constructor(_0x57277c,_0x60c245,_0x4c6c8e,_0x3e5713){const _0x19b984=_0x3d1090;super(_0x57277c,_0x60c245,_0x3e5713),this[_0x19b984(0x5d3)]=_0x57277c,this[_0x19b984(0x43c)]=_0x4c6c8e,this[_0x19b984(0xaa9)]();}[_0x3d1090(0x1f8)](){const _0x5c0a98=_0x3d1090;this['debounceStats']&&(clearTimeout(this['debounceStats']),delete this[_0x5c0a98(0xa20)]),super['destroy']();}[_0x3d1090(0x548)](){const _0x168690=_0x3d1090;this[_0x168690(0x3ee)]=0x0,this[_0x168690(0xaa5)]=0x0,this[_0x168690(0xaa9)](),super[_0x168690(0x548)]();}['createAIJob'](_0xf279a9){const _0x1886e2=_0x3d1090,_0x559ada=_0x1886e2(0x743)+(0x0,_0x14a38c['v4'])();switch(_0xf279a9[_0x1886e2(0x88c)]){case'prompt':let _0x28a3a9=!0x1;const _0x394905=()=>{const _0x8cf424=_0x1886e2;if(_0x28a3a9)throw new _0x1b9d16(_0x1b9d16[_0x8cf424(0x276)][_0x8cf424(0x5d9)]);_0x28a3a9=!0x0;},_0x5b3c35=()=>(_0x394905(),this[_0x1886e2(0x513)](_0x559ada,_0xf279a9[_0x1886e2(0x513)],_0xf279a9[_0x1886e2(0x6d5)])),_0x20fbfe=()=>(_0x394905(),this[_0x1886e2(0x85c)](_0x559ada,_0xf279a9['prompt'],_0xf279a9[_0x1886e2(0x6d5)]));return{'id':_0x559ada,'prompt':_0xf279a9['prompt'],'options':_0xf279a9['options']??{'threadId':_0x1886e2(0x2c5)+(0x0,_0x14a38c['v4'])()},'run':_0x5b3c35,'stream':_0x20fbfe};case _0x1886e2(0x5bd):let _0x464ee3=!0x1;const _0x25cd91=()=>{const _0x3ec9bb=_0x1886e2;if(_0x464ee3)throw new _0x1b9d16(_0x1b9d16[_0x3ec9bb(0x276)][_0x3ec9bb(0x5d9)]);_0x464ee3=!0x0;},_0x1f37aa=()=>(_0x25cd91(),this[_0x1886e2(0x647)](_0x559ada,_0xf279a9[_0x1886e2(0x4e2)],_0xf279a9[_0x1886e2(0x389)],_0xf279a9[_0x1886e2(0x6d5)]));if(!_0xf279a9[_0x1886e2(0x6d5)]?.[_0x1886e2(0x8b1)])throw new _0x4ded08(_0x2c3351[_0x1886e2(0x67e)],_0x1886e2(0x7f8));return{'id':_0x559ada,'rating':_0xf279a9[_0x1886e2(0x4e2)],'options':_0xf279a9[_0x1886e2(0x6d5)]??{'threadId':_0x1886e2(0x2c5)+(0x0,_0x14a38c['v4'])()},'rate':_0x1f37aa};case _0x1886e2(0x7c6):let _0x53402c=!0x1;const _0x33129c=()=>{const _0x35acc9=_0x1886e2;if(_0x53402c)throw new _0x1b9d16(_0x1b9d16[_0x35acc9(0x276)]['GenerativeAIContextJobAlreadyConsumed']);_0x53402c=!0x0;};return{'id':_0x559ada,'objectStoreId':'','documentPath':_0xf279a9[_0x1886e2(0x2a8)],'download':()=>(_0x33129c(),this['internalDownloadDocument'](_0x559ada,_0xf279a9['objectStoreId'],_0xf279a9['documentPath']))};}}async['ratePrompt'](_0x1ef8aa){const _0x3b0f8a=_0x3d1090;return this[_0x3b0f8a(0x251)](_0x1ef8aa)[_0x3b0f8a(0x5bd)]();}async[_0x3d1090(0x7c6)](_0x582913){const _0x8f8eb3=_0x3d1090,_0x2fc8c2={'type':_0x8f8eb3(0x7c6),'objectStoreId':'','documentPath':_0x582913};return this[_0x8f8eb3(0x251)](_0x2fc8c2)[_0x8f8eb3(0x7ea)]();}async[_0x3d1090(0x647)](_0x51c37b,_0x9917df,_0xfba79b,{threadId:_0x82a20,feedback:_0x1b6216=''}){const _0x479af6=_0x3d1090,_0x500559={'type':_0x479af6(0x5bd),'jobId':_0xfba79b,'threadId':_0x82a20,'rating':_0x9917df,'feedback':_0x1b6216},_0x5a9323=await this[_0x479af6(0x985)](_0x51c37b,_0x25b155[_0x479af6(0x605)]['Job'],_0x500559,{'threadId':_0x82a20,'feedback':_0x1b6216});return new Promise((_0x3d2beb,_0x4f565e)=>{let _0x3e1753;const _0x25a2fa=_0x5a9323['subscribe']({'next':_0x5d899f=>{const _0x3c6b45=a0_0x50c4;switch(_0x5d899f[_0x3c6b45(0x479)]){case _0x25b155[_0x3c6b45(0x6a8)][_0x3c6b45(0x80b)]:clearTimeout(_0x3e1753),_0x3d2beb(_0x5d899f[_0x3c6b45(0x2de)]),_0x25a2fa[_0x3c6b45(0x7d0)]();break;case _0x25b155[_0x3c6b45(0x6a8)][_0x3c6b45(0x2a0)]:clearTimeout(_0x3e1753),_0x4f565e(new _0x1b9d16(_0x1b9d16[_0x3c6b45(0x276)][_0x3c6b45(0x326)],{'updatedJob':_0x5d899f})),_0x25a2fa[_0x3c6b45(0x7d0)]();}},'error':_0x527f5b=>{const _0xc34d3a=a0_0x50c4;clearTimeout(_0x3e1753),_0x4f565e(new _0x1b9d16(_0x1b9d16['codes'][_0xc34d3a(0x326)],{'err':_0x527f5b})),_0x25a2fa[_0xc34d3a(0x7d0)]();}});_0x3e1753=setTimeout(()=>{const _0x2213f1=a0_0x50c4;_0x4f565e(new _0x1b9d16(_0x1b9d16['codes'][_0x2213f1(0x1a9)])),_0x25a2fa[_0x2213f1(0x7d0)]();},_0x339e08);});}async[_0x3d1090(0x349)](_0x2f1a48,_0xda98dd,_0x94dd3){const _0x684a8d=_0x3d1090,_0x2b5379={'type':_0x684a8d(0x7c6),'objectStoreId':_0xda98dd,'documentPath':_0x94dd3,'threadId':_0x684a8d(0x2c5)+(0x0,_0x14a38c['v4'])()},_0x5a0e39=await this[_0x684a8d(0x985)](_0x2f1a48,_0x25b155[_0x684a8d(0x605)][_0x684a8d(0x673)],_0x2b5379);return new Promise((_0x175f3a,_0x1c3409)=>{let _0x1c8643;const _0x82559f=_0x5a0e39['subscribe']({'next':_0x237bc3=>{const _0x1cdb26=a0_0x50c4;switch(_0x237bc3['status']){case _0x25b155[_0x1cdb26(0x6a8)][_0x1cdb26(0x80b)]:clearTimeout(_0x1c8643),_0x175f3a(_0x237bc3[_0x1cdb26(0x2de)]),_0x82559f['unsubscribe']();break;case _0x25b155[_0x1cdb26(0x6a8)][_0x1cdb26(0x2a0)]:clearTimeout(_0x1c8643),_0x1c3409(new _0x1b9d16(_0x1b9d16['codes'][_0x1cdb26(0x326)],{'updatedJob':_0x237bc3})),_0x82559f[_0x1cdb26(0x7d0)]();}},'error':_0x3f91ff=>{const _0x1b3829=a0_0x50c4;clearTimeout(_0x1c8643),_0x1c3409(new _0x1b9d16(_0x1b9d16[_0x1b3829(0x276)][_0x1b3829(0x326)],{'err':_0x3f91ff})),_0x82559f['unsubscribe']();}});_0x1c8643=setTimeout(()=>{const _0xee07d2=a0_0x50c4;_0x1c3409(new _0x1b9d16(_0x1b9d16[_0xee07d2(0x276)][_0xee07d2(0x1a9)])),_0x82559f[_0xee07d2(0x7d0)]();},_0x339e08);});}async['prompt'](_0x3d427f,_0x5cbd34,_0x3d4a30){const _0x228da5=_0x3d1090,_0x25d416={'type':'prompt','prompt':_0x5cbd34,'threadId':_0x3d4a30?.[_0x228da5(0x8b1)]??_0x228da5(0x2c5)+(0x0,_0x14a38c['v4'])()},_0xb59c2b=await this[_0x228da5(0x985)](_0x3d427f,_0x25b155[_0x228da5(0x605)][_0x228da5(0x673)],_0x25d416,_0x3d4a30);return new Promise((_0x57ef4b,_0x319331)=>{const _0x1a41cd=_0x228da5;let _0x23a962;const _0xbbab1=_0xb59c2b[_0x1a41cd(0x81b)]({'next':_0x3e11c6=>{const _0x410925=_0x1a41cd;switch(_0x3e11c6[_0x410925(0x479)]){case _0x25b155[_0x410925(0x6a8)][_0x410925(0x80b)]:if(_0x410925(0x513)!==_0x3e11c6[_0x410925(0x2de)][_0x410925(0x88c)])return;const _0x438fac=_0x3e11c6[_0x410925(0x2de)][_0x410925(0x2dc)]??0x0;this[_0x410925(0x340)](_0x5cbd34,_0x438fac),clearTimeout(_0x23a962),_0x57ef4b(_0x3e11c6[_0x410925(0x2de)]),_0xbbab1['unsubscribe'](),this[_0x410925(0x3ee)]+=0x1,this[_0x410925(0xaa5)]+=_0x438fac,this[_0x410925(0xaa9)]();break;case _0x25b155[_0x410925(0x6a8)][_0x410925(0x2a0)]:clearTimeout(_0x23a962),_0x319331(new _0x1b9d16(_0x1b9d16[_0x410925(0x276)]['GenerativeAIContextJobFailed'],{'updatedJob':_0x3e11c6})),_0xbbab1['unsubscribe'](),this[_0x410925(0xaa9)]();}},'error':_0x36e45e=>{const _0x4ce68a=_0x1a41cd;clearTimeout(_0x23a962),_0x319331(new _0x1b9d16(_0x1b9d16[_0x4ce68a(0x276)][_0x4ce68a(0x326)],{'err':_0x36e45e})),_0xbbab1['unsubscribe']();}});_0x23a962=setTimeout(()=>{const _0x1c802f=_0x1a41cd;_0x319331(new _0x1b9d16(_0x1b9d16['codes'][_0x1c802f(0x1a9)])),_0xbbab1[_0x1c802f(0x7d0)]();},_0x339e08);});}async*['stream'](_0x4993d8,_0x377d14,_0x7f7546){const _0x36451b=_0x3d1090,_0x2f87c7={'type':'prompt','prompt':_0x377d14,'threadId':_0x7f7546?.[_0x36451b(0x8b1)]??_0x36451b(0x2c5)+(0x0,_0x14a38c['v4'])()},_0x2ecac8=await this[_0x36451b(0x985)](_0x4993d8,_0x25b155['JobType']['JobStream'],_0x2f87c7,_0x7f7546);let _0x7ee9a3,_0xf5b68c,_0x470dcc=!0x1,_0x21a2d7=0x0;const _0x3e6cb0=[],_0x176bea=new Map();let _0x1360a7=null;const _0x42016f=()=>{_0x1360a7&&(_0x1360a7(),_0x1360a7=null);},_0x304363=_0x224a23=>{const _0x2e3ddf=_0x36451b;_0x470dcc=!0x0,_0x42016f(),_0x3c87ca[_0x2e3ddf(0x7d0)](),_0xf5b68c=_0x224a23;},_0x3c87ca=_0x2ecac8[_0x36451b(0x81b)]({'next':_0x33e16b=>{const _0x2e0672=_0x36451b;switch(_0x33e16b[_0x2e0672(0x479)]){case _0x25b155[_0x2e0672(0x6a8)][_0x2e0672(0x627)]:if(_0x2e0672(0x513)!==_0x33e16b[_0x2e0672(0x2de)]['type'])return;if(_0x33e16b[_0x2e0672(0x2de)]&&void 0x0!==_0x33e16b[_0x2e0672(0x2de)][_0x2e0672(0x8f8)]){if(void 0x0===_0x33e16b[_0x2e0672(0x2de)][_0x2e0672(0x560)])return void _0x304363(_0x1b9d16[_0x2e0672(0x276)]['GenerativeAIContextInvalidPartialResult']);_0x21a2d7===_0x33e16b[_0x2e0672(0x2de)][_0x2e0672(0x560)]?(_0x3e6cb0[_0x2e0672(0xa93)](_0x33e16b[_0x2e0672(0x2de)]),_0x21a2d7++,((()=>{const _0x3cc65a=_0x2e0672;for(;_0x176bea[_0x3cc65a(0x1ac)](_0x21a2d7);)_0x3e6cb0[_0x3cc65a(0xa93)](_0x176bea[_0x3cc65a(0x252)](_0x3e6cb0['length'])),_0x176bea[_0x3cc65a(0x54a)](_0x3e6cb0[_0x3cc65a(0x73c)]),_0x21a2d7++;})()),_0x42016f(),_0x2eccb9()):_0x176bea['set'](_0x33e16b[_0x2e0672(0x2de)][_0x2e0672(0x560)],_0x33e16b['result']);}break;case _0x25b155['JobStatus']['Completed']:if('prompt'!==_0x33e16b['result'][_0x2e0672(0x88c)])return;const _0x1a1c51=_0x33e16b['result'][_0x2e0672(0x2dc)]??0x0;this[_0x2e0672(0x340)](_0x377d14,_0x1a1c51),clearTimeout(_0x7ee9a3),_0x304363(),this['prompts']+=0x1,this['tokens']+=_0x1a1c51,this[_0x2e0672(0xaa9)]();break;case _0x25b155['JobStatus'][_0x2e0672(0x2a0)]:clearTimeout(_0x7ee9a3),_0x304363(_0x1b9d16['codes']['GenerativeAIContextJobFailed']),this[_0x2e0672(0xaa9)]();}},'error':_0xc6e055=>{const _0x4b2c47=_0x36451b;clearTimeout(_0x7ee9a3),_0x304363(_0x1b9d16['codes'][_0x4b2c47(0x326)]);}}),_0x4bdc84=()=>{const _0x38bbf1=_0x36451b;_0x304363(_0x1b9d16[_0x38bbf1(0x276)][_0x38bbf1(0x1a9)]);},_0x2eccb9=()=>{clearTimeout(_0x7ee9a3),_0x7ee9a3=setTimeout(_0x4bdc84,_0x339e08);};for(_0x7ee9a3=setTimeout(_0x4bdc84,_0x339e08);!_0x470dcc||_0x3e6cb0['length']>0x0;)_0x3e6cb0[_0x36451b(0x73c)]>0x0?yield _0x3e6cb0[_0x36451b(0x536)]():await new Promise(_0x31f43d=>_0x1360a7=_0x31f43d);if(_0xf5b68c)throw _0x3dc4e5[_0x36451b(0x58c)](_0x36451b(0x8c0),{'nodeId':this[_0x36451b(0x5d3)][_0x36451b(0x79a)](),'nodeType':this['localNode']['type']}),new _0x1b9d16(_0xf5b68c);}async['getDataBucketIds'](){const _0x513bdc=_0x3d1090;return(await _0x26537d['getWorkflow'](this['vendorId'],this[_0x513bdc(0x7d3)]))[_0x513bdc(0x795)];}[_0x3d1090(0x340)](_0x439c94,_0x301819){const _0x290edf=_0x3d1090,_0xb96d2e=this[_0x290edf(0x7d3)],_0x50ac89=this[_0x290edf(0x310)]();_0x3dc4e5[_0x290edf(0x340)](_0x264391['GenerativeAIContext'],{'topic':_0xb96d2e,'prompt':_0x439c94,'type':'prompt','nodeId':_0x50ac89,'tokenCount':_0x301819});}async[_0x3d1090(0x985)](_0x90f64f,_0x5eb4e0,_0x4ae4e2,_0x45ef9e={}){const _0x1b632d=_0x3d1090;let _0x1d34a5;switch(_0x4ae4e2[_0x1b632d(0x88c)]){case _0x1b632d(0x513):{const {threadId:_0x2eb73e}=_0x45ef9e;_0x1d34a5={'id':_0x90f64f,'jobType':_0x5eb4e0,'parameters':{..._0x45ef9e,'type':_0x1b632d(0x513),'prompt':_0x4ae4e2[_0x1b632d(0x513)],'threadId':_0x2eb73e},'status':_0x25b155[_0x1b632d(0x6a8)][_0x1b632d(0xa83)]};break;}case _0x1b632d(0x5bd):{const {threadId:_0x5bfe2f}=_0x45ef9e;_0x1d34a5={'id':_0x90f64f,'jobType':_0x5eb4e0,'parameters':{..._0x45ef9e,'type':'rate','jobId':_0x4ae4e2[_0x1b632d(0x389)],'rating':_0x4ae4e2['rating'],'feedback':_0x4ae4e2['feedback']??'','threadId':_0x5bfe2f},'status':_0x25b155['JobStatus']['Pending']};break;}case _0x1b632d(0x7c6):_0x1d34a5={'id':_0x90f64f,'jobType':_0x5eb4e0,'parameters':{..._0x45ef9e,'type':_0x1b632d(0x7c6),'objectStoreId':_0x4ae4e2[_0x1b632d(0x1fd)],'documentPath':_0x4ae4e2[_0x1b632d(0x2a8)]},'status':_0x25b155['JobStatus']['Pending']};}return await this[_0x1b632d(0x90f)](_0x1d34a5);}[_0x3d1090(0xaa9)](){const _0x16a1af=_0x3d1090;this[_0x16a1af(0xa20)]&&clearTimeout(this[_0x16a1af(0xa20)]),this[_0x16a1af(0xa20)]=setTimeout(async()=>{const _0x1787b6=_0x16a1af;delete this['debounceStats'],this[_0x1787b6(0x613)][_0x1787b6(0x681)]({'sourceId':_0x22135a,'messageType':_0x17c3e2[_0x1787b6(0x235)],'content':{'type':_0x4a88e8[_0x1787b6(0x65e)],'label':this['label'],'stats':{'timestamp':Date[_0x1787b6(0x267)](),'storage':0x0,'messagesSent':this[_0x1787b6(0x20a)],'messagesReceived':this[_0x1787b6(0x658)],'bytesSent':this[_0x1787b6(0x6bd)],'bytesReceived':this['bytesReceived'],'writes':0x0,'reads':0x0,'prompts':this[_0x1787b6(0x3ee)],'tokens':this[_0x1787b6(0xaa5)]}}});},_0x28192e);}}var _0xf85f72,_0x540904,_0x17d38d,_0x4b0d8e,_0x2e636c,_0xcee543,_0xed985f,_0x36763a,_0x3ecd45,_0x6411f7,_0x4f5e58;!function(_0xc317e0){const _0x38047f=_0x3d1090;_0xc317e0[_0x38047f(0x98f)]=_0x38047f(0x98f),_0xc317e0[_0x38047f(0x840)]=_0x38047f(0x840),_0xc317e0[_0x38047f(0x240)]=_0x38047f(0x240),_0xc317e0['WorkflowTrace']=_0x38047f(0x26f);}(_0xf85f72||(_0xf85f72={})),function(_0x18aaa9){const _0x20f19d=_0x3d1090;_0x18aaa9[_0x20f19d(0x477)]=_0x20f19d(0x477),_0x18aaa9['ModelVector']=_0x20f19d(0x2fa),_0x18aaa9[_0x20f19d(0x866)]=_0x20f19d(0x866),_0x18aaa9[_0x20f19d(0x8a7)]=_0x20f19d(0x8a7),_0x18aaa9['GraphSearch']='GraphSearch',_0x18aaa9[_0x20f19d(0x9f3)]=_0x20f19d(0x9f3);}(_0x540904||(_0x540904={})),function(_0x4e52f9){const _0x454b2c=_0x3d1090;_0x4e52f9[_0x4e52f9[_0x454b2c(0x4b8)]=0x0]=_0x454b2c(0x4b8),_0x4e52f9[_0x4e52f9[_0x454b2c(0x933)]=0x5]=_0x454b2c(0x933),_0x4e52f9[_0x4e52f9[_0x454b2c(0x50c)]=0xa]=_0x454b2c(0x50c),_0x4e52f9[_0x4e52f9[_0x454b2c(0x747)]=0xf]=_0x454b2c(0x747);}(_0x17d38d||(_0x17d38d={})),function(_0x410db7){const _0x5b5d40=_0x3d1090;_0x410db7['Retrieve']=_0x5b5d40(0xa13),_0x410db7[_0x5b5d40(0x2e4)]=_0x5b5d40(0x2e4),_0x410db7[_0x5b5d40(0x6cb)]='Knowledge',_0x410db7['Skill']=_0x5b5d40(0x3fa),_0x410db7[_0x5b5d40(0x288)]='Workflow',_0x410db7[_0x5b5d40(0x673)]=_0x5b5d40(0x673),_0x410db7[_0x5b5d40(0x584)]=_0x5b5d40(0x584),_0x410db7[_0x5b5d40(0x666)]=_0x5b5d40(0x666);}(_0x4b0d8e||(_0x4b0d8e={})),function(_0x12eb9b){const _0x5d475a=_0x3d1090;_0x12eb9b['Queued']=_0x5d475a(0x512),_0x12eb9b['Completed']=_0x5d475a(0x80b);}(_0x2e636c||(_0x2e636c={})),function(_0x4b453a){const _0x11ba40=_0x3d1090;_0x4b453a[_0x11ba40(0x260)]=_0x11ba40(0x260),_0x4b453a[_0x11ba40(0x6be)]='IntermediateOutput',_0x4b453a[_0x11ba40(0x8aa)]=_0x11ba40(0x8aa),_0x4b453a[_0x11ba40(0x864)]=_0x11ba40(0x864);}(_0xcee543||(_0xcee543={})),function(_0x453d9a){const _0x43dd07=_0x3d1090;_0x453d9a[_0x43dd07(0x3d2)]=_0x43dd07(0x3d2),_0x453d9a['DocumentParser']=_0x43dd07(0x720),_0x453d9a[_0x43dd07(0x8a7)]=_0x43dd07(0x8a7),_0x453d9a[_0x43dd07(0x77b)]='GraphDatabase',_0x453d9a[_0x43dd07(0x7ae)]=_0x43dd07(0x7ae),_0x453d9a['ModelText']='ModelText',_0x453d9a[_0x43dd07(0x2fa)]='ModelVector',_0x453d9a['RelationExtractor']=_0x43dd07(0x4eb),_0x453d9a['SentenceSplitter']=_0x43dd07(0x972),_0x453d9a[_0x43dd07(0x191)]=_0x43dd07(0x191),_0x453d9a[_0x43dd07(0x348)]=_0x43dd07(0x348);}(_0xed985f||(_0xed985f={})),function(_0x55ef2a){const _0xa2e22c=_0x3d1090;_0x55ef2a[_0xa2e22c(0x475)]='GetContextQuery',_0x55ef2a['GetContextResult']=_0xa2e22c(0x949);}(_0x36763a||(_0x36763a={})),function(_0x498869){const _0x432d0c=_0x3d1090;_0x498869[_0x432d0c(0x6b0)]=_0x432d0c(0x6b0),_0x498869[_0x432d0c(0x9a9)]=_0x432d0c(0x9a9),_0x498869[_0x432d0c(0x984)]=_0x432d0c(0x984),_0x498869[_0x432d0c(0x329)]=_0x432d0c(0x329),_0x498869[_0x432d0c(0x542)]=_0x432d0c(0x542),_0x498869[_0x432d0c(0x303)]=_0x432d0c(0x303);}(_0x3ecd45||(_0x3ecd45={})),function(_0x514544){const _0x1889c0=_0x3d1090;_0x514544[_0x1889c0(0x5b4)]=_0x1889c0(0x5b4),_0x514544[_0x1889c0(0x19f)]=_0x1889c0(0x19f);}(_0x6411f7||(_0x6411f7={})),function(_0x3ca0df){const _0x3d2aae=_0x3d1090;_0x3ca0df['PromptRating']=_0x3d2aae(0x480);}(_0x4f5e58||(_0x4f5e58={}));class _0x3d2bed{static [_0x3d1090(0x404)];[_0x3d1090(0x4b6)]=[];[_0x3d1090(0x53b)]=!0x1;constructor(){}static[_0x3d1090(0x49a)](){const _0x13ea73=_0x3d1090;return _0x3d2bed['instance']||(_0x3d2bed[_0x13ea73(0x404)]=new _0x3d2bed()),_0x3d2bed[_0x13ea73(0x404)];}get['length'](){const _0x35411e=_0x3d1090;return this[_0x35411e(0x4b6)][_0x35411e(0x73c)];}[_0x3d1090(0x54e)](){const _0x7f6d35=_0x3d1090;return!this[_0x7f6d35(0x53b)];}['clear'](_0x54f6f8){const _0x5a06a8=_0x3d1090;_0x54f6f8?this[_0x5a06a8(0x4b6)]=this[_0x5a06a8(0x4b6)][_0x5a06a8(0x25d)](_0x22bfc0=>_0x22bfc0[_0x5a06a8(0x909)]!==_0x54f6f8):(this['jobQueue']=[],this[_0x5a06a8(0x53b)]=!0x1);}[_0x3d1090(0x691)](_0x2332cb,_0x154fff){const _0x272c31=_0x3d1090;this[_0x272c31(0x4b6)][_0x272c31(0xa93)]({'callback':_0x154fff,'ownerId':_0x2332cb}),this[_0x272c31(0x1e9)]();}async[_0x3d1090(0x1e9)](){const _0x16bf9a=_0x3d1090;if(!this['isRunning']){for(this['isRunning']=!0x0;this[_0x16bf9a(0x4b6)][_0x16bf9a(0x73c)]>0x0;){const _0x2d8270=this[_0x16bf9a(0x4b6)]['shift']();if(_0x2d8270)try{console['warn'](_0x16bf9a(0x2da)),await _0x2d8270[_0x16bf9a(0x5b7)]();}catch(_0x4aa3fc){console[_0x16bf9a(0x58c)](_0x16bf9a(0x807),_0x4aa3fc);}}this[_0x16bf9a(0x53b)]=!0x1;}}}const _0x19613f=_0x3d2bed['getInstance']();class _0x5c9a99 extends _0x38f018{[_0x3d1090(0x589)];[_0x3d1090(0x3f7)];constructor(_0x2ed7f0,_0x11916c,_0x1c9908){const _0x50d47c=_0x3d1090;super(_0x2ed7f0,_0x11916c),this[_0x50d47c(0x589)]=_0x1c9908;}[_0x3d1090(0x3b7)](){const _0x43dff5=_0x3d1090;return _0x25b155[_0x43dff5(0x2ce)][_0x43dff5(0x673)];}[_0x3d1090(0x4be)](){this['subscribeToJobs']();}[_0x3d1090(0x8d5)](){const _0x47b29b=_0x3d1090;this['systemTopic']?.[_0x47b29b(0x681)]({'sourceId':_0x22135a,'messageType':_0x17c3e2[_0x47b29b(0x235)],'content':{'type':_0x4a88e8['CloseJobWorker'],'label':this['label']}});}[_0x3d1090(0x548)](){const _0x15366f=_0x3d1090;this[_0x15366f(0x3f7)]?.(),delete this[_0x15366f(0x3f7)],this[_0x15366f(0x4be)]();}[_0x3d1090(0x1f8)](){const _0x50f40b=_0x3d1090;_0x19613f[_0x50f40b(0x97a)](this['label']),this[_0x50f40b(0x3f7)]?.(),delete this[_0x50f40b(0x3f7)],super[_0x50f40b(0x1f8)]();}['isAvailable'](){return _0x19613f['isAvailable']();}[_0x3d1090(0x898)](){return 0x1;}[_0x3d1090(0x9d2)](_0x24e2d6,_0x54bf91,_0x38df83){}[_0x3d1090(0x9e6)](_0x252cc4,_0x5a5973){return _0x252cc4;}[_0x3d1090(0x862)](_0x89e8a6,_0x699ff0){const _0x4a4c6b=_0x3d1090;console['warn'](_0x4a4c6b(0x575));}[_0x3d1090(0x846)](_0x282ffe,_0x48fe12){const _0x25b60f=_0x3d1090;console[_0x25b60f(0x929)](_0x25b60f(0x575));}[_0x3d1090(0x2bd)](){const _0x4d7b89=_0x3d1090;this['unsubscribeListener']||(this[_0x4d7b89(0x3f7)]=this['onMessage']((_0x576def,_0x3a2bf1)=>{const _0x386f99=_0x4d7b89;if(_0x3dc4e5[_0x386f99(0x546)](_0x5a543d[_0x386f99(0x373)],_0x386f99(0x9ea),_0x3a2bf1),!(_0x3a2bf1 instanceof File)){if(this['isJobRequest'](_0x3a2bf1))_0x3dc4e5['log'](_0x5a543d[_0x386f99(0x373)],'JobWorker:\x20Received\x20job\x20request',_0x3a2bf1),this[_0x386f99(0x54e)]()?this['sendBid'](_0x3a2bf1['id'],_0x3a2bf1[_0x386f99(0x95d)],_0x576def):this['sendReject'](_0x3a2bf1['id'],_0x3a2bf1[_0x386f99(0x95d)],_0x576def);else{if(this[_0x386f99(0x3b1)](_0x3a2bf1)){_0x3dc4e5[_0x386f99(0x546)](_0x5a543d[_0x386f99(0x373)],'JobWorker:\x20Received\x20job\x20attribution',_0x3a2bf1);const {id:_0x4cd6be,parameters:_0x23ee79}=_0x3a2bf1;this[_0x386f99(0x862)](_0x4cd6be,_0x23ee79),_0x19613f[_0x386f99(0x691)](this['label'],()=>this['handleJobAttribution'](_0x3a2bf1['id'],_0x3a2bf1,_0x576def));}}}}));}[_0x3d1090(0x4b3)](_0x1d61f6,_0x294861,_0x3568f8){const _0x328287=_0x3d1090,_0x472c5e={'id':_0x1d61f6,'jobType':_0x294861,'jobPhase':_0x5e252a['Bid'],'available':!0x0,'queueLength':_0x19613f[_0x328287(0x73c)],'bid':this[_0x328287(0x898)]()};_0x3dc4e5['log'](_0x5a543d[_0x328287(0x373)],_0x328287(0x621),_0x472c5e),this['send'](_0x472c5e,[_0x3568f8]);}[_0x3d1090(0xa6c)](_0x5973b4,_0x3a2f1d,_0x440e2c){const _0x17f16b=_0x3d1090,_0x521c14={'id':_0x5973b4,'jobType':_0x3a2f1d,'jobPhase':_0x5e252a[_0x17f16b(0x4bc)],'available':!0x1,'queueLength':_0x19613f[_0x17f16b(0x73c)],'bid':0x0};_0x3dc4e5[_0x17f16b(0x546)](_0x5a543d['Jobs'],_0x17f16b(0x905),_0x521c14),this[_0x17f16b(0x908)](_0x521c14,[_0x440e2c]);}async[_0x3d1090(0xaa1)](_0x5c7677,_0x3ce179,_0x3f179d){const _0x5c3b27=_0x3d1090;_0x3dc4e5['log'](_0x5a543d['Jobs'],_0x5c3b27(0x802),_0x3ce179);const _0x2873b7={'id':_0x5c7677,'jobType':_0x3ce179['jobType'],'parameters':_0x3ce179[_0x5c3b27(0x7b8)]};try{switch(_0x3ce179[_0x5c3b27(0x95d)]){case _0x25b155[_0x5c3b27(0x605)][_0x5c3b27(0x673)]:await this['processJob'](_0x5c7677,_0x3ce179,_0x2873b7,_0x3f179d);break;case _0x25b155[_0x5c3b27(0x605)]['JobStream']:await this[_0x5c3b27(0x9da)](_0x5c7677,_0x3ce179,_0x2873b7,_0x3f179d);break;default:throw new Error('Unsupported\x20job\x20type');}}catch(_0x344e6b){_0x3dc4e5[_0x5c3b27(0x58c)](_0x5c3b27(0x1a1),{'nodeId':this[_0x5c3b27(0x620)][_0x5c3b27(0x79a)](),'nodeType':this[_0x5c3b27(0x620)][_0x5c3b27(0x88c)],'data':{'job':_0x2873b7}},_0x344e6b);const _0x1804aa=_0x344e6b instanceof Error?_0x344e6b[_0x5c3b27(0x6d7)]:'An\x20error\x20occurred',_0x4d45b6={'id':_0x5c7677,'jobType':_0x3ce179[_0x5c3b27(0x95d)],'jobPhase':_0x5e252a[_0x5c3b27(0x2a0)],'message':_0x1804aa};await this[_0x5c3b27(0x908)](_0x4d45b6,[_0x3f179d]);}}async[_0x3d1090(0x690)](_0x354c81,_0x17d99b,_0x109e59,_0x22ec5d){const _0x4fb313=_0x3d1090,_0x234199=Date[_0x4fb313(0x267)](),_0x3b3292=await this[_0x4fb313(0xa8b)](_0x354c81,_0x109e59['parameters']);this[_0x4fb313(0x9d2)](_0x3b3292,_0x234199,Date[_0x4fb313(0x267)]());const _0x42835a={'id':_0x354c81,'jobType':_0x17d99b[_0x4fb313(0x95d)],'jobPhase':_0x5e252a[_0x4fb313(0x796)],'result':_0x3b3292};_0x3dc4e5[_0x4fb313(0x546)](_0x5a543d['Jobs'],'JobWorker:\x20Sending\x20job\x20result',_0x42835a),await this[_0x4fb313(0x908)](_0x42835a,[_0x22ec5d]),this[_0x4fb313(0x846)](_0x354c81,_0x109e59[_0x4fb313(0x7b8)]);}async[_0x3d1090(0x9da)](_0x39c286,_0x245eab,_0x44aff5,_0x4a50b3){const _0x1e01bc=_0x3d1090,_0x159633=Date['now']();let _0x1407d7=0x0,_0x291435={};for await(const _0x38b9d6 of this['internalProcessJobStream'](_0x44aff5['id'],_0x44aff5[_0x1e01bc(0x7b8)])){const _0x581709={'id':_0x39c286,'jobType':_0x245eab[_0x1e01bc(0x95d)],'jobPhase':_0x5e252a[_0x1e01bc(0x5be)],'result':{..._0x38b9d6,'index':_0x1407d7}};_0x3dc4e5['log'](_0x5a543d[_0x1e01bc(0x373)],_0x1e01bc(0x416),_0x581709),this['send'](_0x581709,[_0x4a50b3]),_0x291435=this[_0x1e01bc(0x9e6)](_0x291435,_0x38b9d6),_0x1407d7++;}this[_0x1e01bc(0x9d2)](_0x291435,_0x159633,Date[_0x1e01bc(0x267)]());const _0x15a709={'id':_0x39c286,'jobType':_0x245eab['jobType'],'jobPhase':_0x5e252a['Result'],'result':_0x291435};_0x3dc4e5['log'](_0x5a543d[_0x1e01bc(0x373)],'JobWorker:\x20Sending\x20job\x20result',_0x15a709),await this[_0x1e01bc(0x908)](_0x15a709,[_0x4a50b3]),this[_0x1e01bc(0x846)](_0x39c286,_0x44aff5[_0x1e01bc(0x7b8)]);}[_0x3d1090(0x4fa)](_0x269bc4){const _0x1a8d64=_0x3d1090;return _0x269bc4[_0x1a8d64(0xa61)]===_0x5e252a['Request'];}[_0x3d1090(0x3b1)](_0xc052b7){const _0x187ebe=_0x3d1090;return _0xc052b7['jobPhase']===_0x5e252a[_0x187ebe(0x4c8)];}}function _0x46934d(_0x470eaf,_0x435e9c){const _0x36d091=_0x3d1090;return _0x36d091(0x474)+_0x470eaf+'-'+_0x435e9c;}function _0x1c7879(){const _0x30c63d=_0x3d1090,_0x14143a=_0x498528['layout'](0x1);return _0x14143a[_0x30c63d(0x71a)](_0x30c63d(0x692))['index']('id')[_0x30c63d(0x560)](_0x30c63d(0x389))[_0x30c63d(0x560)](_0x30c63d(0x84e))[_0x30c63d(0x560)]('threadId')[_0x30c63d(0x560)](_0x30c63d(0xa8a))[_0x30c63d(0x560)](_0x30c63d(0x62f)),_0x14143a;}function _0x4566e0(_0x40d763){const _0x619f4b=_0x3d1090;try{return JSON[_0x619f4b(0x90a)](_0x40d763);}catch(_0x2c471d){return _0x40d763 instanceof Error?_0x40d763['toString']():JSON['stringify'](_0x619f4b(0xaa7));}}class _0x3df76c{static [_0x3d1090(0x404)];[_0x3d1090(0x828)]=_0x17d38d[_0x3d1090(0x747)];[_0x3d1090(0xa16)]=_0x17d38d[_0x3d1090(0x933)];[_0x3d1090(0x652)]=_0x4b0d8e[_0x3d1090(0xa13)];['openedTraces']={};static [_0x3d1090(0x49a)]=()=>(_0x3df76c[_0x3d1090(0x404)]||(_0x3df76c[_0x3d1090(0x404)]=new _0x3df76c()),_0x3df76c[_0x3d1090(0x404)]);[_0x3d1090(0xa1c)](_0x4c3d1c,_0xbdc39f,_0x453e97=!0x0){const _0x1b1f6a=_0x3d1090;try{if(this['openedTraces'][_0xbdc39f])throw new Error(_0x1b1f6a(0x57b));const _0x3aaae8={'sequence':0x0};if(this[_0x1b1f6a(0x687)][_0xbdc39f]=_0x3aaae8,!_0x4c3d1c)return!0x0;const _0x5b051a=function(_0x3c2d3a){const _0x4fa4b2=_0x1b1f6a;return _0x3c2d3a[_0x4fa4b2(0x40b)](_0x4fa4b2(0x692));}(_0x4c3d1c);return _0x3aaae8[_0x1b1f6a(0x392)]=_0x4c3d1c,_0x3aaae8[_0x1b1f6a(0x71a)]=_0x5b051a,!0x0;}catch(_0x100e44){return console[_0x1b1f6a(0x58c)](_0x1b1f6a(0x7eb)+_0x453e97,_0x100e44),!!_0x453e97&&(this[_0x1b1f6a(0x904)](_0xbdc39f),this[_0x1b1f6a(0xa1c)](_0x4c3d1c,_0xbdc39f,!0x1));}}[_0x3d1090(0x525)](_0x531d62){const _0x59b459=_0x3d1090;try{const _0x552f6f=this[_0x59b459(0x687)][_0x531d62[_0x59b459(0x389)]];if(!_0x552f6f)throw new Error(_0x59b459(0x576));_0x531d62[_0x59b459(0x62f)]=_0x552f6f[_0x59b459(0x62f)]++,_0x531d62[_0x59b459(0x81d)]>=this['logLevel']&&console['log'](JSON[_0x59b459(0x90a)](_0x531d62,null,0x2)),this[_0x59b459(0x371)](_0x531d62);}catch(_0x27d4c5){console[_0x59b459(0x58c)](_0x59b459(0x272),_0x27d4c5);}}[_0x3d1090(0x904)](_0xb84281){const _0x3b4828=_0x3d1090;if(!_0x3df76c['instance'])throw new Error(_0x3b4828(0x2ad));if(!this[_0x3b4828(0x687)][_0xb84281])throw new Error(_0x3b4828(0x8cf));delete this[_0x3b4828(0x687)][_0xb84281];}['commitTrace'](_0x4ad4e3){const _0x24f29e=_0x3d1090;if(_0x4ad4e3[_0x24f29e(0x81d)]<this[_0x24f29e(0xa16)]&&_0x4ad4e3['jobType']!==this[_0x24f29e(0x652)])return;if(!this[_0x24f29e(0x687)][_0x4ad4e3[_0x24f29e(0x389)]])throw new Error(_0x24f29e(0x790));const _0xc47cb1=this['openedTraces'][_0x4ad4e3['jobId']];if(!_0xc47cb1[_0x24f29e(0x392)])throw new Error(_0x24f29e(0x280));if(!_0xc47cb1[_0x24f29e(0x71a)])throw new Error(_0x24f29e(0x9dc));try{const _0x2fbd20=function(_0x279a66){const _0x19a1ed=_0x24f29e,_0x12ad5b=[_0x19a1ed(0x7ba),_0x19a1ed(0xa8a),_0x19a1ed(0x95d),'type',_0x19a1ed(0x389),'traceLevel','blockId',_0x19a1ed(0x479),_0x19a1ed(0x62f),_0x19a1ed(0x410)],_0x296810={..._0x279a66};for(const _0x3e75d1 of _0x12ad5b)delete _0x296810[_0x3e75d1];return{'timestamp':_0x279a66[_0x19a1ed(0xa8a)],'jobType':_0x279a66[_0x19a1ed(0x95d)],'type':_0x279a66[_0x19a1ed(0x88c)],'jobId':_0x279a66[_0x19a1ed(0x389)],'agentId':_0x279a66[_0x19a1ed(0x84e)]??'','traceLevel':_0x279a66[_0x19a1ed(0x81d)],'blockId':_0x279a66[_0x19a1ed(0x718)]??'','startTime':_0x279a66['startTime'],'status':_0x279a66[_0x19a1ed(0x479)],'sequence':_0x279a66[_0x19a1ed(0x62f)]??0x0,'errorDetails':_0x279a66['errorDetails']??'','metadata':_0x4566e0(_0x296810)};}(_0x4ad4e3),_0x3ec79a=(0x0,_0x14a38c['v4'])();console[_0x24f29e(0x546)]('Logging\x20trace',_0x2fbd20[_0x24f29e(0x88c)]),_0xc47cb1[_0x24f29e(0x71a)][_0x24f29e(0x6f0)](_0x3ec79a,_0x2fbd20);}catch(_0x7f8055){console[_0x24f29e(0x58c)](_0x24f29e(0x32d),_0x7f8055);}}}const _0x4b997a=_0x3df76c[_0x3d1090(0x49a)]();async function _0xe125d0(_0x92e17c,_0x424731,_0x44af13,_0x4639fc,_0x49923a){const _0x2781ea=_0x3d1090,_0x12ac57=Date[_0x2781ea(0x267)](),_0x1869b2=_0x49923a['models'][_0x2781ea(0x447)](_0x5b6e13=>_0x5b6e13['id']===_0x44af13[_0x2781ea(0x7c7)]);if(!_0x1869b2)throw new Error(_0x2781ea(0x880));const _0xcc16f2=_0x49923a['generativeAIWorkerConnectors'][_0x2781ea(0x447)](_0x41498f=>_0x41498f[_0x2781ea(0x7d1)]()===_0x1869b2['engineType']);if(!_0xcc16f2)throw new Error(_0x2781ea(0x703));const _0xb9e59b=[],_0x5daeef=(0x0,_0x14a38c['v4'])(),_0x2d8c08=await _0xcc16f2[_0x2781ea(0x690)]({'type':'prompt','prompt':_0x424731,'instructions':_0x44af13[_0x2781ea(0xa8e)],'grammar':_0x44af13[_0x2781ea(0x2a5)],'temperature':_0x44af13['temperature'],'maxTokens':_0x44af13[_0x2781ea(0x527)],'threadId':_0x5daeef},{'model':_0x1869b2});if(_0x2781ea(0x205)!=typeof _0x2d8c08[_0x2781ea(0x8f8)])throw new Error('Agent\x20output\x20is\x20not\x20a\x20string');_0x4b997a[_0x2781ea(0x525)]({'jobType':_0x4b0d8e[_0x2781ea(0x2e4)],'type':_0xed985f[_0x2781ea(0x7ae)],'jobId':_0x92e17c,'blockId':_0x44af13['id'],'traceLevel':_0x17d38d[_0x2781ea(0x4b8)],'timestamp':Date['now'](),'startTime':_0x12ac57,'status':_0x2781ea(0x51e),'agentId':_0x5daeef,'content':_0x424731,'instructions':_0x44af13[_0x2781ea(0xa8e)],'result':_0x2d8c08[_0x2781ea(0x8f8)]}),_0xb9e59b[_0x2781ea(0xa93)]({'content':_0x2d8c08['output'],'start':0x0,'length':_0x424731[_0x2781ea(0x73c)]}),await _0x1b3930(_0x92e17c,_0xb9e59b,_0x44af13,_0x4639fc,_0x49923a);}async function _0x518acc(_0x53ddc9,_0xa0d96b,_0x5044c3,_0x4d68e1,_0x719d41){const _0x19ead7=_0x3d1090,_0x527b1c=Date[_0x19ead7(0x267)]();let _0x6537e2=[];if(_0xa0d96b instanceof Array){for(const _0xffaa08 of _0xa0d96b)_0x6537e2=_0x6537e2[_0x19ead7(0x2ba)](_0x150b45(_0xffaa08[_0x19ead7(0x1d7)],_0x5044c3,_0xffaa08[_0x19ead7(0x30e)],_0xffaa08['length']));}else _0x6537e2=_0x150b45(_0xa0d96b,_0x5044c3);_0x4b997a[_0x19ead7(0x525)]({'jobType':_0x4b0d8e[_0x19ead7(0x2e4)],'type':_0xed985f['ChunkSplitter'],'traceLevel':_0x17d38d['Debug'],'jobId':_0x53ddc9,'blockId':_0x5044c3['id'],'startTime':_0x527b1c,'timestamp':Date[_0x19ead7(0x267)](),'status':'success','totalChunks':_0x6537e2[_0x19ead7(0x73c)],'chunkSize':_0x5044c3['attributes'][_0x19ead7(0x8e5)]}),await _0x1b3930(_0x53ddc9,_0x6537e2,_0x5044c3,_0x4d68e1,_0x719d41);}function _0x150b45(_0x59d464,_0x124311,_0x193540,_0x2268a5){const _0x5054aa=_0x3d1090,_0xf7aa55=[];let _0x1d5d23=0x0;for(let _0x24c088=0x0;_0x24c088<_0x59d464[_0x5054aa(0x73c)];_0x24c088+=_0x124311[_0x5054aa(0x80a)]['size']){let _0x1e574a=_0x24c088-_0x124311[_0x5054aa(0x80a)][_0x5054aa(0x4da)];_0x1e574a<0x0&&(_0x1e574a=0x0);let _0xcd362f=_0x24c088+_0x124311[_0x5054aa(0x80a)][_0x5054aa(0x8e5)]+_0x124311[_0x5054aa(0x80a)][_0x5054aa(0x4da)];_0xcd362f>_0x59d464['length']&&(_0xcd362f=_0x59d464[_0x5054aa(0x73c)]);const _0xdba7bb=_0x59d464[_0x5054aa(0x733)](_0x1e574a,_0xcd362f);_0xf7aa55['push']({'content':_0xdba7bb,'start':_0x193540??_0x1d5d23,'length':_0x2268a5??_0xdba7bb[_0x5054aa(0x73c)]}),_0x1d5d23+=_0xdba7bb[_0x5054aa(0x73c)];}return _0xf7aa55;}async function _0x493e4c(_0x3543ad,_0x50ded1,_0xa21735,_0x4703e4,_0x461e5b){const _0x1ba269=_0x3d1090,_0x44e029=Date[_0x1ba269(0x267)]();let _0x3a9b4c;if(_0x50ded1['file'][_0x1ba269(0x88c)][_0x1ba269(0x961)](_0x1ba269(0xa73))||(_0x433b03=_0x50ded1[_0x1ba269(0x2c4)][_0x1ba269(0x643)],_0x5ea8fb[_0x1ba269(0x1e2)]('.'+(_0x433b03[_0x1ba269(0xa49)]('.')[_0x1ba269(0x2a7)]()?.[_0x1ba269(0x716)]()||''))))_0x3a9b4c=await _0x50ded1[_0x1ba269(0x2c4)][_0x1ba269(0xa55)]();else{if(!_0x461e5b[_0x1ba269(0x266)][_0x1ba269(0x53f)](_0x50ded1[_0x1ba269(0x2c4)]))throw new Error('Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20'+_0x50ded1[_0x1ba269(0x2c4)]['type']+_0x1ba269(0x649)+_0x50ded1['file'][_0x1ba269(0x643)]);_0x3a9b4c=await _0x461e5b[_0x1ba269(0x266)][_0x1ba269(0x25a)](_0x50ded1[_0x1ba269(0x2c4)]);}var _0x433b03;_0x4b997a[_0x1ba269(0x525)]({'jobType':_0x4b0d8e['Ingest'],'type':_0xed985f[_0x1ba269(0x720)],'traceLevel':_0x17d38d[_0x1ba269(0x4b8)],'blockId':_0xa21735['id'],'jobId':_0x3543ad,'startTime':_0x44e029,'timestamp':Date[_0x1ba269(0x267)](),'status':_0x1ba269(0x51e),'documentType':_0x50ded1[_0x1ba269(0x2c4)][_0x1ba269(0x88c)],'documentName':_0x50ded1[_0x1ba269(0x2c4)]['name'],'extractionMethod':_0x1ba269(0xa9e)}),await _0x1b3930(_0x3543ad,_0x3a9b4c,_0xa21735,_0x4703e4,_0x461e5b);}const _0x5ea8fb=[_0x3d1090(0x937),'.ts','.py',_0x3d1090(0x3ff),_0x3d1090(0x562),_0x3d1090(0x488),'.css',_0x3d1090(0x22b),_0x3d1090(0x22f),_0x3d1090(0x83b),_0x3d1090(0x782),_0x3d1090(0x7bd),_0x3d1090(0x1eb),_0x3d1090(0x5a1),'.cfg','.conf',_0x3d1090(0x3e3),_0x3d1090(0x2d7),_0x3d1090(0x4ab),_0x3d1090(0x51a),'.c','.cpp',_0x3d1090(0x2b1),'.r',_0x3d1090(0x585),_0x3d1090(0x78b),_0x3d1090(0x313),_0x3d1090(0x7b0),_0x3d1090(0x3c7),'.dart','.pl',_0x3d1090(0x7a2),_0x3d1090(0x34d),_0x3d1090(0x78e),_0x3d1090(0x7b3),_0x3d1090(0x907),_0x3d1090(0x333),_0x3d1090(0xa75),_0x3d1090(0x1d0),'.ps1',_0x3d1090(0x810),'.m',_0x3d1090(0x5a3),_0x3d1090(0x973),_0x3d1090(0x91b),_0x3d1090(0x69e),_0x3d1090(0x75b),'.jsx',_0x3d1090(0x47e),_0x3d1090(0x219),_0x3d1090(0x2ab),_0x3d1090(0x425),_0x3d1090(0x5cf),_0x3d1090(0x29d),_0x3d1090(0x380),_0x3d1090(0x4ca),_0x3d1090(0x2b7),'.liquid',_0x3d1090(0x762),_0x3d1090(0x1b1),_0x3d1090(0x644),_0x3d1090(0x773),_0x3d1090(0x3eb)];async function _0xa23545(_0x50fdeb,_0x1a55bc,_0x58c033,_0x2c6cbd,_0x344faf){const _0x4532a1=_0x3d1090,_0x3b07b7=Date[_0x4532a1(0x267)](),_0x3464dd=new Set();let _0x3f2468=0x0;for(const _0xac51b9 of _0x1a55bc)_0x3f2468+=_0xac51b9[_0x4532a1(0x1d7)][_0x4532a1(0x73c)],await _0x345a24(_0xac51b9[_0x4532a1(0x1d7)],_0x3464dd,_0x58c033,_0x344faf['nlpLibraryConnector']);_0x4b997a[_0x4532a1(0x525)]({'jobType':_0x4b0d8e[_0x4532a1(0x2e4)],'type':_0xed985f[_0x4532a1(0x8a7)],'jobId':_0x50fdeb,'blockId':_0x58c033['id'],'traceLevel':_0x17d38d['Debug'],'startTime':_0x3b07b7,'timestamp':Date[_0x4532a1(0x267)](),'status':_0x4532a1(0x51e),'contentLength':_0x3f2468,'totalChunks':_0x1a55bc instanceof Array?_0x1a55bc['length']:0x1,'entitiesExtracted':_0x3464dd,'totalEntities':_0x3464dd[_0x4532a1(0x8e5)]}),await _0x1b3930(_0x50fdeb,_0x3464dd,_0x58c033,_0x2c6cbd,_0x344faf);}async function _0x345a24(_0x18997d,_0x41cc33,_0x58ab6f,_0x5f04b9){const _0x77b331=_0x3d1090,_0x207a23=await _0x5f04b9[_0x77b331(0x18f)](_0x18997d,{'ner':_0x58ab6f[_0x77b331(0x80a)]['ner'],'noun':_0x58ab6f[_0x77b331(0x80a)][_0x77b331(0x510)],'propn':_0x58ab6f[_0x77b331(0x80a)][_0x77b331(0x97d)],'verb':_0x58ab6f[_0x77b331(0x80a)]['verb']});for(const _0x1b569b of _0x207a23)_0x41cc33[_0x77b331(0x691)](_0x1b569b);}function _0x2ab1da(_0x35718b,_0x41ab5f,_0x7cabf3,_0xf643f2,_0x21c9b2){const _0x5d6cca=_0x3d1090,_0x1abedf=Date[_0x5d6cca(0x267)]();if(_0x7cabf3[_0x5d6cca(0x63a)]||(_0x7cabf3['accumulated']={}),'string'==typeof _0x41ab5f?_0x7cabf3['accumulated'][_0x5d6cca(0x1d7)]=_0x41ab5f:_0x41ab5f instanceof Set?_0x7cabf3[_0x5d6cca(0x63a)][_0x5d6cca(0x5e3)]=_0x41ab5f:_0x41ab5f instanceof Map?_0x7cabf3[_0x5d6cca(0x63a)][_0x5d6cca(0x2f2)]=_0x41ab5f:_0x41ab5f instanceof Array?_0x7cabf3['accumulated']['index']=_0x41ab5f:_0x7cabf3[_0x5d6cca(0x63a)][_0x5d6cca(0x2c4)]=_0x41ab5f,_0x7cabf3['timesCalled']=_0x7cabf3[_0x5d6cca(0x63f)]?_0x7cabf3[_0x5d6cca(0x63f)]+0x1:0x1,_0x130593(_0x7cabf3,_0xf643f2)>_0x7cabf3['timesCalled'])return;if(!(_0x7cabf3[_0x5d6cca(0x63a)][_0x5d6cca(0x5e3)]&&_0x7cabf3['accumulated'][_0x5d6cca(0x2c4)]&&_0x7cabf3['accumulated'][_0x5d6cca(0x1d7)]&&_0x7cabf3[_0x5d6cca(0x63a)]['index']))throw new Error(_0x5d6cca(0x74e));let _0x3f0a81=0x0;const _0x57ba7c=_0x21c9b2[_0x5d6cca(0x693)][_0x5d6cca(0x52d)](_0x7cabf3['id']);for(const _0x5550c8 of _0x7cabf3[_0x5d6cca(0x63a)][_0x5d6cca(0x5e3)]){let _0x2376a7=[];_0x2376a7=_0x7cabf3[_0x5d6cca(0x63a)][_0x5d6cca(0x560)][_0x5d6cca(0x25d)](_0x512d75=>_0x512d75[_0x5d6cca(0x1d7)][_0x5d6cca(0x1e2)](_0x5550c8));try{_0x57ba7c[_0x5d6cca(0xa40)](_0x7cabf3[_0x5d6cca(0x63a)][_0x5d6cca(0x2c4)]['pathName'],_0x7cabf3[_0x5d6cca(0x63a)][_0x5d6cca(0x1d7)],_0x2376a7,_0x5550c8),_0x3f0a81+=0x1;}catch(_0x5bf86d){}}if(_0x7cabf3[_0x5d6cca(0x63a)]['relations']){for(const [_0x38a7ee,_0x5d2a38]of _0x7cabf3[_0x5d6cca(0x63a)]['relations'])for(const _0x370de0 of _0x5d2a38)try{_0x57ba7c[_0x5d6cca(0x2a1)](_0x38a7ee,_0x370de0);}catch(_0x50aab6){}if(_0x57ba7c[_0x5d6cca(0x954)]()){let _0x1c869d=''+(_0x21c9b2[_0x5d6cca(0x4f5)]??0x1);for(const _0x101544 of _0xf643f2)if(_0x101544[_0x5d6cca(0x88c)]===_0x4f2535['Agent']){_0x1c869d=_0x1c869d+'-'+(_0x101544['version']??0x1);break;}_0x57ba7c[_0x5d6cca(0x532)](_0x1c869d);}_0x4b997a[_0x5d6cca(0x525)]({'jobType':_0x4b0d8e[_0x5d6cca(0x2e4)],'type':_0xed985f[_0x5d6cca(0x77b)],'jobId':_0x35718b,'blockId':_0x7cabf3['id'],'status':_0x5d6cca(0x51e),'startTime':_0x1abedf,'timestamp':Date[_0x5d6cca(0x267)](),'traceLevel':_0x17d38d['Debug'],'nodesAdded':_0x3f0a81,'entities':_0x7cabf3[_0x5d6cca(0x63a)][_0x5d6cca(0x5e3)],'relations':_0x7cabf3[_0x5d6cca(0x63a)][_0x5d6cca(0x2f2)]});}}async function _0x487c71(_0x3f6e84,_0x4afebe,_0x4c2050,_0x1180ef,_0x1cac9d){const _0x2d62ee=_0x3d1090,_0x5cbe15=_0x1cac9d['models'][_0x2d62ee(0x447)](_0x33d55d=>_0x33d55d['id']===_0x4c2050['id']);if(!_0x5cbe15)throw new Error('Model\x20not\x20found');switch(_0x5cbe15[_0x2d62ee(0x68e)]){case _0x25b155['GenerativeAIModelOutputType'][_0x2d62ee(0x76f)]:if(_0x2d62ee(0x205)!=typeof _0x4afebe)throw new Error(_0x2d62ee(0x837));await async function(_0x3c7436,_0x47af36,_0x1cb8c9,_0x5aa0a5,_0x5204ca,_0x249876){const _0x1bd274=_0x2d62ee,_0x5a47b4=Date[_0x1bd274(0x267)]();let _0x206546;const _0x1da346=_0x249876[_0x1bd274(0x319)][_0x1bd274(0x447)](_0x2f41fd=>_0x2f41fd[_0x1bd274(0x7d1)]()===_0x1cb8c9[_0x1bd274(0x935)]);if(!_0x1da346)throw new Error('No\x20connector\x20found\x20for\x20model');_0x206546=await async function(_0x25853e,_0x2f5c57,_0x2f6125){const _0x2dac16=_0x1bd274,_0x579a9d=await _0x2f5c57[_0x2dac16(0x690)]({'type':_0x2dac16(0x513),'prompt':_0x25853e,'threadId':''},{'model':_0x2f6125});if(_0x579a9d[_0x2dac16(0x8f8)]instanceof Array)throw new Error(_0x2dac16(0x936));return _0x579a9d[_0x2dac16(0x8f8)];}(_0x47af36,_0x1da346,_0x1cb8c9),_0x4b997a[_0x1bd274(0x525)]({'jobType':_0x4b0d8e[_0x1bd274(0x2e4)],'type':_0xed985f[_0x1bd274(0x477)],'jobId':_0x3c7436,'blockId':_0x5aa0a5['id'],'traceLevel':_0x17d38d[_0x1bd274(0x4b8)],'timestamp':Date['now'](),'startTime':_0x5a47b4,'status':_0x1bd274(0x51e),'modelName':_0x1cb8c9['id'],'inputType':_0x1cb8c9['inputType'],'outputType':_0x1cb8c9[_0x1bd274(0x68e)],'content':_0x47af36,'results':_0x206546}),await _0x1b3930(_0x3c7436,_0x206546,_0x5aa0a5,_0x5204ca,_0x249876);}(_0x3f6e84,_0x4afebe,_0x5cbe15,_0x4c2050,_0x1180ef,_0x1cac9d);break;case _0x25b155[_0x2d62ee(0x962)][_0x2d62ee(0x4de)]:if(!(_0x4afebe instanceof Array))throw new Error(_0x2d62ee(0x4ad));await async function(_0x414560,_0x2f300c,_0x412bc7,_0x32873f,_0x501f8c,_0x5a1bab){const _0x93a93d=_0x2d62ee,_0x41fcb7=Date[_0x93a93d(0x267)](),_0x181bb4=[],_0x4b181c=_0x5a1bab['generativeAIWorkerConnectors'][_0x93a93d(0x447)](_0x181484=>_0x181484[_0x93a93d(0x7d1)]()===_0x412bc7['engineType']);if(!_0x4b181c)throw new Error('No\x20connector\x20found\x20for\x20model');for(const _0x38f863 of _0x2f300c)_0x181bb4['push'](await _0x47aa2d(_0x38f863,_0x4b181c,_0x412bc7));_0x4b997a['trace']({'jobType':_0x4b0d8e[_0x93a93d(0x2e4)],'type':_0xed985f[_0x93a93d(0x2fa)],'jobId':_0x414560,'blockId':_0x32873f['id'],'traceLevel':_0x17d38d[_0x93a93d(0x4b8)],'timestamp':Date[_0x93a93d(0x267)](),'startTime':_0x41fcb7,'status':'success','modelName':_0x412bc7['id'],'inputType':_0x412bc7[_0x93a93d(0x5f9)],'outputType':_0x412bc7[_0x93a93d(0x68e)],'totalVectors':_0x181bb4[_0x93a93d(0x73c)]}),await _0x1b3930(_0x414560,_0x181bb4,_0x32873f,_0x501f8c,_0x5a1bab);}(_0x3f6e84,_0x4afebe,_0x5cbe15,_0x4c2050,_0x1180ef,_0x1cac9d);}}async function _0x47aa2d(_0x171462,_0x5ec00b,_0x165396){const _0x5a30b=_0x3d1090;return(await _0x5ec00b[_0x5a30b(0x690)]({'type':_0x5a30b(0x513),'prompt':_0x171462['content'],'threadId':''},{'model':_0x165396}))[_0x5a30b(0x8f8)];}async function _0xa664dd(_0x3ecf60,_0x2e6468,_0x319723,_0x1caeba,_0x1a09b9){const _0x156fd2=_0x3d1090,_0x2ae726=Date[_0x156fd2(0x267)]();if(_0x319723[_0x156fd2(0x63a)]||(_0x319723[_0x156fd2(0x63a)]={}),_0x2e6468 instanceof Array?_0x319723['accumulated']['index']=_0x2e6468:_0x319723[_0x156fd2(0x63a)][_0x156fd2(0x5e3)]=_0x2e6468,_0x319723[_0x156fd2(0x63f)]=_0x319723[_0x156fd2(0x63f)]?_0x319723[_0x156fd2(0x63f)]+0x1:0x1,_0x130593(_0x319723,_0x1caeba)>_0x319723[_0x156fd2(0x63f)])return;if(!_0x319723[_0x156fd2(0x63a)][_0x156fd2(0x560)]||!_0x319723['accumulated'][_0x156fd2(0x5e3)])throw new Error(_0x156fd2(0x38f));const _0x158a04=new Map();for(const _0x2a43f6 of _0x319723[_0x156fd2(0x63a)][_0x156fd2(0x560)])_0x288087(_0x2a43f6[_0x156fd2(0x1d7)],_0x319723[_0x156fd2(0x63a)][_0x156fd2(0x5e3)],_0x158a04);_0x4b997a['trace']({'jobType':_0x4b0d8e[_0x156fd2(0x2e4)],'type':_0xed985f['RelationExtractor'],'jobId':_0x3ecf60,'blockId':_0x319723['id'],'traceLevel':_0x17d38d['Debug'],'timestamp':Date[_0x156fd2(0x267)](),'startTime':_0x2ae726,'status':'success','entities':_0x319723[_0x156fd2(0x63a)][_0x156fd2(0x5e3)],'relations':_0x158a04,'totalRelationsExtracted':_0x158a04[_0x156fd2(0x8e5)]}),await _0x1b3930(_0x3ecf60,_0x158a04,_0x319723,_0x1caeba,_0x1a09b9);}function _0x288087(_0x30e58c,_0x5834eb,_0x45e628){const _0x40aab6=_0x3d1090;for(const _0xedf55b of _0x5834eb)for(const _0x3eda89 of _0x5834eb){if(_0xedf55b===_0x3eda89)continue;const _0x42f784=_0x30e58c['indexOf'](_0xedf55b),_0x5c991a=_0x30e58c[_0x40aab6(0x7dc)](_0x3eda89);-0x1!==_0x42f784&&-0x1!==_0x5c991a&&(_0x45e628[_0x40aab6(0x1ac)](_0xedf55b)||_0x45e628['set'](_0xedf55b,new Set()),_0x45e628[_0x40aab6(0x252)](_0xedf55b)['add'](_0x3eda89));}return _0x45e628;}async function _0x3cf2d5(_0x2deeeb,_0x2eed8a,_0x3adb9e,_0x52acb9,_0x10a2c7){const _0x16a53c=_0x3d1090,_0x4b08bf=Date[_0x16a53c(0x267)]();let _0x58d3a6=[];if(_0x2eed8a instanceof Array)for(const _0x9fa1f3 of _0x2eed8a){const _0x4ada95=await _0x10a2c7[_0x16a53c(0x47c)][_0x16a53c(0x633)](_0x9fa1f3[_0x16a53c(0x1d7)]);_0x58d3a6=_0x58d3a6['concat'](_0x4ada95[_0x16a53c(0x855)](_0x360b45=>({'content':_0x360b45,'start':_0x9fa1f3[_0x16a53c(0x30e)],'length':_0x9fa1f3[_0x16a53c(0x73c)]})));}else _0x58d3a6=(await _0x10a2c7[_0x16a53c(0x47c)][_0x16a53c(0x633)](_0x2eed8a))[_0x16a53c(0x855)](_0x38f110=>({'content':_0x38f110,'start':_0x2eed8a[_0x16a53c(0x7dc)](_0x38f110),'length':_0x38f110[_0x16a53c(0x73c)]}));_0x4b997a['trace']({'jobType':_0x4b0d8e[_0x16a53c(0x2e4)],'type':_0xed985f['SentenceSplitter'],'jobId':_0x2deeeb,'blockId':_0x3adb9e['id'],'traceLevel':_0x17d38d[_0x16a53c(0x4b8)],'startTime':_0x4b08bf,'timestamp':Date['now'](),'status':_0x16a53c(0x51e),'totalSentences':_0x58d3a6['length'],'averageSentenceLength':_0x58d3a6[_0x16a53c(0x8f1)]((_0x55994a,_0x4beb22)=>_0x55994a+_0x4beb22[_0x16a53c(0x73c)],0x0)/_0x58d3a6['length']}),await _0x1b3930(_0x2deeeb,_0x58d3a6,_0x3adb9e,_0x52acb9,_0x10a2c7);}function _0x4f4516(_0x22c629,_0xf8d953,_0x51f4eb,_0x6ca83,_0xb2db24){const _0x4a099d=_0x3d1090,_0x196eb1=Date[_0x4a099d(0x267)]();var _0x166788;if(_0x51f4eb[_0x4a099d(0x63a)]||(_0x51f4eb[_0x4a099d(0x63a)]={}),_0xf8d953 instanceof Array?(_0x166788=_0xf8d953)[0x0]instanceof Array&&_0x4a099d(0x761)==typeof _0x166788[0x0]?.[0x0]?_0x51f4eb[_0x4a099d(0x63a)][_0x4a099d(0x92f)]=_0xf8d953:_0x51f4eb[_0x4a099d(0x63a)][_0x4a099d(0x560)]=_0xf8d953:_0x4a099d(0x205)==typeof _0xf8d953?_0x51f4eb[_0x4a099d(0x63a)][_0x4a099d(0x1d7)]=_0xf8d953:_0x51f4eb[_0x4a099d(0x63a)][_0x4a099d(0x2c4)]=_0xf8d953,_0x51f4eb[_0x4a099d(0x63f)]=_0x51f4eb[_0x4a099d(0x63f)]?_0x51f4eb[_0x4a099d(0x63f)]+0x1:0x1,_0x130593(_0x51f4eb,_0x6ca83)>_0x51f4eb[_0x4a099d(0x63f)])return;if(!(_0x51f4eb[_0x4a099d(0x63a)][_0x4a099d(0x1d7)]&&_0x51f4eb['accumulated'][_0x4a099d(0x560)]&&_0x51f4eb[_0x4a099d(0x63a)][_0x4a099d(0x92f)]&&_0x51f4eb['accumulated'][_0x4a099d(0x2c4)]))throw new Error(_0x4a099d(0x9b2));const _0x390cf2=_0xb2db24[_0x4a099d(0x693)][_0x4a099d(0x851)](_0x51f4eb['id']);if(_0x390cf2[_0x4a099d(0x6bb)](_0x51f4eb[_0x4a099d(0x63a)][_0x4a099d(0x2c4)][_0x4a099d(0x869)],_0x51f4eb[_0x4a099d(0x63a)][_0x4a099d(0x1d7)],_0x51f4eb[_0x4a099d(0x63a)][_0x4a099d(0x560)],_0x51f4eb['accumulated']['vectors']),_0x390cf2[_0x4a099d(0x954)]()){let _0x2baa74=''+(_0xb2db24[_0x4a099d(0x4f5)]??0x1);for(const _0x3e0c82 of _0x6ca83)_0x3e0c82['type']===_0x4f2535[_0x4a099d(0x7ae)]&&(_0x2baa74=_0x2baa74+'-'+(_0x3e0c82[_0x4a099d(0x4f5)]??0x1));_0x390cf2[_0x4a099d(0x532)](_0x2baa74);}_0x4b997a['trace']({'jobType':_0x4b0d8e[_0x4a099d(0x2e4)],'type':_0xed985f[_0x4a099d(0x191)],'jobId':_0x22c629,'blockId':_0x51f4eb['id'],'traceLevel':_0x17d38d['Debug'],'startTime':_0x196eb1,'timestamp':Date['now'](),'status':'success','databaseName':_0x390cf2[_0x4a099d(0x44c)](),'vectorsAdded':_0x51f4eb[_0x4a099d(0x63a)][_0x4a099d(0x92f)]['length'],'filePathName':_0x51f4eb['accumulated'][_0x4a099d(0x2c4)][_0x4a099d(0x869)]});}async function _0x332191(_0x50c502,_0x56be35,_0x1a1887,_0x13da5e,_0x1fc845){const _0x5a3cca=_0x3d1090,_0x3116fc=Date[_0x5a3cca(0x267)]();let _0x57ada7=[];if(_0x56be35 instanceof Array){for(const _0x23cfa7 of _0x56be35)_0x57ada7=_0x57ada7['concat'](_0x514e2c(_0x23cfa7['content'],_0x1a1887,_0x23cfa7[_0x5a3cca(0x30e)],_0x23cfa7[_0x5a3cca(0x73c)]));}else _0x57ada7=_0x514e2c(_0x56be35,_0x1a1887);_0x4b997a['trace']({'jobType':_0x4b0d8e[_0x5a3cca(0x2e4)],'type':_0xed985f[_0x5a3cca(0x348)],'jobId':_0x50c502,'traceLevel':_0x17d38d[_0x5a3cca(0x4b8)],'blockId':_0x1a1887['id'],'startTime':_0x3116fc,'timestamp':Date[_0x5a3cca(0x267)](),'status':_0x5a3cca(0x51e),'totalChunks':_0x57ada7[_0x5a3cca(0x73c)],'averageChunkLength':_0x57ada7[_0x5a3cca(0x8f1)]((_0x2409e0,_0x355865)=>_0x2409e0+_0x355865[_0x5a3cca(0x73c)],0x0)/_0x57ada7[_0x5a3cca(0x73c)]}),await _0x1b3930(_0x50c502,_0x57ada7,_0x1a1887,_0x13da5e,_0x1fc845);}function _0x514e2c(_0x30c192,_0x65d211,_0x4ca233,_0x5f585b){const _0x3deee2=_0x3d1090,_0x2c265d=[],_0x1c7ad2=_0x30c192[_0x3deee2(0xa49)]('\x20');let _0x29c483='',_0x5100f6=-0x1,_0x122e27=0x0,_0x49571e=0x0;for(const _0x3ddcf1 of _0x1c7ad2){if(_0x29c483[_0x3deee2(0x73c)]+_0x3ddcf1[_0x3deee2(0x73c)]>_0x65d211[_0x3deee2(0x80a)]['size']){const _0x22927b=_0x29c483['length'];let _0x29d505=_0x5100f6,_0x1bddc3='';for(;_0x29d505>=0x0&&_0x1bddc3[_0x3deee2(0x73c)]+_0x1c7ad2[_0x29d505]['length']<_0x65d211[_0x3deee2(0x80a)][_0x3deee2(0x4da)];)_0x1bddc3=_0x1c7ad2[_0x29d505]+'\x20'+_0x1bddc3,_0x29d505--;let _0x1f1176=_0x122e27,_0x5d7b10='';for(;_0x1f1176<_0x1c7ad2[_0x3deee2(0x73c)]&&_0x5d7b10[_0x3deee2(0x73c)]+_0x1c7ad2[_0x1f1176][_0x3deee2(0x73c)]<_0x65d211['attributes']['overlap'];)_0x5d7b10+=_0x1c7ad2[_0x1f1176]+'\x20',_0x1f1176++;_0x29c483=_0x1bddc3+_0x29c483+_0x5d7b10,_0x2c265d[_0x3deee2(0xa93)]({'content':_0x29c483['trim'](),'start':_0x4ca233??_0x49571e,'length':_0x5f585b??_0x29c483[_0x3deee2(0x73c)]}),_0x29c483='',_0x5100f6=_0x122e27-0x1,_0x49571e+=_0x22927b;}_0x29c483+=_0x3ddcf1+'\x20',_0x122e27++;}if(_0x29c483['length']>0x0){const _0x80f5b7=_0x29c483[_0x3deee2(0x73c)];let _0x3d8e5c=_0x5100f6,_0x28e541='';for(;_0x3d8e5c>=0x0&&_0x28e541[_0x3deee2(0x73c)]+_0x1c7ad2[_0x3d8e5c][_0x3deee2(0x73c)]<_0x65d211[_0x3deee2(0x80a)]['overlap'];)_0x28e541=_0x1c7ad2[_0x3d8e5c]+'\x20'+_0x28e541,_0x3d8e5c--;_0x29c483=_0x28e541+_0x29c483,_0x2c265d[_0x3deee2(0xa93)]({'content':_0x29c483[_0x3deee2(0x54d)](),'start':_0x4ca233??_0x49571e,'length':_0x5f585b??_0x80f5b7});}return _0x2c265d;}async function _0x1b3930(_0x145858,_0x2905c1,_0x3fb63e,_0x189c0b,_0x1e585d){const _0x19dd96=_0x3d1090;for(const _0x345527 of _0x3fb63e[_0x19dd96(0x207)]||[]){const _0x5a2391=_0x189c0b[_0x19dd96(0x447)](_0x12143f=>_0x12143f[_0x19dd96(0x4dd)]===_0x345527[_0x19dd96(0x4dd)]);if(_0x5a2391)switch(_0x5a2391[_0x19dd96(0x88c)]){case _0x4f2535[_0x19dd96(0x7ae)]:await _0xe125d0(_0x145858,_0x2905c1,_0x5a2391,_0x189c0b,_0x1e585d);break;case _0x4f2535[_0x19dd96(0x3d2)]:await _0x518acc(_0x145858,_0x2905c1,_0x5a2391,_0x189c0b,_0x1e585d);break;case _0x4f2535['DocumentParser']:await _0x493e4c(_0x145858,_0x2905c1,_0x5a2391,_0x189c0b,_0x1e585d);break;case _0x4f2535[_0x19dd96(0x8a7)]:await _0xa23545(_0x145858,_0x2905c1,_0x5a2391,_0x189c0b,_0x1e585d);break;case _0x4f2535[_0x19dd96(0x77b)]:_0x2ab1da(_0x145858,_0x2905c1,_0x5a2391,_0x189c0b,_0x1e585d);break;case _0x4f2535[_0x19dd96(0x9c1)]:await _0x487c71(_0x145858,_0x2905c1,_0x5a2391,_0x189c0b,_0x1e585d);break;case _0x4f2535[_0x19dd96(0x4eb)]:await _0xa664dd(_0x145858,_0x2905c1,_0x5a2391,_0x189c0b,_0x1e585d);break;case _0x4f2535['SentenceSplitter']:await _0x3cf2d5(_0x145858,_0x2905c1,_0x5a2391,_0x189c0b,_0x1e585d);break;case _0x4f2535[_0x19dd96(0x191)]:_0x4f4516(_0x145858,_0x2905c1,_0x5a2391,_0x189c0b,_0x1e585d);break;case _0x4f2535[_0x19dd96(0x348)]:await _0x332191(_0x145858,_0x2905c1,_0x5a2391,_0x189c0b,_0x1e585d);}}}function _0x130593(_0x1fc230,_0x530a7a){const _0x4c1400=_0x3d1090;return _0x530a7a[_0x4c1400(0x25d)](_0x33be9f=>_0x33be9f['links']?.[_0x4c1400(0x5d8)](_0x40394a=>_0x40394a['uid']===_0x1fc230['uid']))[_0x4c1400(0x73c)];}async function _0x276b5f(_0x5d1104,_0x189578,_0x6180b,_0x1160d7,_0x33dac2){const _0x477ddb=_0x3d1090;try{let _0x4b127b;switch(_0x6180b[_0x477ddb(0x88c)]){case _0x4f2535[_0x477ddb(0x8af)]:const _0xa7826c=_0x33dac2[_0x477ddb(0x693)]['getObjectStoreBucket'](_0x6180b['id']);_0x4b127b=await _0xa7826c[_0x477ddb(0x252)](_0x189578);break;case _0x4f2535['ExternalStorageUpload']:const _0x56f147=_0x33dac2[_0x477ddb(0x693)][_0x477ddb(0x1c1)](_0x6180b['id']);_0x4b127b=await _0x56f147[_0x477ddb(0x252)](_0x189578);}if(!_0x4b127b)throw new Error(_0x477ddb(0x2e1));await _0x1b3930(_0x5d1104,{'file':_0x4b127b,'pathName':_0x189578},_0x6180b,structuredClone(_0x1160d7),_0x33dac2);}catch(_0x5d2792){console[_0x477ddb(0x58c)]('Error\x20processing\x20ingest',_0x5d2792);}}const _0x31cda0=require('rxjs/operators');class _0x17d255{[_0x3d1090(0x2b5)];constructor(){const _0x4e6f36=_0x3d1090;this[_0x4e6f36(0x2b5)]=new _0x1aed9f[(_0x4e6f36(0x91d))]();}[_0x3d1090(0xa17)](_0x16b8a1){const _0x5b4983=_0x3d1090;this[_0x5b4983(0x2b5)][_0x5b4983(0xa91)](_0x16b8a1);}async[_0x3d1090(0xa29)](){const _0x36378c=_0x3d1090;return(0x0,_0x1aed9f[_0x36378c(0x5ae)])(this[_0x36378c(0x2b5)][_0x36378c(0x4c3)]((0x0,_0x31cda0[_0x36378c(0x79d)])(0x1)));}}async function _0x5188e1(_0x4a5124,_0x55f599,_0x3f27ff,_0xb2b369,_0x2fe8ac,_0x12e82c,_0x3acb51){const _0x157b61=_0x3d1090,_0x8cd4e5=Date[_0x157b61(0x267)](),_0x5a9d2a=new Set();if(_0x3f27ff instanceof Array){for(const _0x482fa3 of _0x3f27ff)await _0x347c83(_0x482fa3[_0x157b61(0x1d7)],_0x2fe8ac,_0x5a9d2a,_0x3acb51[_0x157b61(0x47c)]);}else await _0x347c83(_0x3f27ff,_0x2fe8ac,_0x5a9d2a,_0x3acb51[_0x157b61(0x47c)]);_0x4b997a[_0x157b61(0x525)]({'jobType':_0x4b0d8e[_0x157b61(0xa13)],'type':_0x540904['EntityExtractor'],'jobId':_0x4a5124,'threadId':_0x55f599,'blockId':_0x2fe8ac['id'],'traceLevel':_0x17d38d[_0x157b61(0x4b8)],'startTime':_0x8cd4e5,'timestamp':Date[_0x157b61(0x267)](),'status':_0x157b61(0x51e),'content':_0x3f27ff,'entitiesExtracted':Array[_0x157b61(0x2bc)](_0x5a9d2a),'totalEntities':_0x5a9d2a['size']}),await _0x478fa2(_0x4a5124,_0x55f599,_0x5a9d2a,_0xb2b369,_0x2fe8ac,_0x12e82c,_0x3acb51);}async function _0x347c83(_0x38d352,_0x4689ee,_0x34dc7f,_0x2c43aa){const _0x398721=_0x3d1090,_0x5a1e07=await _0x2c43aa['getEntities'](_0x38d352,{'ner':_0x4689ee[_0x398721(0x80a)][_0x398721(0x860)],'noun':_0x4689ee['attributes'][_0x398721(0x510)],'propn':_0x4689ee['attributes']['propn'],'verb':_0x4689ee[_0x398721(0x80a)][_0x398721(0x7c1)]});for(const _0x11e981 of _0x5a1e07)_0x34dc7f[_0x398721(0x691)](_0x11e981);}async function _0x544cae(_0x313d46,_0x52fd24,_0x58aa83,_0x99dd83,_0x1bf769,_0x5ccd02,_0x459a4e){const _0x38acde=_0x3d1090,_0x181c8f=Date['now']();if(_0x1bf769[_0x38acde(0x63a)]||(_0x1bf769[_0x38acde(0x63a)]={}),_0x58aa83 instanceof Array?(_0x1bf769[_0x38acde(0x63a)][_0x38acde(0x396)]||(_0x1bf769[_0x38acde(0x63a)][_0x38acde(0x396)]=[]),_0x1bf769[_0x38acde(0x63a)]['results'][_0x38acde(0xa93)](..._0x58aa83)):_0x58aa83 instanceof Set?_0x1bf769[_0x38acde(0x63a)]['entities']=_0x58aa83:_0x1bf769['accumulated'][_0x38acde(0x513)]=_0x58aa83,_0x1bf769[_0x38acde(0x63f)]=_0x1bf769[_0x38acde(0x63f)]?_0x1bf769[_0x38acde(0x63f)]+0x1:0x1,_0xd5e151(_0x1bf769,_0x5ccd02)>_0x1bf769[_0x38acde(0x63f)])return;if(!_0x1bf769[_0x38acde(0x63a)][_0x38acde(0x513)]&&!_0x1bf769['accumulated'][_0x38acde(0x396)]||!_0x1bf769['accumulated'][_0x38acde(0x5e3)])throw new Error(_0x38acde(0x74e));const _0x51efe8=_0x459a4e[_0x38acde(0x693)][_0x38acde(0x52d)](_0x1bf769['id'])[_0x38acde(0x771)](Array[_0x38acde(0x2bc)](_0x1bf769[_0x38acde(0x63a)]['entities']),_0x1bf769[_0x38acde(0x80a)][_0x38acde(0x438)],_0x1bf769['attributes'][_0x38acde(0x307)]);let _0x37a708=[];for(const _0x28012e in _0x51efe8){const _0x178776=_0x51efe8[_0x28012e];for(const _0x507e90 of _0x178776){let _0x333a4e=0x0;if(_0x1bf769[_0x38acde(0x63a)][_0x38acde(0x513)]&&(_0x333a4e=await _0x459a4e[_0x38acde(0x47c)][_0x38acde(0x8a4)](_0x1bf769['accumulated'][_0x38acde(0x513)],_0x507e90)),_0x1bf769[_0x38acde(0x63a)][_0x38acde(0x396)]){for(const _0x914434 of _0x1bf769['accumulated']['results'])_0x333a4e=Math[_0x38acde(0x3bf)](_0x333a4e,await _0x459a4e[_0x38acde(0x47c)][_0x38acde(0x8a4)](_0x914434[_0x38acde(0x1d7)],_0x507e90));}_0x333a4e<_0x1bf769[_0x38acde(0x80a)][_0x38acde(0x638)]||_0x37a708[_0x38acde(0xa93)]({'content':_0x507e90,'relevance':_0x333a4e,'pathName':_0x28012e});}}_0x37a708=_0x37a708[_0x38acde(0xa08)]((_0x5d5fb0,_0x211c93)=>_0x211c93[_0x38acde(0x195)]-_0x5d5fb0[_0x38acde(0x195)])[_0x38acde(0x5ec)](0x0,_0x1bf769[_0x38acde(0x80a)][_0x38acde(0x740)]),_0x4b997a[_0x38acde(0x525)]({'jobType':_0x4b0d8e[_0x38acde(0xa13)],'type':_0x540904[_0x38acde(0xa38)],'jobId':_0x313d46,'threadId':_0x52fd24,'blockId':_0x1bf769['id'],'traceLevel':_0x17d38d[_0x38acde(0x4b8)],'timestamp':Date[_0x38acde(0x267)](),'startTime':_0x181c8f,'status':_0x38acde(0x51e),'content':_0x58aa83,'topResults':_0x37a708,'numResults':_0x37a708[_0x38acde(0x73c)]}),await _0x478fa2(_0x313d46,_0x52fd24,_0x37a708,_0x99dd83,_0x1bf769,_0x5ccd02,_0x459a4e);}async function _0x47b5db(_0x2063f7,_0xb241d5,_0x34b634,_0x3372c7,_0x44a3d9,_0x45a402,_0x5bcc71){const _0x10e6e8=_0x3d1090,_0x494ad5=_0x5bcc71[_0x10e6e8(0x3a1)][_0x10e6e8(0x447)](_0x222799=>_0x222799['id']===_0x44a3d9['id']);if(!_0x494ad5)throw new Error('Model\x20not\x20found');let _0x330415='';switch(_0x330415=_0x34b634 instanceof Array?_0x34b634[_0x10e6e8(0x855)](_0x101371=>_0x101371[_0x10e6e8(0x1d7)])[_0x10e6e8(0x4b9)](',\x20'):_0x34b634,_0x494ad5[_0x10e6e8(0x68e)]){case _0x25b155[_0x10e6e8(0x962)][_0x10e6e8(0x76f)]:await async function(_0x39754a,_0x313ced,_0x13fa59,_0x41848f,_0x118e8b,_0x2b38c2,_0xf68beb,_0x2244fe){const _0x167506=_0x10e6e8,_0x289100=Date[_0x167506(0x267)](),_0x2b3b65=_0x2244fe[_0x167506(0x319)]['find'](_0x43300d=>_0x43300d[_0x167506(0x7d1)]()===_0x118e8b[_0x167506(0x935)]);if(!_0x2b3b65)throw new Error('No\x20connector\x20found\x20for\x20model');const _0x1deb80=await async function(_0x3f3c89,_0x13ee2e,_0x2f2894,_0x22dc4a,_0x5465fd){const _0x17b281=_0x167506,_0x15878e={'type':'prompt','prompt':_0x13ee2e,'threadId':_0x3f3c89};_0x2f2894['context']['length']>0x0&&(_0x15878e['instructions']=_0x17b281(0x495)+_0x2f2894[_0x17b281(0x7e2)]['map'](_0x4db96c=>_0x17b281(0x990)+_0x4db96c[_0x17b281(0x869)]+':\x20'+_0x4db96c[_0x17b281(0x1d7)])[_0x17b281(0x4b9)]('\x0a'));const _0x439437=await _0x22dc4a[_0x17b281(0x690)](_0x15878e,{'model':_0x5465fd});if(_0x439437[_0x17b281(0x8f8)]instanceof Array)throw new Error(_0x17b281(0x1cf));return _0x2f2894['inputTokens']+=_0x439437[_0x17b281(0x2dc)]??0x0,_0x2f2894[_0x17b281(0x8ba)]+=_0x439437[_0x17b281(0x8ba)]??0x0,_0x439437[_0x17b281(0x8f8)];}(_0x313ced,_0x13fa59,_0x41848f,_0x2b3b65,_0x118e8b);_0x4b997a[_0x167506(0x525)]({'jobType':_0x4b0d8e[_0x167506(0xa13)],'type':_0x540904['ModelText'],'jobId':_0x39754a,'threadId':_0x313ced,'blockId':_0x2b38c2['id'],'traceLevel':_0x17d38d[_0x167506(0x4b8)],'startTime':_0x289100,'timestamp':Date[_0x167506(0x267)](),'status':'success','modelName':_0x118e8b['id'],'content':_0x13fa59,'newPrompt':_0x1deb80,'inputType':_0x118e8b[_0x167506(0x5f9)],'outputType':_0x118e8b['outputType']}),await _0x478fa2(_0x39754a,_0x313ced,_0x1deb80,_0x41848f,_0x2b38c2,_0xf68beb,_0x2244fe);}(_0x2063f7,_0xb241d5,_0x330415,_0x3372c7,_0x494ad5,_0x44a3d9,_0x45a402,_0x5bcc71);break;case _0x25b155['GenerativeAIModelOutputType'][_0x10e6e8(0x4de)]:await async function(_0x331c48,_0x370358,_0x3a7b2e,_0x498394,_0x148c99,_0x2898f6,_0x39e67d,_0x1c224f){const _0x4be861=_0x10e6e8,_0x254385=Date['now'](),_0x390abb=_0x1c224f['generativeAIWorkerConnectors']['find'](_0x4279cf=>_0x4279cf[_0x4be861(0x7d1)]()===_0x148c99[_0x4be861(0x935)]);if(!_0x390abb)throw new Error(_0x4be861(0x703));const _0x49038a=await async function(_0x4b3b25,_0x4e6dde,_0x33f478,_0x9e73da){const _0x221f53=_0x4be861;return(await _0x33f478[_0x221f53(0x690)]({'type':_0x221f53(0x513),'prompt':_0x4e6dde,'threadId':_0x4b3b25},{'model':_0x9e73da}))['output'];}(_0x370358,_0x3a7b2e,_0x390abb,_0x148c99);_0x4b997a[_0x4be861(0x525)]({'jobType':_0x4b0d8e[_0x4be861(0xa13)],'type':_0x540904[_0x4be861(0x2fa)],'jobId':_0x331c48,'threadId':_0x370358,'blockId':_0x2898f6['id'],'traceLevel':_0x17d38d[_0x4be861(0x4b8)],'startTime':_0x254385,'timestamp':Date[_0x4be861(0x267)](),'status':_0x4be861(0x51e),'modelName':_0x148c99['id'],'content':_0x3a7b2e,'totalVectors':_0x49038a[_0x4be861(0x73c)]}),await _0x478fa2(_0x331c48,_0x370358,_0x49038a,_0x498394,_0x2898f6,_0x39e67d,_0x1c224f);}(_0x2063f7,_0xb241d5,_0x330415,_0x3372c7,_0x494ad5,_0x44a3d9,_0x45a402,_0x5bcc71);}}async function _0x4dba09(_0x50ac2c,_0x35c328,_0x154435,_0x40d045,_0x2d6565,_0x2c8d16,_0x2b533d){const _0x54d26b=_0x3d1090,_0xe82e30=Date[_0x54d26b(0x267)](),_0x3acb31=_0x2b533d['contentMediator']['getVectorDatabase'](_0x2d6565['id'])['search'](_0x154435,_0x2d6565['attributes'][_0x54d26b(0x740)],_0x2d6565[_0x54d26b(0x80a)][_0x54d26b(0x638)],_0x2d6565[_0x54d26b(0x80a)]['contentSize']);_0x4b997a[_0x54d26b(0x525)]({'jobType':_0x4b0d8e['Retrieve'],'type':_0x540904[_0x54d26b(0x866)],'jobId':_0x50ac2c,'threadId':_0x35c328,'blockId':_0x2d6565['id'],'traceLevel':_0x17d38d['Debug'],'startTime':_0xe82e30,'timestamp':Date[_0x54d26b(0x267)](),'status':_0x54d26b(0x51e),'topResults':_0x3acb31,'numResults':_0x3acb31[_0x54d26b(0x73c)]}),await _0x478fa2(_0x50ac2c,_0x35c328,_0x3acb31,_0x40d045,_0x2d6565,_0x2c8d16,_0x2b533d);}async function _0x41ca89(_0x3bef2d,_0x2658d7,_0x5e3388,_0x235ba9,_0x461b4f,_0x36a641,_0x129edf){const _0x39bade=_0x3d1090,_0x84d64e=Date['now']();if(_0x461b4f[_0x39bade(0x63a)]||(_0x461b4f['accumulated']={}),_0x5e3388 instanceof Array?(_0x461b4f[_0x39bade(0x63a)][_0x39bade(0x396)]||(_0x461b4f[_0x39bade(0x63a)]['results']=[]),_0x461b4f[_0x39bade(0x63a)][_0x39bade(0x396)]['push'](..._0x5e3388)):_0x461b4f[_0x39bade(0x63a)][_0x39bade(0x513)]=_0x5e3388,_0x461b4f[_0x39bade(0x63f)]=_0x461b4f[_0x39bade(0x63f)]?_0x461b4f[_0x39bade(0x63f)]+0x1:0x1,_0xd5e151(_0x461b4f,_0x36a641)>_0x461b4f[_0x39bade(0x63f)])return;if(!_0x461b4f[_0x39bade(0x63a)][_0x39bade(0x513)]||!_0x461b4f[_0x39bade(0x63a)]['results'])throw new Error(_0x39bade(0x8de));for(const _0x3d0bab of _0x461b4f['accumulated'][_0x39bade(0x396)])_0x3d0bab['relevance']=await _0x129edf[_0x39bade(0x47c)][_0x39bade(0x8a4)](_0x461b4f[_0x39bade(0x63a)][_0x39bade(0x513)],_0x3d0bab[_0x39bade(0x1d7)]);const _0x5ea088=_0x461b4f[_0x39bade(0x63a)][_0x39bade(0x396)][_0x39bade(0x25d)](_0xfc509=>_0xfc509[_0x39bade(0x195)]>_0x461b4f[_0x39bade(0x80a)][_0x39bade(0x638)])[_0x39bade(0xa08)]((_0x43d3ee,_0x39cc2e)=>_0x39cc2e['relevance']-_0x43d3ee['relevance'])[_0x39bade(0x5ec)](0x0,_0x461b4f[_0x39bade(0x80a)][_0x39bade(0x740)]);_0x4b997a[_0x39bade(0x525)]({'jobType':_0x4b0d8e['Retrieve'],'type':_0x540904[_0x39bade(0x9f3)],'jobId':_0x3bef2d,'threadId':_0x2658d7,'blockId':_0x461b4f['id'],'traceLevel':_0x17d38d[_0x39bade(0x4b8)],'startTime':_0x84d64e,'timestamp':Date[_0x39bade(0x267)](),'status':_0x39bade(0x51e),'inputResults':_0x461b4f[_0x39bade(0x63a)]['results'],'rerankedResults':_0x5ea088}),await _0x478fa2(_0x3bef2d,_0x2658d7,_0x5ea088,_0x235ba9,_0x461b4f,_0x36a641,_0x129edf);}async function _0x478fa2(_0xcbabe8,_0x353b41,_0x17c5f1,_0x444d7c,_0x31eba3,_0x1b0192,_0x58682b){const _0x2ec256=_0x3d1090;for(const _0x5004c9 of _0x31eba3['links']||[]){const _0x46d623=_0x1b0192[_0x2ec256(0x447)](_0x5311ee=>_0x5311ee['uid']===_0x5004c9[_0x2ec256(0x4dd)]);if(_0x46d623)switch(_0x46d623[_0x2ec256(0x88c)]){case _0x4f2535[_0x2ec256(0x78a)]:_0x444d7c[_0x2ec256(0x7e2)][_0x2ec256(0xa93)](..._0x17c5f1);break;case _0x4f2535[_0x2ec256(0x8a7)]:await _0x5188e1(_0xcbabe8,_0x353b41,_0x17c5f1,_0x444d7c,_0x46d623,_0x1b0192,_0x58682b);break;case _0x4f2535['GraphDatabase']:await _0x544cae(_0xcbabe8,_0x353b41,_0x17c5f1,_0x444d7c,_0x46d623,_0x1b0192,_0x58682b);break;case _0x4f2535[_0x2ec256(0x9c1)]:await _0x47b5db(_0xcbabe8,_0x353b41,_0x17c5f1,_0x444d7c,_0x46d623,_0x1b0192,_0x58682b);break;case _0x4f2535[_0x2ec256(0x9f3)]:await _0x41ca89(_0xcbabe8,_0x353b41,_0x17c5f1,_0x444d7c,_0x46d623,_0x1b0192,_0x58682b);break;case _0x4f2535['VectorDatabase']:await _0x4dba09(_0xcbabe8,_0x353b41,_0x17c5f1,_0x444d7c,_0x46d623,_0x1b0192,_0x58682b);}}}function _0xd5e151(_0x83ce11,_0x2bfea9){const _0x4bd95c=_0x3d1090;return _0x2bfea9[_0x4bd95c(0x25d)](_0x2bd152=>_0x2bd152[_0x4bd95c(0x207)]?.[_0x4bd95c(0x5d8)](_0x33c1ba=>_0x33c1ba[_0x4bd95c(0x4dd)]===_0x83ce11[_0x4bd95c(0x4dd)]))[_0x4bd95c(0x73c)];}async function _0x193fe4(_0x275617,_0x5b056a,_0x3bc1c4,_0x5207d2,_0x250b07,_0x4a0d51){const _0x263343=_0x3d1090,_0x45bdc8={'type':_0x263343(0x513),'output':'','context':[],'inputTokens':0x0,'outputTokens':0x0};try{await _0x478fa2(_0x275617,_0x5b056a,_0x3bc1c4,_0x45bdc8,_0x5207d2,structuredClone(_0x250b07),_0x4a0d51),_0x45bdc8[_0x263343(0x8f8)]=_0x263343(0x495)+_0x45bdc8['context'][_0x263343(0x855)](_0x4dad2c=>_0x263343(0x990)+_0x4dad2c['pathName']+':\x20'+_0x4dad2c[_0x263343(0x1d7)])['join']('\x0a');}catch(_0x305bb5){console[_0x263343(0x58c)](_0x263343(0x1d6),_0x305bb5);}return _0x45bdc8;}function _0x457911(_0x3964dd,_0x2f4f40,_0x2a9d7e,_0x1abe86,_0x140056,_0x47f844,_0x34baf7,_0x56f7cd){const _0x43eed0=_0x3d1090,_0x526f39=new Map(),_0x31e313=_0x47f844['filter'](_0x5ea64c=>_0x5ea64c[_0x43eed0(0x207)]?.[_0x43eed0(0x447)](_0x47fa97=>_0x47fa97[_0x43eed0(0x4dd)]===_0x140056[_0x43eed0(0x4dd)]&&(_0x47fa97[_0x43eed0(0x88c)]===_0x2e5edf['Knowledge']||_0x47fa97['type']===_0x2e5edf[_0x43eed0(0x3fa)])));for(const _0x126e26 of _0x31e313)_0x126e26[_0x43eed0(0x88c)]===_0x3f7901['Knowledge']||_0x126e26['type']===_0x3f7901[_0x43eed0(0x8aa)]?_0x526f39['set'](_0x43eed0(0x18e)+_0x126e26['id'],_0x16171c(_0x3964dd,_0x2f4f40,_0x2a9d7e,_0x1abe86,_0x126e26,_0x34baf7,_0x56f7cd)):_0x126e26[_0x43eed0(0x88c)]===_0x3f7901['AgentSkill']||_0x126e26['type']===_0x3f7901[_0x43eed0(0x7ae)]?_0x526f39['set'](_0x43eed0(0x49c)+_0x126e26['id'],_0x52f0b7(_0x3964dd,_0x2f4f40,_0x2a9d7e,_0x1abe86,_0x126e26,_0x47f844,_0x34baf7,_0x56f7cd)):_0x126e26[_0x43eed0(0x88c)]===_0x3f7901[_0x43eed0(0x8d2)]?_0x526f39[_0x43eed0(0x6f0)](_0x126e26['name'][_0x43eed0(0x9de)](/[^a-zA-Z]/g,''),_0xf8e7bb(_0x3964dd,_0x2f4f40,_0x2a9d7e,_0x126e26,_0x47f844,_0x56f7cd)):_0x526f39[_0x43eed0(0x6f0)](_0x164cea(_0x126e26),_0x35a505(_0x3964dd,_0x2f4f40,_0x2a9d7e,_0x126e26,_0x34baf7,_0x56f7cd));return _0x140056[_0x43eed0(0x63a)]?.[_0x43eed0(0x7e2)]&&'default'===_0x140056[_0x43eed0(0x2a5)]&&_0x526f39[_0x43eed0(0x6f0)](_0x43eed0(0x4e1),function(_0x309892,_0x35ce57){const _0x12d59b=_0x43eed0;return{'description':_0x12d59b(0x482),'params':{},'callback':async()=>{const _0x219fcd=_0x12d59b;try{if(!_0x309892[_0x219fcd(0x63a)]?.['context'])throw new Error(_0x219fcd(0x4a7));_0x35ce57&&(await _0x5aa24a[_0x219fcd(0x228)](0x1),_0x35ce57['emit']({'output':_0x219fcd(0x98a),'type':_0x219fcd(0x513)}));let _0x4b465f='';if(_0x309892[_0x219fcd(0x63a)][_0x219fcd(0x7e2)]){for(const _0x126e16 of Object[_0x219fcd(0x912)](_0x309892[_0x219fcd(0x63a)][_0x219fcd(0x7e2)]))_0x4b465f=_0x126e16+':\x20'+_0x309892[_0x219fcd(0x63a)]['context'][_0x126e16]+'\x0a\x0a'+_0x4b465f;}return _0x4b465f;}catch(_0x4ddd80){return console['error'](_0x4ddd80),_0x4ddd80 instanceof Error?_0x4ddd80[_0x219fcd(0x6d7)]:'Error\x20fetching\x20context';}}};}(_0x140056,_0x56f7cd)),_0x526f39;}function _0x52f0b7(_0x1583de,_0x1e0ade,_0x8bfb5b,_0x345dbd,_0x2b7f47,_0x147344,_0x120d54,_0xb132c2){const _0x3dca42=_0x3d1090,_0x429c57='Execute\x20the\x20agent\x20'+_0x2b7f47[_0x3dca42(0x441)]+_0x3dca42(0x22d),_0x50afb9={'prompt':{'type':_0x25b155['PromptFunctionParamsType'][_0x3dca42(0x965)]}};return _0x4b997a['trace']({'jobType':_0x4b0d8e[_0x3dca42(0x584)],'type':_0x6411f7[_0x3dca42(0x19f)],'jobId':_0x1583de,'agentId':_0x1e0ade,'threadId':_0x8bfb5b,'traceLevel':_0x17d38d['Info'],'startTime':Date[_0x3dca42(0x267)](),'timestamp':Date[_0x3dca42(0x267)](),'status':_0x3dca42(0x51e),'function':_0x3ecd45['ExecuteAgent'],'params':_0x50afb9,'functionDescription':_0x429c57}),{'description':_0x429c57,'params':_0x50afb9,'callback':async _0x26b8ca=>{const _0x34d2b6=_0x3dca42,_0x30603e=Date[_0x34d2b6(0x267)]();try{if(_0xb132c2&&(await _0x5aa24a['wait'](0x1),_0xb132c2[_0x34d2b6(0xa17)]({'output':'\x0a\x0a`Executing\x20agent\x20'+_0x2b7f47[_0x34d2b6(0x643)]+_0x34d2b6(0x2f3),'type':_0x34d2b6(0x513)})),_0x34d2b6(0x205)!=typeof _0x26b8ca?.['prompt'])throw new Error(_0x34d2b6(0x2e5));let _0x2f99c3=_0x26b8ca[_0x34d2b6(0x513)];if(_0x2b7f47[_0x34d2b6(0x63a)]?.[_0x34d2b6(0x7e2)]&&'default'!==_0x2b7f47['grammar']){_0xb132c2&&(await _0x5aa24a['wait'](0x1),_0xb132c2[_0x34d2b6(0xa17)]({'output':'\x0a\x0a`Retrieving\x20context`\x0a\x0a','type':_0x34d2b6(0x513)}));for(const _0x44460a of Object['keys'](_0x2b7f47[_0x34d2b6(0x63a)][_0x34d2b6(0x7e2)]))_0x2f99c3=_0x2f99c3+'\x0a\x0a'+_0x44460a+':\x20'+_0x2b7f47[_0x34d2b6(0x63a)][_0x34d2b6(0x7e2)][_0x44460a];}const _0x4cfc15=_0x120d54[_0x34d2b6(0x3a1)]['find'](_0x337bd7=>_0x337bd7['id']===_0x2b7f47['modelId']);if(!_0x4cfc15)throw new Error(_0x34d2b6(0x880));const _0x51e103=_0x120d54[_0x34d2b6(0x319)][_0x34d2b6(0x447)](_0x5cc189=>_0x5cc189[_0x34d2b6(0x7d1)]()===_0x4cfc15[_0x34d2b6(0x935)]);if(!_0x51e103)throw new Error(_0x34d2b6(0x703));const _0x381fbb=_0x2b7f47[_0x34d2b6(0x207)]?.[_0x34d2b6(0x5d8)](_0x26115d=>{const _0x27f1a8=_0x34d2b6,_0x163c77=_0x147344['find'](_0x390191=>_0x390191[_0x27f1a8(0x4dd)]===_0x26115d[_0x27f1a8(0x4dd)]);return!!_0x163c77&&_0x163c77[_0x27f1a8(0x88c)]===_0x3f7901['Answer'];})??!0x1;let _0x10cd86;if(_0xb132c2&&_0x381fbb?(await _0x5aa24a[_0x34d2b6(0x228)](0x1),_0xb132c2[_0x34d2b6(0xa17)]({'output':'\x0a\x0a','type':_0x34d2b6(0x513)}),_0x10cd86=await async function(_0x4e3953,_0x2cbc8e,_0x3926b3,_0x4f1c6d,_0x3c5cb1,_0x13d83b,_0x2f32bd,_0x560e77,_0x87c0d0){const _0x195280=_0x34d2b6;let _0x2d857b='';const _0x287728=_0x87c0d0[_0x195280(0x3a1)]['find'](_0x7d1ef0=>_0x7d1ef0['id']===_0x13d83b['modelId']);if(!_0x287728)throw new Error(_0x195280(0x880));const _0x53414f=_0x87c0d0[_0x195280(0x319)][_0x195280(0x447)](_0x18d24b=>_0x18d24b['getEngineType']()===_0x287728[_0x195280(0x935)]);if(!_0x53414f)throw new Error(_0x195280(0x703));for await(const _0x97c04e of _0x53414f['processJobStream']({'type':_0x195280(0x513),'prompt':_0x4f1c6d,'instructions':_0x13d83b[_0x195280(0xa8e)],'grammar':_0x13d83b['grammar'],'temperature':_0x13d83b[_0x195280(0x683)],'maxTokens':_0x13d83b[_0x195280(0x527)],'functions':_0x457911(_0x4e3953,_0x2cbc8e,_0x3926b3,_0x3c5cb1,_0x13d83b,_0x2f32bd,_0x87c0d0,_0x560e77),'threadId':_0x3926b3},{'model':_0x287728}))_0x560e77[_0x195280(0xa17)](_0x97c04e),_0x2d857b+=_0x97c04e[_0x195280(0x8f8)];return{'type':_0x195280(0x513),'output':_0x2d857b};}(_0x1583de,_0x1e0ade,_0x8bfb5b,_0x2f99c3,_0x345dbd,_0x2b7f47,_0x147344,_0xb132c2,_0x120d54),await _0x5aa24a['wait'](0x1),_0xb132c2[_0x34d2b6(0xa17)]({'output':'\x0a\x0a','type':_0x34d2b6(0x513)})):_0x10cd86=await _0x51e103['processJob']({'type':_0x34d2b6(0x513),'prompt':_0x2f99c3,'instructions':_0x2b7f47[_0x34d2b6(0xa8e)],'grammar':_0x2b7f47['grammar'],'temperature':_0x2b7f47[_0x34d2b6(0x683)],'maxTokens':_0x2b7f47['maxTokens'],'functions':_0x457911(_0x1583de,_0x1e0ade,_0x8bfb5b,_0x345dbd,_0x2b7f47,_0x147344,_0x120d54,_0xb132c2),'threadId':_0x8bfb5b},{'model':_0x4cfc15}),'string'!=typeof _0x10cd86[_0x34d2b6(0x8f8)])throw new Error('Agent\x20output\x20is\x20not\x20a\x20string');return _0x4b997a['trace']({'jobType':_0x4b0d8e[_0x34d2b6(0x3fa)],'type':_0x3ecd45[_0x34d2b6(0x542)],'jobId':_0x1583de,'blockId':_0x2b7f47['id'],'agentId':_0x1e0ade,'threadId':_0x8bfb5b,'traceLevel':_0x17d38d[_0x34d2b6(0x933)],'startTime':_0x30603e,'timestamp':Date[_0x34d2b6(0x267)](),'status':_0x34d2b6(0x51e),'agentName':_0x2b7f47[_0x34d2b6(0x643)],'prompt':_0x2f99c3,'instructions':_0x2b7f47[_0x34d2b6(0xa8e)],'result':_0x10cd86[_0x34d2b6(0x8f8)],'inputTokens':0x0,'outputTokens':0x0}),_0x2b7f47[_0x34d2b6(0x207)]?.[_0x34d2b6(0x5d8)](_0x9fbdb3=>_0x9fbdb3['type']===_0x2e5edf[_0x34d2b6(0x78a)])?(_0x4152b4(_0x10cd86[_0x34d2b6(0x8f8)],_0x2b7f47,_0x147344),_0x34d2b6(0x593)):_0x10cd86[_0x34d2b6(0x8f8)];}catch(_0x5a5469){return console[_0x34d2b6(0x58c)](_0x5a5469),_0x4b997a[_0x34d2b6(0x525)]({'jobType':_0x4b0d8e[_0x34d2b6(0x3fa)],'type':_0x3ecd45['ExecuteAgent'],'jobId':_0x1583de,'blockId':_0x2b7f47['id'],'agentId':_0x1e0ade,'threadId':_0x8bfb5b,'traceLevel':_0x17d38d['Info'],'startTime':_0x30603e,'timestamp':Date[_0x34d2b6(0x267)](),'status':'error','errorDetails':_0x314560(_0x5a5469),'agentName':_0x2b7f47[_0x34d2b6(0x643)],'prompt':'','instructions':_0x2b7f47[_0x34d2b6(0xa8e)],'result':'','inputTokens':0x0,'outputTokens':0x0}),_0x5a5469 instanceof Error?_0x5a5469['message']:_0x34d2b6(0x2a6);}}};}function _0x16171c(_0x147ce3,_0x416049,_0x4ef3ad,_0x9d2fa,_0x381afd,_0x499c50,_0x548781){const _0x4292aa=_0x3d1090,_0x43530c=_0x4292aa(0x561)+_0x381afd[_0x4292aa(0x441)]+_0x4292aa(0xa37),_0x3309ca={'queryOrPrompt':{'type':_0x25b155[_0x4292aa(0xa68)][_0x4292aa(0x965)]}};return _0x4b997a[_0x4292aa(0x525)]({'jobType':_0x4b0d8e[_0x4292aa(0x584)],'type':_0x6411f7[_0x4292aa(0x5b4)],'jobId':_0x147ce3,'agentId':_0x416049,'threadId':_0x4ef3ad,'blockId':_0x381afd['id'],'traceLevel':_0x17d38d[_0x4292aa(0x933)],'startTime':Date['now'](),'timestamp':Date['now'](),'status':_0x4292aa(0x51e),'function':_0x36763a[_0x4292aa(0x475)],'params':_0x3309ca,'functionDescription':_0x43530c}),{'description':_0x43530c,'params':_0x3309ca,'callback':async _0x1e667f=>{const _0x7e0c60=_0x4292aa,_0x4f0c38=Date[_0x7e0c60(0x267)]();try{if(_0x548781&&(await _0x5aa24a[_0x7e0c60(0x228)](0x1),_0x548781[_0x7e0c60(0xa17)]({'output':_0x7e0c60(0x3b6)+_0x381afd[_0x7e0c60(0x643)]+_0x7e0c60(0x302)+_0x1e667f?.[_0x7e0c60(0x952)]+_0x7e0c60(0x2f3),'type':_0x7e0c60(0x513)})),_0x7e0c60(0x205)!=typeof _0x1e667f?.[_0x7e0c60(0x952)])throw new Error(_0x7e0c60(0x278));const _0x4aa416=_0x381afd['retrieveBlocks']['find'](_0x2fc0e9=>_0x2fc0e9['type']===_0x4f2535['Prompt']),_0x3ee976=await _0x193fe4(_0x147ce3,_0x4ef3ad,_0x1e667f['queryOrPrompt'],_0x4aa416,_0x381afd['retrieveBlocks'],_0x499c50);return _0x9d2fa[_0x7e0c60(0x7e2)]=Array[_0x7e0c60(0x2bc)](new Set([..._0x9d2fa['context'],..._0x3ee976[_0x7e0c60(0x7e2)]])),_0x4b997a[_0x7e0c60(0x525)]({'jobType':_0x4b0d8e['Knowledge'],'type':_0x36763a[_0x7e0c60(0x949)],'jobId':_0x147ce3,'blockId':_0x381afd['id'],'agentId':_0x416049,'threadId':_0x4ef3ad,'traceLevel':_0x17d38d[_0x7e0c60(0x933)],'startTime':_0x4f0c38,'timestamp':Date['now'](),'status':'success','query':_0x1e667f['queryOrPrompt'],'context':_0x3ee976[_0x7e0c60(0x7e2)]??[],'inputTokens':_0x3ee976[_0x7e0c60(0x2dc)]??0x0,'outputTokens':_0x3ee976[_0x7e0c60(0x8ba)]??0x0}),_0x3ee976[_0x7e0c60(0x8f8)];}catch(_0x186313){return console[_0x7e0c60(0x58c)](_0x186313),_0x4b997a[_0x7e0c60(0x525)]({'jobType':_0x4b0d8e[_0x7e0c60(0x6cb)],'type':_0x36763a[_0x7e0c60(0x949)],'jobId':_0x147ce3,'blockId':_0x381afd['id'],'agentId':_0x416049,'threadId':_0x4ef3ad,'traceLevel':_0x17d38d[_0x7e0c60(0x933)],'startTime':_0x4f0c38,'timestamp':Date[_0x7e0c60(0x267)](),'status':_0x7e0c60(0x58c),'errorDetails':_0x314560(_0x186313),'query':_0x1e667f?.[_0x7e0c60(0x952)]??'','context':[],'inputTokens':0x0,'outputTokens':0x0}),_0x186313 instanceof Error?_0x186313[_0x7e0c60(0x6d7)]:_0x7e0c60(0x925);}}};}function _0x164cea(_0x4f3225){const _0x3f143a=_0x3d1090;switch(_0x4f3225['type']){case _0x3f7901[_0x3f143a(0x254)]:return'getCurrentDate';case _0x3f7901[_0x3f143a(0x1e3)]:return'executeJavascriptCodeSnippet';case _0x3f7901[_0x3f143a(0x987)]:return _0x3f143a(0x8b5);case _0x3f7901['WebScraper']:case _0x3f7901[_0x3f143a(0x9b8)]:return'fetchContentFromUrl';}throw new Error(_0x3f143a(0xa66));}function _0x35a505(_0x267a73,_0x661bd8,_0x18fdb9,_0xe813b1,_0x4f88e4,_0x485c95){const _0x1cfa86=_0x3d1090;switch(_0xe813b1[_0x1cfa86(0x88c)]){case _0x3f7901[_0x1cfa86(0x254)]:return function(_0x17abca,_0x33f676,_0x4dbef1,_0x337bd3,_0x3b52d6){const _0xba24b7=_0x1cfa86,_0x5e57a8=_0xba24b7(0x685);return _0x4b997a[_0xba24b7(0x525)]({'jobType':_0x4b0d8e['JobContext'],'type':_0x6411f7[_0xba24b7(0x19f)],'jobId':_0x17abca,'agentId':_0x33f676,'threadId':_0x4dbef1,'traceLevel':_0x17d38d[_0xba24b7(0x933)],'startTime':Date[_0xba24b7(0x267)](),'timestamp':Date[_0xba24b7(0x267)](),'status':_0xba24b7(0x51e),'function':_0x3ecd45[_0xba24b7(0x9a9)],'params':{},'functionDescription':_0x5e57a8}),{'description':_0x5e57a8,'callback':()=>{const _0x2c9609=_0xba24b7,_0x34cb8b=Date[_0x2c9609(0x267)]();_0x3b52d6&&_0x3b52d6[_0x2c9609(0xa17)]({'output':_0x2c9609(0x91a),'type':_0x2c9609(0x513)});const _0x123081=new Date()[_0x2c9609(0x758)]();return _0x4b997a[_0x2c9609(0x525)]({'jobType':_0x4b0d8e[_0x2c9609(0x3fa)],'type':_0x3ecd45[_0x2c9609(0x9a9)],'jobId':_0x17abca,'agentId':_0x33f676,'threadId':_0x4dbef1,'blockId':_0x337bd3,'traceLevel':_0x17d38d[_0x2c9609(0x933)],'startTime':_0x34cb8b,'timestamp':Date[_0x2c9609(0x267)](),'status':_0x2c9609(0x51e),'date':_0x123081}),_0x123081;}};}(_0x267a73,_0x661bd8,_0x18fdb9,_0xe813b1['id'],_0x485c95);case _0x3f7901[_0x1cfa86(0x1e3)]:return function(_0xe85cc0,_0x31001a,_0x5a45bf,_0x3248c4,_0x2e967a){const _0x46d735=_0x1cfa86,_0x48268c='Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.',_0x12cab6={'code':{'type':_0x25b155[_0x46d735(0xa68)][_0x46d735(0x965)]}};return _0x4b997a['trace']({'jobType':_0x4b0d8e[_0x46d735(0x584)],'type':_0x6411f7[_0x46d735(0x19f)],'jobId':_0xe85cc0,'agentId':_0x31001a,'threadId':_0x5a45bf,'traceLevel':_0x17d38d[_0x46d735(0x933)],'startTime':Date['now'](),'timestamp':Date['now'](),'status':'success','function':_0x3ecd45[_0x46d735(0x6b0)],'params':_0x12cab6,'functionDescription':_0x48268c}),{'description':_0x48268c,'params':_0x12cab6,'callback':_0x8bb0bb=>{const _0x5048ef=_0x46d735,_0x4f3185=Date['now']();try{if(_0x2e967a&&_0x2e967a[_0x5048ef(0xa17)]({'output':_0x5048ef(0x92a),'type':_0x5048ef(0x513)}),_0x5048ef(0x205)!=typeof _0x8bb0bb?.['code'])throw new Error(_0x5048ef(0xaac));const _0x1f99d2=Function(''+_0x8bb0bb?.['code'])();let _0x26ced7='';try{_0x26ced7=JSON[_0x5048ef(0x90a)](_0x1f99d2);}catch{_0x26ced7=_0x1f99d2['toString']();}return _0x4b997a[_0x5048ef(0x525)]({'jobType':_0x4b0d8e[_0x5048ef(0x3fa)],'type':_0x3ecd45[_0x5048ef(0x6b0)],'agentId':_0x31001a,'threadId':_0x5a45bf,'jobId':_0xe85cc0,'blockId':_0x3248c4,'traceLevel':_0x17d38d[_0x5048ef(0x933)],'startTime':_0x4f3185,'timestamp':Date[_0x5048ef(0x267)](),'status':_0x5048ef(0x51e),'code':_0x8bb0bb[_0x5048ef(0x393)],'result':_0x26ced7}),_0x1f99d2;}catch(_0x4cf8a5){return console[_0x5048ef(0x58c)](_0x4cf8a5),_0x4b997a[_0x5048ef(0x525)]({'jobType':_0x4b0d8e[_0x5048ef(0x3fa)],'type':_0x3ecd45[_0x5048ef(0x6b0)],'jobId':_0xe85cc0,'blockId':_0x3248c4,'traceLevel':_0x17d38d[_0x5048ef(0x933)],'startTime':_0x4f3185,'timestamp':Date[_0x5048ef(0x267)](),'status':'error','errorDetails':_0x314560(_0x4cf8a5),'agentId':_0x31001a,'threadId':_0x5a45bf,'code':_0x8bb0bb?.[_0x5048ef(0x393)]??'','result':_0x5048ef(0x225)}),_0x4cf8a5 instanceof Error?_0x4cf8a5[_0x5048ef(0x6d7)]:'Error\x20executing\x20code';}}};}(_0x267a73,_0x661bd8,_0x18fdb9,_0xe813b1['id'],_0x485c95);case _0x3f7901[_0x1cfa86(0x987)]:return function(_0x4a5cbe,_0x39db3f,_0x42b0a1,_0x382278,_0xa6ac54,_0x506f0f,_0x5a5a16){const _0x1ce66d=_0x1cfa86,_0x5ab3cd=_0x1ce66d(0x8b4),_0x6f8b92={'query':{'type':_0x25b155[_0x1ce66d(0xa68)]['String']}};return _0x4b997a[_0x1ce66d(0x525)]({'jobType':_0x4b0d8e[_0x1ce66d(0x584)],'type':_0x6411f7[_0x1ce66d(0x19f)],'jobId':_0x4a5cbe,'agentId':_0x39db3f,'threadId':_0x42b0a1,'traceLevel':_0x17d38d[_0x1ce66d(0x933)],'startTime':Date[_0x1ce66d(0x267)](),'timestamp':Date['now'](),'status':_0x1ce66d(0x51e),'function':_0x3ecd45[_0x1ce66d(0x329)],'params':_0x6f8b92,'functionDescription':_0x5ab3cd}),{'description':_0x5ab3cd,'params':_0x6f8b92,'callback':async _0x28227b=>{const _0x4ff7b4=_0x1ce66d,_0x54a58c=Date['now']();try{if(_0x5a5a16&&(await _0x5aa24a['wait'](0x1),_0x5a5a16[_0x4ff7b4(0xa17)]({'output':'\x0a\x0a`Searching\x20on\x20Google\x20for\x20'+_0x28227b?.['query']+_0x4ff7b4(0x2f3),'type':_0x4ff7b4(0x513)})),!_0x506f0f[_0x4ff7b4(0xa70)])throw new Error(_0x4ff7b4(0x738));if(_0x4ff7b4(0x205)!=typeof _0x28227b?.['query'])throw new Error(_0x4ff7b4(0x278));const _0x23182d=await _0x506f0f[_0x4ff7b4(0xa70)][_0x4ff7b4(0x9b9)](_0x28227b['query'],_0xa6ac54,_0x114c13[_0x4ff7b4(0x40e)]['searchEngineId']);let _0x34f88e='';for(const _0x3af9c4 of _0x23182d)_0x34f88e+=_0x3af9c4[_0x4ff7b4(0x487)]+_0x4ff7b4(0x649)+_0x3af9c4['url']+'\x0a'+_0x3af9c4['snippet']+'\x0a\x0a';return _0x4b997a[_0x4ff7b4(0x525)]({'jobType':_0x4b0d8e[_0x4ff7b4(0x3fa)],'type':_0x3ecd45[_0x4ff7b4(0x329)],'jobId':_0x4a5cbe,'agentId':_0x39db3f,'threadId':_0x42b0a1,'blockId':_0x382278,'traceLevel':_0x17d38d[_0x4ff7b4(0x933)],'startTime':_0x54a58c,'timestamp':Date[_0x4ff7b4(0x267)](),'status':'success','query':_0x28227b[_0x4ff7b4(0x968)],'results':_0x34f88e}),_0x34f88e;}catch(_0x2d58ba){return console[_0x4ff7b4(0x58c)](_0x2d58ba),_0x4b997a[_0x4ff7b4(0x525)]({'jobType':_0x4b0d8e[_0x4ff7b4(0x3fa)],'type':_0x3ecd45[_0x4ff7b4(0x329)],'jobId':_0x4a5cbe,'blockId':_0x382278,'traceLevel':_0x17d38d[_0x4ff7b4(0x933)],'startTime':_0x54a58c,'timestamp':Date[_0x4ff7b4(0x267)](),'status':_0x4ff7b4(0x58c),'errorDetails':_0x314560(_0x2d58ba),'agentId':_0x39db3f,'threadId':_0x42b0a1,'query':_0x28227b?.['query']??'','results':'Error\x20searching'}),_0x2d58ba instanceof Error?_0x2d58ba['message']:_0x4ff7b4(0x2d9);}}};}(_0x267a73,_0x661bd8,_0x18fdb9,_0xe813b1['id'],_0x4f88e4[_0x1cfa86(0x9af)],_0x4f88e4,_0x485c95);case _0x3f7901[_0x1cfa86(0x43a)]:return _0x5c0fa7(_0x267a73,_0x661bd8,_0x18fdb9,_0xe813b1['id'],_0x485c95);case _0x3f7901[_0x1cfa86(0x9b8)]:return _0x5c0fa7(_0x267a73,_0x661bd8,_0x18fdb9,_0xe813b1['id'],_0x485c95,!0x1);}throw new Error('Unknown\x20skill\x20type');}function _0x5c0fa7(_0x2736af,_0x19937d,_0x19211c,_0x576848,_0xadcaf0,_0x1c5f97=!0x0){const _0x4eb7ee=_0x3d1090,_0x55bdaf=_0x4eb7ee(0x43b),_0x37ba69={'url':{'type':_0x25b155[_0x4eb7ee(0xa68)][_0x4eb7ee(0x965)]},'page':{'type':_0x25b155[_0x4eb7ee(0xa68)][_0x4eb7ee(0x994)]}};return _0x4b997a[_0x4eb7ee(0x525)]({'jobType':_0x4b0d8e[_0x4eb7ee(0x584)],'type':_0x6411f7['LoadSkillFunction'],'jobId':_0x2736af,'agentId':_0x19937d,'threadId':_0x19211c,'traceLevel':_0x17d38d[_0x4eb7ee(0x933)],'startTime':Date['now'](),'timestamp':Date[_0x4eb7ee(0x267)](),'status':_0x4eb7ee(0x51e),'function':_0x3ecd45[_0x4eb7ee(0x984)],'params':_0x37ba69,'functionDescription':_0x55bdaf}),{'description':_0x55bdaf,'params':_0x37ba69,'callback':async _0x5738c9=>{const _0x58be95=_0x4eb7ee,_0x19edcd=Date[_0x58be95(0x267)]();try{if(_0xadcaf0&&(await _0x5aa24a[_0x58be95(0x228)](0x1),_0xadcaf0[_0x58be95(0xa17)]({'output':_0x58be95(0x9c5)+_0x5738c9?.['url']+_0x58be95(0x2f3),'type':'prompt'})),_0x58be95(0x205)!=typeof _0x5738c9?.['url'])throw new Error(_0x58be95(0x6cf));const _0x5ee299=await fetch(_0x5738c9[_0x58be95(0x4ba)]),_0x3eeda5=await _0x5ee299[_0x58be95(0xa55)]();let _0x3c5023=_0x3eeda5;if(_0x1c5f97){const _0x277422=_0x3eeda5['match'](/<body[^>]*>((.|[\n\r])*)<\/body>/i),_0x3aa560=_0x277422?_0x277422[0x1]:_0x3eeda5,_0x4ab777=_0x3aa560[_0x58be95(0x9de)](/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,'')['replace'](/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,'')[_0x58be95(0x9de)](/<br\s*\/?>/gi,'\x20')[_0x58be95(0x9de)](/&nbsp;/g,'\x20');_0x3c5023=_0x4ab777[_0x58be95(0x9de)](/<\/?[^>]+(>|$)/g,'')[_0x58be95(0x9de)](/\s\s+/g,'\x20')['trim']();}const _0x2ff2e2=_0x58be95(0x761)==typeof _0x5738c9['page']?_0x5738c9[_0x58be95(0x1ef)]:0x1,_0x311522=Math[_0x58be95(0x971)](_0x3c5023[_0x58be95(0x73c)]/_0x58b322);return _0x3c5023[_0x58be95(0x73c)]>_0x58b322&&(_0x3c5023=_0x3c5023[_0x58be95(0x733)]((_0x2ff2e2-0x1)*_0x58b322,(_0x2ff2e2-0x1)*_0x58b322+_0x58b322)+'More\x20content\x20available\x20on\x20page\x20'+(_0x2ff2e2+0x1)+_0x58be95(0x4f4)+_0x311522+'.'),_0x4b997a[_0x58be95(0x525)]({'jobType':_0x4b0d8e['Skill'],'type':_0x3ecd45[_0x58be95(0x984)],'jobId':_0x2736af,'agentId':_0x19937d,'threadId':_0x19211c,'blockId':_0x576848,'traceLevel':_0x17d38d[_0x58be95(0x933)],'startTime':_0x19edcd,'timestamp':Date[_0x58be95(0x267)](),'status':_0x5ee299['ok']?_0x58be95(0x51e):_0x58be95(0x58c),'url':_0x5738c9[_0x58be95(0x4ba)],'page':_0x2ff2e2,'totalPages':_0x311522,'response':_0x3c5023}),_0x3c5023;}catch(_0x336174){console[_0x58be95(0x58c)](_0x336174);const _0x535396=_0x336174 instanceof Error?_0x336174[_0x58be95(0x6d7)]:_0x58be95(0x6af);return _0x4b997a['trace']({'jobType':_0x4b0d8e[_0x58be95(0x3fa)],'type':_0x3ecd45[_0x58be95(0x984)],'jobId':_0x2736af,'blockId':_0x576848,'threadId':_0x19211c,'traceLevel':_0x17d38d[_0x58be95(0x933)],'startTime':_0x19edcd,'timestamp':Date[_0x58be95(0x267)](),'agentId':_0x19937d,'status':_0x58be95(0x58c),'errorDetails':_0x314560(_0x336174),'url':_0x5738c9?.[_0x58be95(0x4ba)]??'','page':0x0,'totalPages':0x0,'response':_0x535396}),_0x535396;}}};}function _0xf8e7bb(_0x595d71,_0x546b46,_0x5f755,_0x5555db,_0x5aabe1,_0x18c2d2){const _0x490b6d=_0x3d1090,_0xeb2db0={};for(const _0x1cb1d3 of _0x5555db[_0x490b6d(0x7b8)])switch(_0x1cb1d3[_0x490b6d(0x88c)]){case _0x490b6d(0x205):case _0x490b6d(0x6d1):_0xeb2db0[_0x1cb1d3['name']]={'type':_0x25b155[_0x490b6d(0xa68)]['String']};break;case _0x490b6d(0x761):_0xeb2db0[_0x1cb1d3['name']]={'type':_0x25b155[_0x490b6d(0xa68)]['Number']};break;case'boolean':_0xeb2db0[_0x1cb1d3['name']]={'type':_0x25b155['PromptFunctionParamsType'][_0x490b6d(0x409)]};}return _0x4b997a['trace']({'jobType':_0x4b0d8e[_0x490b6d(0x584)],'type':_0x6411f7[_0x490b6d(0x19f)],'jobId':_0x595d71,'agentId':_0x546b46,'threadId':_0x5f755,'traceLevel':_0x17d38d[_0x490b6d(0x933)],'startTime':Date['now'](),'timestamp':Date[_0x490b6d(0x267)](),'status':_0x490b6d(0x51e),'function':_0x3ecd45['ExecuteCustomSkill'],'params':_0xeb2db0,'functionDescription':_0x5555db[_0x490b6d(0x441)]}),{'description':_0x490b6d(0x238)+_0x5555db[_0x490b6d(0x441)],'params':_0xeb2db0,'callback':async _0x1561a4=>{const _0x44ae99=_0x490b6d,_0x3c6474=Date[_0x44ae99(0x267)]();try{if(_0x18c2d2&&(await _0x5aa24a[_0x44ae99(0x228)](0x1),_0x18c2d2['emit']({'output':_0x44ae99(0x975)+_0x5555db[_0x44ae99(0x643)]+'`\x0a\x0a','type':_0x44ae99(0x513)})),!_0x1561a4)throw new Error('No\x20parameters\x20provided');for(const _0xf94b16 of _0x5555db[_0x44ae99(0x7b8)]){if(void 0x0===_0x1561a4[_0xf94b16['name']])throw new Error('Parameter\x20'+_0xf94b16[_0x44ae99(0x643)]+_0x44ae99(0x883));if(_0x44ae99(0x205)===_0xf94b16[_0x44ae99(0x88c)]&&'string'!=typeof _0x1561a4[_0xf94b16['name']])throw new Error(_0x44ae99(0x6e0)+_0xf94b16[_0x44ae99(0x643)]+_0x44ae99(0x5a0));if('number'===_0xf94b16[_0x44ae99(0x88c)]&&'number'!=typeof _0x1561a4[_0xf94b16[_0x44ae99(0x643)]])throw new Error('Parameter\x20'+_0xf94b16['name']+_0x44ae99(0x4fd));if('boolean'===_0xf94b16[_0x44ae99(0x88c)]&&_0x44ae99(0x5a7)!=typeof _0x1561a4[_0xf94b16[_0x44ae99(0x643)]])throw new Error(_0x44ae99(0x6e0)+_0xf94b16['name']+_0x44ae99(0x455));if(_0x44ae99(0x6d1)===_0xf94b16['type']&&_0x44ae99(0x205)!=typeof _0x1561a4[_0xf94b16[_0x44ae99(0x643)]])throw new Error(_0x44ae99(0x6e0)+_0xf94b16[_0x44ae99(0x643)]+'\x20must\x20be\x20a\x20string');if(_0x44ae99(0x6d1)===_0xf94b16[_0x44ae99(0x88c)])try{_0x1561a4[_0xf94b16['name']]=JSON['parse'](_0x1561a4[_0xf94b16[_0x44ae99(0x643)]]);}catch{throw new Error(_0x44ae99(0x6e0)+_0xf94b16[_0x44ae99(0x643)]+'\x20must\x20be\x20a\x20valid\x20JSON\x20string');}}const _0x53628c={};for(const _0x166f86 of _0x5555db[_0x44ae99(0x6f6)]){let _0x2b0980=_0x166f86['value'];_0x2b0980[_0x44ae99(0x4a2)](/\$[a-zA-Z0-9]+/)&&(_0x2b0980=_0x2b0980[_0x44ae99(0x9de)](/\$[a-zA-Z0-9]+/g,_0x5517af=>{const _0x228c2f=_0x44ae99,_0x3eed8f=_0x5517af[_0x228c2f(0x5ec)](0x1);return _0x1561a4[_0x3eed8f];})),_0x53628c[_0x166f86[_0x44ae99(0x643)]]=_0x2b0980;}const _0x1692de=new URLSearchParams();for(const _0x1dd9a0 of _0x5555db['queryParameters']){let _0x174de3=_0x1dd9a0[_0x44ae99(0x81e)];if(_0x44ae99(0x205)==typeof _0x174de3&&_0x174de3[_0x44ae99(0x961)]('$')){const _0x5c194e=_0x174de3[_0x44ae99(0x5ec)](0x1);_0x174de3=_0x1561a4[_0x5c194e];}if(_0x44ae99(0x205)==typeof _0x174de3&&_0x174de3[_0x44ae99(0x961)](_0x44ae99(0x3f5))){const _0x4c6a07=_0x174de3['replace'](_0x44ae99(0x3f5),'');if(_0x5555db['accumulated'],_0x174de3=_0x5555db[_0x44ae99(0x63a)]?.[_0x44ae99(0x7e2)]?.[_0x4c6a07],_0x44ae99(0x205)==typeof _0x174de3&&_0x174de3[_0x44ae99(0x961)]('{')&&_0x174de3[_0x44ae99(0x257)]('}'))try{_0x174de3=JSON[_0x44ae99(0x25a)](_0x174de3);}catch{}}'string'==typeof _0x174de3&&_0x174de3[_0x44ae99(0x961)]('[')&&_0x174de3[_0x44ae99(0x257)](']')&&(_0x174de3=_0x174de3['slice'](0x1,-0x1)[_0x44ae99(0xa49)](',')),_0x1692de[_0x44ae99(0x9ad)](_0x1dd9a0[_0x44ae99(0x643)],_0x174de3);}let _0x181c15=_0x5555db['endpointUrl'];_0x1692de[_0x44ae99(0x8e5)]>0x0&&(_0x181c15+='?'+_0x1692de[_0x44ae99(0x8ee)]());let _0x1e4d56={};for(const _0x3e65c2 of _0x5555db[_0x44ae99(0x199)]){let _0x51ba94=_0x3e65c2[_0x44ae99(0x81e)];if(_0x44ae99(0x205)==typeof _0x51ba94&&_0x51ba94['startsWith']('$')){const _0xddd971=_0x51ba94[_0x44ae99(0x5ec)](0x1);_0x51ba94=_0x1561a4[_0xddd971];}if(_0x44ae99(0x205)==typeof _0x51ba94&&_0x51ba94[_0x44ae99(0x961)](_0x44ae99(0x3f5))){const _0x10cb37=_0x51ba94['replace']('@context.','');if(_0x51ba94=_0x5555db['accumulated']?.[_0x44ae99(0x7e2)]?.[_0x10cb37],_0x44ae99(0x205)==typeof _0x51ba94&&_0x51ba94[_0x44ae99(0x961)]('{')&&_0x51ba94['endsWith']('}'))try{_0x51ba94=JSON['parse'](_0x51ba94);}catch{}}if(_0x44ae99(0x205)==typeof _0x51ba94&&_0x51ba94[_0x44ae99(0x961)]('[')&&_0x51ba94['endsWith'](']')&&(_0x51ba94=_0x51ba94['slice'](0x1,-0x1)['split'](',')),_0x44ae99(0x5d0)===_0x3e65c2['name']){const _0x2a2d94=_0x51ba94[_0x44ae99(0x4a2)](/```html(.*)```/s);_0x2a2d94&&(_0x51ba94=_0x2a2d94[0x1]),_0x51ba94=_0x51ba94[_0x44ae99(0x9de)](/\n/g,''),_0x51ba94=_0x51ba94[_0x44ae99(0x9de)](/'/g,'\x22'),_0x1e4d56=_0x51ba94;break;}if(-0x1===_0x3e65c2['name'][_0x44ae99(0x7dc)]('.'))_0x1e4d56[_0x3e65c2[_0x44ae99(0x643)]]=_0x51ba94;else{const [_0x1891c6,_0x21c5a0]=_0x3e65c2[_0x44ae99(0x643)][_0x44ae99(0xa49)]('.');_0x1e4d56[_0x1891c6]||(_0x1e4d56[_0x1891c6]={}),_0x1e4d56[_0x1891c6][_0x21c5a0]=_0x51ba94;}}const _0x3d2b77=await fetch(_0x181c15,{'method':_0x5555db[_0x44ae99(0x1bb)],'headers':_0x53628c,'body':_0x44ae99(0x205)==typeof _0x1e4d56?_0x1e4d56:JSON[_0x44ae99(0x90a)](_0x1e4d56)});if(_0x3d2b77['ok']){let _0x24f6dd=await _0x3d2b77[_0x44ae99(0x6d1)]();return _0x5555db['waitAsync']&&(_0x24f6dd=await function(_0x522fe5,_0x26e8a9){return new Promise((_0xd2d6a9,_0xafd710)=>{const _0x2d6810=a0_0x50c4,_0x4583ce=_0x5aa24a[_0x2d6810(0x8e2)](async()=>{const _0x4b83c1=_0x2d6810;try{if(!_0x522fe5[_0x4b83c1(0x9a3)]||!_0x522fe5[_0x4b83c1(0x6d0)])throw new Error(_0x4b83c1(0x822));const _0x3163f8={};if(_0x522fe5[_0x4b83c1(0x53a)]){for(const _0x10b8de of _0x522fe5[_0x4b83c1(0x53a)])_0x3163f8[_0x10b8de['name']]=_0x10b8de[_0x4b83c1(0x81e)];}const _0x13dfc0=_0x522fe5[_0x4b83c1(0x9a3)][_0x4b83c1(0x9de)](_0x4b83c1(0x411),_0x26e8a9),_0x3bb031=await fetch(_0x13dfc0,{'method':_0x522fe5['asyncEndpointMethod'],'headers':_0x3163f8});if(0xc8===_0x3bb031[_0x4b83c1(0x479)]){const _0x291e52=await _0x3bb031['json']();_0x4583ce(),_0xd2d6a9(_0x291e52);}_0x3bb031['status']>=0x190&&(console['error'](_0x3bb031['statusText']),_0x4583ce(),_0xafd710(new Error(_0x3bb031[_0x4b83c1(0x736)])));}catch(_0x1a53f4){console['error'](_0x1a53f4),_0x4583ce(),_0xafd710(_0x1a53f4);}},_0x33a52a);});}(_0x5555db,_0x24f6dd['id'])),_0x5555db[_0x44ae99(0x207)]?.['some'](_0x39b8d7=>_0x39b8d7['type']===_0x2e5edf[_0x44ae99(0x78a)])?(_0x4152b4(_0x24f6dd,_0x5555db,_0x5aabe1),'I\x20am\x20done'):(_0x4b997a[_0x44ae99(0x525)]({'jobType':_0x4b0d8e['Skill'],'type':_0x3ecd45[_0x44ae99(0x303)],'jobId':_0x595d71,'agentId':_0x546b46,'threadId':_0x5f755,'blockId':_0x5555db['id'],'traceLevel':_0x17d38d[_0x44ae99(0x933)],'startTime':_0x3c6474,'timestamp':Date[_0x44ae99(0x267)](),'status':'success','skillName':_0x5555db[_0x44ae99(0x643)],'params':_0x1561a4,'result':_0x24f6dd}),_0x24f6dd);}throw new Error(_0x3d2b77[_0x44ae99(0x736)]);}catch(_0x1ff4a8){console[_0x44ae99(0x58c)](_0x1ff4a8);const _0x34797c=_0x1ff4a8 instanceof Error?_0x1ff4a8[_0x44ae99(0x6d7)]:_0x44ae99(0x6af);return _0x4b997a['trace']({'jobType':_0x4b0d8e[_0x44ae99(0x3fa)],'type':_0x3ecd45[_0x44ae99(0x303)],'jobId':_0x595d71,'blockId':_0x5555db['id'],'threadId':_0x5f755,'traceLevel':_0x17d38d['Info'],'startTime':_0x3c6474,'timestamp':Date['now'](),'agentId':_0x546b46,'status':_0x44ae99(0x58c),'skillName':_0x5555db[_0x44ae99(0x643)],'params':_0x1561a4??{},'result':_0x34797c}),_0x34797c;}}};}function _0x314560(_0x40fb3e){const _0x323038=_0x3d1090;try{return JSON['stringify'](_0x40fb3e);}catch(_0x5082d4){return _0x40fb3e instanceof Error?_0x40fb3e[_0x323038(0x8ee)]():_0x323038(0x2a3);}}async function _0x174413(_0x3d122d,_0x39dd0b,_0x3619fc,_0x1fcdb8,_0x297c3a,_0x46db88,_0x4b2d71,_0x445a7f,_0x2f384e){const _0x1a4df5=_0x3d1090;if(_0x46db88[_0x1a4df5(0x63a)]||(_0x46db88[_0x1a4df5(0x63a)]={}),_0x39dd0b===_0x2e5edf['Text']&&_0x1a4df5(0x205)==typeof _0x3619fc&&(_0x46db88[_0x1a4df5(0x63a)][_0x1a4df5(0x513)]=_0x3619fc),_0x46db88['timesCalled']=_0x46db88['timesCalled']?_0x46db88[_0x1a4df5(0x63f)]+0x1:0x1,_0x41d6db(_0x46db88,_0x4b2d71)>_0x46db88[_0x1a4df5(0x63f)])return;if(_0x3dc4e5['forceLog'](_0x1a4df5(0x279)+_0x46db88[_0x1a4df5(0x643)],_0x46db88[_0x1a4df5(0x63f)]),!_0x46db88[_0x1a4df5(0x63a)][_0x1a4df5(0x513)])throw new Error('Agent\x20block\x20is\x20missing\x20required\x20data:\x20'+_0x46db88[_0x1a4df5(0x643)]);const _0x3f994d=_0x445a7f[_0x1a4df5(0x3a1)][_0x1a4df5(0x447)](_0x49ae63=>_0x49ae63['id']===_0x46db88['modelId']);if(!_0x3f994d)throw new Error(_0x1a4df5(0x880));if(!_0x445a7f[_0x1a4df5(0x319)][_0x1a4df5(0x447)](_0x197583=>_0x197583[_0x1a4df5(0x7d1)]()===_0x3f994d[_0x1a4df5(0x935)]))throw new Error(_0x1a4df5(0x703));_0x2f384e&&_0x2f384e[_0x1a4df5(0xa17)]({'output':_0x1a4df5(0x3b9)+_0x46db88[_0x1a4df5(0x643)]+_0x1a4df5(0x2f3),'type':'prompt'});const _0x921ab9=Date[_0x1a4df5(0x267)](),_0x2d716f=(0x0,_0x14a38c['v4'])(),_0x146a7b=_0x2f384e?await async function(_0x32d75e,_0x43c0e3,_0x190966,_0x46e1d8,_0x584a86,_0x1f2513,_0x1815f3,_0x152fe7){const _0x1123ed=_0x1a4df5,_0x35f660=_0x152fe7['models'][_0x1123ed(0x447)](_0x3b6b8a=>_0x3b6b8a['id']===_0x584a86['modelId']);if(!_0x35f660)throw new Error(_0x1123ed(0x880));const _0xd16a53=_0x152fe7[_0x1123ed(0x319)][_0x1123ed(0x447)](_0x3314a2=>_0x3314a2[_0x1123ed(0x7d1)]()===_0x35f660[_0x1123ed(0x935)]);if(!_0xd16a53)throw new Error(_0x1123ed(0x703));if(!_0x584a86[_0x1123ed(0x63a)]||!_0x584a86[_0x1123ed(0x63a)][_0x1123ed(0x513)])throw new Error(_0x1123ed(0x60a));let _0x566f26=_0x584a86[_0x1123ed(0x63a)]['prompt'];if(_0x584a86[_0x1123ed(0x63a)][_0x1123ed(0x7e2)]&&'default'!==_0x584a86[_0x1123ed(0x2a5)]){await _0x5aa24a[_0x1123ed(0x228)](0x1),_0x1815f3[_0x1123ed(0xa17)]({'output':'\x0a\x0a`Retrieving\x20context`\x0a\x0a','type':_0x1123ed(0x513)});for(const _0xa0d7a7 of Object[_0x1123ed(0x912)](_0x584a86['accumulated'][_0x1123ed(0x7e2)]))_0x566f26=_0x566f26+'\x0a\x0a'+_0xa0d7a7+':\x20'+_0x584a86['accumulated']['context'][_0xa0d7a7];}const _0x4aa558={'type':_0x1123ed(0x513),'output':''};for await(const _0x2c831d of _0xd16a53[_0x1123ed(0x9da)]({'type':_0x190966[_0x1123ed(0x88c)],'prompt':_0x566f26,'instructions':''+_0x584a86['instructions']+(_0x190966[_0x1123ed(0xa8e)]??''),'grammar':_0x584a86[_0x1123ed(0x2a5)],'temperature':_0x584a86[_0x1123ed(0x683)],'maxTokens':_0x584a86['maxTokens'],'history':_0x190966['history'],'functions':_0x457911(_0x32d75e,_0x43c0e3,_0x190966[_0x1123ed(0x8b1)],_0x46e1d8,_0x584a86,_0x1f2513,_0x152fe7,_0x1815f3),'threadId':_0x190966['threadId']},{'model':_0x35f660}))_0x584a86[_0x1123ed(0x207)]&&_0x584a86[_0x1123ed(0x207)][_0x1123ed(0x5d8)](_0x110847=>{const _0x284c2b=_0x1123ed,_0x52b884=_0x1f2513[_0x284c2b(0x447)](_0x9409ad=>_0x9409ad[_0x284c2b(0x4dd)]===_0x110847['uid']);return!!_0x52b884&&_0x52b884[_0x284c2b(0x88c)]===_0x3f7901[_0x284c2b(0x3dd)];})&&_0x1815f3[_0x1123ed(0xa17)](_0x2c831d),_0x1123ed(0x205)==typeof _0x4aa558[_0x1123ed(0x8f8)]&&_0x1123ed(0x205)==typeof _0x2c831d[_0x1123ed(0x8f8)]&&(_0x4aa558[_0x1123ed(0x8f8)]+=_0x2c831d['output']),_0x4aa558['inputTokens']=_0x2c831d[_0x1123ed(0x2dc)],_0x4aa558[_0x1123ed(0x8ba)]=_0x2c831d[_0x1123ed(0x8ba)];return _0x4aa558;}(_0x3d122d,_0x2d716f,_0x1fcdb8,_0x297c3a,_0x46db88,_0x4b2d71,_0x2f384e,_0x445a7f):await async function(_0x264d91,_0x580702,_0x23cb6e,_0x91c5ba,_0xb76650,_0x2fc560,_0x1965c9){const _0x3e5943=_0x1a4df5,_0x518ceb=_0x1965c9[_0x3e5943(0x3a1)][_0x3e5943(0x447)](_0x160341=>_0x160341['id']===_0xb76650[_0x3e5943(0x7c7)]);if(!_0x518ceb)throw new Error(_0x3e5943(0x880));const _0x23072b=_0x1965c9[_0x3e5943(0x319)][_0x3e5943(0x447)](_0x49ae95=>_0x49ae95[_0x3e5943(0x7d1)]()===_0x518ceb[_0x3e5943(0x935)]);if(!_0x23072b)throw new Error('No\x20connector\x20found\x20for\x20model');if(!_0xb76650[_0x3e5943(0x63a)]||!_0xb76650[_0x3e5943(0x63a)][_0x3e5943(0x513)])throw new Error(_0x3e5943(0x60a));let _0x3d8047=_0xb76650[_0x3e5943(0x63a)][_0x3e5943(0x513)];if(_0xb76650[_0x3e5943(0x63a)][_0x3e5943(0x7e2)]&&_0x3e5943(0x83e)!==_0xb76650[_0x3e5943(0x2a5)]){for(const _0x41b90e of Object[_0x3e5943(0x912)](_0xb76650[_0x3e5943(0x63a)][_0x3e5943(0x7e2)]))_0x3d8047=_0x3d8047+'\x0a\x0a'+_0x41b90e+':\x20'+_0xb76650[_0x3e5943(0x63a)][_0x3e5943(0x7e2)][_0x41b90e];}return _0x23072b[_0x3e5943(0x690)]({'type':_0x3e5943(0x513),'prompt':_0xb76650[_0x3e5943(0x63a)][_0x3e5943(0x513)],'instructions':''+_0xb76650[_0x3e5943(0xa8e)]+(_0x23cb6e['instructions']??''),'grammar':_0xb76650[_0x3e5943(0x2a5)],'temperature':_0xb76650[_0x3e5943(0x683)],'maxTokens':_0xb76650[_0x3e5943(0x527)],'history':_0x23cb6e['history'],'functions':_0x457911(_0x264d91,_0x580702,_0x23cb6e['threadId'],_0x91c5ba,_0xb76650,_0x2fc560,_0x1965c9),'threadId':_0x23cb6e[_0x3e5943(0x8b1)]},{'model':_0x518ceb});}(_0x3d122d,_0x2d716f,_0x1fcdb8,_0x297c3a,_0x46db88,_0x4b2d71,_0x445a7f);if(_0x1a4df5(0x205)!=typeof _0x146a7b[_0x1a4df5(0x8f8)])throw new Error(_0x1a4df5(0x28f));_0x297c3a[_0x1a4df5(0x2dc)]+=_0x146a7b['inputTokens']??0x0,_0x297c3a[_0x1a4df5(0x8ba)]+=_0x146a7b[_0x1a4df5(0x8ba)]??0x0,_0x4b997a[_0x1a4df5(0x525)]({'jobType':_0x4b0d8e[_0x1a4df5(0x288)],'type':_0xcee543[_0x1a4df5(0x6be)],'jobId':_0x3d122d,'agentId':_0x2d716f,'threadId':_0x1fcdb8[_0x1a4df5(0x8b1)],'traceLevel':_0x17d38d[_0x1a4df5(0x933)],'startTime':_0x921ab9,'timestamp':Date[_0x1a4df5(0x267)](),'blockId':_0x46db88['id'],'status':_0x1a4df5(0x51e),'output':_0x146a7b[_0x1a4df5(0x8f8)],'prompt':_0x46db88[_0x1a4df5(0x63a)][_0x1a4df5(0x513)],'agentName':_0x46db88[_0x1a4df5(0x643)],'history':[],'instructions':''+_0x46db88['instructions']+(_0x1fcdb8[_0x1a4df5(0xa8e)]??''),'ragContext':_0x146a7b[_0x1a4df5(0x7e2)]??[],'inputTokens':_0x146a7b[_0x1a4df5(0x2dc)]??0x0,'outputTokens':_0x146a7b[_0x1a4df5(0x8ba)]??0x0}),_0x4152b4(_0x146a7b[_0x1a4df5(0x8f8)],_0x46db88,_0x4b2d71),await _0x111aaa(_0x3d122d,_0x146a7b[_0x1a4df5(0x8f8)],_0x1fcdb8,_0x297c3a,_0x46db88,_0x4b2d71,_0x445a7f,_0x2f384e);}function _0x31c13f(_0x3e1caa,_0x3c88f,_0xe23113){const _0x21d4e3=_0x3d1090;_0xe23113[_0x21d4e3(0x63a)]||(_0xe23113[_0x21d4e3(0x63a)]={}),_0xe23113[_0x21d4e3(0x63a)]['context']||(_0xe23113[_0x21d4e3(0x63a)]['context']={}),_0xe23113['accumulated']['context'][_0x3e1caa]=_0x3c88f;}function _0x384800(_0x245a35,_0x17293f,_0x49c984,_0x5e59be){const _0x4219fa=_0x3d1090;_0x245a35===_0x2e5edf[_0x4219fa(0x78a)]&&(_0x5e59be[_0x4219fa(0x63a)]||(_0x5e59be[_0x4219fa(0x63a)]={}),_0x5e59be[_0x4219fa(0x63a)][_0x4219fa(0x7e2)]||(_0x5e59be['accumulated'][_0x4219fa(0x7e2)]={}),_0x5e59be['accumulated'][_0x4219fa(0x7e2)][_0x17293f]=_0x49c984);}async function _0x9d338d(_0x33b877,_0x23e6f0,_0x49ab1e,_0x7054ab,_0x2b641c,_0x253be4,_0x5edd59,_0xb0274){const _0x2e8743=function(_0x41bf65,_0x52b5f5){const _0x1ba213=a0_0x50c4,_0x44355e=[];for(let _0x415e21=0x0;_0x415e21<_0x41bf65['length'];_0x415e21+=_0x52b5f5[_0x1ba213(0x80a)][_0x1ba213(0x8e5)]){let _0x4068b6=_0x415e21-_0x52b5f5[_0x1ba213(0x80a)]['overlap'];_0x4068b6<0x0&&(_0x4068b6=0x0);let _0x2cad67=_0x415e21+_0x52b5f5['attributes'][_0x1ba213(0x8e5)]+_0x52b5f5[_0x1ba213(0x80a)]['overlap'];_0x2cad67>_0x41bf65[_0x1ba213(0x73c)]&&(_0x2cad67=_0x41bf65[_0x1ba213(0x73c)]),length||(length=_0x415e21+_0x52b5f5[_0x1ba213(0x80a)][_0x1ba213(0x8e5)],length>_0x41bf65[_0x1ba213(0x73c)]&&(length=_0x41bf65['length'])),_0x44355e[_0x1ba213(0xa93)](_0x41bf65[_0x1ba213(0x733)](_0x4068b6,_0x2cad67));}return _0x44355e;}(_0x23e6f0,_0x2b641c);await _0x111aaa(_0x33b877,_0x2e8743,_0x49ab1e,_0x7054ab,_0x2b641c,_0x253be4,_0x5edd59,_0xb0274);}function _0x488855(_0x3727e2,_0x2f87d6,_0xc1209c){const _0x270956=_0x3d1090;_0xc1209c[_0x270956(0x63a)]||(_0xc1209c[_0x270956(0x63a)]={}),_0xc1209c[_0x270956(0x63a)]['context']||(_0xc1209c['accumulated'][_0x270956(0x7e2)]={}),_0xc1209c[_0x270956(0x63a)]['context'][_0x3727e2]=_0x2f87d6;}async function _0x1c8268(_0x722b55,_0x3b74f8,_0x85ec59,_0x511fb9,_0x2b2c47,_0x84c876,_0x334e7f,_0x22145f){const _0xa885bf=_0x3d1090;if(_0x2b2c47[_0xa885bf(0x63a)]||(_0x2b2c47[_0xa885bf(0x63a)]={}),_0x2b2c47[_0xa885bf(0x63a)][_0xa885bf(0x8a3)]||(_0x2b2c47['accumulated'][_0xa885bf(0x8a3)]=[]),_0x3b74f8 instanceof Array?_0x2b2c47[_0xa885bf(0x63a)][_0xa885bf(0x8a3)][_0xa885bf(0xa93)](..._0x3b74f8):_0x2b2c47[_0xa885bf(0x63a)][_0xa885bf(0x8a3)]['push'](_0x3b74f8),_0x2b2c47['timesCalled']=_0x2b2c47[_0xa885bf(0x63f)]?_0x2b2c47[_0xa885bf(0x63f)]+0x1:0x1,_0x41d6db(_0x2b2c47,_0x84c876)>_0x2b2c47[_0xa885bf(0x63f)])return;if(0x0===_0x2b2c47[_0xa885bf(0x63a)][_0xa885bf(0x8a3)][_0xa885bf(0x73c)])throw new Error(_0xa885bf(0x642));let _0x910b14=[];const _0x5461b6=Date['now']();try{let _0x3ec6f2=0x0,_0x2c54dd=0x0;for(const _0x72c215 of _0x2b2c47[_0xa885bf(0x63a)][_0xa885bf(0x8a3)]){const _0x1d7b7d=_0x2b2c47[_0xa885bf(0x7f7)][_0xa885bf(0x447)](_0x13a5b6=>_0x13a5b6[_0xa885bf(0x88c)]===_0x4f2535['Prompt']),_0xe3656a=await _0x193fe4(_0x722b55,_0x85ec59[_0xa885bf(0x8b1)],_0x72c215,_0x1d7b7d,_0x2b2c47[_0xa885bf(0x7f7)],_0x334e7f);_0x910b14=Array[_0xa885bf(0x2bc)](new Set([..._0x910b14,..._0xe3656a[_0xa885bf(0x7e2)]])),_0x3ec6f2+=_0xe3656a['inputTokens']??0x0,_0x2c54dd+=_0xe3656a[_0xa885bf(0x8ba)]??0x0;}_0x511fb9[_0xa885bf(0x2dc)]+=_0x3ec6f2,_0x511fb9[_0xa885bf(0x8ba)]+=_0x2c54dd,_0x511fb9[_0xa885bf(0x7e2)]=Array[_0xa885bf(0x2bc)](new Set([..._0x511fb9[_0xa885bf(0x7e2)],..._0x910b14])),_0x4b997a[_0xa885bf(0x525)]({'jobType':_0x4b0d8e['Workflow'],'type':_0xcee543[_0xa885bf(0x8aa)],'jobId':_0x722b55,'threadId':_0x85ec59['threadId'],'traceLevel':_0x17d38d[_0xa885bf(0x933)],'startTime':_0x5461b6,'timestamp':Date['now'](),'blockId':_0x2b2c47['id'],'status':_0xa885bf(0x51e),'queries':_0x2b2c47[_0xa885bf(0x63a)]['queries'],'context':_0x910b14,'inputTokens':_0x3ec6f2,'outputTokens':_0x2c54dd});}catch(_0x4b906b){console[_0xa885bf(0x58c)](_0x4b906b),_0x4b997a[_0xa885bf(0x525)]({'jobType':_0x4b0d8e[_0xa885bf(0x288)],'type':_0xcee543[_0xa885bf(0x8aa)],'jobId':_0x722b55,'threadId':_0x85ec59[_0xa885bf(0x8b1)],'traceLevel':_0x17d38d[_0xa885bf(0x933)],'startTime':_0x5461b6,'timestamp':Date[_0xa885bf(0x267)](),'blockId':_0x2b2c47['id'],'status':_0xa885bf(0x58c),'queries':_0x2b2c47[_0xa885bf(0x63a)][_0xa885bf(0x8a3)],'context':[],'inputTokens':0x0,'outputTokens':0x0});}_0x4152b4(_0x910b14,_0x2b2c47,_0x84c876),await _0x111aaa(_0x722b55,_0x910b14,_0x85ec59,_0x511fb9,_0x2b2c47,_0x84c876,_0x334e7f,_0x22145f);}async function _0xf830fd(_0x3a5d97,_0x2b3526,_0x30171c,_0x50a650,_0x48c7a5,_0x4b8e6d,_0x531def,_0x2b9c98){const _0x58648e=_0x3d1090,_0x5c48af=await _0x531def[_0x58648e(0x47c)][_0x58648e(0x633)](_0x2b3526);await _0x111aaa(_0x3a5d97,_0x5c48af,_0x30171c,_0x50a650,_0x48c7a5,_0x4b8e6d,_0x531def,_0x2b9c98);}async function _0x56691c(_0x1a3e6f,_0x5a23e3,_0x4d412f,_0x402879,_0x753fc4,_0x1d8bb1,_0x274844,_0x24c766){const _0x54d969=function(_0x51f385,_0x367727){const _0xb6ff49=a0_0x50c4,_0xc18a2e=[],_0x59ba1e=_0x51f385[_0xb6ff49(0xa49)]('\x20');let _0x3f70c6='',_0x3e7e6c=0x0,_0x2515db=0x0,_0x131be2=0x0;for(const _0x337db1 of _0x59ba1e){if(_0x3f70c6[_0xb6ff49(0x73c)]+_0x337db1[_0xb6ff49(0x73c)]>_0x367727[_0xb6ff49(0x80a)]['size']){let _0x5f43b3=_0x3e7e6c,_0xed31b5='';for(;_0x5f43b3>=0x0&&_0xed31b5[_0xb6ff49(0x73c)]+_0x59ba1e[_0x5f43b3][_0xb6ff49(0x73c)]<_0x367727[_0xb6ff49(0x80a)][_0xb6ff49(0x4da)];)_0xed31b5=_0x59ba1e[_0x5f43b3]+'\x20'+_0xed31b5,_0x5f43b3--;let _0xd4ee6a=_0x2515db,_0x458bf7='';for(;_0xd4ee6a<_0x59ba1e['length']&&_0x458bf7[_0xb6ff49(0x73c)]+_0x59ba1e[_0xd4ee6a]['length']<_0x367727[_0xb6ff49(0x80a)][_0xb6ff49(0x4da)];)_0x458bf7+=_0x59ba1e[_0xd4ee6a]+'\x20',_0xd4ee6a++;_0x3f70c6=_0xed31b5+_0x3f70c6+_0x458bf7,_0xc18a2e['push'](_0x3f70c6['trim']()),_0x3f70c6='',_0x3e7e6c=_0x2515db;}_0x3f70c6+=_0x337db1+'\x20',_0x2515db++,_0x131be2+=_0x337db1[_0xb6ff49(0x73c)]+0x1;}if(_0x3f70c6[_0xb6ff49(0x73c)]>0x0){let _0x545d15=_0x3e7e6c,_0x3b8794='';for(;_0x545d15>=0x0&&_0x3b8794[_0xb6ff49(0x73c)]+_0x59ba1e[_0x545d15][_0xb6ff49(0x73c)]<_0x367727[_0xb6ff49(0x80a)][_0xb6ff49(0x4da)];)_0x3b8794=_0x59ba1e[_0x545d15]+'\x20'+_0x3b8794,_0x545d15--;_0x3f70c6=_0x3b8794+_0x3f70c6,_0xc18a2e[_0xb6ff49(0xa93)](_0x3f70c6['trim']());}return _0xc18a2e;}(_0x5a23e3,_0x753fc4);await _0x111aaa(_0x1a3e6f,_0x54d969,_0x4d412f,_0x402879,_0x753fc4,_0x1d8bb1,_0x274844,_0x24c766);}function _0x4152b4(_0x370e5e,_0x5984c3,_0x4f6bcd,_0x562efe){const _0x338f37=_0x3d1090;if(_0x5984c3['links'])for(const _0x13645e of _0x5984c3[_0x338f37(0x207)]){if(_0x13645e[_0x338f37(0x88c)]!==_0x2e5edf['Context'])continue;const _0x2b0252=_0x4f6bcd[_0x338f37(0x447)](_0x258bc5=>_0x258bc5[_0x338f37(0x4dd)]===_0x13645e[_0x338f37(0x4dd)]);if(!_0x2b0252)continue;let _0x1cee6f=_0x5984c3['id'];switch(_0x562efe?_0x1cee6f=_0x562efe:(_0x5984c3['type']===_0x3f7901[_0x338f37(0x8aa)]&&(_0x1cee6f=_0x5984c3['name']),_0x5984c3[_0x338f37(0x88c)]!==_0x3f7901[_0x338f37(0x7ae)]&&_0x5984c3[_0x338f37(0x88c)]!==_0x3f7901[_0x338f37(0x955)]&&_0x5984c3[_0x338f37(0x88c)]!==_0x3f7901[_0x338f37(0x8d2)]||(_0x1cee6f=_0x5984c3['contextOutputVariable']??_0x5984c3[_0x338f37(0x643)])),_0x2b0252[_0x338f37(0x88c)]){case _0x3f7901[_0x338f37(0x7ae)]:_0x3dc4e5[_0x338f37(0x5f3)](_0x338f37(0x374),_0x2b0252[_0x338f37(0x643)],_0x1cee6f),_0x2b0252[_0x338f37(0x63a)]||(_0x2b0252[_0x338f37(0x63a)]={}),_0x2b0252[_0x338f37(0x63a)][_0x338f37(0x7e2)]||(_0x2b0252[_0x338f37(0x63a)]['context']={}),_0x2b0252['accumulated']['context'][_0x1cee6f]=_0x370e5e,_0x2b0252[_0x338f37(0x63f)]=_0x2b0252[_0x338f37(0x63f)]?_0x2b0252[_0x338f37(0x63f)]+0x1:0x1;break;case _0x3f7901[_0x338f37(0x955)]:_0x3dc4e5[_0x338f37(0x5f3)](_0x338f37(0x75e),_0x2b0252[_0x338f37(0x643)],_0x1cee6f),_0x31c13f(_0x1cee6f,_0x370e5e,_0x2b0252);break;case _0x3f7901[_0x338f37(0x3dd)]:_0x3dc4e5[_0x338f37(0x5f3)](_0x338f37(0x53d),_0x1cee6f),_0x384800(_0x13645e[_0x338f37(0x88c)],_0x1cee6f,_0x370e5e,_0x2b0252);break;case _0x3f7901[_0x338f37(0x8d2)]:_0x3dc4e5[_0x338f37(0x5f3)](_0x338f37(0x8e6),_0x2b0252[_0x338f37(0x643)],_0x1cee6f),_0x488855(_0x1cee6f,_0x370e5e,_0x2b0252);}}}async function _0x111aaa(_0x386e46,_0x1b2667,_0x53b959,_0x444aff,_0x5c695b,_0x4798b9,_0x59dfd5,_0x1b4a40){const _0x300d96=_0x3d1090;if(await _0x5aa24a[_0x300d96(0x228)](0x1),_0x5c695b[_0x300d96(0x207)]){for(const _0x5053ad of _0x5c695b['links']){if(_0x5053ad[_0x300d96(0x88c)]===_0x2e5edf[_0x300d96(0x78a)])continue;const _0x26cad5=_0x4798b9[_0x300d96(0x447)](_0x2203ec=>_0x2203ec[_0x300d96(0x4dd)]===_0x5053ad['uid']);if(_0x26cad5)switch(_0x26cad5[_0x300d96(0x88c)]){case _0x3f7901[_0x300d96(0x7ae)]:await _0x174413(_0x386e46,_0x5053ad[_0x300d96(0x88c)],_0x1b2667,_0x53b959,_0x444aff,_0x26cad5,_0x4798b9,_0x59dfd5,_0x1b4a40);break;case _0x3f7901[_0x300d96(0x3d2)]:await _0x9d338d(_0x386e46,_0x1b2667,_0x53b959,_0x444aff,_0x26cad5,_0x4798b9,_0x59dfd5,_0x1b4a40);break;case _0x3f7901[_0x300d96(0x8aa)]:await _0x1c8268(_0x386e46,_0x1b2667,_0x53b959,_0x444aff,_0x26cad5,_0x4798b9,_0x59dfd5,_0x1b4a40);break;case _0x3f7901[_0x300d96(0x972)]:await _0xf830fd(_0x386e46,_0x1b2667,_0x53b959,_0x444aff,_0x26cad5,_0x4798b9,_0x59dfd5,_0x1b4a40);break;case _0x3f7901[_0x300d96(0x348)]:await _0x56691c(_0x386e46,_0x1b2667,_0x53b959,_0x444aff,_0x26cad5,_0x4798b9,_0x59dfd5,_0x1b4a40);}}_0x5c695b['type']===_0x3f7901[_0x300d96(0x8cd)]&&_0x1b4a40&&_0x1b4a40['emit'](void 0x0);}else _0x5c695b[_0x300d96(0x88c)]===_0x3f7901[_0x300d96(0x8cd)]&&_0x1b4a40&&_0x1b4a40['emit'](void 0x0);}function _0x41d6db(_0xa362cd,_0x247dae){const _0x4ed1eb=_0x3d1090;let _0x42434a=0x0;for(const _0x3e45bc of _0x247dae)for(const _0x12dd39 of _0x3e45bc['links']??[])_0x12dd39[_0x4ed1eb(0x88c)]!==_0x2e5edf[_0x4ed1eb(0x6cb)]&&_0x12dd39[_0x4ed1eb(0x88c)]!==_0x2e5edf['Skill']&&_0x12dd39['uid']===_0xa362cd[_0x4ed1eb(0x4dd)]&&_0x42434a++;return _0x42434a;}class _0x3e1f68 extends _0x5c9a99{[_0x3d1090(0x5d3)];[_0x3d1090(0x43c)];[_0x3d1090(0x693)];[_0x3d1090(0x319)];[_0x3d1090(0x266)];['nlpLibraryConnector'];[_0x3d1090(0x9af)];[_0x3d1090(0xa70)];[_0x3d1090(0x2c0)];[_0x3d1090(0x48c)];['dataStores']=new Map();[_0x3d1090(0x7b6)]=new Map();[_0x3d1090(0xa0e)];[_0x3d1090(0x3a1)]=new Map();['debounceStats'];[_0x3d1090(0x3ee)]=0x0;[_0x3d1090(0xaa5)]=0x0;['isOpened']=!0x1;constructor(_0xeba035,_0x438747,_0x5bdef5,_0x326cb1,_0x278669,_0x403250,_0x23628a,_0x5238d2,_0x40d802,_0x26aca6){const _0x4bc3c9=_0x3d1090;super(_0xeba035,_0x438747,_0x326cb1),this[_0x4bc3c9(0x5d3)]=_0xeba035,this['vendorId']=_0x5bdef5,this['contentMediator']=_0x278669,this[_0x4bc3c9(0x319)]=_0x403250,this[_0x4bc3c9(0x266)]=_0x23628a,this[_0x4bc3c9(0x47c)]=_0x5238d2,this[_0x4bc3c9(0x9af)]=_0x40d802,this[_0x4bc3c9(0xa70)]=_0x26aca6;}async[_0x3d1090(0x1f8)](){const _0x37d28d=_0x3d1090;for(const _0xea7e87 of this[_0x37d28d(0x319)])await _0xea7e87['close']();this[_0x37d28d(0x48c)]?.[_0x37d28d(0x7d0)](this[_0x37d28d(0x7d3)]),this[_0x37d28d(0x665)][_0x37d28d(0x7ff)](_0x478762=>_0x478762['unsubscribe'](this[_0x37d28d(0x7d3)])),this[_0x37d28d(0xa20)]&&(clearTimeout(this[_0x37d28d(0xa20)]),delete this['debounceStats']),super['destroy']();}async['open'](_0x59c281=!0x1){const _0x5d0a55=_0x3d1090;if(this[_0x5d0a55(0x5aa)])super[_0x5d0a55(0x4be)]();else{if(_0x3dc4e5['forceLog']('GenerativeAIWorker:\x20Opening',this[_0x5d0a55(0x7d3)]),this[_0x5d0a55(0x2c0)]=await _0x26537d[_0x5d0a55(0x59c)](this[_0x5d0a55(0x43c)],this[_0x5d0a55(0x7d3)]),this[_0x5d0a55(0x48c)]=this[_0x5d0a55(0x693)][_0x5d0a55(0x6b4)](this['workflow'][_0x5d0a55(0x668)]),!this[_0x5d0a55(0x48c)])throw new Error('Model\x20store\x20not\x20initialized');this[_0x5d0a55(0x1f0)](),_0x3dc4e5[_0x5d0a55(0x5f3)](_0x5d0a55(0x727),this[_0x5d0a55(0x2c0)][_0x5d0a55(0x3a1)]);for(const _0x4f0de7 of this['workflow']['models'])try{let _0x2f2a64;_0x4f0de7[_0x5d0a55(0x935)]===_0x25b155[_0x5d0a55(0x82b)][_0x5d0a55(0x917)]&&(_0x2f2a64=await this[_0x5d0a55(0x3cb)]('/'+_0x4f0de7['id']+_0x34dde2)),this[_0x5d0a55(0x3a1)][_0x5d0a55(0x6f0)](_0x4f0de7['id'],{'id':_0x4f0de7['id'],'engineType':_0x4f0de7[_0x5d0a55(0x935)],'taskType':_0x4f0de7['taskType'],'inputType':_0x4f0de7[_0x5d0a55(0x5f9)],'outputType':_0x4f0de7[_0x5d0a55(0x68e)],'sourceUrl':_0x4f0de7[_0x5d0a55(0x62d)],'pathName':_0x2f2a64});}catch(_0x39b4d7){await this['modelStore'][_0x5d0a55(0x681)]({'action':_0x25b155[_0x5d0a55(0x64a)][_0x5d0a55(0x7f0)],'file':new File([''],''+_0x4f0de7['id']+_0x34dde2),'path':'/','options':{'skipEncryption':!0x0,'fetchUrl':_0x4f0de7[_0x5d0a55(0x62d)]}}),this['models']['set'](_0x4f0de7['id'],{'id':_0x4f0de7['id'],'engineType':_0x4f0de7[_0x5d0a55(0x935)],'taskType':_0x4f0de7['taskType'],'inputType':_0x4f0de7[_0x5d0a55(0x5f9)],'outputType':_0x4f0de7[_0x5d0a55(0x68e)],'sourceUrl':_0x4f0de7[_0x5d0a55(0x62d)],'pathName':await this['getModel']('/'+_0x4f0de7['id']+_0x34dde2)});}try{for(const _0xb520fb of this['generativeAIWorkerConnectors'])await _0xb520fb[_0x5d0a55(0x9c4)](this[_0x5d0a55(0x7d3)],this['models']);}catch(_0x4759f1){return this[_0x5d0a55(0x4be)](_0x59c281);}for(const _0x491ac1 of this[_0x5d0a55(0x2c0)][_0x5d0a55(0x795)])this[_0x5d0a55(0x665)]['set'](_0x491ac1,this[_0x5d0a55(0x693)][_0x5d0a55(0x6b4)](_0x491ac1));await this[_0x5d0a55(0x330)](),this[_0x5d0a55(0x842)]();for(const _0x1ca345 of this[_0x5d0a55(0x2c0)][_0x5d0a55(0x5a2)])this['externalStores'][_0x5d0a55(0x6f0)](_0x1ca345,this[_0x5d0a55(0x693)]['getExternalStorageConnection'](_0x1ca345));await this['loadExternalContent'](),this[_0x5d0a55(0x2b0)](),this['isOpened']=!0x0,this['sendStats'](),super[_0x5d0a55(0x4be)](),_0x3dc4e5[_0x5d0a55(0x5f3)](_0x5d0a55(0x30c),this[_0x5d0a55(0x7d3)]);}}[_0x3d1090(0x548)](){const _0x234883=_0x3d1090;this[_0x234883(0x3ee)]=0x0,this['tokens']=0x0,this[_0x234883(0xaa9)](),super['reset']();}[_0x3d1090(0x898)](){return this['sendStats'](),this['getCoresFromCapacityReport']();}[_0x3d1090(0x9d2)](_0x4eb73c,_0x5ecef8,_0x320c84){const _0x1469e8=_0x3d1090,{outputTokens:_0x4a44ba=0x0,output:_0x5ab8c9=''}=_0x4eb73c,_0x564896=_0x4a44ba/((_0x320c84-_0x5ecef8)/0x3e8);this[_0x1469e8(0x3ee)]+=0x1,this[_0x1469e8(0xaa5)]+=_0x4a44ba,this[_0x1469e8(0x340)](_0x564896,_0x4a44ba),this[_0x1469e8(0xaa9)]();}[_0x3d1090(0x9e6)](_0x503ff4,_0x5e10a1){const _0x17411c=_0x3d1090;return _0x503ff4[_0x17411c(0x8f8)]=_0x503ff4[_0x17411c(0x8f8)]??'',{'type':_0x17411c(0x513),'output':'string'==typeof _0x503ff4['output']&&_0x17411c(0x205)==typeof _0x5e10a1[_0x17411c(0x8f8)]?_0x503ff4['output']+_0x5e10a1[_0x17411c(0x8f8)]:_0x5e10a1['output'],'outputTokens':_0x5e10a1[_0x17411c(0x8ba)]??_0x503ff4['outputTokens'],'inputTokens':_0x5e10a1[_0x17411c(0x2dc)]??_0x503ff4[_0x17411c(0x2dc)]};}async[_0x3d1090(0xa8b)](_0x42fc0e,_0x3041b0){const _0x1a1b3a=_0x3d1090;if(this[_0x1a1b3a(0x2c0)]=await _0x26537d[_0x1a1b3a(0x59c)](this[_0x1a1b3a(0x43c)],this['label']),'prompt'===_0x3041b0['type']){const _0x464a1f=this['workflow']['blocks'][_0x1a1b3a(0x447)](_0x1ec0a6=>_0x1ec0a6[_0x1a1b3a(0x88c)]===_0x3f7901[_0x1a1b3a(0x8cd)]),_0x36e503=await async function(_0x5a6385,_0x459691,_0x749ace,_0x4c3fe3,_0xdc551b){const _0x485df0=_0x1a1b3a,_0x32d2ae=(0x0,_0x14a38c['v4'])(),_0x445c6b=Date[_0x485df0(0x267)]();if(_0x4b997a[_0x485df0(0x525)]({'jobType':_0x4b0d8e[_0x485df0(0x288)],'type':_0xcee543[_0x485df0(0x260)],'jobId':_0x5a6385,'blockId':_0x749ace['id'],'agentId':_0x32d2ae,'threadId':_0x459691['threadId'],'traceLevel':_0x17d38d[_0x485df0(0x933)],'startTime':Date[_0x485df0(0x267)](),'timestamp':Date['now'](),'status':_0x485df0(0x51e),'initialPrompt':_0x459691[_0x485df0(0x513)]}),_0x459691[_0x485df0(0x79b)]){for(const _0x65917a in _0x459691[_0x485df0(0x79b)])_0x4152b4(_0x459691[_0x485df0(0x79b)][_0x65917a],_0x749ace,_0x4c3fe3,_0x65917a);}const _0x351684={'type':_0x459691[_0x485df0(0x88c)],'context':[],'inputTokens':0x0,'outputTokens':0x0};await _0x111aaa(_0x5a6385,''+_0x459691[_0x485df0(0x513)],_0x459691,_0x351684,_0x749ace,_0x4c3fe3,_0xdc551b);const {inputTokens:_0x5a3a0e=0x0,outputTokens:_0x1630d7=0x0,context:_0x5c8272=[]}=_0x351684;return _0x4b997a[_0x485df0(0x525)]({'jobType':_0x4b0d8e[_0x485df0(0x288)],'type':_0xcee543[_0x485df0(0x864)],'jobId':_0x5a6385,'agentId':_0x32d2ae,'threadId':_0x459691['threadId'],'traceLevel':_0x17d38d[_0x485df0(0x933)],'startTime':_0x445c6b,'timestamp':Date[_0x485df0(0x267)](),'blockId':_0x749ace['id'],'status':'success','output':_0x351684['output']?.[_0x485df0(0x8ee)]()??'','prompt':_0x459691['prompt'],'agentName':'','history':_0x459691[_0x485df0(0x60b)]??[],'instructions':''+(_0x459691[_0x485df0(0xa8e)]??''),'ragContext':_0x5c8272,'inputTokens':_0x5a3a0e,'outputTokens':_0x1630d7}),{'type':_0x459691[_0x485df0(0x88c)],'output':_0x351684[_0x485df0(0x8f8)],'context':_0x351684[_0x485df0(0x7e2)],'internalContext':_0x4c3fe3[_0x485df0(0x447)](_0x417c95=>_0x417c95[_0x485df0(0x88c)]===_0x3f7901[_0x485df0(0x3dd)])?.['accumulated']?.['context']??{},'inputTokens':_0x351684['inputTokens']??0x0,'outputTokens':_0x351684[_0x485df0(0x8ba)]??0x0};}(_0x42fc0e,_0x3041b0,_0x464a1f,this[_0x1a1b3a(0x2c0)][_0x1a1b3a(0x28d)],{'documentParserConnector':this[_0x1a1b3a(0x266)],'nlpLibraryConnector':this[_0x1a1b3a(0x47c)],'generativeAIWorkerConnectors':this[_0x1a1b3a(0x319)],'models':this[_0x1a1b3a(0x2c0)]['models'],'contentMediator':this[_0x1a1b3a(0x693)],'searchApiKey':this['searchApiKey'],'searchConnector':this[_0x1a1b3a(0xa70)]});return _0x36e503;}if(_0x1a1b3a(0x5bd)===_0x3041b0[_0x1a1b3a(0x88c)])return _0x4b997a[_0x1a1b3a(0x525)]({'jobType':_0x4b0d8e[_0x1a1b3a(0x666)],'type':_0x4f5e58[_0x1a1b3a(0x480)],'jobId':_0x3041b0[_0x1a1b3a(0x389)],'threadId':_0x3041b0[_0x1a1b3a(0x8b1)],'traceLevel':_0x17d38d[_0x1a1b3a(0x933)],'startTime':Date[_0x1a1b3a(0x267)](),'timestamp':Date[_0x1a1b3a(0x267)](),'status':_0x1a1b3a(0x51e),'rating':_0x3041b0[_0x1a1b3a(0x4e2)],'feedback':_0x3041b0[_0x1a1b3a(0x6e1)]}),{'type':_0x1a1b3a(0x5bd),'status':_0x25b155[_0x1a1b3a(0x74b)][_0x1a1b3a(0x47f)]};if('downloadDocument'===_0x3041b0[_0x1a1b3a(0x88c)]){let _0x329ba1;const _0x4b554b=this[_0x1a1b3a(0x665)]['keys']();for(;!_0x329ba1;){const _0x436e0e=_0x4b554b[_0x1a1b3a(0xa91)]()[_0x1a1b3a(0x81e)];if(!_0x436e0e)throw new Error(_0x1a1b3a(0x892));_0x329ba1=this[_0x1a1b3a(0x665)][_0x1a1b3a(0x252)](_0x436e0e);try{const _0x23e1d4=await _0x329ba1[_0x1a1b3a(0x252)](_0x3041b0[_0x1a1b3a(0x2a8)]);return{'type':_0x1a1b3a(0x7c6),'fileName':_0x23e1d4[_0x1a1b3a(0x643)],'mimeType':_0x23e1d4['type'],'document':await _0x23e1d4[_0x1a1b3a(0x86c)]()};}catch(_0x4cffbc){continue;}}throw new Error(_0x1a1b3a(0x892));}throw new Error(_0x1a1b3a(0x22a));}async*[_0x3d1090(0x7c8)](_0x4e5e88,_0x20eb12){const _0x4963bb=_0x3d1090;this[_0x4963bb(0x2c0)]=await _0x26537d[_0x4963bb(0x59c)](this[_0x4963bb(0x43c)],this[_0x4963bb(0x7d3)]);const _0x235f09=this[_0x4963bb(0x2c0)][_0x4963bb(0x28d)][_0x4963bb(0x447)](_0x349cb5=>_0x349cb5[_0x4963bb(0x88c)]===_0x3f7901[_0x4963bb(0x8cd)]);for await(const _0x308f3c of async function*(_0x5c4e22,_0x21b015,_0x47824d,_0x4060a5,_0x5d8e0b){const _0x2c0390=_0x4963bb,_0x4808fc=(0x0,_0x14a38c['v4'])(),_0x4bd214=Date[_0x2c0390(0x267)]();if(_0x4b997a[_0x2c0390(0x525)]({'jobType':_0x4b0d8e[_0x2c0390(0x288)],'type':_0xcee543[_0x2c0390(0x260)],'jobId':_0x5c4e22,'agentId':_0x4808fc,'threadId':_0x21b015['threadId'],'traceLevel':_0x17d38d[_0x2c0390(0x933)],'startTime':Date['now'](),'timestamp':Date[_0x2c0390(0x267)](),'blockId':_0x47824d['id'],'status':_0x2c0390(0x51e),'initialPrompt':_0x21b015['prompt']}),_0x21b015[_0x2c0390(0x79b)]){for(const _0x3b8de6 in _0x21b015[_0x2c0390(0x79b)])_0x4152b4(_0x21b015[_0x2c0390(0x79b)][_0x3b8de6],_0x47824d,_0x4060a5,_0x3b8de6);}const _0xa731c3={'type':_0x21b015[_0x2c0390(0x88c)],'context':[],'inputTokens':0x0,'outputTokens':0x0},_0x378d3b=new _0x17d255();_0x111aaa(_0x5c4e22,''+_0x21b015[_0x2c0390(0x513)],_0x21b015,_0xa731c3,_0x47824d,_0x4060a5,_0x5d8e0b,_0x378d3b);let _0x24b892='',_0x1a2bc2={'type':_0x21b015[_0x2c0390(0x88c)]};for(;;){const _0x3cfdf1=await _0x378d3b[_0x2c0390(0xa29)]();if(!_0x3cfdf1)break;_0x24b892+=_0x3cfdf1[_0x2c0390(0x8f8)],_0x1a2bc2={'type':_0x21b015[_0x2c0390(0x88c)],'output':_0x3cfdf1[_0x2c0390(0x8f8)],'context':_0xa731c3['context'],'internalContext':{},'inputTokens':(_0xa731c3['inputTokens']??0x0)+(_0x3cfdf1[_0x2c0390(0x2dc)]??0x0),'outputTokens':(_0xa731c3[_0x2c0390(0x8ba)]??0x0)+(_0x3cfdf1['outputTokens']??0x0)},yield _0x1a2bc2;}yield{..._0x1a2bc2,'output':'','internalContext':_0x4060a5[_0x2c0390(0x447)](_0x456e99=>_0x456e99[_0x2c0390(0x88c)]===_0x3f7901[_0x2c0390(0x3dd)])?.[_0x2c0390(0x63a)]?.['context']??{}};const {inputTokens:_0x3fcd81=0x0,outputTokens:_0x387beb=0x0,context:_0x5c1dcf=[]}=_0x1a2bc2;_0x4b997a[_0x2c0390(0x525)]({'jobType':_0x4b0d8e[_0x2c0390(0x288)],'type':_0xcee543[_0x2c0390(0x864)],'jobId':_0x5c4e22,'agentId':_0x4808fc,'threadId':_0x21b015['threadId'],'traceLevel':_0x17d38d[_0x2c0390(0x933)],'startTime':_0x4bd214,'timestamp':Date['now'](),'blockId':_0x47824d['id'],'status':'success','output':_0x24b892,'prompt':_0x21b015[_0x2c0390(0x513)],'agentName':'','history':_0x21b015['history']??[],'instructions':''+(_0x21b015[_0x2c0390(0xa8e)]??''),'ragContext':_0x5c1dcf,'inputTokens':_0x3fcd81,'outputTokens':_0x387beb});}(_0x4e5e88,_0x20eb12,_0x235f09,this['workflow'][_0x4963bb(0x28d)],{'documentParserConnector':this['documentParserConnector'],'nlpLibraryConnector':this[_0x4963bb(0x47c)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':this['workflow'][_0x4963bb(0x3a1)],'contentMediator':this[_0x4963bb(0x693)],'searchApiKey':this['searchApiKey'],'searchConnector':this[_0x4963bb(0xa70)]}))yield _0x308f3c;}[_0x3d1090(0x862)](_0x51a564,_0x32ccf5){const _0x50ca1c=_0x3d1090;if(_0x50ca1c(0x5bd)===_0x32ccf5[_0x50ca1c(0x88c)])return _0x51a564=_0x32ccf5[_0x50ca1c(0x389)],void this[_0x50ca1c(0xa1c)](_0x51a564);this[_0x50ca1c(0xa1c)](_0x51a564),_0x4b997a[_0x50ca1c(0x525)]({'jobType':_0x4b0d8e[_0x50ca1c(0x673)],'type':_0x2e636c['Queued'],'traceLevel':_0x17d38d[_0x50ca1c(0x933)],'jobId':_0x51a564,'threadId':_0x32ccf5[_0x50ca1c(0x8b1)],'startTime':Date['now'](),'timestamp':Date['now'](),'status':_0x50ca1c(0x51e)});}[_0x3d1090(0x846)](_0x26e4e3,_0x56092e){const _0x11d999=_0x3d1090;if('rate'===_0x56092e[_0x11d999(0x88c)])return _0x26e4e3=_0x56092e[_0x11d999(0x389)],void this[_0x11d999(0x904)](_0x26e4e3);_0x4b997a[_0x11d999(0x525)]({'jobType':_0x4b0d8e['Job'],'type':_0x2e636c[_0x11d999(0x80b)],'traceLevel':_0x17d38d[_0x11d999(0x933)],'jobId':_0x26e4e3,'threadId':_0x56092e[_0x11d999(0x8b1)],'startTime':Date[_0x11d999(0x267)](),'timestamp':Date[_0x11d999(0x267)](),'status':_0x11d999(0x51e)}),this[_0x11d999(0x904)](_0x26e4e3);}async[_0x3d1090(0x700)](_0x345086){return new Promise(_0x12babc=>{const _0x54ca1a=a0_0x50c4;_0x345086['subscribe'](this[_0x54ca1a(0x7d3)],async _0x205e14=>{const _0x92079c=_0x54ca1a;_0x205e14['event']===_0x25b155[_0x92079c(0x1e7)][_0x92079c(0x2ee)]&&(_0x345086[_0x92079c(0x7d0)](this[_0x92079c(0x7d3)]),_0x12babc(_0x205e14[_0x92079c(0xa36)][_0x92079c(0x72f)]));});});}async[_0x3d1090(0x3cb)](_0x547d57){const _0x5005e6=_0x3d1090;if(!this[_0x5005e6(0x48c)])throw new Error(_0x5005e6(0x8b0));const _0x2168f2=await this[_0x5005e6(0x48c)][_0x5005e6(0x97e)]('/',{'recursive':!0x1,'includeSyncingFiles':!0x1});for(const _0x1d97c1 of _0x2168f2)if(_0x1d97c1[_0x5005e6(0x6c9)]===_0x25b155[_0x5005e6(0x1c6)][_0x5005e6(0x7f0)]&&_0x1d97c1[_0x5005e6(0x869)]===_0x547d57)return _0x1d97c1['absolutePathName']??_0x1d97c1[_0x5005e6(0x869)];throw new Error(_0x5005e6(0x87e)+_0x547d57);}async[_0x3d1090(0x330)](){const _0x55bb63=_0x3d1090;if(!this[_0x55bb63(0x2c0)])throw new Error(_0x55bb63(0x539));for(const _0x3131c4 of this[_0x55bb63(0x665)][_0x55bb63(0x6a5)]())try{const _0x19d41e=this['workflow'][_0x55bb63(0x28d)][_0x55bb63(0x25d)](_0x2b3a5e=>(_0x2b3a5e[_0x55bb63(0x88c)]===_0x3f7901['DataCollection']||_0x2b3a5e['type']===_0x3f7901[_0x55bb63(0x6cb)])&&_0x2b3a5e[_0x55bb63(0x9a8)]?.[_0x55bb63(0x5d8)](_0x26079f=>_0x26079f['id']===_0x3131c4['getLabel']()));for(let _0x30017b=_0x19d41e[_0x55bb63(0x73c)]-0x1;_0x30017b>=0x0;_0x30017b--)for(const _0x255a86 of _0x19d41e[_0x30017b][_0x55bb63(0x9a8)]??[])_0x255a86[_0x55bb63(0x88c)]===_0x4f2535[_0x55bb63(0x191)]&&this[_0x55bb63(0x693)][_0x55bb63(0x851)](_0x255a86['id'])['getIsLoaded']()&&_0x19d41e[_0x55bb63(0x9cb)](_0x30017b,0x1),_0x255a86[_0x55bb63(0x88c)]===_0x4f2535[_0x55bb63(0x77b)]&&this['contentMediator']['getGraphDatabase'](_0x255a86['id'])['getIsLoaded']()&&_0x19d41e[_0x55bb63(0x9cb)](_0x30017b,0x1);const _0x24d36d=new Map();let _0x2fc6f0=!0x1;for(const _0x34a881 of _0x19d41e){let _0x34ccc7=''+(_0x34a881[_0x55bb63(0x4f5)]??0x1);for(const _0x35e843 of _0x34a881[_0x55bb63(0x9a8)]??[])_0x35e843[_0x55bb63(0x88c)]===_0x4f2535[_0x55bb63(0x7ae)]&&(_0x34ccc7=_0x34ccc7+'-'+(_0x35e843[_0x55bb63(0x4f5)]??0x1));for(const _0x30601e of _0x34a881[_0x55bb63(0x9a8)]??[])_0x30601e['type']===_0x4f2535['VectorDatabase']&&_0x24d36d[_0x55bb63(0x6f0)](_0x30601e['id'],{'version':_0x34ccc7,'getDatabase':this[_0x55bb63(0x693)]['getVectorDatabase'][_0x55bb63(0x82a)](this[_0x55bb63(0x693)]),'block':_0x30601e}),_0x30601e['type']===_0x4f2535[_0x55bb63(0x77b)]&&_0x24d36d[_0x55bb63(0x6f0)](_0x30601e['id'],{'version':_0x34ccc7,'getDatabase':this[_0x55bb63(0x693)][_0x55bb63(0x52d)][_0x55bb63(0x82a)](this['contentMediator']),'block':_0x30601e});}for(const {getDatabase:_0x4b3e91,block:_0x41fad8,version:_0xa748ab}of _0x24d36d['values']())try{const _0x4a97bb=_0x4b3e91(_0x41fad8['id']);_0x4a97bb[_0x55bb63(0x61c)](_0xa748ab),_0x4a97bb[_0x55bb63(0x5b5)](!0x0),_0x2fc6f0=!0x0;}catch(_0x45db8c){_0x2fc6f0=!0x1;break;}if(_0x3dc4e5[_0x55bb63(0x5f3)](_0x55bb63(0x49f)),_0x2fc6f0)continue;_0x3dc4e5[_0x55bb63(0x5f3)](_0x55bb63(0x4e3));const _0x290901=await _0x3131c4[_0x55bb63(0x97e)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x1});await this[_0x55bb63(0x21f)](_0x3bb5a2[_0x55bb63(0x250)],_0x3131c4[_0x55bb63(0x44c)](),_0x290901);for(const {getDatabase:_0x4a9e9b,block:_0x2dac88,version:_0x35d62f}of _0x24d36d[_0x55bb63(0x6a5)]()){const _0x4e861d=_0x4a9e9b(_0x2dac88['id']);_0x4e861d['saveToDisk'](_0x35d62f),_0x4e861d[_0x55bb63(0x5b5)](!0x0);}}catch(_0x39b52b){_0x3dc4e5[_0x55bb63(0x58c)]('Error\x20loading\x20existing\x20content',{'nodeId':this[_0x55bb63(0x5d3)][_0x55bb63(0x79a)](),'nodeType':this[_0x55bb63(0x5d3)]['type']});}}async[_0x3d1090(0x449)](){const _0x1942c6=_0x3d1090;for(const _0x1d4bf7 of this[_0x1942c6(0x7b6)][_0x1942c6(0x6a5)]())try{const _0x1f61ef=await _0x1d4bf7[_0x1942c6(0x97e)]('/',{'recursive':!0x0});await this[_0x1942c6(0x21f)](_0x3bb5a2[_0x1942c6(0x1d5)],_0x1d4bf7['getName'](),_0x1f61ef);}catch(_0x43bb4c){_0x3dc4e5[_0x1942c6(0x58c)](_0x1942c6(0x2c9),{'nodeId':this['localNode'][_0x1942c6(0x79a)](),'nodeType':this[_0x1942c6(0x5d3)][_0x1942c6(0x88c)]});}}async[_0x3d1090(0x21f)](_0x237b8a,_0x219aed,_0x48fbf4){const _0x383cbc=_0x3d1090;for(const _0x1635d4 of _0x48fbf4){if(_0x1635d4['kind']===_0x25b155['ObjectKind'][_0x383cbc(0x1a0)]){if(!_0x1635d4[_0x383cbc(0x6c2)]||0x0===_0x1635d4[_0x383cbc(0x6c2)][_0x383cbc(0x73c)])continue;await this[_0x383cbc(0x21f)](_0x237b8a,_0x219aed,_0x1635d4[_0x383cbc(0x6c2)]);}_0x1635d4['kind']===_0x25b155[_0x383cbc(0x1c6)][_0x383cbc(0x7f0)]&&await this[_0x383cbc(0x304)](_0x237b8a,_0x219aed,_0x1635d4[_0x383cbc(0x869)]);}}['subscribeToLocalContent'](){const _0x29a7b2=_0x3d1090;for(const _0x103411 of this['dataStores'][_0x29a7b2(0x6a5)]())_0x103411[_0x29a7b2(0x81b)](this['label'],async _0x723ba4=>{const _0x519f7b=_0x29a7b2;switch(_0x723ba4[_0x519f7b(0x84c)]){case _0x25b155[_0x519f7b(0x1e7)][_0x519f7b(0x66c)]:this[_0x519f7b(0x5ac)](_0x3bb5a2['ObjectStorage'],_0x103411[_0x519f7b(0x44c)](),_0x723ba4[_0x519f7b(0xa36)][_0x519f7b(0x2c4)]['pathName']),await this['addContent'](_0x3bb5a2[_0x519f7b(0x250)],_0x103411['getName'](),_0x723ba4[_0x519f7b(0xa36)][_0x519f7b(0x2c4)][_0x519f7b(0x869)]);break;case _0x25b155['StorageEventType'][_0x519f7b(0x5b8)]:this['removeContent'](_0x3bb5a2[_0x519f7b(0x250)],_0x103411[_0x519f7b(0x44c)](),_0x723ba4[_0x519f7b(0xa36)][_0x519f7b(0x869)]);}});}[_0x3d1090(0x2b0)](){const _0x37e56f=_0x3d1090;for(const _0x23671c of this[_0x37e56f(0x7b6)][_0x37e56f(0x6a5)]())_0x23671c[_0x37e56f(0x81b)](this[_0x37e56f(0x7d3)],async _0x473e6c=>{const _0x5b316d=_0x37e56f;switch(_0x473e6c['event']){case _0x25b155[_0x5b316d(0x1e7)][_0x5b316d(0x66c)]:this[_0x5b316d(0x5ac)](_0x3bb5a2[_0x5b316d(0x1d5)],_0x23671c['getName'](),_0x473e6c[_0x5b316d(0xa36)]['file'][_0x5b316d(0x869)]),await this[_0x5b316d(0x304)](_0x3bb5a2[_0x5b316d(0x1d5)],_0x23671c[_0x5b316d(0x44c)](),_0x473e6c[_0x5b316d(0xa36)][_0x5b316d(0x2c4)][_0x5b316d(0x869)]);break;case _0x25b155[_0x5b316d(0x1e7)][_0x5b316d(0x5b8)]:this[_0x5b316d(0x5ac)](_0x3bb5a2[_0x5b316d(0x1d5)],_0x23671c[_0x5b316d(0x44c)](),_0x473e6c[_0x5b316d(0xa36)][_0x5b316d(0x869)]);}});}async[_0x3d1090(0x304)](_0x5347ab,_0x3de8b2,_0x5d81ee){const _0x303087=_0x3d1090;if(_0x3dc4e5[_0x303087(0x5f3)](_0x303087(0x304),_0x5347ab,_0x3de8b2,_0x5d81ee),!this['workflow'])throw new Error('Workflow\x20not\x20initialized');let _0x3a86ea;switch(_0x5347ab){case _0x3bb5a2[_0x303087(0x250)]:_0x3a86ea=_0x4f2535[_0x303087(0x8af)];break;case _0x3bb5a2[_0x303087(0x1d5)]:_0x3a86ea=_0x4f2535['ExternalStorageUpload'];}if(!_0x3a86ea)return;const _0xf4ddec=this['workflow'][_0x303087(0x28d)][_0x303087(0x25d)](_0x104bb8=>_0x104bb8[_0x303087(0x88c)]===_0x3f7901[_0x303087(0x6cb)]||_0x104bb8['type']===_0x3f7901[_0x303087(0x8aa)]),_0x5ba545=new Set(_0xf4ddec[_0x303087(0x855)](_0x457054=>_0x457054['id'])),_0x25b619=_0xf4ddec[_0x303087(0x25d)](_0x349e46=>_0x349e46[_0x303087(0x9a8)]?.[_0x303087(0x5d8)](_0x379efc=>_0x379efc['type']===_0x3a86ea&&_0x379efc['id']===_0x3de8b2));for(const _0x211ee8 of _0x25b619){if(!_0x5ba545[_0x303087(0x1ac)](_0x211ee8['id']))continue;_0x5ba545[_0x303087(0x54a)](_0x211ee8['id']);const _0x5197f8=_0x211ee8[_0x303087(0x9a8)]?.[_0x303087(0x447)](_0xae4d65=>_0xae4d65[_0x303087(0x88c)]===_0x3a86ea&&_0xae4d65['id']===_0x3de8b2);if(!_0x5197f8)continue;const _0x38c1b3=(0x0,_0x14a38c['v4'])();_0x4b997a[_0x303087(0xa1c)](null,_0x38c1b3),await _0x276b5f(_0x38c1b3,_0x5d81ee,_0x5197f8,_0x211ee8[_0x303087(0x9a8)],{'documentParserConnector':this[_0x303087(0x266)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x303087(0x319)],'models':this[_0x303087(0x2c0)][_0x303087(0x3a1)],'contentMediator':this[_0x303087(0x693)],'searchApiKey':this['searchApiKey'],'version':_0x211ee8[_0x303087(0x4f5)]??0x1}),_0x4b997a['closeTrace'](_0x38c1b3);}this[_0x303087(0xaa9)]();}[_0x3d1090(0x5ac)](_0x56f2f5,_0x16905d,_0x5657ed){const _0x5add1a=_0x3d1090;if(_0x3dc4e5[_0x5add1a(0x5f3)](_0x5add1a(0x5ac),_0x56f2f5,_0x16905d,_0x5657ed),!this['workflow'])throw new Error('Workflow\x20not\x20initialized');let _0x33fdab;switch(_0x56f2f5){case _0x3bb5a2[_0x5add1a(0x250)]:_0x33fdab=_0x4f2535[_0x5add1a(0x8af)];break;case _0x3bb5a2['ExternalStorage']:_0x33fdab=_0x4f2535['ExternalStorageUpload'];}if(!_0x33fdab)return;const _0x1db8e2=this[_0x5add1a(0x2c0)][_0x5add1a(0x28d)][_0x5add1a(0x25d)](_0xa72e22=>_0xa72e22['type']===_0x3f7901[_0x5add1a(0x6cb)]||_0xa72e22['type']===_0x3f7901[_0x5add1a(0x8aa)]),_0x3473ad=new Set(_0x1db8e2[_0x5add1a(0x855)](_0x50e6e0=>_0x50e6e0['id'])),_0x325468=_0x1db8e2[_0x5add1a(0x25d)](_0x2b56fd=>_0x2b56fd[_0x5add1a(0x9a8)]?.[_0x5add1a(0x5d8)](_0x308583=>_0x308583['type']===_0x33fdab&&_0x308583['id']===_0x16905d));for(const _0xd49c19 of _0x325468){if(!_0x3473ad[_0x5add1a(0x1ac)](_0xd49c19['id']))continue;_0x3473ad[_0x5add1a(0x54a)](_0xd49c19['id']);let _0x159477=''+(_0xd49c19[_0x5add1a(0x4f5)]??0x1);for(const _0x305a34 of _0xd49c19['ingestBlocks']??[])_0x305a34['type']===_0x4f2535[_0x5add1a(0x7ae)]&&(_0x159477=_0x159477+'-'+(_0x305a34['version']??0x1));for(const _0xb10db0 of _0xd49c19[_0x5add1a(0x9a8)]??[]){if(_0xb10db0[_0x5add1a(0x88c)]===_0x4f2535[_0x5add1a(0x191)]){const _0xeafcb=this['contentMediator'][_0x5add1a(0x851)](_0xb10db0['id']);_0xeafcb[_0x5add1a(0x833)](_0x5657ed),_0xeafcb[_0x5add1a(0x954)]()&&_0xeafcb['saveToDisk'](_0x159477);}if(_0xb10db0[_0x5add1a(0x88c)]===_0x4f2535[_0x5add1a(0x77b)]){const _0x71ca5b=this['contentMediator']['getGraphDatabase'](_0xb10db0['id']);_0x71ca5b[_0x5add1a(0x833)](_0x5657ed),_0x71ca5b[_0x5add1a(0x954)]()&&_0x71ca5b[_0x5add1a(0x532)](_0x159477);}}}this[_0x5add1a(0xaa9)]();}[_0x3d1090(0x367)](){const _0x264cc=_0x3d1090;try{return this[_0x264cc(0x589)][_0x264cc(0x650)]()[_0x264cc(0x728)][_0x264cc(0x660)]*(0x1-this[_0x264cc(0x589)][_0x264cc(0x650)]()[_0x264cc(0x728)]['load']);}catch(_0x330161){return _0x3dc4e5[_0x264cc(0x546)](_0x5a543d[_0x264cc(0x373)],_0x264cc(0x6cd),_0x330161),0x0;}}[_0x3d1090(0xaa9)](){const _0x1b92bc=_0x3d1090;this[_0x1b92bc(0x5aa)]&&(this[_0x1b92bc(0xa20)]&&clearTimeout(this[_0x1b92bc(0xa20)]),this[_0x1b92bc(0xa20)]=setTimeout(async()=>{const _0x38a14e=_0x1b92bc;if(delete this[_0x38a14e(0xa20)],!this[_0x38a14e(0x48c)])return;let _0x1f4d79=await this[_0x38a14e(0x48c)]['getSize']();for(const _0x5ab5ec of this['dataStores'][_0x38a14e(0x6a5)]())_0x1f4d79+=await _0x5ab5ec['getSize']();this[_0x38a14e(0x613)][_0x38a14e(0x681)]({'sourceId':_0x22135a,'messageType':_0x17c3e2[_0x38a14e(0x235)],'content':{'type':_0x4a88e8['GenerativeAIWorkerStats'],'label':this[_0x38a14e(0x7d3)],'stats':{'timestamp':Date[_0x38a14e(0x267)](),'storage':_0x1f4d79,'messagesSent':this[_0x38a14e(0x20a)],'messagesReceived':this[_0x38a14e(0x658)],'bytesSent':this[_0x38a14e(0x6bd)],'bytesReceived':this[_0x38a14e(0x335)],'writes':0x0,'reads':0x0,'prompts':this[_0x38a14e(0x3ee)],'tokens':this[_0x38a14e(0xaa5)]}}});},_0x28192e));}[_0x3d1090(0x340)](_0x5a5f47,_0x40364d){const _0x19ff78=_0x3d1090,_0x218891=this[_0x19ff78(0x7d3)],_0x21b6f3=this[_0x19ff78(0x310)]();_0x3dc4e5[_0x19ff78(0x340)](_0x264391[_0x19ff78(0x5bc)],{'topic':_0x218891,'type':_0x19ff78(0xaa0),'nodeId':_0x21b6f3,'tokenCount':_0x40364d,'tokensPerSecond':_0x5a5f47});}['openTrace'](_0x129dc8){const _0x365b34=_0x3d1090;try{if(!this['workflow'])throw new Error(_0x365b34(0x539));if(!this[_0x365b34(0xa0e)])throw new Error(_0x365b34(0xab0));if(!_0x4b997a[_0x365b34(0xa1c)](this[_0x365b34(0xa0e)],_0x129dc8))throw new Error(_0x365b34(0x711));return _0x129dc8;}catch(_0x1dcf73){return console['error'](_0x365b34(0x711),_0x1dcf73),_0x365b34(0x77e);}}['closeTrace'](_0x2b47c8){const _0x27dcb5=_0x3d1090;try{_0x4b997a[_0x27dcb5(0x904)](_0x2b47c8);}catch(_0x8c9bdd){console[_0x27dcb5(0x58c)](_0x27dcb5(0x689),{'jobId':_0x2b47c8,'error':_0x8c9bdd});}}async[_0x3d1090(0x1f0)](){return new Promise(_0x6180dd=>{const _0x18e084=a0_0x50c4;try{const _0x154ad6=_0x46934d(this[_0x18e084(0x43c)],this[_0x18e084(0x7d3)]);this[_0x18e084(0xa0e)]=this[_0x18e084(0x693)][_0x18e084(0x7f9)](_0x154ad6),this[_0x18e084(0xa0e)][_0x18e084(0x81b)](({event:_0x116594})=>{const _0x56454c=_0x18e084;_0x116594===_0x25b155[_0x56454c(0x746)][_0x56454c(0x2ee)]&&(this[_0x56454c(0xa0e)][_0x56454c(0x7d0)](),_0x6180dd());});}catch(_0x13ca8b){console['error'](_0x18e084(0x8e1)+_0x46934d(this['vendorId'],this[_0x18e084(0x7d3)])+_0x18e084(0x1cd),_0x13ca8b),_0x6180dd();}});}}class _0x2822aa extends _0x38f018{[_0x3d1090(0x5d3)];[_0x3d1090(0xa3c)];[_0x3d1090(0x43c)];['db'];['debounceStats'];[_0x3d1090(0x18d)]=0x0;['reads']=0x0;[_0x3d1090(0x3a6)]=!0x1;constructor(_0x4c1134,_0x3180c9,_0x2c3f6c,_0xd9d8c0,_0x22f037){const _0xdad01a=_0x3d1090;if(_0xdad01a(0x205)!=typeof _0x3180c9)throw new _0x4ded08(_0x2c3351['GraphDatabaseNameNotString'],_0xdad01a(0x756));super(_0x4c1134,_0x3180c9),this[_0xdad01a(0x5d3)]=_0x4c1134,this[_0xdad01a(0xa3c)]=_0x2c3f6c,this[_0xdad01a(0x43c)]=_0xd9d8c0;const _0x1c1246=_0xdad01a(0x6df)+this[_0xdad01a(0x43c)]+_0xdad01a(0x6df)+this['clusterId']+'ccc'+this[_0xdad01a(0x7d3)];this['db']=new _0x22f037(_0x1c1246),this[_0xdad01a(0xaa9)]();}[_0x3d1090(0x954)](){const _0x3b6a3d=_0x3d1090;return this[_0x3b6a3d(0x3a6)];}[_0x3d1090(0x5b5)](_0x2cf26f){const _0x192421=_0x3d1090;this[_0x192421(0x3a6)]=_0x2cf26f;}[_0x3d1090(0x1f8)](){const _0x370a9b=_0x3d1090;clearTimeout(this[_0x370a9b(0xa20)]),delete this[_0x370a9b(0xa20)],super[_0x370a9b(0x1f8)]();}['close'](){const _0x23473f=_0x3d1090;this[_0x23473f(0x613)]['publish']({'sourceId':_0x22135a,'messageType':_0x17c3e2[_0x23473f(0x235)],'content':{'type':_0x4a88e8['CloseGraphDatabase'],'label':this[_0x23473f(0x7d3)]}});}[_0x3d1090(0x3b7)](){const _0x2619fa=_0x3d1090;return _0x25b155['ContentType'][_0x2619fa(0x77b)];}['reset'](){const _0x136237=_0x3d1090;this[_0x136237(0xaa9)]();}[_0x3d1090(0xa40)](_0x3898b6,_0x4a41a3,_0x536c01,_0x3ff425){const _0x33f007=_0x3d1090;this['db'][_0x33f007(0xa40)](_0x3898b6,_0x4a41a3,_0x536c01,_0x3ff425),this[_0x33f007(0x18d)]+=0x1,this[_0x33f007(0xaa9)]();}[_0x3d1090(0x2a1)](_0x432a4e,_0x45de94){const _0x481466=_0x3d1090;this['db']['addEdge'](_0x432a4e,_0x45de94),this[_0x481466(0x18d)]+=0x1,this['sendStats']();}['getContent'](_0x5dce13,_0x127f63,_0x1f4d19){const _0x160523=_0x3d1090,_0x50f82f=this['db'][_0x160523(0x771)](_0x5dce13,_0x127f63,_0x1f4d19);return this[_0x160523(0xa6b)]+=0x1,_0x3dc4e5[_0x160523(0x340)](_0x264391[_0x160523(0x77b)],{'type':_0x160523(0x68f),'label':this[_0x160523(0x7d3)],'nodeId':this[_0x160523(0x5d3)]['getId'](),'nodeType':this[_0x160523(0x5d3)][_0x160523(0x88c)],'clusterId':this[_0x160523(0xa3c)],'size':0x0}),this[_0x160523(0xaa9)](),_0x50f82f;}['remove'](_0x3fb823){const _0x255461=_0x3d1090;this['db'][_0x255461(0x833)](_0x3fb823),this[_0x255461(0x18d)]+=0x1,this[_0x255461(0xaa9)]();}[_0x3d1090(0x532)](_0x1ffc27){const _0x44b970=_0x3d1090;this['db'][_0x44b970(0x532)](_0x1ffc27);}[_0x3d1090(0x61c)](_0x595c72){const _0x5ca214=_0x3d1090;this['db'][_0x5ca214(0x61c)](_0x595c72);}[_0x3d1090(0xaa9)](){const _0x4f4589=_0x3d1090;this[_0x4f4589(0xa20)]&&clearTimeout(this[_0x4f4589(0xa20)]),this[_0x4f4589(0xa20)]=setTimeout(async()=>{const _0x58a39a=_0x4f4589;delete this[_0x58a39a(0xa20)];const _0xc9d5e3=this['db']['getSize']();this[_0x58a39a(0x613)][_0x58a39a(0x681)]({'sourceId':_0x22135a,'messageType':_0x17c3e2[_0x58a39a(0x235)],'content':{'type':_0x4a88e8[_0x58a39a(0x394)],'label':this[_0x58a39a(0x7d3)],'stats':{'timestamp':Date[_0x58a39a(0x267)](),'storage':_0xc9d5e3,'messagesSent':this[_0x58a39a(0x20a)],'messagesReceived':this[_0x58a39a(0x658)],'bytesSent':this[_0x58a39a(0x6bd)],'bytesReceived':this[_0x58a39a(0x335)],'writes':this[_0x58a39a(0x18d)],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),_0x3dc4e5['logStorage'](_0x264391['GraphDatabase'],'ccc'+this[_0x58a39a(0xa3c)]+_0x58a39a(0x6df)+this[_0x58a39a(0x7d3)],_0xc9d5e3);},_0x28192e);}}class _0x236a63 extends _0x392939{[_0x3d1090(0x7fe)];constructor(_0x5bc5ba,_0x30eea8,_0x37487b){const _0xc1bcff=_0x3d1090;super(_0x5bc5ba,_0x30eea8),this[_0xc1bcff(0x7fe)]=_0x37487b;}[_0x3d1090(0x3b7)](){const _0xa9c3b0=_0x3d1090;return _0x25b155['ContentType'][_0xa9c3b0(0x39e)];}[_0x3d1090(0x6a2)](){return this['mediaStream'];}[_0x3d1090(0xa3e)](){return this['mediaStream']['id'];}}class _0x4fe276 extends _0x236a63{[_0x3d1090(0xaa3)];[_0x3d1090(0x523)];[_0x3d1090(0xa0a)];[_0x3d1090(0x1ee)]=_0x2d1d0b();constructor(_0x12d4da,_0x41a991,_0x34eda,_0x1d5bcf,_0x471f3f){const _0x16d12f=_0x3d1090;super(_0x12d4da,_0x41a991,_0x34eda),this[_0x16d12f(0xaa3)]=_0x1d5bcf,this[_0x16d12f(0x523)]=_0x471f3f;}[_0x3d1090(0x1f8)](){const _0x293362=_0x3d1090;this[_0x293362(0x37f)]('audio'),this['removeTrack']('video'),super[_0x293362(0x1f8)]();}[_0x3d1090(0x5f6)](_0x5d67a4){const _0x139160=_0x3d1090;if(!this[_0x139160(0xa0a)])throw new _0x1b9d16(_0x1b9d16[_0x139160(0x276)][_0x139160(0x9f0)],{'label':this[_0x139160(0x7d3)],'ownerId':this['owner'][_0x139160(0x79a)](),'remoteId':this[_0x139160(0xaa3)]});this[_0x139160(0xa0a)][_0x139160(0x681)]({'sourceId':this[_0x139160(0x620)]['getId'](),'content':{'action':_0x4e5ea4[_0x139160(0x59f)],'track':_0x5d67a4,'stream':this[_0x139160(0x7fe)],'priority':_0x25b155[_0x139160(0x712)][_0x139160(0x96b)],'params':this[_0x139160(0x1bf)](_0x5d67a4[_0x139160(0x6c9)],this[_0x139160(0x523)])}});}['removeTrack'](_0x3d0312){const _0x287eb5=_0x3d1090,_0x3e97eb=this[_0x287eb5(0x486)](_0x3d0312);if(_0x3e97eb){if(!this[_0x287eb5(0xa0a)])return null;this[_0x287eb5(0xa0a)][_0x287eb5(0x681)]({'sourceId':this['owner'][_0x287eb5(0x79a)](),'content':{'action':_0x4e5ea4['Remove'],'track':_0x3e97eb,'stream':this[_0x287eb5(0x7fe)]}});}return _0x3e97eb;}[_0x3d1090(0x3a4)](_0x186b22){const _0x41c07a=_0x3d1090;if(!this[_0x41c07a(0xa0a)])throw new _0x1b9d16(_0x1b9d16[_0x41c07a(0x276)][_0x41c07a(0x9f0)],{'label':this[_0x41c07a(0x7d3)],'ownerId':this[_0x41c07a(0x620)]['getId'](),'remoteId':this[_0x41c07a(0xaa3)]});this[_0x41c07a(0xa0a)]['publish']({'sourceId':this[_0x41c07a(0x620)][_0x41c07a(0x79a)](),'content':{'action':_0x4e5ea4['Update'],'priority':_0x186b22,'stream':this[_0x41c07a(0x7fe)]}});}['subscribe']({trackKinds:_0x2a2234,params:_0x4c6d29},_0x8dde66){const _0x183857=_0x3d1090;if(!this['topic'])throw new _0x1b9d16(_0x1b9d16[_0x183857(0x276)][_0x183857(0x9f0)],{'label':this[_0x183857(0x7d3)],'ownerId':this[_0x183857(0x620)]['getId'](),'remoteId':this['remoteId']});for(const _0x1a7ae3 of this[_0x183857(0x7fe)]['getTracks']())_0x2a2234[_0x183857(0x1e2)](_0x1a7ae3[_0x183857(0x6c9)])&&this['topic'][_0x183857(0x681)]({'sourceId':this[_0x183857(0x620)][_0x183857(0x79a)](),'content':{'action':_0x4e5ea4[_0x183857(0x59f)],'track':_0x1a7ae3,'stream':this[_0x183857(0x7fe)],'priority':_0x8dde66,'params':this[_0x183857(0x1bf)](_0x1a7ae3[_0x183857(0x6c9)],_0x4c6d29)}});}[_0x3d1090(0x2f8)]({params:_0x212e09}){const _0x5b6123=_0x3d1090;if(!this['topic'])throw new _0x1b9d16(_0x1b9d16[_0x5b6123(0x276)][_0x5b6123(0x9f0)],{'label':this[_0x5b6123(0x7d3)],'ownerId':this['owner'][_0x5b6123(0x79a)](),'remoteId':this[_0x5b6123(0xaa3)]});for(const _0x13b032 of this[_0x5b6123(0x7fe)][_0x5b6123(0x608)]())this['topic'][_0x5b6123(0x681)]({'sourceId':this['owner'][_0x5b6123(0x79a)](),'content':{'action':_0x4e5ea4[_0x5b6123(0x4f8)],'stream':this[_0x5b6123(0x7fe)],'params':this[_0x5b6123(0x1bf)](_0x13b032[_0x5b6123(0x6c9)],_0x212e09)}});}[_0x3d1090(0x7d0)]({trackKinds:_0x17ba57}){const _0x4e7caa=_0x3d1090;if(this[_0x4e7caa(0xa0a)]){for(const _0x292222 of this['mediaStream']['getTracks']())_0x17ba57[_0x4e7caa(0x1e2)](_0x292222[_0x4e7caa(0x6c9)])&&this[_0x4e7caa(0xa0a)][_0x4e7caa(0x681)]({'sourceId':this[_0x4e7caa(0x620)][_0x4e7caa(0x79a)](),'content':{'action':_0x4e5ea4[_0x4e7caa(0x204)],'stream':this['mediaStream'],'track':_0x292222}});}}['registerPublisher'](_0x1de5fb){const _0x155a2d=_0x3d1090;this[_0x155a2d(0xa0a)]=_0x1de5fb;}[_0x3d1090(0x2be)](_0x483ae8){const _0x20dd5b=_0x3d1090;_0x483ae8===this[_0x20dd5b(0xa0a)]&&(delete this[_0x20dd5b(0xa0a)],this[_0x20dd5b(0x1ee)]['publish']());}[_0x3d1090(0x96d)](_0x5c4953){const _0x18f6ba=_0x3d1090;return this[_0x18f6ba(0x1ee)][_0x18f6ba(0x81b)](_0x5c4953);}[_0x3d1090(0x486)](_0x4b1c6b){const _0x53bc81=_0x3d1090;return this['mediaStream']['getTracks']()[_0x53bc81(0x447)](_0x1cdcad=>_0x1cdcad['kind']===_0x4b1c6b)||null;}[_0x3d1090(0x1bf)](_0x362c41,_0x5819f1){const _0x2baf84=_0x3d1090;let _0x315ae6;return _0x2baf84(0x4c4)===_0x362c41&&_0x5819f1?.['video']&&_0x2baf84(0x5a7)!=typeof _0x5819f1[_0x2baf84(0x4c4)]&&(_0x315ae6={'kind':_0x2baf84(0x4c4),..._0x5819f1['video']},_0x315ae6[_0x2baf84(0x48b)]=this[_0x2baf84(0x7af)]()),_0x2baf84(0x83c)===_0x362c41&&_0x5819f1?.[_0x2baf84(0x83c)]&&_0x2baf84(0x5a7)!=typeof _0x5819f1['audio']&&(_0x315ae6={'kind':_0x2baf84(0x83c),..._0x5819f1['audio']}),_0x315ae6;}['getResolution'](){const _0xa7207=_0x3d1090;let _0x24e569={'width':0x0,'height':0x0};const _0x2e343f=this['mediaStream'][_0xa7207(0xa56)]();if(_0x2e343f[_0xa7207(0x73c)]>0x0){const _0x5c0a49=_0x2e343f[0x0][_0xa7207(0x5c1)]();_0x5c0a49[_0xa7207(0x210)]&&_0x5c0a49[_0xa7207(0x4f7)]&&(_0x24e569={'width':_0x5c0a49[_0xa7207(0x210)],'height':_0x5c0a49['height']});}return _0x24e569;}}class _0x32f861 extends _0x236a63{[_0x3d1090(0xa3c)];[_0x3d1090(0x6c3)]=_0x25b155[_0x3d1090(0x712)][_0x3d1090(0x96b)];['trackEndedListeners']=new Map();[_0x3d1090(0x69b)]=new Map();constructor(_0x405bad,_0x1844c9,_0x1b6730,_0x59b1eb){const _0x324dd1=_0x3d1090;super(_0x405bad,_0x1844c9,_0x1b6730 instanceof MediaStream?_0x1b6730:_0x1b6730[_0x324dd1(0x8d7)]?_0x1b6730['srcObject']:_0x1b6730[_0x324dd1(0x616)]()),this[_0x324dd1(0xa3c)]=_0x59b1eb,this[_0x324dd1(0x7fe)][_0x324dd1(0x608)]()[_0x324dd1(0x7ff)](_0x9dcd77=>this['setupTrackEndedListeners'](_0x9dcd77)),_0x3dc4e5[_0x324dd1(0x340)](_0x264391['MediaStream'],{'type':_0x324dd1(0x681),'label':this[_0x324dd1(0x7d3)],'nodeId':this['owner'][_0x324dd1(0x79a)](),'nodeType':this[_0x324dd1(0x620)]['type'],'clusterId':this['clusterId'],'streamId':this[_0x324dd1(0xa3e)](),'trackKinds':this[_0x324dd1(0x7fe)]['getTracks']()[_0x324dd1(0x855)](_0x460eb5=>_0x460eb5[_0x324dd1(0x6c9)])});}[_0x3d1090(0x1f8)](){const _0x571c23=_0x3d1090;this['outgoingStreams']['size']>0x0&&(this[_0x571c23(0x69b)][_0x571c23(0x7ff)](_0x5093d3=>{const _0x295c36=_0x571c23;_0x5093d3[_0x295c36(0x7b7)](),_0x5093d3['destroy']();}),this[_0x571c23(0x69b)][_0x571c23(0x97a)]()),this[_0x571c23(0x9ec)][_0x571c23(0x7ff)](_0x1d473b=>_0x1d473b()),super[_0x571c23(0x1f8)]();}[_0x3d1090(0x681)](_0x38f913){const _0x6fe692=_0x3d1090;this[_0x6fe692(0x613)]['publish']({'sourceId':this[_0x6fe692(0x620)][_0x6fe692(0x79a)](),'destinationIds':_0x38f913?[_0x38f913]:void 0x0,'propagate':!0x0,'messageType':_0x17c3e2[_0x6fe692(0x235)],'content':{'type':_0x4a88e8['PublishMediaStream'],'ownerId':this[_0x6fe692(0x620)][_0x6fe692(0x79a)](),'label':this['label'],'stream':{'streamId':this[_0x6fe692(0xa3e)](),'availableTrackKinds':this['mediaStream'][_0x6fe692(0x608)]()[_0x6fe692(0x855)](_0x2c6c25=>_0x2c6c25['kind'])}}});}[_0x3d1090(0x50a)](){const _0x395ec0=_0x3d1090;this[_0x395ec0(0x613)][_0x395ec0(0x681)]({'sourceId':this[_0x395ec0(0x620)][_0x395ec0(0x79a)](),'propagate':!0x0,'messageType':_0x17c3e2[_0x395ec0(0x235)],'content':{'type':_0x4a88e8[_0x395ec0(0x630)],'ownerId':this['owner'][_0x395ec0(0x79a)](),'label':this['label']}}),this[_0x395ec0(0x613)][_0x395ec0(0x681)]({'sourceId':_0x22135a,'messageType':_0x17c3e2[_0x395ec0(0x235)],'content':{'type':_0x4a88e8['CloseMediaStream'],'label':this[_0x395ec0(0x7d3)]}}),_0x3dc4e5[_0x395ec0(0x340)](_0x264391[_0x395ec0(0x8ca)],{'type':_0x395ec0(0x50a),'label':this[_0x395ec0(0x7d3)],'nodeId':this[_0x395ec0(0x620)][_0x395ec0(0x79a)](),'nodeType':this[_0x395ec0(0x620)]['type'],'clusterId':this[_0x395ec0(0xa3c)],'streamId':this[_0x395ec0(0xa3e)]()});}[_0x3d1090(0x4d2)](){return this['priority'];}[_0x3d1090(0x3a4)](_0x1dd7da){const _0x4cb33c=_0x3d1090;this[_0x4cb33c(0x6c3)]=_0x1dd7da,this['outgoingStreams'][_0x4cb33c(0x7ff)](_0x20c0f8=>_0x20c0f8[_0x4cb33c(0x3a4)](_0x1dd7da));}['getShareableStream'](_0x5258da,_0xf4f16e){const _0x46bed3=_0x3d1090;if(!this[_0x46bed3(0x69b)][_0x46bed3(0x1ac)](_0x5258da)){const _0x52b067=new _0x4fe276(this[_0x46bed3(0x620)],this[_0x46bed3(0x7d3)],this[_0x46bed3(0x7fe)],_0x5258da,_0xf4f16e),_0xab1748=_0x52b067[_0x46bed3(0x96d)](()=>{const _0x3b9540=_0x46bed3;_0xab1748(),this[_0x3b9540(0x69b)][_0x3b9540(0x252)](_0x5258da)?.['destroy'](),this['outgoingStreams'][_0x3b9540(0x54a)](_0x5258da);});this[_0x46bed3(0x69b)][_0x46bed3(0x6f0)](_0x5258da,_0x52b067),_0x52b067[_0x46bed3(0x60f)](this[_0x46bed3(0x613)]);}return this[_0x46bed3(0x69b)][_0x46bed3(0x252)](_0x5258da);}[_0x3d1090(0x494)](){const _0x31475e=_0x3d1090;return this[_0x31475e(0x7fe)]['id'];}['handleLocalTrackFailure'](_0x5c885d){const _0x55a9a9=_0x3d1090;this[_0x55a9a9(0x613)][_0x55a9a9(0x681)]({'sourceId':_0x22135a,'messageType':_0x17c3e2[_0x55a9a9(0x235)],'content':{'type':_0x4a88e8[_0x55a9a9(0x2eb)],'label':this[_0x55a9a9(0x7d3)],'trackKinds':[_0x5c885d[_0x55a9a9(0x6c9)]]}});}[_0x3d1090(0x615)](_0x2bfd95){const _0x5c2b2c=_0x3d1090,_0x18d3f9=()=>this[_0x5c2b2c(0x73a)](_0x2bfd95);_0x2bfd95['addEventListener'](_0x5c2b2c(0x8f7),_0x18d3f9),_0x2bfd95['addEventListener'](_0x5c2b2c(0x1d9),_0x18d3f9),this[_0x5c2b2c(0x9ec)]['set'](_0x2bfd95[_0x5c2b2c(0x6c9)],()=>{const _0x37fa1c=_0x5c2b2c;_0x2bfd95[_0x37fa1c(0x8ec)](_0x37fa1c(0x8f7),_0x18d3f9),_0x2bfd95[_0x37fa1c(0x8ec)]('mute',_0x18d3f9),this[_0x37fa1c(0x9ec)]['delete'](_0x2bfd95[_0x37fa1c(0x6c9)]);});}}class _0x4090c9 extends _0x32f861{['audioContext'];['transformations']=[];[_0x3d1090(0x259)];[_0x3d1090(0x587)];[_0x3d1090(0x87c)];[_0x3d1090(0x529)];['canvas'];[_0x3d1090(0x7e2)];[_0x3d1090(0x5c4)];constructor(_0xe5f59a,_0x748578,_0x37ef9f,_0x372bac,_0x311bc7,_0x5bc276){const _0x32cec5=_0x3d1090;if(super(_0xe5f59a,_0x748578,_0x37ef9f,_0x5bc276),this[_0x32cec5(0x53c)]=_0x311bc7,this[_0x32cec5(0x259)]=this[_0x32cec5(0x7fe)],this['sourceVideo']=document[_0x32cec5(0x68b)](_0x32cec5(0x4c4)),this[_0x32cec5(0x529)]['autoplay']=!0x0,this[_0x32cec5(0x529)][_0x32cec5(0x5a5)]=!0x0,this[_0x32cec5(0x529)][_0x32cec5(0x8d7)]=this['clientStream'],this['sourceVideo'][_0x32cec5(0x20f)](),this[_0x32cec5(0x529)]['onloadeddata']=()=>{const _0x1bcf95=_0x32cec5;this[_0x1bcf95(0x529)][_0x1bcf95(0xa28)]();},this['canvas']=document[_0x32cec5(0x68b)]('canvas'),this[_0x32cec5(0x7e2)]=this[_0x32cec5(0x94c)][_0x32cec5(0x7f5)]('2d'),this[_0x32cec5(0x7fe)]=this[_0x32cec5(0x94c)]['captureStream'](_0x372bac),this['audioDestination']=this['audioContext'][_0x32cec5(0x9f5)](),this[_0x32cec5(0x259)][_0x32cec5(0x62b)]()[_0x32cec5(0x73c)]>0x0){const _0x20aca0=this[_0x32cec5(0x259)][_0x32cec5(0x62b)]()[0x0];this[_0x32cec5(0x587)]=this[_0x32cec5(0x53c)][_0x32cec5(0x8ac)](new MediaStream([_0x20aca0])),this[_0x32cec5(0x587)]['connect'](this[_0x32cec5(0x87c)]);}const _0x329b4d=this[_0x32cec5(0x87c)][_0x32cec5(0x85c)][_0x32cec5(0x608)]()[0x0];this[_0x32cec5(0x7fe)][_0x32cec5(0x5f6)](_0x329b4d),this[_0x32cec5(0x5c4)]=setInterval(()=>{const _0x4c92f8=_0x32cec5;this['canvas']['width']=this['sourceVideo'][_0x4c92f8(0x29f)],this[_0x4c92f8(0x94c)]['height']=this['sourceVideo'][_0x4c92f8(0x311)],this[_0x4c92f8(0x529)]['videoWidth']?(0x0!==this[_0x4c92f8(0x259)][_0x4c92f8(0xa56)]()[_0x4c92f8(0x73c)]&&this[_0x4c92f8(0x259)][_0x4c92f8(0xa56)]()[0x0][_0x4c92f8(0x944)]?this['mediaStream'][_0x4c92f8(0xa56)]()[0x0][_0x4c92f8(0x944)]=!0x0:this[_0x4c92f8(0x7fe)][_0x4c92f8(0xa56)]()[0x0]['enabled']=!0x1,0x0!==this[_0x4c92f8(0x259)]['getAudioTracks']()[_0x4c92f8(0x73c)]&&this['clientStream'][_0x4c92f8(0x62b)]()[0x0][_0x4c92f8(0x944)]?this['mediaStream']['getAudioTracks']()[0x0][_0x4c92f8(0x944)]=!0x0:this['mediaStream'][_0x4c92f8(0x62b)]()[0x0][_0x4c92f8(0x944)]=!0x1,this[_0x4c92f8(0x7e2)][_0x4c92f8(0x686)](this[_0x4c92f8(0x529)],0x0,0x0)):this[_0x4c92f8(0x7e2)][_0x4c92f8(0x242)](0x0,0x0,this[_0x4c92f8(0x94c)][_0x4c92f8(0x210)],this['canvas'][_0x4c92f8(0x4f7)]);},0x3e8/_0x372bac);}[_0x3d1090(0x1f8)](){const _0x56be=_0x3d1090;clearInterval(this[_0x56be(0x5c4)]),this[_0x56be(0x529)][_0x56be(0x833)](),this[_0x56be(0x94c)][_0x56be(0x833)](),this[_0x56be(0x587)]?.[_0x56be(0x70e)](),this[_0x56be(0x87c)][_0x56be(0x70e)](),this[_0x56be(0x7fe)][_0x56be(0x608)]()['forEach'](_0x67fafe=>{const _0x53f096=_0x56be;_0x67fafe[_0x53f096(0x5ce)](),this[_0x53f096(0x7fe)][_0x53f096(0x37f)](_0x67fafe);}),super[_0x56be(0x1f8)]();}[_0x3d1090(0x5f6)](_0x8305b){const _0x2ffd7f=_0x3d1090,_0x98d145=this[_0x2ffd7f(0x486)](_0x8305b[_0x2ffd7f(0x6c9)]);_0x98d145&&this[_0x2ffd7f(0x37f)](_0x98d145),_0x2ffd7f(0x83c)!==_0x8305b[_0x2ffd7f(0x6c9)]?(_0x2ffd7f(0x4c4)===_0x8305b[_0x2ffd7f(0x6c9)]&&this[_0x2ffd7f(0x3f4)](_0x8305b),this[_0x2ffd7f(0x615)](_0x8305b)):this[_0x2ffd7f(0x76c)](_0x8305b);}[_0x3d1090(0x37f)](_0x4b751f){const _0x24295a=_0x3d1090,_0x2f166f=this['getTrackFromParam'](_0x4b751f);return _0x2f166f&&(_0x24295a(0x83c)===_0x2f166f[_0x24295a(0x6c9)]&&(this['audioSource']?.[_0x24295a(0x70e)](),this[_0x24295a(0x587)]=void 0x0),this[_0x24295a(0x9ec)][_0x24295a(0x252)](_0x2f166f['kind'])?.(),this[_0x24295a(0x259)][_0x24295a(0x37f)](_0x2f166f)),_0x2f166f;}[_0x3d1090(0x31d)](_0x3c137f){const _0x2454be=_0x3d1090;this[_0x2454be(0x37f)](_0x3c137f[_0x2454be(0x6c9)]),this[_0x2454be(0x5f6)](_0x3c137f);}[_0x3d1090(0x73f)](_0x191f5b){const _0xd69645=_0x3d1090;this[_0xd69645(0x508)]=_0x191f5b;}[_0x3d1090(0x486)](_0x2e20f9){const _0x134d26=_0x3d1090;return this[_0x134d26(0x259)][_0x134d26(0x608)]()[_0x134d26(0x447)](_0x5542ed=>_0x5542ed[_0x134d26(0x6c9)]===_0x2e20f9)||null;}[_0x3d1090(0x6ff)](_0x377123){const _0x379291=_0x3d1090;return _0x379291(0x205)==typeof _0x377123?this[_0x379291(0x486)](_0x377123):_0x377123;}[_0x3d1090(0x76c)](_0x5c661e){const _0x4f9429=_0x3d1090;'suspended'===this[_0x4f9429(0x53c)][_0x4f9429(0xa09)]&&this[_0x4f9429(0x53c)][_0x4f9429(0x511)](),this[_0x4f9429(0x259)][_0x4f9429(0x5f6)](_0x5c661e),this['audioSource']=this['audioContext'][_0x4f9429(0x8ac)](this['clientStream']),this['audioSource']['connect'](this['audioDestination']);}[_0x3d1090(0x3f4)](_0x4b1773){const _0x27e5d8=_0x3d1090;this[_0x27e5d8(0x259)][_0x27e5d8(0x5f6)](_0x4b1773),this[_0x27e5d8(0x529)][_0x27e5d8(0x20f)]();}}class _0x260ea8 extends _0x32f861{}class _0x4d2d77 extends _0x38f018{[_0x3d1090(0x5d3)];[_0x3d1090(0xa3c)];['vendorId'];[_0x3d1090(0xa27)];['waitForArrayBufferSize'];[_0x3d1090(0x6d5)];[_0x3d1090(0x8cb)];[_0x3d1090(0x1b7)];['pendingSyncTransactions']=new Map();['objectRequests']=new Map();[_0x3d1090(0x262)]=new Map();[_0x3d1090(0x632)]=new Map();[_0x3d1090(0x7c9)]=new Map();[_0x3d1090(0x4bd)]=new Map();['objectStoreConnector'];[_0x3d1090(0x787)]=_0x353664();[_0x3d1090(0x757)]=new Map();[_0x3d1090(0xa20)];[_0x3d1090(0x18d)]=0x0;['reads']=0x0;[_0x3d1090(0x843)]=!0x0;['isSyncing']=!0x0;[_0x3d1090(0x72f)]=0x0;[_0x3d1090(0x897)]=0x0;constructor(_0x5d6405,_0x4b3df8,_0x11044b,_0x5ad4df,_0x45d255,_0x1be816,_0x526a6a,_0x2aaa8a){const _0xe6702e=_0x3d1090;if(_0xe6702e(0x205)!=typeof _0x4b3df8)throw new _0x4ded08(_0x2c3351['ObjectStoreNameNotString'],'Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string');super(_0x5d6405,_0x4b3df8),this[_0xe6702e(0x5d3)]=_0x5d6405,this['clusterId']=_0x11044b,this[_0xe6702e(0x43c)]=_0x5ad4df,this['transactionService']=_0x45d255,this['waitForArrayBufferSize']=_0x526a6a,this[_0xe6702e(0x6d5)]=_0x2aaa8a;const _0x16cfd5='ccc'+this[_0xe6702e(0x43c)]+'ccc'+this['clusterId']+'ccc'+_0x4b3df8;this[_0xe6702e(0x29e)]=new _0x1be816(_0x16cfd5),this['syncContent']=this[_0xe6702e(0x6d5)]?.['syncContent']??!0x0,this[_0xe6702e(0x6d5)]?.[_0xe6702e(0x4a3)]&&(this[_0xe6702e(0x843)]=!0x1),this[_0xe6702e(0xaa9)]();}[_0x3d1090(0x548)](){const _0xa9079b=_0x3d1090;this[_0xa9079b(0xaa9)]();}[_0x3d1090(0x3b7)](){const _0x552d77=_0x3d1090;return _0x25b155[_0x552d77(0x2ce)][_0x552d77(0x287)];}async[_0x3d1090(0x439)](){const _0x2ee791=_0x3d1090;this[_0x2ee791(0x8ce)]=!0x0;try{const _0x22195f=await this[_0x2ee791(0x29e)]['get'](_0x1c71aa),_0x2bf731=await _0x22195f[_0x2ee791(0xa55)]();this[_0x2ee791(0x1b7)]=_0x2bf731;}catch(_0x227f7f){}this[_0x2ee791(0x8cb)]=this[_0x2ee791(0xa76)](async(_0x26dfd9,_0x410586)=>{const _0x249061=_0x2ee791;if(!(_0x410586 instanceof File))try{if(_0x410586[_0x249061(0x9f1)]===_0x396e5b['Request'])return void this[_0x249061(0x688)](_0x410586);this[_0x249061(0x9e3)](_0x410586);}catch(_0x49e950){if(_0x49e950 instanceof _0x1b9d16)throw _0x49e950;throw new _0x1b9d16(_0x1b9d16[_0x249061(0x276)][_0x249061(0x50f)],{'payload':_0x410586});}}),await this[_0x2ee791(0xa4d)](),this[_0x2ee791(0x843)]?await this[_0x2ee791(0x894)]():this[_0x2ee791(0x72a)](),this[_0x2ee791(0xaa9)]();}[_0x3d1090(0x1f8)](){const _0x47c388=_0x3d1090;this[_0x47c388(0x8cb)]?.(),this[_0x47c388(0x757)][_0x47c388(0x7ff)](_0xfca2c0=>_0xfca2c0()),this[_0x47c388(0x757)][_0x47c388(0x97a)](),clearTimeout(this[_0x47c388(0xa20)]),delete this[_0x47c388(0xa20)],super['destroy']();}[_0x3d1090(0x8d5)](){const _0x3a8b89=_0x3d1090;this[_0x3a8b89(0x613)]?.[_0x3a8b89(0x681)]({'sourceId':_0x22135a,'messageType':_0x17c3e2[_0x3a8b89(0x235)],'content':{'type':_0x4a88e8['CloseObjectStoreBucket'],'label':this[_0x3a8b89(0x7d3)]}});}[_0x3d1090(0x81b)](_0x4b6354,_0x49fffe){const _0x35fbe6=_0x3d1090;if(this[_0x35fbe6(0x757)][_0x35fbe6(0x1ac)](_0x4b6354))throw new _0x4ded08(_0x2c3351['ObjectStoreAlreadySubscribed'],_0x35fbe6(0x565));this[_0x35fbe6(0x757)]['set'](_0x4b6354,this[_0x35fbe6(0x787)][_0x35fbe6(0x81b)](_0x49fffe)),this[_0x35fbe6(0x8ce)]||this[_0x35fbe6(0x787)]['publish']({'event':_0x25b155[_0x35fbe6(0x1e7)][_0x35fbe6(0x2ee)],'payload':{'filesSynced':this[_0x35fbe6(0x72f)]}});}[_0x3d1090(0x7d0)](_0x2e4412){const _0xbc7541=_0x3d1090;this[_0xbc7541(0x757)][_0xbc7541(0x252)](_0x2e4412)?.(),this['listenerUnsubscribers'][_0xbc7541(0x54a)](_0x2e4412);}[_0x3d1090(0x681)](_0x4914d4){const _0x5c99f5=_0x3d1090;switch(_0x4914d4[_0x5c99f5(0x2ec)]){case _0x25b155['PayloadAction'][_0x5c99f5(0x7f0)]:return this[_0x5c99f5(0x99f)](_0x4914d4[_0x5c99f5(0x2c4)],_0x4914d4[_0x5c99f5(0x6fd)],_0x4914d4[_0x5c99f5(0x6d5)]);case _0x25b155[_0x5c99f5(0x64a)][_0x5c99f5(0x1a0)]:return this[_0x5c99f5(0x2a9)](_0x4914d4[_0x5c99f5(0x6fd)]);case _0x25b155[_0x5c99f5(0x64a)][_0x5c99f5(0x641)]:return this['publishMove'](_0x4914d4['path'],_0x4914d4[_0x5c99f5(0x18c)]);default:throw new _0x4ded08(_0x2c3351[_0x5c99f5(0x4d1)],_0x5c99f5(0x7d6)+_0x4914d4);}}async['unpublish'](_0x5225d8){const _0x53a217=_0x3d1090;try{const _0x2b4e77=(0x0,_0x14a38c['v4'])(),_0x2f7219=this['lastTransactionId'],_0x71ea2f={'payloadType':_0x396e5b[_0x53a217(0x6fe)],'action':_0xb6aaf5[_0x53a217(0x424)],'id':_0x2b4e77,'parentId':_0x2f7219,'path':_0x5225d8};await this[_0x53a217(0x5c9)](_0x71ea2f);const _0x5a9421=await this[_0x53a217(0x20e)](_0x5225d8);!0x0!==this['options']?.[_0x53a217(0x4a3)]&&await this[_0x53a217(0x908)](_0x71ea2f),_0x3dc4e5[_0x53a217(0x340)](_0x264391[_0x53a217(0x250)],{'type':_0x53a217(0x50a),'label':this[_0x53a217(0x7d3)],'nodeId':this[_0x53a217(0x5d3)]['getId'](),'nodeType':this[_0x53a217(0x5d3)]['type'],'clusterId':this[_0x53a217(0xa3c)],'kind':_0x5a9421,'path':_0x5225d8}),this[_0x53a217(0x18d)]+=0x1,this[_0x53a217(0xaa9)]();}catch(_0x572813){if(_0x572813 instanceof _0x1b9d16)throw new _0x4ded08(_0x2c3351[_0x53a217(0x8da)],_0x53a217(0x91c)+_0x5225d8+':\x20Object\x20store\x20is\x20not\x20in\x20sync');throw new _0x4ded08(_0x2c3351['ObjectStoreInvalidPath'],_0x53a217(0xa8c)+_0x5225d8);}}async[_0x3d1090(0x252)](_0x86b563,_0x242ccb){const _0x18df4b=_0x3d1090;_0x3dc4e5[_0x18df4b(0x340)](_0x264391['ObjectStorage'],{'type':'get','label':this[_0x18df4b(0x7d3)],'nodeId':this['localNode'][_0x18df4b(0x79a)](),'nodeType':this['localNode'][_0x18df4b(0x88c)],'clusterId':this[_0x18df4b(0xa3c)],'path':_0x86b563}),this[_0x18df4b(0xa6b)]+=0x1,this[_0x18df4b(0xaa9)]();try{return await this['objectStoreConnector'][_0x18df4b(0x252)](_0x86b563,_0x242ccb);}catch(_0x140ad8){try{await this['objectStoreConnector'][_0x18df4b(0x252)](_0x86b563+_0x42b217);}catch(_0x2685db){throw new _0x4ded08(_0x2c3351[_0x18df4b(0x378)],_0x18df4b(0xa03)+_0x86b563);}throw new _0x4ded08(_0x2c3351[_0x18df4b(0x8da)],_0x18df4b(0xa9b));}}async[_0x3d1090(0x97e)](_0x16a639,_0x358a4f){const _0x3b5d24=_0x3d1090,{recursive:_0x46f219=!0x1,includeSyncingFiles:_0x34d67d=!0x1}=_0x358a4f??{};_0x3dc4e5[_0x3b5d24(0x340)](_0x264391[_0x3b5d24(0x250)],{'type':_0x3b5d24(0x97e),'label':this[_0x3b5d24(0x7d3)],'nodeId':this[_0x3b5d24(0x5d3)]['getId'](),'nodeType':this[_0x3b5d24(0x5d3)][_0x3b5d24(0x88c)],'clusterId':this[_0x3b5d24(0xa3c)],'path':_0x16a639}),this[_0x3b5d24(0xa6b)]+=0x1,this[_0x3b5d24(0xaa9)]();try{const _0x32811e=await this['objectStoreConnector'][_0x3b5d24(0x97e)](_0x16a639,_0x46f219);return this[_0x3b5d24(0x2d1)](_0x32811e,{'recursive':_0x46f219,'includeSyncingFiles':_0x34d67d});}catch(_0x4c7509){throw new _0x4ded08(_0x2c3351[_0x3b5d24(0x378)],_0x3b5d24(0x7e7)+_0x16a639);}}[_0x3d1090(0x7bc)](_0x4cf1f3){const _0x271227=_0x3d1090;this[_0x271227(0x897)]+=0x1;for(const _0x2ec3fd of this[_0x271227(0x574)][_0x271227(0x6a5)]())this[_0x271227(0x908)](_0x2ec3fd,[_0x4cf1f3]);}['handleNodeLeave'](_0xd710cd){const _0x5b8661=_0x3d1090;this['nodesConnected']-=0x1;const _0x3d5f7e=this['pendingFilesSyncing'][_0x5b8661(0x252)](_0xd710cd);if(_0x3d5f7e){for(const [_0x509729,_0x4d6a29]of _0x3d5f7e['values']())this[_0x5b8661(0x3f6)](_0x509729,_0x4d6a29);this['pendingFilesSyncing'][_0x5b8661(0x54a)](_0xd710cd);}}async['getSize'](_0x4c379f='/'){const _0xc692e2=_0x3d1090;try{return await this[_0xc692e2(0x29e)][_0xc692e2(0x24f)](_0x4c379f);}catch(_0x414b9d){if(_0x414b9d instanceof Error&&_0x414b9d['message']['includes']('ENOENT'))return 0x0;throw new _0x4ded08(_0x2c3351[_0xc692e2(0x378)],_0xc692e2(0x750)+_0x4c379f);}}[_0x3d1090(0x72a)](){const _0x3de0f6=_0x3d1090;this[_0x3de0f6(0x8ce)]&&(this['isSyncing']=!0x1,this['eventListener']['publish']({'event':_0x25b155[_0x3de0f6(0x1e7)][_0x3de0f6(0x2ee)],'payload':{'filesSynced':this[_0x3de0f6(0x72f)]}}));}async[_0x3d1090(0x2d1)](_0x4aa11a,{includeSyncingFiles:_0x59bbcc=!0x1}){const _0x191aa9=_0x3d1090,_0x51c61c=[];for(const _0x2bd16c of _0x4aa11a)if(_0x2bd16c[_0x191aa9(0x6c9)]!==_0x25b155['ObjectKind']['Folder']){if(_0x2bd16c[_0x191aa9(0x643)]!==_0x1c71aa){if(_0x2bd16c['name']['endsWith'](_0x42b217)){if(!_0x59bbcc)continue;const _0x37bc7e=_0x2bd16c;if(_0x37bc7e[_0x191aa9(0x643)]=_0x37bc7e[_0x191aa9(0x643)][_0x191aa9(0x9de)](_0x42b217,''),_0x37bc7e[_0x191aa9(0x869)]=_0x37bc7e[_0x191aa9(0x869)][_0x191aa9(0x9de)](_0x42b217,''),await this['syncedFileExists'](_0x37bc7e[_0x191aa9(0x869)])){_0x4aa11a[_0x191aa9(0x447)](_0x5e6461=>_0x5e6461[_0x191aa9(0x869)]===_0x37bc7e[_0x191aa9(0x869)])[_0x191aa9(0x479)]=_0x25b155['FileStatus'][_0x191aa9(0x631)];continue;}_0x37bc7e[_0x191aa9(0x479)]=_0x25b155[_0x191aa9(0x5e7)]['Pending'];}_0x51c61c[_0x191aa9(0xa93)](_0x2bd16c);}}else _0x2bd16c[_0x191aa9(0x6c2)]=await this[_0x191aa9(0x2d1)](_0x2bd16c[_0x191aa9(0x6c2)]??[],{'includeSyncingFiles':_0x59bbcc}),_0x51c61c[_0x191aa9(0xa93)](_0x2bd16c);return _0x51c61c;}async[_0x3d1090(0x99f)](_0x3672cf,_0x31a48c,_0x12fc7f){const _0x29b87e=_0x3d1090;try{const _0x4f0836=(0x0,_0x14a38c['v4'])(),_0x1e1853=await _0x163456(_0x3672cf),_0x4c1c85=_0x229f31(_0x31a48c??'/',_0x3672cf[_0x29b87e(0x643)]);let _0x51d6ad=!0x0;const _0x395560={'payloadType':_0x396e5b['Transaction'],'action':_0xb6aaf5[_0x29b87e(0x66c)],'id':_0x4f0836,'parentId':this['lastTransactionId'],'answererId':this['localNode']['getId'](),'name':_0x3672cf[_0x29b87e(0x643)],'type':_0x3672cf[_0x29b87e(0x88c)],'path':_0x31a48c??'/','skipEncryption':_0x12fc7f?.['skipEncryption']??!0x1,'checksum':_0x1e1853};try{if(!_0x12fc7f?.[_0x29b87e(0x3fd)])throw new Error('Publish\x20the\x20transaction');const _0x5949d4=_0x4c1c85+_0x42b217;await this[_0x29b87e(0x29e)]['get'](_0x5949d4),_0x51d6ad=!0x1,await this[_0x29b87e(0x29e)][_0x29b87e(0x20e)](_0x5949d4),this['objectRequests'][_0x29b87e(0x54a)](_0x4c1c85);}catch(_0xec1387){await this[_0x29b87e(0x5c9)](_0x395560);}if(this[_0x29b87e(0x843)]||this[_0x29b87e(0x6d5)]?.[_0x29b87e(0x4a3)]?await this['writeFile'](_0x3672cf,_0x31a48c,_0x12fc7f):await this['createPendingFileWrite'](_0x3672cf[_0x29b87e(0x643)],_0x31a48c??'/',{'checksum':_0x1e1853,'skipEncryption':_0x12fc7f?.[_0x29b87e(0xa78)]??!0x1}),this[_0x29b87e(0x4bd)][_0x29b87e(0x1ac)](_0x4c1c85)){const [_0x4335da,_0x399fbe]=this[_0x29b87e(0x4bd)][_0x29b87e(0x252)](_0x4c1c85);this[_0x29b87e(0x4bd)][_0x29b87e(0x6f0)](_0x4c1c85,[!0x0,_0x399fbe]);try{await _0x399fbe;}catch(_0x48e79b){}this[_0x29b87e(0x4bd)]['delete'](_0x4c1c85);}_0x51d6ad&&this['nodesConnected']>0x0&&!0x0!==this[_0x29b87e(0x6d5)]?.['standalone']&&await this[_0x29b87e(0xa99)](_0x3672cf,_0x395560),_0x3dc4e5[_0x29b87e(0x340)](_0x264391[_0x29b87e(0x250)],{'type':_0x29b87e(0x681),'label':this[_0x29b87e(0x7d3)],'nodeId':this[_0x29b87e(0x5d3)][_0x29b87e(0x79a)](),'nodeType':this[_0x29b87e(0x5d3)][_0x29b87e(0x88c)],'clusterId':this['clusterId'],'kind':_0x25b155[_0x29b87e(0x1c6)]['File'],'path':_0x31a48c,'fileName':_0x3672cf[_0x29b87e(0x643)],'fileType':_0x3672cf[_0x29b87e(0x88c)],'size':_0x3672cf['size']}),this[_0x29b87e(0x18d)]+=0x1,this[_0x29b87e(0xaa9)]();}catch(_0x48a50c){if(_0x48a50c instanceof _0x1b9d16)throw new _0x4ded08(_0x2c3351[_0x29b87e(0x8da)],_0x29b87e(0xa9b));throw new _0x4ded08(_0x2c3351[_0x29b87e(0x378)],_0x29b87e(0x923)+_0x31a48c+(_0x31a48c?.[_0x29b87e(0x257)]('/')?'':'/')+_0x3672cf['name']);}}async[_0x3d1090(0x2a9)](_0x7f8801){const _0x299068=_0x3d1090;try{const _0xfc0f0e=(0x0,_0x14a38c['v4'])(),_0x323754=this[_0x299068(0x1b7)],_0x86b9ac={'payloadType':_0x396e5b[_0x299068(0x6fe)],'action':_0xb6aaf5[_0x299068(0x61a)],'id':_0xfc0f0e,'parentId':_0x323754,'path':_0x7f8801};await this[_0x299068(0x5c9)](_0x86b9ac),await this[_0x299068(0x29e)][_0x299068(0x6a4)](_0x7f8801),!0x0!==this[_0x299068(0x6d5)]?.[_0x299068(0x4a3)]&&await this[_0x299068(0x908)](_0x86b9ac),_0x3dc4e5[_0x299068(0x340)](_0x264391[_0x299068(0x250)],{'type':'publish','label':this[_0x299068(0x7d3)],'nodeId':this[_0x299068(0x5d3)][_0x299068(0x79a)](),'nodeType':this[_0x299068(0x5d3)][_0x299068(0x88c)],'clusterId':this['clusterId'],'kind':_0x25b155[_0x299068(0x1c6)][_0x299068(0x1a0)],'path':_0x7f8801}),this[_0x299068(0x18d)]+=0x1,this[_0x299068(0xaa9)]();}catch(_0x17406d){if(_0x17406d instanceof _0x1b9d16)throw new _0x4ded08(_0x2c3351[_0x299068(0x8da)],'Object\x20store\x20is\x20not\x20in\x20sync');throw new _0x4ded08(_0x2c3351['ObjectStoreInvalidPath'],_0x299068(0x4d4)+_0x7f8801);}}async[_0x3d1090(0x59e)](_0x3f75d0,_0x8dc807){const _0x15181d=_0x3d1090;try{const _0x56acae=(0x0,_0x14a38c['v4'])(),_0x2ab62b=this['lastTransactionId'],_0x24c3b2={'payloadType':_0x396e5b['Transaction'],'action':_0xb6aaf5[_0x15181d(0x641)],'id':_0x56acae,'parentId':_0x2ab62b,'path':_0x3f75d0,'newPath':_0x8dc807};await this['publishTransaction'](_0x24c3b2);const _0xd13068=await this['moveObject'](_0x3f75d0,_0x8dc807);!0x0!==this[_0x15181d(0x6d5)]?.[_0x15181d(0x4a3)]&&await this[_0x15181d(0x908)](_0x24c3b2),_0x3dc4e5[_0x15181d(0x340)](_0x264391[_0x15181d(0x250)],{'type':_0x15181d(0x9a7),'label':this[_0x15181d(0x7d3)],'nodeId':this[_0x15181d(0x5d3)][_0x15181d(0x79a)](),'nodeType':this[_0x15181d(0x5d3)][_0x15181d(0x88c)],'clusterId':this[_0x15181d(0xa3c)],'kind':_0xd13068,'path':_0x3f75d0,'newPath':_0x8dc807}),this[_0x15181d(0x18d)]+=0x1,this['sendStats']();}catch(_0x52bcc4){if(_0x52bcc4 instanceof _0x1b9d16)throw new _0x4ded08(_0x2c3351['ObjectStoreNotInSync'],_0x15181d(0xa9b));throw new _0x4ded08(_0x2c3351[_0x15181d(0x378)],_0x15181d(0x35e)+_0x3f75d0);}}async[_0x3d1090(0x9e3)](_0x13d199,_0x97bcfe=!0x1){const _0x56bf1c=_0x3d1090;if(this[_0x56bf1c(0x1b7)]&&_0x13d199['parentId']!==this[_0x56bf1c(0x1b7)]&&_0x13d199['id']!==this[_0x56bf1c(0x1b7)]){if(!_0x13d199[_0x56bf1c(0x2d2)])throw new _0x1b9d16(_0x1b9d16[_0x56bf1c(0x276)][_0x56bf1c(0x50f)]);this[_0x56bf1c(0x81f)][_0x56bf1c(0x6f0)](_0x13d199[_0x56bf1c(0x2d2)],_0x13d199);}else{try{await this[_0x56bf1c(0x2db)](_0x13d199,_0x97bcfe);}catch(_0x52c1db){}await this[_0x56bf1c(0x36a)](_0x13d199['id']),await this[_0x56bf1c(0x6e8)](_0x13d199['id'],_0x97bcfe);}}async[_0x3d1090(0x2db)](_0x13dde5,_0x429380=!0x1){const _0x1bf1f1=_0x3d1090;switch(_0x13dde5[_0x1bf1f1(0x2ec)]){case _0xb6aaf5[_0x1bf1f1(0x66c)]:await this['handleFileWrite'](_0x13dde5);break;case _0xb6aaf5[_0x1bf1f1(0x61a)]:await this['handleFolderCreate'](_0x13dde5);break;case _0xb6aaf5[_0x1bf1f1(0x641)]:await this[_0x1bf1f1(0x709)](_0x13dde5,_0x429380);break;case _0xb6aaf5['Delete']:await this[_0x1bf1f1(0x1de)](_0x13dde5,_0x429380);break;default:throw new _0x1b9d16(_0x1b9d16[_0x1bf1f1(0x276)][_0x1bf1f1(0x50f)],{'payload':_0x13dde5});}}async[_0x3d1090(0x6e8)](_0x76800e,_0x10933b=!0x1){const _0x44a39e=_0x3d1090;if(this[_0x44a39e(0x81f)][_0x44a39e(0x1ac)](_0x76800e)){const _0x5d1819=this['pendingSyncTransactions']['get'](_0x76800e);this[_0x44a39e(0x81f)]['delete'](_0x76800e),await this[_0x44a39e(0x9e3)](_0x5d1819,_0x10933b);}}async['handleRequestPayload'](_0xe0c6ca){const _0xe2c69b=_0x3d1090;switch(_0xe0c6ca[_0xe2c69b(0x2ec)]){case _0xb6aaf5[_0xe2c69b(0x993)]:return this['handleFileRequest'](_0xe0c6ca);case _0xb6aaf5['RequestAccepted']:return this[_0xe2c69b(0x2cd)](_0xe0c6ca);case _0xb6aaf5[_0xe2c69b(0xa81)]:return this['handleFileSync'](_0xe0c6ca);case _0xb6aaf5[_0xe2c69b(0x2ef)]:return this[_0xe2c69b(0x853)](_0xe0c6ca);default:throw new _0x1b9d16(_0x1b9d16[_0xe2c69b(0x276)][_0xe2c69b(0x50f)],{'payload':_0xe0c6ca});}}async[_0x3d1090(0x853)](_0x4cfc2e,_0x1bda6b=0x0){const _0x1902bc=_0x3d1090,_0x465a64=_0x229f31(_0x4cfc2e['path'],_0x4cfc2e[_0x1902bc(0x643)]);if(!_0x4cfc2e['data']||void 0x0===_0x4cfc2e[_0x1902bc(0x560)]||!_0x4cfc2e[_0x1902bc(0x3ca)])return this[_0x1902bc(0x72d)]['delete'](_0x465a64),void await this[_0x1902bc(0x227)](_0x4cfc2e['name'],_0x4cfc2e[_0x1902bc(0x6fd)],{'checksum':_0x4cfc2e['checksum'],'skipEncryption':_0x4cfc2e[_0x1902bc(0xa78)]});if(this[_0x1902bc(0x72d)][_0x1902bc(0x1ac)](_0x465a64)){const _0x428a02=this[_0x1902bc(0x72d)][_0x1902bc(0x252)](_0x465a64);_0x428a02[_0x1902bc(0x305)]!==_0x4cfc2e[_0x1902bc(0x305)]&&(_0x428a02['stream']?.[_0x1902bc(0x8d5)](),this[_0x1902bc(0x72d)][_0x1902bc(0x54a)](_0x465a64));}if(!this[_0x1902bc(0x72d)][_0x1902bc(0x1ac)](_0x465a64)){try{await this[_0x1902bc(0x29e)][_0x1902bc(0x20e)](_0x465a64);}catch(_0x140ae5){}try{const _0x31a86b=this['syncContent']?await this[_0x1902bc(0x29e)]['createWritableStream'](_0x465a64,{'skipEncryption':_0x4cfc2e[_0x1902bc(0xa78)]}):void 0x0,_0x4089c8={'chunksReceived':_0x4cfc2e[_0x1902bc(0x588)]??0x0,'bytesReceived':0x0,'stream':_0x31a86b,'checksum':_0x4cfc2e[_0x1902bc(0x305)]};this['fileChunks']['set'](_0x465a64,_0x4089c8),await this[_0x1902bc(0x227)](_0x4cfc2e['name'],_0x4cfc2e[_0x1902bc(0x6fd)],{'checksum':_0x4cfc2e[_0x1902bc(0x305)],'skipEncryption':_0x4cfc2e[_0x1902bc(0xa78)]});}catch(_0x11155d){}}const _0x16d49d=this['fileChunks'][_0x1902bc(0x252)](_0x465a64);if(_0x4cfc2e[_0x1902bc(0x305)]!==_0x16d49d['checksum'])return;if(this[_0x1902bc(0x7fb)](_0x4cfc2e,_0x465a64),this['syncContent']){if(!_0x16d49d[_0x1902bc(0x85c)])throw new _0x1b9d16(_0x1b9d16[_0x1902bc(0x276)]['ObjectStoreInvalidSyncMessage'],{'message':'Writable\x20stream\x20is\x20missing'});let _0x4ec77a=_0x16d49d[_0x1902bc(0x464)];if(_0x4cfc2e['index']!==_0x4ec77a){if(_0x4ec77a>_0x4cfc2e[_0x1902bc(0x560)])return;const _0xac36ad=2064.1259842519685;if(_0x4cfc2e['index']>_0x4ec77a+_0xac36ad)return;if(_0x16d49d['bufferedChunks']||(_0x16d49d[_0x1902bc(0x412)]=[]),_0x16d49d[_0x1902bc(0x412)][_0x1902bc(0x73c)]>8256.503937007874)throw this['fileChunks'][_0x1902bc(0x54a)](_0x465a64),new _0x1b9d16(_0x1b9d16[_0x1902bc(0x276)][_0x1902bc(0x50f)],{'message':_0x1902bc(0x506)});return void _0x16d49d[_0x1902bc(0x412)]['push'](_0x4cfc2e);}try{_0x16d49d[_0x1902bc(0x464)]+=0x1,_0x16d49d[_0x1902bc(0x335)]+=_0x4cfc2e[_0x1902bc(0xa3d)]['byteLength'],await _0x16d49d[_0x1902bc(0x85c)][_0x1902bc(0x3fb)](_0x4cfc2e[_0x1902bc(0xa3d)]);}catch(_0x2bd9c6){if(console[_0x1902bc(0x58c)](_0x1902bc(0x882),_0x2bd9c6),_0x1bda6b>0x3)throw this[_0x1902bc(0x72d)][_0x1902bc(0x54a)](_0x465a64),console[_0x1902bc(0x58c)](_0x1902bc(0x76b),_0x2bd9c6),new _0x1b9d16(_0x1b9d16['codes']['ObjectStoreInvalidSyncMessage'],{'message':_0x1902bc(0x76b)});return this['handleFileWrite'](_0x4cfc2e,_0x1bda6b+0x1);}}try{await this[_0x1902bc(0x901)](_0x16d49d,_0x4cfc2e[_0x1902bc(0x560)]+0x1);}catch(_0x1192b4){throw this[_0x1902bc(0x72d)][_0x1902bc(0x54a)](_0x465a64),_0x1192b4;}if(this[_0x1902bc(0x72d)][_0x1902bc(0x6f0)](_0x465a64,_0x16d49d),_0x16d49d[_0x1902bc(0x464)]<_0x4cfc2e[_0x1902bc(0x3ca)])return;await this[_0x1902bc(0x297)](_0x465a64),this[_0x1902bc(0x843)]&&(await this['deletePendingFile'](_0x4cfc2e),_0x3dc4e5[_0x1902bc(0x340)](_0x264391['ObjectStorage'],{'type':'sync','label':this[_0x1902bc(0x7d3)],'nodeId':this['localNode']['getId'](),'nodeType':this[_0x1902bc(0x5d3)][_0x1902bc(0x88c)],'clusterId':this[_0x1902bc(0xa3c)],'kind':_0x25b155[_0x1902bc(0x1c6)][_0x1902bc(0x7f0)],'path':_0x4cfc2e[_0x1902bc(0x6fd)],'fileName':_0x4cfc2e[_0x1902bc(0x643)],'fileType':_0x4cfc2e[_0x1902bc(0x88c)],'size':_0x16d49d[_0x1902bc(0x335)]}));const _0x3ae3fd=this[_0x1902bc(0x632)][_0x1902bc(0x252)](_0x4cfc2e[_0x1902bc(0x6fd)])??[];for(const _0x5ddc57 of _0x3ae3fd)await this[_0x1902bc(0x2db)](_0x5ddc57);this[_0x1902bc(0x632)]['delete'](_0x4cfc2e[_0x1902bc(0x6fd)]),this[_0x1902bc(0x787)][_0x1902bc(0x681)]({'event':_0x25b155[_0x1902bc(0x1e7)][_0x1902bc(0x66c)],'payload':{'file':{'kind':_0x25b155[_0x1902bc(0x1c6)][_0x1902bc(0x7f0)],'path':_0x4cfc2e[_0x1902bc(0x6fd)],'type':_0x4cfc2e[_0x1902bc(0x88c)],'size':_0x16d49d['bytesReceived'],'name':_0x4cfc2e[_0x1902bc(0x643)],'pathName':_0x465a64,'status':this[_0x1902bc(0x843)]?_0x25b155[_0x1902bc(0x5e7)][_0x1902bc(0x609)]:_0x25b155[_0x1902bc(0x5e7)][_0x1902bc(0xa83)]}}}),this['sendStats']();}async['manageBufferedChunks'](_0x4881b9,_0x32b6e6){const _0x2bf47c=_0x3d1090,_0x2950c0=_0x4881b9['stream'];let _0x216763=0x0;for(;_0x4881b9[_0x2bf47c(0x412)]&&_0x4881b9['bufferedChunks'][_0x2bf47c(0x73c)]>0x0;){const _0x22adce=_0x4881b9[_0x2bf47c(0x412)]['find'](_0x1d5ea8=>_0x1d5ea8[_0x2bf47c(0x560)]===_0x32b6e6+0x1);if(!_0x22adce)break;_0x4881b9[_0x2bf47c(0x412)]=_0x4881b9[_0x2bf47c(0x412)][_0x2bf47c(0x25d)](_0x633fb=>_0x633fb[_0x2bf47c(0x560)]!==_0x32b6e6+0x1);try{await _0x2950c0[_0x2bf47c(0x3fb)](_0x22adce[_0x2bf47c(0xa3d)]),_0x32b6e6++;}catch(_0x3f2264){if(console[_0x2bf47c(0x58c)](_0x2bf47c(0x498),_0x3f2264),_0x216763>0x3)throw console[_0x2bf47c(0x58c)](_0x2bf47c(0x413),_0x3f2264),new _0x1b9d16(_0x1b9d16[_0x2bf47c(0x276)]['ObjectStoreInvalidSyncMessage'],{'message':'Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream'});_0x216763++;continue;}_0x4881b9[_0x2bf47c(0x464)]+=0x1,_0x4881b9['bytesReceived']+=_0x22adce['data'][_0x2bf47c(0x88e)];}}async[_0x3d1090(0x9b6)](_0x198a99){const _0x5e9592=_0x3d1090;await this[_0x5e9592(0x29e)][_0x5e9592(0x6a4)](_0x198a99[_0x5e9592(0x6fd)]);const [_0x15b491,_0x53705a]=_0x578a2f(_0x198a99[_0x5e9592(0x6fd)]);this[_0x5e9592(0x787)][_0x5e9592(0x681)]({'event':_0x25b155['StorageEventType']['FolderCreate'],'payload':{'folder':{'kind':_0x25b155[_0x5e9592(0x1c6)][_0x5e9592(0x1a0)],'name':_0x53705a,'path':_0x15b491,'pathName':_0x198a99[_0x5e9592(0x6fd)]}}});}async['handleObjectDelete'](_0x5ceac,_0x2a4f2b=!0x1){const _0x5f0941=_0x3d1090;if(!_0x2a4f2b&&!this[_0x5f0941(0x95a)](_0x5ceac))return;const _0x1cf466=await this['deleteObject'](_0x5ceac[_0x5f0941(0x6fd)]),[_0x3d7462,_0x2af18d]=_0x578a2f(_0x5ceac[_0x5f0941(0x6fd)]);this[_0x5f0941(0x787)][_0x5f0941(0x681)]({'event':_0x1cf466===_0x25b155[_0x5f0941(0x1c6)][_0x5f0941(0x1a0)]?_0x25b155[_0x5f0941(0x1e7)][_0x5f0941(0x33e)]:_0x25b155[_0x5f0941(0x1e7)][_0x5f0941(0x5b8)],'payload':{'name':_0x2af18d,'path':_0x3d7462,'pathName':_0x5ceac[_0x5f0941(0x6fd)]}}),this['sendStats']();}async['handleObjectMove'](_0x147e14,_0x5a0be1=!0x1){const _0x439657=_0x3d1090;if(!_0x5a0be1&&!this[_0x439657(0x95a)](_0x147e14))return this['pendingFilesRename']['set'](_0x147e14[_0x439657(0x18c)],this[_0x439657(0x7c9)][_0x439657(0x252)](_0x147e14[_0x439657(0x6fd)])??_0x147e14[_0x439657(0x6fd)]),void this['pendingFilesRename'][_0x439657(0x54a)](_0x147e14[_0x439657(0x6fd)]);this['pendingFilesRename'][_0x439657(0x54a)](_0x147e14[_0x439657(0x6fd)]);const _0xe03382=await this[_0x439657(0x29e)][_0x439657(0x79e)](_0x147e14[_0x439657(0x6fd)],_0x147e14[_0x439657(0x18c)]),[_0x5061f8,_0x56944a]=_0x578a2f(_0x147e14[_0x439657(0x6fd)]),[_0x378b52,_0x1f5e47]=_0x578a2f(_0x147e14[_0x439657(0x18c)]);this['eventListener'][_0x439657(0x681)]({'event':_0xe03382===_0x25b155[_0x439657(0x1c6)][_0x439657(0x1a0)]?_0x25b155[_0x439657(0x1e7)]['FolderMove']:_0x25b155[_0x439657(0x1e7)][_0x439657(0x377)],'payload':{'name':_0x1f5e47,'path':_0x378b52,'pathName':_0x147e14['newPath'],'oldName':_0x56944a,'oldPath':_0x5061f8,'oldPathName':_0x147e14['path']}}),this['sendStats']();}[_0x3d1090(0x95a)](_0x285baf){const _0x200074=_0x3d1090,_0x5605b2=this[_0x200074(0x7c9)][_0x200074(0x252)](_0x285baf[_0x200074(0x6fd)])??_0x285baf[_0x200074(0x6fd)];let _0x8a294e=!0x1;for(const _0x2ff786 of this['fileChunks'][_0x200074(0x912)]())if(_0x2ff786['startsWith'](_0x5605b2)){const _0x1aa11c=this[_0x200074(0x632)]['get'](_0x2ff786)??[];_0x1aa11c[_0x200074(0xa93)](_0x285baf),this['pendingFilesTransactions'][_0x200074(0x6f0)](_0x2ff786,_0x1aa11c),_0x8a294e=!0x0;}return!_0x8a294e;}async['publishTransaction'](_0x5942e9){const _0x247417=_0x3d1090;if(!this['options']?.[_0x247417(0x4a3)]){if(!_0x5942e9['id'])throw new _0x1b9d16(_0x1b9d16[_0x247417(0x276)][_0x247417(0x50f)],{'message':'Missing\x20transaction\x20id'});if(_0x5942e9[_0x247417(0x2d2)]!==this['lastTransactionId'])throw new _0x1b9d16(_0x1b9d16['codes'][_0x247417(0x8fb)]);await this['transactionService'][_0x247417(0x239)](_0x5942e9,this[_0x247417(0x7d3)]),await this[_0x247417(0x36a)](_0x5942e9['id']);}}async['updateLastTransactionId'](_0x6deb){const _0x3f3fb4=_0x3d1090;this[_0x3f3fb4(0x1b7)]=_0x6deb;const _0x4af1de=new File([new Blob([this[_0x3f3fb4(0x1b7)]])],_0x1c71aa,{'type':_0x3f3fb4(0x1a2)});await this[_0x3f3fb4(0x65b)](_0x4af1de,'/');}async[_0x3d1090(0xa2d)](_0x25ab62){const _0x37f160=_0x3d1090;try{const _0x50f54d=await this[_0x37f160(0x252)](_0x25ab62[_0x37f160(0x6fd)]+'/'+_0x25ab62['name'],{'skipEncryption':_0x25ab62[_0x37f160(0xa78)]}),_0x182d3f=await _0x163456(_0x50f54d);if(''!==_0x25ab62[_0x37f160(0x305)]&&_0x182d3f!==_0x25ab62[_0x37f160(0x305)])return;_0x25ab62[_0x37f160(0x55a)]=this['localNode'][_0x37f160(0x79a)](),_0x25ab62['action']=_0xb6aaf5[_0x37f160(0x5c2)],await this[_0x37f160(0x908)](_0x25ab62,[_0x25ab62[_0x37f160(0x590)]]);}catch(_0x4018a4){}}async[_0x3d1090(0x2cd)](_0x1ac528){const _0x97e17a=_0x3d1090,_0x2bb685=_0x229f31(_0x1ac528[_0x97e17a(0x6fd)],_0x1ac528[_0x97e17a(0x643)]);if(!this['objectRequests'][_0x97e17a(0x1ac)](_0x2bb685))return;const _0x566502=this[_0x97e17a(0x574)]['get'](_0x2bb685);_0x566502[_0x97e17a(0x2ec)]=_0xb6aaf5[_0x97e17a(0xa81)];const _0x3c3910=_0x1ac528[_0x97e17a(0x55a)];if(!_0x3c3910)throw new _0x1b9d16(_0x1b9d16[_0x97e17a(0x276)][_0x97e17a(0x50f)],{'message':_0x97e17a(0x600)});if(this['objectRequests']['delete'](_0x2bb685),this[_0x97e17a(0x262)][_0x97e17a(0x1ac)](_0x3c3910)||this[_0x97e17a(0x262)][_0x97e17a(0x6f0)](_0x3c3910,new Map()),this[_0x97e17a(0x262)][_0x97e17a(0x252)](_0x3c3910)[_0x97e17a(0x6f0)](_0x2bb685,[_0x566502,this['getOrResetPendingFileTimeout'](_0x3c3910,_0x2bb685)]),_0x566502[_0x97e17a(0x55a)]=_0x3c3910,_0x566502[_0x97e17a(0x588)]=this['fileChunks'][_0x97e17a(0x252)](_0x2bb685)?.[_0x97e17a(0x464)]??0x0,0x0===_0x566502[_0x97e17a(0x588)])try{const [_0x591b50,_0x1c9a43]=await this[_0x97e17a(0x5fe)](_0x1ac528[_0x97e17a(0x643)],_0x1ac528[_0x97e17a(0x6fd)],_0x1ac528[_0x97e17a(0x305)]);_0x591b50&&(_0x566502[_0x97e17a(0x588)]=_0x1c9a43);}catch(_0x28cde0){}this[_0x97e17a(0x908)](_0x566502,[_0x3c3910]);}async['handleFileSync'](_0x2cc45f){const _0x5a16e0=_0x3d1090,_0x259410=_0x229f31(_0x2cc45f[_0x5a16e0(0x6fd)],_0x2cc45f[_0x5a16e0(0x643)]),_0x42188f=await this[_0x5a16e0(0x252)](_0x259410,{'skipEncryption':_0x2cc45f['skipEncryption']}),_0x4780e0={..._0x2cc45f,'answererId':this[_0x5a16e0(0x5d3)][_0x5a16e0(0x79a)](),'action':_0xb6aaf5[_0x5a16e0(0x2ef)],'startIndex':_0x2cc45f[_0x5a16e0(0x588)]??0x0};await this[_0x5a16e0(0xa99)](_0x42188f,_0x4780e0,[_0x2cc45f[_0x5a16e0(0x590)]]);}async['sendFile'](_0x37714c,_0x1de8a5,_0x35eb92){let _0x4a9e57,_0x27fd3e;const _0x305ed3=new Promise(async(_0xa63b63,_0x443bef)=>{_0x4a9e57=_0xa63b63,_0x27fd3e=_0x443bef;});return((async()=>{const _0x467bae=a0_0x50c4,_0x4d61b7=Math['ceil'](_0x37714c[_0x467bae(0x8e5)]/_0x3f812c);let _0x357ff1=_0x1de8a5[_0x467bae(0x588)]??0x0;const _0x234c1b=_0x229f31(_0x1de8a5[_0x467bae(0x6fd)],_0x1de8a5[_0x467bae(0x643)]);this[_0x467bae(0x4bd)][_0x467bae(0x6f0)](_0x234c1b,[!0x1,_0x305ed3]);for await(const _0xefaefb of async function*(_0x3d4abe,_0x4a0b64=0x0,_0xc60fba){for await(const _0x1d8e82 of _0x1bc5dd(_0x3d4abe,_0x4a0b64,_0xc60fba))yield _0x1d8e82;}(_0x37714c,_0x357ff1,this[_0x467bae(0x3c0)])){const [_0x53ab1f]=this['fileSendingMap']['get'](_0x234c1b)??[];if(_0x53ab1f)return this[_0x467bae(0x4bd)]['delete'](_0x234c1b),void _0x27fd3e(new Error(_0x467bae(0x628)));if(this[_0x467bae(0x632)][_0x467bae(0x1ac)](_0x234c1b)){const _0x100313=this['pendingFilesTransactions'][_0x467bae(0x252)](_0x234c1b);for(const _0x5696fa of _0x100313)if(_0x5696fa[_0x467bae(0x2ec)]===_0xb6aaf5[_0x467bae(0x66c)]||_0x5696fa['action']===_0xb6aaf5[_0x467bae(0x424)])return;}const _0x41f87a={..._0x1de8a5,'type':_0x37714c[_0x467bae(0x88c)],'data':_0xefaefb,'index':_0x357ff1,'total':_0x4d61b7};this[_0x467bae(0x908)](_0x41f87a,_0x35eb92),_0x357ff1++;}const _0x4cee06=setInterval(async()=>{await this['waitForArrayBufferSize']()>0x0||(clearInterval(_0x4cee06),_0x4a9e57());});this['fileSendingMap'][_0x467bae(0x54a)](_0x234c1b);})()),_0x305ed3;}async[_0x3d1090(0x7ac)](_0x235c06){const _0x55fb08=_0x3d1090;try{const _0x450708=_0x229f31(_0x235c06[_0x55fb08(0x6fd)],_0x235c06[_0x55fb08(0x643)]),_0x49dc32=_0x450708+_0x42b217;await this[_0x55fb08(0x20e)](_0x49dc32);const [,_0x46b278]=this[_0x55fb08(0x262)][_0x55fb08(0x252)](_0x235c06[_0x55fb08(0x55a)])?.[_0x55fb08(0x252)](_0x450708)??[];_0x46b278&&(clearTimeout(_0x46b278),this['pendingFilesSyncing'][_0x55fb08(0x252)](_0x235c06[_0x55fb08(0x55a)])[_0x55fb08(0x54a)](_0x450708));}catch(_0x3fc293){}0x0===this['pendingFilesSyncing'][_0x55fb08(0x252)](_0x235c06[_0x55fb08(0x55a)])?.['size']&&this['pendingFilesSyncing'][_0x55fb08(0x54a)](_0x235c06[_0x55fb08(0x55a)]),0x0===this['pendingFilesSyncing'][_0x55fb08(0x8e5)]&&0x0===this['objectRequests'][_0x55fb08(0x8e5)]&&this[_0x55fb08(0x72a)]();}async[_0x3d1090(0xa4d)](){const _0x39a97d=_0x3d1090;try{const _0x1abee1=await this['transactionService'][_0x39a97d(0x2fb)](this['label'],this[_0x39a97d(0x1b7)]);for(const _0xadf9c of _0x1abee1)await this['handleTransactionPayload'](_0xadf9c,!0x0);}catch(_0x2bdd14){if(_0x2bdd14 instanceof _0x1b9d16&&_0x2bdd14[_0x39a97d(0x393)]===_0x1b9d16['codes'][_0x39a97d(0x518)]){await this[_0x39a97d(0x29e)][_0x39a97d(0x20e)](_0x1c71aa),delete this[_0x39a97d(0x1b7)];try{const _0x2178d9=await this[_0x39a97d(0x29e)][_0x39a97d(0x97e)]('/',!0x1);for(const _0x386621 of _0x2178d9)await this['objectStoreConnector'][_0x39a97d(0x20e)](_0x386621['pathName']);}catch(_0x4799b2){}return await this[_0x39a97d(0xa4d)]();}throw _0x2bdd14;}}async['syncPendingFiles'](){const _0x1bd5a7=_0x3d1090,_0x3723ac=await this['list']('/',{'recursive':!0x0,'includeSyncingFiles':!0x0}),_0x4c6581=async _0x5ca0ea=>{const _0x69af69=a0_0x50c4;for(const _0x3331fb of _0x5ca0ea){if(_0x3331fb[_0x69af69(0x6c9)]===_0x25b155[_0x69af69(0x1c6)][_0x69af69(0x1a0)]){_0x3331fb[_0x69af69(0x6c2)]&&_0x3331fb[_0x69af69(0x6c2)][_0x69af69(0x73c)]>0x0&&await _0x4c6581(_0x3331fb[_0x69af69(0x6c2)]);continue;}if(_0x3331fb[_0x69af69(0x479)]!==_0x25b155['FileStatus']['Pending'])continue;const _0x22f33b=await this[_0x69af69(0x252)](_0x3331fb[_0x69af69(0x869)]+_0x42b217),_0x2016b3=JSON[_0x69af69(0x25a)](await _0x22f33b[_0x69af69(0xa55)]()),_0x352e8f=_0x3331fb['name'][_0x69af69(0x9de)](_0x42b217,''),_0x53c1f5={'payloadType':_0x396e5b['Request'],'action':_0xb6aaf5[_0x69af69(0x993)],'sourceId':this['localNode'][_0x69af69(0x79a)](),'type':'','path':_0x3331fb['path'],'name':_0x352e8f,'checksum':_0x2016b3[_0x69af69(0x305)],'skipEncryption':_0x2016b3[_0x69af69(0xa78)]},_0x1e5515=_0x229f31(_0x3331fb[_0x69af69(0x6fd)],_0x352e8f);this[_0x69af69(0x574)][_0x69af69(0x6f0)](_0x1e5515,_0x53c1f5);}};await _0x4c6581(_0x3723ac),0x0===this[_0x1bd5a7(0x574)]['size']&&0x0===this[_0x1bd5a7(0x262)]['size']&&this['completeSync']();}async['createPendingFileWrite'](_0x9a7f38,_0x55ed04,_0x27184e){const _0x40c02e=_0x3d1090,_0x29fa1d=new File([new Blob([JSON[_0x40c02e(0x90a)](_0x27184e)])],''+_0x9a7f38+_0x42b217,{'type':_0x40c02e(0x1a2)});await this[_0x40c02e(0x65b)](_0x29fa1d,_0x55ed04);}async[_0x3d1090(0x5fe)](_0x35411b,_0x59cc9b,_0x379fc5){const _0x2de10c=_0x3d1090;try{const _0x3ab91b=_0x229f31(_0x59cc9b,_0x35411b),_0x49b6e8=_0x3ab91b+_0x42b217,_0x387999=await this['objectStoreConnector'][_0x2de10c(0x252)](_0x49b6e8),{checksum:_0x18d576,skipEncryption:_0x1fe946}=JSON['parse'](await _0x387999[_0x2de10c(0xa55)]()),_0x334fb3=(await this['objectStoreConnector'][_0x2de10c(0x252)](_0x3ab91b,{'skipEncryption':_0x1fe946}))['size'];return _0x18d576===_0x379fc5&&_0x334fb3%_0x3f812c==0x0?[!0x0,Math[_0x2de10c(0x277)](_0x334fb3/_0x3f812c)]:(await this['objectStoreConnector'][_0x2de10c(0x20e)](_0x3ab91b),[!0x1,0x0]);}catch(_0x1d16ad){return[!0x1,0x0];}}[_0x3d1090(0x397)](_0x1c5e5b,_0x4427e8){const _0x471cca=_0x3d1090,[_0xcfb896,_0x1de424]=this[_0x471cca(0x262)]['get'](_0x1c5e5b)?.[_0x471cca(0x252)](_0x4427e8)??[];return _0x1de424&&clearTimeout(_0x1de424),setTimeout(()=>{const _0x45c6dc=_0x471cca,[_0x32ea38,_0x5edec0]=this[_0x45c6dc(0x262)][_0x45c6dc(0x252)](_0x1c5e5b)[_0x45c6dc(0x252)](_0x4427e8);this[_0x45c6dc(0x3f6)](_0x32ea38,_0x5edec0);},0x927c0);}async[_0x3d1090(0x3f6)](_0xfdf521,_0x3e8fb1){const _0x325040=_0x3d1090;clearTimeout(_0x3e8fb1),_0xfdf521[_0x325040(0x2ec)]=_0xb6aaf5[_0x325040(0x993)],this[_0x325040(0x574)][_0x325040(0x6f0)](_0x229f31(_0xfdf521[_0x325040(0x6fd)],_0xfdf521['name']),_0xfdf521),this['send'](_0xfdf521);}[_0x3d1090(0x7fb)](_0x2b902d,_0xcf7c8b){const _0x49a8ae=_0x3d1090;if(!this[_0x49a8ae(0x843)])return;this[_0x49a8ae(0x262)]['has'](_0x2b902d['answererId'])||this[_0x49a8ae(0x262)][_0x49a8ae(0x6f0)](_0x2b902d[_0x49a8ae(0x55a)],new Map());const [_0x11c1e5]=this['pendingFilesSyncing'][_0x49a8ae(0x252)](_0x2b902d['answererId'])[_0x49a8ae(0x252)](_0xcf7c8b)??[{'payloadType':_0x396e5b[_0x49a8ae(0x857)],'action':_0xb6aaf5[_0x49a8ae(0x993)],'sourceId':this[_0x49a8ae(0x5d3)][_0x49a8ae(0x79a)](),'type':_0x2b902d[_0x49a8ae(0x88c)],'name':_0x2b902d[_0x49a8ae(0x643)],'path':_0x2b902d[_0x49a8ae(0x6fd)],'skipEncryption':_0x2b902d[_0x49a8ae(0xa78)],'checksum':_0x2b902d['checksum'],'answererId':_0x2b902d['answererId']}];this[_0x49a8ae(0x262)][_0x49a8ae(0x252)](_0x2b902d['answererId'])[_0x49a8ae(0x6f0)](_0xcf7c8b,[_0x11c1e5,this[_0x49a8ae(0x397)](_0x2b902d[_0x49a8ae(0x55a)],_0xcf7c8b)]);}async['writeFile'](_0x503b98,_0x540bae,_0x24dbc1){const _0x3cc15b=_0x3d1090;this[_0x3cc15b(0x8ce)]&&(this['filesSynced']+=0x1),await this[_0x3cc15b(0x29e)]['writeFile'](_0x503b98,_0x540bae,_0x24dbc1);}async[_0x3d1090(0x20e)](_0x6df0c7){const _0xc13dca=_0x3d1090;try{const _0x560cf4=await this[_0xc13dca(0x29e)][_0xc13dca(0x20e)](_0x6df0c7);if(!_0x6df0c7[_0xc13dca(0x257)](_0x42b217))try{await this[_0xc13dca(0x29e)][_0xc13dca(0x20e)](_0x6df0c7+_0x42b217);}catch(_0x1f9aaa){}return this[_0xc13dca(0x8ce)]&&_0x560cf4===_0x25b155['ObjectKind'][_0xc13dca(0x7f0)]&&(this[_0xc13dca(0x72f)]+=0x1),_0x560cf4;}catch(_0x39e29e){return await this[_0xc13dca(0x29e)][_0xc13dca(0x20e)](_0x6df0c7+_0x42b217);}}async[_0x3d1090(0x79e)](_0x4ef53e,_0x5adffb){const _0x1a912=_0x3d1090;try{const _0x48381a=await this['objectStoreConnector'][_0x1a912(0x79e)](_0x4ef53e,_0x5adffb);if(!_0x4ef53e['endsWith'](_0x42b217))try{await this[_0x1a912(0x29e)][_0x1a912(0x79e)](_0x4ef53e+_0x42b217,_0x5adffb+_0x42b217);}catch(_0x1799e4){}return _0x48381a;}catch(_0x1c3b1f){return await this[_0x1a912(0x29e)]['moveObject'](_0x4ef53e+_0x42b217,_0x5adffb+_0x42b217);}}[_0x3d1090(0xaa9)](){const _0x42174d=_0x3d1090;this[_0x42174d(0xa20)]&&clearTimeout(this[_0x42174d(0xa20)]),this[_0x42174d(0xa20)]=setTimeout(async()=>{const _0x5803a2=_0x42174d;delete this[_0x5803a2(0xa20)];const _0x43170d=await this['objectStoreConnector'][_0x5803a2(0x24f)]('/');this[_0x5803a2(0x613)]?.[_0x5803a2(0x681)]({'sourceId':_0x22135a,'messageType':_0x17c3e2[_0x5803a2(0x235)],'content':{'type':_0x4a88e8[_0x5803a2(0x7b2)],'label':this[_0x5803a2(0x7d3)],'stats':{'timestamp':Date['now'](),'storage':_0x43170d,'messagesSent':this[_0x5803a2(0x20a)],'messagesReceived':this[_0x5803a2(0x658)],'bytesSent':this[_0x5803a2(0x6bd)],'bytesReceived':this[_0x5803a2(0x335)],'writes':this[_0x5803a2(0x18d)],'reads':this[_0x5803a2(0xa6b)],'prompts':0x0,'tokens':0x0}}}),this['syncContent']&&_0x3dc4e5['logStorage'](_0x264391[_0x5803a2(0x250)],_0x5803a2(0x6df)+this[_0x5803a2(0xa3c)]+'ccc'+this[_0x5803a2(0x7d3)],_0x43170d);},_0x28192e);}async[_0x3d1090(0x8f2)](_0x5806df){const _0x34cb41=_0x3d1090;try{return await this[_0x34cb41(0x252)](_0x5806df),!0x0;}catch(_0x23ee51){return!0x1;}}async[_0x3d1090(0x297)](_0x90166a){const _0x5c5cbe=_0x3d1090;if(!this['fileChunks'][_0x5c5cbe(0x1ac)](_0x90166a))return;const _0xac8866=this[_0x5c5cbe(0x72d)]['get'](_0x90166a);if(_0xac8866['stream'])try{await _0xac8866['stream'][_0x5c5cbe(0x8d5)]();}catch(_0x19d6c0){console['error']('Error\x20closing\x20writable\x20stream',_0x19d6c0);}this['fileChunks'][_0x5c5cbe(0x54a)](_0x90166a);}}class _0x1b5ed5 extends _0x38f018{[_0x3d1090(0x5d3)];[_0x3d1090(0xa3c)];[_0x3d1090(0x8cb)]=new Map();[_0x3d1090(0xa20)];constructor(_0x2f957e,_0x5f072a,_0x582938){const _0x22dfb1=_0x3d1090;if(_0x22dfb1(0x205)!=typeof _0x5f072a)throw new _0x4ded08(_0x2c3351[_0x22dfb1(0x451)],_0x22dfb1(0x1ff));super(_0x2f957e,_0x5f072a),this[_0x22dfb1(0x5d3)]=_0x2f957e,this[_0x22dfb1(0xa3c)]=_0x582938,this[_0x22dfb1(0xaa9)]();}[_0x3d1090(0x548)](){const _0x308b93=_0x3d1090;this[_0x308b93(0xaa9)]();}[_0x3d1090(0x3b7)](){const _0x42250e=_0x3d1090;return _0x25b155[_0x42250e(0x2ce)]['PubSub'];}['publish'](_0xe70c73,_0x299327){const _0x4c5236=_0x3d1090;_0x3dc4e5[_0x4c5236(0x546)](_0x5a543d[_0x4c5236(0x458)],_0x4c5236(0xa67),this[_0x4c5236(0x5d3)][_0x4c5236(0x79a)](),_0xe70c73,_0x299327),_0x3dc4e5[_0x4c5236(0x340)](_0x264391[_0x4c5236(0x458)],{'type':_0x4c5236(0x681),'label':this[_0x4c5236(0x7d3)],'nodeId':this['localNode'][_0x4c5236(0x79a)](),'nodeType':this[_0x4c5236(0x5d3)][_0x4c5236(0x88c)],'clusterId':this[_0x4c5236(0xa3c)],'remoteIds':_0x299327??[],'contentType':_0xe70c73 instanceof File?_0x25b155[_0x4c5236(0x2ce)][_0x4c5236(0x7f0)]:_0x25b155['ContentType'][_0x4c5236(0x624)],'size':_0xe70c73 instanceof File?_0xe70c73[_0x4c5236(0x8e5)]:JSON[_0x4c5236(0x90a)](_0xe70c73)[_0x4c5236(0x73c)]}),this[_0x4c5236(0xaa9)](),this['send'](_0xe70c73,_0x299327);}[_0x3d1090(0x81b)](_0x402e58,_0x5f143a){const _0x53c9d0=_0x3d1090;if(this['unsubscribeHandler']['has'](_0x402e58))throw new _0x4ded08(_0x2c3351[_0x53c9d0(0x1b8)],_0x53c9d0(0xa88));this[_0x53c9d0(0x8cb)][_0x53c9d0(0x6f0)](_0x402e58,this[_0x53c9d0(0xa76)]((_0x22772a,_0x2119f2)=>{const _0x204b18=_0x53c9d0;_0x204b18(0xa3d)===_0x402e58&&_0x2119f2 instanceof File||!(_0x204b18(0x2c4)!==_0x402e58||_0x2119f2 instanceof File)||(_0x3dc4e5[_0x204b18(0x546)](_0x5a543d[_0x204b18(0x458)],'PubSubTopic\x20onMessage',this[_0x204b18(0x5d3)]['getId'](),_0x22772a,_0x2119f2),_0x3dc4e5[_0x204b18(0x340)](_0x264391['PubSub'],{'type':_0x204b18(0x81b),'label':this[_0x204b18(0x7d3)],'nodeId':this[_0x204b18(0x5d3)]['getId'](),'nodeType':this[_0x204b18(0x5d3)][_0x204b18(0x88c)],'clusterId':this[_0x204b18(0xa3c)],'remoteId':_0x22772a,'contentType':_0x402e58,'size':_0x2119f2 instanceof File?_0x2119f2[_0x204b18(0x8e5)]:JSON[_0x204b18(0x90a)](_0x2119f2)['length']}),this[_0x204b18(0xaa9)](),_0x5f143a(_0x22772a,_0x2119f2));}));}[_0x3d1090(0x7d0)](_0x3a6d0c){const _0x2133a9=_0x3d1090;this[_0x2133a9(0x8cb)]['get'](_0x3a6d0c)?.(),this[_0x2133a9(0x8cb)][_0x2133a9(0x54a)](_0x3a6d0c);}[_0x3d1090(0x1f8)](){const _0x1e1bba=_0x3d1090;this[_0x1e1bba(0x8cb)]['forEach'](_0x56e8ac=>_0x56e8ac()),clearTimeout(this[_0x1e1bba(0xa20)]),delete this[_0x1e1bba(0xa20)],super['destroy']();}[_0x3d1090(0x8d5)](){const _0x56eff3=_0x3d1090;this['systemTopic']?.[_0x56eff3(0x681)]({'sourceId':_0x22135a,'messageType':_0x17c3e2[_0x56eff3(0x235)],'content':{'type':_0x4a88e8['ClosePubSubTopic'],'label':this['label']}});}[_0x3d1090(0xaa9)](){this['debounceStats']&&clearTimeout(this['debounceStats']),this['debounceStats']=setTimeout(()=>{const _0x1fe76c=a0_0x50c4;this['systemTopic']?.[_0x1fe76c(0x681)]({'sourceId':_0x22135a,'messageType':_0x17c3e2[_0x1fe76c(0x235)],'content':{'type':_0x4a88e8[_0x1fe76c(0x36b)],'label':this[_0x1fe76c(0x7d3)],'stats':{'timestamp':Date[_0x1fe76c(0x267)](),'storage':0x0,'messagesSent':this[_0x1fe76c(0x20a)],'messagesReceived':this[_0x1fe76c(0x658)],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x1fe76c(0x335)],'writes':0x0,'reads':0x0,'prompts':0x0,'tokens':0x0}}});},_0x28192e);}}class _0x107ef0 extends _0x236a63{[_0x3d1090(0x5d3)];[_0x3d1090(0x9dd)];[_0x3d1090(0x6e9)];['clusterId'];[_0x3d1090(0x8cb)];['resizeHandler'];[_0x3d1090(0x2f4)];['outgoingStreams']=new Map();[_0x3d1090(0x63b)];['subscribedTracks']=new Set();[_0x3d1090(0xab4)];[_0x3d1090(0x6ed)]=_0x353664();[_0x3d1090(0x9ec)]=new Map();constructor(_0x623450,_0x5e16fa,_0x21ada7,_0x57bd91,_0x505460,_0x2b01f9){const _0x174385=_0x3d1090;super(_0x5e16fa,_0x21ada7,new MediaStream()),this[_0x174385(0x5d3)]=_0x623450,this['internalId']=_0x57bd91,this['availableTrackKinds']=_0x505460,this[_0x174385(0xa3c)]=_0x2b01f9,this['mediaStream'][_0x174385(0x608)]()[_0x174385(0x7ff)](_0x1c1079=>this[_0x174385(0x615)](_0x1c1079));}['destroy'](){const _0x255b17=_0x3d1090;this[_0x255b17(0x69b)][_0x255b17(0x8e5)]>0x0&&(this[_0x255b17(0x69b)][_0x255b17(0x7ff)](_0x11ed3f=>{const _0x333e07=_0x255b17;_0x11ed3f['unregisterSystemPublisher'](),_0x11ed3f[_0x333e07(0x1f8)]();}),this[_0x255b17(0x69b)][_0x255b17(0x97a)]()),this['trackEndedListeners']['forEach'](_0x8ce6cd=>_0x8ce6cd()),this[_0x255b17(0x7fe)][_0x255b17(0x608)]()[_0x255b17(0x7ff)](_0x3c78be=>this['mediaStream'][_0x255b17(0x37f)](_0x3c78be)),this[_0x255b17(0x2f4)]&&(clearTimeout(this[_0x255b17(0x2f4)]),delete this[_0x255b17(0x2f4)]),this['resizeHandler']?.(),super[_0x255b17(0x1f8)]();}[_0x3d1090(0x208)](_0x2784d9){const _0x31cad9=_0x3d1090;this[_0x31cad9(0x8cb)]=_0x2784d9[_0x31cad9(0x81b)](({content:_0x1b7985})=>{const _0x36eb55=_0x31cad9;switch(_0x1b7985[_0x36eb55(0x2ec)]){case _0x4e5ea4[_0x36eb55(0x35c)]:if(_0x3dc4e5[_0x36eb55(0x546)](_0x5a543d[_0x36eb55(0x957)],_0x36eb55(0x356),this[_0x36eb55(0x5d3)][_0x36eb55(0x79a)](),this[_0x36eb55(0xab4)]),_0x1b7985[_0x36eb55(0x85c)]['id']!==this[_0x36eb55(0x9dd)]||_0x1b7985[_0x36eb55(0xab4)]!==this['providerId'])return;this[_0x36eb55(0x37f)](_0x1b7985['track'][_0x36eb55(0x6c9)]),this['mediaStream'][_0x36eb55(0x5f6)](_0x1b7985[_0x36eb55(0x481)]);for(const [_0x30ede2,_0x124eb5]of this[_0x36eb55(0x69b)][_0x36eb55(0x6c2)]())try{_0x124eb5[_0x36eb55(0x5f6)](_0x1b7985[_0x36eb55(0x481)]);}catch(_0x35302c){_0x124eb5['destroy'](),this[_0x36eb55(0x69b)][_0x36eb55(0x54a)](_0x30ede2);}this['setupTrackEndedListeners'](_0x1b7985[_0x36eb55(0x481)]),this[_0x36eb55(0x332)](),_0x36eb55(0x4c4)===_0x1b7985[_0x36eb55(0x481)][_0x36eb55(0x6c9)]&&this['renderElement']&&(this[_0x36eb55(0x7fe)][_0x36eb55(0x7a8)]?setTimeout(()=>this[_0x36eb55(0x63b)]?.[_0x36eb55(0xa28)](),0x0):setTimeout(()=>this[_0x36eb55(0x63b)]?.['load'](),0x0),this[_0x36eb55(0x8d9)]());break;case _0x4e5ea4[_0x36eb55(0x6d3)]:if(_0x1b7985[_0x36eb55(0x85c)]['id']!==this['internalId']||_0x1b7985[_0x36eb55(0xab4)]!==this['providerId'])return;this[_0x36eb55(0x37f)](_0x1b7985[_0x36eb55(0x481)][_0x36eb55(0x6c9)]),this[_0x36eb55(0x63b)]&&_0x36eb55(0x4c4)===_0x1b7985[_0x36eb55(0x481)][_0x36eb55(0x6c9)]&&(this[_0x36eb55(0x336)]?.(),this[_0x36eb55(0x7fe)][_0x36eb55(0x608)]()[_0x36eb55(0x73c)]>0x0?this[_0x36eb55(0x63b)][_0x36eb55(0x20f)]():this['renderElement'][_0x36eb55(0x8d7)]=null);}});}[_0x3d1090(0x669)](){const _0x19dcb8=_0x3d1090;this[_0x19dcb8(0x8cb)]?.(),this[_0x19dcb8(0x9ec)][_0x19dcb8(0x7ff)](_0x3e8441=>_0x3e8441()),delete this['unsubscribeHandler'];}[_0x3d1090(0xa3e)](){return this['internalId'];}[_0x3d1090(0x386)](_0x5ca87e){const _0x6b3369=_0x3d1090;this[_0x6b3369(0x9dd)]=_0x5ca87e;}[_0x3d1090(0x3f8)](){const _0x550bfe=_0x3d1090;return this[_0x550bfe(0x6e9)];}['hasTracks'](_0x44ecc0){const _0x4ecd73=_0x3d1090;for(const _0x57620c of _0x44ecc0||this[_0x4ecd73(0x6e9)])if(!this['mediaStream']['getTracks']()[_0x4ecd73(0x447)](_0x443d69=>_0x443d69['kind']===_0x57620c))return!0x1;return!0x0;}[_0x3d1090(0x7af)](){const _0x563290=_0x3d1090;let _0x46598f={'width':0x0,'height':0x0};const _0x2f617c=this[_0x563290(0x7fe)][_0x563290(0xa56)]();if(_0x2f617c[_0x563290(0x73c)]>0x0){const _0x115407=_0x2f617c[0x0]['getSettings']();_0x115407[_0x563290(0x210)]&&_0x115407['height']&&(_0x46598f={'width':_0x115407[_0x563290(0x210)],'height':_0x115407['height']});}return _0x46598f;}['isSubscribed'](_0x1c9e1c){const _0x54798a=_0x3d1090;for(const _0x28366d of _0x1c9e1c)if(!this['subscribedTracks'][_0x54798a(0x1ac)](_0x28366d))return!0x1;return!0x0;}[_0x3d1090(0x263)](_0x55c9f5,_0x15a60f){const _0x3283d4=_0x3d1090;if(!this[_0x3283d4(0x69b)][_0x3283d4(0x1ac)](_0x55c9f5)){const _0x1fbc28=new _0x4fe276(this[_0x3283d4(0x620)],this[_0x3283d4(0x7d3)],this[_0x3283d4(0x7fe)],_0x55c9f5,_0x15a60f),_0x412fe4=_0x1fbc28[_0x3283d4(0x96d)](()=>{const _0x5e8fe2=_0x3283d4;_0x412fe4(),this[_0x5e8fe2(0x69b)][_0x5e8fe2(0x252)](_0x55c9f5)?.['destroy'](),this[_0x5e8fe2(0x69b)][_0x5e8fe2(0x54a)](_0x55c9f5);});this[_0x3283d4(0x69b)][_0x3283d4(0x6f0)](_0x55c9f5,_0x1fbc28),_0x1fbc28[_0x3283d4(0x60f)](this[_0x3283d4(0x613)]);}return this['outgoingStreams']['get'](_0x55c9f5);}[_0x3d1090(0x494)](){return this['mediaStream']['id'];}['getPriority'](){const _0x1be09c=_0x3d1090;return _0x25b155[_0x1be09c(0x712)][_0x1be09c(0x96b)];}[_0x3d1090(0x517)](){const _0x2e882c=_0x3d1090;return Array[_0x2e882c(0x2bc)](this[_0x2e882c(0x928)]);}[_0x3d1090(0x81b)](_0x462d6e){const _0x51d98b=_0x3d1090;let _0x589d2f=[];if(_0x462d6e){'object'!=typeof _0x462d6e[_0x51d98b(0x4c4)]||_0x462d6e[_0x51d98b(0x4c4)]['renderElement']instanceof HTMLVideoElement||!this[_0x51d98b(0x63b)]||(_0x462d6e[_0x51d98b(0x4c4)]={'renderElement':this[_0x51d98b(0x63b)]});try{(0x0,_0x25b155['isValidMediaSubscriptionParams'])(_0x462d6e);}catch(_0x36dc14){throw new _0x4ded08(_0x2c3351[_0x51d98b(0x79c)],'Invalid\x20params');}_0x462d6e['video']&&(_0x589d2f['push'](_0x51d98b(0x4c4)),_0x51d98b(0x5a7)!=typeof _0x462d6e[_0x51d98b(0x4c4)]&&_0x462d6e[_0x51d98b(0x4c4)][_0x51d98b(0x63b)]&&(this[_0x51d98b(0x63b)]=_0x462d6e[_0x51d98b(0x4c4)][_0x51d98b(0x63b)],_0x462d6e[_0x51d98b(0x4c4)][_0x51d98b(0x729)]||(_0x462d6e[_0x51d98b(0x4c4)][_0x51d98b(0x729)]={'width':this[_0x51d98b(0x63b)]['clientWidth'],'height':this['renderElement'][_0x51d98b(0x64b)]}),delete _0x462d6e[_0x51d98b(0x4c4)][_0x51d98b(0x63b)])),_0x462d6e['audio']&&_0x589d2f['push'](_0x51d98b(0x83c));}else _0x589d2f=this[_0x51d98b(0x3f8)]();this[_0x51d98b(0x5f5)](_0x589d2f)||(_0x589d2f['forEach'](_0xcabd80=>this['subscribedTracks'][_0x51d98b(0x691)](_0xcabd80)),this['systemTopic'][_0x51d98b(0x681)]({'sourceId':_0x22135a,'messageType':_0x17c3e2['Content'],'content':{'type':_0x4a88e8['SubscribeMediaStream'],'label':this['label'],'ownerId':this['owner'][_0x51d98b(0x79a)](),'trackKinds':_0x589d2f,'params':_0x462d6e}}),_0x3dc4e5[_0x51d98b(0x340)](_0x264391[_0x51d98b(0x8ca)],{'type':_0x51d98b(0x81b),'label':this['label'],'nodeId':this[_0x51d98b(0x5d3)][_0x51d98b(0x79a)](),'nodeType':this['localNode'][_0x51d98b(0x88c)],'clusterId':this[_0x51d98b(0xa3c)],'sourceId':this[_0x51d98b(0x620)][_0x51d98b(0x79a)](),'streamId':this['internalId'],'trackKinds':_0x589d2f}));}[_0x3d1090(0x2f8)](_0x533054){const _0x573717=_0x3d1090;try{(0x0,_0x25b155['isValidMediaSubscriptionParams'])(_0x533054);}catch(_0x3245ff){throw new _0x4ded08(_0x2c3351[_0x573717(0x79c)],'Invalid\x20params');}this[_0x573717(0x2f4)]&&clearTimeout(this[_0x573717(0x2f4)]),this[_0x573717(0x2f4)]=setTimeout(()=>{const _0x131332=_0x573717;delete this[_0x131332(0x2f4)],this[_0x131332(0x613)]['publish']({'sourceId':_0x22135a,'messageType':_0x17c3e2[_0x131332(0x235)],'content':{'type':_0x4a88e8[_0x131332(0x88b)],'label':this[_0x131332(0x7d3)],'ownerId':this[_0x131332(0x620)][_0x131332(0x79a)](),'params':_0x533054}});},0x1f4);}['unsubscribe'](_0x1b677a){const _0x139269=_0x3d1090;_0x1b677a||(_0x1b677a=this[_0x139269(0x3f8)]()),(_0x1b677a=Array[_0x139269(0x625)](_0x1b677a)?_0x1b677a:[_0x1b677a])[_0x139269(0x7ff)](_0x24fadc=>this['subscribedTracks'][_0x139269(0x54a)](_0x24fadc)),this[_0x139269(0x613)]['publish']({'sourceId':_0x22135a,'messageType':_0x17c3e2[_0x139269(0x235)],'content':{'type':_0x4a88e8['UnsubscribeMediaStream'],'label':this[_0x139269(0x7d3)],'ownerId':this[_0x139269(0x620)]['getId'](),'trackKinds':_0x1b677a,'remainingTracks':this[_0x139269(0x928)][_0x139269(0x8e5)]}});}[_0x3d1090(0x460)](_0x1f416e){const _0x8d50f0=_0x3d1090;return this['providerListener'][_0x8d50f0(0x81b)](_0x1f416e);}[_0x3d1090(0xaae)](){const _0x5fe427=_0x3d1090;return this[_0x5fe427(0xab4)];}[_0x3d1090(0x4d3)](_0x4a080b){const _0x3e7290=_0x3d1090;this[_0x3e7290(0xab4)]!==_0x4a080b&&(this[_0x3e7290(0xab4)]=_0x4a080b,this[_0x3e7290(0x6ed)][_0x3e7290(0x681)](_0x4a080b));}[_0x3d1090(0x200)](_0x569f72){const _0xeadb1=_0x3d1090;this[_0xeadb1(0x9ec)][_0xeadb1(0x252)](_0x569f72)?.(),this[_0xeadb1(0x9ec)][_0xeadb1(0x54a)](_0x569f72);}[_0x3d1090(0x37f)](_0x2e3948){const _0xc18d0b=_0x3d1090,_0x3fe1f5=this[_0xc18d0b(0x7fe)][_0xc18d0b(0x608)]()[_0xc18d0b(0x447)](_0x276294=>_0x276294['kind']===_0x2e3948);_0x3fe1f5&&(this[_0xc18d0b(0x7fe)][_0xc18d0b(0x37f)](_0x3fe1f5),this[_0xc18d0b(0x69b)][_0xc18d0b(0x7ff)](_0x19986d=>_0x19986d[_0xc18d0b(0x37f)](_0x2e3948)),this[_0xc18d0b(0x9ec)][_0xc18d0b(0x252)](_0x2e3948)?.());}[_0x3d1090(0x332)](){const _0x2959a8=_0x3d1090;this['renderElement']&&(this[_0x2959a8(0x63b)][_0x2959a8(0x8d7)]&&this[_0x2959a8(0x63b)]['srcObject']===this[_0x2959a8(0x7fe)]||(this[_0x2959a8(0x63b)][_0x2959a8(0x8d7)]=this['mediaStream']));}['setupResizeHandler'](){const _0x152edb=_0x3d1090;if(this[_0x152edb(0x63b)]&&!this[_0x152edb(0x336)]&&_0x152edb(0x6fb)!=typeof ResizeObserver){let _0xe67424=this[_0x152edb(0x63b)][_0x152edb(0x217)],_0xde56cb=this['renderElement'][_0x152edb(0x64b)];const _0x4a8895=new ResizeObserver(_0x61176e=>{const _0x5bc989=_0x152edb,{width:_0x523422,height:_0x66dd3a}=_0x61176e[0x0][_0x5bc989(0x635)];_0xe67424===_0x523422&&_0xde56cb===_0x66dd3a||(_0xe67424=Math[_0x5bc989(0x93b)](_0x523422),_0xde56cb=Math[_0x5bc989(0x93b)](_0x66dd3a),this[_0x5bc989(0x2f8)]({'video':{'maxResolution':{'width':_0x523422,'height':_0x66dd3a}}}));});_0x4a8895[_0x152edb(0x30d)](this[_0x152edb(0x63b)]),this['resizeHandler']=()=>_0x4a8895['disconnect']();}}[_0x3d1090(0x62e)](_0x257a4e){const _0x534c81=_0x3d1090,_0x3c3ea9=[];for(const _0x6fea74 of this[_0x534c81(0x928)])this[_0x534c81(0x37f)](_0x6fea74),_0x3c3ea9['push'](_0x6fea74);this[_0x534c81(0xab4)]&&this[_0x534c81(0x613)][_0x534c81(0x681)]({'sourceId':_0x22135a,'messageType':_0x17c3e2[_0x534c81(0x235)],'content':{'type':_0x4a88e8[_0x534c81(0x617)],'label':this['label'],'streamId':this[_0x534c81(0x9dd)],'ownerId':this[_0x534c81(0x620)][_0x534c81(0x79a)](),'providerId':this['providerId'],'trackKinds':_0x3c3ea9}});}['setupTrackEndedListeners'](_0x5143cf){const _0x218528=_0x3d1090,_0x7efa17=()=>this['handleRemoteTrackFailure'](_0x5143cf);_0x5143cf[_0x218528(0x222)](_0x218528(0x8f7),_0x7efa17),_0x5143cf['addEventListener'](_0x218528(0x1d9),_0x7efa17),this[_0x218528(0x9ec)][_0x218528(0x6f0)](_0x5143cf['kind'],()=>{const _0x1d2f7a=_0x218528;_0x5143cf[_0x1d2f7a(0x8ec)](_0x1d2f7a(0x8f7),_0x7efa17),_0x5143cf[_0x1d2f7a(0x8ec)](_0x1d2f7a(0x1d9),_0x7efa17),this[_0x1d2f7a(0x9ec)][_0x1d2f7a(0x54a)](_0x5143cf[_0x1d2f7a(0x6c9)]);});}}class _0x3232e0 extends _0x38f018{[_0x3d1090(0x5d3)];[_0x3d1090(0xa3c)];[_0x3d1090(0x43c)];['db'];[_0x3d1090(0xa20)];[_0x3d1090(0x18d)]=0x0;[_0x3d1090(0xa6b)]=0x0;[_0x3d1090(0x3a6)]=!0x1;constructor(_0x4a7ec3,_0x1dc59d,_0x3457d4,_0x1cc393,_0x426a7f){const _0x269223=_0x3d1090;if(_0x269223(0x205)!=typeof _0x1dc59d)throw new _0x4ded08(_0x2c3351[_0x269223(0x785)],_0x269223(0x5e1));super(_0x4a7ec3,_0x1dc59d),this['localNode']=_0x4a7ec3,this[_0x269223(0xa3c)]=_0x3457d4,this[_0x269223(0x43c)]=_0x1cc393;const _0x489d08=_0x269223(0x6df)+this[_0x269223(0x43c)]+_0x269223(0x6df)+this[_0x269223(0xa3c)]+_0x269223(0x6df)+this[_0x269223(0x7d3)];this['db']=new _0x426a7f(_0x489d08),this[_0x269223(0xaa9)]();}[_0x3d1090(0x954)](){const _0x5bdb2b=_0x3d1090;return this[_0x5bdb2b(0x3a6)];}[_0x3d1090(0x5b5)](_0x1437f8){const _0x484e2c=_0x3d1090;this[_0x484e2c(0x3a6)]=_0x1437f8;}[_0x3d1090(0x1f8)](){const _0x486c2f=_0x3d1090;clearTimeout(this[_0x486c2f(0xa20)]),delete this['debounceStats'],super[_0x486c2f(0x1f8)]();}[_0x3d1090(0x8d5)](){const _0x2b3e48=_0x3d1090;this[_0x2b3e48(0x613)][_0x2b3e48(0x681)]({'sourceId':_0x22135a,'messageType':_0x17c3e2[_0x2b3e48(0x235)],'content':{'type':_0x4a88e8['CloseVectorDatabase'],'label':this[_0x2b3e48(0x7d3)]}});}[_0x3d1090(0x548)](){const _0x4a0feb=_0x3d1090;this[_0x4a0feb(0xaa9)]();}['getContentType'](){const _0x5162aa=_0x3d1090;return _0x25b155[_0x5162aa(0x2ce)][_0x5162aa(0x191)];}['search'](_0x14fb0c,_0x5834b8,_0x2d7b30,_0xd543ac){const _0x5f3d61=_0x3d1090,_0x1e5806=this['db'][_0x5f3d61(0x9b9)](_0x14fb0c,_0x5834b8,_0x2d7b30,_0xd543ac);return this['reads']+=0x1,_0x3dc4e5[_0x5f3d61(0x340)](_0x264391['VectorDatabase'],{'type':'search','label':this[_0x5f3d61(0x7d3)],'nodeId':this[_0x5f3d61(0x5d3)][_0x5f3d61(0x79a)](),'nodeType':this[_0x5f3d61(0x5d3)][_0x5f3d61(0x88c)],'clusterId':this['clusterId'],'size':0x0}),this[_0x5f3d61(0xaa9)](),_0x1e5806;}[_0x3d1090(0x6bb)](_0x55de6e,_0x50d9e7,_0x204cf5,_0x14ea84){const _0x4980be=_0x3d1090;this['db'][_0x4980be(0x6bb)](_0x55de6e,_0x50d9e7,_0x204cf5,_0x14ea84),this[_0x4980be(0x18d)]+=0x1,_0x3dc4e5[_0x4980be(0x340)](_0x264391[_0x4980be(0x191)],{'type':_0x4980be(0x6bb),'label':this[_0x4980be(0x7d3)],'nodeId':this[_0x4980be(0x5d3)][_0x4980be(0x79a)](),'nodeType':this[_0x4980be(0x5d3)]['type'],'clusterId':this[_0x4980be(0xa3c)],'size':_0x14ea84[_0x4980be(0x8f1)]((_0x1422e8,_0x18c57b)=>_0x1422e8+_0x18c57b[_0x4980be(0x73c)],0x0)}),this[_0x4980be(0xaa9)]();}['remove'](_0xc1dde3){const _0x5878d4=_0x3d1090;this['db'][_0x5878d4(0x833)](_0xc1dde3),this[_0x5878d4(0x18d)]+=0x1,_0x3dc4e5['logServiceEvent'](_0x264391[_0x5878d4(0x191)],{'type':_0x5878d4(0x833),'label':this['label'],'nodeId':this[_0x5878d4(0x5d3)][_0x5878d4(0x79a)](),'nodeType':this[_0x5878d4(0x5d3)][_0x5878d4(0x88c)],'clusterId':this[_0x5878d4(0xa3c)],'size':0x0}),this[_0x5878d4(0xaa9)]();}[_0x3d1090(0x532)](_0x327636){const _0x144a32=_0x3d1090;this['db'][_0x144a32(0x532)](_0x327636);}[_0x3d1090(0x61c)](_0x3bd7b7){const _0xe80003=_0x3d1090;this['db'][_0xe80003(0x61c)](_0x3bd7b7);}[_0x3d1090(0xaa9)](){const _0xcd8dc8=_0x3d1090;this[_0xcd8dc8(0xa20)]&&clearTimeout(this['debounceStats']),this['debounceStats']=setTimeout(async()=>{const _0x1ef0c5=_0xcd8dc8;delete this[_0x1ef0c5(0xa20)];const _0x37103d=this['db']['getBuffer']()['byteLength'];this[_0x1ef0c5(0x613)][_0x1ef0c5(0x681)]({'sourceId':_0x22135a,'messageType':_0x17c3e2[_0x1ef0c5(0x235)],'content':{'type':_0x4a88e8['VectorDatabaseStats'],'label':this[_0x1ef0c5(0x7d3)],'stats':{'timestamp':Date[_0x1ef0c5(0x267)](),'storage':_0x37103d,'messagesSent':this[_0x1ef0c5(0x20a)],'messagesReceived':this[_0x1ef0c5(0x658)],'bytesSent':this[_0x1ef0c5(0x6bd)],'bytesReceived':this[_0x1ef0c5(0x335)],'writes':this[_0x1ef0c5(0x18d)],'reads':this[_0x1ef0c5(0xa6b)],'prompts':0x0,'tokens':0x0}}}),_0x3dc4e5[_0x1ef0c5(0xa90)](_0x264391[_0x1ef0c5(0x191)],_0x1ef0c5(0x6df)+this['clusterId']+_0x1ef0c5(0x6df)+this[_0x1ef0c5(0x7d3)],_0x37103d);},_0x28192e);}}class _0x5e40a9{['id'];[_0x3d1090(0x983)];[_0x3d1090(0x3d8)];constructor(_0xd9ba61,_0x47e35c=new Set(),_0x4668cb){const _0x598ead=_0x3d1090;this['id']=_0xd9ba61,this[_0x598ead(0x983)]=_0x47e35c,this['rank']=_0x4668cb;}['close'](){const _0x160877=_0x3d1090;this['rank']=void 0x0,this[_0x160877(0x983)][_0x160877(0x97a)]();}[_0x3d1090(0x79a)](){return this['id'];}[_0x3d1090(0x68a)](){const _0x22ebab=_0x3d1090;return this[_0x22ebab(0x3d8)];}[_0x3d1090(0x1dd)](){const _0x541418=_0x3d1090;return this[_0x541418(0x983)];}}class _0x3d9db2 extends _0x5e40a9{['id'];[_0x3d1090(0x63c)];[_0x3d1090(0x97c)];['remoteConnections'];[_0x3d1090(0x3d8)];[_0x3d1090(0x88c)]=_0x25b155[_0x3d1090(0xa14)][_0x3d1090(0x1b2)];constructor(_0x3e6af4,_0x425b72,_0x401f11,_0x165f4f=new Set(),_0x16527a){const _0xdbe01b=_0x3d1090;super(_0x3e6af4,_0x165f4f,_0x16527a),this['id']=_0x3e6af4,this[_0xdbe01b(0x63c)]=_0x425b72,this[_0xdbe01b(0x97c)]=_0x401f11,this['remoteConnections']=_0x165f4f,this[_0xdbe01b(0x3d8)]=_0x16527a;}[_0x3d1090(0x94e)](){const _0x578490=_0x3d1090;return this[_0x578490(0x63c)];}[_0x3d1090(0x599)](){const _0x56a1fe=_0x3d1090;return this[_0x56a1fe(0x97c)];}}class _0x3e1c0d{[_0x3d1090(0x43c)];[_0x3d1090(0xa3c)];['clusterKey'];constructor(_0x437900,_0x19bd7f){const _0x452ac1=_0x3d1090;this[_0x452ac1(0x43c)]=_0x437900,this[_0x452ac1(0xa3c)]=_0x19bd7f,this['clusterKey']='ccc'+this['vendorId']+_0x452ac1(0x6df)+this['clusterId'];}async[_0x3d1090(0x239)](_0x39fb36,_0x4a72b4){const _0x17d136=_0x3d1090,_0x1d4f69=(0x0,_0x580970[_0x17d136(0x5fd)])(_0x2f14fd['getDatabase'](),_0x17d136(0x876)+this['clusterKey']+'/objectstores/'+_0x4a72b4+_0x17d136(0x8b9)+_0x39fb36['id']),_0x5b7ee6=(0x0,_0x580970[_0x17d136(0x6d4)])(_0x1d4f69);_0x5b7ee6[_0x17d136(0x833)](),_0x39fb36[_0x17d136(0x2d2)]||delete _0x39fb36[_0x17d136(0x2d2)];try{await(0x0,_0x580970[_0x17d136(0x6f0)])(_0x1d4f69,_0x39fb36);}catch(_0x2f17d0){throw await _0x5b7ee6[_0x17d136(0x76a)](),new _0x1b9d16(_0x1b9d16[_0x17d136(0x276)][_0x17d136(0x5db)]);}if(!0x1===(await(0x0,_0x580970[_0x17d136(0x232)])((0x0,_0x580970[_0x17d136(0x5fd)])(_0x2f14fd[_0x17d136(0xaa8)](),_0x17d136(0x876)+this[_0x17d136(0x296)]+_0x17d136(0x4ed)+_0x4a72b4+'/transactions/lastTransaction'),_0x5ca09d=>_0x5ca09d?_0x5ca09d===_0x39fb36[_0x17d136(0x2d2)]?_0x39fb36['id']:void 0x0:_0x39fb36[_0x17d136(0x2d2)]?_0x39fb36[_0x17d136(0x2d2)]:_0x39fb36['id']))[_0x17d136(0xa2f)])throw await(0x0,_0x580970['remove'])(_0x1d4f69),await _0x5b7ee6[_0x17d136(0x76a)](),new _0x1b9d16(_0x1b9d16[_0x17d136(0x276)][_0x17d136(0x8fb)]);await _0x5b7ee6[_0x17d136(0x76a)]();}async[_0x3d1090(0x2fb)](_0x2e5b61,_0x24f066){const _0x128eba=_0x3d1090;let _0x3cd5f8=[];const _0x1180f6=(0x0,_0x580970[_0x128eba(0x5fd)])(_0x2f14fd['getDatabase'](),_0x128eba(0x876)+this['clusterKey']+'/objectstores/'+_0x2e5b61+_0x128eba(0x60e));let _0x5b9055=await(0x0,_0x580970[_0x128eba(0x252)])((0x0,_0x580970[_0x128eba(0x968)])(_0x1180f6,(0x0,_0x580970[_0x128eba(0x65d)])(0x65),(0x0,_0x580970[_0x128eba(0x365)])()));if(!_0x5b9055['exists']()){if(void 0x0!==_0x24f066)throw new _0x1b9d16(_0x1b9d16[_0x128eba(0x276)][_0x128eba(0x518)]);return _0x3cd5f8;}const _0x485020=_0x5b9055['val']();for(;Object[_0x128eba(0x912)](_0x5b9055[_0x128eba(0x4e6)]())['length']>0x64;){const _0xc27d14=Object[_0x128eba(0x912)](_0x5b9055[_0x128eba(0x4e6)]()),_0x43dd8f=_0xc27d14[_0xc27d14[_0x128eba(0x73c)]-0x1];_0x5b9055=await(0x0,_0x580970[_0x128eba(0x252)])((0x0,_0x580970['query'])(_0x1180f6,(0x0,_0x580970[_0x128eba(0x65d)])(0x65),(0x0,_0x580970[_0x128eba(0x734)])(_0x43dd8f),(0x0,_0x580970[_0x128eba(0x365)])())),Object[_0x128eba(0x831)](_0x485020,_0x5b9055[_0x128eba(0x4e6)]());}if(_0x3cd5f8=Object[_0x128eba(0x6a5)](_0x485020)[_0x128eba(0x25d)](_0x2da76e=>_0x128eba(0x205)!=typeof _0x2da76e),0x0===_0x3cd5f8[_0x128eba(0x73c)]&&void 0x0!==_0x24f066)throw new _0x1b9d16(_0x1b9d16['codes'][_0x128eba(0x518)]);if(_0x3cd5f8[_0x128eba(0x73c)]>0x0&&void 0x0!==_0x24f066&&!_0x3cd5f8[_0x128eba(0x447)](_0xf705af=>_0xf705af['id']===_0x24f066))throw new _0x1b9d16(_0x1b9d16['codes'][_0x128eba(0x518)]);const _0x8280d4=[];let _0x580eff=_0x3cd5f8[_0x128eba(0x447)](_0x5bd742=>_0x5bd742['parentId']===_0x24f066);for(;_0x580eff;)_0x8280d4[_0x128eba(0xa93)](_0x580eff),_0x580eff=_0x3cd5f8[_0x128eba(0x447)](_0x18ff6e=>_0x18ff6e[_0x128eba(0x2d2)]===_0x580eff['id']);return _0x8280d4;}}class _0x1eac14{[_0x3d1090(0x9e8)];[_0x3d1090(0x6d5)];[_0x3d1090(0x9af)];[_0x3d1090(0x914)]=new Map();[_0x3d1090(0x4d7)]=new Map();[_0x3d1090(0x75a)]=new Map();[_0x3d1090(0x6d8)]=new Map();[_0x3d1090(0x306)]=new Map();[_0x3d1090(0xaa6)]=new Map();[_0x3d1090(0x634)]=new Map();[_0x3d1090(0x6d9)]=new Map();[_0x3d1090(0x51c)]=new Map();[_0x3d1090(0x421)]=new Map();[_0x3d1090(0xa27)];constructor(_0x14f584,_0x9226fa,_0x2a7b55){const _0x33b620=_0x3d1090;this[_0x33b620(0x9e8)]=_0x14f584,this[_0x33b620(0x6d5)]=_0x9226fa,this[_0x33b620(0x9af)]=_0x2a7b55,this[_0x33b620(0xa27)]=new _0x3e1c0d(this[_0x33b620(0x9e8)][_0x33b620(0x43c)],this[_0x33b620(0x9e8)][_0x33b620(0xa3c)]);}[_0x3d1090(0x8d5)](_0xdab3cf=!0x1){const _0x5f0f35=_0x3d1090;this[_0x5f0f35(0x4d7)]['forEach']((_0x25348b,_0x25b3a8)=>{const _0x3e348d=_0x5f0f35;_0x25348b[_0x3e348d(0x7ff)]((_0x504599,_0x6cc639)=>{const _0x32dd8a=_0x3e348d;this[_0x32dd8a(0x2d3)](_0x25b3a8,_0x6cc639);});}),_0xdab3cf||(_0x19613f['clear'](),this['localMediaStreams'][_0x5f0f35(0x7ff)]((_0x20b6a9,_0x4e631e)=>{this['removeLocalMediaStream'](_0x4e631e);}),this['pubSubTopics'][_0x5f0f35(0x7ff)]((_0x199c17,_0x23e4cc)=>{const _0x44f943=_0x5f0f35;this[_0x44f943(0x6b1)](_0x23e4cc);}),this[_0x5f0f35(0x6d8)][_0x5f0f35(0x7ff)]((_0x3e55c9,_0x230d08)=>{this['removeObjectStore'](_0x230d08);}),this[_0x5f0f35(0x306)]['forEach']((_0x1b02db,_0xfa33c0)=>{const _0x37cb51=_0x5f0f35;this[_0x37cb51(0x2bf)](_0xfa33c0);}),this['keyValueDatabases'][_0x5f0f35(0x7ff)]((_0xef5cf3,_0x3c8aba)=>{const _0x454b01=_0x5f0f35;this[_0x454b01(0xa33)](_0x3c8aba);}),this[_0x5f0f35(0x51c)]['forEach']((_0x20997a,_0x51ec02)=>{const _0x34a2d0=_0x5f0f35;this[_0x34a2d0(0x7a1)](_0x51ec02);}),this[_0x5f0f35(0x421)][_0x5f0f35(0x7ff)]((_0x1ff332,_0x55b915)=>{this['removeJobWorker'](_0x55b915);}),this[_0x5f0f35(0x634)][_0x5f0f35(0x7ff)]((_0x21717c,_0x4be1a9)=>{this['removeVectorDatabase'](_0x4be1a9);}),this['graphDatabases'][_0x5f0f35(0x7ff)]((_0x4c50f8,_0x27f5be)=>{const _0x48c056=_0x5f0f35;this[_0x48c056(0x42e)](_0x27f5be);}));}[_0x3d1090(0x347)](_0x814cea,_0x5163d0,_0x342724){const _0x2d1f1a=_0x3d1090;if(this[_0x2d1f1a(0x6d8)][_0x2d1f1a(0x1ac)](_0x814cea))throw new _0x4ded08(_0x2c3351[_0x2d1f1a(0x33d)],_0x2d1f1a(0x2b8));const _0x3a501b=new _0x4d2d77(this['configs'][_0x2d1f1a(0x5d3)],_0x814cea,this[_0x2d1f1a(0x9e8)][_0x2d1f1a(0xa3c)],this['configs']['vendorId'],this[_0x2d1f1a(0xa27)],_0x5163d0,()=>this[_0x2d1f1a(0x9e8)][_0x2d1f1a(0x93d)][_0x2d1f1a(0x3c0)](),_0x342724);return this[_0x2d1f1a(0x6d8)][_0x2d1f1a(0x6f0)](_0x814cea,_0x3a501b),this[_0x2d1f1a(0x9e8)][_0x2d1f1a(0x93d)][_0x2d1f1a(0x66d)](_0x3a501b),_0x3a501b;}[_0x3d1090(0x879)](_0x501dbb,_0x15fcf0){const _0xb850ba=_0x3d1090;if(this['objectStores'][_0xb850ba(0x1ac)](_0x501dbb))throw new _0x4ded08(_0x2c3351['ExternalStorageConnectionAlreadyExists'],'Connection\x20already\x20exists');const _0x6818e3=new _0x238d48(this['configs'][_0xb850ba(0x5d3)],_0x501dbb,this['configs'][_0xb850ba(0xa3c)],this[_0xb850ba(0x9e8)]['vendorId'],_0x15fcf0);return this['externalStorageConnections'][_0xb850ba(0x6f0)](_0x501dbb,_0x6818e3),this[_0xb850ba(0x9e8)]['mediator']['registerSystemSource'](_0x6818e3),_0x6818e3;}async['createKeyValueDatabase'](_0x1013d1,_0x250b84,_0x5adf02){const _0x39271f=_0x3d1090;if(this['keyValueDatabases'][_0x39271f(0x1ac)](_0x1013d1))throw new _0x4ded08(_0x2c3351['KeyValueDatabaseAlreadyExists'],_0x39271f(0x9fc));try{const _0x3894c0=this[_0x39271f(0x9e8)][_0x39271f(0x93d)][_0x39271f(0x64c)][_0x39271f(0x82a)](this[_0x39271f(0x9e8)][_0x39271f(0x93d)]),_0x250f69=new _0x34775a(this['configs']['localNode'],_0x1013d1,this[_0x39271f(0x9e8)][_0x39271f(0xa3c)],this[_0x39271f(0x9e8)][_0x39271f(0x43c)],_0x250b84,_0x5adf02,_0x3894c0);return this[_0x39271f(0xaa6)][_0x39271f(0x6f0)](_0x1013d1,_0x250f69),this[_0x39271f(0x9e8)][_0x39271f(0x93d)][_0x39271f(0x66d)](_0x250f69),_0x250f69;}catch(_0x17359c){if(_0x17359c instanceof _0x4ded08)throw _0x17359c;throw new _0x1b9d16(_0x1b9d16[_0x39271f(0x276)]['KeyValueDatabaseCreationFailed'],{'label':_0x1013d1,'clusterId':this[_0x39271f(0x9e8)][_0x39271f(0xa3c)],'vendorId':this[_0x39271f(0x9e8)][_0x39271f(0x43c)]});}}async[_0x3d1090(0x5d4)](_0x3056b4,_0x10d64c){const _0x3e7beb=_0x3d1090;if(this[_0x3e7beb(0x51c)][_0x3e7beb(0x1ac)](_0x3056b4))throw new _0x4ded08(_0x2c3351[_0x3e7beb(0x2e6)],_0x3e7beb(0x702));try{const _0x2c85dd=new _0x53979b(this[_0x3e7beb(0x9e8)][_0x3e7beb(0x5d3)],_0x3056b4,_0x10d64c);return this[_0x3e7beb(0x51c)]['set'](_0x3056b4,_0x2c85dd),this[_0x3e7beb(0x9e8)][_0x3e7beb(0x93d)][_0x3e7beb(0x66d)](_0x2c85dd),_0x2c85dd;}catch(_0x5cf9b1){if(_0x5cf9b1 instanceof _0x4ded08)throw _0x5cf9b1;throw new _0x1b9d16(_0x1b9d16[_0x3e7beb(0x276)]['JobDispatcherCreationFailed'],{'label':_0x3056b4,'clusterId':this['configs'][_0x3e7beb(0xa3c)],'vendorId':this[_0x3e7beb(0x9e8)]['vendorId']});}}async[_0x3d1090(0x804)](_0x52c7b2,_0x4f18d6){const _0x30fa36=_0x3d1090;if(this[_0x30fa36(0x51c)][_0x30fa36(0x1ac)](_0x52c7b2))throw new _0x4ded08(_0x2c3351[_0x30fa36(0x453)],'AI\x20Service\x20already\x20exists');if(this['jobWorkers']['has'](_0x52c7b2))throw new _0x4ded08(_0x2c3351[_0x30fa36(0x8ef)],_0x30fa36(0x854));try{const _0x4b539d=new _0x14129f(this['configs'][_0x30fa36(0x5d3)],_0x52c7b2,this[_0x30fa36(0x9e8)][_0x30fa36(0x43c)],_0x4f18d6);return this['jobDispatchers'][_0x30fa36(0x6f0)](_0x52c7b2,_0x4b539d),this[_0x30fa36(0x9e8)]['mediator'][_0x30fa36(0x66d)](_0x4b539d),_0x4b539d;}catch(_0x1aa0ed){if(_0x1aa0ed instanceof _0x4ded08)throw _0x1aa0ed;throw new _0x1b9d16(_0x1b9d16['codes'][_0x30fa36(0x604)],{'label':_0x52c7b2,'clusterId':this[_0x30fa36(0x9e8)]['clusterId'],'vendorId':this['configs'][_0x30fa36(0x43c)]});}}async[_0x3d1090(0x98e)](_0x46b7b7,_0x4eef86,_0x2d772e,_0x55ff3b,_0x83dd80,_0x30ef8e){const _0x37d46e=_0x3d1090;if(this[_0x37d46e(0x421)][_0x37d46e(0x1ac)](_0x46b7b7))throw new _0x4ded08(_0x2c3351[_0x37d46e(0x4db)],'AI\x20Worker\x20already\x20exists');if(this['jobDispatchers'][_0x37d46e(0x1ac)](_0x46b7b7))throw new _0x4ded08(_0x2c3351[_0x37d46e(0x8ef)],_0x37d46e(0x854));try{const _0x512007=new _0x3e1f68(this[_0x37d46e(0x9e8)]['localNode'],_0x46b7b7,this['configs']['vendorId'],_0x4eef86,this,_0x2d772e,_0x55ff3b,_0x83dd80,this[_0x37d46e(0x9af)],_0x30ef8e);return this[_0x37d46e(0x421)][_0x37d46e(0x6f0)](_0x46b7b7,_0x512007),this['configs'][_0x37d46e(0x93d)][_0x37d46e(0x66d)](_0x512007),_0x512007;}catch(_0x4e6bd2){if(_0x4e6bd2 instanceof _0x4ded08)throw _0x4e6bd2;throw new _0x1b9d16(_0x1b9d16[_0x37d46e(0x276)][_0x37d46e(0x794)],{'label':_0x46b7b7,'clusterId':this[_0x37d46e(0x9e8)]['clusterId'],'vendorId':this[_0x37d46e(0x9e8)]['vendorId']});}}[_0x3d1090(0x996)](_0x386806,_0x39fb67){const _0x11fdbe=_0x3d1090;if(this['graphDatabases'][_0x11fdbe(0x1ac)](_0x386806))throw new _0x4ded08(_0x2c3351[_0x11fdbe(0x826)],_0x11fdbe(0x9fc));try{const _0xc38404=new _0x2822aa(this[_0x11fdbe(0x9e8)][_0x11fdbe(0x5d3)],_0x386806,this['configs'][_0x11fdbe(0xa3c)],this[_0x11fdbe(0x9e8)][_0x11fdbe(0x43c)],_0x39fb67);return this[_0x11fdbe(0x6d9)][_0x11fdbe(0x6f0)](_0x386806,_0xc38404),this[_0x11fdbe(0x9e8)]['mediator']['registerSystemSource'](_0xc38404),_0xc38404;}catch(_0x2b3afe){if(_0x2b3afe instanceof _0x4ded08)throw _0x2b3afe;throw new _0x1b9d16(_0x1b9d16[_0x11fdbe(0x276)]['GraphDatabaseCreationFailed'],{'label':_0x386806,'clusterId':this[_0x11fdbe(0x9e8)][_0x11fdbe(0xa3c)],'vendorId':this[_0x11fdbe(0x9e8)][_0x11fdbe(0x43c)]});}}['createLocalDynamicMediaStream'](_0x511e78,_0x44d91c){const _0x36fae7=_0x3d1090;if(this[_0x36fae7(0x914)][_0x36fae7(0x1ac)](_0x511e78))throw new _0x4ded08(_0x2c3351[_0x36fae7(0x5af)],_0x36fae7(0x69f));if(!this['options'][_0x36fae7(0x53c)])throw new _0x4ded08(_0x2c3351[_0x36fae7(0x3d7)],_0x36fae7(0xa2c));const _0xc66255=new _0x4090c9(this[_0x36fae7(0x9e8)][_0x36fae7(0x5d3)],_0x511e78,_0x44d91c,this[_0x36fae7(0x6d5)]['maxFps'],this[_0x36fae7(0x6d5)]['audioContext'],this['configs'][_0x36fae7(0xa3c)]);return this[_0x36fae7(0x914)][_0x36fae7(0x6f0)](_0x511e78,_0xc66255),this[_0x36fae7(0x9e8)][_0x36fae7(0x93d)][_0x36fae7(0x66d)](_0xc66255),_0xc66255[_0x36fae7(0x681)](),_0xc66255;}[_0x3d1090(0x808)](_0x5bcc03,_0x2d458d){const _0x51eaef=_0x3d1090;if(this[_0x51eaef(0x914)][_0x51eaef(0x1ac)](_0x5bcc03))throw new _0x4ded08(_0x2c3351[_0x51eaef(0x5af)],_0x51eaef(0x726));const _0x41a76d=new _0x260ea8(this[_0x51eaef(0x9e8)][_0x51eaef(0x5d3)],_0x5bcc03,_0x2d458d,this[_0x51eaef(0x9e8)]['clusterId']);return this[_0x51eaef(0x914)][_0x51eaef(0x6f0)](_0x5bcc03,_0x41a76d),this[_0x51eaef(0x9e8)][_0x51eaef(0x93d)][_0x51eaef(0x66d)](_0x41a76d),_0x41a76d['publish'](),_0x41a76d;}[_0x3d1090(0x23e)](_0x465b82){const _0x460268=_0x3d1090;if(this['pubSubTopics']['has'](_0x465b82))throw new _0x4ded08(_0x2c3351[_0x460268(0x33c)],_0x460268(0x931));const _0x1955e0=new _0x1b5ed5(this[_0x460268(0x9e8)][_0x460268(0x5d3)],_0x465b82,this[_0x460268(0x9e8)][_0x460268(0xa3c)]);return this[_0x460268(0x75a)][_0x460268(0x6f0)](_0x465b82,_0x1955e0),this[_0x460268(0x9e8)][_0x460268(0x93d)][_0x460268(0x66d)](_0x1955e0),_0x1955e0;}[_0x3d1090(0x256)](_0x3c4de4,_0x4708bc,_0x557323,_0x3a52f8){const _0x29a35e=_0x3d1090;this[_0x29a35e(0x4d7)][_0x29a35e(0x1ac)](_0x3c4de4)||this[_0x29a35e(0x4d7)][_0x29a35e(0x6f0)](_0x3c4de4,new Map());const _0x5a9f3a=this[_0x29a35e(0x4d7)][_0x29a35e(0x252)](_0x3c4de4);if(_0x5a9f3a['has'](_0x4708bc))throw new _0x4ded08(_0x2c3351[_0x29a35e(0x4e0)],_0x29a35e(0x7e3));const _0x264abe=new _0x3d9db2(_0x3c4de4,'',''),_0x503ba0=new _0x107ef0(this[_0x29a35e(0x9e8)][_0x29a35e(0x5d3)],_0x264abe,_0x4708bc,_0x557323,_0x3a52f8,this[_0x29a35e(0x9e8)]['clusterId']);return _0x5a9f3a[_0x29a35e(0x6f0)](_0x4708bc,_0x503ba0),this[_0x29a35e(0x9e8)][_0x29a35e(0x93d)][_0x29a35e(0x66d)](_0x503ba0),_0x503ba0;}['createVectorDatabase'](_0x137980,_0x522f65){const _0x4d23fd=_0x3d1090;if(this[_0x4d23fd(0x634)]['has'](_0x137980))throw new _0x4ded08(_0x2c3351[_0x4d23fd(0x72b)],_0x4d23fd(0x9fc));try{const _0x5067c0=new _0x3232e0(this['configs'][_0x4d23fd(0x5d3)],_0x137980,this[_0x4d23fd(0x9e8)][_0x4d23fd(0xa3c)],this[_0x4d23fd(0x9e8)]['vendorId'],_0x522f65);return this[_0x4d23fd(0x634)][_0x4d23fd(0x6f0)](_0x137980,_0x5067c0),this['configs'][_0x4d23fd(0x93d)][_0x4d23fd(0x66d)](_0x5067c0),_0x5067c0;}catch(_0x432875){if(_0x432875 instanceof _0x4ded08)throw _0x432875;throw new _0x1b9d16(_0x1b9d16[_0x4d23fd(0x276)][_0x4d23fd(0x399)],{'label':_0x137980,'clusterId':this[_0x4d23fd(0x9e8)][_0x4d23fd(0xa3c)],'vendorId':this['configs'][_0x4d23fd(0x43c)]});}}[_0x3d1090(0x338)](_0x5c4197){const _0x28b162=_0x3d1090,_0x4d445a=Array['from'](this[_0x28b162(0x6d8)][_0x28b162(0x6a5)]());return _0x5c4197?_0x4d445a[_0x28b162(0x25d)](_0x5c4197):_0x4d445a;}[_0x3d1090(0x2e2)](_0x5adee4){const _0x552f03=_0x3d1090,_0x36040f=Array[_0x552f03(0x2bc)](this[_0x552f03(0x306)][_0x552f03(0x6a5)]());return _0x5adee4?_0x36040f['filter'](_0x5adee4):_0x36040f;}[_0x3d1090(0xa31)](_0x55bf24){const _0x2ebc38=_0x3d1090,_0x13c648=Array[_0x2ebc38(0x2bc)](this[_0x2ebc38(0xaa6)][_0x2ebc38(0x6a5)]());return _0x55bf24?_0x13c648['filter'](_0x55bf24):_0x13c648;}['getJobDispatchers'](_0x345a67){const _0x461775=_0x3d1090,_0x9e19ff=Array[_0x461775(0x2bc)](this[_0x461775(0x51c)][_0x461775(0x6a5)]());return _0x345a67?_0x9e19ff[_0x461775(0x25d)](_0x345a67):_0x9e19ff;}['getJobWorkers'](_0x1bf422){const _0x83799e=_0x3d1090,_0x4932d2=Array[_0x83799e(0x2bc)](this[_0x83799e(0x421)][_0x83799e(0x6a5)]());return _0x1bf422?_0x4932d2['filter'](_0x1bf422):_0x4932d2;}[_0x3d1090(0x46a)](_0x5592e3){const _0x7a8c4=_0x3d1090,_0x58a216=Array[_0x7a8c4(0x2bc)](this['jobDispatchers'][_0x7a8c4(0x6a5)]())[_0x7a8c4(0x25d)](_0x12503e=>_0x12503e instanceof _0x14129f);return _0x5592e3?_0x58a216[_0x7a8c4(0x25d)](_0x5592e3):_0x58a216;}[_0x3d1090(0x401)](_0x20dc7d){const _0x570ea7=_0x3d1090,_0x38b154=Array['from'](this['jobWorkers'][_0x570ea7(0x6a5)]())[_0x570ea7(0x25d)](_0x18ce49=>_0x18ce49 instanceof _0x3e1f68);return _0x20dc7d?_0x38b154[_0x570ea7(0x25d)](_0x20dc7d):_0x38b154;}['getGraphDatabases'](_0x32e5c9){const _0x33cc6a=_0x3d1090,_0x55ad9d=Array[_0x33cc6a(0x2bc)](this[_0x33cc6a(0x6d9)][_0x33cc6a(0x6a5)]());return _0x32e5c9?_0x55ad9d[_0x33cc6a(0x25d)](_0x32e5c9):_0x55ad9d;}[_0x3d1090(0x524)](_0x1c4d47){const _0x3313ef=_0x3d1090,_0x13b5ab=Array[_0x3313ef(0x2bc)](this[_0x3313ef(0x914)]['values']());return _0x1c4d47?_0x13b5ab[_0x3313ef(0x25d)](_0x1c4d47):_0x13b5ab;}[_0x3d1090(0x568)](_0x39e078){const _0x12e9bc=_0x3d1090,_0x298607=Array['from'](this[_0x12e9bc(0x75a)]['values']());return _0x39e078?_0x298607[_0x12e9bc(0x25d)](_0x39e078):_0x298607;}[_0x3d1090(0x19d)](_0x29c5b5){const _0x315841=_0x3d1090,_0x13c80f=Array[_0x315841(0x2bc)](this[_0x315841(0x4d7)][_0x315841(0x6a5)]())[_0x315841(0x8f1)]((_0x46eeb3,_0x3586f9)=>[..._0x46eeb3,...Array[_0x315841(0x2bc)](_0x3586f9['values']())],[]);return _0x29c5b5?_0x13c80f[_0x315841(0x25d)](_0x29c5b5):_0x13c80f;}[_0x3d1090(0x540)](_0x248de6){const _0x1b5320=_0x3d1090,_0x123136=Array[_0x1b5320(0x2bc)](this[_0x1b5320(0x634)][_0x1b5320(0x6a5)]());return _0x248de6?_0x123136[_0x1b5320(0x25d)](_0x248de6):_0x123136;}['getObjectStoreBucket'](_0x323169){const _0x125497=_0x3d1090,_0x150582=this[_0x125497(0x6d8)]['get'](_0x323169);if(!_0x150582)throw new _0x4ded08(_0x2c3351[_0x125497(0x50e)],'ObjectStore\x20not\x20found');return _0x150582;}['getExternalStorageConnection'](_0x52aa1e){const _0x2f47f0=_0x3d1090,_0xea268e=_0x52aa1e[_0x2f47f0(0xa49)]('-'),_0x11f170=this[_0x2f47f0(0x306)]['get'](_0xea268e[0x1]);if(!_0x11f170)throw new _0x4ded08(_0x2c3351['ExternalStorageConnectionDoesNotExist'],_0x2f47f0(0x283));return _0x11f170;}[_0x3d1090(0x52d)](_0x284f0a){const _0x533194=_0x3d1090,_0xac6444=this[_0x533194(0x6d9)][_0x533194(0x252)](_0x284f0a);if(!_0xac6444)throw new _0x4ded08(_0x2c3351['GraphDatabaseDoesNotExist'],_0x533194(0x5e6));return _0xac6444;}['getKeyValueDatabase'](_0x37d095){const _0x3e04e8=_0x3d1090,_0x1d4e0b=this['keyValueDatabases'][_0x3e04e8(0x252)](_0x37d095);if(!_0x1d4e0b)throw new _0x4ded08(_0x2c3351[_0x3e04e8(0x3ef)],_0x3e04e8(0xab2));return _0x1d4e0b;}[_0x3d1090(0x705)](_0x37fc96){const _0x542639=_0x3d1090,_0x138ff8=this[_0x542639(0x75a)]['get'](_0x37fc96);if(!_0x138ff8)throw new _0x4ded08(_0x2c3351[_0x542639(0x934)],_0x542639(0xa9f));return _0x138ff8;}['getVectorDatabase'](_0xd56fce){const _0x3e0bc5=_0x3d1090,_0xc22ba2=this[_0x3e0bc5(0x634)][_0x3e0bc5(0x252)](_0xd56fce);if(!_0xc22ba2)throw new _0x4ded08(_0x2c3351[_0x3e0bc5(0xa82)],'VectorDatabase\x20not\x20found');return _0xc22ba2;}['handleContentSystemEvents'](_0x190020){const _0x15a254=_0x3d1090;switch(_0x190020[_0x15a254(0x1d7)][_0x15a254(0x88c)]){case _0x4a88e8['PublishMediaStream']:this[_0x15a254(0x9d3)](_0x190020['content']);break;case _0x4a88e8[_0x15a254(0x630)]:this[_0x15a254(0x916)](_0x190020[_0x15a254(0x1d7)]);break;case _0x4a88e8['CloseJobDispatcher']:this[_0x15a254(0x7a1)](_0x190020[_0x15a254(0x1d7)]['label']);break;case _0x4a88e8[_0x15a254(0x958)]:this[_0x15a254(0x893)](_0x190020[_0x15a254(0x1d7)][_0x15a254(0x7d3)]);break;case _0x4a88e8[_0x15a254(0x7f6)]:this[_0x15a254(0x2e0)](_0x190020[_0x15a254(0x1d7)]['label']);break;case _0x4a88e8['ClosePubSubTopic']:this['removePubSubTopic'](_0x190020[_0x15a254(0x1d7)][_0x15a254(0x7d3)]);break;case _0x4a88e8[_0x15a254(0xa5d)]:this[_0x15a254(0x478)](_0x190020[_0x15a254(0x1d7)][_0x15a254(0x7d3)]);break;case _0x4a88e8[_0x15a254(0x9b5)]:this[_0x15a254(0x2bf)](_0x190020['content'][_0x15a254(0x7d3)]);break;case _0x4a88e8[_0x15a254(0x291)]:this['removeKeyValueDatabase'](_0x190020[_0x15a254(0x1d7)][_0x15a254(0x7d3)]);break;case _0x4a88e8[_0x15a254(0x45b)]:this[_0x15a254(0x5da)](_0x190020[_0x15a254(0x1d7)][_0x15a254(0x7d3)]);break;case _0x4a88e8[_0x15a254(0x4ec)]:this[_0x15a254(0x42e)](_0x190020[_0x15a254(0x1d7)][_0x15a254(0x7d3)]);break;case _0x4a88e8[_0x15a254(0x1cb)]:this[_0x15a254(0x1fc)](_0x190020[_0x15a254(0x1d7)]);break;case _0x4a88e8[_0x15a254(0x704)]:this[_0x15a254(0xaa6)][_0x15a254(0x252)](_0x190020['content']['label'])?.[_0x15a254(0xa52)](_0x190020[_0x15a254(0x590)],_0x190020['content'][_0x15a254(0x4d8)]);break;case _0x4a88e8[_0x15a254(0x7b4)]:this[_0x15a254(0xaa6)][_0x15a254(0x252)](_0x190020['content'][_0x15a254(0x7d3)])?.[_0x15a254(0x578)](_0x190020[_0x15a254(0x590)],_0x190020[_0x15a254(0x1d7)][_0x15a254(0x4d8)]);break;case _0x4a88e8[_0x15a254(0x9b4)]:this[_0x15a254(0xaa6)][_0x15a254(0x252)](_0x190020[_0x15a254(0x1d7)]['label'])?.[_0x15a254(0xab1)](_0x190020['sourceId'],_0x190020[_0x15a254(0x1d7)][_0x15a254(0x68d)]);break;case _0x4a88e8[_0x15a254(0x671)]:this['keyValueDatabases'][_0x15a254(0x252)](_0x190020['content'][_0x15a254(0x7d3)])?.['sendPeakTransactions'](_0x190020['sourceId'],_0x190020[_0x15a254(0x1d7)][_0x15a254(0xa48)]);break;case _0x4a88e8[_0x15a254(0x8d0)]:this[_0x15a254(0xaa6)]['get'](_0x190020['content']['label'])?.[_0x15a254(0x8ae)](_0x190020['sourceId'],_0x190020[_0x15a254(0x1d7)][_0x15a254(0x9d5)]);break;case _0x4a88e8[_0x15a254(0x34f)]:this['keyValueDatabases']['get'](_0x190020[_0x15a254(0x1d7)][_0x15a254(0x7d3)])?.[_0x15a254(0x884)](_0x190020[_0x15a254(0x590)],_0x190020[_0x15a254(0x1d7)][_0x15a254(0x89c)]);break;case _0x4a88e8['LocalMediaStreamTrackFail']:this[_0x15a254(0x9e8)][_0x15a254(0x93d)][_0x15a254(0x2d5)](_0x15a254(0x1c3),{'label':_0x190020['content'][_0x15a254(0x7d3)],'trackKinds':_0x190020[_0x15a254(0x1d7)]['trackKinds']});}}[_0x3d1090(0x328)]({content:_0x3c9a73}){const _0x56c3ea=_0x3d1090;switch(_0x3c9a73[_0x56c3ea(0x88c)]){case _0x1a2879[_0x56c3ea(0x42f)]:this[_0x56c3ea(0x24c)](_0x3c9a73),this[_0x56c3ea(0x36f)](_0x3c9a73);break;case _0x1a2879[_0x56c3ea(0x8cc)]:this[_0x56c3ea(0x69d)](_0x3c9a73),this[_0x56c3ea(0x6b2)](_0x3c9a73);}}[_0x3d1090(0x533)](_0x3e90a9){const _0x5ca8e3=_0x3d1090;switch(_0x3e90a9[_0x5ca8e3(0x1d7)]['type']){case _0x12f68d['SubscribeMediaStream']:this['handleSubscribeMediaStream'](_0x3e90a9[_0x5ca8e3(0x590)],_0x3e90a9['content']);break;case _0x12f68d[_0x5ca8e3(0x88b)]:this['handleUpdateMediaStream'](_0x3e90a9['sourceId'],_0x3e90a9[_0x5ca8e3(0x1d7)]);break;case _0x12f68d[_0x5ca8e3(0x1cb)]:this['handleUnsubscribeMediaStream'](_0x3e90a9[_0x5ca8e3(0x590)],_0x3e90a9[_0x5ca8e3(0x1d7)]);}}[_0x3d1090(0x1fc)](_0x357cd8){const _0x217de3=_0x3d1090;if(0x0===_0x357cd8[_0x217de3(0x719)])this[_0x217de3(0x4d7)]['get'](_0x357cd8[_0x217de3(0x909)])?.['get'](_0x357cd8[_0x217de3(0x7d3)])?.['destroy']();else{const _0x3123d8=this[_0x217de3(0x4d7)]['get'](_0x357cd8[_0x217de3(0x909)])?.[_0x217de3(0x252)](_0x357cd8[_0x217de3(0x7d3)]);if(!_0x3123d8)return;_0x357cd8[_0x217de3(0x9ff)][_0x217de3(0x7ff)](_0x4cf387=>_0x3123d8[_0x217de3(0x200)](_0x4cf387));}}[_0x3d1090(0x9d3)](_0x5d58cd){const _0x3f128d=_0x3d1090,{label:_0x5a4de0,ownerId:_0x313644,stream:{streamId:_0x2d5927,availableTrackKinds:_0x46644c}}=_0x5d58cd;if(this[_0x3f128d(0x4d7)]['get'](_0x313644)?.[_0x3f128d(0x1ac)](_0x5a4de0))return void _0x3dc4e5['log'](_0x5a543d['Content'],'Stream\x20already\x20exists',_0x2d5927);const _0x585482=this[_0x3f128d(0x256)](_0x313644,_0x5a4de0,_0x2d5927,_0x46644c);this[_0x3f128d(0x9e8)]['mediator'][_0x3f128d(0x2d5)](_0x3f128d(0x405),{'ownerId':_0x313644,'stream':_0x585482});}['handleUnpublishMediaStream']({ownerId:_0x13b987,label:_0x268039}){const _0x2cee1d=_0x3d1090;this[_0x2cee1d(0x2d3)](_0x13b987,_0x268039),this[_0x2cee1d(0x9e8)]['mediator'][_0x2cee1d(0x2d5)](_0x2cee1d(0x442),{'ownerId':_0x13b987,'label':_0x268039});}[_0x3d1090(0x8d1)](_0x3e593e,_0x2d4ea9){const _0x448d75=_0x3d1090,{ownerId:_0x55987a,label:_0x491cd1}=_0x2d4ea9;let _0x5a44fe;_0x5a44fe=_0x55987a!==this['configs'][_0x448d75(0x5d3)][_0x448d75(0x79a)]()?this[_0x448d75(0x4d7)][_0x448d75(0x252)](_0x55987a)['get'](_0x491cd1):this['localMediaStreams'][_0x448d75(0x252)](_0x491cd1),_0x5a44fe[_0x448d75(0x263)](_0x3e593e,_0x2d4ea9['params'])[_0x448d75(0x81b)](_0x2d4ea9,_0x5a44fe['getPriority']());}[_0x3d1090(0x967)](_0x5b9462,_0xbb74da){const _0x428f7a=_0x3d1090,{ownerId:_0x296efd,label:_0x281d4c}=_0xbb74da;let _0x85407a;_0x85407a=_0x296efd!==this[_0x428f7a(0x9e8)]['localNode']['getId']()?this[_0x428f7a(0x4d7)]['get'](_0x296efd)[_0x428f7a(0x252)](_0x281d4c):this[_0x428f7a(0x914)][_0x428f7a(0x252)](_0x281d4c),_0x85407a[_0x428f7a(0x263)](_0x5b9462,_0xbb74da[_0x428f7a(0x523)])['update'](_0xbb74da);}[_0x3d1090(0x400)](_0x4cfb76,_0x500beb){const _0x42d26c=_0x3d1090,{ownerId:_0x21245d,label:_0xc4ce0e}=_0x500beb;let _0x56ea49;_0x56ea49=_0x21245d!==this['configs'][_0x42d26c(0x5d3)]['getId']()?this['remoteMediaStreams'][_0x42d26c(0x252)](_0x21245d)[_0x42d26c(0x252)](_0xc4ce0e):this[_0x42d26c(0x914)][_0x42d26c(0x252)](_0xc4ce0e),_0x56ea49[_0x42d26c(0x263)](_0x4cfb76)[_0x42d26c(0x7d0)](_0x500beb);}[_0x3d1090(0x24c)]({id:_0x1cd1a2}){const _0x62d4a1=_0x3d1090;this[_0x62d4a1(0x524)]()['forEach'](_0x53231d=>{const _0x49d96a=_0x62d4a1;_0x53231d[_0x49d96a(0x681)](_0x1cd1a2);});}[_0x3d1090(0x69d)]({id:_0x2e8df4}){const _0x53edbc=_0x3d1090;this[_0x53edbc(0x19d)](_0x4ebbcb=>_0x4ebbcb[_0x53edbc(0x310)]()===_0x2e8df4)['forEach'](_0x25868d=>{const _0xe01279=_0x53edbc;this[_0xe01279(0x2d3)](_0x25868d[_0xe01279(0x310)](),_0x25868d['getLabel']());});}[_0x3d1090(0x36f)]({id:_0x2fb660}){const _0xa46464=_0x3d1090;this[_0xa46464(0x6d8)][_0xa46464(0x7ff)](_0x18c079=>_0x18c079['handleNodeJoin'](_0x2fb660));}[_0x3d1090(0x6b2)]({id:_0x500a78}){const _0x28bff6=_0x3d1090;this['objectStores']['forEach'](_0x4f56f8=>_0x4f56f8[_0x28bff6(0x69d)](_0x500a78));}[_0x3d1090(0x7a1)](_0x260881){const _0x2c5d7d=_0x3d1090;if(!this[_0x2c5d7d(0x51c)][_0x2c5d7d(0x1ac)](_0x260881))throw new _0x4ded08(_0x2c3351[_0x2c5d7d(0x661)],_0x2c5d7d(0xa18));const _0x10fd7a=this[_0x2c5d7d(0x51c)]['get'](_0x260881);this[_0x2c5d7d(0x51c)][_0x2c5d7d(0x54a)](_0x260881),_0x10fd7a[_0x2c5d7d(0x1f8)](),this[_0x2c5d7d(0x9e8)]['mediator'][_0x2c5d7d(0x5ad)](_0x10fd7a);}['removeJobWorker'](_0xcbe28b){const _0x38a711=_0x3d1090;if(!this[_0x38a711(0x421)][_0x38a711(0x1ac)](_0xcbe28b))throw new _0x4ded08(_0x2c3351[_0x38a711(0x290)],_0x38a711(0x67d));const _0x14aac4=this['jobWorkers']['get'](_0xcbe28b);this[_0x38a711(0x421)][_0x38a711(0x54a)](_0xcbe28b),_0x14aac4['destroy'](),this[_0x38a711(0x9e8)]['mediator'][_0x38a711(0x5ad)](_0x14aac4);}[_0x3d1090(0x478)](_0x60b08e){const _0x26745a=_0x3d1090;if(!this[_0x26745a(0x6d8)][_0x26745a(0x1ac)](_0x60b08e))throw new _0x4ded08(_0x2c3351[_0x26745a(0x50e)],_0x26745a(0xa80));const _0x2ad2b4=this[_0x26745a(0x6d8)][_0x26745a(0x252)](_0x60b08e);this['objectStores'][_0x26745a(0x54a)](_0x60b08e),_0x2ad2b4['destroy'](),this[_0x26745a(0x9e8)]['mediator']['unregisterSystemSource'](_0x2ad2b4);}[_0x3d1090(0x2bf)](_0x2b0de4){const _0xb7adcd=_0x3d1090;if(!this['externalStorageConnections'][_0xb7adcd(0x1ac)](_0x2b0de4))throw new _0x4ded08(_0x2c3351['ExternalStorageConnectionDoesNotExist'],_0xb7adcd(0x5e0));const _0x22e35b=this['externalStorageConnections'][_0xb7adcd(0x252)](_0x2b0de4);this[_0xb7adcd(0x306)][_0xb7adcd(0x54a)](_0x2b0de4),_0x22e35b[_0xb7adcd(0x1f8)](),this[_0xb7adcd(0x9e8)][_0xb7adcd(0x93d)][_0xb7adcd(0x5ad)](_0x22e35b);}[_0x3d1090(0x6b1)](_0x195a37){const _0x958aa3=_0x3d1090;if(!this['pubSubTopics']['has'](_0x195a37))throw new _0x4ded08(_0x2c3351['PubSubTopicDoesNotExist'],'Stream\x20does\x20not\x20exist');const _0x267446=this[_0x958aa3(0x75a)]['get'](_0x195a37);this[_0x958aa3(0x75a)][_0x958aa3(0x54a)](_0x195a37),_0x267446['destroy'](),this[_0x958aa3(0x9e8)][_0x958aa3(0x93d)][_0x958aa3(0x5ad)](_0x267446);}['removeKeyValueDatabase'](_0x306f4c){const _0x2b8e0e=_0x3d1090;if(!this[_0x2b8e0e(0xaa6)]['has'](_0x306f4c))throw new _0x4ded08(_0x2c3351[_0x2b8e0e(0x3ef)],_0x2b8e0e(0x6b7));const _0x4f6aa2=this[_0x2b8e0e(0xaa6)][_0x2b8e0e(0x252)](_0x306f4c);this[_0x2b8e0e(0xaa6)][_0x2b8e0e(0x54a)](_0x306f4c),_0x4f6aa2[_0x2b8e0e(0x1f8)](),this[_0x2b8e0e(0x9e8)]['mediator'][_0x2b8e0e(0x5ad)](_0x4f6aa2);}[_0x3d1090(0x5da)](_0x34e4ab){const _0x2d2f6b=_0x3d1090;if(!this[_0x2d2f6b(0x634)][_0x2d2f6b(0x1ac)](_0x34e4ab))throw new _0x4ded08(_0x2c3351[_0x2d2f6b(0xa82)],_0x2d2f6b(0x6b7));const _0x1596e4=this['vectorDatabases'][_0x2d2f6b(0x252)](_0x34e4ab);this[_0x2d2f6b(0x634)][_0x2d2f6b(0x54a)](_0x34e4ab),_0x1596e4['destroy'](),this[_0x2d2f6b(0x9e8)][_0x2d2f6b(0x93d)]['unregisterSystemSource'](_0x1596e4);}[_0x3d1090(0x42e)](_0xecc6aa){const _0x17dfe2=_0x3d1090;if(!this[_0x17dfe2(0x6d9)][_0x17dfe2(0x1ac)](_0xecc6aa))throw new _0x4ded08(_0x2c3351[_0x17dfe2(0x25b)],_0x17dfe2(0x6b7));const _0x4e4993=this[_0x17dfe2(0x6d9)]['get'](_0xecc6aa);this[_0x17dfe2(0x6d9)]['delete'](_0xecc6aa),_0x4e4993[_0x17dfe2(0x1f8)](),this[_0x17dfe2(0x9e8)][_0x17dfe2(0x93d)][_0x17dfe2(0x5ad)](_0x4e4993);}[_0x3d1090(0x2e0)](_0x38803f){const _0x31e519=_0x3d1090;if(!this['localMediaStreams']['has'](_0x38803f))throw new _0x1b9d16(_0x1b9d16[_0x31e519(0x276)][_0x31e519(0x47b)],{'label':_0x38803f,'localId':this[_0x31e519(0x9e8)]['localNode'][_0x31e519(0x79a)]()});const _0x16c1bb=this[_0x31e519(0x914)][_0x31e519(0x252)](_0x38803f);this['configs'][_0x31e519(0x93d)][_0x31e519(0x5ad)](_0x16c1bb),_0x16c1bb['destroy'](),this['localMediaStreams'][_0x31e519(0x54a)](_0x38803f);}[_0x3d1090(0x2d3)](_0x282d8e,_0x325c1c){const _0x4fae7d=_0x3d1090;if(!this[_0x4fae7d(0x4d7)][_0x4fae7d(0x1ac)](_0x282d8e))throw new _0x1b9d16(_0x1b9d16[_0x4fae7d(0x276)][_0x4fae7d(0x852)],{'nodeId':_0x282d8e,'localId':this[_0x4fae7d(0x9e8)][_0x4fae7d(0x5d3)][_0x4fae7d(0x79a)]()});const _0x495246=this[_0x4fae7d(0x4d7)][_0x4fae7d(0x252)](_0x282d8e);if(!_0x495246[_0x4fae7d(0x1ac)](_0x325c1c))throw new _0x1b9d16(_0x1b9d16['codes'][_0x4fae7d(0x3d6)],{'nodeId':_0x282d8e,'label':_0x325c1c,'localId':this['configs']['localNode'][_0x4fae7d(0x79a)]()});const _0x31aefc=_0x495246[_0x4fae7d(0x252)](_0x325c1c);this[_0x4fae7d(0x9e8)]['mediator'][_0x4fae7d(0x5ad)](_0x31aefc),_0x31aefc[_0x4fae7d(0x1f8)](),_0x495246[_0x4fae7d(0x54a)](_0x325c1c);}}var _0x3bf084,_0xa61ce6,_0x5d8331;!function(_0x258315){const _0x37253c=_0x3d1090;_0x258315[_0x37253c(0x59b)]=_0x37253c(0x978),_0x258315['DTVolatility']=_0x37253c(0x31f),_0x258315[_0x37253c(0x997)]='time_per_frame',_0x258315[_0x37253c(0x370)]=_0x37253c(0x493),_0x258315['Jitter']=_0x37253c(0x1e0),_0x258315[_0x37253c(0x859)]=_0x37253c(0x42c),_0x258315[_0x37253c(0x881)]='rtt',_0x258315[_0x37253c(0x793)]=_0x37253c(0x596);}(_0x3bf084||(_0x3bf084={})),function(_0x10d2ec){const _0x4cff53=_0x3d1090;_0x10d2ec[_0x4cff53(0x553)]=_0x4cff53(0x1ba),_0x10d2ec[_0x4cff53(0x997)]=_0x4cff53(0x8f5),_0x10d2ec[_0x4cff53(0x793)]='cpu.av_delay',_0x10d2ec['FramePerSecond']=_0x4cff53(0x85a),_0x10d2ec[_0x4cff53(0x370)]='bandwidth.bitrate',_0x10d2ec[_0x4cff53(0x42a)]='bandwidth.jitter',_0x10d2ec[_0x4cff53(0x881)]=_0x4cff53(0x253);}(_0xa61ce6||(_0xa61ce6={})),function(_0x40b4fc){const _0x2db5cf=_0x3d1090;_0x40b4fc[_0x40b4fc[_0x2db5cf(0x31a)]=0x0]=_0x2db5cf(0x31a);}(_0x5d8331||(_0x5d8331={}));const _0x3eb27d=[{'type':_0x3bf084[_0x3d1090(0x59b)],'reportMetric':_0x2f545c=>_0x2f545c['STVolatility'],'maxThreshold':2.5},{'type':_0x3bf084[_0x3d1090(0x80d)],'reportMetric':_0xccb8da=>_0xccb8da[_0x3d1090(0x80d)],'maxThreshold':0.5}],_0x53c9ee=[{'type':_0x3bf084[_0x3d1090(0x997)],'reportMetric':_0x4f3fec=>{const _0x38f871=_0x3d1090,_0x127417=0x3e8/_0x4f3fec[_0x38f871(0x268)];return _0x4f3fec[_0x38f871(0xa34)]/_0x127417;},'maxThreshold':0.75},{'type':_0x3bf084['Bitrate'],'reportMetric':_0x59e1aa=>{const _0x29e370=_0x3d1090,_0x3feea7=_0x59e1aa[_0x29e370(0x268)]*_0x59e1aa['frameWidth']*_0x59e1aa['frameHeight']*0.12;return _0x59e1aa[_0x29e370(0x493)]/_0x3feea7;},'minThreshold':0.25},{'type':_0x3bf084['Jitter'],'reportMetric':_0x4f9dfe=>_0x4f9dfe['jitter'],'maxThreshold':0.6},{'type':_0x3bf084[_0x3d1090(0x859)],'reportMetric':_0x5619e4=>_0x5619e4[_0x3d1090(0x268)],'minThreshold':0xa}],_0x5f5114=[{'type':_0x3bf084['Jitter'],'reportMetric':_0x3eb8f4=>_0x3eb8f4['jitter'],'maxThreshold':0.6}],_0x18269d=[{'type':_0x3bf084[_0x3d1090(0x881)],'reportMetric':_0x236310=>_0x236310[_0x3d1090(0x558)],'maxThreshold':0x1/0x0}],_0x505a1e=[{'type':_0x3bf084[_0x3d1090(0x793)],'reportMetric':_0x54da42=>_0x54da42[_0x3d1090(0x793)],'maxThreshold':0x12c}],_0x48f08d=[{'type':_0xa61ce6[_0x3d1090(0x553)],'issues':[{'type':_0x3bf084[_0x3d1090(0x59b)],'threshold':0x5},{'type':_0x3bf084['DTVolatility'],'threshold':0x5}]},{'type':_0xa61ce6[_0x3d1090(0x997)],'issues':[{'type':_0x3bf084['TimePerFrame'],'threshold':0x3}]},{'type':_0xa61ce6[_0x3d1090(0x793)],'issues':[{'type':_0x3bf084[_0x3d1090(0x793)],'threshold':0x2}]},{'type':_0xa61ce6[_0x3d1090(0x859)],'issues':[{'type':_0x3bf084[_0x3d1090(0x859)],'threshold':0x3}]},{'type':_0xa61ce6[_0x3d1090(0x370)],'issues':[{'type':_0x3bf084['Bitrate'],'threshold':0x3}]},{'type':_0xa61ce6[_0x3d1090(0x42a)],'issues':[{'type':_0x3bf084[_0x3d1090(0x42a)],'threshold':0x3}]},{'type':_0xa61ce6[_0x3d1090(0x881)],'issues':[{'type':_0x3bf084[_0x3d1090(0x881)],'threshold':0x3}]}];var _0x51b97e,_0x1f44eb;!function(_0x18d138){const _0x396afb=_0x3d1090;_0x18d138[_0x18d138[_0x396afb(0x6c5)]=0x0]=_0x396afb(0x6c5),_0x18d138[_0x18d138[_0x396afb(0x6f7)]=0x1]='LocalReport';}(_0x51b97e||(_0x51b97e={}));class _0xd713a5{['configs'];[_0x3d1090(0x4cd)]=[];[_0x3d1090(0x613)];constructor(_0x8d7f6d){const _0x1aa950=_0x3d1090;this[_0x1aa950(0x9e8)]=_0x8d7f6d,this['configs'][_0x1aa950(0x93d)]['registerSystemSource'](this);}[_0x3d1090(0x60f)](_0x3937f5){this['systemTopic']=_0x3937f5;}[_0x3d1090(0x7b7)](){const _0x501ebc=_0x3d1090;this[_0x501ebc(0x613)]=void 0x0;}[_0x3d1090(0x8d5)](){const _0x53eb84=_0x3d1090;this['configs']['mediator']['unregisterSystemSource'](this),this[_0x53eb84(0x4cd)]=[];}[_0x3d1090(0x83f)](_0x44d74e){const _0x162702=_0x3d1090;switch(_0x44d74e[_0x162702(0x1d7)]['type']){case _0x51b97e[_0x162702(0x6f7)]:this[_0x162702(0x87a)](_0x44d74e[_0x162702(0x1d7)]['data']);break;case _0x51b97e['StreamReport']:this[_0x162702(0x45f)](_0x44d74e[_0x162702(0x1d7)]['data']);}}[_0x3d1090(0x806)](_0x379688,_0x96ef8,_0x316b16,_0x18f58f){const _0x1dd7d0=_0x3d1090,_0x4f92dd=_0x48f08d[_0x1dd7d0(0x447)](_0x196bbf=>_0x196bbf[_0x1dd7d0(0x4cd)]['some'](_0xdaaee8=>_0xdaaee8[_0x1dd7d0(0x88c)]===_0x379688));_0x18f58f>=_0x4f92dd[_0x1dd7d0(0x4cd)][_0x1dd7d0(0x447)](_0x57cae7=>_0x57cae7['type']===_0x379688)[_0x1dd7d0(0x25c)]&&(this[_0x1dd7d0(0xa8f)](_0x4f92dd['type'],_0x96ef8,_0x316b16),this['issues']=this[_0x1dd7d0(0x4cd)]['filter'](_0x4d80be=>!(_0x4d80be[_0x1dd7d0(0x88c)]===_0x379688&&_0x4d80be[_0x1dd7d0(0x7a3)]===_0x96ef8&&_0x4d80be[_0x1dd7d0(0x38c)]===_0x316b16)));}[_0x3d1090(0x87a)](_0x177582){const _0x28cd4f=_0x3d1090;_0x3eb27d[_0x28cd4f(0x7ff)](_0x8e204a=>{const _0x2e7854=_0x28cd4f,_0xe6e2ca=_0x8e204a[_0x2e7854(0x30f)](_0x177582);_0x8e204a['maxThreshold']&&_0xe6e2ca>_0x8e204a['maxThreshold']&&this['addIssue'](_0x8e204a[_0x2e7854(0x88c)],this[_0x2e7854(0x9e8)][_0x2e7854(0x5d3)][_0x2e7854(0x79a)](),_0x39d673[_0x2e7854(0x500)],_0xe6e2ca),_0x8e204a[_0x2e7854(0x4fe)]&&_0xe6e2ca<_0x8e204a[_0x2e7854(0x4fe)]&&this['addIssue'](_0x8e204a['type'],this['configs'][_0x2e7854(0x5d3)][_0x2e7854(0x79a)](),_0x39d673[_0x2e7854(0x500)],_0xe6e2ca);});}[_0x3d1090(0x45f)](_0xfd8bc3){const _0x3ec0d9=_0x3d1090;let _0x4ae737=[];switch(_0xfd8bc3[_0x3ec0d9(0x38c)]){case _0x39d673['Sender']:_0x4ae737=_0x18269d;break;case _0x39d673[_0x3ec0d9(0x3ab)]:_0x4ae737=_0x505a1e;}_0xfd8bc3[_0x3ec0d9(0x4c4)]&&this[_0x3ec0d9(0x7dd)](_0xfd8bc3['nodeId'],_0x39d673[_0x3ec0d9(0x500)],_0xfd8bc3[_0x3ec0d9(0x4c4)]),_0xfd8bc3[_0x3ec0d9(0x83c)]&&this['detectAudioIssues'](_0xfd8bc3[_0x3ec0d9(0x7a3)],_0x39d673[_0x3ec0d9(0x500)],_0xfd8bc3['audio']),_0x4ae737[_0x3ec0d9(0x7ff)](_0x39915b=>{const _0x1b747f=_0x3ec0d9,_0x2a4e90=_0x39915b['reportMetric'](_0xfd8bc3);_0x39915b[_0x1b747f(0x550)]&&_0x2a4e90>_0x39915b['maxThreshold']&&this[_0x1b747f(0x218)](_0x39915b[_0x1b747f(0x88c)],_0xfd8bc3['nodeId'],_0x39d673[_0x1b747f(0x500)],_0x2a4e90),_0x39915b[_0x1b747f(0x4fe)]&&_0x2a4e90<_0x39915b[_0x1b747f(0x4fe)]&&this[_0x1b747f(0x218)](_0x39915b[_0x1b747f(0x88c)],_0xfd8bc3[_0x1b747f(0x7a3)],_0x39d673[_0x1b747f(0x500)],_0x2a4e90);});}[_0x3d1090(0x7dd)](_0x2b6864,_0x292b4f,_0x12e40f){0x0!==_0x12e40f['bitrate']&&_0x53c9ee['forEach'](_0x228390=>{const _0x45e629=a0_0x50c4,_0x8cc426=_0x228390['reportMetric'](_0x12e40f);_0x228390['maxThreshold']&&_0x8cc426>_0x228390[_0x45e629(0x550)]&&this[_0x45e629(0x218)](_0x228390[_0x45e629(0x88c)],_0x2b6864,_0x292b4f,_0x8cc426,_0x45e629(0x4c4)),_0x228390[_0x45e629(0x4fe)]&&_0x8cc426<_0x228390['minThreshold']&&this[_0x45e629(0x218)](_0x228390[_0x45e629(0x88c)],_0x2b6864,_0x292b4f,_0x8cc426,_0x45e629(0x4c4));});}[_0x3d1090(0x3a9)](_0x4998e5,_0x3fc7c1,_0x59ef36){const _0x551cae=_0x3d1090;0x0!==_0x59ef36[_0x551cae(0x493)]&&_0x5f5114['forEach'](_0x24b68f=>{const _0x5d5f9f=_0x551cae,_0x3aafec=_0x24b68f['reportMetric'](_0x59ef36);_0x24b68f[_0x5d5f9f(0x550)]&&_0x3aafec>_0x24b68f['maxThreshold']&&this[_0x5d5f9f(0x218)](_0x24b68f[_0x5d5f9f(0x88c)],_0x4998e5,_0x3fc7c1,_0x3aafec,_0x5d5f9f(0x83c)),_0x24b68f['minThreshold']&&_0x3aafec<_0x24b68f[_0x5d5f9f(0x4fe)]&&this[_0x5d5f9f(0x218)](_0x24b68f[_0x5d5f9f(0x88c)],_0x4998e5,_0x3fc7c1,_0x3aafec,_0x5d5f9f(0x83c));});}[_0x3d1090(0x218)](_0x3d5b7c,_0x96e3ef,_0xf81d1a,_0x5e9bca,_0x258393){const _0x1ab100=_0x3d1090;_0x3dc4e5[_0x1ab100(0x546)](_0x5a543d[_0x1ab100(0x440)],'Issue\x20detected:\x20'+_0x3d5b7c,_0x3d5b7c,_0x5e9bca),_0x3dc4e5['logEvent']('issue',{'clusterId':this[_0x1ab100(0x9e8)][_0x1ab100(0xa3c)],'nodeId':this[_0x1ab100(0x9e8)][_0x1ab100(0x5d3)]['getId'](),'nodeType':this[_0x1ab100(0x9e8)][_0x1ab100(0x5d3)][_0x1ab100(0x88c)],'remoteId':_0x96e3ef,'data':{'type':_0x3d5b7c,'value':_0x5e9bca,'kind':_0x258393}}),this['issues']=this['issues'][_0x1ab100(0x25d)](_0x58246b=>Date[_0x1ab100(0x267)]()-_0x58246b[_0x1ab100(0xa8a)]<0x7530),this[_0x1ab100(0x4cd)][_0x1ab100(0xa93)]({'timestamp':Date[_0x1ab100(0x267)](),'type':_0x3d5b7c,'nodeId':_0x96e3ef,'origin':_0xf81d1a,'value':_0x5e9bca,'kind':_0x258393});const _0x499aa1=this[_0x1ab100(0x4cd)]['filter'](_0x5af663=>_0x5af663[_0x1ab100(0x88c)]===_0x3d5b7c&&_0x5af663[_0x1ab100(0x7a3)]===_0x96e3ef&&_0x5af663[_0x1ab100(0x38c)]===_0xf81d1a)[_0x1ab100(0x73c)];this[_0x1ab100(0x806)](_0x3d5b7c,_0x96e3ef,_0xf81d1a,_0x499aa1);}[_0x3d1090(0xa8f)](_0x10e423,_0x1dfba4,_0x1e168b){const _0x1c3dad=_0x3d1090;_0x3dc4e5[_0x1c3dad(0x546)](_0x5a543d['Detection'],_0x1c3dad(0x7ce)+_0x10e423),_0x3dc4e5[_0x1c3dad(0x369)](_0x1c3dad(0x8e7),{'clusterId':this[_0x1c3dad(0x9e8)][_0x1c3dad(0xa3c)],'nodeId':this[_0x1c3dad(0x9e8)][_0x1c3dad(0x5d3)][_0x1c3dad(0x79a)](),'nodeType':this['configs'][_0x1c3dad(0x5d3)][_0x1c3dad(0x88c)],'remoteId':_0x1dfba4,'data':{'type':_0x10e423}}),this['systemTopic']?.[_0x1c3dad(0x681)]({'sourceId':_0x22135a,'messageType':_0x17c3e2['Detection'],'content':{'type':_0x5d8331[_0x1c3dad(0x31a)],'data':{'timestamp':Date[_0x1c3dad(0x267)](),'nodeId':_0x1dfba4,'origin':_0x39d673['Sender'],'type':_0x10e423}}});}}class _0x46dd6a extends _0x5e40a9{[_0x3d1090(0x88c)]=_0x25b155[_0x3d1090(0xa14)][_0x3d1090(0x7ae)];}class _0x24aa6c extends _0x46dd6a{['systemTopic'];[_0x3d1090(0x9f4)]=Date[_0x3d1090(0x267)]();['updateDebounceTimeout'];['lastUpdated'];[_0x3d1090(0x8d5)](){const _0x51cf05=_0x3d1090;this[_0x51cf05(0x895)]&&(clearTimeout(this[_0x51cf05(0x895)]),delete this[_0x51cf05(0x895)]),delete this['lastUpdated'],this[_0x51cf05(0x9f4)]=Date[_0x51cf05(0x267)](),super[_0x51cf05(0x8d5)]();}[_0x3d1090(0x60f)](_0x273efa){this['systemTopic']=_0x273efa;}[_0x3d1090(0x7b7)](){const _0x2168b7=_0x3d1090;delete this[_0x2168b7(0x613)];}[_0x3d1090(0x6da)](_0x55e84b){const _0x517365=_0x3d1090;!this[_0x517365(0x895)]&&this[_0x517365(0x3d8)]&&this['systemTopic']['publish']({'sourceId':this['id'],'destinationIds':[_0x55e84b],'propagate':!0x0,'messageType':_0x17c3e2['Node'],'content':{'type':_0x1a2879[_0x517365(0x73e)],'id':this['id'],'metaData':{'type':this[_0x517365(0x88c)]},'rank':this[_0x517365(0x68a)](),'remoteConnections':Array[_0x517365(0x2bc)](this[_0x517365(0x983)]),'version':this['currentVersion']}});}[_0x3d1090(0x8a5)](_0x4c9bad){const _0x47cdcc=_0x3d1090;this[_0x47cdcc(0x983)][_0x47cdcc(0x1ac)](_0x4c9bad)||(this['remoteConnections'][_0x47cdcc(0x691)](_0x4c9bad),this[_0x47cdcc(0x3c5)](),this[_0x47cdcc(0x361)](!0x0));}['removeRemoteConnection'](_0x42fc70){const _0x13cc24=_0x3d1090;this[_0x13cc24(0x983)][_0x13cc24(0x1ac)](_0x42fc70)&&(this[_0x13cc24(0x983)][_0x13cc24(0x54a)](_0x42fc70),this[_0x13cc24(0x3c5)](),this['publishUserUpdate'](!0x0));}[_0x3d1090(0x64d)](){const _0x512fe=_0x3d1090;return this[_0x512fe(0x9f4)];}[_0x3d1090(0x566)](_0xeb3799,_0x46d4fe=!0x0){const _0x4df8ff=_0x3d1090;this['rank']!==_0xeb3799&&(this[_0x4df8ff(0x3d8)]=_0xeb3799,_0x46d4fe&&(this['incrementVersion'](),this[_0x4df8ff(0x361)]()));}[_0x3d1090(0x3c5)](){const _0x42f13f=_0x3d1090;this[_0x42f13f(0x9f4)]=Date[_0x42f13f(0x267)]();}[_0x3d1090(0x361)](_0x4e5a10=!0x1){const _0x202d46=_0x3d1090;if(this[_0x202d46(0x3d8)]){if(this['lastUpdated']||(this[_0x202d46(0x502)]=Date[_0x202d46(0x267)]()),this[_0x202d46(0x895)]){if(Date['now']()-this[_0x202d46(0x502)]>0x2328)return;clearTimeout(this[_0x202d46(0x895)]);}this['updateDebounceTimeout']=setTimeout(()=>{const _0x4fd1d7=_0x202d46;delete this[_0x4fd1d7(0x502)],delete this['updateDebounceTimeout'],this['systemTopic'][_0x4fd1d7(0x681)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x17c3e2['Node'],'content':{'type':_0x4e5a10?_0x1a2879[_0x4fd1d7(0x655)]:_0x1a2879['NodeUpdate'],'id':this['id'],'metaData':{'type':this['type']},'rank':this[_0x4fd1d7(0x68a)](),'remoteConnections':Array['from'](this[_0x4fd1d7(0x983)]),'version':this[_0x4fd1d7(0x9f4)]}});},0x3e8);}}}class _0x4a1f0d extends _0x3d9db2{[_0x3d1090(0x613)];[_0x3d1090(0x9f4)]=Date[_0x3d1090(0x267)]();[_0x3d1090(0x895)];[_0x3d1090(0x502)];[_0x3d1090(0x8d5)](){const _0x67d80d=_0x3d1090;this['updateDebounceTimeout']&&(clearTimeout(this[_0x67d80d(0x895)]),delete this[_0x67d80d(0x895)]),delete this[_0x67d80d(0x502)],this[_0x67d80d(0x9f4)]=Date['now'](),super[_0x67d80d(0x8d5)]();}[_0x3d1090(0x60f)](_0x1b6b71){const _0x3eadb6=_0x3d1090;this[_0x3eadb6(0x613)]=_0x1b6b71;}['unregisterSystemPublisher'](){delete this['systemTopic'];}[_0x3d1090(0x6da)](_0x4398ef){const _0x1e54ae=_0x3d1090;!this[_0x1e54ae(0x895)]&&this[_0x1e54ae(0x3d8)]&&this[_0x1e54ae(0x613)][_0x1e54ae(0x681)]({'sourceId':this['id'],'destinationIds':[_0x4398ef],'propagate':!0x0,'messageType':_0x17c3e2['Node'],'content':{'type':_0x1a2879[_0x1e54ae(0x73e)],'id':this['id'],'metaData':{'type':this['type'],'displayName':this[_0x1e54ae(0x94e)](),'email':this['getEmail']()},'rank':this[_0x1e54ae(0x68a)](),'remoteConnections':Array[_0x1e54ae(0x2bc)](this[_0x1e54ae(0x983)]),'version':this[_0x1e54ae(0x9f4)]}});}[_0x3d1090(0x8a5)](_0x15e44d){const _0x38ba59=_0x3d1090;this['remoteConnections'][_0x38ba59(0x1ac)](_0x15e44d)||(this['remoteConnections']['add'](_0x15e44d),this['incrementVersion'](),this[_0x38ba59(0x361)](!0x0));}[_0x3d1090(0x9ab)](_0x1cee25){const _0x57856c=_0x3d1090;this[_0x57856c(0x983)][_0x57856c(0x1ac)](_0x1cee25)&&(this[_0x57856c(0x983)][_0x57856c(0x54a)](_0x1cee25),this[_0x57856c(0x3c5)](),this[_0x57856c(0x361)](!0x0));}[_0x3d1090(0x64d)](){const _0x51be5=_0x3d1090;return this[_0x51be5(0x9f4)];}[_0x3d1090(0x437)](_0x542e4c){const _0x582c16=_0x3d1090;this[_0x582c16(0x63c)]!==_0x542e4c&&(this[_0x582c16(0x63c)]=_0x542e4c,this[_0x582c16(0x3c5)](),this[_0x582c16(0x361)]());}[_0x3d1090(0x88a)](_0x3151cb){const _0x5099f2=_0x3d1090;this[_0x5099f2(0x97c)]!==_0x3151cb&&(this[_0x5099f2(0x97c)]=_0x3151cb,this['incrementVersion'](),this['publishUserUpdate']());}[_0x3d1090(0x566)](_0x39e1d2,_0xed3a5=!0x0){const _0x1b8d83=_0x3d1090;this[_0x1b8d83(0x3d8)]!==_0x39e1d2&&(this[_0x1b8d83(0x3d8)]=_0x39e1d2,_0xed3a5&&(this[_0x1b8d83(0x3c5)](),this[_0x1b8d83(0x361)]()));}[_0x3d1090(0x3c5)](){const _0x4e43c5=_0x3d1090;this[_0x4e43c5(0x9f4)]=Date['now']();}[_0x3d1090(0x361)](_0x6e04a5=!0x1){const _0x155fbb=_0x3d1090;if(this['rank']){if(this[_0x155fbb(0x502)]||(this[_0x155fbb(0x502)]=Date[_0x155fbb(0x267)]()),this[_0x155fbb(0x895)]){if(Date[_0x155fbb(0x267)]()-this[_0x155fbb(0x502)]>0x2328)return;clearTimeout(this[_0x155fbb(0x895)]);}this[_0x155fbb(0x895)]=setTimeout(()=>{const _0x271fb9=_0x155fbb;delete this['lastUpdated'],delete this[_0x271fb9(0x895)],this[_0x271fb9(0x613)][_0x271fb9(0x681)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x17c3e2[_0x271fb9(0x3e6)],'content':{'type':_0x6e04a5?_0x1a2879[_0x271fb9(0x655)]:_0x1a2879[_0x271fb9(0x73e)],'id':this['id'],'metaData':{'type':this[_0x271fb9(0x88c)],'displayName':this[_0x271fb9(0x94e)](),'email':this['getEmail']()},'rank':this['getRank'](),'remoteConnections':Array[_0x271fb9(0x2bc)](this['remoteConnections']),'version':this[_0x271fb9(0x9f4)]}});},0x3e8);}}}class _0x310116{['id'];[_0x3d1090(0x861)];['vendorId'];[_0x3d1090(0x7c0)];[_0x3d1090(0x88c)]=_0x25b155[_0x3d1090(0xa14)]['Agent'];[_0x3d1090(0x59d)];constructor(_0x389d91,_0x3be523,_0x3b25e5,_0x447992){const _0x2cfc85=_0x3d1090;this['id']=_0x389d91,this[_0x2cfc85(0x861)]=_0x3be523,this[_0x2cfc85(0x43c)]=_0x3b25e5,this[_0x2cfc85(0x7c0)]=_0x447992;}[_0x3d1090(0x79a)](){return this['id'];}[_0x3d1090(0x8e9)](_0x32e9de){const _0x1823be=_0x3d1090,_0x4407cb=(0x0,_0x11d3a3[_0x1823be(0x422)])((0x0,_0x11d3a3[_0x1823be(0x713)])(_0x2f14fd['getFirestore'](),'developers/'+this[_0x1823be(0x43c)]+_0x1823be(0x4b2)+this[_0x1823be(0x861)]),_0x2c70f9=>{const _0x3b8163=_0x1823be;if(_0x2c70f9['exists']()){const _0x31b395=_0x2c70f9[_0x3b8163(0xa3d)]();if(this[_0x3b8163(0x7c0)][_0x3b8163(0xa8a)]['isEqual'](_0x31b395['timestamp']))return;_0x3dc4e5[_0x3b8163(0x546)](_0x5a543d[_0x3b8163(0x3e6)],'agent-config-changed',{'agentId':this['id'],'groupId':this[_0x3b8163(0x861)],'oldConfig':this['agentConfig'],'newConfig':_0x31b395}),this[_0x3b8163(0x7c0)]=_0x31b395,_0x32e9de();}});return()=>_0x4407cb();}[_0x3d1090(0x32f)](_0x8276d4){const _0x1c6b40=_0x3d1090;return this['reportCapacity'](this[_0x1c6b40(0x861)],_0x8276d4),_0x5aa24a[_0x1c6b40(0x8e2)](()=>this[_0x1c6b40(0x7ad)](this[_0x1c6b40(0x861)],_0x8276d4),0x7530);}[_0x3d1090(0x650)](){const _0x3cb51f=_0x3d1090;if(!this[_0x3cb51f(0x59d)])throw new _0x1b9d16(_0x1b9d16[_0x3cb51f(0x276)][_0x3cb51f(0xa21)]);return this['lastCapacityReport'];}async[_0x3d1090(0x7ad)](_0x4d8da9,_0x5a445c){const _0x1376be=_0x3d1090,_0x179e27=await _0x5a445c();this[_0x1376be(0x59d)]=_0x179e27,await(0x0,_0x11d3a3[_0x1376be(0x2c1)])((0x0,_0x11d3a3[_0x1376be(0x41d)])(_0x2f14fd[_0x1376be(0x78d)](),'developers/'+this['vendorId']+_0x1376be(0x8fa)),{'agentId':this['id'],'groupId':_0x4d8da9,'timestamp':(0x0,_0x11d3a3[_0x1376be(0x20d)])(),'capacity':_0x179e27});}}!function(_0x55111f){const _0x36814d=_0x3d1090;_0x55111f[_0x55111f['Online']=0x0]=_0x36814d(0x37d),_0x55111f[_0x55111f[_0x36814d(0x6ec)]=0x1]=_0x36814d(0x6ec);}(_0x1f44eb||(_0x1f44eb={}));class _0x1d682e extends _0x46dd6a{[_0x3d1090(0x9f4)];[_0x3d1090(0x479)]=_0x1f44eb['Online'];[_0x3d1090(0x502)]=Date[_0x3d1090(0x267)]();constructor(_0x52d802,_0x10bad1=new Set(),_0x229ce2,_0x4281db){const _0x39e679=_0x3d1090;super(_0x52d802,_0x10bad1,_0x4281db),this[_0x39e679(0x9f4)]=_0x229ce2;}[_0x3d1090(0x64d)](){const _0x252899=_0x3d1090;return this[_0x252899(0x9f4)];}[_0x3d1090(0x4f6)](){const _0x2edf34=_0x3d1090;return this[_0x2edf34(0x479)];}[_0x3d1090(0x76d)](){const _0x30b2f6=_0x3d1090;return this[_0x30b2f6(0x502)];}[_0x3d1090(0x566)](_0x734f77){const _0x56a430=_0x3d1090;this[_0x56a430(0x3d8)]!==_0x734f77&&(this[_0x56a430(0x3d8)]=_0x734f77,this['updateLastUpdated']());}[_0x3d1090(0x801)](_0x10c502){const _0x2f6457=_0x3d1090;let _0x545479=!0x1;for(const _0x3b0233 of this['remoteConnections'])_0x10c502['includes'](_0x3b0233)||(_0x545479=!0x0,this['remoteConnections']['delete'](_0x3b0233));for(const _0x43dfc0 of _0x10c502)this[_0x2f6457(0x983)]['has'](_0x43dfc0)||(_0x545479=!0x0,this['remoteConnections']['add'](_0x43dfc0));_0x545479&&this[_0x2f6457(0x5fb)]();}[_0x3d1090(0x55d)](_0x5a08fa){const _0x3487d5=_0x3d1090;this[_0x3487d5(0x9f4)]!==_0x5a08fa&&(this['currentVersion']=_0x5a08fa,this[_0x3487d5(0x5fb)]());}[_0x3d1090(0x6ba)](_0x32fd06){const _0x1a267d=_0x3d1090;this['status']!==_0x32fd06&&(this[_0x1a267d(0x479)]=_0x32fd06,this['updateLastUpdated'](),_0x32fd06===_0x1f44eb[_0x1a267d(0x6ec)]&&this[_0x1a267d(0x8d5)]());}[_0x3d1090(0x5fb)](){this['lastUpdated']=Date['now']();}}class _0x2c323c extends _0x3d9db2{[_0x3d1090(0x9f4)];[_0x3d1090(0x479)]=_0x1f44eb['Online'];[_0x3d1090(0x502)]=Date[_0x3d1090(0x267)]();constructor(_0x2b5198,_0x1ac48e,_0x5194af,_0x27970a=new Set(),_0x188645,_0x985e2b){super(_0x2b5198,_0x1ac48e,_0x5194af,_0x27970a,_0x985e2b),this['currentVersion']=_0x188645;}[_0x3d1090(0x64d)](){const _0x482e8e=_0x3d1090;return this[_0x482e8e(0x9f4)];}[_0x3d1090(0x4f6)](){const _0x5ce395=_0x3d1090;return this[_0x5ce395(0x479)];}[_0x3d1090(0x76d)](){const _0x4a6e5f=_0x3d1090;return this[_0x4a6e5f(0x502)];}[_0x3d1090(0x437)](_0x33a55c){const _0x27d4d1=_0x3d1090;this['displayName']!==_0x33a55c&&(this[_0x27d4d1(0x63c)]=_0x33a55c,this['updateLastUpdated']());}['setEmail'](_0x553a2c){const _0x23a02c=_0x3d1090;this[_0x23a02c(0x97c)]!==_0x553a2c&&(this['email']=_0x553a2c,this[_0x23a02c(0x5fb)]());}['setRank'](_0x30cb3a){const _0x39d97e=_0x3d1090;this[_0x39d97e(0x3d8)]!==_0x30cb3a&&(this[_0x39d97e(0x3d8)]=_0x30cb3a,this[_0x39d97e(0x5fb)]());}['setRemoteConnections'](_0x3eeb58){const _0x357169=_0x3d1090;let _0x33fb9c=!0x1;for(const _0x4a580 of this[_0x357169(0x983)])_0x3eeb58[_0x357169(0x1e2)](_0x4a580)||(_0x33fb9c=!0x0,this['remoteConnections'][_0x357169(0x54a)](_0x4a580));for(const _0x71fcd4 of _0x3eeb58)this['remoteConnections'][_0x357169(0x1ac)](_0x71fcd4)||(_0x33fb9c=!0x0,this['remoteConnections']['add'](_0x71fcd4));_0x33fb9c&&this[_0x357169(0x5fb)]();}[_0x3d1090(0x55d)](_0x1e8fb1){const _0x4d24a6=_0x3d1090;this[_0x4d24a6(0x9f4)]!==_0x1e8fb1&&(this[_0x4d24a6(0x9f4)]=_0x1e8fb1,this[_0x4d24a6(0x5fb)]());}[_0x3d1090(0x6ba)](_0x172b51){const _0x2388c4=_0x3d1090;this['status']!==_0x172b51&&(this['status']=_0x172b51,this[_0x2388c4(0x5fb)](),_0x172b51===_0x1f44eb[_0x2388c4(0x6ec)]&&this['close']());}[_0x3d1090(0x5fb)](){this['lastUpdated']=Date['now']();}}class _0x6405bc{[_0x3d1090(0x43c)];[_0x3d1090(0xa3c)];[_0x3d1090(0x5d3)];[_0x3d1090(0x509)];[_0x3d1090(0x5ab)]=_0x2d1d0b();[_0x3d1090(0x754)];[_0x3d1090(0x465)];[_0x3d1090(0x43e)];[_0x3d1090(0x5bb)]=!0x1;['clusterKey'];[_0x3d1090(0x9d4)];constructor(_0x10404d,_0x59e40a,_0x5b0db6,_0xdb818d){const _0x37301e=_0x3d1090;this['vendorId']=_0x10404d,this[_0x37301e(0xa3c)]=_0x59e40a,this[_0x37301e(0x5d3)]=_0x5b0db6,this[_0x37301e(0x509)]=_0xdb818d,this[_0x37301e(0x296)]=_0x37301e(0x6df)+this[_0x37301e(0x43c)]+'ccc'+this['clusterId'],this[_0x37301e(0x9d4)]=_0x37301e(0x6df)+this[_0x37301e(0x43c)]+_0x37301e(0x6df)+this[_0x37301e(0x5d3)][_0x37301e(0x79a)](),this[_0x37301e(0x754)]=(0x0,_0x580970[_0x37301e(0x3af)])((0x0,_0x580970[_0x37301e(0x5fd)])(_0x2f14fd[_0x37301e(0xaa8)](),_0x37301e(0x900)),_0x7168e0=>{const _0x3e4456=_0x37301e;!0x0!==_0x7168e0[_0x3e4456(0x4e6)]()?this[_0x3e4456(0x5bb)]&&_0x3dc4e5[_0x3e4456(0x58c)](_0x3e4456(0x922),{'clusterId':this[_0x3e4456(0xa3c)],'nodeId':this['localNode'][_0x3e4456(0x79a)](),'nodeType':this[_0x3e4456(0x5d3)][_0x3e4456(0x88c)]}):(this[_0x3e4456(0x5bb)]=!0x0,this[_0x3e4456(0x1ab)](),_0x3dc4e5[_0x3e4456(0x236)]('firebase-connect',{'clusterId':this[_0x3e4456(0xa3c)],'nodeId':this['localNode'][_0x3e4456(0x79a)](),'nodeType':this[_0x3e4456(0x5d3)][_0x3e4456(0x88c)]}));});}async['join'](){const _0x1781b4=_0x3d1090;await this[_0x1781b4(0x777)]();const _0x2a9aae=await this[_0x1781b4(0x622)]();return this[_0x1781b4(0x465)]=(0x0,_0x580970[_0x1781b4(0x354)])((0x0,_0x580970[_0x1781b4(0x5fd)])(_0x2f14fd['getDatabase'](),_0x1781b4(0x876)+this[_0x1781b4(0x296)]+_0x1781b4(0x6fa)),_0x3ffe73=>{const _0x3137c4=_0x1781b4,_0x49bcaa=_0x3ffe73[_0x3137c4(0x3ae)];if(!_0x49bcaa)return;const _0x2df9c3=_0x49bcaa[_0x3137c4(0x9de)](_0x3137c4(0x6df)+this[_0x3137c4(0x43c)]+_0x3137c4(0x6df),'');this[_0x3137c4(0x5ab)]['publish'](_0x2df9c3);}),_0x2a9aae;}async[_0x3d1090(0x8d5)](){const _0x1c9524=_0x3d1090;this[_0x1c9524(0x465)]?.(),delete this[_0x1c9524(0x465)],this['onDisconnectHandler']?.[_0x1c9524(0x76a)](),delete this['onDisconnectHandler'],this['firebaseUnsubscriber']?.(),delete this[_0x1c9524(0x754)],await(0x0,_0x580970[_0x1c9524(0x833)])((0x0,_0x580970['ref'])(_0x2f14fd[_0x1c9524(0xaa8)](),_0x1c9524(0x876)+this[_0x1c9524(0x296)]+_0x1c9524(0x473)+this['nodeKey']));}[_0x3d1090(0x241)](_0x283c16){const _0x3a66ca=_0x3d1090;return this[_0x3a66ca(0x5ab)][_0x3a66ca(0x81b)](_0x283c16);}async['getAncestors'](){const _0x32480c=_0x3d1090,_0x31baa8=[],_0x452ead=await(0x0,_0x580970[_0x32480c(0x252)])((0x0,_0x580970[_0x32480c(0x5fd)])(_0x2f14fd[_0x32480c(0xaa8)](),_0x32480c(0x876)+this['clusterKey']+_0x32480c(0x6fa))),_0x335559=[];return _0x452ead[_0x32480c(0x7ff)](_0x12f66d=>{const _0x2be23f=_0x32480c,_0x46e16d=_0x12f66d[_0x2be23f(0x3ae)]?.[_0x2be23f(0x9de)](_0x2be23f(0x6df)+this['vendorId']+_0x2be23f(0x6df),'');_0x335559[_0x2be23f(0xa93)]({'id':_0x46e16d,'joinedAt':_0x12f66d[_0x2be23f(0x4e6)]()[_0x2be23f(0x5ff)],'priority':_0x12f66d[_0x2be23f(0x4e6)]()['priority']});}),_0x335559[_0x32480c(0xa08)]((_0x179b33,_0x516840)=>_0x179b33[_0x32480c(0x5ff)]===_0x516840['joinedAt']?_0x179b33[_0x32480c(0x6c3)]-_0x516840[_0x32480c(0x6c3)]:_0x179b33['joinedAt']-_0x516840[_0x32480c(0x5ff)])[_0x32480c(0x9cb)](_0x335559['findIndex'](_0xb8f61c=>_0xb8f61c['id']===this[_0x32480c(0x5d3)][_0x32480c(0x79a)]())),_0x335559[_0x32480c(0xa08)]((_0x43c5ac,_0x10b080)=>_0x10b080[_0x32480c(0x5ff)]===_0x43c5ac[_0x32480c(0x5ff)]?_0x10b080[_0x32480c(0x6c3)]-_0x43c5ac[_0x32480c(0x6c3)]:_0x10b080['joinedAt']-_0x43c5ac['joinedAt'])[_0x32480c(0x7ff)](_0x351a31=>{const _0x3f929b=_0x32480c;_0x31baa8['length']>=this[_0x3f929b(0x509)]||_0x31baa8['push'](_0x351a31['id']);}),_0x3dc4e5[_0x32480c(0x369)](_0x32480c(0xa41),{'clusterId':this[_0x32480c(0xa3c)],'nodeId':this[_0x32480c(0x5d3)][_0x32480c(0x79a)](),'nodeType':this['localNode'][_0x32480c(0x88c)],'data':{'ancestorIds':_0x31baa8,'allNodes':_0x335559}}),_0x31baa8;}async[_0x3d1090(0x777)](){const _0x9b2d58=_0x3d1090;await(0x0,_0x580970[_0x9b2d58(0x6f0)])((0x0,_0x580970['ref'])(_0x2f14fd[_0x9b2d58(0xaa8)](),_0x9b2d58(0x876)+this[_0x9b2d58(0x296)]+_0x9b2d58(0x473)+this[_0x9b2d58(0x9d4)]),{'joinedAt':(0x0,_0x580970['serverTimestamp'])(),'priority':Math[_0x9b2d58(0x805)]()});}[_0x3d1090(0x1ab)](){const _0x26ca91=_0x3d1090;this['onDisconnectHandler']&&this[_0x26ca91(0x43e)]['cancel'](),this[_0x26ca91(0x43e)]=(0x0,_0x580970[_0x26ca91(0x6d4)])((0x0,_0x580970['ref'])(_0x2f14fd[_0x26ca91(0xaa8)](),_0x26ca91(0x876)+this['clusterKey']+_0x26ca91(0x473)+this[_0x26ca91(0x9d4)])),this[_0x26ca91(0x43e)][_0x26ca91(0x833)]();}}class _0x3de6f9{[_0x3d1090(0x9e8)];['graphService'];[_0x3d1090(0x2af)];[_0x3d1090(0x6f1)];[_0x3d1090(0x428)];[_0x3d1090(0x8fc)]=[];[_0x3d1090(0x613)];[_0x3d1090(0x95f)]=new Map();['debounceProcessRank'];['lastProcessRank'];[_0x3d1090(0x355)];['resolveReady'];[_0x3d1090(0x3c1)];['readyDebounce'];constructor(_0x3aebea,_0x31ce78){const _0x4264b2=_0x3d1090;this[_0x4264b2(0x9e8)]=_0x3aebea,this[_0x4264b2(0x8bb)]=_0x31ce78,this[_0x4264b2(0x355)]=new Promise((_0x3a170e,_0x51b865)=>{const _0x4ee554=_0x4264b2;this[_0x4ee554(0x9cc)]=_0x3a170e,this[_0x4ee554(0x3c1)]=_0x51b865;}),this['discoveryService']=new _0x6405bc(this['configs'][_0x4264b2(0x43c)],this[_0x4264b2(0x9e8)][_0x4264b2(0xa3c)],this[_0x4264b2(0x9e8)][_0x4264b2(0x5d3)],this[_0x4264b2(0x8bb)]['getMinConnections']()),this[_0x4264b2(0x428)]=this[_0x4264b2(0x6f1)][_0x4264b2(0x241)](this['handleNodeDisconnect'][_0x4264b2(0x82a)](this)),this[_0x4264b2(0x9e8)]['mediator'][_0x4264b2(0x66d)](this[_0x4264b2(0x9e8)][_0x4264b2(0x5d3)]),this[_0x4264b2(0x9e8)][_0x4264b2(0x93d)][_0x4264b2(0x66d)](this),this[_0x4264b2(0x2af)]=_0x5aa24a['setInterval'](()=>{const _0x3dd480=_0x4264b2,_0x3866d7=Date[_0x3dd480(0x267)]();this[_0x3dd480(0x8bb)][_0x3dd480(0x559)]()['forEach'](_0x1ded25=>{const _0x4dbe76=_0x3dd480;_0x1ded25[_0x4dbe76(0x4f6)]()===_0x1f44eb['Offline']&&_0x1ded25[_0x4dbe76(0x76d)]()<_0x3866d7-0x493e0&&this['graphService'][_0x4dbe76(0x26b)](_0x1ded25[_0x4dbe76(0x79a)]());});},0xea60);}async[_0x3d1090(0x345)](){const _0x32ebef=_0x3d1090;return this[_0x32ebef(0x355)];}async[_0x3d1090(0x64c)](_0x353cd1){return new Promise((_0x5277cc,_0x35815a)=>{const _0x336e91=a0_0x50c4;let _0x40ca0f;const _0x3d35db=setTimeout(()=>{const _0x2164cb=a0_0x50c4;_0x40ca0f?.(),_0x35815a(new Error('Node\x20\x27'+_0x353cd1+_0x2164cb(0x803)));},0x2710);if(this[_0x336e91(0x8bb)][_0x336e91(0x526)](_0x353cd1))return clearTimeout(_0x3d35db),void _0x5277cc(!0x0);_0x40ca0f=this[_0x336e91(0x8bb)][_0x336e91(0x918)](()=>{const _0x59cfb6=_0x336e91;this[_0x59cfb6(0x8bb)][_0x59cfb6(0x526)](_0x353cd1)&&(clearTimeout(_0x3d35db),_0x5277cc(!0x0),_0x40ca0f?.());});});}['registerSystemPublisher'](_0x123f8d){const _0x278ad1=_0x3d1090;this[_0x278ad1(0x613)]=_0x123f8d;}['unregisterSystemPublisher'](){delete this['systemTopic'];}[_0x3d1090(0x8d5)](){const _0x4c632b=_0x3d1090;this[_0x4c632b(0x2f9)]&&(clearTimeout(this[_0x4c632b(0x2f9)]),delete this[_0x4c632b(0x2f9)]),delete this[_0x4c632b(0x887)],this[_0x4c632b(0x9e8)][_0x4c632b(0x5d3)]['close'](),this[_0x4c632b(0x2af)](),this[_0x4c632b(0x428)](),this[_0x4c632b(0x9e8)][_0x4c632b(0x93d)][_0x4c632b(0x5ad)](this[_0x4c632b(0x9e8)]['localNode']),this[_0x4c632b(0x9e8)][_0x4c632b(0x93d)]['unregisterSystemSource'](this),this[_0x4c632b(0x6f1)][_0x4c632b(0x8d5)]();}[_0x3d1090(0x67a)](){const _0x3e739d=_0x3d1090;return this[_0x3e739d(0x8fc)];}[_0x3d1090(0x8b2)](){const _0x2cf124=_0x3d1090;return this[_0x2cf124(0x9e8)]['localNode'][_0x2cf124(0x79a)]();}[_0x3d1090(0xa5c)](){const _0x1a0ed5=_0x3d1090;return this[_0x1a0ed5(0x9e8)][_0x1a0ed5(0x5d3)];}[_0x3d1090(0x559)](_0x222586){const _0x47ba47=_0x3d1090,_0x3015c9=Array[_0x47ba47(0x2bc)](this[_0x47ba47(0x8bb)][_0x47ba47(0x559)]()[_0x47ba47(0x6a5)]())[_0x47ba47(0x25d)](_0x59bb76=>_0x59bb76[_0x47ba47(0x4f6)]()===_0x1f44eb[_0x47ba47(0x37d)]);return _0x222586?_0x3015c9[_0x47ba47(0x25d)](_0x222586):_0x3015c9;}async[_0x3d1090(0xa41)](){const _0x54b139=_0x3d1090;return this[_0x54b139(0x8fc)]=await this[_0x54b139(0x6f1)][_0x54b139(0x4b9)](),this['ancestors'][_0x54b139(0x73c)]<this[_0x54b139(0x8bb)]['getMinConnections']()&&(this[_0x54b139(0x9e8)][_0x54b139(0x5d3)][_0x54b139(0x566)](this[_0x54b139(0x8fc)][_0x54b139(0x73c)]+0x1),this['processRank']()),this[_0x54b139(0x8fc)];}[_0x3d1090(0x2c7)](_0x3d4fea,_0x5e603f){const _0x36e479=_0x3d1090,_0x2af9f6=this[_0x36e479(0x9e8)][_0x36e479(0x5d3)]['getRemoteConnections'](),_0x12783a=new Set(_0x2af9f6),_0xa169ca=Array[_0x36e479(0x2bc)](_0x2af9f6)[_0x36e479(0x25d)](_0xeb25c7=>_0xeb25c7!==_0x3d4fea)['map'](_0x2a5297=>({'id':_0x2a5297,'distance':0x1}));for(;_0xa169ca[_0x36e479(0x73c)]>0x0;){const _0x3dd96c=_0xa169ca[_0x36e479(0x536)]();if(!_0x3dd96c)continue;if(_0x3dd96c['id']===_0x5e603f)return _0x3dd96c[_0x36e479(0x56f)];const _0x1155dd=this[_0x36e479(0x8bb)]['getRemoteNode'](_0x3dd96c['id']);_0x1155dd&&_0x1155dd[_0x36e479(0x4f6)]()!==_0x1f44eb[_0x36e479(0x6ec)]&&_0x1155dd[_0x36e479(0x1dd)]()[_0x36e479(0x7ff)](_0x488ba2=>{const _0x25772b=_0x36e479;_0x12783a[_0x25772b(0x1ac)](_0x488ba2)||(_0x12783a[_0x25772b(0x691)](_0x488ba2),_0xa169ca[_0x25772b(0xa93)]({'id':_0x488ba2,'distance':_0x3dd96c['distance']+0x1}));});}return-0x1;}['handleNodeSystemEvents'](_0x5696f0){const _0x27f612=_0x3d1090;try{switch(_0x5696f0[_0x27f612(0x1d7)][_0x27f612(0x88c)]){case _0x1a2879[_0x27f612(0x73e)]:case _0x1a2879[_0x27f612(0x655)]:this['handleNodeUpdate'](_0x5696f0['content']),_0x3dc4e5[_0x27f612(0x546)](_0x5a543d[_0x27f612(0x3e6)],_0x27f612(0x9f6),'\x27'+this[_0x27f612(0x9e8)][_0x27f612(0x5d3)][_0x27f612(0x79a)]()+',\x20'+_0x5696f0[_0x27f612(0x590)]+'\x27',_0x5696f0,_0x5696f0[_0x27f612(0x1d7)]);break;case _0x1a2879[_0x27f612(0x8cc)]:this['removeNode'](_0x5696f0[_0x27f612(0x1d7)]['id']),_0x3dc4e5[_0x27f612(0x546)](_0x5a543d['Node'],'NodeManager\x20-\x20NodeLeave','\x27'+this['configs'][_0x27f612(0x5d3)][_0x27f612(0x79a)]()+',\x20'+_0x5696f0['sourceId']+'\x27',_0x5696f0,_0x5696f0[_0x27f612(0x1d7)]);}}catch(_0x5cbc10){if(_0x5cbc10 instanceof _0x331e4d)return void _0x3dc4e5[_0x27f612(0x546)](_0x5a543d['Node'],_0x5cbc10[_0x27f612(0x6d7)]);throw _0x5cbc10;}}['handlePeerConnectionSystemEvents'](_0x35bcc5){const _0xbd2901=_0x3d1090;switch(_0x35bcc5[_0xbd2901(0x1d7)]['type']){case _0x465160[_0xbd2901(0x47f)]:this[_0xbd2901(0x74d)](_0x35bcc5[_0xbd2901(0x590)]),_0x3dc4e5[_0xbd2901(0x546)](_0x5a543d[_0xbd2901(0x3e6)],_0xbd2901(0xa2b),'\x27'+this[_0xbd2901(0x9e8)][_0xbd2901(0x5d3)][_0xbd2901(0x79a)]()+',\x20'+_0x35bcc5[_0xbd2901(0x590)]+'\x27',_0x35bcc5,_0x35bcc5[_0xbd2901(0x1d7)]);break;case _0x465160['Disconnect']:this[_0xbd2901(0x5d1)](_0x35bcc5[_0xbd2901(0x590)]),_0x3dc4e5[_0xbd2901(0x546)](_0x5a543d[_0xbd2901(0x3e6)],'NodeManager\x20-\x20PublishNodeLeave',this[_0xbd2901(0x9e8)][_0xbd2901(0x5d3)][_0xbd2901(0x79a)](),_0x35bcc5,_0x35bcc5[_0xbd2901(0x1d7)]);}}[_0x3d1090(0x7bc)](_0x45908f){this['createRemoteNode'](_0x45908f),this['notifyJoin'](_0x45908f);}[_0x3d1090(0x73b)](_0x25c145){const _0x533838=_0x3d1090;this[_0x533838(0x9e8)][_0x533838(0x5d3)][_0x533838(0x6da)](_0x25c145['id']),this['publishNodeJoin'](_0x25c145['id']),this[_0x533838(0x39a)](_0x25c145);}[_0x3d1090(0x6db)](_0x129fa2){const _0x3ef980=_0x3d1090,{id:_0x17677a,metaData:_0x1c08a2,rank:_0x23cc62,remoteConnections:_0x630799,version:_0x5914c3}=_0x129fa2,_0x7088fb=this[_0x3ef980(0x8bb)][_0x3ef980(0x80f)](_0x17677a);if(_0x7088fb){if(!(_0x5914c3<=_0x7088fb['getCurrentVersion']())){if(_0x7088fb[_0x3ef980(0x801)](_0x630799),_0x7088fb[_0x3ef980(0x55d)](_0x5914c3),_0x7088fb[_0x3ef980(0x88c)]===_0x25b155[_0x3ef980(0xa14)][_0x3ef980(0x1b2)]&&_0x1c08a2['type']===_0x25b155[_0x3ef980(0xa14)][_0x3ef980(0x1b2)]&&(_0x7088fb[_0x3ef980(0x437)](_0x1c08a2[_0x3ef980(0x63c)]),_0x7088fb[_0x3ef980(0x88a)](_0x1c08a2[_0x3ef980(0x97c)])),_0x23cc62&&_0x7088fb[_0x3ef980(0x566)](_0x23cc62),this[_0x3ef980(0x6d6)](_0x17677a,_0x23cc62),_0x7088fb[_0x3ef980(0x4f6)]()===_0x1f44eb[_0x3ef980(0x6ec)])return _0x7088fb[_0x3ef980(0x6ba)](_0x1f44eb['Online']),this[_0x3ef980(0x7db)](),void this[_0x3ef980(0x73b)](_0x129fa2);this['processRank'](),this[_0x3ef980(0x52c)]({'id':_0x17677a,'metaData':_0x1c08a2,'remoteConnections':_0x630799,'version':_0x5914c3});}}else this[_0x3ef980(0x7bc)](_0x129fa2);}[_0x3d1090(0x6d6)](_0x57fa4f,_0x185716){const _0x356466=_0x3d1090;_0x185716&&this[_0x356466(0x8fc)]['includes'](_0x57fa4f)&&this[_0x356466(0x9e8)]['localNode']['setRank'](_0x185716+this['ancestors'][_0x356466(0x7dc)](_0x57fa4f)+0x1);}[_0x3d1090(0x74d)](_0x2c2543){const _0x18dd00=_0x3d1090;this['configs'][_0x18dd00(0x5d3)][_0x18dd00(0x8a5)](_0x2c2543);}['createRemoteNode']({id:_0x4f6036,metaData:_0x961a16,rank:_0x5a1a60,remoteConnections:_0xed94c6,version:_0x110e54}){const _0x17f5f1=_0x3d1090;if(this['graphService'][_0x17f5f1(0x526)](_0x4f6036))throw new _0x331e4d(_0x17f5f1(0x6ab)+_0x4f6036);switch(_0x961a16[_0x17f5f1(0x88c)]){case _0x25b155['NodeType'][_0x17f5f1(0x1b2)]:const {displayName:_0x55e197,email:_0x22994c}=_0x961a16;this['graphService']['setRemoteNode'](_0x4f6036,new _0x2c323c(_0x4f6036,_0x55e197,_0x22994c,new Set(_0xed94c6),_0x110e54,_0x5a1a60));break;case _0x25b155[_0x17f5f1(0xa14)][_0x17f5f1(0x7ae)]:this['graphService'][_0x17f5f1(0x69c)](_0x4f6036,new _0x1d682e(_0x4f6036,new Set(_0xed94c6),_0x110e54,_0x5a1a60));}const _0x5ec4c6=this['getRemoteNodes'](),_0x49de94=new Set(this[_0x17f5f1(0x8fc)]);_0x5ec4c6[_0x17f5f1(0x7ff)](_0x3f2db0=>{const _0x4c0c74=_0x17f5f1;_0x49de94[_0x4c0c74(0x1ac)](_0x3f2db0[_0x4c0c74(0x79a)]())&&_0x49de94[_0x4c0c74(0x54a)](_0x3f2db0['getId']());}),0x0===_0x49de94[_0x17f5f1(0x8e5)]&&this[_0x17f5f1(0x9cc)]&&(this['readyDebounce']&&clearTimeout(this[_0x17f5f1(0x940)]),this[_0x17f5f1(0x940)]=setTimeout(()=>{const _0x2e3241=_0x17f5f1;this[_0x2e3241(0x9cc)]?.(!0x0),delete this[_0x2e3241(0x9cc)],delete this[_0x2e3241(0x3c1)];},0x7d0)),this[_0x17f5f1(0x6d6)](_0x4f6036,_0x5a1a60),this[_0x17f5f1(0x7db)]();}[_0x3d1090(0x4c2)](_0x31f199){const _0x29cc1f=_0x3d1090;this[_0x29cc1f(0x613)]['publish']({'sourceId':_0x22135a,'messageType':_0x17c3e2[_0x29cc1f(0x3e6)],'content':{'type':_0x1a2879[_0x29cc1f(0x42f)],'id':_0x31f199}});}[_0x3d1090(0x5d1)](_0x7b31a9){const _0x367490=_0x3d1090;this['systemTopic']?.[_0x367490(0x681)]({'sourceId':_0x22135a,'messageType':_0x17c3e2[_0x367490(0x3e6)],'content':{'type':_0x1a2879[_0x367490(0x8cc)],'id':_0x7b31a9}});}[_0x3d1090(0x23c)](_0x356468){const _0x17879e=_0x3d1090;if(_0x356468===this[_0x17879e(0x9e8)][_0x17879e(0x5d3)]['getId']())return this[_0x17879e(0x9e8)][_0x17879e(0x93d)][_0x17879e(0x2d5)](_0x17879e(0x1d8),{'id':_0x356468}),this['configs'][_0x17879e(0x93d)][_0x17879e(0x8d5)]({'force':!0x0},!0x0),this[_0x17879e(0x9e8)][_0x17879e(0x93d)]['open'](),void this[_0x17879e(0x9e8)][_0x17879e(0x93d)][_0x17879e(0x9c4)]();this[_0x17879e(0x5d1)](_0x356468);}[_0x3d1090(0x74a)](_0x161eea){const _0xb4ecf=_0x3d1090;this[_0xb4ecf(0x8fc)][_0xb4ecf(0x1e2)](_0x161eea)?this[_0xb4ecf(0x765)](_0x161eea):this['configs'][_0xb4ecf(0x5d3)][_0xb4ecf(0x1dd)]()[_0xb4ecf(0x1ac)](_0x161eea)&&this[_0xb4ecf(0x3a7)](_0x161eea),this[_0xb4ecf(0x9e8)][_0xb4ecf(0x5d3)][_0xb4ecf(0x9ab)](_0x161eea);const _0x4fe789=Array[_0xb4ecf(0x2bc)](this['optimizationLayers'][_0xb4ecf(0x6c2)]())[_0xb4ecf(0x447)](([,_0x46ed38])=>_0x46ed38==_0x46ed38);_0x4fe789&&this[_0xb4ecf(0x95f)][_0xb4ecf(0x54a)](_0x4fe789[0x0]);const _0x54202b=this[_0xb4ecf(0x8bb)][_0xb4ecf(0x80f)](_0x161eea);if(!_0x54202b)return;const _0x4929aa=_0x54202b[_0xb4ecf(0x68a)](),_0x150cb7=this[_0xb4ecf(0x9e8)][_0xb4ecf(0x5d3)][_0xb4ecf(0x68a)]();_0x150cb7&&_0x4929aa&&_0x4929aa<_0x150cb7&&this[_0xb4ecf(0x9e8)]['localNode']['setRank'](_0x150cb7-0x1,!0x1),Array[_0xb4ecf(0x2bc)](this[_0xb4ecf(0x8bb)][_0xb4ecf(0x559)]()[_0xb4ecf(0x6a5)]())['forEach'](_0x230d35=>{const _0xb61d74=_0xb4ecf,_0x2e4b04=_0x230d35[_0xb61d74(0x68a)]();_0x2e4b04&&_0x4929aa&&_0x4929aa<_0x2e4b04&&_0x230d35[_0xb61d74(0x566)](_0x2e4b04-0x1);}),_0x54202b[_0xb4ecf(0x6ba)](_0x1f44eb['Offline']),this[_0xb4ecf(0x9e8)][_0xb4ecf(0x93d)][_0xb4ecf(0x2d5)](_0x54202b[_0xb4ecf(0x88c)]+_0xb4ecf(0x9b0),{'id':_0x161eea});}['notifyClusterNodeJoin']({id:_0x2374a0,metaData:_0x4211bc,remoteConnections:_0x1089f8}){const _0x426792=_0x3d1090;switch(_0x4211bc[_0x426792(0x88c)]){case _0x25b155[_0x426792(0xa14)]['User']:this[_0x426792(0x9e8)][_0x426792(0x93d)][_0x426792(0x2d5)](_0x426792(0x4e9),{'id':_0x2374a0,'metaData':_0x4211bc,'remoteConnections':_0x1089f8});break;case _0x25b155[_0x426792(0xa14)][_0x426792(0x7ae)]:this[_0x426792(0x9e8)][_0x426792(0x93d)]['notifyCluster'](_0x426792(0x1fe),{'id':_0x2374a0,'metaData':_0x4211bc,'remoteConnections':_0x1089f8});}}[_0x3d1090(0x52c)]({id:_0x1cea0c,metaData:_0x3deb89,remoteConnections:_0x6df0b1}){const _0xa62a96=_0x3d1090;switch(_0x3deb89[_0xa62a96(0x88c)]){case _0x25b155[_0xa62a96(0xa14)][_0xa62a96(0x1b2)]:this[_0xa62a96(0x9e8)][_0xa62a96(0x93d)][_0xa62a96(0x2d5)]('user-update',{'id':_0x1cea0c,'metaData':_0x3deb89,'remoteConnections':_0x6df0b1});break;case _0x25b155['NodeType'][_0xa62a96(0x7ae)]:this[_0xa62a96(0x9e8)][_0xa62a96(0x93d)]['notifyCluster'](_0xa62a96(0x60c),{'id':_0x1cea0c,'metaData':_0x3deb89,'remoteConnections':_0x6df0b1});}}[_0x3d1090(0x7db)](){const _0x39e1bf=_0x3d1090;if(this['lastProcessRank']||(this[_0x39e1bf(0x887)]=Date['now']()),this[_0x39e1bf(0x2f9)]){if(Date[_0x39e1bf(0x267)]()-this[_0x39e1bf(0x887)]>0x2328)return;clearTimeout(this[_0x39e1bf(0x2f9)]);}this['debounceProcessRank']=setTimeout(async()=>{const _0x5e2572=_0x39e1bf;delete this[_0x5e2572(0x887)],delete this['debounceProcessRank'];const _0x3490de=this[_0x5e2572(0x9e8)][_0x5e2572(0x5d3)][_0x5e2572(0x68a)]();if(!_0x3490de)return;const _0x4b94c0=this[_0x5e2572(0x8bb)][_0x5e2572(0xa6d)](this[_0x5e2572(0x8bb)][_0x5e2572(0x559)]()[_0x5e2572(0x8e5)]);if(this[_0x5e2572(0x95f)][_0x5e2572(0x8e5)]>=_0x4b94c0)return;let _0x2b0aaf=0x1;for(;this[_0x5e2572(0x9e8)][_0x5e2572(0x93d)][_0x5e2572(0x4a5)]()[_0x5e2572(0x73c)]<this[_0x5e2572(0x8bb)][_0x5e2572(0x515)]()&&_0x2b0aaf<=_0x4b94c0;){if(this[_0x5e2572(0x95f)][_0x5e2572(0x1ac)](_0x2b0aaf)){_0x2b0aaf+=0x1;continue;}const _0x4664bf=this[_0x5e2572(0x8bb)][_0x5e2572(0x715)](_0x3490de,_0x2b0aaf),_0x4ebc00=Array['from'](this['graphService'][_0x5e2572(0x559)]()[_0x5e2572(0x6a5)]())[_0x5e2572(0x447)](_0x44d74f=>_0x44d74f[_0x5e2572(0x68a)]()===_0x4664bf&&_0x44d74f[_0x5e2572(0x4f6)]()===_0x1f44eb[_0x5e2572(0x37d)]);if(_0x4ebc00){try{await this['configs']['mediator'][_0x5e2572(0x30b)](_0x4ebc00[_0x5e2572(0x79a)](),_0x12fb75[_0x5e2572(0x5f2)]),this[_0x5e2572(0x95f)][_0x5e2572(0x6f0)](_0x2b0aaf,_0x4ebc00[_0x5e2572(0x79a)]());}catch(_0x3689ae){if(!(_0x3689ae instanceof _0x1b9d16&&_0x3689ae[_0x5e2572(0x393)]===_0x1b9d16[_0x5e2572(0x276)]['RemoteConnectionExists']))throw _0x3689ae;_0x3dc4e5[_0x5e2572(0x546)](_0x5a543d[_0x5e2572(0x3e6)],this['configs'][_0x5e2572(0x5d3)][_0x5e2572(0x79a)](),_0x4ebc00[_0x5e2572(0x79a)](),_0x3689ae['message']);}_0x2b0aaf+=0x1;}else _0x2b0aaf+=0x1;}},0x3e8);}async[_0x3d1090(0x765)](_0x4baf49){const _0x44dfa2=_0x3d1090;this[_0x44dfa2(0x8fc)][_0x44dfa2(0x9cb)](this[_0x44dfa2(0x8fc)][_0x44dfa2(0x7dc)](_0x4baf49),0x1);const _0x4d14a5=await this[_0x44dfa2(0x6f1)][_0x44dfa2(0x622)]();for(const _0x4804e0 of _0x4d14a5)if(!this[_0x44dfa2(0x8fc)]['includes'](_0x4804e0)){const _0x28733e=Array[_0x44dfa2(0x2bc)](this[_0x44dfa2(0x95f)][_0x44dfa2(0x6c2)]())['find'](([,_0x5ba0c0])=>_0x5ba0c0===_0x4804e0);_0x28733e&&this[_0x44dfa2(0x95f)]['delete'](_0x28733e[0x0]),this[_0x44dfa2(0x9e8)][_0x44dfa2(0x93d)][_0x44dfa2(0x30b)](_0x4804e0,_0x12fb75['Core']);}0x0===_0x4d14a5[_0x44dfa2(0x73c)]&&this['configs'][_0x44dfa2(0x5d3)][_0x44dfa2(0x566)](0x1),this[_0x44dfa2(0x8fc)]=_0x4d14a5;}async[_0x3d1090(0x3a7)](_0x598fca){const _0x304683=_0x3d1090,_0x391a7e=this['configs'][_0x304683(0x5d3)][_0x304683(0x68a)]();if(!_0x391a7e)return;const _0x129437=this['graphService'][_0x304683(0x80f)](_0x598fca);if(!_0x129437||_0x129437['getStatus']()===_0x1f44eb[_0x304683(0x6ec)])return;const _0x52140b=_0x129437[_0x304683(0x68a)]();if(!_0x52140b||_0x52140b<_0x391a7e)return;const _0x10293a=this[_0x304683(0x640)](this[_0x304683(0x9e8)][_0x304683(0x5d3)][_0x304683(0x1dd)](),_0x391a7e),_0x21d228=this[_0x304683(0x640)](_0x129437[_0x304683(0x1dd)](),_0x52140b)[_0x10293a['findIndex'](([_0x47737e])=>_0x47737e===_0x598fca)];if(!_0x21d228||this[_0x304683(0x9e8)]['localNode'][_0x304683(0x1dd)]()[_0x304683(0x1ac)](_0x21d228[0x0]))return;const _0x20ae19=this[_0x304683(0x8bb)][_0x304683(0x80f)](_0x21d228[0x0]);if(_0x20ae19&&_0x20ae19['getStatus']()!==_0x1f44eb[_0x304683(0x6ec)])try{await this[_0x304683(0x9e8)][_0x304683(0x93d)][_0x304683(0x30b)](_0x21d228[0x0],_0x12fb75[_0x304683(0x5f2)]);const _0x36e3b6=Array[_0x304683(0x2bc)](this['optimizationLayers']['entries']())[_0x304683(0x447)](([,_0x106edb])=>_0x106edb===_0x598fca);_0x36e3b6&&this[_0x304683(0x95f)]['set'](_0x36e3b6[0x0],_0x21d228[0x0]);}catch(_0x5b17fb){if(!(_0x5b17fb instanceof _0x1b9d16&&_0x5b17fb[_0x304683(0x393)]===_0x1b9d16[_0x304683(0x276)]['RemoteConnectionExists']))throw _0x5b17fb;_0x3dc4e5[_0x304683(0x546)](_0x5a543d['Node'],this[_0x304683(0x9e8)][_0x304683(0x5d3)][_0x304683(0x79a)](),_0x21d228[0x0],_0x5b17fb['message']);}}[_0x3d1090(0x640)](_0xc102d9,_0xe56d61){const _0x19d8d6=_0x3d1090;return Array['from'](_0xc102d9)[_0x19d8d6(0x8f1)]((_0x2025f1,_0x45eaa8)=>{const _0x211e26=_0x19d8d6,_0xf00f83=this[_0x211e26(0x8bb)][_0x211e26(0x80f)](_0x45eaa8);if(!_0xf00f83||_0xf00f83[_0x211e26(0x4f6)]()===_0x1f44eb['Offline'])return _0x2025f1;const _0x22dce1=_0xf00f83[_0x211e26(0x68a)]();if(!_0x22dce1)return _0x2025f1;const _0x617e4=_0x22dce1-_0xe56d61;return _0x617e4<=this[_0x211e26(0x8bb)][_0x211e26(0x353)]()||_0x2025f1['push']([_0x45eaa8,_0x617e4]),_0x2025f1;},[])[_0x19d8d6(0xa08)](([,_0x112e1a],[,_0x532287])=>_0x112e1a-_0x532287);}}const _0x38eab0=[{'problemType':_0xa61ce6[_0x3d1090(0x553)],'remediations':[{'type':_0x4ca264[_0x3d1090(0x760)],'component':_0x22471f[_0x3d1090(0x1c8)],'action':_0x462d5f['Downgrade']},{'type':_0x4ca264['RemoteRemediation'],'component':_0x22471f['Resolution'],'action':_0x462d5f[_0x3d1090(0x8c6)]}]},{'problemType':_0xa61ce6[_0x3d1090(0x997)],'remediations':[{'type':_0x4ca264[_0x3d1090(0x760)],'component':_0x22471f[_0x3d1090(0x1c8)],'action':_0x462d5f[_0x3d1090(0x8c6)]}]},{'problemType':_0xa61ce6[_0x3d1090(0x793)],'remediations':[{'type':_0x4ca264[_0x3d1090(0x760)],'component':_0x22471f['Resolution'],'action':_0x462d5f['Downgrade']}]},{'problemType':_0xa61ce6['FramePerSecond'],'remediations':[{'type':_0x4ca264[_0x3d1090(0x760)],'component':_0x22471f[_0x3d1090(0x1c8)],'action':_0x462d5f[_0x3d1090(0x8c6)]}]},{'problemType':_0xa61ce6[_0x3d1090(0x370)],'remediations':[{'type':_0x4ca264[_0x3d1090(0x760)],'component':_0x22471f[_0x3d1090(0x370)],'action':_0x462d5f[_0x3d1090(0x8c6)]}]},{'problemType':_0xa61ce6[_0x3d1090(0x42a)],'remediations':[{'type':_0x4ca264['Remediation'],'component':_0x22471f[_0x3d1090(0x370)],'action':_0x462d5f[_0x3d1090(0x8c6)]}]},{'problemType':_0xa61ce6['RoundTripTime'],'remediations':[{'type':_0x4ca264['Remediation'],'component':_0x22471f[_0x3d1090(0x370)],'action':_0x462d5f[_0x3d1090(0x8c6)]}]}];class _0x22b81d{[_0x3d1090(0x9e8)];[_0x3d1090(0x613)];[_0x3d1090(0x8bc)]=new Map();constructor(_0x403b4a){const _0x25e7c9=_0x3d1090;this['configs']=_0x403b4a,this[_0x25e7c9(0x9e8)]['mediator'][_0x25e7c9(0x66d)](this);}[_0x3d1090(0x8d5)](){const _0x66b165=_0x3d1090;this[_0x66b165(0x9e8)][_0x66b165(0x93d)][_0x66b165(0x5ad)](this);}[_0x3d1090(0x60f)](_0x21ded4){this['systemTopic']=_0x21ded4;}['unregisterSystemPublisher'](){delete this['systemTopic'];}[_0x3d1090(0x889)](_0x4967f5){const _0x365885=_0x3d1090;_0x4967f5[_0x365885(0x1d7)][_0x365885(0x88c)]===_0x5d8331[_0x365885(0x31a)]&&this[_0x365885(0x324)](_0x4967f5[_0x365885(0x1d7)][_0x365885(0xa3d)]);}[_0x3d1090(0x82c)](_0x58944a){const _0x4a0960=_0x3d1090;_0x58944a[_0x4a0960(0x1d7)][_0x4a0960(0x88c)]===_0x4ca264[_0x4a0960(0x948)]&&this['applyRemediation'](_0x58944a['sourceId'],{'type':_0x4ca264[_0x4a0960(0x760)],'component':_0x58944a['content'][_0x4a0960(0xa3d)][_0x4a0960(0x986)],'action':_0x58944a[_0x4a0960(0x1d7)][_0x4a0960(0xa3d)]['action']});}[_0x3d1090(0x324)](_0x58c035){const _0x26b556=_0x3d1090,_0x1b0480=_0x38eab0[_0x26b556(0x447)](_0x1fe3b0=>_0x1fe3b0[_0x26b556(0x976)]===_0x58c035['type']);_0x1b0480[_0x26b556(0x5b6)]?.[_0x26b556(0x7ff)](_0x3d286b=>{const _0x2cefec=_0x26b556;this[_0x2cefec(0x20c)](_0x58c035['nodeId'],{'type':_0x58c035[_0x2cefec(0x38c)]===_0x39d673[_0x2cefec(0x500)]?_0x4ca264[_0x2cefec(0x760)]:_0x4ca264[_0x2cefec(0x948)],'component':_0x3d286b[_0x2cefec(0x986)],'action':_0x3d286b[_0x2cefec(0x2ec)]});});}['applyRemediation'](_0x52cc3e,_0x3698b9){const _0x51dfa6=_0x3d1090;if(_0x3698b9[_0x51dfa6(0x88c)]===_0x4ca264[_0x51dfa6(0x760)]){const _0x2e5467=Date[_0x51dfa6(0x267)](),_0x46041b=this[_0x51dfa6(0x8bc)][_0x51dfa6(0x252)](_0x52cc3e);if(_0x46041b&&_0x2e5467-_0x46041b<0x1388)return;this[_0x51dfa6(0x8bc)]['set'](_0x52cc3e,_0x2e5467);}_0x3dc4e5['log'](_0x5a543d[_0x51dfa6(0x760)],_0x51dfa6(0x780),_0x3698b9),_0x3dc4e5[_0x51dfa6(0x369)](_0x51dfa6(0xa2e),{'clusterId':this[_0x51dfa6(0x9e8)][_0x51dfa6(0xa3c)],'nodeId':this[_0x51dfa6(0x9e8)]['localNode'][_0x51dfa6(0x79a)](),'nodeType':this[_0x51dfa6(0x9e8)]['localNode'][_0x51dfa6(0x88c)],'remoteId':_0x52cc3e,'data':{'type':_0x3698b9[_0x51dfa6(0x88c)],'component':_0x3698b9[_0x51dfa6(0x986)],'action':_0x3698b9[_0x51dfa6(0x2ec)]}});let _0x545287,_0x40317b=_0x22135a;_0x3698b9[_0x51dfa6(0x88c)]===_0x4ca264['RemoteRemediation']&&(_0x40317b=this['configs']['localNode'][_0x51dfa6(0x79a)](),_0x545287=[_0x52cc3e]),this['systemTopic'][_0x51dfa6(0x681)]({'sourceId':_0x40317b,'destinationIds':_0x545287,'messageType':_0x17c3e2[_0x51dfa6(0x760)],'content':{'type':_0x3698b9[_0x51dfa6(0x88c)],'targetId':_0x52cc3e,'data':_0x3698b9}});}}const _0x2a0e1e=0x3e8,_0x54415f=0x7530,_0x8b985a='outbound-rtp',_0x5e9682=_0x3d1090(0x567),_0x45d5ef=_0x3d1090(0x3b5),_0x3fc96=[_0x8b985a,_0x5e9682],_0x20a1b1=[_0x45d5ef];class _0x3b8773{['roundTripTime']=0x0;[_0x3d1090(0x522)]=0x0;[_0x3d1090(0x1e0)]=0x0;['packetsLost']=0x0;['packets']=0x0;[_0x3d1090(0x27f)]=0x0;[_0x3d1090(0x8a9)]=0x0;[_0x3d1090(0x9c8)]=0x0;[_0x3d1090(0x72e)]=0x0;get[_0x3d1090(0x493)](){const _0x4eee8b=_0x3d1090;return this[_0x4eee8b(0x27f)]>0x0&&this['previousTimestamp']>0x0&&Date[_0x4eee8b(0x267)]()-this[_0x4eee8b(0x27f)]<_0x54415f?(this[_0x4eee8b(0x9c8)]-this[_0x4eee8b(0x72e)])/(this['currentTimestamp']-this[_0x4eee8b(0x8a9)])*0x8*0x3e8:0x0;}[_0x3d1090(0x8e8)](_0x39fbfd){const _0x1831cb=_0x3d1090;switch(_0x39fbfd[_0x1831cb(0x88c)]){case _0x45d5ef:this[_0x1831cb(0x56e)](_0x39fbfd);break;case _0x8b985a:this['processOutboundReport'](_0x39fbfd);break;case _0x5e9682:this[_0x1831cb(0xa45)](_0x39fbfd);}}[_0x3d1090(0xa1a)](){const _0x249aec=_0x3d1090;return{'bitrate':this['bitrate'],'packetsLostPerc':this[_0x249aec(0x9ce)](),'roundTripTime':this[_0x249aec(0x558)],'jitter':this[_0x249aec(0x1e0)]};}[_0x3d1090(0x56e)](_0x813e7){const _0x3cbc4e=_0x3d1090;this['setBytes'](_0x813e7[_0x3cbc4e(0x335)]),this[_0x3cbc4e(0x8c9)](_0x813e7[_0x3cbc4e(0xa8a)]),this['packets']=_0x813e7[_0x3cbc4e(0x197)],this[_0x3cbc4e(0x4fc)]=_0x813e7[_0x3cbc4e(0x4fc)],void 0x0!==_0x813e7[_0x3cbc4e(0x1e0)]?this['jitter']=_0x813e7['jitter']:this['jitter']=0x0,void 0x0!==_0x813e7[_0x3cbc4e(0x522)]?this[_0x3cbc4e(0x522)]=_0x813e7[_0x3cbc4e(0x522)]:this[_0x3cbc4e(0x522)]=0x0;}[_0x3d1090(0x2b4)](_0x9fdc7a){const _0x1d36c7=_0x3d1090;this[_0x1d36c7(0x41c)](_0x9fdc7a['bytesSent']),this[_0x1d36c7(0x8c9)](_0x9fdc7a[_0x1d36c7(0xa8a)]),this[_0x1d36c7(0x858)]=_0x9fdc7a[_0x1d36c7(0x192)];}[_0x3d1090(0xa45)](_0x49a351){const _0x5b9b3e=_0x3d1090;this[_0x5b9b3e(0x558)]=0x3e8*_0x49a351['roundTripTime'],void 0x0!==_0x49a351[_0x5b9b3e(0x1e0)]?this[_0x5b9b3e(0x1e0)]=_0x49a351[_0x5b9b3e(0x1e0)]:this[_0x5b9b3e(0x1e0)]=0x0;}[_0x3d1090(0x9ce)](){const _0x190132=_0x3d1090;return this[_0x190132(0x858)]>0x0?this[_0x190132(0x4fc)]/this['packets']:0x0;}[_0x3d1090(0x8c9)](_0x339742){const _0x3f21d8=_0x3d1090;_0x339742>this[_0x3f21d8(0x27f)]&&(this[_0x3f21d8(0x8a9)]=this[_0x3f21d8(0x27f)],this['currentTimestamp']=_0x339742);}[_0x3d1090(0x41c)](_0x5524ba){const _0x1ef436=_0x3d1090;this[_0x1ef436(0x72e)]=this[_0x1ef436(0x9c8)],this[_0x1ef436(0x9c8)]=_0x5524ba;}}class _0x339d98 extends _0x3b8773{}class _0x415d46 extends _0x3b8773{['frameTime']=0x0;[_0x3d1090(0xa94)]=0x0;['frameHeight']=0x0;[_0x3d1090(0x293)]=0x0;[_0x3d1090(0x6aa)]=0x0;get['fps'](){const _0x3a423b=_0x3d1090;return this[_0x3a423b(0x27f)]>0x0&&this[_0x3a423b(0x8a9)]>0x0&&Date[_0x3a423b(0x267)]()-this[_0x3a423b(0x27f)]<_0x54415f?(this[_0x3a423b(0x293)]-this[_0x3a423b(0x6aa)])/(this[_0x3a423b(0x27f)]-this[_0x3a423b(0x8a9)])*0x3e8:0x0;}get[_0x3d1090(0xa34)](){const _0x39f4ce=_0x3d1090;return this[_0x39f4ce(0x4cc)]&&this[_0x39f4ce(0x293)]&&this[_0x39f4ce(0x293)]>0x0?this[_0x39f4ce(0x4cc)]/this[_0x39f4ce(0x293)]:0x0;}set[_0x3d1090(0x5d6)](_0x57d331){const _0x31d3c6=_0x3d1090;this['previousFrames']=this[_0x31d3c6(0x293)],this[_0x31d3c6(0x293)]=_0x57d331;}[_0x3d1090(0xa1a)](){const _0x1c06ba=_0x3d1090;return{...super[_0x1c06ba(0xa1a)](),'FPS':this[_0x1c06ba(0x42c)],'timePerFrame':this[_0x1c06ba(0xa34)],'frameWidth':this[_0x1c06ba(0xa94)],'frameHeight':this['frameHeight']};}[_0x3d1090(0x56e)](_0x264f04){const _0x30e34d=_0x3d1090;super['processInboundReport'](_0x264f04),this[_0x30e34d(0x4cc)]=_0x264f04[_0x30e34d(0x9ae)],this[_0x30e34d(0x5d6)]=_0x264f04['framesDecoded'],this[_0x30e34d(0xa94)]=_0x264f04[_0x30e34d(0xa94)],this[_0x30e34d(0x5a8)]=_0x264f04['frameHeight'];}['processOutboundReport'](_0x31c3f4){const _0x7f7365=_0x3d1090;super[_0x7f7365(0x2b4)](_0x31c3f4),this[_0x7f7365(0x4cc)]=_0x31c3f4['totalEncodeTime'],this[_0x7f7365(0x5d6)]=_0x31c3f4[_0x7f7365(0xa85)],this[_0x7f7365(0xa94)]=_0x31c3f4[_0x7f7365(0xa94)],this[_0x7f7365(0x5a8)]=_0x31c3f4[_0x7f7365(0x5a8)];}}class _0x5084ec{['audio']=new _0x339d98();[_0x3d1090(0x4c4)]=new _0x415d46();get[_0x3d1090(0x493)](){const _0x470abf=_0x3d1090;return this['audio'][_0x470abf(0x493)]+this['video']['bitrate'];}[_0x3d1090(0xa84)](_0x43b8ae){const _0x462157=_0x3d1090;return _0x43b8ae[_0x462157(0x7ff)](_0x5d1669=>{const _0x2dab0f=_0x462157;switch(_0x5d1669['kind']){case _0x2dab0f(0x83c):this[_0x2dab0f(0x83c)]['processReport'](_0x5d1669);break;case'video':this[_0x2dab0f(0x4c4)]['processReport'](_0x5d1669);}}),this[_0x462157(0xa1a)]();}[_0x3d1090(0xa1a)](){const _0x3ba03e=_0x3d1090;return{'audio':this[_0x3ba03e(0x83c)]['getReport'](),'video':this[_0x3ba03e(0x4c4)][_0x3ba03e(0xa1a)](),'roundTripTime':this[_0x3ba03e(0x56b)](),'AudioVideoDelay':this[_0x3ba03e(0x9e9)](),'bitrate':this[_0x3ba03e(0x493)]};}[_0x3d1090(0x56b)](){const _0x162c01=_0x3d1090;return Math[_0x162c01(0x93b)]((this[_0x162c01(0x83c)]['roundTripTime']+this[_0x162c01(0x4c4)][_0x162c01(0x558)])/0x2);}['getAudioVideoDelay'](){const _0x2d6288=_0x3d1090;return this[_0x2d6288(0x83c)][_0x2d6288(0x522)]-this[_0x2d6288(0x4c4)]['estimatedPlayoutTimestamp'];}}class _0x52413d{[_0x3d1090(0xa72)]=0x0;[_0x3d1090(0x414)]=0x0;[_0x3d1090(0x1ae)]=0x0;[_0x3d1090(0x21c)]=0x0;[_0x3d1090(0x5cc)]=0x0;['senderPreviousBytes']=0x0;[_0x3d1090(0x848)]=0x0;[_0x3d1090(0x610)]=0x0;[_0x3d1090(0x3e9)]=0x0;[_0x3d1090(0xa97)]=0x0;[_0x3d1090(0x6f5)]=0x0;[_0x3d1090(0x745)]=0x0;['roundTripTime']=0x0;get['bitrate'](){const _0x467f6e=_0x3d1090;return this[_0x467f6e(0x784)]+this['receiverBitrate'];}get[_0x3d1090(0x784)](){const _0x5c0176=_0x3d1090;return this[_0x5c0176(0xa72)]>0x0&&this[_0x5c0176(0x414)]>0x0&&Date[_0x5c0176(0x267)]()-this[_0x5c0176(0xa72)]<_0x54415f?(this[_0x5c0176(0x5cc)]-this[_0x5c0176(0x8f4)])/(this[_0x5c0176(0xa72)]-this[_0x5c0176(0x414)])*0x8*0x3e8:0x0;}get['receiverBitrate'](){const _0x5202bd=_0x3d1090;return this[_0x5202bd(0x1ae)]>0x0&&this[_0x5202bd(0x21c)]>0x0&&Date[_0x5202bd(0x267)]()-this[_0x5202bd(0x1ae)]<_0x54415f?(this['receiverCurrentBytes']-this[_0x5202bd(0x610)])/(this[_0x5202bd(0x1ae)]-this[_0x5202bd(0x21c)])*0x8*0x3e8:0x0;}[_0x3d1090(0x8e8)](_0x31209f){const _0x452a62=_0x3d1090;switch(_0x31209f[_0x452a62(0x38c)]){case _0x39d673[_0x452a62(0x500)]:this[_0x452a62(0x9ac)](_0x31209f);break;case _0x39d673[_0x452a62(0x3ab)]:this[_0x452a62(0x9fe)](_0x31209f);}}[_0x3d1090(0xa1a)](){const _0x407aea=_0x3d1090;return{'bitrate':this['bitrate'],'senderBitrate':this['senderBitrate'],'receiverBitrate':this[_0x407aea(0x4b0)],'totalBytes':this[_0x407aea(0x55e)](),'senderTotalBytes':this[_0x407aea(0x61b)](),'receiverTotalBytes':this[_0x407aea(0x295)](),'totalMessages':this[_0x407aea(0x3e9)]+this[_0x407aea(0xa97)],'senderTotalMessages':this[_0x407aea(0x3e9)],'receiverTotalMessages':this[_0x407aea(0xa97)],'timeProcessing':this[_0x407aea(0x6f5)]+this[_0x407aea(0x745)],'senderTimeProcessing':this[_0x407aea(0x6f5)],'receiverTimeProcessing':this[_0x407aea(0x745)],'roundTripTime':this['roundTripTime']};}[_0x3d1090(0x55e)](){const _0x4c1c3b=_0x3d1090;return this[_0x4c1c3b(0x5cc)]+this[_0x4c1c3b(0x848)];}[_0x3d1090(0x61b)](){return this['senderCurrentBytes'];}[_0x3d1090(0x295)](){const _0x3ba5b8=_0x3d1090;return this[_0x3ba5b8(0x848)];}[_0x3d1090(0x9ac)](_0x240d30){const _0x5a1dc7=_0x3d1090;this[_0x5a1dc7(0x6c8)](_0x240d30[_0x5a1dc7(0xa8a)]),this[_0x5a1dc7(0x41c)](_0x240d30[_0x5a1dc7(0x6bd)]),this[_0x5a1dc7(0x3e9)]=_0x240d30[_0x5a1dc7(0x20a)],this[_0x5a1dc7(0x6f5)]=_0x240d30[_0x5a1dc7(0x678)],this['roundTripTime']=_0x240d30['roundTripTime'];}[_0x3d1090(0x9fe)](_0xb8762b){const _0x4877cc=_0x3d1090;this[_0x4877cc(0x8a8)](_0xb8762b[_0x4877cc(0xa8a)]),this['setReceiverBytes'](_0xb8762b[_0x4877cc(0x335)]),this[_0x4877cc(0xa97)]=_0xb8762b[_0x4877cc(0x658)],this['receiverTimeProcessing']=_0xb8762b['timeReceiving'];}[_0x3d1090(0x6c8)](_0x5bbfab){const _0x1864f0=_0x3d1090;_0x5bbfab>this[_0x1864f0(0xa72)]&&(this[_0x1864f0(0x414)]=this[_0x1864f0(0xa72)],this['senderCurrentTimestamp']=_0x5bbfab);}[_0x3d1090(0x8a8)](_0x581466){const _0x32e516=_0x3d1090;_0x581466>this[_0x32e516(0x1ae)]&&(this[_0x32e516(0x21c)]=this[_0x32e516(0x1ae)],this['receiverCurrentTimestamp']=_0x581466);}['setBytes'](_0x39bb82){const _0x46598d=_0x3d1090;this['senderPreviousBytes']=this[_0x46598d(0x5cc)],this[_0x46598d(0x5cc)]=_0x39bb82;}[_0x3d1090(0x646)](_0x3b3b19){const _0x354d1e=_0x3d1090;this[_0x354d1e(0x610)]=this[_0x354d1e(0x848)],this[_0x354d1e(0x848)]=_0x3b3b19;}}class _0x5a2bc8{[_0x3d1090(0xa15)]=new Map();[_0x3d1090(0x456)]=new Map();[_0x3d1090(0x832)]=new _0x52413d();get[_0x3d1090(0x784)](){const _0x3699e3=_0x3d1090;let _0x24185c=0x0;return this[_0x3699e3(0xa15)]['forEach'](_0x3726c9=>{const _0x3548fb=_0x3699e3;_0x24185c+=_0x3726c9[_0x3548fb(0x493)];}),_0x24185c+=this[_0x3699e3(0x832)]['senderBitrate'],_0x24185c;}get['receiverBitrate'](){const _0x1f69e0=_0x3d1090;let _0x1a55ed=0x0;return this['receiverStreams'][_0x1f69e0(0x7ff)](_0x1e153b=>{const _0x12de78=_0x1f69e0;_0x1a55ed+=_0x1e153b[_0x12de78(0x493)];}),_0x1a55ed+=this[_0x1f69e0(0x832)][_0x1f69e0(0x4b0)],_0x1a55ed;}get[_0x3d1090(0x493)](){const _0xd1f364=_0x3d1090;return this[_0xd1f364(0x784)]+this['receiverBitrate'];}[_0x3d1090(0xa84)](_0x54b2bd,_0x15da37){const _0x3c3e39=_0x3d1090,_0x10b145=[],_0x79793e=[];return _0x54b2bd instanceof Array?_0x54b2bd[_0x3c3e39(0x7ff)](_0x5083c2=>{const _0x229e29=_0x3c3e39;_0x5083c2[_0x229e29(0x7ff)](_0x37ce7a=>{const _0x138139=_0x229e29;_0x20a1b1[_0x138139(0x1e2)](_0x37ce7a[_0x138139(0x88c)])&&_0x10b145[_0x138139(0xa93)](_0x37ce7a),_0x3fc96['includes'](_0x37ce7a['type'])&&_0x79793e[_0x138139(0xa93)](_0x37ce7a);});}):this[_0x3c3e39(0x832)][_0x3c3e39(0x8e8)](_0x54b2bd),_0x10b145[_0x3c3e39(0x73c)]>0x0&&_0x15da37?{...this[_0x3c3e39(0x21e)](_0x15da37,_0x10b145),'origin':_0x39d673[_0x3c3e39(0x3ab)],'streamId':_0x15da37}:_0x79793e[_0x3c3e39(0x73c)]>0x0&&_0x15da37?{...this[_0x3c3e39(0x19a)](_0x15da37,_0x79793e),'origin':_0x39d673['Sender'],'streamId':_0x15da37}:void 0x0;}[_0x3d1090(0xa1a)](){const _0x44274f=_0x3d1090,_0x5ad8c6={};this[_0x44274f(0xa15)]['forEach']((_0x17a5d5,_0xd914c6)=>{const _0x289301=_0x44274f;_0x5ad8c6[_0xd914c6]=_0x17a5d5[_0x289301(0xa1a)]();});const _0x43eeab={};return this[_0x44274f(0x456)][_0x44274f(0x7ff)]((_0x41c7e6,_0x4b545c)=>{const _0x384aec=_0x44274f;_0x43eeab[_0x4b545c]=_0x41c7e6[_0x384aec(0xa1a)]();}),{'bitrate':this['bitrate'],'senderBitrate':this[_0x44274f(0x784)],'receiverBitrate':this[_0x44274f(0x4b0)],'senderStreams':_0x5ad8c6,'receiverStreams':_0x43eeab,'dataChannel':this[_0x44274f(0x832)]['getReport']()};}['processInboundReports'](_0x16c8f6,_0xe53440){const _0x3f834a=_0x3d1090;return this[_0x3f834a(0x456)]['has'](_0x16c8f6)||this['receiverStreams']['set'](_0x16c8f6,new _0x5084ec()),this[_0x3f834a(0x456)][_0x3f834a(0x252)](_0x16c8f6)['processReports'](_0xe53440);}[_0x3d1090(0x19a)](_0x2b0796,_0x583233){const _0x15146d=_0x3d1090;return this[_0x15146d(0xa15)]['has'](_0x2b0796)||this[_0x15146d(0xa15)][_0x15146d(0x6f0)](_0x2b0796,new _0x5084ec()),this['senderStreams']['get'](_0x2b0796)[_0x15146d(0xa84)](_0x583233);}}class _0x1df939{[_0x3d1090(0x915)]=new Map();[_0x3d1090(0x538)]=0x0;[_0x3d1090(0x7ec)]=0x0;['pubsubTopics']=new Map();[_0x3d1090(0x6d8)]=new Map();[_0x3d1090(0xaa6)]=new Map();[_0x3d1090(0x8d8)]=new Map();[_0x3d1090(0x503)]=new Map();['vectorDatabases']=new Map();[_0x3d1090(0x6d9)]=new Map();[_0x3d1090(0x56c)]=new Map();[_0x3d1090(0x3e9)]=new Map();[_0x3d1090(0xa97)]=new Map();[_0x3d1090(0x6f5)]=new Map();[_0x3d1090(0x745)]=new Map();[_0x3d1090(0x1b5)]=new Map();[_0x3d1090(0x613)];[_0x3d1090(0xa1a)](){const _0x55e75b=_0x3d1090,_0x1101d8={};this['nodes']['forEach']((_0x834a9,_0x4fe3e5)=>{const _0x4fe11d=a0_0x50c4;_0x1101d8[_0x4fe3e5]=_0x834a9[_0x4fe11d(0xa1a)]();});let _0x5ea589=0x0;this[_0x55e75b(0x6f5)][_0x55e75b(0x7ff)](_0x39e97e=>{_0x5ea589+=_0x39e97e;});let _0x5daaeb=0x0;this[_0x55e75b(0x745)]['forEach'](_0x1bac95=>{_0x5daaeb+=_0x1bac95;});const _0x56a61c=_0x5ea589+_0x5daaeb;let _0x277c71={'messages':{'total':0x0}};this[_0x55e75b(0x1b5)][_0x55e75b(0x7ff)](_0x13c2bc=>{const _0x4c0d93=_0x55e75b;Object[_0x4c0d93(0x912)](_0x13c2bc)[_0x4c0d93(0x7ff)](_0x28ed2a=>{const _0x4ea9c5=_0x4c0d93;_0x277c71[_0x28ed2a]||(_0x277c71[_0x28ed2a]={}),Object[_0x4ea9c5(0x912)](_0x13c2bc[_0x28ed2a])['forEach'](_0x38c56d=>{_0x277c71[_0x28ed2a][_0x38c56d]||(_0x277c71[_0x28ed2a][_0x38c56d]=0x0),_0x277c71[_0x28ed2a][_0x38c56d]+=_0x13c2bc[_0x28ed2a][_0x38c56d];});});});let _0xcae84f=0x0,_0x5f0437=0x0,_0xa5d313=0x0,_0x541c2a=0x0,_0x34285f=0x0;return this[_0x55e75b(0x5eb)][_0x55e75b(0x7ff)](_0xb51593=>{const _0x453a30=_0x55e75b;_0x5f0437+=_0xb51593[_0x453a30(0x20a)],_0xa5d313+=_0xb51593[_0x453a30(0x658)],_0x541c2a+=_0xb51593['bytesSent'],_0x34285f+=_0xb51593[_0x453a30(0x335)];}),this[_0x55e75b(0x6d8)][_0x55e75b(0x7ff)](_0x5f02f8=>{const _0x1c0161=_0x55e75b;_0xcae84f+=_0x5f02f8[_0x1c0161(0x724)],_0x5f0437+=_0x5f02f8[_0x1c0161(0x20a)],_0xa5d313+=_0x5f02f8['messagesReceived'],_0x541c2a+=_0x5f02f8['bytesSent'],_0x34285f+=_0x5f02f8[_0x1c0161(0x335)];}),this[_0x55e75b(0xaa6)][_0x55e75b(0x7ff)](_0x540bc4=>{const _0x394a52=_0x55e75b;_0xcae84f+=_0x540bc4[_0x394a52(0x724)],_0x5f0437+=_0x540bc4['messagesSent'],_0xa5d313+=_0x540bc4['messagesReceived'],_0x541c2a+=_0x540bc4['bytesSent'],_0x34285f+=_0x540bc4[_0x394a52(0x335)];}),this[_0x55e75b(0x8d8)]['forEach'](_0x38cd97=>{const _0x4260ce=_0x55e75b;_0xcae84f+=_0x38cd97[_0x4260ce(0x724)],_0x5f0437+=_0x38cd97['messagesSent'],_0xa5d313+=_0x38cd97[_0x4260ce(0x658)],_0x541c2a+=_0x38cd97[_0x4260ce(0x6bd)],_0x34285f+=_0x38cd97[_0x4260ce(0x335)];}),this[_0x55e75b(0x503)][_0x55e75b(0x7ff)](_0x58f3a0=>{const _0x4eeb9b=_0x55e75b;_0xcae84f+=_0x58f3a0['storage'],_0x5f0437+=_0x58f3a0['messagesSent'],_0xa5d313+=_0x58f3a0[_0x4eeb9b(0x658)],_0x541c2a+=_0x58f3a0[_0x4eeb9b(0x6bd)],_0x34285f+=_0x58f3a0[_0x4eeb9b(0x335)];}),this[_0x55e75b(0x634)][_0x55e75b(0x7ff)](_0xd0f56d=>{const _0x4f7c60=_0x55e75b;_0xcae84f+=_0xd0f56d[_0x4f7c60(0x724)],_0x5f0437+=_0xd0f56d['messagesSent'],_0xa5d313+=_0xd0f56d[_0x4f7c60(0x658)],_0x541c2a+=_0xd0f56d[_0x4f7c60(0x6bd)],_0x34285f+=_0xd0f56d[_0x4f7c60(0x335)];}),this['graphDatabases'][_0x55e75b(0x7ff)](_0x42d8db=>{const _0x3620f5=_0x55e75b;_0xcae84f+=_0x42d8db[_0x3620f5(0x724)],_0x5f0437+=_0x42d8db[_0x3620f5(0x20a)],_0xa5d313+=_0x42d8db[_0x3620f5(0x658)],_0x541c2a+=_0x42d8db[_0x3620f5(0x6bd)],_0x34285f+=_0x42d8db[_0x3620f5(0x335)];}),{'STVolatility':this[_0x55e75b(0x2b9)](),'DTVolatility':this[_0x55e75b(0x94f)](),'bitrate':this['getBitrate'](),'senderBitrate':this[_0x55e75b(0x547)](),'receiverBitrate':this['getReceiverBitrate'](),'totalStorageSize':_0xcae84f,'totalMessages':_0x5f0437+_0xa5d313,'totalMessagesSent':_0x5f0437,'totalMessagesReceived':_0xa5d313,'totalBytes':_0x541c2a+_0x34285f,'totalBytesSent':_0x541c2a,'totalBytesReceived':_0x34285f,'systemMessages':_0x277c71,'timeProcessing':_0x56a61c,'nodes':_0x1101d8,'pubsubTopics':Object[_0x55e75b(0x90d)](this[_0x55e75b(0x5eb)]),'objectStores':Object[_0x55e75b(0x90d)](this['objectStores']),'keyValueDatabases':Object[_0x55e75b(0x90d)](this[_0x55e75b(0xaa6)]),'generativeAIContexts':Object['fromEntries'](this[_0x55e75b(0x8d8)]),'generativeAIWorkers':Object[_0x55e75b(0x90d)](this[_0x55e75b(0x503)]),'vectorDatabases':Object[_0x55e75b(0x90d)](this[_0x55e75b(0x634)]),'graphDatabases':Object[_0x55e75b(0x90d)](this[_0x55e75b(0x6d9)]),'externalStorages':Object[_0x55e75b(0x90d)](this[_0x55e75b(0x56c)])};}[_0x3d1090(0x318)](_0x311a2f){const _0x346687=_0x3d1090;this[_0x346687(0x915)]['set'](_0x311a2f,new _0x5a2bc8());}[_0x3d1090(0x528)](_0x54e1cf){const _0x38443f=_0x3d1090;this[_0x38443f(0x915)][_0x38443f(0x54a)](_0x54e1cf);}[_0x3d1090(0xa84)](_0x3a10a9,_0x1134f3,_0x31f7c0){const _0x5e884c=_0x3d1090;_0x1134f3 instanceof Array||this[_0x5e884c(0x4ee)](_0x3a10a9,_0x1134f3);const _0x5e9e04=this[_0x5e884c(0x915)][_0x5e884c(0x252)](_0x3a10a9)?.['processReports'](_0x1134f3,_0x31f7c0);_0x5e9e04&&this[_0x5e884c(0x613)][_0x5e884c(0x681)]({'sourceId':_0x22135a,'messageType':_0x17c3e2[_0x5e884c(0xa7a)],'content':{'type':_0x51b97e[_0x5e884c(0x6c5)],'data':{..._0x5e9e04,'nodeId':_0x3a10a9}}});}['processLocalReport'](_0x1b42cb){const _0x572864=_0x3d1090;this['setScheduleTime'](_0x1b42cb['secheduleTime']),this[_0x572864(0x5c6)](_0x1b42cb[_0x572864(0x7ec)]),this[_0x572864(0x613)][_0x572864(0x681)]({'sourceId':_0x22135a,'messageType':_0x17c3e2[_0x572864(0xa7a)],'content':{'type':_0x51b97e[_0x572864(0x6f7)],'data':{'STVolatility':this['getSTVolatility'](),'DTVolatility':this['getDTVolatility']()}}});}['processServiceReport'](_0x468234,_0x5abe1f,_0x12af26){const _0x25d452=_0x3d1090;switch(_0x5abe1f){case _0x4a88e8['PubSubTopicStats']:this[_0x25d452(0x5eb)][_0x25d452(0x6f0)](_0x468234,_0x12af26);break;case _0x4a88e8['ObjectStoreStats']:this[_0x25d452(0x6d8)]['set'](_0x468234,_0x12af26);break;case _0x4a88e8[_0x25d452(0x7b1)]:this[_0x25d452(0xaa6)]['set'](_0x468234,_0x12af26);break;case _0x4a88e8[_0x25d452(0x65e)]:this[_0x25d452(0x8d8)][_0x25d452(0x6f0)](_0x468234,_0x12af26);break;case _0x4a88e8[_0x25d452(0x867)]:this['generativeAIWorkers'][_0x25d452(0x6f0)](_0x468234,_0x12af26);break;case _0x4a88e8[_0x25d452(0x418)]:this[_0x25d452(0x634)][_0x25d452(0x6f0)](_0x468234,_0x12af26);break;case _0x4a88e8[_0x25d452(0x394)]:this[_0x25d452(0x6d9)]['set'](_0x468234,_0x12af26);break;case _0x4a88e8[_0x25d452(0x930)]:this[_0x25d452(0x56c)][_0x25d452(0x6f0)](_0x468234,_0x12af26);}}[_0x3d1090(0x60f)](_0x4c260f){const _0x28c7b3=_0x3d1090;this[_0x28c7b3(0x613)]=_0x4c260f;}['unregisterSystemPublisher'](){delete this['systemTopic'];}[_0x3d1090(0x2b9)](){return this['scheduleTime']>0x0&&this['scheduleTime']-_0x2a0e1e>0x0?(this['scheduleTime']-_0x2a0e1e)/_0x2a0e1e:0x0;}[_0x3d1090(0x94f)](){const _0xc18d49=_0x3d1090;return this[_0xc18d49(0x7ec)]>0x0&&this[_0xc18d49(0x7ec)]-0x64>0x0?(this[_0xc18d49(0x7ec)]-0x64)/0x64:0x0;}['getSenderBitrate'](){const _0x21bdb0=_0x3d1090;let _0xaabd2e=0x0;return this[_0x21bdb0(0x915)][_0x21bdb0(0x7ff)](_0x92fc5e=>{const _0x502a58=_0x21bdb0;_0xaabd2e+=_0x92fc5e[_0x502a58(0x784)];}),_0xaabd2e;}[_0x3d1090(0x9a5)](){const _0x3c5642=_0x3d1090;let _0x384832=0x0;return this[_0x3c5642(0x915)][_0x3c5642(0x7ff)](_0x2b18fb=>{const _0x48f0bc=_0x3c5642;_0x384832+=_0x2b18fb[_0x48f0bc(0x4b0)];}),_0x384832;}[_0x3d1090(0x699)](){const _0x248503=_0x3d1090;let _0x19923e=0x0;return this[_0x248503(0x915)][_0x248503(0x7ff)](_0x572ead=>{const _0x4a9b41=_0x248503;_0x19923e+=_0x572ead[_0x4a9b41(0x493)];}),_0x19923e;}[_0x3d1090(0x1e1)](_0x33da85){const _0x448d2a=_0x3d1090;this[_0x448d2a(0x538)]=_0x33da85;}['setDurationTime'](_0x202592){this['durationTime']=_0x202592;}['processDataChannelReport'](_0x53fb25,_0x313e95){const _0x1d24e2=_0x3d1090;switch(_0x313e95[_0x1d24e2(0x38c)]){case _0x39d673[_0x1d24e2(0x500)]:this[_0x1d24e2(0x9ac)](_0x53fb25,_0x313e95);break;case _0x39d673['Receiver']:this[_0x1d24e2(0x9fe)](_0x53fb25,_0x313e95);}}[_0x3d1090(0x9ac)](_0x2f05a6,_0x12da8b){const _0x4ed4d8=_0x3d1090;this[_0x4ed4d8(0x3e9)][_0x4ed4d8(0x6f0)](_0x2f05a6,_0x12da8b[_0x4ed4d8(0x20a)]),this[_0x4ed4d8(0x6f5)]['set'](_0x2f05a6,_0x12da8b[_0x4ed4d8(0x678)]);}['processReceiverReport'](_0x284223,_0x42c112){const _0x1e8549=_0x3d1090;this['receiverTotalMessages'][_0x1e8549(0x6f0)](_0x284223,_0x42c112[_0x1e8549(0x658)]),this['receiverTimeProcessing'][_0x1e8549(0x6f0)](_0x284223,_0x42c112[_0x1e8549(0x64e)]),this[_0x1e8549(0x1b5)][_0x1e8549(0x6f0)](_0x284223,_0x42c112['systemMessages']);}}class _0x461be0{[_0x3d1090(0x9e8)];['remoteNodes']=new Set();[_0x3d1090(0x505)];[_0x3d1090(0x61d)];[_0x3d1090(0x1da)];[_0x3d1090(0x75c)]=new _0x1df939();constructor(_0xc246ba){const _0x14add7=_0x3d1090;this['configs']=_0xc246ba,this[_0x14add7(0x9e8)][_0x14add7(0x93d)]['registerSystemSource'](this[_0x14add7(0x75c)]),this[_0x14add7(0x61d)]=this['setupStatsCollection'](),this[_0x14add7(0x1da)]=this[_0x14add7(0x432)]();}[_0x3d1090(0x8d5)](){const _0x583e9e=_0x3d1090;this['configs']['mediator'][_0x583e9e(0x5ad)](this['statsReport']),this[_0x583e9e(0x1da)](),this[_0x583e9e(0x61d)]();}[_0x3d1090(0x318)](_0x487782){const _0x23148f=_0x3d1090;this['remoteNodes']['add'](_0x487782),this['statsReport'][_0x23148f(0x318)](_0x487782);}[_0x3d1090(0x528)](_0x150aa5){const _0x47d13d=_0x3d1090;this[_0x47d13d(0x436)][_0x47d13d(0x54a)](_0x150aa5),this[_0x47d13d(0x75c)]['removeRemoteNode'](_0x150aa5);}[_0x3d1090(0x233)](_0x595fbf){const _0x3df66f=_0x3d1090;if(_0x595fbf['content']['type']===_0x465160[_0x3df66f(0xa7a)]){const {nodeId:_0x1e4f36,streamId:_0x241264,stats:_0x5988f7}=_0x595fbf[_0x3df66f(0x1d7)];this[_0x3df66f(0x75c)][_0x3df66f(0xa84)](_0x1e4f36,_0x5988f7,_0x241264);}}[_0x3d1090(0x5fa)](_0xb7a279){const _0x1ca853=_0x3d1090;switch(_0xb7a279[_0x1ca853(0x1d7)][_0x1ca853(0x88c)]){case _0x4a88e8[_0x1ca853(0x7b2)]:case _0x4a88e8['KeyValueDatabaseStats']:case _0x4a88e8[_0x1ca853(0x36b)]:case _0x4a88e8[_0x1ca853(0x65e)]:case _0x4a88e8[_0x1ca853(0x867)]:case _0x4a88e8['VectorDatabaseStats']:case _0x4a88e8[_0x1ca853(0x394)]:case _0x4a88e8['ExternalStorageStats']:this[_0x1ca853(0x75c)][_0x1ca853(0x47d)](_0xb7a279[_0x1ca853(0x1d7)][_0x1ca853(0x7d3)],_0xb7a279[_0x1ca853(0x1d7)][_0x1ca853(0x88c)],_0xb7a279['content'][_0x1ca853(0x959)]);}}[_0x3d1090(0x432)](){const _0x88fce0=_0x3d1090;return _0x5aa24a[_0x88fce0(0x8e2)](()=>{const _0x31a1fa=_0x88fce0,_0x306cfd=this[_0x31a1fa(0x75c)][_0x31a1fa(0xa1a)]();_0x3dc4e5['log'](_0x5a543d[_0x31a1fa(0xa7a)],_0x31a1fa(0x992),_0x306cfd),(0x0,_0x11d3a3[_0x31a1fa(0x2c1)])((0x0,_0x11d3a3[_0x31a1fa(0x41d)])(_0x2f14fd[_0x31a1fa(0x78d)](),'developers/'+this[_0x31a1fa(0x9e8)][_0x31a1fa(0x43c)]+'/stats'),{'clusterId':this[_0x31a1fa(0x9e8)]['clusterId'],'nodeId':this[_0x31a1fa(0x9e8)][_0x31a1fa(0x5d3)]['getId'](),'nodeType':this[_0x31a1fa(0x9e8)]['localNode'][_0x31a1fa(0x88c)],'timestamp':(0x0,_0x11d3a3[_0x31a1fa(0x20d)])(),'report':_0x306cfd}),_0x3dc4e5['logEvent'](_0x31a1fa(0x959),{'clusterId':this[_0x31a1fa(0x9e8)][_0x31a1fa(0xa3c)],'nodeId':this[_0x31a1fa(0x9e8)][_0x31a1fa(0x5d3)][_0x31a1fa(0x79a)](),'nodeType':this[_0x31a1fa(0x9e8)][_0x31a1fa(0x5d3)][_0x31a1fa(0x88c)],'data':{'report':_0x306cfd}});},_0x54415f);}[_0x3d1090(0x54f)](){const _0x55fdec=_0x3d1090;let _0x2b5728=!0x1,_0x9d5bb0=Date[_0x55fdec(0x267)]();return _0x5aa24a[_0x55fdec(0x8e2)](async()=>{const _0x2a2be8=_0x55fdec;if(_0x2b5728)return;if(_0x2b5728=!0x0,0x0===this[_0x2a2be8(0x436)][_0x2a2be8(0x8e5)])return delete this[_0x2a2be8(0x505)],void(_0x2b5728=!0x1);const _0x4ea8e7=Date['now']();this[_0x2a2be8(0x836)]();try{await this[_0x2a2be8(0x9e8)][_0x2a2be8(0x93d)][_0x2a2be8(0x323)](this['nextNodeId']);}catch(_0x18b078){}this['statsReport'][_0x2a2be8(0x427)]({'secheduleTime':_0x4ea8e7-_0x9d5bb0,'durationTime':Date[_0x2a2be8(0x267)]()-_0x4ea8e7}),_0x9d5bb0=_0x4ea8e7,_0x2b5728=!0x1;},_0x2a0e1e);}[_0x3d1090(0x836)](){const _0xb4a531=_0x3d1090;let _0x34f40f,_0x49c18f=!0x1;this[_0xb4a531(0x505)]&&(this[_0xb4a531(0x436)][_0xb4a531(0x1ac)](this['nextNodeId'])||delete this[_0xb4a531(0x505)]);for(const _0x170c0d of this[_0xb4a531(0x436)])if(_0x34f40f||(_0x34f40f=_0x170c0d),this[_0xb4a531(0x505)]!==_0x170c0d){if(_0x49c18f)return void(this[_0xb4a531(0x505)]=_0x170c0d);}else _0x49c18f=!0x0,delete this[_0xb4a531(0x505)];this['nextNodeId']||(this[_0xb4a531(0x505)]=_0x34f40f);}}class _0xec83f0{['source'];['destination'];[_0x3d1090(0x613)];constructor(_0x4f99ce,_0xe9410){const _0x33c1f5=_0x3d1090;this[_0x33c1f5(0x7e1)]=_0x4f99ce,this[_0x33c1f5(0x93e)]=_0xe9410;}['registerSystemPublisher'](_0x36c8a4){const _0xe77947=_0x3d1090;this[_0xe77947(0x613)]=_0x36c8a4;}[_0x3d1090(0x7b7)](){const _0x279d85=_0x3d1090;delete this[_0x279d85(0x613)];}}class _0x525a86 extends _0xec83f0{[_0x3d1090(0x7e1)];[_0x3d1090(0x93e)];['params'];constructor(_0xb71ec0,_0x3470ab,_0x3eec85){const _0xa463ae=_0x3d1090;super(_0xb71ec0,_0x3470ab),this[_0xa463ae(0x7e1)]=_0xb71ec0,this[_0xa463ae(0x93e)]=_0x3470ab,this['params']=_0x3eec85;}[_0x3d1090(0x81b)](_0x47e464,_0x29ed2e,_0x49734e){const _0xf3453b=_0x3d1090;if(this[_0xf3453b(0x93e)]['getContentType']()===_0x25b155[_0xf3453b(0x2ce)][_0xf3453b(0x39e)]){const _0x26b018={'type':_0x12f68d['SubscribeMediaStream'],'label':this[_0xf3453b(0x93e)][_0xf3453b(0xa01)](),'ownerId':_0x47e464,'trackKinds':_0x29ed2e??this[_0xf3453b(0x93e)][_0xf3453b(0x3f8)](),'params':_0x49734e};this['systemTopic'][_0xf3453b(0x681)]({'sourceId':this[_0xf3453b(0x7e1)][_0xf3453b(0x8b2)](),'destinationIds':[this['source'][_0xf3453b(0x9d0)]()],'messageType':_0x17c3e2['Subscription'],'content':_0x26b018}),this[_0xf3453b(0x523)]=_0x49734e;}}['update'](_0xa24b9a,_0x397d9b){const _0x5ae793=_0x3d1090;if(this[_0x5ae793(0x93e)]['getContentType']()===_0x25b155[_0x5ae793(0x2ce)]['Media']){const _0x206828={'type':_0x12f68d['UpdateMediaStream'],'label':this[_0x5ae793(0x93e)][_0x5ae793(0xa01)](),'ownerId':_0xa24b9a,'params':_0x397d9b};this[_0x5ae793(0x613)][_0x5ae793(0x681)]({'sourceId':this[_0x5ae793(0x7e1)]['getLocalId'](),'destinationIds':[this[_0x5ae793(0x7e1)][_0x5ae793(0x9d0)]()],'messageType':_0x17c3e2[_0x5ae793(0x957)],'content':_0x206828}),this['params']=_0x397d9b;}}[_0x3d1090(0x7d0)](_0x25ad65,_0x3c5e9f,_0x48f14b){const _0x1197af=_0x3d1090;if(this[_0x1197af(0x93e)][_0x1197af(0x3b7)]()===_0x25b155[_0x1197af(0x2ce)][_0x1197af(0x39e)]){const _0x4bd290={'type':_0x12f68d['UnsubscribeMediaStream'],'label':this[_0x1197af(0x93e)][_0x1197af(0xa01)](),'ownerId':_0x25ad65,'trackKinds':_0x48f14b??this[_0x1197af(0x93e)][_0x1197af(0x3f8)](),'remainingTracks':_0x3c5e9f};this[_0x1197af(0x613)][_0x1197af(0x681)]({'sourceId':this[_0x1197af(0x7e1)][_0x1197af(0x8b2)](),'destinationIds':[this['source'][_0x1197af(0x9d0)]()],'messageType':_0x17c3e2['Subscription'],'content':_0x4bd290});}}}class _0x551908{[_0x3d1090(0x530)];[_0x3d1090(0x37a)];['tracks'];[_0x3d1090(0x613)];[_0x3d1090(0x1a8)]=new Set();[_0x3d1090(0x7ba)]=Date['now']();[_0x3d1090(0x523)];[_0x3d1090(0x202)]=0x0;constructor(_0x1f45dd,_0x1eb1f,_0x5d1c28,_0x27e859){const _0x46bebd=_0x3d1090;this[_0x46bebd(0x530)]=_0x1eb1f,this[_0x46bebd(0x37a)]=_0x5d1c28,this[_0x46bebd(0x531)]=_0x27e859,_0x1f45dd[_0x46bebd(0x7ff)](_0x471678=>{const _0x470209=_0x46bebd;this['answers']['add']({'nodeId':_0x471678,'type':_0x4d5d76[_0x470209(0x301)]});});}[_0x3d1090(0x608)](){return this['tracks'];}[_0x3d1090(0x60f)](_0x1f54df){const _0x22ee71=_0x3d1090;this[_0x22ee71(0x613)]=_0x1f54df;}[_0x3d1090(0x7b7)](){const _0x343c2b=_0x3d1090;delete this[_0x343c2b(0x613)];}[_0x3d1090(0x548)](_0x2e10a0,_0x151e91){const _0x22b4f5=_0x3d1090;this[_0x22b4f5(0x7ba)]=Date[_0x22b4f5(0x267)](),this[_0x22b4f5(0x1a8)]['clear'](),_0x2e10a0[_0x22b4f5(0x7ff)](_0x2268fb=>{const _0x3a82cb=_0x22b4f5;this[_0x3a82cb(0x1a8)][_0x3a82cb(0x691)]({'nodeId':_0x2268fb,'type':_0x4d5d76[_0x3a82cb(0x301)]});}),this[_0x22b4f5(0x202)]+=0x1,this[_0x22b4f5(0x530)]=_0x151e91;}[_0x3d1090(0x570)](_0x54839d,_0x36ae23,_0x3f1015,_0x31492f,_0x515802){const _0x498759=_0x3d1090;if(this['retryCount']>0xa)throw new _0x1b9d16(_0x1b9d16[_0x498759(0x276)][_0x498759(0x830)],{'answers':Array[_0x498759(0x2bc)](this[_0x498759(0x1a8)])[_0x498759(0x855)](_0x2579e7=>({'nodeId':_0x2579e7['nodeId'],'type':_0x2579e7[_0x498759(0x88c)]}))});const _0x250029=Array[_0x498759(0x2bc)](this['answers'])[_0x498759(0x855)](_0xcc85ac=>_0xcc85ac['nodeId']);this[_0x498759(0x523)]=_0x515802,this[_0x498759(0x613)][_0x498759(0x681)]({'sourceId':_0x54839d,'destinationIds':_0x250029,'messageType':_0x17c3e2[_0x498759(0x957)],'content':{'type':_0x12f68d['NeedMediaStream'],'label':_0x3f1015,'ownerId':_0x36ae23,'trackKinds':_0x31492f,'params':_0x515802}}),_0x3dc4e5['log'](_0x5a543d[_0x498759(0x957)],_0x498759(0x989),_0x54839d,_0x250029);}[_0x3d1090(0x533)](_0x1b1bbe,_0x2cb13e){const _0x115668=_0x3d1090;switch(_0x2cb13e['type']){case _0x12f68d['CanProvideMediaStream']:{const _0x31ea50=this[_0x115668(0x530)]>=_0x2cb13e[_0x115668(0x56f)]&&_0x2cb13e[_0x115668(0x56f)]<=this['maxDistance'],_0x5ad84a=Array[_0x115668(0x2bc)](this[_0x115668(0x1a8)])[_0x115668(0x447)](_0x3b60d8=>_0x3b60d8['nodeId']===_0x1b1bbe);_0x5ad84a[_0x115668(0x88c)]=_0x31ea50?_0x4d5d76[_0x115668(0x59a)]:_0x4d5d76[_0x115668(0x7d8)],_0x5ad84a[_0x115668(0x5c0)]=_0x2cb13e[_0x115668(0x5c0)],_0x5ad84a['distance']=_0x2cb13e[_0x115668(0x56f)],_0x5ad84a[_0x115668(0xa23)]=_0x2cb13e[_0x115668(0xa23)],_0x5ad84a[_0x115668(0x558)]=Date[_0x115668(0x267)]()-this['startTime'],_0x5ad84a[_0x115668(0x523)]=this[_0x115668(0x523)],_0x5ad84a[_0x115668(0x909)]=_0x2cb13e[_0x115668(0x909)],_0x5ad84a['trackKinds']=_0x2cb13e[_0x115668(0x9ff)],_0x5ad84a['streamLabel']=_0x2cb13e[_0x115668(0x7d3)],_0x3dc4e5[_0x115668(0x546)](_0x5a543d['Subscription'],(_0x31ea50?'Accepted':_0x115668(0x7d8))+_0x115668(0x1e6),_0x5ad84a);break;}case _0x12f68d['CannotProvideMediaStream']:{const _0x43049b=Array['from'](this[_0x115668(0x1a8)])[_0x115668(0x447)](_0xf80bf=>_0xf80bf[_0x115668(0x7a3)]===_0x1b1bbe);_0x43049b['type']=_0x4d5d76[_0x115668(0x7d8)],_0x3dc4e5[_0x115668(0x546)](_0x5a543d[_0x115668(0x957)],_0x115668(0x5df),_0x43049b);break;}}if(this[_0x115668(0x34c)]())return this[_0x115668(0x431)]();}['chooseAnswer'](){const _0x5cf032=_0x3d1090,_0x1094d4=Array['from'](this[_0x5cf032(0x1a8)])[_0x5cf032(0x25d)](_0x24cb6d=>_0x24cb6d[_0x5cf032(0x88c)]===_0x4d5d76[_0x5cf032(0x59a)])['sort']((_0x3c224a,_0x1ed399)=>_0x3c224a[_0x5cf032(0x5c0)]===_0x1ed399[_0x5cf032(0x5c0)]?_0x3c224a[_0x5cf032(0x558)]-_0x1ed399[_0x5cf032(0x558)]:_0x3c224a[_0x5cf032(0x5c0)]-_0x1ed399[_0x5cf032(0x5c0)]);if(0x0===_0x1094d4[_0x5cf032(0x73c)])throw new _0x1b9d16(_0x1b9d16[_0x5cf032(0x276)][_0x5cf032(0x830)],{'answers':Array[_0x5cf032(0x2bc)](this[_0x5cf032(0x1a8)])[_0x5cf032(0x855)](_0x2b538d=>({'nodeId':_0x2b538d[_0x5cf032(0x7a3)],'type':_0x2b538d[_0x5cf032(0x88c)]}))});return _0x3dc4e5[_0x5cf032(0x546)](_0x5a543d['Subscription'],'Chosen\x20answer',_0x1094d4[0x0],this['answers']),_0x1094d4[0x0];}[_0x3d1090(0x34c)](){const _0x2a6cd1=_0x3d1090;for(const _0x30fe7d of this['answers'])if(_0x30fe7d[_0x2a6cd1(0x88c)]===_0x4d5d76[_0x2a6cd1(0x301)])return!0x1;return!0x0;}}class _0x15ddc9{[_0x3d1090(0x7d3)];[_0x3d1090(0x886)];[_0x3d1090(0x3b8)]=_0x353664();constructor(_0x36a5b4,_0x21400b){const _0x1a7a4a=_0x3d1090;this[_0x1a7a4a(0x7d3)]=_0x36a5b4,this[_0x1a7a4a(0x886)]=_0x21400b;}[_0x3d1090(0xa01)](){const _0x1f9cfc=_0x3d1090;return this[_0x1f9cfc(0x7d3)];}[_0x3d1090(0x3b7)](){return this['contentType'];}['registerSource'](_0x38eeca){const _0x43821a=_0x3d1090;_0x38eeca[_0x43821a(0x942)](this);}['registerDestination'](_0x2d27fa){const _0x367eaf=_0x3d1090;_0x2d27fa[_0x367eaf(0x208)](this);}['publish'](_0x10acfe){const _0x53b453=_0x3d1090;this['listener'][_0x53b453(0x681)]({'topicLabel':this[_0x53b453(0x7d3)],'contentType':this['contentType'],'uuid':(0x0,_0x14a38c['v4'])(),'recipients':[],..._0x10acfe});}['subscribe'](_0x2640c7){const _0x12ce43=_0x3d1090;return this[_0x12ce43(0x3b8)][_0x12ce43(0x81b)](_0x2640c7);}[_0x3d1090(0x52e)](_0x4d11c2){const _0x4ffb1e=_0x3d1090;_0x4d11c2[_0x4ffb1e(0x2be)](this);}[_0x3d1090(0x1fa)](_0x3a8731){const _0x4f4262=_0x3d1090;_0x3a8731[_0x4f4262(0x669)](this);}}class _0x15b1e1{[_0x3d1090(0x3dc)]={'topics':new Map(),'subscriptions':new Map()};[_0x3d1090(0xa96)];constructor(_0x406fea){this['getPartsFromSubscription']=_0x406fea;}get[_0x3d1090(0x3da)](){const _0x2c8bbe=_0x3d1090;return this[_0x2c8bbe(0x3dc)][_0x2c8bbe(0x3da)];}get['topics'](){const _0xf7bba0=_0x3d1090;return this[_0xf7bba0(0x3dc)]['topics'];}[_0x3d1090(0x597)](_0x39c9f9,_0x3248a7){const _0x53222b=_0x3d1090,_0x58c490=this['getPartsFromSubscription'](_0x3248a7),_0x756908=_0x3d2f72(_0x39c9f9);if(!_0x58c490[_0x53222b(0x4c9)])throw new _0x1b9d16(_0x1b9d16[_0x53222b(0x276)][_0x53222b(0x982)],{'message':_0x756908+':\x20'+_0x58c490['remoteId']+'\x20does\x20not\x20support\x20content\x20type\x20'+_0x58c490['contentType'],'subscriptionType':_0x39c9f9,'subscription':_0x3248a7,'subscriptonParts':_0x58c490});const _0x2a5bb0=_0x3781c9(_0x39c9f9,_0x58c490);if(this['maps'][_0x53222b(0x3da)]['has'](_0x2a5bb0))throw new _0x1b9d16(_0x1b9d16[_0x53222b(0x276)][_0x53222b(0x982)],{'message':_0x756908+':\x20'+_0x2a5bb0+'\x20already\x20exists','subscriptionType':_0x39c9f9,'subscription':_0x3248a7,'subscriptonParts':_0x58c490});this['maps'][_0x53222b(0x3da)][_0x53222b(0x6f0)](_0x2a5bb0,_0x3248a7),this[_0x53222b(0x42d)](_0x58c490,_0x3248a7);}[_0x3d1090(0xa87)](_0x21fc19,_0x5159e0){const _0x524963=_0x3d1090,_0x27f431=_0x3781c9(_0x5159e0,_0x21fc19),_0x42f0f8=this[_0x524963(0x3dc)][_0x524963(0x3da)]['get'](_0x27f431);if(!_0x42f0f8)throw new _0x1b9d16(_0x1b9d16[_0x524963(0x276)][_0x524963(0x982)],{'message':_0x3d2f72(_0x5159e0)+':\x20'+_0x27f431+_0x524963(0x4b1),'subscriptionType':_0x5159e0,'subscription':_0x42f0f8,'subscriptonParts':_0x21fc19});this[_0x524963(0x40c)](_0x42f0f8,_0x27f431,_0x21fc19);}[_0x3d1090(0x40c)](_0x5679c4,_0x12c4d1,_0x9306a5){const _0x3982e1=_0x3d1090;_0x9306a5=_0x9306a5||this[_0x3982e1(0xa96)](_0x5679c4),this[_0x3982e1(0x3dc)][_0x3982e1(0x3da)][_0x3982e1(0x54a)](_0x12c4d1),this[_0x3982e1(0x39c)](_0x9306a5,_0x5679c4);}[_0x3d1090(0x42d)](_0x15f567,{source:_0x2d3af5,destination:_0x4deaf1}){const _0x4d9e2c=_0x3d1090,{contentType:_0x40d51f,label:_0x1b766f,remoteId:_0x4f2d2e}=_0x15f567,_0x32b9ad=_0x14711d(_0x40d51f,_0x1b766f,_0x4f2d2e),_0x523b31=new _0x15ddc9(_0x32b9ad,_0x40d51f);_0x523b31[_0x4d9e2c(0x49d)](_0x2d3af5),_0x523b31[_0x4d9e2c(0x9a4)](_0x4deaf1),this['maps'][_0x4d9e2c(0xaaf)][_0x4d9e2c(0x6f0)](_0x523b31[_0x4d9e2c(0xa01)](),_0x523b31);}[_0x3d1090(0x39c)](_0x5eff40,_0x3be70d){const _0x1ecf1e=_0x3d1090,{contentType:_0x39e724,label:_0x30bd13,remoteId:_0x5ef6ba}=_0x5eff40,_0x2574dd=_0x14711d(_0x39e724,_0x30bd13,_0x5ef6ba),_0x3a2dcb=this[_0x1ecf1e(0x3dc)][_0x1ecf1e(0xaaf)][_0x1ecf1e(0x252)](_0x2574dd);_0x3a2dcb&&(this[_0x1ecf1e(0x9ca)](_0x3a2dcb,_0x3be70d),this[_0x1ecf1e(0x3dc)][_0x1ecf1e(0xaaf)][_0x1ecf1e(0x54a)](_0x2574dd));}['closeTopic'](_0x37ffcb,{source:_0x3ee7e8,destination:_0xd3d702}){const _0x1164ce=_0x3d1090;_0x37ffcb[_0x1164ce(0x52e)](_0x3ee7e8),_0x37ffcb[_0x1164ce(0x1fa)](_0xd3d702);}[_0x3d1090(0x7e9)](_0x44c5b3){const _0x1c1a92=_0x3d1090;this[_0x1c1a92(0x3dc)][_0x1c1a92(0x3da)]['forEach']((_0x32e7e9,_0x56414b)=>{const _0x2f6ae0=_0x1c1a92;_0x56414b[_0x2f6ae0(0x257)](_0x44c5b3)&&this[_0x2f6ae0(0x40c)](_0x32e7e9,_0x56414b);});}}class _0x928c19{[_0x3d1090(0x9e8)];['maxDistance'];['subscriptionRequests']=new Map();[_0x3d1090(0x1a7)]=_0x13f924(new _0x29a46b(this[_0x3d1090(0x5c8)]['bind'](this),()=>_0x5aa24a[_0x3d1090(0x228)](0x64)),!0x0);[_0x3d1090(0xa86)]=new Map();[_0x3d1090(0x3dc)];[_0x3d1090(0x9fd)]=new Map();constructor(_0x368078,_0x5c5299){const _0x48fbdc=_0x3d1090;this[_0x48fbdc(0x9e8)]=_0x368078,this[_0x48fbdc(0x37a)]=_0x5c5299,this[_0x48fbdc(0x3dc)]=new _0x15b1e1(({source:_0x3ed635,destination:_0x25bf0c})=>_0x17099f(_0x25bf0c,_0x3ed635));}['createSubscription'](_0x3829b3,_0x26032a){const _0x35d6e0=_0x3d1090,_0x2c3849=this[_0x35d6e0(0x3d3)](_0x3829b3)&&this['isMediaDestination'](_0x26032a)?new _0x525a86(_0x3829b3,_0x26032a):new _0xec83f0(_0x3829b3,_0x26032a);this['maps'][_0x35d6e0(0x597)](_0x5d42e4[_0x35d6e0(0x775)],_0x2c3849),this[_0x35d6e0(0x9e8)]['mediator'][_0x35d6e0(0x66d)](_0x2c3849);}['removeSubscription'](_0x9864f,_0x3e6811,_0x48e8fb=''){const _0x14f5fb=_0x3d1090,_0x103a31={'contentType':_0x3e6811,'label':_0x9864f,'remoteId':_0x48e8fb},_0x3872b8=_0x3781c9(_0x5d42e4[_0x14f5fb(0x775)],_0x103a31),_0x11de96=this['maps']['subscriptions'][_0x14f5fb(0x252)](_0x3872b8);_0x11de96&&this[_0x14f5fb(0x40c)](_0x11de96,_0x3872b8);}[_0x3d1090(0xa46)](_0x1cbe05){this['removeRemoteStreamSubscription'](_0x1cbe05);}[_0x3d1090(0x9f2)]({label:_0xf044ad,ownerId:_0x3db677,trackKinds:_0x4dfef1,params:_0x32d020}){const _0x1092e4=_0x3d1090;this[_0x1092e4(0x382)](_0xf044ad,_0x3db677,_0x4dfef1,_0x32d020);}[_0x3d1090(0x2ed)]({ownerId:_0x593144,label:_0x446db8,params:_0x3b8088}){const _0x5f019b=_0x3d1090,{subscriptionLabel:_0x3c0d0f}=this['getSubscriptionLabel'](_0x446db8,_0x593144),_0x3f294d=this[_0x5f019b(0x352)](_0x3c0d0f);_0x3f294d&&_0x3f294d[_0x5f019b(0x2f8)](_0x593144,_0x3b8088);}['handleContentUnsubscribeMediaStream']({ownerId:_0x12636d,label:_0x3d3e1b,trackKinds:_0x8e2dd4,remainingTracks:_0x36dc22}){const _0x39ed4b=_0x3d1090,_0x516dc2=_0x3781c9(_0x5d42e4['Incoming'],{'contentType':_0x25b155['ContentType'][_0x39ed4b(0x39e)],'label':_0x3d3e1b,'remoteId':_0x12636d});this[_0x39ed4b(0x1f5)](_0x516dc2);const _0x5724f6=this[_0x39ed4b(0x7ee)]['get'](_0x516dc2);_0x5724f6&&(this[_0x39ed4b(0x9e8)][_0x39ed4b(0x93d)][_0x39ed4b(0x5ad)](_0x5724f6),this[_0x39ed4b(0x7ee)][_0x39ed4b(0x54a)](_0x516dc2));const {parts:_0x856a4b,subscriptionLabel:_0x4a32e3}=this['getSubscriptionLabel'](_0x3d3e1b,_0x12636d),_0x3fe2b4=this['getMediaSubscription'](_0x4a32e3);_0x3fe2b4&&(_0x3fe2b4[_0x39ed4b(0x7d0)](_0x12636d,_0x36dc22,_0x8e2dd4),0x0===_0x36dc22&&this['removeSubscription'](_0x856a4b[_0x39ed4b(0x7d3)],_0x856a4b[_0x39ed4b(0x886)],_0x856a4b[_0x39ed4b(0xaa3)]));}[_0x3d1090(0x6ee)](_0x3bef49,{label:_0x13a96c,ownerId:_0x1f475f,trackKinds:_0x1f2c46,streamId:_0x1045f8,params:_0x589415}){const _0x2c4b5b=_0x3d1090,_0x5f55e9=_0x3781c9(_0x5d42e4[_0x2c4b5b(0x775)],{'contentType':_0x25b155[_0x2c4b5b(0x2ce)]['Media'],'label':_0x1045f8,'remoteId':_0x3bef49}),_0x104c5a=this['maps'][_0x2c4b5b(0x3da)][_0x2c4b5b(0x252)](_0x5f55e9);if(!(_0x104c5a&&_0x104c5a instanceof _0x525a86))throw new _0x1b9d16(_0x1b9d16[_0x2c4b5b(0x276)][_0x2c4b5b(0x5e8)],{'label':_0x5f55e9,'ownerId':_0x1f475f});this[_0x2c4b5b(0x40c)](_0x104c5a,_0x5f55e9),this[_0x2c4b5b(0x382)](_0x13a96c,_0x1f475f,_0x1f2c46,_0x589415);}[_0x3d1090(0x639)](_0x2d9c37,_0x89ad11){const _0x385b09=_0x3d1090,{label:_0x58baa5,ownerId:_0x20c235,trackKinds:_0x1889de,params:_0x385853}=_0x89ad11,_0x1e516e=_0x3781c9(_0x5d42e4['Incoming'],{'contentType':_0x25b155[_0x385b09(0x2ce)][_0x385b09(0x39e)],'label':_0x58baa5,'remoteId':_0x20c235});if(!this[_0x385b09(0x7ee)][_0x385b09(0x1ac)](_0x1e516e))throw new _0x1b9d16(_0x1b9d16[_0x385b09(0x276)][_0x385b09(0x5e8)],{'label':_0x1e516e,'ownerId':_0x20c235,'streamId':_0x89ad11[_0x385b09(0xa23)],'requests':this['subscriptionRequests']});const _0x2dfb7e=this[_0x385b09(0x7ee)][_0x385b09(0x252)](_0x1e516e);if(_0x1889de[_0x385b09(0x73c)]===_0x2dfb7e[_0x385b09(0x608)]()[_0x385b09(0x73c)]&&_0x1889de[_0x385b09(0x3be)](_0x34ccbb=>_0x2dfb7e[_0x385b09(0x608)]()['includes'](_0x34ccbb)))try{const _0x8b2296=_0x2dfb7e[_0x385b09(0x533)](_0x2d9c37,_0x89ad11);if(!_0x8b2296)return;this[_0x385b09(0x81b)](_0x8b2296,_0x20c235,_0x58baa5,_0x1e516e,_0x1889de);}catch(_0x296f45){return void this[_0x385b09(0x938)](_0x58baa5,_0x20c235,_0x1889de,_0x385853);}}['handleSubscriptionMediaStreamUnavailable'](_0x18863a,{label:_0x56e763,ownerId:_0x486667,trackKinds:_0x3fca71}){const _0x35098c=_0x3d1090,_0x15a8da=this['configs'][_0x35098c(0x93d)][_0x35098c(0x75d)](_0x486667,_0x56e763);if(!_0x15a8da)return;const _0x313263=_0x15a8da['getInternalStreamId'](),_0x78af1b=_0x15a8da[_0x35098c(0x517)]();_0x78af1b['some'](_0x14a878=>_0x3fca71['includes'](_0x14a878))&&this[_0x35098c(0x82d)](_0x18863a,_0x56e763,_0x313263,_0x486667,_0x78af1b);}[_0x3d1090(0x556)]({label:_0x47a1fe,providerId:_0x443a93,ownerId:_0x404db5,streamId:_0x2cb11b,trackKinds:_0x10e585}){const _0x5b2266=_0x3d1090;this[_0x5b2266(0x82d)](_0x443a93,_0x47a1fe,_0x2cb11b,_0x404db5,_0x10e585);}[_0x3d1090(0x2aa)](_0x519662){const _0x1a36e6=_0x3d1090;for(const _0x46b991 of this[_0x1a36e6(0x9fd)][_0x1a36e6(0x6a5)]()){const {streamLabel:_0x266d6a,ownerId:_0x387e6a,trackKinds:_0x59e7ec,params:_0x558731}=_0x46b991;if(!_0x387e6a||!_0x59e7ec||!_0x266d6a)return;this[_0x1a36e6(0x1a7)][_0x1a36e6(0xa93)]({'label':_0x266d6a,'ownerId':_0x387e6a,'trackKinds':_0x59e7ec,'params':_0x558731,'remoteId':_0x519662});}}['removeSubscriptionsForNode'](_0x5234e5){const _0x84bc7=_0x3d1090;this[_0x84bc7(0x3dc)][_0x84bc7(0x3da)][_0x84bc7(0x7ff)]((_0x468e4d,_0x35ad97)=>{const _0x449e8e=_0x84bc7;if(_0x35ad97[_0x449e8e(0x257)](_0x5234e5)){if(_0x468e4d['destination'][_0x449e8e(0x3b7)]()===_0x25b155['ContentType']['Media']){const _0x200af3=_0x468e4d[_0x449e8e(0x93e)];if(_0x200af3[_0x449e8e(0x517)]()[_0x449e8e(0x73c)]>0x0){const _0x2836e0={'type':_0x12f68d[_0x449e8e(0x78c)],'label':_0x200af3[_0x449e8e(0xa01)](),'ownerId':_0x200af3[_0x449e8e(0x310)](),'trackKinds':_0x200af3[_0x449e8e(0x517)]()};return void this[_0x449e8e(0x5b3)](_0x5234e5,_0x2836e0);}}this[_0x449e8e(0x40c)](_0x468e4d,_0x35ad97);}});}['close'](){const _0x16298e=_0x3d1090;this['maps'][_0x16298e(0x3da)]['forEach'](this[_0x16298e(0x40c)][_0x16298e(0x82a)](this));}[_0x3d1090(0x81b)](_0x519910,_0x5404e4,_0x38ddb2,_0x32db97,_0x4cdd1d){const _0x507470=_0x3d1090,_0xc4f033=this['configs'][_0x507470(0x93d)][_0x507470(0x461)](_0x519910[_0x507470(0x7a3)]),_0x38b434=this[_0x507470(0x9e8)][_0x507470(0x93d)][_0x507470(0x75d)](_0x5404e4,_0x38ddb2);this[_0x507470(0x1f5)](_0x32db97),this[_0x507470(0x7ee)][_0x507470(0x1ac)](_0x32db97)&&(this[_0x507470(0x9e8)][_0x507470(0x93d)][_0x507470(0x5ad)](this[_0x507470(0x7ee)]['get'](_0x32db97)),this['subscriptionRequests']['delete'](_0x32db97)),this['cleanOldSubscription'](_0x519910,_0x5404e4,_0x38ddb2,_0x38b434),_0x38b434[_0x507470(0x386)](_0x519910[_0x507470(0xa23)]),_0x38b434[_0x507470(0x4d3)](_0x519910[_0x507470(0x7a3)]);const _0x61ab58=_0x17099f(_0x38b434,_0xc4f033),_0x41259c=_0x3781c9(_0x5d42e4[_0x507470(0x775)],_0x61ab58);this[_0x507470(0x3dc)]['subscriptions'][_0x507470(0x1ac)](_0x41259c)||this['createSubscription'](_0xc4f033,_0x38b434);const _0x586d66=this['maps'][_0x507470(0x3da)][_0x507470(0x252)](_0x41259c);if(!(_0x586d66&&_0x586d66 instanceof _0x525a86))throw new _0x1b9d16(_0x1b9d16[_0x507470(0x276)][_0x507470(0x5e8)],{'label':_0x32db97,'ownerId':_0x5404e4});_0x3dc4e5['logEvent'](_0x507470(0xa04),{'clusterId':this['configs'][_0x507470(0xa3c)],'nodeId':this[_0x507470(0x9e8)]['localNode'][_0x507470(0x79a)](),'nodeType':this[_0x507470(0x9e8)][_0x507470(0x5d3)][_0x507470(0x88c)],'data':{'subscriptionLabel':_0x41259c,'chosenAnswer':_0x519910}}),this[_0x507470(0x9fd)][_0x507470(0x6f0)](_0x41259c,_0x519910),_0x586d66[_0x507470(0x81b)](_0x5404e4,_0x4cdd1d,_0x519910[_0x507470(0x523)]);}[_0x3d1090(0x2c8)]({ownerId:_0x27e0fe,label:_0x406f5b}){const _0x217457=_0x3d1090,_0x2f8a56=this['configs'][_0x217457(0x93d)][_0x217457(0x75d)](_0x27e0fe,_0x406f5b),[_0x28acee,_0x233bd1]=Array[_0x217457(0x2bc)](this['maps'][_0x217457(0x3da)]['entries']())[_0x217457(0x447)](([_0x53a829,_0x1b0c4d])=>-0x1!==_0x53a829[_0x217457(0x7dc)](_0x2f8a56[_0x217457(0xa3e)]()));return this[_0x217457(0x40c)](_0x233bd1,_0x28acee);}['closeSubscription'](_0x52585c,_0x317b25){const _0x374986=_0x3d1090;this[_0x374986(0x9e8)][_0x374986(0x93d)]['unregisterSystemSource'](_0x52585c),this['maps'][_0x374986(0x40c)](_0x52585c,_0x317b25);}[_0x3d1090(0x3d3)](_0x55abb6){const _0x35ffae=_0x3d1090;return _0x55abb6['getSupportedContentTypes']()[_0x35ffae(0x1e2)](_0x25b155[_0x35ffae(0x2ce)][_0x35ffae(0x39e)]);}['isMediaDestination'](_0x3b8e82){const _0x47a820=_0x3d1090;return _0x3b8e82['getContentType']()===_0x25b155[_0x47a820(0x2ce)]['Media'];}async[_0x3d1090(0x938)](_0xcae036,_0x5c1cb2,_0xd69bb2,_0x14a4d5){const _0x365a29=_0x3d1090;await _0x5aa24a['wait'](0x3e8);const _0x51fc9e=_0x3781c9(_0x5d42e4[_0x365a29(0x775)],{'contentType':_0x25b155[_0x365a29(0x2ce)][_0x365a29(0x39e)],'label':_0xcae036,'remoteId':_0x5c1cb2});this['clearSubscriptionRequestTimeout'](_0x51fc9e);const _0x29e7ac=this[_0x365a29(0x7ee)][_0x365a29(0x252)](_0x51fc9e);if(!_0x29e7ac)throw new _0x1b9d16(_0x1b9d16[_0x365a29(0x276)]['SubscriptionRequestDoesNotExist'],{'label':_0x51fc9e,'ownerId':_0x5c1cb2});const _0xfd60fa=this[_0x365a29(0x9e8)][_0x365a29(0x93d)][_0x365a29(0x4a5)](_0x56d2df=>_0x56d2df[_0x365a29(0x9ef)]()),_0xb9233a=this[_0x365a29(0x9e8)]['mediator'][_0x365a29(0x2c7)](this[_0x365a29(0x9e8)][_0x365a29(0x5d3)][_0x365a29(0x79a)](),_0x5c1cb2);_0x29e7ac[_0x365a29(0x548)](_0xfd60fa[_0x365a29(0x855)](_0x4753e9=>_0x4753e9[_0x365a29(0x9d0)]()),_0xb9233a);try{_0x29e7ac[_0x365a29(0x570)](this[_0x365a29(0x9e8)][_0x365a29(0x5d3)]['getId'](),_0x5c1cb2,_0xcae036,_0xd69bb2,_0x14a4d5),this[_0x365a29(0x946)](_0xcae036,_0x5c1cb2,_0xd69bb2,_0x14a4d5,_0x51fc9e,_0x29e7ac);}catch(_0x9c4207){this[_0x365a29(0x1a7)][_0x365a29(0xa93)]({'label':_0xcae036,'ownerId':_0x5c1cb2,'trackKinds':_0xd69bb2,'params':_0x14a4d5});}}[_0x3d1090(0x382)](_0x32e6f4,_0x4745f3,_0x510aff,_0x1fd3b5){const _0x7bf226=_0x3d1090;this[_0x7bf226(0x1a7)][_0x7bf226(0xa93)]({'label':_0x32e6f4,'ownerId':_0x4745f3,'trackKinds':_0x510aff,'params':_0x1fd3b5});}[_0x3d1090(0x5c8)]({label:_0x17bf90,ownerId:_0x221b39,trackKinds:_0x40773c,params:_0x300219,remoteId:_0x2838b0}){const _0x32cb84=_0x3d1090;if(!this[_0x32cb84(0x9e8)][_0x32cb84(0x93d)][_0x32cb84(0x75d)](_0x221b39,_0x17bf90))return;if(!this[_0x32cb84(0x9e8)][_0x32cb84(0x93d)]['getLocalNode']()[_0x32cb84(0x68a)]())throw new Error(_0x32cb84(0x193));if(_0x2838b0){const _0x1ff252=this[_0x32cb84(0x9e8)][_0x32cb84(0x93d)][_0x32cb84(0x559)]()[_0x32cb84(0x447)](_0x5710a6=>_0x5710a6['getId']()===_0x2838b0),_0x1f84fb=_0x1ff252?.[_0x32cb84(0x68a)]();if(!_0x1ff252||!_0x1f84fb)throw new Error(_0x32cb84(0x85f));const _0x1021eb=this[_0x32cb84(0x9e8)][_0x32cb84(0x93d)]['getRemoteNodes']()[_0x32cb84(0x447)](_0x242160=>_0x242160[_0x32cb84(0x79a)]()===_0x221b39),_0x16b71d=_0x1021eb?.[_0x32cb84(0x68a)]();if(!_0x1021eb||!_0x16b71d)throw new Error(_0x32cb84(0x5e9));const _0x48db1d=this[_0x32cb84(0x9fd)][_0x32cb84(0x252)](_0x17bf90);if(_0x48db1d){const _0xa2b670=this[_0x32cb84(0x9e8)][_0x32cb84(0x93d)][_0x32cb84(0x559)]()['find'](_0x2fcf58=>_0x2fcf58[_0x32cb84(0x79a)]()===_0x48db1d['nodeId']),_0x27e4da=_0xa2b670?.[_0x32cb84(0x68a)]();if(!_0xa2b670||!_0x27e4da)throw new Error('Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank');if(Math['abs'](_0x27e4da-_0x16b71d)<Math['abs'](_0x1f84fb-_0x16b71d))return;}}const _0x4dad16=this[_0x32cb84(0x9e8)][_0x32cb84(0x93d)]['getConnections'](_0x4a9978=>_0x4a9978[_0x32cb84(0x9ef)]()&&(!_0x2838b0||_0x4a9978[_0x32cb84(0x9d0)]()===_0x2838b0));if(!_0x4dad16[_0x32cb84(0x73c)]||0x0===_0x4dad16[_0x32cb84(0x73c)])throw new Error('No\x20connections\x20available\x20to\x20send\x20subscription\x20request');const _0x58115d=this[_0x32cb84(0x9e8)][_0x32cb84(0x93d)][_0x32cb84(0x2c7)](this[_0x32cb84(0x9e8)][_0x32cb84(0x5d3)][_0x32cb84(0x79a)](),_0x221b39),_0x1c9a9c=_0x3781c9(_0x5d42e4['Incoming'],{'contentType':_0x25b155['ContentType'][_0x32cb84(0x39e)],'label':_0x17bf90,'remoteId':_0x221b39});if(this[_0x32cb84(0x7ee)][_0x32cb84(0x1ac)](_0x1c9a9c)){if(_0x2838b0)throw new Error(_0x32cb84(0x70f));const _0x3fbc5b=this[_0x32cb84(0x7ee)][_0x32cb84(0x252)](_0x1c9a9c)[_0x32cb84(0x608)]();if(_0x3fbc5b['length']===_0x40773c[_0x32cb84(0x73c)]&&_0x3fbc5b['every'](_0x1887ed=>_0x40773c[_0x32cb84(0x1e2)](_0x1887ed)))return;this[_0x32cb84(0x9e8)][_0x32cb84(0x93d)][_0x32cb84(0x5ad)](this['subscriptionRequests'][_0x32cb84(0x252)](_0x1c9a9c)),this['subscriptionRequests'][_0x32cb84(0x54a)](_0x1c9a9c),_0x40773c=Array['from'](new Set(_0x40773c[_0x32cb84(0x2ba)](_0x3fbc5b))),this['clearSubscriptionRequestTimeout'](_0x1c9a9c);}const _0x28bea6=new _0x551908(_0x4dad16[_0x32cb84(0x855)](_0x2db250=>_0x2db250[_0x32cb84(0x9d0)]()),_0x58115d,this[_0x32cb84(0x37a)],_0x40773c);this[_0x32cb84(0x9e8)]['mediator'][_0x32cb84(0x66d)](_0x28bea6),this[_0x32cb84(0x7ee)][_0x32cb84(0x6f0)](_0x1c9a9c,_0x28bea6),_0x28bea6['sendRequest'](this[_0x32cb84(0x9e8)][_0x32cb84(0x5d3)][_0x32cb84(0x79a)](),_0x221b39,_0x17bf90,_0x40773c,_0x300219),this[_0x32cb84(0x946)](_0x17bf90,_0x221b39,_0x40773c,_0x300219,_0x1c9a9c,_0x28bea6);}[_0x3d1090(0x1f5)](_0x1bb25d){const _0x1c9b6e=_0x3d1090;this[_0x1c9b6e(0xa86)]['has'](_0x1bb25d)&&(clearTimeout(this[_0x1c9b6e(0xa86)]['get'](_0x1bb25d)),this[_0x1c9b6e(0xa86)][_0x1c9b6e(0x54a)](_0x1bb25d));}['setSubscriptionRequestTimeout'](_0x39140d,_0x3f388e,_0x49922f,_0x404cdf,_0x12cb55,_0x4314fd){const _0x15d9c7=_0x3d1090;this['clearSubscriptionRequestTimeout'](_0x12cb55),this['subscriptionRequestTimeouts'][_0x15d9c7(0x6f0)](_0x12cb55,setTimeout(()=>{const _0x30b8f2=_0x15d9c7;this[_0x30b8f2(0xa86)][_0x30b8f2(0x54a)](_0x12cb55);try{const _0xd7e950=_0x4314fd[_0x30b8f2(0x431)]();this[_0x30b8f2(0x81b)](_0xd7e950,_0x3f388e,_0x39140d,_0x12cb55,_0x49922f);}catch(_0x43da79){this[_0x30b8f2(0x938)](_0x39140d,_0x3f388e,_0x49922f,_0x404cdf);}},0x7d0));}[_0x3d1090(0x82d)](_0x10a9f1,_0x80e56,_0x76c4fb,_0xc13668,_0x17e1e2){const _0x3c722a=_0x3d1090,{subscriptionLabel:_0x23295b}=this[_0x3c722a(0x3ea)](_0x80e56,_0xc13668),_0x2f45f2=this[_0x3c722a(0x352)](_0x23295b),_0x3a7ac9=_0x2f45f2?.['params'];_0x2f45f2&&(_0x2f45f2[_0x3c722a(0x7d0)](_0xc13668,0x0),this[_0x3c722a(0xa87)](_0x76c4fb,_0x25b155[_0x3c722a(0x2ce)]['Media'],_0x10a9f1)),this[_0x3c722a(0x382)](_0x80e56,_0xc13668,_0x17e1e2,_0x3a7ac9);}[_0x3d1090(0x352)](_0x32ad6e){const _0x12697d=_0x3d1090,_0x37b95e=this[_0x12697d(0x3dc)][_0x12697d(0x3da)][_0x12697d(0x252)](_0x32ad6e);if(_0x37b95e){if(!(_0x37b95e instanceof _0x525a86))throw new _0x1b9d16(_0x1b9d16[_0x12697d(0x276)][_0x12697d(0x982)],{'label':_0x32ad6e,'subscription':_0x37b95e});return _0x37b95e;}}[_0x3d1090(0x3ea)](_0x28d727,_0x35851e){const _0x208e97=_0x3d1090,_0x226193=this[_0x208e97(0x40d)](_0x28d727,_0x35851e);return{'parts':_0x226193,'subscriptionLabel':_0x3781c9(_0x5d42e4['Incoming'],_0x226193)};}[_0x3d1090(0x40d)](_0x4a0110,_0x19b0d2){const _0x43343c=_0x3d1090,_0x4b770e=this[_0x43343c(0x9e8)][_0x43343c(0x93d)][_0x43343c(0x75d)](_0x19b0d2,_0x4a0110),_0x10a8e8=_0x4b770e[_0x43343c(0xaae)]();if(!_0x10a8e8)throw new _0x1b9d16(_0x1b9d16['codes'][_0x43343c(0x960)],{'label':_0x4a0110,'streamId':_0x4b770e[_0x43343c(0xa3e)](),'ownerId':_0x19b0d2,'localId':this[_0x43343c(0x9e8)][_0x43343c(0x5d3)][_0x43343c(0x79a)]()});return{'contentType':_0x25b155[_0x43343c(0x2ce)][_0x43343c(0x39e)],'label':_0x4b770e['getInternalStreamId'](),'remoteId':_0x10a8e8};}[_0x3d1090(0xa30)](_0x15189c,_0x5c4d51,_0x297f43,_0x1ad91a){const _0x53c3b7=_0x3d1090,_0x52ddf4=_0x1ad91a[_0x53c3b7(0xaae)]();if(_0x52ddf4&&_0x52ddf4!==_0x15189c[_0x53c3b7(0x7a3)]){const {parts:_0x30bea4,subscriptionLabel:_0xb7f087}=this['getSubscriptionLabel'](_0x297f43,_0x5c4d51),_0x6b3000=this[_0x53c3b7(0x352)](_0xb7f087);_0x6b3000&&(_0x6b3000[_0x53c3b7(0x7d0)](_0x5c4d51,0x0),this[_0x53c3b7(0xa87)](_0x30bea4[_0x53c3b7(0x7d3)],_0x30bea4[_0x53c3b7(0x886)],_0x30bea4[_0x53c3b7(0xaa3)]));}}}class _0x3f57b2{['configs'];[_0x3d1090(0xa7e)];[_0x3d1090(0x3dc)];constructor(_0x145979,_0x43c09d){const _0x1c5c2c=_0x3d1090;this[_0x1c5c2c(0x9e8)]=_0x145979,this[_0x1c5c2c(0xa7e)]=_0x43c09d,this[_0x1c5c2c(0x3dc)]=new _0x15b1e1(({source:_0x14067f,destination:_0x12bcba})=>_0x17099f(_0x14067f,_0x12bcba));}['createSubscription'](_0x28629c,_0x163d77){const _0x3fa45e=_0x3d1090,_0x9be379={'source':_0x28629c,'destination':_0x163d77};this['maps'][_0x3fa45e(0x597)](_0x5d42e4[_0x3fa45e(0x751)],_0x9be379);}[_0x3d1090(0xa87)](_0x4c7abd,_0x27c07d,_0x23122a=''){const _0x52acc2=_0x3d1090,_0x33ea9d={'contentType':_0x27c07d,'label':_0x4c7abd,'remoteId':_0x23122a};this[_0x52acc2(0x3dc)][_0x52acc2(0xa87)](_0x33ea9d,_0x5d42e4[_0x52acc2(0x751)]);}['handleSubscriptionSubscribeMediaStream'](_0x118ec3,_0x3e0664){const _0x314f71=_0x3d1090;let _0x93c36a;_0x93c36a=_0x3e0664[_0x314f71(0x909)]!==this[_0x314f71(0x9e8)][_0x314f71(0x5d3)][_0x314f71(0x79a)]()?this[_0x314f71(0x9e8)][_0x314f71(0x93d)]['getRemoteMediaStream'](_0x3e0664[_0x314f71(0x909)],_0x3e0664['label']):this[_0x314f71(0x9e8)][_0x314f71(0x93d)]['getLocalMediaStream'](_0x3e0664[_0x314f71(0x7d3)]);const _0x5895c9=_0x3781c9(_0x5d42e4['Outgoing'],{'contentType':_0x25b155[_0x314f71(0x2ce)][_0x314f71(0x39e)],'label':_0x93c36a['getShareableStreamId'](),'remoteId':_0x118ec3}),_0x14e0e4=this[_0x314f71(0x4c1)]();if(!this[_0x314f71(0x3dc)][_0x314f71(0x3da)][_0x314f71(0x1ac)](_0x5895c9)&&_0x14e0e4>=this[_0x314f71(0xa7e)])return{'type':_0x12f68d['RestartNeedMediaStream'],'ownerId':_0x3e0664['ownerId'],'label':_0x3e0664['label'],'streamId':_0x93c36a[_0x314f71(0x494)](),'trackKinds':_0x3e0664['trackKinds'],'params':_0x3e0664[_0x314f71(0x523)]};_0x93c36a instanceof _0x107ef0&&!_0x93c36a[_0x314f71(0x5f5)](_0x3e0664[_0x314f71(0x9ff)])&&_0x93c36a[_0x314f71(0x81b)](_0x3e0664[_0x314f71(0x523)]),this[_0x314f71(0x3dc)][_0x314f71(0x3da)][_0x314f71(0x1ac)](_0x5895c9)||this[_0x314f71(0x597)](_0x93c36a[_0x314f71(0x263)](_0x118ec3),this[_0x314f71(0x9e8)][_0x314f71(0x93d)][_0x314f71(0x461)](_0x118ec3));}['handleSubscriptionUnsubscribeMediaStream'](_0x27f7e9,{label:_0x260623,ownerId:_0x53ac7e,remainingTracks:_0x384030}){const _0x253405=_0x3d1090;if(_0x384030>0x0)return;let _0x45fab8;_0x45fab8=_0x53ac7e!==this[_0x253405(0x9e8)][_0x253405(0x5d3)][_0x253405(0x79a)]()?this[_0x253405(0x9e8)][_0x253405(0x93d)][_0x253405(0x75d)](_0x53ac7e,_0x260623):this[_0x253405(0x9e8)][_0x253405(0x93d)][_0x253405(0x220)](_0x260623);const _0x15fb14=_0x45fab8['getShareableStreamId'](),_0x4f2286=_0x25b155[_0x253405(0x2ce)][_0x253405(0x39e)];this['removeSubscription'](_0x15fb14,_0x4f2286,_0x27f7e9);}['handleContentUnsubscribeMediaStream'](_0x3053c1,{label:_0x4fa7bf,ownerId:_0x1e573b,trackKinds:_0x4f24ba}){const _0x284289=_0x3d1090;if(_0x3053c1!==_0x22135a)return[];let _0x218688=[];for(const _0x268759 of this[_0x284289(0x3dc)][_0x284289(0x3da)]){const {source:_0x57fc70,destination:_0x180dc9}=_0x268759[0x1];_0x57fc70[_0x284289(0xa01)]()===_0x4fa7bf&&_0x57fc70[_0x284289(0x310)]()===_0x1e573b&&_0x218688[_0x284289(0xa93)]({'sourceId':this['configs'][_0x284289(0x5d3)][_0x284289(0x79a)](),'destinationIds':[_0x180dc9[_0x284289(0x9d0)]()],'messageType':_0x17c3e2[_0x284289(0x957)],'content':{'type':_0x12f68d[_0x284289(0x78c)],'label':_0x4fa7bf,'ownerId':_0x1e573b,'trackKinds':_0x4f24ba}});}return _0x218688;}[_0x3d1090(0x737)](_0x4261a1,_0x456efd){const _0x336814=_0x3d1090,{label:_0x28ba13,ownerId:_0x480a55,trackKinds:_0x188265,params:_0x4a86f5}=_0x456efd,{hasTracks:_0x275bf6,streamId:_0x1f22d6,hasResolution:_0x59c7de,distance:_0x3a70cb,subscriptionLabel:_0xf5956c}=this[_0x336814(0x215)](_0x4261a1,_0x456efd);let _0x57b7d6=this['getNumberOutgoingSubscriptions']()<this['maxOutgoingSubscriptions']&&(_0x275bf6||_0x3a70cb>-0x1)?_0x12f68d['CanProvideMediaStream']:_0x12f68d[_0x336814(0x47a)];const _0x2ae908=_0x3a70cb<0x0?0xa:_0x3a70cb;let _0x5bebc1=_0x275bf6?_0x59c7de?_0x2ae908:_0x2ae908+0x0:_0x2ae908+0xa;return _0xf5956c&&this['maps'][_0x336814(0x3da)][_0x336814(0x1ac)](_0xf5956c)&&(_0x275bf6&&(_0x5bebc1=0x0),_0x57b7d6=_0x12f68d[_0x336814(0x390)]),{'type':_0x57b7d6,'cost':_0x5bebc1,'distance':_0x3a70cb,'label':_0x28ba13,'ownerId':_0x480a55,'streamId':_0x1f22d6,'trackKinds':_0x188265,'params':_0x4a86f5};}[_0x3d1090(0xa46)](_0x3bf7b4){const _0x364294=_0x3d1090,{label:_0x1eb21e,ownerId:_0x25e50a}=_0x3bf7b4,_0x269360=this['configs'][_0x364294(0x93d)][_0x364294(0x75d)](_0x25e50a,_0x1eb21e);this[_0x364294(0x3dc)][_0x364294(0x3da)]['forEach'](_0x1bd55b=>{const _0x40dac4=_0x364294;if(_0x1bd55b[_0x40dac4(0x7e1)]['getInternalStreamId']()===_0x269360['getShareableStreamId']()){const _0x5cd278=_0x1bd55b[_0x40dac4(0x93e)];this['removeSubscription'](_0x269360[_0x40dac4(0x494)](),_0x25b155[_0x40dac4(0x2ce)][_0x40dac4(0x39e)],_0x5cd278['getRemoteId']());}});}[_0x3d1090(0x555)]({label:_0x531b6a}){const _0x499aab=_0x3d1090,_0x1ee422=this['configs']['mediator'][_0x499aab(0x220)](_0x531b6a);this[_0x499aab(0x3dc)][_0x499aab(0x3da)][_0x499aab(0x7ff)](_0x15267e=>{const _0x34c11d=_0x499aab;if(_0x15267e[_0x34c11d(0x7e1)][_0x34c11d(0xa3e)]()===_0x1ee422['getShareableStreamId']()){const _0x469cf8=_0x15267e[_0x34c11d(0x93e)];this[_0x34c11d(0xa87)](_0x1ee422[_0x34c11d(0x494)](),_0x25b155[_0x34c11d(0x2ce)][_0x34c11d(0x39e)],_0x469cf8[_0x34c11d(0x9d0)]());}});}[_0x3d1090(0x7e9)](_0x505da0){const _0x2b071e=_0x3d1090;this[_0x2b071e(0x3dc)]['removeSubscriptionsForNode'](_0x505da0);}[_0x3d1090(0x8d5)](){const _0x4f2902=_0x3d1090;this[_0x4f2902(0x3dc)][_0x4f2902(0x3da)]['forEach'](this['closeSubscription'][_0x4f2902(0x82a)](this));}['closeSubscription'](_0xbedfb6,_0xcbc271){const _0x50effa=_0x3d1090;this['maps'][_0x50effa(0x40c)](_0xbedfb6,_0xcbc271);}[_0x3d1090(0x215)](_0x2ae262,{label:_0xd0ce9c,ownerId:_0x1a3fbc,trackKinds:_0x2a0691,params:_0x1a713f}){const _0x5caf3e=_0x3d1090;if(_0x1a3fbc!==this[_0x5caf3e(0x9e8)][_0x5caf3e(0x5d3)][_0x5caf3e(0x79a)]()){const _0x3c4acc=this[_0x5caf3e(0x9e8)][_0x5caf3e(0x93d)][_0x5caf3e(0x75d)](_0x1a3fbc,_0xd0ce9c);return _0x3c4acc&&_0x3c4acc[_0x5caf3e(0xaae)]()!==_0x2ae262?{'hasTracks':_0x3c4acc['hasTracks'](_0x2a0691),'hasResolution':this[_0x5caf3e(0xa65)](_0x3c4acc[_0x5caf3e(0x7af)](),_0x1a713f),'streamId':_0x3c4acc[_0x5caf3e(0x494)](),'distance':this[_0x5caf3e(0x9e8)][_0x5caf3e(0x93d)][_0x5caf3e(0x2c7)](_0x2ae262,_0x1a3fbc),'subscriptionLabel':_0x3781c9(_0x5d42e4[_0x5caf3e(0x751)],{'contentType':_0x25b155[_0x5caf3e(0x2ce)][_0x5caf3e(0x39e)],'label':_0x3c4acc[_0x5caf3e(0x494)](),'remoteId':_0x2ae262})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x2a6b24=this[_0x5caf3e(0x9e8)][_0x5caf3e(0x93d)][_0x5caf3e(0x220)](_0xd0ce9c);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x2a6b24[_0x5caf3e(0x494)](),'distance':0x0,'subscriptionLabel':_0x3781c9(_0x5d42e4[_0x5caf3e(0x751)],{'contentType':_0x25b155['ContentType']['Media'],'label':_0x2a6b24['getShareableStreamId'](),'remoteId':_0x2ae262})};}['getNumberOutgoingSubscriptions'](){const _0x312358=_0x3d1090;return Array['from'](this['maps'][_0x312358(0x3da)][_0x312358(0x6c2)]())[_0x312358(0x25d)](([_0x720297,{source:_0x1b3d0f}])=>_0x720297[_0x312358(0x961)](_0x5d42e4[_0x312358(0x751)])&&_0x1b3d0f['getContentType']()===_0x25b155['ContentType'][_0x312358(0x39e)])[_0x312358(0x73c)];}[_0x3d1090(0xa65)](_0x2eafd7,_0xe41d00){const _0x3a1094=_0x3d1090;if(!_0xe41d00||!_0xe41d00[_0x3a1094(0x4c4)]||_0x3a1094(0x5a7)==typeof _0xe41d00[_0x3a1094(0x4c4)]||!_0xe41d00['video']['maxResolution'])return!0x0;const {width:_0x13e329,height:_0x12df27}=_0xe41d00[_0x3a1094(0x4c4)][_0x3a1094(0x729)];return _0x2eafd7[_0x3a1094(0x210)]>=_0x13e329&&_0x2eafd7[_0x3a1094(0x4f7)]>=_0x12df27;}}class _0x5f2fb7{['configs'];['maxOutgoingSubscriptions'];[_0x3d1090(0x37a)];[_0x3d1090(0x613)];[_0x3d1090(0xa60)];[_0x3d1090(0x5d5)];constructor(_0x5def1e,_0x207e41,_0x2425ef){const _0x488bb1=_0x3d1090;this[_0x488bb1(0x9e8)]=_0x5def1e,this['maxOutgoingSubscriptions']=_0x207e41,this[_0x488bb1(0x37a)]=_0x2425ef,this[_0x488bb1(0x9e8)][_0x488bb1(0x93d)][_0x488bb1(0x66d)](this),this[_0x488bb1(0xa60)]=new _0x928c19(this[_0x488bb1(0x9e8)],this[_0x488bb1(0x37a)]),this[_0x488bb1(0x5d5)]=new _0x3f57b2(this[_0x488bb1(0x9e8)],this[_0x488bb1(0xa7e)]);}[_0x3d1090(0x60f)](_0x38e61f){this['systemTopic']=_0x38e61f;}['unregisterSystemPublisher'](){const _0x5f51b5=_0x3d1090;delete this[_0x5f51b5(0x613)];}[_0x3d1090(0x8d5)](){const _0x88aa06=_0x3d1090;this[_0x88aa06(0xa60)][_0x88aa06(0x8d5)](),this['outgoingManager'][_0x88aa06(0x8d5)](),this[_0x88aa06(0x9e8)][_0x88aa06(0x93d)][_0x88aa06(0x5ad)](this);}[_0x3d1090(0x4dc)](_0x1a90b3,_0x14c63f){const _0x533274=_0x3d1090;this[_0x533274(0xa60)][_0x533274(0x597)](_0x1a90b3,_0x14c63f);}[_0x3d1090(0x4ac)](_0x4fbaca,_0x8b04db){const _0x1b3782=_0x3d1090;this[_0x1b3782(0x5d5)][_0x1b3782(0x597)](_0x4fbaca,_0x8b04db);}['removeIncomingSubscription'](_0x159e21,_0x1b0f00,_0x2390ba=''){const _0x57ff12=_0x3d1090;this[_0x57ff12(0xa60)]['removeSubscription'](_0x159e21,_0x1b0f00,_0x2390ba);}[_0x3d1090(0x9eb)](_0xb0e0e4,_0xbff8be,_0xe70ed=''){const _0x57b0fb=_0x3d1090;try{this['outgoingManager'][_0x57b0fb(0xa87)](_0xb0e0e4,_0xbff8be,_0xe70ed);}catch(_0x1204fb){if(_0x1204fb instanceof _0x1b9d16&&_0x1204fb[_0x57b0fb(0x393)]===_0x1b9d16[_0x57b0fb(0x276)][_0x57b0fb(0x982)])return;}}['handleSubscriptionSystemEvents'](_0x37cc36){const _0x4f942e=_0x3d1090;switch(_0x37cc36['content'][_0x4f942e(0x88c)]){case _0x12f68d[_0x4f942e(0x731)]:this[_0x4f942e(0x406)](_0x37cc36[_0x4f942e(0x590)],_0x37cc36[_0x4f942e(0x1d7)]);break;case _0x12f68d[_0x4f942e(0x1cb)]:this[_0x4f942e(0x5d5)]['handleSubscriptionUnsubscribeMediaStream'](_0x37cc36[_0x4f942e(0x590)],_0x37cc36[_0x4f942e(0x1d7)]);break;case _0x12f68d[_0x4f942e(0x48d)]:this[_0x4f942e(0x737)](_0x37cc36[_0x4f942e(0x590)],_0x37cc36[_0x4f942e(0x1d7)]);break;case _0x12f68d['RestartNeedMediaStream']:this[_0x4f942e(0xa60)]['handleSubscriptionRestartNeedMediaStream'](_0x37cc36[_0x4f942e(0x590)],_0x37cc36[_0x4f942e(0x1d7)]);break;case _0x12f68d[_0x4f942e(0x390)]:case _0x12f68d[_0x4f942e(0x47a)]:this[_0x4f942e(0xa60)]['handleSubscriptionProvideMediaStream'](_0x37cc36['sourceId'],_0x37cc36[_0x4f942e(0x1d7)]);break;case _0x12f68d[_0x4f942e(0x78c)]:this[_0x4f942e(0xa60)][_0x4f942e(0x5b3)](_0x37cc36[_0x4f942e(0x590)],_0x37cc36[_0x4f942e(0x1d7)]);}}[_0x3d1090(0x5fa)](_0x2fa728){const _0x21f90b=_0x3d1090;switch(_0x2fa728[_0x21f90b(0x1d7)]['type']){case _0x4a88e8[_0x21f90b(0x630)]:this['incomingManager'][_0x21f90b(0xa46)](_0x2fa728[_0x21f90b(0x1d7)]),this[_0x21f90b(0x5d5)][_0x21f90b(0xa46)](_0x2fa728[_0x21f90b(0x1d7)]);break;case _0x4a88e8[_0x21f90b(0x731)]:this[_0x21f90b(0xa60)][_0x21f90b(0x9f2)](_0x2fa728[_0x21f90b(0x1d7)]);break;case _0x4a88e8[_0x21f90b(0x88b)]:this[_0x21f90b(0xa60)][_0x21f90b(0x2ed)](_0x2fa728['content']);break;case _0x4a88e8[_0x21f90b(0x1cb)]:this[_0x21f90b(0x1fc)](_0x2fa728[_0x21f90b(0x590)],_0x2fa728[_0x21f90b(0x1d7)]);break;case _0x4a88e8[_0x21f90b(0x7f6)]:this[_0x21f90b(0x5d5)][_0x21f90b(0x555)](_0x2fa728[_0x21f90b(0x1d7)]);break;case _0x4a88e8[_0x21f90b(0x6dd)]:this[_0x21f90b(0x6b8)](_0x2fa728['content'][_0x21f90b(0x7d3)],_0x25b155[_0x21f90b(0x2ce)]['PubSub']);break;case _0x4a88e8[_0x21f90b(0xa5d)]:this[_0x21f90b(0x6b8)](_0x2fa728['content'][_0x21f90b(0x7d3)],_0x25b155[_0x21f90b(0x2ce)]['ObjectStore']);break;case _0x4a88e8[_0x21f90b(0x9b5)]:this[_0x21f90b(0x6b8)](_0x2fa728['content']['label'],_0x25b155[_0x21f90b(0x2ce)][_0x21f90b(0x1d5)]);break;case _0x4a88e8[_0x21f90b(0x291)]:this[_0x21f90b(0x6b8)](_0x2fa728[_0x21f90b(0x1d7)][_0x21f90b(0x7d3)],_0x25b155[_0x21f90b(0x2ce)]['KeyValueDatabase']);break;case _0x4a88e8[_0x21f90b(0x45b)]:this[_0x21f90b(0x6b8)](_0x2fa728[_0x21f90b(0x1d7)][_0x21f90b(0x7d3)],_0x25b155[_0x21f90b(0x2ce)][_0x21f90b(0x191)]);break;case _0x4a88e8[_0x21f90b(0x4ec)]:this[_0x21f90b(0x6b8)](_0x2fa728[_0x21f90b(0x1d7)][_0x21f90b(0x7d3)],_0x25b155['ContentType'][_0x21f90b(0x77b)]);break;case _0x4a88e8[_0x21f90b(0x819)]:case _0x4a88e8[_0x21f90b(0x958)]:this[_0x21f90b(0x6b8)](_0x2fa728[_0x21f90b(0x1d7)][_0x21f90b(0x7d3)],_0x25b155[_0x21f90b(0x2ce)][_0x21f90b(0x673)]);break;case _0x4a88e8['RemoteMediaStreamTrackFail']:this[_0x21f90b(0xa60)][_0x21f90b(0x556)](_0x2fa728[_0x21f90b(0x1d7)]);}}[_0x3d1090(0x328)]({content:_0x4772f7}){const _0x362e2e=_0x3d1090;_0x4772f7[_0x362e2e(0x88c)]===_0x1a2879['NodeLeave']&&this[_0x362e2e(0x7e9)](_0x4772f7);}['handlePeerConnectionSystemEvents'](_0x27cbcf){const _0x39bcb0=_0x3d1090;_0x27cbcf[_0x39bcb0(0x1d7)][_0x39bcb0(0x88c)]===_0x465160['OptimizationConnectionSuccess']&&this['incomingManager'][_0x39bcb0(0x2aa)](_0x27cbcf[_0x39bcb0(0x590)]);}[_0x3d1090(0x1fc)](_0xc545d1,_0x219a76){const _0x198c34=_0x3d1090;this[_0x198c34(0xa60)]['handleContentUnsubscribeMediaStream'](_0x219a76),this[_0x198c34(0x5d5)][_0x198c34(0x1fc)](_0xc545d1,_0x219a76)['forEach'](_0x3da26c=>this[_0x198c34(0x613)]['publish'](_0x3da26c));}['handleSubscriptionSubscribeMediaStream'](_0x2d3981,_0x33f62c){const _0x59a11f=_0x3d1090,_0x42ceb8=this[_0x59a11f(0x5d5)][_0x59a11f(0x406)](_0x2d3981,_0x33f62c);if(_0x42ceb8&&(this['systemTopic']['publish']({'sourceId':this['configs'][_0x59a11f(0x5d3)]['getId'](),'destinationIds':[_0x2d3981],'messageType':_0x17c3e2[_0x59a11f(0x957)],'content':_0x42ceb8}),_0x42ceb8['type']===_0x12f68d[_0x59a11f(0x6cc)]))throw new _0x331e4d(_0x59a11f(0x51d));}['handleSubscriptionNeedMediaStream'](_0x427871,_0x547e24){const _0x5cddc1=_0x3d1090,_0x107158=this['outgoingManager'][_0x5cddc1(0x737)](_0x427871,_0x547e24);this[_0x5cddc1(0x613)][_0x5cddc1(0x681)]({'sourceId':this['configs'][_0x5cddc1(0x5d3)][_0x5cddc1(0x79a)](),'destinationIds':[_0x427871],'messageType':_0x17c3e2[_0x5cddc1(0x957)],'content':_0x107158});}[_0x3d1090(0x6b8)](_0x1cdd1c,_0x34afd4){const _0x10434a=_0x3d1090;this[_0x10434a(0x331)](_0x1cdd1c,_0x34afd4),this[_0x10434a(0x9eb)](_0x1cdd1c,_0x34afd4);}['removeSubscriptionsForNode']({id:_0x1a6374}){const _0x1d406f=_0x3d1090;this[_0x1d406f(0xa60)][_0x1d406f(0x7e9)](_0x1a6374),this['outgoingManager'][_0x1d406f(0x7e9)](_0x1a6374);}}class _0x4b5bf0{[_0x3d1090(0x7d3)];[_0x3d1090(0x3b8)]=_0x353664();constructor(){const _0x5a18b0=_0x3d1090;this[_0x5a18b0(0x7d3)]=0x0;}[_0x3d1090(0xa01)](){const _0x3955c3=_0x3d1090;return this[_0x3955c3(0x7d3)];}['getContentType'](){const _0x1e8357=_0x3d1090;return _0x25b155[_0x1e8357(0x2ce)][_0x1e8357(0x624)];}[_0x3d1090(0x49d)](_0x11b2b9){const _0x4dede7=_0x3d1090;_0x11b2b9[_0x4dede7(0x60f)](this);}[_0x3d1090(0x52e)](_0x39c43c){_0x39c43c['unregisterSystemPublisher']();}[_0x3d1090(0x681)](_0xb94783){const _0x1f41a6=_0x3d1090;_0x3dc4e5[_0x1f41a6(0x546)](_0x5a543d['Events'],_0x1f41a6(0x6f4),_0xb94783[_0x1f41a6(0x590)],_0xb94783),this[_0x1f41a6(0x3b8)][_0x1f41a6(0x681)]({'topicLabel':this[_0x1f41a6(0x7d3)],'contentType':_0x25b155[_0x1f41a6(0x2ce)][_0x1f41a6(0x624)],'uuid':_0xb94783['uuid']??(0x0,_0x14a38c['v4'])(),'recipients':_0xb94783[_0x1f41a6(0x62a)]??[],..._0xb94783});}[_0x3d1090(0x81b)](_0x16c1a8){const _0x37264c=_0x3d1090;return this['listener'][_0x37264c(0x81b)](_0x16c1a8);}}class _0x5be8ac{['options'];[_0x3d1090(0x35f)]=[];[_0x3d1090(0x223)];[_0x3d1090(0x436)]=new Map();[_0x3d1090(0x1a4)]=_0x353664();constructor(_0x3f8403){const _0xcddc46=_0x3d1090;this['options']=_0x3f8403,this[_0xcddc46(0x223)]=(this['options'][_0xcddc46(0x583)]-0x2*this[_0xcddc46(0x6d5)][_0xcddc46(0x509)])/0x2,this['ranges'][_0xcddc46(0xa93)]({'start':0x1,'end':this[_0xcddc46(0x715)](0x1,0x1)-0x1});for(let _0x3b3b3d=0x0;_0x3b3b3d<this[_0xcddc46(0x223)];++_0x3b3b3d)this['ranges']['push']({'start':this[_0xcddc46(0x715)](0x1,_0x3b3b3d+0x1),'end':this[_0xcddc46(0x715)](0x1,_0x3b3b3d+0x2)-0x1});}[_0x3d1090(0x715)](_0x328eb4,_0x40b3d5=0x1){const _0x2fcd6d=_0x3d1090;let _0xf8b372=this[_0x2fcd6d(0x6d5)]['maxDistance']-this[_0x2fcd6d(0x6d5)][_0x2fcd6d(0x509)],_0x3ca60a=0x1;for(let _0x12643c=0x1;_0x12643c<_0x40b3d5;++_0x12643c)_0xf8b372*=this[_0x2fcd6d(0x6d5)][_0x2fcd6d(0x37a)]-this['options'][_0x2fcd6d(0x509)]-_0x12643c,_0x3ca60a*=this['options'][_0x2fcd6d(0x37a)]-this[_0x2fcd6d(0x6d5)][_0x2fcd6d(0x509)]-_0x12643c+0x1;return _0xf8b372*this[_0x2fcd6d(0x6d5)][_0x2fcd6d(0x509)]+_0x328eb4-_0x3ca60a;}[_0x3d1090(0xa6d)](_0x446176){const _0x4b17ac=_0x3d1090;let _0x496462=0x0;for(;this['ranges'][_0x496462][_0x4b17ac(0x403)]<_0x446176;)_0x496462+=0x1;return _0x496462;}[_0x3d1090(0x353)](){const _0xea5e5c=_0x3d1090;return this[_0xea5e5c(0x6d5)]['minConnections'];}[_0x3d1090(0x515)](){const _0x234392=_0x3d1090;return this[_0x234392(0x6d5)][_0x234392(0x583)];}[_0x3d1090(0x76e)](){const _0x3ae511=_0x3d1090;return this[_0x3ae511(0x6d5)]['maxDistance'];}['getRemoteNodes'](){const _0x3c10be=_0x3d1090;return this[_0x3c10be(0x436)];}['setRemoteNode'](_0x554b0b,_0x4716d7){const _0x1e11b3=_0x3d1090;this['remoteNodes']['set'](_0x554b0b,_0x4716d7),this[_0x1e11b3(0x1a4)][_0x1e11b3(0x681)]();}['deleteRemoteNode'](_0xdb6776){const _0x3100fd=_0x3d1090;this[_0x3100fd(0x436)][_0x3100fd(0x54a)](_0xdb6776),this[_0x3100fd(0x1a4)][_0x3100fd(0x681)]();}[_0x3d1090(0x526)](_0x479e4e){const _0x3f4116=_0x3d1090;return this[_0x3f4116(0x436)][_0x3f4116(0x1ac)](_0x479e4e);}[_0x3d1090(0x80f)](_0x14c30d){const _0x80ecb=_0x3d1090;return this[_0x80ecb(0x436)]['get'](_0x14c30d);}[_0x3d1090(0x80c)](_0x38a98c,_0x305b74){const _0x3a0c17=_0x3d1090,_0x10593d=this['getRemoteNode'](_0x305b74)?.[_0x3a0c17(0x68a)]()??0x0;return _0x38a98c[_0x3a0c17(0x855)](_0x689a14=>this['getRemoteNode'](_0x689a14))['filter'](_0x3efa0d=>void 0x0!==_0x3efa0d)['sort']((_0x4f0580,_0x88e8f1)=>Math['abs'](_0x10593d-(_0x4f0580&&_0x4f0580[_0x3a0c17(0x68a)]()||0x1/0x0))-Math['abs'](_0x10593d-(_0x88e8f1&&_0x88e8f1[_0x3a0c17(0x68a)]()||0x1/0x0)))[_0x3a0c17(0x855)](_0x112cab=>_0x112cab['getId']());}[_0x3d1090(0x918)](_0x2bb06b){const _0x2e1e40=_0x3d1090;return this[_0x2e1e40(0x1a4)][_0x2e1e40(0x81b)](_0x2bb06b);}}class _0x5b61bf{[_0x3d1090(0x43c)];[_0x3d1090(0xa3c)];[_0x3d1090(0x384)];[_0x3d1090(0xaab)];[_0x3d1090(0x6d5)];['configs'];[_0x3d1090(0x4b5)];[_0x3d1090(0xa64)];[_0x3d1090(0x9a0)];['subscriptionManager'];[_0x3d1090(0x18a)];[_0x3d1090(0x774)];[_0x3d1090(0x26c)];[_0x3d1090(0x9e1)];['graphService'];[_0x3d1090(0x613)]=new _0x4b5bf0();[_0x3d1090(0x19e)];[_0x3d1090(0x5d3)];constructor(_0x3581c3,_0x80702e,_0x33f047,_0x2eb854,_0x25140e,_0xc50ea7,_0x3048d8){const _0x4ffbee=_0x3d1090;switch(this[_0x4ffbee(0x43c)]=_0x3581c3,this[_0x4ffbee(0xa3c)]=_0x80702e,this['authNode']=_0x33f047,this[_0x4ffbee(0xaab)]=_0x2eb854,this[_0x4ffbee(0x6d5)]=_0x25140e,this[_0x4ffbee(0x9e8)]=_0xc50ea7,this[_0x4ffbee(0x4b5)]=_0x3048d8,_0x33f047[_0x4ffbee(0x88c)]){case _0x25b155['NodeType'][_0x4ffbee(0x1b2)]:this[_0x4ffbee(0x5d3)]=new _0x4a1f0d(_0x33f047[_0x4ffbee(0x79a)](),_0x33f047['getDisplayName'](),_0x33f047[_0x4ffbee(0x599)]());break;case _0x25b155[_0x4ffbee(0xa14)]['Agent']:default:this[_0x4ffbee(0x5d3)]=new _0x24aa6c(_0x33f047[_0x4ffbee(0x79a)]());}const _0x1b13ad=this[_0x4ffbee(0x964)]();this[_0x4ffbee(0x8bb)]=new _0x5be8ac(this[_0x4ffbee(0x6d5)]),this[_0x4ffbee(0xa64)]=new _0x1eac14(_0x1b13ad,this['options'],this[_0x4ffbee(0x9e8)]['searchApiKey']),this[_0x4ffbee(0x9a0)]=new _0x400d00(_0x1b13ad,this['authService'],this[_0x4ffbee(0x8bb)],this['configs'][_0x4ffbee(0x261)],this[_0x4ffbee(0x6d5)]),this[_0x4ffbee(0x1c7)]=new _0x5f2fb7(_0x1b13ad,this[_0x4ffbee(0x6d5)]['maxOutgoingSubscriptions'],this[_0x4ffbee(0x8bb)]['getMaxDistance']()),this[_0x4ffbee(0x18a)]=new _0x461be0(_0x1b13ad),this['detectionManager']=new _0xd713a5(_0x1b13ad),this['remediationManager']=new _0x22b81d(_0x1b13ad),this['nodeManager']=new _0x3de6f9(_0x1b13ad,this[_0x4ffbee(0x8bb)]),this[_0x4ffbee(0x19e)]=this[_0x4ffbee(0x38b)]();}[_0x3d1090(0x4be)](){const _0x41a251=_0x3d1090,_0x1a1f1b=this[_0x41a251(0x964)]();this[_0x41a251(0x9a0)]=new _0x400d00(_0x1a1f1b,this[_0x41a251(0xaab)],this['graphService'],this[_0x41a251(0x9e8)]['iceServers'],this[_0x41a251(0x6d5)]),this['subscriptionManager']=new _0x5f2fb7(_0x1a1f1b,this['options']['maxOutgoingSubscriptions'],this[_0x41a251(0x8bb)][_0x41a251(0x76e)]()),this[_0x41a251(0x18a)]=new _0x461be0(_0x1a1f1b),this[_0x41a251(0x774)]=new _0xd713a5(_0x1a1f1b),this['remediationManager']=new _0x22b81d(_0x1a1f1b),this[_0x41a251(0x9e1)]=new _0x3de6f9(_0x1a1f1b,this[_0x41a251(0x8bb)]);const _0x4fbcc7=this[_0x41a251(0x9a0)][_0x41a251(0x717)]();this[_0x41a251(0xa64)][_0x41a251(0x568)]()[_0x41a251(0x7ff)](_0x49f247=>{const _0x2f793f=_0x41a251;this['subscriptionManager'][_0x2f793f(0x4ac)](_0x49f247,_0x4fbcc7),this[_0x2f793f(0x1c7)][_0x2f793f(0x4dc)](_0x4fbcc7,_0x49f247),_0x49f247['reset']();}),this['contentManager'][_0x41a251(0x338)]()[_0x41a251(0x7ff)](_0x35c184=>{const _0x287d7c=_0x41a251;this[_0x287d7c(0x1c7)][_0x287d7c(0x4ac)](_0x35c184,_0x4fbcc7),this[_0x287d7c(0x1c7)][_0x287d7c(0x4dc)](_0x4fbcc7,_0x35c184),_0x35c184[_0x287d7c(0x548)](),_0x35c184[_0x287d7c(0x439)]();}),this[_0x41a251(0xa64)][_0x41a251(0xa31)]()[_0x41a251(0x7ff)](_0x35a0ab=>{const _0x3508a4=_0x41a251;this['subscriptionManager'][_0x3508a4(0x4ac)](_0x35a0ab,_0x4fbcc7),this[_0x3508a4(0x1c7)]['createIncomingSubscription'](_0x4fbcc7,_0x35a0ab),_0x35a0ab[_0x3508a4(0x548)](),this['syncKeyValueDatabase'](_0x35a0ab);}),this['contentManager'][_0x41a251(0x2e9)]()[_0x41a251(0x7ff)](_0x109cc9=>{const _0x52c78b=_0x41a251;this[_0x52c78b(0x1c7)][_0x52c78b(0x4ac)](_0x109cc9,_0x4fbcc7),this[_0x52c78b(0x1c7)]['createIncomingSubscription'](_0x4fbcc7,_0x109cc9),_0x109cc9[_0x52c78b(0x548)]();}),this[_0x41a251(0xa64)]['getJobWorkers']()[_0x41a251(0x7ff)](_0xbd8e4d=>{const _0x25ce52=_0x41a251;this['subscriptionManager'][_0x25ce52(0x4ac)](_0xbd8e4d,_0x4fbcc7),this[_0x25ce52(0x1c7)]['createIncomingSubscription'](_0x4fbcc7,_0xbd8e4d),_0xbd8e4d[_0x25ce52(0x548)]();}),this[_0x41a251(0xa64)][_0x41a251(0x540)]()[_0x41a251(0x7ff)](_0xb2ec85=>{const _0x2944bd=_0x41a251;this[_0x2944bd(0x1c7)]['createOutgoingSubscription'](_0xb2ec85,_0x4fbcc7),this[_0x2944bd(0x1c7)][_0x2944bd(0x4dc)](_0x4fbcc7,_0xb2ec85),_0xb2ec85[_0x2944bd(0x548)]();}),this[_0x41a251(0xa64)][_0x41a251(0x5ef)]()[_0x41a251(0x7ff)](_0x53ba4c=>{const _0x1c4fc7=_0x41a251;this['subscriptionManager'][_0x1c4fc7(0x4ac)](_0x53ba4c,_0x4fbcc7),this[_0x1c4fc7(0x1c7)]['createIncomingSubscription'](_0x4fbcc7,_0x53ba4c),_0x53ba4c[_0x1c4fc7(0x548)]();}),this[_0x41a251(0x19e)]=this[_0x41a251(0x38b)]();}['registerSystemSource'](_0x5354db){const _0x4c4054=_0x3d1090;try{this[_0x4c4054(0x613)]['registerSource'](_0x5354db);}catch(_0x111dc8){this['handleError'](_0x111dc8,{});}}[_0x3d1090(0x5ad)](_0x558468){const _0x4e569a=_0x3d1090;try{this['systemTopic'][_0x4e569a(0x52e)](_0x558468);}catch(_0x317438){this['handleError'](_0x317438,{});}}[_0x3d1090(0x30b)](_0x594920,_0x2638fb){const _0x2ded29=_0x3d1090;return this[_0x2ded29(0x9a0)][_0x2ded29(0x30b)](_0x594920,_0x2638fb);}['getConnection'](_0x42a734){const _0x3608c6=_0x3d1090;try{return this[_0x3608c6(0x9a0)][_0x3608c6(0x461)](_0x42a734);}catch(_0x19fc38){throw this['handleError'](_0x19fc38,{});}}[_0x3d1090(0x4a5)](_0x21ce95){const _0x1d3efc=_0x3d1090;try{return this[_0x1d3efc(0x9a0)][_0x1d3efc(0x4a5)](_0x21ce95);}catch(_0x3666ab){throw this[_0x1d3efc(0x96c)](_0x3666ab,{});}}[_0x3d1090(0x75d)](_0x28c1cd,_0x5db43d){const _0x363c75=_0x3d1090;try{return this[_0x363c75(0xa64)][_0x363c75(0x19d)](_0xbc372b=>_0xbc372b[_0x363c75(0x310)]()===_0x28c1cd&&_0xbc372b['getLabel']()===_0x5db43d)[0x0];}catch(_0x1876d6){throw this['handleError'](_0x1876d6,{});}}[_0x3d1090(0x220)](_0xca1f87){const _0x47a1b2=_0x3d1090;try{return this[_0x47a1b2(0xa64)][_0x47a1b2(0x524)](_0x304c9a=>_0x304c9a[_0x47a1b2(0xa01)]()===_0xca1f87)[0x0];}catch(_0xfb4505){throw this[_0x47a1b2(0x96c)](_0xfb4505,{});}}['notifyCluster']=(..._0x5627fe)=>{const _0x5a2c41=_0x3d1090;try{return this['clusterEventEmitter'][_0x5a2c41(0xa17)](..._0x5627fe);}catch(_0x4f205c){throw this['handleError'](_0x4f205c,{});}};['registerRemoteNode'](_0x99a33e){const _0xd6867d=_0x3d1090;try{this['statsManager'][_0xd6867d(0x318)](_0x99a33e);}catch(_0x10ea8f){throw this[_0xd6867d(0x96c)](_0x10ea8f,{});}}['unregisterRemoteNode'](_0x28a9f8){const _0x7693d5=_0x3d1090;try{this[_0x7693d5(0x18a)][_0x7693d5(0x528)](_0x28a9f8);}catch(_0x16cbfa){throw this[_0x7693d5(0x96c)](_0x16cbfa,{});}}['collectStats'](_0x237e5b){const _0x53138b=_0x3d1090;return this[_0x53138b(0x9a0)][_0x53138b(0x323)](_0x237e5b);}async[_0x3d1090(0x9c4)](){const _0x275083=_0x3d1090;try{await this[_0x275083(0x9a0)][_0x275083(0x9c4)]();const _0x2d3bb1=await this[_0x275083(0x9e1)][_0x275083(0xa41)]();for(const _0x5367ef of _0x2d3bb1)this[_0x275083(0x9a0)][_0x275083(0x30b)](_0x5367ef);}catch(_0x1f05c7){throw this[_0x275083(0x96c)](_0x1f05c7,{});}}[_0x3d1090(0x706)](_0x206317){const _0x57f6d5=_0x3d1090;this[_0x57f6d5(0x5d3)][_0x57f6d5(0x88c)]===_0x25b155[_0x57f6d5(0xa14)][_0x57f6d5(0x1b2)]&&(this['localNode']['setEmail'](_0x206317[_0x57f6d5(0x599)]()),this[_0x57f6d5(0x5d3)][_0x57f6d5(0x437)](_0x206317[_0x57f6d5(0x94e)]()));}[_0x3d1090(0x8d5)]({force:_0x2bb6e9=!0x1},_0x3fa82f=!0x1){const _0x55ad18=_0x3d1090;if(_0x3dc4e5[_0x55ad18(0x236)](_0x55ad18(0x3c6),{'clusterId':this[_0x55ad18(0xa3c)],'nodeId':this['localNode'][_0x55ad18(0x79a)](),'nodeType':this[_0x55ad18(0x5d3)]['type']}),!_0x2bb6e9&&this[_0x55ad18(0x9a0)]['hasBufferedData']())throw new _0x4ded08(_0x2c3351[_0x55ad18(0x57d)],_0x55ad18(0x6a6));_0x3dc4e5[_0x55ad18(0x3fc)](),this[_0x55ad18(0x19e)](),this[_0x55ad18(0x26c)][_0x55ad18(0x8d5)](),this[_0x55ad18(0x774)][_0x55ad18(0x8d5)](),this['statsManager'][_0x55ad18(0x8d5)](),this['subscriptionManager'][_0x55ad18(0x8d5)](),this[_0x55ad18(0x9a0)][_0x55ad18(0x8d5)](),this[_0x55ad18(0xa64)][_0x55ad18(0x8d5)](_0x3fa82f),this[_0x55ad18(0x9e1)][_0x55ad18(0x8d5)]();}['openPubSubTopic'](_0x38bed6){const _0x47e5d0=_0x3d1090;try{const _0x3a8d24=this['contentManager']['createPubSubTopic'](_0x38bed6),_0x1c91da=this[_0x47e5d0(0x9a0)][_0x47e5d0(0x717)]();return this[_0x47e5d0(0x1c7)]['createOutgoingSubscription'](_0x3a8d24,_0x1c91da),this['subscriptionManager'][_0x47e5d0(0x4dc)](_0x1c91da,_0x3a8d24),_0x3a8d24;}catch(_0x4fe6d6){throw this[_0x47e5d0(0x96c)](_0x4fe6d6,{});}}async['openObjectStoreBucket'](_0x1eec77,_0x8d1bec){const _0x37579f=_0x3d1090;try{const _0x177a62=this[_0x37579f(0xa64)]['createObjectStoreBucket'](_0x1eec77,this['options']['objectStoreConnector'],_0x8d1bec),_0x489daf=this[_0x37579f(0x9a0)]['getConnectionGroup']();return this[_0x37579f(0x1c7)]['createOutgoingSubscription'](_0x177a62,_0x489daf),this[_0x37579f(0x1c7)][_0x37579f(0x4dc)](_0x489daf,_0x177a62),await _0x177a62[_0x37579f(0x439)](),_0x177a62;}catch(_0x2fdd6d){throw this[_0x37579f(0x96c)](_0x2fdd6d,{});}}async['openExternalStorageConnection'](_0x1b308e,_0x64be3d){const _0x45663a=_0x3d1090;try{if(!this[_0x45663a(0x6d5)]['externalStorageConnectors'])throw new _0x4ded08(_0x2c3351[_0x45663a(0x932)],_0x45663a(0x9cd));if(!(this['authNode']instanceof _0x310116))throw new _0x4ded08(_0x2c3351[_0x45663a(0x657)],_0x45663a(0x63d));const _0x41fe48=this['options'][_0x45663a(0x8db)][_0x45663a(0x252)](_0x64be3d);if(!_0x41fe48)throw new _0x4ded08(_0x2c3351[_0x45663a(0x932)],'Missing\x20external\x20storage\x20connector');const _0x315d5d=this[_0x45663a(0xa64)][_0x45663a(0x879)](_0x1b308e,_0x41fe48),_0x390448=this[_0x45663a(0x9a0)][_0x45663a(0x717)]();return this[_0x45663a(0x1c7)][_0x45663a(0x4ac)](_0x315d5d,_0x390448),this[_0x45663a(0x1c7)][_0x45663a(0x4dc)](_0x390448,_0x315d5d),await _0x315d5d[_0x45663a(0x4be)](),_0x315d5d;}catch(_0x4e310d){throw this[_0x45663a(0x96c)](_0x4e310d,{});}}async[_0x3d1090(0x8be)](_0x282be0,_0xcf77c4,_0x54e720){const _0x1c6338=_0x3d1090;try{_0x54e720=_0x54e720||this[_0x1c6338(0x6d5)]['keyValueDatabaseConnector'];const _0x2b0b92=await this[_0x1c6338(0xa64)][_0x1c6338(0x5f1)](_0x282be0,_0xcf77c4,_0x54e720),_0x2f046d=this[_0x1c6338(0x9a0)][_0x1c6338(0x717)]();return this['subscriptionManager'][_0x1c6338(0x4ac)](_0x2b0b92,_0x2f046d),this[_0x1c6338(0x1c7)]['createIncomingSubscription'](_0x2f046d,_0x2b0b92),await _0x2b0b92[_0x1c6338(0x4be)](),this[_0x1c6338(0x469)](_0x2b0b92),_0x2b0b92;}catch(_0x4fb7d7){throw this[_0x1c6338(0x96c)](_0x4fb7d7,{});}}async[_0x3d1090(0x229)](_0x1495d9){const _0x3e6f2a=_0x3d1090;try{const _0x384156=await this[_0x3e6f2a(0xa64)][_0x3e6f2a(0x5d4)](_0x1495d9,this[_0x3e6f2a(0x8bb)]),_0x2a7f13=this[_0x3e6f2a(0x9a0)][_0x3e6f2a(0x717)]();return this[_0x3e6f2a(0x1c7)][_0x3e6f2a(0x4ac)](_0x384156,_0x2a7f13),this[_0x3e6f2a(0x1c7)][_0x3e6f2a(0x4dc)](_0x2a7f13,_0x384156),_0x384156[_0x3e6f2a(0x4be)](),_0x384156;}catch(_0x12c142){throw this[_0x3e6f2a(0x96c)](_0x12c142,{});}}async[_0x3d1090(0x6f2)](_0xa755a9){const _0x21bdf9=_0x3d1090;throw new Error(_0x21bdf9(0x402));}async[_0x3d1090(0x6ac)](_0x37ed9a){const _0x444b26=_0x3d1090;try{const _0x5d3912=await this[_0x444b26(0xa64)][_0x444b26(0x804)](_0x37ed9a,this['graphService']),_0x43ca05=this[_0x444b26(0x9a0)][_0x444b26(0x717)]();return this['subscriptionManager'][_0x444b26(0x4ac)](_0x5d3912,_0x43ca05),this[_0x444b26(0x1c7)][_0x444b26(0x4dc)](_0x43ca05,_0x5d3912),_0x5d3912[_0x444b26(0x4be)](),_0x5d3912;}catch(_0x22b176){throw console[_0x444b26(0x58c)](_0x22b176),this['handleError'](_0x22b176,{});}}async[_0x3d1090(0xa6a)](_0x47db06){const _0x14e1fc=_0x3d1090;try{if(!this[_0x14e1fc(0x6d5)][_0x14e1fc(0x319)]||!this['options'][_0x14e1fc(0x266)]||!this[_0x14e1fc(0x6d5)][_0x14e1fc(0x47c)])throw new _0x4ded08(_0x2c3351[_0x14e1fc(0x274)],_0x14e1fc(0xa4f));if(!(this[_0x14e1fc(0x384)]instanceof _0x310116))throw new _0x4ded08(_0x2c3351[_0x14e1fc(0x657)],'Node\x20is\x20not\x20an\x20agent');const _0x6f267b=[];for(const _0x29c6f6 of this[_0x14e1fc(0x6d5)][_0x14e1fc(0x319)])_0x6f267b[_0x14e1fc(0xa93)](new _0x29c6f6());const _0x62c8ff=new this[(_0x14e1fc(0x6d5))][(_0x14e1fc(0x266))](),_0x3eec4a=new this[(_0x14e1fc(0x6d5))][(_0x14e1fc(0x47c))]();let _0x693f0c;this[_0x14e1fc(0x6d5)]['searchConnector']&&(_0x693f0c=new this[(_0x14e1fc(0x6d5))][(_0x14e1fc(0xa70))]());const _0x54773e=await this[_0x14e1fc(0xa64)][_0x14e1fc(0x98e)](_0x47db06,this['authNode'],_0x6f267b,_0x62c8ff,_0x3eec4a,_0x693f0c),_0x4091a4=this[_0x14e1fc(0x9a0)][_0x14e1fc(0x717)]();this[_0x14e1fc(0x1c7)][_0x14e1fc(0x4ac)](_0x54773e,_0x4091a4),this[_0x14e1fc(0x1c7)][_0x14e1fc(0x4dc)](_0x4091a4,_0x54773e);const _0x15a172=this[_0x14e1fc(0x9e1)][_0x14e1fc(0x67a)]();return await _0x54773e[_0x14e1fc(0x4be)](0x0===_0x15a172[_0x14e1fc(0x73c)]||void 0x0),_0x54773e;}catch(_0x58e231){throw this['handleError'](_0x58e231,{});}}['openGraphDatabase'](_0x54a5db){const _0x2e2264=_0x3d1090;try{if(!this[_0x2e2264(0x6d5)][_0x2e2264(0x459)])throw new _0x4ded08(_0x2c3351[_0x2e2264(0x244)],_0x2e2264(0xa6f));if(!(this[_0x2e2264(0x384)]instanceof _0x310116))throw new _0x4ded08(_0x2c3351['NodeInvalidType'],_0x2e2264(0x63d));const _0x2053a1=this['contentManager'][_0x2e2264(0x996)](_0x54a5db,this[_0x2e2264(0x6d5)][_0x2e2264(0x459)]),_0x2badfe=this[_0x2e2264(0x9a0)]['getConnectionGroup']();return this[_0x2e2264(0x1c7)][_0x2e2264(0x4ac)](_0x2053a1,_0x2badfe),this[_0x2e2264(0x1c7)][_0x2e2264(0x4dc)](_0x2badfe,_0x2053a1),_0x2053a1;}catch(_0x575326){throw this[_0x2e2264(0x96c)](_0x575326,{});}}[_0x3d1090(0x520)](_0x5ad96a){const _0x56d229=_0x3d1090;try{if(!this[_0x56d229(0x6d5)][_0x56d229(0x7e0)])throw new _0x4ded08(_0x2c3351[_0x56d229(0xa19)],_0x56d229(0x1e4));if(!(this[_0x56d229(0x384)]instanceof _0x310116))throw new _0x4ded08(_0x2c3351[_0x56d229(0x657)],_0x56d229(0x63d));const _0x3be981=this[_0x56d229(0xa64)][_0x56d229(0x3e4)](_0x5ad96a,this[_0x56d229(0x6d5)][_0x56d229(0x7e0)]),_0x4c40e7=this[_0x56d229(0x9a0)][_0x56d229(0x717)]();return this[_0x56d229(0x1c7)]['createOutgoingSubscription'](_0x3be981,_0x4c40e7),this[_0x56d229(0x1c7)]['createIncomingSubscription'](_0x4c40e7,_0x3be981),_0x3be981;}catch(_0x3e2ef4){throw this['handleError'](_0x3e2ef4,{});}}[_0x3d1090(0x568)](_0x381a4b){const _0x127103=_0x3d1090;try{return this['contentManager']['getPubSubTopics'](_0x381a4b);}catch(_0x4a406d){throw this[_0x127103(0x96c)](_0x4a406d,{});}}['getObjectStoreBuckets'](_0x9eefa7){const _0x3b7850=_0x3d1090;try{return this['contentManager'][_0x3b7850(0x338)](_0x9eefa7);}catch(_0x3dd006){throw this[_0x3b7850(0x96c)](_0x3dd006,{});}}[_0x3d1090(0x2e2)](_0x8ebdea){const _0x97bbaa=_0x3d1090;try{return this[_0x97bbaa(0xa64)][_0x97bbaa(0x2e2)](_0x8ebdea);}catch(_0x5cab82){throw this[_0x97bbaa(0x96c)](_0x5cab82,{});}}['getKeyValueDatabases'](_0x79c894){const _0xccf03b=_0x3d1090;try{return this[_0xccf03b(0xa64)][_0xccf03b(0xa31)](_0x79c894);}catch(_0x10e7e7){throw this[_0xccf03b(0x96c)](_0x10e7e7,{});}}[_0x3d1090(0x46a)](_0x48c720){const _0x3039e2=_0x3d1090;try{return this['contentManager']['getGenerativeAIContexts'](_0x48c720);}catch(_0xa69061){throw this[_0x3039e2(0x96c)](_0xa69061,{});}}[_0x3d1090(0x401)](_0x31497d){const _0x4e79f9=_0x3d1090;try{return this[_0x4e79f9(0xa64)][_0x4e79f9(0x401)](_0x31497d);}catch(_0x3522b5){throw this[_0x4e79f9(0x96c)](_0x3522b5,{});}}[_0x3d1090(0x5ef)](_0x24b328){const _0x2c31ca=_0x3d1090;try{return this['contentManager'][_0x2c31ca(0x5ef)](_0x24b328);}catch(_0x238dea){throw this[_0x2c31ca(0x96c)](_0x238dea,{});}}[_0x3d1090(0x808)](_0x505ce5,_0x54325d){const _0x516f5e=_0x3d1090;if(!this[_0x516f5e(0x9e8)][_0x516f5e(0x93c)][_0x516f5e(0x1e2)](_0x23b529['MediaStream']))throw new _0x4ded08(_0x2c3351[_0x516f5e(0x1a6)],'MediaStream\x20feature\x20not\x20enabled');try{return this[_0x516f5e(0xa64)][_0x516f5e(0x808)](_0x505ce5,_0x54325d);}catch(_0x16e129){throw this['handleError'](_0x16e129,{});}}[_0x3d1090(0x798)](_0x13dc26,_0x3c6639){const _0x12f3af=_0x3d1090;if(!this[_0x12f3af(0x9e8)][_0x12f3af(0x93c)][_0x12f3af(0x1e2)](_0x23b529[_0x12f3af(0x8ca)]))throw new _0x4ded08(_0x2c3351[_0x12f3af(0x1a6)],_0x12f3af(0x388));try{return this[_0x12f3af(0xa64)][_0x12f3af(0x798)](_0x13dc26,_0x3c6639);}catch(_0x5573e3){throw this[_0x12f3af(0x96c)](_0x5573e3,{});}}['getLocalMediaStreams'](_0x530364){const _0x5a09a4=_0x3d1090;if(!this['configs']['features'][_0x5a09a4(0x1e2)](_0x23b529[_0x5a09a4(0x8ca)]))throw new _0x4ded08(_0x2c3351[_0x5a09a4(0x1a6)],'MediaStream\x20feature\x20not\x20enabled');try{return this[_0x5a09a4(0xa64)][_0x5a09a4(0x524)](_0x530364);}catch(_0x5ab7ae){throw this[_0x5a09a4(0x96c)](_0x5ab7ae,{});}}['getRemoteMediaStreams'](_0x301c04){const _0x4abcc5=_0x3d1090;if(!this[_0x4abcc5(0x9e8)][_0x4abcc5(0x93c)][_0x4abcc5(0x1e2)](_0x23b529[_0x4abcc5(0x8ca)]))throw new _0x4ded08(_0x2c3351[_0x4abcc5(0x1a6)],_0x4abcc5(0x388));try{return this[_0x4abcc5(0xa64)][_0x4abcc5(0x19d)](_0x301c04);}catch(_0x18bf8f){throw this[_0x4abcc5(0x96c)](_0x18bf8f,{});}}[_0x3d1090(0x540)](_0x5edb96){const _0x53d86b=_0x3d1090;try{return this[_0x53d86b(0xa64)][_0x53d86b(0x540)](_0x5edb96);}catch(_0x28799d){throw this[_0x53d86b(0x96c)](_0x28799d,{});}}[_0x3d1090(0x2c7)](_0x5431bf,_0x3d1324){const _0x16647f=_0x3d1090;return this[_0x16647f(0x9e1)]['getDistance'](_0x5431bf,_0x3d1324);}[_0x3d1090(0xa5c)](){const _0x5776=_0x3d1090;return this[_0x5776(0x9e1)][_0x5776(0xa5c)]();}['getRemoteNodes'](_0x5d8235){const _0x1492da=_0x3d1090;try{return this[_0x1492da(0x9e1)][_0x1492da(0x559)](_0x5d8235);}catch(_0x358055){throw this[_0x1492da(0x96c)](_0x358055,{});}}[_0x3d1090(0x3c0)](){const _0x533673=_0x3d1090;return this[_0x533673(0x9a0)][_0x533673(0x3c0)]();}[_0x3d1090(0x64c)](_0x170566){const _0x374939=_0x3d1090;return this[_0x374939(0x9e1)][_0x374939(0x64c)](_0x170566);}async[_0x3d1090(0x9ee)](_0x4b350f){const _0xb1a571=_0x3d1090;try{if(_0x3dc4e5[_0xb1a571(0x546)](_0x5a543d[_0xb1a571(0x33a)],'Orchestrator\x20handleSystemEvents',this[_0xb1a571(0x9e1)][_0xb1a571(0x8b2)](),_0x4b350f),_0x1913cb(_0x4b350f,this[_0xb1a571(0x9e1)]['getLocalId']()))return void this['connectionManager'][_0xb1a571(0x87d)](_0x4b350f);switch(_0x4b350f[_0xb1a571(0x3b0)]){case _0x17c3e2[_0xb1a571(0x235)]:this[_0xb1a571(0x18a)][_0xb1a571(0x5fa)](_0x4b350f),this['subscriptionManager']['handleContentSystemEvents'](_0x4b350f),this[_0xb1a571(0xa64)][_0xb1a571(0x5fa)](_0x4b350f);break;case _0x17c3e2['Node']:this[_0xb1a571(0x1c7)][_0xb1a571(0x328)](_0x4b350f),this[_0xb1a571(0x9a0)][_0xb1a571(0x328)](_0x4b350f),this['contentManager'][_0xb1a571(0x328)](_0x4b350f),this['nodeManager']['handleNodeSystemEvents'](_0x4b350f);break;case _0x17c3e2[_0xb1a571(0x440)]:this[_0xb1a571(0x26c)][_0xb1a571(0x889)](_0x4b350f);break;case _0x17c3e2[_0xb1a571(0x760)]:this['remediationManager'][_0xb1a571(0x82c)](_0x4b350f);break;case _0x17c3e2[_0xb1a571(0xa7a)]:this[_0xb1a571(0x774)][_0xb1a571(0x83f)](_0x4b350f);break;case _0x17c3e2[_0xb1a571(0x957)]:_0x4b350f[_0xb1a571(0x1d7)]['type']!==_0x12f68d['UnsubscribeMediaStream']?(this[_0xb1a571(0x1c7)][_0xb1a571(0x533)](_0x4b350f),this['contentManager'][_0xb1a571(0x533)](_0x4b350f)):(this[_0xb1a571(0xa64)][_0xb1a571(0x533)](_0x4b350f),this[_0xb1a571(0x1c7)][_0xb1a571(0x533)](_0x4b350f));break;case _0x17c3e2[_0xb1a571(0x4aa)]:await this[_0xb1a571(0x9a0)][_0xb1a571(0x233)](_0x4b350f),this['statsManager'][_0xb1a571(0x233)](_0x4b350f),this[_0xb1a571(0x9e1)][_0xb1a571(0x233)](_0x4b350f),this[_0xb1a571(0x1c7)][_0xb1a571(0x233)](_0x4b350f);}}catch(_0x5964b6){throw _0x3dc4e5[_0xb1a571(0x9f8)](_0xb1a571(0x9ee),_0x5964b6),this['handleError'](_0x5964b6,{});}}[_0x3d1090(0x96c)](_0x39bf60,_0x32d201){const _0x3e2aa6=_0x3d1090;if(!(_0x39bf60 instanceof _0x331e4d)){if(_0x39bf60 instanceof _0x4ded08)throw _0x39bf60;if(!(_0x39bf60 instanceof Error))throw new _0x4ded08(_0x2c3351[_0x3e2aa6(0x343)],_0x3e2aa6(0x519)+_0x39bf60);if(!(_0x39bf60 instanceof _0x1b9d16))throw new _0x4ded08(_0x2c3351[_0x3e2aa6(0x343)],_0x3e2aa6(0x21d)+_0x39bf60[_0x3e2aa6(0x6d7)]);switch(_0x39bf60[_0x3e2aa6(0x393)]){case _0x1b9d16[_0x3e2aa6(0x276)][_0x3e2aa6(0x8f6)]:case _0x1b9d16[_0x3e2aa6(0x276)]['MissingRemoteConnection']:case _0x1b9d16[_0x3e2aa6(0x276)][_0x3e2aa6(0x1b4)]:case _0x1b9d16[_0x3e2aa6(0x276)][_0x3e2aa6(0x86b)]:case _0x1b9d16[_0x3e2aa6(0x276)][_0x3e2aa6(0x35d)]:case _0x1b9d16[_0x3e2aa6(0x276)][_0x3e2aa6(0x748)]:case _0x1b9d16[_0x3e2aa6(0x276)][_0x3e2aa6(0x61f)]:case _0x1b9d16[_0x3e2aa6(0x276)][_0x3e2aa6(0x870)]:case _0x1b9d16[_0x3e2aa6(0x276)][_0x3e2aa6(0x5e8)]:case _0x1b9d16[_0x3e2aa6(0x276)][_0x3e2aa6(0x3e8)]:case _0x1b9d16[_0x3e2aa6(0x276)][_0x3e2aa6(0x830)]:case _0x1b9d16[_0x3e2aa6(0x276)][_0x3e2aa6(0x982)]:}throw _0x3dc4e5[_0x3e2aa6(0x58c)](_0x3e2aa6(0x351)+_0x39bf60[_0x3e2aa6(0x6d7)],{'clusterId':this['clusterId'],'nodeId':this[_0x3e2aa6(0x5d3)]['getId'](),'nodeType':this[_0x3e2aa6(0x5d3)][_0x3e2aa6(0x88c)]},_0x39bf60),new _0x4ded08(_0x2c3351[_0x3e2aa6(0x343)],_0x3e2aa6(0x875)+_0x39bf60[_0x3e2aa6(0x6d7)]);}}['getConfigs'](){const _0x2527fb=_0x3d1090;return{'mediator':this,'vendorId':this[_0x2527fb(0x43c)],'clusterId':this[_0x2527fb(0xa3c)],'localNode':this[_0x2527fb(0x5d3)]};}[_0x3d1090(0x38b)](){const _0x538e50=_0x3d1090;return this[_0x538e50(0x613)]['subscribe'](_0x3f6ffe=>{const _0x49ac8a=_0x538e50,_0x4ee435=_0x167b75(_0x3f6ffe,this[_0x49ac8a(0x5d3)][_0x49ac8a(0x79a)]()),_0x430bf3=_0x3f6ffe['messageType']===_0x17c3e2[_0x49ac8a(0xa7a)]||_0x3f6ffe[_0x49ac8a(0x3b0)]===_0x17c3e2[_0x49ac8a(0x4aa)]&&_0x3f6ffe[_0x49ac8a(0x1d7)][_0x49ac8a(0x88c)]===_0x465160[_0x49ac8a(0xa7a)]?_0x5a543d[_0x49ac8a(0x845)]:_0x5a543d[_0x49ac8a(0x472)];_0x3dc4e5[_0x49ac8a(0x753)](_0x430bf3,_0x3f6ffe[_0x49ac8a(0x29b)]+_0x49ac8a(0x649)+_0x4ee435,_0x3f6ffe),this[_0x49ac8a(0x9ee)](_0x3f6ffe)['catch'](_0x59527c=>{console['error'](_0x59527c);});});}async[_0x3d1090(0x469)](_0x766cce){const _0xcc8105=_0x3d1090,{timingLogger:_0x195b6d,logger:_0x50aae5,logBeforeSync:_0x38ff95,logAfterSync:_0x2d4267}=function(_0x175196,_0x49fed8){const _0x2a635e=a0_0x50c4;if(!_0x3dc4e5[_0x2a635e(0x445)](_0x49fed8))return _0x3dc4e5[_0x2a635e(0x9f8)]('Logging\x20not\x20enabled\x20for\x20channel\x20'+_0x49fed8),{..._0x131003(_0x175196,_0x49fed8),'syncStartTime':0x0,'logBeforeSync':()=>0x0,'logAfterSync':()=>{}};const {timingLogger:_0x4357c6,logger:_0x160fa2}=_0x131003(_0x175196,_0x49fed8);let _0x14fad7=0x0;return _0x14fad7=Date[_0x2a635e(0x267)](),{'syncStartTime':_0x14fad7,'timingLogger':_0x4357c6,'logger':_0x160fa2,'logBeforeSync':()=>(_0x2246bf(_0x49fed8,_0x2a635e(0x476)),_0x4357c6[_0x2a635e(0x267)]()),'logAfterSync':(_0x2adb05,_0x37ffd0)=>{const _0x430ae9=_0x2a635e,_0x2c50d9=Date['now']();_0x2246bf(_0x49fed8,_0x430ae9(0x44a)+_0x37ffd0);const _0x5ea191=(_0x2c50d9-_0x14fad7)/0x3e8,_0x16965e=(_0x2c50d9-_0x2adb05)/0x3e8;_0x3dc4e5[_0x430ae9(0x546)](_0x49fed8,'KeyValueDatabase\x20-\x20Sync\x20completed',_0x175196,_0x430ae9(0x284)+_0x5ea191[_0x430ae9(0x2c2)](0x2)+'\x20seconds',_0x430ae9(0x364)+_0x16965e['toFixed'](0x3)+'\x20seconds','\x0a\x20===\x20Synchronization\x20Time:\x20'+((_0x2c50d9-_0x14fad7)/0x3e8-_0x16965e)[_0x430ae9(0x2c2)](0x2)+_0x430ae9(0x672));}};}(_0x766cce['getLabel'](),_0x5a543d[_0xcc8105(0x970)]);_0x50aae5[_0xcc8105(0x546)](_0xcc8105(0x4c0));const _0x59038d=this[_0xcc8105(0x9e1)][_0xcc8105(0x67a)]()[_0xcc8105(0x73c)]>0x0;if(_0x59038d){_0x50aae5['log'](_0xcc8105(0x924),()=>this[_0xcc8105(0x9e1)][_0xcc8105(0x67a)]()),_0x195b6d['start'](),await Promise[_0xcc8105(0x9ed)](this[_0xcc8105(0x9e1)][_0xcc8105(0x67a)]()[_0xcc8105(0x855)](async _0x463c0d=>await this[_0xcc8105(0x9e1)][_0xcc8105(0x64c)](_0x463c0d)))[_0xcc8105(0x5dd)](_0x4dd3b5=>_0x3dc4e5[_0xcc8105(0x236)](_0xcc8105(0x408),{'nodeId':this['localNode'][_0xcc8105(0x79a)](),'nodeType':this[_0xcc8105(0x5d3)][_0xcc8105(0x88c)]}));const _0x29b1e9=_0x50aae5['performCalculation'](()=>this[_0xcc8105(0x9e1)]['getAncestorIds'](),[]);_0x195b6d[_0xcc8105(0x9b7)](_0xcc8105(0x920)+_0x29b1e9+_0xcc8105(0xa7f));}_0x2d4267(_0x38ff95(),await _0x766cce[_0xcc8105(0x439)](_0x59038d,async()=>{const _0x25e7a9=_0xcc8105;_0x195b6d[_0x25e7a9(0x30e)](),await this[_0x25e7a9(0x9e1)][_0x25e7a9(0x345)](),_0x195b6d[_0x25e7a9(0x9b7)]('syncKeyValueDatabase\x20-\x20Retrying\x20sync\x20in\x20broadcast\x20mode.\x20Waited\x20for\x20cluster\x20readiness\x20for:'),_0x766cce[_0x25e7a9(0x439)](!0x0,()=>{const _0x49cd25=_0x25e7a9;_0x50aae5[_0x49cd25(0x546)](_0x49cd25(0x9c9)),_0x766cce[_0x49cd25(0x439)](!0x1);},!0x0);}));}}class _0x68e27a{[_0x3d1090(0x43c)];['clusterId'];[_0x3d1090(0x384)];[_0x3d1090(0x755)];['orchestrator'];constructor(_0x2db4c6,_0x2c7759,_0x1dd539,_0x3e6781,_0x3cd3a3,_0x2b7197,_0x124456=new _0x2b227f()){const _0x19e49e=_0x3d1090;this[_0x19e49e(0x43c)]=_0x2db4c6,this[_0x19e49e(0xa3c)]=_0x2c7759,this['authNode']=_0x1dd539,this['eventEmitter']=_0x124456,this[_0x19e49e(0x43f)]=new _0x5b61bf(this[_0x19e49e(0x43c)],this[_0x19e49e(0xa3c)],_0x1dd539,_0x3e6781,_0x3cd3a3,_0x2b7197,this);}async['join'](){const _0x1d9b04=_0x3d1090;await this['orchestrator'][_0x1d9b04(0x9c4)](),this[_0x1d9b04(0x384)][_0x1d9b04(0x88c)]===_0x25b155['NodeType']['User']&&this[_0x1d9b04(0x384)][_0x1d9b04(0x312)](this[_0x1d9b04(0xa3c)],_0x45c9a9=>{const _0x4a24cd=_0x1d9b04;this[_0x4a24cd(0x43f)][_0x4a24cd(0x706)](_0x45c9a9);});}[_0x3d1090(0x294)](_0x43f328={}){const _0x249f1f=_0x3d1090;this[_0x249f1f(0x43f)]['close'](_0x43f328),this[_0x249f1f(0x384)][_0x249f1f(0x88c)]===_0x25b155[_0x249f1f(0xa14)][_0x249f1f(0x1b2)]&&this[_0x249f1f(0x384)]['unregisterCluster'](this[_0x249f1f(0xa3c)]),this[_0x249f1f(0xa17)](_0x249f1f(0x554),void 0x0);}[_0x3d1090(0xa4a)](_0x2aa906){const _0x24744d=_0x3d1090,_0x238e58=this[_0x24744d(0x43f)][_0x24744d(0xa4a)](_0x2aa906);return{'getName':_0x238e58['getName'][_0x24744d(0x82a)](_0x238e58),'getOwnerId':_0x238e58[_0x24744d(0x310)][_0x24744d(0x82a)](_0x238e58),'getContentType':_0x238e58[_0x24744d(0x3b7)]['bind'](_0x238e58),'publish':_0x238e58[_0x24744d(0x681)]['bind'](_0x238e58),'subscribe':_0x238e58['subscribe'][_0x24744d(0x82a)](_0x238e58),'unsubscribe':_0x238e58[_0x24744d(0x7d0)][_0x24744d(0x82a)](_0x238e58),'close':_0x238e58[_0x24744d(0x8d5)][_0x24744d(0x82a)](_0x238e58)};}async['openObjectStoreBucket'](_0xcffdc5,_0x11fb7e){const _0x2bf715=_0x3d1090,_0x20b870=await this[_0x2bf715(0x43f)]['openObjectStoreBucket'](_0xcffdc5,_0x11fb7e);return{'getName':_0x20b870['getName']['bind'](_0x20b870),'getOwnerId':_0x20b870['getOwnerId']['bind'](_0x20b870),'getContentType':_0x20b870[_0x2bf715(0x3b7)][_0x2bf715(0x82a)](_0x20b870),'publish':_0x20b870[_0x2bf715(0x681)]['bind'](_0x20b870),'unpublish':_0x20b870['unpublish'][_0x2bf715(0x82a)](_0x20b870),'get':_0x20b870['get']['bind'](_0x20b870),'list':_0x20b870[_0x2bf715(0x97e)][_0x2bf715(0x82a)](_0x20b870),'getSize':_0x20b870[_0x2bf715(0x816)][_0x2bf715(0x82a)](_0x20b870),'subscribe':_0x20b870[_0x2bf715(0x81b)][_0x2bf715(0x82a)](_0x20b870),'unsubscribe':_0x20b870['unsubscribe'][_0x2bf715(0x82a)](_0x20b870),'close':_0x20b870[_0x2bf715(0x8d5)][_0x2bf715(0x82a)](_0x20b870)};}async[_0x3d1090(0xa79)](_0x4c857e,_0x5af693){const _0x513eb1=_0x3d1090,_0x4c3715=await this[_0x513eb1(0x43f)][_0x513eb1(0xa79)](_0x4c857e,_0x5af693);return{'getName':_0x4c3715['getName']['bind'](_0x4c3715),'getOwnerId':_0x4c3715['getOwnerId'][_0x513eb1(0x82a)](_0x4c3715),'getContentType':_0x4c3715[_0x513eb1(0x3b7)]['bind'](_0x4c3715),'close':_0x4c3715[_0x513eb1(0x8d5)][_0x513eb1(0x82a)](_0x4c3715),'get':_0x4c3715[_0x513eb1(0x252)]['bind'](_0x4c3715),'list':_0x4c3715[_0x513eb1(0x97e)][_0x513eb1(0x82a)](_0x4c3715),'subscribe':_0x4c3715[_0x513eb1(0x81b)][_0x513eb1(0x82a)](_0x4c3715),'unsubscribe':_0x4c3715[_0x513eb1(0x7d0)][_0x513eb1(0x82a)](_0x4c3715)};}async[_0x3d1090(0x8be)](_0x3e48a1,_0x4ed35d,_0x4bcc2c){const _0x3cc173=_0x3d1090,_0x5ce069=await this['orchestrator'][_0x3cc173(0x8be)](_0x3e48a1,_0x4ed35d,_0x4bcc2c);return{'getName':_0x5ce069[_0x3cc173(0x44c)]['bind'](_0x5ce069),'getOwnerId':_0x5ce069[_0x3cc173(0x310)][_0x3cc173(0x82a)](_0x5ce069),'getContentType':_0x5ce069[_0x3cc173(0x3b7)]['bind'](_0x5ce069),'getTable':_0x5ce069['getTable'][_0x3cc173(0x82a)](_0x5ce069),'subscribe':_0x5ce069['subscribe'][_0x3cc173(0x82a)](_0x5ce069),'unsubscribe':_0x5ce069['unsubscribe'][_0x3cc173(0x82a)](_0x5ce069),'close':_0x5ce069['close'][_0x3cc173(0x82a)](_0x5ce069)};}async['openJobDispatcher'](_0x40f38f){const _0x2bb3df=_0x3d1090,_0x1d6c0c=await this[_0x2bb3df(0x43f)][_0x2bb3df(0x229)](_0x40f38f);return{'getName':_0x1d6c0c['getName'][_0x2bb3df(0x82a)](_0x1d6c0c),'getOwnerId':_0x1d6c0c[_0x2bb3df(0x310)][_0x2bb3df(0x82a)](_0x1d6c0c),'getContentType':_0x1d6c0c[_0x2bb3df(0x3b7)]['bind'](_0x1d6c0c),'createJob':_0x1d6c0c[_0x2bb3df(0x90f)][_0x2bb3df(0x82a)](_0x1d6c0c),'getJob':_0x1d6c0c['getJob']['bind'](_0x1d6c0c),'getJobs':_0x1d6c0c[_0x2bb3df(0x70b)][_0x2bb3df(0x82a)](_0x1d6c0c),'close':_0x1d6c0c[_0x2bb3df(0x8d5)]['bind'](_0x1d6c0c)};}async[_0x3d1090(0x6f2)](_0x41749f){const _0x4d2200=_0x3d1090,_0x2b1130=await this[_0x4d2200(0x43f)][_0x4d2200(0x6f2)](_0x41749f);return{'close':_0x2b1130[_0x4d2200(0x8d5)][_0x4d2200(0x82a)](_0x2b1130)};}async[_0x3d1090(0x6ac)](_0x7398d7){const _0x1f647c=_0x3d1090,_0x23f040=await this[_0x1f647c(0x43f)][_0x1f647c(0x6ac)](_0x7398d7);return{'createAIJob':_0x23f040['createAIJob'][_0x1f647c(0x82a)](_0x23f040),'ratePrompt':_0x23f040[_0x1f647c(0x8ed)][_0x1f647c(0x82a)](_0x23f040),'downloadDocument':_0x23f040[_0x1f647c(0x7c6)][_0x1f647c(0x82a)](_0x23f040),'getDataBucketIds':_0x23f040[_0x1f647c(0x6e6)][_0x1f647c(0x82a)](_0x23f040),'close':_0x23f040['close'][_0x1f647c(0x82a)](_0x23f040)};}async[_0x3d1090(0xa6a)](_0x4188b7){const _0x17e41f=_0x3d1090,_0x5185c3=await this[_0x17e41f(0x43f)]['openGenerativeAIWorker'](_0x4188b7);return{'close':_0x5185c3[_0x17e41f(0x8d5)][_0x17e41f(0x82a)](_0x5185c3)};}[_0x3d1090(0x74f)](_0x515d1b){const _0x72f6ad=_0x3d1090,_0x7a80f7=this[_0x72f6ad(0x43f)][_0x72f6ad(0x74f)](_0x515d1b);return{'getName':_0x7a80f7['getName'][_0x72f6ad(0x82a)](_0x7a80f7),'getOwnerId':_0x7a80f7['getOwnerId']['bind'](_0x7a80f7),'getContentType':_0x7a80f7[_0x72f6ad(0x3b7)][_0x72f6ad(0x82a)](_0x7a80f7),'addNode':_0x7a80f7[_0x72f6ad(0xa40)]['bind'](_0x7a80f7),'addEdge':_0x7a80f7['addEdge'][_0x72f6ad(0x82a)](_0x7a80f7),'getContent':_0x7a80f7[_0x72f6ad(0x771)][_0x72f6ad(0x82a)](_0x7a80f7),'remove':_0x7a80f7[_0x72f6ad(0x833)][_0x72f6ad(0x82a)](_0x7a80f7),'saveToDisk':_0x7a80f7[_0x72f6ad(0x532)]['bind'](_0x7a80f7),'loadFromDisk':_0x7a80f7['loadFromDisk'][_0x72f6ad(0x82a)](_0x7a80f7),'close':_0x7a80f7[_0x72f6ad(0x8d5)][_0x72f6ad(0x82a)](_0x7a80f7)};}['openVectorDatabase'](_0x54927d){const _0x1fb43e=_0x3d1090,_0x5013b9=this[_0x1fb43e(0x43f)][_0x1fb43e(0x520)](_0x54927d);return{'getName':_0x5013b9[_0x1fb43e(0x44c)][_0x1fb43e(0x82a)](_0x5013b9),'getOwnerId':_0x5013b9['getOwnerId'][_0x1fb43e(0x82a)](_0x5013b9),'getContentType':_0x5013b9[_0x1fb43e(0x3b7)][_0x1fb43e(0x82a)](_0x5013b9),'search':_0x5013b9[_0x1fb43e(0x9b9)][_0x1fb43e(0x82a)](_0x5013b9),'insert':_0x5013b9['insert']['bind'](_0x5013b9),'remove':_0x5013b9[_0x1fb43e(0x833)][_0x1fb43e(0x82a)](_0x5013b9),'saveToDisk':_0x5013b9[_0x1fb43e(0x532)]['bind'](_0x5013b9),'loadFromDisk':_0x5013b9[_0x1fb43e(0x61c)]['bind'](_0x5013b9),'close':_0x5013b9[_0x1fb43e(0x8d5)][_0x1fb43e(0x82a)](_0x5013b9)};}[_0x3d1090(0x568)](_0x156281){const _0x2551eb=_0x3d1090;return this[_0x2551eb(0x43f)][_0x2551eb(0x568)](_0x156281)[_0x2551eb(0x855)](_0x1a9464=>({'getName':_0x1a9464[_0x2551eb(0x44c)][_0x2551eb(0x82a)](_0x1a9464),'getOwnerId':_0x1a9464[_0x2551eb(0x310)][_0x2551eb(0x82a)](_0x1a9464),'getContentType':_0x1a9464[_0x2551eb(0x3b7)][_0x2551eb(0x82a)](_0x1a9464),'publish':_0x1a9464[_0x2551eb(0x681)][_0x2551eb(0x82a)](_0x1a9464),'subscribe':_0x1a9464[_0x2551eb(0x81b)][_0x2551eb(0x82a)](_0x1a9464),'unsubscribe':_0x1a9464['unsubscribe'][_0x2551eb(0x82a)](_0x1a9464),'close':_0x1a9464[_0x2551eb(0x8d5)][_0x2551eb(0x82a)](_0x1a9464)}));}['getObjectStoreBuckets'](_0x18ba0c){const _0x418617=_0x3d1090;return this['orchestrator']['getObjectStoreBuckets'](_0x18ba0c)[_0x418617(0x855)](_0x1891fe=>({'getName':_0x1891fe[_0x418617(0x44c)][_0x418617(0x82a)](_0x1891fe),'getOwnerId':_0x1891fe[_0x418617(0x310)]['bind'](_0x1891fe),'getContentType':_0x1891fe[_0x418617(0x3b7)][_0x418617(0x82a)](_0x1891fe),'publish':_0x1891fe[_0x418617(0x681)][_0x418617(0x82a)](_0x1891fe),'unpublish':_0x1891fe[_0x418617(0x50a)][_0x418617(0x82a)](_0x1891fe),'get':_0x1891fe['get']['bind'](_0x1891fe),'list':_0x1891fe['list'][_0x418617(0x82a)](_0x1891fe),'getSize':_0x1891fe[_0x418617(0x816)][_0x418617(0x82a)](_0x1891fe),'subscribe':_0x1891fe[_0x418617(0x81b)][_0x418617(0x82a)](_0x1891fe),'unsubscribe':_0x1891fe[_0x418617(0x7d0)][_0x418617(0x82a)](_0x1891fe),'close':_0x1891fe[_0x418617(0x8d5)][_0x418617(0x82a)](_0x1891fe)}));}[_0x3d1090(0x2e2)](_0x465a28){const _0x2ecf89=_0x3d1090;return this[_0x2ecf89(0x43f)][_0x2ecf89(0x2e2)](_0x465a28)[_0x2ecf89(0x855)](_0x558b05=>({'getName':_0x558b05[_0x2ecf89(0x44c)]['bind'](_0x558b05),'getOwnerId':_0x558b05[_0x2ecf89(0x310)][_0x2ecf89(0x82a)](_0x558b05),'getContentType':_0x558b05['getContentType'][_0x2ecf89(0x82a)](_0x558b05),'close':_0x558b05['close'][_0x2ecf89(0x82a)](_0x558b05),'get':_0x558b05['get'][_0x2ecf89(0x82a)](_0x558b05),'list':_0x558b05[_0x2ecf89(0x97e)][_0x2ecf89(0x82a)](_0x558b05),'subscribe':_0x558b05[_0x2ecf89(0x81b)][_0x2ecf89(0x82a)](_0x558b05),'unsubscribe':_0x558b05[_0x2ecf89(0x7d0)][_0x2ecf89(0x82a)](_0x558b05)}));}[_0x3d1090(0xa31)](_0x39ca3e){const _0x522b31=_0x3d1090;return this[_0x522b31(0x43f)][_0x522b31(0xa31)](_0x39ca3e)['map'](_0x535770=>({'getName':_0x535770['getName']['bind'](_0x535770),'getOwnerId':_0x535770[_0x522b31(0x310)]['bind'](_0x535770),'getContentType':_0x535770[_0x522b31(0x3b7)][_0x522b31(0x82a)](_0x535770),'getTable':_0x535770[_0x522b31(0x40b)]['bind'](_0x535770),'subscribe':_0x535770[_0x522b31(0x81b)][_0x522b31(0x82a)](_0x535770),'unsubscribe':_0x535770[_0x522b31(0x7d0)][_0x522b31(0x82a)](_0x535770),'close':_0x535770[_0x522b31(0x8d5)][_0x522b31(0x82a)](_0x535770)}));}[_0x3d1090(0x46a)](_0xb2a1ae){const _0x27e96a=_0x3d1090;return this['orchestrator']['getGenerativeAIContexts'](_0xb2a1ae)[_0x27e96a(0x855)](_0x2f7f90=>({'createAIJob':_0x2f7f90[_0x27e96a(0x251)][_0x27e96a(0x82a)](_0x2f7f90),'ratePrompt':_0x2f7f90[_0x27e96a(0x8ed)][_0x27e96a(0x82a)](_0x2f7f90),'downloadDocument':_0x2f7f90[_0x27e96a(0x7c6)][_0x27e96a(0x82a)](_0x2f7f90),'getDataBucketIds':_0x2f7f90['getDataBucketIds'][_0x27e96a(0x82a)](_0x2f7f90),'close':_0x2f7f90['close']['bind'](_0x2f7f90)}));}[_0x3d1090(0x401)](_0x1f3c8f){const _0x5927c1=_0x3d1090;return this['orchestrator']['getGenerativeAIWorkers'](_0x1f3c8f)[_0x5927c1(0x855)](_0x306da8=>({'close':_0x306da8[_0x5927c1(0x8d5)]['bind'](_0x306da8)}));}[_0x3d1090(0x443)](_0x598589,_0x5e9c37){const _0x4bb8f9=_0x3d1090,_0xe20b93=this[_0x4bb8f9(0x43f)][_0x4bb8f9(0x808)](_0x598589,_0x5e9c37);return{'getLabel':_0xe20b93[_0x4bb8f9(0xa01)][_0x4bb8f9(0x82a)](_0xe20b93),'getOwnerId':_0xe20b93[_0x4bb8f9(0x310)][_0x4bb8f9(0x82a)](_0xe20b93),'getContentType':_0xe20b93[_0x4bb8f9(0x3b7)]['bind'](_0xe20b93),'getMediaStream':_0xe20b93[_0x4bb8f9(0x6a2)][_0x4bb8f9(0x82a)](_0xe20b93),'setPriority':_0xe20b93['setPriority'][_0x4bb8f9(0x82a)](_0xe20b93),'unpublish':_0xe20b93[_0x4bb8f9(0x50a)][_0x4bb8f9(0x82a)](_0xe20b93)};}[_0x3d1090(0x66e)](_0x3cf7ae,_0x545b7d){const _0x1480ec=_0x3d1090,_0x10a261=this[_0x1480ec(0x43f)]['createLocalDynamicMediaStream'](_0x3cf7ae,_0x545b7d);return{'getLabel':_0x10a261[_0x1480ec(0xa01)][_0x1480ec(0x82a)](_0x10a261),'getOwnerId':_0x10a261['getOwnerId'][_0x1480ec(0x82a)](_0x10a261),'getContentType':_0x10a261[_0x1480ec(0x3b7)][_0x1480ec(0x82a)](_0x10a261),'setPriority':_0x10a261[_0x1480ec(0x3a4)][_0x1480ec(0x82a)](_0x10a261),'unpublish':_0x10a261['unpublish']['bind'](_0x10a261),'getMediaStream':_0x10a261[_0x1480ec(0x6a2)][_0x1480ec(0x82a)](_0x10a261),'addTrack':_0x10a261[_0x1480ec(0x5f6)][_0x1480ec(0x82a)](_0x10a261),'removeTrack':_0x10a261[_0x1480ec(0x37f)]['bind'](_0x10a261),'replaceTrack':_0x10a261[_0x1480ec(0x31d)][_0x1480ec(0x82a)](_0x10a261),'setTransformations':_0x10a261['setTransformations'][_0x1480ec(0x82a)](_0x10a261)};}[_0x3d1090(0x524)](_0x33c961){const _0x36efe4=_0x3d1090;return this['orchestrator'][_0x36efe4(0x524)](_0x33c961)[_0x36efe4(0x855)](_0x192efa=>({'getLabel':_0x192efa[_0x36efe4(0xa01)][_0x36efe4(0x82a)](_0x192efa),'getOwnerId':_0x192efa[_0x36efe4(0x310)]['bind'](_0x192efa),'getContentType':_0x192efa['getContentType'][_0x36efe4(0x82a)](_0x192efa),'getMediaStream':_0x192efa['getMediaStream'][_0x36efe4(0x82a)](_0x192efa),'setPriority':_0x192efa[_0x36efe4(0x3a4)]['bind'](_0x192efa),'unpublish':_0x192efa[_0x36efe4(0x50a)][_0x36efe4(0x82a)](_0x192efa)}));}[_0x3d1090(0x19d)](_0x23e376){const _0x1c0f05=_0x3d1090;return this['orchestrator']['getRemoteMediaStreams'](_0x23e376)[_0x1c0f05(0x855)](_0x2593d0=>({'getLabel':_0x2593d0[_0x1c0f05(0xa01)][_0x1c0f05(0x82a)](_0x2593d0),'getOwnerId':_0x2593d0[_0x1c0f05(0x310)]['bind'](_0x2593d0),'getContentType':_0x2593d0[_0x1c0f05(0x3b7)]['bind'](_0x2593d0),'getMediaStream':_0x2593d0[_0x1c0f05(0x6a2)]['bind'](_0x2593d0),'subscribe':_0x2593d0[_0x1c0f05(0x81b)]['bind'](_0x2593d0),'unsubscribe':_0x2593d0[_0x1c0f05(0x7d0)][_0x1c0f05(0x82a)](_0x2593d0),'getAvailableTrackKinds':_0x2593d0[_0x1c0f05(0x3f8)][_0x1c0f05(0x82a)](_0x2593d0),'update':_0x2593d0[_0x1c0f05(0x2f8)][_0x1c0f05(0x82a)](_0x2593d0),'onProviderChange':_0x2593d0[_0x1c0f05(0x460)][_0x1c0f05(0x82a)](_0x2593d0)}));}[_0x3d1090(0x5ef)](_0x4ed238){const _0x3ef640=_0x3d1090;return this['orchestrator'][_0x3ef640(0x5ef)](_0x4ed238)[_0x3ef640(0x855)](_0x20232c=>({'getName':_0x20232c[_0x3ef640(0x44c)][_0x3ef640(0x82a)](_0x20232c),'getOwnerId':_0x20232c[_0x3ef640(0x310)]['bind'](_0x20232c),'getContentType':_0x20232c[_0x3ef640(0x3b7)][_0x3ef640(0x82a)](_0x20232c),'addNode':_0x20232c[_0x3ef640(0xa40)][_0x3ef640(0x82a)](_0x20232c),'addEdge':_0x20232c['addEdge']['bind'](_0x20232c),'getContent':_0x20232c[_0x3ef640(0x771)][_0x3ef640(0x82a)](_0x20232c),'remove':_0x20232c[_0x3ef640(0x833)]['bind'](_0x20232c),'saveToDisk':_0x20232c[_0x3ef640(0x532)]['bind'](_0x20232c),'loadFromDisk':_0x20232c[_0x3ef640(0x61c)][_0x3ef640(0x82a)](_0x20232c),'close':_0x20232c['close'][_0x3ef640(0x82a)](_0x20232c)}));}['getVectorDatabases'](_0x450e0d){const _0x204a98=_0x3d1090;return this[_0x204a98(0x43f)][_0x204a98(0x540)](_0x450e0d)[_0x204a98(0x855)](_0x48a8f6=>({'getName':_0x48a8f6[_0x204a98(0x44c)]['bind'](_0x48a8f6),'getOwnerId':_0x48a8f6['getOwnerId'][_0x204a98(0x82a)](_0x48a8f6),'getContentType':_0x48a8f6[_0x204a98(0x3b7)][_0x204a98(0x82a)](_0x48a8f6),'search':_0x48a8f6[_0x204a98(0x9b9)]['bind'](_0x48a8f6),'insert':_0x48a8f6[_0x204a98(0x6bb)]['bind'](_0x48a8f6),'remove':_0x48a8f6[_0x204a98(0x833)][_0x204a98(0x82a)](_0x48a8f6),'saveToDisk':_0x48a8f6[_0x204a98(0x532)][_0x204a98(0x82a)](_0x48a8f6),'loadFromDisk':_0x48a8f6[_0x204a98(0x61c)][_0x204a98(0x82a)](_0x48a8f6),'close':_0x48a8f6[_0x204a98(0x8d5)][_0x204a98(0x82a)](_0x48a8f6)}));}[_0x3d1090(0xa5c)](){const _0x1e35d9=_0x3d1090,_0x4fd3f2=this[_0x1e35d9(0x43f)][_0x1e35d9(0xa5c)]();switch(_0x4fd3f2[_0x1e35d9(0x88c)]){case _0x25b155[_0x1e35d9(0xa14)][_0x1e35d9(0x1b2)]:return{'type':_0x25b155[_0x1e35d9(0xa14)]['User'],'getId':_0x4fd3f2[_0x1e35d9(0x79a)]['bind'](_0x4fd3f2),'getDisplayName':_0x4fd3f2[_0x1e35d9(0x94e)][_0x1e35d9(0x82a)](_0x4fd3f2),'getEmail':_0x4fd3f2[_0x1e35d9(0x599)][_0x1e35d9(0x82a)](_0x4fd3f2),'getRemoteConnections':_0x4fd3f2['getRemoteConnections'][_0x1e35d9(0x82a)](_0x4fd3f2),'setDisplayName':_0x4fd3f2[_0x1e35d9(0x437)][_0x1e35d9(0x82a)](_0x4fd3f2),'setEmail':_0x4fd3f2[_0x1e35d9(0x88a)][_0x1e35d9(0x82a)](_0x4fd3f2)};case _0x25b155['NodeType'][_0x1e35d9(0x7ae)]:default:return{'type':_0x25b155['NodeType'][_0x1e35d9(0x7ae)],'getId':_0x4fd3f2[_0x1e35d9(0x79a)][_0x1e35d9(0x82a)](_0x4fd3f2),'getRemoteConnections':_0x4fd3f2['getRemoteConnections'][_0x1e35d9(0x82a)](_0x4fd3f2)};}}[_0x3d1090(0x559)](_0x113891){const _0x206d9e=_0x3d1090;return this[_0x206d9e(0x43f)][_0x206d9e(0x559)](_0x113891)[_0x206d9e(0x855)](_0x18f30a=>{const _0x5a0f2e=_0x206d9e;switch(_0x18f30a[_0x5a0f2e(0x88c)]){case _0x25b155['NodeType'][_0x5a0f2e(0x1b2)]:return{'type':_0x25b155[_0x5a0f2e(0xa14)][_0x5a0f2e(0x1b2)],'getId':_0x18f30a[_0x5a0f2e(0x79a)][_0x5a0f2e(0x82a)](_0x18f30a),'getDisplayName':_0x18f30a[_0x5a0f2e(0x94e)][_0x5a0f2e(0x82a)](_0x18f30a),'getEmail':_0x18f30a[_0x5a0f2e(0x599)]['bind'](_0x18f30a),'getRemoteConnections':_0x18f30a[_0x5a0f2e(0x1dd)][_0x5a0f2e(0x82a)](_0x18f30a)};case _0x25b155[_0x5a0f2e(0xa14)][_0x5a0f2e(0x7ae)]:return{'type':_0x25b155[_0x5a0f2e(0xa14)]['Agent'],'getId':_0x18f30a['getId'][_0x5a0f2e(0x82a)](_0x18f30a),'getRemoteConnections':_0x18f30a['getRemoteConnections']['bind'](_0x18f30a)};default:throw new _0x4ded08(_0x2c3351['NodeInvalidType'],'Invalid\x20node\x20type');}});}['on']=(..._0x265be4)=>{const _0x3dba57=_0x3d1090;this[_0x3dba57(0x755)]['on'](..._0x265be4);};['emit']=(..._0x18eac3)=>this[_0x3d1090(0x755)][_0x3d1090(0xa17)](..._0x18eac3);['off'](..._0x4e96cd){const _0x383a13=_0x3d1090;this[_0x383a13(0x755)][_0x383a13(0x2d4)](..._0x4e96cd);}}class _0x49a873{['id'];[_0x3d1090(0x63c)];['email'];['type']=_0x25b155['NodeType']['User'];[_0x3d1090(0x827)]=new Map();[_0x3d1090(0xa3b)]=_0x353664();constructor(_0x56f55d,_0x58b109,_0x3c659c){const _0x113d2f=_0x3d1090;this['id']=_0x56f55d,this[_0x113d2f(0x63c)]=_0x58b109,this['email']=_0x3c659c;}[_0x3d1090(0x79a)](){return this['id'];}['getDisplayName'](){const _0x249486=_0x3d1090;return this[_0x249486(0x63c)];}[_0x3d1090(0x599)](){const _0x12ce73=_0x3d1090;return this[_0x12ce73(0x97c)];}[_0x3d1090(0x437)](_0x3b5b3f){const _0x335cca=_0x3d1090;this[_0x335cca(0x63c)]!==_0x3b5b3f&&(this[_0x335cca(0x63c)]=_0x3b5b3f,this['observer'][_0x335cca(0x681)](this));}[_0x3d1090(0x88a)](_0x3e4492){const _0x5c832d=_0x3d1090;this['email']!==_0x3e4492&&(this[_0x5c832d(0x97c)]=_0x3e4492,this[_0x5c832d(0xa3b)]['publish'](this));}['registerCluster'](_0x3ad22b,_0x1f1395){const _0xb26877=_0x3d1090;if(this[_0xb26877(0x827)][_0xb26877(0x1ac)](_0x3ad22b))return;const _0xa28242=this[_0xb26877(0xa3b)][_0xb26877(0x81b)](_0x1f1395);this[_0xb26877(0x827)][_0xb26877(0x6f0)](_0x3ad22b,_0xa28242);}[_0x3d1090(0x446)](_0x3187b4){const _0x5930e3=_0x3d1090;if(!this[_0x5930e3(0x827)][_0x5930e3(0x1ac)](_0x3187b4))return;const _0x5606bf=this['joinedClusters']['get'](_0x3187b4);_0x5606bf&&_0x5606bf(),this[_0x5930e3(0x827)]['delete'](_0x3187b4);}}class _0x4151af{[_0x3d1090(0x43c)];['user'];constructor(_0x35777e){const _0x3f7c44=_0x3d1090;this[_0x3f7c44(0x43c)]=_0x35777e;}async[_0x3d1090(0x6b5)](_0x2f5711){const _0x2f1990=_0x3d1090,_0x49fd5e=await(0x0,_0x4d8717[_0x2f1990(0x21a)])(_0x2f14fd[_0x2f1990(0x778)](),_0x2f1990(0x31e))({'uid':_0x2f1990(0x6df)+this[_0x2f1990(0x43c)]+_0x2f1990(0x6df)+_0x2f5711['id']}),_0x39caa1=await(0x0,_0x20e417[_0x2f1990(0x607)])(_0x2f14fd[_0x2f1990(0x4a4)](),_0x49fd5e[_0x2f1990(0xa3d)][_0x2f1990(0x1dc)]);this['user']=_0x39caa1[_0x2f1990(0x781)];}async[_0x3d1090(0x70d)](){await(0x0,_0x20e417['signOut'])(_0x2f14fd['getAuth']());}[_0x3d1090(0x6de)](){const _0x37a678=_0x3d1090;return this[_0x37a678(0x781)]?.[_0x37a678(0x6de)]()??Promise[_0x37a678(0x429)](_0x37a678(0x896));}}class _0x564835{static ['instance'];[_0x3d1090(0x7ed)]=[];constructor(){}static[_0x3d1090(0x49a)](){const _0x1e49ec=_0x3d1090;return _0x564835[_0x1e49ec(0x404)]||(_0x564835['instance']=new _0x564835()),_0x564835[_0x1e49ec(0x404)];}[_0x3d1090(0x9c4)](){const _0x579716=_0x3d1090;this[_0x579716(0x54b)](),this[_0x579716(0x586)](),this[_0x579716(0x6a7)](),this['checkAudioVolume'](),this[_0x579716(0x282)](),this[_0x579716(0xa43)](),this[_0x579716(0x7ca)](),this[_0x579716(0x2df)](),this[_0x579716(0x243)](),this['checkAudioContext'](),_0x3dc4e5[_0x579716(0x546)](_0x5a543d[_0x579716(0x7c5)],_0x579716(0x7e5),{'featureSupport':this['featureSupport']});}[_0x3d1090(0x316)](_0x2b7f66){const _0x88810=_0x3d1090,_0x992e69=this[_0x88810(0x7ed)][_0x88810(0x447)](_0x2d90b8=>_0x2d90b8['name']===_0x2b7f66);return!!_0x992e69&&_0x992e69['supported'];}[_0x3d1090(0xa11)](_0x1c4c3d){const _0x18f766=_0x3d1090;_0x3dc4e5[_0x18f766(0x369)]('support',{'nodeId':_0x1c4c3d[_0x18f766(0x79a)](),'nodeType':_0x1c4c3d[_0x18f766(0x88c)],'data':{'featureSupport':this['featureSupport']}});}['checkWebRTC'](){const _0x5a858f=_0x3d1090,_0x3322a0=_0x47ec0c[_0x5a858f(0x6f9)];let _0x58395d=!0x1;_0x5a858f(0x234)==typeof RTCPeerConnection&&_0x5a858f(0x234)==typeof RTCIceCandidate&&_0x5a858f(0x234)==typeof RTCSessionDescription?_0x58395d=!0x0:_0x3dc4e5['log'](_0x5a543d[_0x5a858f(0x7c5)],_0x5a858f(0x7cd)+_0x3322a0+_0x5a858f(0x285)),this[_0x5a858f(0x7ed)][_0x5a858f(0xa93)]({'name':_0x3322a0,'supported':_0x58395d});}[_0x3d1090(0x586)](){const _0x54e536=_0x3d1090,_0x216f50=_0x47ec0c[_0x54e536(0x8ca)];let _0x340217=!0x1;_0x54e536(0x234)==typeof MediaStream&&'function'==typeof MediaStreamTrack&&'object'==typeof navigator&&_0x54e536(0x55b)==typeof navigator[_0x54e536(0x88d)]&&_0x54e536(0x234)==typeof navigator[_0x54e536(0x88d)][_0x54e536(0x8a2)]?_0x340217=!0x0:_0x3dc4e5['log'](_0x5a543d[_0x54e536(0x7c5)],'Support:\x20'+_0x216f50+_0x54e536(0x285)),this[_0x54e536(0x7ed)][_0x54e536(0xa93)]({'name':_0x216f50,'supported':_0x340217});}['checkScreenSharing'](){const _0x4a8345=_0x3d1090,_0x4bfe02=_0x47ec0c[_0x4a8345(0x84a)];let _0x590195=!0x1;_0x4a8345(0x55b)==typeof navigator&&_0x4a8345(0x55b)==typeof navigator[_0x4a8345(0x88d)]&&'function'==typeof navigator[_0x4a8345(0x88d)][_0x4a8345(0x9fa)]?_0x590195=!0x0:_0x3dc4e5['log'](_0x5a543d[_0x4a8345(0x7c5)],_0x4a8345(0x7cd)+_0x4bfe02+_0x4a8345(0x285)),this['featureSupport'][_0x4a8345(0xa93)]({'name':_0x4bfe02,'supported':_0x590195});}[_0x3d1090(0x281)](){const _0x21f200=_0x3d1090,_0x1dc157=_0x47ec0c['AudioVolume'];let _0x542411=!0x1;'function'!=typeof AudioContext||_0x21f200(0x234)!=typeof ScriptProcessorNode&&_0x21f200(0x234)!=typeof AudioWorkletNode||'function'!=typeof MediaStreamAudioSourceNode?_0x3dc4e5[_0x21f200(0x546)](_0x5a543d[_0x21f200(0x7c5)],_0x21f200(0x7cd)+_0x1dc157+_0x21f200(0x285)):_0x542411=!0x0,this['featureSupport'][_0x21f200(0xa93)]({'name':_0x1dc157,'supported':_0x542411});}[_0x3d1090(0x282)](){const _0x774104=_0x3d1090,_0x51115f=_0x47ec0c[_0x774104(0x4ce)];let _0x5b8445=!0x1;'object'==typeof navigator&&_0x774104(0x55b)==typeof navigator[_0x774104(0x88d)]&&_0x774104(0x234)==typeof navigator[_0x774104(0x88d)][_0x774104(0x20b)]&&'function'==typeof MediaDeviceInfo?_0x5b8445=!0x0:_0x3dc4e5[_0x774104(0x546)](_0x5a543d['Support'],_0x774104(0x7cd)+_0x51115f+_0x774104(0x285)),this[_0x774104(0x7ed)][_0x774104(0xa93)]({'name':_0x51115f,'supported':_0x5b8445});}[_0x3d1090(0xa43)](){const _0x5995aa=_0x3d1090,_0x3f655a=_0x47ec0c[_0x5995aa(0x9aa)];let _0x2f4f2c=!0x1;_0x5995aa(0x55b)==typeof document&&_0x5995aa(0x234)==typeof document[_0x5995aa(0x68b)](_0x5995aa(0x4c4))['setSinkId']?_0x2f4f2c=!0x0:_0x3dc4e5[_0x5995aa(0x546)](_0x5a543d[_0x5995aa(0x7c5)],'Support:\x20'+_0x3f655a+'\x20not\x20supported'),this[_0x5995aa(0x7ed)][_0x5995aa(0xa93)]({'name':_0x3f655a,'supported':_0x2f4f2c});}async[_0x3d1090(0x7ca)](){const _0x238497=_0x3d1090,_0x34b8ed=_0x47ec0c[_0x238497(0x387)];let _0x16d342=!0x1;try{const _0x3ece37=document[_0x238497(0x68b)]('canvas');if(MediaRecorder&&MediaSource&&_0x3ece37[_0x238497(0x616)]){const _0x4e3059=_0x3ece37[_0x238497(0x616)](),_0x29ccf9=new MediaRecorder(_0x4e3059);_0x29ccf9[_0x238497(0x30e)](),await new Promise(_0x5d2afc=>setTimeout(_0x5d2afc,0x7d0)),_0x29ccf9[_0x238497(0x5ce)](),_0x16d342='inactive'===_0x29ccf9[_0x238497(0xa09)];}}catch(_0x11a693){_0x3dc4e5[_0x238497(0x546)](_0x5a543d[_0x238497(0x7c5)],'Support:\x20'+_0x34b8ed+_0x238497(0x906),_0x11a693);}this[_0x238497(0x7ed)]['push']({'name':_0x34b8ed,'supported':_0x16d342}),_0x16d342||_0x3dc4e5[_0x238497(0x546)](_0x5a543d[_0x238497(0x7c5)],_0x238497(0x7cd)+_0x34b8ed+'\x20not\x20supported');}[_0x3d1090(0x2df)](){const _0x391355=_0x3d1090,_0x537f43=_0x47ec0c[_0x391355(0x22c)];let _0x41d8d8=!0x1;try{document[_0x391355(0x68b)](_0x391355(0x94c))[_0x391355(0x616)]&&(_0x41d8d8=!0x0);}catch(_0x7e722){_0x3dc4e5['log'](_0x5a543d[_0x391355(0x7c5)],_0x391355(0x7cd)+_0x537f43+_0x391355(0x906),_0x7e722);}this['featureSupport'][_0x391355(0xa93)]({'name':_0x537f43,'supported':_0x41d8d8}),_0x41d8d8||_0x3dc4e5[_0x391355(0x546)](_0x5a543d[_0x391355(0x7c5)],'Support:\x20'+_0x537f43+'\x20not\x20supported');}[_0x3d1090(0x243)](){const _0x31c9d2=_0x3d1090,_0x1d77a4=_0x47ec0c[_0x31c9d2(0x35b)];let _0x295796=!0x1;try{const _0x2666cb=document[_0x31c9d2(0x68b)](_0x31c9d2(0x94c));WebGLRenderingContext&&_0x2666cb['getContext'](_0x31c9d2(0x8b6))&&(_0x295796=!0x0);}catch(_0x9556d){_0x3dc4e5['log'](_0x5a543d[_0x31c9d2(0x7c5)],_0x31c9d2(0x7cd)+_0x1d77a4+_0x31c9d2(0x906),_0x9556d);}this[_0x31c9d2(0x7ed)]['push']({'name':_0x1d77a4,'supported':_0x295796}),_0x295796||_0x3dc4e5[_0x31c9d2(0x546)](_0x5a543d[_0x31c9d2(0x7c5)],_0x31c9d2(0x7cd)+_0x1d77a4+_0x31c9d2(0x285));}['checkAudioContext'](){const _0x4c6d52=_0x3d1090,_0x3e0a71=_0x47ec0c[_0x4c6d52(0x767)];let _0x41c604=!0x1;_0x4c6d52(0x234)==typeof AudioContext?_0x41c604=!0x0:_0x3dc4e5['log'](_0x5a543d['Support'],'Support:\x20'+_0x3e0a71+_0x4c6d52(0x285)),this[_0x4c6d52(0x7ed)][_0x4c6d52(0xa93)]({'name':_0x3e0a71,'supported':_0x41c604});}}const _0x4e3d44=_0x564835['getInstance']();class _0x9a277c{static [_0x3d1090(0x404)];static [_0x3d1090(0x7d0)];static [_0x3d1090(0x1c5)];[_0x3d1090(0xaab)];[_0x3d1090(0x43c)];['options'];['configs'];['clusters']=new Map();[_0x3d1090(0x603)];constructor(_0x2b885a,_0x180ecc,_0x5b481e){const _0x3ada0c=_0x3d1090;this[_0x3ada0c(0x43c)]=_0x2b885a,this[_0x3ada0c(0x9e8)]=_0x180ecc,this[_0x3ada0c(0xaab)]=new _0x4151af(this[_0x3ada0c(0x43c)]),_0x4e3d44[_0x3ada0c(0x9c4)](),this['options']={'audioContext':_0x5b481e?.[_0x3ada0c(0x53c)]??(_0x4e3d44[_0x3ada0c(0x316)](_0x47ec0c[_0x3ada0c(0x767)])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0x5b481e?.[_0x3ada0c(0xa7e)]??0x1,'minConnections':_0x5b481e?.['minConnections']??0x3,'maxConnections':_0x5b481e?.['maxConnections']??(_0x5b481e?.[_0x3ada0c(0x509)]&&0x4*_0x5b481e[_0x3ada0c(0x509)])??0xc,'maxDistance':_0x5b481e?.['maxDistance']??0xa,'maxFps':_0x5b481e?.[_0x3ada0c(0x273)]??0x18,'maxBpp':_0x5b481e?.[_0x3ada0c(0x31c)]??0.12,'objectStoreConnector':_0x5b481e?.['objectStoreConnector']??_0x2bd079[_0x3ada0c(0x677)],'externalStorageConnectors':_0x5b481e?.[_0x3ada0c(0x8db)],'keyValueDatabaseConnector':_0x5b481e?.[_0x3ada0c(0x275)]??_0x4ee04f[_0x3ada0c(0x2c6)],'loggingDatabaseConnector':_0x5b481e?.[_0x3ada0c(0x9c0)]??_0x4ee04f[_0x3ada0c(0x2c6)],'peerConnectionConnector':_0x5b481e?.['peerConnectionConnector']??_0x41266a['WebRTCBrowserPeerConnectionConnector'],'generativeAIWorkerConnectors':_0x5b481e?.[_0x3ada0c(0x319)],'vectorDatabaseConnector':_0x5b481e?.['vectorDatabaseConnector'],'graphDatabaseConnector':_0x5b481e?.[_0x3ada0c(0x459)],'documentParserConnector':_0x5b481e?.[_0x3ada0c(0x266)],'nlpLibraryConnector':_0x5b481e?.['nlpLibraryConnector'],'searchConnector':_0x5b481e?.[_0x3ada0c(0xa70)]},_0x5b481e?.['disableIntervalHack']&&this[_0x3ada0c(0x6d5)][_0x3ada0c(0x53c)]&&_0x5aa24a[_0x3ada0c(0xa1e)](this[_0x3ada0c(0x6d5)]['audioContext']),_0x3dc4e5[_0x3ada0c(0x7cc)](this[_0x3ada0c(0x43c)]),_0x5b481e?.[_0x3ada0c(0x6bc)]&&_0x3dc4e5[_0x3ada0c(0x299)](_0x5b481e['loggingConnectors']);}static async[_0x3d1090(0x49a)](_0x46522b,_0x366e70,_0xf4dc38,_0x553a6b,_0x53be9f){const _0xe8c472=_0x3d1090;this[_0xe8c472(0x1c5)]=_0xf4dc38;const _0x41dbcd=await this['validateAccess'](_0x46522b,_0x366e70,_0x53be9f);return _0x9a277c[_0xe8c472(0x404)]||(_0x9a277c['instance']=new _0x9a277c(_0x46522b,_0x41dbcd,_0x553a6b)),{'close':_0x9a277c[_0xe8c472(0x404)][_0xe8c472(0x8d5)][_0xe8c472(0x82a)](_0x9a277c[_0xe8c472(0x404)]),'authenticateUser':_0x9a277c[_0xe8c472(0x404)]['authenticateUser'][_0xe8c472(0x82a)](_0x9a277c['instance']),'authenticateAgent':_0x9a277c[_0xe8c472(0x404)][_0xe8c472(0x3c9)][_0xe8c472(0x82a)](_0x9a277c['instance']),'joinCluster':_0x9a277c[_0xe8c472(0x404)]['joinCluster'][_0xe8c472(0x82a)](_0x9a277c[_0xe8c472(0x404)])};}static async[_0x3d1090(0xa8a)](){const _0x5f0165=_0x3d1090;return _0x2f14fd[_0x5f0165(0x8a6)]();}static[_0x3d1090(0x549)](){const _0xda039c=_0x3d1090;return _0x114c13[_0xda039c(0x549)];}async[_0x3d1090(0x8d5)](_0x67cc39){const _0x5288c6=_0x3d1090;this[_0x5288c6(0x420)]['forEach'](_0x25c185=>{const _0x35df24=_0x5288c6;_0x25c185[_0x35df24(0x2d4)](),_0x25c185[_0x35df24(0x294)](_0x67cc39);}),this['clusters'][_0x5288c6(0x97a)](),this[_0x5288c6(0x6d5)][_0x5288c6(0x53c)]&&_0x5aa24a['stopNoThrottlingHack'](),_0x9a277c[_0x5288c6(0x7d0)]?.(),_0x9a277c[_0x5288c6(0x7d0)]=void 0x0,this[_0x5288c6(0x603)]=void 0x0,await this[_0x5288c6(0xaab)][_0x5288c6(0x70d)](),_0x9a277c[_0x5288c6(0x404)]=void 0x0;}static async['validateAccess'](_0x1ed4c8,_0x5f2664,_0x261a0d){const _0x1a7c17=_0x3d1090;if(!this[_0x1a7c17(0x1c5)])throw new _0x4ded08(_0x2c3351['NodeTypeRequired'],'Node\x20type\x20is\x20required');let _0xee66da;try{_0xee66da=await(0x0,_0x4d8717[_0x1a7c17(0x21a)])(_0x2f14fd[_0x1a7c17(0x778)](),_0x1a7c17(0x71c))({'vendorId':_0x1ed4c8,'accessToken':_0x5f2664,'secretKey':_0x261a0d});}catch(_0x1afe61){throw new _0x4ded08(_0x2c3351[_0x1a7c17(0x63e)],_0x1a7c17(0x350));}if(!this['isInternalSDKConfigs'](_0xee66da[_0x1a7c17(0xa3d)]))throw new _0x4ded08(_0x2c3351[_0x1a7c17(0x63e)],'Invalid\x20credentials');const _0x300b62=_0xee66da[_0x1a7c17(0xa3d)];return _0x300b62[_0x1a7c17(0x93c)]||(_0x300b62[_0x1a7c17(0x93c)]=[]),this['unsubscribe']||(this['unsubscribe']=_0x5aa24a[_0x1a7c17(0x8e2)](async()=>{const _0x3fe4cd=_0x1a7c17;try{const _0x41342b=await this[_0x3fe4cd(0x5bf)](_0x1ed4c8,_0x5f2664,_0x261a0d);this[_0x3fe4cd(0x1c5)]===_0x25b155['NodeType'][_0x3fe4cd(0x7ae)]&&(_0x41342b[_0x3fe4cd(0x261)]=_0x41342b['iceServers'][_0x3fe4cd(0x25d)](_0x3263c3=>_0x3263c3[_0x3fe4cd(0xaa4)][_0x3fe4cd(0x961)](_0x3fe4cd(0x1d2)))),_0x300b62[_0x3fe4cd(0x261)]=_0x41342b[_0x3fe4cd(0x261)];}catch(_0x160bca){}},0x1b7740)),_0x300b62;}async[_0x3d1090(0x779)](_0x1ab824){const _0x39e18d=_0x3d1090;if(_0x9a277c['mode']!==_0x25b155[_0x39e18d(0xa14)][_0x39e18d(0x1b2)])throw new _0x4ded08(_0x2c3351[_0x39e18d(0x657)],_0x39e18d(0x838));await this['authService'][_0x39e18d(0x6b5)](_0x1ab824);const _0x2dbfb5=new _0x49a873(_0x1ab824['id'],_0x1ab824[_0x39e18d(0x63c)],_0x1ab824[_0x39e18d(0x97c)]);return this['authContext']={'node':_0x2dbfb5},_0x4e3d44[_0x39e18d(0xa11)](_0x2dbfb5),{'type':_0x25b155[_0x39e18d(0xa14)][_0x39e18d(0x1b2)],'getId':_0x2dbfb5[_0x39e18d(0x79a)][_0x39e18d(0x82a)](_0x2dbfb5),'getDisplayName':_0x2dbfb5[_0x39e18d(0x94e)][_0x39e18d(0x82a)](_0x2dbfb5),'getEmail':_0x2dbfb5[_0x39e18d(0x599)][_0x39e18d(0x82a)](_0x2dbfb5),'setDisplayName':_0x2dbfb5[_0x39e18d(0x437)][_0x39e18d(0x82a)](_0x2dbfb5),'setEmail':_0x2dbfb5[_0x39e18d(0x88a)][_0x39e18d(0x82a)](_0x2dbfb5)};}async[_0x3d1090(0x3c9)](_0x32d3bb){const _0x5c3895=_0x3d1090;if(_0x9a277c[_0x5c3895(0x1c5)]!==_0x25b155['NodeType'][_0x5c3895(0x7ae)])throw new _0x4ded08(_0x2c3351[_0x5c3895(0x657)],_0x5c3895(0x838));const {id:_0x29474c,groupId:_0xa9998c}=_0x32d3bb,_0x3351ee=await(0x0,_0x11d3a3[_0x5c3895(0x9c3)])((0x0,_0x11d3a3[_0x5c3895(0x713)])(_0x2f14fd[_0x5c3895(0x78d)](),_0x5c3895(0xa58)+this['vendorId']+_0x5c3895(0x4b2)+_0xa9998c));if(!_0x3351ee[_0x5c3895(0x359)]())throw new _0x4ded08(_0x2c3351[_0x5c3895(0x194)],_0x5c3895(0xa24));const _0x4ee7ac=_0x3351ee[_0x5c3895(0xa3d)]();await this[_0x5c3895(0xaab)][_0x5c3895(0x6b5)]({'id':_0x29474c});const _0xfb7856=new _0x310116(_0x29474c,_0xa9998c,this[_0x5c3895(0x43c)],_0x4ee7ac);return this[_0x5c3895(0x603)]={'node':_0xfb7856},_0x4e3d44['logSupport'](_0xfb7856),await this[_0x5c3895(0x92b)](_0xfb7856),{'type':_0x25b155[_0x5c3895(0xa14)][_0x5c3895(0x7ae)],'getId':_0xfb7856[_0x5c3895(0x79a)][_0x5c3895(0x82a)](_0xfb7856),'onConfigurationChange':_0xfb7856[_0x5c3895(0x8e9)][_0x5c3895(0x82a)](_0xfb7856),'setReportCapacity':_0xfb7856[_0x5c3895(0x32f)][_0x5c3895(0x82a)](_0xfb7856)};}async['joinCluster'](_0x543281){const _0x30c3fe=_0x3d1090;if(!this[_0x30c3fe(0x603)])throw new _0x4ded08(_0x2c3351['NodeNotAuthenticated'],_0x30c3fe(0x2bb));if(this[_0x30c3fe(0x603)][_0x30c3fe(0x435)][_0x30c3fe(0x88c)]!==_0x25b155['NodeType']['User'])throw new _0x4ded08(_0x2c3351['NodeTypeNotSupported'],_0x30c3fe(0x2f1));if(this['clusters'][_0x30c3fe(0x1ac)](_0x543281))throw new _0x4ded08(_0x2c3351[_0x30c3fe(0x663)],_0x30c3fe(0x4af));const _0x4c3ed2=new _0x68e27a(this[_0x30c3fe(0x43c)],_0x543281,this[_0x30c3fe(0x603)][_0x30c3fe(0x435)],this['authService'],this[_0x30c3fe(0x6d5)],this['configs']);return await _0x4c3ed2[_0x30c3fe(0x4b9)](),this[_0x30c3fe(0x534)](_0x543281,_0x4c3ed2),_0x3dc4e5[_0x30c3fe(0x369)](_0x30c3fe(0x30a),{'clusterId':_0x543281,'nodeId':this[_0x30c3fe(0x603)][_0x30c3fe(0x435)][_0x30c3fe(0x79a)](),'nodeType':this[_0x30c3fe(0x603)][_0x30c3fe(0x435)]['type']}),{'leave':_0x4c3ed2['leave']['bind'](_0x4c3ed2),'getLocalNode':_0x4c3ed2[_0x30c3fe(0xa5c)][_0x30c3fe(0x82a)](_0x4c3ed2),'openPubSubTopic':_0x4c3ed2[_0x30c3fe(0xa4a)]['bind'](_0x4c3ed2),'openObjectStoreBucket':_0x4c3ed2[_0x30c3fe(0x9a2)][_0x30c3fe(0x82a)](_0x4c3ed2),'openExternalStorageConnection':_0x4c3ed2['openExternalStorageConnection'][_0x30c3fe(0x82a)](_0x4c3ed2),'openKeyValueDatabase':_0x4c3ed2[_0x30c3fe(0x8be)][_0x30c3fe(0x82a)](_0x4c3ed2),'openGenerativeAIContext':_0x4c3ed2['openGenerativeAIContext']['bind'](_0x4c3ed2),'openGenerativeAIWorker':_0x4c3ed2[_0x30c3fe(0xa6a)]['bind'](_0x4c3ed2),'openGraphDatabase':_0x4c3ed2[_0x30c3fe(0x74f)][_0x30c3fe(0x82a)](_0x4c3ed2),'openVectorDatabase':_0x4c3ed2[_0x30c3fe(0x520)]['bind'](_0x4c3ed2),'publishLocalMediaStream':_0x4c3ed2[_0x30c3fe(0x443)][_0x30c3fe(0x82a)](_0x4c3ed2),'publishLocalDynamicMediaStream':_0x4c3ed2[_0x30c3fe(0x66e)][_0x30c3fe(0x82a)](_0x4c3ed2),'getPubSubTopics':_0x4c3ed2['getPubSubTopics']['bind'](_0x4c3ed2),'getObjectStoreBuckets':_0x4c3ed2[_0x30c3fe(0x338)][_0x30c3fe(0x82a)](_0x4c3ed2),'getExternalStorageConnections':_0x4c3ed2['getExternalStorageConnections']['bind'](_0x4c3ed2),'getKeyValueDatabases':_0x4c3ed2[_0x30c3fe(0xa31)][_0x30c3fe(0x82a)](_0x4c3ed2),'getGenerativeAIContexts':_0x4c3ed2[_0x30c3fe(0x46a)][_0x30c3fe(0x82a)](_0x4c3ed2),'getGenerativeAIWorkers':_0x4c3ed2[_0x30c3fe(0x401)]['bind'](_0x4c3ed2),'getGraphDatabases':_0x4c3ed2[_0x30c3fe(0x5ef)]['bind'](_0x4c3ed2),'getVectorDatabases':_0x4c3ed2['getVectorDatabases'][_0x30c3fe(0x82a)](_0x4c3ed2),'getLocalMediaStreams':_0x4c3ed2[_0x30c3fe(0x524)]['bind'](_0x4c3ed2),'getRemoteMediaStreams':_0x4c3ed2[_0x30c3fe(0x19d)][_0x30c3fe(0x82a)](_0x4c3ed2),'getRemoteNodes':_0x4c3ed2['getRemoteNodes']['bind'](_0x4c3ed2),'on':_0x4c3ed2['on'][_0x30c3fe(0x82a)](_0x4c3ed2),'off':_0x4c3ed2[_0x30c3fe(0x2d4)][_0x30c3fe(0x82a)](_0x4c3ed2)};}async[_0x3d1090(0x92b)](_0x1d7f11){const _0x481131=_0x3d1090;for(const _0x4c219e of _0x1d7f11['agentConfig']['clusters']){const _0x458dfe=new _0x68e27a(this[_0x481131(0x43c)],_0x4c219e['id'],_0x1d7f11,this['authService'],this[_0x481131(0x6d5)],this['configs']);await _0x458dfe[_0x481131(0x4b9)](),this[_0x481131(0x534)](_0x4c219e['id'],_0x458dfe),_0x3dc4e5[_0x481131(0x5f3)](_0x481131(0x249),_0x4c219e['id']);for(const _0x4b48e3 of _0x4c219e['pubSubTopics']??[])_0x458dfe['openPubSubTopic'](_0x4b48e3),_0x3dc4e5[_0x481131(0x5f3)]('Opened\x20pubsub\x20topic',_0x4b48e3);for(const _0x5e514a of _0x4c219e['objectStorageBuckets']??[])await _0x458dfe[_0x481131(0x9a2)](_0x5e514a),_0x3dc4e5[_0x481131(0x5f3)](_0x481131(0x682),_0x5e514a);for(const _0x346866 of _0x4c219e[_0x481131(0x6ca)]??[])await _0x458dfe[_0x481131(0x9a2)](_0x346866,{'standalone':!0x0}),_0x3dc4e5[_0x481131(0x5f3)](_0x481131(0x85e),_0x346866);for(const _0x4ef143 of _0x4c219e['externalStorageConnections']??[]){const _0xefb613=_0x4ef143[_0x481131(0xa49)]('-');await _0x458dfe['openExternalStorageConnection'](_0xefb613[0x1],_0xefb613[0x0]),_0x3dc4e5['forceLog'](_0x481131(0x8f9),_0x4ef143);}for(const _0x220685 of _0x4c219e[_0x481131(0xaa6)]??[])await _0x458dfe[_0x481131(0x8be)](_0x220685,{'version':0x1,'tables':{}}),_0x3dc4e5['forceLog'](_0x481131(0x544),_0x220685);for(const _0x3f630b of _0x4c219e[_0x481131(0x6d9)]??[])_0x458dfe[_0x481131(0x74f)](_0x3f630b),_0x3dc4e5[_0x481131(0x5f3)](_0x481131(0xa62),_0x3f630b);for(const _0x54defb of _0x4c219e[_0x481131(0x634)]??[])_0x458dfe[_0x481131(0x520)](_0x54defb),_0x3dc4e5[_0x481131(0x5f3)](_0x481131(0x86e),_0x54defb);for(const _0x1b4ef0 of _0x4c219e['generativeAIContexts']??[]){const _0x28d588=_0x46934d(this['vendorId'],_0x1b4ef0),_0x2d0c72=_0x1c7879(),_0x407344=this['options'][_0x481131(0x9c0)]??this[_0x481131(0x6d5)][_0x481131(0x275)];await _0x458dfe[_0x481131(0x8be)](_0x28d588,_0x2d0c72,_0x407344),_0x3dc4e5[_0x481131(0x5f3)](_0x481131(0x2c3),_0x28d588),await _0x458dfe[_0x481131(0xa6a)](_0x1b4ef0),_0x3dc4e5[_0x481131(0x5f3)](_0x481131(0x910),_0x1b4ef0);}}}[_0x3d1090(0x534)](_0x1a34a5,_0x4d6ba5){const _0x4704cf=_0x3d1090;this[_0x4704cf(0x420)][_0x4704cf(0x6f0)](_0x1a34a5,_0x4d6ba5),_0x4d6ba5['on'](_0x4704cf(0x554),()=>{const _0x486d21=_0x4704cf;_0x4d6ba5[_0x486d21(0x2d4)](),this[_0x486d21(0x420)]['delete'](_0x1a34a5);});}static['isInternalSDKConfigs'](_0x238fe9){const _0x190110=_0x3d1090;return void 0x0!==_0x238fe9[_0x190110(0x261)];}}return _0x547974;})())));function a0_0x50c4(_0x466c81,_0x40490e){const _0x5dc693=a0_0x5dc6();return a0_0x50c4=function(_0x50c47a,_0x252bb1){_0x50c47a=_0x50c47a-0x18a;let _0xa56040=_0x5dc693[_0x50c47a];return _0xa56040;},a0_0x50c4(_0x466c81,_0x40490e);}function a0_0x5dc6(){const _0x29e4b6=['graph-database-already-exists','NodeManager\x20-\x20ConnectionSuccess','AudioContext\x20is\x20not\x20available','handleFileRequest','remediation','committed','cleanOldSubscription','getKeyValueDatabases','\x20not\x20found.','removeKeyValueDatabase','timePerFrame','pubsub','payload','\x20when\x20you\x20need\x20contextual\x20data\x20to\x20inform\x20your\x20response.','GraphSearch','chunk','calculateArrayBufferSize','observer','clusterId','data','getInternalStreamId','ExternalStorageConnectionDoesNotExist','addNode','discover','arrayBufferToObject','checkAudioOutput','G-F7W8KXRKQB','processRemoteInboundReport','handleContentUnpublishMediaStream','createGain','peakHeights','split','openPubSubTopic','lastHeartbeat','\x20transactions\x20from\x20node\x20','syncTransactions','everyone','Missing\x20AI\x20worker\x20connector','propagate','streams','answerContentAvailable','workflow-does-not-exist','Job\x20worker\x20creation\x20failed.','text','getVideoTracks','validateLayout','developers/','GenerativeAIModelInputType','252116YwvMWn','ObjectStorageBucket','getLocalNode','CloseObjectStoreBucket','root\x20hash:\x20','processTransactionsToComputeMMR\x20-\x20Transactions\x20appended\x20-','incomingManager','jobPhase','Opened\x20graph\x20database','downgrade','contentManager','canProvideResolution','Unknown\x20skill\x20type','PubSubTopic\x20publish','PromptFunctionParamsType','onConnectionStateChange','openGenerativeAIWorker','reads','sendReject','getCurrentMaxLayer','subtle','Missing\x20graph\x20database\x20connector','searchConnector','getTime','senderCurrentTimestamp','text/','pub-sub-topic-does-not-exist','.exs','onMessage','generative-ai-context-job-already-consumed','skipEncryption','openExternalStorageConnection','Stats','GenerativeAIContextInvalidPartialResult','getItem','DataStream\x20onMessage','maxOutgoingSubscriptions','\x20were\x20ready\x20in','Stream\x20does\x20not\x20exist','RequestFileSync','VectorDatabaseDoesNotExist','Pending','processReports','framesEncoded','subscriptionRequestTimeouts','removeSubscription','Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed','processTransactionsToComputeMMR\x20-\x20All\x20transactions\x20are\x20appendable.\x20Append:\x20','timestamp','internalProcessJob','Cannot\x20unpublish\x20object:\x20','batchSize','instructions','addProblem','logStorage','next','collectSendersStats','push','frameWidth','isPartialResultResponse','getPartsFromSubscription','receiverTotalMessages','completed','sendFile','globalObject','Object\x20store\x20is\x20not\x20in\x20sync','resetConnection','clearOncloseTimeout','OfficeParser','PubSubTopic\x20not\x20found','answer','handleJobAttribution','DataStream','remoteId','urls','tokens','keyValueDatabases','Error\x20stringifying\x20object','getDatabase','sendStats','skill','authService','Code\x20is\x20required','getTotalNodes','getProviderId','topics','Logging\x20database\x20not\x20initialized','processContentAvailable','KeyValueDatabase\x20not\x20found','Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','providerId','subscription-request-in-progress','statsManager','key-value-database-table-does-not-exist','newPath','writes','searchInDataCollection','getEntities','pendingHandshakeCandidates','VectorDatabase','packetsSent','Local\x20node\x20rank\x20is\x20not\x20set','NodeNotAuthenticated','relevance','direction','packetsReceived','KeyValueDatabaseInvalidQuery','bodyParameters','processOutboundReports','getDataCollections','NeedRestart','getRemoteMediaStreams','systemTopicUnsubscribe','LoadSkillFunction','Folder','JobWorker:\x20Error\x20processing\x20job','text/plain','Cannot\x20create\x20External\x20Storage:\x20Name\x20must\x20be\x20a\x20string','nodeUpdate','\x0a\x20\x20===\x20New\x20MMR\x20Root:\x20','FeatureNotEnabled','subscriptionRequestsQueue','answers','GenerativeAIContextJobTimeout','transactionTable','setOnDisconnectHandler','has','key-value-database-table-name-reserved','receiverCurrentTimestamp','\x20after\x20','No\x20connections\x20available\x20to\x20send\x20message','.tpl','User','checkSyncComplete','PeerConnectionInvalidDestination','systemMessages','_ready','lastTransactionId','PubSubTopicAlreadySubscribed','Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc','cpu.cycle','endpointMethod','2-digit','defineProperty','Receiving\x20\x27','getInternalTrackParams','160896XmAMwO','getExternalStorageConnection','clearHeartbeat','local-media-stream-track-fail','isWhereValue','mode','ObjectKind','subscriptionManager','Resolution','Disconnect','ReceiverOnMessage','UnsubscribeMediaStream','addPendingHandshakeCandidate','\x27\x20dabatase\x20id.','local-stream-does-not-exist','Unexpected\x20output\x20type','.vb','.gguf','stun:','retryQueues','stopConnection','ExternalStorage','Error\x20processing\x20retrieve','content','cluster-disconnect','mute','statsReporting','Invalid\x20index\x20in\x20table\x20\x27','token','getRemoteConnections','handleObjectDelete','word-splitter','jitter','setScheduleTime','includes','Code','Missing\x20vector\x20database\x20connector','appendTransaction','\x20answer','StorageEventType','Amplify','runJobQueue','JobWorkerAlreadyExists','.bat','KeyValueDatabaseTableNotFound','endpoint','unregisterPublisherListener','page','initializeLoggingDatabase','KeyValueDatabaseNotOpen','decodeJWT','tables','msalRefreshToken','clearSubscriptionRequestTimeout','LoggingService:\x20logging\x20enabled\x20for','objectToArrayBuffer','destroy','media-stream','unregisterDestination','Everyone\x20','handleContentUnsubscribeMediaStream','objectStoreId','agent-join','Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string','unsubscribeTrackEndedListener','job-worker-invalid-type','retryCount','DataChannel\x20is\x20not\x20initialized.','Remove','string','registeredListeners','links','registerSubscriber','logConnectionState','messagesSent','enumerateDevices','applyRemediation','serverTimestamp','deleteObject','load','width','Wait','getPeaks','buildQuery','handleAnswer','getSubscriptionInfo','isInternalLoggingConnector','clientWidth','addIssue','.vue','httpsCallable','crewdleSDKDisableLogging','receiverPreviousTimestamp','Internal\x20error:\x20','processInboundReports','syncFolder','getLocalMediaStream','\x20finalized.','addEventListener','maxLayer','.crewdle-transactions','Error\x20executing\x20code','Signaling','createPendingFileWrite','wait','openJobDispatcher','Unsupported\x20job\x20type','.xml','Backgrounds','\x20to\x20generate\x20a\x20response.','onGatheringStateChange','.md','topicLabel','Cannot\x20list\x20directory:\x20External\x20Storage\x20not\x20connected','runTransaction','handlePeerConnectionSystemEvents','function','Content','warning','Connection\x20not\x20initialized.','Execute\x20skill\x20','writeTransaction','deployedVersion','job-worker-does-not-exist','handleNodeDisconnect','currentBatch','createPubSubTopic','object-store-already-exists','RetrieveTrace','onNodeDisconnect','clearRect','checkWebGL','GraphDatabaseMissingConnector','contentRequestSent','unshift','Restart','key-value-database-invalid-query','Joined\x20cluster','unregisterRemoteNode','CrewdleConnectionGroup','handleNodeJoinNeedPublishedStream','All','job-worker-creation-failed','calculateSize','ObjectStorage','createAIJob','get','bandwidth.rtt','Time','KeyValueDatabaseInvalidValue','createRemoteMediaStream','endsWith','Connected','clientStream','parse','GraphDatabaseDoesNotExist','threshold','filter','sendAction','Received\x20request\x20for\x20transactions\x20value.\x20Sending\x20','InitialPrompt','iceServers','pendingFilesSyncing','getShareableStream','hashNodes','generative-ai-worker-model-sync-error','documentParserConnector','now','FPS','Invalid\x20where\x20clause','appsync-statechange','deleteRemoteNode','remediationManager','ExternalStorageNameNotString','getModels','WorkflowTrace','onBufferedAmountLow','waitConnected','GenerativeAITracing\x20-\x20Error\x20while\x20tracing','maxFps','GenerativeAIWorkerMissingConnector','keyValueDatabaseConnector','codes','round','Query\x20is\x20required','Processing\x20agent\x20block:\x20','List','CREWDLE_WEB_SDK','.crewdle-layout','Get','queryParameters','currentTimestamp','GenerativeAITracing\x20-\x20Cannot\x20commit\x20trace,\x20database\x20is\x20not\x20set','checkAudioVolume','checkDeviceConfig','ExternalStorageConnection\x20not\x20found','\x0a\x20===\x20Total\x20Time:\x20','\x20not\x20supported','\x20MB','ObjectStore','Workflow','generative-ai-worker-creation-failed','createSenderConnection','.info/serverTimeOffset','getSkills','blocks','isComputingMMR','Agent\x20output\x20is\x20not\x20a\x20string','JobWorkerDoesNotExist','CloseKeyValueDatabase','prototype','currentFrames','leave','getReceiverTotalBytes','clusterKey','deleteFileChunks','clearConnectionTimeout','setLoggingConnectors','vector-database','uuid','iceConnectionState\x20failed','.hbs','objectStoreConnector','videoWidth','Failed','addEdge','closed','Error\x20fetching\x20context','SHA-256','grammar','Error\x20executing\x20agent','pop','documentPath','publishFolder','handleOptimizationConnectionSuccess','.erb','getConnectionType','GenerativeAITracing\x20-\x20trace\x20is\x20not\x20open','missing-incoming-connection','remoteUnsubscriber','subscribeToExternalContent','.cs','No\x20valid\x20bid\x20responses\x20received\x20in\x20time.','local-media-stream-already-exists','processOutboundReport','subject','counter','.pug','Store\x20already\x20exists','getSTVolatility','concat','Node\x20not\x20authenticated','from','subscribeToJobs','unregisterPublisher','removeExternalStorageConnection','workflow','addDoc','toFixed','Opened\x20logging\x20database','file','thread-','IDBDatabaseConnector','getDistance','removeRemoteStreamSubscription','Error\x20loading\x20external\x20content','debounceReady','image','true','handleFileRequestAnswer','ContentType','Handshake','handleOnMessage','processList','parentId','removeRemoteMediaStream','off','notifyCluster','functions','.rb','commitBatch','Error\x20searching','JobQueueService:\x20Running\x20job','processTransactionPayload','inputTokens','Subscription\x20request\x20does\x20not\x20exist.','result','checkBackgrounds','removeLocalMediaStream','Failed\x20to\x20get\x20file','getExternalStorageConnections','dataUnsubscribers','Ingest','Prompt\x20is\x20required','JobDispatcherAlreadyExists','addCandidate','Subscribing\x20to\x20an\x20event:\x20on','getJobDispatchers','remote-media-stream-already-exists','LocalMediaStreamTrackFail','action','handleContentUpdateMediaStream','SyncComplete','RequestFileWrite','batch','Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user','relations','`\x0a\x0a','updateDebounce','logger','recomputeRoot','node-already-exist','update','debounceProcessRank','ModelVector','getTransactions','crewdle-sdk','sendTransactionsValue\x20-\x20value\x20not\x20found','consumeBufferedEvents','getMilliseconds','listen','Waiting','\x20for\x20','ExecuteCustomSkill','addContent','checksum','externalStorageConnections','contentSize','Data\x20Received','crewdle-sdk-stg','join-cluster','createConnection','GenerativeAIWorker:\x20Opened','observe','start','reportMetric','getOwnerId','videoHeight','registerCluster','.scala','us-east-1','timeoutCallback','isFeatureSupported','en-US','addRemoteNode','generativeAIWorkerConnectors','Problem','key-value-database-invalid-layout','maxBpp','replaceTrack','sdkCreateToken','dt_volatility','object-storage','\x27\x20in\x20table\x20\x27','getQuery','collectStats','handleProblem','getBufferedAmount','GenerativeAIContextJobFailed','localId','handleNodeSystemEvents','SearchGoogle','Invalid\x20subscriber.','/developers/','transactionQueue','GenerativeAITracing\x20-\x20Error\x20while\x20committing\x20trace','handleMissingSenders','setReportCapacity','loadLocalContent','removeIncomingSubscription','setupRenderElement','.ex','heartbeatUnsubscriber','bytesReceived','resizeHandler','layout','getObjectStoreBuckets','Found\x20','Events','JobDispatcherJobNotFound','PubSubTopicAlreadyExists','ObjectStoreAlreadyExists','FolderDelete','document-parser','logServiceEvent','vector-database-does-not-exist','\x0a\x20\x20===\x20Initial\x20MMR\x20Root:\x20','InternalSDKError','mistlet-capacity-report-not-set','isReady','retryQueue','createObjectStoreBucket','WordSplitter','internalDownloadDocument','Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key','removeTrackCallback','canChooseAnswer','.hs','endpointUrl','KeyValueDatabaseSendTransactions','Invalid\x20credentials','sdk-internal-error:\x20','getMediaSubscription','getMinConnections','onChildRemoved','_isReady','Received\x20track','cachedRoot','performCalculation','exists','Database\x20not\x20open','WebGL','RemoteAdd','ConnectionNotConnected','Cannot\x20publish\x20move\x20operation:\x20','ranges','AppSync\x20connection\x20not\x20ready','publishUserUpdate','bufferedAmount','addBidResponse','\x0a\x20===\x20Wait\x20Time:\x20','orderByKey','asc','getCoresFromCapacityReport','responseTimeout','logEvent','updateLastTransactionId','PubSubTopicStats','external-storage-name-not-string','getDataLogged','external-storage','notifyObjectStoreOfNodeJoin','Bitrate','commitTrace','\x27\x20in\x20layout','Jobs','Setting\x20context\x20for\x20agent\x20block','ConnectionNoRetryQueue','/resources/generative-ai-grammar/items','FileMove','ObjectStoreInvalidPath','hash','maxDistance','\x27\x20reserved','Memory\x20Usage\x20at\x20','Online','graph-database-does-not-exist','removeTrack','.handlebars','logDataSent','requestSubscription','WorkflowDoesNotExist','authNode','queueLength','setInternalId','Recording','MediaStream\x20feature\x20not\x20enabled','jobId','shouldContinuePropagation','initializeSystemTopic','origin','crewdle-sdk-stg.firebaseapp.com','isReconnecting','Relation\x20extractor\x20block\x20is\x20missing\x20required\x20data','CanProvideMediaStream','KeyValueDatabaseIndexNotFound','database','code','GraphDatabaseStats','tableObserver','results','getOrResetPendingFileTimeout','messageListeners','VectorDatabaseCreationFailed','notifyClusterNodeJoin','destinationIds','removeTopic','evaluatePartialJob','Media','task','exports','models','Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20','application/octet-stream','setPriority','limit','isLoaded','manageOptimization','\x27\x20from\x20','detectAudioIssues','JobWorkerCreationFailed','Receiver','generative-ai-context-does-not-exist','UnsubscribeMediaStreamdiaStream','key','onValue','messageType','isJobAttribution','getRoot','pub-sub-topic-name-not-string','createOffer','inbound-rtp','\x0a\x0a`Searching\x20in\x20data\x20collection\x20','getContentType','listener','\x0a\x0a`Executing\x20agent\x20','High','successNotified','totalNodes','indexes','every','max','waitForArrayBufferSize','rejectReady','remote-stream-does-not-exist','receiverUnsubscribers','ObjectStoreAlreadySubscribed','incrementVersion','orchestrator-close','.rs','canAddCandidates','authenticateAgent','total','getModel','JobWorkerInvalidType','hasBufferedData','Cannot\x20write\x20transaction.','Subscription\x20request\x20failed.','clockSkew','messages','ChunkSplitter','isMediaSource','Error\x20during\x20MMR\x20rebuild\x20logging:','Connection\x20does\x20not\x20exist.','RemoteMediaStreamDoesNotExist','LocalMediaStreamNoAudioContext','rank',',\x20Total\x20Nodes:','subscriptions','parseWorkflowDocument','maps','Answer','filteredDestinationIds','call','job-dispatcher-creation-failed','\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.','\x20already\x20exists.','.sql','createVectorDatabase','enabledChannels','Node','onCandidate','SubscriptionRequestFailed','senderTotalMessages','getSubscriptionLabel','.djt','\x20created\x20and\x20dispatched.','internal-sdk-error','prompts','KeyValueDatabaseDoesNotExist','The\x20system\x20topic\x20has\x20not\x20been\x20registered.','retryDelay','stopNoThrottlingHack','syncTransactionsWritten','addVideoTrack','@context.','sendFileRequestPayload','unsubscribeListener','getAvailableTrackKinds','\x20with\x20\x27','Skill','write','processBatch','fetchUrl','padStart','.json','handleUnsubscribeMediaStream','getGenerativeAIWorkers','Method\x20not\x20supported','end','instance','content-publish-media','handleSubscriptionSubscribeMediaStream','Key-value\x20database\x20transaction\x20value\x20not\x20set.','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process\x20with\x20not\x20all\x20ancestors\x20connected.','Boolean','Early\x20return:\x20','getTable','closeSubscription','getPartsForSubscriptionLabel','google','debounceLogTimeout','errorDetails','@id','bufferedChunks','Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream','senderPreviousTimestamp','hashTransaction','JobWorker:\x20Sending\x20job\x20partial\x20result','handshakeCandidates','VectorDatabaseStats','publishSystemMessage','Failed\x20to\x20commit\x20batch\x20after\x20retries:','setEncodingParameters','setBytes','collection','between','Receiver\x20connection\x20is\x20not\x20initialized.','clusters','jobWorkers','onSnapshot','connection','Delete','.jinja','test-page','processLocalReport','discoveryUnsubscriber','reject','Jitter','Invalid\x20object\x20store\x20state.','fps','createTopic','removeGraphDatabase','NodeJoin','handshakeDebounce','chooseAnswer','setupStatsReporting','missing-system-topic','Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.','node','remoteNodes','setDisplayName','maxDepth','sync','WebScraper','Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.','vendorId','updatePropagationProperties','onDisconnectHandler','orchestrator','Detection','description','content-unpublish-media','publishLocalMediaStream','buildTableEvent','isChannelEnabled','unregisterCluster','find','generative-ai-context-creation-failed','loadExternalContent','After\x20Synchronization\x20-\x20Is\x20Database\x20sync?\x20','syncResolve','getName','\x20failed.','setTimeout','1:519415702791:web:5dd39042f881cfde3251a2','handleSuccess','PubSubTopicNameNotString','\x20sending\x20attempt\x20','GenerativeAIContextAlreadyExists','onTrack','\x20must\x20be\x20a\x20boolean','receiverStreams','collectReceiversStats','PubSub','graphDatabaseConnector','graph-database','CloseVectorDatabase','evaluateBidsAndAttributeJob','request-file','invalid-publisher','detectStreamIssues','onProviderChange','getConnection','publishSyncCompleted','listChanges','chunksReceived','childRemovedUnsubscriber','/resources/generative-ai-model/items','Vector\x20database\x20creation\x20failed.','crewdleSDKLoggingChannels','syncKeyValueDatabase','getGenerativeAIContexts','external-storage-connectors-missing','connectionStateListener','setConnectionType','agent','peer-connection','getAgents','clearWaitAnswer','System','/nodes/','logging-db-','GetContextQuery','Before\x20Synchronization','ModelText','removeObjectStore','status','CannotProvideMediaStream','LocalMediaStreamDoesNotExist','nlpLibraryConnector','processServiceReport','.tsx','Success','PromptRating','track','Retrieve\x20from\x20context\x20to\x20inform\x20your\x20response.','external-storage-connection-already-exists','trackChanges','buffer','getTrack','title','.html','data-stream','\x27\x20to\x20','resolution','modelStore','NeedMediaStream','removeTrackListeners','Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.','\x20received\x20result:','AppSync\x20publish','sender','bitrate','getShareableStreamId','Additional\x20context:\x0a','117TGoyDn','getApp','Error\x20writing\x20buffered\x20chunk\x20to\x20stream','job-worker-already-exists','getInstance','Node\x20already\x20exists.','runAgent','registerSource','createDataChannel','Loaded\x20from\x20disk','debounceRebuildMMRWithTransaction','peerConnectionConnector','match','standalone','getAuth','getConnections','graph-database-creation-failed','No\x20context\x20variables\x20set','connectionState','hasTable','PeerConnection','.php','createOutgoingSubscription','Model\x20output\x20type\x20is\x20vector\x20but\x20input\x20is\x20not\x20an\x20index','orderBy','Cluster\x20already\x20joined','receiverBitrate','\x20does\x20not\x20exists','/resources/agent/items/','sendBid','subscription-request-no-answer','clusterEventEmitter','jobQueue','addReservedTables','Debug','join','url','trackListeners','Bid','fileSendingMap','open','Hash\x20computation\x20failed,\x20retrying...','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process','getNumberOutgoingSubscriptions','publishNodeJoin','pipe','video','tableLayout','deleteTransactionsForTable','getSupportedContentTypes','Attribution','supportsContentType','.ejs','Cluster','frameTime','issues','DeviceConfig','QueryBuilderInvalidArgument','startHeartbeat','ObjectStoreInvalidPayload','getPriority','setProviderId','Cannot\x20publish\x20folder:\x20','processContentAvailable\x20-\x20Peak\x20comparison:','Connection','remoteMediaStreams','mmrRoot','removeListener','overlap','GenerativeAIWorkerAlreadyExists','createIncomingSubscription','uid','Vector','Invalid\x20value.\x20Property\x20\x27','RemoteMediaStreamAlreadyExists','retrieveContext','rating','Start\x20Ingestion','getWorkflowExternalStorageConnections','bufferedAmountLowThreshold','val','Invalid\x20layout:\x20','generative-ai-context-invalid-partial-result','user-join','isBidResponse','RelationExtractor','CloseGraphDatabase','/objectstores/','processDataChannelReport','framerate','invalid-data-chanel','Core','connectionPool','writeTransaction\x20-\x20transaction\x20already\x20exists','.Total\x20pages\x20available:\x20','version','getStatus','height','Update','registerRemoteNode','isJobRequest','isSync','packetsLost','\x20must\x20be\x20a\x20number','minThreshold','detection','Sender','previous','lastUpdated','generativeAIWorkers','senderConnection','nextNodeId','Buffered\x20chunks\x20are\x20too\x20large','loop','transformations','minConnections','unpublish','jobBids','Warning','logPropagateSystemEvent','ObjectStoreDoesNotExist','ObjectStoreInvalidSyncMessage','noun','resume','Queued','prompt','ConnectionInvalidDataEvent','getMaxConnections','Attempt\x20','getSubscribedTracks','ObjectStoreInvalidState','Internal\x20unknown\x20error:\x20','.java','isWhereBetween','jobDispatchers','Restart\x20NeedMediaStream','success','appsync-no-destination','openVectorDatabase','JobDispatcherInvalidPayload','estimatedPlayoutTimestamp','params','getLocalMediaStreams','trace','hasRemoteNode','maxTokens','removeRemoteNode','sourceVideo','createConstantSource','detail','notifyClusterNodeUpdate','getGraphDatabase','unregisterSource','versions','currentDistance','tracks','saveToDisk','handleSubscriptionSystemEvents','addCluster','connections','shift','getLayout','scheduleTime','Workflow\x20not\x20initialized','asyncHeaders','isRunning','audioContext','Setting\x20context\x20for\x20answer\x20block','dataTopics','supports','getVectorDatabases','gain','ExecuteAgent','object-store-not-synced','Opened\x20key\x20value\x20database','DataChannel\x20buffer\x20is\x20full.','log','getSenderBitrate','reset','isProduction','delete','checkWebRTC','Generative\x20AI\x20context\x20creation\x20failed.','trim','isAvailable','setupStatsCollection','maxThreshold','setItem','95yFFQQV','CPUCycle','cluster-leave','handleContentCloseMediaStream','handleContentRemoteMediaStreamTrackFail','object-store-not-in-sync','roundTripTime','getRemoteNodes','answererId','object','KeyValueDatabaseNameNotString','setCurrentVersion','getTotalBytes','getTableConnector','index','Search\x20in\x20data\x20collection\x20','.txt','parseDataCollectionBlocks','Invalid\x20publisher.','Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed','setRank','remote-inbound-rtp','getPubSubTopics','waitSuccess','Invalid\x20job\x20service\x20payload.','getRoundTripTime','externalStorages','439480IuWqxo','processInboundReport','distance','sendRequest','local-media-stream-no-audio-context','\x0a\x20\x20===\x20Total\x20Nodes:\x20','aws','objectRequests','JobWorker:\x20Tracing\x20not\x20implemented','GenerativeAITracing\x20-\x20job\x20id\x20not\x20found','request-file-write','processContentSynchronized','PublishMediaStream','connection-buffer-not-empty','GenerativeAITracing\x20-\x20job\x20id\x20is\x20already\x20set','collectTransactionsFromNode','ConnectionBufferNotEmpty','entity-extractor','Invalid\x20data\x20event.','startLoggingCycle','onClose','listenerUnsubscriber','maxConnections','JobContext','.go','checkMediaStream','audioSource','startIndex','capacityReporter','Received\x20','tableUnsubscriber','error','createNewBatch','offset','entity','sourceId','createBuffer','createReceiverConnection','I\x20am\x20done','onRemoveTrack','GenerativeAIContextDoesNotExist','av_delay','createSubscription','agent-skill','getEmail','Accepted','STVolatility','getWorkflow','lastCapacityReport','publishMove','Add','\x20must\x20be\x20a\x20string','.ini','externalStorageConnectionIds','.vbs','validateValue','muted','tableName','boolean','frameHeight','hashPeakHashes','isOpened','disconnectCallback','removeContent','unregisterSystemSource','firstValueFrom','LocalMediaStreamAlreadyExists','removeConnection','GraphDatabaseNameNotString','combinePeaks','handleSubscriptionMediaStreamUnavailable','LoadKnowledgeFunction','setIsLoaded','remediations','callback','FileDelete','KeyValueDatabasePeakNotFound','json_arr','connected','GenerativeAIContext','rate','PartialResult','validateAccess','cost','getSettings','RequestAccepted','2418157XSBcVu','interval','key-value-database-does-not-exist','setDurationTime','Sending\x20\x27','requestSubscriptionAction','publishTransaction','disconnected','modelName','senderCurrentBytes','Invalid\x20data\x20channel.','stop','.jinja2','@root','publishNodeLeave','KeyValueDatabaseTableNameReserved','localNode','createJobDispatcher','outgoingManager','frames','senders','some','GenerativeAIContextJobAlreadyConsumed','removeVectorDatabase','ObjectStoreCannotWriteTransaction','sendWithRetry','catch','logSyncMetrics','Rejected\x20answer','Connection\x20does\x20not\x20exist','Cannot\x20create\x20Vector\x20Database:\x20Name\x20must\x20be\x20a\x20string','invalid-access','entities','expectedTransactions','getHash','GraphDatabase\x20not\x20found','FileStatus','SubscriptionRequestDoesNotExist','Missing\x20owner\x20node\x20or\x20rank','KeyValueDatabaseTransactionValueNotSet','pubsubTopics','slice','https://crewdle-sdk-stg-default-rtdb.firebaseio.com','GraphDatabaseCreationFailed','getGraphDatabases','key-value-database-creation-failed','createKeyValueDatabase','Optimization','forceLog','Key-value\x20database\x20transaction\x20table\x20not\x20initialized.','isSubscribed','addTrack','toStringTag','onHandshakeStateChange','inputType','handleContentSystemEvents','updateLastUpdated','vector-database-name-not-string','ref','checkExistingPendingFileContent','joinedAt','Missing\x20answerer\x20id\x20on\x20request\x20answer','KeyValueDatabaseInvalidLayout','retryLimit','authContext','GenerativeAIContextCreationFailed','JobType','desc','signInWithCustomToken','getTracks','Synced','Agent\x20block\x20is\x20missing\x20required\x20data','history','agent-update','key-value-database-peak-not-found','/transactions','registerSystemPublisher','receiverPreviousBytes','app','sender-send-message','systemTopic','.crewdle-last-transaction','setupTrackEndedListeners','captureStream','RemoteMediaStreamTrackFail','1.0.8','debounceRebuildMMR','FolderCreate','getSenderTotalBytes','loadFromDisk','statsCollection','hasMessage','InvalidPublisher','owner','JobWorker:\x20Sending\x20job\x20bid','getAncestors','messageUnsubscriber','Data','isArray','\x0a\x20\x20===\x20MMR\x20Computation\x20Time:\x20','Partial','File\x20sending\x20interrupted','job-dispatcher-observer-not-found','recipients','getAudioTracks','upgradeTimeout','sourceUrl','handleRemoteTrackFailure','sequence','UnpublishMediaStream','Syncing','pendingFilesTransactions','getSentences','vectorDatabases','contentRect','where','outgoing-stream-no-topic','minRelevance','handleSubscriptionProvideMediaStream','accumulated','renderElement','displayName','Node\x20is\x20not\x20an\x20agent','InvalidAccess','timesCalled','getOutgoingOptimizationConnections','Move','Data\x20collection\x20block\x20is\x20missing\x20required\x20data','name','.twig','reranker','setReceiverBytes','internalRatePrompt','job-dispatcher-job-not-found','\x20-\x20','PayloadAction','clientHeight','isNodeReady','getCurrentVersion','timeReceiving','Medium','getCapacityReport','Peaks\x20requested\x20were\x20not\x20found\x20in\x20local\x20MMR','commitType','publishSyncCompletedAfterWrites','syncTimeout','NodeConnectionsUpdate','chunks','NodeInvalidType','messagesReceived','Offer','isWhereValues','writeFile','key-value-database-already-exists','limitToFirst','GenerativeAIContextStats','setupListeners','cores','JobDispatcherDoesNotExist','createBatchOperation','ClusterAlreadyJoined','maxFramerate','dataStores','Rating','Cannot\x20find\x20External\x20Storage\x20connection:\x20','modelsBucketId','unregisterSubscriber','0\x20B','waitSendBuffer','FileWrite','registerSystemSource','publishLocalDynamicMediaStream','Job\x20service\x20creation\x20failed.','\x0a\x20===\x20Total\x20Data\x20Sent:\x20','KeyValueDatabaseRequestPeakTransactions','\x20seconds','Job','retryCallback','queues','computeHash','OPFSObjectStoreConnector','timeSending','logDataReceived','getAncestorIds','ExternalStorageInvalidPath','ExternalStorageUpload','Job\x20Worker\x20does\x20not\x20exist','GenerativeAIContextJobMissingThreadId','New\x20MMR\x20Root:\x20','restartHandshake','publish','Opened\x20object\x20store\x20bucket','temperature','resolutionScale','Retrieve\x20the\x20current\x20date\x20and\x20time\x20in\x20the\x20appropriate\x20format\x20for\x20time-sensitive\x20operations\x20or\x20logging\x20purposes.','drawImage','openedTraces','handleRequestPayload','Error\x20closing\x20trace','getRank','createElement','crewdle-sdk.firebaseapp.com','peaks','outputType','get-content','processJob','add','logs','contentMediator','loggingCycle','hasOwnProperty','job-dispatcher-job-exists','isOffer','setUpgradeTimeout','getBitrate','crewdle-sdk-logging-','outgoingStreams','setRemoteNode','handleNodeLeave','.jl','Local\x20MediaStream\x20already\x20exists','sendChunked','createBatch','getMediaStream','setOnTableWriteHandler','createFolder','values','Cannot\x20close\x20the\x20SDK\x20while\x20data\x20is\x20being\x20transferred.\x20Use\x20`force`\x20parameter\x20to\x20interrupt\x20the\x20connection','checkScreenSharing','JobStatus','auth','previousFrames','Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20','openGenerativeAIContext','messageBuffer','crewdle-sdk-stg.appspot.com','Error\x20fetching\x20URL','ExecuteCode','removePubSubTopic','notifyObjectStoreOfNodeLeave','request-accepted','getObjectStoreBucket','signInWithCredential','firebaseConfig','Database\x20does\x20not\x20exist','handleCloseContent','createBufferSource','setStatus','insert','loggingConnectors','bytesSent','IntermediateOutput','getEnabledChannels','Job\x20','AppSync\x20client\x20not\x20ready','entries','priority','4749216WYbIME','StreamReport','waitAnswer','Connection\x20not\x20connected.','setSenderTimestamp','kind','modelStorageBuckets','Knowledge','RestartNeedMediaStream','JobWorker:\x20Error\x20getting\x20cores\x20from\x20capacity\x20report','handleDisconnect','URL\x20is\x20required','asyncEndpointMethod','json','updated','RemoteRemove','onDisconnect','options','setLocalRank','message','objectStores','graphDatabases','answerJoin','handleNodeUpdate','evaluateBids','ClosePubSubTopic','getIdToken','ccc','Parameter\x20','feedback','Error\x20encountered\x20while\x20opening\x20database','Operations:','file-write','sendIceCandidates','getDataBucketIds','Relation','processPendingSyncTransactions','availableTrackKinds','isPromiseResolved','setOnMessageHandler','Offline','providerListener','handleSubscriptionRestartNeedMediaStream','generative-ai-label-conflict','set','discoveryService','openJobWorker','canRestartHandshake','SystemTopic\x20publish','senderTimeProcessing','headers','LocalReport','420235181083','WebRTC','/nodes','undefined','KeyValueDatabaseTransactionTableNotInitialized','path','Transaction','getTrackFromParam','waitForSyncComplete','\x20with\x20response:','Job\x20Dispatcher\x20already\x20exists','No\x20connector\x20found\x20for\x20model','KeyValueDatabaseSyncRequired','getPubSubTopic','updateUser','CrewdleReceiverConnection\x20ontrack','Emitting\x20event\x20on\x20local\x20cluster','handleObjectMove','onDataChannel','getJobs','memoryUsage','signOut','disconnect','We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set','\x20failed.\x20Retrying...','Error\x20opening\x20trace','MediaStreamPriority','doc','processTransactionsToComputeMMR','getNextTargetRank','toLowerCase','getConnectionGroup','blockId','remainingTracks','table','model','sdkValidateAccess','msalGetAccessToken',',\x20Transactions:\x20','NodeAlreadyExist','DocumentParser','getWorkflowModels','connection-not-connected','handshakeState','storage','JobDispatcherObserverNotFound','Stream\x20already\x20exists','GenerativeAIWorker:\x20Models','gpu','maxResolution','completeSync','VectorDatabaseAlreadyExists','subscription-request-does-not-exist','fileChunks','previousBytes','filesSynced','MerkleMountainRange\x20-\x20appendTransaction\x20-\x20Completed.\x20Root:','SubscribeMediaStream','Received\x20event\x20on\x20cluster','substring','startAt','Invalid\x20job\x20worker\x20type.','statusText','handleSubscriptionNeedMediaStream','Search\x20connector\x20not\x20set','folder-create','handleLocalTrackFailure','notifyJoin','length','generative-ai-worker-missing-connector','NodeUpdate','setTransformations','topK','loadEnabledChannels','peer-connection-invalid-destination','job-','extendedRecipients','receiverTimeProcessing','DatabaseEvent','Error','InvalidDataChannel','tail','removeNode','GenerativeAIRatingStatus','handleOffer','handleConnectionSuccess','Graph\x20database\x20block\x20is\x20missing\x20required\x20data','openGraphDatabase','Cannot\x20get\x20size\x20of\x20path:\x20','Outgoing','getWorkflowObjectStorageBuckets','logRaw','firebaseUnsubscriber','eventEmitter','Cannot\x20create\x20Graph\x20Database:\x20Name\x20must\x20be\x20a\x20string','listenerUnsubscribers','toLocaleString','\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','pubSubTopics','.ipynb','statsReport','getRemoteMediaStream','Setting\x20context\x20for\x20agent\x20skill\x20block','systemMessagesReceived','Remediation','number','.mustache','Job\x20with\x20id\x20','Sender\x20connection\x20is\x20not\x20initialized.','manageAncestor','Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string','AudioContext','setParams','Data\x20Sent','cancel','Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream','addAudioTrack','getLastUpdated','getMaxDistance','Text','ExternalStorageConnectionAlreadySubscribed','getContent','pow','.j2','detectionManager','Incoming','Job\x20service\x20job\x20not\x20found.','joinCluster','getFunctions','authenticateUser','ready','GraphDatabase','node-not-authenticated','/logs','Could\x20not\x20open\x20trace','appendTransactionAndUpdateHashMap','Apply\x20remediation','user','.yaml','appsync-disconnect','senderBitrate','VectorDatabaseNameNotString','key-value-database','eventListener','connectionTimeout','getTransactionFromTableWriteEvent','Context','.swift','MediaStreamUnavailable','getFirestore','.clj','candidate','GenerativeAITracing\x20-\x20Trace\x20job\x20id\x20does\x20not\x20exist','Invalid\x20subscription.','DataChannel\x20is\x20not\x20open.','AudioVideoDelay','GenerativeAIWorkerCreationFailed','dataBucketIds','Result','remote-media-stream-invalid-subscription-params','createLocalDynamicMediaStream','missing-datachannel','getId','internalContext','RemoteMediaStreamInvalidSubscriptionParams','take','moveObject','lastClockUpdate','mmr','removeJobDispatcher','.lua','nodeId','160644YGgaje','commit','internal','connection-invalid-data-event','active','handleNeedRestart','Invalid\x20table\x20name\x20\x27','readyResolve','deletePendingFile','reportCapacity','Agent','getResolution','.kt','KeyValueDatabaseStats','ObjectStoreStats','.groovy','KeyValueDatabaseContentSynchronized','/resources/generative-ai-agent/items','externalStores','unregisterSystemPublisher','parameters','rebuildMMR','startTime','accessToken','handleNodeJoin','.sh','Hub','Table\x20not\x20found','agentConfig','verb','getResolutionScale','getGrammars','chunk-splitter','Support','downloadDocument','modelId','internalProcessJobStream','pendingFilesRename','checkMediaRecording','receivers','setVendorId','Support:\x20','Problem\x20detected:\x20','\x20attempts:','unsubscribe','getEngineType','object-store-cannot-write-transaction','label','ConnectionGroup','key-value-database-transaction-table-not-initialized','Cannot\x20publish\x20payload:\x20','subscription-request-failed','Rejected','addConnection','restartTimeout','processRank','indexOf','detectVideoIssues','/resources/generative-ai-skill/items','resolve','vectorDatabaseConnector','source','context','Remote\x20MediaStream\x20already\x20exists','retry','Support:\x20current\x20config','initializeApp','Cannot\x20list\x20directory:\x20','Internal\x20event\x20\x27','removeSubscriptionsForNode','download','GenerativeAITracing\x20-\x20Error\x20while\x20opening\x20trace.\x20Retrying:\x20\x27','durationTime','featureSupport','subscriptionRequests','getDocs','File','MissingRemoteConnection','Key-Value\x20Database\x20-\x20Sync\x20Completed','handleChunkMessage','complete','getContext','CloseMediaStream','retrieveBlocks','Please\x20provide\x20a\x20threadId\x20in\x20the\x20options','getKeyValueDatabase','jobs','setPendingFileSyncingPayload','Disconnected','debounceAppendLog','mediaStream','forEach','JobDispatcherJobExists','setRemoteConnections','JobWorker:\x20Handling\x20job\x20attribution','\x27\x20is\x20not\x20ready','createGenerativeAIContext','random','detectProblems','JobQueueService:\x20Error\x20running\x20job','createLocalMediaStream','messageCallback','attributes','Completed','getClosestNodes','DTVolatility','generative-ai','getRemoteNode','.tcl','Invalid\x20key\x20\x27','Channel\x20\x27','writeBatch','\x0a\x20===\x20Total\x20Nodes:','deleteJob','getSize','object-store-name-not-string','generative-ai-context-job-timeout','CloseJobDispatcher','receiver','subscribe','listenUnsubscriber','traceLevel','value','pendingSyncTransactions','Count','request','No\x20async\x20endpoint\x20URL','Valid\x20layout','Generative\x20AI\x20context\x20job\x20already\x20consumed.','functionsRegion','GraphDatabaseAlreadyExists','joinedClusters','logLevel','invalid-subscription','bind','GenerativeAIEngineType','handleRemediationSystemEvents','findNewMediaSubscription','jobObservers','isResultResponse','SubscriptionRequestNoAnswer','assign','dataChannel','remove','workflow-invalid-block-type','KeyValueDatabaseTableDoesNotExist','findNextNodeId','Model\x20output\x20type\x20is\x20text\x20but\x20input\x20is\x20not\x20text','Node\x20type\x20is\x20invalid','/resources/generative-ai-workflow/items/','Mistlet\x20capacity\x20report\x20not\x20set.','.yml','audio','mergeParts','default','handleStatsSystemEvents','IngestTrace','RebuildMMR\x20-\x20MMR\x20Root\x20changed?\x20','subscribeToLocalContent','syncContent','failJob','SystemStats','stopTracing','pub-sub-topic-already-subscribed','receiverCurrentBytes','failed','ScreenSharing','time','event','relation','agentId','object-store-invalid-payload','isIceCandidate','getVectorDatabase','NodeDoesNotExist','handleFileWrite','Label\x20already\x20in\x20use\x20by\x20AI\x20Service','map','JobDispatcher:\x20Received\x20job','Request','packets','FramePerSecond','cpu.fps','readyPromises','stream','waitAsync','Opened\x20model\x20store\x20bucket','Missing\x20remote\x20node\x20or\x20rank','ner','groupId','startTracing','compareTransactions','FinalOutput','key-value-database-invalid-value','VectorSearch','GenerativeAIWorkerStats','contextOutputVariable','pathName','firestore','ConnectionNotinitialized','arrayBuffer','CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','Opened\x20vector\x20database','right','InvalidSubscriber','Internal\x20SDK\x20Error:\x20','count','Remote\x20stream\x20does\x20not\x20exist.','events','Internal\x20SDK\x20error:\x20','clusters/','bufferEvent','closeConnection','createExternalStorageConnection','detectLocalIssues','trackCallback','audioDestination','handleOutgoingSystemEvents','Model\x20not\x20found:\x20','DEBUG\x20-\x20','Model\x20not\x20found','RoundTripTime','Error\x20writing\x20chunk\x20to\x20stream','\x20is\x20required','processReceivedTransactions','Consuming\x20buffered\x20event','contentType','lastProcessRank','Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number','handleDetectionSystemEvents','setEmail','UpdateMediaStream','type','mediaDevices','byteLength','logBatch','Key-value\x20database\x20peak\x20not\x20found.','evaluateProccessedJob','DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found','removeJobWorker','syncPendingFiles','updateDebounceTimeout','User\x20not\x20signed\x20in','nodesConnected','getBid','JobDispatcherCreationFailed','/resources/generative-ai-collection/items','comparePeaks','transactions','eventTarget','Buffering\x20event','then','race','rootComputationPromise','getUserMedia','queries','getSimilarity','addRemoteConnection','getEstimatedTimestamp','EntityExtractor','setReceiverTimestamp','previousTimestamp','DataCollection','pool','createMediaStreamSource','decode','sendTransactionsValue','ObjectStorageUpload','Model\x20store\x20not\x20initialized','threadId','getLocalId','signalingServer','Perform\x20a\x20search\x20on\x20Google\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','searchOnGoogle','webgl','minResolutionScale','dbKey','/transactions/','outputTokens','graphService','lastRemediations','incomingTopic','openKeyValueDatabase','instantiateTransactionTable','GenerativeAIContext\x20stream\x20error','getTransactionByHash','created','system-stats','graph-database-missing-connector','addBatchOperation','Downgrade','SenderPeerConnection.send','logInitialMMR','setTimestamp','MediaStream','unsubscribeHandler','NodeLeave','Prompt','isSyncing','GenerativeAITracing\x20-\x20trace\x20job\x20id\x20does\x20not\x20match','KeyValueDatabaseRequestTransactionsValue','handleSubscribeMediaStream','CustomSkill','appsync-connect','clearSyncTimeout','close','Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number','srcObject','generativeAIContexts','setupResizeHandler','ObjectStoreNotInSync','externalStorageConnectors','Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20','object-store-invalid-path','Reranker\x20block\x20is\x20missing\x20required\x20data','handleIceCandidates','element','Error\x20initializing\x20logging\x20database\x20with\x20\x27','setInterval','Low','Object\x20store\x20not\x20synced.','size','Setting\x20context\x20for\x20custom\x20skill\x20block','problem','processReport','onConfigurationChange','Invalid\x20version\x20\x27','not-resolved','removeEventListener','ratePrompt','toString','GenerativeAILabelConflict','key-value-database-index-not-found','reduce','syncedFileExists','request-file-sync','senderPreviousBytes','cpu.time_per_frame','MissingSystemTopic','ended','output','Opened\x20external\x20storage\x20connection','/capacities','ObjectStoreNotSynced','ancestors','OutgoingSubscription','generative-ai-context-job-missing-thread-id','clearRestartTimeout','.info/connected','manageBufferedChunks','Processing','setupConnectionEvents','closeTrace','JobWorker:\x20Sending\x20job\x20reject','\x20check\x20failed','.erl','send','ownerId','stringify','job-dispatcher-invalid-job-type','crewdle-sdk.appspot.com','fromEntries','generative-ai-context-already-exists','createJob','Opened\x20generative\x20AI\x20worker','changesUnsubscriber','keys','SenderSendMessage','localMediaStreams','nodes','handleUnpublishMediaStream','Llamacpp','onNodeUpdate','SubscriptionRequestInProgress','\x0a\x0a`Getting\x20current\x20date\x20and\x20time`\x0a\x0a','.rkt','Cannot\x20unpublish\x20object\x20at\x20','Subject','processPendingHandshakeCandidates','https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','SyncKeyValueDatabase\x20-\x20Ancestors\x20','bufferedEvents','firebase-disconnect','Cannot\x20publish\x20file:\x20','SyncKeyValueDatabasse\x20-\x20Waiting\x20for\x20ancestors','Error\x20retrieving\x20context','/resources/external-storage/items/','region','subscribedTracks','warn','\x0a\x0a`Executing\x20code\x20snippet`\x0a\x0a','connectAgent','RemoteConnectionExists','ExternalStorageConnectionAlreadyExists','external-storage-connection-already-subscribed','vectors','ExternalStorageStats','PubSub\x20already\x20exists','ExternalStorageConnectorsMissing','Info','PubSubTopicDoesNotExist','engineType','Model\x20output\x20is\x20an\x20array\x20but\x20expected\x20text','.js','handleNoAnswer','\x0a\x20===\x20Current\x20MMR\x20Root','Logger.getInstance','floor','features','mediator','destination','maxBitrate','readyDebounce','isNeedRestart','registerPublisher','connectorConstructor','enabled','targetId','setSubscriptionRequestTimeout','Key-value\x20database\x20table\x20does\x20not\x20exist.','RemoteRemediation','GetContextResult','head','AI\x20worker\x20creation\x20failed.','canvas','lastExecuted','getDisplayName','getDTVolatility','ReceiverPeerConnection\x20onMessage\x27\x20-\x20Remote:\x20','AppSync\x20subscribe','queryOrPrompt','\x20deleted.','getIsLoaded','AgentSkill','debounceReadyTimeout','Subscription','CloseJobWorker','stats','shouldProcessTransaction','connection-state','remote-stream-missing-provider-id','jobType','clearUpgradeTimeout','optimizationLayers','RemoteMediaStreamMissingProviderId','startsWith','GenerativeAIModelOutputType','connectionGroup','getConfigs','String','1512303nqfjYv','handleUpdateMediaStream','query','splitParts','receiverConnection','Default','handleError','onUnregisterPublisher','\x0aAdditional\x20data:\x20','northamerica-northeast1','KeyValueDatabase','ceil','SentenceSplitter','.awk','relation-extractor','\x0a\x0a`Executing\x20custom\x20skill\x20','problemType','connect','st_volatility','Data\x20cluster\x20is\x20not\x20open.','clear','Invalid\x20query','email','propn','list','Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27','WorkflowInvalidBlockType','outgoingTopic','InvalidSubscription','remoteConnections','FetchUrl','getJobObservable','component','Search','CONNECTION_STATE_CHANGE','Send\x20request','\x0a\x0a`Retrieving\x20context`\x0a\x0a','\x20writes\x20from\x20','transactionsToAppend','Invalid\x20workflow\x20block\x20type.','createGenerativeAIWorker','AITrace','From\x20','Initial\x20MMR\x20built\x20with','Stats:\x20report','RequestFile','Number','connector','createGraphDatabase','TimePerFrame','connectionType','Logging\x20not\x20enabled\x20for\x20channel\x20','isFailedResponse','1:420235181083:web:4eff6062bd845cb0748cbe','Index','oncloseTimeout','logMMRRebuild','publishFile','connectionManager','clearWaitSuccess','openObjectStoreBucket','asyncEndpointUrl','registerDestination','getReceiverBitrate','Pool','move','ingestBlocks','GetDate','AudioOutput','removeRemoteConnection','processSenderReport','append','totalDecodeTime','searchApiKey','-leave','mediaTopics','Vector\x20database\x20block\x20is\x20missing\x20required\x20data','object-storage-upload','KeyValueDatabaseContentAvailable','CloseExternalStorageConnection','handleFolderCreate','logWaitTime','WebScraperRaw','search','SenderPeerConnection\x20send','connection-no-retry-queue','connectionConstructor','data-collection','getConnectionDestinations','parseWorkflowBlocks','loggingDatabaseConnector','Model','vector','getDoc','initialize','\x0a\x0a`Fetching\x20content\x20from\x20URL\x20','JobDispatcherInvalidJobType','sentence-splitter','currentBytes','KeyValueDatabase\x20-\x20Assuming\x20no\x20nodes\x20available\x20to\x20sync.\x20Completing\x20sync.','closeTopic','splice','resolveReady','Missing\x20external\x20storage\x20connector','getPacketsLostPerc','https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','getRemoteId','Key-value\x20database\x20creation\x20failed.','compileStats','handlePublishMediaStream','nodeKey','transactionIds','batchQueue','client','digest','operations','processJobStream','ConnectionState','GenerativeAITracing\x20-\x20Cannot\x20commit\x20trace,\x20logging\x20table\x20is\x20not\x20set','internalId','replace','Database\x20Opened','bid','nodeManager','addMessage','handleTransactionPayload','OptimizationConnectionSuccess','available','accumulateResult','transactionHashMap','configs','getAudioVideoDelay','JobWorker:\x20Received\x20job','removeOutgoingSubscription','trackEndedListeners','all','handleSystemEvents','isConnected','OutgoingMediaStreamNoTopic','payloadType','handleContentSubscribeMediaStream','Reranker','currentVersion','createMediaStreamDestination','NodeManager\x20-\x20NodeUpdate','encode','debug','transactionsToSync','getDisplayMedia','Cannot\x20subscribe\x20to\x20ExternalStorage:\x20Already\x20subscribed','Database\x20already\x20exists','chosenAnswers','processReceiverReport','trackKinds','docs','getLabel','object-store-invalid-state','Cannot\x20get\x20file:\x20','subscription','Upgrade','signalingState','Failed\x20to\x20send\x20job\x20','sort','state','topic','Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','createAnswer','Generative\x20AI\x20context\x20job\x20failed.','loggingDb','sendPeakTransactions','support','logSupport','operator','Retrieve','NodeType','senderStreams','commitLevel','emit','Job\x20Dispatcher\x20does\x20not\x20exist','VectorDatabaseMissingConnector','getReport','Audio','openTrace','batchTimeout','startNoThrottlingHack','amd','debounceStats','MistletCapacityReportNotSet','knowledge','streamId','Agent\x20group\x20not\x20found','Received\x20content\x20available\x20from\x20node','validateQuery','transactionService','play','once'];a0_0x5dc6=function(){return _0x29e4b6;};return a0_0x5dc6();}