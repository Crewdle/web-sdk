function a0_0x2e29(_0x4eb8bd,_0xb9dd59){const _0x1cd80c=a0_0x1cd8();return a0_0x2e29=function(_0x2e299f,_0x338e90){_0x2e299f=_0x2e299f-0x125;let _0x3925cf=_0x1cd80c[_0x2e299f];return _0x3925cf;},a0_0x2e29(_0x4eb8bd,_0xb9dd59);}(function(_0x169b29,_0x34c406){const _0x5aab42=a0_0x2e29,_0x543f15=_0x169b29();while(!![]){try{const _0x7172f1=parseInt(_0x5aab42(0x66b))/0x1+-parseInt(_0x5aab42(0x26b))/0x2+parseInt(_0x5aab42(0x93f))/0x3*(parseInt(_0x5aab42(0x543))/0x4)+parseInt(_0x5aab42(0x26d))/0x5*(parseInt(_0x5aab42(0x338))/0x6)+-parseInt(_0x5aab42(0x3a7))/0x7*(parseInt(_0x5aab42(0x3ef))/0x8)+-parseInt(_0x5aab42(0x309))/0x9*(-parseInt(_0x5aab42(0x394))/0xa)+-parseInt(_0x5aab42(0x4de))/0xb;if(_0x7172f1===_0x34c406)break;else _0x543f15['push'](_0x543f15['shift']());}catch(_0x2fd835){_0x543f15['push'](_0x543f15['shift']());}}}(a0_0x1cd8,0xbd481),!function(_0x50841a,_0x3cff08){const _0x1c763e=a0_0x2e29;if(_0x1c763e(0x890)==typeof exports&&'object'==typeof module)module[_0x1c763e(0x72c)]=_0x3cff08();else{if('function'==typeof define&&define[_0x1c763e(0x4f1)])define([],_0x3cff08);else{var _0x5c976f=_0x3cff08();for(var _0x18de27 in _0x5c976f)(_0x1c763e(0x890)==typeof exports?exports:_0x50841a)[_0x18de27]=_0x5c976f[_0x18de27];}}}(this,()=>((()=>{'use strict';const _0xd4b2e=a0_0x2e29;var _0xd8237={0x14d:(_0x5e7561,_0x4bbd4b,_0x3335e3)=>{const _0x2e04c8=a0_0x2e29;_0x3335e3['d'](_0x4bbd4b,{'O':()=>_0x446da9});const _0x446da9={'version':'1.0.19.0','isProduction':!0x1,'firebaseConfig':{'apiKey':_0x2e04c8(0xa64),'authDomain':'crewdle-sdk-stg.firebaseapp.com','databaseURL':_0x2e04c8(0x522),'projectId':'crewdle-sdk-stg','storageBucket':_0x2e04c8(0x775),'appId':_0x2e04c8(0x566),'functionsRegion':_0x2e04c8(0x170)},'google':{'searchEngineId':_0x2e04c8(0x768)},'aws':{'endpoint':_0x2e04c8(0x809),'region':_0x2e04c8(0x73d)}};},0x33b:(_0x24df1c,_0x23d871,_0x2debd1)=>{_0x2debd1['d'](_0x23d871,{'O':()=>_0x1ece3d});const _0x1ece3d={};},0x3e6:(_0x9a4939,_0x25c9df,_0x5bf1aa)=>{const _0x5e6d00=a0_0x2e29;_0x5bf1aa['d'](_0x25c9df,{'O':()=>_0x4d9edf});const _0x4d9edf={'version':_0x5e6d00(0x90b),'isProduction':!0x0,'firebaseConfig':{'apiKey':_0x5e6d00(0x2ae),'authDomain':_0x5e6d00(0x8e0),'databaseURL':'https://crewdle-sdk-default-rtdb.firebaseio.com','projectId':'crewdle-sdk','storageBucket':_0x5e6d00(0x8e8),'messagingSenderId':'420235181083','appId':_0x5e6d00(0x70e),'measurementId':_0x5e6d00(0x242)},'aws':{'endpoint':_0x5e6d00(0x4e3),'region':_0x5e6d00(0x73d)}};},0x20:(_0x43aea8,_0x351f89,_0x22a5cd)=>{_0x22a5cd['d'](_0x351f89,{'O':()=>_0x2a9dbb});const _0x2a9dbb={};}},_0x36dcf3={};function _0x41939a(_0x5187ff){const _0x56864d=a0_0x2e29;var _0x5661f3=_0x36dcf3[_0x5187ff];if(void 0x0!==_0x5661f3)return _0x5661f3[_0x56864d(0x72c)];var _0x3a6fe3=_0x36dcf3[_0x5187ff]={'exports':{}};return _0xd8237[_0x5187ff](_0x3a6fe3,_0x3a6fe3[_0x56864d(0x72c)],_0x41939a),_0x3a6fe3[_0x56864d(0x72c)];}_0x41939a['d']=(_0x146bb0,_0x45d515)=>{const _0x4ebd73=a0_0x2e29;for(var _0x5699a3 in _0x45d515)_0x41939a['o'](_0x45d515,_0x5699a3)&&!_0x41939a['o'](_0x146bb0,_0x5699a3)&&Object[_0x4ebd73(0x96e)](_0x146bb0,_0x5699a3,{'enumerable':!0x0,'get':_0x45d515[_0x5699a3]});},_0x41939a['g']=(function(){const _0x4a1ca6=a0_0x2e29;if('object'==typeof globalThis)return globalThis;try{return this||new Function('return\x20this')();}catch(_0x326569){if(_0x4a1ca6(0x890)==typeof window)return window;}}()),_0x41939a['o']=(_0xb431c8,_0x1d1709)=>Object[_0xd4b2e(0x44d)][_0xd4b2e(0x808)][_0xd4b2e(0x44e)](_0xb431c8,_0x1d1709),_0x41939a['r']=_0x16d8ab=>{const _0x365410=_0xd4b2e;'undefined'!=typeof Symbol&&Symbol[_0x365410(0x8f5)]&&Object[_0x365410(0x96e)](_0x16d8ab,Symbol[_0x365410(0x8f5)],{'value':'Module'}),Object[_0x365410(0x96e)](_0x16d8ab,'__esModule',{'value':!0x0});};var _0x15ca7a,_0xdcad61,_0x831a2b,_0x15b646={};_0x41939a['r'](_0x15b646),_0x41939a['d'](_0x15b646,{'KeyValueDatabase':()=>_0xc90db5,'LayoutBuilder':()=>_0x291f73,'LoggingChannels':()=>_0x831a2b,'QueryBuilder':()=>_0x42e966,'SDK':()=>_0x4cf846,'SDKClientErrorCodes':()=>_0x15ca7a,'TableBuilder':()=>_0x15cd7e,'logger':()=>_0x98a765}),function(_0x42ec89){const _0x6e7878=_0xd4b2e;_0x42ec89['ConnectionBufferNotEmpty']='connection-buffer-not-empty',_0x42ec89['ClusterAlreadyJoined']=_0x6e7878(0x5ea),_0x42ec89[_0x6e7878(0x483)]=_0x6e7878(0x2e2),_0x42ec89['ExternalStorageConnectionAlreadySubscribed']=_0x6e7878(0x885),_0x42ec89[_0x6e7878(0x26e)]=_0x6e7878(0x477),_0x42ec89[_0x6e7878(0x928)]='external-storage-connectors-missing',_0x42ec89[_0x6e7878(0x461)]=_0x6e7878(0x84c),_0x42ec89['ExternalStorageNameNotString']=_0x6e7878(0x6fa),_0x42ec89[_0x6e7878(0x3df)]=_0x6e7878(0x7bb),_0x42ec89[_0x6e7878(0x231)]='generative-ai-context-already-exists',_0x42ec89[_0x6e7878(0x343)]=_0x6e7878(0x3a1),_0x42ec89[_0x6e7878(0x2d7)]=_0x6e7878(0x92f),_0x42ec89[_0x6e7878(0x257)]='generative-ai-label-conflict',_0x42ec89[_0x6e7878(0xa70)]=_0x6e7878(0x14e),_0x42ec89[_0x6e7878(0x905)]=_0x6e7878(0x82d),_0x42ec89['GenerativeAIWorkerModelSyncError']='generative-ai-worker-model-sync-error',_0x42ec89[_0x6e7878(0x53a)]=_0x6e7878(0x374),_0x42ec89[_0x6e7878(0x175)]=_0x6e7878(0x797),_0x42ec89[_0x6e7878(0x42a)]=_0x6e7878(0x562),_0x42ec89[_0x6e7878(0x9ca)]=_0x6e7878(0x4d0),_0x42ec89[_0x6e7878(0x8d0)]=_0x6e7878(0x280),_0x42ec89[_0x6e7878(0x9fa)]=_0x6e7878(0x93c),_0x42ec89[_0x6e7878(0x7ed)]=_0x6e7878(0x6be),_0x42ec89[_0x6e7878(0x241)]=_0x6e7878(0x546),_0x42ec89[_0x6e7878(0x2dc)]=_0x6e7878(0x916),_0x42ec89[_0x6e7878(0x7d1)]=_0x6e7878(0x1d5),_0x42ec89[_0x6e7878(0x84e)]=_0x6e7878(0x295),_0x42ec89[_0x6e7878(0x3d9)]=_0x6e7878(0x624),_0x42ec89['ObjectStoreAlreadySubscribed']=_0x6e7878(0x6ac),_0x42ec89[_0x6e7878(0x2cb)]=_0x6e7878(0x96f),_0x42ec89[_0x6e7878(0xa75)]=_0x6e7878(0x8ce),_0x42ec89[_0x6e7878(0x611)]=_0x6e7878(0x1c1),_0x42ec89[_0x6e7878(0x9a2)]='object-store-invalid-path',_0x42ec89[_0x6e7878(0x6ec)]=_0x6e7878(0x7f1),_0x42ec89[_0x6e7878(0x5a6)]='internal-sdk-error',_0x42ec89[_0x6e7878(0x4cd)]=_0x6e7878(0x95c),_0x42ec89[_0x6e7878(0x132)]=_0x6e7878(0x9ad),_0x42ec89['KeyValueDatabaseDoesNotExist']=_0x6e7878(0x526),_0x42ec89[_0x6e7878(0x931)]=_0x6e7878(0x72e),_0x42ec89[_0x6e7878(0x516)]=_0x6e7878(0x640),_0x42ec89[_0x6e7878(0x834)]=_0x6e7878(0x23b),_0x42ec89[_0x6e7878(0x32d)]=_0x6e7878(0x549),_0x42ec89[_0x6e7878(0x2b1)]='key-value-database-not-open',_0x42ec89[_0x6e7878(0x9fd)]=_0x6e7878(0x551),_0x42ec89['KeyValueDatabaseTableNotFound']='key-value-database-table-not-found',_0x42ec89['KeyValueDatabaseInvalidLayout']=_0x6e7878(0x95e),_0x42ec89[_0x6e7878(0x645)]='local-media-stream-already-exists',_0x42ec89[_0x6e7878(0x195)]='local-media-stream-no-audio-context',_0x42ec89['PubSubTopicAlreadyExists']=_0x6e7878(0x8a4),_0x42ec89[_0x6e7878(0x48f)]='pub-sub-topic-does-not-exist',_0x42ec89[_0x6e7878(0x25b)]=_0x6e7878(0x825),_0x42ec89[_0x6e7878(0x1a4)]='pub-sub-topic-already-subscribed',_0x42ec89[_0x6e7878(0x661)]=_0x6e7878(0x2ef),_0x42ec89['RemoteMediaStreamAlreadyExists']=_0x6e7878(0x224),_0x42ec89[_0x6e7878(0x64f)]='remote-media-stream-invalid-subscription-params',_0x42ec89[_0x6e7878(0x5fa)]='subscription-request-in-progress',_0x42ec89[_0x6e7878(0x586)]=_0x6e7878(0x987),_0x42ec89[_0x6e7878(0x38a)]=_0x6e7878(0x749),_0x42ec89[_0x6e7878(0x8b1)]=_0x6e7878(0xa5d),_0x42ec89[_0x6e7878(0x6f0)]='node-type-required',_0x42ec89[_0x6e7878(0x229)]='vector-database-already-exists',_0x42ec89[_0x6e7878(0x1a0)]=_0x6e7878(0x508),_0x42ec89[_0x6e7878(0x24b)]=_0x6e7878(0x3e4),_0x42ec89['VectorDatabaseNameNotString']='vector-database-name-not-string';}(_0x15ca7a||(_0x15ca7a={}));class _0x276337 extends Error{[_0xd4b2e(0x12c)];constructor(_0x116269,_0x35fc73){const _0x4991e1=_0xd4b2e;super(_0x35fc73),this[_0x4991e1(0x12c)]=_0x116269;}}!function(_0x25549c){const _0x579456=_0xd4b2e;_0x25549c['PubSub']=_0x579456(0x90d),_0x25549c[_0x579456(0x3e1)]='object-storage',_0x25549c[_0x579456(0x329)]=_0x579456(0x57e),_0x25549c[_0x579456(0xa80)]=_0x579456(0x307),_0x25549c['GraphDatabase']=_0x579456(0x393),_0x25549c['ExternalStorage']=_0x579456(0x87a),_0x25549c[_0x579456(0x615)]=_0x579456(0x805),_0x25549c['GenerativeAIContext']=_0x579456(0x954);}(_0xdcad61||(_0xdcad61={})),function(_0x16a02f){const _0x5bba10=_0xd4b2e;_0x16a02f['All']=_0x5bba10(0x60b),_0x16a02f[_0x5bba10(0x85b)]=_0x5bba10(0x6b0),_0x16a02f[_0x5bba10(0x4e6)]=_0x5bba10(0x496),_0x16a02f[_0x5bba10(0x723)]='connection-state',_0x16a02f[_0x5bba10(0x4a5)]=_0x5bba10(0x32b),_0x16a02f[_0x5bba10(0x657)]=_0x5bba10(0x580),_0x16a02f[_0x5bba10(0x87c)]=_0x5bba10(0x7ea),_0x16a02f[_0x5bba10(0x456)]='detection',_0x16a02f[_0x5bba10(0x540)]=_0x5bba10(0x7d4),_0x16a02f[_0x5bba10(0x908)]='error',_0x16a02f[_0x5bba10(0x7f2)]='jobs',_0x16a02f[_0x5bba10(0x329)]=_0x5bba10(0x57e),_0x16a02f[_0x5bba10(0x230)]=_0x5bba10(0x517),_0x16a02f[_0x5bba10(0x71d)]='pool',_0x16a02f[_0x5bba10(0xa3d)]=_0x5bba10(0x90d),_0x16a02f['ReceiverOnMessage']='receiver-on-message',_0x16a02f['Remediation']=_0x5bba10(0x4f6),_0x16a02f[_0x5bba10(0xa7d)]='sender-send-message',_0x16a02f[_0x5bba10(0x180)]=_0x5bba10(0x770),_0x16a02f[_0x5bba10(0xa34)]='stats',_0x16a02f[_0x5bba10(0x67e)]=_0x5bba10(0x145),_0x16a02f['Support']=_0x5bba10(0x45c),_0x16a02f[_0x5bba10(0x861)]=_0x5bba10(0x762),_0x16a02f[_0x5bba10(0x690)]=_0x5bba10(0x8d6),_0x16a02f[_0x5bba10(0x3fb)]='test-page',_0x16a02f[_0x5bba10(0x73c)]=_0x5bba10(0x493);}(_0x831a2b||(_0x831a2b={}));const _0x29f76b=require('@crewdle/web-sdk-types');class _0x42e966{['query'];constructor(_0xd15373){const _0x392825=_0xd4b2e;this[_0x392825(0x613)]={'orderBy':{'key':_0xd15373,'direction':_0x392825(0x588)}};}static['index'](_0x366cd1){const _0x48cecd=_0xd4b2e;if(_0x48cecd(0x8e6)!=typeof _0x366cd1||0x0===_0x366cd1[_0x48cecd(0x9b4)])throw new _0x276337(_0x15ca7a[_0x48cecd(0x661)],_0x48cecd(0x7c5));return new _0x42e966(_0x366cd1);}static[_0xd4b2e(0x6bc)](_0x3900cc){const _0x38048a=_0xd4b2e;try{return _0x42e966[_0x38048a(0x4f8)](_0x3900cc),!0x0;}catch(_0x2a6b38){return!0x1;}}static[_0xd4b2e(0x4f8)](_0x18e39e){const _0x4e7d9b=_0xd4b2e,_0x3ca0f9=_0x42e966['index'](_0x18e39e['orderBy']?.[_0x4e7d9b(0x415)]??_0x18e39e[_0x4e7d9b(0x4b7)]?.[_0x4e7d9b(0x415)]??'');if(_0x18e39e[_0x4e7d9b(0x4b7)]){const _0x24a3f8=_0x18e39e[_0x4e7d9b(0x4b7)];if((_0x42e966[_0x4e7d9b(0x3f9)](_0x24a3f8)||_0x42e966['isWhereValues'](_0x24a3f8)||_0x42e966[_0x4e7d9b(0x930)](_0x24a3f8))&&_0x3ca0f9[_0x4e7d9b(0x4b7)](_0x24a3f8['operator'],_0x24a3f8[_0x4e7d9b(0x97c)]),_0x18e39e[_0x4e7d9b(0x730)]?.[_0x4e7d9b(0x415)]&&_0x18e39e['orderBy']?.['key']!==_0x18e39e[_0x4e7d9b(0x4b7)]['key'])throw new _0x276337(_0x15ca7a['QueryBuilderInvalidArgument'],'Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key');}return _0x18e39e[_0x4e7d9b(0x730)]&&_0x3ca0f9[_0x4e7d9b(0x730)](_0x18e39e[_0x4e7d9b(0x730)][_0x4e7d9b(0x982)]),_0x18e39e[_0x4e7d9b(0x464)]&&_0x3ca0f9[_0x4e7d9b(0x464)](_0x18e39e[_0x4e7d9b(0x464)]),_0x18e39e['offset']&&_0x3ca0f9['offset'](_0x18e39e['offset']),_0x3ca0f9;}['getQuery'](){const _0x295034=_0xd4b2e;return{...this[_0x295034(0x613)]};}['where'](_0x494982,_0x6f1259){const _0x2b4b82=_0xd4b2e,_0x1dc85c={'key':this[_0x2b4b82(0x613)][_0x2b4b82(0x730)][_0x2b4b82(0x415)],'operator':_0x494982,'value':_0x6f1259};if(!_0x42e966[_0x2b4b82(0x3f9)](_0x1dc85c)&&!_0x42e966[_0x2b4b82(0xa12)](_0x1dc85c)&&!_0x42e966[_0x2b4b82(0x930)](_0x1dc85c))throw new _0x276337(_0x15ca7a[_0x2b4b82(0x661)],_0x2b4b82(0x39c));return this[_0x2b4b82(0x613)][_0x2b4b82(0x4b7)]=_0x1dc85c,this;}[_0xd4b2e(0x730)](_0x566a34){const _0x130969=_0xd4b2e;if('asc'!==_0x566a34&&_0x130969(0x1bb)!==_0x566a34)throw new _0x276337(_0x15ca7a['QueryBuilderInvalidArgument'],'Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc');return this[_0x130969(0x613)][_0x130969(0x730)]['direction']=_0x566a34,this;}[_0xd4b2e(0x464)](_0x282d0a){const _0x4c35b5=_0xd4b2e;if(_0x4c35b5(0x1f7)!=typeof _0x282d0a||_0x282d0a<0x0)throw new _0x276337(_0x15ca7a['QueryBuilderInvalidArgument'],_0x4c35b5(0x8d9));return this[_0x4c35b5(0x613)][_0x4c35b5(0x464)]=_0x282d0a,this;}['offset'](_0xecf32){const _0x4684d5=_0xd4b2e;if(_0x4684d5(0x1f7)!=typeof _0xecf32||_0xecf32<0x0)throw new _0x276337(_0x15ca7a['QueryBuilderInvalidArgument'],'Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number');return this[_0x4684d5(0x613)]['offset']=_0xecf32,this;}static[_0xd4b2e(0x3f9)](_0x459664){const _0x10e49d=_0xd4b2e;if(!(_0x459664&&_0x10e49d(0x890)==typeof _0x459664&&_0x10e49d(0x966)in _0x459664&&_0x10e49d(0x97c)in _0x459664))return!0x1;const {operator:_0x55c023,value:_0x1edfae}=_0x459664;return!(!['==','!=','>','<','<=','>=']['includes'](_0x55c023)||Array['isArray'](_0x1edfae));}static['isWhereValues'](_0x137251){const _0x32ecde=_0xd4b2e;if(!(_0x137251&&_0x32ecde(0x890)==typeof _0x137251&&_0x32ecde(0x966)in _0x137251&&'value'in _0x137251))return!0x1;const {operator:_0x2becbe,value:_0x1932d8}=_0x137251;return!(!['in',_0x32ecde(0x135)][_0x32ecde(0x29c)](_0x2becbe)||!Array[_0x32ecde(0x8df)](_0x1932d8));}static[_0xd4b2e(0x930)](_0x232ec3){const _0x2898a9=_0xd4b2e;if(!(_0x232ec3&&_0x2898a9(0x890)==typeof _0x232ec3&&_0x2898a9(0x966)in _0x232ec3&&_0x2898a9(0x97c)in _0x232ec3))return!0x1;const {operator:_0x287fcd,value:_0x44354e}=_0x232ec3;return!(_0x2898a9(0x197)!==_0x287fcd||!Array[_0x2898a9(0x8df)](_0x44354e)||0x2!==_0x44354e[_0x2898a9(0x9b4)]);}}class _0x291f73{['layout'];constructor(_0x4cd2bd){const _0x4f4d0f=_0xd4b2e;this[_0x4f4d0f(0x95d)]={'tables':{},'version':_0x4cd2bd};}static[_0xd4b2e(0x45a)](_0x4bde30){const _0x16bd25=_0xd4b2e;for(const _0x3d737e in _0x4bde30){if(_0x16bd25(0x8a6)!==_0x3d737e&&_0x16bd25(0x29b)!==_0x3d737e)return[!0x1,_0x16bd25(0x91f)+_0x3d737e+_0x16bd25(0x33a)];if(_0x16bd25(0x29b)===_0x3d737e)for(const _0x5a3bb7 in _0x4bde30[_0x16bd25(0x29b)]){if(_0x16bd25(0x8e6)!=typeof _0x5a3bb7)return[!0x1,_0x16bd25(0x235)+_0x5a3bb7+'\x27'];for(const _0x5aafdf in _0x4bde30['tables'][_0x5a3bb7]){if(_0x16bd25(0x6aa)!==_0x5aafdf)return[!0x1,_0x16bd25(0x91f)+_0x5aafdf+'\x27\x20in\x20table\x20\x27'+_0x5a3bb7+'\x27'];const _0xa41e59=_0x4bde30['tables'][_0x5a3bb7][_0x5aafdf]??[];for(const _0x48509f of _0xa41e59)if(void 0x0===_0x48509f['keyPath']||_0x16bd25(0x8e6)!=typeof _0x48509f[_0x16bd25(0x576)])return[!0x1,_0x16bd25(0xa25)+_0x5a3bb7+_0x16bd25(0x6d4)];}}else{if(_0x16bd25(0x8a6)===_0x3d737e&&_0x16bd25(0x1f7)!=typeof _0x4bde30[_0x3d737e])return[!0x1,_0x16bd25(0x57a)+_0x4bde30[_0x3d737e]+'\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number'];}}return[!0x0,'Valid\x20layout'];}static[_0xd4b2e(0x95d)](_0x59dba4){const _0x2cd32a=_0xd4b2e,_0x5c5bbd=new _0x291f73(_0x59dba4);return _0x5c5bbd[_0x2cd32a(0x95d)][_0x2cd32a(0x8a6)]=_0x59dba4,_0x5c5bbd;}['table'](_0x4a4846){const _0x342514=_0xd4b2e;return this[_0x342514(0x95d)]['tables'][_0x4a4846]={},new _0x15cd7e(this['layout']['tables'][_0x4a4846]);}[_0xd4b2e(0x1ba)](){const _0x19aa32=_0xd4b2e;return this[_0x19aa32(0x95d)];}}class _0x15cd7e{[_0xd4b2e(0xa05)];constructor(_0x3de8d5){const _0x4a575f=_0xd4b2e;this[_0x4a575f(0xa05)]=_0x3de8d5;}[_0xd4b2e(0x5a0)](_0x36e860){const _0x2f6858=_0xd4b2e;return this['tableLayout'][_0x2f6858(0x6aa)]=this[_0x2f6858(0xa05)][_0x2f6858(0x6aa)]??[],this[_0x2f6858(0xa05)]['indexes'][_0x2f6858(0x55a)]({'keyPath':_0x36e860}),this;}}const _0x392ca4=0x40000,_0x54486b=0x20000,_0x371ea9=0x1388,_0x2abcdd='.crewdle-last-transaction',_0x137979=_0xd4b2e(0x9a5),_0x268d12=_0xd4b2e(0x569),_0x428d87='.crewdle-layout',_0xd0036b=0xdbba0,_0xf849ff='.gguf',_0x2e2918=0x61a8,_0x5e346d=0x7530,_0x596898='internal';var _0x123f4d;!function(_0x4c9362){const _0x3010f4=_0xd4b2e;_0x4c9362['ConnectionNotinitialized']=_0x3010f4(0x349),_0x4c9362[_0x3010f4(0x731)]=_0x3010f4(0x90e),_0x4c9362[_0x3010f4(0x988)]='connection-no-retry-queue',_0x4c9362[_0x3010f4(0x7af)]=_0x3010f4(0x9fe),_0x4c9362[_0x3010f4(0x2d9)]=_0x3010f4(0x6c9),_0x4c9362['GenerativeAIContextInvalidPartialResult']=_0x3010f4(0x490),_0x4c9362[_0x3010f4(0x312)]=_0x3010f4(0x352),_0x4c9362[_0x3010f4(0x523)]='generative-ai-context-job-failed',_0x4c9362[_0x3010f4(0x565)]=_0x3010f4(0x9bc),_0x4c9362[_0x3010f4(0x40f)]=_0x3010f4(0x353),_0x4c9362[_0x3010f4(0x2c2)]='graph-database-creation-failed',_0x4c9362[_0x3010f4(0x355)]='invalid-data-chanel',_0x4c9362[_0x3010f4(0x44f)]=_0x3010f4(0x375),_0x4c9362[_0x3010f4(0x577)]=_0x3010f4(0x38d),_0x4c9362[_0x3010f4(0x2ad)]='invalid-subscription',_0x4c9362[_0x3010f4(0x970)]=_0x3010f4(0x503),_0x4c9362[_0x3010f4(0x725)]=_0x3010f4(0x7bc),_0x4c9362['JobDispatcherJobNotFound']=_0x3010f4(0x546),_0x4c9362[_0x3010f4(0x694)]=_0x3010f4(0x9ef),_0x4c9362[_0x3010f4(0x1d2)]='job-worker-creation-failed',_0x4c9362['JobWorkerInvalidType']=_0x3010f4(0x76f),_0x4c9362['KeyValueDatabaseCreationFailed']=_0x3010f4(0x160),_0x4c9362[_0x3010f4(0x8fc)]='key-value-database-peak-not-found',_0x4c9362[_0x3010f4(0x2a1)]=_0x3010f4(0x140),_0x4c9362[_0x3010f4(0x6d3)]=_0x3010f4(0x56b),_0x4c9362[_0x3010f4(0x6c7)]=_0x3010f4(0x5b0),_0x4c9362[_0x3010f4(0x5b1)]='local-stream-does-not-exist',_0x4c9362['MissingRemoteConnection']=_0x3010f4(0xa23),_0x4c9362[_0x3010f4(0x4d1)]=_0x3010f4(0x1ed),_0x4c9362[_0x3010f4(0x6bf)]=_0x3010f4(0x359),_0x4c9362[_0x3010f4(0x5f7)]=_0x3010f4(0x823),_0x4c9362[_0x3010f4(0x8b4)]='object-store-invalid-state',_0x4c9362[_0x3010f4(0x52a)]=_0x3010f4(0x65f),_0x4c9362['ObjectStoreNotSynced']=_0x3010f4(0x521),_0x4c9362[_0x3010f4(0x1d4)]='outgoing-stream-no-topic',_0x4c9362[_0x3010f4(0x345)]=_0x3010f4(0x437),_0x4c9362[_0x3010f4(0x1c9)]=_0x3010f4(0x4a2),_0x4c9362[_0x3010f4(0x2bc)]=_0x3010f4(0x9fb),_0x4c9362[_0x3010f4(0x87e)]=_0x3010f4(0x8fb),_0x4c9362[_0x3010f4(0x9f0)]='subscription-request-failed',_0x4c9362[_0x3010f4(0x606)]=_0x3010f4(0x8c0),_0x4c9362['NodeDoesNotExist']=_0x3010f4(0x30d),_0x4c9362['NodeAlreadyExist']=_0x3010f4(0x8f7),_0x4c9362['PeerConnectionInvalidDestination']=_0x3010f4(0x1f2),_0x4c9362[_0x3010f4(0x1fb)]=_0x3010f4(0xa67),_0x4c9362['WorkflowDoesNotExist']=_0x3010f4(0x2bb),_0x4c9362[_0x3010f4(0xa11)]=_0x3010f4(0x19c);}(_0x123f4d||(_0x123f4d={}));const _0x161fc5=new Map([[_0x123f4d[_0xd4b2e(0x7eb)],_0xd4b2e(0x68e)],[_0x123f4d[_0xd4b2e(0x731)],_0xd4b2e(0x99f)],[_0x123f4d[_0xd4b2e(0x988)],_0xd4b2e(0x7c9)],[_0x123f4d['ConnectionInvalidDataEvent'],_0xd4b2e(0x49c)],[_0x123f4d['GenerativeAIContextCreationFailed'],'Generative\x20AI\x20context\x20creation\x20failed.'],[_0x123f4d[_0xd4b2e(0x46e)],'Generative\x20AI\x20context\x20invalid\x20partial\x20result.'],[_0x123f4d[_0xd4b2e(0x312)],_0xd4b2e(0x570)],[_0x123f4d[_0xd4b2e(0x523)],_0xd4b2e(0x222)],[_0x123f4d[_0xd4b2e(0x565)],'Generative\x20AI\x20context\x20job\x20timeout.'],[_0x123f4d['GenerativeAIWorkerCreationFailed'],_0xd4b2e(0x381)],[_0x123f4d[_0xd4b2e(0x2c2)],_0xd4b2e(0x7c6)],[_0x123f4d[_0xd4b2e(0x355)],_0xd4b2e(0x59a)],[_0x123f4d[_0xd4b2e(0x44f)],'Invalid\x20publisher.'],[_0x123f4d[_0xd4b2e(0x577)],'Invalid\x20subscriber.'],[_0x123f4d[_0xd4b2e(0x2ad)],_0xd4b2e(0x552)],[_0x123f4d[_0xd4b2e(0x970)],_0xd4b2e(0x27b)],[_0x123f4d[_0xd4b2e(0x725)],_0xd4b2e(0x713)],[_0x123f4d[_0xd4b2e(0x241)],_0xd4b2e(0x28b)],[_0x123f4d[_0xd4b2e(0x694)],_0xd4b2e(0x873)],[_0x123f4d[_0xd4b2e(0x1d2)],_0xd4b2e(0x807)],[_0x123f4d[_0xd4b2e(0x15f)],_0xd4b2e(0x81a)],[_0x123f4d[_0xd4b2e(0x73e)],_0xd4b2e(0x50f)],[_0x123f4d[_0xd4b2e(0x8fc)],_0xd4b2e(0xa51)],[_0x123f4d['KeyValueDatabaseTableDoesNotExist'],_0xd4b2e(0x7ff)],[_0x123f4d[_0xd4b2e(0x6d3)],_0xd4b2e(0xa6c)],[_0x123f4d[_0xd4b2e(0x6c7)],_0xd4b2e(0x361)],[_0x123f4d[_0xd4b2e(0x5b1)],_0xd4b2e(0xa14)],[_0x123f4d[_0xd4b2e(0xa7e)],_0xd4b2e(0x699)],[_0x123f4d[_0xd4b2e(0x4d1)],_0xd4b2e(0xa72)],[_0x123f4d['MistletCapacityReportNotSet'],'Mistlet\x20capacity\x20report\x20not\x20set.'],[_0x123f4d[_0xd4b2e(0x5f7)],'Cannot\x20write\x20transaction.'],[_0x123f4d[_0xd4b2e(0x52a)],_0xd4b2e(0x38f)],[_0x123f4d[_0xd4b2e(0x8b4)],_0xd4b2e(0x226)],[_0x123f4d['ObjectStoreNotSynced'],_0xd4b2e(0x662)],[_0x123f4d[_0xd4b2e(0x1d4)],'Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.'],[_0x123f4d[_0xd4b2e(0x345)],_0xd4b2e(0x6ff)],[_0x123f4d[_0xd4b2e(0x1c9)],'Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.'],[_0x123f4d[_0xd4b2e(0x2bc)],_0xd4b2e(0x184)],[_0x123f4d[_0xd4b2e(0x87e)],_0xd4b2e(0x8ca)],[_0x123f4d[_0xd4b2e(0x9f0)],_0xd4b2e(0x331)],[_0x123f4d[_0xd4b2e(0x606)],_0xd4b2e(0x602)],[_0x123f4d[_0xd4b2e(0x82c)],_0xd4b2e(0x862)],[_0x123f4d['NodeAlreadyExist'],_0xd4b2e(0x23f)],[_0x123f4d[_0xd4b2e(0x726)],_0xd4b2e(0x2ed)],[_0x123f4d[_0xd4b2e(0x1fb)],'Vector\x20database\x20creation\x20failed.'],[_0x123f4d[_0xd4b2e(0x534)],_0xd4b2e(0x85d)],[_0x123f4d[_0xd4b2e(0xa11)],'Invalid\x20workflow\x20block\x20type.']]);class _0x1cac69 extends Error{[_0xd4b2e(0x12c)];static ['codes']=_0x123f4d;[_0xd4b2e(0x2aa)];constructor(_0x36ca73,_0x16cda3){const _0x28b265=_0xd4b2e;super(_0x28b265(0x64e)+_0x36ca73+':\x20'+_0x161fc5[_0x28b265(0x6e6)](_0x36ca73)+_0x28b265(0x23a)+JSON[_0x28b265(0x1a2)](_0x16cda3)),this[_0x28b265(0x12c)]=_0x36ca73,this[_0x28b265(0x2aa)]=_0x16cda3||{};}}var _0x2b2ef9,_0x565f8c,_0xfbb2ec,_0x295162,_0x48cc24,_0x48cc2c,_0x49e311;!function(_0x24e02d){const _0xf9085b=_0xd4b2e;_0x24e02d[_0x24e02d[_0xf9085b(0x51f)]=0x0]=_0xf9085b(0x51f),_0x24e02d[_0x24e02d[_0xf9085b(0x934)]=0x1]=_0xf9085b(0x934),_0x24e02d[_0x24e02d[_0xf9085b(0x66e)]=0x2]=_0xf9085b(0x66e),_0x24e02d[_0x24e02d['CloseExternalStorageConnection']=0x3]=_0xf9085b(0xa52),_0x24e02d[_0x24e02d['CloseKeyValueDatabase']=0x4]='CloseKeyValueDatabase',_0x24e02d[_0x24e02d[_0xf9085b(0x41b)]=0x5]=_0xf9085b(0x41b),_0x24e02d[_0x24e02d[_0xf9085b(0x4b0)]=0x6]='CloseObjectStoreBucket',_0x24e02d[_0x24e02d[_0xf9085b(0x9e7)]=0x7]=_0xf9085b(0x9e7),_0x24e02d[_0x24e02d[_0xf9085b(0x250)]=0x8]=_0xf9085b(0x250),_0x24e02d[_0x24e02d['ExternalStorageStats']=0x9]=_0xf9085b(0x683),_0x24e02d[_0x24e02d[_0xf9085b(0x763)]=0xa]=_0xf9085b(0x763),_0x24e02d[_0x24e02d[_0xf9085b(0x5e2)]=0xb]='GenerativeAIWorkerStats',_0x24e02d[_0x24e02d['GraphDatabaseStats']=0xc]=_0xf9085b(0x1b1),_0x24e02d[_0x24e02d[_0xf9085b(0x5c1)]=0xd]=_0xf9085b(0x5c1),_0x24e02d[_0x24e02d[_0xf9085b(0x918)]=0xe]='KeyValueDatabaseContentSynchronized',_0x24e02d[_0x24e02d[_0xf9085b(0x646)]=0xf]='KeyValueDatabaseRequestPeakTransactions',_0x24e02d[_0x24e02d[_0xf9085b(0x4e0)]=0x10]='KeyValueDatabaseRequestTransactionsValue',_0x24e02d[_0x24e02d['KeyValueDatabaseSendTransactions']=0x11]=_0xf9085b(0x53b),_0x24e02d[_0x24e02d[_0xf9085b(0x609)]=0x12]=_0xf9085b(0x609),_0x24e02d[_0x24e02d[_0xf9085b(0x5a1)]=0x13]='KeyValueDatabaseSyncRequired',_0x24e02d[_0x24e02d[_0xf9085b(0x3b4)]=0x14]=_0xf9085b(0x3b4),_0x24e02d[_0x24e02d[_0xf9085b(0x8b2)]=0x15]=_0xf9085b(0x8b2),_0x24e02d[_0x24e02d[_0xf9085b(0x1fe)]=0x16]=_0xf9085b(0x1fe),_0x24e02d[_0x24e02d[_0xf9085b(0x860)]=0x17]=_0xf9085b(0x860),_0x24e02d[_0x24e02d[_0xf9085b(0x65c)]=0x18]=_0xf9085b(0x65c),_0x24e02d[_0x24e02d[_0xf9085b(0x6a5)]=0x19]=_0xf9085b(0x6a5),_0x24e02d[_0x24e02d[_0xf9085b(0x70a)]=0x1a]=_0xf9085b(0x70a),_0x24e02d[_0x24e02d[_0xf9085b(0x208)]=0x1b]=_0xf9085b(0x208),_0x24e02d[_0x24e02d[_0xf9085b(0x7ab)]=0x1c]='UpdateMediaStream',_0x24e02d[_0x24e02d[_0xf9085b(0x4a0)]=0x1d]=_0xf9085b(0x4a0);}(_0x2b2ef9||(_0x2b2ef9={})),function(_0x66905){const _0x21aefe=_0xd4b2e;_0x66905['FileWrite']=_0x21aefe(0x4be),_0x66905[_0x21aefe(0x29e)]=_0x21aefe(0x212),_0x66905[_0x21aefe(0xa4a)]='delete',_0x66905[_0x21aefe(0x218)]=_0x21aefe(0x6f7),_0x66905[_0x21aefe(0x2c7)]=_0x21aefe(0x468),_0x66905['RequestAccepted']=_0x21aefe(0xa44),_0x66905[_0x21aefe(0x311)]=_0x21aefe(0x72f),_0x66905[_0x21aefe(0x8b5)]=_0x21aefe(0x37b);}(_0x565f8c||(_0x565f8c={})),function(_0x17e253){const _0x50b915=_0xd4b2e;_0x17e253[_0x50b915(0x23e)]='request',_0x17e253['Transaction']=_0x50b915(0x803);}(_0xfbb2ec||(_0xfbb2ec={})),function(_0x31b0ae){const _0x6c27c6=_0xd4b2e;_0x31b0ae[_0x6c27c6(0x5c4)]=_0x6c27c6(0x4bd),_0x31b0ae[_0x6c27c6(0x793)]=_0x6c27c6(0x3bf),_0x31b0ae[_0x6c27c6(0xa4a)]=_0x6c27c6(0xa2f);}(_0x295162||(_0x295162={})),function(_0x234d4c){const _0x117b61=_0xd4b2e;_0x234d4c['Get']=_0x117b61(0x6e6),_0x234d4c[_0x117b61(0x601)]=_0x117b61(0x3ad),_0x234d4c[_0x117b61(0x3d3)]=_0x117b61(0x925);}(_0x48cc24||(_0x48cc24={})),function(_0x28e13c){const _0x21703e=_0xd4b2e;_0x28e13c[_0x28e13c[_0x21703e(0x23e)]=0x0]='Request',_0x28e13c[_0x28e13c[_0x21703e(0x6f1)]=0x1]=_0x21703e(0x6f1),_0x28e13c[_0x28e13c[_0x21703e(0x52c)]=0x2]=_0x21703e(0x52c),_0x28e13c[_0x28e13c[_0x21703e(0x5de)]=0x3]=_0x21703e(0x5de),_0x28e13c[_0x28e13c[_0x21703e(0x6dc)]=0x4]='Result',_0x28e13c[_0x28e13c[_0x21703e(0x240)]=0x5]='Failed';}(_0x48cc2c||(_0x48cc2c={})),function(_0x48b768){const _0x3d3397=_0xd4b2e;_0x48b768[_0x48b768[_0x3d3397(0x73c)]=0x0]=_0x3d3397(0x73c),_0x48b768[_0x48b768[_0x3d3397(0x230)]=0x1]=_0x3d3397(0x230),_0x48b768[_0x48b768[_0x3d3397(0x657)]=0x2]=_0x3d3397(0x657),_0x48b768[_0x48b768[_0x3d3397(0x67e)]=0x3]=_0x3d3397(0x67e),_0x48b768[_0x48b768[_0x3d3397(0xa34)]=0x4]=_0x3d3397(0xa34),_0x48b768[_0x48b768[_0x3d3397(0x456)]=0x5]=_0x3d3397(0x456),_0x48b768[_0x48b768['Remediation']=0x6]=_0x3d3397(0x4c3);}(_0x49e311||(_0x49e311={}));class _0x2bbe16{['owner'];['label'];[_0xd4b2e(0x598)];constructor(_0x2ca4f9,_0x4a548f){const _0x484f2c=_0xd4b2e;this[_0x484f2c(0xa7a)]=_0x2ca4f9,this[_0x484f2c(0x39a)]=_0x4a548f;}[_0xd4b2e(0x255)](){return this['label'];}[_0xd4b2e(0x4da)](){const _0x45f2e6=_0xd4b2e;return this[_0x45f2e6(0xa7a)][_0x45f2e6(0x2a6)]();}[_0xd4b2e(0x32a)](){}['registerSystemPublisher'](_0x57338f){const _0x19afae=_0xd4b2e;this[_0x19afae(0x598)]=_0x57338f;}[_0xd4b2e(0x738)](){const _0x55da5d=_0xd4b2e;delete this[_0x55da5d(0x598)];}}const _0x1e7cba=require('firebase/firestore');let _0x599c70=_0x41939a(0x14d)['O'];function _0x47a1a0(_0x338808){const _0x28da1a=_0xd4b2e;return!(!_0x338808||_0x28da1a(0x890)!=typeof _0x338808||Array['isArray'](_0x338808));}_0x599c70=function _0x4f127f(_0x5b6a71,..._0x12109c){const _0x326d61=_0xd4b2e;if(!Array[_0x326d61(0x8df)](_0x12109c)||0x0===_0x12109c[_0x326d61(0x9b4)])return _0x5b6a71;const _0x15c862=_0x12109c[_0x326d61(0x6dd)]();if(_0x47a1a0(_0x5b6a71)&&_0x47a1a0(_0x15c862)){for(const _0x47efba in _0x15c862)_0x47a1a0(_0x15c862[_0x47efba])?(_0x5b6a71[_0x47efba]||Object[_0x326d61(0xa79)](_0x5b6a71,{[_0x47efba]:{}}),_0x4f127f(_0x5b6a71[_0x47efba],_0x15c862[_0x47efba])):Object[_0x326d61(0xa79)](_0x5b6a71,{[_0x47efba]:_0x15c862[_0x47efba]});}return _0x4f127f(_0x5b6a71,..._0x12109c);}(_0x599c70,_0x41939a(0x3e6)['O']);const _0x26a0e8=_0x599c70,_0x5970ce=require('firebase/app'),_0x3d041c=require('firebase/auth'),_0x4d0941=require('firebase/database'),_0x1d801a=require('firebase/functions'),_0x1cf016=require('uuid'),_0x2f8bb7=_0xd4b2e(0xa33);class _0x2f5a66{static [_0xd4b2e(0x147)];['app'];[_0xd4b2e(0x6ea)];[_0xd4b2e(0x20e)];[_0xd4b2e(0x2db)];[_0xd4b2e(0x79d)];[_0xd4b2e(0x3cc)];[_0xd4b2e(0x1fc)];constructor(){const _0x61ea68=_0xd4b2e;this[_0x61ea68(0x5b7)]();}static[_0xd4b2e(0x1f0)](){const _0x28596a=_0xd4b2e;return _0x2f5a66['instance']||(_0x2f5a66['instance']=new _0x2f5a66()),_0x2f5a66[_0x28596a(0x147)];}[_0xd4b2e(0x5b7)](){const _0x2d4fc9=_0xd4b2e;if(!this[_0x2d4fc9(0x9e2)]){let _0x8eb8db=_0x2f8bb7;_0x2d4fc9(0x846)!=typeof window&&(_0x8eb8db=_0x2f8bb7+'-'+(0x0,_0x1cf016['v4'])()),this[_0x2d4fc9(0x9e2)]=(0x0,_0x5970ce[_0x2d4fc9(0x5df)])(_0x26a0e8[_0x2d4fc9(0x922)],''+_0x8eb8db);}return this[_0x2d4fc9(0x9e2)];}[_0xd4b2e(0x4fd)](){const _0x49730a=_0xd4b2e;return this[_0x49730a(0x6ea)]||(this[_0x49730a(0x6ea)]=(0x0,_0x3d041c[_0x49730a(0x4fd)])(this[_0x49730a(0x5b7)]())),this[_0x49730a(0x6ea)];}[_0xd4b2e(0xa62)](){const _0x2f4e0f=_0xd4b2e;return this[_0x2f4e0f(0x20e)]||(this[_0x2f4e0f(0x20e)]=(0x0,_0x1d801a['getFunctions'])(this[_0x2f4e0f(0x5b7)](),_0x26a0e8[_0x2f4e0f(0x922)]['functionsRegion'])),this[_0x2f4e0f(0x20e)];}[_0xd4b2e(0x8f0)](){const _0x4b8812=_0xd4b2e;return this[_0x4b8812(0x2db)]||(this[_0x4b8812(0x2db)]=(0x0,_0x4d0941[_0x4b8812(0x8f0)])(this['getApp']())),this[_0x4b8812(0x2db)];}[_0xd4b2e(0x848)](){const _0x5869dc=_0xd4b2e;return this[_0x5869dc(0x79d)]||(this['firestore']=(0x0,_0x1e7cba[_0x5869dc(0x848)])(this[_0x5869dc(0x5b7)]())),this[_0x5869dc(0x79d)];}async[_0xd4b2e(0x8ff)](){const _0x32a8f8=_0xd4b2e;if(this[_0x32a8f8(0x3cc)]&&this['lastClockUpdate']&&Date[_0x32a8f8(0x702)]()-this['lastClockUpdate']<0x493e0)return Date['now']()+this[_0x32a8f8(0x3cc)];const _0x407f0e=this['getDatabase'](),_0x2e66a0=(0x0,_0x4d0941[_0x32a8f8(0x425)])(_0x407f0e,_0x32a8f8(0x2ee));return new Promise(_0xdde02c=>{const _0x2bf1a5=_0x32a8f8;(0x0,_0x4d0941[_0x2bf1a5(0x188)])(_0x2e66a0,_0x34eb7a=>{const _0x1703d0=_0x2bf1a5;(0x0,_0x4d0941[_0x1703d0(0x981)])(_0x2e66a0),this[_0x1703d0(0x3cc)]=_0x34eb7a[_0x1703d0(0x5a2)](),this[_0x1703d0(0x1fc)]=Date[_0x1703d0(0x702)](),_0xdde02c(Date['now']()+(this[_0x1703d0(0x3cc)]??0x0));});});}}const _0x3a6ba1=_0x2f5a66[_0xd4b2e(0x1f0)]();class _0x1f7d48{static [_0xd4b2e(0x147)];[_0xd4b2e(0x2cc)]=[_0x831a2b[_0xd4b2e(0x85b)]];[_0xd4b2e(0x505)]=!0x1;[_0xd4b2e(0x555)];[_0xd4b2e(0x313)]='';['globalObject'];['batchQueue']=[];['currentBatch'];[_0xd4b2e(0x80f)];['retryLimit']=0xa;[_0xd4b2e(0x56a)]=0x1f4;[_0xd4b2e(0x574)]=0x1c2;[_0xd4b2e(0x497)]=0x3e8;constructor(){const _0x39203a=_0xd4b2e;if(_0x39203a(0x846)!=typeof window)this[_0x39203a(0x5ed)]=window;else{if(void 0x0===_0x41939a['g'])throw new Error(_0x39203a(0x1cd));this['globalObject']=_0x41939a['g'];}this[_0x39203a(0x62e)](),this[_0x39203a(0x5ed)][_0x39203a(0x286)]=_0x40a2de=>{const _0x70bcb6=_0x39203a;if(_0x40a2de===_0x831a2b[_0x70bcb6(0x75c)])return this[_0x70bcb6(0x2cc)]=Object[_0x70bcb6(0x31f)](_0x831a2b)[_0x70bcb6(0x7da)](_0x31457c=>_0x831a2b[_0x31457c]),void Object[_0x70bcb6(0x31f)](_0x831a2b)['forEach'](_0x102281=>{const _0x3e21a1=_0x70bcb6,_0x4e9bc0=_0x102281;localStorage['setItem'](_0x3e21a1(0x6b2)+_0x831a2b[_0x4e9bc0],_0x3e21a1(0x3c3));});this[_0x70bcb6(0x2cc)][_0x70bcb6(0x29c)](_0x40a2de)||(this['enabledChannels'][_0x70bcb6(0x55a)](_0x40a2de),localStorage[_0x70bcb6(0x66a)](_0x70bcb6(0x6b2)+_0x40a2de,_0x70bcb6(0x3c3)));},this[_0x39203a(0x5ed)][_0x39203a(0x83b)]=_0x3c9e05=>{const _0x286cd0=_0x39203a;if(!_0x3c9e05||_0x3c9e05===_0x831a2b[_0x286cd0(0x75c)])return this['enabledChannels']=[],void Object[_0x286cd0(0x31f)](_0x831a2b)[_0x286cd0(0x7d0)](_0x1245e4=>{const _0x5a8ddf=_0x1245e4;localStorage['removeItem']('crewdle-sdk-logging-'+_0x831a2b[_0x5a8ddf]);});this[_0x286cd0(0x2cc)]['includes'](_0x3c9e05)&&(this[_0x286cd0(0x2cc)]=this[_0x286cd0(0x2cc)][_0x286cd0(0x893)](_0x593817=>_0x593817!==_0x3c9e05),localStorage[_0x286cd0(0x8de)](_0x286cd0(0x6b2)+_0x3c9e05));},this[_0x39203a(0x5ed)][_0x39203a(0xa10)]=_0x831a2b;}static[_0xd4b2e(0x1f0)](){const _0xcad4e7=_0xd4b2e;try{return _0x1f7d48[_0xcad4e7(0x147)]||(_0x1f7d48[_0xcad4e7(0x147)]=new _0x1f7d48()),_0x1f7d48['instance'];}catch(_0x4612d3){return console[_0xcad4e7(0x940)](_0xcad4e7(0x23c),_0x4612d3),{'log':()=>{},'forceLog':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1,'processBatch':()=>{}};}}[_0xd4b2e(0x3c1)](_0x4ecc6a){const _0x31f4e5=_0xd4b2e;this[_0x31f4e5(0x313)]=_0x4ecc6a,this['batchQueue']=[],this[_0x31f4e5(0x9e6)]=this[_0x31f4e5(0x782)](),this[_0x31f4e5(0x80f)]&&(clearTimeout(this[_0x31f4e5(0x80f)]),this[_0x31f4e5(0x80f)]=void 0x0);}['setLoggingConnectors'](_0x3ad0e5){const _0xd9fd9d=_0xd4b2e;this[_0xd9fd9d(0x555)]=_0x3ad0e5;}[_0xd4b2e(0x7cf)](_0x10076b,..._0x1996be){const _0xb2264c=_0xd4b2e;this[_0xb2264c(0x505)]&&this[_0xb2264c(0x22d)](_0x831a2b[_0xb2264c(0x85b)],_0xb2264c(0x559)+_0x10076b,..._0x1996be);}[_0xd4b2e(0x68f)](_0x319233,..._0x23ec31){const _0x4bc1aa=_0xd4b2e;console[_0x4bc1aa(0x22d)](_0x319233,..._0x23ec31),this[_0x4bc1aa(0x555)]&&this[_0x4bc1aa(0x555)]['forEach'](_0x18f3c0=>{const _0x7c7588=_0x4bc1aa;_0x18f3c0['log'](_0x319233,{'vendorId':this[_0x7c7588(0x313)],'nodeId':'','nodeType':'','data':{..._0x23ec31}});});}[_0xd4b2e(0x22d)](_0x4cb4a9,_0x14784c,..._0x1c9a74){const _0x49c1a1=_0xd4b2e;_0x26a0e8[_0x49c1a1(0x623)]||(this[_0x49c1a1(0x2cc)][_0x49c1a1(0x29c)](_0x4cb4a9)&&console[_0x49c1a1(0x22d)](_0x49c1a1(0x671)+_0x4cb4a9+'\x27\x0a',new Date()+'\x0a',_0x14784c,..._0x1c9a74),this[_0x49c1a1(0x555)]&&this[_0x49c1a1(0x555)][_0x49c1a1(0x7d0)](_0x40979a=>{const _0x57dce6=_0x49c1a1;this[_0x57dce6(0xa47)](_0x40979a)&&_0x40979a[_0x57dce6(0x779)]()[_0x57dce6(0x29c)](_0x4cb4a9)&&_0x40979a['log'](_0x14784c,{'vendorId':this[_0x57dce6(0x313)],'nodeId':'','nodeType':'','data':{'channel':_0x4cb4a9,..._0x1c9a74}});}));}[_0xd4b2e(0x3e2)](_0x2296c6,_0x47935b,..._0x329c24){const _0x5a137f=_0xd4b2e;_0x26a0e8[_0x5a137f(0x623)]||(this['enabledChannels'][_0x5a137f(0x29c)](_0x2296c6)&&console['log'](_0x47935b,..._0x329c24),this[_0x5a137f(0x555)]&&this[_0x5a137f(0x555)]['forEach'](_0x382a1e=>{const _0x45ebb1=_0x5a137f;this['isInternalLoggingConnector'](_0x382a1e)&&_0x382a1e[_0x45ebb1(0x779)]()[_0x45ebb1(0x29c)](_0x2296c6)&&_0x382a1e[_0x45ebb1(0x22d)](_0x47935b,{'vendorId':this[_0x45ebb1(0x313)],'nodeId':'','nodeType':'','data':{'channel':_0x2296c6,..._0x329c24}});}));}[_0xd4b2e(0x1b3)](_0x378f19,_0x511d8d){const _0x354291=_0xd4b2e;if(!this['loggingConnectors'])return;const _0x299117={'vendorId':this[_0x354291(0x313)],..._0x511d8d};this[_0x354291(0x555)]['forEach'](_0x4e0b21=>{const _0x16da87=_0x354291;_0x4e0b21[_0x16da87(0x22d)](_0x378f19,_0x299117);});}['logServiceEvent'](_0x2ce22e,_0x1a3506){const _0x3e9aa1=_0xd4b2e;this[_0x3e9aa1(0x6ca)](_0x2ce22e,_0x1a3506),this[_0x3e9aa1(0x21a)]();}[_0xd4b2e(0x344)](_0x2c9fc8,_0x454df3,_0x4ba4c2){const _0x5e1bc8=_0xd4b2e;(0x0,_0x1e7cba['setDoc'])((0x0,_0x1e7cba['doc'])(_0x3a6ba1[_0x5e1bc8(0x848)](),_0x5e1bc8(0x780)+this[_0x5e1bc8(0x313)]+'/'+_0x2c9fc8+'/'+_0x454df3),{'storage':_0x4ba4c2,'timestamp':(0x0,_0x1e7cba['serverTimestamp'])()});}[_0xd4b2e(0x21a)](){const _0x175952=_0xd4b2e;this[_0x175952(0x9e6)]&&(this[_0x175952(0x9e6)][_0x175952(0x806)]+=0x1,this[_0x175952(0x9e6)][_0x175952(0x806)]===this[_0x175952(0x574)]?this[_0x175952(0x932)]():this['batchTimeout']||(this[_0x175952(0x80f)]=this['globalObject'][_0x175952(0x3d8)](()=>this[_0x175952(0x932)](),this[_0x175952(0x497)])));}async[_0xd4b2e(0x932)](){const _0x298289=_0xd4b2e;if(this[_0x298289(0x9e6)]){for(this[_0x298289(0x7b5)][_0x298289(0x55a)](this[_0x298289(0x9e6)]),this[_0x298289(0x9e6)]=this[_0x298289(0x782)]();this[_0x298289(0x7b5)][_0x298289(0x9b4)]>0x0;){const _0x56e280=this['batchQueue'][_0x298289(0x6dd)]();if(!await this[_0x298289(0x46d)](_0x56e280))break;}clearTimeout(this[_0x298289(0x80f)]),this[_0x298289(0x80f)]=void 0x0;}}[_0xd4b2e(0x940)](_0x620544,_0x55bb6f,..._0x316565){const _0x5f431f=_0xd4b2e;if(console[_0x5f431f(0x940)](new Date(),_0x620544,_0x55bb6f,..._0x316565),this['loggingConnectors']){const _0x41b2ad={'vendorId':this[_0x5f431f(0x313)],..._0x55bb6f};this['loggingConnectors'][_0x5f431f(0x7d0)](_0x99e35d=>{const _0x202aa9=_0x5f431f;_0x99e35d[_0x202aa9(0x940)](_0x620544,_0x41b2ad);});}}[_0xd4b2e(0x67c)](_0x50af18,_0x203afa,..._0x23b447){const _0x18c5b1=_0xd4b2e;if(console[_0x18c5b1(0x7ae)](new Date(),_0x50af18,_0x203afa,_0x23b447),this[_0x18c5b1(0x555)]){const _0x4146ea={'vendorId':this['vendorId'],..._0x203afa};this[_0x18c5b1(0x555)][_0x18c5b1(0x7d0)](_0x43651c=>{_0x43651c['warn'](_0x50af18,_0x4146ea);});}}[_0xd4b2e(0x350)](_0xbe7bd1){const _0x506ad2=_0xd4b2e;return this[_0x506ad2(0x2cc)]['includes'](_0xbe7bd1);}async[_0xd4b2e(0x46d)](_0x2062b6,_0x3a21b7=0x0){const _0x2d0583=_0xd4b2e;if(_0x2062b6['counter']>0x0)try{return await _0x2062b6['batch'][_0x2d0583(0xa06)](),!0x0;}catch(_0x476dbe){if(console[_0x2d0583(0x940)](_0x2d0583(0xa76),_0x476dbe,_0x2d0583(0x1ee),_0x2062b6[_0x2d0583(0x93a)]),!(_0x3a21b7<this['retryLimit'])){const {nodeId:_0x2bd9b9='',nodeType:_0xc76959='',clusterId:_0x75d00c=''}=_0x2062b6[_0x2d0583(0x93a)][0x0][_0x2d0583(0x2aa)],_0xd99153={'nodeId':_0x2bd9b9,'nodeType':_0xc76959,'clusterId':_0x75d00c,'data':{'operations':_0x2062b6[_0x2d0583(0x93a)],'error':_0x476dbe}};return this['error']('Failed\x20to\x20commit\x20batch\x20after\x20retries:',_0xd99153),!0x1;}{const _0x138ba2=this[_0x2d0583(0x816)](_0x2062b6[_0x2d0583(0x93a)]);setTimeout(()=>this['commitBatch'](_0x138ba2,_0x3a21b7+0x1),this['retryDelay']*Math[_0x2d0583(0x4f5)](0x2,_0x3a21b7));}}}[_0xd4b2e(0x62e)](){const _0x3a053a=_0xd4b2e;try{Object[_0x3a053a(0x31f)](_0x831a2b)[_0x3a053a(0x7d0)](_0x132fc8=>{const _0xe70880=_0x3a053a,_0x551304=_0x132fc8;localStorage['getItem'](_0xe70880(0x6b2)+_0x831a2b[_0x551304])&&(console[_0xe70880(0x22d)]('LoggingService:\x20logging\x20enabled\x20for',_0x831a2b[_0x551304]),this[_0xe70880(0x2cc)][_0xe70880(0x55a)](_0x831a2b[_0x551304]));});}catch(_0x4b1cf9){}}[_0xd4b2e(0xa47)](_0x422fb6){const _0x4f6729=_0xd4b2e;return void 0x0!==_0x422fb6[_0x4f6729(0x779)];}[_0xd4b2e(0x782)](){const _0x1c6e49=_0xd4b2e;return{'batch':(0x0,_0x1e7cba['writeBatch'])(_0x3a6ba1[_0x1c6e49(0x848)]()),'operations':[],'counter':0x0};}[_0xd4b2e(0x816)](_0x44e151){const _0x18e292=_0xd4b2e,_0x5181d2=(0x0,_0x1e7cba['writeBatch'])(_0x3a6ba1[_0x18e292(0x848)]());return _0x44e151[_0x18e292(0x7d0)](_0x5aadc9=>this[_0x18e292(0x79a)](_0x5181d2,_0x5aadc9)),{'batch':_0x5181d2,'operations':_0x44e151,'counter':_0x44e151['length']};}[_0xd4b2e(0x79a)](_0x5129b3,_0x4b4aec){const _0x4c0718=_0xd4b2e;switch(_0x4b4aec[_0x4c0718(0x747)]){case _0x4c0718(0x991):_0x5129b3[_0x4c0718(0x991)](_0x4b4aec[_0x4c0718(0x425)],_0x4b4aec[_0x4c0718(0x2aa)]);break;case _0x4c0718(0x3bf):_0x5129b3[_0x4c0718(0x3bf)](_0x4b4aec[_0x4c0718(0x425)],_0x4b4aec[_0x4c0718(0x2aa)]);break;case _0x4c0718(0xa2f):_0x5129b3[_0x4c0718(0xa2f)](_0x4b4aec[_0x4c0718(0x425)]);}}[_0xd4b2e(0x6ca)](_0x14920a,_0x30c89d){const _0x505c74=_0xd4b2e;this[_0x505c74(0x9e6)]||(this[_0x505c74(0x9e6)]=this['createNewBatch']());const _0x442f9e=(0x0,_0x1e7cba[_0x505c74(0x9a6)])((0x0,_0x1e7cba[_0x505c74(0x8d1)])(_0x3a6ba1[_0x505c74(0x848)](),'developers/'+this[_0x505c74(0x313)]+_0x505c74(0x8db))),_0x26872e={..._0x30c89d,'service':_0x14920a,'timestamp':(0x0,_0x1e7cba[_0x505c74(0x794)])()},_0x506d47={'type':_0x505c74(0x991),'path':_0x442f9e['path'],'ref':_0x442f9e,'data':_0x26872e};return this[_0x505c74(0x9e6)][_0x505c74(0x93a)][_0x505c74(0x55a)](_0x506d47),this[_0x505c74(0x79a)](this[_0x505c74(0x9e6)]['batch'],_0x506d47),_0x442f9e;}}const _0x98a765=_0x1f7d48[_0xd4b2e(0x1f0)]();function _0x5dea7e(_0x3fa4ab,_0x429fbf){return'/'===_0x3fa4ab?_0x3fa4ab+_0x429fbf:_0x3fa4ab+'/'+_0x429fbf;}function _0x7a860c(_0x35d9cf){const _0x28a25c=_0xd4b2e,_0x37509a=function(_0x3e6d91){const _0x54b8e7=a0_0x2e29;return _0x3e6d91['split']('/')[_0x54b8e7(0x893)](_0x5826b4=>_0x5826b4['length']>0x0);}(_0x35d9cf),_0x482af9=_0x37509a['pop']()||'',_0x2c8b6c=_0x37509a[_0x28a25c(0x85e)]('/');return[0x0===_0x2c8b6c[_0x28a25c(0x9b4)]?'/':_0x2c8b6c,_0x482af9];}async function _0x5e6d79(_0x1a4e2b){const _0x479ed1=_0xd4b2e;let _0x4f9d63;const _0x2ed249=_0x1a4e2b[_0x479ed1(0x882)]/0x100000;_0x4f9d63=_0x2ed249<=0xa?0x1:_0x2ed249<=0x64?0.5:_0x2ed249<=0x1f4?0.1:0.05;const _0x27035d=Math[_0x479ed1(0x77c)](_0x1a4e2b[_0x479ed1(0x882)]/_0x392ca4),_0x3b3031=Math['ceil'](_0x27035d*_0x4f9d63);let _0x294df9=new Uint8Array();for(let _0x2143b8=0x0;_0x2143b8<_0x3b3031;_0x2143b8++){const _0x527b01=Math[_0x479ed1(0x60a)](_0x2143b8/_0x3b3031*_0x1a4e2b[_0x479ed1(0x882)]);let _0xd995e4=_0x527b01+_0x392ca4;_0xd995e4>_0x1a4e2b[_0x479ed1(0x882)]&&(_0xd995e4=_0x1a4e2b[_0x479ed1(0x882)]);const _0x2ee715=_0x1a4e2b[_0x479ed1(0xa43)](_0x527b01,_0xd995e4),_0x219d3c=await _0x2ee715['arrayBuffer'](),_0x87d538=new Uint8Array([..._0x294df9,...new Uint8Array(_0x219d3c)]);_0x294df9=new Uint8Array(await crypto[_0x479ed1(0x6da)][_0x479ed1(0x2cd)](_0x479ed1(0x451),_0x87d538));}return Array['from'](new Uint8Array(_0x294df9))[_0x479ed1(0x7da)](_0x37b01b=>_0x37b01b['toString'](0x10)[_0x479ed1(0x764)](0x2,'0'))[_0x479ed1(0x85e)]('');}async function*_0x13d562(_0x285bc8,_0x58c988=0x0,_0x21f69d){const _0x2da0c2=_0xd4b2e;let _0x3e7e21=_0x58c988*_0x54486b,_0x54239b=_0x285bc8;for(;_0x3e7e21<_0x54239b[_0x2da0c2(0x882)];){let _0x560c92=_0x3e7e21+_0x54486b;_0x560c92>_0x54239b[_0x2da0c2(0x882)]&&(_0x560c92=_0x54239b['size']);let _0x25de9c=0x0;for(;_0x25de9c<0x14;)try{await _0x21f69d?.();const _0x422005=_0x54239b['slice'](_0x3e7e21,_0x560c92,_0x2da0c2(0x171)),_0x240479=await _0x422005[_0x2da0c2(0xa26)]();yield _0x240479,_0x3e7e21=_0x560c92,await new Promise(_0x3a5aca=>setTimeout(_0x3a5aca,0x0));break;}catch(_0x49d51b){if(console[_0x2da0c2(0x940)](_0x2da0c2(0x80a)+(_0x25de9c+0x1)+_0x2da0c2(0x9f5),_0x49d51b),_0x25de9c++,_0x25de9c>0x14)throw _0x49d51b;let _0x3e6f30=0x3e8*Math[_0x2da0c2(0x4f5)](0x2,_0x25de9c);_0x3e6f30>0x7530&&(_0x3e6f30=0x7530),await new Promise(_0x4d706e=>setTimeout(_0x4d706e,_0x3e6f30));}}}class _0x19f40b extends _0x2bbe16{[_0xd4b2e(0x8d2)];[_0xd4b2e(0x35e)];[_0xd4b2e(0x58e)]=new Map();[_0xd4b2e(0x75d)]=0x0;[_0xd4b2e(0x4b5)]=0x0;[_0xd4b2e(0x679)]=0x0;[_0xd4b2e(0x141)]=0x0;constructor(_0x400166,_0xc83626){super(_0x400166,_0xc83626);}['getLabel'](){const _0x3d2288=_0xd4b2e;return this[_0x3d2288(0x39a)];}[_0xd4b2e(0x1c5)](){const _0x34e40c=_0xd4b2e;return this[_0x34e40c(0x39a)];}['getContentType'](){const _0x5cc334=_0xd4b2e;return _0x29f76b[_0x5cc334(0x9b8)][_0x5cc334(0x24a)];}['getInternalStreamId'](){return this['label'];}[_0xd4b2e(0x66f)](_0x3f62b2){const _0x33c349=_0xd4b2e;if(this[_0x33c349(0x8d2)])throw new _0x1cac69(_0x1cac69[_0x33c349(0x15e)][_0x33c349(0x44f)],{'message':'Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20'+this[_0x33c349(0xa7a)]['getId']()+_0x33c349(0x4d9)+this['label'],'topic':this[_0x33c349(0x8d2)]});this[_0x33c349(0x8d2)]=_0x3f62b2;}[_0xd4b2e(0x89e)](_0xddbefd){const _0x7f93f=_0xd4b2e;if(this[_0x7f93f(0x35e)])throw new _0x1cac69(_0x1cac69[_0x7f93f(0x15e)]['InvalidSubscriber'],{'message':_0x7f93f(0x46a)+this['owner'][_0x7f93f(0x2a6)]()+'\x20-\x20'+this['label'],'topic':this[_0x7f93f(0x35e)]});this[_0x7f93f(0x35e)]=_0xddbefd;}[_0xd4b2e(0x29f)](){const _0x51de8d=_0xd4b2e;delete this[_0x51de8d(0x8d2)];}[_0xd4b2e(0x35f)](){const _0x3ad128=_0xd4b2e;delete this[_0x3ad128(0x35e)];}async[_0xd4b2e(0x13b)](_0x12338c,_0x4921b3){const _0x4bcd5d=_0xd4b2e;if(_0x98a765[_0x4bcd5d(0x22d)](_0x831a2b['DataStream'],_0x4bcd5d(0x6af),this[_0x4bcd5d(0xa7a)]['getId'](),_0x12338c,_0x4921b3),this['messagesSent']+=0x1,_0x12338c instanceof File){const _0x369343=await async function(_0xaab7aa){const _0x1a2c33=[];for await(const _0x1f2d11 of _0x13d562(_0xaab7aa))_0x1a2c33['push'](_0x1f2d11);return _0x1a2c33;}(_0x12338c);return this[_0x4bcd5d(0x679)]+=_0x369343[_0x4bcd5d(0x7aa)]((_0xbc6350,_0x226112)=>_0xbc6350+_0x226112[_0x4bcd5d(0x49b)],0x0),void _0x369343[_0x4bcd5d(0x7d0)]((_0xdd1cb8,_0x38adbd)=>{const _0x13e178=_0x4bcd5d;this[_0x13e178(0x8d2)]['publish']({'sourceId':this['owner'][_0x13e178(0x2a6)](),'destinationIds':_0x4921b3,'propagate':!0x0,'contentType':_0x29f76b[_0x13e178(0x9b8)][_0x13e178(0x927)],'content':{'name':_0x12338c[_0x13e178(0x4fc)],'type':_0x12338c[_0x13e178(0x747)],'data':_0xdd1cb8,'index':_0x38adbd,'total':_0x369343[_0x13e178(0x9b4)]}});});}this[_0x4bcd5d(0x679)]+=JSON[_0x4bcd5d(0x1a2)](_0x12338c)[_0x4bcd5d(0x9b4)],this[_0x4bcd5d(0x8d2)][_0x4bcd5d(0x2b2)]({'sourceId':this[_0x4bcd5d(0xa7a)]['getId'](),'destinationIds':_0x4921b3,'propagate':!0x0,'contentType':_0x29f76b['ContentType'][_0x4bcd5d(0x24a)],'content':_0x12338c});}[_0xd4b2e(0x99c)](_0xde0d99){const _0x36c730=_0xd4b2e;return this['incomingTopic'][_0x36c730(0x696)](_0x3bf9d8=>{const _0x14eeb4=_0x36c730;switch(_0x98a765[_0x14eeb4(0x22d)](_0x831a2b[_0x14eeb4(0x87c)],_0x14eeb4(0x7f9),this['owner'][_0x14eeb4(0x2a6)](),_0x3bf9d8),_0x3bf9d8[_0x14eeb4(0x1e8)]){case _0x29f76b[_0x14eeb4(0x9b8)][_0x14eeb4(0x24a)]:this['messagesReceived']+=0x1,this[_0x14eeb4(0x141)]+=JSON['stringify'](_0x3bf9d8[_0x14eeb4(0x580)])[_0x14eeb4(0x9b4)],_0xde0d99(_0x3bf9d8['sourceId'],_0x3bf9d8[_0x14eeb4(0x580)]);break;case _0x29f76b['ContentType'][_0x14eeb4(0x927)]:this['fileChunks'][_0x14eeb4(0x8e9)](_0x3bf9d8[_0x14eeb4(0x580)][_0x14eeb4(0x4fc)])||this[_0x14eeb4(0x58e)]['set'](_0x3bf9d8['content']['name'],{'chunksReceived':0x0,'bytesReceived':0x0,'checksum':'','content':[]});const _0x59025c=this[_0x14eeb4(0x58e)][_0x14eeb4(0x6e6)](_0x3bf9d8[_0x14eeb4(0x580)][_0x14eeb4(0x4fc)]);if(_0x59025c['chunksReceived']+=0x1,_0x59025c[_0x14eeb4(0x141)]+=_0x3bf9d8[_0x14eeb4(0x580)][_0x14eeb4(0x2aa)]['byteLength'],_0x59025c[_0x14eeb4(0x580)]&&(_0x59025c[_0x14eeb4(0x580)][_0x3bf9d8['content']['index']]=_0x3bf9d8[_0x14eeb4(0x580)][_0x14eeb4(0x2aa)]),this[_0x14eeb4(0x58e)]['set'](_0x3bf9d8[_0x14eeb4(0x580)][_0x14eeb4(0x4fc)],_0x59025c),_0x59025c[_0x14eeb4(0xa46)]+0x1<_0x3bf9d8[_0x14eeb4(0x580)]['total'])return;this[_0x14eeb4(0x4b5)]+=0x1,this[_0x14eeb4(0x141)]+=_0x59025c[_0x14eeb4(0x141)],_0x59025c[_0x14eeb4(0x580)]&&_0xde0d99(_0x3bf9d8[_0x14eeb4(0x3e6)],(_0x231fbf=_0x59025c['content'],_0xacd166=_0x3bf9d8[_0x14eeb4(0x580)]['name'],_0xfc4352=_0x3bf9d8['content'][_0x14eeb4(0x747)],new File(_0x231fbf,_0xacd166,{'type':_0xfc4352}))),this[_0x14eeb4(0x58e)][_0x14eeb4(0xa2f)](_0x3bf9d8['content']['name']);}var _0x231fbf,_0xacd166,_0xfc4352;});}}function _0xfb027c(){const _0x253887=_0xd4b2e;let _0x340301=[];return{'subscribe':_0x40bc89=>(_0x340301[_0x253887(0x55a)](_0x40bc89),()=>{const _0x4d6674=_0x253887;_0x340301=_0x340301[_0x4d6674(0x893)](_0x5039ca=>_0x5039ca!==_0x40bc89);}),'publish':_0x51d697=>{_0x340301['forEach'](_0x2b33bd=>_0x2b33bd(_0x51d697));}};}function _0x2884c3(){let _0x427156;return{'subscribe':_0x53a4b7=>(_0x427156=_0x53a4b7,()=>{_0x427156=void 0x0;}),'publish':_0x115fb1=>{_0x427156&&_0x427156(_0x115fb1);}};}class _0x474233{[_0xd4b2e(0x2a4)];['tableName'];[_0xd4b2e(0x744)];[_0xd4b2e(0x644)]=_0x2884c3();['listenerUnsubscriber'];constructor(_0x3e9e54,_0x5052a9,_0xd3f943){const _0x151773=_0xd4b2e;this[_0x151773(0x2a4)]=_0x3e9e54,this[_0x151773(0x6d0)]=_0x5052a9,this[_0x151773(0x744)]=_0xd3f943;}[_0xd4b2e(0x32a)](){this['listenerUnsubscriber']?.();}async['get'](_0x1ad70a){const _0x3dbbd2=_0xd4b2e,_0x335a60={'key':_0x1ad70a,'tableName':this[_0x3dbbd2(0x6d0)],'action':_0x48cc24['Get']};return this['tableObserver'][_0x3dbbd2(0x2b2)](_0x335a60),this[_0x3dbbd2(0x2a4)][_0x3dbbd2(0x6e6)](_0x1ad70a);}async[_0xd4b2e(0x991)](_0x4221a1,_0x1b5138,_0x1a650c=!0x0){const _0x24355a=_0xd4b2e;this['validateValue'](_0x1b5138);const _0x4aaeec=await this[_0x24355a(0x2a4)]['get'](_0x4221a1),_0xc59d89=await this[_0x24355a(0x2a4)][_0x24355a(0x991)](_0x4221a1,_0x1b5138),_0x1d1683=_0x4aaeec?_0x295162[_0x24355a(0x793)]:_0x295162[_0x24355a(0x5c4)];if(this[_0x24355a(0x2b2)](_0x1d1683,_0xc59d89),!_0x1a650c)return _0xc59d89;const _0x418981={'key':_0x4221a1,'tableName':this[_0x24355a(0x6d0)],'action':_0x1d1683,'value':_0xc59d89};return this[_0x24355a(0x744)][_0x24355a(0x2b2)](_0x418981),_0xc59d89;}async[_0xd4b2e(0x4bd)](_0x260353){const _0x5064dd=_0xd4b2e;this[_0x5064dd(0x36d)](_0x260353);const _0x1bf852=await this['connector'][_0x5064dd(0x4bd)](_0x260353),_0x2227ce={'key':_0x1bf852['id'],'tableName':this['tableName'],'action':_0x295162[_0x5064dd(0x5c4)],'value':_0x1bf852};return this['tableObserver']['publish'](_0x2227ce),this['publish'](_0x2227ce[_0x5064dd(0x49f)],_0x1bf852),_0x1bf852;}async[_0xd4b2e(0xa2f)](_0x3388d2,_0x249800=!0x0){const _0x1590e1=_0xd4b2e,_0x219062=await this[_0x1590e1(0x2a4)][_0x1590e1(0x6e6)](_0x3388d2);if(!_0x219062)return;await this['connector'][_0x1590e1(0xa2f)](_0x3388d2);const _0xb886b4=_0x295162[_0x1590e1(0xa4a)];if(this[_0x1590e1(0x2b2)](_0xb886b4,_0x219062),!_0x249800)return;const _0x2ae92a={'key':_0x3388d2,'tableName':this['tableName'],'action':_0xb886b4,'value':_0x219062};this[_0x1590e1(0x744)][_0x1590e1(0x2b2)](_0x2ae92a);}async[_0xd4b2e(0x1b8)](){const _0x1ebbec=_0xd4b2e,_0x8a4916=await this[_0x1ebbec(0x3ad)]();for(const _0x584742 of _0x8a4916){const _0x2fbd27=_0x295162[_0x1ebbec(0xa4a)];this[_0x1ebbec(0x2b2)](_0x2fbd27,_0x584742);const _0x12188f={'key':_0x584742['id'],'tableName':this['tableName'],'action':_0x2fbd27,'value':_0x584742};this[_0x1ebbec(0x744)][_0x1ebbec(0x2b2)](_0x12188f);}return this['connector']['clear']();}async[_0xd4b2e(0x3ad)](_0x2a422d){const _0xbd7496=_0xd4b2e,_0x572d6b={'key':'','tableName':this['tableName'],'action':_0x48cc24[_0xbd7496(0x601)]};this[_0xbd7496(0x744)][_0xbd7496(0x2b2)](_0x572d6b);try{_0x2a422d&&(_0x2a422d=_0x2a422d instanceof _0x42e966?_0x2a422d[_0xbd7496(0x636)]():_0x42e966['buildQuery'](_0x2a422d)[_0xbd7496(0x636)]());}catch(_0x5c1f81){throw new _0x276337(_0x15ca7a[_0xbd7496(0x516)],'Invalid\x20query');}try{return await this['connector']['list'](_0x2a422d);}catch(_0xebfa07){let _0x1910af=_0xbd7496(0x20d);throw _0xebfa07 instanceof Error&&(_0x1910af=_0xebfa07[_0xbd7496(0x2b6)]),new _0x276337(_0x15ca7a[_0xbd7496(0x516)],_0x1910af);}}async[_0xd4b2e(0x925)](_0x5e3c5b){const _0x38a53a=_0xd4b2e,_0x4dac09={'key':'','tableName':this[_0x38a53a(0x6d0)],'action':_0x48cc24['Count']};this[_0x38a53a(0x744)][_0x38a53a(0x2b2)](_0x4dac09);try{_0x5e3c5b&&(_0x5e3c5b=_0x5e3c5b instanceof _0x42e966?_0x5e3c5b['getQuery']():_0x42e966[_0x38a53a(0x4f8)](_0x5e3c5b)[_0x38a53a(0x636)]());}catch(_0x3609b9){throw new _0x276337(_0x15ca7a[_0x38a53a(0x516)],_0x38a53a(0x20d));}try{return await this[_0x38a53a(0x2a4)][_0x38a53a(0x925)](_0x5e3c5b);}catch(_0x17b931){let _0x2291d2='Invalid\x20query';throw _0x17b931 instanceof Error&&(_0x2291d2=_0x17b931[_0x38a53a(0x2b6)]),new _0x276337(_0x15ca7a['KeyValueDatabaseInvalidQuery'],_0x2291d2);}}[_0xd4b2e(0x367)](){const _0x236ea6=_0xd4b2e;return this[_0x236ea6(0x2a4)][_0x236ea6(0x367)]();}[_0xd4b2e(0x696)](_0x27bcb3){const _0x2f3344=_0xd4b2e;this[_0x2f3344(0x5d1)]=this[_0x2f3344(0x644)][_0x2f3344(0x696)](_0x27bcb3);}[_0xd4b2e(0x37a)](){const _0x3f0501=_0xd4b2e;this[_0x3f0501(0x5d1)]?.();}[_0xd4b2e(0x2b2)](_0x29d181,_0x4544ed){const _0x2e9d16=_0xd4b2e,_0x4953b4=this[_0x2e9d16(0x12b)](_0x29d181,_0x4544ed);this[_0x2e9d16(0x644)]['publish'](_0x4953b4);}[_0xd4b2e(0x12b)](_0x3f4550,_0x35be59){const _0x1e07ba=_0xd4b2e;let _0x45f45c;switch(_0x3f4550){case _0x295162[_0x1e07ba(0x5c4)]:_0x45f45c='add';break;case _0x295162[_0x1e07ba(0x793)]:_0x45f45c=_0x1e07ba(0x3bf);break;case _0x295162[_0x1e07ba(0xa4a)]:_0x45f45c=_0x1e07ba(0xa2f);}return{'action':_0x45f45c,'value':_0x35be59};}[_0xd4b2e(0x36d)](_0x125884){const _0x5e803d=_0xd4b2e;if(_0x5e803d(0x890)!=typeof _0x125884||null===_0x125884)throw new _0x276337(_0x15ca7a['KeyValueDatabaseInvalidValue'],_0x5e803d(0x7b9));for(const _0x5c8c1f in _0x125884){const _0x151016=_0x125884[_0x5c8c1f];if(_0x5e803d(0x890)!=typeof _0x151016||_0x151016 instanceof Date){if(![_0x5e803d(0x8e6),_0x5e803d(0x1f7),'boolean'][_0x5e803d(0x29c)](typeof _0x151016))throw new _0x276337(_0x15ca7a[_0x5e803d(0x834)],'Invalid\x20value.\x20Property\x20\x27'+_0x5c8c1f+_0x5e803d(0x413));}else this['validateValue'](_0x151016);}}}class _0x39e63d{['peaks']=[];['totalNodes']=0x0;[_0xd4b2e(0xa00)]=[];['isComputingMMR']=!0x1;[_0xd4b2e(0x1db)]=null;[_0xd4b2e(0x492)]=null;[_0xd4b2e(0x47e)];[_0xd4b2e(0x91b)]=null;[_0xd4b2e(0x31d)]=[];['debounceReadyTimeout'];[_0xd4b2e(0x205)]=Promise[_0xd4b2e(0x223)]();[_0xd4b2e(0x60f)]=0x0;constructor(){}get['ready'](){const _0x5264be=_0xd4b2e;return this[_0x5264be(0x205)];}async[_0xd4b2e(0x151)](_0x1d0b2b,_0x4f5f38=0x0){const _0x25b11a=_0xd4b2e;this['readyResolve']||(this[_0x25b11a(0x205)]=new Promise(_0x3444c8=>{const _0x95d610=_0x25b11a;this[_0x95d610(0x91b)]=_0x3444c8;}),this[_0x25b11a(0x60f)]=_0x4f5f38);const _0x810094=Date['now']();if(this[_0x25b11a(0x281)])return void this[_0x25b11a(0xa00)]['push'](_0x1d0b2b);this[_0x25b11a(0x281)]=!0x0;let _0x46b64f={'hash':await this[_0x25b11a(0x3b2)](_0x1d0b2b),'height':0x0};const _0x18c647=this[_0x25b11a(0x8a8)](_0x46b64f);this['readyPromises'][_0x25b11a(0x55a)](_0x18c647),await _0x18c647,this['totalNodes']+=0x1;const _0x5cab13=this['transactionQueue'][_0x25b11a(0x9b4)];for(;this['transactionQueue']['length']>0x0;){const _0x1cc346=this['transactionQueue']['shift']();await this[_0x25b11a(0x151)](_0x1cc346);}this[_0x25b11a(0x957)](),await this[_0x25b11a(0x79e)],this['debounceAppendLog'](_0x810094,_0x5cab13);}async[_0xd4b2e(0x7b0)](){const _0x5b5910=_0xd4b2e;return await this[_0x5b5910(0x205)],this['isComputingMMR']?(this[_0x5b5910(0x492)]||(this[_0x5b5910(0x492)]=this[_0x5b5910(0x486)]()),await this['rootComputationPromise']):this[_0x5b5910(0x1db)];}['getPeaks'](){const _0x19b3ac=_0xd4b2e;return this[_0x19b3ac(0x553)][_0x19b3ac(0x7da)](({hash:_0x203b1d,height:_0x4fee95})=>({'hash':_0x203b1d,'height':_0x4fee95}));}['getTotalNodes'](){return this['totalNodes'];}[_0xd4b2e(0x3a4)](_0x3fa2ff){const _0x22e804=_0xd4b2e;return this['peaks']['find'](_0x14cd0b=>_0x14cd0b[_0x22e804(0x59e)]===_0x3fa2ff);}async[_0xd4b2e(0x54c)](_0xebebcb,_0x137d84){const _0x3e15cd=_0xd4b2e;return await this[_0x3e15cd(0x9d3)](_0xebebcb+_0x137d84);}async[_0xd4b2e(0x3b2)](_0x116c56){const _0x4f066b=_0xd4b2e;return await this[_0x4f066b(0x9d3)](JSON[_0x4f066b(0x1a2)](_0x116c56));}[_0xd4b2e(0x515)](_0x3da2bb){const _0x51e409=_0xd4b2e,_0x30177d=this['getPeaks'](),_0x1ad0ff=[],_0x278259=[],_0x571781=[];for(const _0x309361 of _0x30177d){const _0x306248=_0x3da2bb[_0x51e409(0x91c)](_0x1dc5c1=>_0x1dc5c1[_0x51e409(0x59e)]===_0x309361['height']);_0x306248?_0x309361[_0x51e409(0x471)]!==_0x306248[_0x51e409(0x471)]&&_0x1ad0ff[_0x51e409(0x55a)]({'height':_0x309361[_0x51e409(0x59e)],'localPeak':_0x309361,'remotePeak':_0x306248}):_0x278259[_0x51e409(0x55a)](_0x309361);}for(const _0x23805c of _0x3da2bb)_0x30177d[_0x51e409(0x91c)](_0x272b98=>_0x272b98[_0x51e409(0x59e)]===_0x23805c[_0x51e409(0x59e)])||_0x571781['push'](_0x23805c);return{'differingPeaks':_0x1ad0ff,'peaksMissingInRemote':_0x278259,'peaksMissingInLocal':_0x571781};}async['recomputeRoot'](){const _0x11ba70=_0xd4b2e;this[_0x11ba70(0x281)]=!0x0;const _0x4a9f94=this['peaks'][_0x11ba70(0x7da)](_0x16c594=>_0x16c594[_0x11ba70(0x471)]);return this[_0x11ba70(0x1db)]=await this[_0x11ba70(0x659)](_0x4a9f94),this['isComputingMMR']=!0x1,this[_0x11ba70(0x492)]=null,this[_0x11ba70(0x957)](),this[_0x11ba70(0x1db)];}async[_0xd4b2e(0x9d3)](_0x457e81){const _0x3386f=_0xd4b2e;try{const _0x575023=new TextEncoder()[_0x3386f(0x3b6)](_0x457e81),_0x4910f5=await crypto['subtle']['digest'](_0x3386f(0x451),_0x575023);return Array[_0x3386f(0x35c)](new Uint8Array(_0x4910f5))['map'](_0x49d4cf=>_0x49d4cf[_0x3386f(0x94e)](0x10)[_0x3386f(0x764)](0x2,'0'))[_0x3386f(0x85e)]('');}catch(_0x4e3744){return console[_0x3386f(0x940)]('Hash\x20computation\x20failed,\x20retrying...',_0x4e3744),this[_0x3386f(0x9d3)](_0x457e81);}}async[_0xd4b2e(0x659)](_0x120976){const _0x3d2c7c=_0xd4b2e;return await this[_0x3d2c7c(0x9d3)](_0x120976['join'](''));}async[_0xd4b2e(0x8a8)](_0x478274){const _0x263d3d=_0xd4b2e;for(;this[_0x263d3d(0x553)]['length']>0x0&&this[_0x263d3d(0x553)][this[_0x263d3d(0x553)][_0x263d3d(0x9b4)]-0x1][_0x263d3d(0x59e)]===_0x478274[_0x263d3d(0x59e)];){const _0x259fe=this[_0x263d3d(0x553)]['pop']();_0x478274={'hash':await this[_0x263d3d(0x54c)](_0x259fe[_0x263d3d(0x471)],_0x478274[_0x263d3d(0x471)]),'left':_0x259fe,'right':_0x478274,'height':_0x478274[_0x263d3d(0x59e)]+0x1};}this[_0x263d3d(0x553)][_0x263d3d(0x55a)](_0x478274),await this[_0x263d3d(0x486)]();}[_0xd4b2e(0x8d3)](_0x24b7a6,_0x524d02){const _0x368cb7=_0xd4b2e;if(!_0x98a765[_0x368cb7(0x350)](_0x831a2b['KeyValueDatabase']))return;this[_0x368cb7(0x47e)]&&clearTimeout(this[_0x368cb7(0x47e)]);const _0x140229=Date[_0x368cb7(0x702)]();this[_0x368cb7(0x47e)]=setTimeout(()=>_0x98a765['log'](_0x831a2b[_0x368cb7(0x329)],'MerkleMountainRange\x20-\x20appendTransaction\x20-\x20Completed.\x20Root:',this[_0x368cb7(0x1db)],_0x368cb7(0x965),this['getTotalNodes'](),'queueLength',_0x524d02,'time',_0x140229-_0x24b7a6),0x7d0);}[_0xd4b2e(0x957)](){const _0x2313c7=_0xd4b2e;this[_0x2313c7(0x92b)]&&clearTimeout(this[_0x2313c7(0x92b)]),this[_0x2313c7(0x92b)]=setTimeout(async()=>{const _0x33b91d=_0x2313c7;try{const _0x4263c5=this[_0x33b91d(0x31d)];if(this[_0x33b91d(0x31d)]=[],await Promise[_0x33b91d(0x60b)](_0x4263c5),this[_0x33b91d(0x60f)]-=_0x4263c5[_0x33b91d(0x9b4)],this['readyPromises'][_0x33b91d(0x9b4)]>0x0||this[_0x33b91d(0x60f)]>0x0)return this['debounceReady']();this['readyResolve']&&(this[_0x33b91d(0x91b)](),this[_0x33b91d(0x91b)]=null),this[_0x33b91d(0x205)]=Promise[_0x33b91d(0x223)](),this[_0x33b91d(0x281)]=!0x1;}catch(_0x1648b4){console[_0x33b91d(0x940)](_0x33b91d(0x63c),_0x1648b4);}},0xa);}}const _0x4b3fdc=['PeerConnection',_0xd4b2e(0x230),_0xd4b2e(0x657),_0xd4b2e(0x67e),_0xd4b2e(0xa34),_0xd4b2e(0x456),_0xd4b2e(0x4c3)],_0x242fe4=[[_0xd4b2e(0x4e1),_0xd4b2e(0xa01),'Handshake',_0xd4b2e(0x39b),_0xd4b2e(0xa6d),'Restart','Disconnect',_0xd4b2e(0xa34),_0xd4b2e(0x452)],[_0xd4b2e(0xa71),_0xd4b2e(0x427),_0xd4b2e(0x8a2),_0xd4b2e(0x8cb)],[_0xd4b2e(0x51f),_0xd4b2e(0x934),_0xd4b2e(0x66e),_0xd4b2e(0xa52),'CloseKeyValueDatabase',_0xd4b2e(0x41b),_0xd4b2e(0x4b0),_0xd4b2e(0x9e7),_0xd4b2e(0x250),'ExternalStorageStats',_0xd4b2e(0x763),'GenerativeAIWorkerStats',_0xd4b2e(0x1b1),'KeyValueDatabaseContentAvailable',_0xd4b2e(0x918),_0xd4b2e(0x646),_0xd4b2e(0x4e0),_0xd4b2e(0x53b),_0xd4b2e(0x609),_0xd4b2e(0x5a1),_0xd4b2e(0x3b4),_0xd4b2e(0x8b2),_0xd4b2e(0x1fe),_0xd4b2e(0x860),_0xd4b2e(0x65c),_0xd4b2e(0x6a5),_0xd4b2e(0x70a),_0xd4b2e(0x208),'UpdateMediaStream',_0xd4b2e(0x4a0)],[_0xd4b2e(0x6a5),'UpdateMediaStream',_0xd4b2e(0x876),_0xd4b2e(0x5c9),'CannotProvideMediaStream',_0xd4b2e(0x612)],[_0xd4b2e(0x9bf),_0xd4b2e(0x639)],[_0xd4b2e(0x3fd)],['Remediation',_0xd4b2e(0x1b4)]];function _0x418af9(_0x3942d3){const _0x22c143=_0xd4b2e;return{..._0x3942d3,'systemMessageType':_0x4b3fdc[_0x3942d3[_0x22c143(0xa63)]],'systemContentMessageType':_0x242fe4[_0x3942d3['messageType']][_0x3942d3[_0x22c143(0x580)][_0x22c143(0x747)]]};}const _0x178f1d={'hour':_0xd4b2e(0x839),'minute':_0xd4b2e(0x839),'second':'2-digit'};function _0x1a3ffa(_0x51b8b2,_0x3ea5c6){const _0x4f7fc1=_0xd4b2e,_0x3d1053=(function(){const _0x2d2018=a0_0x2e29,_0x5b6a60=new Date(),_0x1380bf=_0x5b6a60['getMilliseconds'](),_0x432380=_0x5b6a60[_0x2d2018(0x8e1)](_0x2d2018(0x78b),_0x178f1d)[_0x2d2018(0x716)](/\d\d:\d\d:\d\d/)?.[0x0];return _0x432380+'.'+(_0x1380bf>0x64?''+_0x1380bf:_0x1380bf>0xa?'0'+_0x1380bf:'00'+_0x1380bf);}()),{sourceId:_0x58d166,destinationIds:_0x1433b7,systemMessageType:_0x59b20a,systemContentMessageType:_0x4d0ac6}=_0x418af9(_0x51b8b2);return _0x3d1053+'\x20-\x20'+_0x3ea5c6+_0x4f7fc1(0x4d9)+(_0x58d166===_0x3ea5c6?_0x4f7fc1(0x5bd)+_0x59b20a+'\x27\x20to\x20'+(_0x1433b7?''+_0x1433b7:_0x4f7fc1(0x28a)):_0x51b8b2[_0x4f7fc1(0x3e6)]===_0x596898?'Internal\x20event\x20\x27'+_0x59b20a+'\x27':(_0x1433b7?'':_0x4f7fc1(0x18e))+_0x4f7fc1(0x8c6)+_0x59b20a+'\x27\x20from\x20'+_0x58d166)+_0x4f7fc1(0x5b9)+_0x4d0ac6+_0x4f7fc1(0x773);}function _0x3efdc9(_0x4fe79d,_0x3bb6bf){const _0x37403b=_0xd4b2e;if(!_0x98a765[_0x37403b(0x350)](_0x4fe79d))return;if(_0x26a0e8['isProduction'])return;if(_0x37403b(0x846)==typeof process)return;const _0x4b78bb=process[_0x37403b(0x8bf)]();console[_0x37403b(0x22d)](_0x37403b(0x73f)+_0x3bb6bf+':');for(const _0x50b4d3 in _0x4b78bb)console['log']('\x20\x20'+_0x50b4d3+':\x20'+(_0x4b78bb[_0x50b4d3]/0x400/0x400)[_0x37403b(0x3d0)](0x2)+_0x37403b(0x372));}function _0x35663f(_0x2500b6,_0x2aeb46){const _0x130f7f=_0xd4b2e;if(!_0x98a765['isChannelEnabled'](_0x2aeb46))return _0x98a765[_0x130f7f(0x7cf)](_0x130f7f(0xa5a)+_0x2aeb46),{'timingLogger':{'start':()=>{},'now':()=>0x0,'logWaitTime':()=>{}},'logger':{'log':()=>{},'performCalculation':(_0x658cf9,_0x3558eb)=>_0x3558eb}};let _0x48efc3=0x0;return{'timingLogger':((()=>{const _0x46cf4d=_0x130f7f;let _0x4dd14=Date['now']();return{'start':()=>{const _0x40be50=a0_0x2e29;_0x4dd14=Date[_0x40be50(0x702)]();},'now':()=>Date[_0x46cf4d(0x702)](),'logWaitTime':_0x58fd68=>{const _0x393795=_0x46cf4d;_0x48efc3+=Date[_0x393795(0x702)]()-_0x4dd14,_0x98a765['log'](_0x2aeb46,_0x58fd68,_0x48efc3+'ms',_0x2500b6);}};})()),'logger':{'log':(_0xf96202,_0x55a185=()=>{})=>{const _0x5b5567=_0x130f7f,_0x5bf93f=_0x55a185();_0x5bf93f?_0x98a765[_0x5b5567(0x22d)](_0x2aeb46,_0xf96202,_0x5bf93f,_0x2500b6):_0x98a765[_0x5b5567(0x22d)](_0x2aeb46,_0xf96202,_0x2500b6);},'performCalculation':(_0x483fc6,_0xed3c46)=>_0x483fc6()}};}function _0x4f5ecf(_0x40b858){const _0x1a1c83=_0xd4b2e;return _0x1a1c83(0x846)==typeof Buffer?0x0:Buffer[_0x1a1c83(0x49b)](JSON[_0x1a1c83(0x1a2)](_0x40b858),_0x1a1c83(0x4f3));}function _0x1bd1a8(_0x213f2d){const _0x1ef139=_0xd4b2e;if(0x0===_0x213f2d)return _0x1ef139(0x734);const _0x345d4a=Math[_0x1ef139(0x60a)](Math[_0x1ef139(0x22d)](_0x213f2d)/Math['log'](0x400));return parseFloat((_0x213f2d/Math[_0x1ef139(0x4f5)](0x400,_0x345d4a))[_0x1ef139(0x3d0)](0x2))+'\x20'+['B','KB','MB','GB','TB'][_0x345d4a];}class _0xc90db5 extends _0x19f40b{[_0xd4b2e(0x3ff)];[_0xd4b2e(0x6d7)];['vendorId'];[_0xd4b2e(0x9d5)];['db'];['dbKey'];[_0xd4b2e(0x29b)]=new Map();['tableObserver'];[_0xd4b2e(0x7f4)];[_0xd4b2e(0x8c7)];['isSync'];[_0xd4b2e(0x1e5)];[_0xd4b2e(0x900)]=[];['timeoutCallback']=()=>{};[_0xd4b2e(0x428)];['eventListener']=_0x2884c3();[_0xd4b2e(0x5d1)];[_0xd4b2e(0x9f3)]=[];['layout'];[_0xd4b2e(0x8ed)];[_0xd4b2e(0x7f3)]=0x0;[_0xd4b2e(0x69e)]=0x0;['contentRequestSent']=!0x1;[_0xd4b2e(0x688)]=new _0x39e63d();[_0xd4b2e(0x6f2)]=new Map();[_0xd4b2e(0x28c)]=[];[_0xd4b2e(0x776)];[_0xd4b2e(0x8c9)]=[];[_0xd4b2e(0x465)];constructor(_0x502c93,_0x30727e,_0x4b11f4,_0x366a19,_0x3723a3,_0x3795c5,_0x585eb1){const _0x2988d3=_0xd4b2e;if(_0x2988d3(0x8e6)!=typeof _0x30727e)throw new _0x276337(_0x15ca7a[_0x2988d3(0x32d)],_0x2988d3(0x189));if(super(_0x502c93,_0x30727e),this[_0x2988d3(0x3ff)]=_0x502c93,this[_0x2988d3(0x6d7)]=_0x4b11f4,this[_0x2988d3(0x313)]=_0x366a19,this[_0x2988d3(0x9d5)]=_0x585eb1,this['dbKey']='ccc'+this[_0x2988d3(0x313)]+_0x2988d3(0x2c8)+this['clusterId']+'ccc'+this[_0x2988d3(0x39a)],this[_0x2988d3(0x744)]=_0x2884c3(),this['loggingCycle']=function(_0x7a0200,_0x246d93){const _0x26662e=_0x2988d3;if(!_0x98a765[_0x26662e(0x350)](_0x246d93))return _0x98a765[_0x26662e(0x7cf)](_0x26662e(0xa5a)+_0x246d93),{..._0x35663f(_0x7a0200,_0x246d93),'logDataSent':()=>0x0,'logDataReceived':()=>0x0,'getDataLogged':()=>({'dataSent':_0x26662e(0x734),'dataReceived':_0x26662e(0x734)})};const {timingLogger:_0x22df33,logger:_0x2313d4}=_0x35663f(_0x7a0200,_0x246d93);let _0x2afae7=0x0,_0x41f523=0x0;return{'timingLogger':_0x22df33,'logger':_0x2313d4,'logDataSent':(_0x4118f0,_0x2d603d=!0x1)=>{const _0x3f1f5d=_0x26662e,_0x576be5=_0x4f5ecf(_0x4118f0);return _0x2d603d&&_0x98a765[_0x3f1f5d(0x22d)](_0x246d93,_0x3f1f5d(0x6d8),_0x7a0200,_0x576be5),_0x2afae7+=_0x576be5,_0x576be5;},'logDataReceived':(_0x275ce9,_0x138817=!0x1)=>{const _0x13f99b=_0x26662e,_0x55ab34=_0x4f5ecf(_0x275ce9);return _0x138817&&_0x98a765[_0x13f99b(0x22d)](_0x246d93,_0x13f99b(0x18b),_0x7a0200,_0x55ab34),_0x41f523+=_0x55ab34,_0x55ab34;},'getDataLogged':()=>({'dataSent':_0x1bd1a8(_0x2afae7),'dataReceived':_0x1bd1a8(_0x41f523)})};}(this[_0x2988d3(0x39a)],_0x831a2b[_0x2988d3(0x329)]),this[_0x2988d3(0x1da)]=new Promise(_0x2bff07=>{const _0x502966=_0x2988d3;this[_0x502966(0x1e5)]=_0x2bff07;}),_0x3723a3 instanceof _0x291f73)this[_0x2988d3(0x95d)]=_0x3723a3['getLayout']();else{const [_0x19a63e,_0x431f2c]=_0x291f73['validateLayout'](_0x3723a3);if(!_0x19a63e)throw new _0x276337(_0x15ca7a[_0x2988d3(0x6f6)],_0x2988d3(0xa69)+_0x431f2c);this[_0x2988d3(0x95d)]=structuredClone(_0x3723a3);}this[_0x2988d3(0x32e)](this[_0x2988d3(0x95d)]),this['db']=new _0x3795c5(this[_0x2988d3(0x6b8)],this[_0x2988d3(0x95d)]),this[_0x2988d3(0x53c)]();}async[_0xd4b2e(0x19d)](_0x20c3b9,_0x17d29f){const _0x5e9fce=_0xd4b2e;if(_0x98a765[_0x5e9fce(0x22d)](_0x831a2b[_0x5e9fce(0x329)],'Received\x20sync\x20required.\x20Database\x20available:\x20Checking\x20synchronization',this[_0x5e9fce(0x39a)]),!this[_0x5e9fce(0x7f4)])throw new _0x1cac69(_0x1cac69[_0x5e9fce(0x15e)][_0x5e9fce(0x6d3)]);if(await this[_0x5e9fce(0x1da)],await this[_0x5e9fce(0x9d5)](_0x20c3b9),await this[_0x5e9fce(0x688)][_0x5e9fce(0x7b0)]()===_0x17d29f){const _0x319b39={'sourceId':this[_0x5e9fce(0x3ff)][_0x5e9fce(0x2a6)](),'destinationIds':[_0x20c3b9],'propagate':!0x0,'messageType':_0x49e311[_0x5e9fce(0x657)],'content':{'type':_0x2b2ef9['KeyValueDatabaseContentSynchronized'],'label':this[_0x5e9fce(0x39a)],'mmrRoot':_0x17d29f}};return this[_0x5e9fce(0x465)]['logDataSent'](_0x319b39),void this[_0x5e9fce(0x598)][_0x5e9fce(0x2b2)](_0x319b39);}const _0x1dd359=this[_0x5e9fce(0x688)][_0x5e9fce(0x4d4)](),_0x4a58f5={'sourceId':this[_0x5e9fce(0x3ff)][_0x5e9fce(0x2a6)](),'destinationIds':[_0x20c3b9],'propagate':!0x0,'messageType':_0x49e311[_0x5e9fce(0x657)],'content':{'type':_0x2b2ef9[_0x5e9fce(0x5c1)],'label':this[_0x5e9fce(0x39a)],'peaks':_0x1dd359}};this[_0x5e9fce(0x465)][_0x5e9fce(0x323)](_0x4a58f5),this[_0x5e9fce(0x598)][_0x5e9fce(0x2b2)](_0x4a58f5);}async[_0xd4b2e(0x9d8)](_0xdc8b37,_0x56e2ee){const _0x54c141=_0xd4b2e,_0xc77ff7=await this[_0x54c141(0x688)][_0x54c141(0x7b0)](),_0x51bf5f=_0xc77ff7===_0x56e2ee;if(_0x98a765['log'](_0x831a2b['KeyValueDatabase'],'Received\x20ContentSynchronized\x20from\x20'+_0xdc8b37+'.\x20Confirmation?\x20'+_0x51bf5f,this[_0x54c141(0x39a)]),_0x51bf5f)return this[_0x54c141(0x14a)](),void this[_0x54c141(0x9c3)]();_0x98a765[_0x54c141(0x22d)](_0x831a2b[_0x54c141(0x329)],_0x54c141(0x967),_0xc77ff7,_0x56e2ee),_0x98a765['warning'](_0x54c141(0x967),{'nodeId':this['localNode']['getId'](),'nodeType':this['localNode']['type'],'remoteId':_0xdc8b37,'data':{'localMMRRoot':_0xc77ff7,'remoteMMRRoot':_0x56e2ee}});const _0x3e2f7b={'sourceId':this[_0x54c141(0x3ff)][_0x54c141(0x2a6)](),'messageType':_0x49e311[_0x54c141(0x657)],'propagate':!0x0,'content':{'type':_0x2b2ef9['KeyValueDatabaseSyncRequired'],'label':this[_0x54c141(0x39a)],'mmrRoot':_0xc77ff7}};this[_0x54c141(0x598)]['publish'](_0x3e2f7b);}async['processContentAvailable'](_0x23baf0,_0x2ead6b){const _0x23bc55=_0xd4b2e;if(_0x98a765['log'](_0x831a2b[_0x23bc55(0x329)],'Received\x20content\x20available\x20from\x20node',_0x23baf0,_0x23bc55(0x39a),this[_0x23bc55(0x39a)],'peaks',_0x2ead6b),this[_0x23bc55(0x131)])return;this[_0x23bc55(0x131)]=!0x0,this['clearSyncTimeout']();const {differingPeaks:_0x18e836,peaksMissingInLocal:_0x237928,peaksMissingInRemote:_0x4584b8}=this[_0x23bc55(0x688)][_0x23bc55(0x515)](_0x2ead6b);_0x98a765[_0x23bc55(0x22d)](_0x831a2b['KeyValueDatabase'],_0x23bc55(0x57b),{'differingPeaks':_0x18e836,'peaksMissingInLocal':_0x237928,'peaksMissingInRemote':_0x4584b8});const _0x3523bf={'sourceId':this[_0x23bc55(0x3ff)][_0x23bc55(0x2a6)](),'destinationIds':[_0x23baf0],'propagate':!0x0,'messageType':_0x49e311[_0x23bc55(0x657)],'content':{'type':_0x2b2ef9[_0x23bc55(0x646)],'label':this[_0x23bc55(0x39a)],'peakHeights':_0x237928['map'](_0x44d09c=>_0x44d09c[_0x23bc55(0x59e)])[_0x23bc55(0x193)](_0x18e836['map'](_0x59f41c=>_0x59f41c[_0x23bc55(0x59e)]))}};if(this[_0x23bc55(0x598)][_0x23bc55(0x2b2)](_0x3523bf),_0x18e836[_0x23bc55(0x9b4)]>0x0||_0x4584b8[_0x23bc55(0x9b4)]>0x0){const _0x17d770=_0x4584b8['map'](_0x1546f5=>_0x1546f5['height'])['concat'](_0x18e836[_0x23bc55(0x7da)](_0x3be1e4=>_0x3be1e4['height']));await this[_0x23bc55(0x77d)](_0x23baf0,_0x17d770,!0x0);}}async['sendPeakTransactions'](_0x40d20d,_0x32226c,_0x4b8276=!0x1){const _0x59d57b=_0xd4b2e;_0x98a765[_0x59d57b(0x22d)](_0x831a2b[_0x59d57b(0x329)],_0x59d57b(0x618),this[_0x59d57b(0x39a)]);const _0x3b8614=_0x32226c[_0x59d57b(0x7da)](_0x5f2563=>this[_0x59d57b(0x688)][_0x59d57b(0x3a4)](_0x5f2563))[_0x59d57b(0x893)](Boolean);if(!_0x3b8614['length']||_0x32226c[_0x59d57b(0x9b4)]!==_0x3b8614[_0x59d57b(0x9b4)])throw new _0x1cac69(_0x1cac69['codes']['KeyValueDatabasePeakNotFound'],{'message':_0x59d57b(0x59f),'peakHeights':_0x32226c,'peaks':_0x3b8614['map'](_0x2fd6a5=>_0x2fd6a5[_0x59d57b(0x59e)]),'nodeId':_0x40d20d});const _0x21601e=[];for(const _0x23464c of _0x3b8614)this[_0x59d57b(0x648)](_0x23464c,_0x21601e);const _0x4307b4=_0x4b8276?void 0x0:[_0x40d20d],_0x4492ee={'sourceId':this[_0x59d57b(0x3ff)][_0x59d57b(0x2a6)](),'destinationIds':_0x4307b4,'messageType':_0x49e311[_0x59d57b(0x657)],'propagate':!0x0,'content':{'type':_0x2b2ef9['KeyValueDatabaseSendTransactions'],'label':this[_0x59d57b(0x39a)],'transactions':_0x21601e}};this['loggingCycle'][_0x59d57b(0x323)](_0x4492ee),this[_0x59d57b(0x598)][_0x59d57b(0x2b2)](_0x4492ee);}async[_0xd4b2e(0x2c3)](_0x580497,_0x3a6302){const _0x5d0272=_0xd4b2e;_0x98a765[_0x5d0272(0x22d)](_0x831a2b[_0x5d0272(0x329)],_0x5d0272(0x949)+_0x3a6302[_0x5d0272(0x9b4)]+_0x5d0272(0x3b1)+_0x580497+'\x20-\x20'+this[_0x5d0272(0x39a)]);for(const _0x5ef79c of _0x3a6302){const _0x103976=await this[_0x5d0272(0x7f4)][_0x5d0272(0x6e6)](_0x5ef79c['id']);if(!(_0x103976&&this[_0x5d0272(0x77b)](_0x103976,_0x5ef79c)>=0x0)){if(_0x5ef79c['action']===_0x295162[_0x5d0272(0xa4a)]){const [_0x4853bb,_0x2711ff]=_0x5ef79c['id']['split']('::'),_0x31fbc2=this[_0x5d0272(0x6a7)](_0x4853bb);await _0x31fbc2['delete'](_0x2711ff);}else this['transactionsToSync']['push'](_0x5ef79c['id']);}}if(_0x98a765['log'](_0x831a2b['KeyValueDatabase'],_0x5d0272(0x603)+this['transactionsToSync'][_0x5d0272(0x9b4)]+_0x5d0272(0x5e1),this[_0x5d0272(0x39a)]),this[_0x5d0272(0x900)][_0x5d0272(0x9b4)]>0x0){const _0x167800={'sourceId':this[_0x5d0272(0x3ff)]['getId'](),'destinationIds':[_0x580497],'messageType':_0x49e311['Content'],'propagate':!0x0,'content':{'type':_0x2b2ef9[_0x5d0272(0x4e0)],'label':this[_0x5d0272(0x39a)],'transactionIds':this[_0x5d0272(0x900)]}};this[_0x5d0272(0x465)][_0x5d0272(0x323)](_0x167800),this[_0x5d0272(0x598)]['publish'](_0x167800);}}['reset'](){const _0x521c21=_0xd4b2e;this[_0x521c21(0x53c)]();}[_0xd4b2e(0x161)](){const _0x4670df=_0xd4b2e;return _0x29f76b[_0x4670df(0x9b8)][_0x4670df(0x329)];}[_0xd4b2e(0x32a)](){const _0x136f1c=_0xd4b2e;this['db'][_0x136f1c(0x27e)](),this['tableUnsubscriber']?.(),clearTimeout(this[_0x136f1c(0x8ed)]),delete this[_0x136f1c(0x8ed)],super['destroy']();}[_0xd4b2e(0x27e)](){const _0x1bc92a=_0xd4b2e;this[_0x1bc92a(0x14a)](),this['systemTopic'][_0x1bc92a(0x2b2)]({'sourceId':_0x596898,'messageType':_0x49e311[_0x1bc92a(0x657)],'content':{'type':_0x2b2ef9[_0x1bc92a(0x3f1)],'label':this['label']}});}['getTable'](_0x196b42){const _0x710566=_0xd4b2e,_0x14d721=this[_0x710566(0x29b)][_0x710566(0x6e6)](_0x196b42);if(_0x14d721)return _0x14d721;try{if(!this['db'][_0x710566(0x94d)](_0x196b42))throw new _0x276337(_0x15ca7a['KeyValueDatabaseTableNotFound'],'Table\x20not\x20found');const _0x28bcc8=new _0x474233(this['db'][_0x710566(0x1d0)](_0x196b42),_0x196b42,this[_0x710566(0x744)]);return this[_0x710566(0x29b)][_0x710566(0x991)](_0x196b42,_0x28bcc8),{'get':_0x28bcc8[_0x710566(0x6e6)][_0x710566(0x536)](_0x28bcc8),'set':_0x28bcc8[_0x710566(0x991)][_0x710566(0x536)](_0x28bcc8),'add':_0x28bcc8[_0x710566(0x4bd)][_0x710566(0x536)](_0x28bcc8),'delete':_0x28bcc8['delete'][_0x710566(0x536)](_0x28bcc8),'clear':_0x28bcc8[_0x710566(0x1b8)][_0x710566(0x536)](_0x28bcc8),'list':_0x28bcc8[_0x710566(0x3ad)][_0x710566(0x536)](_0x28bcc8),'count':_0x28bcc8[_0x710566(0x925)][_0x710566(0x536)](_0x28bcc8),'subscribe':_0x28bcc8[_0x710566(0x696)]['bind'](_0x28bcc8),'unsubscribe':_0x28bcc8[_0x710566(0x37a)][_0x710566(0x536)](_0x28bcc8)};}catch(_0x528995){if(_0x528995 instanceof _0x276337)throw _0x528995;throw new _0x276337(_0x15ca7a[_0x710566(0x2b1)],_0x710566(0x4d8));}}['subscribe'](_0xc0178){const _0x26003e=_0xd4b2e;this[_0x26003e(0x5d1)]=this[_0x26003e(0x644)]['subscribe'](_0xc0178),this[_0x26003e(0x956)](this[_0x26003e(0x1da)])['then'](_0x204f63=>{const _0x5975d3=_0x26003e;_0x204f63&&this[_0x5975d3(0x644)][_0x5975d3(0x2b2)]({'event':_0x29f76b['DatabaseEvent'][_0x5975d3(0x5d9)]});});}[_0xd4b2e(0x37a)](){const _0x465449=_0xd4b2e;this[_0x465449(0x5d1)]?.(),this['listenerUnsubscriber']=void 0x0;}async['open'](){const _0x1c4435=_0xd4b2e;_0x3efdc9(_0x831a2b['KeyValueDatabase'],_0x1c4435(0x625));const _0xf275e8=[_0x268d12,_0x428d87],_0x1e3f5f=[];try{await this['db'][_0x1c4435(0x917)]();const _0x445c22=this['db']['getTableConnector'](_0x428d87),_0x1d6c1b=await _0x445c22[_0x1c4435(0x3ad)](),{id:_0x23f55f,layout:_0x5c19d9}=_0x1d6c1b[0x0]??{};if(_0x5c19d9){for(const _0x273870 in _0x5c19d9)_0xf275e8[_0x1c4435(0x29c)](_0x273870)||this['db'][_0x1c4435(0x94d)](_0x273870)||_0x1e3f5f[_0x1c4435(0x55a)](_0x273870);await _0x445c22[_0x1c4435(0x991)](_0x23f55f,{'layout':this['layout']});}else await _0x445c22['add']({'layout':this[_0x1c4435(0x95d)]});}catch(_0x5a92fb){throw new _0x276337(_0x15ca7a[_0x1c4435(0x2b1)],_0x5a92fb[_0x1c4435(0x2b6)]||_0x1c4435(0x792));}this[_0x1c4435(0x622)](),await this['buildInitialMMR'](),this[_0x1c4435(0x689)](),this[_0x1c4435(0x59c)](),_0x1e3f5f[_0x1c4435(0x7d0)](_0x3de177=>this[_0x1c4435(0x225)](_0x3de177));}async[_0xd4b2e(0x365)](_0x2d9d9d,_0x118b6a=()=>{},_0x5c7537=!0x1){const _0x18c8b0=_0xd4b2e;if(!_0x2d9d9d)return setTimeout(()=>{const _0x1d2c50=a0_0x2e29;this[_0x1d2c50(0x14a)](),this[_0x1d2c50(0x9c3)]();},0x0),!0x0;if(this['contentRequestSent']=!0x1,this['timeoutCallback']=_0x118b6a,this[_0x18c8b0(0x428)]=setTimeout(_0x118b6a,0x7d0),!this[_0x18c8b0(0x598)])throw new _0x1cac69(_0x1cac69[_0x18c8b0(0x15e)][_0x18c8b0(0x4d1)]);const _0x424558=await this[_0x18c8b0(0x688)][_0x18c8b0(0x7b0)](),_0x203209={'sourceId':this[_0x18c8b0(0x3ff)]['getId'](),'messageType':_0x49e311[_0x18c8b0(0x657)],'propagate':_0x5c7537,'content':{'type':_0x2b2ef9[_0x18c8b0(0x5a1)],'label':this[_0x18c8b0(0x39a)],'mmrRoot':_0x424558}};return this['loggingCycle']['logDataSent'](_0x203209),this[_0x18c8b0(0x598)]['publish'](_0x203209),this['isSync'];}async[_0xd4b2e(0x36c)](_0xfcb172,_0xa800a5){const _0x40b69e=_0xd4b2e;if(_0x98a765['log'](_0x831a2b[_0x40b69e(0x329)],_0x40b69e(0x9ae)+_0xa800a5[_0x40b69e(0x9b4)],this['label']),!this[_0x40b69e(0x7f4)])throw new _0x1cac69(_0x1cac69[_0x40b69e(0x15e)][_0x40b69e(0x6d3)]);for(const _0x49de1a of _0xa800a5){const _0x16f37a=await this[_0x40b69e(0x7f4)][_0x40b69e(0x6e6)](_0x49de1a);if(!_0x16f37a)continue;const [_0x28eba1,_0x297915]=_0x49de1a['split']('::'),_0x558b81=this[_0x40b69e(0x6a7)](_0x28eba1),_0x26ffef=await _0x558b81[_0x40b69e(0x6e6)](_0x297915);_0x26ffef?(_0x16f37a[_0x40b69e(0x97c)]=_0x26ffef,this['send'](_0x16f37a,[_0xfcb172])):_0x98a765[_0x40b69e(0x67c)](_0x40b69e(0x54e),{'nodeId':this[_0x40b69e(0x3ff)]['getId'](),'nodeType':this['localNode'][_0x40b69e(0x747)],'remoteId':_0xfcb172,'data':{'tableKeys':Object[_0x40b69e(0x31f)](this[_0x40b69e(0x29b)]),'transactionId':_0x49de1a,'transactions':this[_0x40b69e(0x900)],'tableName':_0x28eba1,'key':_0x297915}});}}async[_0xd4b2e(0x30a)](_0x30cfd7){const _0x2e2c4f=_0xd4b2e;if(!this[_0x2e2c4f(0x7f4)])throw new _0x1cac69(_0x1cac69[_0x2e2c4f(0x15e)][_0x2e2c4f(0x6d3)]);const _0x558247=await this[_0x2e2c4f(0x688)][_0x2e2c4f(0x3b2)](_0x30cfd7),_0x324362=this[_0x2e2c4f(0x6f2)][_0x2e2c4f(0x6e6)](_0x558247);if(_0x324362&&this[_0x2e2c4f(0x77b)](_0x30cfd7,_0x324362)<=0x0)return void _0x98a765['log'](_0x831a2b[_0x2e2c4f(0x329)],'writeTransaction\x20-\x20transaction\x20already\x20exists',_0x30cfd7);const _0x480f5f={..._0x30cfd7};return delete _0x480f5f['value'],this[_0x2e2c4f(0x4b2)](_0x480f5f),await this[_0x2e2c4f(0x7f4)]['set'](_0x30cfd7['id'],_0x480f5f),_0x30cfd7;}[_0xd4b2e(0x77b)](_0x3cce57,_0x490cce){const _0x551562=_0xd4b2e;return _0x3cce57[_0x551562(0x9d7)]!==_0x490cce['timestamp']?_0x3cce57['timestamp']-_0x490cce[_0x551562(0x9d7)]:_0x3cce57[_0x551562(0x159)]-_0x490cce[_0x551562(0x159)];}async[_0xd4b2e(0x185)](_0x2a659f){const _0x25f03e=_0xd4b2e;if(!this[_0x25f03e(0x7f4)])throw new _0x1cac69(_0x1cac69['codes'][_0x25f03e(0x6d3)]);const _0x2c93ff=_0x2a659f[_0x25f03e(0x6d0)]+'::'+_0x2a659f['key'],_0x4bb2d7=await _0x3a6ba1[_0x25f03e(0x8ff)](),_0x459fd3={'id':_0x2c93ff,'priority':Math[_0x25f03e(0x575)](),'timestamp':_0x4bb2d7,'action':_0x2a659f[_0x25f03e(0x49f)]};if(await this[_0x25f03e(0x30a)](_0x459fd3))return _0x459fd3;}async['deleteTransactionsForTable'](_0x467112){const _0x537b12=_0xd4b2e;if(!this[_0x537b12(0x7f4)])throw new _0x1cac69(_0x1cac69['codes'][_0x537b12(0x6d3)]);const _0x426795=_0x42e966[_0x537b12(0x5a0)]('id')[_0x537b12(0x4b7)]('between',[_0x467112+'::',_0x467112+_0x537b12(0x650)]),_0x3b121=await this['transactionTable'][_0x537b12(0x3ad)](_0x426795[_0x537b12(0x636)]());for(const _0x48ca04 of _0x3b121)await this[_0x537b12(0x7f4)][_0x537b12(0xa2f)](_0x48ca04['id']);}['setOnMessageHandler'](){const _0x4b514b=_0xd4b2e;this[_0x4b514b(0x99c)](async(_0x204ac2,_0x303e14)=>{const _0xc18b6d=_0x4b514b;if(_0x303e14 instanceof File)return;if(this[_0xc18b6d(0x465)][_0xc18b6d(0xa18)](_0x303e14),!await this['writeTransaction'](_0x303e14))return void this[_0xc18b6d(0x43f)](_0x204ac2,_0x303e14);if(!_0x303e14['value'])throw new _0x1cac69(_0x1cac69[_0xc18b6d(0x15e)][_0xc18b6d(0x6c7)]);const [_0x560c59,_0x13c70b]=_0x303e14['id'][_0xc18b6d(0x488)]('::'),_0x294360=this[_0xc18b6d(0x6a7)](_0x560c59);if(!_0x294360)throw new _0x1cac69(_0x1cac69['codes'][_0xc18b6d(0x2a1)],{'table':_0x294360});let _0x32de51=0x0;switch(_0x303e14[_0xc18b6d(0x49f)]){case _0x295162[_0xc18b6d(0x5c4)]:case _0x295162[_0xc18b6d(0x793)]:{const _0x4f3530=_0x294360[_0xc18b6d(0x991)](_0x13c70b,_0x303e14[_0xc18b6d(0x97c)],!0x1);_0x32de51=JSON[_0xc18b6d(0x1a2)](_0x303e14[_0xc18b6d(0x97c)])[_0xc18b6d(0x9b4)],this[_0xc18b6d(0x900)][_0xc18b6d(0x29c)](_0x303e14['id'])&&this[_0xc18b6d(0x9f3)][_0xc18b6d(0x55a)](_0x4f3530);break;}case _0x295162[_0xc18b6d(0xa4a)]:{const _0x3338d2=_0x294360[_0xc18b6d(0xa2f)](_0x13c70b,!0x1);this['transactionsToSync'][_0xc18b6d(0x29c)](_0x303e14['id'])&&this['syncTransactionsWritten'][_0xc18b6d(0x55a)](_0x3338d2);break;}}_0x98a765[_0xc18b6d(0x256)](_0xdcad61[_0xc18b6d(0x329)],{'type':_0xc18b6d(0x365),'label':this[_0xc18b6d(0x39a)],'nodeId':this[_0xc18b6d(0x3ff)][_0xc18b6d(0x2a6)](),'nodeType':this[_0xc18b6d(0x3ff)]['type'],'clusterId':this[_0xc18b6d(0x6d7)],'tableName':_0x560c59,'key':_0x13c70b,'size':_0x32de51}),this['checkSyncComplete'](_0x204ac2,_0x303e14);});}['setOnTableWriteHandler'](){const _0x2d9bb2=_0xd4b2e;this[_0x2d9bb2(0x8c7)]=this[_0x2d9bb2(0x744)][_0x2d9bb2(0x696)](async _0x4af2e0=>{const _0x1aa6c8=_0x2d9bb2;let _0x3ae148=0x0;switch(_0x4af2e0[_0x1aa6c8(0x49f)]){case _0x295162[_0x1aa6c8(0x5c4)]:case _0x295162[_0x1aa6c8(0x793)]:case _0x295162[_0x1aa6c8(0xa4a)]:{const _0xe7bc6d=await this[_0x1aa6c8(0x185)](_0x4af2e0);if(!_0xe7bc6d)return;_0xe7bc6d[_0x1aa6c8(0x97c)]=_0x4af2e0[_0x1aa6c8(0x97c)],this['send'](_0xe7bc6d),_0x3ae148=JSON[_0x1aa6c8(0x1a2)](_0x4af2e0['value'])[_0x1aa6c8(0x9b4)],this[_0x1aa6c8(0x7f3)]+=0x1;break;}case _0x48cc24['Get']:case _0x48cc24[_0x1aa6c8(0x601)]:case _0x48cc24[_0x1aa6c8(0x3d3)]:this[_0x1aa6c8(0x69e)]+=0x1;}_0x98a765[_0x1aa6c8(0x256)](_0xdcad61[_0x1aa6c8(0x329)],{'type':_0x4af2e0[_0x1aa6c8(0x49f)],'label':this['label'],'nodeId':this[_0x1aa6c8(0x3ff)][_0x1aa6c8(0x2a6)](),'nodeType':this[_0x1aa6c8(0x3ff)][_0x1aa6c8(0x747)],'clusterId':this['clusterId'],'tableName':_0x4af2e0['tableName'],'key':_0x4af2e0['key'],'size':_0x3ae148}),this['sendStats']();});}['instantiateTransactionTable'](){const _0x120d9f=_0xd4b2e;this['db']&&(this[_0x120d9f(0x7f4)]||(this[_0x120d9f(0x7f4)]=this['db'][_0x120d9f(0x1d0)](_0x268d12)));}[_0xd4b2e(0x14a)](){const _0x18aade=_0xd4b2e;this[_0x18aade(0x428)]&&(clearTimeout(this['syncTimeout']),delete this[_0x18aade(0x428)]);}async[_0xd4b2e(0x9c3)](){const _0xe11edf=_0xd4b2e;await this[_0xe11edf(0x688)][_0xe11edf(0x79e)],this[_0xe11edf(0x6e4)](),this[_0xe11edf(0x644)][_0xe11edf(0x2b2)]({'event':_0x29f76b[_0xe11edf(0x8ba)][_0xe11edf(0x5d9)]}),this['syncResolve']?.(!0x0),delete this[_0xe11edf(0x1e5)],this['sendStats'](),_0x98a765[_0xe11edf(0x22d)](_0x831a2b[_0xe11edf(0x329)],_0xe11edf(0x790),this[_0xe11edf(0x39a)]);}async[_0xd4b2e(0x589)](_0x15f8e9){const _0x400db5=_0xd4b2e;await Promise['all'](this['syncTransactionsWritten']),_0x98a765[_0x400db5(0x22d)](_0x831a2b[_0x400db5(0x329)],_0x400db5(0x203)+this[_0x400db5(0x9f3)]['length']+_0x400db5(0x42f)+_0x15f8e9+_0x400db5(0x1d9),this[_0x400db5(0x39a)]),await this['mmr'][_0x400db5(0x79e)],await this['confirmSynchronization'](_0x15f8e9),await this[_0x400db5(0x9c3)]();}[_0xd4b2e(0x43f)](_0x1f9b59,_0x56084d){const _0x4febb2=_0xd4b2e;this[_0x4febb2(0x900)][_0x4febb2(0x29c)](_0x56084d['id'])&&(this[_0x4febb2(0x14a)](),this[_0x4febb2(0x900)]=this[_0x4febb2(0x900)][_0x4febb2(0x893)](_0x5f55cc=>_0x5f55cc!==_0x56084d['id']),0x0!==this[_0x4febb2(0x900)]['length']?this[_0x4febb2(0x428)]=setTimeout(this['timeoutCallback'],0x7d0):this[_0x4febb2(0x589)](_0x1f9b59));}['sendStats'](){const _0x1b4959=_0xd4b2e;this['debounceStats']&&clearTimeout(this[_0x1b4959(0x8ed)]),this[_0x1b4959(0x8ed)]=setTimeout(async()=>{const _0x5c03f9=_0x1b4959;delete this[_0x5c03f9(0x8ed)];let _0x4a1b38=0x0;for(const _0x33c4fe of this[_0x5c03f9(0x29b)]['values']())_0x4a1b38+=await _0x33c4fe[_0x5c03f9(0x367)]();this[_0x5c03f9(0x598)]['publish']({'sourceId':_0x596898,'messageType':_0x49e311['Content'],'content':{'type':_0x2b2ef9['KeyValueDatabaseStats'],'label':this['label'],'stats':{'timestamp':Date['now'](),'storage':_0x4a1b38,'messagesSent':this['messagesSent'],'messagesReceived':this['messagesReceived'],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x5c03f9(0x141)],'writes':this['writes'],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),_0x98a765[_0x5c03f9(0x344)](_0xdcad61[_0x5c03f9(0x329)],_0x5c03f9(0x2c8)+this['clusterId']+_0x5c03f9(0x2c8)+this[_0x5c03f9(0x39a)],_0x4a1b38);},_0x371ea9);}['addReservedTables'](_0x2c9db0){const _0xdfebfb=_0xd4b2e;if(_0x2c9db0[_0xdfebfb(0x29b)][_0x268d12])throw new _0x276337(_0x15ca7a[_0xdfebfb(0x9fd)],_0xdfebfb(0x9f7)+_0x268d12+'\x27\x20reserved');if(_0x2c9db0['tables'][_0x428d87])throw new _0x276337(_0x15ca7a[_0xdfebfb(0x9fd)],_0xdfebfb(0x9f7)+_0x428d87+'\x27\x20reserved');_0x2c9db0[_0xdfebfb(0x29b)][_0x268d12]={'indexes':[]},_0x2c9db0[_0xdfebfb(0x29b)][_0x428d87]={'indexes':[]};}async['isPromiseResolved'](_0x199001){const _0x49c9dc=_0xd4b2e;return Promise[_0x49c9dc(0x909)]([_0x199001,Promise[_0x49c9dc(0x223)]('not-resolved')])[_0x49c9dc(0x3a5)](_0x36ebdb=>_0x49c9dc(0xa54)!==_0x36ebdb);}async[_0xd4b2e(0x732)](_0x13d967){const _0x2b8833=_0xd4b2e;await this[_0x2b8833(0x37d)]();const _0x1393c6=await this['mmr'][_0x2b8833(0x7b0)](),_0x3960fe={'sourceId':this[_0x2b8833(0x3ff)][_0x2b8833(0x2a6)](),'destinationIds':[_0x13d967],'propagate':!0x0,'messageType':_0x49e311[_0x2b8833(0x657)],'content':{'type':_0x2b2ef9[_0x2b8833(0x918)],'label':this[_0x2b8833(0x39a)],'mmrRoot':_0x1393c6}};this['systemTopic'][_0x2b8833(0x2b2)](_0x3960fe);}async[_0xd4b2e(0x98e)](){const _0x2667b3=_0xd4b2e;if(!this[_0x2667b3(0x7f4)])throw new _0x1cac69(_0x1cac69[_0x2667b3(0x15e)][_0x2667b3(0x6d3)]);this[_0x2667b3(0x28c)]=await this[_0x2667b3(0x7f4)]['list'](),this[_0x2667b3(0x28c)][_0x2667b3(0x63d)](this[_0x2667b3(0x77b)]),this[_0x2667b3(0x688)]=new _0x39e63d(),this[_0x2667b3(0x6f2)]=new Map();for(const _0x539ce5 of this['transactions'])this[_0x2667b3(0x2fb)](_0x539ce5,this[_0x2667b3(0x28c)]['length']);this['logInitialMMR']();}async[_0xd4b2e(0x2fb)](_0x4ca6c6,_0x59227f){const _0x296192=_0xd4b2e,_0x1e685f={..._0x4ca6c6};delete _0x1e685f['value'],await this[_0x296192(0x688)][_0x296192(0x151)](_0x1e685f,_0x59227f);const _0x343562=await this[_0x296192(0x688)]['hashTransaction'](_0x1e685f);this[_0x296192(0x6f2)][_0x296192(0x991)](_0x343562,_0x4ca6c6);}[_0xd4b2e(0x9db)](_0x2d188e){const _0xcb8907=_0xd4b2e;return this[_0xcb8907(0x6f2)][_0xcb8907(0x6e6)](_0x2d188e);}['collectTransactionsFromNode'](_0x282c31,_0x3596e1){const _0x31629e=_0xd4b2e;if(0x0!==_0x282c31[_0x31629e(0x59e)])_0x282c31[_0x31629e(0x48d)]&&this[_0x31629e(0x648)](_0x282c31[_0x31629e(0x48d)],_0x3596e1),_0x282c31[_0x31629e(0x637)]&&this['collectTransactionsFromNode'](_0x282c31[_0x31629e(0x637)],_0x3596e1);else{const _0x64f2fe=this[_0x31629e(0x9db)](_0x282c31[_0x31629e(0x471)]);_0x64f2fe&&_0x3596e1['push'](_0x64f2fe);}}async['rebuildMMR'](){const _0x9b1d37=_0xd4b2e;this[_0x9b1d37(0x776)]&&(clearTimeout(this[_0x9b1d37(0x776)]),delete this['debounceRebuildMMR'],this['transactionsToAppend'][_0x9b1d37(0x9b4)]>0x0&&(this[_0x9b1d37(0x28c)][_0x9b1d37(0x55a)](...this[_0x9b1d37(0x8c9)]['sort'](this['compareTransactions'])),this['transactionsToAppend']=[]));const _0x3a18d2=this['startLoggingCycle']();this[_0x9b1d37(0x688)]=new _0x39e63d(),this['transactionHashMap']['clear'](),this['transactions']['sort'](this[_0x9b1d37(0x77b)]);for(const _0x3911e5 of this[_0x9b1d37(0x28c)])this[_0x9b1d37(0x2fb)](_0x3911e5,this['transactions'][_0x9b1d37(0x9b4)]);await this['mmr'][_0x9b1d37(0x79e)],this['logMMRRebuild'](_0x3a18d2);}['startLoggingCycle'](){const _0x538d60=_0xd4b2e;return this['loggingCycle'][_0x538d60(0x269)]['performCalculation'](async()=>{const _0x397a79=_0x538d60,_0xa2a6ca=await this[_0x397a79(0x688)]['getRoot']();return{'startTime':Date[_0x397a79(0x702)](),'initialRoot':_0xa2a6ca};},Promise[_0x538d60(0x223)]({'startTime':0x0,'initialRoot':''}));}async[_0xd4b2e(0x18d)](_0x3b4bf8){const _0x3dcfe9=_0xd4b2e;try{const {startTime:_0x31ed63,initialRoot:_0x599bc5}=await _0x3b4bf8,_0x302e12=await this['mmr'][_0x3dcfe9(0x7b0)](),_0x4be0c1=['RebuildMMR\x20-\x20MMR\x20Root\x20changed?\x20'+(_0x599bc5!==_0x302e12),'\x0a\x20\x20===\x20Initial\x20MMR\x20Root:\x20'+_0x599bc5,_0x3dcfe9(0x38c)+_0x302e12,_0x3dcfe9(0x204)+this['mmr'][_0x3dcfe9(0x3cb)](),_0x3dcfe9(0x592)+(Date['now']()-_0x31ed63)+'\x20ms\x0a'][_0x3dcfe9(0x85e)]('\x20');this['loggingCycle'][_0x3dcfe9(0x269)][_0x3dcfe9(0x22d)]('',()=>_0x4be0c1);}catch(_0x5c7b56){console[_0x3dcfe9(0x940)](_0x3dcfe9(0x4cf),_0x5c7b56);}}[_0xd4b2e(0x4b2)](_0x11131f){const _0x5de6c1=_0xd4b2e;this[_0x5de6c1(0x8c9)]['push'](_0x11131f),this[_0x5de6c1(0x776)]&&(clearTimeout(this[_0x5de6c1(0x776)]),delete this['debounceRebuildMMR']),this['debounceRebuildMMR']=setTimeout(()=>{const _0x200e87=_0x5de6c1;this[_0x200e87(0x37d)]();},0x3e8);}async[_0xd4b2e(0x37d)](){const _0x1a9280=_0xd4b2e;if(this[_0x1a9280(0x776)]&&(clearTimeout(this[_0x1a9280(0x776)]),delete this[_0x1a9280(0x776)]),0x0!==this[_0x1a9280(0x8c9)][_0x1a9280(0x9b4)]){if(0x0===this[_0x1a9280(0x28c)][_0x1a9280(0x9b4)])return this[_0x1a9280(0x28c)]=this['transactionsToAppend'],this['transactionsToAppend']=[],await this['rebuildMMR']();if(this[_0x1a9280(0x8c9)]['sort'](this[_0x1a9280(0x77b)]),this['compareTransactions'](this[_0x1a9280(0x8c9)][0x0],this[_0x1a9280(0x28c)][this['transactions'][_0x1a9280(0x9b4)]-0x1])>0x0){this[_0x1a9280(0x465)][_0x1a9280(0x269)]['log'](_0x1a9280(0x2b8)+this[_0x1a9280(0x8c9)]['length']+',\x20Transactions:\x20'+this[_0x1a9280(0x28c)][_0x1a9280(0x9b4)]);for(const _0x1390f3 of this[_0x1a9280(0x8c9)])this[_0x1a9280(0x28c)]['push'](_0x1390f3),this[_0x1a9280(0x2fb)](_0x1390f3,this[_0x1a9280(0x8c9)][_0x1a9280(0x9b4)]);return this['transactionsToAppend']=[],void this[_0x1a9280(0x465)][_0x1a9280(0x269)]['log']('processTransactionsToComputeMMR\x20-\x20Transactions\x20appended\x20-',async()=>_0x1a9280(0x43d)+await this[_0x1a9280(0x688)]['getRoot']()+_0x1a9280(0xa1f)+this[_0x1a9280(0x688)][_0x1a9280(0x3cb)]());}this[_0x1a9280(0x465)][_0x1a9280(0x269)]['log']('processTransactionsToComputeMMR\x20-\x20Requires\x20a\x20rebuild.\x20Append:\x20'+this[_0x1a9280(0x8c9)][_0x1a9280(0x9b4)]+_0x1a9280(0x815)+this['transactions'][_0x1a9280(0x9b4)]),this[_0x1a9280(0x28c)][_0x1a9280(0x55a)](...this['transactionsToAppend']),this[_0x1a9280(0x8c9)]=[],this[_0x1a9280(0x800)]();}}async[_0xd4b2e(0x6e4)](){const _0x402ebb=_0xd4b2e;if(!_0x98a765['isChannelEnabled'](_0x831a2b[_0x402ebb(0x329)]))return;await this[_0x402ebb(0x688)][_0x402ebb(0x79e)];const {dataSent:_0x251510,dataReceived:_0x21579d}=this['loggingCycle'][_0x402ebb(0x357)]();_0x98a765['log'](_0x831a2b[_0x402ebb(0x329)],_0x402ebb(0x7c7),this[_0x402ebb(0x39a)],_0x402ebb(0x3e0)+_0x251510,_0x402ebb(0x828)+_0x21579d,'\x0a\x20===\x20Current\x20MMR\x20Root',await this[_0x402ebb(0x688)]['getRoot'](),_0x402ebb(0x750),this[_0x402ebb(0x688)]['getTotalNodes']());}async[_0xd4b2e(0x6b4)](){const _0x49a2f5=_0xd4b2e;if(!_0x98a765[_0x49a2f5(0x350)](_0x831a2b['KeyValueDatabase']))return;const _0x4e84b2=this[_0x49a2f5(0x688)][_0x49a2f5(0x4d4)](),_0x22d8a1=_0x4e84b2[_0x49a2f5(0x7da)](_0x49b945=>_0x49b945[_0x49a2f5(0x59e)]),_0x164c99=await this['mmr']['getRoot']();_0x98a765[_0x49a2f5(0x22d)](_0x831a2b[_0x49a2f5(0x329)],_0x49a2f5(0x410),this[_0x49a2f5(0x28c)][_0x49a2f5(0x9b4)],_0x49a2f5(0x28c),this['mmr'][_0x49a2f5(0x3cb)](),'totalNodes',_0x4e84b2[_0x49a2f5(0x9b4)],'peaks',_0x22d8a1,'root\x20hash:\x20',_0x164c99);}}const _0x136906=require('@crewdle/mist-connector-opfs'),_0x298950=require('@crewdle/mist-connector-indexed-db'),_0x3b8246=require('@crewdle/mist-connector-webrtc-browser'),_0x38482d=0x10000000;var _0x35a0a6,_0x4e04e5,_0x4d0115,_0x4172fc,_0x529903,_0xebf85e,_0xee07e0,_0x492a8e,_0x248089;!function(_0x1380c2){const _0x5bdc9e=_0xd4b2e;_0x1380c2[_0x5bdc9e(0x7f5)]='AudioContext',_0x1380c2[_0x5bdc9e(0x2d6)]=_0x5bdc9e(0x2d6),_0x1380c2['AudioVolume']=_0x5bdc9e(0x74c),_0x1380c2['Backgrounds']=_0x5bdc9e(0x198),_0x1380c2[_0x5bdc9e(0x79c)]=_0x5bdc9e(0x79c),_0x1380c2[_0x5bdc9e(0x615)]=_0x5bdc9e(0x615),_0x1380c2['Recording']='Recording',_0x1380c2[_0x5bdc9e(0x502)]=_0x5bdc9e(0x502),_0x1380c2[_0x5bdc9e(0x474)]=_0x5bdc9e(0x474),_0x1380c2[_0x5bdc9e(0x904)]='WebRTC';}(_0x35a0a6||(_0x35a0a6={}));class _0x256e49{[_0xd4b2e(0x316)];['bufferedEvents'];[_0xd4b2e(0x633)];constructor(_0x2739da=new Map(),_0x275c63=new Map(),_0x3b1c28=new EventTarget()){const _0x2da233=_0xd4b2e;this[_0x2da233(0x316)]=_0x2739da,this[_0x2da233(0x87f)]=_0x275c63,this[_0x2da233(0x633)]=_0x3b1c28;}[_0xd4b2e(0x418)]=(_0x310575,_0x11afcc)=>this[_0xd4b2e(0x316)][_0xd4b2e(0x8e9)](_0x310575)?(_0x98a765[_0xd4b2e(0x22d)](_0x831a2b[_0xd4b2e(0x540)],_0xd4b2e(0x65d),{'event':_0x310575,'data':_0x11afcc}),this[_0xd4b2e(0x633)][_0xd4b2e(0x8c2)](new CustomEvent(_0x310575,{'detail':_0x11afcc})),!0x0):(this[_0xd4b2e(0x709)](_0x310575,_0x11afcc),!0x1);['on']=(_0x35db8a,_0x23d4c9)=>{const _0x1bf350=_0xd4b2e,_0x2a5235=_0x16dfb3=>{const _0x32462b=a0_0x2e29;_0x98a765[_0x32462b(0x22d)](_0x831a2b['Events'],_0x32462b(0x656),_0x16dfb3['type'],_0x16dfb3['detail']),_0x23d4c9(_0x16dfb3[_0x32462b(0x402)]);};return this[_0x1bf350(0x316)][_0x1bf350(0x991)](_0x35db8a,_0x2a5235),this['eventTarget']['addEventListener'](_0x35db8a,_0x2a5235),_0x98a765['log'](_0x831a2b['Cluster'],_0x1bf350(0x154),_0x35db8a,_0x23d4c9),this[_0x1bf350(0x294)](_0x35db8a),this;};['off'](_0x53c40c){const _0x22d5f7=_0xd4b2e;if(!_0x53c40c)return this[_0x22d5f7(0x316)][_0x22d5f7(0x7d0)]((_0x21d09a,_0x37e2b8)=>{const _0x3308be=_0x22d5f7;this[_0x3308be(0x633)][_0x3308be(0x5af)](_0x37e2b8,_0x21d09a);}),void this[_0x22d5f7(0x316)][_0x22d5f7(0x1b8)]();_0x22d5f7(0x8e6)==typeof _0x53c40c&&this[_0x22d5f7(0x16a)](_0x53c40c),Array['isArray'](_0x53c40c)&&_0x53c40c[_0x22d5f7(0x7d0)](_0x2027a9=>{const _0x527340=_0x22d5f7;this[_0x527340(0x16a)](_0x2027a9);});}['removeListener'](_0x5080b6){const _0x3f100=_0xd4b2e,_0x5e3c6e=this[_0x3f100(0x316)][_0x3f100(0x6e6)](_0x5080b6);_0x5e3c6e&&(this['eventTarget'][_0x3f100(0x5af)](_0x5080b6,_0x5e3c6e),this[_0x3f100(0x316)]['delete'](_0x5080b6));}[_0xd4b2e(0x709)](_0x479760,_0x7b856){const _0x52cbef=_0xd4b2e;_0x98a765[_0x52cbef(0x22d)](_0x831a2b[_0x52cbef(0x540)],_0x52cbef(0x5d6),{'event':_0x479760,'data':_0x7b856});const _0x3c7093=this[_0x52cbef(0x87f)][_0x52cbef(0x6e6)](_0x479760)||[];this[_0x52cbef(0x87f)]['set'](_0x479760,[..._0x3c7093,_0x7b856]);}[_0xd4b2e(0x294)](_0x2e79b7){const _0x3c52b6=_0xd4b2e,_0x135384=this[_0x3c52b6(0x87f)][_0x3c52b6(0x6e6)](_0x2e79b7);_0x135384&&(_0x135384[_0x3c52b6(0x7d0)](_0x361fa2=>{const _0x27b017=_0x3c52b6;_0x98a765[_0x27b017(0x22d)](_0x831a2b['Events'],'Consuming\x20buffered\x20event',{'event':_0x2e79b7,'data':_0x361fa2}),this[_0x27b017(0x633)][_0x27b017(0x8c2)](new CustomEvent(_0x2e79b7,{'detail':_0x361fa2}));}),this[_0x3c52b6(0x87f)][_0x3c52b6(0xa2f)](_0x2e79b7));}}class _0x589491 extends Error{constructor(_0x2ea1f8){const _0x49685d=_0xd4b2e;super(_0x49685d(0x139)+_0x2ea1f8);}}!function(_0x46ef5b){const _0x40c414=_0xd4b2e;_0x46ef5b[_0x46ef5b[_0x40c414(0x4fb)]=0x0]=_0x40c414(0x4fb),_0x46ef5b[_0x46ef5b['Optimization']=0x1]=_0x40c414(0x5f5);}(_0x4e04e5||(_0x4e04e5={})),function(_0x3e5d7d){const _0x343bb8=_0xd4b2e;_0x3e5d7d[_0x3e5d7d['Offer']=0x0]='Offer',_0x3e5d7d[_0x3e5d7d['Answer']=0x1]='Answer',_0x3e5d7d[_0x3e5d7d[_0x343bb8(0x571)]=0x2]=_0x343bb8(0x571),_0x3e5d7d[_0x3e5d7d[_0x343bb8(0x39b)]=0x3]=_0x343bb8(0x39b),_0x3e5d7d[_0x3e5d7d[_0x343bb8(0xa6d)]=0x4]=_0x343bb8(0xa6d),_0x3e5d7d[_0x3e5d7d[_0x343bb8(0x7ba)]=0x5]=_0x343bb8(0x7ba),_0x3e5d7d[_0x3e5d7d[_0x343bb8(0x6ed)]=0x6]=_0x343bb8(0x6ed),_0x3e5d7d[_0x3e5d7d[_0x343bb8(0xa34)]=0x7]=_0x343bb8(0xa34),_0x3e5d7d[_0x3e5d7d[_0x343bb8(0x452)]=0x8]=_0x343bb8(0x452);}(_0x4d0115||(_0x4d0115={})),function(_0x4b9427){const _0xf53d7=_0xd4b2e;_0x4b9427[_0x4b9427[_0xf53d7(0x2e1)]=0x0]=_0xf53d7(0x2e1),_0x4b9427[_0x4b9427[_0xf53d7(0x655)]=0x1]='Receiver';}(_0x4172fc||(_0x4172fc={})),function(_0x1ebb7c){const _0x24c421=_0xd4b2e;_0x1ebb7c[_0x24c421(0x615)]='media-stream';}(_0x529903||(_0x529903={})),function(_0x56f8b1){const _0x4a5d9a=_0xd4b2e;_0x56f8b1[_0x56f8b1['NodeJoin']=0x0]=_0x4a5d9a(0xa71),_0x56f8b1[_0x56f8b1[_0x4a5d9a(0x427)]=0x1]='NodeUpdate',_0x56f8b1[_0x56f8b1[_0x4a5d9a(0x8a2)]=0x2]=_0x4a5d9a(0x8a2),_0x56f8b1[_0x56f8b1[_0x4a5d9a(0x8cb)]=0x3]=_0x4a5d9a(0x8cb);}(_0xebf85e||(_0xebf85e={})),function(_0x3fa1b9){const _0x40a02f=_0xd4b2e;_0x3fa1b9[_0x3fa1b9[_0x40a02f(0x4c3)]=0x0]=_0x40a02f(0x4c3),_0x3fa1b9[_0x3fa1b9[_0x40a02f(0x1b4)]=0x1]=_0x40a02f(0x1b4);}(_0xee07e0||(_0xee07e0={})),function(_0x3b5328){const _0x3621d9=_0xd4b2e;_0x3b5328[_0x3621d9(0x581)]='upgrade',_0x3b5328[_0x3621d9(0x9bd)]=_0x3621d9(0x7cc);}(_0x492a8e||(_0x492a8e={})),function(_0x1387ef){const _0x26de21=_0xd4b2e;_0x1387ef[_0x26de21(0x6ad)]=_0x26de21(0x1d6),_0x1387ef[_0x26de21(0x596)]='bitrate';}(_0x248089||(_0x248089={}));const _0xacc11e=require('aws-amplify'),_0x54c548=require('aws-amplify/utils'),_0x53a5d3=require('@aws-amplify/api'),_0x365c77=require('@aws-amplify/core');class _0x441234{[_0xd4b2e(0x6d7)];[_0xd4b2e(0x3ff)];[_0xd4b2e(0x875)];constructor(_0x5bb00e,_0x179559,_0x188cb5){const _0x2abec6=_0xd4b2e;this['clusterId']=_0x5bb00e,this[_0x2abec6(0x3ff)]=_0x179559,this[_0x2abec6(0x875)]=_0x188cb5;}[_0xd4b2e(0x864)](){const _0x123de3=_0xd4b2e;return this[_0x123de3(0x3ff)][_0x123de3(0x2a6)]();}[_0xd4b2e(0x7e3)](){const _0x518453=_0xd4b2e;return this[_0x518453(0x875)];}}var _0x4e952f,_0x1bc461,_0x509b92;function _0x485106(_0x4183ec,_0x374b7d){const _0x27eff0=_0xd4b2e;return _0x4183ec[_0x27eff0(0x3e6)]===_0x374b7d;}function _0x400858(_0x2c471c,_0x338626){const _0x245046=_0xd4b2e;return _0x2c471c[_0x245046(0x6c0)]?.['includes'](_0x338626)??function(_0x358380){const _0xcd7c09=_0x245046;return void 0x0===_0x358380[_0xcd7c09(0x6c0)];}(_0x2c471c);}function _0x288067(_0x1d2c52,{contentType:_0x5c0895,label:_0x161c4b,remoteId:_0x471113}){return _0x1d2c52+'-'+_0x5c0895+'-'+_0x161c4b+'-'+_0x471113;}function _0x3f330b(_0x49bfbe,_0x27ad11,_0x27c4fb){return''+_0x49bfbe+_0x27ad11+_0x27c4fb;}function _0x5ac0e3(_0xaddd57){const _0x3d7fd1=_0xd4b2e;return _0xaddd57===_0x1bc461[_0x3d7fd1(0x999)]?_0x3d7fd1(0x83d):_0x3d7fd1(0x963);}function _0x2443bd(_0x3a5906,_0x41a2c2){const _0x433e6f=_0xd4b2e;return{'label':_0x3a5906[_0x433e6f(0x819)](),'contentType':_0x3a5906[_0x433e6f(0x161)](),'remoteId':_0x41a2c2['getRemoteId'](),'supportsContentType':_0x41a2c2[_0x433e6f(0x9cd)]()[_0x433e6f(0x29c)](_0x3a5906[_0x433e6f(0x161)]())};}!function(_0x44beb0){const _0x30f293=_0xd4b2e;_0x44beb0[_0x44beb0['Waiting']=0x0]=_0x30f293(0x484),_0x44beb0[_0x44beb0[_0x30f293(0x3ec)]=0x1]=_0x30f293(0x3ec),_0x44beb0[_0x44beb0['Rejected']=0x2]='Rejected';}(_0x4e952f||(_0x4e952f={})),function(_0x2e181b){const _0x5e066a=_0xd4b2e;_0x2e181b['Incoming']='in',_0x2e181b['Outgoing']=_0x5e066a(0x973);}(_0x1bc461||(_0x1bc461={}));class _0x329b2f{['callback'];['retryCallback'];constructor(_0x2b4e35,_0x58ca21){this['callback']=_0x2b4e35,this['retryCallback']=_0x58ca21;}['call'](_0x1de3b0){const _0x1d00be=_0xd4b2e;this[_0x1d00be(0xa6b)](_0x1de3b0);}async[_0xd4b2e(0x51b)](){await this['retryCallback']();}}class _0x509ca9{[_0xd4b2e(0xa6b)];[_0xd4b2e(0x81e)];constructor(_0x28f206,_0x2f3557){const _0x1ff1ea=_0xd4b2e;this[_0x1ff1ea(0xa6b)]=_0x28f206,this[_0x1ff1ea(0x81e)]=_0x2f3557;}async[_0xd4b2e(0x44e)](_0x34a195){const _0x1dab35=_0xd4b2e;await this[_0x1dab35(0xa6b)](_0x34a195);}async['wait'](){const _0x5a6322=_0xd4b2e;await this[_0x5a6322(0x81e)]();}}function _0x4a96b8(_0x3b5d30=()=>{},_0x5f06fe=()=>!0x1,_0x29223b=()=>{}){let _0x35255b,_0x4fcee0,_0x318903=0x0;return{get 'size'(){return _0x318903;},get 'head'(){return _0x35255b;},get 'tail'(){return _0x4fcee0;},set 'head'(_0x403f70){_0x35255b=_0x403f70;},set 'tail'(_0x2b1397){_0x4fcee0=_0x2b1397;},'push'(_0x433ce5,_0x5baeb0=!0x0){const _0x3dfc27=a0_0x2e29,_0x5f31c6={'value':_0x433ce5};_0x5baeb0&&_0x5f06fe(_0x5f31c6)?_0x3b5d30():(_0x4fcee0&&(_0x5f31c6['previous']=_0x4fcee0,_0x4fcee0[_0x3dfc27(0x1e6)]=_0x5f31c6),_0x4fcee0=_0x5f31c6,_0x35255b||(_0x35255b=_0x5f31c6),_0x318903+=0x1,_0x5baeb0&&_0x3b5d30());},'pop'(){const _0xb4d7a0=a0_0x2e29;if(!_0x4fcee0)return;const _0x2bcadb=_0x4fcee0[_0xb4d7a0(0x97c)];return _0x4fcee0=_0x4fcee0[_0xb4d7a0(0x2e4)],_0x4fcee0&&delete _0x4fcee0[_0xb4d7a0(0x1e6)],_0x4fcee0||(_0x35255b=void 0x0),_0x318903-=0x1,_0x2bcadb;},'unshift'(_0x20eb3a,_0x2a0f3f=!0x0){const _0x3ac80a=a0_0x2e29,_0x4afcf8={'value':_0x20eb3a};_0x2a0f3f&&_0x5f06fe(_0x4afcf8)?_0x3b5d30():(_0x35255b&&(_0x35255b[_0x3ac80a(0x2e4)]=_0x4afcf8,_0x4afcf8[_0x3ac80a(0x1e6)]=_0x35255b),_0x35255b=_0x4afcf8,_0x4fcee0||(_0x4fcee0=_0x4afcf8),_0x318903+=0x1,_0x2a0f3f&&_0x3b5d30());},'shift'(){const _0x3114ed=a0_0x2e29;if(!_0x35255b)return;const _0x4fa6bb=_0x35255b[_0x3114ed(0x97c)];return _0x35255b=_0x35255b['next'],_0x35255b&&delete _0x35255b['previous'],_0x35255b||(_0x4fcee0=void 0x0),_0x318903-=0x1,_0x4fa6bb;},'clear'(){_0x29223b(),_0x35255b=void 0x0,_0x4fcee0=void 0x0,_0x318903=0x0;}};}function _0x1cc979(_0x4188de,_0x939f43=!0x1,_0x4c63ca=()=>{},_0x477d52=()=>!0x1,_0x36ac90=()=>{}){let _0x97257a=!0x1;const _0x5b1a16=_0x4a96b8(async function(){const _0x1bd337=a0_0x2e29;if(!_0x97257a){for(_0x97257a=!0x0;_0x5b1a16[_0x1bd337(0x9c7)];){const _0x5ddf82=_0x5b1a16[_0x1bd337(0x6dd)]();if(_0x5ddf82)try{_0x4188de instanceof _0x329b2f&&_0x4188de['call'](_0x5ddf82),_0x4188de instanceof _0x509ca9&&await _0x4188de[_0x1bd337(0x44e)](_0x5ddf82),_0x4c63ca(_0x5ddf82);}catch(_0x52598b){_0x939f43?_0x5b1a16['push'](_0x5ddf82,!0x1):_0x5b1a16[_0x1bd337(0x408)](_0x5ddf82,!0x1),await _0x4188de[_0x1bd337(0x51b)]();}}_0x97257a=!0x1;}},_0x477d52,_0x36ac90);return _0x5b1a16;}class _0x5aefe3 extends _0x441234{['vendorId'];[_0xd4b2e(0x54b)];[_0xd4b2e(0x715)]=_0x53a5d3[_0xd4b2e(0x723)][_0xd4b2e(0x942)];[_0xd4b2e(0x617)]=_0x2884c3();[_0xd4b2e(0x756)]=_0xfb027c();['subscription'];['listenUnsubscriber'];[_0xd4b2e(0x265)]=_0x1cc979(new _0x509ca9(this['sendAction']['bind'](this),this['waitConnected'][_0xd4b2e(0x536)](this)));['client'];constructor(_0x2442bc,_0x23038d,_0x1c5419,_0x2c3b94,_0xc570f){const _0x5cf627=_0xd4b2e;super(_0x23038d,_0x1c5419,_0x2c3b94),this[_0x5cf627(0x313)]=_0x2442bc,this[_0x5cf627(0x54b)]=_0xc570f;}async[_0xd4b2e(0xa48)](){const _0x255351=_0xd4b2e;try{const _0x7ee3f={'getTokens':async()=>{const _0x312e9d=a0_0x2e29,_0x571fe7=await this[_0x312e9d(0x54b)]['getIdToken']();return{'accessToken':(0x0,_0x365c77[_0x312e9d(0x2ea)])(_0x571fe7),'idToken':(0x0,_0x365c77['decodeJWT'])(_0x571fe7)};}};_0xacc11e[_0x255351(0xa50)][_0x255351(0x213)]({'API':{'GraphQL':{'endpoint':_0x26a0e8[_0x255351(0x745)]['endpoint'],'region':_0x26a0e8[_0x255351(0x745)][_0x255351(0x5e4)],'defaultAuthMode':_0x255351(0x6ae)}}},{'Auth':{'tokenProvider':_0x7ee3f}});const _0x5efc06=(0x0,_0x53a5d3[_0x255351(0xa3f)])();this['client']=_0x5efc06,await this['subscribe'](),this[_0x255351(0x989)]=_0x54c548[_0x255351(0x4e8)][_0x255351(0x29d)](_0x255351(0x585),async({payload:_0x1cffe5})=>{const _0xb6b98d=_0x255351;if(_0x1cffe5[_0xb6b98d(0x1d7)]===_0x53a5d3[_0xb6b98d(0x2f1)]){const _0x25e841=_0x1cffe5['data'];this[_0xb6b98d(0x715)]=_0x25e841[_0xb6b98d(0x715)],this[_0xb6b98d(0x617)][_0xb6b98d(0x2b2)](_0x25e841[_0xb6b98d(0x715)]),this[_0xb6b98d(0x715)]===_0x53a5d3[_0xb6b98d(0x723)][_0xb6b98d(0x942)]?(_0x98a765[_0xb6b98d(0x940)]('appsync-disconnect',{'clusterId':this[_0xb6b98d(0x6d7)],'nodeId':this[_0xb6b98d(0x864)](),'nodeType':this[_0xb6b98d(0x3ff)][_0xb6b98d(0x747)]}),this[_0xb6b98d(0x27e)](),this['connect']()):this['connectionState']===_0x53a5d3['ConnectionState']['Connected']?_0x98a765[_0xb6b98d(0x67c)](_0xb6b98d(0x274),{'clusterId':this[_0xb6b98d(0x6d7)],'nodeId':this[_0xb6b98d(0x864)](),'nodeType':this[_0xb6b98d(0x3ff)][_0xb6b98d(0x747)]}):_0x98a765['warning'](_0xb6b98d(0x18a),{'clusterId':this['clusterId'],'nodeId':this[_0xb6b98d(0x864)](),'nodeType':this[_0xb6b98d(0x3ff)]['type'],'data':{'state':_0x25e841[_0xb6b98d(0x715)]}});}});}catch(_0x93fe78){_0x98a765[_0x255351(0x940)](_0x255351(0x318),{'clusterId':this[_0x255351(0x6d7)],'nodeId':this[_0x255351(0x864)](),'nodeType':this['localNode'][_0x255351(0x747)]});}}[_0xd4b2e(0x27e)](){const _0x10c099=_0xd4b2e;_0x98a765['warning'](_0x10c099(0x44c),{'clusterId':this[_0x10c099(0x6d7)],'nodeId':this[_0x10c099(0x864)](),'nodeType':this[_0x10c099(0x3ff)][_0x10c099(0x747)]}),this[_0x10c099(0x265)][_0x10c099(0x1b8)](),this[_0x10c099(0x989)]?.(),this[_0x10c099(0x145)]?.[_0x10c099(0x37a)](),delete this[_0x10c099(0x145)];}[_0xd4b2e(0x4ea)](){const _0x111552=_0xd4b2e;return this['connectionState']===_0x53a5d3[_0x111552(0x723)][_0x111552(0x7bf)];}['send'](_0x130fa3){this['retryQueue']['push'](_0x130fa3);}[_0xd4b2e(0x99c)](_0x4f38ea){const _0xb9a527=_0xd4b2e;return this[_0xb9a527(0x756)][_0xb9a527(0x696)](_0x4f38ea);}[_0xd4b2e(0x9cd)](){const _0x134895=_0xd4b2e;return[_0x29f76b[_0x134895(0x9b8)]['Data']];}async['waitConnected'](){const _0x5ead15=_0xd4b2e;if(!this[_0x5ead15(0x4ea)]())return new Promise(_0xd14398=>{const _0x3026e1=_0x5ead15,_0x235335=this[_0x3026e1(0x617)]['subscribe'](_0x1db8d3=>{const _0x2b03d7=_0x3026e1;_0x1db8d3===_0x53a5d3[_0x2b03d7(0x723)]['Connected']&&(_0x235335(),_0xd14398());});});}async[_0xd4b2e(0x61d)](_0x2b1d81){const _0x546c4b=_0xd4b2e;if(this[_0x546c4b(0x715)]!==_0x53a5d3[_0x546c4b(0x723)][_0x546c4b(0x7bf)])throw new Error(_0x546c4b(0x1ad));_0x2b1d81['destinationIds']&&0x1===_0x2b1d81['destinationIds'][_0x546c4b(0x9b4)]?await this['publish'](_0x2b1d81[_0x546c4b(0x6c0)][0x0],JSON[_0x546c4b(0x1a2)](_0x2b1d81)):_0x98a765[_0x546c4b(0x940)](_0x546c4b(0x915),{'clusterId':this[_0x546c4b(0x6d7)],'nodeId':this[_0x546c4b(0x864)](),'nodeType':this[_0x546c4b(0x3ff)][_0x546c4b(0x747)]});}async[_0xd4b2e(0x2b2)](_0x320c44,_0x494228){const _0x188de8=_0xd4b2e;if(!this[_0x188de8(0xa53)])throw new Error('AppSync\x20client\x20not\x20ready');_0x98a765[_0x188de8(0x22d)](_0x831a2b['Signaling'],_0x188de8(0x56c),this[_0x188de8(0x864)](),_0x494228),await this[_0x188de8(0xa53)]['graphql']({'query':_0x188de8(0x7f0),'variables':{'name':await this[_0x188de8(0x1a6)](_0x320c44),'data':_0x494228}});}async[_0xd4b2e(0x696)](){const _0x5c4b7c=_0xd4b2e;if(this[_0x5c4b7c(0x145)])return;if(!this[_0x5c4b7c(0xa53)])throw new Error('AppSync\x20client\x20not\x20ready');_0x98a765[_0x5c4b7c(0x22d)](_0x831a2b['Signaling'],'AppSync\x20subscribe',this[_0x5c4b7c(0x864)]());const _0x13fe67=await this[_0x5c4b7c(0xa53)][_0x5c4b7c(0x995)]({'query':'\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','variables':{'name':await this[_0x5c4b7c(0x1a6)]()},'authToken':await this['authService'][_0x5c4b7c(0x54d)]()},{'Authorization':await this[_0x5c4b7c(0x54b)][_0x5c4b7c(0x54d)]()});this[_0x5c4b7c(0x145)]=_0x13fe67[_0x5c4b7c(0x696)]({'next':({data:_0x198d3a})=>{const _0x253a4a=_0x5c4b7c,_0x28d08d=JSON['parse'](_0x198d3a[_0x253a4a(0x696)][_0x253a4a(0x2aa)]);!_0x485106(_0x28d08d,this[_0x253a4a(0x864)]())&&_0x400858(_0x28d08d,this[_0x253a4a(0x864)]())&&this[_0x253a4a(0x756)][_0x253a4a(0x2b2)](_0x28d08d);},'error':console['log']});}async[_0xd4b2e(0x1a6)](_0xbdc62){const _0x1dbb5e=_0xd4b2e,_0x4902fa=await crypto[_0x1dbb5e(0x6da)]['digest'](_0x1dbb5e(0x1c2),new TextEncoder()[_0x1dbb5e(0x3b6)](this[_0x1dbb5e(0x313)]+'-'+this[_0x1dbb5e(0x6d7)]+'-'+(_0xbdc62??this[_0x1dbb5e(0x864)]())));return Array['from'](new Uint8Array(_0x4902fa))[_0x1dbb5e(0x7da)](_0x1ee914=>_0x1ee914[_0x1dbb5e(0x94e)](0x10)[_0x1dbb5e(0x764)](0x2,'0'))[_0x1dbb5e(0x85e)]('');}}!function(_0x2ed5f5){const _0x5cdf04=_0xd4b2e;_0x2ed5f5[_0x2ed5f5['Add']=0x0]=_0x5cdf04(0x5c4),_0x2ed5f5[_0x2ed5f5[_0x5cdf04(0x3ee)]=0x1]=_0x5cdf04(0x3ee),_0x2ed5f5[_0x2ed5f5[_0x5cdf04(0x793)]=0x2]='Update',_0x2ed5f5[_0x2ed5f5[_0x5cdf04(0x8f3)]=0x3]='RemoteAdd',_0x2ed5f5[_0x2ed5f5[_0x5cdf04(0x2a0)]=0x4]=_0x5cdf04(0x2a0);}(_0x509b92||(_0x509b92={}));const _0x1fdcfe='0',_0x1aa161=_0xd4b2e(0x2a7),_0x3a798a=_0x54486b,_0x12c2ee=0x60000;class _0x229cd5{[_0xd4b2e(0x6d7)];[_0xd4b2e(0x3ff)];[_0xd4b2e(0x875)];[_0xd4b2e(0x47b)];['connectionType'];[_0xd4b2e(0x96d)];[_0xd4b2e(0x496)];[_0xd4b2e(0x1be)];[_0xd4b2e(0x480)]=0x1;[_0xd4b2e(0x598)];[_0xd4b2e(0xa2d)]=[];[_0xd4b2e(0x82b)]=[];[_0xd4b2e(0x37c)];constructor(_0x46486a,_0x17b0c8,_0x46399c,_0x317f08,_0x158a60,_0x479ad6){const _0x3d44fe=_0xd4b2e;this['clusterId']=_0x46486a,this[_0x3d44fe(0x3ff)]=_0x17b0c8,this[_0x3d44fe(0x875)]=_0x46399c,this['iceServers']=_0x317f08,this[_0x3d44fe(0xa38)]=_0x158a60,this[_0x3d44fe(0x96d)]=_0x479ad6,this['connection']=new this[(_0x3d44fe(0x96d))]({'handshakeServers':this[_0x3d44fe(0x47b)]}),this[_0x3d44fe(0x8a5)]();}[_0xd4b2e(0x27e)](){this['stopConnection']();}[_0xd4b2e(0x51c)](_0x164bca){const _0x14dacf=_0xd4b2e;this[_0x14dacf(0xa38)]=_0x164bca;}async['handleHandshake'](_0x42e708,_0x398cf7){const _0x4b6549=_0xd4b2e;if(_0x398cf7===this[_0x4b6549(0x480)])for(const _0x59fbc0 of _0x42e708){if(!this[_0x4b6549(0x496)][_0x4b6549(0x202)])return this[_0x4b6549(0x209)](_0x59fbc0);try{await this['connection'][_0x4b6549(0x7c4)](_0x59fbc0);}catch(_0x558923){this[_0x4b6549(0x209)](_0x59fbc0);}}}[_0xd4b2e(0x4ea)](){const _0x43dec1=_0xd4b2e;return this[_0x43dec1(0x7fa)](),_0x43dec1(0x632)===this[_0x43dec1(0x496)][_0x43dec1(0x715)]&&[_0x43dec1(0x632),'completed']['includes'](this[_0x43dec1(0x496)]['handshakeState'])&&_0x43dec1(0x72b)!==this[_0x43dec1(0x496)][_0x43dec1(0x681)]&&_0x43dec1(0x917)===this[_0x43dec1(0x1be)]?.[_0x43dec1(0x291)];}[_0xd4b2e(0x14c)](_0x59ad4e){const _0x51adf0=_0xd4b2e;this[_0x51adf0(0x598)]=_0x59ad4e;}[_0xd4b2e(0x738)](){delete this['systemTopic'];}['resetConnection'](_0x322750){const _0x23a2c4=_0xd4b2e;this[_0x23a2c4(0x51d)](),this['connection']=new this[(_0x23a2c4(0x96d))]({'handshakeServers':this['iceServers']}),_0x322750?this[_0x23a2c4(0x480)]=_0x322750:this[_0x23a2c4(0x480)]+=0x1,this[_0x23a2c4(0x8a5)]();}['processPendingHandshakeCandidates'](){const _0x4e880f=_0xd4b2e;this[_0x4e880f(0x82b)][_0x4e880f(0x7d0)](_0x4a11b5=>{const _0x164c97=_0x4e880f;try{this[_0x164c97(0x496)][_0x164c97(0x7c4)](_0x4a11b5);}catch(_0x159752){}}),this[_0x4e880f(0x82b)]=[];}['publishSystemMessage'](_0x141b6b,_0x30364e){const _0x3f1a30=_0xd4b2e;if(!this[_0x3f1a30(0x598)])throw new _0x1cac69(_0x1cac69['codes'][_0x3f1a30(0x4d1)],{'content':_0x141b6b});const _0x1bd1bb={'sourceId':this[_0x3f1a30(0x3ff)][_0x3f1a30(0x2a6)](),'destinationIds':[this[_0x3f1a30(0x875)]],'propagate':this[_0x3f1a30(0xa38)]!==_0x4e04e5['Core'],'retry':this[_0x3f1a30(0xa38)]!==_0x4e04e5['Core'],'messageType':_0x49e311[_0x3f1a30(0x73c)],'content':_0x141b6b};_0x30364e&&(_0x1bd1bb['uuid']=_0x30364e),this[_0x3f1a30(0x598)][_0x3f1a30(0x2b2)](_0x1bd1bb);}[_0xd4b2e(0x8a5)](){const _0xe2fd2a=_0xd4b2e;this[_0xe2fd2a(0x496)][_0xe2fd2a(0x3eb)]=()=>{const _0x21ecec=_0xe2fd2a;_0x21ecec(0x6ef)===this[_0x21ecec(0x496)][_0x21ecec(0x6b6)]&&this[_0x21ecec(0xa2d)][_0x21ecec(0x9b4)]>0x0&&(this[_0x21ecec(0x37c)]&&clearTimeout(this[_0x21ecec(0x37c)]),this[_0x21ecec(0x37c)]=setTimeout(()=>{const _0x560a9d=_0x21ecec;delete this[_0x560a9d(0x37c)],this[_0x560a9d(0x6c4)](),this['handshakeCandidates']=[];},0x1f4));},this['connection'][_0xe2fd2a(0x9cc)]=_0x484c7e=>{const _0x56c768=_0xe2fd2a;_0x484c7e[_0x56c768(0x2c1)]&&this['handshakeCandidates'][_0x56c768(0x55a)](_0x484c7e['candidate']);};}[_0xd4b2e(0x51d)](){const _0x73365b=_0xd4b2e;clearTimeout(this[_0x73365b(0x37c)]),delete this[_0x73365b(0x37c)],this[_0x73365b(0xa2d)]=[],this[_0x73365b(0x82b)]=[],this['dataChannel']&&(this[_0x73365b(0x1be)]['onMessage']=null,this[_0x73365b(0x1be)][_0x73365b(0x4a1)]=null,this[_0x73365b(0x1be)][_0x73365b(0x27e)](),delete this[_0x73365b(0x1be)]),this['connection'][_0x73365b(0x3eb)]=null,this[_0x73365b(0x496)][_0x73365b(0x9cc)]=null,this[_0x73365b(0x496)]['onHandshakeStateChange']=null,this[_0x73365b(0x496)][_0x73365b(0x2d1)]=null,this['connection'][_0x73365b(0x6e3)]=null,this[_0x73365b(0x496)]['onDataChannel']=null,this[_0x73365b(0x496)][_0x73365b(0x27e)]();}[_0xd4b2e(0x209)](_0x413abf){const _0x19cb3f=_0xd4b2e;this[_0x19cb3f(0x82b)][_0x19cb3f(0x55a)](_0x413abf);}[_0xd4b2e(0x7fa)](){const _0x30aef5=_0xd4b2e;_0x98a765[_0x30aef5(0x22d)](_0x831a2b[_0x30aef5(0x723)],_0x30aef5(0x9d6),{'localId':this['localNode'][_0x30aef5(0x2a6)](),'remoteId':this['remoteId'],'connectionState':this[_0x30aef5(0x496)][_0x30aef5(0x715)],'handshakeState':this[_0x30aef5(0x496)][_0x30aef5(0x4ca)],'signalingState':this[_0x30aef5(0x496)][_0x30aef5(0x681)],'dataChannelState':this[_0x30aef5(0x1be)]?.[_0x30aef5(0x291)]});}}function _0x5d596d(_0xde0cce,_0x3de9bb){const _0x104c77=_0xd4b2e;_0x3de9bb[_0x104c77(0x2b2)]({'sourceId':_0x596898,'messageType':_0x49e311[_0x104c77(0x73c)],'content':_0xde0cce});}class _0x207989{static [_0xd4b2e(0x147)];[_0xd4b2e(0x1d1)]=[];[_0xd4b2e(0x4bf)];constructor(){setInterval(()=>{const _0x13395a=a0_0x2e29;this[_0x13395a(0x1d1)][_0x13395a(0x7d0)](_0x10064f=>{const _0x4c3710=_0x13395a;if(Date[_0x4c3710(0x702)]()-_0x10064f[_0x4c3710(0x34a)]>_0x10064f['interval']){try{_0x10064f[_0x4c3710(0xa6b)]();}catch(_0x5d0cd8){}_0x10064f['lastExecuted']=Date[_0x4c3710(0x702)]();}});},0x64);}static[_0xd4b2e(0x1f0)](){const _0x5cf209=_0xd4b2e;return _0x207989[_0x5cf209(0x147)]||(_0x207989[_0x5cf209(0x147)]=new _0x207989()),_0x207989[_0x5cf209(0x147)];}['startNoThrottlingHack'](_0xa9361e){const _0x826292=_0xd4b2e,_0x4ab8d7=this['createConstantSource'](_0xa9361e),_0x4e05f8=_0xa9361e['createGain']();_0x4e05f8&&_0x4ab8d7&&(_0x4e05f8[_0x826292(0x897)][_0x826292(0x97c)]=0.001,_0x4ab8d7[_0x826292(0xa48)](_0x4e05f8),_0x4e05f8['connect'](_0xa9361e[_0x826292(0x50e)]),_0x4ab8d7[_0x826292(0x9b3)]());}[_0xd4b2e(0x414)](){const _0x123783=_0xd4b2e;this['source']&&(this[_0x123783(0x4bf)]['stop'](),this[_0x123783(0x4bf)][_0x123783(0x4ec)](),this[_0x123783(0x4bf)]=void 0x0);}['wait'](_0x5758eb){return new Promise(_0x4e36e7=>{setTimeout(_0x4e36e7,_0x5758eb);});}[_0xd4b2e(0x40c)](_0x550ae7,_0x2f47af){const _0x4b0a37=_0xd4b2e;return this['parameters'][_0x4b0a37(0x55a)]({'callback':_0x550ae7,'interval':_0x2f47af,'lastExecuted':Date[_0x4b0a37(0x702)]()}),()=>{const _0x2bcc73=_0x4b0a37;this['parameters']=this[_0x2bcc73(0x1d1)][_0x2bcc73(0x893)](_0x2773e1=>_0x2773e1[_0x2bcc73(0xa6b)]!==_0x550ae7);};}['createConstantSource'](_0x10efd9){const _0x303fae=_0xd4b2e;if(_0x10efd9[_0x303fae(0x19f)])return _0x10efd9[_0x303fae(0x19f)]();const _0x4602db=_0x10efd9[_0x303fae(0x781)](),_0x356684=_0x10efd9['createBuffer'](0x1,0x1,_0x10efd9[_0x303fae(0x459)]);return _0x356684[_0x303fae(0x667)](0x0)[0x0]=0xa,_0x4602db['buffer']=_0x356684,_0x4602db[_0x303fae(0x162)]=!0x0,_0x4602db;}}const _0x1b723a=_0x207989['getInstance']();class _0x521ea1 extends _0x229cd5{[_0xd4b2e(0x36e)]=_0x2884c3();[_0xd4b2e(0x971)]=_0x2884c3();[_0xd4b2e(0x7dd)]=_0x2884c3();[_0xd4b2e(0x88d)]=new Map();[_0xd4b2e(0x49d)]=new Map();[_0xd4b2e(0x45d)];[_0xd4b2e(0x4b5)]=0x0;[_0xd4b2e(0x288)]={'messages':{'total':0x0}};[_0xd4b2e(0x141)]=0x0;[_0xd4b2e(0x445)]=0x0;[_0xd4b2e(0x465)]=_0x35663f(_0xd4b2e(0x7c1),_0x831a2b['ReceiverOnMessage']);['close'](){const _0x1650e4=_0xd4b2e;this[_0x1650e4(0x71c)](),this[_0x1650e4(0x88d)][_0x1650e4(0x1b8)](),super[_0x1650e4(0x27e)]();}async[_0xd4b2e(0x53f)](_0x139f4f,_0x33ee07){const _0x2da60a=_0xd4b2e;this[_0x2da60a(0x480)]=_0x33ee07,this['clearWaitSuccess']();const _0x54c1a4=await this[_0x2da60a(0x496)][_0x2da60a(0x86b)](_0x139f4f);this[_0x2da60a(0x262)]();const _0x1ece2f=(0x0,_0x1cf016['v4'])();this[_0x2da60a(0x619)]({'type':_0x4d0115[_0x2da60a(0xa01)],'answer':_0x54c1a4,'version':_0x33ee07,'connectionType':this['connectionType']},_0x1ece2f),this['connectionType']===_0x4e04e5[_0x2da60a(0x4fb)]&&(this[_0x2da60a(0x45d)]=_0x1b723a[_0x2da60a(0x40c)](()=>{const _0x3bc794=_0x2da60a;this[_0x3bc794(0x619)]({'type':_0x4d0115[_0x3bc794(0xa01)],'answer':_0x54c1a4,'version':_0x33ee07,'connectionType':this[_0x3bc794(0xa38)]},_0x1ece2f);},0x1388));}[_0xd4b2e(0x9ac)](){const _0x2a523d=_0xd4b2e;this[_0x2a523d(0x71c)]();}['handleNeedRestart'](_0x45f3e8){const _0x348b5b=_0xd4b2e;this['resetConnection'](_0x45f3e8),this[_0x348b5b(0x619)]({'type':_0x4d0115[_0x348b5b(0x7ba)]});}async[_0xd4b2e(0x9a4)](){const _0x4dcc4a=_0xd4b2e;this['systemTopic']&&(await this[_0x4dcc4a(0x496)][_0x4dcc4a(0x443)](this[_0x4dcc4a(0x88d)],(_0x59ae8d,_0x174137)=>{const _0x297602=_0x4dcc4a;_0x5d596d({'type':_0x4d0115[_0x297602(0xa34)],'streamId':_0x174137,'nodeId':this[_0x297602(0x875)],'stats':_0x59ae8d},this[_0x297602(0x598)]);}),this[_0x4dcc4a(0x598)][_0x4dcc4a(0x2b2)]({'sourceId':_0x596898,'messageType':_0x49e311[_0x4dcc4a(0x73c)],'content':{'type':_0x4d0115[_0x4dcc4a(0xa34)],'nodeId':this[_0x4dcc4a(0x875)],'stats':{'origin':_0x4172fc['Receiver'],'timestamp':Date[_0x4dcc4a(0x702)](),'messagesReceived':this[_0x4dcc4a(0x4b5)],'bytesReceived':this[_0x4dcc4a(0x141)],'timeReceiving':this['timeReceiving'],'systemMessages':this[_0x4dcc4a(0x288)]}}}));}[_0xd4b2e(0x99c)](_0x646333){const _0x4b2fbd=_0xd4b2e;return _0x26a0e8[_0x4b2fbd(0x623)]?this[_0x4b2fbd(0x36e)]['subscribe'](_0x646333):this[_0x4b2fbd(0x36e)][_0x4b2fbd(0x696)](_0xfabd56=>{const _0x5d9438=_0x4b2fbd;0x0===_0xfabd56[_0x5d9438(0x9b2)]&&_0xfabd56[_0x5d9438(0xa63)]===_0x49e311[_0x5d9438(0x657)]&&this[_0x5d9438(0x465)][_0x5d9438(0x269)][_0x5d9438(0x22d)]('ReceiverPeerConnection\x20onMessage\x27\x20-\x20Remote:\x20'+this[_0x5d9438(0x875)],()=>_0x418af9(_0xfabd56)),_0x646333(_0xfabd56);});}[_0xd4b2e(0x6e3)](_0x56bd05){const _0x29de0b=_0xd4b2e;return this[_0x29de0b(0x971)]['subscribe'](({track:_0x547ef2,stream:_0x561c18})=>_0x56bd05(_0x547ef2,_0x561c18));}[_0xd4b2e(0x70f)](_0x5b4692){const _0x22f9c5=_0xd4b2e;return this[_0x22f9c5(0x7dd)][_0x22f9c5(0x696)](({track:_0x439e6a,stream:_0x399c69})=>_0x5b4692(_0x439e6a,_0x399c69));}['resetConnection'](_0x42fd7c){const _0x4aca6b=_0xd4b2e;this[_0x4aca6b(0x71c)](),this[_0x4aca6b(0x88d)][_0x4aca6b(0x7d0)](_0x39afa0=>{_0x39afa0['clear']();}),super[_0x4aca6b(0x3e8)](_0x42fd7c);}['sendIceCandidates'](){const _0x56c9c6=_0xd4b2e;this['publishSystemMessage']({'type':_0x4d0115[_0x56c9c6(0x571)],'candidates':this[_0x56c9c6(0xa2d)],'origin':_0x4172fc[_0x56c9c6(0x655)],'version':this[_0x56c9c6(0x480)],'connectionType':this['connectionType']});}[_0xd4b2e(0x8a5)](){const _0x220e7f=_0xd4b2e;super[_0x220e7f(0x8a5)](),this[_0x220e7f(0x496)]['onTrack']=_0x34e974=>{const _0x2d9f2c=_0x220e7f;_0x98a765[_0x2d9f2c(0x22d)](_0x831a2b[_0x2d9f2c(0x4e6)],_0x2d9f2c(0x433),this[_0x2d9f2c(0x3ff)]['getId'](),_0x34e974),_0x34e974[_0x2d9f2c(0x1af)][0x0][_0x2d9f2c(0x485)]=_0x5c0a02=>{const _0x29686e=_0x2d9f2c;this[_0x29686e(0x88d)][_0x29686e(0x6e6)](_0x34e974[_0x29686e(0x1af)][0x0]['id'])?.[_0x29686e(0xa2f)](_0x5c0a02[_0x29686e(0x4ed)]),0x0===this[_0x29686e(0x88d)]['get'](_0x34e974[_0x29686e(0x1af)][0x0]['id'])?.[_0x29686e(0x882)]&&this[_0x29686e(0x88d)][_0x29686e(0xa2f)](_0x34e974[_0x29686e(0x1af)][0x0]['id']),this[_0x29686e(0x7dd)][_0x29686e(0x2b2)]({'track':_0x5c0a02[_0x29686e(0x4ed)],'stream':_0x34e974[_0x29686e(0x1af)][0x0]});},this[_0x2d9f2c(0x88d)][_0x2d9f2c(0x8e9)](_0x34e974[_0x2d9f2c(0x1af)][0x0]['id'])||this['receivers'][_0x2d9f2c(0x991)](_0x34e974[_0x2d9f2c(0x1af)][0x0]['id'],new Set()),this[_0x2d9f2c(0x88d)][_0x2d9f2c(0x6e6)](_0x34e974[_0x2d9f2c(0x1af)][0x0]['id'])[_0x2d9f2c(0x4bd)](_0x34e974['track']),this[_0x2d9f2c(0x971)][_0x2d9f2c(0x2b2)]({'track':_0x34e974[_0x2d9f2c(0x4ed)],'stream':_0x34e974[_0x2d9f2c(0x1af)][0x0]});},this['connection'][_0x220e7f(0x5b3)]=_0x449ac1=>{const _0x12e401=_0x220e7f;this[_0x12e401(0x1be)]=_0x449ac1[_0x12e401(0x2f9)],this[_0x12e401(0x1be)][_0x12e401(0x99c)]=_0x283667=>{const _0x10e4a5=_0x12e401;if(_0x283667['data']!==_0x1fdcfe)this[_0x10e4a5(0x34d)](_0x283667[_0x10e4a5(0x2aa)]);else{if(!this[_0x10e4a5(0x1be)])return void _0x98a765[_0x10e4a5(0x940)](_0x10e4a5(0x5db),{'clusterId':this[_0x10e4a5(0x6d7)],'nodeId':this[_0x10e4a5(0x3ff)]['getId'](),'nodeType':this[_0x10e4a5(0x3ff)]['type'],'remoteId':this[_0x10e4a5(0x875)],'data':{'connection':_0x10e4a5(0x5d0)}});if(_0x10e4a5(0x917)!==this[_0x10e4a5(0x1be)][_0x10e4a5(0x291)])return;this[_0x10e4a5(0x1be)]['send']('1');}};};}['handleOnMessage'](_0x388244){const _0x58612f=_0xd4b2e;if(_0x58612f(0x8e6)==typeof _0x388244&&_0x388244[_0x58612f(0x334)](_0x1aa161))return this[_0x58612f(0x4b5)]+=0x1,this[_0x58612f(0x141)]+=_0x388244[_0x58612f(0x9b4)],this['handleChunkMessage'](_0x388244);setTimeout(()=>{const _0x28bc4a=_0x58612f,_0x174155=Date[_0x28bc4a(0x702)]();let _0xbe8c40;if((_0x388244 instanceof ArrayBuffer||_0x388244[_0x28bc4a(0x9b4)]<=_0x3a798a)&&(this[_0x28bc4a(0x4b5)]+=0x1,this[_0x28bc4a(0x141)]+=_0x388244 instanceof ArrayBuffer?_0x388244[_0x28bc4a(0x49b)]:_0x388244['length']),_0x388244 instanceof ArrayBuffer){const [_0x4af25c,_0x48d1c0]=this['splitParts'](_0x388244);_0xbe8c40=_0x4af25c,_0xbe8c40['content'][_0x28bc4a(0x2aa)]=_0x48d1c0;}else _0xbe8c40=JSON[_0x28bc4a(0x89a)](_0x388244);if(0x0===_0xbe8c40[_0x28bc4a(0x9b2)]){this[_0x28bc4a(0x288)][_0x28bc4a(0x190)][_0x28bc4a(0x736)]+=0x1;const {systemMessageType:_0x3bc76a,systemContentMessageType:_0x665074}=_0x418af9(_0xbe8c40);this[_0x28bc4a(0x288)][_0x3bc76a]||(this['systemMessagesReceived'][_0x3bc76a]={[_0x665074]:0x0}),this[_0x28bc4a(0x288)][_0x3bc76a][_0x665074]||(this[_0x28bc4a(0x288)][_0x3bc76a][_0x665074]=0x0),this[_0x28bc4a(0x288)][_0x3bc76a][_0x28bc4a(0x736)]||(this[_0x28bc4a(0x288)][_0x3bc76a][_0x28bc4a(0x736)]=0x0),this[_0x28bc4a(0x288)][_0x3bc76a][_0x665074]+=0x1,this[_0x28bc4a(0x288)][_0x3bc76a]['total']+=0x1;}this['messageCallback'][_0x28bc4a(0x2b2)](_0xbe8c40),this[_0x28bc4a(0x445)]+=Date['now']()-_0x174155;},0x0);}['handleChunkMessage'](_0x2d1385){const _0x32207c=_0xd4b2e,_0x36b2b1=_0x2d1385[_0x32207c(0x488)](';'),_0x3577a9=_0x36b2b1[0x1],_0x2be7e8=parseInt(_0x36b2b1[0x2],0xa),_0x19d582=parseInt(_0x36b2b1[0x3],0xa),_0x20ecde=_0x2d1385['replace'](_0x1aa161+';'+_0x3577a9+';'+_0x2be7e8+';'+_0x19d582+';','');this['chunks']['has'](_0x3577a9)||this['chunks'][_0x32207c(0x991)](_0x3577a9,[]);const _0x27cda9=this['chunks'][_0x32207c(0x6e6)](_0x3577a9);_0x27cda9[_0x2be7e8]=_0x20ecde,_0x27cda9['length']===_0x19d582&&(this[_0x32207c(0x34d)](_0x27cda9[_0x32207c(0x85e)]('')),this[_0x32207c(0x49d)][_0x32207c(0xa2f)](_0x3577a9));}['clearWaitSuccess'](){const _0xff36b2=_0xd4b2e;this[_0xff36b2(0x45d)]?.(),delete this['waitSuccess'];}[_0xd4b2e(0x41e)](_0x5122fe){const _0x3aa2cc=_0xd4b2e,_0x302ed0=new TextDecoder()['decode'](_0x5122fe);return JSON[_0x3aa2cc(0x89a)](_0x302ed0);}[_0xd4b2e(0x1d3)](_0x21a93d){const _0x4eb65e=_0xd4b2e,_0x35307c=new Uint8Array(_0x21a93d[_0x4eb65e(0xa43)](0x0,0x4)),_0x592b1a=new Uint32Array(_0x35307c[_0x4eb65e(0x68b)])[0x0],_0x4c06cc=new Uint8Array(_0x21a93d[_0x4eb65e(0xa43)](0x4,0x4+_0x592b1a)),_0xa6875d=new Uint8Array(_0x21a93d[_0x4eb65e(0xa43)](0x4+_0x592b1a));return[this['arrayBufferToObject'](_0x4c06cc['buffer']),_0xa6875d[_0x4eb65e(0x68b)]];}}const _0x248883=0xc350;var _0x1b36f2,_0x2478e8;!function(_0x31902a){const _0x470b43=_0xd4b2e;_0x31902a[_0x31902a[_0x470b43(0x5fd)]=0x0]=_0x470b43(0x5fd),_0x31902a[_0x31902a[_0x470b43(0x469)]=0x1]=_0x470b43(0x469),_0x31902a[_0x31902a[_0x470b43(0x2b5)]=0x2]=_0x470b43(0x2b5);}(_0x1b36f2||(_0x1b36f2={}));class _0x42e4a1 extends _0x229cd5{['maxFps'];[_0xd4b2e(0x75e)];[_0xd4b2e(0x802)]=new Map();[_0xd4b2e(0x36a)];[_0xd4b2e(0x593)];[_0xd4b2e(0x249)];[_0xd4b2e(0x867)]=!0x1;[_0xd4b2e(0x169)];[_0xd4b2e(0x7b7)];['upgradeTimeout'];[_0xd4b2e(0x265)]=function(e,t=_0x1b36f2,s=!0x1){const _0x2ae359=_0xd4b2e;let n=!0x1;const i=[];async function o(){const _0x51c294=a0_0x2e29;if(!n){for(n=!0x0;i['some'](e=>e[_0x51c294(0x9c7)]);){let t,n=0x0;for(const [e,s]of i[_0x51c294(0x63e)]())if(t=s[_0x51c294(0x6dd)](),n=e,t)break;if(t)try{if(e instanceof _0x329b2f&&e['call'](t),e instanceof _0x509ca9&&await e[_0x51c294(0x44e)](t),i[_0x51c294(0xa43)](-0x1)[_0x51c294(0x403)](e=>e[_0x51c294(0x9c7)]))continue;const s=i[_0x51c294(0x9b4)]-0x1;n===s&&i[s][_0x51c294(0x9c7)]&&await _0x1b723a[_0x51c294(0x51b)](0x0);}catch(o){s?i[n][_0x51c294(0x55a)](t,!0x1):i[n][_0x51c294(0x408)](t,!0x1),await e[_0x51c294(0x51b)]();}}n=!0x1;}}return Object[_0x2ae359(0x75b)](t)[_0x2ae359(0x7d0)](e=>{'string'!=typeof e&&(i[e]=_0x4a96b8(o));}),{'queues':i};}(new _0x329b2f(this['sendAction'][_0xd4b2e(0x536)](this),this['waitSendBuffer']['bind'](this)));['messagesSent']=0x0;[_0xd4b2e(0x679)]=0x0;[_0xd4b2e(0x1cc)]=0x0;['roundTripTime']=0x0;[_0xd4b2e(0x5ef)];['loggingCycle']=_0x35663f(_0xd4b2e(0x7a4),_0x831a2b[_0xd4b2e(0xa7d)]);constructor(_0x5f1164,_0x128b41,_0x547334,_0x192da1,_0x16f65d,_0x1571c7,_0x4bb99a,_0x103d5a){const _0x534544=_0xd4b2e;super(_0x5f1164,_0x128b41,_0x547334,_0x192da1,_0x16f65d,_0x103d5a),this[_0x534544(0x9a8)]=_0x1571c7,this[_0x534544(0x75e)]=_0x4bb99a;}[_0xd4b2e(0x27e)](){const _0x444149=_0xd4b2e;this['clearUpgradeTimeout'](),this[_0x444149(0x962)](),delete this[_0x444149(0x249)],this[_0x444149(0x96c)](),this[_0x444149(0x2be)](),this[_0x444149(0x9b1)](),this[_0x444149(0x802)][_0x444149(0x1b8)](),this[_0x444149(0x867)]=!0x1,this['retryQueue'][_0x444149(0x1c6)]['forEach'](_0x5cb9a1=>_0x5cb9a1[_0x444149(0x1b8)]()),this['clearOncloseTimeout'](),super['close']();}[_0xd4b2e(0x4ea)](){const _0x3774cd=_0xd4b2e;return!!this[_0x3774cd(0x249)]&&super[_0x3774cd(0x4ea)]()&&Date['now']()-this[_0x3774cd(0x249)]<0x3a98;}async[_0xd4b2e(0x9a4)](){const _0x26ff2e=_0xd4b2e;this['systemTopic']&&(await this[_0x26ff2e(0x496)][_0x26ff2e(0x2e5)](this[_0x26ff2e(0x802)],(_0x371b03,_0x56c0fd)=>{const _0x1a7527=_0x26ff2e;_0x5d596d({'type':_0x4d0115[_0x1a7527(0xa34)],'streamId':_0x56c0fd,'nodeId':this[_0x1a7527(0x875)],'stats':_0x371b03},this[_0x1a7527(0x598)]);}),this[_0x26ff2e(0x598)][_0x26ff2e(0x2b2)]({'sourceId':_0x596898,'messageType':_0x49e311[_0x26ff2e(0x73c)],'content':{'type':_0x4d0115[_0x26ff2e(0xa34)],'nodeId':this[_0x26ff2e(0x875)],'stats':{'origin':_0x4172fc[_0x26ff2e(0x2e1)],'timestamp':Date[_0x26ff2e(0x702)](),'messagesSent':this[_0x26ff2e(0x75d)],'bytesSent':this['bytesSent'],'timeSending':this[_0x26ff2e(0x1cc)],'roundTripTime':this['roundTripTime']}}}));}async[_0xd4b2e(0x15b)](_0x56a16){const _0x59a6be=_0xd4b2e;_0x98a765[_0x59a6be(0x22d)](_0x831a2b[_0x59a6be(0x4e6)],_0x59a6be(0x20f),this[_0x59a6be(0x3ff)]['getId'](),this[_0x59a6be(0x875)]),this['clearRestartTimeout'](),this[_0x59a6be(0x2be)](),this[_0x59a6be(0x9b1)](),this[_0x59a6be(0x169)]=setTimeout(()=>{const _0x149b1d=_0x59a6be;this[_0x149b1d(0x19e)]();},0x7530),this['dataChannel']||(this[_0x59a6be(0x1be)]=this['connection'][_0x59a6be(0x5c8)](_0x59a6be(0x2aa)),this[_0x59a6be(0x1be)]['bufferedAmountLowThreshold']=_0x12c2ee,this[_0x59a6be(0x1be)][_0x59a6be(0x4a1)]=()=>{const _0x3d53fd=_0x59a6be;this[_0x3d53fd(0x5ef)]=setTimeout(()=>{const _0xb9975e=_0x3d53fd;delete this[_0xb9975e(0x5ef)],['connecting',_0xb9975e(0x917)][_0xb9975e(0x29c)](this[_0xb9975e(0x1be)]?.[_0xb9975e(0x291)]??'')||this[_0xb9975e(0x19e)]();},0xfa);});const _0x56f4c7=await this['connection']['createOffer'](_0x56a16);this[_0x59a6be(0x249)]||(this[_0x59a6be(0x249)]=Date[_0x59a6be(0x702)]());const _0x111c0b=(0x0,_0x1cf016['v4'])();this[_0x59a6be(0x619)]({'type':_0x4d0115[_0x59a6be(0x4e1)],'offer':_0x56f4c7,'version':this[_0x59a6be(0x480)],'connectionType':this[_0x59a6be(0xa38)]},_0x111c0b),this[_0x59a6be(0xa38)]===_0x4e04e5[_0x59a6be(0x4fb)]&&(this[_0x59a6be(0x593)]=_0x1b723a[_0x59a6be(0x40c)](()=>{const _0x3aea0a=_0x59a6be;this['publishSystemMessage']({'type':_0x4d0115[_0x3aea0a(0x4e1)],'offer':_0x56f4c7,'version':this[_0x3aea0a(0x480)],'connectionType':this['connectionType']},_0x111c0b);},0x1388));}async['handleAnswer'](_0x290299,_0x8a6da9){const _0x34b194=_0xd4b2e;if(_0x8a6da9===this['currentVersion']){this[_0x34b194(0x9b1)]();try{await this[_0x34b194(0x496)][_0x34b194(0x665)](_0x290299,this[_0x34b194(0x15b)][_0x34b194(0x536)](this)),this[_0x34b194(0x262)](),this[_0x34b194(0x2be)](),this[_0x34b194(0x9cb)]();}catch(_0x23ead0){this[_0x34b194(0x19e)]();}}}[_0xd4b2e(0x13b)](_0x3bb7f3){const _0x3198a3=_0xd4b2e;if(!this[_0x3198a3(0x1be)])throw new _0x1cac69(_0x1cac69['codes'][_0x3198a3(0x355)],{'message':_0x3198a3(0x17a),'localId':this[_0x3198a3(0x3ff)][_0x3198a3(0x2a6)](),'remoteId':this['remoteId'],'eventMessage':_0x3bb7f3});if('open'!==this[_0x3198a3(0x1be)][_0x3198a3(0x291)])throw new _0x1cac69(_0x1cac69['codes'][_0x3198a3(0x355)],{'message':_0x3198a3(0x1b7),'localId':this[_0x3198a3(0x3ff)][_0x3198a3(0x2a6)](),'remoteId':this['remoteId'],'eventMessage':_0x3bb7f3});let _0x878781;if(_0x3bb7f3[_0x3198a3(0x580)][_0x3198a3(0x2aa)]instanceof ArrayBuffer){const _0x273ea8=_0x3bb7f3[_0x3198a3(0x580)][_0x3198a3(0x2aa)];_0x3bb7f3={..._0x3bb7f3,'content':{..._0x3bb7f3[_0x3198a3(0x580)],'data':void 0x0}},_0x878781=this[_0x3198a3(0x881)](_0x3bb7f3,_0x273ea8);}else _0x878781=JSON['stringify'](_0x3bb7f3);if(_0x3198a3(0x8e6)==typeof _0x878781&&_0x878781[_0x3198a3(0x9b4)]>_0x3a798a)return void this['sendChunked'](_0x3bb7f3,_0x878781);0x0===_0x3bb7f3[_0x3198a3(0x9b2)]&&_0x3bb7f3[_0x3198a3(0xa63)]===_0x49e311['Content']&&this[_0x3198a3(0x465)]['logger'][_0x3198a3(0x9ff)](()=>_0x98a765['log'](_0x831a2b['SenderSendMessage'],'SenderPeerConnection\x20send',this[_0x3198a3(0x875)],_0x418af9(_0x3bb7f3)),void 0x0);const _0x4d779d=0x0===_0x3bb7f3[_0x3198a3(0x9b2)]&&[_0x49e311[_0x3198a3(0x67e)],_0x49e311[_0x3198a3(0x73c)]][_0x3198a3(0x29c)](_0x3bb7f3[_0x3198a3(0xa63)])?_0x1b36f2[_0x3198a3(0x5fd)]:_0x3bb7f3 instanceof ArrayBuffer?_0x1b36f2[_0x3198a3(0x2b5)]:_0x1b36f2[_0x3198a3(0x469)];this[_0x3198a3(0x400)](_0x878781,_0x4d779d);}[_0xd4b2e(0x60c)](_0x266bda,_0x459aab,_0x36ca2e,_0x10a879){const _0x13df5d=_0xd4b2e,_0x72e84=(_0x405516=this[_0x13df5d(0x9a8)],_0x321991=this[_0x13df5d(0x75e)],Math[_0x13df5d(0x60a)](0xe1000*_0x405516*_0x321991));var _0x405516,_0x321991;const _0x71d824=this[_0x13df5d(0x802)][_0x13df5d(0x6e6)](_0x459aab['id'])||{'stream':_0x459aab,'priority':_0x36ca2e,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x72e84,'maxBitrate':_0x72e84,'framerate':this[_0x13df5d(0x9a8)],'maxFramerate':this['maxFps'],'tracks':{},'params':_0x10a879},_0x113bdb=_0x71d824[_0x13df5d(0x8c1)][_0x266bda[_0x13df5d(0x6c2)]]||{'track':_0x266bda};if(_0x113bdb[_0x13df5d(0x9a7)]?(_0x113bdb[_0x13df5d(0x4ed)]=_0x266bda,this[_0x13df5d(0x496)][_0x13df5d(0x829)](_0x266bda,_0x113bdb['sender'])):_0x113bdb['sender']=this['connection'][_0x13df5d(0x60c)](_0x266bda,_0x459aab),_0x71d824[_0x13df5d(0x8c1)][_0x266bda[_0x13df5d(0x6c2)]]=_0x113bdb,_0x10a879&&(_0x71d824[_0x13df5d(0x44a)]=_0x10a879),_0x10a879&&_0x13df5d(0x5ab)===_0x10a879[_0x13df5d(0x6c2)]&&_0x10a879['resolution']&&_0x10a879[_0x13df5d(0x6fe)]&&(_0x71d824[_0x13df5d(0x959)]=this[_0x13df5d(0x8e7)](_0x10a879[_0x13df5d(0x1d6)],_0x10a879[_0x13df5d(0x6fe)]),_0x71d824[_0x13df5d(0x830)]=_0x71d824[_0x13df5d(0x959)],_0x71d824[_0x13df5d(0x8c1)][_0x13df5d(0x5ab)]&&_0x71d824['tracks'][_0x13df5d(0x5ab)]['sender'])){const _0x517f9e=_0x71d824[_0x13df5d(0x8c1)][_0x13df5d(0x5ab)]['sender'];this[_0x13df5d(0x496)][_0x13df5d(0xa0a)](_0x517f9e,Math[_0x13df5d(0x60a)](0xa*_0x71d824[_0x13df5d(0x959)])/0xa,_0x71d824['framerate'],_0x71d824['bitrate'],_0x71d824['priority']);}this[_0x13df5d(0x802)]['set'](_0x459aab['id'],_0x71d824);}[_0xd4b2e(0x9dc)](_0x1576ed,_0x5447a6){const _0x5239bc=_0xd4b2e,_0x8d9fb9=this[_0x5239bc(0x802)][_0x5239bc(0x6e6)](_0x1576ed['id']);if(_0x8d9fb9&&_0x8d9fb9[_0x5239bc(0x159)]!==_0x5447a6&&(_0x8d9fb9['priority']=_0x5447a6,_0x8d9fb9['tracks'][_0x5239bc(0x5ab)]&&_0x8d9fb9[_0x5239bc(0x8c1)]['video'][_0x5239bc(0x9a7)])){const _0x53334f=_0x8d9fb9['tracks']['video'][_0x5239bc(0x9a7)];this[_0x5239bc(0x496)]['setEncodingParameters'](_0x53334f,Math[_0x5239bc(0x60a)](0xa*_0x8d9fb9[_0x5239bc(0x959)])/0xa,_0x8d9fb9['framerate'],_0x8d9fb9[_0x5239bc(0x8f8)],_0x8d9fb9[_0x5239bc(0x159)]);}}[_0xd4b2e(0x859)](_0x36c158,_0x5e28ef){const _0xd2dcc8=_0xd4b2e,_0x4efd97=this[_0xd2dcc8(0x802)][_0xd2dcc8(0x6e6)](_0x36c158['id']);if(_0x4efd97){if(_0x4efd97[_0xd2dcc8(0x44a)]=_0x5e28ef,_0x5e28ef&&_0xd2dcc8(0x5ab)===_0x5e28ef[_0xd2dcc8(0x6c2)]&&_0x5e28ef[_0xd2dcc8(0x1d6)]&&_0x5e28ef[_0xd2dcc8(0x6fe)]){if(_0x4efd97[_0xd2dcc8(0x830)]=this[_0xd2dcc8(0x8e7)](_0x5e28ef[_0xd2dcc8(0x1d6)],_0x5e28ef['maxResolution']),_0x4efd97[_0xd2dcc8(0x959)]<_0x4efd97['minResolutionScale']&&(_0x4efd97[_0xd2dcc8(0x959)]=_0x4efd97[_0xd2dcc8(0x830)]),_0x4efd97[_0xd2dcc8(0x8c1)]['video']&&_0x4efd97[_0xd2dcc8(0x8c1)][_0xd2dcc8(0x5ab)][_0xd2dcc8(0x9a7)]){const _0x58536b=_0x4efd97[_0xd2dcc8(0x8c1)][_0xd2dcc8(0x5ab)]['sender'];this['connection'][_0xd2dcc8(0xa0a)](_0x58536b,Math['floor'](0xa*_0x4efd97['resolutionScale'])/0xa,_0x4efd97[_0xd2dcc8(0x1b0)],_0x4efd97[_0xd2dcc8(0x8f8)],_0x4efd97[_0xd2dcc8(0x159)]);}this[_0xd2dcc8(0xa4d)](),this['setUpgradeTimeout']();}this['senders'][_0xd2dcc8(0x991)](_0x36c158['id'],_0x4efd97);}}[_0xd4b2e(0x1e7)](_0x3bda1b,_0x498fac){const _0x45ac34=_0xd4b2e,_0x4feb14=this['senders'][_0x45ac34(0x6e6)](_0x498fac['id']);if(_0x4feb14){const _0x152afb=_0x4feb14[_0x45ac34(0x8c1)][_0x3bda1b['kind']];_0x152afb&&(_0x152afb[_0x45ac34(0x9a7)]&&this[_0x45ac34(0x496)][_0x45ac34(0x1e7)](_0x152afb[_0x45ac34(0x9a7)]),_0x152afb[_0x45ac34(0x4ed)]=void 0x0);}}[_0xd4b2e(0x6d6)](_0x3f9e8e){const _0x3f0727=_0xd4b2e;this[_0x3f0727(0xa4d)]();const _0x5d828b=function(_0x2a1756,_0x2b2b9b){const _0x44b125=_0x3f0727;return _0x2a1756[_0x44b125(0x63d)]((_0x1ee269,_0x2d26cf)=>_0x2b2b9b[_0x44b125(0x49f)]===_0x492a8e[_0x44b125(0x9bd)]?_0x2d26cf[_0x44b125(0x159)]-_0x1ee269[_0x44b125(0x159)]:_0x1ee269[_0x44b125(0x159)]-_0x2d26cf[_0x44b125(0x159)])['find'](_0x4b5e0b=>function(_0x2aa52c,_0x5700e0){const _0x15b433=_0x44b125;if(_0x5700e0[_0x15b433(0x49f)]===_0x492a8e[_0x15b433(0x9bd)]){if(_0x5700e0[_0x15b433(0x634)]===_0x248089[_0x15b433(0x6ad)])return _0x2aa52c[_0x15b433(0x959)]<0x4||_0x2aa52c[_0x15b433(0x2dd)]>0xf;if(_0x5700e0['component']===_0x248089[_0x15b433(0x596)])return _0x2aa52c['maxBitrate']>_0x248883;}return _0x2aa52c[_0x15b433(0x959)]>_0x2aa52c['minResolutionScale']||_0x2aa52c[_0x15b433(0x1b0)]<_0x2aa52c[_0x15b433(0x2dd)]||_0x2aa52c['bitrate']<_0x2aa52c[_0x15b433(0x501)];}(_0x4b5e0b,_0x2b2b9b));}(Array[_0x3f0727(0x35c)](this[_0x3f0727(0x802)]['values']()),_0x3f9e8e);if(_0x5d828b&&(function(_0x411c49,_0x15cba2){const _0x3526f2=_0x3f0727;_0x411c49[_0x3526f2(0x8c1)][_0x3526f2(0x5ab)]&&_0x411c49[_0x3526f2(0x8c1)][_0x3526f2(0x5ab)][_0x3526f2(0x9a7)]&&(_0x411c49[_0x3526f2(0x959)]=function(_0x1ce4bb,_0x17f9d9,_0x371636){const _0x2c93b1=_0x3526f2;switch(_0x371636[_0x2c93b1(0x49f)]){case _0x492a8e[_0x2c93b1(0x9bd)]:_0x371636[_0x2c93b1(0x634)]===_0x248089[_0x2c93b1(0x6ad)]&&(_0x1ce4bb+=0.5)>0x4&&(_0x1ce4bb=0x4);break;case _0x492a8e[_0x2c93b1(0x581)]:(_0x1ce4bb-=0.5)<_0x17f9d9&&(_0x1ce4bb=_0x17f9d9);}return _0x1ce4bb;}(_0x411c49['resolutionScale'],_0x411c49[_0x3526f2(0x830)],_0x15cba2),_0x411c49[_0x3526f2(0x1b0)]=function(_0x5976e0,_0x333159,_0x3980a7){const _0x42e20f=_0x3526f2;switch(_0x3980a7[_0x42e20f(0x49f)]){case _0x492a8e['Downgrade']:_0x3980a7[_0x42e20f(0x634)]===_0x248089[_0x42e20f(0x6ad)]&&(_0x5976e0-=0x3)<0xf&&(_0x5976e0=0xf);break;case _0x492a8e['Upgrade']:(_0x5976e0+=0x3)>_0x333159&&(_0x5976e0=_0x333159);}return _0x5976e0;}(_0x411c49[_0x3526f2(0x1b0)],_0x411c49[_0x3526f2(0x2dd)],_0x15cba2),_0x411c49[_0x3526f2(0x8f8)]=function(_0x15ffc9,_0x39c02a,_0x1e6db2){const _0x26ff6b=_0x3526f2;switch(_0x1e6db2[_0x26ff6b(0x49f)]){case _0x492a8e[_0x26ff6b(0x9bd)]:_0x1e6db2['component']===_0x248089[_0x26ff6b(0x596)]&&(_0x15ffc9*=0.75)<_0x248883&&(_0x15ffc9=_0x248883);break;case _0x492a8e[_0x26ff6b(0x581)]:(_0x15ffc9*=1.25)>_0x39c02a&&(_0x15ffc9=_0x39c02a);}return _0x15ffc9;}(_0x411c49[_0x3526f2(0x8f8)],_0x411c49[_0x3526f2(0x501)],_0x15cba2));}(_0x5d828b,_0x3f9e8e),_0x5d828b[_0x3f0727(0x8c1)][_0x3f0727(0x5ab)]&&_0x5d828b['tracks']['video'][_0x3f0727(0x9a7)])){const _0x267b9e=_0x5d828b[_0x3f0727(0x8c1)][_0x3f0727(0x5ab)][_0x3f0727(0x9a7)];this[_0x3f0727(0x496)]['setEncodingParameters'](_0x267b9e,Math[_0x3f0727(0x60a)](0xa*_0x5d828b[_0x3f0727(0x959)])/0xa,_0x5d828b[_0x3f0727(0x1b0)],_0x5d828b['bitrate'],_0x5d828b['priority']);}(_0x5d828b||_0x3f9e8e[_0x3f0727(0x49f)]===_0x492a8e[_0x3f0727(0x9bd)])&&this[_0x3f0727(0x4eb)]();}[_0xd4b2e(0x356)](){const _0x46a61a=_0xd4b2e;return this[_0x46a61a(0x265)][_0x46a61a(0x1c6)][_0x46a61a(0x7aa)]((_0x162673,_0x48c7da)=>_0x162673+_0x48c7da[_0x46a61a(0x882)],0x0)*_0x54486b;}[_0xd4b2e(0xa32)](){const _0xa036b6=_0xd4b2e;return this[_0xa036b6(0x1be)]?.[_0xa036b6(0x528)]??0x0;}[_0xd4b2e(0x3e8)](){const _0x18c021=_0xd4b2e;super[_0x18c021(0x3e8)](),this[_0x18c021(0x70b)](),this[_0x18c021(0x9b1)](),this[_0x18c021(0x802)][_0x18c021(0x7d0)](_0x5068d6=>{const _0x1598de=_0x18c021;_0x5068d6[_0x1598de(0x8c1)]['video']&&(_0x5068d6['tracks'][_0x1598de(0x5ab)][_0x1598de(0x9a7)]=void 0x0),_0x5068d6[_0x1598de(0x8c1)][_0x1598de(0x6c5)]&&(_0x5068d6[_0x1598de(0x8c1)][_0x1598de(0x6c5)]['sender']=void 0x0);}),this['isReconnecting']=!0x0;}async['waitSendBuffer'](){return new Promise(async _0x3da831=>{const _0x5572b1=a0_0x2e29;if(!this[_0x5572b1(0x1be)]||'open'!==this[_0x5572b1(0x1be)][_0x5572b1(0x291)])return await _0x1b723a[_0x5572b1(0x51b)](0x64),void _0x3da831();this[_0x5572b1(0x1be)]['bufferedAmount']<_0x12c2ee?_0x3da831():this[_0x5572b1(0x1be)]['onBufferedAmountLow']=()=>{const _0x4201fe=_0x5572b1;this[_0x4201fe(0x1be)]&&(this[_0x4201fe(0x1be)][_0x4201fe(0x5cd)]=null),_0x3da831();};});}async['sendChunked'](_0x119b1b,_0x4a2b32){const _0x2ad569=_0xd4b2e,_0x8c1a72=[];for(let _0x37e135=0x0;_0x37e135<_0x4a2b32['length'];_0x37e135+=_0x3a798a)_0x8c1a72[_0x2ad569(0x55a)](_0x4a2b32[_0x2ad569(0xa43)](_0x37e135,_0x37e135+_0x3a798a));for(const _0x1e8889 of _0x8c1a72){for(;this[_0x2ad569(0x265)]['queues'][_0x1b36f2['Low']]['size']>0x1;)await _0x1b723a['wait'](0x64);this['sendWithRetry'](_0x1aa161+';'+_0x119b1b[_0x2ad569(0x442)]+';'+_0x8c1a72[_0x2ad569(0x458)](_0x1e8889)+';'+_0x8c1a72[_0x2ad569(0x9b4)]+';'+_0x1e8889,_0x1b36f2[_0x2ad569(0x2b5)]);}}async['sendWithRetry'](_0xd26c38,_0x353f2c){const _0x4f38a0=_0xd4b2e;_0xd26c38===_0x1fdcfe?this['retryQueue'][_0x4f38a0(0x1c6)][_0x353f2c][_0x4f38a0(0x9c7)]?.[_0x4f38a0(0x97c)]!==_0x1fdcfe&&this[_0x4f38a0(0x265)][_0x4f38a0(0x1c6)][_0x353f2c][_0x4f38a0(0x408)](_0xd26c38):this['retryQueue']['queues'][_0x353f2c][_0x4f38a0(0x55a)](_0xd26c38);}[_0xd4b2e(0x61d)](_0x1a1771){const _0x318d10=_0xd4b2e;if(!this[_0x318d10(0x1be)]||_0x318d10(0x917)!==this[_0x318d10(0x1be)][_0x318d10(0x291)])throw new Error(_0x318d10(0x3a9));if(this[_0x318d10(0x1be)][_0x318d10(0x528)]>=0x600000)throw new Error(_0x318d10(0x1fa));const _0x6629ba=Date[_0x318d10(0x702)]();_0x1a1771!==_0x1fdcfe&&(this[_0x318d10(0x75d)]+=0x1,this['bytesSent']+=_0x1a1771 instanceof ArrayBuffer?_0x1a1771['byteLength']:_0x1a1771[_0x318d10(0x9b4)]);try{ArrayBuffer,this[_0x318d10(0x1be)][_0x318d10(0x13b)](_0x1a1771);}catch(_0x4a6d1a){throw console[_0x318d10(0x940)](_0x318d10(0x1dc),_0x4a6d1a),_0x4a6d1a;}this[_0x318d10(0x1cc)]+=Date[_0x318d10(0x702)]()-_0x6629ba;}[_0xd4b2e(0x9cb)](){const _0x21814f=_0xd4b2e;this[_0x21814f(0x36a)]&&this[_0x21814f(0x962)]();let _0x310126=!0x0,_0x47cd79=Date[_0x21814f(0x702)]();this['lastHeartbeat']=Date[_0x21814f(0x702)](),this[_0x21814f(0x1be)][_0x21814f(0x99c)]=_0x357a24=>{const _0x4bea48=_0x21814f;'1'===_0x357a24['data']&&(this[_0x4bea48(0x3a0)]=Date[_0x4bea48(0x702)]()-_0x47cd79,_0x310126&&this[_0x4bea48(0x619)]({'type':_0x4d0115['Success']}),_0x310126=!0x1,this[_0x4bea48(0x249)]=Date[_0x4bea48(0x702)](),this[_0x4bea48(0x867)]&&(this[_0x4bea48(0x867)]=!0x1,this[_0x4bea48(0x3ab)]()));},this['heartbeatUnsubscriber']=_0x1b723a[_0x21814f(0x40c)](()=>{const _0x50cfca=_0x21814f;_0x47cd79=Date[_0x50cfca(0x702)](),this[_0x50cfca(0x400)](_0x1fdcfe,_0x1b36f2['High']),Date[_0x50cfca(0x702)]()-this[_0x50cfca(0x249)]>(_0x310126?0x15f90:0x3a98)&&this[_0x50cfca(0x19e)]();},0xbb8);}[_0xd4b2e(0x3ab)](){const _0x1c1d36=_0xd4b2e;this[_0x1c1d36(0x802)][_0x1c1d36(0x7d0)](_0x3bff0f=>{const _0x40f27=_0x1c1d36;_0x3bff0f[_0x40f27(0x8c1)][_0x40f27(0x5ab)]&&_0x3bff0f[_0x40f27(0x8c1)][_0x40f27(0x5ab)]['track']&&!_0x3bff0f[_0x40f27(0x8c1)][_0x40f27(0x5ab)][_0x40f27(0x9a7)]&&(_0x3bff0f['tracks']['video'][_0x40f27(0x9a7)]=this[_0x40f27(0x496)]['addTrack'](_0x3bff0f[_0x40f27(0x8c1)][_0x40f27(0x5ab)][_0x40f27(0x4ed)],_0x3bff0f[_0x40f27(0x67a)])),_0x3bff0f[_0x40f27(0x8c1)][_0x40f27(0x6c5)]&&_0x3bff0f['tracks'][_0x40f27(0x6c5)][_0x40f27(0x4ed)]&&!_0x3bff0f[_0x40f27(0x8c1)][_0x40f27(0x6c5)][_0x40f27(0x9a7)]&&(_0x3bff0f[_0x40f27(0x8c1)]['audio'][_0x40f27(0x9a7)]=this[_0x40f27(0x496)][_0x40f27(0x60c)](_0x3bff0f[_0x40f27(0x8c1)]['audio'][_0x40f27(0x4ed)],_0x3bff0f[_0x40f27(0x67a)]));});}[_0xd4b2e(0x6c4)](){const _0x460f8b=_0xd4b2e;this[_0x460f8b(0x619)]({'type':_0x4d0115[_0x460f8b(0x571)],'candidates':this[_0x460f8b(0xa2d)],'origin':_0x4172fc[_0x460f8b(0x2e1)],'version':this[_0x460f8b(0x480)],'connectionType':this[_0x460f8b(0xa38)]});}[_0xd4b2e(0x8a5)](){const _0xadefd3=_0xd4b2e;super[_0xadefd3(0x8a5)](),this[_0xadefd3(0x496)]['onHandshakeStateChange']=()=>{const _0xfc7f35=_0xadefd3;if(_0xfc7f35(0xa15)===this['connection']['handshakeState']){_0x98a765[_0xfc7f35(0x22d)](_0x831a2b[_0xfc7f35(0x723)],_0xfc7f35(0x9aa),this[_0xfc7f35(0x3ff)][_0xfc7f35(0x2a6)](),this[_0xfc7f35(0x875)]);try{if(this[_0xfc7f35(0x496)]['canRestartHandshake'])return void this[_0xfc7f35(0x496)][_0xfc7f35(0x557)]();}catch(_0x49302f){}this[_0xfc7f35(0x15b)]({'handshakeRestart':!0x0});}},this[_0xadefd3(0x496)][_0xadefd3(0x2d1)]=()=>{const _0x2454e4=_0xadefd3;'disconnected'!==this[_0x2454e4(0x496)][_0x2454e4(0x715)]&&_0x2454e4(0xa15)!==this['connection'][_0x2454e4(0x715)]||this['handleDisconnect']();};}['handleDisconnect'](){const _0x47c26b=_0xd4b2e;this[_0x47c26b(0x962)](),this['clearRestartTimeout'](),this['clearConnectionTimeout'](),_0x98a765['warning'](_0x47c26b(0x4ec),{'clusterId':this['clusterId'],'nodeId':this['localNode']['getId'](),'nodeType':this[_0x47c26b(0x3ff)]['type'],'remoteId':this[_0x47c26b(0x875)],'data':{'connectionType':this[_0x47c26b(0xa38)],'connectionState':this[_0x47c26b(0x496)][_0x47c26b(0x715)],'iceConnectionState':this[_0x47c26b(0x496)][_0x47c26b(0x4ca)],'signalingState':this[_0x47c26b(0x496)]['signalingState'],'readyState':this[_0x47c26b(0x1be)]?.[_0x47c26b(0x291)]||'','lastHeartbeat':this[_0x47c26b(0x249)]?Date['now']()-this[_0x47c26b(0x249)]:'','retryQueue':this[_0x47c26b(0x265)]}}),(this[_0x47c26b(0x249)]&&Date[_0x47c26b(0x702)]()-this[_0x47c26b(0x249)]>0xea60)??0x1?this[_0x47c26b(0x598)][_0x47c26b(0x2b2)]({'sourceId':this[_0x47c26b(0x875)],'destinationIds':[this[_0x47c26b(0x3ff)][_0x47c26b(0x2a6)]()],'messageType':_0x49e311['PeerConnection'],'content':{'type':_0x4d0115[_0x47c26b(0x6ed)]}}):(this[_0x47c26b(0x3e8)](),this[_0x47c26b(0x619)]({'type':_0x4d0115['NeedRestart'],'version':this[_0x47c26b(0x480)],'connectionType':this['connectionType']}),this['restartTimeout']=setTimeout(()=>{const _0x25dff4=_0x47c26b;this[_0x25dff4(0x19e)]();},0x7530));}['clearHeartbeat'](){const _0x9fb21a=_0xd4b2e;this[_0x9fb21a(0x36a)]?.(),delete this[_0x9fb21a(0x36a)];}['clearConnectionTimeout'](){const _0x46eeb8=_0xd4b2e;this[_0x46eeb8(0x169)]&&(clearTimeout(this['connectionTimeout']),delete this[_0x46eeb8(0x169)]);}[_0xd4b2e(0x96c)](){const _0x399c3e=_0xd4b2e;this['restartTimeout']&&(clearTimeout(this[_0x399c3e(0x7b7)]),delete this[_0x399c3e(0x7b7)]);}['clearUpgradeTimeout'](){const _0x12c5f0=_0xd4b2e;this['upgradeTimeout']&&(clearTimeout(this[_0x12c5f0(0x385)]),delete this[_0x12c5f0(0x385)]);}[_0xd4b2e(0x4eb)](){const _0x5a7ee4=_0xd4b2e;this[_0x5a7ee4(0x385)]=setTimeout(()=>{const _0x278002=_0x5a7ee4;this[_0x278002(0x6d6)]({'type':_0xee07e0['Remediation'],'action':_0x492a8e[_0x278002(0x581)]});},0x3a98);}[_0xd4b2e(0x8e7)](_0x67a04c,_0x3bc28d){const _0x4bba7d=_0xd4b2e,_0x36340b=Math[_0x4bba7d(0x4ce)](_0x67a04c[_0x4bba7d(0x62b)]/_0x3bc28d[_0x4bba7d(0x62b)],_0x67a04c[_0x4bba7d(0x59e)]/_0x3bc28d[_0x4bba7d(0x59e)]);return Math[_0x4bba7d(0x494)](Math['max'](_0x36340b,0x1),0x4);}['clearWaitAnswer'](){const _0x29e2d7=_0xd4b2e;this[_0x29e2d7(0x593)]?.(),delete this[_0x29e2d7(0x593)];}[_0xd4b2e(0x70b)](){const _0x3f1072=_0xd4b2e;this['oncloseTimeout']&&(clearTimeout(this[_0x3f1072(0x5ef)]),delete this[_0x3f1072(0x5ef)]);}['objectToArrayBuffer'](_0x1c3a2f){const _0x2a895e=_0xd4b2e,_0x488d01=JSON[_0x2a895e(0x1a2)](_0x1c3a2f);return new TextEncoder()['encode'](_0x488d01)[_0x2a895e(0x68b)];}[_0xd4b2e(0x881)](_0x1f36f6,_0x333c76){const _0x160247=_0xd4b2e,_0x195bfd=this[_0x160247(0x168)](_0x1f36f6),_0x548c3d=new Uint8Array(0x4),_0x2f6fc9=new Uint8Array(_0x195bfd),_0x1cb867=new Uint8Array(_0x333c76);_0x548c3d[_0x160247(0x991)](new Uint8Array(new Uint32Array([_0x2f6fc9[_0x160247(0x9b4)]])[_0x160247(0x68b)]));const _0x2a009f=new Uint8Array(0x4+_0x2f6fc9[_0x160247(0x9b4)]+_0x1cb867[_0x160247(0x9b4)]);return _0x2a009f[_0x160247(0x991)](_0x548c3d),_0x2a009f[_0x160247(0x991)](_0x2f6fc9,0x4),_0x2a009f[_0x160247(0x991)](_0x1cb867,0x4+_0x2f6fc9['length']),_0x2a009f[_0x160247(0x68b)];}}class _0x37d0f1 extends _0x441234{['iceServers'];[_0xd4b2e(0xa38)];[_0xd4b2e(0x9a8)];['maxBpp'];['connectionConstructor'];['senderConnection'];[_0xd4b2e(0x643)];[_0xd4b2e(0x33d)]=[];[_0xd4b2e(0x756)]=_0xfb027c();['trackListeners']=_0xfb027c();['removeTrackListeners']=_0xfb027c();[_0xd4b2e(0x90f)]=[];[_0xd4b2e(0x598)];['dataTopics']=new Map();['dataUnsubscribers']=new Map();[_0xd4b2e(0x2b9)]=new Map();[_0xd4b2e(0x14d)]=new Map();[_0xd4b2e(0x530)]=!0x1;constructor(_0x1f5b4b,_0x40e5a7,_0x1c6c93,_0x5b9173,_0x18aab2,_0x2b4577,_0x436cae,_0x18ba37){const _0x339857=_0xd4b2e;super(_0x1f5b4b,_0x40e5a7,_0x1c6c93),this[_0x339857(0x47b)]=_0x5b9173,this[_0x339857(0xa38)]=_0x18aab2,this[_0x339857(0x9a8)]=_0x2b4577,this[_0x339857(0x75e)]=_0x436cae,this[_0x339857(0x96d)]=_0x18ba37;}['registerPublisher'](_0x54af7a){const _0x495cc7=_0xd4b2e;switch(_0x54af7a[_0x495cc7(0x161)]()){case _0x29f76b[_0x495cc7(0x9b8)][_0x495cc7(0x24a)]:case _0x29f76b['ContentType'][_0x495cc7(0xa3d)]:case _0x29f76b[_0x495cc7(0x9b8)]['ObjectStore']:case _0x29f76b[_0x495cc7(0x9b8)][_0x495cc7(0x329)]:case _0x29f76b['ContentType'][_0x495cc7(0x506)]:case _0x29f76b[_0x495cc7(0x9b8)]['VectorDatabase']:case _0x29f76b[_0x495cc7(0x9b8)][_0x495cc7(0x65e)]:case _0x29f76b['ContentType'][_0x495cc7(0x450)]:this['dataTopics']['set'](_0x54af7a[_0x495cc7(0x255)](),_0x54af7a);break;case _0x29f76b['ContentType'][_0x495cc7(0x9cf)]:this[_0x495cc7(0x2b9)][_0x495cc7(0x991)](_0x54af7a[_0x495cc7(0x255)](),_0x54af7a);}}[_0xd4b2e(0x29f)](_0x13307a){const _0x2087b9=_0xd4b2e;switch(_0x13307a[_0x2087b9(0x161)]()){case _0x29f76b['ContentType'][_0x2087b9(0x24a)]:case _0x29f76b[_0x2087b9(0x9b8)][_0x2087b9(0xa3d)]:case _0x29f76b[_0x2087b9(0x9b8)][_0x2087b9(0x65b)]:case _0x29f76b[_0x2087b9(0x9b8)][_0x2087b9(0x329)]:case _0x29f76b[_0x2087b9(0x9b8)][_0x2087b9(0x506)]:case _0x29f76b[_0x2087b9(0x9b8)][_0x2087b9(0xa80)]:case _0x29f76b[_0x2087b9(0x9b8)][_0x2087b9(0x65e)]:case _0x29f76b['ContentType'][_0x2087b9(0x450)]:this[_0x2087b9(0x21d)][_0x2087b9(0xa2f)](_0x13307a[_0x2087b9(0x255)]());break;case _0x29f76b['ContentType']['Media']:this[_0x2087b9(0x2b9)][_0x2087b9(0xa2f)](_0x13307a[_0x2087b9(0x255)]());}}['registerSubscriber'](_0x4fd373){const _0x23f048=_0xd4b2e;switch(_0x4fd373[_0x23f048(0x161)]()){case _0x29f76b[_0x23f048(0x9b8)][_0x23f048(0x24a)]:case _0x29f76b[_0x23f048(0x9b8)][_0x23f048(0xa3d)]:case _0x29f76b[_0x23f048(0x9b8)][_0x23f048(0x65b)]:case _0x29f76b[_0x23f048(0x9b8)][_0x23f048(0x329)]:case _0x29f76b[_0x23f048(0x9b8)][_0x23f048(0x506)]:case _0x29f76b[_0x23f048(0x9b8)][_0x23f048(0xa80)]:case _0x29f76b[_0x23f048(0x9b8)][_0x23f048(0x65e)]:case _0x29f76b[_0x23f048(0x9b8)][_0x23f048(0x450)]:{const _0x1a4704=_0x4fd373[_0x23f048(0x696)](_0x1da13=>{const _0x251f0d=_0x23f048;_0x485106(_0x1da13,this[_0x251f0d(0x864)]())&&_0x400858(_0x1da13,this[_0x251f0d(0x875)])&&this[_0x251f0d(0x13b)](_0x1da13);});this['dataUnsubscribers'][_0x23f048(0x991)](_0x4fd373[_0x23f048(0x255)](),_0x1a4704);break;}case _0x29f76b[_0x23f048(0x9b8)][_0x23f048(0x9cf)]:{const _0x1cb9ad=_0x4fd373[_0x23f048(0x696)](({content:_0x113aa1})=>{const _0x580100=_0x23f048;switch(_0x113aa1[_0x580100(0x49f)]){case _0x509b92[_0x580100(0x5c4)]:this[_0x580100(0x60c)](_0x113aa1[_0x580100(0x4ed)],_0x113aa1[_0x580100(0x67a)],_0x113aa1['priority'],_0x113aa1['params']);break;case _0x509b92[_0x580100(0x3ee)]:this[_0x580100(0x1e7)](_0x113aa1[_0x580100(0x4ed)],_0x113aa1['stream']);break;case _0x509b92[_0x580100(0x793)]:_0x113aa1[_0x580100(0x159)]&&this[_0x580100(0x9dc)](_0x113aa1[_0x580100(0x67a)],_0x113aa1[_0x580100(0x159)]),_0x113aa1['params']&&this[_0x580100(0x859)](_0x113aa1[_0x580100(0x67a)],_0x113aa1[_0x580100(0x44a)]);}});this[_0x23f048(0x14d)][_0x23f048(0x991)](_0x4fd373[_0x23f048(0x255)](),_0x1cb9ad);break;}}}[_0xd4b2e(0x35f)](_0x1466ac){const _0x45df4f=_0xd4b2e;switch(_0x1466ac[_0x45df4f(0x161)]()){case _0x29f76b['ContentType']['Data']:case _0x29f76b[_0x45df4f(0x9b8)]['PubSub']:case _0x29f76b[_0x45df4f(0x9b8)][_0x45df4f(0x65b)]:case _0x29f76b[_0x45df4f(0x9b8)][_0x45df4f(0x329)]:case _0x29f76b['ContentType'][_0x45df4f(0x506)]:case _0x29f76b[_0x45df4f(0x9b8)][_0x45df4f(0xa80)]:case _0x29f76b[_0x45df4f(0x9b8)]['GraphDatabase']:case _0x29f76b[_0x45df4f(0x9b8)][_0x45df4f(0x450)]:this[_0x45df4f(0x3fe)][_0x45df4f(0x6e6)](_0x1466ac['getLabel']())?.(),this[_0x45df4f(0x3fe)][_0x45df4f(0xa2f)](_0x1466ac['getLabel']());break;case _0x29f76b[_0x45df4f(0x9b8)][_0x45df4f(0x9cf)]:this[_0x45df4f(0x14d)]['get'](_0x1466ac['getLabel']())?.(),this[_0x45df4f(0x14d)][_0x45df4f(0xa2f)](_0x1466ac[_0x45df4f(0x255)]());}}[_0xd4b2e(0x9cd)](){const _0x2d9901=_0xd4b2e;return[_0x29f76b[_0x2d9901(0x9b8)]['Data'],_0x29f76b[_0x2d9901(0x9b8)]['Media'],_0x29f76b[_0x2d9901(0x9b8)][_0x2d9901(0xa3d)],_0x29f76b[_0x2d9901(0x9b8)]['ObjectStore'],_0x29f76b['ContentType']['KeyValueDatabase'],_0x29f76b[_0x2d9901(0x9b8)][_0x2d9901(0x506)],_0x29f76b[_0x2d9901(0x9b8)][_0x2d9901(0xa80)],_0x29f76b[_0x2d9901(0x9b8)]['GraphDatabase'],_0x29f76b[_0x2d9901(0x9b8)][_0x2d9901(0x450)]];}['registerSystemPublisher'](_0x2bcbf1){const _0x13e70d=_0xd4b2e;this[_0x13e70d(0x598)]=_0x2bcbf1;}[_0xd4b2e(0x738)](){delete this['systemTopic'];}async[_0xd4b2e(0xa48)](){const _0x3d02bc=_0xd4b2e;this[_0x3d02bc(0x820)](),await this[_0x3d02bc(0x15b)]();}[_0xd4b2e(0x27e)](){const _0xe7a1d1=_0xd4b2e;this[_0xe7a1d1(0x90f)][_0xe7a1d1(0x7d0)](_0x4528ac=>_0x4528ac()),this['listenerUnsubscribers']=[],this[_0xe7a1d1(0x9f2)]?.['unregisterSystemPublisher'](),this['senderConnection']?.[_0xe7a1d1(0x27e)](),delete this[_0xe7a1d1(0x9f2)],this[_0xe7a1d1(0x33d)][_0xe7a1d1(0x7d0)](_0x1fc2ea=>_0x1fc2ea()),this[_0xe7a1d1(0x33d)]=[],this[_0xe7a1d1(0x643)]?.[_0xe7a1d1(0x738)](),this['receiverConnection']?.[_0xe7a1d1(0x27e)](),delete this[_0xe7a1d1(0x643)];}['isConnected'](){const _0x2c91ec=_0xd4b2e;return this[_0x2c91ec(0x9f2)]?.[_0x2c91ec(0x4ea)]()&&this[_0x2c91ec(0x643)]?.[_0x2c91ec(0x4ea)]()||!0x1;}[_0xd4b2e(0x13b)](_0x2e0b9f){const _0x28b1ec=_0xd4b2e;if(!this[_0x28b1ec(0x9f2)]||!this[_0x28b1ec(0x4ea)]())throw new _0x1cac69(_0x1cac69[_0x28b1ec(0x15e)][_0x28b1ec(0x7eb)],{'message':_0x28b1ec(0x7bd),'senderConnected':this['senderConnection']?.[_0x28b1ec(0x4ea)](),'receiverConnected':this[_0x28b1ec(0x643)]?.[_0x28b1ec(0x4ea)](),'localId':this[_0x28b1ec(0x864)](),'remoteId':this[_0x28b1ec(0x875)],'data':_0x2e0b9f});this[_0x28b1ec(0x9f2)][_0x28b1ec(0x13b)](_0x2e0b9f);}['onMessage'](_0x2d87f7){const _0x108878=_0xd4b2e;return this[_0x108878(0x756)]['subscribe'](_0x2d87f7);}[_0xd4b2e(0x6e3)](_0x5e0f3b){const _0x28d705=_0xd4b2e;return this[_0x28d705(0x88b)]['subscribe'](({track:_0x41f685,stream:_0x56f9f6})=>_0x5e0f3b(_0x41f685,_0x56f9f6));}[_0xd4b2e(0x70f)](_0x18cd8e){const _0x3ebf53=_0xd4b2e;return this[_0x3ebf53(0x95a)][_0x3ebf53(0x696)](({track:_0x3c310a,stream:_0x2f36ca})=>_0x18cd8e(_0x3c310a,_0x2f36ca));}[_0xd4b2e(0x60c)](_0x489bb4,_0x3dd754,_0x3e1465,_0x2ccd71){this['senderConnection']?.['addTrack'](_0x489bb4,_0x3dd754,_0x3e1465,_0x2ccd71);}['setPriority'](_0x246ab5,_0x5bc93e){const _0x114669=_0xd4b2e;this[_0x114669(0x9f2)]?.['setPriority'](_0x246ab5,_0x5bc93e);}[_0xd4b2e(0x859)](_0x1f5e78,_0x2ece01){const _0x945a3e=_0xd4b2e;this[_0x945a3e(0x9f2)]?.[_0x945a3e(0x859)](_0x1f5e78,_0x2ece01);}['removeTrack'](_0x285509,_0x5b3996){const _0x4cadd1=_0xd4b2e;this[_0x4cadd1(0x9f2)]?.[_0x4cadd1(0x1e7)](_0x285509,_0x5b3996);}async['handlePeerConnectionSystemEvents'](_0x21f724){const _0x7586=_0xd4b2e;_0x98a765[_0x7586(0x22d)](_0x831a2b[_0x7586(0x4e6)],_0x7586(0x824),this['getLocalId'](),_0x21f724);const {content:_0x1e8147}=_0x21f724;switch(_0x1e8147[_0x7586(0x747)]){case _0x4d0115['Offer']:await this[_0x7586(0x53f)](_0x1e8147);break;case _0x4d0115[_0x7586(0xa01)]:await this[_0x7586(0x665)](_0x1e8147);break;case _0x4d0115[_0x7586(0x39b)]:this[_0x7586(0x9ac)]();break;case _0x4d0115[_0x7586(0x571)]:await this['handleIceCandidates'](_0x1e8147);break;case _0x4d0115[_0x7586(0xa6d)]:this[_0x7586(0x903)](_0x1e8147);break;case _0x4d0115[_0x7586(0x7ba)]:await this[_0x7586(0x15b)]();}}['handleRemediationSystemEvents'](_0x2a0b8e){const _0x232dd4=_0xd4b2e;this[_0x232dd4(0x9f2)]?.[_0x232dd4(0x6d6)](_0x2a0b8e[_0x232dd4(0x580)][_0x232dd4(0x2aa)]);}[_0xd4b2e(0x4c1)](){const _0x46259b=_0xd4b2e;return this[_0x46259b(0xa38)];}['setConnectionType'](_0x4ec9d5){const _0x31c0de=_0xd4b2e;this[_0x31c0de(0xa38)]=_0x4ec9d5,this[_0x31c0de(0x9f2)]?.[_0x31c0de(0x51c)](_0x4ec9d5),this[_0x31c0de(0x643)]?.['setConnectionType'](_0x4ec9d5);}async['collectStats'](){const _0xf869ca=_0xd4b2e;await this[_0xf869ca(0x9f2)]?.[_0xf869ca(0x9a4)](),await this['receiverConnection']?.['collectStats']();}[_0xd4b2e(0x356)](){const _0x17db7d=_0xd4b2e;return this[_0x17db7d(0x9f2)]?.[_0x17db7d(0x356)]()??0x0;}[_0xd4b2e(0xa32)](){const _0xa601ca=_0xd4b2e;return this['senderConnection']?.[_0xa601ca(0xa32)]()??0x0;}[_0xd4b2e(0x820)](){const _0x439f00=_0xd4b2e;this[_0x439f00(0x90f)][_0x439f00(0x55a)](this[_0x439f00(0x99c)](_0x54c48b=>{const _0x35cf8f=_0x439f00;_0x400858(_0x54c48b,this[_0x35cf8f(0x864)]())&&0x0!==_0x54c48b[_0x35cf8f(0x9b2)]&&this[_0x35cf8f(0x21d)]['get'](_0x54c48b[_0x35cf8f(0x9b2)])?.['publish'](_0x54c48b);})),this['listenerUnsubscribers'][_0x439f00(0x55a)](this[_0x439f00(0x6e3)]((_0x4f9b68,_0x3becbc)=>{const _0x167d79=_0x439f00,_0xec46fa=_0x3f330b(_0x29f76b[_0x167d79(0x9b8)]['Media'],_0x3becbc['id'],this[_0x167d79(0x875)]);this[_0x167d79(0x2b9)]['get'](_0xec46fa)?.[_0x167d79(0x2b2)]({'topicLabel':_0xec46fa,'sourceId':this[_0x167d79(0x875)],'contentType':_0x29f76b[_0x167d79(0x9b8)][_0x167d79(0x9cf)],'content':{'action':_0x509b92['RemoteAdd'],'track':_0x4f9b68,'stream':_0x3becbc,'providerId':this['remoteId']}});})),this['listenerUnsubscribers'][_0x439f00(0x55a)](this[_0x439f00(0x70f)]((_0x204748,_0x328fbb)=>{const _0x53c49c=_0x439f00,_0x4032db=_0x3f330b(_0x29f76b[_0x53c49c(0x9b8)][_0x53c49c(0x9cf)],_0x328fbb['id'],this[_0x53c49c(0x875)]);this[_0x53c49c(0x2b9)][_0x53c49c(0x6e6)](_0x4032db)?.[_0x53c49c(0x2b2)]({'topicLabel':_0x4032db,'sourceId':this[_0x53c49c(0x875)],'contentType':_0x29f76b['ContentType'][_0x53c49c(0x9cf)],'content':{'action':_0x509b92[_0x53c49c(0x2a0)],'track':_0x204748,'stream':_0x328fbb,'providerId':this[_0x53c49c(0x875)]}});}));}[_0xd4b2e(0x1ff)]({candidates:_0x2b02fb,origin:_0x123e82,version:_0xd809e8}){const _0x14e79b=_0xd4b2e;return _0x123e82===_0x4172fc['Sender']?(this[_0x14e79b(0x643)]||this[_0x14e79b(0x460)](),this[_0x14e79b(0x643)][_0x14e79b(0x8a3)](_0x2b02fb,_0xd809e8)):this[_0x14e79b(0x9f2)][_0x14e79b(0x8a3)](_0x2b02fb,_0xd809e8);}async['createOffer'](){const _0xba71d5=_0xd4b2e;this[_0xba71d5(0x9f2)]||this[_0xba71d5(0x7e5)](),await this[_0xba71d5(0x9f2)][_0xba71d5(0x15b)]();}async[_0xd4b2e(0x53f)]({offer:_0x2546da,version:_0x518560}){const _0x42713a=_0xd4b2e;this['receiverConnection']||this[_0x42713a(0x460)](),await this[_0x42713a(0x643)][_0x42713a(0x53f)](_0x2546da,_0x518560);}async[_0xd4b2e(0x665)]({answer:_0x33c899,version:_0x4d7eca}){const _0x1a6760=_0xd4b2e;if(!this[_0x1a6760(0x9f2)])throw new _0x1cac69(_0x1cac69[_0x1a6760(0x15e)][_0x1a6760(0x7eb)],{'message':'Sender\x20connection\x20is\x20not\x20initialized.','localId':this[_0x1a6760(0x864)](),'remoteId':this[_0x1a6760(0x875)],'answer':_0x33c899});await this[_0x1a6760(0x9f2)]['handleAnswer'](_0x33c899,_0x4d7eca);}[_0xd4b2e(0x9ac)](){const _0x1a3ae2=_0xd4b2e;if(!this[_0x1a3ae2(0x643)])throw new _0x1cac69(_0x1cac69[_0x1a3ae2(0x15e)][_0x1a3ae2(0x7eb)],{'message':_0x1a3ae2(0x77e),'localId':this['getLocalId'](),'remoteId':this[_0x1a3ae2(0x875)]});this['receiverConnection'][_0x1a3ae2(0x9ac)](),this[_0x1a3ae2(0x530)]||this[_0x1a3ae2(0xa38)]!==_0x4e04e5[_0x1a3ae2(0x5f5)]||(this[_0x1a3ae2(0x530)]=!0x0,this[_0x1a3ae2(0x598)]?.[_0x1a3ae2(0x2b2)]({'sourceId':this[_0x1a3ae2(0x875)],'destinationIds':[this[_0x1a3ae2(0x864)]()],'messageType':_0x49e311[_0x1a3ae2(0x73c)],'content':{'type':_0x4d0115['OptimizationConnectionSuccess']}}));}[_0xd4b2e(0x903)](_0x336ec6){const _0x2a3e48=_0xd4b2e;this[_0x2a3e48(0x643)]||this[_0x2a3e48(0x460)](),this[_0x2a3e48(0x643)][_0x2a3e48(0x903)](_0x336ec6['version']);}['createSenderConnection'](){const _0x56bcb7=_0xd4b2e;this['senderConnection']=new _0x42e4a1(this[_0x56bcb7(0x6d7)],this[_0x56bcb7(0x3ff)],this[_0x56bcb7(0x875)],this[_0x56bcb7(0x47b)],this['connectionType'],this[_0x56bcb7(0x9a8)],this['maxBpp'],this[_0x56bcb7(0x96d)]),this[_0x56bcb7(0x9f2)]['registerSystemPublisher'](this['systemTopic']);}[_0xd4b2e(0x460)](){const _0x58f84d=_0xd4b2e;this[_0x58f84d(0x643)]=new _0x521ea1(this['clusterId'],this[_0x58f84d(0x3ff)],this['remoteId'],this['iceServers'],this[_0x58f84d(0xa38)],this[_0x58f84d(0x96d)]),this['receiverConnection']['registerSystemPublisher'](this[_0x58f84d(0x598)]),this[_0x58f84d(0x33d)]['push'](this[_0x58f84d(0x643)][_0x58f84d(0x99c)](_0x10238f=>this[_0x58f84d(0x756)][_0x58f84d(0x2b2)](_0x10238f))),this[_0x58f84d(0x33d)][_0x58f84d(0x55a)](this[_0x58f84d(0x643)][_0x58f84d(0x6e3)]((_0x22e013,_0x44c6e3)=>this[_0x58f84d(0x88b)][_0x58f84d(0x2b2)]({'track':_0x22e013,'stream':_0x44c6e3}))),this[_0x58f84d(0x33d)][_0x58f84d(0x55a)](this[_0x58f84d(0x643)][_0x58f84d(0x70f)]((_0x4b2afc,_0x2aba77)=>this['removeTrackListeners'][_0x58f84d(0x2b2)]({'track':_0x4b2afc,'stream':_0x2aba77})));}}class _0x7fbb5c{['localId'];[_0xd4b2e(0x14f)];[_0xd4b2e(0x3f2)];[_0xd4b2e(0x86e)]=new Map();['messageListeners']=_0xfb027c();['messageUnsubscriber'];[_0xd4b2e(0x21d)]=new Map();[_0xd4b2e(0x3fe)]=new Map();['retryQueues']=new Map();constructor(_0x55b01c,_0x25a9f0,_0x1786b8){const _0x3f57bb=_0xd4b2e;this[_0x3f57bb(0x4f7)]=_0x55b01c,this[_0x3f57bb(0x14f)]=_0x25a9f0,this[_0x3f57bb(0x3f2)]=_0x1786b8,this['messageUnsubscriber']=this[_0x3f57bb(0x99c)](_0x26cb2e=>{const _0x83e543=_0x3f57bb;this[_0x83e543(0x14f)][_0x83e543(0x46c)](_0x26cb2e[_0x83e543(0x442)])||(_0x400858(_0x26cb2e,this[_0x83e543(0x4f7)])&&0x0!==_0x26cb2e[_0x83e543(0x9b2)]&&(this[_0x83e543(0x14f)][_0x83e543(0xa2b)](_0x26cb2e[_0x83e543(0x442)]),this[_0x83e543(0x21d)][_0x83e543(0x6e6)](_0x26cb2e[_0x83e543(0x9b2)])?.['publish'](_0x26cb2e)),_0x26cb2e[_0x83e543(0x187)]&&this[_0x83e543(0x13b)](_0x26cb2e));});}[_0xd4b2e(0x27e)](){const _0x24870f=_0xd4b2e;this[_0x24870f(0x4e9)]?.();}[_0xd4b2e(0x587)](_0x1970bd){const _0x1c101a=_0xd4b2e,_0x3f16d4=_0x1970bd[_0x1c101a(0x99c)](_0x3863c4=>{this['messageListeners']['publish'](_0x3863c4);});this[_0x1c101a(0x86e)][_0x1c101a(0x991)](_0x1970bd,_0x3f16d4),this['retryQueues'][_0x1c101a(0x991)](_0x1970bd[_0x1c101a(0x7e3)](),function(_0x5dc256,_0x50655e=!0x1){let _0x477ba9=new Map();const _0x3f072e=_0x1cc979(_0x5dc256,_0x50655e,function(_0x1d4195){const _0x3a9a95=a0_0x2e29;_0xed8f6c(_0x1d4195)&&_0x477ba9['delete'](_0x1d4195[_0x3a9a95(0x3e6)]+'-'+(_0x1d4195[_0x3a9a95(0x6c0)]??[])+'-'+_0x1d4195[_0x3a9a95(0xa63)]+'-'+_0x1d4195[_0x3a9a95(0x580)]['type']);},function(_0x138523){return!!function(_0x2c0779){const _0x26aaeb=a0_0x2e29,_0x3d45f1=_0x2c0779['value'];if(!_0xed8f6c(_0x3d45f1))return!0x1;const _0x342ef8=_0x3d45f1[_0x26aaeb(0x3e6)]+'-'+(_0x3d45f1[_0x26aaeb(0x6c0)]??[])+'-'+_0x3d45f1['messageType']+'-'+_0x3d45f1[_0x26aaeb(0x580)][_0x26aaeb(0x747)],_0x2637bb={'version':_0x3d45f1[_0x26aaeb(0x580)][_0x26aaeb(0x8a6)],'element':_0x2c0779},_0x37030f=_0x477ba9['get'](_0x342ef8);return _0x37030f?(_0x37030f[_0x26aaeb(0x8a6)]>=_0x3d45f1[_0x26aaeb(0x580)][_0x26aaeb(0x8a6)]||(_0x37030f['element'][_0x26aaeb(0x2e4)]&&(_0x37030f['element'][_0x26aaeb(0x2e4)][_0x26aaeb(0x1e6)]=_0x2c0779,_0x2c0779[_0x26aaeb(0x2e4)]=_0x37030f[_0x26aaeb(0x74d)][_0x26aaeb(0x2e4)]),_0x37030f[_0x26aaeb(0x74d)][_0x26aaeb(0x1e6)]&&(_0x37030f[_0x26aaeb(0x74d)][_0x26aaeb(0x1e6)]['previous']=_0x2c0779,_0x2c0779['next']=_0x37030f['element'][_0x26aaeb(0x1e6)]),_0x37030f[_0x26aaeb(0x74d)]===_0x3f072e['head']&&(_0x3f072e[_0x26aaeb(0x9c7)]=_0x2c0779),_0x37030f['element']===_0x3f072e[_0x26aaeb(0x9da)]&&(_0x3f072e['tail']=_0x2c0779),_0x477ba9[_0x26aaeb(0x991)](_0x342ef8,_0x2637bb)),!0x0):(_0x477ba9[_0x26aaeb(0x991)](_0x342ef8,_0x2637bb),!0x1);}(_0x138523);},function(){_0x477ba9['clear']();});function _0xed8f6c(_0x21a637){const _0xa87165=a0_0x2e29;if(_0x21a637&&_0xa87165(0x890)==typeof _0x21a637&&_0x21a637[_0xa87165(0x808)]('content')&&_0x21a637[_0xa87165(0x808)](_0xa87165(0xa63))&&_0x21a637[_0xa87165(0x808)](_0xa87165(0x3e6))){const _0x375809=_0x21a637;if(_0x375809[_0xa87165(0x580)]&&_0xa87165(0x890)==typeof _0x375809[_0xa87165(0x580)]&&_0x375809['content'][_0xa87165(0x808)](_0xa87165(0x8a6))&&_0x375809[_0xa87165(0x580)][_0xa87165(0x808)](_0xa87165(0x747)))return!0x0;}return!0x1;}return _0x3f072e;}(new _0x329b2f(_0x5dd43d=>_0x1970bd[_0x1c101a(0x13b)](_0x5dd43d),()=>_0x1b723a[_0x1c101a(0x51b)](0x64))));}[_0xd4b2e(0x39e)](_0x148608){const _0x3a9d0c=_0xd4b2e;this[_0x3a9d0c(0x86e)]['get'](_0x148608)?.(),this[_0x3a9d0c(0x86e)][_0x3a9d0c(0xa2f)](_0x148608),this[_0x3a9d0c(0x97f)]['get'](_0x148608[_0x3a9d0c(0x7e3)]())?.[_0x3a9d0c(0x1b8)](),this['retryQueues'][_0x3a9d0c(0xa2f)](_0x148608[_0x3a9d0c(0x7e3)]());}[_0xd4b2e(0x4ea)](_0x30c22d){const _0x2fecdf=_0xd4b2e;return _0x98a765[_0x2fecdf(0x22d)](_0x831a2b['ConnectionState'],_0x2fecdf(0x3b3),this[_0x2fecdf(0x4f7)],this[_0x2fecdf(0x86e)]['keys']()),0x0!==this[_0x2fecdf(0x86e)]['size']&&(Array['from'](this['connections'][_0x2fecdf(0x31f)]())[_0x2fecdf(0x91c)](_0x27164a=>_0x27164a['getRemoteId']()===_0x30c22d)?.['isConnected']()??!0x1);}[_0xd4b2e(0x66f)](_0x175176){const _0x57bb86=_0xd4b2e;this['dataTopics'][_0x57bb86(0x991)](_0x175176[_0x57bb86(0x255)](),_0x175176);}[_0xd4b2e(0x29f)](_0x5a9f1b){const _0x274ff1=_0xd4b2e;this[_0x274ff1(0x21d)][_0x274ff1(0xa2f)](_0x5a9f1b['getLabel']());}[_0xd4b2e(0x89e)](_0x481c7e){const _0x59da31=_0xd4b2e,_0xb3dc85=_0x481c7e[_0x59da31(0x696)](this[_0x59da31(0x13b)][_0x59da31(0x536)](this));this['dataUnsubscribers']['set'](_0x481c7e[_0x59da31(0x255)](),_0xb3dc85);}[_0xd4b2e(0x35f)](_0x7479c0){const _0xb1faab=_0xd4b2e;this[_0xb1faab(0x3fe)][_0xb1faab(0x6e6)](_0x7479c0[_0xb1faab(0x255)]())?.(),this[_0xb1faab(0x3fe)][_0xb1faab(0xa2f)](_0x7479c0[_0xb1faab(0x255)]());}[_0xd4b2e(0x9cd)](){const _0x2e7de4=_0xd4b2e;return[_0x29f76b[_0x2e7de4(0x9b8)][_0x2e7de4(0x24a)],_0x29f76b[_0x2e7de4(0x9b8)][_0x2e7de4(0xa3d)],_0x29f76b['ContentType'][_0x2e7de4(0x65b)],_0x29f76b[_0x2e7de4(0x9b8)]['KeyValueDatabase'],_0x29f76b[_0x2e7de4(0x9b8)][_0x2e7de4(0x506)],_0x29f76b['ContentType']['VectorDatabase'],_0x29f76b[_0x2e7de4(0x9b8)][_0x2e7de4(0x65e)],_0x29f76b[_0x2e7de4(0x9b8)][_0x2e7de4(0x450)]];}[_0xd4b2e(0x13b)](_0x1db32c){const _0x62a198=_0xd4b2e;if(!0x1===_0x1db32c[_0x62a198(0x5ff)]){if(_0x1db32c[_0x62a198(0x187)]||!_0x1db32c[_0x62a198(0x6c0)]||0x1!==_0x1db32c[_0x62a198(0x6c0)][_0x62a198(0x9b4)])throw new _0x1cac69(_0x1cac69['codes']['ConnectionInvalidDataEvent'],{'message':_0x62a198(0x5f6),'localId':this[_0x62a198(0x4f7)]});if(!this[_0x62a198(0x4ea)](_0x1db32c[_0x62a198(0x6c0)][0x0]))throw new _0x589491(_0x62a198(0x701));}const _0x5afdc3=_0x1db32c[_0x62a198(0x610)]??[];try{const {filteredDestinationIds:_0xcb9c7c,extendedRecipients:_0x22ce2b}=this['updatePropagationProperties'](_0x1db32c,_0x5afdc3);_0x1db32c[_0x62a198(0x6c0)]=_0xcb9c7c,_0x1db32c['recipients']=_0x22ce2b;}catch(_0x249efa){if(_0x249efa instanceof _0x589491)return void _0x98a765[_0x62a198(0x22d)](_0x831a2b[_0x62a198(0x4e6)],'CrewdleConnectionGroup',_0x62a198(0x545),_0x1db32c,_0x249efa['message']);}const _0x578b47=this['shouldContinuePropagation'](_0x1db32c);this['logPropagateSystemEvent'](_0x1db32c,_0x578b47),_0x1db32c[_0x62a198(0x187)]=_0x578b47;const _0x5566ab=this[_0x62a198(0x200)](_0x1db32c,_0x5afdc3);for(const _0x58cf87 of _0x5566ab){const _0x4546d9=this[_0x62a198(0x97f)]['get'](_0x58cf87[_0x62a198(0x7e3)]());if(!_0x4546d9)throw new _0x1cac69(_0x1cac69[_0x62a198(0x15e)]['ConnectionNoRetryQueue'],{'message':_0x62a198(0x158),'localId':this[_0x62a198(0x4f7)],'remoteId':_0x58cf87['getRemoteId'](),'data':_0x1db32c});_0x4546d9['push'](_0x1db32c);}}[_0xd4b2e(0x7e3)](){return'';}[_0xd4b2e(0x864)](){const _0x27323c=_0xd4b2e;return this[_0x27323c(0x4f7)];}[_0xd4b2e(0x99c)](_0x2240de){const _0x2cb970=_0xd4b2e;return this[_0x2cb970(0x756)]['subscribe'](_0x2240de);}[_0xd4b2e(0x449)](_0x8e68c7,_0x53287a){const _0x4dac0b=_0xd4b2e,_0x261f12={'filteredDestinationIds':_0x8e68c7[_0x4dac0b(0x6c0)],'extendedRecipients':_0x8e68c7[_0x4dac0b(0x610)]};if(!_0x8e68c7[_0x4dac0b(0x187)])return _0x261f12;const _0x134fe8=Array['from'](this[_0x4dac0b(0x86e)][_0x4dac0b(0x31f)]())[_0x4dac0b(0x893)](_0x388fc8=>_0x388fc8['getConnectionType']()===_0x4e04e5[_0x4dac0b(0x4fb)]||_0x388fc8[_0x4dac0b(0x4ea)]())[_0x4dac0b(0x7da)](_0x39f007=>_0x39f007[_0x4dac0b(0x7e3)]());if(_0x134fe8['reduce']((_0x13d8b7,_0x2e57db)=>_0x13d8b7&&_0x8e68c7['recipients'][_0x4dac0b(0x29c)](_0x2e57db),!0x0))throw new _0x589491(_0x4dac0b(0x78d));if(_0x8e68c7[_0x4dac0b(0x6c0)]){const _0x30b8da=_0x8e68c7[_0x4dac0b(0x6c0)]['filter'](_0x4266a5=>_0x4266a5!==this[_0x4dac0b(0x4f7)]&&!_0x8e68c7[_0x4dac0b(0x610)][_0x4dac0b(0x29c)](_0x4266a5));if(0x0===_0x30b8da[_0x4dac0b(0x9b4)])throw new _0x589491(_0x4dac0b(0x5e6));_0x261f12[_0x4dac0b(0x8eb)]=_0x30b8da;}return _0x261f12['extendedRecipients']=[...new Set([..._0x53287a,..._0x134fe8,this[_0x4dac0b(0x4f7)]])],_0x261f12;}[_0xd4b2e(0x9e5)](_0x1128c0,_0x52e8b2=!0x1){const _0xbed4c9=_0xd4b2e;if(0x0===_0x1128c0[_0xbed4c9(0x9b2)]&&!_0x485106(_0x1128c0,this[_0xbed4c9(0x4f7)])&&_0x1128c0[_0xbed4c9(0x187)]){const _0x880cc0=_0x1a3ffa(_0x1128c0,this[_0xbed4c9(0x4f7)]);_0x98a765[_0xbed4c9(0x3e2)](_0x831a2b['System'],_0x1128c0[_0xbed4c9(0x442)]+_0xbed4c9(0x239)+_0x52e8b2+')\x20'+_0x880cc0,_0x1128c0,_0x52e8b2);}}[_0xd4b2e(0x722)](_0xd955d6){const _0xda7016=_0xd4b2e;if(_0xd955d6[_0xda7016(0x6c0)]&&_0xd955d6[_0xda7016(0x187)]){const _0x11d245=Array['from'](this[_0xda7016(0x86e)][_0xda7016(0x31f)]())['filter'](_0x9bf8d1=>_0x9bf8d1[_0xda7016(0x4c1)]()===_0x4e04e5[_0xda7016(0x4fb)]||_0x9bf8d1['isConnected']())[_0xda7016(0x7da)](_0x4b7109=>_0x4b7109[_0xda7016(0x7e3)]());return!_0xd955d6['destinationIds'][_0xda7016(0x7aa)]((_0x5f5504,_0x591642)=>_0x5f5504&&_0x11d245['includes'](_0x591642),!0x0);}return _0xd955d6['propagate']??!0x1;}[_0xd4b2e(0x200)](_0x46a39b,_0x353f7d){const _0x118772=_0xd4b2e;if(_0x46a39b[_0x118772(0x187)]&&_0x46a39b[_0x118772(0x6c0)]){const _0xcacf89=Array[_0x118772(0x35c)](this[_0x118772(0x86e)][_0x118772(0x31f)]())[_0x118772(0x893)](_0xdeeaa7=>_0xdeeaa7[_0x118772(0x4c1)]()===_0x4e04e5['Core']||_0xdeeaa7[_0x118772(0x4ea)]())[_0x118772(0x7da)](_0x532055=>_0x532055[_0x118772(0x7e3)]()),_0x4309e8=new Set(),_0x7f9f76=_0x46a39b[_0x118772(0x3e6)]===this[_0x118772(0x4f7)]?0x3:0x1;return _0x46a39b[_0x118772(0x6c0)][_0x118772(0x7d0)](_0x48427f=>{const _0x5401a9=_0x118772,_0x139db5=this[_0x5401a9(0x3f2)][_0x5401a9(0x993)](_0xcacf89,_0x48427f);let _0x28cff9=0x0,_0x1fb199=0x0;_0x139db5[_0x5401a9(0x7d0)](_0x41c928=>{const _0x533ba8=_0x5401a9;if(_0x28cff9>=_0x7f9f76)return;const _0x1a6675=Array[_0x533ba8(0x35c)](this['connections'][_0x533ba8(0x31f)]())[_0x533ba8(0x91c)](_0x3eb139=>_0x3eb139[_0x533ba8(0x7e3)]()===_0x41c928);if(_0x1a6675){if(_0x1a6675[_0x533ba8(0x4c1)]()===_0x4e04e5['Core']&&_0x1fb199>0x0)return void(_0x1fb199-=0x1);_0x4309e8['add'](_0x1a6675),_0x1a6675[_0x533ba8(0x4c1)]()===_0x4e04e5[_0x533ba8(0x5f5)]&&(_0x1fb199+=0x1),_0x28cff9+=0x1;}});}),Array[_0x118772(0x35c)](_0x4309e8);}return Array['from'](this['connections'][_0x118772(0x31f)]())['filter'](_0x49b87b=>{const _0x4d1112=_0x118772;return _0x1d1902=_0x49b87b[_0x4d1112(0x7e3)](),!_0x353f7d[_0x4d1112(0x29c)](_0x1d1902)&&(_0x400858(_0x46a39b,_0x1d1902)||_0x46a39b[_0x4d1112(0x187)])&&(!_0x46a39b[_0x4d1112(0x187)]||_0x49b87b[_0x4d1112(0x4ea)]()||_0x49b87b['getConnectionType']()===_0x4e04e5[_0x4d1112(0x4fb)]);var _0x1d1902;});}}class _0x10ac3c{[_0xd4b2e(0x4f7)];['messageBuffer'];[_0xd4b2e(0x86e)]=new Map();[_0xd4b2e(0x598)];constructor(_0x2adc55,_0x1d229d){const _0x31a6e3=_0xd4b2e;this[_0x31a6e3(0x4f7)]=_0x2adc55,this['messageBuffer']=_0x1d229d;}[_0xd4b2e(0x27e)](){}[_0xd4b2e(0x13b)](_0x25affe){const _0x867681=_0xd4b2e;for(const _0x23b4b8 of this[_0x867681(0x86e)][_0x867681(0x31f)]())try{return void _0x23b4b8[_0x867681(0x13b)]({'retry':!0x1,..._0x25affe});}catch(_0x304a4b){_0x304a4b instanceof _0x589491||_0x98a765[_0x867681(0x22d)](_0x831a2b[_0x867681(0x71d)],_0x867681(0x51a)+_0x23b4b8,_0x304a4b,_0x25affe);}_0x98a765['log'](_0x831a2b[_0x867681(0x71d)],_0x867681(0x3ea));}['addConnection'](_0x4dc7c4){const _0x21eb7b=_0xd4b2e,_0x431da6=_0x4dc7c4['onMessage'](_0x139458=>{const _0x10f115=a0_0x2e29;this[_0x10f115(0x14f)][_0x10f115(0x46c)](_0x139458[_0x10f115(0x442)])||0x0===_0x139458[_0x10f115(0x9b2)]&&(this['messageBuffer'][_0x10f115(0xa2b)](_0x139458[_0x10f115(0x442)]),_0x400858(_0x139458,this[_0x10f115(0x4f7)])&&this[_0x10f115(0x598)]?.['publish'](_0x139458));});this[_0x21eb7b(0x86e)][_0x21eb7b(0x991)](_0x4dc7c4,_0x431da6);}[_0xd4b2e(0x39e)](_0x501f93){const _0x59c4aa=_0xd4b2e;this[_0x59c4aa(0x86e)][_0x59c4aa(0x6e6)](_0x501f93)?.(),this['connections']['delete'](_0x501f93);}[_0xd4b2e(0x864)](){const _0x18ec88=_0xd4b2e;return this[_0x18ec88(0x4f7)];}[_0xd4b2e(0x7e3)](){return'';}['getSupportedContentTypes'](){const _0x3643f2=_0xd4b2e;return[_0x29f76b[_0x3643f2(0x9b8)]['Data']];}['isConnected'](){const _0x4b9506=_0xd4b2e;throw new Error(_0x4b9506(0x8ee));}[_0xd4b2e(0x14c)](_0xd926f9){const _0xbf282e=_0xd4b2e;this[_0xbf282e(0x598)]=_0xd926f9;}[_0xd4b2e(0x738)](){const _0x15c2e6=_0xd4b2e;delete this[_0x15c2e6(0x598)];}}class _0x487418{[_0xd4b2e(0x68b)]=new Map();[_0xd4b2e(0x6de)];constructor(){this['unsubscribeHandler']=_0x1b723a['setInterval'](()=>{const _0x3fc104=a0_0x2e29;for(const [_0xfc9ba5,_0x51ce2a]of this[_0x3fc104(0x68b)][_0x3fc104(0x63e)]())Date[_0x3fc104(0x702)]()-_0x51ce2a>0x124f80&&this[_0x3fc104(0x68b)][_0x3fc104(0xa2f)](_0xfc9ba5);},0x1d4c0);}[_0xd4b2e(0x27e)](){this['unsubscribeHandler']();}[_0xd4b2e(0xa2b)](_0x42d05e){const _0x172eb7=_0xd4b2e;this[_0x172eb7(0x68b)]['set'](_0x42d05e,Date[_0x172eb7(0x702)]());}['hasMessage'](_0x75cd09){const _0x230b21=_0xd4b2e;return this['buffer'][_0x230b21(0x8e9)](_0x75cd09);}}class _0x157333{[_0xd4b2e(0x33f)];[_0xd4b2e(0x54b)];['iceServers'];[_0xd4b2e(0x49e)];['connections']=new Map();[_0xd4b2e(0x7c8)];['connectionGroup'];[_0xd4b2e(0x238)];[_0xd4b2e(0x14f)];constructor(_0x58c2ce,_0x4635aa,_0x27a049,_0x3313b7,_0x5a9957){const _0x1562e0=_0xd4b2e;this['configs']=_0x58c2ce,this[_0x1562e0(0x54b)]=_0x4635aa,this[_0x1562e0(0x47b)]=_0x3313b7,this['options']=_0x5a9957,this[_0x1562e0(0x14f)]=new _0x487418(),this[_0x1562e0(0x98f)]=new _0x7fbb5c(this[_0x1562e0(0x33f)]['localNode'][_0x1562e0(0x2a6)](),this[_0x1562e0(0x14f)],_0x27a049),this[_0x1562e0(0x238)]=new _0x5aefe3(this[_0x1562e0(0x33f)][_0x1562e0(0x313)],this[_0x1562e0(0x33f)][_0x1562e0(0x6d7)],this[_0x1562e0(0x33f)][_0x1562e0(0x3ff)],_0x1562e0(0x558),this[_0x1562e0(0x54b)]),this['connectionPool']=new _0x10ac3c(this[_0x1562e0(0x33f)][_0x1562e0(0x3ff)][_0x1562e0(0x2a6)](),this[_0x1562e0(0x14f)]),this[_0x1562e0(0x7c8)][_0x1562e0(0x587)](this[_0x1562e0(0x98f)]),this[_0x1562e0(0x7c8)][_0x1562e0(0x587)](this[_0x1562e0(0x238)]),this['configs'][_0x1562e0(0x532)][_0x1562e0(0x844)](this['connectionPool']);}['close'](){const _0x13fa00=_0xd4b2e;this[_0x13fa00(0x14f)]['close'](),this[_0x13fa00(0x86e)]['forEach']((_0x38ffc7,_0x3789ed)=>this[_0x13fa00(0x6e1)](_0x3789ed)),this[_0x13fa00(0x33f)][_0x13fa00(0x532)][_0x13fa00(0x22e)](this[_0x13fa00(0x7c8)]),this[_0x13fa00(0x7c8)][_0x13fa00(0x39e)](this[_0x13fa00(0x238)]),this[_0x13fa00(0x7c8)]['removeConnection'](this['connectionGroup']),this[_0x13fa00(0x7c8)][_0x13fa00(0x27e)](),this[_0x13fa00(0x238)]['close'](),this[_0x13fa00(0x98f)][_0x13fa00(0x27e)]();}async['initialize'](){const _0x530ea3=_0xd4b2e;await this[_0x530ea3(0x238)]['connect']();}async[_0xd4b2e(0x53e)](_0x18fc52,_0x541b55=_0x4e04e5[_0xd4b2e(0x4fb)]){const _0x5bdc37=_0xd4b2e;if(this[_0x5bdc37(0x86e)]['has'](_0x18fc52)){if(this[_0x5bdc37(0x86e)][_0x5bdc37(0x6e6)](_0x18fc52)?.[_0x5bdc37(0x4c1)]()===_0x4e04e5[_0x5bdc37(0x5f5)]&&_0x541b55===_0x4e04e5[_0x5bdc37(0x4fb)])return void this['connections'][_0x5bdc37(0x6e6)](_0x18fc52)?.[_0x5bdc37(0x51c)](_0x4e04e5[_0x5bdc37(0x4fb)]);throw new _0x1cac69(_0x1cac69['codes'][_0x5bdc37(0x2bc)],{'localId':this[_0x5bdc37(0x33f)][_0x5bdc37(0x3ff)]['getId'](),'remoteId':_0x18fc52});}const _0x846dfd=new _0x37d0f1(this[_0x5bdc37(0x33f)][_0x5bdc37(0x6d7)],this['configs'][_0x5bdc37(0x3ff)],_0x18fc52,this[_0x5bdc37(0x47b)],_0x541b55,this['options'][_0x5bdc37(0x9a8)],this[_0x5bdc37(0x49e)][_0x5bdc37(0x75e)],this[_0x5bdc37(0x49e)][_0x5bdc37(0x290)]);this[_0x5bdc37(0x86e)][_0x5bdc37(0x991)](_0x18fc52,_0x846dfd),this[_0x5bdc37(0x98f)][_0x5bdc37(0x587)](_0x846dfd),this[_0x5bdc37(0x33f)][_0x5bdc37(0x532)][_0x5bdc37(0x844)](_0x846dfd),this['configs'][_0x5bdc37(0x532)][_0x5bdc37(0x54a)](_0x18fc52),await _0x846dfd[_0x5bdc37(0xa48)]();}[_0xd4b2e(0x473)](){return this['connectionGroup'];}[_0xd4b2e(0x6bd)](_0x33fb37){const _0x56ef64=_0xd4b2e;if(!this[_0x56ef64(0x86e)]['has'](_0x33fb37))throw new _0x1cac69(_0x1cac69[_0x56ef64(0x15e)][_0x56ef64(0xa7e)],{'localId':this[_0x56ef64(0x33f)][_0x56ef64(0x3ff)]['getId'](),'remoteId':_0x33fb37});return this['connections'][_0x56ef64(0x6e6)](_0x33fb37);}['getConnections'](_0x5efef6){const _0x3e3ed1=_0xd4b2e,_0x267763=Array[_0x3e3ed1(0x35c)](this[_0x3e3ed1(0x86e)][_0x3e3ed1(0x75b)]());return _0x5efef6?_0x267763[_0x3e3ed1(0x893)](_0x5efef6):_0x267763;}async['collectStats'](_0x5a2c09){const _0x11564e=_0xd4b2e,_0x12ce39=this['connections'][_0x11564e(0x6e6)](_0x5a2c09);_0x12ce39&&_0x12ce39[_0x11564e(0x4ea)]()&&await _0x12ce39[_0x11564e(0x9a4)]();}[_0xd4b2e(0x79f)](_0x59516b){const _0x36619b=_0xd4b2e;if(_0x59516b[_0x36619b(0xa63)]!==_0x49e311[_0x36619b(0x73c)]||_0x59516b[_0x36619b(0x187)])try{this[_0x36619b(0x98f)]['send'](_0x59516b);}catch(_0x38cf39){if(_0x38cf39 instanceof _0x589491)return;throw _0x38cf39;}else this[_0x36619b(0x7c8)][_0x36619b(0x13b)](_0x59516b);}async[_0xd4b2e(0x911)](_0x1568a4){const _0x1dea76=_0xd4b2e;switch(_0x1568a4[_0x1dea76(0x580)][_0x1dea76(0x747)]){case _0x4d0115[_0x1dea76(0x6ed)]:case _0x4d0115['Stats']:case _0x4d0115[_0x1dea76(0x452)]:return;}if(!_0x1568a4[_0x1dea76(0x6c0)]||0x1!==_0x1568a4[_0x1dea76(0x6c0)]['length'])throw new _0x1cac69(_0x1cac69['codes'][_0x1dea76(0x726)],{'message':_0x1dea76(0x3be),'event':_0x1568a4});if(_0x1568a4[_0x1dea76(0x6c0)][0x0]!==this['configs'][_0x1dea76(0x3ff)][_0x1dea76(0x2a6)]())throw new _0x1cac69(_0x1cac69[_0x1dea76(0x15e)]['PeerConnectionInvalidDestination'],{'message':_0x1dea76(0xa68),'event':_0x1568a4});if(!this[_0x1dea76(0x86e)][_0x1dea76(0x8e9)](_0x1568a4[_0x1dea76(0x3e6)])){let _0x73efd3=_0x4e04e5[_0x1dea76(0x4fb)];if(!(this['isOffer'](_0x1568a4[_0x1dea76(0x580)])||this[_0x1dea76(0x21f)](_0x1568a4['content'])||this[_0x1dea76(0x82a)](_0x1568a4['content'])))return;_0x73efd3=_0x1568a4[_0x1dea76(0x580)][_0x1dea76(0xa38)],await this[_0x1dea76(0x53e)](_0x1568a4[_0x1dea76(0x3e6)],_0x73efd3);}const _0x506801=this[_0x1dea76(0x86e)]['get'](_0x1568a4[_0x1dea76(0x3e6)]);await _0x506801['handlePeerConnectionSystemEvents'](_0x1568a4);}[_0xd4b2e(0x34b)](_0x36e170){const _0x206215=_0xd4b2e;if(_0x36e170['content']['type']===_0xee07e0['Remediation']){if(_0x36e170[_0x206215(0x580)][_0x206215(0x8d4)]===this[_0x206215(0x33f)]['localNode'][_0x206215(0x2a6)]())return void this['connections']['forEach'](_0x1ff1c7=>_0x1ff1c7['handleRemediationSystemEvents'](_0x36e170));this[_0x206215(0x86e)][_0x206215(0x6e6)](_0x36e170[_0x206215(0x580)][_0x206215(0x8d4)])?.['handleRemediationSystemEvents'](_0x36e170);}}[_0xd4b2e(0x631)]({content:_0x14d69d}){const _0x183075=_0xd4b2e;_0x14d69d[_0x183075(0x747)]===_0xebf85e[_0x183075(0x8cb)]&&this['closeConnection'](_0x14d69d['id']);}[_0xd4b2e(0x9fc)](){const _0x545aea=_0xd4b2e,_0x5bc53a=Array['from'](this[_0x545aea(0x86e)]['values']())['reduce']((_0x1ef885,_0x2cb410)=>_0x1ef885+_0x2cb410[_0x545aea(0x356)](),0x0);return _0x5bc53a<_0x38482d?Promise[_0x545aea(0x223)](_0x5bc53a):new Promise(_0x5d7212=>{const _0x3d3422=setInterval(()=>{const _0x388253=a0_0x2e29,_0x327f33=Array[_0x388253(0x35c)](this[_0x388253(0x86e)][_0x388253(0x75b)]())[_0x388253(0x7aa)]((_0x528112,_0x5238b6)=>_0x528112+_0x5238b6[_0x388253(0x356)](),0x0);_0x327f33<_0x38482d&&(clearInterval(_0x3d3422),_0x5d7212(_0x327f33));},0x3e8);});}[_0xd4b2e(0x8ef)](){const _0x44f30c=_0xd4b2e;for(const _0x2ad085 of this['connections']['values']())if(_0x2ad085['getBufferedAmount']()>0x0||_0x2ad085[_0x44f30c(0x356)]()>0x0)return!0x0;return!0x1;}[_0xd4b2e(0x6e1)](_0x517866){const _0x48a124=_0xd4b2e,_0x112dce=this[_0x48a124(0x86e)][_0x48a124(0x6e6)](_0x517866);_0x112dce&&(this[_0x48a124(0x33f)][_0x48a124(0x532)][_0x48a124(0x635)](_0x517866),this[_0x48a124(0x33f)][_0x48a124(0x532)][_0x48a124(0x22e)](_0x112dce),_0x112dce instanceof _0x37d0f1&&this['connectionGroup']['removeConnection'](_0x112dce),_0x112dce['close'](),this[_0x48a124(0x86e)][_0x48a124(0xa2f)](_0x517866));}['isOffer'](_0x488b26){const _0x46ecc7=_0xd4b2e;return _0x488b26[_0x46ecc7(0x747)]===_0x4d0115[_0x46ecc7(0x4e1)];}[_0xd4b2e(0x82a)](_0x22a11d){const _0x24cbac=_0xd4b2e;return _0x22a11d[_0x24cbac(0x747)]===_0x4d0115['NeedRestart'];}[_0xd4b2e(0x21f)](_0x147891){const _0x3fa415=_0xd4b2e;return _0x147891[_0x3fa415(0x747)]===_0x4d0115['Handshake'];}}!function(_0x47572c){const _0x3df8ef=_0xd4b2e;_0x47572c[_0x47572c[_0x3df8ef(0x6a5)]=0x0]=_0x3df8ef(0x6a5),_0x47572c[_0x47572c[_0x3df8ef(0x7ab)]=0x1]=_0x3df8ef(0x7ab),_0x47572c[_0x47572c[_0x3df8ef(0x208)]=0x2]=_0x3df8ef(0x208),_0x47572c[_0x47572c[_0x3df8ef(0x478)]=0x3]=_0x3df8ef(0x478),_0x47572c[_0x47572c[_0x3df8ef(0x219)]=0x4]='RestartNeedMediaStream',_0x47572c[_0x47572c['CanProvideMediaStream']=0x5]='CanProvideMediaStream',_0x47572c[_0x47572c['CannotProvideMediaStream']=0x6]=_0x3df8ef(0xa28),_0x47572c[_0x47572c[_0x3df8ef(0x612)]=0x7]='MediaStreamUnavailable';}(_0x2478e8||(_0x2478e8={}));class _0xb1fffe extends _0x19f40b{['localNode'];[_0xd4b2e(0x6d7)];[_0xd4b2e(0x313)];[_0xd4b2e(0x649)];[_0xd4b2e(0x8ed)];['reads']=0x0;[_0xd4b2e(0x2a4)];['eventListener']=_0xfb027c();[_0xd4b2e(0x90f)]=new Map();[_0xd4b2e(0x244)];constructor(_0x4cb040,_0x54c055,_0x27f0e7,_0x5060fa,_0x2a4b2a){const _0x4c8541=_0xd4b2e;if(_0x4c8541(0x8e6)!=typeof _0x54c055)throw new _0x276337(_0x15ca7a[_0x4c8541(0x67f)],'Cannot\x20create\x20External\x20Storage:\x20Name\x20must\x20be\x20a\x20string');super(_0x4cb040,_0x54c055),this[_0x4c8541(0x3ff)]=_0x4cb040,this['clusterId']=_0x27f0e7,this['vendorId']=_0x5060fa,this[_0x4c8541(0x649)]=_0x2a4b2a,this[_0x4c8541(0x53c)]();}[_0xd4b2e(0x32a)](){const _0x1a6072=_0xd4b2e;this[_0x1a6072(0x244)]?.(),this['listenerUnsubscribers']['forEach'](_0x384557=>_0x384557()),clearTimeout(this[_0x1a6072(0x8ed)]),delete this[_0x1a6072(0x8ed)],super[_0x1a6072(0x32a)]();}[_0xd4b2e(0x5f1)](){this['sendStats']();}[_0xd4b2e(0x27e)](){const _0x35eb63=_0xd4b2e;this[_0x35eb63(0x598)][_0x35eb63(0x2b2)]({'sourceId':_0x596898,'messageType':_0x49e311[_0x35eb63(0x657)],'content':{'type':_0x2b2ef9[_0x35eb63(0xa52)],'label':this['label']}});}[_0xd4b2e(0x161)](){const _0x513e11=_0xd4b2e;return _0x29f76b[_0x513e11(0x9b8)]['ExternalStorage'];}async['get'](_0x3309ef){const _0xdf40cd=_0xd4b2e;if(!this[_0xdf40cd(0x2a4)])throw new _0x276337(_0x15ca7a[_0xdf40cd(0x928)],_0xdf40cd(0x2a2));_0x98a765[_0xdf40cd(0x256)](_0xdcad61['ExternalStorage'],{'type':_0xdf40cd(0x6e6),'label':this[_0xdf40cd(0x39a)],'nodeId':this[_0xdf40cd(0x3ff)]['getId'](),'nodeType':this[_0xdf40cd(0x3ff)][_0xdf40cd(0x747)],'clusterId':this[_0xdf40cd(0x6d7)],'path':_0x3309ef}),this['reads']+=0x1,this['sendStats']();try{return await this[_0xdf40cd(0x2a4)][_0xdf40cd(0x6e6)](_0x3309ef);}catch(_0x58a486){throw new _0x276337(_0x15ca7a[_0xdf40cd(0x461)],_0xdf40cd(0x4ac)+_0x3309ef);}}async[_0xd4b2e(0x3ad)](_0x4b7017,_0xd1bb7){const _0x3615c1=_0xd4b2e;if(!this['connector'])throw new _0x276337(_0x15ca7a[_0x3615c1(0x928)],_0x3615c1(0x210));const {recursive:_0x130dc5=!0x1}=_0xd1bb7??{};_0x98a765[_0x3615c1(0x256)](_0xdcad61[_0x3615c1(0x450)],{'type':_0x3615c1(0x3ad),'label':this[_0x3615c1(0x39a)],'nodeId':this[_0x3615c1(0x3ff)][_0x3615c1(0x2a6)](),'nodeType':this[_0x3615c1(0x3ff)][_0x3615c1(0x747)],'clusterId':this[_0x3615c1(0x6d7)],'path':_0x4b7017}),this['reads']+=0x1,this[_0x3615c1(0x53c)]();try{return await this[_0x3615c1(0x2a4)][_0x3615c1(0x3ad)](_0x4b7017,_0x130dc5);}catch(_0x8046d3){throw new _0x276337(_0x15ca7a[_0x3615c1(0x461)],_0x3615c1(0xa0f)+_0x4b7017);}}[_0xd4b2e(0x696)](_0x529594,_0x4ae3ab){const _0x2f71d1=_0xd4b2e;if(this['listenerUnsubscribers'][_0x2f71d1(0x8e9)](_0x529594))throw new _0x276337(_0x15ca7a[_0x2f71d1(0x698)],_0x2f71d1(0x6e9));this[_0x2f71d1(0x90f)]['set'](_0x529594,this[_0x2f71d1(0x644)]['subscribe'](_0x4ae3ab));}[_0xd4b2e(0x37a)](_0x3c3cc3){const _0x43152f=_0xd4b2e;this[_0x43152f(0x90f)]['get'](_0x3c3cc3)?.(),this['listenerUnsubscribers'][_0x43152f(0xa2f)](_0x3c3cc3);}async[_0xd4b2e(0x917)](){const _0x4fb604=_0xd4b2e,_0x2f34c6=(await(0x0,_0x1e7cba[_0x4fb604(0x607)])((0x0,_0x1e7cba[_0x4fb604(0x9a6)])(_0x3a6ba1[_0x4fb604(0x848)](),'/developers/'+this[_0x4fb604(0x313)]+_0x4fb604(0x2a8)+this[_0x4fb604(0x39a)])))[_0x4fb604(0x2aa)]();if(!_0x2f34c6)throw new _0x276337(_0x15ca7a['ExternalStorageConnectionDoesNotExist'],_0x4fb604(0x907)+this[_0x4fb604(0x39a)]);const {site:_0x23f80f,drive:_0x4842a7}=_0x2f34c6,_0x199e64=(await(0x0,_0x1d801a[_0x4fb604(0x8dc)])(_0x3a6ba1[_0x4fb604(0xa62)](),_0x4fb604(0x1bf))({'storageId':this[_0x4fb604(0x39a)]}))['data'][_0x4fb604(0x335)];this[_0x4fb604(0x2a4)]=new this['connectorConstructor'](_0x23f80f['id'],_0x4842a7['id'],_0x199e64,async()=>(await(0x0,_0x1d801a[_0x4fb604(0x8dc)])(_0x3a6ba1[_0x4fb604(0xa62)](),_0x4fb604(0x43c))({'storageId':this[_0x4fb604(0x39a)]}))[_0x4fb604(0x2aa)][_0x4fb604(0x335)]),this[_0x4fb604(0x275)]();}[_0xd4b2e(0x53c)](){const _0x5300f3=_0xd4b2e;this[_0x5300f3(0x8ed)]&&clearTimeout(this[_0x5300f3(0x8ed)]),this[_0x5300f3(0x8ed)]=setTimeout(async()=>{const _0x4096eb=_0x5300f3;delete this[_0x4096eb(0x8ed)],this[_0x4096eb(0x598)]['publish']({'sourceId':_0x596898,'messageType':_0x49e311[_0x4096eb(0x657)],'content':{'type':_0x2b2ef9[_0x4096eb(0x683)],'label':this['label'],'stats':{'timestamp':Date[_0x4096eb(0x702)](),'storage':0x0,'messagesSent':0x0,'messagesReceived':0x0,'bytesSent':0x0,'bytesReceived':0x0,'writes':0x0,'reads':this[_0x4096eb(0x69e)],'prompts':0x0,'tokens':0x0}}});},_0x371ea9);}async[_0xd4b2e(0x275)](){const _0xc19af4=_0xd4b2e;await this['connector']?.[_0xc19af4(0x50b)](),this[_0xc19af4(0x244)]=_0x1b723a['setInterval'](async()=>{const _0x5664e5=_0xc19af4;try{if(!this[_0x5664e5(0x2a4)])return;const _0x3396a5=await this['connector'][_0x5664e5(0x50b)]();for(const _0x28ef3d of _0x3396a5)this['eventListener'][_0x5664e5(0x2b2)](_0x28ef3d);}catch(_0x407e21){}},0x493e0);}}const _0x18b0bf=require('rxjs');class _0x30500e extends _0x19f40b{[_0xd4b2e(0x3f2)];['jobs']=new Map();[_0xd4b2e(0x91e)]=new Map();[_0xd4b2e(0x94c)]=new Map();[_0xd4b2e(0x6de)];constructor(_0x188d14,_0x9dcfd8,_0x25281e){const _0x5240f4=_0xd4b2e;super(_0x188d14,_0x9dcfd8),this[_0x5240f4(0x3f2)]=_0x25281e;}[_0xd4b2e(0x161)](){const _0x3d9cb4=_0xd4b2e;return _0x29f76b[_0x3d9cb4(0x9b8)][_0x3d9cb4(0x506)];}[_0xd4b2e(0x917)](){const _0x538d6f=_0xd4b2e;this[_0x538d6f(0x6de)]=this[_0x538d6f(0x99c)]((_0x33e2cb,_0x4488c6)=>{const _0x4f505e=_0x538d6f;if(_0x98a765[_0x4f505e(0x22d)](_0x831a2b[_0x4f505e(0x7f2)],'JobDispatcher:\x20Received\x20job',_0x33e2cb,_0x4488c6,this[_0x4f505e(0x3f2)][_0x4f505e(0xa59)]()),!(_0x4488c6 instanceof File)){if(!_0x4488c6)throw new _0x1cac69(_0x1cac69[_0x4f505e(0x15e)][_0x4f505e(0x725)]);return this[_0x4f505e(0x538)](_0x4488c6)?this[_0x4f505e(0x718)](_0x33e2cb,_0x4488c6['id'],_0x4488c6):this['isPartialResultResponse'](_0x4488c6)?(_0x98a765[_0x4f505e(0x22d)](_0x831a2b[_0x4f505e(0x7f2)],_0x4f505e(0xa3b)+_0x4488c6['id']+_0x4f505e(0x2bf),_0x4488c6['result']),void this['evaluatePartialJob'](_0x4488c6['id'],_0x4488c6)):this[_0x4f505e(0x8ec)](_0x4488c6)?(_0x98a765[_0x4f505e(0x22d)](_0x831a2b['Jobs'],_0x4f505e(0xa3b)+_0x4488c6['id']+_0x4f505e(0x48a),_0x4488c6[_0x4f505e(0x194)]),void this['evaluateProccessedJob'](_0x4488c6['id'],_0x4488c6)):void(this[_0x4f505e(0x877)](_0x4488c6)&&this[_0x4f505e(0xa5c)](_0x4488c6['id'],_0x4488c6[_0x4f505e(0x2b6)]));}});}[_0xd4b2e(0x5f1)](){const _0x37ac84=_0xd4b2e;this[_0x37ac84(0x1b8)](),this['open']();}[_0xd4b2e(0x32a)](){const _0x399d5f=_0xd4b2e;this[_0x399d5f(0x1b8)](),super['destroy']();}[_0xd4b2e(0x1b8)](){const _0x1e88c5=_0xd4b2e;this[_0x1e88c5(0x55e)][_0x1e88c5(0x1b8)](),this['unsubscribeHandler']&&this[_0x1e88c5(0x6de)]();}[_0xd4b2e(0x27e)](){const _0x4d6ccf=_0xd4b2e;this[_0x4d6ccf(0x598)]?.[_0x4d6ccf(0x2b2)]({'sourceId':_0x596898,'messageType':_0x49e311['Content'],'content':{'type':_0x2b2ef9['CloseJobDispatcher'],'label':this[_0x4d6ccf(0x39a)]}});}async[_0xd4b2e(0x936)](_0x2a9e6a){const _0x359583=_0xd4b2e,{id:_0x1d6160,parameters:_0x4e20cf,jobType:_0x540d77}=_0x2a9e6a,_0x8b593e={'id':_0x1d6160,'jobType':_0x540d77,'parameters':_0x4e20cf,'status':_0x29f76b['JobStatus'][_0x359583(0x8bb)],'created':new Date(),'updated':new Date()};if(this[_0x359583(0x55e)][_0x359583(0x8e9)](_0x8b593e['id']))throw new _0x276337(_0x15ca7a[_0x359583(0x7ed)],_0x359583(0x1e0)+_0x8b593e['id']+_0x359583(0xa57));_0x8b593e['created']=new Date(),_0x8b593e[_0x359583(0x992)]=new Date();const _0x18d390=new _0x18b0bf[(_0x359583(0x7df))]();this[_0x359583(0x55e)][_0x359583(0x991)](_0x8b593e['id'],_0x8b593e),this[_0x359583(0x91e)][_0x359583(0x991)](_0x8b593e['id'],_0x18d390);try{const _0x4a001b={'id':_0x8b593e['id'],'jobPhase':_0x48cc2c[_0x359583(0x23e)],'jobType':_0x8b593e[_0x359583(0x5e3)]},_0x423dfb=0x3;let _0xeacc74=0x0;const _0x3a6cf8=async()=>{const _0x3777aa=_0x359583;_0xeacc74+=0x1;try{_0x98a765[_0x3777aa(0x22d)](_0x831a2b[_0x3777aa(0x7f2)],_0x3777aa(0xa3b)+_0x8b593e['id']+_0x3777aa(0x8b0)+_0xeacc74+'.',this[_0x3777aa(0x3f2)]['getRemoteNodes']()),await this['send'](_0x4a001b),_0x8b593e[_0x3777aa(0x992)]=new Date(),this[_0x3777aa(0x55e)][_0x3777aa(0x991)](_0x8b593e['id'],_0x8b593e),this[_0x3777aa(0x157)](_0x8b593e['id']);}catch(_0x1f4fe6){_0xeacc74<_0x423dfb?(_0x98a765['warning'](_0x3777aa(0x7fe)+_0xeacc74+_0x3777aa(0x892)+_0x8b593e['id']+'\x20failed.\x20Retrying...',{'nodeId':this[_0x3777aa(0xa7a)][_0x3777aa(0x2a6)](),'nodeType':this['owner'][_0x3777aa(0x747)],'data':{'job':_0x8b593e,'attempts':_0xeacc74,'maxRetries':_0x423dfb}}),setTimeout(_0x3a6cf8,0x3e8)):(_0x8b593e[_0x3777aa(0xa6f)]=_0x29f76b['JobStatus'][_0x3777aa(0x240)],_0x8b593e[_0x3777aa(0x992)]=new Date(),this[_0x3777aa(0x55e)][_0x3777aa(0x991)](_0x8b593e['id'],_0x8b593e),_0x98a765[_0x3777aa(0x940)]('Failed\x20to\x20send\x20job\x20'+_0x8b593e['id']+_0x3777aa(0x6b3)+_0x423dfb+_0x3777aa(0x9f5),{'nodeId':this[_0x3777aa(0xa7a)][_0x3777aa(0x2a6)](),'nodeType':this[_0x3777aa(0xa7a)][_0x3777aa(0x747)],'data':{'job':_0x8b593e,'attempts':_0xeacc74,'maxRetries':_0x423dfb,'error':_0x1f4fe6}}));}};_0x3a6cf8();const {id:_0x39d744}=_0x8b593e;this['logEvent'](_0x359583(0xa3b)+_0x8b593e['id']+_0x359583(0x52b),{'jobId':_0x39d744}),_0x8b593e[_0x359583(0x992)]=new Date();}catch(_0x5c2998){_0x8b593e[_0x359583(0xa6f)]=_0x29f76b[_0x359583(0x6bb)]['Failed'],_0x98a765['error']('Failed\x20to\x20send\x20job\x20'+_0x8b593e['id']+':',{'nodeId':this[_0x359583(0xa7a)][_0x359583(0x2a6)](),'nodeType':this['owner'][_0x359583(0x747)],'data':{'job':_0x8b593e,'error':_0x5c2998}});}return _0x18d390[_0x359583(0x6d9)]();}['getJob'](_0x2c22f9){const _0x2a1b26=_0xd4b2e,_0x309889=this[_0x2a1b26(0x55e)][_0x2a1b26(0x6e6)](_0x2c22f9);if(!_0x309889)throw new _0x276337(_0x15ca7a[_0x2a1b26(0x241)],'Job\x20with\x20id\x20'+_0x2c22f9+'\x20not\x20found.');return{'id':_0x309889['id'],'jobType':_0x309889[_0x2a1b26(0x5e3)],'status':_0x309889[_0x2a1b26(0xa6f)],'parameters':_0x309889[_0x2a1b26(0x1d1)]};}[_0xd4b2e(0xa61)](){const _0x259963=_0xd4b2e;return Array[_0x259963(0x35c)](this['jobs']['values']())[_0x259963(0x7da)](_0x3295cd=>this[_0x259963(0x751)](_0x3295cd['id']));}async[_0xd4b2e(0x2a3)](_0x287e70,_0xfa8bdb){const _0x38ec87=_0xd4b2e,_0x24a6ac=this[_0x38ec87(0x55e)][_0x38ec87(0x6e6)](_0x287e70);if(!_0x24a6ac)throw new _0x276337(_0x15ca7a[_0x38ec87(0x241)],'Job\x20with\x20id\x20'+_0x287e70+_0x38ec87(0x17d));_0x24a6ac[_0x38ec87(0x1d1)]=_0xfa8bdb,_0x24a6ac['updated']=new Date(),this[_0x38ec87(0x55e)][_0x38ec87(0x991)](_0x287e70,_0x24a6ac);}async['deleteJob'](_0x3466f9){const _0xac332c=_0xd4b2e;if(!this[_0xac332c(0x55e)]['delete'](_0x3466f9))throw new _0x276337(_0x15ca7a[_0xac332c(0x241)],_0xac332c(0x1e0)+_0x3466f9+'\x20not\x20found.');const _0x2213db=this[_0xac332c(0x91e)][_0xac332c(0x6e6)](_0x3466f9);if(!_0x2213db)throw new _0x1cac69(_0x1cac69[_0xac332c(0x15e)]['JobDispatcherObserverNotFound']);_0x2213db[_0xac332c(0x6ef)](),this[_0xac332c(0x91e)]['delete'](_0x3466f9),_0x98a765[_0xac332c(0x22d)](_0x831a2b[_0xac332c(0x7f2)],_0xac332c(0xa3b)+_0x3466f9+_0xac332c(0x3aa));}['addBidResponse'](_0x492e88,_0x50d698,_0xcd8299){const _0x20d2ea=_0xd4b2e,_0x36cc2e=this[_0x20d2ea(0x94c)][_0x20d2ea(0x6e6)](_0x50d698)??new Map();_0x36cc2e[_0x20d2ea(0x991)](_0x492e88,[_0xcd8299,Date[_0x20d2ea(0x702)]()]),this[_0x20d2ea(0x94c)][_0x20d2ea(0x991)](_0x50d698,_0x36cc2e),this[_0x20d2ea(0x2cf)](_0x50d698);}[_0xd4b2e(0x157)](_0xb0e2be){const _0x1d56b4=_0xd4b2e,_0x31ae9e=this[_0x1d56b4(0x55e)][_0x1d56b4(0x6e6)](_0xb0e2be);if(!_0x31ae9e)throw new _0x1cac69(_0x1cac69[_0x1d56b4(0x15e)][_0x1d56b4(0x241)]);const _0x581800=setTimeout(()=>this[_0x1d56b4(0x2cf)](_0xb0e2be,!0x0),0xbb8);_0x31ae9e['responseTimeout']=_0x581800,this[_0x1d56b4(0x55e)][_0x1d56b4(0x991)](_0x31ae9e['id'],_0x31ae9e);}[_0xd4b2e(0x2cf)](_0x314270,_0x10cb00=!0x1){const _0x5c91ce=_0xd4b2e,_0x208a2d=this[_0x5c91ce(0x3f2)]['getRemoteNodes'](),_0x36dd55=Array['from'](_0x208a2d[_0x5c91ce(0x75b)]())[_0x5c91ce(0x893)](_0x233cdf=>_0x233cdf[_0x5c91ce(0x747)]===_0x29f76b[_0x5c91ce(0x8e2)][_0x5c91ce(0x3e3)]),_0x95fb96=this[_0x5c91ce(0x94c)][_0x5c91ce(0x6e6)](_0x314270)??new Map();if(!_0x10cb00&&(!_0x95fb96||_0x95fb96[_0x5c91ce(0x882)]<_0x36dd55[_0x5c91ce(0x9b4)]))return;const _0xfcf41d=this['jobs'][_0x5c91ce(0x6e6)](_0x314270);if(!_0xfcf41d)throw new _0x1cac69(_0x1cac69['codes'][_0x5c91ce(0x241)]);if(clearTimeout(_0xfcf41d[_0x5c91ce(0x30e)]),_0x98a765[_0x5c91ce(0x22d)](_0x831a2b['Jobs'],_0x5c91ce(0xa3b)+_0xfcf41d['id']+_0x5c91ce(0x1a7),_0x95fb96,this[_0x5c91ce(0x94c)]),!_0x95fb96||0x0===_0x95fb96[_0x5c91ce(0x882)]){_0xfcf41d[_0x5c91ce(0xa6f)]=_0x29f76b[_0x5c91ce(0x6bb)][_0x5c91ce(0x240)],_0xfcf41d[_0x5c91ce(0x992)]=new Date(),_0x98a765[_0x5c91ce(0x940)](_0x5c91ce(0xa3b)+_0xfcf41d['id']+_0x5c91ce(0x13f),{'nodeId':this[_0x5c91ce(0xa7a)]['getId'](),'nodeType':this[_0x5c91ce(0xa7a)][_0x5c91ce(0x747)],'data':{'job':_0xfcf41d,'responses':_0x95fb96}});const _0x2e0ea8=this['jobObservers']['get'](_0x314270);if(!_0x2e0ea8)throw new _0x1cac69(_0x1cac69[_0x5c91ce(0x15e)][_0x5c91ce(0x694)]);const _0x3f94ed='No\x20valid\x20bid\x20responses\x20received\x20in\x20time.',_0x2a791d={'id':_0xfcf41d['id'],'status':_0xfcf41d[_0x5c91ce(0xa6f)],'message':_0x3f94ed};return _0x2e0ea8['next'](_0x2a791d),_0x2e0ea8['complete'](),this[_0x5c91ce(0x55e)][_0x5c91ce(0x991)](_0xfcf41d['id'],_0xfcf41d),void this[_0x5c91ce(0x94c)][_0x5c91ce(0xa2f)](_0x314270);}const {nodeId:_0x512eb5,response:_0xd0c01f}=this[_0x5c91ce(0x48c)](_0xfcf41d['id'],_0x95fb96);_0xfcf41d[_0x5c91ce(0xa6f)]=_0x29f76b[_0x5c91ce(0x6bb)][_0x5c91ce(0x15d)],_0xfcf41d[_0x5c91ce(0x992)]=new Date(),_0x98a765[_0x5c91ce(0x22d)](_0x831a2b[_0x5c91ce(0x7f2)],_0x5c91ce(0xa3b)+_0xfcf41d['id']+_0x5c91ce(0x4ba)+_0x512eb5+'\x20with\x20response:',_0xd0c01f);const _0x2c8d55={'id':_0xfcf41d['id'],'jobType':_0xfcf41d[_0x5c91ce(0x5e3)],'jobPhase':_0x48cc2c[_0x5c91ce(0x52c)],'parameters':_0xfcf41d['parameters']};this[_0x5c91ce(0x13b)](_0x2c8d55,[_0x512eb5]),this[_0x5c91ce(0x55e)]['set'](_0xfcf41d['id'],_0xfcf41d),this[_0x5c91ce(0x94c)]['delete'](_0x314270);}['evaluateBids'](_0x438c27,_0x352b59){const _0x35ed9e=_0xd4b2e;let _0x1a0cba;const _0x3e8a12=Array[_0x35ed9e(0x35c)](_0x352b59[_0x35ed9e(0x63e)]())['filter'](([,[_0x4cd730]])=>_0x4cd730[_0x35ed9e(0x7a7)]);if(_0x1a0cba=_0x3e8a12[_0x35ed9e(0x9b4)]>0x0?Array[_0x35ed9e(0x35c)](_0x352b59[_0x35ed9e(0x63e)]())[_0x35ed9e(0x63d)]((_0x4258a6,_0x2e0521)=>_0x2e0521[0x1][0x0][_0x35ed9e(0x984)]-_0x4258a6[0x1][0x0][_0x35ed9e(0x984)]):Array[_0x35ed9e(0x35c)](_0x352b59[_0x35ed9e(0x63e)]())[_0x35ed9e(0x63d)]((_0x10fbd8,_0xb19bb4)=>_0x10fbd8[0x1][0x0]['queueLength']-_0xb19bb4[0x1][0x0]['queueLength']),0x1===_0x1a0cba['length'])return{'nodeId':_0x1a0cba[0x0][0x0],'response':_0x1a0cba[0x0][0x1][0x0]};let _0x2cee07;if(_0x2cee07=_0x3e8a12[_0x35ed9e(0x9b4)]>0x0?(_0x11b59f=>{const _0x2dfe1b=_0x35ed9e,_0x335aaa=_0x11b59f[0x0][0x1][0x0]['bid'];return _0x11b59f[_0x2dfe1b(0x893)](([,[_0x3625af]])=>_0x3625af[_0x2dfe1b(0x984)]===_0x335aaa);})(_0x1a0cba):(_0x3fcbd9=>{const _0x433917=_0x35ed9e,_0x3f2e2f=_0x3fcbd9[0x0][0x1][0x0][_0x433917(0x766)];return _0x3fcbd9[_0x433917(0x893)](([,[_0x265aa9]])=>_0x265aa9[_0x433917(0x766)]===_0x3f2e2f);})(_0x1a0cba),0x1===_0x2cee07[_0x35ed9e(0x9b4)])return{'nodeId':_0x2cee07[0x0][0x0],'response':_0x2cee07[0x0][0x1][0x0]};const _0x352755=this[_0x35ed9e(0x55e)][_0x35ed9e(0x6e6)](_0x438c27);if(!_0x352755)throw new _0x1cac69(_0x1cac69[_0x35ed9e(0x15e)]['JobDispatcherJobNotFound']);const _0x46cddc=_0x352755['created'][_0x35ed9e(0x4c8)](),_0x259e1a=_0x2cee07[_0x35ed9e(0x7da)](([_0x49cb85,[,_0x3c27fc]])=>({'nodeId':_0x49cb85,'rtt':_0x3c27fc-_0x46cddc})),_0x7a40af=Math['min'](..._0x259e1a[_0x35ed9e(0x7da)](({rtt:_0x40c285})=>_0x40c285)),_0x466318=_0x259e1a[_0x35ed9e(0x91c)](({rtt:_0x277e94})=>_0x277e94===_0x7a40af),[,[_0x4a11cd]]=_0x2cee07['find'](([_0x37a9ff])=>_0x37a9ff===_0x466318[_0x35ed9e(0x166)]);return{'nodeId':_0x466318['nodeId'],'response':_0x4a11cd};}[_0xd4b2e(0xa4c)](_0x53151b,_0x34fa28){const _0x19c0d6=_0xd4b2e,_0x1a5226=this[_0x19c0d6(0x55e)][_0x19c0d6(0x6e6)](_0x53151b);if(!_0x1a5226)throw new _0x1cac69(_0x1cac69[_0x19c0d6(0x15e)][_0x19c0d6(0x241)]);const _0x465d33=this['jobObservers'][_0x19c0d6(0x6e6)](_0x53151b);if(!_0x465d33)throw new _0x1cac69(_0x1cac69[_0x19c0d6(0x15e)][_0x19c0d6(0x694)]);const _0x3ccde5={'id':_0x1a5226['id'],'status':_0x29f76b[_0x19c0d6(0x6bb)][_0x19c0d6(0x866)],'result':_0x34fa28['result']};_0x465d33['next'](_0x3ccde5);}[_0xd4b2e(0x943)](_0x8518bb,_0x5bad97){const _0x55be08=_0xd4b2e,_0x3813bc=this['jobs'][_0x55be08(0x6e6)](_0x8518bb);if(!_0x3813bc)throw new _0x1cac69(_0x1cac69['codes'][_0x55be08(0x241)]);const _0x9ad751=this[_0x55be08(0x91e)]['get'](_0x8518bb);if(!_0x9ad751)throw new _0x1cac69(_0x1cac69[_0x55be08(0x15e)][_0x55be08(0x694)]);_0x3813bc['status']=_0x29f76b[_0x55be08(0x6bb)][_0x55be08(0x94b)];const _0x5cfc6f={'id':_0x3813bc['id'],'status':_0x3813bc[_0x55be08(0xa6f)],'result':_0x5bad97[_0x55be08(0x194)]};_0x9ad751[_0x55be08(0x1e6)](_0x5cfc6f),_0x9ad751[_0x55be08(0x6ef)](),this[_0x55be08(0x91e)][_0x55be08(0xa2f)](_0x8518bb),this['logEvent'](_0x55be08(0xa3b)+_0x8518bb+'\x20finalized.',{'jobId':_0x8518bb});}[_0xd4b2e(0xa5c)](_0x56ae09,_0x3df2ec){const _0x472349=_0xd4b2e,_0x4239c0=this[_0x472349(0x55e)][_0x472349(0x6e6)](_0x56ae09);if(!_0x4239c0)throw new _0x1cac69(_0x1cac69[_0x472349(0x15e)]['JobDispatcherJobNotFound']);const _0x60b50e=this[_0x472349(0x91e)][_0x472349(0x6e6)](_0x56ae09);if(!_0x60b50e)throw new _0x1cac69(_0x1cac69[_0x472349(0x15e)][_0x472349(0x694)]);_0x4239c0['status']=_0x29f76b[_0x472349(0x6bb)][_0x472349(0x240)];const _0x15ec39={'id':_0x4239c0['id'],'status':_0x4239c0[_0x472349(0xa6f)],'message':_0x3df2ec};_0x60b50e['next'](_0x15ec39),_0x60b50e[_0x472349(0x6ef)](),this[_0x472349(0x91e)]['delete'](_0x56ae09),this['logEvent'](_0x472349(0xa3b)+_0x56ae09+_0x472349(0x3c2),{'jobId':_0x56ae09});}[_0xd4b2e(0x1b3)](_0x547361,{jobId:_0x50c012}){const _0x1e98d4=_0xd4b2e,_0x1b5935={'jobId':_0x50c012,'mistletIds':Array['from'](this[_0x1e98d4(0x3f2)][_0x1e98d4(0xa59)]()[_0x1e98d4(0x75b)]())[_0x1e98d4(0x893)](_0x52804f=>_0x52804f[_0x1e98d4(0x747)]===_0x29f76b[_0x1e98d4(0x8e2)][_0x1e98d4(0x3e3)])[_0x1e98d4(0x7da)](_0x58c86e=>_0x58c86e[_0x1e98d4(0x2a6)]())};_0x98a765[_0x1e98d4(0x1b3)](_0x547361,{'nodeId':this[_0x1e98d4(0x4da)](),'nodeType':this[_0x1e98d4(0xa7a)][_0x1e98d4(0x747)],'data':_0x1b5935}),_0x98a765[_0x1e98d4(0x22d)](_0x831a2b['Jobs'],_0x547361,_0x1b5935);}[_0xd4b2e(0x538)](_0x1d7b46){const {jobPhase:_0xa7f4fb,available:_0x9f90d7,bid:_0x14d4dd}=_0x1d7b46;return _0xa7f4fb===_0x48cc2c['Bid']&&void 0x0!==_0x9f90d7&&void 0x0!==_0x14d4dd;}[_0xd4b2e(0x47f)](_0x50f156){const _0x42222e=_0xd4b2e,{jobPhase:_0x2720d9,result:_0x45676e}=_0x50f156;return _0x2720d9===_0x48cc2c[_0x42222e(0x5de)]&&void 0x0!==_0x45676e;}[_0xd4b2e(0x8ec)](_0x4b9f9b){const _0x35043a=_0xd4b2e,{jobPhase:_0x58ee06,result:_0x3db99b}=_0x4b9f9b;return _0x58ee06===_0x48cc2c[_0x35043a(0x6dc)]&&void 0x0!==_0x3db99b;}[_0xd4b2e(0x877)](_0x5b2438){const _0x47a19b=_0xd4b2e,{jobPhase:_0x2d80e9,message:_0x1d3243}=_0x5b2438;return _0x2d80e9===_0x48cc2c[_0x47a19b(0x240)]&&void 0x0!==_0x1d3243&&_0x47a19b(0x8e6)==typeof _0x1d3243;}}var _0x5b2558,_0x1db4e3,_0xc0f671,_0x10df5e;!function(_0x4138b6){const _0x2c1387=_0xd4b2e;_0x4138b6[_0x2c1387(0x3e1)]=_0x2c1387(0x68c),_0x4138b6[_0x2c1387(0x450)]=_0x2c1387(0x87a);}(_0x5b2558||(_0x5b2558={})),function(_0x4fb48b){const _0x3ccb44=_0xd4b2e;_0x4fb48b[_0x3ccb44(0x3e3)]='agent',_0x4fb48b[_0x3ccb44(0x3ed)]='agent-skill',_0x4fb48b[_0x3ccb44(0x5d4)]=_0x3ccb44(0x858),_0x4fb48b[_0x3ccb44(0x384)]=_0x3ccb44(0x510),_0x4fb48b[_0x3ccb44(0x3d7)]=_0x3ccb44(0x366),_0x4fb48b[_0x3ccb44(0x236)]=_0x3ccb44(0x59b),_0x4fb48b[_0x3ccb44(0xa01)]=_0x3ccb44(0xa1b),_0x4fb48b[_0x3ccb44(0x4e7)]='code',_0x4fb48b[_0x3ccb44(0x155)]=_0x3ccb44(0x174),_0x4fb48b[_0x3ccb44(0x837)]=_0x3ccb44(0x8aa),_0x4fb48b['WebScraper']=_0x3ccb44(0x836),_0x4fb48b[_0x3ccb44(0x638)]=_0x3ccb44(0xa21),_0x4fb48b[_0x3ccb44(0x556)]=_0x3ccb44(0x495),_0x4fb48b[_0x3ccb44(0x544)]='write-file',_0x4fb48b[_0x3ccb44(0x3c4)]=_0x3ccb44(0x25a),_0x4fb48b[_0x3ccb44(0x8b7)]=_0x3ccb44(0x144),_0x4fb48b[_0x3ccb44(0x1ce)]='word-splitter',_0x4fb48b['DocumentParser']=_0x3ccb44(0xa66);}(_0x1db4e3||(_0x1db4e3={})),function(_0xdf9000){const _0x22c7aa=_0xd4b2e;_0xdf9000[_0x22c7aa(0x9a0)]='object-storage-upload',_0xdf9000[_0x22c7aa(0x31a)]=_0x22c7aa(0x69d),_0xdf9000['DocumentParser']=_0x22c7aa(0xa66),_0xdf9000[_0x22c7aa(0x3c4)]=_0x22c7aa(0x25a),_0xdf9000['WordSplitter']=_0x22c7aa(0x666),_0xdf9000[_0x22c7aa(0x8b7)]=_0x22c7aa(0x144),_0xdf9000[_0x22c7aa(0x498)]=_0x22c7aa(0x9e4),_0xdf9000[_0x22c7aa(0x1ea)]=_0x22c7aa(0xa37),_0xdf9000[_0x22c7aa(0x2af)]=_0x22c7aa(0xa0c),_0xdf9000['Model']=_0x22c7aa(0x8a7),_0xdf9000['Agent']=_0x22c7aa(0x303),_0xdf9000[_0x22c7aa(0x74a)]=_0x22c7aa(0x68c),_0xdf9000[_0x22c7aa(0x329)]=_0x22c7aa(0x57e),_0xdf9000[_0x22c7aa(0xa80)]=_0x22c7aa(0x307),_0xdf9000['GraphDatabase']=_0x22c7aa(0x393),_0xdf9000[_0x22c7aa(0x236)]=_0x22c7aa(0x59b),_0xdf9000['Context']=_0x22c7aa(0x30f);}(_0xc0f671||(_0xc0f671={})),function(_0x1af658){const _0x5bec93=_0xd4b2e;_0x1af658['File']=_0x5bec93(0x6c3),_0x1af658[_0x5bec93(0x217)]=_0x5bec93(0x7a9),_0x1af658[_0x5bec93(0x421)]='image',_0x1af658[_0x5bec93(0xa4b)]='audio',_0x1af658[_0x5bec93(0x24a)]=_0x5bec93(0x2aa),_0x1af658[_0x5bec93(0x439)]=_0x5bec93(0x308),_0x1af658['Entity']='entity',_0x1af658[_0x5bec93(0x6f4)]='relation',_0x1af658[_0x5bec93(0x155)]=_0x5bec93(0x174),_0x1af658[_0x5bec93(0x804)]=_0x5bec93(0x5a0),_0x1af658[_0x5bec93(0x3d7)]=_0x5bec93(0x366),_0x1af658[_0x5bec93(0x58d)]='skill',_0x1af658[_0x5bec93(0x977)]='context',_0x1af658[_0x5bec93(0x879)]=_0x5bec93(0x51b);}(_0x10df5e||(_0x10df5e={}));class _0x3ae154{static ['instance'];constructor(){}static[_0xd4b2e(0x1f0)](){const _0x1500d2=_0xd4b2e;return _0x3ae154[_0x1500d2(0x147)]||(_0x3ae154[_0x1500d2(0x147)]=new _0x3ae154()),_0x3ae154['instance'];}async[_0xd4b2e(0x4a8)](_0x4c45ab,_0x44a254){const _0x1a2218=_0xd4b2e,_0x3ded95=await(0x0,_0x1e7cba[_0x1a2218(0x607)])((0x0,_0x1e7cba['doc'])(_0x3a6ba1[_0x1a2218(0x848)](),_0x1a2218(0x5ec)+_0x4c45ab+_0x1a2218(0x75f)+_0x44a254)),_0xa74bef=await this[_0x1a2218(0x31b)](_0x4c45ab),_0x525b48=await this[_0x1a2218(0x14b)](_0x4c45ab),_0x243541=await this[_0x1a2218(0x6cd)](_0x4c45ab),_0x15e9fe=await this['getModels'](_0x4c45ab),_0x59437e=await this[_0x1a2218(0xa1e)](_0x4c45ab);if(!_0x3ded95['exists']())throw new _0x1cac69(_0x1cac69[_0x1a2218(0x15e)][_0x1a2218(0x534)]);return this[_0x1a2218(0x4ef)](_0x3ded95,_0xa74bef,_0x525b48,_0x243541,_0x15e9fe,_0x59437e);}[_0xd4b2e(0x4ef)](_0x2e992e,_0x492b1d,_0x1f71ee,_0x14046e,_0x1a8046,_0x5a3f50){const _0x4e256e=_0xd4b2e,_0x3cdc65=_0x2e992e[_0x4e256e(0x2aa)]();if(!_0x3cdc65)throw new _0x1cac69(_0x1cac69[_0x4e256e(0x15e)][_0x4e256e(0x534)]);const _0x4b3bd7=_0x3cdc65[_0x4e256e(0x3d2)]&&_0x3cdc65['versions']?_0x3cdc65['versions'][_0x3cdc65['deployedVersion']-0x1]:_0x3cdc65,_0x4156d4=this[_0x4e256e(0x3b5)](_0x4b3bd7['blocks'],_0x492b1d,_0x1f71ee,_0x14046e,_0x5a3f50);return{'id':_0x2e992e['id'],'modelsBucketId':_0x3cdc65[_0x4e256e(0x369)],'blocks':_0x4156d4,'models':this[_0x4e256e(0x150)](_0x4156d4,_0x1a8046),'dataBucketIds':this[_0x4e256e(0x4ab)](_0x4156d4),'externalStorageConnectionIds':this[_0x4e256e(0x45e)](_0x4156d4)};}['getWorkflowModels'](_0x164e8f,_0x3e74a0){const _0xac4c80=_0xd4b2e,_0x182247=new Set();for(const _0xe054e7 of _0x164e8f)if(_0xe054e7['type']!==_0x1db4e3[_0xac4c80(0x3e3)]&&_0xe054e7[_0xac4c80(0x747)]!==_0x1db4e3[_0xac4c80(0x3ed)]||_0x182247[_0xac4c80(0x4bd)](_0xe054e7[_0xac4c80(0x9f1)]),_0xe054e7[_0xac4c80(0x747)]===_0x1db4e3[_0xac4c80(0x3d7)]||_0xe054e7['type']===_0x1db4e3[_0xac4c80(0x384)]){for(const _0x3df225 of[..._0xe054e7['ingestBlocks'],..._0xe054e7['retrieveBlocks']])_0x3df225['type']===_0xc0f671['Model']&&_0x182247[_0xac4c80(0x4bd)](_0x3df225['id']),_0x3df225['type']===_0xc0f671['Agent']&&_0x182247['add'](_0x3df225['modelId']);}return Array[_0xac4c80(0x35c)](_0x182247)[_0xac4c80(0x7da)](_0x42e4bf=>{const _0x10d83b=_0xac4c80,{id:_0x504e20,engineType:_0x173a3c,taskType:_0x17a8ea,knowledgeCutoffDate:_0x13a1d2,inputType:_0x27df9b,outputType:_0x3c8b77,sourceUrl:_0x2b481e}=_0x3e74a0[_0x10d83b(0x91c)](_0x275d5f=>_0x275d5f['id']===_0x42e4bf);return{'id':_0x504e20,'engineType':_0x173a3c,'taskType':_0x17a8ea,'knowledgeCutoffDate':_0x13a1d2,'inputType':_0x27df9b,'outputType':_0x3c8b77,'sourceUrl':_0x2b481e};});}[_0xd4b2e(0x4ab)](_0x1836af){const _0x2f3b07=_0xd4b2e,_0xaf5396=new Set();for(const _0x67d1ea of _0x1836af)switch(_0x67d1ea[_0x2f3b07(0x747)]){case _0x1db4e3[_0x2f3b07(0x3d7)]:case _0x1db4e3[_0x2f3b07(0x384)]:for(const _0x5b22f4 of[..._0x67d1ea[_0x2f3b07(0xa56)],..._0x67d1ea[_0x2f3b07(0x20a)]])_0x5b22f4[_0x2f3b07(0x747)]===_0xc0f671['ObjectStorageUpload']&&_0xaf5396[_0x2f3b07(0x4bd)](_0x5b22f4['id']);}return Array[_0x2f3b07(0x35c)](_0xaf5396);}[_0xd4b2e(0x45e)](_0x29cdeb){const _0x307938=_0xd4b2e,_0x282ad7=new Set();for(const _0x3dda03 of _0x29cdeb)switch(_0x3dda03[_0x307938(0x747)]){case _0x1db4e3['Knowledge']:case _0x1db4e3[_0x307938(0x384)]:for(const _0x29d024 of[..._0x3dda03[_0x307938(0xa56)],..._0x3dda03['retrieveBlocks']])_0x29d024[_0x307938(0x747)]===_0xc0f671['ExternalStorageUpload']&&_0x282ad7['add'](_0x29d024['id']);}return Array[_0x307938(0x35c)](_0x282ad7);}[_0xd4b2e(0x3b5)](_0x4e131d,_0x32972b,_0x89af7d,_0x362ba9,_0x52e2bb){return _0x4e131d['map'](_0x2ee622=>{const _0x186988=a0_0x2e29;switch(_0x2ee622[_0x186988(0x747)]){case _0x1db4e3[_0x186988(0x3e3)]:case _0x1db4e3[_0x186988(0x3ed)]:const _0x349fb2=_0x32972b[_0x186988(0x91c)](_0xe5a2dd=>_0xe5a2dd['id']===_0x2ee622['id']);if(!_0x349fb2)throw new _0x1cac69(_0x1cac69[_0x186988(0x15e)][_0x186988(0xa11)],{'block':_0x2ee622});const _0x557fb3=_0x2ee622[_0x186988(0x8a6)]&&_0x349fb2[_0x186988(0x397)]?_0x349fb2[_0x186988(0x397)][_0x2ee622[_0x186988(0x8a6)]-0x1]:_0x349fb2;return{'type':_0x349fb2[_0x186988(0x747)],'id':_0x349fb2['id'],'uid':_0x2ee622[_0x186988(0x969)],'name':_0x557fb3[_0x186988(0x4fc)],'description':_0x557fb3[_0x186988(0x69b)],'instructions':_0x557fb3[_0x186988(0x336)],'contextOutputVariable':_0x557fb3[_0x186988(0x8ad)],'contextInputVariable':_0x557fb3['contextInputVariable'],'grammar':['default','json','json_arr'][_0x186988(0x29c)](_0x557fb3[_0x186988(0x8a9)])?_0x557fb3[_0x186988(0x8a9)]:_0x52e2bb['find'](_0x2a2db5=>_0x2a2db5['id']===_0x557fb3['grammar'])[_0x186988(0x580)],'temperature':_0x557fb3['temperature'],'maxTokens':_0x557fb3[_0x186988(0x686)],'modelId':_0x557fb3['modelId'],'links':_0x2ee622[_0x186988(0x9dd)],'version':_0x2ee622[_0x186988(0x8a6)]};case _0x1db4e3[_0x186988(0x3d7)]:case _0x1db4e3['DataCollection']:const _0x506920=_0x89af7d[_0x186988(0x91c)](_0x1f684b=>_0x1f684b['id']===_0x2ee622['id']);if(!_0x506920)throw new _0x1cac69(_0x1cac69[_0x186988(0x15e)]['WorkflowInvalidBlockType'],{'block':_0x2ee622});const _0x34e194=_0x2ee622['version']&&_0x506920[_0x186988(0x397)]?_0x506920[_0x186988(0x397)][_0x2ee622[_0x186988(0x8a6)]-0x1]:_0x506920;return{'type':_0x2ee622['type'],'id':_0x506920['id'],'uid':_0x2ee622[_0x186988(0x969)],'name':_0x34e194[_0x186988(0x4fc)],'description':_0x34e194[_0x186988(0x69b)],'ingestBlocks':this[_0x186988(0x771)](_0x34e194[_0x186988(0xa56)],_0x32972b),'retrieveBlocks':this[_0x186988(0x771)](_0x34e194[_0x186988(0x20a)],_0x32972b),'links':_0x2ee622[_0x186988(0x9dd)],'version':_0x2ee622['version']};case _0x1db4e3[_0x186988(0x5d4)]:const _0x555007=_0x362ba9[_0x186988(0x91c)](_0x43952c=>_0x43952c['id']===_0x2ee622['id']);if(!_0x555007)throw new _0x1cac69(_0x1cac69[_0x186988(0x15e)]['WorkflowInvalidBlockType'],{'block':_0x2ee622});return{'type':_0x2ee622['type'],'id':_0x555007['id'],'uid':_0x2ee622[_0x186988(0x969)],'name':_0x555007[_0x186988(0x4fc)],'description':_0x555007[_0x186988(0x69b)],'parameters':_0x555007[_0x186988(0x1d1)],'endpointUrl':_0x555007[_0x186988(0x929)],'endpointMethod':_0x555007[_0x186988(0xa5b)],'headers':_0x555007[_0x186988(0x7d9)],'queryParameters':_0x555007[_0x186988(0xa07)],'bodyParameters':_0x555007[_0x186988(0x81c)],'contextOutputVariable':_0x555007[_0x186988(0x8ad)],'waitAsync':_0x555007[_0x186988(0x28e)],'asyncEndpointUrl':_0x555007[_0x186988(0x2ab)],'asyncEndpointMethod':_0x555007[_0x186988(0x533)],'asyncHeaders':_0x555007[_0x186988(0x270)],'links':_0x2ee622[_0x186988(0x9dd)]};case _0x1db4e3[_0x186988(0x236)]:case _0x1db4e3[_0x186988(0xa01)]:case _0x1db4e3[_0x186988(0x4e7)]:case _0x1db4e3['Search']:case _0x1db4e3[_0x186988(0x837)]:case _0x1db4e3[_0x186988(0xa1c)]:case _0x1db4e3[_0x186988(0x638)]:case _0x1db4e3[_0x186988(0x556)]:case _0x1db4e3[_0x186988(0x544)]:case _0x1db4e3['SentenceSplitter']:case _0x1db4e3[_0x186988(0x16d)]:return{'type':_0x2ee622[_0x186988(0x747)],'id':_0x2ee622['id'],'uid':_0x2ee622['uid'],'links':_0x2ee622[_0x186988(0x9dd)]};case _0x1db4e3[_0x186988(0x3c4)]:case _0x1db4e3[_0x186988(0x1ce)]:return{'type':_0x2ee622[_0x186988(0x747)],'id':_0x2ee622['id'],'uid':_0x2ee622[_0x186988(0x969)],'links':_0x2ee622[_0x186988(0x9dd)],'attributes':_0x2ee622[_0x186988(0x7c3)]};default:throw new _0x1cac69(_0x1cac69[_0x186988(0x15e)][_0x186988(0xa11)],{'block':_0x2ee622});}});}[_0xd4b2e(0x771)](_0x1245c6,_0x1d3fcb){const _0xff2122=_0xd4b2e;return _0x1245c6[_0xff2122(0x7da)](_0x465d7f=>{const _0x1cbd2d=_0xff2122;switch(_0x465d7f[_0x1cbd2d(0x747)]){case _0xc0f671[_0x1cbd2d(0x3e3)]:const _0x4be1ab=_0x1d3fcb[_0x1cbd2d(0x91c)](_0x422472=>_0x422472['id']===_0x465d7f['id']);if(!_0x4be1ab)throw new _0x1cac69(_0x1cac69[_0x1cbd2d(0x15e)][_0x1cbd2d(0xa11)],{'block':_0x465d7f});const _0x3694=_0x465d7f[_0x1cbd2d(0x8a6)]&&_0x4be1ab[_0x1cbd2d(0x397)]?_0x4be1ab['versions'][_0x465d7f['version']-0x1]:_0x4be1ab;return{'type':_0x465d7f['type'],'id':_0x465d7f['id'],'uid':_0x465d7f['uid'],'description':_0x3694[_0x1cbd2d(0x69b)],'instructions':_0x3694[_0x1cbd2d(0x336)],'grammar':_0x3694['grammar'],'temperature':_0x3694[_0x1cbd2d(0x489)],'maxTokens':_0x3694[_0x1cbd2d(0x686)],'modelId':_0x3694[_0x1cbd2d(0x9f1)],'links':_0x465d7f[_0x1cbd2d(0x9dd)],'version':_0x465d7f[_0x1cbd2d(0x8a6)]};case _0xc0f671[_0x1cbd2d(0x65e)]:case _0xc0f671[_0x1cbd2d(0xa80)]:case _0xc0f671[_0x1cbd2d(0x1ce)]:case _0xc0f671[_0x1cbd2d(0x3c4)]:case _0xc0f671[_0x1cbd2d(0x1ea)]:case _0xc0f671['Reranker']:return{'type':_0x465d7f[_0x1cbd2d(0x747)],'id':_0x465d7f['id'],'uid':_0x465d7f[_0x1cbd2d(0x969)],'links':_0x465d7f[_0x1cbd2d(0x9dd)],'attributes':_0x465d7f['attributes']};case _0xc0f671['Model']:case _0xc0f671[_0x1cbd2d(0x74a)]:case _0xc0f671[_0x1cbd2d(0x329)]:case _0xc0f671[_0x1cbd2d(0x498)]:case _0xc0f671[_0x1cbd2d(0x16d)]:case _0xc0f671[_0x1cbd2d(0x8b7)]:case _0xc0f671[_0x1cbd2d(0x9a0)]:case _0xc0f671[_0x1cbd2d(0x31a)]:case _0xc0f671[_0x1cbd2d(0x977)]:case _0xc0f671[_0x1cbd2d(0x236)]:return{'type':_0x465d7f['type'],'id':_0x465d7f['id'],'uid':_0x465d7f[_0x1cbd2d(0x969)],'links':_0x465d7f[_0x1cbd2d(0x9dd)]};default:throw new _0x1cac69(_0x1cac69['codes'][_0x1cbd2d(0xa11)],{'block':_0x465d7f});}});}async[_0xd4b2e(0x31b)](_0x4fa120){const _0x1bdc3d=_0xd4b2e;return(await(0x0,_0x1e7cba[_0x1bdc3d(0x16b)])((0x0,_0x1e7cba[_0x1bdc3d(0x8d1)])(_0x3a6ba1[_0x1bdc3d(0x848)](),_0x1bdc3d(0x5ec)+_0x4fa120+_0x1bdc3d(0x3c9))))[_0x1bdc3d(0x21b)][_0x1bdc3d(0x7da)](_0x16be84=>{const _0xb8ab8b=_0x1bdc3d,_0x2821f6=_0x16be84[_0xb8ab8b(0x2aa)]();return{'type':_0x1db4e3['Agent'],'id':_0x16be84['id'],'name':_0x2821f6['name'],'description':_0x2821f6[_0xb8ab8b(0x69b)],'instructions':_0x2821f6[_0xb8ab8b(0x336)],'contextOutputVariable':_0x2821f6[_0xb8ab8b(0x8ad)],'contextInputVariable':_0x2821f6[_0xb8ab8b(0x2e7)],'grammar':_0x2821f6[_0xb8ab8b(0x8a9)]??_0xb8ab8b(0x6b0),'temperature':_0x2821f6[_0xb8ab8b(0x489)],'maxTokens':_0x2821f6['maxTokens'],'modelId':_0x2821f6[_0xb8ab8b(0x9f1)],'versions':_0x2821f6['versions']};});}async[_0xd4b2e(0x14b)](_0x4e4314){const _0x3cc342=_0xd4b2e;return(await(0x0,_0x1e7cba[_0x3cc342(0x16b)])((0x0,_0x1e7cba['collection'])(_0x3a6ba1[_0x3cc342(0x848)](),_0x3cc342(0x5ec)+_0x4e4314+_0x3cc342(0x1c4))))[_0x3cc342(0x21b)][_0x3cc342(0x7da)](_0x2cc53c=>{const _0x55917b=_0x3cc342,_0x52b760=_0x2cc53c['data']();return{'type':_0x1db4e3[_0x55917b(0x384)],'id':_0x2cc53c['id'],'name':_0x52b760[_0x55917b(0x4fc)],'description':_0x52b760[_0x55917b(0x69b)],'ingestBlocks':_0x52b760[_0x55917b(0xa56)],'retrieveBlocks':_0x52b760[_0x55917b(0x20a)],'versions':_0x52b760[_0x55917b(0x397)]};});}async[_0xd4b2e(0x6cd)](_0x1816ad){const _0x2c148c=_0xd4b2e;return(await(0x0,_0x1e7cba['getDocs'])((0x0,_0x1e7cba[_0x2c148c(0x8d1)])(_0x3a6ba1[_0x2c148c(0x848)](),_0x2c148c(0x5ec)+_0x1816ad+'/resources/generative-ai-skill/items')))[_0x2c148c(0x21b)][_0x2c148c(0x7da)](_0x155093=>{const _0x15c428=_0x2c148c,_0x1abe52=_0x155093[_0x15c428(0x2aa)]();return{'type':_0x1db4e3['CustomSkill'],'id':_0x155093['id'],'name':_0x1abe52['name'],'description':_0x1abe52[_0x15c428(0x69b)],'parameters':_0x1abe52[_0x15c428(0x1d1)],'endpointUrl':_0x1abe52[_0x15c428(0x929)],'endpointMethod':_0x1abe52[_0x15c428(0xa5b)],'headers':_0x1abe52[_0x15c428(0x7d9)],'queryParameters':_0x1abe52[_0x15c428(0xa07)],'bodyParameters':_0x1abe52[_0x15c428(0x81c)],'contextOutputVariable':_0x1abe52[_0x15c428(0x8ad)],'waitAsync':_0x1abe52[_0x15c428(0x28e)]??!0x1,'asyncEndpointUrl':_0x1abe52[_0x15c428(0x2ab)],'asyncEndpointMethod':_0x1abe52['asyncEndpointMethod'],'asyncHeaders':_0x1abe52[_0x15c428(0x270)]};});}async[_0xd4b2e(0xa1e)](_0x28b74e){const _0x48d9cf=_0xd4b2e;return(await(0x0,_0x1e7cba[_0x48d9cf(0x16b)])((0x0,_0x1e7cba['collection'])(_0x3a6ba1[_0x48d9cf(0x848)](),_0x48d9cf(0x5ec)+_0x28b74e+_0x48d9cf(0x12d))))['docs'][_0x48d9cf(0x7da)](_0x440f5c=>{const _0x43490c=_0x48d9cf,_0x3eb4de=_0x440f5c[_0x43490c(0x2aa)]();return{'id':_0x440f5c['id'],'name':_0x3eb4de[_0x43490c(0x4fc)],'description':_0x3eb4de['description'],'content':_0x3eb4de[_0x43490c(0x580)]};});}async[_0xd4b2e(0x1b5)](_0xc09e37){const _0x13df50=_0xd4b2e;return(await(0x0,_0x1e7cba[_0x13df50(0x16b)])((0x0,_0x1e7cba[_0x13df50(0x8d1)])(_0x3a6ba1[_0x13df50(0x848)](),_0x13df50(0x5ec)+_0xc09e37+_0x13df50(0x5aa))))[_0x13df50(0x21b)][_0x13df50(0x7da)](_0x2b52b5=>{const _0x214060=_0x13df50,_0x319b24=_0x2b52b5[_0x214060(0x2aa)]();return{'id':_0x2b52b5['id'],'modelName':_0x319b24[_0x214060(0x884)],'engineType':_0x319b24[_0x214060(0x84d)],'taskType':_0x319b24[_0x214060(0x12f)],'knowledgeCutoffDate':_0x319b24[_0x214060(0x705)],'inputType':_0x319b24['inputType']??_0x29f76b[_0x214060(0x4ae)][_0x214060(0x217)],'outputType':_0x319b24[_0x214060(0x7cd)]??_0x29f76b[_0x214060(0x6b1)][_0x214060(0x217)],'sourceUrl':_0x319b24[_0x214060(0xa02)]};});}}const _0x1951c0=_0x3ae154[_0xd4b2e(0x1f0)]();class _0x349d2d extends _0x30500e{[_0xd4b2e(0x3ff)];[_0xd4b2e(0x313)];[_0xd4b2e(0x524)]=0x0;[_0xd4b2e(0x7d7)]=0x0;[_0xd4b2e(0x8ed)];constructor(_0x15029f,_0x4ce502,_0x1414f2,_0x5504ea){const _0x2d8c89=_0xd4b2e;super(_0x15029f,_0x4ce502,_0x5504ea),this[_0x2d8c89(0x3ff)]=_0x15029f,this['vendorId']=_0x1414f2,this[_0x2d8c89(0x53c)]();}['destroy'](){const _0x26f6a8=_0xd4b2e;this[_0x26f6a8(0x8ed)]&&(clearTimeout(this['debounceStats']),delete this[_0x26f6a8(0x8ed)]),super[_0x26f6a8(0x32a)]();}[_0xd4b2e(0x5f1)](){const _0x1c5c1b=_0xd4b2e;this[_0x1c5c1b(0x524)]=0x0,this[_0x1c5c1b(0x7d7)]=0x0,this['sendStats'](),super[_0x1c5c1b(0x5f1)]();}[_0xd4b2e(0x98d)](_0x15d4dc){const _0x283712=_0xd4b2e,_0x2d6b6d=_0x283712(0xa20)+(0x0,_0x1cf016['v4'])();switch(_0x15d4dc[_0x283712(0x747)]){case'prompt':let _0x5b7c08=!0x1;const _0x3e7fa9=()=>{if(_0x5b7c08)throw new _0x1cac69(_0x1cac69['codes']['GenerativeAIContextJobAlreadyConsumed']);_0x5b7c08=!0x0;},_0x8651f3=()=>(_0x3e7fa9(),this['prompt'](_0x2d6b6d,_0x15d4dc['prompt'],_0x15d4dc[_0x283712(0x49e)])),_0x1160fb=()=>(_0x3e7fa9(),this['stream'](_0x2d6b6d,_0x15d4dc[_0x283712(0x59b)],_0x15d4dc[_0x283712(0x49e)]));return{'id':_0x2d6b6d,'prompt':_0x15d4dc['prompt'],'options':_0x15d4dc[_0x283712(0x49e)]??{'threadId':_0x283712(0x5d5)+(0x0,_0x1cf016['v4'])()},'run':_0x8651f3,'stream':_0x1160fb};case _0x283712(0x8a0):let _0x230e3a=!0x1;const _0xb206a8=()=>{const _0x430b73=_0x283712;if(_0x230e3a)throw new _0x1cac69(_0x1cac69[_0x430b73(0x15e)][_0x430b73(0x312)]);_0x230e3a=!0x0;},_0x5ef3c8=()=>(_0xb206a8(),this[_0x283712(0x926)](_0x2d6b6d,_0x15d4dc[_0x283712(0x799)],_0x15d4dc[_0x283712(0x960)],_0x15d4dc[_0x283712(0x49e)]));if(!_0x15d4dc['options']?.[_0x283712(0x938)])throw new _0x276337(_0x15ca7a['GenerativeAIContextJobMissingThreadId'],_0x283712(0x5bf));return{'id':_0x2d6b6d,'rating':_0x15d4dc[_0x283712(0x799)],'options':_0x15d4dc['options']??{'threadId':_0x283712(0x5d5)+(0x0,_0x1cf016['v4'])()},'rate':_0x5ef3c8};case _0x283712(0x284):let _0x50c024=!0x1;const _0x27574a=()=>{const _0x340f8a=_0x283712;if(_0x50c024)throw new _0x1cac69(_0x1cac69[_0x340f8a(0x15e)][_0x340f8a(0x312)]);_0x50c024=!0x0;};return{'id':_0x2d6b6d,'objectStoreId':'','documentPath':_0x15d4dc[_0x283712(0x5b5)],'download':()=>(_0x27574a(),this[_0x283712(0x429)](_0x2d6b6d,_0x15d4dc[_0x283712(0x83c)],_0x15d4dc[_0x283712(0x5b5)]))};case _0x283712(0x174):let _0x2978cc=!0x1;const _0x55076a=()=>{const _0x1fa5c8=_0x283712;if(_0x2978cc)throw new _0x1cac69(_0x1cac69[_0x1fa5c8(0x15e)]['GenerativeAIContextJobAlreadyConsumed']);_0x2978cc=!0x0;};return{'id':_0x2d6b6d,'query':_0x15d4dc[_0x283712(0x613)],'collectionId':_0x15d4dc[_0x283712(0x868)],'search':()=>(_0x55076a(),this[_0x283712(0x4a3)](_0x2d6b6d,_0x15d4dc[_0x283712(0x613)],_0x15d4dc['collectionId']))};}}async[_0xd4b2e(0x874)](_0x19fccf){const _0x72c8db=_0xd4b2e;return this[_0x72c8db(0x98d)](_0x19fccf)['rate']();}async[_0xd4b2e(0x284)](_0x169fbf){const _0x51550a=_0xd4b2e,_0x270415={'type':_0x51550a(0x284),'objectStoreId':'','documentPath':_0x169fbf};return this[_0x51550a(0x98d)](_0x270415)[_0x51550a(0x395)]();}async[_0xd4b2e(0x174)](_0xe16415){const _0x3903f4=_0xd4b2e;return this[_0x3903f4(0x98d)](_0xe16415)['search']();}async[_0xd4b2e(0x4a3)](_0x780cb1,_0x31dd6e,_0xed8ac6){const _0x5b07d9=_0xd4b2e,_0x4e0c77={'type':'search','threadId':'','query':_0x31dd6e,'collectionId':_0xed8ac6},_0x511090=await this['getJobObservable'](_0x780cb1,_0x29f76b[_0x5b07d9(0x6a2)][_0x5b07d9(0x506)],_0x4e0c77);return new Promise((_0x4ca168,_0xc89e29)=>{const _0x56f567=_0x5b07d9;let _0x35ab5b;const _0x59f0c8=_0x511090[_0x56f567(0x696)]({'next':_0x34afdd=>{const _0x122956=_0x56f567;switch(_0x34afdd[_0x122956(0xa6f)]){case _0x29f76b['JobStatus'][_0x122956(0x94b)]:clearTimeout(_0x35ab5b),_0x4ca168(_0x34afdd[_0x122956(0x194)]['context']??[]),_0x59f0c8[_0x122956(0x37a)]();break;case _0x29f76b[_0x122956(0x6bb)][_0x122956(0x240)]:clearTimeout(_0x35ab5b),_0xc89e29(new _0x1cac69(_0x1cac69[_0x122956(0x15e)]['GenerativeAIContextJobFailed'],{'updatedJob':_0x34afdd})),_0x59f0c8[_0x122956(0x37a)]();}},'error':_0xbb3026=>{const _0x372d13=_0x56f567;clearTimeout(_0x35ab5b),_0xc89e29(new _0x1cac69(_0x1cac69['codes'][_0x372d13(0x523)],{'err':_0xbb3026})),_0x59f0c8['unsubscribe']();}});_0x35ab5b=setTimeout(()=>{const _0x1021b0=_0x56f567;_0xc89e29(new _0x1cac69(_0x1cac69[_0x1021b0(0x15e)][_0x1021b0(0x565)])),_0x59f0c8['unsubscribe']();},_0xd0036b);});}async['internalRatePrompt'](_0x462dfc,_0x40eaf8,_0x4fa73d,{threadId:_0xe09dca,feedback:_0x31e0e8=''}){const _0x1196de=_0xd4b2e,_0x49a9ed={'type':'rate','jobId':_0x4fa73d,'threadId':_0xe09dca,'rating':_0x40eaf8,'feedback':_0x31e0e8},_0x643eae=await this[_0x1196de(0x758)](_0x462dfc,_0x29f76b[_0x1196de(0x6a2)][_0x1196de(0x506)],_0x49a9ed,{'threadId':_0xe09dca,'feedback':_0x31e0e8});return new Promise((_0x2e38fc,_0x1accd0)=>{const _0x53a1c1=_0x1196de;let _0x9281c1;const _0x51eb01=_0x643eae[_0x53a1c1(0x696)]({'next':_0x1ac5d5=>{const _0x342b1c=_0x53a1c1;switch(_0x1ac5d5[_0x342b1c(0xa6f)]){case _0x29f76b[_0x342b1c(0x6bb)][_0x342b1c(0x94b)]:clearTimeout(_0x9281c1),_0x2e38fc(_0x1ac5d5[_0x342b1c(0x194)]),_0x51eb01[_0x342b1c(0x37a)]();break;case _0x29f76b['JobStatus'][_0x342b1c(0x240)]:clearTimeout(_0x9281c1),_0x1accd0(new _0x1cac69(_0x1cac69[_0x342b1c(0x15e)][_0x342b1c(0x523)],{'updatedJob':_0x1ac5d5})),_0x51eb01['unsubscribe']();}},'error':_0x17d635=>{const _0x4788a3=_0x53a1c1;clearTimeout(_0x9281c1),_0x1accd0(new _0x1cac69(_0x1cac69[_0x4788a3(0x15e)][_0x4788a3(0x523)],{'err':_0x17d635})),_0x51eb01[_0x4788a3(0x37a)]();}});_0x9281c1=setTimeout(()=>{const _0x2fdf10=_0x53a1c1;_0x1accd0(new _0x1cac69(_0x1cac69[_0x2fdf10(0x15e)][_0x2fdf10(0x565)])),_0x51eb01[_0x2fdf10(0x37a)]();},_0xd0036b);});}async[_0xd4b2e(0x429)](_0x412ae2,_0x59dce9,_0x263a2d){const _0x26d3ab=_0xd4b2e,_0x1f47ea={'type':_0x26d3ab(0x284),'objectStoreId':_0x59dce9,'documentPath':_0x263a2d,'threadId':_0x26d3ab(0x5d5)+(0x0,_0x1cf016['v4'])()},_0x1272e4=await this['getJobObservable'](_0x412ae2,_0x29f76b[_0x26d3ab(0x6a2)][_0x26d3ab(0x506)],_0x1f47ea);return new Promise((_0x1e0483,_0x124210)=>{const _0x1a3aee=_0x26d3ab;let _0x215ae3;const _0x56c29d=_0x1272e4[_0x1a3aee(0x696)]({'next':_0x37715b=>{const _0x311b11=_0x1a3aee;switch(_0x37715b['status']){case _0x29f76b[_0x311b11(0x6bb)][_0x311b11(0x94b)]:clearTimeout(_0x215ae3),_0x1e0483(_0x37715b[_0x311b11(0x194)]),_0x56c29d[_0x311b11(0x37a)]();break;case _0x29f76b['JobStatus'][_0x311b11(0x240)]:clearTimeout(_0x215ae3),_0x124210(new _0x1cac69(_0x1cac69[_0x311b11(0x15e)][_0x311b11(0x523)],{'updatedJob':_0x37715b})),_0x56c29d[_0x311b11(0x37a)]();}},'error':_0x4cded3=>{const _0x4e1a87=_0x1a3aee;clearTimeout(_0x215ae3),_0x124210(new _0x1cac69(_0x1cac69[_0x4e1a87(0x15e)][_0x4e1a87(0x523)],{'err':_0x4cded3})),_0x56c29d['unsubscribe']();}});_0x215ae3=setTimeout(()=>{const _0x2d1b9c=_0x1a3aee;_0x124210(new _0x1cac69(_0x1cac69[_0x2d1b9c(0x15e)]['GenerativeAIContextJobTimeout'])),_0x56c29d[_0x2d1b9c(0x37a)]();},_0xd0036b);});}async['prompt'](_0x394e44,_0x1e2506,_0x596c61){const _0x462c56=_0xd4b2e,_0x384b4={'type':_0x462c56(0x59b),'prompt':_0x1e2506,'threadId':_0x596c61?.[_0x462c56(0x938)]??_0x462c56(0x5d5)+(0x0,_0x1cf016['v4'])()},_0x168ac3=await this[_0x462c56(0x758)](_0x394e44,_0x29f76b['JobType'][_0x462c56(0x506)],_0x384b4,_0x596c61);return new Promise((_0x5ce65f,_0x5ae004)=>{let _0x3aa3b8;const _0x1942b5=_0x168ac3['subscribe']({'next':_0x3c4832=>{const _0xd4c0e8=a0_0x2e29;switch(_0x3c4832[_0xd4c0e8(0xa6f)]){case _0x29f76b[_0xd4c0e8(0x6bb)][_0xd4c0e8(0x94b)]:if(_0xd4c0e8(0x59b)!==_0x3c4832[_0xd4c0e8(0x194)]['type'])return;const _0x75a929=_0x3c4832[_0xd4c0e8(0x194)][_0xd4c0e8(0x2d3)]??0x0;this[_0xd4c0e8(0x256)](_0x1e2506,_0x75a929),clearTimeout(_0x3aa3b8),_0x5ce65f(_0x3c4832[_0xd4c0e8(0x194)]),_0x1942b5[_0xd4c0e8(0x37a)](),this[_0xd4c0e8(0x524)]+=0x1,this['tokens']+=_0x75a929,this[_0xd4c0e8(0x53c)]();break;case _0x29f76b[_0xd4c0e8(0x6bb)][_0xd4c0e8(0x240)]:clearTimeout(_0x3aa3b8),_0x5ae004(new _0x1cac69(_0x1cac69[_0xd4c0e8(0x15e)]['GenerativeAIContextJobFailed'],{'updatedJob':_0x3c4832})),_0x1942b5[_0xd4c0e8(0x37a)](),this['sendStats']();}},'error':_0xfb44cd=>{const _0x454c58=a0_0x2e29;clearTimeout(_0x3aa3b8),_0x5ae004(new _0x1cac69(_0x1cac69[_0x454c58(0x15e)][_0x454c58(0x523)],{'err':_0xfb44cd})),_0x1942b5[_0x454c58(0x37a)]();}});_0x3aa3b8=setTimeout(()=>{const _0x314fed=a0_0x2e29;_0x5ae004(new _0x1cac69(_0x1cac69[_0x314fed(0x15e)]['GenerativeAIContextJobTimeout'])),_0x1942b5[_0x314fed(0x37a)]();},_0xd0036b);});}async*[_0xd4b2e(0x67a)](_0x2f55cd,_0x53c21c,_0x32a8c5){const _0x28fbd0=_0xd4b2e,_0x5dfe9f={'type':'prompt','prompt':_0x53c21c,'threadId':_0x32a8c5?.['threadId']??_0x28fbd0(0x5d5)+(0x0,_0x1cf016['v4'])()},_0x4a6162=await this['getJobObservable'](_0x2f55cd,_0x29f76b[_0x28fbd0(0x6a2)][_0x28fbd0(0x9a3)],_0x5dfe9f,_0x32a8c5);let _0x28032d,_0x454094,_0x3ad55e=!0x1,_0x177239=0x0;const _0x477acf=[],_0x59c1a9=new Map();let _0x18013b=null;const _0x2c693c=()=>{_0x18013b&&(_0x18013b(),_0x18013b=null);},_0x50c7c4=_0x3ea1bc=>{const _0xaeadfd=_0x28fbd0;_0x3ad55e=!0x0,_0x2c693c(),_0x493acc[_0xaeadfd(0x37a)](),_0x454094=_0x3ea1bc;},_0x493acc=_0x4a6162[_0x28fbd0(0x696)]({'next':async _0x6967d8=>{const _0x12b975=_0x28fbd0;switch(_0x6967d8['status']){case _0x29f76b[_0x12b975(0x6bb)]['Partial']:if('prompt'!==_0x6967d8[_0x12b975(0x194)]['type'])return;if(_0x6967d8[_0x12b975(0x194)]&&void 0x0!==_0x6967d8[_0x12b975(0x194)][_0x12b975(0x1ec)]){if(void 0x0===_0x6967d8[_0x12b975(0x194)]['index'])return void _0x50c7c4(_0x1cac69[_0x12b975(0x15e)][_0x12b975(0x46e)]);_0x177239===_0x6967d8[_0x12b975(0x194)][_0x12b975(0x5a0)]?(_0x477acf[_0x12b975(0x55a)](_0x6967d8[_0x12b975(0x194)]),_0x177239++,((()=>{const _0x35d15d=_0x12b975;for(;_0x59c1a9[_0x35d15d(0x8e9)](_0x177239);)_0x477acf[_0x35d15d(0x55a)](_0x59c1a9[_0x35d15d(0x6e6)](_0x477acf[_0x35d15d(0x9b4)])),_0x59c1a9[_0x35d15d(0xa2f)](_0x477acf[_0x35d15d(0x9b4)]),_0x177239++;})()),_0x2c693c(),_0x3c091a()):_0x59c1a9['set'](_0x6967d8[_0x12b975(0x194)][_0x12b975(0x5a0)],_0x6967d8['result']);}break;case _0x29f76b[_0x12b975(0x6bb)][_0x12b975(0x94b)]:if(_0x12b975(0x59b)!==_0x6967d8[_0x12b975(0x194)][_0x12b975(0x747)])return;for(;_0x177239!==_0x6967d8[_0x12b975(0x194)][_0x12b975(0x5a0)];)await _0x1b723a[_0x12b975(0x51b)](0x3e8);const _0x213a26=_0x6967d8['result'][_0x12b975(0x2d3)]??0x0;this[_0x12b975(0x256)](_0x53c21c,_0x213a26),clearTimeout(_0x28032d),_0x50c7c4(),this[_0x12b975(0x524)]+=0x1,this['tokens']+=_0x213a26,this['sendStats']();break;case _0x29f76b['JobStatus'][_0x12b975(0x240)]:clearTimeout(_0x28032d),_0x50c7c4(_0x1cac69['codes'][_0x12b975(0x523)]),this['sendStats']();}},'error':_0x235615=>{clearTimeout(_0x28032d),_0x50c7c4(_0x1cac69['codes']['GenerativeAIContextJobFailed']);}}),_0x87342f=()=>{const _0x4872c9=_0x28fbd0;_0x50c7c4(_0x1cac69[_0x4872c9(0x15e)][_0x4872c9(0x565)]);},_0x3c091a=()=>{clearTimeout(_0x28032d),_0x28032d=setTimeout(_0x87342f,_0xd0036b);};for(_0x28032d=setTimeout(_0x87342f,_0xd0036b);!_0x3ad55e||_0x477acf['length']>0x0;)_0x477acf['length']>0x0?yield _0x477acf[_0x28fbd0(0x6dd)]():await new Promise(_0x39eb6e=>_0x18013b=_0x39eb6e);if(_0x454094)throw _0x98a765['error'](_0x28fbd0(0x765),{'nodeId':this[_0x28fbd0(0x3ff)][_0x28fbd0(0x2a6)](),'nodeType':this[_0x28fbd0(0x3ff)][_0x28fbd0(0x747)]}),new _0x1cac69(_0x454094);}async[_0xd4b2e(0x2f6)](){const _0x4b61d2=_0xd4b2e;return(await _0x1951c0[_0x4b61d2(0x4a8)](this['vendorId'],this[_0x4b61d2(0x39a)]))[_0x4b61d2(0x706)];}[_0xd4b2e(0x256)](_0xbf2989,_0x9b3f2a){const _0x3c644d=_0xd4b2e,_0x3871be=this[_0x3c644d(0x39a)],_0x4f2900=this['getOwnerId']();_0x98a765[_0x3c644d(0x256)](_0xdcad61['GenerativeAIContext'],{'topic':_0x3871be,'prompt':_0xbf2989,'type':'prompt','nodeId':_0x4f2900,'tokenCount':_0x9b3f2a});}async[_0xd4b2e(0x758)](_0xf276d8,_0x597eb6,_0x6b8508,_0xe83985={}){const _0x5b58f8=_0xd4b2e;let _0x722b06;switch(_0x6b8508[_0x5b58f8(0x747)]){case'prompt':{const {threadId:_0x22bc32}=_0xe83985;_0x722b06={'id':_0xf276d8,'jobType':_0x597eb6,'parameters':{..._0xe83985,'type':_0x5b58f8(0x59b),'prompt':_0x6b8508[_0x5b58f8(0x59b)],'threadId':_0x22bc32},'status':_0x29f76b[_0x5b58f8(0x6bb)][_0x5b58f8(0x8bb)]};break;}case'rate':{const {threadId:_0x20a890}=_0xe83985;_0x722b06={'id':_0xf276d8,'jobType':_0x597eb6,'parameters':{..._0xe83985,'type':_0x5b58f8(0x8a0),'jobId':_0x6b8508['jobId'],'rating':_0x6b8508['rating'],'feedback':_0x6b8508[_0x5b58f8(0x128)]??'','threadId':_0x20a890},'status':_0x29f76b[_0x5b58f8(0x6bb)][_0x5b58f8(0x8bb)]};break;}case'downloadDocument':_0x722b06={'id':_0xf276d8,'jobType':_0x597eb6,'parameters':{..._0xe83985,'type':_0x5b58f8(0x284),'objectStoreId':_0x6b8508['objectStoreId'],'documentPath':_0x6b8508['documentPath']},'status':_0x29f76b[_0x5b58f8(0x6bb)][_0x5b58f8(0x8bb)]};break;case _0x5b58f8(0x174):_0x722b06={'id':_0xf276d8,'jobType':_0x597eb6,'parameters':{..._0xe83985,'type':'search','query':_0x6b8508[_0x5b58f8(0x613)],'collectionId':_0x6b8508[_0x5b58f8(0x868)]},'status':_0x29f76b[_0x5b58f8(0x6bb)]['Pending']};}return await this['createJob'](_0x722b06);}[_0xd4b2e(0x53c)](){const _0x46a089=_0xd4b2e;this['debounceStats']&&clearTimeout(this['debounceStats']),this[_0x46a089(0x8ed)]=setTimeout(async()=>{const _0x4e7996=_0x46a089;delete this[_0x4e7996(0x8ed)],this[_0x4e7996(0x598)]['publish']({'sourceId':_0x596898,'messageType':_0x49e311[_0x4e7996(0x657)],'content':{'type':_0x2b2ef9[_0x4e7996(0x763)],'label':this['label'],'stats':{'timestamp':Date[_0x4e7996(0x702)](),'storage':0x0,'messagesSent':this[_0x4e7996(0x75d)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x4e7996(0x679)],'bytesReceived':this['bytesReceived'],'writes':0x0,'reads':0x0,'prompts':this['prompts'],'tokens':this[_0x4e7996(0x7d7)]}}});},_0x371ea9);}}var _0x4920c0,_0xcce17b,_0x532f14,_0x18ce78,_0x569cf4,_0x5a75f0,_0x5bb80c,_0x52a37f,_0x2ac92a,_0x4693e4,_0x398acb;!function(_0x52b71a){const _0x21c1df=_0xd4b2e;_0x52b71a[_0x21c1df(0x5ad)]=_0x21c1df(0x5ad),_0x52b71a['IngestTrace']=_0x21c1df(0x7ce),_0x52b71a[_0x21c1df(0x74e)]=_0x21c1df(0x74e),_0x52b71a[_0x21c1df(0x2b0)]='WorkflowTrace';}(_0x4920c0||(_0x4920c0={})),function(_0xc9125e){const _0x285471=_0xd4b2e;_0xc9125e[_0x285471(0x88a)]=_0x285471(0x88a),_0xc9125e[_0x285471(0x724)]=_0x285471(0x724),_0xc9125e[_0x285471(0x604)]='VectorSearch',_0xc9125e[_0x285471(0x1ea)]=_0x285471(0x1ea),_0xc9125e[_0x285471(0x404)]='GraphSearch',_0xc9125e['Reranker']='Reranker';}(_0xcce17b||(_0xcce17b={})),function(_0x893fc){const _0xf6984=_0xd4b2e;_0x893fc[_0x893fc[_0xf6984(0x37e)]=0x0]=_0xf6984(0x37e),_0x893fc[_0x893fc[_0xf6984(0x436)]=0x5]=_0xf6984(0x436),_0x893fc[_0x893fc[_0xf6984(0x687)]=0xa]=_0xf6984(0x687),_0x893fc[_0x893fc[_0xf6984(0x908)]=0xf]=_0xf6984(0x908);}(_0x532f14||(_0x532f14={})),function(_0x55bb18){const _0x68e832=_0xd4b2e;_0x55bb18[_0x68e832(0x348)]='Retrieve',_0x55bb18[_0x68e832(0x774)]=_0x68e832(0x774),_0x55bb18[_0x68e832(0x3d7)]=_0x68e832(0x3d7),_0x55bb18[_0x68e832(0x58d)]=_0x68e832(0x58d),_0x55bb18[_0x68e832(0x5ee)]=_0x68e832(0x5ee),_0x55bb18[_0x68e832(0x506)]='Job',_0x55bb18[_0x68e832(0x22c)]='JobContext',_0x55bb18[_0x68e832(0x542)]=_0x68e832(0x542);}(_0x18ce78||(_0x18ce78={})),function(_0x4c0850){const _0x428911=_0xd4b2e;_0x4c0850[_0x428911(0x72a)]=_0x428911(0x72a),_0x4c0850[_0x428911(0x94b)]=_0x428911(0x94b);}(_0x569cf4||(_0x569cf4={})),function(_0x4fcf15){const _0x3bd40d=_0xd4b2e;_0x4fcf15[_0x3bd40d(0x453)]=_0x3bd40d(0x453),_0x4fcf15[_0x3bd40d(0x4fa)]=_0x3bd40d(0x4fa),_0x4fcf15[_0x3bd40d(0x384)]=_0x3bd40d(0x384),_0x4fcf15[_0x3bd40d(0x69f)]=_0x3bd40d(0x69f);}(_0x5a75f0||(_0x5a75f0={})),function(_0x446dc7){const _0x4a6bd6=_0xd4b2e;_0x446dc7[_0x4a6bd6(0x3c4)]='ChunkSplitter',_0x446dc7[_0x4a6bd6(0x16d)]='DocumentParser',_0x446dc7['EntityExtractor']=_0x4a6bd6(0x1ea),_0x446dc7[_0x4a6bd6(0x65e)]=_0x4a6bd6(0x65e),_0x446dc7['Agent']=_0x4a6bd6(0x3e3),_0x446dc7[_0x4a6bd6(0x88a)]='ModelText',_0x446dc7['ModelVector']='ModelVector',_0x446dc7[_0x4a6bd6(0x498)]=_0x4a6bd6(0x498),_0x446dc7[_0x4a6bd6(0x8b7)]=_0x4a6bd6(0x8b7),_0x446dc7[_0x4a6bd6(0xa80)]='VectorDatabase',_0x446dc7[_0x4a6bd6(0x1ce)]=_0x4a6bd6(0x1ce);}(_0x5bb80c||(_0x5bb80c={})),function(_0x3df92a){const _0x2fc051=_0xd4b2e;_0x3df92a[_0x2fc051(0x6a0)]=_0x2fc051(0x6a0),_0x3df92a['GetContextResult']='GetContextResult';}(_0x52a37f||(_0x52a37f={})),function(_0x48a493){const _0x189371=_0xd4b2e;_0x48a493['ExecuteCode']='ExecuteCode',_0x48a493[_0x189371(0x7a0)]=_0x189371(0x7a0),_0x48a493[_0x189371(0x795)]=_0x189371(0x795),_0x48a493[_0x189371(0x41d)]=_0x189371(0x41d),_0x48a493[_0x189371(0x351)]=_0x189371(0x351),_0x48a493[_0x189371(0x6a1)]=_0x189371(0x6a1),_0x48a493[_0x189371(0x556)]=_0x189371(0x556),_0x48a493[_0x189371(0x544)]=_0x189371(0x544);}(_0x2ac92a||(_0x2ac92a={})),function(_0x16c13b){const _0x2932ed=_0xd4b2e;_0x16c13b[_0x2932ed(0x669)]='LoadKnowledgeFunction',_0x16c13b['LoadSkillFunction']='LoadSkillFunction';}(_0x4693e4||(_0x4693e4={})),function(_0x29168b){const _0x267cc8=_0xd4b2e;_0x29168b[_0x267cc8(0x786)]=_0x267cc8(0x786);}(_0x398acb||(_0x398acb={}));class _0x5eb96a{static ['instance']=new _0x5eb96a();[_0xd4b2e(0x4f4)]=[];[_0xd4b2e(0x9f6)]=!0x1;constructor(){}static['getInstance'](){return _0x5eb96a['instance'];}get[_0xd4b2e(0x9b4)](){const _0x2a65e9=_0xd4b2e;return this['jobQueue'][_0x2a65e9(0x9b4)];}[_0xd4b2e(0x48e)](){const _0x4ee668=_0xd4b2e;return!this[_0x4ee668(0x9f6)];}[_0xd4b2e(0x1b8)](_0x4b08e0){const _0x1104df=_0xd4b2e;_0x4b08e0?this[_0x1104df(0x4f4)]=this[_0x1104df(0x4f4)]['filter'](_0x6a6adb=>_0x6a6adb['ownerId']!==_0x4b08e0):(this[_0x1104df(0x4f4)]=[],this[_0x1104df(0x9f6)]=!0x1);}[_0xd4b2e(0x4bd)](_0x48291a,_0x61d3a8){const _0x840a17=_0xd4b2e;this[_0x840a17(0x4f4)][_0x840a17(0x55a)]({'callback':_0x61d3a8,'ownerId':_0x48291a}),this['runJobQueue']();}async[_0xd4b2e(0x1f6)](){const _0x1da89d=_0xd4b2e;if(!this[_0x1da89d(0x9f6)]){for(this[_0x1da89d(0x9f6)]=!0x0;this[_0x1da89d(0x4f4)][_0x1da89d(0x9b4)]>0x0;){const _0x4613e2=this[_0x1da89d(0x4f4)][_0x1da89d(0x6dd)]();if(_0x4613e2)try{console[_0x1da89d(0x7ae)](_0x1da89d(0x94a)),await _0x4613e2['callback'](),console[_0x1da89d(0x7ae)](_0x1da89d(0x990));}catch(_0x26fde7){console[_0x1da89d(0x940)](_0x1da89d(0x7f6),_0x26fde7);}}this['isRunning']=!0x1;}}}const _0x4bb1cc=_0x5eb96a[_0xd4b2e(0x1f0)]();class _0x24b267 extends _0x19f40b{[_0xd4b2e(0x207)];[_0xd4b2e(0x76d)];constructor(_0x1f47f3,_0x3568ce,_0x36d7ae){const _0x44a5b1=_0xd4b2e;super(_0x1f47f3,_0x3568ce),this[_0x44a5b1(0x207)]=_0x36d7ae;}[_0xd4b2e(0x161)](){const _0x352e36=_0xd4b2e;return _0x29f76b[_0x352e36(0x9b8)][_0x352e36(0x506)];}[_0xd4b2e(0x917)](){const _0x148373=_0xd4b2e;this[_0x148373(0x5d2)]();}[_0xd4b2e(0x27e)](){const _0xdaf338=_0xd4b2e;this[_0xdaf338(0x598)]?.[_0xdaf338(0x2b2)]({'sourceId':_0x596898,'messageType':_0x49e311[_0xdaf338(0x657)],'content':{'type':_0x2b2ef9[_0xdaf338(0x66e)],'label':this[_0xdaf338(0x39a)]}});}[_0xd4b2e(0x5f1)](){const _0xb4b5b7=_0xd4b2e;this[_0xb4b5b7(0x76d)]?.(),delete this[_0xb4b5b7(0x76d)],this[_0xb4b5b7(0x917)]();}[_0xd4b2e(0x32a)](){const _0x44b88c=_0xd4b2e;_0x4bb1cc['clear'](this[_0x44b88c(0x39a)]),this[_0x44b88c(0x76d)]?.(),delete this[_0x44b88c(0x76d)],super[_0x44b88c(0x32a)]();}[_0xd4b2e(0x48e)](){return _0x4bb1cc['isAvailable']();}[_0xd4b2e(0x12a)](){return 0x1;}[_0xd4b2e(0x4c9)](_0x1f3ab8,_0x5466d2,_0x8d46cc){}['accumulateResult'](_0x2df5b2,_0x145df1){return _0x2df5b2;}['startTracing'](_0x3b02b3,_0x536c4b){const _0x22c8a6=_0xd4b2e;console[_0x22c8a6(0x7ae)](_0x22c8a6(0x3de));}[_0xd4b2e(0x3b0)](_0x38f719,_0x5df13d){const _0x9da6ea=_0xd4b2e;console[_0x9da6ea(0x7ae)](_0x9da6ea(0x3de));}[_0xd4b2e(0x5d2)](){const _0xdf0f5=_0xd4b2e;this['unsubscribeListener']||(this[_0xdf0f5(0x76d)]=this[_0xdf0f5(0x99c)]((_0x105114,_0x4dd487)=>{const _0x17827d=_0xdf0f5;if(_0x98a765[_0x17827d(0x22d)](_0x831a2b['Jobs'],'JobWorker:\x20Received\x20job',_0x4dd487),!(_0x4dd487 instanceof File)){if(this[_0x17827d(0x2f5)](_0x4dd487))_0x98a765[_0x17827d(0x22d)](_0x831a2b[_0x17827d(0x7f2)],'JobWorker:\x20Received\x20job\x20request',_0x4dd487),this[_0x17827d(0x48e)]()?this[_0x17827d(0x79b)](_0x4dd487['id'],_0x4dd487[_0x17827d(0x5e3)],_0x105114):this[_0x17827d(0x54f)](_0x4dd487['id'],_0x4dd487[_0x17827d(0x5e3)],_0x105114);else{if(this[_0x17827d(0x983)](_0x4dd487)){_0x98a765[_0x17827d(0x22d)](_0x831a2b['Jobs'],'JobWorker:\x20Received\x20job\x20attribution',_0x4dd487);const {id:_0x249b4a,parameters:_0x3c8543}=_0x4dd487;this[_0x17827d(0xa2c)](_0x249b4a,_0x3c8543),_0x4bb1cc[_0x17827d(0x4bd)](this[_0x17827d(0x39a)],()=>this[_0x17827d(0x179)](_0x4dd487['id'],_0x4dd487,_0x105114));}}}}));}[_0xd4b2e(0x79b)](_0x137b5e,_0x565f51,_0x3bab68){const _0x129248=_0xd4b2e,_0x53be09={'id':_0x137b5e,'jobType':_0x565f51,'jobPhase':_0x48cc2c['Bid'],'available':!0x0,'queueLength':_0x4bb1cc[_0x129248(0x9b4)],'bid':this['getBid']()};_0x98a765['log'](_0x831a2b[_0x129248(0x7f2)],_0x129248(0x821),_0x53be09),this[_0x129248(0x13b)](_0x53be09,[_0x3bab68]);}[_0xd4b2e(0x54f)](_0x4ccc7c,_0x308117,_0x2f344f){const _0x4b9a7e=_0xd4b2e,_0x529d76={'id':_0x4ccc7c,'jobType':_0x308117,'jobPhase':_0x48cc2c[_0x4b9a7e(0x6f1)],'available':!0x1,'queueLength':_0x4bb1cc[_0x4b9a7e(0x9b4)],'bid':0x0};_0x98a765[_0x4b9a7e(0x22d)](_0x831a2b[_0x4b9a7e(0x7f2)],_0x4b9a7e(0x964),_0x529d76),this[_0x4b9a7e(0x13b)](_0x529d76,[_0x2f344f]);}async[_0xd4b2e(0x179)](_0x13e680,_0x4b08e2,_0x1b03f3){const _0x449a08=_0xd4b2e;_0x98a765[_0x449a08(0x22d)](_0x831a2b[_0x449a08(0x7f2)],'JobWorker:\x20Handling\x20job\x20attribution',_0x4b08e2);const _0x725ba1={'id':_0x13e680,'jobType':_0x4b08e2[_0x449a08(0x5e3)],'parameters':_0x4b08e2[_0x449a08(0x1d1)]};try{switch(_0x4b08e2['jobType']){case _0x29f76b[_0x449a08(0x6a2)][_0x449a08(0x506)]:await this['processJob'](_0x13e680,_0x4b08e2,_0x725ba1,_0x1b03f3);break;case _0x29f76b['JobType'][_0x449a08(0x9a3)]:await this[_0x449a08(0x509)](_0x13e680,_0x4b08e2,_0x725ba1,_0x1b03f3);break;default:throw new Error(_0x449a08(0x3db));}}catch(_0x53e761){_0x98a765[_0x449a08(0x940)](_0x449a08(0x537),{'nodeId':this[_0x449a08(0xa7a)]['getId'](),'nodeType':this['owner'][_0x449a08(0x747)],'data':{'job':_0x725ba1}},_0x53e761);const _0x59f246=_0x53e761 instanceof Error?_0x53e761[_0x449a08(0x2b6)]:_0x449a08(0x529),_0x2d6bd8={'id':_0x13e680,'jobType':_0x4b08e2[_0x449a08(0x5e3)],'jobPhase':_0x48cc2c[_0x449a08(0x240)],'message':_0x59f246};await this[_0x449a08(0x13b)](_0x2d6bd8,[_0x1b03f3]);}}async['processJob'](_0x5b055d,_0x487696,_0x224632,_0x4ad00f){const _0x114b25=_0xd4b2e,_0x217633=Date[_0x114b25(0x702)](),_0x1be68a=await this[_0x114b25(0x5fe)](_0x5b055d,_0x224632[_0x114b25(0x1d1)]);this['compileStats'](_0x1be68a,_0x217633,Date[_0x114b25(0x702)]());const _0x52e5e3={'id':_0x5b055d,'jobType':_0x487696[_0x114b25(0x5e3)],'jobPhase':_0x48cc2c[_0x114b25(0x6dc)],'result':_0x1be68a};_0x98a765[_0x114b25(0x22d)](_0x831a2b[_0x114b25(0x7f2)],_0x114b25(0xa08),_0x52e5e3),await this[_0x114b25(0x13b)](_0x52e5e3,[_0x4ad00f]),this[_0x114b25(0x3b0)](_0x5b055d,_0x224632[_0x114b25(0x1d1)]);}async[_0xd4b2e(0x509)](_0x12e2e2,_0x3be1ff,_0x392369,_0xbbe6af){const _0xad4fed=_0xd4b2e,_0x22b6c1=Date['now']();let _0x2ce53a=0x0,_0x3e3341={};for await(const _0x4f1921 of this[_0xad4fed(0x479)](_0x392369['id'],_0x392369[_0xad4fed(0x1d1)])){const _0x4ce338={'id':_0x12e2e2,'jobType':_0x3be1ff[_0xad4fed(0x5e3)],'jobPhase':_0x48cc2c[_0xad4fed(0x5de)],'result':{..._0x4f1921,'index':_0x2ce53a}};_0x98a765[_0xad4fed(0x22d)](_0x831a2b[_0xad4fed(0x7f2)],'JobWorker:\x20Sending\x20job\x20partial\x20result',_0x4ce338),this[_0xad4fed(0x13b)](_0x4ce338,[_0xbbe6af]),_0x3e3341=this[_0xad4fed(0x924)](_0x3e3341,_0x4f1921),_0x2ce53a++;}this[_0xad4fed(0x4c9)](_0x3e3341,_0x22b6c1,Date[_0xad4fed(0x702)]());const _0x38d6c0={'id':_0x12e2e2,'jobType':_0x3be1ff[_0xad4fed(0x5e3)],'jobPhase':_0x48cc2c[_0xad4fed(0x6dc)],'result':{..._0x3e3341,'index':_0x2ce53a}};_0x98a765[_0xad4fed(0x22d)](_0x831a2b['Jobs'],_0xad4fed(0xa08),_0x38d6c0),await this[_0xad4fed(0x13b)](_0x38d6c0,[_0xbbe6af]),this[_0xad4fed(0x3b0)](_0x12e2e2,_0x392369['parameters']);}['isJobRequest'](_0x360fef){const _0x3f8286=_0xd4b2e;return _0x360fef[_0x3f8286(0x380)]===_0x48cc2c[_0x3f8286(0x23e)];}[_0xd4b2e(0x983)](_0x350584){const _0x2246d5=_0xd4b2e;return _0x350584['jobPhase']===_0x48cc2c[_0x2246d5(0x52c)];}}function _0x676d19(_0xc6b569,_0x4107b0){const _0x335760=_0xd4b2e;return _0x335760(0x4c6)+_0xc6b569+'-'+_0x4107b0;}function _0x4aa75d(){const _0x3c892d=_0xd4b2e,_0x414b81=_0x291f73[_0x3c892d(0x95d)](0x1);return _0x414b81[_0x3c892d(0x8ab)](_0x3c892d(0x504))[_0x3c892d(0x5a0)]('id')[_0x3c892d(0x5a0)](_0x3c892d(0x960))[_0x3c892d(0x5a0)](_0x3c892d(0x4d7))['index'](_0x3c892d(0x938))[_0x3c892d(0x5a0)](_0x3c892d(0x9d7))[_0x3c892d(0x5a0)](_0x3c892d(0x5c0)),_0x414b81;}function _0x229792(_0x4aec7e){const _0x2792a0=_0xd4b2e;try{return JSON['stringify'](_0x4aec7e);}catch(_0x4322d7){return _0x4aec7e instanceof Error?_0x4aec7e[_0x2792a0(0x94e)]():JSON[_0x2792a0(0x1a2)](_0x2792a0(0x305));}}class _0x3c159b{static [_0xd4b2e(0x147)];[_0xd4b2e(0x91a)]=_0x532f14[_0xd4b2e(0x908)];[_0xd4b2e(0x26c)]=_0x532f14[_0xd4b2e(0x436)];[_0xd4b2e(0x4c4)]=_0x18ce78[_0xd4b2e(0x348)];['openedTraces']={};static ['getInstance']=()=>(_0x3c159b[_0xd4b2e(0x147)]||(_0x3c159b[_0xd4b2e(0x147)]=new _0x3c159b()),_0x3c159b[_0xd4b2e(0x147)]);[_0xd4b2e(0x85c)](_0x3935d8,_0x2d7d91,_0x163511=!0x0){const _0x29b00b=_0xd4b2e;try{if(this[_0x29b00b(0x405)][_0x2d7d91])throw new Error('GenerativeAITracing\x20-\x20job\x20id\x20is\x20already\x20set');const _0x1ed1c0={'sequence':0x0};if(this[_0x29b00b(0x405)][_0x2d7d91]=_0x1ed1c0,!_0x3935d8)return!0x0;const _0x2605cf=function(_0x5720bb){const _0x2a38b4=_0x29b00b;return _0x5720bb['getTable'](_0x2a38b4(0x504));}(_0x3935d8);return _0x1ed1c0[_0x29b00b(0x2db)]=_0x3935d8,_0x1ed1c0['table']=_0x2605cf,!0x0;}catch(_0x235a3f){return console[_0x29b00b(0x940)](_0x29b00b(0x641)+_0x163511,_0x235a3f),!!_0x163511&&(this['closeTrace'](_0x2d7d91),this[_0x29b00b(0x85c)](_0x3935d8,_0x2d7d91,!0x1));}}['trace'](_0x1bfd1f){const _0x413a96=_0xd4b2e;try{const _0x126345=this[_0x413a96(0x405)][_0x1bfd1f[_0x413a96(0x960)]];if(!_0x126345)throw new Error('GenerativeAITracing\x20-\x20job\x20id\x20not\x20found');_0x1bfd1f[_0x413a96(0x5c0)]=_0x126345[_0x413a96(0x5c0)]++,_0x1bfd1f[_0x413a96(0x735)]>=this['logLevel']&&console['log'](JSON[_0x413a96(0x1a2)](_0x1bfd1f,null,0x2)),this[_0x413a96(0x920)](_0x1bfd1f);}catch(_0x3dcf40){console[_0x413a96(0x940)](_0x413a96(0x9df),_0x3dcf40);}}[_0xd4b2e(0x6e8)](_0x3c87d8){const _0x582395=_0xd4b2e;if(!_0x3c159b['instance'])throw new Error(_0x582395(0x20c));if(!this['openedTraces'][_0x3c87d8])throw new Error(_0x582395(0x678));delete this[_0x582395(0x405)][_0x3c87d8];}[_0xd4b2e(0x920)](_0x53cbae){const _0x213edf=_0xd4b2e;if(_0x53cbae[_0x213edf(0x735)]<this[_0x213edf(0x26c)]&&_0x53cbae['jobType']!==this['commitType'])return;if(!this[_0x213edf(0x405)][_0x53cbae['jobId']])throw new Error(_0x213edf(0x167));const _0x38eada=this[_0x213edf(0x405)][_0x53cbae[_0x213edf(0x960)]];if(!_0x38eada[_0x213edf(0x2db)])throw new Error(_0x213edf(0x186));if(!_0x38eada[_0x213edf(0x8ab)])throw new Error(_0x213edf(0x446));try{const _0x25681c=function(_0x52f4ba){const _0x275d85=_0x213edf,_0x4a0ac8=[_0x275d85(0x333),_0x275d85(0x9d7),_0x275d85(0x5e3),'type','jobId',_0x275d85(0x735),_0x275d85(0x58a),'status',_0x275d85(0x5c0),_0x275d85(0x130)],_0x50e83e={..._0x52f4ba};for(const _0x3df8af of _0x4a0ac8)delete _0x50e83e[_0x3df8af];return{'timestamp':_0x52f4ba[_0x275d85(0x9d7)],'jobType':_0x52f4ba['jobType'],'type':_0x52f4ba[_0x275d85(0x747)],'jobId':_0x52f4ba[_0x275d85(0x960)],'agentId':_0x52f4ba[_0x275d85(0x4d7)]??'','traceLevel':_0x52f4ba['traceLevel'],'blockId':_0x52f4ba['blockId']??'','startTime':_0x52f4ba[_0x275d85(0x333)],'status':_0x52f4ba[_0x275d85(0xa6f)],'sequence':_0x52f4ba['sequence']??0x0,'errorDetails':_0x52f4ba[_0x275d85(0x130)]??'','metadata':_0x229792(_0x50e83e)};}(_0x53cbae),_0x120a97=(0x0,_0x1cf016['v4'])();console['log'](_0x213edf(0x739),_0x25681c[_0x213edf(0x747)]),_0x38eada[_0x213edf(0x8ab)][_0x213edf(0x991)](_0x120a97,_0x25681c);}catch(_0x113cad){console[_0x213edf(0x940)](_0x213edf(0x629),_0x113cad);}}}const _0x1c4f84=_0x3c159b[_0xd4b2e(0x1f0)]();async function _0x24d9bc(_0x51e641,_0x417d86,_0x3a1be9,_0x1a8056,_0x689ce5){const _0x3ebc3c=_0xd4b2e,_0x3cd599=Date[_0x3ebc3c(0x702)](),_0x58feab=_0x689ce5[_0x3ebc3c(0x838)][_0x3ebc3c(0x91c)](_0x2dbb4b=>_0x2dbb4b['id']===_0x3a1be9[_0x3ebc3c(0x9f1)]);if(!_0x58feab)throw new Error(_0x3ebc3c(0x55d));const _0x98d547=_0x689ce5[_0x3ebc3c(0x88c)][_0x3ebc3c(0x91c)](_0x20129a=>_0x20129a[_0x3ebc3c(0x220)]()===_0x58feab[_0x3ebc3c(0x880)]);if(!_0x98d547)throw new Error(_0x3ebc3c(0x748));const _0x31b9ab=[],_0x47f85c=(0x0,_0x1cf016['v4'])(),_0x319dc0=await _0x98d547[_0x3ebc3c(0x300)]({'type':_0x3ebc3c(0x59b),'prompt':_0x417d86,'instructions':_0x3a1be9[_0x3ebc3c(0x336)],'grammar':_0x3a1be9[_0x3ebc3c(0x8a9)],'temperature':_0x3a1be9[_0x3ebc3c(0x489)],'maxTokens':_0x3a1be9[_0x3ebc3c(0x686)],'threadId':_0x47f85c},{'model':_0x58feab});if(_0x3ebc3c(0x8e6)!=typeof _0x319dc0['output'])throw new Error(_0x3ebc3c(0x391));if(_0x1c4f84['trace']({'jobType':_0x18ce78['Ingest'],'type':_0x5bb80c[_0x3ebc3c(0x3e3)],'jobId':_0x51e641,'blockId':_0x3a1be9['id'],'traceLevel':_0x532f14[_0x3ebc3c(0x37e)],'timestamp':Date['now'](),'startTime':_0x3cd599,'status':_0x3ebc3c(0x71a),'agentId':_0x47f85c,'content':_0x417d86,'instructions':_0x3a1be9[_0x3ebc3c(0x336)],'result':_0x319dc0[_0x3ebc3c(0x1ec)]}),_0x3a1be9['links']?.[_0x3ebc3c(0x403)](_0x1c0bfe=>_0x1c0bfe[_0x3ebc3c(0x747)]===_0x10df5e[_0x3ebc3c(0x217)]))return _0x31b9ab[_0x3ebc3c(0x55a)]({'content':_0x319dc0[_0x3ebc3c(0x1ec)],'start':0x0,'length':_0x319dc0[_0x3ebc3c(0x1ec)][_0x3ebc3c(0x9b4)]}),await _0x8d3d76(_0x51e641,_0x31b9ab,_0x3a1be9,_0x1a8056,_0x689ce5),void await _0x8d3d76(_0x51e641,_0x319dc0[_0x3ebc3c(0x1ec)],_0x3a1be9,_0x1a8056,_0x689ce5);_0x31b9ab['push']({'content':_0x319dc0[_0x3ebc3c(0x1ec)],'start':0x0,'length':_0x417d86[_0x3ebc3c(0x9b4)]}),await _0x8d3d76(_0x51e641,_0x31b9ab,_0x3a1be9,_0x1a8056,_0x689ce5);}async function _0xf8a0a0(_0x14ee0e,_0x2fadb7,_0x350c7b,_0x19afaf,_0x291a98){const _0x533282=_0xd4b2e,_0x2ca6d0=Date[_0x533282(0x702)]();let _0x1ea1d7=[];if(_0x2fadb7 instanceof Array){for(const _0x475fab of _0x2fadb7)_0x1ea1d7=_0x1ea1d7[_0x533282(0x193)](_0x2a896e(_0x475fab[_0x533282(0x580)],_0x350c7b,_0x475fab['start'],_0x475fab[_0x533282(0x9b4)]));}else _0x1ea1d7=_0x2a896e(_0x2fadb7,_0x350c7b);_0x1c4f84['trace']({'jobType':_0x18ce78['Ingest'],'type':_0x5bb80c['ChunkSplitter'],'traceLevel':_0x532f14['Debug'],'jobId':_0x14ee0e,'blockId':_0x350c7b['id'],'startTime':_0x2ca6d0,'timestamp':Date[_0x533282(0x702)](),'status':'success','totalChunks':_0x1ea1d7[_0x533282(0x9b4)],'chunkSize':_0x350c7b[_0x533282(0x7c3)]['size']}),await _0x8d3d76(_0x14ee0e,_0x1ea1d7,_0x350c7b,_0x19afaf,_0x291a98);}function _0x2a896e(_0x1698a9,_0x8224b0,_0x1ce667,_0x4e25c9){const _0x5184b0=_0xd4b2e,_0x33b43f=[];for(let _0x3e421c=0x0;_0x3e421c<_0x1698a9['length'];_0x3e421c+=_0x8224b0['attributes'][_0x5184b0(0x882)]){let _0x535f0f=_0x3e421c-_0x8224b0[_0x5184b0(0x7c3)]['overlap'];_0x535f0f<0x0&&(_0x535f0f=0x0);let _0x317db3=_0x3e421c+_0x8224b0[_0x5184b0(0x7c3)][_0x5184b0(0x882)]+_0x8224b0[_0x5184b0(0x7c3)][_0x5184b0(0x416)];_0x317db3>_0x1698a9['length']&&(_0x317db3=_0x1698a9['length']);const _0x24a507=_0x1698a9[_0x5184b0(0x199)](_0x535f0f,_0x317db3);_0x33b43f[_0x5184b0(0x55a)]({'content':_0x24a507,'start':_0x1ce667??_0x3e421c,'length':_0x4e25c9??(_0x3e421c+_0x8224b0[_0x5184b0(0x7c3)]['size']>_0x1698a9['length']?_0x1698a9[_0x5184b0(0x9b4)]-_0x3e421c:_0x8224b0[_0x5184b0(0x7c3)]['size'])});}return _0x33b43f;}async function _0x2003d4(_0x47307b,_0x1c4cd4,_0x35c5d0,_0x285031,_0x1472d){const _0x35fa59=_0xd4b2e,_0x575979=Date[_0x35fa59(0x702)]();let _0x1102fb;if(_0x1c4cd4['file'][_0x35fa59(0x747)][_0x35fa59(0x334)](_0x35fa59(0x60d))||_0x1d93d1(_0x1c4cd4[_0x35fa59(0x6c3)][_0x35fa59(0x4fc)],_0x395d12))_0x1102fb=await _0x1c4cd4[_0x35fa59(0x6c3)][_0x35fa59(0x7a9)]();else{if(!_0x1472d[_0x35fa59(0x4ad)][_0x35fa59(0x64b)](_0x1c4cd4[_0x35fa59(0x6c3)]))throw new Error(_0x35fa59(0x97e)+_0x1c4cd4[_0x35fa59(0x6c3)]['type']+'\x20-\x20'+_0x1c4cd4[_0x35fa59(0x6c3)][_0x35fa59(0x4fc)]);_0x1102fb=await _0x1472d['documentParserConnector']['parse'](_0x1c4cd4[_0x35fa59(0x6c3)]);}_0x1c4f84[_0x35fa59(0x19b)]({'jobType':_0x18ce78[_0x35fa59(0x774)],'type':_0x5bb80c[_0x35fa59(0x16d)],'traceLevel':_0x532f14[_0x35fa59(0x37e)],'blockId':_0x35c5d0['id'],'jobId':_0x47307b,'startTime':_0x575979,'timestamp':Date[_0x35fa59(0x702)](),'status':_0x35fa59(0x71a),'documentType':_0x1c4cd4['file'][_0x35fa59(0x747)],'documentName':_0x1c4cd4['file'][_0x35fa59(0x4fc)],'extractionMethod':_0x35fa59(0x710)}),await _0x8d3d76(_0x47307b,_0x1102fb,_0x35c5d0,_0x285031,_0x1472d);const _0x3188c6=[{'content':_0x1102fb,'start':0x0,'length':_0x1102fb[_0x35fa59(0x9b4)]}];await _0x8d3d76(_0x47307b,_0x3188c6,_0x35c5d0,_0x285031,_0x1472d);}const _0x395d12=[_0xd4b2e(0x6ee),_0xd4b2e(0x3d6),'.py','.json',_0xd4b2e(0x42c),_0xd4b2e(0x214),_0xd4b2e(0x25d),_0xd4b2e(0x499),_0xd4b2e(0x8cf),_0xd4b2e(0x55f),_0xd4b2e(0x30b),_0xd4b2e(0x6a6),'.bat',_0xd4b2e(0x3f8),_0xd4b2e(0x4ff),'.conf','.sql','.rb',_0xd4b2e(0x20b),_0xd4b2e(0x38e),'.c',_0xd4b2e(0x93d),_0xd4b2e(0x58b),'.r',_0xd4b2e(0x778),'.swift',_0xd4b2e(0x6e0),'.kt',_0xd4b2e(0x2b4),_0xd4b2e(0x3f4),_0xd4b2e(0x8a1),_0xd4b2e(0x7fd),_0xd4b2e(0x8f9),_0xd4b2e(0x4a6),'.groovy',_0xd4b2e(0x454),_0xd4b2e(0x75a),_0xd4b2e(0x5d3),'.vb',_0xd4b2e(0x17c),_0xd4b2e(0x165),'.m','.vbs',_0xd4b2e(0x7d6),_0xd4b2e(0x6b5),'.jl',_0xd4b2e(0x8dd),_0xd4b2e(0x24e),_0xd4b2e(0xa78),_0xd4b2e(0x594),'.erb',_0xd4b2e(0x15a),_0xd4b2e(0x99d),'.hbs',_0xd4b2e(0x810),_0xd4b2e(0x35a),'.pug',_0xd4b2e(0x76a),'.mustache',_0xd4b2e(0x216),_0xd4b2e(0x944),_0xd4b2e(0x3dd),_0xd4b2e(0x342)];function _0x1d93d1(_0x128b85,_0x35861b){const _0x35ad56=_0xd4b2e;return _0x35861b['includes']('.'+(_0x128b85[_0x35ad56(0x488)]('.')[_0x35ad56(0x12e)]()?.[_0x35ad56(0x835)]()||''));}async function _0x57df74(_0x34d5a3,_0x2e48c0,_0x461caf,_0x3eda7f,_0x4303f1){const _0x58945c=_0xd4b2e,_0x3ca153=Date[_0x58945c(0x702)](),_0x3bfa1f=new Set();let _0x28978b=0x0;for(const _0x419b7d of _0x2e48c0)_0x28978b+=_0x419b7d[_0x58945c(0x580)][_0x58945c(0x9b4)],await _0x12e63b(_0x419b7d[_0x58945c(0x580)],_0x3bfa1f,_0x461caf,_0x4303f1[_0x58945c(0x660)]);_0x1c4f84['trace']({'jobType':_0x18ce78[_0x58945c(0x774)],'type':_0x5bb80c['EntityExtractor'],'jobId':_0x34d5a3,'blockId':_0x461caf['id'],'traceLevel':_0x532f14['Debug'],'startTime':_0x3ca153,'timestamp':Date[_0x58945c(0x702)](),'status':'success','contentLength':_0x28978b,'totalChunks':_0x2e48c0 instanceof Array?_0x2e48c0[_0x58945c(0x9b4)]:0x1,'entitiesExtracted':_0x3bfa1f,'totalEntities':_0x3bfa1f[_0x58945c(0x882)]}),await _0x8d3d76(_0x34d5a3,_0x3bfa1f,_0x461caf,_0x3eda7f,_0x4303f1);}async function _0x12e63b(_0x1b5407,_0x13b7ba,_0x24402c,_0x34d965){const _0x146c85=_0xd4b2e,_0x2e5894=await _0x34d965[_0x146c85(0x5eb)](_0x1b5407,{'ner':_0x24402c['attributes'][_0x146c85(0x652)],'noun':_0x24402c['attributes'][_0x146c85(0x49a)],'propn':_0x24402c[_0x146c85(0x7c3)][_0x146c85(0x672)],'verb':_0x24402c['attributes'][_0x146c85(0x1dd)]});for(const _0x11b3fd of _0x2e5894)_0x13b7ba[_0x146c85(0x4bd)](_0x11b3fd);}function _0x4e7346(_0x5b1e92,_0x5ce162,_0x49c564,_0x385058,_0x375d84){const _0x20bce7=_0xd4b2e,_0x5be26c=Date[_0x20bce7(0x702)]();if(_0x49c564[_0x20bce7(0x572)]||(_0x49c564[_0x20bce7(0x572)]={}),_0x20bce7(0x8e6)==typeof _0x5ce162?_0x49c564['accumulated'][_0x20bce7(0x580)]=_0x5ce162:_0x5ce162 instanceof Set?_0x49c564['accumulated'][_0x20bce7(0x266)]=_0x5ce162:_0x5ce162 instanceof Map?_0x49c564[_0x20bce7(0x572)]['relations']=_0x5ce162:_0x5ce162 instanceof Array?_0x49c564[_0x20bce7(0x572)][_0x20bce7(0x5a0)]=_0x5ce162:_0x49c564[_0x20bce7(0x572)][_0x20bce7(0x6c3)]=_0x5ce162,_0x49c564[_0x20bce7(0x3af)]=_0x49c564[_0x20bce7(0x3af)]?_0x49c564[_0x20bce7(0x3af)]+0x1:0x1,_0x2b7541(_0x49c564,_0x385058)>_0x49c564['timesCalled'])return;if(!(_0x49c564['accumulated'][_0x20bce7(0x266)]&&_0x49c564[_0x20bce7(0x572)]['file']&&_0x49c564[_0x20bce7(0x572)][_0x20bce7(0x580)]&&_0x49c564[_0x20bce7(0x572)][_0x20bce7(0x5a0)]))throw new Error(_0x20bce7(0x17e));let _0x390cf6=0x0;const _0x7e9e1=_0x375d84[_0x20bce7(0x48b)][_0x20bce7(0x138)](_0x49c564['id']);for(const _0x5d59ea of _0x49c564[_0x20bce7(0x572)][_0x20bce7(0x266)]){let _0x323ffd=[];_0x323ffd=_0x49c564[_0x20bce7(0x572)][_0x20bce7(0x5a0)][_0x20bce7(0x893)](_0x1f2c3b=>_0x1f2c3b[_0x20bce7(0x580)][_0x20bce7(0x29c)](_0x5d59ea));try{_0x7e9e1[_0x20bce7(0x261)](_0x49c564[_0x20bce7(0x572)][_0x20bce7(0x6c3)][_0x20bce7(0x871)],_0x49c564['accumulated'][_0x20bce7(0x580)],_0x323ffd,_0x5d59ea),_0x390cf6+=0x1;}catch(_0xbe2745){}}if(_0x49c564[_0x20bce7(0x572)][_0x20bce7(0x961)]){for(const [_0x3e40ca,_0x58b338]of _0x49c564[_0x20bce7(0x572)][_0x20bce7(0x961)])for(const _0x860306 of _0x58b338)try{_0x7e9e1[_0x20bce7(0x42b)](_0x3e40ca,_0x860306);}catch(_0x1438aa){}if(_0x7e9e1['getIsLoaded']()){let _0xee0c2a=''+(_0x375d84[_0x20bce7(0x8a6)]??0x1);for(const _0xfab280 of _0x385058)if(_0xfab280[_0x20bce7(0x747)]===_0xc0f671['Agent']){_0xee0c2a=_0xee0c2a+'-'+(_0xfab280[_0x20bce7(0x8a6)]??0x1);break;}_0x7e9e1[_0x20bce7(0x582)](_0xee0c2a);}_0x1c4f84[_0x20bce7(0x19b)]({'jobType':_0x18ce78[_0x20bce7(0x774)],'type':_0x5bb80c[_0x20bce7(0x65e)],'jobId':_0x5b1e92,'blockId':_0x49c564['id'],'status':_0x20bce7(0x71a),'startTime':_0x5be26c,'timestamp':Date['now'](),'traceLevel':_0x532f14[_0x20bce7(0x37e)],'nodesAdded':_0x390cf6,'entities':_0x49c564[_0x20bce7(0x572)]['entities'],'relations':_0x49c564['accumulated'][_0x20bce7(0x961)]});}}async function _0xf5b53f(_0x52837d,_0x1c4806,_0x1d8ba5,_0x1884c9,_0x1914dd){const _0x4c2f1f=_0xd4b2e,_0x484144=_0x1914dd[_0x4c2f1f(0x838)]['find'](_0x4a1d6c=>_0x4a1d6c['id']===_0x1d8ba5['id']);if(!_0x484144)throw new Error('Model\x20not\x20found');switch(_0x484144[_0x4c2f1f(0x7cd)]){case _0x29f76b[_0x4c2f1f(0x6b1)]['Text']:if(_0x4c2f1f(0x8e6)!=typeof _0x1c4806)throw new Error(_0x4c2f1f(0x41c));await async function(_0x34a104,_0x5d8b30,_0x166f59,_0x415dee,_0x27c265,_0x4500bc){const _0x1011eb=_0x4c2f1f,_0x54cb64=Date[_0x1011eb(0x702)]();let _0x57918f;const _0xf4d640=_0x4500bc[_0x1011eb(0x88c)][_0x1011eb(0x91c)](_0x3e54d2=>_0x3e54d2['getEngineType']()===_0x166f59[_0x1011eb(0x880)]);if(!_0xf4d640)throw new Error(_0x1011eb(0x748));_0x57918f=await async function(_0x3cd992,_0x22bc3b,_0x204921){const _0x1ce731=_0x1011eb,_0x36da42=await _0x22bc3b[_0x1ce731(0x300)]({'type':'prompt','prompt':_0x3cd992,'threadId':''},{'model':_0x204921});if(_0x36da42[_0x1ce731(0x1ec)]instanceof Array)throw new Error(_0x1ce731(0x287));return _0x36da42[_0x1ce731(0x1ec)];}(_0x5d8b30,_0xf4d640,_0x166f59),_0x1c4f84['trace']({'jobType':_0x18ce78[_0x1011eb(0x774)],'type':_0x5bb80c[_0x1011eb(0x88a)],'jobId':_0x34a104,'blockId':_0x415dee['id'],'traceLevel':_0x532f14[_0x1011eb(0x37e)],'timestamp':Date[_0x1011eb(0x702)](),'startTime':_0x54cb64,'status':'success','modelName':_0x166f59['id'],'inputType':_0x166f59[_0x1011eb(0x4e5)],'outputType':_0x166f59['outputType'],'content':_0x5d8b30,'results':_0x57918f}),await _0x8d3d76(_0x34a104,_0x57918f,_0x415dee,_0x27c265,_0x4500bc);}(_0x52837d,_0x1c4806,_0x484144,_0x1d8ba5,_0x1884c9,_0x1914dd);break;case _0x29f76b['GenerativeAIModelOutputType']['Vector']:if(!(_0x1c4806 instanceof Array))throw new Error(_0x4c2f1f(0x1a3));await async function(_0x31aae3,_0x4260cf,_0x213b94,_0x11e1de,_0x57a53a,_0x5708b0){const _0x54f779=_0x4c2f1f,_0x42200b=Date[_0x54f779(0x702)](),_0x1a0a1c=[],_0x38217f=_0x5708b0[_0x54f779(0x88c)][_0x54f779(0x91c)](_0x296df0=>_0x296df0[_0x54f779(0x220)]()===_0x213b94[_0x54f779(0x880)]);if(!_0x38217f)throw new Error(_0x54f779(0x748));for(const _0xa8a776 of _0x4260cf)_0x1a0a1c['push'](await _0x3433af(_0xa8a776,_0x38217f,_0x213b94));_0x1c4f84[_0x54f779(0x19b)]({'jobType':_0x18ce78[_0x54f779(0x774)],'type':_0x5bb80c[_0x54f779(0x724)],'jobId':_0x31aae3,'blockId':_0x11e1de['id'],'traceLevel':_0x532f14[_0x54f779(0x37e)],'timestamp':Date['now'](),'startTime':_0x42200b,'status':_0x54f779(0x71a),'modelName':_0x213b94['id'],'inputType':_0x213b94[_0x54f779(0x4e5)],'outputType':_0x213b94[_0x54f779(0x7cd)],'totalVectors':_0x1a0a1c[_0x54f779(0x9b4)]}),await _0x8d3d76(_0x31aae3,_0x1a0a1c,_0x11e1de,_0x57a53a,_0x5708b0);}(_0x52837d,_0x1c4806,_0x484144,_0x1d8ba5,_0x1884c9,_0x1914dd);}}async function _0x3433af(_0x312b3d,_0xf44edc,_0x2d549d){const _0x2bcbc3=_0xd4b2e;return(await _0xf44edc['processJob']({'type':_0x2bcbc3(0x59b),'prompt':_0x312b3d[_0x2bcbc3(0x580)],'threadId':''},{'model':_0x2d549d}))['output'];}async function _0x22a46d(_0x79f1a2,_0x59a5c1,_0x2ac23d,_0x5803aa,_0x454724){const _0x1ba367=_0xd4b2e,_0x286117=Date[_0x1ba367(0x702)]();if(_0x2ac23d[_0x1ba367(0x572)]||(_0x2ac23d[_0x1ba367(0x572)]={}),_0x59a5c1 instanceof Array?_0x2ac23d[_0x1ba367(0x572)][_0x1ba367(0x5a0)]=_0x59a5c1:_0x2ac23d[_0x1ba367(0x572)][_0x1ba367(0x266)]=_0x59a5c1,_0x2ac23d[_0x1ba367(0x3af)]=_0x2ac23d[_0x1ba367(0x3af)]?_0x2ac23d[_0x1ba367(0x3af)]+0x1:0x1,_0x2b7541(_0x2ac23d,_0x5803aa)>_0x2ac23d[_0x1ba367(0x3af)])return;if(!_0x2ac23d['accumulated'][_0x1ba367(0x5a0)]||!_0x2ac23d[_0x1ba367(0x572)][_0x1ba367(0x266)])throw new Error(_0x1ba367(0x432));const _0x21132f=new Map();for(const _0x201e72 of _0x2ac23d['accumulated']['index'])_0x4a2b64(_0x201e72[_0x1ba367(0x580)],_0x2ac23d[_0x1ba367(0x572)]['entities'],_0x21132f);_0x1c4f84[_0x1ba367(0x19b)]({'jobType':_0x18ce78['Ingest'],'type':_0x5bb80c['RelationExtractor'],'jobId':_0x79f1a2,'blockId':_0x2ac23d['id'],'traceLevel':_0x532f14[_0x1ba367(0x37e)],'timestamp':Date[_0x1ba367(0x702)](),'startTime':_0x286117,'status':_0x1ba367(0x71a),'entities':_0x2ac23d[_0x1ba367(0x572)][_0x1ba367(0x266)],'relations':_0x21132f,'totalRelationsExtracted':_0x21132f[_0x1ba367(0x882)]}),await _0x8d3d76(_0x79f1a2,_0x21132f,_0x2ac23d,_0x5803aa,_0x454724);}function _0x4a2b64(_0x1e7405,_0x4f97e8,_0x5f4da6){const _0x3bb864=_0xd4b2e;for(const _0x576434 of _0x4f97e8)for(const _0x7c4077 of _0x4f97e8){if(_0x576434===_0x7c4077)continue;const _0x3fafc2=_0x1e7405[_0x3bb864(0x458)](_0x576434),_0x5ea992=_0x1e7405[_0x3bb864(0x458)](_0x7c4077);-0x1!==_0x3fafc2&&-0x1!==_0x5ea992&&(_0x5f4da6[_0x3bb864(0x8e9)](_0x576434)||_0x5f4da6[_0x3bb864(0x991)](_0x576434,new Set()),_0x5f4da6[_0x3bb864(0x6e6)](_0x576434)['add'](_0x7c4077));}return _0x5f4da6;}async function _0x2c4c85(_0x355bcb,_0x20acb8,_0x3782ec,_0x2a146d,_0x1f9172){const _0x885626=_0xd4b2e,_0x138ef7=Date['now']();let _0x5a5958=[];if(_0x20acb8 instanceof Array)for(const _0x3f0ea8 of _0x20acb8){const _0x3b9f2f=await _0x1f9172[_0x885626(0x660)][_0x885626(0x1c7)](_0x3f0ea8['content']);_0x5a5958=_0x5a5958[_0x885626(0x193)](_0x3b9f2f['map'](_0x553e92=>({'content':_0x553e92,'start':_0x3f0ea8[_0x885626(0x9b3)],'length':_0x3f0ea8[_0x885626(0x9b4)]})));}else _0x5a5958=(await _0x1f9172[_0x885626(0x660)][_0x885626(0x1c7)](_0x20acb8))[_0x885626(0x7da)](_0x87025e=>({'content':_0x87025e,'start':_0x20acb8[_0x885626(0x458)](_0x87025e),'length':_0x87025e[_0x885626(0x9b4)]}));_0x1c4f84[_0x885626(0x19b)]({'jobType':_0x18ce78[_0x885626(0x774)],'type':_0x5bb80c['SentenceSplitter'],'jobId':_0x355bcb,'blockId':_0x3782ec['id'],'traceLevel':_0x532f14[_0x885626(0x37e)],'startTime':_0x138ef7,'timestamp':Date['now'](),'status':'success','totalSentences':_0x5a5958[_0x885626(0x9b4)],'averageSentenceLength':_0x5a5958[_0x885626(0x7aa)]((_0x151500,_0x4a08d2)=>_0x151500+_0x4a08d2[_0x885626(0x9b4)],0x0)/_0x5a5958['length']}),await _0x8d3d76(_0x355bcb,_0x5a5958,_0x3782ec,_0x2a146d,_0x1f9172);}function _0x1be5d8(_0x5e8fe9,_0x4d02ff,_0x590fab,_0x48c12f,_0x2b9b87){const _0x403a42=_0xd4b2e,_0x59a48b=Date[_0x403a42(0x702)]();var _0x22a447;if(_0x590fab['accumulated']||(_0x590fab['accumulated']={}),_0x4d02ff instanceof Array?(_0x22a447=_0x4d02ff)[0x0]instanceof Array&&_0x403a42(0x1f7)==typeof _0x22a447[0x0]?.[0x0]?_0x590fab['accumulated']['vectors']=_0x4d02ff:_0x590fab[_0x403a42(0x572)][_0x403a42(0x5a0)]=_0x4d02ff:_0x403a42(0x8e6)==typeof _0x4d02ff?_0x590fab['accumulated'][_0x403a42(0x580)]=_0x4d02ff:_0x590fab[_0x403a42(0x572)][_0x403a42(0x6c3)]=_0x4d02ff,_0x590fab[_0x403a42(0x3af)]=_0x590fab[_0x403a42(0x3af)]?_0x590fab[_0x403a42(0x3af)]+0x1:0x1,_0x2b7541(_0x590fab,_0x48c12f)>_0x590fab[_0x403a42(0x3af)])return;if(!(_0x590fab[_0x403a42(0x572)][_0x403a42(0x580)]&&_0x590fab[_0x403a42(0x572)][_0x403a42(0x5a0)]&&_0x590fab[_0x403a42(0x572)][_0x403a42(0xa27)]&&_0x590fab[_0x403a42(0x572)][_0x403a42(0x6c3)]))throw new Error('Vector\x20database\x20block\x20is\x20missing\x20required\x20data');const _0x236b58=_0x2b9b87[_0x403a42(0x48b)][_0x403a42(0xa0b)](_0x590fab['id']);if(_0x236b58[_0x403a42(0x21c)](_0x590fab[_0x403a42(0x572)][_0x403a42(0x6c3)][_0x403a42(0x871)],_0x590fab['accumulated'][_0x403a42(0x580)],_0x590fab[_0x403a42(0x572)][_0x403a42(0x5a0)],_0x590fab['accumulated'][_0x403a42(0xa27)]),_0x236b58[_0x403a42(0x9f4)]()){let _0x5dd660=''+(_0x2b9b87[_0x403a42(0x8a6)]??0x1);for(const _0x3efa62 of _0x48c12f)_0x3efa62['type']===_0xc0f671[_0x403a42(0x3e3)]&&(_0x5dd660=_0x5dd660+'-'+(_0x3efa62[_0x403a42(0x8a6)]??0x1));_0x236b58['saveToDisk'](_0x5dd660);}_0x1c4f84['trace']({'jobType':_0x18ce78[_0x403a42(0x774)],'type':_0x5bb80c[_0x403a42(0xa80)],'jobId':_0x5e8fe9,'blockId':_0x590fab['id'],'traceLevel':_0x532f14['Debug'],'startTime':_0x59a48b,'timestamp':Date[_0x403a42(0x702)](),'status':_0x403a42(0x71a),'databaseName':_0x236b58['getName'](),'vectorsAdded':_0x590fab[_0x403a42(0x572)][_0x403a42(0xa27)][_0x403a42(0x9b4)],'filePathName':_0x590fab['accumulated'][_0x403a42(0x6c3)]['pathName']});}async function _0x482679(_0x396d79,_0x21e413,_0x3a636d,_0x568d4e,_0x3993a4){const _0x322b74=_0xd4b2e,_0x5b9122=Date[_0x322b74(0x702)]();let _0x36f58d=[];if(_0x21e413 instanceof Array){for(const _0x19c1ed of _0x21e413)_0x36f58d=_0x36f58d[_0x322b74(0x193)](_0x5b4c01(_0x19c1ed[_0x322b74(0x580)],_0x3a636d,_0x19c1ed['start'],_0x19c1ed[_0x322b74(0x9b4)]));}else _0x36f58d=_0x5b4c01(_0x21e413,_0x3a636d);_0x1c4f84[_0x322b74(0x19b)]({'jobType':_0x18ce78[_0x322b74(0x774)],'type':_0x5bb80c[_0x322b74(0x1ce)],'jobId':_0x396d79,'traceLevel':_0x532f14[_0x322b74(0x37e)],'blockId':_0x3a636d['id'],'startTime':_0x5b9122,'timestamp':Date[_0x322b74(0x702)](),'status':_0x322b74(0x71a),'totalChunks':_0x36f58d[_0x322b74(0x9b4)],'averageChunkLength':_0x36f58d['reduce']((_0x245968,_0x28f630)=>_0x245968+_0x28f630[_0x322b74(0x9b4)],0x0)/_0x36f58d[_0x322b74(0x9b4)]}),await _0x8d3d76(_0x396d79,_0x36f58d,_0x3a636d,_0x568d4e,_0x3993a4);}function _0x5b4c01(_0x5e101c,_0x3e004b,_0x348a54,_0xaac3a7){const _0x1a92c7=_0xd4b2e,_0x56c933=[],_0x135ce9=_0x5e101c[_0x1a92c7(0x488)]('\x20');let _0x45fd5d='',_0x2e881f=-0x1,_0x45c1f8=0x0,_0x156021=0x0;for(const _0xf3d7c8 of _0x135ce9){if(_0x45fd5d[_0x1a92c7(0x9b4)]+_0xf3d7c8[_0x1a92c7(0x9b4)]>_0x3e004b[_0x1a92c7(0x7c3)]['size']){const _0x38772e=_0x45fd5d[_0x1a92c7(0x9b4)];let _0x42c95a=_0x2e881f,_0x5a40bd='';for(;_0x42c95a>=0x0&&_0x5a40bd['length']+_0x135ce9[_0x42c95a][_0x1a92c7(0x9b4)]<_0x3e004b[_0x1a92c7(0x7c3)]['overlap'];)_0x5a40bd=_0x135ce9[_0x42c95a]+'\x20'+_0x5a40bd,_0x42c95a--;let _0x453dfa=_0x45c1f8,_0x5c82d5='';for(;_0x453dfa<_0x135ce9[_0x1a92c7(0x9b4)]&&_0x5c82d5[_0x1a92c7(0x9b4)]+_0x135ce9[_0x453dfa]['length']<_0x3e004b['attributes']['overlap'];)_0x5c82d5+=_0x135ce9[_0x453dfa]+'\x20',_0x453dfa++;_0x45fd5d=_0x5a40bd+_0x45fd5d+_0x5c82d5,_0x56c933[_0x1a92c7(0x55a)]({'content':_0x45fd5d['trim'](),'start':_0x348a54??_0x156021,'length':_0xaac3a7??_0x38772e}),_0x45fd5d='',_0x2e881f=_0x45c1f8-0x1,_0x156021+=_0x38772e;}_0x45fd5d+=_0xf3d7c8+'\x20',_0x45c1f8++;}if(_0x45fd5d['length']>0x0){const _0x4a0c5a=_0x45fd5d['length'];let _0x448409=_0x2e881f,_0x496f94='';for(;_0x448409>=0x0&&_0x496f94[_0x1a92c7(0x9b4)]+_0x135ce9[_0x448409][_0x1a92c7(0x9b4)]<_0x3e004b[_0x1a92c7(0x7c3)]['overlap'];)_0x496f94=_0x135ce9[_0x448409]+'\x20'+_0x496f94,_0x448409--;_0x45fd5d=_0x496f94+_0x45fd5d,_0x56c933[_0x1a92c7(0x55a)]({'content':_0x45fd5d[_0x1a92c7(0x407)](),'start':_0x348a54??_0x156021,'length':_0xaac3a7??_0x4a0c5a});}return _0x56c933;}async function _0x8d3d76(_0x2ddd1f,_0x4f0835,_0x119631,_0xfef3f9,_0x2f84ec){const _0x500df4=_0xd4b2e;for(const _0x46efdb of _0x119631['links']||[]){const _0x4a66f4=_0xfef3f9[_0x500df4(0x91c)](_0x374081=>_0x374081['uid']===_0x46efdb['uid']);if(_0x4a66f4)switch(_0x4a66f4[_0x500df4(0x747)]){case _0xc0f671['Agent']:_0x46efdb['type']===_0x10df5e[_0x500df4(0x217)]&&'string'==typeof _0x4f0835&&await _0x24d9bc(_0x2ddd1f,_0x4f0835,_0x4a66f4,_0xfef3f9,_0x2f84ec);break;case _0xc0f671[_0x500df4(0x3c4)]:_0x46efdb['type']===_0x10df5e[_0x500df4(0x217)]&&_0x500df4(0x8e6)==typeof _0x4f0835&&await _0xf8a0a0(_0x2ddd1f,_0x4f0835,_0x4a66f4,_0xfef3f9,_0x2f84ec),_0x46efdb[_0x500df4(0x747)]===_0x10df5e['Index']&&_0x4f0835 instanceof Array&&await _0xf8a0a0(_0x2ddd1f,_0x4f0835,_0x4a66f4,_0xfef3f9,_0x2f84ec);break;case _0xc0f671[_0x500df4(0x16d)]:_0x46efdb[_0x500df4(0x747)]===_0x10df5e[_0x500df4(0x927)]&&await _0x2003d4(_0x2ddd1f,_0x4f0835,_0x4a66f4,_0xfef3f9,_0x2f84ec);break;case _0xc0f671[_0x500df4(0x1ea)]:_0x46efdb[_0x500df4(0x747)]===_0x10df5e[_0x500df4(0x804)]&&_0x4f0835 instanceof Array&&await _0x57df74(_0x2ddd1f,_0x4f0835,_0x4a66f4,_0xfef3f9,_0x2f84ec);break;case _0xc0f671[_0x500df4(0x65e)]:_0x46efdb[_0x500df4(0x747)]===_0x10df5e['Text']&&_0x500df4(0x8e6)==typeof _0x4f0835&&_0x4e7346(_0x2ddd1f,_0x4f0835,_0x4a66f4,_0xfef3f9,_0x2f84ec),_0x46efdb['type']===_0x10df5e['Index']&&_0x4f0835 instanceof Array&&_0x4e7346(_0x2ddd1f,_0x4f0835,_0x4a66f4,_0xfef3f9,_0x2f84ec),_0x46efdb[_0x500df4(0x747)]===_0x10df5e[_0x500df4(0x411)]&&_0x4f0835 instanceof Set&&_0x4e7346(_0x2ddd1f,_0x4f0835,_0x4a66f4,_0xfef3f9,_0x2f84ec),_0x46efdb[_0x500df4(0x747)]===_0x10df5e['Relation']&&_0x4f0835 instanceof Map&&_0x4e7346(_0x2ddd1f,_0x4f0835,_0x4a66f4,_0xfef3f9,_0x2f84ec),_0x46efdb[_0x500df4(0x747)]===_0x10df5e['File']&&_0x4e7346(_0x2ddd1f,_0x4f0835,_0x4a66f4,_0xfef3f9,_0x2f84ec);break;case _0xc0f671[_0x500df4(0x9a9)]:_0x46efdb[_0x500df4(0x747)]===_0x10df5e[_0x500df4(0x217)]&&_0x500df4(0x8e6)==typeof _0x4f0835&&await _0xf5b53f(_0x2ddd1f,_0x4f0835,_0x4a66f4,_0xfef3f9,_0x2f84ec),_0x46efdb[_0x500df4(0x747)]===_0x10df5e[_0x500df4(0x804)]&&_0x4f0835 instanceof Array&&await _0xf5b53f(_0x2ddd1f,_0x4f0835,_0x4a66f4,_0xfef3f9,_0x2f84ec);break;case _0xc0f671['RelationExtractor']:_0x46efdb[_0x500df4(0x747)]===_0x10df5e[_0x500df4(0x804)]&&_0x4f0835 instanceof Array&&await _0x22a46d(_0x2ddd1f,_0x4f0835,_0x4a66f4,_0xfef3f9,_0x2f84ec),_0x46efdb[_0x500df4(0x747)]===_0x10df5e[_0x500df4(0x411)]&&_0x4f0835 instanceof Set&&await _0x22a46d(_0x2ddd1f,_0x4f0835,_0x4a66f4,_0xfef3f9,_0x2f84ec);break;case _0xc0f671[_0x500df4(0x8b7)]:_0x46efdb[_0x500df4(0x747)]===_0x10df5e[_0x500df4(0x217)]&&_0x500df4(0x8e6)==typeof _0x4f0835&&await _0x2c4c85(_0x2ddd1f,_0x4f0835,_0x4a66f4,_0xfef3f9,_0x2f84ec),_0x46efdb[_0x500df4(0x747)]===_0x10df5e[_0x500df4(0x804)]&&_0x4f0835 instanceof Array&&await _0x2c4c85(_0x2ddd1f,_0x4f0835,_0x4a66f4,_0xfef3f9,_0x2f84ec);break;case _0xc0f671[_0x500df4(0xa80)]:_0x46efdb['type']===_0x10df5e[_0x500df4(0x217)]&&_0x500df4(0x8e6)==typeof _0x4f0835&&_0x1be5d8(_0x2ddd1f,_0x4f0835,_0x4a66f4,_0xfef3f9,_0x2f84ec),_0x46efdb['type']===_0x10df5e[_0x500df4(0x804)]&&_0x4f0835 instanceof Array&&_0x1be5d8(_0x2ddd1f,_0x4f0835,_0x4a66f4,_0xfef3f9,_0x2f84ec),_0x46efdb[_0x500df4(0x747)]===_0x10df5e[_0x500df4(0x439)]&&_0x4f0835 instanceof Array&&_0x1be5d8(_0x2ddd1f,_0x4f0835,_0x4a66f4,_0xfef3f9,_0x2f84ec),_0x46efdb[_0x500df4(0x747)]===_0x10df5e[_0x500df4(0x927)]&&_0x1be5d8(_0x2ddd1f,_0x4f0835,_0x4a66f4,_0xfef3f9,_0x2f84ec);break;case _0xc0f671['WordSplitter']:_0x46efdb[_0x500df4(0x747)]===_0x10df5e[_0x500df4(0x217)]&&_0x500df4(0x8e6)==typeof _0x4f0835&&await _0x482679(_0x2ddd1f,_0x4f0835,_0x4a66f4,_0xfef3f9,_0x2f84ec),_0x46efdb[_0x500df4(0x747)]===_0x10df5e[_0x500df4(0x804)]&&_0x4f0835 instanceof Array&&await _0x482679(_0x2ddd1f,_0x4f0835,_0x4a66f4,_0xfef3f9,_0x2f84ec);}}}function _0x2b7541(_0x2f4776,_0x5c3661){const _0xc91597=_0xd4b2e;return _0x5c3661[_0xc91597(0x893)](_0x4d3e40=>_0x4d3e40['links']?.['some'](_0x1cc91d=>_0x1cc91d[_0xc91597(0x969)]===_0x2f4776[_0xc91597(0x969)]))[_0xc91597(0x9b4)];}async function _0x51bf90(_0x5764c0,_0x5a48e4,_0x59db21,_0x110781,_0x3db6c7){const _0x21d7dc=_0xd4b2e;try{let _0x81c20d;switch(_0x59db21['type']){case _0xc0f671[_0x21d7dc(0x9a0)]:const _0x2893ed=_0x3db6c7['contentMediator']['getObjectStoreBucket'](_0x59db21['id']);_0x81c20d=await _0x2893ed[_0x21d7dc(0x6e6)](_0x5a48e4);break;case _0xc0f671[_0x21d7dc(0x31a)]:const _0x3293ab=_0x3db6c7[_0x21d7dc(0x48b)]['getExternalStorageConnection'](_0x59db21['id']);_0x81c20d=await _0x3293ab[_0x21d7dc(0x6e6)](_0x5a48e4);}if(!_0x81c20d)throw new Error(_0x21d7dc(0x6a9));await _0x8d3d76(_0x5764c0,{'file':_0x81c20d,'pathName':_0x5a48e4},_0x59db21,structuredClone(_0x110781),_0x3db6c7);}catch(_0x4f5158){console[_0x21d7dc(0x940)](_0x21d7dc(0x2e9),_0x4f5158);}}async function _0x2cf7fb(_0x559911,_0x478460,_0x9fcf5c,_0x571ebb,_0x542012,_0x3da38a,_0x273b1f){const _0x58f4e0=_0xd4b2e,_0x31afc0=Date[_0x58f4e0(0x702)](),_0x35f6dc=new Set();if(_0x9fcf5c instanceof Array){for(const _0x4be0ed of _0x9fcf5c)await _0x5a86ed(_0x4be0ed[_0x58f4e0(0x580)],_0x542012,_0x35f6dc,_0x273b1f['nlpLibraryConnector']);}else await _0x5a86ed(_0x9fcf5c,_0x542012,_0x35f6dc,_0x273b1f['nlpLibraryConnector']);_0x1c4f84[_0x58f4e0(0x19b)]({'jobType':_0x18ce78[_0x58f4e0(0x348)],'type':_0xcce17b[_0x58f4e0(0x1ea)],'jobId':_0x559911,'threadId':_0x478460,'blockId':_0x542012['id'],'traceLevel':_0x532f14[_0x58f4e0(0x37e)],'startTime':_0x31afc0,'timestamp':Date['now'](),'status':_0x58f4e0(0x71a),'content':_0x9fcf5c,'entitiesExtracted':Array[_0x58f4e0(0x35c)](_0x35f6dc),'totalEntities':_0x35f6dc[_0x58f4e0(0x882)]}),await _0x3ff513(_0x559911,_0x478460,_0x35f6dc,_0x571ebb,_0x542012,_0x3da38a,_0x273b1f);}async function _0x5a86ed(_0x26cf80,_0xfd32a3,_0x1cfb6e,_0x1320e8){const _0x26ed4a=_0xd4b2e,_0x225ac0=await _0x1320e8[_0x26ed4a(0x5eb)](_0x26cf80,{'ner':_0xfd32a3[_0x26ed4a(0x7c3)][_0x26ed4a(0x652)],'noun':_0xfd32a3[_0x26ed4a(0x7c3)][_0x26ed4a(0x49a)],'propn':_0xfd32a3[_0x26ed4a(0x7c3)][_0x26ed4a(0x672)],'verb':_0xfd32a3[_0x26ed4a(0x7c3)][_0x26ed4a(0x1dd)]});for(const _0x443d2e of _0x225ac0)_0x1cfb6e[_0x26ed4a(0x4bd)](_0x443d2e);}async function _0x4a70da(_0xdb9c74,_0x2e8f4e,_0x191310,_0x2cf9d3,_0x206b16,_0x3229e7,_0x566c86){const _0x274d2a=_0xd4b2e,_0x44e85d=Date['now']();if(_0x206b16[_0x274d2a(0x572)]||(_0x206b16['accumulated']={}),_0x191310 instanceof Array?(_0x206b16[_0x274d2a(0x572)]['results']||(_0x206b16[_0x274d2a(0x572)][_0x274d2a(0x66d)]=[]),_0x206b16[_0x274d2a(0x572)][_0x274d2a(0x66d)][_0x274d2a(0x55a)](..._0x191310)):_0x191310 instanceof Set?_0x206b16['accumulated'][_0x274d2a(0x266)]=_0x191310:_0x206b16[_0x274d2a(0x572)][_0x274d2a(0x59b)]=_0x191310,_0x206b16[_0x274d2a(0x3af)]=_0x206b16['timesCalled']?_0x206b16[_0x274d2a(0x3af)]+0x1:0x1,_0xf0b263(_0x206b16,_0x3229e7)>_0x206b16[_0x274d2a(0x3af)])return;if(!_0x206b16[_0x274d2a(0x572)][_0x274d2a(0x59b)]&&!_0x206b16['accumulated'][_0x274d2a(0x66d)]||!_0x206b16['accumulated'][_0x274d2a(0x266)])throw new Error(_0x274d2a(0x17e));const _0x2c1459=_0x566c86[_0x274d2a(0x48b)][_0x274d2a(0x138)](_0x206b16['id'])[_0x274d2a(0x3cf)](Array[_0x274d2a(0x35c)](_0x206b16['accumulated'][_0x274d2a(0x266)]),_0x206b16['attributes'][_0x274d2a(0x500)],_0x206b16['attributes'][_0x274d2a(0x6c8)]);let _0x21b0b7=[];for(const _0x1a3c3d in _0x2c1459){const _0x3bb259=_0x2c1459[_0x1a3c3d];for(const _0x20fd06 of _0x3bb259){let _0x3839c0=0x0;if(_0x206b16[_0x274d2a(0x572)]['prompt']&&(_0x3839c0=await _0x566c86[_0x274d2a(0x660)][_0x274d2a(0x668)](_0x206b16[_0x274d2a(0x572)][_0x274d2a(0x59b)],_0x20fd06)),_0x206b16[_0x274d2a(0x572)][_0x274d2a(0x66d)]){for(const _0x411ff7 of _0x206b16['accumulated']['results'])_0x3839c0=Math[_0x274d2a(0x4ce)](_0x3839c0,await _0x566c86[_0x274d2a(0x660)][_0x274d2a(0x668)](_0x411ff7['content'],_0x20fd06));}_0x3839c0<_0x206b16['attributes'][_0x274d2a(0x754)]||_0x21b0b7[_0x274d2a(0x55a)]({'content':_0x20fd06,'relevance':_0x3839c0,'pathName':_0x1a3c3d});}}_0x21b0b7=_0x21b0b7[_0x274d2a(0x63d)]((_0x3733d3,_0x296aa8)=>_0x296aa8['relevance']-_0x3733d3[_0x274d2a(0x96b)])[_0x274d2a(0xa43)](0x0,_0x206b16['attributes']['topK']),_0x1c4f84['trace']({'jobType':_0x18ce78[_0x274d2a(0x348)],'type':_0xcce17b['GraphSearch'],'jobId':_0xdb9c74,'threadId':_0x2e8f4e,'blockId':_0x206b16['id'],'traceLevel':_0x532f14[_0x274d2a(0x37e)],'timestamp':Date[_0x274d2a(0x702)](),'startTime':_0x44e85d,'status':_0x274d2a(0x71a),'content':_0x191310,'topResults':_0x21b0b7,'numResults':_0x21b0b7[_0x274d2a(0x9b4)]}),await _0x3ff513(_0xdb9c74,_0x2e8f4e,_0x21b0b7,_0x2cf9d3,_0x206b16,_0x3229e7,_0x566c86);}async function _0x34740f(_0xe4ca3f,_0x3496db,_0x2311ef,_0x2a92b2,_0x4480b2,_0x5185e7,_0x2eeb60){const _0x5e4b18=_0xd4b2e,_0xb4485a=_0x2eeb60['models'][_0x5e4b18(0x91c)](_0x1dda5d=>_0x1dda5d['id']===_0x4480b2['id']);if(!_0xb4485a)throw new Error(_0x5e4b18(0x55d));let _0x493f91='';switch(_0x493f91=_0x2311ef instanceof Array?_0x2311ef[_0x5e4b18(0x7da)](_0x26f375=>_0x26f375[_0x5e4b18(0x580)])[_0x5e4b18(0x85e)](',\x20'):_0x2311ef,_0xb4485a[_0x5e4b18(0x7cd)]){case _0x29f76b[_0x5e4b18(0x6b1)][_0x5e4b18(0x217)]:await async function(_0xecc059,_0x178f75,_0x35b1bc,_0x53f47c,_0xfbeca1,_0x160404,_0x3546f2,_0x441fc7){const _0x16720b=_0x5e4b18,_0x1595e3=Date[_0x16720b(0x702)](),_0x2409b5=_0x441fc7[_0x16720b(0x88c)]['find'](_0x3a9630=>_0x3a9630['getEngineType']()===_0xfbeca1[_0x16720b(0x880)]);if(!_0x2409b5)throw new Error('No\x20connector\x20found\x20for\x20model');const _0xf87de8=await async function(_0x51b21f,_0x1081ae,_0x1ede82,_0x40d0c6,_0x4e9c1f){const _0x39083b=_0x16720b,_0x30797e={'type':_0x39083b(0x59b),'prompt':_0x1081ae,'threadId':_0x51b21f};_0x1ede82[_0x39083b(0x30f)][_0x39083b(0x9b4)]>0x0&&(_0x30797e[_0x39083b(0x336)]=_0x39083b(0x4af)+_0x1ede82[_0x39083b(0x30f)][_0x39083b(0x7da)](_0x406518=>'From\x20'+_0x406518[_0x39083b(0x871)]+':\x20'+_0x406518[_0x39083b(0x580)])[_0x39083b(0x85e)]('\x0a'));const _0x57f1f4=await _0x40d0c6[_0x39083b(0x300)](_0x30797e,{'model':_0x4e9c1f});if(_0x57f1f4[_0x39083b(0x1ec)]instanceof Array)throw new Error('Unexpected\x20output\x20type');return _0x1ede82[_0x39083b(0x2d3)]+=_0x57f1f4['inputTokens']??0x0,_0x1ede82[_0x39083b(0x368)]+=_0x57f1f4[_0x39083b(0x368)]??0x0,_0x57f1f4[_0x39083b(0x1ec)];}(_0x178f75,_0x35b1bc,_0x53f47c,_0x2409b5,_0xfbeca1);_0x1c4f84['trace']({'jobType':_0x18ce78[_0x16720b(0x348)],'type':_0xcce17b['ModelText'],'jobId':_0xecc059,'threadId':_0x178f75,'blockId':_0x160404['id'],'traceLevel':_0x532f14[_0x16720b(0x37e)],'startTime':_0x1595e3,'timestamp':Date['now'](),'status':_0x16720b(0x71a),'modelName':_0xfbeca1['id'],'content':_0x35b1bc,'newPrompt':_0xf87de8,'inputType':_0xfbeca1['inputType'],'outputType':_0xfbeca1[_0x16720b(0x7cd)]}),await _0x3ff513(_0xecc059,_0x178f75,_0xf87de8,_0x53f47c,_0x160404,_0x3546f2,_0x441fc7);}(_0xe4ca3f,_0x3496db,_0x493f91,_0x2a92b2,_0xb4485a,_0x4480b2,_0x5185e7,_0x2eeb60);break;case _0x29f76b['GenerativeAIModelOutputType'][_0x5e4b18(0x439)]:await async function(_0x2fc0f5,_0x5278ae,_0x229dbe,_0x969416,_0x4cb5f2,_0xc5e122,_0xeb0b73,_0x91b987){const _0x4e5048=_0x5e4b18,_0x522f0f=Date[_0x4e5048(0x702)](),_0x24de92=_0x91b987['generativeAIWorkerConnectors'][_0x4e5048(0x91c)](_0x5a05f9=>_0x5a05f9[_0x4e5048(0x220)]()===_0x4cb5f2[_0x4e5048(0x880)]);if(!_0x24de92)throw new Error(_0x4e5048(0x748));const _0x41cd22=await async function(_0x292eec,_0x2317fc,_0x24d483,_0x2d3055){const _0x267cd9=_0x4e5048;return(await _0x24d483['processJob']({'type':_0x267cd9(0x59b),'prompt':_0x2317fc,'threadId':_0x292eec},{'model':_0x2d3055}))[_0x267cd9(0x1ec)];}(_0x5278ae,_0x229dbe,_0x24de92,_0x4cb5f2);_0x1c4f84[_0x4e5048(0x19b)]({'jobType':_0x18ce78[_0x4e5048(0x348)],'type':_0xcce17b[_0x4e5048(0x724)],'jobId':_0x2fc0f5,'threadId':_0x5278ae,'blockId':_0xc5e122['id'],'traceLevel':_0x532f14[_0x4e5048(0x37e)],'startTime':_0x522f0f,'timestamp':Date[_0x4e5048(0x702)](),'status':_0x4e5048(0x71a),'modelName':_0x4cb5f2['id'],'content':_0x229dbe,'totalVectors':_0x41cd22[_0x4e5048(0x9b4)]}),await _0x3ff513(_0x2fc0f5,_0x5278ae,_0x41cd22,_0x969416,_0xc5e122,_0xeb0b73,_0x91b987);}(_0xe4ca3f,_0x3496db,_0x493f91,_0x2a92b2,_0xb4485a,_0x4480b2,_0x5185e7,_0x2eeb60);}}async function _0x37f136(_0x581e5e,_0xbfcece,_0x57cc25,_0x24ddb3,_0x16833c,_0x243aa0,_0x310c71){const _0x4f673f=_0xd4b2e,_0x3532d7=Date[_0x4f673f(0x702)]();if(_0x16833c[_0x4f673f(0x572)]||(_0x16833c['accumulated']={}),_0x57cc25 instanceof Array?(_0x16833c[_0x4f673f(0x572)][_0x4f673f(0x66d)]||(_0x16833c[_0x4f673f(0x572)]['results']=[]),_0x16833c[_0x4f673f(0x572)][_0x4f673f(0x66d)][_0x4f673f(0x55a)](..._0x57cc25)):_0x16833c[_0x4f673f(0x572)][_0x4f673f(0x59b)]=_0x57cc25,_0x16833c['timesCalled']=_0x16833c['timesCalled']?_0x16833c['timesCalled']+0x1:0x1,_0xf0b263(_0x16833c,_0x243aa0)>_0x16833c[_0x4f673f(0x3af)])return;if(!_0x16833c[_0x4f673f(0x572)][_0x4f673f(0x59b)]||!_0x16833c[_0x4f673f(0x572)][_0x4f673f(0x66d)])throw new Error(_0x4f673f(0x4a9));for(const _0x462d45 of _0x16833c[_0x4f673f(0x572)][_0x4f673f(0x66d)])_0x462d45[_0x4f673f(0x96b)]=await _0x310c71['nlpLibraryConnector'][_0x4f673f(0x668)](_0x16833c[_0x4f673f(0x572)][_0x4f673f(0x59b)],_0x462d45['content']);const _0x97a4a4=_0x16833c[_0x4f673f(0x572)][_0x4f673f(0x66d)]['filter'](_0x4291f8=>_0x4291f8[_0x4f673f(0x96b)]>_0x16833c[_0x4f673f(0x7c3)][_0x4f673f(0x754)])['sort']((_0x549aad,_0x3e2f8d)=>_0x3e2f8d['relevance']-_0x549aad['relevance'])[_0x4f673f(0xa43)](0x0,_0x16833c[_0x4f673f(0x7c3)][_0x4f673f(0x947)]);_0x1c4f84[_0x4f673f(0x19b)]({'jobType':_0x18ce78['Retrieve'],'type':_0xcce17b[_0x4f673f(0x2af)],'jobId':_0x581e5e,'threadId':_0xbfcece,'blockId':_0x16833c['id'],'traceLevel':_0x532f14[_0x4f673f(0x37e)],'startTime':_0x3532d7,'timestamp':Date[_0x4f673f(0x702)](),'status':_0x4f673f(0x71a),'inputResults':_0x16833c[_0x4f673f(0x572)][_0x4f673f(0x66d)],'rerankedResults':_0x97a4a4}),await _0x3ff513(_0x581e5e,_0xbfcece,_0x97a4a4,_0x24ddb3,_0x16833c,_0x243aa0,_0x310c71);}async function _0x5740c2(_0x4e6541,_0x202eaf,_0x1cc5ff,_0x6540af,_0x53e94f,_0xee0f4,_0x38a54c){const _0x5c617e=_0xd4b2e,_0x435362=Date[_0x5c617e(0x702)]();if(_0x53e94f[_0x5c617e(0x572)]||(_0x53e94f['accumulated']={}),_0x1cc5ff instanceof Array?_0x53e94f['accumulated']['vector']=_0x1cc5ff:_0x53e94f[_0x5c617e(0x572)]['content']=_0x1cc5ff,_0x53e94f[_0x5c617e(0x3af)]=_0x53e94f[_0x5c617e(0x3af)]?_0x53e94f[_0x5c617e(0x3af)]+0x1:0x1,_0xf0b263(_0x53e94f,_0xee0f4)>_0x53e94f[_0x5c617e(0x3af)])return;if(!_0x53e94f[_0x5c617e(0x572)][_0x5c617e(0x308)]||!_0x53e94f[_0x5c617e(0x572)][_0x5c617e(0x580)])throw new Error(_0x5c617e(0xa3e));const _0xd8e248=await _0x38a54c['nlpLibraryConnector']['getEntities'](_0x53e94f['accumulated']['content'],{'ner':!0x1,'noun':!0x0,'propn':!0x1,'verb':!0x1}),_0x2ba1e3=_0x38a54c['contentMediator'][_0x5c617e(0xa0b)](_0x53e94f['id'])['search'](_0xd8e248,_0x53e94f[_0x5c617e(0x572)][_0x5c617e(0x308)],_0x53e94f[_0x5c617e(0x7c3)][_0x5c617e(0x947)],_0x53e94f[_0x5c617e(0x7c3)][_0x5c617e(0x754)],_0x53e94f[_0x5c617e(0x7c3)]['contentSize']);_0x1c4f84[_0x5c617e(0x19b)]({'jobType':_0x18ce78[_0x5c617e(0x348)],'type':_0xcce17b[_0x5c617e(0x604)],'jobId':_0x4e6541,'threadId':_0x202eaf,'blockId':_0x53e94f['id'],'traceLevel':_0x532f14['Debug'],'startTime':_0x435362,'timestamp':Date[_0x5c617e(0x702)](),'status':_0x5c617e(0x71a),'topResults':_0x2ba1e3,'numResults':_0x2ba1e3[_0x5c617e(0x9b4)]}),await _0x3ff513(_0x4e6541,_0x202eaf,_0x2ba1e3,_0x6540af,_0x53e94f,_0xee0f4,_0x38a54c);}async function _0x3ff513(_0x500bdc,_0x1ec3e0,_0x3e5d08,_0x3ddafa,_0x48fb0c,_0x2edb67,_0x498b26){const _0x282d13=_0xd4b2e;for(const _0x344f7c of _0x48fb0c['links']||[]){const _0x3e8821=_0x2edb67[_0x282d13(0x91c)](_0x2d5bff=>_0x2d5bff[_0x282d13(0x969)]===_0x344f7c[_0x282d13(0x969)]);if(_0x3e8821)switch(_0x3e8821[_0x282d13(0x747)]){case _0xc0f671['Context']:_0x344f7c[_0x282d13(0x747)]===_0x10df5e[_0x282d13(0x155)]&&_0x3e5d08 instanceof Array&&_0x3ddafa[_0x282d13(0x30f)][_0x282d13(0x55a)](..._0x3e5d08);break;case _0xc0f671[_0x282d13(0x1ea)]:_0x344f7c[_0x282d13(0x747)]===_0x10df5e['Text']&&_0x282d13(0x8e6)==typeof _0x3e5d08&&await _0x2cf7fb(_0x500bdc,_0x1ec3e0,_0x3e5d08,_0x3ddafa,_0x3e8821,_0x2edb67,_0x498b26),_0x344f7c[_0x282d13(0x747)]===_0x10df5e[_0x282d13(0x155)]&&_0x3e5d08 instanceof Array&&await _0x2cf7fb(_0x500bdc,_0x1ec3e0,_0x3e5d08,_0x3ddafa,_0x3e8821,_0x2edb67,_0x498b26);break;case _0xc0f671[_0x282d13(0x65e)]:_0x344f7c[_0x282d13(0x747)]===_0x10df5e[_0x282d13(0x217)]&&_0x282d13(0x8e6)==typeof _0x3e5d08&&await _0x4a70da(_0x500bdc,_0x1ec3e0,_0x3e5d08,_0x3ddafa,_0x3e8821,_0x2edb67,_0x498b26),_0x344f7c[_0x282d13(0x747)]===_0x10df5e[_0x282d13(0x155)]&&_0x3e5d08 instanceof Array&&await _0x4a70da(_0x500bdc,_0x1ec3e0,_0x3e5d08,_0x3ddafa,_0x3e8821,_0x2edb67,_0x498b26),_0x344f7c[_0x282d13(0x747)]===_0x10df5e['Entity']&&_0x3e5d08 instanceof Set&&await _0x4a70da(_0x500bdc,_0x1ec3e0,_0x3e5d08,_0x3ddafa,_0x3e8821,_0x2edb67,_0x498b26);break;case _0xc0f671['Model']:_0x344f7c[_0x282d13(0x747)]===_0x10df5e[_0x282d13(0x217)]&&_0x282d13(0x8e6)==typeof _0x3e5d08&&await _0x34740f(_0x500bdc,_0x1ec3e0,_0x3e5d08,_0x3ddafa,_0x3e8821,_0x2edb67,_0x498b26),_0x344f7c[_0x282d13(0x747)]===_0x10df5e[_0x282d13(0x155)]&&_0x3e5d08 instanceof Array&&await _0x34740f(_0x500bdc,_0x1ec3e0,_0x3e5d08,_0x3ddafa,_0x3e8821,_0x2edb67,_0x498b26);break;case _0xc0f671[_0x282d13(0x2af)]:_0x344f7c[_0x282d13(0x747)]===_0x10df5e[_0x282d13(0x217)]&&_0x282d13(0x8e6)==typeof _0x3e5d08&&await _0x37f136(_0x500bdc,_0x1ec3e0,_0x3e5d08,_0x3ddafa,_0x3e8821,_0x2edb67,_0x498b26),_0x344f7c[_0x282d13(0x747)]===_0x10df5e[_0x282d13(0x155)]&&_0x3e5d08 instanceof Array&&await _0x37f136(_0x500bdc,_0x1ec3e0,_0x3e5d08,_0x3ddafa,_0x3e8821,_0x2edb67,_0x498b26);break;case _0xc0f671[_0x282d13(0xa80)]:_0x344f7c['type']===_0x10df5e[_0x282d13(0x217)]&&_0x282d13(0x8e6)==typeof _0x3e5d08&&await _0x5740c2(_0x500bdc,_0x1ec3e0,_0x3e5d08,_0x3ddafa,_0x3e8821,_0x2edb67,_0x498b26),_0x344f7c['type']===_0x10df5e['Vector']&&_0x3e5d08 instanceof Array&&await _0x5740c2(_0x500bdc,_0x1ec3e0,_0x3e5d08,_0x3ddafa,_0x3e8821,_0x2edb67,_0x498b26);}}}function _0xf0b263(_0x47ef3a,_0x4e89c5){const _0x254ff8=_0xd4b2e;return _0x4e89c5[_0x254ff8(0x893)](_0x589829=>_0x589829[_0x254ff8(0x9dd)]?.[_0x254ff8(0x403)](_0x3763b7=>_0x3763b7[_0x254ff8(0x969)]===_0x47ef3a[_0x254ff8(0x969)]))[_0x254ff8(0x9b4)];}async function _0x3eabb6(_0x13af6d,_0x38e455,_0x502526,_0x332d16,_0x295207,_0x263fde){const _0x5471b3=_0xd4b2e,_0xbf336c={'type':_0x5471b3(0x59b),'output':'','context':[],'inputTokens':0x0,'outputTokens':0x0};try{await _0x3ff513(_0x13af6d,_0x38e455,_0x502526,_0xbf336c,_0x332d16,structuredClone(_0x295207),_0x263fde),_0xbf336c['output']=_0x5471b3(0x4af)+_0xbf336c['context'][_0x5471b3(0x7da)](_0x532077=>_0x5471b3(0x78e)+_0x532077[_0x5471b3(0x871)]+':\x20'+_0x532077[_0x5471b3(0x580)])[_0x5471b3(0x85e)]('\x0a');}catch(_0x556648){console[_0x5471b3(0x940)]('Error\x20processing\x20retrieve',_0x556648);}return _0xbf336c;}const _0x1a31b5=require('rxjs/operators');class _0x3f92c8{[_0xd4b2e(0xa22)];constructor(){const _0x5d64f5=_0xd4b2e;this[_0x5d64f5(0xa22)]=new _0x18b0bf[(_0x5d64f5(0x7df))]();}[_0xd4b2e(0x418)](_0x233285){const _0x257653=_0xd4b2e;this[_0x257653(0xa22)][_0x257653(0x1e6)](_0x233285);}async[_0xd4b2e(0x3da)](){const _0x55e7b9=_0xd4b2e;return(0x0,_0x18b0bf[_0x55e7b9(0x172)])(this['subject'][_0x55e7b9(0x243)]((0x0,_0x1a31b5[_0x55e7b9(0x398)])(0x1)));}}function _0x2bc1ca(_0x45e50f,_0x27602a,_0x252230,_0x27d2ab,_0x46f1b5,_0x247e08,_0x16cf67,_0x16d939){const _0x15c267=_0xd4b2e,_0x4037c5=_0x15c267(0x339)+_0x46f1b5[_0x15c267(0x69b)]+'\x20to\x20generate\x20a\x20response.',_0x236a03={'prompt':{'type':_0x29f76b[_0x15c267(0x675)][_0x15c267(0x2c5)]}};return _0x1c4f84[_0x15c267(0x19b)]({'jobType':_0x18ce78[_0x15c267(0x22c)],'type':_0x4693e4['LoadSkillFunction'],'jobId':_0x45e50f,'agentId':_0x27602a,'threadId':_0x252230[_0x15c267(0x938)],'traceLevel':_0x532f14[_0x15c267(0x436)],'startTime':Date['now'](),'timestamp':Date[_0x15c267(0x702)](),'status':_0x15c267(0x71a),'function':_0x2ac92a['ExecuteAgent'],'params':_0x236a03,'functionDescription':_0x4037c5}),{'description':_0x4037c5,'params':_0x236a03,'callback':async _0x30a911=>{const _0x2982e6=_0x15c267,_0x374e90=Date[_0x2982e6(0x702)]();try{if(_0x16d939&&(await _0x1b723a['wait'](0x1),_0x16d939[_0x2982e6(0x418)]({'output':_0x2982e6(0x946)+_0x46f1b5[_0x2982e6(0x4fc)]+_0x2982e6(0x81d),'type':_0x2982e6(0x59b)})),'string'!=typeof _0x30a911?.['prompt'])throw new Error(_0x2982e6(0x50d));const _0x3b0c45=_0x16cf67[_0x2982e6(0x838)]['find'](_0x321049=>_0x321049['id']===_0x46f1b5[_0x2982e6(0x9f1)]);if(!_0x3b0c45)throw new Error('Model\x20not\x20found');const _0x221015=_0x16cf67[_0x2982e6(0x88c)][_0x2982e6(0x91c)](_0xea4120=>_0xea4120['getEngineType']()===_0x3b0c45['engineType']);if(!_0x221015)throw new Error(_0x2982e6(0x748));const _0x2a8ce3=_0x46f1b5['links']?.[_0x2982e6(0x403)](_0x2b9606=>{const _0x2f2dab=_0x2982e6,_0x41019a=_0x247e08['find'](_0x1bcdb7=>_0x1bcdb7['uid']===_0x2b9606[_0x2f2dab(0x969)]);return!!_0x41019a&&_0x2b9606['type']===_0x10df5e[_0x2f2dab(0x217)]&&_0x41019a[_0x2f2dab(0x747)]===_0x1db4e3[_0x2f2dab(0xa01)];})??!0x1;let _0x28284c;if(_0x16d939&&_0x2a8ce3?(await _0x1b723a[_0x2982e6(0x51b)](0x1),_0x16d939['emit']({'output':'\x0a\x0a','type':'prompt'}),_0x28284c=await async function(_0x3b58be,_0xb39839,_0x33645c,_0x3d0554,_0x292020,_0x47e70a,_0x2a5c5b,_0x1133c5,_0x573206){const _0x368d14=_0x2982e6;let _0x1edbbc='';const _0x27f7c4=_0x573206[_0x368d14(0x838)][_0x368d14(0x91c)](_0x10967e=>_0x10967e['id']===_0x47e70a[_0x368d14(0x9f1)]);if(!_0x27f7c4)throw new Error(_0x368d14(0x55d));const _0x233c5a=_0x573206[_0x368d14(0x88c)][_0x368d14(0x91c)](_0x17b682=>_0x17b682[_0x368d14(0x220)]()===_0x27f7c4['engineType']);if(!_0x233c5a)throw new Error(_0x368d14(0x748));for await(const _0x35f0ef of _0x233c5a[_0x368d14(0x509)]({'type':_0x368d14(0x59b),'prompt':_0x11e164(_0x33645c,_0x47e70a),'instructions':_0x49e662('',_0x47e70a,_0x27f7c4),'grammar':_0x47e70a[_0x368d14(0x8a9)],'temperature':_0x47e70a[_0x368d14(0x489)],'maxTokens':_0x47e70a[_0x368d14(0x686)],'functions':await _0x2d9b2d(_0x3b58be,_0xb39839,_0x3d0554,_0x292020,_0x47e70a,_0x2a5c5b,_0x573206,_0x1133c5),'threadId':_0x3d0554[_0x368d14(0x938)]},{'model':_0x27f7c4,'sequences':0x2}))_0x1133c5['emit'](_0x35f0ef),_0x1edbbc+=_0x35f0ef[_0x368d14(0x1ec)];return{'type':_0x368d14(0x59b),'output':_0x1edbbc};}(_0x45e50f,_0x27602a,_0x30a911[_0x2982e6(0x59b)],_0x252230,_0x27d2ab,_0x46f1b5,_0x247e08,_0x16d939,_0x16cf67),await _0x1b723a['wait'](0x1),_0x16d939[_0x2982e6(0x418)]({'output':'\x0a\x0a','type':_0x2982e6(0x59b)})):_0x28284c=await _0x221015[_0x2982e6(0x300)]({'type':_0x2982e6(0x59b),'prompt':_0x11e164(_0x30a911[_0x2982e6(0x59b)],_0x46f1b5),'instructions':_0x49e662('',_0x46f1b5,_0x3b0c45),'grammar':_0x46f1b5['grammar'],'temperature':_0x46f1b5['temperature'],'maxTokens':_0x46f1b5[_0x2982e6(0x686)],'functions':await _0x2d9b2d(_0x45e50f,_0x27602a,_0x252230,_0x27d2ab,_0x46f1b5,_0x247e08,_0x16cf67,_0x16d939),'threadId':_0x252230[_0x2982e6(0x938)]},{'model':_0x3b0c45,'sequences':0x2}),_0x2982e6(0x8e6)!=typeof _0x28284c[_0x2982e6(0x1ec)])throw new Error(_0x2982e6(0x391));return _0x1c4f84[_0x2982e6(0x19b)]({'jobType':_0x18ce78[_0x2982e6(0x58d)],'type':_0x2ac92a[_0x2982e6(0x351)],'jobId':_0x45e50f,'blockId':_0x46f1b5['id'],'agentId':_0x27602a,'threadId':_0x252230[_0x2982e6(0x938)],'traceLevel':_0x532f14[_0x2982e6(0x436)],'startTime':_0x374e90,'timestamp':Date[_0x2982e6(0x702)](),'status':_0x2982e6(0x71a),'agentName':_0x46f1b5[_0x2982e6(0x4fc)],'prompt':_0x30a911[_0x2982e6(0x59b)],'instructions':_0x46f1b5[_0x2982e6(0x336)],'result':_0x28284c['output'],'inputTokens':0x0,'outputTokens':0x0}),_0x46f1b5[_0x2982e6(0x9dd)]?.[_0x2982e6(0x403)](_0x5e9beb=>_0x5e9beb[_0x2982e6(0x747)]===_0x10df5e['Context'])?(_0x3ed2f9(_0x28284c[_0x2982e6(0x1ec)],_0x46f1b5,_0x247e08),_0x2982e6(0x58c)):_0x28284c[_0x2982e6(0x1ec)];}catch(_0x2324d7){return console[_0x2982e6(0x940)](_0x2324d7),_0x1c4f84[_0x2982e6(0x19b)]({'jobType':_0x18ce78['Skill'],'type':_0x2ac92a[_0x2982e6(0x351)],'jobId':_0x45e50f,'blockId':_0x46f1b5['id'],'agentId':_0x27602a,'threadId':_0x252230['threadId'],'traceLevel':_0x532f14['Info'],'startTime':_0x374e90,'timestamp':Date[_0x2982e6(0x702)](),'status':_0x2982e6(0x940),'errorDetails':_0x53ffbb(_0x2324d7),'agentName':_0x46f1b5[_0x2982e6(0x4fc)],'prompt':_0x30a911?.[_0x2982e6(0x59b)]??'','instructions':_0x46f1b5[_0x2982e6(0x336)],'result':'','inputTokens':0x0,'outputTokens':0x0}),_0x2324d7 instanceof Error?_0x2324d7[_0x2982e6(0x2b6)]:'Error\x20executing\x20agent';}}};}function _0x48bb06(_0x463e54,_0x5996d5,_0x5dd974,_0x6c0a38,_0x42010b,_0x24d629,_0x21f916){const _0x6fac31=_0xd4b2e,_0x50cb98=_0x6fac31(0x3e9)+_0x42010b[_0x6fac31(0x69b)]+_0x6fac31(0x7be),_0x190529={'queryOrPrompt':{'type':_0x29f76b[_0x6fac31(0x675)][_0x6fac31(0x2c5)]}};return _0x1c4f84[_0x6fac31(0x19b)]({'jobType':_0x18ce78[_0x6fac31(0x22c)],'type':_0x4693e4[_0x6fac31(0x669)],'jobId':_0x463e54,'agentId':_0x5996d5,'threadId':_0x5dd974,'blockId':_0x42010b['id'],'traceLevel':_0x532f14[_0x6fac31(0x436)],'startTime':Date[_0x6fac31(0x702)](),'timestamp':Date[_0x6fac31(0x702)](),'status':_0x6fac31(0x71a),'function':_0x52a37f[_0x6fac31(0x6a0)],'params':_0x190529,'functionDescription':_0x50cb98}),{'description':_0x50cb98,'params':_0x190529,'callback':async _0x3f7d0c=>{const _0x21ef3e=_0x6fac31,_0x3e7b56=Date[_0x21ef3e(0x702)]();try{if(_0x21f916&&(await _0x1b723a[_0x21ef3e(0x51b)](0x1),_0x21f916['emit']({'output':'\x0a\x0a`Searching\x20in\x20data\x20collection\x20'+_0x42010b[_0x21ef3e(0x4fc)]+_0x21ef3e(0x628)+_0x3f7d0c?.[_0x21ef3e(0x5da)]+_0x21ef3e(0x81d),'type':'prompt'})),_0x21ef3e(0x8e6)!=typeof _0x3f7d0c?.['queryOrPrompt'])throw new Error('Query\x20is\x20required');const _0x5a9854=_0x42010b[_0x21ef3e(0x20a)][_0x21ef3e(0x91c)](_0x283b3e=>_0x283b3e[_0x21ef3e(0x747)]===_0xc0f671[_0x21ef3e(0x236)]),_0x364af6=await _0x3eabb6(_0x463e54,_0x5dd974,_0x3f7d0c['queryOrPrompt'],_0x5a9854,_0x42010b['retrieveBlocks'],_0x24d629);return _0x6c0a38[_0x21ef3e(0x30f)]=Array['from'](new Set([..._0x6c0a38[_0x21ef3e(0x30f)],..._0x364af6[_0x21ef3e(0x30f)]])),_0x1c4f84['trace']({'jobType':_0x18ce78[_0x21ef3e(0x3d7)],'type':_0x52a37f[_0x21ef3e(0x822)],'jobId':_0x463e54,'blockId':_0x42010b['id'],'agentId':_0x5996d5,'threadId':_0x5dd974,'traceLevel':_0x532f14[_0x21ef3e(0x436)],'startTime':_0x3e7b56,'timestamp':Date[_0x21ef3e(0x702)](),'status':_0x21ef3e(0x71a),'query':_0x3f7d0c['queryOrPrompt'],'context':_0x364af6[_0x21ef3e(0x30f)]??[],'inputTokens':_0x364af6[_0x21ef3e(0x2d3)]??0x0,'outputTokens':_0x364af6[_0x21ef3e(0x368)]??0x0}),_0x364af6[_0x21ef3e(0x1ec)];}catch(_0x169553){return console[_0x21ef3e(0x940)](_0x169553),_0x1c4f84[_0x21ef3e(0x19b)]({'jobType':_0x18ce78[_0x21ef3e(0x3d7)],'type':_0x52a37f[_0x21ef3e(0x822)],'jobId':_0x463e54,'blockId':_0x42010b['id'],'agentId':_0x5996d5,'threadId':_0x5dd974,'traceLevel':_0x532f14[_0x21ef3e(0x436)],'startTime':_0x3e7b56,'timestamp':Date[_0x21ef3e(0x702)](),'status':_0x21ef3e(0x940),'errorDetails':_0x53ffbb(_0x169553),'query':_0x3f7d0c?.[_0x21ef3e(0x5da)]??'','context':[],'inputTokens':0x0,'outputTokens':0x0}),_0x169553 instanceof Error?_0x169553[_0x21ef3e(0x2b6)]:_0x21ef3e(0x73a);}}};}function _0x349e0b(_0x4aa81f,_0x337243,_0xc39ac2,_0x4bbeb7,_0x5f3f64,_0x4d3776){const _0x3fe7ef=_0xd4b2e,_0x9ad368={};for(const _0x46e40a of _0x4bbeb7[_0x3fe7ef(0x1d1)])switch(_0x46e40a['type']){case _0x3fe7ef(0x8e6):case'json':_0x9ad368[_0x46e40a[_0x3fe7ef(0x4fc)]]={'type':_0x29f76b[_0x3fe7ef(0x675)][_0x3fe7ef(0x2c5)]};break;case _0x3fe7ef(0x1f7):_0x9ad368[_0x46e40a[_0x3fe7ef(0x4fc)]]={'type':_0x29f76b[_0x3fe7ef(0x675)][_0x3fe7ef(0x5c5)]};break;case'boolean':_0x9ad368[_0x46e40a[_0x3fe7ef(0x4fc)]]={'type':_0x29f76b[_0x3fe7ef(0x675)]['Boolean']};}return _0x1c4f84['trace']({'jobType':_0x18ce78[_0x3fe7ef(0x22c)],'type':_0x4693e4['LoadSkillFunction'],'jobId':_0x4aa81f,'agentId':_0x337243,'threadId':_0xc39ac2,'traceLevel':_0x532f14[_0x3fe7ef(0x436)],'startTime':Date[_0x3fe7ef(0x702)](),'timestamp':Date['now'](),'status':_0x3fe7ef(0x71a),'function':_0x2ac92a[_0x3fe7ef(0x6a1)],'params':_0x9ad368,'functionDescription':_0x4bbeb7['description']}),{'description':_0x3fe7ef(0x9a1)+_0x4bbeb7[_0x3fe7ef(0x69b)],'params':_0x9ad368,'callback':async _0x551a3c=>{const _0x512d55=_0x3fe7ef,_0xbc2222=Date['now']();try{if(_0x4d3776&&(await _0x1b723a[_0x512d55(0x51b)](0x1),_0x4d3776[_0x512d55(0x418)]({'output':_0x512d55(0xa58)+_0x4bbeb7[_0x512d55(0x4fc)]+'`\x0a\x0a','type':_0x512d55(0x59b)})),!_0x551a3c)throw new Error(_0x512d55(0x206));for(const _0x4ca907 of _0x4bbeb7['parameters']){if(void 0x0===_0x551a3c[_0x4ca907[_0x512d55(0x4fc)]])throw new Error(_0x512d55(0x181)+_0x4ca907['name']+_0x512d55(0x3cd));if(_0x512d55(0x8e6)===_0x4ca907[_0x512d55(0x747)]&&'string'!=typeof _0x551a3c[_0x4ca907[_0x512d55(0x4fc)]])throw new Error(_0x512d55(0x181)+_0x4ca907[_0x512d55(0x4fc)]+'\x20must\x20be\x20a\x20string');if(_0x512d55(0x1f7)===_0x4ca907[_0x512d55(0x747)]&&_0x512d55(0x1f7)!=typeof _0x551a3c[_0x4ca907['name']])throw new Error(_0x512d55(0x181)+_0x4ca907['name']+'\x20must\x20be\x20a\x20number');if(_0x512d55(0x4b1)===_0x4ca907[_0x512d55(0x747)]&&'boolean'!=typeof _0x551a3c[_0x4ca907['name']])throw new Error(_0x512d55(0x181)+_0x4ca907[_0x512d55(0x4fc)]+_0x512d55(0x8f6));if(_0x512d55(0x7e2)===_0x4ca907[_0x512d55(0x747)]&&_0x512d55(0x8e6)!=typeof _0x551a3c[_0x4ca907[_0x512d55(0x4fc)]])throw new Error('Parameter\x20'+_0x4ca907[_0x512d55(0x4fc)]+_0x512d55(0x939));if(_0x512d55(0x7e2)===_0x4ca907[_0x512d55(0x747)])try{_0x551a3c[_0x4ca907[_0x512d55(0x4fc)]]=JSON[_0x512d55(0x89a)](_0x551a3c[_0x4ca907[_0x512d55(0x4fc)]]);}catch{throw new Error(_0x512d55(0x181)+_0x4ca907[_0x512d55(0x4fc)]+_0x512d55(0xa0d));}}const _0x18e107={};for(const _0x5a84ac of _0x4bbeb7[_0x512d55(0x7d9)]){let _0x425684=_0x5a84ac[_0x512d55(0x97c)];_0x425684['match'](/\$[a-zA-Z0-9]+/)&&(_0x425684=_0x425684[_0x512d55(0x33c)](/\$[a-zA-Z0-9]+/g,_0x1f53dc=>{const _0x19be6a=_0x512d55,_0x1331c9=_0x1f53dc[_0x19be6a(0xa43)](0x1);return _0x551a3c[_0x1331c9];})),_0x18e107[_0x5a84ac[_0x512d55(0x4fc)]]=_0x425684;}const _0x15a5c8=new URLSearchParams();for(const _0x18c5ca of _0x4bbeb7[_0x512d55(0xa07)]){let _0x5906e1=_0x18c5ca['value'];if(_0x512d55(0x8e6)==typeof _0x5906e1&&_0x5906e1[_0x512d55(0x334)]('$')){const _0x438552=_0x5906e1[_0x512d55(0xa43)](0x1);_0x5906e1=_0x551a3c[_0x438552];}if(_0x512d55(0x8e6)==typeof _0x5906e1&&_0x5906e1[_0x512d55(0x334)](_0x512d55(0x5e0))){const _0x38c16c=_0x5906e1['replace'](_0x512d55(0x5e0),'');if(_0x4bbeb7[_0x512d55(0x572)],_0x5906e1=_0x4bbeb7[_0x512d55(0x572)]?.[_0x512d55(0x30f)]?.[_0x38c16c],'string'==typeof _0x5906e1&&_0x5906e1['startsWith']('{')&&_0x5906e1[_0x512d55(0x33b)]('}'))try{_0x5906e1=JSON[_0x512d55(0x89a)](_0x5906e1);}catch{}}_0x512d55(0x8e6)==typeof _0x5906e1&&_0x5906e1[_0x512d55(0x334)]('[')&&_0x5906e1[_0x512d55(0x33b)](']')&&(_0x5906e1=_0x5906e1['slice'](0x1,-0x1)['split'](',')),_0x15a5c8[_0x512d55(0x97b)](_0x18c5ca[_0x512d55(0x4fc)],_0x5906e1);}let _0x592d90=_0x4bbeb7[_0x512d55(0x929)];_0x15a5c8[_0x512d55(0x882)]>0x0&&(_0x592d90+='?'+_0x15a5c8['toString']());let _0x384ae9={};for(const _0x5bd9b4 of _0x4bbeb7[_0x512d55(0x81c)]){let _0xe0cbbb=_0x5bd9b4[_0x512d55(0x97c)];if(_0x512d55(0x8e6)==typeof _0xe0cbbb&&_0xe0cbbb[_0x512d55(0x334)]('$')){const _0x1c57b0=_0xe0cbbb[_0x512d55(0xa43)](0x1);_0xe0cbbb=_0x551a3c[_0x1c57b0];}if(_0x512d55(0x8e6)==typeof _0xe0cbbb&&_0xe0cbbb[_0x512d55(0x334)]('@context.')){const _0x2fc012=_0xe0cbbb[_0x512d55(0x33c)]('@context.','');if(_0xe0cbbb=_0x4bbeb7[_0x512d55(0x572)]?.['context']?.[_0x2fc012],_0x512d55(0x8e6)==typeof _0xe0cbbb&&_0xe0cbbb[_0x512d55(0x334)]('{')&&_0xe0cbbb[_0x512d55(0x33b)]('}'))try{_0xe0cbbb=JSON[_0x512d55(0x89a)](_0xe0cbbb);}catch{}}if('string'==typeof _0xe0cbbb&&_0xe0cbbb[_0x512d55(0x334)]('[')&&_0xe0cbbb[_0x512d55(0x33b)](']')&&(_0xe0cbbb=JSON['parse'](_0xe0cbbb)),_0x512d55(0x5f9)===_0x5bd9b4['name']){const _0x56d5fc=_0xe0cbbb[_0x512d55(0x716)](/```html(.*)```/s);_0x56d5fc&&(_0xe0cbbb=_0x56d5fc[0x1]),_0xe0cbbb=_0xe0cbbb['replace'](/\n/g,''),_0xe0cbbb=_0xe0cbbb['replace'](/'/g,'\x22'),_0x384ae9=_0xe0cbbb;break;}if(-0x1===_0x5bd9b4['name'][_0x512d55(0x458)]('.'))_0x384ae9[_0x5bd9b4[_0x512d55(0x4fc)]]=_0xe0cbbb;else{const [_0x1774b0,_0x37b836]=_0x5bd9b4[_0x512d55(0x4fc)][_0x512d55(0x488)]('.');_0x384ae9[_0x1774b0]||(_0x384ae9[_0x1774b0]={}),_0x384ae9[_0x1774b0][_0x37b836]=_0xe0cbbb;}}const _0x358752=await fetch(_0x592d90,{'method':_0x4bbeb7[_0x512d55(0xa5b)],'headers':_0x18e107,'body':_0x512d55(0x8e6)==typeof _0x384ae9?_0x384ae9:JSON['stringify'](_0x384ae9)});if(_0x358752['ok']){let _0x3d09b3=await _0x358752[_0x512d55(0x7e2)]();return _0x4bbeb7[_0x512d55(0x28e)]&&(_0x3d09b3=await function(_0x33d336,_0x417af6){return new Promise((_0x3349ac,_0x19c24b)=>{const _0x2dcd55=a0_0x2e29,_0x2278bf=_0x1b723a[_0x2dcd55(0x40c)](async()=>{const _0x30103d=_0x2dcd55;try{if(!_0x33d336['asyncEndpointUrl']||!_0x33d336[_0x30103d(0x533)])throw new Error('No\x20async\x20endpoint\x20URL');const _0x4b4163={};if(_0x33d336[_0x30103d(0x270)]){for(const _0x1cc259 of _0x33d336[_0x30103d(0x270)])_0x4b4163[_0x1cc259['name']]=_0x1cc259[_0x30103d(0x97c)];}const _0x551c51=_0x33d336[_0x30103d(0x2ab)]['replace'](_0x30103d(0x406),_0x417af6),_0x2f2649=await fetch(_0x551c51,{'method':_0x33d336[_0x30103d(0x533)],'headers':_0x4b4163});if(0xc8===_0x2f2649['status']){const _0x3ab474=await _0x2f2649['json']();_0x2278bf(),_0x3349ac(_0x3ab474);}_0x2f2649[_0x30103d(0xa6f)]>=0x190&&(console[_0x30103d(0x940)](_0x2f2649[_0x30103d(0x1a9)]),_0x2278bf(),_0x19c24b(new Error(_0x2f2649[_0x30103d(0x1a9)])));}catch(_0x71ee89){console[_0x30103d(0x940)](_0x71ee89),_0x2278bf(),_0x19c24b(_0x71ee89);}},_0x5e346d);});}(_0x4bbeb7,_0x3d09b3['id'])),_0x512d55(0x8e6)!=typeof _0x3d09b3&&(_0x3d09b3=JSON[_0x512d55(0x1a2)](_0x3d09b3)),_0x1c4f84[_0x512d55(0x19b)]({'jobType':_0x18ce78['Skill'],'type':_0x2ac92a[_0x512d55(0x6a1)],'jobId':_0x4aa81f,'agentId':_0x337243,'threadId':_0xc39ac2,'blockId':_0x4bbeb7['id'],'traceLevel':_0x532f14['Info'],'startTime':_0xbc2222,'timestamp':Date[_0x512d55(0x702)](),'status':_0x512d55(0x71a),'skillName':_0x4bbeb7[_0x512d55(0x4fc)],'params':_0x551a3c,'result':_0x3d09b3}),_0x4bbeb7[_0x512d55(0x9dd)]?.[_0x512d55(0x403)](_0x20a0ea=>_0x20a0ea[_0x512d55(0x747)]===_0x10df5e[_0x512d55(0x977)])?(_0x3ed2f9(_0x3d09b3,_0x4bbeb7,_0x5f3f64),'{\x20\x22status\x22:\x20\x22success\x22\x20}'):_0x3d09b3;}throw new Error(_0x358752[_0x512d55(0x1a9)]);}catch(_0x2243c4){console[_0x512d55(0x940)](_0x2243c4);const _0x92ea16=_0x2243c4 instanceof Error?_0x2243c4[_0x512d55(0x2b6)]:_0x512d55(0x86a);return _0x1c4f84['trace']({'jobType':_0x18ce78['Skill'],'type':_0x2ac92a['ExecuteCustomSkill'],'jobId':_0x4aa81f,'blockId':_0x4bbeb7['id'],'threadId':_0xc39ac2,'traceLevel':_0x532f14['Info'],'startTime':_0xbc2222,'timestamp':Date[_0x512d55(0x702)](),'agentId':_0x337243,'status':_0x512d55(0x940),'skillName':_0x4bbeb7[_0x512d55(0x4fc)],'params':_0x551a3c??{},'result':_0x92ea16}),_0x92ea16;}}};}function _0xe752f0(_0x347d66,_0x52a220,_0x2db4e4,_0x49df36,_0x3ed047,_0xfb850d=!0x0){const _0x444ae1=_0xd4b2e,_0x5027e8='Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.',_0x1e4cdf={'url':{'type':_0x29f76b[_0x444ae1(0x675)][_0x444ae1(0x2c5)]},'page':{'type':_0x29f76b['PromptFunctionParamsType'][_0x444ae1(0x5c5)]}};return _0x1c4f84[_0x444ae1(0x19b)]({'jobType':_0x18ce78[_0x444ae1(0x22c)],'type':_0x4693e4['LoadSkillFunction'],'jobId':_0x347d66,'agentId':_0x52a220,'threadId':_0x2db4e4,'traceLevel':_0x532f14['Info'],'startTime':Date[_0x444ae1(0x702)](),'timestamp':Date[_0x444ae1(0x702)](),'status':_0x444ae1(0x71a),'function':_0x2ac92a[_0x444ae1(0x7a0)],'params':_0x1e4cdf,'functionDescription':_0x5027e8}),{'description':_0x5027e8,'params':_0x1e4cdf,'callback':async _0x327304=>{const _0x447653=_0x444ae1,_0x20b1e2=Date['now']();try{if(_0x3ed047&&(await _0x1b723a['wait'](0x1),_0x3ed047[_0x447653(0x418)]({'output':'\x0a\x0a`Fetching\x20content\x20from\x20URL\x20'+_0x327304?.[_0x447653(0xa02)]+_0x447653(0x81d),'type':_0x447653(0x59b)})),_0x447653(0x8e6)!=typeof _0x327304?.[_0x447653(0xa02)])throw new Error('URL\x20is\x20required');const _0x1a4de7=_0x327304[_0x447653(0xa02)];if(['.pdf',_0x447653(0x417),_0x447653(0x5bb),_0x447653(0x142),_0x447653(0x7f7),_0x447653(0x46b),'.xlsx'][_0x447653(0x403)](_0x14ed03=>_0x1a4de7[_0x447653(0x33b)](_0x14ed03)))throw new Error(_0x447653(0x717));const _0x470a39=await fetch(_0x1a4de7),_0x1c863d=await _0x470a39[_0x447653(0x7a9)]();let _0x3596bb=_0x1c863d;if(_0xfb850d){const _0x2db846=_0x1c863d[_0x447653(0x716)](/<body[^>]*>((.|[\n\r])*)<\/body>/i),_0x587aac=_0x2db846?_0x2db846[0x1]:_0x1c863d,_0x870ada=_0x587aac['replace'](/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,'')[_0x447653(0x33c)](/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,'')[_0x447653(0x33c)](/<br\s*\/?>/gi,'\x20')[_0x447653(0x33c)](/&nbsp;/g,'\x20');_0x3596bb=_0x870ada[_0x447653(0x33c)](/<\/?[^>]+(>|$)/g,'')[_0x447653(0x33c)](/\s\s+/g,'\x20')['trim']();}const _0x5579c4=_0x447653(0x1f7)==typeof _0x327304[_0x447653(0x953)]?_0x327304[_0x447653(0x953)]:0x1,_0x5f21d6=Math[_0x447653(0x77c)](_0x3596bb[_0x447653(0x9b4)]/_0x2e2918);return _0x3596bb[_0x447653(0x9b4)]>_0x2e2918&&(_0x3596bb=_0x3596bb['substring']((_0x5579c4-0x1)*_0x2e2918,(_0x5579c4-0x1)*_0x2e2918+_0x2e2918)+_0x447653(0xa55)+(_0x5579c4+0x1)+_0x447653(0x6f8)+_0x5f21d6+'.'),_0x1c4f84['trace']({'jobType':_0x18ce78[_0x447653(0x58d)],'type':_0x2ac92a['FetchUrl'],'jobId':_0x347d66,'agentId':_0x52a220,'threadId':_0x2db4e4,'blockId':_0x49df36,'traceLevel':_0x532f14[_0x447653(0x436)],'startTime':_0x20b1e2,'timestamp':Date['now'](),'status':_0x470a39['ok']?'success':_0x447653(0x940),'url':_0x327304[_0x447653(0xa02)],'page':_0x5579c4,'totalPages':_0x5f21d6,'response':_0x3596bb}),_0x3596bb;}catch(_0x26ae17){console[_0x447653(0x940)](_0x26ae17);const _0x1049a1=_0x26ae17 instanceof Error?_0x26ae17[_0x447653(0x2b6)]:'Error\x20fetching\x20URL';return _0x1c4f84['trace']({'jobType':_0x18ce78['Skill'],'type':_0x2ac92a[_0x447653(0x7a0)],'jobId':_0x347d66,'blockId':_0x49df36,'threadId':_0x2db4e4,'traceLevel':_0x532f14['Info'],'startTime':_0x20b1e2,'timestamp':Date[_0x447653(0x702)](),'agentId':_0x52a220,'status':_0x447653(0x940),'errorDetails':_0x53ffbb(_0x26ae17),'url':_0x327304?.[_0x447653(0xa02)]??'','page':0x0,'totalPages':0x0,'response':_0x1049a1}),_0x1049a1;}}};}async function _0x2d9b2d(_0x2643e9,_0x508418,_0x4433da,_0x3b3b8d,_0x4874dc,_0x465ae6,_0x9db25b,_0x526217){const _0x3a8d5c=_0xd4b2e,_0x5a4718=new Map(),_0x546640=_0x465ae6[_0x3a8d5c(0x893)](_0x497ad6=>_0x497ad6[_0x3a8d5c(0x9dd)]?.['find'](_0x321bb3=>_0x321bb3['uid']===_0x4874dc['uid']&&(_0x321bb3['type']===_0x10df5e[_0x3a8d5c(0x3d7)]||_0x321bb3[_0x3a8d5c(0x747)]===_0x10df5e[_0x3a8d5c(0x58d)])));for(const _0x5a4156 of _0x546640)_0x5a4156['type']===_0x1db4e3[_0x3a8d5c(0x3d7)]||_0x5a4156['type']===_0x1db4e3[_0x3a8d5c(0x384)]?_0x5a4718['set'](_0x3a8d5c(0x7ef)+_0x5a4156['name'][_0x3a8d5c(0x33c)](/[^a-zA-Z]/g,''),_0x48bb06(_0x2643e9,_0x508418,_0x4433da[_0x3a8d5c(0x938)],_0x3b3b8d,_0x5a4156,_0x9db25b,_0x526217)):_0x5a4156[_0x3a8d5c(0x747)]===_0x1db4e3[_0x3a8d5c(0x3ed)]||_0x5a4156['type']===_0x1db4e3[_0x3a8d5c(0x3e3)]?_0x5a4718[_0x3a8d5c(0x991)]('executeAgent'+_0x5a4156[_0x3a8d5c(0x4fc)][_0x3a8d5c(0x33c)](/[^a-zA-Z]/g,''),_0x2bc1ca(_0x2643e9,_0x508418,_0x4433da,_0x3b3b8d,_0x5a4156,_0x465ae6,_0x9db25b,_0x526217)):_0x5a4156['type']===_0x1db4e3[_0x3a8d5c(0x5d4)]?_0x5a4718['set'](_0x5a4156['name'][_0x3a8d5c(0x33c)](/[^a-zA-Z]/g,''),_0x349e0b(_0x2643e9,_0x508418,_0x4433da[_0x3a8d5c(0x938)],_0x5a4156,_0x465ae6,_0x526217)):_0x5a4718[_0x3a8d5c(0x991)](_0x3e348f(_0x5a4156),await _0x191343(_0x2643e9,_0x508418,_0x4433da,_0x3b3b8d,_0x5a4156,_0x465ae6,_0x9db25b,_0x526217));return _0x5a4718;}function _0x3e348f(_0x340473){const _0x4eeb42=_0xd4b2e;switch(_0x340473[_0x4eeb42(0x747)]){case _0x1db4e3[_0x4eeb42(0x837)]:return'searchOnPerplexity';case _0x1db4e3[_0x4eeb42(0x4e7)]:return _0x4eeb42(0x3c5);case _0x1db4e3[_0x4eeb42(0x556)]:return _0x4eeb42(0x3a8);case _0x1db4e3['Search']:return _0x4eeb42(0x935);case _0x1db4e3['WebScraper']:case _0x1db4e3['WebScraperRaw']:return _0x4eeb42(0x547);case _0x1db4e3[_0x4eeb42(0x544)]:return'writeFile';}throw new Error(_0x4eeb42(0x70d));}async function _0x191343(_0x22a8cb,_0x47e5d0,_0x20793b,_0x522dc7,_0x5e6b55,_0x5095be,_0x45cf8d,_0x10e53d){const _0x466d65=_0xd4b2e;switch(_0x5e6b55[_0x466d65(0x747)]){case _0x1db4e3[_0x466d65(0x837)]:return function(_0x48b85a,_0x4fa40f,_0x2f1d5c,_0x4b8309,_0x291f3e,_0x3db1b6,_0xb902cf){const _0x69793d=_0x466d65,_0xdee43e=_0x69793d(0x62f),_0x19c928={'query':{'type':_0x29f76b[_0x69793d(0x675)][_0x69793d(0x2c5)]}};return _0x1c4f84[_0x69793d(0x19b)]({'jobType':_0x18ce78[_0x69793d(0x22c)],'type':_0x4693e4['LoadSkillFunction'],'jobId':_0x48b85a,'agentId':_0x4fa40f,'threadId':_0x2f1d5c,'traceLevel':_0x532f14[_0x69793d(0x436)],'startTime':Date[_0x69793d(0x702)](),'timestamp':Date['now'](),'status':_0x69793d(0x71a),'function':_0x2ac92a[_0x69793d(0x41d)],'params':_0x19c928,'functionDescription':_0xdee43e}),{'description':_0xdee43e,'params':_0x19c928,'callback':async _0x425753=>{const _0x10ff68=_0x69793d,_0x30c80d=Date[_0x10ff68(0x702)]();try{if(_0xb902cf&&(await _0x1b723a['wait'](0x1),_0xb902cf['emit']({'output':_0x10ff68(0x8b6)+_0x425753?.[_0x10ff68(0x613)]+_0x10ff68(0x81d),'type':'prompt'})),!_0x3db1b6['aiSearchConnector'])throw new Error(_0x10ff68(0x6fb));if('string'!=typeof _0x425753?.['query'])throw new Error(_0x10ff68(0x784));const _0x119869=await _0x3db1b6[_0x10ff68(0x302)][_0x10ff68(0x174)](_0x425753['query'],_0x291f3e);return _0x1c4f84[_0x10ff68(0x19b)]({'jobType':_0x18ce78[_0x10ff68(0x58d)],'type':_0x2ac92a[_0x10ff68(0x41d)],'jobId':_0x48b85a,'agentId':_0x4fa40f,'threadId':_0x2f1d5c,'blockId':_0x4b8309,'traceLevel':_0x532f14['Info'],'startTime':_0x30c80d,'timestamp':Date['now'](),'status':'success','query':_0x425753[_0x10ff68(0x613)],'results':_0x119869}),_0x119869;}catch(_0x582efe){return console['error'](_0x582efe),_0x1c4f84[_0x10ff68(0x19b)]({'jobType':_0x18ce78[_0x10ff68(0x58d)],'type':_0x2ac92a[_0x10ff68(0x41d)],'jobId':_0x48b85a,'blockId':_0x4b8309,'traceLevel':_0x532f14['Info'],'startTime':_0x30c80d,'timestamp':Date['now'](),'status':'error','errorDetails':_0x53ffbb(_0x582efe),'agentId':_0x4fa40f,'threadId':_0x2f1d5c,'query':_0x425753?.[_0x10ff68(0x613)]??'','results':_0x10ff68(0x43b)}),_0x582efe instanceof Error?_0x582efe[_0x10ff68(0x2b6)]:'Error\x20searching';}}};}(_0x22a8cb,_0x47e5d0,_0x20793b['threadId'],_0x5e6b55['id'],_0x45cf8d[_0x466d65(0x3b9)],_0x45cf8d,_0x10e53d);case _0x1db4e3['Code']:return function(_0xce1fc1,_0x52fbc2,_0x122a3f,_0x3ab139,_0x248670){const _0x787fa2=_0x466d65,_0x365495='Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.',_0x1b87da={'code':{'type':_0x29f76b[_0x787fa2(0x675)]['String']}};return _0x1c4f84[_0x787fa2(0x19b)]({'jobType':_0x18ce78[_0x787fa2(0x22c)],'type':_0x4693e4[_0x787fa2(0xa03)],'jobId':_0xce1fc1,'agentId':_0x52fbc2,'threadId':_0x122a3f,'traceLevel':_0x532f14[_0x787fa2(0x436)],'startTime':Date[_0x787fa2(0x702)](),'timestamp':Date[_0x787fa2(0x702)](),'status':_0x787fa2(0x71a),'function':_0x2ac92a[_0x787fa2(0x277)],'params':_0x1b87da,'functionDescription':_0x365495}),{'description':_0x365495,'params':_0x1b87da,'callback':async _0x139ef8=>{const _0x8037a0=_0x787fa2,_0x21e6cd=Date[_0x8037a0(0x702)]();try{if(_0x248670&&(await _0x1b723a[_0x8037a0(0x51b)](0x1),_0x248670[_0x8037a0(0x418)]({'output':'\x0a\x0a`Executing\x20code\x20snippet`\x0a\x0a','type':_0x8037a0(0x59b)})),'string'!=typeof _0x139ef8?.[_0x8037a0(0x12c)])throw new Error(_0x8037a0(0x869));const _0x322201=Function(''+_0x139ef8?.['code'])();let _0x1391fc='';try{_0x1391fc=JSON[_0x8037a0(0x1a2)](_0x322201);}catch{_0x1391fc=_0x322201[_0x8037a0(0x94e)]();}return _0x1c4f84['trace']({'jobType':_0x18ce78[_0x8037a0(0x58d)],'type':_0x2ac92a[_0x8037a0(0x277)],'agentId':_0x52fbc2,'threadId':_0x122a3f,'jobId':_0xce1fc1,'blockId':_0x3ab139,'traceLevel':_0x532f14['Info'],'startTime':_0x21e6cd,'timestamp':Date[_0x8037a0(0x702)](),'status':_0x8037a0(0x71a),'code':_0x139ef8['code'],'result':_0x1391fc}),_0x322201;}catch(_0x3670d8){return console['error'](_0x3670d8),_0x1c4f84[_0x8037a0(0x19b)]({'jobType':_0x18ce78[_0x8037a0(0x58d)],'type':_0x2ac92a[_0x8037a0(0x277)],'jobId':_0xce1fc1,'blockId':_0x3ab139,'traceLevel':_0x532f14['Info'],'startTime':_0x21e6cd,'timestamp':Date[_0x8037a0(0x702)](),'status':'error','errorDetails':_0x53ffbb(_0x3670d8),'agentId':_0x52fbc2,'threadId':_0x122a3f,'code':_0x139ef8?.[_0x8037a0(0x12c)]??'','result':_0x8037a0(0x2d0)}),_0x3670d8 instanceof Error?_0x3670d8['message']:_0x8037a0(0x2d0);}}};}(_0x22a8cb,_0x47e5d0,_0x20793b[_0x466d65(0x938)],_0x5e6b55['id'],_0x10e53d);case _0x1db4e3[_0x466d65(0x556)]:return async function(_0x4e9fb9,_0x32b3c9,_0x1f8a0b,_0x512f01,_0x3e7069,_0x4d47aa,_0x43eb37,_0x512c48){const _0x55b42b=_0x466d65;if(!_0x3e7069[_0x55b42b(0x572)]?.[_0x55b42b(0x491)]||0x0===_0x3e7069[_0x55b42b(0x572)][_0x55b42b(0x491)][_0x55b42b(0x9b4)])throw new Error(_0x55b42b(0x6cb));if(_0x3e7069[_0x55b42b(0x572)]['files'][_0x55b42b(0x9b4)]>0x1)throw new Error(_0x55b42b(0x4a4));const _0x5be3eb=[',',';','\x09','|',':'],_0x241e8f=['\x22','\x27'],_0x2cfae7=await _0x3e7069[_0x55b42b(0x572)][_0x55b42b(0x491)][0x0]['text'](),_0x3dbf51=_0x2cfae7['split']('\x0a')[0x0];let _0x1e8b22=null,_0x127c05=null,_0x1f283e=0x0;for(const _0x4eb297 of _0x5be3eb){const _0x138df5=(_0x3dbf51[_0x55b42b(0x716)](new RegExp('\x5c'+_0x4eb297,'g'))||[])[_0x55b42b(0x9b4)];_0x138df5>_0x1f283e&&(_0x1f283e=_0x138df5,_0x1e8b22=_0x4eb297);}_0x1e8b22||(_0x1e8b22=','),_0x1f283e=0x0;for(const _0x4a191b of _0x241e8f){const _0x677704=(_0x3dbf51['match'](new RegExp('\x5c'+_0x4a191b,'g'))||[])['length'];_0x677704>_0x1f283e&&(_0x1f283e=_0x677704,_0x127c05=_0x4a191b);}_0x127c05||(_0x127c05='\x22');const _0x29091f=_0x55b42b(0x2d2)+_0x3dbf51[_0x55b42b(0x488)](_0x1e8b22)['join'](',\x20'),_0x2821ee={'query':{'type':_0x29f76b[_0x55b42b(0x675)]['String']}};return _0x1c4f84[_0x55b42b(0x19b)]({'jobType':_0x18ce78[_0x55b42b(0x22c)],'type':_0x4693e4[_0x55b42b(0xa03)],'jobId':_0x4e9fb9,'agentId':_0x32b3c9,'threadId':_0x1f8a0b['threadId'],'traceLevel':_0x532f14[_0x55b42b(0x436)],'startTime':Date[_0x55b42b(0x702)](),'timestamp':Date[_0x55b42b(0x702)](),'status':_0x55b42b(0x71a),'function':_0x2ac92a[_0x55b42b(0x556)],'params':_0x2821ee,'functionDescription':_0x29091f}),{'description':_0x29091f,'params':_0x2821ee,'callback':async _0xe6e00=>{const _0x2738e4=_0x55b42b,_0x2ac0da=Date['now']();try{if(_0x512c48&&(await _0x1b723a[_0x2738e4(0x51b)](0x1),_0x512c48['emit']({'output':_0x2738e4(0x2c0),'type':'prompt'})),!_0x43eb37[_0x2738e4(0x16c)])throw new Error('Query\x20file\x20connector\x20not\x20set');if(_0x2738e4(0x8e6)!=typeof _0xe6e00?.[_0x2738e4(0x613)])throw new Error(_0x2738e4(0x784));if(!_0xe6e00[_0x2738e4(0x613)][_0x2738e4(0x29c)](_0x2738e4(0x626)))throw new Error('Query\x20must\x20refer\x20to\x20the\x20file\x20table');const _0x18ca56=await _0x43eb37[_0x2738e4(0x16c)]['executeQuery'](_0x2cfae7,_0xe6e00[_0x2738e4(0x613)],{'headers':!0x0,'quote':_0x127c05,'separator':_0x1e8b22});if(_0x1c4f84['trace']({'jobType':_0x18ce78['Skill'],'type':_0x2ac92a[_0x2738e4(0x556)],'jobId':_0x4e9fb9,'agentId':_0x32b3c9,'threadId':_0x1f8a0b['threadId'],'blockId':_0x3e7069['id'],'traceLevel':_0x532f14[_0x2738e4(0x436)],'startTime':_0x2ac0da,'timestamp':Date[_0x2738e4(0x702)](),'status':_0x2738e4(0x71a),'query':_0xe6e00['query'],'results':_0x18ca56['substring'](0x0,0x3e8)}),_0x3e7069[_0x2738e4(0x9dd)]?.[_0x2738e4(0x403)](_0x43adb4=>_0x43adb4[_0x2738e4(0x747)]===_0x10df5e['File'])){const _0x2ef1e2=JSON['parse'](_0x18ca56);let _0x43fbc1='';if(_0x2ef1e2[_0x2738e4(0x9b4)]>0x0){const _0x4ea1d5=Object[_0x2738e4(0x31f)](_0x2ef1e2[0x0]);_0x43fbc1=_0x4ea1d5[_0x2738e4(0x7da)](_0x49b61c=>'\x22'+_0x49b61c+'\x22')[_0x2738e4(0x85e)](',')+'\x0a';for(const _0x4f5a04 of _0x2ef1e2)_0x43fbc1+=_0x4ea1d5[_0x2738e4(0x7da)](_0x230c3d=>'\x22'+_0x4f5a04[_0x230c3d]+'\x22')['join'](',')+'\x0a';}const _0x17afc7=new File([_0x43fbc1],_0x2738e4(0x93e),{'type':_0x2738e4(0x2fc)});await _0x48a68a(_0x4e9fb9,[_0x17afc7],_0x1f8a0b,_0x512f01,_0x3e7069,_0x4d47aa,_0x43eb37,_0x512c48);}return _0x18ca56[_0x2738e4(0x199)](0x0,0x3e8);}catch(_0x49a504){return console[_0x2738e4(0x940)](_0x49a504),_0x1c4f84['trace']({'jobType':_0x18ce78[_0x2738e4(0x58d)],'type':_0x2ac92a[_0x2738e4(0x556)],'jobId':_0x4e9fb9,'blockId':_0x3e7069['id'],'traceLevel':_0x532f14[_0x2738e4(0x436)],'startTime':_0x2ac0da,'timestamp':Date[_0x2738e4(0x702)](),'status':_0x2738e4(0x940),'errorDetails':_0x53ffbb(_0x49a504),'agentId':_0x32b3c9,'threadId':_0x1f8a0b[_0x2738e4(0x938)],'query':_0xe6e00?.[_0x2738e4(0x613)]??'','results':_0x2738e4(0x43b)}),_0x49a504 instanceof Error?_0x49a504[_0x2738e4(0x2b6)]:_0x2738e4(0x7a1);}}};}(_0x22a8cb,_0x47e5d0,_0x20793b,_0x522dc7,_0x5e6b55,_0x5095be,_0x45cf8d,_0x10e53d);case _0x1db4e3[_0x466d65(0x155)]:return function(_0x3dca44,_0x40789b,_0x3ac663,_0x2e6779,_0x450bef,_0x230612,_0x1867f1){const _0x4b4be6=_0x466d65,_0x4809a4=_0x4b4be6(0x955),_0x4393e9={'query':{'type':_0x29f76b[_0x4b4be6(0x675)][_0x4b4be6(0x2c5)]}};return _0x1c4f84[_0x4b4be6(0x19b)]({'jobType':_0x18ce78['JobContext'],'type':_0x4693e4[_0x4b4be6(0xa03)],'jobId':_0x3dca44,'agentId':_0x40789b,'threadId':_0x3ac663,'traceLevel':_0x532f14[_0x4b4be6(0x436)],'startTime':Date[_0x4b4be6(0x702)](),'timestamp':Date[_0x4b4be6(0x702)](),'status':_0x4b4be6(0x71a),'function':_0x2ac92a[_0x4b4be6(0x795)],'params':_0x4393e9,'functionDescription':_0x4809a4}),{'description':_0x4809a4,'params':_0x4393e9,'callback':async _0x5653a1=>{const _0x4f035c=_0x4b4be6,_0x272534=Date['now']();try{if(_0x1867f1&&(await _0x1b723a[_0x4f035c(0x51b)](0x1),_0x1867f1[_0x4f035c(0x418)]({'output':_0x4f035c(0x8cc)+_0x5653a1?.[_0x4f035c(0x613)]+_0x4f035c(0x81d),'type':_0x4f035c(0x59b)})),!_0x230612['searchConnector'])throw new Error(_0x4f035c(0x3e5));if(_0x4f035c(0x8e6)!=typeof _0x5653a1?.['query'])throw new Error(_0x4f035c(0x784));const _0x4da633=await _0x230612['searchConnector'][_0x4f035c(0x174)](_0x5653a1[_0x4f035c(0x613)],_0x450bef,_0x26a0e8[_0x4f035c(0x7ac)][_0x4f035c(0x597)]);let _0x40ae1a='';for(const _0x43e32f of _0x4da633)_0x40ae1a+=_0x43e32f[_0x4f035c(0x66c)]+'\x20-\x20'+_0x43e32f[_0x4f035c(0xa02)]+'\x0a'+_0x43e32f['snippet']+'\x0a\x0a';return _0x1c4f84[_0x4f035c(0x19b)]({'jobType':_0x18ce78[_0x4f035c(0x58d)],'type':_0x2ac92a[_0x4f035c(0x795)],'jobId':_0x3dca44,'agentId':_0x40789b,'threadId':_0x3ac663,'blockId':_0x2e6779,'traceLevel':_0x532f14['Info'],'startTime':_0x272534,'timestamp':Date['now'](),'status':_0x4f035c(0x71a),'query':_0x5653a1[_0x4f035c(0x613)],'results':_0x40ae1a}),_0x40ae1a;}catch(_0x3df4af){return console[_0x4f035c(0x940)](_0x3df4af),_0x1c4f84[_0x4f035c(0x19b)]({'jobType':_0x18ce78[_0x4f035c(0x58d)],'type':_0x2ac92a[_0x4f035c(0x795)],'jobId':_0x3dca44,'blockId':_0x2e6779,'traceLevel':_0x532f14[_0x4f035c(0x436)],'startTime':_0x272534,'timestamp':Date['now'](),'status':_0x4f035c(0x940),'errorDetails':_0x53ffbb(_0x3df4af),'agentId':_0x40789b,'threadId':_0x3ac663,'query':_0x5653a1?.['query']??'','results':'Error\x20searching'}),_0x3df4af instanceof Error?_0x3df4af[_0x4f035c(0x2b6)]:'Error\x20searching';}}};}(_0x22a8cb,_0x47e5d0,_0x20793b[_0x466d65(0x938)],_0x5e6b55['id'],_0x45cf8d[_0x466d65(0x9eb)],_0x45cf8d,_0x10e53d);case _0x1db4e3[_0x466d65(0xa1c)]:return _0xe752f0(_0x22a8cb,_0x47e5d0,_0x20793b[_0x466d65(0x938)],_0x5e6b55['id'],_0x10e53d);case _0x1db4e3[_0x466d65(0x638)]:return _0xe752f0(_0x22a8cb,_0x47e5d0,_0x20793b['threadId'],_0x5e6b55['id'],_0x10e53d,!0x1);case _0x1db4e3[_0x466d65(0x544)]:return async function(_0x2c7963,_0x566eeb,_0x2dd3b7,_0x4a40c5,_0x16ad82,_0x2e9ec1,_0x191119,_0x3638d2){const _0x24c2dc=_0x466d65,_0x237d32=_0x24c2dc(0x8e4),_0x7b9936={'text':{'type':_0x29f76b[_0x24c2dc(0x675)][_0x24c2dc(0x2c5)]}};return _0x1c4f84['trace']({'jobType':_0x18ce78[_0x24c2dc(0x22c)],'type':_0x4693e4[_0x24c2dc(0xa03)],'jobId':_0x2c7963,'agentId':_0x566eeb,'threadId':_0x2dd3b7[_0x24c2dc(0x938)],'traceLevel':_0x532f14['Info'],'startTime':Date[_0x24c2dc(0x702)](),'timestamp':Date['now'](),'status':_0x24c2dc(0x71a),'function':_0x2ac92a[_0x24c2dc(0x544)],'params':_0x7b9936,'functionDescription':_0x237d32}),{'description':_0x237d32,'params':_0x7b9936,'callback':async _0x126c52=>{const _0x2ee0d1=_0x24c2dc,_0x2ca45e=Date[_0x2ee0d1(0x702)]();try{if(_0x3638d2&&(await _0x1b723a[_0x2ee0d1(0x51b)](0x1),_0x3638d2['emit']({'output':'\x0a\x0a`Writing\x20file`\x0a\x0a','type':_0x2ee0d1(0x59b)})),'string'!=typeof _0x126c52?.[_0x2ee0d1(0x7a9)])throw new Error(_0x2ee0d1(0x2c4));if(_0x1c4f84[_0x2ee0d1(0x19b)]({'jobType':_0x18ce78[_0x2ee0d1(0x58d)],'type':_0x2ac92a[_0x2ee0d1(0x544)],'jobId':_0x2c7963,'agentId':_0x566eeb,'threadId':_0x2dd3b7['threadId'],'blockId':_0x16ad82['id'],'traceLevel':_0x532f14['Info'],'startTime':_0x2ca45e,'timestamp':Date[_0x2ee0d1(0x702)](),'status':_0x2ee0d1(0x71a),'content':_0x126c52[_0x2ee0d1(0x7a9)]}),_0x16ad82['links']?.[_0x2ee0d1(0x403)](_0x4ffa7b=>_0x4ffa7b[_0x2ee0d1(0x747)]===_0x10df5e['File'])){const _0x345d5b=new File([_0x126c52[_0x2ee0d1(0x7a9)]],_0x2ee0d1(0x370),{'type':_0x2ee0d1(0x9ab)});await _0x48a68a(_0x2c7963,[_0x345d5b],_0x2dd3b7,_0x4a40c5,_0x16ad82,_0x2e9ec1,_0x191119,_0x3638d2);}return'Done';}catch(_0x3e43a3){return console[_0x2ee0d1(0x940)](_0x3e43a3),_0x1c4f84[_0x2ee0d1(0x19b)]({'jobType':_0x18ce78[_0x2ee0d1(0x58d)],'type':_0x2ac92a[_0x2ee0d1(0x544)],'jobId':_0x2c7963,'blockId':_0x16ad82['id'],'traceLevel':_0x532f14[_0x2ee0d1(0x436)],'startTime':_0x2ca45e,'timestamp':Date[_0x2ee0d1(0x702)](),'status':_0x2ee0d1(0x940),'errorDetails':_0x53ffbb(_0x3e43a3),'agentId':_0x566eeb,'threadId':_0x2dd3b7[_0x2ee0d1(0x938)],'content':_0x2ee0d1(0x8e6)==typeof _0x126c52?.[_0x2ee0d1(0x7a9)]?_0x126c52[_0x2ee0d1(0x7a9)]:''}),_0x3e43a3 instanceof Error?_0x3e43a3[_0x2ee0d1(0x2b6)]:_0x2ee0d1(0x7a1);}}};}(_0x22a8cb,_0x47e5d0,_0x20793b,_0x522dc7,_0x5e6b55,_0x5095be,_0x45cf8d,_0x10e53d);}throw new Error(_0x466d65(0x70d));}function _0x53ffbb(_0x15e657){const _0x4bce86=_0xd4b2e;try{return JSON[_0x4bce86(0x1a2)](_0x15e657);}catch(_0x30c304){return _0x15e657 instanceof Error?_0x15e657[_0x4bce86(0x94e)]():_0x4bce86(0x87b);}}async function _0x2135c8(_0x23294f,_0x1c2c52,_0x5e1d2a,_0x2b61f6,_0x469d31,_0x217691,_0x532a87,_0x3f42ea,_0x4f8955){const _0x4130c1=_0xd4b2e;if(_0x217691[_0x4130c1(0x572)]||(_0x217691[_0x4130c1(0x572)]={}),_0x1c2c52===_0x10df5e[_0x4130c1(0x217)]&&_0x4130c1(0x8e6)==typeof _0x5e1d2a&&(_0x217691[_0x4130c1(0x572)][_0x4130c1(0x59b)]=_0x5e1d2a),_0x217691[_0x4130c1(0x3af)]=_0x217691[_0x4130c1(0x3af)]?_0x217691[_0x4130c1(0x3af)]+0x1:0x1,_0x27d99c(_0x217691,_0x532a87)>_0x217691[_0x4130c1(0x3af)])return;if(_0x98a765[_0x4130c1(0x68f)](_0x4130c1(0x674)+_0x217691[_0x4130c1(0x4fc)],_0x217691[_0x4130c1(0x3af)]),!_0x217691[_0x4130c1(0x572)][_0x4130c1(0x59b)])throw new Error(_0x4130c1(0x1ca)+_0x217691['name']);const _0x3bcdd3=_0x3f42ea[_0x4130c1(0x838)]['find'](_0x44d1ee=>_0x44d1ee['id']===_0x217691['modelId']);if(!_0x3bcdd3)throw new Error('Model\x20not\x20found');if(!_0x3f42ea[_0x4130c1(0x88c)][_0x4130c1(0x91c)](_0x59597f=>_0x59597f[_0x4130c1(0x220)]()===_0x3bcdd3[_0x4130c1(0x880)]))throw new Error(_0x4130c1(0x748));_0x4f8955&&_0x4f8955[_0x4130c1(0x418)]({'output':'\x0a\x0a`Executing\x20agent\x20'+_0x217691[_0x4130c1(0x4fc)]+_0x4130c1(0x81d),'type':_0x4130c1(0x59b)});const _0xb555ff=Date[_0x4130c1(0x702)](),_0x209c00=(0x0,_0x1cf016['v4'])(),_0x2e55d6=_0x4f8955?await async function(_0x432734,_0xfdc68b,_0x14b127,_0x5179d8,_0x48a99a,_0x52ada7,_0x58c94c,_0x3a4adb){const _0x59c392=_0x4130c1,_0x953ad8=_0x3a4adb[_0x59c392(0x838)][_0x59c392(0x91c)](_0x3ad991=>_0x3ad991['id']===_0x48a99a[_0x59c392(0x9f1)]);if(!_0x953ad8)throw new Error('Model\x20not\x20found');const _0x3a1b4a=_0x3a4adb[_0x59c392(0x88c)]['find'](_0x5c8777=>_0x5c8777[_0x59c392(0x220)]()===_0x953ad8['engineType']);if(!_0x3a1b4a)throw new Error('No\x20connector\x20found\x20for\x20model');if(!_0x48a99a[_0x59c392(0x572)]||!_0x48a99a[_0x59c392(0x572)][_0x59c392(0x59b)])throw new Error(_0x59c392(0x149));const _0xc267aa={'type':'prompt','output':''};for await(const _0xbddd5e of _0x3a1b4a['processJobStream']({'type':_0x14b127[_0x59c392(0x747)],'prompt':_0x11e164(_0x48a99a['accumulated'][_0x59c392(0x59b)],_0x48a99a),'instructions':_0x49e662(_0x14b127[_0x59c392(0x336)]??'',_0x48a99a,_0x953ad8),'grammar':_0x48a99a[_0x59c392(0x8a9)],'temperature':_0x48a99a[_0x59c392(0x489)],'maxTokens':_0x48a99a[_0x59c392(0x686)],'history':_0x14b127[_0x59c392(0x45b)],'functions':await _0x2d9b2d(_0x432734,_0xfdc68b,_0x14b127,_0x5179d8,_0x48a99a,_0x52ada7,_0x3a4adb,_0x58c94c),'threadId':_0x14b127[_0x59c392(0x938)]},{'model':_0x953ad8,'sequences':0x2}))_0x48a99a[_0x59c392(0x9dd)]&&_0x48a99a['links'][_0x59c392(0x403)](_0x2a86b3=>{const _0x17cd1b=_0x59c392,_0x3401cc=_0x52ada7[_0x17cd1b(0x91c)](_0x239210=>_0x239210[_0x17cd1b(0x969)]===_0x2a86b3[_0x17cd1b(0x969)]);return!!_0x3401cc&&_0x2a86b3[_0x17cd1b(0x747)]===_0x10df5e[_0x17cd1b(0x217)]&&_0x3401cc[_0x17cd1b(0x747)]===_0x1db4e3[_0x17cd1b(0xa01)];})&&_0x58c94c[_0x59c392(0x418)](_0xbddd5e),_0x59c392(0x8e6)==typeof _0xc267aa[_0x59c392(0x1ec)]&&_0x59c392(0x8e6)==typeof _0xbddd5e[_0x59c392(0x1ec)]&&(_0xc267aa[_0x59c392(0x1ec)]+=_0xbddd5e[_0x59c392(0x1ec)]),_0xc267aa[_0x59c392(0x2d3)]=_0xbddd5e[_0x59c392(0x2d3)],_0xc267aa[_0x59c392(0x368)]=_0xbddd5e[_0x59c392(0x368)];return _0xc267aa;}(_0x23294f,_0x209c00,_0x2b61f6,_0x469d31,_0x217691,_0x532a87,_0x4f8955,_0x3f42ea):await async function(_0xdeddd7,_0x8488ee,_0x5b2f6c,_0x1ade6e,_0x5d68da,_0x66173e,_0x33ab04){const _0x1fe194=_0x4130c1,_0x45a51a=_0x33ab04[_0x1fe194(0x838)][_0x1fe194(0x91c)](_0x544750=>_0x544750['id']===_0x5d68da[_0x1fe194(0x9f1)]);if(!_0x45a51a)throw new Error(_0x1fe194(0x55d));const _0x1a3a83=_0x33ab04[_0x1fe194(0x88c)]['find'](_0x3ab2a6=>_0x3ab2a6[_0x1fe194(0x220)]()===_0x45a51a[_0x1fe194(0x880)]);if(!_0x1a3a83)throw new Error(_0x1fe194(0x748));if(!_0x5d68da[_0x1fe194(0x572)]||!_0x5d68da['accumulated']['prompt'])throw new Error(_0x1fe194(0x149));return _0x1a3a83[_0x1fe194(0x300)]({'type':_0x1fe194(0x59b),'prompt':_0x11e164(_0x5d68da[_0x1fe194(0x572)][_0x1fe194(0x59b)],_0x5d68da),'instructions':_0x49e662(_0x5b2f6c[_0x1fe194(0x336)]??'',_0x5d68da,_0x45a51a),'grammar':_0x5d68da['grammar'],'temperature':_0x5d68da[_0x1fe194(0x489)],'maxTokens':_0x5d68da[_0x1fe194(0x686)],'history':_0x5b2f6c['history'],'functions':await _0x2d9b2d(_0xdeddd7,_0x8488ee,_0x5b2f6c,_0x1ade6e,_0x5d68da,_0x66173e,_0x33ab04),'threadId':_0x5b2f6c['threadId']},{'model':_0x45a51a,'sequences':0x2});}(_0x23294f,_0x209c00,_0x2b61f6,_0x469d31,_0x217691,_0x532a87,_0x3f42ea);if(_0x4130c1(0x8e6)!=typeof _0x2e55d6[_0x4130c1(0x1ec)])throw new Error(_0x4130c1(0x391));_0x469d31['inputTokens']+=_0x2e55d6[_0x4130c1(0x2d3)]??0x0,_0x469d31[_0x4130c1(0x368)]+=_0x2e55d6[_0x4130c1(0x368)]??0x0,_0x1c4f84[_0x4130c1(0x19b)]({'jobType':_0x18ce78[_0x4130c1(0x5ee)],'type':_0x5a75f0[_0x4130c1(0x4fa)],'jobId':_0x23294f,'agentId':_0x209c00,'threadId':_0x2b61f6[_0x4130c1(0x938)],'traceLevel':_0x532f14['Info'],'startTime':_0xb555ff,'timestamp':Date[_0x4130c1(0x702)](),'blockId':_0x217691['id'],'status':'success','output':_0x2e55d6[_0x4130c1(0x1ec)],'prompt':_0x217691[_0x4130c1(0x572)][_0x4130c1(0x59b)],'agentName':_0x217691['name'],'history':[],'instructions':''+_0x217691[_0x4130c1(0x336)]+(_0x2b61f6[_0x4130c1(0x336)]??''),'ragContext':_0x2e55d6[_0x4130c1(0x30f)]??[],'inputTokens':_0x2e55d6['inputTokens']??0x0,'outputTokens':_0x2e55d6['outputTokens']??0x0}),_0x3ed2f9(_0x2e55d6['output'],_0x217691,_0x532a87),await _0x48a68a(_0x23294f,_0x2e55d6[_0x4130c1(0x1ec)],_0x2b61f6,_0x469d31,_0x217691,_0x532a87,_0x3f42ea,_0x4f8955);}function _0x11e164(_0x370852,_0x57ad22){const _0x3905ca=_0xd4b2e;if(!_0x57ad22[_0x3905ca(0x572)]||!_0x57ad22[_0x3905ca(0x572)]['context'])return _0x370852;if(_0x57ad22[_0x3905ca(0x572)][_0x3905ca(0x30f)])for(const _0x2037ed of Object[_0x3905ca(0x31f)](_0x57ad22[_0x3905ca(0x572)][_0x3905ca(0x30f)])){const _0x11729c=_0x57ad22['accumulated'][_0x3905ca(0x30f)][_0x2037ed];_0x370852=_0x11729c instanceof Array?_0x3905ca(0x22a)+_0x2037ed+_0x3905ca(0x2bd)+_0x11729c[_0x3905ca(0x7da)](_0x15c0e1=>'From\x20'+_0x15c0e1[_0x3905ca(0x871)]+':\x20'+_0x15c0e1[_0x3905ca(0x580)])[_0x3905ca(0x85e)]('\x0a\x0a')+'\x0a\x0a'+_0x370852:_0x3905ca(0x44b)+_0x2037ed+':\x20'+_0x11729c+'\x0a\x0a'+_0x370852;}return _0x370852;}function _0x49e662(_0x35caf3,_0x238063,_0x59e8ba){const _0x2160cd=_0xd4b2e;let _0x6fa68='';return _0x59e8ba['knowledgeCutoffDate']&&''!==_0x59e8ba[_0x2160cd(0x705)]&&(_0x6fa68=_0x2160cd(0x7d3)+_0x59e8ba[_0x2160cd(0x705)]+'\x0a\x0a'),_0x6fa68=_0x6fa68+_0x2160cd(0x5b4)+new Date()[_0x2160cd(0x8e1)](void 0x0,{'weekday':'long','year':_0x2160cd(0x1f3),'month':_0x2160cd(0x4f9),'day':'numeric'})+'\x0a\x0a',''+_0x6fa68+_0x238063[_0x2160cd(0x336)]+_0x35caf3;}function _0x2b15b4(_0x3ef2dd,_0x5bc97c,_0x5c215d){const _0x1a32b4=_0xd4b2e;_0x5c215d[_0x1a32b4(0x572)]||(_0x5c215d['accumulated']={}),_0x5c215d[_0x1a32b4(0x572)]['context']||(_0x5c215d[_0x1a32b4(0x572)][_0x1a32b4(0x30f)]={});const _0x5ba757=_0x5c215d['contextInputVariable']?.['split'](',');_0x5ba757&&_0x5ba757['includes'](_0x3ef2dd)&&(_0x5c215d[_0x1a32b4(0x572)]['context'][_0x3ef2dd]=_0x5bc97c);}function _0x5cc107(_0x25c829,_0x3a0530,_0x1cda2d,_0x1ae786){const _0x1f5639=_0xd4b2e;_0x25c829!==_0x10df5e[_0x1f5639(0x977)]&&_0x25c829!==_0x10df5e[_0x1f5639(0x927)]||(_0x1ae786[_0x1f5639(0x572)]||(_0x1ae786[_0x1f5639(0x572)]={}),_0x1f5639(0x8e6)==typeof _0x1cda2d?(_0x1ae786[_0x1f5639(0x572)][_0x1f5639(0x30f)]||(_0x1ae786['accumulated']['context']={}),_0x1ae786[_0x1f5639(0x572)][_0x1f5639(0x30f)][_0x3a0530]=_0x1cda2d):_0x1ae786[_0x1f5639(0x572)]['file']=_0x1cda2d);}async function _0x832d2f(_0x145b68,_0x4ab41a,_0x12c6a9,_0x2920e8,_0x4982f6,_0x9a83cf,_0x527f88,_0x3e676e){const _0x53b382=function(_0x39a9a2,_0x2912a7){const _0xebe382=a0_0x2e29,_0x36b16a=[];for(let _0x5ad73d=0x0;_0x5ad73d<_0x39a9a2[_0xebe382(0x9b4)];_0x5ad73d+=_0x2912a7['attributes']['size']){let _0x5e8be2=_0x5ad73d-_0x2912a7[_0xebe382(0x7c3)][_0xebe382(0x416)];_0x5e8be2<0x0&&(_0x5e8be2=0x0);let _0x6b21e3=_0x5ad73d+_0x2912a7[_0xebe382(0x7c3)][_0xebe382(0x882)]+_0x2912a7[_0xebe382(0x7c3)][_0xebe382(0x416)];_0x6b21e3>_0x39a9a2[_0xebe382(0x9b4)]&&(_0x6b21e3=_0x39a9a2[_0xebe382(0x9b4)]),length||(length=_0x5ad73d+_0x2912a7[_0xebe382(0x7c3)][_0xebe382(0x882)],length>_0x39a9a2[_0xebe382(0x9b4)]&&(length=_0x39a9a2[_0xebe382(0x9b4)])),_0x36b16a['push'](_0x39a9a2[_0xebe382(0x199)](_0x5e8be2,_0x6b21e3));}return _0x36b16a;}(_0x4ab41a,_0x4982f6);await _0x48a68a(_0x145b68,_0x53b382,_0x12c6a9,_0x2920e8,_0x4982f6,_0x9a83cf,_0x527f88,_0x3e676e);}function _0x3b2682(_0x3e8ea4,_0xababb9,_0x4e4dbf){const _0xd27bbc=_0xd4b2e;_0x4e4dbf[_0xd27bbc(0x572)]||(_0x4e4dbf[_0xd27bbc(0x572)]={}),_0x4e4dbf[_0xd27bbc(0x572)]['context']||(_0x4e4dbf['accumulated'][_0xd27bbc(0x30f)]={}),_0x4e4dbf[_0xd27bbc(0x572)][_0xd27bbc(0x30f)][_0x3e8ea4]=_0xababb9;}async function _0x10b6ec(_0x2e5931,_0x218896,_0x464de7,_0x49a7b1,_0x2017d7,_0x2de606,_0x151f90,_0x33d4ce){const _0xcaf00b=_0xd4b2e;if(_0x2017d7[_0xcaf00b(0x572)]||(_0x2017d7[_0xcaf00b(0x572)]={}),_0x2017d7[_0xcaf00b(0x572)]['queries']||(_0x2017d7[_0xcaf00b(0x572)][_0xcaf00b(0x1df)]=[]),_0x218896 instanceof Array?_0x2017d7['accumulated'][_0xcaf00b(0x1df)]['push'](..._0x218896):_0x2017d7[_0xcaf00b(0x572)][_0xcaf00b(0x1df)]['push'](_0x218896),_0x2017d7['timesCalled']=_0x2017d7['timesCalled']?_0x2017d7[_0xcaf00b(0x3af)]+0x1:0x1,_0x27d99c(_0x2017d7,_0x2de606)>_0x2017d7[_0xcaf00b(0x3af)])return;if(0x0===_0x2017d7['accumulated'][_0xcaf00b(0x1df)]['length'])throw new Error(_0xcaf00b(0x8c8));let _0x217335=[];const _0x11d333=Date['now']();try{let _0x46bc52=0x0,_0x21625e=0x0;for(const _0x569906 of _0x2017d7[_0xcaf00b(0x572)][_0xcaf00b(0x1df)]){const _0x2d6b0d=_0x2017d7[_0xcaf00b(0x20a)]['find'](_0x4209c8=>_0x4209c8[_0xcaf00b(0x747)]===_0xc0f671[_0xcaf00b(0x236)]),_0x6fe945=await _0x3eabb6(_0x2e5931,_0x464de7[_0xcaf00b(0x938)],_0x569906,_0x2d6b0d,_0x2017d7[_0xcaf00b(0x20a)],_0x151f90);_0x217335=Array[_0xcaf00b(0x35c)](new Set([..._0x217335,..._0x6fe945['context']])),_0x46bc52+=_0x6fe945[_0xcaf00b(0x2d3)]??0x0,_0x21625e+=_0x6fe945[_0xcaf00b(0x368)]??0x0;}_0x49a7b1[_0xcaf00b(0x2d3)]+=_0x46bc52,_0x49a7b1['outputTokens']+=_0x21625e,_0x49a7b1[_0xcaf00b(0x30f)]=Array[_0xcaf00b(0x35c)](new Set([..._0x49a7b1[_0xcaf00b(0x30f)],..._0x217335])),_0x1c4f84[_0xcaf00b(0x19b)]({'jobType':_0x18ce78['Workflow'],'type':_0x5a75f0['DataCollection'],'jobId':_0x2e5931,'threadId':_0x464de7[_0xcaf00b(0x938)],'traceLevel':_0x532f14[_0xcaf00b(0x436)],'startTime':_0x11d333,'timestamp':Date['now'](),'blockId':_0x2017d7['id'],'status':_0xcaf00b(0x71a),'queries':_0x2017d7[_0xcaf00b(0x572)]['queries'],'context':_0x217335,'inputTokens':_0x46bc52,'outputTokens':_0x21625e});}catch(_0x2fd541){console[_0xcaf00b(0x940)](_0x2fd541),_0x1c4f84[_0xcaf00b(0x19b)]({'jobType':_0x18ce78['Workflow'],'type':_0x5a75f0[_0xcaf00b(0x384)],'jobId':_0x2e5931,'threadId':_0x464de7[_0xcaf00b(0x938)],'traceLevel':_0x532f14[_0xcaf00b(0x436)],'startTime':_0x11d333,'timestamp':Date['now'](),'blockId':_0x2017d7['id'],'status':_0xcaf00b(0x940),'queries':_0x2017d7[_0xcaf00b(0x572)][_0xcaf00b(0x1df)],'context':[],'inputTokens':0x0,'outputTokens':0x0});}_0x3ed2f9(_0x217335,_0x2017d7,_0x2de606),await _0x48a68a(_0x2e5931,'',_0x464de7,_0x49a7b1,_0x2017d7,_0x2de606,_0x151f90,_0x33d4ce);}async function _0x272e76(_0x4d8b59,_0x2cd0ff,_0x2c16af,_0x2cecaf,_0x337b69,_0x5a7137,_0x402bde,_0x3c2e4f){const _0x160dbd=_0xd4b2e,_0x322655=await _0x402bde['nlpLibraryConnector'][_0x160dbd(0x1c7)](_0x2cd0ff);await _0x48a68a(_0x4d8b59,_0x322655,_0x2c16af,_0x2cecaf,_0x337b69,_0x5a7137,_0x402bde,_0x3c2e4f);}async function _0x50b220(_0x328969,_0x4c5a20,_0x2e6b2c,_0x1d9cd5,_0xc97e70,_0x2bd06c,_0x415047,_0x1b606b){const _0x1a0c67=function(_0x48c996,_0x476005){const _0x2ddc75=a0_0x2e29,_0xb9f01b=[],_0x104d46=_0x48c996['split']('\x20');let _0x2fa9a5='',_0x1c4cdb=0x0,_0x3ed13f=0x0,_0x3aa689=0x0;for(const _0x56d731 of _0x104d46){if(_0x2fa9a5[_0x2ddc75(0x9b4)]+_0x56d731[_0x2ddc75(0x9b4)]>_0x476005[_0x2ddc75(0x7c3)][_0x2ddc75(0x882)]){let _0x1629c5=_0x1c4cdb,_0xfaa7e2='';for(;_0x1629c5>=0x0&&_0xfaa7e2[_0x2ddc75(0x9b4)]+_0x104d46[_0x1629c5]['length']<_0x476005['attributes'][_0x2ddc75(0x416)];)_0xfaa7e2=_0x104d46[_0x1629c5]+'\x20'+_0xfaa7e2,_0x1629c5--;let _0x16975c=_0x3ed13f,_0x3fa762='';for(;_0x16975c<_0x104d46[_0x2ddc75(0x9b4)]&&_0x3fa762['length']+_0x104d46[_0x16975c][_0x2ddc75(0x9b4)]<_0x476005[_0x2ddc75(0x7c3)]['overlap'];)_0x3fa762+=_0x104d46[_0x16975c]+'\x20',_0x16975c++;_0x2fa9a5=_0xfaa7e2+_0x2fa9a5+_0x3fa762,_0xb9f01b[_0x2ddc75(0x55a)](_0x2fa9a5['trim']()),_0x2fa9a5='',_0x1c4cdb=_0x3ed13f;}_0x2fa9a5+=_0x56d731+'\x20',_0x3ed13f++,_0x3aa689+=_0x56d731[_0x2ddc75(0x9b4)]+0x1;}if(_0x2fa9a5[_0x2ddc75(0x9b4)]>0x0){let _0x5dbc70=_0x1c4cdb,_0x3e8c81='';for(;_0x5dbc70>=0x0&&_0x3e8c81['length']+_0x104d46[_0x5dbc70]['length']<_0x476005[_0x2ddc75(0x7c3)][_0x2ddc75(0x416)];)_0x3e8c81=_0x104d46[_0x5dbc70]+'\x20'+_0x3e8c81,_0x5dbc70--;_0x2fa9a5=_0x3e8c81+_0x2fa9a5,_0xb9f01b[_0x2ddc75(0x55a)](_0x2fa9a5[_0x2ddc75(0x407)]());}return _0xb9f01b;}(_0x4c5a20,_0xc97e70);await _0x48a68a(_0x328969,_0x1a0c67,_0x2e6b2c,_0x1d9cd5,_0xc97e70,_0x2bd06c,_0x415047,_0x1b606b);}function _0x3ed2f9(_0xe6e589,_0x3bd34c,_0x4d8709,_0x357946){const _0x2a9b57=_0xd4b2e;if(_0x3bd34c[_0x2a9b57(0x9dd)])for(const _0x3c1787 of _0x3bd34c[_0x2a9b57(0x9dd)]){if(_0x3c1787[_0x2a9b57(0x747)]!==_0x10df5e[_0x2a9b57(0x977)])continue;const _0x4b9e1b=_0x4d8709[_0x2a9b57(0x91c)](_0x4e03a1=>_0x4e03a1['uid']===_0x3c1787['uid']);if(!_0x4b9e1b)continue;let _0x1752eb=_0x3bd34c['id'];switch(_0x357946?_0x1752eb=_0x357946:(_0x3bd34c[_0x2a9b57(0x747)]===_0x1db4e3['DataCollection']&&(_0x1752eb=_0x3bd34c[_0x2a9b57(0x4fc)]),_0x3bd34c[_0x2a9b57(0x747)]!==_0x1db4e3[_0x2a9b57(0x3e3)]&&_0x3bd34c[_0x2a9b57(0x747)]!==_0x1db4e3['AgentSkill']&&_0x3bd34c['type']!==_0x1db4e3[_0x2a9b57(0x5d4)]||(_0x1752eb=_0x3bd34c[_0x2a9b57(0x8ad)]??_0x3bd34c[_0x2a9b57(0x4fc)])),_0x4b9e1b['type']){case _0x1db4e3[_0x2a9b57(0x3e3)]:_0x98a765['forceLog'](_0x2a9b57(0x63b),_0x4b9e1b[_0x2a9b57(0x4fc)],_0x1752eb),_0x4b9e1b['accumulated']||(_0x4b9e1b[_0x2a9b57(0x572)]={}),_0x4b9e1b['accumulated']['context']||(_0x4b9e1b['accumulated'][_0x2a9b57(0x30f)]={});const _0x352b1e=_0x4b9e1b[_0x2a9b57(0x2e7)]?.[_0x2a9b57(0x488)](',');if(!(_0x352b1e&&_0x352b1e['includes'](_0x1752eb)||_0x2a9b57(0x1c0)===_0x1752eb))return;_0x4b9e1b[_0x2a9b57(0x572)][_0x2a9b57(0x30f)][_0x1752eb]=_0xe6e589;break;case _0x1db4e3[_0x2a9b57(0x3ed)]:_0x98a765[_0x2a9b57(0x68f)](_0x2a9b57(0x125),_0x4b9e1b[_0x2a9b57(0x4fc)],_0x1752eb),_0x2b15b4(_0x1752eb,_0xe6e589,_0x4b9e1b);break;case _0x1db4e3[_0x2a9b57(0xa01)]:_0x98a765[_0x2a9b57(0x68f)](_0x2a9b57(0x232),_0x1752eb),_0x2a9b57(0x8e6)==typeof _0xe6e589&&_0x5cc107(_0x3c1787['type'],_0x1752eb,_0xe6e589,_0x4b9e1b);break;case _0x1db4e3[_0x2a9b57(0x5d4)]:_0x98a765[_0x2a9b57(0x68f)](_0x2a9b57(0x1de),_0x4b9e1b[_0x2a9b57(0x4fc)],_0x1752eb),_0x2a9b57(0x8e6)==typeof _0xe6e589&&_0x3b2682(_0x1752eb,_0xe6e589,_0x4b9e1b);}}}async function _0x48a68a(_0x3d05f3,_0x5768b9,_0x32bfa1,_0xec9c08,_0x231628,_0x2945c6,_0xbf0cf0,_0x4d244a){const _0x4f3877=_0xd4b2e;if(await _0x1b723a[_0x4f3877(0x51b)](0x1),_0x231628[_0x4f3877(0x9dd)]){for(const _0x348386 of _0x231628[_0x4f3877(0x9dd)]){if(_0x348386['type']===_0x10df5e[_0x4f3877(0x977)])continue;const _0x8782cd=_0x2945c6['find'](_0x389e70=>_0x389e70['uid']===_0x348386[_0x4f3877(0x969)]);if(_0x8782cd)switch(_0x8782cd['type']){case _0x1db4e3[_0x4f3877(0x3e3)]:_0x348386[_0x4f3877(0x747)]!==_0x10df5e[_0x4f3877(0x217)]&&_0x348386[_0x4f3877(0x747)]!==_0x10df5e[_0x4f3877(0x879)]||'string'!=typeof _0x5768b9||await _0x2135c8(_0x3d05f3,_0x348386[_0x4f3877(0x747)],_0x5768b9,_0x32bfa1,_0xec9c08,_0x8782cd,_0x2945c6,_0xbf0cf0,_0x4d244a);break;case _0x1db4e3[_0x4f3877(0xa01)]:_0x348386[_0x4f3877(0x747)]===_0x10df5e[_0x4f3877(0x927)]&&_0x5768b9 instanceof Array&&_0x5768b9[_0x4f3877(0x9b4)]>0x0&&_0x5cc107(_0x348386[_0x4f3877(0x747)],_0x3d05f3,_0x5768b9[0x0],_0x8782cd);break;case _0x1db4e3['ChunkSplitter']:_0x348386['type']===_0x10df5e['Text']&&_0x4f3877(0x8e6)==typeof _0x5768b9&&await _0x832d2f(_0x3d05f3,_0x5768b9,_0x32bfa1,_0xec9c08,_0x8782cd,_0x2945c6,_0xbf0cf0,_0x4d244a);break;case _0x1db4e3[_0x4f3877(0x384)]:_0x348386[_0x4f3877(0x747)]===_0x10df5e['Text']&&_0x4f3877(0x8e6)==typeof _0x5768b9&&await _0x10b6ec(_0x3d05f3,_0x5768b9,_0x32bfa1,_0xec9c08,_0x8782cd,_0x2945c6,_0xbf0cf0,_0x4d244a),_0x348386[_0x4f3877(0x747)]===_0x10df5e[_0x4f3877(0x217)]&&_0x5768b9 instanceof Array&&await _0x10b6ec(_0x3d05f3,_0x5768b9,_0x32bfa1,_0xec9c08,_0x8782cd,_0x2945c6,_0xbf0cf0,_0x4d244a);break;case _0x1db4e3[_0x4f3877(0x8b7)]:_0x348386[_0x4f3877(0x747)]===_0x10df5e[_0x4f3877(0x217)]&&_0x4f3877(0x8e6)==typeof _0x5768b9&&await _0x272e76(_0x3d05f3,_0x5768b9,_0x32bfa1,_0xec9c08,_0x8782cd,_0x2945c6,_0xbf0cf0,_0x4d244a);break;case _0x1db4e3[_0x4f3877(0x1ce)]:_0x348386['type']===_0x10df5e[_0x4f3877(0x217)]&&'string'==typeof _0x5768b9&&await _0x50b220(_0x3d05f3,_0x5768b9,_0x32bfa1,_0xec9c08,_0x8782cd,_0x2945c6,_0xbf0cf0,_0x4d244a);}}_0x231628[_0x4f3877(0x747)]===_0x1db4e3[_0x4f3877(0x236)]&&_0x4d244a&&_0x4d244a[_0x4f3877(0x418)](void 0x0);}else _0x231628[_0x4f3877(0x747)]===_0x1db4e3[_0x4f3877(0x236)]&&_0x4d244a&&_0x4d244a[_0x4f3877(0x418)](void 0x0);}function _0x27d99c(_0x5ebdfa,_0xf476c){const _0x3248f6=_0xd4b2e;let _0x463d34=0x0;for(const _0x6d0e12 of _0xf476c)for(const _0x387542 of _0x6d0e12[_0x3248f6(0x9dd)]??[])_0x387542['type']!==_0x10df5e['Context']&&_0x387542[_0x3248f6(0x747)]!==_0x10df5e[_0x3248f6(0x3d7)]&&_0x387542[_0x3248f6(0x747)]!==_0x10df5e[_0x3248f6(0x58d)]&&_0x387542[_0x3248f6(0x969)]===_0x5ebdfa[_0x3248f6(0x969)]&&_0x463d34++;return _0x463d34;}async function _0x1c3ace(_0x564060,_0x32c9d3,_0x2ad87d,_0x2be1c2){const _0x54bbc5=_0xd4b2e;if(0x0===_0x564060[_0x54bbc5(0x9b4)])return;let _0x32a612='<uploaded-files>';for(const _0x3b23bb of _0x564060)if(_0x3b23bb['type']['startsWith'](_0x54bbc5(0x60d))||_0x1d93d1(_0x3b23bb[_0x54bbc5(0x4fc)],_0x395d12))_0x32a612+='\x0a<'+_0x3b23bb['name']+'>\x0a'+await _0x3b23bb[_0x54bbc5(0x7a9)]()+'\x0a</'+_0x3b23bb[_0x54bbc5(0x4fc)]+'>';else{if(!_0x2be1c2[_0x54bbc5(0x4ad)]['supports'](_0x3b23bb))throw new Error(_0x54bbc5(0x97e)+_0x3b23bb[_0x54bbc5(0x747)]+_0x54bbc5(0x4d9)+_0x3b23bb[_0x54bbc5(0x4fc)]);_0x32a612+='\x0a<'+_0x3b23bb[_0x54bbc5(0x4fc)]+'>\x0a'+await _0x2be1c2[_0x54bbc5(0x4ad)]['parse'](_0x3b23bb)+'\x0a</'+_0x3b23bb[_0x54bbc5(0x4fc)]+'>';}_0x32a612+=_0x54bbc5(0x341),_0x3ed2f9(_0x32a612,_0x32c9d3,_0x2ad87d,_0x54bbc5(0x1c0));}function _0xec7846(_0xfa5c56,_0x4e6e10){const _0x1aef45=_0xd4b2e;_0x4e6e10[_0x1aef45(0x572)]||(_0x4e6e10[_0x1aef45(0x572)]={}),_0x4e6e10[_0x1aef45(0x572)]['files']=_0xfa5c56;}async function _0x44ff6a(_0x567e55,_0x206624,_0x593d0c,_0x4f1a6e){const _0x4fc00e=_0xd4b2e;if(_0x567e55[_0x4fc00e(0x491)]&&_0x206624['links']){const _0x24b989=[];for(const _0x1d6ceb of _0x567e55[_0x4fc00e(0x491)])_0x24b989[_0x4fc00e(0x55a)](_0x3754ca(_0x1d6ceb));for(const _0x3bd7e4 of _0x206624[_0x4fc00e(0x9dd)])if(_0x4fc00e(0x6c3)===_0x3bd7e4[_0x4fc00e(0x747)]){const _0x420e27=_0x593d0c[_0x4fc00e(0x91c)](_0x1e683a=>_0x1e683a['uid']===_0x3bd7e4[_0x4fc00e(0x969)]);if(!_0x420e27)continue;_0x420e27[_0x4fc00e(0x747)]===_0x1db4e3[_0x4fc00e(0x16d)]&&await _0x1c3ace(_0x24b989,_0x420e27,_0x593d0c,_0x4f1a6e),_0x420e27[_0x4fc00e(0x747)]===_0x1db4e3[_0x4fc00e(0x556)]&&_0xec7846(_0x24b989,_0x420e27);}}}function _0x3754ca(_0xcc44ca){const _0x4a2c24=_0xd4b2e,_0x457c9b=atob(_0xcc44ca[_0x4a2c24(0x580)]),_0x385d26=_0x457c9b[_0x4a2c24(0x9b4)],_0x456e3f=new ArrayBuffer(_0x385d26),_0x45668d=new Uint8Array(_0x456e3f);for(let _0x44e9a=0x0;_0x44e9a<_0x385d26;_0x44e9a++)_0x45668d[_0x44e9a]=_0x457c9b[_0x4a2c24(0x482)](_0x44e9a);return new File([_0x45668d],_0xcc44ca[_0x4a2c24(0x4fc)],{'type':_0xcc44ca[_0x4a2c24(0x747)]});}class _0x126de0 extends _0x24b267{[_0xd4b2e(0x3ff)];['vendorId'];[_0xd4b2e(0x48b)];[_0xd4b2e(0x88c)];[_0xd4b2e(0x4ad)];[_0xd4b2e(0x660)];[_0xd4b2e(0x9eb)];[_0xd4b2e(0x3b9)];[_0xd4b2e(0x700)];[_0xd4b2e(0x302)];[_0xd4b2e(0x16c)];[_0xd4b2e(0x1ae)];[_0xd4b2e(0x435)];[_0xd4b2e(0x563)]=new Map();[_0xd4b2e(0x73b)]=new Map();[_0xd4b2e(0x1b6)];['models']=new Map();[_0xd4b2e(0x8ed)];[_0xd4b2e(0x524)]=0x0;[_0xd4b2e(0x7d7)]=0x0;['isOpened']=!0x1;[_0xd4b2e(0x664)]=[];['contentQueueRunning']=!0x1;constructor(_0x1ef9f8,_0x56e0e8,_0x4af0d2,_0x1c07ec,_0x1a5499,_0x16ffbf,_0x200606,_0x5e4068,_0x16aa5a,_0x1ed223,_0x2278e1,_0x2e7262,_0x4524d6){const _0x4212ba=_0xd4b2e;super(_0x1ef9f8,_0x56e0e8,_0x1c07ec),this[_0x4212ba(0x3ff)]=_0x1ef9f8,this[_0x4212ba(0x313)]=_0x4af0d2,this['contentMediator']=_0x1a5499,this[_0x4212ba(0x88c)]=_0x16ffbf,this[_0x4212ba(0x4ad)]=_0x200606,this['nlpLibraryConnector']=_0x5e4068,this[_0x4212ba(0x9eb)]=_0x16aa5a,this[_0x4212ba(0x3b9)]=_0x1ed223,this[_0x4212ba(0x700)]=_0x2278e1,this[_0x4212ba(0x302)]=_0x2e7262,this[_0x4212ba(0x16c)]=_0x4524d6;}async[_0xd4b2e(0x32a)](){const _0x58a9ac=_0xd4b2e;for(const _0x1d626a of this[_0x58a9ac(0x88c)])await _0x1d626a[_0x58a9ac(0x27e)]();this[_0x58a9ac(0x435)]?.[_0x58a9ac(0x37a)](this['label']),this[_0x58a9ac(0x563)][_0x58a9ac(0x7d0)](_0x52da73=>_0x52da73['unsubscribe'](this[_0x58a9ac(0x39a)])),this['debounceStats']&&(clearTimeout(this[_0x58a9ac(0x8ed)]),delete this[_0x58a9ac(0x8ed)]),super['destroy']();}async[_0xd4b2e(0x917)](_0x2f0b69=!0x1){const _0x462682=_0xd4b2e;if(this['isOpened'])super[_0x462682(0x917)]();else{if(_0x98a765[_0x462682(0x68f)](_0x462682(0x4b4),this[_0x462682(0x39a)]),this['workflow']=await _0x1951c0[_0x462682(0x4a8)](this[_0x462682(0x313)],this['label']),this[_0x462682(0x435)]=this[_0x462682(0x48b)][_0x462682(0x466)](this['workflow'][_0x462682(0x833)]),!this[_0x462682(0x435)])throw new Error('Model\x20store\x20not\x20initialized');this[_0x462682(0x3ac)](),_0x98a765[_0x462682(0x68f)]('GenerativeAIWorker:\x20Models',this[_0x462682(0x1ae)][_0x462682(0x838)]);for(const _0x110f84 of this[_0x462682(0x1ae)][_0x462682(0x838)])try{let _0x1fd3d6;_0x110f84['engineType']===_0x29f76b[_0x462682(0xa60)]['Llamacpp']&&(_0x1fd3d6=await this[_0x462682(0x43e)]('/'+_0x110f84['id']+_0xf849ff)),this[_0x462682(0x838)][_0x462682(0x991)](_0x110f84['id'],{'id':_0x110f84['id'],'engineType':_0x110f84[_0x462682(0x880)],'taskType':_0x110f84[_0x462682(0x512)],'inputType':_0x110f84[_0x462682(0x4e5)],'outputType':_0x110f84[_0x462682(0x7cd)],'sourceUrl':_0x110f84[_0x462682(0x8c4)],'pathName':_0x1fd3d6});}catch(_0x277c86){await this[_0x462682(0x435)][_0x462682(0x2b2)]({'action':_0x29f76b[_0x462682(0x1ef)][_0x462682(0x927)],'file':new File([''],''+_0x110f84['id']+_0xf849ff),'path':'/','options':{'skipEncryption':!0x0,'fetchUrl':_0x110f84['sourceUrl']}}),this[_0x462682(0x838)][_0x462682(0x991)](_0x110f84['id'],{'id':_0x110f84['id'],'engineType':_0x110f84[_0x462682(0x880)],'taskType':_0x110f84[_0x462682(0x512)],'inputType':_0x110f84[_0x462682(0x4e5)],'outputType':_0x110f84[_0x462682(0x7cd)],'sourceUrl':_0x110f84[_0x462682(0x8c4)],'pathName':await this[_0x462682(0x43e)]('/'+_0x110f84['id']+_0xf849ff)});}try{for(const _0x106610 of this[_0x462682(0x88c)])await _0x106610[_0x462682(0x306)](this['label'],this[_0x462682(0x838)]);}catch(_0x1c598b){return this[_0x462682(0x917)](_0x2f0b69);}for(const _0x39fba1 of this[_0x462682(0x1ae)][_0x462682(0x706)])this[_0x462682(0x563)]['set'](_0x39fba1,this['contentMediator'][_0x462682(0x466)](_0x39fba1));await this['loadLocalContent'](),this[_0x462682(0x759)]();for(const _0x40c576 of this[_0x462682(0x1ae)][_0x462682(0x621)])this['externalStores']['set'](_0x40c576,this['contentMediator'][_0x462682(0xa17)](_0x40c576));await this['loadExternalContent'](),this[_0x462682(0x88f)](),this[_0x462682(0x83e)]=!0x0,this[_0x462682(0x53c)](),super[_0x462682(0x917)](),_0x98a765[_0x462682(0x68f)](_0x462682(0x448),this[_0x462682(0x39a)]);}}['reset'](){const _0x30a59e=_0xd4b2e;this[_0x30a59e(0x524)]=0x0,this[_0x30a59e(0x7d7)]=0x0,this[_0x30a59e(0x53c)](),super[_0x30a59e(0x5f1)]();}[_0xd4b2e(0x12a)](){const _0x20ad97=_0xd4b2e;return this[_0x20ad97(0x53c)](),this['getCoresFromCapacityReport']();}[_0xd4b2e(0x4c9)](_0x3a1f29,_0x53363d,_0x4feb9e){const _0x428ed0=_0xd4b2e,{outputTokens:_0x7f5f7e=0x0,output:_0x495d89=''}=_0x3a1f29,_0x31cc5a=_0x7f5f7e/((_0x4feb9e-_0x53363d)/0x3e8);this['prompts']+=0x1,this[_0x428ed0(0x7d7)]+=_0x7f5f7e,this[_0x428ed0(0x256)](_0x31cc5a,_0x7f5f7e),this[_0x428ed0(0x53c)]();}[_0xd4b2e(0x924)](_0x46dae4,_0xcc6721){const _0xcf28e=_0xd4b2e;return _0x46dae4[_0xcf28e(0x1ec)]=_0x46dae4[_0xcf28e(0x1ec)]??'',{'type':'prompt','output':_0xcf28e(0x8e6)==typeof _0x46dae4['output']&&_0xcf28e(0x8e6)==typeof _0xcc6721[_0xcf28e(0x1ec)]?_0x46dae4[_0xcf28e(0x1ec)]+_0xcc6721[_0xcf28e(0x1ec)]:_0xcc6721[_0xcf28e(0x1ec)],'outputTokens':_0xcc6721[_0xcf28e(0x368)]??_0x46dae4[_0xcf28e(0x368)],'inputTokens':_0xcc6721[_0xcf28e(0x2d3)]??_0x46dae4[_0xcf28e(0x2d3)]};}async[_0xd4b2e(0x5fe)](_0x6bd7a9,_0x5e1b83){const _0x63cc14=_0xd4b2e;if(this[_0x63cc14(0x1ae)]=await _0x1951c0[_0x63cc14(0x4a8)](this[_0x63cc14(0x313)],this[_0x63cc14(0x39a)]),_0x63cc14(0x59b)===_0x5e1b83[_0x63cc14(0x747)]){const _0x475b2e=this[_0x63cc14(0x1ae)][_0x63cc14(0x2a9)][_0x63cc14(0x91c)](_0x5680ef=>_0x5680ef[_0x63cc14(0x747)]===_0x1db4e3['Prompt']),_0x5ddb61=await async function(_0x17fa2b,_0x188617,_0x8fa85a,_0x58770b,_0x1e2904){const _0x388060=_0x63cc14,_0x3dadc1=(0x0,_0x1cf016['v4'])(),_0x347c2f=Date[_0x388060(0x702)]();if(_0x1c4f84[_0x388060(0x19b)]({'jobType':_0x18ce78[_0x388060(0x5ee)],'type':_0x5a75f0[_0x388060(0x453)],'jobId':_0x17fa2b,'blockId':_0x8fa85a['id'],'agentId':_0x3dadc1,'threadId':_0x188617['threadId'],'traceLevel':_0x532f14[_0x388060(0x436)],'startTime':Date[_0x388060(0x702)](),'timestamp':Date[_0x388060(0x702)](),'status':_0x388060(0x71a),'initialPrompt':_0x188617[_0x388060(0x59b)]}),await _0x44ff6a(_0x188617,_0x8fa85a,_0x58770b,_0x1e2904),_0x188617['internalContext']){for(const _0x3b5c1c in _0x188617['internalContext'])_0x3ed2f9(_0x188617[_0x388060(0x670)][_0x3b5c1c],_0x8fa85a,_0x58770b,_0x3b5c1c);}const _0x42e095={'type':_0x188617[_0x388060(0x747)],'context':[],'inputTokens':0x0,'outputTokens':0x0};await _0x48a68a(_0x17fa2b,''+_0x188617[_0x388060(0x59b)],_0x188617,_0x42e095,_0x8fa85a,_0x58770b,_0x1e2904);const {inputTokens:_0x53a4db=0x0,outputTokens:_0x3d0cb2=0x0,context:_0x1e4eae=[]}=_0x42e095;_0x1c4f84['trace']({'jobType':_0x18ce78[_0x388060(0x5ee)],'type':_0x5a75f0[_0x388060(0x69f)],'jobId':_0x17fa2b,'agentId':_0x3dadc1,'threadId':_0x188617['threadId'],'traceLevel':_0x532f14[_0x388060(0x436)],'startTime':_0x347c2f,'timestamp':Date[_0x388060(0x702)](),'blockId':_0x8fa85a['id'],'status':_0x388060(0x71a),'output':_0x42e095[_0x388060(0x1ec)]?.[_0x388060(0x94e)]()??'','prompt':_0x188617['prompt'],'agentName':'','history':_0x188617[_0x388060(0x45b)]??[],'instructions':''+(_0x188617[_0x388060(0x336)]??''),'ragContext':_0x1e4eae,'inputTokens':_0x53a4db,'outputTokens':_0x3d0cb2});const _0x3efaf1=_0x58770b[_0x388060(0x91c)](_0x5ca2f1=>_0x5ca2f1['type']===_0x1db4e3[_0x388060(0xa01)]);return{'type':_0x188617[_0x388060(0x747)],'output':_0x42e095[_0x388060(0x1ec)],'context':_0x42e095[_0x388060(0x30f)],'internalContext':_0x3efaf1?.[_0x388060(0x572)]?.[_0x388060(0x30f)]??{},'resultFile':await _0x3efaf1?.[_0x388060(0x572)]?.['file']?.[_0x388060(0x7a9)]()??void 0x0,'inputTokens':_0x42e095[_0x388060(0x2d3)]??0x0,'outputTokens':_0x42e095[_0x388060(0x368)]??0x0};}(_0x6bd7a9,_0x5e1b83,_0x475b2e,this[_0x63cc14(0x1ae)][_0x63cc14(0x2a9)],{'documentParserConnector':this[_0x63cc14(0x4ad)],'nlpLibraryConnector':this[_0x63cc14(0x660)],'generativeAIWorkerConnectors':this[_0x63cc14(0x88c)],'models':this[_0x63cc14(0x1ae)]['models'],'contentMediator':this['contentMediator'],'searchApiKey':this[_0x63cc14(0x9eb)],'aiSearchApiKey':this[_0x63cc14(0x3b9)],'searchConnector':this[_0x63cc14(0x700)],'aiSearchConnector':this[_0x63cc14(0x302)],'queryFileConnector':this['queryFileConnector']});return _0x5ddb61;}if(_0x63cc14(0x8a0)===_0x5e1b83[_0x63cc14(0x747)])return _0x1c4f84[_0x63cc14(0x19b)]({'jobType':_0x18ce78[_0x63cc14(0x542)],'type':_0x398acb[_0x63cc14(0x786)],'jobId':_0x5e1b83[_0x63cc14(0x960)],'threadId':_0x5e1b83[_0x63cc14(0x938)],'traceLevel':_0x532f14['Info'],'startTime':Date['now'](),'timestamp':Date[_0x63cc14(0x702)](),'status':_0x63cc14(0x71a),'rating':_0x5e1b83[_0x63cc14(0x799)],'feedback':_0x5e1b83[_0x63cc14(0x128)]}),{'type':_0x63cc14(0x8a0),'status':_0x29f76b[_0x63cc14(0x64a)][_0x63cc14(0x39b)]};if(_0x63cc14(0x284)===_0x5e1b83[_0x63cc14(0x747)]){let _0x1fffe8;const _0x5b9b43=this['dataStores']['keys']();for(;!_0x1fffe8;){const _0x395ca1=_0x5b9b43[_0x63cc14(0x1e6)]()['value'];if(!_0x395ca1)throw new Error(_0x63cc14(0x51e));_0x1fffe8=this[_0x63cc14(0x563)][_0x63cc14(0x6e6)](_0x395ca1);try{const _0x5f5047=await _0x1fffe8['get'](_0x5e1b83['documentPath']);return{'type':_0x63cc14(0x284),'fileName':_0x5f5047[_0x63cc14(0x4fc)],'mimeType':_0x5f5047[_0x63cc14(0x747)],'document':await _0x5f5047['arrayBuffer']()};}catch(_0x56dd44){continue;}}throw new Error(_0x63cc14(0x51e));}if('search'===_0x5e1b83['type']){const {query:_0xd3a190,collectionId:_0x455ff5}=_0x5e1b83,_0x1fcbfe=this[_0x63cc14(0x1ae)][_0x63cc14(0x2a9)][_0x63cc14(0x91c)](_0x57ee20=>(_0x57ee20['type']===_0x1db4e3['DataCollection']||_0x1db4e3['Knowledge'])&&_0x57ee20['id']===_0x455ff5);if(!_0x1fcbfe)throw new Error(_0x63cc14(0x69a));const _0x44b635=_0x1fcbfe[_0x63cc14(0x20a)]?.[_0x63cc14(0x91c)](_0x12cda0=>_0x12cda0[_0x63cc14(0x747)]===_0xc0f671[_0x63cc14(0x236)]);if(!_0x44b635)throw new Error(_0x63cc14(0x7a3));return await _0x3eabb6(_0x6bd7a9,'',_0xd3a190,_0x44b635,_0x1fcbfe['retrieveBlocks'],{'documentParserConnector':this[_0x63cc14(0x4ad)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x63cc14(0x88c)],'models':this[_0x63cc14(0x1ae)][_0x63cc14(0x838)],'contentMediator':this[_0x63cc14(0x48b)],'searchApiKey':this[_0x63cc14(0x9eb)],'aiSearchApiKey':this[_0x63cc14(0x3b9)],'searchConnector':this[_0x63cc14(0x700)],'aiSearchConnector':this[_0x63cc14(0x302)],'queryFileConnector':this[_0x63cc14(0x16c)]});}throw new Error(_0x63cc14(0x3db));}async*[_0xd4b2e(0x479)](_0x1bab00,_0x4b2476){const _0x1818e1=_0xd4b2e;this['workflow']=await _0x1951c0[_0x1818e1(0x4a8)](this[_0x1818e1(0x313)],this[_0x1818e1(0x39a)]);const _0x21010d=this[_0x1818e1(0x1ae)][_0x1818e1(0x2a9)][_0x1818e1(0x91c)](_0x546ccc=>_0x546ccc['type']===_0x1db4e3['Prompt']);for await(const _0x3be55f of async function*(_0x363e0a,_0x47e601,_0x3a0a6c,_0x403fb5,_0x32418e){const _0x5bf5ca=_0x1818e1,_0x2114c5=(0x0,_0x1cf016['v4'])(),_0x1bebf0=Date[_0x5bf5ca(0x702)]();if(_0x1c4f84[_0x5bf5ca(0x19b)]({'jobType':_0x18ce78[_0x5bf5ca(0x5ee)],'type':_0x5a75f0[_0x5bf5ca(0x453)],'jobId':_0x363e0a,'agentId':_0x2114c5,'threadId':_0x47e601[_0x5bf5ca(0x938)],'traceLevel':_0x532f14['Info'],'startTime':Date[_0x5bf5ca(0x702)](),'timestamp':Date[_0x5bf5ca(0x702)](),'blockId':_0x3a0a6c['id'],'status':_0x5bf5ca(0x71a),'initialPrompt':_0x47e601[_0x5bf5ca(0x59b)]}),await _0x44ff6a(_0x47e601,_0x3a0a6c,_0x403fb5,_0x32418e),_0x47e601[_0x5bf5ca(0x670)]){for(const _0x5335fd in _0x47e601[_0x5bf5ca(0x670)])_0x3ed2f9(_0x47e601['internalContext'][_0x5335fd],_0x3a0a6c,_0x403fb5,_0x5335fd);}const _0x238354={'type':_0x47e601['type'],'context':[],'inputTokens':0x0,'outputTokens':0x0},_0x27d4d5=new _0x3f92c8();_0x48a68a(_0x363e0a,''+_0x47e601[_0x5bf5ca(0x59b)],_0x47e601,_0x238354,_0x3a0a6c,_0x403fb5,_0x32418e,_0x27d4d5);let _0x1b49e6='',_0x200013={'type':_0x47e601[_0x5bf5ca(0x747)]};for(;;){const _0x2301e9=await _0x27d4d5[_0x5bf5ca(0x3da)]();if(!_0x2301e9)break;_0x1b49e6+=_0x2301e9[_0x5bf5ca(0x1ec)],_0x200013={'type':_0x47e601[_0x5bf5ca(0x747)],'output':_0x2301e9[_0x5bf5ca(0x1ec)],'context':_0x238354[_0x5bf5ca(0x30f)],'internalContext':{},'resultFile':void 0x0,'inputTokens':(_0x238354[_0x5bf5ca(0x2d3)]??0x0)+(_0x2301e9[_0x5bf5ca(0x2d3)]??0x0),'outputTokens':(_0x238354['outputTokens']??0x0)+(_0x2301e9['outputTokens']??0x0)},yield _0x200013;}const _0x12ad04=_0x403fb5[_0x5bf5ca(0x91c)](_0x3b284f=>_0x3b284f[_0x5bf5ca(0x747)]===_0x1db4e3[_0x5bf5ca(0xa01)]);yield{..._0x200013,'output':'','internalContext':_0x12ad04?.['accumulated']?.[_0x5bf5ca(0x30f)]??{},'resultFile':await _0x12ad04?.['accumulated']?.[_0x5bf5ca(0x6c3)]?.[_0x5bf5ca(0x7a9)]()??void 0x0};const {inputTokens:_0x282f94=0x0,outputTokens:_0x2719d3=0x0,context:_0x2d6798=[]}=_0x200013;_0x1c4f84[_0x5bf5ca(0x19b)]({'jobType':_0x18ce78[_0x5bf5ca(0x5ee)],'type':_0x5a75f0[_0x5bf5ca(0x69f)],'jobId':_0x363e0a,'agentId':_0x2114c5,'threadId':_0x47e601[_0x5bf5ca(0x938)],'traceLevel':_0x532f14['Info'],'startTime':_0x1bebf0,'timestamp':Date[_0x5bf5ca(0x702)](),'blockId':_0x3a0a6c['id'],'status':_0x5bf5ca(0x71a),'output':_0x1b49e6,'prompt':_0x47e601[_0x5bf5ca(0x59b)],'agentName':'','history':_0x47e601[_0x5bf5ca(0x45b)]??[],'instructions':''+(_0x47e601[_0x5bf5ca(0x336)]??''),'ragContext':_0x2d6798,'inputTokens':_0x282f94,'outputTokens':_0x2719d3});}(_0x1bab00,_0x4b2476,_0x21010d,this[_0x1818e1(0x1ae)][_0x1818e1(0x2a9)],{'documentParserConnector':this[_0x1818e1(0x4ad)],'nlpLibraryConnector':this[_0x1818e1(0x660)],'generativeAIWorkerConnectors':this[_0x1818e1(0x88c)],'models':this[_0x1818e1(0x1ae)][_0x1818e1(0x838)],'contentMediator':this[_0x1818e1(0x48b)],'searchApiKey':this[_0x1818e1(0x9eb)],'aiSearchApiKey':this['aiSearchApiKey'],'searchConnector':this[_0x1818e1(0x700)],'aiSearchConnector':this[_0x1818e1(0x302)],'queryFileConnector':this[_0x1818e1(0x16c)]}))yield _0x3be55f;}[_0xd4b2e(0xa2c)](_0x5ba1a8,_0x5ac299){const _0x3626e9=_0xd4b2e;if('rate'===_0x5ac299[_0x3626e9(0x747)])return _0x5ba1a8=_0x5ac299['jobId'],void this[_0x3626e9(0x85c)](_0x5ba1a8);this[_0x3626e9(0x85c)](_0x5ba1a8),_0x1c4f84[_0x3626e9(0x19b)]({'jobType':_0x18ce78[_0x3626e9(0x506)],'type':_0x569cf4[_0x3626e9(0x72a)],'traceLevel':_0x532f14[_0x3626e9(0x436)],'jobId':_0x5ba1a8,'threadId':_0x5ac299[_0x3626e9(0x938)],'startTime':Date[_0x3626e9(0x702)](),'timestamp':Date[_0x3626e9(0x702)](),'status':_0x3626e9(0x71a)});}[_0xd4b2e(0x3b0)](_0x21db2e,_0x16832f){const _0x1aaf3e=_0xd4b2e;if(_0x1aaf3e(0x8a0)===_0x16832f[_0x1aaf3e(0x747)])return _0x21db2e=_0x16832f[_0x1aaf3e(0x960)],void this[_0x1aaf3e(0x6e8)](_0x21db2e);_0x1c4f84[_0x1aaf3e(0x19b)]({'jobType':_0x18ce78[_0x1aaf3e(0x506)],'type':_0x569cf4[_0x1aaf3e(0x94b)],'traceLevel':_0x532f14[_0x1aaf3e(0x436)],'jobId':_0x21db2e,'threadId':_0x16832f[_0x1aaf3e(0x938)],'startTime':Date[_0x1aaf3e(0x702)](),'timestamp':Date[_0x1aaf3e(0x702)](),'status':_0x1aaf3e(0x71a)}),this[_0x1aaf3e(0x6e8)](_0x21db2e);}async[_0xd4b2e(0x43e)](_0x392edd){const _0x18a1c3=_0xd4b2e;if(!this['modelStore'])throw new Error(_0x18a1c3(0x994));const _0x1353d8=await this[_0x18a1c3(0x435)][_0x18a1c3(0x3ad)]('/',{'recursive':!0x1,'includeSyncingFiles':!0x1});for(const _0x524427 of _0x1353d8)if(_0x524427['kind']===_0x29f76b[_0x18a1c3(0x9b0)]['File']&&_0x524427['pathName']===_0x392edd)return _0x524427[_0x18a1c3(0x47c)]??_0x524427[_0x18a1c3(0x871)];throw new Error(_0x18a1c3(0x2f4)+_0x392edd);}async[_0xd4b2e(0x95f)](){const _0x171ada=_0xd4b2e;if(!this[_0x171ada(0x1ae)])throw new Error(_0x171ada(0x912));for(const _0x175139 of this['dataStores'][_0x171ada(0x75b)]())try{const _0x147711=this[_0x171ada(0x1ae)][_0x171ada(0x2a9)][_0x171ada(0x893)](_0x457698=>(_0x457698[_0x171ada(0x747)]===_0x1db4e3[_0x171ada(0x384)]||_0x457698[_0x171ada(0x747)]===_0x1db4e3[_0x171ada(0x3d7)])&&_0x457698['ingestBlocks']?.['some'](_0x6479c1=>_0x6479c1['id']===_0x175139[_0x171ada(0x255)]()));for(let _0xe96a9=_0x147711['length']-0x1;_0xe96a9>=0x0;_0xe96a9--)for(const _0x53eedf of _0x147711[_0xe96a9][_0x171ada(0xa56)]??[])_0x53eedf[_0x171ada(0x747)]===_0xc0f671['VectorDatabase']&&this[_0x171ada(0x48b)][_0x171ada(0xa0b)](_0x53eedf['id'])['getIsLoaded']()&&_0x147711[_0x171ada(0xa3c)](_0xe96a9,0x1),_0x53eedf['type']===_0xc0f671['GraphDatabase']&&this['contentMediator'][_0x171ada(0x138)](_0x53eedf['id'])[_0x171ada(0x9f4)]()&&_0x147711['splice'](_0xe96a9,0x1);const _0x597b14=new Map();let _0x367a94=!0x1;for(const _0x1a8d4b of _0x147711){let _0x5408e5=''+(_0x1a8d4b['version']??0x1);for(const _0x529763 of _0x1a8d4b[_0x171ada(0xa56)]??[])_0x529763[_0x171ada(0x747)]===_0xc0f671['Agent']&&(_0x5408e5=_0x5408e5+'-'+(_0x529763['version']??0x1));for(const _0x155b76 of _0x1a8d4b[_0x171ada(0xa56)]??[])_0x155b76[_0x171ada(0x747)]===_0xc0f671['VectorDatabase']&&_0x597b14['set'](_0x155b76['id'],{'version':_0x5408e5,'getDatabase':this[_0x171ada(0x48b)][_0x171ada(0xa0b)][_0x171ada(0x536)](this[_0x171ada(0x48b)]),'block':_0x155b76}),_0x155b76[_0x171ada(0x747)]===_0xc0f671[_0x171ada(0x65e)]&&_0x597b14[_0x171ada(0x991)](_0x155b76['id'],{'version':_0x5408e5,'getDatabase':this[_0x171ada(0x48b)][_0x171ada(0x138)][_0x171ada(0x536)](this[_0x171ada(0x48b)]),'block':_0x155b76});}for(const {getDatabase:_0x27427e,block:_0x317ed6,version:_0x1d4924}of _0x597b14[_0x171ada(0x75b)]())try{const _0x40a80b=_0x27427e(_0x317ed6['id']);if(_0x40a80b[_0x171ada(0x9f4)]())continue;_0x40a80b[_0x171ada(0x470)](_0x1d4924),_0x40a80b[_0x171ada(0x4a7)](!0x0),_0x367a94=!0x0;}catch(_0x208b2d){console[_0x171ada(0x940)](_0x208b2d),_0x367a94=!0x1;break;}if(_0x98a765[_0x171ada(0x68f)](_0x171ada(0x847)),_0x367a94)continue;_0x98a765[_0x171ada(0x68f)](_0x171ada(0x46f));const _0x2d3b61=await _0x175139[_0x171ada(0x3ad)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x1});await this['syncFolder'](_0x5b2558['ObjectStorage'],_0x175139[_0x171ada(0x1c5)](),_0x2d3b61);for(const {getDatabase:_0x2b20f3,block:_0x2c54fc,version:_0x3f7886}of _0x597b14[_0x171ada(0x75b)]()){const _0x38c26b=_0x2b20f3(_0x2c54fc['id']);_0x38c26b[_0x171ada(0x9f4)]()||(_0x38c26b[_0x171ada(0x582)](_0x3f7886),_0x38c26b[_0x171ada(0x4a7)](!0x0));}}catch(_0x1bdc69){_0x98a765[_0x171ada(0x940)](_0x171ada(0x7b4),{'nodeId':this[_0x171ada(0x3ff)][_0x171ada(0x2a6)](),'nodeType':this[_0x171ada(0x3ff)]['type']});}}async[_0xd4b2e(0x5e9)](){const _0x1bb608=_0xd4b2e;for(const _0x13f5d0 of this['externalStores'][_0x1bb608(0x75b)]())try{const _0x5eb71b=await _0x13f5d0[_0x1bb608(0x3ad)]('/',{'recursive':!0x0});await this[_0x1bb608(0x7c0)](_0x5b2558[_0x1bb608(0x450)],_0x13f5d0[_0x1bb608(0x1c5)](),_0x5eb71b);}catch(_0x560d6d){_0x98a765[_0x1bb608(0x940)](_0x1bb608(0x8b8),{'nodeId':this[_0x1bb608(0x3ff)]['getId'](),'nodeType':this[_0x1bb608(0x3ff)]['type']});}}async[_0xd4b2e(0x7c0)](_0x2804d9,_0x372c8c,_0x448425){const _0x2baba3=_0xd4b2e;for(const _0x38bf0a of _0x448425){if(_0x38bf0a[_0x2baba3(0x6c2)]===_0x29f76b[_0x2baba3(0x9b0)]['Folder']){if(!_0x38bf0a[_0x2baba3(0x63e)]||0x0===_0x38bf0a[_0x2baba3(0x63e)][_0x2baba3(0x9b4)])continue;await this[_0x2baba3(0x7c0)](_0x2804d9,_0x372c8c,_0x38bf0a[_0x2baba3(0x63e)]);}_0x38bf0a[_0x2baba3(0x6c2)]===_0x29f76b[_0x2baba3(0x9b0)]['File']&&this[_0x2baba3(0x164)](_0x2804d9,_0x372c8c,_0x38bf0a[_0x2baba3(0x871)]);}return new Promise(_0x64374c=>{const _0x5e3aa5=_0x1b723a['setInterval'](()=>{const _0xd887d6=a0_0x2e29;0x0!==this[_0xd887d6(0x664)][_0xd887d6(0x9b4)]||this['contentQueueRunning']||(_0x5e3aa5(),_0x64374c());},0x1388);});}['subscribeToLocalContent'](){const _0x4074a2=_0xd4b2e;for(const _0x3dcf10 of this[_0x4074a2(0x563)]['values']())_0x3dcf10[_0x4074a2(0x696)](this[_0x4074a2(0x39a)],async _0x37ee46=>{const _0x13cf68=_0x4074a2;switch(_0x37ee46[_0x13cf68(0x1d7)]){case _0x29f76b['StorageEventType'][_0x13cf68(0x83f)]:this['removeContent'](_0x5b2558[_0x13cf68(0x3e1)],_0x3dcf10['getName'](),_0x37ee46[_0x13cf68(0x430)][_0x13cf68(0x6c3)][_0x13cf68(0x871)]),this['addContent'](_0x5b2558[_0x13cf68(0x3e1)],_0x3dcf10[_0x13cf68(0x1c5)](),_0x37ee46[_0x13cf68(0x430)][_0x13cf68(0x6c3)][_0x13cf68(0x871)]);break;case _0x29f76b[_0x13cf68(0x77f)][_0x13cf68(0x5ac)]:this[_0x13cf68(0x258)](_0x5b2558[_0x13cf68(0x3e1)],_0x3dcf10[_0x13cf68(0x1c5)](),_0x37ee46['payload'][_0x13cf68(0x871)]);}});}[_0xd4b2e(0x88f)](){const _0x273c4f=_0xd4b2e;for(const _0x58465c of this['externalStores'][_0x273c4f(0x75b)]())_0x58465c[_0x273c4f(0x696)](this['label'],async _0x5a1017=>{const _0x98311e=_0x273c4f;switch(_0x5a1017['event']){case _0x29f76b[_0x98311e(0x77f)][_0x98311e(0x83f)]:this[_0x98311e(0x258)](_0x5b2558[_0x98311e(0x450)],_0x58465c[_0x98311e(0x1c5)](),_0x5a1017[_0x98311e(0x430)]['file'][_0x98311e(0x871)]),this[_0x98311e(0x164)](_0x5b2558[_0x98311e(0x450)],_0x58465c[_0x98311e(0x1c5)](),_0x5a1017[_0x98311e(0x430)][_0x98311e(0x6c3)]['pathName']);break;case _0x29f76b['StorageEventType'][_0x98311e(0x5ac)]:this['removeContent'](_0x5b2558[_0x98311e(0x450)],_0x58465c[_0x98311e(0x1c5)](),_0x5a1017[_0x98311e(0x430)][_0x98311e(0x871)]);}});}[_0xd4b2e(0x164)](_0x362466,_0x10bd9c,_0x467de6){const _0x267b44=_0xd4b2e;this[_0x267b44(0x664)][_0x267b44(0x55a)]({'type':_0x267b44(0x4bd),'storageType':_0x362466,'storeId':_0x10bd9c,'pathName':_0x467de6}),this[_0x267b44(0xa5e)]();}['removeContent'](_0x244eb9,_0xe29cb6,_0x255b97){const _0x59672e=_0xd4b2e;this[_0x59672e(0x664)]['push']({'type':_0x59672e(0x886),'storageType':_0x244eb9,'storeId':_0xe29cb6,'pathName':_0x255b97}),this[_0x59672e(0xa5e)]();}async['processContentQueue'](){const _0xfda6bc=_0xd4b2e;if(!this[_0xfda6bc(0x579)]){try{this[_0xfda6bc(0x579)]=!0x0;const _0x590143=this[_0xfda6bc(0x664)][_0xfda6bc(0x6dd)]();if(!_0x590143)return;_0xfda6bc(0x4bd)===_0x590143[_0xfda6bc(0x747)]?await this[_0xfda6bc(0x8bd)](_0x590143['storageType'],_0x590143['storeId'],_0x590143[_0xfda6bc(0x871)]):this[_0xfda6bc(0x757)](_0x590143['storageType'],_0x590143[_0xfda6bc(0x87d)],_0x590143[_0xfda6bc(0x871)]);}catch(_0x2b8cdb){_0x98a765[_0xfda6bc(0x940)](_0xfda6bc(0x2f0),{'nodeId':this[_0xfda6bc(0x3ff)][_0xfda6bc(0x2a6)](),'nodeType':this[_0xfda6bc(0x3ff)][_0xfda6bc(0x747)]});}this['contentQueueRunning']=!0x1,this['contentQueue'][_0xfda6bc(0x9b4)]>0x0&&this[_0xfda6bc(0xa5e)]();}}async[_0xd4b2e(0x8bd)](_0x37d406,_0x926dcb,_0xfe88){const _0xa15b44=_0xd4b2e;if(_0x98a765[_0xa15b44(0x68f)](_0xa15b44(0x164),_0x37d406,_0x926dcb,_0xfe88),!this[_0xa15b44(0x1ae)])throw new Error(_0xa15b44(0x912));let _0x5d2309;switch(_0x37d406){case _0x5b2558[_0xa15b44(0x3e1)]:_0x5d2309=_0xc0f671[_0xa15b44(0x9a0)];break;case _0x5b2558['ExternalStorage']:_0x5d2309=_0xc0f671['ExternalStorageUpload'];}if(!_0x5d2309)return;const _0x556223=this[_0xa15b44(0x1ae)]['blocks'][_0xa15b44(0x893)](_0x291ca4=>_0x291ca4[_0xa15b44(0x747)]===_0x1db4e3['Knowledge']||_0x291ca4[_0xa15b44(0x747)]===_0x1db4e3[_0xa15b44(0x384)]),_0x292b19=new Set(_0x556223[_0xa15b44(0x7da)](_0x29611c=>_0x29611c['id'])),_0x48c8a8=_0x556223[_0xa15b44(0x893)](_0x520972=>_0x520972[_0xa15b44(0xa56)]?.[_0xa15b44(0x403)](_0x320233=>_0x320233[_0xa15b44(0x747)]===_0x5d2309&&_0x320233['id']===_0x926dcb)),_0x26b85a=[];for(const _0x3553ed of _0x48c8a8){if(!_0x292b19['has'](_0x3553ed['id']))continue;_0x292b19['delete'](_0x3553ed['id']);const _0x1d507d=_0x3553ed[_0xa15b44(0xa56)]?.[_0xa15b44(0x91c)](_0x253530=>_0x253530[_0xa15b44(0x747)]===_0x5d2309&&_0x253530['id']===_0x926dcb);_0x1d507d&&_0x4bb1cc[_0xa15b44(0x4bd)](this[_0xa15b44(0x39a)],async()=>{const _0x5cff6c=_0xa15b44,_0x53999d=new Promise(async _0x3d5d67=>{const _0xa252c0=a0_0x2e29,_0x2fda6a=(0x0,_0x1cf016['v4'])();_0x1c4f84[_0xa252c0(0x85c)](null,_0x2fda6a),await _0x51bf90(_0x2fda6a,_0xfe88,_0x1d507d,_0x3553ed[_0xa252c0(0xa56)],{'documentParserConnector':this[_0xa252c0(0x4ad)],'nlpLibraryConnector':this[_0xa252c0(0x660)],'generativeAIWorkerConnectors':this[_0xa252c0(0x88c)],'models':this[_0xa252c0(0x1ae)][_0xa252c0(0x838)],'contentMediator':this[_0xa252c0(0x48b)],'searchApiKey':this[_0xa252c0(0x9eb)],'aiSearchApiKey':this['aiSearchApiKey'],'version':_0x3553ed[_0xa252c0(0x8a6)]??0x1}),_0x1c4f84[_0xa252c0(0x6e8)](_0x2fda6a),_0x3d5d67();});_0x26b85a[_0x5cff6c(0x55a)](_0x53999d);});}await Promise[_0xa15b44(0x60b)](_0x26b85a),this['sendStats']();}[_0xd4b2e(0x757)](_0x29a1c5,_0x2bb891,_0x4e3deb){const _0x428131=_0xd4b2e;if(_0x98a765[_0x428131(0x68f)](_0x428131(0x258),_0x29a1c5,_0x2bb891,_0x4e3deb),!this[_0x428131(0x1ae)])throw new Error(_0x428131(0x912));let _0x162925;switch(_0x29a1c5){case _0x5b2558['ObjectStorage']:_0x162925=_0xc0f671[_0x428131(0x9a0)];break;case _0x5b2558[_0x428131(0x450)]:_0x162925=_0xc0f671[_0x428131(0x31a)];}if(!_0x162925)return;const _0x4de4c2=this['workflow'][_0x428131(0x2a9)][_0x428131(0x893)](_0x306d94=>_0x306d94[_0x428131(0x747)]===_0x1db4e3[_0x428131(0x3d7)]||_0x306d94[_0x428131(0x747)]===_0x1db4e3[_0x428131(0x384)]),_0x252c71=new Set(_0x4de4c2[_0x428131(0x7da)](_0x458494=>_0x458494['id'])),_0x310f53=_0x4de4c2[_0x428131(0x893)](_0x36580f=>_0x36580f[_0x428131(0xa56)]?.['some'](_0x5adfd8=>_0x5adfd8[_0x428131(0x747)]===_0x162925&&_0x5adfd8['id']===_0x2bb891));for(const _0x3c4cb6 of _0x310f53){if(!_0x252c71[_0x428131(0x8e9)](_0x3c4cb6['id']))continue;_0x252c71[_0x428131(0xa2f)](_0x3c4cb6['id']);let _0x431da3=''+(_0x3c4cb6['version']??0x1);for(const _0xd7eb98 of _0x3c4cb6['ingestBlocks']??[])_0xd7eb98[_0x428131(0x747)]===_0xc0f671[_0x428131(0x3e3)]&&(_0x431da3=_0x431da3+'-'+(_0xd7eb98[_0x428131(0x8a6)]??0x1));for(const _0x57ac7b of _0x3c4cb6[_0x428131(0xa56)]??[]){if(_0x57ac7b[_0x428131(0x747)]===_0xc0f671['VectorDatabase']){const _0x1ae053=this['contentMediator']['getVectorDatabase'](_0x57ac7b['id']);_0x1ae053[_0x428131(0x886)](_0x4e3deb),_0x1ae053[_0x428131(0x9f4)]()&&_0x1ae053['saveToDisk'](_0x431da3);}if(_0x57ac7b[_0x428131(0x747)]===_0xc0f671['GraphDatabase']){const _0x1795c3=this[_0x428131(0x48b)]['getGraphDatabase'](_0x57ac7b['id']);_0x1795c3[_0x428131(0x886)](_0x4e3deb),_0x1795c3[_0x428131(0x9f4)]()&&_0x1795c3['saveToDisk'](_0x431da3);}}}this[_0x428131(0x53c)]();}[_0xd4b2e(0x2e8)](){const _0x4c440f=_0xd4b2e;try{return this[_0x4c440f(0x207)][_0x4c440f(0x996)]()['gpu'][_0x4c440f(0x772)]*(0x1-this[_0x4c440f(0x207)]['getCapacityReport']()[_0x4c440f(0x721)][_0x4c440f(0x61a)]);}catch(_0x423395){return _0x98a765[_0x4c440f(0x22d)](_0x831a2b['Jobs'],'JobWorker:\x20Error\x20getting\x20cores\x20from\x20capacity\x20report',_0x423395),0x0;}}[_0xd4b2e(0x53c)](){const _0x5cd142=_0xd4b2e;this[_0x5cd142(0x83e)]&&(this[_0x5cd142(0x8ed)]&&clearTimeout(this['debounceStats']),this['debounceStats']=setTimeout(async()=>{const _0x3b4560=_0x5cd142;if(delete this[_0x3b4560(0x8ed)],!this[_0x3b4560(0x435)])return;let _0xa25a48=await this[_0x3b4560(0x435)][_0x3b4560(0x4c5)]();for(const _0x16bb48 of this[_0x3b4560(0x563)][_0x3b4560(0x75b)]())_0xa25a48+=await _0x16bb48['getSize']();this[_0x3b4560(0x598)][_0x3b4560(0x2b2)]({'sourceId':_0x596898,'messageType':_0x49e311[_0x3b4560(0x657)],'content':{'type':_0x2b2ef9['GenerativeAIWorkerStats'],'label':this['label'],'stats':{'timestamp':Date[_0x3b4560(0x702)](),'storage':_0xa25a48,'messagesSent':this[_0x3b4560(0x75d)],'messagesReceived':this[_0x3b4560(0x4b5)],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x3b4560(0x141)],'writes':0x0,'reads':0x0,'prompts':this[_0x3b4560(0x524)],'tokens':this[_0x3b4560(0x7d7)]}}});},_0x371ea9));}[_0xd4b2e(0x256)](_0x2ec992,_0x53160d){const _0x175e4a=_0xd4b2e,_0x4afa46=this[_0x175e4a(0x39a)],_0x285dcc=this[_0x175e4a(0x4da)]();_0x98a765[_0x175e4a(0x256)](_0xdcad61[_0x175e4a(0x80c)],{'topic':_0x4afa46,'type':_0x175e4a(0xa1b),'nodeId':_0x285dcc,'tokenCount':_0x53160d,'tokensPerSecond':_0x2ec992});}['openTrace'](_0x29c28e){const _0x5b3e81=_0xd4b2e;try{if(!this['workflow'])throw new Error(_0x5b3e81(0x912));if(!this[_0x5b3e81(0x1b6)])throw new Error(_0x5b3e81(0x4bc));if(!_0x1c4f84[_0x5b3e81(0x85c)](this[_0x5b3e81(0x1b6)],_0x29c28e))throw new Error(_0x5b3e81(0x40b));return _0x29c28e;}catch(_0x56d6e0){return console['error'](_0x5b3e81(0x40b),_0x56d6e0),'Could\x20not\x20open\x20trace';}}['closeTrace'](_0x2653be){const _0x36543a=_0xd4b2e;try{_0x1c4f84['closeTrace'](_0x2653be);}catch(_0x4fe231){console[_0x36543a(0x940)](_0x36543a(0x5d7),{'jobId':_0x2653be,'error':_0x4fe231});}}async[_0xd4b2e(0x3ac)](){return new Promise(_0x19d3a4=>{const _0x49c3e7=a0_0x2e29;try{const _0x5b85bd=_0x676d19(this[_0x49c3e7(0x313)],this[_0x49c3e7(0x39a)]);this[_0x49c3e7(0x1b6)]=this['contentMediator'][_0x49c3e7(0x487)](_0x5b85bd),this[_0x49c3e7(0x1b6)][_0x49c3e7(0x696)](({event:_0x30cead})=>{const _0x2e4282=_0x49c3e7;_0x30cead===_0x29f76b[_0x2e4282(0x8ba)][_0x2e4282(0x5d9)]&&(this[_0x2e4282(0x1b6)][_0x2e4282(0x37a)](),_0x19d3a4());});}catch(_0x16856f){console[_0x49c3e7(0x940)]('Error\x20initializing\x20logging\x20database\x20with\x20\x27'+_0x676d19(this[_0x49c3e7(0x313)],this[_0x49c3e7(0x39a)])+_0x49c3e7(0x293),_0x16856f),_0x19d3a4();}});}}class _0x4454b9 extends _0x19f40b{[_0xd4b2e(0x3ff)];[_0xd4b2e(0x6d7)];[_0xd4b2e(0x313)];['db'];[_0xd4b2e(0x8ed)];[_0xd4b2e(0x7f3)]=0x0;[_0xd4b2e(0x69e)]=0x0;[_0xd4b2e(0x260)]=!0x1;constructor(_0x2b3cdd,_0x194986,_0x4bf81a,_0x37dbaf,_0x6cfb97){const _0x5ab898=_0xd4b2e;if(_0x5ab898(0x8e6)!=typeof _0x194986)throw new _0x276337(_0x15ca7a['GraphDatabaseNameNotString'],_0x5ab898(0xa74));super(_0x2b3cdd,_0x194986),this[_0x5ab898(0x3ff)]=_0x2b3cdd,this[_0x5ab898(0x6d7)]=_0x4bf81a,this[_0x5ab898(0x313)]=_0x37dbaf;const _0x28cec4=_0x5ab898(0x2c8)+this[_0x5ab898(0x313)]+'ccc'+this[_0x5ab898(0x6d7)]+_0x5ab898(0x2c8)+this[_0x5ab898(0x39a)];this['db']=new _0x6cfb97(_0x28cec4),this[_0x5ab898(0x53c)]();}['getIsLoaded'](){const _0x529904=_0xd4b2e;return this[_0x529904(0x260)];}[_0xd4b2e(0x4a7)](_0x5bcaac){const _0x10151d=_0xd4b2e;this[_0x10151d(0x260)]=_0x5bcaac;}[_0xd4b2e(0x32a)](){const _0x72fdb5=_0xd4b2e;clearTimeout(this[_0x72fdb5(0x8ed)]),delete this['debounceStats'],super[_0x72fdb5(0x32a)]();}['close'](){const _0x42eb40=_0xd4b2e;this[_0x42eb40(0x598)]['publish']({'sourceId':_0x596898,'messageType':_0x49e311['Content'],'content':{'type':_0x2b2ef9[_0x42eb40(0x51f)],'label':this[_0x42eb40(0x39a)]}});}[_0xd4b2e(0x161)](){const _0x26303c=_0xd4b2e;return _0x29f76b[_0x26303c(0x9b8)][_0x26303c(0x65e)];}['reset'](){const _0x36ce34=_0xd4b2e;this[_0x36ce34(0x53c)]();}[_0xd4b2e(0x261)](_0x48b560,_0x446d48,_0x230585,_0x58d523){const _0x17763f=_0xd4b2e;this['db'][_0x17763f(0x261)](_0x48b560,_0x446d48,_0x230585,_0x58d523),this[_0x17763f(0x7f3)]+=0x1,this[_0x17763f(0x53c)]();}['addEdge'](_0x44a702,_0x13d1bc){const _0x3f3087=_0xd4b2e;this['db']['addEdge'](_0x44a702,_0x13d1bc),this[_0x3f3087(0x7f3)]+=0x1,this[_0x3f3087(0x53c)]();}['getContent'](_0x838cec,_0x32c091,_0x3cc054){const _0x13dcd6=_0xd4b2e,_0x386f78=this['db'][_0x13dcd6(0x3cf)](_0x838cec,_0x32c091,_0x3cc054);return this['reads']+=0x1,_0x98a765[_0x13dcd6(0x256)](_0xdcad61[_0x13dcd6(0x65e)],{'type':_0x13dcd6(0x791),'label':this[_0x13dcd6(0x39a)],'nodeId':this[_0x13dcd6(0x3ff)]['getId'](),'nodeType':this[_0x13dcd6(0x3ff)]['type'],'clusterId':this['clusterId'],'size':0x0}),this['sendStats'](),_0x386f78;}[_0xd4b2e(0x886)](_0x3bc13d){const _0x5a6b62=_0xd4b2e;this['db']['remove'](_0x3bc13d),this[_0x5a6b62(0x7f3)]+=0x1,this['sendStats']();}[_0xd4b2e(0x582)](_0xe403b7){const _0x2261ce=_0xd4b2e;this['db'][_0x2261ce(0x582)](_0xe403b7);}[_0xd4b2e(0x470)](_0x318fe3){this['db']['loadFromDisk'](_0x318fe3);}[_0xd4b2e(0x53c)](){const _0x59ff73=_0xd4b2e;this[_0x59ff73(0x8ed)]&&clearTimeout(this[_0x59ff73(0x8ed)]),this[_0x59ff73(0x8ed)]=setTimeout(async()=>{const _0xc9d2ee=_0x59ff73;delete this[_0xc9d2ee(0x8ed)];const _0x2da796=this['db'][_0xc9d2ee(0x4c5)]();this['systemTopic'][_0xc9d2ee(0x2b2)]({'sourceId':_0x596898,'messageType':_0x49e311[_0xc9d2ee(0x657)],'content':{'type':_0x2b2ef9[_0xc9d2ee(0x1b1)],'label':this['label'],'stats':{'timestamp':Date[_0xc9d2ee(0x702)](),'storage':_0x2da796,'messagesSent':this[_0xc9d2ee(0x75d)],'messagesReceived':this[_0xc9d2ee(0x4b5)],'bytesSent':this[_0xc9d2ee(0x679)],'bytesReceived':this['bytesReceived'],'writes':this['writes'],'reads':this[_0xc9d2ee(0x69e)],'prompts':0x0,'tokens':0x0}}}),_0x98a765[_0xc9d2ee(0x344)](_0xdcad61['GraphDatabase'],_0xc9d2ee(0x2c8)+this['clusterId']+_0xc9d2ee(0x2c8)+this[_0xc9d2ee(0x39a)],_0x2da796);},_0x371ea9);}}class _0x597958 extends _0x2bbe16{[_0xd4b2e(0x2f7)];constructor(_0x15ed95,_0x20c713,_0x23c3b5){super(_0x15ed95,_0x20c713),this['mediaStream']=_0x23c3b5;}[_0xd4b2e(0x161)](){return _0x29f76b['ContentType']['Media'];}[_0xd4b2e(0x865)](){return this['mediaStream'];}[_0xd4b2e(0x819)](){const _0xa476a=_0xd4b2e;return this[_0xa476a(0x2f7)]['id'];}}class _0x586d70 extends _0x597958{[_0xd4b2e(0x875)];['params'];[_0xd4b2e(0xa30)];[_0xd4b2e(0x1e4)]=_0x2884c3();constructor(_0x101085,_0x4eda7c,_0xb7d735,_0x45df86,_0x1cdfed){const _0x201cff=_0xd4b2e;super(_0x101085,_0x4eda7c,_0xb7d735),this[_0x201cff(0x875)]=_0x45df86,this[_0x201cff(0x44a)]=_0x1cdfed;}[_0xd4b2e(0x32a)](){const _0x95b503=_0xd4b2e;this[_0x95b503(0x1e7)](_0x95b503(0x6c5)),this[_0x95b503(0x1e7)]('video'),super[_0x95b503(0x32a)]();}[_0xd4b2e(0x60c)](_0x80df22){const _0x40438d=_0xd4b2e;if(!this['topic'])throw new _0x1cac69(_0x1cac69[_0x40438d(0x15e)][_0x40438d(0x1d4)],{'label':this[_0x40438d(0x39a)],'ownerId':this[_0x40438d(0xa7a)][_0x40438d(0x2a6)](),'remoteId':this['remoteId']});this[_0x40438d(0xa30)]['publish']({'sourceId':this['owner'][_0x40438d(0x2a6)](),'content':{'action':_0x509b92[_0x40438d(0x5c4)],'track':_0x80df22,'stream':this['mediaStream'],'priority':_0x29f76b[_0x40438d(0x614)][_0x40438d(0x85b)],'params':this[_0x40438d(0x177)](_0x80df22[_0x40438d(0x6c2)],this[_0x40438d(0x44a)])}});}[_0xd4b2e(0x1e7)](_0x259903){const _0x43f343=_0xd4b2e,_0x300080=this[_0x43f343(0x9b5)](_0x259903);if(_0x300080){if(!this[_0x43f343(0xa30)])return null;this[_0x43f343(0xa30)][_0x43f343(0x2b2)]({'sourceId':this[_0x43f343(0xa7a)]['getId'](),'content':{'action':_0x509b92[_0x43f343(0x3ee)],'track':_0x300080,'stream':this['mediaStream']}});}return _0x300080;}[_0xd4b2e(0x9dc)](_0x197f70){const _0x330011=_0xd4b2e;if(!this['topic'])throw new _0x1cac69(_0x1cac69[_0x330011(0x15e)]['OutgoingMediaStreamNoTopic'],{'label':this['label'],'ownerId':this[_0x330011(0xa7a)][_0x330011(0x2a6)](),'remoteId':this['remoteId']});this[_0x330011(0xa30)][_0x330011(0x2b2)]({'sourceId':this[_0x330011(0xa7a)][_0x330011(0x2a6)](),'content':{'action':_0x509b92[_0x330011(0x793)],'priority':_0x197f70,'stream':this['mediaStream']}});}['subscribe']({trackKinds:_0x2a789c,params:_0x4e65a8},_0x3c8c11){const _0xc8dbab=_0xd4b2e;if(!this[_0xc8dbab(0xa30)])throw new _0x1cac69(_0x1cac69[_0xc8dbab(0x15e)][_0xc8dbab(0x1d4)],{'label':this[_0xc8dbab(0x39a)],'ownerId':this[_0xc8dbab(0xa7a)][_0xc8dbab(0x2a6)](),'remoteId':this[_0xc8dbab(0x875)]});for(const _0x32b609 of this[_0xc8dbab(0x2f7)][_0xc8dbab(0xa7f)]())_0x2a789c['includes'](_0x32b609['kind'])&&this[_0xc8dbab(0xa30)][_0xc8dbab(0x2b2)]({'sourceId':this[_0xc8dbab(0xa7a)]['getId'](),'content':{'action':_0x509b92[_0xc8dbab(0x5c4)],'track':_0x32b609,'stream':this[_0xc8dbab(0x2f7)],'priority':_0x3c8c11,'params':this[_0xc8dbab(0x177)](_0x32b609[_0xc8dbab(0x6c2)],_0x4e65a8)}});}['update']({params:_0x589232}){const _0x2d47b4=_0xd4b2e;if(!this[_0x2d47b4(0xa30)])throw new _0x1cac69(_0x1cac69['codes'][_0x2d47b4(0x1d4)],{'label':this[_0x2d47b4(0x39a)],'ownerId':this[_0x2d47b4(0xa7a)][_0x2d47b4(0x2a6)](),'remoteId':this[_0x2d47b4(0x875)]});for(const _0x320c11 of this[_0x2d47b4(0x2f7)]['getTracks']())this['topic'][_0x2d47b4(0x2b2)]({'sourceId':this[_0x2d47b4(0xa7a)][_0x2d47b4(0x2a6)](),'content':{'action':_0x509b92[_0x2d47b4(0x793)],'stream':this['mediaStream'],'params':this[_0x2d47b4(0x177)](_0x320c11['kind'],_0x589232)}});}[_0xd4b2e(0x37a)]({trackKinds:_0x254c3b}){const _0x4f9b31=_0xd4b2e;if(this[_0x4f9b31(0xa30)]){for(const _0x5cf77c of this[_0x4f9b31(0x2f7)][_0x4f9b31(0xa7f)]())_0x254c3b[_0x4f9b31(0x29c)](_0x5cf77c[_0x4f9b31(0x6c2)])&&this[_0x4f9b31(0xa30)][_0x4f9b31(0x2b2)]({'sourceId':this[_0x4f9b31(0xa7a)][_0x4f9b31(0x2a6)](),'content':{'action':_0x509b92[_0x4f9b31(0x3ee)],'stream':this[_0x4f9b31(0x2f7)],'track':_0x5cf77c}});}}[_0xd4b2e(0x66f)](_0x5c23d9){const _0x228f09=_0xd4b2e;this[_0x228f09(0xa30)]=_0x5c23d9;}[_0xd4b2e(0x29f)](_0x3710de){const _0x2ba971=_0xd4b2e;_0x3710de===this['topic']&&(delete this['topic'],this[_0x2ba971(0x1e4)][_0x2ba971(0x2b2)]());}['onUnregisterPublisher'](_0x5f1aa1){const _0x5e17ab=_0xd4b2e;return this[_0x5e17ab(0x1e4)][_0x5e17ab(0x696)](_0x5f1aa1);}[_0xd4b2e(0x9b5)](_0x9945f8){const _0x15c246=_0xd4b2e;return this[_0x15c246(0x2f7)][_0x15c246(0xa7f)]()[_0x15c246(0x91c)](_0x3783de=>_0x3783de[_0x15c246(0x6c2)]===_0x9945f8)||null;}[_0xd4b2e(0x177)](_0x4599f3,_0x210de1){const _0x35122f=_0xd4b2e;let _0x2da3a4;return _0x35122f(0x5ab)===_0x4599f3&&_0x210de1?.[_0x35122f(0x5ab)]&&_0x35122f(0x4b1)!=typeof _0x210de1[_0x35122f(0x5ab)]&&(_0x2da3a4={'kind':_0x35122f(0x5ab),..._0x210de1[_0x35122f(0x5ab)]},_0x2da3a4[_0x35122f(0x1d6)]=this[_0x35122f(0x761)]()),_0x35122f(0x6c5)===_0x4599f3&&_0x210de1?.[_0x35122f(0x6c5)]&&'boolean'!=typeof _0x210de1[_0x35122f(0x6c5)]&&(_0x2da3a4={'kind':'audio',..._0x210de1['audio']}),_0x2da3a4;}[_0xd4b2e(0x761)](){const _0x3c1125=_0xd4b2e;let _0x479bfc={'width':0x0,'height':0x0};const _0x1ceb48=this['mediaStream']['getVideoTracks']();if(_0x1ceb48['length']>0x0){const _0x1ba386=_0x1ceb48[0x0][_0x3c1125(0x5a4)]();_0x1ba386[_0x3c1125(0x62b)]&&_0x1ba386['height']&&(_0x479bfc={'width':_0x1ba386[_0x3c1125(0x62b)],'height':_0x1ba386['height']});}return _0x479bfc;}}class _0x14d15b extends _0x597958{['clusterId'];[_0xd4b2e(0x159)]=_0x29f76b[_0xd4b2e(0x614)][_0xd4b2e(0x85b)];['trackEndedListeners']=new Map();[_0xd4b2e(0x299)]=new Map();constructor(_0x84659e,_0x51cead,_0x1a1925,_0x3b7e4d){const _0x171d22=_0xd4b2e;super(_0x84659e,_0x51cead,_0x1a1925 instanceof MediaStream?_0x1a1925:_0x1a1925['srcObject']?_0x1a1925['srcObject']:_0x1a1925[_0x171d22(0x347)]()),this['clusterId']=_0x3b7e4d,this[_0x171d22(0x2f7)][_0x171d22(0xa7f)]()['forEach'](_0x4c2209=>this['setupTrackEndedListeners'](_0x4c2209)),_0x98a765[_0x171d22(0x256)](_0xdcad61[_0x171d22(0x615)],{'type':'publish','label':this[_0x171d22(0x39a)],'nodeId':this[_0x171d22(0xa7a)][_0x171d22(0x2a6)](),'nodeType':this['owner'][_0x171d22(0x747)],'clusterId':this[_0x171d22(0x6d7)],'streamId':this[_0x171d22(0x819)](),'trackKinds':this['mediaStream'][_0x171d22(0xa7f)]()[_0x171d22(0x7da)](_0x1c2484=>_0x1c2484['kind'])});}[_0xd4b2e(0x32a)](){const _0x34db46=_0xd4b2e;this[_0x34db46(0x299)]['size']>0x0&&(this[_0x34db46(0x299)][_0x34db46(0x7d0)](_0x5d2f64=>{const _0x4ef8cc=_0x34db46;_0x5d2f64[_0x4ef8cc(0x738)](),_0x5d2f64[_0x4ef8cc(0x32a)]();}),this[_0x34db46(0x299)]['clear']()),this[_0x34db46(0x3f0)][_0x34db46(0x7d0)](_0x1abfca=>_0x1abfca()),super[_0x34db46(0x32a)]();}['publish'](_0x17da74){const _0xcedbf3=_0xd4b2e;this[_0xcedbf3(0x598)]['publish']({'sourceId':this[_0xcedbf3(0xa7a)][_0xcedbf3(0x2a6)](),'destinationIds':_0x17da74?[_0x17da74]:void 0x0,'propagate':!0x0,'messageType':_0x49e311[_0xcedbf3(0x657)],'content':{'type':_0x2b2ef9[_0xcedbf3(0x860)],'ownerId':this[_0xcedbf3(0xa7a)][_0xcedbf3(0x2a6)](),'label':this[_0xcedbf3(0x39a)],'stream':{'streamId':this[_0xcedbf3(0x819)](),'availableTrackKinds':this['mediaStream'][_0xcedbf3(0xa7f)]()[_0xcedbf3(0x7da)](_0x33bca7=>_0x33bca7[_0xcedbf3(0x6c2)])}}});}[_0xd4b2e(0x2eb)](){const _0x3a4e28=_0xd4b2e;this[_0x3a4e28(0x598)][_0x3a4e28(0x2b2)]({'sourceId':this[_0x3a4e28(0xa7a)]['getId'](),'propagate':!0x0,'messageType':_0x49e311['Content'],'content':{'type':_0x2b2ef9[_0x3a4e28(0x70a)],'ownerId':this[_0x3a4e28(0xa7a)]['getId'](),'label':this[_0x3a4e28(0x39a)]}}),this['systemTopic']['publish']({'sourceId':_0x596898,'messageType':_0x49e311[_0x3a4e28(0x657)],'content':{'type':_0x2b2ef9[_0x3a4e28(0x41b)],'label':this[_0x3a4e28(0x39a)]}}),_0x98a765[_0x3a4e28(0x256)](_0xdcad61[_0x3a4e28(0x615)],{'type':_0x3a4e28(0x2eb),'label':this[_0x3a4e28(0x39a)],'nodeId':this[_0x3a4e28(0xa7a)]['getId'](),'nodeType':this[_0x3a4e28(0xa7a)][_0x3a4e28(0x747)],'clusterId':this[_0x3a4e28(0x6d7)],'streamId':this[_0x3a4e28(0x819)]()});}[_0xd4b2e(0x58f)](){const _0xaee5c5=_0xd4b2e;return this[_0xaee5c5(0x159)];}[_0xd4b2e(0x9dc)](_0x4c061c){const _0xb73eab=_0xd4b2e;this['priority']=_0x4c061c,this[_0xb73eab(0x299)][_0xb73eab(0x7d0)](_0x347590=>_0x347590[_0xb73eab(0x9dc)](_0x4c061c));}[_0xd4b2e(0x71e)](_0x1e70f6,_0x43a947){const _0x4a0c00=_0xd4b2e;if(!this[_0x4a0c00(0x299)]['has'](_0x1e70f6)){const _0x5b33b7=new _0x586d70(this[_0x4a0c00(0xa7a)],this[_0x4a0c00(0x39a)],this[_0x4a0c00(0x2f7)],_0x1e70f6,_0x43a947),_0x1eab85=_0x5b33b7[_0x4a0c00(0x4ee)](()=>{const _0x3d282c=_0x4a0c00;_0x1eab85(),this['outgoingStreams']['get'](_0x1e70f6)?.[_0x3d282c(0x32a)](),this[_0x3d282c(0x299)][_0x3d282c(0xa2f)](_0x1e70f6);});this[_0x4a0c00(0x299)]['set'](_0x1e70f6,_0x5b33b7),_0x5b33b7['registerSystemPublisher'](this['systemTopic']);}return this[_0x4a0c00(0x299)][_0x4a0c00(0x6e6)](_0x1e70f6);}['getShareableStreamId'](){const _0x1f60b6=_0xd4b2e;return this[_0x1f60b6(0x2f7)]['id'];}['handleLocalTrackFailure'](_0x176ad6){const _0x4ab429=_0xd4b2e;this[_0x4ab429(0x598)]['publish']({'sourceId':_0x596898,'messageType':_0x49e311['Content'],'content':{'type':_0x2b2ef9[_0x4ab429(0x3b4)],'label':this[_0x4ab429(0x39a)],'trackKinds':[_0x176ad6[_0x4ab429(0x6c2)]]}});}[_0xd4b2e(0x61c)](_0x3ace25){const _0x237d37=_0xd4b2e,_0x3964c4=()=>this[_0x237d37(0x13e)](_0x3ace25);_0x3ace25[_0x237d37(0x2fd)](_0x237d37(0x4d6),_0x3964c4),_0x3ace25[_0x237d37(0x2fd)](_0x237d37(0x568),_0x3964c4),this[_0x237d37(0x3f0)][_0x237d37(0x991)](_0x3ace25[_0x237d37(0x6c2)],()=>{const _0x21d1fc=_0x237d37;_0x3ace25[_0x21d1fc(0x5af)](_0x21d1fc(0x4d6),_0x3964c4),_0x3ace25[_0x21d1fc(0x5af)](_0x21d1fc(0x568),_0x3964c4),this[_0x21d1fc(0x3f0)][_0x21d1fc(0xa2f)](_0x3ace25[_0x21d1fc(0x6c2)]);});}}class _0x51b5dd extends _0x14d15b{['audioContext'];[_0xd4b2e(0x440)]=[];['clientStream'];[_0xd4b2e(0x2df)];[_0xd4b2e(0x22b)];['sourceVideo'];[_0xd4b2e(0x80d)];['context'];[_0xd4b2e(0x560)];constructor(_0x3cb41e,_0x4d32fc,_0x520218,_0x1face2,_0x4448c9,_0x51351e){const _0x4bc917=_0xd4b2e;if(super(_0x3cb41e,_0x4d32fc,_0x520218,_0x51351e),this[_0x4bc917(0x914)]=_0x4448c9,this['clientStream']=this[_0x4bc917(0x2f7)],this[_0x4bc917(0x8da)]=document[_0x4bc917(0x728)](_0x4bc917(0x5ab)),this[_0x4bc917(0x8da)][_0x4bc917(0x94f)]=!0x0,this[_0x4bc917(0x8da)][_0x4bc917(0xa1a)]=!0x0,this['sourceVideo'][_0x4bc917(0x743)]=this[_0x4bc917(0x5b2)],this[_0x4bc917(0x8da)]['load'](),this[_0x4bc917(0x8da)][_0x4bc917(0x71b)]=()=>{const _0x360bb5=_0x4bc917;this[_0x360bb5(0x8da)][_0x360bb5(0x5f4)]();},this['canvas']=document[_0x4bc917(0x728)](_0x4bc917(0x80d)),this[_0x4bc917(0x30f)]=this[_0x4bc917(0x80d)][_0x4bc917(0x5a5)]('2d'),this[_0x4bc917(0x2f7)]=this[_0x4bc917(0x80d)][_0x4bc917(0x347)](_0x1face2),this[_0x4bc917(0x22b)]=this[_0x4bc917(0x914)]['createMediaStreamDestination'](),this[_0x4bc917(0x5b2)][_0x4bc917(0x22f)]()[_0x4bc917(0x9b4)]>0x0){const _0x1a52b1=this[_0x4bc917(0x5b2)][_0x4bc917(0x22f)]()[0x0];this[_0x4bc917(0x2df)]=this['audioContext']['createMediaStreamSource'](new MediaStream([_0x1a52b1])),this[_0x4bc917(0x2df)][_0x4bc917(0xa48)](this[_0x4bc917(0x22b)]);}const _0x2a0360=this['audioDestination'][_0x4bc917(0x67a)][_0x4bc917(0xa7f)]()[0x0];this[_0x4bc917(0x2f7)][_0x4bc917(0x60c)](_0x2a0360),this['interval']=setInterval(()=>{const _0x2f27f4=_0x4bc917;this[_0x2f27f4(0x80d)][_0x2f27f4(0x62b)]=this['sourceVideo'][_0x2f27f4(0x278)],this[_0x2f27f4(0x80d)][_0x2f27f4(0x59e)]=this[_0x2f27f4(0x8da)][_0x2f27f4(0x18c)],this[_0x2f27f4(0x8da)][_0x2f27f4(0x278)]?(0x0!==this[_0x2f27f4(0x5b2)][_0x2f27f4(0x423)]()[_0x2f27f4(0x9b4)]&&this[_0x2f27f4(0x5b2)][_0x2f27f4(0x423)]()[0x0]['enabled']?this[_0x2f27f4(0x2f7)][_0x2f27f4(0x423)]()[0x0][_0x2f27f4(0x9d2)]=!0x0:this[_0x2f27f4(0x2f7)][_0x2f27f4(0x423)]()[0x0]['enabled']=!0x1,0x0!==this['clientStream'][_0x2f27f4(0x22f)]()[_0x2f27f4(0x9b4)]&&this[_0x2f27f4(0x5b2)][_0x2f27f4(0x22f)]()[0x0]['enabled']?this['mediaStream']['getAudioTracks']()[0x0][_0x2f27f4(0x9d2)]=!0x0:this[_0x2f27f4(0x2f7)][_0x2f27f4(0x22f)]()[0x0][_0x2f27f4(0x9d2)]=!0x1,this[_0x2f27f4(0x30f)][_0x2f27f4(0x8e5)](this[_0x2f27f4(0x8da)],0x0,0x0)):this[_0x2f27f4(0x30f)][_0x2f27f4(0x82e)](0x0,0x0,this[_0x2f27f4(0x80d)]['width'],this[_0x2f27f4(0x80d)][_0x2f27f4(0x59e)]);},0x3e8/_0x1face2);}[_0xd4b2e(0x32a)](){const _0x40241c=_0xd4b2e;clearInterval(this[_0x40241c(0x560)]),this[_0x40241c(0x8da)][_0x40241c(0x886)](),this['canvas'][_0x40241c(0x886)](),this[_0x40241c(0x2df)]?.[_0x40241c(0x4ec)](),this['audioDestination'][_0x40241c(0x4ec)](),this[_0x40241c(0x2f7)]['getTracks']()[_0x40241c(0x7d0)](_0x13a761=>{const _0x3329db=_0x40241c;_0x13a761[_0x3329db(0x129)](),this[_0x3329db(0x2f7)][_0x3329db(0x1e7)](_0x13a761);}),super[_0x40241c(0x32a)]();}[_0xd4b2e(0x60c)](_0x22b6a7){const _0x52d8cd=_0xd4b2e,_0x495056=this['getTrack'](_0x22b6a7[_0x52d8cd(0x6c2)]);_0x495056&&this['removeTrack'](_0x495056),_0x52d8cd(0x6c5)!==_0x22b6a7[_0x52d8cd(0x6c2)]?(_0x52d8cd(0x5ab)===_0x22b6a7[_0x52d8cd(0x6c2)]&&this[_0x52d8cd(0x901)](_0x22b6a7),this[_0x52d8cd(0x61c)](_0x22b6a7)):this[_0x52d8cd(0x997)](_0x22b6a7);}[_0xd4b2e(0x1e7)](_0x48b734){const _0x395ba7=_0xd4b2e,_0x31bf15=this['getTrackFromParam'](_0x48b734);return _0x31bf15&&(_0x395ba7(0x6c5)===_0x31bf15[_0x395ba7(0x6c2)]&&(this[_0x395ba7(0x2df)]?.[_0x395ba7(0x4ec)](),this[_0x395ba7(0x2df)]=void 0x0),this[_0x395ba7(0x3f0)][_0x395ba7(0x6e6)](_0x31bf15[_0x395ba7(0x6c2)])?.(),this[_0x395ba7(0x5b2)]['removeTrack'](_0x31bf15)),_0x31bf15;}[_0xd4b2e(0x829)](_0x3fdbdd){const _0x532a2f=_0xd4b2e;this[_0x532a2f(0x1e7)](_0x3fdbdd[_0x532a2f(0x6c2)]),this[_0x532a2f(0x60c)](_0x3fdbdd);}[_0xd4b2e(0x24d)](_0x223afd){const _0x244eb8=_0xd4b2e;this[_0x244eb8(0x440)]=_0x223afd;}[_0xd4b2e(0x9b5)](_0x562c19){const _0x161669=_0xd4b2e;return this[_0x161669(0x5b2)][_0x161669(0xa7f)]()[_0x161669(0x91c)](_0x143c1c=>_0x143c1c[_0x161669(0x6c2)]===_0x562c19)||null;}[_0xd4b2e(0x173)](_0x10adf3){const _0x4ec647=_0xd4b2e;return _0x4ec647(0x8e6)==typeof _0x10adf3?this['getTrack'](_0x10adf3):_0x10adf3;}[_0xd4b2e(0x997)](_0x9a4665){const _0x61955f=_0xd4b2e;_0x61955f(0x590)===this[_0x61955f(0x914)][_0x61955f(0x291)]&&this['audioContext']['resume'](),this[_0x61955f(0x5b2)][_0x61955f(0x60c)](_0x9a4665),this['audioSource']=this[_0x61955f(0x914)][_0x61955f(0x7d8)](this['clientStream']),this['audioSource']['connect'](this[_0x61955f(0x22b)]);}['addVideoTrack'](_0x487d05){const _0x18cbe6=_0xd4b2e;this[_0x18cbe6(0x5b2)][_0x18cbe6(0x60c)](_0x487d05),this['sourceVideo'][_0x18cbe6(0x61a)]();}}class _0x5a7bda extends _0x14d15b{}class _0x59a66e extends _0x19f40b{[_0xd4b2e(0x3ff)];[_0xd4b2e(0x6d7)];[_0xd4b2e(0x313)];['transactionService'];[_0xd4b2e(0x9fc)];['options'];[_0xd4b2e(0x6de)];[_0xd4b2e(0x741)];[_0xd4b2e(0x9c6)]=new Map();[_0xd4b2e(0x133)]=new Map();['pendingFilesSyncing']=new Map();[_0xd4b2e(0x788)]=new Map();[_0xd4b2e(0x1f9)]=new Map();[_0xd4b2e(0x913)]=new Map();[_0xd4b2e(0x84f)];[_0xd4b2e(0x644)]=_0xfb027c();['listenerUnsubscribers']=new Map();[_0xd4b2e(0x8ed)];[_0xd4b2e(0x7f3)]=0x0;[_0xd4b2e(0x69e)]=0x0;[_0xd4b2e(0x62a)]=!0x0;['isSyncing']=!0x0;[_0xd4b2e(0x5c2)]=0x0;[_0xd4b2e(0x801)]=0x0;constructor(_0x2918db,_0x3e9099,_0x1bb3dd,_0x16ec12,_0x209106,_0x3a05f5,_0x441d83,_0xddc5d8){const _0x3e300d=_0xd4b2e;if(_0x3e300d(0x8e6)!=typeof _0x3e9099)throw new _0x276337(_0x15ca7a[_0x3e300d(0xa75)],_0x3e300d(0x476));super(_0x2918db,_0x3e9099),this[_0x3e300d(0x3ff)]=_0x2918db,this[_0x3e300d(0x6d7)]=_0x1bb3dd,this[_0x3e300d(0x313)]=_0x16ec12,this[_0x3e300d(0x328)]=_0x209106,this['waitForArrayBufferSize']=_0x441d83,this[_0x3e300d(0x49e)]=_0xddc5d8;const _0x43eb7b=_0x3e300d(0x2c8)+this[_0x3e300d(0x313)]+'ccc'+this['clusterId']+'ccc'+_0x3e9099;this[_0x3e300d(0x84f)]=new _0x3a05f5(_0x43eb7b),this[_0x3e300d(0x62a)]=this[_0x3e300d(0x49e)]?.['syncContent']??!0x0,this[_0x3e300d(0x49e)]?.['standalone']&&(this[_0x3e300d(0x62a)]=!0x1),this[_0x3e300d(0x53c)]();}['reset'](){const _0x5c6e82=_0xd4b2e;this[_0x5c6e82(0x53c)]();}[_0xd4b2e(0x161)](){const _0x6ce6c=_0xd4b2e;return _0x29f76b[_0x6ce6c(0x9b8)][_0x6ce6c(0x65b)];}async['sync'](){const _0x461cd9=_0xd4b2e;this[_0x461cd9(0x47a)]=!0x0;try{const _0x52ec71=await this[_0x461cd9(0x84f)][_0x461cd9(0x6e6)](_0x2abcdd),_0x451058=await _0x52ec71[_0x461cd9(0x7a9)]();this[_0x461cd9(0x741)]=_0x451058;}catch(_0x244a5b){}this[_0x461cd9(0x6de)]=this[_0x461cd9(0x99c)](async(_0x442a84,_0x14284b)=>{const _0x3e7adb=_0x461cd9;if(!(_0x14284b instanceof File))try{if(_0x14284b[_0x3e7adb(0x263)]===_0xfbb2ec[_0x3e7adb(0x23e)])return void this[_0x3e7adb(0x1b2)](_0x14284b);this[_0x3e7adb(0x78c)](_0x14284b);}catch(_0x118804){if(_0x118804 instanceof _0x1cac69)throw _0x118804;throw new _0x1cac69(_0x1cac69[_0x3e7adb(0x15e)][_0x3e7adb(0x52a)],{'payload':_0x14284b});}}),await this[_0x461cd9(0x720)](),this[_0x461cd9(0x62a)]?await this[_0x461cd9(0x972)]():this['completeSync'](),this[_0x461cd9(0x53c)]();}[_0xd4b2e(0x32a)](){const _0x1eae25=_0xd4b2e;this['unsubscribeHandler']?.(),this[_0x1eae25(0x90f)][_0x1eae25(0x7d0)](_0xda2849=>_0xda2849()),this[_0x1eae25(0x90f)][_0x1eae25(0x1b8)](),clearTimeout(this[_0x1eae25(0x8ed)]),delete this['debounceStats'],super[_0x1eae25(0x32a)]();}[_0xd4b2e(0x27e)](){const _0x16c4b6=_0xd4b2e;this[_0x16c4b6(0x598)]?.['publish']({'sourceId':_0x596898,'messageType':_0x49e311[_0x16c4b6(0x657)],'content':{'type':_0x2b2ef9[_0x16c4b6(0x4b0)],'label':this[_0x16c4b6(0x39a)]}});}['subscribe'](_0x461e5a,_0x2bbe42){const _0x471120=_0xd4b2e;if(this['listenerUnsubscribers'][_0x471120(0x8e9)](_0x461e5a))throw new _0x276337(_0x15ca7a[_0x471120(0x573)],_0x471120(0x16f));this['listenerUnsubscribers'][_0x471120(0x991)](_0x461e5a,this[_0x471120(0x644)][_0x471120(0x696)](_0x2bbe42)),this[_0x471120(0x47a)]||this[_0x471120(0x644)][_0x471120(0x2b2)]({'event':_0x29f76b['StorageEventType'][_0x471120(0x5d9)],'payload':{'filesSynced':this[_0x471120(0x5c2)]}});}[_0xd4b2e(0x37a)](_0x434262){const _0x5eb0ad=_0xd4b2e;this[_0x5eb0ad(0x90f)]['get'](_0x434262)?.(),this[_0x5eb0ad(0x90f)][_0x5eb0ad(0xa2f)](_0x434262);}[_0xd4b2e(0x2b2)](_0x263c4c){const _0x17769e=_0xd4b2e;switch(_0x263c4c[_0x17769e(0x49f)]){case _0x29f76b[_0x17769e(0x1ef)][_0x17769e(0x927)]:return this[_0x17769e(0x691)](_0x263c4c['file'],_0x263c4c[_0x17769e(0x941)],_0x263c4c[_0x17769e(0x49e)]);case _0x29f76b['PayloadAction']['Folder']:return this[_0x17769e(0x714)](_0x263c4c[_0x17769e(0x941)]);case _0x29f76b['PayloadAction'][_0x17769e(0x218)]:return this[_0x17769e(0x7db)](_0x263c4c[_0x17769e(0x941)],_0x263c4c[_0x17769e(0x61e)]);default:throw new _0x276337(_0x15ca7a[_0x17769e(0x611)],_0x17769e(0x5e7)+_0x263c4c);}}async[_0xd4b2e(0x2eb)](_0x4fcef6){const _0x3139b2=_0xd4b2e;try{const _0x4934ab=(0x0,_0x1cf016['v4'])(),_0x47df49=this[_0x3139b2(0x741)],_0x160b8f={'payloadType':_0xfbb2ec[_0x3139b2(0xa73)],'action':_0x565f8c[_0x3139b2(0xa4a)],'id':_0x4934ab,'parentId':_0x47df49,'path':_0x4fcef6};await this['publishTransaction'](_0x160b8f);const _0x719882=await this[_0x3139b2(0x8e3)](_0x4fcef6);!0x0!==this[_0x3139b2(0x49e)]?.['standalone']&&await this[_0x3139b2(0x13b)](_0x160b8f),_0x98a765['logServiceEvent'](_0xdcad61[_0x3139b2(0x3e1)],{'type':_0x3139b2(0x2eb),'label':this['label'],'nodeId':this[_0x3139b2(0x3ff)]['getId'](),'nodeType':this[_0x3139b2(0x3ff)][_0x3139b2(0x747)],'clusterId':this[_0x3139b2(0x6d7)],'kind':_0x719882,'path':_0x4fcef6}),this[_0x3139b2(0x7f3)]+=0x1,this['sendStats']();}catch(_0x423d53){if(_0x423d53 instanceof _0x1cac69)throw new _0x276337(_0x15ca7a[_0x3139b2(0x6ec)],_0x3139b2(0xa09)+_0x4fcef6+_0x3139b2(0x387));throw new _0x276337(_0x15ca7a[_0x3139b2(0x9a2)],'Cannot\x20unpublish\x20object:\x20'+_0x4fcef6);}}async['get'](_0x4fd3fe,_0x50c0d3){const _0x4c3abb=_0xd4b2e;_0x98a765[_0x4c3abb(0x256)](_0xdcad61[_0x4c3abb(0x3e1)],{'type':_0x4c3abb(0x6e6),'label':this[_0x4c3abb(0x39a)],'nodeId':this[_0x4c3abb(0x3ff)][_0x4c3abb(0x2a6)](),'nodeType':this[_0x4c3abb(0x3ff)][_0x4c3abb(0x747)],'clusterId':this['clusterId'],'path':_0x4fd3fe}),this[_0x4c3abb(0x69e)]+=0x1,this[_0x4c3abb(0x53c)]();try{return await this[_0x4c3abb(0x84f)][_0x4c3abb(0x6e6)](_0x4fd3fe,_0x50c0d3);}catch(_0x2ccd9e){try{await this[_0x4c3abb(0x84f)][_0x4c3abb(0x6e6)](_0x4fd3fe+_0x137979);}catch(_0x3d7076){throw new _0x276337(_0x15ca7a[_0x4c3abb(0x9a2)],'Cannot\x20get\x20file:\x20'+_0x4fd3fe);}throw new _0x276337(_0x15ca7a[_0x4c3abb(0x6ec)],_0x4c3abb(0x233));}}async[_0xd4b2e(0x3ad)](_0x2c492f,_0x530c2f){const _0x22c44c=_0xd4b2e,{recursive:_0x124570=!0x1,includeSyncingFiles:_0x353e89=!0x1}=_0x530c2f??{};_0x98a765['logServiceEvent'](_0xdcad61['ObjectStorage'],{'type':_0x22c44c(0x3ad),'label':this['label'],'nodeId':this[_0x22c44c(0x3ff)]['getId'](),'nodeType':this['localNode'][_0x22c44c(0x747)],'clusterId':this[_0x22c44c(0x6d7)],'path':_0x2c492f}),this[_0x22c44c(0x69e)]+=0x1,this[_0x22c44c(0x53c)]();try{const _0x35345f=await this[_0x22c44c(0x84f)]['list'](_0x2c492f,_0x124570);return this['processList'](_0x35345f,{'recursive':_0x124570,'includeSyncingFiles':_0x353e89});}catch(_0x4bbd0e){throw new _0x276337(_0x15ca7a[_0x22c44c(0x9a2)],_0x22c44c(0xa0f)+_0x2c492f);}}[_0xd4b2e(0xa4f)](_0x35c7ac){const _0x573168=_0xd4b2e;this[_0x573168(0x801)]+=0x1;for(const _0x3c344d of this[_0x573168(0x133)][_0x573168(0x75b)]())this[_0x573168(0x13b)](_0x3c344d,[_0x35c7ac]);}[_0xd4b2e(0x99b)](_0x823a95){const _0x4fa394=_0xd4b2e;this[_0x4fa394(0x801)]-=0x1;const _0x505400=this[_0x4fa394(0x326)][_0x4fa394(0x6e6)](_0x823a95);if(_0x505400){for(const [_0x2c1282,_0x22dbf2]of _0x505400[_0x4fa394(0x75b)]())this[_0x4fa394(0x50a)](_0x2c1282,_0x22dbf2);this[_0x4fa394(0x326)][_0x4fa394(0xa2f)](_0x823a95);}}async[_0xd4b2e(0x4c5)](_0x53a16c='/'){const _0x59817b=_0xd4b2e;try{return await this[_0x59817b(0x84f)][_0x59817b(0x367)](_0x53a16c);}catch(_0x2fa52e){if(_0x2fa52e instanceof Error&&_0x2fa52e[_0x59817b(0x2b6)][_0x59817b(0x29c)]('ENOENT'))return 0x0;throw new _0x276337(_0x15ca7a[_0x59817b(0x9a2)],_0x59817b(0x5dd)+_0x53a16c);}}[_0xd4b2e(0x5a8)](){const _0x255c84=_0xd4b2e;this[_0x255c84(0x47a)]&&(this[_0x255c84(0x47a)]=!0x1,this[_0x255c84(0x644)]['publish']({'event':_0x29f76b[_0x255c84(0x77f)]['SyncComplete'],'payload':{'filesSynced':this['filesSynced']}}));}async[_0xd4b2e(0x23d)](_0x393ade,{includeSyncingFiles:_0x3a534b=!0x1}){const _0x1d8c57=_0xd4b2e,_0x48b844=[];for(const _0x62aad1 of _0x393ade)if(_0x62aad1['kind']!==_0x29f76b[_0x1d8c57(0x9b0)][_0x1d8c57(0x4c7)]){if(_0x62aad1[_0x1d8c57(0x4fc)]!==_0x2abcdd){if(_0x62aad1[_0x1d8c57(0x4fc)]['endsWith'](_0x137979)){if(!_0x3a534b)continue;const _0x1f7f8a=_0x62aad1;if(_0x1f7f8a[_0x1d8c57(0x4fc)]=_0x1f7f8a['name']['replace'](_0x137979,''),_0x1f7f8a[_0x1d8c57(0x871)]=_0x1f7f8a[_0x1d8c57(0x871)][_0x1d8c57(0x33c)](_0x137979,''),await this[_0x1d8c57(0x2ac)](_0x1f7f8a[_0x1d8c57(0x871)])){_0x393ade[_0x1d8c57(0x91c)](_0x596951=>_0x596951[_0x1d8c57(0x871)]===_0x1f7f8a['pathName'])[_0x1d8c57(0xa6f)]=_0x29f76b[_0x1d8c57(0x986)][_0x1d8c57(0x608)];continue;}_0x1f7f8a[_0x1d8c57(0xa6f)]=_0x29f76b[_0x1d8c57(0x986)]['Pending'];}_0x48b844['push'](_0x62aad1);}}else _0x62aad1[_0x1d8c57(0x63e)]=await this[_0x1d8c57(0x23d)](_0x62aad1[_0x1d8c57(0x63e)]??[],{'includeSyncingFiles':_0x3a534b}),_0x48b844[_0x1d8c57(0x55a)](_0x62aad1);return _0x48b844;}async[_0xd4b2e(0x691)](_0x59fd8e,_0x4e7a93,_0x5813c3){const _0x37192e=_0xd4b2e;try{const _0x302286=(0x0,_0x1cf016['v4'])(),_0xcbab19=await _0x5e6d79(_0x59fd8e),_0x39af2d=_0x5dea7e(_0x4e7a93??'/',_0x59fd8e[_0x37192e(0x4fc)]);let _0xf8e980=!0x0;const _0x203dce={'payloadType':_0xfbb2ec[_0x37192e(0xa73)],'action':_0x565f8c['FileWrite'],'id':_0x302286,'parentId':this['lastTransactionId'],'answererId':this[_0x37192e(0x3ff)]['getId'](),'name':_0x59fd8e[_0x37192e(0x4fc)],'type':_0x59fd8e['type'],'path':_0x4e7a93??'/','skipEncryption':_0x5813c3?.[_0x37192e(0xa45)]??!0x1,'checksum':_0xcbab19};try{if(!_0x5813c3?.['fetchUrl'])throw new Error(_0x37192e(0x507));const _0x69e7fe=_0x39af2d+_0x137979;await this['objectStoreConnector'][_0x37192e(0x6e6)](_0x69e7fe),_0xf8e980=!0x1,await this['objectStoreConnector']['deleteObject'](_0x69e7fe),this[_0x37192e(0x133)][_0x37192e(0xa2f)](_0x39af2d);}catch(_0x226099){await this[_0x37192e(0x642)](_0x203dce);}if(this[_0x37192e(0x62a)]||this[_0x37192e(0x49e)]?.[_0x37192e(0x41a)]?await this[_0x37192e(0xa3a)](_0x59fd8e,_0x4e7a93,_0x5813c3):await this[_0x37192e(0x322)](_0x59fd8e[_0x37192e(0x4fc)],_0x4e7a93??'/',{'checksum':_0xcbab19,'skipEncryption':_0x5813c3?.[_0x37192e(0xa45)]??!0x1}),this['fileSendingMap'][_0x37192e(0x8e9)](_0x39af2d)){const [_0x578705,_0x1e3205]=this[_0x37192e(0x913)][_0x37192e(0x6e6)](_0x39af2d);this[_0x37192e(0x913)][_0x37192e(0x991)](_0x39af2d,[!0x0,_0x1e3205]);try{await _0x1e3205;}catch(_0x13176f){}this[_0x37192e(0x913)][_0x37192e(0xa2f)](_0x39af2d);}_0xf8e980&&this[_0x37192e(0x801)]>0x0&&!0x0!==this[_0x37192e(0x49e)]?.[_0x37192e(0x41a)]&&await this[_0x37192e(0x854)](_0x59fd8e,_0x203dce),_0x98a765['logServiceEvent'](_0xdcad61['ObjectStorage'],{'type':_0x37192e(0x2b2),'label':this[_0x37192e(0x39a)],'nodeId':this[_0x37192e(0x3ff)][_0x37192e(0x2a6)](),'nodeType':this['localNode'][_0x37192e(0x747)],'clusterId':this[_0x37192e(0x6d7)],'kind':_0x29f76b[_0x37192e(0x9b0)]['File'],'path':_0x4e7a93,'fileName':_0x59fd8e['name'],'fileType':_0x59fd8e[_0x37192e(0x747)],'size':_0x59fd8e[_0x37192e(0x882)]}),this[_0x37192e(0x7f3)]+=0x1,this[_0x37192e(0x53c)]();}catch(_0x1cf794){if(_0x1cf794 instanceof _0x1cac69)throw new _0x276337(_0x15ca7a[_0x37192e(0x6ec)],_0x37192e(0x233));throw new _0x276337(_0x15ca7a[_0x37192e(0x9a2)],_0x37192e(0x798)+_0x4e7a93+(_0x4e7a93?.[_0x37192e(0x33b)]('/')?'':'/')+_0x59fd8e[_0x37192e(0x4fc)]);}}async[_0xd4b2e(0x714)](_0x5ec3f9){const _0x4bf5ce=_0xd4b2e;try{const _0x287097=(0x0,_0x1cf016['v4'])(),_0x20bbb2=this[_0x4bf5ce(0x741)],_0x2156c0={'payloadType':_0xfbb2ec[_0x4bf5ce(0xa73)],'action':_0x565f8c[_0x4bf5ce(0x29e)],'id':_0x287097,'parentId':_0x20bbb2,'path':_0x5ec3f9};await this[_0x4bf5ce(0x642)](_0x2156c0),await this[_0x4bf5ce(0x84f)][_0x4bf5ce(0x27f)](_0x5ec3f9),!0x0!==this[_0x4bf5ce(0x49e)]?.[_0x4bf5ce(0x41a)]&&await this[_0x4bf5ce(0x13b)](_0x2156c0),_0x98a765[_0x4bf5ce(0x256)](_0xdcad61['ObjectStorage'],{'type':_0x4bf5ce(0x2b2),'label':this['label'],'nodeId':this[_0x4bf5ce(0x3ff)]['getId'](),'nodeType':this[_0x4bf5ce(0x3ff)][_0x4bf5ce(0x747)],'clusterId':this['clusterId'],'kind':_0x29f76b[_0x4bf5ce(0x9b0)]['Folder'],'path':_0x5ec3f9}),this[_0x4bf5ce(0x7f3)]+=0x1,this[_0x4bf5ce(0x53c)]();}catch(_0x391f02){if(_0x391f02 instanceof _0x1cac69)throw new _0x276337(_0x15ca7a[_0x4bf5ce(0x6ec)],_0x4bf5ce(0x233));throw new _0x276337(_0x15ca7a[_0x4bf5ce(0x9a2)],'Cannot\x20publish\x20folder:\x20'+_0x5ec3f9);}}async['publishMove'](_0x2876d8,_0x5433ae){const _0x2908fa=_0xd4b2e;try{const _0x15b317=(0x0,_0x1cf016['v4'])(),_0x4b44dd=this[_0x2908fa(0x741)],_0x16391a={'payloadType':_0xfbb2ec[_0x2908fa(0xa73)],'action':_0x565f8c['Move'],'id':_0x15b317,'parentId':_0x4b44dd,'path':_0x2876d8,'newPath':_0x5433ae};await this[_0x2908fa(0x642)](_0x16391a);const _0x3cf0b9=await this[_0x2908fa(0x379)](_0x2876d8,_0x5433ae);!0x0!==this[_0x2908fa(0x49e)]?.[_0x2908fa(0x41a)]&&await this[_0x2908fa(0x13b)](_0x16391a),_0x98a765[_0x2908fa(0x256)](_0xdcad61[_0x2908fa(0x3e1)],{'type':_0x2908fa(0x6f7),'label':this[_0x2908fa(0x39a)],'nodeId':this[_0x2908fa(0x3ff)][_0x2908fa(0x2a6)](),'nodeType':this[_0x2908fa(0x3ff)]['type'],'clusterId':this[_0x2908fa(0x6d7)],'kind':_0x3cf0b9,'path':_0x2876d8,'newPath':_0x5433ae}),this[_0x2908fa(0x7f3)]+=0x1,this['sendStats']();}catch(_0x2af982){if(_0x2af982 instanceof _0x1cac69)throw new _0x276337(_0x15ca7a[_0x2908fa(0x6ec)],'Object\x20store\x20is\x20not\x20in\x20sync');throw new _0x276337(_0x15ca7a[_0x2908fa(0x9a2)],_0x2908fa(0x95b)+_0x2876d8);}}async[_0xd4b2e(0x78c)](_0x553abb,_0xe64003=!0x1){const _0xb3e111=_0xd4b2e;if(this['lastTransactionId']&&_0x553abb['parentId']!==this[_0xb3e111(0x741)]&&_0x553abb['id']!==this[_0xb3e111(0x741)]){if(!_0x553abb[_0xb3e111(0x630)])throw new _0x1cac69(_0x1cac69[_0xb3e111(0x15e)][_0xb3e111(0x52a)]);this[_0xb3e111(0x9c6)]['set'](_0x553abb['parentId'],_0x553abb);}else{try{await this[_0xb3e111(0x156)](_0x553abb,_0xe64003);}catch(_0x389301){}await this[_0xb3e111(0x627)](_0x553abb['id']),await this[_0xb3e111(0x463)](_0x553abb['id'],_0xe64003);}}async[_0xd4b2e(0x156)](_0x124413,_0x5ad7c4=!0x1){const _0xf99d82=_0xd4b2e;switch(_0x124413[_0xf99d82(0x49f)]){case _0x565f8c[_0xf99d82(0x83f)]:await this['handleFileWrite'](_0x124413);break;case _0x565f8c[_0xf99d82(0x29e)]:await this['handleFolderCreate'](_0x124413);break;case _0x565f8c[_0xf99d82(0x218)]:await this['handleObjectMove'](_0x124413,_0x5ad7c4);break;case _0x565f8c[_0xf99d82(0xa4a)]:await this['handleObjectDelete'](_0x124413,_0x5ad7c4);break;default:throw new _0x1cac69(_0x1cac69[_0xf99d82(0x15e)][_0xf99d82(0x52a)],{'payload':_0x124413});}}async[_0xd4b2e(0x463)](_0x39d52c,_0x1ca9e4=!0x1){const _0x28bad5=_0xd4b2e;if(this[_0x28bad5(0x9c6)][_0x28bad5(0x8e9)](_0x39d52c)){const _0x37883b=this[_0x28bad5(0x9c6)]['get'](_0x39d52c);this['pendingSyncTransactions'][_0x28bad5(0xa2f)](_0x39d52c),await this['handleTransactionPayload'](_0x37883b,_0x1ca9e4);}}async['handleRequestPayload'](_0x283bee){const _0x1f40d3=_0xd4b2e;switch(_0x283bee['action']){case _0x565f8c[_0x1f40d3(0x2c7)]:return this[_0x1f40d3(0x4e4)](_0x283bee);case _0x565f8c[_0x1f40d3(0x979)]:return this['handleFileRequestAnswer'](_0x283bee);case _0x565f8c[_0x1f40d3(0x311)]:return this['handleFileSync'](_0x283bee);case _0x565f8c[_0x1f40d3(0x8b5)]:return this[_0x1f40d3(0x56f)](_0x283bee);default:throw new _0x1cac69(_0x1cac69['codes'][_0x1f40d3(0x52a)],{'payload':_0x283bee});}}async[_0xd4b2e(0x56f)](_0x1a5ecc,_0x497a4b=0x0){const _0x2c7083=_0xd4b2e,_0x106dc6=_0x5dea7e(_0x1a5ecc[_0x2c7083(0x941)],_0x1a5ecc[_0x2c7083(0x4fc)]);if(!_0x1a5ecc['data']||void 0x0===_0x1a5ecc[_0x2c7083(0x5a0)]||!_0x1a5ecc[_0x2c7083(0x736)])return this['fileChunks']['delete'](_0x106dc6),void await this[_0x2c7083(0x322)](_0x1a5ecc['name'],_0x1a5ecc[_0x2c7083(0x941)],{'checksum':_0x1a5ecc[_0x2c7083(0x3ca)],'skipEncryption':_0x1a5ecc['skipEncryption']});if(this['fileChunks'][_0x2c7083(0x8e9)](_0x106dc6)){const _0xee61b4=this[_0x2c7083(0x58e)][_0x2c7083(0x6e6)](_0x106dc6);_0xee61b4[_0x2c7083(0x3ca)]!==_0x1a5ecc[_0x2c7083(0x3ca)]&&(_0xee61b4[_0x2c7083(0x67a)]?.[_0x2c7083(0x27e)](),this[_0x2c7083(0x58e)][_0x2c7083(0xa2f)](_0x106dc6));}if(!this['fileChunks'][_0x2c7083(0x8e9)](_0x106dc6)){try{await this[_0x2c7083(0x84f)][_0x2c7083(0x8e3)](_0x106dc6);}catch(_0x350250){}try{const _0x589b63=this[_0x2c7083(0x62a)]?await this['objectStoreConnector']['createWritableStream'](_0x106dc6,{'skipEncryption':_0x1a5ecc[_0x2c7083(0xa45)]}):void 0x0,_0x254324={'chunksReceived':_0x1a5ecc[_0x2c7083(0x711)]??0x0,'bytesReceived':0x0,'stream':_0x589b63,'checksum':_0x1a5ecc[_0x2c7083(0x3ca)]};this[_0x2c7083(0x58e)][_0x2c7083(0x991)](_0x106dc6,_0x254324),await this[_0x2c7083(0x322)](_0x1a5ecc[_0x2c7083(0x4fc)],_0x1a5ecc[_0x2c7083(0x941)],{'checksum':_0x1a5ecc[_0x2c7083(0x3ca)],'skipEncryption':_0x1a5ecc[_0x2c7083(0xa45)]});}catch(_0x6d0bb1){}}const _0x592e6f=this[_0x2c7083(0x58e)]['get'](_0x106dc6);if(_0x1a5ecc[_0x2c7083(0x3ca)]!==_0x592e6f[_0x2c7083(0x3ca)])return;if(this[_0x2c7083(0x849)](_0x1a5ecc,_0x106dc6),this[_0x2c7083(0x62a)]){if(!_0x592e6f['stream'])throw new _0x1cac69(_0x1cac69[_0x2c7083(0x15e)][_0x2c7083(0x52a)],{'message':'Writable\x20stream\x20is\x20missing'});let _0x2c0bd6=_0x592e6f['chunksReceived'];if(_0x1a5ecc[_0x2c7083(0x5a0)]!==_0x2c0bd6){if(_0x2c0bd6>_0x1a5ecc[_0x2c7083(0x5a0)])return;const _0x54299d=0x1000;if(_0x1a5ecc['index']>_0x2c0bd6+_0x54299d)return;if(_0x592e6f[_0x2c7083(0x1cf)]||(_0x592e6f['bufferedChunks']=[]),_0x592e6f[_0x2c7083(0x1cf)][_0x2c7083(0x9b4)]>0x4000)throw this[_0x2c7083(0x58e)][_0x2c7083(0xa2f)](_0x106dc6),new _0x1cac69(_0x1cac69[_0x2c7083(0x15e)][_0x2c7083(0x52a)],{'message':_0x2c7083(0x35d)});return void _0x592e6f[_0x2c7083(0x1cf)][_0x2c7083(0x55a)](_0x1a5ecc);}try{_0x592e6f[_0x2c7083(0xa46)]+=0x1,_0x592e6f[_0x2c7083(0x141)]+=_0x1a5ecc[_0x2c7083(0x2aa)][_0x2c7083(0x49b)],await _0x592e6f['stream'][_0x2c7083(0x3a6)](_0x1a5ecc[_0x2c7083(0x2aa)]);}catch(_0x5b1bd4){if(console[_0x2c7083(0x940)]('Error\x20writing\x20chunk\x20to\x20stream',_0x5b1bd4),_0x497a4b>0x3)throw this[_0x2c7083(0x58e)]['delete'](_0x106dc6),console[_0x2c7083(0x940)](_0x2c7083(0x4d5),_0x5b1bd4),new _0x1cac69(_0x1cac69[_0x2c7083(0x15e)][_0x2c7083(0x52a)],{'message':_0x2c7083(0x4d5)});return this[_0x2c7083(0x56f)](_0x1a5ecc,_0x497a4b+0x1);}}try{await this[_0x2c7083(0x65a)](_0x592e6f,_0x1a5ecc['index']+0x1);}catch(_0x3d4868){throw this[_0x2c7083(0x58e)][_0x2c7083(0xa2f)](_0x106dc6),_0x3d4868;}if(this[_0x2c7083(0x58e)][_0x2c7083(0x991)](_0x106dc6,_0x592e6f),_0x592e6f[_0x2c7083(0xa46)]<_0x1a5ecc[_0x2c7083(0x736)])return;await this[_0x2c7083(0x3fc)](_0x106dc6),this[_0x2c7083(0x62a)]&&(await this[_0x2c7083(0x811)](_0x1a5ecc),_0x98a765['logServiceEvent'](_0xdcad61[_0x2c7083(0x3e1)],{'type':'sync','label':this[_0x2c7083(0x39a)],'nodeId':this[_0x2c7083(0x3ff)][_0x2c7083(0x2a6)](),'nodeType':this[_0x2c7083(0x3ff)][_0x2c7083(0x747)],'clusterId':this[_0x2c7083(0x6d7)],'kind':_0x29f76b['ObjectKind']['File'],'path':_0x1a5ecc[_0x2c7083(0x941)],'fileName':_0x1a5ecc[_0x2c7083(0x4fc)],'fileType':_0x1a5ecc[_0x2c7083(0x747)],'size':_0x592e6f['bytesReceived']}));const _0x10fcce=this[_0x2c7083(0x788)][_0x2c7083(0x6e6)](_0x1a5ecc['path'])??[];for(const _0x29a4c2 of _0x10fcce)await this[_0x2c7083(0x156)](_0x29a4c2);this[_0x2c7083(0x788)][_0x2c7083(0xa2f)](_0x1a5ecc['path']),this[_0x2c7083(0x644)][_0x2c7083(0x2b2)]({'event':_0x29f76b[_0x2c7083(0x77f)][_0x2c7083(0x83f)],'payload':{'file':{'kind':_0x29f76b[_0x2c7083(0x9b0)][_0x2c7083(0x927)],'path':_0x1a5ecc['path'],'type':_0x1a5ecc[_0x2c7083(0x747)],'size':_0x592e6f[_0x2c7083(0x141)],'name':_0x1a5ecc['name'],'pathName':_0x106dc6,'status':this[_0x2c7083(0x62a)]?_0x29f76b['FileStatus'][_0x2c7083(0x842)]:_0x29f76b[_0x2c7083(0x986)][_0x2c7083(0x8bb)]}}}),this[_0x2c7083(0x53c)]();}async[_0xd4b2e(0x65a)](_0x13b106,_0x4813af){const _0x1c7c63=_0xd4b2e,_0x2d3e08=_0x13b106[_0x1c7c63(0x67a)];let _0x189440=0x0;for(;_0x13b106[_0x1c7c63(0x1cf)]&&_0x13b106[_0x1c7c63(0x1cf)][_0x1c7c63(0x9b4)]>0x0;){const _0x1b084f=_0x13b106[_0x1c7c63(0x1cf)][_0x1c7c63(0x91c)](_0x3289e4=>_0x3289e4[_0x1c7c63(0x5a0)]===_0x4813af+0x1);if(!_0x1b084f)break;_0x13b106[_0x1c7c63(0x1cf)]=_0x13b106['bufferedChunks'][_0x1c7c63(0x893)](_0x339a91=>_0x339a91[_0x1c7c63(0x5a0)]!==_0x4813af+0x1);try{await _0x2d3e08[_0x1c7c63(0x3a6)](_0x1b084f['data']),_0x4813af++;}catch(_0x2c88ba){if(console['error'](_0x1c7c63(0x137),_0x2c88ba),_0x189440>0x3)throw console[_0x1c7c63(0x940)](_0x1c7c63(0x56d),_0x2c88ba),new _0x1cac69(_0x1cac69[_0x1c7c63(0x15e)][_0x1c7c63(0x52a)],{'message':_0x1c7c63(0x56d)});_0x189440++;continue;}_0x13b106['chunksReceived']+=0x1,_0x13b106[_0x1c7c63(0x141)]+=_0x1b084f[_0x1c7c63(0x2aa)][_0x1c7c63(0x49b)];}}async[_0xd4b2e(0x27c)](_0x12f8b1){const _0x850e94=_0xd4b2e;await this[_0x850e94(0x84f)][_0x850e94(0x27f)](_0x12f8b1[_0x850e94(0x941)]);const [_0x15939b,_0x564d8a]=_0x7a860c(_0x12f8b1[_0x850e94(0x941)]);this[_0x850e94(0x644)][_0x850e94(0x2b2)]({'event':_0x29f76b[_0x850e94(0x77f)]['FolderCreate'],'payload':{'folder':{'kind':_0x29f76b[_0x850e94(0x9b0)]['Folder'],'name':_0x564d8a,'path':_0x15939b,'pathName':_0x12f8b1[_0x850e94(0x941)]}}});}async['handleObjectDelete'](_0x3f813b,_0x12c166=!0x1){const _0x106c3d=_0xd4b2e;if(!_0x12c166&&!this['shouldProcessTransaction'](_0x3f813b))return;const _0x5e501a=await this[_0x106c3d(0x8e3)](_0x3f813b[_0x106c3d(0x941)]),[_0x1b90f2,_0x4ad9bb]=_0x7a860c(_0x3f813b[_0x106c3d(0x941)]);this[_0x106c3d(0x644)][_0x106c3d(0x2b2)]({'event':_0x5e501a===_0x29f76b[_0x106c3d(0x9b0)][_0x106c3d(0x4c7)]?_0x29f76b[_0x106c3d(0x77f)][_0x106c3d(0x392)]:_0x29f76b[_0x106c3d(0x77f)][_0x106c3d(0x5ac)],'payload':{'name':_0x4ad9bb,'path':_0x1b90f2,'pathName':_0x3f813b[_0x106c3d(0x941)]}}),this['sendStats']();}async[_0xd4b2e(0x17b)](_0x42b056,_0xb80ac1=!0x1){const _0x19d3e0=_0xd4b2e;if(!_0xb80ac1&&!this['shouldProcessTransaction'](_0x42b056))return this['pendingFilesRename'][_0x19d3e0(0x991)](_0x42b056['newPath'],this[_0x19d3e0(0x1f9)]['get'](_0x42b056[_0x19d3e0(0x941)])??_0x42b056[_0x19d3e0(0x941)]),void this[_0x19d3e0(0x1f9)][_0x19d3e0(0xa2f)](_0x42b056['path']);this[_0x19d3e0(0x1f9)][_0x19d3e0(0xa2f)](_0x42b056[_0x19d3e0(0x941)]);const _0x39558d=await this[_0x19d3e0(0x84f)][_0x19d3e0(0x379)](_0x42b056[_0x19d3e0(0x941)],_0x42b056[_0x19d3e0(0x61e)]),[_0x38a082,_0x4ec793]=_0x7a860c(_0x42b056['path']),[_0x341123,_0x3a9e02]=_0x7a860c(_0x42b056[_0x19d3e0(0x61e)]);this['eventListener'][_0x19d3e0(0x2b2)]({'event':_0x39558d===_0x29f76b[_0x19d3e0(0x9b0)]['Folder']?_0x29f76b[_0x19d3e0(0x77f)][_0x19d3e0(0x289)]:_0x29f76b[_0x19d3e0(0x77f)]['FileMove'],'payload':{'name':_0x3a9e02,'path':_0x341123,'pathName':_0x42b056[_0x19d3e0(0x61e)],'oldName':_0x4ec793,'oldPath':_0x38a082,'oldPathName':_0x42b056[_0x19d3e0(0x941)]}}),this[_0x19d3e0(0x53c)]();}[_0xd4b2e(0x4b6)](_0x5bc9ac){const _0x350705=_0xd4b2e,_0x56d174=this[_0x350705(0x1f9)][_0x350705(0x6e6)](_0x5bc9ac['path'])??_0x5bc9ac[_0x350705(0x941)];let _0x2365f6=!0x1;for(const _0x2fec98 of this['fileChunks'][_0x350705(0x31f)]())if(_0x2fec98[_0x350705(0x334)](_0x56d174)){const _0x199f50=this[_0x350705(0x788)][_0x350705(0x6e6)](_0x2fec98)??[];_0x199f50[_0x350705(0x55a)](_0x5bc9ac),this[_0x350705(0x788)][_0x350705(0x991)](_0x2fec98,_0x199f50),_0x2365f6=!0x0;}return!_0x2365f6;}async[_0xd4b2e(0x642)](_0x347026){const _0x5aa5b3=_0xd4b2e;if(!this[_0x5aa5b3(0x49e)]?.['standalone']){if(!_0x347026['id'])throw new _0x1cac69(_0x1cac69[_0x5aa5b3(0x15e)][_0x5aa5b3(0x52a)],{'message':_0x5aa5b3(0x3dc)});if(_0x347026['parentId']!==this[_0x5aa5b3(0x741)])throw new _0x1cac69(_0x1cac69[_0x5aa5b3(0x15e)]['ObjectStoreNotSynced']);await this[_0x5aa5b3(0x328)][_0x5aa5b3(0x30a)](_0x347026,this[_0x5aa5b3(0x39a)]),await this['updateLastTransactionId'](_0x347026['id']);}}async[_0xd4b2e(0x627)](_0x386b6f){const _0x26e6a7=_0xd4b2e;this[_0x26e6a7(0x741)]=_0x386b6f;const _0x325e43=new File([new Blob([this[_0x26e6a7(0x741)]])],_0x2abcdd,{'type':_0x26e6a7(0x9ab)});await this[_0x26e6a7(0xa3a)](_0x325e43,'/');}async['handleFileRequest'](_0x34f4e5){const _0x1b3921=_0xd4b2e;try{const _0x60c0b4=await this['get'](_0x34f4e5[_0x1b3921(0x941)]+'/'+_0x34f4e5[_0x1b3921(0x4fc)],{'skipEncryption':_0x34f4e5[_0x1b3921(0xa45)]}),_0x2231a8=await _0x5e6d79(_0x60c0b4);if(''!==_0x34f4e5[_0x1b3921(0x3ca)]&&_0x2231a8!==_0x34f4e5[_0x1b3921(0x3ca)])return;_0x34f4e5['answererId']=this[_0x1b3921(0x3ff)]['getId'](),_0x34f4e5['action']=_0x565f8c[_0x1b3921(0x979)],await this['send'](_0x34f4e5,[_0x34f4e5[_0x1b3921(0x3e6)]]);}catch(_0x36e3e9){}}async[_0xd4b2e(0x7ec)](_0x1686bc){const _0x3e8ddb=_0xd4b2e,_0xf2dfea=_0x5dea7e(_0x1686bc[_0x3e8ddb(0x941)],_0x1686bc[_0x3e8ddb(0x4fc)]);if(!this[_0x3e8ddb(0x133)][_0x3e8ddb(0x8e9)](_0xf2dfea))return;const _0x5d6f65=this[_0x3e8ddb(0x133)][_0x3e8ddb(0x6e6)](_0xf2dfea);_0x5d6f65['action']=_0x565f8c[_0x3e8ddb(0x311)];const _0x2e26eb=_0x1686bc[_0x3e8ddb(0x3bd)];if(!_0x2e26eb)throw new _0x1cac69(_0x1cac69[_0x3e8ddb(0x15e)][_0x3e8ddb(0x52a)],{'message':'Missing\x20answerer\x20id\x20on\x20request\x20answer'});if(this[_0x3e8ddb(0x133)][_0x3e8ddb(0xa2f)](_0xf2dfea),this[_0x3e8ddb(0x326)]['has'](_0x2e26eb)||this[_0x3e8ddb(0x326)][_0x3e8ddb(0x991)](_0x2e26eb,new Map()),this[_0x3e8ddb(0x326)][_0x3e8ddb(0x6e6)](_0x2e26eb)[_0x3e8ddb(0x991)](_0xf2dfea,[_0x5d6f65,this[_0x3e8ddb(0x7e1)](_0x2e26eb,_0xf2dfea)]),_0x5d6f65['answererId']=_0x2e26eb,_0x5d6f65['startIndex']=this[_0x3e8ddb(0x58e)][_0x3e8ddb(0x6e6)](_0xf2dfea)?.[_0x3e8ddb(0xa46)]??0x0,0x0===_0x5d6f65['startIndex'])try{const [_0x9a5eca,_0x307a67]=await this['checkExistingPendingFileContent'](_0x1686bc[_0x3e8ddb(0x4fc)],_0x1686bc['path'],_0x1686bc[_0x3e8ddb(0x3ca)]);_0x9a5eca&&(_0x5d6f65[_0x3e8ddb(0x711)]=_0x307a67);}catch(_0x1c69a3){}this[_0x3e8ddb(0x13b)](_0x5d6f65,[_0x2e26eb]);}async['handleFileSync'](_0x2ce110){const _0x296b86=_0xd4b2e,_0x195223=_0x5dea7e(_0x2ce110['path'],_0x2ce110['name']),_0x1ee9ec=await this[_0x296b86(0x6e6)](_0x195223,{'skipEncryption':_0x2ce110[_0x296b86(0xa45)]}),_0x1223c3={..._0x2ce110,'answererId':this[_0x296b86(0x3ff)]['getId'](),'action':_0x565f8c[_0x296b86(0x8b5)],'startIndex':_0x2ce110[_0x296b86(0x711)]??0x0};await this[_0x296b86(0x854)](_0x1ee9ec,_0x1223c3,[_0x2ce110[_0x296b86(0x3e6)]]);}async[_0xd4b2e(0x854)](_0x29733b,_0x5b233b,_0x3bfb41){let _0x410ede,_0x343870;const _0x15b7fb=new Promise(async(_0x3d97a8,_0x5ec1c4)=>{_0x410ede=_0x3d97a8,_0x343870=_0x5ec1c4;});return((async()=>{const _0xa7acc5=a0_0x2e29,_0x11e6e5=Math[_0xa7acc5(0x77c)](_0x29733b[_0xa7acc5(0x882)]/_0x54486b);let _0x27974f=_0x5b233b[_0xa7acc5(0x711)]??0x0;const _0x4a0fa6=_0x5dea7e(_0x5b233b[_0xa7acc5(0x941)],_0x5b233b[_0xa7acc5(0x4fc)]);this[_0xa7acc5(0x913)]['set'](_0x4a0fa6,[!0x1,_0x15b7fb]);for await(const _0xc11ecf of async function*(_0x1674ce,_0x326158=0x0,_0x1ca6d6){for await(const _0x1a35fb of _0x13d562(_0x1674ce,_0x326158,_0x1ca6d6))yield _0x1a35fb;}(_0x29733b,_0x27974f,this[_0xa7acc5(0x9fc)])){const [_0x432636]=this['fileSendingMap'][_0xa7acc5(0x6e6)](_0x4a0fa6)??[];if(_0x432636)return this[_0xa7acc5(0x913)]['delete'](_0x4a0fa6),void _0x343870(new Error(_0xa7acc5(0x296)));if(this[_0xa7acc5(0x788)][_0xa7acc5(0x8e9)](_0x4a0fa6)){const _0x428613=this[_0xa7acc5(0x788)][_0xa7acc5(0x6e6)](_0x4a0fa6);for(const _0x33d460 of _0x428613)if(_0x33d460[_0xa7acc5(0x49f)]===_0x565f8c[_0xa7acc5(0x83f)]||_0x33d460['action']===_0x565f8c[_0xa7acc5(0xa4a)])return;}const _0x1c6ad6={..._0x5b233b,'type':_0x29733b['type'],'data':_0xc11ecf,'index':_0x27974f,'total':_0x11e6e5};this['send'](_0x1c6ad6,_0x3bfb41),_0x27974f++;}const _0x5468ec=setInterval(async()=>{const _0x39e211=_0xa7acc5;await this[_0x39e211(0x9fc)]()>0x0||(clearInterval(_0x5468ec),_0x410ede());});this[_0xa7acc5(0x913)][_0xa7acc5(0xa2f)](_0x4a0fa6);})()),_0x15b7fb;}async[_0xd4b2e(0x811)](_0x14a52e){const _0x590408=_0xd4b2e;try{const _0x1c47ce=_0x5dea7e(_0x14a52e[_0x590408(0x941)],_0x14a52e['name']),_0x6fa530=_0x1c47ce+_0x137979;await this[_0x590408(0x8e3)](_0x6fa530);const [,_0x167eb4]=this[_0x590408(0x326)][_0x590408(0x6e6)](_0x14a52e[_0x590408(0x3bd)])?.[_0x590408(0x6e6)](_0x1c47ce)??[];_0x167eb4&&(clearTimeout(_0x167eb4),this[_0x590408(0x326)][_0x590408(0x6e6)](_0x14a52e[_0x590408(0x3bd)])['delete'](_0x1c47ce));}catch(_0x59e841){}0x0===this['pendingFilesSyncing'][_0x590408(0x6e6)](_0x14a52e[_0x590408(0x3bd)])?.[_0x590408(0x882)]&&this['pendingFilesSyncing']['delete'](_0x14a52e[_0x590408(0x3bd)]),0x0===this[_0x590408(0x326)][_0x590408(0x882)]&&0x0===this[_0x590408(0x133)][_0x590408(0x882)]&&this[_0x590408(0x5a8)]();}async[_0xd4b2e(0x720)](){const _0x56d7b4=_0xd4b2e;try{const _0x18bb70=await this['transactionService']['getTransactions'](this[_0x56d7b4(0x39a)],this[_0x56d7b4(0x741)]);for(const _0x4a0412 of _0x18bb70)await this[_0x56d7b4(0x78c)](_0x4a0412,!0x0);}catch(_0x8d6ff3){if(_0x8d6ff3 instanceof _0x1cac69&&_0x8d6ff3['code']===_0x1cac69[_0x56d7b4(0x15e)][_0x56d7b4(0x8b4)]){await this[_0x56d7b4(0x84f)][_0x56d7b4(0x8e3)](_0x2abcdd),delete this[_0x56d7b4(0x741)];try{const _0x476e9e=await this['objectStoreConnector'][_0x56d7b4(0x3ad)]('/',!0x1);for(const _0x19a1ed of _0x476e9e)await this[_0x56d7b4(0x84f)]['deleteObject'](_0x19a1ed[_0x56d7b4(0x871)]);}catch(_0x3650b0){}return await this[_0x56d7b4(0x720)]();}throw _0x8d6ff3;}}async[_0xd4b2e(0x972)](){const _0x4417df=_0xd4b2e,_0x4c79f2=await this[_0x4417df(0x3ad)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x0}),_0x4f9e0e=async _0x2ca82d=>{const _0x1b6b25=_0x4417df;for(const _0x329011 of _0x2ca82d){if(_0x329011[_0x1b6b25(0x6c2)]===_0x29f76b[_0x1b6b25(0x9b0)]['Folder']){_0x329011[_0x1b6b25(0x63e)]&&_0x329011[_0x1b6b25(0x63e)]['length']>0x0&&await _0x4f9e0e(_0x329011[_0x1b6b25(0x63e)]);continue;}if(_0x329011[_0x1b6b25(0xa6f)]!==_0x29f76b[_0x1b6b25(0x986)][_0x1b6b25(0x8bb)])continue;const _0x4e0572=await this[_0x1b6b25(0x6e6)](_0x329011[_0x1b6b25(0x871)]+_0x137979),_0x444362=JSON['parse'](await _0x4e0572[_0x1b6b25(0x7a9)]()),_0x1a313b=_0x329011[_0x1b6b25(0x4fc)][_0x1b6b25(0x33c)](_0x137979,''),_0xad3314={'payloadType':_0xfbb2ec[_0x1b6b25(0x23e)],'action':_0x565f8c['RequestFile'],'sourceId':this[_0x1b6b25(0x3ff)][_0x1b6b25(0x2a6)](),'type':'','path':_0x329011[_0x1b6b25(0x941)],'name':_0x1a313b,'checksum':_0x444362[_0x1b6b25(0x3ca)],'skipEncryption':_0x444362['skipEncryption']},_0x18074c=_0x5dea7e(_0x329011[_0x1b6b25(0x941)],_0x1a313b);this[_0x1b6b25(0x133)][_0x1b6b25(0x991)](_0x18074c,_0xad3314);}};await _0x4f9e0e(_0x4c79f2),0x0===this[_0x4417df(0x133)][_0x4417df(0x882)]&&0x0===this[_0x4417df(0x326)][_0x4417df(0x882)]&&this['completeSync']();}async[_0xd4b2e(0x322)](_0x573b95,_0x3b5458,_0x85e119){const _0x4c562a=_0xd4b2e,_0x2fddd1=new File([new Blob([JSON[_0x4c562a(0x1a2)](_0x85e119)])],''+_0x573b95+_0x137979,{'type':_0x4c562a(0x9ab)});await this['writeFile'](_0x2fddd1,_0x3b5458);}async[_0xd4b2e(0x441)](_0x23f4bb,_0x292af4,_0x5659b5){const _0x288941=_0xd4b2e;try{const _0xc19bb7=_0x5dea7e(_0x292af4,_0x23f4bb),_0x1f086c=_0xc19bb7+_0x137979,_0x297b88=await this[_0x288941(0x84f)][_0x288941(0x6e6)](_0x1f086c),{checksum:_0x829f99,skipEncryption:_0x543649}=JSON[_0x288941(0x89a)](await _0x297b88[_0x288941(0x7a9)]()),_0x17af63=(await this['objectStoreConnector'][_0x288941(0x6e6)](_0xc19bb7,{'skipEncryption':_0x543649}))[_0x288941(0x882)];return _0x829f99===_0x5659b5&&_0x17af63%_0x54486b==0x0?[!0x0,Math[_0x288941(0x9bb)](_0x17af63/_0x54486b)]:(await this[_0x288941(0x84f)][_0x288941(0x8e3)](_0xc19bb7),[!0x1,0x0]);}catch(_0x348657){return[!0x1,0x0];}}[_0xd4b2e(0x7e1)](_0x453ed9,_0x312cce){const _0x2a47d9=_0xd4b2e,[_0x157fce,_0x22b54b]=this[_0x2a47d9(0x326)]['get'](_0x453ed9)?.[_0x2a47d9(0x6e6)](_0x312cce)??[];return _0x22b54b&&clearTimeout(_0x22b54b),setTimeout(()=>{const _0x718807=_0x2a47d9,[_0x5cf640,_0x3ebd4a]=this[_0x718807(0x326)]['get'](_0x453ed9)[_0x718807(0x6e6)](_0x312cce);this['sendFileRequestPayload'](_0x5cf640,_0x3ebd4a);},0x927c0);}async['sendFileRequestPayload'](_0x252d00,_0x306981){const _0x4a4ad6=_0xd4b2e;clearTimeout(_0x306981),_0x252d00[_0x4a4ad6(0x49f)]=_0x565f8c[_0x4a4ad6(0x2c7)],this[_0x4a4ad6(0x133)]['set'](_0x5dea7e(_0x252d00[_0x4a4ad6(0x941)],_0x252d00[_0x4a4ad6(0x4fc)]),_0x252d00),this['send'](_0x252d00);}[_0xd4b2e(0x849)](_0x361114,_0x22466b){const _0x301ce9=_0xd4b2e;if(!this[_0x301ce9(0x62a)])return;this[_0x301ce9(0x326)]['has'](_0x361114[_0x301ce9(0x3bd)])||this[_0x301ce9(0x326)]['set'](_0x361114[_0x301ce9(0x3bd)],new Map());const [_0x19e02e]=this[_0x301ce9(0x326)][_0x301ce9(0x6e6)](_0x361114[_0x301ce9(0x3bd)])[_0x301ce9(0x6e6)](_0x22466b)??[{'payloadType':_0xfbb2ec[_0x301ce9(0x23e)],'action':_0x565f8c[_0x301ce9(0x2c7)],'sourceId':this[_0x301ce9(0x3ff)][_0x301ce9(0x2a6)](),'type':_0x361114['type'],'name':_0x361114[_0x301ce9(0x4fc)],'path':_0x361114['path'],'skipEncryption':_0x361114[_0x301ce9(0xa45)],'checksum':_0x361114[_0x301ce9(0x3ca)],'answererId':_0x361114[_0x301ce9(0x3bd)]}];this[_0x301ce9(0x326)]['get'](_0x361114[_0x301ce9(0x3bd)])[_0x301ce9(0x991)](_0x22466b,[_0x19e02e,this[_0x301ce9(0x7e1)](_0x361114[_0x301ce9(0x3bd)],_0x22466b)]);}async[_0xd4b2e(0xa3a)](_0x1aa172,_0x337c9e,_0x315313){const _0x282d55=_0xd4b2e;this[_0x282d55(0x47a)]&&(this[_0x282d55(0x5c2)]+=0x1),await this[_0x282d55(0x84f)][_0x282d55(0xa3a)](_0x1aa172,_0x337c9e,_0x315313);}async[_0xd4b2e(0x8e3)](_0x4943da){const _0x1a08bd=_0xd4b2e;try{const _0x4d394e=await this[_0x1a08bd(0x84f)][_0x1a08bd(0x8e3)](_0x4943da);if(!_0x4943da[_0x1a08bd(0x33b)](_0x137979))try{await this['objectStoreConnector']['deleteObject'](_0x4943da+_0x137979);}catch(_0x33414d){}return this[_0x1a08bd(0x47a)]&&_0x4d394e===_0x29f76b['ObjectKind'][_0x1a08bd(0x927)]&&(this[_0x1a08bd(0x5c2)]+=0x1),_0x4d394e;}catch(_0xa1a942){return await this['objectStoreConnector'][_0x1a08bd(0x8e3)](_0x4943da+_0x137979);}}async[_0xd4b2e(0x379)](_0x6c265a,_0x35af92){const _0x2d4f52=_0xd4b2e;try{const _0x428629=await this[_0x2d4f52(0x84f)][_0x2d4f52(0x379)](_0x6c265a,_0x35af92);if(!_0x6c265a[_0x2d4f52(0x33b)](_0x137979))try{await this[_0x2d4f52(0x84f)][_0x2d4f52(0x379)](_0x6c265a+_0x137979,_0x35af92+_0x137979);}catch(_0x4330e8){}return _0x428629;}catch(_0x300099){return await this[_0x2d4f52(0x84f)][_0x2d4f52(0x379)](_0x6c265a+_0x137979,_0x35af92+_0x137979);}}[_0xd4b2e(0x53c)](){const _0x56cc4c=_0xd4b2e;this['debounceStats']&&clearTimeout(this[_0x56cc4c(0x8ed)]),this[_0x56cc4c(0x8ed)]=setTimeout(async()=>{const _0x3ab992=_0x56cc4c;delete this[_0x3ab992(0x8ed)];const _0x2d85b8=await this[_0x3ab992(0x84f)][_0x3ab992(0x367)]('/');this[_0x3ab992(0x598)]?.[_0x3ab992(0x2b2)]({'sourceId':_0x596898,'messageType':_0x49e311[_0x3ab992(0x657)],'content':{'type':_0x2b2ef9[_0x3ab992(0x8b2)],'label':this[_0x3ab992(0x39a)],'stats':{'timestamp':Date[_0x3ab992(0x702)](),'storage':_0x2d85b8,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x3ab992(0x4b5)],'bytesSent':this[_0x3ab992(0x679)],'bytesReceived':this['bytesReceived'],'writes':this[_0x3ab992(0x7f3)],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),this['syncContent']&&_0x98a765['logStorage'](_0xdcad61[_0x3ab992(0x3e1)],_0x3ab992(0x2c8)+this[_0x3ab992(0x6d7)]+'ccc'+this[_0x3ab992(0x39a)],_0x2d85b8);},_0x371ea9);}async['syncedFileExists'](_0x3131e3){const _0x6119e=_0xd4b2e;try{return await this[_0x6119e(0x6e6)](_0x3131e3),!0x0;}catch(_0x323100){return!0x1;}}async[_0xd4b2e(0x3fc)](_0x4a1a48){const _0x4a4a41=_0xd4b2e;if(!this[_0x4a4a41(0x58e)]['has'](_0x4a1a48))return;const _0x599eca=this[_0x4a4a41(0x58e)]['get'](_0x4a1a48);if(_0x599eca[_0x4a4a41(0x67a)])try{await _0x599eca[_0x4a4a41(0x67a)][_0x4a4a41(0x27e)]();}catch(_0x1eedae){console[_0x4a4a41(0x940)]('Error\x20closing\x20writable\x20stream',_0x1eedae);}this[_0x4a4a41(0x58e)][_0x4a4a41(0xa2f)](_0x4a1a48);}}class _0x5ab86f extends _0x19f40b{[_0xd4b2e(0x3ff)];[_0xd4b2e(0x6d7)];[_0xd4b2e(0x6de)]=new Map();['debounceStats'];constructor(_0x49fe45,_0x2eef3c,_0x22fb05){const _0x3a121c=_0xd4b2e;if(_0x3a121c(0x8e6)!=typeof _0x2eef3c)throw new _0x276337(_0x15ca7a[_0x3a121c(0x25b)],_0x3a121c(0x383));super(_0x49fe45,_0x2eef3c),this[_0x3a121c(0x3ff)]=_0x49fe45,this[_0x3a121c(0x6d7)]=_0x22fb05,this[_0x3a121c(0x53c)]();}['reset'](){this['sendStats']();}[_0xd4b2e(0x161)](){const _0x1e3f27=_0xd4b2e;return _0x29f76b['ContentType'][_0x1e3f27(0xa3d)];}[_0xd4b2e(0x2b2)](_0xfff8d6,_0x2ca015){const _0xc47a6=_0xd4b2e;_0x98a765[_0xc47a6(0x22d)](_0x831a2b[_0xc47a6(0xa3d)],_0xc47a6(0x426),this[_0xc47a6(0x3ff)]['getId'](),_0xfff8d6,_0x2ca015),_0x98a765[_0xc47a6(0x256)](_0xdcad61['PubSub'],{'type':_0xc47a6(0x2b2),'label':this[_0xc47a6(0x39a)],'nodeId':this[_0xc47a6(0x3ff)][_0xc47a6(0x2a6)](),'nodeType':this[_0xc47a6(0x3ff)][_0xc47a6(0x747)],'clusterId':this[_0xc47a6(0x6d7)],'remoteIds':_0x2ca015??[],'contentType':_0xfff8d6 instanceof File?_0x29f76b[_0xc47a6(0x9b8)][_0xc47a6(0x927)]:_0x29f76b[_0xc47a6(0x9b8)][_0xc47a6(0x24a)],'size':_0xfff8d6 instanceof File?_0xfff8d6['size']:JSON[_0xc47a6(0x1a2)](_0xfff8d6)[_0xc47a6(0x9b4)]}),this[_0xc47a6(0x53c)](),this[_0xc47a6(0x13b)](_0xfff8d6,_0x2ca015);}[_0xd4b2e(0x696)](_0x33f832,_0x3b400b){const _0x84e0e5=_0xd4b2e;if(this[_0x84e0e5(0x6de)][_0x84e0e5(0x8e9)](_0x33f832))throw new _0x276337(_0x15ca7a[_0x84e0e5(0x1a4)],_0x84e0e5(0x1f8));this[_0x84e0e5(0x6de)][_0x84e0e5(0x991)](_0x33f832,this[_0x84e0e5(0x99c)]((_0x56b903,_0x56053a)=>{const _0x407f8a=_0x84e0e5;_0x407f8a(0x2aa)===_0x33f832&&_0x56053a instanceof File||!('file'!==_0x33f832||_0x56053a instanceof File)||(_0x98a765[_0x407f8a(0x22d)](_0x831a2b[_0x407f8a(0xa3d)],_0x407f8a(0x3ae),this[_0x407f8a(0x3ff)][_0x407f8a(0x2a6)](),_0x56b903,_0x56053a),_0x98a765['logServiceEvent'](_0xdcad61['PubSub'],{'type':_0x407f8a(0x696),'label':this[_0x407f8a(0x39a)],'nodeId':this[_0x407f8a(0x3ff)]['getId'](),'nodeType':this[_0x407f8a(0x3ff)]['type'],'clusterId':this[_0x407f8a(0x6d7)],'remoteId':_0x56b903,'contentType':_0x33f832,'size':_0x56053a instanceof File?_0x56053a[_0x407f8a(0x882)]:JSON[_0x407f8a(0x1a2)](_0x56053a)['length']}),this[_0x407f8a(0x53c)](),_0x3b400b(_0x56b903,_0x56053a));}));}[_0xd4b2e(0x37a)](_0x4c310f){const _0x5b27b7=_0xd4b2e;this[_0x5b27b7(0x6de)][_0x5b27b7(0x6e6)](_0x4c310f)?.(),this[_0x5b27b7(0x6de)][_0x5b27b7(0xa2f)](_0x4c310f);}[_0xd4b2e(0x32a)](){const _0x48ce50=_0xd4b2e;this['unsubscribeHandler']['forEach'](_0x542adf=>_0x542adf()),clearTimeout(this[_0x48ce50(0x8ed)]),delete this['debounceStats'],super[_0x48ce50(0x32a)]();}[_0xd4b2e(0x27e)](){const _0x2e461a=_0xd4b2e;this[_0x2e461a(0x598)]?.[_0x2e461a(0x2b2)]({'sourceId':_0x596898,'messageType':_0x49e311['Content'],'content':{'type':_0x2b2ef9[_0x2e461a(0x9e7)],'label':this[_0x2e461a(0x39a)]}});}[_0xd4b2e(0x53c)](){const _0x1e79ac=_0xd4b2e;this[_0x1e79ac(0x8ed)]&&clearTimeout(this[_0x1e79ac(0x8ed)]),this[_0x1e79ac(0x8ed)]=setTimeout(()=>{const _0x44dff0=_0x1e79ac;this[_0x44dff0(0x598)]?.['publish']({'sourceId':_0x596898,'messageType':_0x49e311[_0x44dff0(0x657)],'content':{'type':_0x2b2ef9['PubSubTopicStats'],'label':this[_0x44dff0(0x39a)],'stats':{'timestamp':Date['now'](),'storage':0x0,'messagesSent':this[_0x44dff0(0x75d)],'messagesReceived':this[_0x44dff0(0x4b5)],'bytesSent':this[_0x44dff0(0x679)],'bytesReceived':this[_0x44dff0(0x141)],'writes':0x0,'reads':0x0,'prompts':0x0,'tokens':0x0}}});},_0x371ea9);}}class _0x53103e extends _0x597958{[_0xd4b2e(0x3ff)];['internalId'];['availableTrackKinds'];[_0xd4b2e(0x6d7)];[_0xd4b2e(0x6de)];['resizeHandler'];[_0xd4b2e(0x52d)];[_0xd4b2e(0x299)]=new Map();[_0xd4b2e(0x38b)];['subscribedTracks']=new Set();[_0xd4b2e(0x919)];['providerListener']=_0xfb027c();[_0xd4b2e(0x3f0)]=new Map();constructor(_0x2dd1b5,_0x1a8192,_0x8e47be,_0x53ab7c,_0x4bbaec,_0x3d733){const _0x3eb9d3=_0xd4b2e;super(_0x1a8192,_0x8e47be,new MediaStream()),this['localNode']=_0x2dd1b5,this[_0x3eb9d3(0x832)]=_0x53ab7c,this[_0x3eb9d3(0x5b8)]=_0x4bbaec,this[_0x3eb9d3(0x6d7)]=_0x3d733,this[_0x3eb9d3(0x2f7)][_0x3eb9d3(0xa7f)]()['forEach'](_0x22ddf7=>this[_0x3eb9d3(0x61c)](_0x22ddf7));}[_0xd4b2e(0x32a)](){const _0x5ea83f=_0xd4b2e;this[_0x5ea83f(0x299)]['size']>0x0&&(this[_0x5ea83f(0x299)][_0x5ea83f(0x7d0)](_0x4a841b=>{const _0x4cc2e7=_0x5ea83f;_0x4a841b[_0x4cc2e7(0x738)](),_0x4a841b[_0x4cc2e7(0x32a)]();}),this[_0x5ea83f(0x299)][_0x5ea83f(0x1b8)]()),this[_0x5ea83f(0x3f0)][_0x5ea83f(0x7d0)](_0x2a554e=>_0x2a554e()),this[_0x5ea83f(0x2f7)]['getTracks']()[_0x5ea83f(0x7d0)](_0x329050=>this[_0x5ea83f(0x2f7)][_0x5ea83f(0x1e7)](_0x329050)),this[_0x5ea83f(0x52d)]&&(clearTimeout(this[_0x5ea83f(0x52d)]),delete this['updateDebounce']),this[_0x5ea83f(0x279)]?.(),super['destroy']();}[_0xd4b2e(0x89e)](_0x519c14){this['unsubscribeHandler']=_0x519c14['subscribe'](({content:_0x2132d0})=>{const _0x3d07cc=a0_0x2e29;switch(_0x2132d0['action']){case _0x509b92[_0x3d07cc(0x8f3)]:if(_0x98a765[_0x3d07cc(0x22d)](_0x831a2b[_0x3d07cc(0x67e)],_0x3d07cc(0x57f),this[_0x3d07cc(0x3ff)]['getId'](),this['providerId']),_0x2132d0[_0x3d07cc(0x67a)]['id']!==this[_0x3d07cc(0x832)]||_0x2132d0[_0x3d07cc(0x919)]!==this[_0x3d07cc(0x919)])return;this['removeTrack'](_0x2132d0['track'][_0x3d07cc(0x6c2)]),this[_0x3d07cc(0x2f7)][_0x3d07cc(0x60c)](_0x2132d0[_0x3d07cc(0x4ed)]);for(const [_0x4a0eba,_0x15d47f]of this[_0x3d07cc(0x299)]['entries']())try{_0x15d47f[_0x3d07cc(0x60c)](_0x2132d0['track']);}catch(_0x2fcd93){_0x15d47f[_0x3d07cc(0x32a)](),this[_0x3d07cc(0x299)]['delete'](_0x4a0eba);}this[_0x3d07cc(0x61c)](_0x2132d0[_0x3d07cc(0x4ed)]),this[_0x3d07cc(0x814)](),'video'===_0x2132d0[_0x3d07cc(0x4ed)][_0x3d07cc(0x6c2)]&&this['renderElement']&&(this[_0x3d07cc(0x2f7)]['active']?setTimeout(()=>this['renderElement']?.[_0x3d07cc(0x5f4)](),0x0):setTimeout(()=>this[_0x3d07cc(0x38b)]?.[_0x3d07cc(0x61a)](),0x0),this[_0x3d07cc(0x1f4)]());break;case _0x509b92[_0x3d07cc(0x2a0)]:if(_0x2132d0[_0x3d07cc(0x67a)]['id']!==this[_0x3d07cc(0x832)]||_0x2132d0['providerId']!==this[_0x3d07cc(0x919)])return;this[_0x3d07cc(0x1e7)](_0x2132d0[_0x3d07cc(0x4ed)][_0x3d07cc(0x6c2)]),this['renderElement']&&_0x3d07cc(0x5ab)===_0x2132d0[_0x3d07cc(0x4ed)][_0x3d07cc(0x6c2)]&&(this[_0x3d07cc(0x279)]?.(),this[_0x3d07cc(0x2f7)][_0x3d07cc(0xa7f)]()['length']>0x0?this[_0x3d07cc(0x38b)][_0x3d07cc(0x61a)]():this['renderElement'][_0x3d07cc(0x743)]=null);}});}['unregisterSubscriber'](){const _0x97d58d=_0xd4b2e;this[_0x97d58d(0x6de)]?.(),this[_0x97d58d(0x3f0)]['forEach'](_0x2d24e2=>_0x2d24e2()),delete this[_0x97d58d(0x6de)];}[_0xd4b2e(0x819)](){const _0x1045bd=_0xd4b2e;return this[_0x1045bd(0x832)];}['setInternalId'](_0x3e0ad0){const _0x5aeabe=_0xd4b2e;this[_0x5aeabe(0x832)]=_0x3e0ad0;}['getAvailableTrackKinds'](){const _0x2f6880=_0xd4b2e;return this[_0x2f6880(0x5b8)];}[_0xd4b2e(0x41f)](_0x3182e4){const _0x59bc19=_0xd4b2e;for(const _0x20e512 of _0x3182e4||this['availableTrackKinds'])if(!this[_0x59bc19(0x2f7)]['getTracks']()[_0x59bc19(0x91c)](_0x21cf7b=>_0x21cf7b[_0x59bc19(0x6c2)]===_0x20e512))return!0x1;return!0x0;}['getResolution'](){const _0x3378fc=_0xd4b2e;let _0x5bdbb9={'width':0x0,'height':0x0};const _0x3e7dd9=this[_0x3378fc(0x2f7)][_0x3378fc(0x423)]();if(_0x3e7dd9[_0x3378fc(0x9b4)]>0x0){const _0x19f4a9=_0x3e7dd9[0x0][_0x3378fc(0x5a4)]();_0x19f4a9[_0x3378fc(0x62b)]&&_0x19f4a9[_0x3378fc(0x59e)]&&(_0x5bdbb9={'width':_0x19f4a9[_0x3378fc(0x62b)],'height':_0x19f4a9[_0x3378fc(0x59e)]});}return _0x5bdbb9;}[_0xd4b2e(0x434)](_0x2feb4d){for(const _0x291795 of _0x2feb4d)if(!this['subscribedTracks']['has'](_0x291795))return!0x1;return!0x0;}[_0xd4b2e(0x71e)](_0x5207fc,_0x1bc133){const _0x54b1b3=_0xd4b2e;if(!this['outgoingStreams'][_0x54b1b3(0x8e9)](_0x5207fc)){const _0x1a9f29=new _0x586d70(this[_0x54b1b3(0xa7a)],this[_0x54b1b3(0x39a)],this[_0x54b1b3(0x2f7)],_0x5207fc,_0x1bc133),_0x3a9d12=_0x1a9f29[_0x54b1b3(0x4ee)](()=>{const _0x5c07c3=_0x54b1b3;_0x3a9d12(),this[_0x5c07c3(0x299)][_0x5c07c3(0x6e6)](_0x5207fc)?.[_0x5c07c3(0x32a)](),this['outgoingStreams']['delete'](_0x5207fc);});this[_0x54b1b3(0x299)][_0x54b1b3(0x991)](_0x5207fc,_0x1a9f29),_0x1a9f29[_0x54b1b3(0x14c)](this[_0x54b1b3(0x598)]);}return this[_0x54b1b3(0x299)][_0x54b1b3(0x6e6)](_0x5207fc);}[_0xd4b2e(0x7e7)](){const _0x55d435=_0xd4b2e;return this[_0x55d435(0x2f7)]['id'];}[_0xd4b2e(0x58f)](){const _0x3ab983=_0xd4b2e;return _0x29f76b[_0x3ab983(0x614)]['Default'];}[_0xd4b2e(0x5fb)](){const _0x1abe3b=_0xd4b2e;return Array[_0x1abe3b(0x35c)](this[_0x1abe3b(0x6d1)]);}['subscribe'](_0x33e8bc){const _0x4d04ec=_0xd4b2e;let _0x868ce0=[];if(_0x33e8bc){_0x4d04ec(0x890)!=typeof _0x33e8bc[_0x4d04ec(0x5ab)]||_0x33e8bc['video'][_0x4d04ec(0x38b)]instanceof HTMLVideoElement||!this[_0x4d04ec(0x38b)]||(_0x33e8bc[_0x4d04ec(0x5ab)]={'renderElement':this['renderElement']});try{(0x0,_0x29f76b[_0x4d04ec(0x211)])(_0x33e8bc);}catch(_0x4acb7f){throw new _0x276337(_0x15ca7a[_0x4d04ec(0x64f)],'Invalid\x20params');}_0x33e8bc['video']&&(_0x868ce0['push'](_0x4d04ec(0x5ab)),'boolean'!=typeof _0x33e8bc[_0x4d04ec(0x5ab)]&&_0x33e8bc[_0x4d04ec(0x5ab)][_0x4d04ec(0x38b)]&&(this['renderElement']=_0x33e8bc[_0x4d04ec(0x5ab)][_0x4d04ec(0x38b)],_0x33e8bc[_0x4d04ec(0x5ab)][_0x4d04ec(0x6fe)]||(_0x33e8bc['video'][_0x4d04ec(0x6fe)]={'width':this[_0x4d04ec(0x38b)][_0x4d04ec(0x3c8)],'height':this['renderElement']['clientHeight']}),delete _0x33e8bc[_0x4d04ec(0x5ab)][_0x4d04ec(0x38b)])),_0x33e8bc['audio']&&_0x868ce0[_0x4d04ec(0x55a)](_0x4d04ec(0x6c5));}else _0x868ce0=this['getAvailableTrackKinds']();this[_0x4d04ec(0x434)](_0x868ce0)||(_0x868ce0[_0x4d04ec(0x7d0)](_0x4fa605=>this[_0x4d04ec(0x6d1)][_0x4d04ec(0x4bd)](_0x4fa605)),this[_0x4d04ec(0x598)]['publish']({'sourceId':_0x596898,'messageType':_0x49e311[_0x4d04ec(0x657)],'content':{'type':_0x2b2ef9['SubscribeMediaStream'],'label':this[_0x4d04ec(0x39a)],'ownerId':this['owner'][_0x4d04ec(0x2a6)](),'trackKinds':_0x868ce0,'params':_0x33e8bc}}),_0x98a765[_0x4d04ec(0x256)](_0xdcad61[_0x4d04ec(0x615)],{'type':_0x4d04ec(0x696),'label':this[_0x4d04ec(0x39a)],'nodeId':this[_0x4d04ec(0x3ff)][_0x4d04ec(0x2a6)](),'nodeType':this['localNode'][_0x4d04ec(0x747)],'clusterId':this['clusterId'],'sourceId':this[_0x4d04ec(0xa7a)][_0x4d04ec(0x2a6)](),'streamId':this[_0x4d04ec(0x832)],'trackKinds':_0x868ce0}));}[_0xd4b2e(0x3bf)](_0x342c6d){const _0x33a74f=_0xd4b2e;try{(0x0,_0x29f76b[_0x33a74f(0x211)])(_0x342c6d);}catch(_0x1f82ab){throw new _0x276337(_0x15ca7a[_0x33a74f(0x64f)],_0x33a74f(0x5fc));}this[_0x33a74f(0x52d)]&&clearTimeout(this[_0x33a74f(0x52d)]),this[_0x33a74f(0x52d)]=setTimeout(()=>{const _0x55f356=_0x33a74f;delete this['updateDebounce'],this['systemTopic'][_0x55f356(0x2b2)]({'sourceId':_0x596898,'messageType':_0x49e311[_0x55f356(0x657)],'content':{'type':_0x2b2ef9[_0x55f356(0x7ab)],'label':this[_0x55f356(0x39a)],'ownerId':this['owner'][_0x55f356(0x2a6)](),'params':_0x342c6d}});},0x1f4);}[_0xd4b2e(0x37a)](_0x11b892){const _0x20e62b=_0xd4b2e;_0x11b892||(_0x11b892=this[_0x20e62b(0x5cc)]()),(_0x11b892=Array[_0x20e62b(0x8df)](_0x11b892)?_0x11b892:[_0x11b892])[_0x20e62b(0x7d0)](_0x48d579=>this[_0x20e62b(0x6d1)][_0x20e62b(0xa2f)](_0x48d579)),this[_0x20e62b(0x598)][_0x20e62b(0x2b2)]({'sourceId':_0x596898,'messageType':_0x49e311[_0x20e62b(0x657)],'content':{'type':_0x2b2ef9[_0x20e62b(0x208)],'label':this[_0x20e62b(0x39a)],'ownerId':this['owner'][_0x20e62b(0x2a6)](),'trackKinds':_0x11b892,'remainingTracks':this[_0x20e62b(0x6d1)][_0x20e62b(0x882)]}});}[_0xd4b2e(0x7a8)](_0x12147b){const _0x156117=_0xd4b2e;return this[_0x156117(0x447)]['subscribe'](_0x12147b);}[_0xd4b2e(0x2a5)](){return this['providerId'];}[_0xd4b2e(0x889)](_0x373092){const _0x52ca52=_0xd4b2e;this[_0x52ca52(0x919)]!==_0x373092&&(this[_0x52ca52(0x919)]=_0x373092,this['providerListener']['publish'](_0x373092));}[_0xd4b2e(0x898)](_0x187ecd){const _0x3758f0=_0xd4b2e;this[_0x3758f0(0x3f0)][_0x3758f0(0x6e6)](_0x187ecd)?.(),this[_0x3758f0(0x3f0)]['delete'](_0x187ecd);}[_0xd4b2e(0x1e7)](_0x109276){const _0x388699=_0xd4b2e,_0x3d9942=this[_0x388699(0x2f7)][_0x388699(0xa7f)]()['find'](_0x29f9bc=>_0x29f9bc[_0x388699(0x6c2)]===_0x109276);_0x3d9942&&(this[_0x388699(0x2f7)][_0x388699(0x1e7)](_0x3d9942),this['outgoingStreams'][_0x388699(0x7d0)](_0x3e64ae=>_0x3e64ae[_0x388699(0x1e7)](_0x109276)),this[_0x388699(0x3f0)][_0x388699(0x6e6)](_0x109276)?.());}[_0xd4b2e(0x814)](){const _0x5822e3=_0xd4b2e;this[_0x5822e3(0x38b)]&&(this[_0x5822e3(0x38b)][_0x5822e3(0x743)]&&this[_0x5822e3(0x38b)][_0x5822e3(0x743)]===this['mediaStream']||(this['renderElement'][_0x5822e3(0x743)]=this[_0x5822e3(0x2f7)]));}['setupResizeHandler'](){const _0x31c801=_0xd4b2e;if(this['renderElement']&&!this[_0x31c801(0x279)]&&'undefined'!=typeof ResizeObserver){let _0x4d3ecd=this[_0x31c801(0x38b)][_0x31c801(0x3c8)],_0x272a4a=this[_0x31c801(0x38b)][_0x31c801(0x7d2)];const _0x201731=new ResizeObserver(_0x4f753b=>{const _0x569b37=_0x31c801,{width:_0x543a16,height:_0x2e84c4}=_0x4f753b[0x0][_0x569b37(0x8f1)];_0x4d3ecd===_0x543a16&&_0x272a4a===_0x2e84c4||(_0x4d3ecd=Math[_0x569b37(0x60a)](_0x543a16),_0x272a4a=Math['floor'](_0x2e84c4),this['update']({'video':{'maxResolution':{'width':_0x543a16,'height':_0x2e84c4}}}));});_0x201731[_0x31c801(0x5ca)](this[_0x31c801(0x38b)]),this[_0x31c801(0x279)]=()=>_0x201731[_0x31c801(0x4ec)]();}}['handleRemoteTrackFailure'](_0x32d79b){const _0x40fbaf=_0xd4b2e,_0x3949d6=[];for(const _0x1fcc6e of this[_0x40fbaf(0x6d1)])this[_0x40fbaf(0x1e7)](_0x1fcc6e),_0x3949d6[_0x40fbaf(0x55a)](_0x1fcc6e);this['providerId']&&this[_0x40fbaf(0x598)][_0x40fbaf(0x2b2)]({'sourceId':_0x596898,'messageType':_0x49e311[_0x40fbaf(0x657)],'content':{'type':_0x2b2ef9[_0x40fbaf(0x65c)],'label':this[_0x40fbaf(0x39a)],'streamId':this[_0x40fbaf(0x832)],'ownerId':this['owner']['getId'](),'providerId':this['providerId'],'trackKinds':_0x3949d6}});}[_0xd4b2e(0x61c)](_0x397680){const _0x306459=_0xd4b2e,_0x1b1591=()=>this[_0x306459(0x3c7)](_0x397680);_0x397680[_0x306459(0x2fd)](_0x306459(0x4d6),_0x1b1591),_0x397680[_0x306459(0x2fd)]('mute',_0x1b1591),this[_0x306459(0x3f0)][_0x306459(0x991)](_0x397680[_0x306459(0x6c2)],()=>{const _0x20206e=_0x306459;_0x397680['removeEventListener'](_0x20206e(0x4d6),_0x1b1591),_0x397680['removeEventListener'](_0x20206e(0x568),_0x1b1591),this['trackEndedListeners'][_0x20206e(0xa2f)](_0x397680['kind']);});}}class _0xa0acd8 extends _0x19f40b{[_0xd4b2e(0x3ff)];['clusterId'];[_0xd4b2e(0x313)];['db'];[_0xd4b2e(0x8ed)];[_0xd4b2e(0x7f3)]=0x0;[_0xd4b2e(0x69e)]=0x0;[_0xd4b2e(0x260)]=!0x1;constructor(_0x540811,_0x243278,_0x58633f,_0x1f884b,_0x42ec4e){const _0x4161fc=_0xd4b2e;if('string'!=typeof _0x243278)throw new _0x276337(_0x15ca7a[_0x4161fc(0xa36)],'Cannot\x20create\x20Vector\x20Database:\x20Name\x20must\x20be\x20a\x20string');super(_0x540811,_0x243278),this[_0x4161fc(0x3ff)]=_0x540811,this[_0x4161fc(0x6d7)]=_0x58633f,this[_0x4161fc(0x313)]=_0x1f884b;const _0x33798b='ccc'+this[_0x4161fc(0x313)]+_0x4161fc(0x2c8)+this['clusterId']+_0x4161fc(0x2c8)+this['label'];this['db']=new _0x42ec4e(_0x33798b),this[_0x4161fc(0x53c)]();}['getIsLoaded'](){const _0x246b03=_0xd4b2e;return this[_0x246b03(0x260)];}['setIsLoaded'](_0x236063){const _0x53fe55=_0xd4b2e;this[_0x53fe55(0x260)]=_0x236063;}[_0xd4b2e(0x32a)](){const _0x561852=_0xd4b2e;clearTimeout(this[_0x561852(0x8ed)]),delete this[_0x561852(0x8ed)],super[_0x561852(0x32a)]();}['close'](){const _0x55e9c2=_0xd4b2e;this['systemTopic'][_0x55e9c2(0x2b2)]({'sourceId':_0x596898,'messageType':_0x49e311['Content'],'content':{'type':_0x2b2ef9[_0x55e9c2(0x250)],'label':this[_0x55e9c2(0x39a)]}});}[_0xd4b2e(0x5f1)](){const _0x62d292=_0xd4b2e;this[_0x62d292(0x53c)]();}[_0xd4b2e(0x161)](){const _0x3687a1=_0xd4b2e;return _0x29f76b[_0x3687a1(0x9b8)]['VectorDatabase'];}[_0xd4b2e(0x174)](_0x73c9a7,_0x2c956b,_0x280a57,_0x4a15a9,_0x56575a){const _0x50bbea=_0xd4b2e,_0x570608=this['db'][_0x50bbea(0x174)](_0x73c9a7,_0x2c956b,_0x280a57,_0x4a15a9,_0x56575a);return this['reads']+=0x1,_0x98a765[_0x50bbea(0x256)](_0xdcad61[_0x50bbea(0xa80)],{'type':_0x50bbea(0x174),'label':this['label'],'nodeId':this[_0x50bbea(0x3ff)][_0x50bbea(0x2a6)](),'nodeType':this[_0x50bbea(0x3ff)][_0x50bbea(0x747)],'clusterId':this[_0x50bbea(0x6d7)],'size':0x0}),this[_0x50bbea(0x53c)](),_0x570608;}['insert'](_0x11625b,_0x532a8b,_0x474bc5,_0x51cf63){const _0x1dcf63=_0xd4b2e;this['db'][_0x1dcf63(0x21c)](_0x11625b,_0x532a8b,_0x474bc5,_0x51cf63),this[_0x1dcf63(0x7f3)]+=0x1,_0x98a765[_0x1dcf63(0x256)](_0xdcad61['VectorDatabase'],{'type':_0x1dcf63(0x21c),'label':this['label'],'nodeId':this[_0x1dcf63(0x3ff)][_0x1dcf63(0x2a6)](),'nodeType':this[_0x1dcf63(0x3ff)][_0x1dcf63(0x747)],'clusterId':this['clusterId'],'size':_0x51cf63[_0x1dcf63(0x7aa)]((_0x138fa9,_0x13175c)=>_0x138fa9+_0x13175c[_0x1dcf63(0x9b4)],0x0)}),this[_0x1dcf63(0x53c)]();}[_0xd4b2e(0x886)](_0x1bcb99){const _0x46da07=_0xd4b2e;this['db'][_0x46da07(0x886)](_0x1bcb99),this[_0x46da07(0x7f3)]+=0x1,_0x98a765[_0x46da07(0x256)](_0xdcad61[_0x46da07(0xa80)],{'type':_0x46da07(0x886),'label':this[_0x46da07(0x39a)],'nodeId':this[_0x46da07(0x3ff)]['getId'](),'nodeType':this['localNode'][_0x46da07(0x747)],'clusterId':this[_0x46da07(0x6d7)],'size':0x0}),this[_0x46da07(0x53c)]();}['saveToDisk'](_0x53535e){const _0x188077=_0xd4b2e;this['db'][_0x188077(0x582)](_0x53535e);}['loadFromDisk'](_0x54bc38){const _0x1ad3d6=_0xd4b2e;this['db'][_0x1ad3d6(0x470)](_0x54bc38);}[_0xd4b2e(0x53c)](){const _0x4798e5=_0xd4b2e;this[_0x4798e5(0x8ed)]&&clearTimeout(this['debounceStats']),this['debounceStats']=setTimeout(async()=>{const _0x59dbee=_0x4798e5;delete this[_0x59dbee(0x8ed)];const _0x32b342=this['db']['getBuffer']()['byteLength'];this[_0x59dbee(0x598)][_0x59dbee(0x2b2)]({'sourceId':_0x596898,'messageType':_0x49e311['Content'],'content':{'type':_0x2b2ef9[_0x59dbee(0x4a0)],'label':this[_0x59dbee(0x39a)],'stats':{'timestamp':Date['now'](),'storage':_0x32b342,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x59dbee(0x4b5)],'bytesSent':this[_0x59dbee(0x679)],'bytesReceived':this['bytesReceived'],'writes':this[_0x59dbee(0x7f3)],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),_0x98a765[_0x59dbee(0x344)](_0xdcad61[_0x59dbee(0xa80)],_0x59dbee(0x2c8)+this[_0x59dbee(0x6d7)]+_0x59dbee(0x2c8)+this[_0x59dbee(0x39a)],_0x32b342);},_0x371ea9);}}class _0x2fc01c{['id'];[_0xd4b2e(0x742)];['rank'];constructor(_0x1efecb,_0x89b6a0=new Set(),_0x59c466){const _0x29d0d9=_0xd4b2e;this['id']=_0x1efecb,this[_0x29d0d9(0x742)]=_0x89b6a0,this[_0x29d0d9(0x703)]=_0x59c466;}[_0xd4b2e(0x27e)](){const _0x1ffbbe=_0xd4b2e;this[_0x1ffbbe(0x703)]=void 0x0,this[_0x1ffbbe(0x742)][_0x1ffbbe(0x1b8)]();}[_0xd4b2e(0x2a6)](){return this['id'];}['getRank'](){return this['rank'];}[_0xd4b2e(0x584)](){return this['remoteConnections'];}}class _0x3ec08e extends _0x2fc01c{['id'];[_0xd4b2e(0x354)];[_0xd4b2e(0x872)];[_0xd4b2e(0x742)];['rank'];[_0xd4b2e(0x747)]=_0x29f76b[_0xd4b2e(0x8e2)][_0xd4b2e(0x9d1)];constructor(_0x57a846,_0x5ee9c0,_0x2567ab,_0x523ab3=new Set(),_0x528d11){const _0x436912=_0xd4b2e;super(_0x57a846,_0x523ab3,_0x528d11),this['id']=_0x57a846,this['displayName']=_0x5ee9c0,this[_0x436912(0x872)]=_0x2567ab,this[_0x436912(0x742)]=_0x523ab3,this[_0x436912(0x703)]=_0x528d11;}['getDisplayName'](){const _0x4099b0=_0xd4b2e;return this[_0x4099b0(0x354)];}[_0xd4b2e(0x178)](){return this['email'];}}class _0xacb35e{[_0xd4b2e(0x313)];[_0xd4b2e(0x6d7)];[_0xd4b2e(0x455)];constructor(_0x4d980c,_0x56050a){const _0x1f0029=_0xd4b2e;this[_0x1f0029(0x313)]=_0x4d980c,this['clusterId']=_0x56050a,this[_0x1f0029(0x455)]=_0x1f0029(0x2c8)+this['vendorId']+_0x1f0029(0x2c8)+this[_0x1f0029(0x6d7)];}async[_0xd4b2e(0x30a)](_0x5bb90c,_0x229080){const _0x6824d5=_0xd4b2e,_0xe6b7ed=(0x0,_0x4d0941[_0x6824d5(0x425)])(_0x3a6ba1[_0x6824d5(0x8f0)](),_0x6824d5(0x4b3)+this['clusterKey']+_0x6824d5(0x148)+_0x229080+_0x6824d5(0x6fd)+_0x5bb90c['id']),_0x209602=(0x0,_0x4d0941[_0x6824d5(0x472)])(_0xe6b7ed);_0x209602['remove'](),_0x5bb90c['parentId']||delete _0x5bb90c[_0x6824d5(0x630)];try{await(0x0,_0x4d0941['set'])(_0xe6b7ed,_0x5bb90c);}catch(_0x25a7d2){throw await _0x209602[_0x6824d5(0x431)](),new _0x1cac69(_0x1cac69[_0x6824d5(0x15e)][_0x6824d5(0x5f7)]);}if(!0x1===(await(0x0,_0x4d0941[_0x6824d5(0x340)])((0x0,_0x4d0941[_0x6824d5(0x425)])(_0x3a6ba1[_0x6824d5(0x8f0)](),_0x6824d5(0x4b3)+this[_0x6824d5(0x455)]+_0x6824d5(0x148)+_0x229080+_0x6824d5(0x363)),_0x4b76ab=>_0x4b76ab?_0x4b76ab===_0x5bb90c[_0x6824d5(0x630)]?_0x5bb90c['id']:void 0x0:_0x5bb90c[_0x6824d5(0x630)]?_0x5bb90c[_0x6824d5(0x630)]:_0x5bb90c['id']))['committed'])throw await(0x0,_0x4d0941[_0x6824d5(0x886)])(_0xe6b7ed),await _0x209602['cancel'](),new _0x1cac69(_0x1cac69[_0x6824d5(0x15e)][_0x6824d5(0x5f2)]);await _0x209602[_0x6824d5(0x431)]();}async[_0xd4b2e(0x616)](_0x1275b3,_0x3ab2be){const _0x49c3b9=_0xd4b2e;let _0x2cb6c3=[];const _0x3369bf=(0x0,_0x4d0941[_0x49c3b9(0x425)])(_0x3a6ba1[_0x49c3b9(0x8f0)](),_0x49c3b9(0x4b3)+this[_0x49c3b9(0x455)]+_0x49c3b9(0x148)+_0x1275b3+_0x49c3b9(0x152));let _0x19f56a=await(0x0,_0x4d0941[_0x49c3b9(0x6e6)])((0x0,_0x4d0941[_0x49c3b9(0x613)])(_0x3369bf,(0x0,_0x4d0941['limitToFirst'])(0x65),(0x0,_0x4d0941[_0x49c3b9(0x93b)])()));if(!_0x19f56a[_0x49c3b9(0x4dd)]()){if(void 0x0!==_0x3ab2be)throw new _0x1cac69(_0x1cac69[_0x49c3b9(0x15e)][_0x49c3b9(0x8b4)]);return _0x2cb6c3;}const _0x1a5ccc=_0x19f56a[_0x49c3b9(0x5a2)]();for(;Object['keys'](_0x19f56a['val']())[_0x49c3b9(0x9b4)]>0x64;){const _0x243fc3=Object['keys'](_0x19f56a[_0x49c3b9(0x5a2)]()),_0x35e738=_0x243fc3[_0x243fc3[_0x49c3b9(0x9b4)]-0x1];_0x19f56a=await(0x0,_0x4d0941[_0x49c3b9(0x6e6)])((0x0,_0x4d0941['query'])(_0x3369bf,(0x0,_0x4d0941[_0x49c3b9(0x34f)])(0x65),(0x0,_0x4d0941[_0x49c3b9(0x5e8)])(_0x35e738),(0x0,_0x4d0941[_0x49c3b9(0x93b)])())),Object[_0x49c3b9(0xa79)](_0x1a5ccc,_0x19f56a[_0x49c3b9(0x5a2)]());}if(_0x2cb6c3=Object['values'](_0x1a5ccc)[_0x49c3b9(0x893)](_0x55cd03=>_0x49c3b9(0x8e6)!=typeof _0x55cd03),0x0===_0x2cb6c3[_0x49c3b9(0x9b4)]&&void 0x0!==_0x3ab2be)throw new _0x1cac69(_0x1cac69[_0x49c3b9(0x15e)][_0x49c3b9(0x8b4)]);if(_0x2cb6c3[_0x49c3b9(0x9b4)]>0x0&&void 0x0!==_0x3ab2be&&!_0x2cb6c3[_0x49c3b9(0x91c)](_0x256cca=>_0x256cca['id']===_0x3ab2be))throw new _0x1cac69(_0x1cac69[_0x49c3b9(0x15e)][_0x49c3b9(0x8b4)]);const _0x7ed567=[];let _0x13461a=_0x2cb6c3[_0x49c3b9(0x91c)](_0x4a6dd1=>_0x4a6dd1[_0x49c3b9(0x630)]===_0x3ab2be);for(;_0x13461a;)_0x7ed567[_0x49c3b9(0x55a)](_0x13461a),_0x13461a=_0x2cb6c3[_0x49c3b9(0x91c)](_0x5075c9=>_0x5075c9['parentId']===_0x13461a['id']);return _0x7ed567;}}class _0xc3043d{[_0xd4b2e(0x33f)];[_0xd4b2e(0x49e)];['searchApiKey'];['aiSearchApiKey'];[_0xd4b2e(0x83a)]=new Map();[_0xd4b2e(0x62c)]=new Map();[_0xd4b2e(0x9b9)]=new Map();['objectStores']=new Map();[_0xd4b2e(0x2fa)]=new Map();[_0xd4b2e(0x760)]=new Map();[_0xd4b2e(0x783)]=new Map();[_0xd4b2e(0x89c)]=new Map();[_0xd4b2e(0x8ac)]=new Map();[_0xd4b2e(0x951)]=new Map();[_0xd4b2e(0x328)];constructor(_0x15e420,_0x3699b2,_0x1203da,_0x329e6b){const _0x390f8b=_0xd4b2e;this['configs']=_0x15e420,this[_0x390f8b(0x49e)]=_0x3699b2,this[_0x390f8b(0x9eb)]=_0x1203da,this[_0x390f8b(0x3b9)]=_0x329e6b,this['transactionService']=new _0xacb35e(this['configs'][_0x390f8b(0x313)],this[_0x390f8b(0x33f)][_0x390f8b(0x6d7)]);}[_0xd4b2e(0x27e)](_0x53dd63=!0x1){const _0x56964b=_0xd4b2e;this['remoteMediaStreams'][_0x56964b(0x7d0)]((_0x3d2931,_0xbb620b)=>{_0x3d2931['forEach']((_0x330d71,_0x38b0bd)=>{const _0x44a183=a0_0x2e29;this[_0x44a183(0x67b)](_0xbb620b,_0x38b0bd);});}),_0x53dd63||(_0x4bb1cc[_0x56964b(0x1b8)](),this[_0x56964b(0x83a)][_0x56964b(0x7d0)]((_0x43b6d9,_0x28c0b2)=>{const _0x3704c7=_0x56964b;this[_0x3704c7(0x15c)](_0x28c0b2);}),this[_0x56964b(0x9b9)][_0x56964b(0x7d0)]((_0x279619,_0x2e3925)=>{this['removePubSubTopic'](_0x2e3925);}),this[_0x56964b(0x5ba)][_0x56964b(0x7d0)]((_0x32a99d,_0x7670f8)=>{const _0x109b65=_0x56964b;this[_0x109b65(0x2d4)](_0x7670f8);}),this['externalStorageConnections'][_0x56964b(0x7d0)]((_0x2144e7,_0x84999c)=>{const _0x2c8f6c=_0x56964b;this[_0x2c8f6c(0x481)](_0x84999c);}),this[_0x56964b(0x760)][_0x56964b(0x7d0)]((_0x5dfa20,_0x53db08)=>{const _0x3d3a60=_0x56964b;this[_0x3d3a60(0x298)](_0x53db08);}),this[_0x56964b(0x8ac)]['forEach']((_0x18f500,_0x971f16)=>{const _0x8ac8c6=_0x56964b;this[_0x8ac8c6(0x8ea)](_0x971f16);}),this['jobWorkers']['forEach']((_0x160213,_0x3d1db5)=>{this['removeJobWorker'](_0x3d1db5);}),this[_0x56964b(0x783)][_0x56964b(0x7d0)]((_0xf4bbb2,_0x2b8501)=>{const _0x2bd483=_0x56964b;this[_0x2bd483(0x47d)](_0x2b8501);}),this[_0x56964b(0x89c)][_0x56964b(0x7d0)]((_0x32a03e,_0x52bbfe)=>{const _0x35af51=_0x56964b;this[_0x35af51(0x535)](_0x52bbfe);}));}[_0xd4b2e(0x28d)](_0x6ba7a,_0x1d764d,_0x29e09b){const _0x12c0e7=_0xd4b2e;if(this[_0x12c0e7(0x5ba)]['has'](_0x6ba7a))throw new _0x276337(_0x15ca7a[_0x12c0e7(0x3d9)],_0x12c0e7(0x462));const _0x6440ef=new _0x59a66e(this['configs'][_0x12c0e7(0x3ff)],_0x6ba7a,this[_0x12c0e7(0x33f)]['clusterId'],this[_0x12c0e7(0x33f)][_0x12c0e7(0x313)],this['transactionService'],_0x1d764d,()=>this[_0x12c0e7(0x33f)]['mediator']['waitForArrayBufferSize'](),_0x29e09b);return this[_0x12c0e7(0x5ba)][_0x12c0e7(0x991)](_0x6ba7a,_0x6440ef),this[_0x12c0e7(0x33f)][_0x12c0e7(0x532)][_0x12c0e7(0x844)](_0x6440ef),_0x6440ef;}['createExternalStorageConnection'](_0x355d10,_0x1789e2){const _0x34ca78=_0xd4b2e;if(this['objectStores'][_0x34ca78(0x8e9)](_0x355d10))throw new _0x276337(_0x15ca7a[_0x34ca78(0x483)],_0x34ca78(0x2da));const _0x405782=new _0xb1fffe(this[_0x34ca78(0x33f)][_0x34ca78(0x3ff)],_0x355d10,this['configs'][_0x34ca78(0x6d7)],this['configs'][_0x34ca78(0x313)],_0x1789e2);return this[_0x34ca78(0x2fa)][_0x34ca78(0x991)](_0x355d10,_0x405782),this[_0x34ca78(0x33f)][_0x34ca78(0x532)][_0x34ca78(0x844)](_0x405782),_0x405782;}async[_0xd4b2e(0x50c)](_0x193fe9,_0x4af82d,_0x249a16){const _0x584692=_0xd4b2e;if(this[_0x584692(0x760)][_0x584692(0x8e9)](_0x193fe9))throw new _0x276337(_0x15ca7a[_0x584692(0x132)],'Database\x20already\x20exists');try{const _0x5c4540=this[_0x584692(0x33f)]['mediator'][_0x584692(0x9d5)]['bind'](this[_0x584692(0x33f)][_0x584692(0x532)]),_0x1082a0=new _0xc90db5(this[_0x584692(0x33f)][_0x584692(0x3ff)],_0x193fe9,this[_0x584692(0x33f)][_0x584692(0x6d7)],this[_0x584692(0x33f)]['vendorId'],_0x4af82d,_0x249a16,_0x5c4540);return this[_0x584692(0x760)]['set'](_0x193fe9,_0x1082a0),this[_0x584692(0x33f)]['mediator']['registerSystemSource'](_0x1082a0),_0x1082a0;}catch(_0x512a0f){if(_0x512a0f instanceof _0x276337)throw _0x512a0f;throw new _0x1cac69(_0x1cac69[_0x584692(0x15e)][_0x584692(0x73e)],{'label':_0x193fe9,'clusterId':this['configs']['clusterId'],'vendorId':this[_0x584692(0x33f)][_0x584692(0x313)]});}}async[_0xd4b2e(0x191)](_0x450384,_0x2fe9d0){const _0x493636=_0xd4b2e;if(this[_0x493636(0x8ac)][_0x493636(0x8e9)](_0x450384))throw new _0x276337(_0x15ca7a['JobDispatcherAlreadyExists'],'Job\x20Dispatcher\x20already\x20exists');try{const _0x1e3be2=new _0x30500e(this[_0x493636(0x33f)]['localNode'],_0x450384,_0x2fe9d0);return this[_0x493636(0x8ac)][_0x493636(0x991)](_0x450384,_0x1e3be2),this[_0x493636(0x33f)]['mediator'][_0x493636(0x844)](_0x1e3be2),_0x1e3be2;}catch(_0x2e0595){if(_0x2e0595 instanceof _0x276337)throw _0x2e0595;throw new _0x1cac69(_0x1cac69['codes']['JobDispatcherCreationFailed'],{'label':_0x450384,'clusterId':this[_0x493636(0x33f)][_0x493636(0x6d7)],'vendorId':this[_0x493636(0x33f)]['vendorId']});}}async[_0xd4b2e(0x314)](_0x28c3a9,_0x489f23){const _0x3983fb=_0xd4b2e;if(this[_0x3983fb(0x8ac)][_0x3983fb(0x8e9)](_0x28c3a9))throw new _0x276337(_0x15ca7a[_0x3983fb(0x231)],_0x3983fb(0x3a3));if(this['jobWorkers'][_0x3983fb(0x8e9)](_0x28c3a9))throw new _0x276337(_0x15ca7a['GenerativeAILabelConflict'],_0x3983fb(0x3a2));try{const _0x1b4c28=new _0x349d2d(this[_0x3983fb(0x33f)]['localNode'],_0x28c3a9,this[_0x3983fb(0x33f)][_0x3983fb(0x313)],_0x489f23);return this[_0x3983fb(0x8ac)][_0x3983fb(0x991)](_0x28c3a9,_0x1b4c28),this[_0x3983fb(0x33f)][_0x3983fb(0x532)][_0x3983fb(0x844)](_0x1b4c28),_0x1b4c28;}catch(_0x2cd3ef){if(_0x2cd3ef instanceof _0x276337)throw _0x2cd3ef;throw new _0x1cac69(_0x1cac69[_0x3983fb(0x15e)]['GenerativeAIContextCreationFailed'],{'label':_0x28c3a9,'clusterId':this['configs'][_0x3983fb(0x6d7)],'vendorId':this['configs'][_0x3983fb(0x313)]});}}async['createGenerativeAIWorker'](_0x5424a7,_0x4166b5,_0x441382,_0xbff6de,_0x153d2a,_0x221fb4,_0x571092,_0x1e4a2e){const _0x16b9c9=_0xd4b2e;if(this[_0x16b9c9(0x951)][_0x16b9c9(0x8e9)](_0x5424a7))throw new _0x276337(_0x15ca7a['GenerativeAIWorkerAlreadyExists'],_0x16b9c9(0x813));if(this[_0x16b9c9(0x8ac)]['has'](_0x5424a7))throw new _0x276337(_0x15ca7a[_0x16b9c9(0x257)],_0x16b9c9(0x3a2));try{const _0x4b2300=new _0x126de0(this['configs']['localNode'],_0x5424a7,this[_0x16b9c9(0x33f)][_0x16b9c9(0x313)],_0x4166b5,this,_0x441382,_0xbff6de,_0x153d2a,this['searchApiKey'],this[_0x16b9c9(0x3b9)],_0x221fb4,_0x571092,_0x1e4a2e);return this['jobWorkers'][_0x16b9c9(0x991)](_0x5424a7,_0x4b2300),this[_0x16b9c9(0x33f)]['mediator'][_0x16b9c9(0x844)](_0x4b2300),_0x4b2300;}catch(_0x2fa67f){if(_0x2fa67f instanceof _0x276337)throw _0x2fa67f;throw new _0x1cac69(_0x1cac69[_0x16b9c9(0x15e)][_0x16b9c9(0x40f)],{'label':_0x5424a7,'clusterId':this[_0x16b9c9(0x33f)][_0x16b9c9(0x6d7)],'vendorId':this['configs'][_0x16b9c9(0x313)]});}}[_0xd4b2e(0x591)](_0x4bd01e,_0x42afbe){const _0x28578a=_0xd4b2e;if(this[_0x28578a(0x89c)][_0x28578a(0x8e9)](_0x4bd01e))throw new _0x276337(_0x15ca7a[_0x28578a(0x53a)],'Database\x20already\x20exists');try{const _0x5a63a9=new _0x4454b9(this[_0x28578a(0x33f)]['localNode'],_0x4bd01e,this[_0x28578a(0x33f)][_0x28578a(0x6d7)],this[_0x28578a(0x33f)]['vendorId'],_0x42afbe);return this[_0x28578a(0x89c)][_0x28578a(0x991)](_0x4bd01e,_0x5a63a9),this[_0x28578a(0x33f)]['mediator'][_0x28578a(0x844)](_0x5a63a9),_0x5a63a9;}catch(_0x54fe4f){if(_0x54fe4f instanceof _0x276337)throw _0x54fe4f;throw new _0x1cac69(_0x1cac69[_0x28578a(0x15e)][_0x28578a(0x2c2)],{'label':_0x4bd01e,'clusterId':this[_0x28578a(0x33f)][_0x28578a(0x6d7)],'vendorId':this[_0x28578a(0x33f)]['vendorId']});}}[_0xd4b2e(0x767)](_0x2fc78a,_0x26a714){const _0x500770=_0xd4b2e;if(this[_0x500770(0x83a)][_0x500770(0x8e9)](_0x2fc78a))throw new _0x276337(_0x15ca7a['LocalMediaStreamAlreadyExists'],_0x500770(0x57c));if(!this['options']['audioContext'])throw new _0x276337(_0x15ca7a[_0x500770(0x195)],_0x500770(0x883));const _0x269d71=new _0x51b5dd(this['configs'][_0x500770(0x3ff)],_0x2fc78a,_0x26a714,this[_0x500770(0x49e)][_0x500770(0x9a8)],this['options'][_0x500770(0x914)],this[_0x500770(0x33f)]['clusterId']);return this[_0x500770(0x83a)][_0x500770(0x991)](_0x2fc78a,_0x269d71),this['configs']['mediator'][_0x500770(0x844)](_0x269d71),_0x269d71[_0x500770(0x2b2)](),_0x269d71;}[_0xd4b2e(0x89d)](_0x570243,_0x9d4d7c){const _0x971914=_0xd4b2e;if(this['localMediaStreams']['has'](_0x570243))throw new _0x276337(_0x15ca7a[_0x971914(0x645)],_0x971914(0x99a));const _0x2bddd9=new _0x5a7bda(this[_0x971914(0x33f)][_0x971914(0x3ff)],_0x570243,_0x9d4d7c,this[_0x971914(0x33f)][_0x971914(0x6d7)]);return this['localMediaStreams']['set'](_0x570243,_0x2bddd9),this['configs'][_0x971914(0x532)][_0x971914(0x844)](_0x2bddd9),_0x2bddd9[_0x971914(0x2b2)](),_0x2bddd9;}[_0xd4b2e(0x78f)](_0x50e3cf){const _0x5023a3=_0xd4b2e;if(this[_0x5023a3(0x9b9)][_0x5023a3(0x8e9)](_0x50e3cf))throw new _0x276337(_0x15ca7a[_0x5023a3(0x259)],_0x5023a3(0x3fa));const _0x52d20=new _0x5ab86f(this['configs'][_0x5023a3(0x3ff)],_0x50e3cf,this['configs']['clusterId']);return this[_0x5023a3(0x9b9)][_0x5023a3(0x991)](_0x50e3cf,_0x52d20),this['configs'][_0x5023a3(0x532)][_0x5023a3(0x844)](_0x52d20),_0x52d20;}[_0xd4b2e(0x7e9)](_0x42d46c,_0x4c1808,_0x45f910,_0x408347){const _0x14565a=_0xd4b2e;this[_0x14565a(0x62c)]['has'](_0x42d46c)||this[_0x14565a(0x62c)][_0x14565a(0x991)](_0x42d46c,new Map());const _0x3af4c8=this[_0x14565a(0x62c)][_0x14565a(0x6e6)](_0x42d46c);if(_0x3af4c8[_0x14565a(0x8e9)](_0x4c1808))throw new _0x276337(_0x15ca7a['RemoteMediaStreamAlreadyExists'],'Remote\x20MediaStream\x20already\x20exists');const _0x4e9fc6=new _0x3ec08e(_0x42d46c,'',''),_0x3e3f17=new _0x53103e(this[_0x14565a(0x33f)][_0x14565a(0x3ff)],_0x4e9fc6,_0x4c1808,_0x45f910,_0x408347,this[_0x14565a(0x33f)][_0x14565a(0x6d7)]);return _0x3af4c8[_0x14565a(0x991)](_0x4c1808,_0x3e3f17),this[_0x14565a(0x33f)][_0x14565a(0x532)][_0x14565a(0x844)](_0x3e3f17),_0x3e3f17;}[_0xd4b2e(0x390)](_0x382ed1,_0x5868f3){const _0x358ead=_0xd4b2e;if(this[_0x358ead(0x783)][_0x358ead(0x8e9)](_0x382ed1))throw new _0x276337(_0x15ca7a[_0x358ead(0x229)],_0x358ead(0x812));try{const _0x498de3=new _0xa0acd8(this[_0x358ead(0x33f)][_0x358ead(0x3ff)],_0x382ed1,this[_0x358ead(0x33f)]['clusterId'],this['configs'][_0x358ead(0x313)],_0x5868f3);return this[_0x358ead(0x783)][_0x358ead(0x991)](_0x382ed1,_0x498de3),this[_0x358ead(0x33f)][_0x358ead(0x532)][_0x358ead(0x844)](_0x498de3),_0x498de3;}catch(_0xaf254d){if(_0xaf254d instanceof _0x276337)throw _0xaf254d;throw new _0x1cac69(_0x1cac69[_0x358ead(0x15e)][_0x358ead(0x1fb)],{'label':_0x382ed1,'clusterId':this[_0x358ead(0x33f)][_0x358ead(0x6d7)],'vendorId':this[_0x358ead(0x33f)]['vendorId']});}}[_0xd4b2e(0x7a2)](_0x3c3c81){const _0x138659=_0xd4b2e,_0x4836c5=Array[_0x138659(0x35c)](this['objectStores'][_0x138659(0x75b)]());return _0x3c3c81?_0x4836c5[_0x138659(0x893)](_0x3c3c81):_0x4836c5;}[_0xd4b2e(0x541)](_0x5b4721){const _0x3631d1=_0xd4b2e,_0x57cbef=Array['from'](this['externalStorageConnections'][_0x3631d1(0x75b)]());return _0x5b4721?_0x57cbef[_0x3631d1(0x893)](_0x5b4721):_0x57cbef;}[_0xd4b2e(0x420)](_0xd68b6){const _0x19e86d=_0xd4b2e,_0x26c15c=Array[_0x19e86d(0x35c)](this['keyValueDatabases'][_0x19e86d(0x75b)]());return _0xd68b6?_0x26c15c[_0x19e86d(0x893)](_0xd68b6):_0x26c15c;}[_0xd4b2e(0x789)](_0x57a725){const _0x4919fd=_0xd4b2e,_0x5cdda8=Array['from'](this[_0x4919fd(0x8ac)][_0x4919fd(0x75b)]());return _0x57a725?_0x5cdda8[_0x4919fd(0x893)](_0x57a725):_0x5cdda8;}[_0xd4b2e(0x841)](_0x1352d4){const _0x137085=_0xd4b2e,_0x4712dc=Array[_0x137085(0x35c)](this[_0x137085(0x951)]['values']());return _0x1352d4?_0x4712dc[_0x137085(0x893)](_0x1352d4):_0x4712dc;}[_0xd4b2e(0xa7c)](_0x1c91ba){const _0x3f8b6e=_0xd4b2e,_0x183d00=Array[_0x3f8b6e(0x35c)](this[_0x3f8b6e(0x8ac)][_0x3f8b6e(0x75b)]())[_0x3f8b6e(0x893)](_0x4b9810=>_0x4b9810 instanceof _0x349d2d);return _0x1c91ba?_0x183d00['filter'](_0x1c91ba):_0x183d00;}[_0xd4b2e(0x4d3)](_0x4999dd){const _0x29ab35=_0xd4b2e,_0x145736=Array[_0x29ab35(0x35c)](this[_0x29ab35(0x951)][_0x29ab35(0x75b)]())[_0x29ab35(0x893)](_0x333694=>_0x333694 instanceof _0x126de0);return _0x4999dd?_0x145736[_0x29ab35(0x893)](_0x4999dd):_0x145736;}[_0xd4b2e(0x9f9)](_0x4474e3){const _0x34dba7=_0xd4b2e,_0x2eb4a5=Array['from'](this['graphDatabases'][_0x34dba7(0x75b)]());return _0x4474e3?_0x2eb4a5[_0x34dba7(0x893)](_0x4474e3):_0x2eb4a5;}['getLocalMediaStreams'](_0x59a681){const _0x1a77b8=_0xd4b2e,_0x3c984b=Array[_0x1a77b8(0x35c)](this[_0x1a77b8(0x83a)]['values']());return _0x59a681?_0x3c984b[_0x1a77b8(0x893)](_0x59a681):_0x3c984b;}[_0xd4b2e(0x857)](_0xeb4d84){const _0x144150=_0xd4b2e,_0x1560bf=Array['from'](this[_0x144150(0x9b9)][_0x144150(0x75b)]());return _0xeb4d84?_0x1560bf['filter'](_0xeb4d84):_0x1560bf;}['getRemoteMediaStreams'](_0x16f6aa){const _0x3e3629=_0xd4b2e,_0x151d21=Array['from'](this[_0x3e3629(0x62c)]['values']())[_0x3e3629(0x7aa)]((_0x3a80fe,_0x1ba54e)=>[..._0x3a80fe,...Array[_0x3e3629(0x35c)](_0x1ba54e['values']())],[]);return _0x16f6aa?_0x151d21['filter'](_0x16f6aa):_0x151d21;}[_0xd4b2e(0x777)](_0x2b13c9){const _0x17677f=_0xd4b2e,_0x11f47a=Array['from'](this[_0x17677f(0x783)][_0x17677f(0x75b)]());return _0x2b13c9?_0x11f47a[_0x17677f(0x893)](_0x2b13c9):_0x11f47a;}[_0xd4b2e(0x466)](_0x58fea0){const _0x59592f=_0xd4b2e,_0x586935=this['objectStores']['get'](_0x58fea0);if(!_0x586935)throw new _0x276337(_0x15ca7a['ObjectStoreDoesNotExist'],_0x59592f(0x6e2));return _0x586935;}[_0xd4b2e(0xa17)](_0x47b636){const _0x3c3b1a=_0xd4b2e,_0x66ece8=_0x47b636['split']('-'),_0x45c911=this[_0x3c3b1a(0x2fa)][_0x3c3b1a(0x6e6)](_0x66ece8[0x1]);if(!_0x45c911)throw new _0x276337(_0x15ca7a['ExternalStorageConnectionDoesNotExist'],_0x3c3b1a(0x364));return _0x45c911;}[_0xd4b2e(0x138)](_0x4a753c){const _0x5b387d=_0xd4b2e,_0x450cd9=this['graphDatabases'][_0x5b387d(0x6e6)](_0x4a753c);if(!_0x450cd9)throw new _0x276337(_0x15ca7a[_0x5b387d(0x175)],_0x5b387d(0x7ee));return _0x450cd9;}[_0xd4b2e(0x487)](_0x45b10f){const _0x39592a=_0xd4b2e,_0x4177e2=this[_0x39592a(0x760)][_0x39592a(0x6e6)](_0x45b10f);if(!_0x4177e2)throw new _0x276337(_0x15ca7a[_0x39592a(0x26f)],_0x39592a(0x3d4));return _0x4177e2;}[_0xd4b2e(0x4cc)](_0x4bc314){const _0x5ce91b=_0xd4b2e,_0x49cc4b=this['pubSubTopics'][_0x5ce91b(0x6e6)](_0x4bc314);if(!_0x49cc4b)throw new _0x276337(_0x15ca7a[_0x5ce91b(0x48f)],'PubSubTopic\x20not\x20found');return _0x49cc4b;}['getVectorDatabase'](_0x101728){const _0x5c7c4a=_0xd4b2e,_0x1676fc=this[_0x5c7c4a(0x783)][_0x5c7c4a(0x6e6)](_0x101728);if(!_0x1676fc)throw new _0x276337(_0x15ca7a['VectorDatabaseDoesNotExist'],_0x5c7c4a(0x787));return _0x1676fc;}[_0xd4b2e(0xa31)](_0x4917d0){const _0x5658dd=_0xd4b2e;switch(_0x4917d0[_0x5658dd(0x580)][_0x5658dd(0x747)]){case _0x2b2ef9[_0x5658dd(0x860)]:this[_0x5658dd(0x26a)](_0x4917d0[_0x5658dd(0x580)]);break;case _0x2b2ef9[_0x5658dd(0x70a)]:this[_0x5658dd(0x4dc)](_0x4917d0[_0x5658dd(0x580)]);break;case _0x2b2ef9[_0x5658dd(0x934)]:this['removeJobDispatcher'](_0x4917d0[_0x5658dd(0x580)][_0x5658dd(0x39a)]);break;case _0x2b2ef9[_0x5658dd(0x66e)]:this[_0x5658dd(0x1c8)](_0x4917d0[_0x5658dd(0x580)][_0x5658dd(0x39a)]);break;case _0x2b2ef9['CloseMediaStream']:this[_0x5658dd(0x15c)](_0x4917d0[_0x5658dd(0x580)][_0x5658dd(0x39a)]);break;case _0x2b2ef9['ClosePubSubTopic']:this[_0x5658dd(0x2ff)](_0x4917d0['content']['label']);break;case _0x2b2ef9['CloseObjectStoreBucket']:this[_0x5658dd(0x2d4)](_0x4917d0[_0x5658dd(0x580)][_0x5658dd(0x39a)]);break;case _0x2b2ef9['CloseExternalStorageConnection']:this['removeExternalStorageConnection'](_0x4917d0['content'][_0x5658dd(0x39a)]);break;case _0x2b2ef9[_0x5658dd(0x3f1)]:this[_0x5658dd(0x298)](_0x4917d0[_0x5658dd(0x580)][_0x5658dd(0x39a)]);break;case _0x2b2ef9[_0x5658dd(0x250)]:this[_0x5658dd(0x47d)](_0x4917d0[_0x5658dd(0x580)]['label']);break;case _0x2b2ef9[_0x5658dd(0x51f)]:this['removeGraphDatabase'](_0x4917d0['content'][_0x5658dd(0x39a)]);break;case _0x2b2ef9[_0x5658dd(0x208)]:this[_0x5658dd(0x4c2)](_0x4917d0[_0x5658dd(0x580)]);break;case _0x2b2ef9[_0x5658dd(0x5a1)]:this[_0x5658dd(0x760)][_0x5658dd(0x6e6)](_0x4917d0[_0x5658dd(0x580)][_0x5658dd(0x39a)])?.[_0x5658dd(0x19d)](_0x4917d0[_0x5658dd(0x3e6)],_0x4917d0[_0x5658dd(0x580)]['mmrRoot']);break;case _0x2b2ef9[_0x5658dd(0x918)]:this['keyValueDatabases'][_0x5658dd(0x6e6)](_0x4917d0[_0x5658dd(0x580)][_0x5658dd(0x39a)])?.[_0x5658dd(0x9d8)](_0x4917d0[_0x5658dd(0x3e6)],_0x4917d0[_0x5658dd(0x580)][_0x5658dd(0x887)]);break;case _0x2b2ef9[_0x5658dd(0x5c1)]:this[_0x5658dd(0x760)][_0x5658dd(0x6e6)](_0x4917d0[_0x5658dd(0x580)][_0x5658dd(0x39a)])?.[_0x5658dd(0x6d5)](_0x4917d0[_0x5658dd(0x3e6)],_0x4917d0[_0x5658dd(0x580)][_0x5658dd(0x553)]);break;case _0x2b2ef9[_0x5658dd(0x646)]:this['keyValueDatabases'][_0x5658dd(0x6e6)](_0x4917d0['content'][_0x5658dd(0x39a)])?.[_0x5658dd(0x77d)](_0x4917d0[_0x5658dd(0x3e6)],_0x4917d0[_0x5658dd(0x580)]['peakHeights']);break;case _0x2b2ef9[_0x5658dd(0x4e0)]:this[_0x5658dd(0x760)]['get'](_0x4917d0[_0x5658dd(0x580)][_0x5658dd(0x39a)])?.[_0x5658dd(0x36c)](_0x4917d0[_0x5658dd(0x3e6)],_0x4917d0[_0x5658dd(0x580)][_0x5658dd(0x8be)]);break;case _0x2b2ef9[_0x5658dd(0x53b)]:this[_0x5658dd(0x760)][_0x5658dd(0x6e6)](_0x4917d0[_0x5658dd(0x580)][_0x5658dd(0x39a)])?.[_0x5658dd(0x2c3)](_0x4917d0[_0x5658dd(0x3e6)],_0x4917d0[_0x5658dd(0x580)][_0x5658dd(0x28c)]);break;case _0x2b2ef9[_0x5658dd(0x3b4)]:this[_0x5658dd(0x33f)][_0x5658dd(0x532)][_0x5658dd(0x3bb)](_0x5658dd(0x647),{'label':_0x4917d0['content']['label'],'trackKinds':_0x4917d0[_0x5658dd(0x580)][_0x5658dd(0x8cd)]});}}['handleNodeSystemEvents']({content:_0x5796a5}){const _0x2ce65b=_0xd4b2e;switch(_0x5796a5[_0x2ce65b(0x747)]){case _0xebf85e[_0x2ce65b(0xa71)]:this[_0x2ce65b(0x5cb)](_0x5796a5),this['notifyObjectStoreOfNodeJoin'](_0x5796a5);break;case _0xebf85e['NodeLeave']:this['handleNodeLeave'](_0x5796a5),this['notifyObjectStoreOfNodeLeave'](_0x5796a5);}}[_0xd4b2e(0x1eb)](_0x3e76ae){const _0x5ea671=_0xd4b2e;switch(_0x3e76ae[_0x5ea671(0x580)][_0x5ea671(0x747)]){case _0x2478e8[_0x5ea671(0x6a5)]:this[_0x5ea671(0x438)](_0x3e76ae[_0x5ea671(0x3e6)],_0x3e76ae[_0x5ea671(0x580)]);break;case _0x2478e8['UpdateMediaStream']:this[_0x5ea671(0x67d)](_0x3e76ae[_0x5ea671(0x3e6)],_0x3e76ae['content']);break;case _0x2478e8[_0x5ea671(0x208)]:this[_0x5ea671(0xa42)](_0x3e76ae['sourceId'],_0x3e76ae['content']);}}[_0xd4b2e(0x4c2)](_0x54c6ef){const _0xb32f0e=_0xd4b2e;if(0x0===_0x54c6ef[_0xb32f0e(0x273)])this[_0xb32f0e(0x62c)][_0xb32f0e(0x6e6)](_0x54c6ef['ownerId'])?.['get'](_0x54c6ef[_0xb32f0e(0x39a)])?.[_0xb32f0e(0x32a)]();else{const _0x210f95=this[_0xb32f0e(0x62c)]['get'](_0x54c6ef['ownerId'])?.[_0xb32f0e(0x6e6)](_0x54c6ef[_0xb32f0e(0x39a)]);if(!_0x210f95)return;_0x54c6ef[_0xb32f0e(0x8cd)][_0xb32f0e(0x7d0)](_0x208728=>_0x210f95[_0xb32f0e(0x898)](_0x208728));}}['handlePublishMediaStream'](_0x4bfac3){const _0x2731ad=_0xd4b2e,{label:_0x65420d,ownerId:_0x247e42,stream:{streamId:_0x2ee2c9,availableTrackKinds:_0x378ee5}}=_0x4bfac3;if(this[_0x2731ad(0x62c)][_0x2731ad(0x6e6)](_0x247e42)?.[_0x2731ad(0x8e9)](_0x65420d))return void _0x98a765[_0x2731ad(0x22d)](_0x831a2b[_0x2731ad(0x657)],_0x2731ad(0x99a),_0x2ee2c9);const _0xb5ec1b=this[_0x2731ad(0x7e9)](_0x247e42,_0x65420d,_0x2ee2c9,_0x378ee5);this[_0x2731ad(0x33f)]['mediator'][_0x2731ad(0x3bb)](_0x2731ad(0x55b),{'ownerId':_0x247e42,'stream':_0xb5ec1b});}[_0xd4b2e(0x4dc)]({ownerId:_0x48d5e9,label:_0x4821f3}){const _0x233d22=_0xd4b2e;this[_0x233d22(0x67b)](_0x48d5e9,_0x4821f3),this[_0x233d22(0x33f)][_0x233d22(0x532)][_0x233d22(0x3bb)]('content-unpublish-media',{'ownerId':_0x48d5e9,'label':_0x4821f3});}[_0xd4b2e(0x438)](_0x4aa3a0,_0x325fee){const _0x147fd5=_0xd4b2e,{ownerId:_0x46d12d,label:_0x34e611}=_0x325fee;let _0x22ac25;_0x22ac25=_0x46d12d!==this[_0x147fd5(0x33f)][_0x147fd5(0x3ff)][_0x147fd5(0x2a6)]()?this[_0x147fd5(0x62c)][_0x147fd5(0x6e6)](_0x46d12d)[_0x147fd5(0x6e6)](_0x34e611):this[_0x147fd5(0x83a)][_0x147fd5(0x6e6)](_0x34e611),_0x22ac25[_0x147fd5(0x71e)](_0x4aa3a0,_0x325fee[_0x147fd5(0x44a)])[_0x147fd5(0x696)](_0x325fee,_0x22ac25[_0x147fd5(0x58f)]());}[_0xd4b2e(0x67d)](_0x4bae43,_0x204786){const _0x1a1be0=_0xd4b2e,{ownerId:_0xc53c39,label:_0x2c30ee}=_0x204786;let _0x3fb32a;_0x3fb32a=_0xc53c39!==this[_0x1a1be0(0x33f)]['localNode'][_0x1a1be0(0x2a6)]()?this[_0x1a1be0(0x62c)][_0x1a1be0(0x6e6)](_0xc53c39)[_0x1a1be0(0x6e6)](_0x2c30ee):this['localMediaStreams']['get'](_0x2c30ee),_0x3fb32a[_0x1a1be0(0x71e)](_0x4bae43,_0x204786[_0x1a1be0(0x44a)])[_0x1a1be0(0x3bf)](_0x204786);}[_0xd4b2e(0xa42)](_0x36c1d7,_0x3ce9eb){const _0x1b9145=_0xd4b2e,{ownerId:_0x3757f4,label:_0x4b34d5}=_0x3ce9eb;let _0x36982e;_0x36982e=_0x3757f4!==this[_0x1b9145(0x33f)][_0x1b9145(0x3ff)][_0x1b9145(0x2a6)]()?this['remoteMediaStreams'][_0x1b9145(0x6e6)](_0x3757f4)[_0x1b9145(0x6e6)](_0x4b34d5):this['localMediaStreams'][_0x1b9145(0x6e6)](_0x4b34d5),_0x36982e[_0x1b9145(0x71e)](_0x36c1d7)[_0x1b9145(0x37a)](_0x3ce9eb);}['handleNodeJoinNeedPublishedStream']({id:_0x7dbc48}){const _0x369428=_0xd4b2e;this[_0x369428(0x3c6)]()['forEach'](_0xa318a8=>{const _0x40998a=_0x369428;_0xa318a8[_0x40998a(0x2b2)](_0x7dbc48);});}[_0xd4b2e(0x99b)]({id:_0x381eaa}){const _0xab1179=_0xd4b2e;this[_0xab1179(0x16e)](_0x3687da=>_0x3687da['getOwnerId']()===_0x381eaa)[_0xab1179(0x7d0)](_0x65cbe2=>{const _0x40407e=_0xab1179;this[_0x40407e(0x67b)](_0x65cbe2[_0x40407e(0x4da)](),_0x65cbe2[_0x40407e(0x255)]());});}[_0xd4b2e(0x42d)]({id:_0x180926}){const _0x2c7fb5=_0xd4b2e;this[_0x2c7fb5(0x5ba)][_0x2c7fb5(0x7d0)](_0x51ba0a=>_0x51ba0a[_0x2c7fb5(0xa4f)](_0x180926));}[_0xd4b2e(0x1e3)]({id:_0x1a32f8}){const _0x43e754=_0xd4b2e;this['objectStores'][_0x43e754(0x7d0)](_0x4361d5=>_0x4361d5['handleNodeLeave'](_0x1a32f8));}[_0xd4b2e(0x8ea)](_0x2ddfb5){const _0x5a214a=_0xd4b2e;if(!this[_0x5a214a(0x8ac)][_0x5a214a(0x8e9)](_0x2ddfb5))throw new _0x276337(_0x15ca7a[_0x5a214a(0x9fa)],'Job\x20Dispatcher\x20does\x20not\x20exist');const _0x2e890c=this[_0x5a214a(0x8ac)][_0x5a214a(0x6e6)](_0x2ddfb5);this['jobDispatchers'][_0x5a214a(0xa2f)](_0x2ddfb5),_0x2e890c[_0x5a214a(0x32a)](),this[_0x5a214a(0x33f)][_0x5a214a(0x532)][_0x5a214a(0x22e)](_0x2e890c);}[_0xd4b2e(0x1c8)](_0x3309e2){const _0x15207c=_0xd4b2e;if(!this['jobWorkers'][_0x15207c(0x8e9)](_0x3309e2))throw new _0x276337(_0x15ca7a[_0x15207c(0x84e)],_0x15207c(0x1ab));const _0x6cf1b8=this[_0x15207c(0x951)][_0x15207c(0x6e6)](_0x3309e2);this['jobWorkers']['delete'](_0x3309e2),_0x6cf1b8[_0x15207c(0x32a)](),this[_0x15207c(0x33f)]['mediator']['unregisterSystemSource'](_0x6cf1b8);}['removeObjectStore'](_0x21336b){const _0x51823e=_0xd4b2e;if(!this['objectStores'][_0x51823e(0x8e9)](_0x21336b))throw new _0x276337(_0x15ca7a[_0x51823e(0x2cb)],'Stream\x20does\x20not\x20exist');const _0x452920=this['objectStores'][_0x51823e(0x6e6)](_0x21336b);this['objectStores'][_0x51823e(0xa2f)](_0x21336b),_0x452920[_0x51823e(0x32a)](),this['configs'][_0x51823e(0x532)]['unregisterSystemSource'](_0x452920);}[_0xd4b2e(0x481)](_0x5ccfc9){const _0x1749f0=_0xd4b2e;if(!this['externalStorageConnections'][_0x1749f0(0x8e9)](_0x5ccfc9))throw new _0x276337(_0x15ca7a['ExternalStorageConnectionDoesNotExist'],_0x1749f0(0x360));const _0x6e54f3=this[_0x1749f0(0x2fa)][_0x1749f0(0x6e6)](_0x5ccfc9);this[_0x1749f0(0x2fa)][_0x1749f0(0xa2f)](_0x5ccfc9),_0x6e54f3['destroy'](),this[_0x1749f0(0x33f)][_0x1749f0(0x532)]['unregisterSystemSource'](_0x6e54f3);}[_0xd4b2e(0x2ff)](_0xfe7b77){const _0x3f4eda=_0xd4b2e;if(!this[_0x3f4eda(0x9b9)]['has'](_0xfe7b77))throw new _0x276337(_0x15ca7a[_0x3f4eda(0x48f)],_0x3f4eda(0x32f));const _0x5a40fe=this['pubSubTopics']['get'](_0xfe7b77);this[_0x3f4eda(0x9b9)][_0x3f4eda(0xa2f)](_0xfe7b77),_0x5a40fe[_0x3f4eda(0x32a)](),this[_0x3f4eda(0x33f)][_0x3f4eda(0x532)][_0x3f4eda(0x22e)](_0x5a40fe);}[_0xd4b2e(0x298)](_0x2760b6){const _0x5e657d=_0xd4b2e;if(!this[_0x5e657d(0x760)][_0x5e657d(0x8e9)](_0x2760b6))throw new _0x276337(_0x15ca7a['KeyValueDatabaseDoesNotExist'],_0x5e657d(0x332));const _0x38c7dc=this[_0x5e657d(0x760)][_0x5e657d(0x6e6)](_0x2760b6);this[_0x5e657d(0x760)][_0x5e657d(0xa2f)](_0x2760b6),_0x38c7dc[_0x5e657d(0x32a)](),this[_0x5e657d(0x33f)][_0x5e657d(0x532)][_0x5e657d(0x22e)](_0x38c7dc);}[_0xd4b2e(0x47d)](_0x33fa81){const _0x2affb9=_0xd4b2e;if(!this['vectorDatabases'][_0x2affb9(0x8e9)](_0x33fa81))throw new _0x276337(_0x15ca7a[_0x2affb9(0x1a0)],_0x2affb9(0x332));const _0x497c7f=this['vectorDatabases'][_0x2affb9(0x6e6)](_0x33fa81);this[_0x2affb9(0x783)][_0x2affb9(0xa2f)](_0x33fa81),_0x497c7f[_0x2affb9(0x32a)](),this[_0x2affb9(0x33f)]['mediator']['unregisterSystemSource'](_0x497c7f);}['removeGraphDatabase'](_0x256ec8){const _0xf9877c=_0xd4b2e;if(!this[_0xf9877c(0x89c)][_0xf9877c(0x8e9)](_0x256ec8))throw new _0x276337(_0x15ca7a['GraphDatabaseDoesNotExist'],_0xf9877c(0x332));const _0x546549=this[_0xf9877c(0x89c)][_0xf9877c(0x6e6)](_0x256ec8);this[_0xf9877c(0x89c)]['delete'](_0x256ec8),_0x546549['destroy'](),this[_0xf9877c(0x33f)][_0xf9877c(0x532)][_0xf9877c(0x22e)](_0x546549);}[_0xd4b2e(0x15c)](_0x5afb7b){const _0xcf8094=_0xd4b2e;if(!this[_0xcf8094(0x83a)][_0xcf8094(0x8e9)](_0x5afb7b))throw new _0x1cac69(_0x1cac69['codes'][_0xcf8094(0x5b1)],{'label':_0x5afb7b,'localId':this[_0xcf8094(0x33f)][_0xcf8094(0x3ff)][_0xcf8094(0x2a6)]()});const _0x3f7523=this['localMediaStreams'][_0xcf8094(0x6e6)](_0x5afb7b);this[_0xcf8094(0x33f)][_0xcf8094(0x532)][_0xcf8094(0x22e)](_0x3f7523),_0x3f7523[_0xcf8094(0x32a)](),this['localMediaStreams'][_0xcf8094(0xa2f)](_0x5afb7b);}[_0xd4b2e(0x67b)](_0x46e0b0,_0x5fe7fb){const _0x20ccb8=_0xd4b2e;if(!this[_0x20ccb8(0x62c)][_0x20ccb8(0x8e9)](_0x46e0b0))throw new _0x1cac69(_0x1cac69['codes'][_0x20ccb8(0x82c)],{'nodeId':_0x46e0b0,'localId':this[_0x20ccb8(0x33f)][_0x20ccb8(0x3ff)][_0x20ccb8(0x2a6)]()});const _0x45dd8f=this['remoteMediaStreams'][_0x20ccb8(0x6e6)](_0x46e0b0);if(!_0x45dd8f[_0x20ccb8(0x8e9)](_0x5fe7fb))throw new _0x1cac69(_0x1cac69[_0x20ccb8(0x15e)][_0x20ccb8(0x345)],{'nodeId':_0x46e0b0,'label':_0x5fe7fb,'localId':this[_0x20ccb8(0x33f)][_0x20ccb8(0x3ff)]['getId']()});const _0x105a2e=_0x45dd8f[_0x20ccb8(0x6e6)](_0x5fe7fb);this[_0x20ccb8(0x33f)][_0x20ccb8(0x532)][_0x20ccb8(0x22e)](_0x105a2e),_0x105a2e[_0x20ccb8(0x32a)](),_0x45dd8f[_0x20ccb8(0xa2f)](_0x5fe7fb);}}var _0x3c3ce4,_0x353a52,_0x393a21;!function(_0x1217d1){const _0x596242=_0xd4b2e;_0x1217d1[_0x596242(0x855)]=_0x596242(0x933),_0x1217d1[_0x596242(0x337)]='dt_volatility',_0x1217d1[_0x596242(0xa49)]='time_per_frame',_0x1217d1['Bitrate']='bitrate',_0x1217d1[_0x596242(0x3f3)]=_0x596242(0x4b9),_0x1217d1[_0x596242(0x283)]='fps',_0x1217d1['RoundTripTime']=_0x596242(0x276),_0x1217d1[_0x596242(0x92a)]=_0x596242(0x595);}(_0x3c3ce4||(_0x3c3ce4={})),function(_0x260a8e){const _0x3727c3=_0xd4b2e;_0x260a8e['CPUCycle']=_0x3727c3(0x61b),_0x260a8e['TimePerFrame']=_0x3727c3(0x9d4),_0x260a8e[_0x3727c3(0x92a)]=_0x3727c3(0x8fd),_0x260a8e[_0x3727c3(0x283)]=_0x3727c3(0x29a),_0x260a8e[_0x3727c3(0x596)]=_0x3727c3(0x4e2),_0x260a8e[_0x3727c3(0x3f3)]=_0x3727c3(0x86c),_0x260a8e['RoundTripTime']=_0x3727c3(0x9d9);}(_0x353a52||(_0x353a52={})),function(_0x3ce20e){const _0x13b3ba=_0xd4b2e;_0x3ce20e[_0x3ce20e['Problem']=0x0]=_0x13b3ba(0x3fd);}(_0x393a21||(_0x393a21={}));const _0x44f71c=[{'type':_0x3c3ce4[_0xd4b2e(0x855)],'reportMetric':_0x258b49=>_0x258b49[_0xd4b2e(0x855)],'maxThreshold':2.5},{'type':_0x3c3ce4[_0xd4b2e(0x337)],'reportMetric':_0x149126=>_0x149126['DTVolatility'],'maxThreshold':0.5}],_0x57c45b=[{'type':_0x3c3ce4[_0xd4b2e(0xa49)],'reportMetric':_0x145966=>{const _0xd5e73d=_0xd4b2e,_0x2435b4=0x3e8/_0x145966[_0xd5e73d(0x5cf)];return _0x145966[_0xd5e73d(0x7cb)]/_0x2435b4;},'maxThreshold':0.75},{'type':_0x3c3ce4[_0xd4b2e(0x596)],'reportMetric':_0x4b3286=>{const _0x1aa12d=_0xd4b2e,_0x216689=_0x4b3286['FPS']*_0x4b3286[_0x1aa12d(0x7e4)]*_0x4b3286['frameHeight']*0.12;return _0x4b3286[_0x1aa12d(0x8f8)]/_0x216689;},'minThreshold':0.25},{'type':_0x3c3ce4[_0xd4b2e(0x3f3)],'reportMetric':_0x301c2e=>_0x301c2e['jitter'],'maxThreshold':0.6},{'type':_0x3c3ce4[_0xd4b2e(0x283)],'reportMetric':_0x3d1a4a=>_0x3d1a4a[_0xd4b2e(0x5cf)],'minThreshold':0xa}],_0x475d13=[{'type':_0x3c3ce4['Jitter'],'reportMetric':_0x2e0c8e=>_0x2e0c8e['jitter'],'maxThreshold':0.6}],_0x27e3fd=[{'type':_0x3c3ce4['RoundTripTime'],'reportMetric':_0x4d611e=>_0x4d611e[_0xd4b2e(0x3a0)],'maxThreshold':0x1/0x0}],_0x3a4aca=[{'type':_0x3c3ce4['AudioVideoDelay'],'reportMetric':_0x26aeef=>_0x26aeef[_0xd4b2e(0x92a)],'maxThreshold':0x12c}],_0x2c1881=[{'type':_0x353a52['CPUCycle'],'issues':[{'type':_0x3c3ce4[_0xd4b2e(0x855)],'threshold':0x5},{'type':_0x3c3ce4['DTVolatility'],'threshold':0x5}]},{'type':_0x353a52['TimePerFrame'],'issues':[{'type':_0x3c3ce4['TimePerFrame'],'threshold':0x3}]},{'type':_0x353a52[_0xd4b2e(0x92a)],'issues':[{'type':_0x3c3ce4[_0xd4b2e(0x92a)],'threshold':0x2}]},{'type':_0x353a52[_0xd4b2e(0x283)],'issues':[{'type':_0x3c3ce4['FramePerSecond'],'threshold':0x3}]},{'type':_0x353a52['Bitrate'],'issues':[{'type':_0x3c3ce4[_0xd4b2e(0x596)],'threshold':0x3}]},{'type':_0x353a52[_0xd4b2e(0x3f3)],'issues':[{'type':_0x3c3ce4[_0xd4b2e(0x3f3)],'threshold':0x3}]},{'type':_0x353a52[_0xd4b2e(0x88e)],'issues':[{'type':_0x3c3ce4['RoundTripTime'],'threshold':0x3}]}];var _0x452eb7,_0x113c20;!function(_0x1a8d58){const _0x142c78=_0xd4b2e;_0x1a8d58[_0x1a8d58[_0x142c78(0x9bf)]=0x0]=_0x142c78(0x9bf),_0x1a8d58[_0x1a8d58[_0x142c78(0x639)]=0x1]='LocalReport';}(_0x452eb7||(_0x452eb7={}));class _0x4e67d3{['configs'];[_0xd4b2e(0x325)]=[];[_0xd4b2e(0x598)];constructor(_0x3eb120){const _0x9e353f=_0xd4b2e;this['configs']=_0x3eb120,this[_0x9e353f(0x33f)][_0x9e353f(0x532)][_0x9e353f(0x844)](this);}[_0xd4b2e(0x14c)](_0x1a69c2){this['systemTopic']=_0x1a69c2;}[_0xd4b2e(0x738)](){const _0x54d706=_0xd4b2e;this[_0x54d706(0x598)]=void 0x0;}['close'](){const _0x76162c=_0xd4b2e;this['configs']['mediator'][_0x76162c(0x22e)](this),this[_0x76162c(0x325)]=[];}[_0xd4b2e(0x6fc)](_0x434283){const _0x5464d7=_0xd4b2e;switch(_0x434283[_0x5464d7(0x580)][_0x5464d7(0x747)]){case _0x452eb7['LocalReport']:this[_0x5464d7(0x695)](_0x434283[_0x5464d7(0x580)][_0x5464d7(0x2aa)]);break;case _0x452eb7[_0x5464d7(0x9bf)]:this[_0x5464d7(0xa6a)](_0x434283[_0x5464d7(0x580)][_0x5464d7(0x2aa)]);}}['detectProblems'](_0x48b30f,_0x8a842,_0x3d95ba,_0x29459a){const _0x1b78ab=_0xd4b2e,_0x30b189=_0x2c1881['find'](_0x10f20a=>_0x10f20a['issues'][_0x1b78ab(0x403)](_0x7d7fd7=>_0x7d7fd7[_0x1b78ab(0x747)]===_0x48b30f));_0x29459a>=_0x30b189['issues'][_0x1b78ab(0x91c)](_0x4d805d=>_0x4d805d['type']===_0x48b30f)['threshold']&&(this[_0x1b78ab(0x82f)](_0x30b189[_0x1b78ab(0x747)],_0x8a842,_0x3d95ba),this[_0x1b78ab(0x325)]=this['issues']['filter'](_0x6bc06c=>!(_0x6bc06c[_0x1b78ab(0x747)]===_0x48b30f&&_0x6bc06c[_0x1b78ab(0x166)]===_0x8a842&&_0x6bc06c[_0x1b78ab(0x998)]===_0x3d95ba)));}[_0xd4b2e(0x695)](_0x42d146){const _0xf2b6de=_0xd4b2e;_0x44f71c[_0xf2b6de(0x7d0)](_0x5320fa=>{const _0x2cd0e3=_0xf2b6de,_0x372273=_0x5320fa['reportMetric'](_0x42d146);_0x5320fa[_0x2cd0e3(0x6a4)]&&_0x372273>_0x5320fa[_0x2cd0e3(0x6a4)]&&this[_0x2cd0e3(0xa19)](_0x5320fa[_0x2cd0e3(0x747)],this[_0x2cd0e3(0x33f)][_0x2cd0e3(0x3ff)][_0x2cd0e3(0x2a6)](),_0x4172fc[_0x2cd0e3(0x2e1)],_0x372273),_0x5320fa[_0x2cd0e3(0x1a1)]&&_0x372273<_0x5320fa[_0x2cd0e3(0x1a1)]&&this[_0x2cd0e3(0xa19)](_0x5320fa['type'],this['configs'][_0x2cd0e3(0x3ff)][_0x2cd0e3(0x2a6)](),_0x4172fc['Sender'],_0x372273);});}[_0xd4b2e(0xa6a)](_0x43e381){const _0x4a3aa2=_0xd4b2e;let _0x322401=[];switch(_0x43e381[_0x4a3aa2(0x998)]){case _0x4172fc[_0x4a3aa2(0x2e1)]:_0x322401=_0x27e3fd;break;case _0x4172fc[_0x4a3aa2(0x655)]:_0x322401=_0x3a4aca;}_0x43e381[_0x4a3aa2(0x5ab)]&&this[_0x4a3aa2(0x4fe)](_0x43e381['nodeId'],_0x4172fc['Sender'],_0x43e381[_0x4a3aa2(0x5ab)]),_0x43e381[_0x4a3aa2(0x6c5)]&&this[_0x4a3aa2(0x4f0)](_0x43e381[_0x4a3aa2(0x166)],_0x4172fc[_0x4a3aa2(0x2e1)],_0x43e381['audio']),_0x322401['forEach'](_0x2dadb2=>{const _0x157d1a=_0x4a3aa2,_0x3e056c=_0x2dadb2[_0x157d1a(0x317)](_0x43e381);_0x2dadb2['maxThreshold']&&_0x3e056c>_0x2dadb2['maxThreshold']&&this[_0x157d1a(0xa19)](_0x2dadb2[_0x157d1a(0x747)],_0x43e381[_0x157d1a(0x166)],_0x4172fc[_0x157d1a(0x2e1)],_0x3e056c),_0x2dadb2[_0x157d1a(0x1a1)]&&_0x3e056c<_0x2dadb2['minThreshold']&&this[_0x157d1a(0xa19)](_0x2dadb2[_0x157d1a(0x747)],_0x43e381['nodeId'],_0x4172fc[_0x157d1a(0x2e1)],_0x3e056c);});}[_0xd4b2e(0x4fe)](_0x59e419,_0x19b6ad,_0xde651d){const _0xfd6958=_0xd4b2e;0x0!==_0xde651d[_0xfd6958(0x8f8)]&&_0x57c45b[_0xfd6958(0x7d0)](_0x381c5b=>{const _0x1c878a=_0xfd6958,_0xea21b=_0x381c5b[_0x1c878a(0x317)](_0xde651d);_0x381c5b[_0x1c878a(0x6a4)]&&_0xea21b>_0x381c5b[_0x1c878a(0x6a4)]&&this[_0x1c878a(0xa19)](_0x381c5b['type'],_0x59e419,_0x19b6ad,_0xea21b,'video'),_0x381c5b[_0x1c878a(0x1a1)]&&_0xea21b<_0x381c5b[_0x1c878a(0x1a1)]&&this[_0x1c878a(0xa19)](_0x381c5b[_0x1c878a(0x747)],_0x59e419,_0x19b6ad,_0xea21b,_0x1c878a(0x5ab));});}[_0xd4b2e(0x4f0)](_0x514bf9,_0x515861,_0x32831b){const _0x3aa061=_0xd4b2e;0x0!==_0x32831b[_0x3aa061(0x8f8)]&&_0x475d13[_0x3aa061(0x7d0)](_0x553f5e=>{const _0x1be989=_0x3aa061,_0xfb8a45=_0x553f5e[_0x1be989(0x317)](_0x32831b);_0x553f5e['maxThreshold']&&_0xfb8a45>_0x553f5e[_0x1be989(0x6a4)]&&this[_0x1be989(0xa19)](_0x553f5e[_0x1be989(0x747)],_0x514bf9,_0x515861,_0xfb8a45,_0x1be989(0x6c5)),_0x553f5e[_0x1be989(0x1a1)]&&_0xfb8a45<_0x553f5e['minThreshold']&&this[_0x1be989(0xa19)](_0x553f5e[_0x1be989(0x747)],_0x514bf9,_0x515861,_0xfb8a45,_0x1be989(0x6c5));});}[_0xd4b2e(0xa19)](_0x136f8c,_0x22770e,_0x2362e2,_0x46eb02,_0x420d75){const _0x3e8042=_0xd4b2e;_0x98a765[_0x3e8042(0x22d)](_0x831a2b[_0x3e8042(0x456)],'Issue\x20detected:\x20'+_0x136f8c,_0x136f8c,_0x46eb02),_0x98a765[_0x3e8042(0x1b3)]('issue',{'clusterId':this[_0x3e8042(0x33f)]['clusterId'],'nodeId':this[_0x3e8042(0x33f)]['localNode'][_0x3e8042(0x2a6)](),'nodeType':this[_0x3e8042(0x33f)][_0x3e8042(0x3ff)]['type'],'remoteId':_0x22770e,'data':{'type':_0x136f8c,'value':_0x46eb02,'kind':_0x420d75}}),this[_0x3e8042(0x325)]=this[_0x3e8042(0x325)][_0x3e8042(0x893)](_0x338829=>Date[_0x3e8042(0x702)]()-_0x338829[_0x3e8042(0x9d7)]<0x7530),this[_0x3e8042(0x325)][_0x3e8042(0x55a)]({'timestamp':Date['now'](),'type':_0x136f8c,'nodeId':_0x22770e,'origin':_0x2362e2,'value':_0x46eb02,'kind':_0x420d75});const _0x292931=this[_0x3e8042(0x325)][_0x3e8042(0x893)](_0x3ff184=>_0x3ff184[_0x3e8042(0x747)]===_0x136f8c&&_0x3ff184[_0x3e8042(0x166)]===_0x22770e&&_0x3ff184[_0x3e8042(0x998)]===_0x2362e2)['length'];this[_0x3e8042(0x9e1)](_0x136f8c,_0x22770e,_0x2362e2,_0x292931);}[_0xd4b2e(0x82f)](_0x5b4e57,_0x39892b,_0x73c6d5){const _0x1db752=_0xd4b2e;_0x98a765[_0x1db752(0x22d)](_0x831a2b['Detection'],_0x1db752(0x985)+_0x5b4e57),_0x98a765['logEvent'](_0x1db752(0x127),{'clusterId':this[_0x1db752(0x33f)][_0x1db752(0x6d7)],'nodeId':this['configs'][_0x1db752(0x3ff)]['getId'](),'nodeType':this['configs'][_0x1db752(0x3ff)][_0x1db752(0x747)],'remoteId':_0x39892b,'data':{'type':_0x5b4e57}}),this[_0x1db752(0x598)]?.[_0x1db752(0x2b2)]({'sourceId':_0x596898,'messageType':_0x49e311[_0x1db752(0x456)],'content':{'type':_0x393a21['Problem'],'data':{'timestamp':Date[_0x1db752(0x702)](),'nodeId':_0x39892b,'origin':_0x4172fc[_0x1db752(0x2e1)],'type':_0x5b4e57}}});}}class _0x1aedda extends _0x2fc01c{[_0xd4b2e(0x747)]=_0x29f76b[_0xd4b2e(0x8e2)][_0xd4b2e(0x3e3)];}class _0x23f774 extends _0x1aedda{[_0xd4b2e(0x598)];[_0xd4b2e(0x480)]=Date[_0xd4b2e(0x702)]();[_0xd4b2e(0xa4e)];['lastUpdated'];[_0xd4b2e(0x27e)](){const _0x366800=_0xd4b2e;this[_0x366800(0xa4e)]&&(clearTimeout(this[_0x366800(0xa4e)]),delete this['updateDebounceTimeout']),delete this[_0x366800(0x6cf)],this[_0x366800(0x480)]=Date[_0x366800(0x702)](),super[_0x366800(0x27e)]();}['registerSystemPublisher'](_0x3100fe){this['systemTopic']=_0x3100fe;}[_0xd4b2e(0x738)](){const _0x6a4fc1=_0xd4b2e;delete this[_0x6a4fc1(0x598)];}[_0xd4b2e(0x796)](_0x38ede0){const _0x138b76=_0xd4b2e;!this['updateDebounceTimeout']&&this[_0x138b76(0x703)]&&this[_0x138b76(0x598)][_0x138b76(0x2b2)]({'sourceId':this['id'],'destinationIds':[_0x38ede0],'propagate':!0x0,'messageType':_0x49e311[_0x138b76(0x230)],'content':{'type':_0xebf85e[_0x138b76(0x427)],'id':this['id'],'metaData':{'type':this[_0x138b76(0x747)]},'rank':this[_0x138b76(0x2f2)](),'remoteConnections':Array[_0x138b76(0x35c)](this['remoteConnections']),'version':this['currentVersion']}});}[_0xd4b2e(0x60e)](_0x3dc2c2){const _0x26ec35=_0xd4b2e;this['remoteConnections'][_0x26ec35(0x8e9)](_0x3dc2c2)||(this[_0x26ec35(0x742)][_0x26ec35(0x4bd)](_0x3dc2c2),this[_0x26ec35(0x9f8)](),this[_0x26ec35(0x5ae)](!0x0));}[_0xd4b2e(0x84a)](_0x31d30e){const _0x5a2668=_0xd4b2e;this['remoteConnections']['has'](_0x31d30e)&&(this[_0x5a2668(0x742)][_0x5a2668(0xa2f)](_0x31d30e),this[_0x5a2668(0x9f8)](),this[_0x5a2668(0x5ae)](!0x0));}[_0xd4b2e(0x605)](){const _0x349969=_0xd4b2e;return this[_0x349969(0x480)];}[_0xd4b2e(0x9ba)](_0x4c6f43,_0x1f7128=!0x0){const _0x434bb7=_0xd4b2e;this[_0x434bb7(0x703)]!==_0x4c6f43&&(this[_0x434bb7(0x703)]=_0x4c6f43,_0x1f7128&&(this[_0x434bb7(0x9f8)](),this[_0x434bb7(0x5ae)]()));}['incrementVersion'](){const _0x2fef1c=_0xd4b2e;this[_0x2fef1c(0x480)]=Date[_0x2fef1c(0x702)]();}['publishUserUpdate'](_0x11d77e=!0x1){const _0x415c1f=_0xd4b2e;if(this['rank']){if(this[_0x415c1f(0x6cf)]||(this[_0x415c1f(0x6cf)]=Date['now']()),this['updateDebounceTimeout']){if(Date[_0x415c1f(0x702)]()-this[_0x415c1f(0x6cf)]>0x2328)return;clearTimeout(this['updateDebounceTimeout']);}this[_0x415c1f(0xa4e)]=setTimeout(()=>{const _0x3ad7c5=_0x415c1f;delete this[_0x3ad7c5(0x6cf)],delete this['updateDebounceTimeout'],this[_0x3ad7c5(0x598)]['publish']({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x49e311[_0x3ad7c5(0x230)],'content':{'type':_0x11d77e?_0xebf85e[_0x3ad7c5(0x8a2)]:_0xebf85e['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0x3ad7c5(0x747)]},'rank':this[_0x3ad7c5(0x2f2)](),'remoteConnections':Array[_0x3ad7c5(0x35c)](this['remoteConnections']),'version':this[_0x3ad7c5(0x480)]}});},0x3e8);}}}class _0x1402bc extends _0x3ec08e{[_0xd4b2e(0x598)];[_0xd4b2e(0x480)]=Date[_0xd4b2e(0x702)]();['updateDebounceTimeout'];[_0xd4b2e(0x6cf)];[_0xd4b2e(0x27e)](){const _0x59f56e=_0xd4b2e;this[_0x59f56e(0xa4e)]&&(clearTimeout(this[_0x59f56e(0xa4e)]),delete this[_0x59f56e(0xa4e)]),delete this[_0x59f56e(0x6cf)],this['currentVersion']=Date[_0x59f56e(0x702)](),super[_0x59f56e(0x27e)]();}[_0xd4b2e(0x14c)](_0x440fa1){const _0x336209=_0xd4b2e;this[_0x336209(0x598)]=_0x440fa1;}[_0xd4b2e(0x738)](){const _0x21cc63=_0xd4b2e;delete this[_0x21cc63(0x598)];}[_0xd4b2e(0x796)](_0xd700dd){const _0x5a153a=_0xd4b2e;!this[_0x5a153a(0xa4e)]&&this[_0x5a153a(0x703)]&&this[_0x5a153a(0x598)]['publish']({'sourceId':this['id'],'destinationIds':[_0xd700dd],'propagate':!0x0,'messageType':_0x49e311[_0x5a153a(0x230)],'content':{'type':_0xebf85e[_0x5a153a(0x427)],'id':this['id'],'metaData':{'type':this[_0x5a153a(0x747)],'displayName':this['getDisplayName'](),'email':this[_0x5a153a(0x178)]()},'rank':this[_0x5a153a(0x2f2)](),'remoteConnections':Array[_0x5a153a(0x35c)](this[_0x5a153a(0x742)]),'version':this[_0x5a153a(0x480)]}});}['addRemoteConnection'](_0x234c48){const _0x1e35f4=_0xd4b2e;this[_0x1e35f4(0x742)][_0x1e35f4(0x8e9)](_0x234c48)||(this[_0x1e35f4(0x742)]['add'](_0x234c48),this[_0x1e35f4(0x9f8)](),this[_0x1e35f4(0x5ae)](!0x0));}['removeRemoteConnection'](_0x3dc438){const _0x234bf9=_0xd4b2e;this['remoteConnections'][_0x234bf9(0x8e9)](_0x3dc438)&&(this[_0x234bf9(0x742)][_0x234bf9(0xa2f)](_0x3dc438),this[_0x234bf9(0x9f8)](),this[_0x234bf9(0x5ae)](!0x0));}[_0xd4b2e(0x605)](){const _0x5040be=_0xd4b2e;return this[_0x5040be(0x480)];}[_0xd4b2e(0x4bb)](_0x317671){const _0x2b9d10=_0xd4b2e;this[_0x2b9d10(0x354)]!==_0x317671&&(this['displayName']=_0x317671,this[_0x2b9d10(0x9f8)](),this[_0x2b9d10(0x5ae)]());}[_0xd4b2e(0x196)](_0xd09136){const _0x8e1991=_0xd4b2e;this[_0x8e1991(0x872)]!==_0xd09136&&(this[_0x8e1991(0x872)]=_0xd09136,this[_0x8e1991(0x9f8)](),this['publishUserUpdate']());}['setRank'](_0x2db0e9,_0x2d1d1f=!0x0){const _0x4d8735=_0xd4b2e;this['rank']!==_0x2db0e9&&(this[_0x4d8735(0x703)]=_0x2db0e9,_0x2d1d1f&&(this['incrementVersion'](),this[_0x4d8735(0x5ae)]()));}[_0xd4b2e(0x9f8)](){const _0x5390b0=_0xd4b2e;this[_0x5390b0(0x480)]=Date[_0x5390b0(0x702)]();}['publishUserUpdate'](_0x229190=!0x1){const _0x16b0ce=_0xd4b2e;if(this[_0x16b0ce(0x703)]){if(this[_0x16b0ce(0x6cf)]||(this[_0x16b0ce(0x6cf)]=Date[_0x16b0ce(0x702)]()),this[_0x16b0ce(0xa4e)]){if(Date[_0x16b0ce(0x702)]()-this[_0x16b0ce(0x6cf)]>0x2328)return;clearTimeout(this[_0x16b0ce(0xa4e)]);}this[_0x16b0ce(0xa4e)]=setTimeout(()=>{const _0x4133fc=_0x16b0ce;delete this[_0x4133fc(0x6cf)],delete this[_0x4133fc(0xa4e)],this[_0x4133fc(0x598)][_0x4133fc(0x2b2)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x49e311['Node'],'content':{'type':_0x229190?_0xebf85e[_0x4133fc(0x8a2)]:_0xebf85e['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0x4133fc(0x747)],'displayName':this['getDisplayName'](),'email':this['getEmail']()},'rank':this['getRank'](),'remoteConnections':Array[_0x4133fc(0x35c)](this[_0x4133fc(0x742)]),'version':this[_0x4133fc(0x480)]}});},0x3e8);}}}class _0x19cc52{['id'];[_0xd4b2e(0x843)];[_0xd4b2e(0x313)];[_0xd4b2e(0x320)];[_0xd4b2e(0x747)]=_0x29f76b['NodeType'][_0xd4b2e(0x3e3)];[_0xd4b2e(0x974)];constructor(_0x1daaec,_0x4373ef,_0x5a3937,_0x529f94){const _0x469566=_0xd4b2e;this['id']=_0x1daaec,this['groupId']=_0x4373ef,this[_0x469566(0x313)]=_0x5a3937,this[_0x469566(0x320)]=_0x529f94;}[_0xd4b2e(0x2a6)](){return this['id'];}[_0xd4b2e(0x272)](_0x5a777c){const _0x1e2ad0=_0xd4b2e,_0x26581b=(0x0,_0x1e7cba[_0x1e2ad0(0x134)])((0x0,_0x1e7cba[_0x1e2ad0(0x9a6)])(_0x3a6ba1[_0x1e2ad0(0x848)](),_0x1e2ad0(0x780)+this[_0x1e2ad0(0x313)]+_0x1e2ad0(0x39f)+this[_0x1e2ad0(0x843)]),_0x3f5c89=>{const _0x4b291b=_0x1e2ad0;if(_0x3f5c89[_0x4b291b(0x4dd)]()){const _0x33967f=_0x3f5c89[_0x4b291b(0x2aa)]();if(this[_0x4b291b(0x320)][_0x4b291b(0x9d7)]['isEqual'](_0x33967f[_0x4b291b(0x9d7)]))return;_0x98a765[_0x4b291b(0x22d)](_0x831a2b[_0x4b291b(0x230)],'agent-config-changed',{'agentId':this['id'],'groupId':this[_0x4b291b(0x843)],'oldConfig':this[_0x4b291b(0x320)],'newConfig':_0x33967f}),this[_0x4b291b(0x320)]=_0x33967f,_0x5a777c();}});return()=>_0x26581b();}[_0xd4b2e(0x25e)](_0xc931ae){const _0x3d1c70=_0xd4b2e;return this['reportCapacity'](this['groupId'],_0xc931ae),_0x1b723a['setInterval'](()=>this[_0x3d1c70(0x27a)](this[_0x3d1c70(0x843)],_0xc931ae),0x7530);}[_0xd4b2e(0x996)](){const _0x4ba155=_0xd4b2e;if(!this[_0x4ba155(0x974)])throw new _0x1cac69(_0x1cac69[_0x4ba155(0x15e)][_0x4ba155(0x6bf)]);return this['lastCapacityReport'];}async[_0xd4b2e(0x27a)](_0x13fab6,_0x419c15){const _0x1ffb76=_0xd4b2e,_0x51fd0d=await _0x419c15();this[_0x1ffb76(0x974)]=_0x51fd0d,await(0x0,_0x1e7cba[_0x1ffb76(0x888)])((0x0,_0x1e7cba[_0x1ffb76(0x8d1)])(_0x3a6ba1[_0x1ffb76(0x848)](),_0x1ffb76(0x780)+this['vendorId']+_0x1ffb76(0x6df)),{'agentId':this['id'],'groupId':_0x13fab6,'timestamp':(0x0,_0x1e7cba[_0x1ffb76(0x794)])(),'capacity':_0x51fd0d});}}!function(_0x3b5669){const _0x299aca=_0xd4b2e;_0x3b5669[_0x3b5669['Online']=0x0]=_0x299aca(0x34c),_0x3b5669[_0x3b5669[_0x299aca(0x6f3)]=0x1]=_0x299aca(0x6f3);}(_0x113c20||(_0x113c20={}));class _0x12c992 extends _0x1aedda{[_0xd4b2e(0x480)];[_0xd4b2e(0xa6f)]=_0x113c20[_0xd4b2e(0x34c)];['lastUpdated']=Date['now']();constructor(_0x3f6fcc,_0x594f34=new Set(),_0x497b7b,_0x14007f){super(_0x3f6fcc,_0x594f34,_0x14007f),this['currentVersion']=_0x497b7b;}[_0xd4b2e(0x605)](){const _0x3a18b8=_0xd4b2e;return this[_0x3a18b8(0x480)];}[_0xd4b2e(0x9e3)](){const _0x4c5171=_0xd4b2e;return this[_0x4c5171(0xa6f)];}[_0xd4b2e(0x1a5)](){const _0x4d1674=_0xd4b2e;return this[_0x4d1674(0x6cf)];}['setRank'](_0x3f3e6d){const _0x3b8689=_0xd4b2e;this['rank']!==_0x3f3e6d&&(this[_0x3b8689(0x703)]=_0x3f3e6d,this[_0x3b8689(0x7e6)]());}[_0xd4b2e(0x6c6)](_0xe500e2){const _0x322d07=_0xd4b2e;let _0x48d969=!0x1;for(const _0x1bd7c2 of this[_0x322d07(0x742)])_0xe500e2['includes'](_0x1bd7c2)||(_0x48d969=!0x0,this[_0x322d07(0x742)]['delete'](_0x1bd7c2));for(const _0x4807c2 of _0xe500e2)this[_0x322d07(0x742)][_0x322d07(0x8e9)](_0x4807c2)||(_0x48d969=!0x0,this[_0x322d07(0x742)][_0x322d07(0x4bd)](_0x4807c2));_0x48d969&&this[_0x322d07(0x7e6)]();}[_0xd4b2e(0x31e)](_0x1ff61f){const _0x4ae05f=_0xd4b2e;this[_0x4ae05f(0x480)]!==_0x1ff61f&&(this[_0x4ae05f(0x480)]=_0x1ff61f,this[_0x4ae05f(0x7e6)]());}['setStatus'](_0xfa6bc4){const _0x53231d=_0xd4b2e;this['status']!==_0xfa6bc4&&(this[_0x53231d(0xa6f)]=_0xfa6bc4,this['updateLastUpdated'](),_0xfa6bc4===_0x113c20[_0x53231d(0x6f3)]&&this['close']());}[_0xd4b2e(0x7e6)](){const _0x1c70b1=_0xd4b2e;this[_0x1c70b1(0x6cf)]=Date[_0x1c70b1(0x702)]();}}class _0x43a9bb extends _0x3ec08e{[_0xd4b2e(0x480)];[_0xd4b2e(0xa6f)]=_0x113c20[_0xd4b2e(0x34c)];[_0xd4b2e(0x6cf)]=Date['now']();constructor(_0x1ff868,_0x48b4b9,_0x2b2b6b,_0x416bd2=new Set(),_0x4325e5,_0xc77fe4){const _0x3b57eb=_0xd4b2e;super(_0x1ff868,_0x48b4b9,_0x2b2b6b,_0x416bd2,_0xc77fe4),this[_0x3b57eb(0x480)]=_0x4325e5;}[_0xd4b2e(0x605)](){const _0x49c1db=_0xd4b2e;return this[_0x49c1db(0x480)];}['getStatus'](){const _0x30e6b4=_0xd4b2e;return this[_0x30e6b4(0xa6f)];}[_0xd4b2e(0x1a5)](){return this['lastUpdated'];}['setDisplayName'](_0x2108b4){const _0x543403=_0xd4b2e;this['displayName']!==_0x2108b4&&(this[_0x543403(0x354)]=_0x2108b4,this[_0x543403(0x7e6)]());}[_0xd4b2e(0x196)](_0x415c2a){const _0x2f3f7b=_0xd4b2e;this[_0x2f3f7b(0x872)]!==_0x415c2a&&(this[_0x2f3f7b(0x872)]=_0x415c2a,this[_0x2f3f7b(0x7e6)]());}[_0xd4b2e(0x9ba)](_0x44e589){const _0x5279a9=_0xd4b2e;this[_0x5279a9(0x703)]!==_0x44e589&&(this['rank']=_0x44e589,this[_0x5279a9(0x7e6)]());}[_0xd4b2e(0x6c6)](_0x214840){const _0x21c951=_0xd4b2e;let _0x34b7f9=!0x1;for(const _0xee4444 of this['remoteConnections'])_0x214840[_0x21c951(0x29c)](_0xee4444)||(_0x34b7f9=!0x0,this['remoteConnections']['delete'](_0xee4444));for(const _0x54308a of _0x214840)this['remoteConnections'][_0x21c951(0x8e9)](_0x54308a)||(_0x34b7f9=!0x0,this[_0x21c951(0x742)][_0x21c951(0x4bd)](_0x54308a));_0x34b7f9&&this[_0x21c951(0x7e6)]();}['setCurrentVersion'](_0x4b9279){const _0x4edc7c=_0xd4b2e;this[_0x4edc7c(0x480)]!==_0x4b9279&&(this[_0x4edc7c(0x480)]=_0x4b9279,this['updateLastUpdated']());}['setStatus'](_0x1cd957){const _0x44b6a0=_0xd4b2e;this[_0x44b6a0(0xa6f)]!==_0x1cd957&&(this[_0x44b6a0(0xa6f)]=_0x1cd957,this[_0x44b6a0(0x7e6)](),_0x1cd957===_0x113c20[_0x44b6a0(0x6f3)]&&this[_0x44b6a0(0x27e)]());}[_0xd4b2e(0x7e6)](){const _0x15794f=_0xd4b2e;this[_0x15794f(0x6cf)]=Date[_0x15794f(0x702)]();}}class _0x56522e{[_0xd4b2e(0x313)];[_0xd4b2e(0x6d7)];[_0xd4b2e(0x3ff)];[_0xd4b2e(0x285)];[_0xd4b2e(0x227)]=_0x2884c3();[_0xd4b2e(0x13c)];['childRemovedUnsubscriber'];[_0xd4b2e(0x80e)];[_0xd4b2e(0x632)]=!0x1;[_0xd4b2e(0x455)];[_0xd4b2e(0x3f7)];constructor(_0x20ff71,_0x392a76,_0x5c6b80,_0x5e67b3){const _0x7380d3=_0xd4b2e;this['vendorId']=_0x20ff71,this[_0x7380d3(0x6d7)]=_0x392a76,this[_0x7380d3(0x3ff)]=_0x5c6b80,this[_0x7380d3(0x285)]=_0x5e67b3,this['clusterKey']=_0x7380d3(0x2c8)+this['vendorId']+'ccc'+this[_0x7380d3(0x6d7)],this['nodeKey']='ccc'+this[_0x7380d3(0x313)]+_0x7380d3(0x2c8)+this[_0x7380d3(0x3ff)][_0x7380d3(0x2a6)](),this['firebaseUnsubscriber']=(0x0,_0x4d0941['onValue'])((0x0,_0x4d0941['ref'])(_0x3a6ba1[_0x7380d3(0x8f0)](),_0x7380d3(0x2de)),_0x126ef0=>{const _0x22e472=_0x7380d3;!0x0!==_0x126ef0[_0x22e472(0x5a2)]()?this[_0x22e472(0x632)]&&_0x98a765[_0x22e472(0x940)](_0x22e472(0x98a),{'clusterId':this[_0x22e472(0x6d7)],'nodeId':this[_0x22e472(0x3ff)][_0x22e472(0x2a6)](),'nodeType':this[_0x22e472(0x3ff)][_0x22e472(0x747)]}):(this[_0x22e472(0x632)]=!0x0,this[_0x22e472(0x57d)](),_0x98a765['warning'](_0x22e472(0x419),{'clusterId':this[_0x22e472(0x6d7)],'nodeId':this[_0x22e472(0x3ff)][_0x22e472(0x2a6)](),'nodeType':this[_0x22e472(0x3ff)][_0x22e472(0x747)]}));});}async[_0xd4b2e(0x85e)](){const _0x20b4fc=_0xd4b2e;await this[_0x20b4fc(0x952)]();const _0x3fa448=await this[_0x20b4fc(0x7e0)]();return this[_0x20b4fc(0x40d)]=(0x0,_0x4d0941['onChildRemoved'])((0x0,_0x4d0941[_0x20b4fc(0x425)])(_0x3a6ba1[_0x20b4fc(0x8f0)](),_0x20b4fc(0x4b3)+this[_0x20b4fc(0x455)]+'/nodes'),_0x257b92=>{const _0x24c407=_0x20b4fc,_0x2ad85d=_0x257b92[_0x24c407(0x415)];if(!_0x2ad85d)return;const _0x3131ae=_0x2ad85d[_0x24c407(0x33c)]('ccc'+this[_0x24c407(0x313)]+'ccc','');this['disconnectCallback'][_0x24c407(0x2b2)](_0x3131ae);}),_0x3fa448;}async[_0xd4b2e(0x27e)](){const _0x1b0591=_0xd4b2e;this[_0x1b0591(0x40d)]?.(),delete this[_0x1b0591(0x40d)],this[_0x1b0591(0x80e)]?.[_0x1b0591(0x431)](),delete this[_0x1b0591(0x80e)],this[_0x1b0591(0x13c)]?.(),delete this[_0x1b0591(0x13c)],await(0x0,_0x4d0941[_0x1b0591(0x886)])((0x0,_0x4d0941['ref'])(_0x3a6ba1[_0x1b0591(0x8f0)](),_0x1b0591(0x4b3)+this[_0x1b0591(0x455)]+'/nodes/'+this[_0x1b0591(0x3f7)]));}['onNodeDisconnect'](_0x4ee64a){const _0x66bf7=_0xd4b2e;return this['disconnectCallback'][_0x66bf7(0x696)](_0x4ee64a);}async['getAncestors'](){const _0xfa9f44=_0xd4b2e,_0x5770b9=[],_0xac53bc=await(0x0,_0x4d0941['get'])((0x0,_0x4d0941[_0xfa9f44(0x425)])(_0x3a6ba1['getDatabase'](),'clusters/'+this['clusterKey']+_0xfa9f44(0x377))),_0x1df85f=[];return _0xac53bc['forEach'](_0x1d6aa3=>{const _0x206506=_0xfa9f44,_0x52232e=_0x1d6aa3[_0x206506(0x415)]?.['replace']('ccc'+this[_0x206506(0x313)]+_0x206506(0x2c8),'');_0x1df85f['push']({'id':_0x52232e,'joinedAt':_0x1d6aa3[_0x206506(0x5a2)]()['joinedAt'],'priority':_0x1d6aa3[_0x206506(0x5a2)]()[_0x206506(0x159)]});}),_0x1df85f[_0xfa9f44(0x63d)]((_0x3167af,_0x3907be)=>_0x3167af[_0xfa9f44(0x8fe)]===_0x3907be['joinedAt']?_0x3167af[_0xfa9f44(0x159)]-_0x3907be['priority']:_0x3167af[_0xfa9f44(0x8fe)]-_0x3907be[_0xfa9f44(0x8fe)])[_0xfa9f44(0xa3c)](_0x1df85f[_0xfa9f44(0x1aa)](_0x254a46=>_0x254a46['id']===this[_0xfa9f44(0x3ff)][_0xfa9f44(0x2a6)]())),_0x1df85f[_0xfa9f44(0x63d)]((_0x4686d2,_0x46230f)=>_0x46230f[_0xfa9f44(0x8fe)]===_0x4686d2[_0xfa9f44(0x8fe)]?_0x46230f[_0xfa9f44(0x159)]-_0x4686d2['priority']:_0x46230f[_0xfa9f44(0x8fe)]-_0x4686d2['joinedAt'])['forEach'](_0x597a18=>{const _0x287d07=_0xfa9f44;_0x5770b9[_0x287d07(0x9b4)]>=this[_0x287d07(0x285)]||_0x5770b9['push'](_0x597a18['id']);}),_0x98a765[_0xfa9f44(0x1b3)](_0xfa9f44(0x8c5),{'clusterId':this[_0xfa9f44(0x6d7)],'nodeId':this['localNode'][_0xfa9f44(0x2a6)](),'nodeType':this['localNode'][_0xfa9f44(0x747)],'data':{'ancestorIds':_0x5770b9,'allNodes':_0x1df85f}}),_0x5770b9;}async[_0xd4b2e(0x952)](){const _0x53d174=_0xd4b2e;await(0x0,_0x4d0941[_0x53d174(0x991)])((0x0,_0x4d0941[_0x53d174(0x425)])(_0x3a6ba1[_0x53d174(0x8f0)](),'clusters/'+this[_0x53d174(0x455)]+_0x53d174(0x32c)+this[_0x53d174(0x3f7)]),{'joinedAt':(0x0,_0x4d0941[_0x53d174(0x794)])(),'priority':Math['random']()});}[_0xd4b2e(0x57d)](){const _0x286e3a=_0xd4b2e;this[_0x286e3a(0x80e)]&&this[_0x286e3a(0x80e)][_0x286e3a(0x431)](),this['onDisconnectHandler']=(0x0,_0x4d0941[_0x286e3a(0x472)])((0x0,_0x4d0941[_0x286e3a(0x425)])(_0x3a6ba1[_0x286e3a(0x8f0)](),_0x286e3a(0x4b3)+this[_0x286e3a(0x455)]+_0x286e3a(0x32c)+this['nodeKey'])),this[_0x286e3a(0x80e)]['remove']();}}class _0x1a8850{[_0xd4b2e(0x33f)];[_0xd4b2e(0x3f2)];['remoteUnsubscriber'];[_0xd4b2e(0x550)];[_0xd4b2e(0x9ce)];[_0xd4b2e(0x921)]=[];['systemTopic'];['optimizationLayers']=new Map();[_0xd4b2e(0x2b7)];[_0xd4b2e(0x673)];[_0xd4b2e(0x237)];[_0xd4b2e(0x89f)];[_0xd4b2e(0x5d8)];[_0xd4b2e(0x80b)];constructor(_0x33a78b,_0x5beb58){const _0x5ed40b=_0xd4b2e;this[_0x5ed40b(0x33f)]=_0x33a78b,this['graphService']=_0x5beb58,this['_isReady']=new Promise((_0x13845f,_0x3efe15)=>{const _0x41c332=_0x5ed40b;this[_0x41c332(0x89f)]=_0x13845f,this[_0x41c332(0x5d8)]=_0x3efe15;}),this[_0x5ed40b(0x550)]=new _0x56522e(this[_0x5ed40b(0x33f)][_0x5ed40b(0x313)],this[_0x5ed40b(0x33f)][_0x5ed40b(0x6d7)],this['configs'][_0x5ed40b(0x3ff)],this['graphService']['getMinConnections']()),this[_0x5ed40b(0x9ce)]=this[_0x5ed40b(0x550)][_0x5ed40b(0x215)](this[_0x5ed40b(0x373)][_0x5ed40b(0x536)](this)),this['configs']['mediator'][_0x5ed40b(0x844)](this['configs'][_0x5ed40b(0x3ff)]),this['configs']['mediator']['registerSystemSource'](this),this[_0x5ed40b(0x5ce)]=_0x1b723a[_0x5ed40b(0x40c)](()=>{const _0x4dd2d3=_0x5ed40b,_0x416df3=Date[_0x4dd2d3(0x702)]();this[_0x4dd2d3(0x3f2)][_0x4dd2d3(0xa59)]()['forEach'](_0x5aba94=>{const _0x361204=_0x4dd2d3;_0x5aba94[_0x361204(0x9e3)]()===_0x113c20[_0x361204(0x6f3)]&&_0x5aba94['getLastUpdated']()<_0x416df3-0x493e0&&this[_0x361204(0x3f2)][_0x361204(0x99e)](_0x5aba94[_0x361204(0x2a6)]());});},0xea60);}async[_0xd4b2e(0x910)](){const _0x5adcba=_0xd4b2e;return this[_0x5adcba(0x237)];}async['isNodeReady'](_0x2b0dd0){return new Promise((_0x1ac888,_0xb4ba49)=>{const _0x7132f4=a0_0x2e29;let _0x2c6dc3;const _0x37568a=setTimeout(()=>{_0x2c6dc3?.(),_0xb4ba49(new Error('Node\x20\x27'+_0x2b0dd0+'\x27\x20is\x20not\x20ready'));},0x2710);if(this[_0x7132f4(0x3f2)]['hasRemoteNode'](_0x2b0dd0))return clearTimeout(_0x37568a),void _0x1ac888(!0x0);_0x2c6dc3=this[_0x7132f4(0x3f2)][_0x7132f4(0x1ac)](()=>{const _0x4d6d73=_0x7132f4;this[_0x4d6d73(0x3f2)][_0x4d6d73(0x561)](_0x2b0dd0)&&(clearTimeout(_0x37568a),_0x1ac888(!0x0),_0x2c6dc3?.());});});}[_0xd4b2e(0x14c)](_0xf1cc64){const _0x196419=_0xd4b2e;this[_0x196419(0x598)]=_0xf1cc64;}['unregisterSystemPublisher'](){const _0x1fd04b=_0xd4b2e;delete this[_0x1fd04b(0x598)];}[_0xd4b2e(0x27e)](){const _0xd55d2f=_0xd4b2e;this[_0xd55d2f(0x2b7)]&&(clearTimeout(this['debounceProcessRank']),delete this['debounceProcessRank']),delete this[_0xd55d2f(0x673)],this[_0xd55d2f(0x33f)][_0xd55d2f(0x3ff)][_0xd55d2f(0x27e)](),this[_0xd55d2f(0x5ce)](),this[_0xd55d2f(0x9ce)](),this[_0xd55d2f(0x33f)][_0xd55d2f(0x532)][_0xd55d2f(0x22e)](this[_0xd55d2f(0x33f)][_0xd55d2f(0x3ff)]),this[_0xd55d2f(0x33f)][_0xd55d2f(0x532)][_0xd55d2f(0x22e)](this),this[_0xd55d2f(0x550)]['close']();}[_0xd4b2e(0x519)](){const _0x2c58c1=_0xd4b2e;return this[_0x2c58c1(0x921)];}[_0xd4b2e(0x864)](){const _0x16f3a1=_0xd4b2e;return this[_0x16f3a1(0x33f)][_0x16f3a1(0x3ff)][_0x16f3a1(0x2a6)]();}['getLocalNode'](){const _0x5c5d4a=_0xd4b2e;return this[_0x5c5d4a(0x33f)][_0x5c5d4a(0x3ff)];}['getRemoteNodes'](_0x420da6){const _0x5bc52b=_0xd4b2e,_0x9d1a8b=Array[_0x5bc52b(0x35c)](this[_0x5bc52b(0x3f2)][_0x5bc52b(0xa59)]()[_0x5bc52b(0x75b)]())[_0x5bc52b(0x893)](_0xb455c3=>_0xb455c3['getStatus']()===_0x113c20[_0x5bc52b(0x34c)]);return _0x420da6?_0x9d1a8b[_0x5bc52b(0x893)](_0x420da6):_0x9d1a8b;}async['discover'](){const _0x49f332=_0xd4b2e;return this[_0x49f332(0x921)]=await this[_0x49f332(0x550)][_0x49f332(0x85e)](),this[_0x49f332(0x921)]['length']<this[_0x49f332(0x3f2)]['getMinConnections']()&&(this['configs'][_0x49f332(0x3ff)][_0x49f332(0x9ba)](this[_0x49f332(0x921)][_0x49f332(0x9b4)]+0x1),this[_0x49f332(0x677)]()),this[_0x49f332(0x921)];}[_0xd4b2e(0x2ce)](_0x5165d6,_0x34b260){const _0x2fbfe6=_0xd4b2e,_0x15144d=this[_0x2fbfe6(0x33f)][_0x2fbfe6(0x3ff)]['getRemoteConnections'](),_0x5727b9=new Set(_0x15144d),_0x2112e8=Array[_0x2fbfe6(0x35c)](_0x15144d)[_0x2fbfe6(0x893)](_0xb15c9f=>_0xb15c9f!==_0x5165d6)[_0x2fbfe6(0x7da)](_0x2b6fb5=>({'id':_0x2b6fb5,'distance':0x1}));for(;_0x2112e8[_0x2fbfe6(0x9b4)]>0x0;){const _0x117cd7=_0x2112e8[_0x2fbfe6(0x6dd)]();if(!_0x117cd7)continue;if(_0x117cd7['id']===_0x34b260)return _0x117cd7[_0x2fbfe6(0x5e5)];const _0x265775=this['graphService'][_0x2fbfe6(0x24f)](_0x117cd7['id']);_0x265775&&_0x265775[_0x2fbfe6(0x9e3)]()!==_0x113c20[_0x2fbfe6(0x6f3)]&&_0x265775[_0x2fbfe6(0x584)]()[_0x2fbfe6(0x7d0)](_0x4ae64d=>{const _0x40c7f3=_0x2fbfe6;_0x5727b9[_0x40c7f3(0x8e9)](_0x4ae64d)||(_0x5727b9[_0x40c7f3(0x4bd)](_0x4ae64d),_0x2112e8[_0x40c7f3(0x55a)]({'id':_0x4ae64d,'distance':_0x117cd7[_0x40c7f3(0x5e5)]+0x1}));});}return-0x1;}[_0xd4b2e(0x631)](_0x98b037){const _0x3aa01a=_0xd4b2e;try{switch(_0x98b037[_0x3aa01a(0x580)][_0x3aa01a(0x747)]){case _0xebf85e[_0x3aa01a(0x427)]:case _0xebf85e[_0x3aa01a(0x8a2)]:this[_0x3aa01a(0x8d5)](_0x98b037[_0x3aa01a(0x580)]),_0x98a765[_0x3aa01a(0x22d)](_0x831a2b[_0x3aa01a(0x230)],_0x3aa01a(0x59d),'\x27'+this[_0x3aa01a(0x33f)][_0x3aa01a(0x3ff)]['getId']()+',\x20'+_0x98b037[_0x3aa01a(0x3e6)]+'\x27',_0x98b037,_0x98b037['content']);break;case _0xebf85e[_0x3aa01a(0x8cb)]:this[_0x3aa01a(0x92c)](_0x98b037[_0x3aa01a(0x580)]['id']),_0x98a765[_0x3aa01a(0x22d)](_0x831a2b[_0x3aa01a(0x230)],_0x3aa01a(0x6e5),'\x27'+this[_0x3aa01a(0x33f)][_0x3aa01a(0x3ff)][_0x3aa01a(0x2a6)]()+',\x20'+_0x98b037[_0x3aa01a(0x3e6)]+'\x27',_0x98b037,_0x98b037[_0x3aa01a(0x580)]);}}catch(_0xbd1e47){if(_0xbd1e47 instanceof _0x589491)return void _0x98a765[_0x3aa01a(0x22d)](_0x831a2b[_0x3aa01a(0x230)],_0xbd1e47[_0x3aa01a(0x2b6)]);throw _0xbd1e47;}}['handlePeerConnectionSystemEvents'](_0x11cb5c){const _0x1fcf96=_0xd4b2e;switch(_0x11cb5c[_0x1fcf96(0x580)][_0x1fcf96(0x747)]){case _0x4d0115[_0x1fcf96(0x39b)]:this[_0x1fcf96(0x737)](_0x11cb5c[_0x1fcf96(0x3e6)]),_0x98a765['log'](_0x831a2b['Node'],_0x1fcf96(0x9e0),'\x27'+this[_0x1fcf96(0x33f)][_0x1fcf96(0x3ff)][_0x1fcf96(0x2a6)]()+',\x20'+_0x11cb5c[_0x1fcf96(0x3e6)]+'\x27',_0x11cb5c,_0x11cb5c[_0x1fcf96(0x580)]);break;case _0x4d0115[_0x1fcf96(0x6ed)]:this[_0x1fcf96(0x7a5)](_0x11cb5c[_0x1fcf96(0x3e6)]),_0x98a765[_0x1fcf96(0x22d)](_0x831a2b[_0x1fcf96(0x230)],'NodeManager\x20-\x20PublishNodeLeave',this['configs'][_0x1fcf96(0x3ff)][_0x1fcf96(0x2a6)](),_0x11cb5c,_0x11cb5c[_0x1fcf96(0x580)]);}}[_0xd4b2e(0xa4f)](_0x1b56e0){const _0x5a4913=_0xd4b2e;this[_0x5a4913(0x321)](_0x1b56e0),this[_0x5a4913(0x388)](_0x1b56e0);}['notifyJoin'](_0x48e69c){const _0x2aa259=_0xd4b2e;this[_0x2aa259(0x33f)]['localNode'][_0x2aa259(0x796)](_0x48e69c['id']),this[_0x2aa259(0x8c3)](_0x48e69c['id']),this[_0x2aa259(0x531)](_0x48e69c);}[_0xd4b2e(0x8d5)](_0x41239d){const _0x2d613b=_0xd4b2e,{id:_0x3c33e6,metaData:_0x44fc26,rank:_0x224216,remoteConnections:_0x285466,version:_0x48802c}=_0x41239d,_0x59dcfb=this['graphService'][_0x2d613b(0x24f)](_0x3c33e6);if(_0x59dcfb){if(!(_0x48802c<=_0x59dcfb[_0x2d613b(0x605)]())){if(_0x59dcfb[_0x2d613b(0x6c6)](_0x285466),_0x59dcfb[_0x2d613b(0x31e)](_0x48802c),_0x59dcfb[_0x2d613b(0x747)]===_0x29f76b[_0x2d613b(0x8e2)][_0x2d613b(0x9d1)]&&_0x44fc26[_0x2d613b(0x747)]===_0x29f76b[_0x2d613b(0x8e2)][_0x2d613b(0x9d1)]&&(_0x59dcfb[_0x2d613b(0x4bb)](_0x44fc26[_0x2d613b(0x354)]),_0x59dcfb[_0x2d613b(0x196)](_0x44fc26[_0x2d613b(0x872)])),_0x224216&&_0x59dcfb[_0x2d613b(0x9ba)](_0x224216),this[_0x2d613b(0x7f8)](_0x3c33e6,_0x224216),_0x59dcfb[_0x2d613b(0x9e3)]()===_0x113c20['Offline'])return _0x59dcfb[_0x2d613b(0x33e)](_0x113c20[_0x2d613b(0x34c)]),this[_0x2d613b(0x677)](),void this[_0x2d613b(0x388)](_0x41239d);this[_0x2d613b(0x677)](),this[_0x2d613b(0x201)]({'id':_0x3c33e6,'metaData':_0x44fc26,'remoteConnections':_0x285466,'version':_0x48802c});}}else this[_0x2d613b(0xa4f)](_0x41239d);}[_0xd4b2e(0x7f8)](_0x2468d1,_0x467ee1){const _0x307d4d=_0xd4b2e;_0x467ee1&&this[_0x307d4d(0x921)][_0x307d4d(0x29c)](_0x2468d1)&&this[_0x307d4d(0x33f)][_0x307d4d(0x3ff)][_0x307d4d(0x9ba)](_0x467ee1+this[_0x307d4d(0x921)][_0x307d4d(0x458)](_0x2468d1)+0x1);}['handleConnectionSuccess'](_0x4e33ff){const _0x147347=_0xd4b2e;this[_0x147347(0x33f)][_0x147347(0x3ff)][_0x147347(0x60e)](_0x4e33ff);}[_0xd4b2e(0x321)]({id:_0x20f4ca,metaData:_0x4f968b,rank:_0x4e1330,remoteConnections:_0x413951,version:_0x46c936}){const _0x406dd0=_0xd4b2e;if(this[_0x406dd0(0x3f2)][_0x406dd0(0x561)](_0x20f4ca))throw new _0x589491('Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20'+_0x20f4ca);switch(_0x4f968b[_0x406dd0(0x747)]){case _0x29f76b[_0x406dd0(0x8e2)][_0x406dd0(0x9d1)]:const {displayName:_0x3d56d0,email:_0x5b4f5e}=_0x4f968b;this['graphService']['setRemoteNode'](_0x20f4ca,new _0x43a9bb(_0x20f4ca,_0x3d56d0,_0x5b4f5e,new Set(_0x413951),_0x46c936,_0x4e1330));break;case _0x29f76b[_0x406dd0(0x8e2)][_0x406dd0(0x3e3)]:this[_0x406dd0(0x3f2)][_0x406dd0(0x9be)](_0x20f4ca,new _0x12c992(_0x20f4ca,new Set(_0x413951),_0x46c936,_0x4e1330));}const _0x358aa4=this['getRemoteNodes'](),_0x3c55b2=new Set(this[_0x406dd0(0x921)]);_0x358aa4[_0x406dd0(0x7d0)](_0x314f14=>{const _0x3e0393=_0x406dd0;_0x3c55b2[_0x3e0393(0x8e9)](_0x314f14[_0x3e0393(0x2a6)]())&&_0x3c55b2[_0x3e0393(0xa2f)](_0x314f14['getId']());}),0x0===_0x3c55b2[_0x406dd0(0x882)]&&this[_0x406dd0(0x89f)]&&(this[_0x406dd0(0x80b)]&&clearTimeout(this[_0x406dd0(0x80b)]),this[_0x406dd0(0x80b)]=setTimeout(()=>{const _0x56457a=_0x406dd0;this[_0x56457a(0x89f)]?.(!0x0),delete this['resolveReady'],delete this[_0x56457a(0x5d8)];},0x7d0)),this[_0x406dd0(0x7f8)](_0x20f4ca,_0x4e1330),this[_0x406dd0(0x677)]();}['publishNodeJoin'](_0x5bfb01){const _0x4f86b0=_0xd4b2e;this[_0x4f86b0(0x598)][_0x4f86b0(0x2b2)]({'sourceId':_0x596898,'messageType':_0x49e311[_0x4f86b0(0x230)],'content':{'type':_0xebf85e[_0x4f86b0(0xa71)],'id':_0x5bfb01}});}[_0xd4b2e(0x7a5)](_0x57dae6){const _0x45444f=_0xd4b2e;this['systemTopic']?.[_0x45444f(0x2b2)]({'sourceId':_0x596898,'messageType':_0x49e311['Node'],'content':{'type':_0xebf85e[_0x45444f(0x8cb)],'id':_0x57dae6}});}['handleNodeDisconnect'](_0x4846c0){const _0x3ec2ec=_0xd4b2e;if(_0x4846c0===this[_0x3ec2ec(0x33f)][_0x3ec2ec(0x3ff)]['getId']())return this[_0x3ec2ec(0x33f)][_0x3ec2ec(0x532)][_0x3ec2ec(0x3bb)](_0x3ec2ec(0x43a),{'id':_0x4846c0}),this[_0x3ec2ec(0x33f)][_0x3ec2ec(0x532)][_0x3ec2ec(0x27e)]({'force':!0x0},!0x0),this[_0x3ec2ec(0x33f)]['mediator'][_0x3ec2ec(0x917)](),void this[_0x3ec2ec(0x33f)][_0x3ec2ec(0x532)][_0x3ec2ec(0x306)]();this[_0x3ec2ec(0x7a5)](_0x4846c0);}[_0xd4b2e(0x92c)](_0x9dd1c0){const _0x31fdd5=_0xd4b2e;this['ancestors']['includes'](_0x9dd1c0)?this[_0x31fdd5(0x704)](_0x9dd1c0):this['configs'][_0x31fdd5(0x3ff)][_0x31fdd5(0x584)]()[_0x31fdd5(0x8e9)](_0x9dd1c0)&&this['manageOptimization'](_0x9dd1c0),this['configs'][_0x31fdd5(0x3ff)]['removeRemoteConnection'](_0x9dd1c0);const _0x42024f=Array[_0x31fdd5(0x35c)](this[_0x31fdd5(0x153)][_0x31fdd5(0x63e)]())[_0x31fdd5(0x91c)](([,_0x313cb3])=>_0x313cb3==_0x313cb3);_0x42024f&&this[_0x31fdd5(0x153)]['delete'](_0x42024f[0x0]);const _0xb19f44=this[_0x31fdd5(0x3f2)][_0x31fdd5(0x24f)](_0x9dd1c0);if(!_0xb19f44)return;const _0x4f4bd3=_0xb19f44[_0x31fdd5(0x2f2)](),_0x4fc59d=this['configs'][_0x31fdd5(0x3ff)][_0x31fdd5(0x2f2)]();_0x4fc59d&&_0x4f4bd3&&_0x4f4bd3<_0x4fc59d&&this[_0x31fdd5(0x33f)][_0x31fdd5(0x3ff)][_0x31fdd5(0x9ba)](_0x4fc59d-0x1,!0x1),Array[_0x31fdd5(0x35c)](this[_0x31fdd5(0x3f2)][_0x31fdd5(0xa59)]()[_0x31fdd5(0x75b)]())['forEach'](_0xc54d4b=>{const _0x324035=_0x31fdd5,_0xd0a9ca=_0xc54d4b[_0x324035(0x2f2)]();_0xd0a9ca&&_0x4f4bd3&&_0x4f4bd3<_0xd0a9ca&&_0xc54d4b[_0x324035(0x9ba)](_0xd0a9ca-0x1);}),_0xb19f44['setStatus'](_0x113c20[_0x31fdd5(0x6f3)]),this[_0x31fdd5(0x33f)][_0x31fdd5(0x532)][_0x31fdd5(0x3bb)](_0xb19f44[_0x31fdd5(0x747)]+_0x31fdd5(0x923),{'id':_0x9dd1c0});}[_0xd4b2e(0x531)]({id:_0x10624a,metaData:_0x381a23,remoteConnections:_0x5bb8c7}){const _0x541b56=_0xd4b2e;switch(_0x381a23['type']){case _0x29f76b['NodeType'][_0x541b56(0x9d1)]:this[_0x541b56(0x33f)][_0x541b56(0x532)][_0x541b56(0x3bb)](_0x541b56(0x228),{'id':_0x10624a,'metaData':_0x381a23,'remoteConnections':_0x5bb8c7});break;case _0x29f76b['NodeType'][_0x541b56(0x3e3)]:this['configs'][_0x541b56(0x532)]['notifyCluster'](_0x541b56(0x146),{'id':_0x10624a,'metaData':_0x381a23,'remoteConnections':_0x5bb8c7});}}['notifyClusterNodeUpdate']({id:_0x202b6f,metaData:_0x54301b,remoteConnections:_0x3ad5d8}){const _0x520c2=_0xd4b2e;switch(_0x54301b[_0x520c2(0x747)]){case _0x29f76b[_0x520c2(0x8e2)][_0x520c2(0x9d1)]:this[_0x520c2(0x33f)][_0x520c2(0x532)][_0x520c2(0x3bb)](_0x520c2(0x327),{'id':_0x202b6f,'metaData':_0x54301b,'remoteConnections':_0x3ad5d8});break;case _0x29f76b[_0x520c2(0x8e2)][_0x520c2(0x3e3)]:this[_0x520c2(0x33f)][_0x520c2(0x532)][_0x520c2(0x3bb)](_0x520c2(0x315),{'id':_0x202b6f,'metaData':_0x54301b,'remoteConnections':_0x3ad5d8});}}[_0xd4b2e(0x677)](){const _0x4cc061=_0xd4b2e;if(this[_0x4cc061(0x673)]||(this['lastProcessRank']=Date[_0x4cc061(0x702)]()),this[_0x4cc061(0x2b7)]){if(Date[_0x4cc061(0x702)]()-this[_0x4cc061(0x673)]>0x2328)return;clearTimeout(this[_0x4cc061(0x2b7)]);}this[_0x4cc061(0x2b7)]=setTimeout(async()=>{const _0x5a2782=_0x4cc061;delete this[_0x5a2782(0x673)],delete this[_0x5a2782(0x2b7)];const _0x232d62=this[_0x5a2782(0x33f)][_0x5a2782(0x3ff)][_0x5a2782(0x2f2)]();if(!_0x232d62)return;const _0x487445=this[_0x5a2782(0x3f2)][_0x5a2782(0x6cc)](this[_0x5a2782(0x3f2)][_0x5a2782(0xa59)]()[_0x5a2782(0x882)]);if(this['optimizationLayers'][_0x5a2782(0x882)]>=_0x487445)return;let _0x49519a=0x1;for(;this[_0x5a2782(0x33f)][_0x5a2782(0x532)]['getConnections']()[_0x5a2782(0x9b4)]<this['graphService'][_0x5a2782(0x2ca)]()&&_0x49519a<=_0x487445;){if(this[_0x5a2782(0x153)][_0x5a2782(0x8e9)](_0x49519a)){_0x49519a+=0x1;continue;}const _0x36d230=this[_0x5a2782(0x3f2)][_0x5a2782(0x5f8)](_0x232d62,_0x49519a),_0x3cda42=Array[_0x5a2782(0x35c)](this[_0x5a2782(0x3f2)]['getRemoteNodes']()['values']())[_0x5a2782(0x91c)](_0x35adc0=>_0x35adc0[_0x5a2782(0x2f2)]()===_0x36d230&&_0x35adc0['getStatus']()===_0x113c20[_0x5a2782(0x34c)]);if(_0x3cda42){try{await this['configs']['mediator'][_0x5a2782(0x53e)](_0x3cda42[_0x5a2782(0x2a6)](),_0x4e04e5['Optimization']),this[_0x5a2782(0x153)]['set'](_0x49519a,_0x3cda42[_0x5a2782(0x2a6)]());}catch(_0x5de102){if(!(_0x5de102 instanceof _0x1cac69&&_0x5de102['code']===_0x1cac69[_0x5a2782(0x15e)][_0x5a2782(0x2bc)]))throw _0x5de102;_0x98a765[_0x5a2782(0x22d)](_0x831a2b['Node'],this['configs'][_0x5a2782(0x3ff)][_0x5a2782(0x2a6)](),_0x3cda42[_0x5a2782(0x2a6)](),_0x5de102['message']);}_0x49519a+=0x1;}else _0x49519a+=0x1;}},0x3e8);}async[_0xd4b2e(0x704)](_0x5a565e){const _0x8da76a=_0xd4b2e;this[_0x8da76a(0x921)][_0x8da76a(0xa3c)](this[_0x8da76a(0x921)][_0x8da76a(0x458)](_0x5a565e),0x1);const _0x26c063=await this['discoveryService'][_0x8da76a(0x7e0)]();for(const _0x2ee3e3 of _0x26c063)if(!this[_0x8da76a(0x921)][_0x8da76a(0x29c)](_0x2ee3e3)){const _0x1b3399=Array[_0x8da76a(0x35c)](this[_0x8da76a(0x153)][_0x8da76a(0x63e)]())['find'](([,_0x23e5c8])=>_0x23e5c8===_0x2ee3e3);_0x1b3399&&this[_0x8da76a(0x153)][_0x8da76a(0xa2f)](_0x1b3399[0x0]),this[_0x8da76a(0x33f)][_0x8da76a(0x532)][_0x8da76a(0x53e)](_0x2ee3e3,_0x4e04e5[_0x8da76a(0x4fb)]);}0x0===_0x26c063[_0x8da76a(0x9b4)]&&this[_0x8da76a(0x33f)][_0x8da76a(0x3ff)]['setRank'](0x1),this[_0x8da76a(0x921)]=_0x26c063;}async['manageOptimization'](_0x478844){const _0x2661a5=_0xd4b2e,_0x5a18c6=this[_0x2661a5(0x33f)][_0x2661a5(0x3ff)][_0x2661a5(0x2f2)]();if(!_0x5a18c6)return;const _0x293997=this[_0x2661a5(0x3f2)]['getRemoteNode'](_0x478844);if(!_0x293997||_0x293997[_0x2661a5(0x9e3)]()===_0x113c20[_0x2661a5(0x6f3)])return;const _0x4fd64c=_0x293997[_0x2661a5(0x2f2)]();if(!_0x4fd64c||_0x4fd64c<_0x5a18c6)return;const _0x323f85=this[_0x2661a5(0x245)](this['configs'][_0x2661a5(0x3ff)]['getRemoteConnections'](),_0x5a18c6),_0xf0562a=this[_0x2661a5(0x245)](_0x293997['getRemoteConnections'](),_0x4fd64c)[_0x323f85[_0x2661a5(0x1aa)](([_0x38743f])=>_0x38743f===_0x478844)];if(!_0xf0562a||this[_0x2661a5(0x33f)][_0x2661a5(0x3ff)][_0x2661a5(0x584)]()[_0x2661a5(0x8e9)](_0xf0562a[0x0]))return;const _0x1118e7=this[_0x2661a5(0x3f2)][_0x2661a5(0x24f)](_0xf0562a[0x0]);if(_0x1118e7&&_0x1118e7[_0x2661a5(0x9e3)]()!==_0x113c20[_0x2661a5(0x6f3)])try{await this[_0x2661a5(0x33f)][_0x2661a5(0x532)][_0x2661a5(0x53e)](_0xf0562a[0x0],_0x4e04e5['Optimization']);const _0x47d559=Array['from'](this[_0x2661a5(0x153)]['entries']())[_0x2661a5(0x91c)](([,_0xc40692])=>_0xc40692===_0x478844);_0x47d559&&this[_0x2661a5(0x153)][_0x2661a5(0x991)](_0x47d559[0x0],_0xf0562a[0x0]);}catch(_0x2cd2c4){if(!(_0x2cd2c4 instanceof _0x1cac69&&_0x2cd2c4[_0x2661a5(0x12c)]===_0x1cac69[_0x2661a5(0x15e)][_0x2661a5(0x2bc)]))throw _0x2cd2c4;_0x98a765[_0x2661a5(0x22d)](_0x831a2b[_0x2661a5(0x230)],this[_0x2661a5(0x33f)][_0x2661a5(0x3ff)][_0x2661a5(0x2a6)](),_0xf0562a[0x0],_0x2cd2c4['message']);}}[_0xd4b2e(0x245)](_0x4c64ba,_0xa89e3){const _0x500d23=_0xd4b2e;return Array[_0x500d23(0x35c)](_0x4c64ba)[_0x500d23(0x7aa)]((_0x9e74a7,_0x312fa4)=>{const _0xc3a541=_0x500d23,_0x45c467=this[_0xc3a541(0x3f2)][_0xc3a541(0x24f)](_0x312fa4);if(!_0x45c467||_0x45c467['getStatus']()===_0x113c20[_0xc3a541(0x6f3)])return _0x9e74a7;const _0x58fbc3=_0x45c467[_0xc3a541(0x2f2)]();if(!_0x58fbc3)return _0x9e74a7;const _0x2c066c=_0x58fbc3-_0xa89e3;return _0x2c066c<=this[_0xc3a541(0x3f2)]['getMinConnections']()||_0x9e74a7[_0xc3a541(0x55a)]([_0x312fa4,_0x2c066c]),_0x9e74a7;},[])['sort'](([,_0x5458de],[,_0x1bb065])=>_0x5458de-_0x1bb065);}}const _0x1791e4=[{'problemType':_0x353a52['CPUCycle'],'remediations':[{'type':_0xee07e0[_0xd4b2e(0x4c3)],'component':_0x248089[_0xd4b2e(0x6ad)],'action':_0x492a8e['Downgrade']},{'type':_0xee07e0[_0xd4b2e(0x1b4)],'component':_0x248089[_0xd4b2e(0x6ad)],'action':_0x492a8e[_0xd4b2e(0x9bd)]}]},{'problemType':_0x353a52[_0xd4b2e(0xa49)],'remediations':[{'type':_0xee07e0[_0xd4b2e(0x4c3)],'component':_0x248089[_0xd4b2e(0x6ad)],'action':_0x492a8e[_0xd4b2e(0x9bd)]}]},{'problemType':_0x353a52[_0xd4b2e(0x92a)],'remediations':[{'type':_0xee07e0[_0xd4b2e(0x4c3)],'component':_0x248089[_0xd4b2e(0x6ad)],'action':_0x492a8e['Downgrade']}]},{'problemType':_0x353a52[_0xd4b2e(0x283)],'remediations':[{'type':_0xee07e0[_0xd4b2e(0x4c3)],'component':_0x248089['Resolution'],'action':_0x492a8e[_0xd4b2e(0x9bd)]}]},{'problemType':_0x353a52[_0xd4b2e(0x596)],'remediations':[{'type':_0xee07e0['Remediation'],'component':_0x248089[_0xd4b2e(0x596)],'action':_0x492a8e[_0xd4b2e(0x9bd)]}]},{'problemType':_0x353a52[_0xd4b2e(0x3f3)],'remediations':[{'type':_0xee07e0[_0xd4b2e(0x4c3)],'component':_0x248089[_0xd4b2e(0x596)],'action':_0x492a8e[_0xd4b2e(0x9bd)]}]},{'problemType':_0x353a52[_0xd4b2e(0x88e)],'remediations':[{'type':_0xee07e0[_0xd4b2e(0x4c3)],'component':_0x248089['Bitrate'],'action':_0x492a8e[_0xd4b2e(0x9bd)]}]}];class _0x48dbd0{[_0xd4b2e(0x33f)];[_0xd4b2e(0x598)];[_0xd4b2e(0x1b9)]=new Map();constructor(_0x384601){const _0x3dcf38=_0xd4b2e;this['configs']=_0x384601,this[_0x3dcf38(0x33f)][_0x3dcf38(0x532)]['registerSystemSource'](this);}['close'](){const _0x111847=_0xd4b2e;this[_0x111847(0x33f)][_0x111847(0x532)][_0x111847(0x22e)](this);}[_0xd4b2e(0x14c)](_0x29198d){const _0x5932a1=_0xd4b2e;this[_0x5932a1(0x598)]=_0x29198d;}[_0xd4b2e(0x738)](){const _0x27b444=_0xd4b2e;delete this[_0x27b444(0x598)];}[_0xd4b2e(0x42e)](_0x1effa3){const _0x836d7e=_0xd4b2e;_0x1effa3[_0x836d7e(0x580)][_0x836d7e(0x747)]===_0x393a21[_0x836d7e(0x3fd)]&&this[_0x836d7e(0xa41)](_0x1effa3[_0x836d7e(0x580)][_0x836d7e(0x2aa)]);}[_0xd4b2e(0x34b)](_0x4e31c8){const _0x5ed645=_0xd4b2e;_0x4e31c8[_0x5ed645(0x580)][_0x5ed645(0x747)]===_0xee07e0['RemoteRemediation']&&this[_0x5ed645(0x6d6)](_0x4e31c8[_0x5ed645(0x3e6)],{'type':_0xee07e0[_0x5ed645(0x4c3)],'component':_0x4e31c8[_0x5ed645(0x580)][_0x5ed645(0x2aa)][_0x5ed645(0x634)],'action':_0x4e31c8[_0x5ed645(0x580)]['data'][_0x5ed645(0x49f)]});}['handleProblem'](_0x21f3cf){const _0x1b95cb=_0xd4b2e,_0x126481=_0x1791e4[_0x1b95cb(0x91c)](_0x1c77ec=>_0x1c77ec[_0x1b95cb(0x27d)]===_0x21f3cf[_0x1b95cb(0x747)]);_0x126481[_0x1b95cb(0x92e)]?.['forEach'](_0x560a01=>{const _0x174e83=_0x1b95cb;this[_0x174e83(0x6d6)](_0x21f3cf[_0x174e83(0x166)],{'type':_0x21f3cf[_0x174e83(0x998)]===_0x4172fc[_0x174e83(0x2e1)]?_0xee07e0['Remediation']:_0xee07e0[_0x174e83(0x1b4)],'component':_0x560a01[_0x174e83(0x634)],'action':_0x560a01[_0x174e83(0x49f)]});});}[_0xd4b2e(0x6d6)](_0x256982,_0x51550d){const _0x4fe0da=_0xd4b2e;if(_0x51550d['type']===_0xee07e0[_0x4fe0da(0x4c3)]){const _0x50f683=Date[_0x4fe0da(0x702)](),_0x211970=this['lastRemediations'][_0x4fe0da(0x6e6)](_0x256982);if(_0x211970&&_0x50f683-_0x211970<0x1388)return;this[_0x4fe0da(0x1b9)][_0x4fe0da(0x991)](_0x256982,_0x50f683);}_0x98a765[_0x4fe0da(0x22d)](_0x831a2b['Remediation'],_0x4fe0da(0x81f),_0x51550d),_0x98a765[_0x4fe0da(0x1b3)](_0x4fe0da(0x4f6),{'clusterId':this['configs'][_0x4fe0da(0x6d7)],'nodeId':this['configs']['localNode'][_0x4fe0da(0x2a6)](),'nodeType':this[_0x4fe0da(0x33f)][_0x4fe0da(0x3ff)][_0x4fe0da(0x747)],'remoteId':_0x256982,'data':{'type':_0x51550d['type'],'component':_0x51550d[_0x4fe0da(0x634)],'action':_0x51550d[_0x4fe0da(0x49f)]}});let _0x142ed0,_0x3b6d1e=_0x596898;_0x51550d['type']===_0xee07e0[_0x4fe0da(0x1b4)]&&(_0x3b6d1e=this['configs'][_0x4fe0da(0x3ff)][_0x4fe0da(0x2a6)](),_0x142ed0=[_0x256982]),this['systemTopic']['publish']({'sourceId':_0x3b6d1e,'destinationIds':_0x142ed0,'messageType':_0x49e311[_0x4fe0da(0x4c3)],'content':{'type':_0x51550d[_0x4fe0da(0x747)],'targetId':_0x256982,'data':_0x51550d}});}}const _0x42049f=0x3e8,_0x475754=0x7530,_0x4eb0ae=_0xd4b2e(0x39d),_0x8e0c98=_0xd4b2e(0x840),_0x5e37eb=_0xd4b2e(0x86d),_0x443fcc=[_0x4eb0ae,_0x8e0c98],_0x61eb8e=[_0x5e37eb];class _0x14db2b{[_0xd4b2e(0x3a0)]=0x0;[_0xd4b2e(0x663)]=0x0;[_0xd4b2e(0x4b9)]=0x0;[_0xd4b2e(0x746)]=0x0;[_0xd4b2e(0x9ec)]=0x0;[_0xd4b2e(0x401)]=0x0;[_0xd4b2e(0x9d0)]=0x0;[_0xd4b2e(0x69c)]=0x0;[_0xd4b2e(0x653)]=0x0;get[_0xd4b2e(0x8f8)](){const _0x4d7f38=_0xd4b2e;return this[_0x4d7f38(0x401)]>0x0&&this['previousTimestamp']>0x0&&Date[_0x4d7f38(0x702)]()-this[_0x4d7f38(0x401)]<_0x475754?(this[_0x4d7f38(0x69c)]-this[_0x4d7f38(0x653)])/(this[_0x4d7f38(0x401)]-this[_0x4d7f38(0x9d0)])*0x8*0x3e8:0x0;}['processReport'](_0x568d1a){const _0x55e8a8=_0xd4b2e;switch(_0x568d1a[_0x55e8a8(0x747)]){case _0x5e37eb:this[_0x55e8a8(0x40e)](_0x568d1a);break;case _0x4eb0ae:this[_0x55e8a8(0x9e8)](_0x568d1a);break;case _0x8e0c98:this[_0x55e8a8(0x61f)](_0x568d1a);}}['getReport'](){const _0x3e264a=_0xd4b2e;return{'bitrate':this[_0x3e264a(0x8f8)],'packetsLostPerc':this[_0x3e264a(0x8ae)](),'roundTripTime':this[_0x3e264a(0x3a0)],'jitter':this[_0x3e264a(0x4b9)]};}[_0xd4b2e(0x40e)](_0x415bd6){const _0x18fec4=_0xd4b2e;this[_0x18fec4(0xa2a)](_0x415bd6[_0x18fec4(0x141)]),this[_0x18fec4(0x948)](_0x415bd6[_0x18fec4(0x9d7)]),this[_0x18fec4(0x9ec)]=_0x415bd6[_0x18fec4(0x2c6)],this[_0x18fec4(0x746)]=_0x415bd6[_0x18fec4(0x746)],void 0x0!==_0x415bd6[_0x18fec4(0x4b9)]?this['jitter']=_0x415bd6[_0x18fec4(0x4b9)]:this['jitter']=0x0,void 0x0!==_0x415bd6['estimatedPlayoutTimestamp']?this[_0x18fec4(0x663)]=_0x415bd6[_0x18fec4(0x663)]:this[_0x18fec4(0x663)]=0x0;}[_0xd4b2e(0x9e8)](_0x10b58e){const _0x33562f=_0xd4b2e;this[_0x33562f(0xa2a)](_0x10b58e[_0x33562f(0x679)]),this[_0x33562f(0x948)](_0x10b58e[_0x33562f(0x9d7)]),this[_0x33562f(0x9ec)]=_0x10b58e[_0x33562f(0x3d5)];}['processRemoteInboundReport'](_0x4df2c4){const _0x2dac82=_0xd4b2e;this[_0x2dac82(0x3a0)]=0x3e8*_0x4df2c4[_0x2dac82(0x3a0)],void 0x0!==_0x4df2c4['jitter']?this['jitter']=_0x4df2c4[_0x2dac82(0x4b9)]:this[_0x2dac82(0x4b9)]=0x0;}[_0xd4b2e(0x8ae)](){const _0x297850=_0xd4b2e;return this['packets']>0x0?this[_0x297850(0x746)]/this[_0x297850(0x9ec)]:0x0;}[_0xd4b2e(0x948)](_0x440384){const _0x35bee9=_0xd4b2e;_0x440384>this['currentTimestamp']&&(this[_0x35bee9(0x9d0)]=this[_0x35bee9(0x401)],this[_0x35bee9(0x401)]=_0x440384);}[_0xd4b2e(0xa2a)](_0x271e51){const _0x43de13=_0xd4b2e;this[_0x43de13(0x653)]=this[_0x43de13(0x69c)],this[_0x43de13(0x69c)]=_0x271e51;}}class _0x1108ce extends _0x14db2b{}class _0x909fc1 extends _0x14db2b{[_0xd4b2e(0x712)]=0x0;[_0xd4b2e(0x7e4)]=0x0;[_0xd4b2e(0x6b9)]=0x0;[_0xd4b2e(0x9c8)]=0x0;[_0xd4b2e(0x81b)]=0x0;get[_0xd4b2e(0x90a)](){const _0x548229=_0xd4b2e;return this[_0x548229(0x401)]>0x0&&this[_0x548229(0x9d0)]>0x0&&Date['now']()-this[_0x548229(0x401)]<_0x475754?(this[_0x548229(0x9c8)]-this[_0x548229(0x81b)])/(this['currentTimestamp']-this[_0x548229(0x9d0)])*0x3e8:0x0;}get[_0xd4b2e(0x7cb)](){const _0x5d89b7=_0xd4b2e;return this['frameTime']&&this['currentFrames']&&this['currentFrames']>0x0?this[_0x5d89b7(0x712)]/this[_0x5d89b7(0x9c8)]:0x0;}set['frames'](_0x49edf3){const _0x14e039=_0xd4b2e;this[_0x14e039(0x81b)]=this[_0x14e039(0x9c8)],this['currentFrames']=_0x49edf3;}[_0xd4b2e(0x70c)](){const _0x15f195=_0xd4b2e;return{...super[_0x15f195(0x70c)](),'FPS':this[_0x15f195(0x90a)],'timePerFrame':this[_0x15f195(0x7cb)],'frameWidth':this[_0x15f195(0x7e4)],'frameHeight':this[_0x15f195(0x6b9)]};}[_0xd4b2e(0x40e)](_0x202e35){const _0x52cc05=_0xd4b2e;super[_0x52cc05(0x40e)](_0x202e35),this['frameTime']=_0x202e35[_0x52cc05(0x97d)],this['frames']=_0x202e35[_0x52cc05(0x9ee)],this['frameWidth']=_0x202e35[_0x52cc05(0x7e4)],this['frameHeight']=_0x202e35[_0x52cc05(0x6b9)];}[_0xd4b2e(0x9e8)](_0x15e802){const _0x32aa40=_0xd4b2e;super['processOutboundReport'](_0x15e802),this[_0x32aa40(0x712)]=_0x15e802[_0x32aa40(0x253)],this[_0x32aa40(0x676)]=_0x15e802['framesEncoded'],this[_0x32aa40(0x7e4)]=_0x15e802[_0x32aa40(0x7e4)],this[_0x32aa40(0x6b9)]=_0x15e802[_0x32aa40(0x6b9)];}}class _0x6f4e70{[_0xd4b2e(0x6c5)]=new _0x1108ce();['video']=new _0x909fc1();get[_0xd4b2e(0x8f8)](){const _0xb07cd4=_0xd4b2e;return this[_0xb07cd4(0x6c5)][_0xb07cd4(0x8f8)]+this[_0xb07cd4(0x5ab)]['bitrate'];}['processReports'](_0x48ae89){const _0x27385d=_0xd4b2e;return _0x48ae89[_0x27385d(0x7d0)](_0x437cb5=>{const _0x527cef=_0x27385d;switch(_0x437cb5[_0x527cef(0x6c2)]){case'audio':this[_0x527cef(0x6c5)]['processReport'](_0x437cb5);break;case _0x527cef(0x5ab):this[_0x527cef(0x5ab)][_0x527cef(0x2f8)](_0x437cb5);}}),this[_0x27385d(0x70c)]();}[_0xd4b2e(0x70c)](){const _0x17b1e9=_0xd4b2e;return{'audio':this[_0x17b1e9(0x6c5)]['getReport'](),'video':this[_0x17b1e9(0x5ab)][_0x17b1e9(0x70c)](),'roundTripTime':this[_0x17b1e9(0x19a)](),'AudioVideoDelay':this[_0x17b1e9(0x68d)](),'bitrate':this[_0x17b1e9(0x8f8)]};}[_0xd4b2e(0x19a)](){const _0x3ac686=_0xd4b2e;return Math[_0x3ac686(0x60a)]((this[_0x3ac686(0x6c5)]['roundTripTime']+this['video']['roundTripTime'])/0x2);}['getAudioVideoDelay'](){const _0xd356f3=_0xd4b2e;return this['audio'][_0xd356f3(0x663)]-this[_0xd356f3(0x5ab)][_0xd356f3(0x663)];}}class _0x1581ae{['senderCurrentTimestamp']=0x0;[_0xd4b2e(0x853)]=0x0;[_0xd4b2e(0x6f9)]=0x0;[_0xd4b2e(0x30c)]=0x0;[_0xd4b2e(0x2fe)]=0x0;['senderPreviousBytes']=0x0;['receiverCurrentBytes']=0x0;[_0xd4b2e(0x902)]=0x0;[_0xd4b2e(0x1e1)]=0x0;[_0xd4b2e(0x1c3)]=0x0;[_0xd4b2e(0x850)]=0x0;[_0xd4b2e(0x310)]=0x0;['roundTripTime']=0x0;get[_0xd4b2e(0x8f8)](){const _0x2b47ba=_0xd4b2e;return this[_0x2b47ba(0x91d)]+this['receiverBitrate'];}get['senderBitrate'](){const _0x57fa66=_0xd4b2e;return this['senderCurrentTimestamp']>0x0&&this[_0x57fa66(0x853)]>0x0&&Date['now']()-this['senderCurrentTimestamp']<_0x475754?(this[_0x57fa66(0x2fe)]-this[_0x57fa66(0x7b3)])/(this[_0x57fa66(0x845)]-this[_0x57fa66(0x853)])*0x8*0x3e8:0x0;}get[_0xd4b2e(0x45f)](){const _0x2adfbd=_0xd4b2e;return this[_0x2adfbd(0x6f9)]>0x0&&this[_0x2adfbd(0x30c)]>0x0&&Date[_0x2adfbd(0x702)]()-this['receiverCurrentTimestamp']<_0x475754?(this[_0x2adfbd(0x599)]-this[_0x2adfbd(0x902)])/(this['receiverCurrentTimestamp']-this['receiverPreviousTimestamp'])*0x8*0x3e8:0x0;}['processReport'](_0x3eded2){const _0x33b0d5=_0xd4b2e;switch(_0x3eded2[_0x33b0d5(0x998)]){case _0x4172fc['Sender']:this['processSenderReport'](_0x3eded2);break;case _0x4172fc[_0x33b0d5(0x655)]:this[_0x33b0d5(0x733)](_0x3eded2);}}[_0xd4b2e(0x70c)](){const _0xb0f520=_0xd4b2e;return{'bitrate':this['bitrate'],'senderBitrate':this[_0xb0f520(0x91d)],'receiverBitrate':this[_0xb0f520(0x45f)],'totalBytes':this[_0xb0f520(0x684)](),'senderTotalBytes':this[_0xb0f520(0x7fb)](),'receiverTotalBytes':this['getReceiverTotalBytes'](),'totalMessages':this[_0xb0f520(0x1e1)]+this['receiverTotalMessages'],'senderTotalMessages':this[_0xb0f520(0x1e1)],'receiverTotalMessages':this['receiverTotalMessages'],'timeProcessing':this[_0xb0f520(0x850)]+this[_0xb0f520(0x310)],'senderTimeProcessing':this['senderTimeProcessing'],'receiverTimeProcessing':this[_0xb0f520(0x310)],'roundTripTime':this[_0xb0f520(0x3a0)]};}['getTotalBytes'](){const _0x4b86b3=_0xd4b2e;return this[_0x4b86b3(0x2fe)]+this[_0x4b86b3(0x599)];}[_0xd4b2e(0x7fb)](){return this['senderCurrentBytes'];}[_0xd4b2e(0x6e7)](){const _0xbbe229=_0xd4b2e;return this[_0xbbe229(0x599)];}['processSenderReport'](_0x16bdef){const _0xad56ee=_0xd4b2e;this['setSenderTimestamp'](_0x16bdef[_0xad56ee(0x9d7)]),this[_0xad56ee(0xa2a)](_0x16bdef[_0xad56ee(0x679)]),this[_0xad56ee(0x1e1)]=_0x16bdef['messagesSent'],this[_0xad56ee(0x850)]=_0x16bdef[_0xad56ee(0x1cc)],this['roundTripTime']=_0x16bdef[_0xad56ee(0x3a0)];}['processReceiverReport'](_0x19e039){const _0x3ea4bf=_0xd4b2e;this[_0x3ea4bf(0x475)](_0x19e039['timestamp']),this[_0x3ea4bf(0x870)](_0x19e039[_0x3ea4bf(0x141)]),this['receiverTotalMessages']=_0x19e039[_0x3ea4bf(0x4b5)],this['receiverTimeProcessing']=_0x19e039[_0x3ea4bf(0x445)];}['setSenderTimestamp'](_0x3d4a5d){const _0x1b343b=_0xd4b2e;_0x3d4a5d>this['senderCurrentTimestamp']&&(this[_0x1b343b(0x853)]=this['senderCurrentTimestamp'],this[_0x1b343b(0x845)]=_0x3d4a5d);}['setReceiverTimestamp'](_0x1383fc){const _0x4e88f2=_0xd4b2e;_0x1383fc>this[_0x4e88f2(0x6f9)]&&(this[_0x4e88f2(0x30c)]=this[_0x4e88f2(0x6f9)],this[_0x4e88f2(0x6f9)]=_0x1383fc);}[_0xd4b2e(0xa2a)](_0x4245ab){const _0x3fff80=_0xd4b2e;this[_0x3fff80(0x7b3)]=this[_0x3fff80(0x2fe)],this[_0x3fff80(0x2fe)]=_0x4245ab;}[_0xd4b2e(0x870)](_0x90e10c){const _0x559b04=_0xd4b2e;this['receiverPreviousBytes']=this[_0x559b04(0x599)],this[_0x559b04(0x599)]=_0x90e10c;}}class _0x4ef827{[_0xd4b2e(0x5be)]=new Map();[_0xd4b2e(0xa6e)]=new Map();['dataChannel']=new _0x1581ae();get[_0xd4b2e(0x91d)](){const _0x12c3f1=_0xd4b2e;let _0x279cc8=0x0;return this[_0x12c3f1(0x5be)][_0x12c3f1(0x7d0)](_0x21bdee=>{_0x279cc8+=_0x21bdee['bitrate'];}),_0x279cc8+=this[_0x12c3f1(0x1be)]['senderBitrate'],_0x279cc8;}get[_0xd4b2e(0x45f)](){const _0x3fd5d2=_0xd4b2e;let _0x3094c2=0x0;return this[_0x3fd5d2(0xa6e)][_0x3fd5d2(0x7d0)](_0x44f60f=>{_0x3094c2+=_0x44f60f['bitrate'];}),_0x3094c2+=this[_0x3fd5d2(0x1be)][_0x3fd5d2(0x45f)],_0x3094c2;}get[_0xd4b2e(0x8f8)](){return this['senderBitrate']+this['receiverBitrate'];}[_0xd4b2e(0xa13)](_0x1378af,_0x556757){const _0x23b894=_0xd4b2e,_0x17fbd1=[],_0x5f277c=[];return _0x1378af instanceof Array?_0x1378af[_0x23b894(0x7d0)](_0x125747=>{const _0x52adab=_0x23b894;_0x125747[_0x52adab(0x7d0)](_0x173b8d=>{const _0x2b7b43=_0x52adab;_0x61eb8e[_0x2b7b43(0x29c)](_0x173b8d[_0x2b7b43(0x747)])&&_0x17fbd1[_0x2b7b43(0x55a)](_0x173b8d),_0x443fcc[_0x2b7b43(0x29c)](_0x173b8d[_0x2b7b43(0x747)])&&_0x5f277c[_0x2b7b43(0x55a)](_0x173b8d);});}):this[_0x23b894(0x1be)][_0x23b894(0x2f8)](_0x1378af),_0x17fbd1[_0x23b894(0x9b4)]>0x0&&_0x556757?{...this['processInboundReports'](_0x556757,_0x17fbd1),'origin':_0x4172fc[_0x23b894(0x655)],'streamId':_0x556757}:_0x5f277c[_0x23b894(0x9b4)]>0x0&&_0x556757?{...this[_0x23b894(0x697)](_0x556757,_0x5f277c),'origin':_0x4172fc[_0x23b894(0x2e1)],'streamId':_0x556757}:void 0x0;}[_0xd4b2e(0x70c)](){const _0x3d6c17=_0xd4b2e,_0x4309a3={};this['senderStreams']['forEach']((_0x17409e,_0x207daa)=>{const _0x18a385=a0_0x2e29;_0x4309a3[_0x207daa]=_0x17409e[_0x18a385(0x70c)]();});const _0x2ffdb2={};return this['receiverStreams'][_0x3d6c17(0x7d0)]((_0x3898f5,_0x51ef25)=>{const _0xaef3e1=_0x3d6c17;_0x2ffdb2[_0x51ef25]=_0x3898f5[_0xaef3e1(0x70c)]();}),{'bitrate':this[_0x3d6c17(0x8f8)],'senderBitrate':this[_0x3d6c17(0x91d)],'receiverBitrate':this[_0x3d6c17(0x45f)],'senderStreams':_0x4309a3,'receiverStreams':_0x2ffdb2,'dataChannel':this[_0x3d6c17(0x1be)][_0x3d6c17(0x70c)]()};}[_0xd4b2e(0x85f)](_0x2bc81c,_0x444a84){const _0x554573=_0xd4b2e;return this['receiverStreams'][_0x554573(0x8e9)](_0x2bc81c)||this[_0x554573(0xa6e)]['set'](_0x2bc81c,new _0x6f4e70()),this[_0x554573(0xa6e)]['get'](_0x2bc81c)[_0x554573(0xa13)](_0x444a84);}['processOutboundReports'](_0x3c4a74,_0x19cf57){const _0x1def94=_0xd4b2e;return this['senderStreams']['has'](_0x3c4a74)||this[_0x1def94(0x5be)][_0x1def94(0x991)](_0x3c4a74,new _0x6f4e70()),this[_0x1def94(0x5be)][_0x1def94(0x6e6)](_0x3c4a74)[_0x1def94(0xa13)](_0x19cf57);}}class _0xa156ed{[_0xd4b2e(0x965)]=new Map();[_0xd4b2e(0x2e3)]=0x0;[_0xd4b2e(0x76b)]=0x0;[_0xd4b2e(0x9c1)]=new Map();[_0xd4b2e(0x5ba)]=new Map();[_0xd4b2e(0x760)]=new Map();[_0xd4b2e(0xa2e)]=new Map();['generativeAIWorkers']=new Map();[_0xd4b2e(0x783)]=new Map();[_0xd4b2e(0x89c)]=new Map();[_0xd4b2e(0x183)]=new Map();[_0xd4b2e(0x1e1)]=new Map();[_0xd4b2e(0x1c3)]=new Map();[_0xd4b2e(0x850)]=new Map();[_0xd4b2e(0x310)]=new Map();[_0xd4b2e(0x1fd)]=new Map();[_0xd4b2e(0x598)];[_0xd4b2e(0x70c)](){const _0x5594d1=_0xd4b2e,_0x3e0507={};this[_0x5594d1(0x965)]['forEach']((_0x37c5f2,_0x34bc60)=>{const _0x38c944=_0x5594d1;_0x3e0507[_0x34bc60]=_0x37c5f2[_0x38c944(0x70c)]();});let _0x26c12c=0x0;this[_0x5594d1(0x850)][_0x5594d1(0x7d0)](_0x52e07d=>{_0x26c12c+=_0x52e07d;});let _0x172f44=0x0;this[_0x5594d1(0x310)][_0x5594d1(0x7d0)](_0x59bf86=>{_0x172f44+=_0x59bf86;});const _0x5369f9=_0x26c12c+_0x172f44;let _0x43c862={'messages':{'total':0x0}};this[_0x5594d1(0x1fd)]['forEach'](_0x11b1ec=>{const _0x14eeea=_0x5594d1;Object['keys'](_0x11b1ec)[_0x14eeea(0x7d0)](_0x427ba1=>{const _0x14736c=_0x14eeea;_0x43c862[_0x427ba1]||(_0x43c862[_0x427ba1]={}),Object[_0x14736c(0x31f)](_0x11b1ec[_0x427ba1])[_0x14736c(0x7d0)](_0x47467d=>{_0x43c862[_0x427ba1][_0x47467d]||(_0x43c862[_0x427ba1][_0x47467d]=0x0),_0x43c862[_0x427ba1][_0x47467d]+=_0x11b1ec[_0x427ba1][_0x47467d];});});});let _0x2a9839=0x0,_0x2bc83f=0x0,_0x44f992=0x0,_0x13ce5c=0x0,_0x102da6=0x0;return this['pubsubTopics'][_0x5594d1(0x7d0)](_0xc6af1c=>{const _0x430411=_0x5594d1;_0x2bc83f+=_0xc6af1c[_0x430411(0x75d)],_0x44f992+=_0xc6af1c[_0x430411(0x4b5)],_0x13ce5c+=_0xc6af1c[_0x430411(0x679)],_0x102da6+=_0xc6af1c[_0x430411(0x141)];}),this[_0x5594d1(0x5ba)][_0x5594d1(0x7d0)](_0xe2d9c0=>{const _0x338be7=_0x5594d1;_0x2a9839+=_0xe2d9c0[_0x338be7(0x221)],_0x2bc83f+=_0xe2d9c0[_0x338be7(0x75d)],_0x44f992+=_0xe2d9c0[_0x338be7(0x4b5)],_0x13ce5c+=_0xe2d9c0[_0x338be7(0x679)],_0x102da6+=_0xe2d9c0['bytesReceived'];}),this[_0x5594d1(0x760)]['forEach'](_0x17e852=>{const _0x148b44=_0x5594d1;_0x2a9839+=_0x17e852[_0x148b44(0x221)],_0x2bc83f+=_0x17e852[_0x148b44(0x75d)],_0x44f992+=_0x17e852[_0x148b44(0x4b5)],_0x13ce5c+=_0x17e852[_0x148b44(0x679)],_0x102da6+=_0x17e852[_0x148b44(0x141)];}),this[_0x5594d1(0xa2e)][_0x5594d1(0x7d0)](_0x10ca6b=>{const _0x1bac43=_0x5594d1;_0x2a9839+=_0x10ca6b[_0x1bac43(0x221)],_0x2bc83f+=_0x10ca6b['messagesSent'],_0x44f992+=_0x10ca6b[_0x1bac43(0x4b5)],_0x13ce5c+=_0x10ca6b[_0x1bac43(0x679)],_0x102da6+=_0x10ca6b[_0x1bac43(0x141)];}),this['generativeAIWorkers'][_0x5594d1(0x7d0)](_0x263547=>{const _0x1dbd03=_0x5594d1;_0x2a9839+=_0x263547[_0x1dbd03(0x221)],_0x2bc83f+=_0x263547[_0x1dbd03(0x75d)],_0x44f992+=_0x263547[_0x1dbd03(0x4b5)],_0x13ce5c+=_0x263547['bytesSent'],_0x102da6+=_0x263547['bytesReceived'];}),this[_0x5594d1(0x783)]['forEach'](_0x7cdf1d=>{const _0x253101=_0x5594d1;_0x2a9839+=_0x7cdf1d['storage'],_0x2bc83f+=_0x7cdf1d[_0x253101(0x75d)],_0x44f992+=_0x7cdf1d[_0x253101(0x4b5)],_0x13ce5c+=_0x7cdf1d[_0x253101(0x679)],_0x102da6+=_0x7cdf1d[_0x253101(0x141)];}),this[_0x5594d1(0x89c)][_0x5594d1(0x7d0)](_0x2c327a=>{const _0x320899=_0x5594d1;_0x2a9839+=_0x2c327a['storage'],_0x2bc83f+=_0x2c327a['messagesSent'],_0x44f992+=_0x2c327a[_0x320899(0x4b5)],_0x13ce5c+=_0x2c327a[_0x320899(0x679)],_0x102da6+=_0x2c327a['bytesReceived'];}),{'STVolatility':this[_0x5594d1(0x785)](),'DTVolatility':this[_0x5594d1(0x72d)](),'bitrate':this['getBitrate'](),'senderBitrate':this[_0x5594d1(0x362)](),'receiverBitrate':this['getReceiverBitrate'](),'totalStorageSize':_0x2a9839,'totalMessages':_0x2bc83f+_0x44f992,'totalMessagesSent':_0x2bc83f,'totalMessagesReceived':_0x44f992,'totalBytes':_0x13ce5c+_0x102da6,'totalBytesSent':_0x13ce5c,'totalBytesReceived':_0x102da6,'systemMessages':_0x43c862,'timeProcessing':_0x5369f9,'nodes':_0x3e0507,'pubsubTopics':Object[_0x5594d1(0x708)](this[_0x5594d1(0x9c1)]),'objectStores':Object[_0x5594d1(0x708)](this[_0x5594d1(0x5ba)]),'keyValueDatabases':Object[_0x5594d1(0x708)](this[_0x5594d1(0x760)]),'generativeAIContexts':Object[_0x5594d1(0x708)](this[_0x5594d1(0xa2e)]),'generativeAIWorkers':Object[_0x5594d1(0x708)](this['generativeAIWorkers']),'vectorDatabases':Object['fromEntries'](this[_0x5594d1(0x783)]),'graphDatabases':Object[_0x5594d1(0x708)](this['graphDatabases']),'externalStorages':Object['fromEntries'](this['externalStorages'])};}[_0xd4b2e(0x63a)](_0x3da9e6){const _0x4a17a6=_0xd4b2e;this[_0x4a17a6(0x965)][_0x4a17a6(0x991)](_0x3da9e6,new _0x4ef827());}['removeRemoteNode'](_0x3ff172){const _0x4fcd08=_0xd4b2e;this[_0x4fcd08(0x965)][_0x4fcd08(0xa2f)](_0x3ff172);}[_0xd4b2e(0xa13)](_0x4c002e,_0x5bae29,_0x47f5b4){const _0x2e0e3b=_0xd4b2e;_0x5bae29 instanceof Array||this[_0x2e0e3b(0x422)](_0x4c002e,_0x5bae29);const _0x4469cc=this[_0x2e0e3b(0x965)][_0x2e0e3b(0x6e6)](_0x4c002e)?.['processReports'](_0x5bae29,_0x47f5b4);_0x4469cc&&this[_0x2e0e3b(0x598)][_0x2e0e3b(0x2b2)]({'sourceId':_0x596898,'messageType':_0x49e311['Stats'],'content':{'type':_0x452eb7[_0x2e0e3b(0x9bf)],'data':{..._0x4469cc,'nodeId':_0x4c002e}}});}[_0xd4b2e(0x98c)](_0x27219d){const _0x499b5a=_0xd4b2e;this['setScheduleTime'](_0x27219d['secheduleTime']),this[_0x499b5a(0x511)](_0x27219d['durationTime']),this[_0x499b5a(0x598)][_0x499b5a(0x2b2)]({'sourceId':_0x596898,'messageType':_0x49e311[_0x499b5a(0xa34)],'content':{'type':_0x452eb7[_0x499b5a(0x639)],'data':{'STVolatility':this['getSTVolatility'](),'DTVolatility':this[_0x499b5a(0x72d)]()}}});}['processServiceReport'](_0xd8f80a,_0x51cefd,_0x4bcb56){const _0x488d46=_0xd4b2e;switch(_0x51cefd){case _0x2b2ef9[_0x488d46(0x1fe)]:this[_0x488d46(0x9c1)][_0x488d46(0x991)](_0xd8f80a,_0x4bcb56);break;case _0x2b2ef9['ObjectStoreStats']:this[_0x488d46(0x5ba)][_0x488d46(0x991)](_0xd8f80a,_0x4bcb56);break;case _0x2b2ef9[_0x488d46(0x609)]:this[_0x488d46(0x760)][_0x488d46(0x991)](_0xd8f80a,_0x4bcb56);break;case _0x2b2ef9[_0x488d46(0x763)]:this[_0x488d46(0xa2e)][_0x488d46(0x991)](_0xd8f80a,_0x4bcb56);break;case _0x2b2ef9[_0x488d46(0x5e2)]:this[_0x488d46(0x85a)][_0x488d46(0x991)](_0xd8f80a,_0x4bcb56);break;case _0x2b2ef9[_0x488d46(0x4a0)]:this[_0x488d46(0x783)]['set'](_0xd8f80a,_0x4bcb56);break;case _0x2b2ef9[_0x488d46(0x1b1)]:this[_0x488d46(0x89c)][_0x488d46(0x991)](_0xd8f80a,_0x4bcb56);break;case _0x2b2ef9[_0x488d46(0x683)]:this[_0x488d46(0x183)]['set'](_0xd8f80a,_0x4bcb56);}}['registerSystemPublisher'](_0x4ea98a){const _0x43e31d=_0xd4b2e;this[_0x43e31d(0x598)]=_0x4ea98a;}[_0xd4b2e(0x738)](){const _0x12a2a1=_0xd4b2e;delete this[_0x12a2a1(0x598)];}['getSTVolatility'](){const _0x1bd880=_0xd4b2e;return this['scheduleTime']>0x0&&this[_0x1bd880(0x2e3)]-_0x42049f>0x0?(this[_0x1bd880(0x2e3)]-_0x42049f)/_0x42049f:0x0;}[_0xd4b2e(0x72d)](){const _0x447d12=_0xd4b2e;return this[_0x447d12(0x76b)]>0x0&&this[_0x447d12(0x76b)]-0x64>0x0?(this[_0x447d12(0x76b)]-0x64)/0x64:0x0;}[_0xd4b2e(0x362)](){const _0x22ea47=_0xd4b2e;let _0x3a1568=0x0;return this[_0x22ea47(0x965)][_0x22ea47(0x7d0)](_0x23b8d9=>{const _0x179fd0=_0x22ea47;_0x3a1568+=_0x23b8d9[_0x179fd0(0x91d)];}),_0x3a1568;}[_0xd4b2e(0x4d2)](){const _0x38bc63=_0xd4b2e;let _0x21f1a0=0x0;return this['nodes'][_0x38bc63(0x7d0)](_0x5b5034=>{const _0x163123=_0x38bc63;_0x21f1a0+=_0x5b5034[_0x163123(0x45f)];}),_0x21f1a0;}[_0xd4b2e(0x4f2)](){const _0x421ae7=_0xd4b2e;let _0x3ff249=0x0;return this[_0x421ae7(0x965)][_0x421ae7(0x7d0)](_0x1d897a=>{const _0x4382f2=_0x421ae7;_0x3ff249+=_0x1d897a[_0x4382f2(0x8f8)];}),_0x3ff249;}[_0xd4b2e(0x97a)](_0x2109a8){this['scheduleTime']=_0x2109a8;}[_0xd4b2e(0x511)](_0x536d28){const _0x43210e=_0xd4b2e;this[_0x43210e(0x76b)]=_0x536d28;}[_0xd4b2e(0x422)](_0xd1e1db,_0x42acad){const _0x4dfbed=_0xd4b2e;switch(_0x42acad[_0x4dfbed(0x998)]){case _0x4172fc[_0x4dfbed(0x2e1)]:this[_0x4dfbed(0x554)](_0xd1e1db,_0x42acad);break;case _0x4172fc[_0x4dfbed(0x655)]:this[_0x4dfbed(0x733)](_0xd1e1db,_0x42acad);}}['processSenderReport'](_0x2efab2,_0x1914f5){const _0x6b8faa=_0xd4b2e;this[_0x6b8faa(0x1e1)][_0x6b8faa(0x991)](_0x2efab2,_0x1914f5[_0x6b8faa(0x75d)]),this[_0x6b8faa(0x850)]['set'](_0x2efab2,_0x1914f5[_0x6b8faa(0x1cc)]);}['processReceiverReport'](_0x31ffc4,_0x4b0357){const _0x88534e=_0xd4b2e;this[_0x88534e(0x1c3)][_0x88534e(0x991)](_0x31ffc4,_0x4b0357[_0x88534e(0x4b5)]),this['receiverTimeProcessing'][_0x88534e(0x991)](_0x31ffc4,_0x4b0357[_0x88534e(0x445)]),this['systemMessages'][_0x88534e(0x991)](_0x31ffc4,_0x4b0357['systemMessages']);}}class _0x17dd68{[_0xd4b2e(0x33f)];[_0xd4b2e(0x52f)]=new Set();[_0xd4b2e(0x4b8)];['statsCollection'];[_0xd4b2e(0x851)];[_0xd4b2e(0x386)]=new _0xa156ed();constructor(_0x2ed0cc){const _0x45899b=_0xd4b2e;this[_0x45899b(0x33f)]=_0x2ed0cc,this[_0x45899b(0x33f)][_0x45899b(0x532)][_0x45899b(0x844)](this[_0x45899b(0x386)]),this['statsCollection']=this['setupStatsCollection'](),this[_0x45899b(0x851)]=this['setupStatsReporting']();}['close'](){const _0x37a246=_0xd4b2e;this[_0x37a246(0x33f)][_0x37a246(0x532)][_0x37a246(0x22e)](this['statsReport']),this[_0x37a246(0x851)](),this[_0x37a246(0x78a)]();}[_0xd4b2e(0x63a)](_0x4313a6){const _0x27de26=_0xd4b2e;this[_0x27de26(0x52f)]['add'](_0x4313a6),this[_0x27de26(0x386)][_0x27de26(0x63a)](_0x4313a6);}['removeRemoteNode'](_0x42a5b2){const _0x173c56=_0xd4b2e;this[_0x173c56(0x52f)][_0x173c56(0xa2f)](_0x42a5b2),this['statsReport'][_0x173c56(0x1a8)](_0x42a5b2);}['handlePeerConnectionSystemEvents'](_0x3b0f15){const _0x1a6be4=_0xd4b2e;if(_0x3b0f15[_0x1a6be4(0x580)][_0x1a6be4(0x747)]===_0x4d0115[_0x1a6be4(0xa34)]){const {nodeId:_0x473af4,streamId:_0x311c84,stats:_0x481452}=_0x3b0f15[_0x1a6be4(0x580)];this['statsReport']['processReports'](_0x473af4,_0x481452,_0x311c84);}}[_0xd4b2e(0xa31)](_0x1e2126){const _0x428f74=_0xd4b2e;switch(_0x1e2126[_0x428f74(0x580)][_0x428f74(0x747)]){case _0x2b2ef9[_0x428f74(0x8b2)]:case _0x2b2ef9[_0x428f74(0x609)]:case _0x2b2ef9[_0x428f74(0x1fe)]:case _0x2b2ef9[_0x428f74(0x763)]:case _0x2b2ef9[_0x428f74(0x5e2)]:case _0x2b2ef9['VectorDatabaseStats']:case _0x2b2ef9['GraphDatabaseStats']:case _0x2b2ef9[_0x428f74(0x683)]:this[_0x428f74(0x386)][_0x428f74(0x252)](_0x1e2126[_0x428f74(0x580)][_0x428f74(0x39a)],_0x1e2126[_0x428f74(0x580)][_0x428f74(0x747)],_0x1e2126[_0x428f74(0x580)][_0x428f74(0x5a9)]);}}[_0xd4b2e(0xa39)](){const _0xc7717a=_0xd4b2e;return _0x1b723a[_0xc7717a(0x40c)](()=>{const _0x25dea8=_0xc7717a,_0x19462d=this[_0x25dea8(0x386)][_0x25dea8(0x70c)]();_0x98a765[_0x25dea8(0x22d)](_0x831a2b[_0x25dea8(0xa34)],'Stats:\x20report',_0x19462d),(0x0,_0x1e7cba[_0x25dea8(0x888)])((0x0,_0x1e7cba[_0x25dea8(0x8d1)])(_0x3a6ba1[_0x25dea8(0x848)](),_0x25dea8(0x780)+this[_0x25dea8(0x33f)]['vendorId']+_0x25dea8(0x412)),{'clusterId':this[_0x25dea8(0x33f)][_0x25dea8(0x6d7)],'nodeId':this[_0x25dea8(0x33f)][_0x25dea8(0x3ff)][_0x25dea8(0x2a6)](),'nodeType':this[_0x25dea8(0x33f)][_0x25dea8(0x3ff)]['type'],'timestamp':(0x0,_0x1e7cba[_0x25dea8(0x794)])(),'report':_0x19462d}),_0x98a765[_0x25dea8(0x1b3)](_0x25dea8(0x5a9),{'clusterId':this[_0x25dea8(0x33f)][_0x25dea8(0x6d7)],'nodeId':this[_0x25dea8(0x33f)]['localNode'][_0x25dea8(0x2a6)](),'nodeType':this[_0x25dea8(0x33f)][_0x25dea8(0x3ff)][_0x25dea8(0x747)],'data':{'report':_0x19462d}});},_0x475754);}['setupStatsCollection'](){const _0x7fa38d=_0xd4b2e;let _0x4fc45b=!0x1,_0x3cf754=Date[_0x7fa38d(0x702)]();return _0x1b723a[_0x7fa38d(0x40c)](async()=>{const _0x7bb218=_0x7fa38d;if(_0x4fc45b)return;if(_0x4fc45b=!0x0,0x0===this['remoteNodes'][_0x7bb218(0x882)])return delete this['nextNodeId'],void(_0x4fc45b=!0x1);const _0x51493e=Date[_0x7bb218(0x702)]();this[_0x7bb218(0x2b3)]();try{await this[_0x7bb218(0x33f)][_0x7bb218(0x532)][_0x7bb218(0x9a4)](this['nextNodeId']);}catch(_0x5362af){}this[_0x7bb218(0x386)][_0x7bb218(0x98c)]({'secheduleTime':_0x51493e-_0x3cf754,'durationTime':Date[_0x7bb218(0x702)]()-_0x51493e}),_0x3cf754=_0x51493e,_0x4fc45b=!0x1;},_0x42049f);}[_0xd4b2e(0x2b3)](){const _0x316e04=_0xd4b2e;let _0xb96ec2,_0x316f8b=!0x1;this[_0x316e04(0x4b8)]&&(this['remoteNodes']['has'](this['nextNodeId'])||delete this[_0x316e04(0x4b8)]);for(const _0x4cd997 of this[_0x316e04(0x52f)])if(_0xb96ec2||(_0xb96ec2=_0x4cd997),this[_0x316e04(0x4b8)]!==_0x4cd997){if(_0x316f8b)return void(this[_0x316e04(0x4b8)]=_0x4cd997);}else _0x316f8b=!0x0,delete this[_0x316e04(0x4b8)];this[_0x316e04(0x4b8)]||(this['nextNodeId']=_0xb96ec2);}}class _0x28db83{['source'];[_0xd4b2e(0x50e)];['systemTopic'];constructor(_0x5b95fa,_0x198f7d){const _0x1589ca=_0xd4b2e;this[_0x1589ca(0x4bf)]=_0x5b95fa,this[_0x1589ca(0x50e)]=_0x198f7d;}[_0xd4b2e(0x14c)](_0xa32d41){const _0x296d54=_0xd4b2e;this[_0x296d54(0x598)]=_0xa32d41;}['unregisterSystemPublisher'](){delete this['systemTopic'];}}class _0x589ba6 extends _0x28db83{['source'];[_0xd4b2e(0x50e)];['params'];constructor(_0x32c5c0,_0x4ffafd,_0x48e62b){const _0x40901d=_0xd4b2e;super(_0x32c5c0,_0x4ffafd),this[_0x40901d(0x4bf)]=_0x32c5c0,this[_0x40901d(0x50e)]=_0x4ffafd,this[_0x40901d(0x44a)]=_0x48e62b;}['subscribe'](_0x2e2a37,_0x13c7c8,_0x16b59f){const _0x356924=_0xd4b2e;if(this[_0x356924(0x50e)]['getContentType']()===_0x29f76b[_0x356924(0x9b8)][_0x356924(0x9cf)]){const _0x2d3fc2={'type':_0x2478e8[_0x356924(0x6a5)],'label':this[_0x356924(0x50e)][_0x356924(0x255)](),'ownerId':_0x2e2a37,'trackKinds':_0x13c7c8??this[_0x356924(0x50e)][_0x356924(0x5cc)](),'params':_0x16b59f};this['systemTopic'][_0x356924(0x2b2)]({'sourceId':this[_0x356924(0x4bf)][_0x356924(0x864)](),'destinationIds':[this[_0x356924(0x4bf)]['getRemoteId']()],'messageType':_0x49e311['Subscription'],'content':_0x2d3fc2}),this['params']=_0x16b59f;}}[_0xd4b2e(0x3bf)](_0x715d94,_0x60770){const _0x3e1779=_0xd4b2e;if(this[_0x3e1779(0x50e)]['getContentType']()===_0x29f76b['ContentType'][_0x3e1779(0x9cf)]){const _0x5c1bfc={'type':_0x2478e8[_0x3e1779(0x7ab)],'label':this['destination']['getLabel'](),'ownerId':_0x715d94,'params':_0x60770};this[_0x3e1779(0x598)][_0x3e1779(0x2b2)]({'sourceId':this[_0x3e1779(0x4bf)][_0x3e1779(0x864)](),'destinationIds':[this[_0x3e1779(0x4bf)]['getRemoteId']()],'messageType':_0x49e311['Subscription'],'content':_0x5c1bfc}),this['params']=_0x60770;}}[_0xd4b2e(0x37a)](_0x8ae701,_0x15c234,_0xd8eadc){const _0x339414=_0xd4b2e;if(this[_0x339414(0x50e)][_0x339414(0x161)]()===_0x29f76b['ContentType'][_0x339414(0x9cf)]){const _0xd878d3={'type':_0x2478e8[_0x339414(0x208)],'label':this[_0x339414(0x50e)][_0x339414(0x255)](),'ownerId':_0x8ae701,'trackKinds':_0xd8eadc??this[_0x339414(0x50e)][_0x339414(0x5cc)](),'remainingTracks':_0x15c234};this[_0x339414(0x598)]['publish']({'sourceId':this[_0x339414(0x4bf)][_0x339414(0x864)](),'destinationIds':[this[_0x339414(0x4bf)]['getRemoteId']()],'messageType':_0x49e311[_0x339414(0x67e)],'content':_0xd878d3});}}}class _0x4848eb{['currentDistance'];['maxDistance'];[_0xd4b2e(0x8c1)];['systemTopic'];[_0xd4b2e(0x5a3)]=new Set();[_0xd4b2e(0x333)]=Date[_0xd4b2e(0x702)]();[_0xd4b2e(0x44a)];[_0xd4b2e(0x520)]=0x0;constructor(_0x5775a2,_0x2d1486,_0xff1a9c,_0x4f7ad5){const _0x4b3303=_0xd4b2e;this[_0x4b3303(0x246)]=_0x2d1486,this[_0x4b3303(0x371)]=_0xff1a9c,this[_0x4b3303(0x8c1)]=_0x4f7ad5,_0x5775a2[_0x4b3303(0x7d0)](_0x52739a=>{const _0x5158a2=_0x4b3303;this['answers'][_0x5158a2(0x4bd)]({'nodeId':_0x52739a,'type':_0x4e952f['Waiting']});});}[_0xd4b2e(0xa7f)](){const _0x5d3c5e=_0xd4b2e;return this[_0x5d3c5e(0x8c1)];}['registerSystemPublisher'](_0x575d9e){const _0x58525a=_0xd4b2e;this[_0x58525a(0x598)]=_0x575d9e;}['unregisterSystemPublisher'](){delete this['systemTopic'];}[_0xd4b2e(0x5f1)](_0x1400c6,_0x5c0107){const _0x2df5ed=_0xd4b2e;this[_0x2df5ed(0x333)]=Date[_0x2df5ed(0x702)](),this[_0x2df5ed(0x5a3)][_0x2df5ed(0x1b8)](),_0x1400c6[_0x2df5ed(0x7d0)](_0x3e8a81=>{const _0x909cb5=_0x2df5ed;this[_0x909cb5(0x5a3)][_0x909cb5(0x4bd)]({'nodeId':_0x3e8a81,'type':_0x4e952f['Waiting']});}),this[_0x2df5ed(0x520)]+=0x1,this[_0x2df5ed(0x246)]=_0x5c0107;}[_0xd4b2e(0xa65)](_0x19aa95,_0x4400a6,_0x1c4d06,_0x515083,_0x21b684){const _0x35d49=_0xd4b2e;if(this['retryCount']>0xa)throw new _0x1cac69(_0x1cac69[_0x35d49(0x15e)][_0x35d49(0x606)],{'answers':Array[_0x35d49(0x35c)](this['answers'])['map'](_0x2f078f=>({'nodeId':_0x2f078f['nodeId'],'type':_0x2f078f['type']}))});const _0x5880fd=Array['from'](this['answers'])['map'](_0x1e2911=>_0x1e2911[_0x35d49(0x166)]);this[_0x35d49(0x44a)]=_0x21b684,this[_0x35d49(0x598)]['publish']({'sourceId':_0x19aa95,'destinationIds':_0x5880fd,'messageType':_0x49e311['Subscription'],'content':{'type':_0x2478e8[_0x35d49(0x478)],'label':_0x1c4d06,'ownerId':_0x4400a6,'trackKinds':_0x515083,'params':_0x21b684}}),_0x98a765['log'](_0x831a2b[_0x35d49(0x67e)],'Send\x20request',_0x19aa95,_0x5880fd);}['handleSubscriptionSystemEvents'](_0x7374ed,_0x41863f){const _0x3f80fb=_0xd4b2e;switch(_0x41863f[_0x3f80fb(0x747)]){case _0x2478e8[_0x3f80fb(0x5c9)]:{const _0x45d112=this['currentDistance']>=_0x41863f[_0x3f80fb(0x5e5)]&&_0x41863f[_0x3f80fb(0x5e5)]<=this[_0x3f80fb(0x371)],_0x65a37f=Array[_0x3f80fb(0x35c)](this[_0x3f80fb(0x5a3)])[_0x3f80fb(0x91c)](_0x13481f=>_0x13481f[_0x3f80fb(0x166)]===_0x7374ed);_0x65a37f[_0x3f80fb(0x747)]=_0x45d112?_0x4e952f[_0x3f80fb(0x3ec)]:_0x4e952f[_0x3f80fb(0x9de)],_0x65a37f[_0x3f80fb(0x182)]=_0x41863f[_0x3f80fb(0x182)],_0x65a37f[_0x3f80fb(0x5e5)]=_0x41863f[_0x3f80fb(0x5e5)],_0x65a37f['streamId']=_0x41863f[_0x3f80fb(0x34e)],_0x65a37f[_0x3f80fb(0x3a0)]=Date[_0x3f80fb(0x702)]()-this['startTime'],_0x65a37f[_0x3f80fb(0x44a)]=this[_0x3f80fb(0x44a)],_0x65a37f[_0x3f80fb(0x8d8)]=_0x41863f[_0x3f80fb(0x8d8)],_0x65a37f[_0x3f80fb(0x8cd)]=_0x41863f[_0x3f80fb(0x8cd)],_0x65a37f[_0x3f80fb(0x6ba)]=_0x41863f['label'],_0x98a765[_0x3f80fb(0x22d)](_0x831a2b[_0x3f80fb(0x67e)],(_0x45d112?_0x3f80fb(0x3ec):'Rejected')+_0x3f80fb(0x3f6),_0x65a37f);break;}case _0x2478e8[_0x3f80fb(0xa28)]:{const _0x3787a9=Array['from'](this[_0x3f80fb(0x5a3)])['find'](_0x28fdb5=>_0x28fdb5[_0x3f80fb(0x166)]===_0x7374ed);_0x3787a9[_0x3f80fb(0x747)]=_0x4e952f[_0x3f80fb(0x9de)],_0x98a765['log'](_0x831a2b[_0x3f80fb(0x67e)],_0x3f80fb(0x8d7),_0x3787a9);break;}}if(this[_0x3f80fb(0x143)]())return this['chooseAnswer']();}['chooseAnswer'](){const _0x254c5f=_0xd4b2e,_0xd517c=Array[_0x254c5f(0x35c)](this[_0x254c5f(0x5a3)])[_0x254c5f(0x893)](_0x26d3bb=>_0x26d3bb[_0x254c5f(0x747)]===_0x4e952f['Accepted'])[_0x254c5f(0x63d)]((_0x1c76df,_0x5a12d6)=>_0x1c76df[_0x254c5f(0x182)]===_0x5a12d6['cost']?_0x1c76df[_0x254c5f(0x3a0)]-_0x5a12d6[_0x254c5f(0x3a0)]:_0x1c76df[_0x254c5f(0x182)]-_0x5a12d6['cost']);if(0x0===_0xd517c[_0x254c5f(0x9b4)])throw new _0x1cac69(_0x1cac69[_0x254c5f(0x15e)][_0x254c5f(0x606)],{'answers':Array['from'](this[_0x254c5f(0x5a3)])[_0x254c5f(0x7da)](_0x4f81b1=>({'nodeId':_0x4f81b1['nodeId'],'type':_0x4f81b1[_0x254c5f(0x747)]}))});return _0x98a765[_0x254c5f(0x22d)](_0x831a2b['Subscription'],_0x254c5f(0x324),_0xd517c[0x0],this[_0x254c5f(0x5a3)]),_0xd517c[0x0];}[_0xd4b2e(0x143)](){const _0x1a3230=_0xd4b2e;for(const _0x1ab9d3 of this[_0x1a3230(0x5a3)])if(_0x1ab9d3['type']===_0x4e952f[_0x1a3230(0x484)])return!0x1;return!0x0;}}class _0x33dfa4{[_0xd4b2e(0x39a)];[_0xd4b2e(0x1e8)];['listener']=_0xfb027c();constructor(_0x4a4236,_0x247f7a){const _0x50baf6=_0xd4b2e;this[_0x50baf6(0x39a)]=_0x4a4236,this[_0x50baf6(0x1e8)]=_0x247f7a;}[_0xd4b2e(0x255)](){const _0x5a9f0d=_0xd4b2e;return this[_0x5a9f0d(0x39a)];}[_0xd4b2e(0x161)](){return this['contentType'];}[_0xd4b2e(0x827)](_0x1f09cf){const _0x1f3464=_0xd4b2e;_0x1f09cf[_0x1f3464(0x66f)](this);}[_0xd4b2e(0x1f1)](_0x52efe9){const _0xe0f31f=_0xd4b2e;_0x52efe9[_0xe0f31f(0x89e)](this);}['publish'](_0x543742){const _0x3ac1cf=_0xd4b2e;this['listener'][_0x3ac1cf(0x2b2)]({'topicLabel':this[_0x3ac1cf(0x39a)],'contentType':this['contentType'],'uuid':(0x0,_0x1cf016['v4'])(),'recipients':[],..._0x543742});}[_0xd4b2e(0x696)](_0x3c14ca){const _0x514d9f=_0xd4b2e;return this[_0x514d9f(0x251)]['subscribe'](_0x3c14ca);}[_0xd4b2e(0x5c3)](_0x1b9ee3){_0x1b9ee3['unregisterPublisher'](this);}['unregisterDestination'](_0x2a41de){const _0x8f183c=_0xd4b2e;_0x2a41de[_0x8f183c(0x35f)](this);}}class _0x2e4818{[_0xd4b2e(0x55c)]={'topics':new Map(),'subscriptions':new Map()};[_0xd4b2e(0x7b8)];constructor(_0x4a426f){const _0x9c04ca=_0xd4b2e;this[_0x9c04ca(0x7b8)]=_0x4a426f;}get[_0xd4b2e(0xa16)](){const _0x34aa45=_0xd4b2e;return this['maps'][_0x34aa45(0xa16)];}get[_0xd4b2e(0xa7b)](){const _0xea50b1=_0xd4b2e;return this[_0xea50b1(0x55c)][_0xea50b1(0xa7b)];}['createSubscription'](_0x151fad,_0xe3a65a){const _0x2cffd1=_0xd4b2e,_0x28d35c=this['getPartsFromSubscription'](_0xe3a65a),_0x57848b=_0x5ac0e3(_0x151fad);if(!_0x28d35c[_0x2cffd1(0x826)])throw new _0x1cac69(_0x1cac69[_0x2cffd1(0x15e)][_0x2cffd1(0x2ad)],{'message':_0x57848b+':\x20'+_0x28d35c['remoteId']+_0x2cffd1(0x863)+_0x28d35c['contentType'],'subscriptionType':_0x151fad,'subscription':_0xe3a65a,'subscriptonParts':_0x28d35c});const _0x4ee9b0=_0x288067(_0x151fad,_0x28d35c);if(this[_0x2cffd1(0x55c)][_0x2cffd1(0xa16)][_0x2cffd1(0x8e9)](_0x4ee9b0))throw new _0x1cac69(_0x1cac69[_0x2cffd1(0x15e)][_0x2cffd1(0x2ad)],{'message':_0x57848b+':\x20'+_0x4ee9b0+'\x20already\x20exists','subscriptionType':_0x151fad,'subscription':_0xe3a65a,'subscriptonParts':_0x28d35c});this['maps'][_0x2cffd1(0xa16)][_0x2cffd1(0x991)](_0x4ee9b0,_0xe3a65a),this[_0x2cffd1(0x6eb)](_0x28d35c,_0xe3a65a);}[_0xd4b2e(0x74b)](_0x223aa1,_0x7de5fa){const _0x3df9b4=_0xd4b2e,_0x4969c1=_0x288067(_0x7de5fa,_0x223aa1),_0x19098e=this[_0x3df9b4(0x55c)][_0x3df9b4(0xa16)][_0x3df9b4(0x6e6)](_0x4969c1);if(!_0x19098e)throw new _0x1cac69(_0x1cac69[_0x3df9b4(0x15e)][_0x3df9b4(0x2ad)],{'message':_0x5ac0e3(_0x7de5fa)+':\x20'+_0x4969c1+_0x3df9b4(0x3e7),'subscriptionType':_0x7de5fa,'subscription':_0x19098e,'subscriptonParts':_0x223aa1});this['closeSubscription'](_0x19098e,_0x4969c1,_0x223aa1);}['closeSubscription'](_0x3b7d8b,_0x42bd7b,_0x13a386){const _0x7f5f0c=_0xd4b2e;_0x13a386=_0x13a386||this[_0x7f5f0c(0x7b8)](_0x3b7d8b),this[_0x7f5f0c(0x55c)][_0x7f5f0c(0xa16)][_0x7f5f0c(0xa2f)](_0x42bd7b),this[_0x7f5f0c(0x68a)](_0x13a386,_0x3b7d8b);}[_0xd4b2e(0x6eb)](_0x26213e,{source:_0x3520fd,destination:_0x3c1450}){const _0x79ed5f=_0xd4b2e,{contentType:_0x126855,label:_0x3f5857,remoteId:_0xe719fc}=_0x26213e,_0x21d7de=_0x3f330b(_0x126855,_0x3f5857,_0xe719fc),_0x228d48=new _0x33dfa4(_0x21d7de,_0x126855);_0x228d48[_0x79ed5f(0x827)](_0x3520fd),_0x228d48['registerDestination'](_0x3c1450),this[_0x79ed5f(0x55c)][_0x79ed5f(0xa7b)][_0x79ed5f(0x991)](_0x228d48[_0x79ed5f(0x255)](),_0x228d48);}['removeTopic'](_0x5c0545,_0x317f0f){const _0x30b8c8=_0xd4b2e,{contentType:_0x7170c1,label:_0x3ae5c2,remoteId:_0x1299c6}=_0x5c0545,_0x2cbae6=_0x3f330b(_0x7170c1,_0x3ae5c2,_0x1299c6),_0x1b43b2=this[_0x30b8c8(0x55c)][_0x30b8c8(0xa7b)][_0x30b8c8(0x6e6)](_0x2cbae6);_0x1b43b2&&(this[_0x30b8c8(0x71f)](_0x1b43b2,_0x317f0f),this['maps']['topics']['delete'](_0x2cbae6));}[_0xd4b2e(0x71f)](_0x11ac9b,{source:_0x443b7c,destination:_0x111e87}){const _0x405b80=_0xd4b2e;_0x11ac9b[_0x405b80(0x5c3)](_0x443b7c),_0x11ac9b[_0x405b80(0x346)](_0x111e87);}[_0xd4b2e(0x264)](_0x18f9e0){const _0x18efa4=_0xd4b2e;this[_0x18efa4(0x55c)][_0x18efa4(0xa16)]['forEach']((_0x2bed77,_0x1c88b3)=>{const _0x32939e=_0x18efa4;_0x1c88b3['endsWith'](_0x18f9e0)&&this[_0x32939e(0x399)](_0x2bed77,_0x1c88b3);});}}class _0x4ff76d{[_0xd4b2e(0x33f)];[_0xd4b2e(0x371)];['subscriptionRequests']=new Map();['subscriptionRequestsQueue']=_0x1cc979(new _0x329b2f(this[_0xd4b2e(0x9b6)][_0xd4b2e(0x536)](this),()=>_0x1b723a[_0xd4b2e(0x51b)](0x64)),!0x0);[_0xd4b2e(0x5bc)]=new Map();[_0xd4b2e(0x55c)];[_0xd4b2e(0x6ce)]=new Map();constructor(_0x29a66a,_0x46afd5){const _0xebf4c1=_0xd4b2e;this[_0xebf4c1(0x33f)]=_0x29a66a,this[_0xebf4c1(0x371)]=_0x46afd5,this[_0xebf4c1(0x55c)]=new _0x2e4818(({source:_0x315a38,destination:_0xa4daef})=>_0x2443bd(_0xa4daef,_0x315a38));}['createSubscription'](_0x12f688,_0x1b7a90){const _0x2c3085=_0xd4b2e,_0x3c39ff=this[_0x2c3085(0x1f5)](_0x12f688)&&this[_0x2c3085(0x92d)](_0x1b7a90)?new _0x589ba6(_0x12f688,_0x1b7a90):new _0x28db83(_0x12f688,_0x1b7a90);this['maps'][_0x2c3085(0x234)](_0x1bc461[_0x2c3085(0x999)],_0x3c39ff),this[_0x2c3085(0x33f)][_0x2c3085(0x532)][_0x2c3085(0x844)](_0x3c39ff);}['removeSubscription'](_0x1470a5,_0x460680,_0x51dbd3=''){const _0xff23d3=_0xd4b2e,_0x2af550={'contentType':_0x460680,'label':_0x1470a5,'remoteId':_0x51dbd3},_0x1daf1d=_0x288067(_0x1bc461['Incoming'],_0x2af550),_0xbd651f=this[_0xff23d3(0x55c)][_0xff23d3(0xa16)][_0xff23d3(0x6e6)](_0x1daf1d);_0xbd651f&&this['closeSubscription'](_0xbd651f,_0x1daf1d);}[_0xd4b2e(0x729)](_0x5171ac){const _0x4a5b13=_0xd4b2e;this[_0x4a5b13(0x2f3)](_0x5171ac);}[_0xd4b2e(0x1e9)]({label:_0xdf177f,ownerId:_0x2926c0,trackKinds:_0x68d739,params:_0x4dea81}){const _0x491c9a=_0xd4b2e;this[_0x491c9a(0xa5f)](_0xdf177f,_0x2926c0,_0x68d739,_0x4dea81);}['handleContentUpdateMediaStream']({ownerId:_0x179e5b,label:_0x5cf9cb,params:_0x324be6}){const _0x4e8961=_0xd4b2e,{subscriptionLabel:_0x329a60}=this[_0x4e8961(0x513)](_0x5cf9cb,_0x179e5b),_0x5f4e17=this[_0x4e8961(0x7d5)](_0x329a60);_0x5f4e17&&_0x5f4e17[_0x4e8961(0x3bf)](_0x179e5b,_0x324be6);}['handleContentUnsubscribeMediaStream']({ownerId:_0x4a9cb1,label:_0x4b1945,trackKinds:_0x2eacb7,remainingTracks:_0x1f3dd6}){const _0x21b07a=_0xd4b2e,_0x30fe1c=_0x288067(_0x1bc461['Incoming'],{'contentType':_0x29f76b[_0x21b07a(0x9b8)][_0x21b07a(0x9cf)],'label':_0x4b1945,'remoteId':_0x4a9cb1});this[_0x21b07a(0x319)](_0x30fe1c);const _0x4d95f6=this[_0x21b07a(0x192)]['get'](_0x30fe1c);_0x4d95f6&&(this[_0x21b07a(0x33f)][_0x21b07a(0x532)][_0x21b07a(0x22e)](_0x4d95f6),this[_0x21b07a(0x192)][_0x21b07a(0xa2f)](_0x30fe1c));const {parts:_0x15bf6d,subscriptionLabel:_0x3ca6fb}=this[_0x21b07a(0x513)](_0x4b1945,_0x4a9cb1),_0x3dd2bd=this[_0x21b07a(0x7d5)](_0x3ca6fb);_0x3dd2bd&&(_0x3dd2bd[_0x21b07a(0x37a)](_0x4a9cb1,_0x1f3dd6,_0x2eacb7),0x0===_0x1f3dd6&&this['removeSubscription'](_0x15bf6d[_0x21b07a(0x39a)],_0x15bf6d[_0x21b07a(0x1e8)],_0x15bf6d[_0x21b07a(0x875)]));}['handleSubscriptionRestartNeedMediaStream'](_0x53ac8d,{label:_0xb16305,ownerId:_0x40de0f,trackKinds:_0x547825,streamId:_0x42cdde,params:_0x3557f5}){const _0x480009=_0xd4b2e,_0x4dbf0d=_0x288067(_0x1bc461[_0x480009(0x999)],{'contentType':_0x29f76b[_0x480009(0x9b8)]['Media'],'label':_0x42cdde,'remoteId':_0x53ac8d}),_0xf41cda=this[_0x480009(0x55c)][_0x480009(0xa16)][_0x480009(0x6e6)](_0x4dbf0d);if(!(_0xf41cda&&_0xf41cda instanceof _0x589ba6))throw new _0x1cac69(_0x1cac69[_0x480009(0x15e)]['SubscriptionRequestDoesNotExist'],{'label':_0x4dbf0d,'ownerId':_0x40de0f});this[_0x480009(0x399)](_0xf41cda,_0x4dbf0d),this[_0x480009(0xa5f)](_0xb16305,_0x40de0f,_0x547825,_0x3557f5);}['handleSubscriptionProvideMediaStream'](_0x22fb5d,_0x70e647){const _0x4d21e7=_0xd4b2e,{label:_0x3f637b,ownerId:_0x55693b,trackKinds:_0x2d8562,params:_0x584cfe}=_0x70e647,_0x4fd13b=_0x288067(_0x1bc461['Incoming'],{'contentType':_0x29f76b[_0x4d21e7(0x9b8)]['Media'],'label':_0x3f637b,'remoteId':_0x55693b});if(!this[_0x4d21e7(0x192)][_0x4d21e7(0x8e9)](_0x4fd13b))throw new _0x1cac69(_0x1cac69[_0x4d21e7(0x15e)][_0x4d21e7(0x87e)],{'label':_0x4fd13b,'ownerId':_0x55693b,'streamId':_0x70e647['streamId'],'requests':this[_0x4d21e7(0x192)]});const _0x29c759=this['subscriptionRequests'][_0x4d21e7(0x6e6)](_0x4fd13b);if(_0x2d8562['length']===_0x29c759[_0x4d21e7(0xa7f)]()[_0x4d21e7(0x9b4)]&&_0x2d8562[_0x4d21e7(0x6a8)](_0xff6d11=>_0x29c759[_0x4d21e7(0xa7f)]()['includes'](_0xff6d11)))try{const _0xbbe409=_0x29c759['handleSubscriptionSystemEvents'](_0x22fb5d,_0x70e647);if(!_0xbbe409)return;this['subscribe'](_0xbbe409,_0x55693b,_0x3f637b,_0x4fd13b,_0x2d8562);}catch(_0x71cc29){return void this[_0x4d21e7(0x9c2)](_0x3f637b,_0x55693b,_0x2d8562,_0x584cfe);}}[_0xd4b2e(0x899)](_0x35c6e1,{label:_0x54799b,ownerId:_0x4c5cc0,trackKinds:_0x5d8a7e}){const _0x1ffbe7=_0xd4b2e,_0x1887d7=this[_0x1ffbe7(0x33f)][_0x1ffbe7(0x532)][_0x1ffbe7(0x9b7)](_0x4c5cc0,_0x54799b);if(!_0x1887d7)return;const _0x279813=_0x1887d7[_0x1ffbe7(0x819)](),_0x13f00d=_0x1887d7[_0x1ffbe7(0x5fb)]();_0x13f00d[_0x1ffbe7(0x403)](_0x3fd17c=>_0x5d8a7e[_0x1ffbe7(0x29c)](_0x3fd17c))&&this[_0x1ffbe7(0x6ab)](_0x35c6e1,_0x54799b,_0x279813,_0x4c5cc0,_0x13f00d);}['handleContentRemoteMediaStreamTrackFail']({label:_0x1cf83a,providerId:_0x1f3188,ownerId:_0x38e719,streamId:_0x107715,trackKinds:_0x968337}){const _0x41d984=_0xd4b2e;this[_0x41d984(0x6ab)](_0x1f3188,_0x1cf83a,_0x107715,_0x38e719,_0x968337);}[_0xd4b2e(0x9af)](_0x4c1878){const _0x4655d5=_0xd4b2e;for(const _0xc5dd0c of this['chosenAnswers'][_0x4655d5(0x75b)]()){const {streamLabel:_0xf7753a,ownerId:_0x362536,trackKinds:_0x2ea316,params:_0xf86fd8}=_0xc5dd0c;if(!_0x362536||!_0x2ea316||!_0xf7753a)return;this[_0x4655d5(0x578)]['push']({'label':_0xf7753a,'ownerId':_0x362536,'trackKinds':_0x2ea316,'params':_0xf86fd8,'remoteId':_0x4c1878});}}[_0xd4b2e(0x264)](_0xf77e05){const _0x3eb243=_0xd4b2e;this[_0x3eb243(0x55c)]['subscriptions'][_0x3eb243(0x7d0)]((_0x3715f3,_0x42e598)=>{const _0x3b4567=_0x3eb243;if(_0x42e598['endsWith'](_0xf77e05)){if(_0x3715f3[_0x3b4567(0x50e)][_0x3b4567(0x161)]()===_0x29f76b['ContentType'][_0x3b4567(0x9cf)]){const _0x113906=_0x3715f3[_0x3b4567(0x50e)];if(_0x113906['getSubscribedTracks']()[_0x3b4567(0x9b4)]>0x0){const _0x249aba={'type':_0x2478e8[_0x3b4567(0x612)],'label':_0x113906[_0x3b4567(0x255)](),'ownerId':_0x113906[_0x3b4567(0x4da)](),'trackKinds':_0x113906[_0x3b4567(0x5fb)]()};return void this[_0x3b4567(0x899)](_0xf77e05,_0x249aba);}}this[_0x3b4567(0x399)](_0x3715f3,_0x42e598);}});}[_0xd4b2e(0x27e)](){const _0x2e9339=_0xd4b2e;this[_0x2e9339(0x55c)][_0x2e9339(0xa16)][_0x2e9339(0x7d0)](this[_0x2e9339(0x399)]['bind'](this));}[_0xd4b2e(0x696)](_0x21f35f,_0x35ea52,_0x127ecc,_0x5461b6,_0x486b69){const _0x5f3313=_0xd4b2e,_0x3ac05f=this['configs'][_0x5f3313(0x532)][_0x5f3313(0x6bd)](_0x21f35f[_0x5f3313(0x166)]),_0xdcf485=this['configs'][_0x5f3313(0x532)][_0x5f3313(0x9b7)](_0x35ea52,_0x127ecc);this[_0x5f3313(0x319)](_0x5461b6),this[_0x5f3313(0x192)]['has'](_0x5461b6)&&(this[_0x5f3313(0x33f)][_0x5f3313(0x532)]['unregisterSystemSource'](this[_0x5f3313(0x192)][_0x5f3313(0x6e6)](_0x5461b6)),this[_0x5f3313(0x192)]['delete'](_0x5461b6)),this[_0x5f3313(0xa77)](_0x21f35f,_0x35ea52,_0x127ecc,_0xdcf485),_0xdcf485[_0x5f3313(0x6db)](_0x21f35f[_0x5f3313(0x34e)]),_0xdcf485[_0x5f3313(0x889)](_0x21f35f[_0x5f3313(0x166)]);const _0x5de688=_0x2443bd(_0xdcf485,_0x3ac05f),_0x478099=_0x288067(_0x1bc461[_0x5f3313(0x999)],_0x5de688);this[_0x5f3313(0x55c)]['subscriptions'][_0x5f3313(0x8e9)](_0x478099)||this['createSubscription'](_0x3ac05f,_0xdcf485);const _0x4247dd=this[_0x5f3313(0x55c)][_0x5f3313(0xa16)][_0x5f3313(0x6e6)](_0x478099);if(!(_0x4247dd&&_0x4247dd instanceof _0x589ba6))throw new _0x1cac69(_0x1cac69[_0x5f3313(0x15e)][_0x5f3313(0x87e)],{'label':_0x5461b6,'ownerId':_0x35ea52});_0x98a765[_0x5f3313(0x1b3)](_0x5f3313(0x145),{'clusterId':this[_0x5f3313(0x33f)]['clusterId'],'nodeId':this['configs'][_0x5f3313(0x3ff)][_0x5f3313(0x2a6)](),'nodeType':this['configs'][_0x5f3313(0x3ff)][_0x5f3313(0x747)],'data':{'subscriptionLabel':_0x478099,'chosenAnswer':_0x21f35f}}),this['chosenAnswers']['set'](_0x478099,_0x21f35f),_0x4247dd['subscribe'](_0x35ea52,_0x486b69,_0x21f35f[_0x5f3313(0x44a)]);}[_0xd4b2e(0x2f3)]({ownerId:_0x39253d,label:_0x22a728}){const _0x461596=_0xd4b2e,_0x2be646=this[_0x461596(0x33f)]['mediator'][_0x461596(0x9b7)](_0x39253d,_0x22a728),[_0x49341d,_0x581a31]=Array['from'](this[_0x461596(0x55c)][_0x461596(0xa16)][_0x461596(0x63e)]())['find'](([_0x5a3060,_0x85ec6b])=>-0x1!==_0x5a3060['indexOf'](_0x2be646[_0x461596(0x819)]()));return this[_0x461596(0x399)](_0x581a31,_0x49341d);}['closeSubscription'](_0x23b462,_0x41a6f0){const _0x44fe7f=_0xd4b2e;this[_0x44fe7f(0x33f)][_0x44fe7f(0x532)][_0x44fe7f(0x22e)](_0x23b462),this[_0x44fe7f(0x55c)][_0x44fe7f(0x399)](_0x23b462,_0x41a6f0);}[_0xd4b2e(0x1f5)](_0x3c0e53){const _0x4a7741=_0xd4b2e;return _0x3c0e53[_0x4a7741(0x9cd)]()[_0x4a7741(0x29c)](_0x29f76b[_0x4a7741(0x9b8)][_0x4a7741(0x9cf)]);}[_0xd4b2e(0x92d)](_0x56c95b){const _0xb35321=_0xd4b2e;return _0x56c95b[_0xb35321(0x161)]()===_0x29f76b[_0xb35321(0x9b8)][_0xb35321(0x9cf)];}async[_0xd4b2e(0x9c2)](_0x533061,_0x48ff82,_0x2eccff,_0x3eda91){const _0x2825a6=_0xd4b2e;await _0x1b723a[_0x2825a6(0x51b)](0x3e8);const _0x306691=_0x288067(_0x1bc461[_0x2825a6(0x999)],{'contentType':_0x29f76b[_0x2825a6(0x9b8)][_0x2825a6(0x9cf)],'label':_0x533061,'remoteId':_0x48ff82});this[_0x2825a6(0x319)](_0x306691);const _0x360510=this['subscriptionRequests'][_0x2825a6(0x6e6)](_0x306691);if(!_0x360510)throw new _0x1cac69(_0x1cac69['codes'][_0x2825a6(0x87e)],{'label':_0x306691,'ownerId':_0x48ff82});const _0x29281e=this[_0x2825a6(0x33f)][_0x2825a6(0x532)][_0x2825a6(0x6a3)](_0xa0d1fc=>_0xa0d1fc[_0x2825a6(0x4ea)]()),_0x5705cb=this[_0x2825a6(0x33f)]['mediator'][_0x2825a6(0x2ce)](this[_0x2825a6(0x33f)][_0x2825a6(0x3ff)]['getId'](),_0x48ff82);_0x360510['reset'](_0x29281e['map'](_0x549476=>_0x549476[_0x2825a6(0x7e3)]()),_0x5705cb);try{_0x360510[_0x2825a6(0xa65)](this[_0x2825a6(0x33f)][_0x2825a6(0x3ff)]['getId'](),_0x48ff82,_0x533061,_0x2eccff,_0x3eda91),this[_0x2825a6(0x56e)](_0x533061,_0x48ff82,_0x2eccff,_0x3eda91,_0x306691,_0x360510);}catch(_0x12ee69){this[_0x2825a6(0x578)][_0x2825a6(0x55a)]({'label':_0x533061,'ownerId':_0x48ff82,'trackKinds':_0x2eccff,'params':_0x3eda91});}}[_0xd4b2e(0xa5f)](_0x993863,_0x36a564,_0x33a02b,_0x10cfe0){this['subscriptionRequestsQueue']['push']({'label':_0x993863,'ownerId':_0x36a564,'trackKinds':_0x33a02b,'params':_0x10cfe0});}['requestSubscriptionAction']({label:_0xcf63a6,ownerId:_0x584566,trackKinds:_0x48b03c,params:_0x54eae3,remoteId:_0x13736b}){const _0x4306ca=_0xd4b2e;if(!this[_0x4306ca(0x33f)][_0x4306ca(0x532)][_0x4306ca(0x9b7)](_0x584566,_0xcf63a6))return;if(!this['configs']['mediator'][_0x4306ca(0x680)]()[_0x4306ca(0x2f2)]())throw new Error('Local\x20node\x20rank\x20is\x20not\x20set');if(_0x13736b){const _0x15f470=this[_0x4306ca(0x33f)]['mediator']['getRemoteNodes']()[_0x4306ca(0x91c)](_0x31dac4=>_0x31dac4[_0x4306ca(0x2a6)]()===_0x13736b),_0x5d32c1=_0x15f470?.[_0x4306ca(0x2f2)]();if(!_0x15f470||!_0x5d32c1)throw new Error(_0x4306ca(0x693));const _0x8f4416=this[_0x4306ca(0x33f)][_0x4306ca(0x532)][_0x4306ca(0xa59)]()[_0x4306ca(0x91c)](_0x463b87=>_0x463b87[_0x4306ca(0x2a6)]()===_0x584566),_0x556e39=_0x8f4416?.[_0x4306ca(0x2f2)]();if(!_0x8f4416||!_0x556e39)throw new Error(_0x4306ca(0x755));const _0x54b0cc=this[_0x4306ca(0x6ce)][_0x4306ca(0x6e6)](_0xcf63a6);if(_0x54b0cc){const _0x49f25e=this[_0x4306ca(0x33f)]['mediator'][_0x4306ca(0xa59)]()[_0x4306ca(0x91c)](_0x1a88cf=>_0x1a88cf[_0x4306ca(0x2a6)]()===_0x54b0cc[_0x4306ca(0x166)]),_0x37ff86=_0x49f25e?.[_0x4306ca(0x2f2)]();if(!_0x49f25e||!_0x37ff86)throw new Error(_0x4306ca(0x7ad));if(Math[_0x4306ca(0x36f)](_0x37ff86-_0x556e39)<Math[_0x4306ca(0x36f)](_0x5d32c1-_0x556e39))return;}}const _0x192c8f=this['configs'][_0x4306ca(0x532)][_0x4306ca(0x6a3)](_0x808e76=>_0x808e76['isConnected']()&&(!_0x13736b||_0x808e76['getRemoteId']()===_0x13736b));if(!_0x192c8f[_0x4306ca(0x9b4)]||0x0===_0x192c8f[_0x4306ca(0x9b4)])throw new Error(_0x4306ca(0x64d));const _0x197070=this[_0x4306ca(0x33f)][_0x4306ca(0x532)][_0x4306ca(0x2ce)](this[_0x4306ca(0x33f)][_0x4306ca(0x3ff)]['getId'](),_0x584566),_0x226573=_0x288067(_0x1bc461[_0x4306ca(0x999)],{'contentType':_0x29f76b[_0x4306ca(0x9b8)][_0x4306ca(0x9cf)],'label':_0xcf63a6,'remoteId':_0x584566});if(this[_0x4306ca(0x192)]['has'](_0x226573)){if(_0x13736b)throw new Error('We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set');const _0x6e6ab5=this['subscriptionRequests'][_0x4306ca(0x6e6)](_0x226573)[_0x4306ca(0xa7f)]();if(_0x6e6ab5[_0x4306ca(0x9b4)]===_0x48b03c[_0x4306ca(0x9b4)]&&_0x6e6ab5[_0x4306ca(0x6a8)](_0x55494b=>_0x48b03c[_0x4306ca(0x29c)](_0x55494b)))return;this[_0x4306ca(0x33f)][_0x4306ca(0x532)][_0x4306ca(0x22e)](this[_0x4306ca(0x192)][_0x4306ca(0x6e6)](_0x226573)),this['subscriptionRequests'][_0x4306ca(0xa2f)](_0x226573),_0x48b03c=Array[_0x4306ca(0x35c)](new Set(_0x48b03c[_0x4306ca(0x193)](_0x6e6ab5))),this[_0x4306ca(0x319)](_0x226573);}const _0xecaceb=new _0x4848eb(_0x192c8f[_0x4306ca(0x7da)](_0xd96dda=>_0xd96dda[_0x4306ca(0x7e3)]()),_0x197070,this[_0x4306ca(0x371)],_0x48b03c);this[_0x4306ca(0x33f)]['mediator'][_0x4306ca(0x844)](_0xecaceb),this[_0x4306ca(0x192)][_0x4306ca(0x991)](_0x226573,_0xecaceb),_0xecaceb['sendRequest'](this['configs'][_0x4306ca(0x3ff)]['getId'](),_0x584566,_0xcf63a6,_0x48b03c,_0x54eae3),this[_0x4306ca(0x56e)](_0xcf63a6,_0x584566,_0x48b03c,_0x54eae3,_0x226573,_0xecaceb);}[_0xd4b2e(0x319)](_0x1abd1a){const _0x48cf6f=_0xd4b2e;this[_0x48cf6f(0x5bc)][_0x48cf6f(0x8e9)](_0x1abd1a)&&(clearTimeout(this[_0x48cf6f(0x5bc)][_0x48cf6f(0x6e6)](_0x1abd1a)),this[_0x48cf6f(0x5bc)][_0x48cf6f(0xa2f)](_0x1abd1a));}['setSubscriptionRequestTimeout'](_0x2a9cee,_0x15a01d,_0x5a19df,_0x43414c,_0x2c8c0c,_0x221eaa){const _0x328838=_0xd4b2e;this['clearSubscriptionRequestTimeout'](_0x2c8c0c),this['subscriptionRequestTimeouts'][_0x328838(0x991)](_0x2c8c0c,setTimeout(()=>{const _0x2bf462=_0x328838;this[_0x2bf462(0x5bc)][_0x2bf462(0xa2f)](_0x2c8c0c);try{const _0x4c8557=_0x221eaa[_0x2bf462(0x389)]();this['subscribe'](_0x4c8557,_0x15a01d,_0x2a9cee,_0x2c8c0c,_0x5a19df);}catch(_0x1ef480){this['handleNoAnswer'](_0x2a9cee,_0x15a01d,_0x5a19df,_0x43414c);}},0x7d0));}['findNewMediaSubscription'](_0x43e83e,_0x2946b8,_0x316dd3,_0x3b82b2,_0x3ea0fa){const _0x1f7725=_0xd4b2e,{subscriptionLabel:_0x53ef73}=this[_0x1f7725(0x513)](_0x2946b8,_0x3b82b2),_0x2720e1=this[_0x1f7725(0x7d5)](_0x53ef73),_0x1d05fe=_0x2720e1?.[_0x1f7725(0x44a)];_0x2720e1&&(_0x2720e1[_0x1f7725(0x37a)](_0x3b82b2,0x0),this[_0x1f7725(0x74b)](_0x316dd3,_0x29f76b[_0x1f7725(0x9b8)][_0x1f7725(0x9cf)],_0x43e83e)),this['requestSubscription'](_0x2946b8,_0x3b82b2,_0x3ea0fa,_0x1d05fe);}['getMediaSubscription'](_0x318a22){const _0x155b78=_0xd4b2e,_0x36ff03=this['maps'][_0x155b78(0xa16)][_0x155b78(0x6e6)](_0x318a22);if(_0x36ff03){if(!(_0x36ff03 instanceof _0x589ba6))throw new _0x1cac69(_0x1cac69[_0x155b78(0x15e)][_0x155b78(0x2ad)],{'label':_0x318a22,'subscription':_0x36ff03});return _0x36ff03;}}['getSubscriptionLabel'](_0x4f43e6,_0x20e575){const _0x4a534a=_0xd4b2e,_0x584991=this[_0x4a534a(0x2d5)](_0x4f43e6,_0x20e575);return{'parts':_0x584991,'subscriptionLabel':_0x288067(_0x1bc461[_0x4a534a(0x999)],_0x584991)};}[_0xd4b2e(0x2d5)](_0x3c61dc,_0x3b5fd9){const _0x316a3f=_0xd4b2e,_0x29a31f=this[_0x316a3f(0x33f)][_0x316a3f(0x532)][_0x316a3f(0x9b7)](_0x3b5fd9,_0x3c61dc),_0x47d941=_0x29a31f[_0x316a3f(0x2a5)]();if(!_0x47d941)throw new _0x1cac69(_0x1cac69['codes'][_0x316a3f(0x1c9)],{'label':_0x3c61dc,'streamId':_0x29a31f[_0x316a3f(0x819)](),'ownerId':_0x3b5fd9,'localId':this[_0x316a3f(0x33f)][_0x316a3f(0x3ff)]['getId']()});return{'contentType':_0x29f76b[_0x316a3f(0x9b8)][_0x316a3f(0x9cf)],'label':_0x29a31f[_0x316a3f(0x819)](),'remoteId':_0x47d941};}[_0xd4b2e(0xa77)](_0x51142a,_0x823261,_0x2619b8,_0x47e80d){const _0x40a12c=_0xd4b2e,_0x5aa80c=_0x47e80d[_0x40a12c(0x2a5)]();if(_0x5aa80c&&_0x5aa80c!==_0x51142a[_0x40a12c(0x166)]){const {parts:_0x332986,subscriptionLabel:_0x28e9cf}=this[_0x40a12c(0x513)](_0x2619b8,_0x823261),_0x1b686a=this[_0x40a12c(0x7d5)](_0x28e9cf);_0x1b686a&&(_0x1b686a[_0x40a12c(0x37a)](_0x823261,0x0),this[_0x40a12c(0x74b)](_0x332986[_0x40a12c(0x39a)],_0x332986[_0x40a12c(0x1e8)],_0x332986[_0x40a12c(0x875)]));}}}class _0x2f2966{[_0xd4b2e(0x33f)];[_0xd4b2e(0x3f5)];[_0xd4b2e(0x55c)];constructor(_0x4a7867,_0x527075){const _0x293ad2=_0xd4b2e;this[_0x293ad2(0x33f)]=_0x4a7867,this[_0x293ad2(0x3f5)]=_0x527075,this['maps']=new _0x2e4818(({source:_0x5f4850,destination:_0x23622c})=>_0x2443bd(_0x5f4850,_0x23622c));}[_0xd4b2e(0x234)](_0x2c473d,_0x490627){const _0x437dc1=_0xd4b2e,_0x7c433={'source':_0x2c473d,'destination':_0x490627};this[_0x437dc1(0x55c)][_0x437dc1(0x234)](_0x1bc461[_0x437dc1(0x37f)],_0x7c433);}[_0xd4b2e(0x74b)](_0x5cf4eb,_0x4c6d87,_0x1c5899=''){const _0x1e0d3e=_0xd4b2e,_0x39807b={'contentType':_0x4c6d87,'label':_0x5cf4eb,'remoteId':_0x1c5899};this[_0x1e0d3e(0x55c)][_0x1e0d3e(0x74b)](_0x39807b,_0x1bc461['Outgoing']);}['handleSubscriptionSubscribeMediaStream'](_0x5a76e2,_0x644d5c){const _0x3bb1b4=_0xd4b2e;let _0x11da9e;_0x11da9e=_0x644d5c[_0x3bb1b4(0x8d8)]!==this[_0x3bb1b4(0x33f)][_0x3bb1b4(0x3ff)][_0x3bb1b4(0x2a6)]()?this[_0x3bb1b4(0x33f)][_0x3bb1b4(0x532)]['getRemoteMediaStream'](_0x644d5c['ownerId'],_0x644d5c[_0x3bb1b4(0x39a)]):this[_0x3bb1b4(0x33f)]['mediator'][_0x3bb1b4(0x896)](_0x644d5c[_0x3bb1b4(0x39a)]);const _0x5227e3=_0x288067(_0x1bc461['Outgoing'],{'contentType':_0x29f76b[_0x3bb1b4(0x9b8)][_0x3bb1b4(0x9cf)],'label':_0x11da9e[_0x3bb1b4(0x7e7)](),'remoteId':_0x5a76e2}),_0xcdd7d2=this['getNumberOutgoingSubscriptions']();if(!this['maps']['subscriptions']['has'](_0x5227e3)&&_0xcdd7d2>=this[_0x3bb1b4(0x3f5)])return{'type':_0x2478e8['RestartNeedMediaStream'],'ownerId':_0x644d5c['ownerId'],'label':_0x644d5c[_0x3bb1b4(0x39a)],'streamId':_0x11da9e[_0x3bb1b4(0x7e7)](),'trackKinds':_0x644d5c['trackKinds'],'params':_0x644d5c[_0x3bb1b4(0x44a)]};_0x11da9e instanceof _0x53103e&&!_0x11da9e[_0x3bb1b4(0x434)](_0x644d5c[_0x3bb1b4(0x8cd)])&&_0x11da9e[_0x3bb1b4(0x696)](_0x644d5c[_0x3bb1b4(0x44a)]),this[_0x3bb1b4(0x55c)][_0x3bb1b4(0xa16)][_0x3bb1b4(0x8e9)](_0x5227e3)||this[_0x3bb1b4(0x234)](_0x11da9e['getShareableStream'](_0x5a76e2),this[_0x3bb1b4(0x33f)][_0x3bb1b4(0x532)][_0x3bb1b4(0x6bd)](_0x5a76e2));}['handleSubscriptionUnsubscribeMediaStream'](_0x1236bb,{label:_0x319a56,ownerId:_0x15fef0,remainingTracks:_0x1e06a3}){const _0x361953=_0xd4b2e;if(_0x1e06a3>0x0)return;let _0x520ad5;_0x520ad5=_0x15fef0!==this[_0x361953(0x33f)][_0x361953(0x3ff)][_0x361953(0x2a6)]()?this[_0x361953(0x33f)]['mediator'][_0x361953(0x9b7)](_0x15fef0,_0x319a56):this['configs'][_0x361953(0x532)]['getLocalMediaStream'](_0x319a56);const _0x14c974=_0x520ad5['getShareableStreamId'](),_0x317b0d=_0x29f76b[_0x361953(0x9b8)][_0x361953(0x9cf)];this['removeSubscription'](_0x14c974,_0x317b0d,_0x1236bb);}[_0xd4b2e(0x4c2)](_0x224871,{label:_0x3d283f,ownerId:_0x41f4d2,trackKinds:_0x1a7494}){const _0x3d069e=_0xd4b2e;if(_0x224871!==_0x596898)return[];let _0x5acc44=[];for(const _0x416d58 of this[_0x3d069e(0x55c)]['subscriptions']){const {source:_0x4d45a8,destination:_0x3b4283}=_0x416d58[0x1];_0x4d45a8[_0x3d069e(0x255)]()===_0x3d283f&&_0x4d45a8[_0x3d069e(0x4da)]()===_0x41f4d2&&_0x5acc44[_0x3d069e(0x55a)]({'sourceId':this[_0x3d069e(0x33f)][_0x3d069e(0x3ff)][_0x3d069e(0x2a6)](),'destinationIds':[_0x3b4283[_0x3d069e(0x7e3)]()],'messageType':_0x49e311[_0x3d069e(0x67e)],'content':{'type':_0x2478e8['MediaStreamUnavailable'],'label':_0x3d283f,'ownerId':_0x41f4d2,'trackKinds':_0x1a7494}});}return _0x5acc44;}[_0xd4b2e(0x654)](_0x631594,_0x5451b6){const _0x557ee2=_0xd4b2e,{label:_0x31033b,ownerId:_0x532a3c,trackKinds:_0x40f030,params:_0x4a2984}=_0x5451b6,{hasTracks:_0x2d1137,streamId:_0x30b5e6,hasResolution:_0x57ddba,distance:_0x588def,subscriptionLabel:_0x45bf10}=this[_0x557ee2(0x6b7)](_0x631594,_0x5451b6);let _0x35ee67=this[_0x557ee2(0x7b6)]()<this[_0x557ee2(0x3f5)]&&(_0x2d1137||_0x588def>-0x1)?_0x2478e8['CanProvideMediaStream']:_0x2478e8[_0x557ee2(0xa28)];const _0x17ac1a=_0x588def<0x0?0xa:_0x588def;let _0x243b16=_0x2d1137?_0x57ddba?_0x17ac1a:_0x17ac1a+0x0:_0x17ac1a+0xa;return _0x45bf10&&this[_0x557ee2(0x55c)]['subscriptions'][_0x557ee2(0x8e9)](_0x45bf10)&&(_0x2d1137&&(_0x243b16=0x0),_0x35ee67=_0x2478e8[_0x557ee2(0x5c9)]),{'type':_0x35ee67,'cost':_0x243b16,'distance':_0x588def,'label':_0x31033b,'ownerId':_0x532a3c,'streamId':_0x30b5e6,'trackKinds':_0x40f030,'params':_0x4a2984};}[_0xd4b2e(0x729)](_0x111039){const _0x3f72f1=_0xd4b2e,{label:_0x3cf00d,ownerId:_0x4909f9}=_0x111039,_0xa2960d=this[_0x3f72f1(0x33f)][_0x3f72f1(0x532)][_0x3f72f1(0x9b7)](_0x4909f9,_0x3cf00d);this[_0x3f72f1(0x55c)]['subscriptions'][_0x3f72f1(0x7d0)](_0x4dc287=>{const _0x3530f7=_0x3f72f1;if(_0x4dc287['source'][_0x3530f7(0x819)]()===_0xa2960d['getShareableStreamId']()){const _0x2996f6=_0x4dc287['destination'];this['removeSubscription'](_0xa2960d[_0x3530f7(0x7e7)](),_0x29f76b[_0x3530f7(0x9b8)][_0x3530f7(0x9cf)],_0x2996f6[_0x3530f7(0x7e3)]());}});}['handleContentCloseMediaStream']({label:_0x20f5ff}){const _0x5d186b=_0xd4b2e,_0x1009a9=this[_0x5d186b(0x33f)]['mediator'][_0x5d186b(0x896)](_0x20f5ff);this[_0x5d186b(0x55c)][_0x5d186b(0xa16)][_0x5d186b(0x7d0)](_0x58efab=>{const _0x7c648c=_0x5d186b;if(_0x58efab[_0x7c648c(0x4bf)][_0x7c648c(0x819)]()===_0x1009a9[_0x7c648c(0x7e7)]()){const _0x53b6c4=_0x58efab[_0x7c648c(0x50e)];this[_0x7c648c(0x74b)](_0x1009a9[_0x7c648c(0x7e7)](),_0x29f76b['ContentType'][_0x7c648c(0x9cf)],_0x53b6c4[_0x7c648c(0x7e3)]());}});}[_0xd4b2e(0x264)](_0x25145e){const _0x361da9=_0xd4b2e;this['maps'][_0x361da9(0x264)](_0x25145e);}[_0xd4b2e(0x27e)](){const _0x4e6603=_0xd4b2e;this['maps'][_0x4e6603(0xa16)][_0x4e6603(0x7d0)](this[_0x4e6603(0x399)][_0x4e6603(0x536)](this));}['closeSubscription'](_0x26d0c5,_0x5bc28c){const _0x4e64c8=_0xd4b2e;this['maps'][_0x4e64c8(0x399)](_0x26d0c5,_0x5bc28c);}[_0xd4b2e(0x6b7)](_0x43eb9c,{label:_0x236d6a,ownerId:_0x399d92,trackKinds:_0x2bc787,params:_0x57f84c}){const _0x4d0d1d=_0xd4b2e;if(_0x399d92!==this[_0x4d0d1d(0x33f)][_0x4d0d1d(0x3ff)][_0x4d0d1d(0x2a6)]()){const _0x541667=this[_0x4d0d1d(0x33f)][_0x4d0d1d(0x532)][_0x4d0d1d(0x9b7)](_0x399d92,_0x236d6a);return _0x541667&&_0x541667[_0x4d0d1d(0x2a5)]()!==_0x43eb9c?{'hasTracks':_0x541667[_0x4d0d1d(0x41f)](_0x2bc787),'hasResolution':this[_0x4d0d1d(0x9c9)](_0x541667[_0x4d0d1d(0x761)](),_0x57f84c),'streamId':_0x541667[_0x4d0d1d(0x7e7)](),'distance':this['configs'][_0x4d0d1d(0x532)][_0x4d0d1d(0x2ce)](_0x43eb9c,_0x399d92),'subscriptionLabel':_0x288067(_0x1bc461[_0x4d0d1d(0x37f)],{'contentType':_0x29f76b[_0x4d0d1d(0x9b8)]['Media'],'label':_0x541667[_0x4d0d1d(0x7e7)](),'remoteId':_0x43eb9c})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x3fff1c=this[_0x4d0d1d(0x33f)][_0x4d0d1d(0x532)][_0x4d0d1d(0x896)](_0x236d6a);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x3fff1c[_0x4d0d1d(0x7e7)](),'distance':0x0,'subscriptionLabel':_0x288067(_0x1bc461[_0x4d0d1d(0x37f)],{'contentType':_0x29f76b[_0x4d0d1d(0x9b8)][_0x4d0d1d(0x9cf)],'label':_0x3fff1c[_0x4d0d1d(0x7e7)](),'remoteId':_0x43eb9c})};}[_0xd4b2e(0x7b6)](){const _0x331575=_0xd4b2e;return Array[_0x331575(0x35c)](this[_0x331575(0x55c)]['subscriptions'][_0x331575(0x63e)]())[_0x331575(0x893)](([_0x2111aa,{source:_0x1ac61a}])=>_0x2111aa['startsWith'](_0x1bc461['Outgoing'])&&_0x1ac61a[_0x331575(0x161)]()===_0x29f76b[_0x331575(0x9b8)][_0x331575(0x9cf)])[_0x331575(0x9b4)];}[_0xd4b2e(0x9c9)](_0x1cdfbd,_0x123429){const _0x2792af=_0xd4b2e;if(!_0x123429||!_0x123429['video']||_0x2792af(0x4b1)==typeof _0x123429[_0x2792af(0x5ab)]||!_0x123429[_0x2792af(0x5ab)][_0x2792af(0x6fe)])return!0x0;const {width:_0x5bd227,height:_0x2cdad0}=_0x123429['video'][_0x2792af(0x6fe)];return _0x1cdfbd[_0x2792af(0x62b)]>=_0x5bd227&&_0x1cdfbd[_0x2792af(0x59e)]>=_0x2cdad0;}}class _0x450185{[_0xd4b2e(0x33f)];[_0xd4b2e(0x3f5)];[_0xd4b2e(0x371)];[_0xd4b2e(0x598)];[_0xd4b2e(0x514)];[_0xd4b2e(0xa0e)];constructor(_0x50ef88,_0x18f3e9,_0x117ba2){const _0x1ed60c=_0xd4b2e;this[_0x1ed60c(0x33f)]=_0x50ef88,this[_0x1ed60c(0x3f5)]=_0x18f3e9,this['maxDistance']=_0x117ba2,this['configs']['mediator']['registerSystemSource'](this),this[_0x1ed60c(0x514)]=new _0x4ff76d(this[_0x1ed60c(0x33f)],this['maxDistance']),this['outgoingManager']=new _0x2f2966(this['configs'],this[_0x1ed60c(0x3f5)]);}[_0xd4b2e(0x14c)](_0x33c40e){const _0x5cb71a=_0xd4b2e;this[_0x5cb71a(0x598)]=_0x33c40e;}['unregisterSystemPublisher'](){const _0x57e17e=_0xd4b2e;delete this[_0x57e17e(0x598)];}[_0xd4b2e(0x27e)](){const _0xb3a190=_0xd4b2e;this[_0xb3a190(0x514)][_0xb3a190(0x27e)](),this[_0xb3a190(0xa0e)][_0xb3a190(0x27e)](),this['configs'][_0xb3a190(0x532)][_0xb3a190(0x22e)](this);}['createIncomingSubscription'](_0x2a0113,_0x1ab2cc){const _0x13dbca=_0xd4b2e;this[_0x13dbca(0x514)]['createSubscription'](_0x2a0113,_0x1ab2cc);}['createOutgoingSubscription'](_0x1a69ea,_0x4f7923){const _0x437458=_0xd4b2e;this[_0x437458(0xa0e)][_0x437458(0x234)](_0x1a69ea,_0x4f7923);}[_0xd4b2e(0x9c5)](_0x3c9c25,_0x200ba8,_0x1c9324=''){const _0x1175cf=_0xd4b2e;this[_0x1175cf(0x514)][_0x1175cf(0x74b)](_0x3c9c25,_0x200ba8,_0x1c9324);}[_0xd4b2e(0x5dc)](_0x18578c,_0x4d8b29,_0x420bf7=''){const _0x24af2e=_0xd4b2e;try{this['outgoingManager'][_0x24af2e(0x74b)](_0x18578c,_0x4d8b29,_0x420bf7);}catch(_0x49d6fb){if(_0x49d6fb instanceof _0x1cac69&&_0x49d6fb['code']===_0x1cac69['codes'][_0x24af2e(0x2ad)])return;}}[_0xd4b2e(0x1eb)](_0x4f44fa){const _0x45039a=_0xd4b2e;switch(_0x4f44fa[_0x45039a(0x580)][_0x45039a(0x747)]){case _0x2478e8[_0x45039a(0x6a5)]:this['handleSubscriptionSubscribeMediaStream'](_0x4f44fa[_0x45039a(0x3e6)],_0x4f44fa[_0x45039a(0x580)]);break;case _0x2478e8[_0x45039a(0x208)]:this[_0x45039a(0xa0e)]['handleSubscriptionUnsubscribeMediaStream'](_0x4f44fa[_0x45039a(0x3e6)],_0x4f44fa[_0x45039a(0x580)]);break;case _0x2478e8['NeedMediaStream']:this[_0x45039a(0x654)](_0x4f44fa[_0x45039a(0x3e6)],_0x4f44fa[_0x45039a(0x580)]);break;case _0x2478e8[_0x45039a(0x219)]:this[_0x45039a(0x514)][_0x45039a(0x8bc)](_0x4f44fa[_0x45039a(0x3e6)],_0x4f44fa[_0x45039a(0x580)]);break;case _0x2478e8[_0x45039a(0x5c9)]:case _0x2478e8['CannotProvideMediaStream']:this[_0x45039a(0x514)][_0x45039a(0x86f)](_0x4f44fa[_0x45039a(0x3e6)],_0x4f44fa[_0x45039a(0x580)]);break;case _0x2478e8['MediaStreamUnavailable']:this[_0x45039a(0x514)][_0x45039a(0x899)](_0x4f44fa[_0x45039a(0x3e6)],_0x4f44fa[_0x45039a(0x580)]);}}[_0xd4b2e(0xa31)](_0x448bdf){const _0x8e3340=_0xd4b2e;switch(_0x448bdf[_0x8e3340(0x580)][_0x8e3340(0x747)]){case _0x2b2ef9[_0x8e3340(0x70a)]:this[_0x8e3340(0x514)][_0x8e3340(0x729)](_0x448bdf['content']),this[_0x8e3340(0xa0e)][_0x8e3340(0x729)](_0x448bdf[_0x8e3340(0x580)]);break;case _0x2b2ef9[_0x8e3340(0x6a5)]:this[_0x8e3340(0x514)][_0x8e3340(0x1e9)](_0x448bdf['content']);break;case _0x2b2ef9[_0x8e3340(0x7ab)]:this[_0x8e3340(0x514)]['handleContentUpdateMediaStream'](_0x448bdf['content']);break;case _0x2b2ef9['UnsubscribeMediaStream']:this[_0x8e3340(0x4c2)](_0x448bdf[_0x8e3340(0x3e6)],_0x448bdf['content']);break;case _0x2b2ef9[_0x8e3340(0x41b)]:this['outgoingManager']['handleContentCloseMediaStream'](_0x448bdf[_0x8e3340(0x580)]);break;case _0x2b2ef9[_0x8e3340(0x9e7)]:this[_0x8e3340(0x25c)](_0x448bdf[_0x8e3340(0x580)][_0x8e3340(0x39a)],_0x29f76b['ContentType'][_0x8e3340(0xa3d)]);break;case _0x2b2ef9['CloseObjectStoreBucket']:this[_0x8e3340(0x25c)](_0x448bdf[_0x8e3340(0x580)]['label'],_0x29f76b[_0x8e3340(0x9b8)][_0x8e3340(0x65b)]);break;case _0x2b2ef9[_0x8e3340(0xa52)]:this['handleCloseContent'](_0x448bdf[_0x8e3340(0x580)]['label'],_0x29f76b[_0x8e3340(0x9b8)][_0x8e3340(0x450)]);break;case _0x2b2ef9[_0x8e3340(0x3f1)]:this['handleCloseContent'](_0x448bdf[_0x8e3340(0x580)][_0x8e3340(0x39a)],_0x29f76b['ContentType'][_0x8e3340(0x329)]);break;case _0x2b2ef9[_0x8e3340(0x250)]:this['handleCloseContent'](_0x448bdf[_0x8e3340(0x580)][_0x8e3340(0x39a)],_0x29f76b[_0x8e3340(0x9b8)][_0x8e3340(0xa80)]);break;case _0x2b2ef9[_0x8e3340(0x51f)]:this[_0x8e3340(0x25c)](_0x448bdf[_0x8e3340(0x580)][_0x8e3340(0x39a)],_0x29f76b[_0x8e3340(0x9b8)]['GraphDatabase']);break;case _0x2b2ef9['CloseJobDispatcher']:case _0x2b2ef9['CloseJobWorker']:this[_0x8e3340(0x25c)](_0x448bdf['content'][_0x8e3340(0x39a)],_0x29f76b['ContentType']['Job']);break;case _0x2b2ef9[_0x8e3340(0x65c)]:this[_0x8e3340(0x514)][_0x8e3340(0x5f0)](_0x448bdf[_0x8e3340(0x580)]);}}[_0xd4b2e(0x631)]({content:_0x51303d}){const _0x3378eb=_0xd4b2e;_0x51303d[_0x3378eb(0x747)]===_0xebf85e['NodeLeave']&&this[_0x3378eb(0x264)](_0x51303d);}[_0xd4b2e(0x911)](_0x334c65){const _0x4a870a=_0xd4b2e;_0x334c65[_0x4a870a(0x580)]['type']===_0x4d0115[_0x4a870a(0x452)]&&this[_0x4a870a(0x514)]['handleOptimizationConnectionSuccess'](_0x334c65[_0x4a870a(0x3e6)]);}[_0xd4b2e(0x4c2)](_0x2ac0e2,_0x56c08d){const _0x529811=_0xd4b2e;this[_0x529811(0x514)][_0x529811(0x4c2)](_0x56c08d),this[_0x529811(0xa0e)]['handleContentUnsubscribeMediaStream'](_0x2ac0e2,_0x56c08d)['forEach'](_0x5aaeba=>this[_0x529811(0x598)][_0x529811(0x2b2)](_0x5aaeba));}[_0xd4b2e(0x7dc)](_0x5d5a10,_0x213cf4){const _0x1714e0=_0xd4b2e,_0x5ee83a=this[_0x1714e0(0xa0e)][_0x1714e0(0x7dc)](_0x5d5a10,_0x213cf4);if(_0x5ee83a&&(this['systemTopic'][_0x1714e0(0x2b2)]({'sourceId':this[_0x1714e0(0x33f)][_0x1714e0(0x3ff)][_0x1714e0(0x2a6)](),'destinationIds':[_0x5d5a10],'messageType':_0x49e311[_0x1714e0(0x67e)],'content':_0x5ee83a}),_0x5ee83a['type']===_0x2478e8[_0x1714e0(0x219)]))throw new _0x589491('Restart\x20NeedMediaStream');}[_0xd4b2e(0x654)](_0x223643,_0x2ec929){const _0x53cd91=_0xd4b2e,_0xaa4d87=this[_0x53cd91(0xa0e)][_0x53cd91(0x654)](_0x223643,_0x2ec929);this[_0x53cd91(0x598)][_0x53cd91(0x2b2)]({'sourceId':this[_0x53cd91(0x33f)]['localNode'][_0x53cd91(0x2a6)](),'destinationIds':[_0x223643],'messageType':_0x49e311[_0x53cd91(0x67e)],'content':_0xaa4d87});}['handleCloseContent'](_0x280dd0,_0x27aec9){const _0x153c9d=_0xd4b2e;this[_0x153c9d(0x9c5)](_0x280dd0,_0x27aec9),this[_0x153c9d(0x5dc)](_0x280dd0,_0x27aec9);}[_0xd4b2e(0x264)]({id:_0x21a3bc}){const _0x352070=_0xd4b2e;this[_0x352070(0x514)]['removeSubscriptionsForNode'](_0x21a3bc),this[_0x352070(0xa0e)]['removeSubscriptionsForNode'](_0x21a3bc);}}class _0x2c837b{[_0xd4b2e(0x39a)];['listener']=_0xfb027c();constructor(){this['label']=0x0;}[_0xd4b2e(0x255)](){return this['label'];}['getContentType'](){const _0x541d52=_0xd4b2e;return _0x29f76b[_0x541d52(0x9b8)][_0x541d52(0x24a)];}[_0xd4b2e(0x827)](_0x28dde1){const _0x533289=_0xd4b2e;_0x28dde1[_0x533289(0x14c)](this);}['unregisterSource'](_0x7060e2){const _0x296259=_0xd4b2e;_0x7060e2[_0x296259(0x738)]();}[_0xd4b2e(0x2b2)](_0x3a66d4){const _0x24429a=_0xd4b2e;_0x98a765[_0x24429a(0x22d)](_0x831a2b[_0x24429a(0x540)],_0x24429a(0x4df),_0x3a66d4[_0x24429a(0x3e6)],_0x3a66d4),this[_0x24429a(0x251)][_0x24429a(0x2b2)]({'topicLabel':this[_0x24429a(0x39a)],'contentType':_0x29f76b[_0x24429a(0x9b8)]['Data'],'uuid':_0x3a66d4[_0x24429a(0x442)]??(0x0,_0x1cf016['v4'])(),'recipients':_0x3a66d4[_0x24429a(0x610)]??[],..._0x3a66d4});}['subscribe'](_0x225f44){const _0x385975=_0xd4b2e;return this[_0x385975(0x251)][_0x385975(0x696)](_0x225f44);}}class _0x20af04{[_0xd4b2e(0x49e)];[_0xd4b2e(0x330)]=[];[_0xd4b2e(0xa40)];[_0xd4b2e(0x52f)]=new Map();[_0xd4b2e(0x8f2)]=_0xfb027c();constructor(_0xcb515d){const _0x16213a=_0xd4b2e;this[_0x16213a(0x49e)]=_0xcb515d,this[_0x16213a(0xa40)]=(this[_0x16213a(0x49e)]['maxConnections']-0x2*this[_0x16213a(0x49e)]['minConnections'])/0x2,this[_0x16213a(0x330)][_0x16213a(0x55a)]({'start':0x1,'end':this[_0x16213a(0x5f8)](0x1,0x1)-0x1});for(let _0x4aac55=0x0;_0x4aac55<this[_0x16213a(0xa40)];++_0x4aac55)this[_0x16213a(0x330)]['push']({'start':this[_0x16213a(0x5f8)](0x1,_0x4aac55+0x1),'end':this['getNextTargetRank'](0x1,_0x4aac55+0x2)-0x1});}[_0xd4b2e(0x5f8)](_0xa950d5,_0x3d1726=0x1){const _0x469108=_0xd4b2e;let _0x31b504=this['options'][_0x469108(0x371)]-this[_0x469108(0x49e)][_0x469108(0x285)],_0xd3da7f=0x1;for(let _0x2db543=0x1;_0x2db543<_0x3d1726;++_0x2db543)_0x31b504*=this['options'][_0x469108(0x371)]-this[_0x469108(0x49e)]['minConnections']-_0x2db543,_0xd3da7f*=this[_0x469108(0x49e)][_0x469108(0x371)]-this[_0x469108(0x49e)][_0x469108(0x285)]-_0x2db543+0x1;return _0x31b504*this[_0x469108(0x49e)]['minConnections']+_0xa950d5-_0xd3da7f;}[_0xd4b2e(0x6cc)](_0x572486){const _0x83d73b=_0xd4b2e;let _0x2da69e=0x0;for(;this[_0x83d73b(0x330)][_0x2da69e]['end']<_0x572486;)_0x2da69e+=0x1;return _0x2da69e;}[_0xd4b2e(0x4c0)](){const _0x391177=_0xd4b2e;return this[_0x391177(0x49e)]['minConnections'];}['getMaxConnections'](){const _0x1b2777=_0xd4b2e;return this[_0x1b2777(0x49e)][_0x1b2777(0x6f5)];}[_0xd4b2e(0x895)](){const _0x495187=_0xd4b2e;return this[_0x495187(0x49e)]['maxDistance'];}[_0xd4b2e(0xa59)](){return this['remoteNodes'];}[_0xd4b2e(0x9be)](_0x2ca99a,_0x1d889e){const _0xac442a=_0xd4b2e;this[_0xac442a(0x52f)][_0xac442a(0x991)](_0x2ca99a,_0x1d889e),this[_0xac442a(0x8f2)][_0xac442a(0x2b2)]();}[_0xd4b2e(0x99e)](_0x1557d9){const _0x36960c=_0xd4b2e;this[_0x36960c(0x52f)][_0x36960c(0xa2f)](_0x1557d9),this[_0x36960c(0x8f2)][_0x36960c(0x2b2)]();}[_0xd4b2e(0x561)](_0x2611bc){const _0xf59af4=_0xd4b2e;return this[_0xf59af4(0x52f)][_0xf59af4(0x8e9)](_0x2611bc);}[_0xd4b2e(0x24f)](_0x493ba7){const _0x3dd76a=_0xd4b2e;return this[_0x3dd76a(0x52f)][_0x3dd76a(0x6e6)](_0x493ba7);}[_0xd4b2e(0x993)](_0x2e5bea,_0x192e06){const _0x4747b8=_0xd4b2e,_0x539875=this[_0x4747b8(0x24f)](_0x192e06)?.[_0x4747b8(0x2f2)]()??0x0;return _0x2e5bea[_0x4747b8(0x7da)](_0x5a3b35=>this[_0x4747b8(0x24f)](_0x5a3b35))[_0x4747b8(0x893)](_0x16339c=>void 0x0!==_0x16339c)[_0x4747b8(0x63d)]((_0x4ac780,_0x2e03c6)=>Math[_0x4747b8(0x36f)](_0x539875-(_0x4ac780&&_0x4ac780[_0x4747b8(0x2f2)]()||0x1/0x0))-Math[_0x4747b8(0x36f)](_0x539875-(_0x2e03c6&&_0x2e03c6['getRank']()||0x1/0x0)))[_0x4747b8(0x7da)](_0xa23894=>_0xa23894['getId']());}[_0xd4b2e(0x1ac)](_0x4bb9be){const _0x1f405f=_0xd4b2e;return this['nodeUpdate'][_0x1f405f(0x696)](_0x4bb9be);}}class _0x132865{['vendorId'];['clusterId'];[_0xd4b2e(0x35b)];['authService'];[_0xd4b2e(0x49e)];[_0xd4b2e(0x33f)];[_0xd4b2e(0x396)];[_0xd4b2e(0x539)];[_0xd4b2e(0x76e)];[_0xd4b2e(0x376)];[_0xd4b2e(0x7de)];[_0xd4b2e(0x63f)];[_0xd4b2e(0x548)];[_0xd4b2e(0x950)];[_0xd4b2e(0x3f2)];[_0xd4b2e(0x598)]=new _0x2c837b();['systemTopicUnsubscribe'];[_0xd4b2e(0x3ff)];constructor(_0x35931f,_0x27ef23,_0x920a1,_0x4a4da0,_0x40cb90,_0x24c6bd,_0x4e74ec){const _0x39e343=_0xd4b2e;switch(this[_0x39e343(0x313)]=_0x35931f,this[_0x39e343(0x6d7)]=_0x27ef23,this[_0x39e343(0x35b)]=_0x920a1,this['authService']=_0x4a4da0,this[_0x39e343(0x49e)]=_0x40cb90,this[_0x39e343(0x33f)]=_0x24c6bd,this['clusterEventEmitter']=_0x4e74ec,_0x920a1[_0x39e343(0x747)]){case _0x29f76b['NodeType'][_0x39e343(0x9d1)]:this[_0x39e343(0x3ff)]=new _0x1402bc(_0x920a1[_0x39e343(0x2a6)](),_0x920a1['getDisplayName'](),_0x920a1[_0x39e343(0x178)]());break;case _0x29f76b[_0x39e343(0x8e2)][_0x39e343(0x3e3)]:default:this[_0x39e343(0x3ff)]=new _0x23f774(_0x920a1['getId']());}const _0x299d6e=this[_0x39e343(0x84b)]();this[_0x39e343(0x3f2)]=new _0x20af04(this[_0x39e343(0x49e)]),this[_0x39e343(0x539)]=new _0xc3043d(_0x299d6e,this[_0x39e343(0x49e)],this['configs'][_0x39e343(0x9eb)],this[_0x39e343(0x33f)]['aiSearchApiKey']),this[_0x39e343(0x76e)]=new _0x157333(_0x299d6e,this['authService'],this[_0x39e343(0x3f2)],this[_0x39e343(0x33f)]['iceServers'],this['options']),this[_0x39e343(0x376)]=new _0x450185(_0x299d6e,this[_0x39e343(0x49e)]['maxOutgoingSubscriptions'],this[_0x39e343(0x3f2)][_0x39e343(0x895)]()),this['statsManager']=new _0x17dd68(_0x299d6e),this[_0x39e343(0x63f)]=new _0x4e67d3(_0x299d6e),this[_0x39e343(0x548)]=new _0x48dbd0(_0x299d6e),this['nodeManager']=new _0x1a8850(_0x299d6e,this[_0x39e343(0x3f2)]),this[_0x39e343(0x852)]=this[_0x39e343(0x13d)]();}[_0xd4b2e(0x917)](){const _0x29ec8c=_0xd4b2e,_0x2b5b39=this['getConfigs']();this[_0x29ec8c(0x76e)]=new _0x157333(_0x2b5b39,this['authService'],this['graphService'],this['configs'][_0x29ec8c(0x47b)],this[_0x29ec8c(0x49e)]),this['subscriptionManager']=new _0x450185(_0x2b5b39,this['options']['maxOutgoingSubscriptions'],this['graphService'][_0x29ec8c(0x895)]()),this['statsManager']=new _0x17dd68(_0x2b5b39),this[_0x29ec8c(0x63f)]=new _0x4e67d3(_0x2b5b39),this[_0x29ec8c(0x548)]=new _0x48dbd0(_0x2b5b39),this['nodeManager']=new _0x1a8850(_0x2b5b39,this[_0x29ec8c(0x3f2)]);const _0x2589df=this[_0x29ec8c(0x76e)]['getConnectionGroup']();this[_0x29ec8c(0x539)][_0x29ec8c(0x857)]()[_0x29ec8c(0x7d0)](_0x39e1c2=>{const _0x43a48f=_0x29ec8c;this[_0x43a48f(0x376)][_0x43a48f(0x62d)](_0x39e1c2,_0x2589df),this[_0x43a48f(0x376)]['createIncomingSubscription'](_0x2589df,_0x39e1c2),_0x39e1c2[_0x43a48f(0x5f1)]();}),this[_0x29ec8c(0x539)]['getObjectStoreBuckets']()['forEach'](_0x24e81f=>{const _0x51c35d=_0x29ec8c;this[_0x51c35d(0x376)][_0x51c35d(0x62d)](_0x24e81f,_0x2589df),this['subscriptionManager'][_0x51c35d(0x28f)](_0x2589df,_0x24e81f),_0x24e81f[_0x51c35d(0x5f1)](),_0x24e81f[_0x51c35d(0x365)]();}),this[_0x29ec8c(0x539)]['getKeyValueDatabases']()[_0x29ec8c(0x7d0)](_0x296256=>{const _0x13ff98=_0x29ec8c;this[_0x13ff98(0x376)][_0x13ff98(0x62d)](_0x296256,_0x2589df),this[_0x13ff98(0x376)][_0x13ff98(0x28f)](_0x2589df,_0x296256),_0x296256[_0x13ff98(0x5f1)](),this[_0x13ff98(0x457)](_0x296256);}),this['contentManager'][_0x29ec8c(0x789)]()[_0x29ec8c(0x7d0)](_0x1bfec0=>{const _0x1e28c1=_0x29ec8c;this[_0x1e28c1(0x376)][_0x1e28c1(0x62d)](_0x1bfec0,_0x2589df),this['subscriptionManager'][_0x1e28c1(0x28f)](_0x2589df,_0x1bfec0),_0x1bfec0['reset']();}),this[_0x29ec8c(0x539)]['getJobWorkers']()[_0x29ec8c(0x7d0)](_0x436fe2=>{const _0x299c19=_0x29ec8c;this[_0x299c19(0x376)]['createOutgoingSubscription'](_0x436fe2,_0x2589df),this[_0x299c19(0x376)][_0x299c19(0x28f)](_0x2589df,_0x436fe2),_0x436fe2[_0x299c19(0x5f1)]();}),this[_0x29ec8c(0x539)][_0x29ec8c(0x777)]()[_0x29ec8c(0x7d0)](_0x504c0e=>{const _0x4c2126=_0x29ec8c;this['subscriptionManager'][_0x4c2126(0x62d)](_0x504c0e,_0x2589df),this[_0x4c2126(0x376)][_0x4c2126(0x28f)](_0x2589df,_0x504c0e),_0x504c0e[_0x4c2126(0x5f1)]();}),this[_0x29ec8c(0x539)][_0x29ec8c(0x9f9)]()['forEach'](_0x46d20b=>{const _0x2c3951=_0x29ec8c;this[_0x2c3951(0x376)][_0x2c3951(0x62d)](_0x46d20b,_0x2589df),this[_0x2c3951(0x376)][_0x2c3951(0x28f)](_0x2589df,_0x46d20b),_0x46d20b[_0x2c3951(0x5f1)]();}),this['systemTopicUnsubscribe']=this[_0x29ec8c(0x13d)]();}[_0xd4b2e(0x844)](_0x2f2aae){const _0x5cd47e=_0xd4b2e;try{this['systemTopic']['registerSource'](_0x2f2aae);}catch(_0x220ca6){this[_0x5cd47e(0x980)](_0x220ca6,{});}}[_0xd4b2e(0x22e)](_0x29f3af){const _0x44537f=_0xd4b2e;try{this[_0x44537f(0x598)]['unregisterSource'](_0x29f3af);}catch(_0x328bc1){this[_0x44537f(0x980)](_0x328bc1,{});}}[_0xd4b2e(0x53e)](_0xf7f377,_0xb00426){const _0x354dc3=_0xd4b2e;return this[_0x354dc3(0x76e)][_0x354dc3(0x53e)](_0xf7f377,_0xb00426);}[_0xd4b2e(0x6bd)](_0x2d0216){const _0x1f611e=_0xd4b2e;try{return this[_0x1f611e(0x76e)][_0x1f611e(0x6bd)](_0x2d0216);}catch(_0x198f0a){throw this[_0x1f611e(0x980)](_0x198f0a,{});}}[_0xd4b2e(0x6a3)](_0x29c5c0){const _0x6b9c6a=_0xd4b2e;try{return this['connectionManager'][_0x6b9c6a(0x6a3)](_0x29c5c0);}catch(_0x2c7061){throw this['handleError'](_0x2c7061,{});}}[_0xd4b2e(0x9b7)](_0x30bb1f,_0x4ec7ee){const _0x146d8d=_0xd4b2e;try{return this[_0x146d8d(0x539)][_0x146d8d(0x16e)](_0x177bf0=>_0x177bf0[_0x146d8d(0x4da)]()===_0x30bb1f&&_0x177bf0['getLabel']()===_0x4ec7ee)[0x0];}catch(_0x9db391){throw this[_0x146d8d(0x980)](_0x9db391,{});}}[_0xd4b2e(0x896)](_0x323af6){const _0x9983fc=_0xd4b2e;try{return this['contentManager'][_0x9983fc(0x3c6)](_0x5da77b=>_0x5da77b[_0x9983fc(0x255)]()===_0x323af6)[0x0];}catch(_0x30c898){throw this[_0x9983fc(0x980)](_0x30c898,{});}}[_0xd4b2e(0x3bb)]=(..._0x3ba75f)=>{const _0x32c694=_0xd4b2e;try{return this[_0x32c694(0x396)]['emit'](..._0x3ba75f);}catch(_0x181833){throw this[_0x32c694(0x980)](_0x181833,{});}};['registerRemoteNode'](_0x69bb54){const _0x5f17eb=_0xd4b2e;try{this['statsManager'][_0x5f17eb(0x63a)](_0x69bb54);}catch(_0x30b903){throw this['handleError'](_0x30b903,{});}}['unregisterRemoteNode'](_0x3f20f1){const _0x3fa31f=_0xd4b2e;try{this[_0x3fa31f(0x7de)][_0x3fa31f(0x1a8)](_0x3f20f1);}catch(_0x4997bf){throw this[_0x3fa31f(0x980)](_0x4997bf,{});}}[_0xd4b2e(0x9a4)](_0x45a52a){const _0x27cfc0=_0xd4b2e;return this[_0x27cfc0(0x76e)][_0x27cfc0(0x9a4)](_0x45a52a);}async[_0xd4b2e(0x306)](){const _0x56b882=_0xd4b2e;try{await this[_0x56b882(0x76e)]['initialize']();const _0x5815b2=await this[_0x56b882(0x950)][_0x56b882(0x8c5)]();for(const _0x5311fb of _0x5815b2)this[_0x56b882(0x76e)]['createConnection'](_0x5311fb);}catch(_0x2d69b8){throw this['handleError'](_0x2d69b8,{});}}[_0xd4b2e(0x268)](_0xf1326b){const _0x32c264=_0xd4b2e;this['localNode'][_0x32c264(0x747)]===_0x29f76b[_0x32c264(0x8e2)][_0x32c264(0x9d1)]&&(this[_0x32c264(0x3ff)][_0x32c264(0x196)](_0xf1326b[_0x32c264(0x178)]()),this[_0x32c264(0x3ff)][_0x32c264(0x4bb)](_0xf1326b['getDisplayName']()));}[_0xd4b2e(0x27e)]({force:_0x13a042=!0x1},_0x19b726=!0x1){const _0x3e0d11=_0xd4b2e;if(_0x98a765['warning'](_0x3e0d11(0x136),{'clusterId':this[_0x3e0d11(0x6d7)],'nodeId':this[_0x3e0d11(0x3ff)][_0x3e0d11(0x2a6)](),'nodeType':this[_0x3e0d11(0x3ff)]['type']}),!_0x13a042&&this['connectionManager'][_0x3e0d11(0x8ef)]())throw new _0x276337(_0x15ca7a[_0x3e0d11(0x9c0)],_0x3e0d11(0x658));_0x98a765[_0x3e0d11(0x932)](),this[_0x3e0d11(0x852)](),this[_0x3e0d11(0x548)]['close'](),this[_0x3e0d11(0x63f)][_0x3e0d11(0x27e)](),this[_0x3e0d11(0x7de)]['close'](),this['subscriptionManager']['close'](),this[_0x3e0d11(0x76e)][_0x3e0d11(0x27e)](),this[_0x3e0d11(0x539)][_0x3e0d11(0x27e)](_0x19b726),this['nodeManager'][_0x3e0d11(0x27e)]();}[_0xd4b2e(0x906)](_0x501251){const _0x298550=_0xd4b2e;try{const _0x51051f=this['contentManager']['createPubSubTopic'](_0x501251),_0x38e3c5=this[_0x298550(0x76e)]['getConnectionGroup']();return this['subscriptionManager'][_0x298550(0x62d)](_0x51051f,_0x38e3c5),this[_0x298550(0x376)][_0x298550(0x28f)](_0x38e3c5,_0x51051f),_0x51051f;}catch(_0x7658ae){throw this[_0x298550(0x980)](_0x7658ae,{});}}async[_0xd4b2e(0x467)](_0x1c177b,_0x37fddb){const _0x4a1aac=_0xd4b2e;try{const _0x4ef979=this['contentManager']['createObjectStoreBucket'](_0x1c177b,this[_0x4a1aac(0x49e)][_0x4a1aac(0x84f)],_0x37fddb),_0x15532c=this[_0x4a1aac(0x76e)][_0x4a1aac(0x473)]();return this[_0x4a1aac(0x376)][_0x4a1aac(0x62d)](_0x4ef979,_0x15532c),this['subscriptionManager']['createIncomingSubscription'](_0x15532c,_0x4ef979),await _0x4ef979[_0x4a1aac(0x365)](),_0x4ef979;}catch(_0x50eda6){throw this[_0x4a1aac(0x980)](_0x50eda6,{});}}async['openExternalStorageConnection'](_0x90b698,_0x56a7f2){const _0x41386b=_0xd4b2e;try{if(!this[_0x41386b(0x49e)][_0x41386b(0x7e8)])throw new _0x276337(_0x15ca7a[_0x41386b(0x928)],_0x41386b(0x5a7));if(!(this[_0x41386b(0x35b)]instanceof _0x19cc52))throw new _0x276337(_0x15ca7a['NodeInvalidType'],_0x41386b(0x304));const _0x20dcfe=this['options'][_0x41386b(0x7e8)][_0x41386b(0x6e6)](_0x56a7f2);if(!_0x20dcfe)throw new _0x276337(_0x15ca7a['ExternalStorageConnectorsMissing'],_0x41386b(0x5a7));const _0x4b0da5=this[_0x41386b(0x539)][_0x41386b(0x163)](_0x90b698,_0x20dcfe),_0x7debf0=this['connectionManager'][_0x41386b(0x473)]();return this['subscriptionManager'][_0x41386b(0x62d)](_0x4b0da5,_0x7debf0),this['subscriptionManager']['createIncomingSubscription'](_0x7debf0,_0x4b0da5),await _0x4b0da5['open'](),_0x4b0da5;}catch(_0x26f875){throw this[_0x41386b(0x980)](_0x26f875,{});}}async[_0xd4b2e(0x96a)](_0x797db,_0x11a414,_0x1988e0){const _0x307381=_0xd4b2e;try{_0x1988e0=_0x1988e0||this[_0x307381(0x49e)][_0x307381(0x818)];const _0x186c01=await this['contentManager'][_0x307381(0x50c)](_0x797db,_0x11a414,_0x1988e0),_0x12ebbd=this['connectionManager'][_0x307381(0x473)]();return this[_0x307381(0x376)][_0x307381(0x62d)](_0x186c01,_0x12ebbd),this[_0x307381(0x376)]['createIncomingSubscription'](_0x12ebbd,_0x186c01),await _0x186c01[_0x307381(0x917)](),this[_0x307381(0x457)](_0x186c01),_0x186c01;}catch(_0x193a37){throw this[_0x307381(0x980)](_0x193a37,{});}}async[_0xd4b2e(0x444)](_0x48c763){const _0x75d250=_0xd4b2e;try{const _0x5aaf8d=await this[_0x75d250(0x539)]['createJobDispatcher'](_0x48c763,this[_0x75d250(0x3f2)]),_0x56dd72=this[_0x75d250(0x76e)][_0x75d250(0x473)]();return this[_0x75d250(0x376)]['createOutgoingSubscription'](_0x5aaf8d,_0x56dd72),this[_0x75d250(0x376)][_0x75d250(0x28f)](_0x56dd72,_0x5aaf8d),_0x5aaf8d[_0x75d250(0x917)](),_0x5aaf8d;}catch(_0x5c0577){throw this[_0x75d250(0x980)](_0x5c0577,{});}}async[_0xd4b2e(0x8fa)](_0x4ff82a){const _0x485c82=_0xd4b2e;throw new Error(_0x485c82(0x409));}async[_0xd4b2e(0x282)](_0x4fd4a7){const _0x418eb2=_0xd4b2e;try{const _0xc822f0=await this[_0x418eb2(0x539)][_0x418eb2(0x314)](_0x4fd4a7,this[_0x418eb2(0x3f2)]),_0x35361e=this[_0x418eb2(0x76e)]['getConnectionGroup']();return this[_0x418eb2(0x376)][_0x418eb2(0x62d)](_0xc822f0,_0x35361e),this[_0x418eb2(0x376)][_0x418eb2(0x28f)](_0x35361e,_0xc822f0),_0xc822f0[_0x418eb2(0x917)](),_0xc822f0;}catch(_0x2fe553){throw console['error'](_0x2fe553),this[_0x418eb2(0x980)](_0x2fe553,{});}}async[_0xd4b2e(0x8b9)](_0x251b0c){const _0xdd5d84=_0xd4b2e;try{if(!this[_0xdd5d84(0x49e)][_0xdd5d84(0x88c)]||!this[_0xdd5d84(0x49e)][_0xdd5d84(0x4ad)]||!this[_0xdd5d84(0x49e)][_0xdd5d84(0x660)])throw new _0x276337(_0x15ca7a[_0xdd5d84(0x905)],'Missing\x20AI\x20worker\x20connector');if(!(this[_0xdd5d84(0x35b)]instanceof _0x19cc52))throw new _0x276337(_0x15ca7a[_0xdd5d84(0x38a)],_0xdd5d84(0x304));const _0x276161=[];for(const _0x238d83 of this[_0xdd5d84(0x49e)][_0xdd5d84(0x88c)])_0x276161[_0xdd5d84(0x55a)](new _0x238d83());const _0x569b3b=new this['options'][(_0xdd5d84(0x4ad))](),_0x20892b=new this[(_0xdd5d84(0x49e))]['nlpLibraryConnector']();let _0x13f828,_0x302516,_0x389251;this[_0xdd5d84(0x49e)][_0xdd5d84(0x700)]&&(_0x13f828=new this[(_0xdd5d84(0x49e))]['searchConnector']()),this[_0xdd5d84(0x49e)]['aiSearchConnector']&&(_0x302516=new this['options'][(_0xdd5d84(0x302))]()),this[_0xdd5d84(0x49e)][_0xdd5d84(0x16c)]&&(_0x389251=new this[(_0xdd5d84(0x49e))]['queryFileConnector']());const _0x157ebe=await this[_0xdd5d84(0x539)][_0xdd5d84(0xa35)](_0x251b0c,this[_0xdd5d84(0x35b)],_0x276161,_0x569b3b,_0x20892b,_0x13f828,_0x302516,_0x389251),_0xd38596=this[_0xdd5d84(0x76e)]['getConnectionGroup']();this[_0xdd5d84(0x376)]['createOutgoingSubscription'](_0x157ebe,_0xd38596),this[_0xdd5d84(0x376)][_0xdd5d84(0x28f)](_0xd38596,_0x157ebe);const _0x40ff2e=this[_0xdd5d84(0x950)][_0xdd5d84(0x519)]();return await _0x157ebe[_0xdd5d84(0x917)](0x0===_0x40ff2e['length']||void 0x0),_0x157ebe;}catch(_0x4678bd){throw this[_0xdd5d84(0x980)](_0x4678bd,{});}}[_0xd4b2e(0x5f3)](_0x2d4654){const _0x2ddf3d=_0xd4b2e;try{if(!this[_0x2ddf3d(0x49e)][_0x2ddf3d(0x76c)])throw new _0x276337(_0x15ca7a[_0x2ddf3d(0x42a)],'Missing\x20graph\x20database\x20connector');if(!(this[_0x2ddf3d(0x35b)]instanceof _0x19cc52))throw new _0x276337(_0x15ca7a[_0x2ddf3d(0x38a)],_0x2ddf3d(0x304));const _0x5b1816=this[_0x2ddf3d(0x539)][_0x2ddf3d(0x591)](_0x2d4654,this[_0x2ddf3d(0x49e)][_0x2ddf3d(0x76c)]),_0x2011ee=this[_0x2ddf3d(0x76e)]['getConnectionGroup']();return this[_0x2ddf3d(0x376)][_0x2ddf3d(0x62d)](_0x5b1816,_0x2011ee),this[_0x2ddf3d(0x376)][_0x2ddf3d(0x28f)](_0x2011ee,_0x5b1816),_0x5b1816;}catch(_0x44329d){throw this[_0x2ddf3d(0x980)](_0x44329d,{});}}[_0xd4b2e(0x651)](_0x50247a){const _0x437962=_0xd4b2e;try{if(!this[_0x437962(0x49e)][_0x437962(0x7b2)])throw new _0x276337(_0x15ca7a[_0x437962(0x24b)],_0x437962(0x8f4));if(!(this[_0x437962(0x35b)]instanceof _0x19cc52))throw new _0x276337(_0x15ca7a[_0x437962(0x38a)],_0x437962(0x304));const _0x4d5b74=this[_0x437962(0x539)][_0x437962(0x390)](_0x50247a,this[_0x437962(0x49e)]['vectorDatabaseConnector']),_0x52852e=this[_0x437962(0x76e)]['getConnectionGroup']();return this[_0x437962(0x376)]['createOutgoingSubscription'](_0x4d5b74,_0x52852e),this[_0x437962(0x376)][_0x437962(0x28f)](_0x52852e,_0x4d5b74),_0x4d5b74;}catch(_0xc8c41d){throw this[_0x437962(0x980)](_0xc8c41d,{});}}[_0xd4b2e(0x857)](_0x454d95){const _0x14741c=_0xd4b2e;try{return this['contentManager'][_0x14741c(0x857)](_0x454d95);}catch(_0x40836c){throw this[_0x14741c(0x980)](_0x40836c,{});}}[_0xd4b2e(0x7a2)](_0x238458){const _0x2452a7=_0xd4b2e;try{return this[_0x2452a7(0x539)][_0x2452a7(0x7a2)](_0x238458);}catch(_0x2b9cc4){throw this[_0x2452a7(0x980)](_0x2b9cc4,{});}}['getExternalStorageConnections'](_0x219a5c){const _0x4f64e2=_0xd4b2e;try{return this[_0x4f64e2(0x539)][_0x4f64e2(0x541)](_0x219a5c);}catch(_0x5ae5b1){throw this['handleError'](_0x5ae5b1,{});}}[_0xd4b2e(0x420)](_0x53db3f){const _0x34f5b9=_0xd4b2e;try{return this[_0x34f5b9(0x539)]['getKeyValueDatabases'](_0x53db3f);}catch(_0x3223bc){throw this[_0x34f5b9(0x980)](_0x3223bc,{});}}[_0xd4b2e(0xa7c)](_0x4c8ef0){const _0x3104ed=_0xd4b2e;try{return this[_0x3104ed(0x539)]['getGenerativeAIContexts'](_0x4c8ef0);}catch(_0xba4a47){throw this[_0x3104ed(0x980)](_0xba4a47,{});}}['getGenerativeAIWorkers'](_0x1e1ae1){const _0x509175=_0xd4b2e;try{return this[_0x509175(0x539)][_0x509175(0x4d3)](_0x1e1ae1);}catch(_0x3b1a3c){throw this[_0x509175(0x980)](_0x3b1a3c,{});}}[_0xd4b2e(0x9f9)](_0x3e7b92){const _0x4fd1f9=_0xd4b2e;try{return this[_0x4fd1f9(0x539)][_0x4fd1f9(0x9f9)](_0x3e7b92);}catch(_0x254cef){throw this[_0x4fd1f9(0x980)](_0x254cef,{});}}[_0xd4b2e(0x89d)](_0xd8a8ae,_0x5bf0f9){const _0x64e040=_0xd4b2e;if(!this[_0x64e040(0x33f)][_0x64e040(0x2d8)][_0x64e040(0x29c)](_0x529903[_0x64e040(0x615)]))throw new _0x276337(_0x15ca7a[_0x64e040(0x3df)],_0x64e040(0x36b));try{return this[_0x64e040(0x539)][_0x64e040(0x89d)](_0xd8a8ae,_0x5bf0f9);}catch(_0x57d981){throw this[_0x64e040(0x980)](_0x57d981,{});}}[_0xd4b2e(0x767)](_0x397cbe,_0x2d8eea){const _0x47bae4=_0xd4b2e;if(!this[_0x47bae4(0x33f)][_0x47bae4(0x2d8)]['includes'](_0x529903[_0x47bae4(0x615)]))throw new _0x276337(_0x15ca7a[_0x47bae4(0x3df)],_0x47bae4(0x36b));try{return this[_0x47bae4(0x539)][_0x47bae4(0x767)](_0x397cbe,_0x2d8eea);}catch(_0x29a779){throw this[_0x47bae4(0x980)](_0x29a779,{});}}[_0xd4b2e(0x3c6)](_0x2b3467){const _0x14dbef=_0xd4b2e;if(!this[_0x14dbef(0x33f)][_0x14dbef(0x2d8)][_0x14dbef(0x29c)](_0x529903[_0x14dbef(0x615)]))throw new _0x276337(_0x15ca7a[_0x14dbef(0x3df)],_0x14dbef(0x36b));try{return this['contentManager'][_0x14dbef(0x3c6)](_0x2b3467);}catch(_0x28fb1c){throw this['handleError'](_0x28fb1c,{});}}[_0xd4b2e(0x16e)](_0x58d2c1){const _0x2e326a=_0xd4b2e;if(!this['configs'][_0x2e326a(0x2d8)][_0x2e326a(0x29c)](_0x529903['MediaStream']))throw new _0x276337(_0x15ca7a[_0x2e326a(0x3df)],_0x2e326a(0x36b));try{return this['contentManager']['getRemoteMediaStreams'](_0x58d2c1);}catch(_0x11c421){throw this[_0x2e326a(0x980)](_0x11c421,{});}}[_0xd4b2e(0x777)](_0x319638){const _0x46ef47=_0xd4b2e;try{return this[_0x46ef47(0x539)][_0x46ef47(0x777)](_0x319638);}catch(_0x451cbf){throw this[_0x46ef47(0x980)](_0x451cbf,{});}}[_0xd4b2e(0x2ce)](_0x1eb415,_0x571190){const _0x621043=_0xd4b2e;return this[_0x621043(0x950)][_0x621043(0x2ce)](_0x1eb415,_0x571190);}[_0xd4b2e(0x680)](){const _0x513241=_0xd4b2e;return this[_0x513241(0x950)][_0x513241(0x680)]();}[_0xd4b2e(0xa59)](_0x2ddfc8){const _0x584513=_0xd4b2e;try{return this[_0x584513(0x950)][_0x584513(0xa59)](_0x2ddfc8);}catch(_0x405961){throw this[_0x584513(0x980)](_0x405961,{});}}[_0xd4b2e(0x9fc)](){const _0x34e967=_0xd4b2e;return this[_0x34e967(0x76e)][_0x34e967(0x9fc)]();}[_0xd4b2e(0x9d5)](_0x107c2b){const _0x187f4a=_0xd4b2e;return this['nodeManager'][_0x187f4a(0x9d5)](_0x107c2b);}async[_0xd4b2e(0x40a)](_0xa4dedf){const _0x3620d4=_0xd4b2e;try{if(_0x98a765['log'](_0x831a2b[_0x3620d4(0x540)],_0x3620d4(0x4aa),this[_0x3620d4(0x950)][_0x3620d4(0x864)](),_0xa4dedf),_0x485106(_0xa4dedf,this[_0x3620d4(0x950)][_0x3620d4(0x864)]()))return void this[_0x3620d4(0x76e)][_0x3620d4(0x79f)](_0xa4dedf);switch(_0xa4dedf[_0x3620d4(0xa63)]){case _0x49e311['Content']:this[_0x3620d4(0x7de)]['handleContentSystemEvents'](_0xa4dedf),this[_0x3620d4(0x376)]['handleContentSystemEvents'](_0xa4dedf),this[_0x3620d4(0x539)]['handleContentSystemEvents'](_0xa4dedf);break;case _0x49e311[_0x3620d4(0x230)]:this['subscriptionManager'][_0x3620d4(0x631)](_0xa4dedf),this[_0x3620d4(0x76e)][_0x3620d4(0x631)](_0xa4dedf),this[_0x3620d4(0x539)][_0x3620d4(0x631)](_0xa4dedf),this[_0x3620d4(0x950)][_0x3620d4(0x631)](_0xa4dedf);break;case _0x49e311['Detection']:this['remediationManager'][_0x3620d4(0x42e)](_0xa4dedf);break;case _0x49e311[_0x3620d4(0x4c3)]:this[_0x3620d4(0x548)][_0x3620d4(0x34b)](_0xa4dedf);break;case _0x49e311[_0x3620d4(0xa34)]:this[_0x3620d4(0x63f)][_0x3620d4(0x6fc)](_0xa4dedf);break;case _0x49e311[_0x3620d4(0x67e)]:_0xa4dedf[_0x3620d4(0x580)]['type']!==_0x2478e8[_0x3620d4(0x208)]?(this[_0x3620d4(0x376)][_0x3620d4(0x1eb)](_0xa4dedf),this[_0x3620d4(0x539)][_0x3620d4(0x1eb)](_0xa4dedf)):(this[_0x3620d4(0x539)]['handleSubscriptionSystemEvents'](_0xa4dedf),this['subscriptionManager']['handleSubscriptionSystemEvents'](_0xa4dedf));break;case _0x49e311[_0x3620d4(0x73c)]:await this[_0x3620d4(0x76e)]['handlePeerConnectionSystemEvents'](_0xa4dedf),this[_0x3620d4(0x7de)][_0x3620d4(0x911)](_0xa4dedf),this[_0x3620d4(0x950)]['handlePeerConnectionSystemEvents'](_0xa4dedf),this[_0x3620d4(0x376)][_0x3620d4(0x911)](_0xa4dedf);}}catch(_0x5ab74c){throw _0x98a765[_0x3620d4(0x7cf)](_0x3620d4(0x40a),_0x5ab74c),this[_0x3620d4(0x980)](_0x5ab74c,{});}}[_0xd4b2e(0x980)](_0x411c1e,_0x300c39){const _0x15fff1=_0xd4b2e;if(!(_0x411c1e instanceof _0x589491)){if(_0x411c1e instanceof _0x276337)throw _0x411c1e;if(!(_0x411c1e instanceof Error))throw new _0x276337(_0x15ca7a[_0x15fff1(0x5a6)],_0x15fff1(0x3b8)+_0x411c1e);if(!(_0x411c1e instanceof _0x1cac69))throw new _0x276337(_0x15ca7a[_0x15fff1(0x5a6)],_0x15fff1(0x53d)+_0x411c1e[_0x15fff1(0x2b6)]);switch(_0x411c1e[_0x15fff1(0x12c)]){case _0x1cac69[_0x15fff1(0x15e)][_0x15fff1(0x4d1)]:case _0x1cac69[_0x15fff1(0x15e)][_0x15fff1(0xa7e)]:case _0x1cac69[_0x15fff1(0x15e)][_0x15fff1(0x726)]:case _0x1cac69[_0x15fff1(0x15e)][_0x15fff1(0x7eb)]:case _0x1cac69['codes']['ConnectionNotConnected']:case _0x1cac69['codes'][_0x15fff1(0x355)]:case _0x1cac69[_0x15fff1(0x15e)][_0x15fff1(0x44f)]:case _0x1cac69[_0x15fff1(0x15e)][_0x15fff1(0x577)]:case _0x1cac69['codes'][_0x15fff1(0x87e)]:case _0x1cac69['codes'][_0x15fff1(0x9f0)]:case _0x1cac69[_0x15fff1(0x15e)][_0x15fff1(0x606)]:case _0x1cac69['codes'][_0x15fff1(0x2ad)]:}throw _0x98a765[_0x15fff1(0x940)](_0x15fff1(0x98b)+_0x411c1e[_0x15fff1(0x2b6)],{'clusterId':this[_0x15fff1(0x6d7)],'nodeId':this['localNode']['getId'](),'nodeType':this[_0x15fff1(0x3ff)][_0x15fff1(0x747)]},_0x411c1e),new _0x276337(_0x15ca7a[_0x15fff1(0x5a6)],_0x15fff1(0x945)+_0x411c1e[_0x15fff1(0x2b6)]);}}[_0xd4b2e(0x84b)](){const _0x2f5c30=_0xd4b2e;return{'mediator':this,'vendorId':this[_0x2f5c30(0x313)],'clusterId':this[_0x2f5c30(0x6d7)],'localNode':this[_0x2f5c30(0x3ff)]};}[_0xd4b2e(0x13d)](){const _0x1a605b=_0xd4b2e;return this[_0x1a605b(0x598)]['subscribe'](_0x1f6967=>{const _0xa5fd52=_0x1a605b,_0x10239f=_0x1a3ffa(_0x1f6967,this[_0xa5fd52(0x3ff)][_0xa5fd52(0x2a6)]()),_0x552a9b=_0x1f6967[_0xa5fd52(0xa63)]===_0x49e311['Stats']||_0x1f6967[_0xa5fd52(0xa63)]===_0x49e311[_0xa5fd52(0x73c)]&&_0x1f6967[_0xa5fd52(0x580)][_0xa5fd52(0x747)]===_0x4d0115['Stats']?_0x831a2b['SystemStats']:_0x831a2b['System'];_0x98a765[_0xa5fd52(0x3e2)](_0x552a9b,_0x1f6967[_0xa5fd52(0x442)]+_0xa5fd52(0x4d9)+_0x10239f,_0x1f6967),this[_0xa5fd52(0x40a)](_0x1f6967)[_0xa5fd52(0x1bd)](_0x8b6762=>{const _0x58c1cc=_0xa5fd52;console[_0x58c1cc(0x940)](_0x8b6762);});});}async[_0xd4b2e(0x457)](_0xe7b33a){const _0x2745e4=_0xd4b2e,{timingLogger:_0x19ad6b,logger:_0x318a50,logBeforeSync:_0x4214a7,logAfterSync:_0x478d7a}=function(_0x1cadf0,_0x596198){const _0x45936c=a0_0x2e29;if(!_0x98a765[_0x45936c(0x350)](_0x596198))return _0x98a765[_0x45936c(0x7cf)](_0x45936c(0xa5a)+_0x596198),{..._0x35663f(_0x1cadf0,_0x596198),'syncStartTime':0x0,'logBeforeSync':()=>0x0,'logAfterSync':()=>{}};const {timingLogger:_0x4e1c55,logger:_0x3fd354}=_0x35663f(_0x1cadf0,_0x596198);let _0x145924=0x0;return _0x145924=Date[_0x45936c(0x702)](),{'syncStartTime':_0x145924,'timingLogger':_0x4e1c55,'logger':_0x3fd354,'logBeforeSync':()=>(_0x3efdc9(_0x596198,_0x45936c(0x31c)),_0x4e1c55['now']()),'logAfterSync':(_0x19a3d0,_0x5639a6)=>{const _0x13a30e=_0x45936c,_0x156cd2=Date['now']();_0x3efdc9(_0x596198,_0x13a30e(0x77a)+_0x5639a6);const _0x344d53=(_0x156cd2-_0x145924)/0x3e8,_0x417006=(_0x156cd2-_0x19a3d0)/0x3e8;_0x98a765[_0x13a30e(0x22d)](_0x596198,_0x13a30e(0xa24),_0x1cadf0,_0x13a30e(0x2e0)+_0x344d53[_0x13a30e(0x3d0)](0x2)+_0x13a30e(0x358),_0x13a30e(0x297)+_0x417006[_0x13a30e(0x3d0)](0x3)+_0x13a30e(0x358),_0x13a30e(0x7b1)+((_0x156cd2-_0x145924)/0x3e8-_0x417006)[_0x13a30e(0x3d0)](0x2)+_0x13a30e(0x358));}};}(_0xe7b33a[_0x2745e4(0x255)](),_0x831a2b[_0x2745e4(0x329)]);_0x318a50[_0x2745e4(0x22d)](_0x2745e4(0x9ed));const _0x5b2dd4=this['nodeManager'][_0x2745e4(0x519)]()['length']>0x0;if(_0x5b2dd4){_0x318a50[_0x2745e4(0x22d)](_0x2745e4(0x21e),()=>this['nodeManager'][_0x2745e4(0x519)]()),_0x19ad6b[_0x2745e4(0x9b3)](),await Promise[_0x2745e4(0x60b)](this[_0x2745e4(0x950)][_0x2745e4(0x519)]()[_0x2745e4(0x7da)](async _0x4da4c1=>await this[_0x2745e4(0x950)][_0x2745e4(0x9d5)](_0x4da4c1)))[_0x2745e4(0x1bd)](_0x1ec526=>_0x98a765[_0x2745e4(0x67c)](_0x2745e4(0x17f),{'nodeId':this[_0x2745e4(0x3ff)][_0x2745e4(0x2a6)](),'nodeType':this[_0x2745e4(0x3ff)][_0x2745e4(0x747)]}));const _0x3a71a5=_0x318a50[_0x2745e4(0x9ff)](()=>this['nodeManager'][_0x2745e4(0x519)](),[]);_0x19ad6b[_0x2745e4(0x3bc)](_0x2745e4(0x64c)+_0x3a71a5+_0x2745e4(0x740));}_0x478d7a(_0x4214a7(),await _0xe7b33a[_0x2745e4(0x365)](_0x5b2dd4,async()=>{const _0x504b10=_0x2745e4;_0x19ad6b[_0x504b10(0x9b3)](),await this[_0x504b10(0x950)][_0x504b10(0x910)](),_0x19ad6b[_0x504b10(0x3bc)](_0x504b10(0x1bc)),_0xe7b33a['sync'](!0x0,()=>{const _0x4f18a8=_0x504b10;_0x318a50['log'](_0x4f18a8(0x4cb)),_0xe7b33a[_0x4f18a8(0x365)](!0x1);},!0x0);}));}}class _0xd3e14d{[_0xd4b2e(0x313)];['clusterId'];['authNode'];[_0xd4b2e(0x3d1)];['orchestrator'];constructor(_0x55cae6,_0x3aa06b,_0xc50d89,_0x503a37,_0x11cf2b,_0x33a18e,_0x2d4943=new _0x256e49()){const _0x50fd21=_0xd4b2e;this[_0x50fd21(0x313)]=_0x55cae6,this['clusterId']=_0x3aa06b,this[_0x50fd21(0x35b)]=_0xc50d89,this[_0x50fd21(0x3d1)]=_0x2d4943,this[_0x50fd21(0x2ba)]=new _0x132865(this[_0x50fd21(0x313)],this[_0x50fd21(0x6d7)],_0xc50d89,_0x503a37,_0x11cf2b,_0x33a18e,this);}async['join'](){const _0x1b2057=_0xd4b2e;await this[_0x1b2057(0x2ba)][_0x1b2057(0x306)](),this[_0x1b2057(0x35b)][_0x1b2057(0x747)]===_0x29f76b[_0x1b2057(0x8e2)][_0x1b2057(0x9d1)]&&this[_0x1b2057(0x35b)][_0x1b2057(0x7fc)](this[_0x1b2057(0x6d7)],_0x2fae39=>{const _0x396744=_0x1b2057;this[_0x396744(0x2ba)][_0x396744(0x268)](_0x2fae39);});}[_0xd4b2e(0x126)](_0x45103f={}){const _0x59b428=_0xd4b2e;this['orchestrator'][_0x59b428(0x27e)](_0x45103f),this[_0x59b428(0x35b)]['type']===_0x29f76b[_0x59b428(0x8e2)]['User']&&this['authNode'][_0x59b428(0x9ea)](this[_0x59b428(0x6d7)]),this[_0x59b428(0x418)](_0x59b428(0x685),void 0x0);}[_0xd4b2e(0x906)](_0xe7aa70){const _0x505fba=_0xd4b2e,_0x4fa2b4=this[_0x505fba(0x2ba)][_0x505fba(0x906)](_0xe7aa70);return{'getName':_0x4fa2b4[_0x505fba(0x1c5)][_0x505fba(0x536)](_0x4fa2b4),'getOwnerId':_0x4fa2b4['getOwnerId']['bind'](_0x4fa2b4),'getContentType':_0x4fa2b4[_0x505fba(0x161)][_0x505fba(0x536)](_0x4fa2b4),'publish':_0x4fa2b4[_0x505fba(0x2b2)][_0x505fba(0x536)](_0x4fa2b4),'subscribe':_0x4fa2b4[_0x505fba(0x696)][_0x505fba(0x536)](_0x4fa2b4),'unsubscribe':_0x4fa2b4[_0x505fba(0x37a)]['bind'](_0x4fa2b4),'close':_0x4fa2b4[_0x505fba(0x27e)][_0x505fba(0x536)](_0x4fa2b4)};}async[_0xd4b2e(0x467)](_0x2e4875,_0x1f901b){const _0x4ba5d0=_0xd4b2e,_0x3783e7=await this[_0x4ba5d0(0x2ba)]['openObjectStoreBucket'](_0x2e4875,_0x1f901b);return{'getName':_0x3783e7[_0x4ba5d0(0x1c5)][_0x4ba5d0(0x536)](_0x3783e7),'getOwnerId':_0x3783e7[_0x4ba5d0(0x4da)][_0x4ba5d0(0x536)](_0x3783e7),'getContentType':_0x3783e7['getContentType'][_0x4ba5d0(0x536)](_0x3783e7),'publish':_0x3783e7['publish'][_0x4ba5d0(0x536)](_0x3783e7),'unpublish':_0x3783e7[_0x4ba5d0(0x2eb)]['bind'](_0x3783e7),'get':_0x3783e7[_0x4ba5d0(0x6e6)][_0x4ba5d0(0x536)](_0x3783e7),'list':_0x3783e7[_0x4ba5d0(0x3ad)][_0x4ba5d0(0x536)](_0x3783e7),'getSize':_0x3783e7[_0x4ba5d0(0x4c5)][_0x4ba5d0(0x536)](_0x3783e7),'subscribe':_0x3783e7[_0x4ba5d0(0x696)][_0x4ba5d0(0x536)](_0x3783e7),'unsubscribe':_0x3783e7[_0x4ba5d0(0x37a)][_0x4ba5d0(0x536)](_0x3783e7),'close':_0x3783e7['close']['bind'](_0x3783e7)};}async[_0xd4b2e(0xa04)](_0x28f80a,_0x13fe59){const _0x1798fa=_0xd4b2e,_0x12782c=await this['orchestrator']['openExternalStorageConnection'](_0x28f80a,_0x13fe59);return{'getName':_0x12782c[_0x1798fa(0x1c5)][_0x1798fa(0x536)](_0x12782c),'getOwnerId':_0x12782c['getOwnerId']['bind'](_0x12782c),'getContentType':_0x12782c[_0x1798fa(0x161)][_0x1798fa(0x536)](_0x12782c),'close':_0x12782c[_0x1798fa(0x27e)][_0x1798fa(0x536)](_0x12782c),'get':_0x12782c['get'][_0x1798fa(0x536)](_0x12782c),'list':_0x12782c[_0x1798fa(0x3ad)]['bind'](_0x12782c),'subscribe':_0x12782c[_0x1798fa(0x696)][_0x1798fa(0x536)](_0x12782c),'unsubscribe':_0x12782c[_0x1798fa(0x37a)][_0x1798fa(0x536)](_0x12782c)};}async[_0xd4b2e(0x96a)](_0x28219d,_0x50c249,_0x23beda){const _0x45aa54=_0xd4b2e,_0x41cc8d=await this[_0x45aa54(0x2ba)][_0x45aa54(0x96a)](_0x28219d,_0x50c249,_0x23beda);return{'getName':_0x41cc8d[_0x45aa54(0x1c5)][_0x45aa54(0x536)](_0x41cc8d),'getOwnerId':_0x41cc8d[_0x45aa54(0x4da)][_0x45aa54(0x536)](_0x41cc8d),'getContentType':_0x41cc8d[_0x45aa54(0x161)][_0x45aa54(0x536)](_0x41cc8d),'getTable':_0x41cc8d['getTable'][_0x45aa54(0x536)](_0x41cc8d),'subscribe':_0x41cc8d[_0x45aa54(0x696)][_0x45aa54(0x536)](_0x41cc8d),'unsubscribe':_0x41cc8d[_0x45aa54(0x37a)][_0x45aa54(0x536)](_0x41cc8d),'close':_0x41cc8d[_0x45aa54(0x27e)][_0x45aa54(0x536)](_0x41cc8d)};}async[_0xd4b2e(0x444)](_0x4824e8){const _0x1116e4=_0xd4b2e,_0x1cc38c=await this[_0x1116e4(0x2ba)][_0x1116e4(0x444)](_0x4824e8);return{'getName':_0x1cc38c[_0x1116e4(0x1c5)]['bind'](_0x1cc38c),'getOwnerId':_0x1cc38c['getOwnerId'][_0x1116e4(0x536)](_0x1cc38c),'getContentType':_0x1cc38c[_0x1116e4(0x161)][_0x1116e4(0x536)](_0x1cc38c),'createJob':_0x1cc38c[_0x1116e4(0x936)]['bind'](_0x1cc38c),'getJob':_0x1cc38c['getJob'][_0x1116e4(0x536)](_0x1cc38c),'getJobs':_0x1cc38c[_0x1116e4(0xa61)][_0x1116e4(0x536)](_0x1cc38c),'close':_0x1cc38c[_0x1116e4(0x27e)][_0x1116e4(0x536)](_0x1cc38c)};}async['openJobWorker'](_0x697819){const _0x135989=_0xd4b2e,_0x1eeefc=await this[_0x135989(0x2ba)][_0x135989(0x8fa)](_0x697819);return{'close':_0x1eeefc['close']['bind'](_0x1eeefc)};}async[_0xd4b2e(0x282)](_0x203576){const _0x99e1da=_0xd4b2e,_0x48f35b=await this[_0x99e1da(0x2ba)][_0x99e1da(0x282)](_0x203576);return{'createAIJob':_0x48f35b[_0x99e1da(0x98d)][_0x99e1da(0x536)](_0x48f35b),'ratePrompt':_0x48f35b[_0x99e1da(0x874)][_0x99e1da(0x536)](_0x48f35b),'downloadDocument':_0x48f35b[_0x99e1da(0x284)][_0x99e1da(0x536)](_0x48f35b),'search':_0x48f35b['search'][_0x99e1da(0x536)](_0x48f35b),'getDataBucketIds':_0x48f35b['getDataBucketIds'][_0x99e1da(0x536)](_0x48f35b),'close':_0x48f35b['close'][_0x99e1da(0x536)](_0x48f35b)};}async[_0xd4b2e(0x8b9)](_0x341b9e){const _0x4b82c6=_0xd4b2e,_0x213ed9=await this['orchestrator'][_0x4b82c6(0x8b9)](_0x341b9e);return{'close':_0x213ed9[_0x4b82c6(0x27e)][_0x4b82c6(0x536)](_0x213ed9)};}['openGraphDatabase'](_0x16787d){const _0x3b2d7c=_0xd4b2e,_0x115f2e=this[_0x3b2d7c(0x2ba)][_0x3b2d7c(0x5f3)](_0x16787d);return{'getName':_0x115f2e['getName'][_0x3b2d7c(0x536)](_0x115f2e),'getOwnerId':_0x115f2e[_0x3b2d7c(0x4da)]['bind'](_0x115f2e),'getContentType':_0x115f2e[_0x3b2d7c(0x161)][_0x3b2d7c(0x536)](_0x115f2e),'addNode':_0x115f2e[_0x3b2d7c(0x261)]['bind'](_0x115f2e),'addEdge':_0x115f2e[_0x3b2d7c(0x42b)][_0x3b2d7c(0x536)](_0x115f2e),'getContent':_0x115f2e[_0x3b2d7c(0x3cf)]['bind'](_0x115f2e),'remove':_0x115f2e[_0x3b2d7c(0x886)][_0x3b2d7c(0x536)](_0x115f2e),'saveToDisk':_0x115f2e[_0x3b2d7c(0x582)][_0x3b2d7c(0x536)](_0x115f2e),'loadFromDisk':_0x115f2e[_0x3b2d7c(0x470)][_0x3b2d7c(0x536)](_0x115f2e),'close':_0x115f2e[_0x3b2d7c(0x27e)][_0x3b2d7c(0x536)](_0x115f2e)};}[_0xd4b2e(0x651)](_0x207f71){const _0x4862ff=_0xd4b2e,_0x168649=this[_0x4862ff(0x2ba)]['openVectorDatabase'](_0x207f71);return{'getName':_0x168649[_0x4862ff(0x1c5)][_0x4862ff(0x536)](_0x168649),'getOwnerId':_0x168649[_0x4862ff(0x4da)][_0x4862ff(0x536)](_0x168649),'getContentType':_0x168649[_0x4862ff(0x161)][_0x4862ff(0x536)](_0x168649),'search':_0x168649[_0x4862ff(0x174)][_0x4862ff(0x536)](_0x168649),'insert':_0x168649[_0x4862ff(0x21c)][_0x4862ff(0x536)](_0x168649),'remove':_0x168649[_0x4862ff(0x886)][_0x4862ff(0x536)](_0x168649),'saveToDisk':_0x168649['saveToDisk'][_0x4862ff(0x536)](_0x168649),'loadFromDisk':_0x168649['loadFromDisk'][_0x4862ff(0x536)](_0x168649),'close':_0x168649['close'][_0x4862ff(0x536)](_0x168649)};}[_0xd4b2e(0x857)](_0x5cc21c){const _0x2830b7=_0xd4b2e;return this['orchestrator'][_0x2830b7(0x857)](_0x5cc21c)[_0x2830b7(0x7da)](_0x56cb7e=>({'getName':_0x56cb7e['getName'][_0x2830b7(0x536)](_0x56cb7e),'getOwnerId':_0x56cb7e[_0x2830b7(0x4da)][_0x2830b7(0x536)](_0x56cb7e),'getContentType':_0x56cb7e['getContentType'][_0x2830b7(0x536)](_0x56cb7e),'publish':_0x56cb7e[_0x2830b7(0x2b2)][_0x2830b7(0x536)](_0x56cb7e),'subscribe':_0x56cb7e[_0x2830b7(0x696)][_0x2830b7(0x536)](_0x56cb7e),'unsubscribe':_0x56cb7e['unsubscribe'][_0x2830b7(0x536)](_0x56cb7e),'close':_0x56cb7e[_0x2830b7(0x27e)]['bind'](_0x56cb7e)}));}[_0xd4b2e(0x7a2)](_0x42bee6){const _0x29cdff=_0xd4b2e;return this[_0x29cdff(0x2ba)][_0x29cdff(0x7a2)](_0x42bee6)['map'](_0x1b4fca=>({'getName':_0x1b4fca[_0x29cdff(0x1c5)][_0x29cdff(0x536)](_0x1b4fca),'getOwnerId':_0x1b4fca[_0x29cdff(0x4da)][_0x29cdff(0x536)](_0x1b4fca),'getContentType':_0x1b4fca[_0x29cdff(0x161)][_0x29cdff(0x536)](_0x1b4fca),'publish':_0x1b4fca[_0x29cdff(0x2b2)]['bind'](_0x1b4fca),'unpublish':_0x1b4fca['unpublish'][_0x29cdff(0x536)](_0x1b4fca),'get':_0x1b4fca[_0x29cdff(0x6e6)][_0x29cdff(0x536)](_0x1b4fca),'list':_0x1b4fca[_0x29cdff(0x3ad)]['bind'](_0x1b4fca),'getSize':_0x1b4fca[_0x29cdff(0x4c5)][_0x29cdff(0x536)](_0x1b4fca),'subscribe':_0x1b4fca['subscribe']['bind'](_0x1b4fca),'unsubscribe':_0x1b4fca['unsubscribe'][_0x29cdff(0x536)](_0x1b4fca),'close':_0x1b4fca[_0x29cdff(0x27e)]['bind'](_0x1b4fca)}));}[_0xd4b2e(0x541)](_0x2a4776){const _0x275ae2=_0xd4b2e;return this[_0x275ae2(0x2ba)][_0x275ae2(0x541)](_0x2a4776)[_0x275ae2(0x7da)](_0x2edf31=>({'getName':_0x2edf31[_0x275ae2(0x1c5)][_0x275ae2(0x536)](_0x2edf31),'getOwnerId':_0x2edf31[_0x275ae2(0x4da)][_0x275ae2(0x536)](_0x2edf31),'getContentType':_0x2edf31[_0x275ae2(0x161)][_0x275ae2(0x536)](_0x2edf31),'close':_0x2edf31[_0x275ae2(0x27e)][_0x275ae2(0x536)](_0x2edf31),'get':_0x2edf31[_0x275ae2(0x6e6)]['bind'](_0x2edf31),'list':_0x2edf31['list']['bind'](_0x2edf31),'subscribe':_0x2edf31[_0x275ae2(0x696)]['bind'](_0x2edf31),'unsubscribe':_0x2edf31[_0x275ae2(0x37a)]['bind'](_0x2edf31)}));}[_0xd4b2e(0x420)](_0x3a07e8){const _0x5f32c3=_0xd4b2e;return this['orchestrator'][_0x5f32c3(0x420)](_0x3a07e8)[_0x5f32c3(0x7da)](_0x53851e=>({'getName':_0x53851e[_0x5f32c3(0x1c5)][_0x5f32c3(0x536)](_0x53851e),'getOwnerId':_0x53851e['getOwnerId'][_0x5f32c3(0x536)](_0x53851e),'getContentType':_0x53851e['getContentType'][_0x5f32c3(0x536)](_0x53851e),'getTable':_0x53851e[_0x5f32c3(0x6a7)][_0x5f32c3(0x536)](_0x53851e),'subscribe':_0x53851e[_0x5f32c3(0x696)]['bind'](_0x53851e),'unsubscribe':_0x53851e[_0x5f32c3(0x37a)]['bind'](_0x53851e),'close':_0x53851e[_0x5f32c3(0x27e)]['bind'](_0x53851e)}));}[_0xd4b2e(0xa7c)](_0x14e2cd){const _0x3ccb35=_0xd4b2e;return this['orchestrator'][_0x3ccb35(0xa7c)](_0x14e2cd)[_0x3ccb35(0x7da)](_0x5e9e6a=>({'createAIJob':_0x5e9e6a[_0x3ccb35(0x98d)]['bind'](_0x5e9e6a),'ratePrompt':_0x5e9e6a[_0x3ccb35(0x874)]['bind'](_0x5e9e6a),'downloadDocument':_0x5e9e6a[_0x3ccb35(0x284)][_0x3ccb35(0x536)](_0x5e9e6a),'search':_0x5e9e6a[_0x3ccb35(0x174)]['bind'](_0x5e9e6a),'getDataBucketIds':_0x5e9e6a[_0x3ccb35(0x2f6)]['bind'](_0x5e9e6a),'close':_0x5e9e6a['close']['bind'](_0x5e9e6a)}));}[_0xd4b2e(0x4d3)](_0x194c7e){const _0x497bff=_0xd4b2e;return this['orchestrator']['getGenerativeAIWorkers'](_0x194c7e)[_0x497bff(0x7da)](_0x3464f1=>({'close':_0x3464f1[_0x497bff(0x27e)][_0x497bff(0x536)](_0x3464f1)}));}['publishLocalMediaStream'](_0x35b93f,_0x252141){const _0x2f9731=_0xd4b2e,_0x386e22=this[_0x2f9731(0x2ba)]['createLocalMediaStream'](_0x35b93f,_0x252141);return{'getLabel':_0x386e22['getLabel'][_0x2f9731(0x536)](_0x386e22),'getOwnerId':_0x386e22[_0x2f9731(0x4da)][_0x2f9731(0x536)](_0x386e22),'getContentType':_0x386e22[_0x2f9731(0x161)][_0x2f9731(0x536)](_0x386e22),'getMediaStream':_0x386e22[_0x2f9731(0x865)][_0x2f9731(0x536)](_0x386e22),'setPriority':_0x386e22[_0x2f9731(0x9dc)][_0x2f9731(0x536)](_0x386e22),'unpublish':_0x386e22[_0x2f9731(0x2eb)]['bind'](_0x386e22)};}[_0xd4b2e(0x292)](_0x3d11e6,_0x354488){const _0x42dd15=_0xd4b2e,_0x3769fc=this[_0x42dd15(0x2ba)][_0x42dd15(0x767)](_0x3d11e6,_0x354488);return{'getLabel':_0x3769fc[_0x42dd15(0x255)][_0x42dd15(0x536)](_0x3769fc),'getOwnerId':_0x3769fc[_0x42dd15(0x4da)][_0x42dd15(0x536)](_0x3769fc),'getContentType':_0x3769fc[_0x42dd15(0x161)]['bind'](_0x3769fc),'setPriority':_0x3769fc[_0x42dd15(0x9dc)][_0x42dd15(0x536)](_0x3769fc),'unpublish':_0x3769fc[_0x42dd15(0x2eb)][_0x42dd15(0x536)](_0x3769fc),'getMediaStream':_0x3769fc[_0x42dd15(0x865)]['bind'](_0x3769fc),'addTrack':_0x3769fc['addTrack'][_0x42dd15(0x536)](_0x3769fc),'removeTrack':_0x3769fc[_0x42dd15(0x1e7)][_0x42dd15(0x536)](_0x3769fc),'replaceTrack':_0x3769fc[_0x42dd15(0x829)][_0x42dd15(0x536)](_0x3769fc),'setTransformations':_0x3769fc[_0x42dd15(0x24d)][_0x42dd15(0x536)](_0x3769fc)};}['getLocalMediaStreams'](_0x5a0e22){const _0x5e7ab5=_0xd4b2e;return this['orchestrator']['getLocalMediaStreams'](_0x5a0e22)[_0x5e7ab5(0x7da)](_0x30782c=>({'getLabel':_0x30782c[_0x5e7ab5(0x255)]['bind'](_0x30782c),'getOwnerId':_0x30782c['getOwnerId'][_0x5e7ab5(0x536)](_0x30782c),'getContentType':_0x30782c[_0x5e7ab5(0x161)][_0x5e7ab5(0x536)](_0x30782c),'getMediaStream':_0x30782c[_0x5e7ab5(0x865)][_0x5e7ab5(0x536)](_0x30782c),'setPriority':_0x30782c['setPriority'][_0x5e7ab5(0x536)](_0x30782c),'unpublish':_0x30782c[_0x5e7ab5(0x2eb)][_0x5e7ab5(0x536)](_0x30782c)}));}[_0xd4b2e(0x16e)](_0x461f2d){const _0x4270c3=_0xd4b2e;return this['orchestrator'][_0x4270c3(0x16e)](_0x461f2d)[_0x4270c3(0x7da)](_0x41f2f0=>({'getLabel':_0x41f2f0[_0x4270c3(0x255)]['bind'](_0x41f2f0),'getOwnerId':_0x41f2f0[_0x4270c3(0x4da)][_0x4270c3(0x536)](_0x41f2f0),'getContentType':_0x41f2f0[_0x4270c3(0x161)][_0x4270c3(0x536)](_0x41f2f0),'getMediaStream':_0x41f2f0[_0x4270c3(0x865)][_0x4270c3(0x536)](_0x41f2f0),'subscribe':_0x41f2f0['subscribe']['bind'](_0x41f2f0),'unsubscribe':_0x41f2f0[_0x4270c3(0x37a)][_0x4270c3(0x536)](_0x41f2f0),'getAvailableTrackKinds':_0x41f2f0[_0x4270c3(0x5cc)][_0x4270c3(0x536)](_0x41f2f0),'update':_0x41f2f0[_0x4270c3(0x3bf)][_0x4270c3(0x536)](_0x41f2f0),'onProviderChange':_0x41f2f0[_0x4270c3(0x7a8)][_0x4270c3(0x536)](_0x41f2f0)}));}[_0xd4b2e(0x9f9)](_0x32de58){const _0x1cde50=_0xd4b2e;return this[_0x1cde50(0x2ba)][_0x1cde50(0x9f9)](_0x32de58)['map'](_0x5e0a9b=>({'getName':_0x5e0a9b['getName'][_0x1cde50(0x536)](_0x5e0a9b),'getOwnerId':_0x5e0a9b[_0x1cde50(0x4da)][_0x1cde50(0x536)](_0x5e0a9b),'getContentType':_0x5e0a9b['getContentType']['bind'](_0x5e0a9b),'addNode':_0x5e0a9b[_0x1cde50(0x261)][_0x1cde50(0x536)](_0x5e0a9b),'addEdge':_0x5e0a9b[_0x1cde50(0x42b)]['bind'](_0x5e0a9b),'getContent':_0x5e0a9b['getContent']['bind'](_0x5e0a9b),'remove':_0x5e0a9b['remove']['bind'](_0x5e0a9b),'saveToDisk':_0x5e0a9b[_0x1cde50(0x582)][_0x1cde50(0x536)](_0x5e0a9b),'loadFromDisk':_0x5e0a9b[_0x1cde50(0x470)][_0x1cde50(0x536)](_0x5e0a9b),'close':_0x5e0a9b[_0x1cde50(0x27e)][_0x1cde50(0x536)](_0x5e0a9b)}));}['getVectorDatabases'](_0x223173){const _0x12b398=_0xd4b2e;return this[_0x12b398(0x2ba)]['getVectorDatabases'](_0x223173)['map'](_0x582e90=>({'getName':_0x582e90[_0x12b398(0x1c5)][_0x12b398(0x536)](_0x582e90),'getOwnerId':_0x582e90[_0x12b398(0x4da)][_0x12b398(0x536)](_0x582e90),'getContentType':_0x582e90[_0x12b398(0x161)][_0x12b398(0x536)](_0x582e90),'search':_0x582e90['search'][_0x12b398(0x536)](_0x582e90),'insert':_0x582e90['insert'][_0x12b398(0x536)](_0x582e90),'remove':_0x582e90[_0x12b398(0x886)][_0x12b398(0x536)](_0x582e90),'saveToDisk':_0x582e90[_0x12b398(0x582)]['bind'](_0x582e90),'loadFromDisk':_0x582e90['loadFromDisk'][_0x12b398(0x536)](_0x582e90),'close':_0x582e90[_0x12b398(0x27e)]['bind'](_0x582e90)}));}[_0xd4b2e(0x680)](){const _0x6c5f09=_0xd4b2e,_0x3ccbbe=this[_0x6c5f09(0x2ba)][_0x6c5f09(0x680)]();switch(_0x3ccbbe[_0x6c5f09(0x747)]){case _0x29f76b['NodeType'][_0x6c5f09(0x9d1)]:return{'type':_0x29f76b['NodeType'][_0x6c5f09(0x9d1)],'getId':_0x3ccbbe[_0x6c5f09(0x2a6)][_0x6c5f09(0x536)](_0x3ccbbe),'getDisplayName':_0x3ccbbe['getDisplayName'][_0x6c5f09(0x536)](_0x3ccbbe),'getEmail':_0x3ccbbe[_0x6c5f09(0x178)][_0x6c5f09(0x536)](_0x3ccbbe),'getRemoteConnections':_0x3ccbbe[_0x6c5f09(0x584)][_0x6c5f09(0x536)](_0x3ccbbe),'setDisplayName':_0x3ccbbe[_0x6c5f09(0x4bb)][_0x6c5f09(0x536)](_0x3ccbbe),'setEmail':_0x3ccbbe[_0x6c5f09(0x196)][_0x6c5f09(0x536)](_0x3ccbbe)};case _0x29f76b[_0x6c5f09(0x8e2)][_0x6c5f09(0x3e3)]:default:return{'type':_0x29f76b[_0x6c5f09(0x8e2)][_0x6c5f09(0x3e3)],'getId':_0x3ccbbe[_0x6c5f09(0x2a6)][_0x6c5f09(0x536)](_0x3ccbbe),'getRemoteConnections':_0x3ccbbe[_0x6c5f09(0x584)][_0x6c5f09(0x536)](_0x3ccbbe)};}}['getRemoteNodes'](_0x176ea4){const _0x5caa5a=_0xd4b2e;return this[_0x5caa5a(0x2ba)]['getRemoteNodes'](_0x176ea4)['map'](_0x4d5652=>{const _0x512ec0=_0x5caa5a;switch(_0x4d5652[_0x512ec0(0x747)]){case _0x29f76b[_0x512ec0(0x8e2)][_0x512ec0(0x9d1)]:return{'type':_0x29f76b[_0x512ec0(0x8e2)]['User'],'getId':_0x4d5652[_0x512ec0(0x2a6)][_0x512ec0(0x536)](_0x4d5652),'getDisplayName':_0x4d5652['getDisplayName'][_0x512ec0(0x536)](_0x4d5652),'getEmail':_0x4d5652[_0x512ec0(0x178)]['bind'](_0x4d5652),'getRemoteConnections':_0x4d5652[_0x512ec0(0x584)][_0x512ec0(0x536)](_0x4d5652)};case _0x29f76b['NodeType'][_0x512ec0(0x3e3)]:return{'type':_0x29f76b[_0x512ec0(0x8e2)][_0x512ec0(0x3e3)],'getId':_0x4d5652['getId']['bind'](_0x4d5652),'getRemoteConnections':_0x4d5652[_0x512ec0(0x584)][_0x512ec0(0x536)](_0x4d5652)};default:throw new _0x276337(_0x15ca7a['NodeInvalidType'],_0x512ec0(0x4db));}});}['on']=(..._0x2bcc7c)=>{const _0x4f0f6e=_0xd4b2e;this[_0x4f0f6e(0x3d1)]['on'](..._0x2bcc7c);};[_0xd4b2e(0x418)]=(..._0x2871e9)=>this[_0xd4b2e(0x3d1)]['emit'](..._0x2871e9);[_0xd4b2e(0x981)](..._0x73a972){this['eventEmitter']['off'](..._0x73a972);}}class _0x1d3cf8{['id'];[_0xd4b2e(0x354)];['email'];[_0xd4b2e(0x747)]=_0x29f76b[_0xd4b2e(0x8e2)][_0xd4b2e(0x9d1)];[_0xd4b2e(0x682)]=new Map();[_0xd4b2e(0x6c1)]=_0xfb027c();constructor(_0x519b8c,_0x53f58a,_0x5f22ab){this['id']=_0x519b8c,this['displayName']=_0x53f58a,this['email']=_0x5f22ab;}[_0xd4b2e(0x2a6)](){return this['id'];}[_0xd4b2e(0x978)](){const _0x470997=_0xd4b2e;return this[_0x470997(0x354)];}[_0xd4b2e(0x178)](){const _0x1dcb95=_0xd4b2e;return this[_0x1dcb95(0x872)];}['setDisplayName'](_0x1fd75b){const _0x4db4fb=_0xd4b2e;this[_0x4db4fb(0x354)]!==_0x1fd75b&&(this['displayName']=_0x1fd75b,this[_0x4db4fb(0x6c1)][_0x4db4fb(0x2b2)](this));}[_0xd4b2e(0x196)](_0x10f294){const _0x189c86=_0xd4b2e;this[_0x189c86(0x872)]!==_0x10f294&&(this[_0x189c86(0x872)]=_0x10f294,this[_0x189c86(0x6c1)][_0x189c86(0x2b2)](this));}['registerCluster'](_0x5e8134,_0x134874){const _0x207e36=_0xd4b2e;if(this[_0x207e36(0x682)]['has'](_0x5e8134))return;const _0x5c15fb=this[_0x207e36(0x6c1)][_0x207e36(0x696)](_0x134874);this[_0x207e36(0x682)]['set'](_0x5e8134,_0x5c15fb);}[_0xd4b2e(0x9ea)](_0x501952){const _0x1d559b=_0xd4b2e;if(!this[_0x1d559b(0x682)]['has'](_0x501952))return;const _0x57955d=this[_0x1d559b(0x682)][_0x1d559b(0x6e6)](_0x501952);_0x57955d&&_0x57955d(),this[_0x1d559b(0x682)][_0x1d559b(0xa2f)](_0x501952);}}class _0xe44c62{['vendorId'];[_0xd4b2e(0x958)];constructor(_0x644d7f){this['vendorId']=_0x644d7f;}async['signInWithCredential'](_0x20c55c){const _0x391fed=_0xd4b2e,_0x58e335=await(0x0,_0x1d801a[_0x391fed(0x8dc)])(_0x3a6ba1[_0x391fed(0xa62)](),'sdkCreateToken')({'uid':_0x391fed(0x2c8)+this['vendorId']+_0x391fed(0x2c8)+_0x20c55c['id']}),_0x218f94=await(0x0,_0x3d041c[_0x391fed(0x831)])(_0x3a6ba1[_0x391fed(0x4fd)](),_0x58e335[_0x391fed(0x2aa)][_0x391fed(0x856)]);this[_0x391fed(0x958)]=_0x218f94[_0x391fed(0x958)];}async[_0xd4b2e(0x24c)](){const _0x53c4bb=_0xd4b2e;await(0x0,_0x3d041c[_0x53c4bb(0x24c)])(_0x3a6ba1['getAuth']());}[_0xd4b2e(0x54d)](){const _0x20aef4=_0xd4b2e;return this[_0x20aef4(0x958)]?.['getIdToken']()??Promise['reject'](_0x20aef4(0x5b6));}}class _0x2228a7{static [_0xd4b2e(0x147)];[_0xd4b2e(0x752)]=[];constructor(){}static[_0xd4b2e(0x1f0)](){const _0x3739bf=_0xd4b2e;return _0x2228a7['instance']||(_0x2228a7[_0x3739bf(0x147)]=new _0x2228a7()),_0x2228a7[_0x3739bf(0x147)];}[_0xd4b2e(0x306)](){const _0x11f6ca=_0xd4b2e;this[_0x11f6ca(0x564)](),this['checkMediaStream'](),this[_0x11f6ca(0x52e)](),this[_0x11f6ca(0x937)](),this['checkDeviceConfig'](),this['checkAudioOutput'](),this[_0x11f6ca(0x583)](),this['checkBackgrounds'](),this[_0x11f6ca(0x620)](),this[_0x11f6ca(0x271)](),_0x98a765['log'](_0x831a2b[_0x11f6ca(0x817)],_0x11f6ca(0x382),{'featureSupport':this[_0x11f6ca(0x752)]});}['isFeatureSupported'](_0x336a3e){const _0x517a9c=_0xd4b2e,_0x2af685=this[_0x517a9c(0x752)]['find'](_0x27764e=>_0x27764e[_0x517a9c(0x4fc)]===_0x336a3e);return!!_0x2af685&&_0x2af685[_0x517a9c(0x13a)];}[_0xd4b2e(0x7ca)](_0x355d1e){const _0x432006=_0xd4b2e;_0x98a765[_0x432006(0x1b3)]('support',{'nodeId':_0x355d1e[_0x432006(0x2a6)](),'nodeType':_0x355d1e['type'],'data':{'featureSupport':this['featureSupport']}});}[_0xd4b2e(0x564)](){const _0x2136b6=_0xd4b2e,_0x378a41=_0x35a0a6[_0x2136b6(0x904)];let _0x170100=!0x1;'function'==typeof RTCPeerConnection&&_0x2136b6(0x1cb)==typeof RTCIceCandidate&&'function'==typeof RTCSessionDescription?_0x170100=!0x0:_0x98a765[_0x2136b6(0x22d)](_0x831a2b[_0x2136b6(0x817)],'Support:\x20'+_0x378a41+_0x2136b6(0x7a6)),this[_0x2136b6(0x752)][_0x2136b6(0x55a)]({'name':_0x378a41,'supported':_0x170100});}[_0xd4b2e(0x3c0)](){const _0x49fcee=_0xd4b2e,_0x1bff6b=_0x35a0a6[_0x49fcee(0x615)];let _0x4322f3=!0x1;_0x49fcee(0x1cb)==typeof MediaStream&&_0x49fcee(0x1cb)==typeof MediaStreamTrack&&_0x49fcee(0x890)==typeof navigator&&'object'==typeof navigator[_0x49fcee(0x7c2)]&&'function'==typeof navigator['mediaDevices']['getUserMedia']?_0x4322f3=!0x0:_0x98a765[_0x49fcee(0x22d)](_0x831a2b[_0x49fcee(0x817)],'Support:\x20'+_0x1bff6b+_0x49fcee(0x7a6)),this['featureSupport'][_0x49fcee(0x55a)]({'name':_0x1bff6b,'supported':_0x4322f3});}[_0xd4b2e(0x52e)](){const _0x53acd5=_0xd4b2e,_0xf1282=_0x35a0a6[_0x53acd5(0x502)];let _0x586680=!0x1;_0x53acd5(0x890)==typeof navigator&&_0x53acd5(0x890)==typeof navigator[_0x53acd5(0x7c2)]&&_0x53acd5(0x1cb)==typeof navigator['mediaDevices'][_0x53acd5(0x3b7)]?_0x586680=!0x0:_0x98a765[_0x53acd5(0x22d)](_0x831a2b['Support'],_0x53acd5(0x176)+_0xf1282+_0x53acd5(0x7a6)),this[_0x53acd5(0x752)][_0x53acd5(0x55a)]({'name':_0xf1282,'supported':_0x586680});}['checkAudioVolume'](){const _0x14e20b=_0xd4b2e,_0x439ffc=_0x35a0a6[_0x14e20b(0x74c)];let _0x3fa405=!0x1;_0x14e20b(0x1cb)!=typeof AudioContext||_0x14e20b(0x1cb)!=typeof ScriptProcessorNode&&_0x14e20b(0x1cb)!=typeof AudioWorkletNode||'function'!=typeof MediaStreamAudioSourceNode?_0x98a765[_0x14e20b(0x22d)](_0x831a2b[_0x14e20b(0x817)],_0x14e20b(0x176)+_0x439ffc+'\x20not\x20supported'):_0x3fa405=!0x0,this['featureSupport'][_0x14e20b(0x55a)]({'name':_0x439ffc,'supported':_0x3fa405});}[_0xd4b2e(0x248)](){const _0x574723=_0xd4b2e,_0x48afaa=_0x35a0a6[_0x574723(0x79c)];let _0x5102b3=!0x1;'object'==typeof navigator&&_0x574723(0x890)==typeof navigator[_0x574723(0x7c2)]&&'function'==typeof navigator[_0x574723(0x7c2)]['enumerateDevices']&&_0x574723(0x1cb)==typeof MediaDeviceInfo?_0x5102b3=!0x0:_0x98a765['log'](_0x831a2b[_0x574723(0x817)],_0x574723(0x176)+_0x48afaa+'\x20not\x20supported'),this[_0x574723(0x752)][_0x574723(0x55a)]({'name':_0x48afaa,'supported':_0x5102b3});}[_0xd4b2e(0x894)](){const _0xdd8985=_0xd4b2e,_0x25c535=_0x35a0a6['AudioOutput'];let _0xaf66b2=!0x1;_0xdd8985(0x890)==typeof document&&'function'==typeof document['createElement'](_0xdd8985(0x5ab))['setSinkId']?_0xaf66b2=!0x0:_0x98a765[_0xdd8985(0x22d)](_0x831a2b[_0xdd8985(0x817)],_0xdd8985(0x176)+_0x25c535+_0xdd8985(0x7a6)),this[_0xdd8985(0x752)][_0xdd8985(0x55a)]({'name':_0x25c535,'supported':_0xaf66b2});}async[_0xd4b2e(0x583)](){const _0x46805b=_0xd4b2e,_0x3d9803=_0x35a0a6['Recording'];let _0xe405df=!0x1;try{const _0x2a53f7=document[_0x46805b(0x728)](_0x46805b(0x80d));if(MediaRecorder&&MediaSource&&_0x2a53f7[_0x46805b(0x347)]){const _0x58bf7b=_0x2a53f7[_0x46805b(0x347)](),_0x3aff60=new MediaRecorder(_0x58bf7b);_0x3aff60[_0x46805b(0x9b3)](),await new Promise(_0x448780=>setTimeout(_0x448780,0x7d0)),_0x3aff60['stop'](),_0xe405df=_0x46805b(0x753)===_0x3aff60['state'];}}catch(_0x445528){_0x98a765[_0x46805b(0x22d)](_0x831a2b[_0x46805b(0x817)],_0x46805b(0x176)+_0x3d9803+'\x20check\x20failed',_0x445528);}this['featureSupport'][_0x46805b(0x55a)]({'name':_0x3d9803,'supported':_0xe405df}),_0xe405df||_0x98a765[_0x46805b(0x22d)](_0x831a2b[_0x46805b(0x817)],_0x46805b(0x176)+_0x3d9803+_0x46805b(0x7a6));}[_0xd4b2e(0x424)](){const _0xa4cf6b=_0xd4b2e,_0x4c7e19=_0x35a0a6[_0xa4cf6b(0x198)];let _0x141380=!0x1;try{document['createElement'](_0xa4cf6b(0x80d))[_0xa4cf6b(0x347)]&&(_0x141380=!0x0);}catch(_0x1670cd){_0x98a765[_0xa4cf6b(0x22d)](_0x831a2b[_0xa4cf6b(0x817)],_0xa4cf6b(0x176)+_0x4c7e19+'\x20check\x20failed',_0x1670cd);}this[_0xa4cf6b(0x752)][_0xa4cf6b(0x55a)]({'name':_0x4c7e19,'supported':_0x141380}),_0x141380||_0x98a765[_0xa4cf6b(0x22d)](_0x831a2b['Support'],_0xa4cf6b(0x176)+_0x4c7e19+_0xa4cf6b(0x7a6));}[_0xd4b2e(0x620)](){const _0x566811=_0xd4b2e,_0x4cb977=_0x35a0a6[_0x566811(0x474)];let _0xa5a9f3=!0x1;try{const _0xe67f6a=document[_0x566811(0x728)](_0x566811(0x80d));WebGLRenderingContext&&_0xe67f6a[_0x566811(0x5a5)](_0x566811(0x5c7))&&(_0xa5a9f3=!0x0);}catch(_0x41895c){_0x98a765[_0x566811(0x22d)](_0x831a2b[_0x566811(0x817)],_0x566811(0x176)+_0x4cb977+_0x566811(0xa29),_0x41895c);}this[_0x566811(0x752)][_0x566811(0x55a)]({'name':_0x4cb977,'supported':_0xa5a9f3}),_0xa5a9f3||_0x98a765['log'](_0x831a2b['Support'],_0x566811(0x176)+_0x4cb977+_0x566811(0x7a6));}['checkAudioContext'](){const _0x26794c=_0xd4b2e,_0x6fcbc3=_0x35a0a6[_0x26794c(0x7f5)];let _0x3417ca=!0x1;_0x26794c(0x1cb)==typeof AudioContext?_0x3417ca=!0x0:_0x98a765[_0x26794c(0x22d)](_0x831a2b[_0x26794c(0x817)],'Support:\x20'+_0x6fcbc3+_0x26794c(0x7a6)),this[_0x26794c(0x752)][_0x26794c(0x55a)]({'name':_0x6fcbc3,'supported':_0x3417ca});}}const _0x58f78b=_0x2228a7[_0xd4b2e(0x1f0)]();class _0x4cf846{static ['instance'];static [_0xd4b2e(0x37a)];static [_0xd4b2e(0x600)];[_0xd4b2e(0x54b)];[_0xd4b2e(0x313)];['options'];[_0xd4b2e(0x33f)];[_0xd4b2e(0x8af)]=new Map();[_0xd4b2e(0x1e2)];constructor(_0x14d19d,_0x8b42cf,_0x1e69f6){const _0x100e90=_0xd4b2e;this['vendorId']=_0x14d19d,this[_0x100e90(0x33f)]=_0x8b42cf,this[_0x100e90(0x54b)]=new _0xe44c62(this['vendorId']),_0x58f78b['initialize'](),this[_0x100e90(0x49e)]={'audioContext':_0x1e69f6?.[_0x100e90(0x914)]??(_0x58f78b[_0x100e90(0x567)](_0x35a0a6[_0x100e90(0x7f5)])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0x1e69f6?.[_0x100e90(0x3f5)]??0x1,'minConnections':_0x1e69f6?.[_0x100e90(0x285)]??0x3,'maxConnections':_0x1e69f6?.[_0x100e90(0x6f5)]??(_0x1e69f6?.[_0x100e90(0x285)]&&0x4*_0x1e69f6[_0x100e90(0x285)])??0xc,'maxDistance':_0x1e69f6?.['maxDistance']??0xa,'maxFps':_0x1e69f6?.[_0x100e90(0x9a8)]??0x18,'maxBpp':_0x1e69f6?.['maxBpp']??0.12,'objectStoreConnector':_0x1e69f6?.[_0x100e90(0x84f)]??_0x136906['OPFSObjectStoreConnector'],'externalStorageConnectors':_0x1e69f6?.['externalStorageConnectors'],'keyValueDatabaseConnector':_0x1e69f6?.[_0x100e90(0x818)]??_0x298950[_0x100e90(0x769)],'loggingDatabaseConnector':_0x1e69f6?.[_0x100e90(0x301)]??_0x298950[_0x100e90(0x769)],'peerConnectionConnector':_0x1e69f6?.[_0x100e90(0x290)]??_0x3b8246[_0x100e90(0x891)],'generativeAIWorkerConnectors':_0x1e69f6?.[_0x100e90(0x88c)],'vectorDatabaseConnector':_0x1e69f6?.[_0x100e90(0x7b2)],'graphDatabaseConnector':_0x1e69f6?.['graphDatabaseConnector'],'documentParserConnector':_0x1e69f6?.[_0x100e90(0x4ad)],'nlpLibraryConnector':_0x1e69f6?.['nlpLibraryConnector'],'searchConnector':_0x1e69f6?.['searchConnector'],'aiSearchConnector':_0x1e69f6?.['aiSearchConnector'],'queryFileConnector':_0x1e69f6?.[_0x100e90(0x16c)]},_0x1e69f6?.[_0x100e90(0x692)]&&this[_0x100e90(0x49e)][_0x100e90(0x914)]&&_0x1b723a[_0x100e90(0x74f)](this['options'][_0x100e90(0x914)]),_0x98a765[_0x100e90(0x3c1)](this[_0x100e90(0x313)]),_0x1e69f6?.[_0x100e90(0x555)]&&_0x98a765[_0x100e90(0x3ce)](_0x1e69f6['loggingConnectors']);}static async['getInstance'](_0xf6b356,_0x4085b9,_0x9d130a,_0x2e514f,_0xbde44a){const _0x307bb0=_0xd4b2e;this['mode']=_0x9d130a;const _0x4196ad=await this['validateAccess'](_0xf6b356,_0x4085b9,_0xbde44a);return _0x4cf846[_0x307bb0(0x147)]||(_0x4cf846['instance']=new _0x4cf846(_0xf6b356,_0x4196ad,_0x2e514f)),{'close':_0x4cf846[_0x307bb0(0x147)][_0x307bb0(0x27e)][_0x307bb0(0x536)](_0x4cf846['instance']),'authenticateUser':_0x4cf846[_0x307bb0(0x147)][_0x307bb0(0x25f)][_0x307bb0(0x536)](_0x4cf846[_0x307bb0(0x147)]),'authenticateAgent':_0x4cf846[_0x307bb0(0x147)][_0x307bb0(0x975)][_0x307bb0(0x536)](_0x4cf846['instance']),'joinCluster':_0x4cf846[_0x307bb0(0x147)][_0x307bb0(0x952)][_0x307bb0(0x536)](_0x4cf846['instance'])};}static async[_0xd4b2e(0x9d7)](){const _0xd10c25=_0xd4b2e;return _0x3a6ba1[_0xd10c25(0x8ff)]();}static['isProduction'](){const _0x42e05e=_0xd4b2e;return _0x26a0e8[_0x42e05e(0x623)];}async['close'](_0x831048){const _0xdb20a5=_0xd4b2e;this[_0xdb20a5(0x8af)][_0xdb20a5(0x7d0)](_0x2d436f=>{const _0x54dc61=_0xdb20a5;_0x2d436f[_0x54dc61(0x981)](),_0x2d436f['leave'](_0x831048);}),this[_0xdb20a5(0x8af)][_0xdb20a5(0x1b8)](),this[_0xdb20a5(0x49e)][_0xdb20a5(0x914)]&&_0x1b723a[_0xdb20a5(0x414)](),_0x4cf846['unsubscribe']?.(),_0x4cf846[_0xdb20a5(0x37a)]=void 0x0,this[_0xdb20a5(0x1e2)]=void 0x0,await this[_0xdb20a5(0x54b)][_0xdb20a5(0x24c)](),_0x4cf846[_0xdb20a5(0x147)]=void 0x0;}static async['validateAccess'](_0x30d223,_0x3c5286,_0x45ad25){const _0x43f2a6=_0xd4b2e;if(!this[_0x43f2a6(0x600)])throw new _0x276337(_0x15ca7a[_0x43f2a6(0x6f0)],_0x43f2a6(0x9c4));let _0x383b84;try{_0x383b84=await(0x0,_0x1d801a['httpsCallable'])(_0x3a6ba1[_0x43f2a6(0xa62)](),'sdkValidateAccess')({'vendorId':_0x30d223,'accessToken':_0x3c5286,'secretKey':_0x45ad25});}catch(_0x218ca5){throw new _0x276337(_0x15ca7a['InvalidAccess'],_0x43f2a6(0x1d8));}if(!this[_0x43f2a6(0x3ba)](_0x383b84[_0x43f2a6(0x2aa)]))throw new _0x276337(_0x15ca7a['InvalidAccess'],_0x43f2a6(0x1d8));const _0x940596=_0x383b84['data'];return _0x940596[_0x43f2a6(0x2d8)]||(_0x940596[_0x43f2a6(0x2d8)]=[]),this[_0x43f2a6(0x37a)]||(this[_0x43f2a6(0x37a)]=_0x1b723a['setInterval'](async()=>{const _0x28a704=_0x43f2a6;try{const _0x43d71c=await this[_0x28a704(0x18f)](_0x30d223,_0x3c5286,_0x45ad25);this[_0x28a704(0x600)]===_0x29f76b['NodeType'][_0x28a704(0x3e3)]&&(_0x43d71c[_0x28a704(0x47b)]=_0x43d71c[_0x28a704(0x47b)][_0x28a704(0x893)](_0x58cb7f=>_0x58cb7f[_0x28a704(0x727)][_0x28a704(0x334)](_0x28a704(0x9e9)))),_0x940596['iceServers']=_0x43d71c[_0x28a704(0x47b)];}catch(_0x237fbd){}},0x1b7740)),_0x940596;}async[_0xd4b2e(0x25f)](_0x1cad37){const _0x5a4358=_0xd4b2e;if(_0x4cf846['mode']!==_0x29f76b[_0x5a4358(0x8e2)]['User'])throw new _0x276337(_0x15ca7a[_0x5a4358(0x38a)],_0x5a4358(0x247));await this[_0x5a4358(0x54b)][_0x5a4358(0x525)](_0x1cad37);const _0x509742=new _0x1d3cf8(_0x1cad37['id'],_0x1cad37['displayName'],_0x1cad37['email']);return this[_0x5a4358(0x1e2)]={'node':_0x509742},_0x58f78b[_0x5a4358(0x7ca)](_0x509742),{'type':_0x29f76b[_0x5a4358(0x8e2)][_0x5a4358(0x9d1)],'getId':_0x509742[_0x5a4358(0x2a6)]['bind'](_0x509742),'getDisplayName':_0x509742['getDisplayName'][_0x5a4358(0x536)](_0x509742),'getEmail':_0x509742[_0x5a4358(0x178)][_0x5a4358(0x536)](_0x509742),'setDisplayName':_0x509742[_0x5a4358(0x4bb)][_0x5a4358(0x536)](_0x509742),'setEmail':_0x509742[_0x5a4358(0x196)][_0x5a4358(0x536)](_0x509742)};}async['authenticateAgent'](_0x273df8){const _0x1eb1d0=_0xd4b2e;if(_0x4cf846[_0x1eb1d0(0x600)]!==_0x29f76b['NodeType']['Agent'])throw new _0x276337(_0x15ca7a[_0x1eb1d0(0x38a)],'Node\x20type\x20is\x20invalid');const {id:_0x51f32a,groupId:_0x559f53}=_0x273df8,_0x8a34f6=await(0x0,_0x1e7cba[_0x1eb1d0(0x607)])((0x0,_0x1e7cba[_0x1eb1d0(0x9a6)])(_0x3a6ba1[_0x1eb1d0(0x848)](),_0x1eb1d0(0x780)+this[_0x1eb1d0(0x313)]+_0x1eb1d0(0x39f)+_0x559f53));if(!_0x8a34f6[_0x1eb1d0(0x4dd)]())throw new _0x276337(_0x15ca7a[_0x1eb1d0(0x586)],_0x1eb1d0(0x968));const _0x1ec4f3=_0x8a34f6[_0x1eb1d0(0x2aa)]();await this['authService']['signInWithCredential']({'id':_0x51f32a});const _0x3fda42=new _0x19cc52(_0x51f32a,_0x559f53,this[_0x1eb1d0(0x313)],_0x1ec4f3);return this[_0x1eb1d0(0x1e2)]={'node':_0x3fda42},_0x58f78b[_0x1eb1d0(0x7ca)](_0x3fda42),this[_0x1eb1d0(0x2c9)](_0x3fda42),{'type':_0x29f76b[_0x1eb1d0(0x8e2)][_0x1eb1d0(0x3e3)],'getId':_0x3fda42[_0x1eb1d0(0x2a6)][_0x1eb1d0(0x536)](_0x3fda42),'onConfigurationChange':_0x3fda42[_0x1eb1d0(0x272)][_0x1eb1d0(0x536)](_0x3fda42),'setReportCapacity':_0x3fda42[_0x1eb1d0(0x25e)]['bind'](_0x3fda42)};}async[_0xd4b2e(0x952)](_0x59a66f){const _0x1de0b7=_0xd4b2e;if(!this[_0x1de0b7(0x1e2)])throw new _0x276337(_0x15ca7a[_0x1de0b7(0x586)],_0x1de0b7(0x90c));if(this[_0x1de0b7(0x1e2)][_0x1de0b7(0x517)][_0x1de0b7(0x747)]!==_0x29f76b[_0x1de0b7(0x8e2)][_0x1de0b7(0x9d1)])throw new _0x276337(_0x15ca7a[_0x1de0b7(0x8b1)],_0x1de0b7(0x5c6));if(this[_0x1de0b7(0x8af)][_0x1de0b7(0x8e9)](_0x59a66f))throw new _0x276337(_0x15ca7a[_0x1de0b7(0x719)],'Cluster\x20already\x20joined');const _0x4585cc=new _0xd3e14d(this['vendorId'],_0x59a66f,this[_0x1de0b7(0x1e2)][_0x1de0b7(0x517)],this[_0x1de0b7(0x54b)],this['options'],this[_0x1de0b7(0x33f)]);return await _0x4585cc[_0x1de0b7(0x85e)](),this[_0x1de0b7(0x254)](_0x59a66f,_0x4585cc),_0x98a765[_0x1de0b7(0x1b3)](_0x1de0b7(0x6d2),{'clusterId':_0x59a66f,'nodeId':this['authContext'][_0x1de0b7(0x517)][_0x1de0b7(0x2a6)](),'nodeType':this[_0x1de0b7(0x1e2)][_0x1de0b7(0x517)][_0x1de0b7(0x747)]}),{'leave':_0x4585cc[_0x1de0b7(0x126)][_0x1de0b7(0x536)](_0x4585cc),'getLocalNode':_0x4585cc[_0x1de0b7(0x680)][_0x1de0b7(0x536)](_0x4585cc),'openPubSubTopic':_0x4585cc[_0x1de0b7(0x906)][_0x1de0b7(0x536)](_0x4585cc),'openObjectStoreBucket':_0x4585cc[_0x1de0b7(0x467)][_0x1de0b7(0x536)](_0x4585cc),'openExternalStorageConnection':_0x4585cc[_0x1de0b7(0xa04)]['bind'](_0x4585cc),'openKeyValueDatabase':_0x4585cc['openKeyValueDatabase']['bind'](_0x4585cc),'openGenerativeAIContext':_0x4585cc[_0x1de0b7(0x282)][_0x1de0b7(0x536)](_0x4585cc),'openGenerativeAIWorker':_0x4585cc[_0x1de0b7(0x8b9)][_0x1de0b7(0x536)](_0x4585cc),'openGraphDatabase':_0x4585cc[_0x1de0b7(0x5f3)][_0x1de0b7(0x536)](_0x4585cc),'openVectorDatabase':_0x4585cc[_0x1de0b7(0x651)][_0x1de0b7(0x536)](_0x4585cc),'publishLocalMediaStream':_0x4585cc[_0x1de0b7(0xa1d)][_0x1de0b7(0x536)](_0x4585cc),'publishLocalDynamicMediaStream':_0x4585cc[_0x1de0b7(0x292)][_0x1de0b7(0x536)](_0x4585cc),'getPubSubTopics':_0x4585cc[_0x1de0b7(0x857)][_0x1de0b7(0x536)](_0x4585cc),'getObjectStoreBuckets':_0x4585cc[_0x1de0b7(0x7a2)][_0x1de0b7(0x536)](_0x4585cc),'getExternalStorageConnections':_0x4585cc[_0x1de0b7(0x541)][_0x1de0b7(0x536)](_0x4585cc),'getKeyValueDatabases':_0x4585cc['getKeyValueDatabases'][_0x1de0b7(0x536)](_0x4585cc),'getGenerativeAIContexts':_0x4585cc[_0x1de0b7(0xa7c)][_0x1de0b7(0x536)](_0x4585cc),'getGenerativeAIWorkers':_0x4585cc['getGenerativeAIWorkers'][_0x1de0b7(0x536)](_0x4585cc),'getGraphDatabases':_0x4585cc[_0x1de0b7(0x9f9)][_0x1de0b7(0x536)](_0x4585cc),'getVectorDatabases':_0x4585cc[_0x1de0b7(0x777)][_0x1de0b7(0x536)](_0x4585cc),'getLocalMediaStreams':_0x4585cc[_0x1de0b7(0x3c6)][_0x1de0b7(0x536)](_0x4585cc),'getRemoteMediaStreams':_0x4585cc[_0x1de0b7(0x16e)][_0x1de0b7(0x536)](_0x4585cc),'getRemoteNodes':_0x4585cc[_0x1de0b7(0xa59)]['bind'](_0x4585cc),'on':_0x4585cc['on']['bind'](_0x4585cc),'off':_0x4585cc['off'][_0x1de0b7(0x536)](_0x4585cc)};}async[_0xd4b2e(0x2c9)](_0x2058e5){const _0x103796=_0xd4b2e;for(const _0x577c58 of _0x2058e5[_0x103796(0x320)][_0x103796(0x8af)]){const _0x57cec7=new _0xd3e14d(this[_0x103796(0x313)],_0x577c58['id'],_0x2058e5,this['authService'],this['options'],this[_0x103796(0x33f)]);await _0x57cec7['join'](),this[_0x103796(0x254)](_0x577c58['id'],_0x57cec7),_0x98a765[_0x103796(0x68f)](_0x103796(0x976),_0x577c58['id']);for(const _0x4e1dc1 of _0x577c58['pubSubTopics']??[])_0x57cec7[_0x103796(0x906)](_0x4e1dc1),_0x98a765[_0x103796(0x68f)](_0x103796(0x267),_0x4e1dc1);for(const _0x4209b0 of _0x577c58[_0x103796(0x8b3)]??[])await _0x57cec7[_0x103796(0x467)](_0x4209b0),_0x98a765[_0x103796(0x68f)]('Opened\x20object\x20store\x20bucket',_0x4209b0);for(const _0x154c58 of _0x577c58[_0x103796(0x518)]??[])await _0x57cec7[_0x103796(0x467)](_0x154c58,{'standalone':!0x0}),_0x98a765['forceLog'](_0x103796(0x707),_0x154c58);for(const _0x38d47c of _0x577c58[_0x103796(0x2fa)]??[]){const _0x2ba290=_0x38d47c[_0x103796(0x488)]('-');await _0x57cec7['openExternalStorageConnection'](_0x2ba290[0x1],_0x2ba290[0x0]),_0x98a765[_0x103796(0x68f)](_0x103796(0x89b),_0x38d47c);}for(const _0x219ce5 of _0x577c58[_0x103796(0x760)]??[])await _0x57cec7['openKeyValueDatabase'](_0x219ce5,{'version':0x1,'tables':{}}),_0x98a765[_0x103796(0x68f)](_0x103796(0x2e6),_0x219ce5);for(const _0x5af90b of _0x577c58[_0x103796(0x89c)]??[])_0x57cec7[_0x103796(0x5f3)](_0x5af90b),_0x98a765[_0x103796(0x68f)](_0x103796(0x2ec),_0x5af90b);for(const _0x10153a of _0x577c58[_0x103796(0x783)]??[])_0x57cec7[_0x103796(0x651)](_0x10153a),_0x98a765['forceLog'](_0x103796(0x878),_0x10153a);for(const _0x589fb9 of _0x577c58[_0x103796(0xa2e)]??[]){const _0x2944ed=_0x676d19(this[_0x103796(0x313)],_0x589fb9),_0x4eced5=_0x4aa75d(),_0x24abc2=this[_0x103796(0x49e)][_0x103796(0x301)]??this[_0x103796(0x49e)]['keyValueDatabaseConnector'];await _0x57cec7[_0x103796(0x96a)](_0x2944ed,_0x4eced5,_0x24abc2),_0x98a765[_0x103796(0x68f)](_0x103796(0x527),_0x2944ed),await _0x57cec7[_0x103796(0x8b9)](_0x589fb9),_0x98a765[_0x103796(0x68f)](_0x103796(0x378),_0x589fb9);}}}['addCluster'](_0x5ac309,_0x564b29){const _0x20f101=_0xd4b2e;this[_0x20f101(0x8af)][_0x20f101(0x991)](_0x5ac309,_0x564b29),_0x564b29['on'](_0x20f101(0x685),()=>{const _0x485998=_0x20f101;_0x564b29[_0x485998(0x981)](),this[_0x485998(0x8af)][_0x485998(0xa2f)](_0x5ac309);});}static['isInternalSDKConfigs'](_0x398dea){const _0x206dec=_0xd4b2e;return void 0x0!==_0x398dea[_0x206dec(0x47b)];}}return _0x15b646;})())));function a0_0x1cd8(){const _0x48596d=['checkAudioOutput','getMaxDistance','getLocalMediaStream','gain','unsubscribeTrackEndedListener','handleSubscriptionMediaStreamUnavailable','parse','Opened\x20external\x20storage\x20connection','graphDatabases','createLocalMediaStream','registerSubscriber','resolveReady','rate','.pl','NodeConnectionsUpdate','handleHandshake','pub-sub-topic-already-exists','setupConnectionEvents','version','model','combinePeaks','grammar','ai-search','table','jobDispatchers','contextOutputVariable','getPacketsLostPerc','clusters','\x20sending\x20attempt\x20','NodeTypeNotSupported','ObjectStoreStats','objectStorageBuckets','ObjectStoreInvalidState','RequestFileWrite','\x0a\x0a`Searching\x20on\x20Perplexity\x20for\x20','SentenceSplitter','Error\x20loading\x20external\x20content','openGenerativeAIWorker','DatabaseEvent','Pending','handleSubscriptionRestartNeedMediaStream','processAddContent','transactionIds','memoryUsage','subscription-request-no-answer','tracks','dispatchEvent','publishNodeJoin','sourceUrl','discover','Receiving\x20\x27','tableUnsubscriber','Data\x20collection\x20block\x20is\x20missing\x20required\x20data','transactionsToAppend','Subscription\x20request\x20does\x20not\x20exist.','NodeLeave','\x0a\x0a`Searching\x20on\x20Google\x20for\x20','trackKinds','object-store-name-not-string','.md','JobDispatcherAlreadyExists','collection','outgoingTopic','debounceAppendLog','targetId','handleNodeUpdate','system-stats','Rejected\x20answer','ownerId','Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number','sourceVideo','/logs','httpsCallable','.ipynb','removeItem','isArray','crewdle-sdk.firebaseapp.com','toLocaleDateString','NodeType','deleteObject','Write\x20text\x20data\x20to\x20a\x20file.','drawImage','string','getResolutionScale','crewdle-sdk.appspot.com','has','removeJobDispatcher','filteredDestinationIds','isResultResponse','debounceStats','Method\x20not\x20implemented.','hasBufferedData','getDatabase','contentRect','nodeUpdate','RemoteAdd','Missing\x20vector\x20database\x20connector','toStringTag','\x20must\x20be\x20a\x20boolean','node-already-exist','bitrate','.hs','openJobWorker','subscription-request-does-not-exist','KeyValueDatabasePeakNotFound','cpu.av_delay','joinedAt','getEstimatedTimestamp','transactionsToSync','addVideoTrack','receiverPreviousBytes','handleNeedRestart','WebRTC','GenerativeAIWorkerMissingConnector','openPubSubTopic','Cannot\x20find\x20External\x20Storage\x20connection:\x20','Error','race','fps','1.0.19','Node\x20not\x20authenticated','pubsub','connection-not-connected','listenerUnsubscribers','isReady','handlePeerConnectionSystemEvents','Workflow\x20not\x20initialized','fileSendingMap','audioContext','appsync-no-destination','job-dispatcher-invalid-job-type','open','KeyValueDatabaseContentSynchronized','providerId','logLevel','readyResolve','find','senderBitrate','jobObservers','Invalid\x20key\x20\x27','commitTrace','ancestors','firebaseConfig','-leave','accumulateResult','count','internalRatePrompt','File','ExternalStorageConnectorsMissing','endpointUrl','AudioVideoDelay','debounceReadyTimeout','removeNode','isMediaDestination','remediations','generative-ai-context-job-missing-thread-id','isWhereBetween','KeyValueDatabaseIndexNotFound','processBatch','st_volatility','CloseJobDispatcher','searchOnGoogle','createJob','checkAudioVolume','threadId','\x20must\x20be\x20a\x20string','operations','orderByKey','job-dispatcher-does-not-exist','.cpp','results.csv','1306374JbTZWU','error','path','Disconnected','evaluateProccessedJob','.twig','Internal\x20SDK\x20error:\x20','\x0a\x0a`Executing\x20agent\x20','topK','setTimestamp','Received\x20','JobQueueService:\x20Running\x20job','Completed','jobBids','hasTable','toString','autoplay','nodeManager','jobWorkers','joinCluster','page','generative-ai','Perform\x20a\x20search\x20on\x20Google\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','isPromiseResolved','debounceReady','user','resolutionScale','removeTrackListeners','Cannot\x20publish\x20move\x20operation:\x20','invalid-access','layout','key-value-database-invalid-layout','loadLocalContent','jobId','relations','clearHeartbeat','OutgoingSubscription','JobWorker:\x20Sending\x20job\x20reject','nodes','operator','ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.','Agent\x20group\x20not\x20found','uid','openKeyValueDatabase','relevance','clearRestartTimeout','connectionConstructor','defineProperty','object-store-stream-does-not-exist','JobDispatcherCreationFailed','trackCallback','syncPendingFiles','out','lastCapacityReport','authenticateAgent','Joined\x20cluster','Context','getDisplayName','RequestAccepted','setScheduleTime','append','value','totalDecodeTime','Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20','retryQueues','handleError','off','direction','isJobAttribution','bid','Problem\x20detected:\x20','FileStatus','node-not-authenticated','ConnectionNoRetryQueue','listenUnsubscriber','firebase-disconnect','sdk-internal-error:\x20','processLocalReport','createAIJob','buildInitialMMR','connectionGroup','JobQueueService:\x20Job\x20completed','set','updated','getClosestNodes','Model\x20store\x20not\x20initialized','graphql','getCapacityReport','addAudioTrack','origin','Incoming','Stream\x20already\x20exists','handleNodeLeave','onMessage','.jinja2','deleteRemoteNode','Connection\x20not\x20connected.','ObjectStorageUpload','Execute\x20skill\x20','ObjectStoreInvalidPath','JobStream','collectStats','.crewdle-pending','doc','sender','maxFps','Model','iceConnectionState\x20failed','text/plain','handleSuccess','key-value-database-already-exists','Received\x20request\x20for\x20transactions\x20value.\x20Sending\x20','handleOptimizationConnectionSuccess','ObjectKind','clearWaitAnswer','topicLabel','start','length','getTrack','requestSubscriptionAction','getRemoteMediaStream','ContentType','pubSubTopics','setRank','round','generative-ai-context-job-timeout','Downgrade','setRemoteNode','StreamReport','ConnectionBufferNotEmpty','pubsubTopics','handleNoAnswer','publishSyncCompleted','Node\x20type\x20is\x20required','removeIncomingSubscription','pendingSyncTransactions','head','currentFrames','canProvideResolution','GraphDatabaseNameNotString','startHeartbeat','onCandidate','getSupportedContentTypes','discoveryUnsubscriber','Media','previousTimestamp','User','enabled','computeHash','cpu.time_per_frame','isNodeReady','Base\x20Peer\x20Connection','timestamp','processContentSynchronized','bandwidth.rtt','tail','getTransactionByHash','setPriority','links','Rejected','GenerativeAITracing\x20-\x20Error\x20while\x20tracing','NodeManager\x20-\x20ConnectionSuccess','detectProblems','app','getStatus','relation-extractor','logPropagateSystemEvent','currentBatch','ClosePubSubTopic','processOutboundReport','stun:','unregisterCluster','searchApiKey','packets','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process','framesDecoded','job-dispatcher-observer-not-found','SubscriptionRequestFailed','modelId','senderConnection','syncTransactionsWritten','getIsLoaded','\x20attempts:','isRunning','Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27','incrementVersion','getGraphDatabases','JobDispatcherDoesNotExist','remote-connection-exists','waitForArrayBufferSize','KeyValueDatabaseTableNameReserved','connection-invalid-data-event','performCalculation','transactionQueue','Answer','url','LoadSkillFunction','openExternalStorageConnection','tableLayout','commit','queryParameters','JobWorker:\x20Sending\x20job\x20result','Cannot\x20unpublish\x20object\x20at\x20','setEncodingParameters','getVectorDatabase','reranker','\x20must\x20be\x20a\x20valid\x20JSON\x20string','outgoingManager','Cannot\x20list\x20directory:\x20','crewdleSDKLoggingChannels','WorkflowInvalidBlockType','isWhereValues','processReports','Local\x20stream\x20does\x20not\x20exist.','failed','subscriptions','getExternalStorageConnection','logDataReceived','addIssue','muted','answer','WebScraper','publishLocalMediaStream','getGrammars',',\x20Total\x20Nodes:','job-','web-scraper-raw','subject','missing-incoming-connection','KeyValueDatabase\x20-\x20Sync\x20completed','Invalid\x20index\x20in\x20table\x20\x27','arrayBuffer','vectors','CannotProvideMediaStream','\x20check\x20failed','setBytes','addMessage','startTracing','handshakeCandidates','generativeAIContexts','delete','topic','handleContentSystemEvents','getBufferedAmount','CREWDLE_WEB_SDK','Stats','createGenerativeAIWorker','VectorDatabaseNameNotString','entity-extractor','connectionType','setupStatsReporting','writeFile','Job\x20','splice','PubSub','Vector\x20database\x20block\x20is\x20missing\x20required\x20data','generateClient','maxLayer','handleProblem','handleUnsubscribeMediaStream','slice','request-accepted','skipEncryption','chunksReceived','isInternalLoggingConnector','connect','TimePerFrame','Delete','Audio','evaluatePartialJob','clearUpgradeTimeout','updateDebounceTimeout','handleNodeJoin','Amplify','Key-value\x20database\x20peak\x20not\x20found.','CloseExternalStorageConnection','client','not-resolved','More\x20content\x20available\x20on\x20page\x20','ingestBlocks','\x20already\x20exists.','\x0a\x0a`Executing\x20custom\x20skill\x20','getRemoteNodes','Logging\x20not\x20enabled\x20for\x20channel\x20','endpointMethod','failJob','node-type-not-supported','processContentQueue','requestSubscription','GenerativeAIEngineType','getJobs','getFunctions','messageType','AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','sendRequest','document-parser','vector-database-creation-failed','Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','Invalid\x20layout:\x20','detectStreamIssues','callback','Key-value\x20database\x20transaction\x20table\x20not\x20initialized.','NeedRestart','receiverStreams','status','GenerativeAIWorkerAlreadyExists','NodeJoin','The\x20system\x20topic\x20has\x20not\x20been\x20registered.','Transaction','Cannot\x20create\x20Graph\x20Database:\x20Name\x20must\x20be\x20a\x20string','ObjectStoreNameNotString','Error\x20committing\x20batch:','cleanOldSubscription','.tsx','assign','owner','topics','getGenerativeAIContexts','SenderSendMessage','MissingRemoteConnection','getTracks','VectorDatabase','Setting\x20context\x20for\x20agent\x20skill\x20block','leave','problem','feedback','stop','getBid','buildTableEvent','code','/resources/generative-ai-grammar/items','pop','task','errorDetails','contentRequestSent','KeyValueDatabaseAlreadyExists','objectRequests','onSnapshot','not-in','orchestrator-close','Error\x20writing\x20buffered\x20chunk\x20to\x20stream','getGraphDatabase','Early\x20return:\x20','supported','send','firebaseUnsubscriber','initializeSystemTopic','handleLocalTrackFailure','\x20failed\x20to\x20receive\x20a\x20valid\x20bid\x20responses\x20in\x20time.','key-value-database-table-does-not-exist','bytesReceived','.ppt','canChooseAnswer','sentence-splitter','subscription','agent-join','instance','/objectstores/','Agent\x20block\x20is\x20missing\x20required\x20data','clearSyncTimeout','getDataCollections','registerSystemPublisher','mediaUnsubscribers','generative-ai-worker-already-exists','messageBuffer','getWorkflowModels','appendTransaction','/transactions','optimizationLayers','Subscribing\x20to\x20an\x20event:\x20on','Search','processTransactionPayload','startBidResponseHandling','CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','priority','.jinja','createOffer','removeLocalMediaStream','Processing','codes','JobWorkerInvalidType','key-value-database-creation-failed','getContentType','loop','createExternalStorageConnection','addContent','.tcl','nodeId','GenerativeAITracing\x20-\x20Trace\x20job\x20id\x20does\x20not\x20exist','objectToArrayBuffer','connectionTimeout','removeListener','getDocs','queryFileConnector','DocumentParser','getRemoteMediaStreams','Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed','northamerica-northeast1','application/octet-stream','firstValueFrom','getTrackFromParam','search','GraphDatabaseDoesNotExist','Support:\x20','getInternalTrackParams','getEmail','handleJobAttribution','DataChannel\x20is\x20not\x20initialized.','handleObjectMove','.ps1','\x20not\x20found.','Graph\x20database\x20block\x20is\x20missing\x20required\x20data','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process\x20with\x20not\x20all\x20ancestors\x20connected.','Signaling','Parameter\x20','cost','externalStorages','Remote\x20connection\x20already\x20exists.','getTransactionFromTableWriteEvent','GenerativeAITracing\x20-\x20Cannot\x20commit\x20trace,\x20database\x20is\x20not\x20set','propagate','onValue','Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string','appsync-statechange','Data\x20Received','videoHeight','logMMRRebuild','Everyone\x20','validateAccess','messages','createJobDispatcher','subscriptionRequests','concat','result','LocalMediaStreamNoAudioContext','setEmail','between','Backgrounds','substring','getRoundTripTime','trace','workflow-invalid-block-type','answerContentAvailable','handleDisconnect','createConstantSource','VectorDatabaseDoesNotExist','minThreshold','stringify','Model\x20output\x20type\x20is\x20vector\x20but\x20input\x20is\x20not\x20an\x20index','PubSubTopicAlreadySubscribed','getLastUpdated','getHash','\x20received\x20responses:','removeRemoteNode','statusText','findIndex','Job\x20Worker\x20does\x20not\x20exist','onNodeUpdate','AppSync\x20connection\x20not\x20ready','workflow','streams','framerate','GraphDatabaseStats','handleRequestPayload','logEvent','RemoteRemediation','getModels','loggingDb','Data\x20cluster\x20is\x20not\x20open.','clear','lastRemediations','getLayout','desc','syncKeyValueDatabase\x20-\x20Retrying\x20sync\x20in\x20broadcast\x20mode.\x20Waited\x20for\x20cluster\x20readiness\x20for:','catch','dataChannel','msalGetAccessToken','file-upload','object-store-invalid-payload','SHA-1','receiverTotalMessages','/resources/generative-ai-collection/items','getName','queues','getSentences','removeJobWorker','RemoteMediaStreamMissingProviderId','Agent\x20block\x20is\x20missing\x20required\x20data:\x20','function','timeSending','No\x20global\x20object\x20found','WordSplitter','bufferedChunks','getTableConnector','parameters','JobWorkerCreationFailed','splitParts','OutgoingMediaStreamNoTopic','job-worker-already-exists','resolution','event','Invalid\x20credentials','\x20completed.','isSync','cachedRoot','DataChannel\x20send\x20error','verb','Setting\x20context\x20for\x20custom\x20skill\x20block','queries','Job\x20with\x20id\x20','senderTotalMessages','authContext','notifyObjectStoreOfNodeLeave','unregisterPublisherListener','syncResolve','next','removeTrack','contentType','handleContentSubscribeMediaStream','EntityExtractor','handleSubscriptionSystemEvents','output','missing-system-topic','Operations:','PayloadAction','getInstance','registerDestination','peer-connection-invalid-destination','numeric','setupResizeHandler','isMediaSource','runJobQueue','number','Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed','pendingFilesRename','DataChannel\x20buffer\x20is\x20full.','VectorDatabaseCreationFailed','lastClockUpdate','systemMessages','PubSubTopicStats','handleIceCandidates','getConnectionDestinations','notifyClusterNodeUpdate','canAddCandidates','publishSyncCompletedAfterWrites\x20-\x20','\x0a\x20\x20===\x20Total\x20Nodes:\x20','_ready','No\x20parameters\x20provided','capacityReporter','UnsubscribeMediaStream','addPendingHandshakeCandidate','retrieveBlocks','.php','GenerativeAITracing\x20-\x20trace\x20is\x20not\x20open','Invalid\x20query','functions','CrewdleSenderConnection\x20createOffer','Cannot\x20list\x20directory:\x20External\x20Storage\x20not\x20connected','isValidMediaSubscriptionParams','folder-create','configure','.html','onNodeDisconnect','.tpl','Text','Move','RestartNeedMediaStream','logBatch','docs','insert','dataTopics','SyncKeyValueDatabasse\x20-\x20Waiting\x20for\x20ancestors','isIceCandidate','getEngineType','storage','Generative\x20AI\x20context\x20job\x20failed.','resolve','remote-media-stream-already-exists','deleteTransactionsForTable','Invalid\x20object\x20store\x20state.','disconnectCallback','user-join','VectorDatabaseAlreadyExists','Given\x20search\x20results\x20for\x20','audioDestination','JobContext','log','unregisterSystemSource','getAudioTracks','Node','GenerativeAIContextAlreadyExists','Setting\x20context\x20for\x20answer\x20block','Object\x20store\x20is\x20not\x20in\x20sync','createSubscription','Invalid\x20table\x20name\x20\x27','Prompt','_isReady','signalingServer','\x20-\x20Sending\x20propagation\x20(','\x0aAdditional\x20data:\x20','key-value-database-invalid-value','Logger.getInstance','processList','Request','Node\x20already\x20exists.','Failed','JobDispatcherJobNotFound','G-F7W8KXRKQB','pipe','changesUnsubscriber','getOutgoingOptimizationConnections','currentDistance','Node\x20type\x20is\x20invalid','checkDeviceConfig','lastHeartbeat','Data','VectorDatabaseMissingConnector','signOut','setTransformations','.jsx','getRemoteNode','CloseVectorDatabase','listener','processServiceReport','totalEncodeTime','addCluster','getLabel','logServiceEvent','GenerativeAILabelConflict','removeContent','PubSubTopicAlreadyExists','chunk-splitter','PubSubTopicNameNotString','handleCloseContent','.css','setReportCapacity','authenticateUser','isLoaded','addNode','processPendingHandshakeCandidates','payloadType','removeSubscriptionsForNode','retryQueue','entities','Opened\x20pubsub\x20topic','updateUser','logger','handlePublishMediaStream','840456XRmzzg','commitLevel','85jKrJsf','ExternalStorageConnectionDoesNotExist','KeyValueDatabaseDoesNotExist','asyncHeaders','checkAudioContext','onConfigurationChange','remainingTracks','appsync-connect','trackChanges','rtt','ExecuteCode','videoWidth','resizeHandler','reportCapacity','Job\x20service\x20creation\x20failed.','handleFolderCreate','problemType','close','createFolder','job-dispatcher-already-exists','isComputingMMR','openGenerativeAIContext','FramePerSecond','downloadDocument','minConnections','crewdleSDKEnableLogging','Model\x20output\x20is\x20an\x20array\x20but\x20expected\x20text','systemMessagesReceived','FolderMove','everyone','Job\x20service\x20job\x20not\x20found.','transactions','createObjectStoreBucket','waitAsync','createIncomingSubscription','peerConnectionConnector','state','publishLocalDynamicMediaStream','\x27\x20dabatase\x20id.','consumeBufferedEvents','job-worker-does-not-exist','File\x20sending\x20interrupted','\x0a\x20===\x20Wait\x20Time:\x20','removeKeyValueDatabase','outgoingStreams','cpu.fps','tables','includes','listen','FolderCreate','unregisterPublisher','RemoteRemove','KeyValueDatabaseTableDoesNotExist','Cannot\x20get\x20file:\x20External\x20Storage\x20not\x20connected','updateJob','connector','getProviderId','getId','chunk','/resources/external-storage/items/','blocks','data','asyncEndpointUrl','syncedFileExists','InvalidSubscription','AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','Reranker','WorkflowTrace','KeyValueDatabaseNotOpen','publish','findNextNodeId','.rs','Low','message','debounceProcessRank','processTransactionsToComputeMMR\x20-\x20All\x20transactions\x20are\x20appendable.\x20Append:\x20','mediaTopics','orchestrator','workflow-does-not-exist','RemoteConnectionExists',':\x0a\x0a','clearConnectionTimeout','\x20received\x20partial\x20result:','\x0a\x0a`Executing\x20query`\x0a\x0a','candidate','GraphDatabaseCreationFailed','processReceivedTransactions','Text\x20is\x20required','String','packetsReceived','RequestFile','ccc','connectAgent','getMaxConnections','ObjectStoreDoesNotExist','enabledChannels','digest','getDistance','evaluateBidsAndAttributeJob','Error\x20executing\x20code','onConnectionStateChange','Execute\x20a\x20SQL\x20query\x20on\x20a\x20file\x20to\x20retrieve\x20data.\x20The\x20query\x20should\x20be\x20designed\x20to\x20extract\x20relevant\x20information\x20from\x20the\x20file.\x20Available\x20table\x20is\x20file\x20and\x20columns\x20are:\x20','inputTokens','removeObjectStore','getPartsForSubscriptionLabel','AudioOutput','GenerativeAIContextJobMissingThreadId','features','GenerativeAIContextCreationFailed','Connection\x20already\x20exists','database','JobDispatcherInvalidJobType','maxFramerate','.info/connected','audioSource','\x0a\x20===\x20Total\x20Time:\x20','Sender','external-storage-connection-already-exists','scheduleTime','previous','collectSendersStats','Opened\x20key\x20value\x20database','contextInputVariable','getCoresFromCapacityReport','Error\x20processing\x20ingest','decodeJWT','unpublish','Opened\x20graph\x20database','Invalid\x20peer\x20connection\x20event\x20destination.','.info/serverTimeOffset','query-helper-invalid-argument','Error\x20processing\x20content\x20queue','CONNECTION_STATE_CHANGE','getRank','removeRemoteStreamSubscription','Model\x20not\x20found:\x20','isJobRequest','getDataBucketIds','mediaStream','processReport','channel','externalStorageConnections','appendTransactionAndUpdateHashMap','text/csv','addEventListener','senderCurrentBytes','removePubSubTopic','processJob','loggingDatabaseConnector','aiSearchConnector','agent','Node\x20is\x20not\x20an\x20agent','Error\x20stringifying\x20object','initialize','vector-database','vector','7536555KTNdLI','writeTransaction','.yaml','receiverPreviousTimestamp','node-does-not-exist','responseTimeout','context','receiverTimeProcessing','RequestFileSync','GenerativeAIContextJobAlreadyConsumed','vendorId','createGenerativeAIContext','agent-update','registeredListeners','reportMetric','appsync-connect-fail','clearSubscriptionRequestTimeout','ExternalStorageUpload','getAgents','Before\x20Synchronization','readyPromises','setCurrentVersion','keys','agentConfig','createRemoteNode','createPendingFileWrite','logDataSent','Chosen\x20answer','issues','pendingFilesSyncing','user-update','transactionService','KeyValueDatabase','destroy','cluster','/nodes/','KeyValueDatabaseNameNotString','addReservedTables','Stream\x20does\x20not\x20exist','ranges','Subscription\x20request\x20failed.','Database\x20does\x20not\x20exist','startTime','startsWith','accessToken','instructions','DTVolatility','454218dNnIau','Execute\x20the\x20agent\x20','\x27\x20in\x20layout','endsWith','replace','receiverUnsubscribers','setStatus','configs','runTransaction','\x0a</uploaded-files>','.djt','GenerativeAIContextDoesNotExist','logStorage','RemoteMediaStreamDoesNotExist','unregisterDestination','captureStream','Retrieve','connection-not-initialized','lastExecuted','handleRemediationSystemEvents','Online','handleOnMessage','streamId','limitToFirst','isChannelEnabled','ExecuteAgent','generative-ai-context-job-already-consumed','generative-ai-worker-creation-failed','displayName','InvalidDataChannel','calculateArrayBufferSize','getDataLogged','\x20seconds','mistlet-capacity-report-not-set','.ejs','authNode','from','Buffered\x20chunks\x20are\x20too\x20large','incomingTopic','unregisterSubscriber','Connection\x20does\x20not\x20exist','Key-value\x20database\x20transaction\x20value\x20not\x20set.','getSenderBitrate','/transactions/lastTransaction','ExternalStorageConnection\x20not\x20found','sync','knowledge','calculateSize','outputTokens','bucketId','heartbeatUnsubscriber','MediaStream\x20feature\x20not\x20enabled','sendTransactionsValue','validateValue','messageCallback','abs','results.txt','maxDistance','\x20MB','handleNodeDisconnect','graph-database-already-exists','invalid-publisher','subscriptionManager','/nodes','Opened\x20generative\x20AI\x20worker','moveObject','unsubscribe','request-file-write','handshakeDebounce','processTransactionsToComputeMMR','Debug','Outgoing','jobPhase','AI\x20worker\x20creation\x20failed.','Support:\x20current\x20config','Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string','DataCollection','upgradeTimeout','statsReport',':\x20Object\x20store\x20is\x20not\x20in\x20sync','notifyJoin','chooseAnswer','NodeInvalidType','renderElement','\x0a\x20\x20===\x20New\x20MMR\x20Root:\x20','invalid-subscriber','.java','Invalid\x20object\x20store\x20sync\x20message.','createVectorDatabase','Agent\x20output\x20is\x20not\x20a\x20string','FolderDelete','graph-database','10itvbOA','download','clusterEventEmitter','versions','take','closeSubscription','label','Success','Invalid\x20where\x20clause','outbound-rtp','removeConnection','/resources/agent/items/','roundTripTime','generative-ai-context-does-not-exist','Label\x20already\x20in\x20use\x20by\x20AI\x20Service','AI\x20Service\x20already\x20exists','getPeakNode','then','write','119BQTBgZ','queryFile','DataChannel\x20is\x20not\x20open.','\x20deleted.','handleMissingSenders','initializeLoggingDatabase','list','PubSubTopic\x20onMessage','timesCalled','stopTracing','\x20transactions\x20from\x20node\x20','hashTransaction','ConnectionGroup','LocalMediaStreamTrackFail','parseWorkflowBlocks','encode','getDisplayMedia','Internal\x20unknown\x20error:\x20','aiSearchApiKey','isInternalSDKConfigs','notifyCluster','logWaitTime','answererId','Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','update','checkMediaStream','setVendorId','\x20failed.','true','ChunkSplitter','executeJavascriptCodeSnippet','getLocalMediaStreams','handleRemoteTrackFailure','clientWidth','/resources/generative-ai-agent/items','checksum','getTotalNodes','clockSkew','\x20is\x20required','setLoggingConnectors','getContent','toFixed','eventEmitter','deployedVersion','Count','KeyValueDatabase\x20not\x20found','packetsSent','.ts','Knowledge','setTimeout','ObjectStoreAlreadyExists','once','Unsupported\x20job\x20type','Missing\x20transaction\x20id','.j2','JobWorker:\x20Tracing\x20not\x20implemented','FeatureNotEnabled','\x0a\x20===\x20Total\x20Data\x20Sent:\x20','ObjectStorage','logRaw','Agent','vector-database-missing-connector','Search\x20connector\x20not\x20set','sourceId','\x20does\x20not\x20exists','resetConnection','Search\x20in\x20data\x20collection\x20','No\x20connections\x20available\x20to\x20send\x20message','onGatheringStateChange','Accepted','AgentSkill','Remove','147104PbtoXO','trackEndedListeners','CloseKeyValueDatabase','graphService','Jitter','.dart','maxOutgoingSubscriptions','\x20answer','nodeKey','.ini','isWhereValue','PubSub\x20already\x20exists','TestPage','deleteFileChunks','Problem','dataUnsubscribers','localNode','sendWithRetry','currentTimestamp','detail','some','GraphSearch','openedTraces','@id','trim','unshift','Method\x20not\x20supported','handleSystemEvents','Error\x20opening\x20trace','setInterval','childRemovedUnsubscriber','processInboundReport','GenerativeAIWorkerCreationFailed','Initial\x20MMR\x20built\x20with','Entity','/stats','\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.','stopNoThrottlingHack','key','overlap','.doc','emit','firebase-connect','standalone','CloseMediaStream','Model\x20output\x20type\x20is\x20text\x20but\x20input\x20is\x20not\x20text','SearchPerplexity','arrayBufferToObject','hasTracks','getKeyValueDatabases','Image','processDataChannelReport','getVideoTracks','checkBackgrounds','ref','PubSubTopic\x20publish','NodeUpdate','syncTimeout','internalDownloadDocument','GraphDatabaseMissingConnector','addEdge','.txt','notifyObjectStoreOfNodeJoin','handleDetectionSystemEvents','\x20writes\x20from\x20','payload','cancel','Relation\x20extractor\x20block\x20is\x20missing\x20required\x20data','CrewdleReceiverConnection\x20ontrack','isSubscribed','modelStore','Info','remote-stream-does-not-exist','handleSubscribeMediaStream','Vector','cluster-disconnect','Error\x20searching','msalRefreshToken','New\x20MMR\x20Root:\x20','getModel','checkSyncComplete','transformations','checkExistingPendingFileContent','uuid','collectReceiversStats','openJobDispatcher','timeReceiving','GenerativeAITracing\x20-\x20Cannot\x20commit\x20trace,\x20logging\x20table\x20is\x20not\x20set','providerListener','GenerativeAIWorker:\x20Opened','updatePropagationProperties','params','Given\x20','appsync-close','prototype','call','InvalidPublisher','ExternalStorage','SHA-256','OptimizationConnectionSuccess','InitialPrompt','.erl','clusterKey','Detection','syncKeyValueDatabase','indexOf','sampleRate','validateLayout','history','support','waitSuccess','getWorkflowExternalStorageConnections','receiverBitrate','createReceiverConnection','ExternalStorageInvalidPath','Store\x20already\x20exists','processPendingSyncTransactions','limit','loggingCycle','getObjectStoreBucket','openObjectStoreBucket','request-file','Medium','Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20','.xls','hasMessage','commitBatch','GenerativeAIContextInvalidPartialResult','Start\x20Ingestion','loadFromDisk','hash','onDisconnect','getConnectionGroup','WebGL','setReceiverTimestamp','Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string','external-storage-connection-does-not-exist','NeedMediaStream','internalProcessJobStream','isSyncing','iceServers','absolutePathName','removeVectorDatabase','debounceLogTimeout','isPartialResultResponse','currentVersion','removeExternalStorageConnection','charCodeAt','ExternalStorageConnectionAlreadyExists','Waiting','onremovetrack','recomputeRoot','getKeyValueDatabase','split','temperature','\x20received\x20result:','contentMediator','evaluateBids','left','isAvailable','PubSubTopicDoesNotExist','generative-ai-context-invalid-partial-result','files','rootComputationPromise','peer-connection','min','query-file','connection','timeoutValue','RelationExtractor','.xml','noun','byteLength','Invalid\x20data\x20event.','chunks','options','action','VectorDatabaseStats','onClose','remote-stream-missing-provider-id','internalSearch','Multiple\x20files\x20found','Cluster','.clj','setIsLoaded','getWorkflow','Reranker\x20block\x20is\x20missing\x20required\x20data','Orchestrator\x20handleSystemEvents','getWorkflowObjectStorageBuckets','Cannot\x20get\x20file:\x20','documentParserConnector','GenerativeAIModelInputType','Additional\x20context:\x0a','CloseObjectStoreBucket','boolean','debounceRebuildMMRWithTransaction','clusters/','GenerativeAIWorker:\x20Opening','messagesReceived','shouldProcessTransaction','where','nextNodeId','jitter','\x20attributed\x20to\x20','setDisplayName','Logging\x20database\x20not\x20initialized','add','file-write','source','getMinConnections','getConnectionType','handleContentUnsubscribeMediaStream','Remediation','commitType','getSize','logging-db-','Folder','getTime','compileStats','handshakeState','KeyValueDatabase\x20-\x20Assuming\x20no\x20nodes\x20available\x20to\x20sync.\x20Completing\x20sync.','getPubSubTopic','InvalidAccess','max','Error\x20during\x20MMR\x20rebuild\x20logging:','graph-database-name-not-string','MissingSystemTopic','getReceiverBitrate','getGenerativeAIWorkers','getPeaks','Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream','ended','agentId','Database\x20not\x20open','\x20-\x20','getOwnerId','Invalid\x20node\x20type','handleUnpublishMediaStream','exists','12863268KSrYoe','SystemTopic\x20publish','KeyValueDatabaseRequestTransactionsValue','Offer','bandwidth.bitrate','https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','handleFileRequest','inputType','Connection','Code','Hub','messageUnsubscriber','isConnected','setUpgradeTimeout','disconnect','track','onUnregisterPublisher','parseWorkflowDocument','detectAudioIssues','amd','getBitrate','utf8','jobQueue','pow','remediation','localId','buildQuery','long','IntermediateOutput','Core','name','getAuth','detectVideoIssues','.cfg','maxDepth','maxBitrate','ScreenSharing','job-dispatcher-creation-failed','logs','debugEnabled','Job','Publish\x20the\x20transaction','vector-database-does-not-exist','processJobStream','sendFileRequestPayload','listChanges','createKeyValueDatabase','Prompt\x20is\x20required','destination','Key-value\x20database\x20creation\x20failed.','data-collection','setDurationTime','taskType','getSubscriptionLabel','incomingManager','comparePeaks','KeyValueDatabaseInvalidQuery','node','modelStorageBuckets','getAncestorIds','send\x20error\x20on\x20','wait','setConnectionType','stopConnection','DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found','CloseGraphDatabase','retryCount','object-store-not-synced','https://crewdle-sdk-stg-default-rtdb.firebaseio.com','GenerativeAIContextJobFailed','prompts','signInWithCredential','key-value-database-does-not-exist','Opened\x20logging\x20database','bufferedAmount','An\x20error\x20occurred','ObjectStoreInvalidSyncMessage','\x20created\x20and\x20dispatched.','Attribution','updateDebounce','checkScreenSharing','remoteNodes','successNotified','notifyClusterNodeJoin','mediator','asyncEndpointMethod','WorkflowDoesNotExist','removeGraphDatabase','bind','JobWorker:\x20Error\x20processing\x20job','isBidResponse','contentManager','GraphDatabaseAlreadyExists','KeyValueDatabaseSendTransactions','sendStats','Internal\x20error:\x20','createConnection','handleOffer','Events','getExternalStorageConnections','Rating','4gZmsoz','WriteFile','Early\x20return','job-dispatcher-job-not-found','fetchContentFromUrl','remediationManager','key-value-database-name-not-string','registerRemoteNode','authService','hashNodes','getIdToken','sendTransactionsValue\x20-\x20value\x20not\x20found','sendReject','discoveryService','key-value-database-table-name-reserved','Invalid\x20subscription.','peaks','processSenderReport','loggingConnectors','QueryFile','restartHandshake','server','DEBUG\x20-\x20','push','content-publish-media','maps','Model\x20not\x20found','jobs','.yml','interval','hasRemoteNode','graph-database-missing-connector','dataStores','checkWebRTC','GenerativeAIContextJobTimeout','1:519415702791:web:5dd39042f881cfde3251a2','isFeatureSupported','mute','.crewdle-transactions','retryDelay','key-value-database-transaction-table-not-initialized','AppSync\x20publish','Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream','setSubscriptionRequestTimeout','handleFileWrite','Generative\x20AI\x20context\x20job\x20already\x20consumed.','Handshake','accumulated','ObjectStoreAlreadySubscribed','batchSize','random','keyPath','InvalidSubscriber','subscriptionRequestsQueue','contentQueueRunning','Invalid\x20version\x20\x27','processContentAvailable\x20-\x20Peak\x20comparison:','Local\x20MediaStream\x20already\x20exists','setOnDisconnectHandler','key-value-database','Received\x20track','content','Upgrade','saveToDisk','checkMediaRecording','getRemoteConnections','api','NodeNotAuthenticated','addConnection','asc','publishSyncCompletedAfterWrites','blockId','.cs','I\x20am\x20done','Skill','fileChunks','getPriority','suspended','createGraphDatabase','\x0a\x20\x20===\x20MMR\x20Computation\x20Time:\x20','waitAnswer','.vue','av_delay','Bitrate','searchEngineId','systemTopic','receiverCurrentBytes','Invalid\x20data\x20channel.','prompt','setOnTableWriteHandler','NodeManager\x20-\x20NodeUpdate','height','Peaks\x20requested\x20were\x20not\x20found\x20in\x20local\x20MMR','index','KeyValueDatabaseSyncRequired','val','answers','getSettings','getContext','InternalSDKError','Missing\x20external\x20storage\x20connector','completeSync','stats','/resources/generative-ai-model/items','video','FileDelete','AITrace','publishUserUpdate','removeEventListener','key-value-database-transaction-value-not-set','LocalMediaStreamDoesNotExist','clientStream','onDataChannel','Today\x20Date:\x20','documentPath','User\x20not\x20signed\x20in','getApp','availableTrackKinds','\x20with\x20\x27','objectStores','.docx','subscriptionRequestTimeouts','Sending\x20\x27','senderStreams','Please\x20provide\x20a\x20threadId\x20in\x20the\x20options','sequence','KeyValueDatabaseContentAvailable','filesSynced','unregisterSource','Add','Number','Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user','webgl','createDataChannel','CanProvideMediaStream','observe','handleNodeJoinNeedPublishedStream','getAvailableTrackKinds','onBufferedAmountLow','remoteUnsubscriber','FPS','receiver','listenerUnsubscriber','subscribeToJobs','.exs','CustomSkill','thread-','Buffering\x20event','Error\x20closing\x20trace','rejectReady','SyncComplete','queryOrPrompt','missing-datachannel','removeOutgoingSubscription','Cannot\x20get\x20size\x20of\x20path:\x20','PartialResult','initializeApp','@context.','\x20new\x20transactions','GenerativeAIWorkerStats','jobType','region','distance','No\x20destinationIds\x20left','Cannot\x20publish\x20payload:\x20','startAt','loadExternalContent','cluster-already-joined','getEntities','/developers/','globalObject','Workflow','oncloseTimeout','handleContentRemoteMediaStreamTrackFail','reset','ObjectStoreNotSynced','openGraphDatabase','play','Optimization','CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','ObjectStoreCannotWriteTransaction','getNextTargetRank','@root','SubscriptionRequestInProgress','getSubscribedTracks','Invalid\x20params','High','internalProcessJob','retry','mode','List','Subscription\x20request\x20has\x20not\x20been\x20answered.','Found\x20','VectorSearch','getCurrentVersion','SubscriptionRequestNoAnswer','getDoc','Syncing','KeyValueDatabaseStats','floor','all','addTrack','text/','addRemoteConnection','expectedTransactions','recipients','ObjectStoreInvalidPayload','MediaStreamUnavailable','query','MediaStreamPriority','MediaStream','getTransactions','connectionStateListener','Received\x20request\x20for\x20peak\x20transactions.\x20Sending\x20Transactions.','publishSystemMessage','load','cpu.cycle','setupTrackEndedListeners','sendAction','newPath','processRemoteInboundReport','checkWebGL','externalStorageConnectionIds','instantiateTransactionTable','isProduction','object-store-already-exists','Database\x20Opened','FROM\x20file','updateLastTransactionId','\x20for\x20','GenerativeAITracing\x20-\x20Error\x20while\x20committing\x20trace','syncContent','width','remoteMediaStreams','createOutgoingSubscription','loadEnabledChannels','Perform\x20a\x20search\x20on\x20Perplexity\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','parentId','handleNodeSystemEvents','connected','eventTarget','component','unregisterRemoteNode','getQuery','right','WebScraperRaw','LocalReport','addRemoteNode','Setting\x20context\x20for\x20agent\x20block','Error\x20resolving\x20readyPromises:','sort','entries','detectionManager','key-value-database-invalid-query','GenerativeAITracing\x20-\x20Error\x20while\x20opening\x20trace.\x20Retrying:\x20\x27','publishTransaction','receiverConnection','eventListener','LocalMediaStreamAlreadyExists','KeyValueDatabaseRequestPeakTransactions','local-media-stream-track-fail','collectTransactionsFromNode','connectorConstructor','GenerativeAIRatingStatus','supports','SyncKeyValueDatabase\x20-\x20Ancestors\x20','No\x20connections\x20available\x20to\x20send\x20subscription\x20request','Internal\x20SDK\x20Error:\x20','RemoteMediaStreamInvalidSubscriptionParams','::','openVectorDatabase','ner','previousBytes','handleSubscriptionNeedMediaStream','Receiver','Received\x20event\x20on\x20cluster','Content','Cannot\x20close\x20the\x20SDK\x20while\x20data\x20is\x20being\x20transferred.\x20Use\x20`force`\x20parameter\x20to\x20interrupt\x20the\x20connection','hashPeakHashes','manageBufferedChunks','ObjectStore','RemoteMediaStreamTrackFail','Emitting\x20event\x20on\x20local\x20cluster','GraphDatabase','object-store-invalid-sync-message','nlpLibraryConnector','QueryBuilderInvalidArgument','Object\x20store\x20not\x20synced.','estimatedPlayoutTimestamp','contentQueue','handleAnswer','word-splitter','getChannelData','getSimilarity','LoadKnowledgeFunction','setItem','117705PFttTv','title','results','CloseJobWorker','registerPublisher','internalContext','Channel\x20\x27','propn','lastProcessRank','Processing\x20agent\x20block:\x20','PromptFunctionParamsType','frames','processRank','GenerativeAITracing\x20-\x20trace\x20job\x20id\x20does\x20not\x20match','bytesSent','stream','removeRemoteMediaStream','warning','handleUpdateMediaStream','Subscription','ExternalStorageNameNotString','getLocalNode','signalingState','joinedClusters','ExternalStorageStats','getTotalBytes','cluster-leave','maxTokens','Warning','mmr','setOnMessageHandler','removeTopic','buffer','object-storage','getAudioVideoDelay','Connection\x20not\x20initialized.','forceLog','SystemStats','publishFile','disableIntervalHack','Missing\x20remote\x20node\x20or\x20rank','JobDispatcherObserverNotFound','detectLocalIssues','subscribe','processOutboundReports','ExternalStorageConnectionAlreadySubscribed','Connection\x20does\x20not\x20exist.','Data\x20collection\x20not\x20found','description','currentBytes','external-storage-upload','reads','FinalOutput','GetContextQuery','ExecuteCustomSkill','JobType','getConnections','maxThreshold','SubscribeMediaStream','.sh','getTable','every','Failed\x20to\x20get\x20file','indexes','findNewMediaSubscription','object-store-already-subscribed','Resolution','oidc','DataStream\x20send','default','GenerativeAIModelOutputType','crewdle-sdk-logging-','\x20after\x20','logInitialMMR','.rkt','gatheringState','getSubscriptionInfo','dbKey','frameHeight','streamLabel','JobStatus','validateQuery','getConnection','job-dispatcher-job-exists','MistletCapacityReportNotSet','destinationIds','observer','kind','file','sendIceCandidates','audio','setRemoteConnections','KeyValueDatabaseTransactionValueNotSet','contentSize','generative-ai-context-creation-failed','createBatchOperation','No\x20files\x20found','getCurrentMaxLayer','getSkills','chosenAnswers','lastUpdated','tableName','subscribedTracks','join-cluster','KeyValueDatabaseTransactionTableNotInitialized','\x27:\x20missing\x20or\x20invalid\x20keyPath','processContentAvailable','applyRemediation','clusterId','Data\x20Sent','asObservable','subtle','setInternalId','Result','shift','unsubscribeHandler','/capacities','.scala','closeConnection','ObjectStore\x20not\x20found','onTrack','logSyncMetrics','NodeManager\x20-\x20NodeLeave','get','getReceiverTotalBytes','closeTrace','Cannot\x20subscribe\x20to\x20ExternalStorage:\x20Already\x20subscribed','auth','createTopic','ObjectStoreNotInSync','Disconnect','.js','complete','NodeTypeRequired','Bid','transactionHashMap','Offline','Relation','maxConnections','KeyValueDatabaseInvalidLayout','move','.Total\x20pages\x20available:\x20','receiverCurrentTimestamp','external-storage-name-not-string','AI\x20Search\x20connector\x20not\x20set','handleStatsSystemEvents','/transactions/','maxResolution','Remote\x20stream\x20does\x20not\x20exist.','searchConnector','Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','now','rank','manageAncestor','knowledgeCutoffDate','dataBucketIds','Opened\x20model\x20store\x20bucket','fromEntries','bufferEvent','UnpublishMediaStream','clearOncloseTimeout','getReport','Unknown\x20skill\x20type','1:420235181083:web:4eff6062bd845cb0748cbe','onRemoveTrack','OfficeParser','startIndex','frameTime','Invalid\x20job\x20service\x20payload.','publishFolder','connectionState','match','Cannot\x20fetch\x20content\x20from\x20this\x20type\x20of\x20file','addBidResponse','ClusterAlreadyJoined','success','onloadeddata','clearWaitSuccess','Pool','getShareableStream','closeTopic','syncTransactions','gpu','shouldContinuePropagation','ConnectionState','ModelVector','JobDispatcherInvalidPayload','PeerConnectionInvalidDestination','urls','createElement','handleContentUnpublishMediaStream','Queued','closed','exports','getDTVolatility','key-value-database-index-not-found','request-file-sync','orderBy','ConnectionNotConnected','confirmSynchronization','processReceiverReport','0\x20B','traceLevel','total','handleConnectionSuccess','unregisterSystemPublisher','Logging\x20trace','Error\x20retrieving\x20context','externalStores','PeerConnection','us-east-1','KeyValueDatabaseCreationFailed','Memory\x20Usage\x20at\x20','\x20were\x20ready\x20in','lastTransactionId','remoteConnections','srcObject','tableObserver','aws','packetsLost','type','No\x20connector\x20found\x20for\x20model','node-invalid-type','ObjectStorageBucket','removeSubscription','AudioVolume','element','RetrieveTrace','startNoThrottlingHack','\x0a\x20===\x20Total\x20Nodes:','getJob','featureSupport','inactive','minRelevance','Missing\x20owner\x20node\x20or\x20rank','messageListeners','processRemoveContent','getJobObservable','subscribeToLocalContent','.ex','values','All','messagesSent','maxBpp','/resources/generative-ai-workflow/items/','keyValueDatabases','getResolution','system','GenerativeAIContextStats','padStart','GenerativeAIContext\x20stream\x20error','queueLength','createLocalDynamicMediaStream','21a9d78dee97f487b','IDBDatabaseConnector','.liquid','durationTime','graphDatabaseConnector','unsubscribeListener','connectionManager','job-worker-invalid-type','signaling','parseDataCollectionBlocks','cores','\x27\x20payload:','Ingest','crewdle-sdk-stg.appspot.com','debounceRebuildMMR','getVectorDatabases','.go','getEnabledChannels','After\x20Synchronization\x20-\x20Is\x20Database\x20sync?\x20','compareTransactions','ceil','sendPeakTransactions','Receiver\x20connection\x20is\x20not\x20initialized.','StorageEventType','developers/','createBufferSource','createNewBatch','vectorDatabases','Query\x20is\x20required','getSTVolatility','PromptRating','VectorDatabase\x20not\x20found','pendingFilesTransactions','getJobDispatchers','statsCollection','en-US','handleTransactionPayload','All\x20recipients\x20already\x20received','From\x20','createPubSubTopic','Sync\x20completed','get-content','Error\x20encountered\x20while\x20opening\x20database','Update','serverTimestamp','SearchGoogle','answerJoin','graph-database-does-not-exist','Cannot\x20publish\x20file:\x20','rating','addBatchOperation','sendBid','DeviceConfig','firestore','ready','handleOutgoingSystemEvents','FetchUrl','Error\x20fetching\x20file','getObjectStoreBuckets','Prompt\x20block\x20not\x20found','SenderPeerConnection.send','publishNodeLeave','\x20not\x20supported','available','onProviderChange','text','reduce','UpdateMediaStream','google','Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank','warn','ConnectionInvalidDataEvent','getRoot','\x0a\x20===\x20Synchronization\x20Time:\x20','vectorDatabaseConnector','senderPreviousBytes','Error\x20loading\x20existing\x20content','batchQueue','getNumberOutgoingSubscriptions','restartTimeout','getPartsFromSubscription','Invalid\x20value.\x20Must\x20be\x20an\x20object.','Restart','feature-not-enabled','job-dispatcher-invalid-payload','Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','\x20when\x20you\x20need\x20contextual\x20data\x20to\x20inform\x20your\x20response.','Connected','syncFolder','ReceiverPeerConnection.onMessage','mediaDevices','attributes','addCandidate','Invalid\x20index\x20key:\x20must\x20be\x20a\x20string','Graph\x20database\x20creation\x20failed.','Key-Value\x20Database\x20-\x20Sync\x20Completed','connectionPool','Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.','logSupport','timePerFrame','downgrade','outputType','IngestTrace','debug','forEach','JobWorkerAlreadyExists','clientHeight','Knowledge\x20Cutoff\x20Date:\x20','events','getMediaSubscription','.awk','tokens','createMediaStreamSource','headers','map','publishMove','handleSubscriptionSubscribeMediaStream','removeTrackCallback','statsManager','Subject','getAncestors','getOrResetPendingFileTimeout','json','getRemoteId','frameWidth','createSenderConnection','updateLastUpdated','getShareableStreamId','externalStorageConnectors','createRemoteMediaStream','data-stream','ConnectionNotinitialized','handleFileRequestAnswer','JobDispatcherJobExists','GraphDatabase\x20not\x20found','searchInDataCollection','\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','object-store-not-in-sync','Jobs','writes','transactionTable','AudioContext','JobQueueService:\x20Error\x20running\x20job','.pptx','setLocalRank','DataStream\x20onMessage','logConnectionState','getSenderTotalBytes','registerCluster','.lua','Attempt\x20','Key-value\x20database\x20table\x20does\x20not\x20exist.','rebuildMMR','nodesConnected','senders','transaction','Index','media-stream','counter','Job\x20worker\x20creation\x20failed.','hasOwnProperty','https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','Error\x20reading\x20file\x20chunk\x20after\x20','readyDebounce','GenerativeAIContext','canvas','onDisconnectHandler','batchTimeout','.handlebars','deletePendingFile','Database\x20already\x20exists','AI\x20Worker\x20already\x20exists','setupRenderElement',',\x20Transactions:\x20','createBatch','Support','keyValueDatabaseConnector','getInternalStreamId','Invalid\x20job\x20worker\x20type.','previousFrames','bodyParameters','`\x0a\x0a','retryCallback','Apply\x20remediation','setupListeners','JobWorker:\x20Sending\x20job\x20bid','GetContextResult','object-store-cannot-write-transaction','CrewdleConnection\x20handlePeerConnectionSystemEvents','pub-sub-topic-name-not-string','supportsContentType','registerSource','\x0a\x20===\x20Total\x20Data\x20Received:\x20','replaceTrack','isNeedRestart','pendingHandshakeCandidates','NodeDoesNotExist','generative-ai-worker-missing-connector','clearRect','addProblem','minResolutionScale','signInWithCustomToken','internalId','modelsBucketId','KeyValueDatabaseInvalidValue','toLowerCase','web-scraper','AiSearch','models','2-digit','localMediaStreams','crewdleSDKDisableLogging','objectStoreId','IncomingSubscription','isOpened','FileWrite','remote-inbound-rtp','getJobWorkers','Synced','groupId','registerSystemSource','senderCurrentTimestamp','undefined','Loaded\x20from\x20disk','getFirestore','setPendingFileSyncingPayload','removeRemoteConnection','getConfigs','external-storage-invalid-path','engine','JobWorkerDoesNotExist','objectStoreConnector','senderTimeProcessing','statsReporting','systemTopicUnsubscribe','senderPreviousTimestamp','sendFile','STVolatility','token','getPubSubTopics','custom-skill','setParams','generativeAIWorkers','Default','openTrace','Workflow\x20does\x20not\x20exist.','join','processInboundReports','PublishMediaStream','System','Node\x20does\x20not\x20exist.','\x20does\x20not\x20support\x20content\x20type\x20','getLocalId','getMediaStream','Partial','isReconnecting','collectionId','Code\x20is\x20required','Error\x20fetching\x20URL','createAnswer','bandwidth.jitter','inbound-rtp','connections','handleSubscriptionProvideMediaStream','setReceiverBytes','pathName','email','Job\x20service\x20observer\x20not\x20found.','ratePrompt','remoteId','UnsubscribeMediaStreamdiaStream','isFailedResponse','Opened\x20vector\x20database','Wait','external-storage','Error\x20fetching\x20context','DataStream','storeId','SubscriptionRequestDoesNotExist','bufferedEvents','engineType','mergeParts','size','AudioContext\x20is\x20not\x20available','modelName','external-storage-connection-already-subscribed','remove','mmrRoot','addDoc','setProviderId','ModelText','trackListeners','generativeAIWorkerConnectors','receivers','RoundTripTime','subscribeToExternalContent','object','WebRTCBrowserPeerConnectionConnector','\x20to\x20send\x20dispatcherJob\x20','filter'];a0_0x1cd8=function(){return _0x48596d;};return a0_0x1cd8();}