function a0_0x2cf3(_0x2355d1,_0x18b78b){const _0x1b01d5=a0_0x1b01();return a0_0x2cf3=function(_0x2cf392,_0x1f16cf){_0x2cf392=_0x2cf392-0x1da;let _0x59f0be=_0x1b01d5[_0x2cf392];return _0x59f0be;},a0_0x2cf3(_0x2355d1,_0x18b78b);}function a0_0x1b01(){const _0x285151=['StorageEventType','No\x20start\x20block\x20found','handleSubscriptionMediaStreamUnavailable','OutgoingMediaStreamNoTopic','ConnectionInvalidDataEvent','external-storage','tts-1','word-splitter','currentDistance','msalGetAccessToken','.tsx','CloseJobDispatcher','checkAudioOutput','feature-not-enabled','/nodes/','senderTotalMessages','isBidResponse','ragApiKey','update','Method\x20not\x20implemented.','FinalOutput','AudioContext\x20is\x20not\x20available','registerPublisher','.xls','syncContent','createRemoteMediaStream','Perform\x20a\x20search\x20on\x20Perplexity\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','relevance','GenerativeAIWorker:\x20CollectionDelete\x20failed','evaluateBids','ObjectStoreCannotWriteTransaction','isNeedRestart','Processing\x20agent\x20block:\x20','knowledge','Cannot\x20write\x20transaction.','Rejected','evaluatePartialJob','generative-ai-context-job-missing-thread-id','decode','mediaStream','removePubSubTopic','LoggingService:\x20logging\x20enabled\x20for','onBufferedAmountLow','support','subscriptionManager','initializeApp','assign','key','object-store-already-subscribed','setRemoteConnections','parse','Resolution','onChildRemoved','file-delete','addConnection','function','shouldContinuePropagation','.liquid','generative-ai-worker-creation-failed','calculateArrayBufferSize','handleFileRequestAnswer','.rkt','getEnabledChannels','email','phi-4-14b','Generative\x20AI\x20context\x20job\x20failed.','logConnectionState','VectorSearch','GenerativeAIRatingStatus','senders','publishNodeJoin','Vector\x20database\x20creation\x20failed.','waitAnswer','\x20transactions\x20from\x20node\x20','graphService','vector-database-creation-failed','</current-question>\x0a\x0a','isMediaSource','videoWidth','handleOptimizationConnectionSuccess','GenerativeAITaskType','job-dispatcher-invalid-payload','nodeId','trackKinds','getInstance','Waiting','asc','stopNoThrottlingHack','JobType','JobWorkerDoesNotExist','llama-3.1-8b','setDisplayName','time_per_frame','clearSyncTimeout','flatMap','createConstantSource','clientWidth','publishTransaction','owner','Image','\x20attempts:','WorkflowTool','Logger.getInstance','/embeddings','processTransactionPayload','format','KeyValueDatabase','gpt-4o-mini-tts','ObjectStoreInvalidState','AiSearch','PubSubTopicAlreadySubscribed','.pl','removeGenerativeAIContext','Invalid\x20node\x20type','previousBytes','DataCollectionDoesNotExist','packetsLost','ObjectStoreAlreadySubscribed','Buffered\x20chunks\x20are\x20too\x20large','inference','job-worker-creation-failed','KeyValueDatabaseSyncRequired','long','success','folder-create','retryCallback','KeyValueDatabaseTransactionTableNotInitialized','functions','key-value-database-invalid-layout','topics','messageListeners','links','name','nextNodeId','audioSource','tables','appsync-disconnect','GenerativeAITracing\x20-\x20Error\x20while\x20closing\x20trace','deleteTransactionsForTable','waitSuccess','/search','openedTraces','loggingConnectors','amd','getTransactionFromTableWriteEvent','Received\x20ContentSynchronized\x20from\x20','getLayout','timeSending','DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found','outgoingTopic','getAudioTracks','query-helper-invalid-argument','validateVendorCredits','batch','generative-ai-context-already-exists','QueryBuilderInvalidArgument','AgentSkill','failJob','getMediaStream','connection-not-connected','query-generator','maxBpp','setupStatsCollection','All\x20recipients\x20already\x20received','type','sort','timesCalled','getRemoteConnections','.rs','OfficeParser','canRestartHandshake','Bitrate','retryDelay','Missing\x20search\x20API\x20key','\x20received\x20result:','params','toLocaleDateString','us-east-1','google/gemini-2.0-flash-001','logUsage','minResolutionScale','MissingSystemTopic','mergeParts','application/json','Downgrade','Content','history','No\x20speech\x20connector\x20available','gatheringState','abs','taskType','getMediaSubscription','receivers','JobQueueService:\x20Job\x20completed','getNumberOutgoingSubscriptions','clusterKey','Data','publishUserUpdate','Agent\x20output\x20is\x20not\x20a\x20string','resolveReady','setEmail','Add','gpt-4o-mini-transcribe','statsManager','User','listFiles','CanProvideMediaStream','issue','add','modelId','startBidResponseHandling','getFullYear','Error\x20writing\x20file','Error\x20executing\x20code','left','MediaStreamUnavailable','NodeManager\x20-\x20NodeLeave','getReceiverBitrate','object-store-cannot-write-transaction','NodeDoesNotExist','processPendingSyncTransactions','\x20finalized.','JobQueueService:\x20Error\x20running\x20job','chained','\x20with\x20response:','setupListeners','remoteNodes','crewdle-sdk.firebaseapp.com','subscriptions','handlePeerConnectionSystemEvents','handleContentUpdateMediaStream','run','initialize','wait','shift','desc','Job\x20service\x20creation\x20failed.','createConnection','ExternalStorageConnectorsMissing','queryOrPrompt','Strategizing\x20Agent','registeredListeners','ConnectionNoRetryQueue','Low','changesUnsubscriber','receiverCurrentBytes','JobDispatcherInvalidJobType','grammar','senderBitrate','logPropagateSystemEvent','status','failed','Signaling','JobStream','removeTopic','OutgoingSubscription','peer-connection-invalid-destination','contentSize','https://huggingface.co/bartowski/Llama-3.2-3B-Instruct-GGUF/resolve/main/Llama-3.2-3B-Instruct-Q8_0.gguf','getSize','chunksReceived','checkBackgrounds','receiverTotalMessages','queryParameters','mute','.ipynb','apiUrl','answer','boolean','createPendingFileWrite','SenderPeerConnection.send','\x20failed\x20to\x20receive\x20a\x20valid\x20bid\x20responses\x20in\x20time.','getObjectStoreBuckets','May\x202024','ObjectStoreAlreadyExists','setDurationTime','localNode','claude-3-haiku-20240307','RequestFile','senderConnection','value','\x20Process\x20inference\x20final\x20response','gpt-image-1','maxFramerate','GenerativeAIWorker:\x20Opened','meta-llama/llama-4-scout','entities','form-skill-set-answer','handleSubscriptionSystemEvents','Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20','inputType','Generative\x20AI\x20Context\x20does\x20not\x20exist','dataBucketIds','Info','PubSubTopic\x20publish','Logging\x20not\x20enabled\x20for\x20channel\x20','Request','getWorkflowExternalStorageConnections','CloseJobWorker','handleUnsubscribeMediaStream','getSenderBitrate','Syncing','Cannot\x20list\x20directory:\x20','setInternalId','Mistlet\x20capacity\x20report\x20not\x20set.','checkWebRTC','WordSplitter','video','st_volatility','createBufferSource','key-value-database-invalid-value','.dart','.yaml','LoadSkillFunction','incrementVersion','https://huggingface.co/bartowski/phi-4-GGUF/resolve/main/phi-4-Q8_0.gguf','vectorDatabaseConnector','connection','buildTableEvent','validateKey','resolve','getSimilarity','previousFrames','authenticateAgent','Router','handleOnMessage','Text','pendingFilesRename','width','Recording','Error\x20executing\x20agent','missing-incoming-connection','hosting','waitForArrayBufferSize','removeRemoteConnection','mediaUnsubscribers','setCurrentVersion','setupTrackEndedListeners','GetContextQuery','.pug','Error\x20querying\x20file','setOnTableWriteHandler','addDoc','wait-true','getStatus','handleUnpublishMediaStream','receiver','compareTransactions','removeEventListener','\x20not\x20supported','\x27\x20is\x20not\x20ready','crewdle-sdk','NodeType','consumeBufferedEvents','publishLocalDynamicMediaStream','suspended','contextInputVariable','Generative\x20AI\x20context\x20job\x20already\x20consumed.','authenticateUser','No\x20more\x20questions\x20available,\x20call\x20submitForm\x20to\x20submit\x20the\x20form','application/octet-stream','DocumentParser','getPubSubTopic','GenerativeAITracing\x20-\x20trace\x20is\x20not\x20open','Opened\x20generative\x20AI\x20worker','data-collection','getDocs','payloadType','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process\x20with\x20not\x20all\x20ancestors\x20connected.','ExternalStorageConnectionAlreadySubscribed','handleSubscriptionRestartNeedMediaStream','handleNoAnswer','sendIceCandidates','deletePendingFile','Failed','removeIncomingSubscription','web-scraper-raw','NodeLeave','TextGeneration','CloseVectorDatabase','remediationManager','undefined','unregisterSystemSource','logStorage','currentFrames','Folder','ExternalStorageUpload','Emitting\x20event\x20on\x20local\x20cluster','push','/transactions/','GenerativeAIWorkerModelSyncError','handleSystemEvents','counter','Missing\x20owner\x20node\x20or\x20rank','resultFile','createBatch','image','Incoming','listener','MerkleMountainRange\x20-\x20appendTransaction\x20-\x20Completed.\x20Root:','currentBatch','/logs','all-minilm-l12-v2','getEmail','committed','unregisterDestination','isSync','GraphDatabaseCreationFailed','getNextTargetRank','object-storage','pendingHandshakeCandidates','Support:\x20','Competitive\x20Analysis\x20Agent','parseWorkflowDocument','timeReceiving','thread-','event','getRemoteMediaStreams','Cannot\x20unpublish\x20object:\x20','padStart','RemoteConnectionExists','floor','.tpl','handleContentCloseMediaStream','/resources/generative-ai-workflow/items/','lastProcessRank','responseTimeout','PubSubTopicDoesNotExist','GenerativeAIModelInputType','chooseAnswer','createGain','RemoteAdd','pool','GraphDatabaseDoesNotExist','map','getPeaks','GenerativeAIContextJobMissingThreadId','object-store-invalid-payload','receiver-on-message','handleNodeUpdate','collection','commitType','processDataChannelReport','getVectorDatabases','Coordinator\x20Agent\x20manages\x20the\x20flow\x20of\x20tasks\x20and\x20ensures\x20the\x20successful\x20execution\x20of\x20workflows\x20to\x20fulfill\x20the\x20user\x27s\x20request.\x0a-\x20Interpret\x20the\x20userâ€™s\x20request\x20to\x20break\x20it\x20down\x20into\x20a\x20sequence\x20of\x20tasks,\x20identifying\x20any\x20dependencies\x20between\x20them.\x0a-\x20Assign\x20each\x20task\x20to\x20the\x20most\x20appropriate\x20tool\x20based\x20on\x20its\x20capabilities.\x0a-\x20Track\x20the\x20progress\x20of\x20all\x20active\x20tasks\x20and\x20ensure\x20they\x20complete\x20as\x20expected.\x0a-\x20Share\x20regular\x20updates\x20with\x20the\x20user\x20about\x20task\x20progress\x20and\x20any\x20significant\x20changes.\x0a-\x20Only\x20respond\x20to\x20the\x20user\x20after\x20reviewing\x20and\x20interpreting\x20the\x20results\x20returned\x20by\x20tools.\x0a-\x20Do\x20not\x20answer\x20user\x20questions\x20directly\x20â€”\x20focus\x20on\x20managing\x20the\x20process\x20and\x20enabling\x20the\x20right\x20tools\x20to\x20respond.\x0a-\x20Communicate\x20clearly\x20using\x20Markdown\x20to\x20structure\x20updates.\x0a-\x20Understand\x20the\x20strengths\x20and\x20limits\x20of\x20each\x20available\x20tool\x20to\x20make\x20informed\x20decisions.\x0a-\x20Decide\x20whether\x20tasks\x20can\x20run\x20in\x20parallel\x20or\x20must\x20be\x20executed\x20sequentially\x20based\x20on\x20their\x20dependencies.\x0a-\x20If\x20a\x20tool\x20fails\x20or\x20returns\x20an\x20error,\x20evaluate\x20alternatives,\x20reassign\x20the\x20task\x20as\x20needed,\x20and\x20inform\x20the\x20user\x20of\x20the\x20adjustment.','oncloseTimeout','2070678pVfVAM','InvalidDataChannel','handleContentRemoteMediaStreamTrackFail','setRank','Pending','getVideoTracks','getLabel','authContext','SHA-1','getLocalMediaStream','estimatedPlayoutTimestamp','rtt','>\x0a\x0a','Execute\x20skill\x20','knowledgeCutoffDate','startLoggingCycle','connectionPool','getTotalBytes','startsWith','getRank','processRank','output-stream','file.type','EntityExtractor','jobDispatchers','maxLayer','configs','Cluster\x20already\x20joined','features','getPubSubTopics','openVectorDatabase','Invalid\x20peer\x20connection\x20event\x20destination.','SenderPeerConnection\x20send','take','File\x20sending\x20interrupted','syncKeyValueDatabase\x20-\x20Retrying\x20sync\x20in\x20broadcast\x20mode.\x20Waited\x20for\x20cluster\x20readiness\x20for:','resolutionScale','head','set','reportCapacity','GenerativeAIInferenceToolType','Receiver','.cpp','Joined\x20cluster','Transaction','outbound-rtp','.exs','childRemovedUnsubscriber','speechAIWorkerConnectors','startNoThrottlingHack','objectStoreConnector','unregisterSystemPublisher','\x20not\x20found.','SyncKeyValueDatabase\x20-\x20Ancestors\x20','listenUnsubscriber','toStringTag','GraphSearch','removeRemoteStreamSubscription','KeyValueDatabaseCreationFailed','rootComputationPromise','collection-create','node-already-exist','input_audio','\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.','clientStream','createLocalDynamicMediaStream','isReconnecting','exports','sonar-reasoning','AudioVolume','sendFile','MediaStream','instance','FormGetQuestion','ai-search','UpdateMediaStream','Backgrounds','messages','nodeManager','appendTransactionAndUpdateHashMap','sourceVideo','FormSkillSetAnswer','retrieveBlocks','PromptFunctionParamsType','logger','__esModule','isAvailable','isWhereValue','streamId','clearWaitAnswer','getTotalNodes','Writable\x20stream\x20is\x20missing','x-ai/grok-4','.cs','retryQueues','emit','crewdleSDKDisableLogging','\x0a</','2015300ECjMyr','supported','onNodeUpdate','Disconnected','KeyValueDatabaseAlreadyExists','.crewdle-last-transaction','Error\x20writing\x20chunk\x20to\x20stream','addBatchOperation','createSenderConnection','disconnectCallback','handleFileWrite','unshift','Orchestrator\x20handleSystemEvents','transactionsToAppend','retryQueue','vector-database-missing-connector','openTrace','contentMediator','setReceiverTimestamp','engineType','codes','isSyncing','firstValueFrom','arguments','verb','hashPeakHashes','Job\x20service\x20job\x20not\x20found.','Conditional\x20Router','answers','availableTrackKinds','\x0a\x20\x20===\x20Initial\x20MMR\x20Root:\x20','frameHeight','cluster-already-joined','reasoning','Internal\x20error:\x20','getDTVolatility','listenerUnsubscribers','Support:\x20current\x20config','substring','.clj','sendReject','globalObject','GenerativeAIContextInvalidPartialResult','firebase-connect','setLoggingConnectors','FeatureNotEnabled','Key-value\x20database\x20transaction\x20value\x20not\x20set.','stop','Search\x20Agent','isMediaDestination','index','reranker','appendTransaction','getRoot','find','trim','createMediaStreamDestination','increment','Jobs','tools','getWorkflow','stringify','ended','query','frameTime','sendAction','bytesReceived','nodesConnected','closed','agent-join','subscription-request-failed','unsubscribeHandler','Initial\x20MMR\x20built\x20with','every','Error\x20committing\x20batch:','getDataCollections','vector-database-name-not-string','getTrack','values','clusterEventEmitter','messagesSent','clearOncloseTimeout','manageAncestor','Key-value\x20database\x20table\x20does\x20not\x20exist.','agent-config-changed','objectRequests','1:519415702791:web:5dd39042f881cfde3251a2','key-value-database-peak-not-found','error','publishLocalMediaStream','executeQuery','updateDebounce','Sender','max','Insufficient\x20credits','cluster','\x20is\x20required','getVectorDatabase','startTracing','PubSub','file','registerSystemPublisher','getLastUpdated','LocalMediaStreamNoAudioContext','Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20','discover','source','handleObjectMove','Received\x20request\x20for\x20peak\x20transactions.\x20Sending\x20Transactions.','removeJobWorker','Pinecone','Answer\x20is\x20required\x20and\x20must\x20be\x20a\x20string','updatePropagationProperties','true','object-storage-upload','getMaxConnections','_ready','muted','.\x20Confirmation?\x20','externalStorages','peerConnectionConnector','Operations:','authNode','processOutboundReports','setPriority','QueryFile','2-digit','\x27:\x20missing\x20or\x20invalid\x20keyPath','collection-delete','getConnectionType','\x20must\x20be\x20a\x20string','toString','getOrResetPendingFileTimeout','.kt','setItem','RequestFileWrite','openGraphDatabase','setupStatsReporting','Attempt\x20','Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank','graph-database','unregisterRemoteNode','rejectReady','readyPromises','getMilliseconds','call','trend-spotter','[DONE]','Cannot\x20subscribe\x20to\x20ExternalStorage:\x20Already\x20subscribed','recipients','.py','ConnectionState','\x0a\x20\x20===\x20New\x20MMR\x20Root:\x20','Stats:\x20report','attributes','SearchPerplexity','timeoutValue','traceLevel','send','https://crewdle-sdk-stg-default-rtdb.firebaseio.com','Invalid\x20publisher.','handleHandshake','1.0.53.0','setEncodingParameters','clearRect','receiverUnsubscribers','setUpgradeTimeout','Bid','tokens','handleRemoteTrackFailure','stopTracing','ccc','node-does-not-exist','Error\x20processing\x20workflow\x20block','getTime','setScheduleTime','.conf','publishFile','action','dataChannel','Knowledge\x20Cutoff\x20Date:\x20','Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','externalStorageConnections','connection-buffer-not-empty','Search\x20Agent\x20specializes\x20in\x20retrieving\x20accurate\x20and\x20relevant\x20information\x20using\x20available\x20tools.\x0a-\x20It\x20determines\x20the\x20best\x20search\x20approach\x20based\x20on\x20the\x20user\x20query.\x0a-\x20It\x20uses\x20structured\x20queries\x20to\x20gather\x20precise\x20results.\x0a-\x20It\x20filters\x20out\x20irrelevant\x20or\x20outdated\x20information.\x0a-\x20It\x20summarizes\x20findings\x20clearly\x20and\x20concisely.\x0a-\x20It\x20provides\x20sources\x20or\x20references\x20when\x20applicable.\x0a-\x20It\x20ensures\x20responses\x20are\x20up-to-date\x20and\x20fact-based.\x0a-\x20It\x20structures\x20results\x20in\x20Markdown\x20format\x20for\x20readability.\x0a-\x20It\x20avoids\x20speculation\x20and\x20only\x20returns\x20verified\x20information.','audio','addBidResponse','base64','CloseExternalStorageConnection','subscription','getExternalStorageConnection','root\x20hash:\x20','queueLength','entries','WebRTCBrowserPeerConnectionConnector','pub-sub-topic-does-not-exist','PartialResult','apikeys/','RAG\x20connector\x20is\x20not\x20available','removeConnection','getClosestNodes','JobDispatcherJobExists','downgrade','PubSubTopicAlreadyExists','text/event-stream','onMessage','chosenAnswers','handleNodeLeave','aws','getContent','onRemoveTrack','.ex','content-publish-media','Problem\x20detected:\x20','Offline','processTransactionsToComputeMMR\x20-\x20Transactions\x20appended\x20-','A\x20versatile\x20AI\x20assistant\x20designed\x20to\x20handle\x20a\x20wide\x20range\x20of\x20tasks\x20and\x20inquiries.','isProduction','job-worker-already-exists','vector-database-does-not-exist','unsubscribe','operations','mode','.crewdle-pending','Upload','VectorDatabaseMissingConnector','getSubscribedTracks','stream','FramePerSecond','.md','Search\x20connector\x20not\x20set','split','processContentAvailable','sdk-internal-error:\x20','ObjectStorageUpload','keyValueDatabases','Invalid\x20index\x20key:\x20must\x20be\x20a\x20string','connectionType','send\x20error\x20on\x20','Subscription\x20request\x20has\x20not\x20been\x20answered.','\x20answer','currentBytes','initialPrompt','Agent\x20group\x20not\x20found','setupResizeHandler','internalContext','canAddCandidates','runJobQueue','external-storage-connectors-missing','isFeatureSupported','cluster-leave','Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20','generic-agent','InitialPrompt','frames','external-storage-upload','Invalid\x20subscriber.','Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string','addCandidate','combinePeaks','JobDispatcherCreationFailed','setAnswer','priority','sender-send-message','problemType','ownerId','Connected','connections','saveToDisk','meta-llama/llama-4-maverick','SHA-256','\x20received\x20partial\x20result:','ObjectStoreInvalidPayload','bufferedEvents','Copywriter\x20Agent\x20creates\x20engaging,\x20high-quality\x20written\x20content\x20for\x20marketing,\x20blogs,\x20and\x20advertisements.\x0a-\x20Identifies\x20the\x20purpose\x20and\x20audience\x20before\x20generating\x20text.\x0a-\x20Follows\x20brand\x20tone\x20and\x20voice\x20guidelines\x20if\x20provided.\x0a-\x20Generates\x20SEO-optimized\x20and\x20persuasive\x20content\x20for\x20different\x20formats.\x0a-\x20Ensures\x20all\x20writing\x20is\x20original\x20and\x20avoids\x20generic\x20phrases.\x0a-\x20Structures\x20blog\x20articles\x20with\x20headers,\x20ad\x20copy\x20with\x20a\x20headline-body-CTA\x20format.','count','answererId','prompt','job-','commitTrace','toLowerCase','getAuth','Update','remediation','GenerativeAIWorkerCreationFailed','confirmSynchronization','Remediation','GenerativeAIEngineType','No\x20file\x20content\x20found','form-skill-get-question','No\x20parameters\x20provided','executeWorkflow','NodeManager\x20-\x20PublishNodeLeave','query-file','OpenAI','Object\x20store\x20not\x20synced.','if-else-router','.java','isJobRequest','previousTimestamp','framesDecoded','isPartialResultResponse','JobContext','key-value-database-already-exists','addIssue','FormSkillGetQuestion','bitrate','openObjectStoreBucket','hasMessage','getCurrentVersion','GenerativeAIContextDoesNotExist','moveObject','additionnalInstructions','DTVolatility','rate','pub-sub-topic-already-exists','Llamacpp','slice','detectStreamIssues','SpeechToSpeech','startAt','Anthropic','handleCloseContent','collectStats','some','key-value-database-invalid-query','RemoteMediaStreamDoesNotExist','removeTrackListeners','rating','sage','isConnected','handleDetectionSystemEvents','Connection\x20does\x20not\x20exist.','Module','comparePeaks','reportMetric','senderPreviousTimestamp','start','bandwidth.bitrate','GenerativeAIRagType','iceConnectionState\x20failed','rebuildMMR','lastUpdated','internal-sdk-error','agentConfig','.xml','incomingTopic','processTransactionsToComputeMMR\x20-\x20All\x20transactions\x20are\x20appendable.\x20Append:\x20','whisper-1','file.content','getSupportedContentTypes','KeyValueDatabase\x20-\x20Sync\x20completed','catch','loadEnabledChannels','createOutgoingSubscription','parseDataCollectionBlocks','clearUpgradeTimeout','doc','getEstimatedTimestamp','Connection\x20not\x20initialized.','results','getRemoteMediaStream','question-','Workflow\x20does\x20not\x20exist.','getAncestors','Received\x20sync\x20required.\x20Database\x20available:\x20Checking\x20synchronization','openExternalStorageConnection','chunk-splitter','.ts','length','external-storage-connection-does-not-exist','RemoteRemediation','debounceRebuildMMR','standalone','openJobWorker','crewdle-sdk-stg.appspot.com','ExternalStorageConnectionAlreadyExists','pathName','mp3','data:\x20[DONE]\x0a\x0a','SubscriptionRequestFailed','enumerateDevices','hasBufferedData','processContentSynchronized','processJob','canvas','Video','Before\x20Synchronization','ceil','GenerativeAITracing\x20-\x20Error\x20while\x20opening\x20trace.','.jinja','processServiceReport','jobBids','debounceStats','TestPage','ObjectStore','clockSkew','\x20when\x20you\x20need\x20contextual\x20data\x20to\x20inform\x20your\x20response.','Remote\x20MediaStream\x20already\x20exists','createFolder','CloseGraphDatabase','No\x20connector\x20found\x20for\x20model','GenerativeAITracing\x20-\x20trace\x20job\x20id\x20does\x20not\x20match','Completed','getProviderId','searchConnector','removeListener','object-store-stream-does-not-exist','Failed\x20to\x20get\x20filename','getLocalId','Get','everyone','all','firebase-disconnect','graphDatabases','reject','SearchGoogle','handshakeState','onConnectionStateChange','\x0a\x0adata:\x20','local-stream-does-not-exist','detectAudioIssues','tableObserver','KeyValueDatabaseDoesNotExist','getBid','Missing\x20answerer\x20id\x20on\x20request\x20answer','/developers/','isSubscribed','Missing\x20AI\x20search\x20API\x20key','Medium','remote-media-stream-invalid-subscription-params','setPendingFileSyncingPayload','canProvideResolution','writeFile','google/gemini-2.5-pro','getEngineType','outputType','handleOffer','writeTransaction','path','Invalid\x20job\x20service\x20payload.','commit','framesEncoded','JobWorker:\x20Received\x20job\x20attribution','image/','remote-inbound-rtp','handleSubscribeMediaStream','ranges','findNextNodeId','iceServers','wav','Generic\x20AI\x20Agent','Number','byteLength','channel','ImageGeneration','object','addReservedTables','statsReport','\x0a\x20===\x20Current\x20MMR\x20Root','Dedicated','\x20Stream\x20usage','JobQueueService:\x20Running\x20job','kind','Support','onNodeDisconnect','interval','.bat','aiSearchApiKey','Node\x20not\x20authenticated','/usages',';base64,','getTrackFromParam','systemMessagesReceived','21a9d78dee97f487b','Executing\x20custom\x20skill:\x20','Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number','Attribution','isWhereValues','where','logDataSent','invalid-subscription','UnsubscribeMediaStreamdiaStream','\x20seconds','WebScraper','fallbackModel','RequestFileSync','form-skill-submit-form','Error\x20searching','pendingFilesSyncing','ObjectStoreInvalidPath','search','job-dispatcher-does-not-exist','SystemStats','User\x20not\x20signed\x20in','detectVideoIssues','numeric','GenerativeAIContextStats','RemoteMediaStreamMissingProviderId','connector','.jl','https://huggingface.co/bartowski/Meta-Llama-3.1-8B-Instruct-GGUF/resolve/main/Meta-Llama-3.1-8B-Instruct-Q8_0.gguf','Node','model','Optimization','Embeddings','getDataCollection','KeyValueDatabaseInvalidLayout','removeNode','mmr','ModelText','filesSynced','removeSubscriptionsForNode','buildQuery','Logging\x20trace','skipEncryption','Events','createExternalStorageConnection','GenerativeAIContextJobFailed','searchInDataCollection','createJob','FormSkill','maxThreshold','local-media-stream-already-exists','handleSubscriptionNeedMediaStream','open','PromptRating','Invalid\x20job\x20type','addNode','fps','WaitFalse','System','move','.crewdle-layout','WebScraperRaw','Retrieve','user-join','unsubscribeListener','Cannot\x20create\x20Graph\x20Database:\x20Name\x20must\x20be\x20a\x20string','.pdf','isComputingMMR','appsync-connect-fail','writeBatch','logSupport','Failed\x20to\x20get\x20file','getGenerativeAIContextsStandalone','fileChunks','feedback','contentManager','hasTable','createKeyValueDatabase','logSyncMetrics','SentenceSplitter','startTime','retryCount','getWorkflows','lastClockUpdate','Missing\x20AI\x20worker\x20connector','Analyze\x20the\x20following\x20input\x20and\x20only\x20output\x20a\x20JSON\x20object\x20with\x20key\x20\x22condition_result\x22\x20(true\x20or\x20false).\x0a-\x20No\x20text\x20other\x20than\x20the\x20JSON\x20object.\x0a\x0aExample\x20Output:\x0a{\x0a\x20\x20\x22condition_result\x22:\x20true\x0a}','table','TimePerFrame','ingestFile','Document\x20Agent','blockId','createRemoteNode','PeerConnectionInvalidDestination','Could\x20not\x20open\x20trace','created','Unknown\x20error\x20occurred\x20while\x20executing\x20workflow','Database\x20Opened','object-store-not-in-sync','AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','Retrieve\x20the\x20current\x20question\x20from\x20the\x20form.','Vector','fileConnector','document-parser','observe','getDatabase','systemTopic','AppSync\x20client\x20not\x20ready','external-storage-invalid-path','From\x20','ObjectStoreStats','SyncComplete','external-storage-name-not-string','updateLastTransactionId','commitLevel','hasTracks','sendTransactionsValue','Reranker','data:','system','cpu.cycle','getName','getResolutionScale','onValue','createAnswer','setBytes','closeConnection','JobDispatcherJobNotFound','remoteMediaStreams','validateValue','transformations','Cannot\x20get\x20file:\x20External\x20Storage\x20not\x20connected','ExecuteCustomSkill','cleanOldSubscription','namespace','objectToArrayBuffer','logLevel','fetchUrl','Gathers\x20structured\x20user\x20feedback\x20and\x20compiles\x20reports.','lastRemediations','shouldEmit','getOutgoingOptimizationConnections','Rejected\x20answer','stats','onDisconnect','ContentType','hash','getMonth','Generates\x20marketing\x20copy,\x20blog\x20articles,\x20and\x20ad\x20content.','handleChunkMessage','Invalid\x20query','Error\x20retrieving\x20context','question','ragConnector','processLocalReport','Conducts\x20interviews\x20and\x20gathers\x20information\x20based\x20on\x20the\x20form\x20tools.','isValidMediaSubscriptionParams','CONNECTION_STATE_CHANGE','gen4_turbo','eleven_multilingual_v2','CrewdleSenderConnection\x20createOffer','isWhereBetween','nodes','getSettings','resetConnection','context','syncedFileExists','/workflows/','right','handleSubscriptionProvideMediaStream','topic','createCollection','o4-mini','configure','getExternalStorageConnections','createObjectStoreBucket','createNewBatch','handleUpdateMediaStream','end','ENOENT','reset','Knowledge','height','JobWorker:\x20Received\x20job','AITrace','getDataBucketIds','validation','transactionQueue','UnpublishMediaStream','jobQueue','renderElement','getInternalStreamId','getGraphDatabases','Data\x20collection\x20block\x20is\x20missing\x20required\x20data','splitParts','KeyValueDatabaseStats','getConfigs','SyncKeyValueDatabasse\x20-\x20Waiting\x20for\x20ancestors','GenerativeAIContextJobInvalidType','answer-','setInterval','October\x202023','Prompt\x20is\x20required','StreamReport','getLocalMediaStreams','LocalMediaStreamAlreadyExists','Debug','systemTopicUnsubscribe','roundTripTime','checksum','ExternalStorageConnectionDoesNotExist','Human','cpu.time_per_frame','generativeAIWorkers','image_url','openGenerativeAIWorker','between','createPubSubTopic','crewdle-sdk.appspot.com','applyRemediation','if_else','/stats','Error\x20closing\x20writable\x20stream','Local\x20node\x20rank\x20is\x20not\x20set','1:420235181083:web:4eff6062bd845cb0748cbe','\x0a\x20===\x20Wait\x20Time:\x20','timeoutCallback','pubSubTopics','openGenerativeAIContextStandalone','Cannot\x20unpublish\x20object\x20at\x20','required','startHeartbeat','firestore','Boolean','ExecuteCode','.tcl','VectorDatabaseAlreadyExists','handleContentUnpublishMediaStream','Cannot\x20publish\x20file:\x20','observer','nodeKey','commitBatch','firebaseUnsubscriber','missing-datachannel','senderCurrentBytes','FileStatus','addCluster','MissingRemoteConnection','handleNodeJoinNeedPublishedStream','sequence','checkAudioVolume','upgrade','node-not-authenticated','trackChanges','lastExecuted','Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.','bid','user','.rb','/transactions/lastTransaction','getJobDispatchers','object-store-invalid-sync-message','message','JobWorker:\x20Handling\x20job\x20attribution','google/gemini-2.0-flash-lite-001','NodeAlreadyExist','NodeManager\x20-\x20ConnectionSuccess','completeSync','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process','Received\x20track','Shared','systemMessages','AI\x20Service\x20already\x20exists','Result','GetContextResult','audioDestination','handshakeCandidates','handleSuccess','then','targetId','Job\x20Dispatcher\x20does\x20not\x20exist','messageType','Cannot\x20get\x20size\x20of\x20path:\x20','High','/traces','remainingTracks','/resources/generative-ai-agent/items','InvalidAccess','ReceiverPeerConnection\x20onMessage\x27\x20-\x20Remote:\x20','objectStores','GraphDatabase','Code\x20is\x20required','jitter','bufferedAmount','addRemoteNode','Relation','Index','removeItem','openGenerativeAIContext','key-value-database-transaction-table-not-initialized','Adapts\x20content\x20based\x20on\x20user\x20learning\x20progress.','Job\x20with\x20id\x20','options','DataCollection','6452256LOThog','claude-3-opus-latest','SpeechToText','SenderSendMessage','blocks','DataStream\x20onMessage','Connection\x20does\x20not\x20exist','Key-Value\x20Database\x20-\x20Sync\x20Completed','arrayBufferToObject',',\x20Total\x20Nodes:','ObjectStoreInvalidSyncMessage','Media','waitSendBuffer','createIncomingSubscription','arrayBuffer','.awk','logWaitTime','memoryUsage','\x27\x20from\x20','text-embedding-3-small','STVolatility','No\x20RAG\x20connector\x20available','Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream','Cannot\x20publish\x20payload:\x20','WorkflowInvalidBlockType','getItem','sendRequest','Query\x20Generator\x20constructs\x20optimized\x20SQL\x20and\x20NoSQL\x20queries.\x0a-\x20Clarifies\x20database\x20type\x20(MySQL,\x20PostgreSQL,\x20MongoDB,\x20etc.)\x20before\x20generating\x20queries.\x0a-\x20Follows\x20best\x20practices\x20for\x20efficiency\x20and\x20readability.\x0a-\x20Explains\x20each\x20part\x20of\x20the\x20query\x20for\x20user\x20understanding.\x0a-\x20Checks\x20for\x20potential\x20performance\x20optimizations.\x0a-\x20Provides\x20queries\x20in\x20code\x20blocks\x20and\x20bullet-point\x20explanations.','dataStores','Upgrade','pubsubTopics','Error\x20closing\x20trace','\x20failed.','CREWDLE_WEB_SDK','completion_tokens','getSTVolatility','vectors','tts-1-hd','runwayMLAPIKey','listenerUnsubscriber','September\x202023','isResultResponse','connectionState','drawImage','LocalMediaStreamTrackFail','object-store-already-exists','indexOf','tableLayout','getRemoteNodes','sendPeakTransactions','CloseObjectStoreBucket','JobWorkerCreationFailed','handleSubscriptionSubscribeMediaStream','.css','deleteObject','setOnMessageHandler','Query\x20file\x20connector\x20not\x20set','reduce','LocalMediaStreamDoesNotExist','transactionsToSync','NeedRestart','IDBDatabaseConnector','AI\x20Worker\x20already\x20exists','handleFileSync','Executes\x20precise\x20and\x20efficient\x20searches\x20using\x20available\x20tools\x20to\x20retrieve\x20relevant\x20information.','Invalid\x20table\x20name\x20\x27','searchApiKey','100VuBBFx','2Lxzlhb','peakHeights','debounceAppendLog','receiverStreams','GenerativeAIWorker:\x20Opening','unregisterPublisher','22loQHuA','displayName','onDataChannel','createLocalMediaStream','dataTopics','getDisplayName','\x20completed.','performCalculation','Failed\x20to\x20send\x20job\x20','syncTransactions','syncPendingFiles','NeedMediaStream','URL\x20is\x20required','createMediaStreamSource','connect','processSenderReport','orderBy','NodeInvalidType','canChooseAnswer','AudioVideoDelay','vendorId','optimizationLayers','hashNodes','AudioContext','endpointUrl','node-type-not-supported','once','frameWidth','InvalidSubscriber','.jinja2','invalid-publisher','capacityReporter','\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number','crewdle-sdk-stg.firebaseapp.com','senderPreviousBytes','Execute\x20a\x20SQL\x20query\x20on\x20a\x20file\x20to\x20retrieve\x20data.\x20The\x20query\x20should\x20be\x20designed\x20to\x20extract\x20relevant\x20information\x20from\x20the\x20file.\x20Available\x20table\x20is\x20file\x20and\x20columns\x20are:\x20','jobs','Job','webgl','getTableConnector','bind','LoadKnowledgeFunction','pipe','Learning\x20Agent\x20adapts\x20to\x20user\x20learning\x20levels,\x20pace,\x20and\x20preferred\x20format.\x0a-\x20Assesses\x20prior\x20knowledge\x20before\x20beginning\x20lessons.\x0a-\x20Customizes\x20learning\x20paths\x20and\x20adjusts\x20difficulty\x20based\x20on\x20performance.\x0a-\x20Provides\x20step-by-step\x20explanations\x20and\x20real-world\x20examples.\x0a-\x20Uses\x20spaced\x20repetition\x20techniques\x20for\x20reinforcement.\x0a-\x20Lessons\x20are\x20structured\x20with\x20Markdown\x20headers\x20and\x20inline\x20quizzes.','Prompt','createVectorDatabase','GenerativeAIContextJobTimeout','voice','/jobs','Model\x20not\x20found\x20','Invalid\x20value.\x20Property\x20\x27','previous','Cannot\x20list\x20directory:\x20External\x20Storage\x20not\x20connected','Peaks\x20requested\x20were\x20not\x20found\x20in\x20local\x20MMR','ConnectionNotinitialized','.erl','getQuery','getGraphDatabase','createOffer','handleNodeJoin','Error\x20executing\x20workflow','key-value-database','Agent','completed','filter','handleRemediationSystemEvents','processTransactionsToComputeMMR\x20-\x20Requires\x20a\x20rebuild.\x20Append:\x20','Invalid\x20object\x20store\x20sync\x20message.','https://crewdle-sdk-default-rtdb.firebaseio.com','currentTimestamp','maxOutgoingSubscriptions','GenerativeAITracing\x20-\x20Error\x20while\x20committing\x20trace','getFunctions','onDisconnectHandler','text-embedding-3-large','Core','executeJavascriptCodeSnippet','G-F7W8KXRKQB','Cannot\x20get\x20file:\x20','agentId','archival-search','Invalid\x20JSON:','invalid-data-chanel','\x20does\x20not\x20support\x20content\x20type\x20','getShareableStreamId','JobWorker:\x20Received\x20job\x20request','durationTime','get','detectLocalIssues','\x0a\x20===\x20Total\x20Data\x20Received:\x20','getApp','assistant','240275JXFRoL','default','hasOwnProperty','prompt_tokens','Model\x20output\x20type\x20is\x20text\x20but\x20input\x20is\x20not\x20text','appsync-connect','connectionGroup','RestartNeedMediaStream','Warning','Archival\x20Search\x20Agent','ElevenLabs','getIdToken','eleven_flash_v2_5','JobDispatcherDoesNotExist','remoteId','Collects\x20and\x20summarizes\x20market\x20trends\x20from\x20various\x20sources.','.crewdle-transactions','sendWithRetry','clearHeartbeat','GenerativeAIWorkerMissingConnector','logEvent','bufferedAmountLowThreshold','WebRTC','parameters','\x20-\x20','IncomingSubscription','unregisterPublisherListener','JobDispatcherInvalidPayload','getToolParams','WaitTrue','Early\x20return:\x20','Wait','420235181083','videoHeight','registerSystemSource','lastCapacityReport','summary-generator','Error\x20fetching\x20context','threadId','total','Graph\x20database\x20block\x20is\x20missing\x20required\x20data','track','job-worker-does-not-exist','setTimestamp','Parameter\x20','joinedAt','KeyValueDatabaseContentSynchronized','KeyValueDatabaseTableDoesNotExist','removeTrackCallback','code','handleStatsSystemEvents',';base64','executeAgent','graph-database-name-not-string','joinCluster','contentRequestSent','minThreshold','Received\x20request\x20for\x20transactions\x20value.\x20Sending\x20','maxFps','removeTrack','Invalid\x20layout:\x20','setProviderId','Model\x20ID\x20is\x20required','detection','JobDispatcher:\x20Received\x20job','fileSendingMap','GraphDatabase\x20not\x20found','mediaTopics','deleteFile','MistletCapacityReportNotSet','sendStats','batchSize','Invalid\x20key\x20\x27','supportsContentType','ExternalStorageInvalidPath','append','unregisterSubscriber','sendChunked','maxTokens','POST','decodeJWT','Document\x20Agent\x20focuses\x20on\x20modifying\x20documents\x20based\x20on\x20user\x20input.\x0a-\x20It\x20only\x20outputs\x20modifications\x20in\x20text\x20format.\x0a-\x20It\x20ensures\x20all\x20modifications\x20are\x20clear\x20and\x20concise.\x0a-\x20It\x20uses\x20Markdown\x20for\x20structured\x20formatting.\x0a-\x20It\x20avoids\x20making\x20assumptions\x20without\x20sufficient\x20context.\x0a-\x20It\x20prioritizes\x20document\x20integrity\x20and\x20user\x20intent.','setConnectionType','speak','insert','tool-call','prototype','encode','tracks','isInternalSDKConfigs','graphDatabaseConnector','chunks','unregisterSource','o3-mini','Audio','sync','getToolName','debounceRebuildMMRWithTransaction','Disconnect','Form\x20is\x20not\x20completed,\x20call\x20setAnswer\x20first','offset','Error\x20reading\x20file\x20chunk\x20after\x20','key-value-database-index-not-found','DataStream','\x20MB','Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed','outgoingStreams','publishSyncCompleted','buffer','Done','onTrack','Object\x20store\x20is\x20not\x20in\x20sync','retryLimit','removeJobDispatcher','RemoteMediaStreamAlreadyExists','No\x20destinationIds\x20left','Restart','Error\x20encountered\x20while\x20opening\x20database','VectorDatabaseNameNotString','lastHeartbeat','transactionTable','updated','collectTransactionsFromNode','batchQueue','text/','/resources/agent/items/','CloseKeyValueDatabase','addEdge','CrewdleConnection\x20handlePeerConnectionSystemEvents','/chat/completions','handleNodeSystemEvents','setupConnectionEvents','evaluateProccessedJob','publishMove','Remote\x20connection\x20already\x20exists.','statsCollection','searchEngineId','Skill','LocalReport','Connection','.ini','KeyValueDatabaseRequestPeakTransactions','getAvailableTrackKinds','RetrieveTrace','origin','Embed','uuid','trackEndedListeners','answerContentAvailable','Partial','Queued','data','handleRequestPayload','transactionIds','speech-to-speech','entity-extractor','syncTransactionsWritten','addMessage','\x20already\x20exists','addRemoteConnection','json','loop','headers','subtle','getGenerativeAIWorkers','medias','graph-database-creation-failed','has','handleSubscriptionUnsubscribeMediaStream','getFirestore','queryFileConnector','handleContentSubscribeMediaStream','computeHash','getMinConnections','region','en-US','resolution','getOwnerId','getContentType','eventEmitter','setParams','invalid-subscriber','GenerativeAIModelOutputType','senderCurrentTimestamp','scheduleTime','KeyValueDatabasePeakNotFound','August\x202024','getDate','cancel','Receiving\x20\x27','disableIntervalHack','Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.','checkSyncComplete','handleTransactionPayload','Problem','generative-ai-context-does-not-exist','.yml','trace','1307100dzvMPX','Unsupported\x20job\x20type','.vue','getTransactions','.php','Code','GenerativeAIWorker:\x20FileDelete\x20failed','manageBufferedChunks','processJobStream','getReader','forEach','Channel\x20\x27','AudioOutput','logRaw','No\x20connections\x20available\x20to\x20send\x20subscription\x20request','No\x20global\x20object\x20found','GenerativeAITracing\x20-\x20job\x20id\x20not\x20found','.hbs','debugEnabled','DataStream\x20send','ReceiverOnMessage','getSubscriptionLabel','indexes','Stats','docs','addVideoTrack','currentVersion','AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','Node\x20type\x20is\x20invalid','jobWorkers','/resources/generative-ai-collection/items/','Apply\x20remediation','match','keyValueDatabaseConnector','getConnectionGroup','ObjectStorage','x-ai/grok-3-mini','GraphDatabaseNameNotString','ObjectStoreNameNotString','warn','getTracks','newPath','topicLabel','detectionManager','handleJobAttribution','RemoteRemove','Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','VectorDatabaseStats','tableName','Model\x20ID\x20is\x20required\x20for\x20Embed\x20block','operator','.jsx','setLocalRank','.groovy','getJob','RemoteMediaStreamInvalidSubscriptionParams','RequestAccepted','limit','Invalid\x20key:\x20No\x20vendorId\x20or\x20accessToken','/resources/external-storage/items/','findNewMediaSubscription','Base\x20Peer\x20Connection','OptimizationConnectionSuccess','SubscriptionRequestNoAnswer','handleObjectDelete','.info/serverTimeOffset','publishFolder','request-file-write','connected','PubSubTopic\x20onMessage','setForDeletion','Archival\x20Search\x20Agent\x20retrieves\x20historical\x20records,\x20archives,\x20and\x20academic\x20sources.\x0a-\x20Identifies\x20the\x20time\x20period\x20and\x20event\x20of\x20interest\x20before\x20searching.\x0a-\x20Searches\x20historical\x20databases,\x20digital\x20libraries,\x20and\x20archives.\x0a-\x20Prioritizes\x20academic,\x20governmental,\x20and\x20reputable\x20historical\x20sources.\x0a-\x20Provides\x20contextual\x20insights\x20linking\x20historical\x20events\x20to\x20modern\x20interpretations.\x0a-\x20Summaries\x20include\x20timeframes,\x20key\x20figures,\x20and\x20events,\x20with\x20a\x20References\x20section.','active','NodeUpdate','onGatheringStateChange','ExecuteAgent','Cannot\x20create\x20Vector\x20Database:\x20Name\x20must\x20be\x20a\x20string','Pool','answerJoin','write-file','size','subscribe','searchOnGoogle',',\x20Transactions:\x20','inputTokens','output','number','manageOptimization','fetchContentFromUrl','agent','generative-ai-context-job-already-consumed','handleFolderCreate','direction','ragConnectors','queryCollection','localId','getCapacityReport','isArray','job-dispatcher-job-exists','removeKeyValueDatabase','Jitter','KeyValueDatabaseTableNameReserved','crewdle-sdk-logging-','processContentAvailable\x20-\x20Peak\x20comparison:','Crewdle','developers/','777042yAbHLO','reads','upload','NodeTypeNotSupported','notifyJoin','relations','GenerativeAIContextJobAlreadyConsumed','Early\x20return','crewdleSDKLoggingChannels','checkWebGL','component','object-store-invalid-path','sonar','handleFileRequest','.json','ExecuteWorkflow','connectionTimeout','waitConnected','parentId','getCurrentMaxLayer','Internal\x20SDK\x20Error:\x20','sonar-reasoning-pro','snippet','file-download','registerCluster','String','createReceiverConnection','noun','loggingCycle','checkScreenSharing','logBatch','November\x202024','graph-database-does-not-exist','Database\x20already\x20exists','UnsubscribeMediaStream','syncTimeout','Blank\x20Agent','March\x202025','generative-ai-context-job-invalid-type','statsReporting','Reranker\x20block\x20is\x20missing\x20required\x20data','workflow','ready','Received\x20content\x20available\x20from\x20node','outputTokenPrice','deleteRemoteNode','gpt-4o-mini','clientHeight','Consuming\x20buffered\x20event','get-content','Model','Unknown\x20skill\x20type','Object\x20store\x20connector\x20is\x20not\x20available','setDoc','Failed\x20to\x20commit\x20batch\x20after\x20retries:','external-storage-connection-already-exists','pendingFilesTransactions','file-list','Found\x20','temperature','Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.','complete','node','framerate','inbound-rtp','Helps\x20businesses\x20analyze\x20options\x20and\x20make\x20strategic\x20decisions.','isReady','getDistance','defineProperty','choices','workflow-does-not-exist','voice=','clusters','web-scraper','FormSetAnswer','min','nodeUpdate','restartTimeout','cachedRoot','getRoundTripTime','elevenLabsApiKey','cluster-disconnect','NodeNotAuthenticated','\x20Processing\x20audio\x20block','CPUCycle','content','Online','\x20sending\x20attempt\x20','ClosePubSubTopic','Routes\x20messages\x20based\x20on\x20conditional\x20logic.','No\x20model\x20available','Outgoing','internalProcessJob','clearSubscriptionRequestTimeout','isRunning','instructions','dataUnsubscribers','handshakeDebounce','CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','files','resizeHandler','AISearch','remoteConnections','workflow-invalid-block-type','FileWrite','ExternalStorage','\x20Fallback\x20model','expectedTransactions','Error','sonar-deep-research','setStatus','streams','subscriptionRequestTimeouts','Connection\x20already\x20exists','ConnectionBufferNotEmpty','anthropicApiKey','handleNeedRestart','onUnregisterPublisher','closeTopic','notifyClusterNodeUpdate','CannotProvideMediaStream','limitToFirst','remoteUnsubscriber','mediator','isPromiseResolved','Count','KeyValueDatabaseInvalidQuery','getReport','upgradeTimeout','pow','OpenRouter','VectorDatabase','Rating','updateDebounceTimeout','ObjectStoreNotSynced','fromEntries','\x0a\x20\x20===\x20MMR\x20Computation\x20Time:\x20','Speech\x20connector\x20not\x20found\x20for\x20model\x20','isChannelEnabled','Invalid\x20version\x20\x27','/resources/generative-ai-collection/items','appsync-no-destination','maps','connectAgent','keyPath','VectorDatabaseCreationFailed','Execute\x20the\x20agent\x20','getHash','openPubSubTopic','No\x20valid\x20bid\x20responses\x20received\x20in\x20time.','test-page','registerRemoteNode','ancestors','getGenerativeAIContexts','Search','InvalidSubscription','google','Node\x20type\x20is\x20required','Data\x20Received','validateQuery','PublishMediaStream','totalNodes','prompts','isIceCandidate','destination','splice','Stream\x20already\x20exists','JobWorker:\x20Sending\x20job\x20bid','audioContext','Error\x20writing\x20buffered\x20chunk\x20to\x20stream','KeyValueDatabaseSendTransactions','isFailedResponse','NodeConnectionsUpdate','removeRemoteMediaStream','JobWorkerAlreadyExists','signaling','setReceiverBytes','trackCallback','Delete','logInitialMMR','clearConnectionTimeout','gpu','getQuestion','ChunkSplitter','Data\x20cluster\x20is\x20not\x20open.','\x20must\x20be\x20a\x20number','node-type-required','Amplify','system-stats','packetsSent','\x20check\x20failed','eventTarget','delta','state','outputTokens','ObjectStorageBucket','warning','orchestrator-close','JobWorkerInvalidType','destroy','Missing\x20external\x20storage\x20connector','checkAudioContext','Success','out','signInWithCustomToken','JobWorker:\x20Tracing\x20not\x20implemented','clusterId','Memory\x20Usage\x20at\x20','embed','result','destinationIds','getTable','relation','addTrack','local-media-stream-track-fail','Job\x20service\x20observer\x20not\x20found.','request','\x20to\x20generate\x20a\x20response.','January\x202025','bandwidth.jitter','text','Stream\x20does\x20not\x20exist','cost','handleError','April\x202024','Retrieves\x20historical\x20data\x20from\x20online\x20archives.','fetch-url','sender','publishSystemMessage','score','invalid-access','OPFSObjectStoreConnector','receiverBitrate','\x20failed.\x20Retrying...','subscription-request-in-progress','featureSupport','jobObservers','chunk','.sql','getSentences','notifyObjectStoreOfNodeJoin','embedding','replaceTrack','Learning\x20Agent','Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream','0\x20B','setOnDisconnectHandler','listen','log','events','trackListeners','createJobDispatcher','Specializes\x20in\x20modifying\x20documents\x20based\x20on\x20user\x20input.','/objectstores/','removeObjectStore','layout','tableUnsubscriber','setSubscriptionRequestTimeout','getJobWorkers','queues','gpt-4.1','media-stream','writes','syncKeyValueDatabase','Detection','removeSubscription','createAIJob','crewdle-sdk-stg','WebGL','tail','Extracts\x20key\x20points\x20from\x20long\x20documents\x20and\x20emails.','transactions','KeyValueDatabaseInvalidValue','removeLocalMediaStream','.ps1','getPartsFromSubscription','notifyObjectStoreOfNodeLeave','senderTimeProcessing','Key-value\x20database\x20peak\x20not\x20found.','Invalid\x20index\x20in\x20table\x20\x27','DataChannel\x20is\x20not\x20open.','RelationExtractor','problem','ApiKeyMissing','findIndex','DatabaseEvent','x-ai/grok-3-beta','GenerativeAILabelConflict','\x27\x20to\x20','getDisplayMedia','Error\x20resolving\x20readyPromises:','overlap','contentType','Context','/vector_stores/','FolderDelete','listChanges','Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27','closeTrace','handleDisconnect','readyResolve','receiverConnection','aiSearchConnector','google/gemini-2.5-flash','images','handleMissingSenders','addEventListener','body','OutputStream','removeVectorDatabase','av_delay','getEntities','sourceId','maxConnections','Invalid\x20content\x20type','llama-3.2-3b','val','Chosen\x20answer','internalId','receiverPreviousTimestamp','getAncestorIds','recomputeRoot','KeyValueDatabaseTransactionValueNotSet','connectionStateListener','getUserMedia','internal','externalStorageConnectors','developers','Error\x20during\x20MMR\x20rebuild\x20logging:','messageBuffer','connection-state','title','play','subscription-request-no-answer','request-file-sync','senderStreams','models','firebaseConfig','https://api.stg.crewdle.ai','pendingSyncTransactions','getIsLoaded','minConnections','hasRemoteNode','getToolDescription','Send\x20request','isLoaded','getJobObservable','/resources/generative-ai-workflow/items','transactionService','detectProblems','5jrLwLA','eleven_turbo_v2_5','\x20created\x20and\x20dispatched.','subscriptionRequestsQueue','maxResolution','string','Missing\x20RAG\x20API\x20key','sampleRate','.cfg','Error\x20opening\x20trace','createGraphDatabase','Sending\x20\x27','getInternalTrackParams','text/plain','getShareableStream','openAIKey','checkMediaRecording','peaks','enabled','keys','AI\x20worker\x20creation\x20failed.','Remove','close','not-resolved','Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc','Perform\x20a\x20search\x20on\x20Google\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','graphql','handleIceCandidates','getDoc','getWorkflowObjectStorageBuckets','next','KeyValueDatabaseRequestTransactionsValue','sendTransactionsValue\x20-\x20value\x20not\x20found','We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set','addPendingHandshakeCandidate','JobDispatcherAlreadyExists','RoundTripTime','List','threshold','captureStream','\x20to\x20send\x20dispatcherJob\x20','IngestTrace','random','version','659099WVYuzz','url','setVendorId','.twig','publishSyncCompletedAfterWrites','getContext','processRemoteInboundReport','questions','appsync-statechange','getLocalNode','openKeyValueDatabase','speech-create','handleConnectionSuccess','processReceiverReport','server','Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key','Workflow','.sh','messageUnsubscriber','onloadeddata','I\x20have\x20finished\x20executing\x20my\x20task.','setSenderTimestamp','database','claude-3-5-haiku-latest','RebuildMMR\x20-\x20MMR\x20Root\x20changed?\x20','rank','.js','usage','parseWorkflowBlocks','pubsub','utf8','AI\x20Search\x20connector\x20not\x20set','debounceLogTimeout','topK','strategizing-agent','https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','Missing\x20OpenAI\x20API\x20key','June\x202024','Error\x20validating\x20vendor\x20credits','connection-not-initialized','Internal\x20SDK\x20error:\x20','registerDestination','CustomSkill','\x0a\x20===\x20Total\x20Data\x20Sent:\x20','documentParserConnector','off','Invalid\x20params','hashTransaction','getAgents','stopConnection','handleContentUnsubscribeMediaStream','handleNodeDisconnect','functionsRegion','orderByKey','callback','app','signalingServer','pop','InvalidPublisher','Local\x20MediaStream\x20already\x20exists','InternalSDKError','appsync-close','router','collection-query','video/','Valid\x20layout','CloseGenerativeAIContext','.handlebars','ingestBlocks','getConnection','internalProcessJobStream','audio/wav','publishNodeLeave','Invalid\x20subscription.','ClusterAlreadyJoined','auth','FileMove','providerListener','connectionConstructor','batchTimeout','PeerConnection','WorkflowDoesNotExist','\x20-\x20Sending\x20propagation\x20(','removeOutgoingSubscription','load','groupId','Invalid\x20data\x20event.','\x0a\x20===\x20Total\x20Nodes:','If\x20you\x20know\x20the\x20answer,\x20call\x20setAnswer\x20to\x20set\x20the\x20answer','WriteFile','openJobDispatcher','packets','graph-database-already-exists','Job\x20worker\x20creation\x20failed.','request-accepted','getPacketsLostPerc','dbKey','join','PubSub\x20already\x20exists','GenerativeAIContextAlreadyExists','Missing\x20vector\x20database\x20connector','dispatchEvent','vectorDatabases','updateLastUpdated','endsWith','onProviderChange','leave','ObjectStoreNotInSync','remote-connection-exists','processOutboundReport','requestSubscriptionAction','accumulateResult','FormSkillSubmitForm','realtime-session-create','enabledChannels','evaluateBidsAndAttributeJob','exists','setTransformations','cores','generativeAISpeechConnectors','disconnected','handleOutgoingSystemEvents','Method\x20not\x20supported','cpu.av_delay','processReports','DeviceConfig','node-invalid-type','Ingest','workflowId','sdkValidateAccess','subscriptionRequests','getCoresFromCapacityReport','ref','Cluster','Cannot\x20fetch\x20content\x20from\x20this\x20type\x20of\x20file','NodeTypeRequired','MediaStreamPriority','setTimeout','deleteFileChunks','Label\x20already\x20in\x20use\x20by\x20AI\x20Service','outgoingManager','localMediaStreams','candidate','Cannot\x20publish\x20folder:\x20','checkExistingPendingFileContent','AppSync\x20connection\x20not\x20ready','concat','Error\x20processing\x20agent\x20block','bodyParameters','clearRestartTimeout','toFixed','72DBxAls','round','validateAccess','bufferedChunks','deleteJob','key-value-database-does-not-exist','ImageParser','setIsLoaded','processTransactionsToComputeMMR','FormSubmitForm','subscribedTracks','GraphDatabaseMissingConnector','discoveryUnsubscriber','Summary\x20Generator\x20extracts\x20key\x20points,\x20action\x20items,\x20and\x20critical\x20insights\x20from\x20emails\x20and\x20documents.\x0a-\x20Identifies\x20the\x20document\x20type\x20(e.g.,\x20report,\x20legal\x20contract,\x20meeting\x20notes).\x0a-\x20Highlights\x20action\x20items\x20and\x20distills\x20the\x20main\x20takeaways\x20concisely.\x0a-\x20Provides\x20bullet-point\x20executive\x20summaries.\x0a-\x20Uses\x20Markdown\x20for\x20structured\x20formatting\x20with\x20a\x20Summary\x20and\x20Next\x20Steps\x20section.','isOpened','disconnect','\x20already\x20exists.','DataChannel\x20is\x20not\x20initialized.','bytesSent','collectReceiversStats','removeRemoteNode','.hs','isNodeReady','ConnectionNotConnected','\x20Stream\x20final\x20response','queries','shouldProcessTransaction','element','input_tokens','successNotified','storage','debounceReady','GenerativeAIContext','All','calculateSize','deleteCollection','CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','JobStatus','Node\x20is\x20not\x20an\x20agent','maxDepth','authService','propagate','incomingManager','ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.','x-ai/grok-3','orchestrator','\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','/transactions','autoplay','AppSync\x20subscribe','Answer','ExternalStorageStats','handleProblem','tool','Set\x20the\x20answer\x20to\x20the\x20current\x20question.','publish','getPeakNode','description','createGenerativeAIContext','getConnections','updateUser','registerSubscriber','endpointMethod','Job\x20Dispatcher\x20already\x20exists','setupRenderElement','validateLayout','mediaDevices','connectorConstructor','.scala','httpsCallable','Graph\x20database\x20creation\x20failed.','MediaStream\x20feature\x20not\x20enabled','collectionId','organizationId','Entity','claude-3-5-sonnet-latest','Submit\x20the\x20form.','Invalid\x20credentials','generative-ai-context-job-failed','Cannot\x20publish\x20move\x20operation:\x20','getKeyValueDatabase','Query\x20is\x20required','isJobAttribution','claude-sonnet-4-0','false','submitForm','The\x20system\x20topic\x20has\x20not\x20been\x20registered.','.docx','@context.','subscribeToJobs','NodeJoin','data-stream','Node\x20\x27','signalingState','providerId','page','JobDispatcherObserverNotFound','Tool','interview-agent','checkDeviceConfig','storageType','getId','handleContentSystemEvents','receiverPreviousBytes','file-ingest','Search\x20in\x20data\x20collection\x20','Move','remove','Id\x20is\x20required\x20and\x20must\x20be\x20a\x20string,\x20call\x20getQuestion\x20first\x20to\x20get\x20the\x20question\x20id','sonar-pro','generative-ai-context-invalid-partial-result','isInternalLoggingConnector','detail','Subscription','logMMRRebuild','GenerativeAIWorkerAlreadyExists','ObjectKind','More\x20content\x20available\x20on\x20page\x20','https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','Received\x20','.Total\x20pages\x20available:\x20','sendBid','KeyValueDatabaseContentAvailable','unsubscribeTrackEndedListener','openrouterApiKey','Received\x20event\x20on\x20cluster','DataChannel\x20buffer\x20is\x20full.','CrewdleReceiverConnection\x20ontrack','ObjectStore\x20not\x20found','read','GenerativeAIContext\x20stream\x20error','timePerFrame','registerSource','Model\x20not\x20found','AppSync\x20publish','Hub','messageCallback','maxBitrate','nlpLibraryConnector','PubSubTopicNameNotString','/capacities','InputStream','key-value-database-name-not-string','checkMediaStream','IntermediateOutput','Database\x20does\x20not\x20exist','generativeAIWorkerConnectors','File','receiverCurrentTimestamp','GraphDatabaseStats','\x27\x20reserved','receiverTimeProcessing','GraphDatabaseAlreadyExists','FPS','subject','filename','audio/mpeg','includes','x-ai/grok-3-mini-beta','startIndex','Default','Execute\x20the\x20workflow\x20','messagesReceived','lastTransactionId','jobType','PayloadAction','pub-sub-topic-already-subscribed','vector-database-already-exists','removeGraphDatabase','createBatchOperation','\x27\x20payload:','handlePublishMediaStream','getPartsForSubscriptionLabel','Publish\x20the\x20transaction','gpt-4.1-mini','claude-opus-4-0','mmrRoot','logServiceEvent','Vector\x20database\x20block\x20is\x20missing\x20required\x20data','accumulated','getResolution','debounceProcessRank','readyDebounce','requestSubscription','createSubscription','Missing\x20transaction\x20id','unpublish','ExternalStorageNameNotString','account','forceLog','gpt-4o-mini-realtime-preview','Processing','_isReady','FileDelete','https://api.crewdle.ai','getPriority','job-dispatcher-job-not-found','openaiApiKey','ModelVector','Invalid\x20data\x20channel.','PubSubTopicStats','custom-skill','getObjectStoreBucket','packetsReceived','discoveryService','Summary\x20Generator','<current-question>','input-stream','Missing\x20remote\x20node\x20or\x20rank','minRelevance','GenerativeAIWorkerStats','processList','processBatch','loadFromDisk','getSenderTotalBytes','agent-skill','FROM\x20file','async','getRemoteId','Handshake','Key-value\x20database\x20creation\x20failed.','Issue\x20detected:\x20','FetchUrl','createElement','ObjectStoreDoesNotExist','msalRefreshToken','addProblem','Cannot\x20create\x20External\x20Storage:\x20Name\x20must\x20be\x20a\x20string','distance','instantiateTransactionTable','eventListener','join-cluster','vector','ner','job-dispatcher-observer-not-found','generative-ai-context-job-timeout','KeyValueDatabaseTableNotFound','data:\x20','closeSubscription','buildInitialMMR','Feedback\x20Agent\x20specializes\x20in\x20collecting\x20structured\x20feedback\x20through\x20dynamic\x20Q&A\x20interactions.\x0a-\x20It\x20identifies\x20the\x20type\x20of\x20feedback\x20needed\x20(e.g.,\x20product\x20experience,\x20service\x20quality,\x20event\x20review).\x0a-\x20It\x20asks\x20specific,\x20unbiased,\x20and\x20concise\x20questions\x20sequentially.\x0a-\x20Adjusts\x20follow-up\x20questions\x20dynamically\x20based\x20on\x20responses.\x0a-\x20Categorizes\x20responses\x20into\x20themes\x20if\x20applicable.\x0a-\x20Provides\x20a\x20structured\x20summary\x20at\x20the\x20end.\x0a-\x20Never\x20asks\x20leading\x20or\x20suggestive\x20questions.\x0a-\x20Uses\x20Markdown\x20formatting\x20for\x20clarity.','now','generativeAIContexts','sendFileRequestPayload','from','peer-connection','application/pdf','agent-update','jobPhase','Sender\x20connection\x20is\x20not\x20initialized.','isOffer','signOut','handleAnswer','Subscription\x20request\x20failed.','notifyCluster','TextToSpeech','processInboundReport','createGenerativeAIContextStandalone','Account','contextOutputVariable','request-file','getMaxDistance','getConnectionDestinations','coordinator-agent','debounceReadyTimeout','Offer',':\x20Object\x20store\x20is\x20not\x20in\x20sync','label','Data\x20Sent','initializeSystemTopic','onConfigurationChange','bufferEvent','clearWaitSuccess','RemoteMediaStreamTrackFail','syncResolve','gpt-4.1-nano','processInboundReports','key-value-database-creation-failed','clusters/','getRemoteNode','publishSyncCompletedAfterWrites\x20-\x20','searchOnPerplexity','transactionHashMap','jobId','srcObject','object-store-invalid-state','replace','remote-stream-missing-provider-id','Accepted','connection-invalid-data-event','removeExternalStorageConnection','gpt-4o-transcribe','key-value-database-transaction-value-not-set','list','timestamp','available','\x20new\x20transactions','Error\x20fetching\x20URL','setSinkId','.vbs','client','clear','gpt-4o-realtime-preview','digest','SubscribeMediaStream','joinedClusters','RunwayML','debug','notifyClusterNodeJoin','documentPath','delete','restartHandshake','Data\x20collection\x20does\x20not\x20exist.','FolderCreate','onremovetrack','heartbeatUnsubscriber','serverTimestamp','crewdle','connectionManager','time','issues','KeyValueDatabaseNotOpen','signInWithCredential','getKeyValueDatabases','August\x202023','uid','maxDistance','Job\x20Worker\x20does\x20not\x20exist','getReceiverTotalBytes','writeTransaction\x20-\x20transaction\x20already\x20exists','VectorDatabaseDoesNotExist','ScreenSharing','processReport','SubscriptionRequestDoesNotExist','internalJob','shared','/namespaces/','Buffering\x20event','processPendingHandshakeCandidates','Job\x20','claude-3-7-sonnet-latest','gpt-4o','CloseMediaStream'];a0_0x1b01=function(){return _0x285151;};return a0_0x1b01();}(function(_0x5867f3,_0x4191b2){const _0x34b9d6=a0_0x2cf3,_0x42a65f=_0x5867f3();while(!![]){try{const _0x5cb356=-parseInt(_0x34b9d6(0x94b))/0x1+-parseInt(_0x34b9d6(0x62f))/0x2*(-parseInt(_0x34b9d6(0x757))/0x3)+parseInt(_0x34b9d6(0x2e3))/0x4+-parseInt(_0x34b9d6(0x91f))/0x5*(parseInt(_0x34b9d6(0x281))/0x6)+parseInt(_0x34b9d6(0x691))/0x7*(parseInt(_0x34b9d6(0x9e2))/0x8)+parseInt(_0x34b9d6(0x7c1))/0x9*(-parseInt(_0x34b9d6(0x62e))/0xa)+parseInt(_0x34b9d6(0x635))/0xb*(parseInt(_0x34b9d6(0x5eb))/0xc);if(_0x5cb356===_0x4191b2)break;else _0x42a65f['push'](_0x42a65f['shift']());}catch(_0x29bdfc){_0x42a65f['push'](_0x42a65f['shift']());}}}(a0_0x1b01,0x6f62a),!function(_0x149494,_0x5d29a3){const _0x2553d3=a0_0x2cf3;if(_0x2553d3(0x4ab)==typeof exports&&'object'==typeof module)module[_0x2553d3(0x2c4)]=_0x5d29a3();else{if(_0x2553d3(0xb70)==typeof define&&define[_0x2553d3(0xbc8)])define([],_0x5d29a3);else{var _0x4c8462=_0x5d29a3();for(var _0x3717ac in _0x4c8462)(_0x2553d3(0x4ab)==typeof exports?exports:_0x149494)[_0x3717ac]=_0x4c8462[_0x3717ac];}}}(this,()=>((()=>{'use strict';const _0x4a13a=a0_0x2cf3;var _0x317118={0x14d:(_0x44158d,_0x3ee09a,_0x9136e4)=>{const _0x3dfe56=a0_0x2cf3;_0x9136e4['d'](_0x3ee09a,{'O':()=>_0x448f74});const _0x448f74={'version':_0x3dfe56(0x385),'isProduction':!0x1,'firebaseConfig':{'apiKey':_0x3dfe56(0x772),'authDomain':_0x3dfe56(0x656),'databaseURL':_0x3dfe56(0x382),'projectId':_0x3dfe56(0x8cc),'storageBucket':_0x3dfe56(0x45a),'appId':_0x3dfe56(0x339),'functionsRegion':'northamerica-northeast1'},'apiUrl':_0x3dfe56(0x913),'google':{'searchEngineId':_0x3dfe56(0x4bd)},'aws':{'endpoint':_0x3dfe56(0xa58),'region':_0x3dfe56(0xbea)}};},0x33b:(_0x5f5331,_0x21669b,_0x3f5236)=>{_0x3f5236['d'](_0x21669b,{'O':()=>_0x103169});const _0x103169={};},0x3e6:(_0x1da743,_0x392be7,_0x52cf03)=>{const _0x5bc9d1=a0_0x2cf3;_0x52cf03['d'](_0x392be7,{'O':()=>_0xca8aa9});const _0xca8aa9={'version':'1.0.53','isProduction':!0x0,'firebaseConfig':{'apiKey':_0x5bc9d1(0x51e),'authDomain':_0x5bc9d1(0xc1c),'databaseURL':_0x5bc9d1(0x679),'projectId':_0x5bc9d1(0x222),'storageBucket':_0x5bc9d1(0x595),'messagingSenderId':_0x5bc9d1(0x6b1),'appId':_0x5bc9d1(0x59b),'measurementId':_0x5bc9d1(0x682)},'apiUrl':_0x5bc9d1(0xaa4),'aws':{'endpoint':_0x5bc9d1(0x96e),'region':_0x5bc9d1(0xbea)}};},0x20:(_0x5dcfac,_0x210ad2,_0x440424)=>{_0x440424['d'](_0x210ad2,{'O':()=>_0x373d4a});const _0x373d4a={};}},_0x15cd2e={};function _0x4e95b7(_0x17a07d){const _0x18f67e=a0_0x2cf3;var _0x56e2de=_0x15cd2e[_0x17a07d];if(void 0x0!==_0x56e2de)return _0x56e2de[_0x18f67e(0x2c4)];var _0x32cef7=_0x15cd2e[_0x17a07d]={'exports':{}};return _0x317118[_0x17a07d](_0x32cef7,_0x32cef7['exports'],_0x4e95b7),_0x32cef7['exports'];}_0x4e95b7['d']=(_0x21f4c3,_0x2e568c)=>{const _0x104bb5=a0_0x2cf3;for(var _0x154fad in _0x2e568c)_0x4e95b7['o'](_0x2e568c,_0x154fad)&&!_0x4e95b7['o'](_0x21f4c3,_0x154fad)&&Object[_0x104bb5(0x805)](_0x21f4c3,_0x154fad,{'enumerable':!0x0,'get':_0x2e568c[_0x154fad]});},_0x4e95b7['g']=(function(){const _0x28939c=a0_0x2cf3;if(_0x28939c(0x4ab)==typeof globalThis)return globalThis;try{return this||new Function('return\x20this')();}catch(_0x5e774a){if(_0x28939c(0x4ab)==typeof window)return window;}}()),_0x4e95b7['o']=(_0x455b13,_0x17de18)=>Object[_0x4a13a(0x6e7)][_0x4a13a(0x693)][_0x4a13a(0x374)](_0x455b13,_0x17de18),_0x4e95b7['r']=_0x3379c2=>{const _0x21184d=_0x4a13a;_0x21184d(0x240)!=typeof Symbol&&Symbol[_0x21184d(0x2b8)]&&Object[_0x21184d(0x805)](_0x3379c2,Symbol[_0x21184d(0x2b8)],{'value':_0x21184d(0x430)}),Object[_0x21184d(0x805)](_0x3379c2,_0x21184d(0x2d6),{'value':!0x0});};var _0x404249,_0x108d83,_0x2e74f6,_0x1e814e={};_0x4e95b7['r'](_0x1e814e),_0x4e95b7['d'](_0x1e814e,{'KeyValueDatabase':()=>_0x5d82a0,'LayoutBuilder':()=>_0x465c05,'LoggingChannels':()=>_0x2e74f6,'QueryBuilder':()=>_0x248ac0,'SDK':()=>_0x417021,'SDKClientErrorCodes':()=>_0x404249,'TableBuilder':()=>_0x2af0b9,'logger':()=>_0x260a6c}),function(_0xc1eccc){const _0x574aad=_0x4a13a;_0xc1eccc[_0x574aad(0x8dc)]='api-key-missing',_0xc1eccc['ConnectionBufferNotEmpty']=_0x574aad(0x39a),_0xc1eccc['ClusterAlreadyJoined']=_0x574aad(0x303),_0xc1eccc[_0x574aad(0x45b)]=_0x574aad(0x7f8),_0xc1eccc['ExternalStorageConnectionAlreadySubscribed']='external-storage-connection-already-subscribed',_0xc1eccc['ExternalStorageConnectionDoesNotExist']=_0x574aad(0x455),_0xc1eccc[_0x574aad(0xc27)]=_0x574aad(0x3db),_0xc1eccc[_0x574aad(0x6db)]=_0x574aad(0x527),_0xc1eccc['ExternalStorageNameNotString']=_0x574aad(0x52b),_0xc1eccc[_0x574aad(0x310)]=_0x574aad(0xb46),_0xc1eccc[_0x574aad(0x9ae)]=_0x574aad(0xbd3),_0xc1eccc[_0x574aad(0x419)]=_0x574aad(0x754),_0xc1eccc[_0x574aad(0x277)]=_0x574aad(0xb5e),_0xc1eccc[_0x574aad(0x581)]=_0x574aad(0x7e7),_0xc1eccc['GenerativeAILabelConflict']='generative-ai-label-conflict',_0xc1eccc[_0x574aad(0xa55)]='generative-ai-worker-already-exists',_0xc1eccc[_0x574aad(0x6a4)]='generative-ai-worker-missing-connector',_0xc1eccc[_0x574aad(0x249)]='generative-ai-worker-model-sync-error',_0xc1eccc[_0x574aad(0xa7a)]=_0x574aad(0x9a7),_0xc1eccc['GraphDatabaseDoesNotExist']=_0x574aad(0x7e1),_0xc1eccc[_0x574aad(0x9ed)]='graph-database-missing-connector',_0xc1eccc[_0x574aad(0x77c)]=_0x574aad(0x6c6),_0xc1eccc[_0x574aad(0x942)]='job-dispatcher-already-exists',_0xc1eccc['JobDispatcherDoesNotExist']=_0x574aad(0x4cf),_0xc1eccc[_0x574aad(0x3ac)]=_0x574aad(0x7b9),_0xc1eccc['JobDispatcherJobNotFound']=_0x574aad(0xaa6),_0xc1eccc[_0x574aad(0xc2f)]='job-dispatcher-invalid-job-type',_0xc1eccc[_0x574aad(0x86f)]=_0x574aad(0x3bd),_0xc1eccc[_0x574aad(0xb92)]=_0x574aad(0x6bb),_0xc1eccc[_0x574aad(0xc4b)]=_0x574aad(0x618),_0xc1eccc[_0x574aad(0xbae)]=_0x574aad(0xb69),_0xc1eccc['ObjectStoreDoesNotExist']=_0x574aad(0x47a),_0xc1eccc[_0x574aad(0x77d)]='object-store-name-not-string',_0xc1eccc[_0x574aad(0x3f3)]=_0x574aad(0x278),_0xc1eccc['ObjectStoreInvalidPath']=_0x574aad(0x7cc),_0xc1eccc[_0x574aad(0x9b6)]=_0x574aad(0x51d),_0xc1eccc[_0x574aad(0x987)]=_0x574aad(0x43a),_0xc1eccc['InvalidAccess']=_0x574aad(0x8a7),_0xc1eccc[_0x574aad(0x2e7)]=_0x574aad(0x412),_0xc1eccc['KeyValueDatabaseDoesNotExist']=_0x574aad(0x9e7),_0xc1eccc['KeyValueDatabaseIndexNotFound']=_0x574aad(0x6f7),_0xc1eccc[_0x574aad(0x83f)]=_0x574aad(0x428),_0xc1eccc['KeyValueDatabaseInvalidValue']=_0x574aad(0x1f9),_0xc1eccc['KeyValueDatabaseNameNotString']=_0x574aad(0xa70),_0xc1eccc['KeyValueDatabaseNotOpen']='key-value-database-not-open',_0xc1eccc[_0x574aad(0x7bc)]='key-value-database-table-name-reserved',_0xc1eccc[_0x574aad(0xace)]='key-value-database-table-not-found',_0xc1eccc[_0x574aad(0x4de)]=_0x574aad(0xbb9),_0xc1eccc[_0x574aad(0x588)]=_0x574aad(0x4ee),_0xc1eccc[_0x574aad(0x34a)]='local-media-stream-no-audio-context',_0xc1eccc[_0x574aad(0x3ae)]=_0x574aad(0x41e),_0xc1eccc['PubSubTopicDoesNotExist']=_0x574aad(0x3a6),_0xc1eccc['PubSubTopicNameNotString']='pub-sub-topic-name-not-string',_0xc1eccc[_0x574aad(0xba7)]=_0x574aad(0xa88),_0xc1eccc['QueryBuilderInvalidArgument']=_0x574aad(0xbd0),_0xc1eccc[_0x574aad(0x703)]='remote-media-stream-already-exists',_0xc1eccc['RemoteMediaStreamInvalidSubscriptionParams']=_0x574aad(0x491),_0xc1eccc['SubscriptionRequestInProgress']=_0x574aad(0x8ab),_0xc1eccc[_0x574aad(0x813)]=_0x574aad(0x5b7),_0xc1eccc[_0x574aad(0x646)]=_0x574aad(0x9c9),_0xc1eccc[_0x574aad(0x7c4)]=_0x574aad(0x64e),_0xc1eccc[_0x574aad(0x9d2)]=_0x574aad(0x87b),_0xc1eccc[_0x574aad(0x5a7)]=_0x574aad(0xa89),_0xc1eccc[_0x574aad(0xb2c)]=_0x574aad(0x3be),_0xc1eccc[_0x574aad(0x3c4)]=_0x574aad(0x2f2),_0xc1eccc[_0x574aad(0x707)]=_0x574aad(0x32f);}(_0x404249||(_0x404249={}));class _0x298b29 extends Error{['code'];constructor(_0x1e9d33,_0x1db3fa){const _0x1fdae=_0x4a13a;super(_0x1db3fa),this[_0x1fdae(0x6c2)]=_0x1e9d33;}}!function(_0x2b14e8){const _0x1295f9=_0x4a13a;_0x2b14e8[_0x1295f9(0x346)]=_0x1295f9(0x968),_0x2b14e8[_0x1295f9(0x77a)]=_0x1295f9(0x25c),_0x2b14e8[_0x1295f9(0xba3)]='key-value-database',_0x2b14e8[_0x1295f9(0x844)]='vector-database',_0x2b14e8['GraphDatabase']='graph-database',_0x2b14e8[_0x1295f9(0x82a)]=_0x1295f9(0xb3e),_0x2b14e8[_0x1295f9(0x2c8)]='media-stream',_0x2b14e8['GenerativeAIContext']='generative-ai';}(_0x108d83||(_0x108d83={})),function(_0x18a4c3){const _0x18ace1=_0x4a13a;_0x18a4c3[_0x18ace1(0xa03)]=_0x18ace1(0x47f),_0x18a4c3['Default']=_0x18ace1(0x692),_0x18a4c3['Connection']='connection',_0x18a4c3[_0x18ace1(0x37a)]=_0x18ace1(0x90b),_0x18a4c3[_0x18ace1(0x9d0)]=_0x18ace1(0x342),_0x18a4c3['Content']=_0x18ace1(0x816),_0x18a4c3[_0x18ace1(0x6f8)]=_0x18ace1(0xa3d),_0x18a4c3['Detection']=_0x18ace1(0x6d0),_0x18a4c3[_0x18ace1(0x4e7)]=_0x18ace1(0x8ba),_0x18a4c3[_0x18ace1(0x82d)]=_0x18ace1(0x33b),_0x18a4c3[_0x18ace1(0x31d)]='jobs',_0x18a4c3[_0x18ace1(0xba3)]=_0x18ace1(0x672),_0x18a4c3[_0x18ace1(0x4d9)]=_0x18ace1(0x7ff),_0x18a4c3['Pool']=_0x18ace1(0x273),_0x18a4c3[_0x18ace1(0x346)]=_0x18ace1(0x968),_0x18a4c3[_0x18ace1(0x76b)]=_0x18ace1(0x279),_0x18a4c3['Remediation']='remediation',_0x18a4c3[_0x18ace1(0x5ee)]=_0x18ace1(0x3ea),_0x18a4c3[_0x18ace1(0xc35)]=_0x18ace1(0x870),_0x18a4c3[_0x18ace1(0x76e)]=_0x18ace1(0x54a),_0x18a4c3['Subscription']='subscription',_0x18a4c3[_0x18ace1(0x4b3)]='support',_0x18a4c3[_0x18ace1(0x4f6)]=_0x18ace1(0x532),_0x18a4c3[_0x18ace1(0x4d0)]=_0x18ace1(0x87d),_0x18a4c3[_0x18ace1(0x46d)]=_0x18ace1(0x857),_0x18a4c3[_0x18ace1(0x99b)]=_0x18ace1(0xad7);}(_0x2e74f6||(_0x2e74f6={}));const _0x52458b=require('@crewdle/web-sdk-types');class _0x248ac0{[_0x4a13a(0x322)];constructor(_0x4691df){const _0x3a91c8=_0x4a13a;this['query']={'orderBy':{'key':_0x4691df,'direction':_0x3a91c8(0xb8f)}};}static[_0x4a13a(0x315)](_0x27b73e){const _0x2237ba=_0x4a13a;if('string'!=typeof _0x27b73e||0x0===_0x27b73e[_0x2237ba(0x454)])throw new _0x298b29(_0x404249[_0x2237ba(0xbd4)],_0x2237ba(0x3cf));return new _0x248ac0(_0x27b73e);}static[_0x4a13a(0x860)](_0x584f87){const _0x4ca01a=_0x4a13a;try{return _0x248ac0[_0x4ca01a(0x4e4)](_0x584f87),!0x0;}catch(_0x5300ec){return!0x1;}}static['buildQuery'](_0x52b366){const _0x10592c=_0x4a13a,_0x324058=_0x248ac0[_0x10592c(0x315)](_0x52b366['orderBy']?.[_0x10592c(0xb68)]??_0x52b366['where']?.[_0x10592c(0xb68)]??'');if(_0x52b366[_0x10592c(0x4c2)]){const _0x27472c=_0x52b366[_0x10592c(0x4c2)];if((_0x248ac0['isWhereValue'](_0x27472c)||_0x248ac0[_0x10592c(0x4c1)](_0x27472c)||_0x248ac0['isWhereBetween'](_0x27472c))&&_0x324058[_0x10592c(0x4c2)](_0x27472c[_0x10592c(0x789)],_0x27472c[_0x10592c(0x1db)]),_0x52b366[_0x10592c(0x645)]?.['key']&&_0x52b366[_0x10592c(0x645)]?.[_0x10592c(0xb68)]!==_0x52b366[_0x10592c(0x4c2)]['key'])throw new _0x298b29(_0x404249[_0x10592c(0xbd4)],_0x10592c(0x95a));}return _0x52b366['orderBy']&&_0x324058[_0x10592c(0x645)](_0x52b366[_0x10592c(0x645)][_0x10592c(0x7b3)]),_0x52b366[_0x10592c(0x790)]&&_0x324058[_0x10592c(0x790)](_0x52b366[_0x10592c(0x790)]),_0x52b366[_0x10592c(0x6f5)]&&_0x324058[_0x10592c(0x6f5)](_0x52b366[_0x10592c(0x6f5)]),_0x324058;}[_0x4a13a(0x66d)](){const _0x34017f=_0x4a13a;return{...this[_0x34017f(0x322)]};}[_0x4a13a(0x4c2)](_0x15f99b,_0x44f3e1){const _0x78bedb=_0x4a13a,_0x52c1f9={'key':this[_0x78bedb(0x322)][_0x78bedb(0x645)]['key'],'operator':_0x15f99b,'value':_0x44f3e1};if(!_0x248ac0[_0x78bedb(0x2d8)](_0x52c1f9)&&!_0x248ac0[_0x78bedb(0x4c1)](_0x52c1f9)&&!_0x248ac0[_0x78bedb(0x55c)](_0x52c1f9))throw new _0x298b29(_0x404249['QueryBuilderInvalidArgument'],'Invalid\x20where\x20clause');return this[_0x78bedb(0x322)]['where']=_0x52c1f9,this;}['orderBy'](_0x66054a){const _0x5a0636=_0x4a13a;if(_0x5a0636(0xb8f)!==_0x66054a&&_0x5a0636(0xc24)!==_0x66054a)throw new _0x298b29(_0x404249[_0x5a0636(0xbd4)],_0x5a0636(0x937));return this[_0x5a0636(0x322)][_0x5a0636(0x645)]['direction']=_0x66054a,this;}[_0x4a13a(0x790)](_0x40c76c){const _0x2e98bf=_0x4a13a;if(_0x2e98bf(0x7ad)!=typeof _0x40c76c||_0x40c76c<0x0)throw new _0x298b29(_0x404249[_0x2e98bf(0xbd4)],_0x2e98bf(0x4bf));return this[_0x2e98bf(0x322)][_0x2e98bf(0x790)]=_0x40c76c,this;}[_0x4a13a(0x6f5)](_0x1f4c6c){const _0x2fec2c=_0x4a13a;if(_0x2fec2c(0x7ad)!=typeof _0x1f4c6c||_0x1f4c6c<0x0)throw new _0x298b29(_0x404249['QueryBuilderInvalidArgument'],'Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number');return this[_0x2fec2c(0x322)]['offset']=_0x1f4c6c,this;}static['isWhereValue'](_0x3c4980){const _0x34fc18=_0x4a13a;if(!(_0x3c4980&&_0x34fc18(0x4ab)==typeof _0x3c4980&&'operator'in _0x3c4980&&_0x34fc18(0x1db)in _0x3c4980))return!0x1;const {operator:_0x2fcf62,value:_0x49878e}=_0x3c4980;return!(!['==','!=','>','<','<=','>='][_0x34fc18(0xa7f)](_0x2fcf62)||Array[_0x34fc18(0x7b8)](_0x49878e));}static['isWhereValues'](_0x10463e){const _0x5ec3a2=_0x4a13a;if(!(_0x10463e&&_0x5ec3a2(0x4ab)==typeof _0x10463e&&_0x5ec3a2(0x789)in _0x10463e&&_0x5ec3a2(0x1db)in _0x10463e))return!0x1;const {operator:_0x1fe0bd,value:_0x59b0e0}=_0x10463e;return!(!['in','not-in'][_0x5ec3a2(0xa7f)](_0x1fe0bd)||!Array[_0x5ec3a2(0x7b8)](_0x59b0e0));}static[_0x4a13a(0x55c)](_0x279762){const _0x2479b2=_0x4a13a;if(!(_0x279762&&_0x2479b2(0x4ab)==typeof _0x279762&&_0x2479b2(0x789)in _0x279762&&_0x2479b2(0x1db)in _0x279762))return!0x1;const {operator:_0x39bf5e,value:_0x1bae13}=_0x279762;return!('between'!==_0x39bf5e||!Array['isArray'](_0x1bae13)||0x2!==_0x1bae13['length']);}}class _0x465c05{[_0x4a13a(0x8c0)];constructor(_0x35b855){const _0x22bac6=_0x4a13a;this[_0x22bac6(0x8c0)]={'tables':{},'version':_0x35b855};}static[_0x4a13a(0xa23)](_0x200070){const _0x11e977=_0x4a13a;for(const _0xb9375d in _0x200070){if('version'!==_0xb9375d&&_0x11e977(0xbc0)!==_0xb9375d)return[!0x1,_0x11e977(0x6d9)+_0xb9375d+'\x27\x20in\x20layout'];if(_0x11e977(0xbc0)===_0xb9375d)for(const _0x564798 in _0x200070[_0x11e977(0xbc0)]){if('string'!=typeof _0x564798)return[!0x1,_0x11e977(0x62c)+_0x564798+'\x27'];for(const _0x5ec70c in _0x200070[_0x11e977(0xbc0)][_0x564798]){if(_0x11e977(0x76d)!==_0x5ec70c)return[!0x1,'Invalid\x20key\x20\x27'+_0x5ec70c+'\x27\x20in\x20table\x20\x27'+_0x564798+'\x27'];const _0x4c9e35=_0x200070[_0x11e977(0xbc0)][_0x564798][_0x5ec70c]??[];for(const _0x387d75 of _0x4c9e35)if(void 0x0===_0x387d75[_0x11e977(0x851)]||_0x11e977(0x924)!=typeof _0x387d75[_0x11e977(0x851)])return[!0x1,_0x11e977(0x8d8)+_0x564798+_0x11e977(0x362)];}}else{if(_0x11e977(0x94a)===_0xb9375d&&'number'!=typeof _0x200070[_0xb9375d])return[!0x1,_0x11e977(0x84c)+_0x200070[_0xb9375d]+_0x11e977(0x655)];}}return[!0x0,_0x11e977(0x98c)];}static[_0x4a13a(0x8c0)](_0x301d85){const _0x57709c=_0x4a13a,_0x2a68a3=new _0x465c05(_0x301d85);return _0x2a68a3['layout'][_0x57709c(0x94a)]=_0x301d85,_0x2a68a3;}[_0x4a13a(0x512)](_0x551cee){const _0x11ca77=_0x4a13a;return this[_0x11ca77(0x8c0)][_0x11ca77(0xbc0)][_0x551cee]={},new _0x2af0b9(this['layout']['tables'][_0x551cee]);}[_0x4a13a(0xbcb)](){return this['layout'];}}class _0x2af0b9{[_0x4a13a(0x61a)];constructor(_0x596a31){const _0x5cd3a7=_0x4a13a;this[_0x5cd3a7(0x61a)]=_0x596a31;}['index'](_0x26fbb8){const _0x564741=_0x4a13a;return this[_0x564741(0x61a)][_0x564741(0x76d)]=this['tableLayout'][_0x564741(0x76d)]??[],this[_0x564741(0x61a)][_0x564741(0x76d)]['push']({'keyPath':_0x26fbb8}),this;}}const _0x59c579=0x40000,_0x4e2e3f=0x20000,_0x476143=0x1388,_0x527efb=_0x4a13a(0x2e8),_0x2395cd=_0x4a13a(0x3c2),_0x506491=_0x4a13a(0x6a1),_0xece89a=_0x4a13a(0x4f8),_0xd5d26a=0xdbba0,_0x5d5ab6=0x61a8,_0x2d73b4=_0x4a13a(0x906);var _0x33ffae;!function(_0x1c1dc5){const _0x308e48=_0x4a13a;_0x1c1dc5[_0x308e48(0x66b)]=_0x308e48(0x972),_0x1c1dc5[_0x308e48(0x9f9)]=_0x308e48(0xbd8),_0x1c1dc5[_0x308e48(0xc2b)]='connection-no-retry-queue',_0x1c1dc5[_0x308e48(0xb3d)]=_0x308e48(0xb03),_0x1c1dc5[_0x308e48(0xbac)]='data-collection-does-not-exist',_0x1c1dc5['GenerativeAIContextCreationFailed']='generative-ai-context-creation-failed',_0x1c1dc5['GenerativeAIContextInvalidPartialResult']=_0x308e48(0xa50),_0x1c1dc5['GenerativeAIContextJobAlreadyConsumed']=_0x308e48(0x7b1),_0x1c1dc5[_0x308e48(0x4e9)]=_0x308e48(0xa30),_0x1c1dc5[_0x308e48(0x663)]=_0x308e48(0xacd),_0x1c1dc5[_0x308e48(0x3ff)]=_0x308e48(0xb73),_0x1c1dc5[_0x308e48(0x25a)]=_0x308e48(0x737),_0x1c1dc5[_0x308e48(0x282)]=_0x308e48(0x687),_0x1c1dc5[_0x308e48(0x985)]=_0x308e48(0x653),_0x1c1dc5[_0x308e48(0x651)]=_0x308e48(0x746),_0x1c1dc5[_0x308e48(0x85c)]=_0x308e48(0x4c4),_0x1c1dc5[_0x308e48(0x3e7)]='job-dispatcher-creation-failed',_0x1c1dc5['JobDispatcherInvalidPayload']=_0x308e48(0xb8a),_0x1c1dc5[_0x308e48(0x53a)]=_0x308e48(0xaa6),_0x1c1dc5[_0x308e48(0xa42)]=_0x308e48(0xacc),_0x1c1dc5[_0x308e48(0x61e)]=_0x308e48(0xbb1),_0x1c1dc5[_0x308e48(0x887)]='job-worker-invalid-type',_0x1c1dc5['KeyValueDatabaseCreationFailed']=_0x308e48(0xaf7),_0x1c1dc5[_0x308e48(0x74a)]=_0x308e48(0x33a),_0x1c1dc5[_0x308e48(0x6c0)]='key-value-database-table-does-not-exist',_0x1c1dc5[_0x308e48(0xbb7)]=_0x308e48(0x5e6),_0x1c1dc5[_0x308e48(0x903)]=_0x308e48(0xb06),_0x1c1dc5['LocalMediaStreamDoesNotExist']=_0x308e48(0x487),_0x1c1dc5['MissingRemoteConnection']=_0x308e48(0x20e),_0x1c1dc5[_0x308e48(0xbee)]='missing-system-topic',_0x1c1dc5[_0x308e48(0x6d6)]='mistlet-capacity-report-not-set',_0x1c1dc5[_0x308e48(0xb57)]=_0x308e48(0xc13),_0x1c1dc5[_0x308e48(0xba5)]=_0x308e48(0xaff),_0x1c1dc5[_0x308e48(0x5f5)]=_0x308e48(0x5c0),_0x1c1dc5[_0x308e48(0x847)]='object-store-not-synced',_0x1c1dc5[_0x308e48(0xb3c)]='outgoing-stream-no-topic',_0x1c1dc5[_0x308e48(0x429)]='remote-stream-does-not-exist',_0x1c1dc5[_0x308e48(0x4d5)]=_0x308e48(0xb01),_0x1c1dc5[_0x308e48(0x267)]=_0x308e48(0x9b7),_0x1c1dc5['SubscriptionRequestDoesNotExist']='subscription-request-does-not-exist',_0x1c1dc5[_0x308e48(0x45f)]=_0x308e48(0x329),_0x1c1dc5[_0x308e48(0x796)]=_0x308e48(0x90e),_0x1c1dc5[_0x308e48(0xc14)]=_0x308e48(0x38f),_0x1c1dc5[_0x308e48(0x5c4)]=_0x308e48(0x2be),_0x1c1dc5[_0x308e48(0x518)]=_0x308e48(0xc39),_0x1c1dc5[_0x308e48(0x852)]=_0x308e48(0xb84),_0x1c1dc5['WorkflowDoesNotExist']=_0x308e48(0x807),_0x1c1dc5['WorkflowInvalidBlockType']=_0x308e48(0x828);}(_0x33ffae||(_0x33ffae={}));const _0x554810=new Map([[_0x33ffae[_0x4a13a(0x66b)],_0x4a13a(0x44a)],[_0x33ffae[_0x4a13a(0x9f9)],'Connection\x20not\x20connected.'],[_0x33ffae[_0x4a13a(0xc2b)],'Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.'],[_0x33ffae[_0x4a13a(0xb3d)],_0x4a13a(0x9a1)],[_0x33ffae[_0x4a13a(0xbac)],_0x4a13a(0xb1a)],[_0x33ffae['GenerativeAIContextCreationFailed'],'Generative\x20AI\x20context\x20creation\x20failed.'],[_0x33ffae['GenerativeAIContextInvalidPartialResult'],'Generative\x20AI\x20context\x20invalid\x20partial\x20result.'],[_0x33ffae['GenerativeAIContextJobAlreadyConsumed'],_0x4a13a(0x228)],[_0x33ffae[_0x4a13a(0x4e9)],_0x4a13a(0xb7a)],[_0x33ffae[_0x4a13a(0x663)],'Generative\x20AI\x20context\x20job\x20timeout.'],[_0x33ffae[_0x4a13a(0x3ff)],_0x4a13a(0x933)],[_0x33ffae[_0x4a13a(0x25a)],_0x4a13a(0xa28)],[_0x33ffae[_0x4a13a(0x282)],_0x4a13a(0xaa9)],[_0x33ffae[_0x4a13a(0x985)],_0x4a13a(0x383)],[_0x33ffae[_0x4a13a(0x651)],_0x4a13a(0x3e3)],[_0x33ffae[_0x4a13a(0x85c)],_0x4a13a(0x994)],[_0x33ffae[_0x4a13a(0x3e7)],_0x4a13a(0xc25)],[_0x33ffae[_0x4a13a(0x6ac)],_0x4a13a(0x49b)],[_0x33ffae['JobDispatcherJobNotFound'],_0x4a13a(0x2fd)],[_0x33ffae[_0x4a13a(0xa42)],_0x4a13a(0x898)],[_0x33ffae['JobWorkerCreationFailed'],_0x4a13a(0x9a8)],[_0x33ffae[_0x4a13a(0x887)],'Invalid\x20job\x20worker\x20type.'],[_0x33ffae[_0x4a13a(0x2bb)],_0x4a13a(0xabe)],[_0x33ffae[_0x4a13a(0x74a)],_0x4a13a(0x8d7)],[_0x33ffae[_0x4a13a(0x6c0)],_0x4a13a(0x336)],[_0x33ffae[_0x4a13a(0xbb7)],'Key-value\x20database\x20transaction\x20table\x20not\x20initialized.'],[_0x33ffae['KeyValueDatabaseTransactionValueNotSet'],_0x4a13a(0x311)],[_0x33ffae[_0x4a13a(0x625)],'Local\x20stream\x20does\x20not\x20exist.'],[_0x33ffae[_0x4a13a(0x5b2)],_0x4a13a(0x42f)],[_0x33ffae[_0x4a13a(0xbee)],_0x4a13a(0xa38)],[_0x33ffae['MistletCapacityReportNotSet'],_0x4a13a(0x1f3)],[_0x33ffae['ObjectStoreCannotWriteTransaction'],_0x4a13a(0xb5b)],[_0x33ffae[_0x4a13a(0x5f5)],_0x4a13a(0x678)],[_0x33ffae[_0x4a13a(0xba5)],'Invalid\x20object\x20store\x20state.'],[_0x33ffae[_0x4a13a(0x847)],_0x4a13a(0x40a)],[_0x33ffae['OutgoingMediaStreamNoTopic'],'Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.'],[_0x33ffae[_0x4a13a(0x429)],'Remote\x20stream\x20does\x20not\x20exist.'],[_0x33ffae[_0x4a13a(0x4d5)],_0x4a13a(0x5ba)],[_0x33ffae[_0x4a13a(0x267)],_0x4a13a(0x717)],[_0x33ffae[_0x4a13a(0xb2f)],'Subscription\x20request\x20does\x20not\x20exist.'],[_0x33ffae[_0x4a13a(0x45f)],_0x4a13a(0xadf)],[_0x33ffae[_0x4a13a(0x796)],_0x4a13a(0x3d2)],[_0x33ffae[_0x4a13a(0xc14)],'Node\x20does\x20not\x20exist.'],[_0x33ffae[_0x4a13a(0x5c4)],'Node\x20already\x20exists.'],[_0x33ffae[_0x4a13a(0x518)],_0x4a13a(0x2a0)],[_0x33ffae[_0x4a13a(0x852)],_0x4a13a(0xb80)],[_0x33ffae['WorkflowDoesNotExist'],_0x4a13a(0x44e)],[_0x33ffae[_0x4a13a(0x603)],'Invalid\x20workflow\x20block\x20type.']]);class _0x240123 extends Error{[_0x4a13a(0x6c2)];static [_0x4a13a(0x2f7)]=_0x33ffae;[_0x4a13a(0x728)];constructor(_0x2586c8,_0x5c2d3f){const _0x5e1be5=_0x4a13a;super(_0x5e1be5(0x7d5)+_0x2586c8+':\x20'+_0x554810['get'](_0x2586c8)+'\x0aAdditional\x20data:\x20'+JSON[_0x5e1be5(0x320)](_0x5c2d3f)),this[_0x5e1be5(0x6c2)]=_0x2586c8,this[_0x5e1be5(0x728)]=_0x5c2d3f||{};}}var _0x1c17a1,_0x532345,_0x5a32db,_0x2d38c6,_0x24aa23,_0x449de3,_0x29c5a4;!function(_0x4cebda){const _0x3f9887=_0x4a13a;_0x4cebda[_0x4cebda[_0x3f9887(0x473)]=0x0]=_0x3f9887(0x473),_0x4cebda[_0x4cebda[_0x3f9887(0xb44)]=0x1]='CloseJobDispatcher',_0x4cebda[_0x4cebda[_0x3f9887(0x1ed)]=0x2]=_0x3f9887(0x1ed),_0x4cebda[_0x4cebda[_0x3f9887(0x39f)]=0x3]='CloseExternalStorageConnection',_0x4cebda[_0x4cebda[_0x3f9887(0x70f)]=0x4]=_0x3f9887(0x70f),_0x4cebda[_0x4cebda[_0x3f9887(0xb38)]=0x5]='CloseMediaStream',_0x4cebda[_0x4cebda[_0x3f9887(0x61d)]=0x6]='CloseObjectStoreBucket',_0x4cebda[_0x4cebda[_0x3f9887(0x819)]=0x7]=_0x3f9887(0x819),_0x4cebda[_0x4cebda[_0x3f9887(0x23e)]=0x8]=_0x3f9887(0x23e),_0x4cebda[_0x4cebda[_0x3f9887(0x98d)]=0x9]='CloseGenerativeAIContext',_0x4cebda[_0x4cebda[_0x3f9887(0xa15)]=0xa]=_0x3f9887(0xa15),_0x4cebda[_0x4cebda[_0x3f9887(0x4d4)]=0xb]='GenerativeAIContextStats',_0x4cebda[_0x4cebda[_0x3f9887(0xab4)]=0xc]=_0x3f9887(0xab4),_0x4cebda[_0x4cebda['GraphDatabaseStats']=0xd]='GraphDatabaseStats',_0x4cebda[_0x4cebda[_0x3f9887(0xa5c)]=0xe]='KeyValueDatabaseContentAvailable',_0x4cebda[_0x4cebda[_0x3f9887(0x6bf)]=0xf]=_0x3f9887(0x6bf),_0x4cebda[_0x4cebda[_0x3f9887(0x71e)]=0x10]=_0x3f9887(0x71e),_0x4cebda[_0x4cebda[_0x3f9887(0x93e)]=0x11]='KeyValueDatabaseRequestTransactionsValue',_0x4cebda[_0x4cebda['KeyValueDatabaseSendTransactions']=0x12]='KeyValueDatabaseSendTransactions',_0x4cebda[_0x4cebda[_0x3f9887(0x57e)]=0x13]=_0x3f9887(0x57e),_0x4cebda[_0x4cebda[_0x3f9887(0xbb2)]=0x14]=_0x3f9887(0xbb2),_0x4cebda[_0x4cebda['LocalMediaStreamTrackFail']=0x15]=_0x3f9887(0x617),_0x4cebda[_0x4cebda[_0x3f9887(0x529)]=0x16]=_0x3f9887(0x529),_0x4cebda[_0x4cebda['PubSubTopicStats']=0x17]='PubSubTopicStats',_0x4cebda[_0x4cebda['PublishMediaStream']=0x18]=_0x3f9887(0x861),_0x4cebda[_0x4cebda['RemoteMediaStreamTrackFail']=0x19]=_0x3f9887(0xaf3),_0x4cebda[_0x4cebda[_0x3f9887(0xb12)]=0x1a]=_0x3f9887(0xb12),_0x4cebda[_0x4cebda[_0x3f9887(0x577)]=0x1b]='UnpublishMediaStream',_0x4cebda[_0x4cebda[_0x3f9887(0x7e3)]=0x1c]=_0x3f9887(0x7e3),_0x4cebda[_0x4cebda['UpdateMediaStream']=0x1d]='UpdateMediaStream',_0x4cebda[_0x4cebda[_0x3f9887(0x786)]=0x1e]=_0x3f9887(0x786);}(_0x1c17a1||(_0x1c17a1={})),function(_0x578dc5){const _0x5394c7=_0x4a13a;_0x578dc5[_0x5394c7(0x829)]='file-write',_0x578dc5[_0x5394c7(0xb1b)]=_0x5394c7(0xbb5),_0x578dc5['Delete']=_0x5394c7(0xb18),_0x578dc5[_0x5394c7(0xa4c)]=_0x5394c7(0x4f7),_0x578dc5[_0x5394c7(0xc4f)]=_0x5394c7(0xae6),_0x578dc5[_0x5394c7(0x78f)]=_0x5394c7(0x9a9),_0x578dc5[_0x5394c7(0x4c9)]=_0x5394c7(0x90f),_0x578dc5[_0x5394c7(0x36a)]=_0x5394c7(0x79a);}(_0x532345||(_0x532345={})),function(_0x5e9d9e){const _0x4a248f=_0x4a13a;_0x5e9d9e[_0x4a248f(0x1eb)]=_0x4a248f(0x899),_0x5e9d9e[_0x4a248f(0x2ad)]='transaction';}(_0x5a32db||(_0x5a32db={})),function(_0x43719a){const _0x1f8d90=_0x4a13a;_0x43719a[_0x1f8d90(0xc02)]='add',_0x43719a[_0x1f8d90(0x3fd)]=_0x1f8d90(0xb4b),_0x43719a[_0x1f8d90(0x873)]=_0x1f8d90(0xb18);}(_0x2d38c6||(_0x2d38c6={})),function(_0x4606c6){const _0x5d21f1=_0x4a13a;_0x4606c6[_0x5d21f1(0x47d)]=_0x5d21f1(0x68c),_0x4606c6[_0x5d21f1(0x944)]=_0x5d21f1(0xb07),_0x4606c6[_0x5d21f1(0x83e)]=_0x5d21f1(0x3f6);}(_0x24aa23||(_0x24aa23={})),function(_0x40118f){const _0x578f06=_0x4a13a;_0x40118f[_0x40118f['Request']=0x0]='Request',_0x40118f[_0x40118f[_0x578f06(0x38a)]=0x1]='Bid',_0x40118f[_0x40118f[_0x578f06(0x4c0)]=0x2]=_0x578f06(0x4c0),_0x40118f[_0x40118f[_0x578f06(0x3a7)]=0x3]='PartialResult',_0x40118f[_0x40118f['Result']=0x4]='Result',_0x40118f[_0x40118f[_0x578f06(0x239)]=0x5]=_0x578f06(0x239);}(_0x449de3||(_0x449de3={})),function(_0x389855){const _0x4358ae=_0x4a13a;_0x389855[_0x389855['PeerConnection']=0x0]=_0x4358ae(0x99b),_0x389855[_0x389855[_0x4358ae(0x4d9)]=0x1]=_0x4358ae(0x4d9),_0x389855[_0x389855['Content']=0x2]=_0x4358ae(0xbf2),_0x389855[_0x389855[_0x4358ae(0xa53)]=0x3]=_0x4358ae(0xa53),_0x389855[_0x389855[_0x4358ae(0x76e)]=0x4]=_0x4358ae(0x76e),_0x389855[_0x389855[_0x4358ae(0x8c9)]=0x5]=_0x4358ae(0x8c9),_0x389855[_0x389855[_0x4358ae(0x401)]=0x6]=_0x4358ae(0x401);}(_0x29c5a4||(_0x29c5a4={}));class _0x19c50e{['owner'];[_0x4a13a(0xaed)];[_0x4a13a(0x525)];constructor(_0x38f259,_0x3d7ed5){const _0x2e0fa9=_0x4a13a;this['owner']=_0x38f259,this[_0x2e0fa9(0xaed)]=_0x3d7ed5;}[_0x4a13a(0x287)](){const _0x39c0c9=_0x4a13a;return this[_0x39c0c9(0xaed)];}[_0x4a13a(0x742)](){const _0x468259=_0x4a13a;return this[_0x468259(0xb9b)][_0x468259(0xa47)]();}[_0x4a13a(0x888)](){}[_0x4a13a(0x348)](_0x2e8c35){const _0x5a6a40=_0x4a13a;this[_0x5a6a40(0x525)]=_0x2e8c35;}['unregisterSystemPublisher'](){const _0x46a639=_0x4a13a;delete this[_0x46a639(0x525)];}}const _0x1264d4=require('firebase/firestore');let _0x44a474=_0x4e95b7(0x14d)['O'];function _0x4409eb(_0x5c7e86){const _0x3482df=_0x4a13a;return!(!_0x5c7e86||_0x3482df(0x4ab)!=typeof _0x5c7e86||Array[_0x3482df(0x7b8)](_0x5c7e86));}_0x44a474=function _0x10dc13(_0x57e2c1,..._0x2cc616){const _0x2e541b=_0x4a13a;if(!Array[_0x2e541b(0x7b8)](_0x2cc616)||0x0===_0x2cc616['length'])return _0x57e2c1;const _0x3acd6a=_0x2cc616[_0x2e541b(0xc23)]();if(_0x4409eb(_0x57e2c1)&&_0x4409eb(_0x3acd6a)){for(const _0x569243 in _0x3acd6a)_0x4409eb(_0x3acd6a[_0x569243])?(_0x57e2c1[_0x569243]||Object[_0x2e541b(0xb67)](_0x57e2c1,{[_0x569243]:{}}),_0x10dc13(_0x57e2c1[_0x569243],_0x3acd6a[_0x569243])):Object['assign'](_0x57e2c1,{[_0x569243]:_0x3acd6a[_0x569243]});}return _0x10dc13(_0x57e2c1,..._0x2cc616);}(_0x44a474,_0x4e95b7(0x3e6)['O']);const _0x2fd4ca=_0x44a474,_0x504348=require('firebase/app'),_0x4e9021=require('firebase/auth'),_0x29402b=require('firebase/database'),_0x4b695a=require('firebase/functions'),_0xafe7f0=require('uuid'),_0x4379a3=_0x4a13a(0x60c);class _0x43efdc{static [_0x4a13a(0x2c9)];['app'];[_0x4a13a(0x996)];[_0x4a13a(0xbb8)];[_0x4a13a(0x961)];[_0x4a13a(0x5a3)];[_0x4a13a(0x46f)];[_0x4a13a(0x50f)];constructor(){const _0x198b16=_0x4a13a;this[_0x198b16(0x68f)]();}static[_0x4a13a(0xb8d)](){const _0x3b08f3=_0x4a13a;return _0x43efdc[_0x3b08f3(0x2c9)]||(_0x43efdc[_0x3b08f3(0x2c9)]=new _0x43efdc()),_0x43efdc['instance'];}[_0x4a13a(0x68f)](){const _0x386e18=_0x4a13a;if(!this[_0x386e18(0x982)]){let _0x33ccad=_0x4379a3;_0x386e18(0x240)!=typeof window&&(_0x33ccad=_0x4379a3+'-'+(0x0,_0xafe7f0['v4'])()),this[_0x386e18(0x982)]=(0x0,_0x504348[_0x386e18(0xb66)])(_0x2fd4ca['firebaseConfig'],''+_0x33ccad);}return this['app'];}[_0x4a13a(0x3fc)](){const _0x13c228=_0x4a13a;return this['auth']||(this[_0x13c228(0x996)]=(0x0,_0x4e9021[_0x13c228(0x3fc)])(this[_0x13c228(0x68f)]())),this[_0x13c228(0x996)];}['getFunctions'](){const _0x5c5f19=_0x4a13a;return this[_0x5c5f19(0xbb8)]||(this[_0x5c5f19(0xbb8)]=(0x0,_0x4b695a[_0x5c5f19(0x67d)])(this[_0x5c5f19(0x68f)](),_0x2fd4ca[_0x5c5f19(0x912)][_0x5c5f19(0x97f)])),this[_0x5c5f19(0xbb8)];}['getDatabase'](){const _0x10a565=_0x4a13a;return this[_0x10a565(0x961)]||(this['database']=(0x0,_0x29402b['getDatabase'])(this['getApp']())),this[_0x10a565(0x961)];}['getFirestore'](){const _0x152b56=_0x4a13a;return this[_0x152b56(0x5a3)]||(this[_0x152b56(0x5a3)]=(0x0,_0x1264d4[_0x152b56(0x73a)])(this[_0x152b56(0x68f)]())),this[_0x152b56(0x5a3)];}async[_0x4a13a(0x449)](){const _0x13d8f3=_0x4a13a;if(this['clockSkew']&&this[_0x13d8f3(0x50f)]&&Date[_0x13d8f3(0xad3)]()-this[_0x13d8f3(0x50f)]<0x493e0)return Date[_0x13d8f3(0xad3)]()+this[_0x13d8f3(0x46f)];const _0x10355d=this['getDatabase'](),_0x1d97f6=(0x0,_0x29402b[_0x13d8f3(0x9cf)])(_0x10355d,_0x13d8f3(0x798));return new Promise(_0x2624af=>{const _0x386fb5=_0x13d8f3;(0x0,_0x29402b[_0x386fb5(0x536)])(_0x1d97f6,_0x1c2045=>{const _0xe303b1=_0x386fb5;(0x0,_0x29402b[_0xe303b1(0x978)])(_0x1d97f6),this[_0xe303b1(0x46f)]=_0x1c2045[_0xe303b1(0x8fd)](),this['lastClockUpdate']=Date[_0xe303b1(0xad3)](),_0x2624af(Date[_0xe303b1(0xad3)]()+(this[_0xe303b1(0x46f)]??0x0));});});}}const _0x4c4338=_0x43efdc['getInstance']();class _0x5a56fc{static [_0x4a13a(0x2c9)];[_0x4a13a(0x9bd)]=[_0x2e74f6[_0x4a13a(0xa82)]];[_0x4a13a(0x769)]=!0x1;[_0x4a13a(0xbc7)];['vendorId']='';['globalObject'];[_0x4a13a(0x70c)]=[];[_0x4a13a(0x253)];[_0x4a13a(0x99a)];[_0x4a13a(0x701)]=0xa;[_0x4a13a(0xbe5)]=0x1f4;[_0x4a13a(0x6d8)]=0x1c2;[_0x4a13a(0x37f)]=0x3e8;constructor(){const _0x5f58eb=_0x4a13a;if(_0x5f58eb(0x240)!=typeof window)this[_0x5f58eb(0x30c)]=window;else{if(void 0x0===_0x4e95b7['g'])throw new Error(_0x5f58eb(0x766));this[_0x5f58eb(0x30c)]=_0x4e95b7['g'];}this[_0x5f58eb(0x444)](),this['globalObject']['crewdleSDKEnableLogging']=_0x25f6dd=>{const _0x10bb2b=_0x5f58eb;if(_0x25f6dd===_0x2e74f6[_0x10bb2b(0xa03)])return this[_0x10bb2b(0x9bd)]=Object[_0x10bb2b(0x932)](_0x2e74f6)[_0x10bb2b(0x275)](_0x1a4a4c=>_0x2e74f6[_0x1a4a4c]),void Object[_0x10bb2b(0x932)](_0x2e74f6)[_0x10bb2b(0x761)](_0x9fb637=>{const _0x3ac30b=_0x10bb2b,_0x320759=_0x9fb637;localStorage[_0x3ac30b(0x369)](_0x3ac30b(0x7bd)+_0x2e74f6[_0x320759],'true');});this[_0x10bb2b(0x9bd)]['includes'](_0x25f6dd)||(this[_0x10bb2b(0x9bd)][_0x10bb2b(0x247)](_0x25f6dd),localStorage['setItem'](_0x10bb2b(0x7bd)+_0x25f6dd,'true'));},this[_0x5f58eb(0x30c)][_0x5f58eb(0x2e1)]=_0x57d0e4=>{const _0x21e21e=_0x5f58eb;if(!_0x57d0e4||_0x57d0e4===_0x2e74f6[_0x21e21e(0xa03)])return this[_0x21e21e(0x9bd)]=[],void Object[_0x21e21e(0x932)](_0x2e74f6)['forEach'](_0x5a085f=>{const _0x46bac5=_0x21e21e,_0x3a698c=_0x5a085f;localStorage['removeItem'](_0x46bac5(0x7bd)+_0x2e74f6[_0x3a698c]);});this[_0x21e21e(0x9bd)][_0x21e21e(0xa7f)](_0x57d0e4)&&(this[_0x21e21e(0x9bd)]=this[_0x21e21e(0x9bd)][_0x21e21e(0x675)](_0x3503b1=>_0x3503b1!==_0x57d0e4),localStorage[_0x21e21e(0x5e4)]('crewdle-sdk-logging-'+_0x57d0e4));},this[_0x5f58eb(0x30c)][_0x5f58eb(0x7c9)]=_0x2e74f6;}static[_0x4a13a(0xb8d)](){const _0x41fe96=_0x4a13a;try{return _0x5a56fc['instance']||(_0x5a56fc[_0x41fe96(0x2c9)]=new _0x5a56fc()),_0x5a56fc['instance'];}catch(_0x40cb24){return console['error'](_0x41fe96(0xb9f),_0x40cb24),{'log':()=>{},'forceLog':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1,'processBatch':()=>{}};}}['setVendorId'](_0x501283){const _0x54f34e=_0x4a13a;this['vendorId']=_0x501283,this[_0x54f34e(0x70c)]=[],this[_0x54f34e(0x253)]=this['createNewBatch'](),this[_0x54f34e(0x99a)]&&(clearTimeout(this['batchTimeout']),this[_0x54f34e(0x99a)]=void 0x0);}[_0x4a13a(0x30f)](_0x4008d8){const _0x24cf73=_0x4a13a;this[_0x24cf73(0xbc7)]=_0x4008d8;}[_0x4a13a(0xb15)](_0xf34a16,..._0x552e6e){const _0x1eb30f=_0x4a13a;this[_0x1eb30f(0x769)]&&this['log'](_0x2e74f6[_0x1eb30f(0xa82)],'DEBUG\x20-\x20'+_0xf34a16,..._0x552e6e);}['forceLog'](_0x3fa8e6,..._0x29d589){const _0x3a0767=_0x4a13a;console['log'](_0x3fa8e6,..._0x29d589),this[_0x3a0767(0xbc7)]&&this[_0x3a0767(0xbc7)][_0x3a0767(0x761)](_0x3e7f2f=>{const _0x34b929=_0x3a0767;_0x3e7f2f[_0x34b929(0x8b9)](_0x3fa8e6,{'vendorId':this[_0x34b929(0x649)],'nodeId':'','nodeType':'','data':{..._0x29d589}});});}['log'](_0x1044a6,_0x5b98b5,..._0x4e0b66){const _0x9071f9=_0x4a13a;_0x2fd4ca['isProduction']||(this[_0x9071f9(0x9bd)][_0x9071f9(0xa7f)](_0x1044a6)&&console['log'](_0x9071f9(0x762)+_0x1044a6+'\x27\x0a',new Date()+'\x0a',_0x5b98b5,..._0x4e0b66),this[_0x9071f9(0xbc7)]&&this[_0x9071f9(0xbc7)][_0x9071f9(0x761)](_0xda8c51=>{const _0x1d200f=_0x9071f9;this[_0x1d200f(0xa51)](_0xda8c51)&&_0xda8c51[_0x1d200f(0xb77)]()['includes'](_0x1044a6)&&_0xda8c51[_0x1d200f(0x8b9)](_0x5b98b5,{'vendorId':this[_0x1d200f(0x649)],'nodeId':'','nodeType':'','data':{'channel':_0x1044a6,..._0x4e0b66}});}));}['logRaw'](_0x180800,_0x2cbee3,..._0x613c54){const _0x4cf57b=_0x4a13a;_0x2fd4ca[_0x4cf57b(0x3bc)]||(this[_0x4cf57b(0x9bd)]['includes'](_0x180800)&&console[_0x4cf57b(0x8b9)](_0x2cbee3,..._0x613c54),this[_0x4cf57b(0xbc7)]&&this[_0x4cf57b(0xbc7)]['forEach'](_0x1c1c99=>{const _0x226ebb=_0x4cf57b;this[_0x226ebb(0xa51)](_0x1c1c99)&&_0x1c1c99[_0x226ebb(0xb77)]()[_0x226ebb(0xa7f)](_0x180800)&&_0x1c1c99[_0x226ebb(0x8b9)](_0x2cbee3,{'vendorId':this[_0x226ebb(0x649)],'nodeId':'','nodeType':'','data':{'channel':_0x180800,..._0x613c54}});}));}[_0x4a13a(0x6a5)](_0x3e3c5f,_0x32d182){const _0x3df99e=_0x4a13a;if(!this[_0x3df99e(0xbc7)])return;const _0x19fd07={'vendorId':this[_0x3df99e(0x649)],..._0x32d182};this['loggingConnectors'][_0x3df99e(0x761)](_0x289c06=>{const _0x2ceab0=_0x3df99e;_0x289c06[_0x2ceab0(0x8b9)](_0x3e3c5f,_0x19fd07);});}[_0x4a13a(0xa93)](_0x731da,_0x58f35d){const _0x518993=_0x4a13a;this[_0x518993(0xa8b)](_0x731da,_0x58f35d),this[_0x518993(0x7df)]();}[_0x4a13a(0x242)](_0x5cd094,_0x1265f4,_0xc1784c){const _0x199f12=_0x4a13a;(0x0,_0x1264d4[_0x199f12(0x7f6)])((0x0,_0x1264d4[_0x199f12(0x448)])(_0x4c4338[_0x199f12(0x73a)](),'developers/'+this[_0x199f12(0x649)]+'/'+_0x5cd094+'/'+_0x1265f4),{'storage':_0xc1784c,'timestamp':(0x0,_0x1264d4['serverTimestamp'])()});}[_0x4a13a(0x7df)](){const _0x28e429=_0x4a13a;this['currentBatch']&&(this[_0x28e429(0x253)][_0x28e429(0x24b)]+=0x1,this[_0x28e429(0x253)][_0x28e429(0x24b)]===this[_0x28e429(0x6d8)]?this['processBatch']():this[_0x28e429(0x99a)]||(this[_0x28e429(0x99a)]=this[_0x28e429(0x30c)][_0x28e429(0x9d4)](()=>this[_0x28e429(0xab6)](),this[_0x28e429(0x37f)])));}async[_0x4a13a(0xab6)](){const _0xbbe1a7=_0x4a13a;if(this[_0xbbe1a7(0x253)]){for(this[_0xbbe1a7(0x70c)][_0xbbe1a7(0x247)](this['currentBatch']),this[_0xbbe1a7(0x253)]=this[_0xbbe1a7(0x56b)]();this[_0xbbe1a7(0x70c)][_0xbbe1a7(0x454)]>0x0;){const _0x59d1cb=this[_0xbbe1a7(0x70c)]['shift']();if(!await this[_0xbbe1a7(0x5ac)](_0x59d1cb))break;}clearTimeout(this['batchTimeout']),this[_0xbbe1a7(0x99a)]=void 0x0;}}['error'](_0x2fe5dc,_0x1d5b52,..._0x464013){const _0x36be87=_0x4a13a;if(console[_0x36be87(0x33b)](new Date(),_0x2fe5dc,_0x1d5b52,..._0x464013),this['loggingConnectors']){const _0x1a8734={'vendorId':this[_0x36be87(0x649)],..._0x1d5b52};this[_0x36be87(0xbc7)][_0x36be87(0x761)](_0x10b733=>{_0x10b733['error'](_0x2fe5dc,_0x1a8734);});}}[_0x4a13a(0x885)](_0x1ebfab,_0x4b9d73,..._0x3a5d0b){const _0x49aaff=_0x4a13a;if(console[_0x49aaff(0x77e)](new Date(),_0x1ebfab,_0x4b9d73,_0x3a5d0b),this[_0x49aaff(0xbc7)]){const _0x3fd656={'vendorId':this[_0x49aaff(0x649)],..._0x4b9d73};this[_0x49aaff(0xbc7)][_0x49aaff(0x761)](_0x452869=>{const _0x3a35dc=_0x49aaff;_0x452869[_0x3a35dc(0x77e)](_0x1ebfab,_0x3fd656);});}}[_0x4a13a(0x84b)](_0x3bc1cb){const _0x3344d8=_0x4a13a;return this[_0x3344d8(0x9bd)][_0x3344d8(0xa7f)](_0x3bc1cb);}async['commitBatch'](_0x10256f,_0x20c245=0x0){const _0x1e26b6=_0x4a13a;if(_0x10256f[_0x1e26b6(0x24b)]>0x0)try{return await _0x10256f[_0x1e26b6(0xbd2)][_0x1e26b6(0x49c)](),!0x0;}catch(_0x24e496){if(console[_0x1e26b6(0x33b)](_0x1e26b6(0x32d),_0x24e496,_0x1e26b6(0x35c),_0x10256f[_0x1e26b6(0x3c0)]),!(_0x20c245<this[_0x1e26b6(0x701)])){const {nodeId:_0x108bc8='',nodeType:_0xfa47ed='',clusterId:_0x19d563=''}=_0x10256f[_0x1e26b6(0x3c0)][0x0][_0x1e26b6(0x728)],_0x299e9d={'nodeId':_0x108bc8,'nodeType':_0xfa47ed,'clusterId':_0x19d563,'data':{'operations':_0x10256f[_0x1e26b6(0x3c0)],'error':_0x24e496}};return this[_0x1e26b6(0x33b)](_0x1e26b6(0x7f7),_0x299e9d),!0x1;}{const _0x9857e=this[_0x1e26b6(0x24e)](_0x10256f[_0x1e26b6(0x3c0)]);setTimeout(()=>this[_0x1e26b6(0x5ac)](_0x9857e,_0x20c245+0x1),this[_0x1e26b6(0xbe5)]*Math[_0x1e26b6(0x842)](0x2,_0x20c245));}}}[_0x4a13a(0x444)](){const _0x894ccc=_0x4a13a;try{Object[_0x894ccc(0x932)](_0x2e74f6)[_0x894ccc(0x761)](_0x4f84e0=>{const _0x5317f1=_0x894ccc,_0x25ff81=_0x4f84e0;localStorage[_0x5317f1(0x604)](_0x5317f1(0x7bd)+_0x2e74f6[_0x25ff81])&&(console[_0x5317f1(0x8b9)](_0x5317f1(0xb62),_0x2e74f6[_0x25ff81]),this[_0x5317f1(0x9bd)][_0x5317f1(0x247)](_0x2e74f6[_0x25ff81]));});}catch(_0x3ee9a6){}}[_0x4a13a(0xa51)](_0xda8356){const _0x1af342=_0x4a13a;return void 0x0!==_0xda8356[_0x1af342(0xb77)];}[_0x4a13a(0x56b)](){const _0x5df3a1=_0x4a13a;return{'batch':(0x0,_0x1264d4['writeBatch'])(_0x4c4338[_0x5df3a1(0x73a)]()),'operations':[],'counter':0x0};}[_0x4a13a(0x24e)](_0x5213dc){const _0x2d9671=_0x4a13a,_0xe91e93=(0x0,_0x1264d4[_0x2d9671(0x501)])(_0x4c4338['getFirestore']());return _0x5213dc[_0x2d9671(0x761)](_0x22cf41=>this[_0x2d9671(0x2ea)](_0xe91e93,_0x22cf41)),{'batch':_0xe91e93,'operations':_0x5213dc,'counter':_0x5213dc[_0x2d9671(0x454)]};}[_0x4a13a(0x2ea)](_0x4b1e89,_0x3cc65a){const _0x37e6f0=_0x4a13a;switch(_0x3cc65a[_0x37e6f0(0xbdd)]){case _0x37e6f0(0x2a7):_0x4b1e89['set'](_0x3cc65a[_0x37e6f0(0x9cf)],_0x3cc65a[_0x37e6f0(0x728)]);break;case _0x37e6f0(0xb4b):_0x4b1e89[_0x37e6f0(0xb4b)](_0x3cc65a[_0x37e6f0(0x9cf)],_0x3cc65a[_0x37e6f0(0x728)]);break;case _0x37e6f0(0xb18):_0x4b1e89[_0x37e6f0(0xb18)](_0x3cc65a['ref']);}}[_0x4a13a(0xa8b)](_0x524e49,_0x24e538){const _0x2a9308=_0x4a13a;this[_0x2a9308(0x253)]||(this[_0x2a9308(0x253)]=this[_0x2a9308(0x56b)]());const _0x2d50e5=(0x0,_0x1264d4[_0x2a9308(0x448)])((0x0,_0x1264d4[_0x2a9308(0x27b)])(_0x4c4338['getFirestore'](),_0x2a9308(0x7c0)+this[_0x2a9308(0x649)]+_0x2a9308(0x254))),_0x3684a1={..._0x24e538,'service':_0x524e49,'timestamp':(0x0,_0x1264d4[_0x2a9308(0xb1e)])()},_0x2cafbe={'type':_0x2a9308(0x2a7),'path':_0x2d50e5[_0x2a9308(0x49a)],'ref':_0x2d50e5,'data':_0x3684a1};return this[_0x2a9308(0x253)][_0x2a9308(0x3c0)][_0x2a9308(0x247)](_0x2cafbe),this['addBatchOperation'](this[_0x2a9308(0x253)][_0x2a9308(0xbd2)],_0x2cafbe),_0x2d50e5;}}const _0x260a6c=_0x5a56fc[_0x4a13a(0xb8d)]();function _0x2dbca4(_0x37e091,_0x152b5b){return'/'===_0x37e091?_0x37e091+_0x152b5b:_0x37e091+'/'+_0x152b5b;}function _0x361845(_0x3f9b39){const _0x537227=_0x4a13a,_0x19c1a0=function(_0x3c13e3){const _0x36d5a9=a0_0x2cf3;return _0x3c13e3[_0x36d5a9(0x3ca)]('/')[_0x36d5a9(0x675)](_0x453567=>_0x453567[_0x36d5a9(0x454)]>0x0);}(_0x3f9b39),_0x46ba02=_0x19c1a0['pop']()||'',_0x101fa6=_0x19c1a0[_0x537227(0x9ac)]('/');return[0x0===_0x101fa6[_0x537227(0x454)]?'/':_0x101fa6,_0x46ba02];}async function _0x4ae621(_0x19ca10){const _0x3b01db=_0x4a13a;let _0x31cece;const _0x1a63ee=_0x19ca10['size']/0x100000;_0x31cece=_0x1a63ee<=0xa?0x1:_0x1a63ee<=0x64?0.5:_0x1a63ee<=0x1f4?0.1:0.05;const _0x4dd3b0=Math[_0x3b01db(0x467)](_0x19ca10[_0x3b01db(0x7a7)]/_0x59c579),_0x4f3054=Math[_0x3b01db(0x467)](_0x4dd3b0*_0x31cece);let _0x5aed0e=new Uint8Array();for(let _0x3bc45a=0x0;_0x3bc45a<_0x4f3054;_0x3bc45a++){const _0xd53402=Math[_0x3b01db(0x268)](_0x3bc45a/_0x4f3054*_0x19ca10[_0x3b01db(0x7a7)]);let _0x447b18=_0xd53402+_0x59c579;_0x447b18>_0x19ca10[_0x3b01db(0x7a7)]&&(_0x447b18=_0x19ca10[_0x3b01db(0x7a7)]);const _0x354e42=_0x19ca10[_0x3b01db(0x420)](_0xd53402,_0x447b18),_0x3c3069=await _0x354e42[_0x3b01db(0x5f9)](),_0x22a105=new Uint8Array([..._0x5aed0e,...new Uint8Array(_0x3c3069)]);_0x5aed0e=new Uint8Array(await crypto[_0x3b01db(0x734)][_0x3b01db(0xb11)](_0x3b01db(0x3f1),_0x22a105));}return Array[_0x3b01db(0xad6)](new Uint8Array(_0x5aed0e))['map'](_0x1fd2aa=>_0x1fd2aa[_0x3b01db(0x366)](0x10)[_0x3b01db(0x266)](0x2,'0'))['join']('');}async function*_0x18495a(_0x1d1428,_0x3bcdc9=0x0,_0x19aeae){const _0x22a063=_0x4a13a;let _0x2f7652=_0x3bcdc9*_0x4e2e3f,_0x560e0a=_0x1d1428;for(;_0x2f7652<_0x560e0a[_0x22a063(0x7a7)];){let _0x2c7a6b=_0x2f7652+_0x4e2e3f;_0x2c7a6b>_0x560e0a[_0x22a063(0x7a7)]&&(_0x2c7a6b=_0x560e0a[_0x22a063(0x7a7)]);let _0x495bc0=0x0;for(;_0x495bc0<0x14;)try{await _0x19aeae?.();const _0x49cfce=_0x560e0a[_0x22a063(0x420)](_0x2f7652,_0x2c7a6b,_0x22a063(0x22b)),_0x103884=await _0x49cfce[_0x22a063(0x5f9)]();yield _0x103884,_0x2f7652=_0x2c7a6b,await new Promise(_0x4f0f5c=>setTimeout(_0x4f0f5c,0x0));break;}catch(_0x316355){if(console[_0x22a063(0x33b)](_0x22a063(0x6f6)+(_0x495bc0+0x1)+_0x22a063(0xb9d),_0x316355),_0x495bc0++,_0x495bc0>0x14)throw _0x316355;let _0x32e8d7=0x3e8*Math[_0x22a063(0x842)](0x2,_0x495bc0);_0x32e8d7>0x7530&&(_0x32e8d7=0x7530),await new Promise(_0x59a8d2=>setTimeout(_0x59a8d2,_0x32e8d7));}}}class _0x6375ab extends _0x19c50e{['outgoingTopic'];[_0x4a13a(0x43d)];[_0x4a13a(0x505)]=new Map();[_0x4a13a(0x333)]=0x0;[_0x4a13a(0xa84)]=0x0;[_0x4a13a(0x9f4)]=0x0;['bytesReceived']=0x0;constructor(_0xf401ba,_0x5aad02){super(_0xf401ba,_0x5aad02);}[_0x4a13a(0x287)](){return this['label'];}[_0x4a13a(0x534)](){const _0x27c99e=_0x4a13a;return this[_0x27c99e(0xaed)];}[_0x4a13a(0x743)](){const _0x41f5fb=_0x4a13a;return _0x52458b[_0x41f5fb(0x54c)][_0x41f5fb(0xbfd)];}[_0x4a13a(0x57a)](){const _0x4c0419=_0x4a13a;return this[_0x4c0419(0xaed)];}[_0x4a13a(0xb4f)](_0x5c5096){const _0x533b26=_0x4a13a;if(this[_0x533b26(0xbce)])throw new _0x240123(_0x240123['codes']['InvalidPublisher'],{'message':_0x533b26(0x3de)+this[_0x533b26(0xb9b)][_0x533b26(0xa47)]()+_0x533b26(0x6a9)+this[_0x533b26(0xaed)],'topic':this['outgoingTopic']});this[_0x533b26(0xbce)]=_0x5c5096;}[_0x4a13a(0xa1f)](_0x58d863){const _0x4642d0=_0x4a13a;if(this[_0x4642d0(0x43d)])throw new _0x240123(_0x240123[_0x4642d0(0x2f7)][_0x4642d0(0x651)],{'message':'Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20'+this[_0x4642d0(0xb9b)][_0x4642d0(0xa47)]()+_0x4642d0(0x6a9)+this[_0x4642d0(0xaed)],'topic':this[_0x4642d0(0x43d)]});this[_0x4642d0(0x43d)]=_0x58d863;}['unregisterPublisher'](){const _0x292e59=_0x4a13a;delete this[_0x292e59(0xbce)];}[_0x4a13a(0x6dd)](){delete this['incomingTopic'];}async[_0x4a13a(0x381)](_0x571332,_0x4dc616){const _0x55110b=_0x4a13a;if(_0x260a6c[_0x55110b(0x8b9)](_0x2e74f6['DataStream'],_0x55110b(0x76a),this['owner']['getId'](),_0x571332,_0x4dc616),this[_0x55110b(0x333)]+=0x1,_0x571332 instanceof File){const _0x11b67e=await async function(_0x478802){const _0x276108=_0x55110b,_0x3411df=[];for await(const _0x13209a of _0x18495a(_0x478802))_0x3411df[_0x276108(0x247)](_0x13209a);return _0x3411df;}(_0x571332);return this[_0x55110b(0x9f4)]+=_0x11b67e[_0x55110b(0x624)]((_0x12119c,_0x5011ae)=>_0x12119c+_0x5011ae[_0x55110b(0x4a8)],0x0),void _0x11b67e[_0x55110b(0x761)]((_0x23f0f8,_0xc49076)=>{const _0x1842e8=_0x55110b;this[_0x1842e8(0xbce)][_0x1842e8(0xa19)]({'sourceId':this[_0x1842e8(0xb9b)][_0x1842e8(0xa47)](),'destinationIds':_0x4dc616,'propagate':!0x0,'contentType':_0x52458b[_0x1842e8(0x54c)]['File'],'content':{'name':_0x571332['name'],'type':_0x571332['type'],'data':_0x23f0f8,'index':_0xc49076,'total':_0x11b67e['length']}});});}this['bytesSent']+=JSON[_0x55110b(0x320)](_0x571332)['length'],this[_0x55110b(0xbce)][_0x55110b(0xa19)]({'sourceId':this[_0x55110b(0xb9b)][_0x55110b(0xa47)](),'destinationIds':_0x4dc616,'propagate':!0x0,'contentType':_0x52458b[_0x55110b(0x54c)][_0x55110b(0xbfd)],'content':_0x571332});}[_0x4a13a(0x3b0)](_0xcd1ac1){const _0x2e687e=_0x4a13a;return this['incomingTopic'][_0x2e687e(0x7a8)](_0x37509f=>{const _0x280d8b=_0x2e687e;switch(_0x260a6c['log'](_0x2e74f6[_0x280d8b(0x6f8)],_0x280d8b(0x5f0),this['owner'][_0x280d8b(0xa47)](),_0x37509f),_0x37509f['contentType']){case _0x52458b[_0x280d8b(0x54c)]['Data']:this[_0x280d8b(0xa84)]+=0x1,this[_0x280d8b(0x325)]+=JSON[_0x280d8b(0x320)](_0x37509f['content'])[_0x280d8b(0x454)],_0xcd1ac1(_0x37509f[_0x280d8b(0x8f9)],_0x37509f[_0x280d8b(0x816)]);break;case _0x52458b[_0x280d8b(0x54c)][_0x280d8b(0xa75)]:this[_0x280d8b(0x505)]['has'](_0x37509f[_0x280d8b(0x816)][_0x280d8b(0xbbd)])||this[_0x280d8b(0x505)][_0x280d8b(0x2a7)](_0x37509f[_0x280d8b(0x816)][_0x280d8b(0xbbd)],{'chunksReceived':0x0,'bytesReceived':0x0,'checksum':'','content':[]});const _0x1250ba=this[_0x280d8b(0x505)]['get'](_0x37509f['content']['name']);if(_0x1250ba[_0x280d8b(0xc3d)]+=0x1,_0x1250ba['bytesReceived']+=_0x37509f[_0x280d8b(0x816)][_0x280d8b(0x728)][_0x280d8b(0x4a8)],_0x1250ba[_0x280d8b(0x816)]&&(_0x1250ba[_0x280d8b(0x816)][_0x37509f['content'][_0x280d8b(0x315)]]=_0x37509f[_0x280d8b(0x816)][_0x280d8b(0x728)]),this[_0x280d8b(0x505)][_0x280d8b(0x2a7)](_0x37509f['content'][_0x280d8b(0xbbd)],_0x1250ba),_0x1250ba[_0x280d8b(0xc3d)]+0x1<_0x37509f[_0x280d8b(0x816)]['total'])return;this['messagesReceived']+=0x1,this[_0x280d8b(0x325)]+=_0x1250ba[_0x280d8b(0x325)],_0x1250ba[_0x280d8b(0x816)]&&_0xcd1ac1(_0x37509f[_0x280d8b(0x8f9)],(_0x4d1cb6=_0x1250ba[_0x280d8b(0x816)],_0x460636=_0x37509f[_0x280d8b(0x816)][_0x280d8b(0xbbd)],_0x282721=_0x37509f[_0x280d8b(0x816)]['type'],new File(_0x4d1cb6,_0x460636,{'type':_0x282721}))),this[_0x280d8b(0x505)][_0x280d8b(0xb18)](_0x37509f[_0x280d8b(0x816)]['name']);}var _0x4d1cb6,_0x460636,_0x282721;});}}function _0x47b7f3(){const _0x3356ea=_0x4a13a;let _0x3bce05=[];return{'subscribe':_0x527a12=>(_0x3bce05[_0x3356ea(0x247)](_0x527a12),()=>{const _0x4c3194=_0x3356ea;_0x3bce05=_0x3bce05[_0x4c3194(0x675)](_0x164dd9=>_0x164dd9!==_0x527a12);}),'publish':_0x30c9bb=>{_0x3bce05['forEach'](_0x25e309=>_0x25e309(_0x30c9bb));}};}function _0x49ee5e(){let _0x5abf68;return{'subscribe':_0xb7e4f7=>(_0x5abf68=_0xb7e4f7,()=>{_0x5abf68=void 0x0;}),'publish':_0x573aa3=>{_0x5abf68&&_0x5abf68(_0x573aa3);}};}class _0x2831ae{[_0x4a13a(0x4d6)];[_0x4a13a(0x787)];[_0x4a13a(0x489)];[_0x4a13a(0xac8)]=_0x49ee5e();[_0x4a13a(0x612)];constructor(_0x752d5e,_0xe01a6c,_0x38a200){const _0x1d111f=_0x4a13a;this[_0x1d111f(0x4d6)]=_0x752d5e,this[_0x1d111f(0x787)]=_0xe01a6c,this['tableObserver']=_0x38a200;}[_0x4a13a(0x888)](){const _0xc2c731=_0x4a13a;this[_0xc2c731(0x612)]?.();}async[_0x4a13a(0x68c)](_0x254c63){const _0x192177=_0x4a13a,_0x55aad2={'key':_0x254c63,'tableName':this[_0x192177(0x787)],'action':_0x24aa23[_0x192177(0x47d)]};return this[_0x192177(0x489)]['publish'](_0x55aad2),this[_0x192177(0x4d6)][_0x192177(0x68c)](_0x254c63);}async['set'](_0x35f06e,_0xb93257,_0x2d3472=!0x0){const _0x343bd3=_0x4a13a;this[_0x343bd3(0x53c)](_0xb93257);const _0x47228d=await this['connector'][_0x343bd3(0x68c)](_0x35f06e),_0xb982d5=await this['connector'][_0x343bd3(0x2a7)](_0x35f06e,_0xb93257),_0x215627=_0x47228d?_0x2d38c6[_0x343bd3(0x3fd)]:_0x2d38c6['Add'];if(this[_0x343bd3(0xa19)](_0x215627,_0xb982d5),!_0x2d3472)return _0xb982d5;const _0x2c651d={'key':_0x35f06e,'tableName':this[_0x343bd3(0x787)],'action':_0x215627,'value':_0xb982d5};return this['tableObserver'][_0x343bd3(0xa19)](_0x2c651d),_0xb982d5;}async[_0x4a13a(0xc09)](_0x12a4d2){const _0x218936=_0x4a13a;this[_0x218936(0x53c)](_0x12a4d2);const _0x43886e=await this[_0x218936(0x4d6)][_0x218936(0xc09)](_0x12a4d2),_0x23f836={'key':_0x43886e['id'],'tableName':this[_0x218936(0x787)],'action':_0x2d38c6['Add'],'value':_0x43886e};return this[_0x218936(0x489)][_0x218936(0xa19)](_0x23f836),this[_0x218936(0xa19)](_0x23f836['action'],_0x43886e),_0x43886e;}async[_0x4a13a(0xb18)](_0x404871,_0x2bcb6c=!0x0){const _0x1e3ec1=_0x4a13a,_0x4d4aed=await this[_0x1e3ec1(0x4d6)][_0x1e3ec1(0x68c)](_0x404871);if(!_0x4d4aed)return;await this[_0x1e3ec1(0x4d6)][_0x1e3ec1(0xb18)](_0x404871);const _0x3395c5=_0x2d38c6[_0x1e3ec1(0x873)];if(this[_0x1e3ec1(0xa19)](_0x3395c5,_0x4d4aed),!_0x2bcb6c)return;const _0x4339e8={'key':_0x404871,'tableName':this[_0x1e3ec1(0x787)],'action':_0x3395c5,'value':_0x4d4aed};this[_0x1e3ec1(0x489)]['publish'](_0x4339e8);}async[_0x4a13a(0xb0f)](){const _0x5534f8=_0x4a13a,_0x515056=await this[_0x5534f8(0xb07)]();for(const _0x4248fc of _0x515056){const _0xc5b8ef=_0x2d38c6['Delete'];this[_0x5534f8(0xa19)](_0xc5b8ef,_0x4248fc);const _0x4d1e3a={'key':_0x4248fc['id'],'tableName':this[_0x5534f8(0x787)],'action':_0xc5b8ef,'value':_0x4248fc};this[_0x5534f8(0x489)]['publish'](_0x4d1e3a);}return this[_0x5534f8(0x4d6)]['clear']();}async['list'](_0x50f239){const _0x4b036f=_0x4a13a,_0x57c408={'key':'','tableName':this[_0x4b036f(0x787)],'action':_0x24aa23[_0x4b036f(0x944)]};this[_0x4b036f(0x489)][_0x4b036f(0xa19)](_0x57c408);try{_0x50f239&&(_0x50f239=_0x50f239 instanceof _0x248ac0?_0x50f239[_0x4b036f(0x66d)]():_0x248ac0['buildQuery'](_0x50f239)['getQuery']());}catch(_0x5a3e08){throw new _0x298b29(_0x404249[_0x4b036f(0x83f)],_0x4b036f(0x551));}try{return await this[_0x4b036f(0x4d6)][_0x4b036f(0xb07)](_0x50f239);}catch(_0x10be56){let _0x1541db=_0x4b036f(0x551);throw _0x10be56 instanceof Error&&(_0x1541db=_0x10be56[_0x4b036f(0x5c1)]),new _0x298b29(_0x404249['KeyValueDatabaseInvalidQuery'],_0x1541db);}}async['count'](_0x38cb34){const _0x31b120=_0x4a13a,_0x2f82f7={'key':'','tableName':this[_0x31b120(0x787)],'action':_0x24aa23['Count']};this[_0x31b120(0x489)][_0x31b120(0xa19)](_0x2f82f7);try{_0x38cb34&&(_0x38cb34=_0x38cb34 instanceof _0x248ac0?_0x38cb34[_0x31b120(0x66d)]():_0x248ac0['buildQuery'](_0x38cb34)['getQuery']());}catch(_0x216596){throw new _0x298b29(_0x404249[_0x31b120(0x83f)],'Invalid\x20query');}try{return await this[_0x31b120(0x4d6)][_0x31b120(0x3f6)](_0x38cb34);}catch(_0x3f108f){let _0x25436f=_0x31b120(0x551);throw _0x3f108f instanceof Error&&(_0x25436f=_0x3f108f['message']),new _0x298b29(_0x404249[_0x31b120(0x83f)],_0x25436f);}}[_0x4a13a(0xa04)](){const _0x2e39e0=_0x4a13a;return this[_0x2e39e0(0x4d6)][_0x2e39e0(0xa04)]();}[_0x4a13a(0x7a8)](_0x9337f){const _0x4e4d8b=_0x4a13a;this['listenerUnsubscriber']=this[_0x4e4d8b(0xac8)]['subscribe'](_0x9337f);}[_0x4a13a(0x3bf)](){const _0x55a7bc=_0x4a13a;this[_0x55a7bc(0x612)]?.();}[_0x4a13a(0xa19)](_0x41745c,_0x3dbc2c){const _0x2a29e3=_0x4a13a,_0x2bbb3b=this[_0x2a29e3(0x201)](_0x41745c,_0x3dbc2c);this[_0x2a29e3(0xac8)]['publish'](_0x2bbb3b);}[_0x4a13a(0x201)](_0x5856ec,_0x73b1eb){const _0x47de92=_0x4a13a;let _0x39a803;switch(_0x5856ec){case _0x2d38c6[_0x47de92(0xc02)]:_0x39a803=_0x47de92(0xc09);break;case _0x2d38c6[_0x47de92(0x3fd)]:_0x39a803=_0x47de92(0xb4b);break;case _0x2d38c6[_0x47de92(0x873)]:_0x39a803=_0x47de92(0xb18);}return{'action':_0x39a803,'value':_0x73b1eb};}['validateValue'](_0x2e0557){const _0x2131e6=_0x4a13a;if('object'!=typeof _0x2e0557||null===_0x2e0557)throw new _0x298b29(_0x404249[_0x2131e6(0x8d1)],'Invalid\x20value.\x20Must\x20be\x20an\x20object.');for(const _0x31722a in _0x2e0557){const _0x26d69b=_0x2e0557[_0x31722a];if('object'!=typeof _0x26d69b||_0x26d69b instanceof Date){if(!['string','number',_0x2131e6(0xc45)][_0x2131e6(0xa7f)](typeof _0x26d69b))throw new _0x298b29(_0x404249[_0x2131e6(0x8d1)],_0x2131e6(0x667)+_0x31722a+_0x2131e6(0x2c0));}else this[_0x2131e6(0x53c)](_0x26d69b);}}}class _0x13a9ca{['peaks']=[];[_0x4a13a(0x862)]=0x0;[_0x4a13a(0x576)]=[];[_0x4a13a(0x4ff)]=!0x1;[_0x4a13a(0x80f)]=null;[_0x4a13a(0x2bc)]=null;[_0x4a13a(0x96b)];['readyResolve']=null;['readyPromises']=[];[_0x4a13a(0xaea)];[_0x4a13a(0x357)]=Promise[_0x4a13a(0x203)]();[_0x4a13a(0x82c)]=0x0;constructor(){}get[_0x4a13a(0x7eb)](){const _0x369c0b=_0x4a13a;return this[_0x369c0b(0x357)];}async[_0x4a13a(0x317)](_0x534f3f,_0x31b131=0x0){const _0x3a4155=_0x4a13a;this['readyResolve']||(this[_0x3a4155(0x357)]=new Promise(_0x302d8a=>{const _0x227b22=_0x3a4155;this[_0x227b22(0x8ed)]=_0x302d8a;}),this['expectedTransactions']=_0x31b131);const _0x2ad49a=Date[_0x3a4155(0xad3)]();if(this['isComputingMMR'])return void this[_0x3a4155(0x576)][_0x3a4155(0x247)](_0x534f3f);this['isComputingMMR']=!0x0;let _0x5c208e={'hash':await this[_0x3a4155(0x97a)](_0x534f3f),'height':0x0};const _0x54e879=this[_0x3a4155(0x3e6)](_0x5c208e);this[_0x3a4155(0x372)]['push'](_0x54e879),await _0x54e879,this['totalNodes']+=0x1;const _0x5056b8=this[_0x3a4155(0x576)][_0x3a4155(0x454)];for(;this[_0x3a4155(0x576)][_0x3a4155(0x454)]>0x0;){const _0x4f6ff7=this[_0x3a4155(0x576)][_0x3a4155(0xc23)]();await this[_0x3a4155(0x317)](_0x4f6ff7);}this['debounceReady'](),await this[_0x3a4155(0x7eb)],this[_0x3a4155(0x631)](_0x2ad49a,_0x5056b8);}async[_0x4a13a(0x318)](){const _0x5a8bd3=_0x4a13a;return await this[_0x5a8bd3(0x357)],this[_0x5a8bd3(0x4ff)]?(this[_0x5a8bd3(0x2bc)]||(this[_0x5a8bd3(0x2bc)]=this['recomputeRoot']()),await this[_0x5a8bd3(0x2bc)]):this[_0x5a8bd3(0x80f)];}[_0x4a13a(0x276)](){const _0x531599=_0x4a13a;return this[_0x531599(0x930)][_0x531599(0x275)](({hash:_0x4dc1bf,height:_0x953040})=>({'hash':_0x4dc1bf,'height':_0x953040}));}[_0x4a13a(0x2db)](){const _0x35fea2=_0x4a13a;return this[_0x35fea2(0x862)];}[_0x4a13a(0xa1a)](_0x55b206){const _0x28cceb=_0x4a13a;return this[_0x28cceb(0x930)]['find'](_0x509592=>_0x509592['height']===_0x55b206);}async[_0x4a13a(0x64b)](_0xc9828e,_0x3820da){return await this['computeHash'](_0xc9828e+_0x3820da);}async[_0x4a13a(0x97a)](_0x1ad2b7){const _0x537894=_0x4a13a;return await this[_0x537894(0x73d)](JSON[_0x537894(0x320)](_0x1ad2b7));}[_0x4a13a(0x431)](_0x1272ac){const _0xd4d54b=_0x4a13a,_0x4efc24=this[_0xd4d54b(0x276)](),_0x42fd36=[],_0x1fa8ff=[],_0x1162db=[];for(const _0x127810 of _0x4efc24){const _0x10ec4d=_0x1272ac[_0xd4d54b(0x319)](_0x5154f1=>_0x5154f1[_0xd4d54b(0x571)]===_0x127810[_0xd4d54b(0x571)]);_0x10ec4d?_0x127810[_0xd4d54b(0x54d)]!==_0x10ec4d[_0xd4d54b(0x54d)]&&_0x42fd36[_0xd4d54b(0x247)]({'height':_0x127810['height'],'localPeak':_0x127810,'remotePeak':_0x10ec4d}):_0x1fa8ff['push'](_0x127810);}for(const _0x260272 of _0x1272ac)_0x4efc24['find'](_0x39ffea=>_0x39ffea['height']===_0x260272[_0xd4d54b(0x571)])||_0x1162db['push'](_0x260272);return{'differingPeaks':_0x42fd36,'peaksMissingInRemote':_0x1fa8ff,'peaksMissingInLocal':_0x1162db};}async[_0x4a13a(0x902)](){const _0x2501cd=_0x4a13a;this[_0x2501cd(0x4ff)]=!0x0;const _0x39506e=this[_0x2501cd(0x930)]['map'](_0x3426e9=>_0x3426e9['hash']);return this[_0x2501cd(0x80f)]=await this[_0x2501cd(0x2fc)](_0x39506e),this[_0x2501cd(0x4ff)]=!0x1,this[_0x2501cd(0x2bc)]=null,this[_0x2501cd(0xa01)](),this['cachedRoot'];}async[_0x4a13a(0x73d)](_0x14a40e){const _0x472cf7=_0x4a13a;try{const _0x52dc69=new TextEncoder()[_0x472cf7(0x6e8)](_0x14a40e),_0x26e034=await crypto[_0x472cf7(0x734)]['digest'](_0x472cf7(0x3f1),_0x52dc69);return Array[_0x472cf7(0xad6)](new Uint8Array(_0x26e034))[_0x472cf7(0x275)](_0x26f78a=>_0x26f78a['toString'](0x10)['padStart'](0x2,'0'))[_0x472cf7(0x9ac)]('');}catch(_0x112343){return console['error']('Hash\x20computation\x20failed,\x20retrying...',_0x112343),this[_0x472cf7(0x73d)](_0x14a40e);}}async[_0x4a13a(0x2fc)](_0x2aab00){const _0x2b5ed8=_0x4a13a;return await this[_0x2b5ed8(0x73d)](_0x2aab00[_0x2b5ed8(0x9ac)](''));}async[_0x4a13a(0x3e6)](_0x5a213e){const _0x436c71=_0x4a13a;for(;this[_0x436c71(0x930)]['length']>0x0&&this[_0x436c71(0x930)][this[_0x436c71(0x930)][_0x436c71(0x454)]-0x1][_0x436c71(0x571)]===_0x5a213e[_0x436c71(0x571)];){const _0x4afe8c=this[_0x436c71(0x930)]['pop']();_0x5a213e={'hash':await this[_0x436c71(0x64b)](_0x4afe8c[_0x436c71(0x54d)],_0x5a213e[_0x436c71(0x54d)]),'left':_0x4afe8c,'right':_0x5a213e,'height':_0x5a213e[_0x436c71(0x571)]+0x1};}this[_0x436c71(0x930)]['push'](_0x5a213e),await this[_0x436c71(0x902)]();}['debounceAppendLog'](_0x2b8037,_0x324518){const _0x4ad6fa=_0x4a13a;if(!_0x260a6c[_0x4ad6fa(0x84b)](_0x2e74f6[_0x4ad6fa(0xba3)]))return;this[_0x4ad6fa(0x96b)]&&clearTimeout(this[_0x4ad6fa(0x96b)]);const _0x15bbf2=Date[_0x4ad6fa(0xad3)]();this[_0x4ad6fa(0x96b)]=setTimeout(()=>_0x260a6c[_0x4ad6fa(0x8b9)](_0x2e74f6[_0x4ad6fa(0xba3)],_0x4ad6fa(0x252),this[_0x4ad6fa(0x80f)],'nodes',this[_0x4ad6fa(0x2db)](),_0x4ad6fa(0x3a3),_0x324518,_0x4ad6fa(0xb21),_0x15bbf2-_0x2b8037),0x7d0);}['debounceReady'](){const _0x36a8ca=_0x4a13a;this[_0x36a8ca(0xaea)]&&clearTimeout(this[_0x36a8ca(0xaea)]),this[_0x36a8ca(0xaea)]=setTimeout(async()=>{const _0x3c0176=_0x36a8ca;try{const _0x15e00c=this[_0x3c0176(0x372)];if(this[_0x3c0176(0x372)]=[],await Promise['all'](_0x15e00c),this[_0x3c0176(0x82c)]-=_0x15e00c[_0x3c0176(0x454)],this['readyPromises'][_0x3c0176(0x454)]>0x0||this['expectedTransactions']>0x0)return this[_0x3c0176(0xa01)]();this[_0x3c0176(0x8ed)]&&(this['readyResolve'](),this[_0x3c0176(0x8ed)]=null),this[_0x3c0176(0x357)]=Promise[_0x3c0176(0x203)](),this[_0x3c0176(0x4ff)]=!0x1;}catch(_0x5135b2){console[_0x3c0176(0x33b)](_0x3c0176(0x8e3),_0x5135b2);}},0xa);}}const _0x4372f6=[_0x4a13a(0x99b),_0x4a13a(0x4d9),_0x4a13a(0xbf2),_0x4a13a(0xa53),'Stats','Detection',_0x4a13a(0x401)],_0x2270e2=[[_0x4a13a(0xaeb),_0x4a13a(0xa14),'Handshake',_0x4a13a(0x88b),_0x4a13a(0x627),_0x4a13a(0x705),_0x4a13a(0x6f3),'Stats','OptimizationConnectionSuccess'],[_0x4a13a(0xa3c),_0x4a13a(0x7a0),_0x4a13a(0x86d),_0x4a13a(0x23c)],[_0x4a13a(0x473),_0x4a13a(0xb44),_0x4a13a(0x1ed),_0x4a13a(0x39f),_0x4a13a(0x70f),'CloseMediaStream',_0x4a13a(0x61d),_0x4a13a(0x819),_0x4a13a(0x23e),_0x4a13a(0xa15),_0x4a13a(0x4d4),_0x4a13a(0xab4),'GraphDatabaseStats',_0x4a13a(0xa5c),_0x4a13a(0x6bf),'KeyValueDatabaseRequestPeakTransactions',_0x4a13a(0x93e),_0x4a13a(0x86b),'KeyValueDatabaseStats',_0x4a13a(0xbb2),_0x4a13a(0x617),'ObjectStoreStats',_0x4a13a(0xaaa),'PublishMediaStream',_0x4a13a(0xaf3),'SubscribeMediaStream',_0x4a13a(0x577),_0x4a13a(0x7e3),_0x4a13a(0x2cc),_0x4a13a(0x786)],[_0x4a13a(0xb12),_0x4a13a(0x2cc),_0x4a13a(0x4c5),_0x4a13a(0xc07),'CannotProvideMediaStream',_0x4a13a(0xc10)],[_0x4a13a(0x586),_0x4a13a(0x71b)],[_0x4a13a(0x753)],[_0x4a13a(0x401),_0x4a13a(0x456)]];function _0x4d1c2d(_0x903fa3){const _0x2bdf02=_0x4a13a;return{..._0x903fa3,'systemMessageType':_0x4372f6[_0x903fa3[_0x2bdf02(0x5d4)]],'systemContentMessageType':_0x2270e2[_0x903fa3[_0x2bdf02(0x5d4)]][_0x903fa3[_0x2bdf02(0x816)][_0x2bdf02(0xbdd)]]};}const _0x324f8a={'hour':_0x4a13a(0x361),'minute':_0x4a13a(0x361),'second':_0x4a13a(0x361)};function _0x298199(_0x44cd0c,_0x392534){const _0x267710=_0x4a13a,_0x5aec4c=(function(){const _0x1574d1=a0_0x2cf3,_0x8525cf=new Date(),_0x333235=_0x8525cf[_0x1574d1(0x373)](),_0x37b309=_0x8525cf[_0x1574d1(0xbe9)](_0x1574d1(0x740),_0x324f8a)['match'](/\d\d:\d\d:\d\d/)?.[0x0];return _0x37b309+'.'+(_0x333235>0x64?''+_0x333235:_0x333235>0xa?'0'+_0x333235:'00'+_0x333235);}()),{sourceId:_0x3dd6ba,destinationIds:_0x5679ad,systemMessageType:_0x37fea7,systemContentMessageType:_0x25225d}=_0x4d1c2d(_0x44cd0c);return _0x5aec4c+'\x20-\x20'+_0x392534+_0x267710(0x6a9)+(_0x3dd6ba===_0x392534?_0x267710(0x92a)+_0x37fea7+_0x267710(0x8e1)+(_0x5679ad?''+_0x5679ad:_0x267710(0x47e)):_0x44cd0c['sourceId']===_0x2d73b4?'Internal\x20event\x20\x27'+_0x37fea7+'\x27':(_0x5679ad?'':'Everyone\x20')+_0x267710(0x74e)+_0x37fea7+_0x267710(0x5fd)+_0x3dd6ba)+'\x20with\x20\x27'+_0x25225d+_0x267710(0xa8c);}function _0x44ff85(_0x13b21e,_0x45427b){const _0x5115ad=_0x4a13a;if(!_0x260a6c[_0x5115ad(0x84b)](_0x13b21e))return;if(_0x2fd4ca[_0x5115ad(0x3bc)])return;if(_0x5115ad(0x240)==typeof process)return;const _0x2d2675=process[_0x5115ad(0x5fc)]();console[_0x5115ad(0x8b9)](_0x5115ad(0x890)+_0x45427b+':');for(const _0x10a028 in _0x2d2675)console[_0x5115ad(0x8b9)]('\x20\x20'+_0x10a028+':\x20'+(_0x2d2675[_0x10a028]/0x400/0x400)[_0x5115ad(0x9e1)](0x2)+_0x5115ad(0x6f9));}function _0x389830(_0x10ba89,_0x10a03d){const _0xb57765=_0x4a13a;if(!_0x260a6c[_0xb57765(0x84b)](_0x10a03d))return _0x260a6c[_0xb57765(0xb15)](_0xb57765(0x1ea)+_0x10a03d),{'timingLogger':{'start':()=>{},'now':()=>0x0,'logWaitTime':()=>{}},'logger':{'log':()=>{},'performCalculation':(_0x2293b6,_0x5aa41b)=>_0x5aa41b}};let _0x52610c=0x0;return{'timingLogger':((()=>{const _0x41cb1b=_0xb57765;let _0x4fcb89=Date[_0x41cb1b(0xad3)]();return{'start':()=>{const _0xc63406=_0x41cb1b;_0x4fcb89=Date[_0xc63406(0xad3)]();},'now':()=>Date[_0x41cb1b(0xad3)](),'logWaitTime':_0x403835=>{const _0xb9a5b3=_0x41cb1b;_0x52610c+=Date['now']()-_0x4fcb89,_0x260a6c[_0xb9a5b3(0x8b9)](_0x10a03d,_0x403835,_0x52610c+'ms',_0x10ba89);}};})()),'logger':{'log':(_0x1c6357,_0x13c7d7=()=>{})=>{const _0x564024=_0xb57765,_0x4af81d=_0x13c7d7();_0x4af81d?_0x260a6c[_0x564024(0x8b9)](_0x10a03d,_0x1c6357,_0x4af81d,_0x10ba89):_0x260a6c[_0x564024(0x8b9)](_0x10a03d,_0x1c6357,_0x10ba89);},'performCalculation':(_0x4b3920,_0x576972)=>_0x4b3920()}};}function _0x2a514c(_0x4c85ee){const _0x4f76b5=_0x4a13a;return'undefined'==typeof Buffer?0x0:Buffer[_0x4f76b5(0x4a8)](JSON[_0x4f76b5(0x320)](_0x4c85ee),_0x4f76b5(0x969));}function _0x4b2003(_0x2cd095){const _0x5d53d8=_0x4a13a;if(0x0===_0x2cd095)return _0x5d53d8(0x8b6);const _0x187154=Math[_0x5d53d8(0x268)](Math['log'](_0x2cd095)/Math[_0x5d53d8(0x8b9)](0x400));return parseFloat((_0x2cd095/Math[_0x5d53d8(0x842)](0x400,_0x187154))[_0x5d53d8(0x9e1)](0x2))+'\x20'+['B','KB','MB','GB','TB'][_0x187154];}class _0x5d82a0 extends _0x6375ab{[_0x4a13a(0xc4d)];[_0x4a13a(0x88f)];['vendorId'];['isNodeReady'];['db'];['dbKey'];['tables']=new Map();[_0x4a13a(0x489)];[_0x4a13a(0x709)];['tableUnsubscriber'];['isSync'];[_0x4a13a(0xaf4)];[_0x4a13a(0x626)]=[];[_0x4a13a(0x59d)]=()=>{};[_0x4a13a(0x7e4)];[_0x4a13a(0xac8)]=_0x49ee5e();[_0x4a13a(0x612)];[_0x4a13a(0x72d)]=[];[_0x4a13a(0x8c0)];[_0x4a13a(0x46c)];[_0x4a13a(0x8c7)]=0x0;[_0x4a13a(0x7c2)]=0x0;[_0x4a13a(0x6c8)]=!0x1;[_0x4a13a(0x4e0)]=new _0x13a9ca();[_0x4a13a(0xafc)]=new Map();[_0x4a13a(0x8d0)]=[];['debounceRebuildMMR'];['transactionsToAppend']=[];[_0x4a13a(0x7dd)];constructor(_0x6bbdd8,_0x4048ce,_0x233ec2,_0x1de13f,_0x3c91fd,_0x14edcc,_0x2c3c79){const _0x33b6c2=_0x4a13a;if(_0x33b6c2(0x924)!=typeof _0x4048ce)throw new _0x298b29(_0x404249['KeyValueDatabaseNameNotString'],'Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string');if(super(_0x6bbdd8,_0x4048ce),this[_0x33b6c2(0xc4d)]=_0x6bbdd8,this[_0x33b6c2(0x88f)]=_0x233ec2,this[_0x33b6c2(0x649)]=_0x1de13f,this[_0x33b6c2(0x9f8)]=_0x2c3c79,this[_0x33b6c2(0x9ab)]=_0x33b6c2(0x38e)+this['vendorId']+_0x33b6c2(0x38e)+this[_0x33b6c2(0x88f)]+'ccc'+this[_0x33b6c2(0xaed)],this[_0x33b6c2(0x489)]=_0x49ee5e(),this[_0x33b6c2(0x7dd)]=function(_0x5e30de,_0x109663){const _0x1605e9=_0x33b6c2;if(!_0x260a6c[_0x1605e9(0x84b)](_0x109663))return _0x260a6c[_0x1605e9(0xb15)](_0x1605e9(0x1ea)+_0x109663),{..._0x389830(_0x5e30de,_0x109663),'logDataSent':()=>0x0,'logDataReceived':()=>0x0,'getDataLogged':()=>({'dataSent':'0\x20B','dataReceived':_0x1605e9(0x8b6)})};const {timingLogger:_0x53d6d1,logger:_0x599531}=_0x389830(_0x5e30de,_0x109663);let _0x827603=0x0,_0x808ca4=0x0;return{'timingLogger':_0x53d6d1,'logger':_0x599531,'logDataSent':(_0x26cc1a,_0xa56a78=!0x1)=>{const _0x196854=_0x1605e9,_0x132690=_0x2a514c(_0x26cc1a);return _0xa56a78&&_0x260a6c[_0x196854(0x8b9)](_0x109663,_0x196854(0xaee),_0x5e30de,_0x132690),_0x827603+=_0x132690,_0x132690;},'logDataReceived':(_0x26dab0,_0x761b89=!0x1)=>{const _0x1b8027=_0x1605e9,_0x33db1b=_0x2a514c(_0x26dab0);return _0x761b89&&_0x260a6c[_0x1b8027(0x8b9)](_0x109663,_0x1b8027(0x85f),_0x5e30de,_0x33db1b),_0x808ca4+=_0x33db1b,_0x33db1b;},'getDataLogged':()=>({'dataSent':_0x4b2003(_0x827603),'dataReceived':_0x4b2003(_0x808ca4)})};}(this[_0x33b6c2(0xaed)],_0x2e74f6[_0x33b6c2(0xba3)]),this['isSync']=new Promise(_0x5897dd=>{const _0x199a5b=_0x33b6c2;this[_0x199a5b(0xaf4)]=_0x5897dd;}),_0x3c91fd instanceof _0x465c05)this[_0x33b6c2(0x8c0)]=_0x3c91fd[_0x33b6c2(0xbcb)]();else{const [_0x585824,_0xb0747b]=_0x465c05['validateLayout'](_0x3c91fd);if(!_0x585824)throw new _0x298b29(_0x404249['KeyValueDatabaseInvalidLayout'],_0x33b6c2(0x6cd)+_0xb0747b);this['layout']=structuredClone(_0x3c91fd);}this[_0x33b6c2(0x4ac)](this[_0x33b6c2(0x8c0)]),this['db']=new _0x14edcc(this['dbKey'],this['layout']),this[_0x33b6c2(0x6d7)]();}async[_0x4a13a(0x725)](_0x56d063,_0x36ded0){const _0x53e472=_0x4a13a;if(_0x260a6c['log'](_0x2e74f6[_0x53e472(0xba3)],_0x53e472(0x450),this[_0x53e472(0xaed)]),!this['transactionTable'])throw new _0x240123(_0x240123[_0x53e472(0x2f7)][_0x53e472(0xbb7)]);if(await this[_0x53e472(0x259)],await this['isNodeReady'](_0x56d063),await this[_0x53e472(0x4e0)][_0x53e472(0x318)]()===_0x36ded0){const _0x182d11={'sourceId':this[_0x53e472(0xc4d)][_0x53e472(0xa47)](),'destinationIds':[_0x56d063],'propagate':!0x0,'messageType':_0x29c5a4[_0x53e472(0xbf2)],'content':{'type':_0x1c17a1[_0x53e472(0x6bf)],'label':this[_0x53e472(0xaed)],'mmrRoot':_0x36ded0}};return this[_0x53e472(0x7dd)][_0x53e472(0x4c3)](_0x182d11),void this[_0x53e472(0x525)][_0x53e472(0xa19)](_0x182d11);}const _0x5ef08b=this['mmr'][_0x53e472(0x276)](),_0x4c4d7d={'sourceId':this[_0x53e472(0xc4d)][_0x53e472(0xa47)](),'destinationIds':[_0x56d063],'propagate':!0x0,'messageType':_0x29c5a4[_0x53e472(0xbf2)],'content':{'type':_0x1c17a1[_0x53e472(0xa5c)],'label':this['label'],'peaks':_0x5ef08b}};this['loggingCycle']['logDataSent'](_0x4c4d7d),this[_0x53e472(0x525)][_0x53e472(0xa19)](_0x4c4d7d);}async[_0x4a13a(0x462)](_0x62b8f1,_0x1e41d6){const _0xd29ab9=_0x4a13a,_0x2d47a4=await this['mmr'][_0xd29ab9(0x318)](),_0x569ad9=_0x2d47a4===_0x1e41d6;if(_0x260a6c[_0xd29ab9(0x8b9)](_0x2e74f6[_0xd29ab9(0xba3)],_0xd29ab9(0xbca)+_0x62b8f1+_0xd29ab9(0x359)+_0x569ad9,this[_0xd29ab9(0xaed)]),_0x569ad9)return this['clearSyncTimeout'](),void this[_0xd29ab9(0x6fc)]();_0x260a6c[_0xd29ab9(0x8b9)](_0x2e74f6[_0xd29ab9(0xba3)],_0xd29ab9(0xa0d),_0x2d47a4,_0x1e41d6),_0x260a6c[_0xd29ab9(0x885)](_0xd29ab9(0xa0d),{'nodeId':this['localNode'][_0xd29ab9(0xa47)](),'nodeType':this['localNode']['type'],'remoteId':_0x62b8f1,'data':{'localMMRRoot':_0x2d47a4,'remoteMMRRoot':_0x1e41d6}});const _0x2c11ff={'sourceId':this[_0xd29ab9(0xc4d)][_0xd29ab9(0xa47)](),'messageType':_0x29c5a4[_0xd29ab9(0xbf2)],'propagate':!0x0,'content':{'type':_0x1c17a1[_0xd29ab9(0xbb2)],'label':this[_0xd29ab9(0xaed)],'mmrRoot':_0x2d47a4}};this[_0xd29ab9(0x525)][_0xd29ab9(0xa19)](_0x2c11ff);}async['processContentAvailable'](_0x27049f,_0x2416e2){const _0x4a93b9=_0x4a13a;if(_0x260a6c[_0x4a93b9(0x8b9)](_0x2e74f6[_0x4a93b9(0xba3)],_0x4a93b9(0x7ec),_0x27049f,'label',this[_0x4a93b9(0xaed)],_0x4a93b9(0x930),_0x2416e2),this[_0x4a93b9(0x6c8)])return;this[_0x4a93b9(0x6c8)]=!0x0,this[_0x4a93b9(0xb96)]();const {differingPeaks:_0x5f5d3b,peaksMissingInLocal:_0x20beb8,peaksMissingInRemote:_0x4740e8}=this['mmr'][_0x4a93b9(0x431)](_0x2416e2);_0x260a6c[_0x4a93b9(0x8b9)](_0x2e74f6[_0x4a93b9(0xba3)],_0x4a93b9(0x7be),{'differingPeaks':_0x5f5d3b,'peaksMissingInLocal':_0x20beb8,'peaksMissingInRemote':_0x4740e8});const _0x11169e={'sourceId':this[_0x4a93b9(0xc4d)]['getId'](),'destinationIds':[_0x27049f],'propagate':!0x0,'messageType':_0x29c5a4['Content'],'content':{'type':_0x1c17a1[_0x4a93b9(0x71e)],'label':this['label'],'peakHeights':_0x20beb8[_0x4a93b9(0x275)](_0x4042d0=>_0x4042d0[_0x4a93b9(0x571)])[_0x4a93b9(0x9dd)](_0x5f5d3b[_0x4a93b9(0x275)](_0x2b262d=>_0x2b262d[_0x4a93b9(0x571)]))}};if(this['systemTopic'][_0x4a93b9(0xa19)](_0x11169e),_0x5f5d3b[_0x4a93b9(0x454)]>0x0||_0x4740e8['length']>0x0){const _0x79c2af=_0x4740e8[_0x4a93b9(0x275)](_0x5a8752=>_0x5a8752[_0x4a93b9(0x571)])[_0x4a93b9(0x9dd)](_0x5f5d3b[_0x4a93b9(0x275)](_0x231e2a=>_0x231e2a[_0x4a93b9(0x571)]));await this['sendPeakTransactions'](_0x27049f,_0x79c2af,!0x0);}}async[_0x4a13a(0x61c)](_0x4eb17c,_0x280e90,_0x38a62d=!0x1){const _0x5713f3=_0x4a13a;_0x260a6c[_0x5713f3(0x8b9)](_0x2e74f6[_0x5713f3(0xba3)],_0x5713f3(0x34f),this[_0x5713f3(0xaed)]);const _0x5327be=_0x280e90[_0x5713f3(0x275)](_0x421583=>this[_0x5713f3(0x4e0)][_0x5713f3(0xa1a)](_0x421583))[_0x5713f3(0x675)](Boolean);if(!_0x5327be['length']||_0x280e90[_0x5713f3(0x454)]!==_0x5327be[_0x5713f3(0x454)])throw new _0x240123(_0x240123['codes'][_0x5713f3(0x74a)],{'message':_0x5713f3(0x66a),'peakHeights':_0x280e90,'peaks':_0x5327be[_0x5713f3(0x275)](_0x4843c7=>_0x4843c7[_0x5713f3(0x571)]),'nodeId':_0x4eb17c});const _0x2915f4=[];for(const _0x32f250 of _0x5327be)this[_0x5713f3(0x70b)](_0x32f250,_0x2915f4);const _0x5b49fb=_0x38a62d?void 0x0:[_0x4eb17c],_0x2a1a08={'sourceId':this[_0x5713f3(0xc4d)][_0x5713f3(0xa47)](),'destinationIds':_0x5b49fb,'messageType':_0x29c5a4[_0x5713f3(0xbf2)],'propagate':!0x0,'content':{'type':_0x1c17a1[_0x5713f3(0x86b)],'label':this[_0x5713f3(0xaed)],'transactions':_0x2915f4}};this[_0x5713f3(0x7dd)][_0x5713f3(0x4c3)](_0x2a1a08),this[_0x5713f3(0x525)][_0x5713f3(0xa19)](_0x2a1a08);}async['processReceivedTransactions'](_0x2c12a9,_0x345a31){const _0x2374d3=_0x4a13a;_0x260a6c['log'](_0x2e74f6['KeyValueDatabase'],_0x2374d3(0xa59)+_0x345a31['length']+_0x2374d3(0xb82)+_0x2c12a9+_0x2374d3(0x6a9)+this[_0x2374d3(0xaed)]);for(const _0x447217 of _0x345a31){const _0x5e5350=await this[_0x2374d3(0x709)][_0x2374d3(0x68c)](_0x447217['id']);if(!(_0x5e5350&&this['compareTransactions'](_0x5e5350,_0x447217)>=0x0)){if(_0x447217[_0x2374d3(0x395)]===_0x2d38c6['Delete']){const [_0x47c0eb,_0xab751a]=_0x447217['id'][_0x2374d3(0x3ca)]('::'),_0x49b438=this[_0x2374d3(0x894)](_0x47c0eb);await _0x49b438[_0x2374d3(0xb18)](_0xab751a);}else this[_0x2374d3(0x626)]['push'](_0x447217['id']);}}if(_0x260a6c[_0x2374d3(0x8b9)](_0x2e74f6[_0x2374d3(0xba3)],_0x2374d3(0x7fb)+this[_0x2374d3(0x626)][_0x2374d3(0x454)]+_0x2374d3(0xb0a),this['label']),this[_0x2374d3(0x626)]['length']>0x0){const _0x2d2e9f={'sourceId':this['localNode'][_0x2374d3(0xa47)](),'destinationIds':[_0x2c12a9],'messageType':_0x29c5a4[_0x2374d3(0xbf2)],'propagate':!0x0,'content':{'type':_0x1c17a1[_0x2374d3(0x93e)],'label':this[_0x2374d3(0xaed)],'transactionIds':this['transactionsToSync']}};this[_0x2374d3(0x7dd)][_0x2374d3(0x4c3)](_0x2d2e9f),this[_0x2374d3(0x525)][_0x2374d3(0xa19)](_0x2d2e9f);}}[_0x4a13a(0x56f)](){this['sendStats']();}[_0x4a13a(0x743)](){const _0x1a43c9=_0x4a13a;return _0x52458b[_0x1a43c9(0x54c)][_0x1a43c9(0xba3)];}[_0x4a13a(0x888)](){const _0x3da2f4=_0x4a13a;this['db']['close'](),this[_0x3da2f4(0x8c1)]?.(),clearTimeout(this[_0x3da2f4(0x46c)]),delete this['debounceStats'],super[_0x3da2f4(0x888)]();}[_0x4a13a(0x935)](){const _0x35a1de=_0x4a13a;this[_0x35a1de(0xb96)](),this['systemTopic'][_0x35a1de(0xa19)]({'sourceId':_0x2d73b4,'messageType':_0x29c5a4[_0x35a1de(0xbf2)],'content':{'type':_0x1c17a1[_0x35a1de(0x70f)],'label':this[_0x35a1de(0xaed)]}});}['getTable'](_0x3525f4){const _0x1ca76a=_0x4a13a,_0x212ad5=this[_0x1ca76a(0xbc0)]['get'](_0x3525f4);if(_0x212ad5)return _0x212ad5;try{if(!this['db'][_0x1ca76a(0x508)](_0x3525f4))throw new _0x298b29(_0x404249[_0x1ca76a(0xace)],'Table\x20not\x20found');const _0x329462=new _0x2831ae(this['db'][_0x1ca76a(0x65c)](_0x3525f4),_0x3525f4,this['tableObserver']);return this[_0x1ca76a(0xbc0)][_0x1ca76a(0x2a7)](_0x3525f4,_0x329462),{'get':_0x329462[_0x1ca76a(0x68c)][_0x1ca76a(0x65d)](_0x329462),'set':_0x329462[_0x1ca76a(0x2a7)][_0x1ca76a(0x65d)](_0x329462),'add':_0x329462[_0x1ca76a(0xc09)][_0x1ca76a(0x65d)](_0x329462),'delete':_0x329462[_0x1ca76a(0xb18)][_0x1ca76a(0x65d)](_0x329462),'clear':_0x329462[_0x1ca76a(0xb0f)][_0x1ca76a(0x65d)](_0x329462),'list':_0x329462[_0x1ca76a(0xb07)][_0x1ca76a(0x65d)](_0x329462),'count':_0x329462[_0x1ca76a(0x3f6)][_0x1ca76a(0x65d)](_0x329462),'subscribe':_0x329462[_0x1ca76a(0x7a8)][_0x1ca76a(0x65d)](_0x329462),'unsubscribe':_0x329462[_0x1ca76a(0x3bf)]['bind'](_0x329462)};}catch(_0x1dbcd0){if(_0x1dbcd0 instanceof _0x298b29)throw _0x1dbcd0;throw new _0x298b29(_0x404249[_0x1ca76a(0xb23)],'Database\x20not\x20open');}}[_0x4a13a(0x7a8)](_0x5e84f5){const _0x262f98=_0x4a13a;this[_0x262f98(0x612)]=this['eventListener'][_0x262f98(0x7a8)](_0x5e84f5),this[_0x262f98(0x83d)](this[_0x262f98(0x259)])[_0x262f98(0x5d1)](_0x39f085=>{const _0x1b35d9=_0x262f98;_0x39f085&&this[_0x1b35d9(0xac8)]['publish']({'event':_0x52458b[_0x1b35d9(0x8de)][_0x1b35d9(0x52a)]});});}[_0x4a13a(0x3bf)](){const _0x51640b=_0x4a13a;this[_0x51640b(0x612)]?.(),this[_0x51640b(0x612)]=void 0x0;}async[_0x4a13a(0x4f0)](){const _0x359a93=_0x4a13a;_0x44ff85(_0x2e74f6[_0x359a93(0xba3)],_0x359a93(0x51c));const _0x3e82b4=[_0x506491,_0xece89a],_0x4bfbb9=[];try{await this['db'][_0x359a93(0x4f0)]();const _0x454876=this['db'][_0x359a93(0x65c)](_0xece89a),_0x207877=await _0x454876['list'](),{id:_0x264881,layout:_0x345396}=_0x207877[0x0]??{};if(_0x345396){for(const _0x5e6bca in _0x345396)_0x3e82b4[_0x359a93(0xa7f)](_0x5e6bca)||this['db']['hasTable'](_0x5e6bca)||_0x4bfbb9[_0x359a93(0x247)](_0x5e6bca);await _0x454876[_0x359a93(0x2a7)](_0x264881,{'layout':this[_0x359a93(0x8c0)]});}else await _0x454876[_0x359a93(0xc09)]({'layout':this['layout']});}catch(_0x4d834f){throw new _0x298b29(_0x404249['KeyValueDatabaseNotOpen'],_0x4d834f['message']||_0x359a93(0x706));}this[_0x359a93(0xac7)](),await this[_0x359a93(0xad1)](),this[_0x359a93(0x622)](),this['setOnTableWriteHandler'](),_0x4bfbb9['forEach'](_0x3cb97c=>this[_0x359a93(0xbc3)](_0x3cb97c));}async[_0x4a13a(0x6f0)](_0x4434d4,_0x39d7eb=()=>{},_0x283597=!0x1){const _0x1e3e72=_0x4a13a;if(!_0x4434d4)return setTimeout(()=>{this['clearSyncTimeout'](),this['publishSyncCompleted']();},0x0),!0x0;if(this['contentRequestSent']=!0x1,this[_0x1e3e72(0x59d)]=_0x39d7eb,this[_0x1e3e72(0x7e4)]=setTimeout(_0x39d7eb,0x7d0),!this[_0x1e3e72(0x525)])throw new _0x240123(_0x240123[_0x1e3e72(0x2f7)][_0x1e3e72(0xbee)]);const _0x516b62=await this[_0x1e3e72(0x4e0)]['getRoot'](),_0x5018ca={'sourceId':this[_0x1e3e72(0xc4d)][_0x1e3e72(0xa47)](),'messageType':_0x29c5a4['Content'],'propagate':_0x283597,'content':{'type':_0x1c17a1['KeyValueDatabaseSyncRequired'],'label':this['label'],'mmrRoot':_0x516b62}};return this['loggingCycle'][_0x1e3e72(0x4c3)](_0x5018ca),this['systemTopic'][_0x1e3e72(0xa19)](_0x5018ca),this[_0x1e3e72(0x259)];}async[_0x4a13a(0x52f)](_0x40d78c,_0x2dae24){const _0x4f4f8d=_0x4a13a;if(_0x260a6c[_0x4f4f8d(0x8b9)](_0x2e74f6[_0x4f4f8d(0xba3)],_0x4f4f8d(0x6ca)+_0x2dae24[_0x4f4f8d(0x454)],this[_0x4f4f8d(0xaed)]),!this[_0x4f4f8d(0x709)])throw new _0x240123(_0x240123[_0x4f4f8d(0x2f7)][_0x4f4f8d(0xbb7)]);for(const _0x18fa05 of _0x2dae24){const _0xcdb1b6=await this[_0x4f4f8d(0x709)][_0x4f4f8d(0x68c)](_0x18fa05);if(!_0xcdb1b6)continue;const [_0x3ff8a5,_0xc168ff]=_0x18fa05[_0x4f4f8d(0x3ca)]('::'),_0xf951d7=this[_0x4f4f8d(0x894)](_0x3ff8a5),_0x3332e9=await _0xf951d7['get'](_0xc168ff);_0x3332e9?(_0xcdb1b6[_0x4f4f8d(0x1db)]=_0x3332e9,this['send'](_0xcdb1b6,[_0x40d78c])):_0x260a6c['warning'](_0x4f4f8d(0x93f),{'nodeId':this[_0x4f4f8d(0xc4d)]['getId'](),'nodeType':this[_0x4f4f8d(0xc4d)][_0x4f4f8d(0xbdd)],'remoteId':_0x40d78c,'data':{'tableKeys':Object[_0x4f4f8d(0x932)](this['tables']),'transactionId':_0x18fa05,'transactions':this[_0x4f4f8d(0x626)],'tableName':_0x3ff8a5,'key':_0xc168ff}});}}async[_0x4a13a(0x499)](_0x39b790){const _0x50c5fd=_0x4a13a;if(!this[_0x50c5fd(0x709)])throw new _0x240123(_0x240123[_0x50c5fd(0x2f7)][_0x50c5fd(0xbb7)]);const _0x26572b=await this[_0x50c5fd(0x4e0)][_0x50c5fd(0x97a)](_0x39b790),_0x59551d=this[_0x50c5fd(0xafc)]['get'](_0x26572b);if(_0x59551d&&this[_0x50c5fd(0x21e)](_0x39b790,_0x59551d)<=0x0)return void _0x260a6c['log'](_0x2e74f6['KeyValueDatabase'],_0x50c5fd(0xb2b),_0x39b790);const _0x17e047={..._0x39b790};return delete _0x17e047[_0x50c5fd(0x1db)],this['debounceRebuildMMRWithTransaction'](_0x17e047),await this[_0x50c5fd(0x709)][_0x50c5fd(0x2a7)](_0x39b790['id'],_0x17e047),_0x39b790;}[_0x4a13a(0x21e)](_0x28c6dc,_0x5ccecd){const _0x481f07=_0x4a13a;return _0x28c6dc[_0x481f07(0xb08)]!==_0x5ccecd['timestamp']?_0x28c6dc[_0x481f07(0xb08)]-_0x5ccecd[_0x481f07(0xb08)]:_0x28c6dc[_0x481f07(0x3e9)]-_0x5ccecd['priority'];}async[_0x4a13a(0xbc9)](_0x25371b){const _0xda73c6=_0x4a13a;if(!this[_0xda73c6(0x709)])throw new _0x240123(_0x240123['codes'][_0xda73c6(0xbb7)]);const _0x1fa9c1=_0x25371b[_0xda73c6(0x787)]+'::'+_0x25371b[_0xda73c6(0xb68)],_0x47af79=await _0x4c4338['getEstimatedTimestamp'](),_0x1cf449={'id':_0x1fa9c1,'priority':Math[_0xda73c6(0x949)](),'timestamp':_0x47af79,'action':_0x25371b['action']};if(await this['writeTransaction'](_0x1cf449))return _0x1cf449;}async[_0x4a13a(0xbc3)](_0x4a7cbd){const _0x47aa3d=_0x4a13a;if(!this['transactionTable'])throw new _0x240123(_0x240123[_0x47aa3d(0x2f7)][_0x47aa3d(0xbb7)]);const _0x2cefbd=_0x248ac0[_0x47aa3d(0x315)]('id')[_0x47aa3d(0x4c2)](_0x47aa3d(0x593),[_0x4a7cbd+'::',_0x4a7cbd+'::ï¿¿']),_0x4d2356=await this[_0x47aa3d(0x709)][_0x47aa3d(0xb07)](_0x2cefbd[_0x47aa3d(0x66d)]());for(const _0x38e6e8 of _0x4d2356)await this[_0x47aa3d(0x709)]['delete'](_0x38e6e8['id']);}['setOnMessageHandler'](){const _0xc2bf0b=_0x4a13a;this[_0xc2bf0b(0x3b0)](async(_0x5a3ce1,_0x1ba682)=>{const _0x5aab30=_0xc2bf0b;if(_0x1ba682 instanceof File)return;if(this[_0x5aab30(0x7dd)]['logDataReceived'](_0x1ba682),!await this['writeTransaction'](_0x1ba682))return void this[_0x5aab30(0x751)](_0x5a3ce1,_0x1ba682);if(!_0x1ba682[_0x5aab30(0x1db)])throw new _0x240123(_0x240123[_0x5aab30(0x2f7)][_0x5aab30(0x903)]);const [_0x5ac213,_0x2ebe94]=_0x1ba682['id'][_0x5aab30(0x3ca)]('::'),_0x35ff14=this[_0x5aab30(0x894)](_0x5ac213);if(!_0x35ff14)throw new _0x240123(_0x240123[_0x5aab30(0x2f7)][_0x5aab30(0x6c0)],{'table':_0x35ff14});let _0x2aebd7=0x0;switch(_0x1ba682['action']){case _0x2d38c6[_0x5aab30(0xc02)]:case _0x2d38c6[_0x5aab30(0x3fd)]:{const _0x730032=_0x35ff14['set'](_0x2ebe94,_0x1ba682[_0x5aab30(0x1db)],!0x1);_0x2aebd7=JSON['stringify'](_0x1ba682[_0x5aab30(0x1db)])[_0x5aab30(0x454)],this['transactionsToSync'][_0x5aab30(0xa7f)](_0x1ba682['id'])&&this['syncTransactionsWritten'][_0x5aab30(0x247)](_0x730032);break;}case _0x2d38c6['Delete']:{const _0x6f88ab=_0x35ff14[_0x5aab30(0xb18)](_0x2ebe94,!0x1);this[_0x5aab30(0x626)][_0x5aab30(0xa7f)](_0x1ba682['id'])&&this[_0x5aab30(0x72d)][_0x5aab30(0x247)](_0x6f88ab);break;}}_0x260a6c[_0x5aab30(0xa93)](_0x108d83[_0x5aab30(0xba3)],{'type':'sync','label':this[_0x5aab30(0xaed)],'nodeId':this[_0x5aab30(0xc4d)][_0x5aab30(0xa47)](),'nodeType':this[_0x5aab30(0xc4d)]['type'],'clusterId':this[_0x5aab30(0x88f)],'tableName':_0x5ac213,'key':_0x2ebe94,'size':_0x2aebd7}),this[_0x5aab30(0x751)](_0x5a3ce1,_0x1ba682);});}[_0x4a13a(0x218)](){const _0x5d15ea=_0x4a13a;this[_0x5d15ea(0x8c1)]=this['tableObserver'][_0x5d15ea(0x7a8)](async _0x921f64=>{const _0x5aa433=_0x5d15ea;let _0x2b1d94=0x0;switch(_0x921f64['action']){case _0x2d38c6[_0x5aa433(0xc02)]:case _0x2d38c6['Update']:case _0x2d38c6[_0x5aa433(0x873)]:{const _0x518eb6=await this[_0x5aa433(0xbc9)](_0x921f64);if(!_0x518eb6)return;_0x518eb6[_0x5aa433(0x1db)]=_0x921f64[_0x5aa433(0x1db)],this['send'](_0x518eb6),_0x2b1d94=JSON[_0x5aa433(0x320)](_0x921f64['value'])[_0x5aa433(0x454)],this['writes']+=0x1;break;}case _0x24aa23[_0x5aa433(0x47d)]:case _0x24aa23['List']:case _0x24aa23['Count']:this[_0x5aa433(0x7c2)]+=0x1;}_0x260a6c[_0x5aa433(0xa93)](_0x108d83['KeyValueDatabase'],{'type':_0x921f64['action'],'label':this[_0x5aa433(0xaed)],'nodeId':this[_0x5aa433(0xc4d)]['getId'](),'nodeType':this[_0x5aa433(0xc4d)][_0x5aa433(0xbdd)],'clusterId':this[_0x5aa433(0x88f)],'tableName':_0x921f64[_0x5aa433(0x787)],'key':_0x921f64[_0x5aa433(0xb68)],'size':_0x2b1d94}),this[_0x5aa433(0x6d7)]();});}[_0x4a13a(0xac7)](){const _0x137189=_0x4a13a;this['db']&&(this['transactionTable']||(this['transactionTable']=this['db'][_0x137189(0x65c)](_0x506491)));}['clearSyncTimeout'](){this['syncTimeout']&&(clearTimeout(this['syncTimeout']),delete this['syncTimeout']);}async[_0x4a13a(0x6fc)](){const _0x588be3=_0x4a13a;await this['mmr']['ready'],this[_0x588be3(0x50a)](),this[_0x588be3(0xac8)][_0x588be3(0xa19)]({'event':_0x52458b['DatabaseEvent'][_0x588be3(0x52a)]}),this[_0x588be3(0xaf4)]?.(!0x0),delete this[_0x588be3(0xaf4)],this[_0x588be3(0x6d7)](),_0x260a6c[_0x588be3(0x8b9)](_0x2e74f6['KeyValueDatabase'],'Sync\x20completed',this['label']);}async[_0x4a13a(0x94f)](_0x824e42){const _0x15bbc9=_0x4a13a;await Promise['all'](this[_0x15bbc9(0x72d)]),_0x260a6c[_0x15bbc9(0x8b9)](_0x2e74f6[_0x15bbc9(0xba3)],_0x15bbc9(0xafa)+this[_0x15bbc9(0x72d)]['length']+'\x20writes\x20from\x20'+_0x824e42+_0x15bbc9(0x63b),this['label']),await this[_0x15bbc9(0x4e0)][_0x15bbc9(0x7eb)],await this[_0x15bbc9(0x400)](_0x824e42),await this[_0x15bbc9(0x6fc)]();}[_0x4a13a(0x751)](_0x517711,_0x5712cd){const _0x318c99=_0x4a13a;this[_0x318c99(0x626)]['includes'](_0x5712cd['id'])&&(this[_0x318c99(0xb96)](),this[_0x318c99(0x626)]=this['transactionsToSync'][_0x318c99(0x675)](_0x5dd7fc=>_0x5dd7fc!==_0x5712cd['id']),0x0!==this[_0x318c99(0x626)][_0x318c99(0x454)]?this[_0x318c99(0x7e4)]=setTimeout(this[_0x318c99(0x59d)],0x7d0):this[_0x318c99(0x94f)](_0x517711));}[_0x4a13a(0x6d7)](){const _0x1de48d=_0x4a13a;this[_0x1de48d(0x46c)]&&clearTimeout(this[_0x1de48d(0x46c)]),this[_0x1de48d(0x46c)]=setTimeout(async()=>{const _0x492681=_0x1de48d;delete this[_0x492681(0x46c)];let _0x58aa56=0x0;for(const _0x2073a9 of this[_0x492681(0xbc0)][_0x492681(0x331)]())_0x58aa56+=await _0x2073a9[_0x492681(0xa04)]();this['systemTopic'][_0x492681(0xa19)]({'sourceId':_0x2d73b4,'messageType':_0x29c5a4['Content'],'content':{'type':_0x1c17a1['KeyValueDatabaseStats'],'label':this[_0x492681(0xaed)],'stats':{'timestamp':Date[_0x492681(0xad3)](),'storage':_0x58aa56,'messagesSent':this[_0x492681(0x333)],'messagesReceived':this[_0x492681(0xa84)],'bytesSent':this[_0x492681(0x9f4)],'bytesReceived':this['bytesReceived'],'writes':this[_0x492681(0x8c7)],'reads':this[_0x492681(0x7c2)],'prompts':0x0,'tokens':0x0}}}),_0x260a6c[_0x492681(0x242)](_0x108d83['KeyValueDatabase'],'ccc'+this['clusterId']+'ccc'+this[_0x492681(0xaed)],_0x58aa56);},_0x476143);}[_0x4a13a(0x4ac)](_0x3852eb){const _0x1de01c=_0x4a13a;if(_0x3852eb[_0x1de01c(0xbc0)][_0x506491])throw new _0x298b29(_0x404249[_0x1de01c(0x7bc)],_0x1de01c(0x8ea)+_0x506491+'\x27\x20reserved');if(_0x3852eb[_0x1de01c(0xbc0)][_0xece89a])throw new _0x298b29(_0x404249[_0x1de01c(0x7bc)],'Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27'+_0xece89a+_0x1de01c(0xa78));_0x3852eb['tables'][_0x506491]={'indexes':[]},_0x3852eb[_0x1de01c(0xbc0)][_0xece89a]={'indexes':[]};}async[_0x4a13a(0x83d)](_0x54c535){const _0x5407ae=_0x4a13a;return Promise['race']([_0x54c535,Promise[_0x5407ae(0x203)](_0x5407ae(0x936))])[_0x5407ae(0x5d1)](_0x4db283=>_0x5407ae(0x936)!==_0x4db283);}async[_0x4a13a(0x400)](_0x4f9149){const _0x4c2b19=_0x4a13a;await this[_0x4c2b19(0x9ea)]();const _0x2e9a9f=await this[_0x4c2b19(0x4e0)]['getRoot'](),_0x15096a={'sourceId':this[_0x4c2b19(0xc4d)][_0x4c2b19(0xa47)](),'destinationIds':[_0x4f9149],'propagate':!0x0,'messageType':_0x29c5a4[_0x4c2b19(0xbf2)],'content':{'type':_0x1c17a1[_0x4c2b19(0x6bf)],'label':this[_0x4c2b19(0xaed)],'mmrRoot':_0x2e9a9f}};this['systemTopic']['publish'](_0x15096a);}async['buildInitialMMR'](){const _0x3c9d98=_0x4a13a;if(!this[_0x3c9d98(0x709)])throw new _0x240123(_0x240123[_0x3c9d98(0x2f7)]['KeyValueDatabaseTransactionTableNotInitialized']);this[_0x3c9d98(0x8d0)]=await this['transactionTable'][_0x3c9d98(0xb07)](),this[_0x3c9d98(0x8d0)]['sort'](this['compareTransactions']),this[_0x3c9d98(0x4e0)]=new _0x13a9ca(),this[_0x3c9d98(0xafc)]=new Map();for(const _0x5d39e7 of this[_0x3c9d98(0x8d0)])this[_0x3c9d98(0x2d0)](_0x5d39e7,this[_0x3c9d98(0x8d0)][_0x3c9d98(0x454)]);this['logInitialMMR']();}async[_0x4a13a(0x2d0)](_0x147e03,_0x8255c){const _0x5da225=_0x4a13a,_0x26bf2e={..._0x147e03};delete _0x26bf2e['value'],await this['mmr'][_0x5da225(0x317)](_0x26bf2e,_0x8255c);const _0x27e5e4=await this[_0x5da225(0x4e0)]['hashTransaction'](_0x26bf2e);this[_0x5da225(0xafc)][_0x5da225(0x2a7)](_0x27e5e4,_0x147e03);}['getTransactionByHash'](_0xb70a3e){const _0x27dfdf=_0x4a13a;return this[_0x27dfdf(0xafc)][_0x27dfdf(0x68c)](_0xb70a3e);}[_0x4a13a(0x70b)](_0x1bd369,_0x10a8b4){const _0x287b0c=_0x4a13a;if(0x0!==_0x1bd369[_0x287b0c(0x571)])_0x1bd369[_0x287b0c(0xc0f)]&&this['collectTransactionsFromNode'](_0x1bd369[_0x287b0c(0xc0f)],_0x10a8b4),_0x1bd369[_0x287b0c(0x563)]&&this[_0x287b0c(0x70b)](_0x1bd369['right'],_0x10a8b4);else{const _0x21b87d=this['getTransactionByHash'](_0x1bd369[_0x287b0c(0x54d)]);_0x21b87d&&_0x10a8b4[_0x287b0c(0x247)](_0x21b87d);}}async[_0x4a13a(0x438)](){const _0x473a6c=_0x4a13a;this[_0x473a6c(0x457)]&&(clearTimeout(this['debounceRebuildMMR']),delete this[_0x473a6c(0x457)],this[_0x473a6c(0x2f0)][_0x473a6c(0x454)]>0x0&&(this[_0x473a6c(0x8d0)][_0x473a6c(0x247)](...this[_0x473a6c(0x2f0)][_0x473a6c(0xbde)](this[_0x473a6c(0x21e)])),this[_0x473a6c(0x2f0)]=[]));const _0x21f2c4=this[_0x473a6c(0x290)]();this['mmr']=new _0x13a9ca(),this[_0x473a6c(0xafc)]['clear'](),this[_0x473a6c(0x8d0)][_0x473a6c(0xbde)](this[_0x473a6c(0x21e)]);for(const _0x5ef0c0 of this[_0x473a6c(0x8d0)])this[_0x473a6c(0x2d0)](_0x5ef0c0,this[_0x473a6c(0x8d0)]['length']);await this[_0x473a6c(0x4e0)][_0x473a6c(0x7eb)],this[_0x473a6c(0xa54)](_0x21f2c4);}['startLoggingCycle'](){const _0x374f20=_0x4a13a;return this[_0x374f20(0x7dd)][_0x374f20(0x2d5)][_0x374f20(0x63c)](async()=>{const _0x3238a0=_0x374f20,_0x42b202=await this[_0x3238a0(0x4e0)][_0x3238a0(0x318)]();return{'startTime':Date[_0x3238a0(0xad3)](),'initialRoot':_0x42b202};},Promise['resolve']({'startTime':0x0,'initialRoot':''}));}async[_0x4a13a(0xa54)](_0x1899d8){const _0x5e6a6a=_0x4a13a;try{const {startTime:_0x5256b7,initialRoot:_0x4fcb2e}=await _0x1899d8,_0x86d061=await this[_0x5e6a6a(0x4e0)]['getRoot'](),_0x18af09=[_0x5e6a6a(0x963)+(_0x4fcb2e!==_0x86d061),_0x5e6a6a(0x301)+_0x4fcb2e,_0x5e6a6a(0x37b)+_0x86d061,'\x0a\x20\x20===\x20Total\x20Nodes:\x20'+this[_0x5e6a6a(0x4e0)]['getTotalNodes'](),_0x5e6a6a(0x849)+(Date[_0x5e6a6a(0xad3)]()-_0x5256b7)+'\x20ms\x0a'][_0x5e6a6a(0x9ac)]('\x20');this['loggingCycle'][_0x5e6a6a(0x2d5)][_0x5e6a6a(0x8b9)]('',()=>_0x18af09);}catch(_0x10a0a4){console[_0x5e6a6a(0x33b)](_0x5e6a6a(0x909),_0x10a0a4);}}[_0x4a13a(0x6f2)](_0x2b8aa5){const _0x49ce5a=_0x4a13a;this['transactionsToAppend']['push'](_0x2b8aa5),this[_0x49ce5a(0x457)]&&(clearTimeout(this[_0x49ce5a(0x457)]),delete this['debounceRebuildMMR']),this['debounceRebuildMMR']=setTimeout(()=>{this['processTransactionsToComputeMMR']();},0x3e8);}async['processTransactionsToComputeMMR'](){const _0x3931d8=_0x4a13a;if(this[_0x3931d8(0x457)]&&(clearTimeout(this[_0x3931d8(0x457)]),delete this['debounceRebuildMMR']),0x0!==this[_0x3931d8(0x2f0)]['length']){if(0x0===this['transactions']['length'])return this[_0x3931d8(0x8d0)]=this[_0x3931d8(0x2f0)],this[_0x3931d8(0x2f0)]=[],await this[_0x3931d8(0x438)]();if(this[_0x3931d8(0x2f0)]['sort'](this[_0x3931d8(0x21e)]),this['compareTransactions'](this[_0x3931d8(0x2f0)][0x0],this[_0x3931d8(0x8d0)][this['transactions'][_0x3931d8(0x454)]-0x1])>0x0){this[_0x3931d8(0x7dd)][_0x3931d8(0x2d5)][_0x3931d8(0x8b9)](_0x3931d8(0x43e)+this[_0x3931d8(0x2f0)]['length']+_0x3931d8(0x7aa)+this[_0x3931d8(0x8d0)][_0x3931d8(0x454)]);for(const _0x4d1000 of this[_0x3931d8(0x2f0)])this[_0x3931d8(0x8d0)][_0x3931d8(0x247)](_0x4d1000),this[_0x3931d8(0x2d0)](_0x4d1000,this[_0x3931d8(0x2f0)]['length']);return this['transactionsToAppend']=[],void this['loggingCycle']['logger'][_0x3931d8(0x8b9)](_0x3931d8(0x3ba),async()=>'New\x20MMR\x20Root:\x20'+await this[_0x3931d8(0x4e0)][_0x3931d8(0x318)]()+_0x3931d8(0x5f4)+this[_0x3931d8(0x4e0)][_0x3931d8(0x2db)]());}this[_0x3931d8(0x7dd)][_0x3931d8(0x2d5)][_0x3931d8(0x8b9)](_0x3931d8(0x677)+this[_0x3931d8(0x2f0)]['length']+_0x3931d8(0x7aa)+this['transactions'][_0x3931d8(0x454)]),this[_0x3931d8(0x8d0)]['push'](...this['transactionsToAppend']),this[_0x3931d8(0x2f0)]=[],this[_0x3931d8(0x438)]();}}async[_0x4a13a(0x50a)](){const _0x148f50=_0x4a13a;if(!_0x260a6c[_0x148f50(0x84b)](_0x2e74f6['KeyValueDatabase']))return;await this['mmr'][_0x148f50(0x7eb)];const {dataSent:_0x1fe510,dataReceived:_0x53fca8}=this[_0x148f50(0x7dd)]['getDataLogged']();_0x260a6c['log'](_0x2e74f6[_0x148f50(0xba3)],_0x148f50(0x5f2),this[_0x148f50(0xaed)],_0x148f50(0x976)+_0x1fe510,_0x148f50(0x68e)+_0x53fca8,_0x148f50(0x4ae),await this[_0x148f50(0x4e0)]['getRoot'](),_0x148f50(0x9a2),this[_0x148f50(0x4e0)][_0x148f50(0x2db)]());}async[_0x4a13a(0x874)](){const _0x5ed36b=_0x4a13a;if(!_0x260a6c['isChannelEnabled'](_0x2e74f6[_0x5ed36b(0xba3)]))return;const _0xc3fdce=this[_0x5ed36b(0x4e0)][_0x5ed36b(0x276)](),_0x5cbd1b=_0xc3fdce[_0x5ed36b(0x275)](_0x4cf91a=>_0x4cf91a['height']),_0x1329e6=await this['mmr'][_0x5ed36b(0x318)]();_0x260a6c['log'](_0x2e74f6[_0x5ed36b(0xba3)],_0x5ed36b(0x32b),this[_0x5ed36b(0x8d0)][_0x5ed36b(0x454)],_0x5ed36b(0x8d0),this[_0x5ed36b(0x4e0)][_0x5ed36b(0x2db)](),_0x5ed36b(0x862),_0xc3fdce['length'],_0x5ed36b(0x930),_0x5cbd1b,_0x5ed36b(0x3a2),_0x1329e6);}}const _0x589d99=require('@crewdle/mist-connector-opfs'),_0x4cb4cc=require('@crewdle/mist-connector-indexed-db'),_0x377e40=require('@crewdle/mist-connector-webrtc-browser'),_0x498468=0x10000000;var _0x4a122a,_0x1c7a0b,_0x1227a1,_0x250b13,_0x38e8fe,_0x37fe92,_0x410ae3,_0x1d065f,_0x3b258f;!function(_0x28912f){const _0x1f6de2=_0x4a13a;_0x28912f[_0x1f6de2(0x64c)]=_0x1f6de2(0x64c),_0x28912f[_0x1f6de2(0x763)]='AudioOutput',_0x28912f[_0x1f6de2(0x2c6)]=_0x1f6de2(0x2c6),_0x28912f['Backgrounds']=_0x1f6de2(0x2cd),_0x28912f[_0x1f6de2(0x9c8)]=_0x1f6de2(0x9c8),_0x28912f['MediaStream']=_0x1f6de2(0x2c8),_0x28912f[_0x1f6de2(0x20c)]=_0x1f6de2(0x20c),_0x28912f['ScreenSharing']=_0x1f6de2(0xb2d),_0x28912f[_0x1f6de2(0x8cd)]=_0x1f6de2(0x8cd),_0x28912f['WebRTC']=_0x1f6de2(0x6a7);}(_0x4a122a||(_0x4a122a={}));class _0x4d637e{[_0x4a13a(0xc2a)];[_0x4a13a(0x3f4)];[_0x4a13a(0x880)];constructor(_0x3702fb=new Map(),_0xd87e3=new Map(),_0x350421=new EventTarget()){const _0x1feafb=_0x4a13a;this[_0x1feafb(0xc2a)]=_0x3702fb,this[_0x1feafb(0x3f4)]=_0xd87e3,this[_0x1feafb(0x880)]=_0x350421;}[_0x4a13a(0x2e0)]=(_0x2386d0,_0x3ba1d5)=>this[_0x4a13a(0xc2a)][_0x4a13a(0x738)](_0x2386d0)?(_0x260a6c[_0x4a13a(0x8b9)](_0x2e74f6['Events'],_0x4a13a(0x246),{'event':_0x2386d0,'data':_0x3ba1d5}),this[_0x4a13a(0x880)][_0x4a13a(0x9b0)](new CustomEvent(_0x2386d0,{'detail':_0x3ba1d5})),!0x0):(this[_0x4a13a(0xaf1)](_0x2386d0,_0x3ba1d5),!0x1);['on']=(_0x215927,_0x480f8d)=>{const _0x1e5adb=_0x4a13a,_0x104029=_0xabb325=>{const _0x9c8551=a0_0x2cf3;_0x260a6c[_0x9c8551(0x8b9)](_0x2e74f6['Events'],_0x9c8551(0xa5f),_0xabb325[_0x9c8551(0xbdd)],_0xabb325[_0x9c8551(0xa52)]),_0x480f8d(_0xabb325[_0x9c8551(0xa52)]);};return this[_0x1e5adb(0xc2a)][_0x1e5adb(0x2a7)](_0x215927,_0x104029),this[_0x1e5adb(0x880)]['addEventListener'](_0x215927,_0x104029),_0x260a6c[_0x1e5adb(0x8b9)](_0x2e74f6[_0x1e5adb(0x9d0)],'Subscribing\x20to\x20an\x20event:\x20on',_0x215927,_0x480f8d),this[_0x1e5adb(0x224)](_0x215927),this;};[_0x4a13a(0x978)](_0x5d4fed){const _0x13b632=_0x4a13a;if(!_0x5d4fed)return this[_0x13b632(0xc2a)][_0x13b632(0x761)]((_0x3cca38,_0x59678b)=>{const _0x196157=_0x13b632;this[_0x196157(0x880)][_0x196157(0x21f)](_0x59678b,_0x3cca38);}),void this['registeredListeners'][_0x13b632(0xb0f)]();_0x13b632(0x924)==typeof _0x5d4fed&&this[_0x13b632(0x479)](_0x5d4fed),Array['isArray'](_0x5d4fed)&&_0x5d4fed[_0x13b632(0x761)](_0x4e2bad=>{const _0x57a7e1=_0x13b632;this[_0x57a7e1(0x479)](_0x4e2bad);});}[_0x4a13a(0x479)](_0x539940){const _0xb817c4=_0x4a13a,_0x1ea7b0=this['registeredListeners'][_0xb817c4(0x68c)](_0x539940);_0x1ea7b0&&(this[_0xb817c4(0x880)][_0xb817c4(0x21f)](_0x539940,_0x1ea7b0),this[_0xb817c4(0xc2a)][_0xb817c4(0xb18)](_0x539940));}[_0x4a13a(0xaf1)](_0x2919b9,_0x8cbc4b){const _0xc62bd6=_0x4a13a;_0x260a6c['log'](_0x2e74f6[_0xc62bd6(0x4e7)],_0xc62bd6(0xb33),{'event':_0x2919b9,'data':_0x8cbc4b});const _0x427b6b=this[_0xc62bd6(0x3f4)][_0xc62bd6(0x68c)](_0x2919b9)||[];this[_0xc62bd6(0x3f4)][_0xc62bd6(0x2a7)](_0x2919b9,[..._0x427b6b,_0x8cbc4b]);}['consumeBufferedEvents'](_0x3fb597){const _0x200d11=_0x4a13a,_0x6ff457=this[_0x200d11(0x3f4)][_0x200d11(0x68c)](_0x3fb597);_0x6ff457&&(_0x6ff457[_0x200d11(0x761)](_0x265fdf=>{const _0x2591a6=_0x200d11;_0x260a6c['log'](_0x2e74f6[_0x2591a6(0x4e7)],_0x2591a6(0x7f1),{'event':_0x3fb597,'data':_0x265fdf}),this[_0x2591a6(0x880)]['dispatchEvent'](new CustomEvent(_0x3fb597,{'detail':_0x265fdf}));}),this['bufferedEvents'][_0x200d11(0xb18)](_0x3fb597));}}class _0x32e9cc extends Error{constructor(_0x58e7bc){const _0x56bc21=_0x4a13a;super(_0x56bc21(0x6af)+_0x58e7bc);}}!function(_0x303690){const _0x3464a8=_0x4a13a;_0x303690[_0x303690['Core']=0x0]=_0x3464a8(0x680),_0x303690[_0x303690[_0x3464a8(0x4db)]=0x1]=_0x3464a8(0x4db);}(_0x1c7a0b||(_0x1c7a0b={})),function(_0x45b59e){const _0x552ce1=_0x4a13a;_0x45b59e[_0x45b59e[_0x552ce1(0xaeb)]=0x0]=_0x552ce1(0xaeb),_0x45b59e[_0x45b59e[_0x552ce1(0xa14)]=0x1]='Answer',_0x45b59e[_0x45b59e[_0x552ce1(0xabd)]=0x2]='Handshake',_0x45b59e[_0x45b59e[_0x552ce1(0x88b)]=0x3]=_0x552ce1(0x88b),_0x45b59e[_0x45b59e[_0x552ce1(0x627)]=0x4]=_0x552ce1(0x627),_0x45b59e[_0x45b59e[_0x552ce1(0x705)]=0x5]=_0x552ce1(0x705),_0x45b59e[_0x45b59e[_0x552ce1(0x6f3)]=0x6]=_0x552ce1(0x6f3),_0x45b59e[_0x45b59e[_0x552ce1(0x76e)]=0x7]=_0x552ce1(0x76e),_0x45b59e[_0x45b59e[_0x552ce1(0x795)]=0x8]=_0x552ce1(0x795);}(_0x1227a1||(_0x1227a1={})),function(_0x400167){const _0x33f7b3=_0x4a13a;_0x400167[_0x400167['Sender']=0x0]=_0x33f7b3(0x33f),_0x400167[_0x400167[_0x33f7b3(0x2aa)]=0x1]=_0x33f7b3(0x2aa);}(_0x250b13||(_0x250b13={})),function(_0x38e424){const _0x25f48f=_0x4a13a;_0x38e424[_0x25f48f(0x2c8)]=_0x25f48f(0x8c6);}(_0x38e8fe||(_0x38e8fe={})),function(_0x5654b2){const _0x5c9533=_0x4a13a;_0x5654b2[_0x5654b2['NodeJoin']=0x0]=_0x5c9533(0xa3c),_0x5654b2[_0x5654b2[_0x5c9533(0x7a0)]=0x1]=_0x5c9533(0x7a0),_0x5654b2[_0x5654b2[_0x5c9533(0x86d)]=0x2]=_0x5c9533(0x86d),_0x5654b2[_0x5654b2[_0x5c9533(0x23c)]=0x3]='NodeLeave';}(_0x37fe92||(_0x37fe92={})),function(_0x35d11e){const _0xd8cf99=_0x4a13a;_0x35d11e[_0x35d11e[_0xd8cf99(0x401)]=0x0]=_0xd8cf99(0x401),_0x35d11e[_0x35d11e['RemoteRemediation']=0x1]=_0xd8cf99(0x456);}(_0x410ae3||(_0x410ae3={})),function(_0x1d0fe2){const _0x49eed5=_0x4a13a;_0x1d0fe2[_0x49eed5(0x608)]=_0x49eed5(0x5b6),_0x1d0fe2[_0x49eed5(0xbf1)]=_0x49eed5(0x3ad);}(_0x1d065f||(_0x1d065f={})),function(_0x5c1180){const _0x2249b8=_0x4a13a;_0x5c1180['Resolution']=_0x2249b8(0x741),_0x5c1180['Bitrate']=_0x2249b8(0x415);}(_0x3b258f||(_0x3b258f={}));const _0x39c096=require('aws-amplify'),_0x121171=require('aws-amplify/utils'),_0x14a014=require('@aws-amplify/api'),_0x26cc60=require('@aws-amplify/core');class _0x159b29{['clusterId'];[_0x4a13a(0xc4d)];[_0x4a13a(0x69f)];constructor(_0x2a9bf4,_0x4d36e5,_0x533943){const _0x135a1e=_0x4a13a;this[_0x135a1e(0x88f)]=_0x2a9bf4,this[_0x135a1e(0xc4d)]=_0x4d36e5,this[_0x135a1e(0x69f)]=_0x533943;}['getLocalId'](){const _0x27564e=_0x4a13a;return this[_0x27564e(0xc4d)][_0x27564e(0xa47)]();}[_0x4a13a(0xabc)](){const _0x491090=_0x4a13a;return this[_0x491090(0x69f)];}}var _0x266f0e,_0x586dfe,_0x9ffb31;function _0x25a203(_0x319b69,_0x147a13){const _0x28145a=_0x4a13a;return _0x319b69[_0x28145a(0x8f9)]===_0x147a13;}function _0x535954(_0x7f419f,_0x4a5775){const _0x4252b8=_0x4a13a;return _0x7f419f['destinationIds']?.[_0x4252b8(0xa7f)](_0x4a5775)??function(_0x18a33b){const _0x4bd6e1=_0x4252b8;return void 0x0===_0x18a33b[_0x4bd6e1(0x893)];}(_0x7f419f);}function _0x22cabf(_0x769755,{contentType:_0x231fc6,label:_0x829385,remoteId:_0x473d83}){return _0x769755+'-'+_0x231fc6+'-'+_0x829385+'-'+_0x473d83;}function _0x626013(_0x4ae44e,_0x11b399,_0x3da261){return''+_0x4ae44e+_0x11b399+_0x3da261;}function _0x430db8(_0xead432){const _0x4f4c70=_0x4a13a;return _0xead432===_0x586dfe['Incoming']?_0x4f4c70(0x6aa):_0x4f4c70(0xc38);}function _0x1e9512(_0x494cb6,_0x558cc4){const _0x1a1f65=_0x4a13a;return{'label':_0x494cb6[_0x1a1f65(0x57a)](),'contentType':_0x494cb6['getContentType'](),'remoteId':_0x558cc4['getRemoteId'](),'supportsContentType':_0x558cc4['getSupportedContentTypes']()[_0x1a1f65(0xa7f)](_0x494cb6[_0x1a1f65(0x743)]())};}!function(_0x5a8e0d){const _0x434713=_0x4a13a;_0x5a8e0d[_0x5a8e0d['Waiting']=0x0]=_0x434713(0xb8e),_0x5a8e0d[_0x5a8e0d[_0x434713(0xb02)]=0x1]=_0x434713(0xb02),_0x5a8e0d[_0x5a8e0d[_0x434713(0xb5c)]=0x2]='Rejected';}(_0x266f0e||(_0x266f0e={})),function(_0x5635dc){const _0x175aee=_0x4a13a;_0x5635dc['Incoming']='in',_0x5635dc[_0x175aee(0x81c)]=_0x175aee(0x88c);}(_0x586dfe||(_0x586dfe={}));class _0xe449bc{['callback'];[_0x4a13a(0xbb6)];constructor(_0x5b84d3,_0x1164f5){const _0x2fa479=_0x4a13a;this[_0x2fa479(0x981)]=_0x5b84d3,this[_0x2fa479(0xbb6)]=_0x1164f5;}['call'](_0x34b6c1){const _0xfd26a1=_0x4a13a;this[_0xfd26a1(0x981)](_0x34b6c1);}async[_0x4a13a(0xc22)](){const _0x4eb8d0=_0x4a13a;await this[_0x4eb8d0(0xbb6)]();}}class _0x3f334d{[_0x4a13a(0x981)];['retryCallback'];constructor(_0x1a396c,_0x1d0ffc){const _0x23b881=_0x4a13a;this[_0x23b881(0x981)]=_0x1a396c,this['retryCallback']=_0x1d0ffc;}async[_0x4a13a(0x374)](_0x42b766){const _0x46424a=_0x4a13a;await this[_0x46424a(0x981)](_0x42b766);}async['wait'](){await this['retryCallback']();}}function _0x5429c3(_0x2283ec=()=>{},_0x31a2a0=()=>!0x1,_0x4954d0=()=>{}){let _0x13eaa2,_0x494660,_0x1b19ca=0x0;return{get 'size'(){return _0x1b19ca;},get 'head'(){return _0x13eaa2;},get 'tail'(){return _0x494660;},set 'head'(_0x4aef7b){_0x13eaa2=_0x4aef7b;},set 'tail'(_0x5b1533){_0x494660=_0x5b1533;},'push'(_0x24a797,_0x1a2852=!0x0){const _0x33a865=a0_0x2cf3,_0x42b0ad={'value':_0x24a797};_0x1a2852&&_0x31a2a0(_0x42b0ad)?_0x2283ec():(_0x494660&&(_0x42b0ad[_0x33a865(0x668)]=_0x494660,_0x494660['next']=_0x42b0ad),_0x494660=_0x42b0ad,_0x13eaa2||(_0x13eaa2=_0x42b0ad),_0x1b19ca+=0x1,_0x1a2852&&_0x2283ec());},'pop'(){const _0x1dfc86=a0_0x2cf3;if(!_0x494660)return;const _0x25490b=_0x494660[_0x1dfc86(0x1db)];return _0x494660=_0x494660[_0x1dfc86(0x668)],_0x494660&&delete _0x494660['next'],_0x494660||(_0x13eaa2=void 0x0),_0x1b19ca-=0x1,_0x25490b;},'unshift'(_0x6581af,_0xd75481=!0x0){const _0x148615=a0_0x2cf3,_0x506276={'value':_0x6581af};_0xd75481&&_0x31a2a0(_0x506276)?_0x2283ec():(_0x13eaa2&&(_0x13eaa2['previous']=_0x506276,_0x506276[_0x148615(0x93d)]=_0x13eaa2),_0x13eaa2=_0x506276,_0x494660||(_0x494660=_0x506276),_0x1b19ca+=0x1,_0xd75481&&_0x2283ec());},'shift'(){const _0x43a4bf=a0_0x2cf3;if(!_0x13eaa2)return;const _0x2a482f=_0x13eaa2[_0x43a4bf(0x1db)];return _0x13eaa2=_0x13eaa2[_0x43a4bf(0x93d)],_0x13eaa2&&delete _0x13eaa2[_0x43a4bf(0x668)],_0x13eaa2||(_0x494660=void 0x0),_0x1b19ca-=0x1,_0x2a482f;},'clear'(){_0x4954d0(),_0x13eaa2=void 0x0,_0x494660=void 0x0,_0x1b19ca=0x0;}};}function _0x3c58cc(_0xe62624,_0x373556=!0x1,_0x5ba2cf=()=>{},_0x4fb578=()=>!0x1,_0x59f489=()=>{}){let _0x44c0a8=!0x1;const _0x38bad8=_0x5429c3(async function(){const _0x497c01=a0_0x2cf3;if(!_0x44c0a8){for(_0x44c0a8=!0x0;_0x38bad8[_0x497c01(0x2a6)];){const _0x36504d=_0x38bad8[_0x497c01(0xc23)]();if(_0x36504d)try{_0xe62624 instanceof _0xe449bc&&_0xe62624[_0x497c01(0x374)](_0x36504d),_0xe62624 instanceof _0x3f334d&&await _0xe62624['call'](_0x36504d),_0x5ba2cf(_0x36504d);}catch(_0x1b2ab6){_0x373556?_0x38bad8['push'](_0x36504d,!0x1):_0x38bad8['unshift'](_0x36504d,!0x1),await _0xe62624[_0x497c01(0xc22)]();}}_0x44c0a8=!0x1;}},_0x4fb578,_0x59f489);return _0x38bad8;}class _0x1c1255 extends _0x159b29{['vendorId'];[_0x4a13a(0xa0a)];['connectionState']=_0x14a014['ConnectionState'][_0x4a13a(0x2e6)];[_0x4a13a(0x904)]=_0x49ee5e();[_0x4a13a(0xbbb)]=_0x47b7f3();[_0x4a13a(0x3a0)];[_0x4a13a(0x2b7)];[_0x4a13a(0x2f1)]=_0x3c58cc(new _0x3f334d(this[_0x4a13a(0x324)]['bind'](this),this[_0x4a13a(0x7d2)][_0x4a13a(0x65d)](this)));[_0x4a13a(0xb0e)];constructor(_0x51be1d,_0x585dbb,_0x353df1,_0x531806,_0xb3ca94){const _0x131e22=_0x4a13a;super(_0x585dbb,_0x353df1,_0x531806),this[_0x131e22(0x649)]=_0x51be1d,this[_0x131e22(0xa0a)]=_0xb3ca94;}async['connect'](){const _0x5bfd66=_0x4a13a;try{const _0x1637be={'getTokens':async()=>{const _0x3b1343=a0_0x2cf3,_0x515c18=await this[_0x3b1343(0xa0a)][_0x3b1343(0x69c)]();return{'accessToken':(0x0,_0x26cc60[_0x3b1343(0x6e1)])(_0x515c18),'idToken':(0x0,_0x26cc60[_0x3b1343(0x6e1)])(_0x515c18)};}};_0x39c096[_0x5bfd66(0x87c)][_0x5bfd66(0x568)]({'API':{'GraphQL':{'endpoint':_0x2fd4ca[_0x5bfd66(0x3b3)]['endpoint'],'region':_0x2fd4ca[_0x5bfd66(0x3b3)][_0x5bfd66(0x73f)],'defaultAuthMode':'oidc'}}},{'Auth':{'tokenProvider':_0x1637be}});const _0x4b60df=(0x0,_0x14a014['generateClient'])();this['client']=_0x4b60df,await this[_0x5bfd66(0x7a8)](),this[_0x5bfd66(0x2b7)]=_0x121171[_0x5bfd66(0xa69)][_0x5bfd66(0x8b8)]('api',async({payload:_0x327043})=>{const _0x1531b1=_0x5bfd66;if(_0x327043[_0x1531b1(0x263)]===_0x14a014[_0x1531b1(0x558)]){const _0x1827d0=_0x327043[_0x1531b1(0x728)];this['connectionState']=_0x1827d0['connectionState'],this[_0x1531b1(0x904)][_0x1531b1(0xa19)](_0x1827d0[_0x1531b1(0x615)]),this['connectionState']===_0x14a014[_0x1531b1(0x37a)][_0x1531b1(0x2e6)]?(_0x260a6c[_0x1531b1(0x33b)](_0x1531b1(0xbc1),{'clusterId':this['clusterId'],'nodeId':this[_0x1531b1(0x47c)](),'nodeType':this[_0x1531b1(0xc4d)][_0x1531b1(0xbdd)]}),this[_0x1531b1(0x935)](),this['connect']()):this['connectionState']===_0x14a014[_0x1531b1(0x37a)]['Connected']?_0x260a6c[_0x1531b1(0x885)](_0x1531b1(0x696),{'clusterId':this['clusterId'],'nodeId':this[_0x1531b1(0x47c)](),'nodeType':this[_0x1531b1(0xc4d)][_0x1531b1(0xbdd)]}):_0x260a6c['warning'](_0x1531b1(0x953),{'clusterId':this[_0x1531b1(0x88f)],'nodeId':this[_0x1531b1(0x47c)](),'nodeType':this[_0x1531b1(0xc4d)]['type'],'data':{'state':_0x1827d0[_0x1531b1(0x615)]}});}});}catch(_0x26a81a){_0x260a6c['error'](_0x5bfd66(0x500),{'clusterId':this[_0x5bfd66(0x88f)],'nodeId':this['getLocalId'](),'nodeType':this[_0x5bfd66(0xc4d)][_0x5bfd66(0xbdd)]});}}['close'](){const _0x5d0de9=_0x4a13a;_0x260a6c['warning'](_0x5d0de9(0x988),{'clusterId':this[_0x5d0de9(0x88f)],'nodeId':this[_0x5d0de9(0x47c)](),'nodeType':this[_0x5d0de9(0xc4d)][_0x5d0de9(0xbdd)]}),this[_0x5d0de9(0x2f1)][_0x5d0de9(0xb0f)](),this['listenUnsubscriber']?.(),this[_0x5d0de9(0x3a0)]?.[_0x5d0de9(0x3bf)](),delete this[_0x5d0de9(0x3a0)];}[_0x4a13a(0x42d)](){const _0x66aed6=_0x4a13a;return this[_0x66aed6(0x615)]===_0x14a014[_0x66aed6(0x37a)][_0x66aed6(0x3ed)];}[_0x4a13a(0x381)](_0x2f4de5){const _0x2277ac=_0x4a13a;this['retryQueue'][_0x2277ac(0x247)](_0x2f4de5);}['onMessage'](_0x13b123){const _0x24b720=_0x4a13a;return this[_0x24b720(0xbbb)][_0x24b720(0x7a8)](_0x13b123);}['getSupportedContentTypes'](){return[_0x52458b['ContentType']['Data']];}async['waitConnected'](){const _0x239291=_0x4a13a;if(!this[_0x239291(0x42d)]())return new Promise(_0x34cf7a=>{const _0x37010f=_0x239291,_0x55baab=this[_0x37010f(0x904)][_0x37010f(0x7a8)](_0x1b7f06=>{const _0x1512b4=_0x37010f;_0x1b7f06===_0x14a014['ConnectionState'][_0x1512b4(0x3ed)]&&(_0x55baab(),_0x34cf7a());});});}async['sendAction'](_0x4b6db5){const _0x267dca=_0x4a13a;if(this[_0x267dca(0x615)]!==_0x14a014[_0x267dca(0x37a)][_0x267dca(0x3ed)])throw new Error(_0x267dca(0x9dc));_0x4b6db5['destinationIds']&&0x1===_0x4b6db5[_0x267dca(0x893)][_0x267dca(0x454)]?await this[_0x267dca(0xa19)](_0x4b6db5[_0x267dca(0x893)][0x0],JSON[_0x267dca(0x320)](_0x4b6db5)):_0x260a6c[_0x267dca(0x33b)](_0x267dca(0x84e),{'clusterId':this[_0x267dca(0x88f)],'nodeId':this[_0x267dca(0x47c)](),'nodeType':this[_0x267dca(0xc4d)][_0x267dca(0xbdd)]});}async[_0x4a13a(0xa19)](_0x28bd9d,_0xc373b6){const _0x2a8866=_0x4a13a;if(!this[_0x2a8866(0xb0e)])throw new Error(_0x2a8866(0x526));_0x260a6c[_0x2a8866(0x8b9)](_0x2e74f6['Signaling'],_0x2a8866(0xa68),this[_0x2a8866(0x47c)](),_0xc373b6),await this[_0x2a8866(0xb0e)][_0x2a8866(0x939)]({'query':_0x2a8866(0xa10),'variables':{'name':await this[_0x2a8866(0x854)](_0x28bd9d),'data':_0xc373b6}});}async[_0x4a13a(0x7a8)](){const _0x3d2b97=_0x4a13a;if(this[_0x3d2b97(0x3a0)])return;if(!this[_0x3d2b97(0xb0e)])throw new Error(_0x3d2b97(0x526));_0x260a6c[_0x3d2b97(0x8b9)](_0x2e74f6[_0x3d2b97(0xc35)],_0x3d2b97(0xa13),this[_0x3d2b97(0x47c)]());const _0x28fc16=await this[_0x3d2b97(0xb0e)][_0x3d2b97(0x939)]({'query':'\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','variables':{'name':await this[_0x3d2b97(0x854)]()},'authToken':await this[_0x3d2b97(0xa0a)][_0x3d2b97(0x69c)]()},{'Authorization':await this[_0x3d2b97(0xa0a)][_0x3d2b97(0x69c)]()});this['subscription']=_0x28fc16[_0x3d2b97(0x7a8)]({'next':({data:_0x107999})=>{const _0x48ced7=_0x3d2b97,_0x37a985=JSON['parse'](_0x107999[_0x48ced7(0x7a8)]['data']);!_0x25a203(_0x37a985,this[_0x48ced7(0x47c)]())&&_0x535954(_0x37a985,this[_0x48ced7(0x47c)]())&&this[_0x48ced7(0xbbb)][_0x48ced7(0xa19)](_0x37a985);},'error':console['log']});}async['getHash'](_0x336640){const _0x241879=_0x4a13a,_0x37cba5=await crypto[_0x241879(0x734)][_0x241879(0xb11)](_0x241879(0x289),new TextEncoder()[_0x241879(0x6e8)](this['vendorId']+'-'+this[_0x241879(0x88f)]+'-'+(_0x336640??this[_0x241879(0x47c)]())));return Array[_0x241879(0xad6)](new Uint8Array(_0x37cba5))[_0x241879(0x275)](_0x4d2d19=>_0x4d2d19[_0x241879(0x366)](0x10)[_0x241879(0x266)](0x2,'0'))['join']('');}}!function(_0xe262c4){const _0x35b809=_0x4a13a;_0xe262c4[_0xe262c4[_0x35b809(0xc02)]=0x0]=_0x35b809(0xc02),_0xe262c4[_0xe262c4[_0x35b809(0x934)]=0x1]='Remove',_0xe262c4[_0xe262c4[_0x35b809(0x3fd)]=0x2]=_0x35b809(0x3fd),_0xe262c4[_0xe262c4[_0x35b809(0x272)]=0x3]=_0x35b809(0x272),_0xe262c4[_0xe262c4[_0x35b809(0x784)]=0x4]=_0x35b809(0x784);}(_0x9ffb31||(_0x9ffb31={}));const _0x4243c3='0',_0x3f2979=_0x4a13a(0x8ae),_0x35543f=_0x4e2e3f,_0x492dab=0x60000;class _0x31d3fe{['clusterId'];[_0x4a13a(0xc4d)];[_0x4a13a(0x69f)];['iceServers'];['connectionType'];[_0x4a13a(0x999)];[_0x4a13a(0x200)];[_0x4a13a(0x396)];[_0x4a13a(0x771)]=0x1;[_0x4a13a(0x525)];['handshakeCandidates']=[];[_0x4a13a(0x25d)]=[];['handshakeDebounce'];constructor(_0x128cb6,_0x221a47,_0x41f4a9,_0x458899,_0x494989,_0x593e6f){const _0x2706c6=_0x4a13a;this[_0x2706c6(0x88f)]=_0x128cb6,this[_0x2706c6(0xc4d)]=_0x221a47,this[_0x2706c6(0x69f)]=_0x41f4a9,this[_0x2706c6(0x4a4)]=_0x458899,this[_0x2706c6(0x3d0)]=_0x494989,this[_0x2706c6(0x999)]=_0x593e6f,this[_0x2706c6(0x200)]=new this[(_0x2706c6(0x999))]({'handshakeServers':this['iceServers']}),this[_0x2706c6(0x714)]();}[_0x4a13a(0x935)](){const _0xb2d1a3=_0x4a13a;this[_0xb2d1a3(0x97c)]();}[_0x4a13a(0x6e3)](_0x22b8ea){this['connectionType']=_0x22b8ea;}async[_0x4a13a(0x384)](_0x329ed1,_0x28cfa5){const _0x3e4f74=_0x4a13a;if(_0x28cfa5===this[_0x3e4f74(0x771)])for(const _0x5026c1 of _0x329ed1){if(!this[_0x3e4f74(0x200)][_0x3e4f74(0x3d9)])return this[_0x3e4f74(0x941)](_0x5026c1);try{await this[_0x3e4f74(0x200)]['addCandidate'](_0x5026c1);}catch(_0x1fd7ae){this[_0x3e4f74(0x941)](_0x5026c1);}}}[_0x4a13a(0x42d)](){const _0x5e9bcd=_0x4a13a;return this['logConnectionState'](),_0x5e9bcd(0x79b)===this[_0x5e9bcd(0x200)][_0x5e9bcd(0x615)]&&['connected',_0x5e9bcd(0x674)][_0x5e9bcd(0xa7f)](this['connection'][_0x5e9bcd(0x484)])&&_0x5e9bcd(0x327)!==this[_0x5e9bcd(0x200)][_0x5e9bcd(0xa3f)]&&_0x5e9bcd(0x4f0)===this[_0x5e9bcd(0x396)]?.['state'];}[_0x4a13a(0x348)](_0x183a75){const _0x194e91=_0x4a13a;this[_0x194e91(0x525)]=_0x183a75;}[_0x4a13a(0x2b4)](){const _0x42500c=_0x4a13a;delete this[_0x42500c(0x525)];}[_0x4a13a(0x55f)](_0x5772fa){const _0xaf0e0c=_0x4a13a;this[_0xaf0e0c(0x97c)](),this[_0xaf0e0c(0x200)]=new this[(_0xaf0e0c(0x999))]({'handshakeServers':this[_0xaf0e0c(0x4a4)]}),_0x5772fa?this[_0xaf0e0c(0x771)]=_0x5772fa:this[_0xaf0e0c(0x771)]+=0x1,this[_0xaf0e0c(0x714)]();}[_0x4a13a(0xb34)](){const _0x1eff93=_0x4a13a;this['pendingHandshakeCandidates'][_0x1eff93(0x761)](_0x5cfb4d=>{const _0x19e967=_0x1eff93;try{this[_0x19e967(0x200)][_0x19e967(0x3e5)](_0x5cfb4d);}catch(_0x4f649b){}}),this[_0x1eff93(0x25d)]=[];}[_0x4a13a(0x8a5)](_0x3277f2,_0x3c4024){const _0x1646b9=_0x4a13a;if(!this['systemTopic'])throw new _0x240123(_0x240123['codes']['MissingSystemTopic'],{'content':_0x3277f2});const _0x356008={'sourceId':this[_0x1646b9(0xc4d)][_0x1646b9(0xa47)](),'destinationIds':[this['remoteId']],'propagate':this[_0x1646b9(0x3d0)]!==_0x1c7a0b[_0x1646b9(0x680)],'retry':this[_0x1646b9(0x3d0)]!==_0x1c7a0b['Core'],'messageType':_0x29c5a4[_0x1646b9(0x99b)],'content':_0x3277f2};_0x3c4024&&(_0x356008[_0x1646b9(0x723)]=_0x3c4024),this[_0x1646b9(0x525)]['publish'](_0x356008);}[_0x4a13a(0x714)](){const _0x2d8dfc=_0x4a13a;this[_0x2d8dfc(0x200)][_0x2d8dfc(0x7a1)]=()=>{const _0x41b934=_0x2d8dfc;_0x41b934(0x7fe)===this['connection'][_0x41b934(0xbf5)]&&this[_0x41b934(0x5cf)][_0x41b934(0x454)]>0x0&&(this[_0x41b934(0x822)]&&clearTimeout(this['handshakeDebounce']),this[_0x41b934(0x822)]=setTimeout(()=>{const _0x89b763=_0x41b934;delete this[_0x89b763(0x822)],this['sendIceCandidates'](),this[_0x89b763(0x5cf)]=[];},0x1f4));},this[_0x2d8dfc(0x200)]['onCandidate']=_0x554e74=>{const _0x3ea019=_0x2d8dfc;_0x554e74[_0x3ea019(0x9d9)]&&this[_0x3ea019(0x5cf)][_0x3ea019(0x247)](_0x554e74[_0x3ea019(0x9d9)]);};}[_0x4a13a(0x97c)](){const _0x161c83=_0x4a13a;clearTimeout(this['handshakeDebounce']),delete this[_0x161c83(0x822)],this[_0x161c83(0x5cf)]=[],this[_0x161c83(0x25d)]=[],this[_0x161c83(0x396)]&&(this['dataChannel'][_0x161c83(0x3b0)]=null,this[_0x161c83(0x396)]['onClose']=null,this[_0x161c83(0x396)][_0x161c83(0x935)](),delete this[_0x161c83(0x396)]),this[_0x161c83(0x200)][_0x161c83(0x7a1)]=null,this['connection']['onCandidate']=null,this['connection']['onHandshakeStateChange']=null,this['connection'][_0x161c83(0x485)]=null,this['connection']['onTrack']=null,this[_0x161c83(0x200)][_0x161c83(0x637)]=null,this[_0x161c83(0x200)][_0x161c83(0x935)]();}[_0x4a13a(0x941)](_0x482767){const _0x339760=_0x4a13a;this[_0x339760(0x25d)]['push'](_0x482767);}[_0x4a13a(0xb7b)](){const _0x439416=_0x4a13a;_0x260a6c[_0x439416(0x8b9)](_0x2e74f6['ConnectionState'],_0x439416(0x794),{'localId':this['localNode'][_0x439416(0xa47)](),'remoteId':this[_0x439416(0x69f)],'connectionState':this['connection'][_0x439416(0x615)],'handshakeState':this[_0x439416(0x200)][_0x439416(0x484)],'signalingState':this[_0x439416(0x200)][_0x439416(0xa3f)],'dataChannelState':this[_0x439416(0x396)]?.['state']});}}function _0x435f56(_0x4abd50,_0x2ac94a){const _0x22375e=_0x4a13a;_0x2ac94a[_0x22375e(0xa19)]({'sourceId':_0x2d73b4,'messageType':_0x29c5a4[_0x22375e(0x99b)],'content':_0x4abd50});}class _0x3dcad2{static [_0x4a13a(0x2c9)];['parameters']=[];['source'];constructor(){setInterval(()=>{this['parameters']['forEach'](_0x565172=>{const _0x4a692d=a0_0x2cf3;if(Date['now']()-_0x565172[_0x4a692d(0x5b9)]>_0x565172['interval']){try{_0x565172['callback']();}catch(_0x51e8d7){}_0x565172[_0x4a692d(0x5b9)]=Date[_0x4a692d(0xad3)]();}});},0x64);}static[_0x4a13a(0xb8d)](){const _0xb50a62=_0x4a13a;return _0x3dcad2[_0xb50a62(0x2c9)]||(_0x3dcad2['instance']=new _0x3dcad2()),_0x3dcad2[_0xb50a62(0x2c9)];}[_0x4a13a(0x2b2)](_0xc8a736){const _0x359f0b=_0x4a13a,_0xc70ff7=this[_0x359f0b(0xb98)](_0xc8a736),_0x4a8c8e=_0xc8a736[_0x359f0b(0x271)]();_0x4a8c8e&&_0xc70ff7&&(_0x4a8c8e['gain']['value']=0.001,_0xc70ff7[_0x359f0b(0x643)](_0x4a8c8e),_0x4a8c8e['connect'](_0xc8a736[_0x359f0b(0x865)]),_0xc70ff7[_0x359f0b(0x434)]());}[_0x4a13a(0xb90)](){const _0x28a4f6=_0x4a13a;this[_0x28a4f6(0x34d)]&&(this[_0x28a4f6(0x34d)][_0x28a4f6(0x312)](),this[_0x28a4f6(0x34d)]['disconnect'](),this[_0x28a4f6(0x34d)]=void 0x0);}[_0x4a13a(0xc22)](_0x3d7e5e){return new Promise(_0x4754f1=>{setTimeout(_0x4754f1,_0x3d7e5e);});}[_0x4a13a(0x583)](_0x271f87,_0x28ebbe){const _0x4ca1d1=_0x4a13a;return this[_0x4ca1d1(0x6a8)][_0x4ca1d1(0x247)]({'callback':_0x271f87,'interval':_0x28ebbe,'lastExecuted':Date[_0x4ca1d1(0xad3)]()}),()=>{const _0x2c4271=_0x4ca1d1;this[_0x2c4271(0x6a8)]=this[_0x2c4271(0x6a8)][_0x2c4271(0x675)](_0x26c75b=>_0x26c75b['callback']!==_0x271f87);};}[_0x4a13a(0xb98)](_0x5177e7){const _0x18d3be=_0x4a13a;if(_0x5177e7[_0x18d3be(0xb98)])return _0x5177e7[_0x18d3be(0xb98)]();const _0x499ab3=_0x5177e7[_0x18d3be(0x1f8)](),_0x19cb79=_0x5177e7['createBuffer'](0x1,0x1,_0x5177e7[_0x18d3be(0x926)]);return _0x19cb79['getChannelData'](0x0)[0x0]=0xa,_0x499ab3['buffer']=_0x19cb79,_0x499ab3[_0x18d3be(0x732)]=!0x0,_0x499ab3;}}const _0x37fc55=_0x3dcad2['getInstance']();class _0x5d10df extends _0x31d3fe{[_0x4a13a(0xa6a)]=_0x49ee5e();[_0x4a13a(0x872)]=_0x49ee5e();[_0x4a13a(0x6c1)]=_0x49ee5e();['receivers']=new Map();[_0x4a13a(0x6ec)]=new Map();['waitSuccess'];['messagesReceived']=0x0;['systemMessagesReceived']={'messages':{'total':0x0}};['bytesReceived']=0x0;[_0x4a13a(0x261)]=0x0;[_0x4a13a(0x7dd)]=_0x389830('ReceiverPeerConnection.onMessage',_0x2e74f6[_0x4a13a(0x76b)]);[_0x4a13a(0x935)](){const _0x211c8f=_0x4a13a;this[_0x211c8f(0xaf2)](),this['receivers']['clear'](),super[_0x211c8f(0x935)]();}async[_0x4a13a(0x498)](_0x250c6d,_0x268d59){const _0xbec7f1=_0x4a13a;this[_0xbec7f1(0x771)]=_0x268d59,this[_0xbec7f1(0xaf2)]();const _0x57f8a1=await this[_0xbec7f1(0x200)][_0xbec7f1(0x537)](_0x250c6d);this[_0xbec7f1(0xb34)]();const _0x2c7655=(0x0,_0xafe7f0['v4'])();this[_0xbec7f1(0x8a5)]({'type':_0x1227a1['Answer'],'answer':_0x57f8a1,'version':_0x268d59,'connectionType':this[_0xbec7f1(0x3d0)]},_0x2c7655),this[_0xbec7f1(0x3d0)]===_0x1c7a0b[_0xbec7f1(0x680)]&&(this['waitSuccess']=_0x37fc55[_0xbec7f1(0x583)](()=>{const _0x46adc4=_0xbec7f1;this[_0x46adc4(0x8a5)]({'type':_0x1227a1[_0x46adc4(0xa14)],'answer':_0x57f8a1,'version':_0x268d59,'connectionType':this[_0x46adc4(0x3d0)]},_0x2c7655);},0x1388));}[_0x4a13a(0x5d0)](){this['clearWaitSuccess']();}[_0x4a13a(0x835)](_0xa81321){const _0x363b93=_0x4a13a;this[_0x363b93(0x55f)](_0xa81321),this[_0x363b93(0x8a5)]({'type':_0x1227a1[_0x363b93(0x705)]});}async[_0x4a13a(0x426)](){const _0x188ab8=_0x4a13a;this['systemTopic']&&(await this[_0x188ab8(0x200)][_0x188ab8(0x9f5)](this[_0x188ab8(0xbf9)],(_0x59eeb4,_0xcbb233)=>{const _0x131cc7=_0x188ab8;_0x435f56({'type':_0x1227a1[_0x131cc7(0x76e)],'streamId':_0xcbb233,'nodeId':this['remoteId'],'stats':_0x59eeb4},this[_0x131cc7(0x525)]);}),this[_0x188ab8(0x525)][_0x188ab8(0xa19)]({'sourceId':_0x2d73b4,'messageType':_0x29c5a4[_0x188ab8(0x99b)],'content':{'type':_0x1227a1[_0x188ab8(0x76e)],'nodeId':this[_0x188ab8(0x69f)],'stats':{'origin':_0x250b13[_0x188ab8(0x2aa)],'timestamp':Date[_0x188ab8(0xad3)](),'messagesReceived':this[_0x188ab8(0xa84)],'bytesReceived':this[_0x188ab8(0x325)],'timeReceiving':this[_0x188ab8(0x261)],'systemMessages':this[_0x188ab8(0x4bc)]}}}));}[_0x4a13a(0x3b0)](_0x1af9c4){const _0x12e1b9=_0x4a13a;return _0x2fd4ca[_0x12e1b9(0x3bc)]?this[_0x12e1b9(0xa6a)][_0x12e1b9(0x7a8)](_0x1af9c4):this[_0x12e1b9(0xa6a)]['subscribe'](_0x274a57=>{const _0x28e037=_0x12e1b9;0x0===_0x274a57['topicLabel']&&_0x274a57[_0x28e037(0x5d4)]===_0x29c5a4[_0x28e037(0xbf2)]&&this[_0x28e037(0x7dd)][_0x28e037(0x2d5)][_0x28e037(0x8b9)](_0x28e037(0x5db)+this[_0x28e037(0x69f)],()=>_0x4d1c2d(_0x274a57)),_0x1af9c4(_0x274a57);});}[_0x4a13a(0x6ff)](_0x4522dc){const _0x3b98d5=_0x4a13a;return this[_0x3b98d5(0x872)]['subscribe'](({track:_0x251a22,stream:_0x5c16ca})=>_0x4522dc(_0x251a22,_0x5c16ca));}[_0x4a13a(0x3b5)](_0x455201){const _0x5ef49d=_0x4a13a;return this[_0x5ef49d(0x6c1)][_0x5ef49d(0x7a8)](({track:_0x1cc359,stream:_0x18199f})=>_0x455201(_0x1cc359,_0x18199f));}[_0x4a13a(0x55f)](_0x3ff117){const _0x1cf094=_0x4a13a;this['clearWaitSuccess'](),this[_0x1cf094(0xbf9)][_0x1cf094(0x761)](_0x46e4d1=>{const _0x49af67=_0x1cf094;_0x46e4d1[_0x49af67(0xb0f)]();}),super['resetConnection'](_0x3ff117);}[_0x4a13a(0x237)](){const _0x659de4=_0x4a13a;this['publishSystemMessage']({'type':_0x1227a1[_0x659de4(0xabd)],'candidates':this[_0x659de4(0x5cf)],'origin':_0x250b13[_0x659de4(0x2aa)],'version':this[_0x659de4(0x771)],'connectionType':this['connectionType']});}[_0x4a13a(0x714)](){const _0x203e52=_0x4a13a;super[_0x203e52(0x714)](),this[_0x203e52(0x200)]['onTrack']=_0x8adcb5=>{const _0x18e865=_0x203e52;_0x260a6c[_0x18e865(0x8b9)](_0x2e74f6[_0x18e865(0x71c)],_0x18e865(0xa61),this[_0x18e865(0xc4d)][_0x18e865(0xa47)](),_0x8adcb5),_0x8adcb5[_0x18e865(0x830)][0x0][_0x18e865(0xb1c)]=_0x35dfa1=>{const _0x76626=_0x18e865;this[_0x76626(0xbf9)][_0x76626(0x68c)](_0x8adcb5[_0x76626(0x830)][0x0]['id'])?.[_0x76626(0xb18)](_0x35dfa1[_0x76626(0x6ba)]),0x0===this[_0x76626(0xbf9)][_0x76626(0x68c)](_0x8adcb5[_0x76626(0x830)][0x0]['id'])?.[_0x76626(0x7a7)]&&this[_0x76626(0xbf9)][_0x76626(0xb18)](_0x8adcb5[_0x76626(0x830)][0x0]['id']),this['removeTrackCallback'][_0x76626(0xa19)]({'track':_0x35dfa1[_0x76626(0x6ba)],'stream':_0x8adcb5['streams'][0x0]});},this[_0x18e865(0xbf9)][_0x18e865(0x738)](_0x8adcb5['streams'][0x0]['id'])||this[_0x18e865(0xbf9)][_0x18e865(0x2a7)](_0x8adcb5[_0x18e865(0x830)][0x0]['id'],new Set()),this[_0x18e865(0xbf9)][_0x18e865(0x68c)](_0x8adcb5[_0x18e865(0x830)][0x0]['id'])[_0x18e865(0xc09)](_0x8adcb5[_0x18e865(0x6ba)]),this[_0x18e865(0x872)]['publish']({'track':_0x8adcb5[_0x18e865(0x6ba)],'stream':_0x8adcb5[_0x18e865(0x830)][0x0]});},this[_0x203e52(0x200)][_0x203e52(0x637)]=_0x2c3342=>{const _0x27a63c=_0x203e52;this[_0x27a63c(0x396)]=_0x2c3342[_0x27a63c(0x4a9)],this[_0x27a63c(0x396)][_0x27a63c(0x3b0)]=_0x198fdb=>{const _0x5bf0ab=_0x27a63c;if(_0x198fdb[_0x5bf0ab(0x728)]!==_0x4243c3)this[_0x5bf0ab(0x208)](_0x198fdb[_0x5bf0ab(0x728)]);else{if(!this['dataChannel'])return void _0x260a6c[_0x5bf0ab(0x33b)](_0x5bf0ab(0x5ae),{'clusterId':this['clusterId'],'nodeId':this[_0x5bf0ab(0xc4d)][_0x5bf0ab(0xa47)](),'nodeType':this[_0x5bf0ab(0xc4d)][_0x5bf0ab(0xbdd)],'remoteId':this[_0x5bf0ab(0x69f)],'data':{'connection':_0x5bf0ab(0x21d)}});if(_0x5bf0ab(0x4f0)!==this['dataChannel'][_0x5bf0ab(0x882)])return;this[_0x5bf0ab(0x396)][_0x5bf0ab(0x381)]('1');}};};}['handleOnMessage'](_0x1daad){const _0x1e422e=_0x4a13a;if('string'==typeof _0x1daad&&_0x1daad[_0x1e422e(0x293)](_0x3f2979))return this['messagesReceived']+=0x1,this[_0x1e422e(0x325)]+=_0x1daad[_0x1e422e(0x454)],this[_0x1e422e(0x550)](_0x1daad);setTimeout(()=>{const _0x537081=_0x1e422e,_0x190f19=Date[_0x537081(0xad3)]();let _0x349bf8;if((_0x1daad instanceof ArrayBuffer||_0x1daad[_0x537081(0x454)]<=_0x35543f)&&(this['messagesReceived']+=0x1,this[_0x537081(0x325)]+=_0x1daad instanceof ArrayBuffer?_0x1daad['byteLength']:_0x1daad['length']),_0x1daad instanceof ArrayBuffer){const [_0x15df70,_0x172e43]=this['splitParts'](_0x1daad);_0x349bf8=_0x15df70,_0x349bf8[_0x537081(0x816)][_0x537081(0x728)]=_0x172e43;}else _0x349bf8=JSON[_0x537081(0xb6b)](_0x1daad);if(0x0===_0x349bf8[_0x537081(0x781)]){this[_0x537081(0x4bc)][_0x537081(0x2ce)][_0x537081(0x6b8)]+=0x1;const {systemMessageType:_0x88b53,systemContentMessageType:_0x19cc61}=_0x4d1c2d(_0x349bf8);this[_0x537081(0x4bc)][_0x88b53]||(this[_0x537081(0x4bc)][_0x88b53]={[_0x19cc61]:0x0}),this['systemMessagesReceived'][_0x88b53][_0x19cc61]||(this[_0x537081(0x4bc)][_0x88b53][_0x19cc61]=0x0),this[_0x537081(0x4bc)][_0x88b53][_0x537081(0x6b8)]||(this[_0x537081(0x4bc)][_0x88b53][_0x537081(0x6b8)]=0x0),this['systemMessagesReceived'][_0x88b53][_0x19cc61]+=0x1,this[_0x537081(0x4bc)][_0x88b53][_0x537081(0x6b8)]+=0x1;}this[_0x537081(0xa6a)][_0x537081(0xa19)](_0x349bf8),this[_0x537081(0x261)]+=Date[_0x537081(0xad3)]()-_0x190f19;},0x0);}[_0x4a13a(0x550)](_0x4c7572){const _0x197f25=_0x4a13a,_0x112e4d=_0x4c7572[_0x197f25(0x3ca)](';'),_0x4dd46d=_0x112e4d[0x1],_0xc7d94c=parseInt(_0x112e4d[0x2],0xa),_0x26d643=parseInt(_0x112e4d[0x3],0xa),_0x3dcb2f=_0x4c7572[_0x197f25(0xb00)](_0x3f2979+';'+_0x4dd46d+';'+_0xc7d94c+';'+_0x26d643+';','');this[_0x197f25(0x6ec)][_0x197f25(0x738)](_0x4dd46d)||this[_0x197f25(0x6ec)][_0x197f25(0x2a7)](_0x4dd46d,[]);const _0x1e2cb5=this[_0x197f25(0x6ec)][_0x197f25(0x68c)](_0x4dd46d);_0x1e2cb5[_0xc7d94c]=_0x3dcb2f,_0x1e2cb5[_0x197f25(0x454)]===_0x26d643&&(this['handleOnMessage'](_0x1e2cb5[_0x197f25(0x9ac)]('')),this[_0x197f25(0x6ec)][_0x197f25(0xb18)](_0x4dd46d));}[_0x4a13a(0xaf2)](){const _0x2889b7=_0x4a13a;this[_0x2889b7(0xbc4)]?.(),delete this['waitSuccess'];}[_0x4a13a(0x5f3)](_0x1418c6){const _0x342dfb=_0x4a13a,_0x473fd2=new TextDecoder()[_0x342dfb(0xb5f)](_0x1418c6);return JSON[_0x342dfb(0xb6b)](_0x473fd2);}[_0x4a13a(0x57d)](_0x40eb0f){const _0x1c1886=_0x4a13a,_0x1abff6=new Uint8Array(_0x40eb0f['slice'](0x0,0x4)),_0x1c434e=new Uint32Array(_0x1abff6[_0x1c1886(0x6fd)])[0x0],_0x49aa4c=new Uint8Array(_0x40eb0f[_0x1c1886(0x420)](0x4,0x4+_0x1c434e)),_0x51b11=new Uint8Array(_0x40eb0f[_0x1c1886(0x420)](0x4+_0x1c434e));return[this[_0x1c1886(0x5f3)](_0x49aa4c[_0x1c1886(0x6fd)]),_0x51b11[_0x1c1886(0x6fd)]];}}const _0x2dc38f=0xc350;var _0x26440c,_0x141a98;!function(_0x2ce164){const _0x2b099f=_0x4a13a;_0x2ce164[_0x2ce164[_0x2b099f(0x5d6)]=0x0]='High',_0x2ce164[_0x2ce164[_0x2b099f(0x490)]=0x1]=_0x2b099f(0x490),_0x2ce164[_0x2ce164[_0x2b099f(0xc2c)]=0x2]=_0x2b099f(0xc2c);}(_0x26440c||(_0x26440c={}));class _0x180d63 extends _0x31d3fe{['maxFps'];['maxBpp'];[_0x4a13a(0xb7e)]=new Map();['heartbeatUnsubscriber'];[_0x4a13a(0xb81)];[_0x4a13a(0x708)];[_0x4a13a(0x2c3)]=!0x1;[_0x4a13a(0x7d1)];[_0x4a13a(0x80e)];[_0x4a13a(0x841)];['retryQueue']=function(e,t=_0x26440c,n=!0x1){let s=!0x1;const i=[];async function o(){const _0x7edc19=a0_0x2cf3;if(!s){for(s=!0x0;i[_0x7edc19(0x427)](e=>e[_0x7edc19(0x2a6)]);){let t,s=0x0;for(const [e,n]of i[_0x7edc19(0x3a4)]())if(t=n['shift'](),s=e,t)break;if(t)try{if(e instanceof _0xe449bc&&e[_0x7edc19(0x374)](t),e instanceof _0x3f334d&&await e[_0x7edc19(0x374)](t),i[_0x7edc19(0x420)](-0x1)['some'](e=>e[_0x7edc19(0x2a6)]))continue;const n=i[_0x7edc19(0x454)]-0x1;s===n&&i[n][_0x7edc19(0x2a6)]&&await _0x37fc55[_0x7edc19(0xc22)](0x0);}catch(o){n?i[s][_0x7edc19(0x247)](t,!0x1):i[s]['unshift'](t,!0x1),await e[_0x7edc19(0xc22)]();}}s=!0x1;}}return Object['values'](t)['forEach'](e=>{'string'!=typeof e&&(i[e]=_0x5429c3(o));}),{'queues':i};}(new _0xe449bc(this[_0x4a13a(0x324)]['bind'](this),this[_0x4a13a(0x5f7)][_0x4a13a(0x65d)](this)));[_0x4a13a(0x333)]=0x0;[_0x4a13a(0x9f4)]=0x0;[_0x4a13a(0xbcc)]=0x0;[_0x4a13a(0x58b)]=0x0;['oncloseTimeout'];[_0x4a13a(0x7dd)]=_0x389830(_0x4a13a(0xc47),_0x2e74f6['SenderSendMessage']);constructor(_0x503388,_0x4ee293,_0x139957,_0x48100f,_0x3eef40,_0x221223,_0x1188b5,_0x2ccc82){const _0x1c4e71=_0x4a13a;super(_0x503388,_0x4ee293,_0x139957,_0x48100f,_0x3eef40,_0x2ccc82),this['maxFps']=_0x221223,this[_0x1c4e71(0xbda)]=_0x1188b5;}[_0x4a13a(0x935)](){const _0x40b6ae=_0x4a13a;this['clearUpgradeTimeout'](),this['clearHeartbeat'](),delete this[_0x40b6ae(0x708)],this['clearRestartTimeout'](),this[_0x40b6ae(0x875)](),this[_0x40b6ae(0x2da)](),this[_0x40b6ae(0xb7e)]['clear'](),this[_0x40b6ae(0x2c3)]=!0x1,this[_0x40b6ae(0x2f1)][_0x40b6ae(0x8c4)][_0x40b6ae(0x761)](_0x4f0a74=>_0x4f0a74[_0x40b6ae(0xb0f)]()),this[_0x40b6ae(0x334)](),super[_0x40b6ae(0x935)]();}[_0x4a13a(0x42d)](){const _0x3e3c6b=_0x4a13a;return!!this['lastHeartbeat']&&super[_0x3e3c6b(0x42d)]()&&Date[_0x3e3c6b(0xad3)]()-this['lastHeartbeat']<0x3a98;}async[_0x4a13a(0x426)](){const _0x41ba03=_0x4a13a;this[_0x41ba03(0x525)]&&(await this[_0x41ba03(0x200)]['collectSendersStats'](this[_0x41ba03(0xb7e)],(_0x35a217,_0x40f14a)=>{const _0x3a17fd=_0x41ba03;_0x435f56({'type':_0x1227a1[_0x3a17fd(0x76e)],'streamId':_0x40f14a,'nodeId':this['remoteId'],'stats':_0x35a217},this[_0x3a17fd(0x525)]);}),this[_0x41ba03(0x525)][_0x41ba03(0xa19)]({'sourceId':_0x2d73b4,'messageType':_0x29c5a4[_0x41ba03(0x99b)],'content':{'type':_0x1227a1[_0x41ba03(0x76e)],'nodeId':this[_0x41ba03(0x69f)],'stats':{'origin':_0x250b13[_0x41ba03(0x33f)],'timestamp':Date['now'](),'messagesSent':this[_0x41ba03(0x333)],'bytesSent':this['bytesSent'],'timeSending':this[_0x41ba03(0xbcc)],'roundTripTime':this['roundTripTime']}}}));}async[_0x4a13a(0x66f)](_0x2c0a95){const _0xfd630e=_0x4a13a;_0x260a6c['log'](_0x2e74f6[_0xfd630e(0x71c)],_0xfd630e(0x55b),this[_0xfd630e(0xc4d)][_0xfd630e(0xa47)](),this[_0xfd630e(0x69f)]),this[_0xfd630e(0x9e0)](),this[_0xfd630e(0x875)](),this[_0xfd630e(0x2da)](),this[_0xfd630e(0x7d1)]=setTimeout(()=>{this['handleDisconnect']();},0x7530),this[_0xfd630e(0x396)]||(this[_0xfd630e(0x396)]=this[_0xfd630e(0x200)]['createDataChannel'](_0xfd630e(0x728)),this[_0xfd630e(0x396)][_0xfd630e(0x6a6)]=_0x492dab,this[_0xfd630e(0x396)]['onClose']=()=>{const _0xca6600=_0xfd630e;this[_0xca6600(0x280)]=setTimeout(()=>{const _0x449a68=_0xca6600;delete this[_0x449a68(0x280)],['connecting',_0x449a68(0x4f0)][_0x449a68(0xa7f)](this[_0x449a68(0x396)]?.[_0x449a68(0x882)]??'')||this[_0x449a68(0x8ec)]();},0xfa);});const _0x12a411=await this[_0xfd630e(0x200)][_0xfd630e(0x66f)](_0x2c0a95);this[_0xfd630e(0x708)]||(this['lastHeartbeat']=Date[_0xfd630e(0xad3)]());const _0x2b775a=(0x0,_0xafe7f0['v4'])();this[_0xfd630e(0x8a5)]({'type':_0x1227a1[_0xfd630e(0xaeb)],'offer':_0x12a411,'version':this[_0xfd630e(0x771)],'connectionType':this['connectionType']},_0x2b775a),this['connectionType']===_0x1c7a0b[_0xfd630e(0x680)]&&(this[_0xfd630e(0xb81)]=_0x37fc55['setInterval'](()=>{const _0x48d1e9=_0xfd630e;this[_0x48d1e9(0x8a5)]({'type':_0x1227a1['Offer'],'offer':_0x12a411,'version':this[_0x48d1e9(0x771)],'connectionType':this[_0x48d1e9(0x3d0)]},_0x2b775a);},0x1388));}async[_0x4a13a(0xade)](_0x80016c,_0x1cea3d){const _0x5712cf=_0x4a13a;if(_0x1cea3d===this['currentVersion']){this['clearWaitAnswer']();try{await this[_0x5712cf(0x200)][_0x5712cf(0xade)](_0x80016c,this['createOffer'][_0x5712cf(0x65d)](this)),this[_0x5712cf(0xb34)](),this['clearConnectionTimeout'](),this[_0x5712cf(0x5a2)]();}catch(_0x3e1911){this[_0x5712cf(0x8ec)]();}}}[_0x4a13a(0x381)](_0x874d56){const _0x19735e=_0x4a13a;if(!this[_0x19735e(0x396)])throw new _0x240123(_0x240123[_0x19735e(0x2f7)]['InvalidDataChannel'],{'message':_0x19735e(0x9f3),'localId':this[_0x19735e(0xc4d)]['getId'](),'remoteId':this[_0x19735e(0x69f)],'eventMessage':_0x874d56});if(_0x19735e(0x4f0)!==this[_0x19735e(0x396)][_0x19735e(0x882)])throw new _0x240123(_0x240123[_0x19735e(0x2f7)][_0x19735e(0x282)],{'message':_0x19735e(0x879),'localId':this[_0x19735e(0xc4d)][_0x19735e(0xa47)](),'remoteId':this['remoteId'],'eventMessage':_0x874d56});let _0x2f7720;if(_0x874d56[_0x19735e(0x816)][_0x19735e(0x728)]instanceof ArrayBuffer){const _0x1b2ca0=_0x874d56[_0x19735e(0x816)][_0x19735e(0x728)];_0x874d56={..._0x874d56,'content':{..._0x874d56['content'],'data':void 0x0}},_0x2f7720=this['mergeParts'](_0x874d56,_0x1b2ca0);}else _0x2f7720=JSON['stringify'](_0x874d56);if(_0x19735e(0x924)==typeof _0x2f7720&&_0x2f7720[_0x19735e(0x454)]>_0x35543f)return void this[_0x19735e(0x6de)](_0x874d56,_0x2f7720);0x0===_0x874d56[_0x19735e(0x781)]&&_0x874d56[_0x19735e(0x5d4)]===_0x29c5a4[_0x19735e(0xbf2)]&&this[_0x19735e(0x7dd)][_0x19735e(0x2d5)]['performCalculation'](()=>_0x260a6c[_0x19735e(0x8b9)](_0x2e74f6[_0x19735e(0x5ee)],_0x19735e(0x2a1),this['remoteId'],_0x4d1c2d(_0x874d56)),void 0x0);const _0x1d591b=0x0===_0x874d56[_0x19735e(0x781)]&&[_0x29c5a4[_0x19735e(0xa53)],_0x29c5a4[_0x19735e(0x99b)]][_0x19735e(0xa7f)](_0x874d56[_0x19735e(0x5d4)])?_0x26440c[_0x19735e(0x5d6)]:_0x874d56 instanceof ArrayBuffer?_0x26440c[_0x19735e(0xc2c)]:_0x26440c[_0x19735e(0x490)];this[_0x19735e(0x6a2)](_0x2f7720,_0x1d591b);}[_0x4a13a(0x896)](_0x2df7c2,_0x5c27a5,_0x4229b6,_0x39d76a){const _0x44c98e=_0x4a13a,_0x3f55dc=(_0x2eda29=this[_0x44c98e(0x6cb)],_0x4a5c95=this[_0x44c98e(0xbda)],Math[_0x44c98e(0x268)](0xe1000*_0x2eda29*_0x4a5c95));var _0x2eda29,_0x4a5c95;const _0x43dd5e=this['senders']['get'](_0x5c27a5['id'])||{'stream':_0x5c27a5,'priority':_0x4229b6,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x3f55dc,'maxBitrate':_0x3f55dc,'framerate':this[_0x44c98e(0x6cb)],'maxFramerate':this[_0x44c98e(0x6cb)],'tracks':{},'params':_0x39d76a},_0x57e4ac=_0x43dd5e[_0x44c98e(0x6e9)][_0x2df7c2['kind']]||{'track':_0x2df7c2};if(_0x57e4ac[_0x44c98e(0x8a4)]?(_0x57e4ac[_0x44c98e(0x6ba)]=_0x2df7c2,this[_0x44c98e(0x200)]['replaceTrack'](_0x2df7c2,_0x57e4ac[_0x44c98e(0x8a4)])):_0x57e4ac[_0x44c98e(0x8a4)]=this[_0x44c98e(0x200)][_0x44c98e(0x896)](_0x2df7c2,_0x5c27a5),_0x43dd5e[_0x44c98e(0x6e9)][_0x2df7c2[_0x44c98e(0x4b2)]]=_0x57e4ac,_0x39d76a&&(_0x43dd5e[_0x44c98e(0xbe8)]=_0x39d76a),_0x39d76a&&_0x44c98e(0x1f6)===_0x39d76a[_0x44c98e(0x4b2)]&&_0x39d76a[_0x44c98e(0x741)]&&_0x39d76a[_0x44c98e(0x923)]&&(_0x43dd5e[_0x44c98e(0x2a5)]=this[_0x44c98e(0x535)](_0x39d76a['resolution'],_0x39d76a[_0x44c98e(0x923)]),_0x43dd5e['minResolutionScale']=_0x43dd5e[_0x44c98e(0x2a5)],_0x43dd5e[_0x44c98e(0x6e9)][_0x44c98e(0x1f6)]&&_0x43dd5e[_0x44c98e(0x6e9)][_0x44c98e(0x1f6)][_0x44c98e(0x8a4)])){const _0x4ded98=_0x43dd5e[_0x44c98e(0x6e9)]['video'][_0x44c98e(0x8a4)];this[_0x44c98e(0x200)][_0x44c98e(0x386)](_0x4ded98,Math[_0x44c98e(0x268)](0xa*_0x43dd5e[_0x44c98e(0x2a5)])/0xa,_0x43dd5e[_0x44c98e(0x800)],_0x43dd5e['bitrate'],_0x43dd5e[_0x44c98e(0x3e9)]);}this[_0x44c98e(0xb7e)][_0x44c98e(0x2a7)](_0x5c27a5['id'],_0x43dd5e);}[_0x4a13a(0x35f)](_0x3460c5,_0x5d9620){const _0x1b4ef2=_0x4a13a,_0x222a3a=this[_0x1b4ef2(0xb7e)][_0x1b4ef2(0x68c)](_0x3460c5['id']);if(_0x222a3a&&_0x222a3a[_0x1b4ef2(0x3e9)]!==_0x5d9620&&(_0x222a3a[_0x1b4ef2(0x3e9)]=_0x5d9620,_0x222a3a[_0x1b4ef2(0x6e9)][_0x1b4ef2(0x1f6)]&&_0x222a3a['tracks']['video'][_0x1b4ef2(0x8a4)])){const _0x24024b=_0x222a3a[_0x1b4ef2(0x6e9)]['video']['sender'];this[_0x1b4ef2(0x200)][_0x1b4ef2(0x386)](_0x24024b,Math['floor'](0xa*_0x222a3a[_0x1b4ef2(0x2a5)])/0xa,_0x222a3a[_0x1b4ef2(0x800)],_0x222a3a['bitrate'],_0x222a3a[_0x1b4ef2(0x3e9)]);}}['setParams'](_0x4f22f9,_0x2241b4){const _0x48f295=_0x4a13a,_0x5dc4b2=this['senders'][_0x48f295(0x68c)](_0x4f22f9['id']);if(_0x5dc4b2){if(_0x5dc4b2[_0x48f295(0xbe8)]=_0x2241b4,_0x2241b4&&'video'===_0x2241b4['kind']&&_0x2241b4[_0x48f295(0x741)]&&_0x2241b4[_0x48f295(0x923)]){if(_0x5dc4b2['minResolutionScale']=this[_0x48f295(0x535)](_0x2241b4[_0x48f295(0x741)],_0x2241b4[_0x48f295(0x923)]),_0x5dc4b2[_0x48f295(0x2a5)]<_0x5dc4b2[_0x48f295(0xbed)]&&(_0x5dc4b2[_0x48f295(0x2a5)]=_0x5dc4b2[_0x48f295(0xbed)]),_0x5dc4b2[_0x48f295(0x6e9)]['video']&&_0x5dc4b2['tracks'][_0x48f295(0x1f6)][_0x48f295(0x8a4)]){const _0x595122=_0x5dc4b2[_0x48f295(0x6e9)][_0x48f295(0x1f6)][_0x48f295(0x8a4)];this[_0x48f295(0x200)]['setEncodingParameters'](_0x595122,Math[_0x48f295(0x268)](0xa*_0x5dc4b2['resolutionScale'])/0xa,_0x5dc4b2[_0x48f295(0x800)],_0x5dc4b2[_0x48f295(0x415)],_0x5dc4b2[_0x48f295(0x3e9)]);}this[_0x48f295(0x447)](),this['setUpgradeTimeout']();}this[_0x48f295(0xb7e)][_0x48f295(0x2a7)](_0x4f22f9['id'],_0x5dc4b2);}}['removeTrack'](_0x44aa84,_0x211d6b){const _0x5247af=_0x4a13a,_0x47d4d1=this[_0x5247af(0xb7e)][_0x5247af(0x68c)](_0x211d6b['id']);if(_0x47d4d1){const _0x24b2a6=_0x47d4d1[_0x5247af(0x6e9)][_0x44aa84['kind']];_0x24b2a6&&(_0x24b2a6[_0x5247af(0x8a4)]&&this[_0x5247af(0x200)][_0x5247af(0x6cc)](_0x24b2a6['sender']),_0x24b2a6[_0x5247af(0x6ba)]=void 0x0);}}[_0x4a13a(0x596)](_0xcf8923){const _0x15001e=_0x4a13a;this[_0x15001e(0x447)]();const _0x24f5d7=function(_0x1bb849,_0x22e4e9){const _0x161e07=_0x15001e;return _0x1bb849[_0x161e07(0xbde)]((_0x191bda,_0x59bafb)=>_0x22e4e9[_0x161e07(0x395)]===_0x1d065f[_0x161e07(0xbf1)]?_0x59bafb[_0x161e07(0x3e9)]-_0x191bda[_0x161e07(0x3e9)]:_0x191bda['priority']-_0x59bafb['priority'])[_0x161e07(0x319)](_0x1b5eb9=>function(_0x394840,_0x80f001){const _0x51cacc=_0x161e07;if(_0x80f001[_0x51cacc(0x395)]===_0x1d065f['Downgrade']){if(_0x80f001[_0x51cacc(0x7cb)]===_0x3b258f[_0x51cacc(0xb6c)])return _0x394840['resolutionScale']<0x4||_0x394840[_0x51cacc(0x1de)]>0xf;if(_0x80f001[_0x51cacc(0x7cb)]===_0x3b258f['Bitrate'])return _0x394840[_0x51cacc(0xa6b)]>_0x2dc38f;}return _0x394840[_0x51cacc(0x2a5)]>_0x394840[_0x51cacc(0xbed)]||_0x394840[_0x51cacc(0x800)]<_0x394840[_0x51cacc(0x1de)]||_0x394840['bitrate']<_0x394840['maxBitrate'];}(_0x1b5eb9,_0x22e4e9));}(Array['from'](this['senders'][_0x15001e(0x331)]()),_0xcf8923);if(_0x24f5d7&&(function(_0x22d8a4,_0x1a0567){const _0x4507a7=_0x15001e;_0x22d8a4['tracks'][_0x4507a7(0x1f6)]&&_0x22d8a4['tracks'][_0x4507a7(0x1f6)]['sender']&&(_0x22d8a4['resolutionScale']=function(_0x1960fd,_0x597ec5,_0x3ca387){const _0x1bf798=_0x4507a7;switch(_0x3ca387['action']){case _0x1d065f[_0x1bf798(0xbf1)]:_0x3ca387['component']===_0x3b258f[_0x1bf798(0xb6c)]&&(_0x1960fd+=0.5)>0x4&&(_0x1960fd=0x4);break;case _0x1d065f[_0x1bf798(0x608)]:(_0x1960fd-=0.5)<_0x597ec5&&(_0x1960fd=_0x597ec5);}return _0x1960fd;}(_0x22d8a4['resolutionScale'],_0x22d8a4['minResolutionScale'],_0x1a0567),_0x22d8a4['framerate']=function(_0x17f54c,_0x33cd6e,_0x44abec){const _0x170d7d=_0x4507a7;switch(_0x44abec['action']){case _0x1d065f[_0x170d7d(0xbf1)]:_0x44abec[_0x170d7d(0x7cb)]===_0x3b258f[_0x170d7d(0xb6c)]&&(_0x17f54c-=0x3)<0xf&&(_0x17f54c=0xf);break;case _0x1d065f['Upgrade']:(_0x17f54c+=0x3)>_0x33cd6e&&(_0x17f54c=_0x33cd6e);}return _0x17f54c;}(_0x22d8a4[_0x4507a7(0x800)],_0x22d8a4[_0x4507a7(0x1de)],_0x1a0567),_0x22d8a4[_0x4507a7(0x415)]=function(_0x40c2c7,_0x5b8911,_0x4ad87b){const _0x1a088d=_0x4507a7;switch(_0x4ad87b[_0x1a088d(0x395)]){case _0x1d065f['Downgrade']:_0x4ad87b[_0x1a088d(0x7cb)]===_0x3b258f['Bitrate']&&(_0x40c2c7*=0.75)<_0x2dc38f&&(_0x40c2c7=_0x2dc38f);break;case _0x1d065f[_0x1a088d(0x608)]:(_0x40c2c7*=1.25)>_0x5b8911&&(_0x40c2c7=_0x5b8911);}return _0x40c2c7;}(_0x22d8a4[_0x4507a7(0x415)],_0x22d8a4[_0x4507a7(0xa6b)],_0x1a0567));}(_0x24f5d7,_0xcf8923),_0x24f5d7['tracks'][_0x15001e(0x1f6)]&&_0x24f5d7[_0x15001e(0x6e9)][_0x15001e(0x1f6)][_0x15001e(0x8a4)])){const _0x34aa76=_0x24f5d7[_0x15001e(0x6e9)][_0x15001e(0x1f6)][_0x15001e(0x8a4)];this['connection'][_0x15001e(0x386)](_0x34aa76,Math[_0x15001e(0x268)](0xa*_0x24f5d7[_0x15001e(0x2a5)])/0xa,_0x24f5d7[_0x15001e(0x800)],_0x24f5d7[_0x15001e(0x415)],_0x24f5d7[_0x15001e(0x3e9)]);}(_0x24f5d7||_0xcf8923['action']===_0x1d065f[_0x15001e(0xbf1)])&&this[_0x15001e(0x389)]();}[_0x4a13a(0xb74)](){const _0x496772=_0x4a13a;return this[_0x496772(0x2f1)][_0x496772(0x8c4)]['reduce']((_0x590b00,_0x2af2c0)=>_0x590b00+_0x2af2c0['size'],0x0)*_0x4e2e3f;}['getBufferedAmount'](){const _0x3892aa=_0x4a13a;return this[_0x3892aa(0x396)]?.['bufferedAmount']??0x0;}['resetConnection'](){const _0x59c90b=_0x4a13a;super[_0x59c90b(0x55f)](),this[_0x59c90b(0x334)](),this[_0x59c90b(0x2da)](),this['senders'][_0x59c90b(0x761)](_0x142add=>{const _0x464e81=_0x59c90b;_0x142add[_0x464e81(0x6e9)][_0x464e81(0x1f6)]&&(_0x142add['tracks'][_0x464e81(0x1f6)][_0x464e81(0x8a4)]=void 0x0),_0x142add[_0x464e81(0x6e9)][_0x464e81(0x39c)]&&(_0x142add[_0x464e81(0x6e9)][_0x464e81(0x39c)][_0x464e81(0x8a4)]=void 0x0);}),this[_0x59c90b(0x2c3)]=!0x0;}async[_0x4a13a(0x5f7)](){return new Promise(async _0x29e584=>{const _0x19d371=a0_0x2cf3;if(!this['dataChannel']||_0x19d371(0x4f0)!==this[_0x19d371(0x396)]['state'])return await _0x37fc55[_0x19d371(0xc22)](0x64),void _0x29e584();this[_0x19d371(0x396)][_0x19d371(0x5e0)]<_0x492dab?_0x29e584():this[_0x19d371(0x396)][_0x19d371(0xb63)]=()=>{const _0xd4d5a8=_0x19d371;this[_0xd4d5a8(0x396)]&&(this[_0xd4d5a8(0x396)][_0xd4d5a8(0xb63)]=null),_0x29e584();};});}async['sendChunked'](_0x50386b,_0x1bd35c){const _0x7be68=_0x4a13a,_0x5d846a=[];for(let _0x3724b6=0x0;_0x3724b6<_0x1bd35c[_0x7be68(0x454)];_0x3724b6+=_0x35543f)_0x5d846a['push'](_0x1bd35c['slice'](_0x3724b6,_0x3724b6+_0x35543f));for(const _0x883fb5 of _0x5d846a){for(;this[_0x7be68(0x2f1)][_0x7be68(0x8c4)][_0x26440c[_0x7be68(0xc2c)]][_0x7be68(0x7a7)]>0x1;)await _0x37fc55[_0x7be68(0xc22)](0x64);this[_0x7be68(0x6a2)](_0x3f2979+';'+_0x50386b[_0x7be68(0x723)]+';'+_0x5d846a[_0x7be68(0x619)](_0x883fb5)+';'+_0x5d846a[_0x7be68(0x454)]+';'+_0x883fb5,_0x26440c['Low']);}}async['sendWithRetry'](_0x150966,_0x5b3e53){const _0x35f022=_0x4a13a;_0x150966===_0x4243c3?this['retryQueue'][_0x35f022(0x8c4)][_0x5b3e53][_0x35f022(0x2a6)]?.['value']!==_0x4243c3&&this[_0x35f022(0x2f1)][_0x35f022(0x8c4)][_0x5b3e53][_0x35f022(0x2ee)](_0x150966):this[_0x35f022(0x2f1)][_0x35f022(0x8c4)][_0x5b3e53]['push'](_0x150966);}['sendAction'](_0x2819ea){const _0x4febc0=_0x4a13a;if(!this['dataChannel']||'open'!==this[_0x4febc0(0x396)]['state'])throw new Error(_0x4febc0(0x8d9));if(this['dataChannel'][_0x4febc0(0x5e0)]>=0x600000)throw new Error(_0x4febc0(0xa60));const _0x427dcd=Date['now']();_0x2819ea!==_0x4243c3&&(this[_0x4febc0(0x333)]+=0x1,this[_0x4febc0(0x9f4)]+=_0x2819ea instanceof ArrayBuffer?_0x2819ea[_0x4febc0(0x4a8)]:_0x2819ea[_0x4febc0(0x454)]);try{ArrayBuffer,this[_0x4febc0(0x396)][_0x4febc0(0x381)](_0x2819ea);}catch(_0x291edc){throw console[_0x4febc0(0x33b)]('DataChannel\x20send\x20error',_0x291edc),_0x291edc;}this['timeSending']+=Date['now']()-_0x427dcd;}[_0x4a13a(0x5a2)](){const _0x28d75f=_0x4a13a;this[_0x28d75f(0xb1d)]&&this['clearHeartbeat']();let _0x4e8da4=!0x0,_0x3e7d66=Date['now']();this['lastHeartbeat']=Date[_0x28d75f(0xad3)](),this[_0x28d75f(0x396)][_0x28d75f(0x3b0)]=_0x32ee1b=>{const _0x4f9405=_0x28d75f;'1'===_0x32ee1b[_0x4f9405(0x728)]&&(this['roundTripTime']=Date['now']()-_0x3e7d66,_0x4e8da4&&this[_0x4f9405(0x8a5)]({'type':_0x1227a1[_0x4f9405(0x88b)]}),_0x4e8da4=!0x1,this[_0x4f9405(0x708)]=Date[_0x4f9405(0xad3)](),this[_0x4f9405(0x2c3)]&&(this[_0x4f9405(0x2c3)]=!0x1,this[_0x4f9405(0x8f2)]()));},this['heartbeatUnsubscriber']=_0x37fc55[_0x28d75f(0x583)](()=>{const _0x34f1d8=_0x28d75f;_0x3e7d66=Date[_0x34f1d8(0xad3)](),this[_0x34f1d8(0x6a2)](_0x4243c3,_0x26440c[_0x34f1d8(0x5d6)]),Date[_0x34f1d8(0xad3)]()-this['lastHeartbeat']>(_0x4e8da4?0x15f90:0x3a98)&&this['handleDisconnect']();},0xbb8);}[_0x4a13a(0x8f2)](){const _0x4b0c89=_0x4a13a;this[_0x4b0c89(0xb7e)][_0x4b0c89(0x761)](_0x10eddc=>{const _0x327bb0=_0x4b0c89;_0x10eddc['tracks']['video']&&_0x10eddc[_0x327bb0(0x6e9)]['video'][_0x327bb0(0x6ba)]&&!_0x10eddc['tracks'][_0x327bb0(0x1f6)][_0x327bb0(0x8a4)]&&(_0x10eddc[_0x327bb0(0x6e9)]['video'][_0x327bb0(0x8a4)]=this['connection'][_0x327bb0(0x896)](_0x10eddc['tracks'][_0x327bb0(0x1f6)][_0x327bb0(0x6ba)],_0x10eddc[_0x327bb0(0x3c6)])),_0x10eddc['tracks'][_0x327bb0(0x39c)]&&_0x10eddc['tracks'][_0x327bb0(0x39c)]['track']&&!_0x10eddc[_0x327bb0(0x6e9)]['audio']['sender']&&(_0x10eddc[_0x327bb0(0x6e9)][_0x327bb0(0x39c)][_0x327bb0(0x8a4)]=this['connection'][_0x327bb0(0x896)](_0x10eddc[_0x327bb0(0x6e9)][_0x327bb0(0x39c)]['track'],_0x10eddc[_0x327bb0(0x3c6)]));});}[_0x4a13a(0x237)](){const _0x4288ff=_0x4a13a;this[_0x4288ff(0x8a5)]({'type':_0x1227a1['Handshake'],'candidates':this[_0x4288ff(0x5cf)],'origin':_0x250b13[_0x4288ff(0x33f)],'version':this[_0x4288ff(0x771)],'connectionType':this[_0x4288ff(0x3d0)]});}[_0x4a13a(0x714)](){const _0x1dbc83=_0x4a13a;super[_0x1dbc83(0x714)](),this[_0x1dbc83(0x200)]['onHandshakeStateChange']=()=>{const _0x4456b4=_0x1dbc83;if(_0x4456b4(0xc34)===this[_0x4456b4(0x200)][_0x4456b4(0x484)]){_0x260a6c['log'](_0x2e74f6['ConnectionState'],_0x4456b4(0x437),this[_0x4456b4(0xc4d)][_0x4456b4(0xa47)](),this[_0x4456b4(0x69f)]);try{if(this['connection'][_0x4456b4(0xbe3)])return void this[_0x4456b4(0x200)][_0x4456b4(0xb19)]();}catch(_0x49a790){}this[_0x4456b4(0x66f)]({'handshakeRestart':!0x0});}},this[_0x1dbc83(0x200)][_0x1dbc83(0x485)]=()=>{const _0x120d29=_0x1dbc83;_0x120d29(0x9c3)!==this['connection'][_0x120d29(0x615)]&&_0x120d29(0xc34)!==this['connection'][_0x120d29(0x615)]||this[_0x120d29(0x8ec)]();};}[_0x4a13a(0x8ec)](){const _0x559593=_0x4a13a;this['clearHeartbeat'](),this[_0x559593(0x9e0)](),this[_0x559593(0x875)](),_0x260a6c[_0x559593(0x885)](_0x559593(0x9f1),{'clusterId':this[_0x559593(0x88f)],'nodeId':this[_0x559593(0xc4d)][_0x559593(0xa47)](),'nodeType':this['localNode'][_0x559593(0xbdd)],'remoteId':this['remoteId'],'data':{'connectionType':this[_0x559593(0x3d0)],'connectionState':this['connection']['connectionState'],'iceConnectionState':this['connection'][_0x559593(0x484)],'signalingState':this['connection']['signalingState'],'readyState':this[_0x559593(0x396)]?.[_0x559593(0x882)]||'','lastHeartbeat':this[_0x559593(0x708)]?Date['now']()-this[_0x559593(0x708)]:'','retryQueue':this[_0x559593(0x2f1)]}}),(this[_0x559593(0x708)]&&Date[_0x559593(0xad3)]()-this['lastHeartbeat']>0xea60)??0x1?this[_0x559593(0x525)][_0x559593(0xa19)]({'sourceId':this[_0x559593(0x69f)],'destinationIds':[this[_0x559593(0xc4d)][_0x559593(0xa47)]()],'messageType':_0x29c5a4[_0x559593(0x99b)],'content':{'type':_0x1227a1[_0x559593(0x6f3)]}}):(this[_0x559593(0x55f)](),this[_0x559593(0x8a5)]({'type':_0x1227a1[_0x559593(0x627)],'version':this[_0x559593(0x771)],'connectionType':this[_0x559593(0x3d0)]}),this[_0x559593(0x80e)]=setTimeout(()=>{const _0x39a1d7=_0x559593;this[_0x39a1d7(0x8ec)]();},0x7530));}[_0x4a13a(0x6a3)](){const _0x3b566d=_0x4a13a;this[_0x3b566d(0xb1d)]?.(),delete this[_0x3b566d(0xb1d)];}[_0x4a13a(0x875)](){const _0x74bedb=_0x4a13a;this[_0x74bedb(0x7d1)]&&(clearTimeout(this[_0x74bedb(0x7d1)]),delete this[_0x74bedb(0x7d1)]);}[_0x4a13a(0x9e0)](){const _0x5945f1=_0x4a13a;this[_0x5945f1(0x80e)]&&(clearTimeout(this['restartTimeout']),delete this[_0x5945f1(0x80e)]);}[_0x4a13a(0x447)](){const _0x59ff90=_0x4a13a;this[_0x59ff90(0x841)]&&(clearTimeout(this[_0x59ff90(0x841)]),delete this[_0x59ff90(0x841)]);}['setUpgradeTimeout'](){const _0x337edc=_0x4a13a;this[_0x337edc(0x841)]=setTimeout(()=>{const _0x3221c2=_0x337edc;this[_0x3221c2(0x596)]({'type':_0x410ae3[_0x3221c2(0x401)],'action':_0x1d065f[_0x3221c2(0x608)]});},0x3a98);}['getResolutionScale'](_0xdd390e,_0x392a9e){const _0x1f51f8=_0x4a13a,_0x37cd67=Math[_0x1f51f8(0x340)](_0xdd390e[_0x1f51f8(0x20b)]/_0x392a9e['width'],_0xdd390e[_0x1f51f8(0x571)]/_0x392a9e[_0x1f51f8(0x571)]);return Math[_0x1f51f8(0x80c)](Math[_0x1f51f8(0x340)](_0x37cd67,0x1),0x4);}[_0x4a13a(0x2da)](){const _0x5531c1=_0x4a13a;this['waitAnswer']?.(),delete this[_0x5531c1(0xb81)];}[_0x4a13a(0x334)](){const _0xb4fdaf=_0x4a13a;this[_0xb4fdaf(0x280)]&&(clearTimeout(this[_0xb4fdaf(0x280)]),delete this[_0xb4fdaf(0x280)]);}[_0x4a13a(0x542)](_0xd8a8df){const _0x5511ca=_0x4a13a,_0x1b92c0=JSON[_0x5511ca(0x320)](_0xd8a8df);return new TextEncoder()[_0x5511ca(0x6e8)](_0x1b92c0)[_0x5511ca(0x6fd)];}[_0x4a13a(0xbef)](_0x1fde50,_0x3b1c10){const _0x3652e8=_0x4a13a,_0x535faf=this['objectToArrayBuffer'](_0x1fde50),_0x23f42d=new Uint8Array(0x4),_0x49e8b1=new Uint8Array(_0x535faf),_0x5a114c=new Uint8Array(_0x3b1c10);_0x23f42d[_0x3652e8(0x2a7)](new Uint8Array(new Uint32Array([_0x49e8b1[_0x3652e8(0x454)]])[_0x3652e8(0x6fd)]));const _0x3dbba0=new Uint8Array(0x4+_0x49e8b1[_0x3652e8(0x454)]+_0x5a114c[_0x3652e8(0x454)]);return _0x3dbba0['set'](_0x23f42d),_0x3dbba0[_0x3652e8(0x2a7)](_0x49e8b1,0x4),_0x3dbba0[_0x3652e8(0x2a7)](_0x5a114c,0x4+_0x49e8b1['length']),_0x3dbba0[_0x3652e8(0x6fd)];}}class _0x57b2b0 extends _0x159b29{['iceServers'];[_0x4a13a(0x3d0)];[_0x4a13a(0x6cb)];[_0x4a13a(0xbda)];['connectionConstructor'];['senderConnection'];[_0x4a13a(0x8ee)];[_0x4a13a(0x388)]=[];[_0x4a13a(0xbbb)]=_0x47b7f3();['trackListeners']=_0x47b7f3();[_0x4a13a(0x42a)]=_0x47b7f3();['listenerUnsubscribers']=[];[_0x4a13a(0x525)];[_0x4a13a(0x639)]=new Map();[_0x4a13a(0x821)]=new Map();[_0x4a13a(0x6d4)]=new Map();[_0x4a13a(0x212)]=new Map();['successNotified']=!0x1;constructor(_0x32d4ce,_0xc2e92a,_0x186c74,_0x3b8ca2,_0x428ea3,_0x2f5e46,_0x29db41,_0x5dfc62){const _0x4f4eb9=_0x4a13a;super(_0x32d4ce,_0xc2e92a,_0x186c74),this[_0x4f4eb9(0x4a4)]=_0x3b8ca2,this[_0x4f4eb9(0x3d0)]=_0x428ea3,this[_0x4f4eb9(0x6cb)]=_0x2f5e46,this[_0x4f4eb9(0xbda)]=_0x29db41,this['connectionConstructor']=_0x5dfc62;}[_0x4a13a(0xb4f)](_0x2545b4){const _0xe89536=_0x4a13a;switch(_0x2545b4[_0xe89536(0x743)]()){case _0x52458b[_0xe89536(0x54c)][_0xe89536(0xbfd)]:case _0x52458b[_0xe89536(0x54c)]['PubSub']:case _0x52458b[_0xe89536(0x54c)][_0xe89536(0x46e)]:case _0x52458b[_0xe89536(0x54c)][_0xe89536(0xba3)]:case _0x52458b[_0xe89536(0x54c)]['Job']:case _0x52458b['ContentType'][_0xe89536(0x844)]:case _0x52458b['ContentType'][_0xe89536(0x5dd)]:case _0x52458b['ContentType'][_0xe89536(0x82a)]:this[_0xe89536(0x639)][_0xe89536(0x2a7)](_0x2545b4[_0xe89536(0x287)](),_0x2545b4);break;case _0x52458b[_0xe89536(0x54c)][_0xe89536(0x5f6)]:this[_0xe89536(0x6d4)][_0xe89536(0x2a7)](_0x2545b4['getLabel'](),_0x2545b4);}}['unregisterPublisher'](_0x5395fe){const _0x3522f6=_0x4a13a;switch(_0x5395fe['getContentType']()){case _0x52458b[_0x3522f6(0x54c)][_0x3522f6(0xbfd)]:case _0x52458b[_0x3522f6(0x54c)][_0x3522f6(0x346)]:case _0x52458b[_0x3522f6(0x54c)][_0x3522f6(0x46e)]:case _0x52458b[_0x3522f6(0x54c)][_0x3522f6(0xba3)]:case _0x52458b[_0x3522f6(0x54c)]['Job']:case _0x52458b[_0x3522f6(0x54c)][_0x3522f6(0x844)]:case _0x52458b['ContentType'][_0x3522f6(0x5dd)]:case _0x52458b['ContentType'][_0x3522f6(0x82a)]:this[_0x3522f6(0x639)][_0x3522f6(0xb18)](_0x5395fe[_0x3522f6(0x287)]());break;case _0x52458b['ContentType'][_0x3522f6(0x5f6)]:this[_0x3522f6(0x6d4)][_0x3522f6(0xb18)](_0x5395fe['getLabel']());}}[_0x4a13a(0xa1f)](_0x482509){const _0x4f056a=_0x4a13a;switch(_0x482509[_0x4f056a(0x743)]()){case _0x52458b[_0x4f056a(0x54c)][_0x4f056a(0xbfd)]:case _0x52458b[_0x4f056a(0x54c)][_0x4f056a(0x346)]:case _0x52458b[_0x4f056a(0x54c)][_0x4f056a(0x46e)]:case _0x52458b[_0x4f056a(0x54c)][_0x4f056a(0xba3)]:case _0x52458b[_0x4f056a(0x54c)][_0x4f056a(0x65a)]:case _0x52458b[_0x4f056a(0x54c)][_0x4f056a(0x844)]:case _0x52458b[_0x4f056a(0x54c)][_0x4f056a(0x5dd)]:case _0x52458b[_0x4f056a(0x54c)][_0x4f056a(0x82a)]:{const _0x5e06e4=_0x482509[_0x4f056a(0x7a8)](_0x42e9d2=>{const _0x31503f=_0x4f056a;_0x25a203(_0x42e9d2,this[_0x31503f(0x47c)]())&&_0x535954(_0x42e9d2,this[_0x31503f(0x69f)])&&this[_0x31503f(0x381)](_0x42e9d2);});this[_0x4f056a(0x821)][_0x4f056a(0x2a7)](_0x482509[_0x4f056a(0x287)](),_0x5e06e4);break;}case _0x52458b[_0x4f056a(0x54c)][_0x4f056a(0x5f6)]:{const _0xc76d22=_0x482509['subscribe'](({content:_0x214ff3})=>{const _0x3af438=_0x4f056a;switch(_0x214ff3[_0x3af438(0x395)]){case _0x9ffb31[_0x3af438(0xc02)]:this[_0x3af438(0x896)](_0x214ff3['track'],_0x214ff3[_0x3af438(0x3c6)],_0x214ff3[_0x3af438(0x3e9)],_0x214ff3[_0x3af438(0xbe8)]);break;case _0x9ffb31['Remove']:this[_0x3af438(0x6cc)](_0x214ff3[_0x3af438(0x6ba)],_0x214ff3[_0x3af438(0x3c6)]);break;case _0x9ffb31['Update']:_0x214ff3[_0x3af438(0x3e9)]&&this[_0x3af438(0x35f)](_0x214ff3[_0x3af438(0x3c6)],_0x214ff3[_0x3af438(0x3e9)]),_0x214ff3[_0x3af438(0xbe8)]&&this[_0x3af438(0x745)](_0x214ff3[_0x3af438(0x3c6)],_0x214ff3['params']);}});this['mediaUnsubscribers']['set'](_0x482509[_0x4f056a(0x287)](),_0xc76d22);break;}}}[_0x4a13a(0x6dd)](_0x5d7311){const _0x25adcf=_0x4a13a;switch(_0x5d7311[_0x25adcf(0x743)]()){case _0x52458b['ContentType'][_0x25adcf(0xbfd)]:case _0x52458b[_0x25adcf(0x54c)][_0x25adcf(0x346)]:case _0x52458b['ContentType']['ObjectStore']:case _0x52458b[_0x25adcf(0x54c)][_0x25adcf(0xba3)]:case _0x52458b['ContentType']['Job']:case _0x52458b['ContentType']['VectorDatabase']:case _0x52458b['ContentType']['GraphDatabase']:case _0x52458b['ContentType'][_0x25adcf(0x82a)]:this[_0x25adcf(0x821)]['get'](_0x5d7311['getLabel']())?.(),this[_0x25adcf(0x821)]['delete'](_0x5d7311['getLabel']());break;case _0x52458b[_0x25adcf(0x54c)]['Media']:this[_0x25adcf(0x212)][_0x25adcf(0x68c)](_0x5d7311['getLabel']())?.(),this[_0x25adcf(0x212)][_0x25adcf(0xb18)](_0x5d7311['getLabel']());}}['getSupportedContentTypes'](){const _0x447640=_0x4a13a;return[_0x52458b[_0x447640(0x54c)]['Data'],_0x52458b[_0x447640(0x54c)][_0x447640(0x5f6)],_0x52458b['ContentType'][_0x447640(0x346)],_0x52458b[_0x447640(0x54c)][_0x447640(0x46e)],_0x52458b[_0x447640(0x54c)][_0x447640(0xba3)],_0x52458b[_0x447640(0x54c)]['Job'],_0x52458b[_0x447640(0x54c)][_0x447640(0x844)],_0x52458b[_0x447640(0x54c)][_0x447640(0x5dd)],_0x52458b[_0x447640(0x54c)][_0x447640(0x82a)]];}[_0x4a13a(0x348)](_0x5cebe1){const _0x3625dd=_0x4a13a;this[_0x3625dd(0x525)]=_0x5cebe1;}[_0x4a13a(0x2b4)](){const _0x459526=_0x4a13a;delete this[_0x459526(0x525)];}async[_0x4a13a(0x643)](){const _0x9dbf32=_0x4a13a;this[_0x9dbf32(0xc1a)](),await this['createOffer']();}[_0x4a13a(0x935)](){const _0x59b7c9=_0x4a13a;this['listenerUnsubscribers'][_0x59b7c9(0x761)](_0x3a537d=>_0x3a537d()),this[_0x59b7c9(0x307)]=[],this[_0x59b7c9(0x1da)]?.[_0x59b7c9(0x2b4)](),this['senderConnection']?.[_0x59b7c9(0x935)](),delete this[_0x59b7c9(0x1da)],this['receiverUnsubscribers'][_0x59b7c9(0x761)](_0x30b1f6=>_0x30b1f6()),this['receiverUnsubscribers']=[],this[_0x59b7c9(0x8ee)]?.['unregisterSystemPublisher'](),this[_0x59b7c9(0x8ee)]?.[_0x59b7c9(0x935)](),delete this[_0x59b7c9(0x8ee)];}[_0x4a13a(0x42d)](){const _0xca696f=_0x4a13a;return this['senderConnection']?.[_0xca696f(0x42d)]()&&this[_0xca696f(0x8ee)]?.[_0xca696f(0x42d)]()||!0x1;}[_0x4a13a(0x381)](_0x5680a8){const _0x427fc2=_0x4a13a;if(!this['senderConnection']||!this[_0x427fc2(0x42d)]())throw new _0x240123(_0x240123[_0x427fc2(0x2f7)][_0x427fc2(0x66b)],{'message':_0x427fc2(0x785),'senderConnected':this[_0x427fc2(0x1da)]?.[_0x427fc2(0x42d)](),'receiverConnected':this[_0x427fc2(0x8ee)]?.[_0x427fc2(0x42d)](),'localId':this['getLocalId'](),'remoteId':this[_0x427fc2(0x69f)],'data':_0x5680a8});this[_0x427fc2(0x1da)][_0x427fc2(0x381)](_0x5680a8);}['onMessage'](_0x306e26){const _0x115e98=_0x4a13a;return this[_0x115e98(0xbbb)][_0x115e98(0x7a8)](_0x306e26);}[_0x4a13a(0x6ff)](_0x2e29b8){const _0x4f47e4=_0x4a13a;return this[_0x4f47e4(0x8bb)][_0x4f47e4(0x7a8)](({track:_0x3760e4,stream:_0x32470b})=>_0x2e29b8(_0x3760e4,_0x32470b));}[_0x4a13a(0x3b5)](_0x48a4fe){const _0xf71dd2=_0x4a13a;return this[_0xf71dd2(0x42a)][_0xf71dd2(0x7a8)](({track:_0x5ee146,stream:_0xd6f8be})=>_0x48a4fe(_0x5ee146,_0xd6f8be));}['addTrack'](_0x57040d,_0x220255,_0x26e6df,_0x453960){const _0x3f601b=_0x4a13a;this[_0x3f601b(0x1da)]?.[_0x3f601b(0x896)](_0x57040d,_0x220255,_0x26e6df,_0x453960);}['setPriority'](_0x26a0c7,_0x462f0e){const _0xef23f8=_0x4a13a;this['senderConnection']?.[_0xef23f8(0x35f)](_0x26a0c7,_0x462f0e);}[_0x4a13a(0x745)](_0x2383ad,_0x18623f){this['senderConnection']?.['setParams'](_0x2383ad,_0x18623f);}[_0x4a13a(0x6cc)](_0x38808a,_0x215ba2){const _0x116fab=_0x4a13a;this[_0x116fab(0x1da)]?.[_0x116fab(0x6cc)](_0x38808a,_0x215ba2);}async[_0x4a13a(0xc1e)](_0x2bc2fe){const _0x281e5a=_0x4a13a;_0x260a6c['log'](_0x2e74f6[_0x281e5a(0x71c)],_0x281e5a(0x711),this[_0x281e5a(0x47c)](),_0x2bc2fe);const {content:_0x11dad8}=_0x2bc2fe;switch(_0x11dad8['type']){case _0x1227a1['Offer']:await this['handleOffer'](_0x11dad8);break;case _0x1227a1[_0x281e5a(0xa14)]:await this[_0x281e5a(0xade)](_0x11dad8);break;case _0x1227a1[_0x281e5a(0x88b)]:this[_0x281e5a(0x5d0)]();break;case _0x1227a1[_0x281e5a(0xabd)]:await this['handleIceCandidates'](_0x11dad8);break;case _0x1227a1[_0x281e5a(0x627)]:this['handleNeedRestart'](_0x11dad8);break;case _0x1227a1['Restart']:await this[_0x281e5a(0x66f)]();}}['handleRemediationSystemEvents'](_0x1eb985){const _0x5d51eb=_0x4a13a;this[_0x5d51eb(0x1da)]?.[_0x5d51eb(0x596)](_0x1eb985[_0x5d51eb(0x816)][_0x5d51eb(0x728)]);}[_0x4a13a(0x364)](){return this['connectionType'];}[_0x4a13a(0x6e3)](_0xf7a765){const _0x4c1868=_0x4a13a;this['connectionType']=_0xf7a765,this[_0x4c1868(0x1da)]?.[_0x4c1868(0x6e3)](_0xf7a765),this[_0x4c1868(0x8ee)]?.['setConnectionType'](_0xf7a765);}async['collectStats'](){const _0x2a4a93=_0x4a13a;await this[_0x2a4a93(0x1da)]?.[_0x2a4a93(0x426)](),await this[_0x2a4a93(0x8ee)]?.[_0x2a4a93(0x426)]();}[_0x4a13a(0xb74)](){const _0x2b87dd=_0x4a13a;return this[_0x2b87dd(0x1da)]?.[_0x2b87dd(0xb74)]()??0x0;}['getBufferedAmount'](){return this['senderConnection']?.['getBufferedAmount']()??0x0;}['setupListeners'](){const _0x483949=_0x4a13a;this[_0x483949(0x307)][_0x483949(0x247)](this['onMessage'](_0xcee034=>{const _0xc831bc=_0x483949;_0x535954(_0xcee034,this[_0xc831bc(0x47c)]())&&0x0!==_0xcee034[_0xc831bc(0x781)]&&this[_0xc831bc(0x639)][_0xc831bc(0x68c)](_0xcee034[_0xc831bc(0x781)])?.[_0xc831bc(0xa19)](_0xcee034);})),this[_0x483949(0x307)]['push'](this['onTrack']((_0x38e83e,_0x211216)=>{const _0xc9c3c6=_0x483949,_0xced91d=_0x626013(_0x52458b[_0xc9c3c6(0x54c)]['Media'],_0x211216['id'],this[_0xc9c3c6(0x69f)]);this['mediaTopics'][_0xc9c3c6(0x68c)](_0xced91d)?.[_0xc9c3c6(0xa19)]({'topicLabel':_0xced91d,'sourceId':this[_0xc9c3c6(0x69f)],'contentType':_0x52458b['ContentType'][_0xc9c3c6(0x5f6)],'content':{'action':_0x9ffb31[_0xc9c3c6(0x272)],'track':_0x38e83e,'stream':_0x211216,'providerId':this[_0xc9c3c6(0x69f)]}});})),this[_0x483949(0x307)][_0x483949(0x247)](this['onRemoveTrack']((_0x1bac09,_0x291a2d)=>{const _0x3324e0=_0x483949,_0x262e66=_0x626013(_0x52458b[_0x3324e0(0x54c)][_0x3324e0(0x5f6)],_0x291a2d['id'],this[_0x3324e0(0x69f)]);this[_0x3324e0(0x6d4)][_0x3324e0(0x68c)](_0x262e66)?.[_0x3324e0(0xa19)]({'topicLabel':_0x262e66,'sourceId':this[_0x3324e0(0x69f)],'contentType':_0x52458b['ContentType'][_0x3324e0(0x5f6)],'content':{'action':_0x9ffb31[_0x3324e0(0x784)],'track':_0x1bac09,'stream':_0x291a2d,'providerId':this[_0x3324e0(0x69f)]}});}));}[_0x4a13a(0x93a)]({candidates:_0x55bb7b,origin:_0x3ed2a4,version:_0x37c15b}){const _0x3fb1ac=_0x4a13a;return _0x3ed2a4===_0x250b13[_0x3fb1ac(0x33f)]?(this[_0x3fb1ac(0x8ee)]||this[_0x3fb1ac(0x7db)](),this['receiverConnection'][_0x3fb1ac(0x384)](_0x55bb7b,_0x37c15b)):this[_0x3fb1ac(0x1da)][_0x3fb1ac(0x384)](_0x55bb7b,_0x37c15b);}async[_0x4a13a(0x66f)](){const _0x520a61=_0x4a13a;this[_0x520a61(0x1da)]||this['createSenderConnection'](),await this['senderConnection'][_0x520a61(0x66f)]();}async[_0x4a13a(0x498)]({offer:_0x578196,version:_0x5ac65a}){const _0x169b8c=_0x4a13a;this[_0x169b8c(0x8ee)]||this[_0x169b8c(0x7db)](),await this['receiverConnection']['handleOffer'](_0x578196,_0x5ac65a);}async['handleAnswer']({answer:_0x54c2d0,version:_0x19e003}){const _0x2e1feb=_0x4a13a;if(!this[_0x2e1feb(0x1da)])throw new _0x240123(_0x240123['codes'][_0x2e1feb(0x66b)],{'message':_0x2e1feb(0xadb),'localId':this['getLocalId'](),'remoteId':this[_0x2e1feb(0x69f)],'answer':_0x54c2d0});await this[_0x2e1feb(0x1da)][_0x2e1feb(0xade)](_0x54c2d0,_0x19e003);}['handleSuccess'](){const _0x74cf2=_0x4a13a;if(!this[_0x74cf2(0x8ee)])throw new _0x240123(_0x240123[_0x74cf2(0x2f7)][_0x74cf2(0x66b)],{'message':'Receiver\x20connection\x20is\x20not\x20initialized.','localId':this[_0x74cf2(0x47c)](),'remoteId':this[_0x74cf2(0x69f)]});this[_0x74cf2(0x8ee)][_0x74cf2(0x5d0)](),this['successNotified']||this[_0x74cf2(0x3d0)]!==_0x1c7a0b[_0x74cf2(0x4db)]||(this[_0x74cf2(0x9ff)]=!0x0,this[_0x74cf2(0x525)]?.[_0x74cf2(0xa19)]({'sourceId':this[_0x74cf2(0x69f)],'destinationIds':[this[_0x74cf2(0x47c)]()],'messageType':_0x29c5a4[_0x74cf2(0x99b)],'content':{'type':_0x1227a1['OptimizationConnectionSuccess']}}));}[_0x4a13a(0x835)](_0x128e59){const _0x5acbb8=_0x4a13a;this[_0x5acbb8(0x8ee)]||this[_0x5acbb8(0x7db)](),this[_0x5acbb8(0x8ee)][_0x5acbb8(0x835)](_0x128e59[_0x5acbb8(0x94a)]);}[_0x4a13a(0x2eb)](){const _0x2b758a=_0x4a13a;this[_0x2b758a(0x1da)]=new _0x180d63(this['clusterId'],this[_0x2b758a(0xc4d)],this[_0x2b758a(0x69f)],this[_0x2b758a(0x4a4)],this[_0x2b758a(0x3d0)],this[_0x2b758a(0x6cb)],this[_0x2b758a(0xbda)],this[_0x2b758a(0x999)]),this[_0x2b758a(0x1da)][_0x2b758a(0x348)](this[_0x2b758a(0x525)]);}['createReceiverConnection'](){const _0x93cba5=_0x4a13a;this[_0x93cba5(0x8ee)]=new _0x5d10df(this[_0x93cba5(0x88f)],this['localNode'],this[_0x93cba5(0x69f)],this[_0x93cba5(0x4a4)],this[_0x93cba5(0x3d0)],this[_0x93cba5(0x999)]),this[_0x93cba5(0x8ee)]['registerSystemPublisher'](this[_0x93cba5(0x525)]),this[_0x93cba5(0x388)][_0x93cba5(0x247)](this[_0x93cba5(0x8ee)][_0x93cba5(0x3b0)](_0x4a92a4=>this['messageListeners']['publish'](_0x4a92a4))),this[_0x93cba5(0x388)][_0x93cba5(0x247)](this['receiverConnection'][_0x93cba5(0x6ff)]((_0x49587e,_0x5e61f2)=>this[_0x93cba5(0x8bb)][_0x93cba5(0xa19)]({'track':_0x49587e,'stream':_0x5e61f2}))),this['receiverUnsubscribers']['push'](this[_0x93cba5(0x8ee)][_0x93cba5(0x3b5)]((_0x2a3259,_0x47ad42)=>this['removeTrackListeners']['publish']({'track':_0x2a3259,'stream':_0x47ad42})));}}class _0x239bec{[_0x4a13a(0x7b6)];['messageBuffer'];[_0x4a13a(0xb83)];['connections']=new Map();[_0x4a13a(0xbbb)]=_0x47b7f3();[_0x4a13a(0x95d)];[_0x4a13a(0x639)]=new Map();['dataUnsubscribers']=new Map();[_0x4a13a(0x2df)]=new Map();constructor(_0x4af592,_0x4d8ef7,_0x568393){const _0x3d08be=_0x4a13a;this[_0x3d08be(0x7b6)]=_0x4af592,this[_0x3d08be(0x90a)]=_0x4d8ef7,this[_0x3d08be(0xb83)]=_0x568393,this[_0x3d08be(0x95d)]=this['onMessage'](_0xcecfef=>{const _0x27c7ec=_0x3d08be;this['messageBuffer'][_0x27c7ec(0x417)](_0xcecfef[_0x27c7ec(0x723)])||(_0x535954(_0xcecfef,this[_0x27c7ec(0x7b6)])&&0x0!==_0xcecfef['topicLabel']&&(this[_0x27c7ec(0x90a)][_0x27c7ec(0x72e)](_0xcecfef[_0x27c7ec(0x723)]),this[_0x27c7ec(0x639)][_0x27c7ec(0x68c)](_0xcecfef[_0x27c7ec(0x781)])?.[_0x27c7ec(0xa19)](_0xcecfef)),_0xcecfef[_0x27c7ec(0xa0b)]&&this[_0x27c7ec(0x381)](_0xcecfef));});}[_0x4a13a(0x935)](){this['messageUnsubscriber']?.();}[_0x4a13a(0xb6f)](_0x80cf47){const _0x57e706=_0x4a13a,_0x3bb73d=_0x80cf47[_0x57e706(0x3b0)](_0x53c5ff=>{const _0x4526d0=_0x57e706;this['messageListeners'][_0x4526d0(0xa19)](_0x53c5ff);});this['connections'][_0x57e706(0x2a7)](_0x80cf47,_0x3bb73d),this[_0x57e706(0x2df)][_0x57e706(0x2a7)](_0x80cf47[_0x57e706(0xabc)](),function(_0xf1a82c,_0x2c03dd=!0x1){let _0x1a4720=new Map();const _0x276183=_0x3c58cc(_0xf1a82c,_0x2c03dd,function(_0xa3b26c){const _0xa2f131=a0_0x2cf3;_0x2b2b45(_0xa3b26c)&&_0x1a4720[_0xa2f131(0xb18)](_0xa3b26c[_0xa2f131(0x8f9)]+'-'+(_0xa3b26c[_0xa2f131(0x893)]??[])+'-'+_0xa3b26c[_0xa2f131(0x5d4)]+'-'+_0xa3b26c[_0xa2f131(0x816)][_0xa2f131(0xbdd)]);},function(_0x4fcc39){return!!function(_0x2b4a7e){const _0x566a52=a0_0x2cf3,_0x4606a1=_0x2b4a7e['value'];if(!_0x2b2b45(_0x4606a1))return!0x1;const _0x32fe98=_0x4606a1[_0x566a52(0x8f9)]+'-'+(_0x4606a1[_0x566a52(0x893)]??[])+'-'+_0x4606a1[_0x566a52(0x5d4)]+'-'+_0x4606a1[_0x566a52(0x816)][_0x566a52(0xbdd)],_0x20f8bd={'version':_0x4606a1[_0x566a52(0x816)][_0x566a52(0x94a)],'element':_0x2b4a7e},_0x55e644=_0x1a4720[_0x566a52(0x68c)](_0x32fe98);return _0x55e644?(_0x55e644[_0x566a52(0x94a)]>=_0x4606a1['content'][_0x566a52(0x94a)]||(_0x55e644[_0x566a52(0x9fd)][_0x566a52(0x668)]&&(_0x55e644[_0x566a52(0x9fd)]['previous'][_0x566a52(0x93d)]=_0x2b4a7e,_0x2b4a7e[_0x566a52(0x668)]=_0x55e644['element'][_0x566a52(0x668)]),_0x55e644[_0x566a52(0x9fd)][_0x566a52(0x93d)]&&(_0x55e644[_0x566a52(0x9fd)][_0x566a52(0x93d)][_0x566a52(0x668)]=_0x2b4a7e,_0x2b4a7e[_0x566a52(0x93d)]=_0x55e644[_0x566a52(0x9fd)][_0x566a52(0x93d)]),_0x55e644[_0x566a52(0x9fd)]===_0x276183['head']&&(_0x276183[_0x566a52(0x2a6)]=_0x2b4a7e),_0x55e644[_0x566a52(0x9fd)]===_0x276183['tail']&&(_0x276183[_0x566a52(0x8ce)]=_0x2b4a7e),_0x1a4720['set'](_0x32fe98,_0x20f8bd)),!0x0):(_0x1a4720[_0x566a52(0x2a7)](_0x32fe98,_0x20f8bd),!0x1);}(_0x4fcc39);},function(){_0x1a4720['clear']();});function _0x2b2b45(_0x534426){const _0x1c1678=a0_0x2cf3;if(_0x534426&&'object'==typeof _0x534426&&_0x534426['hasOwnProperty']('content')&&_0x534426[_0x1c1678(0x693)](_0x1c1678(0x5d4))&&_0x534426[_0x1c1678(0x693)](_0x1c1678(0x8f9))){const _0x21e962=_0x534426;if(_0x21e962[_0x1c1678(0x816)]&&_0x1c1678(0x4ab)==typeof _0x21e962[_0x1c1678(0x816)]&&_0x21e962['content'][_0x1c1678(0x693)](_0x1c1678(0x94a))&&_0x21e962[_0x1c1678(0x816)][_0x1c1678(0x693)]('type'))return!0x0;}return!0x1;}return _0x276183;}(new _0xe449bc(_0xabbdd7=>_0x80cf47[_0x57e706(0x381)](_0xabbdd7),()=>_0x37fc55[_0x57e706(0xc22)](0x64))));}[_0x4a13a(0x3aa)](_0x320db5){const _0x2618d9=_0x4a13a;this['connections'][_0x2618d9(0x68c)](_0x320db5)?.(),this[_0x2618d9(0x3ee)]['delete'](_0x320db5),this[_0x2618d9(0x2df)][_0x2618d9(0x68c)](_0x320db5[_0x2618d9(0xabc)]())?.[_0x2618d9(0xb0f)](),this[_0x2618d9(0x2df)][_0x2618d9(0xb18)](_0x320db5['getRemoteId']());}[_0x4a13a(0x42d)](_0x9773fd){const _0x306035=_0x4a13a;return _0x260a6c[_0x306035(0x8b9)](_0x2e74f6['ConnectionState'],'ConnectionGroup',this[_0x306035(0x7b6)],this[_0x306035(0x3ee)][_0x306035(0x932)]()),0x0!==this['connections']['size']&&(Array[_0x306035(0xad6)](this['connections'][_0x306035(0x932)]())['find'](_0x49d503=>_0x49d503[_0x306035(0xabc)]()===_0x9773fd)?.[_0x306035(0x42d)]()??!0x1);}[_0x4a13a(0xb4f)](_0x3c2264){const _0x18770b=_0x4a13a;this[_0x18770b(0x639)][_0x18770b(0x2a7)](_0x3c2264[_0x18770b(0x287)](),_0x3c2264);}[_0x4a13a(0x634)](_0x34344c){const _0x3760a5=_0x4a13a;this[_0x3760a5(0x639)][_0x3760a5(0xb18)](_0x34344c[_0x3760a5(0x287)]());}[_0x4a13a(0xa1f)](_0x1d1b69){const _0xfef250=_0x4a13a,_0xd3cd37=_0x1d1b69['subscribe'](this[_0xfef250(0x381)][_0xfef250(0x65d)](this));this['dataUnsubscribers'][_0xfef250(0x2a7)](_0x1d1b69[_0xfef250(0x287)](),_0xd3cd37);}[_0x4a13a(0x6dd)](_0x4a4705){const _0xd553db=_0x4a13a;this['dataUnsubscribers'][_0xd553db(0x68c)](_0x4a4705[_0xd553db(0x287)]())?.(),this[_0xd553db(0x821)][_0xd553db(0xb18)](_0x4a4705['getLabel']());}['getSupportedContentTypes'](){const _0xf01a24=_0x4a13a;return[_0x52458b[_0xf01a24(0x54c)][_0xf01a24(0xbfd)],_0x52458b[_0xf01a24(0x54c)]['PubSub'],_0x52458b[_0xf01a24(0x54c)][_0xf01a24(0x46e)],_0x52458b[_0xf01a24(0x54c)][_0xf01a24(0xba3)],_0x52458b[_0xf01a24(0x54c)][_0xf01a24(0x65a)],_0x52458b[_0xf01a24(0x54c)][_0xf01a24(0x844)],_0x52458b['ContentType']['GraphDatabase'],_0x52458b[_0xf01a24(0x54c)]['ExternalStorage']];}[_0x4a13a(0x381)](_0x45fb34){const _0x3fed64=_0x4a13a;if(!0x1===_0x45fb34['retry']){if(_0x45fb34[_0x3fed64(0xa0b)]||!_0x45fb34[_0x3fed64(0x893)]||0x1!==_0x45fb34[_0x3fed64(0x893)]['length'])throw new _0x240123(_0x240123[_0x3fed64(0x2f7)][_0x3fed64(0xb3d)],{'message':_0x3fed64(0xa06),'localId':this[_0x3fed64(0x7b6)]});if(!this[_0x3fed64(0x42d)](_0x45fb34[_0x3fed64(0x893)][0x0]))throw new _0x32e9cc(_0x3fed64(0x398));}const _0x103d94=_0x45fb34[_0x3fed64(0x378)]??[];try{const {filteredDestinationIds:_0x241cad,extendedRecipients:_0x3e7496}=this[_0x3fed64(0x353)](_0x45fb34,_0x103d94);_0x45fb34['destinationIds']=_0x241cad,_0x45fb34[_0x3fed64(0x378)]=_0x3e7496;}catch(_0x371f72){if(_0x371f72 instanceof _0x32e9cc)return void _0x260a6c[_0x3fed64(0x8b9)](_0x2e74f6[_0x3fed64(0x71c)],'CrewdleConnectionGroup',_0x3fed64(0x7c8),_0x45fb34,_0x371f72[_0x3fed64(0x5c1)]);}const _0x383d25=this[_0x3fed64(0xb71)](_0x45fb34);this[_0x3fed64(0xc32)](_0x45fb34,_0x383d25),_0x45fb34[_0x3fed64(0xa0b)]=_0x383d25;const _0x98ba42=this['getConnectionDestinations'](_0x45fb34,_0x103d94);for(const _0x14ba67 of _0x98ba42){const _0xf02d26=this[_0x3fed64(0x2df)]['get'](_0x14ba67[_0x3fed64(0xabc)]());if(!_0xf02d26)throw new _0x240123(_0x240123[_0x3fed64(0x2f7)][_0x3fed64(0xc2b)],{'message':_0x3fed64(0x823),'localId':this['localId'],'remoteId':_0x14ba67[_0x3fed64(0xabc)](),'data':_0x45fb34});_0xf02d26['push'](_0x45fb34);}}['getRemoteId'](){return'';}['getLocalId'](){const _0x40ff54=_0x4a13a;return this[_0x40ff54(0x7b6)];}[_0x4a13a(0x3b0)](_0x443478){const _0x5896f1=_0x4a13a;return this['messageListeners'][_0x5896f1(0x7a8)](_0x443478);}[_0x4a13a(0x353)](_0x3ec804,_0x5de84b){const _0x36e40d=_0x4a13a,_0x263852={'filteredDestinationIds':_0x3ec804[_0x36e40d(0x893)],'extendedRecipients':_0x3ec804[_0x36e40d(0x378)]};if(!_0x3ec804[_0x36e40d(0xa0b)])return _0x263852;const _0x56f313=Array[_0x36e40d(0xad6)](this[_0x36e40d(0x3ee)][_0x36e40d(0x932)]())[_0x36e40d(0x675)](_0x580ea0=>_0x580ea0[_0x36e40d(0x364)]()===_0x1c7a0b[_0x36e40d(0x680)]||_0x580ea0['isConnected']())[_0x36e40d(0x275)](_0x184e0a=>_0x184e0a[_0x36e40d(0xabc)]());if(_0x56f313[_0x36e40d(0x624)]((_0x2bb994,_0x5cde1c)=>_0x2bb994&&_0x3ec804[_0x36e40d(0x378)][_0x36e40d(0xa7f)](_0x5cde1c),!0x0))throw new _0x32e9cc(_0x36e40d(0xbdc));if(_0x3ec804[_0x36e40d(0x893)]){const _0x4edd72=_0x3ec804[_0x36e40d(0x893)]['filter'](_0x2ea97c=>_0x2ea97c!==this[_0x36e40d(0x7b6)]&&!_0x3ec804[_0x36e40d(0x378)][_0x36e40d(0xa7f)](_0x2ea97c));if(0x0===_0x4edd72[_0x36e40d(0x454)])throw new _0x32e9cc(_0x36e40d(0x704));_0x263852['filteredDestinationIds']=_0x4edd72;}return _0x263852['extendedRecipients']=[...new Set([..._0x5de84b,..._0x56f313,this[_0x36e40d(0x7b6)]])],_0x263852;}[_0x4a13a(0xc32)](_0x14f7b4,_0x201e1a=!0x1){const _0x2023a9=_0x4a13a;if(0x0===_0x14f7b4[_0x2023a9(0x781)]&&!_0x25a203(_0x14f7b4,this[_0x2023a9(0x7b6)])&&_0x14f7b4[_0x2023a9(0xa0b)]){const _0x227ccc=_0x298199(_0x14f7b4,this[_0x2023a9(0x7b6)]);_0x260a6c[_0x2023a9(0x764)](_0x2e74f6[_0x2023a9(0x4f6)],_0x14f7b4[_0x2023a9(0x723)]+_0x2023a9(0x99d)+_0x201e1a+')\x20'+_0x227ccc,_0x14f7b4,_0x201e1a);}}[_0x4a13a(0xb71)](_0x190dff){const _0x4febf0=_0x4a13a;if(_0x190dff['destinationIds']&&_0x190dff[_0x4febf0(0xa0b)]){const _0x261010=Array[_0x4febf0(0xad6)](this['connections'][_0x4febf0(0x932)]())[_0x4febf0(0x675)](_0x2038ad=>_0x2038ad['getConnectionType']()===_0x1c7a0b['Core']||_0x2038ad[_0x4febf0(0x42d)]())[_0x4febf0(0x275)](_0x27465a=>_0x27465a[_0x4febf0(0xabc)]());return!_0x190dff[_0x4febf0(0x893)]['reduce']((_0x45c619,_0x1117d2)=>_0x45c619&&_0x261010['includes'](_0x1117d2),!0x0);}return _0x190dff['propagate']??!0x1;}[_0x4a13a(0xae8)](_0x319133,_0x489d2b){const _0x202e3b=_0x4a13a;if(_0x319133[_0x202e3b(0xa0b)]&&_0x319133[_0x202e3b(0x893)]){const _0xa31d54=Array['from'](this['connections']['keys']())['filter'](_0x1d090b=>_0x1d090b[_0x202e3b(0x364)]()===_0x1c7a0b[_0x202e3b(0x680)]||_0x1d090b[_0x202e3b(0x42d)]())['map'](_0x3f5eeb=>_0x3f5eeb['getRemoteId']()),_0x396ce8=new Set(),_0x49265a=_0x319133[_0x202e3b(0x8f9)]===this[_0x202e3b(0x7b6)]?0x3:0x1;return _0x319133[_0x202e3b(0x893)][_0x202e3b(0x761)](_0x20d197=>{const _0x24ca6a=_0x202e3b,_0x1d3c5b=this['graphService']['getClosestNodes'](_0xa31d54,_0x20d197);let _0x23c86c=0x0,_0x19b2ba=0x0;_0x1d3c5b[_0x24ca6a(0x761)](_0x3e749f=>{const _0x5d78fb=_0x24ca6a;if(_0x23c86c>=_0x49265a)return;const _0x1d26ad=Array[_0x5d78fb(0xad6)](this[_0x5d78fb(0x3ee)][_0x5d78fb(0x932)]())[_0x5d78fb(0x319)](_0x171d25=>_0x171d25[_0x5d78fb(0xabc)]()===_0x3e749f);if(_0x1d26ad){if(_0x1d26ad['getConnectionType']()===_0x1c7a0b[_0x5d78fb(0x680)]&&_0x19b2ba>0x0)return void(_0x19b2ba-=0x1);_0x396ce8[_0x5d78fb(0xc09)](_0x1d26ad),_0x1d26ad[_0x5d78fb(0x364)]()===_0x1c7a0b[_0x5d78fb(0x4db)]&&(_0x19b2ba+=0x1),_0x23c86c+=0x1;}});}),Array[_0x202e3b(0xad6)](_0x396ce8);}return Array[_0x202e3b(0xad6)](this[_0x202e3b(0x3ee)][_0x202e3b(0x932)]())[_0x202e3b(0x675)](_0x3047bd=>{const _0x4c9a12=_0x202e3b;return _0x4faff2=_0x3047bd[_0x4c9a12(0xabc)](),!_0x489d2b['includes'](_0x4faff2)&&(_0x535954(_0x319133,_0x4faff2)||_0x319133[_0x4c9a12(0xa0b)])&&(!_0x319133[_0x4c9a12(0xa0b)]||_0x3047bd[_0x4c9a12(0x42d)]()||_0x3047bd[_0x4c9a12(0x364)]()===_0x1c7a0b[_0x4c9a12(0x680)]);var _0x4faff2;});}}class _0x1b1104{[_0x4a13a(0x7b6)];[_0x4a13a(0x90a)];[_0x4a13a(0x3ee)]=new Map();[_0x4a13a(0x525)];constructor(_0xadc08d,_0x1a7c17){const _0x50f51f=_0x4a13a;this[_0x50f51f(0x7b6)]=_0xadc08d,this['messageBuffer']=_0x1a7c17;}[_0x4a13a(0x935)](){}[_0x4a13a(0x381)](_0x42c915){const _0x5eec7f=_0x4a13a;for(const _0xb47b7e of this[_0x5eec7f(0x3ee)]['keys']())try{return void _0xb47b7e[_0x5eec7f(0x381)]({'retry':!0x1,..._0x42c915});}catch(_0x3f5f1e){_0x3f5f1e instanceof _0x32e9cc||_0x260a6c[_0x5eec7f(0x8b9)](_0x2e74f6['Pool'],_0x5eec7f(0x3d1)+_0xb47b7e,_0x3f5f1e,_0x42c915);}_0x260a6c[_0x5eec7f(0x8b9)](_0x2e74f6[_0x5eec7f(0x7a4)],'No\x20connections\x20available\x20to\x20send\x20message');}[_0x4a13a(0xb6f)](_0x1167f3){const _0x3699e0=_0x4a13a,_0x2e030c=_0x1167f3[_0x3699e0(0x3b0)](_0x403c4e=>{const _0x17d46f=_0x3699e0;this['messageBuffer'][_0x17d46f(0x417)](_0x403c4e[_0x17d46f(0x723)])||0x0===_0x403c4e[_0x17d46f(0x781)]&&(this[_0x17d46f(0x90a)][_0x17d46f(0x72e)](_0x403c4e[_0x17d46f(0x723)]),_0x535954(_0x403c4e,this['localId'])&&this[_0x17d46f(0x525)]?.['publish'](_0x403c4e));});this[_0x3699e0(0x3ee)][_0x3699e0(0x2a7)](_0x1167f3,_0x2e030c);}['removeConnection'](_0xfc956d){const _0x353fae=_0x4a13a;this[_0x353fae(0x3ee)][_0x353fae(0x68c)](_0xfc956d)?.(),this[_0x353fae(0x3ee)][_0x353fae(0xb18)](_0xfc956d);}[_0x4a13a(0x47c)](){const _0x7a6166=_0x4a13a;return this[_0x7a6166(0x7b6)];}[_0x4a13a(0xabc)](){return'';}[_0x4a13a(0x441)](){const _0x282d4d=_0x4a13a;return[_0x52458b[_0x282d4d(0x54c)][_0x282d4d(0xbfd)]];}[_0x4a13a(0x42d)](){const _0x185ae4=_0x4a13a;throw new Error(_0x185ae4(0xb4c));}[_0x4a13a(0x348)](_0x5d2f09){const _0x16f646=_0x4a13a;this[_0x16f646(0x525)]=_0x5d2f09;}['unregisterSystemPublisher'](){const _0x5848b8=_0x4a13a;delete this[_0x5848b8(0x525)];}}class _0x493637{['buffer']=new Map();[_0x4a13a(0x32a)];constructor(){const _0x39a3a6=_0x4a13a;this[_0x39a3a6(0x32a)]=_0x37fc55[_0x39a3a6(0x583)](()=>{const _0x4a37b1=_0x39a3a6;for(const [_0xa098af,_0x3aa1ff]of this[_0x4a37b1(0x6fd)][_0x4a37b1(0x3a4)]())Date[_0x4a37b1(0xad3)]()-_0x3aa1ff>0x124f80&&this['buffer'][_0x4a37b1(0xb18)](_0xa098af);},0x1d4c0);}[_0x4a13a(0x935)](){const _0x467c1a=_0x4a13a;this[_0x467c1a(0x32a)]();}[_0x4a13a(0x72e)](_0x4feecf){const _0x4cb042=_0x4a13a;this[_0x4cb042(0x6fd)][_0x4cb042(0x2a7)](_0x4feecf,Date[_0x4cb042(0xad3)]());}[_0x4a13a(0x417)](_0x4c3b98){const _0x590e6a=_0x4a13a;return this[_0x590e6a(0x6fd)][_0x590e6a(0x738)](_0x4c3b98);}}class _0x49baee{['configs'];[_0x4a13a(0xa0a)];[_0x4a13a(0x4a4)];[_0x4a13a(0x5e9)];[_0x4a13a(0x3ee)]=new Map();[_0x4a13a(0x291)];[_0x4a13a(0x697)];[_0x4a13a(0x983)];[_0x4a13a(0x90a)];constructor(_0x5cee3e,_0x440eac,_0x1fdaee,_0x292e1d,_0x43d70c){const _0x173c8c=_0x4a13a;this[_0x173c8c(0x29b)]=_0x5cee3e,this[_0x173c8c(0xa0a)]=_0x440eac,this['iceServers']=_0x292e1d,this[_0x173c8c(0x5e9)]=_0x43d70c,this['messageBuffer']=new _0x493637(),this[_0x173c8c(0x697)]=new _0x239bec(this['configs'][_0x173c8c(0xc4d)]['getId'](),this[_0x173c8c(0x90a)],_0x1fdaee),this[_0x173c8c(0x983)]=new _0x1c1255(this[_0x173c8c(0x29b)][_0x173c8c(0x649)],this['configs'][_0x173c8c(0x88f)],this[_0x173c8c(0x29b)][_0x173c8c(0xc4d)],_0x173c8c(0x959),this[_0x173c8c(0xa0a)]),this[_0x173c8c(0x291)]=new _0x1b1104(this[_0x173c8c(0x29b)][_0x173c8c(0xc4d)][_0x173c8c(0xa47)](),this[_0x173c8c(0x90a)]),this['connectionPool'][_0x173c8c(0xb6f)](this[_0x173c8c(0x697)]),this[_0x173c8c(0x291)]['addConnection'](this[_0x173c8c(0x983)]),this[_0x173c8c(0x29b)][_0x173c8c(0x83c)][_0x173c8c(0x6b3)](this[_0x173c8c(0x291)]);}[_0x4a13a(0x935)](){const _0x48e1b2=_0x4a13a;this[_0x48e1b2(0x90a)][_0x48e1b2(0x935)](),this['connections'][_0x48e1b2(0x761)]((_0xe7b04f,_0x5d3976)=>this[_0x48e1b2(0x539)](_0x5d3976)),this[_0x48e1b2(0x29b)]['mediator'][_0x48e1b2(0x241)](this[_0x48e1b2(0x291)]),this[_0x48e1b2(0x291)][_0x48e1b2(0x3aa)](this['signalingServer']),this[_0x48e1b2(0x291)][_0x48e1b2(0x3aa)](this[_0x48e1b2(0x697)]),this[_0x48e1b2(0x291)][_0x48e1b2(0x935)](),this[_0x48e1b2(0x983)][_0x48e1b2(0x935)](),this[_0x48e1b2(0x697)][_0x48e1b2(0x935)]();}async[_0x4a13a(0xc21)](){const _0x2598c6=_0x4a13a;await this['signalingServer'][_0x2598c6(0x643)]();}async[_0x4a13a(0xc26)](_0x4f02e9,_0x81351c=_0x1c7a0b['Core']){const _0x458802=_0x4a13a;if(this[_0x458802(0x3ee)][_0x458802(0x738)](_0x4f02e9)){if(this['connections']['get'](_0x4f02e9)?.[_0x458802(0x364)]()===_0x1c7a0b[_0x458802(0x4db)]&&_0x81351c===_0x1c7a0b[_0x458802(0x680)])return void this[_0x458802(0x3ee)][_0x458802(0x68c)](_0x4f02e9)?.[_0x458802(0x6e3)](_0x1c7a0b[_0x458802(0x680)]);throw new _0x240123(_0x240123[_0x458802(0x2f7)][_0x458802(0x267)],{'localId':this[_0x458802(0x29b)][_0x458802(0xc4d)]['getId'](),'remoteId':_0x4f02e9});}const _0x4b4119=new _0x57b2b0(this[_0x458802(0x29b)][_0x458802(0x88f)],this[_0x458802(0x29b)][_0x458802(0xc4d)],_0x4f02e9,this[_0x458802(0x4a4)],_0x81351c,this['options']['maxFps'],this[_0x458802(0x5e9)][_0x458802(0xbda)],this['options'][_0x458802(0x35b)]);this[_0x458802(0x3ee)][_0x458802(0x2a7)](_0x4f02e9,_0x4b4119),this[_0x458802(0x697)][_0x458802(0xb6f)](_0x4b4119),this[_0x458802(0x29b)][_0x458802(0x83c)]['registerSystemSource'](_0x4b4119),this[_0x458802(0x29b)]['mediator'][_0x458802(0x858)](_0x4f02e9),await _0x4b4119[_0x458802(0x643)]();}['getConnectionGroup'](){const _0x1885dc=_0x4a13a;return this[_0x1885dc(0x697)];}[_0x4a13a(0x990)](_0x1b0bcb){const _0x83367e=_0x4a13a;if(!this[_0x83367e(0x3ee)][_0x83367e(0x738)](_0x1b0bcb))throw new _0x240123(_0x240123['codes'][_0x83367e(0x5b2)],{'localId':this[_0x83367e(0x29b)][_0x83367e(0xc4d)][_0x83367e(0xa47)](),'remoteId':_0x1b0bcb});return this[_0x83367e(0x3ee)][_0x83367e(0x68c)](_0x1b0bcb);}[_0x4a13a(0xa1d)](_0x8fc150){const _0x2b276a=_0x4a13a,_0x125c70=Array[_0x2b276a(0xad6)](this[_0x2b276a(0x3ee)][_0x2b276a(0x331)]());return _0x8fc150?_0x125c70[_0x2b276a(0x675)](_0x8fc150):_0x125c70;}async[_0x4a13a(0x426)](_0x3e4b2c){const _0xd0514=_0x4a13a,_0x27beaa=this['connections']['get'](_0x3e4b2c);_0x27beaa&&_0x27beaa[_0xd0514(0x42d)]()&&await _0x27beaa['collectStats']();}[_0x4a13a(0x9c4)](_0x5f3435){const _0x6a9691=_0x4a13a;if(_0x5f3435['messageType']!==_0x29c5a4[_0x6a9691(0x99b)]||_0x5f3435['propagate'])try{this[_0x6a9691(0x697)][_0x6a9691(0x381)](_0x5f3435);}catch(_0x1947d3){if(_0x1947d3 instanceof _0x32e9cc)return;throw _0x1947d3;}else this[_0x6a9691(0x291)][_0x6a9691(0x381)](_0x5f3435);}async[_0x4a13a(0xc1e)](_0x4e2d5d){const _0x4bebe1=_0x4a13a;switch(_0x4e2d5d[_0x4bebe1(0x816)]['type']){case _0x1227a1[_0x4bebe1(0x6f3)]:case _0x1227a1['Stats']:case _0x1227a1['OptimizationConnectionSuccess']:return;}if(!_0x4e2d5d[_0x4bebe1(0x893)]||0x1!==_0x4e2d5d[_0x4bebe1(0x893)][_0x4bebe1(0x454)])throw new _0x240123(_0x240123[_0x4bebe1(0x2f7)]['PeerConnectionInvalidDestination'],{'message':'Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','event':_0x4e2d5d});if(_0x4e2d5d[_0x4bebe1(0x893)][0x0]!==this[_0x4bebe1(0x29b)]['localNode'][_0x4bebe1(0xa47)]())throw new _0x240123(_0x240123[_0x4bebe1(0x2f7)][_0x4bebe1(0x518)],{'message':'Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','event':_0x4e2d5d});if(!this[_0x4bebe1(0x3ee)]['has'](_0x4e2d5d[_0x4bebe1(0x8f9)])){let _0x10685f=_0x1c7a0b[_0x4bebe1(0x680)];if(!(this[_0x4bebe1(0xadc)](_0x4e2d5d[_0x4bebe1(0x816)])||this[_0x4bebe1(0x864)](_0x4e2d5d[_0x4bebe1(0x816)])||this['isNeedRestart'](_0x4e2d5d['content'])))return;_0x10685f=_0x4e2d5d['content'][_0x4bebe1(0x3d0)],await this[_0x4bebe1(0xc26)](_0x4e2d5d[_0x4bebe1(0x8f9)],_0x10685f);}const _0x55abc0=this['connections'][_0x4bebe1(0x68c)](_0x4e2d5d['sourceId']);await _0x55abc0[_0x4bebe1(0xc1e)](_0x4e2d5d);}['handleRemediationSystemEvents'](_0x55fc2a){const _0x452a59=_0x4a13a;if(_0x55fc2a[_0x452a59(0x816)][_0x452a59(0xbdd)]===_0x410ae3[_0x452a59(0x401)]){if(_0x55fc2a['content'][_0x452a59(0x5d2)]===this[_0x452a59(0x29b)][_0x452a59(0xc4d)]['getId']())return void this[_0x452a59(0x3ee)][_0x452a59(0x761)](_0x2a3a9a=>_0x2a3a9a[_0x452a59(0x676)](_0x55fc2a));this[_0x452a59(0x3ee)]['get'](_0x55fc2a['content'][_0x452a59(0x5d2)])?.[_0x452a59(0x676)](_0x55fc2a);}}[_0x4a13a(0x713)]({content:_0x5c44d4}){const _0x5c9fe1=_0x4a13a;_0x5c44d4[_0x5c9fe1(0xbdd)]===_0x37fe92['NodeLeave']&&this['closeConnection'](_0x5c44d4['id']);}['waitForArrayBufferSize'](){const _0x22b58b=_0x4a13a,_0x43adce=Array[_0x22b58b(0xad6)](this[_0x22b58b(0x3ee)][_0x22b58b(0x331)]())[_0x22b58b(0x624)]((_0x2b8b21,_0x5eeab1)=>_0x2b8b21+_0x5eeab1[_0x22b58b(0xb74)](),0x0);return _0x43adce<_0x498468?Promise['resolve'](_0x43adce):new Promise(_0x474033=>{const _0x2e467a=setInterval(()=>{const _0x13dc9b=a0_0x2cf3,_0x364318=Array['from'](this[_0x13dc9b(0x3ee)][_0x13dc9b(0x331)]())[_0x13dc9b(0x624)]((_0x264f01,_0x59ea54)=>_0x264f01+_0x59ea54[_0x13dc9b(0xb74)](),0x0);_0x364318<_0x498468&&(clearInterval(_0x2e467a),_0x474033(_0x364318));},0x3e8);});}['hasBufferedData'](){const _0x45d15b=_0x4a13a;for(const _0x5eaeb3 of this[_0x45d15b(0x3ee)]['values']())if(_0x5eaeb3['getBufferedAmount']()>0x0||_0x5eaeb3[_0x45d15b(0xb74)]()>0x0)return!0x0;return!0x1;}['closeConnection'](_0x2cca17){const _0x1331ea=_0x4a13a,_0x42e433=this[_0x1331ea(0x3ee)][_0x1331ea(0x68c)](_0x2cca17);_0x42e433&&(this[_0x1331ea(0x29b)][_0x1331ea(0x83c)][_0x1331ea(0x370)](_0x2cca17),this[_0x1331ea(0x29b)][_0x1331ea(0x83c)]['unregisterSystemSource'](_0x42e433),_0x42e433 instanceof _0x57b2b0&&this[_0x1331ea(0x697)]['removeConnection'](_0x42e433),_0x42e433['close'](),this[_0x1331ea(0x3ee)]['delete'](_0x2cca17));}[_0x4a13a(0xadc)](_0x1e33fe){const _0xb06f8d=_0x4a13a;return _0x1e33fe[_0xb06f8d(0xbdd)]===_0x1227a1[_0xb06f8d(0xaeb)];}[_0x4a13a(0xb58)](_0x2a2e30){const _0x471dea=_0x4a13a;return _0x2a2e30[_0x471dea(0xbdd)]===_0x1227a1[_0x471dea(0x627)];}[_0x4a13a(0x864)](_0x47f67e){const _0xc172ae=_0x4a13a;return _0x47f67e[_0xc172ae(0xbdd)]===_0x1227a1[_0xc172ae(0xabd)];}}!function(_0x48213a){const _0x289025=_0x4a13a;_0x48213a[_0x48213a[_0x289025(0xb12)]=0x0]=_0x289025(0xb12),_0x48213a[_0x48213a['UpdateMediaStream']=0x1]='UpdateMediaStream',_0x48213a[_0x48213a['UnsubscribeMediaStream']=0x2]=_0x289025(0x7e3),_0x48213a[_0x48213a[_0x289025(0x640)]=0x3]=_0x289025(0x640),_0x48213a[_0x48213a[_0x289025(0x698)]=0x4]=_0x289025(0x698),_0x48213a[_0x48213a[_0x289025(0xc07)]=0x5]='CanProvideMediaStream',_0x48213a[_0x48213a[_0x289025(0x839)]=0x6]='CannotProvideMediaStream',_0x48213a[_0x48213a[_0x289025(0xc10)]=0x7]=_0x289025(0xc10);}(_0x141a98||(_0x141a98={}));class _0x1b18aa extends _0x6375ab{[_0x4a13a(0xc4d)];[_0x4a13a(0x88f)];[_0x4a13a(0x649)];[_0x4a13a(0xa25)];[_0x4a13a(0x46c)];[_0x4a13a(0x7c2)]=0x0;[_0x4a13a(0x4d6)];[_0x4a13a(0xac8)]=_0x47b7f3();[_0x4a13a(0x307)]=new Map();[_0x4a13a(0xc2d)];constructor(_0x380969,_0x1e2ec5,_0x4a5277,_0xb8352c,_0x3ae85a){const _0x13bad0=_0x4a13a;if(_0x13bad0(0x924)!=typeof _0x1e2ec5)throw new _0x298b29(_0x404249[_0x13bad0(0xa9d)],_0x13bad0(0xac5));super(_0x380969,_0x1e2ec5),this[_0x13bad0(0xc4d)]=_0x380969,this[_0x13bad0(0x88f)]=_0x4a5277,this[_0x13bad0(0x649)]=_0xb8352c,this['connectorConstructor']=_0x3ae85a,this['sendStats']();}[_0x4a13a(0x888)](){const _0x57f038=_0x4a13a;this['changesUnsubscriber']?.(),this['listenerUnsubscribers'][_0x57f038(0x761)](_0x45c343=>_0x45c343()),clearTimeout(this[_0x57f038(0x46c)]),delete this[_0x57f038(0x46c)],super['destroy']();}[_0x4a13a(0x56f)](){const _0x3f0066=_0x4a13a;this[_0x3f0066(0x6d7)]();}[_0x4a13a(0x935)](){const _0xb6de5d=_0x4a13a;this[_0xb6de5d(0x525)][_0xb6de5d(0xa19)]({'sourceId':_0x2d73b4,'messageType':_0x29c5a4['Content'],'content':{'type':_0x1c17a1['CloseExternalStorageConnection'],'label':this[_0xb6de5d(0xaed)]}});}[_0x4a13a(0x743)](){const _0xe03a93=_0x4a13a;return _0x52458b[_0xe03a93(0x54c)][_0xe03a93(0x82a)];}async[_0x4a13a(0x68c)](_0x1e56d4){const _0x4319f0=_0x4a13a;if(!this['connector'])throw new _0x298b29(_0x404249[_0x4319f0(0xc27)],_0x4319f0(0x53e));_0x260a6c['logServiceEvent'](_0x108d83[_0x4319f0(0x82a)],{'type':_0x4319f0(0x68c),'label':this['label'],'nodeId':this[_0x4319f0(0xc4d)][_0x4319f0(0xa47)](),'nodeType':this[_0x4319f0(0xc4d)][_0x4319f0(0xbdd)],'clusterId':this[_0x4319f0(0x88f)],'path':_0x1e56d4}),this['reads']+=0x1,this[_0x4319f0(0x6d7)]();try{return await this[_0x4319f0(0x4d6)][_0x4319f0(0x68c)](_0x1e56d4);}catch(_0x1d96f9){throw new _0x298b29(_0x404249['ExternalStorageInvalidPath'],'Cannot\x20get\x20file:\x20'+_0x1e56d4);}}async[_0x4a13a(0xb07)](_0x1d2e0b,_0x4f8c85){const _0xc62f27=_0x4a13a;if(!this[_0xc62f27(0x4d6)])throw new _0x298b29(_0x404249['ExternalStorageConnectorsMissing'],_0xc62f27(0x669));const {recursive:_0x5c0308=!0x1}=_0x4f8c85??{};_0x260a6c[_0xc62f27(0xa93)](_0x108d83['ExternalStorage'],{'type':_0xc62f27(0xb07),'label':this[_0xc62f27(0xaed)],'nodeId':this[_0xc62f27(0xc4d)]['getId'](),'nodeType':this[_0xc62f27(0xc4d)][_0xc62f27(0xbdd)],'clusterId':this[_0xc62f27(0x88f)],'path':_0x1d2e0b}),this[_0xc62f27(0x7c2)]+=0x1,this[_0xc62f27(0x6d7)]();try{return await this[_0xc62f27(0x4d6)]['list'](_0x1d2e0b,_0x5c0308);}catch(_0x2194c0){throw new _0x298b29(_0x404249['ExternalStorageInvalidPath'],_0xc62f27(0x1f1)+_0x1d2e0b);}}[_0x4a13a(0x7a8)](_0x1989fa,_0x18fd2b){const _0x19d4e6=_0x4a13a;if(this['listenerUnsubscribers'][_0x19d4e6(0x738)](_0x1989fa))throw new _0x298b29(_0x404249[_0x19d4e6(0x234)],_0x19d4e6(0x377));this[_0x19d4e6(0x307)][_0x19d4e6(0x2a7)](_0x1989fa,this[_0x19d4e6(0xac8)][_0x19d4e6(0x7a8)](_0x18fd2b));}['unsubscribe'](_0x5c59a2){const _0x4ec2c5=_0x4a13a;this[_0x4ec2c5(0x307)]['get'](_0x5c59a2)?.(),this[_0x4ec2c5(0x307)]['delete'](_0x5c59a2);}async[_0x4a13a(0x4f0)](){const _0x272e2e=_0x4a13a,_0x4fd710=(await(0x0,_0x1264d4['getDoc'])((0x0,_0x1264d4[_0x272e2e(0x448)])(_0x4c4338[_0x272e2e(0x73a)](),_0x272e2e(0x48d)+this[_0x272e2e(0x649)]+_0x272e2e(0x792)+this['label'])))[_0x272e2e(0x728)]();if(!_0x4fd710)throw new _0x298b29(_0x404249['ExternalStorageConnectionDoesNotExist'],'Cannot\x20find\x20External\x20Storage\x20connection:\x20'+this[_0x272e2e(0xaed)]);const {site:_0x57746b,drive:_0x39555d}=_0x4fd710,_0x5aa832=(await(0x0,_0x4b695a[_0x272e2e(0xa27)])(_0x4c4338[_0x272e2e(0x67d)](),_0x272e2e(0xb42))({'storageId':this['label']}))[_0x272e2e(0x728)]['accessToken'];this[_0x272e2e(0x4d6)]=new this[(_0x272e2e(0xa25))](_0x57746b['id'],_0x39555d['id'],_0x5aa832,async()=>(await(0x0,_0x4b695a[_0x272e2e(0xa27)])(_0x4c4338[_0x272e2e(0x67d)](),_0x272e2e(0xac3))({'storageId':this[_0x272e2e(0xaed)]}))[_0x272e2e(0x728)]['accessToken']),this[_0x272e2e(0x5b8)]();}['sendStats'](){const _0x1551fa=_0x4a13a;this['debounceStats']&&clearTimeout(this[_0x1551fa(0x46c)]),this[_0x1551fa(0x46c)]=setTimeout(async()=>{const _0xd9e3fa=_0x1551fa;delete this[_0xd9e3fa(0x46c)],this[_0xd9e3fa(0x525)][_0xd9e3fa(0xa19)]({'sourceId':_0x2d73b4,'messageType':_0x29c5a4[_0xd9e3fa(0xbf2)],'content':{'type':_0x1c17a1[_0xd9e3fa(0xa15)],'label':this[_0xd9e3fa(0xaed)],'stats':{'timestamp':Date[_0xd9e3fa(0xad3)](),'storage':0x0,'messagesSent':0x0,'messagesReceived':0x0,'bytesSent':0x0,'bytesReceived':0x0,'writes':0x0,'reads':this['reads'],'prompts':0x0,'tokens':0x0}}});},_0x476143);}async[_0x4a13a(0x5b8)](){const _0x1ab92c=_0x4a13a;await this[_0x1ab92c(0x4d6)]?.[_0x1ab92c(0x8e9)](),this[_0x1ab92c(0xc2d)]=_0x37fc55[_0x1ab92c(0x583)](async()=>{const _0x3c925f=_0x1ab92c;try{if(!this[_0x3c925f(0x4d6)])return;const _0x71d5a3=await this['connector'][_0x3c925f(0x8e9)]();for(const _0x2d0f03 of _0x71d5a3)this[_0x3c925f(0xac8)][_0x3c925f(0xa19)](_0x2d0f03);}catch(_0x31fad4){}},0x493e0);}}const _0x1905fd=require('rxjs');class _0x58b8bf extends _0x6375ab{[_0x4a13a(0xb83)];[_0x4a13a(0x659)]=new Map();[_0x4a13a(0x8ad)]=new Map();[_0x4a13a(0x46b)]=new Map();[_0x4a13a(0x32a)];constructor(_0x532d2f,_0x579a1b,_0x558f7e){const _0xb2040a=_0x4a13a;super(_0x532d2f,_0x579a1b),this[_0xb2040a(0xb83)]=_0x558f7e;}[_0x4a13a(0x743)](){const _0x389773=_0x4a13a;return _0x52458b[_0x389773(0x54c)]['Job'];}[_0x4a13a(0x4f0)](){const _0x184bcc=_0x4a13a;this[_0x184bcc(0x32a)]=this[_0x184bcc(0x3b0)]((_0x27ace0,_0x5dc2ed)=>{const _0x24ca3c=_0x184bcc;if(_0x260a6c['log'](_0x2e74f6[_0x24ca3c(0x31d)],_0x24ca3c(0x6d1),_0x27ace0,_0x5dc2ed,this['graphService'][_0x24ca3c(0x61b)]()),!(_0x5dc2ed instanceof File)){if(!_0x5dc2ed)throw new _0x240123(_0x240123[_0x24ca3c(0x2f7)][_0x24ca3c(0x6ac)]);return this[_0x24ca3c(0xb49)](_0x5dc2ed)?this['addBidResponse'](_0x27ace0,_0x5dc2ed['id'],_0x5dc2ed):this[_0x24ca3c(0x410)](_0x5dc2ed)?(_0x260a6c[_0x24ca3c(0x8b9)](_0x2e74f6[_0x24ca3c(0x31d)],_0x24ca3c(0xb35)+_0x5dc2ed['id']+_0x24ca3c(0x3f2),_0x5dc2ed[_0x24ca3c(0x892)]),void this[_0x24ca3c(0xb5d)](_0x5dc2ed['id'],_0x5dc2ed)):this[_0x24ca3c(0x614)](_0x5dc2ed)?(_0x260a6c['log'](_0x2e74f6['Jobs'],_0x24ca3c(0xb35)+_0x5dc2ed['id']+_0x24ca3c(0xbe7),_0x5dc2ed[_0x24ca3c(0x892)]),void this[_0x24ca3c(0x715)](_0x5dc2ed['id'],_0x5dc2ed)):void(this['isFailedResponse'](_0x5dc2ed)&&this[_0x24ca3c(0xbd6)](_0x5dc2ed['id'],_0x5dc2ed[_0x24ca3c(0x5c1)]));}});}[_0x4a13a(0x56f)](){const _0x4a8267=_0x4a13a;this['clear'](),this[_0x4a8267(0x4f0)]();}[_0x4a13a(0x888)](){const _0x18b7b8=_0x4a13a;this[_0x18b7b8(0xb0f)](),super[_0x18b7b8(0x888)]();}[_0x4a13a(0xb0f)](){const _0x3d4b9e=_0x4a13a;this['jobs'][_0x3d4b9e(0xb0f)](),this[_0x3d4b9e(0x32a)]&&this[_0x3d4b9e(0x32a)]();}[_0x4a13a(0x935)](){const _0x4cf473=_0x4a13a;this[_0x4cf473(0x525)]?.['publish']({'sourceId':_0x2d73b4,'messageType':_0x29c5a4[_0x4cf473(0xbf2)],'content':{'type':_0x1c17a1[_0x4cf473(0xb44)],'label':this[_0x4cf473(0xaed)]}});}async[_0x4a13a(0x4eb)](_0x1a2593){const _0x3b83b3=_0x4a13a,{id:_0x5ea131,parameters:_0x7e8040,jobType:_0x46b767}=_0x1a2593,_0x1c9b6e={'id':_0x5ea131,'jobType':_0x46b767,'parameters':_0x7e8040,'status':_0x52458b[_0x3b83b3(0xa07)][_0x3b83b3(0x285)],'created':new Date(),'updated':new Date()};if(this[_0x3b83b3(0x659)][_0x3b83b3(0x738)](_0x1c9b6e['id']))throw new _0x298b29(_0x404249['JobDispatcherJobExists'],_0x3b83b3(0x5e8)+_0x1c9b6e['id']+_0x3b83b3(0x9f2));_0x1c9b6e[_0x3b83b3(0x51a)]=new Date(),_0x1c9b6e['updated']=new Date();const _0x315546=new _0x1905fd['Subject']();this[_0x3b83b3(0x659)][_0x3b83b3(0x2a7)](_0x1c9b6e['id'],_0x1c9b6e),this[_0x3b83b3(0x8ad)][_0x3b83b3(0x2a7)](_0x1c9b6e['id'],_0x315546);try{const _0x136663={'id':_0x1c9b6e['id'],'jobPhase':_0x449de3[_0x3b83b3(0x1eb)],'jobType':_0x1c9b6e[_0x3b83b3(0xa86)]},_0x4f5eab=0x3;let _0x1a40c8=0x0;const _0x5cc53b=async()=>{const _0x5abf6d=_0x3b83b3;_0x1a40c8+=0x1;try{_0x260a6c[_0x5abf6d(0x8b9)](_0x2e74f6[_0x5abf6d(0x31d)],_0x5abf6d(0xb35)+_0x1c9b6e['id']+_0x5abf6d(0x818)+_0x1a40c8+'.',this[_0x5abf6d(0xb83)][_0x5abf6d(0x61b)]()),await this[_0x5abf6d(0x381)](_0x136663),_0x1c9b6e['updated']=new Date(),this[_0x5abf6d(0x659)][_0x5abf6d(0x2a7)](_0x1c9b6e['id'],_0x1c9b6e),this[_0x5abf6d(0xc0b)](_0x1c9b6e['id']);}catch(_0x2a0784){_0x1a40c8<_0x4f5eab?(_0x260a6c[_0x5abf6d(0x885)](_0x5abf6d(0x36d)+_0x1a40c8+_0x5abf6d(0x947)+_0x1c9b6e['id']+_0x5abf6d(0x8aa),{'nodeId':this[_0x5abf6d(0xb9b)][_0x5abf6d(0xa47)](),'nodeType':this[_0x5abf6d(0xb9b)][_0x5abf6d(0xbdd)],'data':{'job':_0x1c9b6e,'attempts':_0x1a40c8,'maxRetries':_0x4f5eab}}),setTimeout(_0x5cc53b,0x3e8)):(_0x1c9b6e['status']=_0x52458b['JobStatus'][_0x5abf6d(0x239)],_0x1c9b6e[_0x5abf6d(0x70a)]=new Date(),this[_0x5abf6d(0x659)][_0x5abf6d(0x2a7)](_0x1c9b6e['id'],_0x1c9b6e),_0x260a6c['error'](_0x5abf6d(0x63d)+_0x1c9b6e['id']+'\x20after\x20'+_0x4f5eab+_0x5abf6d(0xb9d),{'nodeId':this[_0x5abf6d(0xb9b)][_0x5abf6d(0xa47)](),'nodeType':this['owner']['type'],'data':{'job':_0x1c9b6e,'attempts':_0x1a40c8,'maxRetries':_0x4f5eab,'error':_0x2a0784}}));}};_0x5cc53b();const {id:_0x124dda}=_0x1c9b6e;this[_0x3b83b3(0x6a5)](_0x3b83b3(0xb35)+_0x1c9b6e['id']+_0x3b83b3(0x921),{'jobId':_0x124dda}),_0x1c9b6e['updated']=new Date();}catch(_0x1467cb){_0x1c9b6e[_0x3b83b3(0xc33)]=_0x52458b[_0x3b83b3(0xa07)][_0x3b83b3(0x239)],_0x260a6c[_0x3b83b3(0x33b)](_0x3b83b3(0x63d)+_0x1c9b6e['id']+':',{'nodeId':this[_0x3b83b3(0xb9b)][_0x3b83b3(0xa47)](),'nodeType':this[_0x3b83b3(0xb9b)][_0x3b83b3(0xbdd)],'data':{'job':_0x1c9b6e,'error':_0x1467cb}});}return _0x315546['asObservable']();}['getJob'](_0x342aa1){const _0x4ee665=_0x4a13a,_0x17e0ff=this[_0x4ee665(0x659)]['get'](_0x342aa1);if(!_0x17e0ff)throw new _0x298b29(_0x404249[_0x4ee665(0x53a)],'Job\x20with\x20id\x20'+_0x342aa1+'\x20not\x20found.');return{'id':_0x17e0ff['id'],'jobType':_0x17e0ff[_0x4ee665(0xa86)],'status':_0x17e0ff[_0x4ee665(0xc33)],'parameters':_0x17e0ff[_0x4ee665(0x6a8)]};}['getJobs'](){const _0x511f90=_0x4a13a;return Array[_0x511f90(0xad6)](this[_0x511f90(0x659)][_0x511f90(0x331)]())[_0x511f90(0x275)](_0x4b3820=>this[_0x511f90(0x78d)](_0x4b3820['id']));}async['updateJob'](_0x311921,_0x5f5a18){const _0x149169=_0x4a13a,_0x1678aa=this[_0x149169(0x659)][_0x149169(0x68c)](_0x311921);if(!_0x1678aa)throw new _0x298b29(_0x404249['JobDispatcherJobNotFound'],_0x149169(0x5e8)+_0x311921+_0x149169(0x2b5));_0x1678aa[_0x149169(0x6a8)]=_0x5f5a18,_0x1678aa[_0x149169(0x70a)]=new Date(),this[_0x149169(0x659)][_0x149169(0x2a7)](_0x311921,_0x1678aa);}async[_0x4a13a(0x9e6)](_0x367b1a){const _0x48a0ca=_0x4a13a;if(!this[_0x48a0ca(0x659)]['delete'](_0x367b1a))throw new _0x298b29(_0x404249['JobDispatcherJobNotFound'],_0x48a0ca(0x5e8)+_0x367b1a+'\x20not\x20found.');const _0x31acf6=this[_0x48a0ca(0x8ad)][_0x48a0ca(0x68c)](_0x367b1a);if(!_0x31acf6)throw new _0x240123(_0x240123['codes'][_0x48a0ca(0xa42)]);_0x31acf6[_0x48a0ca(0x7fe)](),this[_0x48a0ca(0x8ad)]['delete'](_0x367b1a),_0x260a6c['log'](_0x2e74f6['Jobs'],_0x48a0ca(0xb35)+_0x367b1a+'\x20deleted.');}[_0x4a13a(0x39d)](_0x378edc,_0x41a584,_0x19d07b){const _0x50c0fe=_0x4a13a,_0x255a08=this[_0x50c0fe(0x46b)][_0x50c0fe(0x68c)](_0x41a584)??new Map();_0x255a08[_0x50c0fe(0x2a7)](_0x378edc,[_0x19d07b,Date[_0x50c0fe(0xad3)]()]),this[_0x50c0fe(0x46b)][_0x50c0fe(0x2a7)](_0x41a584,_0x255a08),this[_0x50c0fe(0x9be)](_0x41a584);}[_0x4a13a(0xc0b)](_0x4192d5){const _0x531cd9=_0x4a13a,_0x323e5d=this[_0x531cd9(0x659)][_0x531cd9(0x68c)](_0x4192d5);if(!_0x323e5d)throw new _0x240123(_0x240123[_0x531cd9(0x2f7)][_0x531cd9(0x53a)]);const _0x30955e=setTimeout(()=>this[_0x531cd9(0x9be)](_0x4192d5,!0x0),0xbb8);_0x323e5d[_0x531cd9(0x26d)]=_0x30955e,this[_0x531cd9(0x659)][_0x531cd9(0x2a7)](_0x323e5d['id'],_0x323e5d);}['evaluateBidsAndAttributeJob'](_0x4e63c4,_0x2b3eeb=!0x1){const _0x22f7a3=_0x4a13a,_0x161b17=this[_0x22f7a3(0xb83)]['getRemoteNodes'](),_0x44d64a=Array[_0x22f7a3(0xad6)](_0x161b17['values']())[_0x22f7a3(0x675)](_0x4c8287=>_0x4c8287['type']===_0x52458b[_0x22f7a3(0x223)][_0x22f7a3(0x673)]),_0x3bec1d=this['jobBids'][_0x22f7a3(0x68c)](_0x4e63c4)??new Map();if(!_0x2b3eeb&&(!_0x3bec1d||_0x3bec1d['size']<_0x44d64a['length']))return;const _0x44fa64=this[_0x22f7a3(0x659)][_0x22f7a3(0x68c)](_0x4e63c4);if(!_0x44fa64)throw new _0x240123(_0x240123[_0x22f7a3(0x2f7)][_0x22f7a3(0x53a)]);if(clearTimeout(_0x44fa64[_0x22f7a3(0x26d)]),_0x260a6c[_0x22f7a3(0x8b9)](_0x2e74f6[_0x22f7a3(0x31d)],_0x22f7a3(0xb35)+_0x44fa64['id']+'\x20received\x20responses:',_0x3bec1d,this[_0x22f7a3(0x46b)]),!_0x3bec1d||0x0===_0x3bec1d['size']){_0x44fa64[_0x22f7a3(0xc33)]=_0x52458b['JobStatus'][_0x22f7a3(0x239)],_0x44fa64[_0x22f7a3(0x70a)]=new Date(),_0x260a6c[_0x22f7a3(0x33b)](_0x22f7a3(0xb35)+_0x44fa64['id']+_0x22f7a3(0xc48),{'nodeId':this[_0x22f7a3(0xb9b)]['getId'](),'nodeType':this[_0x22f7a3(0xb9b)][_0x22f7a3(0xbdd)],'data':{'job':_0x44fa64,'responses':_0x3bec1d}});const _0x108588=this[_0x22f7a3(0x8ad)]['get'](_0x4e63c4);if(!_0x108588)throw new _0x240123(_0x240123['codes']['JobDispatcherObserverNotFound']);const _0x3dc1a7=_0x22f7a3(0x856),_0x20e5d9={'id':_0x44fa64['id'],'status':_0x44fa64[_0x22f7a3(0xc33)],'message':_0x3dc1a7};return _0x108588[_0x22f7a3(0x93d)](_0x20e5d9),_0x108588[_0x22f7a3(0x7fe)](),this[_0x22f7a3(0x659)][_0x22f7a3(0x2a7)](_0x44fa64['id'],_0x44fa64),void this[_0x22f7a3(0x46b)]['delete'](_0x4e63c4);}const {nodeId:_0x29466b,response:_0x236216}=this[_0x22f7a3(0xb56)](_0x44fa64['id'],_0x3bec1d);_0x44fa64['status']=_0x52458b[_0x22f7a3(0xa07)][_0x22f7a3(0xaa1)],_0x44fa64['updated']=new Date(),_0x260a6c[_0x22f7a3(0x8b9)](_0x2e74f6[_0x22f7a3(0x31d)],_0x22f7a3(0xb35)+_0x44fa64['id']+'\x20attributed\x20to\x20'+_0x29466b+_0x22f7a3(0xc19),_0x236216);const _0xf0ef7b={'id':_0x44fa64['id'],'jobType':_0x44fa64[_0x22f7a3(0xa86)],'jobPhase':_0x449de3[_0x22f7a3(0x4c0)],'parameters':_0x44fa64['parameters']};this[_0x22f7a3(0x381)](_0xf0ef7b,[_0x29466b]),this[_0x22f7a3(0x659)][_0x22f7a3(0x2a7)](_0x44fa64['id'],_0x44fa64),this[_0x22f7a3(0x46b)][_0x22f7a3(0xb18)](_0x4e63c4);}[_0x4a13a(0xb56)](_0x311313,_0x416f73){const _0x122c0f=_0x4a13a;let _0x15564f;const _0x40460f=Array[_0x122c0f(0xad6)](_0x416f73[_0x122c0f(0x3a4)]())[_0x122c0f(0x675)](([,[_0x8b37ea]])=>_0x8b37ea[_0x122c0f(0xb09)]);if(_0x15564f=_0x40460f[_0x122c0f(0x454)]>0x0?Array[_0x122c0f(0xad6)](_0x416f73[_0x122c0f(0x3a4)]())[_0x122c0f(0xbde)]((_0x438c3c,_0x5bced2)=>_0x5bced2[0x1][0x0][_0x122c0f(0x5bb)]-_0x438c3c[0x1][0x0][_0x122c0f(0x5bb)]):Array[_0x122c0f(0xad6)](_0x416f73[_0x122c0f(0x3a4)]())[_0x122c0f(0xbde)]((_0x399ca0,_0x42ab19)=>_0x399ca0[0x1][0x0][_0x122c0f(0x3a3)]-_0x42ab19[0x1][0x0][_0x122c0f(0x3a3)]),0x1===_0x15564f[_0x122c0f(0x454)])return{'nodeId':_0x15564f[0x0][0x0],'response':_0x15564f[0x0][0x1][0x0]};let _0x2c4f31;if(_0x2c4f31=_0x40460f['length']>0x0?(_0x3aa3c6=>{const _0x3446fc=_0x122c0f,_0x3c9e9a=_0x3aa3c6[0x0][0x1][0x0][_0x3446fc(0x5bb)];return _0x3aa3c6[_0x3446fc(0x675)](([,[_0xa289ff]])=>_0xa289ff[_0x3446fc(0x5bb)]===_0x3c9e9a);})(_0x15564f):(_0x3ddc8a=>{const _0x1fe552=_0x122c0f,_0x51d6e6=_0x3ddc8a[0x0][0x1][0x0][_0x1fe552(0x3a3)];return _0x3ddc8a[_0x1fe552(0x675)](([,[_0x191db9]])=>_0x191db9[_0x1fe552(0x3a3)]===_0x51d6e6);})(_0x15564f),0x1===_0x2c4f31[_0x122c0f(0x454)])return{'nodeId':_0x2c4f31[0x0][0x0],'response':_0x2c4f31[0x0][0x1][0x0]};const _0x123183=this['jobs'][_0x122c0f(0x68c)](_0x311313);if(!_0x123183)throw new _0x240123(_0x240123[_0x122c0f(0x2f7)][_0x122c0f(0x53a)]);const _0x5d20f4=_0x123183[_0x122c0f(0x51a)][_0x122c0f(0x391)](),_0x478158=_0x2c4f31[_0x122c0f(0x275)](([_0x509e41,[,_0x48088a]])=>({'nodeId':_0x509e41,'rtt':_0x48088a-_0x5d20f4})),_0x2ccef4=Math[_0x122c0f(0x80c)](..._0x478158[_0x122c0f(0x275)](({rtt:_0x12cdb2})=>_0x12cdb2)),_0x449d48=_0x478158['find'](({rtt:_0x2d9421})=>_0x2d9421===_0x2ccef4),[,[_0x178439]]=_0x2c4f31['find'](([_0x3ef288])=>_0x3ef288===_0x449d48[_0x122c0f(0xb8b)]);return{'nodeId':_0x449d48[_0x122c0f(0xb8b)],'response':_0x178439};}[_0x4a13a(0xb5d)](_0x349c3e,_0x2bc97c){const _0xa954e7=_0x4a13a,_0x29deca=this[_0xa954e7(0x659)][_0xa954e7(0x68c)](_0x349c3e);if(!_0x29deca)throw new _0x240123(_0x240123[_0xa954e7(0x2f7)][_0xa954e7(0x53a)]);const _0x2a5689=this[_0xa954e7(0x8ad)][_0xa954e7(0x68c)](_0x349c3e);if(!_0x2a5689)throw new _0x240123(_0x240123[_0xa954e7(0x2f7)]['JobDispatcherObserverNotFound']);const _0x35c7e6={'id':_0x29deca['id'],'status':_0x52458b[_0xa954e7(0xa07)]['Partial'],'result':_0x2bc97c['result']};_0x2a5689[_0xa954e7(0x93d)](_0x35c7e6);}['evaluateProccessedJob'](_0x4b15fd,_0x41aed6){const _0x40285b=_0x4a13a,_0xbcee1e=this[_0x40285b(0x659)][_0x40285b(0x68c)](_0x4b15fd);if(!_0xbcee1e)throw new _0x240123(_0x240123[_0x40285b(0x2f7)][_0x40285b(0x53a)]);const _0xe3ed59=this[_0x40285b(0x8ad)][_0x40285b(0x68c)](_0x4b15fd);if(!_0xe3ed59)throw new _0x240123(_0x240123[_0x40285b(0x2f7)][_0x40285b(0xa42)]);_0xbcee1e[_0x40285b(0xc33)]=_0x52458b[_0x40285b(0xa07)][_0x40285b(0x476)];const _0x163660={'id':_0xbcee1e['id'],'status':_0xbcee1e['status'],'result':_0x41aed6[_0x40285b(0x892)]};_0xe3ed59[_0x40285b(0x93d)](_0x163660),_0xe3ed59[_0x40285b(0x7fe)](),this[_0x40285b(0x8ad)][_0x40285b(0xb18)](_0x4b15fd),this[_0x40285b(0x6a5)](_0x40285b(0xb35)+_0x4b15fd+_0x40285b(0xc16),{'jobId':_0x4b15fd});}[_0x4a13a(0xbd6)](_0x45b486,_0xbc3541){const _0x15ed07=_0x4a13a,_0x28781c=this[_0x15ed07(0x659)][_0x15ed07(0x68c)](_0x45b486);if(!_0x28781c)throw new _0x240123(_0x240123['codes'][_0x15ed07(0x53a)]);const _0xce6bcf=this[_0x15ed07(0x8ad)][_0x15ed07(0x68c)](_0x45b486);if(!_0xce6bcf)throw new _0x240123(_0x240123['codes']['JobDispatcherObserverNotFound']);_0x28781c[_0x15ed07(0xc33)]=_0x52458b[_0x15ed07(0xa07)][_0x15ed07(0x239)];const _0xbeef3d={'id':_0x28781c['id'],'status':_0x28781c[_0x15ed07(0xc33)],'message':_0xbc3541};_0xce6bcf[_0x15ed07(0x93d)](_0xbeef3d),_0xce6bcf[_0x15ed07(0x7fe)](),this[_0x15ed07(0x8ad)]['delete'](_0x45b486),this[_0x15ed07(0x6a5)](_0x15ed07(0xb35)+_0x45b486+_0x15ed07(0x60b),{'jobId':_0x45b486});}['logEvent'](_0x4c7f31,{jobId:_0x277089}){const _0x5e7719=_0x4a13a,_0x18ad9b={'jobId':_0x277089,'mistletIds':Array[_0x5e7719(0xad6)](this[_0x5e7719(0xb83)]['getRemoteNodes']()[_0x5e7719(0x331)]())[_0x5e7719(0x675)](_0x40d1d3=>_0x40d1d3['type']===_0x52458b[_0x5e7719(0x223)]['Agent'])['map'](_0x465c76=>_0x465c76['getId']())};_0x260a6c[_0x5e7719(0x6a5)](_0x4c7f31,{'nodeId':this[_0x5e7719(0x742)](),'nodeType':this[_0x5e7719(0xb9b)][_0x5e7719(0xbdd)],'data':_0x18ad9b}),_0x260a6c[_0x5e7719(0x8b9)](_0x2e74f6[_0x5e7719(0x31d)],_0x4c7f31,_0x18ad9b);}[_0x4a13a(0xb49)](_0x444dce){const _0x537789=_0x4a13a,{jobPhase:_0x4b1976,available:_0x2df6df,bid:_0x187f03}=_0x444dce;return _0x4b1976===_0x449de3[_0x537789(0x38a)]&&void 0x0!==_0x2df6df&&void 0x0!==_0x187f03;}[_0x4a13a(0x410)](_0x38ef08){const _0x29095d=_0x4a13a,{jobPhase:_0x2babe7,result:_0x36b735}=_0x38ef08;return _0x2babe7===_0x449de3[_0x29095d(0x3a7)]&&void 0x0!==_0x36b735;}[_0x4a13a(0x614)](_0x12d679){const {jobPhase:_0x46dc20,result:_0x960645}=_0x12d679;return _0x46dc20===_0x449de3['Result']&&void 0x0!==_0x960645;}[_0x4a13a(0x86c)](_0x16bdd0){const _0x408680=_0x4a13a,{jobPhase:_0x4349de,message:_0x2db806}=_0x16bdd0;return _0x4349de===_0x449de3[_0x408680(0x239)]&&void 0x0!==_0x2db806&&_0x408680(0x924)==typeof _0x2db806;}}var _0x5d9066,_0xa515c,_0x2f4e96,_0x81f8f3,_0x1bb8b2;!function(_0x44affa){const _0x1ba957=_0x4a13a;_0x44affa[_0x1ba957(0x77a)]='object-storage',_0x44affa[_0x1ba957(0x82a)]=_0x1ba957(0xb3e);}(_0x5d9066||(_0x5d9066={})),function(_0xfaf711){const _0xd0c35=_0x4a13a;_0xfaf711[_0xd0c35(0x673)]=_0xd0c35(0x7b0),_0xfaf711[_0xd0c35(0xbd5)]=_0xd0c35(0xab9),_0xfaf711[_0xd0c35(0x207)]=_0xd0c35(0x989),_0xfaf711['CustomSkill']=_0xd0c35(0xaab),_0xfaf711['DataCollection']='data-collection',_0xfaf711['Knowledge']=_0xd0c35(0xb5a),_0xfaf711[_0xd0c35(0x661)]=_0xd0c35(0x3f8),_0xfaf711[_0xd0c35(0xa14)]='answer',_0xfaf711['Code']='code',_0xfaf711[_0xd0c35(0x4ec)]='form-skill',_0xfaf711[_0xd0c35(0x85b)]='search',_0xfaf711['AiSearch']=_0xd0c35(0x2cb),_0xfaf711[_0xd0c35(0x4c7)]=_0xd0c35(0x80a),_0xfaf711[_0xd0c35(0x4f9)]=_0xd0c35(0x23b),_0xfaf711['QueryFile']='query-file',_0xfaf711['WriteFile']=_0xd0c35(0x7a6),_0xfaf711[_0xd0c35(0x878)]=_0xd0c35(0x452),_0xfaf711[_0xd0c35(0x50b)]='sentence-splitter',_0xfaf711['WordSplitter']=_0xd0c35(0xb40),_0xfaf711['DocumentParser']=_0xd0c35(0x522),_0xfaf711[_0xd0c35(0x9e8)]='image-parser',_0xfaf711[_0xd0c35(0xa6f)]=_0xd0c35(0xab1),_0xfaf711[_0xd0c35(0x8f5)]=_0xd0c35(0x296),_0xfaf711['WorkflowTool']='workflow-tool';}(_0xa515c||(_0xa515c={})),function(_0x3bd07c){const _0x16d7c1=_0x4a13a;_0x3bd07c[_0x16d7c1(0x3cd)]=_0x16d7c1(0x355),_0x3bd07c[_0x16d7c1(0x245)]=_0x16d7c1(0x3e2),_0x3bd07c[_0x16d7c1(0x22c)]=_0x16d7c1(0x522),_0x3bd07c['ChunkSplitter']=_0x16d7c1(0x452),_0x3bd07c['WordSplitter']=_0x16d7c1(0xb40),_0x3bd07c[_0x16d7c1(0x50b)]='sentence-splitter',_0x3bd07c['RelationExtractor']='relation-extractor',_0x3bd07c['EntityExtractor']=_0x16d7c1(0x72c),_0x3bd07c[_0x16d7c1(0x530)]=_0x16d7c1(0x316),_0x3bd07c[_0x16d7c1(0x7f3)]=_0x16d7c1(0x4da),_0x3bd07c[_0x16d7c1(0x673)]=_0x16d7c1(0x7b0),_0x3bd07c['ObjectStorageBucket']='object-storage',_0x3bd07c[_0x16d7c1(0xba3)]=_0x16d7c1(0x672),_0x3bd07c[_0x16d7c1(0x844)]='vector-database',_0x3bd07c['GraphDatabase']=_0x16d7c1(0x36f),_0x3bd07c[_0x16d7c1(0x661)]=_0x16d7c1(0x3f8),_0x3bd07c['Context']=_0x16d7c1(0x560),_0x3bd07c[_0x16d7c1(0x3c3)]=_0x16d7c1(0x7c3),_0x3bd07c[_0x16d7c1(0x722)]=_0x16d7c1(0x891);}(_0x2f4e96||(_0x2f4e96={})),function(_0x249c16){const _0x1a2fb1=_0x4a13a;_0x249c16[_0x1a2fb1(0xa75)]='file',_0x249c16[_0x1a2fb1(0x209)]=_0x1a2fb1(0x89d),_0x249c16[_0x1a2fb1(0xb9c)]=_0x1a2fb1(0x24f),_0x249c16[_0x1a2fb1(0x6ef)]=_0x1a2fb1(0x39c),_0x249c16[_0x1a2fb1(0x465)]=_0x1a2fb1(0x1f6),_0x249c16[_0x1a2fb1(0xbfd)]=_0x1a2fb1(0x728),_0x249c16[_0x1a2fb1(0x520)]=_0x1a2fb1(0xaca),_0x249c16[_0x1a2fb1(0xa2c)]='entity',_0x249c16['Relation']=_0x1a2fb1(0x895),_0x249c16[_0x1a2fb1(0x85b)]=_0x1a2fb1(0x4ce),_0x249c16[_0x1a2fb1(0x5e3)]=_0x1a2fb1(0x315),_0x249c16[_0x1a2fb1(0xa43)]=_0x1a2fb1(0xa17),_0x249c16[_0x1a2fb1(0x8e6)]=_0x1a2fb1(0x560),_0x249c16[_0x1a2fb1(0x6b0)]=_0x1a2fb1(0xc22),_0x249c16['WaitTrue']=_0x1a2fb1(0x21a),_0x249c16[_0x1a2fb1(0x4f5)]='wait-false';}(_0x81f8f3||(_0x81f8f3={})),function(_0x275780){const _0x5a94d4=_0x4a13a;_0x275780[_0x5a94d4(0x5c9)]=_0x5a94d4(0xb31),_0x275780[_0x5a94d4(0xae4)]=_0x5a94d4(0xa9e),_0x275780[_0x5a94d4(0x4af)]='dedicated';}(_0x1bb8b2||(_0x1bb8b2={}));const _0x5f5caf=[{'type':_0xa515c[_0x4a13a(0x207)],'id':_0x4a13a(0x40b),'name':_0x4a13a(0x2fe),'description':_0x4a13a(0x81a),'modelId':_0x4a13a(0xaf5),'instructions':_0x4a13a(0x511),'grammar':_0x4a13a(0x597),'temperature':0x0,'maxTokens':0x64}],_0x2316c0=[{'type':_0xa515c['Agent'],'id':'blank-agent','name':_0x4a13a(0x7e5),'description':'','modelId':_0x4a13a(0xaf5),'instructions':'','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0xa515c['Agent'],'id':_0x4a13a(0x3df),'name':_0x4a13a(0x4a6),'description':_0x4a13a(0x3bb),'modelId':_0x4a13a(0xaf5),'instructions':'Generic\x20AI\x20Agent\x20is\x20a\x20flexible\x20assistant\x20capable\x20of\x20responding\x20to\x20various\x20queries\x20and\x20tasks.\x0a-\x20It\x20provides\x20informative\x20and\x20concise\x20responses.\x0a-\x20It\x20adapts\x20its\x20tone\x20and\x20depth\x20based\x20on\x20the\x20context\x20of\x20the\x20conversation.\x0a-\x20It\x20ensures\x20clarity\x20and\x20coherence\x20in\x20all\x20interactions.\x0a-\x20It\x20structures\x20responses\x20using\x20Markdown\x20for\x20readability.\x0a-\x20It\x20avoids\x20making\x20assumptions\x20without\x20sufficient\x20context.\x0a-\x20It\x20can\x20summarize,\x20analyze,\x20and\x20generate\x20content\x20as\x20needed.\x0a-\x20It\x20always\x20prioritizes\x20user\x20intent\x20and\x20accuracy.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0xa515c[_0x4a13a(0x673)],'id':'search-agent','name':_0x4a13a(0x313),'description':_0x4a13a(0x62b),'modelId':_0x4a13a(0xaf5),'instructions':_0x4a13a(0x39b),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0xa515c[_0x4a13a(0x673)],'id':'feedback-agent','name':'Feedback\x20Agent','description':_0x4a13a(0x545),'modelId':'gpt-4.1-nano','instructions':_0x4a13a(0xad2),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0xa515c[_0x4a13a(0x673)],'id':'learn-agent','name':_0x4a13a(0x8b4),'description':_0x4a13a(0x5e7),'modelId':'gpt-4.1-nano','instructions':_0x4a13a(0x660),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0xa515c[_0x4a13a(0x673)],'id':_0x4a13a(0xbd9),'name':'Query\x20Generator','description':'Helps\x20users\x20construct\x20optimized\x20SQL\x20or\x20NoSQL\x20queries.','modelId':'gpt-4.1-nano','instructions':_0x4a13a(0x606),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0xa515c[_0x4a13a(0x673)],'id':'competitive-agent','name':_0x4a13a(0x25f),'description':'Monitors\x20competitors\x20and\x20provides\x20insights\x20on\x20their\x20products,\x20pricing,\x20and\x20updates.','modelId':_0x4a13a(0xaf5),'instructions':'Competitive\x20Analysis\x20Agent\x20tracks\x20competitors\x27\x20products,\x20pricing,\x20and\x20market\x20strategies.\x0a-\x20It\x20first\x20identifies\x20competitors\x20and\x20analysis\x20aspects\x20(e.g.,\x20pricing,\x20features,\x20marketing).\x0a-\x20Collects\x20insights\x20from\x20public\x20reports,\x20websites,\x20and\x20customer\x20reviews.\x0a-\x20Provides\x20a\x20structured\x20comparison\x20highlighting\x20strengths,\x20weaknesses,\x20and\x20differentiators.\x0a-\x20Uses\x20a\x20SWOT\x20analysis\x20format\x20when\x20applicable.\x0a-\x20Presents\x20competitor\x20data\x20in\x20tables\x20with\x20a\x20Data\x20Source\x20&\x20Timestamp\x20section.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0xa515c[_0x4a13a(0x673)],'id':_0x4a13a(0x96d),'name':_0x4a13a(0xc29),'description':_0x4a13a(0x802),'modelId':'gpt-4.1-nano','instructions':'Strategizing\x20Agent\x20helps\x20businesses\x20evaluate\x20strategies,\x20analyze\x20market\x20conditions,\x20and\x20optimize\x20decision-making.\x0a-\x20Identifies\x20the\x20business\x20goal\x20or\x20challenge\x20before\x20providing\x20recommendations.\x0a-\x20Provides\x20data-driven\x20insights\x20referencing\x20industry\x20benchmarks\x20and\x20trends.\x0a-\x20Uses\x20logical\x20frameworks\x20such\x20as\x20SWOT\x20Analysis,\x20Risk\x20Assessment,\x20and\x20Strategic\x20Roadmaps.\x0a-\x20Presents\x20recommendations\x20objectively,\x20listing\x20advantages\x20and\x20disadvantages.\x0a-\x20Uses\x20structured\x20formatting\x20with\x20bullet\x20points\x20and\x20comparison\x20tables.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0xa515c[_0x4a13a(0x673)],'id':_0x4a13a(0x6b5),'name':_0x4a13a(0xaaf),'description':_0x4a13a(0x8cf),'modelId':'gpt-4.1-nano','instructions':_0x4a13a(0x9ef),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0xa515c[_0x4a13a(0x673)],'id':_0x4a13a(0x685),'name':_0x4a13a(0x69a),'description':_0x4a13a(0x8a2),'modelId':_0x4a13a(0xaf5),'instructions':_0x4a13a(0x79e),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0xa515c[_0x4a13a(0x673)],'id':_0x4a13a(0x375),'name':'Trend\x20Spotter','description':_0x4a13a(0x6a0),'modelId':'gpt-4.1-nano','instructions':'Trend\x20Spotter\x20gathers\x20current\x20market\x20trends\x20from\x20reports,\x20social\x20media,\x20and\x20industry\x20news.\x0a-\x20It\x20identifies\x20the\x20market\x20of\x20interest\x20before\x20conducting\x20a\x20web\x20search.\x0a-\x20Provides\x20an\x20executive\x20summary\x20followed\x20by\x20detailed\x20insights.\x0a-\x20Lists\x20verified\x20statistics\x20and\x20their\x20sources.\x0a-\x20Always\x20states\x20the\x20date\x20of\x20information\x20and\x20suggests\x20verification.\x0a-\x20Summaries\x20are\x20structured\x20under\x20Key\x20Trends,\x20Market\x20Growth,\x20and\x20Consumer\x20Preferences.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0xa515c[_0x4a13a(0x673)],'id':'copywriter-agent','name':'Copywriter\x20Agent','description':_0x4a13a(0x54f),'modelId':_0x4a13a(0xaf5),'instructions':_0x4a13a(0x3f5),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x4a13a(0xae9),'name':'Coordinator\x20Agent','description':'Coordinates\x20and\x20orchestrates\x20the\x20execution\x20of\x20tasks\x20and\x20workflows.','modelId':_0x4a13a(0xaf5),'instructions':_0x4a13a(0x27f),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x4a13a(0xa44),'name':'Interviewer\x20Agent','description':_0x4a13a(0x556),'modelId':'gpt-4.1-nano','instructions':'Goal:\x20Fill\x20out\x20the\x20form\x20using\x20only\x20the\x20provided\x20tools.\x0a\x0aRules:\x0a-\x20Always\x20call\x20getQuestion\x20to\x20retrieve\x20the\x20current\x20question\x27s\x20details.\x0a-\x20Only\x20ask\x20what\x20getQuestion\x20returns\x20you\x20â€”\x20no\x20guessing,\x20no\x20extras.\x0a-\x20Use\x20the\x20question\x27s\x20details\x20to\x20ask\x20a\x20clear,\x20human\x20question.\x0a-\x20Do\x20not\x20mention\x20formatting\x20or\x20validation\x20rules.\x0a-\x20Ask\x20only\x20one\x20question\x20at\x20a\x20time.\x0a-\x20Always\x20validate\x20the\x20answer\x20using\x20the\x20current\x20question\x27s\x20details\x20from\x20getQuestion.\x0a-\x20If\x20the\x20answer\x20is\x20valid\x20or\x20can\x20be\x20auto-corrected\x20(e.g.\x20trim,\x20format),\x20call\x20setAnswer(questionId,\x20value).\x0a-\x20If\x20the\x20answer\x20is\x20not\x20valid,\x20gently\x20ask\x20the\x20user\x20to\x20try\x20again\x20â€”\x20no\x20tech\x20talk,\x20no\x20rule\x20references.\x0a-\x20Call\x20submitForm\x20when\x20getQuestion\x20returns\x20\x22No\x20more\x20questions\x20available\x22.\x0a-\x20Never\x20call\x20more\x20than\x20one\x20tool\x20at\x20a\x20time.\x0a\x0aAvailable\x20Tools:\x0a-\x20getQuestion:\x20to\x20retrieve\x20the\x20current\x20question\x27s\x20details.\x0a-\x20setAnswer:\x20to\x20set\x20the\x20answer\x20to\x20the\x20current\x20question\x20and\x20move\x20to\x20the\x20next\x20question.\x0a-\x20submitForm:\x20to\x20submit\x20the\x20form\x20when\x20all\x20answers\x20have\x20been\x20answered.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':'document-agent','name':_0x4a13a(0x515),'description':_0x4a13a(0x8bd),'modelId':_0x4a13a(0xaf5),'instructions':_0x4a13a(0x6e2),'grammar':'','temperature':0.7,'maxTokens':0x3e8}];class _0x419cfb{static [_0x4a13a(0x2c9)];constructor(){}static[_0x4a13a(0xb8d)](){const _0x534ab4=_0x4a13a;return _0x419cfb['instance']||(_0x419cfb[_0x534ab4(0x2c9)]=new _0x419cfb()),_0x419cfb[_0x534ab4(0x2c9)];}async[_0x4a13a(0x31f)](_0xc3075a,_0x515a89){const _0x1be9cd=_0x4a13a,_0x399cc4=await(0x0,_0x1264d4[_0x1be9cd(0x93b)])((0x0,_0x1264d4[_0x1be9cd(0x448)])(_0x4c4338[_0x1be9cd(0x73a)](),_0x1be9cd(0x48d)+_0xc3075a+_0x1be9cd(0x26b)+_0x515a89)),_0x496ba7=await this[_0x1be9cd(0x97b)](_0xc3075a),_0x3be72a=await this[_0x1be9cd(0x50e)](_0xc3075a),_0x19ef50=await this[_0x1be9cd(0x32e)](_0xc3075a);if(!_0x399cc4[_0x1be9cd(0x9bf)]())throw new _0x240123(_0x240123[_0x1be9cd(0x2f7)][_0x1be9cd(0x99c)]);return this[_0x1be9cd(0x260)](_0x399cc4,_0x496ba7,_0x3be72a,_0x19ef50);}async[_0x4a13a(0x32e)](_0x569e20){const _0x2e3503=_0x4a13a;return(await(0x0,_0x1264d4['getDocs'])((0x0,_0x1264d4[_0x2e3503(0x27b)])(_0x4c4338[_0x2e3503(0x73a)](),'/developers/'+_0x569e20+_0x2e3503(0x84d))))[_0x2e3503(0x76f)]['map'](_0x671a40=>{const _0x361438=_0x2e3503,_0x1f3f46=_0x671a40['data']();return{'type':_0xa515c['DataCollection'],'id':_0x671a40['id'],'name':_0x1f3f46[_0x361438(0xbbd)],'description':_0x1f3f46[_0x361438(0xa1b)],'storageType':_0x1f3f46[_0x361438(0xa46)]??_0x52458b['GenerativeAIRagType'][_0x361438(0x351)],'hosting':_0x1f3f46[_0x361438(0x20f)]??_0x1bb8b2[_0x361438(0x4af)],'modelId':_0x1f3f46[_0x361438(0xc0a)]??_0x361438(0x5fe),'ingestBlocks':_0x1f3f46[_0x361438(0x98f)],'retrieveBlocks':_0x1f3f46['retrieveBlocks']};});}async[_0x4a13a(0x4dd)](_0x9eceb5,_0x2243c3){const _0x5c4958=_0x4a13a,_0x175dfe=await(0x0,_0x1264d4[_0x5c4958(0x93b)])((0x0,_0x1264d4[_0x5c4958(0x448)])(_0x4c4338[_0x5c4958(0x73a)](),_0x5c4958(0x48d)+_0x9eceb5+_0x5c4958(0x775)+_0x2243c3)),_0x22706e=await this[_0x5c4958(0x97b)](_0x9eceb5),_0x4d7c69=_0x175dfe['data']();if(!_0x4d7c69)throw new _0x240123(_0x240123[_0x5c4958(0x2f7)][_0x5c4958(0xbac)]);return{'type':_0xa515c[_0x5c4958(0x5ea)],'id':_0x2243c3,'uid':_0x2243c3,'name':_0x4d7c69[_0x5c4958(0xbbd)],'description':_0x4d7c69[_0x5c4958(0xa1b)],'storageType':_0x4d7c69[_0x5c4958(0xa46)]??_0x52458b[_0x5c4958(0x436)]['Pinecone'],'hosting':_0x4d7c69[_0x5c4958(0x20f)]??_0x1bb8b2[_0x5c4958(0x4af)],'modelId':_0x4d7c69['modelId']??_0x5c4958(0x5fe),'ingestBlocks':this[_0x5c4958(0x446)](_0x4d7c69[_0x5c4958(0x98f)],_0x22706e),'retrieveBlocks':this[_0x5c4958(0x446)](_0x4d7c69[_0x5c4958(0x2d3)],_0x22706e),'links':[]};}[_0x4a13a(0x260)](_0x11ba6c,_0x4cafc7,_0x2aeb76,_0x2f051a){const _0x32247b=_0x4a13a,_0x2ac271=_0x11ba6c['data']();if(!_0x2ac271)throw new _0x240123(_0x240123['codes'][_0x32247b(0x99c)]);const _0x5ba55d=this[_0x32247b(0x967)](_0x2ac271[_0x32247b(0x5ef)],_0x4cafc7,_0x2aeb76,_0x2f051a);return{'id':_0x11ba6c['id'],'name':_0x2ac271[_0x32247b(0xbbd)],'description':_0x2ac271[_0x32247b(0xa1b)],'blocks':_0x5ba55d,'dataBucketIds':this[_0x32247b(0x93c)](_0x5ba55d),'externalStorageConnectionIds':this['getWorkflowExternalStorageConnections'](_0x5ba55d),'initialPrompt':_0x2ac271['initialPrompt']};}[_0x4a13a(0x93c)](_0x54ecf6){const _0x229951=_0x4a13a,_0x2f22e4=new Set();for(const _0x47c21d of _0x54ecf6)switch(_0x47c21d[_0x229951(0xbdd)]){case _0xa515c[_0x229951(0x570)]:case _0xa515c[_0x229951(0x5ea)]:for(const _0x38f7e2 of[..._0x47c21d[_0x229951(0x98f)],..._0x47c21d[_0x229951(0x2d3)]])_0x38f7e2['type']===_0x2f4e96[_0x229951(0x3cd)]&&_0x2f22e4[_0x229951(0xc09)](_0x38f7e2['id']);}return Array[_0x229951(0xad6)](_0x2f22e4);}[_0x4a13a(0x1ec)](_0x4d7876){const _0x49a9a9=_0x4a13a,_0x14da4d=new Set();for(const _0x51e2c3 of _0x4d7876)switch(_0x51e2c3['type']){case _0xa515c[_0x49a9a9(0x570)]:case _0xa515c[_0x49a9a9(0x5ea)]:for(const _0x19b002 of[..._0x51e2c3[_0x49a9a9(0x98f)],..._0x51e2c3[_0x49a9a9(0x2d3)]])_0x19b002[_0x49a9a9(0xbdd)]===_0x2f4e96[_0x49a9a9(0x245)]&&_0x14da4d[_0x49a9a9(0xc09)](_0x19b002['id']);}return Array[_0x49a9a9(0xad6)](_0x14da4d);}['parseWorkflowBlocks'](_0x2f457f,_0x24231f,_0x1c3b67,_0x533d3c){const _0x21475c=_0x4a13a;return _0x2f457f[_0x21475c(0x275)](_0x35aca7=>{const _0x437a8c=_0x21475c;switch(_0x35aca7[_0x437a8c(0xbdd)]){case _0xa515c['Agent']:case _0xa515c[_0x437a8c(0xbd5)]:case _0xa515c['Router']:const _0x177ecf=_0x24231f[_0x437a8c(0x319)](_0x196a7e=>_0x196a7e['id']===_0x35aca7['id']);if(!_0x177ecf)throw new _0x240123(_0x240123[_0x437a8c(0x2f7)]['WorkflowInvalidBlockType'],{'block':_0x35aca7});return{'type':_0xa515c['Agent'],'id':_0x177ecf['id'],'uid':_0x35aca7[_0x437a8c(0xb27)],'name':_0x177ecf[_0x437a8c(0xbbd)],'description':_0x177ecf[_0x437a8c(0xa1b)],'instructions':(_0x177ecf[_0x437a8c(0x820)]+'\x0a\x0a'+(_0x35aca7[_0x437a8c(0x7b0)]?.[_0x437a8c(0x41b)]??''))['trim'](),'contextOutputVariable':_0x35aca7[_0x437a8c(0x7b0)]?.[_0x437a8c(0xae5)],'contextInputVariable':_0x35aca7[_0x437a8c(0x7b0)]?.[_0x437a8c(0x227)],'reasoning':_0x35aca7['agent']?.[_0x437a8c(0x304)]??!0x1,'grammar':_0x35aca7[_0x437a8c(0x7b0)]?.['grammar']??'default','temperature':_0x35aca7[_0x437a8c(0x7b0)]?.[_0x437a8c(0x7fc)]??0.5,'maxTokens':_0x35aca7[_0x437a8c(0x7b0)]?.['maxTokens']??0x1f4,'modelId':_0x35aca7[_0x437a8c(0x7b0)]?.[_0x437a8c(0xc0a)]??_0x437a8c(0x7ef),'links':_0x35aca7[_0x437a8c(0xbbc)]};case _0xa515c[_0x437a8c(0x570)]:case _0xa515c[_0x437a8c(0x5ea)]:const _0x412076=_0x533d3c['find'](_0xd4ff9d=>_0xd4ff9d['id']===_0x35aca7['id']);if(!_0x412076)throw new _0x240123(_0x240123[_0x437a8c(0x2f7)][_0x437a8c(0x603)],{'block':_0x35aca7});return{'type':_0x35aca7[_0x437a8c(0xbdd)],'id':_0x412076['id'],'uid':_0x35aca7[_0x437a8c(0xb27)],'name':_0x412076['name'],'description':_0x412076['description'],'ingestBlocks':this[_0x437a8c(0x446)](_0x412076[_0x437a8c(0x98f)],_0x24231f),'retrieveBlocks':this[_0x437a8c(0x446)](_0x412076[_0x437a8c(0x2d3)],_0x24231f),'links':_0x35aca7[_0x437a8c(0xbbc)]};case _0xa515c[_0x437a8c(0x975)]:return{'type':_0x35aca7[_0x437a8c(0xbdd)],'id':_0x35aca7['id'],'uid':_0x35aca7[_0x437a8c(0xb27)],'name':_0x35aca7[_0x437a8c(0xa17)][_0x437a8c(0xbbd)],'description':_0x35aca7[_0x437a8c(0xa17)][_0x437a8c(0xa1b)],'parameters':_0x35aca7[_0x437a8c(0xa17)][_0x437a8c(0x6a8)],'endpointUrl':_0x35aca7[_0x437a8c(0xa17)][_0x437a8c(0x64d)],'endpointMethod':_0x35aca7[_0x437a8c(0xa17)][_0x437a8c(0xa20)],'headers':_0x35aca7[_0x437a8c(0xa17)][_0x437a8c(0x733)],'queryParameters':_0x35aca7[_0x437a8c(0xa17)][_0x437a8c(0xc40)],'bodyParameters':_0x35aca7['tool'][_0x437a8c(0x9df)],'contextOutputVariable':_0x35aca7[_0x437a8c(0xa17)][_0x437a8c(0xae5)],'links':_0x35aca7[_0x437a8c(0xbbc)]};case _0xa515c['FormSkill']:return{'type':_0x35aca7[_0x437a8c(0xbdd)],'id':_0x35aca7['id'],'uid':_0x35aca7[_0x437a8c(0xb27)],'name':_0x35aca7[_0x437a8c(0xa17)][_0x437a8c(0xbbd)],'description':_0x35aca7[_0x437a8c(0xa17)][_0x437a8c(0xa1b)],'questions':_0x35aca7[_0x437a8c(0xa17)][_0x437a8c(0x952)][_0x437a8c(0x275)](_0x426029=>({'id':_0x426029['id'],'question':_0x426029[_0x437a8c(0xbbd)],'validation':_0x426029[_0x437a8c(0x1db)],'required':_0x437a8c(0x354)===_0x426029[_0x437a8c(0x5a1)],'format':_0x426029[_0x437a8c(0xba2)]})),'contextOutputVariable':_0x35aca7[_0x437a8c(0xa17)][_0x437a8c(0xae5)],'links':_0x35aca7['links']};case _0xa515c[_0x437a8c(0xba6)]:return{'type':_0x35aca7[_0x437a8c(0xbdd)],'id':_0x35aca7['id'],'uid':_0x35aca7[_0x437a8c(0xb27)],'modelId':_0x35aca7['tool'][_0x437a8c(0xc0a)]??_0x437a8c(0x7cd),'links':_0x35aca7[_0x437a8c(0xbbc)]};case _0xa515c[_0x437a8c(0xb9e)]:const _0x3c4c44=_0x1c3b67[_0x437a8c(0x319)](_0x23afbd=>_0x23afbd['id']===_0x35aca7['id']);if(!_0x3c4c44)throw new _0x240123(_0x240123[_0x437a8c(0x2f7)][_0x437a8c(0x603)],{'block':_0x35aca7});return{'type':_0x35aca7[_0x437a8c(0xbdd)],'id':_0x35aca7['id'],'uid':_0x35aca7['uid'],'name':_0x3c4c44[_0x437a8c(0xbbd)],'description':_0x3c4c44['description'],'workflowId':_0x3c4c44['id'],'async':_0x35aca7[_0x437a8c(0xa17)]['async'],'contextOutputVariable':_0x35aca7[_0x437a8c(0xa17)][_0x437a8c(0xae5)],'contextInputVariable':_0x35aca7[_0x437a8c(0xa17)][_0x437a8c(0x227)],'links':_0x35aca7[_0x437a8c(0xbbc)]};case _0xa515c[_0x437a8c(0x661)]:case _0xa515c[_0x437a8c(0xa6f)]:case _0xa515c[_0x437a8c(0xa14)]:case _0xa515c[_0x437a8c(0x8f5)]:case _0xa515c['Code']:case _0xa515c[_0x437a8c(0x85b)]:case _0xa515c[_0x437a8c(0x4c7)]:case _0xa515c[_0x437a8c(0x4f9)]:case _0xa515c['QueryFile']:case _0xa515c['WriteFile']:case _0xa515c['SentenceSplitter']:case _0xa515c[_0x437a8c(0x22c)]:case _0xa515c[_0x437a8c(0x9e8)]:return{'type':_0x35aca7['type'],'id':_0x35aca7['id'],'uid':_0x35aca7[_0x437a8c(0xb27)],'links':_0x35aca7[_0x437a8c(0xbbc)]};case _0xa515c[_0x437a8c(0x878)]:case _0xa515c['WordSplitter']:return{'type':_0x35aca7[_0x437a8c(0xbdd)],'id':_0x35aca7['id'],'uid':_0x35aca7[_0x437a8c(0xb27)],'links':_0x35aca7[_0x437a8c(0xbbc)],'attributes':_0x35aca7[_0x437a8c(0x37d)]};default:throw new _0x240123(_0x240123[_0x437a8c(0x2f7)][_0x437a8c(0x603)],{'block':_0x35aca7});}});}[_0x4a13a(0x446)](_0x1a93ca,_0x2cd032){const _0x2aa5c0=_0x4a13a;return _0x1a93ca?_0x1a93ca[_0x2aa5c0(0x275)](_0x32ea59=>{const _0x18839a=_0x2aa5c0;switch(_0x32ea59[_0x18839a(0xbdd)]){case _0x2f4e96['Agent']:const _0x2dbf6f=_0x2cd032[_0x18839a(0x319)](_0x26ce4a=>_0x26ce4a['id']===_0x32ea59['id']);if(!_0x2dbf6f)throw new _0x240123(_0x240123['codes']['WorkflowInvalidBlockType'],{'block':_0x32ea59});return{'type':_0x32ea59[_0x18839a(0xbdd)],'id':_0x32ea59['id'],'uid':_0x32ea59['uid'],'description':_0x2dbf6f[_0x18839a(0xa1b)],'instructions':(_0x2dbf6f[_0x18839a(0x820)]+'\x0a\x0a'+(_0x32ea59[_0x18839a(0x7b0)]?.[_0x18839a(0x41b)]??''))[_0x18839a(0x31a)](),'contextOutputVariable':_0x32ea59[_0x18839a(0x7b0)]?.['contextOutputVariable'],'contextInputVariable':_0x32ea59[_0x18839a(0x7b0)]?.[_0x18839a(0x227)],'reasoning':_0x32ea59[_0x18839a(0x7b0)]?.[_0x18839a(0x304)]??!0x1,'grammar':_0x32ea59[_0x18839a(0x7b0)]?.[_0x18839a(0xc30)]??_0x18839a(0x692),'temperature':_0x32ea59[_0x18839a(0x7b0)]?.[_0x18839a(0x7fc)]??0.5,'maxTokens':_0x32ea59['agent']?.[_0x18839a(0x6df)]??0x1f4,'modelId':_0x32ea59['agent']?.['modelId']??'gpt-4o-mini','links':_0x32ea59[_0x18839a(0xbbc)]};case _0x2f4e96[_0x18839a(0x5dd)]:case _0x2f4e96[_0x18839a(0x844)]:case _0x2f4e96['WordSplitter']:case _0x2f4e96[_0x18839a(0x878)]:case _0x2f4e96[_0x18839a(0x298)]:case _0x2f4e96[_0x18839a(0x530)]:return{'type':_0x32ea59[_0x18839a(0xbdd)],'id':_0x32ea59['id'],'uid':_0x32ea59[_0x18839a(0xb27)],'links':_0x32ea59['links'],'attributes':_0x32ea59['attributes']};case _0x2f4e96[_0x18839a(0x7f3)]:case _0x2f4e96[_0x18839a(0x884)]:case _0x2f4e96[_0x18839a(0xba3)]:case _0x2f4e96['RelationExtractor']:case _0x2f4e96[_0x18839a(0x22c)]:case _0x2f4e96['SentenceSplitter']:case _0x2f4e96['ObjectStorageUpload']:case _0x2f4e96[_0x18839a(0x245)]:case _0x2f4e96[_0x18839a(0x8e6)]:case _0x2f4e96[_0x18839a(0x661)]:case _0x2f4e96[_0x18839a(0x3c3)]:case _0x2f4e96[_0x18839a(0x722)]:return{'type':_0x32ea59[_0x18839a(0xbdd)],'id':_0x32ea59['id'],'uid':_0x32ea59['uid'],'links':_0x32ea59[_0x18839a(0xbbc)]};default:throw new _0x240123(_0x240123['codes'][_0x18839a(0x603)],{'block':_0x32ea59});}}):[];}async[_0x4a13a(0x97b)](_0x580d6c){const _0x45f999=_0x4a13a,_0x4b0dca=(await(0x0,_0x1264d4['getDocs'])((0x0,_0x1264d4[_0x45f999(0x27b)])(_0x4c4338[_0x45f999(0x73a)](),_0x45f999(0x48d)+_0x580d6c+_0x45f999(0x5d9))))[_0x45f999(0x76f)][_0x45f999(0x275)](_0x2a153b=>{const _0x79cd0a=_0x45f999,_0x9af288=_0x2a153b['data']();return{'type':_0xa515c[_0x79cd0a(0x673)],'id':_0x2a153b['id'],'name':_0x9af288[_0x79cd0a(0xbbd)],'description':_0x9af288[_0x79cd0a(0xa1b)],'instructions':_0x9af288[_0x79cd0a(0x820)]};});return _0x4b0dca[_0x45f999(0x247)](..._0x5f5caf),_0x4b0dca[_0x45f999(0x247)](..._0x2316c0),_0x4b0dca;}async[_0x4a13a(0x50e)](_0x20f5f9){const _0x16a4ff=_0x4a13a;return(await(0x0,_0x1264d4[_0x16a4ff(0x231)])((0x0,_0x1264d4[_0x16a4ff(0x27b)])(_0x4c4338[_0x16a4ff(0x73a)](),'/developers/'+_0x20f5f9+_0x16a4ff(0x91c))))[_0x16a4ff(0x76f)][_0x16a4ff(0x275)](_0x4ca6c6=>{const _0xffbed3=_0x16a4ff,_0x26d289=_0x4ca6c6[_0xffbed3(0x728)]();return{'id':_0x4ca6c6['id'],'name':_0x26d289[_0xffbed3(0xbbd)],'description':_0x26d289[_0xffbed3(0xa1b)]};});}}const _0x11d0e6=_0x419cfb[_0x4a13a(0xb8d)]();class _0x5b18f8 extends _0x58b8bf{[_0x4a13a(0xc4d)];[_0x4a13a(0x649)];['prompts']=0x0;[_0x4a13a(0x38b)]=0x0;[_0x4a13a(0x46c)];constructor(_0x463d21,_0x2284c2,_0x37482e,_0x13a55a){const _0x200974=_0x4a13a;super(_0x463d21,_0x2284c2,_0x13a55a),this[_0x200974(0xc4d)]=_0x463d21,this[_0x200974(0x649)]=_0x37482e,this[_0x200974(0x6d7)]();}[_0x4a13a(0x888)](){const _0x35d8e0=_0x4a13a;this['debounceStats']&&(clearTimeout(this[_0x35d8e0(0x46c)]),delete this[_0x35d8e0(0x46c)]),super[_0x35d8e0(0x888)]();}['reset'](){const _0x2c9a9a=_0x4a13a;this[_0x2c9a9a(0x863)]=0x0,this[_0x2c9a9a(0x38b)]=0x0,this['sendStats'](),super['reset']();}['createAIJob'](_0x4c4e21){const _0x1ea744=_0x4a13a,_0x12b117=_0x1ea744(0x3f9)+(0x0,_0xafe7f0['v4'])();let _0x3e3111=!0x1;const _0x567ddf=()=>{const _0x228d82=_0x1ea744;if(_0x3e3111)throw new _0x240123(_0x240123[_0x228d82(0x2f7)][_0x228d82(0x7c7)]);_0x3e3111=!0x0;};switch(_0x4c4e21[_0x1ea744(0xbdd)]){case'collection-create':case _0x1ea744(0x363):case'collection-query':case _0x1ea744(0xb6e):case _0x1ea744(0x7d8):case _0x1ea744(0xa4a):case _0x1ea744(0xa4a):case _0x1ea744(0x7fa):case'rate':case _0x1ea744(0x9bc):case _0x1ea744(0x956):case _0x1ea744(0x6e6):case _0x1ea744(0x891):return{'id':_0x12b117,..._0x4c4e21,'run':()=>(_0x567ddf(),this[_0x1ea744(0xb30)](_0x12b117,_0x4c4e21))};case'inference':case _0x1ea744(0x3f8):const _0x8c1b32=()=>(_0x567ddf(),this[_0x1ea744(0xc20)](_0x12b117,_0x4c4e21)),_0x3fc199=()=>(_0x567ddf(),this[_0x1ea744(0x3c6)](_0x12b117,_0x4c4e21));return{'id':_0x12b117,'options':{'threadId':'thread-'+(0x0,_0xafe7f0['v4'])()},..._0x4c4e21,'run':_0x8c1b32,'stream':_0x3fc199};default:throw new Error('Invalid\x20job\x20type');}}async[_0x4a13a(0xb30)](_0x271c3a,_0x4930fc){const _0x35d06a=_0x4a13a;if(_0x35d06a(0xbb0)===_0x4930fc[_0x35d06a(0xbdd)]||_0x35d06a(0x3f8)===_0x4930fc[_0x35d06a(0xbdd)])throw new _0x298b29(_0x404249[_0x35d06a(0x581)],_0x35d06a(0x4f2));const _0x3d2520={'threadId':_0x35d06a(0x262)+(0x0,_0xafe7f0['v4'])(),..._0x4930fc},_0x57b9cf=await this['getJobObservable'](_0x271c3a,_0x52458b['JobType'][_0x35d06a(0x65a)],_0x3d2520);return new Promise((_0x252525,_0x53db88)=>{let _0x423f90;const _0x561129=_0x57b9cf['subscribe']({'next':_0x48206f=>{const _0x177470=a0_0x2cf3;switch(_0x48206f[_0x177470(0xc33)]){case _0x52458b[_0x177470(0xa07)]['Completed']:clearTimeout(_0x423f90),_0x252525(_0x48206f[_0x177470(0x892)]),_0x561129[_0x177470(0x3bf)]();break;case _0x52458b[_0x177470(0xa07)][_0x177470(0x239)]:clearTimeout(_0x423f90),_0x53db88(new _0x240123(_0x240123[_0x177470(0x2f7)][_0x177470(0x4e9)],{'updatedJob':_0x48206f})),_0x561129[_0x177470(0x3bf)]();}},'error':_0x4a2e54=>{const _0x171243=a0_0x2cf3;clearTimeout(_0x423f90),_0x53db88(new _0x240123(_0x240123[_0x171243(0x2f7)][_0x171243(0x4e9)],{'err':_0x4a2e54})),_0x561129[_0x171243(0x3bf)]();}});_0x423f90=setTimeout(()=>{const _0x4dbb5f=a0_0x2cf3;_0x53db88(new _0x240123(_0x240123['codes'][_0x4dbb5f(0x663)])),_0x561129['unsubscribe']();},_0xd5d26a);});}async['run'](_0xfca178,_0x574544){const _0x327d83=_0x4a13a,_0x9f344c=await this[_0x327d83(0x91b)](_0xfca178,_0x52458b[_0x327d83(0xb91)][_0x327d83(0x65a)],_0x574544);return new Promise((_0x13e042,_0x281066)=>{let _0x4efd88;const _0x10fb88=_0x9f344c['subscribe']({'next':_0x166d92=>{const _0x34a72f=a0_0x2cf3;switch(_0x166d92[_0x34a72f(0xc33)]){case _0x52458b[_0x34a72f(0xa07)]['Completed']:if(_0x34a72f(0x3f8)!==_0x166d92[_0x34a72f(0x892)][_0x34a72f(0xbdd)])return;const _0x595fd8=_0x166d92[_0x34a72f(0x892)][_0x34a72f(0x7ab)]??0x0;this[_0x34a72f(0xa93)](_0x574544[_0x34a72f(0x3f8)],_0x595fd8),clearTimeout(_0x4efd88),_0x13e042(_0x166d92[_0x34a72f(0x892)]),_0x10fb88[_0x34a72f(0x3bf)](),this[_0x34a72f(0x863)]+=0x1,this[_0x34a72f(0x38b)]+=_0x595fd8,this[_0x34a72f(0x6d7)]();break;case _0x52458b[_0x34a72f(0xa07)][_0x34a72f(0x239)]:clearTimeout(_0x4efd88),_0x281066(new _0x240123(_0x240123[_0x34a72f(0x2f7)][_0x34a72f(0x4e9)],{'updatedJob':_0x166d92})),_0x10fb88[_0x34a72f(0x3bf)](),this['sendStats']();}},'error':_0x4d0f11=>{const _0x28f8f1=a0_0x2cf3;clearTimeout(_0x4efd88),_0x281066(new _0x240123(_0x240123[_0x28f8f1(0x2f7)][_0x28f8f1(0x4e9)],{'err':_0x4d0f11})),_0x10fb88[_0x28f8f1(0x3bf)]();}});_0x4efd88=setTimeout(()=>{const _0x1342ef=a0_0x2cf3;_0x281066(new _0x240123(_0x240123['codes']['GenerativeAIContextJobTimeout'])),_0x10fb88[_0x1342ef(0x3bf)]();},_0xd5d26a);});}async*['stream'](_0x393471,_0xd793f5){const _0x1deed1=_0x4a13a,_0x4a1dd0=await this[_0x1deed1(0x91b)](_0x393471,_0x52458b[_0x1deed1(0xb91)][_0x1deed1(0xc36)],_0xd793f5);let _0x541918,_0x18d8f5,_0x3b11ff=!0x1,_0x36c8fd=0x0;const _0x2b0c38=[],_0x3bc9d4=new Map();let _0x3109d3=null;const _0x2d3507=()=>{_0x3109d3&&(_0x3109d3(),_0x3109d3=null);},_0x8de4de=_0xc8fe4c=>{_0x3b11ff=!0x0,_0x2d3507(),_0x52d112['unsubscribe'](),_0x18d8f5=_0xc8fe4c;},_0x52d112=_0x4a1dd0[_0x1deed1(0x7a8)]({'next':async _0x49def1=>{const _0x53904b=_0x1deed1;switch(_0x49def1[_0x53904b(0xc33)]){case _0x52458b[_0x53904b(0xa07)][_0x53904b(0x726)]:if(_0x53904b(0x3f8)!==_0x49def1[_0x53904b(0x892)]['type'])return;if(void 0x0!==_0x49def1[_0x53904b(0x892)][_0x53904b(0x7ac)]){if(void 0x0===_0x49def1[_0x53904b(0x892)][_0x53904b(0x315)])return void _0x8de4de(_0x240123[_0x53904b(0x2f7)][_0x53904b(0x30d)]);_0x36c8fd===_0x49def1[_0x53904b(0x892)][_0x53904b(0x315)]?(_0x2b0c38[_0x53904b(0x247)](_0x49def1['result']),_0x36c8fd++,((()=>{const _0x29b6c0=_0x53904b;for(;_0x3bc9d4[_0x29b6c0(0x738)](_0x36c8fd);)_0x2b0c38['push'](_0x3bc9d4[_0x29b6c0(0x68c)](_0x2b0c38[_0x29b6c0(0x454)])),_0x3bc9d4['delete'](_0x2b0c38[_0x29b6c0(0x454)]),_0x36c8fd++;})()),_0x2d3507(),_0x3626a7()):_0x3bc9d4[_0x53904b(0x2a7)](_0x49def1[_0x53904b(0x892)]['index'],_0x49def1[_0x53904b(0x892)]);}break;case _0x52458b['JobStatus'][_0x53904b(0x476)]:if(_0x53904b(0x3f8)!==_0x49def1[_0x53904b(0x892)][_0x53904b(0xbdd)])return;for(;_0x36c8fd!==_0x49def1['result'][_0x53904b(0x315)];)await _0x37fc55[_0x53904b(0xc22)](0x3e8);const _0x2474ac=_0x49def1[_0x53904b(0x892)][_0x53904b(0x7ab)]??0x0;this[_0x53904b(0xa93)](_0xd793f5[_0x53904b(0x3f8)],_0x2474ac),clearTimeout(_0x541918),_0x8de4de(),this[_0x53904b(0x863)]+=0x1,this[_0x53904b(0x38b)]+=_0x2474ac,this[_0x53904b(0x6d7)]();break;case _0x52458b[_0x53904b(0xa07)][_0x53904b(0x239)]:clearTimeout(_0x541918),_0x8de4de(_0x240123['codes'][_0x53904b(0x4e9)]),this['sendStats']();}},'error':_0x5d0a3d=>{const _0x497887=_0x1deed1;clearTimeout(_0x541918),_0x8de4de(_0x240123[_0x497887(0x2f7)]['GenerativeAIContextJobFailed']);}}),_0x290e4d=()=>{const _0x541c28=_0x1deed1;_0x8de4de(_0x240123['codes'][_0x541c28(0x663)]);},_0x3626a7=()=>{clearTimeout(_0x541918),_0x541918=setTimeout(_0x290e4d,_0xd5d26a);};for(_0x541918=setTimeout(_0x290e4d,_0xd5d26a);!_0x3b11ff||_0x2b0c38[_0x1deed1(0x454)]>0x0;)_0x2b0c38[_0x1deed1(0x454)]>0x0?yield _0x2b0c38[_0x1deed1(0xc23)]():await new Promise(_0x1b2e59=>_0x3109d3=_0x1b2e59);if(_0x18d8f5)throw _0x260a6c['error'](_0x1deed1(0xa64),{'nodeId':this['localNode'][_0x1deed1(0xa47)](),'nodeType':this[_0x1deed1(0xc4d)][_0x1deed1(0xbdd)]}),new _0x240123(_0x18d8f5);}async[_0x4a13a(0x574)](){const _0x32ba7e=_0x4a13a;return(await _0x11d0e6[_0x32ba7e(0x31f)](this[_0x32ba7e(0x649)],this[_0x32ba7e(0xaed)]))[_0x32ba7e(0x1e7)];}[_0x4a13a(0xa93)](_0xf313,_0x2e1b12){const _0x46d012=_0x4a13a,_0x33f5c5=this[_0x46d012(0xaed)],_0x46a5b7=this[_0x46d012(0x742)]();_0x260a6c['logServiceEvent'](_0x108d83['GenerativeAIContext'],{'topic':_0x33f5c5,'prompt':_0xf313,'type':'prompt','nodeId':_0x46a5b7,'tokenCount':_0x2e1b12});}async['getJobObservable'](_0x304fac,_0x49c16a,_0x3b4a77,_0x109055={}){const _0x3a75ce=_0x4a13a;let _0x29c2f9;switch(_0x3b4a77[_0x3a75ce(0xbdd)]){case _0x3a75ce(0x2bd):case'collection-delete':case _0x3a75ce(0x98a):case _0x3a75ce(0x891):case _0x3a75ce(0xb6e):case _0x3a75ce(0x7d8):case'file-ingest':case _0x3a75ce(0x7fa):case _0x3a75ce(0xbb0):case'prompt':case _0x3a75ce(0x41d):case _0x3a75ce(0x9bc):case _0x3a75ce(0x956):case _0x3a75ce(0x6e6):_0x29c2f9={'id':_0x304fac,'jobType':_0x49c16a,'parameters':{..._0x109055,..._0x3b4a77},'status':_0x52458b[_0x3a75ce(0xa07)]['Pending']};break;default:throw new Error(_0x3a75ce(0x4f2));}return await this[_0x3a75ce(0x4eb)](_0x29c2f9);}[_0x4a13a(0x6d7)](){const _0x31f3c4=_0x4a13a;this[_0x31f3c4(0x46c)]&&clearTimeout(this[_0x31f3c4(0x46c)]),this['debounceStats']=setTimeout(async()=>{const _0x12fafa=_0x31f3c4;delete this['debounceStats'],this[_0x12fafa(0x525)]['publish']({'sourceId':_0x2d73b4,'messageType':_0x29c5a4[_0x12fafa(0xbf2)],'content':{'type':_0x1c17a1[_0x12fafa(0x4d4)],'label':this[_0x12fafa(0xaed)],'stats':{'timestamp':Date['now'](),'storage':0x0,'messagesSent':this[_0x12fafa(0x333)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x12fafa(0x9f4)],'bytesReceived':this[_0x12fafa(0x325)],'writes':0x0,'reads':0x0,'prompts':this[_0x12fafa(0x863)],'tokens':this[_0x12fafa(0x38b)]}}});},_0x476143);}}var _0x3f60d3,_0x3d909e,_0x437662,_0x2012ea,_0x57cbbe,_0x216952,_0x335227,_0x2323bc,_0x21b1e8,_0x2f7837,_0x548e02;!function(_0x252f34){const _0x5eed51=_0x4a13a;_0x252f34['AITrace']=_0x5eed51(0x573),_0x252f34['IngestTrace']=_0x5eed51(0x948),_0x252f34[_0x5eed51(0x720)]=_0x5eed51(0x720),_0x252f34['WorkflowTrace']='WorkflowTrace';}(_0x3f60d3||(_0x3f60d3={})),function(_0x2eb2a3){const _0x1571c7=_0x4a13a;_0x2eb2a3[_0x1571c7(0x4e1)]='ModelText',_0x2eb2a3[_0x1571c7(0xaa8)]=_0x1571c7(0xaa8),_0x2eb2a3['VectorSearch']=_0x1571c7(0xb7c),_0x2eb2a3[_0x1571c7(0x298)]=_0x1571c7(0x298),_0x2eb2a3[_0x1571c7(0x2b9)]=_0x1571c7(0x2b9),_0x2eb2a3[_0x1571c7(0x530)]='Reranker';}(_0x3d909e||(_0x3d909e={})),function(_0x4f745f){const _0x219d85=_0x4a13a;_0x4f745f[_0x4f745f[_0x219d85(0x589)]=0x0]='Debug',_0x4f745f[_0x4f745f[_0x219d85(0x1e8)]=0x5]=_0x219d85(0x1e8),_0x4f745f[_0x4f745f['Warning']=0xa]=_0x219d85(0x699),_0x4f745f[_0x4f745f[_0x219d85(0x82d)]=0xf]=_0x219d85(0x82d);}(_0x437662||(_0x437662={})),function(_0xea02c0){const _0x5cda10=_0x4a13a;_0xea02c0[_0x5cda10(0x4fa)]=_0x5cda10(0x4fa),_0xea02c0[_0x5cda10(0x9ca)]='Ingest',_0xea02c0['Knowledge']=_0x5cda10(0x570),_0xea02c0[_0x5cda10(0x71a)]=_0x5cda10(0x71a),_0xea02c0[_0x5cda10(0x95b)]=_0x5cda10(0x95b),_0xea02c0[_0x5cda10(0x65a)]=_0x5cda10(0x65a),_0xea02c0[_0x5cda10(0x411)]='JobContext',_0xea02c0[_0x5cda10(0x845)]='Rating';}(_0x2012ea||(_0x2012ea={})),function(_0x230655){const _0x5ba40c=_0x4a13a;_0x230655['Queued']=_0x5ba40c(0x727),_0x230655[_0x5ba40c(0x476)]=_0x5ba40c(0x476);}(_0x57cbbe||(_0x57cbbe={})),function(_0x92266c){const _0x1bd385=_0x4a13a;_0x92266c[_0x1bd385(0x3e0)]='InitialPrompt',_0x92266c[_0x1bd385(0xa72)]=_0x1bd385(0xa72),_0x92266c['DataCollection']='DataCollection',_0x92266c[_0x1bd385(0xb4d)]=_0x1bd385(0xb4d);}(_0x216952||(_0x216952={})),function(_0x499ce6){const _0x32305b=_0x4a13a;_0x499ce6[_0x32305b(0x878)]=_0x32305b(0x878),_0x499ce6[_0x32305b(0x22c)]=_0x32305b(0x22c),_0x499ce6[_0x32305b(0x298)]=_0x32305b(0x298),_0x499ce6[_0x32305b(0x5dd)]='GraphDatabase',_0x499ce6[_0x32305b(0x673)]=_0x32305b(0x673),_0x499ce6[_0x32305b(0x4e1)]=_0x32305b(0x4e1),_0x499ce6[_0x32305b(0xaa8)]=_0x32305b(0xaa8),_0x499ce6['RelationExtractor']=_0x32305b(0x8da),_0x499ce6[_0x32305b(0x50b)]=_0x32305b(0x50b),_0x499ce6[_0x32305b(0x844)]=_0x32305b(0x844),_0x499ce6[_0x32305b(0x1f5)]='WordSplitter';}(_0x335227||(_0x335227={})),function(_0x65209b){const _0x3ebb13=_0x4a13a;_0x65209b[_0x3ebb13(0x215)]='GetContextQuery',_0x65209b[_0x3ebb13(0x5cd)]='GetContextResult';}(_0x2323bc||(_0x2323bc={})),function(_0x3e8b26){const _0x220102=_0x4a13a;_0x3e8b26['ExecuteCode']='ExecuteCode',_0x3e8b26[_0x220102(0xac0)]=_0x220102(0xac0),_0x3e8b26[_0x220102(0x483)]='SearchGoogle',_0x3e8b26[_0x220102(0x37e)]='SearchPerplexity',_0x3e8b26[_0x220102(0x7a2)]=_0x220102(0x7a2),_0x3e8b26['ExecuteCustomSkill']=_0x220102(0x53f),_0x3e8b26['QueryFile']=_0x220102(0x360),_0x3e8b26[_0x220102(0x9a4)]='WriteFile',_0x3e8b26[_0x220102(0x7d0)]='ExecuteWorkflow',_0x3e8b26[_0x220102(0x2ca)]=_0x220102(0x2ca),_0x3e8b26['FormSetAnswer']=_0x220102(0x80b),_0x3e8b26[_0x220102(0x9eb)]=_0x220102(0x9eb);}(_0x21b1e8||(_0x21b1e8={})),function(_0x30e19b){const _0x573cc9=_0x4a13a;_0x30e19b[_0x573cc9(0x65e)]=_0x573cc9(0x65e),_0x30e19b[_0x573cc9(0x1fc)]=_0x573cc9(0x1fc);}(_0x2f7837||(_0x2f7837={})),function(_0x3491bc){const _0xddb734=_0x4a13a;_0x3491bc[_0xddb734(0x4f1)]=_0xddb734(0x4f1);}(_0x548e02||(_0x548e02={}));class _0x5861a3{static [_0x4a13a(0x2c9)]=new _0x5861a3();[_0x4a13a(0x578)]=[];[_0x4a13a(0x81f)]=!0x1;constructor(){}static['getInstance'](){return _0x5861a3['instance'];}get[_0x4a13a(0x454)](){const _0xeefbd6=_0x4a13a;return this[_0xeefbd6(0x578)][_0xeefbd6(0x454)];}[_0x4a13a(0x2d7)](){return!this['isRunning'];}[_0x4a13a(0xb0f)](_0x2429a8){const _0x27f67d=_0x4a13a;_0x2429a8?this['jobQueue']=this[_0x27f67d(0x578)]['filter'](_0x7a5192=>_0x7a5192[_0x27f67d(0x3ec)]!==_0x2429a8):(this[_0x27f67d(0x578)]=[],this[_0x27f67d(0x81f)]=!0x1);}[_0x4a13a(0xc09)](_0x1efcc4,_0x41311c){const _0x5ea0c=_0x4a13a;this[_0x5ea0c(0x578)][_0x5ea0c(0x247)]({'callback':_0x41311c,'ownerId':_0x1efcc4}),this[_0x5ea0c(0x3da)]();}async['runJobQueue'](){const _0x335cd5=_0x4a13a;if(!this['isRunning']){for(this[_0x335cd5(0x81f)]=!0x0;this[_0x335cd5(0x578)][_0x335cd5(0x454)]>0x0;){const _0x168b81=this[_0x335cd5(0x578)][_0x335cd5(0xc23)]();if(_0x168b81)try{console[_0x335cd5(0x77e)](_0x335cd5(0x4b1)),await _0x168b81[_0x335cd5(0x981)](),console['warn'](_0x335cd5(0xbfa));}catch(_0x42e33a){console[_0x335cd5(0x33b)](_0x335cd5(0xc17),_0x42e33a);}}this[_0x335cd5(0x81f)]=!0x1;}}}const _0x421389=_0x5861a3[_0x4a13a(0xb8d)]();class _0x435ebe extends _0x6375ab{[_0x4a13a(0x654)];[_0x4a13a(0x4fc)];constructor(_0x748ccf,_0x1759c5,_0x5d2848){const _0x31c30e=_0x4a13a;super(_0x748ccf,_0x1759c5),this[_0x31c30e(0x654)]=_0x5d2848;}[_0x4a13a(0x743)](){const _0x5501c3=_0x4a13a;return _0x52458b[_0x5501c3(0x54c)][_0x5501c3(0x65a)];}[_0x4a13a(0x4f0)](){const _0x1c0851=_0x4a13a;this[_0x1c0851(0xa3b)]();}[_0x4a13a(0x935)](){const _0x2921d3=_0x4a13a;this[_0x2921d3(0x525)]?.[_0x2921d3(0xa19)]({'sourceId':_0x2d73b4,'messageType':_0x29c5a4[_0x2921d3(0xbf2)],'content':{'type':_0x1c17a1['CloseJobWorker'],'label':this[_0x2921d3(0xaed)]}});}[_0x4a13a(0x56f)](){this['unsubscribeListener']?.(),delete this['unsubscribeListener'],this['open']();}[_0x4a13a(0x888)](){const _0x24e825=_0x4a13a;_0x421389['clear'](this[_0x24e825(0xaed)]),this[_0x24e825(0x4fc)]?.(),delete this[_0x24e825(0x4fc)],super[_0x24e825(0x888)]();}['isAvailable'](){return _0x421389['isAvailable']();}[_0x4a13a(0x48b)](){return 0x1;}['compileStats'](_0x1582fb,_0x621812,_0x4c3a27){}[_0x4a13a(0x9ba)](_0x47605c,_0x1d24df){return _0x47605c;}async[_0x4a13a(0x345)](_0x48ac03,_0x378f76){const _0x29dccb=_0x4a13a;console['warn'](_0x29dccb(0x88e));}async[_0x4a13a(0x38d)](_0x4189bd,_0x3e8311){console['warn']('JobWorker:\x20Tracing\x20not\x20implemented');}[_0x4a13a(0xa3b)](){const _0x40aeac=_0x4a13a;this[_0x40aeac(0x4fc)]||(this[_0x40aeac(0x4fc)]=this[_0x40aeac(0x3b0)](async(_0x343390,_0x43a067)=>{const _0x1f8727=_0x40aeac;if(_0x260a6c[_0x1f8727(0x8b9)](_0x2e74f6[_0x1f8727(0x31d)],_0x1f8727(0x572),_0x43a067),!(_0x43a067 instanceof File)){if(this[_0x1f8727(0x40d)](_0x43a067))_0x260a6c[_0x1f8727(0x8b9)](_0x2e74f6[_0x1f8727(0x31d)],_0x1f8727(0x68a),_0x43a067),this[_0x1f8727(0x2d7)]()?this[_0x1f8727(0xa5b)](_0x43a067['id'],_0x43a067[_0x1f8727(0xa86)],_0x343390):this[_0x1f8727(0x30b)](_0x43a067['id'],_0x43a067[_0x1f8727(0xa86)],_0x343390);else{if(this[_0x1f8727(0xa34)](_0x43a067)){_0x260a6c[_0x1f8727(0x8b9)](_0x2e74f6['Jobs'],_0x1f8727(0x49e),_0x43a067);const {id:_0x2e3d85,parameters:_0x765b45}=_0x43a067;await this[_0x1f8727(0x345)](_0x2e3d85,_0x765b45),this[_0x1f8727(0x783)](_0x43a067['id'],_0x43a067,_0x343390);}}}}));}[_0x4a13a(0xa5b)](_0x216925,_0x589e34,_0x450f97){const _0x1c1497=_0x4a13a,_0x46aa7c={'id':_0x216925,'jobType':_0x589e34,'jobPhase':_0x449de3[_0x1c1497(0x38a)],'available':!0x0,'queueLength':_0x421389['length'],'bid':this[_0x1c1497(0x48b)]()};_0x260a6c[_0x1c1497(0x8b9)](_0x2e74f6[_0x1c1497(0x31d)],_0x1c1497(0x868),_0x46aa7c),this[_0x1c1497(0x381)](_0x46aa7c,[_0x450f97]);}['sendReject'](_0x17159d,_0x3c8769,_0xd34a63){const _0x2ebcd5=_0x4a13a,_0x4b640f={'id':_0x17159d,'jobType':_0x3c8769,'jobPhase':_0x449de3[_0x2ebcd5(0x38a)],'available':!0x1,'queueLength':_0x421389[_0x2ebcd5(0x454)],'bid':0x0};_0x260a6c['log'](_0x2e74f6[_0x2ebcd5(0x31d)],'JobWorker:\x20Sending\x20job\x20reject',_0x4b640f),this['send'](_0x4b640f,[_0xd34a63]);}async[_0x4a13a(0x783)](_0x3b6275,_0xb5c264,_0x143ec9){const _0x29e015=_0x4a13a;_0x260a6c['log'](_0x2e74f6[_0x29e015(0x31d)],_0x29e015(0x5c2),_0xb5c264);const _0x20f33e={'id':_0x3b6275,'jobType':_0xb5c264['jobType'],'parameters':_0xb5c264[_0x29e015(0x6a8)]};try{switch(_0xb5c264[_0x29e015(0xa86)]){case _0x52458b[_0x29e015(0xb91)][_0x29e015(0x65a)]:await this[_0x29e015(0x463)](_0x3b6275,_0xb5c264,_0x20f33e,_0x143ec9);break;case _0x52458b['JobType'][_0x29e015(0xc36)]:await this[_0x29e015(0x75f)](_0x3b6275,_0xb5c264,_0x20f33e,_0x143ec9);break;default:throw new Error('Unsupported\x20job\x20type');}}catch(_0xeab4dd){_0x260a6c[_0x29e015(0x33b)]('JobWorker:\x20Error\x20processing\x20job',{'nodeId':this[_0x29e015(0xb9b)][_0x29e015(0xa47)](),'nodeType':this[_0x29e015(0xb9b)]['type'],'data':{'job':_0x20f33e}},_0xeab4dd);const _0x2cf879=_0xeab4dd instanceof Error?_0xeab4dd['message']:'An\x20error\x20occurred',_0x165c99={'id':_0x3b6275,'jobType':_0xb5c264['jobType'],'jobPhase':_0x449de3[_0x29e015(0x239)],'message':_0x2cf879};await this[_0x29e015(0x381)](_0x165c99,[_0x143ec9]);}}async['processJob'](_0x429e6a,_0x5b2952,_0x1a613f,_0x19fa2d){const _0x57601c=_0x4a13a,_0x55364f=Date[_0x57601c(0xad3)](),_0x30f774=await this[_0x57601c(0x81d)](_0x429e6a,_0x1a613f[_0x57601c(0x6a8)]);this['compileStats'](_0x30f774,_0x55364f,Date[_0x57601c(0xad3)]());const _0x281e28={'id':_0x429e6a,'jobType':_0x5b2952[_0x57601c(0xa86)],'jobPhase':_0x449de3[_0x57601c(0x5cc)],'result':_0x30f774};_0x260a6c[_0x57601c(0x8b9)](_0x2e74f6[_0x57601c(0x31d)],'JobWorker:\x20Sending\x20job\x20result',_0x281e28),await this[_0x57601c(0x381)](_0x281e28,[_0x19fa2d]),await this[_0x57601c(0x38d)](_0x429e6a,_0x1a613f['parameters']);}async[_0x4a13a(0x75f)](_0x400d8b,_0x322ff9,_0x42b255,_0x367871){const _0x318deb=_0x4a13a,_0x1c79d5=Date[_0x318deb(0xad3)]();let _0x4c1e49=0x0,_0x416e16={};for await(const _0x9fd2dd of this[_0x318deb(0x991)](_0x42b255['id'],_0x42b255[_0x318deb(0x6a8)])){const _0x59848d={'id':_0x400d8b,'jobType':_0x322ff9[_0x318deb(0xa86)],'jobPhase':_0x449de3[_0x318deb(0x3a7)],'result':{..._0x9fd2dd,'index':_0x4c1e49}};_0x260a6c[_0x318deb(0x8b9)](_0x2e74f6[_0x318deb(0x31d)],'JobWorker:\x20Sending\x20job\x20partial\x20result',_0x59848d),this['send'](_0x59848d,[_0x367871]),_0x416e16=this['accumulateResult'](_0x416e16,_0x9fd2dd),_0x4c1e49++;}this['compileStats'](_0x416e16,_0x1c79d5,Date[_0x318deb(0xad3)]());const _0x83242a={'id':_0x400d8b,'jobType':_0x322ff9[_0x318deb(0xa86)],'jobPhase':_0x449de3[_0x318deb(0x5cc)],'result':{..._0x416e16,'index':_0x4c1e49}};_0x260a6c[_0x318deb(0x8b9)](_0x2e74f6[_0x318deb(0x31d)],'JobWorker:\x20Sending\x20job\x20result',_0x83242a),await this[_0x318deb(0x381)](_0x83242a,[_0x367871]),await this[_0x318deb(0x38d)](_0x400d8b,_0x42b255[_0x318deb(0x6a8)]);}[_0x4a13a(0x40d)](_0x19401a){const _0x4fb10b=_0x4a13a;return _0x19401a[_0x4fb10b(0xada)]===_0x449de3[_0x4fb10b(0x1eb)];}[_0x4a13a(0xa34)](_0x1e95e3){const _0x1ada72=_0x4a13a;return _0x1e95e3[_0x1ada72(0xada)]===_0x449de3[_0x1ada72(0x4c0)];}}const _0x5a18eb=new Map([[_0x4a13a(0xb37),{'id':'gpt-4o','inputTokenPrice':3.06,'outputTokenPrice':12.25,'fallbackModel':_0x4a13a(0x7ef)}],['gpt-4o-mini',{'id':_0x4a13a(0x7ef),'inputTokenPrice':0.18,'outputTokenPrice':0.74,'fallbackModel':_0x4a13a(0x7ef)}],['gpt-4.1',{'id':_0x4a13a(0x8c5),'inputTokenPrice':2.45,'outputTokenPrice':9.8,'fallbackModel':'gpt-4.1-nano'}],[_0x4a13a(0xa90),{'id':_0x4a13a(0xa90),'inputTokenPrice':0.49,'outputTokenPrice':1.96,'fallbackModel':_0x4a13a(0xa90)}],['gpt-4.1-nano',{'id':_0x4a13a(0xaf5),'inputTokenPrice':0.12,'outputTokenPrice':0.49,'fallbackModel':_0x4a13a(0xaf5)}],['o1',{'id':'o1','inputTokenPrice':18.38,'outputTokenPrice':73.5,'fallbackModel':'gpt-4.1-nano'}],['o3',{'id':'o3','inputTokenPrice':12.25,'outputTokenPrice':0x31,'fallbackModel':_0x4a13a(0xaf5)}],['o3-mini',{'id':_0x4a13a(0x6ee),'inputTokenPrice':1.35,'outputTokenPrice':5.39,'fallbackModel':_0x4a13a(0xaf5)}],[_0x4a13a(0x567),{'id':'o4-mini','inputTokenPrice':1.35,'outputTokenPrice':5.39,'fallbackModel':'gpt-4.1-nano'}],['gpt-image-1',{'id':_0x4a13a(0x1dd),'inputTokenPrice':12.25,'outputTokenPrice':0x31,'fallbackModel':_0x4a13a(0xaf5)}],['gpt-4o-transcribe',{'id':_0x4a13a(0xb05),'inputTokenPrice':7.35,'outputTokenPrice':12.25,'fallbackModel':_0x4a13a(0xaf5)}],[_0x4a13a(0xc03),{'id':'gpt-4o-mini-transcribe','inputTokenPrice':3.68,'outputTokenPrice':6.13,'fallbackModel':'gpt-4.1-nano'}],[_0x4a13a(0xa91),{'id':'claude-opus-4-0','inputTokenPrice':18.38,'outputTokenPrice':91.88,'fallbackModel':_0x4a13a(0xc4e)}],[_0x4a13a(0xa35),{'id':_0x4a13a(0xa35),'inputTokenPrice':3.68,'outputTokenPrice':18.38,'fallbackModel':_0x4a13a(0xc4e)}],[_0x4a13a(0xb36),{'id':'claude-3-7-sonnet-latest','inputTokenPrice':3.68,'outputTokenPrice':18.38,'fallbackModel':_0x4a13a(0xc4e)}],[_0x4a13a(0x962),{'id':'claude-3-5-haiku-latest','inputTokenPrice':0.98,'outputTokenPrice':4.9,'fallbackModel':_0x4a13a(0x962)}],[_0x4a13a(0xa2d),{'id':'claude-3-5-sonnet-latest','inputTokenPrice':3.68,'outputTokenPrice':18.38,'fallbackModel':_0x4a13a(0xc4e)}],[_0x4a13a(0xc4e),{'id':_0x4a13a(0xc4e),'inputTokenPrice':0.31,'outputTokenPrice':1.53,'fallbackModel':_0x4a13a(0xc4e)}],['claude-3-opus-latest',{'id':_0x4a13a(0x5ec),'inputTokenPrice':18.38,'outputTokenPrice':91.88,'fallbackModel':'claude-3-haiku-20240307'}],['google/gemini-2.5-pro',{'id':_0x4a13a(0x495),'inputTokenPrice':1.53,'outputTokenPrice':12.25,'fallbackModel':_0x4a13a(0x8f0)}],[_0x4a13a(0x8f0),{'id':_0x4a13a(0x8f0),'inputTokenPrice':0.37,'outputTokenPrice':3.06,'fallbackModel':_0x4a13a(0x8f0)}],[_0x4a13a(0xbeb),{'id':_0x4a13a(0xbeb),'inputTokenPrice':0.12,'outputTokenPrice':0.49,'fallbackModel':_0x4a13a(0xbeb)}],[_0x4a13a(0x5c3),{'id':_0x4a13a(0x5c3),'inputTokenPrice':0.09,'outputTokenPrice':0.37,'fallbackModel':'google/gemini-2.0-flash-lite-001'}],[_0x4a13a(0x3f0),{'id':'meta-llama/llama-4-maverick','inputTokenPrice':0.18,'outputTokenPrice':0.74,'fallbackModel':'meta-llama/llama-4-maverick'}],[_0x4a13a(0x1e0),{'id':'meta-llama/llama-4-scout','inputTokenPrice':0.1,'outputTokenPrice':0.37,'fallbackModel':_0x4a13a(0x1e0)}],[_0x4a13a(0x2dd),{'id':_0x4a13a(0x2dd),'inputTokenPrice':3.68,'outputTokenPrice':18.38,'fallbackModel':_0x4a13a(0x77b)}],['x-ai/grok-3',{'id':_0x4a13a(0xa0e),'inputTokenPrice':3.68,'outputTokenPrice':18.38,'fallbackModel':_0x4a13a(0x77b)}],['x-ai/grok-3-mini',{'id':_0x4a13a(0x77b),'inputTokenPrice':0.37,'outputTokenPrice':0.61,'fallbackModel':_0x4a13a(0x77b)}],[_0x4a13a(0x8df),{'id':_0x4a13a(0x8df),'inputTokenPrice':3.68,'outputTokenPrice':18.38,'fallbackModel':_0x4a13a(0xa80)}],[_0x4a13a(0xa80),{'id':_0x4a13a(0xa80),'inputTokenPrice':0.37,'outputTokenPrice':0.61,'fallbackModel':_0x4a13a(0xa80)}],[_0x4a13a(0x559),{'id':_0x4a13a(0x559),'inputTokenPrice':0x0,'outputTokenPrice':0x4c9,'fallbackModel':'gen4_turbo'}],['eleven_multilingual_v2',{'id':_0x4a13a(0x55a),'inputTokenPrice':0x0,'outputTokenPrice':367.5,'fallbackModel':_0x4a13a(0x55a)}],['eleven_turbo_v2_5',{'id':_0x4a13a(0x920),'inputTokenPrice':0x0,'outputTokenPrice':183.75,'fallbackModel':_0x4a13a(0x920)}],[_0x4a13a(0x69d),{'id':_0x4a13a(0x69d),'inputTokenPrice':0x0,'outputTokenPrice':183.75,'fallbackModel':_0x4a13a(0x69d)}],[_0x4a13a(0x7cd),{'id':_0x4a13a(0x7cd),'inputTokenPrice':1.3,'outputTokenPrice':1.3,'fallbackModel':_0x4a13a(0x7cd)}],[_0x4a13a(0xa4f),{'id':_0x4a13a(0xa4f),'inputTokenPrice':3.9,'outputTokenPrice':19.5,'fallbackModel':'sonar'}],[_0x4a13a(0x2c5),{'id':_0x4a13a(0x2c5),'inputTokenPrice':1.3,'outputTokenPrice':6.5,'fallbackModel':_0x4a13a(0x7cd)}],[_0x4a13a(0x7d6),{'id':_0x4a13a(0x7d6),'inputTokenPrice':2.6,'outputTokenPrice':10.4,'fallbackModel':_0x4a13a(0x7cd)}],[_0x4a13a(0x82e),{'id':'sonar-deep-research','inputTokenPrice':2.6,'outputTokenPrice':10.4,'fallbackModel':'sonar'}]]),_0x1d5ba7=new Map([['all-minilm-l12-v2',{'id':_0x4a13a(0x255),'engineType':_0x52458b[_0x4a13a(0x402)][_0x4a13a(0x41f)],'taskType':_0x52458b[_0x4a13a(0xb89)][_0x4a13a(0x4dc)],'inputType':_0x52458b[_0x4a13a(0x26f)][_0x4a13a(0x209)],'outputType':_0x52458b[_0x4a13a(0x747)][_0x4a13a(0x520)],'sourceUrl':'https://huggingface.co/leliuga/all-MiniLM-L12-v2-GGUF/resolve/main/all-MiniLM-L12-v2.F16.gguf'}],[_0x4a13a(0x5fe),{'id':_0x4a13a(0x5fe),'engineType':_0x52458b[_0x4a13a(0x402)][_0x4a13a(0x409)],'taskType':_0x52458b[_0x4a13a(0xb89)]['Embeddings'],'inputType':_0x52458b[_0x4a13a(0x26f)][_0x4a13a(0x209)],'outputType':_0x52458b[_0x4a13a(0x747)][_0x4a13a(0x520)],'sourceUrl':''}],[_0x4a13a(0x67f),{'id':_0x4a13a(0x67f),'engineType':_0x52458b['GenerativeAIEngineType'][_0x4a13a(0x409)],'taskType':_0x52458b[_0x4a13a(0xb89)]['Embeddings'],'inputType':_0x52458b[_0x4a13a(0x26f)][_0x4a13a(0x209)],'outputType':_0x52458b['GenerativeAIModelOutputType'][_0x4a13a(0x520)],'sourceUrl':''}],[_0x4a13a(0xb93),{'id':_0x4a13a(0xb93),'engineType':_0x52458b[_0x4a13a(0x402)][_0x4a13a(0x41f)],'taskType':_0x52458b[_0x4a13a(0xb89)][_0x4a13a(0x23d)],'inputType':_0x52458b[_0x4a13a(0x26f)][_0x4a13a(0x209)],'outputType':_0x52458b[_0x4a13a(0x747)][_0x4a13a(0x209)],'sourceUrl':_0x4a13a(0x4d8)}],[_0x4a13a(0x8fc),{'id':_0x4a13a(0x8fc),'engineType':_0x52458b[_0x4a13a(0x402)][_0x4a13a(0x41f)],'taskType':_0x52458b[_0x4a13a(0xb89)][_0x4a13a(0x23d)],'inputType':_0x52458b['GenerativeAIModelInputType']['Text'],'outputType':_0x52458b['GenerativeAIModelOutputType'][_0x4a13a(0x209)],'sourceUrl':_0x4a13a(0xc3b)}],['phi-4-14b',{'id':_0x4a13a(0xb79),'engineType':_0x52458b[_0x4a13a(0x402)]['Llamacpp'],'taskType':_0x52458b[_0x4a13a(0xb89)][_0x4a13a(0x23d)],'inputType':_0x52458b[_0x4a13a(0x26f)][_0x4a13a(0x209)],'outputType':_0x52458b['GenerativeAIModelOutputType'][_0x4a13a(0x209)],'sourceUrl':_0x4a13a(0x1fe)}],[_0x4a13a(0xb37),{'id':_0x4a13a(0xb37),'engineType':_0x52458b[_0x4a13a(0x402)]['OpenAI'],'taskType':_0x52458b[_0x4a13a(0xb89)][_0x4a13a(0x23d)],'inputType':_0x52458b[_0x4a13a(0x26f)][_0x4a13a(0x209)],'outputType':_0x52458b[_0x4a13a(0x747)][_0x4a13a(0x209)],'knowledgeCutoffDate':_0x4a13a(0x584),'sourceUrl':''}],['gpt-4o-mini',{'id':_0x4a13a(0x7ef),'engineType':_0x52458b['GenerativeAIEngineType']['OpenAI'],'taskType':_0x52458b[_0x4a13a(0xb89)][_0x4a13a(0x23d)],'inputType':_0x52458b[_0x4a13a(0x26f)][_0x4a13a(0x209)],'outputType':_0x52458b['GenerativeAIModelOutputType'][_0x4a13a(0x209)],'knowledgeCutoffDate':_0x4a13a(0x584),'sourceUrl':''}],[_0x4a13a(0x8c5),{'id':_0x4a13a(0x8c5),'engineType':_0x52458b[_0x4a13a(0x402)][_0x4a13a(0x409)],'taskType':_0x52458b[_0x4a13a(0xb89)][_0x4a13a(0x23d)],'inputType':_0x52458b[_0x4a13a(0x26f)][_0x4a13a(0x209)],'outputType':_0x52458b['GenerativeAIModelOutputType'][_0x4a13a(0x209)],'knowledgeCutoffDate':_0x4a13a(0xc4a),'sourceUrl':''}],[_0x4a13a(0xa90),{'id':_0x4a13a(0xa90),'engineType':_0x52458b[_0x4a13a(0x402)]['OpenAI'],'taskType':_0x52458b['GenerativeAITaskType'][_0x4a13a(0x23d)],'inputType':_0x52458b[_0x4a13a(0x26f)][_0x4a13a(0x209)],'outputType':_0x52458b['GenerativeAIModelOutputType'][_0x4a13a(0x209)],'knowledgeCutoffDate':_0x4a13a(0xc4a),'sourceUrl':''}],[_0x4a13a(0xaf5),{'id':_0x4a13a(0xaf5),'engineType':_0x52458b[_0x4a13a(0x402)][_0x4a13a(0x409)],'taskType':_0x52458b[_0x4a13a(0xb89)][_0x4a13a(0x23d)],'inputType':_0x52458b[_0x4a13a(0x26f)][_0x4a13a(0x209)],'outputType':_0x52458b[_0x4a13a(0x747)]['Text'],'knowledgeCutoffDate':_0x4a13a(0xc4a),'sourceUrl':''}],['o1',{'id':'o1','engineType':_0x52458b[_0x4a13a(0x402)][_0x4a13a(0x409)],'taskType':_0x52458b['GenerativeAITaskType']['TextGeneration'],'inputType':_0x52458b['GenerativeAIModelInputType'][_0x4a13a(0x209)],'outputType':_0x52458b[_0x4a13a(0x747)]['Text'],'knowledgeCutoffDate':_0x4a13a(0x584),'sourceUrl':''}],['o3',{'id':'o3','engineType':_0x52458b[_0x4a13a(0x402)][_0x4a13a(0x409)],'taskType':_0x52458b['GenerativeAITaskType'][_0x4a13a(0x23d)],'inputType':_0x52458b[_0x4a13a(0x26f)]['Text'],'outputType':_0x52458b[_0x4a13a(0x747)][_0x4a13a(0x209)],'knowledgeCutoffDate':_0x4a13a(0xc4a),'sourceUrl':''}],[_0x4a13a(0x6ee),{'id':_0x4a13a(0x6ee),'engineType':_0x52458b['GenerativeAIEngineType'][_0x4a13a(0x409)],'taskType':_0x52458b[_0x4a13a(0xb89)][_0x4a13a(0x23d)],'inputType':_0x52458b[_0x4a13a(0x26f)][_0x4a13a(0x209)],'outputType':_0x52458b[_0x4a13a(0x747)]['Text'],'knowledgeCutoffDate':_0x4a13a(0x584),'sourceUrl':''}],['o4-mini',{'id':_0x4a13a(0x567),'engineType':_0x52458b[_0x4a13a(0x402)][_0x4a13a(0x409)],'taskType':_0x52458b[_0x4a13a(0xb89)][_0x4a13a(0x23d)],'inputType':_0x52458b[_0x4a13a(0x26f)][_0x4a13a(0x209)],'outputType':_0x52458b[_0x4a13a(0x747)][_0x4a13a(0x209)],'knowledgeCutoffDate':_0x4a13a(0xc4a),'sourceUrl':''}],[_0x4a13a(0xb10),{'id':_0x4a13a(0xb10),'engineType':_0x52458b[_0x4a13a(0x402)]['OpenAI'],'taskType':_0x52458b[_0x4a13a(0xb89)][_0x4a13a(0x422)],'inputType':_0x52458b['GenerativeAIModelInputType'][_0x4a13a(0x6ef)],'outputType':_0x52458b['GenerativeAIModelOutputType']['Audio'],'knowledgeCutoffDate':_0x4a13a(0x613),'sourceUrl':''}],[_0x4a13a(0xaa0),{'id':_0x4a13a(0xaa0),'engineType':_0x52458b[_0x4a13a(0x402)][_0x4a13a(0x409)],'taskType':_0x52458b[_0x4a13a(0xb89)][_0x4a13a(0x422)],'inputType':_0x52458b[_0x4a13a(0x26f)][_0x4a13a(0x6ef)],'outputType':_0x52458b[_0x4a13a(0x747)][_0x4a13a(0x6ef)],'knowledgeCutoffDate':_0x4a13a(0x613),'sourceUrl':''}],[_0x4a13a(0xb05),{'id':_0x4a13a(0xb05),'engineType':_0x52458b[_0x4a13a(0x402)][_0x4a13a(0x409)],'taskType':_0x52458b[_0x4a13a(0xb89)][_0x4a13a(0x5ed)],'inputType':_0x52458b[_0x4a13a(0x26f)][_0x4a13a(0x6ef)],'outputType':_0x52458b[_0x4a13a(0x747)][_0x4a13a(0x209)],'knowledgeCutoffDate':'','sourceUrl':''}],[_0x4a13a(0xc03),{'id':_0x4a13a(0xc03),'engineType':_0x52458b[_0x4a13a(0x402)][_0x4a13a(0x409)],'taskType':_0x52458b[_0x4a13a(0xb89)][_0x4a13a(0x5ed)],'inputType':_0x52458b[_0x4a13a(0x26f)]['Audio'],'outputType':_0x52458b[_0x4a13a(0x747)]['Text'],'knowledgeCutoffDate':'','sourceUrl':''}],[_0x4a13a(0x43f),{'id':_0x4a13a(0x43f),'engineType':_0x52458b[_0x4a13a(0x402)][_0x4a13a(0x409)],'taskType':_0x52458b[_0x4a13a(0xb89)][_0x4a13a(0x5ed)],'inputType':_0x52458b[_0x4a13a(0x26f)][_0x4a13a(0x6ef)],'outputType':_0x52458b['GenerativeAIModelOutputType'][_0x4a13a(0x209)],'knowledgeCutoffDate':'','sourceUrl':''}],[_0x4a13a(0xba4),{'id':_0x4a13a(0xba4),'engineType':_0x52458b['GenerativeAIEngineType']['OpenAI'],'taskType':_0x52458b['GenerativeAITaskType'][_0x4a13a(0xae1)],'inputType':_0x52458b['GenerativeAIModelInputType'][_0x4a13a(0x209)],'outputType':_0x52458b[_0x4a13a(0x747)]['Audio'],'knowledgeCutoffDate':'','sourceUrl':''}],[_0x4a13a(0xb3f),{'id':_0x4a13a(0xb3f),'engineType':_0x52458b['GenerativeAIEngineType']['OpenAI'],'taskType':_0x52458b['GenerativeAITaskType']['TextToSpeech'],'inputType':_0x52458b['GenerativeAIModelInputType'][_0x4a13a(0x209)],'outputType':_0x52458b[_0x4a13a(0x747)][_0x4a13a(0x6ef)],'knowledgeCutoffDate':'','sourceUrl':''}],[_0x4a13a(0x610),{'id':_0x4a13a(0x610),'engineType':_0x52458b[_0x4a13a(0x402)][_0x4a13a(0x409)],'taskType':_0x52458b[_0x4a13a(0xb89)][_0x4a13a(0xae1)],'inputType':_0x52458b[_0x4a13a(0x26f)][_0x4a13a(0x209)],'outputType':_0x52458b['GenerativeAIModelOutputType'][_0x4a13a(0x6ef)],'knowledgeCutoffDate':'','sourceUrl':''}],[_0x4a13a(0x1dd),{'id':_0x4a13a(0x1dd),'engineType':_0x52458b['GenerativeAIEngineType'][_0x4a13a(0x409)],'taskType':_0x52458b[_0x4a13a(0xb89)][_0x4a13a(0x4aa)],'inputType':_0x52458b[_0x4a13a(0x26f)][_0x4a13a(0xb9c)],'outputType':_0x52458b[_0x4a13a(0x747)]['Image'],'knowledgeCutoffDate':'','sourceUrl':''}],[_0x4a13a(0x55a),{'id':_0x4a13a(0x55a),'engineType':_0x52458b[_0x4a13a(0x402)]['ElevenLabs'],'taskType':_0x52458b['GenerativeAITaskType'][_0x4a13a(0xae1)],'inputType':_0x52458b[_0x4a13a(0x26f)][_0x4a13a(0x209)],'outputType':_0x52458b[_0x4a13a(0x747)][_0x4a13a(0x6ef)],'knowledgeCutoffDate':'','sourceUrl':''}],[_0x4a13a(0x920),{'id':'eleven_turbo_v2_5','engineType':_0x52458b[_0x4a13a(0x402)]['ElevenLabs'],'taskType':_0x52458b[_0x4a13a(0xb89)][_0x4a13a(0xae1)],'inputType':_0x52458b[_0x4a13a(0x26f)][_0x4a13a(0x209)],'outputType':_0x52458b['GenerativeAIModelOutputType'][_0x4a13a(0x6ef)],'knowledgeCutoffDate':'','sourceUrl':''}],[_0x4a13a(0x69d),{'id':_0x4a13a(0x69d),'engineType':_0x52458b['GenerativeAIEngineType'][_0x4a13a(0x69b)],'taskType':_0x52458b['GenerativeAITaskType']['TextToSpeech'],'inputType':_0x52458b[_0x4a13a(0x26f)][_0x4a13a(0x209)],'outputType':_0x52458b[_0x4a13a(0x747)][_0x4a13a(0x6ef)],'knowledgeCutoffDate':'','sourceUrl':''}],[_0x4a13a(0x559),{'id':'gen4_turbo','engineType':_0x52458b[_0x4a13a(0x402)][_0x4a13a(0xb14)],'taskType':_0x52458b[_0x4a13a(0xb89)]['VideoGeneration'],'inputType':_0x52458b['GenerativeAIModelInputType']['Image'],'outputType':_0x52458b['GenerativeAIModelOutputType']['Video'],'knowledgeCutoffDate':'','sourceUrl':''}],[_0x4a13a(0xa91),{'id':_0x4a13a(0xa91),'engineType':_0x52458b['GenerativeAIEngineType'][_0x4a13a(0x424)],'taskType':_0x52458b['GenerativeAITaskType'][_0x4a13a(0x23d)],'inputType':_0x52458b[_0x4a13a(0x26f)][_0x4a13a(0x209)],'outputType':_0x52458b[_0x4a13a(0x747)]['Text'],'knowledgeCutoffDate':_0x4a13a(0x7e6),'sourceUrl':''}],['claude-sonnet-4-0',{'id':'claude-sonnet-4-0','engineType':_0x52458b[_0x4a13a(0x402)][_0x4a13a(0x424)],'taskType':_0x52458b['GenerativeAITaskType'][_0x4a13a(0x23d)],'inputType':_0x52458b[_0x4a13a(0x26f)][_0x4a13a(0x209)],'outputType':_0x52458b[_0x4a13a(0x747)][_0x4a13a(0x209)],'knowledgeCutoffDate':_0x4a13a(0x7e6),'sourceUrl':''}],['claude-3-7-sonnet-latest',{'id':'claude-3-7-sonnet-latest','engineType':_0x52458b[_0x4a13a(0x402)][_0x4a13a(0x424)],'taskType':_0x52458b[_0x4a13a(0xb89)][_0x4a13a(0x23d)],'inputType':_0x52458b['GenerativeAIModelInputType']['Text'],'outputType':_0x52458b[_0x4a13a(0x747)][_0x4a13a(0x209)],'knowledgeCutoffDate':_0x4a13a(0x7e0),'sourceUrl':''}],[_0x4a13a(0x962),{'id':_0x4a13a(0x962),'engineType':_0x52458b[_0x4a13a(0x402)][_0x4a13a(0x424)],'taskType':_0x52458b[_0x4a13a(0xb89)][_0x4a13a(0x23d)],'inputType':_0x52458b[_0x4a13a(0x26f)][_0x4a13a(0x209)],'outputType':_0x52458b[_0x4a13a(0x747)][_0x4a13a(0x209)],'knowledgeCutoffDate':_0x4a13a(0x8a1),'sourceUrl':''}],[_0x4a13a(0xa2d),{'id':_0x4a13a(0xa2d),'engineType':_0x52458b[_0x4a13a(0x402)][_0x4a13a(0x424)],'taskType':_0x52458b['GenerativeAITaskType'][_0x4a13a(0x23d)],'inputType':_0x52458b[_0x4a13a(0x26f)][_0x4a13a(0x209)],'outputType':_0x52458b['GenerativeAIModelOutputType'][_0x4a13a(0x209)],'knowledgeCutoffDate':'July\x202024','sourceUrl':''}],[_0x4a13a(0xc4e),{'id':_0x4a13a(0xc4e),'engineType':_0x52458b[_0x4a13a(0x402)][_0x4a13a(0x424)],'taskType':_0x52458b['GenerativeAITaskType'][_0x4a13a(0x23d)],'inputType':_0x52458b['GenerativeAIModelInputType']['Text'],'outputType':_0x52458b[_0x4a13a(0x747)][_0x4a13a(0x209)],'knowledgeCutoffDate':_0x4a13a(0xb26),'sourceUrl':''}],[_0x4a13a(0x5ec),{'id':'claude-3-opus-latest','engineType':_0x52458b['GenerativeAIEngineType'][_0x4a13a(0x424)],'taskType':_0x52458b[_0x4a13a(0xb89)][_0x4a13a(0x23d)],'inputType':_0x52458b['GenerativeAIModelInputType'][_0x4a13a(0x209)],'outputType':_0x52458b[_0x4a13a(0x747)][_0x4a13a(0x209)],'knowledgeCutoffDate':_0x4a13a(0xb26),'sourceUrl':''}],['google/gemini-2.5-pro',{'id':'google/gemini-2.5-pro','engineType':_0x52458b[_0x4a13a(0x402)][_0x4a13a(0x843)],'taskType':_0x52458b[_0x4a13a(0xb89)][_0x4a13a(0x23d)],'inputType':_0x52458b[_0x4a13a(0x26f)][_0x4a13a(0x209)],'outputType':_0x52458b[_0x4a13a(0x747)][_0x4a13a(0x209)],'knowledgeCutoffDate':_0x4a13a(0x89b),'sourceUrl':''}],[_0x4a13a(0x8f0),{'id':_0x4a13a(0x8f0),'engineType':_0x52458b[_0x4a13a(0x402)]['OpenRouter'],'taskType':_0x52458b[_0x4a13a(0xb89)][_0x4a13a(0x23d)],'inputType':_0x52458b[_0x4a13a(0x26f)][_0x4a13a(0x209)],'outputType':_0x52458b[_0x4a13a(0x747)][_0x4a13a(0x209)],'knowledgeCutoffDate':_0x4a13a(0x89b),'sourceUrl':''}],[_0x4a13a(0xbeb),{'id':_0x4a13a(0xbeb),'engineType':_0x52458b[_0x4a13a(0x402)][_0x4a13a(0x843)],'taskType':_0x52458b['GenerativeAITaskType']['TextGeneration'],'inputType':_0x52458b[_0x4a13a(0x26f)][_0x4a13a(0x209)],'outputType':_0x52458b[_0x4a13a(0x747)][_0x4a13a(0x209)],'knowledgeCutoffDate':_0x4a13a(0x970),'sourceUrl':''}],['google/gemini-2.0-flash-lite-001',{'id':_0x4a13a(0x5c3),'engineType':_0x52458b[_0x4a13a(0x402)][_0x4a13a(0x843)],'taskType':_0x52458b['GenerativeAITaskType']['TextGeneration'],'inputType':_0x52458b[_0x4a13a(0x26f)]['Text'],'outputType':_0x52458b['GenerativeAIModelOutputType'][_0x4a13a(0x209)],'knowledgeCutoffDate':_0x4a13a(0x970),'sourceUrl':''}],[_0x4a13a(0x3f0),{'id':_0x4a13a(0x3f0),'engineType':_0x52458b[_0x4a13a(0x402)][_0x4a13a(0x843)],'taskType':_0x52458b['GenerativeAITaskType'][_0x4a13a(0x23d)],'inputType':_0x52458b['GenerativeAIModelInputType'][_0x4a13a(0x209)],'outputType':_0x52458b[_0x4a13a(0x747)][_0x4a13a(0x209)],'knowledgeCutoffDate':_0x4a13a(0x74b),'sourceUrl':''}],[_0x4a13a(0x1e0),{'id':_0x4a13a(0x1e0),'engineType':_0x52458b[_0x4a13a(0x402)][_0x4a13a(0x843)],'taskType':_0x52458b[_0x4a13a(0xb89)][_0x4a13a(0x23d)],'inputType':_0x52458b['GenerativeAIModelInputType'][_0x4a13a(0x209)],'outputType':_0x52458b['GenerativeAIModelOutputType'][_0x4a13a(0x209)],'knowledgeCutoffDate':_0x4a13a(0x74b),'sourceUrl':''}],[_0x4a13a(0x2dd),{'id':_0x4a13a(0x2dd),'engineType':_0x52458b[_0x4a13a(0x402)][_0x4a13a(0x843)],'taskType':_0x52458b[_0x4a13a(0xb89)][_0x4a13a(0x23d)],'inputType':_0x52458b[_0x4a13a(0x26f)][_0x4a13a(0x209)],'outputType':_0x52458b[_0x4a13a(0x747)][_0x4a13a(0x209)],'knowledgeCutoffDate':'July\x202025','sourceUrl':''}],[_0x4a13a(0xa0e),{'id':_0x4a13a(0xa0e),'engineType':_0x52458b['GenerativeAIEngineType'][_0x4a13a(0x843)],'taskType':_0x52458b[_0x4a13a(0xb89)][_0x4a13a(0x23d)],'inputType':_0x52458b[_0x4a13a(0x26f)][_0x4a13a(0x209)],'outputType':_0x52458b[_0x4a13a(0x747)]['Text'],'knowledgeCutoffDate':_0x4a13a(0x7e0),'sourceUrl':''}],[_0x4a13a(0x77b),{'id':'x-ai/grok-3-mini','engineType':_0x52458b['GenerativeAIEngineType'][_0x4a13a(0x843)],'taskType':_0x52458b['GenerativeAITaskType'][_0x4a13a(0x23d)],'inputType':_0x52458b[_0x4a13a(0x26f)][_0x4a13a(0x209)],'outputType':_0x52458b[_0x4a13a(0x747)][_0x4a13a(0x209)],'knowledgeCutoffDate':'November\x202024','sourceUrl':''}],[_0x4a13a(0x8df),{'id':'x-ai/grok-3-beta','engineType':_0x52458b[_0x4a13a(0x402)]['OpenRouter'],'taskType':_0x52458b['GenerativeAITaskType'][_0x4a13a(0x23d)],'inputType':_0x52458b[_0x4a13a(0x26f)][_0x4a13a(0x209)],'outputType':_0x52458b[_0x4a13a(0x747)]['Text'],'knowledgeCutoffDate':_0x4a13a(0x7e0),'sourceUrl':''}],[_0x4a13a(0xa80),{'id':_0x4a13a(0xa80),'engineType':_0x52458b[_0x4a13a(0x402)][_0x4a13a(0x843)],'taskType':_0x52458b[_0x4a13a(0xb89)][_0x4a13a(0x23d)],'inputType':_0x52458b[_0x4a13a(0x26f)][_0x4a13a(0x209)],'outputType':_0x52458b[_0x4a13a(0x747)][_0x4a13a(0x209)],'knowledgeCutoffDate':_0x4a13a(0x7e0),'sourceUrl':''}]]),_0x57ddef=require('rxjs/operators');class _0x3f216f{[_0x4a13a(0xa7c)];constructor(){const _0x25f488=_0x4a13a;this[_0x25f488(0xa7c)]=new _0x1905fd['Subject']();}[_0x4a13a(0x2e0)](_0x1d7f89){const _0x541ca1=_0x4a13a;this[_0x541ca1(0xa7c)][_0x541ca1(0x93d)](_0x1d7f89);}async[_0x4a13a(0x64f)](){const _0x49be09=_0x4a13a;return(0x0,_0x1905fd[_0x49be09(0x2f9)])(this[_0x49be09(0xa7c)][_0x49be09(0x65f)]((0x0,_0x57ddef[_0x49be09(0x2a2)])(0x1)));}}function _0x28dca0(_0x45e3cf){const _0x2b2ccc=_0x4a13a;try{return JSON[_0x2b2ccc(0x320)](_0x45e3cf);}catch(_0x2f32ad){return _0x45e3cf instanceof Error?_0x45e3cf[_0x2b2ccc(0x366)]():JSON[_0x2b2ccc(0x320)]('Error\x20stringifying\x20object');}}class _0x331944{static [_0x4a13a(0x2c9)];[_0x4a13a(0x543)]=_0x437662[_0x4a13a(0x82d)];[_0x4a13a(0x52d)]=_0x437662[_0x4a13a(0x1e8)];[_0x4a13a(0x27c)]=_0x2012ea['Retrieve'];[_0x4a13a(0xbc6)]={};static [_0x4a13a(0xb8d)]=()=>(_0x331944[_0x4a13a(0x2c9)]||(_0x331944['instance']=new _0x331944()),_0x331944[_0x4a13a(0x2c9)]);async[_0x4a13a(0x2f3)](_0x2b1329,_0x259c20,_0x393327,_0x63189e){const _0xf63d33=_0x4a13a;try{if(this[_0xf63d33(0xbc6)][_0x259c20])return!0x0;const _0x483d12={'vendorId':_0x2b1329,'workflowId':_0x393327,'sequence':0x0};if(this[_0xf63d33(0xbc6)][_0x259c20]=_0x483d12,!_0x63189e||!_0x393327)return!0x0;const _0x27eb1b=(0x0,_0x1264d4['doc'])(_0x4c4338[_0xf63d33(0x73a)](),_0xf63d33(0x7c0)+_0x2b1329+_0xf63d33(0x562)+_0x393327+_0xf63d33(0x665),_0x259c20);return(await(0x0,_0x1264d4[_0xf63d33(0x93b)])(_0x27eb1b))[_0xf63d33(0x9bf)]()||await(0x0,_0x1264d4[_0xf63d33(0x7f6)])(_0x27eb1b,{'threadId':_0x63189e,'startTime':(0x0,_0x1264d4[_0xf63d33(0xb1e)])()}),!0x0;}catch(_0x1bd32c){return console[_0xf63d33(0x33b)](_0xf63d33(0x468),_0x1bd32c),!0x1;}}async[_0x4a13a(0xbec)](_0x29faa0,_0x13ea15,_0x4578aa,_0x2df138){const _0x5d3cb0=_0x4a13a;try{if(!this[_0x5d3cb0(0xbc6)][_0x29faa0])throw new Error(_0x5d3cb0(0x475));const _0xa5b42c=new Date(),_0x5c330e=_0xa5b42c[_0x5d3cb0(0xc0c)]()+'-'+_0xa5b42c[_0x5d3cb0(0x54e)]()+'-'+_0xa5b42c[_0x5d3cb0(0x74c)](),_0x368a9a=new Date(_0xa5b42c['getFullYear'](),_0xa5b42c['getMonth'](),_0xa5b42c[_0x5d3cb0(0x74c)]()),_0x5ee810=this['openedTraces'][_0x29faa0][_0x5d3cb0(0x649)],_0x3a02ee=_0x13ea15+'-'+_0x5c330e,_0x5b68b3=_0x5a18eb[_0x5d3cb0(0x68c)](_0x13ea15);if(!_0x5b68b3)return void console[_0x5d3cb0(0x33b)]('GenerativeAITracing\x20-\x20Model\x20price\x20not\x20found',_0x13ea15);const _0x4bf98d=_0x5b68b3['inputTokenPrice']*_0x4578aa/0xf4240*0x64,_0x54de87=_0x5b68b3[_0x5d3cb0(0x7ed)]*_0x2df138/0xf4240*0x64,_0x2122a0=(0x0,_0x1264d4[_0x5d3cb0(0x448)])(_0x4c4338['getFirestore'](),_0x5d3cb0(0x7c0)+_0x5ee810+_0x5d3cb0(0x4b9),_0x3a02ee);await(0x0,_0x1264d4['setDoc'])(_0x2122a0,{'modelId':_0x13ea15,'date':_0x368a9a,'inputTokens':(0x0,_0x1264d4['increment'])(_0x4578aa),'outputTokens':(0x0,_0x1264d4[_0x5d3cb0(0x31c)])(_0x2df138),'inputCredits':(0x0,_0x1264d4[_0x5d3cb0(0x31c)])(_0x4bf98d),'outputCredits':(0x0,_0x1264d4['increment'])(_0x54de87),'totalCredits':(0x0,_0x1264d4['increment'])(_0x4bf98d+_0x54de87)},{'merge':!0x0});}catch(_0x3765f0){console[_0x5d3cb0(0x33b)]('GenerativeAITracing\x20-\x20Error\x20while\x20logging\x20usage',_0x3765f0);}}async[_0x4a13a(0x756)](_0x32f567){const _0x4db8c2=_0x4a13a;try{const _0xb5d91d=this[_0x4db8c2(0xbc6)][_0x32f567['jobId']];if(!_0xb5d91d)throw new Error(_0x4db8c2(0x767));_0x32f567['sequence']=_0xb5d91d['sequence']++,_0x32f567['traceLevel']>=this['logLevel']&&console[_0x4db8c2(0x8b9)](JSON[_0x4db8c2(0x320)](_0x32f567,null,0x2)),await this['commitTrace'](_0x32f567);}catch(_0x2066b7){console['error']('GenerativeAITracing\x20-\x20Error\x20while\x20tracing',_0x2066b7);}}async[_0x4a13a(0x8eb)](_0x4ee032,_0x3d4b0b){const _0x15c74b=_0x4a13a;if(!_0x331944[_0x15c74b(0x2c9)])throw new Error(_0x15c74b(0x22e));if(!this['openedTraces'][_0x4ee032])throw new Error('GenerativeAITracing\x20-\x20trace\x20job\x20id\x20does\x20not\x20match');if(_0x3d4b0b&&this[_0x15c74b(0xbc6)][_0x4ee032][_0x15c74b(0x9cb)])try{await(0x0,_0x1264d4[_0x15c74b(0x7f6)])((0x0,_0x1264d4[_0x15c74b(0x448)])(_0x4c4338[_0x15c74b(0x73a)](),_0x15c74b(0x7c0)+this[_0x15c74b(0xbc6)][_0x4ee032][_0x15c74b(0x649)]+_0x15c74b(0x562)+this[_0x15c74b(0xbc6)][_0x4ee032]['workflowId']+_0x15c74b(0x665),_0x4ee032),{'endTime':(0x0,_0x1264d4[_0x15c74b(0xb1e)])()},{'merge':!0x0}),this[_0x15c74b(0x79d)](_0x4ee032);}catch(_0x2573d3){console['error'](_0x15c74b(0xbc2),_0x2573d3);}else this['setForDeletion'](_0x4ee032);}[_0x4a13a(0x79d)](_0x7884ea){setTimeout(()=>{delete this['openedTraces'][_0x7884ea];},0x1b7740);}async[_0x4a13a(0x3fa)](_0x36ce94){const _0xd68cf9=_0x4a13a;if(_0x36ce94[_0xd68cf9(0x380)]<this[_0xd68cf9(0x52d)]&&_0x36ce94[_0xd68cf9(0xa86)]!==this[_0xd68cf9(0x27c)])return;if(!this['openedTraces'][_0x36ce94[_0xd68cf9(0xafd)]])throw new Error('GenerativeAITracing\x20-\x20Trace\x20job\x20id\x20does\x20not\x20exist');const _0x4a869e=this[_0xd68cf9(0xbc6)][_0x36ce94[_0xd68cf9(0xafd)]];try{const _0x23ebc5=function(_0x3b91a6){const _0x5d4f7a=_0xd68cf9,_0x54d4e3=[_0x5d4f7a(0x50c),_0x5d4f7a(0xb08),_0x5d4f7a(0xa86),_0x5d4f7a(0xbdd),_0x5d4f7a(0xafd),_0x5d4f7a(0x380),'blockId',_0x5d4f7a(0xc33),'sequence','errorDetails'],_0x1a74d3={..._0x3b91a6};for(const _0x1f3749 of _0x54d4e3)delete _0x1a74d3[_0x1f3749];return{'timestamp':_0x3b91a6[_0x5d4f7a(0xb08)],'jobType':_0x3b91a6[_0x5d4f7a(0xa86)],'type':_0x3b91a6['type'],'jobId':_0x3b91a6[_0x5d4f7a(0xafd)],'agentId':_0x3b91a6[_0x5d4f7a(0x684)]??'','traceLevel':_0x3b91a6[_0x5d4f7a(0x380)],'blockId':_0x3b91a6[_0x5d4f7a(0x516)]??'','startTime':_0x3b91a6[_0x5d4f7a(0x50c)],'status':_0x3b91a6[_0x5d4f7a(0xc33)],'sequence':_0x3b91a6[_0x5d4f7a(0x5b4)]??0x0,'errorDetails':_0x3b91a6['errorDetails']??'','metadata':_0x28dca0(_0x1a74d3)};}(_0x36ce94),_0x466d59=(0x0,_0xafe7f0['v4'])();console['log'](_0xd68cf9(0x4e5),_0x23ebc5[_0xd68cf9(0xbdd)]),await(0x0,_0x1264d4[_0xd68cf9(0x7f6)])((0x0,_0x1264d4[_0xd68cf9(0x448)])(_0x4c4338[_0xd68cf9(0x73a)](),_0xd68cf9(0x7c0)+_0x4a869e[_0xd68cf9(0x649)]+_0xd68cf9(0x562)+_0x4a869e[_0xd68cf9(0x9cb)]+'/jobs/'+_0x36ce94[_0xd68cf9(0xafd)]+_0xd68cf9(0x5d7),_0x466d59),_0x23ebc5),_0x36ce94[_0xd68cf9(0xbdd)]===_0x548e02['PromptRating']&&await(0x0,_0x1264d4[_0xd68cf9(0x7f6)])((0x0,_0x1264d4[_0xd68cf9(0x448)])(_0x4c4338['getFirestore'](),_0xd68cf9(0x7c0)+_0x4a869e[_0xd68cf9(0x649)]+_0xd68cf9(0x562)+_0x4a869e[_0xd68cf9(0x9cb)]+_0xd68cf9(0x665),_0x36ce94[_0xd68cf9(0xafd)]),{'rating':_0x36ce94[_0xd68cf9(0x42b)]},{'merge':!0x0});}catch(_0x34eecc){console['error'](_0xd68cf9(0x67c),_0x34eecc);}}}const _0x4bd72a=_0x331944['getInstance']();async function _0x48b63a(_0x2295f3,_0x5d4529,_0x5f2a52,_0x49555a,_0x4675e4,_0x447e20,_0x48d0c3,_0x3d37a0){const _0x1f0a11=function(_0x59ea43,_0x389734){const _0x3db752=a0_0x2cf3,_0x4bc5cc=[];for(let _0xa261c0=0x0;_0xa261c0<_0x59ea43[_0x3db752(0x454)];_0xa261c0+=_0x389734[_0x3db752(0x37d)][_0x3db752(0x7a7)]){let _0x35b601=_0xa261c0-_0x389734[_0x3db752(0x37d)][_0x3db752(0x8e4)];_0x35b601<0x0&&(_0x35b601=0x0);let _0x2808d4=_0xa261c0+_0x389734[_0x3db752(0x37d)][_0x3db752(0x7a7)]+_0x389734[_0x3db752(0x37d)]['overlap'];_0x2808d4>_0x59ea43[_0x3db752(0x454)]&&(_0x2808d4=_0x59ea43[_0x3db752(0x454)]),length||(length=_0xa261c0+_0x389734[_0x3db752(0x37d)][_0x3db752(0x7a7)],length>_0x59ea43[_0x3db752(0x454)]&&(length=_0x59ea43['length'])),_0x4bc5cc[_0x3db752(0x247)](_0x59ea43[_0x3db752(0x309)](_0x35b601,_0x2808d4));}return _0x4bc5cc;}(_0x5d4529,_0x4675e4);await _0x4fac30(_0x2295f3,_0x1f0a11,_0x5f2a52,_0x49555a,_0x4675e4,_0x447e20,_0x48d0c3,_0x3d37a0);}async function _0x253a3e(_0x504f96,_0x22da50,_0x547975,_0x522eef,_0x544d7b,_0xbc2d02,_0x47f5ae,_0x10d858){const _0x2a65b2=_0x4a13a;if(_0x544d7b['accumulated']||(_0x544d7b[_0x2a65b2(0xa95)]={}),_0x544d7b[_0x2a65b2(0xa95)]['queries']||(_0x544d7b[_0x2a65b2(0xa95)]['queries']=[]),_0x22da50 instanceof Array?_0x544d7b[_0x2a65b2(0xa95)][_0x2a65b2(0x9fb)][_0x2a65b2(0x247)](..._0x22da50):_0x544d7b[_0x2a65b2(0xa95)][_0x2a65b2(0x9fb)][_0x2a65b2(0x247)](_0x22da50),_0x544d7b['timesCalled']=_0x544d7b['timesCalled']?_0x544d7b[_0x2a65b2(0xbdf)]+0x1:0x1,_0x10944f(_0x544d7b,_0xbc2d02)>_0x544d7b['timesCalled'])return;if(0x0===_0x544d7b['accumulated'][_0x2a65b2(0x9fb)][_0x2a65b2(0x454)])throw new Error(_0x2a65b2(0x57c));let _0x243303=[];const _0x55a156=Date[_0x2a65b2(0xad3)]();try{let _0x53e7fd=0x0,_0x26bb58=0x0;for(const _0x185d4e of _0x544d7b[_0x2a65b2(0xa95)][_0x2a65b2(0x9fb)]){const _0x5e080b=await fetch(_0x2fd4ca['apiUrl']+_0x2a65b2(0x8e7)+_0x544d7b['id']+_0x2a65b2(0xbc5),{'method':_0x2a65b2(0x6e0),'headers':{'Content-Type':'application/json','x-vendor-id':_0x547975['vendorId']},'body':JSON[_0x2a65b2(0x320)]({'query':_0x185d4e})}),_0x5bb19f=((await _0x5e080b[_0x2a65b2(0x731)]())['data']??[])[_0x2a65b2(0x275)](_0x2f5a50=>({'pathName':_0x2f5a50['filename'],'relevance':_0x2f5a50[_0x2a65b2(0x8a6)],'content':_0x2f5a50['content'][_0x2a65b2(0x89d)]}));_0x243303=Array[_0x2a65b2(0xad6)](new Set([..._0x243303,..._0x5bb19f])),_0x53e7fd+=_0x5bb19f['inputTokens']??0x0,_0x26bb58+=_0x5bb19f[_0x2a65b2(0x883)]??0x0;}_0x522eef[_0x2a65b2(0x7ab)]+=_0x53e7fd,_0x522eef[_0x2a65b2(0x883)]+=_0x26bb58,_0x522eef[_0x2a65b2(0x560)]=Array[_0x2a65b2(0xad6)](new Set([..._0x522eef[_0x2a65b2(0x560)],..._0x243303])),await _0x4bd72a['trace']({'jobType':_0x2012ea[_0x2a65b2(0x95b)],'type':_0x216952[_0x2a65b2(0x5ea)],'jobId':_0x504f96,'threadId':_0x547975[_0x2a65b2(0x6b7)],'traceLevel':_0x437662['Info'],'startTime':_0x55a156,'timestamp':Date[_0x2a65b2(0xad3)](),'blockId':_0x544d7b['id'],'status':_0x2a65b2(0xbb4),'queries':_0x544d7b[_0x2a65b2(0xa95)][_0x2a65b2(0x9fb)],'context':_0x243303,'inputTokens':_0x53e7fd,'outputTokens':_0x26bb58});}catch(_0x593c5a){console[_0x2a65b2(0x33b)](_0x593c5a),await _0x4bd72a[_0x2a65b2(0x756)]({'jobType':_0x2012ea[_0x2a65b2(0x95b)],'type':_0x216952[_0x2a65b2(0x5ea)],'jobId':_0x504f96,'threadId':_0x547975['threadId'],'traceLevel':_0x437662[_0x2a65b2(0x1e8)],'startTime':_0x55a156,'timestamp':Date[_0x2a65b2(0xad3)](),'blockId':_0x544d7b['id'],'status':_0x2a65b2(0x33b),'queries':_0x544d7b[_0x2a65b2(0xa95)][_0x2a65b2(0x9fb)],'context':[],'inputTokens':0x0,'outputTokens':0x0});}await _0x4fac30(_0x504f96,'',_0x547975,_0x522eef,_0x544d7b,_0xbc2d02,_0x47f5ae,_0x10d858);}async function _0x1b2755(_0x4503e9,_0x4e7d8e,_0x416bbe,_0x418ab1,_0x4391c5,_0xa60479,_0x43e2d4,_0x167f2e){const _0x234424=_0x4a13a,_0x4d0b97=await _0x43e2d4['nlpLibraryConnector'][_0x234424(0x8b0)](_0x4e7d8e);await _0x4fac30(_0x4503e9,_0x4d0b97,_0x416bbe,_0x418ab1,_0x4391c5,_0xa60479,_0x43e2d4,_0x167f2e);}async function _0x292093(_0x2ad4a9,_0x2b0694,_0x15b587,_0xb016b1,_0x36422c,_0x552a11,_0x75b5db,_0x1a0236){const _0x3e13c6=function(_0x1f470a,_0x212cc7){const _0x8d9083=a0_0x2cf3,_0x260d62=[],_0x16140c=_0x1f470a[_0x8d9083(0x3ca)]('\x20');let _0x5a2f33='',_0x9be05f=0x0,_0xee1a4b=0x0,_0x242600=0x0;for(const _0x5c13f6 of _0x16140c){if(_0x5a2f33[_0x8d9083(0x454)]+_0x5c13f6['length']>_0x212cc7[_0x8d9083(0x37d)][_0x8d9083(0x7a7)]){let _0x322a26=_0x9be05f,_0x15f9a4='';for(;_0x322a26>=0x0&&_0x15f9a4[_0x8d9083(0x454)]+_0x16140c[_0x322a26][_0x8d9083(0x454)]<_0x212cc7[_0x8d9083(0x37d)]['overlap'];)_0x15f9a4=_0x16140c[_0x322a26]+'\x20'+_0x15f9a4,_0x322a26--;let _0x4640d9=_0xee1a4b,_0x9ada25='';for(;_0x4640d9<_0x16140c[_0x8d9083(0x454)]&&_0x9ada25[_0x8d9083(0x454)]+_0x16140c[_0x4640d9][_0x8d9083(0x454)]<_0x212cc7['attributes'][_0x8d9083(0x8e4)];)_0x9ada25+=_0x16140c[_0x4640d9]+'\x20',_0x4640d9++;_0x5a2f33=_0x15f9a4+_0x5a2f33+_0x9ada25,_0x260d62[_0x8d9083(0x247)](_0x5a2f33[_0x8d9083(0x31a)]()),_0x5a2f33='',_0x9be05f=_0xee1a4b;}_0x5a2f33+=_0x5c13f6+'\x20',_0xee1a4b++,_0x242600+=_0x5c13f6[_0x8d9083(0x454)]+0x1;}if(_0x5a2f33['length']>0x0){let _0x2ca078=_0x9be05f,_0x3dd8f8='';for(;_0x2ca078>=0x0&&_0x3dd8f8['length']+_0x16140c[_0x2ca078][_0x8d9083(0x454)]<_0x212cc7[_0x8d9083(0x37d)][_0x8d9083(0x8e4)];)_0x3dd8f8=_0x16140c[_0x2ca078]+'\x20'+_0x3dd8f8,_0x2ca078--;_0x5a2f33=_0x3dd8f8+_0x5a2f33,_0x260d62[_0x8d9083(0x247)](_0x5a2f33[_0x8d9083(0x31a)]());}return _0x260d62;}(_0x2b0694,_0x36422c);await _0x4fac30(_0x2ad4a9,_0x3e13c6,_0x15b587,_0xb016b1,_0x36422c,_0x552a11,_0x75b5db,_0x1a0236);}async function _0x4fac30(_0x374aaa,_0x40132b,_0x35e528,_0x4bdf90,_0x3102a8,_0x4accc7,_0x5aaafd,_0x1608ba){const _0x19fa03=_0x4a13a;if(await _0x37fc55[_0x19fa03(0xc22)](0x1),_0x3102a8['links']){for(const _0x1e5d6e of _0x3102a8[_0x19fa03(0xbbc)]){if(_0x1e5d6e['type']===_0x81f8f3['Context'])continue;const _0x561d46=_0x4accc7[_0x19fa03(0x319)](_0x5caccc=>_0x5caccc[_0x19fa03(0xb27)]===_0x1e5d6e[_0x19fa03(0xb27)]);if(_0x561d46)switch(_0x561d46[_0x19fa03(0xbdd)]){case _0xa515c[_0x19fa03(0x673)]:_0x1e5d6e[_0x19fa03(0xbdd)]!==_0x81f8f3[_0x19fa03(0x209)]&&_0x1e5d6e[_0x19fa03(0xbdd)]!==_0x81f8f3[_0x19fa03(0x6b0)]||_0x19fa03(0x924)!=typeof _0x40132b||await _0x8f5a21(_0x374aaa,_0x1e5d6e['type'],_0x40132b,_0x35e528,_0x4bdf90,_0x561d46,_0x4accc7,_0x5aaafd,_0x1608ba),_0x1e5d6e['type']===_0x81f8f3[_0x19fa03(0x6ae)]&&'true'===_0x40132b&&await _0x8f5a21(_0x374aaa,_0x1e5d6e[_0x19fa03(0xbdd)],_0x40132b,_0x35e528,_0x4bdf90,_0x561d46,_0x4accc7,_0x5aaafd,_0x1608ba),_0x1e5d6e[_0x19fa03(0xbdd)]===_0x81f8f3[_0x19fa03(0x4f5)]&&'false'===_0x40132b&&await _0x8f5a21(_0x374aaa,_0x1e5d6e['type'],_0x40132b,_0x35e528,_0x4bdf90,_0x561d46,_0x4accc7,_0x5aaafd,_0x1608ba),_0x3102a8[_0x19fa03(0xbdd)]===_0xa515c['InputStream']&&_0x1e5d6e[_0x19fa03(0xbdd)]===_0x81f8f3[_0x19fa03(0x6ef)]&&_0x19fa03(0x924)==typeof _0x40132b&&await _0x8f5a21(_0x374aaa,_0x1e5d6e[_0x19fa03(0xbdd)],_0x40132b,_0x35e528,_0x4bdf90,_0x561d46,_0x4accc7,_0x5aaafd,_0x1608ba);break;case _0xa515c[_0x19fa03(0x878)]:_0x1e5d6e[_0x19fa03(0xbdd)]===_0x81f8f3[_0x19fa03(0x209)]&&_0x19fa03(0x924)==typeof _0x40132b&&await _0x48b63a(_0x374aaa,_0x40132b,_0x35e528,_0x4bdf90,_0x561d46,_0x4accc7,_0x5aaafd,_0x1608ba);break;case _0xa515c[_0x19fa03(0x5ea)]:_0x1e5d6e[_0x19fa03(0xbdd)]===_0x81f8f3['Text']&&_0x19fa03(0x924)==typeof _0x40132b&&await _0x253a3e(_0x374aaa,_0x40132b,_0x35e528,_0x4bdf90,_0x561d46,_0x4accc7,_0x5aaafd,_0x1608ba),_0x1e5d6e[_0x19fa03(0xbdd)]===_0x81f8f3[_0x19fa03(0x209)]&&_0x40132b instanceof Array&&await _0x253a3e(_0x374aaa,_0x40132b,_0x35e528,_0x4bdf90,_0x561d46,_0x4accc7,_0x5aaafd,_0x1608ba);break;case _0xa515c[_0x19fa03(0x50b)]:_0x1e5d6e[_0x19fa03(0xbdd)]===_0x81f8f3['Text']&&_0x19fa03(0x924)==typeof _0x40132b&&await _0x1b2755(_0x374aaa,_0x40132b,_0x35e528,_0x4bdf90,_0x561d46,_0x4accc7,_0x5aaafd,_0x1608ba);break;case _0xa515c[_0x19fa03(0x1f5)]:_0x1e5d6e[_0x19fa03(0xbdd)]===_0x81f8f3[_0x19fa03(0x209)]&&_0x19fa03(0x924)==typeof _0x40132b&&await _0x292093(_0x374aaa,_0x40132b,_0x35e528,_0x4bdf90,_0x561d46,_0x4accc7,_0x5aaafd,_0x1608ba);}}_0x3102a8[_0x19fa03(0xbdd)]!==_0xa515c[_0x19fa03(0x661)]&&_0x3102a8[_0x19fa03(0xbdd)]!==_0xa515c[_0x19fa03(0xa6f)]||!_0x1608ba||_0x1608ba[_0x19fa03(0x2e0)](void 0x0);}else _0x3102a8['type']!==_0xa515c[_0x19fa03(0x661)]&&_0x3102a8['type']!==_0xa515c['InputStream']||!_0x1608ba||_0x1608ba[_0x19fa03(0x2e0)](void 0x0);}function _0x10944f(_0x4d2a01,_0x49116e){const _0x19a56f=_0x4a13a;let _0x2c330d=0x0;for(const _0x2b909f of _0x49116e)for(const _0x5a975a of _0x2b909f[_0x19a56f(0xbbc)]??[])_0x5a975a[_0x19a56f(0xbdd)]!==_0x81f8f3['Context']&&_0x5a975a[_0x19a56f(0xbdd)]!==_0x81f8f3[_0x19a56f(0xa43)]&&_0x5a975a[_0x19a56f(0xbdd)]!==_0x81f8f3['File']&&_0x5a975a[_0x19a56f(0xbdd)]!==_0x81f8f3[_0x19a56f(0xb9c)]&&_0x5a975a[_0x19a56f(0xbdd)]!==_0x81f8f3[_0x19a56f(0x6ef)]&&_0x5a975a['uid']===_0x4d2a01[_0x19a56f(0xb27)]&&_0x2c330d++;return _0x2c330d;}function _0x4701ea(_0x171efc,_0x1c09cc,_0x5075a7){const _0x17ef8f=_0x4a13a,_0x3819a1={'type':_0x171efc[_0x17ef8f(0xbdd)],'name':_0x171efc[_0x17ef8f(0xbbd)]??'','description':_0x171efc[_0x17ef8f(0xa1b)]??'','parameters':_0x171efc[_0x17ef8f(0x6a8)]??[],'headers':_0x171efc['headers']??[],'queryParameters':_0x171efc[_0x17ef8f(0xc40)]??[],'bodyParameters':_0x171efc[_0x17ef8f(0x9df)]??[],'endpointUrl':_0x171efc[_0x17ef8f(0x64d)]??'','endpointMethod':_0x171efc['endpointMethod']??'','contextInputVariable':_0x171efc['contextInputVariable']??'','contextOutputVariable':_0x171efc[_0x17ef8f(0xae5)]??'','modelId':_0x171efc['modelId']??'','workflowId':_0x171efc['workflowId']??'','async':_0x171efc[_0x17ef8f(0xabb)]??!0x1,'instructions':_0x171efc[_0x17ef8f(0x820)]??'','maxTokens':_0x171efc[_0x17ef8f(0x6df)]??0x0,'temperature':_0x171efc[_0x17ef8f(0x7fc)]??0x0,'grammar':_0x171efc[_0x17ef8f(0xc30)]??_0x17ef8f(0x692),'collectionId':_0x171efc[_0x17ef8f(0xbdd)]===_0xa515c[_0x17ef8f(0x5ea)]||_0x171efc[_0x17ef8f(0xbdd)]===_0xa515c[_0x17ef8f(0x570)]?_0x171efc['id']:'','namespace':_0x171efc[_0x17ef8f(0xbdd)]===_0xa515c[_0x17ef8f(0x5ea)]||_0x171efc[_0x17ef8f(0xbdd)]===_0xa515c['Knowledge']?_0x5075a7?.[_0x17ef8f(0x541)]:void 0x0,'shouldEmit':_0x171efc['links']?.[_0x17ef8f(0x427)](_0x50b569=>_0x50b569[_0x17ef8f(0xbdd)]===_0x81f8f3['Text']&&_0x1c09cc[_0x17ef8f(0x319)](_0xe9adb9=>_0xe9adb9[_0x17ef8f(0xb27)]===_0x50b569['uid'])?.[_0x17ef8f(0xbdd)]===_0xa515c[_0x17ef8f(0xa14)])??!0x1};if(_0x171efc[_0x17ef8f(0xbdd)]===_0xa515c['FormSkill'])return[{..._0x3819a1,'type':_0x52458b[_0x17ef8f(0x2a9)][_0x17ef8f(0x414)],'questions':_0x171efc[_0x17ef8f(0x952)]??[]},{..._0x3819a1,'type':_0x52458b[_0x17ef8f(0x2a9)][_0x17ef8f(0x2d2)],'questions':_0x171efc[_0x17ef8f(0x952)]??[]},{..._0x3819a1,'type':_0x52458b['GenerativeAIInferenceToolType'][_0x17ef8f(0x9bb)],'questions':_0x171efc['questions']??[]}];if(_0x171efc[_0x17ef8f(0xbdd)]===_0xa515c[_0x17ef8f(0x673)]||_0x171efc[_0x17ef8f(0xbdd)]===_0xa515c[_0x17ef8f(0xbd5)]||_0x171efc['type']===_0xa515c[_0x17ef8f(0x207)]){const _0x132dd6=_0x1c09cc[_0x17ef8f(0x675)](_0x178d65=>_0x178d65['links']?.[_0x17ef8f(0x427)](_0x1222ce=>_0x1222ce['uid']===_0x171efc[_0x17ef8f(0xb27)]&&_0x1222ce[_0x17ef8f(0xbdd)]===_0x81f8f3[_0x17ef8f(0xa43)]));if(_0x132dd6[_0x17ef8f(0x454)]>0x0)return{..._0x3819a1,'tools':_0x132dd6[_0x17ef8f(0xb97)](_0x54a706=>_0x4701ea(_0x54a706,_0x1c09cc,_0x5075a7))};}return _0x3819a1;}async function _0x8f5a21(_0x1190ff,_0x58b978,_0x5967fb,_0x2b6d58,_0x47961c,_0x4e795c,_0x2e8669,_0x464147,_0x313761){const _0x326dc0=_0x4a13a,_0x28e26f=_0x464147[_0x326dc0(0x911)][_0x326dc0(0x319)](_0x3183d9=>_0x3183d9['id']===_0x4e795c[_0x326dc0(0xc0a)]);if(!_0x28e26f)throw new Error(_0x326dc0(0x666)+_0x4e795c['modelId']);if((_0x28e26f[_0x326dc0(0xbf7)]===_0x52458b[_0x326dc0(0xb89)]['SpeechToText']||_0x28e26f['taskType']===_0x52458b[_0x326dc0(0xb89)][_0x326dc0(0xae1)])&&(_0x58b978===_0x81f8f3[_0x326dc0(0x6ef)]||_0x4e795c[_0x326dc0(0xbbc)]?.[_0x326dc0(0x427)](_0x53536f=>_0x53536f[_0x326dc0(0xbdd)]===_0x81f8f3[_0x326dc0(0x6ef)]))){const _0x5ea9cc=_0x2e8669[_0x326dc0(0x319)](_0x126c1f=>_0x126c1f[_0x326dc0(0xbbc)]?.[_0x326dc0(0x427)](_0x2535fd=>_0x2535fd['uid']===_0x4e795c[_0x326dc0(0xb27)]&&_0x2535fd[_0x326dc0(0xbdd)]===_0x81f8f3[_0x326dc0(0x6ef)])),_0x1c1598=_0x2e8669[_0x326dc0(0x319)](_0xdfcb13=>_0xdfcb13[_0x326dc0(0xb27)]===_0x4e795c[_0x326dc0(0xbbc)]?.['find'](_0x375016=>_0x375016[_0x326dc0(0xbdd)]===_0x81f8f3[_0x326dc0(0x6ef)])?.['uid']);if(_0x5ea9cc?.['type']===_0xa515c['InputStream']||_0x1c1598?.['type']===_0xa515c[_0x326dc0(0x8f5)])return console[_0x326dc0(0x8b9)](new Date()+_0x326dc0(0x814)),void await _0x4fac30(_0x1190ff,_0x5967fb,_0x2b6d58,_0x47961c,_0x4e795c,_0x2e8669,_0x464147,_0x313761);if(_0x28e26f[_0x326dc0(0xbf7)]===_0x52458b[_0x326dc0(0xb89)][_0x326dc0(0xae1)]){console[_0x326dc0(0x8b9)](new Date()+'\x20Processing\x20text\x20to\x20speech\x20block');const _0x33342e=_0x464147[_0x326dc0(0x2b1)][_0x326dc0(0x319)](_0x4d59d0=>_0x4d59d0[_0x326dc0(0x496)]()===_0x28e26f[_0x326dc0(0x2f6)]);if(!_0x33342e)throw new Error(_0x326dc0(0x84a)+_0x28e26f['id']);const _0x43cfaf=_0x4e795c[_0x326dc0(0x820)][_0x326dc0(0x777)](/voice=(\w+)/)?.[0x1],_0x3dde50=_0x4e795c[_0x326dc0(0x820)]['replace'](_0x326dc0(0x808)+_0x43cfaf,''),_0x1d33f6=await _0x33342e[_0x326dc0(0x6e4)](_0x28e26f['id'],_0x5967fb,_0x43cfaf??_0x326dc0(0x42c),_0x326dc0(0x45d),_0x3dde50);_0x4bd72a[_0x326dc0(0xbec)](_0x1190ff,_0x28e26f['id'],0x0,_0x5967fb[_0x326dc0(0x454)]);const _0x40084b=_0x1d33f6[_0x326dc0(0x760)]();let _0x2d3dde=new Uint8Array(0x0);for(;;){const {value:_0x280c18,done:_0x49d329}=await _0x40084b[_0x326dc0(0xa63)]();if(_0x49d329)break;const _0x46948b=_0x280c18 instanceof ArrayBuffer?new Uint8Array(_0x280c18):_0x280c18,_0x45d378=new Uint8Array(_0x2d3dde['length']+_0x46948b[_0x326dc0(0x454)]);_0x45d378[_0x326dc0(0x2a7)](_0x2d3dde),_0x45d378['set'](_0x46948b,_0x2d3dde[_0x326dc0(0x454)]),_0x2d3dde=_0x45d378;}const _0x1a27e7=new File([_0x2d3dde],(0x0,_0xafe7f0['v4'])()+'.mp3',{'type':_0x326dc0(0xa7e)}),_0x454c4c=_0x2e8669[_0x326dc0(0x319)](_0x4a7a91=>_0x4a7a91[_0x326dc0(0xbdd)]===_0xa515c[_0x326dc0(0xa14)]&&_0x4e795c[_0x326dc0(0xbbc)]?.[_0x326dc0(0x427)](_0x23d6a1=>_0x23d6a1[_0x326dc0(0xb27)]===_0x4a7a91[_0x326dc0(0xb27)]));return void(_0x454c4c&&(_0x454c4c['accumulated']||(_0x454c4c[_0x326dc0(0xa95)]={}),_0x454c4c[_0x326dc0(0xa95)][_0x326dc0(0x347)]=_0x1a27e7));}}if(_0x4e795c[_0x326dc0(0xa95)]||(_0x4e795c[_0x326dc0(0xa95)]={}),_0x58b978===_0x81f8f3[_0x326dc0(0x209)]&&_0x326dc0(0x924)==typeof _0x5967fb&&(_0x4e795c[_0x326dc0(0xa95)][_0x326dc0(0x3f8)]||(_0x4e795c[_0x326dc0(0xa95)]['prompt']=[]),_0x4e795c['accumulated'][_0x326dc0(0x3f8)][_0x326dc0(0x247)](_0x5967fb)),_0x58b978===_0x81f8f3[_0x326dc0(0xa75)])return _0x4e795c[_0x326dc0(0xa95)][_0x326dc0(0x824)]||(_0x4e795c[_0x326dc0(0xa95)]['files']=[]),void _0x4e795c['accumulated'][_0x326dc0(0x824)][_0x326dc0(0x247)](_0x5967fb);if(_0x58b978===_0x81f8f3[_0x326dc0(0xb9c)])return _0x4e795c[_0x326dc0(0xa95)][_0x326dc0(0x8f1)]||(_0x4e795c[_0x326dc0(0xa95)]['images']=[]),void _0x4e795c[_0x326dc0(0xa95)][_0x326dc0(0x8f1)][_0x326dc0(0x247)](_0x5967fb);if(_0x58b978===_0x81f8f3['Audio'])return _0x4e795c[_0x326dc0(0xa95)][_0x326dc0(0x736)]||(_0x4e795c['accumulated']['medias']=[]),void _0x4e795c['accumulated'][_0x326dc0(0x736)][_0x326dc0(0x247)](_0x5967fb);if(_0x4e795c['timesCalled']=_0x4e795c[_0x326dc0(0xbdf)]?_0x4e795c[_0x326dc0(0xbdf)]+0x1:0x1,_0x10944f(_0x4e795c,_0x2e8669)>_0x4e795c[_0x326dc0(0xbdf)])return;if(_0x260a6c['forceLog'](_0x326dc0(0xb59)+_0x4e795c['name'],_0x4e795c[_0x326dc0(0xbdf)]),!_0x4e795c[_0x326dc0(0xa95)][_0x326dc0(0x3f8)])throw new Error('Agent\x20block\x20is\x20missing\x20required\x20data:\x20'+_0x4e795c[_0x326dc0(0xbbd)]);const _0x3b8c9e=Date[_0x326dc0(0xad3)](),_0x1ab3c5=(0x0,_0xafe7f0['v4'])();let _0x2e9f4e='',_0x1f8526=0x0,_0x44251f=0x0;const _0x8c0a10=[],_0x51d046=function(_0x41f5c8,_0x506810,_0x31e735,_0x57ac76){const _0x5a418b=_0x326dc0;if(_0x31e735[_0x5a418b(0x227)]){const _0x1a4f88=_0x31e735[_0x5a418b(0x227)][_0x5a418b(0x3ca)](',');for(const _0x2d99cb of _0x1a4f88)_0x5a418b(0x824)!==_0x2d99cb&&_0x5a418b(0x8f1)!==_0x2d99cb&&_0x506810['internalContext']?.[_0x2d99cb]&&(_0x41f5c8='<'+_0x2d99cb+'>'+_0x506810[_0x5a418b(0x3d8)][_0x2d99cb]+'</'+_0x2d99cb+'>\x0a\x0a'+_0x41f5c8);}const _0x2acea2=_0x57ac76[_0x5a418b(0x675)](_0x5acbaa=>_0x5acbaa[_0x5a418b(0xbbc)]?.[_0x5a418b(0x427)](_0x16a850=>_0x16a850[_0x5a418b(0xb27)]===_0x31e735[_0x5a418b(0xb27)]&&_0x16a850[_0x5a418b(0xbdd)]===_0x81f8f3[_0x5a418b(0xa43)]));for(const _0x101396 of _0x2acea2)if(_0x101396['type']===_0xa515c[_0x5a418b(0x4ec)]){const _0x456c05=_0x101396[_0x5a418b(0xbbd)]['replace'](/[^a-zA-Z]/g,''),_0x42fb52=_0x506810['internalContext']?.[_0x5a418b(0x44d)+_0x456c05];if(_0x42fb52){const _0x1ce683=_0x101396[_0x5a418b(0x952)][_0x42fb52];_0x1ce683&&(_0x41f5c8=_0x5a418b(0xab0)+JSON['stringify'](_0x1ce683)+_0x5a418b(0xb85)+_0x41f5c8);}}return _0x41f5c8;}(_0x4e795c['accumulated'][_0x326dc0(0x3f8)][_0x326dc0(0x9ac)]('\x0a\x0a'),_0x47961c,_0x4e795c,_0x2e8669);let _0x320068=_0x51d046;if(_0x4e795c[_0x326dc0(0xa95)][_0x326dc0(0x824)]){_0x326dc0(0x924)==typeof _0x320068&&(_0x320068=[],_0x320068['push']({'type':_0x326dc0(0x89d),'text':_0x51d046}));for(const _0x32c1c6 of _0x4e795c[_0x326dc0(0xa95)][_0x326dc0(0x824)])_0x320068[_0x326dc0(0x247)]({'type':_0x326dc0(0x347),'file':{'filename':(0x0,_0xafe7f0['v4'])()+_0x326dc0(0x4fe),'file_data':_0x326dc0(0x531)+_0x32c1c6}});}if(_0x4e795c[_0x326dc0(0xa95)][_0x326dc0(0x8f1)]){'string'==typeof _0x320068&&(_0x320068=[],_0x320068[_0x326dc0(0x247)]({'type':'text','text':_0x51d046}));for(const _0x53c16d of _0x4e795c[_0x326dc0(0xa95)]['images'])_0x320068[_0x326dc0(0x247)]({'type':_0x326dc0(0x591),'image_url':{'url':'data:'+_0x53c16d}});}if(_0x4e795c[_0x326dc0(0xa95)][_0x326dc0(0x736)]){_0x326dc0(0x924)==typeof _0x320068&&(_0x320068=[],_0x320068['push']({'type':_0x326dc0(0x89d),'text':_0x51d046}));for(const _0x264b96 of _0x4e795c['accumulated']['medias']){let _0x12f9a1;_0x264b96['startsWith'](_0x326dc0(0xa7e))?_0x12f9a1=_0x326dc0(0x45d):_0x264b96['startsWith'](_0x326dc0(0x992))&&(_0x12f9a1=_0x326dc0(0x4a5)),_0x12f9a1&&_0x320068[_0x326dc0(0x247)]({'type':_0x326dc0(0x2bf),'input_audio':{'data':'data:'+_0x264b96,'format':_0x12f9a1}});}}_0x8c0a10[_0x326dc0(0x247)]({'role':_0x326dc0(0x532),'content':_0x1dad05(_0x2b6d58['instructions']??'',_0x4e795c,_0x28e26f)}),_0x8c0a10['push'](..._0x2b6d58[_0x326dc0(0xbf3)]?.['map'](_0x3d6bdd=>({'role':_0x3d6bdd[_0x326dc0(0x34d)]===_0x52458b['PromptSource'][_0x326dc0(0x58e)]?'user':_0x326dc0(0x690),'content':_0x3d6bdd['message']}))??[]),_0x8c0a10[_0x326dc0(0x247)]({'role':'user','content':_0x320068});const _0x1341ec=_0x2e8669[_0x326dc0(0x675)](_0x242b8c=>_0x242b8c[_0x326dc0(0xbbc)]?.[_0x326dc0(0x427)](_0x185655=>_0x185655[_0x326dc0(0xb27)]===_0x4e795c[_0x326dc0(0xb27)]&&_0x185655[_0x326dc0(0xbdd)]===_0x81f8f3[_0x326dc0(0xa43)]))['flatMap'](_0x2f1c15=>_0x4701ea(_0x2f1c15,_0x2e8669,_0x2b6d58));let _0x15036d;if(_0x313761){const _0x310d28=_0x4e795c[_0x326dc0(0xbbc)]?.['some'](_0x37b2ae=>_0x37b2ae[_0x326dc0(0xbdd)]===_0x81f8f3[_0x326dc0(0x209)]&&(_0x2e8669[_0x326dc0(0x319)](_0x1c593f=>_0x1c593f[_0x326dc0(0xb27)]===_0x37b2ae[_0x326dc0(0xb27)])?.[_0x326dc0(0xbdd)]===_0xa515c[_0x326dc0(0xa14)]||_0x2e8669[_0x326dc0(0x319)](_0x53fff0=>_0x53fff0[_0x326dc0(0xb27)]===_0x37b2ae[_0x326dc0(0xb27)])?.[_0x326dc0(0xbbc)]?.['some'](_0x5029d8=>_0x5029d8['type']===_0x81f8f3[_0x326dc0(0x6ef)]&&_0x2e8669[_0x326dc0(0x319)](_0x55652a=>_0x55652a[_0x326dc0(0xb27)]===_0x5029d8[_0x326dc0(0xb27)])?.[_0x326dc0(0xbdd)]===_0xa515c[_0x326dc0(0x8f5)])))??!0x1,_0x1f8922=await fetch(_0x2fd4ca[_0x326dc0(0xc43)]+_0x326dc0(0x712),{'method':_0x326dc0(0x6e0),'headers':{'Accept':_0x326dc0(0x3af),'Content-Type':_0x326dc0(0xbf0),'x-vendor-id':_0x2b6d58[_0x326dc0(0x649)]},'body':JSON[_0x326dc0(0x320)]({'model':_0x4e795c['modelId'],'messages':_0x8c0a10,'max_completion_tokens':_0x4e795c[_0x326dc0(0x6df)],'temperature':_0x4e795c[_0x326dc0(0x7fc)],'metadata':{'threadId':_0x2b6d58['threadId'],'agentId':_0x1ab3c5,'jobId':_0x1190ff,'workflowId':_0x2b6d58[_0x326dc0(0x9cb)],'context':_0x47961c['internalContext']??{}},'structured_output':_0x4e795c[_0x326dc0(0xc30)],'tools':_0x1341ec,'stream':!0x0,'stream_options':{'include_usage':!0x0}})});if(!_0x1f8922['ok']||!_0x1f8922[_0x326dc0(0x8f4)])return console[_0x326dc0(0x33b)](_0x326dc0(0x9de)),void _0x313761[_0x326dc0(0x2e0)](void 0x0);const _0x150fd4=_0x1f8922[_0x326dc0(0x8f4)][_0x326dc0(0x760)](),_0x1ca717=new TextDecoder();let _0x4d78ed='';for(;;){const {value:_0x38e6fb,done:_0x4acd38}=await _0x150fd4[_0x326dc0(0xa63)]();if(_0x4acd38)break;const _0x246adf=_0x1ca717[_0x326dc0(0xb5f)](_0x38e6fb,{'stream':!0x0});if(_0x326dc0(0x45e)===_0x246adf)break;_0x4d78ed+=_0x246adf;const _0x9d6181=_0x4d78ed[_0x326dc0(0x3ca)]('\x0a\x0a');if(_0x4d78ed=_0x9d6181[_0x326dc0(0x984)](),0x0===_0x9d6181['length'])continue;const _0x1dc2d5=_0x5c0e32(_0x9d6181[_0x326dc0(0x9ac)]('\x0a\x0a'));for(const _0x1ec73c of _0x1dc2d5)_0x1ec73c[_0x326dc0(0x806)]&&_0x1ec73c[_0x326dc0(0x806)][0x0]&&(_0x310d28&&(_0x313761['emit']({'output':_0x1ec73c[_0x326dc0(0x806)][0x0]['delta'][_0x326dc0(0x816)],'type':_0x326dc0(0x3f8)}),await _0x37fc55[_0x326dc0(0xc22)](0x1)),_0x2e9f4e+=_0x1ec73c[_0x326dc0(0x806)][0x0][_0x326dc0(0x881)]['content']??'',_0x1f8526=_0x1ec73c[_0x326dc0(0x966)]?.[_0x326dc0(0x694)]??0x0,_0x44251f=_0x1ec73c['usage']?.['completion_tokens']??0x0,_0x47961c[_0x326dc0(0x3d8)]={..._0x47961c[_0x326dc0(0x3d8)],..._0x1ec73c[_0x326dc0(0x560)]},_0x1ec73c[_0x326dc0(0x347)]&&(_0x15036d=_0x1ec73c[_0x326dc0(0x347)]));}_0x47961c[_0x326dc0(0x883)]=(_0x47961c[_0x326dc0(0x883)]??0x0)+_0x44251f,_0x47961c[_0x326dc0(0x7ab)]=(_0x47961c[_0x326dc0(0x7ab)]??0x0)+_0x1f8526,_0x313761[_0x326dc0(0x2e0)]({'output':_0x310d28?'\x0a\x0a':'','type':_0x326dc0(0x3f8)}),await _0x37fc55[_0x326dc0(0xc22)](0x1);}else{const _0x7a6037=await fetch(_0x2fd4ca[_0x326dc0(0xc43)]+_0x326dc0(0x712),{'method':'POST','headers':{'Content-Type':_0x326dc0(0xbf0),'x-vendor-id':_0x2b6d58[_0x326dc0(0x649)]},'body':JSON[_0x326dc0(0x320)]({'model':_0x4e795c[_0x326dc0(0xc0a)],'messages':_0x8c0a10,'max_completion_tokens':_0x4e795c['maxTokens'],'temperature':_0x4e795c['temperature'],'metadata':{'threadId':_0x2b6d58[_0x326dc0(0x6b7)],'agentId':_0x1ab3c5,'jobId':_0x1190ff,'workflowId':_0x2b6d58[_0x326dc0(0x9cb)],'context':_0x47961c['internalContext']??{}},'structured_output':_0x4e795c[_0x326dc0(0xc30)],'tools':_0x1341ec})}),_0xe38c9d=await _0x7a6037[_0x326dc0(0x731)]();_0x2e9f4e=_0xe38c9d[_0x326dc0(0x806)][0x0][_0x326dc0(0x5c1)][_0x326dc0(0x816)],_0x1f8526=_0xe38c9d['usage'][_0x326dc0(0x694)],_0x44251f=_0xe38c9d['usage'][_0x326dc0(0x60d)],_0x47961c[_0x326dc0(0x7ac)]=_0x2e9f4e,_0x47961c[_0x326dc0(0x3d8)]={..._0x47961c[_0x326dc0(0x3d8)],..._0xe38c9d['context']},_0x47961c[_0x326dc0(0x883)]=(_0x47961c[_0x326dc0(0x883)]??0x0)+_0x44251f,_0x47961c[_0x326dc0(0x7ab)]=(_0x47961c[_0x326dc0(0x7ab)]??0x0)+_0x1f8526,_0xe38c9d[_0x326dc0(0x347)]&&(_0x15036d=_0xe38c9d[_0x326dc0(0x347)]);}if(_0x4e795c[_0x326dc0(0xae5)]&&(_0x47961c['internalContext']||(_0x47961c[_0x326dc0(0x3d8)]={}),_0x47961c[_0x326dc0(0x3d8)][_0x4e795c[_0x326dc0(0xae5)]]=_0x2e9f4e),await _0x4bd72a[_0x326dc0(0x756)]({'jobType':_0x2012ea[_0x326dc0(0x95b)],'type':_0x216952[_0x326dc0(0xa72)],'jobId':_0x1190ff,'agentId':_0x1ab3c5,'threadId':_0x2b6d58[_0x326dc0(0x6b7)],'traceLevel':_0x437662[_0x326dc0(0x1e8)],'startTime':_0x3b8c9e,'timestamp':Date[_0x326dc0(0xad3)](),'blockId':_0x4e795c['id'],'status':_0x326dc0(0xbb4),'output':_0x2e9f4e,'prompt':_0x51d046,'agentName':_0x4e795c[_0x326dc0(0xbbd)],'history':[],'instructions':''+_0x4e795c[_0x326dc0(0x820)]+(_0x2b6d58[_0x326dc0(0x820)]??''),'ragContext':[],'inputTokens':_0x1f8526??0x0,'outputTokens':_0x44251f??0x0}),_0x15036d){const _0x42e407=_0x15036d[_0x326dc0(0x3ca)](','),_0x17b4c3=_0x42e407[0x0][_0x326dc0(0xb00)](_0x326dc0(0x531),'')['replace'](_0x326dc0(0x6c4),''),_0x4c60d4=_0x17b4c3['split']('/')[0x1],_0x321ba1=_0x42e407[0x1],_0xe0ad08=Uint8Array['from'](Buffer[_0x326dc0(0xad6)](_0x321ba1,_0x326dc0(0x39e))),_0x594f3c=new Blob([_0xe0ad08],{'type':_0x17b4c3}),_0x564f84=new File([_0x594f3c],(0x0,_0xafe7f0['v4'])()+'.'+_0x4c60d4,{'type':_0x17b4c3}),_0x3b109e=_0x2e8669[_0x326dc0(0x319)](_0x336f04=>_0x336f04[_0x326dc0(0xbdd)]===_0xa515c[_0x326dc0(0xa14)]&&_0x4e795c[_0x326dc0(0xbbc)]?.[_0x326dc0(0x427)](_0xde5919=>_0xde5919[_0x326dc0(0xb27)]===_0x336f04[_0x326dc0(0xb27)]));_0x3b109e&&(_0x3b109e['accumulated']||(_0x3b109e[_0x326dc0(0xa95)]={}),_0x3b109e['accumulated'][_0x326dc0(0x347)]=_0x564f84);}if('if_else'===_0x4e795c[_0x326dc0(0xc30)])try{_0x2e9f4e=JSON[_0x326dc0(0xb6b)](_0x2e9f4e)['condition_result']?_0x326dc0(0x354):'false';}catch(_0x2944d7){console[_0x326dc0(0x33b)]('Error\x20parsing\x20JSON:',_0x2e9f4e),_0x2e9f4e=_0x326dc0(0xa36);}await _0x4fac30(_0x1190ff,_0x2e9f4e,_0x2b6d58,_0x47961c,_0x4e795c,_0x2e8669,_0x464147,_0x313761);}function _0x1dad05(_0x4ef744,_0x423c0e,_0x49f59a){const _0x1b0508=_0x4a13a;let _0x323138='';return _0x49f59a[_0x1b0508(0x28f)]&&''!==_0x49f59a[_0x1b0508(0x28f)]&&(_0x323138=_0x1b0508(0x397)+_0x49f59a[_0x1b0508(0x28f)]+'\x0a\x0a'),_0x323138=_0x323138+'Today\x20Date:\x20'+new Date()[_0x1b0508(0xbe9)](void 0x0,{'weekday':_0x1b0508(0xbb3),'year':_0x1b0508(0x4d3),'month':_0x1b0508(0xbb3),'day':_0x1b0508(0x4d3)})+'\x0a\x0a',''+_0x323138+_0x423c0e[_0x1b0508(0x820)]+_0x4ef744;}function _0x5c0e32(_0x5161a4){const _0x1f0203=_0x4a13a;return _0x5161a4['split'](_0x1f0203(0x486))[_0x1f0203(0x275)](_0x5e61ac=>_0x5e61ac[_0x1f0203(0xb00)](_0x1f0203(0xacf),'')[_0x1f0203(0x31a)]())['filter'](_0x336f44=>''!==_0x336f44)[_0x1f0203(0x275)](_0x102c2a=>{const _0x36cbac=_0x1f0203;if(_0x36cbac(0x376)===_0x102c2a)return null;try{return JSON['parse'](_0x102c2a);}catch(_0x273b64){return console['error'](_0x36cbac(0x686),_0x102c2a),null;}})[_0x1f0203(0x675)](_0x3881b9=>null!==_0x3881b9);}async function _0x2c021a(_0x176227,_0x2fb2da,_0x12f0c0,_0x42935c,_0x287b96,_0xbe1c98,_0x373c2e){const _0x4fb4ff=_0x4a13a,_0x24180a=_0x4fb4ff(0x853)+_0x287b96['description']+_0x4fb4ff(0x89a),_0x1d7046={'prompt':{'type':_0x52458b[_0x4fb4ff(0x2d4)][_0x4fb4ff(0x7da)]}};return await _0x4bd72a[_0x4fb4ff(0x756)]({'jobType':_0x2012ea[_0x4fb4ff(0x411)],'type':_0x2f7837[_0x4fb4ff(0x1fc)],'jobId':_0x176227,'agentId':_0x2fb2da,'threadId':_0x12f0c0['threadId'],'traceLevel':_0x437662[_0x4fb4ff(0x1e8)],'startTime':Date[_0x4fb4ff(0xad3)](),'timestamp':Date[_0x4fb4ff(0xad3)](),'status':_0x4fb4ff(0xbb4),'function':_0x21b1e8[_0x4fb4ff(0x7a2)],'params':_0x1d7046,'functionDescription':_0x24180a}),{'description':_0x24180a,'params':_0x1d7046,'callback':async _0x39ee43=>_0x283f7a(_0x12f0c0[_0x4fb4ff(0x649)],_0x287b96,_0xbe1c98,_0x39ee43,_0x42935c,_0x176227,_0x2fb2da,_0x12f0c0[_0x4fb4ff(0x9cb)],_0x12f0c0['threadId'],_0x373c2e)};}async function _0x283f7a(_0x1cb952,_0x200808,_0x49d482,_0x3623d2,_0x59c00e,_0x3a994e,_0x538aa3,_0x4ed4cc,_0x6d121a,_0x4c3819){const _0x52d37a=_0x4a13a,_0x421b1c=Date['now']();try{if('string'!=typeof _0x3623d2?.[_0x52d37a(0x3f8)])throw new Error(_0x52d37a(0x585));if(!_0x49d482[_0x52d37a(0x911)]['find'](_0x1d0379=>_0x1d0379['id']===_0x200808[_0x52d37a(0xc0a)]))throw new Error(_0x52d37a(0xa67));let _0x4ad7d1='',_0x5bd0a0=[];if(_0x200808['instructions']&&_0x5bd0a0[_0x52d37a(0x247)]({'role':_0x52d37a(0x532),'content':_0x200808[_0x52d37a(0x820)]}),_0x5bd0a0[_0x52d37a(0x247)]({'role':'user','content':_0x3623d2[_0x52d37a(0x3f8)]}),_0x4c3819&&_0x200808[_0x52d37a(0x547)]){const _0x2e369d=await fetch(_0x2fd4ca[_0x52d37a(0xc43)]+_0x52d37a(0x712),{'method':_0x52d37a(0x6e0),'headers':{'Accept':_0x52d37a(0x3af),'Content-Type':'application/json','x-vendor-id':_0x1cb952},'body':JSON[_0x52d37a(0x320)]({'model':_0x200808[_0x52d37a(0xc0a)],'messages':_0x5bd0a0,'max_completion_tokens':_0x200808[_0x52d37a(0x6df)],'temperature':_0x200808[_0x52d37a(0x7fc)],'tools':_0x200808[_0x52d37a(0x31e)],'structured_output':_0x200808[_0x52d37a(0xc30)],'metadata':{'threadId':_0x6d121a,'jobId':_0x3a994e,'agentId':_0x538aa3,'workflowId':_0x4ed4cc,'context':_0x59c00e?.[_0x52d37a(0x3d8)]??{}},'stream':!0x0,'stream_options':{'include_usage':!0x0}})});if(!_0x2e369d['ok']||!_0x2e369d[_0x52d37a(0x8f4)])return console[_0x52d37a(0x33b)]('Error\x20processing\x20agent\x20block'),_0x4c3819['emit'](void 0x0),_0x52d37a(0x20d);const _0x1fab9b=_0x2e369d[_0x52d37a(0x8f4)][_0x52d37a(0x760)](),_0x39519c=new TextDecoder();let _0x29b263=0x0,_0x1d79e0=0x0,_0x215783='';for(;;){const {value:_0x46a120,done:_0x44b279}=await _0x1fab9b['read']();if(_0x44b279)break;const _0x1064cd=_0x39519c[_0x52d37a(0xb5f)](_0x46a120,{'stream':!0x0});if(_0x52d37a(0x45e)===_0x1064cd)break;const _0x5981ba=_0x5c0e32(_0x1064cd);for(const _0x38a0ad of _0x5981ba)_0x38a0ad[_0x52d37a(0x806)]&&_0x38a0ad[_0x52d37a(0x806)][0x0]&&(_0x215783+=_0x38a0ad['choices'][0x0][_0x52d37a(0x881)][_0x52d37a(0x816)],_0x29b263+=_0x38a0ad[_0x52d37a(0x966)]?.[_0x52d37a(0x9fe)]??0x0,_0x1d79e0+=_0x38a0ad[_0x52d37a(0x966)]?.['output_tokens']??0x0,_0x59c00e&&(_0x59c00e[_0x52d37a(0x3d8)]={..._0x59c00e[_0x52d37a(0x3d8)],..._0x38a0ad[_0x52d37a(0x560)]}),_0x4c3819[_0x52d37a(0x2e0)]({'output':_0x38a0ad['choices'][0x0][_0x52d37a(0x881)][_0x52d37a(0x816)],'type':_0x52d37a(0x3f8)}),await _0x37fc55[_0x52d37a(0xc22)](0x1));}_0x59c00e&&(_0x59c00e[_0x52d37a(0x883)]=(_0x59c00e[_0x52d37a(0x883)]??0x0)+_0x1d79e0,_0x59c00e[_0x52d37a(0x7ab)]=(_0x59c00e[_0x52d37a(0x7ab)]??0x0)+_0x29b263,_0x200808[_0x52d37a(0xae5)]&&(_0x59c00e[_0x52d37a(0x3d8)]||(_0x59c00e[_0x52d37a(0x3d8)]={}),_0x59c00e[_0x52d37a(0x3d8)][_0x200808[_0x52d37a(0xae5)]]=_0x215783)),_0x4c3819[_0x52d37a(0x2e0)]({'output':'\x0a\x0a','type':_0x52d37a(0x3f8)}),await _0x37fc55[_0x52d37a(0xc22)](0x1),_0x4ad7d1=_0x52d37a(0x95f);}else{const _0x1128bf=await fetch(_0x2fd4ca[_0x52d37a(0xc43)]+'/chat/completions',{'method':_0x52d37a(0x6e0),'headers':{'Content-Type':'application/json','x-vendor-id':_0x1cb952},'body':JSON[_0x52d37a(0x320)]({'model':_0x200808['modelId'],'messages':_0x5bd0a0,'max_completion_tokens':_0x200808[_0x52d37a(0x6df)],'temperature':_0x200808[_0x52d37a(0x7fc)],'tools':_0x200808['tools'],'structured_output':_0x200808[_0x52d37a(0xc30)],'metadata':{'threadId':_0x6d121a,'jobId':_0x3a994e,'agentId':_0x538aa3,'workflowId':_0x4ed4cc,'context':_0x59c00e?.[_0x52d37a(0x3d8)]??{}}})}),_0x52b066=await _0x1128bf['json']();_0x4ad7d1=_0x52b066[_0x52d37a(0x806)][0x0]['message'][_0x52d37a(0x816)],_0x59c00e&&(_0x59c00e['internalContext']={..._0x59c00e[_0x52d37a(0x3d8)],..._0x52b066[_0x52d37a(0x560)]},_0x59c00e['outputTokens']=(_0x59c00e[_0x52d37a(0x883)]??0x0)+_0x52b066['usage'][_0x52d37a(0x60d)],_0x59c00e[_0x52d37a(0x7ab)]=(_0x59c00e[_0x52d37a(0x7ab)]??0x0)+_0x52b066[_0x52d37a(0x966)][_0x52d37a(0x694)],_0x200808[_0x52d37a(0xae5)]&&(_0x59c00e[_0x52d37a(0x3d8)]||(_0x59c00e[_0x52d37a(0x3d8)]={}),_0x59c00e[_0x52d37a(0x3d8)][_0x200808['contextOutputVariable']]=_0x4ad7d1));}if(_0x52d37a(0x924)!=typeof _0x4ad7d1)throw new Error(_0x52d37a(0xbff));return _0x3a994e&&_0x538aa3&&_0x6d121a&&await _0x4bd72a[_0x52d37a(0x756)]({'jobType':_0x2012ea[_0x52d37a(0x71a)],'type':_0x21b1e8['ExecuteAgent'],'jobId':_0x3a994e,'blockId':_0x52d37a(0x7b0),'agentId':_0x538aa3,'threadId':_0x6d121a,'traceLevel':_0x437662[_0x52d37a(0x1e8)],'startTime':_0x421b1c,'timestamp':Date[_0x52d37a(0xad3)](),'status':_0x52d37a(0xbb4),'agentName':_0x200808[_0x52d37a(0xbbd)],'prompt':_0x3623d2['prompt'],'instructions':_0x200808[_0x52d37a(0x820)]??'','result':_0x4ad7d1,'inputTokens':0x0,'outputTokens':0x0}),_0x4ad7d1;}catch(_0x28ad76){return console['error'](_0x28ad76),_0x3a994e&&_0x538aa3&&_0x6d121a&&await _0x4bd72a['trace']({'jobType':_0x2012ea[_0x52d37a(0x71a)],'type':_0x21b1e8['ExecuteAgent'],'jobId':_0x3a994e,'blockId':_0x52d37a(0x7b0),'agentId':_0x538aa3,'threadId':_0x6d121a,'traceLevel':_0x437662['Info'],'startTime':_0x421b1c,'timestamp':Date['now'](),'status':_0x52d37a(0x33b),'errorDetails':_0x2f092b(_0x28ad76),'agentName':_0x200808[_0x52d37a(0xbbd)],'prompt':_0x3623d2?.[_0x52d37a(0x3f8)]??'','instructions':_0x200808['instructions']??'','result':'','inputTokens':0x0,'outputTokens':0x0}),_0x28ad76 instanceof Error?_0x28ad76[_0x52d37a(0x5c1)]:'Error\x20executing\x20agent';}}async function _0x72570b(_0x34d7f8,_0x561919,_0x58dd08,_0xa5364f,_0x338978,_0x50565a){const _0x26bfb4=_0x4a13a,_0x2b9f7d=Date[_0x26bfb4(0xad3)]();try{if(!_0x561919['aiSearchConnector'])throw new Error(_0x26bfb4(0x96a));if(!_0x34d7f8[_0x26bfb4(0xc0a)])throw new Error(_0x26bfb4(0x6cf));if(_0x26bfb4(0x924)!=typeof _0x58dd08?.[_0x26bfb4(0x322)])throw new Error(_0x26bfb4(0xa33));const _0x3d6e76=await _0x561919[_0x26bfb4(0x8ef)][_0x26bfb4(0x4ce)](_0x58dd08[_0x26bfb4(0x322)],_0x34d7f8[_0x26bfb4(0xc0a)]);return _0xa5364f&&_0x338978&&_0x50565a&&(await _0x4bd72a[_0x26bfb4(0xbec)](_0xa5364f,_0x34d7f8[_0x26bfb4(0xc0a)],_0x3d6e76[_0x26bfb4(0x7ab)],_0x3d6e76[_0x26bfb4(0x883)]),console['log'](new Date()+'\x20Ai\x20search\x20final\x20response',_0x34d7f8[_0x26bfb4(0xc0a)],_0x3d6e76[_0x26bfb4(0x7ab)],_0x3d6e76[_0x26bfb4(0x883)]),await _0x4bd72a['trace']({'jobType':_0x2012ea[_0x26bfb4(0x71a)],'type':_0x21b1e8[_0x26bfb4(0x37e)],'jobId':_0xa5364f,'agentId':_0x338978,'threadId':_0x50565a,'blockId':_0x26bfb4(0x2cb),'traceLevel':_0x437662[_0x26bfb4(0x1e8)],'startTime':_0x2b9f7d,'timestamp':Date['now'](),'status':_0x26bfb4(0xbb4),'query':_0x58dd08[_0x26bfb4(0x322)],'results':_0x3d6e76[_0x26bfb4(0x7ac)]})),_0x3d6e76['output'];}catch(_0x46b721){return console[_0x26bfb4(0x33b)](_0x46b721),_0xa5364f&&_0x338978&&_0x50565a&&await _0x4bd72a['trace']({'jobType':_0x2012ea[_0x26bfb4(0x71a)],'type':_0x21b1e8['SearchPerplexity'],'jobId':_0xa5364f,'blockId':'ai-search','traceLevel':_0x437662[_0x26bfb4(0x1e8)],'startTime':_0x2b9f7d,'timestamp':Date['now'](),'status':_0x26bfb4(0x33b),'errorDetails':_0x2f092b(_0x46b721),'agentId':_0x338978,'threadId':_0x50565a,'query':_0x58dd08?.[_0x26bfb4(0x322)]??'','results':'Error\x20searching'}),_0x46b721 instanceof Error?_0x46b721[_0x26bfb4(0x5c1)]:_0x26bfb4(0x4cb);}}async function _0x2eee4f(_0x576f56,_0x54ce41,_0x5603af,_0x269616){const _0x3a1cf1=_0x4a13a,_0x7d211c=Date[_0x3a1cf1(0xad3)]();try{if(_0x3a1cf1(0x924)!=typeof _0x576f56?.[_0x3a1cf1(0x6c2)])throw new Error(_0x3a1cf1(0x5de));const _0x3d86b8=Function(''+_0x576f56?.[_0x3a1cf1(0x6c2)])();let _0x49b173='';try{_0x49b173=JSON['stringify'](_0x3d86b8);}catch{_0x49b173=_0x3d86b8['toString']();}return _0x54ce41&&_0x5603af&&_0x269616&&await _0x4bd72a[_0x3a1cf1(0x756)]({'jobType':_0x2012ea['Skill'],'type':_0x21b1e8[_0x3a1cf1(0x5a5)],'agentId':_0x5603af,'threadId':_0x269616,'jobId':_0x54ce41,'blockId':_0x3a1cf1(0x6c2),'traceLevel':_0x437662[_0x3a1cf1(0x1e8)],'startTime':_0x7d211c,'timestamp':Date[_0x3a1cf1(0xad3)](),'status':_0x3a1cf1(0xbb4),'code':_0x576f56[_0x3a1cf1(0x6c2)],'result':_0x49b173}),_0x3d86b8;}catch(_0x3d6602){return console[_0x3a1cf1(0x33b)](_0x3d6602),_0x54ce41&&_0x5603af&&_0x269616&&await _0x4bd72a[_0x3a1cf1(0x756)]({'jobType':_0x2012ea[_0x3a1cf1(0x71a)],'type':_0x21b1e8[_0x3a1cf1(0x5a5)],'jobId':_0x54ce41,'blockId':_0x3a1cf1(0x6c2),'traceLevel':_0x437662[_0x3a1cf1(0x1e8)],'startTime':_0x7d211c,'timestamp':Date[_0x3a1cf1(0xad3)](),'status':_0x3a1cf1(0x33b),'errorDetails':_0x2f092b(_0x3d6602),'agentId':_0x5603af,'threadId':_0x269616,'code':_0x576f56?.[_0x3a1cf1(0x6c2)]??'','result':_0x3a1cf1(0xc0e)}),_0x3d6602 instanceof Error?_0x3d6602[_0x3a1cf1(0x5c1)]:_0x3a1cf1(0xc0e);}}async function _0x348c61(_0xb84891,_0x5f1e58,_0x56ce71,_0x2edf4e,_0xd34a84){const _0xb39570=_0x4a13a,_0x410dc3=_0xb39570(0xa4b)+_0xd34a84['description']+'\x20when\x20you\x20need\x20contextual\x20data\x20to\x20inform\x20your\x20response.',_0x41fa40={'queryOrPrompt':{'type':_0x52458b[_0xb39570(0x2d4)][_0xb39570(0x7da)]}};return await _0x4bd72a[_0xb39570(0x756)]({'jobType':_0x2012ea['JobContext'],'type':_0x2f7837['LoadKnowledgeFunction'],'jobId':_0xb84891,'agentId':_0x5f1e58,'threadId':_0x56ce71[_0xb39570(0x6b7)],'blockId':_0xb39570(0x230),'traceLevel':_0x437662['Info'],'startTime':Date[_0xb39570(0xad3)](),'timestamp':Date[_0xb39570(0xad3)](),'status':'success','function':_0x2323bc['GetContextQuery'],'params':_0x41fa40,'functionDescription':_0x410dc3}),{'description':_0x410dc3,'params':_0x41fa40,'callback':async _0x2d4f6d=>_0x5ad288(_0x56ce71[_0xb39570(0x649)],_0xd34a84,_0x2d4f6d,_0x2edf4e,_0xb84891,_0x5f1e58,_0x56ce71[_0xb39570(0x6b7)])};}async function _0x5ad288(_0x57b60b,_0x197155,_0xf503e9,_0x60b25c,_0x51093c,_0x124bf0,_0x2d1a52){const _0x40ff6a=_0x4a13a,_0x2baa40=Date[_0x40ff6a(0xad3)]();try{if(_0x40ff6a(0x924)!=typeof _0xf503e9?.['queryOrPrompt'])throw new Error(_0x40ff6a(0xa33));let _0x4785c6=_0x2fd4ca[_0x40ff6a(0xc43)]+'/vector_stores/'+_0x197155[_0x40ff6a(0xa2a)];_0x197155[_0x40ff6a(0x541)]&&(_0x4785c6+=_0x40ff6a(0xb32)+_0x197155[_0x40ff6a(0x541)]);const _0x862d8e=await fetch(_0x4785c6+_0x40ff6a(0xbc5),{'method':'POST','headers':{'Content-Type':_0x40ff6a(0xbf0),'x-vendor-id':_0x57b60b},'body':JSON[_0x40ff6a(0x320)]({'query':_0xf503e9[_0x40ff6a(0xc28)]})}),_0x137f61=((await _0x862d8e[_0x40ff6a(0x731)]())[_0x40ff6a(0x728)]??[])[_0x40ff6a(0x275)](_0x5e2983=>({'pathName':_0x5e2983[_0x40ff6a(0xa7d)],'relevance':_0x5e2983[_0x40ff6a(0x8a6)],'content':_0x5e2983['content'][_0x40ff6a(0x89d)]}));return _0x60b25c&&(_0x60b25c[_0x40ff6a(0x560)]=Array[_0x40ff6a(0xad6)](new Set([..._0x60b25c[_0x40ff6a(0x560)]??[],..._0x137f61]))),_0x51093c&&_0x124bf0&&_0x2d1a52&&await _0x4bd72a[_0x40ff6a(0x756)]({'jobType':_0x2012ea[_0x40ff6a(0x570)],'type':_0x2323bc[_0x40ff6a(0x5cd)],'jobId':_0x51093c,'blockId':_0x40ff6a(0x230),'agentId':_0x124bf0,'threadId':_0x2d1a52,'traceLevel':_0x437662[_0x40ff6a(0x1e8)],'startTime':_0x2baa40,'timestamp':Date['now'](),'status':_0x40ff6a(0xbb4),'query':_0xf503e9['queryOrPrompt'],'context':_0x137f61??[],'inputTokens':0x0,'outputTokens':0x0}),_0x137f61[_0x40ff6a(0x624)]((_0x49e1e9,_0x58dc41)=>_0x49e1e9+'\x0a'+_0x58dc41[_0x40ff6a(0x816)],'');}catch(_0xca9106){return console[_0x40ff6a(0x33b)](_0xca9106),_0x51093c&&_0x124bf0&&_0x2d1a52&&await _0x4bd72a['trace']({'jobType':_0x2012ea['Knowledge'],'type':_0x2323bc['GetContextResult'],'jobId':_0x51093c,'blockId':_0x40ff6a(0x230),'agentId':_0x124bf0,'threadId':_0x2d1a52,'traceLevel':_0x437662[_0x40ff6a(0x1e8)],'startTime':_0x2baa40,'timestamp':Date['now'](),'status':_0x40ff6a(0x33b),'errorDetails':_0x2f092b(_0xca9106),'query':_0xf503e9?.[_0x40ff6a(0xc28)]??'','context':[],'inputTokens':0x0,'outputTokens':0x0}),_0xca9106 instanceof Error?_0xca9106[_0x40ff6a(0x5c1)]:_0x40ff6a(0x552);}}async function _0x4cfb7d(_0x52452b,_0x317482,_0x3116c5,_0x12adea,_0x1b7124){const _0x51bb18=_0x4a13a,_0xa350dd={};for(const _0x4d311a of _0x1b7124['parameters']??[])switch(_0x4d311a[_0x51bb18(0xbdd)]){case _0x51bb18(0x924):case'json':_0xa350dd[_0x4d311a['name']]={'type':_0x52458b['PromptFunctionParamsType'][_0x51bb18(0x7da)]};break;case _0x51bb18(0x7ad):_0xa350dd[_0x4d311a[_0x51bb18(0xbbd)]]={'type':_0x52458b['PromptFunctionParamsType'][_0x51bb18(0x4a7)]};break;case _0x51bb18(0xc45):_0xa350dd[_0x4d311a['name']]={'type':_0x52458b['PromptFunctionParamsType'][_0x51bb18(0x5a4)]};}return await _0x4bd72a[_0x51bb18(0x756)]({'jobType':_0x2012ea[_0x51bb18(0x411)],'type':_0x2f7837[_0x51bb18(0x1fc)],'jobId':_0x52452b,'agentId':_0x317482,'threadId':_0x3116c5,'traceLevel':_0x437662[_0x51bb18(0x1e8)],'startTime':Date[_0x51bb18(0xad3)](),'timestamp':Date[_0x51bb18(0xad3)](),'status':_0x51bb18(0xbb4),'function':_0x21b1e8[_0x51bb18(0x53f)],'params':_0xa350dd,'functionDescription':_0x1b7124[_0x51bb18(0xa1b)]??''}),{'description':_0x51bb18(0x28e)+_0x1b7124[_0x51bb18(0xa1b)],'params':_0xa350dd,'callback':async _0x5ca973=>_0x5406b8(_0x1b7124,_0x5ca973,_0x12adea,_0x52452b,_0x317482,_0x3116c5)};}async function _0x5406b8(_0x22a3bf,_0x53c370,_0x58cd73,_0x214a34,_0x2dd9d1,_0x5cbedc){const _0x4472a=_0x4a13a,_0x457b67=Date[_0x4472a(0xad3)]();try{if(!_0x53c370)throw new Error(_0x4472a(0x405));for(const _0x4e6cbc of _0x22a3bf[_0x4472a(0x6a8)]??[]){if(void 0x0===_0x53c370[_0x4e6cbc[_0x4472a(0xbbd)]])throw new Error(_0x4472a(0x6bd)+_0x4e6cbc[_0x4472a(0xbbd)]+_0x4472a(0x343));if('string'===_0x4e6cbc['type']&&'string'!=typeof _0x53c370[_0x4e6cbc[_0x4472a(0xbbd)]])throw new Error(_0x4472a(0x6bd)+_0x4e6cbc['name']+_0x4472a(0x365));if(_0x4472a(0x7ad)===_0x4e6cbc['type']&&_0x4472a(0x7ad)!=typeof _0x53c370[_0x4e6cbc[_0x4472a(0xbbd)]])throw new Error('Parameter\x20'+_0x4e6cbc[_0x4472a(0xbbd)]+_0x4472a(0x87a));if(_0x4472a(0xc45)===_0x4e6cbc[_0x4472a(0xbdd)]&&_0x4472a(0xc45)!=typeof _0x53c370[_0x4e6cbc[_0x4472a(0xbbd)]])throw new Error(_0x4472a(0x6bd)+_0x4e6cbc['name']+'\x20must\x20be\x20a\x20boolean');if(_0x4472a(0x731)===_0x4e6cbc[_0x4472a(0xbdd)]&&_0x4472a(0x924)!=typeof _0x53c370[_0x4e6cbc[_0x4472a(0xbbd)]])throw new Error(_0x4472a(0x6bd)+_0x4e6cbc['name']+_0x4472a(0x365));if(_0x4472a(0x731)===_0x4e6cbc[_0x4472a(0xbdd)])try{_0x53c370[_0x4e6cbc[_0x4472a(0xbbd)]]=JSON['parse'](_0x53c370[_0x4e6cbc[_0x4472a(0xbbd)]]);}catch{throw new Error(_0x4472a(0x6bd)+_0x4e6cbc[_0x4472a(0xbbd)]+'\x20must\x20be\x20a\x20valid\x20JSON\x20string');}}const _0x46304e={};for(const _0x2bd8b3 of _0x22a3bf[_0x4472a(0x733)]??[]){let _0x409a3c=_0x2bd8b3[_0x4472a(0x1db)];_0x409a3c[_0x4472a(0x777)](/\$[a-zA-Z0-9]+/)&&(_0x409a3c=_0x409a3c[_0x4472a(0xb00)](/\$[a-zA-Z0-9]+/g,_0x2368ce=>{const _0x20fadf=_0x4472a,_0xb708e3=_0x2368ce[_0x20fadf(0x420)](0x1);return _0x53c370[_0xb708e3];})),_0x46304e[_0x2bd8b3[_0x4472a(0xbbd)]]=_0x409a3c;}const _0xdba07f=new URLSearchParams();for(const _0x37a1ac of _0x22a3bf[_0x4472a(0xc40)]??[]){let _0x48bb0b=_0x37a1ac[_0x4472a(0x1db)];if('string'==typeof _0x48bb0b&&_0x48bb0b['startsWith']('$')){const _0x40f8a3=_0x48bb0b[_0x4472a(0x420)](0x1);_0x48bb0b=_0x53c370[_0x40f8a3];}if(_0x4472a(0x924)==typeof _0x48bb0b&&_0x48bb0b[_0x4472a(0x293)]('@context.')){const _0x5645d0=_0x48bb0b[_0x4472a(0xb00)]('@context.','');_0x48bb0b=_0x58cd73?.[_0x4472a(0x3d8)]?.[_0x5645d0];}if(_0x4472a(0x924)==typeof _0x48bb0b&&(_0x48bb0b[_0x4472a(0x293)]('[')&&_0x48bb0b[_0x4472a(0x9b3)](']')||_0x48bb0b[_0x4472a(0x293)]('{')&&_0x48bb0b['endsWith']('}')))try{_0x48bb0b=JSON['parse'](_0x48bb0b);}catch(_0xf49c){console['error'](_0xf49c);}_0xdba07f[_0x4472a(0x6dc)](_0x37a1ac[_0x4472a(0xbbd)],_0x48bb0b);}let _0x11002f,_0x4822b8=_0x22a3bf[_0x4472a(0x64d)]??'';_0xdba07f[_0x4472a(0x7a7)]>0x0&&(_0x4822b8+='?'+_0xdba07f[_0x4472a(0x366)]());for(const _0x29cd4f of _0x22a3bf[_0x4472a(0x9df)]??[]){void 0x0===_0x11002f&&(_0x11002f={});let _0x2547ca=_0x29cd4f[_0x4472a(0x1db)];if(_0x4472a(0x924)==typeof _0x2547ca&&_0x2547ca[_0x4472a(0x293)]('$')){const _0x4a53f5=_0x2547ca['slice'](0x1);_0x2547ca=_0x53c370[_0x4a53f5];}if('string'==typeof _0x2547ca&&_0x2547ca[_0x4472a(0x293)](_0x4472a(0xa3a))){const _0x38c5e0=_0x2547ca[_0x4472a(0xb00)](_0x4472a(0xa3a),'');_0x2547ca=_0x58cd73?.[_0x4472a(0x3d8)]?.[_0x38c5e0];}if(_0x4472a(0x924)==typeof _0x2547ca&&(_0x2547ca[_0x4472a(0x293)]('[')&&_0x2547ca[_0x4472a(0x9b3)](']')||_0x2547ca[_0x4472a(0x293)]('{')&&_0x2547ca['endsWith']('}')))try{_0x2547ca=JSON[_0x4472a(0xb6b)](_0x2547ca);}catch(_0x2c0863){console[_0x4472a(0x33b)](_0x2c0863);}if('@root'===_0x29cd4f[_0x4472a(0xbbd)]){if(_0x4472a(0x924)==typeof _0x2547ca){const _0x144455=_0x2547ca[_0x4472a(0x777)](/```html(.*)```/s);_0x144455&&(_0x2547ca=_0x144455[0x1]),_0x2547ca=_0x2547ca['replace'](/\n/g,''),_0x2547ca=_0x2547ca[_0x4472a(0xb00)](/'/g,'\x22');}_0x11002f=_0x2547ca;break;}if(-0x1===_0x29cd4f[_0x4472a(0xbbd)][_0x4472a(0x619)]('.'))_0x11002f[_0x29cd4f[_0x4472a(0xbbd)]]=_0x2547ca;else{const [_0x3a6847,_0x5cffa2]=_0x29cd4f['name']['split']('.');_0x11002f[_0x3a6847]||(_0x11002f[_0x3a6847]={}),_0x11002f[_0x3a6847][_0x5cffa2]=_0x2547ca;}}console[_0x4472a(0x8b9)](_0x4472a(0x4be)+_0x22a3bf['name']+'\x20with\x20'+JSON[_0x4472a(0x320)](_0x11002f));const _0x283184=await fetch(_0x4822b8,{'method':_0x22a3bf[_0x4472a(0xa20)],'headers':_0x46304e,'body':void 0x0===_0x11002f?void 0x0:_0x4472a(0x924)==typeof _0x11002f?_0x11002f:JSON[_0x4472a(0x320)](_0x11002f)});if(_0x283184['ok']){let _0x3ad042=await _0x283184[_0x4472a(0x731)]();return _0x4472a(0x924)!=typeof _0x3ad042&&(_0x3ad042=JSON[_0x4472a(0x320)](_0x3ad042)),_0x214a34&&_0x2dd9d1&&_0x5cbedc&&await _0x4bd72a[_0x4472a(0x756)]({'jobType':_0x2012ea[_0x4472a(0x71a)],'type':_0x21b1e8[_0x4472a(0x53f)],'jobId':_0x214a34,'agentId':_0x2dd9d1,'threadId':_0x5cbedc,'blockId':_0x4472a(0xaab),'traceLevel':_0x437662[_0x4472a(0x1e8)],'startTime':_0x457b67,'timestamp':Date[_0x4472a(0xad3)](),'status':_0x4472a(0xbb4),'skillName':_0x22a3bf[_0x4472a(0xbbd)],'params':_0x53c370,'result':_0x3ad042}),_0x58cd73&&_0x22a3bf[_0x4472a(0xae5)]&&''!==_0x22a3bf[_0x4472a(0xae5)]&&(_0x58cd73[_0x4472a(0x3d8)]||(_0x58cd73['internalContext']={}),_0x58cd73[_0x4472a(0x3d8)][_0x22a3bf[_0x4472a(0xae5)]]=_0x3ad042),_0x3ad042;}throw new Error(_0x283184['statusText']);}catch(_0xf2c85e){console[_0x4472a(0x33b)](_0xf2c85e);const _0x1f1e1e=_0xf2c85e instanceof Error?_0xf2c85e[_0x4472a(0x5c1)]:_0x4472a(0xb0b);return _0x214a34&&_0x2dd9d1&&_0x5cbedc&&await _0x4bd72a[_0x4472a(0x756)]({'jobType':_0x2012ea[_0x4472a(0x71a)],'type':_0x21b1e8['ExecuteCustomSkill'],'jobId':_0x214a34,'blockId':_0x4472a(0xaab),'threadId':_0x5cbedc,'traceLevel':_0x437662[_0x4472a(0x1e8)],'startTime':_0x457b67,'timestamp':Date[_0x4472a(0xad3)](),'agentId':_0x2dd9d1,'status':_0x4472a(0x33b),'skillName':_0x22a3bf[_0x4472a(0xbbd)],'params':_0x53c370??{},'result':_0x1f1e1e}),_0x1f1e1e;}}async function _0x324960(_0xf1a944,_0x4ef0ff,_0x10da63,_0x19d994=!0x0){const _0x52cbbf=_0x4a13a,_0x25227c=_0x52cbbf(0x750),_0xc35ae5={'url':{'type':_0x52458b['PromptFunctionParamsType'][_0x52cbbf(0x7da)]},'page':{'type':_0x52458b[_0x52cbbf(0x2d4)]['Number']}};return await _0x4bd72a[_0x52cbbf(0x756)]({'jobType':_0x2012ea[_0x52cbbf(0x411)],'type':_0x2f7837[_0x52cbbf(0x1fc)],'jobId':_0xf1a944,'agentId':_0x4ef0ff,'threadId':_0x10da63,'traceLevel':_0x437662[_0x52cbbf(0x1e8)],'startTime':Date['now'](),'timestamp':Date[_0x52cbbf(0xad3)](),'status':_0x52cbbf(0xbb4),'function':_0x21b1e8['FetchUrl'],'params':_0xc35ae5,'functionDescription':_0x25227c}),{'description':_0x25227c,'params':_0xc35ae5,'callback':async _0x508026=>_0x401a56(_0x508026,_0x19d994,_0xf1a944,_0x4ef0ff,_0x10da63)};}async function _0x401a56(_0x54f8ab,_0x12948=!0x0,_0xabc54a,_0x9f56d2,_0x3f9cda){const _0x478f25=_0x4a13a,_0x92a415=Date[_0x478f25(0xad3)]();try{if(_0x478f25(0x924)!=typeof _0x54f8ab?.['url'])throw new Error(_0x478f25(0x641));const _0x5836cf=_0x54f8ab[_0x478f25(0x94c)];if(['.pdf','.doc',_0x478f25(0xa39),'.ppt','.pptx',_0x478f25(0xb50),'.xlsx'][_0x478f25(0x427)](_0x3a1653=>_0x5836cf[_0x478f25(0x9b3)](_0x3a1653)))throw new Error(_0x478f25(0x9d1));const _0x436601=await fetch(_0x5836cf),_0x5b9dea=await _0x436601['text']();let _0x37d4f0=_0x5b9dea;if(_0x12948){const _0x14a91c=_0x5b9dea['match'](/<body[^>]*>((.|[\n\r])*)<\/body>/i),_0x1ef449=_0x14a91c?_0x14a91c[0x1]:_0x5b9dea,_0x10c9b6=_0x1ef449[_0x478f25(0xb00)](/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,'')['replace'](/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,'')[_0x478f25(0xb00)](/<br\s*\/?>/gi,'\x20')['replace'](/&nbsp;/g,'\x20');_0x37d4f0=_0x10c9b6[_0x478f25(0xb00)](/<\/?[^>]+(>|$)/g,'')[_0x478f25(0xb00)](/\s\s+/g,'\x20')[_0x478f25(0x31a)]();}const _0x6cf4c6='number'==typeof _0x54f8ab['page']?_0x54f8ab[_0x478f25(0xa41)]:0x1,_0x3793d2=Math[_0x478f25(0x467)](_0x37d4f0['length']/_0x5d5ab6);return _0x37d4f0['length']>_0x5d5ab6&&(_0x37d4f0=_0x37d4f0[_0x478f25(0x309)]((_0x6cf4c6-0x1)*_0x5d5ab6,(_0x6cf4c6-0x1)*_0x5d5ab6+_0x5d5ab6)+_0x478f25(0xa57)+(_0x6cf4c6+0x1)+_0x478f25(0xa5a)+_0x3793d2+'.'),_0xabc54a&&_0x9f56d2&&_0x3f9cda&&await _0x4bd72a['trace']({'jobType':_0x2012ea[_0x478f25(0x71a)],'type':_0x21b1e8[_0x478f25(0xac0)],'jobId':_0xabc54a,'agentId':_0x9f56d2,'threadId':_0x3f9cda,'blockId':_0x478f25(0x8a3),'traceLevel':_0x437662['Info'],'startTime':_0x92a415,'timestamp':Date[_0x478f25(0xad3)](),'status':_0x436601['ok']?'success':_0x478f25(0x33b),'url':_0x54f8ab[_0x478f25(0x94c)],'page':_0x6cf4c6,'totalPages':_0x3793d2,'response':_0x37d4f0}),_0x37d4f0;}catch(_0x44a8c8){console[_0x478f25(0x33b)](_0x44a8c8);const _0x12e29f=_0x44a8c8 instanceof Error?_0x44a8c8[_0x478f25(0x5c1)]:_0x478f25(0xb0b);return _0xabc54a&&_0x9f56d2&&_0x3f9cda&&await _0x4bd72a[_0x478f25(0x756)]({'jobType':_0x2012ea[_0x478f25(0x71a)],'type':_0x21b1e8[_0x478f25(0xac0)],'jobId':_0xabc54a,'blockId':_0x478f25(0x8a3),'threadId':_0x3f9cda,'traceLevel':_0x437662[_0x478f25(0x1e8)],'startTime':_0x92a415,'timestamp':Date['now'](),'agentId':_0x9f56d2,'status':'error','errorDetails':_0x2f092b(_0x44a8c8),'url':_0x54f8ab?.[_0x478f25(0x94c)]??'','page':0x0,'totalPages':0x0,'response':_0x12e29f}),_0x12e29f;}}async function _0xb89765(_0x1e238a,_0x2c071d,_0x2c7366,_0x376dc9,_0x2ff98f){const _0x1d7944=_0x4a13a,_0x2d4a9b=Date['now']();try{if(!_0x1e238a[_0x1d7944(0x478)])throw new Error(_0x1d7944(0x3c9));if(_0x1d7944(0x924)!=typeof _0x2c071d?.[_0x1d7944(0x322)])throw new Error(_0x1d7944(0xa33));const _0x4a72ff=await _0x1e238a['searchConnector'][_0x1d7944(0x4ce)](_0x2c071d[_0x1d7944(0x322)],_0x2fd4ca[_0x1d7944(0x85d)][_0x1d7944(0x719)]);let _0xa8ab46='';for(const _0x4ff035 of _0x4a72ff)_0xa8ab46+=_0x4ff035[_0x1d7944(0x90c)]+_0x1d7944(0x6a9)+_0x4ff035['url']+'\x0a'+_0x4ff035[_0x1d7944(0x7d7)]+'\x0a\x0a';return _0x2c7366&&_0x376dc9&&_0x2ff98f&&await _0x4bd72a[_0x1d7944(0x756)]({'jobType':_0x2012ea[_0x1d7944(0x71a)],'type':_0x21b1e8['SearchGoogle'],'jobId':_0x2c7366,'agentId':_0x376dc9,'threadId':_0x2ff98f,'blockId':'search','traceLevel':_0x437662['Info'],'startTime':_0x2d4a9b,'timestamp':Date[_0x1d7944(0xad3)](),'status':'success','query':_0x2c071d[_0x1d7944(0x322)],'results':_0xa8ab46}),_0xa8ab46;}catch(_0x2f780b){return console[_0x1d7944(0x33b)](_0x2f780b),_0x2c7366&&_0x376dc9&&_0x2ff98f&&await _0x4bd72a[_0x1d7944(0x756)]({'jobType':_0x2012ea[_0x1d7944(0x71a)],'type':_0x21b1e8[_0x1d7944(0x483)],'jobId':_0x2c7366,'blockId':'search','traceLevel':_0x437662[_0x1d7944(0x1e8)],'startTime':_0x2d4a9b,'timestamp':Date[_0x1d7944(0xad3)](),'status':_0x1d7944(0x33b),'errorDetails':_0x2f092b(_0x2f780b),'agentId':_0x376dc9,'threadId':_0x2ff98f,'query':_0x2c071d?.[_0x1d7944(0x322)]??'','results':_0x1d7944(0x4cb)}),_0x2f780b instanceof Error?_0x2f780b[_0x1d7944(0x5c1)]:_0x1d7944(0x4cb);}}async function _0x16b680(_0x10d086,_0x1788ea,_0x52e1a6,_0x18b943,_0xe4b1da,_0x2ecde7){const _0x1fabaf=_0x4a13a,_0x3f0265='Execute\x20the\x20workflow\x20'+_0xe4b1da[_0x1fabaf(0xa1b)]+_0x1fabaf(0x89a),_0x59f6ce={'prompt':{'type':_0x52458b['PromptFunctionParamsType'][_0x1fabaf(0x7da)]}};return await _0x4bd72a[_0x1fabaf(0x756)]({'jobType':_0x2012ea[_0x1fabaf(0x411)],'type':_0x2f7837['LoadSkillFunction'],'jobId':_0x10d086,'agentId':_0x1788ea,'threadId':_0x52e1a6['threadId'],'traceLevel':_0x437662[_0x1fabaf(0x1e8)],'startTime':Date[_0x1fabaf(0xad3)](),'timestamp':Date[_0x1fabaf(0xad3)](),'status':'success','function':_0x21b1e8['ExecuteWorkflow'],'params':_0x59f6ce,'functionDescription':_0x3f0265}),{'description':_0x3f0265,'params':_0x59f6ce,'callback':async _0x3c15dc=>_0x1fd89f(_0x52e1a6[_0x1fabaf(0x649)],_0xe4b1da,_0x3c15dc,_0x18b943,_0x10d086,_0x1788ea,_0x52e1a6[_0x1fabaf(0x6b7)],_0x2ecde7)};}async function _0x1fd89f(_0x6db5d4,_0x156536,_0x5ab0ae,_0x5a21b0,_0x49fc82,_0x209f5d,_0x200c81,_0x461803){const _0x22b1e1=_0x4a13a,_0x515bb9=Date['now']();try{if(_0x22b1e1(0x924)!=typeof _0x5ab0ae?.[_0x22b1e1(0x3f8)])throw new Error('Prompt\x20is\x20required');let _0x3ac29f='';const _0x229f28=_0x156536['contextInputVariable']?.[_0x22b1e1(0x3ca)](',')??[];let _0x4159ba=_0x5ab0ae[_0x22b1e1(0x3f8)];for(const _0xbe17df of _0x229f28){const _0x320a29=_0x5a21b0?.[_0x22b1e1(0x3d8)]?.[_0xbe17df];_0x320a29&&(_0x4159ba='<'+_0xbe17df+'>\x0a'+_0x320a29+_0x22b1e1(0x2e2)+_0xbe17df+_0x22b1e1(0x28d)+_0x4159ba);}let _0x5452f4=[{'role':_0x22b1e1(0x5bc),'content':_0x4159ba}];if(_0x461803&&_0x156536[_0x22b1e1(0x547)]){const _0x3226b5=await fetch(_0x2fd4ca['apiUrl']+'/workflows/'+_0x156536[_0x22b1e1(0x9cb)]+_0x22b1e1(0x712),{'method':_0x22b1e1(0x6e0),'headers':{'Accept':_0x22b1e1(0x3af),'Content-Type':_0x22b1e1(0xbf0),'x-vendor-id':_0x6db5d4},'body':JSON[_0x22b1e1(0x320)]({'model':_0x156536[_0x22b1e1(0xc0a)],'messages':_0x5452f4,'max_completion_tokens':_0x156536['maxTokens'],'temperature':_0x156536['temperature'],'tools':_0x156536['tools'],'structured_output':_0x156536[_0x22b1e1(0xc30)],'metadata':{'threadId':_0x200c81,'jobId':_0x49fc82,'agentId':_0x209f5d,'context':{}},'stream':!0x0,'stream_options':{'include_usage':!0x0}})});if(!_0x3226b5['ok']||!_0x3226b5[_0x22b1e1(0x8f4)])return console[_0x22b1e1(0x33b)](_0x22b1e1(0x390)),_0x461803[_0x22b1e1(0x2e0)](void 0x0),_0x22b1e1(0x671);const _0x4c8cfb=_0x3226b5[_0x22b1e1(0x8f4)][_0x22b1e1(0x760)](),_0x3fec7d=new TextDecoder();let _0x34a635=0x0,_0x2c4185=0x0,_0x4a9328='';for(;;){const {value:_0x35a9f1,done:_0x305b07}=await _0x4c8cfb[_0x22b1e1(0xa63)]();if(_0x305b07)break;const _0x756070=_0x3fec7d[_0x22b1e1(0xb5f)](_0x35a9f1,{'stream':!0x0});if(_0x22b1e1(0x45e)===_0x756070)break;const _0x36f9b8=_0x5c0e32(_0x756070);for(const _0x3c5d84 of _0x36f9b8)_0x3c5d84[_0x22b1e1(0x806)]&&_0x3c5d84[_0x22b1e1(0x806)][0x0]&&(_0x4a9328+=_0x3c5d84['choices'][0x0]['delta'][_0x22b1e1(0x816)],_0x34a635+=_0x3c5d84[_0x22b1e1(0x966)]?.[_0x22b1e1(0x9fe)]??0x0,_0x2c4185+=_0x3c5d84[_0x22b1e1(0x966)]?.['output_tokens']??0x0,_0x5a21b0&&(_0x5a21b0[_0x22b1e1(0x3d8)]={..._0x5a21b0['internalContext'],..._0x3c5d84[_0x22b1e1(0x560)]}),_0x461803[_0x22b1e1(0x2e0)]({'output':_0x3c5d84[_0x22b1e1(0x806)][0x0][_0x22b1e1(0x881)]['content'],'type':_0x22b1e1(0x3f8)}),await _0x37fc55[_0x22b1e1(0xc22)](0x1));}_0x5a21b0&&(_0x5a21b0[_0x22b1e1(0x883)]=(_0x5a21b0[_0x22b1e1(0x883)]??0x0)+_0x2c4185,_0x5a21b0[_0x22b1e1(0x7ab)]=(_0x5a21b0[_0x22b1e1(0x7ab)]??0x0)+_0x34a635,_0x156536['contextOutputVariable']&&(_0x5a21b0[_0x22b1e1(0x3d8)]||(_0x5a21b0[_0x22b1e1(0x3d8)]={}),_0x5a21b0['internalContext'][_0x156536[_0x22b1e1(0xae5)]]=_0x4a9328)),_0x461803['emit']({'output':'\x0a\x0a','type':_0x22b1e1(0x3f8)}),await _0x37fc55['wait'](0x1),_0x3ac29f='I\x20have\x20finished\x20executing\x20my\x20task.';}else{const _0x3b0c10=fetch(_0x2fd4ca[_0x22b1e1(0xc43)]+'/workflows/'+_0x156536[_0x22b1e1(0x9cb)]+'/chat/completions',{'method':'POST','headers':{'Content-Type':'application/json','x-vendor-id':_0x6db5d4},'body':JSON[_0x22b1e1(0x320)]({'model':_0x156536[_0x22b1e1(0xc0a)],'messages':_0x5452f4,'max_completion_tokens':_0x156536[_0x22b1e1(0x6df)],'temperature':_0x156536[_0x22b1e1(0x7fc)],'tools':_0x156536[_0x22b1e1(0x31e)],'structured_output':_0x156536[_0x22b1e1(0xc30)],'metadata':{'threadId':_0x200c81,'jobId':_0x49fc82,'agentId':_0x209f5d,'context':{}}})});if(_0x156536[_0x22b1e1(0xabb)])return _0x22b1e1(0x95f);const _0x4e0c90=await _0x3b0c10,_0x398463=await _0x4e0c90[_0x22b1e1(0x731)]();_0x3ac29f=_0x398463[_0x22b1e1(0x806)][0x0][_0x22b1e1(0x5c1)]['content'],_0x5a21b0&&(_0x5a21b0['internalContext']={..._0x5a21b0[_0x22b1e1(0x3d8)],..._0x398463[_0x22b1e1(0x560)]},_0x5a21b0['outputTokens']=(_0x5a21b0[_0x22b1e1(0x883)]??0x0)+_0x398463[_0x22b1e1(0x966)][_0x22b1e1(0x60d)],_0x5a21b0[_0x22b1e1(0x7ab)]=(_0x5a21b0[_0x22b1e1(0x7ab)]??0x0)+_0x398463[_0x22b1e1(0x966)][_0x22b1e1(0x694)],_0x156536[_0x22b1e1(0xae5)]&&(_0x5a21b0['internalContext']||(_0x5a21b0[_0x22b1e1(0x3d8)]={}),_0x5a21b0[_0x22b1e1(0x3d8)][_0x156536[_0x22b1e1(0xae5)]]=_0x3ac29f));}if('string'!=typeof _0x3ac29f)throw new Error('Workflow\x20output\x20is\x20not\x20a\x20string');return _0x49fc82&&_0x209f5d&&_0x200c81&&await _0x4bd72a[_0x22b1e1(0x756)]({'jobType':_0x2012ea[_0x22b1e1(0x71a)],'type':_0x21b1e8[_0x22b1e1(0x7d0)],'jobId':_0x49fc82,'blockId':_0x22b1e1(0x7ea),'agentId':_0x209f5d,'threadId':_0x200c81,'traceLevel':_0x437662[_0x22b1e1(0x1e8)],'startTime':_0x515bb9,'timestamp':Date[_0x22b1e1(0xad3)](),'status':'success','workflowName':_0x156536[_0x22b1e1(0xbbd)],'prompt':_0x5ab0ae[_0x22b1e1(0x3f8)],'result':_0x3ac29f,'inputTokens':0x0,'outputTokens':0x0}),_0x3ac29f;}catch(_0x4bbc26){if(console[_0x22b1e1(0x33b)](_0x4bbc26),_0x49fc82&&_0x209f5d&&_0x200c81&&await _0x4bd72a[_0x22b1e1(0x756)]({'jobType':_0x2012ea['Skill'],'type':_0x21b1e8[_0x22b1e1(0x7d0)],'jobId':_0x49fc82,'blockId':_0x22b1e1(0x7ea),'agentId':_0x209f5d,'threadId':_0x200c81,'traceLevel':_0x437662['Info'],'startTime':_0x515bb9,'timestamp':Date[_0x22b1e1(0xad3)](),'status':_0x22b1e1(0x33b),'errorDetails':_0x2f092b(_0x4bbc26),'workflowName':_0x156536[_0x22b1e1(0xbbd)],'prompt':_0x5ab0ae?.[_0x22b1e1(0x3f8)]??'','result':'','inputTokens':0x0,'outputTokens':0x0}),_0x4bbc26 instanceof Error)throw _0x4bbc26;throw new Error(_0x22b1e1(0x51b));}}async function _0x433511(_0xaa6de8,_0x4655fc,_0x4d7766,_0x7f2864,_0x811669){const _0xf0afd3=_0x4a13a;return await _0x4bd72a[_0xf0afd3(0x756)]({'jobType':_0x2012ea['JobContext'],'type':_0x2f7837[_0xf0afd3(0x1fc)],'jobId':_0xaa6de8,'agentId':_0x4655fc,'threadId':_0x4d7766,'traceLevel':_0x437662[_0xf0afd3(0x1e8)],'startTime':Date['now'](),'timestamp':Date['now'](),'status':_0xf0afd3(0xbb4),'function':_0x21b1e8['FormGetQuestion'],'params':{},'functionDescription':_0xf0afd3(0x51f)}),{'description':_0xf0afd3(0x51f),'params':{},'callback':async()=>_0x3241ad(_0x811669,_0x7f2864,_0xaa6de8,_0x4655fc,_0x4d7766)};}async function _0x3241ad(_0x14d4c1,_0x33d0df,_0x3b00db,_0x4312d1,_0x50f792){const _0x12010c=_0x4a13a,_0x569773=Date['now']();let _0x113ab8=_0x14d4c1[_0x12010c(0xbbd)][_0x12010c(0xb00)](/[^a-zA-Z]/g,'');_0x113ab8[_0x12010c(0x293)](_0x12010c(0x877))&&(_0x113ab8=_0x113ab8[_0x12010c(0xb00)](_0x12010c(0x877),''));const _0x3fb49e=_0x12010c(0x44d)+_0x113ab8;let _0x3a6ab0=0x0;if(_0x33d0df){const _0x32cd24=_0x33d0df[_0x12010c(0x3d8)]?.[_0x3fb49e];_0x32cd24?_0x3a6ab0=parseInt(_0x32cd24):(_0x3a6ab0=0x0,_0x33d0df[_0x12010c(0x3d8)]||(_0x33d0df[_0x12010c(0x3d8)]={}),_0x33d0df[_0x12010c(0x3d8)][_0x3fb49e]='0');}const _0x32b67e=_0x14d4c1['questions']||[];if(_0x3a6ab0>=_0x32b67e['length'])return JSON['stringify']({'error':_0x12010c(0x22a)});const _0x2c31a8=_0x32b67e[_0x3a6ab0];return _0x3b00db&&_0x4312d1&&_0x50f792&&await _0x4bd72a['trace']({'jobType':_0x2012ea[_0x12010c(0x71a)],'type':_0x21b1e8[_0x12010c(0x2ca)],'jobId':_0x3b00db,'agentId':_0x4312d1,'threadId':_0x50f792,'blockId':_0x12010c(0x404),'traceLevel':_0x437662['Info'],'startTime':_0x569773,'timestamp':Date[_0x12010c(0xad3)](),'status':_0x12010c(0xbb4),'question':_0x2c31a8[_0x12010c(0x553)],'currentQuestionIndex':_0x3a6ab0,'questions':_0x32b67e['map'](_0x254b66=>_0x254b66[_0x12010c(0x553)])}),JSON[_0x12010c(0x320)]({'id':_0x2c31a8['id'],'question':_0x2c31a8[_0x12010c(0x553)],'validation':_0x2c31a8[_0x12010c(0x575)],'required':_0x2c31a8[_0x12010c(0x5a1)],'format':_0x2c31a8[_0x12010c(0xba2)],'action':_0x12010c(0x9a3)});}async function _0x4811c4(_0x137fe9,_0x1f6b04,_0x3a460e,_0x2f7934,_0x1557da){const _0x5c84c9=_0x4a13a;return await _0x4bd72a[_0x5c84c9(0x756)]({'jobType':_0x2012ea['JobContext'],'type':_0x2f7837[_0x5c84c9(0x1fc)],'jobId':_0x137fe9,'agentId':_0x1f6b04,'threadId':_0x3a460e,'traceLevel':_0x437662[_0x5c84c9(0x1e8)],'startTime':Date[_0x5c84c9(0xad3)](),'timestamp':Date['now'](),'status':_0x5c84c9(0xbb4),'function':_0x21b1e8[_0x5c84c9(0x80b)],'params':{},'functionDescription':_0x5c84c9(0xa18)}),{'description':_0x5c84c9(0xa18),'params':{'id':{'type':_0x52458b[_0x5c84c9(0x2d4)][_0x5c84c9(0x7da)]},'answer':{'type':_0x52458b[_0x5c84c9(0x2d4)]['String']}},'callback':async _0x365b83=>_0x1cc5bc(_0x1557da,_0x365b83,_0x2f7934,_0x137fe9,_0x1f6b04,_0x3a460e)};}async function _0x1cc5bc(_0x1ebbf9,_0x53ed6b,_0x251239,_0x3aeb69,_0x501bfe,_0xd6b2c9){const _0x2993e8=_0x4a13a,_0x4a4f01=Date[_0x2993e8(0xad3)]();let _0x42e91d=_0x1ebbf9[_0x2993e8(0xbbd)][_0x2993e8(0xb00)](/[^a-zA-Z]/g,'');_0x42e91d[_0x2993e8(0x293)](_0x2993e8(0x3e8))&&(_0x42e91d=_0x42e91d[_0x2993e8(0xb00)](_0x2993e8(0x3e8),''));const _0x1fef9a=_0x2993e8(0x44d)+_0x42e91d,_0x55c681=_0x1ebbf9[_0x2993e8(0x952)]||[];let _0x2840a5=0x0;if(_0x251239&&(_0x2840a5=parseInt(_0x251239[_0x2993e8(0x3d8)]?.[_0x1fef9a]??'0')),!_0x53ed6b?.['id']||_0x2993e8(0x924)!=typeof _0x53ed6b['id'])return JSON[_0x2993e8(0x320)]({'error':_0x2993e8(0xa4e)});const _0x267aa2=_0x55c681[_0x2993e8(0x319)](_0x396ef7=>_0x396ef7['id']===_0x53ed6b['id']);if(!_0x267aa2)return JSON[_0x2993e8(0x320)]({'error':'Id\x20is\x20not\x20valid,\x20call\x20getQuestion\x20first\x20to\x20get\x20the\x20question\x20id'});if(!_0x53ed6b?.['answer']||'string'!=typeof _0x53ed6b[_0x2993e8(0xc44)])return JSON[_0x2993e8(0x320)]({'error':_0x2993e8(0x352)});if(_0x251239){_0x251239[_0x2993e8(0x3d8)]||(_0x251239[_0x2993e8(0x3d8)]={});const _0x12744a=_0x2993e8(0x582)+_0x42e91d,_0x5ee92f=_0x12744a+'-'+_0x53ed6b['id'];_0x251239[_0x2993e8(0x3d8)][_0x5ee92f]=_0x53ed6b[_0x2993e8(0xc44)];let _0x4f40e2=!0x1;for(let _0x924e8c=0x0;_0x924e8c<_0x55c681[_0x2993e8(0x454)];_0x924e8c++){const _0xecccaa=_0x251239[_0x2993e8(0x3d8)]?.[_0x12744a+'-'+_0x55c681[_0x924e8c]['id']];if(_0x924e8c!==_0x2840a5&&!_0xecccaa){_0x2840a5=_0x924e8c,_0x4f40e2=!0x0;break;}}_0x4f40e2||_0x2840a5++,_0x251239[_0x2993e8(0x3d8)][_0x1fef9a]=_0x2840a5[_0x2993e8(0x366)]();}_0x3aeb69&&_0x501bfe&&_0xd6b2c9&&await _0x4bd72a[_0x2993e8(0x756)]({'jobType':_0x2012ea[_0x2993e8(0x71a)],'type':_0x21b1e8[_0x2993e8(0x80b)],'jobId':_0x3aeb69,'agentId':_0x501bfe,'threadId':_0xd6b2c9,'blockId':_0x2993e8(0x1e2),'traceLevel':_0x437662[_0x2993e8(0x1e8)],'startTime':_0x4a4f01,'timestamp':Date[_0x2993e8(0xad3)](),'status':_0x2993e8(0xbb4),'question':_0x267aa2[_0x2993e8(0x553)],'answer':_0x53ed6b[_0x2993e8(0xc44)],'currentQuestionIndex':_0x2840a5,'questions':_0x55c681['map'](_0x346f7a=>_0x346f7a[_0x2993e8(0x553)])});const _0x2de5ca=_0x55c681[_0x2840a5];return _0x2de5ca?JSON[_0x2993e8(0x320)]({'id':_0x2de5ca['id'],'question':_0x2de5ca['question'],'validation':_0x2de5ca['validation'],'required':_0x2de5ca['required'],'format':_0x2de5ca['format'],'action':_0x2993e8(0x9a3)}):JSON[_0x2993e8(0x320)]({'action':'No\x20more\x20questions,\x20call\x20submitForm\x20to\x20submit\x20the\x20form'});}async function _0x3ebebf(_0xb98b82,_0x24936b,_0x5646c1,_0x32ca16,_0x3218d1){const _0x49bfbb=_0x4a13a,_0x26d04a=_0x49bfbb(0xa2e);return await _0x4bd72a[_0x49bfbb(0x756)]({'jobType':_0x2012ea[_0x49bfbb(0x411)],'type':_0x2f7837[_0x49bfbb(0x1fc)],'jobId':_0xb98b82,'agentId':_0x24936b,'threadId':_0x5646c1,'traceLevel':_0x437662[_0x49bfbb(0x1e8)],'startTime':Date[_0x49bfbb(0xad3)](),'timestamp':Date[_0x49bfbb(0xad3)](),'status':'success','function':_0x21b1e8[_0x49bfbb(0x9eb)],'params':{},'functionDescription':_0x26d04a}),{'description':_0x26d04a,'params':{},'callback':async()=>_0x3a5e53(_0x3218d1,_0x32ca16,_0xb98b82,_0x24936b,_0x5646c1)};}async function _0x3a5e53(_0x475cad,_0x10700d,_0x11975e,_0x31d0e0,_0xa1f3ba){const _0x16da2f=_0x4a13a;let _0x4af149=_0x475cad[_0x16da2f(0xbbd)][_0x16da2f(0xb00)](/[^a-zA-Z]/g,'');_0x4af149['startsWith'](_0x16da2f(0xa37))&&(_0x4af149=_0x4af149[_0x16da2f(0xb00)]('submitForm',''));const _0xa4935e=_0x475cad['questions']||[],_0x518840={};if(!_0x10700d)return JSON[_0x16da2f(0x320)]({'error':_0x16da2f(0x6f4)});for(let _0x188103=0x0;_0x188103<_0xa4935e[_0x16da2f(0x454)];_0x188103++){const _0x9b7ad9=_0x10700d[_0x16da2f(0x3d8)]?.[_0x16da2f(0x582)+_0x4af149+'-'+_0xa4935e[_0x188103]['id']];if(_0xa4935e[_0x188103][_0x16da2f(0x5a1)]&&!_0x9b7ad9)return JSON['stringify']({'error':_0x16da2f(0x6f4)});_0x518840[_0xa4935e[_0x188103]['id']]=_0x9b7ad9;}return _0x10700d&&_0x475cad[_0x16da2f(0xae5)]&&(_0x10700d[_0x16da2f(0x3d8)]||(_0x10700d[_0x16da2f(0x3d8)]={}),_0x10700d['internalContext'][_0x475cad['contextOutputVariable']]=JSON[_0x16da2f(0x320)](_0x518840)),_0x11975e&&_0x31d0e0&&_0xa1f3ba&&await _0x4bd72a['trace']({'jobType':_0x2012ea[_0x16da2f(0x71a)],'type':_0x21b1e8[_0x16da2f(0x9eb)],'jobId':_0x11975e,'agentId':_0x31d0e0,'threadId':_0xa1f3ba,'blockId':_0x16da2f(0x4ca),'traceLevel':_0x437662[_0x16da2f(0x1e8)],'startTime':Date['now'](),'timestamp':Date['now'](),'status':_0x16da2f(0xbb4),'answers':_0x518840}),JSON[_0x16da2f(0x320)]({'success':!0x0});}async function _0x403250(_0x103916,_0x27da02,_0x5d7b49,_0x3d7cb8,_0xc16ac0,_0x23c257,_0x220544){const _0x5f431d=_0x4a13a,_0x945030=new Map();for(const _0x1eb55f of _0xc16ac0)_0x1eb55f[_0x5f431d(0xbdd)]===_0x52458b[_0x5f431d(0x2a9)]['Knowledge']||_0x1eb55f[_0x5f431d(0xbdd)]===_0x52458b[_0x5f431d(0x2a9)][_0x5f431d(0x5ea)]?_0x945030[_0x5f431d(0x2a7)](_0x5f431d(0x4ea)+_0x1eb55f[_0x5f431d(0xbbd)]['replace'](/[^a-zA-Z]/g,''),await _0x348c61(_0x103916,_0x27da02,_0x5d7b49,_0x3d7cb8,_0x1eb55f)):_0x1eb55f[_0x5f431d(0xbdd)]===_0x52458b['GenerativeAIInferenceToolType']['AgentSkill']||_0x1eb55f[_0x5f431d(0xbdd)]===_0x52458b['GenerativeAIInferenceToolType'][_0x5f431d(0x673)]?_0x945030[_0x5f431d(0x2a7)](_0x5f431d(0x6c5)+_0x1eb55f[_0x5f431d(0xbbd)][_0x5f431d(0xb00)](/[^a-zA-Z]/g,''),await _0x2c021a(_0x103916,_0x27da02,_0x5d7b49,_0x3d7cb8,_0x1eb55f,_0x23c257,_0x220544)):_0x1eb55f[_0x5f431d(0xbdd)]===_0x52458b[_0x5f431d(0x2a9)][_0x5f431d(0xb9e)]?_0x945030['set'](_0x5f431d(0x406)+_0x1eb55f[_0x5f431d(0xbbd)][_0x5f431d(0xb00)](/[^a-zA-Z]/g,''),await _0x16b680(_0x103916,_0x27da02,_0x5d7b49,_0x3d7cb8,_0x1eb55f,_0x220544)):_0x1eb55f[_0x5f431d(0xbdd)]===_0x52458b['GenerativeAIInferenceToolType'][_0x5f431d(0x975)]?_0x945030[_0x5f431d(0x2a7)](_0x1eb55f[_0x5f431d(0xbbd)]['replace'](/[^a-zA-Z]/g,''),await _0x4cfb7d(_0x103916,_0x27da02,_0x5d7b49['threadId'],_0x3d7cb8,_0x1eb55f)):_0x1eb55f[_0x5f431d(0xbdd)]===_0x52458b['GenerativeAIInferenceToolType'][_0x5f431d(0x414)]?_0x945030[_0x5f431d(0x2a7)](_0x5f431d(0x877)+_0x1eb55f[_0x5f431d(0xbbd)][_0x5f431d(0xb00)](/[^a-zA-Z]/g,''),await _0x433511(_0x103916,_0x27da02,_0x5d7b49[_0x5f431d(0x6b7)],_0x3d7cb8,_0x1eb55f)):_0x1eb55f[_0x5f431d(0xbdd)]===_0x52458b[_0x5f431d(0x2a9)][_0x5f431d(0x2d2)]?_0x945030[_0x5f431d(0x2a7)](_0x5f431d(0x3e8)+_0x1eb55f[_0x5f431d(0xbbd)][_0x5f431d(0xb00)](/[^a-zA-Z]/g,''),await _0x4811c4(_0x103916,_0x27da02,_0x5d7b49[_0x5f431d(0x6b7)],_0x3d7cb8,_0x1eb55f)):_0x1eb55f[_0x5f431d(0xbdd)]===_0x52458b[_0x5f431d(0x2a9)][_0x5f431d(0x9bb)]?_0x945030['set'](_0x5f431d(0xa37)+_0x1eb55f[_0x5f431d(0xbbd)][_0x5f431d(0xb00)](/[^a-zA-Z]/g,''),await _0x3ebebf(_0x103916,_0x27da02,_0x5d7b49[_0x5f431d(0x6b7)],_0x3d7cb8,_0x1eb55f)):_0x945030[_0x5f431d(0x2a7)](_0x280093(_0x1eb55f),await _0x2e9322(_0x103916,_0x27da02,_0x5d7b49,_0x3d7cb8,_0x1eb55f,_0x23c257));return _0x945030;}function _0x280093(_0x300008){const _0x9b7dc8=_0x4a13a;switch(_0x300008['type']){case _0x52458b[_0x9b7dc8(0x2a9)][_0x9b7dc8(0x826)]:return _0x9b7dc8(0xafb);case _0x52458b[_0x9b7dc8(0x2a9)][_0x9b7dc8(0x75c)]:return _0x9b7dc8(0x681);case _0x52458b[_0x9b7dc8(0x2a9)][_0x9b7dc8(0x360)]:return'queryFile';case _0x52458b['GenerativeAIInferenceToolType'][_0x9b7dc8(0x85b)]:return _0x9b7dc8(0x7a9);case _0x52458b['GenerativeAIInferenceToolType'][_0x9b7dc8(0x4c7)]:case _0x52458b[_0x9b7dc8(0x2a9)][_0x9b7dc8(0x4f9)]:return _0x9b7dc8(0x7af);case _0x52458b[_0x9b7dc8(0x2a9)][_0x9b7dc8(0x9a4)]:return _0x9b7dc8(0x494);}throw new Error(_0x9b7dc8(0x7f4));}async function _0x2e9322(_0x4ed935,_0x28c5a3,_0x40221e,_0x5b4d1a,_0x2d05fd,_0x5489f0){const _0x3f515b=_0x4a13a;switch(_0x2d05fd[_0x3f515b(0xbdd)]){case _0x52458b[_0x3f515b(0x2a9)][_0x3f515b(0x826)]:return async function(_0x28e590,_0x29c84b,_0x18acae,_0x3e2404,_0x1394b8){const _0x2751f1=_0x3f515b,_0x5a692d='Perform\x20a\x20search\x20on\x20Perplexity\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.',_0x406192={'query':{'type':_0x52458b[_0x2751f1(0x2d4)][_0x2751f1(0x7da)]}};await _0x4bd72a[_0x2751f1(0x756)]({'jobType':_0x2012ea[_0x2751f1(0x411)],'type':_0x2f7837['LoadSkillFunction'],'jobId':_0x28e590,'agentId':_0x29c84b,'threadId':_0x18acae['threadId'],'traceLevel':_0x437662[_0x2751f1(0x1e8)],'startTime':Date[_0x2751f1(0xad3)](),'timestamp':Date[_0x2751f1(0xad3)](),'status':'success','function':_0x21b1e8[_0x2751f1(0x37e)],'params':_0x406192,'functionDescription':_0x5a692d});const _0x32cbe9=_0x18acae['vendorId'];try{await(0x0,_0x4b695a[_0x2751f1(0xa27)])(_0x4c4338[_0x2751f1(0x67d)](),_0x2751f1(0xbd1))({'vendorId':_0x32cbe9});}catch(_0x59de57){throw console[_0x2751f1(0x33b)](_0x59de57),new Error('Insufficient\x20credits');}const _0x17eec4=(await(0x0,_0x1264d4[_0x2751f1(0x93b)])((0x0,_0x1264d4[_0x2751f1(0x448)])(_0x4c4338[_0x2751f1(0x73a)](),_0x2751f1(0x908),_0x32cbe9)))[_0x2751f1(0x728)]();return _0x17eec4&&_0x17eec4['organizationId']||(console[_0x2751f1(0x8b9)](new Date()+'\x20Fallback\x20model',_0x3e2404[_0x2751f1(0xc0a)],_0x5a18eb['get'](_0x3e2404[_0x2751f1(0xc0a)])[_0x2751f1(0x4c8)]),_0x3e2404['modelId']=_0x5a18eb[_0x2751f1(0x68c)](_0x3e2404['modelId'])[_0x2751f1(0x4c8)]),{'description':_0x5a692d,'params':_0x406192,'callback':async _0xbfb22f=>_0x72570b(_0x3e2404,_0x1394b8,_0xbfb22f,_0x28e590,_0x29c84b,_0x18acae['threadId'])};}(_0x4ed935,_0x28c5a3,_0x40221e,_0x2d05fd,_0x5489f0);case _0x52458b[_0x3f515b(0x2a9)]['Code']:return async function(_0x525f12,_0x52c285,_0x3e91fe){const _0x16a650=_0x3f515b,_0x1608bb=_0x16a650(0x7fd),_0x409e92={'code':{'type':_0x52458b[_0x16a650(0x2d4)][_0x16a650(0x7da)]}};return await _0x4bd72a[_0x16a650(0x756)]({'jobType':_0x2012ea[_0x16a650(0x411)],'type':_0x2f7837['LoadSkillFunction'],'jobId':_0x525f12,'agentId':_0x52c285,'threadId':_0x3e91fe,'traceLevel':_0x437662[_0x16a650(0x1e8)],'startTime':Date[_0x16a650(0xad3)](),'timestamp':Date[_0x16a650(0xad3)](),'status':_0x16a650(0xbb4),'function':_0x21b1e8[_0x16a650(0x5a5)],'params':_0x409e92,'functionDescription':_0x1608bb}),{'description':_0x1608bb,'params':_0x409e92,'callback':async _0x52aaa8=>_0x2eee4f(_0x52aaa8,_0x525f12,_0x52c285,_0x3e91fe)};}(_0x4ed935,_0x28c5a3,_0x40221e[_0x3f515b(0x6b7)]);case _0x52458b['GenerativeAIInferenceToolType']['QueryFile']:return async function(_0x5cace0,_0x41ae7a,_0x4cbc85,_0xda7c69,_0x47c846){const _0x4022c5=_0x3f515b,_0x246ad9=[',',';','\x09','|',':'],_0x12eace=['\x22','\x27'];let _0x50bf97='';if('text/csv'===_0xda7c69[_0x4022c5(0x3d8)]?.[_0x4022c5(0x297)]&&_0xda7c69[_0x4022c5(0x3d8)]?.[_0x4022c5(0x440)]&&(_0x50bf97=_0xda7c69[_0x4022c5(0x3d8)][_0x4022c5(0x440)]),''===_0x50bf97)throw new Error(_0x4022c5(0x403));const _0x4c207d=_0x50bf97[_0x4022c5(0x3ca)]('\x0a')[0x0];let _0x1df009=null,_0x2e6b90=null,_0x1ac3cc=0x0;for(const _0x480cf1 of _0x246ad9){const _0x5d1848=(_0x4c207d[_0x4022c5(0x777)](new RegExp('\x5c'+_0x480cf1,'g'))||[])['length'];_0x5d1848>_0x1ac3cc&&(_0x1ac3cc=_0x5d1848,_0x1df009=_0x480cf1);}_0x1df009||(_0x1df009=','),_0x1ac3cc=0x0;for(const _0x327d18 of _0x12eace){const _0x2b7a3c=(_0x4c207d[_0x4022c5(0x777)](new RegExp('\x5c'+_0x327d18,'g'))||[])[_0x4022c5(0x454)];_0x2b7a3c>_0x1ac3cc&&(_0x1ac3cc=_0x2b7a3c,_0x2e6b90=_0x327d18);}_0x2e6b90||(_0x2e6b90='\x22');const _0x124287=_0x4022c5(0x658)+_0x4c207d[_0x4022c5(0x3ca)](_0x1df009)[_0x4022c5(0x9ac)](',\x20'),_0xeed7a2={'query':{'type':_0x52458b[_0x4022c5(0x2d4)]['String']}};return await _0x4bd72a[_0x4022c5(0x756)]({'jobType':_0x2012ea['JobContext'],'type':_0x2f7837[_0x4022c5(0x1fc)],'jobId':_0x5cace0,'agentId':_0x41ae7a,'threadId':_0x4cbc85,'traceLevel':_0x437662[_0x4022c5(0x1e8)],'startTime':Date[_0x4022c5(0xad3)](),'timestamp':Date[_0x4022c5(0xad3)](),'status':_0x4022c5(0xbb4),'function':_0x21b1e8[_0x4022c5(0x360)],'params':_0xeed7a2,'functionDescription':_0x124287}),{'description':_0x124287,'params':_0xeed7a2,'callback':async _0x193704=>{const _0x5a7649=_0x4022c5,_0x386ec7=Date['now']();try{if(!_0x47c846[_0x5a7649(0x73b)])throw new Error(_0x5a7649(0x623));if(_0x5a7649(0x924)!=typeof _0x193704?.['query'])throw new Error(_0x5a7649(0xa33));if(!_0x193704[_0x5a7649(0x322)][_0x5a7649(0xa7f)](_0x5a7649(0xaba)))throw new Error('Query\x20must\x20refer\x20to\x20the\x20file\x20table');const _0xc04a2=await _0x47c846['queryFileConnector'][_0x5a7649(0x33d)](_0x50bf97,_0x193704['query'],{'headers':!0x0,'quote':_0x2e6b90,'separator':_0x1df009});await _0x4bd72a[_0x5a7649(0x756)]({'jobType':_0x2012ea[_0x5a7649(0x71a)],'type':_0x21b1e8[_0x5a7649(0x360)],'jobId':_0x5cace0,'agentId':_0x41ae7a,'threadId':_0x4cbc85,'blockId':_0x5a7649(0x408),'traceLevel':_0x437662[_0x5a7649(0x1e8)],'startTime':_0x386ec7,'timestamp':Date[_0x5a7649(0xad3)](),'status':_0x5a7649(0xbb4),'query':_0x193704[_0x5a7649(0x322)],'results':_0xc04a2[_0x5a7649(0x309)](0x0,0x3e8)});const _0x18688c=JSON[_0x5a7649(0xb6b)](_0xc04a2);let _0x44b9d5='';if(_0x18688c['length']>0x0){const _0x2682a7=Object[_0x5a7649(0x932)](_0x18688c[0x0]);_0x44b9d5=_0x2682a7[_0x5a7649(0x275)](_0x51879b=>'\x22'+_0x51879b+'\x22')[_0x5a7649(0x9ac)](',')+'\x0a';for(const _0x112671 of _0x18688c)_0x44b9d5+=_0x2682a7[_0x5a7649(0x275)](_0x51dcce=>'\x22'+_0x112671[_0x51dcce]+'\x22')[_0x5a7649(0x9ac)](',')+'\x0a';}return _0xda7c69[_0x5a7649(0x3d8)]||(_0xda7c69['internalContext']={}),_0xda7c69[_0x5a7649(0x3d8)][_0x5a7649(0x440)]=_0x44b9d5,_0xda7c69[_0x5a7649(0x3d8)][_0x5a7649(0x297)]='text/csv',_0xc04a2[_0x5a7649(0x309)](0x0,0x3e8);}catch(_0x4be246){return console[_0x5a7649(0x33b)](_0x4be246),await _0x4bd72a[_0x5a7649(0x756)]({'jobType':_0x2012ea['Skill'],'type':_0x21b1e8[_0x5a7649(0x360)],'jobId':_0x5cace0,'blockId':_0x5a7649(0x408),'traceLevel':_0x437662[_0x5a7649(0x1e8)],'startTime':_0x386ec7,'timestamp':Date[_0x5a7649(0xad3)](),'status':_0x5a7649(0x33b),'errorDetails':_0x2f092b(_0x4be246),'agentId':_0x41ae7a,'threadId':_0x4cbc85,'query':_0x193704?.['query']??'','results':_0x5a7649(0x4cb)}),_0x4be246 instanceof Error?_0x4be246[_0x5a7649(0x5c1)]:_0x5a7649(0x217);}}};}(_0x4ed935,_0x28c5a3,_0x40221e[_0x3f515b(0x6b7)],_0x5b4d1a,_0x5489f0);case _0x52458b[_0x3f515b(0x2a9)][_0x3f515b(0x85b)]:return async function(_0xba8330,_0x57f0cd,_0x14a834,_0x32755c){const _0x1e5b07=_0x3f515b,_0x4b0f85='Perform\x20a\x20search\x20on\x20Google\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.',_0x30e532={'query':{'type':_0x52458b['PromptFunctionParamsType'][_0x1e5b07(0x7da)]}};return await _0x4bd72a[_0x1e5b07(0x756)]({'jobType':_0x2012ea[_0x1e5b07(0x411)],'type':_0x2f7837[_0x1e5b07(0x1fc)],'jobId':_0xba8330,'agentId':_0x57f0cd,'threadId':_0x14a834,'traceLevel':_0x437662['Info'],'startTime':Date[_0x1e5b07(0xad3)](),'timestamp':Date['now'](),'status':_0x1e5b07(0xbb4),'function':_0x21b1e8[_0x1e5b07(0x483)],'params':_0x30e532,'functionDescription':_0x4b0f85}),{'description':_0x4b0f85,'params':_0x30e532,'callback':async _0x1c6586=>_0xb89765(_0x32755c,_0x1c6586,_0xba8330,_0x57f0cd,_0x14a834)};}(_0x4ed935,_0x28c5a3,_0x40221e[_0x3f515b(0x6b7)],_0x5489f0);case _0x52458b[_0x3f515b(0x2a9)][_0x3f515b(0x4c7)]:return _0x324960(_0x4ed935,_0x28c5a3,_0x40221e['threadId']);case _0x52458b['GenerativeAIInferenceToolType']['WebScraperRaw']:return _0x324960(_0x4ed935,_0x28c5a3,_0x40221e[_0x3f515b(0x6b7)],!0x1);case _0x52458b[_0x3f515b(0x2a9)][_0x3f515b(0x9a4)]:return async function(_0x10269a,_0x3ae532,_0x4fba73,_0x406075){const _0x376253=_0x3f515b,_0x58aedc='Write\x20text\x20data\x20to\x20a\x20file.',_0x10eecc={'text':{'type':_0x52458b['PromptFunctionParamsType'][_0x376253(0x7da)]}};return await _0x4bd72a[_0x376253(0x756)]({'jobType':_0x2012ea['JobContext'],'type':_0x2f7837[_0x376253(0x1fc)],'jobId':_0x10269a,'agentId':_0x3ae532,'threadId':_0x4fba73,'traceLevel':_0x437662[_0x376253(0x1e8)],'startTime':Date[_0x376253(0xad3)](),'timestamp':Date[_0x376253(0xad3)](),'status':_0x376253(0xbb4),'function':_0x21b1e8[_0x376253(0x9a4)],'params':_0x10eecc,'functionDescription':_0x58aedc}),{'description':_0x58aedc,'params':_0x10eecc,'callback':async _0x2fa09b=>{const _0x15e56d=_0x376253,_0x15ec59=Date[_0x15e56d(0xad3)]();try{if(_0x15e56d(0x924)!=typeof _0x2fa09b?.[_0x15e56d(0x89d)])throw new Error('Text\x20is\x20required');return await _0x4bd72a[_0x15e56d(0x756)]({'jobType':_0x2012ea[_0x15e56d(0x71a)],'type':_0x21b1e8['WriteFile'],'jobId':_0x10269a,'agentId':_0x3ae532,'threadId':_0x4fba73,'blockId':'write-file','traceLevel':_0x437662[_0x15e56d(0x1e8)],'startTime':_0x15ec59,'timestamp':Date[_0x15e56d(0xad3)](),'status':'success','content':_0x2fa09b[_0x15e56d(0x89d)]}),_0x406075[_0x15e56d(0x3d8)]||(_0x406075[_0x15e56d(0x3d8)]={}),_0x406075[_0x15e56d(0x3d8)][_0x15e56d(0x440)]=_0x2fa09b['text'],_0x406075[_0x15e56d(0x3d8)][_0x15e56d(0x297)]=_0x15e56d(0x92c),_0x15e56d(0x6fe);}catch(_0x2d2bcc){return console['error'](_0x2d2bcc),await _0x4bd72a[_0x15e56d(0x756)]({'jobType':_0x2012ea[_0x15e56d(0x71a)],'type':_0x21b1e8[_0x15e56d(0x9a4)],'jobId':_0x10269a,'blockId':_0x15e56d(0x7a6),'traceLevel':_0x437662['Info'],'startTime':_0x15ec59,'timestamp':Date[_0x15e56d(0xad3)](),'status':_0x15e56d(0x33b),'errorDetails':_0x2f092b(_0x2d2bcc),'agentId':_0x3ae532,'threadId':_0x4fba73,'content':_0x15e56d(0x924)==typeof _0x2fa09b?.[_0x15e56d(0x89d)]?_0x2fa09b['text']:''}),_0x2d2bcc instanceof Error?_0x2d2bcc['message']:_0x15e56d(0xc0d);}}};}(_0x4ed935,_0x28c5a3,_0x40221e[_0x3f515b(0x6b7)],_0x5b4d1a);}throw new Error(_0x3f515b(0x7f4));}function _0x2f092b(_0x3bae14){const _0x36abb7=_0x4a13a;try{return JSON[_0x36abb7(0x320)](_0x3bae14);}catch(_0x67b0c5){return _0x3bae14 instanceof Error?_0x3bae14[_0x36abb7(0x366)]():_0x36abb7(0x6b6);}}async function _0x17d28c(_0xf6633e,_0x3a6f60,_0x2bd4b5){const _0xb684cf=_0x4a13a,_0x4d69b5=_0x3a6f60[_0xb684cf(0x684)]??(0x0,_0xafe7f0['v4'])(),_0xecf5d5={'type':'prompt','context':[],'internalContext':_0x3a6f60[_0xb684cf(0x3d8)]??{},'inputTokens':0x0,'outputTokens':0x0},_0x49f59b=_0x3a6f60[_0xb684cf(0x649)];try{await(0x0,_0x4b695a[_0xb684cf(0xa27)])(_0x4c4338['getFunctions'](),_0xb684cf(0xbd1))({'vendorId':_0x49f59b});}catch(_0x2e67e2){throw console[_0xb684cf(0x33b)](_0x2e67e2),new Error(_0xb684cf(0x341));}const _0x4b1050=(await(0x0,_0x1264d4['getDoc'])((0x0,_0x1264d4[_0xb684cf(0x448)])(_0x4c4338[_0xb684cf(0x73a)](),_0xb684cf(0x908),_0x49f59b)))['data']();_0x4b1050&&_0x4b1050[_0xb684cf(0xa2b)]||(console[_0xb684cf(0x8b9)](new Date()+_0xb684cf(0x82b),_0x3a6f60[_0xb684cf(0x4da)],_0x5a18eb['get'](_0x3a6f60[_0xb684cf(0x4da)])[_0xb684cf(0x4c8)]),_0x3a6f60[_0xb684cf(0x4da)]=_0x5a18eb[_0xb684cf(0x68c)](_0x3a6f60['model'])[_0xb684cf(0x4c8)]);const _0x3d4f22=await async function(_0x57d857,_0x2f725d,_0x454f05,_0x530d92,_0x23b6a0){const _0x5f46e1=_0xb684cf,_0x2f516b=_0x23b6a0['models'][_0x5f46e1(0x319)](_0x214e2a=>_0x214e2a['id']===_0x454f05['model']);if(!_0x2f516b)throw new Error('Model\x20not\x20found');const _0x4ca966=_0x23b6a0['generativeAIWorkerConnectors'][_0x5f46e1(0x319)](_0x27dfe6=>_0x27dfe6[_0x5f46e1(0x496)]()===_0x2f516b[_0x5f46e1(0x2f6)]);if(!_0x4ca966)throw new Error(_0x5f46e1(0x474));const _0x5bec88=await _0x403250(_0x57d857,_0x2f725d,_0x454f05,_0x530d92,_0x454f05[_0x5f46e1(0x31e)]??[],_0x23b6a0);return _0x4ca966[_0x5f46e1(0x463)]({'type':'prompt','prompt':_0x454f05['prompt'],'instructions':_0x454f05[_0x5f46e1(0x820)],'reasoning':_0x454f05[_0x5f46e1(0x304)],'grammar':_0x454f05[_0x5f46e1(0xc30)],'temperature':_0x454f05[_0x5f46e1(0x7fc)],'maxTokens':_0x454f05[_0x5f46e1(0x6df)],'history':_0x454f05[_0x5f46e1(0xbf3)],'functions':_0x5bec88,'threadId':_0x454f05[_0x5f46e1(0x6b7)]},{'model':_0x2f516b,'sequences':Array[_0x5f46e1(0xad6)](_0x5bec88[_0x5f46e1(0x932)]())[_0x5f46e1(0x427)](_0x97381c=>_0x97381c[_0x5f46e1(0x293)]('executeAgent'))?0x2:0x1});}(_0xf6633e,_0x4d69b5,_0x3a6f60,_0xecf5d5,_0x2bd4b5);return _0x4bd72a[_0xb684cf(0xbec)](_0xf6633e,_0x3a6f60[_0xb684cf(0x4da)],_0x3d4f22[_0xb684cf(0x7ab)]??0x0,_0x3d4f22[_0xb684cf(0x883)]??0x0),console[_0xb684cf(0x8b9)](new Date()+_0xb684cf(0x1dc),_0x3a6f60[_0xb684cf(0x4da)],_0x3d4f22['inputTokens']??0x0,_0x3d4f22['outputTokens']??0x0),{'type':_0xb684cf(0x3f8),'output':_0x3d4f22[_0xb684cf(0x7ac)],'resultFile':_0x3d4f22['resultFile'],'context':_0xecf5d5['context'],'internalContext':_0xecf5d5['internalContext']??{},'inputTokens':_0x3d4f22[_0xb684cf(0x7ab)]??0x0,'outputTokens':_0x3d4f22[_0xb684cf(0x883)]??0x0};}async function _0x329933(_0x46a425,_0x35fd1b){const _0x21921a=_0x4a13a,_0x523739=await async function(_0x1f1173,_0xee4265){const _0x1274d2=a0_0x2cf3,_0x18ac32=_0xee4265[_0x1274d2(0x911)][_0x1274d2(0x319)](_0x50a3d1=>_0x50a3d1['id']===_0x1f1173[_0x1274d2(0x4da)]);if(!_0x18ac32)throw new Error('Model\x20not\x20found');const _0x2b79c4=_0xee4265[_0x1274d2(0xa74)][_0x1274d2(0x319)](_0x2fea69=>_0x2fea69['getEngineType']()===_0x18ac32['engineType']);if(!_0x2b79c4)throw new Error(_0x1274d2(0x474));return _0x2b79c4[_0x1274d2(0x463)]({'type':_0x1274d2(0x3f8),'prompt':_0x1f1173['text'],'threadId':_0x1f1173['threadId']},{'model':_0x18ac32,'sequences':0x1});}(_0x46a425,_0x35fd1b);return{'type':'prompt','output':_0x523739['output'],'inputTokens':_0x523739[_0x21921a(0x7ab)]??0x0,'outputTokens':_0x523739[_0x21921a(0x883)]??0x0};}async function _0x24f089(_0x2ad797,_0x25f37c){const _0x566911=_0x4a13a;let _0x416b37='',_0x4ff308={'type':_0x566911(0x3f8),'internalContext':_0x2ad797[_0x566911(0x3d8)]??{}};switch(_0x2ad797[_0x566911(0xa17)][_0x566911(0xbdd)]){case _0x52458b['GenerativeAIInferenceToolType'][_0x566911(0x673)]:case _0x52458b['GenerativeAIInferenceToolType']['AgentSkill']:_0x416b37=await _0x283f7a(_0x2ad797[_0x566911(0x649)],_0x2ad797[_0x566911(0xa17)],_0x25f37c,_0x2ad797['arguments'],_0x4ff308);break;case _0x52458b[_0x566911(0x2a9)][_0x566911(0x826)]:_0x416b37=await _0x72570b(_0x2ad797[_0x566911(0xa17)],_0x25f37c,_0x2ad797[_0x566911(0x2fa)]);break;case _0x52458b[_0x566911(0x2a9)][_0x566911(0x75c)]:_0x416b37=await _0x2eee4f(_0x2ad797['arguments']);break;case _0x52458b['GenerativeAIInferenceToolType'][_0x566911(0x5ea)]:case _0x52458b[_0x566911(0x2a9)][_0x566911(0x570)]:_0x416b37=await _0x5ad288(_0x2ad797[_0x566911(0x649)],_0x2ad797[_0x566911(0xa17)],_0x2ad797[_0x566911(0x2fa)],_0x4ff308);break;case _0x52458b[_0x566911(0x2a9)][_0x566911(0x975)]:_0x416b37=await _0x5406b8(_0x2ad797[_0x566911(0xa17)],_0x2ad797['arguments'],_0x4ff308);break;case _0x52458b[_0x566911(0x2a9)]['WebScraper']:_0x416b37=await _0x401a56(_0x2ad797[_0x566911(0x2fa)]);break;case _0x52458b[_0x566911(0x2a9)][_0x566911(0x4f9)]:_0x416b37=await _0x401a56(_0x2ad797[_0x566911(0x2fa)],!0x1);break;case _0x52458b[_0x566911(0x2a9)][_0x566911(0x85b)]:_0x416b37=await _0xb89765(_0x25f37c,_0x2ad797['arguments']);break;case _0x52458b[_0x566911(0x2a9)][_0x566911(0x414)]:_0x416b37=await _0x3241ad(_0x2ad797[_0x566911(0xa17)],_0x4ff308);break;case _0x52458b['GenerativeAIInferenceToolType'][_0x566911(0x2d2)]:_0x416b37=await _0x1cc5bc(_0x2ad797[_0x566911(0xa17)],_0x2ad797['arguments'],_0x4ff308);break;case _0x52458b['GenerativeAIInferenceToolType'][_0x566911(0x9bb)]:_0x416b37=await _0x3a5e53(_0x2ad797['tool'],_0x4ff308);break;case _0x52458b['GenerativeAIInferenceToolType']['WorkflowTool']:_0x2ad797[_0x566911(0xa17)][_0x566911(0xabb)]?_0x416b37=await _0x1fd89f(_0x2ad797[_0x566911(0x649)],_0x2ad797[_0x566911(0xa17)],_0x2ad797[_0x566911(0x2fa)],_0x4ff308):(_0x1fd89f(_0x2ad797[_0x566911(0x649)],_0x2ad797['tool'],_0x2ad797[_0x566911(0x2fa)],_0x4ff308),_0x416b37=_0x566911(0x95f));}return{'type':'tool-call','output':_0x416b37,'internalContext':_0x4ff308[_0x566911(0x3d8)]??{}};}async function*_0x41e513(_0x46039f,_0x3a8fb6,_0xffa7b5){const _0x211646=_0x4a13a,_0x44d84b=_0x3a8fb6[_0x211646(0x684)]??(0x0,_0xafe7f0['v4'])(),_0x2e79fc={'type':'prompt','context':[],'internalContext':_0x3a8fb6[_0x211646(0x3d8)]??{},'inputTokens':0x0,'outputTokens':0x0},_0x5078bd=new _0x3f216f(),_0x35f655=_0x3a8fb6[_0x211646(0x649)];try{await(0x0,_0x4b695a[_0x211646(0xa27)])(_0x4c4338[_0x211646(0x67d)](),_0x211646(0xbd1))({'vendorId':_0x35f655});}catch(_0x2bc2f8){throw console[_0x211646(0x33b)](_0x211646(0x971),_0x2bc2f8),new Error('Insufficient\x20credits');}const _0x1f9886=(await(0x0,_0x1264d4[_0x211646(0x93b)])((0x0,_0x1264d4[_0x211646(0x448)])(_0x4c4338[_0x211646(0x73a)](),_0x211646(0x908),_0x35f655)))[_0x211646(0x728)]();_0x1f9886&&_0x1f9886[_0x211646(0xa2b)]||(console['log'](new Date()+_0x211646(0x82b),_0x3a8fb6[_0x211646(0x4da)],_0x5a18eb[_0x211646(0x68c)](_0x3a8fb6[_0x211646(0x4da)])['fallbackModel']),_0x3a8fb6[_0x211646(0x4da)]=_0x5a18eb[_0x211646(0x68c)](_0x3a8fb6[_0x211646(0x4da)])['fallbackModel']),async function(_0x145577,_0x56594a,_0x570814,_0x2bcca1,_0x10b87e,_0x70042d){const _0x4f85af=_0x211646,_0x5db01f=_0x70042d['models'][_0x4f85af(0x319)](_0x4330fe=>_0x4330fe['id']===_0x570814[_0x4f85af(0x4da)]);if(!_0x5db01f)throw new Error('Model\x20not\x20found');const _0x158208=_0x70042d['generativeAIWorkerConnectors'][_0x4f85af(0x319)](_0x25c1fe=>_0x25c1fe[_0x4f85af(0x496)]()===_0x5db01f[_0x4f85af(0x2f6)]);if(!_0x158208)throw new Error(_0x4f85af(0x474));const _0x2c1410={'type':_0x4f85af(0x3f8),'output':''},_0x58bbc6=await _0x403250(_0x145577,_0x56594a,_0x570814,_0x2bcca1,_0x570814['tools']??[],_0x70042d,_0x10b87e);for await(const _0x348367 of _0x158208[_0x4f85af(0x75f)]({'type':_0x4f85af(0x3f8),'prompt':_0x570814[_0x4f85af(0x3f8)],'instructions':_0x570814[_0x4f85af(0x820)],'reasoning':_0x570814[_0x4f85af(0x304)],'grammar':_0x570814[_0x4f85af(0xc30)],'temperature':_0x570814['temperature'],'maxTokens':_0x570814[_0x4f85af(0x6df)],'history':_0x570814[_0x4f85af(0xbf3)],'functions':_0x58bbc6,'threadId':_0x570814[_0x4f85af(0x6b7)]},{'model':_0x5db01f,'sequences':Array['from'](_0x58bbc6[_0x4f85af(0x932)]())[_0x4f85af(0x427)](_0x487bb9=>_0x487bb9[_0x4f85af(0x293)]('executeAgent'))?0x2:0x1}))_0x10b87e[_0x4f85af(0x2e0)](_0x348367),_0x4f85af(0x924)==typeof _0x2c1410['output']&&'string'==typeof _0x348367[_0x4f85af(0x7ac)]&&(_0x2c1410[_0x4f85af(0x7ac)]+=_0x348367[_0x4f85af(0x7ac)]),_0x2c1410[_0x4f85af(0x7ab)]=_0x348367['inputTokens'],_0x2c1410[_0x4f85af(0x883)]=_0x348367[_0x4f85af(0x883)];await _0x37fc55['wait'](0x1),_0x10b87e['emit'](void 0x0);}(_0x46039f,_0x44d84b,_0x3a8fb6,_0x2e79fc,_0x5078bd,_0xffa7b5);let _0x29e544,_0xb1c7f1='',_0x1ca65d=0x0,_0x5a8401=0x0,_0x3aefee={'type':_0x211646(0x3f8)};for(;;){const _0xd17c75=await _0x5078bd['once']();if(!_0xd17c75)break;_0xb1c7f1+=_0xd17c75[_0x211646(0x7ac)],_0xd17c75[_0x211646(0x24d)]&&(_0x29e544=_0xd17c75[_0x211646(0x24d)]),_0x3aefee={'type':_0x211646(0x3f8),'output':_0xd17c75[_0x211646(0x7ac)],'context':_0x2e79fc[_0x211646(0x560)],'internalContext':{},'inputTokens':_0xd17c75[_0x211646(0x7ab)]??0x0,'outputTokens':_0xd17c75[_0x211646(0x883)]??0x0},_0x1ca65d+=_0xd17c75[_0x211646(0x7ab)]??0x0,_0x5a8401+=_0xd17c75['outputTokens']??0x0,((_0xd17c75[_0x211646(0x7ab)]??0x0)>0x0||(_0xd17c75[_0x211646(0x883)]??0x0)>0x0)&&console['log'](new Date()+_0x211646(0x4b0),_0x3a8fb6[_0x211646(0x4da)],_0xd17c75['inputTokens']??0x0,_0xd17c75[_0x211646(0x883)]??0x0),yield _0x3aefee;}_0x4bd72a[_0x211646(0xbec)](_0x46039f,_0x3a8fb6[_0x211646(0x4da)],_0x1ca65d,_0x5a8401),console[_0x211646(0x8b9)](new Date()+_0x211646(0x9fa),_0x3a8fb6[_0x211646(0x4da)],_0x1ca65d,_0x5a8401),yield{..._0x3aefee,'output':'','resultFile':_0x29e544,'internalContext':_0x2e79fc['internalContext']??{}};}async function _0x5f32f9(_0x44c8cb,_0x38a6a6,_0x10588a,_0x274d46,_0x46413e,_0x408bc4){const _0x3cd296=_0x4a13a,_0x25ffd4=Date['now']();if(!_0x408bc4[_0x3cd296(0x911)]['find'](_0x48ac7d=>_0x48ac7d['id']===_0x274d46['modelId']))throw new Error('Model\x20not\x20found');const _0x33fa66=(0x0,_0xafe7f0['v4'])(),_0x2f01e7=[];_0x2f01e7[_0x3cd296(0x247)]({'role':_0x3cd296(0x532),'content':_0x274d46[_0x3cd296(0x820)]}),_0x2f01e7[_0x3cd296(0x247)]({'role':'user','content':_0x10588a});const _0x103685=await fetch(_0x2fd4ca[_0x3cd296(0xc43)]+_0x3cd296(0x712),{'method':_0x3cd296(0x6e0),'headers':{'Content-Type':_0x3cd296(0xbf0),'x-vendor-id':_0x44c8cb},'body':JSON[_0x3cd296(0x320)]({'model':_0x274d46[_0x3cd296(0xc0a)],'messages':_0x2f01e7,'max_completion_tokens':_0x274d46['maxTokens'],'temperature':_0x274d46[_0x3cd296(0x7fc)],'threadId':_0x33fa66})}),_0x4f4ef9=(await _0x103685['json']())[_0x3cd296(0x806)][0x0]['message'][_0x3cd296(0x816)];await _0x4bd72a[_0x3cd296(0x756)]({'jobType':_0x2012ea['Ingest'],'type':_0x335227['Agent'],'jobId':_0x38a6a6,'blockId':_0x274d46['id'],'traceLevel':_0x437662[_0x3cd296(0x589)],'timestamp':Date[_0x3cd296(0xad3)](),'startTime':_0x25ffd4,'status':'success','agentId':_0x33fa66,'content':_0x10588a,'instructions':_0x274d46[_0x3cd296(0x820)],'result':_0x4f4ef9});const _0xf235f4=[];if(_0x274d46['links']?.[_0x3cd296(0x427)](_0x574a35=>_0x574a35[_0x3cd296(0xbdd)]===_0x81f8f3[_0x3cd296(0x209)]))return _0xf235f4[_0x3cd296(0x247)]({'content':_0x4f4ef9,'start':0x0,'length':_0x4f4ef9['length']}),await _0x419700(_0x44c8cb,_0x38a6a6,_0xf235f4,_0x274d46,_0x46413e,_0x408bc4),void await _0x419700(_0x44c8cb,_0x38a6a6,_0x4f4ef9,_0x274d46,_0x46413e,_0x408bc4);_0xf235f4[_0x3cd296(0x247)]({'content':_0x4f4ef9,'start':0x0,'length':_0x10588a[_0x3cd296(0x454)]}),await _0x419700(_0x44c8cb,_0x38a6a6,_0xf235f4,_0x274d46,_0x46413e,_0x408bc4);}async function _0x3bcd35(_0x347631,_0x350fc3,_0x4fc852,_0x339c60,_0x4eb5fb,_0x2553f4){const _0x2d801d=_0x4a13a,_0x30b686=Date[_0x2d801d(0xad3)]();let _0xace500=[];if(_0x4fc852 instanceof Array)for(const _0x3f30cd of _0x4fc852){if(_0x2d801d(0x924)!=typeof _0x3f30cd[_0x2d801d(0x816)])throw new Error('Invalid\x20content\x20type');_0xace500=_0xace500[_0x2d801d(0x9dd)](_0x21e32b(_0x3f30cd[_0x2d801d(0x816)],_0x339c60,_0x3f30cd[_0x2d801d(0x434)],_0x3f30cd['length']));}else _0xace500=_0x21e32b(_0x4fc852,_0x339c60);await _0x4bd72a['trace']({'jobType':_0x2012ea['Ingest'],'type':_0x335227[_0x2d801d(0x878)],'traceLevel':_0x437662[_0x2d801d(0x589)],'jobId':_0x350fc3,'blockId':_0x339c60['id'],'startTime':_0x30b686,'timestamp':Date[_0x2d801d(0xad3)](),'status':_0x2d801d(0xbb4),'totalChunks':_0xace500[_0x2d801d(0x454)],'chunkSize':_0x339c60['attributes']['size']}),await _0x419700(_0x347631,_0x350fc3,_0xace500,_0x339c60,_0x4eb5fb,_0x2553f4);}function _0x21e32b(_0x2dba73,_0x30a1c9,_0x3407a9,_0x257298){const _0x1e27b0=_0x4a13a,_0x48aa6e=[];for(let _0x41961c=0x0;_0x41961c<_0x2dba73[_0x1e27b0(0x454)];_0x41961c+=_0x30a1c9[_0x1e27b0(0x37d)][_0x1e27b0(0x7a7)]){let _0x3d348a=_0x41961c-_0x30a1c9['attributes'][_0x1e27b0(0x8e4)];_0x3d348a<0x0&&(_0x3d348a=0x0);let _0x80b80e=_0x41961c+_0x30a1c9[_0x1e27b0(0x37d)][_0x1e27b0(0x7a7)]+_0x30a1c9[_0x1e27b0(0x37d)]['overlap'];_0x80b80e>_0x2dba73[_0x1e27b0(0x454)]&&(_0x80b80e=_0x2dba73[_0x1e27b0(0x454)]);const _0x5988b7=_0x2dba73[_0x1e27b0(0x309)](_0x3d348a,_0x80b80e);_0x48aa6e[_0x1e27b0(0x247)]({'content':_0x5988b7,'start':_0x3407a9??_0x41961c,'length':_0x257298??(_0x41961c+_0x30a1c9[_0x1e27b0(0x37d)]['size']>_0x2dba73[_0x1e27b0(0x454)]?_0x2dba73[_0x1e27b0(0x454)]-_0x41961c:_0x30a1c9['attributes'][_0x1e27b0(0x7a7)])});}return _0x48aa6e;}async function _0x57ceed(_0x2f8644,_0x3b5b97,_0x510b88,_0x23eb0d,_0x259456,_0x2332d8){const _0x43e335=_0x4a13a,_0x4d5667=Date[_0x43e335(0xad3)]();let _0x227728;if(_0x510b88['file'][_0x43e335(0xbdd)][_0x43e335(0x293)](_0x43e335(0x70d))||_0x254d05(_0x510b88[_0x43e335(0x347)][_0x43e335(0xbbd)],_0x4f685d))_0x227728=await _0x510b88[_0x43e335(0x347)][_0x43e335(0x89d)]();else{if(!_0x2332d8[_0x43e335(0x977)]['supports'](_0x510b88[_0x43e335(0x347)]))throw new Error(_0x43e335(0x34b)+_0x510b88[_0x43e335(0x347)]['type']+'\x20-\x20'+_0x510b88['file'][_0x43e335(0xbbd)]);_0x227728=await _0x2332d8['documentParserConnector'][_0x43e335(0xb6b)](_0x510b88['file']);}await _0x4bd72a['trace']({'jobType':_0x2012ea[_0x43e335(0x9ca)],'type':_0x335227[_0x43e335(0x22c)],'traceLevel':_0x437662['Debug'],'blockId':_0x23eb0d['id'],'jobId':_0x3b5b97,'startTime':_0x4d5667,'timestamp':Date[_0x43e335(0xad3)](),'status':_0x43e335(0xbb4),'documentType':_0x510b88[_0x43e335(0x347)][_0x43e335(0xbdd)],'documentName':_0x510b88[_0x43e335(0x347)]['name'],'extractionMethod':_0x43e335(0xbe2)}),await _0x419700(_0x2f8644,_0x3b5b97,_0x227728,_0x23eb0d,_0x259456,_0x2332d8);const _0x83307f=[{'content':_0x227728,'start':0x0,'length':_0x227728['length']}];await _0x419700(_0x2f8644,_0x3b5b97,_0x83307f,_0x23eb0d,_0x259456,_0x2332d8);}const _0x4f685d=[_0x4a13a(0x965),_0x4a13a(0x453),_0x4a13a(0x379),_0x4a13a(0x7cf),'.txt','.html',_0x4a13a(0x620),_0x4a13a(0x43c),_0x4a13a(0x3c8),_0x4a13a(0x755),_0x4a13a(0x1fb),_0x4a13a(0x95c),_0x4a13a(0x4b6),_0x4a13a(0x71d),_0x4a13a(0x927),_0x4a13a(0x393),_0x4a13a(0x8af),_0x4a13a(0x5bd),_0x4a13a(0x75b),_0x4a13a(0x40c),'.c',_0x4a13a(0x2ab),_0x4a13a(0x2de),'.r','.go','.swift',_0x4a13a(0xa26),_0x4a13a(0x368),_0x4a13a(0xbe1),_0x4a13a(0x1fa),_0x4a13a(0xba8),'.lua',_0x4a13a(0x9f7),_0x4a13a(0x30a),_0x4a13a(0x78c),_0x4a13a(0x66c),_0x4a13a(0x3b6),_0x4a13a(0x2af),'.vb',_0x4a13a(0x8d3),_0x4a13a(0x5a6),'.m',_0x4a13a(0xb0d),_0x4a13a(0x5fa),_0x4a13a(0xb76),_0x4a13a(0x4d7),_0x4a13a(0xc42),_0x4a13a(0x78a),_0x4a13a(0xb43),_0x4a13a(0x759),'.erb',_0x4a13a(0x469),_0x4a13a(0x652),_0x4a13a(0x768),_0x4a13a(0x98e),'.ejs',_0x4a13a(0x216),_0x4a13a(0xb72),'.mustache',_0x4a13a(0x269),_0x4a13a(0x94e),'.j2','.djt'];function _0x254d05(_0x3580ce,_0x14b41b){const _0x19c920=_0x4a13a;return _0x14b41b[_0x19c920(0xa7f)]('.'+(_0x3580ce[_0x19c920(0x3ca)]('.')['pop']()?.[_0x19c920(0x3fb)]()||''));}async function _0x169d3e(_0x45b192,_0x184ae8,_0x39fab5,_0x120cd5,_0x30e6d0,_0x1172fe){const _0x599f1f=_0x4a13a,_0x1f736b=Date['now'](),_0x6f706c=new Set();let _0x6b3b09=0x0;for(const _0x288c83 of _0x39fab5){if(_0x599f1f(0x924)!=typeof _0x288c83[_0x599f1f(0x816)])throw new Error(_0x599f1f(0x8fb));_0x6b3b09+=_0x288c83['content']['length'],await _0x43c6c2(_0x288c83[_0x599f1f(0x816)],_0x6f706c,_0x120cd5,_0x1172fe['nlpLibraryConnector']);}await _0x4bd72a[_0x599f1f(0x756)]({'jobType':_0x2012ea['Ingest'],'type':_0x335227[_0x599f1f(0x298)],'jobId':_0x184ae8,'blockId':_0x120cd5['id'],'traceLevel':_0x437662['Debug'],'startTime':_0x1f736b,'timestamp':Date[_0x599f1f(0xad3)](),'status':_0x599f1f(0xbb4),'contentLength':_0x6b3b09,'totalChunks':_0x39fab5 instanceof Array?_0x39fab5[_0x599f1f(0x454)]:0x1,'entitiesExtracted':_0x6f706c,'totalEntities':_0x6f706c['size']}),await _0x419700(_0x45b192,_0x184ae8,_0x6f706c,_0x120cd5,_0x30e6d0,_0x1172fe);}async function _0x43c6c2(_0x1f74fb,_0x44db4a,_0x3dc4f0,_0x26fe70){const _0x2cf14e=_0x4a13a,_0x102487=await _0x26fe70[_0x2cf14e(0x8f8)](_0x1f74fb,{'ner':_0x3dc4f0[_0x2cf14e(0x37d)][_0x2cf14e(0xacb)],'noun':_0x3dc4f0[_0x2cf14e(0x37d)][_0x2cf14e(0x7dc)],'propn':_0x3dc4f0[_0x2cf14e(0x37d)]['propn'],'verb':_0x3dc4f0['attributes'][_0x2cf14e(0x2fb)]});for(const _0x39396d of _0x102487)_0x44db4a[_0x2cf14e(0xc09)](_0x39396d);}async function _0x133341(_0x18eb04,_0x229bbe,_0x200ba9,_0x4fd372,_0x37c8f7){const _0xbbc551=_0x4a13a,_0x14e76c=Date[_0xbbc551(0xad3)]();if(_0x200ba9['accumulated']||(_0x200ba9[_0xbbc551(0xa95)]={}),_0xbbc551(0x924)==typeof _0x229bbe?_0x200ba9[_0xbbc551(0xa95)]['content']=_0x229bbe:_0x229bbe instanceof Set?_0x200ba9['accumulated'][_0xbbc551(0x1e1)]=_0x229bbe:_0x229bbe instanceof Map?_0x200ba9['accumulated']['relations']=_0x229bbe:_0x229bbe instanceof Array?_0x200ba9[_0xbbc551(0xa95)][_0xbbc551(0x315)]=_0x229bbe:_0x200ba9['accumulated']['file']=_0x229bbe,_0x200ba9['timesCalled']=_0x200ba9[_0xbbc551(0xbdf)]?_0x200ba9['timesCalled']+0x1:0x1,_0x4f73aa(_0x200ba9,_0x4fd372['ingestBlocks'])>_0x200ba9[_0xbbc551(0xbdf)])return;if(!(_0x200ba9[_0xbbc551(0xa95)][_0xbbc551(0x1e1)]&&_0x200ba9[_0xbbc551(0xa95)][_0xbbc551(0x347)]&&_0x200ba9[_0xbbc551(0xa95)][_0xbbc551(0x816)]&&_0x200ba9[_0xbbc551(0xa95)][_0xbbc551(0x315)]))throw new Error(_0xbbc551(0x6b9));let _0x522da6=0x0;const _0xd64126=_0x37c8f7[_0xbbc551(0x2f4)][_0xbbc551(0x66e)](_0x200ba9['id']);for(const _0x32a2ad of _0x200ba9[_0xbbc551(0xa95)][_0xbbc551(0x1e1)]){let _0x22c58b=[];_0x22c58b=_0x200ba9[_0xbbc551(0xa95)]['index'][_0xbbc551(0x675)](_0x4798b3=>_0xbbc551(0x924)==typeof _0x4798b3[_0xbbc551(0x816)]&&_0x4798b3[_0xbbc551(0x816)]['includes'](_0x32a2ad));try{_0xd64126['addNode'](_0x200ba9[_0xbbc551(0xa95)][_0xbbc551(0x347)][_0xbbc551(0x45c)],_0x200ba9['accumulated']['content'],_0x22c58b,_0x32a2ad),_0x522da6+=0x1;}catch(_0x2ba2e0){}}if(_0x200ba9['accumulated'][_0xbbc551(0x7c6)]){for(const [_0x262dd3,_0x449060]of _0x200ba9[_0xbbc551(0xa95)][_0xbbc551(0x7c6)])for(const _0x6e697c of _0x449060)try{_0xd64126[_0xbbc551(0x710)](_0x262dd3,_0x6e697c);}catch(_0x5229f0){}await _0x4bd72a[_0xbbc551(0x756)]({'jobType':_0x2012ea[_0xbbc551(0x9ca)],'type':_0x335227['GraphDatabase'],'jobId':_0x18eb04,'blockId':_0x200ba9['id'],'status':_0xbbc551(0xbb4),'startTime':_0x14e76c,'timestamp':Date['now'](),'traceLevel':_0x437662['Debug'],'nodesAdded':_0x522da6,'entities':_0x200ba9['accumulated'][_0xbbc551(0x1e1)],'relations':_0x200ba9[_0xbbc551(0xa95)]['relations']});}}async function _0x14901d(_0x15b2ad,_0x19bde3,_0x2ab617,_0x426e3d,_0x30a00d,_0x58f32b){const _0x24e955=_0x4a13a,_0x11daed=_0x58f32b['models'][_0x24e955(0x319)](_0x1564a3=>_0x1564a3['id']===_0x426e3d['id']);if(!_0x11daed)throw new Error(_0x24e955(0xa67));switch(_0x11daed[_0x24e955(0x497)]){case _0x52458b['GenerativeAIModelOutputType'][_0x24e955(0x209)]:if(_0x24e955(0x924)!=typeof _0x2ab617)throw new Error(_0x24e955(0x695));await async function(_0x2523c5,_0x16622d,_0xfa4442,_0x53375c,_0x3386bf,_0x104e79,_0x5e1f0b){const _0x2421db=_0x24e955,_0xb15bfb=Date['now']();let _0x2083ff;const _0x1ddffe=await fetch(_0x2fd4ca[_0x2421db(0xc43)]+'/chat/completions',{'method':_0x2421db(0x6e0),'headers':{'Content-Type':_0x2421db(0xbf0),'x-vendor-id':_0x2523c5},'body':JSON['stringify']({'messages':[{'role':_0x2421db(0x5bc),'content':_0xfa4442}],'model':_0x53375c['id']})});_0x2083ff=(await _0x1ddffe[_0x2421db(0x731)]())['choices'][0x0]['message'][_0x2421db(0x816)],await _0x4bd72a['trace']({'jobType':_0x2012ea[_0x2421db(0x9ca)],'type':_0x335227[_0x2421db(0x4e1)],'jobId':_0x16622d,'blockId':_0x3386bf['id'],'traceLevel':_0x437662[_0x2421db(0x589)],'timestamp':Date[_0x2421db(0xad3)](),'startTime':_0xb15bfb,'status':_0x2421db(0xbb4),'modelName':_0x53375c['id'],'inputType':_0x53375c[_0x2421db(0x1e5)],'outputType':_0x53375c['outputType'],'content':_0xfa4442,'results':_0x2083ff}),await _0x419700(_0x2523c5,_0x16622d,_0x2083ff,_0x3386bf,_0x104e79,_0x5e1f0b);}(_0x15b2ad,_0x19bde3,_0x2ab617,_0x11daed,_0x426e3d,_0x30a00d,_0x58f32b);break;case _0x52458b[_0x24e955(0x747)][_0x24e955(0x520)]:if(!(_0x2ab617 instanceof Array))throw new Error('Model\x20output\x20type\x20is\x20vector\x20but\x20input\x20is\x20not\x20an\x20index');await async function(_0x668c3,_0x4204e4,_0x28516b,_0x100f33,_0x516834,_0x440e0f,_0x1facfd){const _0x3acb40=_0x24e955,_0x1cb2a8=Date[_0x3acb40(0xad3)](),_0x203095=await fetch(_0x2fd4ca[_0x3acb40(0xc43)]+_0x3acb40(0xba0),{'method':_0x3acb40(0x6e0),'headers':{'Content-Type':_0x3acb40(0xbf0),'x-vendor-id':_0x668c3},'body':JSON[_0x3acb40(0x320)]({'input':_0x28516b[_0x3acb40(0x275)](_0x1235fc=>_0x1235fc[_0x3acb40(0x816)]),'model':_0x100f33['id']})}),_0x2e8a08=(await _0x203095[_0x3acb40(0x731)]())[_0x3acb40(0x728)][_0x3acb40(0x275)](_0x6f1102=>_0x6f1102['embedding']);await _0x4bd72a[_0x3acb40(0x756)]({'jobType':_0x2012ea[_0x3acb40(0x9ca)],'type':_0x335227[_0x3acb40(0xaa8)],'jobId':_0x4204e4,'blockId':_0x516834['id'],'traceLevel':_0x437662[_0x3acb40(0x589)],'timestamp':Date[_0x3acb40(0xad3)](),'startTime':_0x1cb2a8,'status':_0x3acb40(0xbb4),'modelName':_0x100f33['id'],'inputType':_0x100f33[_0x3acb40(0x1e5)],'outputType':_0x100f33[_0x3acb40(0x497)],'totalVectors':_0x2e8a08[_0x3acb40(0x454)]}),await _0x419700(_0x668c3,_0x4204e4,_0x2e8a08,_0x516834,_0x440e0f,_0x1facfd);}(_0x15b2ad,_0x19bde3,_0x2ab617,_0x11daed,_0x426e3d,_0x30a00d,_0x58f32b);}}async function _0x18df7b(_0x2854aa,_0x5bb73f,_0x2fd814,_0x2e9cf6,_0x3f0af7,_0x178974){const _0x54a48e=_0x4a13a,_0x5236fd=Date[_0x54a48e(0xad3)]();if(_0x2e9cf6[_0x54a48e(0xa95)]||(_0x2e9cf6['accumulated']={}),_0x2fd814 instanceof Array?_0x2e9cf6[_0x54a48e(0xa95)][_0x54a48e(0x315)]=_0x2fd814:_0x2e9cf6['accumulated']['entities']=_0x2fd814,_0x2e9cf6[_0x54a48e(0xbdf)]=_0x2e9cf6[_0x54a48e(0xbdf)]?_0x2e9cf6[_0x54a48e(0xbdf)]+0x1:0x1,_0x4f73aa(_0x2e9cf6,_0x3f0af7[_0x54a48e(0x98f)])>_0x2e9cf6[_0x54a48e(0xbdf)])return;if(!_0x2e9cf6[_0x54a48e(0xa95)][_0x54a48e(0x315)]||!_0x2e9cf6[_0x54a48e(0xa95)]['entities'])throw new Error('Relation\x20extractor\x20block\x20is\x20missing\x20required\x20data');const _0x1fc9e7=new Map();for(const _0x14466c of _0x2e9cf6['accumulated'][_0x54a48e(0x315)]){if(_0x54a48e(0x924)!=typeof _0x14466c['content'])throw new Error(_0x54a48e(0x8fb));_0x4750ab(_0x14466c[_0x54a48e(0x816)],_0x2e9cf6['accumulated']['entities'],_0x1fc9e7);}await _0x4bd72a['trace']({'jobType':_0x2012ea[_0x54a48e(0x9ca)],'type':_0x335227[_0x54a48e(0x8da)],'jobId':_0x5bb73f,'blockId':_0x2e9cf6['id'],'traceLevel':_0x437662[_0x54a48e(0x589)],'timestamp':Date[_0x54a48e(0xad3)](),'startTime':_0x5236fd,'status':'success','entities':_0x2e9cf6['accumulated'][_0x54a48e(0x1e1)],'relations':_0x1fc9e7,'totalRelationsExtracted':_0x1fc9e7[_0x54a48e(0x7a7)]}),await _0x419700(_0x2854aa,_0x5bb73f,_0x1fc9e7,_0x2e9cf6,_0x3f0af7,_0x178974);}function _0x4750ab(_0x450e0f,_0x51d890,_0x240de8){const _0x18c0ef=_0x4a13a;for(const _0x11242f of _0x51d890)for(const _0x368d8f of _0x51d890){if(_0x11242f===_0x368d8f)continue;const _0x347e7a=_0x450e0f['indexOf'](_0x11242f),_0x20e55d=_0x450e0f[_0x18c0ef(0x619)](_0x368d8f);-0x1!==_0x347e7a&&-0x1!==_0x20e55d&&(_0x240de8[_0x18c0ef(0x738)](_0x11242f)||_0x240de8[_0x18c0ef(0x2a7)](_0x11242f,new Set()),_0x240de8['get'](_0x11242f)[_0x18c0ef(0xc09)](_0x368d8f));}return _0x240de8;}async function _0xb29024(_0x4b02d7,_0x305394,_0x42e646,_0x21662a,_0x555bc3,_0x41aba5){const _0x6efe8f=_0x4a13a,_0x3aa10d=Date[_0x6efe8f(0xad3)]();let _0x3260f4=[];if(_0x42e646 instanceof Array)for(const _0x25181e of _0x42e646){if(_0x6efe8f(0x924)!=typeof _0x25181e[_0x6efe8f(0x816)])throw new Error('Invalid\x20content\x20type');const _0x278203=await _0x41aba5[_0x6efe8f(0xa6c)]['getSentences'](_0x25181e[_0x6efe8f(0x816)]);_0x3260f4=_0x3260f4[_0x6efe8f(0x9dd)](_0x278203['map'](_0x590568=>({'content':_0x590568,'start':_0x25181e[_0x6efe8f(0x434)],'length':_0x25181e['length']})));}else _0x3260f4=(await _0x41aba5[_0x6efe8f(0xa6c)][_0x6efe8f(0x8b0)](_0x42e646))['map'](_0x2a695a=>({'content':_0x2a695a,'start':_0x42e646['indexOf'](_0x2a695a),'length':_0x2a695a['length']}));await _0x4bd72a[_0x6efe8f(0x756)]({'jobType':_0x2012ea[_0x6efe8f(0x9ca)],'type':_0x335227[_0x6efe8f(0x50b)],'jobId':_0x305394,'blockId':_0x21662a['id'],'traceLevel':_0x437662['Debug'],'startTime':_0x3aa10d,'timestamp':Date[_0x6efe8f(0xad3)](),'status':_0x6efe8f(0xbb4),'totalSentences':_0x3260f4[_0x6efe8f(0x454)],'averageSentenceLength':_0x3260f4['reduce']((_0x32b134,_0x567670)=>_0x32b134+_0x567670[_0x6efe8f(0x454)],0x0)/_0x3260f4[_0x6efe8f(0x454)]}),await _0x419700(_0x4b02d7,_0x305394,_0x3260f4,_0x21662a,_0x555bc3,_0x41aba5);}async function _0x53ba92(_0x5745b6,_0x1fcec4,_0x535346,_0x14b97d,_0x5a904d){const _0x56bd8f=_0x4a13a,_0x4a681f=_0x1fcec4[_0x56bd8f(0x684)]??(0x0,_0xafe7f0['v4'])(),_0x550469=Date[_0x56bd8f(0xad3)]();await _0x4bd72a[_0x56bd8f(0x756)]({'jobType':_0x2012ea[_0x56bd8f(0x95b)],'type':_0x216952[_0x56bd8f(0x3e0)],'jobId':_0x5745b6,'blockId':_0x535346['id'],'agentId':_0x4a681f,'threadId':_0x1fcec4[_0x56bd8f(0x6b7)],'traceLevel':_0x437662[_0x56bd8f(0x1e8)],'startTime':Date['now'](),'timestamp':Date[_0x56bd8f(0xad3)](),'status':'success','initialPrompt':_0x1fcec4[_0x56bd8f(0x3f8)]});const _0x33d8b4={'type':'prompt','context':[],'inputTokens':0x0,'outputTokens':0x0};_0x1fcec4[_0x56bd8f(0x3d8)]&&(_0x33d8b4[_0x56bd8f(0x3d8)]=_0x1fcec4['internalContext']),await _0x1a5fb7(_0x5745b6,_0x1fcec4,_0x33d8b4,_0x535346,_0x14b97d,_0x5a904d),await _0x4fac30(_0x5745b6,''+_0x1fcec4['prompt'],_0x1fcec4,_0x33d8b4,_0x535346,_0x14b97d,_0x5a904d);const {inputTokens:_0x3abd23=0x0,outputTokens:_0x2069b8=0x0,context:_0x5f2832=[]}=_0x33d8b4;await _0x4bd72a[_0x56bd8f(0x756)]({'jobType':_0x2012ea[_0x56bd8f(0x95b)],'type':_0x216952[_0x56bd8f(0xb4d)],'jobId':_0x5745b6,'agentId':_0x4a681f,'threadId':_0x1fcec4['threadId'],'traceLevel':_0x437662[_0x56bd8f(0x1e8)],'startTime':_0x550469,'timestamp':Date[_0x56bd8f(0xad3)](),'blockId':_0x535346['id'],'status':_0x56bd8f(0xbb4),'output':_0x33d8b4[_0x56bd8f(0x7ac)]?.['toString']()??'','prompt':_0x1fcec4[_0x56bd8f(0x3f8)],'agentName':'','history':_0x1fcec4[_0x56bd8f(0xbf3)]??[],'instructions':''+(_0x1fcec4[_0x56bd8f(0x820)]??''),'ragContext':_0x5f2832,'inputTokens':_0x3abd23,'outputTokens':_0x2069b8});const _0x251db5=_0x14b97d[_0x56bd8f(0x319)](_0x581f9b=>_0x581f9b[_0x56bd8f(0xbdd)]===_0xa515c[_0x56bd8f(0xa14)]),_0x54c5a6=_0x251db5?.[_0x56bd8f(0xa95)]?.[_0x56bd8f(0x347)]?Buffer[_0x56bd8f(0xad6)](await _0x251db5[_0x56bd8f(0xa95)][_0x56bd8f(0x347)][_0x56bd8f(0x5f9)]())[_0x56bd8f(0x366)]('base64'):void 0x0,_0x19620b=_0x54c5a6&&_0x251db5?.[_0x56bd8f(0xa95)]?.[_0x56bd8f(0x347)]?'data:'+_0x251db5[_0x56bd8f(0xa95)][_0x56bd8f(0x347)][_0x56bd8f(0xbdd)]+_0x56bd8f(0x4ba)+_0x54c5a6:void 0x0;return{'type':_0x56bd8f(0x3f8),'output':_0x33d8b4[_0x56bd8f(0x7ac)],'context':_0x33d8b4['context'],'internalContext':_0x33d8b4[_0x56bd8f(0x3d8)],'resultFile':_0x19620b??void 0x0,'inputTokens':_0x33d8b4['inputTokens']??0x0,'outputTokens':_0x33d8b4['outputTokens']??0x0};}async function*_0x112ad9(_0x5e6c73,_0x2b4676,_0x1b95f3,_0x120450,_0x101ad9){const _0x1e2e67=_0x4a13a,_0x557b6c=_0x2b4676[_0x1e2e67(0x684)]??(0x0,_0xafe7f0['v4'])(),_0x55fe31=Date[_0x1e2e67(0xad3)]();await _0x4bd72a['trace']({'jobType':_0x2012ea[_0x1e2e67(0x95b)],'type':_0x216952[_0x1e2e67(0x3e0)],'jobId':_0x5e6c73,'agentId':_0x557b6c,'threadId':_0x2b4676[_0x1e2e67(0x6b7)],'traceLevel':_0x437662[_0x1e2e67(0x1e8)],'startTime':Date[_0x1e2e67(0xad3)](),'timestamp':Date[_0x1e2e67(0xad3)](),'blockId':_0x1b95f3['id'],'status':_0x1e2e67(0xbb4),'initialPrompt':_0x2b4676[_0x1e2e67(0x3f8)]});const _0x4a9961={'type':'prompt','context':[],'inputTokens':0x0,'outputTokens':0x0};_0x2b4676[_0x1e2e67(0x3d8)]&&(_0x4a9961[_0x1e2e67(0x3d8)]=_0x2b4676[_0x1e2e67(0x3d8)]);const _0x2fbd8e=new _0x3f216f();await _0x1a5fb7(_0x5e6c73,_0x2b4676,_0x4a9961,_0x1b95f3,_0x120450,_0x101ad9),_0x4fac30(_0x5e6c73,''+_0x2b4676[_0x1e2e67(0x3f8)],_0x2b4676,_0x4a9961,_0x1b95f3,_0x120450,_0x101ad9,_0x2fbd8e);let _0x191d57='',_0x49f26e={'type':'prompt'};for(;;){const _0x483f4b=await _0x2fbd8e[_0x1e2e67(0x64f)]();if(!_0x483f4b)break;_0x191d57+=_0x483f4b['output'],_0x49f26e={'type':_0x1e2e67(0x3f8),'output':_0x483f4b[_0x1e2e67(0x7ac)],'context':_0x4a9961[_0x1e2e67(0x560)],'resultFile':void 0x0,'inputTokens':(_0x4a9961[_0x1e2e67(0x7ab)]??0x0)+(_0x483f4b[_0x1e2e67(0x7ab)]??0x0),'outputTokens':(_0x4a9961[_0x1e2e67(0x883)]??0x0)+(_0x483f4b[_0x1e2e67(0x883)]??0x0)},yield _0x49f26e;}const _0x4b7604=_0x120450[_0x1e2e67(0x319)](_0x2627da=>_0x2627da[_0x1e2e67(0xbdd)]===_0xa515c['Answer']),_0x340b44=_0x4b7604?.[_0x1e2e67(0xa95)]?.[_0x1e2e67(0x347)]?Buffer[_0x1e2e67(0xad6)](await _0x4b7604['accumulated']['file'][_0x1e2e67(0x5f9)]())['toString'](_0x1e2e67(0x39e)):void 0x0,_0x1c1ae2=_0x340b44&&_0x4b7604?.['accumulated']?.[_0x1e2e67(0x347)]?_0x1e2e67(0x531)+_0x4b7604[_0x1e2e67(0xa95)][_0x1e2e67(0x347)]['type']+_0x1e2e67(0x4ba)+_0x340b44:void 0x0;yield{..._0x49f26e,'output':'','internalContext':_0x4a9961['internalContext'],'resultFile':_0x1c1ae2??void 0x0};const {inputTokens:_0x3a3f97=0x0,outputTokens:_0x1924d8=0x0,context:_0x330cac=[]}=_0x49f26e;await _0x4bd72a[_0x1e2e67(0x756)]({'jobType':_0x2012ea['Workflow'],'type':_0x216952['FinalOutput'],'jobId':_0x5e6c73,'agentId':_0x557b6c,'threadId':_0x2b4676[_0x1e2e67(0x6b7)],'traceLevel':_0x437662[_0x1e2e67(0x1e8)],'startTime':_0x55fe31,'timestamp':Date[_0x1e2e67(0xad3)](),'blockId':_0x1b95f3['id'],'status':_0x1e2e67(0xbb4),'output':_0x191d57,'prompt':_0x2b4676[_0x1e2e67(0x3f8)],'agentName':'','history':_0x2b4676[_0x1e2e67(0xbf3)]??[],'instructions':''+(_0x2b4676[_0x1e2e67(0x820)]??''),'ragContext':_0x330cac,'inputTokens':_0x3a3f97,'outputTokens':_0x1924d8});}async function _0x1a5fb7(_0x354b4f,_0x184633,_0x751a4e,_0x54f074,_0xa49d9e,_0x1485d1){const _0x2ebaa6=_0x4a13a;if(_0x184633[_0x2ebaa6(0x824)]&&_0x54f074['links']){const _0x34c26b=[];for(const _0x59bbb9 of _0x184633[_0x2ebaa6(0x824)])_0x34c26b['push'](_0x549e74(_0x59bbb9));_0x54f074[_0x2ebaa6(0xbbc)][_0x2ebaa6(0x427)](_0x339ae1=>_0x339ae1['type']===_0x81f8f3['File'])&&await async function(_0x55705a,_0x333604,_0x3f73fa,_0xd4bc1b,_0x16f6ee,_0x28605d,_0x2d853e){const _0x23719d=_0x2ebaa6;if(0x0===_0x333604['length'])return;const _0x252127=[];for(const _0x131936 of _0x333604){const _0x211c36=_0x131936[_0x23719d(0xbdd)];if(!_0x211c36[_0x23719d(0x293)](_0x23719d(0xad8)))continue;const _0x7b03c=await _0x131936[_0x23719d(0x5f9)](),_0x294022=Buffer[_0x23719d(0xad6)](_0x7b03c)[_0x23719d(0x366)](_0x23719d(0x39e));_0x252127[_0x23719d(0x247)](_0x211c36+_0x23719d(0x4ba)+_0x294022);}if(_0x16f6ee[_0x23719d(0xbbc)])for(const _0x560de1 of _0x16f6ee[_0x23719d(0xbbc)]){if(_0x560de1[_0x23719d(0xbdd)]!==_0x81f8f3[_0x23719d(0xa75)])continue;const _0x333fbb=_0x28605d['find'](_0x5ad29a=>_0x5ad29a[_0x23719d(0xb27)]===_0x560de1['uid']);if(_0x333fbb){for(const _0xa8adb6 of _0x252127)_0x333fbb[_0x23719d(0xbdd)]===_0xa515c[_0x23719d(0x673)]&&await _0x8f5a21(_0x55705a,_0x560de1['type'],_0xa8adb6,_0x3f73fa,_0xd4bc1b,_0x333fbb,_0x28605d,_0x2d853e);}}}(_0x354b4f,_0x34c26b,_0x184633,_0x751a4e,_0x54f074,_0xa49d9e,_0x1485d1),_0x54f074[_0x2ebaa6(0xbbc)][_0x2ebaa6(0x427)](_0x9bace3=>_0x9bace3[_0x2ebaa6(0xbdd)]===_0x81f8f3[_0x2ebaa6(0xb9c)])&&await async function(_0x4aacd6,_0x3ca297,_0xd4d7a0,_0x1bfea0,_0x23444f,_0x6d668c,_0x4a7d56){const _0x1d3355=_0x2ebaa6;if(0x0===_0x3ca297[_0x1d3355(0x454)])return;const _0x2daf50=[];for(const _0x5ebea5 of _0x3ca297){const _0xf7d0a5=_0x5ebea5['type'];if(!_0xf7d0a5[_0x1d3355(0x293)](_0x1d3355(0x49f)))continue;const _0x5bb1e8=await _0x5ebea5['arrayBuffer'](),_0x4878d8=Buffer[_0x1d3355(0xad6)](_0x5bb1e8)['toString'](_0x1d3355(0x39e));_0x2daf50['push'](_0xf7d0a5+_0x1d3355(0x4ba)+_0x4878d8);}if(_0x23444f[_0x1d3355(0xbbc)])for(const _0x41bfa4 of _0x23444f['links']){if(_0x41bfa4[_0x1d3355(0xbdd)]!==_0x81f8f3['Image'])continue;const _0x50afa0=_0x6d668c[_0x1d3355(0x319)](_0xace251=>_0xace251[_0x1d3355(0xb27)]===_0x41bfa4[_0x1d3355(0xb27)]);if(_0x50afa0){for(const _0x35b06b of _0x2daf50)_0x50afa0[_0x1d3355(0xbdd)]===_0xa515c[_0x1d3355(0x673)]&&await _0x8f5a21(_0x4aacd6,_0x41bfa4[_0x1d3355(0xbdd)],_0x35b06b,_0xd4d7a0,_0x1bfea0,_0x50afa0,_0x6d668c,_0x4a7d56);}}}(_0x354b4f,_0x34c26b,_0x184633,_0x751a4e,_0x54f074,_0xa49d9e,_0x1485d1),_0x54f074[_0x2ebaa6(0xbbc)][_0x2ebaa6(0x427)](_0x3aa637=>_0x3aa637[_0x2ebaa6(0xbdd)]===_0x81f8f3[_0x2ebaa6(0x6ef)])&&await async function(_0x3a38d9,_0x3e615c,_0x4df1e,_0x5b7751,_0x1e1056,_0x5598b2,_0xfa050d){const _0x1fecee=_0x2ebaa6;if(0x0===_0x3e615c[_0x1fecee(0x454)])return;const _0x39ed07=[];for(const _0x4dc7d9 of _0x3e615c){const _0x2ec69a=_0x4dc7d9[_0x1fecee(0xbdd)];if(!_0x2ec69a[_0x1fecee(0x293)]('audio/')&&!_0x2ec69a[_0x1fecee(0x293)](_0x1fecee(0x98b)))continue;const _0x43fcc5=await _0x4dc7d9[_0x1fecee(0x5f9)](),_0x15c9a5=Buffer[_0x1fecee(0xad6)](_0x43fcc5)['toString']('base64');_0x39ed07[_0x1fecee(0x247)](_0x2ec69a+_0x1fecee(0x4ba)+_0x15c9a5);}if(_0x1e1056[_0x1fecee(0xbbc)])for(const _0xc107b9 of _0x1e1056['links']){if(_0xc107b9[_0x1fecee(0xbdd)]!==_0x81f8f3[_0x1fecee(0x6ef)])continue;const _0x21910c=_0x5598b2['find'](_0x47dfac=>_0x47dfac[_0x1fecee(0xb27)]===_0xc107b9[_0x1fecee(0xb27)]);if(_0x21910c){for(const _0x1437c3 of _0x39ed07)_0x21910c[_0x1fecee(0xbdd)]===_0xa515c[_0x1fecee(0x673)]&&await _0x8f5a21(_0x3a38d9,_0xc107b9[_0x1fecee(0xbdd)],_0x1437c3,_0x4df1e,_0x5b7751,_0x21910c,_0x5598b2,_0xfa050d);}}}(_0x354b4f,_0x34c26b,_0x184633,_0x751a4e,_0x54f074,_0xa49d9e,_0x1485d1);}}function _0x549e74(_0x21d568){const _0x317317=_0x4a13a,_0x392cb1=Uint8Array[_0x317317(0xad6)](Buffer[_0x317317(0xad6)](_0x21d568[_0x317317(0x816)],_0x317317(0x39e))),_0x5a52f7=new Blob([_0x392cb1],{'type':_0x21d568[_0x317317(0xbdd)]});return new File([_0x5a52f7],_0x21d568[_0x317317(0xbbd)],{'type':_0x21d568['type']});}function _0x46cb9f(_0x318e7f,_0xd17b9b){const _0x533fbb=_0x4a13a;switch(_0xd17b9b[_0x533fbb(0x20f)]){case _0x1bb8b2[_0x533fbb(0x5c9)]:return _0x533fbb(0xb1f);case _0x1bb8b2[_0x533fbb(0xae4)]:return _0x318e7f;case _0x1bb8b2['Dedicated']:default:return _0xd17b9b['id'];}}async function _0x134994(_0x5be0ad,_0x18eb16,_0x1093a7,_0x114db6,_0x286a2c,_0x8585f9){const _0x45e68a=_0x4a13a,_0x5aff71=Date[_0x45e68a(0xad3)]();var _0x1f0977;if(_0x114db6['accumulated']||(_0x114db6[_0x45e68a(0xa95)]={}),_0x1093a7 instanceof Array?(_0x1f0977=_0x1093a7)[0x0]instanceof Array&&'number'==typeof _0x1f0977[0x0]?.[0x0]?_0x114db6[_0x45e68a(0xa95)]['vectors']=_0x1093a7:_0x114db6[_0x45e68a(0xa95)]['index']=_0x1093a7:_0x45e68a(0x924)==typeof _0x1093a7?_0x114db6[_0x45e68a(0xa95)][_0x45e68a(0x816)]=_0x1093a7:_0x114db6[_0x45e68a(0xa95)][_0x45e68a(0x347)]=_0x1093a7,_0x114db6[_0x45e68a(0xbdf)]=_0x114db6[_0x45e68a(0xbdf)]?_0x114db6[_0x45e68a(0xbdf)]+0x1:0x1,!(_0x4f73aa(_0x114db6,_0x286a2c[_0x45e68a(0x98f)])>_0x114db6[_0x45e68a(0xbdf)])){if('vector-database'===_0x114db6['id']){if(!_0x114db6[_0x45e68a(0xa95)][_0x45e68a(0x315)]||!_0x114db6['accumulated']['vectors']||!_0x114db6['accumulated'][_0x45e68a(0x347)])throw new Error('Vector\x20database\x20block\x20is\x20missing\x20required\x20data');if(!_0x8585f9[_0x45e68a(0x554)])throw new Error(_0x45e68a(0x3a9));const _0x5d35a6=[];for(let _0x674ae2=0x0;_0x674ae2<_0x114db6[_0x45e68a(0xa95)][_0x45e68a(0x315)][_0x45e68a(0x454)];_0x674ae2++){const _0x167922=_0x114db6['accumulated'][_0x45e68a(0x60f)][_0x674ae2],_0x1b98ff=_0x114db6[_0x45e68a(0xa95)][_0x45e68a(0x315)][_0x674ae2];_0x5d35a6[_0x45e68a(0x247)]({'content':_0x167922,'start':_0x1b98ff[_0x45e68a(0x434)],'length':_0x1b98ff[_0x45e68a(0x454)]});}const _0x2b88cb=_0x46cb9f(_0x5be0ad,_0x286a2c);await _0x8585f9[_0x45e68a(0x554)]['ingestFile']({'instanceId':_0x2b88cb,'collectionId':_0x286a2c['id'],'namespace':_0x286a2c['namespace']},_0x114db6[_0x45e68a(0xa95)][_0x45e68a(0x347)]['pathName'],_0x5d35a6);}else{if(!(_0x114db6[_0x45e68a(0xa95)][_0x45e68a(0x816)]&&_0x114db6[_0x45e68a(0xa95)][_0x45e68a(0x315)]&&_0x114db6[_0x45e68a(0xa95)][_0x45e68a(0x60f)]&&_0x114db6[_0x45e68a(0xa95)]['file']))throw new Error(_0x45e68a(0xa94));const _0xfb72a3=_0x8585f9['contentMediator'][_0x45e68a(0x344)](_0x114db6['id']);_0xfb72a3[_0x45e68a(0x6e5)](_0x114db6[_0x45e68a(0xa95)][_0x45e68a(0x347)][_0x45e68a(0x45c)],_0x114db6['accumulated']['content'],_0x114db6[_0x45e68a(0xa95)][_0x45e68a(0x315)],_0x114db6[_0x45e68a(0xa95)][_0x45e68a(0x60f)]),await _0x4bd72a['trace']({'jobType':_0x2012ea[_0x45e68a(0x9ca)],'type':_0x335227[_0x45e68a(0x844)],'jobId':_0x18eb16,'blockId':_0x114db6['id'],'traceLevel':_0x437662['Debug'],'startTime':_0x5aff71,'timestamp':Date['now'](),'status':_0x45e68a(0xbb4),'databaseName':_0xfb72a3[_0x45e68a(0x534)](),'vectorsAdded':_0x114db6['accumulated'][_0x45e68a(0x60f)][_0x45e68a(0x454)],'filePathName':_0x114db6['accumulated']['file'][_0x45e68a(0x45c)]});}}}async function _0xb00a19(_0x15b776,_0x22379d,_0x579035,_0x3f939b,_0x4d5870,_0x54938b){const _0x2d74e1=_0x4a13a,_0x20c8c6=Date[_0x2d74e1(0xad3)]();let _0x404c04=[];if(_0x579035 instanceof Array)for(const _0x1bb514 of _0x579035){if('string'!=typeof _0x1bb514[_0x2d74e1(0x816)])throw new Error(_0x2d74e1(0x8fb));_0x404c04=_0x404c04['concat'](_0x7730b8(_0x1bb514['content'],_0x3f939b,_0x1bb514[_0x2d74e1(0x434)],_0x1bb514[_0x2d74e1(0x454)]));}else _0x404c04=_0x7730b8(_0x579035,_0x3f939b);await _0x4bd72a[_0x2d74e1(0x756)]({'jobType':_0x2012ea[_0x2d74e1(0x9ca)],'type':_0x335227[_0x2d74e1(0x1f5)],'jobId':_0x22379d,'traceLevel':_0x437662['Debug'],'blockId':_0x3f939b['id'],'startTime':_0x20c8c6,'timestamp':Date[_0x2d74e1(0xad3)](),'status':_0x2d74e1(0xbb4),'totalChunks':_0x404c04[_0x2d74e1(0x454)],'averageChunkLength':_0x404c04[_0x2d74e1(0x624)]((_0x286520,_0x57fd53)=>_0x286520+_0x57fd53[_0x2d74e1(0x454)],0x0)/_0x404c04['length']}),await _0x419700(_0x15b776,_0x22379d,_0x404c04,_0x3f939b,_0x4d5870,_0x54938b);}function _0x7730b8(_0xc57105,_0x50de59,_0x2b0255,_0x3a65a8){const _0x1c3c4=_0x4a13a,_0x472dae=[],_0x3e9277=_0xc57105[_0x1c3c4(0x3ca)]('\x20');let _0x3c8324='',_0xbdb240=-0x1,_0x138821=0x0,_0x170481=0x0;for(const _0x3af5b2 of _0x3e9277){if(_0x3c8324['length']+_0x3af5b2['length']>_0x50de59['attributes'][_0x1c3c4(0x7a7)]){const _0x36ffab=_0x3c8324['length'];let _0xce80a4=_0xbdb240,_0x4db0aa='';for(;_0xce80a4>=0x0&&_0x4db0aa[_0x1c3c4(0x454)]+_0x3e9277[_0xce80a4][_0x1c3c4(0x454)]<_0x50de59[_0x1c3c4(0x37d)][_0x1c3c4(0x8e4)];)_0x4db0aa=_0x3e9277[_0xce80a4]+'\x20'+_0x4db0aa,_0xce80a4--;let _0x51e6fa=_0x138821,_0x2efb49='';for(;_0x51e6fa<_0x3e9277[_0x1c3c4(0x454)]&&_0x2efb49[_0x1c3c4(0x454)]+_0x3e9277[_0x51e6fa][_0x1c3c4(0x454)]<_0x50de59['attributes'][_0x1c3c4(0x8e4)];)_0x2efb49+=_0x3e9277[_0x51e6fa]+'\x20',_0x51e6fa++;_0x3c8324=_0x4db0aa+_0x3c8324+_0x2efb49,_0x472dae['push']({'content':_0x3c8324[_0x1c3c4(0x31a)](),'start':_0x2b0255??_0x170481,'length':_0x3a65a8??_0x36ffab}),_0x3c8324='',_0xbdb240=_0x138821-0x1,_0x170481+=_0x36ffab;}_0x3c8324+=_0x3af5b2+'\x20',_0x138821++;}if(_0x3c8324[_0x1c3c4(0x454)]>0x0){const _0x88a17d=_0x3c8324[_0x1c3c4(0x454)];let _0x4ed83b=_0xbdb240,_0x3a1eae='';for(;_0x4ed83b>=0x0&&_0x3a1eae[_0x1c3c4(0x454)]+_0x3e9277[_0x4ed83b]['length']<_0x50de59[_0x1c3c4(0x37d)][_0x1c3c4(0x8e4)];)_0x3a1eae=_0x3e9277[_0x4ed83b]+'\x20'+_0x3a1eae,_0x4ed83b--;_0x3c8324=_0x3a1eae+_0x3c8324,_0x472dae[_0x1c3c4(0x247)]({'content':_0x3c8324[_0x1c3c4(0x31a)](),'start':_0x2b0255??_0x170481,'length':_0x3a65a8??_0x88a17d});}return _0x472dae;}async function _0x419700(_0x50c55a,_0x14ba42,_0x4fe8a6,_0x2e379c,_0x186cc0,_0x18b77e){const _0x1549c9=_0x4a13a;for(const _0x629265 of _0x2e379c[_0x1549c9(0xbbc)]||[]){const _0x13b15b=_0x186cc0[_0x1549c9(0x98f)][_0x1549c9(0x319)](_0x43d54d=>_0x43d54d[_0x1549c9(0xb27)]===_0x629265[_0x1549c9(0xb27)]);if(_0x13b15b)switch(_0x13b15b['type']){case _0x2f4e96['Agent']:_0x629265[_0x1549c9(0xbdd)]===_0x81f8f3['Text']&&_0x1549c9(0x924)==typeof _0x4fe8a6&&await _0x5f32f9(_0x50c55a,_0x14ba42,_0x4fe8a6,_0x13b15b,_0x186cc0,_0x18b77e);break;case _0x2f4e96[_0x1549c9(0x878)]:_0x629265[_0x1549c9(0xbdd)]===_0x81f8f3[_0x1549c9(0x209)]&&_0x1549c9(0x924)==typeof _0x4fe8a6&&await _0x3bcd35(_0x50c55a,_0x14ba42,_0x4fe8a6,_0x13b15b,_0x186cc0,_0x18b77e),_0x629265[_0x1549c9(0xbdd)]===_0x81f8f3[_0x1549c9(0x5e3)]&&_0x4fe8a6 instanceof Array&&await _0x3bcd35(_0x50c55a,_0x14ba42,_0x4fe8a6,_0x13b15b,_0x186cc0,_0x18b77e);break;case _0x2f4e96[_0x1549c9(0x22c)]:_0x629265[_0x1549c9(0xbdd)]===_0x81f8f3[_0x1549c9(0xa75)]&&await _0x57ceed(_0x50c55a,_0x14ba42,_0x4fe8a6,_0x13b15b,_0x186cc0,_0x18b77e);break;case _0x2f4e96['Embed']:if(_0x629265[_0x1549c9(0xbdd)]===_0x81f8f3[_0x1549c9(0x5e3)]&&_0x4fe8a6 instanceof Array){if(!_0x186cc0[_0x1549c9(0xc0a)])throw new Error(_0x1549c9(0x788));const _0x2c1ce7={'type':_0x2f4e96[_0x1549c9(0x7f3)],'id':_0x186cc0[_0x1549c9(0xc0a)],'uid':(0x0,_0xafe7f0['v4'])(),'links':_0x13b15b['links']};await _0x14901d(_0x50c55a,_0x14ba42,_0x4fe8a6,_0x2c1ce7,_0x186cc0,_0x18b77e);}break;case _0x2f4e96[_0x1549c9(0x298)]:_0x629265['type']===_0x81f8f3[_0x1549c9(0x5e3)]&&_0x4fe8a6 instanceof Array&&await _0x169d3e(_0x50c55a,_0x14ba42,_0x4fe8a6,_0x13b15b,_0x186cc0,_0x18b77e);break;case _0x2f4e96[_0x1549c9(0x5dd)]:_0x629265[_0x1549c9(0xbdd)]===_0x81f8f3[_0x1549c9(0x209)]&&_0x1549c9(0x924)==typeof _0x4fe8a6&&await _0x133341(_0x14ba42,_0x4fe8a6,_0x13b15b,_0x186cc0,_0x18b77e),_0x629265[_0x1549c9(0xbdd)]===_0x81f8f3['Index']&&_0x4fe8a6 instanceof Array&&await _0x133341(_0x14ba42,_0x4fe8a6,_0x13b15b,_0x186cc0,_0x18b77e),_0x629265[_0x1549c9(0xbdd)]===_0x81f8f3[_0x1549c9(0xa2c)]&&_0x4fe8a6 instanceof Set&&await _0x133341(_0x14ba42,_0x4fe8a6,_0x13b15b,_0x186cc0,_0x18b77e),_0x629265['type']===_0x81f8f3[_0x1549c9(0x5e2)]&&_0x4fe8a6 instanceof Map&&await _0x133341(_0x14ba42,_0x4fe8a6,_0x13b15b,_0x186cc0,_0x18b77e),_0x629265['type']===_0x81f8f3[_0x1549c9(0xa75)]&&await _0x133341(_0x14ba42,_0x4fe8a6,_0x13b15b,_0x186cc0,_0x18b77e);break;case _0x2f4e96[_0x1549c9(0x7f3)]:_0x629265[_0x1549c9(0xbdd)]===_0x81f8f3[_0x1549c9(0x209)]&&_0x1549c9(0x924)==typeof _0x4fe8a6&&await _0x14901d(_0x50c55a,_0x14ba42,_0x4fe8a6,_0x13b15b,_0x186cc0,_0x18b77e),_0x629265[_0x1549c9(0xbdd)]===_0x81f8f3['Index']&&_0x4fe8a6 instanceof Array&&await _0x14901d(_0x50c55a,_0x14ba42,_0x4fe8a6,_0x13b15b,_0x186cc0,_0x18b77e);break;case _0x2f4e96[_0x1549c9(0x8da)]:_0x629265[_0x1549c9(0xbdd)]===_0x81f8f3[_0x1549c9(0x5e3)]&&_0x4fe8a6 instanceof Array&&await _0x18df7b(_0x50c55a,_0x14ba42,_0x4fe8a6,_0x13b15b,_0x186cc0,_0x18b77e),_0x629265[_0x1549c9(0xbdd)]===_0x81f8f3[_0x1549c9(0xa2c)]&&_0x4fe8a6 instanceof Set&&await _0x18df7b(_0x50c55a,_0x14ba42,_0x4fe8a6,_0x13b15b,_0x186cc0,_0x18b77e);break;case _0x2f4e96['SentenceSplitter']:_0x629265['type']===_0x81f8f3[_0x1549c9(0x209)]&&_0x1549c9(0x924)==typeof _0x4fe8a6&&await _0xb29024(_0x50c55a,_0x14ba42,_0x4fe8a6,_0x13b15b,_0x186cc0,_0x18b77e),_0x629265[_0x1549c9(0xbdd)]===_0x81f8f3[_0x1549c9(0x5e3)]&&_0x4fe8a6 instanceof Array&&await _0xb29024(_0x50c55a,_0x14ba42,_0x4fe8a6,_0x13b15b,_0x186cc0,_0x18b77e);break;case _0x2f4e96['VectorDatabase']:_0x629265[_0x1549c9(0xbdd)]===_0x81f8f3['Text']&&_0x1549c9(0x924)==typeof _0x4fe8a6&&await _0x134994(_0x50c55a,_0x14ba42,_0x4fe8a6,_0x13b15b,_0x186cc0,_0x18b77e),_0x629265[_0x1549c9(0xbdd)]===_0x81f8f3[_0x1549c9(0x5e3)]&&_0x4fe8a6 instanceof Array&&await _0x134994(_0x50c55a,_0x14ba42,_0x4fe8a6,_0x13b15b,_0x186cc0,_0x18b77e),_0x629265[_0x1549c9(0xbdd)]===_0x81f8f3[_0x1549c9(0x520)]&&_0x4fe8a6 instanceof Array&&await _0x134994(_0x50c55a,_0x14ba42,_0x4fe8a6,_0x13b15b,_0x186cc0,_0x18b77e),_0x629265['type']===_0x81f8f3[_0x1549c9(0xa75)]&&await _0x134994(_0x50c55a,_0x14ba42,_0x4fe8a6,_0x13b15b,_0x186cc0,_0x18b77e);break;case _0x2f4e96[_0x1549c9(0x1f5)]:_0x629265['type']===_0x81f8f3['Text']&&'string'==typeof _0x4fe8a6&&await _0xb00a19(_0x50c55a,_0x14ba42,_0x4fe8a6,_0x13b15b,_0x186cc0,_0x18b77e),_0x629265[_0x1549c9(0xbdd)]===_0x81f8f3[_0x1549c9(0x5e3)]&&_0x4fe8a6 instanceof Array&&await _0xb00a19(_0x50c55a,_0x14ba42,_0x4fe8a6,_0x13b15b,_0x186cc0,_0x18b77e);}}}function _0x4f73aa(_0x175bc4,_0xcf18e9){const _0x1eb788=_0x4a13a;return _0xcf18e9['filter'](_0x3d6f9a=>_0x3d6f9a[_0x1eb788(0xbbc)]?.[_0x1eb788(0x427)](_0x436132=>_0x436132[_0x1eb788(0xb27)]===_0x175bc4[_0x1eb788(0xb27)]))[_0x1eb788(0x454)];}async function _0x32b8eb(_0x5bc879,_0x5dc5f7,_0x42e098,_0x35aae1,_0x5bb888,_0x3471a,_0x2f9dd2){const _0x136505=_0x4a13a;try{let _0x4479ab;switch(_0x5bb888[_0x136505(0xbdd)]){case _0x2f4e96[_0x136505(0x3cd)]:const _0x5c3cc9=_0x2f9dd2['contentMediator'][_0x136505(0xaac)](_0x5bb888['id']);_0x4479ab=await _0x5c3cc9[_0x136505(0x68c)](_0x42e098);break;case _0x2f4e96[_0x136505(0x245)]:const _0x3bb664=_0x2f9dd2[_0x136505(0x2f4)][_0x136505(0x3a1)](_0x5bb888['id']);_0x4479ab=await _0x3bb664[_0x136505(0x68c)](_0x42e098);case _0x2f4e96[_0x136505(0x3c3)]:const _0x5cf6e1=_0x42e098[_0x136505(0x3ca)]('/')[_0x136505(0x984)]();if(!_0x5cf6e1)throw new Error(_0x136505(0x47b));const _0x3990d4=_0x42e098['replace'](_0x5cf6e1,''),_0x24ba92=Buffer[_0x136505(0xad6)](_0x35aae1,_0x136505(0x39e));if(_0x4479ab=new File([_0x24ba92],_0x5cf6e1),!_0x2f9dd2['objectStoreConnector'])throw new Error('FS\x20connector\x20is\x20not\x20available');await _0x2f9dd2[_0x136505(0x2b3)][_0x136505(0x494)](_0x4479ab,_0x3990d4);}if(!_0x4479ab)throw new Error(_0x136505(0x503));await _0x419700(_0x5bc879,_0x5dc5f7,{'file':_0x4479ab,'pathName':_0x42e098},_0x5bb888,structuredClone(_0x3471a),_0x2f9dd2);}catch(_0x2d37b7){console[_0x136505(0x33b)]('Error\x20processing\x20ingest',_0x2d37b7);}}async function _0x536571(_0x5ca1eb,_0x4c1919,_0x55f516,_0x5824e8,_0x5b8488,_0x225f14,_0x3a2581,_0x478ded){const _0x5d8a67=_0x4a13a,_0x1b8d1f=Date[_0x5d8a67(0xad3)](),_0x23750c=new Set();if(_0x5824e8 instanceof Array){for(const _0x36976b of _0x5824e8)await _0x4eb594(_0x36976b[_0x5d8a67(0x816)],_0x225f14,_0x23750c,_0x478ded[_0x5d8a67(0xa6c)]);}else await _0x4eb594(_0x5824e8,_0x225f14,_0x23750c,_0x478ded[_0x5d8a67(0xa6c)]);await _0x4bd72a[_0x5d8a67(0x756)]({'jobType':_0x2012ea[_0x5d8a67(0x4fa)],'type':_0x3d909e['EntityExtractor'],'jobId':_0x4c1919,'threadId':_0x55f516,'blockId':_0x225f14['id'],'traceLevel':_0x437662['Debug'],'startTime':_0x1b8d1f,'timestamp':Date[_0x5d8a67(0xad3)](),'status':_0x5d8a67(0xbb4),'content':_0x5824e8,'entitiesExtracted':Array[_0x5d8a67(0xad6)](_0x23750c),'totalEntities':_0x23750c[_0x5d8a67(0x7a7)]}),await _0x176ea7(_0x5ca1eb,_0x4c1919,_0x55f516,_0x23750c,_0x5b8488,_0x225f14,_0x3a2581,_0x478ded);}async function _0x4eb594(_0x368f39,_0x5b3a53,_0x5738f1,_0x1c73ba){const _0x1c9c5=_0x4a13a,_0x37eb98=await _0x1c73ba[_0x1c9c5(0x8f8)](_0x368f39,{'ner':_0x5b3a53[_0x1c9c5(0x37d)][_0x1c9c5(0xacb)],'noun':_0x5b3a53[_0x1c9c5(0x37d)][_0x1c9c5(0x7dc)],'propn':_0x5b3a53[_0x1c9c5(0x37d)]['propn'],'verb':_0x5b3a53[_0x1c9c5(0x37d)][_0x1c9c5(0x2fb)]});for(const _0x58b67c of _0x37eb98)_0x5738f1[_0x1c9c5(0xc09)](_0x58b67c);}async function _0x3863fd(_0x13f9cd,_0x33ee16,_0x38cdf4,_0x43ca7b,_0x53001f,_0x4a5615,_0x32172d,_0x20da37){const _0x131578=_0x4a13a,_0xd6fb74=Date[_0x131578(0xad3)]();if(_0x4a5615[_0x131578(0xa95)]||(_0x4a5615[_0x131578(0xa95)]={}),_0x43ca7b instanceof Array?(_0x4a5615[_0x131578(0xa95)][_0x131578(0x44b)]||(_0x4a5615[_0x131578(0xa95)][_0x131578(0x44b)]=[]),_0x4a5615[_0x131578(0xa95)][_0x131578(0x44b)]['push'](..._0x43ca7b)):_0x43ca7b instanceof Set?_0x4a5615['accumulated'][_0x131578(0x1e1)]=_0x43ca7b:_0x4a5615[_0x131578(0xa95)][_0x131578(0x3f8)]=_0x43ca7b,_0x4a5615[_0x131578(0xbdf)]=_0x4a5615[_0x131578(0xbdf)]?_0x4a5615[_0x131578(0xbdf)]+0x1:0x1,_0x3dbbea(_0x4a5615,_0x32172d[_0x131578(0x2d3)])>_0x4a5615[_0x131578(0xbdf)])return;if(!_0x4a5615[_0x131578(0xa95)][_0x131578(0x3f8)]&&!_0x4a5615[_0x131578(0xa95)][_0x131578(0x44b)]||!_0x4a5615[_0x131578(0xa95)][_0x131578(0x1e1)])throw new Error(_0x131578(0x6b9));const _0x30b419=_0x20da37[_0x131578(0x2f4)][_0x131578(0x66e)](_0x4a5615['id'])['getContent'](Array['from'](_0x4a5615[_0x131578(0xa95)][_0x131578(0x1e1)]),_0x4a5615['attributes'][_0x131578(0xa09)],_0x4a5615[_0x131578(0x37d)][_0x131578(0xc3a)]);let _0x144e7a=[];for(const _0xb83e04 in _0x30b419){const _0x1729bf=_0x30b419[_0xb83e04];for(const _0x49948f of _0x1729bf){let _0x80e1d9=0x0;if(_0x4a5615['accumulated'][_0x131578(0x3f8)]&&(_0x80e1d9=await _0x20da37[_0x131578(0xa6c)]['getSimilarity'](_0x4a5615[_0x131578(0xa95)][_0x131578(0x3f8)],_0x49948f)),_0x4a5615['accumulated'][_0x131578(0x44b)]){for(const _0x36543f of _0x4a5615['accumulated'][_0x131578(0x44b)])_0x80e1d9=Math[_0x131578(0x340)](_0x80e1d9,await _0x20da37[_0x131578(0xa6c)][_0x131578(0x204)](_0x36543f[_0x131578(0x816)],_0x49948f));}_0x80e1d9<_0x4a5615[_0x131578(0x37d)][_0x131578(0xab3)]||_0x144e7a[_0x131578(0x247)]({'content':_0x49948f,'relevance':_0x80e1d9,'pathName':_0xb83e04});}}_0x144e7a=_0x144e7a[_0x131578(0xbde)]((_0x14bb1b,_0xc7a4ba)=>_0xc7a4ba['relevance']-_0x14bb1b[_0x131578(0xb54)])['slice'](0x0,_0x4a5615[_0x131578(0x37d)][_0x131578(0x96c)]),await _0x4bd72a[_0x131578(0x756)]({'jobType':_0x2012ea[_0x131578(0x4fa)],'type':_0x3d909e[_0x131578(0x2b9)],'jobId':_0x33ee16,'threadId':_0x38cdf4,'blockId':_0x4a5615['id'],'traceLevel':_0x437662[_0x131578(0x589)],'timestamp':Date['now'](),'startTime':_0xd6fb74,'status':_0x131578(0xbb4),'content':_0x43ca7b,'topResults':_0x144e7a,'numResults':_0x144e7a[_0x131578(0x454)]}),await _0x176ea7(_0x13f9cd,_0x33ee16,_0x38cdf4,_0x144e7a,_0x53001f,_0x4a5615,_0x32172d,_0x20da37);}async function _0x4c37a3(_0x587c4c,_0x216c5d,_0x3f37ce,_0x5194dc,_0x5dc415,_0x1a9e57,_0x50d55f,_0x5221b9){const _0xe3711b=_0x4a13a,_0x5dd0ff=_0x5221b9[_0xe3711b(0x911)][_0xe3711b(0x319)](_0x2214b8=>_0x2214b8['id']===_0x1a9e57['id']);if(!_0x5dd0ff)throw new Error(_0xe3711b(0xa67));let _0x192b62='';switch(_0x192b62=_0x5194dc instanceof Array?_0x5194dc['map'](_0x43e073=>_0x43e073[_0xe3711b(0x816)])['join'](',\x20'):_0x5194dc,_0x5dd0ff[_0xe3711b(0x497)]){case _0x52458b[_0xe3711b(0x747)]['Text']:await async function(_0x311eaa,_0x9b9d6b,_0x370940,_0x251a75,_0x38f8b4,_0x5e26de,_0x2f37ab,_0x24f211,_0x34c7f3){const _0x475636=_0xe3711b,_0x410d54=Date[_0x475636(0xad3)](),_0x57e998=await fetch(_0x2fd4ca['apiUrl']+_0x475636(0x712),{'method':'POST','headers':{'Content-Type':_0x475636(0xbf0),'x-vendor-id':_0x311eaa},'body':JSON[_0x475636(0x320)]({'messages':[{'role':_0x475636(0x5bc),'content':_0x251a75}],'model':_0x5e26de['id']})}),_0x22c85e=(await _0x57e998['json']())['choices'][0x0][_0x475636(0x5c1)][_0x475636(0x816)];await _0x4bd72a['trace']({'jobType':_0x2012ea[_0x475636(0x4fa)],'type':_0x3d909e[_0x475636(0x4e1)],'jobId':_0x9b9d6b,'threadId':_0x370940,'blockId':_0x2f37ab['id'],'traceLevel':_0x437662[_0x475636(0x589)],'startTime':_0x410d54,'timestamp':Date[_0x475636(0xad3)](),'status':_0x475636(0xbb4),'modelName':_0x5e26de['id'],'content':_0x251a75,'newPrompt':_0x22c85e,'inputType':_0x5e26de[_0x475636(0x1e5)],'outputType':_0x5e26de[_0x475636(0x497)]}),await _0x176ea7(_0x311eaa,_0x9b9d6b,_0x370940,_0x22c85e,_0x38f8b4,_0x2f37ab,_0x24f211,_0x34c7f3);}(_0x587c4c,_0x216c5d,_0x3f37ce,_0x192b62,_0x5dc415,_0x5dd0ff,_0x1a9e57,_0x50d55f,_0x5221b9);break;case _0x52458b[_0xe3711b(0x747)]['Vector']:await async function(_0x26b6d4,_0x1e0d81,_0x5e738a,_0x2888b2,_0x585649,_0x474d33,_0x27c8eb,_0x54bd08,_0x4a5c13){const _0x3af694=_0xe3711b,_0x1e21b0=Date[_0x3af694(0xad3)](),_0x52f826=await fetch(_0x2fd4ca[_0x3af694(0xc43)]+'/embeddings',{'method':'POST','headers':{'Content-Type':_0x3af694(0xbf0),'x-vendor-id':_0x26b6d4},'body':JSON[_0x3af694(0x320)]({'input':_0x2888b2,'model':_0x474d33['id']})}),_0x13b283=(await _0x52f826[_0x3af694(0x731)]())[_0x3af694(0x728)][0x0][_0x3af694(0x8b2)];await _0x4bd72a[_0x3af694(0x756)]({'jobType':_0x2012ea[_0x3af694(0x4fa)],'type':_0x3d909e[_0x3af694(0xaa8)],'jobId':_0x1e0d81,'threadId':_0x5e738a,'blockId':_0x27c8eb['id'],'traceLevel':_0x437662[_0x3af694(0x589)],'startTime':_0x1e21b0,'timestamp':Date[_0x3af694(0xad3)](),'status':_0x3af694(0xbb4),'modelName':_0x474d33['id'],'content':_0x2888b2,'totalVectors':_0x13b283[_0x3af694(0x454)]}),await _0x176ea7(_0x26b6d4,_0x1e0d81,_0x5e738a,_0x13b283,_0x585649,_0x27c8eb,_0x54bd08,_0x4a5c13);}(_0x587c4c,_0x216c5d,_0x3f37ce,_0x192b62,_0x5dc415,_0x5dd0ff,_0x1a9e57,_0x50d55f,_0x5221b9);}}async function _0x54d269(_0x1f3232,_0x3cf340,_0x1b92b6,_0x15c1b1,_0x60b0c,_0x551f45,_0x2f6268,_0x38a7fd){const _0x57687e=_0x4a13a,_0x49de8a=Date['now']();if(_0x551f45[_0x57687e(0xa95)]||(_0x551f45[_0x57687e(0xa95)]={}),_0x15c1b1 instanceof Array?(_0x551f45[_0x57687e(0xa95)][_0x57687e(0x44b)]||(_0x551f45[_0x57687e(0xa95)]['results']=[]),_0x551f45[_0x57687e(0xa95)]['results'][_0x57687e(0x247)](..._0x15c1b1)):_0x551f45[_0x57687e(0xa95)]['prompt']=_0x15c1b1,_0x551f45[_0x57687e(0xbdf)]=_0x551f45['timesCalled']?_0x551f45['timesCalled']+0x1:0x1,_0x3dbbea(_0x551f45,_0x2f6268[_0x57687e(0x2d3)])>_0x551f45[_0x57687e(0xbdf)])return;if(!_0x551f45['accumulated']['prompt']||!_0x551f45[_0x57687e(0xa95)]['results'])throw new Error(_0x57687e(0x7e9));for(const _0x46f163 of _0x551f45[_0x57687e(0xa95)][_0x57687e(0x44b)])_0x46f163[_0x57687e(0xb54)]=await _0x38a7fd['nlpLibraryConnector']['getSimilarity'](_0x551f45[_0x57687e(0xa95)]['prompt'],_0x46f163['content']);const _0x14b854=_0x551f45[_0x57687e(0xa95)]['results'][_0x57687e(0x675)](_0x4d1fe9=>_0x4d1fe9[_0x57687e(0xb54)]>_0x551f45['attributes'][_0x57687e(0xab3)])[_0x57687e(0xbde)]((_0xd11767,_0x17dcf7)=>_0x17dcf7['relevance']-_0xd11767[_0x57687e(0xb54)])[_0x57687e(0x420)](0x0,_0x551f45[_0x57687e(0x37d)][_0x57687e(0x96c)]);await _0x4bd72a[_0x57687e(0x756)]({'jobType':_0x2012ea[_0x57687e(0x4fa)],'type':_0x3d909e[_0x57687e(0x530)],'jobId':_0x3cf340,'threadId':_0x1b92b6,'blockId':_0x551f45['id'],'traceLevel':_0x437662[_0x57687e(0x589)],'startTime':_0x49de8a,'timestamp':Date['now'](),'status':_0x57687e(0xbb4),'inputResults':_0x551f45[_0x57687e(0xa95)][_0x57687e(0x44b)],'rerankedResults':_0x14b854}),await _0x176ea7(_0x1f3232,_0x3cf340,_0x1b92b6,_0x14b854,_0x60b0c,_0x551f45,_0x2f6268,_0x38a7fd);}async function _0x5edfbf(_0x421b0b,_0x30de51,_0x1a915d,_0x1e9477,_0x102e84,_0x46ec83,_0x139325,_0x3454f8){const _0x1b8b1f=_0x4a13a,_0x16c1a6=Date[_0x1b8b1f(0xad3)]();if(_0x46ec83['accumulated']||(_0x46ec83[_0x1b8b1f(0xa95)]={}),_0x1e9477 instanceof Array?_0x46ec83['accumulated'][_0x1b8b1f(0xaca)]=_0x1e9477:_0x46ec83[_0x1b8b1f(0xa95)][_0x1b8b1f(0x816)]=_0x1e9477,_0x46ec83[_0x1b8b1f(0xbdf)]=_0x46ec83[_0x1b8b1f(0xbdf)]?_0x46ec83['timesCalled']+0x1:0x1,!(_0x3dbbea(_0x46ec83,_0x139325[_0x1b8b1f(0x2d3)])>_0x46ec83[_0x1b8b1f(0xbdf)])){if('vector-database'===_0x46ec83['id']){if(!_0x46ec83['accumulated'][_0x1b8b1f(0xaca)])throw new Error('Vector\x20database\x20block\x20is\x20missing\x20required\x20data');if(!_0x3454f8[_0x1b8b1f(0x554)])throw new Error('RAG\x20connector\x20is\x20not\x20available');const _0x10c515=_0x46cb9f(_0x421b0b,_0x139325);let _0x274e97=await _0x3454f8[_0x1b8b1f(0x554)]?.[_0x1b8b1f(0x7b5)]({'instanceId':_0x10c515,'collectionId':_0x139325['id'],'namespace':_0x139325[_0x1b8b1f(0x541)]},_0x46ec83[_0x1b8b1f(0xa95)]['vector'],_0x46ec83[_0x1b8b1f(0x37d)][_0x1b8b1f(0x96c)]);_0x274e97=_0x274e97[_0x1b8b1f(0x675)](_0x432d56=>_0x432d56[_0x1b8b1f(0xb54)]>_0x46ec83[_0x1b8b1f(0x37d)]['minRelevance'])||[];const _0x50da55=[];for(const _0x5277d5 of _0x274e97){if(!_0x3454f8[_0x1b8b1f(0x2b3)])throw new Error(_0x1b8b1f(0x7f5));if(void 0x0===_0x5277d5['start']||void 0x0===_0x5277d5[_0x1b8b1f(0x454)])throw new Error('Missing\x20index');const _0x14b563=await _0x3454f8[_0x1b8b1f(0x2b3)][_0x1b8b1f(0x68c)](_0x5277d5[_0x1b8b1f(0x45c)]);let _0x50dd2b='';if(_0x14b563[_0x1b8b1f(0xbdd)][_0x1b8b1f(0x293)](_0x1b8b1f(0x70d))||_0x254d05(_0x14b563[_0x1b8b1f(0xbbd)],_0x4f685d))_0x50dd2b=await _0x14b563[_0x1b8b1f(0x89d)]();else{if(!_0x3454f8[_0x1b8b1f(0x977)]['supports'](_0x14b563))throw new Error(_0x1b8b1f(0x34b)+_0x14b563['type']+'\x20-\x20'+_0x14b563[_0x1b8b1f(0xbbd)]);_0x50dd2b=await _0x3454f8[_0x1b8b1f(0x977)][_0x1b8b1f(0xb6b)](_0x14b563);}_0x50da55[_0x1b8b1f(0x247)]({'pathName':_0x5277d5['pathName'],'content':_0x50dd2b['substring'](_0x5277d5[_0x1b8b1f(0x434)],_0x5277d5['start']+_0x5277d5[_0x1b8b1f(0x454)]),'relevance':_0x5277d5[_0x1b8b1f(0xb54)]});}await _0x176ea7(_0x421b0b,_0x30de51,_0x1a915d,_0x50da55,_0x102e84,_0x46ec83,_0x139325,_0x3454f8);}else{if(!_0x46ec83[_0x1b8b1f(0xa95)][_0x1b8b1f(0xaca)]||!_0x46ec83[_0x1b8b1f(0xa95)][_0x1b8b1f(0x816)])throw new Error('Vector\x20database\x20block\x20is\x20missing\x20required\x20data');const _0x56d1fc=await _0x3454f8['nlpLibraryConnector']['getEntities'](_0x46ec83[_0x1b8b1f(0xa95)][_0x1b8b1f(0x816)],{'ner':!0x1,'noun':!0x0,'propn':!0x1,'verb':!0x1}),_0x81c90d=_0x3454f8[_0x1b8b1f(0x2f4)][_0x1b8b1f(0x344)](_0x46ec83['id'])['search'](_0x56d1fc,_0x46ec83[_0x1b8b1f(0xa95)][_0x1b8b1f(0xaca)],_0x46ec83[_0x1b8b1f(0x37d)]['topK'],_0x46ec83[_0x1b8b1f(0x37d)][_0x1b8b1f(0xab3)],_0x46ec83['attributes'][_0x1b8b1f(0xc3a)]);await _0x4bd72a[_0x1b8b1f(0x756)]({'jobType':_0x2012ea[_0x1b8b1f(0x4fa)],'type':_0x3d909e[_0x1b8b1f(0xb7c)],'jobId':_0x30de51,'threadId':_0x1a915d,'blockId':_0x46ec83['id'],'traceLevel':_0x437662[_0x1b8b1f(0x589)],'startTime':_0x16c1a6,'timestamp':Date[_0x1b8b1f(0xad3)](),'status':_0x1b8b1f(0xbb4),'topResults':_0x81c90d,'numResults':_0x81c90d[_0x1b8b1f(0x454)]}),await _0x176ea7(_0x421b0b,_0x30de51,_0x1a915d,_0x81c90d,_0x102e84,_0x46ec83,_0x139325,_0x3454f8);}}}async function _0x176ea7(_0x5d74bc,_0x220a38,_0x143ac9,_0x124cfd,_0x548579,_0x57f9da,_0x2fb803,_0x17966e){const _0x238b32=_0x4a13a;for(const _0x4abe6b of _0x57f9da[_0x238b32(0xbbc)]||[]){const _0x380943=_0x2fb803[_0x238b32(0x2d3)]['find'](_0x3d6801=>_0x3d6801[_0x238b32(0xb27)]===_0x4abe6b[_0x238b32(0xb27)]);if(_0x380943)switch(_0x380943[_0x238b32(0xbdd)]){case _0x2f4e96[_0x238b32(0x8e6)]:_0x4abe6b[_0x238b32(0xbdd)]===_0x81f8f3[_0x238b32(0x85b)]&&_0x124cfd instanceof Array&&_0x548579[_0x238b32(0x560)][_0x238b32(0x247)](..._0x124cfd);break;case _0x2f4e96[_0x238b32(0x722)]:if(_0x4abe6b[_0x238b32(0xbdd)]===_0x81f8f3[_0x238b32(0x209)]&&_0x238b32(0x924)==typeof _0x124cfd){if(!_0x2fb803[_0x238b32(0xc0a)])throw new Error(_0x238b32(0x788));const _0x5b2cb6={'type':_0x2f4e96[_0x238b32(0x7f3)],'id':_0x2fb803['modelId'],'uid':(0x0,_0xafe7f0['v4'])(),'links':_0x380943['links']};await _0x4c37a3(_0x5d74bc,_0x220a38,_0x143ac9,_0x124cfd,_0x548579,_0x5b2cb6,_0x2fb803,_0x17966e);}break;case _0x2f4e96['EntityExtractor']:_0x4abe6b['type']===_0x81f8f3['Text']&&'string'==typeof _0x124cfd&&await _0x536571(_0x5d74bc,_0x220a38,_0x143ac9,_0x124cfd,_0x548579,_0x380943,_0x2fb803,_0x17966e),_0x4abe6b[_0x238b32(0xbdd)]===_0x81f8f3[_0x238b32(0x85b)]&&_0x124cfd instanceof Array&&await _0x536571(_0x5d74bc,_0x220a38,_0x143ac9,_0x124cfd,_0x548579,_0x380943,_0x2fb803,_0x17966e);break;case _0x2f4e96[_0x238b32(0x5dd)]:_0x4abe6b[_0x238b32(0xbdd)]===_0x81f8f3['Text']&&_0x238b32(0x924)==typeof _0x124cfd&&await _0x3863fd(_0x5d74bc,_0x220a38,_0x143ac9,_0x124cfd,_0x548579,_0x380943,_0x2fb803,_0x17966e),_0x4abe6b[_0x238b32(0xbdd)]===_0x81f8f3[_0x238b32(0x85b)]&&_0x124cfd instanceof Array&&await _0x3863fd(_0x5d74bc,_0x220a38,_0x143ac9,_0x124cfd,_0x548579,_0x380943,_0x2fb803,_0x17966e),_0x4abe6b[_0x238b32(0xbdd)]===_0x81f8f3[_0x238b32(0xa2c)]&&_0x124cfd instanceof Set&&await _0x3863fd(_0x5d74bc,_0x220a38,_0x143ac9,_0x124cfd,_0x548579,_0x380943,_0x2fb803,_0x17966e);break;case _0x2f4e96[_0x238b32(0x7f3)]:_0x4abe6b[_0x238b32(0xbdd)]===_0x81f8f3[_0x238b32(0x209)]&&'string'==typeof _0x124cfd&&await _0x4c37a3(_0x5d74bc,_0x220a38,_0x143ac9,_0x124cfd,_0x548579,_0x380943,_0x2fb803,_0x17966e),_0x4abe6b['type']===_0x81f8f3['Search']&&_0x124cfd instanceof Array&&await _0x4c37a3(_0x5d74bc,_0x220a38,_0x143ac9,_0x124cfd,_0x548579,_0x380943,_0x2fb803,_0x17966e);break;case _0x2f4e96[_0x238b32(0x530)]:_0x4abe6b['type']===_0x81f8f3[_0x238b32(0x209)]&&_0x238b32(0x924)==typeof _0x124cfd&&await _0x54d269(_0x5d74bc,_0x220a38,_0x143ac9,_0x124cfd,_0x548579,_0x380943,_0x2fb803,_0x17966e),_0x4abe6b['type']===_0x81f8f3[_0x238b32(0x85b)]&&_0x124cfd instanceof Array&&await _0x54d269(_0x5d74bc,_0x220a38,_0x143ac9,_0x124cfd,_0x548579,_0x380943,_0x2fb803,_0x17966e);break;case _0x2f4e96[_0x238b32(0x844)]:_0x4abe6b[_0x238b32(0xbdd)]===_0x81f8f3[_0x238b32(0x209)]&&_0x238b32(0x924)==typeof _0x124cfd&&await _0x5edfbf(_0x5d74bc,_0x220a38,_0x143ac9,_0x124cfd,_0x548579,_0x380943,_0x2fb803,_0x17966e),_0x4abe6b[_0x238b32(0xbdd)]===_0x81f8f3['Vector']&&_0x124cfd instanceof Array&&await _0x5edfbf(_0x5d74bc,_0x220a38,_0x143ac9,_0x124cfd,_0x548579,_0x380943,_0x2fb803,_0x17966e);}}}function _0x3dbbea(_0x420211,_0x425faf){const _0x70cdc5=_0x4a13a;return _0x425faf[_0x70cdc5(0x675)](_0x3ad4e1=>_0x3ad4e1['links']?.[_0x70cdc5(0x427)](_0x524d5a=>_0x524d5a[_0x70cdc5(0xb27)]===_0x420211[_0x70cdc5(0xb27)]))['length'];}async function _0x11e1d1(_0x472db2,_0x10df5a,_0x5c65a5,_0x35226d,_0x48f2a2,_0x13e0ae,_0x5bd1c8){const _0x1d77f5=_0x4a13a,_0x27f513={'type':_0x1d77f5(0x3f8),'output':'','context':[],'inputTokens':0x0,'outputTokens':0x0};try{let _0x3ec903;await _0x176ea7(_0x472db2,_0x10df5a,_0x5c65a5,_0x35226d,_0x27f513,_0x48f2a2,structuredClone(_0x13e0ae),_0x5bd1c8),_0x27f513[_0x1d77f5(0x560)][_0x1d77f5(0x624)]((_0x160128,_0x5a7311)=>_0x160128+_0x5a7311[_0x1d77f5(0x816)][_0x1d77f5(0x454)],0x0)>_0x5d5ab6&&(_0x3ec903=Math[_0x1d77f5(0x268)](_0x5d5ab6/_0x27f513['context'][_0x1d77f5(0x454)])),_0x27f513[_0x1d77f5(0x7ac)]='Additional\x20context:\x0a'+_0x27f513[_0x1d77f5(0x560)][_0x1d77f5(0x275)](_0x4944f7=>_0x1d77f5(0x528)+_0x4944f7[_0x1d77f5(0x45c)]+':\x20'+_0x4944f7[_0x1d77f5(0x816)]['substring'](0x0,_0x3ec903))['join']('\x0a');}catch(_0x2c8857){console['error']('Error\x20processing\x20retrieve',_0x2c8857);}return _0x27f513;}class _0x1d804b extends _0x435ebe{[_0x4a13a(0x2f4)];[_0x4a13a(0xa74)];['speechAIWorkerConnectors'];['objectStoreConnector'];[_0x4a13a(0x977)];[_0x4a13a(0x521)];['nlpLibraryConnector'];[_0x4a13a(0x478)];[_0x4a13a(0x8ef)];[_0x4a13a(0x73b)];[_0x4a13a(0x7b4)];['openAIKey'];[_0x4a13a(0x607)]=new Map();[_0x4a13a(0x911)]=_0x1d5ba7;['debounceStats'];['prompts']=0x0;[_0x4a13a(0x38b)]=0x0;['isOpened']=!0x1;constructor(_0x512fff,_0x595d89,_0x4a334d,_0xd31551,_0x222a20,_0x2423af,_0x485a55,_0x7c01a6,_0x44e197,_0x28af4c,_0x4a3074,_0x134a1b,_0x57f0bb,_0x564cbb,_0x4c9696){const _0x442cb2=_0x4a13a;super(_0x512fff,_0x595d89,_0x4a334d),this['contentMediator']=_0xd31551,this[_0x442cb2(0xa74)]=_0x222a20,this[_0x442cb2(0x2b1)]=_0x2423af,this[_0x442cb2(0x2b3)]=_0x485a55,this[_0x442cb2(0x977)]=_0x7c01a6,this[_0x442cb2(0x521)]=_0x44e197,this[_0x442cb2(0xa6c)]=_0x28af4c,this[_0x442cb2(0x478)]=_0x4a3074,this[_0x442cb2(0x8ef)]=_0x134a1b,this[_0x442cb2(0x73b)]=_0x57f0bb,this[_0x442cb2(0x7b4)]=_0x564cbb,this[_0x442cb2(0x92e)]=_0x4c9696;}async[_0x4a13a(0x888)](){const _0x171942=_0x4a13a;for(const _0x149f60 of this['generativeAIWorkerConnectors'])await _0x149f60['close']();this[_0x171942(0x607)][_0x171942(0x761)](_0x228a49=>_0x228a49[_0x171942(0x3bf)](this[_0x171942(0xaed)])),this[_0x171942(0x46c)]&&(clearTimeout(this[_0x171942(0x46c)]),delete this['debounceStats']),super[_0x171942(0x888)]();}async[_0x4a13a(0x4f0)](_0x3081a9=!0x1){const _0xbf41d0=_0x4a13a;if(this[_0xbf41d0(0x9f0)])super[_0xbf41d0(0x4f0)]();else{_0x260a6c[_0xbf41d0(0xa9f)](_0xbf41d0(0x633),this['label']);try{for(const _0x1bdeba of this[_0xbf41d0(0xa74)])await _0x1bdeba[_0xbf41d0(0xc21)](this['label'],this[_0xbf41d0(0x911)]);}catch(_0x435f87){return this[_0xbf41d0(0x4f0)](_0x3081a9);}this[_0xbf41d0(0x9f0)]=!0x0,this['sendStats'](),super[_0xbf41d0(0x4f0)](),_0x260a6c[_0xbf41d0(0xa9f)](_0xbf41d0(0x1df),this[_0xbf41d0(0xaed)]);}}[_0x4a13a(0x56f)](){const _0x2fe8eb=_0x4a13a;this[_0x2fe8eb(0x863)]=0x0,this['tokens']=0x0,this[_0x2fe8eb(0x6d7)](),super[_0x2fe8eb(0x56f)]();}[_0x4a13a(0x48b)](){const _0xdb413b=_0x4a13a;return this[_0xdb413b(0x6d7)](),this[_0xdb413b(0x9ce)]();}['compileStats'](_0x13d5d6,_0x3bed1e,_0x9b14e3){const _0x5c0499=_0x4a13a,{outputTokens:_0x28775d=0x0,output:_0x17a4b6=''}=_0x13d5d6,_0x245cb7=_0x28775d/((_0x9b14e3-_0x3bed1e)/0x3e8);this[_0x5c0499(0x863)]+=0x1,this['tokens']+=_0x28775d,this[_0x5c0499(0xa93)](_0x245cb7,_0x28775d),this[_0x5c0499(0x6d7)]();}[_0x4a13a(0x9ba)](_0x403ae1,_0xf91259){const _0x471152=_0x4a13a;return _0x403ae1[_0x471152(0x7ac)]=_0x403ae1[_0x471152(0x7ac)]??'',{'type':_0x471152(0x3f8),'output':_0x471152(0x924)==typeof _0x403ae1[_0x471152(0x7ac)]&&_0x471152(0x924)==typeof _0xf91259[_0x471152(0x7ac)]?_0x403ae1['output']+_0xf91259['output']:_0xf91259[_0x471152(0x7ac)],'outputTokens':_0xf91259[_0x471152(0x883)]??_0x403ae1[_0x471152(0x883)],'inputTokens':_0xf91259[_0x471152(0x7ab)]??_0x403ae1[_0x471152(0x7ab)]};}async[_0x4a13a(0x81d)](_0x166547,_0x9febb7){const _0x10b9b7=_0x4a13a;if(_0x10b9b7(0x3f8)===_0x9febb7[_0x10b9b7(0xbdd)]){const _0x50957e=await _0x11d0e6[_0x10b9b7(0x31f)](_0x9febb7[_0x10b9b7(0x649)],_0x9febb7[_0x10b9b7(0x9cb)]),_0xf6e656=_0x50957e['blocks'][_0x10b9b7(0x319)](_0x348dd7=>_0x348dd7[_0x10b9b7(0xbdd)]===_0xa515c['Prompt']||_0x348dd7['type']===_0xa515c[_0x10b9b7(0xa6f)]);return await _0x53ba92(_0x9febb7['jobId']??_0x166547,_0x9febb7,_0xf6e656,_0x50957e[_0x10b9b7(0x5ef)],{'documentParserConnector':this[_0x10b9b7(0x977)],'fileConnector':this[_0x10b9b7(0x521)],'nlpLibraryConnector':this[_0x10b9b7(0xa6c)],'generativeAIWorkerConnectors':this[_0x10b9b7(0xa74)],'speechAIWorkerConnectors':this['speechAIWorkerConnectors'],'models':Array[_0x10b9b7(0xad6)](this[_0x10b9b7(0x911)]['values']()),'contentMediator':this[_0x10b9b7(0x2f4)],'searchConnector':this[_0x10b9b7(0x478)],'aiSearchConnector':this[_0x10b9b7(0x8ef)],'queryFileConnector':this[_0x10b9b7(0x73b)]});}if(_0x10b9b7(0x891)===_0x9febb7[_0x10b9b7(0xbdd)])return await _0x329933(_0x9febb7,{'documentParserConnector':this['documentParserConnector'],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this[_0x10b9b7(0xa6c)],'generativeAIWorkerConnectors':this[_0x10b9b7(0xa74)],'speechAIWorkerConnectors':this['speechAIWorkerConnectors'],'models':Array[_0x10b9b7(0xad6)](this[_0x10b9b7(0x911)][_0x10b9b7(0x331)]()),'contentMediator':this['contentMediator'],'searchConnector':this[_0x10b9b7(0x478)],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this[_0x10b9b7(0x73b)]});if(_0x10b9b7(0xbb0)===_0x9febb7[_0x10b9b7(0xbdd)])return await _0x17d28c(_0x9febb7[_0x10b9b7(0xafd)]??_0x166547,_0x9febb7,{'documentParserConnector':this[_0x10b9b7(0x977)],'fileConnector':this[_0x10b9b7(0x521)],'nlpLibraryConnector':this[_0x10b9b7(0xa6c)],'generativeAIWorkerConnectors':this[_0x10b9b7(0xa74)],'speechAIWorkerConnectors':this[_0x10b9b7(0x2b1)],'models':Array[_0x10b9b7(0xad6)](this['models']['values']()),'contentMediator':this[_0x10b9b7(0x2f4)],'searchConnector':this['searchConnector'],'aiSearchConnector':this[_0x10b9b7(0x8ef)],'queryFileConnector':this['queryFileConnector']});if(_0x10b9b7(0x41d)===_0x9febb7[_0x10b9b7(0xbdd)])return await _0x4bd72a['trace']({'jobType':_0x2012ea[_0x10b9b7(0x845)],'type':_0x548e02[_0x10b9b7(0x4f1)],'jobId':_0x9febb7[_0x10b9b7(0xafd)],'threadId':_0x9febb7[_0x10b9b7(0x6b7)],'traceLevel':_0x437662[_0x10b9b7(0x1e8)],'startTime':Date[_0x10b9b7(0xad3)](),'timestamp':Date[_0x10b9b7(0xad3)](),'status':_0x10b9b7(0xbb4),'rating':_0x9febb7['rating'],'feedback':_0x9febb7[_0x10b9b7(0x506)]}),{'type':_0x10b9b7(0x41d),'status':_0x52458b[_0x10b9b7(0xb7d)][_0x10b9b7(0x88b)]};if(_0x10b9b7(0x6e6)===_0x9febb7['type'])return await _0x24f089(_0x9febb7,{'documentParserConnector':this[_0x10b9b7(0x977)],'fileConnector':this[_0x10b9b7(0x521)],'nlpLibraryConnector':this[_0x10b9b7(0xa6c)],'generativeAIWorkerConnectors':this[_0x10b9b7(0xa74)],'speechAIWorkerConnectors':this[_0x10b9b7(0x2b1)],'models':Array[_0x10b9b7(0xad6)](this['models'][_0x10b9b7(0x331)]()),'contentMediator':this[_0x10b9b7(0x2f4)],'searchConnector':this[_0x10b9b7(0x478)],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this[_0x10b9b7(0x73b)]});if(_0x10b9b7(0x956)===_0x9febb7[_0x10b9b7(0xbdd)]){const _0x4a52b3=_0x1d5ba7[_0x10b9b7(0x68c)](_0x9febb7['model']);if(!_0x4a52b3)throw new Error(_0x10b9b7(0x81b));const _0x536c38=this[_0x10b9b7(0x2b1)][_0x10b9b7(0x319)](_0x3fd9ca=>_0x3fd9ca['getEngineType']()===_0x4a52b3[_0x10b9b7(0x2f6)]);if(!_0x536c38)throw new Error(_0x10b9b7(0xbf4));return{'type':_0x10b9b7(0x956),'audio':await _0x536c38[_0x10b9b7(0x6e4)](_0x9febb7['model'],_0x9febb7[_0x10b9b7(0x89d)],_0x9febb7[_0x10b9b7(0x664)],_0x9febb7[_0x10b9b7(0xba2)],_0x9febb7[_0x10b9b7(0x820)])};}if(_0x10b9b7(0x9bc)===_0x9febb7['type']){const _0x466086=await _0x11d0e6[_0x10b9b7(0x31f)](_0x9febb7['vendorId'],_0x9febb7['workflowId']),_0x278ccd=_0x466086[_0x10b9b7(0x5ef)][_0x10b9b7(0x319)](_0x1f49cc=>_0x1f49cc[_0x10b9b7(0xbdd)]===_0xa515c[_0x10b9b7(0xa6f)]),_0x36b998=_0x278ccd[_0x10b9b7(0xbbc)]?.[_0x10b9b7(0x319)](_0x3ca339=>_0x3ca339[_0x10b9b7(0xbdd)]===_0x81f8f3[_0x10b9b7(0x6ef)]),_0x371eb5=_0x466086[_0x10b9b7(0x5ef)][_0x10b9b7(0x319)](_0x21386c=>_0x21386c[_0x10b9b7(0xbdd)]===_0xa515c[_0x10b9b7(0x673)]&&_0x21386c[_0x10b9b7(0xb27)]===_0x36b998['uid']),_0x42b8ac=_0x1d5ba7[_0x10b9b7(0x68c)](_0x371eb5[_0x10b9b7(0xc0a)]),_0x41e984=_0x466086[_0x10b9b7(0x5ef)][_0x10b9b7(0x675)](_0x1ca3d2=>_0x1ca3d2[_0x10b9b7(0xbbc)]?.[_0x10b9b7(0x427)](_0x285375=>_0x285375[_0x10b9b7(0xbdd)]===_0x81f8f3['Tool']&&_0x285375[_0x10b9b7(0xb27)]===_0x371eb5[_0x10b9b7(0xb27)]))[_0x10b9b7(0xb97)](_0x1b6380=>_0x4701ea(_0x1b6380,_0x466086[_0x10b9b7(0x5ef)])),_0x32c332=_0x466086[_0x10b9b7(0x5ef)]['find'](_0x3f68bd=>_0x3f68bd[_0x10b9b7(0xbdd)]===_0xa515c[_0x10b9b7(0x8f5)]),_0x490d8d=_0x466086[_0x10b9b7(0x5ef)]['find'](_0x3b5ac3=>_0x3b5ac3[_0x10b9b7(0xbdd)]===_0xa515c[_0x10b9b7(0x673)]&&_0x3b5ac3[_0x10b9b7(0xbbc)]?.[_0x10b9b7(0x427)](_0x4b75bd=>_0x4b75bd['type']===_0x81f8f3['Audio']&&_0x4b75bd[_0x10b9b7(0xb27)]===_0x32c332[_0x10b9b7(0xb27)])),_0x25747a=_0x466086[_0x10b9b7(0x5ef)][_0x10b9b7(0x319)](_0x15ee5f=>_0x15ee5f['type']===_0xa515c[_0x10b9b7(0x673)]&&_0x15ee5f[_0x10b9b7(0xb27)]===_0x490d8d[_0x10b9b7(0xb27)]),_0x21a56b=_0x1d5ba7['get'](_0x25747a[_0x10b9b7(0xc0a)]);return{'type':_0x10b9b7(0x9bc),'apiKey':this[_0x10b9b7(0x92e)],'sessionType':_0x42b8ac[_0x10b9b7(0xbf7)]===_0x52458b['GenerativeAITaskType'][_0x10b9b7(0x422)]?_0x10b9b7(0x72b):_0x10b9b7(0xc18),'firstAgent':{'modelId':_0x371eb5[_0x10b9b7(0xc0a)],'taskType':_0x42b8ac[_0x10b9b7(0xbf7)],'instructions':_0x371eb5['instructions'],'temperature':_0x371eb5[_0x10b9b7(0x7fc)],'maxTokens':_0x371eb5[_0x10b9b7(0x6df)],'initialPrompt':_0x466086[_0x10b9b7(0x3d5)],'tools':_0x41e984[_0x10b9b7(0x275)](_0x563c56=>({..._0x563c56,'name':this[_0x10b9b7(0x6f1)](_0x563c56),'description':this['getToolDescription'](_0x563c56),'parameters':this['getToolParams'](_0x563c56)}))},'lastAgent':{'modelId':_0x25747a[_0x10b9b7(0xc0a)],'taskType':_0x21a56b['taskType'],'instructions':_0x25747a['instructions'],'initialPrompt':_0x466086['initialPrompt']}};}if(_0x10b9b7(0xb6e)===_0x9febb7['type']){const {vendorId:_0x15f8c1,collectionId:_0x574019,namespace:_0x38d543,fileId:_0x4381ee}=_0x9febb7,_0x122428=await _0x11d0e6[_0x10b9b7(0x4dd)](_0x15f8c1,_0x574019),_0x48cb36=this[_0x10b9b7(0x7b4)]?.[_0x10b9b7(0x68c)](_0x122428[_0x10b9b7(0xa46)]);if(!_0x48cb36)throw new Error(_0x10b9b7(0x600));const _0x41ebd1=_0x46cb9f(_0x15f8c1,_0x122428);if(_0x122428['storageType']===_0x52458b[_0x10b9b7(0x436)][_0x10b9b7(0x7bf)])try{await _0x48cb36['deleteFile']({'instanceId':_0x41ebd1,'collectionId':_0x574019,'namespace':_0x38d543},'/'+_0x15f8c1+'/'+_0x574019+'/'+_0x4381ee),await this[_0x10b9b7(0x2b3)][_0x10b9b7(0x621)]('/'+_0x15f8c1+'/'+_0x574019+'/'+_0x4381ee);}catch(_0x18a10f){_0x260a6c[_0x10b9b7(0x33b)](_0x10b9b7(0x75d),_0x18a10f);}else try{await _0x48cb36[_0x10b9b7(0x6d5)]({'instanceId':_0x41ebd1,'collectionId':_0x574019,'namespace':_0x38d543},_0x4381ee);}catch(_0x54e8f8){_0x260a6c['error'](_0x10b9b7(0x75d),_0x54e8f8);}return{'type':'file-delete'};}if(_0x10b9b7(0x7d8)===_0x9febb7[_0x10b9b7(0xbdd)]){let _0x435291;const _0x30c99b=this[_0x10b9b7(0x607)][_0x10b9b7(0x932)]();for(;!_0x435291;){const _0x129bbe=_0x30c99b[_0x10b9b7(0x93d)]()[_0x10b9b7(0x1db)];if(!_0x129bbe)throw new Error(_0x10b9b7(0xbcd));_0x435291=this[_0x10b9b7(0x607)][_0x10b9b7(0x68c)](_0x129bbe);try{const _0x4ccbc0=await _0x435291[_0x10b9b7(0x68c)](_0x9febb7[_0x10b9b7(0xb17)]);return{'type':_0x10b9b7(0x7d8),'fileName':_0x4ccbc0['name'],'mimeType':_0x4ccbc0[_0x10b9b7(0xbdd)],'document':await _0x4ccbc0['arrayBuffer']()};}catch(_0x5b72c1){continue;}}throw new Error(_0x10b9b7(0xbcd));}if(_0x10b9b7(0xa4a)===_0x9febb7[_0x10b9b7(0xbdd)]){const {vendorId:_0x69bdfe,collectionId:_0x5306d6,namespace:_0xa5992c,fileName:_0x149c76,content:_0x11b77e}=_0x9febb7,_0x22109d=await _0x11d0e6['getDataCollection'](_0x69bdfe,_0x5306d6);if(_0x22109d[_0x10b9b7(0xa46)]!==_0x52458b[_0x10b9b7(0x436)][_0x10b9b7(0x7bf)]){const _0x547aed=this[_0x10b9b7(0x7b4)]?.[_0x10b9b7(0x68c)](_0x22109d[_0x10b9b7(0xa46)]);if(!_0x547aed)throw new Error(_0x10b9b7(0x600));const _0x510d4d=_0x46cb9f(_0x69bdfe,_0x22109d);return await _0x547aed[_0x10b9b7(0x514)]({'instanceId':_0x510d4d,'collectionId':_0x5306d6,'namespace':_0xa5992c},_0x149c76,_0x11b77e),{'type':_0x10b9b7(0xa4a)};}const _0x3e3d1d=_0x22109d['ingestBlocks']?.[_0x10b9b7(0x319)](_0x153e49=>_0x153e49[_0x10b9b7(0xbdd)]===_0x2f4e96[_0x10b9b7(0x3c3)]);if(!_0x3e3d1d)throw new Error(_0x10b9b7(0xb3a));const _0x4ea2d3=(0x0,_0xafe7f0['v4'])();return _0x4bd72a['openTrace'](_0x69bdfe,_0x4ea2d3),_0xa5992c&&(_0x22109d[_0x10b9b7(0x541)]=_0xa5992c),await _0x32b8eb(_0x9febb7[_0x10b9b7(0x649)],_0x4ea2d3,'/'+_0x69bdfe+'/'+_0x5306d6+'/'+_0x149c76,_0x11b77e,_0x3e3d1d,_0x22109d,{'objectStoreConnector':this['objectStoreConnector'],'ragConnector':this[_0x10b9b7(0x7b4)]?.[_0x10b9b7(0x68c)](_0x52458b[_0x10b9b7(0x436)][_0x10b9b7(0x7bf)]),'documentParserConnector':this['documentParserConnector'],'fileConnector':this[_0x10b9b7(0x521)],'nlpLibraryConnector':this[_0x10b9b7(0xa6c)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'speechAIWorkerConnectors':this[_0x10b9b7(0x2b1)],'models':Array['from'](this['models'][_0x10b9b7(0x331)]()),'contentMediator':this[_0x10b9b7(0x2f4)]}),_0x4bd72a[_0x10b9b7(0x8eb)](_0x4ea2d3),{'type':'file-ingest'};}if('file-list'===_0x9febb7[_0x10b9b7(0xbdd)]){const {vendorId:_0x11bd63,collectionId:_0x3a29c7,namespace:_0x321e87}=_0x9febb7,_0x477f73=await _0x11d0e6['getDataCollection'](_0x11bd63,_0x3a29c7);if(_0x477f73[_0x10b9b7(0xa46)]!==_0x52458b['GenerativeAIRagType'][_0x10b9b7(0x7bf)]){const _0x34e873=this[_0x10b9b7(0x7b4)]?.[_0x10b9b7(0x68c)](_0x477f73[_0x10b9b7(0xa46)]);if(!_0x34e873)throw new Error(_0x10b9b7(0x600));const _0x56272c=_0x46cb9f(_0x11bd63,_0x477f73);return{'type':'file-list','files':await _0x34e873['listFiles']({'instanceId':_0x56272c,'collectionId':_0x3a29c7,'namespace':_0x321e87})};}try{return{'type':_0x10b9b7(0x7fa),'files':(await this[_0x10b9b7(0x2b3)][_0x10b9b7(0xb07)]('/'+_0x11bd63+'/'+_0x3a29c7,!0x1))[_0x10b9b7(0x275)](_0x29611a=>({'name':_0x29611a[_0x10b9b7(0xbbd)],'id':_0x29611a['name'],'status':_0x10b9b7(0x7eb)}))};}catch(_0x396ff1){return{'type':'file-list','files':[]};}}if(_0x10b9b7(0x2bd)===_0x9febb7[_0x10b9b7(0xbdd)]){const {vendorId:_0x302b0b,collectionId:_0x5d4de8}=_0x9febb7,_0xddd9a2=await _0x11d0e6[_0x10b9b7(0x4dd)](_0x302b0b,_0x5d4de8),_0xa2e07d=this['ragConnectors']?.[_0x10b9b7(0x68c)](_0xddd9a2[_0x10b9b7(0xa46)]);if(!_0xa2e07d)return{'type':_0x10b9b7(0x2bd)};const _0x4e2da7=_0x46cb9f(_0x302b0b,_0xddd9a2);return await _0xa2e07d['createCollection'](_0x4e2da7,_0x5d4de8),{'type':_0x10b9b7(0x2bd)};}if(_0x10b9b7(0x363)===_0x9febb7[_0x10b9b7(0xbdd)]){const {vendorId:_0x215a26,collectionId:_0x537ae9}=_0x9febb7,_0x496706=await _0x11d0e6[_0x10b9b7(0x4dd)](_0x215a26,_0x537ae9),_0x38a524=this[_0x10b9b7(0x7b4)]?.[_0x10b9b7(0x68c)](_0x496706[_0x10b9b7(0xa46)]);if(!_0x38a524)return{'type':_0x10b9b7(0x363)};const _0x5bb249=_0x46cb9f(_0x215a26,_0x496706);let _0x477ab5=!0x1;if(_0x496706[_0x10b9b7(0x20f)]===_0x1bb8b2[_0x10b9b7(0x4af)]&&(_0x477ab5=!0x0),_0x496706['hosting']===_0x1bb8b2[_0x10b9b7(0xae4)]){_0x477ab5=!0x0;const _0x378b49=await _0x11d0e6[_0x10b9b7(0x32e)](_0x215a26);for(const _0x472a83 of _0x378b49)if(_0x472a83[_0x10b9b7(0xa46)]===_0x496706[_0x10b9b7(0xa46)]&&_0x472a83[_0x10b9b7(0x20f)]===_0x1bb8b2[_0x10b9b7(0xae4)]&&_0x472a83['id']!==_0x496706['id']){_0x477ab5=!0x1;break;}}try{await _0x38a524['deleteCollection'](_0x5bb249,_0x537ae9,_0x477ab5);}catch(_0x2180a2){_0x260a6c[_0x10b9b7(0x33b)](_0x10b9b7(0xb55),_0x2180a2);}return{'type':_0x10b9b7(0x363)};}if(_0x10b9b7(0x98a)===_0x9febb7['type']){const {query:_0x5ed034,vendorId:_0x196803,collectionId:_0x5ac084,namespace:_0x32786a}=_0x9febb7,_0x155598=await _0x11d0e6[_0x10b9b7(0x4dd)](_0x196803,_0x5ac084);if(_0x155598[_0x10b9b7(0xa46)]!==_0x52458b[_0x10b9b7(0x436)]['Crewdle']){const _0x3aa074=this['ragConnectors']?.[_0x10b9b7(0x68c)](_0x155598['storageType']);if(!_0x3aa074)throw new Error(_0x10b9b7(0x600));const _0x4e4c0f=_0x46cb9f(_0x196803,_0x155598);return{'type':_0x10b9b7(0x98a),'results':await _0x3aa074[_0x10b9b7(0x7b5)]({'instanceId':_0x4e4c0f,'collectionId':_0x5ac084,'namespace':_0x32786a},_0x5ed034,0x1)};}const _0x45e2f9=_0x155598['retrieveBlocks']?.[_0x10b9b7(0x319)](_0xc8535c=>_0xc8535c[_0x10b9b7(0xbdd)]===_0x2f4e96[_0x10b9b7(0x661)]);return _0x32786a&&(_0x155598['namespace']=_0x32786a),{'type':_0x10b9b7(0x98a),'results':(await _0x11e1d1(_0x9febb7[_0x10b9b7(0x649)],_0x166547,'',_0x5ed034,_0x45e2f9,_0x155598,{'objectStoreConnector':this[_0x10b9b7(0x2b3)],'ragConnector':this['ragConnectors']?.[_0x10b9b7(0x68c)](_0x52458b[_0x10b9b7(0x436)][_0x10b9b7(0x7bf)]),'documentParserConnector':this[_0x10b9b7(0x977)],'fileConnector':this[_0x10b9b7(0x521)],'nlpLibraryConnector':this[_0x10b9b7(0xa6c)],'generativeAIWorkerConnectors':this[_0x10b9b7(0xa74)],'speechAIWorkerConnectors':this['speechAIWorkerConnectors'],'models':Array[_0x10b9b7(0xad6)](this[_0x10b9b7(0x911)][_0x10b9b7(0x331)]()),'contentMediator':this[_0x10b9b7(0x2f4)],'searchConnector':this[_0x10b9b7(0x478)],'aiSearchConnector':this[_0x10b9b7(0x8ef)],'queryFileConnector':this[_0x10b9b7(0x73b)]}))['context']??[]};}throw new Error(_0x10b9b7(0x758));}async*[_0x4a13a(0x991)](_0x3be008,_0x13daa5){const _0x593217=_0x4a13a;if(_0x593217(0x3f8)===_0x13daa5['type']){const _0x3de40b=await _0x11d0e6[_0x593217(0x31f)](_0x13daa5[_0x593217(0x649)],_0x13daa5['workflowId']),_0x5b1f93=_0x3de40b[_0x593217(0x5ef)]['find'](_0x4cefe3=>_0x4cefe3[_0x593217(0xbdd)]===_0xa515c[_0x593217(0x661)]||_0x4cefe3['type']===_0xa515c[_0x593217(0xa6f)]);for await(const _0xb392cf of _0x112ad9(_0x13daa5['jobId']??_0x3be008,_0x13daa5,_0x5b1f93,_0x3de40b['blocks'],{'documentParserConnector':this['documentParserConnector'],'fileConnector':this[_0x593217(0x521)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x593217(0xa74)],'speechAIWorkerConnectors':this[_0x593217(0x2b1)],'models':Array[_0x593217(0xad6)](this[_0x593217(0x911)][_0x593217(0x331)]()),'contentMediator':this['contentMediator'],'searchConnector':this['searchConnector'],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this[_0x593217(0x73b)]}))yield _0xb392cf;}if(_0x593217(0xbb0)===_0x13daa5[_0x593217(0xbdd)]){for await(const _0x21760a of _0x41e513(_0x13daa5['jobId']??_0x3be008,_0x13daa5,{'documentParserConnector':this[_0x593217(0x977)],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this[_0x593217(0xa6c)],'generativeAIWorkerConnectors':this[_0x593217(0xa74)],'speechAIWorkerConnectors':this[_0x593217(0x2b1)],'models':Array[_0x593217(0xad6)](this[_0x593217(0x911)][_0x593217(0x331)]()),'contentMediator':this[_0x593217(0x2f4)],'searchConnector':this[_0x593217(0x478)],'aiSearchConnector':this[_0x593217(0x8ef)],'queryFileConnector':this[_0x593217(0x73b)]}))yield _0x21760a;}}async[_0x4a13a(0x345)](_0x324700,_0x18f123){const _0x15279a=_0x4a13a;if(_0x15279a(0x41d)===_0x18f123[_0x15279a(0xbdd)])return _0x324700=_0x18f123[_0x15279a(0xafd)],void await this['openTrace'](_0x324700,_0x18f123[_0x15279a(0x649)],_0x18f123['workflowId']);'prompt'!==_0x18f123['type']&&_0x15279a(0xbb0)!==_0x18f123[_0x15279a(0xbdd)]||!_0x18f123['jobId']||(_0x324700=_0x18f123[_0x15279a(0xafd)]),await this[_0x15279a(0x2f3)](_0x324700,_0x18f123[_0x15279a(0x649)],_0x18f123[_0x15279a(0x9cb)],_0x18f123[_0x15279a(0x6b7)]),await _0x4bd72a[_0x15279a(0x756)]({'jobType':_0x2012ea['Job'],'type':_0x57cbbe[_0x15279a(0x727)],'traceLevel':_0x437662[_0x15279a(0x1e8)],'jobId':_0x324700,'threadId':_0x18f123[_0x15279a(0x6b7)],'startTime':Date['now'](),'timestamp':Date['now'](),'status':_0x15279a(0xbb4)});}async[_0x4a13a(0x38d)](_0xc8132e,_0x184a99){const _0x2f7b9f=_0x4a13a;if(_0x2f7b9f(0x41d)===_0x184a99[_0x2f7b9f(0xbdd)])return _0xc8132e=_0x184a99[_0x2f7b9f(0xafd)],void await this[_0x2f7b9f(0x8eb)](_0xc8132e);'prompt'!==_0x184a99[_0x2f7b9f(0xbdd)]&&'inference'!==_0x184a99['type']||!_0x184a99[_0x2f7b9f(0xafd)]||(_0xc8132e=_0x184a99[_0x2f7b9f(0xafd)]),await _0x4bd72a[_0x2f7b9f(0x756)]({'jobType':_0x2012ea[_0x2f7b9f(0x65a)],'type':_0x57cbbe['Completed'],'traceLevel':_0x437662[_0x2f7b9f(0x1e8)],'jobId':_0xc8132e,'threadId':_0x184a99[_0x2f7b9f(0x6b7)],'startTime':Date[_0x2f7b9f(0xad3)](),'timestamp':Date[_0x2f7b9f(0xad3)](),'status':_0x2f7b9f(0xbb4)}),await this[_0x2f7b9f(0x8eb)](_0xc8132e,_0x184a99[_0x2f7b9f(0x6b7)]);}[_0x4a13a(0x6f1)](_0x3f2abe){const _0x313d46=_0x4a13a;switch(_0x3f2abe[_0x313d46(0xbdd)]){case _0xa515c[_0x313d46(0x673)]:case _0xa515c[_0x313d46(0xbd5)]:return _0x313d46(0x6c5)+_0x3f2abe[_0x313d46(0xbbd)][_0x313d46(0xb00)](/[^a-zA-Z]/g,'');case _0xa515c['WorkflowTool']:return _0x313d46(0x406)+_0x3f2abe[_0x313d46(0xbbd)][_0x313d46(0xb00)](/[^a-zA-Z]/g,'');case _0xa515c['DataCollection']:case _0xa515c[_0x313d46(0x570)]:return _0x313d46(0x4ea)+_0x3f2abe[_0x313d46(0xbbd)]['replace'](/[^a-zA-Z]/g,'');case _0xa515c[_0x313d46(0x975)]:return _0x3f2abe['name'][_0x313d46(0xb00)](/[^a-zA-Z]/g,'');case _0xa515c[_0x313d46(0xba6)]:return _0x313d46(0xafb);case _0xa515c[_0x313d46(0x75c)]:return _0x313d46(0x681);case _0xa515c[_0x313d46(0x85b)]:return _0x313d46(0x7a9);case _0xa515c['WebScraper']:case _0xa515c[_0x313d46(0x4f9)]:return _0x313d46(0x7af);case _0x52458b[_0x313d46(0x2a9)]['FormSkillGetQuestion']:return _0x313d46(0x877)+_0x3f2abe[_0x313d46(0xbbd)][_0x313d46(0xb00)](/[^a-zA-Z]/g,'');case _0x52458b[_0x313d46(0x2a9)][_0x313d46(0x2d2)]:return _0x313d46(0x3e8)+_0x3f2abe[_0x313d46(0xbbd)]['replace'](/[^a-zA-Z]/g,'');case _0x52458b[_0x313d46(0x2a9)][_0x313d46(0x9bb)]:return _0x313d46(0xa37)+_0x3f2abe[_0x313d46(0xbbd)][_0x313d46(0xb00)](/[^a-zA-Z]/g,'');default:return'';}}[_0x4a13a(0x918)](_0x1b0cd8){const _0xf85e53=_0x4a13a;switch(_0x1b0cd8[_0xf85e53(0xbdd)]){case _0xa515c[_0xf85e53(0x673)]:case _0xa515c['AgentSkill']:return _0xf85e53(0x853)+_0x1b0cd8[_0xf85e53(0xa1b)]+_0xf85e53(0x89a);case _0xa515c['WorkflowTool']:return _0xf85e53(0xa83)+_0x1b0cd8[_0xf85e53(0xa1b)]+'\x20to\x20generate\x20a\x20response.';case _0xa515c['DataCollection']:case _0xa515c[_0xf85e53(0x570)]:return _0xf85e53(0xa4b)+_0x1b0cd8[_0xf85e53(0xa1b)]+_0xf85e53(0x470);case _0xa515c[_0xf85e53(0x975)]:return _0xf85e53(0x28e)+_0x1b0cd8[_0xf85e53(0xa1b)];case _0xa515c['AiSearch']:return _0xf85e53(0xb53);case _0xa515c[_0xf85e53(0x75c)]:return _0xf85e53(0x7fd);case _0xa515c['Search']:return _0xf85e53(0x938);case _0xa515c['WebScraper']:case _0xa515c[_0xf85e53(0x4f9)]:return _0xf85e53(0x750);case _0x52458b[_0xf85e53(0x2a9)][_0xf85e53(0x414)]:return _0xf85e53(0x51f);case _0x52458b[_0xf85e53(0x2a9)][_0xf85e53(0x2d2)]:return _0xf85e53(0xa18);case _0x52458b[_0xf85e53(0x2a9)][_0xf85e53(0x9bb)]:return _0xf85e53(0xa2e);default:return'';}}[_0x4a13a(0x6ad)](_0x2c9fa5){const _0xb1131b=_0x4a13a;switch(_0x2c9fa5[_0xb1131b(0xbdd)]){case _0xa515c[_0xb1131b(0x673)]:case _0xa515c['AgentSkill']:case _0xa515c['WorkflowTool']:return[{'name':_0xb1131b(0x3f8),'type':_0xb1131b(0x924)}];case _0xa515c[_0xb1131b(0x5ea)]:case _0xa515c[_0xb1131b(0x570)]:return[{'name':_0xb1131b(0xc28),'type':'string'}];case _0xa515c[_0xb1131b(0x975)]:return _0x2c9fa5[_0xb1131b(0x6a8)][_0xb1131b(0x275)](_0x2fd565=>({'name':_0x2fd565[_0xb1131b(0xbbd)],'type':_0x2fd565[_0xb1131b(0xbdd)]??'string'}))??[];case _0xa515c[_0xb1131b(0xba6)]:return[{'name':_0xb1131b(0x322),'type':_0xb1131b(0x924)}];case _0xa515c[_0xb1131b(0x75c)]:return[{'name':_0xb1131b(0x6c2),'type':_0xb1131b(0x924)}];case _0xa515c[_0xb1131b(0x85b)]:return[{'name':_0xb1131b(0x322),'type':_0xb1131b(0x924)}];case _0xa515c[_0xb1131b(0x4c7)]:case _0xa515c[_0xb1131b(0x4f9)]:return[{'name':_0xb1131b(0x94c),'type':_0xb1131b(0x924)},{'name':_0xb1131b(0xa41),'type':_0xb1131b(0x7ad)}];case _0x52458b['GenerativeAIInferenceToolType'][_0xb1131b(0x414)]:return[];case _0x52458b[_0xb1131b(0x2a9)]['FormSkillSetAnswer']:return[{'name':'id','type':_0xb1131b(0x924)},{'name':_0xb1131b(0xc44),'type':_0xb1131b(0x924)}];case _0x52458b[_0xb1131b(0x2a9)][_0xb1131b(0x9bb)]:default:return[];}}['getCoresFromCapacityReport'](){const _0x35c4cd=_0x4a13a;try{return this[_0x35c4cd(0x654)]['getCapacityReport']()[_0x35c4cd(0x876)][_0x35c4cd(0x9c1)]*(0x1-this[_0x35c4cd(0x654)][_0x35c4cd(0x7b7)]()[_0x35c4cd(0x876)][_0x35c4cd(0x99f)]);}catch(_0xccb206){return _0x260a6c['log'](_0x2e74f6[_0x35c4cd(0x31d)],'JobWorker:\x20Error\x20getting\x20cores\x20from\x20capacity\x20report',_0xccb206),0x0;}}[_0x4a13a(0x6d7)](){const _0x54880e=_0x4a13a;this[_0x54880e(0x9f0)]&&(this[_0x54880e(0x46c)]&&clearTimeout(this[_0x54880e(0x46c)]),this[_0x54880e(0x46c)]=setTimeout(async()=>{const _0x3dedbf=_0x54880e;delete this['debounceStats'];let _0x3574cc=0x0;for(const _0x56636d of this[_0x3dedbf(0x607)][_0x3dedbf(0x331)]())_0x3574cc+=await _0x56636d[_0x3dedbf(0xc3c)]();this[_0x3dedbf(0x525)][_0x3dedbf(0xa19)]({'sourceId':_0x2d73b4,'messageType':_0x29c5a4['Content'],'content':{'type':_0x1c17a1['GenerativeAIWorkerStats'],'label':this[_0x3dedbf(0xaed)],'stats':{'timestamp':Date[_0x3dedbf(0xad3)](),'storage':_0x3574cc,'messagesSent':this[_0x3dedbf(0x333)],'messagesReceived':this[_0x3dedbf(0xa84)],'bytesSent':this[_0x3dedbf(0x9f4)],'bytesReceived':this[_0x3dedbf(0x325)],'writes':0x0,'reads':0x0,'prompts':this[_0x3dedbf(0x863)],'tokens':this[_0x3dedbf(0x38b)]}}});},_0x476143));}[_0x4a13a(0xa93)](_0x486852,_0x5cf7d0){const _0x2d1322=_0x4a13a,_0x15de48=this['label'],_0x3b5ff4=this[_0x2d1322(0x742)]();_0x260a6c[_0x2d1322(0xa93)](_0x108d83[_0x2d1322(0xa02)],{'topic':_0x15de48,'type':_0x2d1322(0xc44),'nodeId':_0x3b5ff4,'tokenCount':_0x5cf7d0,'tokensPerSecond':_0x486852});}async[_0x4a13a(0x2f3)](_0x1aa913,_0x3c52fa,_0x3dc8ae,_0x1a5ef0){const _0x11696e=_0x4a13a;try{if(!await _0x4bd72a['openTrace'](_0x3c52fa,_0x1aa913,_0x3dc8ae,_0x1a5ef0))throw new Error(_0x11696e(0x928));return _0x1aa913;}catch(_0x407576){return console[_0x11696e(0x33b)](_0x11696e(0x928),_0x407576),'Could\x20not\x20open\x20trace';}}async[_0x4a13a(0x8eb)](_0x4addc5,_0x3ad0d7){const _0x1ccd53=_0x4a13a;try{await _0x4bd72a[_0x1ccd53(0x8eb)](_0x4addc5,_0x3ad0d7);}catch(_0x1ca2b9){console[_0x1ccd53(0x33b)](_0x1ccd53(0x60a),{'jobId':_0x4addc5,'error':_0x1ca2b9});}}}class _0x4ad15c extends _0x6375ab{['localNode'];['clusterId'];['vendorId'];['db'];[_0x4a13a(0x46c)];['writes']=0x0;[_0x4a13a(0x7c2)]=0x0;['isLoaded']=!0x1;constructor(_0x5790ee,_0x2ed2ec,_0x3fd94a,_0x2ce1ae,_0x1fa0e8){const _0x13205d=_0x4a13a;if(_0x13205d(0x924)!=typeof _0x2ed2ec)throw new _0x298b29(_0x404249[_0x13205d(0x77c)],_0x13205d(0x4fd));super(_0x5790ee,_0x2ed2ec),this['localNode']=_0x5790ee,this[_0x13205d(0x88f)]=_0x3fd94a,this['vendorId']=_0x2ce1ae;const _0x44e3b7=_0x13205d(0x38e)+this[_0x13205d(0x649)]+_0x13205d(0x38e)+this[_0x13205d(0x88f)]+'ccc'+this[_0x13205d(0xaed)];this['db']=new _0x1fa0e8(_0x44e3b7),this['sendStats']();}[_0x4a13a(0x915)](){const _0x4d62df=_0x4a13a;return this[_0x4d62df(0x91a)];}[_0x4a13a(0x9e9)](_0x4bdf5b){this['isLoaded']=_0x4bdf5b;}[_0x4a13a(0x888)](){const _0x43f6fe=_0x4a13a;clearTimeout(this[_0x43f6fe(0x46c)]),delete this['debounceStats'],super[_0x43f6fe(0x888)]();}[_0x4a13a(0x935)](){const _0x420207=_0x4a13a;this[_0x420207(0x525)][_0x420207(0xa19)]({'sourceId':_0x2d73b4,'messageType':_0x29c5a4[_0x420207(0xbf2)],'content':{'type':_0x1c17a1[_0x420207(0x473)],'label':this[_0x420207(0xaed)]}});}[_0x4a13a(0x743)](){const _0x154235=_0x4a13a;return _0x52458b[_0x154235(0x54c)][_0x154235(0x5dd)];}['reset'](){this['sendStats']();}[_0x4a13a(0x4f3)](_0x19fbb6,_0x471c1f,_0x100d7e,_0x159f60){const _0x3c9af9=_0x4a13a;this['db'][_0x3c9af9(0x4f3)](_0x19fbb6,_0x471c1f,_0x100d7e,_0x159f60),this[_0x3c9af9(0x8c7)]+=0x1,this['sendStats']();}[_0x4a13a(0x710)](_0x3928c7,_0xe6d5f7){const _0x425598=_0x4a13a;this['db'][_0x425598(0x710)](_0x3928c7,_0xe6d5f7),this['writes']+=0x1,this['sendStats']();}['getContent'](_0x53c801,_0x5cdfd0,_0x321edb){const _0x2e9b20=_0x4a13a,_0x56035f=this['db'][_0x2e9b20(0x3b4)](_0x53c801,_0x5cdfd0,_0x321edb);return this[_0x2e9b20(0x7c2)]+=0x1,_0x260a6c[_0x2e9b20(0xa93)](_0x108d83[_0x2e9b20(0x5dd)],{'type':_0x2e9b20(0x7f2),'label':this[_0x2e9b20(0xaed)],'nodeId':this[_0x2e9b20(0xc4d)][_0x2e9b20(0xa47)](),'nodeType':this[_0x2e9b20(0xc4d)][_0x2e9b20(0xbdd)],'clusterId':this[_0x2e9b20(0x88f)],'size':0x0}),this[_0x2e9b20(0x6d7)](),_0x56035f;}[_0x4a13a(0xa4d)](_0xbf05fe){this['db']['remove'](_0xbf05fe),this['writes']+=0x1,this['sendStats']();}['saveToDisk'](_0xe5a111){const _0x454fda=_0x4a13a;this['db'][_0x454fda(0x3ef)](_0xe5a111);}[_0x4a13a(0xab7)](_0x55fc36){this['db']['loadFromDisk'](_0x55fc36);}[_0x4a13a(0x6d7)](){const _0x5bfdca=_0x4a13a;this[_0x5bfdca(0x46c)]&&clearTimeout(this[_0x5bfdca(0x46c)]),this[_0x5bfdca(0x46c)]=setTimeout(async()=>{const _0x3aeaef=_0x5bfdca;delete this[_0x3aeaef(0x46c)];const _0x36559f=this['db'][_0x3aeaef(0xc3c)]();this[_0x3aeaef(0x525)][_0x3aeaef(0xa19)]({'sourceId':_0x2d73b4,'messageType':_0x29c5a4[_0x3aeaef(0xbf2)],'content':{'type':_0x1c17a1[_0x3aeaef(0xa77)],'label':this['label'],'stats':{'timestamp':Date[_0x3aeaef(0xad3)](),'storage':_0x36559f,'messagesSent':this[_0x3aeaef(0x333)],'messagesReceived':this[_0x3aeaef(0xa84)],'bytesSent':this['bytesSent'],'bytesReceived':this['bytesReceived'],'writes':this[_0x3aeaef(0x8c7)],'reads':this[_0x3aeaef(0x7c2)],'prompts':0x0,'tokens':0x0}}}),_0x260a6c['logStorage'](_0x108d83[_0x3aeaef(0x5dd)],_0x3aeaef(0x38e)+this['clusterId']+_0x3aeaef(0x38e)+this['label'],_0x36559f);},_0x476143);}}class _0x42caa4 extends _0x19c50e{[_0x4a13a(0xb60)];constructor(_0x584526,_0x588388,_0x56d087){const _0x3ca1b6=_0x4a13a;super(_0x584526,_0x588388),this[_0x3ca1b6(0xb60)]=_0x56d087;}[_0x4a13a(0x743)](){const _0x5868b1=_0x4a13a;return _0x52458b[_0x5868b1(0x54c)]['Media'];}[_0x4a13a(0xbd7)](){const _0x4da274=_0x4a13a;return this[_0x4da274(0xb60)];}[_0x4a13a(0x57a)](){return this['mediaStream']['id'];}}class _0x16a1ac extends _0x42caa4{[_0x4a13a(0x69f)];[_0x4a13a(0xbe8)];[_0x4a13a(0x565)];[_0x4a13a(0x6ab)]=_0x49ee5e();constructor(_0x4c4a78,_0x2157aa,_0x1dd700,_0x3d70b7,_0x1c12ed){const _0x4cc9ac=_0x4a13a;super(_0x4c4a78,_0x2157aa,_0x1dd700),this[_0x4cc9ac(0x69f)]=_0x3d70b7,this['params']=_0x1c12ed;}[_0x4a13a(0x888)](){const _0x4b2a6c=_0x4a13a;this[_0x4b2a6c(0x6cc)](_0x4b2a6c(0x39c)),this[_0x4b2a6c(0x6cc)]('video'),super['destroy']();}[_0x4a13a(0x896)](_0x47e13b){const _0x116b55=_0x4a13a;if(!this[_0x116b55(0x565)])throw new _0x240123(_0x240123[_0x116b55(0x2f7)]['OutgoingMediaStreamNoTopic'],{'label':this[_0x116b55(0xaed)],'ownerId':this[_0x116b55(0xb9b)][_0x116b55(0xa47)](),'remoteId':this[_0x116b55(0x69f)]});this[_0x116b55(0x565)]['publish']({'sourceId':this['owner'][_0x116b55(0xa47)](),'content':{'action':_0x9ffb31[_0x116b55(0xc02)],'track':_0x47e13b,'stream':this['mediaStream'],'priority':_0x52458b[_0x116b55(0x9d3)][_0x116b55(0xa82)],'params':this[_0x116b55(0x92b)](_0x47e13b[_0x116b55(0x4b2)],this[_0x116b55(0xbe8)])}});}[_0x4a13a(0x6cc)](_0x12b646){const _0x5c2c98=_0x4a13a,_0x1dd5b3=this['getTrack'](_0x12b646);if(_0x1dd5b3){if(!this['topic'])return null;this[_0x5c2c98(0x565)][_0x5c2c98(0xa19)]({'sourceId':this[_0x5c2c98(0xb9b)][_0x5c2c98(0xa47)](),'content':{'action':_0x9ffb31[_0x5c2c98(0x934)],'track':_0x1dd5b3,'stream':this[_0x5c2c98(0xb60)]}});}return _0x1dd5b3;}[_0x4a13a(0x35f)](_0x1efcce){const _0x3439d4=_0x4a13a;if(!this[_0x3439d4(0x565)])throw new _0x240123(_0x240123[_0x3439d4(0x2f7)][_0x3439d4(0xb3c)],{'label':this[_0x3439d4(0xaed)],'ownerId':this[_0x3439d4(0xb9b)][_0x3439d4(0xa47)](),'remoteId':this['remoteId']});this['topic'][_0x3439d4(0xa19)]({'sourceId':this[_0x3439d4(0xb9b)]['getId'](),'content':{'action':_0x9ffb31[_0x3439d4(0x3fd)],'priority':_0x1efcce,'stream':this['mediaStream']}});}[_0x4a13a(0x7a8)]({trackKinds:_0x392eb4,params:_0x12b146},_0x2984af){const _0x1f0202=_0x4a13a;if(!this['topic'])throw new _0x240123(_0x240123[_0x1f0202(0x2f7)][_0x1f0202(0xb3c)],{'label':this[_0x1f0202(0xaed)],'ownerId':this['owner'][_0x1f0202(0xa47)](),'remoteId':this[_0x1f0202(0x69f)]});for(const _0x526c0a of this[_0x1f0202(0xb60)][_0x1f0202(0x77f)]())_0x392eb4[_0x1f0202(0xa7f)](_0x526c0a[_0x1f0202(0x4b2)])&&this['topic']['publish']({'sourceId':this[_0x1f0202(0xb9b)][_0x1f0202(0xa47)](),'content':{'action':_0x9ffb31['Add'],'track':_0x526c0a,'stream':this[_0x1f0202(0xb60)],'priority':_0x2984af,'params':this[_0x1f0202(0x92b)](_0x526c0a[_0x1f0202(0x4b2)],_0x12b146)}});}['update']({params:_0x5180ce}){const _0x4b0039=_0x4a13a;if(!this[_0x4b0039(0x565)])throw new _0x240123(_0x240123[_0x4b0039(0x2f7)]['OutgoingMediaStreamNoTopic'],{'label':this[_0x4b0039(0xaed)],'ownerId':this[_0x4b0039(0xb9b)]['getId'](),'remoteId':this[_0x4b0039(0x69f)]});for(const _0x4520a2 of this['mediaStream'][_0x4b0039(0x77f)]())this[_0x4b0039(0x565)][_0x4b0039(0xa19)]({'sourceId':this[_0x4b0039(0xb9b)][_0x4b0039(0xa47)](),'content':{'action':_0x9ffb31[_0x4b0039(0x3fd)],'stream':this['mediaStream'],'params':this[_0x4b0039(0x92b)](_0x4520a2['kind'],_0x5180ce)}});}[_0x4a13a(0x3bf)]({trackKinds:_0x263f48}){const _0x2c1366=_0x4a13a;if(this[_0x2c1366(0x565)]){for(const _0x391f4e of this['mediaStream']['getTracks']())_0x263f48[_0x2c1366(0xa7f)](_0x391f4e[_0x2c1366(0x4b2)])&&this[_0x2c1366(0x565)][_0x2c1366(0xa19)]({'sourceId':this['owner'][_0x2c1366(0xa47)](),'content':{'action':_0x9ffb31[_0x2c1366(0x934)],'stream':this[_0x2c1366(0xb60)],'track':_0x391f4e}});}}[_0x4a13a(0xb4f)](_0x3d7c79){const _0x56e0a2=_0x4a13a;this[_0x56e0a2(0x565)]=_0x3d7c79;}[_0x4a13a(0x634)](_0x225e31){const _0x345133=_0x4a13a;_0x225e31===this['topic']&&(delete this[_0x345133(0x565)],this[_0x345133(0x6ab)][_0x345133(0xa19)]());}[_0x4a13a(0x836)](_0x359335){const _0xe3974a=_0x4a13a;return this['unregisterPublisherListener'][_0xe3974a(0x7a8)](_0x359335);}[_0x4a13a(0x330)](_0x2fac1d){const _0x2f775c=_0x4a13a;return this[_0x2f775c(0xb60)]['getTracks']()[_0x2f775c(0x319)](_0x8fdc91=>_0x8fdc91['kind']===_0x2fac1d)||null;}['getInternalTrackParams'](_0x50eaca,_0x482aab){const _0x149b8a=_0x4a13a;let _0x11a65e;return _0x149b8a(0x1f6)===_0x50eaca&&_0x482aab?.[_0x149b8a(0x1f6)]&&_0x149b8a(0xc45)!=typeof _0x482aab['video']&&(_0x11a65e={'kind':_0x149b8a(0x1f6),..._0x482aab[_0x149b8a(0x1f6)]},_0x11a65e[_0x149b8a(0x741)]=this['getResolution']()),_0x149b8a(0x39c)===_0x50eaca&&_0x482aab?.[_0x149b8a(0x39c)]&&_0x149b8a(0xc45)!=typeof _0x482aab['audio']&&(_0x11a65e={'kind':_0x149b8a(0x39c),..._0x482aab[_0x149b8a(0x39c)]}),_0x11a65e;}['getResolution'](){const _0xc182de=_0x4a13a;let _0x96e466={'width':0x0,'height':0x0};const _0x5470ed=this[_0xc182de(0xb60)][_0xc182de(0x286)]();if(_0x5470ed[_0xc182de(0x454)]>0x0){const _0x299bd6=_0x5470ed[0x0]['getSettings']();_0x299bd6[_0xc182de(0x20b)]&&_0x299bd6['height']&&(_0x96e466={'width':_0x299bd6['width'],'height':_0x299bd6[_0xc182de(0x571)]});}return _0x96e466;}}class _0x574efa extends _0x42caa4{[_0x4a13a(0x88f)];[_0x4a13a(0x3e9)]=_0x52458b[_0x4a13a(0x9d3)][_0x4a13a(0xa82)];[_0x4a13a(0x724)]=new Map();[_0x4a13a(0x6fb)]=new Map();constructor(_0x4ccde9,_0x4847ae,_0x1ede14,_0x3e6f3d){const _0x17bb60=_0x4a13a;super(_0x4ccde9,_0x4847ae,_0x1ede14 instanceof MediaStream?_0x1ede14:_0x1ede14[_0x17bb60(0xafe)]?_0x1ede14[_0x17bb60(0xafe)]:_0x1ede14[_0x17bb60(0x946)]()),this[_0x17bb60(0x88f)]=_0x3e6f3d,this[_0x17bb60(0xb60)]['getTracks']()[_0x17bb60(0x761)](_0xa1c349=>this[_0x17bb60(0x214)](_0xa1c349)),_0x260a6c[_0x17bb60(0xa93)](_0x108d83['MediaStream'],{'type':_0x17bb60(0xa19),'label':this[_0x17bb60(0xaed)],'nodeId':this[_0x17bb60(0xb9b)][_0x17bb60(0xa47)](),'nodeType':this[_0x17bb60(0xb9b)]['type'],'clusterId':this[_0x17bb60(0x88f)],'streamId':this[_0x17bb60(0x57a)](),'trackKinds':this['mediaStream'][_0x17bb60(0x77f)]()[_0x17bb60(0x275)](_0x30ad45=>_0x30ad45['kind'])});}[_0x4a13a(0x888)](){const _0x56d6a7=_0x4a13a;this[_0x56d6a7(0x6fb)]['size']>0x0&&(this[_0x56d6a7(0x6fb)][_0x56d6a7(0x761)](_0x2a9fe2=>{_0x2a9fe2['unregisterSystemPublisher'](),_0x2a9fe2['destroy']();}),this['outgoingStreams'][_0x56d6a7(0xb0f)]()),this['trackEndedListeners'][_0x56d6a7(0x761)](_0x2f64a1=>_0x2f64a1()),super[_0x56d6a7(0x888)]();}[_0x4a13a(0xa19)](_0x34d3ca){const _0x21e275=_0x4a13a;this[_0x21e275(0x525)]['publish']({'sourceId':this['owner'][_0x21e275(0xa47)](),'destinationIds':_0x34d3ca?[_0x34d3ca]:void 0x0,'propagate':!0x0,'messageType':_0x29c5a4['Content'],'content':{'type':_0x1c17a1[_0x21e275(0x861)],'ownerId':this[_0x21e275(0xb9b)][_0x21e275(0xa47)](),'label':this[_0x21e275(0xaed)],'stream':{'streamId':this[_0x21e275(0x57a)](),'availableTrackKinds':this[_0x21e275(0xb60)]['getTracks']()[_0x21e275(0x275)](_0x44c4c3=>_0x44c4c3[_0x21e275(0x4b2)])}}});}[_0x4a13a(0xa9c)](){const _0x251a24=_0x4a13a;this[_0x251a24(0x525)][_0x251a24(0xa19)]({'sourceId':this[_0x251a24(0xb9b)][_0x251a24(0xa47)](),'propagate':!0x0,'messageType':_0x29c5a4[_0x251a24(0xbf2)],'content':{'type':_0x1c17a1[_0x251a24(0x577)],'ownerId':this[_0x251a24(0xb9b)][_0x251a24(0xa47)](),'label':this[_0x251a24(0xaed)]}}),this['systemTopic'][_0x251a24(0xa19)]({'sourceId':_0x2d73b4,'messageType':_0x29c5a4[_0x251a24(0xbf2)],'content':{'type':_0x1c17a1[_0x251a24(0xb38)],'label':this[_0x251a24(0xaed)]}}),_0x260a6c[_0x251a24(0xa93)](_0x108d83[_0x251a24(0x2c8)],{'type':_0x251a24(0xa9c),'label':this[_0x251a24(0xaed)],'nodeId':this[_0x251a24(0xb9b)][_0x251a24(0xa47)](),'nodeType':this['owner'][_0x251a24(0xbdd)],'clusterId':this[_0x251a24(0x88f)],'streamId':this[_0x251a24(0x57a)]()});}['getPriority'](){const _0x215d05=_0x4a13a;return this[_0x215d05(0x3e9)];}[_0x4a13a(0x35f)](_0x4f0a0d){const _0x2808c5=_0x4a13a;this[_0x2808c5(0x3e9)]=_0x4f0a0d,this[_0x2808c5(0x6fb)][_0x2808c5(0x761)](_0x9dc65=>_0x9dc65['setPriority'](_0x4f0a0d));}[_0x4a13a(0x92d)](_0x12c5bc,_0x3e8ef5){const _0x46f6aa=_0x4a13a;if(!this[_0x46f6aa(0x6fb)][_0x46f6aa(0x738)](_0x12c5bc)){const _0x3655d3=new _0x16a1ac(this[_0x46f6aa(0xb9b)],this[_0x46f6aa(0xaed)],this[_0x46f6aa(0xb60)],_0x12c5bc,_0x3e8ef5),_0x15fe8d=_0x3655d3['onUnregisterPublisher'](()=>{const _0x3883f1=_0x46f6aa;_0x15fe8d(),this['outgoingStreams'][_0x3883f1(0x68c)](_0x12c5bc)?.[_0x3883f1(0x888)](),this['outgoingStreams'][_0x3883f1(0xb18)](_0x12c5bc);});this[_0x46f6aa(0x6fb)][_0x46f6aa(0x2a7)](_0x12c5bc,_0x3655d3),_0x3655d3['registerSystemPublisher'](this[_0x46f6aa(0x525)]);}return this[_0x46f6aa(0x6fb)][_0x46f6aa(0x68c)](_0x12c5bc);}[_0x4a13a(0x689)](){const _0x5cf4c1=_0x4a13a;return this[_0x5cf4c1(0xb60)]['id'];}['handleLocalTrackFailure'](_0x180d51){const _0x4bfcd7=_0x4a13a;this[_0x4bfcd7(0x525)][_0x4bfcd7(0xa19)]({'sourceId':_0x2d73b4,'messageType':_0x29c5a4[_0x4bfcd7(0xbf2)],'content':{'type':_0x1c17a1[_0x4bfcd7(0x617)],'label':this[_0x4bfcd7(0xaed)],'trackKinds':[_0x180d51[_0x4bfcd7(0x4b2)]]}});}[_0x4a13a(0x214)](_0x37582d){const _0x212815=_0x4a13a,_0x1dfcf0=()=>this['handleLocalTrackFailure'](_0x37582d);_0x37582d[_0x212815(0x8f3)](_0x212815(0x321),_0x1dfcf0),_0x37582d[_0x212815(0x8f3)]('mute',_0x1dfcf0),this[_0x212815(0x724)][_0x212815(0x2a7)](_0x37582d[_0x212815(0x4b2)],()=>{const _0x38ebca=_0x212815;_0x37582d[_0x38ebca(0x21f)]('ended',_0x1dfcf0),_0x37582d['removeEventListener'](_0x38ebca(0xc41),_0x1dfcf0),this[_0x38ebca(0x724)][_0x38ebca(0xb18)](_0x37582d['kind']);});}}class _0x1e4694 extends _0x574efa{['audioContext'];[_0x4a13a(0x53d)]=[];[_0x4a13a(0x2c1)];[_0x4a13a(0xbbf)];[_0x4a13a(0x5ce)];[_0x4a13a(0x2d1)];[_0x4a13a(0x464)];['context'];[_0x4a13a(0x4b5)];constructor(_0x267381,_0x5ed386,_0x1ab4ac,_0x4898b7,_0x2f4a83,_0x1d9bc2){const _0x2fab91=_0x4a13a;if(super(_0x267381,_0x5ed386,_0x1ab4ac,_0x1d9bc2),this[_0x2fab91(0x869)]=_0x2f4a83,this['clientStream']=this[_0x2fab91(0xb60)],this[_0x2fab91(0x2d1)]=document['createElement'](_0x2fab91(0x1f6)),this[_0x2fab91(0x2d1)][_0x2fab91(0xa12)]=!0x0,this[_0x2fab91(0x2d1)][_0x2fab91(0x358)]=!0x0,this[_0x2fab91(0x2d1)][_0x2fab91(0xafe)]=this[_0x2fab91(0x2c1)],this['sourceVideo'][_0x2fab91(0x99f)](),this['sourceVideo'][_0x2fab91(0x95e)]=()=>{const _0x3037eb=_0x2fab91;this[_0x3037eb(0x2d1)][_0x3037eb(0x90d)]();},this['canvas']=document['createElement'](_0x2fab91(0x464)),this['context']=this[_0x2fab91(0x464)]['getContext']('2d'),this[_0x2fab91(0xb60)]=this[_0x2fab91(0x464)][_0x2fab91(0x946)](_0x4898b7),this[_0x2fab91(0x5ce)]=this[_0x2fab91(0x869)][_0x2fab91(0x31b)](),this[_0x2fab91(0x2c1)]['getAudioTracks']()[_0x2fab91(0x454)]>0x0){const _0x2b67b4=this[_0x2fab91(0x2c1)]['getAudioTracks']()[0x0];this[_0x2fab91(0xbbf)]=this[_0x2fab91(0x869)]['createMediaStreamSource'](new MediaStream([_0x2b67b4])),this[_0x2fab91(0xbbf)]['connect'](this[_0x2fab91(0x5ce)]);}const _0x2cf0e4=this[_0x2fab91(0x5ce)][_0x2fab91(0x3c6)][_0x2fab91(0x77f)]()[0x0];this[_0x2fab91(0xb60)]['addTrack'](_0x2cf0e4),this['interval']=setInterval(()=>{const _0x39c1dd=_0x2fab91;this[_0x39c1dd(0x464)]['width']=this['sourceVideo']['videoWidth'],this[_0x39c1dd(0x464)]['height']=this[_0x39c1dd(0x2d1)][_0x39c1dd(0x6b2)],this[_0x39c1dd(0x2d1)][_0x39c1dd(0xb87)]?(0x0!==this['clientStream']['getVideoTracks']()['length']&&this[_0x39c1dd(0x2c1)][_0x39c1dd(0x286)]()[0x0][_0x39c1dd(0x931)]?this[_0x39c1dd(0xb60)]['getVideoTracks']()[0x0]['enabled']=!0x0:this[_0x39c1dd(0xb60)][_0x39c1dd(0x286)]()[0x0][_0x39c1dd(0x931)]=!0x1,0x0!==this[_0x39c1dd(0x2c1)][_0x39c1dd(0xbcf)]()[_0x39c1dd(0x454)]&&this[_0x39c1dd(0x2c1)][_0x39c1dd(0xbcf)]()[0x0]['enabled']?this[_0x39c1dd(0xb60)][_0x39c1dd(0xbcf)]()[0x0][_0x39c1dd(0x931)]=!0x0:this['mediaStream'][_0x39c1dd(0xbcf)]()[0x0][_0x39c1dd(0x931)]=!0x1,this[_0x39c1dd(0x560)][_0x39c1dd(0x616)](this[_0x39c1dd(0x2d1)],0x0,0x0)):this[_0x39c1dd(0x560)][_0x39c1dd(0x387)](0x0,0x0,this[_0x39c1dd(0x464)][_0x39c1dd(0x20b)],this[_0x39c1dd(0x464)]['height']);},0x3e8/_0x4898b7);}[_0x4a13a(0x888)](){const _0x26c8ad=_0x4a13a;clearInterval(this[_0x26c8ad(0x4b5)]),this['sourceVideo'][_0x26c8ad(0xa4d)](),this[_0x26c8ad(0x464)]['remove'](),this[_0x26c8ad(0xbbf)]?.[_0x26c8ad(0x9f1)](),this[_0x26c8ad(0x5ce)][_0x26c8ad(0x9f1)](),this['mediaStream'][_0x26c8ad(0x77f)]()[_0x26c8ad(0x761)](_0x4c25c3=>{const _0x42aea0=_0x26c8ad;_0x4c25c3[_0x42aea0(0x312)](),this[_0x42aea0(0xb60)]['removeTrack'](_0x4c25c3);}),super[_0x26c8ad(0x888)]();}[_0x4a13a(0x896)](_0x10f35e){const _0xb825ba=_0x4a13a,_0x26d790=this['getTrack'](_0x10f35e[_0xb825ba(0x4b2)]);_0x26d790&&this[_0xb825ba(0x6cc)](_0x26d790),_0xb825ba(0x39c)!==_0x10f35e[_0xb825ba(0x4b2)]?('video'===_0x10f35e[_0xb825ba(0x4b2)]&&this[_0xb825ba(0x770)](_0x10f35e),this[_0xb825ba(0x214)](_0x10f35e)):this['addAudioTrack'](_0x10f35e);}[_0x4a13a(0x6cc)](_0x39dba6){const _0x5d374a=_0x4a13a,_0x33ad13=this[_0x5d374a(0x4bb)](_0x39dba6);return _0x33ad13&&(_0x5d374a(0x39c)===_0x33ad13[_0x5d374a(0x4b2)]&&(this[_0x5d374a(0xbbf)]?.[_0x5d374a(0x9f1)](),this[_0x5d374a(0xbbf)]=void 0x0),this[_0x5d374a(0x724)][_0x5d374a(0x68c)](_0x33ad13[_0x5d374a(0x4b2)])?.(),this[_0x5d374a(0x2c1)][_0x5d374a(0x6cc)](_0x33ad13)),_0x33ad13;}['replaceTrack'](_0x4275bc){const _0x11c2c9=_0x4a13a;this[_0x11c2c9(0x6cc)](_0x4275bc[_0x11c2c9(0x4b2)]),this[_0x11c2c9(0x896)](_0x4275bc);}[_0x4a13a(0x9c0)](_0x476544){const _0x227b3b=_0x4a13a;this[_0x227b3b(0x53d)]=_0x476544;}[_0x4a13a(0x330)](_0xc71db2){const _0x3692a5=_0x4a13a;return this[_0x3692a5(0x2c1)][_0x3692a5(0x77f)]()[_0x3692a5(0x319)](_0x5c3be5=>_0x5c3be5[_0x3692a5(0x4b2)]===_0xc71db2)||null;}[_0x4a13a(0x4bb)](_0x51550d){const _0x8802fc=_0x4a13a;return _0x8802fc(0x924)==typeof _0x51550d?this[_0x8802fc(0x330)](_0x51550d):_0x51550d;}['addAudioTrack'](_0x5ebf80){const _0x2f168f=_0x4a13a;_0x2f168f(0x226)===this[_0x2f168f(0x869)][_0x2f168f(0x882)]&&this['audioContext']['resume'](),this[_0x2f168f(0x2c1)][_0x2f168f(0x896)](_0x5ebf80),this['audioSource']=this[_0x2f168f(0x869)][_0x2f168f(0x642)](this['clientStream']),this['audioSource'][_0x2f168f(0x643)](this[_0x2f168f(0x5ce)]);}[_0x4a13a(0x770)](_0x1ba92a){const _0x8f5c7a=_0x4a13a;this['clientStream'][_0x8f5c7a(0x896)](_0x1ba92a),this[_0x8f5c7a(0x2d1)][_0x8f5c7a(0x99f)]();}}class _0x33e488 extends _0x574efa{}class _0xd0ec92 extends _0x6375ab{[_0x4a13a(0xc4d)];['clusterId'];[_0x4a13a(0x649)];[_0x4a13a(0x91d)];['waitForArrayBufferSize'];[_0x4a13a(0x5e9)];[_0x4a13a(0x32a)];[_0x4a13a(0xa85)];[_0x4a13a(0x914)]=new Map();[_0x4a13a(0x338)]=new Map();['pendingFilesSyncing']=new Map();[_0x4a13a(0x7f9)]=new Map();[_0x4a13a(0x20a)]=new Map();[_0x4a13a(0x6d2)]=new Map();['objectStoreConnector'];[_0x4a13a(0xac8)]=_0x47b7f3();[_0x4a13a(0x307)]=new Map();[_0x4a13a(0x46c)];['writes']=0x0;['reads']=0x0;[_0x4a13a(0xb51)]=!0x0;[_0x4a13a(0x2f8)]=!0x0;[_0x4a13a(0x4e2)]=0x0;['nodesConnected']=0x0;constructor(_0x10a440,_0x1aec2d,_0x53bfbd,_0x279681,_0x5e34d0,_0x21cf3a,_0x1200e7,_0x15a113){const _0x30b95c=_0x4a13a;if(_0x30b95c(0x924)!=typeof _0x1aec2d)throw new _0x298b29(_0x404249[_0x30b95c(0x77d)],_0x30b95c(0x3e4));super(_0x10a440,_0x1aec2d),this['localNode']=_0x10a440,this[_0x30b95c(0x88f)]=_0x53bfbd,this[_0x30b95c(0x649)]=_0x279681,this[_0x30b95c(0x91d)]=_0x5e34d0,this['waitForArrayBufferSize']=_0x1200e7,this[_0x30b95c(0x5e9)]=_0x15a113;const _0x532f8c=_0x30b95c(0x38e)+this['vendorId']+_0x30b95c(0x38e)+this[_0x30b95c(0x88f)]+_0x30b95c(0x38e)+_0x1aec2d;this['objectStoreConnector']=new _0x21cf3a(_0x532f8c),this['syncContent']=this[_0x30b95c(0x5e9)]?.[_0x30b95c(0xb51)]??!0x0,this[_0x30b95c(0x5e9)]?.['standalone']&&(this['syncContent']=!0x1),this[_0x30b95c(0x6d7)]();}[_0x4a13a(0x56f)](){this['sendStats']();}[_0x4a13a(0x743)](){const _0x2359ab=_0x4a13a;return _0x52458b['ContentType'][_0x2359ab(0x46e)];}async[_0x4a13a(0x6f0)](){const _0x338290=_0x4a13a;this[_0x338290(0x2f8)]=!0x0;try{const _0x224871=await this[_0x338290(0x2b3)][_0x338290(0x68c)](_0x527efb),_0x2d8008=await _0x224871['text']();this['lastTransactionId']=_0x2d8008;}catch(_0x35446f){}this[_0x338290(0x32a)]=this['onMessage'](async(_0x31935e,_0x27bd44)=>{const _0x4f3b14=_0x338290;if(!(_0x27bd44 instanceof File))try{if(_0x27bd44[_0x4f3b14(0x232)]===_0x5a32db[_0x4f3b14(0x1eb)])return void this[_0x4f3b14(0x729)](_0x27bd44);this[_0x4f3b14(0x752)](_0x27bd44);}catch(_0x2f3df6){if(_0x2f3df6 instanceof _0x240123)throw _0x2f3df6;throw new _0x240123(_0x240123[_0x4f3b14(0x2f7)][_0x4f3b14(0x5f5)],{'payload':_0x27bd44});}}),await this[_0x338290(0x63e)](),this['syncContent']?await this[_0x338290(0x63f)]():this[_0x338290(0x5c6)](),this[_0x338290(0x6d7)]();}[_0x4a13a(0x888)](){const _0xe5c12=_0x4a13a;this[_0xe5c12(0x32a)]?.(),this[_0xe5c12(0x307)][_0xe5c12(0x761)](_0x228b4b=>_0x228b4b()),this[_0xe5c12(0x307)]['clear'](),clearTimeout(this['debounceStats']),delete this['debounceStats'],super[_0xe5c12(0x888)]();}[_0x4a13a(0x935)](){const _0x3955b8=_0x4a13a;this[_0x3955b8(0x525)]?.[_0x3955b8(0xa19)]({'sourceId':_0x2d73b4,'messageType':_0x29c5a4[_0x3955b8(0xbf2)],'content':{'type':_0x1c17a1[_0x3955b8(0x61d)],'label':this[_0x3955b8(0xaed)]}});}[_0x4a13a(0x7a8)](_0x2f31ab,_0x5d094b){const _0x595c94=_0x4a13a;if(this[_0x595c94(0x307)][_0x595c94(0x738)](_0x2f31ab))throw new _0x298b29(_0x404249[_0x595c94(0xbae)],_0x595c94(0x6fa));this[_0x595c94(0x307)]['set'](_0x2f31ab,this[_0x595c94(0xac8)][_0x595c94(0x7a8)](_0x5d094b)),this[_0x595c94(0x2f8)]||this['eventListener'][_0x595c94(0xa19)]({'event':_0x52458b[_0x595c94(0xb39)][_0x595c94(0x52a)],'payload':{'filesSynced':this['filesSynced']}});}[_0x4a13a(0x3bf)](_0x52fffa){const _0x465ffb=_0x4a13a;this['listenerUnsubscribers'][_0x465ffb(0x68c)](_0x52fffa)?.(),this['listenerUnsubscribers'][_0x465ffb(0xb18)](_0x52fffa);}['publish'](_0xf589ba){const _0x4db2e3=_0x4a13a;switch(_0xf589ba['action']){case _0x52458b[_0x4db2e3(0xa87)][_0x4db2e3(0xa75)]:return this['publishFile'](_0xf589ba['file'],_0xf589ba[_0x4db2e3(0x49a)],_0xf589ba['options']);case _0x52458b[_0x4db2e3(0xa87)][_0x4db2e3(0x244)]:return this[_0x4db2e3(0x799)](_0xf589ba[_0x4db2e3(0x49a)]);case _0x52458b[_0x4db2e3(0xa87)][_0x4db2e3(0xa4c)]:return this[_0x4db2e3(0x716)](_0xf589ba['path'],_0xf589ba[_0x4db2e3(0x780)]);default:throw new _0x298b29(_0x404249[_0x4db2e3(0x3f3)],_0x4db2e3(0x602)+_0xf589ba);}}async[_0x4a13a(0xa9c)](_0x354bc2){const _0x36e7ae=_0x4a13a;try{const _0x443fb0=(0x0,_0xafe7f0['v4'])(),_0x33324f=this[_0x36e7ae(0xa85)],_0xf5e6bb={'payloadType':_0x5a32db[_0x36e7ae(0x2ad)],'action':_0x532345[_0x36e7ae(0x873)],'id':_0x443fb0,'parentId':_0x33324f,'path':_0x354bc2};await this[_0x36e7ae(0xb9a)](_0xf5e6bb);const _0x235ccc=await this[_0x36e7ae(0x621)](_0x354bc2);!0x0!==this['options']?.[_0x36e7ae(0x458)]&&await this[_0x36e7ae(0x381)](_0xf5e6bb),_0x260a6c['logServiceEvent'](_0x108d83['ObjectStorage'],{'type':'unpublish','label':this[_0x36e7ae(0xaed)],'nodeId':this[_0x36e7ae(0xc4d)][_0x36e7ae(0xa47)](),'nodeType':this[_0x36e7ae(0xc4d)][_0x36e7ae(0xbdd)],'clusterId':this[_0x36e7ae(0x88f)],'kind':_0x235ccc,'path':_0x354bc2}),this[_0x36e7ae(0x8c7)]+=0x1,this[_0x36e7ae(0x6d7)]();}catch(_0x5aba98){if(_0x5aba98 instanceof _0x240123)throw new _0x298b29(_0x404249[_0x36e7ae(0x9b6)],_0x36e7ae(0x5a0)+_0x354bc2+_0x36e7ae(0xaec));throw new _0x298b29(_0x404249[_0x36e7ae(0x4cd)],_0x36e7ae(0x265)+_0x354bc2);}}async[_0x4a13a(0x68c)](_0x543306,_0x17d62a){const _0x37ce7b=_0x4a13a;_0x260a6c[_0x37ce7b(0xa93)](_0x108d83[_0x37ce7b(0x77a)],{'type':_0x37ce7b(0x68c),'label':this[_0x37ce7b(0xaed)],'nodeId':this[_0x37ce7b(0xc4d)][_0x37ce7b(0xa47)](),'nodeType':this[_0x37ce7b(0xc4d)][_0x37ce7b(0xbdd)],'clusterId':this[_0x37ce7b(0x88f)],'path':_0x543306}),this[_0x37ce7b(0x7c2)]+=0x1,this[_0x37ce7b(0x6d7)]();try{return await this['objectStoreConnector'][_0x37ce7b(0x68c)](_0x543306,_0x17d62a);}catch(_0x1be940){try{await this['objectStoreConnector'][_0x37ce7b(0x68c)](_0x543306+_0x2395cd);}catch(_0x139678){throw new _0x298b29(_0x404249[_0x37ce7b(0x4cd)],_0x37ce7b(0x683)+_0x543306);}throw new _0x298b29(_0x404249[_0x37ce7b(0x9b6)],_0x37ce7b(0x700));}}async[_0x4a13a(0xb07)](_0x3fc1d8,_0x10700c){const _0x27a6ed=_0x4a13a,{recursive:_0x1de750=!0x1,includeSyncingFiles:_0x2acb7d=!0x1}=_0x10700c??{};_0x260a6c[_0x27a6ed(0xa93)](_0x108d83[_0x27a6ed(0x77a)],{'type':'list','label':this['label'],'nodeId':this[_0x27a6ed(0xc4d)][_0x27a6ed(0xa47)](),'nodeType':this[_0x27a6ed(0xc4d)][_0x27a6ed(0xbdd)],'clusterId':this[_0x27a6ed(0x88f)],'path':_0x3fc1d8}),this[_0x27a6ed(0x7c2)]+=0x1,this[_0x27a6ed(0x6d7)]();try{const _0x658ae5=await this['objectStoreConnector'][_0x27a6ed(0xb07)](_0x3fc1d8,_0x1de750);return this['processList'](_0x658ae5,{'recursive':_0x1de750,'includeSyncingFiles':_0x2acb7d});}catch(_0x5586e8){throw new _0x298b29(_0x404249[_0x27a6ed(0x4cd)],_0x27a6ed(0x1f1)+_0x3fc1d8);}}[_0x4a13a(0x670)](_0xc18703){const _0x397473=_0x4a13a;this[_0x397473(0x326)]+=0x1;for(const _0x29fa54 of this[_0x397473(0x338)]['values']())this[_0x397473(0x381)](_0x29fa54,[_0xc18703]);}[_0x4a13a(0x3b2)](_0x54777d){const _0x5e39ac=_0x4a13a;this[_0x5e39ac(0x326)]-=0x1;const _0x5a9587=this[_0x5e39ac(0x4cc)][_0x5e39ac(0x68c)](_0x54777d);if(_0x5a9587){for(const [_0x12107e,_0x361057]of _0x5a9587[_0x5e39ac(0x331)]())this['sendFileRequestPayload'](_0x12107e,_0x361057);this[_0x5e39ac(0x4cc)][_0x5e39ac(0xb18)](_0x54777d);}}async[_0x4a13a(0xc3c)](_0x5c2f41='/'){const _0x1391ff=_0x4a13a;try{return await this['objectStoreConnector'][_0x1391ff(0xa04)](_0x5c2f41);}catch(_0x585443){if(_0x585443 instanceof Error&&_0x585443[_0x1391ff(0x5c1)][_0x1391ff(0xa7f)](_0x1391ff(0x56e)))return 0x0;throw new _0x298b29(_0x404249[_0x1391ff(0x4cd)],_0x1391ff(0x5d5)+_0x5c2f41);}}['completeSync'](){const _0x43c089=_0x4a13a;this[_0x43c089(0x2f8)]&&(this[_0x43c089(0x2f8)]=!0x1,this[_0x43c089(0xac8)]['publish']({'event':_0x52458b[_0x43c089(0xb39)]['SyncComplete'],'payload':{'filesSynced':this[_0x43c089(0x4e2)]}}));}async[_0x4a13a(0xab5)](_0x2c0c79,{includeSyncingFiles:_0x5f0320=!0x1}){const _0x407906=_0x4a13a,_0x5be502=[];for(const _0x289f0f of _0x2c0c79)if(_0x289f0f[_0x407906(0x4b2)]!==_0x52458b[_0x407906(0xa56)][_0x407906(0x244)]){if(_0x289f0f[_0x407906(0xbbd)]!==_0x527efb){if(_0x289f0f[_0x407906(0xbbd)][_0x407906(0x9b3)](_0x2395cd)){if(!_0x5f0320)continue;const _0x5d5597=_0x289f0f;if(_0x5d5597[_0x407906(0xbbd)]=_0x5d5597[_0x407906(0xbbd)][_0x407906(0xb00)](_0x2395cd,''),_0x5d5597[_0x407906(0x45c)]=_0x5d5597['pathName']['replace'](_0x2395cd,''),await this[_0x407906(0x561)](_0x5d5597[_0x407906(0x45c)])){_0x2c0c79['find'](_0x5e4c2b=>_0x5e4c2b[_0x407906(0x45c)]===_0x5d5597[_0x407906(0x45c)])[_0x407906(0xc33)]=_0x52458b[_0x407906(0x5b0)][_0x407906(0x1f0)];continue;}_0x5d5597['status']=_0x52458b[_0x407906(0x5b0)][_0x407906(0x285)];}_0x5be502[_0x407906(0x247)](_0x289f0f);}}else _0x289f0f['entries']=await this[_0x407906(0xab5)](_0x289f0f[_0x407906(0x3a4)]??[],{'includeSyncingFiles':_0x5f0320}),_0x5be502[_0x407906(0x247)](_0x289f0f);return _0x5be502;}async[_0x4a13a(0x394)](_0x47a3ae,_0x3d545f,_0x4f31fc){const _0x21c015=_0x4a13a;try{const _0x3ccdbe=(0x0,_0xafe7f0['v4'])(),_0x271061=await _0x4ae621(_0x47a3ae),_0xb66980=_0x2dbca4(_0x3d545f??'/',_0x47a3ae[_0x21c015(0xbbd)]);let _0x164328=!0x0;const _0x253448={'payloadType':_0x5a32db[_0x21c015(0x2ad)],'action':_0x532345[_0x21c015(0x829)],'id':_0x3ccdbe,'parentId':this[_0x21c015(0xa85)],'answererId':this[_0x21c015(0xc4d)][_0x21c015(0xa47)](),'name':_0x47a3ae['name'],'type':_0x47a3ae[_0x21c015(0xbdd)],'path':_0x3d545f??'/','skipEncryption':_0x4f31fc?.[_0x21c015(0x4e6)]??!0x1,'checksum':_0x271061};try{if(!_0x4f31fc?.[_0x21c015(0x544)])throw new Error(_0x21c015(0xa8f));const _0x317bc6=_0xb66980+_0x2395cd;await this[_0x21c015(0x2b3)][_0x21c015(0x68c)](_0x317bc6),_0x164328=!0x1,await this[_0x21c015(0x2b3)][_0x21c015(0x621)](_0x317bc6),this['objectRequests'][_0x21c015(0xb18)](_0xb66980);}catch(_0x2b2628){await this[_0x21c015(0xb9a)](_0x253448);}if(this['syncContent']||this['options']?.['standalone']?await this[_0x21c015(0x494)](_0x47a3ae,_0x3d545f,_0x4f31fc):await this[_0x21c015(0xc46)](_0x47a3ae[_0x21c015(0xbbd)],_0x3d545f??'/',{'checksum':_0x271061,'skipEncryption':_0x4f31fc?.[_0x21c015(0x4e6)]??!0x1}),this['fileSendingMap'][_0x21c015(0x738)](_0xb66980)){const [_0x2b0ff5,_0xc67dc3]=this['fileSendingMap'][_0x21c015(0x68c)](_0xb66980);this['fileSendingMap']['set'](_0xb66980,[!0x0,_0xc67dc3]);try{await _0xc67dc3;}catch(_0x533be8){}this[_0x21c015(0x6d2)][_0x21c015(0xb18)](_0xb66980);}_0x164328&&this['nodesConnected']>0x0&&!0x0!==this[_0x21c015(0x5e9)]?.[_0x21c015(0x458)]&&await this[_0x21c015(0x2c7)](_0x47a3ae,_0x253448),_0x260a6c[_0x21c015(0xa93)](_0x108d83[_0x21c015(0x77a)],{'type':_0x21c015(0xa19),'label':this['label'],'nodeId':this[_0x21c015(0xc4d)][_0x21c015(0xa47)](),'nodeType':this[_0x21c015(0xc4d)][_0x21c015(0xbdd)],'clusterId':this['clusterId'],'kind':_0x52458b[_0x21c015(0xa56)][_0x21c015(0xa75)],'path':_0x3d545f,'fileName':_0x47a3ae['name'],'fileType':_0x47a3ae['type'],'size':_0x47a3ae[_0x21c015(0x7a7)]}),this[_0x21c015(0x8c7)]+=0x1,this[_0x21c015(0x6d7)]();}catch(_0x8b698b){if(_0x8b698b instanceof _0x240123)throw new _0x298b29(_0x404249['ObjectStoreNotInSync'],_0x21c015(0x700));throw new _0x298b29(_0x404249[_0x21c015(0x4cd)],_0x21c015(0x5a9)+_0x3d545f+(_0x3d545f?.['endsWith']('/')?'':'/')+_0x47a3ae['name']);}}async[_0x4a13a(0x799)](_0x1ce2de){const _0x3428ed=_0x4a13a;try{const _0x553533=(0x0,_0xafe7f0['v4'])(),_0x4ceefb=this[_0x3428ed(0xa85)],_0x5ba5fb={'payloadType':_0x5a32db[_0x3428ed(0x2ad)],'action':_0x532345[_0x3428ed(0xb1b)],'id':_0x553533,'parentId':_0x4ceefb,'path':_0x1ce2de};await this[_0x3428ed(0xb9a)](_0x5ba5fb),await this[_0x3428ed(0x2b3)][_0x3428ed(0x472)](_0x1ce2de),!0x0!==this[_0x3428ed(0x5e9)]?.[_0x3428ed(0x458)]&&await this['send'](_0x5ba5fb),_0x260a6c[_0x3428ed(0xa93)](_0x108d83[_0x3428ed(0x77a)],{'type':_0x3428ed(0xa19),'label':this[_0x3428ed(0xaed)],'nodeId':this[_0x3428ed(0xc4d)]['getId'](),'nodeType':this[_0x3428ed(0xc4d)][_0x3428ed(0xbdd)],'clusterId':this[_0x3428ed(0x88f)],'kind':_0x52458b[_0x3428ed(0xa56)][_0x3428ed(0x244)],'path':_0x1ce2de}),this[_0x3428ed(0x8c7)]+=0x1,this[_0x3428ed(0x6d7)]();}catch(_0x1fcee3){if(_0x1fcee3 instanceof _0x240123)throw new _0x298b29(_0x404249['ObjectStoreNotInSync'],_0x3428ed(0x700));throw new _0x298b29(_0x404249[_0x3428ed(0x4cd)],_0x3428ed(0x9da)+_0x1ce2de);}}async['publishMove'](_0x3fa54f,_0x21ecf2){const _0x19c11b=_0x4a13a;try{const _0x1ace87=(0x0,_0xafe7f0['v4'])(),_0x3c59e2=this[_0x19c11b(0xa85)],_0x412f5b={'payloadType':_0x5a32db[_0x19c11b(0x2ad)],'action':_0x532345[_0x19c11b(0xa4c)],'id':_0x1ace87,'parentId':_0x3c59e2,'path':_0x3fa54f,'newPath':_0x21ecf2};await this[_0x19c11b(0xb9a)](_0x412f5b);const _0x59d99b=await this[_0x19c11b(0x41a)](_0x3fa54f,_0x21ecf2);!0x0!==this[_0x19c11b(0x5e9)]?.[_0x19c11b(0x458)]&&await this['send'](_0x412f5b),_0x260a6c[_0x19c11b(0xa93)](_0x108d83[_0x19c11b(0x77a)],{'type':'move','label':this[_0x19c11b(0xaed)],'nodeId':this[_0x19c11b(0xc4d)][_0x19c11b(0xa47)](),'nodeType':this[_0x19c11b(0xc4d)][_0x19c11b(0xbdd)],'clusterId':this['clusterId'],'kind':_0x59d99b,'path':_0x3fa54f,'newPath':_0x21ecf2}),this[_0x19c11b(0x8c7)]+=0x1,this['sendStats']();}catch(_0x444427){if(_0x444427 instanceof _0x240123)throw new _0x298b29(_0x404249[_0x19c11b(0x9b6)],_0x19c11b(0x700));throw new _0x298b29(_0x404249[_0x19c11b(0x4cd)],_0x19c11b(0xa31)+_0x3fa54f);}}async[_0x4a13a(0x752)](_0x5c741e,_0x369119=!0x1){const _0x537b12=_0x4a13a;if(this['lastTransactionId']&&_0x5c741e[_0x537b12(0x7d3)]!==this[_0x537b12(0xa85)]&&_0x5c741e['id']!==this[_0x537b12(0xa85)]){if(!_0x5c741e[_0x537b12(0x7d3)])throw new _0x240123(_0x240123[_0x537b12(0x2f7)]['ObjectStoreInvalidSyncMessage']);this['pendingSyncTransactions']['set'](_0x5c741e[_0x537b12(0x7d3)],_0x5c741e);}else{try{await this[_0x537b12(0xba1)](_0x5c741e,_0x369119);}catch(_0x3db70d){}await this['updateLastTransactionId'](_0x5c741e['id']),await this[_0x537b12(0xc15)](_0x5c741e['id'],_0x369119);}}async[_0x4a13a(0xba1)](_0x23f08c,_0xbaf3d8=!0x1){const _0x153e94=_0x4a13a;switch(_0x23f08c[_0x153e94(0x395)]){case _0x532345[_0x153e94(0x829)]:await this[_0x153e94(0x2ed)](_0x23f08c);break;case _0x532345[_0x153e94(0xb1b)]:await this[_0x153e94(0x7b2)](_0x23f08c);break;case _0x532345['Move']:await this[_0x153e94(0x34e)](_0x23f08c,_0xbaf3d8);break;case _0x532345[_0x153e94(0x873)]:await this['handleObjectDelete'](_0x23f08c,_0xbaf3d8);break;default:throw new _0x240123(_0x240123[_0x153e94(0x2f7)]['ObjectStoreInvalidSyncMessage'],{'payload':_0x23f08c});}}async[_0x4a13a(0xc15)](_0x563e53,_0x44ebbd=!0x1){const _0x20cb60=_0x4a13a;if(this[_0x20cb60(0x914)][_0x20cb60(0x738)](_0x563e53)){const _0x3d0cb5=this[_0x20cb60(0x914)][_0x20cb60(0x68c)](_0x563e53);this[_0x20cb60(0x914)][_0x20cb60(0xb18)](_0x563e53),await this[_0x20cb60(0x752)](_0x3d0cb5,_0x44ebbd);}}async[_0x4a13a(0x729)](_0x3ea9bd){const _0x398b19=_0x4a13a;switch(_0x3ea9bd['action']){case _0x532345[_0x398b19(0xc4f)]:return this[_0x398b19(0x7ce)](_0x3ea9bd);case _0x532345[_0x398b19(0x78f)]:return this[_0x398b19(0xb75)](_0x3ea9bd);case _0x532345[_0x398b19(0x4c9)]:return this[_0x398b19(0x62a)](_0x3ea9bd);case _0x532345[_0x398b19(0x36a)]:return this[_0x398b19(0x2ed)](_0x3ea9bd);default:throw new _0x240123(_0x240123['codes'][_0x398b19(0x5f5)],{'payload':_0x3ea9bd});}}async['handleFileWrite'](_0x482db3,_0x453c20=0x0){const _0x5eb010=_0x4a13a,_0x1ccf37=_0x2dbca4(_0x482db3['path'],_0x482db3['name']);if(!_0x482db3[_0x5eb010(0x728)]||void 0x0===_0x482db3[_0x5eb010(0x315)]||!_0x482db3[_0x5eb010(0x6b8)])return this[_0x5eb010(0x505)]['delete'](_0x1ccf37),void await this[_0x5eb010(0xc46)](_0x482db3[_0x5eb010(0xbbd)],_0x482db3[_0x5eb010(0x49a)],{'checksum':_0x482db3['checksum'],'skipEncryption':_0x482db3[_0x5eb010(0x4e6)]});if(this[_0x5eb010(0x505)]['has'](_0x1ccf37)){const _0x12c198=this[_0x5eb010(0x505)]['get'](_0x1ccf37);_0x12c198['checksum']!==_0x482db3['checksum']&&(_0x12c198['stream']?.['close'](),this[_0x5eb010(0x505)][_0x5eb010(0xb18)](_0x1ccf37));}if(!this[_0x5eb010(0x505)][_0x5eb010(0x738)](_0x1ccf37)){try{await this[_0x5eb010(0x2b3)][_0x5eb010(0x621)](_0x1ccf37);}catch(_0x9edc07){}try{const _0x533354=this['syncContent']?await this['objectStoreConnector']['createWritableStream'](_0x1ccf37,{'skipEncryption':_0x482db3[_0x5eb010(0x4e6)]}):void 0x0,_0x448606={'chunksReceived':_0x482db3[_0x5eb010(0xa81)]??0x0,'bytesReceived':0x0,'stream':_0x533354,'checksum':_0x482db3['checksum']};this[_0x5eb010(0x505)]['set'](_0x1ccf37,_0x448606),await this[_0x5eb010(0xc46)](_0x482db3[_0x5eb010(0xbbd)],_0x482db3[_0x5eb010(0x49a)],{'checksum':_0x482db3[_0x5eb010(0x58c)],'skipEncryption':_0x482db3['skipEncryption']});}catch(_0x2229a0){}}const _0x32928f=this[_0x5eb010(0x505)]['get'](_0x1ccf37);if(_0x482db3['checksum']!==_0x32928f[_0x5eb010(0x58c)])return;if(this[_0x5eb010(0x492)](_0x482db3,_0x1ccf37),this[_0x5eb010(0xb51)]){if(!_0x32928f['stream'])throw new _0x240123(_0x240123[_0x5eb010(0x2f7)][_0x5eb010(0x5f5)],{'message':_0x5eb010(0x2dc)});let _0x51854d=_0x32928f[_0x5eb010(0xc3d)];if(_0x482db3['index']!==_0x51854d){if(_0x51854d>_0x482db3['index'])return;const _0x584fdc=0x1000;if(_0x482db3[_0x5eb010(0x315)]>_0x51854d+_0x584fdc)return;if(_0x32928f['bufferedChunks']||(_0x32928f[_0x5eb010(0x9e5)]=[]),_0x32928f[_0x5eb010(0x9e5)][_0x5eb010(0x454)]>0x4000)throw this[_0x5eb010(0x505)][_0x5eb010(0xb18)](_0x1ccf37),new _0x240123(_0x240123['codes'][_0x5eb010(0x5f5)],{'message':_0x5eb010(0xbaf)});return void _0x32928f[_0x5eb010(0x9e5)][_0x5eb010(0x247)](_0x482db3);}try{_0x32928f[_0x5eb010(0xc3d)]+=0x1,_0x32928f[_0x5eb010(0x325)]+=_0x482db3['data']['byteLength'],await _0x32928f['stream']['write'](_0x482db3[_0x5eb010(0x728)]);}catch(_0x3b7052){if(console[_0x5eb010(0x33b)](_0x5eb010(0x2e9),_0x3b7052),_0x453c20>0x3)throw this[_0x5eb010(0x505)][_0x5eb010(0xb18)](_0x1ccf37),console[_0x5eb010(0x33b)](_0x5eb010(0x8b5),_0x3b7052),new _0x240123(_0x240123[_0x5eb010(0x2f7)]['ObjectStoreInvalidSyncMessage'],{'message':'Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream'});return this[_0x5eb010(0x2ed)](_0x482db3,_0x453c20+0x1);}}try{await this[_0x5eb010(0x75e)](_0x32928f,_0x482db3[_0x5eb010(0x315)]+0x1);}catch(_0x1e0d8f){throw this[_0x5eb010(0x505)]['delete'](_0x1ccf37),_0x1e0d8f;}if(this[_0x5eb010(0x505)]['set'](_0x1ccf37,_0x32928f),_0x32928f['chunksReceived']<_0x482db3[_0x5eb010(0x6b8)])return;await this['deleteFileChunks'](_0x1ccf37),this[_0x5eb010(0xb51)]&&(await this[_0x5eb010(0x238)](_0x482db3),_0x260a6c['logServiceEvent'](_0x108d83['ObjectStorage'],{'type':_0x5eb010(0x6f0),'label':this[_0x5eb010(0xaed)],'nodeId':this[_0x5eb010(0xc4d)][_0x5eb010(0xa47)](),'nodeType':this[_0x5eb010(0xc4d)][_0x5eb010(0xbdd)],'clusterId':this[_0x5eb010(0x88f)],'kind':_0x52458b[_0x5eb010(0xa56)][_0x5eb010(0xa75)],'path':_0x482db3['path'],'fileName':_0x482db3[_0x5eb010(0xbbd)],'fileType':_0x482db3[_0x5eb010(0xbdd)],'size':_0x32928f['bytesReceived']}));const _0x3314ec=this[_0x5eb010(0x7f9)][_0x5eb010(0x68c)](_0x482db3[_0x5eb010(0x49a)])??[];for(const _0x372392 of _0x3314ec)await this[_0x5eb010(0xba1)](_0x372392);this[_0x5eb010(0x7f9)][_0x5eb010(0xb18)](_0x482db3['path']),this['eventListener'][_0x5eb010(0xa19)]({'event':_0x52458b[_0x5eb010(0xb39)][_0x5eb010(0x829)],'payload':{'file':{'kind':_0x52458b[_0x5eb010(0xa56)]['File'],'path':_0x482db3[_0x5eb010(0x49a)],'type':_0x482db3['type'],'size':_0x32928f['bytesReceived'],'name':_0x482db3[_0x5eb010(0xbbd)],'pathName':_0x1ccf37,'status':this[_0x5eb010(0xb51)]?_0x52458b['FileStatus']['Synced']:_0x52458b[_0x5eb010(0x5b0)][_0x5eb010(0x285)]}}}),this[_0x5eb010(0x6d7)]();}async[_0x4a13a(0x75e)](_0x666d21,_0x43bb98){const _0x1ba84a=_0x4a13a,_0x50a7fa=_0x666d21[_0x1ba84a(0x3c6)];let _0x422f6b=0x0;for(;_0x666d21[_0x1ba84a(0x9e5)]&&_0x666d21[_0x1ba84a(0x9e5)][_0x1ba84a(0x454)]>0x0;){const _0x5009dc=_0x666d21[_0x1ba84a(0x9e5)][_0x1ba84a(0x319)](_0x3a3b3c=>_0x3a3b3c[_0x1ba84a(0x315)]===_0x43bb98+0x1);if(!_0x5009dc)break;_0x666d21['bufferedChunks']=_0x666d21[_0x1ba84a(0x9e5)][_0x1ba84a(0x675)](_0x3c6b74=>_0x3c6b74['index']!==_0x43bb98+0x1);try{await _0x50a7fa['write'](_0x5009dc['data']),_0x43bb98++;}catch(_0x60f6e8){if(console[_0x1ba84a(0x33b)](_0x1ba84a(0x86a),_0x60f6e8),_0x422f6b>0x3)throw console[_0x1ba84a(0x33b)](_0x1ba84a(0x601),_0x60f6e8),new _0x240123(_0x240123[_0x1ba84a(0x2f7)]['ObjectStoreInvalidSyncMessage'],{'message':'Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream'});_0x422f6b++;continue;}_0x666d21[_0x1ba84a(0xc3d)]+=0x1,_0x666d21[_0x1ba84a(0x325)]+=_0x5009dc[_0x1ba84a(0x728)][_0x1ba84a(0x4a8)];}}async[_0x4a13a(0x7b2)](_0x250e3c){const _0x37d9f1=_0x4a13a;await this[_0x37d9f1(0x2b3)]['createFolder'](_0x250e3c[_0x37d9f1(0x49a)]);const [_0x4343f5,_0x50dce7]=_0x361845(_0x250e3c[_0x37d9f1(0x49a)]);this['eventListener']['publish']({'event':_0x52458b[_0x37d9f1(0xb39)][_0x37d9f1(0xb1b)],'payload':{'folder':{'kind':_0x52458b[_0x37d9f1(0xa56)]['Folder'],'name':_0x50dce7,'path':_0x4343f5,'pathName':_0x250e3c[_0x37d9f1(0x49a)]}}});}async[_0x4a13a(0x797)](_0x5c56f0,_0x4f0820=!0x1){const _0x4a9622=_0x4a13a;if(!_0x4f0820&&!this[_0x4a9622(0x9fc)](_0x5c56f0))return;const _0x72f91c=await this[_0x4a9622(0x621)](_0x5c56f0['path']),[_0x4839f5,_0x4014e4]=_0x361845(_0x5c56f0[_0x4a9622(0x49a)]);this['eventListener'][_0x4a9622(0xa19)]({'event':_0x72f91c===_0x52458b[_0x4a9622(0xa56)][_0x4a9622(0x244)]?_0x52458b[_0x4a9622(0xb39)][_0x4a9622(0x8e8)]:_0x52458b[_0x4a9622(0xb39)][_0x4a9622(0xaa3)],'payload':{'name':_0x4014e4,'path':_0x4839f5,'pathName':_0x5c56f0[_0x4a9622(0x49a)]}}),this['sendStats']();}async['handleObjectMove'](_0x5b7361,_0x1a11dc=!0x1){const _0x28f381=_0x4a13a;if(!_0x1a11dc&&!this[_0x28f381(0x9fc)](_0x5b7361))return this[_0x28f381(0x20a)][_0x28f381(0x2a7)](_0x5b7361[_0x28f381(0x780)],this['pendingFilesRename']['get'](_0x5b7361[_0x28f381(0x49a)])??_0x5b7361[_0x28f381(0x49a)]),void this[_0x28f381(0x20a)][_0x28f381(0xb18)](_0x5b7361['path']);this['pendingFilesRename'][_0x28f381(0xb18)](_0x5b7361[_0x28f381(0x49a)]);const _0x1f98b6=await this[_0x28f381(0x2b3)][_0x28f381(0x41a)](_0x5b7361['path'],_0x5b7361[_0x28f381(0x780)]),[_0x2c931d,_0x2629c9]=_0x361845(_0x5b7361[_0x28f381(0x49a)]),[_0x2cedde,_0x44043f]=_0x361845(_0x5b7361['newPath']);this['eventListener']['publish']({'event':_0x1f98b6===_0x52458b[_0x28f381(0xa56)][_0x28f381(0x244)]?_0x52458b[_0x28f381(0xb39)]['FolderMove']:_0x52458b['StorageEventType'][_0x28f381(0x997)],'payload':{'name':_0x44043f,'path':_0x2cedde,'pathName':_0x5b7361[_0x28f381(0x780)],'oldName':_0x2629c9,'oldPath':_0x2c931d,'oldPathName':_0x5b7361['path']}}),this['sendStats']();}['shouldProcessTransaction'](_0x303ff4){const _0x393f0a=_0x4a13a,_0x10909a=this['pendingFilesRename'][_0x393f0a(0x68c)](_0x303ff4['path'])??_0x303ff4['path'];let _0x45e388=!0x1;for(const _0x431377 of this[_0x393f0a(0x505)][_0x393f0a(0x932)]())if(_0x431377[_0x393f0a(0x293)](_0x10909a)){const _0x2c8131=this[_0x393f0a(0x7f9)][_0x393f0a(0x68c)](_0x431377)??[];_0x2c8131[_0x393f0a(0x247)](_0x303ff4),this[_0x393f0a(0x7f9)][_0x393f0a(0x2a7)](_0x431377,_0x2c8131),_0x45e388=!0x0;}return!_0x45e388;}async[_0x4a13a(0xb9a)](_0x30eb08){const _0x52ca32=_0x4a13a;if(!this[_0x52ca32(0x5e9)]?.[_0x52ca32(0x458)]){if(!_0x30eb08['id'])throw new _0x240123(_0x240123[_0x52ca32(0x2f7)][_0x52ca32(0x5f5)],{'message':_0x52ca32(0xa9b)});if(_0x30eb08[_0x52ca32(0x7d3)]!==this[_0x52ca32(0xa85)])throw new _0x240123(_0x240123[_0x52ca32(0x2f7)]['ObjectStoreNotSynced']);await this[_0x52ca32(0x91d)][_0x52ca32(0x499)](_0x30eb08,this['label']),await this['updateLastTransactionId'](_0x30eb08['id']);}}async[_0x4a13a(0x52c)](_0xc4c475){const _0x470254=_0x4a13a;this[_0x470254(0xa85)]=_0xc4c475;const _0x35d2b0=new File([new Blob([this[_0x470254(0xa85)]])],_0x527efb,{'type':_0x470254(0x92c)});await this[_0x470254(0x494)](_0x35d2b0,'/');}async[_0x4a13a(0x7ce)](_0x566c99){const _0x491e94=_0x4a13a;try{const _0x4cb0b1=await this[_0x491e94(0x68c)](_0x566c99[_0x491e94(0x49a)]+'/'+_0x566c99[_0x491e94(0xbbd)],{'skipEncryption':_0x566c99[_0x491e94(0x4e6)]}),_0x5b3e9e=await _0x4ae621(_0x4cb0b1);if(''!==_0x566c99['checksum']&&_0x5b3e9e!==_0x566c99[_0x491e94(0x58c)])return;_0x566c99[_0x491e94(0x3f7)]=this[_0x491e94(0xc4d)][_0x491e94(0xa47)](),_0x566c99[_0x491e94(0x395)]=_0x532345[_0x491e94(0x78f)],await this[_0x491e94(0x381)](_0x566c99,[_0x566c99[_0x491e94(0x8f9)]]);}catch(_0x5d8f7d){}}async[_0x4a13a(0xb75)](_0x239db2){const _0x1ce570=_0x4a13a,_0x1128fd=_0x2dbca4(_0x239db2[_0x1ce570(0x49a)],_0x239db2[_0x1ce570(0xbbd)]);if(!this[_0x1ce570(0x338)][_0x1ce570(0x738)](_0x1128fd))return;const _0x128a94=this[_0x1ce570(0x338)]['get'](_0x1128fd);_0x128a94['action']=_0x532345[_0x1ce570(0x4c9)];const _0x56717d=_0x239db2[_0x1ce570(0x3f7)];if(!_0x56717d)throw new _0x240123(_0x240123[_0x1ce570(0x2f7)]['ObjectStoreInvalidSyncMessage'],{'message':_0x1ce570(0x48c)});if(this['objectRequests'][_0x1ce570(0xb18)](_0x1128fd),this['pendingFilesSyncing'][_0x1ce570(0x738)](_0x56717d)||this['pendingFilesSyncing'][_0x1ce570(0x2a7)](_0x56717d,new Map()),this[_0x1ce570(0x4cc)][_0x1ce570(0x68c)](_0x56717d)[_0x1ce570(0x2a7)](_0x1128fd,[_0x128a94,this['getOrResetPendingFileTimeout'](_0x56717d,_0x1128fd)]),_0x128a94[_0x1ce570(0x3f7)]=_0x56717d,_0x128a94[_0x1ce570(0xa81)]=this['fileChunks']['get'](_0x1128fd)?.[_0x1ce570(0xc3d)]??0x0,0x0===_0x128a94['startIndex'])try{const [_0x380f09,_0x42e645]=await this['checkExistingPendingFileContent'](_0x239db2[_0x1ce570(0xbbd)],_0x239db2['path'],_0x239db2[_0x1ce570(0x58c)]);_0x380f09&&(_0x128a94[_0x1ce570(0xa81)]=_0x42e645);}catch(_0xcc7f28){}this[_0x1ce570(0x381)](_0x128a94,[_0x56717d]);}async[_0x4a13a(0x62a)](_0x2d974b){const _0x3d2ea9=_0x4a13a,_0x352e4a=_0x2dbca4(_0x2d974b['path'],_0x2d974b[_0x3d2ea9(0xbbd)]),_0x1c5ba9=await this[_0x3d2ea9(0x68c)](_0x352e4a,{'skipEncryption':_0x2d974b[_0x3d2ea9(0x4e6)]}),_0x47bba7={..._0x2d974b,'answererId':this[_0x3d2ea9(0xc4d)][_0x3d2ea9(0xa47)](),'action':_0x532345['RequestFileWrite'],'startIndex':_0x2d974b[_0x3d2ea9(0xa81)]??0x0};await this['sendFile'](_0x1c5ba9,_0x47bba7,[_0x2d974b[_0x3d2ea9(0x8f9)]]);}async[_0x4a13a(0x2c7)](_0x332b73,_0x3fed80,_0x2dfca1){let _0x2e4abf,_0x1575e5;const _0x4afa2b=new Promise(async(_0x59c6b5,_0x19a3ca)=>{_0x2e4abf=_0x59c6b5,_0x1575e5=_0x19a3ca;});return((async()=>{const _0x26f2fc=a0_0x2cf3,_0x5c99d1=Math['ceil'](_0x332b73[_0x26f2fc(0x7a7)]/_0x4e2e3f);let _0x4867ee=_0x3fed80[_0x26f2fc(0xa81)]??0x0;const _0x2ed3a5=_0x2dbca4(_0x3fed80[_0x26f2fc(0x49a)],_0x3fed80['name']);this[_0x26f2fc(0x6d2)]['set'](_0x2ed3a5,[!0x1,_0x4afa2b]);for await(const _0x23ab6a of async function*(_0x4c3a58,_0x8107=0x0,_0x34edfe){for await(const _0x3e6338 of _0x18495a(_0x4c3a58,_0x8107,_0x34edfe))yield _0x3e6338;}(_0x332b73,_0x4867ee,this[_0x26f2fc(0x210)])){const [_0x153d69]=this['fileSendingMap']['get'](_0x2ed3a5)??[];if(_0x153d69)return this['fileSendingMap'][_0x26f2fc(0xb18)](_0x2ed3a5),void _0x1575e5(new Error(_0x26f2fc(0x2a3)));if(this[_0x26f2fc(0x7f9)][_0x26f2fc(0x738)](_0x2ed3a5)){const _0x2ff454=this[_0x26f2fc(0x7f9)][_0x26f2fc(0x68c)](_0x2ed3a5);for(const _0x447938 of _0x2ff454)if(_0x447938[_0x26f2fc(0x395)]===_0x532345['FileWrite']||_0x447938[_0x26f2fc(0x395)]===_0x532345['Delete'])return;}const _0x5b90e4={..._0x3fed80,'type':_0x332b73[_0x26f2fc(0xbdd)],'data':_0x23ab6a,'index':_0x4867ee,'total':_0x5c99d1};this[_0x26f2fc(0x381)](_0x5b90e4,_0x2dfca1),_0x4867ee++;}const _0x4ace23=setInterval(async()=>{const _0x7cf486=_0x26f2fc;await this[_0x7cf486(0x210)]()>0x0||(clearInterval(_0x4ace23),_0x2e4abf());});this[_0x26f2fc(0x6d2)][_0x26f2fc(0xb18)](_0x2ed3a5);})()),_0x4afa2b;}async[_0x4a13a(0x238)](_0x213cf5){const _0x293621=_0x4a13a;try{const _0x450a9c=_0x2dbca4(_0x213cf5[_0x293621(0x49a)],_0x213cf5['name']),_0x5a1159=_0x450a9c+_0x2395cd;await this[_0x293621(0x621)](_0x5a1159);const [,_0x13d5a1]=this[_0x293621(0x4cc)][_0x293621(0x68c)](_0x213cf5[_0x293621(0x3f7)])?.[_0x293621(0x68c)](_0x450a9c)??[];_0x13d5a1&&(clearTimeout(_0x13d5a1),this['pendingFilesSyncing'][_0x293621(0x68c)](_0x213cf5[_0x293621(0x3f7)])[_0x293621(0xb18)](_0x450a9c));}catch(_0x532d4b){}0x0===this[_0x293621(0x4cc)]['get'](_0x213cf5['answererId'])?.[_0x293621(0x7a7)]&&this[_0x293621(0x4cc)][_0x293621(0xb18)](_0x213cf5[_0x293621(0x3f7)]),0x0===this[_0x293621(0x4cc)][_0x293621(0x7a7)]&&0x0===this['objectRequests'][_0x293621(0x7a7)]&&this[_0x293621(0x5c6)]();}async[_0x4a13a(0x63e)](){const _0x5d879d=_0x4a13a;try{const _0xb4ff0d=await this[_0x5d879d(0x91d)][_0x5d879d(0x75a)](this[_0x5d879d(0xaed)],this[_0x5d879d(0xa85)]);for(const _0x411ffd of _0xb4ff0d)await this['handleTransactionPayload'](_0x411ffd,!0x0);}catch(_0x20c90f){if(_0x20c90f instanceof _0x240123&&_0x20c90f['code']===_0x240123[_0x5d879d(0x2f7)][_0x5d879d(0xba5)]){await this[_0x5d879d(0x2b3)][_0x5d879d(0x621)](_0x527efb),delete this[_0x5d879d(0xa85)];try{const _0x2d22e7=await this['objectStoreConnector']['list']('/',!0x1);for(const _0x49045d of _0x2d22e7)await this[_0x5d879d(0x2b3)]['deleteObject'](_0x49045d[_0x5d879d(0x45c)]);}catch(_0x5149fd){}return await this[_0x5d879d(0x63e)]();}throw _0x20c90f;}}async[_0x4a13a(0x63f)](){const _0x367385=_0x4a13a,_0xf5b5f0=await this[_0x367385(0xb07)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x0}),_0x20635f=async _0x16eb02=>{const _0x5eb0ae=_0x367385;for(const _0xe6a60e of _0x16eb02){if(_0xe6a60e[_0x5eb0ae(0x4b2)]===_0x52458b['ObjectKind']['Folder']){_0xe6a60e[_0x5eb0ae(0x3a4)]&&_0xe6a60e['entries'][_0x5eb0ae(0x454)]>0x0&&await _0x20635f(_0xe6a60e[_0x5eb0ae(0x3a4)]);continue;}if(_0xe6a60e[_0x5eb0ae(0xc33)]!==_0x52458b[_0x5eb0ae(0x5b0)][_0x5eb0ae(0x285)])continue;const _0xda4f16=await this[_0x5eb0ae(0x68c)](_0xe6a60e[_0x5eb0ae(0x45c)]+_0x2395cd),_0x427f61=JSON[_0x5eb0ae(0xb6b)](await _0xda4f16[_0x5eb0ae(0x89d)]()),_0x2a29b6=_0xe6a60e[_0x5eb0ae(0xbbd)]['replace'](_0x2395cd,''),_0x48214b={'payloadType':_0x5a32db[_0x5eb0ae(0x1eb)],'action':_0x532345['RequestFile'],'sourceId':this[_0x5eb0ae(0xc4d)][_0x5eb0ae(0xa47)](),'type':'','path':_0xe6a60e['path'],'name':_0x2a29b6,'checksum':_0x427f61[_0x5eb0ae(0x58c)],'skipEncryption':_0x427f61[_0x5eb0ae(0x4e6)]},_0x4f16f9=_0x2dbca4(_0xe6a60e[_0x5eb0ae(0x49a)],_0x2a29b6);this[_0x5eb0ae(0x338)][_0x5eb0ae(0x2a7)](_0x4f16f9,_0x48214b);}};await _0x20635f(_0xf5b5f0),0x0===this[_0x367385(0x338)]['size']&&0x0===this['pendingFilesSyncing'][_0x367385(0x7a7)]&&this[_0x367385(0x5c6)]();}async['createPendingFileWrite'](_0x3f58b1,_0x451faa,_0x852eb2){const _0x123f72=_0x4a13a,_0x395157=new File([new Blob([JSON[_0x123f72(0x320)](_0x852eb2)])],''+_0x3f58b1+_0x2395cd,{'type':_0x123f72(0x92c)});await this[_0x123f72(0x494)](_0x395157,_0x451faa);}async[_0x4a13a(0x9db)](_0x2e84a6,_0x5d7138,_0x2a1c5c){const _0x37a87e=_0x4a13a;try{const _0x5b5d0f=_0x2dbca4(_0x5d7138,_0x2e84a6),_0xb70c69=_0x5b5d0f+_0x2395cd,_0x922964=await this[_0x37a87e(0x2b3)][_0x37a87e(0x68c)](_0xb70c69),{checksum:_0x20c8b9,skipEncryption:_0x28ffd4}=JSON[_0x37a87e(0xb6b)](await _0x922964[_0x37a87e(0x89d)]()),_0x154135=(await this[_0x37a87e(0x2b3)][_0x37a87e(0x68c)](_0x5b5d0f,{'skipEncryption':_0x28ffd4}))[_0x37a87e(0x7a7)];return _0x20c8b9===_0x2a1c5c&&_0x154135%_0x4e2e3f==0x0?[!0x0,Math[_0x37a87e(0x9e3)](_0x154135/_0x4e2e3f)]:(await this[_0x37a87e(0x2b3)][_0x37a87e(0x621)](_0x5b5d0f),[!0x1,0x0]);}catch(_0x5cc6bf){return[!0x1,0x0];}}[_0x4a13a(0x367)](_0x24b128,_0x1f0836){const _0x47ec98=_0x4a13a,[_0x412311,_0x399cb3]=this[_0x47ec98(0x4cc)][_0x47ec98(0x68c)](_0x24b128)?.['get'](_0x1f0836)??[];return _0x399cb3&&clearTimeout(_0x399cb3),setTimeout(()=>{const _0x117e35=_0x47ec98,[_0x24966f,_0x4e3667]=this['pendingFilesSyncing'][_0x117e35(0x68c)](_0x24b128)[_0x117e35(0x68c)](_0x1f0836);this[_0x117e35(0xad5)](_0x24966f,_0x4e3667);},0x927c0);}async[_0x4a13a(0xad5)](_0x7b693b,_0x31c4ff){const _0x1a75f0=_0x4a13a;clearTimeout(_0x31c4ff),_0x7b693b[_0x1a75f0(0x395)]=_0x532345[_0x1a75f0(0xc4f)],this['objectRequests']['set'](_0x2dbca4(_0x7b693b[_0x1a75f0(0x49a)],_0x7b693b[_0x1a75f0(0xbbd)]),_0x7b693b),this['send'](_0x7b693b);}[_0x4a13a(0x492)](_0x3d8424,_0xbb1e18){const _0x5c9e8f=_0x4a13a;if(!this['syncContent'])return;this[_0x5c9e8f(0x4cc)][_0x5c9e8f(0x738)](_0x3d8424[_0x5c9e8f(0x3f7)])||this[_0x5c9e8f(0x4cc)]['set'](_0x3d8424[_0x5c9e8f(0x3f7)],new Map());const [_0x2a552f]=this[_0x5c9e8f(0x4cc)][_0x5c9e8f(0x68c)](_0x3d8424['answererId'])[_0x5c9e8f(0x68c)](_0xbb1e18)??[{'payloadType':_0x5a32db[_0x5c9e8f(0x1eb)],'action':_0x532345[_0x5c9e8f(0xc4f)],'sourceId':this['localNode'][_0x5c9e8f(0xa47)](),'type':_0x3d8424['type'],'name':_0x3d8424[_0x5c9e8f(0xbbd)],'path':_0x3d8424['path'],'skipEncryption':_0x3d8424[_0x5c9e8f(0x4e6)],'checksum':_0x3d8424[_0x5c9e8f(0x58c)],'answererId':_0x3d8424[_0x5c9e8f(0x3f7)]}];this[_0x5c9e8f(0x4cc)][_0x5c9e8f(0x68c)](_0x3d8424[_0x5c9e8f(0x3f7)])['set'](_0xbb1e18,[_0x2a552f,this['getOrResetPendingFileTimeout'](_0x3d8424['answererId'],_0xbb1e18)]);}async[_0x4a13a(0x494)](_0x398104,_0x3ecda4,_0x4cf531){const _0x58c9cc=_0x4a13a;this[_0x58c9cc(0x2f8)]&&(this['filesSynced']+=0x1),await this[_0x58c9cc(0x2b3)][_0x58c9cc(0x494)](_0x398104,_0x3ecda4,_0x4cf531);}async['deleteObject'](_0x455359){const _0xf10e84=_0x4a13a;try{const _0x2b568f=await this['objectStoreConnector'][_0xf10e84(0x621)](_0x455359);if(!_0x455359[_0xf10e84(0x9b3)](_0x2395cd))try{await this[_0xf10e84(0x2b3)][_0xf10e84(0x621)](_0x455359+_0x2395cd);}catch(_0x140f4e){}return this[_0xf10e84(0x2f8)]&&_0x2b568f===_0x52458b['ObjectKind'][_0xf10e84(0xa75)]&&(this[_0xf10e84(0x4e2)]+=0x1),_0x2b568f;}catch(_0x533e9d){return await this[_0xf10e84(0x2b3)][_0xf10e84(0x621)](_0x455359+_0x2395cd);}}async['moveObject'](_0x1d977a,_0x116501){const _0x2dcb86=_0x4a13a;try{const _0x290167=await this[_0x2dcb86(0x2b3)][_0x2dcb86(0x41a)](_0x1d977a,_0x116501);if(!_0x1d977a[_0x2dcb86(0x9b3)](_0x2395cd))try{await this['objectStoreConnector'][_0x2dcb86(0x41a)](_0x1d977a+_0x2395cd,_0x116501+_0x2395cd);}catch(_0x1f5ad3){}return _0x290167;}catch(_0x566118){return await this[_0x2dcb86(0x2b3)]['moveObject'](_0x1d977a+_0x2395cd,_0x116501+_0x2395cd);}}['sendStats'](){const _0x219715=_0x4a13a;this[_0x219715(0x46c)]&&clearTimeout(this[_0x219715(0x46c)]),this[_0x219715(0x46c)]=setTimeout(async()=>{const _0x231ea3=_0x219715;delete this[_0x231ea3(0x46c)];const _0x3751aa=await this[_0x231ea3(0x2b3)][_0x231ea3(0xa04)]('/');this['systemTopic']?.['publish']({'sourceId':_0x2d73b4,'messageType':_0x29c5a4[_0x231ea3(0xbf2)],'content':{'type':_0x1c17a1['ObjectStoreStats'],'label':this['label'],'stats':{'timestamp':Date['now'](),'storage':_0x3751aa,'messagesSent':this['messagesSent'],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x231ea3(0x9f4)],'bytesReceived':this[_0x231ea3(0x325)],'writes':this[_0x231ea3(0x8c7)],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),this[_0x231ea3(0xb51)]&&_0x260a6c[_0x231ea3(0x242)](_0x108d83[_0x231ea3(0x77a)],_0x231ea3(0x38e)+this[_0x231ea3(0x88f)]+_0x231ea3(0x38e)+this[_0x231ea3(0xaed)],_0x3751aa);},_0x476143);}async['syncedFileExists'](_0x4fc2b6){const _0x3917fb=_0x4a13a;try{return await this[_0x3917fb(0x68c)](_0x4fc2b6),!0x0;}catch(_0x3cfd7d){return!0x1;}}async[_0x4a13a(0x9d5)](_0x2a2bf5){const _0x43627d=_0x4a13a;if(!this[_0x43627d(0x505)][_0x43627d(0x738)](_0x2a2bf5))return;const _0x5e32a3=this['fileChunks'][_0x43627d(0x68c)](_0x2a2bf5);if(_0x5e32a3[_0x43627d(0x3c6)])try{await _0x5e32a3['stream'][_0x43627d(0x935)]();}catch(_0x54d262){console[_0x43627d(0x33b)](_0x43627d(0x599),_0x54d262);}this[_0x43627d(0x505)][_0x43627d(0xb18)](_0x2a2bf5);}}class _0x4da48e extends _0x6375ab{['localNode'];[_0x4a13a(0x88f)];[_0x4a13a(0x32a)]=new Map();[_0x4a13a(0x46c)];constructor(_0x292c53,_0x6ffc51,_0x56655c){const _0x508f9d=_0x4a13a;if(_0x508f9d(0x924)!=typeof _0x6ffc51)throw new _0x298b29(_0x404249[_0x508f9d(0xa6d)],'Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string');super(_0x292c53,_0x6ffc51),this[_0x508f9d(0xc4d)]=_0x292c53,this['clusterId']=_0x56655c,this[_0x508f9d(0x6d7)]();}['reset'](){const _0xc40e21=_0x4a13a;this[_0xc40e21(0x6d7)]();}[_0x4a13a(0x743)](){const _0x116823=_0x4a13a;return _0x52458b['ContentType'][_0x116823(0x346)];}['publish'](_0x591255,_0xbdbf10){const _0x59c0ca=_0x4a13a;_0x260a6c['log'](_0x2e74f6[_0x59c0ca(0x346)],_0x59c0ca(0x1e9),this['localNode'][_0x59c0ca(0xa47)](),_0x591255,_0xbdbf10),_0x260a6c['logServiceEvent'](_0x108d83['PubSub'],{'type':_0x59c0ca(0xa19),'label':this[_0x59c0ca(0xaed)],'nodeId':this[_0x59c0ca(0xc4d)][_0x59c0ca(0xa47)](),'nodeType':this[_0x59c0ca(0xc4d)][_0x59c0ca(0xbdd)],'clusterId':this['clusterId'],'remoteIds':_0xbdbf10??[],'contentType':_0x591255 instanceof File?_0x52458b[_0x59c0ca(0x54c)][_0x59c0ca(0xa75)]:_0x52458b[_0x59c0ca(0x54c)]['Data'],'size':_0x591255 instanceof File?_0x591255[_0x59c0ca(0x7a7)]:JSON[_0x59c0ca(0x320)](_0x591255)['length']}),this[_0x59c0ca(0x6d7)](),this[_0x59c0ca(0x381)](_0x591255,_0xbdbf10);}[_0x4a13a(0x7a8)](_0x5e2124,_0x447a97){const _0x2b3ec4=_0x4a13a;if(this[_0x2b3ec4(0x32a)]['has'](_0x5e2124))throw new _0x298b29(_0x404249[_0x2b3ec4(0xba7)],'Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed');this[_0x2b3ec4(0x32a)][_0x2b3ec4(0x2a7)](_0x5e2124,this[_0x2b3ec4(0x3b0)]((_0x529831,_0x4c2582)=>{const _0x5e25ed=_0x2b3ec4;_0x5e25ed(0x728)===_0x5e2124&&_0x4c2582 instanceof File||!(_0x5e25ed(0x347)!==_0x5e2124||_0x4c2582 instanceof File)||(_0x260a6c[_0x5e25ed(0x8b9)](_0x2e74f6[_0x5e25ed(0x346)],_0x5e25ed(0x79c),this[_0x5e25ed(0xc4d)][_0x5e25ed(0xa47)](),_0x529831,_0x4c2582),_0x260a6c[_0x5e25ed(0xa93)](_0x108d83['PubSub'],{'type':'subscribe','label':this[_0x5e25ed(0xaed)],'nodeId':this[_0x5e25ed(0xc4d)][_0x5e25ed(0xa47)](),'nodeType':this['localNode'][_0x5e25ed(0xbdd)],'clusterId':this['clusterId'],'remoteId':_0x529831,'contentType':_0x5e2124,'size':_0x4c2582 instanceof File?_0x4c2582['size']:JSON[_0x5e25ed(0x320)](_0x4c2582)['length']}),this[_0x5e25ed(0x6d7)](),_0x447a97(_0x529831,_0x4c2582));}));}[_0x4a13a(0x3bf)](_0x2280f6){const _0x3eddd0=_0x4a13a;this['unsubscribeHandler'][_0x3eddd0(0x68c)](_0x2280f6)?.(),this[_0x3eddd0(0x32a)][_0x3eddd0(0xb18)](_0x2280f6);}[_0x4a13a(0x888)](){const _0xe9585e=_0x4a13a;this[_0xe9585e(0x32a)]['forEach'](_0x4c71a6=>_0x4c71a6()),clearTimeout(this[_0xe9585e(0x46c)]),delete this['debounceStats'],super['destroy']();}[_0x4a13a(0x935)](){const _0x5e2cee=_0x4a13a;this[_0x5e2cee(0x525)]?.[_0x5e2cee(0xa19)]({'sourceId':_0x2d73b4,'messageType':_0x29c5a4[_0x5e2cee(0xbf2)],'content':{'type':_0x1c17a1[_0x5e2cee(0x819)],'label':this[_0x5e2cee(0xaed)]}});}[_0x4a13a(0x6d7)](){const _0x162f5d=_0x4a13a;this[_0x162f5d(0x46c)]&&clearTimeout(this[_0x162f5d(0x46c)]),this[_0x162f5d(0x46c)]=setTimeout(()=>{const _0xc09551=_0x162f5d;this[_0xc09551(0x525)]?.[_0xc09551(0xa19)]({'sourceId':_0x2d73b4,'messageType':_0x29c5a4['Content'],'content':{'type':_0x1c17a1['PubSubTopicStats'],'label':this[_0xc09551(0xaed)],'stats':{'timestamp':Date[_0xc09551(0xad3)](),'storage':0x0,'messagesSent':this['messagesSent'],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0xc09551(0x9f4)],'bytesReceived':this['bytesReceived'],'writes':0x0,'reads':0x0,'prompts':0x0,'tokens':0x0}}});},_0x476143);}}class _0x239214 extends _0x42caa4{[_0x4a13a(0xc4d)];['internalId'];[_0x4a13a(0x300)];['clusterId'];[_0x4a13a(0x32a)];[_0x4a13a(0x825)];[_0x4a13a(0x33e)];['outgoingStreams']=new Map();[_0x4a13a(0x579)];['subscribedTracks']=new Set();[_0x4a13a(0xa40)];[_0x4a13a(0x998)]=_0x47b7f3();[_0x4a13a(0x724)]=new Map();constructor(_0x1b0e1b,_0x100004,_0x1cc2db,_0x139952,_0x4c1514,_0x3da57c){const _0x55389a=_0x4a13a;super(_0x100004,_0x1cc2db,new MediaStream()),this[_0x55389a(0xc4d)]=_0x1b0e1b,this[_0x55389a(0x8ff)]=_0x139952,this[_0x55389a(0x300)]=_0x4c1514,this[_0x55389a(0x88f)]=_0x3da57c,this['mediaStream'][_0x55389a(0x77f)]()[_0x55389a(0x761)](_0x1a9bce=>this[_0x55389a(0x214)](_0x1a9bce));}[_0x4a13a(0x888)](){const _0x22ff1d=_0x4a13a;this[_0x22ff1d(0x6fb)][_0x22ff1d(0x7a7)]>0x0&&(this[_0x22ff1d(0x6fb)][_0x22ff1d(0x761)](_0x519ae2=>{const _0x1cdaf6=_0x22ff1d;_0x519ae2['unregisterSystemPublisher'](),_0x519ae2[_0x1cdaf6(0x888)]();}),this['outgoingStreams']['clear']()),this[_0x22ff1d(0x724)][_0x22ff1d(0x761)](_0x2c73e1=>_0x2c73e1()),this['mediaStream']['getTracks']()[_0x22ff1d(0x761)](_0x4a87d7=>this[_0x22ff1d(0xb60)]['removeTrack'](_0x4a87d7)),this[_0x22ff1d(0x33e)]&&(clearTimeout(this['updateDebounce']),delete this[_0x22ff1d(0x33e)]),this['resizeHandler']?.(),super[_0x22ff1d(0x888)]();}['registerSubscriber'](_0x2b99bf){const _0x4dbc76=_0x4a13a;this[_0x4dbc76(0x32a)]=_0x2b99bf[_0x4dbc76(0x7a8)](({content:_0xf0e5b6})=>{const _0x441f60=_0x4dbc76;switch(_0xf0e5b6['action']){case _0x9ffb31[_0x441f60(0x272)]:if(_0x260a6c['log'](_0x2e74f6[_0x441f60(0xa53)],_0x441f60(0x5c8),this[_0x441f60(0xc4d)][_0x441f60(0xa47)](),this['providerId']),_0xf0e5b6[_0x441f60(0x3c6)]['id']!==this[_0x441f60(0x8ff)]||_0xf0e5b6[_0x441f60(0xa40)]!==this[_0x441f60(0xa40)])return;this[_0x441f60(0x6cc)](_0xf0e5b6[_0x441f60(0x6ba)][_0x441f60(0x4b2)]),this[_0x441f60(0xb60)][_0x441f60(0x896)](_0xf0e5b6['track']);for(const [_0x20e760,_0x51bde4]of this['outgoingStreams'][_0x441f60(0x3a4)]())try{_0x51bde4[_0x441f60(0x896)](_0xf0e5b6[_0x441f60(0x6ba)]);}catch(_0x54d6fa){_0x51bde4[_0x441f60(0x888)](),this['outgoingStreams']['delete'](_0x20e760);}this[_0x441f60(0x214)](_0xf0e5b6['track']),this['setupRenderElement'](),_0x441f60(0x1f6)===_0xf0e5b6['track'][_0x441f60(0x4b2)]&&this[_0x441f60(0x579)]&&(this['mediaStream'][_0x441f60(0x79f)]?setTimeout(()=>this['renderElement']?.[_0x441f60(0x90d)](),0x0):setTimeout(()=>this[_0x441f60(0x579)]?.[_0x441f60(0x99f)](),0x0),this['setupResizeHandler']());break;case _0x9ffb31[_0x441f60(0x784)]:if(_0xf0e5b6[_0x441f60(0x3c6)]['id']!==this[_0x441f60(0x8ff)]||_0xf0e5b6[_0x441f60(0xa40)]!==this['providerId'])return;this[_0x441f60(0x6cc)](_0xf0e5b6[_0x441f60(0x6ba)][_0x441f60(0x4b2)]),this['renderElement']&&_0x441f60(0x1f6)===_0xf0e5b6[_0x441f60(0x6ba)]['kind']&&(this[_0x441f60(0x825)]?.(),this[_0x441f60(0xb60)][_0x441f60(0x77f)]()['length']>0x0?this[_0x441f60(0x579)][_0x441f60(0x99f)]():this[_0x441f60(0x579)][_0x441f60(0xafe)]=null);}});}[_0x4a13a(0x6dd)](){const _0x4de8f7=_0x4a13a;this[_0x4de8f7(0x32a)]?.(),this[_0x4de8f7(0x724)]['forEach'](_0x26e17d=>_0x26e17d()),delete this['unsubscribeHandler'];}[_0x4a13a(0x57a)](){const _0x6f3d18=_0x4a13a;return this[_0x6f3d18(0x8ff)];}[_0x4a13a(0x1f2)](_0x1c7326){this['internalId']=_0x1c7326;}[_0x4a13a(0x71f)](){const _0x2c8c07=_0x4a13a;return this[_0x2c8c07(0x300)];}[_0x4a13a(0x52e)](_0x24053b){const _0x9ba0b8=_0x4a13a;for(const _0x510a02 of _0x24053b||this[_0x9ba0b8(0x300)])if(!this[_0x9ba0b8(0xb60)][_0x9ba0b8(0x77f)]()[_0x9ba0b8(0x319)](_0x35534b=>_0x35534b['kind']===_0x510a02))return!0x1;return!0x0;}['getResolution'](){const _0xf92647=_0x4a13a;let _0x8c13aa={'width':0x0,'height':0x0};const _0x4d9c86=this[_0xf92647(0xb60)][_0xf92647(0x286)]();if(_0x4d9c86[_0xf92647(0x454)]>0x0){const _0x196b66=_0x4d9c86[0x0][_0xf92647(0x55e)]();_0x196b66['width']&&_0x196b66[_0xf92647(0x571)]&&(_0x8c13aa={'width':_0x196b66[_0xf92647(0x20b)],'height':_0x196b66[_0xf92647(0x571)]});}return _0x8c13aa;}[_0x4a13a(0x48e)](_0x399822){const _0x158c9f=_0x4a13a;for(const _0x57aa24 of _0x399822)if(!this[_0x158c9f(0x9ec)]['has'](_0x57aa24))return!0x1;return!0x0;}[_0x4a13a(0x92d)](_0x3f7ed1,_0x29af50){const _0x311e26=_0x4a13a;if(!this['outgoingStreams'][_0x311e26(0x738)](_0x3f7ed1)){const _0x42d4f0=new _0x16a1ac(this[_0x311e26(0xb9b)],this['label'],this['mediaStream'],_0x3f7ed1,_0x29af50),_0x4ecd48=_0x42d4f0[_0x311e26(0x836)](()=>{const _0x2a32c8=_0x311e26;_0x4ecd48(),this[_0x2a32c8(0x6fb)][_0x2a32c8(0x68c)](_0x3f7ed1)?.['destroy'](),this[_0x2a32c8(0x6fb)][_0x2a32c8(0xb18)](_0x3f7ed1);});this[_0x311e26(0x6fb)][_0x311e26(0x2a7)](_0x3f7ed1,_0x42d4f0),_0x42d4f0[_0x311e26(0x348)](this[_0x311e26(0x525)]);}return this['outgoingStreams']['get'](_0x3f7ed1);}[_0x4a13a(0x689)](){return this['mediaStream']['id'];}[_0x4a13a(0xaa5)](){const _0x242811=_0x4a13a;return _0x52458b[_0x242811(0x9d3)][_0x242811(0xa82)];}[_0x4a13a(0x3c5)](){const _0xb19f25=_0x4a13a;return Array['from'](this[_0xb19f25(0x9ec)]);}[_0x4a13a(0x7a8)](_0x10df41){const _0x510894=_0x4a13a;let _0x2aa9b7=[];if(_0x10df41){_0x510894(0x4ab)!=typeof _0x10df41[_0x510894(0x1f6)]||_0x10df41[_0x510894(0x1f6)][_0x510894(0x579)]instanceof HTMLVideoElement||!this[_0x510894(0x579)]||(_0x10df41[_0x510894(0x1f6)]={'renderElement':this[_0x510894(0x579)]});try{(0x0,_0x52458b['isValidMediaSubscriptionParams'])(_0x10df41);}catch(_0x336350){throw new _0x298b29(_0x404249['RemoteMediaStreamInvalidSubscriptionParams'],_0x510894(0x979));}_0x10df41[_0x510894(0x1f6)]&&(_0x2aa9b7[_0x510894(0x247)](_0x510894(0x1f6)),_0x510894(0xc45)!=typeof _0x10df41['video']&&_0x10df41[_0x510894(0x1f6)][_0x510894(0x579)]&&(this[_0x510894(0x579)]=_0x10df41[_0x510894(0x1f6)][_0x510894(0x579)],_0x10df41['video'][_0x510894(0x923)]||(_0x10df41[_0x510894(0x1f6)][_0x510894(0x923)]={'width':this[_0x510894(0x579)]['clientWidth'],'height':this[_0x510894(0x579)][_0x510894(0x7f0)]}),delete _0x10df41[_0x510894(0x1f6)][_0x510894(0x579)])),_0x10df41[_0x510894(0x39c)]&&_0x2aa9b7[_0x510894(0x247)]('audio');}else _0x2aa9b7=this[_0x510894(0x71f)]();this[_0x510894(0x48e)](_0x2aa9b7)||(_0x2aa9b7['forEach'](_0x311566=>this['subscribedTracks'][_0x510894(0xc09)](_0x311566)),this[_0x510894(0x525)]['publish']({'sourceId':_0x2d73b4,'messageType':_0x29c5a4[_0x510894(0xbf2)],'content':{'type':_0x1c17a1['SubscribeMediaStream'],'label':this[_0x510894(0xaed)],'ownerId':this[_0x510894(0xb9b)][_0x510894(0xa47)](),'trackKinds':_0x2aa9b7,'params':_0x10df41}}),_0x260a6c[_0x510894(0xa93)](_0x108d83['MediaStream'],{'type':'subscribe','label':this[_0x510894(0xaed)],'nodeId':this[_0x510894(0xc4d)][_0x510894(0xa47)](),'nodeType':this[_0x510894(0xc4d)][_0x510894(0xbdd)],'clusterId':this['clusterId'],'sourceId':this['owner'][_0x510894(0xa47)](),'streamId':this[_0x510894(0x8ff)],'trackKinds':_0x2aa9b7}));}[_0x4a13a(0xb4b)](_0x46100f){const _0x4ffefc=_0x4a13a;try{(0x0,_0x52458b[_0x4ffefc(0x557)])(_0x46100f);}catch(_0x4d74b8){throw new _0x298b29(_0x404249[_0x4ffefc(0x78e)],'Invalid\x20params');}this[_0x4ffefc(0x33e)]&&clearTimeout(this[_0x4ffefc(0x33e)]),this[_0x4ffefc(0x33e)]=setTimeout(()=>{const _0x37f261=_0x4ffefc;delete this['updateDebounce'],this[_0x37f261(0x525)]['publish']({'sourceId':_0x2d73b4,'messageType':_0x29c5a4[_0x37f261(0xbf2)],'content':{'type':_0x1c17a1[_0x37f261(0x2cc)],'label':this['label'],'ownerId':this[_0x37f261(0xb9b)][_0x37f261(0xa47)](),'params':_0x46100f}});},0x1f4);}[_0x4a13a(0x3bf)](_0x307a4b){const _0x46ce47=_0x4a13a;_0x307a4b||(_0x307a4b=this[_0x46ce47(0x71f)]()),(_0x307a4b=Array[_0x46ce47(0x7b8)](_0x307a4b)?_0x307a4b:[_0x307a4b])['forEach'](_0x5a3dc9=>this[_0x46ce47(0x9ec)]['delete'](_0x5a3dc9)),this['systemTopic']['publish']({'sourceId':_0x2d73b4,'messageType':_0x29c5a4[_0x46ce47(0xbf2)],'content':{'type':_0x1c17a1[_0x46ce47(0x7e3)],'label':this[_0x46ce47(0xaed)],'ownerId':this[_0x46ce47(0xb9b)][_0x46ce47(0xa47)](),'trackKinds':_0x307a4b,'remainingTracks':this['subscribedTracks'][_0x46ce47(0x7a7)]}});}['onProviderChange'](_0x191530){const _0x40f2d6=_0x4a13a;return this[_0x40f2d6(0x998)][_0x40f2d6(0x7a8)](_0x191530);}['getProviderId'](){const _0x44ed5e=_0x4a13a;return this[_0x44ed5e(0xa40)];}[_0x4a13a(0x6ce)](_0x5241ec){const _0x4996d9=_0x4a13a;this[_0x4996d9(0xa40)]!==_0x5241ec&&(this[_0x4996d9(0xa40)]=_0x5241ec,this[_0x4996d9(0x998)][_0x4996d9(0xa19)](_0x5241ec));}[_0x4a13a(0xa5d)](_0x419b51){const _0x2fd817=_0x4a13a;this[_0x2fd817(0x724)][_0x2fd817(0x68c)](_0x419b51)?.(),this[_0x2fd817(0x724)][_0x2fd817(0xb18)](_0x419b51);}[_0x4a13a(0x6cc)](_0xf35d3){const _0x5c13c6=_0x4a13a,_0x368bd6=this[_0x5c13c6(0xb60)][_0x5c13c6(0x77f)]()[_0x5c13c6(0x319)](_0x314c1d=>_0x314c1d[_0x5c13c6(0x4b2)]===_0xf35d3);_0x368bd6&&(this['mediaStream'][_0x5c13c6(0x6cc)](_0x368bd6),this['outgoingStreams'][_0x5c13c6(0x761)](_0x30f9dc=>_0x30f9dc['removeTrack'](_0xf35d3)),this[_0x5c13c6(0x724)][_0x5c13c6(0x68c)](_0xf35d3)?.());}[_0x4a13a(0xa22)](){const _0x261679=_0x4a13a;this[_0x261679(0x579)]&&(this[_0x261679(0x579)]['srcObject']&&this['renderElement']['srcObject']===this[_0x261679(0xb60)]||(this[_0x261679(0x579)][_0x261679(0xafe)]=this['mediaStream']));}[_0x4a13a(0x3d7)](){const _0x18b1df=_0x4a13a;if(this[_0x18b1df(0x579)]&&!this[_0x18b1df(0x825)]&&'undefined'!=typeof ResizeObserver){let _0x1ba05f=this['renderElement'][_0x18b1df(0xb99)],_0x1fbe5e=this['renderElement']['clientHeight'];const _0x5aa6d9=new ResizeObserver(_0x1939ed=>{const _0x690591=_0x18b1df,{width:_0xa83cba,height:_0x3001f6}=_0x1939ed[0x0]['contentRect'];_0x1ba05f===_0xa83cba&&_0x1fbe5e===_0x3001f6||(_0x1ba05f=Math[_0x690591(0x268)](_0xa83cba),_0x1fbe5e=Math[_0x690591(0x268)](_0x3001f6),this[_0x690591(0xb4b)]({'video':{'maxResolution':{'width':_0xa83cba,'height':_0x3001f6}}}));});_0x5aa6d9[_0x18b1df(0x523)](this[_0x18b1df(0x579)]),this[_0x18b1df(0x825)]=()=>_0x5aa6d9['disconnect']();}}[_0x4a13a(0x38c)](_0x31a0fa){const _0x465c29=_0x4a13a,_0x260c44=[];for(const _0xa87c4c of this[_0x465c29(0x9ec)])this['removeTrack'](_0xa87c4c),_0x260c44[_0x465c29(0x247)](_0xa87c4c);this[_0x465c29(0xa40)]&&this[_0x465c29(0x525)]['publish']({'sourceId':_0x2d73b4,'messageType':_0x29c5a4[_0x465c29(0xbf2)],'content':{'type':_0x1c17a1[_0x465c29(0xaf3)],'label':this[_0x465c29(0xaed)],'streamId':this['internalId'],'ownerId':this[_0x465c29(0xb9b)][_0x465c29(0xa47)](),'providerId':this[_0x465c29(0xa40)],'trackKinds':_0x260c44}});}['setupTrackEndedListeners'](_0x2434b4){const _0x3c9a0a=_0x4a13a,_0x13641f=()=>this['handleRemoteTrackFailure'](_0x2434b4);_0x2434b4[_0x3c9a0a(0x8f3)](_0x3c9a0a(0x321),_0x13641f),_0x2434b4[_0x3c9a0a(0x8f3)](_0x3c9a0a(0xc41),_0x13641f),this[_0x3c9a0a(0x724)][_0x3c9a0a(0x2a7)](_0x2434b4[_0x3c9a0a(0x4b2)],()=>{const _0xe45cdb=_0x3c9a0a;_0x2434b4[_0xe45cdb(0x21f)]('ended',_0x13641f),_0x2434b4[_0xe45cdb(0x21f)](_0xe45cdb(0xc41),_0x13641f),this[_0xe45cdb(0x724)]['delete'](_0x2434b4[_0xe45cdb(0x4b2)]);});}}class _0x348e60 extends _0x6375ab{[_0x4a13a(0xc4d)];['clusterId'];[_0x4a13a(0x649)];['db'];[_0x4a13a(0x46c)];['writes']=0x0;[_0x4a13a(0x7c2)]=0x0;[_0x4a13a(0x91a)]=!0x1;constructor(_0xcd993b,_0x266bc8,_0x30828c,_0x2fb661,_0x47979a){const _0x365fda=_0x4a13a;if(_0x365fda(0x924)!=typeof _0x266bc8)throw new _0x298b29(_0x404249[_0x365fda(0x707)],_0x365fda(0x7a3));super(_0xcd993b,_0x266bc8),this[_0x365fda(0xc4d)]=_0xcd993b,this[_0x365fda(0x88f)]=_0x30828c,this[_0x365fda(0x649)]=_0x2fb661;const _0x2f9336='ccc'+this[_0x365fda(0x649)]+'ccc'+this['clusterId']+_0x365fda(0x38e)+this[_0x365fda(0xaed)];this['db']=new _0x47979a(_0x2f9336),this[_0x365fda(0x6d7)]();}[_0x4a13a(0x915)](){return this['isLoaded'];}[_0x4a13a(0x9e9)](_0x47f801){const _0x16b807=_0x4a13a;this[_0x16b807(0x91a)]=_0x47f801;}[_0x4a13a(0x888)](){const _0x5b1f0a=_0x4a13a;clearTimeout(this[_0x5b1f0a(0x46c)]),delete this[_0x5b1f0a(0x46c)],super[_0x5b1f0a(0x888)]();}[_0x4a13a(0x935)](){const _0x39e357=_0x4a13a;this[_0x39e357(0x525)][_0x39e357(0xa19)]({'sourceId':_0x2d73b4,'messageType':_0x29c5a4[_0x39e357(0xbf2)],'content':{'type':_0x1c17a1[_0x39e357(0x23e)],'label':this['label']}});}['reset'](){const _0x3c9847=_0x4a13a;this[_0x3c9847(0x6d7)]();}[_0x4a13a(0x743)](){const _0x128511=_0x4a13a;return _0x52458b[_0x128511(0x54c)][_0x128511(0x844)];}[_0x4a13a(0x4ce)](_0x267625,_0x295ed6,_0xd1e094,_0x35f5ae,_0x4733a2){const _0x258669=_0x4a13a,_0x4e6a26=this['db']['search'](_0x267625,_0x295ed6,_0xd1e094,_0x35f5ae,_0x4733a2);return this[_0x258669(0x7c2)]+=0x1,_0x260a6c[_0x258669(0xa93)](_0x108d83[_0x258669(0x844)],{'type':'search','label':this[_0x258669(0xaed)],'nodeId':this[_0x258669(0xc4d)][_0x258669(0xa47)](),'nodeType':this[_0x258669(0xc4d)][_0x258669(0xbdd)],'clusterId':this[_0x258669(0x88f)],'size':0x0}),this[_0x258669(0x6d7)](),_0x4e6a26;}[_0x4a13a(0x6e5)](_0x356f56,_0xc7837e,_0x4b1943,_0x4154bf){const _0x4cea9f=_0x4a13a;this['db'][_0x4cea9f(0x6e5)](_0x356f56,_0xc7837e,_0x4b1943,_0x4154bf),this[_0x4cea9f(0x8c7)]+=0x1,_0x260a6c['logServiceEvent'](_0x108d83[_0x4cea9f(0x844)],{'type':_0x4cea9f(0x6e5),'label':this[_0x4cea9f(0xaed)],'nodeId':this['localNode'][_0x4cea9f(0xa47)](),'nodeType':this[_0x4cea9f(0xc4d)]['type'],'clusterId':this[_0x4cea9f(0x88f)],'size':_0x4154bf['reduce']((_0x62949a,_0x13c3a7)=>_0x62949a+_0x13c3a7[_0x4cea9f(0x454)],0x0)}),this[_0x4cea9f(0x6d7)]();}[_0x4a13a(0xa4d)](_0x1a2c29){const _0x239eb5=_0x4a13a;this['db']['remove'](_0x1a2c29),this['writes']+=0x1,_0x260a6c[_0x239eb5(0xa93)](_0x108d83[_0x239eb5(0x844)],{'type':_0x239eb5(0xa4d),'label':this[_0x239eb5(0xaed)],'nodeId':this[_0x239eb5(0xc4d)][_0x239eb5(0xa47)](),'nodeType':this[_0x239eb5(0xc4d)]['type'],'clusterId':this['clusterId'],'size':0x0}),this[_0x239eb5(0x6d7)]();}['saveToDisk'](_0x1ec381){const _0x1dea82=_0x4a13a;this['db'][_0x1dea82(0x3ef)](_0x1ec381);}[_0x4a13a(0xab7)](_0x57c27c){const _0x379f54=_0x4a13a;this['db'][_0x379f54(0xab7)](_0x57c27c);}['sendStats'](){const _0x51f38d=_0x4a13a;this['debounceStats']&&clearTimeout(this[_0x51f38d(0x46c)]),this[_0x51f38d(0x46c)]=setTimeout(async()=>{const _0x510cfa=_0x51f38d;delete this[_0x510cfa(0x46c)];const _0x3ad4f1=this['db']['getBuffer']()[_0x510cfa(0x4a8)];this[_0x510cfa(0x525)][_0x510cfa(0xa19)]({'sourceId':_0x2d73b4,'messageType':_0x29c5a4[_0x510cfa(0xbf2)],'content':{'type':_0x1c17a1[_0x510cfa(0x786)],'label':this['label'],'stats':{'timestamp':Date['now'](),'storage':_0x3ad4f1,'messagesSent':this[_0x510cfa(0x333)],'messagesReceived':this[_0x510cfa(0xa84)],'bytesSent':this[_0x510cfa(0x9f4)],'bytesReceived':this[_0x510cfa(0x325)],'writes':this[_0x510cfa(0x8c7)],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),_0x260a6c[_0x510cfa(0x242)](_0x108d83[_0x510cfa(0x844)],_0x510cfa(0x38e)+this[_0x510cfa(0x88f)]+'ccc'+this[_0x510cfa(0xaed)],_0x3ad4f1);},_0x476143);}}class _0x676b8{['id'];[_0x4a13a(0x827)];[_0x4a13a(0x964)];constructor(_0x3a4314,_0x5c9b5f=new Set(),_0x4b46c9){const _0x3a359d=_0x4a13a;this['id']=_0x3a4314,this[_0x3a359d(0x827)]=_0x5c9b5f,this[_0x3a359d(0x964)]=_0x4b46c9;}[_0x4a13a(0x935)](){const _0x46cf9f=_0x4a13a;this['rank']=void 0x0,this[_0x46cf9f(0x827)][_0x46cf9f(0xb0f)]();}[_0x4a13a(0xa47)](){return this['id'];}[_0x4a13a(0x294)](){const _0x494350=_0x4a13a;return this[_0x494350(0x964)];}['getRemoteConnections'](){const _0x560f59=_0x4a13a;return this[_0x560f59(0x827)];}}class _0x28df1d extends _0x676b8{['id'];[_0x4a13a(0x636)];[_0x4a13a(0xb78)];[_0x4a13a(0x827)];[_0x4a13a(0x964)];[_0x4a13a(0xbdd)]=_0x52458b[_0x4a13a(0x223)][_0x4a13a(0xc05)];constructor(_0x5be16c,_0xe69a2,_0x1dc49e,_0xd5325=new Set(),_0x54053a){const _0x38b9d7=_0x4a13a;super(_0x5be16c,_0xd5325,_0x54053a),this['id']=_0x5be16c,this[_0x38b9d7(0x636)]=_0xe69a2,this[_0x38b9d7(0xb78)]=_0x1dc49e,this[_0x38b9d7(0x827)]=_0xd5325,this['rank']=_0x54053a;}[_0x4a13a(0x63a)](){const _0x5b4ad6=_0x4a13a;return this[_0x5b4ad6(0x636)];}[_0x4a13a(0x256)](){const _0x517c99=_0x4a13a;return this[_0x517c99(0xb78)];}}class _0x3c1e94{['vendorId'];[_0x4a13a(0x88f)];[_0x4a13a(0xbfc)];constructor(_0x39d8e6,_0x4e4ba4){const _0x327e32=_0x4a13a;this[_0x327e32(0x649)]=_0x39d8e6,this[_0x327e32(0x88f)]=_0x4e4ba4,this[_0x327e32(0xbfc)]=_0x327e32(0x38e)+this[_0x327e32(0x649)]+_0x327e32(0x38e)+this[_0x327e32(0x88f)];}async[_0x4a13a(0x499)](_0x4fef23,_0x4a1a4f){const _0x2881d8=_0x4a13a,_0x311769=(0x0,_0x29402b['ref'])(_0x4c4338['getDatabase'](),_0x2881d8(0xaf8)+this[_0x2881d8(0xbfc)]+_0x2881d8(0x8be)+_0x4a1a4f+_0x2881d8(0x248)+_0x4fef23['id']),_0x345cfa=(0x0,_0x29402b[_0x2881d8(0x54b)])(_0x311769);_0x345cfa[_0x2881d8(0xa4d)](),_0x4fef23[_0x2881d8(0x7d3)]||delete _0x4fef23[_0x2881d8(0x7d3)];try{await(0x0,_0x29402b[_0x2881d8(0x2a7)])(_0x311769,_0x4fef23);}catch(_0x2f370c){throw await _0x345cfa[_0x2881d8(0x74d)](),new _0x240123(_0x240123[_0x2881d8(0x2f7)][_0x2881d8(0xb57)]);}if(!0x1===(await(0x0,_0x29402b['runTransaction'])((0x0,_0x29402b[_0x2881d8(0x9cf)])(_0x4c4338[_0x2881d8(0x524)](),_0x2881d8(0xaf8)+this[_0x2881d8(0xbfc)]+_0x2881d8(0x8be)+_0x4a1a4f+_0x2881d8(0x5be)),_0x1f499c=>_0x1f499c?_0x1f499c===_0x4fef23[_0x2881d8(0x7d3)]?_0x4fef23['id']:void 0x0:_0x4fef23[_0x2881d8(0x7d3)]?_0x4fef23[_0x2881d8(0x7d3)]:_0x4fef23['id']))[_0x2881d8(0x257)])throw await(0x0,_0x29402b[_0x2881d8(0xa4d)])(_0x311769),await _0x345cfa['cancel'](),new _0x240123(_0x240123['codes'][_0x2881d8(0x847)]);await _0x345cfa['cancel']();}async[_0x4a13a(0x75a)](_0x3cd9f7,_0x4bf38b){const _0x590503=_0x4a13a;let _0x2b1184=[];const _0xc1ee3c=(0x0,_0x29402b[_0x590503(0x9cf)])(_0x4c4338[_0x590503(0x524)](),_0x590503(0xaf8)+this[_0x590503(0xbfc)]+_0x590503(0x8be)+_0x3cd9f7+_0x590503(0xa11));let _0x5602b6=await(0x0,_0x29402b[_0x590503(0x68c)])((0x0,_0x29402b['query'])(_0xc1ee3c,(0x0,_0x29402b[_0x590503(0x83a)])(0x65),(0x0,_0x29402b['orderByKey'])()));if(!_0x5602b6[_0x590503(0x9bf)]()){if(void 0x0!==_0x4bf38b)throw new _0x240123(_0x240123['codes'][_0x590503(0xba5)]);return _0x2b1184;}const _0x2b9f48=_0x5602b6[_0x590503(0x8fd)]();for(;Object[_0x590503(0x932)](_0x5602b6['val']())[_0x590503(0x454)]>0x64;){const _0xae301c=Object[_0x590503(0x932)](_0x5602b6['val']()),_0x5242a1=_0xae301c[_0xae301c[_0x590503(0x454)]-0x1];_0x5602b6=await(0x0,_0x29402b[_0x590503(0x68c)])((0x0,_0x29402b[_0x590503(0x322)])(_0xc1ee3c,(0x0,_0x29402b[_0x590503(0x83a)])(0x65),(0x0,_0x29402b[_0x590503(0x423)])(_0x5242a1),(0x0,_0x29402b[_0x590503(0x980)])())),Object[_0x590503(0xb67)](_0x2b9f48,_0x5602b6[_0x590503(0x8fd)]());}if(_0x2b1184=Object[_0x590503(0x331)](_0x2b9f48)[_0x590503(0x675)](_0x257daa=>_0x590503(0x924)!=typeof _0x257daa),0x0===_0x2b1184[_0x590503(0x454)]&&void 0x0!==_0x4bf38b)throw new _0x240123(_0x240123[_0x590503(0x2f7)][_0x590503(0xba5)]);if(_0x2b1184[_0x590503(0x454)]>0x0&&void 0x0!==_0x4bf38b&&!_0x2b1184[_0x590503(0x319)](_0x35054b=>_0x35054b['id']===_0x4bf38b))throw new _0x240123(_0x240123[_0x590503(0x2f7)][_0x590503(0xba5)]);const _0x218ae6=[];let _0x120505=_0x2b1184[_0x590503(0x319)](_0x9b3e6a=>_0x9b3e6a[_0x590503(0x7d3)]===_0x4bf38b);for(;_0x120505;)_0x218ae6[_0x590503(0x247)](_0x120505),_0x120505=_0x2b1184[_0x590503(0x319)](_0x3bdbbc=>_0x3bdbbc[_0x590503(0x7d3)]===_0x120505['id']);return _0x218ae6;}}class _0x4517c7 extends _0x19c50e{[_0x4a13a(0x2f4)];[_0x4a13a(0xa74)];[_0x4a13a(0x2b1)];[_0x4a13a(0x2b3)];[_0x4a13a(0x977)];[_0x4a13a(0x521)];[_0x4a13a(0xa6c)];[_0x4a13a(0x478)];[_0x4a13a(0x8ef)];[_0x4a13a(0x73b)];[_0x4a13a(0x7b4)];[_0x4a13a(0x92e)];[_0x4a13a(0x911)]=_0x1d5ba7;[_0x4a13a(0x607)]=new Map();[_0x4a13a(0x9f0)]=!0x1;constructor(_0x4503e2,_0x1a8978,_0x11642e,_0x1e2b1c,_0x4dc334,_0x520d38,_0x1584a2,_0x54af90,_0xfb0cd5,_0x439cfc,_0x5b734c,_0x3d33d7,_0x5866d9,_0x1d4146){const _0x17f191=_0x4a13a;super(_0x4503e2,_0x1a8978),this['contentMediator']=_0x11642e,this[_0x17f191(0xa74)]=_0x1e2b1c,this[_0x17f191(0x2b1)]=_0x4dc334,this['objectStoreConnector']=_0x520d38,this['documentParserConnector']=_0x1584a2,this['fileConnector']=_0x54af90,this[_0x17f191(0xa6c)]=_0xfb0cd5,this[_0x17f191(0x478)]=_0x439cfc,this[_0x17f191(0x8ef)]=_0x5b734c,this[_0x17f191(0x73b)]=_0x3d33d7,this[_0x17f191(0x7b4)]=_0x5866d9,this['openAIKey']=_0x1d4146,this[_0x17f191(0x4f0)]();}async[_0x4a13a(0x574)](){return[];}async[_0x4a13a(0x4f0)](_0x14029b=!0x1){const _0x5c5246=_0x4a13a;if(!this[_0x5c5246(0x9f0)]){_0x260a6c[_0x5c5246(0xa9f)](_0x5c5246(0x633),this[_0x5c5246(0xaed)]);try{for(const _0xbab885 of this['generativeAIWorkerConnectors'])await _0xbab885[_0x5c5246(0xc21)](this[_0x5c5246(0xaed)],this[_0x5c5246(0x911)]);}catch(_0x328ad5){return this[_0x5c5246(0x4f0)](_0x14029b);}this['isOpened']=!0x0,_0x260a6c[_0x5c5246(0xa9f)]('GenerativeAIWorker:\x20Opened',this[_0x5c5246(0xaed)]);}}['close'](){const _0x48ddd9=_0x4a13a;this[_0x48ddd9(0x525)]?.[_0x48ddd9(0xa19)]({'sourceId':_0x2d73b4,'messageType':_0x29c5a4['Content'],'content':{'type':_0x1c17a1[_0x48ddd9(0x98d)],'label':this[_0x48ddd9(0xaed)]}});}[_0x4a13a(0x57a)](){const _0x3d5f09=_0x4a13a;return this[_0x3d5f09(0xaed)];}['getContentType'](){const _0x4ad3a1=_0x4a13a;return _0x52458b[_0x4ad3a1(0x54c)][_0x4ad3a1(0xbfd)];}[_0x4a13a(0x8cb)](_0x3adcf3){const _0x53e9af=_0x4a13a,_0x230e90='job-'+(0x0,_0xafe7f0['v4'])();let _0x2fe7c1=!0x1;const _0xef8760=()=>{const _0x1776d6=a0_0x2cf3;if(_0x2fe7c1)throw new _0x240123(_0x240123[_0x1776d6(0x2f7)][_0x1776d6(0x7c7)]);_0x2fe7c1=!0x0;},_0x5e3700={'threadId':_0x53e9af(0x262)+(0x0,_0xafe7f0['v4'])(),..._0x3adcf3};switch(_0x3adcf3[_0x53e9af(0xbdd)]){case _0x53e9af(0x2bd):case'collection-delete':case _0x53e9af(0x98a):case _0x53e9af(0xb6e):case _0x53e9af(0x7d8):case'file-ingest':case'file-ingest':case _0x53e9af(0x7fa):case _0x53e9af(0x41d):case _0x53e9af(0x9bc):case _0x53e9af(0x956):case _0x53e9af(0x6e6):case'embed':return{'id':_0x230e90,..._0x3adcf3,'run':()=>(_0xef8760(),this[_0x53e9af(0x81d)](_0x230e90,_0x5e3700))};case _0x53e9af(0xbb0):case _0x53e9af(0x3f8):return{'id':_0x230e90,'options':{'threadId':'thread-'+(0x0,_0xafe7f0['v4'])()},..._0x3adcf3,'run':()=>(_0xef8760(),this[_0x53e9af(0x81d)](_0x230e90,_0x5e3700)),'stream':()=>(_0xef8760(),this[_0x53e9af(0x991)](_0x230e90,_0x5e3700))};default:throw new Error(_0x53e9af(0x4f2));}}async['internalProcessJob'](_0x11526a,_0x267ee1){const _0x3f64c6=_0x4a13a;if(_0x3f64c6(0x3f8)===_0x267ee1[_0x3f64c6(0xbdd)]){await this[_0x3f64c6(0x345)](_0x11526a,_0x267ee1);const _0x4387f1=await _0x11d0e6[_0x3f64c6(0x31f)](_0x267ee1[_0x3f64c6(0x649)],_0x267ee1[_0x3f64c6(0x9cb)]),_0x23d979=_0x4387f1[_0x3f64c6(0x5ef)]['find'](_0x1da449=>_0x1da449[_0x3f64c6(0xbdd)]===_0xa515c[_0x3f64c6(0x661)]||_0x1da449[_0x3f64c6(0xbdd)]===_0xa515c['InputStream']),_0x2488b7=await _0x53ba92(_0x267ee1[_0x3f64c6(0xafd)]??_0x11526a,_0x267ee1,_0x23d979,_0x4387f1[_0x3f64c6(0x5ef)],{'documentParserConnector':this['documentParserConnector'],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this[_0x3f64c6(0xa6c)],'generativeAIWorkerConnectors':this[_0x3f64c6(0xa74)],'speechAIWorkerConnectors':this[_0x3f64c6(0x2b1)],'models':Array['from'](this['models']['values']()),'contentMediator':this[_0x3f64c6(0x2f4)],'searchConnector':this[_0x3f64c6(0x478)],'aiSearchConnector':this[_0x3f64c6(0x8ef)],'queryFileConnector':this['queryFileConnector']});return await this[_0x3f64c6(0x38d)](_0x11526a,_0x267ee1),_0x2488b7;}if(_0x3f64c6(0x891)===_0x267ee1[_0x3f64c6(0xbdd)])return await _0x329933(_0x267ee1,{'documentParserConnector':this[_0x3f64c6(0x977)],'fileConnector':this[_0x3f64c6(0x521)],'nlpLibraryConnector':this[_0x3f64c6(0xa6c)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'speechAIWorkerConnectors':this[_0x3f64c6(0x2b1)],'models':Array[_0x3f64c6(0xad6)](this['models'][_0x3f64c6(0x331)]()),'contentMediator':this[_0x3f64c6(0x2f4)],'searchConnector':this[_0x3f64c6(0x478)],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this[_0x3f64c6(0x73b)]});if(_0x3f64c6(0xbb0)===_0x267ee1[_0x3f64c6(0xbdd)]){await this[_0x3f64c6(0x345)](_0x11526a,_0x267ee1);const _0x3c1069=await _0x17d28c(_0x267ee1[_0x3f64c6(0xafd)]??_0x11526a,_0x267ee1,{'documentParserConnector':this[_0x3f64c6(0x977)],'fileConnector':this[_0x3f64c6(0x521)],'nlpLibraryConnector':this[_0x3f64c6(0xa6c)],'generativeAIWorkerConnectors':this[_0x3f64c6(0xa74)],'speechAIWorkerConnectors':this[_0x3f64c6(0x2b1)],'models':Array[_0x3f64c6(0xad6)](this[_0x3f64c6(0x911)][_0x3f64c6(0x331)]()),'contentMediator':this[_0x3f64c6(0x2f4)],'searchConnector':this['searchConnector'],'aiSearchConnector':this[_0x3f64c6(0x8ef)],'queryFileConnector':this[_0x3f64c6(0x73b)]});return await this[_0x3f64c6(0x38d)](_0x11526a,_0x267ee1),_0x3c1069;}if(_0x3f64c6(0x41d)===_0x267ee1['type'])return await _0x4bd72a[_0x3f64c6(0x756)]({'jobType':_0x2012ea[_0x3f64c6(0x845)],'type':_0x548e02['PromptRating'],'jobId':_0x267ee1[_0x3f64c6(0xafd)],'threadId':_0x267ee1[_0x3f64c6(0x6b7)],'traceLevel':_0x437662[_0x3f64c6(0x1e8)],'startTime':Date[_0x3f64c6(0xad3)](),'timestamp':Date[_0x3f64c6(0xad3)](),'status':'success','rating':_0x267ee1[_0x3f64c6(0x42b)],'feedback':_0x267ee1[_0x3f64c6(0x506)]}),{'type':'rate','status':_0x52458b[_0x3f64c6(0xb7d)][_0x3f64c6(0x88b)]};if(_0x3f64c6(0x6e6)===_0x267ee1[_0x3f64c6(0xbdd)])return await _0x24f089(_0x267ee1,{'documentParserConnector':this['documentParserConnector'],'fileConnector':this[_0x3f64c6(0x521)],'nlpLibraryConnector':this[_0x3f64c6(0xa6c)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'speechAIWorkerConnectors':this[_0x3f64c6(0x2b1)],'models':Array[_0x3f64c6(0xad6)](this[_0x3f64c6(0x911)][_0x3f64c6(0x331)]()),'contentMediator':this[_0x3f64c6(0x2f4)],'searchConnector':this[_0x3f64c6(0x478)],'aiSearchConnector':this[_0x3f64c6(0x8ef)],'queryFileConnector':this['queryFileConnector']});if(_0x3f64c6(0x956)===_0x267ee1['type']){const _0x2fec82=_0x1d5ba7[_0x3f64c6(0x68c)](_0x267ee1[_0x3f64c6(0x4da)]);if(!_0x2fec82)throw new Error(_0x3f64c6(0x81b));const _0x2ac4f2=this[_0x3f64c6(0x2b1)][_0x3f64c6(0x319)](_0x4afc49=>_0x4afc49['getEngineType']()===_0x2fec82['engineType']);if(!_0x2ac4f2)throw new Error(_0x3f64c6(0xbf4));return{'type':_0x3f64c6(0x956),'audio':await _0x2ac4f2['speak'](_0x267ee1[_0x3f64c6(0x4da)],_0x267ee1['text'],_0x267ee1[_0x3f64c6(0x664)],_0x267ee1[_0x3f64c6(0xba2)],_0x267ee1[_0x3f64c6(0x820)])};}if(_0x3f64c6(0x9bc)===_0x267ee1[_0x3f64c6(0xbdd)]){const _0xb20c95=await _0x11d0e6[_0x3f64c6(0x31f)](_0x267ee1[_0x3f64c6(0x649)],_0x267ee1[_0x3f64c6(0x9cb)]),_0x9aefab=_0xb20c95[_0x3f64c6(0x5ef)][_0x3f64c6(0x319)](_0x223e29=>_0x223e29[_0x3f64c6(0xbdd)]===_0xa515c['InputStream']),_0x597d10=_0x9aefab[_0x3f64c6(0xbbc)]?.[_0x3f64c6(0x319)](_0x537b2f=>_0x537b2f[_0x3f64c6(0xbdd)]===_0x81f8f3[_0x3f64c6(0x6ef)]),_0x22b359=_0xb20c95[_0x3f64c6(0x5ef)][_0x3f64c6(0x319)](_0x689a2f=>_0x689a2f[_0x3f64c6(0xbdd)]===_0xa515c[_0x3f64c6(0x673)]&&_0x689a2f[_0x3f64c6(0xb27)]===_0x597d10[_0x3f64c6(0xb27)]),_0x1a7e1d=_0x1d5ba7[_0x3f64c6(0x68c)](_0x22b359[_0x3f64c6(0xc0a)]),_0x10df08=_0xb20c95[_0x3f64c6(0x5ef)][_0x3f64c6(0x675)](_0x5db50e=>_0x5db50e['links']?.[_0x3f64c6(0x427)](_0x1514be=>_0x1514be[_0x3f64c6(0xbdd)]===_0x81f8f3[_0x3f64c6(0xa43)]&&_0x1514be['uid']===_0x22b359[_0x3f64c6(0xb27)]))[_0x3f64c6(0xb97)](_0x1a81de=>_0x4701ea(_0x1a81de,_0xb20c95[_0x3f64c6(0x5ef)])),_0xff0ea1=_0xb20c95[_0x3f64c6(0x5ef)]['find'](_0x21a839=>_0x21a839[_0x3f64c6(0xbdd)]===_0xa515c[_0x3f64c6(0x8f5)]),_0x26a7a8=_0xb20c95[_0x3f64c6(0x5ef)][_0x3f64c6(0x319)](_0x341fa4=>_0x341fa4[_0x3f64c6(0xbdd)]===_0xa515c['Agent']&&_0x341fa4[_0x3f64c6(0xbbc)]?.[_0x3f64c6(0x427)](_0x1202d8=>_0x1202d8[_0x3f64c6(0xbdd)]===_0x81f8f3[_0x3f64c6(0x6ef)]&&_0x1202d8[_0x3f64c6(0xb27)]===_0xff0ea1[_0x3f64c6(0xb27)])),_0x39d3b9=_0xb20c95['blocks'][_0x3f64c6(0x319)](_0x156e98=>_0x156e98['type']===_0xa515c['Agent']&&_0x156e98[_0x3f64c6(0xb27)]===_0x26a7a8[_0x3f64c6(0xb27)]),_0xb620b5=_0x1d5ba7[_0x3f64c6(0x68c)](_0x39d3b9[_0x3f64c6(0xc0a)]);return{'type':_0x3f64c6(0x9bc),'apiKey':this[_0x3f64c6(0x92e)],'sessionType':_0x1a7e1d[_0x3f64c6(0xbf7)]===_0x52458b[_0x3f64c6(0xb89)][_0x3f64c6(0x422)]?_0x3f64c6(0x72b):'chained','firstAgent':{'modelId':_0x22b359[_0x3f64c6(0xc0a)],'taskType':_0x1a7e1d[_0x3f64c6(0xbf7)],'instructions':_0x22b359[_0x3f64c6(0x820)],'temperature':_0x22b359[_0x3f64c6(0x7fc)],'maxTokens':_0x22b359[_0x3f64c6(0x6df)],'initialPrompt':_0xb20c95['initialPrompt'],'tools':_0x10df08[_0x3f64c6(0x275)](_0x62281b=>({..._0x62281b,'name':this['getToolName'](_0x62281b),'description':this[_0x3f64c6(0x918)](_0x62281b),'parameters':this[_0x3f64c6(0x6ad)](_0x62281b)}))},'lastAgent':{'modelId':_0x39d3b9[_0x3f64c6(0xc0a)],'taskType':_0xb620b5[_0x3f64c6(0xbf7)],'instructions':_0x39d3b9[_0x3f64c6(0x820)],'initialPrompt':_0xb20c95[_0x3f64c6(0x3d5)]}};}if(_0x3f64c6(0xb6e)===_0x267ee1[_0x3f64c6(0xbdd)]){const {vendorId:_0x5433c0,collectionId:_0x2c453b,namespace:_0x547996,fileId:_0x4f8343}=_0x267ee1,_0xbfe58=await _0x11d0e6[_0x3f64c6(0x4dd)](_0x5433c0,_0x2c453b),_0x490eae=this[_0x3f64c6(0x7b4)]?.['get'](_0xbfe58[_0x3f64c6(0xa46)]);if(!_0x490eae)throw new Error(_0x3f64c6(0x600));const _0x31886e=_0x46cb9f(_0x5433c0,_0xbfe58);if(_0xbfe58[_0x3f64c6(0xa46)]===_0x52458b[_0x3f64c6(0x436)][_0x3f64c6(0x7bf)])try{await _0x490eae[_0x3f64c6(0x6d5)]({'instanceId':_0x31886e,'collectionId':_0x2c453b,'namespace':_0x547996},'/'+_0x5433c0+'/'+_0x2c453b+'/'+_0x4f8343),await this[_0x3f64c6(0x2b3)][_0x3f64c6(0x621)]('/'+_0x5433c0+'/'+_0x2c453b+'/'+_0x4f8343);}catch(_0x262d50){_0x260a6c[_0x3f64c6(0x33b)](_0x3f64c6(0x75d),_0x262d50);}else try{await _0x490eae['deleteFile']({'instanceId':_0x31886e,'collectionId':_0x2c453b,'namespace':_0x547996},_0x4f8343);}catch(_0x4fa839){_0x260a6c[_0x3f64c6(0x33b)](_0x3f64c6(0x75d),_0x4fa839);}return{'type':_0x3f64c6(0xb6e)};}if(_0x3f64c6(0x7d8)===_0x267ee1[_0x3f64c6(0xbdd)]){let _0x2f5ab7;const _0x3e5305=this[_0x3f64c6(0x607)][_0x3f64c6(0x932)]();for(;!_0x2f5ab7;){const _0x4f3575=_0x3e5305[_0x3f64c6(0x93d)]()[_0x3f64c6(0x1db)];if(!_0x4f3575)throw new Error('DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found');_0x2f5ab7=this[_0x3f64c6(0x607)]['get'](_0x4f3575);try{const _0x315a12=await _0x2f5ab7[_0x3f64c6(0x68c)](_0x267ee1[_0x3f64c6(0xb17)]);return{'type':'file-download','fileName':_0x315a12[_0x3f64c6(0xbbd)],'mimeType':_0x315a12['type'],'document':await _0x315a12[_0x3f64c6(0x5f9)]()};}catch(_0x536dc9){continue;}}throw new Error(_0x3f64c6(0xbcd));}if('file-ingest'===_0x267ee1[_0x3f64c6(0xbdd)]){const {vendorId:_0x35312c,collectionId:_0x4e0bbf,namespace:_0x103c61,fileName:_0x2c29d9,content:_0x3bc189}=_0x267ee1,_0x5cf82b=await _0x11d0e6[_0x3f64c6(0x4dd)](_0x35312c,_0x4e0bbf);if(_0x5cf82b[_0x3f64c6(0xa46)]!==_0x52458b[_0x3f64c6(0x436)][_0x3f64c6(0x7bf)]){const _0x3c8517=this[_0x3f64c6(0x7b4)]?.[_0x3f64c6(0x68c)](_0x5cf82b[_0x3f64c6(0xa46)]);if(!_0x3c8517)throw new Error(_0x3f64c6(0x600));const _0x384c5c=_0x46cb9f(_0x35312c,_0x5cf82b);return await _0x3c8517[_0x3f64c6(0x514)]({'instanceId':_0x384c5c,'collectionId':_0x4e0bbf,'namespace':_0x103c61},_0x2c29d9,_0x3bc189),{'type':_0x3f64c6(0xa4a)};}const _0x3f3799=_0x5cf82b['ingestBlocks']?.[_0x3f64c6(0x319)](_0x5d7095=>_0x5d7095['type']===_0x2f4e96[_0x3f64c6(0x3c3)]);if(!_0x3f3799)throw new Error(_0x3f64c6(0xb3a));return _0x103c61&&(_0x5cf82b[_0x3f64c6(0x541)]=_0x103c61),await _0x32b8eb(_0x267ee1[_0x3f64c6(0x649)],_0x11526a,'/'+_0x35312c+'/'+_0x4e0bbf+'/'+_0x2c29d9,_0x3bc189,_0x3f3799,_0x5cf82b,{'objectStoreConnector':this['objectStoreConnector'],'ragConnector':this[_0x3f64c6(0x7b4)]?.['get'](_0x52458b[_0x3f64c6(0x436)][_0x3f64c6(0x7bf)]),'documentParserConnector':this[_0x3f64c6(0x977)],'fileConnector':this[_0x3f64c6(0x521)],'nlpLibraryConnector':this[_0x3f64c6(0xa6c)],'generativeAIWorkerConnectors':this[_0x3f64c6(0xa74)],'speechAIWorkerConnectors':this['speechAIWorkerConnectors'],'models':Array[_0x3f64c6(0xad6)](this[_0x3f64c6(0x911)][_0x3f64c6(0x331)]()),'contentMediator':this[_0x3f64c6(0x2f4)]}),{'type':_0x3f64c6(0xa4a)};}if('file-list'===_0x267ee1[_0x3f64c6(0xbdd)]){const {vendorId:_0x1dad6a,collectionId:_0x126a79,namespace:_0x5ec3e7}=_0x267ee1,_0x5ea31b=await _0x11d0e6[_0x3f64c6(0x4dd)](_0x1dad6a,_0x126a79);if(_0x5ea31b[_0x3f64c6(0xa46)]!==_0x52458b[_0x3f64c6(0x436)][_0x3f64c6(0x7bf)]){const _0x45bf1b=this[_0x3f64c6(0x7b4)]?.[_0x3f64c6(0x68c)](_0x5ea31b[_0x3f64c6(0xa46)]);if(!_0x45bf1b)throw new Error('No\x20RAG\x20connector\x20available');const _0x2cfa04=_0x46cb9f(_0x1dad6a,_0x5ea31b);return{'type':_0x3f64c6(0x7fa),'files':await _0x45bf1b[_0x3f64c6(0xc06)]({'instanceId':_0x2cfa04,'collectionId':_0x126a79,'namespace':_0x5ec3e7})};}try{return{'type':_0x3f64c6(0x7fa),'files':(await this[_0x3f64c6(0x2b3)][_0x3f64c6(0xb07)]('/'+_0x1dad6a+'/'+_0x126a79,!0x1))[_0x3f64c6(0x275)](_0x4e5a88=>({'name':_0x4e5a88[_0x3f64c6(0xbbd)],'id':_0x4e5a88['name'],'status':_0x3f64c6(0x7eb)}))};}catch(_0xe5c4a6){return{'type':_0x3f64c6(0x7fa),'files':[]};}}if(_0x3f64c6(0x2bd)===_0x267ee1[_0x3f64c6(0xbdd)]){const {vendorId:_0x2082d4,collectionId:_0x1110bd}=_0x267ee1,_0x4cb17a=await _0x11d0e6[_0x3f64c6(0x4dd)](_0x2082d4,_0x1110bd),_0x417b29=this[_0x3f64c6(0x7b4)]?.['get'](_0x4cb17a[_0x3f64c6(0xa46)]);if(!_0x417b29)return{'type':_0x3f64c6(0x2bd)};const _0x2a4b2d=_0x46cb9f(_0x2082d4,_0x4cb17a);return await _0x417b29[_0x3f64c6(0x566)](_0x2a4b2d,_0x1110bd),{'type':'collection-create'};}if(_0x3f64c6(0x363)===_0x267ee1[_0x3f64c6(0xbdd)]){const {vendorId:_0xdef1de,collectionId:_0x50415e}=_0x267ee1,_0x54a650=await _0x11d0e6['getDataCollection'](_0xdef1de,_0x50415e),_0x4469b2=this[_0x3f64c6(0x7b4)]?.[_0x3f64c6(0x68c)](_0x54a650[_0x3f64c6(0xa46)]);if(!_0x4469b2)return{'type':_0x3f64c6(0x363)};const _0x11bb0e=_0x46cb9f(_0xdef1de,_0x54a650);let _0x209134=!0x1;if(_0x54a650[_0x3f64c6(0x20f)]===_0x1bb8b2[_0x3f64c6(0x4af)]&&(_0x209134=!0x0),_0x54a650['hosting']===_0x1bb8b2[_0x3f64c6(0xae4)]){_0x209134=!0x0;const _0x3112b8=await _0x11d0e6[_0x3f64c6(0x32e)](_0xdef1de);for(const _0x1459e8 of _0x3112b8)if(_0x1459e8[_0x3f64c6(0xa46)]===_0x54a650[_0x3f64c6(0xa46)]&&_0x1459e8[_0x3f64c6(0x20f)]===_0x1bb8b2[_0x3f64c6(0xae4)]&&_0x1459e8['id']!==_0x54a650['id']){_0x209134=!0x1;break;}}try{await _0x4469b2[_0x3f64c6(0xa05)](_0x11bb0e,_0x50415e,_0x209134);}catch(_0x1b6c69){_0x260a6c[_0x3f64c6(0x33b)]('GenerativeAIWorker:\x20CollectionDelete\x20failed',_0x1b6c69);}return{'type':_0x3f64c6(0x363)};}if('collection-query'===_0x267ee1[_0x3f64c6(0xbdd)]){const {query:_0x347d8a,vendorId:_0x3bd06c,collectionId:_0x185ce9,namespace:_0x19b3c3}=_0x267ee1,_0x212ba3=await _0x11d0e6[_0x3f64c6(0x4dd)](_0x3bd06c,_0x185ce9);if(_0x212ba3[_0x3f64c6(0xa46)]!==_0x52458b['GenerativeAIRagType'][_0x3f64c6(0x7bf)]){const _0x1a61ab=this[_0x3f64c6(0x7b4)]?.[_0x3f64c6(0x68c)](_0x212ba3['storageType']);if(!_0x1a61ab)throw new Error(_0x3f64c6(0x600));const _0x445efa=_0x46cb9f(_0x3bd06c,_0x212ba3);return{'type':_0x3f64c6(0x98a),'results':await _0x1a61ab[_0x3f64c6(0x7b5)]({'instanceId':_0x445efa,'collectionId':_0x185ce9,'namespace':_0x19b3c3},_0x347d8a,0x1)};}const _0x40793f=_0x212ba3[_0x3f64c6(0x2d3)]?.[_0x3f64c6(0x319)](_0x3e8989=>_0x3e8989[_0x3f64c6(0xbdd)]===_0x2f4e96[_0x3f64c6(0x661)]);return _0x19b3c3&&(_0x212ba3[_0x3f64c6(0x541)]=_0x19b3c3),{'type':_0x3f64c6(0x98a),'results':(await _0x11e1d1(_0x267ee1[_0x3f64c6(0x649)],_0x11526a,'',_0x347d8a,_0x40793f,_0x212ba3,{'objectStoreConnector':this[_0x3f64c6(0x2b3)],'ragConnector':this[_0x3f64c6(0x7b4)]?.['get'](_0x52458b[_0x3f64c6(0x436)][_0x3f64c6(0x7bf)]),'documentParserConnector':this['documentParserConnector'],'fileConnector':this[_0x3f64c6(0x521)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'speechAIWorkerConnectors':this[_0x3f64c6(0x2b1)],'models':Array[_0x3f64c6(0xad6)](this[_0x3f64c6(0x911)][_0x3f64c6(0x331)]()),'contentMediator':this[_0x3f64c6(0x2f4)],'searchConnector':this[_0x3f64c6(0x478)],'aiSearchConnector':this[_0x3f64c6(0x8ef)],'queryFileConnector':this[_0x3f64c6(0x73b)]}))[_0x3f64c6(0x560)]??[]};}throw new Error(_0x3f64c6(0x758));}async*['internalProcessJobStream'](_0x4c8c0a,_0x446602){const _0x5ca6ae=_0x4a13a;if(_0x5ca6ae(0x3f8)===_0x446602[_0x5ca6ae(0xbdd)]){await this[_0x5ca6ae(0x345)](_0x4c8c0a,_0x446602);const _0x133e0e=await _0x11d0e6[_0x5ca6ae(0x31f)](_0x446602['vendorId'],_0x446602['workflowId']),_0x5e7484=_0x133e0e[_0x5ca6ae(0x5ef)][_0x5ca6ae(0x319)](_0x544975=>_0x544975['type']===_0xa515c[_0x5ca6ae(0x661)]||_0x544975[_0x5ca6ae(0xbdd)]===_0xa515c[_0x5ca6ae(0xa6f)]);for await(const _0x1dd4fb of _0x112ad9(_0x446602['jobId']??_0x4c8c0a,_0x446602,_0x5e7484,_0x133e0e[_0x5ca6ae(0x5ef)],{'documentParserConnector':this[_0x5ca6ae(0x977)],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this[_0x5ca6ae(0xa6c)],'generativeAIWorkerConnectors':this[_0x5ca6ae(0xa74)],'speechAIWorkerConnectors':this[_0x5ca6ae(0x2b1)],'models':Array['from'](this[_0x5ca6ae(0x911)][_0x5ca6ae(0x331)]()),'contentMediator':this[_0x5ca6ae(0x2f4)],'searchConnector':this['searchConnector'],'aiSearchConnector':this[_0x5ca6ae(0x8ef)],'queryFileConnector':this['queryFileConnector']}))yield _0x1dd4fb;await this['stopTracing'](_0x4c8c0a,_0x446602);}if(_0x5ca6ae(0xbb0)===_0x446602[_0x5ca6ae(0xbdd)]){await this[_0x5ca6ae(0x345)](_0x4c8c0a,_0x446602);for await(const _0x57930e of _0x41e513(_0x446602[_0x5ca6ae(0xafd)]??_0x4c8c0a,_0x446602,{'documentParserConnector':this[_0x5ca6ae(0x977)],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this[_0x5ca6ae(0xa6c)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'speechAIWorkerConnectors':this[_0x5ca6ae(0x2b1)],'models':Array[_0x5ca6ae(0xad6)](this[_0x5ca6ae(0x911)][_0x5ca6ae(0x331)]()),'contentMediator':this[_0x5ca6ae(0x2f4)],'searchConnector':this[_0x5ca6ae(0x478)],'aiSearchConnector':this[_0x5ca6ae(0x8ef)],'queryFileConnector':this[_0x5ca6ae(0x73b)]}))yield _0x57930e;await this[_0x5ca6ae(0x38d)](_0x4c8c0a,_0x446602);}}async[_0x4a13a(0x345)](_0x445304,_0xc725df){const _0x44fbb5=_0x4a13a;if(_0x44fbb5(0x41d)===_0xc725df[_0x44fbb5(0xbdd)])return _0x445304=_0xc725df['jobId'],void await this['openTrace'](_0x445304,_0xc725df[_0x44fbb5(0x649)],_0xc725df[_0x44fbb5(0x9cb)]);_0x44fbb5(0x3f8)!==_0xc725df[_0x44fbb5(0xbdd)]&&_0x44fbb5(0xbb0)!==_0xc725df[_0x44fbb5(0xbdd)]||!_0xc725df[_0x44fbb5(0xafd)]||(_0x445304=_0xc725df[_0x44fbb5(0xafd)]),await this[_0x44fbb5(0x2f3)](_0x445304,_0xc725df['vendorId'],_0xc725df[_0x44fbb5(0x9cb)],_0xc725df[_0x44fbb5(0x6b7)]),await _0x4bd72a[_0x44fbb5(0x756)]({'jobType':_0x2012ea['Job'],'type':_0x57cbbe['Queued'],'traceLevel':_0x437662[_0x44fbb5(0x1e8)],'jobId':_0x445304,'threadId':_0xc725df['threadId'],'startTime':Date[_0x44fbb5(0xad3)](),'timestamp':Date[_0x44fbb5(0xad3)](),'status':_0x44fbb5(0xbb4)});}async[_0x4a13a(0x38d)](_0x12afff,_0x5f5739){const _0x4b89aa=_0x4a13a;if('rate'===_0x5f5739[_0x4b89aa(0xbdd)])return _0x12afff=_0x5f5739[_0x4b89aa(0xafd)],void await this[_0x4b89aa(0x8eb)](_0x12afff);_0x4b89aa(0x3f8)!==_0x5f5739[_0x4b89aa(0xbdd)]&&'inference'!==_0x5f5739[_0x4b89aa(0xbdd)]||!_0x5f5739[_0x4b89aa(0xafd)]||(_0x12afff=_0x5f5739[_0x4b89aa(0xafd)]),await _0x4bd72a['trace']({'jobType':_0x2012ea[_0x4b89aa(0x65a)],'type':_0x57cbbe[_0x4b89aa(0x476)],'traceLevel':_0x437662[_0x4b89aa(0x1e8)],'jobId':_0x12afff,'threadId':_0x5f5739[_0x4b89aa(0x6b7)],'startTime':Date[_0x4b89aa(0xad3)](),'timestamp':Date[_0x4b89aa(0xad3)](),'status':_0x4b89aa(0xbb4)}),await this['closeTrace'](_0x12afff,_0x5f5739[_0x4b89aa(0x6b7)]);}async[_0x4a13a(0x2f3)](_0x318a4c,_0x424f16,_0x8f8f37,_0x12748a){const _0x5834df=_0x4a13a;try{if(!await _0x4bd72a[_0x5834df(0x2f3)](_0x424f16,_0x318a4c,_0x8f8f37,_0x12748a))throw new Error(_0x5834df(0x928));return _0x318a4c;}catch(_0x2cb3cc){return console[_0x5834df(0x33b)](_0x5834df(0x928),_0x2cb3cc),_0x5834df(0x519);}}async[_0x4a13a(0x8eb)](_0x544493,_0x33a65d){const _0x4ae48e=_0x4a13a;try{await _0x4bd72a['closeTrace'](_0x544493,_0x33a65d);}catch(_0x2f3424){console[_0x4ae48e(0x33b)]('Error\x20closing\x20trace',{'jobId':_0x544493,'error':_0x2f3424});}}[_0x4a13a(0x6f1)](_0x344745){const _0x449e1c=_0x4a13a;switch(_0x344745[_0x449e1c(0xbdd)]){case _0xa515c[_0x449e1c(0x673)]:case _0xa515c[_0x449e1c(0xbd5)]:return _0x449e1c(0x6c5)+_0x344745[_0x449e1c(0xbbd)]['replace'](/[^a-zA-Z]/g,'');case _0xa515c['WorkflowTool']:return _0x449e1c(0x406)+_0x344745[_0x449e1c(0xbbd)]['replace'](/[^a-zA-Z]/g,'');case _0xa515c[_0x449e1c(0x5ea)]:case _0xa515c[_0x449e1c(0x570)]:return'searchInDataCollection'+_0x344745[_0x449e1c(0xbbd)]['replace'](/[^a-zA-Z]/g,'');case _0xa515c[_0x449e1c(0x975)]:return _0x344745[_0x449e1c(0xbbd)][_0x449e1c(0xb00)](/[^a-zA-Z]/g,'');case _0xa515c['AiSearch']:return'searchOnPerplexity';case _0xa515c[_0x449e1c(0x75c)]:return _0x449e1c(0x681);case _0xa515c[_0x449e1c(0x85b)]:return'searchOnGoogle';case _0xa515c[_0x449e1c(0x4c7)]:case _0xa515c[_0x449e1c(0x4f9)]:return'fetchContentFromUrl';case _0x52458b[_0x449e1c(0x2a9)][_0x449e1c(0x414)]:return'getQuestion'+_0x344745[_0x449e1c(0xbbd)][_0x449e1c(0xb00)](/[^a-zA-Z]/g,'');case _0x52458b[_0x449e1c(0x2a9)]['FormSkillSetAnswer']:return'setAnswer'+_0x344745[_0x449e1c(0xbbd)][_0x449e1c(0xb00)](/[^a-zA-Z]/g,'');case _0x52458b[_0x449e1c(0x2a9)][_0x449e1c(0x9bb)]:return _0x449e1c(0xa37)+_0x344745['name'][_0x449e1c(0xb00)](/[^a-zA-Z]/g,'');default:return'';}}[_0x4a13a(0x918)](_0x45c1c5){const _0x47f038=_0x4a13a;switch(_0x45c1c5[_0x47f038(0xbdd)]){case _0xa515c[_0x47f038(0x673)]:case _0xa515c[_0x47f038(0xbd5)]:return _0x47f038(0x853)+_0x45c1c5[_0x47f038(0xa1b)]+_0x47f038(0x89a);case _0xa515c['WorkflowTool']:return _0x47f038(0xa83)+_0x45c1c5[_0x47f038(0xa1b)]+_0x47f038(0x89a);case _0xa515c[_0x47f038(0x5ea)]:case _0xa515c['Knowledge']:return _0x47f038(0xa4b)+_0x45c1c5[_0x47f038(0xa1b)]+_0x47f038(0x470);case _0xa515c[_0x47f038(0x975)]:return _0x47f038(0x28e)+_0x45c1c5[_0x47f038(0xa1b)];case _0xa515c[_0x47f038(0xba6)]:return _0x47f038(0xb53);case _0xa515c[_0x47f038(0x75c)]:return _0x47f038(0x7fd);case _0xa515c[_0x47f038(0x85b)]:return _0x47f038(0x938);case _0xa515c['WebScraper']:case _0xa515c[_0x47f038(0x4f9)]:return _0x47f038(0x750);case _0x52458b['GenerativeAIInferenceToolType'][_0x47f038(0x414)]:return _0x47f038(0x51f);case _0x52458b[_0x47f038(0x2a9)][_0x47f038(0x2d2)]:return _0x47f038(0xa18);case _0x52458b['GenerativeAIInferenceToolType'][_0x47f038(0x9bb)]:return _0x47f038(0xa2e);default:return'';}}[_0x4a13a(0x6ad)](_0x2bddbd){const _0x154c24=_0x4a13a;switch(_0x2bddbd[_0x154c24(0xbdd)]){case _0xa515c['Agent']:case _0xa515c[_0x154c24(0xbd5)]:case _0xa515c[_0x154c24(0xb9e)]:return[{'name':_0x154c24(0x3f8),'type':_0x154c24(0x924)}];case _0xa515c[_0x154c24(0x5ea)]:case _0xa515c['Knowledge']:return[{'name':_0x154c24(0xc28),'type':_0x154c24(0x924)}];case _0xa515c[_0x154c24(0x975)]:return _0x2bddbd[_0x154c24(0x6a8)][_0x154c24(0x275)](_0x1cc6a8=>({'name':_0x1cc6a8['name'],'type':_0x1cc6a8['type']??_0x154c24(0x924)}))??[];case _0xa515c['AiSearch']:return[{'name':_0x154c24(0x322),'type':_0x154c24(0x924)}];case _0xa515c[_0x154c24(0x75c)]:return[{'name':_0x154c24(0x6c2),'type':_0x154c24(0x924)}];case _0xa515c[_0x154c24(0x85b)]:return[{'name':_0x154c24(0x322),'type':_0x154c24(0x924)}];case _0xa515c[_0x154c24(0x4c7)]:case _0xa515c[_0x154c24(0x4f9)]:return[{'name':'url','type':_0x154c24(0x924)},{'name':'page','type':'number'}];case _0x52458b[_0x154c24(0x2a9)]['FormSkillGetQuestion']:return[];case _0x52458b[_0x154c24(0x2a9)][_0x154c24(0x2d2)]:return[{'name':'id','type':'string'},{'name':_0x154c24(0xc44),'type':'string'}];case _0x52458b['GenerativeAIInferenceToolType'][_0x154c24(0x9bb)]:default:return[];}}}class _0x20260e{[_0x4a13a(0x29b)];[_0x4a13a(0x5e9)];[_0x4a13a(0x9d8)]=new Map();[_0x4a13a(0x53b)]=new Map();[_0x4a13a(0x59e)]=new Map();[_0x4a13a(0x5dc)]=new Map();[_0x4a13a(0x399)]=new Map();[_0x4a13a(0x3ce)]=new Map();[_0x4a13a(0x9b1)]=new Map();[_0x4a13a(0x481)]=new Map();[_0x4a13a(0x299)]=new Map();[_0x4a13a(0x774)]=new Map();[_0x4a13a(0xad4)]=new Map();[_0x4a13a(0x91d)];constructor(_0x4c2fa1,_0x411380){const _0x4e2e7e=_0x4a13a;this[_0x4e2e7e(0x29b)]=_0x4c2fa1,this[_0x4e2e7e(0x5e9)]=_0x411380,this[_0x4e2e7e(0x91d)]=new _0x3c1e94(this['configs'][_0x4e2e7e(0x649)],this[_0x4e2e7e(0x29b)][_0x4e2e7e(0x88f)]);}[_0x4a13a(0x935)](_0x2c14cc=!0x1){const _0x27d996=_0x4a13a;this[_0x27d996(0x53b)]['forEach']((_0xa440a5,_0x532561)=>{const _0x663ff9=_0x27d996;_0xa440a5[_0x663ff9(0x761)]((_0x90a1d6,_0x2c3ceb)=>{this['removeRemoteMediaStream'](_0x532561,_0x2c3ceb);});}),_0x2c14cc||(_0x421389[_0x27d996(0xb0f)](),this[_0x27d996(0x9d8)][_0x27d996(0x761)]((_0x5cdf3b,_0x5880c7)=>{const _0x3ae0a0=_0x27d996;this[_0x3ae0a0(0x8d2)](_0x5880c7);}),this[_0x27d996(0x59e)]['forEach']((_0x1b0657,_0x35050e)=>{this['removePubSubTopic'](_0x35050e);}),this[_0x27d996(0x5dc)][_0x27d996(0x761)]((_0x830d19,_0x2506f1)=>{const _0x25e9c1=_0x27d996;this[_0x25e9c1(0x8bf)](_0x2506f1);}),this[_0x27d996(0x399)]['forEach']((_0x22574f,_0x23c40d)=>{const _0x4323b6=_0x27d996;this[_0x4323b6(0xb04)](_0x23c40d);}),this[_0x27d996(0x3ce)][_0x27d996(0x761)]((_0x5d5b1a,_0x55063d)=>{const _0x4fe1ab=_0x27d996;this[_0x4fe1ab(0x7ba)](_0x55063d);}),this[_0x27d996(0x299)][_0x27d996(0x761)]((_0x374255,_0x2c857a)=>{this['removeJobDispatcher'](_0x2c857a);}),this[_0x27d996(0x774)][_0x27d996(0x761)]((_0x244363,_0x100114)=>{const _0x299025=_0x27d996;this[_0x299025(0x350)](_0x100114);}),this[_0x27d996(0xad4)][_0x27d996(0x761)]((_0xe03cac,_0x408dd0)=>{const _0x2d6800=_0x27d996;this[_0x2d6800(0xba9)](_0x408dd0);}),this[_0x27d996(0x9b1)][_0x27d996(0x761)]((_0x4ba01f,_0x3565c4)=>{this['removeVectorDatabase'](_0x3565c4);}),this['graphDatabases']['forEach']((_0x1aa721,_0x199e6b)=>{const _0x1d8d40=_0x27d996;this[_0x1d8d40(0xa8a)](_0x199e6b);}));}[_0x4a13a(0x56a)](_0x28a8ea,_0x4ef54d,_0x77dbef){const _0xa4eeeb=_0x4a13a;if(this[_0xa4eeeb(0x5dc)][_0xa4eeeb(0x738)](_0x28a8ea))throw new _0x298b29(_0x404249['ObjectStoreAlreadyExists'],'Store\x20already\x20exists');const _0x3ccfd0=new _0xd0ec92(this['configs']['localNode'],_0x28a8ea,this[_0xa4eeeb(0x29b)][_0xa4eeeb(0x88f)],this[_0xa4eeeb(0x29b)]['vendorId'],this[_0xa4eeeb(0x91d)],_0x4ef54d,()=>this[_0xa4eeeb(0x29b)]['mediator'][_0xa4eeeb(0x210)](),_0x77dbef);return this[_0xa4eeeb(0x5dc)][_0xa4eeeb(0x2a7)](_0x28a8ea,_0x3ccfd0),this[_0xa4eeeb(0x29b)][_0xa4eeeb(0x83c)]['registerSystemSource'](_0x3ccfd0),_0x3ccfd0;}['createExternalStorageConnection'](_0x64510a,_0x50aa34){const _0x57c535=_0x4a13a;if(this[_0x57c535(0x5dc)][_0x57c535(0x738)](_0x64510a))throw new _0x298b29(_0x404249['ExternalStorageConnectionAlreadyExists'],_0x57c535(0x832));const _0x3ca475=new _0x1b18aa(this[_0x57c535(0x29b)][_0x57c535(0xc4d)],_0x64510a,this['configs']['clusterId'],this['configs']['vendorId'],_0x50aa34);return this[_0x57c535(0x399)][_0x57c535(0x2a7)](_0x64510a,_0x3ca475),this[_0x57c535(0x29b)][_0x57c535(0x83c)]['registerSystemSource'](_0x3ca475),_0x3ca475;}async['createKeyValueDatabase'](_0x574251,_0x5328b6,_0x621ecd){const _0x369903=_0x4a13a;if(this[_0x369903(0x3ce)]['has'](_0x574251))throw new _0x298b29(_0x404249[_0x369903(0x2e7)],_0x369903(0x7e2));try{const _0x49fc3d=this['configs'][_0x369903(0x83c)]['isNodeReady'][_0x369903(0x65d)](this[_0x369903(0x29b)][_0x369903(0x83c)]),_0x1e7a01=new _0x5d82a0(this['configs']['localNode'],_0x574251,this[_0x369903(0x29b)][_0x369903(0x88f)],this[_0x369903(0x29b)]['vendorId'],_0x5328b6,_0x621ecd,_0x49fc3d);return this['keyValueDatabases'][_0x369903(0x2a7)](_0x574251,_0x1e7a01),this[_0x369903(0x29b)]['mediator']['registerSystemSource'](_0x1e7a01),_0x1e7a01;}catch(_0x432923){if(_0x432923 instanceof _0x298b29)throw _0x432923;throw new _0x240123(_0x240123[_0x369903(0x2f7)][_0x369903(0x2bb)],{'label':_0x574251,'clusterId':this[_0x369903(0x29b)][_0x369903(0x88f)],'vendorId':this['configs'][_0x369903(0x649)]});}}async[_0x4a13a(0x8bc)](_0x17c05f,_0x55aa0c){const _0x2811f9=_0x4a13a;if(this[_0x2811f9(0x299)]['has'](_0x17c05f))throw new _0x298b29(_0x404249[_0x2811f9(0x942)],_0x2811f9(0xa21));try{const _0x467a63=new _0x58b8bf(this[_0x2811f9(0x29b)][_0x2811f9(0xc4d)],_0x17c05f,_0x55aa0c);return this[_0x2811f9(0x299)]['set'](_0x17c05f,_0x467a63),this[_0x2811f9(0x29b)][_0x2811f9(0x83c)]['registerSystemSource'](_0x467a63),_0x467a63;}catch(_0x232824){if(_0x232824 instanceof _0x298b29)throw _0x232824;throw new _0x240123(_0x240123['codes'][_0x2811f9(0x3e7)],{'label':_0x17c05f,'clusterId':this[_0x2811f9(0x29b)][_0x2811f9(0x88f)],'vendorId':this[_0x2811f9(0x29b)][_0x2811f9(0x649)]});}}async[_0x4a13a(0xa1c)](_0x20cab4,_0x594a3d){const _0x45b563=_0x4a13a;if(this[_0x45b563(0x299)][_0x45b563(0x738)](_0x20cab4))throw new _0x298b29(_0x404249[_0x45b563(0x9ae)],_0x45b563(0x5cb));if(this[_0x45b563(0x774)][_0x45b563(0x738)](_0x20cab4))throw new _0x298b29(_0x404249['GenerativeAILabelConflict'],_0x45b563(0x9d6));try{const _0x39db90=new _0x5b18f8(this[_0x45b563(0x29b)][_0x45b563(0xc4d)],_0x20cab4,this[_0x45b563(0x29b)][_0x45b563(0x649)],_0x594a3d);return this[_0x45b563(0x299)][_0x45b563(0x2a7)](_0x20cab4,_0x39db90),this['configs']['mediator'][_0x45b563(0x6b3)](_0x39db90),_0x39db90;}catch(_0x26dd6d){if(_0x26dd6d instanceof _0x298b29)throw _0x26dd6d;throw new _0x240123(_0x240123[_0x45b563(0x2f7)]['GenerativeAIContextCreationFailed'],{'label':_0x20cab4,'clusterId':this[_0x45b563(0x29b)][_0x45b563(0x88f)],'vendorId':this[_0x45b563(0x29b)]['vendorId']});}}async[_0x4a13a(0xae3)](_0x1606ca,_0x361bc9,_0x41e88b,_0x4d6242,_0x1e3c54,_0x57c50a,_0x2b2112,_0x229ae8,_0x53d64a,_0x5d5130,_0x30c49a,_0x172eed){const _0x8c3278=_0x4a13a;if(this[_0x8c3278(0xad4)][_0x8c3278(0x738)](_0x1606ca))throw new _0x298b29(_0x404249[_0x8c3278(0x9ae)],_0x8c3278(0x5cb));if(this[_0x8c3278(0x774)][_0x8c3278(0x738)](_0x1606ca))throw new _0x298b29(_0x404249[_0x8c3278(0x8e0)],_0x8c3278(0x9d6));try{const _0x549fed=new _0x4517c7(this[_0x8c3278(0x29b)][_0x8c3278(0xc4d)],_0x1606ca,this,_0x361bc9,_0x41e88b,_0x4d6242,_0x1e3c54,_0x57c50a,_0x2b2112,_0x229ae8,_0x53d64a,_0x5d5130,_0x30c49a,_0x172eed);return this[_0x8c3278(0xad4)]['set'](_0x1606ca,_0x549fed),this[_0x8c3278(0x29b)][_0x8c3278(0x83c)][_0x8c3278(0x6b3)](_0x549fed),_0x549fed;}catch(_0x5aae5f){if(_0x5aae5f instanceof _0x298b29)throw _0x5aae5f;throw new _0x240123(_0x240123[_0x8c3278(0x2f7)]['GenerativeAIContextCreationFailed'],{'label':_0x1606ca,'clusterId':this[_0x8c3278(0x29b)][_0x8c3278(0x88f)],'vendorId':this[_0x8c3278(0x29b)][_0x8c3278(0x649)]});}}async['createGenerativeAIWorker'](_0x30d33a,_0x433453,_0x335768,_0x5c0a29,_0x42fb08,_0x556fdd,_0x353be5,_0x2e5fc2,_0x47a932,_0x33b12c,_0x7fd05e,_0x537812,_0x44ff27){const _0x483cc=_0x4a13a;if(this[_0x483cc(0x774)]['has'](_0x30d33a))throw new _0x298b29(_0x404249['GenerativeAIWorkerAlreadyExists'],_0x483cc(0x629));if(this[_0x483cc(0x299)][_0x483cc(0x738)](_0x30d33a))throw new _0x298b29(_0x404249['GenerativeAILabelConflict'],_0x483cc(0x9d6));try{const _0x59eada=new _0x1d804b(this[_0x483cc(0x29b)][_0x483cc(0xc4d)],_0x30d33a,_0x433453,this,_0x335768,_0x5c0a29,_0x42fb08,_0x556fdd,_0x353be5,_0x2e5fc2,_0x47a932,_0x33b12c,_0x7fd05e,_0x537812,_0x44ff27);return this[_0x483cc(0x774)][_0x483cc(0x2a7)](_0x30d33a,_0x59eada),this[_0x483cc(0x29b)]['mediator'][_0x483cc(0x6b3)](_0x59eada),_0x59eada;}catch(_0x5caed7){if(_0x5caed7 instanceof _0x298b29)throw _0x5caed7;throw new _0x240123(_0x240123[_0x483cc(0x2f7)][_0x483cc(0x3ff)],{'label':_0x30d33a,'clusterId':this[_0x483cc(0x29b)][_0x483cc(0x88f)],'vendorId':this[_0x483cc(0x29b)][_0x483cc(0x649)]});}}[_0x4a13a(0x929)](_0x5e09fc,_0x2aba4e){const _0x3fe813=_0x4a13a;if(this[_0x3fe813(0x481)][_0x3fe813(0x738)](_0x5e09fc))throw new _0x298b29(_0x404249[_0x3fe813(0xa7a)],'Database\x20already\x20exists');try{const _0x5da786=new _0x4ad15c(this[_0x3fe813(0x29b)][_0x3fe813(0xc4d)],_0x5e09fc,this[_0x3fe813(0x29b)][_0x3fe813(0x88f)],this[_0x3fe813(0x29b)][_0x3fe813(0x649)],_0x2aba4e);return this['graphDatabases'][_0x3fe813(0x2a7)](_0x5e09fc,_0x5da786),this[_0x3fe813(0x29b)][_0x3fe813(0x83c)]['registerSystemSource'](_0x5da786),_0x5da786;}catch(_0x208384){if(_0x208384 instanceof _0x298b29)throw _0x208384;throw new _0x240123(_0x240123[_0x3fe813(0x2f7)][_0x3fe813(0x25a)],{'label':_0x5e09fc,'clusterId':this[_0x3fe813(0x29b)][_0x3fe813(0x88f)],'vendorId':this[_0x3fe813(0x29b)]['vendorId']});}}[_0x4a13a(0x2c2)](_0x4a5f1e,_0x10bf2b){const _0x82f456=_0x4a13a;if(this['localMediaStreams'][_0x82f456(0x738)](_0x4a5f1e))throw new _0x298b29(_0x404249[_0x82f456(0x588)],_0x82f456(0x986));if(!this['options'][_0x82f456(0x869)])throw new _0x298b29(_0x404249[_0x82f456(0x34a)],_0x82f456(0xb4e));const _0x46963c=new _0x1e4694(this['configs'][_0x82f456(0xc4d)],_0x4a5f1e,_0x10bf2b,this[_0x82f456(0x5e9)]['maxFps'],this[_0x82f456(0x5e9)][_0x82f456(0x869)],this[_0x82f456(0x29b)]['clusterId']);return this[_0x82f456(0x9d8)][_0x82f456(0x2a7)](_0x4a5f1e,_0x46963c),this[_0x82f456(0x29b)][_0x82f456(0x83c)][_0x82f456(0x6b3)](_0x46963c),_0x46963c[_0x82f456(0xa19)](),_0x46963c;}[_0x4a13a(0x638)](_0x354bd2,_0x70a433){const _0x3e4de3=_0x4a13a;if(this[_0x3e4de3(0x9d8)][_0x3e4de3(0x738)](_0x354bd2))throw new _0x298b29(_0x404249['LocalMediaStreamAlreadyExists'],_0x3e4de3(0x867));const _0x22ee9d=new _0x33e488(this[_0x3e4de3(0x29b)][_0x3e4de3(0xc4d)],_0x354bd2,_0x70a433,this[_0x3e4de3(0x29b)][_0x3e4de3(0x88f)]);return this[_0x3e4de3(0x9d8)]['set'](_0x354bd2,_0x22ee9d),this[_0x3e4de3(0x29b)]['mediator'][_0x3e4de3(0x6b3)](_0x22ee9d),_0x22ee9d[_0x3e4de3(0xa19)](),_0x22ee9d;}[_0x4a13a(0x594)](_0x143dc4){const _0x59856c=_0x4a13a;if(this[_0x59856c(0x59e)][_0x59856c(0x738)](_0x143dc4))throw new _0x298b29(_0x404249[_0x59856c(0x3ae)],_0x59856c(0x9ad));const _0x351d17=new _0x4da48e(this['configs'][_0x59856c(0xc4d)],_0x143dc4,this[_0x59856c(0x29b)][_0x59856c(0x88f)]);return this[_0x59856c(0x59e)][_0x59856c(0x2a7)](_0x143dc4,_0x351d17),this['configs'][_0x59856c(0x83c)][_0x59856c(0x6b3)](_0x351d17),_0x351d17;}[_0x4a13a(0xb52)](_0x55729b,_0x2d2ec8,_0x51266e,_0x3a1702){const _0xed827a=_0x4a13a;this['remoteMediaStreams']['has'](_0x55729b)||this[_0xed827a(0x53b)][_0xed827a(0x2a7)](_0x55729b,new Map());const _0x2fdf5a=this[_0xed827a(0x53b)][_0xed827a(0x68c)](_0x55729b);if(_0x2fdf5a[_0xed827a(0x738)](_0x2d2ec8))throw new _0x298b29(_0x404249['RemoteMediaStreamAlreadyExists'],_0xed827a(0x471));const _0x2cd152=new _0x28df1d(_0x55729b,'',''),_0x99d44c=new _0x239214(this[_0xed827a(0x29b)][_0xed827a(0xc4d)],_0x2cd152,_0x2d2ec8,_0x51266e,_0x3a1702,this[_0xed827a(0x29b)][_0xed827a(0x88f)]);return _0x2fdf5a[_0xed827a(0x2a7)](_0x2d2ec8,_0x99d44c),this['configs'][_0xed827a(0x83c)]['registerSystemSource'](_0x99d44c),_0x99d44c;}[_0x4a13a(0x662)](_0x4aef2e,_0x4d5ee5){const _0x1b9730=_0x4a13a;if(this['vectorDatabases'][_0x1b9730(0x738)](_0x4aef2e))throw new _0x298b29(_0x404249[_0x1b9730(0x5a7)],'Database\x20already\x20exists');try{const _0x3a46f3=new _0x348e60(this[_0x1b9730(0x29b)][_0x1b9730(0xc4d)],_0x4aef2e,this[_0x1b9730(0x29b)][_0x1b9730(0x88f)],this[_0x1b9730(0x29b)][_0x1b9730(0x649)],_0x4d5ee5);return this[_0x1b9730(0x9b1)][_0x1b9730(0x2a7)](_0x4aef2e,_0x3a46f3),this[_0x1b9730(0x29b)]['mediator']['registerSystemSource'](_0x3a46f3),_0x3a46f3;}catch(_0x328395){if(_0x328395 instanceof _0x298b29)throw _0x328395;throw new _0x240123(_0x240123['codes'][_0x1b9730(0x852)],{'label':_0x4aef2e,'clusterId':this['configs'][_0x1b9730(0x88f)],'vendorId':this[_0x1b9730(0x29b)]['vendorId']});}}['getObjectStoreBuckets'](_0x448174){const _0x569f4e=_0x4a13a,_0x54ea66=Array[_0x569f4e(0xad6)](this[_0x569f4e(0x5dc)][_0x569f4e(0x331)]());return _0x448174?_0x54ea66['filter'](_0x448174):_0x54ea66;}[_0x4a13a(0x569)](_0x2bbcc0){const _0x2c7198=_0x4a13a,_0x500fe3=Array[_0x2c7198(0xad6)](this['externalStorageConnections'][_0x2c7198(0x331)]());return _0x2bbcc0?_0x500fe3['filter'](_0x2bbcc0):_0x500fe3;}[_0x4a13a(0xb25)](_0x43e165){const _0x5d8ffc=_0x4a13a,_0x59fed8=Array[_0x5d8ffc(0xad6)](this[_0x5d8ffc(0x3ce)]['values']());return _0x43e165?_0x59fed8[_0x5d8ffc(0x675)](_0x43e165):_0x59fed8;}['getJobDispatchers'](_0x243fb3){const _0x105c2d=_0x4a13a,_0x5aea8c=Array[_0x105c2d(0xad6)](this[_0x105c2d(0x299)]['values']());return _0x243fb3?_0x5aea8c['filter'](_0x243fb3):_0x5aea8c;}[_0x4a13a(0x8c3)](_0xea2f23){const _0x2bad20=_0x4a13a,_0x158a9d=Array[_0x2bad20(0xad6)](this[_0x2bad20(0x774)][_0x2bad20(0x331)]());return _0xea2f23?_0x158a9d[_0x2bad20(0x675)](_0xea2f23):_0x158a9d;}[_0x4a13a(0x85a)](_0x3fa446){const _0x3c0760=_0x4a13a,_0x457428=Array[_0x3c0760(0xad6)](this[_0x3c0760(0x299)][_0x3c0760(0x331)]())['filter'](_0x2fa947=>_0x2fa947 instanceof _0x5b18f8);return _0x3fa446?_0x457428['filter'](_0x3fa446):_0x457428;}[_0x4a13a(0x504)](_0x33b10d){const _0x425e22=Array['from'](this['generativeAIContexts']['values']());return _0x33b10d?_0x425e22['filter'](_0x33b10d):_0x425e22;}['getGenerativeAIWorkers'](_0xdf100e){const _0xa86c86=_0x4a13a,_0xc9d19e=Array[_0xa86c86(0xad6)](this[_0xa86c86(0x774)]['values']())[_0xa86c86(0x675)](_0x29cef4=>_0x29cef4 instanceof _0x1d804b);return _0xdf100e?_0xc9d19e[_0xa86c86(0x675)](_0xdf100e):_0xc9d19e;}['getGraphDatabases'](_0x26b6f3){const _0x88181a=_0x4a13a,_0x3ff733=Array[_0x88181a(0xad6)](this[_0x88181a(0x481)][_0x88181a(0x331)]());return _0x26b6f3?_0x3ff733[_0x88181a(0x675)](_0x26b6f3):_0x3ff733;}[_0x4a13a(0x587)](_0xee4158){const _0x1151ff=_0x4a13a,_0x3d175e=Array[_0x1151ff(0xad6)](this[_0x1151ff(0x9d8)][_0x1151ff(0x331)]());return _0xee4158?_0x3d175e[_0x1151ff(0x675)](_0xee4158):_0x3d175e;}[_0x4a13a(0x29e)](_0x15ec1b){const _0x4152bc=_0x4a13a,_0xd65c79=Array[_0x4152bc(0xad6)](this[_0x4152bc(0x59e)][_0x4152bc(0x331)]());return _0x15ec1b?_0xd65c79[_0x4152bc(0x675)](_0x15ec1b):_0xd65c79;}[_0x4a13a(0x264)](_0x2ca748){const _0x2fd330=_0x4a13a,_0x6fe6c7=Array['from'](this[_0x2fd330(0x53b)][_0x2fd330(0x331)]())['reduce']((_0x478d96,_0x41b45f)=>[..._0x478d96,...Array[_0x2fd330(0xad6)](_0x41b45f['values']())],[]);return _0x2ca748?_0x6fe6c7[_0x2fd330(0x675)](_0x2ca748):_0x6fe6c7;}[_0x4a13a(0x27e)](_0x11c513){const _0x308a82=_0x4a13a,_0x160bd9=Array[_0x308a82(0xad6)](this[_0x308a82(0x9b1)][_0x308a82(0x331)]());return _0x11c513?_0x160bd9[_0x308a82(0x675)](_0x11c513):_0x160bd9;}[_0x4a13a(0xaac)](_0x517af2){const _0x4ae475=_0x4a13a,_0x10b8bd=this[_0x4ae475(0x5dc)][_0x4ae475(0x68c)](_0x517af2);if(!_0x10b8bd)throw new _0x298b29(_0x404249[_0x4ae475(0xac2)],_0x4ae475(0xa62));return _0x10b8bd;}[_0x4a13a(0x3a1)](_0x49b122){const _0x14b166=_0x4a13a,_0x1dc17b=_0x49b122[_0x14b166(0x3ca)]('-'),_0x34303e=this[_0x14b166(0x399)][_0x14b166(0x68c)](_0x1dc17b[0x1]);if(!_0x34303e)throw new _0x298b29(_0x404249[_0x14b166(0x58d)],'ExternalStorageConnection\x20not\x20found');return _0x34303e;}['getGraphDatabase'](_0xb0efd1){const _0x2e2f90=_0x4a13a,_0x2f85d0=this[_0x2e2f90(0x481)][_0x2e2f90(0x68c)](_0xb0efd1);if(!_0x2f85d0)throw new _0x298b29(_0x404249[_0x2e2f90(0x274)],_0x2e2f90(0x6d3));return _0x2f85d0;}[_0x4a13a(0xa32)](_0x57ee11){const _0x12ef0c=_0x4a13a,_0x6da1c4=this[_0x12ef0c(0x3ce)][_0x12ef0c(0x68c)](_0x57ee11);if(!_0x6da1c4)throw new _0x298b29(_0x404249[_0x12ef0c(0x48a)],'KeyValueDatabase\x20not\x20found');return _0x6da1c4;}[_0x4a13a(0x22d)](_0xaeef36){const _0x22f752=_0x4a13a,_0x36e2ec=this[_0x22f752(0x59e)]['get'](_0xaeef36);if(!_0x36e2ec)throw new _0x298b29(_0x404249['PubSubTopicDoesNotExist'],'PubSubTopic\x20not\x20found');return _0x36e2ec;}[_0x4a13a(0x344)](_0x27dac1){const _0x23c351=_0x4a13a,_0x384651=this['vectorDatabases'][_0x23c351(0x68c)](_0x27dac1);if(!_0x384651)throw new _0x298b29(_0x404249[_0x23c351(0xb2c)],'VectorDatabase\x20not\x20found');return _0x384651;}[_0x4a13a(0xa48)](_0xa7dc74){const _0x3dc228=_0x4a13a;switch(_0xa7dc74[_0x3dc228(0x816)][_0x3dc228(0xbdd)]){case _0x1c17a1[_0x3dc228(0x861)]:this[_0x3dc228(0xa8d)](_0xa7dc74['content']);break;case _0x1c17a1[_0x3dc228(0x577)]:this[_0x3dc228(0x21c)](_0xa7dc74[_0x3dc228(0x816)]);break;case _0x1c17a1[_0x3dc228(0xb44)]:this[_0x3dc228(0x702)](_0xa7dc74[_0x3dc228(0x816)]['label']);break;case _0x1c17a1[_0x3dc228(0x1ed)]:this['removeJobWorker'](_0xa7dc74['content'][_0x3dc228(0xaed)]);break;case _0x1c17a1[_0x3dc228(0x98d)]:this[_0x3dc228(0xba9)](_0xa7dc74[_0x3dc228(0x816)][_0x3dc228(0xaed)]);break;case _0x1c17a1[_0x3dc228(0xb38)]:this[_0x3dc228(0x8d2)](_0xa7dc74[_0x3dc228(0x816)][_0x3dc228(0xaed)]);break;case _0x1c17a1[_0x3dc228(0x819)]:this[_0x3dc228(0xb61)](_0xa7dc74['content'][_0x3dc228(0xaed)]);break;case _0x1c17a1['CloseObjectStoreBucket']:this[_0x3dc228(0x8bf)](_0xa7dc74[_0x3dc228(0x816)]['label']);break;case _0x1c17a1[_0x3dc228(0x39f)]:this[_0x3dc228(0xb04)](_0xa7dc74[_0x3dc228(0x816)][_0x3dc228(0xaed)]);break;case _0x1c17a1[_0x3dc228(0x70f)]:this[_0x3dc228(0x7ba)](_0xa7dc74[_0x3dc228(0x816)][_0x3dc228(0xaed)]);break;case _0x1c17a1[_0x3dc228(0x23e)]:this[_0x3dc228(0x8f6)](_0xa7dc74['content'][_0x3dc228(0xaed)]);break;case _0x1c17a1[_0x3dc228(0x473)]:this[_0x3dc228(0xa8a)](_0xa7dc74[_0x3dc228(0x816)][_0x3dc228(0xaed)]);break;case _0x1c17a1[_0x3dc228(0x7e3)]:this[_0x3dc228(0x97d)](_0xa7dc74[_0x3dc228(0x816)]);break;case _0x1c17a1[_0x3dc228(0xbb2)]:this[_0x3dc228(0x3ce)]['get'](_0xa7dc74['content'][_0x3dc228(0xaed)])?.[_0x3dc228(0x725)](_0xa7dc74[_0x3dc228(0x8f9)],_0xa7dc74[_0x3dc228(0x816)][_0x3dc228(0xa92)]);break;case _0x1c17a1[_0x3dc228(0x6bf)]:this['keyValueDatabases'][_0x3dc228(0x68c)](_0xa7dc74[_0x3dc228(0x816)][_0x3dc228(0xaed)])?.['processContentSynchronized'](_0xa7dc74[_0x3dc228(0x8f9)],_0xa7dc74['content'][_0x3dc228(0xa92)]);break;case _0x1c17a1[_0x3dc228(0xa5c)]:this['keyValueDatabases']['get'](_0xa7dc74[_0x3dc228(0x816)][_0x3dc228(0xaed)])?.[_0x3dc228(0x3cb)](_0xa7dc74[_0x3dc228(0x8f9)],_0xa7dc74[_0x3dc228(0x816)][_0x3dc228(0x930)]);break;case _0x1c17a1[_0x3dc228(0x71e)]:this['keyValueDatabases'][_0x3dc228(0x68c)](_0xa7dc74[_0x3dc228(0x816)]['label'])?.[_0x3dc228(0x61c)](_0xa7dc74[_0x3dc228(0x8f9)],_0xa7dc74['content'][_0x3dc228(0x630)]);break;case _0x1c17a1['KeyValueDatabaseRequestTransactionsValue']:this[_0x3dc228(0x3ce)][_0x3dc228(0x68c)](_0xa7dc74[_0x3dc228(0x816)][_0x3dc228(0xaed)])?.['sendTransactionsValue'](_0xa7dc74[_0x3dc228(0x8f9)],_0xa7dc74[_0x3dc228(0x816)][_0x3dc228(0x72a)]);break;case _0x1c17a1[_0x3dc228(0x86b)]:this['keyValueDatabases'][_0x3dc228(0x68c)](_0xa7dc74['content'][_0x3dc228(0xaed)])?.['processReceivedTransactions'](_0xa7dc74['sourceId'],_0xa7dc74[_0x3dc228(0x816)]['transactions']);break;case _0x1c17a1[_0x3dc228(0x617)]:this[_0x3dc228(0x29b)][_0x3dc228(0x83c)]['notifyCluster'](_0x3dc228(0x897),{'label':_0xa7dc74['content']['label'],'trackKinds':_0xa7dc74['content'][_0x3dc228(0xb8c)]});}}[_0x4a13a(0x713)]({content:_0x1f2ebf}){const _0x16a174=_0x4a13a;switch(_0x1f2ebf['type']){case _0x37fe92['NodeJoin']:this['handleNodeJoinNeedPublishedStream'](_0x1f2ebf),this[_0x16a174(0x8b1)](_0x1f2ebf);break;case _0x37fe92['NodeLeave']:this[_0x16a174(0x3b2)](_0x1f2ebf),this[_0x16a174(0x8d5)](_0x1f2ebf);}}[_0x4a13a(0x1e3)](_0x298714){const _0x14d723=_0x4a13a;switch(_0x298714[_0x14d723(0x816)][_0x14d723(0xbdd)]){case _0x141a98[_0x14d723(0xb12)]:this[_0x14d723(0x4a1)](_0x298714[_0x14d723(0x8f9)],_0x298714[_0x14d723(0x816)]);break;case _0x141a98['UpdateMediaStream']:this[_0x14d723(0x56c)](_0x298714[_0x14d723(0x8f9)],_0x298714[_0x14d723(0x816)]);break;case _0x141a98[_0x14d723(0x7e3)]:this[_0x14d723(0x1ee)](_0x298714[_0x14d723(0x8f9)],_0x298714[_0x14d723(0x816)]);}}[_0x4a13a(0x97d)](_0x546619){const _0x5f5676=_0x4a13a;if(0x0===_0x546619[_0x5f5676(0x5d8)])this['remoteMediaStreams'][_0x5f5676(0x68c)](_0x546619[_0x5f5676(0x3ec)])?.[_0x5f5676(0x68c)](_0x546619['label'])?.[_0x5f5676(0x888)]();else{const _0x268a40=this[_0x5f5676(0x53b)][_0x5f5676(0x68c)](_0x546619['ownerId'])?.[_0x5f5676(0x68c)](_0x546619[_0x5f5676(0xaed)]);if(!_0x268a40)return;_0x546619[_0x5f5676(0xb8c)][_0x5f5676(0x761)](_0x24b8fa=>_0x268a40[_0x5f5676(0xa5d)](_0x24b8fa));}}['handlePublishMediaStream'](_0x58f817){const _0xbec35c=_0x4a13a,{label:_0x205e61,ownerId:_0x49cc0e,stream:{streamId:_0x208ecf,availableTrackKinds:_0x3cf1d1}}=_0x58f817;if(this[_0xbec35c(0x53b)][_0xbec35c(0x68c)](_0x49cc0e)?.[_0xbec35c(0x738)](_0x205e61))return void _0x260a6c[_0xbec35c(0x8b9)](_0x2e74f6['Content'],_0xbec35c(0x867),_0x208ecf);const _0x5e4a4b=this[_0xbec35c(0xb52)](_0x49cc0e,_0x205e61,_0x208ecf,_0x3cf1d1);this['configs'][_0xbec35c(0x83c)][_0xbec35c(0xae0)](_0xbec35c(0x3b7),{'ownerId':_0x49cc0e,'stream':_0x5e4a4b});}['handleUnpublishMediaStream']({ownerId:_0x1051ad,label:_0x15cf35}){const _0x4d897b=_0x4a13a;this['removeRemoteMediaStream'](_0x1051ad,_0x15cf35),this[_0x4d897b(0x29b)][_0x4d897b(0x83c)][_0x4d897b(0xae0)]('content-unpublish-media',{'ownerId':_0x1051ad,'label':_0x15cf35});}[_0x4a13a(0x4a1)](_0x42fb96,_0x1ef991){const _0x4e9ef1=_0x4a13a,{ownerId:_0x1c95ee,label:_0x437693}=_0x1ef991;let _0x376bb8;_0x376bb8=_0x1c95ee!==this[_0x4e9ef1(0x29b)][_0x4e9ef1(0xc4d)]['getId']()?this[_0x4e9ef1(0x53b)][_0x4e9ef1(0x68c)](_0x1c95ee)[_0x4e9ef1(0x68c)](_0x437693):this['localMediaStreams'][_0x4e9ef1(0x68c)](_0x437693),_0x376bb8[_0x4e9ef1(0x92d)](_0x42fb96,_0x1ef991[_0x4e9ef1(0xbe8)])[_0x4e9ef1(0x7a8)](_0x1ef991,_0x376bb8[_0x4e9ef1(0xaa5)]());}[_0x4a13a(0x56c)](_0x1ffc75,_0x365b9){const _0x27f000=_0x4a13a,{ownerId:_0x354809,label:_0x20b885}=_0x365b9;let _0xf84947;_0xf84947=_0x354809!==this[_0x27f000(0x29b)][_0x27f000(0xc4d)]['getId']()?this['remoteMediaStreams'][_0x27f000(0x68c)](_0x354809)[_0x27f000(0x68c)](_0x20b885):this[_0x27f000(0x9d8)][_0x27f000(0x68c)](_0x20b885),_0xf84947[_0x27f000(0x92d)](_0x1ffc75,_0x365b9['params'])[_0x27f000(0xb4b)](_0x365b9);}[_0x4a13a(0x1ee)](_0xc7e042,_0x2ba8a1){const _0x4ea781=_0x4a13a,{ownerId:_0x48ebde,label:_0x5264e4}=_0x2ba8a1;let _0x13cccc;_0x13cccc=_0x48ebde!==this[_0x4ea781(0x29b)]['localNode']['getId']()?this[_0x4ea781(0x53b)][_0x4ea781(0x68c)](_0x48ebde)['get'](_0x5264e4):this[_0x4ea781(0x9d8)][_0x4ea781(0x68c)](_0x5264e4),_0x13cccc[_0x4ea781(0x92d)](_0xc7e042)[_0x4ea781(0x3bf)](_0x2ba8a1);}[_0x4a13a(0x5b3)]({id:_0x36124f}){const _0x1dc908=_0x4a13a;this[_0x1dc908(0x587)]()[_0x1dc908(0x761)](_0x8efbd4=>{const _0x4e8035=_0x1dc908;_0x8efbd4[_0x4e8035(0xa19)](_0x36124f);});}[_0x4a13a(0x3b2)]({id:_0x17cc0d}){const _0x202e8a=_0x4a13a;this[_0x202e8a(0x264)](_0x58ba76=>_0x58ba76[_0x202e8a(0x742)]()===_0x17cc0d)[_0x202e8a(0x761)](_0x161c0f=>{const _0x45e572=_0x202e8a;this[_0x45e572(0x86e)](_0x161c0f[_0x45e572(0x742)](),_0x161c0f[_0x45e572(0x287)]());});}[_0x4a13a(0x8b1)]({id:_0x260497}){const _0x7ecf76=_0x4a13a;this[_0x7ecf76(0x5dc)][_0x7ecf76(0x761)](_0x1fb01a=>_0x1fb01a[_0x7ecf76(0x670)](_0x260497));}[_0x4a13a(0x8d5)]({id:_0x21b75b}){const _0x21c257=_0x4a13a;this[_0x21c257(0x5dc)][_0x21c257(0x761)](_0x4ed747=>_0x4ed747[_0x21c257(0x3b2)](_0x21b75b));}[_0x4a13a(0x702)](_0x174cb4){const _0x1b297d=_0x4a13a;if(!this[_0x1b297d(0x299)][_0x1b297d(0x738)](_0x174cb4))throw new _0x298b29(_0x404249[_0x1b297d(0x69e)],_0x1b297d(0x5d3));const _0x4c7356=this['jobDispatchers'][_0x1b297d(0x68c)](_0x174cb4);this[_0x1b297d(0x299)][_0x1b297d(0xb18)](_0x174cb4),_0x4c7356[_0x1b297d(0x888)](),this[_0x1b297d(0x29b)][_0x1b297d(0x83c)][_0x1b297d(0x241)](_0x4c7356);}[_0x4a13a(0x350)](_0x39fcfb){const _0x57e5de=_0x4a13a;if(!this[_0x57e5de(0x774)][_0x57e5de(0x738)](_0x39fcfb))throw new _0x298b29(_0x404249['JobWorkerDoesNotExist'],_0x57e5de(0xb29));const _0x28345d=this[_0x57e5de(0x774)][_0x57e5de(0x68c)](_0x39fcfb);this[_0x57e5de(0x774)][_0x57e5de(0xb18)](_0x39fcfb),_0x28345d[_0x57e5de(0x888)](),this['configs'][_0x57e5de(0x83c)][_0x57e5de(0x241)](_0x28345d);}[_0x4a13a(0xba9)](_0x44cfd7){const _0x33f032=_0x4a13a;if(!this['generativeAIContexts'][_0x33f032(0x738)](_0x44cfd7))throw new _0x298b29(_0x404249[_0x33f032(0x419)],_0x33f032(0x1e6));const _0x39d18c=this[_0x33f032(0xad4)]['get'](_0x44cfd7);this['generativeAIContexts']['delete'](_0x44cfd7),this['configs']['mediator']['unregisterSystemSource'](_0x39d18c);}[_0x4a13a(0x8bf)](_0x35a929){const _0x426d6c=_0x4a13a;if(!this[_0x426d6c(0x5dc)]['has'](_0x35a929))throw new _0x298b29(_0x404249[_0x426d6c(0xac2)],_0x426d6c(0x89e));const _0x356026=this[_0x426d6c(0x5dc)]['get'](_0x35a929);this[_0x426d6c(0x5dc)][_0x426d6c(0xb18)](_0x35a929),_0x356026[_0x426d6c(0x888)](),this[_0x426d6c(0x29b)][_0x426d6c(0x83c)][_0x426d6c(0x241)](_0x356026);}['removeExternalStorageConnection'](_0x56035e){const _0x191ab8=_0x4a13a;if(!this[_0x191ab8(0x399)][_0x191ab8(0x738)](_0x56035e))throw new _0x298b29(_0x404249['ExternalStorageConnectionDoesNotExist'],_0x191ab8(0x5f1));const _0x188d48=this['externalStorageConnections'][_0x191ab8(0x68c)](_0x56035e);this[_0x191ab8(0x399)][_0x191ab8(0xb18)](_0x56035e),_0x188d48['destroy'](),this[_0x191ab8(0x29b)][_0x191ab8(0x83c)][_0x191ab8(0x241)](_0x188d48);}['removePubSubTopic'](_0x5b0053){const _0x29a119=_0x4a13a;if(!this['pubSubTopics'][_0x29a119(0x738)](_0x5b0053))throw new _0x298b29(_0x404249[_0x29a119(0x26e)],'Stream\x20does\x20not\x20exist');const _0x48184a=this['pubSubTopics']['get'](_0x5b0053);this['pubSubTopics'][_0x29a119(0xb18)](_0x5b0053),_0x48184a[_0x29a119(0x888)](),this[_0x29a119(0x29b)]['mediator'][_0x29a119(0x241)](_0x48184a);}[_0x4a13a(0x7ba)](_0x31cc88){const _0x3e6a84=_0x4a13a;if(!this[_0x3e6a84(0x3ce)][_0x3e6a84(0x738)](_0x31cc88))throw new _0x298b29(_0x404249[_0x3e6a84(0x48a)],_0x3e6a84(0xa73));const _0x526248=this[_0x3e6a84(0x3ce)]['get'](_0x31cc88);this['keyValueDatabases'][_0x3e6a84(0xb18)](_0x31cc88),_0x526248[_0x3e6a84(0x888)](),this[_0x3e6a84(0x29b)][_0x3e6a84(0x83c)][_0x3e6a84(0x241)](_0x526248);}[_0x4a13a(0x8f6)](_0x1055de){const _0x3d0d3d=_0x4a13a;if(!this[_0x3d0d3d(0x9b1)][_0x3d0d3d(0x738)](_0x1055de))throw new _0x298b29(_0x404249[_0x3d0d3d(0xb2c)],'Database\x20does\x20not\x20exist');const _0x1cbffe=this['vectorDatabases'][_0x3d0d3d(0x68c)](_0x1055de);this[_0x3d0d3d(0x9b1)][_0x3d0d3d(0xb18)](_0x1055de),_0x1cbffe[_0x3d0d3d(0x888)](),this['configs'][_0x3d0d3d(0x83c)][_0x3d0d3d(0x241)](_0x1cbffe);}[_0x4a13a(0xa8a)](_0x4af608){const _0x590b14=_0x4a13a;if(!this[_0x590b14(0x481)]['has'](_0x4af608))throw new _0x298b29(_0x404249[_0x590b14(0x274)],_0x590b14(0xa73));const _0x3b3246=this[_0x590b14(0x481)][_0x590b14(0x68c)](_0x4af608);this[_0x590b14(0x481)][_0x590b14(0xb18)](_0x4af608),_0x3b3246[_0x590b14(0x888)](),this[_0x590b14(0x29b)][_0x590b14(0x83c)][_0x590b14(0x241)](_0x3b3246);}['removeLocalMediaStream'](_0x6c2354){const _0x2e3fdd=_0x4a13a;if(!this[_0x2e3fdd(0x9d8)][_0x2e3fdd(0x738)](_0x6c2354))throw new _0x240123(_0x240123[_0x2e3fdd(0x2f7)]['LocalMediaStreamDoesNotExist'],{'label':_0x6c2354,'localId':this[_0x2e3fdd(0x29b)]['localNode']['getId']()});const _0x332037=this[_0x2e3fdd(0x9d8)][_0x2e3fdd(0x68c)](_0x6c2354);this[_0x2e3fdd(0x29b)][_0x2e3fdd(0x83c)][_0x2e3fdd(0x241)](_0x332037),_0x332037['destroy'](),this[_0x2e3fdd(0x9d8)]['delete'](_0x6c2354);}[_0x4a13a(0x86e)](_0x271c5a,_0x3bac91){const _0x91c18f=_0x4a13a;if(!this[_0x91c18f(0x53b)]['has'](_0x271c5a))throw new _0x240123(_0x240123['codes'][_0x91c18f(0xc14)],{'nodeId':_0x271c5a,'localId':this[_0x91c18f(0x29b)][_0x91c18f(0xc4d)][_0x91c18f(0xa47)]()});const _0x57c221=this[_0x91c18f(0x53b)][_0x91c18f(0x68c)](_0x271c5a);if(!_0x57c221['has'](_0x3bac91))throw new _0x240123(_0x240123[_0x91c18f(0x2f7)][_0x91c18f(0x429)],{'nodeId':_0x271c5a,'label':_0x3bac91,'localId':this[_0x91c18f(0x29b)][_0x91c18f(0xc4d)][_0x91c18f(0xa47)]()});const _0x4f2711=_0x57c221['get'](_0x3bac91);this[_0x91c18f(0x29b)]['mediator'][_0x91c18f(0x241)](_0x4f2711),_0x4f2711[_0x91c18f(0x888)](),_0x57c221[_0x91c18f(0xb18)](_0x3bac91);}}var _0x455461,_0x314689,_0xbea8f3;!function(_0x3344fe){const _0x109cc9=_0x4a13a;_0x3344fe[_0x109cc9(0x5ff)]=_0x109cc9(0x1f7),_0x3344fe[_0x109cc9(0x41c)]='dt_volatility',_0x3344fe[_0x109cc9(0x513)]=_0x109cc9(0xb95),_0x3344fe[_0x109cc9(0xbe4)]='bitrate',_0x3344fe['Jitter']=_0x109cc9(0x5df),_0x3344fe[_0x109cc9(0x3c7)]=_0x109cc9(0x4f4),_0x3344fe[_0x109cc9(0x943)]=_0x109cc9(0x28c),_0x3344fe[_0x109cc9(0x648)]=_0x109cc9(0x8f7);}(_0x455461||(_0x455461={})),function(_0x1caedc){const _0x71d7c0=_0x4a13a;_0x1caedc['CPUCycle']=_0x71d7c0(0x533),_0x1caedc[_0x71d7c0(0x513)]=_0x71d7c0(0x58f),_0x1caedc['AudioVideoDelay']=_0x71d7c0(0x9c6),_0x1caedc[_0x71d7c0(0x3c7)]='cpu.fps',_0x1caedc['Bitrate']=_0x71d7c0(0x435),_0x1caedc['Jitter']=_0x71d7c0(0x89c),_0x1caedc[_0x71d7c0(0x943)]='bandwidth.rtt';}(_0x314689||(_0x314689={})),function(_0x2163ba){const _0x23084e=_0x4a13a;_0x2163ba[_0x2163ba[_0x23084e(0x753)]=0x0]='Problem';}(_0xbea8f3||(_0xbea8f3={}));const _0x317e10=[{'type':_0x455461[_0x4a13a(0x5ff)],'reportMetric':_0x3b8049=>_0x3b8049[_0x4a13a(0x5ff)],'maxThreshold':2.5},{'type':_0x455461[_0x4a13a(0x41c)],'reportMetric':_0x1ab669=>_0x1ab669[_0x4a13a(0x41c)],'maxThreshold':0.5}],_0x1ba93f=[{'type':_0x455461[_0x4a13a(0x513)],'reportMetric':_0x2dbdca=>{const _0x2e2dbb=_0x4a13a,_0x50a1ba=0x3e8/_0x2dbdca[_0x2e2dbb(0xa7b)];return _0x2dbdca['timePerFrame']/_0x50a1ba;},'maxThreshold':0.75},{'type':_0x455461[_0x4a13a(0xbe4)],'reportMetric':_0x4bd8ca=>{const _0x5e4ca4=_0x4a13a,_0x477aa8=_0x4bd8ca['FPS']*_0x4bd8ca[_0x5e4ca4(0x650)]*_0x4bd8ca['frameHeight']*0.12;return _0x4bd8ca[_0x5e4ca4(0x415)]/_0x477aa8;},'minThreshold':0.25},{'type':_0x455461[_0x4a13a(0x7bb)],'reportMetric':_0x54650b=>_0x54650b[_0x4a13a(0x5df)],'maxThreshold':0.6},{'type':_0x455461[_0x4a13a(0x3c7)],'reportMetric':_0xbc41e4=>_0xbc41e4[_0x4a13a(0xa7b)],'minThreshold':0xa}],_0x398e8b=[{'type':_0x455461[_0x4a13a(0x7bb)],'reportMetric':_0x4ea503=>_0x4ea503[_0x4a13a(0x5df)],'maxThreshold':0.6}],_0x37ec65=[{'type':_0x455461['RoundTripTime'],'reportMetric':_0xf7f44a=>_0xf7f44a['roundTripTime'],'maxThreshold':0x1/0x0}],_0x4772d9=[{'type':_0x455461[_0x4a13a(0x648)],'reportMetric':_0x24c4a9=>_0x24c4a9['AudioVideoDelay'],'maxThreshold':0x12c}],_0x383891=[{'type':_0x314689[_0x4a13a(0x815)],'issues':[{'type':_0x455461[_0x4a13a(0x5ff)],'threshold':0x5},{'type':_0x455461['DTVolatility'],'threshold':0x5}]},{'type':_0x314689[_0x4a13a(0x513)],'issues':[{'type':_0x455461[_0x4a13a(0x513)],'threshold':0x3}]},{'type':_0x314689[_0x4a13a(0x648)],'issues':[{'type':_0x455461[_0x4a13a(0x648)],'threshold':0x2}]},{'type':_0x314689[_0x4a13a(0x3c7)],'issues':[{'type':_0x455461[_0x4a13a(0x3c7)],'threshold':0x3}]},{'type':_0x314689[_0x4a13a(0xbe4)],'issues':[{'type':_0x455461[_0x4a13a(0xbe4)],'threshold':0x3}]},{'type':_0x314689[_0x4a13a(0x7bb)],'issues':[{'type':_0x455461['Jitter'],'threshold':0x3}]},{'type':_0x314689[_0x4a13a(0x943)],'issues':[{'type':_0x455461['RoundTripTime'],'threshold':0x3}]}];var _0x13ab64,_0x156a99;!function(_0x55750f){const _0x22edb3=_0x4a13a;_0x55750f[_0x55750f[_0x22edb3(0x586)]=0x0]=_0x22edb3(0x586),_0x55750f[_0x55750f[_0x22edb3(0x71b)]=0x1]=_0x22edb3(0x71b);}(_0x13ab64||(_0x13ab64={}));class _0x1fb5fe{[_0x4a13a(0x29b)];[_0x4a13a(0xb22)]=[];[_0x4a13a(0x525)];constructor(_0x253826){const _0x3429a6=_0x4a13a;this[_0x3429a6(0x29b)]=_0x253826,this[_0x3429a6(0x29b)]['mediator'][_0x3429a6(0x6b3)](this);}['registerSystemPublisher'](_0xee95f4){const _0x26f970=_0x4a13a;this[_0x26f970(0x525)]=_0xee95f4;}['unregisterSystemPublisher'](){const _0xeccfb4=_0x4a13a;this[_0xeccfb4(0x525)]=void 0x0;}['close'](){const _0x292288=_0x4a13a;this[_0x292288(0x29b)][_0x292288(0x83c)]['unregisterSystemSource'](this),this['issues']=[];}[_0x4a13a(0x6c3)](_0x272825){const _0x1a2b8d=_0x4a13a;switch(_0x272825['content'][_0x1a2b8d(0xbdd)]){case _0x13ab64[_0x1a2b8d(0x71b)]:this[_0x1a2b8d(0x68d)](_0x272825[_0x1a2b8d(0x816)][_0x1a2b8d(0x728)]);break;case _0x13ab64[_0x1a2b8d(0x586)]:this['detectStreamIssues'](_0x272825[_0x1a2b8d(0x816)][_0x1a2b8d(0x728)]);}}[_0x4a13a(0x91e)](_0x5231b6,_0xdcaadb,_0x1724ac,_0x386a10){const _0x3e529e=_0x4a13a,_0x218af7=_0x383891['find'](_0x1c4e4a=>_0x1c4e4a['issues'][_0x3e529e(0x427)](_0x137508=>_0x137508[_0x3e529e(0xbdd)]===_0x5231b6));_0x386a10>=_0x218af7['issues'][_0x3e529e(0x319)](_0x1c1017=>_0x1c1017[_0x3e529e(0xbdd)]===_0x5231b6)[_0x3e529e(0x945)]&&(this[_0x3e529e(0xac4)](_0x218af7['type'],_0xdcaadb,_0x1724ac),this[_0x3e529e(0xb22)]=this['issues'][_0x3e529e(0x675)](_0x1ef0e9=>!(_0x1ef0e9[_0x3e529e(0xbdd)]===_0x5231b6&&_0x1ef0e9[_0x3e529e(0xb8b)]===_0xdcaadb&&_0x1ef0e9[_0x3e529e(0x721)]===_0x1724ac)));}[_0x4a13a(0x68d)](_0x53494d){const _0x49ad8b=_0x4a13a;_0x317e10[_0x49ad8b(0x761)](_0x47d34a=>{const _0xdd568e=_0x49ad8b,_0x96f060=_0x47d34a[_0xdd568e(0x432)](_0x53494d);_0x47d34a[_0xdd568e(0x4ed)]&&_0x96f060>_0x47d34a[_0xdd568e(0x4ed)]&&this['addIssue'](_0x47d34a['type'],this[_0xdd568e(0x29b)][_0xdd568e(0xc4d)][_0xdd568e(0xa47)](),_0x250b13[_0xdd568e(0x33f)],_0x96f060),_0x47d34a[_0xdd568e(0x6c9)]&&_0x96f060<_0x47d34a[_0xdd568e(0x6c9)]&&this['addIssue'](_0x47d34a['type'],this[_0xdd568e(0x29b)][_0xdd568e(0xc4d)]['getId'](),_0x250b13[_0xdd568e(0x33f)],_0x96f060);});}[_0x4a13a(0x421)](_0x161432){const _0x45d6f9=_0x4a13a;let _0x36b3c5=[];switch(_0x161432[_0x45d6f9(0x721)]){case _0x250b13['Sender']:_0x36b3c5=_0x37ec65;break;case _0x250b13[_0x45d6f9(0x2aa)]:_0x36b3c5=_0x4772d9;}_0x161432[_0x45d6f9(0x1f6)]&&this[_0x45d6f9(0x4d2)](_0x161432[_0x45d6f9(0xb8b)],_0x250b13[_0x45d6f9(0x33f)],_0x161432[_0x45d6f9(0x1f6)]),_0x161432[_0x45d6f9(0x39c)]&&this[_0x45d6f9(0x488)](_0x161432[_0x45d6f9(0xb8b)],_0x250b13[_0x45d6f9(0x33f)],_0x161432[_0x45d6f9(0x39c)]),_0x36b3c5['forEach'](_0x10e6e2=>{const _0x3b9089=_0x45d6f9,_0x6e95ab=_0x10e6e2[_0x3b9089(0x432)](_0x161432);_0x10e6e2[_0x3b9089(0x4ed)]&&_0x6e95ab>_0x10e6e2[_0x3b9089(0x4ed)]&&this[_0x3b9089(0x413)](_0x10e6e2['type'],_0x161432[_0x3b9089(0xb8b)],_0x250b13['Sender'],_0x6e95ab),_0x10e6e2[_0x3b9089(0x6c9)]&&_0x6e95ab<_0x10e6e2[_0x3b9089(0x6c9)]&&this[_0x3b9089(0x413)](_0x10e6e2[_0x3b9089(0xbdd)],_0x161432[_0x3b9089(0xb8b)],_0x250b13[_0x3b9089(0x33f)],_0x6e95ab);});}[_0x4a13a(0x4d2)](_0x544c76,_0x202476,_0x7c31e2){const _0xf9018f=_0x4a13a;0x0!==_0x7c31e2['bitrate']&&_0x1ba93f[_0xf9018f(0x761)](_0x5ee47a=>{const _0x2e27a5=_0xf9018f,_0x43c6c7=_0x5ee47a[_0x2e27a5(0x432)](_0x7c31e2);_0x5ee47a[_0x2e27a5(0x4ed)]&&_0x43c6c7>_0x5ee47a['maxThreshold']&&this[_0x2e27a5(0x413)](_0x5ee47a[_0x2e27a5(0xbdd)],_0x544c76,_0x202476,_0x43c6c7,_0x2e27a5(0x1f6)),_0x5ee47a[_0x2e27a5(0x6c9)]&&_0x43c6c7<_0x5ee47a[_0x2e27a5(0x6c9)]&&this['addIssue'](_0x5ee47a[_0x2e27a5(0xbdd)],_0x544c76,_0x202476,_0x43c6c7,'video');});}['detectAudioIssues'](_0x29e47e,_0x4e8af2,_0x56190c){const _0x3cfda7=_0x4a13a;0x0!==_0x56190c[_0x3cfda7(0x415)]&&_0x398e8b['forEach'](_0xa3b78f=>{const _0x14f5fb=_0x3cfda7,_0xdfb52d=_0xa3b78f[_0x14f5fb(0x432)](_0x56190c);_0xa3b78f[_0x14f5fb(0x4ed)]&&_0xdfb52d>_0xa3b78f[_0x14f5fb(0x4ed)]&&this[_0x14f5fb(0x413)](_0xa3b78f[_0x14f5fb(0xbdd)],_0x29e47e,_0x4e8af2,_0xdfb52d,_0x14f5fb(0x39c)),_0xa3b78f[_0x14f5fb(0x6c9)]&&_0xdfb52d<_0xa3b78f[_0x14f5fb(0x6c9)]&&this['addIssue'](_0xa3b78f[_0x14f5fb(0xbdd)],_0x29e47e,_0x4e8af2,_0xdfb52d,_0x14f5fb(0x39c));});}[_0x4a13a(0x413)](_0x423a3a,_0x4c3951,_0x3fc753,_0x52dd3c,_0x24fbfc){const _0x3e75ad=_0x4a13a;_0x260a6c[_0x3e75ad(0x8b9)](_0x2e74f6['Detection'],_0x3e75ad(0xabf)+_0x423a3a,_0x423a3a,_0x52dd3c),_0x260a6c[_0x3e75ad(0x6a5)](_0x3e75ad(0xc08),{'clusterId':this['configs']['clusterId'],'nodeId':this[_0x3e75ad(0x29b)][_0x3e75ad(0xc4d)][_0x3e75ad(0xa47)](),'nodeType':this['configs']['localNode'][_0x3e75ad(0xbdd)],'remoteId':_0x4c3951,'data':{'type':_0x423a3a,'value':_0x52dd3c,'kind':_0x24fbfc}}),this[_0x3e75ad(0xb22)]=this[_0x3e75ad(0xb22)][_0x3e75ad(0x675)](_0x1f0915=>Date[_0x3e75ad(0xad3)]()-_0x1f0915[_0x3e75ad(0xb08)]<0x7530),this[_0x3e75ad(0xb22)][_0x3e75ad(0x247)]({'timestamp':Date['now'](),'type':_0x423a3a,'nodeId':_0x4c3951,'origin':_0x3fc753,'value':_0x52dd3c,'kind':_0x24fbfc});const _0x3ebad5=this[_0x3e75ad(0xb22)][_0x3e75ad(0x675)](_0x19d92a=>_0x19d92a[_0x3e75ad(0xbdd)]===_0x423a3a&&_0x19d92a[_0x3e75ad(0xb8b)]===_0x4c3951&&_0x19d92a[_0x3e75ad(0x721)]===_0x3fc753)['length'];this['detectProblems'](_0x423a3a,_0x4c3951,_0x3fc753,_0x3ebad5);}['addProblem'](_0x1a3644,_0x5cad7e,_0x2e200d){const _0x591225=_0x4a13a;_0x260a6c['log'](_0x2e74f6['Detection'],_0x591225(0x3b8)+_0x1a3644),_0x260a6c['logEvent'](_0x591225(0x8db),{'clusterId':this[_0x591225(0x29b)][_0x591225(0x88f)],'nodeId':this[_0x591225(0x29b)][_0x591225(0xc4d)][_0x591225(0xa47)](),'nodeType':this['configs'][_0x591225(0xc4d)][_0x591225(0xbdd)],'remoteId':_0x5cad7e,'data':{'type':_0x1a3644}}),this[_0x591225(0x525)]?.[_0x591225(0xa19)]({'sourceId':_0x2d73b4,'messageType':_0x29c5a4[_0x591225(0x8c9)],'content':{'type':_0xbea8f3[_0x591225(0x753)],'data':{'timestamp':Date[_0x591225(0xad3)](),'nodeId':_0x5cad7e,'origin':_0x250b13[_0x591225(0x33f)],'type':_0x1a3644}}});}}class _0x16fcb9 extends _0x676b8{[_0x4a13a(0xbdd)]=_0x52458b[_0x4a13a(0x223)][_0x4a13a(0x673)];}class _0x25c744 extends _0x16fcb9{['systemTopic'];[_0x4a13a(0x771)]=Date[_0x4a13a(0xad3)]();['updateDebounceTimeout'];[_0x4a13a(0x439)];['close'](){const _0x391110=_0x4a13a;this[_0x391110(0x846)]&&(clearTimeout(this['updateDebounceTimeout']),delete this[_0x391110(0x846)]),delete this[_0x391110(0x439)],this[_0x391110(0x771)]=Date['now'](),super['close']();}[_0x4a13a(0x348)](_0x5b712d){this['systemTopic']=_0x5b712d;}['unregisterSystemPublisher'](){const _0x2b08d2=_0x4a13a;delete this[_0x2b08d2(0x525)];}['answerJoin'](_0x21b976){const _0xd982b3=_0x4a13a;!this[_0xd982b3(0x846)]&&this[_0xd982b3(0x964)]&&this[_0xd982b3(0x525)]['publish']({'sourceId':this['id'],'destinationIds':[_0x21b976],'propagate':!0x0,'messageType':_0x29c5a4[_0xd982b3(0x4d9)],'content':{'type':_0x37fe92[_0xd982b3(0x7a0)],'id':this['id'],'metaData':{'type':this[_0xd982b3(0xbdd)]},'rank':this[_0xd982b3(0x294)](),'remoteConnections':Array[_0xd982b3(0xad6)](this[_0xd982b3(0x827)]),'version':this['currentVersion']}});}[_0x4a13a(0x730)](_0x160a7a){const _0x3d373f=_0x4a13a;this[_0x3d373f(0x827)]['has'](_0x160a7a)||(this[_0x3d373f(0x827)][_0x3d373f(0xc09)](_0x160a7a),this[_0x3d373f(0x1fd)](),this['publishUserUpdate'](!0x0));}[_0x4a13a(0x211)](_0x472bb5){const _0x30968f=_0x4a13a;this[_0x30968f(0x827)]['has'](_0x472bb5)&&(this['remoteConnections']['delete'](_0x472bb5),this[_0x30968f(0x1fd)](),this[_0x30968f(0xbfe)](!0x0));}[_0x4a13a(0x418)](){const _0x523bd4=_0x4a13a;return this[_0x523bd4(0x771)];}[_0x4a13a(0x284)](_0x2b5aed,_0x581227=!0x0){const _0x2e563b=_0x4a13a;this[_0x2e563b(0x964)]!==_0x2b5aed&&(this[_0x2e563b(0x964)]=_0x2b5aed,_0x581227&&(this[_0x2e563b(0x1fd)](),this[_0x2e563b(0xbfe)]()));}['incrementVersion'](){const _0x31fdc8=_0x4a13a;this[_0x31fdc8(0x771)]=Date[_0x31fdc8(0xad3)]();}[_0x4a13a(0xbfe)](_0x383334=!0x1){const _0x411cfd=_0x4a13a;if(this[_0x411cfd(0x964)]){if(this[_0x411cfd(0x439)]||(this[_0x411cfd(0x439)]=Date[_0x411cfd(0xad3)]()),this[_0x411cfd(0x846)]){if(Date[_0x411cfd(0xad3)]()-this['lastUpdated']>0x2328)return;clearTimeout(this[_0x411cfd(0x846)]);}this[_0x411cfd(0x846)]=setTimeout(()=>{const _0x1f62b9=_0x411cfd;delete this[_0x1f62b9(0x439)],delete this['updateDebounceTimeout'],this[_0x1f62b9(0x525)][_0x1f62b9(0xa19)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x29c5a4[_0x1f62b9(0x4d9)],'content':{'type':_0x383334?_0x37fe92[_0x1f62b9(0x86d)]:_0x37fe92[_0x1f62b9(0x7a0)],'id':this['id'],'metaData':{'type':this[_0x1f62b9(0xbdd)]},'rank':this[_0x1f62b9(0x294)](),'remoteConnections':Array['from'](this[_0x1f62b9(0x827)]),'version':this[_0x1f62b9(0x771)]}});},0x3e8);}}}class _0x1e10b6 extends _0x28df1d{[_0x4a13a(0x525)];[_0x4a13a(0x771)]=Date[_0x4a13a(0xad3)]();[_0x4a13a(0x846)];['lastUpdated'];[_0x4a13a(0x935)](){const _0x2a6668=_0x4a13a;this[_0x2a6668(0x846)]&&(clearTimeout(this['updateDebounceTimeout']),delete this[_0x2a6668(0x846)]),delete this[_0x2a6668(0x439)],this['currentVersion']=Date['now'](),super[_0x2a6668(0x935)]();}['registerSystemPublisher'](_0x3dac34){this['systemTopic']=_0x3dac34;}[_0x4a13a(0x2b4)](){delete this['systemTopic'];}[_0x4a13a(0x7a5)](_0x4bf57c){const _0xd40deb=_0x4a13a;!this[_0xd40deb(0x846)]&&this[_0xd40deb(0x964)]&&this['systemTopic'][_0xd40deb(0xa19)]({'sourceId':this['id'],'destinationIds':[_0x4bf57c],'propagate':!0x0,'messageType':_0x29c5a4[_0xd40deb(0x4d9)],'content':{'type':_0x37fe92['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0xd40deb(0xbdd)],'displayName':this[_0xd40deb(0x63a)](),'email':this[_0xd40deb(0x256)]()},'rank':this['getRank'](),'remoteConnections':Array['from'](this[_0xd40deb(0x827)]),'version':this[_0xd40deb(0x771)]}});}[_0x4a13a(0x730)](_0x245e6b){const _0x3bcdbc=_0x4a13a;this['remoteConnections'][_0x3bcdbc(0x738)](_0x245e6b)||(this[_0x3bcdbc(0x827)][_0x3bcdbc(0xc09)](_0x245e6b),this[_0x3bcdbc(0x1fd)](),this[_0x3bcdbc(0xbfe)](!0x0));}[_0x4a13a(0x211)](_0x3ea922){const _0xaf8301=_0x4a13a;this[_0xaf8301(0x827)][_0xaf8301(0x738)](_0x3ea922)&&(this[_0xaf8301(0x827)]['delete'](_0x3ea922),this[_0xaf8301(0x1fd)](),this['publishUserUpdate'](!0x0));}[_0x4a13a(0x418)](){const _0x2b9c43=_0x4a13a;return this[_0x2b9c43(0x771)];}[_0x4a13a(0xb94)](_0x50cd22){const _0x557fe9=_0x4a13a;this[_0x557fe9(0x636)]!==_0x50cd22&&(this['displayName']=_0x50cd22,this[_0x557fe9(0x1fd)](),this[_0x557fe9(0xbfe)]());}[_0x4a13a(0xc01)](_0x302ca5){const _0x5ebbe0=_0x4a13a;this[_0x5ebbe0(0xb78)]!==_0x302ca5&&(this[_0x5ebbe0(0xb78)]=_0x302ca5,this[_0x5ebbe0(0x1fd)](),this[_0x5ebbe0(0xbfe)]());}['setRank'](_0x114590,_0x227bb5=!0x0){const _0x1fc966=_0x4a13a;this[_0x1fc966(0x964)]!==_0x114590&&(this[_0x1fc966(0x964)]=_0x114590,_0x227bb5&&(this['incrementVersion'](),this[_0x1fc966(0xbfe)]()));}[_0x4a13a(0x1fd)](){const _0x731aa1=_0x4a13a;this[_0x731aa1(0x771)]=Date[_0x731aa1(0xad3)]();}[_0x4a13a(0xbfe)](_0x12eff0=!0x1){const _0x8caea4=_0x4a13a;if(this[_0x8caea4(0x964)]){if(this[_0x8caea4(0x439)]||(this[_0x8caea4(0x439)]=Date[_0x8caea4(0xad3)]()),this[_0x8caea4(0x846)]){if(Date[_0x8caea4(0xad3)]()-this[_0x8caea4(0x439)]>0x2328)return;clearTimeout(this[_0x8caea4(0x846)]);}this[_0x8caea4(0x846)]=setTimeout(()=>{const _0x2526f1=_0x8caea4;delete this['lastUpdated'],delete this[_0x2526f1(0x846)],this[_0x2526f1(0x525)][_0x2526f1(0xa19)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x29c5a4['Node'],'content':{'type':_0x12eff0?_0x37fe92[_0x2526f1(0x86d)]:_0x37fe92[_0x2526f1(0x7a0)],'id':this['id'],'metaData':{'type':this['type'],'displayName':this[_0x2526f1(0x63a)](),'email':this[_0x2526f1(0x256)]()},'rank':this[_0x2526f1(0x294)](),'remoteConnections':Array[_0x2526f1(0xad6)](this['remoteConnections']),'version':this[_0x2526f1(0x771)]}});},0x3e8);}}}class _0xf6ad0e{['id'];[_0x4a13a(0x9a0)];[_0x4a13a(0x649)];[_0x4a13a(0x43b)];[_0x4a13a(0xbdd)]=_0x52458b[_0x4a13a(0x223)][_0x4a13a(0x673)];[_0x4a13a(0x6b4)];constructor(_0x313bdd,_0x376451,_0x4d8b07,_0x45d86f){const _0x2cf367=_0x4a13a;this['id']=_0x313bdd,this[_0x2cf367(0x9a0)]=_0x376451,this[_0x2cf367(0x649)]=_0x4d8b07,this[_0x2cf367(0x43b)]=_0x45d86f;}[_0x4a13a(0xa47)](){return this['id'];}[_0x4a13a(0xaf0)](_0xac6011){const _0xfa3a15=_0x4a13a,_0x27cb74=(0x0,_0x1264d4['onSnapshot'])((0x0,_0x1264d4[_0xfa3a15(0x448)])(_0x4c4338[_0xfa3a15(0x73a)](),'developers/'+this[_0xfa3a15(0x649)]+_0xfa3a15(0x70e)+this[_0xfa3a15(0x9a0)]),_0x802259=>{const _0x535afc=_0xfa3a15;if(_0x802259['exists']()){const _0x3f5eab=_0x802259[_0x535afc(0x728)]();if(this['agentConfig'][_0x535afc(0xb08)]['isEqual'](_0x3f5eab[_0x535afc(0xb08)]))return;_0x260a6c[_0x535afc(0x8b9)](_0x2e74f6[_0x535afc(0x4d9)],_0x535afc(0x337),{'agentId':this['id'],'groupId':this[_0x535afc(0x9a0)],'oldConfig':this[_0x535afc(0x43b)],'newConfig':_0x3f5eab}),this['agentConfig']=_0x3f5eab,_0xac6011();}});return()=>_0x27cb74();}['setReportCapacity'](_0x29dc7c){const _0x56d1a7=_0x4a13a;return this['reportCapacity'](this[_0x56d1a7(0x9a0)],_0x29dc7c),_0x37fc55['setInterval'](()=>this[_0x56d1a7(0x2a8)](this[_0x56d1a7(0x9a0)],_0x29dc7c),0x7530);}[_0x4a13a(0x7b7)](){const _0x37e115=_0x4a13a;if(!this[_0x37e115(0x6b4)])throw new _0x240123(_0x240123[_0x37e115(0x2f7)]['MistletCapacityReportNotSet']);return this['lastCapacityReport'];}async[_0x4a13a(0x2a8)](_0x21e919,_0x332ff1){const _0x3ca372=_0x4a13a,_0x2e31d2=await _0x332ff1();this[_0x3ca372(0x6b4)]=_0x2e31d2,await(0x0,_0x1264d4['addDoc'])((0x0,_0x1264d4[_0x3ca372(0x27b)])(_0x4c4338[_0x3ca372(0x73a)](),_0x3ca372(0x7c0)+this[_0x3ca372(0x649)]+_0x3ca372(0xa6e)),{'agentId':this['id'],'groupId':_0x21e919,'timestamp':(0x0,_0x1264d4[_0x3ca372(0xb1e)])(),'capacity':_0x2e31d2});}}!function(_0x36b790){const _0x2e8907=_0x4a13a;_0x36b790[_0x36b790['Online']=0x0]=_0x2e8907(0x817),_0x36b790[_0x36b790[_0x2e8907(0x3b9)]=0x1]=_0x2e8907(0x3b9);}(_0x156a99||(_0x156a99={}));class _0x4cd743 extends _0x16fcb9{[_0x4a13a(0x771)];['status']=_0x156a99['Online'];[_0x4a13a(0x439)]=Date[_0x4a13a(0xad3)]();constructor(_0x517db9,_0x31952a=new Set(),_0x2f7f82,_0x57bbc3){super(_0x517db9,_0x31952a,_0x57bbc3),this['currentVersion']=_0x2f7f82;}[_0x4a13a(0x418)](){const _0x22f4e4=_0x4a13a;return this[_0x22f4e4(0x771)];}[_0x4a13a(0x21b)](){const _0x437022=_0x4a13a;return this[_0x437022(0xc33)];}['getLastUpdated'](){const _0x32b03b=_0x4a13a;return this[_0x32b03b(0x439)];}['setRank'](_0x59bf73){const _0x1b0e96=_0x4a13a;this[_0x1b0e96(0x964)]!==_0x59bf73&&(this[_0x1b0e96(0x964)]=_0x59bf73,this[_0x1b0e96(0x9b2)]());}['setRemoteConnections'](_0x2a4c59){const _0x3ffe70=_0x4a13a;let _0x1a0eaf=!0x1;for(const _0x3e4209 of this['remoteConnections'])_0x2a4c59[_0x3ffe70(0xa7f)](_0x3e4209)||(_0x1a0eaf=!0x0,this[_0x3ffe70(0x827)]['delete'](_0x3e4209));for(const _0x3d1261 of _0x2a4c59)this[_0x3ffe70(0x827)][_0x3ffe70(0x738)](_0x3d1261)||(_0x1a0eaf=!0x0,this['remoteConnections'][_0x3ffe70(0xc09)](_0x3d1261));_0x1a0eaf&&this[_0x3ffe70(0x9b2)]();}[_0x4a13a(0x213)](_0x25ca7e){const _0x2b3d01=_0x4a13a;this[_0x2b3d01(0x771)]!==_0x25ca7e&&(this[_0x2b3d01(0x771)]=_0x25ca7e,this[_0x2b3d01(0x9b2)]());}['setStatus'](_0x4de345){const _0x4cd70b=_0x4a13a;this[_0x4cd70b(0xc33)]!==_0x4de345&&(this['status']=_0x4de345,this[_0x4cd70b(0x9b2)](),_0x4de345===_0x156a99[_0x4cd70b(0x3b9)]&&this[_0x4cd70b(0x935)]());}[_0x4a13a(0x9b2)](){const _0xb9638d=_0x4a13a;this['lastUpdated']=Date[_0xb9638d(0xad3)]();}}class _0x11648a extends _0x28df1d{[_0x4a13a(0x771)];[_0x4a13a(0xc33)]=_0x156a99[_0x4a13a(0x817)];[_0x4a13a(0x439)]=Date[_0x4a13a(0xad3)]();constructor(_0x29e623,_0x14f7b7,_0x5e752f,_0x2b2c98=new Set(),_0x485670,_0x192e37){const _0x2137c9=_0x4a13a;super(_0x29e623,_0x14f7b7,_0x5e752f,_0x2b2c98,_0x192e37),this[_0x2137c9(0x771)]=_0x485670;}[_0x4a13a(0x418)](){const _0x3de022=_0x4a13a;return this[_0x3de022(0x771)];}[_0x4a13a(0x21b)](){const _0x18c6a8=_0x4a13a;return this[_0x18c6a8(0xc33)];}[_0x4a13a(0x349)](){const _0x1ff614=_0x4a13a;return this[_0x1ff614(0x439)];}[_0x4a13a(0xb94)](_0x3edab7){const _0x1857fa=_0x4a13a;this[_0x1857fa(0x636)]!==_0x3edab7&&(this[_0x1857fa(0x636)]=_0x3edab7,this[_0x1857fa(0x9b2)]());}['setEmail'](_0x20b420){const _0x18f237=_0x4a13a;this['email']!==_0x20b420&&(this[_0x18f237(0xb78)]=_0x20b420,this[_0x18f237(0x9b2)]());}['setRank'](_0x2e41dd){const _0x1d7c7b=_0x4a13a;this[_0x1d7c7b(0x964)]!==_0x2e41dd&&(this[_0x1d7c7b(0x964)]=_0x2e41dd,this[_0x1d7c7b(0x9b2)]());}[_0x4a13a(0xb6a)](_0x5e998c){const _0x5d9e99=_0x4a13a;let _0x33b29c=!0x1;for(const _0x5d87df of this[_0x5d9e99(0x827)])_0x5e998c['includes'](_0x5d87df)||(_0x33b29c=!0x0,this[_0x5d9e99(0x827)]['delete'](_0x5d87df));for(const _0x58a186 of _0x5e998c)this['remoteConnections'][_0x5d9e99(0x738)](_0x58a186)||(_0x33b29c=!0x0,this[_0x5d9e99(0x827)][_0x5d9e99(0xc09)](_0x58a186));_0x33b29c&&this[_0x5d9e99(0x9b2)]();}[_0x4a13a(0x213)](_0x52977e){const _0x588a3b=_0x4a13a;this[_0x588a3b(0x771)]!==_0x52977e&&(this[_0x588a3b(0x771)]=_0x52977e,this[_0x588a3b(0x9b2)]());}[_0x4a13a(0x82f)](_0x12b672){const _0x3fd43a=_0x4a13a;this['status']!==_0x12b672&&(this['status']=_0x12b672,this[_0x3fd43a(0x9b2)](),_0x12b672===_0x156a99['Offline']&&this['close']());}[_0x4a13a(0x9b2)](){this['lastUpdated']=Date['now']();}}class _0x28b838{['vendorId'];[_0x4a13a(0x88f)];[_0x4a13a(0xc4d)];[_0x4a13a(0x916)];['disconnectCallback']=_0x49ee5e();[_0x4a13a(0x5ad)];[_0x4a13a(0x2b0)];[_0x4a13a(0x67e)];['connected']=!0x1;[_0x4a13a(0xbfc)];[_0x4a13a(0x5ab)];constructor(_0x3240cf,_0x33b068,_0x104511,_0x36ae02){const _0x44890d=_0x4a13a;this[_0x44890d(0x649)]=_0x3240cf,this['clusterId']=_0x33b068,this[_0x44890d(0xc4d)]=_0x104511,this[_0x44890d(0x916)]=_0x36ae02,this['clusterKey']=_0x44890d(0x38e)+this['vendorId']+_0x44890d(0x38e)+this['clusterId'],this['nodeKey']=_0x44890d(0x38e)+this[_0x44890d(0x649)]+'ccc'+this[_0x44890d(0xc4d)]['getId'](),this[_0x44890d(0x5ad)]=(0x0,_0x29402b[_0x44890d(0x536)])((0x0,_0x29402b['ref'])(_0x4c4338[_0x44890d(0x524)](),'.info/connected'),_0x80c6f4=>{const _0x3aeb2f=_0x44890d;!0x0!==_0x80c6f4[_0x3aeb2f(0x8fd)]()?this[_0x3aeb2f(0x79b)]&&_0x260a6c[_0x3aeb2f(0x33b)](_0x3aeb2f(0x480),{'clusterId':this[_0x3aeb2f(0x88f)],'nodeId':this[_0x3aeb2f(0xc4d)][_0x3aeb2f(0xa47)](),'nodeType':this[_0x3aeb2f(0xc4d)]['type']}):(this[_0x3aeb2f(0x79b)]=!0x0,this[_0x3aeb2f(0x8b7)](),_0x260a6c[_0x3aeb2f(0x885)](_0x3aeb2f(0x30e),{'clusterId':this[_0x3aeb2f(0x88f)],'nodeId':this['localNode'][_0x3aeb2f(0xa47)](),'nodeType':this['localNode'][_0x3aeb2f(0xbdd)]}));});}async['join'](){const _0x117b26=_0x4a13a;await this[_0x117b26(0x6c7)]();const _0x40625f=await this[_0x117b26(0x44f)]();return this[_0x117b26(0x2b0)]=(0x0,_0x29402b[_0x117b26(0xb6d)])((0x0,_0x29402b[_0x117b26(0x9cf)])(_0x4c4338['getDatabase'](),_0x117b26(0xaf8)+this[_0x117b26(0xbfc)]+'/nodes'),_0x31a69b=>{const _0x43159e=_0x117b26,_0x57e952=_0x31a69b[_0x43159e(0xb68)];if(!_0x57e952)return;const _0x59ce6c=_0x57e952[_0x43159e(0xb00)]('ccc'+this['vendorId']+'ccc','');this[_0x43159e(0x2ec)][_0x43159e(0xa19)](_0x59ce6c);}),_0x40625f;}async[_0x4a13a(0x935)](){const _0x305227=_0x4a13a;this['childRemovedUnsubscriber']?.(),delete this[_0x305227(0x2b0)],this[_0x305227(0x67e)]?.[_0x305227(0x74d)](),delete this[_0x305227(0x67e)],this[_0x305227(0x5ad)]?.(),delete this['firebaseUnsubscriber'],await(0x0,_0x29402b[_0x305227(0xa4d)])((0x0,_0x29402b[_0x305227(0x9cf)])(_0x4c4338['getDatabase'](),_0x305227(0xaf8)+this[_0x305227(0xbfc)]+_0x305227(0xb47)+this[_0x305227(0x5ab)]));}[_0x4a13a(0x4b4)](_0x18c9d6){const _0xdbbbee=_0x4a13a;return this['disconnectCallback'][_0xdbbbee(0x7a8)](_0x18c9d6);}async[_0x4a13a(0x44f)](){const _0x339d82=_0x4a13a,_0x2b046a=[],_0x29ad7c=await(0x0,_0x29402b[_0x339d82(0x68c)])((0x0,_0x29402b[_0x339d82(0x9cf)])(_0x4c4338[_0x339d82(0x524)](),_0x339d82(0xaf8)+this[_0x339d82(0xbfc)]+'/nodes')),_0x1c88d=[];return _0x29ad7c['forEach'](_0x1dfbc6=>{const _0x47a732=_0x339d82,_0x1f9988=_0x1dfbc6[_0x47a732(0xb68)]?.[_0x47a732(0xb00)](_0x47a732(0x38e)+this[_0x47a732(0x649)]+_0x47a732(0x38e),'');_0x1c88d[_0x47a732(0x247)]({'id':_0x1f9988,'joinedAt':_0x1dfbc6[_0x47a732(0x8fd)]()[_0x47a732(0x6be)],'priority':_0x1dfbc6[_0x47a732(0x8fd)]()[_0x47a732(0x3e9)]});}),_0x1c88d[_0x339d82(0xbde)]((_0x1df6e3,_0x3106b9)=>_0x1df6e3[_0x339d82(0x6be)]===_0x3106b9[_0x339d82(0x6be)]?_0x1df6e3['priority']-_0x3106b9[_0x339d82(0x3e9)]:_0x1df6e3['joinedAt']-_0x3106b9['joinedAt'])[_0x339d82(0x866)](_0x1c88d[_0x339d82(0x8dd)](_0x5c5e2b=>_0x5c5e2b['id']===this[_0x339d82(0xc4d)]['getId']())),_0x1c88d[_0x339d82(0xbde)]((_0x569b3d,_0x1c1349)=>_0x1c1349[_0x339d82(0x6be)]===_0x569b3d[_0x339d82(0x6be)]?_0x1c1349['priority']-_0x569b3d[_0x339d82(0x3e9)]:_0x1c1349[_0x339d82(0x6be)]-_0x569b3d[_0x339d82(0x6be)])[_0x339d82(0x761)](_0x1d7782=>{const _0x50b2bb=_0x339d82;_0x2b046a['length']>=this[_0x50b2bb(0x916)]||_0x2b046a['push'](_0x1d7782['id']);}),_0x260a6c[_0x339d82(0x6a5)](_0x339d82(0x34c),{'clusterId':this[_0x339d82(0x88f)],'nodeId':this[_0x339d82(0xc4d)][_0x339d82(0xa47)](),'nodeType':this[_0x339d82(0xc4d)]['type'],'data':{'ancestorIds':_0x2b046a,'allNodes':_0x1c88d}}),_0x2b046a;}async[_0x4a13a(0x6c7)](){const _0x402270=_0x4a13a;await(0x0,_0x29402b[_0x402270(0x2a7)])((0x0,_0x29402b[_0x402270(0x9cf)])(_0x4c4338['getDatabase'](),_0x402270(0xaf8)+this[_0x402270(0xbfc)]+_0x402270(0xb47)+this[_0x402270(0x5ab)]),{'joinedAt':(0x0,_0x29402b[_0x402270(0xb1e)])(),'priority':Math['random']()});}['setOnDisconnectHandler'](){const _0x116088=_0x4a13a;this[_0x116088(0x67e)]&&this[_0x116088(0x67e)][_0x116088(0x74d)](),this[_0x116088(0x67e)]=(0x0,_0x29402b[_0x116088(0x54b)])((0x0,_0x29402b['ref'])(_0x4c4338[_0x116088(0x524)](),_0x116088(0xaf8)+this[_0x116088(0xbfc)]+_0x116088(0xb47)+this[_0x116088(0x5ab)])),this[_0x116088(0x67e)]['remove']();}}class _0x397f40{[_0x4a13a(0x29b)];['graphService'];[_0x4a13a(0x83b)];[_0x4a13a(0xaae)];[_0x4a13a(0x9ee)];[_0x4a13a(0x859)]=[];['systemTopic'];['optimizationLayers']=new Map();['debounceProcessRank'];[_0x4a13a(0x26c)];[_0x4a13a(0xaa2)];['resolveReady'];[_0x4a13a(0x371)];[_0x4a13a(0xa98)];constructor(_0x5e9d79,_0x1262e6){const _0x41af43=_0x4a13a;this[_0x41af43(0x29b)]=_0x5e9d79,this[_0x41af43(0xb83)]=_0x1262e6,this[_0x41af43(0xaa2)]=new Promise((_0x211878,_0x537274)=>{const _0x4bb7b9=_0x41af43;this[_0x4bb7b9(0xc00)]=_0x211878,this[_0x4bb7b9(0x371)]=_0x537274;}),this[_0x41af43(0xaae)]=new _0x28b838(this[_0x41af43(0x29b)][_0x41af43(0x649)],this[_0x41af43(0x29b)][_0x41af43(0x88f)],this[_0x41af43(0x29b)][_0x41af43(0xc4d)],this['graphService'][_0x41af43(0x73e)]()),this[_0x41af43(0x9ee)]=this[_0x41af43(0xaae)][_0x41af43(0x4b4)](this[_0x41af43(0x97e)][_0x41af43(0x65d)](this)),this[_0x41af43(0x29b)]['mediator'][_0x41af43(0x6b3)](this[_0x41af43(0x29b)]['localNode']),this[_0x41af43(0x29b)][_0x41af43(0x83c)][_0x41af43(0x6b3)](this),this[_0x41af43(0x83b)]=_0x37fc55[_0x41af43(0x583)](()=>{const _0xa055c9=_0x41af43,_0x9f9db8=Date[_0xa055c9(0xad3)]();this[_0xa055c9(0xb83)][_0xa055c9(0x61b)]()[_0xa055c9(0x761)](_0x576c4d=>{const _0x47a4f8=_0xa055c9;_0x576c4d[_0x47a4f8(0x21b)]()===_0x156a99['Offline']&&_0x576c4d[_0x47a4f8(0x349)]()<_0x9f9db8-0x493e0&&this[_0x47a4f8(0xb83)]['deleteRemoteNode'](_0x576c4d[_0x47a4f8(0xa47)]());});},0xea60);}async[_0x4a13a(0x803)](){const _0x4627ec=_0x4a13a;return this[_0x4627ec(0xaa2)];}async[_0x4a13a(0x9f8)](_0x1563e0){return new Promise((_0x554fea,_0x4637a4)=>{const _0x589393=a0_0x2cf3;let _0x1e1028;const _0x19d1cf=setTimeout(()=>{const _0x33dd25=a0_0x2cf3;_0x1e1028?.(),_0x4637a4(new Error(_0x33dd25(0xa3e)+_0x1563e0+_0x33dd25(0x221)));},0x2710);if(this['graphService'][_0x589393(0x917)](_0x1563e0))return clearTimeout(_0x19d1cf),void _0x554fea(!0x0);_0x1e1028=this[_0x589393(0xb83)]['onNodeUpdate'](()=>{const _0x2667fe=_0x589393;this[_0x2667fe(0xb83)][_0x2667fe(0x917)](_0x1563e0)&&(clearTimeout(_0x19d1cf),_0x554fea(!0x0),_0x1e1028?.());});});}[_0x4a13a(0x348)](_0x9225b0){const _0x302e6e=_0x4a13a;this[_0x302e6e(0x525)]=_0x9225b0;}[_0x4a13a(0x2b4)](){delete this['systemTopic'];}[_0x4a13a(0x935)](){const _0x199e66=_0x4a13a;this[_0x199e66(0xa97)]&&(clearTimeout(this[_0x199e66(0xa97)]),delete this['debounceProcessRank']),delete this[_0x199e66(0x26c)],this[_0x199e66(0x29b)][_0x199e66(0xc4d)][_0x199e66(0x935)](),this[_0x199e66(0x83b)](),this[_0x199e66(0x9ee)](),this['configs'][_0x199e66(0x83c)][_0x199e66(0x241)](this[_0x199e66(0x29b)]['localNode']),this[_0x199e66(0x29b)][_0x199e66(0x83c)][_0x199e66(0x241)](this),this[_0x199e66(0xaae)]['close']();}[_0x4a13a(0x901)](){const _0x23fa69=_0x4a13a;return this[_0x23fa69(0x859)];}[_0x4a13a(0x47c)](){const _0x1f5fb6=_0x4a13a;return this[_0x1f5fb6(0x29b)][_0x1f5fb6(0xc4d)][_0x1f5fb6(0xa47)]();}[_0x4a13a(0x954)](){const _0x336453=_0x4a13a;return this[_0x336453(0x29b)][_0x336453(0xc4d)];}[_0x4a13a(0x61b)](_0x4a3bf7){const _0x430582=_0x4a13a,_0x41305e=Array[_0x430582(0xad6)](this[_0x430582(0xb83)]['getRemoteNodes']()[_0x430582(0x331)]())[_0x430582(0x675)](_0x246030=>_0x246030[_0x430582(0x21b)]()===_0x156a99[_0x430582(0x817)]);return _0x4a3bf7?_0x41305e[_0x430582(0x675)](_0x4a3bf7):_0x41305e;}async['discover'](){const _0x4dde50=_0x4a13a;return this[_0x4dde50(0x859)]=await this['discoveryService']['join'](),this[_0x4dde50(0x859)][_0x4dde50(0x454)]<this[_0x4dde50(0xb83)][_0x4dde50(0x73e)]()&&(this[_0x4dde50(0x29b)][_0x4dde50(0xc4d)][_0x4dde50(0x284)](this[_0x4dde50(0x859)][_0x4dde50(0x454)]+0x1),this[_0x4dde50(0x295)]()),this[_0x4dde50(0x859)];}['getDistance'](_0xa4b2bd,_0x5f2786){const _0x48dc5e=_0x4a13a,_0x317653=this[_0x48dc5e(0x29b)][_0x48dc5e(0xc4d)][_0x48dc5e(0xbe0)](),_0x2e165d=new Set(_0x317653),_0x34281c=Array[_0x48dc5e(0xad6)](_0x317653)[_0x48dc5e(0x675)](_0x248006=>_0x248006!==_0xa4b2bd)['map'](_0x221628=>({'id':_0x221628,'distance':0x1}));for(;_0x34281c[_0x48dc5e(0x454)]>0x0;){const _0x4989fb=_0x34281c['shift']();if(!_0x4989fb)continue;if(_0x4989fb['id']===_0x5f2786)return _0x4989fb[_0x48dc5e(0xac6)];const _0x2b11d8=this['graphService'][_0x48dc5e(0xaf9)](_0x4989fb['id']);_0x2b11d8&&_0x2b11d8[_0x48dc5e(0x21b)]()!==_0x156a99['Offline']&&_0x2b11d8[_0x48dc5e(0xbe0)]()[_0x48dc5e(0x761)](_0x4547ad=>{const _0x16925c=_0x48dc5e;_0x2e165d[_0x16925c(0x738)](_0x4547ad)||(_0x2e165d[_0x16925c(0xc09)](_0x4547ad),_0x34281c[_0x16925c(0x247)]({'id':_0x4547ad,'distance':_0x4989fb[_0x16925c(0xac6)]+0x1}));});}return-0x1;}[_0x4a13a(0x713)](_0x4e4821){const _0x30990f=_0x4a13a;try{switch(_0x4e4821[_0x30990f(0x816)][_0x30990f(0xbdd)]){case _0x37fe92[_0x30990f(0x7a0)]:case _0x37fe92[_0x30990f(0x86d)]:this[_0x30990f(0x27a)](_0x4e4821[_0x30990f(0x816)]),_0x260a6c[_0x30990f(0x8b9)](_0x2e74f6['Node'],'NodeManager\x20-\x20NodeUpdate','\x27'+this[_0x30990f(0x29b)][_0x30990f(0xc4d)][_0x30990f(0xa47)]()+',\x20'+_0x4e4821[_0x30990f(0x8f9)]+'\x27',_0x4e4821,_0x4e4821['content']);break;case _0x37fe92[_0x30990f(0x23c)]:this[_0x30990f(0x4df)](_0x4e4821[_0x30990f(0x816)]['id']),_0x260a6c['log'](_0x2e74f6['Node'],_0x30990f(0xc11),'\x27'+this[_0x30990f(0x29b)][_0x30990f(0xc4d)]['getId']()+',\x20'+_0x4e4821[_0x30990f(0x8f9)]+'\x27',_0x4e4821,_0x4e4821[_0x30990f(0x816)]);}}catch(_0x4f34ca){if(_0x4f34ca instanceof _0x32e9cc)return void _0x260a6c['log'](_0x2e74f6[_0x30990f(0x4d9)],_0x4f34ca[_0x30990f(0x5c1)]);throw _0x4f34ca;}}[_0x4a13a(0xc1e)](_0x365343){const _0x1accea=_0x4a13a;switch(_0x365343['content'][_0x1accea(0xbdd)]){case _0x1227a1[_0x1accea(0x88b)]:this[_0x1accea(0x957)](_0x365343['sourceId']),_0x260a6c[_0x1accea(0x8b9)](_0x2e74f6['Node'],_0x1accea(0x5c5),'\x27'+this['configs'][_0x1accea(0xc4d)][_0x1accea(0xa47)]()+',\x20'+_0x365343[_0x1accea(0x8f9)]+'\x27',_0x365343,_0x365343[_0x1accea(0x816)]);break;case _0x1227a1['Disconnect']:this[_0x1accea(0x993)](_0x365343['sourceId']),_0x260a6c[_0x1accea(0x8b9)](_0x2e74f6[_0x1accea(0x4d9)],_0x1accea(0x407),this[_0x1accea(0x29b)][_0x1accea(0xc4d)]['getId'](),_0x365343,_0x365343['content']);}}[_0x4a13a(0x670)](_0x24c2ed){const _0x527b96=_0x4a13a;this[_0x527b96(0x517)](_0x24c2ed),this[_0x527b96(0x7c5)](_0x24c2ed);}[_0x4a13a(0x7c5)](_0x32ebb4){const _0x4bc06c=_0x4a13a;this[_0x4bc06c(0x29b)][_0x4bc06c(0xc4d)][_0x4bc06c(0x7a5)](_0x32ebb4['id']),this[_0x4bc06c(0xb7f)](_0x32ebb4['id']),this[_0x4bc06c(0xb16)](_0x32ebb4);}['handleNodeUpdate'](_0x338e94){const _0x4700bf=_0x4a13a,{id:_0x54832c,metaData:_0x45bb2b,rank:_0x4fa1d5,remoteConnections:_0xa550b6,version:_0x1a7916}=_0x338e94,_0x467455=this['graphService'][_0x4700bf(0xaf9)](_0x54832c);if(_0x467455){if(!(_0x1a7916<=_0x467455[_0x4700bf(0x418)]())){if(_0x467455['setRemoteConnections'](_0xa550b6),_0x467455[_0x4700bf(0x213)](_0x1a7916),_0x467455['type']===_0x52458b['NodeType'][_0x4700bf(0xc05)]&&_0x45bb2b[_0x4700bf(0xbdd)]===_0x52458b['NodeType'][_0x4700bf(0xc05)]&&(_0x467455[_0x4700bf(0xb94)](_0x45bb2b[_0x4700bf(0x636)]),_0x467455[_0x4700bf(0xc01)](_0x45bb2b[_0x4700bf(0xb78)])),_0x4fa1d5&&_0x467455[_0x4700bf(0x284)](_0x4fa1d5),this[_0x4700bf(0x78b)](_0x54832c,_0x4fa1d5),_0x467455[_0x4700bf(0x21b)]()===_0x156a99[_0x4700bf(0x3b9)])return _0x467455[_0x4700bf(0x82f)](_0x156a99['Online']),this[_0x4700bf(0x295)](),void this['notifyJoin'](_0x338e94);this[_0x4700bf(0x295)](),this[_0x4700bf(0x838)]({'id':_0x54832c,'metaData':_0x45bb2b,'remoteConnections':_0xa550b6,'version':_0x1a7916});}}else this[_0x4700bf(0x670)](_0x338e94);}[_0x4a13a(0x78b)](_0x2343c8,_0x19740d){const _0x1da0ba=_0x4a13a;_0x19740d&&this[_0x1da0ba(0x859)][_0x1da0ba(0xa7f)](_0x2343c8)&&this[_0x1da0ba(0x29b)][_0x1da0ba(0xc4d)]['setRank'](_0x19740d+this[_0x1da0ba(0x859)][_0x1da0ba(0x619)](_0x2343c8)+0x1);}[_0x4a13a(0x957)](_0x5df965){const _0x24077c=_0x4a13a;this[_0x24077c(0x29b)][_0x24077c(0xc4d)]['addRemoteConnection'](_0x5df965);}['createRemoteNode']({id:_0x3dc2be,metaData:_0x165515,rank:_0x5ba12d,remoteConnections:_0x37b170,version:_0x128b25}){const _0x4a0028=_0x4a13a;if(this[_0x4a0028(0xb83)][_0x4a0028(0x917)](_0x3dc2be))throw new _0x32e9cc(_0x4a0028(0x1e4)+_0x3dc2be);switch(_0x165515[_0x4a0028(0xbdd)]){case _0x52458b[_0x4a0028(0x223)][_0x4a0028(0xc05)]:const {displayName:_0x5b6a9f,email:_0x3b50a3}=_0x165515;this[_0x4a0028(0xb83)]['setRemoteNode'](_0x3dc2be,new _0x11648a(_0x3dc2be,_0x5b6a9f,_0x3b50a3,new Set(_0x37b170),_0x128b25,_0x5ba12d));break;case _0x52458b[_0x4a0028(0x223)]['Agent']:this['graphService']['setRemoteNode'](_0x3dc2be,new _0x4cd743(_0x3dc2be,new Set(_0x37b170),_0x128b25,_0x5ba12d));}const _0x464c44=this[_0x4a0028(0x61b)](),_0xbe0ba6=new Set(this[_0x4a0028(0x859)]);_0x464c44[_0x4a0028(0x761)](_0x113e22=>{const _0x1dcf4a=_0x4a0028;_0xbe0ba6[_0x1dcf4a(0x738)](_0x113e22[_0x1dcf4a(0xa47)]())&&_0xbe0ba6[_0x1dcf4a(0xb18)](_0x113e22[_0x1dcf4a(0xa47)]());}),0x0===_0xbe0ba6[_0x4a0028(0x7a7)]&&this['resolveReady']&&(this['readyDebounce']&&clearTimeout(this['readyDebounce']),this[_0x4a0028(0xa98)]=setTimeout(()=>{const _0x4d4fe5=_0x4a0028;this['resolveReady']?.(!0x0),delete this[_0x4d4fe5(0xc00)],delete this['rejectReady'];},0x7d0)),this[_0x4a0028(0x78b)](_0x3dc2be,_0x5ba12d),this[_0x4a0028(0x295)]();}['publishNodeJoin'](_0x92751b){const _0x288e6c=_0x4a13a;this[_0x288e6c(0x525)][_0x288e6c(0xa19)]({'sourceId':_0x2d73b4,'messageType':_0x29c5a4[_0x288e6c(0x4d9)],'content':{'type':_0x37fe92[_0x288e6c(0xa3c)],'id':_0x92751b}});}[_0x4a13a(0x993)](_0x2c9eb3){const _0x1b4a98=_0x4a13a;this[_0x1b4a98(0x525)]?.[_0x1b4a98(0xa19)]({'sourceId':_0x2d73b4,'messageType':_0x29c5a4['Node'],'content':{'type':_0x37fe92[_0x1b4a98(0x23c)],'id':_0x2c9eb3}});}[_0x4a13a(0x97e)](_0x256426){const _0x18897f=_0x4a13a;if(_0x256426===this[_0x18897f(0x29b)][_0x18897f(0xc4d)]['getId']())return this['configs'][_0x18897f(0x83c)][_0x18897f(0xae0)](_0x18897f(0x812),{'id':_0x256426}),this[_0x18897f(0x29b)][_0x18897f(0x83c)][_0x18897f(0x935)]({'force':!0x0},!0x0),this[_0x18897f(0x29b)]['mediator']['open'](),void this[_0x18897f(0x29b)][_0x18897f(0x83c)]['initialize']();this['publishNodeLeave'](_0x256426);}[_0x4a13a(0x4df)](_0x5dc167){const _0x40c50b=_0x4a13a;this[_0x40c50b(0x859)][_0x40c50b(0xa7f)](_0x5dc167)?this['manageAncestor'](_0x5dc167):this['configs']['localNode'][_0x40c50b(0xbe0)]()[_0x40c50b(0x738)](_0x5dc167)&&this[_0x40c50b(0x7ae)](_0x5dc167),this[_0x40c50b(0x29b)][_0x40c50b(0xc4d)][_0x40c50b(0x211)](_0x5dc167);const _0x2adfdf=Array[_0x40c50b(0xad6)](this[_0x40c50b(0x64a)][_0x40c50b(0x3a4)]())[_0x40c50b(0x319)](([,_0x93d1ba])=>_0x93d1ba==_0x93d1ba);_0x2adfdf&&this['optimizationLayers'][_0x40c50b(0xb18)](_0x2adfdf[0x0]);const _0x6c5449=this[_0x40c50b(0xb83)]['getRemoteNode'](_0x5dc167);if(!_0x6c5449)return;const _0x364540=_0x6c5449[_0x40c50b(0x294)](),_0x111af2=this[_0x40c50b(0x29b)]['localNode'][_0x40c50b(0x294)]();_0x111af2&&_0x364540&&_0x364540<_0x111af2&&this[_0x40c50b(0x29b)][_0x40c50b(0xc4d)][_0x40c50b(0x284)](_0x111af2-0x1,!0x1),Array['from'](this[_0x40c50b(0xb83)][_0x40c50b(0x61b)]()['values']())[_0x40c50b(0x761)](_0x31fcf7=>{const _0x2b9514=_0x40c50b,_0x234ab0=_0x31fcf7[_0x2b9514(0x294)]();_0x234ab0&&_0x364540&&_0x364540<_0x234ab0&&_0x31fcf7[_0x2b9514(0x284)](_0x234ab0-0x1);}),_0x6c5449['setStatus'](_0x156a99[_0x40c50b(0x3b9)]),this[_0x40c50b(0x29b)]['mediator'][_0x40c50b(0xae0)](_0x6c5449[_0x40c50b(0xbdd)]+'-leave',{'id':_0x5dc167});}[_0x4a13a(0xb16)]({id:_0x5d682d,metaData:_0x528aef,remoteConnections:_0xaa4e60}){const _0x399b2d=_0x4a13a;switch(_0x528aef[_0x399b2d(0xbdd)]){case _0x52458b['NodeType'][_0x399b2d(0xc05)]:this['configs'][_0x399b2d(0x83c)][_0x399b2d(0xae0)](_0x399b2d(0x4fb),{'id':_0x5d682d,'metaData':_0x528aef,'remoteConnections':_0xaa4e60});break;case _0x52458b[_0x399b2d(0x223)][_0x399b2d(0x673)]:this[_0x399b2d(0x29b)]['mediator'][_0x399b2d(0xae0)](_0x399b2d(0x328),{'id':_0x5d682d,'metaData':_0x528aef,'remoteConnections':_0xaa4e60});}}[_0x4a13a(0x838)]({id:_0x2b11b8,metaData:_0x52642e,remoteConnections:_0x230436}){const _0x587ed2=_0x4a13a;switch(_0x52642e[_0x587ed2(0xbdd)]){case _0x52458b[_0x587ed2(0x223)][_0x587ed2(0xc05)]:this[_0x587ed2(0x29b)][_0x587ed2(0x83c)]['notifyCluster']('user-update',{'id':_0x2b11b8,'metaData':_0x52642e,'remoteConnections':_0x230436});break;case _0x52458b[_0x587ed2(0x223)][_0x587ed2(0x673)]:this[_0x587ed2(0x29b)][_0x587ed2(0x83c)][_0x587ed2(0xae0)](_0x587ed2(0xad9),{'id':_0x2b11b8,'metaData':_0x52642e,'remoteConnections':_0x230436});}}[_0x4a13a(0x295)](){const _0x12ef3c=_0x4a13a;if(this[_0x12ef3c(0x26c)]||(this[_0x12ef3c(0x26c)]=Date[_0x12ef3c(0xad3)]()),this['debounceProcessRank']){if(Date[_0x12ef3c(0xad3)]()-this[_0x12ef3c(0x26c)]>0x2328)return;clearTimeout(this[_0x12ef3c(0xa97)]);}this[_0x12ef3c(0xa97)]=setTimeout(async()=>{const _0x3308ce=_0x12ef3c;delete this[_0x3308ce(0x26c)],delete this[_0x3308ce(0xa97)];const _0x3f5daf=this[_0x3308ce(0x29b)]['localNode'][_0x3308ce(0x294)]();if(!_0x3f5daf)return;const _0x1f3938=this[_0x3308ce(0xb83)]['getCurrentMaxLayer'](this[_0x3308ce(0xb83)][_0x3308ce(0x61b)]()[_0x3308ce(0x7a7)]);if(this[_0x3308ce(0x64a)][_0x3308ce(0x7a7)]>=_0x1f3938)return;let _0x3a7bf9=0x1;for(;this[_0x3308ce(0x29b)][_0x3308ce(0x83c)][_0x3308ce(0xa1d)]()[_0x3308ce(0x454)]<this[_0x3308ce(0xb83)][_0x3308ce(0x356)]()&&_0x3a7bf9<=_0x1f3938;){if(this['optimizationLayers'][_0x3308ce(0x738)](_0x3a7bf9)){_0x3a7bf9+=0x1;continue;}const _0x3a9875=this[_0x3308ce(0xb83)][_0x3308ce(0x25b)](_0x3f5daf,_0x3a7bf9),_0x7b2f5=Array[_0x3308ce(0xad6)](this['graphService'][_0x3308ce(0x61b)]()[_0x3308ce(0x331)]())[_0x3308ce(0x319)](_0x3a4196=>_0x3a4196[_0x3308ce(0x294)]()===_0x3a9875&&_0x3a4196[_0x3308ce(0x21b)]()===_0x156a99['Online']);if(_0x7b2f5){try{await this[_0x3308ce(0x29b)][_0x3308ce(0x83c)][_0x3308ce(0xc26)](_0x7b2f5[_0x3308ce(0xa47)](),_0x1c7a0b['Optimization']),this['optimizationLayers']['set'](_0x3a7bf9,_0x7b2f5[_0x3308ce(0xa47)]());}catch(_0x4e7f45){if(!(_0x4e7f45 instanceof _0x240123&&_0x4e7f45[_0x3308ce(0x6c2)]===_0x240123[_0x3308ce(0x2f7)][_0x3308ce(0x267)]))throw _0x4e7f45;_0x260a6c[_0x3308ce(0x8b9)](_0x2e74f6[_0x3308ce(0x4d9)],this[_0x3308ce(0x29b)]['localNode'][_0x3308ce(0xa47)](),_0x7b2f5[_0x3308ce(0xa47)](),_0x4e7f45[_0x3308ce(0x5c1)]);}_0x3a7bf9+=0x1;}else _0x3a7bf9+=0x1;}},0x3e8);}async[_0x4a13a(0x335)](_0x155306){const _0x592429=_0x4a13a;this[_0x592429(0x859)][_0x592429(0x866)](this[_0x592429(0x859)][_0x592429(0x619)](_0x155306),0x1);const _0x3c46cf=await this[_0x592429(0xaae)]['getAncestors']();for(const _0x2b9594 of _0x3c46cf)if(!this[_0x592429(0x859)][_0x592429(0xa7f)](_0x2b9594)){const _0x4e05e5=Array[_0x592429(0xad6)](this[_0x592429(0x64a)][_0x592429(0x3a4)]())['find'](([,_0x264175])=>_0x264175===_0x2b9594);_0x4e05e5&&this[_0x592429(0x64a)][_0x592429(0xb18)](_0x4e05e5[0x0]),this[_0x592429(0x29b)][_0x592429(0x83c)][_0x592429(0xc26)](_0x2b9594,_0x1c7a0b[_0x592429(0x680)]);}0x0===_0x3c46cf['length']&&this[_0x592429(0x29b)][_0x592429(0xc4d)][_0x592429(0x284)](0x1),this[_0x592429(0x859)]=_0x3c46cf;}async[_0x4a13a(0x7ae)](_0x413161){const _0x24635d=_0x4a13a,_0x29c49d=this[_0x24635d(0x29b)]['localNode'][_0x24635d(0x294)]();if(!_0x29c49d)return;const _0x2c7ed9=this[_0x24635d(0xb83)][_0x24635d(0xaf9)](_0x413161);if(!_0x2c7ed9||_0x2c7ed9['getStatus']()===_0x156a99[_0x24635d(0x3b9)])return;const _0x129aad=_0x2c7ed9[_0x24635d(0x294)]();if(!_0x129aad||_0x129aad<_0x29c49d)return;const _0x522f12=this[_0x24635d(0x548)](this[_0x24635d(0x29b)][_0x24635d(0xc4d)]['getRemoteConnections'](),_0x29c49d),_0x2647f7=this[_0x24635d(0x548)](_0x2c7ed9['getRemoteConnections'](),_0x129aad)[_0x522f12['findIndex'](([_0x3cad3e])=>_0x3cad3e===_0x413161)];if(!_0x2647f7||this[_0x24635d(0x29b)][_0x24635d(0xc4d)][_0x24635d(0xbe0)]()[_0x24635d(0x738)](_0x2647f7[0x0]))return;const _0x2cdd5f=this[_0x24635d(0xb83)]['getRemoteNode'](_0x2647f7[0x0]);if(_0x2cdd5f&&_0x2cdd5f[_0x24635d(0x21b)]()!==_0x156a99[_0x24635d(0x3b9)])try{await this['configs']['mediator'][_0x24635d(0xc26)](_0x2647f7[0x0],_0x1c7a0b[_0x24635d(0x4db)]);const _0x257fd0=Array[_0x24635d(0xad6)](this[_0x24635d(0x64a)]['entries']())[_0x24635d(0x319)](([,_0x3c9319])=>_0x3c9319===_0x413161);_0x257fd0&&this[_0x24635d(0x64a)][_0x24635d(0x2a7)](_0x257fd0[0x0],_0x2647f7[0x0]);}catch(_0x4864af){if(!(_0x4864af instanceof _0x240123&&_0x4864af[_0x24635d(0x6c2)]===_0x240123[_0x24635d(0x2f7)][_0x24635d(0x267)]))throw _0x4864af;_0x260a6c['log'](_0x2e74f6[_0x24635d(0x4d9)],this[_0x24635d(0x29b)][_0x24635d(0xc4d)][_0x24635d(0xa47)](),_0x2647f7[0x0],_0x4864af[_0x24635d(0x5c1)]);}}[_0x4a13a(0x548)](_0x17dc2d,_0x132362){const _0x1e3ef0=_0x4a13a;return Array['from'](_0x17dc2d)[_0x1e3ef0(0x624)]((_0x38dc8c,_0x4db06d)=>{const _0x4bad0c=_0x1e3ef0,_0x5bcefc=this[_0x4bad0c(0xb83)][_0x4bad0c(0xaf9)](_0x4db06d);if(!_0x5bcefc||_0x5bcefc[_0x4bad0c(0x21b)]()===_0x156a99['Offline'])return _0x38dc8c;const _0x152528=_0x5bcefc['getRank']();if(!_0x152528)return _0x38dc8c;const _0x5b5e14=_0x152528-_0x132362;return _0x5b5e14<=this['graphService'][_0x4bad0c(0x73e)]()||_0x38dc8c[_0x4bad0c(0x247)]([_0x4db06d,_0x5b5e14]),_0x38dc8c;},[])[_0x1e3ef0(0xbde)](([,_0x347fbf],[,_0x45b39d])=>_0x347fbf-_0x45b39d);}}const _0x207dc3=[{'problemType':_0x314689[_0x4a13a(0x815)],'remediations':[{'type':_0x410ae3['Remediation'],'component':_0x3b258f['Resolution'],'action':_0x1d065f[_0x4a13a(0xbf1)]},{'type':_0x410ae3['RemoteRemediation'],'component':_0x3b258f[_0x4a13a(0xb6c)],'action':_0x1d065f[_0x4a13a(0xbf1)]}]},{'problemType':_0x314689['TimePerFrame'],'remediations':[{'type':_0x410ae3['Remediation'],'component':_0x3b258f['Resolution'],'action':_0x1d065f[_0x4a13a(0xbf1)]}]},{'problemType':_0x314689[_0x4a13a(0x648)],'remediations':[{'type':_0x410ae3[_0x4a13a(0x401)],'component':_0x3b258f[_0x4a13a(0xb6c)],'action':_0x1d065f[_0x4a13a(0xbf1)]}]},{'problemType':_0x314689[_0x4a13a(0x3c7)],'remediations':[{'type':_0x410ae3[_0x4a13a(0x401)],'component':_0x3b258f[_0x4a13a(0xb6c)],'action':_0x1d065f[_0x4a13a(0xbf1)]}]},{'problemType':_0x314689[_0x4a13a(0xbe4)],'remediations':[{'type':_0x410ae3[_0x4a13a(0x401)],'component':_0x3b258f[_0x4a13a(0xbe4)],'action':_0x1d065f[_0x4a13a(0xbf1)]}]},{'problemType':_0x314689[_0x4a13a(0x7bb)],'remediations':[{'type':_0x410ae3[_0x4a13a(0x401)],'component':_0x3b258f[_0x4a13a(0xbe4)],'action':_0x1d065f[_0x4a13a(0xbf1)]}]},{'problemType':_0x314689['RoundTripTime'],'remediations':[{'type':_0x410ae3['Remediation'],'component':_0x3b258f['Bitrate'],'action':_0x1d065f[_0x4a13a(0xbf1)]}]}];class _0x5a3c71{[_0x4a13a(0x29b)];[_0x4a13a(0x525)];[_0x4a13a(0x546)]=new Map();constructor(_0x3ca653){const _0x5369b4=_0x4a13a;this['configs']=_0x3ca653,this[_0x5369b4(0x29b)][_0x5369b4(0x83c)]['registerSystemSource'](this);}[_0x4a13a(0x935)](){const _0x32a814=_0x4a13a;this['configs'][_0x32a814(0x83c)][_0x32a814(0x241)](this);}[_0x4a13a(0x348)](_0x337f89){const _0x55b1b3=_0x4a13a;this[_0x55b1b3(0x525)]=_0x337f89;}['unregisterSystemPublisher'](){const _0x251eae=_0x4a13a;delete this[_0x251eae(0x525)];}[_0x4a13a(0x42e)](_0x5517aa){const _0x173546=_0x4a13a;_0x5517aa[_0x173546(0x816)]['type']===_0xbea8f3[_0x173546(0x753)]&&this[_0x173546(0xa16)](_0x5517aa[_0x173546(0x816)][_0x173546(0x728)]);}[_0x4a13a(0x676)](_0x2ab121){const _0xd9fc70=_0x4a13a;_0x2ab121['content']['type']===_0x410ae3[_0xd9fc70(0x456)]&&this[_0xd9fc70(0x596)](_0x2ab121['sourceId'],{'type':_0x410ae3[_0xd9fc70(0x401)],'component':_0x2ab121[_0xd9fc70(0x816)]['data'][_0xd9fc70(0x7cb)],'action':_0x2ab121[_0xd9fc70(0x816)][_0xd9fc70(0x728)]['action']});}[_0x4a13a(0xa16)](_0x5929b4){const _0x2c655e=_0x4a13a,_0x366914=_0x207dc3['find'](_0x25c469=>_0x25c469[_0x2c655e(0x3eb)]===_0x5929b4[_0x2c655e(0xbdd)]);_0x366914['remediations']?.[_0x2c655e(0x761)](_0x18facc=>{const _0x2adc59=_0x2c655e;this[_0x2adc59(0x596)](_0x5929b4[_0x2adc59(0xb8b)],{'type':_0x5929b4[_0x2adc59(0x721)]===_0x250b13[_0x2adc59(0x33f)]?_0x410ae3['Remediation']:_0x410ae3[_0x2adc59(0x456)],'component':_0x18facc['component'],'action':_0x18facc[_0x2adc59(0x395)]});});}[_0x4a13a(0x596)](_0x57ed83,_0xedaa74){const _0x14ce7e=_0x4a13a;if(_0xedaa74[_0x14ce7e(0xbdd)]===_0x410ae3[_0x14ce7e(0x401)]){const _0x105045=Date[_0x14ce7e(0xad3)](),_0xd2b5c0=this[_0x14ce7e(0x546)][_0x14ce7e(0x68c)](_0x57ed83);if(_0xd2b5c0&&_0x105045-_0xd2b5c0<0x1388)return;this['lastRemediations'][_0x14ce7e(0x2a7)](_0x57ed83,_0x105045);}_0x260a6c[_0x14ce7e(0x8b9)](_0x2e74f6['Remediation'],_0x14ce7e(0x776),_0xedaa74),_0x260a6c[_0x14ce7e(0x6a5)](_0x14ce7e(0x3fe),{'clusterId':this[_0x14ce7e(0x29b)]['clusterId'],'nodeId':this['configs'][_0x14ce7e(0xc4d)]['getId'](),'nodeType':this['configs']['localNode'][_0x14ce7e(0xbdd)],'remoteId':_0x57ed83,'data':{'type':_0xedaa74[_0x14ce7e(0xbdd)],'component':_0xedaa74[_0x14ce7e(0x7cb)],'action':_0xedaa74[_0x14ce7e(0x395)]}});let _0x28b712,_0x304594=_0x2d73b4;_0xedaa74[_0x14ce7e(0xbdd)]===_0x410ae3[_0x14ce7e(0x456)]&&(_0x304594=this['configs']['localNode'][_0x14ce7e(0xa47)](),_0x28b712=[_0x57ed83]),this[_0x14ce7e(0x525)][_0x14ce7e(0xa19)]({'sourceId':_0x304594,'destinationIds':_0x28b712,'messageType':_0x29c5a4['Remediation'],'content':{'type':_0xedaa74[_0x14ce7e(0xbdd)],'targetId':_0x57ed83,'data':_0xedaa74}});}}const _0x5cd442=0x3e8,_0x20163a=0x7530,_0x3b110c=_0x4a13a(0x2ae),_0x38b8f7=_0x4a13a(0x4a0),_0x5a8dc2=_0x4a13a(0x801),_0x5934cd=[_0x3b110c,_0x38b8f7],_0x91bacb=[_0x5a8dc2];class _0x2ffd94{[_0x4a13a(0x58b)]=0x0;[_0x4a13a(0x28b)]=0x0;[_0x4a13a(0x5df)]=0x0;[_0x4a13a(0xbad)]=0x0;[_0x4a13a(0x9a6)]=0x0;[_0x4a13a(0x67a)]=0x0;[_0x4a13a(0x40e)]=0x0;[_0x4a13a(0x3d4)]=0x0;['previousBytes']=0x0;get[_0x4a13a(0x415)](){const _0x30c26b=_0x4a13a;return this[_0x30c26b(0x67a)]>0x0&&this[_0x30c26b(0x40e)]>0x0&&Date['now']()-this[_0x30c26b(0x67a)]<_0x20163a?(this[_0x30c26b(0x3d4)]-this['previousBytes'])/(this[_0x30c26b(0x67a)]-this[_0x30c26b(0x40e)])*0x8*0x3e8:0x0;}[_0x4a13a(0xb2e)](_0x3b012f){const _0x2a9ef7=_0x4a13a;switch(_0x3b012f[_0x2a9ef7(0xbdd)]){case _0x5a8dc2:this[_0x2a9ef7(0xae2)](_0x3b012f);break;case _0x3b110c:this['processOutboundReport'](_0x3b012f);break;case _0x38b8f7:this[_0x2a9ef7(0x951)](_0x3b012f);}}['getReport'](){const _0x3ddb3d=_0x4a13a;return{'bitrate':this[_0x3ddb3d(0x415)],'packetsLostPerc':this[_0x3ddb3d(0x9aa)](),'roundTripTime':this[_0x3ddb3d(0x58b)],'jitter':this[_0x3ddb3d(0x5df)]};}['processInboundReport'](_0x479495){const _0x313582=_0x4a13a;this[_0x313582(0x538)](_0x479495[_0x313582(0x325)]),this[_0x313582(0x6bc)](_0x479495[_0x313582(0xb08)]),this[_0x313582(0x9a6)]=_0x479495[_0x313582(0xaad)],this[_0x313582(0xbad)]=_0x479495[_0x313582(0xbad)],void 0x0!==_0x479495[_0x313582(0x5df)]?this['jitter']=_0x479495['jitter']:this[_0x313582(0x5df)]=0x0,void 0x0!==_0x479495[_0x313582(0x28b)]?this['estimatedPlayoutTimestamp']=_0x479495[_0x313582(0x28b)]:this[_0x313582(0x28b)]=0x0;}[_0x4a13a(0x9b8)](_0x545185){const _0x23dce1=_0x4a13a;this[_0x23dce1(0x538)](_0x545185[_0x23dce1(0x9f4)]),this[_0x23dce1(0x6bc)](_0x545185[_0x23dce1(0xb08)]),this[_0x23dce1(0x9a6)]=_0x545185[_0x23dce1(0x87e)];}['processRemoteInboundReport'](_0x41e595){const _0x551fa5=_0x4a13a;this[_0x551fa5(0x58b)]=0x3e8*_0x41e595['roundTripTime'],void 0x0!==_0x41e595[_0x551fa5(0x5df)]?this[_0x551fa5(0x5df)]=_0x41e595['jitter']:this[_0x551fa5(0x5df)]=0x0;}[_0x4a13a(0x9aa)](){const _0x5dec5a=_0x4a13a;return this[_0x5dec5a(0x9a6)]>0x0?this[_0x5dec5a(0xbad)]/this[_0x5dec5a(0x9a6)]:0x0;}[_0x4a13a(0x6bc)](_0x500a4a){const _0x139cda=_0x4a13a;_0x500a4a>this[_0x139cda(0x67a)]&&(this[_0x139cda(0x40e)]=this[_0x139cda(0x67a)],this[_0x139cda(0x67a)]=_0x500a4a);}[_0x4a13a(0x538)](_0x292427){const _0x7abfa1=_0x4a13a;this[_0x7abfa1(0xbab)]=this[_0x7abfa1(0x3d4)],this[_0x7abfa1(0x3d4)]=_0x292427;}}class _0x176bbd extends _0x2ffd94{}class _0xb9c173 extends _0x2ffd94{[_0x4a13a(0x323)]=0x0;[_0x4a13a(0x650)]=0x0;[_0x4a13a(0x302)]=0x0;['currentFrames']=0x0;[_0x4a13a(0x205)]=0x0;get[_0x4a13a(0x4f4)](){const _0x228536=_0x4a13a;return this[_0x228536(0x67a)]>0x0&&this[_0x228536(0x40e)]>0x0&&Date['now']()-this[_0x228536(0x67a)]<_0x20163a?(this[_0x228536(0x243)]-this[_0x228536(0x205)])/(this[_0x228536(0x67a)]-this[_0x228536(0x40e)])*0x3e8:0x0;}get['timePerFrame'](){const _0x385012=_0x4a13a;return this[_0x385012(0x323)]&&this[_0x385012(0x243)]&&this['currentFrames']>0x0?this[_0x385012(0x323)]/this[_0x385012(0x243)]:0x0;}set[_0x4a13a(0x3e1)](_0x509765){const _0x5aa945=_0x4a13a;this[_0x5aa945(0x205)]=this[_0x5aa945(0x243)],this[_0x5aa945(0x243)]=_0x509765;}['getReport'](){const _0x3dfbf4=_0x4a13a;return{...super['getReport'](),'FPS':this[_0x3dfbf4(0x4f4)],'timePerFrame':this[_0x3dfbf4(0xa65)],'frameWidth':this[_0x3dfbf4(0x650)],'frameHeight':this[_0x3dfbf4(0x302)]};}[_0x4a13a(0xae2)](_0x1e862a){const _0x6cd587=_0x4a13a;super['processInboundReport'](_0x1e862a),this[_0x6cd587(0x323)]=_0x1e862a['totalDecodeTime'],this[_0x6cd587(0x3e1)]=_0x1e862a[_0x6cd587(0x40f)],this[_0x6cd587(0x650)]=_0x1e862a['frameWidth'],this['frameHeight']=_0x1e862a[_0x6cd587(0x302)];}[_0x4a13a(0x9b8)](_0x57e182){const _0x31e3e2=_0x4a13a;super[_0x31e3e2(0x9b8)](_0x57e182),this[_0x31e3e2(0x323)]=_0x57e182['totalEncodeTime'],this[_0x31e3e2(0x3e1)]=_0x57e182[_0x31e3e2(0x49d)],this['frameWidth']=_0x57e182[_0x31e3e2(0x650)],this[_0x31e3e2(0x302)]=_0x57e182[_0x31e3e2(0x302)];}}class _0x359a74{[_0x4a13a(0x39c)]=new _0x176bbd();[_0x4a13a(0x1f6)]=new _0xb9c173();get[_0x4a13a(0x415)](){const _0x567747=_0x4a13a;return this[_0x567747(0x39c)][_0x567747(0x415)]+this[_0x567747(0x1f6)][_0x567747(0x415)];}[_0x4a13a(0x9c7)](_0x256dda){const _0x1be8cb=_0x4a13a;return _0x256dda[_0x1be8cb(0x761)](_0x29eedc=>{const _0x5ac459=_0x1be8cb;switch(_0x29eedc['kind']){case _0x5ac459(0x39c):this[_0x5ac459(0x39c)][_0x5ac459(0xb2e)](_0x29eedc);break;case _0x5ac459(0x1f6):this[_0x5ac459(0x1f6)][_0x5ac459(0xb2e)](_0x29eedc);}}),this[_0x1be8cb(0x840)]();}[_0x4a13a(0x840)](){const _0x30a4a7=_0x4a13a;return{'audio':this[_0x30a4a7(0x39c)][_0x30a4a7(0x840)](),'video':this['video'][_0x30a4a7(0x840)](),'roundTripTime':this[_0x30a4a7(0x810)](),'AudioVideoDelay':this['getAudioVideoDelay'](),'bitrate':this[_0x30a4a7(0x415)]};}[_0x4a13a(0x810)](){const _0x4706c1=_0x4a13a;return Math[_0x4706c1(0x268)]((this[_0x4706c1(0x39c)][_0x4706c1(0x58b)]+this[_0x4706c1(0x1f6)][_0x4706c1(0x58b)])/0x2);}['getAudioVideoDelay'](){const _0x4f2676=_0x4a13a;return this['audio'][_0x4f2676(0x28b)]-this[_0x4f2676(0x1f6)][_0x4f2676(0x28b)];}}class _0x2d653c{[_0x4a13a(0x748)]=0x0;['senderPreviousTimestamp']=0x0;[_0x4a13a(0xa76)]=0x0;['receiverPreviousTimestamp']=0x0;[_0x4a13a(0x5af)]=0x0;[_0x4a13a(0x657)]=0x0;[_0x4a13a(0xc2e)]=0x0;[_0x4a13a(0xa49)]=0x0;['senderTotalMessages']=0x0;['receiverTotalMessages']=0x0;['senderTimeProcessing']=0x0;[_0x4a13a(0xa79)]=0x0;[_0x4a13a(0x58b)]=0x0;get[_0x4a13a(0x415)](){const _0x12d6fb=_0x4a13a;return this[_0x12d6fb(0xc31)]+this['receiverBitrate'];}get[_0x4a13a(0xc31)](){const _0x1d25b9=_0x4a13a;return this[_0x1d25b9(0x748)]>0x0&&this['senderPreviousTimestamp']>0x0&&Date['now']()-this[_0x1d25b9(0x748)]<_0x20163a?(this['senderCurrentBytes']-this['senderPreviousBytes'])/(this[_0x1d25b9(0x748)]-this[_0x1d25b9(0x433)])*0x8*0x3e8:0x0;}get[_0x4a13a(0x8a9)](){const _0x9859f=_0x4a13a;return this[_0x9859f(0xa76)]>0x0&&this[_0x9859f(0x900)]>0x0&&Date[_0x9859f(0xad3)]()-this['receiverCurrentTimestamp']<_0x20163a?(this[_0x9859f(0xc2e)]-this[_0x9859f(0xa49)])/(this[_0x9859f(0xa76)]-this[_0x9859f(0x900)])*0x8*0x3e8:0x0;}['processReport'](_0xf2f308){const _0x2e072d=_0x4a13a;switch(_0xf2f308[_0x2e072d(0x721)]){case _0x250b13[_0x2e072d(0x33f)]:this[_0x2e072d(0x644)](_0xf2f308);break;case _0x250b13['Receiver']:this[_0x2e072d(0x958)](_0xf2f308);}}['getReport'](){const _0x2a56e8=_0x4a13a;return{'bitrate':this[_0x2a56e8(0x415)],'senderBitrate':this[_0x2a56e8(0xc31)],'receiverBitrate':this[_0x2a56e8(0x8a9)],'totalBytes':this[_0x2a56e8(0x292)](),'senderTotalBytes':this['getSenderTotalBytes'](),'receiverTotalBytes':this['getReceiverTotalBytes'](),'totalMessages':this['senderTotalMessages']+this[_0x2a56e8(0xc3f)],'senderTotalMessages':this[_0x2a56e8(0xb48)],'receiverTotalMessages':this[_0x2a56e8(0xc3f)],'timeProcessing':this[_0x2a56e8(0x8d6)]+this[_0x2a56e8(0xa79)],'senderTimeProcessing':this[_0x2a56e8(0x8d6)],'receiverTimeProcessing':this[_0x2a56e8(0xa79)],'roundTripTime':this[_0x2a56e8(0x58b)]};}[_0x4a13a(0x292)](){const _0x1b6e4b=_0x4a13a;return this[_0x1b6e4b(0x5af)]+this[_0x1b6e4b(0xc2e)];}[_0x4a13a(0xab8)](){const _0x5ea890=_0x4a13a;return this[_0x5ea890(0x5af)];}[_0x4a13a(0xb2a)](){const _0x469f62=_0x4a13a;return this[_0x469f62(0xc2e)];}[_0x4a13a(0x644)](_0x5eeffd){const _0xe99654=_0x4a13a;this['setSenderTimestamp'](_0x5eeffd[_0xe99654(0xb08)]),this[_0xe99654(0x538)](_0x5eeffd[_0xe99654(0x9f4)]),this[_0xe99654(0xb48)]=_0x5eeffd[_0xe99654(0x333)],this[_0xe99654(0x8d6)]=_0x5eeffd[_0xe99654(0xbcc)],this[_0xe99654(0x58b)]=_0x5eeffd[_0xe99654(0x58b)];}[_0x4a13a(0x958)](_0x455af2){const _0x21b6c1=_0x4a13a;this[_0x21b6c1(0x2f5)](_0x455af2[_0x21b6c1(0xb08)]),this[_0x21b6c1(0x871)](_0x455af2['bytesReceived']),this[_0x21b6c1(0xc3f)]=_0x455af2[_0x21b6c1(0xa84)],this[_0x21b6c1(0xa79)]=_0x455af2['timeReceiving'];}[_0x4a13a(0x960)](_0x2be193){const _0xc13462=_0x4a13a;_0x2be193>this['senderCurrentTimestamp']&&(this[_0xc13462(0x433)]=this[_0xc13462(0x748)],this['senderCurrentTimestamp']=_0x2be193);}[_0x4a13a(0x2f5)](_0x2b2f6b){const _0x152510=_0x4a13a;_0x2b2f6b>this[_0x152510(0xa76)]&&(this[_0x152510(0x900)]=this['receiverCurrentTimestamp'],this[_0x152510(0xa76)]=_0x2b2f6b);}[_0x4a13a(0x538)](_0x48efc8){const _0x106ab2=_0x4a13a;this[_0x106ab2(0x657)]=this[_0x106ab2(0x5af)],this[_0x106ab2(0x5af)]=_0x48efc8;}['setReceiverBytes'](_0x3e72e3){const _0x1239f6=_0x4a13a;this[_0x1239f6(0xa49)]=this['receiverCurrentBytes'],this[_0x1239f6(0xc2e)]=_0x3e72e3;}}class _0x5b4061{[_0x4a13a(0x910)]=new Map();[_0x4a13a(0x632)]=new Map();['dataChannel']=new _0x2d653c();get[_0x4a13a(0xc31)](){const _0x31e49d=_0x4a13a;let _0x251c36=0x0;return this[_0x31e49d(0x910)]['forEach'](_0x20ecca=>{const _0x2e905d=_0x31e49d;_0x251c36+=_0x20ecca[_0x2e905d(0x415)];}),_0x251c36+=this[_0x31e49d(0x396)][_0x31e49d(0xc31)],_0x251c36;}get[_0x4a13a(0x8a9)](){const _0x1e0aac=_0x4a13a;let _0x246a7f=0x0;return this['receiverStreams'][_0x1e0aac(0x761)](_0xb5d670=>{const _0x1490c7=_0x1e0aac;_0x246a7f+=_0xb5d670[_0x1490c7(0x415)];}),_0x246a7f+=this[_0x1e0aac(0x396)][_0x1e0aac(0x8a9)],_0x246a7f;}get[_0x4a13a(0x415)](){const _0x47fca4=_0x4a13a;return this['senderBitrate']+this[_0x47fca4(0x8a9)];}[_0x4a13a(0x9c7)](_0x4f969c,_0x12fd87){const _0x4039b0=_0x4a13a,_0x27eb7c=[],_0x443e50=[];return _0x4f969c instanceof Array?_0x4f969c[_0x4039b0(0x761)](_0x4ade7f=>{const _0x26afa2=_0x4039b0;_0x4ade7f[_0x26afa2(0x761)](_0x4c38a9=>{const _0x20ffaf=_0x26afa2;_0x91bacb[_0x20ffaf(0xa7f)](_0x4c38a9[_0x20ffaf(0xbdd)])&&_0x27eb7c[_0x20ffaf(0x247)](_0x4c38a9),_0x5934cd['includes'](_0x4c38a9[_0x20ffaf(0xbdd)])&&_0x443e50[_0x20ffaf(0x247)](_0x4c38a9);});}):this[_0x4039b0(0x396)][_0x4039b0(0xb2e)](_0x4f969c),_0x27eb7c[_0x4039b0(0x454)]>0x0&&_0x12fd87?{...this[_0x4039b0(0xaf6)](_0x12fd87,_0x27eb7c),'origin':_0x250b13[_0x4039b0(0x2aa)],'streamId':_0x12fd87}:_0x443e50['length']>0x0&&_0x12fd87?{...this[_0x4039b0(0x35e)](_0x12fd87,_0x443e50),'origin':_0x250b13[_0x4039b0(0x33f)],'streamId':_0x12fd87}:void 0x0;}[_0x4a13a(0x840)](){const _0x224aba=_0x4a13a,_0x13482a={};this['senderStreams']['forEach']((_0x5edac5,_0x65ec01)=>{const _0x1cd2a3=a0_0x2cf3;_0x13482a[_0x65ec01]=_0x5edac5[_0x1cd2a3(0x840)]();});const _0x5bcca2={};return this[_0x224aba(0x632)][_0x224aba(0x761)]((_0x1ad0ee,_0x596cfd)=>{const _0x1abee2=_0x224aba;_0x5bcca2[_0x596cfd]=_0x1ad0ee[_0x1abee2(0x840)]();}),{'bitrate':this[_0x224aba(0x415)],'senderBitrate':this[_0x224aba(0xc31)],'receiverBitrate':this[_0x224aba(0x8a9)],'senderStreams':_0x13482a,'receiverStreams':_0x5bcca2,'dataChannel':this[_0x224aba(0x396)][_0x224aba(0x840)]()};}[_0x4a13a(0xaf6)](_0xd9812b,_0x14779f){const _0x251fef=_0x4a13a;return this[_0x251fef(0x632)][_0x251fef(0x738)](_0xd9812b)||this[_0x251fef(0x632)]['set'](_0xd9812b,new _0x359a74()),this['receiverStreams'][_0x251fef(0x68c)](_0xd9812b)[_0x251fef(0x9c7)](_0x14779f);}[_0x4a13a(0x35e)](_0x2f7f78,_0x3e0475){const _0x411740=_0x4a13a;return this[_0x411740(0x910)]['has'](_0x2f7f78)||this[_0x411740(0x910)][_0x411740(0x2a7)](_0x2f7f78,new _0x359a74()),this[_0x411740(0x910)][_0x411740(0x68c)](_0x2f7f78)[_0x411740(0x9c7)](_0x3e0475);}}class _0x1db915{[_0x4a13a(0x55d)]=new Map();['scheduleTime']=0x0;['durationTime']=0x0;[_0x4a13a(0x609)]=new Map();[_0x4a13a(0x5dc)]=new Map();[_0x4a13a(0x3ce)]=new Map();[_0x4a13a(0xad4)]=new Map();[_0x4a13a(0x590)]=new Map();[_0x4a13a(0x9b1)]=new Map();['graphDatabases']=new Map();[_0x4a13a(0x35a)]=new Map();['senderTotalMessages']=new Map();[_0x4a13a(0xc3f)]=new Map();[_0x4a13a(0x8d6)]=new Map();[_0x4a13a(0xa79)]=new Map();[_0x4a13a(0x5ca)]=new Map();[_0x4a13a(0x525)];[_0x4a13a(0x840)](){const _0x59c52b=_0x4a13a,_0x1a6152={};this['nodes'][_0x59c52b(0x761)]((_0x45d522,_0x3fbcc8)=>{_0x1a6152[_0x3fbcc8]=_0x45d522['getReport']();});let _0x593b5e=0x0;this['senderTimeProcessing']['forEach'](_0x579938=>{_0x593b5e+=_0x579938;});let _0x5e5747=0x0;this[_0x59c52b(0xa79)][_0x59c52b(0x761)](_0xb96e14=>{_0x5e5747+=_0xb96e14;});const _0x268563=_0x593b5e+_0x5e5747;let _0x45ffad={'messages':{'total':0x0}};this['systemMessages'][_0x59c52b(0x761)](_0x3ae24d=>{const _0x137759=_0x59c52b;Object['keys'](_0x3ae24d)[_0x137759(0x761)](_0x54e40e=>{const _0x35fe7c=_0x137759;_0x45ffad[_0x54e40e]||(_0x45ffad[_0x54e40e]={}),Object[_0x35fe7c(0x932)](_0x3ae24d[_0x54e40e])[_0x35fe7c(0x761)](_0x9c29a5=>{_0x45ffad[_0x54e40e][_0x9c29a5]||(_0x45ffad[_0x54e40e][_0x9c29a5]=0x0),_0x45ffad[_0x54e40e][_0x9c29a5]+=_0x3ae24d[_0x54e40e][_0x9c29a5];});});});let _0x5bad30=0x0,_0x1c3ec1=0x0,_0xda815e=0x0,_0x2e87c3=0x0,_0x6ae611=0x0;return this['pubsubTopics']['forEach'](_0x490f91=>{const _0x6c205b=_0x59c52b;_0x1c3ec1+=_0x490f91[_0x6c205b(0x333)],_0xda815e+=_0x490f91['messagesReceived'],_0x2e87c3+=_0x490f91[_0x6c205b(0x9f4)],_0x6ae611+=_0x490f91[_0x6c205b(0x325)];}),this[_0x59c52b(0x5dc)]['forEach'](_0x31f356=>{const _0x303fc0=_0x59c52b;_0x5bad30+=_0x31f356[_0x303fc0(0xa00)],_0x1c3ec1+=_0x31f356[_0x303fc0(0x333)],_0xda815e+=_0x31f356[_0x303fc0(0xa84)],_0x2e87c3+=_0x31f356[_0x303fc0(0x9f4)],_0x6ae611+=_0x31f356[_0x303fc0(0x325)];}),this[_0x59c52b(0x3ce)]['forEach'](_0x5e5821=>{const _0xf294c1=_0x59c52b;_0x5bad30+=_0x5e5821[_0xf294c1(0xa00)],_0x1c3ec1+=_0x5e5821[_0xf294c1(0x333)],_0xda815e+=_0x5e5821[_0xf294c1(0xa84)],_0x2e87c3+=_0x5e5821['bytesSent'],_0x6ae611+=_0x5e5821[_0xf294c1(0x325)];}),this['generativeAIContexts']['forEach'](_0x647174=>{const _0x477a1f=_0x59c52b;_0x5bad30+=_0x647174[_0x477a1f(0xa00)],_0x1c3ec1+=_0x647174[_0x477a1f(0x333)],_0xda815e+=_0x647174['messagesReceived'],_0x2e87c3+=_0x647174[_0x477a1f(0x9f4)],_0x6ae611+=_0x647174['bytesReceived'];}),this['generativeAIWorkers'][_0x59c52b(0x761)](_0x54c10d=>{const _0x2b4862=_0x59c52b;_0x5bad30+=_0x54c10d['storage'],_0x1c3ec1+=_0x54c10d[_0x2b4862(0x333)],_0xda815e+=_0x54c10d[_0x2b4862(0xa84)],_0x2e87c3+=_0x54c10d[_0x2b4862(0x9f4)],_0x6ae611+=_0x54c10d[_0x2b4862(0x325)];}),this[_0x59c52b(0x9b1)][_0x59c52b(0x761)](_0x24288f=>{const _0x2cdba0=_0x59c52b;_0x5bad30+=_0x24288f[_0x2cdba0(0xa00)],_0x1c3ec1+=_0x24288f[_0x2cdba0(0x333)],_0xda815e+=_0x24288f[_0x2cdba0(0xa84)],_0x2e87c3+=_0x24288f[_0x2cdba0(0x9f4)],_0x6ae611+=_0x24288f[_0x2cdba0(0x325)];}),this[_0x59c52b(0x481)]['forEach'](_0x5011ca=>{const _0x4fa10e=_0x59c52b;_0x5bad30+=_0x5011ca[_0x4fa10e(0xa00)],_0x1c3ec1+=_0x5011ca[_0x4fa10e(0x333)],_0xda815e+=_0x5011ca[_0x4fa10e(0xa84)],_0x2e87c3+=_0x5011ca[_0x4fa10e(0x9f4)],_0x6ae611+=_0x5011ca[_0x4fa10e(0x325)];}),{'STVolatility':this[_0x59c52b(0x60e)](),'DTVolatility':this[_0x59c52b(0x306)](),'bitrate':this['getBitrate'](),'senderBitrate':this['getSenderBitrate'](),'receiverBitrate':this[_0x59c52b(0xc12)](),'totalStorageSize':_0x5bad30,'totalMessages':_0x1c3ec1+_0xda815e,'totalMessagesSent':_0x1c3ec1,'totalMessagesReceived':_0xda815e,'totalBytes':_0x2e87c3+_0x6ae611,'totalBytesSent':_0x2e87c3,'totalBytesReceived':_0x6ae611,'systemMessages':_0x45ffad,'timeProcessing':_0x268563,'nodes':_0x1a6152,'pubsubTopics':Object[_0x59c52b(0x848)](this['pubsubTopics']),'objectStores':Object[_0x59c52b(0x848)](this[_0x59c52b(0x5dc)]),'keyValueDatabases':Object[_0x59c52b(0x848)](this[_0x59c52b(0x3ce)]),'generativeAIContexts':Object[_0x59c52b(0x848)](this['generativeAIContexts']),'generativeAIWorkers':Object[_0x59c52b(0x848)](this['generativeAIWorkers']),'vectorDatabases':Object['fromEntries'](this[_0x59c52b(0x9b1)]),'graphDatabases':Object[_0x59c52b(0x848)](this['graphDatabases']),'externalStorages':Object[_0x59c52b(0x848)](this[_0x59c52b(0x35a)])};}[_0x4a13a(0x5e1)](_0x52fad6){const _0x2188a3=_0x4a13a;this[_0x2188a3(0x55d)][_0x2188a3(0x2a7)](_0x52fad6,new _0x5b4061());}[_0x4a13a(0x9f6)](_0x5b3868){const _0x1fdd71=_0x4a13a;this[_0x1fdd71(0x55d)][_0x1fdd71(0xb18)](_0x5b3868);}[_0x4a13a(0x9c7)](_0x2f1171,_0x1ac3a8,_0x42ae32){const _0x415da7=_0x4a13a;_0x1ac3a8 instanceof Array||this[_0x415da7(0x27d)](_0x2f1171,_0x1ac3a8);const _0x1962fc=this[_0x415da7(0x55d)][_0x415da7(0x68c)](_0x2f1171)?.[_0x415da7(0x9c7)](_0x1ac3a8,_0x42ae32);_0x1962fc&&this['systemTopic']['publish']({'sourceId':_0x2d73b4,'messageType':_0x29c5a4[_0x415da7(0x76e)],'content':{'type':_0x13ab64[_0x415da7(0x586)],'data':{..._0x1962fc,'nodeId':_0x2f1171}}});}[_0x4a13a(0x555)](_0x470a71){const _0x59f2fd=_0x4a13a;this[_0x59f2fd(0x392)](_0x470a71['secheduleTime']),this[_0x59f2fd(0xc4c)](_0x470a71[_0x59f2fd(0x68b)]),this['systemTopic'][_0x59f2fd(0xa19)]({'sourceId':_0x2d73b4,'messageType':_0x29c5a4[_0x59f2fd(0x76e)],'content':{'type':_0x13ab64[_0x59f2fd(0x71b)],'data':{'STVolatility':this[_0x59f2fd(0x60e)](),'DTVolatility':this['getDTVolatility']()}}});}[_0x4a13a(0x46a)](_0x2dd19c,_0x4846f3,_0x1f2303){const _0x582f91=_0x4a13a;switch(_0x4846f3){case _0x1c17a1['PubSubTopicStats']:this[_0x582f91(0x609)][_0x582f91(0x2a7)](_0x2dd19c,_0x1f2303);break;case _0x1c17a1[_0x582f91(0x529)]:this[_0x582f91(0x5dc)][_0x582f91(0x2a7)](_0x2dd19c,_0x1f2303);break;case _0x1c17a1[_0x582f91(0x57e)]:this[_0x582f91(0x3ce)][_0x582f91(0x2a7)](_0x2dd19c,_0x1f2303);break;case _0x1c17a1[_0x582f91(0x4d4)]:this[_0x582f91(0xad4)][_0x582f91(0x2a7)](_0x2dd19c,_0x1f2303);break;case _0x1c17a1[_0x582f91(0xab4)]:this[_0x582f91(0x590)][_0x582f91(0x2a7)](_0x2dd19c,_0x1f2303);break;case _0x1c17a1[_0x582f91(0x786)]:this[_0x582f91(0x9b1)][_0x582f91(0x2a7)](_0x2dd19c,_0x1f2303);break;case _0x1c17a1[_0x582f91(0xa77)]:this[_0x582f91(0x481)]['set'](_0x2dd19c,_0x1f2303);break;case _0x1c17a1[_0x582f91(0xa15)]:this['externalStorages']['set'](_0x2dd19c,_0x1f2303);}}['registerSystemPublisher'](_0x34455a){const _0x2a90dd=_0x4a13a;this[_0x2a90dd(0x525)]=_0x34455a;}[_0x4a13a(0x2b4)](){const _0x1301e2=_0x4a13a;delete this[_0x1301e2(0x525)];}[_0x4a13a(0x60e)](){const _0x5704c5=_0x4a13a;return this[_0x5704c5(0x749)]>0x0&&this['scheduleTime']-_0x5cd442>0x0?(this[_0x5704c5(0x749)]-_0x5cd442)/_0x5cd442:0x0;}[_0x4a13a(0x306)](){const _0x2b3f7f=_0x4a13a;return this[_0x2b3f7f(0x68b)]>0x0&&this[_0x2b3f7f(0x68b)]-0x64>0x0?(this[_0x2b3f7f(0x68b)]-0x64)/0x64:0x0;}[_0x4a13a(0x1ef)](){const _0x4f7091=_0x4a13a;let _0x6eda28=0x0;return this[_0x4f7091(0x55d)][_0x4f7091(0x761)](_0x433b10=>{const _0x2cccb1=_0x4f7091;_0x6eda28+=_0x433b10[_0x2cccb1(0xc31)];}),_0x6eda28;}['getReceiverBitrate'](){const _0x228b8c=_0x4a13a;let _0x3a6dd3=0x0;return this[_0x228b8c(0x55d)][_0x228b8c(0x761)](_0x3cd414=>{const _0x1e688b=_0x228b8c;_0x3a6dd3+=_0x3cd414[_0x1e688b(0x8a9)];}),_0x3a6dd3;}['getBitrate'](){const _0x529bee=_0x4a13a;let _0x2c9144=0x0;return this[_0x529bee(0x55d)][_0x529bee(0x761)](_0x362885=>{const _0x1d5984=_0x529bee;_0x2c9144+=_0x362885[_0x1d5984(0x415)];}),_0x2c9144;}['setScheduleTime'](_0x4d5967){this['scheduleTime']=_0x4d5967;}['setDurationTime'](_0x4af25c){const _0x33d72c=_0x4a13a;this[_0x33d72c(0x68b)]=_0x4af25c;}['processDataChannelReport'](_0x21db84,_0x563d52){const _0x79cfc7=_0x4a13a;switch(_0x563d52[_0x79cfc7(0x721)]){case _0x250b13[_0x79cfc7(0x33f)]:this[_0x79cfc7(0x644)](_0x21db84,_0x563d52);break;case _0x250b13['Receiver']:this[_0x79cfc7(0x958)](_0x21db84,_0x563d52);}}[_0x4a13a(0x644)](_0x5d02ba,_0x22fefc){const _0x29e9df=_0x4a13a;this[_0x29e9df(0xb48)]['set'](_0x5d02ba,_0x22fefc[_0x29e9df(0x333)]),this[_0x29e9df(0x8d6)][_0x29e9df(0x2a7)](_0x5d02ba,_0x22fefc[_0x29e9df(0xbcc)]);}[_0x4a13a(0x958)](_0x1594ee,_0x10ce33){const _0x391d98=_0x4a13a;this[_0x391d98(0xc3f)][_0x391d98(0x2a7)](_0x1594ee,_0x10ce33[_0x391d98(0xa84)]),this['receiverTimeProcessing'][_0x391d98(0x2a7)](_0x1594ee,_0x10ce33[_0x391d98(0x261)]),this[_0x391d98(0x5ca)][_0x391d98(0x2a7)](_0x1594ee,_0x10ce33[_0x391d98(0x5ca)]);}}class _0x16c16e{['configs'];['remoteNodes']=new Set();[_0x4a13a(0xbbe)];[_0x4a13a(0x718)];[_0x4a13a(0x7e8)];[_0x4a13a(0x4ad)]=new _0x1db915();constructor(_0x1ee0f2){const _0x4642be=_0x4a13a;this[_0x4642be(0x29b)]=_0x1ee0f2,this[_0x4642be(0x29b)][_0x4642be(0x83c)][_0x4642be(0x6b3)](this[_0x4642be(0x4ad)]),this[_0x4642be(0x718)]=this[_0x4642be(0xbdb)](),this[_0x4642be(0x7e8)]=this[_0x4642be(0x36c)]();}['close'](){const _0xf7967d=_0x4a13a;this['configs'][_0xf7967d(0x83c)]['unregisterSystemSource'](this[_0xf7967d(0x4ad)]),this[_0xf7967d(0x7e8)](),this['statsCollection']();}[_0x4a13a(0x5e1)](_0x3aceb0){const _0xb33673=_0x4a13a;this[_0xb33673(0xc1b)][_0xb33673(0xc09)](_0x3aceb0),this['statsReport'][_0xb33673(0x5e1)](_0x3aceb0);}[_0x4a13a(0x9f6)](_0x550573){const _0x1406ec=_0x4a13a;this[_0x1406ec(0xc1b)][_0x1406ec(0xb18)](_0x550573),this['statsReport'][_0x1406ec(0x9f6)](_0x550573);}['handlePeerConnectionSystemEvents'](_0x314617){const _0x208f16=_0x4a13a;if(_0x314617[_0x208f16(0x816)][_0x208f16(0xbdd)]===_0x1227a1[_0x208f16(0x76e)]){const {nodeId:_0x40435b,streamId:_0x1d26c1,stats:_0x2f9e86}=_0x314617[_0x208f16(0x816)];this['statsReport'][_0x208f16(0x9c7)](_0x40435b,_0x2f9e86,_0x1d26c1);}}['handleContentSystemEvents'](_0x21cb5c){const _0x370cb9=_0x4a13a;switch(_0x21cb5c['content']['type']){case _0x1c17a1['ObjectStoreStats']:case _0x1c17a1[_0x370cb9(0x57e)]:case _0x1c17a1['PubSubTopicStats']:case _0x1c17a1['GenerativeAIContextStats']:case _0x1c17a1[_0x370cb9(0xab4)]:case _0x1c17a1[_0x370cb9(0x786)]:case _0x1c17a1[_0x370cb9(0xa77)]:case _0x1c17a1[_0x370cb9(0xa15)]:this[_0x370cb9(0x4ad)][_0x370cb9(0x46a)](_0x21cb5c[_0x370cb9(0x816)][_0x370cb9(0xaed)],_0x21cb5c[_0x370cb9(0x816)][_0x370cb9(0xbdd)],_0x21cb5c[_0x370cb9(0x816)][_0x370cb9(0x54a)]);}}[_0x4a13a(0x36c)](){const _0x360871=_0x4a13a;return _0x37fc55[_0x360871(0x583)](()=>{const _0x428f32=_0x360871,_0x17ef04=this['statsReport'][_0x428f32(0x840)]();_0x260a6c['log'](_0x2e74f6[_0x428f32(0x76e)],_0x428f32(0x37c),_0x17ef04),(0x0,_0x1264d4[_0x428f32(0x219)])((0x0,_0x1264d4[_0x428f32(0x27b)])(_0x4c4338[_0x428f32(0x73a)](),_0x428f32(0x7c0)+this[_0x428f32(0x29b)][_0x428f32(0x649)]+_0x428f32(0x598)),{'clusterId':this['configs'][_0x428f32(0x88f)],'nodeId':this[_0x428f32(0x29b)][_0x428f32(0xc4d)][_0x428f32(0xa47)](),'nodeType':this[_0x428f32(0x29b)][_0x428f32(0xc4d)][_0x428f32(0xbdd)],'timestamp':(0x0,_0x1264d4[_0x428f32(0xb1e)])(),'report':_0x17ef04}),_0x260a6c[_0x428f32(0x6a5)](_0x428f32(0x54a),{'clusterId':this[_0x428f32(0x29b)]['clusterId'],'nodeId':this[_0x428f32(0x29b)][_0x428f32(0xc4d)]['getId'](),'nodeType':this['configs'][_0x428f32(0xc4d)][_0x428f32(0xbdd)],'data':{'report':_0x17ef04}});},_0x20163a);}[_0x4a13a(0xbdb)](){const _0x3c0ab0=_0x4a13a;let _0x8fdc28=!0x1,_0x3d7c7a=Date[_0x3c0ab0(0xad3)]();return _0x37fc55[_0x3c0ab0(0x583)](async()=>{const _0x170adb=_0x3c0ab0;if(_0x8fdc28)return;if(_0x8fdc28=!0x0,0x0===this[_0x170adb(0xc1b)][_0x170adb(0x7a7)])return delete this[_0x170adb(0xbbe)],void(_0x8fdc28=!0x1);const _0x3db270=Date['now']();this[_0x170adb(0x4a3)]();try{await this['configs'][_0x170adb(0x83c)][_0x170adb(0x426)](this[_0x170adb(0xbbe)]);}catch(_0x552718){}this[_0x170adb(0x4ad)]['processLocalReport']({'secheduleTime':_0x3db270-_0x3d7c7a,'durationTime':Date['now']()-_0x3db270}),_0x3d7c7a=_0x3db270,_0x8fdc28=!0x1;},_0x5cd442);}['findNextNodeId'](){const _0x9e897=_0x4a13a;let _0x99ad42,_0x560588=!0x1;this[_0x9e897(0xbbe)]&&(this[_0x9e897(0xc1b)][_0x9e897(0x738)](this[_0x9e897(0xbbe)])||delete this[_0x9e897(0xbbe)]);for(const _0x33df43 of this[_0x9e897(0xc1b)])if(_0x99ad42||(_0x99ad42=_0x33df43),this[_0x9e897(0xbbe)]!==_0x33df43){if(_0x560588)return void(this[_0x9e897(0xbbe)]=_0x33df43);}else _0x560588=!0x0,delete this['nextNodeId'];this[_0x9e897(0xbbe)]||(this[_0x9e897(0xbbe)]=_0x99ad42);}}class _0x5391cb{[_0x4a13a(0x34d)];['destination'];[_0x4a13a(0x525)];constructor(_0x118c0e,_0x4a1281){const _0x2161dc=_0x4a13a;this[_0x2161dc(0x34d)]=_0x118c0e,this[_0x2161dc(0x865)]=_0x4a1281;}['registerSystemPublisher'](_0x4db5d7){this['systemTopic']=_0x4db5d7;}['unregisterSystemPublisher'](){const _0x4786c1=_0x4a13a;delete this[_0x4786c1(0x525)];}}class _0xb4db18 extends _0x5391cb{[_0x4a13a(0x34d)];[_0x4a13a(0x865)];[_0x4a13a(0xbe8)];constructor(_0x4b425d,_0x28702c,_0x3d8c81){const _0x4dc218=_0x4a13a;super(_0x4b425d,_0x28702c),this[_0x4dc218(0x34d)]=_0x4b425d,this[_0x4dc218(0x865)]=_0x28702c,this[_0x4dc218(0xbe8)]=_0x3d8c81;}['subscribe'](_0x2fe330,_0x55d362,_0x5ad324){const _0x84a2af=_0x4a13a;if(this[_0x84a2af(0x865)][_0x84a2af(0x743)]()===_0x52458b[_0x84a2af(0x54c)][_0x84a2af(0x5f6)]){const _0x4748a2={'type':_0x141a98[_0x84a2af(0xb12)],'label':this[_0x84a2af(0x865)][_0x84a2af(0x287)](),'ownerId':_0x2fe330,'trackKinds':_0x55d362??this[_0x84a2af(0x865)][_0x84a2af(0x71f)](),'params':_0x5ad324};this[_0x84a2af(0x525)][_0x84a2af(0xa19)]({'sourceId':this['source']['getLocalId'](),'destinationIds':[this[_0x84a2af(0x34d)]['getRemoteId']()],'messageType':_0x29c5a4[_0x84a2af(0xa53)],'content':_0x4748a2}),this[_0x84a2af(0xbe8)]=_0x5ad324;}}[_0x4a13a(0xb4b)](_0x2fced3,_0x55f683){const _0x27f920=_0x4a13a;if(this['destination'][_0x27f920(0x743)]()===_0x52458b[_0x27f920(0x54c)]['Media']){const _0x43336d={'type':_0x141a98[_0x27f920(0x2cc)],'label':this[_0x27f920(0x865)][_0x27f920(0x287)](),'ownerId':_0x2fced3,'params':_0x55f683};this[_0x27f920(0x525)]['publish']({'sourceId':this['source']['getLocalId'](),'destinationIds':[this['source'][_0x27f920(0xabc)]()],'messageType':_0x29c5a4[_0x27f920(0xa53)],'content':_0x43336d}),this['params']=_0x55f683;}}[_0x4a13a(0x3bf)](_0x282a8d,_0xf2d5c5,_0x2def84){const _0x4e85c2=_0x4a13a;if(this[_0x4e85c2(0x865)][_0x4e85c2(0x743)]()===_0x52458b['ContentType']['Media']){const _0x5d54b6={'type':_0x141a98[_0x4e85c2(0x7e3)],'label':this[_0x4e85c2(0x865)][_0x4e85c2(0x287)](),'ownerId':_0x282a8d,'trackKinds':_0x2def84??this[_0x4e85c2(0x865)][_0x4e85c2(0x71f)](),'remainingTracks':_0xf2d5c5};this[_0x4e85c2(0x525)][_0x4e85c2(0xa19)]({'sourceId':this['source']['getLocalId'](),'destinationIds':[this[_0x4e85c2(0x34d)]['getRemoteId']()],'messageType':_0x29c5a4['Subscription'],'content':_0x5d54b6});}}}class _0x309c0d{[_0x4a13a(0xb41)];[_0x4a13a(0xb28)];['tracks'];[_0x4a13a(0x525)];['answers']=new Set();[_0x4a13a(0x50c)]=Date[_0x4a13a(0xad3)]();[_0x4a13a(0xbe8)];[_0x4a13a(0x50d)]=0x0;constructor(_0x58cca5,_0x1b6906,_0x43b5c1,_0x593d92){const _0x2fedd2=_0x4a13a;this[_0x2fedd2(0xb41)]=_0x1b6906,this[_0x2fedd2(0xb28)]=_0x43b5c1,this[_0x2fedd2(0x6e9)]=_0x593d92,_0x58cca5[_0x2fedd2(0x761)](_0x2800b9=>{const _0x45fb60=_0x2fedd2;this[_0x45fb60(0x2ff)]['add']({'nodeId':_0x2800b9,'type':_0x266f0e['Waiting']});});}[_0x4a13a(0x77f)](){const _0xf62472=_0x4a13a;return this[_0xf62472(0x6e9)];}['registerSystemPublisher'](_0x4669c6){this['systemTopic']=_0x4669c6;}[_0x4a13a(0x2b4)](){const _0x4a8c26=_0x4a13a;delete this[_0x4a8c26(0x525)];}['reset'](_0x4f365d,_0x533fbf){const _0x3e3b6b=_0x4a13a;this[_0x3e3b6b(0x50c)]=Date['now'](),this[_0x3e3b6b(0x2ff)][_0x3e3b6b(0xb0f)](),_0x4f365d[_0x3e3b6b(0x761)](_0x4b0911=>{const _0x294be4=_0x3e3b6b;this[_0x294be4(0x2ff)][_0x294be4(0xc09)]({'nodeId':_0x4b0911,'type':_0x266f0e['Waiting']});}),this[_0x3e3b6b(0x50d)]+=0x1,this[_0x3e3b6b(0xb41)]=_0x533fbf;}[_0x4a13a(0x605)](_0x58cba2,_0x587968,_0x405c3d,_0x2d4ae6,_0x28f02b){const _0x4c15e1=_0x4a13a;if(this[_0x4c15e1(0x50d)]>0xa)throw new _0x240123(_0x240123[_0x4c15e1(0x2f7)][_0x4c15e1(0x796)],{'answers':Array[_0x4c15e1(0xad6)](this[_0x4c15e1(0x2ff)])[_0x4c15e1(0x275)](_0x9d2bd9=>({'nodeId':_0x9d2bd9[_0x4c15e1(0xb8b)],'type':_0x9d2bd9[_0x4c15e1(0xbdd)]}))});const _0x1bee05=Array[_0x4c15e1(0xad6)](this[_0x4c15e1(0x2ff)])[_0x4c15e1(0x275)](_0x297b1f=>_0x297b1f[_0x4c15e1(0xb8b)]);this['params']=_0x28f02b,this['systemTopic'][_0x4c15e1(0xa19)]({'sourceId':_0x58cba2,'destinationIds':_0x1bee05,'messageType':_0x29c5a4[_0x4c15e1(0xa53)],'content':{'type':_0x141a98[_0x4c15e1(0x640)],'label':_0x405c3d,'ownerId':_0x587968,'trackKinds':_0x2d4ae6,'params':_0x28f02b}}),_0x260a6c[_0x4c15e1(0x8b9)](_0x2e74f6[_0x4c15e1(0xa53)],_0x4c15e1(0x919),_0x58cba2,_0x1bee05);}['handleSubscriptionSystemEvents'](_0x50169,_0x683349){const _0x184c3f=_0x4a13a;switch(_0x683349[_0x184c3f(0xbdd)]){case _0x141a98['CanProvideMediaStream']:{const _0xae94be=this[_0x184c3f(0xb41)]>=_0x683349[_0x184c3f(0xac6)]&&_0x683349['distance']<=this['maxDistance'],_0x3845be=Array[_0x184c3f(0xad6)](this['answers'])[_0x184c3f(0x319)](_0x59268a=>_0x59268a['nodeId']===_0x50169);_0x3845be['type']=_0xae94be?_0x266f0e[_0x184c3f(0xb02)]:_0x266f0e[_0x184c3f(0xb5c)],_0x3845be[_0x184c3f(0x89f)]=_0x683349['cost'],_0x3845be[_0x184c3f(0xac6)]=_0x683349[_0x184c3f(0xac6)],_0x3845be[_0x184c3f(0x2d9)]=_0x683349[_0x184c3f(0x2d9)],_0x3845be['roundTripTime']=Date['now']()-this['startTime'],_0x3845be[_0x184c3f(0xbe8)]=this[_0x184c3f(0xbe8)],_0x3845be[_0x184c3f(0x3ec)]=_0x683349[_0x184c3f(0x3ec)],_0x3845be[_0x184c3f(0xb8c)]=_0x683349[_0x184c3f(0xb8c)],_0x3845be['streamLabel']=_0x683349[_0x184c3f(0xaed)],_0x260a6c[_0x184c3f(0x8b9)](_0x2e74f6[_0x184c3f(0xa53)],(_0xae94be?'Accepted':_0x184c3f(0xb5c))+_0x184c3f(0x3d3),_0x3845be);break;}case _0x141a98[_0x184c3f(0x839)]:{const _0x3b8f28=Array[_0x184c3f(0xad6)](this['answers'])[_0x184c3f(0x319)](_0x5101a8=>_0x5101a8['nodeId']===_0x50169);_0x3b8f28[_0x184c3f(0xbdd)]=_0x266f0e['Rejected'],_0x260a6c[_0x184c3f(0x8b9)](_0x2e74f6[_0x184c3f(0xa53)],_0x184c3f(0x549),_0x3b8f28);break;}}if(this[_0x184c3f(0x647)]())return this[_0x184c3f(0x270)]();}[_0x4a13a(0x270)](){const _0x4a75cd=_0x4a13a,_0x122bf5=Array[_0x4a75cd(0xad6)](this[_0x4a75cd(0x2ff)])[_0x4a75cd(0x675)](_0x2d4025=>_0x2d4025['type']===_0x266f0e[_0x4a75cd(0xb02)])[_0x4a75cd(0xbde)]((_0x3dac44,_0x4caea2)=>_0x3dac44[_0x4a75cd(0x89f)]===_0x4caea2[_0x4a75cd(0x89f)]?_0x3dac44[_0x4a75cd(0x58b)]-_0x4caea2[_0x4a75cd(0x58b)]:_0x3dac44[_0x4a75cd(0x89f)]-_0x4caea2['cost']);if(0x0===_0x122bf5[_0x4a75cd(0x454)])throw new _0x240123(_0x240123[_0x4a75cd(0x2f7)][_0x4a75cd(0x796)],{'answers':Array[_0x4a75cd(0xad6)](this['answers'])[_0x4a75cd(0x275)](_0x37b41a=>({'nodeId':_0x37b41a['nodeId'],'type':_0x37b41a['type']}))});return _0x260a6c[_0x4a75cd(0x8b9)](_0x2e74f6[_0x4a75cd(0xa53)],_0x4a75cd(0x8fe),_0x122bf5[0x0],this[_0x4a75cd(0x2ff)]),_0x122bf5[0x0];}['canChooseAnswer'](){const _0xf9d511=_0x4a13a;for(const _0xcf3f7c of this[_0xf9d511(0x2ff)])if(_0xcf3f7c[_0xf9d511(0xbdd)]===_0x266f0e[_0xf9d511(0xb8e)])return!0x1;return!0x0;}}class _0x5ea01b{[_0x4a13a(0xaed)];[_0x4a13a(0x8e5)];[_0x4a13a(0x251)]=_0x47b7f3();constructor(_0x5037cf,_0x325a6f){const _0x4aaea1=_0x4a13a;this[_0x4aaea1(0xaed)]=_0x5037cf,this[_0x4aaea1(0x8e5)]=_0x325a6f;}[_0x4a13a(0x287)](){const _0x97d906=_0x4a13a;return this[_0x97d906(0xaed)];}[_0x4a13a(0x743)](){const _0x4440d8=_0x4a13a;return this[_0x4440d8(0x8e5)];}['registerSource'](_0x3e5139){const _0x27ba29=_0x4a13a;_0x3e5139[_0x27ba29(0xb4f)](this);}[_0x4a13a(0x974)](_0x3058a3){const _0x4c7565=_0x4a13a;_0x3058a3[_0x4c7565(0xa1f)](this);}[_0x4a13a(0xa19)](_0x5cbff5){const _0x5078f2=_0x4a13a;this[_0x5078f2(0x251)][_0x5078f2(0xa19)]({'topicLabel':this[_0x5078f2(0xaed)],'contentType':this[_0x5078f2(0x8e5)],'uuid':(0x0,_0xafe7f0['v4'])(),'recipients':[],..._0x5cbff5});}[_0x4a13a(0x7a8)](_0xa3731c){const _0x212c4a=_0x4a13a;return this['listener'][_0x212c4a(0x7a8)](_0xa3731c);}[_0x4a13a(0x6ed)](_0x334f81){const _0x5e5c43=_0x4a13a;_0x334f81[_0x5e5c43(0x634)](this);}[_0x4a13a(0x258)](_0x8e6c9c){const _0x51f98b=_0x4a13a;_0x8e6c9c[_0x51f98b(0x6dd)](this);}}class _0x59d87b{[_0x4a13a(0x84f)]={'topics':new Map(),'subscriptions':new Map()};[_0x4a13a(0x8d4)];constructor(_0x5d7954){const _0x4447ab=_0x4a13a;this[_0x4447ab(0x8d4)]=_0x5d7954;}get[_0x4a13a(0xc1d)](){const _0x164c8a=_0x4a13a;return this[_0x164c8a(0x84f)][_0x164c8a(0xc1d)];}get[_0x4a13a(0xbba)](){const _0x4aafc8=_0x4a13a;return this[_0x4aafc8(0x84f)][_0x4aafc8(0xbba)];}['createSubscription'](_0x15fe03,_0x287a10){const _0x2f635e=_0x4a13a,_0x3a8800=this[_0x2f635e(0x8d4)](_0x287a10),_0x595b44=_0x430db8(_0x15fe03);if(!_0x3a8800[_0x2f635e(0x6da)])throw new _0x240123(_0x240123[_0x2f635e(0x2f7)][_0x2f635e(0x85c)],{'message':_0x595b44+':\x20'+_0x3a8800[_0x2f635e(0x69f)]+_0x2f635e(0x688)+_0x3a8800[_0x2f635e(0x8e5)],'subscriptionType':_0x15fe03,'subscription':_0x287a10,'subscriptonParts':_0x3a8800});const _0x4b36d7=_0x22cabf(_0x15fe03,_0x3a8800);if(this['maps']['subscriptions'][_0x2f635e(0x738)](_0x4b36d7))throw new _0x240123(_0x240123[_0x2f635e(0x2f7)][_0x2f635e(0x85c)],{'message':_0x595b44+':\x20'+_0x4b36d7+_0x2f635e(0x72f),'subscriptionType':_0x15fe03,'subscription':_0x287a10,'subscriptonParts':_0x3a8800});this[_0x2f635e(0x84f)]['subscriptions'][_0x2f635e(0x2a7)](_0x4b36d7,_0x287a10),this['createTopic'](_0x3a8800,_0x287a10);}['removeSubscription'](_0x258fd0,_0x353d09){const _0xfbaa1f=_0x4a13a,_0x5cd743=_0x22cabf(_0x353d09,_0x258fd0),_0xbba6c2=this[_0xfbaa1f(0x84f)][_0xfbaa1f(0xc1d)][_0xfbaa1f(0x68c)](_0x5cd743);if(!_0xbba6c2)throw new _0x240123(_0x240123[_0xfbaa1f(0x2f7)][_0xfbaa1f(0x85c)],{'message':_0x430db8(_0x353d09)+':\x20'+_0x5cd743+'\x20does\x20not\x20exists','subscriptionType':_0x353d09,'subscription':_0xbba6c2,'subscriptonParts':_0x258fd0});this[_0xfbaa1f(0xad0)](_0xbba6c2,_0x5cd743,_0x258fd0);}[_0x4a13a(0xad0)](_0x321509,_0x5280e0,_0x34c14a){const _0x1df691=_0x4a13a;_0x34c14a=_0x34c14a||this['getPartsFromSubscription'](_0x321509),this['maps'][_0x1df691(0xc1d)][_0x1df691(0xb18)](_0x5280e0),this[_0x1df691(0xc37)](_0x34c14a,_0x321509);}['createTopic'](_0x29c4db,{source:_0x547040,destination:_0x126d80}){const _0x92c8ce=_0x4a13a,{contentType:_0x43f393,label:_0x4e7204,remoteId:_0x5d810a}=_0x29c4db,_0x4e2eb2=_0x626013(_0x43f393,_0x4e7204,_0x5d810a),_0x26082a=new _0x5ea01b(_0x4e2eb2,_0x43f393);_0x26082a['registerSource'](_0x547040),_0x26082a[_0x92c8ce(0x974)](_0x126d80),this[_0x92c8ce(0x84f)][_0x92c8ce(0xbba)]['set'](_0x26082a['getLabel'](),_0x26082a);}[_0x4a13a(0xc37)](_0x271a93,_0x55066a){const _0x2b705b=_0x4a13a,{contentType:_0x1fd96d,label:_0x1a9839,remoteId:_0xf1f9b8}=_0x271a93,_0xdd3571=_0x626013(_0x1fd96d,_0x1a9839,_0xf1f9b8),_0x1113f9=this[_0x2b705b(0x84f)][_0x2b705b(0xbba)][_0x2b705b(0x68c)](_0xdd3571);_0x1113f9&&(this[_0x2b705b(0x837)](_0x1113f9,_0x55066a),this[_0x2b705b(0x84f)]['topics'][_0x2b705b(0xb18)](_0xdd3571));}['closeTopic'](_0x5759a8,{source:_0x3e8b1e,destination:_0x16869d}){const _0xe6f3eb=_0x4a13a;_0x5759a8[_0xe6f3eb(0x6ed)](_0x3e8b1e),_0x5759a8[_0xe6f3eb(0x258)](_0x16869d);}[_0x4a13a(0x4e3)](_0x2de2e6){const _0x2aa5db=_0x4a13a;this[_0x2aa5db(0x84f)]['subscriptions']['forEach']((_0x1c495a,_0x3c3360)=>{const _0x2f30a5=_0x2aa5db;_0x3c3360[_0x2f30a5(0x9b3)](_0x2de2e6)&&this[_0x2f30a5(0xad0)](_0x1c495a,_0x3c3360);});}}class _0x511057{['configs'];[_0x4a13a(0xb28)];[_0x4a13a(0x9cd)]=new Map();[_0x4a13a(0x922)]=_0x3c58cc(new _0xe449bc(this[_0x4a13a(0x9b9)]['bind'](this),()=>_0x37fc55[_0x4a13a(0xc22)](0x64)),!0x0);[_0x4a13a(0x831)]=new Map();[_0x4a13a(0x84f)];['chosenAnswers']=new Map();constructor(_0x52eae1,_0x48ab74){const _0x5f3ecb=_0x4a13a;this[_0x5f3ecb(0x29b)]=_0x52eae1,this[_0x5f3ecb(0xb28)]=_0x48ab74,this[_0x5f3ecb(0x84f)]=new _0x59d87b(({source:_0x5540da,destination:_0x38f142})=>_0x1e9512(_0x38f142,_0x5540da));}[_0x4a13a(0xa9a)](_0x277807,_0x5c608b){const _0x2bd382=_0x4a13a,_0x2b41ee=this['isMediaSource'](_0x277807)&&this[_0x2bd382(0x314)](_0x5c608b)?new _0xb4db18(_0x277807,_0x5c608b):new _0x5391cb(_0x277807,_0x5c608b);this['maps'][_0x2bd382(0xa9a)](_0x586dfe['Incoming'],_0x2b41ee),this[_0x2bd382(0x29b)][_0x2bd382(0x83c)][_0x2bd382(0x6b3)](_0x2b41ee);}[_0x4a13a(0x8ca)](_0x339cbe,_0x1d777b,_0x207316=''){const _0x5577f3=_0x4a13a,_0x3bf176={'contentType':_0x1d777b,'label':_0x339cbe,'remoteId':_0x207316},_0x256424=_0x22cabf(_0x586dfe[_0x5577f3(0x250)],_0x3bf176),_0x25502d=this[_0x5577f3(0x84f)][_0x5577f3(0xc1d)]['get'](_0x256424);_0x25502d&&this[_0x5577f3(0xad0)](_0x25502d,_0x256424);}['handleContentUnpublishMediaStream'](_0x22c5d7){const _0x355445=_0x4a13a;this[_0x355445(0x2ba)](_0x22c5d7);}[_0x4a13a(0x73c)]({label:_0x202d53,ownerId:_0x17a913,trackKinds:_0x3bd5c4,params:_0x30bd22}){const _0x409c9e=_0x4a13a;this[_0x409c9e(0xa99)](_0x202d53,_0x17a913,_0x3bd5c4,_0x30bd22);}[_0x4a13a(0xc1f)]({ownerId:_0x3ce43a,label:_0x8de3d5,params:_0x42135f}){const _0x3f50c8=_0x4a13a,{subscriptionLabel:_0x514a2e}=this['getSubscriptionLabel'](_0x8de3d5,_0x3ce43a),_0x2fe146=this[_0x3f50c8(0xbf8)](_0x514a2e);_0x2fe146&&_0x2fe146[_0x3f50c8(0xb4b)](_0x3ce43a,_0x42135f);}[_0x4a13a(0x97d)]({ownerId:_0x1019bc,label:_0x24246a,trackKinds:_0x53b2c2,remainingTracks:_0x23763d}){const _0x25495e=_0x4a13a,_0x29fcea=_0x22cabf(_0x586dfe[_0x25495e(0x250)],{'contentType':_0x52458b[_0x25495e(0x54c)]['Media'],'label':_0x24246a,'remoteId':_0x1019bc});this[_0x25495e(0x81e)](_0x29fcea);const _0x261424=this['subscriptionRequests']['get'](_0x29fcea);_0x261424&&(this[_0x25495e(0x29b)][_0x25495e(0x83c)]['unregisterSystemSource'](_0x261424),this[_0x25495e(0x9cd)][_0x25495e(0xb18)](_0x29fcea));const {parts:_0x3f3b7c,subscriptionLabel:_0x5b3f08}=this[_0x25495e(0x76c)](_0x24246a,_0x1019bc),_0x3cd2a6=this[_0x25495e(0xbf8)](_0x5b3f08);_0x3cd2a6&&(_0x3cd2a6[_0x25495e(0x3bf)](_0x1019bc,_0x23763d,_0x53b2c2),0x0===_0x23763d&&this['removeSubscription'](_0x3f3b7c[_0x25495e(0xaed)],_0x3f3b7c[_0x25495e(0x8e5)],_0x3f3b7c[_0x25495e(0x69f)]));}[_0x4a13a(0x235)](_0x2a61e2,{label:_0x17177b,ownerId:_0x2ce27e,trackKinds:_0x30d46c,streamId:_0x296d26,params:_0x567bb1}){const _0x5de25f=_0x4a13a,_0x2f8e18=_0x22cabf(_0x586dfe[_0x5de25f(0x250)],{'contentType':_0x52458b[_0x5de25f(0x54c)][_0x5de25f(0x5f6)],'label':_0x296d26,'remoteId':_0x2a61e2}),_0x4945a2=this['maps'][_0x5de25f(0xc1d)]['get'](_0x2f8e18);if(!(_0x4945a2&&_0x4945a2 instanceof _0xb4db18))throw new _0x240123(_0x240123[_0x5de25f(0x2f7)]['SubscriptionRequestDoesNotExist'],{'label':_0x2f8e18,'ownerId':_0x2ce27e});this[_0x5de25f(0xad0)](_0x4945a2,_0x2f8e18),this[_0x5de25f(0xa99)](_0x17177b,_0x2ce27e,_0x30d46c,_0x567bb1);}[_0x4a13a(0x564)](_0x3e076a,_0x5414db){const _0x451e78=_0x4a13a,{label:_0x3ca694,ownerId:_0x145b13,trackKinds:_0x439ff6,params:_0x542d38}=_0x5414db,_0x366344=_0x22cabf(_0x586dfe['Incoming'],{'contentType':_0x52458b[_0x451e78(0x54c)][_0x451e78(0x5f6)],'label':_0x3ca694,'remoteId':_0x145b13});if(!this[_0x451e78(0x9cd)][_0x451e78(0x738)](_0x366344))throw new _0x240123(_0x240123[_0x451e78(0x2f7)][_0x451e78(0xb2f)],{'label':_0x366344,'ownerId':_0x145b13,'streamId':_0x5414db['streamId'],'requests':this[_0x451e78(0x9cd)]});const _0x3375ad=this['subscriptionRequests']['get'](_0x366344);if(_0x439ff6[_0x451e78(0x454)]===_0x3375ad[_0x451e78(0x77f)]()[_0x451e78(0x454)]&&_0x439ff6[_0x451e78(0x32c)](_0x5355a6=>_0x3375ad['getTracks']()[_0x451e78(0xa7f)](_0x5355a6)))try{const _0x5714e4=_0x3375ad['handleSubscriptionSystemEvents'](_0x3e076a,_0x5414db);if(!_0x5714e4)return;this[_0x451e78(0x7a8)](_0x5714e4,_0x145b13,_0x3ca694,_0x366344,_0x439ff6);}catch(_0x5e63f1){return void this[_0x451e78(0x236)](_0x3ca694,_0x145b13,_0x439ff6,_0x542d38);}}[_0x4a13a(0xb3b)](_0x4880cc,{label:_0x20daeb,ownerId:_0x1c89dd,trackKinds:_0x4f7e59}){const _0x9d90f4=_0x4a13a,_0x17ef2b=this['configs'][_0x9d90f4(0x83c)][_0x9d90f4(0x44c)](_0x1c89dd,_0x20daeb);if(!_0x17ef2b)return;const _0x170b05=_0x17ef2b[_0x9d90f4(0x57a)](),_0x562477=_0x17ef2b['getSubscribedTracks']();_0x562477['some'](_0x18708f=>_0x4f7e59[_0x9d90f4(0xa7f)](_0x18708f))&&this['findNewMediaSubscription'](_0x4880cc,_0x20daeb,_0x170b05,_0x1c89dd,_0x562477);}[_0x4a13a(0x283)]({label:_0x77150b,providerId:_0x7f40e0,ownerId:_0x429aac,streamId:_0x4362fa,trackKinds:_0x4ae49f}){const _0x3899ac=_0x4a13a;this[_0x3899ac(0x793)](_0x7f40e0,_0x77150b,_0x4362fa,_0x429aac,_0x4ae49f);}['handleOptimizationConnectionSuccess'](_0x5375fb){const _0x14cc1e=_0x4a13a;for(const _0x5e88e5 of this[_0x14cc1e(0x3b1)][_0x14cc1e(0x331)]()){const {streamLabel:_0x5c4d35,ownerId:_0x143f54,trackKinds:_0x3dd2c5,params:_0x21a201}=_0x5e88e5;if(!_0x143f54||!_0x3dd2c5||!_0x5c4d35)return;this[_0x14cc1e(0x922)]['push']({'label':_0x5c4d35,'ownerId':_0x143f54,'trackKinds':_0x3dd2c5,'params':_0x21a201,'remoteId':_0x5375fb});}}[_0x4a13a(0x4e3)](_0x28f0dd){this['maps']['subscriptions']['forEach']((_0x5c8d58,_0x5e428f)=>{const _0x4bff2b=a0_0x2cf3;if(_0x5e428f[_0x4bff2b(0x9b3)](_0x28f0dd)){if(_0x5c8d58[_0x4bff2b(0x865)][_0x4bff2b(0x743)]()===_0x52458b[_0x4bff2b(0x54c)][_0x4bff2b(0x5f6)]){const _0x502315=_0x5c8d58[_0x4bff2b(0x865)];if(_0x502315[_0x4bff2b(0x3c5)]()[_0x4bff2b(0x454)]>0x0){const _0x12e06f={'type':_0x141a98['MediaStreamUnavailable'],'label':_0x502315[_0x4bff2b(0x287)](),'ownerId':_0x502315['getOwnerId'](),'trackKinds':_0x502315[_0x4bff2b(0x3c5)]()};return void this[_0x4bff2b(0xb3b)](_0x28f0dd,_0x12e06f);}}this['closeSubscription'](_0x5c8d58,_0x5e428f);}});}[_0x4a13a(0x935)](){const _0x5d6300=_0x4a13a;this['maps'][_0x5d6300(0xc1d)][_0x5d6300(0x761)](this['closeSubscription'][_0x5d6300(0x65d)](this));}[_0x4a13a(0x7a8)](_0x441285,_0x548e3a,_0x27a0d7,_0x5a7709,_0x4d8f89){const _0x45325b=_0x4a13a,_0x4da30b=this[_0x45325b(0x29b)][_0x45325b(0x83c)]['getConnection'](_0x441285[_0x45325b(0xb8b)]),_0x4aecc3=this[_0x45325b(0x29b)][_0x45325b(0x83c)][_0x45325b(0x44c)](_0x548e3a,_0x27a0d7);this[_0x45325b(0x81e)](_0x5a7709),this['subscriptionRequests'][_0x45325b(0x738)](_0x5a7709)&&(this[_0x45325b(0x29b)][_0x45325b(0x83c)][_0x45325b(0x241)](this['subscriptionRequests'][_0x45325b(0x68c)](_0x5a7709)),this[_0x45325b(0x9cd)][_0x45325b(0xb18)](_0x5a7709)),this[_0x45325b(0x540)](_0x441285,_0x548e3a,_0x27a0d7,_0x4aecc3),_0x4aecc3[_0x45325b(0x1f2)](_0x441285[_0x45325b(0x2d9)]),_0x4aecc3[_0x45325b(0x6ce)](_0x441285[_0x45325b(0xb8b)]);const _0x4d76b8=_0x1e9512(_0x4aecc3,_0x4da30b),_0x1d72ba=_0x22cabf(_0x586dfe['Incoming'],_0x4d76b8);this['maps']['subscriptions'][_0x45325b(0x738)](_0x1d72ba)||this[_0x45325b(0xa9a)](_0x4da30b,_0x4aecc3);const _0xd9eb6f=this[_0x45325b(0x84f)][_0x45325b(0xc1d)]['get'](_0x1d72ba);if(!(_0xd9eb6f&&_0xd9eb6f instanceof _0xb4db18))throw new _0x240123(_0x240123[_0x45325b(0x2f7)]['SubscriptionRequestDoesNotExist'],{'label':_0x5a7709,'ownerId':_0x548e3a});_0x260a6c[_0x45325b(0x6a5)](_0x45325b(0x3a0),{'clusterId':this['configs']['clusterId'],'nodeId':this['configs']['localNode'][_0x45325b(0xa47)](),'nodeType':this[_0x45325b(0x29b)][_0x45325b(0xc4d)][_0x45325b(0xbdd)],'data':{'subscriptionLabel':_0x1d72ba,'chosenAnswer':_0x441285}}),this[_0x45325b(0x3b1)][_0x45325b(0x2a7)](_0x1d72ba,_0x441285),_0xd9eb6f['subscribe'](_0x548e3a,_0x4d8f89,_0x441285[_0x45325b(0xbe8)]);}['removeRemoteStreamSubscription']({ownerId:_0x5e4a35,label:_0x534286}){const _0x5ab0f0=_0x4a13a,_0x15f5a9=this['configs']['mediator'][_0x5ab0f0(0x44c)](_0x5e4a35,_0x534286),[_0xfce588,_0x1ef21f]=Array[_0x5ab0f0(0xad6)](this[_0x5ab0f0(0x84f)][_0x5ab0f0(0xc1d)][_0x5ab0f0(0x3a4)]())[_0x5ab0f0(0x319)](([_0x3f6b94,_0x39d8d2])=>-0x1!==_0x3f6b94['indexOf'](_0x15f5a9[_0x5ab0f0(0x57a)]()));return this[_0x5ab0f0(0xad0)](_0x1ef21f,_0xfce588);}[_0x4a13a(0xad0)](_0x56e853,_0x3fa215){const _0x2ced7b=_0x4a13a;this['configs'][_0x2ced7b(0x83c)]['unregisterSystemSource'](_0x56e853),this[_0x2ced7b(0x84f)][_0x2ced7b(0xad0)](_0x56e853,_0x3fa215);}[_0x4a13a(0xb86)](_0x37a9ad){const _0x47fcb8=_0x4a13a;return _0x37a9ad[_0x47fcb8(0x441)]()[_0x47fcb8(0xa7f)](_0x52458b[_0x47fcb8(0x54c)]['Media']);}[_0x4a13a(0x314)](_0x49b4dd){const _0x1e616d=_0x4a13a;return _0x49b4dd[_0x1e616d(0x743)]()===_0x52458b[_0x1e616d(0x54c)][_0x1e616d(0x5f6)];}async['handleNoAnswer'](_0x568519,_0x549219,_0x4a1f29,_0x53c5fd){const _0x33ea7e=_0x4a13a;await _0x37fc55[_0x33ea7e(0xc22)](0x3e8);const _0x1fe4df=_0x22cabf(_0x586dfe[_0x33ea7e(0x250)],{'contentType':_0x52458b[_0x33ea7e(0x54c)][_0x33ea7e(0x5f6)],'label':_0x568519,'remoteId':_0x549219});this[_0x33ea7e(0x81e)](_0x1fe4df);const _0x135ee5=this['subscriptionRequests']['get'](_0x1fe4df);if(!_0x135ee5)throw new _0x240123(_0x240123[_0x33ea7e(0x2f7)]['SubscriptionRequestDoesNotExist'],{'label':_0x1fe4df,'ownerId':_0x549219});const _0x364621=this[_0x33ea7e(0x29b)]['mediator'][_0x33ea7e(0xa1d)](_0x5e7e5e=>_0x5e7e5e['isConnected']()),_0x48dd69=this[_0x33ea7e(0x29b)][_0x33ea7e(0x83c)][_0x33ea7e(0x804)](this['configs'][_0x33ea7e(0xc4d)][_0x33ea7e(0xa47)](),_0x549219);_0x135ee5[_0x33ea7e(0x56f)](_0x364621[_0x33ea7e(0x275)](_0x2a88b7=>_0x2a88b7[_0x33ea7e(0xabc)]()),_0x48dd69);try{_0x135ee5[_0x33ea7e(0x605)](this['configs']['localNode']['getId'](),_0x549219,_0x568519,_0x4a1f29,_0x53c5fd),this[_0x33ea7e(0x8c2)](_0x568519,_0x549219,_0x4a1f29,_0x53c5fd,_0x1fe4df,_0x135ee5);}catch(_0x44aa79){this[_0x33ea7e(0x922)][_0x33ea7e(0x247)]({'label':_0x568519,'ownerId':_0x549219,'trackKinds':_0x4a1f29,'params':_0x53c5fd});}}[_0x4a13a(0xa99)](_0x3bb74c,_0x276c40,_0x24ba9d,_0x3311b8){const _0x41b610=_0x4a13a;this[_0x41b610(0x922)][_0x41b610(0x247)]({'label':_0x3bb74c,'ownerId':_0x276c40,'trackKinds':_0x24ba9d,'params':_0x3311b8});}[_0x4a13a(0x9b9)]({label:_0x24bd78,ownerId:_0x454c08,trackKinds:_0x5a078d,params:_0x310e67,remoteId:_0x127b36}){const _0x4df20a=_0x4a13a;if(!this['configs']['mediator']['getRemoteMediaStream'](_0x454c08,_0x24bd78))return;if(!this['configs'][_0x4df20a(0x83c)][_0x4df20a(0x954)]()[_0x4df20a(0x294)]())throw new Error(_0x4df20a(0x59a));if(_0x127b36){const _0x5b08ff=this[_0x4df20a(0x29b)][_0x4df20a(0x83c)][_0x4df20a(0x61b)]()[_0x4df20a(0x319)](_0x41371b=>_0x41371b[_0x4df20a(0xa47)]()===_0x127b36),_0x452936=_0x5b08ff?.[_0x4df20a(0x294)]();if(!_0x5b08ff||!_0x452936)throw new Error(_0x4df20a(0xab2));const _0x1d8b7c=this['configs'][_0x4df20a(0x83c)][_0x4df20a(0x61b)]()[_0x4df20a(0x319)](_0x8c9bfe=>_0x8c9bfe['getId']()===_0x454c08),_0x593c94=_0x1d8b7c?.[_0x4df20a(0x294)]();if(!_0x1d8b7c||!_0x593c94)throw new Error(_0x4df20a(0x24c));const _0x39a7c5=this[_0x4df20a(0x3b1)][_0x4df20a(0x68c)](_0x24bd78);if(_0x39a7c5){const _0x4783c4=this['configs'][_0x4df20a(0x83c)][_0x4df20a(0x61b)]()['find'](_0x452616=>_0x452616['getId']()===_0x39a7c5['nodeId']),_0x225ec1=_0x4783c4?.[_0x4df20a(0x294)]();if(!_0x4783c4||!_0x225ec1)throw new Error(_0x4df20a(0x36e));if(Math[_0x4df20a(0xbf6)](_0x225ec1-_0x593c94)<Math[_0x4df20a(0xbf6)](_0x452936-_0x593c94))return;}}const _0x243362=this[_0x4df20a(0x29b)][_0x4df20a(0x83c)][_0x4df20a(0xa1d)](_0x54959f=>_0x54959f[_0x4df20a(0x42d)]()&&(!_0x127b36||_0x54959f[_0x4df20a(0xabc)]()===_0x127b36));if(!_0x243362[_0x4df20a(0x454)]||0x0===_0x243362[_0x4df20a(0x454)])throw new Error(_0x4df20a(0x765));const _0x5257be=this['configs'][_0x4df20a(0x83c)][_0x4df20a(0x804)](this[_0x4df20a(0x29b)][_0x4df20a(0xc4d)]['getId'](),_0x454c08),_0x4d045f=_0x22cabf(_0x586dfe[_0x4df20a(0x250)],{'contentType':_0x52458b[_0x4df20a(0x54c)][_0x4df20a(0x5f6)],'label':_0x24bd78,'remoteId':_0x454c08});if(this['subscriptionRequests'][_0x4df20a(0x738)](_0x4d045f)){if(_0x127b36)throw new Error(_0x4df20a(0x940));const _0x93b42e=this[_0x4df20a(0x9cd)][_0x4df20a(0x68c)](_0x4d045f)[_0x4df20a(0x77f)]();if(_0x93b42e[_0x4df20a(0x454)]===_0x5a078d[_0x4df20a(0x454)]&&_0x93b42e[_0x4df20a(0x32c)](_0x51733e=>_0x5a078d[_0x4df20a(0xa7f)](_0x51733e)))return;this[_0x4df20a(0x29b)][_0x4df20a(0x83c)]['unregisterSystemSource'](this[_0x4df20a(0x9cd)][_0x4df20a(0x68c)](_0x4d045f)),this[_0x4df20a(0x9cd)][_0x4df20a(0xb18)](_0x4d045f),_0x5a078d=Array[_0x4df20a(0xad6)](new Set(_0x5a078d[_0x4df20a(0x9dd)](_0x93b42e))),this[_0x4df20a(0x81e)](_0x4d045f);}const _0x259061=new _0x309c0d(_0x243362['map'](_0x38a7eb=>_0x38a7eb[_0x4df20a(0xabc)]()),_0x5257be,this[_0x4df20a(0xb28)],_0x5a078d);this[_0x4df20a(0x29b)]['mediator']['registerSystemSource'](_0x259061),this[_0x4df20a(0x9cd)][_0x4df20a(0x2a7)](_0x4d045f,_0x259061),_0x259061[_0x4df20a(0x605)](this[_0x4df20a(0x29b)]['localNode'][_0x4df20a(0xa47)](),_0x454c08,_0x24bd78,_0x5a078d,_0x310e67),this['setSubscriptionRequestTimeout'](_0x24bd78,_0x454c08,_0x5a078d,_0x310e67,_0x4d045f,_0x259061);}[_0x4a13a(0x81e)](_0x596a9d){const _0x128439=_0x4a13a;this[_0x128439(0x831)]['has'](_0x596a9d)&&(clearTimeout(this['subscriptionRequestTimeouts'][_0x128439(0x68c)](_0x596a9d)),this[_0x128439(0x831)][_0x128439(0xb18)](_0x596a9d));}['setSubscriptionRequestTimeout'](_0x842643,_0x58fdf5,_0x14a743,_0x299124,_0x542939,_0x5c7181){const _0x555146=_0x4a13a;this['clearSubscriptionRequestTimeout'](_0x542939),this[_0x555146(0x831)]['set'](_0x542939,setTimeout(()=>{const _0x1272e9=_0x555146;this[_0x1272e9(0x831)][_0x1272e9(0xb18)](_0x542939);try{const _0x2a9ea5=_0x5c7181['chooseAnswer']();this[_0x1272e9(0x7a8)](_0x2a9ea5,_0x58fdf5,_0x842643,_0x542939,_0x14a743);}catch(_0x38ff9c){this[_0x1272e9(0x236)](_0x842643,_0x58fdf5,_0x14a743,_0x299124);}},0x7d0));}['findNewMediaSubscription'](_0x354735,_0x19c97d,_0x2d7108,_0x316c09,_0x660244){const _0x3332f6=_0x4a13a,{subscriptionLabel:_0x20b666}=this['getSubscriptionLabel'](_0x19c97d,_0x316c09),_0x2b05f6=this[_0x3332f6(0xbf8)](_0x20b666),_0x310c6f=_0x2b05f6?.[_0x3332f6(0xbe8)];_0x2b05f6&&(_0x2b05f6[_0x3332f6(0x3bf)](_0x316c09,0x0),this[_0x3332f6(0x8ca)](_0x2d7108,_0x52458b[_0x3332f6(0x54c)][_0x3332f6(0x5f6)],_0x354735)),this['requestSubscription'](_0x19c97d,_0x316c09,_0x660244,_0x310c6f);}['getMediaSubscription'](_0x2b93f6){const _0x238c45=_0x4a13a,_0x378ed7=this[_0x238c45(0x84f)][_0x238c45(0xc1d)][_0x238c45(0x68c)](_0x2b93f6);if(_0x378ed7){if(!(_0x378ed7 instanceof _0xb4db18))throw new _0x240123(_0x240123['codes']['InvalidSubscription'],{'label':_0x2b93f6,'subscription':_0x378ed7});return _0x378ed7;}}[_0x4a13a(0x76c)](_0x29b7d7,_0x341fb8){const _0x2ae009=_0x4a13a,_0x189115=this[_0x2ae009(0xa8e)](_0x29b7d7,_0x341fb8);return{'parts':_0x189115,'subscriptionLabel':_0x22cabf(_0x586dfe[_0x2ae009(0x250)],_0x189115)};}[_0x4a13a(0xa8e)](_0x484af4,_0x47997e){const _0x589758=_0x4a13a,_0x5b910e=this[_0x589758(0x29b)]['mediator']['getRemoteMediaStream'](_0x47997e,_0x484af4),_0x523512=_0x5b910e[_0x589758(0x477)]();if(!_0x523512)throw new _0x240123(_0x240123[_0x589758(0x2f7)]['RemoteMediaStreamMissingProviderId'],{'label':_0x484af4,'streamId':_0x5b910e['getInternalStreamId'](),'ownerId':_0x47997e,'localId':this['configs'][_0x589758(0xc4d)]['getId']()});return{'contentType':_0x52458b[_0x589758(0x54c)][_0x589758(0x5f6)],'label':_0x5b910e[_0x589758(0x57a)](),'remoteId':_0x523512};}[_0x4a13a(0x540)](_0x4f34d9,_0x195650,_0x2a8237,_0x305648){const _0x39b493=_0x4a13a,_0x1ab6ed=_0x305648[_0x39b493(0x477)]();if(_0x1ab6ed&&_0x1ab6ed!==_0x4f34d9['nodeId']){const {parts:_0x50c191,subscriptionLabel:_0x3737c3}=this[_0x39b493(0x76c)](_0x2a8237,_0x195650),_0x1901e8=this[_0x39b493(0xbf8)](_0x3737c3);_0x1901e8&&(_0x1901e8[_0x39b493(0x3bf)](_0x195650,0x0),this[_0x39b493(0x8ca)](_0x50c191['label'],_0x50c191[_0x39b493(0x8e5)],_0x50c191[_0x39b493(0x69f)]));}}}class _0x9d7ae6{[_0x4a13a(0x29b)];[_0x4a13a(0x67b)];['maps'];constructor(_0xd4fb3e,_0x54ff5c){const _0x483125=_0x4a13a;this[_0x483125(0x29b)]=_0xd4fb3e,this[_0x483125(0x67b)]=_0x54ff5c,this['maps']=new _0x59d87b(({source:_0xc18caa,destination:_0x355ec4})=>_0x1e9512(_0xc18caa,_0x355ec4));}['createSubscription'](_0xdbc1a4,_0x793da2){const _0x1a51cb=_0x4a13a,_0x3103e9={'source':_0xdbc1a4,'destination':_0x793da2};this['maps'][_0x1a51cb(0xa9a)](_0x586dfe[_0x1a51cb(0x81c)],_0x3103e9);}['removeSubscription'](_0x48e426,_0x20c82c,_0x1505a4=''){const _0x40aee3=_0x4a13a,_0x5eef19={'contentType':_0x20c82c,'label':_0x48e426,'remoteId':_0x1505a4};this[_0x40aee3(0x84f)]['removeSubscription'](_0x5eef19,_0x586dfe[_0x40aee3(0x81c)]);}['handleSubscriptionSubscribeMediaStream'](_0xa8d923,_0x87dc9c){const _0x548cc6=_0x4a13a;let _0x5e3b4e;_0x5e3b4e=_0x87dc9c['ownerId']!==this[_0x548cc6(0x29b)][_0x548cc6(0xc4d)][_0x548cc6(0xa47)]()?this[_0x548cc6(0x29b)][_0x548cc6(0x83c)][_0x548cc6(0x44c)](_0x87dc9c['ownerId'],_0x87dc9c[_0x548cc6(0xaed)]):this[_0x548cc6(0x29b)][_0x548cc6(0x83c)][_0x548cc6(0x28a)](_0x87dc9c['label']);const _0x5cd61e=_0x22cabf(_0x586dfe[_0x548cc6(0x81c)],{'contentType':_0x52458b['ContentType'][_0x548cc6(0x5f6)],'label':_0x5e3b4e[_0x548cc6(0x689)](),'remoteId':_0xa8d923}),_0x34f525=this['getNumberOutgoingSubscriptions']();if(!this[_0x548cc6(0x84f)][_0x548cc6(0xc1d)][_0x548cc6(0x738)](_0x5cd61e)&&_0x34f525>=this[_0x548cc6(0x67b)])return{'type':_0x141a98['RestartNeedMediaStream'],'ownerId':_0x87dc9c['ownerId'],'label':_0x87dc9c['label'],'streamId':_0x5e3b4e[_0x548cc6(0x689)](),'trackKinds':_0x87dc9c['trackKinds'],'params':_0x87dc9c[_0x548cc6(0xbe8)]};_0x5e3b4e instanceof _0x239214&&!_0x5e3b4e[_0x548cc6(0x48e)](_0x87dc9c[_0x548cc6(0xb8c)])&&_0x5e3b4e['subscribe'](_0x87dc9c[_0x548cc6(0xbe8)]),this[_0x548cc6(0x84f)][_0x548cc6(0xc1d)][_0x548cc6(0x738)](_0x5cd61e)||this[_0x548cc6(0xa9a)](_0x5e3b4e[_0x548cc6(0x92d)](_0xa8d923),this['configs']['mediator'][_0x548cc6(0x990)](_0xa8d923));}[_0x4a13a(0x739)](_0x584ad9,{label:_0x2a0186,ownerId:_0x30e81b,remainingTracks:_0x3b433f}){const _0x204f9d=_0x4a13a;if(_0x3b433f>0x0)return;let _0x56d1e1;_0x56d1e1=_0x30e81b!==this[_0x204f9d(0x29b)][_0x204f9d(0xc4d)][_0x204f9d(0xa47)]()?this[_0x204f9d(0x29b)]['mediator'][_0x204f9d(0x44c)](_0x30e81b,_0x2a0186):this[_0x204f9d(0x29b)][_0x204f9d(0x83c)]['getLocalMediaStream'](_0x2a0186);const _0x4c5fbc=_0x56d1e1[_0x204f9d(0x689)](),_0x57b3c8=_0x52458b[_0x204f9d(0x54c)][_0x204f9d(0x5f6)];this[_0x204f9d(0x8ca)](_0x4c5fbc,_0x57b3c8,_0x584ad9);}[_0x4a13a(0x97d)](_0x31bdb5,{label:_0x50eef8,ownerId:_0x350298,trackKinds:_0xe8e45d}){const _0x3ec6de=_0x4a13a;if(_0x31bdb5!==_0x2d73b4)return[];let _0x453b9d=[];for(const _0x237dcf of this[_0x3ec6de(0x84f)][_0x3ec6de(0xc1d)]){const {source:_0x4fdc58,destination:_0x18fcb8}=_0x237dcf[0x1];_0x4fdc58[_0x3ec6de(0x287)]()===_0x50eef8&&_0x4fdc58['getOwnerId']()===_0x350298&&_0x453b9d['push']({'sourceId':this[_0x3ec6de(0x29b)][_0x3ec6de(0xc4d)][_0x3ec6de(0xa47)](),'destinationIds':[_0x18fcb8[_0x3ec6de(0xabc)]()],'messageType':_0x29c5a4[_0x3ec6de(0xa53)],'content':{'type':_0x141a98[_0x3ec6de(0xc10)],'label':_0x50eef8,'ownerId':_0x350298,'trackKinds':_0xe8e45d}});}return _0x453b9d;}[_0x4a13a(0x4ef)](_0x4e788f,_0x5b1d21){const _0x100720=_0x4a13a,{label:_0x5651ad,ownerId:_0x2ba52a,trackKinds:_0x5c3f2e,params:_0x727123}=_0x5b1d21,{hasTracks:_0x5ebce2,streamId:_0x25092c,hasResolution:_0x489b4b,distance:_0x226234,subscriptionLabel:_0x1a46bb}=this['getSubscriptionInfo'](_0x4e788f,_0x5b1d21);let _0x2f7a4b=this['getNumberOutgoingSubscriptions']()<this[_0x100720(0x67b)]&&(_0x5ebce2||_0x226234>-0x1)?_0x141a98[_0x100720(0xc07)]:_0x141a98[_0x100720(0x839)];const _0x178305=_0x226234<0x0?0xa:_0x226234;let _0x530b62=_0x5ebce2?_0x489b4b?_0x178305:_0x178305+0x0:_0x178305+0xa;return _0x1a46bb&&this[_0x100720(0x84f)][_0x100720(0xc1d)]['has'](_0x1a46bb)&&(_0x5ebce2&&(_0x530b62=0x0),_0x2f7a4b=_0x141a98[_0x100720(0xc07)]),{'type':_0x2f7a4b,'cost':_0x530b62,'distance':_0x226234,'label':_0x5651ad,'ownerId':_0x2ba52a,'streamId':_0x25092c,'trackKinds':_0x5c3f2e,'params':_0x727123};}['handleContentUnpublishMediaStream'](_0x338355){const _0x27777b=_0x4a13a,{label:_0x30a033,ownerId:_0x409384}=_0x338355,_0x25eb7c=this[_0x27777b(0x29b)][_0x27777b(0x83c)]['getRemoteMediaStream'](_0x409384,_0x30a033);this[_0x27777b(0x84f)][_0x27777b(0xc1d)][_0x27777b(0x761)](_0x26d8b3=>{const _0x2749a5=_0x27777b;if(_0x26d8b3[_0x2749a5(0x34d)][_0x2749a5(0x57a)]()===_0x25eb7c[_0x2749a5(0x689)]()){const _0x322d39=_0x26d8b3[_0x2749a5(0x865)];this[_0x2749a5(0x8ca)](_0x25eb7c['getShareableStreamId'](),_0x52458b[_0x2749a5(0x54c)][_0x2749a5(0x5f6)],_0x322d39[_0x2749a5(0xabc)]());}});}[_0x4a13a(0x26a)]({label:_0x2b5875}){const _0x1ed668=_0x4a13a,_0x171afc=this[_0x1ed668(0x29b)]['mediator'][_0x1ed668(0x28a)](_0x2b5875);this[_0x1ed668(0x84f)][_0x1ed668(0xc1d)][_0x1ed668(0x761)](_0x119953=>{const _0x1bb239=_0x1ed668;if(_0x119953[_0x1bb239(0x34d)][_0x1bb239(0x57a)]()===_0x171afc[_0x1bb239(0x689)]()){const _0x2cd270=_0x119953['destination'];this[_0x1bb239(0x8ca)](_0x171afc[_0x1bb239(0x689)](),_0x52458b['ContentType'][_0x1bb239(0x5f6)],_0x2cd270[_0x1bb239(0xabc)]());}});}['removeSubscriptionsForNode'](_0x358a95){const _0x53dacf=_0x4a13a;this['maps'][_0x53dacf(0x4e3)](_0x358a95);}[_0x4a13a(0x935)](){const _0x4b8640=_0x4a13a;this[_0x4b8640(0x84f)][_0x4b8640(0xc1d)][_0x4b8640(0x761)](this[_0x4b8640(0xad0)][_0x4b8640(0x65d)](this));}[_0x4a13a(0xad0)](_0x44569e,_0x7784cb){const _0x2a067c=_0x4a13a;this['maps'][_0x2a067c(0xad0)](_0x44569e,_0x7784cb);}['getSubscriptionInfo'](_0x2e17b1,{label:_0x16e1e6,ownerId:_0x1d3405,trackKinds:_0x3fa1d4,params:_0x24bdcb}){const _0x1bbcbc=_0x4a13a;if(_0x1d3405!==this[_0x1bbcbc(0x29b)][_0x1bbcbc(0xc4d)][_0x1bbcbc(0xa47)]()){const _0x6fa964=this[_0x1bbcbc(0x29b)][_0x1bbcbc(0x83c)][_0x1bbcbc(0x44c)](_0x1d3405,_0x16e1e6);return _0x6fa964&&_0x6fa964[_0x1bbcbc(0x477)]()!==_0x2e17b1?{'hasTracks':_0x6fa964['hasTracks'](_0x3fa1d4),'hasResolution':this[_0x1bbcbc(0x493)](_0x6fa964[_0x1bbcbc(0xa96)](),_0x24bdcb),'streamId':_0x6fa964[_0x1bbcbc(0x689)](),'distance':this[_0x1bbcbc(0x29b)][_0x1bbcbc(0x83c)][_0x1bbcbc(0x804)](_0x2e17b1,_0x1d3405),'subscriptionLabel':_0x22cabf(_0x586dfe[_0x1bbcbc(0x81c)],{'contentType':_0x52458b[_0x1bbcbc(0x54c)][_0x1bbcbc(0x5f6)],'label':_0x6fa964['getShareableStreamId'](),'remoteId':_0x2e17b1})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x368b12=this[_0x1bbcbc(0x29b)][_0x1bbcbc(0x83c)][_0x1bbcbc(0x28a)](_0x16e1e6);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x368b12[_0x1bbcbc(0x689)](),'distance':0x0,'subscriptionLabel':_0x22cabf(_0x586dfe[_0x1bbcbc(0x81c)],{'contentType':_0x52458b[_0x1bbcbc(0x54c)][_0x1bbcbc(0x5f6)],'label':_0x368b12[_0x1bbcbc(0x689)](),'remoteId':_0x2e17b1})};}[_0x4a13a(0xbfb)](){const _0x2557ce=_0x4a13a;return Array['from'](this['maps'][_0x2557ce(0xc1d)]['entries']())[_0x2557ce(0x675)](([_0x5991a6,{source:_0x538f3c}])=>_0x5991a6[_0x2557ce(0x293)](_0x586dfe[_0x2557ce(0x81c)])&&_0x538f3c[_0x2557ce(0x743)]()===_0x52458b[_0x2557ce(0x54c)][_0x2557ce(0x5f6)])['length'];}['canProvideResolution'](_0x3a6e8e,_0x35d733){const _0x5eda1a=_0x4a13a;if(!_0x35d733||!_0x35d733[_0x5eda1a(0x1f6)]||'boolean'==typeof _0x35d733['video']||!_0x35d733[_0x5eda1a(0x1f6)][_0x5eda1a(0x923)])return!0x0;const {width:_0xd090eb,height:_0x486478}=_0x35d733['video'][_0x5eda1a(0x923)];return _0x3a6e8e[_0x5eda1a(0x20b)]>=_0xd090eb&&_0x3a6e8e['height']>=_0x486478;}}class _0x249a42{[_0x4a13a(0x29b)];[_0x4a13a(0x67b)];[_0x4a13a(0xb28)];[_0x4a13a(0x525)];[_0x4a13a(0xa0c)];[_0x4a13a(0x9d7)];constructor(_0xe6f3f4,_0x3500ec,_0x576b45){const _0x34bb6f=_0x4a13a;this['configs']=_0xe6f3f4,this['maxOutgoingSubscriptions']=_0x3500ec,this['maxDistance']=_0x576b45,this['configs'][_0x34bb6f(0x83c)][_0x34bb6f(0x6b3)](this),this[_0x34bb6f(0xa0c)]=new _0x511057(this[_0x34bb6f(0x29b)],this[_0x34bb6f(0xb28)]),this[_0x34bb6f(0x9d7)]=new _0x9d7ae6(this['configs'],this[_0x34bb6f(0x67b)]);}[_0x4a13a(0x348)](_0x15d7f1){this['systemTopic']=_0x15d7f1;}[_0x4a13a(0x2b4)](){const _0x11367c=_0x4a13a;delete this[_0x11367c(0x525)];}[_0x4a13a(0x935)](){const _0x2c8450=_0x4a13a;this[_0x2c8450(0xa0c)]['close'](),this[_0x2c8450(0x9d7)][_0x2c8450(0x935)](),this['configs'][_0x2c8450(0x83c)][_0x2c8450(0x241)](this);}[_0x4a13a(0x5f8)](_0x330c6e,_0x16ed67){const _0x1dbb9d=_0x4a13a;this[_0x1dbb9d(0xa0c)][_0x1dbb9d(0xa9a)](_0x330c6e,_0x16ed67);}[_0x4a13a(0x445)](_0x5e599c,_0x309ef9){const _0x55e23b=_0x4a13a;this[_0x55e23b(0x9d7)][_0x55e23b(0xa9a)](_0x5e599c,_0x309ef9);}[_0x4a13a(0x23a)](_0x128403,_0x2a818e,_0x9e1c53=''){this['incomingManager']['removeSubscription'](_0x128403,_0x2a818e,_0x9e1c53);}[_0x4a13a(0x99e)](_0x158646,_0x22c791,_0x24a886=''){const _0x6a2229=_0x4a13a;try{this[_0x6a2229(0x9d7)][_0x6a2229(0x8ca)](_0x158646,_0x22c791,_0x24a886);}catch(_0x35f8c5){if(_0x35f8c5 instanceof _0x240123&&_0x35f8c5[_0x6a2229(0x6c2)]===_0x240123[_0x6a2229(0x2f7)][_0x6a2229(0x85c)])return;}}[_0x4a13a(0x1e3)](_0x5555af){const _0x2e1763=_0x4a13a;switch(_0x5555af[_0x2e1763(0x816)][_0x2e1763(0xbdd)]){case _0x141a98[_0x2e1763(0xb12)]:this[_0x2e1763(0x61f)](_0x5555af[_0x2e1763(0x8f9)],_0x5555af[_0x2e1763(0x816)]);break;case _0x141a98[_0x2e1763(0x7e3)]:this[_0x2e1763(0x9d7)][_0x2e1763(0x739)](_0x5555af[_0x2e1763(0x8f9)],_0x5555af['content']);break;case _0x141a98[_0x2e1763(0x640)]:this[_0x2e1763(0x4ef)](_0x5555af[_0x2e1763(0x8f9)],_0x5555af['content']);break;case _0x141a98[_0x2e1763(0x698)]:this[_0x2e1763(0xa0c)][_0x2e1763(0x235)](_0x5555af['sourceId'],_0x5555af['content']);break;case _0x141a98[_0x2e1763(0xc07)]:case _0x141a98[_0x2e1763(0x839)]:this['incomingManager'][_0x2e1763(0x564)](_0x5555af[_0x2e1763(0x8f9)],_0x5555af[_0x2e1763(0x816)]);break;case _0x141a98[_0x2e1763(0xc10)]:this['incomingManager'][_0x2e1763(0xb3b)](_0x5555af[_0x2e1763(0x8f9)],_0x5555af['content']);}}['handleContentSystemEvents'](_0x2f811d){const _0x40fcc3=_0x4a13a;switch(_0x2f811d['content']['type']){case _0x1c17a1[_0x40fcc3(0x577)]:this[_0x40fcc3(0xa0c)][_0x40fcc3(0x5a8)](_0x2f811d[_0x40fcc3(0x816)]),this['outgoingManager'][_0x40fcc3(0x5a8)](_0x2f811d[_0x40fcc3(0x816)]);break;case _0x1c17a1[_0x40fcc3(0xb12)]:this['incomingManager'][_0x40fcc3(0x73c)](_0x2f811d[_0x40fcc3(0x816)]);break;case _0x1c17a1[_0x40fcc3(0x2cc)]:this['incomingManager'][_0x40fcc3(0xc1f)](_0x2f811d[_0x40fcc3(0x816)]);break;case _0x1c17a1[_0x40fcc3(0x7e3)]:this[_0x40fcc3(0x97d)](_0x2f811d['sourceId'],_0x2f811d[_0x40fcc3(0x816)]);break;case _0x1c17a1[_0x40fcc3(0xb38)]:this[_0x40fcc3(0x9d7)][_0x40fcc3(0x26a)](_0x2f811d[_0x40fcc3(0x816)]);break;case _0x1c17a1[_0x40fcc3(0x819)]:this[_0x40fcc3(0x425)](_0x2f811d[_0x40fcc3(0x816)]['label'],_0x52458b['ContentType']['PubSub']);break;case _0x1c17a1[_0x40fcc3(0x61d)]:this['handleCloseContent'](_0x2f811d[_0x40fcc3(0x816)][_0x40fcc3(0xaed)],_0x52458b['ContentType'][_0x40fcc3(0x46e)]);break;case _0x1c17a1['CloseExternalStorageConnection']:this['handleCloseContent'](_0x2f811d[_0x40fcc3(0x816)][_0x40fcc3(0xaed)],_0x52458b['ContentType'][_0x40fcc3(0x82a)]);break;case _0x1c17a1[_0x40fcc3(0x70f)]:this['handleCloseContent'](_0x2f811d[_0x40fcc3(0x816)]['label'],_0x52458b[_0x40fcc3(0x54c)][_0x40fcc3(0xba3)]);break;case _0x1c17a1[_0x40fcc3(0x23e)]:this[_0x40fcc3(0x425)](_0x2f811d[_0x40fcc3(0x816)][_0x40fcc3(0xaed)],_0x52458b[_0x40fcc3(0x54c)]['VectorDatabase']);break;case _0x1c17a1['CloseGraphDatabase']:this[_0x40fcc3(0x425)](_0x2f811d[_0x40fcc3(0x816)][_0x40fcc3(0xaed)],_0x52458b[_0x40fcc3(0x54c)]['GraphDatabase']);break;case _0x1c17a1[_0x40fcc3(0xb44)]:case _0x1c17a1[_0x40fcc3(0x1ed)]:this['handleCloseContent'](_0x2f811d['content'][_0x40fcc3(0xaed)],_0x52458b['ContentType'][_0x40fcc3(0x65a)]);break;case _0x1c17a1[_0x40fcc3(0xaf3)]:this[_0x40fcc3(0xa0c)][_0x40fcc3(0x283)](_0x2f811d[_0x40fcc3(0x816)]);}}['handleNodeSystemEvents']({content:_0x493d8b}){const _0x23e975=_0x4a13a;_0x493d8b['type']===_0x37fe92[_0x23e975(0x23c)]&&this[_0x23e975(0x4e3)](_0x493d8b);}[_0x4a13a(0xc1e)](_0x525e5f){const _0x56a26d=_0x4a13a;_0x525e5f[_0x56a26d(0x816)][_0x56a26d(0xbdd)]===_0x1227a1[_0x56a26d(0x795)]&&this['incomingManager'][_0x56a26d(0xb88)](_0x525e5f[_0x56a26d(0x8f9)]);}[_0x4a13a(0x97d)](_0x3ac264,_0xa41008){const _0x9fcb66=_0x4a13a;this[_0x9fcb66(0xa0c)][_0x9fcb66(0x97d)](_0xa41008),this[_0x9fcb66(0x9d7)][_0x9fcb66(0x97d)](_0x3ac264,_0xa41008)[_0x9fcb66(0x761)](_0xcde878=>this[_0x9fcb66(0x525)]['publish'](_0xcde878));}[_0x4a13a(0x61f)](_0x3997e5,_0x5d680b){const _0x11d5d4=_0x4a13a,_0x3b8035=this[_0x11d5d4(0x9d7)][_0x11d5d4(0x61f)](_0x3997e5,_0x5d680b);if(_0x3b8035&&(this['systemTopic'][_0x11d5d4(0xa19)]({'sourceId':this[_0x11d5d4(0x29b)]['localNode'][_0x11d5d4(0xa47)](),'destinationIds':[_0x3997e5],'messageType':_0x29c5a4[_0x11d5d4(0xa53)],'content':_0x3b8035}),_0x3b8035[_0x11d5d4(0xbdd)]===_0x141a98[_0x11d5d4(0x698)]))throw new _0x32e9cc('Restart\x20NeedMediaStream');}[_0x4a13a(0x4ef)](_0x3ee56b,_0x3e5822){const _0x5a7cc5=_0x4a13a,_0x508f66=this[_0x5a7cc5(0x9d7)][_0x5a7cc5(0x4ef)](_0x3ee56b,_0x3e5822);this[_0x5a7cc5(0x525)]['publish']({'sourceId':this[_0x5a7cc5(0x29b)][_0x5a7cc5(0xc4d)]['getId'](),'destinationIds':[_0x3ee56b],'messageType':_0x29c5a4['Subscription'],'content':_0x508f66});}[_0x4a13a(0x425)](_0x5a916a,_0x235936){const _0x1709bb=_0x4a13a;this[_0x1709bb(0x23a)](_0x5a916a,_0x235936),this['removeOutgoingSubscription'](_0x5a916a,_0x235936);}[_0x4a13a(0x4e3)]({id:_0x722de0}){const _0x1ff067=_0x4a13a;this[_0x1ff067(0xa0c)][_0x1ff067(0x4e3)](_0x722de0),this['outgoingManager']['removeSubscriptionsForNode'](_0x722de0);}}class _0x4428c6{[_0x4a13a(0xaed)];[_0x4a13a(0x251)]=_0x47b7f3();constructor(){const _0xad826=_0x4a13a;this[_0xad826(0xaed)]=0x0;}[_0x4a13a(0x287)](){const _0x147445=_0x4a13a;return this[_0x147445(0xaed)];}['getContentType'](){const _0x4a3f90=_0x4a13a;return _0x52458b[_0x4a3f90(0x54c)][_0x4a3f90(0xbfd)];}[_0x4a13a(0xa66)](_0x27f9ac){_0x27f9ac['registerSystemPublisher'](this);}[_0x4a13a(0x6ed)](_0x1cb8e6){const _0x2d0ebf=_0x4a13a;_0x1cb8e6[_0x2d0ebf(0x2b4)]();}['publish'](_0x481f15){const _0x35b634=_0x4a13a;_0x260a6c['log'](_0x2e74f6['Events'],'SystemTopic\x20publish',_0x481f15['sourceId'],_0x481f15),this[_0x35b634(0x251)][_0x35b634(0xa19)]({'topicLabel':this[_0x35b634(0xaed)],'contentType':_0x52458b[_0x35b634(0x54c)][_0x35b634(0xbfd)],'uuid':_0x481f15['uuid']??(0x0,_0xafe7f0['v4'])(),'recipients':_0x481f15[_0x35b634(0x378)]??[],..._0x481f15});}[_0x4a13a(0x7a8)](_0x1c1ad5){const _0x4c13d2=_0x4a13a;return this[_0x4c13d2(0x251)][_0x4c13d2(0x7a8)](_0x1c1ad5);}}class _0x55b875{[_0x4a13a(0x5e9)];['ranges']=[];[_0x4a13a(0x29a)];[_0x4a13a(0xc1b)]=new Map();[_0x4a13a(0x80d)]=_0x47b7f3();constructor(_0x2ad4a7){const _0x36c57c=_0x4a13a;this[_0x36c57c(0x5e9)]=_0x2ad4a7,this[_0x36c57c(0x29a)]=(this['options'][_0x36c57c(0x8fa)]-0x2*this[_0x36c57c(0x5e9)]['minConnections'])/0x2,this[_0x36c57c(0x4a2)]['push']({'start':0x1,'end':this[_0x36c57c(0x25b)](0x1,0x1)-0x1});for(let _0xee921f=0x0;_0xee921f<this[_0x36c57c(0x29a)];++_0xee921f)this['ranges'][_0x36c57c(0x247)]({'start':this['getNextTargetRank'](0x1,_0xee921f+0x1),'end':this[_0x36c57c(0x25b)](0x1,_0xee921f+0x2)-0x1});}[_0x4a13a(0x25b)](_0x235ec4,_0x415f7c=0x1){const _0x298a8d=_0x4a13a;let _0x52740e=this[_0x298a8d(0x5e9)][_0x298a8d(0xb28)]-this['options'][_0x298a8d(0x916)],_0x3ab5aa=0x1;for(let _0xa2fc10=0x1;_0xa2fc10<_0x415f7c;++_0xa2fc10)_0x52740e*=this[_0x298a8d(0x5e9)][_0x298a8d(0xb28)]-this[_0x298a8d(0x5e9)][_0x298a8d(0x916)]-_0xa2fc10,_0x3ab5aa*=this[_0x298a8d(0x5e9)][_0x298a8d(0xb28)]-this[_0x298a8d(0x5e9)][_0x298a8d(0x916)]-_0xa2fc10+0x1;return _0x52740e*this[_0x298a8d(0x5e9)][_0x298a8d(0x916)]+_0x235ec4-_0x3ab5aa;}[_0x4a13a(0x7d4)](_0x24e340){const _0x6194=_0x4a13a;let _0x22180e=0x0;for(;this['ranges'][_0x22180e][_0x6194(0x56d)]<_0x24e340;)_0x22180e+=0x1;return _0x22180e;}[_0x4a13a(0x73e)](){const _0x30be9a=_0x4a13a;return this[_0x30be9a(0x5e9)][_0x30be9a(0x916)];}[_0x4a13a(0x356)](){const _0x201ae1=_0x4a13a;return this[_0x201ae1(0x5e9)][_0x201ae1(0x8fa)];}[_0x4a13a(0xae7)](){const _0x41992f=_0x4a13a;return this[_0x41992f(0x5e9)][_0x41992f(0xb28)];}[_0x4a13a(0x61b)](){const _0x555ad2=_0x4a13a;return this[_0x555ad2(0xc1b)];}['setRemoteNode'](_0x4eac74,_0x1d1975){const _0x33f1b2=_0x4a13a;this[_0x33f1b2(0xc1b)]['set'](_0x4eac74,_0x1d1975),this['nodeUpdate']['publish']();}[_0x4a13a(0x7ee)](_0x5ee677){const _0x4c7a34=_0x4a13a;this[_0x4c7a34(0xc1b)][_0x4c7a34(0xb18)](_0x5ee677),this[_0x4c7a34(0x80d)][_0x4c7a34(0xa19)]();}['hasRemoteNode'](_0x2b69a8){const _0x88484d=_0x4a13a;return this[_0x88484d(0xc1b)]['has'](_0x2b69a8);}[_0x4a13a(0xaf9)](_0x51ea07){const _0x8d5168=_0x4a13a;return this['remoteNodes'][_0x8d5168(0x68c)](_0x51ea07);}[_0x4a13a(0x3ab)](_0xbf583a,_0x35fe3b){const _0x1318d0=_0x4a13a,_0x5283cd=this[_0x1318d0(0xaf9)](_0x35fe3b)?.[_0x1318d0(0x294)]()??0x0;return _0xbf583a[_0x1318d0(0x275)](_0x519ea3=>this[_0x1318d0(0xaf9)](_0x519ea3))[_0x1318d0(0x675)](_0x15e554=>void 0x0!==_0x15e554)[_0x1318d0(0xbde)]((_0x3539d5,_0x2cd61d)=>Math[_0x1318d0(0xbf6)](_0x5283cd-(_0x3539d5&&_0x3539d5[_0x1318d0(0x294)]()||0x1/0x0))-Math[_0x1318d0(0xbf6)](_0x5283cd-(_0x2cd61d&&_0x2cd61d[_0x1318d0(0x294)]()||0x1/0x0)))[_0x1318d0(0x275)](_0x348e46=>_0x348e46[_0x1318d0(0xa47)]());}[_0x4a13a(0x2e5)](_0x2f2198){const _0x13511b=_0x4a13a;return this[_0x13511b(0x80d)]['subscribe'](_0x2f2198);}}class _0x4184db{[_0x4a13a(0x649)];[_0x4a13a(0x88f)];[_0x4a13a(0x35d)];['authService'];[_0x4a13a(0x5e9)];['configs'];[_0x4a13a(0x332)];['contentManager'];[_0x4a13a(0xb20)];[_0x4a13a(0xb65)];[_0x4a13a(0xc04)];[_0x4a13a(0x782)];['remediationManager'];[_0x4a13a(0x2cf)];[_0x4a13a(0xb83)];[_0x4a13a(0x525)]=new _0x4428c6();['systemTopicUnsubscribe'];[_0x4a13a(0xc4d)];constructor(_0x29e4e7,_0x448597,_0x1df881,_0x57b7c5,_0x467ae5,_0x42800c,_0x15bbba){const _0x2d1312=_0x4a13a;switch(this['vendorId']=_0x29e4e7,this[_0x2d1312(0x88f)]=_0x448597,this[_0x2d1312(0x35d)]=_0x1df881,this[_0x2d1312(0xa0a)]=_0x57b7c5,this[_0x2d1312(0x5e9)]=_0x467ae5,this['configs']=_0x42800c,this[_0x2d1312(0x332)]=_0x15bbba,_0x1df881['type']){case _0x52458b[_0x2d1312(0x223)][_0x2d1312(0xc05)]:this[_0x2d1312(0xc4d)]=new _0x1e10b6(_0x1df881['getId'](),_0x1df881[_0x2d1312(0x63a)](),_0x1df881[_0x2d1312(0x256)]());break;case _0x52458b[_0x2d1312(0x223)][_0x2d1312(0x673)]:default:this[_0x2d1312(0xc4d)]=new _0x25c744(_0x1df881['getId']());}const _0x1a4631=this[_0x2d1312(0x57f)]();this[_0x2d1312(0xb83)]=new _0x55b875(this[_0x2d1312(0x5e9)]),this['contentManager']=new _0x20260e(_0x1a4631,this[_0x2d1312(0x5e9)]),this[_0x2d1312(0xb20)]=new _0x49baee(_0x1a4631,this['authService'],this[_0x2d1312(0xb83)],this[_0x2d1312(0x29b)][_0x2d1312(0x4a4)],this[_0x2d1312(0x5e9)]),this[_0x2d1312(0xb65)]=new _0x249a42(_0x1a4631,this[_0x2d1312(0x5e9)][_0x2d1312(0x67b)],this[_0x2d1312(0xb83)][_0x2d1312(0xae7)]()),this[_0x2d1312(0xc04)]=new _0x16c16e(_0x1a4631),this[_0x2d1312(0x782)]=new _0x1fb5fe(_0x1a4631),this[_0x2d1312(0x23f)]=new _0x5a3c71(_0x1a4631),this[_0x2d1312(0x2cf)]=new _0x397f40(_0x1a4631,this['graphService']),this[_0x2d1312(0x58a)]=this[_0x2d1312(0xaef)]();}[_0x4a13a(0x4f0)](){const _0x33c700=_0x4a13a,_0x420b68=this[_0x33c700(0x57f)]();this['connectionManager']=new _0x49baee(_0x420b68,this[_0x33c700(0xa0a)],this[_0x33c700(0xb83)],this['configs']['iceServers'],this[_0x33c700(0x5e9)]),this[_0x33c700(0xb65)]=new _0x249a42(_0x420b68,this['options'][_0x33c700(0x67b)],this[_0x33c700(0xb83)][_0x33c700(0xae7)]()),this['statsManager']=new _0x16c16e(_0x420b68),this['detectionManager']=new _0x1fb5fe(_0x420b68),this['remediationManager']=new _0x5a3c71(_0x420b68),this['nodeManager']=new _0x397f40(_0x420b68,this[_0x33c700(0xb83)]);const _0x1033e2=this['connectionManager'][_0x33c700(0x779)]();this[_0x33c700(0x507)][_0x33c700(0x29e)]()[_0x33c700(0x761)](_0x4ea102=>{const _0x845e7d=_0x33c700;this['subscriptionManager'][_0x845e7d(0x445)](_0x4ea102,_0x1033e2),this[_0x845e7d(0xb65)][_0x845e7d(0x5f8)](_0x1033e2,_0x4ea102),_0x4ea102[_0x845e7d(0x56f)]();}),this[_0x33c700(0x507)]['getObjectStoreBuckets']()[_0x33c700(0x761)](_0xbbae7d=>{const _0x228301=_0x33c700;this[_0x228301(0xb65)][_0x228301(0x445)](_0xbbae7d,_0x1033e2),this[_0x228301(0xb65)]['createIncomingSubscription'](_0x1033e2,_0xbbae7d),_0xbbae7d[_0x228301(0x56f)](),_0xbbae7d['sync']();}),this[_0x33c700(0x507)][_0x33c700(0xb25)]()[_0x33c700(0x761)](_0x325d0e=>{const _0x3dd0d5=_0x33c700;this[_0x3dd0d5(0xb65)]['createOutgoingSubscription'](_0x325d0e,_0x1033e2),this[_0x3dd0d5(0xb65)][_0x3dd0d5(0x5f8)](_0x1033e2,_0x325d0e),_0x325d0e[_0x3dd0d5(0x56f)](),this[_0x3dd0d5(0x8c8)](_0x325d0e);}),this[_0x33c700(0x507)][_0x33c700(0x5bf)]()[_0x33c700(0x761)](_0x8a19c9=>{const _0x139d2f=_0x33c700;this['subscriptionManager'][_0x139d2f(0x445)](_0x8a19c9,_0x1033e2),this['subscriptionManager'][_0x139d2f(0x5f8)](_0x1033e2,_0x8a19c9),_0x8a19c9[_0x139d2f(0x56f)]();}),this['contentManager']['getJobWorkers']()[_0x33c700(0x761)](_0xaab67a=>{const _0x11bd28=_0x33c700;this['subscriptionManager']['createOutgoingSubscription'](_0xaab67a,_0x1033e2),this['subscriptionManager'][_0x11bd28(0x5f8)](_0x1033e2,_0xaab67a),_0xaab67a['reset']();}),this['contentManager'][_0x33c700(0x27e)]()['forEach'](_0x584af5=>{const _0x5ef15e=_0x33c700;this[_0x5ef15e(0xb65)][_0x5ef15e(0x445)](_0x584af5,_0x1033e2),this['subscriptionManager']['createIncomingSubscription'](_0x1033e2,_0x584af5),_0x584af5['reset']();}),this[_0x33c700(0x507)][_0x33c700(0x57b)]()[_0x33c700(0x761)](_0x538189=>{const _0x917f0c=_0x33c700;this['subscriptionManager'][_0x917f0c(0x445)](_0x538189,_0x1033e2),this['subscriptionManager'][_0x917f0c(0x5f8)](_0x1033e2,_0x538189),_0x538189[_0x917f0c(0x56f)]();}),this[_0x33c700(0x58a)]=this['initializeSystemTopic']();}[_0x4a13a(0x6b3)](_0x29ddbd){const _0xd96179=_0x4a13a;try{this['systemTopic'][_0xd96179(0xa66)](_0x29ddbd);}catch(_0x23a8e1){this[_0xd96179(0x8a0)](_0x23a8e1,{});}}[_0x4a13a(0x241)](_0x13c225){const _0x1d380a=_0x4a13a;try{this[_0x1d380a(0x525)][_0x1d380a(0x6ed)](_0x13c225);}catch(_0x39b278){this[_0x1d380a(0x8a0)](_0x39b278,{});}}[_0x4a13a(0xc26)](_0x4adc36,_0x228500){const _0x423ac6=_0x4a13a;return this[_0x423ac6(0xb20)]['createConnection'](_0x4adc36,_0x228500);}[_0x4a13a(0x990)](_0x3f6df0){const _0x3fa37b=_0x4a13a;try{return this[_0x3fa37b(0xb20)][_0x3fa37b(0x990)](_0x3f6df0);}catch(_0x14d58f){throw this[_0x3fa37b(0x8a0)](_0x14d58f,{});}}['getConnections'](_0x116121){const _0x4f5d22=_0x4a13a;try{return this[_0x4f5d22(0xb20)][_0x4f5d22(0xa1d)](_0x116121);}catch(_0x22ef53){throw this[_0x4f5d22(0x8a0)](_0x22ef53,{});}}[_0x4a13a(0x44c)](_0x356dff,_0x210ce6){const _0x2f8bd8=_0x4a13a;try{return this[_0x2f8bd8(0x507)][_0x2f8bd8(0x264)](_0x685bdf=>_0x685bdf[_0x2f8bd8(0x742)]()===_0x356dff&&_0x685bdf[_0x2f8bd8(0x287)]()===_0x210ce6)[0x0];}catch(_0x528319){throw this[_0x2f8bd8(0x8a0)](_0x528319,{});}}[_0x4a13a(0x28a)](_0x2746e6){const _0x1bc7c2=_0x4a13a;try{return this[_0x1bc7c2(0x507)]['getLocalMediaStreams'](_0xd4e857=>_0xd4e857[_0x1bc7c2(0x287)]()===_0x2746e6)[0x0];}catch(_0x3d63ae){throw this[_0x1bc7c2(0x8a0)](_0x3d63ae,{});}}[_0x4a13a(0xae0)]=(..._0x568fbd)=>{const _0x2b67f3=_0x4a13a;try{return this[_0x2b67f3(0x332)][_0x2b67f3(0x2e0)](..._0x568fbd);}catch(_0x283a9f){throw this[_0x2b67f3(0x8a0)](_0x283a9f,{});}};[_0x4a13a(0x858)](_0x4e9b96){const _0xb5f3d5=_0x4a13a;try{this[_0xb5f3d5(0xc04)][_0xb5f3d5(0x5e1)](_0x4e9b96);}catch(_0x30fd07){throw this[_0xb5f3d5(0x8a0)](_0x30fd07,{});}}[_0x4a13a(0x370)](_0x528295){const _0x37fda1=_0x4a13a;try{this[_0x37fda1(0xc04)]['removeRemoteNode'](_0x528295);}catch(_0x584c62){throw this[_0x37fda1(0x8a0)](_0x584c62,{});}}['collectStats'](_0xa7f651){const _0xe74d08=_0x4a13a;return this['connectionManager'][_0xe74d08(0x426)](_0xa7f651);}async[_0x4a13a(0xc21)](){const _0x4b6521=_0x4a13a;try{await this[_0x4b6521(0xb20)]['initialize']();const _0x5c7b0f=await this[_0x4b6521(0x2cf)][_0x4b6521(0x34c)]();for(const _0x2d7fae of _0x5c7b0f)this[_0x4b6521(0xb20)][_0x4b6521(0xc26)](_0x2d7fae);}catch(_0x268aa5){throw this[_0x4b6521(0x8a0)](_0x268aa5,{});}}[_0x4a13a(0xa1e)](_0x48f263){const _0x446fda=_0x4a13a;this[_0x446fda(0xc4d)]['type']===_0x52458b[_0x446fda(0x223)][_0x446fda(0xc05)]&&(this[_0x446fda(0xc4d)][_0x446fda(0xc01)](_0x48f263[_0x446fda(0x256)]()),this[_0x446fda(0xc4d)][_0x446fda(0xb94)](_0x48f263[_0x446fda(0x63a)]()));}[_0x4a13a(0x935)]({force:_0x308cd0=!0x1},_0x1d102e=!0x1){const _0x2d96d8=_0x4a13a;if(_0x260a6c[_0x2d96d8(0x885)](_0x2d96d8(0x886),{'clusterId':this[_0x2d96d8(0x88f)],'nodeId':this[_0x2d96d8(0xc4d)][_0x2d96d8(0xa47)](),'nodeType':this[_0x2d96d8(0xc4d)][_0x2d96d8(0xbdd)]}),!_0x308cd0&&this['connectionManager'][_0x2d96d8(0x461)]())throw new _0x298b29(_0x404249[_0x2d96d8(0x833)],'Cannot\x20close\x20the\x20SDK\x20while\x20data\x20is\x20being\x20transferred.\x20Use\x20`force`\x20parameter\x20to\x20interrupt\x20the\x20connection');_0x260a6c[_0x2d96d8(0xab6)](),this[_0x2d96d8(0x58a)](),this[_0x2d96d8(0x23f)][_0x2d96d8(0x935)](),this[_0x2d96d8(0x782)][_0x2d96d8(0x935)](),this[_0x2d96d8(0xc04)]['close'](),this['subscriptionManager']['close'](),this[_0x2d96d8(0xb20)][_0x2d96d8(0x935)](),this[_0x2d96d8(0x507)][_0x2d96d8(0x935)](_0x1d102e),this[_0x2d96d8(0x2cf)]['close']();}[_0x4a13a(0x855)](_0x20ca8c){const _0x3c801b=_0x4a13a;try{const _0x426b2b=this['contentManager']['createPubSubTopic'](_0x20ca8c),_0x29477e=this[_0x3c801b(0xb20)][_0x3c801b(0x779)]();return this['subscriptionManager']['createOutgoingSubscription'](_0x426b2b,_0x29477e),this['subscriptionManager'][_0x3c801b(0x5f8)](_0x29477e,_0x426b2b),_0x426b2b;}catch(_0x381aa7){throw this[_0x3c801b(0x8a0)](_0x381aa7,{});}}async[_0x4a13a(0x416)](_0x252fd9,_0x1ed388){const _0x4bf97a=_0x4a13a;try{const _0x343d85=this[_0x4bf97a(0x507)][_0x4bf97a(0x56a)](_0x252fd9,this[_0x4bf97a(0x5e9)][_0x4bf97a(0x2b3)],_0x1ed388),_0x3ba0f5=this[_0x4bf97a(0xb20)][_0x4bf97a(0x779)]();return this[_0x4bf97a(0xb65)][_0x4bf97a(0x445)](_0x343d85,_0x3ba0f5),this[_0x4bf97a(0xb65)][_0x4bf97a(0x5f8)](_0x3ba0f5,_0x343d85),await _0x343d85[_0x4bf97a(0x6f0)](),_0x343d85;}catch(_0x1b63c5){throw this[_0x4bf97a(0x8a0)](_0x1b63c5,{});}}async[_0x4a13a(0x451)](_0x1983fb,_0x549434){const _0xf2bade=_0x4a13a;try{if(!this[_0xf2bade(0x5e9)][_0xf2bade(0x907)])throw new _0x298b29(_0x404249[_0xf2bade(0xc27)],_0xf2bade(0x889));if(!(this[_0xf2bade(0x35d)]instanceof _0xf6ad0e))throw new _0x298b29(_0x404249[_0xf2bade(0x646)],_0xf2bade(0xa08));const _0xaec988=this[_0xf2bade(0x5e9)][_0xf2bade(0x907)]['get'](_0x549434);if(!_0xaec988)throw new _0x298b29(_0x404249[_0xf2bade(0xc27)],'Missing\x20external\x20storage\x20connector');const _0x53f19b=this[_0xf2bade(0x507)][_0xf2bade(0x4e8)](_0x1983fb,_0xaec988),_0x4edb25=this[_0xf2bade(0xb20)]['getConnectionGroup']();return this[_0xf2bade(0xb65)]['createOutgoingSubscription'](_0x53f19b,_0x4edb25),this[_0xf2bade(0xb65)]['createIncomingSubscription'](_0x4edb25,_0x53f19b),await _0x53f19b[_0xf2bade(0x4f0)](),_0x53f19b;}catch(_0x3f01ab){throw this[_0xf2bade(0x8a0)](_0x3f01ab,{});}}async[_0x4a13a(0x955)](_0x2ec41f,_0xdeed7,_0x2d0e42){const _0x5179c8=_0x4a13a;try{_0x2d0e42=_0x2d0e42||this[_0x5179c8(0x5e9)][_0x5179c8(0x778)];const _0x5a0ad9=await this[_0x5179c8(0x507)][_0x5179c8(0x509)](_0x2ec41f,_0xdeed7,_0x2d0e42),_0x543fe4=this[_0x5179c8(0xb20)][_0x5179c8(0x779)]();return this[_0x5179c8(0xb65)]['createOutgoingSubscription'](_0x5a0ad9,_0x543fe4),this[_0x5179c8(0xb65)][_0x5179c8(0x5f8)](_0x543fe4,_0x5a0ad9),await _0x5a0ad9[_0x5179c8(0x4f0)](),this[_0x5179c8(0x8c8)](_0x5a0ad9),_0x5a0ad9;}catch(_0xead896){throw this['handleError'](_0xead896,{});}}async[_0x4a13a(0x9a5)](_0x582c96){const _0x55a5cb=_0x4a13a;try{const _0x4b0fd0=await this[_0x55a5cb(0x507)]['createJobDispatcher'](_0x582c96,this['graphService']),_0x42af55=this[_0x55a5cb(0xb20)]['getConnectionGroup']();return this[_0x55a5cb(0xb65)]['createOutgoingSubscription'](_0x4b0fd0,_0x42af55),this['subscriptionManager']['createIncomingSubscription'](_0x42af55,_0x4b0fd0),_0x4b0fd0[_0x55a5cb(0x4f0)](),_0x4b0fd0;}catch(_0x1f068d){throw this[_0x55a5cb(0x8a0)](_0x1f068d,{});}}async['openJobWorker'](_0x743bbb){const _0x301091=_0x4a13a;throw new Error(_0x301091(0x9c5));}async[_0x4a13a(0x5e5)](_0x18fd18){const _0x490b71=_0x4a13a;try{const _0x23d1f1=await this[_0x490b71(0x507)][_0x490b71(0xa1c)](_0x18fd18,this['graphService']),_0x36c6ec=this[_0x490b71(0xb20)][_0x490b71(0x779)]();return this[_0x490b71(0xb65)]['createOutgoingSubscription'](_0x23d1f1,_0x36c6ec),this['subscriptionManager'][_0x490b71(0x5f8)](_0x36c6ec,_0x23d1f1),_0x23d1f1[_0x490b71(0x4f0)](),_0x23d1f1;}catch(_0xcc5bfa){throw console['error'](_0xcc5bfa),this[_0x490b71(0x8a0)](_0xcc5bfa,{});}}async[_0x4a13a(0x59f)](_0x53ec3d){const _0x877ae7=_0x4a13a;try{if(!(this[_0x877ae7(0x5e9)][_0x877ae7(0xa74)]&&this[_0x877ae7(0x5e9)][_0x877ae7(0x9c2)]&&this['options'][_0x877ae7(0x977)]&&this['options'][_0x877ae7(0x521)]&&this['options'][_0x877ae7(0xa6c)]))throw new _0x298b29(_0x404249[_0x877ae7(0x6a4)],'Missing\x20AI\x20worker\x20connector');if(!this[_0x877ae7(0x29b)][_0x877ae7(0xaa7)])throw new _0x298b29(_0x404249[_0x877ae7(0x8dc)],'Missing\x20OpenAI\x20API\x20key');const _0x6504ba=[];for(const [_0x34d3b2,_0x4341f7]of this[_0x877ae7(0x5e9)][_0x877ae7(0xa74)]){let _0x4595e8;_0x34d3b2===_0x52458b[_0x877ae7(0x402)][_0x877ae7(0x409)]&&(_0x4595e8=this[_0x877ae7(0x29b)][_0x877ae7(0xaa7)]),_0x34d3b2===_0x52458b[_0x877ae7(0x402)][_0x877ae7(0x424)]&&(_0x4595e8=this[_0x877ae7(0x29b)][_0x877ae7(0x834)]),_0x34d3b2===_0x52458b[_0x877ae7(0x402)][_0x877ae7(0x843)]&&(_0x4595e8=this['configs'][_0x877ae7(0xa5e)]),_0x34d3b2===_0x52458b[_0x877ae7(0x402)][_0x877ae7(0xb14)]&&(_0x4595e8=this['configs'][_0x877ae7(0x611)]),_0x6504ba['push'](new _0x4341f7(_0x4595e8));}const _0x2086a6=[];for(const [_0xc71fd7,_0x1bae69]of this[_0x877ae7(0x5e9)][_0x877ae7(0x9c2)]){let _0x2b90a7;_0xc71fd7===_0x52458b['GenerativeAIEngineType'][_0x877ae7(0x409)]&&(_0x2b90a7=this[_0x877ae7(0x29b)]['openaiApiKey']),_0xc71fd7===_0x52458b[_0x877ae7(0x402)][_0x877ae7(0x69b)]&&(_0x2b90a7=this[_0x877ae7(0x29b)][_0x877ae7(0x811)]),_0x2086a6[_0x877ae7(0x247)](new _0x1bae69(_0x2b90a7));}const _0x589ab4=new this[(_0x877ae7(0x5e9))][(_0x877ae7(0x2b3))](_0x877ae7(0xb1f)),_0x2bb926=new this['options'][(_0x877ae7(0x977))](),_0x51673c=new this[(_0x877ae7(0x5e9))][(_0x877ae7(0x521))](this[_0x877ae7(0x29b)][_0x877ae7(0xaa7)]),_0x12d65f=new this[(_0x877ae7(0x5e9))][(_0x877ae7(0xa6c))]();let _0xc56e52,_0x442c57,_0x3c59b0,_0x34b55a;if(this[_0x877ae7(0x5e9)][_0x877ae7(0x478)]){if(!this[_0x877ae7(0x29b)]['searchApiKey'])throw new _0x298b29(_0x404249[_0x877ae7(0x8dc)],'Missing\x20search\x20API\x20key');_0xc56e52=new this['options'][(_0x877ae7(0x478))](this[_0x877ae7(0x29b)][_0x877ae7(0x62d)]);}if(this[_0x877ae7(0x5e9)]['aiSearchConnector']){if(!this[_0x877ae7(0x29b)]['aiSearchApiKey'])throw new _0x298b29(_0x404249[_0x877ae7(0x8dc)],'Missing\x20AI\x20search\x20API\x20key');_0x442c57=new this[(_0x877ae7(0x5e9))][(_0x877ae7(0x8ef))](this[_0x877ae7(0x29b)][_0x877ae7(0x4b7)]);}if(this[_0x877ae7(0x5e9)][_0x877ae7(0x73b)]&&(_0x3c59b0=new this['options'][(_0x877ae7(0x73b))]()),this[_0x877ae7(0x5e9)][_0x877ae7(0x7b4)]){if(!this[_0x877ae7(0x29b)][_0x877ae7(0xb4a)])throw new _0x298b29(_0x404249['ApiKeyMissing'],_0x877ae7(0x925));_0x34b55a=new Map();for(const [_0x8d584f,_0x40d376]of this[_0x877ae7(0x5e9)]['ragConnectors'])_0x34b55a['set'](_0x8d584f,new _0x40d376(this['configs'][_0x877ae7(0xb4a)]));}return await this[_0x877ae7(0x507)][_0x877ae7(0xae3)](_0x53ec3d,_0x6504ba,_0x2086a6,_0x589ab4,_0x2bb926,_0x51673c,_0x12d65f,_0xc56e52,_0x442c57,_0x3c59b0,_0x34b55a,this[_0x877ae7(0x29b)][_0x877ae7(0xaa7)]);}catch(_0x80ae5e){throw this[_0x877ae7(0x8a0)](_0x80ae5e,{});}}async[_0x4a13a(0x592)](_0x21806b){const _0x2eac48=_0x4a13a;try{if(!(this[_0x2eac48(0x5e9)]['generativeAIWorkerConnectors']&&this[_0x2eac48(0x5e9)][_0x2eac48(0x9c2)]&&this['options'][_0x2eac48(0x977)]&&this[_0x2eac48(0x5e9)][_0x2eac48(0x521)]&&this[_0x2eac48(0x5e9)][_0x2eac48(0xa6c)]))throw new _0x298b29(_0x404249['GenerativeAIWorkerMissingConnector'],_0x2eac48(0x510));if(!(this[_0x2eac48(0x35d)]instanceof _0xf6ad0e))throw new _0x298b29(_0x404249[_0x2eac48(0x646)],_0x2eac48(0xa08));if(!this['configs'][_0x2eac48(0xaa7)])throw new _0x298b29(_0x404249[_0x2eac48(0x8dc)],_0x2eac48(0x96f));const _0x47c692=[];for(const [_0x4f5f7e,_0x75e4f4]of this[_0x2eac48(0x5e9)][_0x2eac48(0xa74)]){let _0x3ea04b;_0x4f5f7e===_0x52458b[_0x2eac48(0x402)][_0x2eac48(0x409)]&&(_0x3ea04b=this['configs'][_0x2eac48(0xaa7)]),_0x4f5f7e===_0x52458b[_0x2eac48(0x402)][_0x2eac48(0x424)]&&(_0x3ea04b=this[_0x2eac48(0x29b)][_0x2eac48(0x834)]),_0x4f5f7e===_0x52458b[_0x2eac48(0x402)][_0x2eac48(0x843)]&&(_0x3ea04b=this[_0x2eac48(0x29b)]['openrouterApiKey']),_0x4f5f7e===_0x52458b[_0x2eac48(0x402)][_0x2eac48(0xb14)]&&(_0x3ea04b=this['configs'][_0x2eac48(0x611)]),_0x47c692[_0x2eac48(0x247)](new _0x75e4f4(_0x3ea04b));}const _0x43f1a5=[];for(const [_0x5db8bb,_0x3c3140]of this['options']['generativeAISpeechConnectors']){let _0x1032ae;_0x5db8bb===_0x52458b[_0x2eac48(0x402)]['OpenAI']&&(_0x1032ae=this[_0x2eac48(0x29b)]['openaiApiKey']),_0x5db8bb===_0x52458b[_0x2eac48(0x402)][_0x2eac48(0x69b)]&&(_0x1032ae=this[_0x2eac48(0x29b)][_0x2eac48(0x811)]),_0x43f1a5[_0x2eac48(0x247)](new _0x3c3140(_0x1032ae));}const _0xebcdc9=new this[(_0x2eac48(0x5e9))][(_0x2eac48(0x2b3))](_0x2eac48(0xb1f)),_0x19b5c5=new this[(_0x2eac48(0x5e9))][(_0x2eac48(0x977))](),_0x518906=new this[(_0x2eac48(0x5e9))][(_0x2eac48(0x521))](this[_0x2eac48(0x29b)]['openaiApiKey']),_0xc7afd0=new this['options'][(_0x2eac48(0xa6c))]();let _0x8ae8db,_0x46089d,_0x4f1dd7,_0x3e208a;if(this[_0x2eac48(0x5e9)][_0x2eac48(0x478)]){if(!this[_0x2eac48(0x29b)][_0x2eac48(0x62d)])throw new _0x298b29(_0x404249['ApiKeyMissing'],_0x2eac48(0xbe6));_0x8ae8db=new this[(_0x2eac48(0x5e9))][(_0x2eac48(0x478))](this[_0x2eac48(0x29b)][_0x2eac48(0x62d)]);}if(this[_0x2eac48(0x5e9)][_0x2eac48(0x8ef)]){if(!this[_0x2eac48(0x29b)]['aiSearchApiKey'])throw new _0x298b29(_0x404249['ApiKeyMissing'],_0x2eac48(0x48f));_0x46089d=new this[(_0x2eac48(0x5e9))][(_0x2eac48(0x8ef))](this[_0x2eac48(0x29b)][_0x2eac48(0x4b7)]);}if(this[_0x2eac48(0x5e9)][_0x2eac48(0x73b)]&&(_0x4f1dd7=new this[(_0x2eac48(0x5e9))]['queryFileConnector']()),this[_0x2eac48(0x5e9)][_0x2eac48(0x7b4)]){if(!this[_0x2eac48(0x29b)]['ragApiKey'])throw new _0x298b29(_0x404249[_0x2eac48(0x8dc)],_0x2eac48(0x925));_0x3e208a=new Map();for(const [_0x473c3b,_0x2d7398]of this[_0x2eac48(0x5e9)][_0x2eac48(0x7b4)])_0x3e208a['set'](_0x473c3b,new _0x2d7398(this[_0x2eac48(0x29b)][_0x2eac48(0xb4a)]));}const _0x49441d=await this[_0x2eac48(0x507)]['createGenerativeAIWorker'](_0x21806b,this[_0x2eac48(0x35d)],_0x47c692,_0x43f1a5,_0xebcdc9,_0x19b5c5,_0x518906,_0xc7afd0,_0x8ae8db,_0x46089d,_0x4f1dd7,_0x3e208a,this[_0x2eac48(0x29b)]['openaiApiKey']),_0x3ddd31=this['connectionManager'][_0x2eac48(0x779)]();this[_0x2eac48(0xb65)][_0x2eac48(0x445)](_0x49441d,_0x3ddd31),this[_0x2eac48(0xb65)][_0x2eac48(0x5f8)](_0x3ddd31,_0x49441d);const _0x17cbe8=this['nodeManager'][_0x2eac48(0x901)]();return await _0x49441d[_0x2eac48(0x4f0)](0x0===_0x17cbe8[_0x2eac48(0x454)]||void 0x0),_0x49441d;}catch(_0x5e66a7){throw this['handleError'](_0x5e66a7,{});}}[_0x4a13a(0x36b)](_0x293049){const _0x128d74=_0x4a13a;try{if(!this[_0x128d74(0x5e9)][_0x128d74(0x6eb)])throw new _0x298b29(_0x404249[_0x128d74(0x9ed)],'Missing\x20graph\x20database\x20connector');if(!(this[_0x128d74(0x35d)]instanceof _0xf6ad0e))throw new _0x298b29(_0x404249[_0x128d74(0x646)],_0x128d74(0xa08));const _0xb4ce17=this[_0x128d74(0x507)][_0x128d74(0x929)](_0x293049,this[_0x128d74(0x5e9)]['graphDatabaseConnector']),_0x44c6c9=this['connectionManager'][_0x128d74(0x779)]();return this[_0x128d74(0xb65)][_0x128d74(0x445)](_0xb4ce17,_0x44c6c9),this[_0x128d74(0xb65)][_0x128d74(0x5f8)](_0x44c6c9,_0xb4ce17),_0xb4ce17;}catch(_0xc0a8d5){throw this[_0x128d74(0x8a0)](_0xc0a8d5,{});}}[_0x4a13a(0x29f)](_0x1e91cf){const _0x2f69f3=_0x4a13a;try{if(!this[_0x2f69f3(0x5e9)]['vectorDatabaseConnector'])throw new _0x298b29(_0x404249[_0x2f69f3(0x3c4)],_0x2f69f3(0x9af));if(!(this['authNode']instanceof _0xf6ad0e))throw new _0x298b29(_0x404249[_0x2f69f3(0x646)],_0x2f69f3(0xa08));const _0x3f3fac=this['contentManager'][_0x2f69f3(0x662)](_0x1e91cf,this[_0x2f69f3(0x5e9)][_0x2f69f3(0x1ff)]),_0x2b8094=this[_0x2f69f3(0xb20)][_0x2f69f3(0x779)]();return this['subscriptionManager'][_0x2f69f3(0x445)](_0x3f3fac,_0x2b8094),this['subscriptionManager'][_0x2f69f3(0x5f8)](_0x2b8094,_0x3f3fac),_0x3f3fac;}catch(_0x39edb9){throw this[_0x2f69f3(0x8a0)](_0x39edb9,{});}}['getPubSubTopics'](_0x2f88f9){const _0x5f203e=_0x4a13a;try{return this[_0x5f203e(0x507)][_0x5f203e(0x29e)](_0x2f88f9);}catch(_0x5df1e7){throw this[_0x5f203e(0x8a0)](_0x5df1e7,{});}}['getObjectStoreBuckets'](_0x539061){const _0x72f8a2=_0x4a13a;try{return this[_0x72f8a2(0x507)][_0x72f8a2(0xc49)](_0x539061);}catch(_0x3eca96){throw this['handleError'](_0x3eca96,{});}}['getExternalStorageConnections'](_0x4f885d){const _0x1d9eac=_0x4a13a;try{return this[_0x1d9eac(0x507)]['getExternalStorageConnections'](_0x4f885d);}catch(_0x2ae665){throw this[_0x1d9eac(0x8a0)](_0x2ae665,{});}}[_0x4a13a(0xb25)](_0x4f913c){const _0xbdb0d3=_0x4a13a;try{return this[_0xbdb0d3(0x507)]['getKeyValueDatabases'](_0x4f913c);}catch(_0x1a861d){throw this[_0xbdb0d3(0x8a0)](_0x1a861d,{});}}[_0x4a13a(0x85a)](_0x2d854b){const _0x224f98=_0x4a13a;try{return this[_0x224f98(0x507)][_0x224f98(0x85a)](_0x2d854b);}catch(_0x419a2b){throw this[_0x224f98(0x8a0)](_0x419a2b,{});}}[_0x4a13a(0x504)](_0x279975){const _0x43f206=_0x4a13a;try{return this[_0x43f206(0x507)]['getGenerativeAIContextsStandalone'](_0x279975);}catch(_0xefa813){throw this['handleError'](_0xefa813,{});}}['getGenerativeAIWorkers'](_0x3445c2){const _0x444f8c=_0x4a13a;try{return this['contentManager']['getGenerativeAIWorkers'](_0x3445c2);}catch(_0x51ca25){throw this[_0x444f8c(0x8a0)](_0x51ca25,{});}}[_0x4a13a(0x57b)](_0x470330){const _0x18c520=_0x4a13a;try{return this['contentManager']['getGraphDatabases'](_0x470330);}catch(_0x4645dd){throw this[_0x18c520(0x8a0)](_0x4645dd,{});}}['createLocalMediaStream'](_0x8c7d6,_0x5b294f){const _0x1f4b05=_0x4a13a;if(!this[_0x1f4b05(0x29b)]['features']['includes'](_0x38e8fe[_0x1f4b05(0x2c8)]))throw new _0x298b29(_0x404249[_0x1f4b05(0x310)],_0x1f4b05(0xa29));try{return this['contentManager'][_0x1f4b05(0x638)](_0x8c7d6,_0x5b294f);}catch(_0x30ea76){throw this[_0x1f4b05(0x8a0)](_0x30ea76,{});}}[_0x4a13a(0x2c2)](_0x381713,_0x486198){const _0x29d93f=_0x4a13a;if(!this[_0x29d93f(0x29b)]['features'][_0x29d93f(0xa7f)](_0x38e8fe[_0x29d93f(0x2c8)]))throw new _0x298b29(_0x404249['FeatureNotEnabled'],_0x29d93f(0xa29));try{return this[_0x29d93f(0x507)]['createLocalDynamicMediaStream'](_0x381713,_0x486198);}catch(_0x5a6644){throw this[_0x29d93f(0x8a0)](_0x5a6644,{});}}[_0x4a13a(0x587)](_0x4f2dbe){const _0x3e7187=_0x4a13a;if(!this[_0x3e7187(0x29b)]['features']['includes'](_0x38e8fe[_0x3e7187(0x2c8)]))throw new _0x298b29(_0x404249[_0x3e7187(0x310)],'MediaStream\x20feature\x20not\x20enabled');try{return this[_0x3e7187(0x507)][_0x3e7187(0x587)](_0x4f2dbe);}catch(_0x57feb8){throw this[_0x3e7187(0x8a0)](_0x57feb8,{});}}[_0x4a13a(0x264)](_0x5d1d9e){const _0x364642=_0x4a13a;if(!this[_0x364642(0x29b)][_0x364642(0x29d)][_0x364642(0xa7f)](_0x38e8fe[_0x364642(0x2c8)]))throw new _0x298b29(_0x404249['FeatureNotEnabled'],_0x364642(0xa29));try{return this[_0x364642(0x507)]['getRemoteMediaStreams'](_0x5d1d9e);}catch(_0x16777e){throw this['handleError'](_0x16777e,{});}}['getVectorDatabases'](_0x35df96){const _0x5f204d=_0x4a13a;try{return this[_0x5f204d(0x507)][_0x5f204d(0x27e)](_0x35df96);}catch(_0x2fe91f){throw this['handleError'](_0x2fe91f,{});}}['getDistance'](_0x1edd0c,_0x11fce5){const _0x738187=_0x4a13a;return this['nodeManager'][_0x738187(0x804)](_0x1edd0c,_0x11fce5);}['getLocalNode'](){const _0x576378=_0x4a13a;return this[_0x576378(0x2cf)]['getLocalNode']();}[_0x4a13a(0x61b)](_0x254c0e){const _0x585b98=_0x4a13a;try{return this[_0x585b98(0x2cf)]['getRemoteNodes'](_0x254c0e);}catch(_0x53157e){throw this[_0x585b98(0x8a0)](_0x53157e,{});}}['waitForArrayBufferSize'](){const _0x1478fb=_0x4a13a;return this[_0x1478fb(0xb20)][_0x1478fb(0x210)]();}[_0x4a13a(0x9f8)](_0xe0acf9){const _0x3acff6=_0x4a13a;return this[_0x3acff6(0x2cf)][_0x3acff6(0x9f8)](_0xe0acf9);}async[_0x4a13a(0x24a)](_0x177fee){const _0x5a5857=_0x4a13a;try{if(_0x260a6c['log'](_0x2e74f6[_0x5a5857(0x4e7)],_0x5a5857(0x2ef),this[_0x5a5857(0x2cf)][_0x5a5857(0x47c)](),_0x177fee),_0x25a203(_0x177fee,this[_0x5a5857(0x2cf)][_0x5a5857(0x47c)]()))return void this[_0x5a5857(0xb20)][_0x5a5857(0x9c4)](_0x177fee);switch(_0x177fee[_0x5a5857(0x5d4)]){case _0x29c5a4[_0x5a5857(0xbf2)]:this[_0x5a5857(0xc04)]['handleContentSystemEvents'](_0x177fee),this[_0x5a5857(0xb65)]['handleContentSystemEvents'](_0x177fee),this['contentManager'][_0x5a5857(0xa48)](_0x177fee);break;case _0x29c5a4[_0x5a5857(0x4d9)]:this[_0x5a5857(0xb65)][_0x5a5857(0x713)](_0x177fee),this['connectionManager'][_0x5a5857(0x713)](_0x177fee),this['contentManager'][_0x5a5857(0x713)](_0x177fee),this[_0x5a5857(0x2cf)][_0x5a5857(0x713)](_0x177fee);break;case _0x29c5a4[_0x5a5857(0x8c9)]:this['remediationManager'][_0x5a5857(0x42e)](_0x177fee);break;case _0x29c5a4[_0x5a5857(0x401)]:this[_0x5a5857(0x23f)]['handleRemediationSystemEvents'](_0x177fee);break;case _0x29c5a4[_0x5a5857(0x76e)]:this['detectionManager'][_0x5a5857(0x6c3)](_0x177fee);break;case _0x29c5a4['Subscription']:_0x177fee[_0x5a5857(0x816)][_0x5a5857(0xbdd)]!==_0x141a98['UnsubscribeMediaStream']?(this['subscriptionManager'][_0x5a5857(0x1e3)](_0x177fee),this[_0x5a5857(0x507)][_0x5a5857(0x1e3)](_0x177fee)):(this['contentManager']['handleSubscriptionSystemEvents'](_0x177fee),this[_0x5a5857(0xb65)]['handleSubscriptionSystemEvents'](_0x177fee));break;case _0x29c5a4[_0x5a5857(0x99b)]:await this[_0x5a5857(0xb20)][_0x5a5857(0xc1e)](_0x177fee),this['statsManager']['handlePeerConnectionSystemEvents'](_0x177fee),this[_0x5a5857(0x2cf)][_0x5a5857(0xc1e)](_0x177fee),this[_0x5a5857(0xb65)][_0x5a5857(0xc1e)](_0x177fee);}}catch(_0x230e13){throw _0x260a6c[_0x5a5857(0xb15)](_0x5a5857(0x24a),_0x230e13),this[_0x5a5857(0x8a0)](_0x230e13,{});}}[_0x4a13a(0x8a0)](_0x12d92f,_0x296e25){const _0x3ae264=_0x4a13a;if(!(_0x12d92f instanceof _0x32e9cc)){if(_0x12d92f instanceof _0x298b29)throw _0x12d92f;if(!(_0x12d92f instanceof Error))throw new _0x298b29(_0x404249[_0x3ae264(0x987)],'Internal\x20unknown\x20error:\x20'+_0x12d92f);if(!(_0x12d92f instanceof _0x240123))throw new _0x298b29(_0x404249['InternalSDKError'],_0x3ae264(0x305)+_0x12d92f[_0x3ae264(0x5c1)]);switch(_0x12d92f[_0x3ae264(0x6c2)]){case _0x240123[_0x3ae264(0x2f7)]['MissingSystemTopic']:case _0x240123[_0x3ae264(0x2f7)][_0x3ae264(0x5b2)]:case _0x240123[_0x3ae264(0x2f7)][_0x3ae264(0x518)]:case _0x240123[_0x3ae264(0x2f7)][_0x3ae264(0x66b)]:case _0x240123[_0x3ae264(0x2f7)][_0x3ae264(0x9f9)]:case _0x240123['codes']['InvalidDataChannel']:case _0x240123['codes'][_0x3ae264(0x985)]:case _0x240123['codes'][_0x3ae264(0x651)]:case _0x240123[_0x3ae264(0x2f7)][_0x3ae264(0xb2f)]:case _0x240123[_0x3ae264(0x2f7)][_0x3ae264(0x45f)]:case _0x240123[_0x3ae264(0x2f7)][_0x3ae264(0x796)]:case _0x240123['codes'][_0x3ae264(0x85c)]:}throw _0x260a6c[_0x3ae264(0x33b)](_0x3ae264(0x3cc)+_0x12d92f[_0x3ae264(0x5c1)],{'clusterId':this[_0x3ae264(0x88f)],'nodeId':this[_0x3ae264(0xc4d)][_0x3ae264(0xa47)](),'nodeType':this[_0x3ae264(0xc4d)]['type']},_0x12d92f),new _0x298b29(_0x404249[_0x3ae264(0x987)],_0x3ae264(0x973)+_0x12d92f['message']);}}[_0x4a13a(0x57f)](){const _0x399181=_0x4a13a;return{'mediator':this,'vendorId':this[_0x399181(0x649)],'clusterId':this[_0x399181(0x88f)],'localNode':this['localNode']};}['initializeSystemTopic'](){const _0x2d65ab=_0x4a13a;return this[_0x2d65ab(0x525)][_0x2d65ab(0x7a8)](_0x1fb098=>{const _0x55f326=_0x2d65ab,_0x504980=_0x298199(_0x1fb098,this[_0x55f326(0xc4d)][_0x55f326(0xa47)]()),_0x355f6c=_0x1fb098[_0x55f326(0x5d4)]===_0x29c5a4[_0x55f326(0x76e)]||_0x1fb098[_0x55f326(0x5d4)]===_0x29c5a4['PeerConnection']&&_0x1fb098[_0x55f326(0x816)][_0x55f326(0xbdd)]===_0x1227a1[_0x55f326(0x76e)]?_0x2e74f6['SystemStats']:_0x2e74f6[_0x55f326(0x4f6)];_0x260a6c[_0x55f326(0x764)](_0x355f6c,_0x1fb098['uuid']+_0x55f326(0x6a9)+_0x504980,_0x1fb098),this[_0x55f326(0x24a)](_0x1fb098)[_0x55f326(0x443)](_0x1a2644=>{const _0x3fbc60=_0x55f326;console[_0x3fbc60(0x33b)](_0x1a2644);});});}async[_0x4a13a(0x8c8)](_0x187a3b){const _0x5ac85e=_0x4a13a,{timingLogger:_0x3300d1,logger:_0x570dab,logBeforeSync:_0x2a86b1,logAfterSync:_0x3cbef1}=function(_0x298f46,_0xe55473){const _0x1e373a=a0_0x2cf3;if(!_0x260a6c['isChannelEnabled'](_0xe55473))return _0x260a6c[_0x1e373a(0xb15)](_0x1e373a(0x1ea)+_0xe55473),{..._0x389830(_0x298f46,_0xe55473),'syncStartTime':0x0,'logBeforeSync':()=>0x0,'logAfterSync':()=>{}};const {timingLogger:_0x520b8b,logger:_0x18bc50}=_0x389830(_0x298f46,_0xe55473);let _0x3774fb=0x0;return _0x3774fb=Date[_0x1e373a(0xad3)](),{'syncStartTime':_0x3774fb,'timingLogger':_0x520b8b,'logger':_0x18bc50,'logBeforeSync':()=>(_0x44ff85(_0xe55473,_0x1e373a(0x466)),_0x520b8b[_0x1e373a(0xad3)]()),'logAfterSync':(_0x148bb9,_0x503c32)=>{const _0x120d51=_0x1e373a,_0x5d963d=Date['now']();_0x44ff85(_0xe55473,'After\x20Synchronization\x20-\x20Is\x20Database\x20sync?\x20'+_0x503c32);const _0x4da560=(_0x5d963d-_0x3774fb)/0x3e8,_0x234cac=(_0x5d963d-_0x148bb9)/0x3e8;_0x260a6c[_0x120d51(0x8b9)](_0xe55473,_0x120d51(0x442),_0x298f46,'\x0a\x20===\x20Total\x20Time:\x20'+_0x4da560['toFixed'](0x2)+_0x120d51(0x4c6),_0x120d51(0x59c)+_0x234cac[_0x120d51(0x9e1)](0x3)+'\x20seconds','\x0a\x20===\x20Synchronization\x20Time:\x20'+((_0x5d963d-_0x3774fb)/0x3e8-_0x234cac)['toFixed'](0x2)+'\x20seconds');}};}(_0x187a3b[_0x5ac85e(0x287)](),_0x2e74f6[_0x5ac85e(0xba3)]);_0x570dab['log'](_0x5ac85e(0x5c7));const _0x409a42=this[_0x5ac85e(0x2cf)][_0x5ac85e(0x901)]()[_0x5ac85e(0x454)]>0x0;if(_0x409a42){_0x570dab[_0x5ac85e(0x8b9)](_0x5ac85e(0x580),()=>this[_0x5ac85e(0x2cf)][_0x5ac85e(0x901)]()),_0x3300d1[_0x5ac85e(0x434)](),await Promise[_0x5ac85e(0x47f)](this[_0x5ac85e(0x2cf)][_0x5ac85e(0x901)]()[_0x5ac85e(0x275)](async _0x45c329=>await this[_0x5ac85e(0x2cf)]['isNodeReady'](_0x45c329)))[_0x5ac85e(0x443)](_0x2eb8c7=>_0x260a6c['warning'](_0x5ac85e(0x233),{'nodeId':this[_0x5ac85e(0xc4d)]['getId'](),'nodeType':this[_0x5ac85e(0xc4d)]['type']}));const _0x3b96f0=_0x570dab[_0x5ac85e(0x63c)](()=>this[_0x5ac85e(0x2cf)][_0x5ac85e(0x901)](),[]);_0x3300d1['logWaitTime'](_0x5ac85e(0x2b6)+_0x3b96f0+'\x20were\x20ready\x20in');}_0x3cbef1(_0x2a86b1(),await _0x187a3b[_0x5ac85e(0x6f0)](_0x409a42,async()=>{const _0x70c07=_0x5ac85e;_0x3300d1[_0x70c07(0x434)](),await this[_0x70c07(0x2cf)][_0x70c07(0x803)](),_0x3300d1[_0x70c07(0x5fb)](_0x70c07(0x2a4)),_0x187a3b[_0x70c07(0x6f0)](!0x0,()=>{const _0x14bb32=_0x70c07;_0x570dab[_0x14bb32(0x8b9)]('KeyValueDatabase\x20-\x20Assuming\x20no\x20nodes\x20available\x20to\x20sync.\x20Completing\x20sync.'),_0x187a3b['sync'](!0x1);},!0x0);}));}}class _0x371081{['vendorId'];[_0x4a13a(0x88f)];[_0x4a13a(0x35d)];[_0x4a13a(0x744)];[_0x4a13a(0xa0f)];constructor(_0x18dabe,_0x593288,_0x206bbb,_0x26bd04,_0x24236c,_0x635456,_0x49e3fe=new _0x4d637e()){const _0x44d08a=_0x4a13a;this[_0x44d08a(0x649)]=_0x18dabe,this[_0x44d08a(0x88f)]=_0x593288,this['authNode']=_0x206bbb,this[_0x44d08a(0x744)]=_0x49e3fe,this[_0x44d08a(0xa0f)]=new _0x4184db(this[_0x44d08a(0x649)],this[_0x44d08a(0x88f)],_0x206bbb,_0x26bd04,_0x24236c,_0x635456,this);}async[_0x4a13a(0x9ac)](){const _0x51290c=_0x4a13a;await this[_0x51290c(0xa0f)][_0x51290c(0xc21)](),this[_0x51290c(0x35d)][_0x51290c(0xbdd)]===_0x52458b[_0x51290c(0x223)][_0x51290c(0xc05)]&&this[_0x51290c(0x35d)][_0x51290c(0x7d9)](this[_0x51290c(0x88f)],_0x49beee=>{const _0x1d2a2f=_0x51290c;this[_0x1d2a2f(0xa0f)][_0x1d2a2f(0xa1e)](_0x49beee);});}[_0x4a13a(0x9b5)](_0x164f0b={}){const _0xa3390b=_0x4a13a;this[_0xa3390b(0xa0f)][_0xa3390b(0x935)](_0x164f0b),this['authNode']['type']===_0x52458b[_0xa3390b(0x223)][_0xa3390b(0xc05)]&&this['authNode']['unregisterCluster'](this[_0xa3390b(0x88f)]),this[_0xa3390b(0x2e0)](_0xa3390b(0x3dd),void 0x0);}[_0x4a13a(0x855)](_0x21c30e){const _0x4eef0b=_0x4a13a,_0x35edbc=this[_0x4eef0b(0xa0f)][_0x4eef0b(0x855)](_0x21c30e);return{'getName':_0x35edbc[_0x4eef0b(0x534)][_0x4eef0b(0x65d)](_0x35edbc),'getOwnerId':_0x35edbc['getOwnerId'][_0x4eef0b(0x65d)](_0x35edbc),'getContentType':_0x35edbc[_0x4eef0b(0x743)]['bind'](_0x35edbc),'publish':_0x35edbc[_0x4eef0b(0xa19)][_0x4eef0b(0x65d)](_0x35edbc),'subscribe':_0x35edbc['subscribe'][_0x4eef0b(0x65d)](_0x35edbc),'unsubscribe':_0x35edbc['unsubscribe']['bind'](_0x35edbc),'close':_0x35edbc['close']['bind'](_0x35edbc)};}async[_0x4a13a(0x416)](_0x217ee4,_0x477817){const _0x4ab2e2=_0x4a13a,_0x163171=await this['orchestrator'][_0x4ab2e2(0x416)](_0x217ee4,_0x477817);return{'getName':_0x163171[_0x4ab2e2(0x534)][_0x4ab2e2(0x65d)](_0x163171),'getOwnerId':_0x163171[_0x4ab2e2(0x742)][_0x4ab2e2(0x65d)](_0x163171),'getContentType':_0x163171[_0x4ab2e2(0x743)][_0x4ab2e2(0x65d)](_0x163171),'publish':_0x163171[_0x4ab2e2(0xa19)][_0x4ab2e2(0x65d)](_0x163171),'unpublish':_0x163171[_0x4ab2e2(0xa9c)][_0x4ab2e2(0x65d)](_0x163171),'get':_0x163171[_0x4ab2e2(0x68c)][_0x4ab2e2(0x65d)](_0x163171),'list':_0x163171[_0x4ab2e2(0xb07)][_0x4ab2e2(0x65d)](_0x163171),'getSize':_0x163171[_0x4ab2e2(0xc3c)][_0x4ab2e2(0x65d)](_0x163171),'subscribe':_0x163171[_0x4ab2e2(0x7a8)]['bind'](_0x163171),'unsubscribe':_0x163171[_0x4ab2e2(0x3bf)]['bind'](_0x163171),'close':_0x163171[_0x4ab2e2(0x935)][_0x4ab2e2(0x65d)](_0x163171)};}async['openExternalStorageConnection'](_0x574e50,_0x43c51b){const _0x5d2f1f=_0x4a13a,_0x5bd532=await this[_0x5d2f1f(0xa0f)][_0x5d2f1f(0x451)](_0x574e50,_0x43c51b);return{'getName':_0x5bd532[_0x5d2f1f(0x534)][_0x5d2f1f(0x65d)](_0x5bd532),'getOwnerId':_0x5bd532[_0x5d2f1f(0x742)]['bind'](_0x5bd532),'getContentType':_0x5bd532[_0x5d2f1f(0x743)][_0x5d2f1f(0x65d)](_0x5bd532),'close':_0x5bd532[_0x5d2f1f(0x935)][_0x5d2f1f(0x65d)](_0x5bd532),'get':_0x5bd532['get'][_0x5d2f1f(0x65d)](_0x5bd532),'list':_0x5bd532[_0x5d2f1f(0xb07)][_0x5d2f1f(0x65d)](_0x5bd532),'subscribe':_0x5bd532[_0x5d2f1f(0x7a8)][_0x5d2f1f(0x65d)](_0x5bd532),'unsubscribe':_0x5bd532[_0x5d2f1f(0x3bf)][_0x5d2f1f(0x65d)](_0x5bd532)};}async[_0x4a13a(0x955)](_0x4a0915,_0x263d35,_0x50e2b1){const _0x5802a3=_0x4a13a,_0x427a51=await this['orchestrator'][_0x5802a3(0x955)](_0x4a0915,_0x263d35,_0x50e2b1);return{'getName':_0x427a51['getName'][_0x5802a3(0x65d)](_0x427a51),'getOwnerId':_0x427a51[_0x5802a3(0x742)]['bind'](_0x427a51),'getContentType':_0x427a51[_0x5802a3(0x743)]['bind'](_0x427a51),'getTable':_0x427a51[_0x5802a3(0x894)][_0x5802a3(0x65d)](_0x427a51),'subscribe':_0x427a51[_0x5802a3(0x7a8)]['bind'](_0x427a51),'unsubscribe':_0x427a51[_0x5802a3(0x3bf)][_0x5802a3(0x65d)](_0x427a51),'close':_0x427a51['close'][_0x5802a3(0x65d)](_0x427a51)};}async[_0x4a13a(0x9a5)](_0x231eab){const _0x597c05=_0x4a13a,_0x45b1b0=await this[_0x597c05(0xa0f)][_0x597c05(0x9a5)](_0x231eab);return{'getName':_0x45b1b0[_0x597c05(0x534)][_0x597c05(0x65d)](_0x45b1b0),'getOwnerId':_0x45b1b0[_0x597c05(0x742)][_0x597c05(0x65d)](_0x45b1b0),'getContentType':_0x45b1b0[_0x597c05(0x743)]['bind'](_0x45b1b0),'createJob':_0x45b1b0[_0x597c05(0x4eb)][_0x597c05(0x65d)](_0x45b1b0),'getJob':_0x45b1b0[_0x597c05(0x78d)][_0x597c05(0x65d)](_0x45b1b0),'getJobs':_0x45b1b0['getJobs']['bind'](_0x45b1b0),'close':_0x45b1b0['close']['bind'](_0x45b1b0)};}async[_0x4a13a(0x459)](_0x201170){const _0x2a152d=_0x4a13a,_0x4c8fe4=await this[_0x2a152d(0xa0f)]['openJobWorker'](_0x201170);return{'close':_0x4c8fe4[_0x2a152d(0x935)][_0x2a152d(0x65d)](_0x4c8fe4)};}async[_0x4a13a(0x5e5)](_0x2dee4a){const _0x2a2202=_0x4a13a,_0x41c50b=await this['orchestrator']['openGenerativeAIContext'](_0x2dee4a);return{'createAIJob':_0x41c50b[_0x2a2202(0x8cb)][_0x2a2202(0x65d)](_0x41c50b),'getDataBucketIds':_0x41c50b[_0x2a2202(0x574)]['bind'](_0x41c50b),'close':_0x41c50b[_0x2a2202(0x935)][_0x2a2202(0x65d)](_0x41c50b)};}async['openGenerativeAIContextStandalone'](_0x3241b8){const _0x53350f=_0x4a13a,_0x3c3c0b=await this['orchestrator'][_0x53350f(0x59f)](_0x3241b8);return{'createAIJob':_0x3c3c0b['createAIJob'][_0x53350f(0x65d)](_0x3c3c0b),'getDataBucketIds':_0x3c3c0b['getDataBucketIds'][_0x53350f(0x65d)](_0x3c3c0b),'close':_0x3c3c0b['close'][_0x53350f(0x65d)](_0x3c3c0b)};}async['openGenerativeAIWorker'](_0x12725a){const _0x34b0d5=_0x4a13a,_0x1439c2=await this[_0x34b0d5(0xa0f)][_0x34b0d5(0x592)](_0x12725a);return{'close':_0x1439c2[_0x34b0d5(0x935)][_0x34b0d5(0x65d)](_0x1439c2)};}['openGraphDatabase'](_0x3a0467){const _0x5c02c0=_0x4a13a,_0x46eacc=this['orchestrator'][_0x5c02c0(0x36b)](_0x3a0467);return{'getName':_0x46eacc[_0x5c02c0(0x534)][_0x5c02c0(0x65d)](_0x46eacc),'getOwnerId':_0x46eacc[_0x5c02c0(0x742)][_0x5c02c0(0x65d)](_0x46eacc),'getContentType':_0x46eacc[_0x5c02c0(0x743)][_0x5c02c0(0x65d)](_0x46eacc),'addNode':_0x46eacc['addNode'][_0x5c02c0(0x65d)](_0x46eacc),'addEdge':_0x46eacc[_0x5c02c0(0x710)][_0x5c02c0(0x65d)](_0x46eacc),'getContent':_0x46eacc['getContent'][_0x5c02c0(0x65d)](_0x46eacc),'remove':_0x46eacc[_0x5c02c0(0xa4d)]['bind'](_0x46eacc),'saveToDisk':_0x46eacc[_0x5c02c0(0x3ef)][_0x5c02c0(0x65d)](_0x46eacc),'loadFromDisk':_0x46eacc['loadFromDisk'][_0x5c02c0(0x65d)](_0x46eacc),'close':_0x46eacc[_0x5c02c0(0x935)][_0x5c02c0(0x65d)](_0x46eacc)};}[_0x4a13a(0x29f)](_0x416825){const _0x281a6a=_0x4a13a,_0x1a532d=this[_0x281a6a(0xa0f)][_0x281a6a(0x29f)](_0x416825);return{'getName':_0x1a532d[_0x281a6a(0x534)]['bind'](_0x1a532d),'getOwnerId':_0x1a532d['getOwnerId']['bind'](_0x1a532d),'getContentType':_0x1a532d[_0x281a6a(0x743)][_0x281a6a(0x65d)](_0x1a532d),'search':_0x1a532d['search'][_0x281a6a(0x65d)](_0x1a532d),'insert':_0x1a532d['insert'][_0x281a6a(0x65d)](_0x1a532d),'remove':_0x1a532d[_0x281a6a(0xa4d)][_0x281a6a(0x65d)](_0x1a532d),'saveToDisk':_0x1a532d[_0x281a6a(0x3ef)][_0x281a6a(0x65d)](_0x1a532d),'loadFromDisk':_0x1a532d[_0x281a6a(0xab7)][_0x281a6a(0x65d)](_0x1a532d),'close':_0x1a532d[_0x281a6a(0x935)][_0x281a6a(0x65d)](_0x1a532d)};}[_0x4a13a(0x29e)](_0xc9ad24){const _0x3c972c=_0x4a13a;return this[_0x3c972c(0xa0f)][_0x3c972c(0x29e)](_0xc9ad24)[_0x3c972c(0x275)](_0xb1a9ad=>({'getName':_0xb1a9ad[_0x3c972c(0x534)][_0x3c972c(0x65d)](_0xb1a9ad),'getOwnerId':_0xb1a9ad[_0x3c972c(0x742)][_0x3c972c(0x65d)](_0xb1a9ad),'getContentType':_0xb1a9ad[_0x3c972c(0x743)][_0x3c972c(0x65d)](_0xb1a9ad),'publish':_0xb1a9ad[_0x3c972c(0xa19)]['bind'](_0xb1a9ad),'subscribe':_0xb1a9ad[_0x3c972c(0x7a8)][_0x3c972c(0x65d)](_0xb1a9ad),'unsubscribe':_0xb1a9ad['unsubscribe'][_0x3c972c(0x65d)](_0xb1a9ad),'close':_0xb1a9ad['close'][_0x3c972c(0x65d)](_0xb1a9ad)}));}['getObjectStoreBuckets'](_0x5e0a1f){const _0x225e4f=_0x4a13a;return this[_0x225e4f(0xa0f)]['getObjectStoreBuckets'](_0x5e0a1f)[_0x225e4f(0x275)](_0x298ca0=>({'getName':_0x298ca0[_0x225e4f(0x534)][_0x225e4f(0x65d)](_0x298ca0),'getOwnerId':_0x298ca0['getOwnerId'][_0x225e4f(0x65d)](_0x298ca0),'getContentType':_0x298ca0[_0x225e4f(0x743)][_0x225e4f(0x65d)](_0x298ca0),'publish':_0x298ca0[_0x225e4f(0xa19)][_0x225e4f(0x65d)](_0x298ca0),'unpublish':_0x298ca0[_0x225e4f(0xa9c)][_0x225e4f(0x65d)](_0x298ca0),'get':_0x298ca0[_0x225e4f(0x68c)][_0x225e4f(0x65d)](_0x298ca0),'list':_0x298ca0['list'][_0x225e4f(0x65d)](_0x298ca0),'getSize':_0x298ca0['getSize'][_0x225e4f(0x65d)](_0x298ca0),'subscribe':_0x298ca0[_0x225e4f(0x7a8)][_0x225e4f(0x65d)](_0x298ca0),'unsubscribe':_0x298ca0['unsubscribe'][_0x225e4f(0x65d)](_0x298ca0),'close':_0x298ca0[_0x225e4f(0x935)]['bind'](_0x298ca0)}));}[_0x4a13a(0x569)](_0x376cec){const _0x969d6b=_0x4a13a;return this['orchestrator'][_0x969d6b(0x569)](_0x376cec)[_0x969d6b(0x275)](_0x18441f=>({'getName':_0x18441f[_0x969d6b(0x534)][_0x969d6b(0x65d)](_0x18441f),'getOwnerId':_0x18441f[_0x969d6b(0x742)]['bind'](_0x18441f),'getContentType':_0x18441f['getContentType']['bind'](_0x18441f),'close':_0x18441f['close'][_0x969d6b(0x65d)](_0x18441f),'get':_0x18441f['get'][_0x969d6b(0x65d)](_0x18441f),'list':_0x18441f['list'][_0x969d6b(0x65d)](_0x18441f),'subscribe':_0x18441f[_0x969d6b(0x7a8)][_0x969d6b(0x65d)](_0x18441f),'unsubscribe':_0x18441f[_0x969d6b(0x3bf)][_0x969d6b(0x65d)](_0x18441f)}));}['getKeyValueDatabases'](_0x5c80d1){const _0x211b06=_0x4a13a;return this[_0x211b06(0xa0f)][_0x211b06(0xb25)](_0x5c80d1)['map'](_0x5d05b5=>({'getName':_0x5d05b5[_0x211b06(0x534)]['bind'](_0x5d05b5),'getOwnerId':_0x5d05b5[_0x211b06(0x742)][_0x211b06(0x65d)](_0x5d05b5),'getContentType':_0x5d05b5[_0x211b06(0x743)][_0x211b06(0x65d)](_0x5d05b5),'getTable':_0x5d05b5[_0x211b06(0x894)][_0x211b06(0x65d)](_0x5d05b5),'subscribe':_0x5d05b5[_0x211b06(0x7a8)]['bind'](_0x5d05b5),'unsubscribe':_0x5d05b5[_0x211b06(0x3bf)][_0x211b06(0x65d)](_0x5d05b5),'close':_0x5d05b5[_0x211b06(0x935)][_0x211b06(0x65d)](_0x5d05b5)}));}[_0x4a13a(0x85a)](_0x3ba3c8){const _0x3bf23f=_0x4a13a;return this[_0x3bf23f(0xa0f)][_0x3bf23f(0x85a)](_0x3ba3c8)[_0x3bf23f(0x275)](_0x5d4eeb=>({'createAIJob':_0x5d4eeb[_0x3bf23f(0x8cb)]['bind'](_0x5d4eeb),'getDataBucketIds':_0x5d4eeb[_0x3bf23f(0x574)]['bind'](_0x5d4eeb),'close':_0x5d4eeb[_0x3bf23f(0x935)]['bind'](_0x5d4eeb)}));}[_0x4a13a(0x504)](_0x1b663e){const _0x4a9926=_0x4a13a;return this['orchestrator'][_0x4a9926(0x504)](_0x1b663e)[_0x4a9926(0x275)](_0x528202=>({'createAIJob':_0x528202[_0x4a9926(0x8cb)]['bind'](_0x528202),'getDataBucketIds':_0x528202[_0x4a9926(0x574)]['bind'](_0x528202),'close':_0x528202['close'][_0x4a9926(0x65d)](_0x528202)}));}['getGenerativeAIWorkers'](_0x38ecb4){const _0x39f51c=_0x4a13a;return this['orchestrator'][_0x39f51c(0x735)](_0x38ecb4)[_0x39f51c(0x275)](_0x2c0c08=>({'close':_0x2c0c08[_0x39f51c(0x935)][_0x39f51c(0x65d)](_0x2c0c08)}));}['publishLocalMediaStream'](_0x2ed37d,_0x4c2b79){const _0x4bbc37=_0x4a13a,_0x4e3f21=this['orchestrator']['createLocalMediaStream'](_0x2ed37d,_0x4c2b79);return{'getLabel':_0x4e3f21[_0x4bbc37(0x287)][_0x4bbc37(0x65d)](_0x4e3f21),'getOwnerId':_0x4e3f21[_0x4bbc37(0x742)][_0x4bbc37(0x65d)](_0x4e3f21),'getContentType':_0x4e3f21['getContentType']['bind'](_0x4e3f21),'getMediaStream':_0x4e3f21[_0x4bbc37(0xbd7)][_0x4bbc37(0x65d)](_0x4e3f21),'setPriority':_0x4e3f21['setPriority'][_0x4bbc37(0x65d)](_0x4e3f21),'unpublish':_0x4e3f21['unpublish'][_0x4bbc37(0x65d)](_0x4e3f21)};}[_0x4a13a(0x225)](_0x6cf247,_0x365c77){const _0x24124e=_0x4a13a,_0x5da42e=this[_0x24124e(0xa0f)]['createLocalDynamicMediaStream'](_0x6cf247,_0x365c77);return{'getLabel':_0x5da42e['getLabel'][_0x24124e(0x65d)](_0x5da42e),'getOwnerId':_0x5da42e['getOwnerId']['bind'](_0x5da42e),'getContentType':_0x5da42e[_0x24124e(0x743)]['bind'](_0x5da42e),'setPriority':_0x5da42e[_0x24124e(0x35f)]['bind'](_0x5da42e),'unpublish':_0x5da42e[_0x24124e(0xa9c)][_0x24124e(0x65d)](_0x5da42e),'getMediaStream':_0x5da42e[_0x24124e(0xbd7)][_0x24124e(0x65d)](_0x5da42e),'addTrack':_0x5da42e['addTrack']['bind'](_0x5da42e),'removeTrack':_0x5da42e[_0x24124e(0x6cc)][_0x24124e(0x65d)](_0x5da42e),'replaceTrack':_0x5da42e[_0x24124e(0x8b3)]['bind'](_0x5da42e),'setTransformations':_0x5da42e[_0x24124e(0x9c0)][_0x24124e(0x65d)](_0x5da42e)};}[_0x4a13a(0x587)](_0x1c13cf){const _0x3ef5cc=_0x4a13a;return this['orchestrator'][_0x3ef5cc(0x587)](_0x1c13cf)[_0x3ef5cc(0x275)](_0x20bcc4=>({'getLabel':_0x20bcc4[_0x3ef5cc(0x287)][_0x3ef5cc(0x65d)](_0x20bcc4),'getOwnerId':_0x20bcc4[_0x3ef5cc(0x742)]['bind'](_0x20bcc4),'getContentType':_0x20bcc4[_0x3ef5cc(0x743)][_0x3ef5cc(0x65d)](_0x20bcc4),'getMediaStream':_0x20bcc4[_0x3ef5cc(0xbd7)]['bind'](_0x20bcc4),'setPriority':_0x20bcc4['setPriority'][_0x3ef5cc(0x65d)](_0x20bcc4),'unpublish':_0x20bcc4[_0x3ef5cc(0xa9c)][_0x3ef5cc(0x65d)](_0x20bcc4)}));}[_0x4a13a(0x264)](_0x44277c){const _0x2620bc=_0x4a13a;return this[_0x2620bc(0xa0f)][_0x2620bc(0x264)](_0x44277c)[_0x2620bc(0x275)](_0x2dc8ec=>({'getLabel':_0x2dc8ec[_0x2620bc(0x287)][_0x2620bc(0x65d)](_0x2dc8ec),'getOwnerId':_0x2dc8ec['getOwnerId']['bind'](_0x2dc8ec),'getContentType':_0x2dc8ec['getContentType'][_0x2620bc(0x65d)](_0x2dc8ec),'getMediaStream':_0x2dc8ec[_0x2620bc(0xbd7)]['bind'](_0x2dc8ec),'subscribe':_0x2dc8ec[_0x2620bc(0x7a8)]['bind'](_0x2dc8ec),'unsubscribe':_0x2dc8ec[_0x2620bc(0x3bf)]['bind'](_0x2dc8ec),'getAvailableTrackKinds':_0x2dc8ec['getAvailableTrackKinds'][_0x2620bc(0x65d)](_0x2dc8ec),'update':_0x2dc8ec['update']['bind'](_0x2dc8ec),'onProviderChange':_0x2dc8ec[_0x2620bc(0x9b4)][_0x2620bc(0x65d)](_0x2dc8ec)}));}[_0x4a13a(0x57b)](_0x28d0bd){const _0x33615e=_0x4a13a;return this[_0x33615e(0xa0f)]['getGraphDatabases'](_0x28d0bd)[_0x33615e(0x275)](_0x35d8fc=>({'getName':_0x35d8fc['getName']['bind'](_0x35d8fc),'getOwnerId':_0x35d8fc['getOwnerId'][_0x33615e(0x65d)](_0x35d8fc),'getContentType':_0x35d8fc[_0x33615e(0x743)][_0x33615e(0x65d)](_0x35d8fc),'addNode':_0x35d8fc['addNode'][_0x33615e(0x65d)](_0x35d8fc),'addEdge':_0x35d8fc[_0x33615e(0x710)]['bind'](_0x35d8fc),'getContent':_0x35d8fc['getContent'][_0x33615e(0x65d)](_0x35d8fc),'remove':_0x35d8fc[_0x33615e(0xa4d)][_0x33615e(0x65d)](_0x35d8fc),'saveToDisk':_0x35d8fc[_0x33615e(0x3ef)][_0x33615e(0x65d)](_0x35d8fc),'loadFromDisk':_0x35d8fc[_0x33615e(0xab7)][_0x33615e(0x65d)](_0x35d8fc),'close':_0x35d8fc[_0x33615e(0x935)][_0x33615e(0x65d)](_0x35d8fc)}));}['getVectorDatabases'](_0x191b4c){const _0x41e2b7=_0x4a13a;return this[_0x41e2b7(0xa0f)][_0x41e2b7(0x27e)](_0x191b4c)['map'](_0x5703ee=>({'getName':_0x5703ee['getName'][_0x41e2b7(0x65d)](_0x5703ee),'getOwnerId':_0x5703ee[_0x41e2b7(0x742)][_0x41e2b7(0x65d)](_0x5703ee),'getContentType':_0x5703ee['getContentType']['bind'](_0x5703ee),'search':_0x5703ee['search'][_0x41e2b7(0x65d)](_0x5703ee),'insert':_0x5703ee['insert'][_0x41e2b7(0x65d)](_0x5703ee),'remove':_0x5703ee['remove'][_0x41e2b7(0x65d)](_0x5703ee),'saveToDisk':_0x5703ee[_0x41e2b7(0x3ef)][_0x41e2b7(0x65d)](_0x5703ee),'loadFromDisk':_0x5703ee['loadFromDisk']['bind'](_0x5703ee),'close':_0x5703ee[_0x41e2b7(0x935)][_0x41e2b7(0x65d)](_0x5703ee)}));}[_0x4a13a(0x954)](){const _0xb07936=_0x4a13a,_0x248f94=this[_0xb07936(0xa0f)][_0xb07936(0x954)]();switch(_0x248f94[_0xb07936(0xbdd)]){case _0x52458b[_0xb07936(0x223)][_0xb07936(0xc05)]:return{'type':_0x52458b[_0xb07936(0x223)][_0xb07936(0xc05)],'getId':_0x248f94[_0xb07936(0xa47)]['bind'](_0x248f94),'getDisplayName':_0x248f94[_0xb07936(0x63a)]['bind'](_0x248f94),'getEmail':_0x248f94[_0xb07936(0x256)][_0xb07936(0x65d)](_0x248f94),'getRemoteConnections':_0x248f94[_0xb07936(0xbe0)][_0xb07936(0x65d)](_0x248f94),'setDisplayName':_0x248f94[_0xb07936(0xb94)]['bind'](_0x248f94),'setEmail':_0x248f94[_0xb07936(0xc01)][_0xb07936(0x65d)](_0x248f94)};case _0x52458b[_0xb07936(0x223)][_0xb07936(0x673)]:default:return{'type':_0x52458b[_0xb07936(0x223)][_0xb07936(0x673)],'getId':_0x248f94[_0xb07936(0xa47)]['bind'](_0x248f94),'getRemoteConnections':_0x248f94[_0xb07936(0xbe0)][_0xb07936(0x65d)](_0x248f94)};}}[_0x4a13a(0x61b)](_0x8cbf0f){const _0x201de4=_0x4a13a;return this[_0x201de4(0xa0f)]['getRemoteNodes'](_0x8cbf0f)['map'](_0x4c62ff=>{const _0x3059ae=_0x201de4;switch(_0x4c62ff['type']){case _0x52458b[_0x3059ae(0x223)][_0x3059ae(0xc05)]:return{'type':_0x52458b[_0x3059ae(0x223)][_0x3059ae(0xc05)],'getId':_0x4c62ff['getId'][_0x3059ae(0x65d)](_0x4c62ff),'getDisplayName':_0x4c62ff[_0x3059ae(0x63a)][_0x3059ae(0x65d)](_0x4c62ff),'getEmail':_0x4c62ff['getEmail'][_0x3059ae(0x65d)](_0x4c62ff),'getRemoteConnections':_0x4c62ff['getRemoteConnections']['bind'](_0x4c62ff)};case _0x52458b[_0x3059ae(0x223)][_0x3059ae(0x673)]:return{'type':_0x52458b[_0x3059ae(0x223)][_0x3059ae(0x673)],'getId':_0x4c62ff[_0x3059ae(0xa47)][_0x3059ae(0x65d)](_0x4c62ff),'getRemoteConnections':_0x4c62ff['getRemoteConnections'][_0x3059ae(0x65d)](_0x4c62ff)};default:throw new _0x298b29(_0x404249[_0x3059ae(0x646)],_0x3059ae(0xbaa));}});}['on']=(..._0x292769)=>{const _0x3565e4=_0x4a13a;this[_0x3565e4(0x744)]['on'](..._0x292769);};['emit']=(..._0x112dbd)=>this[_0x4a13a(0x744)]['emit'](..._0x112dbd);[_0x4a13a(0x978)](..._0x193674){const _0x1c5b7b=_0x4a13a;this[_0x1c5b7b(0x744)]['off'](..._0x193674);}}class _0x40ff84{['id'];['displayName'];[_0x4a13a(0xb78)];['type']=_0x52458b[_0x4a13a(0x223)][_0x4a13a(0xc05)];[_0x4a13a(0xb13)]=new Map();[_0x4a13a(0x5aa)]=_0x47b7f3();constructor(_0x4477ad,_0x4307ac,_0x59150d){const _0x297216=_0x4a13a;this['id']=_0x4477ad,this[_0x297216(0x636)]=_0x4307ac,this[_0x297216(0xb78)]=_0x59150d;}[_0x4a13a(0xa47)](){return this['id'];}[_0x4a13a(0x63a)](){const _0x3edbe0=_0x4a13a;return this[_0x3edbe0(0x636)];}[_0x4a13a(0x256)](){return this['email'];}['setDisplayName'](_0x2ae2cd){const _0x411c06=_0x4a13a;this[_0x411c06(0x636)]!==_0x2ae2cd&&(this[_0x411c06(0x636)]=_0x2ae2cd,this[_0x411c06(0x5aa)]['publish'](this));}[_0x4a13a(0xc01)](_0x14bd33){const _0x3d812d=_0x4a13a;this[_0x3d812d(0xb78)]!==_0x14bd33&&(this[_0x3d812d(0xb78)]=_0x14bd33,this[_0x3d812d(0x5aa)]['publish'](this));}[_0x4a13a(0x7d9)](_0xebcf08,_0x2b4bea){const _0x3dc613=_0x4a13a;if(this[_0x3dc613(0xb13)][_0x3dc613(0x738)](_0xebcf08))return;const _0xe50cc9=this['observer'][_0x3dc613(0x7a8)](_0x2b4bea);this[_0x3dc613(0xb13)][_0x3dc613(0x2a7)](_0xebcf08,_0xe50cc9);}['unregisterCluster'](_0x43cf87){const _0x241d77=_0x4a13a;if(!this[_0x241d77(0xb13)][_0x241d77(0x738)](_0x43cf87))return;const _0x308b99=this[_0x241d77(0xb13)][_0x241d77(0x68c)](_0x43cf87);_0x308b99&&_0x308b99(),this[_0x241d77(0xb13)][_0x241d77(0xb18)](_0x43cf87);}}class _0x69a67a{['vendorId'];[_0x4a13a(0x5bc)];constructor(_0x22ef0d){const _0x44830d=_0x4a13a;this[_0x44830d(0x649)]=_0x22ef0d;}async[_0x4a13a(0xb24)](_0x14730a){const _0x2c0638=_0x4a13a,_0xd4cb20=await(0x0,_0x4b695a[_0x2c0638(0xa27)])(_0x4c4338[_0x2c0638(0x67d)](),'sdkCreateToken')({'uid':_0x2c0638(0x38e)+this[_0x2c0638(0x649)]+'ccc'+_0x14730a['id']}),_0x44f3b7=await(0x0,_0x4e9021[_0x2c0638(0x88d)])(_0x4c4338[_0x2c0638(0x3fc)](),_0xd4cb20[_0x2c0638(0x728)]['token']);this[_0x2c0638(0x5bc)]=_0x44f3b7[_0x2c0638(0x5bc)];}async[_0x4a13a(0xadd)](){const _0xe0efb3=_0x4a13a;await(0x0,_0x4e9021[_0xe0efb3(0xadd)])(_0x4c4338['getAuth']());}[_0x4a13a(0x69c)](){const _0x621e97=_0x4a13a;return this[_0x621e97(0x5bc)]?.[_0x621e97(0x69c)]()??Promise[_0x621e97(0x482)](_0x621e97(0x4d1));}}class _0x29f830{static [_0x4a13a(0x2c9)];['featureSupport']=[];constructor(){}static[_0x4a13a(0xb8d)](){const _0x306177=_0x4a13a;return _0x29f830['instance']||(_0x29f830['instance']=new _0x29f830()),_0x29f830[_0x306177(0x2c9)];}[_0x4a13a(0xc21)](){const _0x490eda=_0x4a13a;this['checkWebRTC'](),this[_0x490eda(0xa71)](),this[_0x490eda(0x7de)](),this['checkAudioVolume'](),this[_0x490eda(0xa45)](),this[_0x490eda(0xb45)](),this[_0x490eda(0x92f)](),this[_0x490eda(0xc3e)](),this[_0x490eda(0x7ca)](),this['checkAudioContext'](),_0x260a6c[_0x490eda(0x8b9)](_0x2e74f6[_0x490eda(0x4b3)],_0x490eda(0x308),{'featureSupport':this['featureSupport']});}[_0x4a13a(0x3dc)](_0x53b2d1){const _0x3a3a9a=_0x4a13a,_0x4d38c8=this[_0x3a3a9a(0x8ac)][_0x3a3a9a(0x319)](_0x167172=>_0x167172[_0x3a3a9a(0xbbd)]===_0x53b2d1);return!!_0x4d38c8&&_0x4d38c8[_0x3a3a9a(0x2e4)];}[_0x4a13a(0x502)](_0x4c5e48){const _0x43011e=_0x4a13a;_0x260a6c[_0x43011e(0x6a5)](_0x43011e(0xb64),{'nodeId':_0x4c5e48[_0x43011e(0xa47)](),'nodeType':_0x4c5e48[_0x43011e(0xbdd)],'data':{'featureSupport':this['featureSupport']}});}[_0x4a13a(0x1f4)](){const _0x1fad4b=_0x4a13a,_0x4268d4=_0x4a122a['WebRTC'];let _0x4cda11=!0x1;_0x1fad4b(0xb70)==typeof RTCPeerConnection&&_0x1fad4b(0xb70)==typeof RTCIceCandidate&&_0x1fad4b(0xb70)==typeof RTCSessionDescription?_0x4cda11=!0x0:_0x260a6c['log'](_0x2e74f6[_0x1fad4b(0x4b3)],'Support:\x20'+_0x4268d4+_0x1fad4b(0x220)),this[_0x1fad4b(0x8ac)]['push']({'name':_0x4268d4,'supported':_0x4cda11});}[_0x4a13a(0xa71)](){const _0x11ae3d=_0x4a13a,_0x7b1c=_0x4a122a[_0x11ae3d(0x2c8)];let _0x3b55fb=!0x1;_0x11ae3d(0xb70)==typeof MediaStream&&_0x11ae3d(0xb70)==typeof MediaStreamTrack&&_0x11ae3d(0x4ab)==typeof navigator&&'object'==typeof navigator[_0x11ae3d(0xa24)]&&_0x11ae3d(0xb70)==typeof navigator[_0x11ae3d(0xa24)][_0x11ae3d(0x905)]?_0x3b55fb=!0x0:_0x260a6c[_0x11ae3d(0x8b9)](_0x2e74f6['Support'],'Support:\x20'+_0x7b1c+_0x11ae3d(0x220)),this['featureSupport'][_0x11ae3d(0x247)]({'name':_0x7b1c,'supported':_0x3b55fb});}[_0x4a13a(0x7de)](){const _0x51ebc3=_0x4a13a,_0x449a8d=_0x4a122a[_0x51ebc3(0xb2d)];let _0x3f89c0=!0x1;'object'==typeof navigator&&'object'==typeof navigator[_0x51ebc3(0xa24)]&&'function'==typeof navigator[_0x51ebc3(0xa24)][_0x51ebc3(0x8e2)]?_0x3f89c0=!0x0:_0x260a6c[_0x51ebc3(0x8b9)](_0x2e74f6[_0x51ebc3(0x4b3)],_0x51ebc3(0x25e)+_0x449a8d+_0x51ebc3(0x220)),this[_0x51ebc3(0x8ac)][_0x51ebc3(0x247)]({'name':_0x449a8d,'supported':_0x3f89c0});}[_0x4a13a(0x5b5)](){const _0x4816a7=_0x4a13a,_0x333857=_0x4a122a['AudioVolume'];let _0x4de7f0=!0x1;_0x4816a7(0xb70)!=typeof AudioContext||'function'!=typeof ScriptProcessorNode&&_0x4816a7(0xb70)!=typeof AudioWorkletNode||'function'!=typeof MediaStreamAudioSourceNode?_0x260a6c[_0x4816a7(0x8b9)](_0x2e74f6[_0x4816a7(0x4b3)],_0x4816a7(0x25e)+_0x333857+_0x4816a7(0x220)):_0x4de7f0=!0x0,this[_0x4816a7(0x8ac)][_0x4816a7(0x247)]({'name':_0x333857,'supported':_0x4de7f0});}['checkDeviceConfig'](){const _0x233a75=_0x4a13a,_0x5d10b1=_0x4a122a[_0x233a75(0x9c8)];let _0x19c01d=!0x1;_0x233a75(0x4ab)==typeof navigator&&_0x233a75(0x4ab)==typeof navigator['mediaDevices']&&_0x233a75(0xb70)==typeof navigator[_0x233a75(0xa24)][_0x233a75(0x460)]&&_0x233a75(0xb70)==typeof MediaDeviceInfo?_0x19c01d=!0x0:_0x260a6c[_0x233a75(0x8b9)](_0x2e74f6[_0x233a75(0x4b3)],_0x233a75(0x25e)+_0x5d10b1+'\x20not\x20supported'),this[_0x233a75(0x8ac)][_0x233a75(0x247)]({'name':_0x5d10b1,'supported':_0x19c01d});}[_0x4a13a(0xb45)](){const _0x154a1c=_0x4a13a,_0x44bb18=_0x4a122a['AudioOutput'];let _0x39102c=!0x1;_0x154a1c(0x4ab)==typeof document&&_0x154a1c(0xb70)==typeof document['createElement'](_0x154a1c(0x1f6))[_0x154a1c(0xb0c)]?_0x39102c=!0x0:_0x260a6c[_0x154a1c(0x8b9)](_0x2e74f6[_0x154a1c(0x4b3)],_0x154a1c(0x25e)+_0x44bb18+'\x20not\x20supported'),this[_0x154a1c(0x8ac)][_0x154a1c(0x247)]({'name':_0x44bb18,'supported':_0x39102c});}async['checkMediaRecording'](){const _0xfa36f4=_0x4a13a,_0x1f9fef=_0x4a122a['Recording'];let _0x25af2a=!0x1;try{const _0x575a32=document[_0xfa36f4(0xac1)](_0xfa36f4(0x464));if(MediaRecorder&&MediaSource&&_0x575a32[_0xfa36f4(0x946)]){const _0x47c6a9=_0x575a32[_0xfa36f4(0x946)](),_0x3781be=new MediaRecorder(_0x47c6a9);_0x3781be[_0xfa36f4(0x434)](),await new Promise(_0x4eb1c5=>setTimeout(_0x4eb1c5,0x7d0)),_0x3781be['stop'](),_0x25af2a='inactive'===_0x3781be[_0xfa36f4(0x882)];}}catch(_0x3a6c20){_0x260a6c[_0xfa36f4(0x8b9)](_0x2e74f6[_0xfa36f4(0x4b3)],'Support:\x20'+_0x1f9fef+_0xfa36f4(0x87f),_0x3a6c20);}this[_0xfa36f4(0x8ac)][_0xfa36f4(0x247)]({'name':_0x1f9fef,'supported':_0x25af2a}),_0x25af2a||_0x260a6c[_0xfa36f4(0x8b9)](_0x2e74f6[_0xfa36f4(0x4b3)],_0xfa36f4(0x25e)+_0x1f9fef+_0xfa36f4(0x220));}[_0x4a13a(0xc3e)](){const _0xa4d8d3=_0x4a13a,_0x541d4f=_0x4a122a[_0xa4d8d3(0x2cd)];let _0x2f2641=!0x1;try{document['createElement']('canvas')[_0xa4d8d3(0x946)]&&(_0x2f2641=!0x0);}catch(_0x2d73a6){_0x260a6c['log'](_0x2e74f6[_0xa4d8d3(0x4b3)],_0xa4d8d3(0x25e)+_0x541d4f+'\x20check\x20failed',_0x2d73a6);}this['featureSupport'][_0xa4d8d3(0x247)]({'name':_0x541d4f,'supported':_0x2f2641}),_0x2f2641||_0x260a6c[_0xa4d8d3(0x8b9)](_0x2e74f6['Support'],'Support:\x20'+_0x541d4f+_0xa4d8d3(0x220));}[_0x4a13a(0x7ca)](){const _0x437750=_0x4a13a,_0x258acf=_0x4a122a[_0x437750(0x8cd)];let _0x147428=!0x1;try{const _0xf61053=document[_0x437750(0xac1)](_0x437750(0x464));WebGLRenderingContext&&_0xf61053[_0x437750(0x950)](_0x437750(0x65b))&&(_0x147428=!0x0);}catch(_0x26662e){_0x260a6c['log'](_0x2e74f6[_0x437750(0x4b3)],_0x437750(0x25e)+_0x258acf+_0x437750(0x87f),_0x26662e);}this[_0x437750(0x8ac)][_0x437750(0x247)]({'name':_0x258acf,'supported':_0x147428}),_0x147428||_0x260a6c[_0x437750(0x8b9)](_0x2e74f6[_0x437750(0x4b3)],_0x437750(0x25e)+_0x258acf+_0x437750(0x220));}[_0x4a13a(0x88a)](){const _0xacaf0e=_0x4a13a,_0x2d6744=_0x4a122a[_0xacaf0e(0x64c)];let _0x2fd767=!0x1;_0xacaf0e(0xb70)==typeof AudioContext?_0x2fd767=!0x0:_0x260a6c[_0xacaf0e(0x8b9)](_0x2e74f6[_0xacaf0e(0x4b3)],_0xacaf0e(0x25e)+_0x2d6744+_0xacaf0e(0x220)),this[_0xacaf0e(0x8ac)]['push']({'name':_0x2d6744,'supported':_0x2fd767});}}const _0x13cea3=_0x29f830['getInstance']();class _0x417021{static [_0x4a13a(0x2c9)];static [_0x4a13a(0x3bf)];static ['mode'];[_0x4a13a(0xa0a)];[_0x4a13a(0x649)];['options'];[_0x4a13a(0x29b)];[_0x4a13a(0x809)]=new Map();[_0x4a13a(0x288)];constructor(_0x801408,_0x4e8d48,_0xa4644c){const _0x4ce350=_0x4a13a;this[_0x4ce350(0x649)]=_0x801408,this[_0x4ce350(0x29b)]=_0x4e8d48,this[_0x4ce350(0xa0a)]=new _0x69a67a(this[_0x4ce350(0x649)]),_0x13cea3['initialize'](),this[_0x4ce350(0x5e9)]={'audioContext':_0xa4644c?.[_0x4ce350(0x869)]??(_0x13cea3['isFeatureSupported'](_0x4a122a[_0x4ce350(0x64c)])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0xa4644c?.[_0x4ce350(0x67b)]??0x1,'minConnections':_0xa4644c?.['minConnections']??0x3,'maxConnections':_0xa4644c?.[_0x4ce350(0x8fa)]??(_0xa4644c?.[_0x4ce350(0x916)]&&0x4*_0xa4644c[_0x4ce350(0x916)])??0xc,'maxDistance':_0xa4644c?.[_0x4ce350(0xb28)]??0xa,'maxFps':_0xa4644c?.['maxFps']??0x18,'maxBpp':_0xa4644c?.['maxBpp']??0.12,'objectStoreConnector':_0xa4644c?.['objectStoreConnector']??_0x589d99[_0x4ce350(0x8a8)],'externalStorageConnectors':_0xa4644c?.[_0x4ce350(0x907)],'keyValueDatabaseConnector':_0xa4644c?.[_0x4ce350(0x778)]??_0x4cb4cc[_0x4ce350(0x628)],'peerConnectionConnector':_0xa4644c?.['peerConnectionConnector']??_0x377e40[_0x4ce350(0x3a5)],'generativeAIWorkerConnectors':_0xa4644c?.[_0x4ce350(0xa74)],'generativeAISpeechConnectors':_0xa4644c?.[_0x4ce350(0x9c2)],'vectorDatabaseConnector':_0xa4644c?.['vectorDatabaseConnector'],'graphDatabaseConnector':_0xa4644c?.[_0x4ce350(0x6eb)],'documentParserConnector':_0xa4644c?.[_0x4ce350(0x977)],'fileConnector':_0xa4644c?.[_0x4ce350(0x521)],'nlpLibraryConnector':_0xa4644c?.['nlpLibraryConnector'],'searchConnector':_0xa4644c?.['searchConnector'],'aiSearchConnector':_0xa4644c?.['aiSearchConnector'],'queryFileConnector':_0xa4644c?.[_0x4ce350(0x73b)],'ragConnectors':_0xa4644c?.[_0x4ce350(0x7b4)]},_0xa4644c?.[_0x4ce350(0x74f)]&&this[_0x4ce350(0x5e9)]['audioContext']&&_0x37fc55[_0x4ce350(0x2b2)](this[_0x4ce350(0x5e9)][_0x4ce350(0x869)]),_0x260a6c[_0x4ce350(0x94d)](this[_0x4ce350(0x649)]),_0xa4644c?.[_0x4ce350(0xbc7)]&&_0x260a6c[_0x4ce350(0x30f)](_0xa4644c[_0x4ce350(0xbc7)]);}static async[_0x4a13a(0xb8d)](_0x2fef28,_0x514d8a,_0x46601b,_0x43151c,_0xc6244a){const _0x5a60b2=_0x4a13a;this[_0x5a60b2(0x3c1)]=_0x46601b;const _0x53c356=await this[_0x5a60b2(0x9e4)](_0x2fef28,_0x514d8a,_0xc6244a);return _0x417021['instance']||(_0x417021[_0x5a60b2(0x2c9)]=new _0x417021(_0x2fef28,_0x53c356,_0x43151c)),{'close':_0x417021[_0x5a60b2(0x2c9)]['close'][_0x5a60b2(0x65d)](_0x417021['instance']),'authenticateUser':_0x417021[_0x5a60b2(0x2c9)][_0x5a60b2(0x229)][_0x5a60b2(0x65d)](_0x417021['instance']),'authenticateAgent':_0x417021[_0x5a60b2(0x2c9)][_0x5a60b2(0x206)][_0x5a60b2(0x65d)](_0x417021[_0x5a60b2(0x2c9)]),'validateKey':_0x417021[_0x5a60b2(0x2c9)][_0x5a60b2(0x202)][_0x5a60b2(0x65d)](_0x417021[_0x5a60b2(0x2c9)]),'joinCluster':_0x417021[_0x5a60b2(0x2c9)]['joinCluster'][_0x5a60b2(0x65d)](_0x417021['instance'])};}static async[_0x4a13a(0xb08)](){const _0x5939f1=_0x4a13a;return _0x4c4338[_0x5939f1(0x449)]();}static[_0x4a13a(0x3bc)](){const _0x31c662=_0x4a13a;return _0x2fd4ca[_0x31c662(0x3bc)];}async[_0x4a13a(0x935)](_0x522c08){const _0x293b00=_0x4a13a;this[_0x293b00(0x809)]['forEach'](_0x315f9b=>{const _0x4d3ddb=_0x293b00;_0x315f9b[_0x4d3ddb(0x978)](),_0x315f9b[_0x4d3ddb(0x9b5)](_0x522c08);}),this[_0x293b00(0x809)][_0x293b00(0xb0f)](),this[_0x293b00(0x5e9)][_0x293b00(0x869)]&&_0x37fc55[_0x293b00(0xb90)](),_0x417021['unsubscribe']?.(),_0x417021[_0x293b00(0x3bf)]=void 0x0,this['authContext']=void 0x0,await this[_0x293b00(0xa0a)]['signOut'](),_0x417021['instance']=void 0x0;}static async['validateAccess'](_0x22de94,_0x59fe3b,_0x13e5eb){const _0x36b559=_0x4a13a;if(!this['mode'])throw new _0x298b29(_0x404249['NodeTypeRequired'],_0x36b559(0x85e));let _0x57f9a0;try{_0x57f9a0=await(0x0,_0x4b695a[_0x36b559(0xa27)])(_0x4c4338[_0x36b559(0x67d)](),_0x36b559(0x9cc))({'vendorId':_0x22de94,'accessToken':_0x59fe3b,'secretKey':_0x13e5eb});}catch(_0x262217){throw new _0x298b29(_0x404249[_0x36b559(0x5da)],_0x36b559(0xa2f));}if(!this[_0x36b559(0x6ea)](_0x57f9a0[_0x36b559(0x728)]))throw new _0x298b29(_0x404249['InvalidAccess'],'Invalid\x20credentials');const _0x5dee0a=_0x57f9a0[_0x36b559(0x728)];return _0x5dee0a['features']||(_0x5dee0a[_0x36b559(0x29d)]=[]),this['unsubscribe']||(this[_0x36b559(0x3bf)]=_0x37fc55[_0x36b559(0x583)](async()=>{const _0x59f892=_0x36b559;try{const _0x2e9226=await this[_0x59f892(0x9e4)](_0x22de94,_0x59fe3b,_0x13e5eb);this[_0x59f892(0x3c1)]===_0x52458b['NodeType'][_0x59f892(0x673)]&&(_0x2e9226[_0x59f892(0x4a4)]=_0x2e9226[_0x59f892(0x4a4)][_0x59f892(0x675)](_0x18d9f1=>_0x18d9f1['urls']['startsWith']('stun:'))),_0x5dee0a[_0x59f892(0x4a4)]=_0x2e9226[_0x59f892(0x4a4)];}catch(_0x5bad69){}},0x1b7740)),_0x5dee0a;}async[_0x4a13a(0x229)](_0x42a5c0){const _0x45b4b7=_0x4a13a;if(_0x417021[_0x45b4b7(0x3c1)]!==_0x52458b[_0x45b4b7(0x223)][_0x45b4b7(0xc05)])throw new _0x298b29(_0x404249[_0x45b4b7(0x646)],_0x45b4b7(0x773));await this[_0x45b4b7(0xa0a)][_0x45b4b7(0xb24)](_0x42a5c0);const _0x37bb5c=new _0x40ff84(_0x42a5c0['id'],_0x42a5c0[_0x45b4b7(0x636)],_0x42a5c0[_0x45b4b7(0xb78)]);return this[_0x45b4b7(0x288)]={'node':_0x37bb5c},_0x13cea3[_0x45b4b7(0x502)](_0x37bb5c),{'type':_0x52458b[_0x45b4b7(0x223)]['User'],'getId':_0x37bb5c[_0x45b4b7(0xa47)][_0x45b4b7(0x65d)](_0x37bb5c),'getDisplayName':_0x37bb5c['getDisplayName']['bind'](_0x37bb5c),'getEmail':_0x37bb5c['getEmail'][_0x45b4b7(0x65d)](_0x37bb5c),'setDisplayName':_0x37bb5c[_0x45b4b7(0xb94)][_0x45b4b7(0x65d)](_0x37bb5c),'setEmail':_0x37bb5c['setEmail']['bind'](_0x37bb5c)};}async[_0x4a13a(0x206)](_0x55c0d0){const _0x28f2cf=_0x4a13a;if(_0x417021[_0x28f2cf(0x3c1)]!==_0x52458b[_0x28f2cf(0x223)][_0x28f2cf(0x673)])throw new _0x298b29(_0x404249['NodeInvalidType'],'Node\x20type\x20is\x20invalid');const {id:_0x2b286f,groupId:_0x29b0ce}=_0x55c0d0,_0x73889=await(0x0,_0x1264d4['getDoc'])((0x0,_0x1264d4[_0x28f2cf(0x448)])(_0x4c4338[_0x28f2cf(0x73a)](),_0x28f2cf(0x7c0)+this['vendorId']+_0x28f2cf(0x70e)+_0x29b0ce));if(!_0x73889['exists']())throw new _0x298b29(_0x404249[_0x28f2cf(0x813)],_0x28f2cf(0x3d6));const _0x48520f=_0x73889[_0x28f2cf(0x728)]();await this[_0x28f2cf(0xa0a)]['signInWithCredential']({'id':_0x2b286f});const _0x21b3bd=new _0xf6ad0e(_0x2b286f,_0x29b0ce,this[_0x28f2cf(0x649)],_0x48520f);return this[_0x28f2cf(0x288)]={'node':_0x21b3bd},_0x13cea3[_0x28f2cf(0x502)](_0x21b3bd),this['connectAgent'](_0x21b3bd),{'type':_0x52458b['NodeType'][_0x28f2cf(0x673)],'getId':_0x21b3bd[_0x28f2cf(0xa47)][_0x28f2cf(0x65d)](_0x21b3bd),'onConfigurationChange':_0x21b3bd[_0x28f2cf(0xaf0)][_0x28f2cf(0x65d)](_0x21b3bd),'setReportCapacity':_0x21b3bd['setReportCapacity'][_0x28f2cf(0x65d)](_0x21b3bd)};}async[_0x4a13a(0x202)](_0x588300,_0x52750d){const _0xa0bd95=_0x4a13a,_0x4c3c5d=await(0x0,_0x1264d4[_0xa0bd95(0x93b)])((0x0,_0x1264d4[_0xa0bd95(0x448)])(_0x4c4338[_0xa0bd95(0x73a)](),_0xa0bd95(0x3a8)+_0x588300));if(!_0x4c3c5d['exists']()){const _0x378bb7=atob(_0x588300)[_0xa0bd95(0x3ca)](':'),_0x28f2d4=_0x378bb7[_0xa0bd95(0xc23)](),_0xbc016f=_0x378bb7[_0xa0bd95(0x9ac)](':');if(!_0x28f2d4||!_0xbc016f)throw new _0x298b29(_0x404249[_0xa0bd95(0x5da)],_0xa0bd95(0x791));try{return await(0x0,_0x4b695a[_0xa0bd95(0xa27)])(_0x4c4338[_0xa0bd95(0x67d)](),_0xa0bd95(0x9cc))({'vendorId':_0x28f2d4,'accessToken':_0xbc016f,'origin':_0x52750d}),_0x28f2d4;}catch(_0x3e3806){throw new _0x298b29(_0x404249[_0xa0bd95(0x5da)],'Invalid\x20key:\x20'+(_0x3e3806 instanceof Error?_0x3e3806[_0xa0bd95(0x5c1)]:'Unknown\x20error'));}}return _0x4c3c5d['data']()['vendorId'];}async[_0x4a13a(0x6c7)](_0x364c10,_0x328533){const _0x42641a=_0x4a13a;if(!this[_0x42641a(0x288)])throw new _0x298b29(_0x404249[_0x42641a(0x813)],_0x42641a(0x4b8));if(this[_0x42641a(0x288)][_0x42641a(0x7ff)]['type']!==_0x52458b['NodeType'][_0x42641a(0xc05)])throw new _0x298b29(_0x404249[_0x42641a(0x7c4)],'Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user');if(this[_0x42641a(0x809)]['has'](_0x364c10))throw new _0x298b29(_0x404249[_0x42641a(0x995)],_0x42641a(0x29c));const _0x4b5bac=new _0x371081(this[_0x42641a(0x649)],_0x364c10,this[_0x42641a(0x288)][_0x42641a(0x7ff)],this['authService'],this[_0x42641a(0x5e9)],this[_0x42641a(0x29b)]);return!0x0!==_0x328533&&await _0x4b5bac[_0x42641a(0x9ac)](),this[_0x42641a(0x5b1)](_0x364c10,_0x4b5bac),_0x260a6c[_0x42641a(0x6a5)](_0x42641a(0xac9),{'clusterId':_0x364c10,'nodeId':this[_0x42641a(0x288)][_0x42641a(0x7ff)]['getId'](),'nodeType':this[_0x42641a(0x288)][_0x42641a(0x7ff)]['type']}),{'leave':_0x4b5bac[_0x42641a(0x9b5)][_0x42641a(0x65d)](_0x4b5bac),'getLocalNode':_0x4b5bac[_0x42641a(0x954)][_0x42641a(0x65d)](_0x4b5bac),'openPubSubTopic':_0x4b5bac['openPubSubTopic'][_0x42641a(0x65d)](_0x4b5bac),'openObjectStoreBucket':_0x4b5bac[_0x42641a(0x416)][_0x42641a(0x65d)](_0x4b5bac),'openExternalStorageConnection':_0x4b5bac[_0x42641a(0x451)][_0x42641a(0x65d)](_0x4b5bac),'openKeyValueDatabase':_0x4b5bac[_0x42641a(0x955)][_0x42641a(0x65d)](_0x4b5bac),'openGenerativeAIContext':_0x4b5bac[_0x42641a(0x5e5)][_0x42641a(0x65d)](_0x4b5bac),'openGenerativeAIContextStandalone':_0x4b5bac[_0x42641a(0x59f)][_0x42641a(0x65d)](_0x4b5bac),'openGenerativeAIWorker':_0x4b5bac[_0x42641a(0x592)]['bind'](_0x4b5bac),'openGraphDatabase':_0x4b5bac['openGraphDatabase']['bind'](_0x4b5bac),'openVectorDatabase':_0x4b5bac[_0x42641a(0x29f)][_0x42641a(0x65d)](_0x4b5bac),'publishLocalMediaStream':_0x4b5bac[_0x42641a(0x33c)][_0x42641a(0x65d)](_0x4b5bac),'publishLocalDynamicMediaStream':_0x4b5bac['publishLocalDynamicMediaStream'][_0x42641a(0x65d)](_0x4b5bac),'getPubSubTopics':_0x4b5bac['getPubSubTopics'][_0x42641a(0x65d)](_0x4b5bac),'getObjectStoreBuckets':_0x4b5bac[_0x42641a(0xc49)][_0x42641a(0x65d)](_0x4b5bac),'getExternalStorageConnections':_0x4b5bac[_0x42641a(0x569)][_0x42641a(0x65d)](_0x4b5bac),'getKeyValueDatabases':_0x4b5bac[_0x42641a(0xb25)][_0x42641a(0x65d)](_0x4b5bac),'getGenerativeAIContexts':_0x4b5bac[_0x42641a(0x85a)]['bind'](_0x4b5bac),'getGenerativeAIContextsStandalone':_0x4b5bac[_0x42641a(0x504)][_0x42641a(0x65d)](_0x4b5bac),'getGenerativeAIWorkers':_0x4b5bac[_0x42641a(0x735)][_0x42641a(0x65d)](_0x4b5bac),'getGraphDatabases':_0x4b5bac[_0x42641a(0x57b)]['bind'](_0x4b5bac),'getVectorDatabases':_0x4b5bac[_0x42641a(0x27e)][_0x42641a(0x65d)](_0x4b5bac),'getLocalMediaStreams':_0x4b5bac[_0x42641a(0x587)][_0x42641a(0x65d)](_0x4b5bac),'getRemoteMediaStreams':_0x4b5bac[_0x42641a(0x264)][_0x42641a(0x65d)](_0x4b5bac),'getRemoteNodes':_0x4b5bac[_0x42641a(0x61b)][_0x42641a(0x65d)](_0x4b5bac),'on':_0x4b5bac['on']['bind'](_0x4b5bac),'off':_0x4b5bac[_0x42641a(0x978)]['bind'](_0x4b5bac)};}async[_0x4a13a(0x850)](_0x1e000f){const _0x183139=_0x4a13a,_0x1d9bfb=new _0x371081(this[_0x183139(0x649)],_0x183139(0xb1f),_0x1e000f,this['authService'],this[_0x183139(0x5e9)],this[_0x183139(0x29b)]);await _0x1d9bfb[_0x183139(0x9ac)](),this[_0x183139(0x5b1)](_0x183139(0xb1f),_0x1d9bfb),_0x260a6c['forceLog'](_0x183139(0x2ac),_0x183139(0xb1f)),await _0x1d9bfb[_0x183139(0x592)](_0x183139(0xb1f)),_0x260a6c[_0x183139(0xa9f)](_0x183139(0x22f),_0x183139(0xb1f));}[_0x4a13a(0x5b1)](_0x155808,_0x1c1304){const _0x31a1a6=_0x4a13a;this[_0x31a1a6(0x809)][_0x31a1a6(0x2a7)](_0x155808,_0x1c1304),_0x1c1304['on'](_0x31a1a6(0x3dd),()=>{const _0x26ea00=_0x31a1a6;_0x1c1304[_0x26ea00(0x978)](),this[_0x26ea00(0x809)]['delete'](_0x155808);});}static[_0x4a13a(0x6ea)](_0x422a3a){const _0x28999e=_0x4a13a;return void 0x0!==_0x422a3a[_0x28999e(0x4a4)];}}return _0x1e814e;})())));