function a0_0x553c(_0x236425,_0x14e32f){const _0x354539=a0_0x3545();return a0_0x553c=function(_0x553c14,_0x9b2b17){_0x553c14=_0x553c14-0x1b1;let _0x27d4c5=_0x354539[_0x553c14];return _0x27d4c5;},a0_0x553c(_0x236425,_0x14e32f);}(function(_0xe40aef,_0x360e07){const _0x4f6b0e=a0_0x553c,_0x4f8505=_0xe40aef();while(!![]){try{const _0x301e90=-parseInt(_0x4f6b0e(0x7aa))/0x1+parseInt(_0x4f6b0e(0x2be))/0x2+-parseInt(_0x4f6b0e(0x4f8))/0x3*(parseInt(_0x4f6b0e(0x3e9))/0x4)+parseInt(_0x4f6b0e(0x41c))/0x5+-parseInt(_0x4f6b0e(0x2cb))/0x6*(parseInt(_0x4f6b0e(0x40b))/0x7)+-parseInt(_0x4f6b0e(0x4bf))/0x8*(parseInt(_0x4f6b0e(0x837))/0x9)+parseInt(_0x4f6b0e(0x51c))/0xa;if(_0x301e90===_0x360e07)break;else _0x4f8505['push'](_0x4f8505['shift']());}catch(_0x5d3f2c){_0x4f8505['push'](_0x4f8505['shift']());}}}(a0_0x3545,0xb7639),!function(_0x7a575b,_0x72fe6f){const _0x2bd568=a0_0x553c;if(_0x2bd568(0x697)==typeof exports&&_0x2bd568(0x697)==typeof module)module[_0x2bd568(0x48f)]=_0x72fe6f();else{if(_0x2bd568(0x596)==typeof define&&define[_0x2bd568(0x4ee)])define([],_0x72fe6f);else{var _0x1dcd78=_0x72fe6f();for(var _0x5972dc in _0x1dcd78)('object'==typeof exports?exports:_0x7a575b)[_0x5972dc]=_0x1dcd78[_0x5972dc];}}}(this,()=>((()=>{'use strict';const _0x5dd398=a0_0x553c;var _0x229777={0x14d:(_0x4e99ac,_0x23f39c,_0x17d195)=>{const _0x3def60=a0_0x553c;_0x17d195['d'](_0x23f39c,{'O':()=>_0x33c759});const _0x33c759={'version':_0x3def60(0x7b9),'isProduction':!0x1,'firebaseConfig':{'apiKey':_0x3def60(0x6df),'authDomain':'crewdle-sdk-stg.firebaseapp.com','databaseURL':_0x3def60(0x43c),'projectId':'crewdle-sdk-stg','storageBucket':_0x3def60(0x624),'appId':_0x3def60(0x7f2),'functionsRegion':'northamerica-northeast1'},'aws':{'endpoint':_0x3def60(0x75e),'region':_0x3def60(0x3d2)}};},0x33b:(_0x38c89c,_0x1fc588,_0x57f3e6)=>{_0x57f3e6['d'](_0x1fc588,{'O':()=>_0x5b6a5a});const _0x5b6a5a={};},0x3e6:(_0x16918b,_0x491414,_0x10e8fe)=>{const _0x185624=a0_0x553c;_0x10e8fe['d'](_0x491414,{'O':()=>_0x45f60e});const _0x45f60e={'version':_0x185624(0x2e0),'isProduction':!0x0,'firebaseConfig':{'apiKey':'AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','authDomain':'crewdle-sdk.firebaseapp.com','databaseURL':_0x185624(0x4a0),'projectId':_0x185624(0x492),'storageBucket':'crewdle-sdk.appspot.com','messagingSenderId':_0x185624(0x45e),'appId':_0x185624(0x209),'measurementId':'G-F7W8KXRKQB'},'aws':{'endpoint':_0x185624(0x21b),'region':'us-east-1'}};},0x20:(_0x18cd09,_0x3849ce,_0x170b52)=>{_0x170b52['d'](_0x3849ce,{'O':()=>_0x8b7680});const _0x8b7680={};}},_0x3140ea={};function _0x4c3c99(_0x2c9c30){const _0xa7e842=a0_0x553c;var _0x399229=_0x3140ea[_0x2c9c30];if(void 0x0!==_0x399229)return _0x399229[_0xa7e842(0x48f)];var _0x4caaae=_0x3140ea[_0x2c9c30]={'exports':{}};return _0x229777[_0x2c9c30](_0x4caaae,_0x4caaae['exports'],_0x4c3c99),_0x4caaae[_0xa7e842(0x48f)];}_0x4c3c99['d']=(_0x271441,_0x47278f)=>{for(var _0x334f5f in _0x47278f)_0x4c3c99['o'](_0x47278f,_0x334f5f)&&!_0x4c3c99['o'](_0x271441,_0x334f5f)&&Object['defineProperty'](_0x271441,_0x334f5f,{'enumerable':!0x0,'get':_0x47278f[_0x334f5f]});},_0x4c3c99['g']=(function(){const _0x2ac478=a0_0x553c;if(_0x2ac478(0x697)==typeof globalThis)return globalThis;try{return this||new Function('return\x20this')();}catch(_0x527385){if(_0x2ac478(0x697)==typeof window)return window;}}()),_0x4c3c99['o']=(_0x55b0d3,_0x223e65)=>Object[_0x5dd398(0x1d3)][_0x5dd398(0x2c3)]['call'](_0x55b0d3,_0x223e65),_0x4c3c99['r']=_0xaf8a7c=>{const _0x374b43=_0x5dd398;_0x374b43(0x33e)!=typeof Symbol&&Symbol[_0x374b43(0x24b)]&&Object[_0x374b43(0x336)](_0xaf8a7c,Symbol['toStringTag'],{'value':_0x374b43(0x830)}),Object[_0x374b43(0x336)](_0xaf8a7c,_0x374b43(0x6b2),{'value':!0x0});};var _0xf6fbbf,_0x26ae6a,_0x4f3b4c,_0x10eaf4={};_0x4c3c99['r'](_0x10eaf4),_0x4c3c99['d'](_0x10eaf4,{'KeyValueDatabase':()=>_0x51ae48,'LayoutBuilder':()=>_0x39cb6b,'LoggingChannels':()=>_0x4f3b4c,'QueryBuilder':()=>_0x1400ef,'SDK':()=>_0x1e8156,'SDKClientErrorCodes':()=>_0xf6fbbf,'TableBuilder':()=>_0x21e348,'logger':()=>_0x52f76b}),function(_0x520cde){const _0xd071cf=_0x5dd398;_0x520cde[_0xd071cf(0x757)]='cluster-already-joined',_0x520cde[_0xd071cf(0x511)]=_0xd071cf(0x1d8),_0x520cde[_0xd071cf(0x31f)]=_0xd071cf(0x6b4),_0x520cde[_0xd071cf(0x286)]=_0xd071cf(0x593),_0x520cde[_0xd071cf(0x49b)]='generative-ai-label-conflict',_0x520cde['GenerativeAIWorkerAlreadyExists']=_0xd071cf(0x7a1),_0x520cde[_0xd071cf(0x6fc)]=_0xd071cf(0x5e1),_0x520cde['GenerativeAIWorkerModelSyncError']=_0xd071cf(0x3c8),_0x520cde[_0xd071cf(0x339)]=_0xd071cf(0x3bf),_0x520cde[_0xd071cf(0x71c)]='job-dispatcher-does-not-exist',_0x520cde[_0xd071cf(0x4df)]='job-dispatcher-job-exists',_0x520cde[_0xd071cf(0x2b5)]=_0xd071cf(0x6bf),_0x520cde[_0xd071cf(0x47c)]=_0xd071cf(0x3d8),_0x520cde['JobWorkerAlreadyExists']=_0xd071cf(0x6f0),_0x520cde['JobWorkerDoesNotExist']=_0xd071cf(0x653),_0x520cde[_0xd071cf(0x383)]=_0xd071cf(0x6bb),_0x520cde['ObjectStoreAlreadySubscribed']=_0xd071cf(0x4a9),_0x520cde[_0xd071cf(0x6a0)]='object-store-stream-does-not-exist',_0x520cde['ObjectStoreNameNotString']='object-store-name-not-string',_0x520cde[_0xd071cf(0x3c9)]='object-store-invalid-payload',_0x520cde['ObjectStoreInvalidPath']=_0xd071cf(0x2b2),_0x520cde[_0xd071cf(0x799)]=_0xd071cf(0x313),_0x520cde[_0xd071cf(0x380)]='internal-sdk-error',_0x520cde['InvalidAccess']=_0xd071cf(0x604),_0x520cde['KeyValueDatabaseAlreadyExists']=_0xd071cf(0x82c),_0x520cde['KeyValueDatabaseDoesNotExist']=_0xd071cf(0x664),_0x520cde[_0xd071cf(0x7df)]=_0xd071cf(0x6c8),_0x520cde[_0xd071cf(0x76d)]='key-value-database-invalid-query',_0x520cde[_0xd071cf(0x625)]='key-value-database-invalid-value',_0x520cde[_0xd071cf(0x72b)]=_0xd071cf(0x7c1),_0x520cde[_0xd071cf(0x778)]=_0xd071cf(0x49e),_0x520cde[_0xd071cf(0x1e5)]=_0xd071cf(0x61f),_0x520cde['KeyValueDatabaseTableNotFound']=_0xd071cf(0x739),_0x520cde[_0xd071cf(0x26e)]='key-value-database-invalid-layout',_0x520cde[_0xd071cf(0x290)]='local-media-stream-already-exists',_0x520cde[_0xd071cf(0x5bf)]='local-media-stream-no-audio-context',_0x520cde[_0xd071cf(0x4f7)]='pub-sub-topic-already-exists',_0x520cde['PubSubTopicDoesNotExist']=_0xd071cf(0x360),_0x520cde[_0xd071cf(0x699)]=_0xd071cf(0x4eb),_0x520cde[_0xd071cf(0x78f)]='pub-sub-topic-already-subscribed',_0x520cde[_0xd071cf(0x74a)]=_0xd071cf(0x1ee),_0x520cde[_0xd071cf(0x272)]=_0xd071cf(0x308),_0x520cde[_0xd071cf(0x4bd)]=_0xd071cf(0x42c),_0x520cde[_0xd071cf(0x22c)]=_0xd071cf(0x555),_0x520cde[_0xd071cf(0x6a2)]=_0xd071cf(0x62e),_0x520cde['NodeInvalidType']=_0xd071cf(0x3eb),_0x520cde['NodeTypeNotSupported']='node-type-not-supported';}(_0xf6fbbf||(_0xf6fbbf={}));class _0x4ddc2b extends Error{[_0x5dd398(0x4fe)];constructor(_0x320077,_0x32c856){super(_0x32c856),this['code']=_0x320077;}}!function(_0x453d51){const _0x4ebb27=_0x5dd398;_0x453d51[_0x4ebb27(0x5a8)]=_0x4ebb27(0x77e),_0x453d51['ObjectStorage']=_0x4ebb27(0x66b),_0x453d51['KeyValueDatabase']='key-value-database',_0x453d51[_0x4ebb27(0x2c5)]=_0x4ebb27(0x37c),_0x453d51[_0x4ebb27(0x58e)]=_0x4ebb27(0x3a2);}(_0x26ae6a||(_0x26ae6a={})),function(_0x46b21f){const _0x54a631=_0x5dd398;_0x46b21f[_0x54a631(0x678)]=_0x54a631(0x7c2),_0x46b21f['Default']=_0x54a631(0x623),_0x46b21f[_0x54a631(0x310)]='connection',_0x46b21f[_0x54a631(0x629)]='connection-state',_0x46b21f[_0x54a631(0x35a)]=_0x54a631(0x402),_0x46b21f[_0x54a631(0x5d2)]=_0x54a631(0x69a),_0x46b21f[_0x54a631(0x451)]=_0x54a631(0x282),_0x46b21f[_0x54a631(0x5bd)]='detection',_0x46b21f[_0x54a631(0x612)]=_0x54a631(0x585),_0x46b21f[_0x54a631(0x31e)]=_0x54a631(0x7ee),_0x46b21f['Jobs']='jobs',_0x46b21f[_0x54a631(0x40c)]='node',_0x46b21f['Pool']=_0x54a631(0x819),_0x46b21f[_0x54a631(0x5a8)]=_0x54a631(0x77e),_0x46b21f['Remediation']=_0x54a631(0x55a),_0x46b21f[_0x54a631(0x29b)]=_0x54a631(0x4ce),_0x46b21f[_0x54a631(0x1ca)]=_0x54a631(0x689),_0x46b21f[_0x54a631(0x280)]='subscription',_0x46b21f[_0x54a631(0x74c)]=_0x54a631(0x5b4),_0x46b21f['System']='system',_0x46b21f[_0x54a631(0x659)]=_0x54a631(0x7c7),_0x46b21f[_0x54a631(0x4f1)]=_0x54a631(0x4d0),_0x46b21f[_0x54a631(0x2a9)]=_0x54a631(0x6d3);}(_0x4f3b4c||(_0x4f3b4c={}));const _0x47065f=require('@crewdle/web-sdk-types');class _0x1400ef{[_0x5dd398(0x281)];constructor(_0x58c504){this['query']={'orderBy':{'key':_0x58c504,'direction':'asc'}};}static[_0x5dd398(0x61b)](_0x23b0df){const _0x4da020=_0x5dd398;if('string'!=typeof _0x23b0df||0x0===_0x23b0df['length'])throw new _0x4ddc2b(_0xf6fbbf['QueryBuilderInvalidArgument'],_0x4da020(0x274));return new _0x1400ef(_0x23b0df);}static[_0x5dd398(0x212)](_0x505a27){const _0x2c69da=_0x5dd398;try{return _0x1400ef[_0x2c69da(0x7b7)](_0x505a27),!0x0;}catch(_0x658cdc){return!0x1;}}static['buildQuery'](_0xcc0735){const _0x3ea39c=_0x5dd398,_0x5b6ced=_0x1400ef[_0x3ea39c(0x61b)](_0xcc0735['orderBy']?.[_0x3ea39c(0x538)]??_0xcc0735[_0x3ea39c(0x5a7)]?.[_0x3ea39c(0x538)]??'');if(_0xcc0735[_0x3ea39c(0x5a7)]){const _0x4063a9=_0xcc0735[_0x3ea39c(0x5a7)];if((_0x1400ef[_0x3ea39c(0x1df)](_0x4063a9)||_0x1400ef[_0x3ea39c(0x5b5)](_0x4063a9)||_0x1400ef[_0x3ea39c(0x45d)](_0x4063a9))&&_0x5b6ced[_0x3ea39c(0x5a7)](_0x4063a9[_0x3ea39c(0x638)],_0x4063a9[_0x3ea39c(0x309)]),_0xcc0735[_0x3ea39c(0x30b)]?.['key']&&_0xcc0735[_0x3ea39c(0x30b)]?.[_0x3ea39c(0x538)]!==_0xcc0735['where'][_0x3ea39c(0x538)])throw new _0x4ddc2b(_0xf6fbbf[_0x3ea39c(0x74a)],_0x3ea39c(0x464));}return _0xcc0735[_0x3ea39c(0x30b)]&&_0x5b6ced[_0x3ea39c(0x30b)](_0xcc0735[_0x3ea39c(0x30b)][_0x3ea39c(0x2f6)]),_0xcc0735['limit']&&_0x5b6ced[_0x3ea39c(0x2b7)](_0xcc0735[_0x3ea39c(0x2b7)]),_0xcc0735[_0x3ea39c(0x867)]&&_0x5b6ced['offset'](_0xcc0735['offset']),_0x5b6ced;}[_0x5dd398(0x379)](){const _0x3fd084=_0x5dd398;return{...this[_0x3fd084(0x281)]};}[_0x5dd398(0x5a7)](_0x2d3ba5,_0x4114a8){const _0xe59ed1=_0x5dd398,_0x6e3a1b={'key':this[_0xe59ed1(0x281)][_0xe59ed1(0x30b)][_0xe59ed1(0x538)],'operator':_0x2d3ba5,'value':_0x4114a8};if(!_0x1400ef['isWhereValue'](_0x6e3a1b)&&!_0x1400ef['isWhereValues'](_0x6e3a1b)&&!_0x1400ef[_0xe59ed1(0x45d)](_0x6e3a1b))throw new _0x4ddc2b(_0xf6fbbf[_0xe59ed1(0x74a)],_0xe59ed1(0x693));return this[_0xe59ed1(0x281)][_0xe59ed1(0x5a7)]=_0x6e3a1b,this;}[_0x5dd398(0x30b)](_0x12ac4c){const _0x25e17f=_0x5dd398;if(_0x25e17f(0x3f0)!==_0x12ac4c&&'desc'!==_0x12ac4c)throw new _0x4ddc2b(_0xf6fbbf[_0x25e17f(0x74a)],_0x25e17f(0x3c7));return this[_0x25e17f(0x281)][_0x25e17f(0x30b)][_0x25e17f(0x2f6)]=_0x12ac4c,this;}[_0x5dd398(0x2b7)](_0x3c5702){const _0x35e3e5=_0x5dd398;if(_0x35e3e5(0x490)!=typeof _0x3c5702||_0x3c5702<0x0)throw new _0x4ddc2b(_0xf6fbbf['QueryBuilderInvalidArgument'],_0x35e3e5(0x82e));return this[_0x35e3e5(0x281)]['limit']=_0x3c5702,this;}[_0x5dd398(0x867)](_0x175841){const _0x4b4001=_0x5dd398;if(_0x4b4001(0x490)!=typeof _0x175841||_0x175841<0x0)throw new _0x4ddc2b(_0xf6fbbf[_0x4b4001(0x74a)],_0x4b4001(0x450));return this['query'][_0x4b4001(0x867)]=_0x175841,this;}static[_0x5dd398(0x1df)](_0x22c341){const _0x35ca38=_0x5dd398;if(!(_0x22c341&&'object'==typeof _0x22c341&&_0x35ca38(0x638)in _0x22c341&&_0x35ca38(0x309)in _0x22c341))return!0x1;const {operator:_0x17288f,value:_0x50a911}=_0x22c341;return!(!['==','!=','>','<','<=','>='][_0x35ca38(0x30f)](_0x17288f)||Array[_0x35ca38(0x575)](_0x50a911));}static[_0x5dd398(0x5b5)](_0x2e8f0b){const _0x30c3a8=_0x5dd398;if(!(_0x2e8f0b&&_0x30c3a8(0x697)==typeof _0x2e8f0b&&_0x30c3a8(0x638)in _0x2e8f0b&&_0x30c3a8(0x309)in _0x2e8f0b))return!0x1;const {operator:_0x372dd0,value:_0x411130}=_0x2e8f0b;return!(!['in',_0x30c3a8(0x71f)]['includes'](_0x372dd0)||!Array[_0x30c3a8(0x575)](_0x411130));}static[_0x5dd398(0x45d)](_0x56600c){const _0x187f31=_0x5dd398;if(!(_0x56600c&&_0x187f31(0x697)==typeof _0x56600c&&_0x187f31(0x638)in _0x56600c&&_0x187f31(0x309)in _0x56600c))return!0x1;const {operator:_0x3553d2,value:_0x50080d}=_0x56600c;return!(_0x187f31(0x381)!==_0x3553d2||!Array[_0x187f31(0x575)](_0x50080d)||0x2!==_0x50080d[_0x187f31(0x5f4)]);}}class _0x39cb6b{[_0x5dd398(0x7b4)];constructor(_0x2dd13b){this['layout']={'tables':{},'version':_0x2dd13b};}static[_0x5dd398(0x22a)](_0x5342e4){const _0x2970eb=_0x5dd398;for(const _0x19cbc6 in _0x5342e4){if(_0x2970eb(0x768)!==_0x19cbc6&&_0x2970eb(0x85f)!==_0x19cbc6)return[!0x1,'Invalid\x20key\x20\x27'+_0x19cbc6+_0x2970eb(0x2fe)];if('tables'===_0x19cbc6)for(const _0x5c9e99 in _0x5342e4[_0x2970eb(0x85f)]){if(_0x2970eb(0x542)!=typeof _0x5c9e99)return[!0x1,'Invalid\x20table\x20name\x20\x27'+_0x5c9e99+'\x27'];for(const _0x4c755d in _0x5342e4[_0x2970eb(0x85f)][_0x5c9e99]){if(_0x2970eb(0x4b8)!==_0x4c755d)return[!0x1,_0x2970eb(0x80b)+_0x4c755d+'\x27\x20in\x20table\x20\x27'+_0x5c9e99+'\x27'];const _0x293029=_0x5342e4['tables'][_0x5c9e99][_0x4c755d]??[];for(const _0x4bb883 of _0x293029)if(void 0x0===_0x4bb883['keyPath']||_0x2970eb(0x542)!=typeof _0x4bb883[_0x2970eb(0x1c9)])return[!0x1,_0x2970eb(0x630)+_0x5c9e99+'\x27:\x20missing\x20or\x20invalid\x20keyPath'];}}else{if('version'===_0x19cbc6&&'number'!=typeof _0x5342e4[_0x19cbc6])return[!0x1,_0x2970eb(0x3e0)+_0x5342e4[_0x19cbc6]+'\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number'];}}return[!0x0,_0x2970eb(0x765)];}static['layout'](_0x53da07){const _0x3ec02c=_0x5dd398,_0x332017=new _0x39cb6b(_0x53da07);return _0x332017['layout'][_0x3ec02c(0x768)]=_0x53da07,_0x332017;}['table'](_0x379048){const _0x28b9ef=_0x5dd398;return this['layout'][_0x28b9ef(0x85f)][_0x379048]={},new _0x21e348(this[_0x28b9ef(0x7b4)][_0x28b9ef(0x85f)][_0x379048]);}['getLayout'](){return this['layout'];}}class _0x21e348{[_0x5dd398(0x775)];constructor(_0x2f353d){const _0x563265=_0x5dd398;this[_0x563265(0x775)]=_0x2f353d;}[_0x5dd398(0x61b)](_0x755c50){const _0x30468c=_0x5dd398;return this[_0x30468c(0x775)][_0x30468c(0x4b8)]=this['tableLayout']['indexes']??[],this[_0x30468c(0x775)][_0x30468c(0x4b8)][_0x30468c(0x28d)]({'keyPath':_0x755c50}),this;}}const _0x29b399=0x3f800,_0x5eca94=0x40000,_0x2a2300=_0x5dd398(0x2cc),_0x1e7210=_0x5dd398(0x65f),_0x2e087d='.crewdle-transactions',_0x2c03b4=_0x5dd398(0x202),_0x42c26a=0x7530,_0x2f137e=0x7530,_0x8667f2=_0x5dd398(0x5c7),_0x51c885=_0x5dd398(0x3e1),_0x5e95ab=_0x5dd398(0x872),_0x4ae75f=_0x5dd398(0x627),_0x384096='internal';var _0x2eb76b;!function(_0x40969b){const _0x2c3372=_0x5dd398;_0x40969b['ConnectionNotinitialized']='connection-not-initialized',_0x40969b[_0x2c3372(0x422)]='connection-not-connected',_0x40969b[_0x2c3372(0x719)]=_0x2c3372(0x28f),_0x40969b[_0x2c3372(0x39d)]=_0x2c3372(0x661),_0x40969b[_0x2c3372(0x221)]=_0x2c3372(0x36f),_0x40969b[_0x2c3372(0x725)]='generative-ai-context-job-failed',_0x40969b[_0x2c3372(0x7d1)]=_0x2c3372(0x474),_0x40969b['GenerativeAIContextInvalidPartialResult']='generative-ai-context-invalid-partial-result',_0x40969b[_0x2c3372(0x7d7)]='generative-ai-worker-creation-failed',_0x40969b['InvalidDataChannel']=_0x2c3372(0x524),_0x40969b[_0x2c3372(0x7a9)]=_0x2c3372(0x4d6),_0x40969b['InvalidSubscriber']=_0x2c3372(0x583),_0x40969b[_0x2c3372(0x4b3)]='invalid-subscription',_0x40969b['JobDispatcherCreationFailed']=_0x2c3372(0x682),_0x40969b[_0x2c3372(0x58d)]='job-dispatcher-invalid-payload',_0x40969b[_0x2c3372(0x2b5)]=_0x2c3372(0x6bf),_0x40969b[_0x2c3372(0x74e)]=_0x2c3372(0x75d),_0x40969b[_0x2c3372(0x535)]='job-worker-creation-failed',_0x40969b[_0x2c3372(0x816)]=_0x2c3372(0x5b0),_0x40969b['KeyValueDatabaseCreationFailed']=_0x2c3372(0x216),_0x40969b[_0x2c3372(0x244)]='key-value-database-table-does-not-exist',_0x40969b[_0x2c3372(0x31c)]=_0x2c3372(0x448),_0x40969b[_0x2c3372(0x62b)]='key-value-database-transaction-value-not-set',_0x40969b['LocalMediaStreamDoesNotExist']='local-stream-does-not-exist',_0x40969b[_0x2c3372(0x25d)]=_0x2c3372(0x2e8),_0x40969b[_0x2c3372(0x435)]=_0x2c3372(0x59d),_0x40969b[_0x2c3372(0x311)]=_0x2c3372(0x236),_0x40969b['ObjectStoreCannotWriteTransaction']=_0x2c3372(0x482),_0x40969b[_0x2c3372(0x779)]=_0x2c3372(0x5f3),_0x40969b[_0x2c3372(0x473)]=_0x2c3372(0x39b),_0x40969b[_0x2c3372(0x657)]='object-store-not-synced',_0x40969b[_0x2c3372(0x6ca)]=_0x2c3372(0x76e),_0x40969b[_0x2c3372(0x626)]=_0x2c3372(0x591),_0x40969b['RemoteMediaStreamMissingProviderId']=_0x2c3372(0x873),_0x40969b[_0x2c3372(0x2b6)]=_0x2c3372(0x5d9),_0x40969b[_0x2c3372(0x6fe)]='subscription-request-does-not-exist',_0x40969b[_0x2c3372(0x270)]=_0x2c3372(0x373),_0x40969b[_0x2c3372(0x2d0)]=_0x2c3372(0x2a6),_0x40969b[_0x2c3372(0x78c)]='node-does-not-exist',_0x40969b[_0x2c3372(0x356)]='node-already-exist',_0x40969b[_0x2c3372(0x6d5)]=_0x2c3372(0x223);}(_0x2eb76b||(_0x2eb76b={}));const _0x262127=new Map([[_0x2eb76b[_0x5dd398(0x791)],_0x5dd398(0x5d4)],[_0x2eb76b[_0x5dd398(0x422)],'Connection\x20not\x20connected.'],[_0x2eb76b[_0x5dd398(0x719)],_0x5dd398(0x680)],[_0x2eb76b[_0x5dd398(0x39d)],_0x5dd398(0x707)],[_0x2eb76b['GenerativeAIContextCreationFailed'],'Generative\x20AI\x20context\x20creation\x20failed.'],[_0x2eb76b[_0x5dd398(0x725)],_0x5dd398(0x56e)],[_0x2eb76b['GenerativeAIContextJobTimeout'],'Generative\x20AI\x20context\x20job\x20timeout.'],[_0x2eb76b[_0x5dd398(0x1d6)],_0x5dd398(0x6c6)],[_0x2eb76b['GenerativeAIWorkerCreationFailed'],'AI\x20worker\x20creation\x20failed.'],[_0x2eb76b['InvalidDataChannel'],'Invalid\x20data\x20channel.'],[_0x2eb76b[_0x5dd398(0x7a9)],_0x5dd398(0x80e)],[_0x2eb76b[_0x5dd398(0x378)],'Invalid\x20subscriber.'],[_0x2eb76b[_0x5dd398(0x4b3)],_0x5dd398(0x589)],[_0x2eb76b[_0x5dd398(0x804)],'Job\x20service\x20creation\x20failed.'],[_0x2eb76b[_0x5dd398(0x58d)],_0x5dd398(0x376)],[_0x2eb76b[_0x5dd398(0x2b5)],_0x5dd398(0x3ed)],[_0x2eb76b[_0x5dd398(0x74e)],_0x5dd398(0x67c)],[_0x2eb76b['JobWorkerCreationFailed'],'Job\x20worker\x20creation\x20failed.'],[_0x2eb76b[_0x5dd398(0x816)],_0x5dd398(0x590)],[_0x2eb76b['KeyValueDatabaseCreationFailed'],_0x5dd398(0x3ce)],[_0x2eb76b[_0x5dd398(0x244)],_0x5dd398(0x2ac)],[_0x2eb76b[_0x5dd398(0x31c)],_0x5dd398(0x4f6)],[_0x2eb76b[_0x5dd398(0x62b)],_0x5dd398(0x694)],[_0x2eb76b[_0x5dd398(0x48a)],'Local\x20stream\x20does\x20not\x20exist.'],[_0x2eb76b[_0x5dd398(0x25d)],_0x5dd398(0x634)],[_0x2eb76b['MissingSystemTopic'],_0x5dd398(0x43e)],[_0x2eb76b[_0x5dd398(0x311)],_0x5dd398(0x408)],[_0x2eb76b[_0x5dd398(0x3db)],_0x5dd398(0x3e4)],[_0x2eb76b[_0x5dd398(0x473)],_0x5dd398(0x668)],[_0x2eb76b[_0x5dd398(0x779)],'Invalid\x20object\x20store\x20state.'],[_0x2eb76b[_0x5dd398(0x657)],_0x5dd398(0x740)],[_0x2eb76b[_0x5dd398(0x6ca)],_0x5dd398(0x4de)],[_0x2eb76b[_0x5dd398(0x626)],_0x5dd398(0x7ce)],[_0x2eb76b[_0x5dd398(0x6e8)],'Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.'],[_0x2eb76b['RemoteConnectionExists'],_0x5dd398(0x658)],[_0x2eb76b[_0x5dd398(0x6fe)],'Subscription\x20request\x20does\x20not\x20exist.'],[_0x2eb76b[_0x5dd398(0x270)],_0x5dd398(0x6d0)],[_0x2eb76b[_0x5dd398(0x2d0)],_0x5dd398(0x818)],[_0x2eb76b[_0x5dd398(0x78c)],_0x5dd398(0x767)],[_0x2eb76b[_0x5dd398(0x356)],_0x5dd398(0x64e)],[_0x2eb76b[_0x5dd398(0x6d5)],'Invalid\x20peer\x20connection\x20event\x20destination.']]);class _0x189e7c extends Error{[_0x5dd398(0x4fe)];static [_0x5dd398(0x32a)]=_0x2eb76b;['data'];constructor(_0x49d390,_0x156954){const _0x3735e0=_0x5dd398;super(_0x3735e0(0x342)+_0x49d390+':\x20'+_0x262127[_0x3735e0(0x7ef)](_0x49d390)+'\x0aAdditional\x20data:\x20'+JSON[_0x3735e0(0x698)](_0x156954)),this[_0x3735e0(0x4fe)]=_0x49d390,this[_0x3735e0(0x46f)]=_0x156954||{};}}var _0x47bc97,_0x2f3c36,_0x2ec195,_0x1d1adc,_0x299d3d,_0x38ba1c,_0x3efa6a;!function(_0x362c55){const _0xcde447=_0x5dd398;_0x362c55[_0x362c55[_0xcde447(0x6ab)]=0x0]='PublishMediaStream',_0x362c55[_0x362c55[_0xcde447(0x1b3)]=0x1]='UnpublishMediaStream',_0x362c55[_0x362c55['SubscribeMediaStream']=0x2]=_0xcde447(0x4a1),_0x362c55[_0x362c55['UpdateMediaStream']=0x3]=_0xcde447(0x4cc),_0x362c55[_0x362c55[_0xcde447(0x551)]=0x4]=_0xcde447(0x551),_0x362c55[_0x362c55[_0xcde447(0x847)]=0x5]='CloseJobDispatcher',_0x362c55[_0x362c55[_0xcde447(0x359)]=0x6]='CloseJobWorker',_0x362c55[_0x362c55[_0xcde447(0x284)]=0x7]=_0xcde447(0x284),_0x362c55[_0x362c55[_0xcde447(0x3be)]=0x8]=_0xcde447(0x3be),_0x362c55[_0x362c55[_0xcde447(0x2f5)]=0x9]='ClosePubSubTopic',_0x362c55[_0x362c55['CloseMediaStream']=0xa]=_0xcde447(0x7a4),_0x362c55[_0x362c55[_0xcde447(0x788)]=0xb]=_0xcde447(0x788),_0x362c55[_0x362c55[_0xcde447(0x6be)]=0xc]=_0xcde447(0x6be),_0x362c55[_0x362c55[_0xcde447(0x30a)]=0xd]=_0xcde447(0x30a),_0x362c55[_0x362c55['SendTransactionsDump']=0xe]=_0xcde447(0x2c1),_0x362c55[_0x362c55[_0xcde447(0x621)]=0xf]='RequestTransactionsValue',_0x362c55[_0x362c55['PubSubTopicStats']=0x10]=_0xcde447(0x369),_0x362c55[_0x362c55['ObjectStoreStats']=0x11]=_0xcde447(0x79c),_0x362c55[_0x362c55[_0xcde447(0x439)]=0x12]=_0xcde447(0x439),_0x362c55[_0x362c55[_0xcde447(0x462)]=0x13]=_0xcde447(0x462),_0x362c55[_0x362c55[_0xcde447(0x261)]=0x14]='GenerativeAIWorkerStats';}(_0x47bc97||(_0x47bc97={})),function(_0x3029ab){const _0x3508e0=_0x5dd398;_0x3029ab[_0x3508e0(0x271)]=_0x3508e0(0x4ea),_0x3029ab['FolderCreate']=_0x3508e0(0x2c4),_0x3029ab[_0x3508e0(0x4a4)]='delete',_0x3029ab[_0x3508e0(0x77a)]=_0x3508e0(0x67b),_0x3029ab[_0x3508e0(0x3a6)]=_0x3508e0(0x7ad),_0x3029ab[_0x3508e0(0x613)]=_0x3508e0(0x52d),_0x3029ab[_0x3508e0(0x7a0)]=_0x3508e0(0x318),_0x3029ab[_0x3508e0(0x2b3)]='request-file-write';}(_0x2f3c36||(_0x2f3c36={})),function(_0x443951){const _0x2e1156=_0x5dd398;_0x443951[_0x2e1156(0x304)]=_0x2e1156(0x800),_0x443951[_0x2e1156(0x37e)]='transaction';}(_0x2ec195||(_0x2ec195={})),function(_0x111c52){const _0xef3b87=_0x5dd398;_0x111c52[_0xef3b87(0x25a)]='add',_0x111c52[_0xef3b87(0x78b)]=_0xef3b87(0x7f9),_0x111c52[_0xef3b87(0x4a4)]='delete';}(_0x1d1adc||(_0x1d1adc={})),function(_0x3e160a){const _0x348342=_0x5dd398;_0x3e160a[_0x348342(0x424)]=_0x348342(0x7ef),_0x3e160a['List']=_0x348342(0x656),_0x3e160a['Count']=_0x348342(0x73a);}(_0x299d3d||(_0x299d3d={})),function(_0x40e712){const _0x2ad935=_0x5dd398;_0x40e712[_0x40e712[_0x2ad935(0x304)]=0x0]='Request',_0x40e712[_0x40e712[_0x2ad935(0x49d)]=0x1]=_0x2ad935(0x49d),_0x40e712[_0x40e712[_0x2ad935(0x646)]=0x2]=_0x2ad935(0x646),_0x40e712[_0x40e712['PartialResult']=0x3]='PartialResult',_0x40e712[_0x40e712[_0x2ad935(0x53e)]=0x4]=_0x2ad935(0x53e),_0x40e712[_0x40e712['Failed']=0x5]='Failed';}(_0x38ba1c||(_0x38ba1c={})),function(_0x33d4db){const _0x577d79=_0x5dd398;_0x33d4db[_0x33d4db[_0x577d79(0x2a9)]=0x0]=_0x577d79(0x2a9),_0x33d4db[_0x33d4db[_0x577d79(0x40c)]=0x1]=_0x577d79(0x40c),_0x33d4db[_0x33d4db[_0x577d79(0x5d2)]=0x2]=_0x577d79(0x5d2),_0x33d4db[_0x33d4db[_0x577d79(0x280)]=0x3]=_0x577d79(0x280),_0x33d4db[_0x33d4db[_0x577d79(0x1ca)]=0x4]='Stats',_0x33d4db[_0x33d4db[_0x577d79(0x5bd)]=0x5]=_0x577d79(0x5bd),_0x33d4db[_0x33d4db[_0x577d79(0x817)]=0x6]=_0x577d79(0x817);}(_0x3efa6a||(_0x3efa6a={}));class _0x438ccb{[_0x5dd398(0x86e)];[_0x5dd398(0x667)];['systemTopic'];constructor(_0x1be8da,_0x186461){const _0x286d56=_0x5dd398;this['owner']=_0x1be8da,this[_0x286d56(0x667)]=_0x186461;}['getLabel'](){const _0x49bbcb=_0x5dd398;return this[_0x49bbcb(0x667)];}['getOwnerId'](){return this['owner']['getId']();}['destroy'](){}[_0x5dd398(0x442)](_0x57f909){const _0x22cc72=_0x5dd398;this[_0x22cc72(0x7fa)]=_0x57f909;}['unregisterSystemPublisher'](){delete this['systemTopic'];}}const _0x654549=require('firebase/firestore');let _0x4cddb5=_0x4c3c99(0x14d)['O'];function _0xd9fbf3(_0x5988bd){const _0x30c164=_0x5dd398;return!(!_0x5988bd||_0x30c164(0x697)!=typeof _0x5988bd||Array[_0x30c164(0x575)](_0x5988bd));}_0x4cddb5=function _0x509409(_0x444d01,..._0x36a10c){const _0x4b90db=_0x5dd398;if(!Array['isArray'](_0x36a10c)||0x0===_0x36a10c[_0x4b90db(0x5f4)])return _0x444d01;const _0x2d6feb=_0x36a10c[_0x4b90db(0x27a)]();if(_0xd9fbf3(_0x444d01)&&_0xd9fbf3(_0x2d6feb)){for(const _0x4992df in _0x2d6feb)_0xd9fbf3(_0x2d6feb[_0x4992df])?(_0x444d01[_0x4992df]||Object[_0x4b90db(0x405)](_0x444d01,{[_0x4992df]:{}}),_0x509409(_0x444d01[_0x4992df],_0x2d6feb[_0x4992df])):Object['assign'](_0x444d01,{[_0x4992df]:_0x2d6feb[_0x4992df]});}return _0x509409(_0x444d01,..._0x36a10c);}(_0x4cddb5,_0x4c3c99(0x3e6)['O']);const _0x4241f1=_0x4cddb5,_0x4baeae=require('firebase/app'),_0x37753d=require('firebase/auth'),_0x3091c2=require('firebase/database'),_0x3e2c8f=require('firebase/functions');class _0x193f0b{static [_0x5dd398(0x2da)];[_0x5dd398(0x1b8)];['auth'];[_0x5dd398(0x395)];[_0x5dd398(0x6f6)];[_0x5dd398(0x703)];[_0x5dd398(0x745)];constructor(){}static[_0x5dd398(0x7bf)](){return _0x193f0b['instance']||(_0x193f0b['instance']=new _0x193f0b()),_0x193f0b['instance'];}['getApp'](){const _0x25ddc8=_0x5dd398;return this[_0x25ddc8(0x1b8)]||(this[_0x25ddc8(0x1b8)]=(0x0,_0x4baeae[_0x25ddc8(0x469)])(_0x4241f1[_0x25ddc8(0x4dd)])),this[_0x25ddc8(0x1b8)];}['getAuth'](){const _0x45db98=_0x5dd398;return this[_0x45db98(0x4bc)]||(this['auth']=(0x0,_0x37753d['getAuth'])(this[_0x45db98(0x41e)]())),this['auth'];}[_0x5dd398(0x859)](){const _0x4d7006=_0x5dd398;return this[_0x4d7006(0x395)]||(this[_0x4d7006(0x395)]=(0x0,_0x3e2c8f[_0x4d7006(0x859)])(this[_0x4d7006(0x41e)](),_0x4241f1[_0x4d7006(0x4dd)][_0x4d7006(0x1c7)])),this[_0x4d7006(0x395)];}['getDatabase'](){const _0x133022=_0x5dd398;return this[_0x133022(0x6f6)]||(this['database']=(0x0,_0x3091c2[_0x133022(0x36d)])(this[_0x133022(0x41e)]())),this[_0x133022(0x6f6)];}[_0x5dd398(0x2ed)](){const _0x4d12a9=_0x5dd398;return this['firestore']||(this[_0x4d12a9(0x703)]=(0x0,_0x654549[_0x4d12a9(0x2ed)])(this[_0x4d12a9(0x41e)]())),this['firestore'];}async[_0x5dd398(0x340)](){const _0x10229b=_0x5dd398;if(this[_0x10229b(0x745)])return Date[_0x10229b(0x4bb)]()+this['clockSkew'];const _0x2bdc0d=this['getDatabase'](),_0x52fe6f=(0x0,_0x3091c2[_0x10229b(0x4ec)])(_0x2bdc0d,_0x10229b(0x250)),_0x44936d=(0x0,_0x3091c2['onValue'])(_0x52fe6f,_0x30e588=>{const _0x2893f7=_0x10229b;!0x1===_0x30e588[_0x2893f7(0x7ff)]()&&(_0x44936d(),delete this[_0x2893f7(0x745)]);}),_0x4b2428=(0x0,_0x3091c2[_0x10229b(0x4ec)])(_0x2bdc0d,_0x10229b(0x2bc));return new Promise(_0x95f9c9=>{(0x0,_0x3091c2['onValue'])(_0x4b2428,_0x312bcb=>{const _0xb71011=a0_0x553c;(0x0,_0x3091c2['off'])(_0x4b2428),this[_0xb71011(0x745)]=_0x312bcb[_0xb71011(0x7ff)](),_0x95f9c9(Date[_0xb71011(0x4bb)]()+(this[_0xb71011(0x745)]??0x0));});});}}const _0x40377c=_0x193f0b[_0x5dd398(0x7bf)]();class _0x1b14fe{static [_0x5dd398(0x2da)];[_0x5dd398(0x3fe)]=[_0x4f3b4c[_0x5dd398(0x491)]];[_0x5dd398(0x52f)]=!0x0;[_0x5dd398(0x505)];[_0x5dd398(0x6eb)]='';[_0x5dd398(0x561)];[_0x5dd398(0x3d6)]=[];['currentBatch']=this['createNewBatch']();['batchTimeout'];[_0x5dd398(0x6dc)]=0xa;[_0x5dd398(0x1b1)]=0x1f4;[_0x5dd398(0x796)]=0x1c2;[_0x5dd398(0x231)]=0x3e8;constructor(){const _0x5abcbd=_0x5dd398;if(_0x5abcbd(0x33e)!=typeof window)this[_0x5abcbd(0x561)]=window;else{if(void 0x0===_0x4c3c99['g'])throw new Error('No\x20global\x20object\x20found');this[_0x5abcbd(0x561)]=_0x4c3c99['g'];}this[_0x5abcbd(0x5f2)](),this['globalObject']['crewdleSDKEnableLogging']=_0x4453b7=>{const _0x5ee350=_0x5abcbd;if(_0x4453b7===_0x4f3b4c['All'])return this[_0x5ee350(0x3fe)]=Object['keys'](_0x4f3b4c)[_0x5ee350(0x58c)](_0x5208bd=>_0x4f3b4c[_0x5208bd]),void Object['keys'](_0x4f3b4c)[_0x5ee350(0x710)](_0x4c970c=>{const _0x123b9b=_0x5ee350,_0x5b49f5=_0x4c970c;localStorage[_0x123b9b(0x64d)](_0x123b9b(0x5b9)+_0x4f3b4c[_0x5b49f5],_0x123b9b(0x75f));});this[_0x5ee350(0x3fe)][_0x5ee350(0x30f)](_0x4453b7)||(this[_0x5ee350(0x3fe)][_0x5ee350(0x28d)](_0x4453b7),localStorage['setItem'](_0x5ee350(0x5b9)+_0x4453b7,'true'));},this['globalObject'][_0x5abcbd(0x48b)]=_0x1e43d5=>{const _0x136e8a=_0x5abcbd;if(!_0x1e43d5||_0x1e43d5===_0x4f3b4c[_0x136e8a(0x678)])return this['enabledChannels']=[],void Object[_0x136e8a(0x1f0)](_0x4f3b4c)['forEach'](_0x51e295=>{const _0x3acf79=_0x136e8a,_0x48ff22=_0x51e295;localStorage['removeItem'](_0x3acf79(0x5b9)+_0x4f3b4c[_0x48ff22]);});this['enabledChannels'][_0x136e8a(0x30f)](_0x1e43d5)&&(this[_0x136e8a(0x3fe)]=this['enabledChannels'][_0x136e8a(0x60e)](_0x2d14a3=>_0x2d14a3!==_0x1e43d5),localStorage['removeItem']('crewdle-sdk-logging-'+_0x1e43d5));},this[_0x5abcbd(0x561)][_0x5abcbd(0x53f)]=_0x4f3b4c;}static['getInstance'](){const _0x898320=_0x5dd398;try{return _0x1b14fe[_0x898320(0x2da)]||(_0x1b14fe['instance']=new _0x1b14fe()),_0x1b14fe[_0x898320(0x2da)];}catch(_0x596856){return console[_0x898320(0x7ee)](_0x898320(0x842),_0x596856),{'log':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1};}}['setVendorId'](_0x3cec6b){const _0xa9a975=_0x5dd398;this[_0xa9a975(0x6eb)]=_0x3cec6b,this[_0xa9a975(0x3d6)]=[],this[_0xa9a975(0x1e0)]=this['createNewBatch'](),this[_0xa9a975(0x433)]&&(clearTimeout(this[_0xa9a975(0x433)]),this[_0xa9a975(0x433)]=void 0x0);}[_0x5dd398(0x5c4)](_0x5bccaf){const _0x47c726=_0x5dd398;this[_0x47c726(0x505)]=_0x5bccaf;}['debug'](_0x5552ff,..._0x5afc86){const _0x4af9aa=_0x5dd398;this['debugEnabled']&&this[_0x4af9aa(0x20d)](_0x4f3b4c[_0x4af9aa(0x491)],_0x4af9aa(0x3ad)+_0x5552ff,..._0x5afc86);}['log'](_0x52ce73,_0x1ba389,..._0x4b0ff6){const _0x5539d8=_0x5dd398;_0x4241f1[_0x5539d8(0x525)]||(this[_0x5539d8(0x3fe)][_0x5539d8(0x30f)](_0x52ce73)&&console['log'](_0x5539d8(0x61a)+_0x52ce73+'\x27\x0a',new Date()+'\x0a',_0x1ba389,..._0x4b0ff6),this[_0x5539d8(0x505)]&&this[_0x5539d8(0x505)][_0x5539d8(0x710)](_0x1b073e=>{const _0x3790e6=_0x5539d8;this[_0x3790e6(0x5c0)](_0x1b073e)&&_0x1b073e['getEnabledChannels']()['includes'](_0x52ce73)&&_0x1b073e[_0x3790e6(0x20d)](_0x1ba389,{'vendorId':this[_0x3790e6(0x6eb)],'nodeId':'','nodeType':'','data':{'channel':_0x52ce73,..._0x4b0ff6}});}));}['logRaw'](_0x573c5a,_0x1825f4,..._0x261478){const _0x4a046f=_0x5dd398;_0x4241f1[_0x4a046f(0x525)]||(this['enabledChannels']['includes'](_0x573c5a)&&console[_0x4a046f(0x20d)](_0x1825f4,..._0x261478),this['loggingConnectors']&&this[_0x4a046f(0x505)][_0x4a046f(0x710)](_0x38685b=>{const _0x229217=_0x4a046f;this[_0x229217(0x5c0)](_0x38685b)&&_0x38685b[_0x229217(0x289)]()[_0x229217(0x30f)](_0x573c5a)&&_0x38685b[_0x229217(0x20d)](_0x1825f4,{'vendorId':this['vendorId'],'nodeId':'','nodeType':'','data':{'channel':_0x573c5a,..._0x261478}});}));}[_0x5dd398(0x79a)](_0xbc53d1,_0x2a16fd){const _0x43c6db=_0x5dd398;if(!this[_0x43c6db(0x505)])return;const _0x155995={'vendorId':this['vendorId'],..._0x2a16fd};this['loggingConnectors'][_0x43c6db(0x710)](_0x4be188=>{const _0x3053f2=_0x43c6db;_0x4be188[_0x3053f2(0x20d)](_0xbc53d1,_0x155995);});}[_0x5dd398(0x4b5)](_0x51947b,_0x31a317){const _0x1b3f13=_0x5dd398,_0x478f97=(0x0,_0x654549[_0x1b3f13(0x2f2)])((0x0,_0x654549[_0x1b3f13(0x4fc)])(_0x40377c[_0x1b3f13(0x2ed)](),_0x1b3f13(0x218)+this['vendorId']+'/logs'));this[_0x1b3f13(0x1e0)][_0x1b3f13(0x1cd)][_0x1b3f13(0x549)](_0x478f97,{..._0x31a317,'service':_0x51947b,'timestamp':(0x0,_0x654549[_0x1b3f13(0x764)])()}),this['currentBatch'][_0x1b3f13(0x252)][_0x1b3f13(0x28d)]({'type':_0x1b3f13(0x549),'ref':_0x478f97['path'],'data':_0x31a317}),this[_0x1b3f13(0x485)]();}[_0x5dd398(0x61d)](_0x14a039,_0x1b3fed,_0x216db2){const _0x33b33a=_0x5dd398;(0x0,_0x654549[_0x33b33a(0x390)])((0x0,_0x654549[_0x33b33a(0x2f2)])(_0x40377c[_0x33b33a(0x2ed)](),_0x33b33a(0x218)+this['vendorId']+'/'+_0x14a039+'/'+_0x1b3fed),{'storage':_0x216db2,'timestamp':(0x0,_0x654549[_0x33b33a(0x764)])()});}[_0x5dd398(0x485)](){const _0x46c5d3=_0x5dd398;this[_0x46c5d3(0x1e0)][_0x46c5d3(0x248)]++,this['currentBatch'][_0x46c5d3(0x248)]===this[_0x46c5d3(0x796)]?this[_0x46c5d3(0x29d)]():this[_0x46c5d3(0x433)]||(this[_0x46c5d3(0x433)]=this[_0x46c5d3(0x561)]['setTimeout'](()=>this[_0x46c5d3(0x29d)](),this[_0x46c5d3(0x231)]));}async[_0x5dd398(0x29d)](){const _0x39c32e=_0x5dd398;for(this[_0x39c32e(0x3d6)][_0x39c32e(0x28d)](this['currentBatch']),this[_0x39c32e(0x1e0)]=this[_0x39c32e(0x2e2)]();this[_0x39c32e(0x3d6)]['length']>0x0;){const _0x5b5744=this['batchQueue'][_0x39c32e(0x27a)]();if(!await this[_0x39c32e(0x361)](_0x5b5744,0x0))break;}clearTimeout(this[_0x39c32e(0x433)]),this['batchTimeout']=void 0x0;}async[_0x5dd398(0x361)](_0x48e722,_0x3ca809){const _0x3de1cc=_0x5dd398;if(_0x48e722['counter']>0x0)try{return await _0x48e722['batch'][_0x3de1cc(0x66e)](),!0x0;}catch(_0x551713){if(console[_0x3de1cc(0x7ee)](_0x3de1cc(0x58a),_0x551713,'Operations:',_0x48e722[_0x3de1cc(0x252)]),!(_0x3ca809<this['retryLimit'])){const {nodeId:_0x130e4c='',nodeType:_0x100b73='',clusterId:_0x456a49=''}=_0x48e722[_0x3de1cc(0x252)][0x0][_0x3de1cc(0x46f)],_0x369c1e={'nodeId':_0x130e4c,'nodeType':_0x100b73,'clusterId':_0x456a49,'data':{'operations':_0x48e722[_0x3de1cc(0x252)],'error':_0x551713}};return this[_0x3de1cc(0x7ee)](_0x3de1cc(0x354),_0x369c1e),!0x1;}setTimeout(()=>this[_0x3de1cc(0x361)](_0x48e722,_0x3ca809+0x1),this['retryDelay']*Math[_0x3de1cc(0x565)](0x2,_0x3ca809));}}[_0x5dd398(0x7ee)](_0x4a6c2c,_0x18f76b,..._0x4abe3b){const _0x43fec7=_0x5dd398;if(console['error'](new Date(),_0x4a6c2c,_0x18f76b,..._0x4abe3b),this[_0x43fec7(0x505)]){const _0xca97c9={'vendorId':this[_0x43fec7(0x6eb)],..._0x18f76b};this[_0x43fec7(0x505)][_0x43fec7(0x710)](_0x5dc80c=>{const _0x25ac80=_0x43fec7;_0x5dc80c[_0x25ac80(0x7ee)](_0x4a6c2c,_0xca97c9);});}}[_0x5dd398(0x6cc)](_0x1b0e4c,_0x206c75,..._0x3ad762){const _0x1bee18=_0x5dd398;if(console[_0x1bee18(0x301)](new Date(),_0x1b0e4c,_0x206c75,_0x3ad762),this[_0x1bee18(0x505)]){const _0x43584f={'vendorId':this[_0x1bee18(0x6eb)],..._0x206c75};this['loggingConnectors'][_0x1bee18(0x710)](_0x372354=>{const _0x186f4f=_0x1bee18;_0x372354[_0x186f4f(0x301)](_0x1b0e4c,_0x43584f);});}}['isChannelEnabled'](_0x28761f){const _0x2ae9ab=_0x5dd398;return this['enabledChannels'][_0x2ae9ab(0x30f)](_0x28761f);}['loadEnabledChannels'](){const _0x29c597=_0x5dd398;try{Object['keys'](_0x4f3b4c)[_0x29c597(0x710)](_0x40e7c0=>{const _0x59846e=_0x29c597,_0x9b9d56=_0x40e7c0;localStorage[_0x59846e(0x645)](_0x59846e(0x5b9)+_0x4f3b4c[_0x9b9d56])&&(console['log'](_0x59846e(0x25f),_0x4f3b4c[_0x9b9d56]),this[_0x59846e(0x3fe)][_0x59846e(0x28d)](_0x4f3b4c[_0x9b9d56]));});}catch(_0x10900b){}}[_0x5dd398(0x5c0)](_0x16f70f){const _0x40affb=_0x5dd398;return void 0x0!==_0x16f70f[_0x40affb(0x289)];}[_0x5dd398(0x2e2)](){const _0x381372=_0x5dd398;return{'batch':(0x0,_0x654549['writeBatch'])(_0x40377c[_0x381372(0x2ed)]()),'operations':[],'counter':0x0};}}const _0x52f76b=_0x1b14fe['getInstance']();function _0x3cf33c(_0x2d06b7,_0x524beb){return'/'===_0x2d06b7?_0x2d06b7+_0x524beb:_0x2d06b7+'/'+_0x524beb;}function _0x4e2639(_0x4b7994){const _0x2b766d=_0x5dd398,_0x3e67c0=function(_0x477fb1){const _0x2542d1=a0_0x553c;return _0x477fb1[_0x2542d1(0x7b3)]('/')[_0x2542d1(0x60e)](_0x227ffe=>_0x227ffe['length']>0x0);}(_0x4b7994),_0x31c5aa=_0x3e67c0[_0x2b766d(0x1f9)]()||'',_0x5796f8=_0x3e67c0[_0x2b766d(0x1d5)]('/');return[0x0===_0x5796f8[_0x2b766d(0x5f4)]?'/':_0x5796f8,_0x31c5aa];}async function _0x110484(_0xa87043){const _0x44e6ba=_0x5dd398;let _0x3ec2f2;const _0x5b478c=_0xa87043[_0x44e6ba(0x3ee)]/0x100000;_0x3ec2f2=_0x5b478c<=0xa?0x1:_0x5b478c<=0x64?0.5:_0x5b478c<=0x1f4?0.1:0.05;const _0x3b21c7=Math['ceil'](_0xa87043[_0x44e6ba(0x3ee)]/_0x5eca94),_0x2b2a24=Math[_0x44e6ba(0x5dc)](_0x3b21c7*_0x3ec2f2);let _0x318799=new Uint8Array();for(let _0x362776=0x0;_0x362776<_0x2b2a24;_0x362776++){const _0x5d921c=Math[_0x44e6ba(0x532)](_0x362776/_0x2b2a24*_0xa87043[_0x44e6ba(0x3ee)]);let _0x2ea87b=_0x5d921c+_0x5eca94;_0x2ea87b>_0xa87043[_0x44e6ba(0x3ee)]&&(_0x2ea87b=_0xa87043[_0x44e6ba(0x3ee)]);const _0x5e9557=_0xa87043[_0x44e6ba(0x6fb)](_0x5d921c,_0x2ea87b),_0x1fdb60=await _0x5e9557[_0x44e6ba(0x7c0)](),_0xc075d0=new Uint8Array([..._0x318799,...new Uint8Array(_0x1fdb60)]);_0x318799=new Uint8Array(await crypto[_0x44e6ba(0x750)][_0x44e6ba(0x709)]('SHA-256',_0xc075d0));}return Array['from'](new Uint8Array(_0x318799))[_0x44e6ba(0x58c)](_0x46c84f=>_0x46c84f[_0x44e6ba(0x2ea)](0x10)['padStart'](0x2,'0'))['join']('');}async function*_0x5b7cda(_0x57c809,_0x4f1a66=0x0,_0x5d4729){const _0x2edf97=_0x5dd398;let _0x252fb3=_0x4f1a66*_0x29b399,_0xa13748=_0x57c809;for(;_0x252fb3<_0xa13748[_0x2edf97(0x3ee)];){let _0x5c227d=_0x252fb3+_0x29b399;_0x5c227d>_0xa13748[_0x2edf97(0x3ee)]&&(_0x5c227d=_0xa13748['size']);let _0x6e9f42,_0x24362b=0x0;for(;_0x24362b<0x14;)try{_0x6e9f42=await _0x5d4729?.();const _0x204cca=_0xa13748[_0x2edf97(0x6fb)](_0x252fb3,_0x5c227d,_0x2edf97(0x6ee)),_0x37d908=await _0x204cca[_0x2edf97(0x7c0)]();yield _0x37d908,_0x252fb3=_0x5c227d;break;}catch(_0x33b35a){if(console[_0x2edf97(0x7ee)](_0x2edf97(0x403)+(_0x24362b+0x1)+'\x20attempts:',_0x33b35a,_0x6e9f42),_0x24362b++,_0x24362b>0x14)throw _0x33b35a;let _0x5408ab=0x3e8*Math['pow'](0x2,_0x24362b);_0x5408ab>0x7530&&(_0x5408ab=0x7530),await new Promise(_0x2fad30=>setTimeout(_0x2fad30,_0x5408ab));}}}class _0x33028e extends _0x438ccb{[_0x5dd398(0x7d5)];['incomingTopic'];[_0x5dd398(0x6c1)]=new Map();[_0x5dd398(0x355)]=0x0;[_0x5dd398(0x513)]=0x0;[_0x5dd398(0x83b)]=0x0;[_0x5dd398(0x845)]=0x0;constructor(_0x181207,_0x362a22){super(_0x181207,_0x362a22);}[_0x5dd398(0x544)](){const _0x453e83=_0x5dd398;return this[_0x453e83(0x667)];}[_0x5dd398(0x73b)](){const _0x105274=_0x5dd398;return this[_0x105274(0x667)];}[_0x5dd398(0x323)](){const _0x8815ca=_0x5dd398;return _0x47065f[_0x8815ca(0x447)]['Data'];}[_0x5dd398(0x655)](){return this['label'];}[_0x5dd398(0x1fc)](_0x255579){const _0x28cce9=_0x5dd398;if(this[_0x28cce9(0x7d5)])throw new _0x189e7c(_0x189e7c[_0x28cce9(0x32a)][_0x28cce9(0x7a9)],{'message':'Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20'+this['owner'][_0x28cce9(0x330)]()+_0x28cce9(0x3bd)+this[_0x28cce9(0x667)],'topic':this[_0x28cce9(0x7d5)]});this[_0x28cce9(0x7d5)]=_0x255579;}[_0x5dd398(0x28b)](_0x2c4506){const _0x12da83=_0x5dd398;if(this[_0x12da83(0x288)])throw new _0x189e7c(_0x189e7c[_0x12da83(0x32a)][_0x12da83(0x378)],{'message':'Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20'+this[_0x12da83(0x86e)][_0x12da83(0x330)]()+_0x12da83(0x3bd)+this[_0x12da83(0x667)],'topic':this['incomingTopic']});this['incomingTopic']=_0x2c4506;}['unregisterPublisher'](){const _0x605a99=_0x5dd398;delete this[_0x605a99(0x7d5)];}[_0x5dd398(0x7da)](){const _0x3d9aea=_0x5dd398;delete this[_0x3d9aea(0x288)];}async[_0x5dd398(0x2fb)](_0x9a8c2f,_0x5256ac){const _0x3ca07f=_0x5dd398;if(_0x52f76b[_0x3ca07f(0x20d)](_0x4f3b4c['DataStream'],_0x3ca07f(0x6b0),this[_0x3ca07f(0x86e)][_0x3ca07f(0x330)](),_0x9a8c2f,_0x5256ac),this['messagesSent']+=0x1,_0x9a8c2f instanceof File){const _0xc9689f=await async function(_0x7f3ff4){const _0x466323=_0x3ca07f,_0x465567=[];for await(const _0x270357 of _0x5b7cda(_0x7f3ff4))_0x465567[_0x466323(0x28d)](_0x270357);return _0x465567;}(_0x9a8c2f);return this[_0x3ca07f(0x83b)]+=_0xc9689f[_0x3ca07f(0x1c3)]((_0x4c5aaa,_0x3a764a)=>_0x4c5aaa+_0x3a764a[_0x3ca07f(0x233)],0x0),void _0xc9689f[_0x3ca07f(0x710)]((_0x5ae570,_0x37e6e0)=>{const _0x5e4695=_0x3ca07f;this['outgoingTopic'][_0x5e4695(0x7b0)]({'sourceId':this[_0x5e4695(0x86e)][_0x5e4695(0x330)](),'destinationIds':_0x5256ac,'propagate':!0x0,'contentType':_0x47065f[_0x5e4695(0x447)]['File'],'content':{'name':_0x9a8c2f[_0x5e4695(0x80f)],'type':_0x9a8c2f['type'],'data':_0x5ae570,'index':_0x37e6e0,'total':_0xc9689f['length']}});});}this[_0x3ca07f(0x83b)]+=JSON['stringify'](_0x9a8c2f)[_0x3ca07f(0x5f4)],this[_0x3ca07f(0x7d5)]['publish']({'sourceId':this[_0x3ca07f(0x86e)]['getId'](),'destinationIds':_0x5256ac,'propagate':!0x0,'contentType':_0x47065f[_0x3ca07f(0x447)][_0x3ca07f(0x4ad)],'content':_0x9a8c2f});}[_0x5dd398(0x69f)](_0x32b070){const _0x117d90=_0x5dd398;return this[_0x117d90(0x288)]['subscribe'](_0x433bec=>{const _0x11a7bb=_0x117d90;switch(_0x52f76b[_0x11a7bb(0x20d)](_0x4f3b4c[_0x11a7bb(0x451)],_0x11a7bb(0x44e),this['owner'][_0x11a7bb(0x330)](),_0x433bec),_0x433bec[_0x11a7bb(0x2d6)]){case _0x47065f[_0x11a7bb(0x447)][_0x11a7bb(0x4ad)]:this[_0x11a7bb(0x513)]+=0x1,this[_0x11a7bb(0x845)]+=JSON['stringify'](_0x433bec[_0x11a7bb(0x69a)])['length'],_0x32b070(_0x433bec['sourceId'],_0x433bec[_0x11a7bb(0x69a)]);break;case _0x47065f[_0x11a7bb(0x447)][_0x11a7bb(0x3b5)]:this[_0x11a7bb(0x6c1)][_0x11a7bb(0x2d4)](_0x433bec[_0x11a7bb(0x69a)][_0x11a7bb(0x80f)])||this['fileChunks'][_0x11a7bb(0x549)](_0x433bec['content']['name'],{'chunksReceived':0x0,'bytesReceived':0x0,'checksum':'','content':[]});const _0x1fee10=this[_0x11a7bb(0x6c1)][_0x11a7bb(0x7ef)](_0x433bec['content'][_0x11a7bb(0x80f)]);if(_0x1fee10['chunksReceived']+=0x1,_0x1fee10['bytesReceived']+=_0x433bec[_0x11a7bb(0x69a)]['data']['byteLength'],_0x1fee10[_0x11a7bb(0x69a)]&&(_0x1fee10[_0x11a7bb(0x69a)][_0x433bec['content']['index']]=_0x433bec[_0x11a7bb(0x69a)][_0x11a7bb(0x46f)]),this['fileChunks'][_0x11a7bb(0x549)](_0x433bec['content']['name'],_0x1fee10),_0x1fee10[_0x11a7bb(0x79d)]+0x1<_0x433bec[_0x11a7bb(0x69a)][_0x11a7bb(0x1f4)])return;this[_0x11a7bb(0x513)]+=0x1,this[_0x11a7bb(0x845)]+=_0x1fee10[_0x11a7bb(0x845)],_0x1fee10[_0x11a7bb(0x69a)]&&_0x32b070(_0x433bec['sourceId'],(_0x1d3c0c=_0x1fee10[_0x11a7bb(0x69a)],_0x1a29b8=_0x433bec[_0x11a7bb(0x69a)][_0x11a7bb(0x80f)],_0x295634=_0x433bec[_0x11a7bb(0x69a)][_0x11a7bb(0x72a)],new File(_0x1d3c0c,_0x1a29b8,{'type':_0x295634}))),this[_0x11a7bb(0x6c1)]['delete'](_0x433bec[_0x11a7bb(0x69a)][_0x11a7bb(0x80f)]);}var _0x1d3c0c,_0x1a29b8,_0x295634;});}}function _0x1c03f0(){let _0x2b2561=[];return{'subscribe':_0x4180be=>(_0x2b2561['push'](_0x4180be),()=>{const _0x2c6a1a=a0_0x553c;_0x2b2561=_0x2b2561[_0x2c6a1a(0x60e)](_0x388179=>_0x388179!==_0x4180be);}),'publish':_0x27c895=>{_0x2b2561['forEach'](_0x2e286a=>_0x2e286a(_0x27c895));}};}function _0x3835d4(){let _0x4d1ea0;return{'subscribe':_0x22ab34=>(_0x4d1ea0=_0x22ab34,()=>{_0x4d1ea0=void 0x0;}),'publish':_0x2f7c47=>{_0x4d1ea0&&_0x4d1ea0(_0x2f7c47);}};}class _0x5d7ea7{[_0x5dd398(0x616)];[_0x5dd398(0x2af)];['tableObserver'];['eventListener']=_0x3835d4();[_0x5dd398(0x5ed)];constructor(_0x4b3350,_0x4bd2e8,_0x4410de){const _0x34f860=_0x5dd398;this[_0x34f860(0x616)]=_0x4b3350,this['tableName']=_0x4bd2e8,this['tableObserver']=_0x4410de;}['destroy'](){const _0x551bc6=_0x5dd398;this[_0x551bc6(0x5ed)]?.();}async['get'](_0x14c319){const _0xf533b6=_0x5dd398,_0x455386={'key':_0x14c319,'tableName':this['tableName'],'action':_0x299d3d[_0xf533b6(0x424)]};return this[_0xf533b6(0x59b)][_0xf533b6(0x7b0)](_0x455386),this[_0xf533b6(0x616)][_0xf533b6(0x7ef)](_0x14c319);}async[_0x5dd398(0x549)](_0x307b5b,_0x225570,_0x18505e=!0x0){const _0xf3e5cb=_0x5dd398;this[_0xf3e5cb(0x278)](_0x225570);const _0x3a1a83=await this[_0xf3e5cb(0x616)][_0xf3e5cb(0x7ef)](_0x307b5b),_0x121985=await this[_0xf3e5cb(0x616)][_0xf3e5cb(0x549)](_0x307b5b,_0x225570),_0x275a8f=_0x3a1a83?_0x1d1adc['Update']:_0x1d1adc['Add'];if(this['publish'](_0x275a8f,_0x121985),!_0x18505e)return _0x121985;const _0x53f5ea={'key':_0x307b5b,'tableName':this[_0xf3e5cb(0x2af)],'action':_0x275a8f,'value':_0x121985};return this[_0xf3e5cb(0x59b)]['publish'](_0x53f5ea),_0x121985;}async[_0x5dd398(0x6f5)](_0x5a1ca5){const _0x1aa18d=_0x5dd398;this[_0x1aa18d(0x278)](_0x5a1ca5);const _0x45ac14=await this[_0x1aa18d(0x616)][_0x1aa18d(0x6f5)](_0x5a1ca5),_0x20ecd4={'key':_0x45ac14['id'],'tableName':this['tableName'],'action':_0x1d1adc['Add'],'value':_0x45ac14};return this[_0x1aa18d(0x59b)][_0x1aa18d(0x7b0)](_0x20ecd4),this[_0x1aa18d(0x7b0)](_0x20ecd4['action'],_0x45ac14),_0x45ac14;}async[_0x5dd398(0x2d8)](_0x5f2a62,_0x34a18c=!0x0){const _0x5b1d6b=_0x5dd398,_0x582aff=await this[_0x5b1d6b(0x616)][_0x5b1d6b(0x7ef)](_0x5f2a62);if(!_0x582aff)return;await this[_0x5b1d6b(0x616)][_0x5b1d6b(0x2d8)](_0x5f2a62);const _0x40340e=_0x1d1adc['Delete'];if(this[_0x5b1d6b(0x7b0)](_0x40340e,_0x582aff),!_0x34a18c)return;const _0x2bbf9f={'key':_0x5f2a62,'tableName':this[_0x5b1d6b(0x2af)],'action':_0x40340e,'value':_0x582aff};this[_0x5b1d6b(0x59b)][_0x5b1d6b(0x7b0)](_0x2bbf9f);}async[_0x5dd398(0x1f6)](){const _0x4bc16b=_0x5dd398,_0x5d0d8f=await this[_0x4bc16b(0x656)]();for(const _0x5dd10d of _0x5d0d8f){const _0x4a6326=_0x1d1adc[_0x4bc16b(0x4a4)];this[_0x4bc16b(0x7b0)](_0x4a6326,_0x5dd10d);const _0x1ef75f={'key':_0x5dd10d['id'],'tableName':this[_0x4bc16b(0x2af)],'action':_0x4a6326,'value':_0x5dd10d};this[_0x4bc16b(0x59b)]['publish'](_0x1ef75f);}return this[_0x4bc16b(0x616)][_0x4bc16b(0x1f6)]();}async[_0x5dd398(0x656)](_0x22f4a3){const _0x3b6e63=_0x5dd398,_0x17bd8e={'key':'','tableName':this[_0x3b6e63(0x2af)],'action':_0x299d3d[_0x3b6e63(0x413)]};this['tableObserver'][_0x3b6e63(0x7b0)](_0x17bd8e);try{_0x22f4a3&&(_0x22f4a3=_0x22f4a3 instanceof _0x1400ef?_0x22f4a3['getQuery']():_0x1400ef[_0x3b6e63(0x7b7)](_0x22f4a3)['getQuery']());}catch(_0xd935ff){throw new _0x4ddc2b(_0xf6fbbf[_0x3b6e63(0x76d)],_0x3b6e63(0x851));}try{return await this['connector'][_0x3b6e63(0x656)](_0x22f4a3);}catch(_0x5bea32){let _0x80e600=_0x3b6e63(0x851);throw _0x5bea32 instanceof Error&&(_0x80e600=_0x5bea32['message']),new _0x4ddc2b(_0xf6fbbf[_0x3b6e63(0x76d)],_0x80e600);}}async['count'](_0x5ce5f0){const _0x7464d8=_0x5dd398,_0x542fab={'key':'','tableName':this[_0x7464d8(0x2af)],'action':_0x299d3d['Count']};this[_0x7464d8(0x59b)][_0x7464d8(0x7b0)](_0x542fab);try{_0x5ce5f0&&(_0x5ce5f0=_0x5ce5f0 instanceof _0x1400ef?_0x5ce5f0[_0x7464d8(0x379)]():_0x1400ef[_0x7464d8(0x7b7)](_0x5ce5f0)['getQuery']());}catch(_0x2b8012){throw new _0x4ddc2b(_0xf6fbbf['KeyValueDatabaseInvalidQuery'],_0x7464d8(0x851));}try{return await this[_0x7464d8(0x616)][_0x7464d8(0x73a)](_0x5ce5f0);}catch(_0x1be1c1){let _0x1eaef7='Invalid\x20query';throw _0x1be1c1 instanceof Error&&(_0x1eaef7=_0x1be1c1[_0x7464d8(0x3b2)]),new _0x4ddc2b(_0xf6fbbf[_0x7464d8(0x76d)],_0x1eaef7);}}[_0x5dd398(0x34f)](){const _0x3e2e02=_0x5dd398;return this['connector'][_0x3e2e02(0x34f)]();}[_0x5dd398(0x431)](_0x49e942){const _0x3b6b7b=_0x5dd398;this[_0x3b6b7b(0x5ed)]=this[_0x3b6b7b(0x5a5)][_0x3b6b7b(0x431)](_0x49e942);}['unsubscribe'](){const _0x163348=_0x5dd398;this[_0x163348(0x5ed)]?.();}[_0x5dd398(0x7b0)](_0x5f2d6c,_0x13097a){const _0xadf9a6=_0x5dd398,_0xa5b3dd=this['buildTableEvent'](_0x5f2d6c,_0x13097a);this[_0xadf9a6(0x5a5)][_0xadf9a6(0x7b0)](_0xa5b3dd);}[_0x5dd398(0x2ab)](_0xd521f7,_0x55948f){const _0x58d697=_0x5dd398;let _0x2a3ec9;switch(_0xd521f7){case _0x1d1adc[_0x58d697(0x25a)]:_0x2a3ec9=_0x58d697(0x6f5);break;case _0x1d1adc[_0x58d697(0x78b)]:_0x2a3ec9='update';break;case _0x1d1adc[_0x58d697(0x4a4)]:_0x2a3ec9=_0x58d697(0x2d8);}return{'action':_0x2a3ec9,'value':_0x55948f};}['validateValue'](_0x268802){const _0x4b850c=_0x5dd398;if('object'!=typeof _0x268802||null===_0x268802)throw new _0x4ddc2b(_0xf6fbbf[_0x4b850c(0x625)],'Invalid\x20value.\x20Must\x20be\x20an\x20object.');for(const _0x470f6b in _0x268802){const _0x59e12b=_0x268802[_0x470f6b];if(_0x4b850c(0x697)!=typeof _0x59e12b||_0x59e12b instanceof Date){if(![_0x4b850c(0x542),'number',_0x4b850c(0x3ca)][_0x4b850c(0x30f)](typeof _0x59e12b))throw new _0x4ddc2b(_0xf6fbbf[_0x4b850c(0x625)],_0x4b850c(0x6cd)+_0x470f6b+_0x4b850c(0x72e));}else this[_0x4b850c(0x278)](_0x59e12b);}}}class _0x51ae48 extends _0x33028e{[_0x5dd398(0x5fb)];['clusterId'];[_0x5dd398(0x6eb)];['db'];[_0x5dd398(0x600)];['tables']=new Map();['tableObserver'];[_0x5dd398(0x262)];[_0x5dd398(0x3c5)];['isSync'];['syncResolve'];[_0x5dd398(0x372)]=[];['timeoutCallback']=()=>{};[_0x5dd398(0x5e6)];[_0x5dd398(0x5a5)]=_0x3835d4();[_0x5dd398(0x5ed)];[_0x5dd398(0x7dd)]=[];[_0x5dd398(0x7b4)];['debounceStats'];[_0x5dd398(0x22f)]=0x0;[_0x5dd398(0x7e9)]=0x0;constructor(_0x9877c3,_0x5a5f06,_0x3105fa,_0x30b7e8,_0x2d97ee,_0x4945e7){const _0x14f3b2=_0x5dd398;if(_0x14f3b2(0x542)!=typeof _0x5a5f06)throw new _0x4ddc2b(_0xf6fbbf[_0x14f3b2(0x72b)],'Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string');if(super(_0x9877c3,_0x5a5f06),this[_0x14f3b2(0x5fb)]=_0x9877c3,this['clusterId']=_0x3105fa,this['vendorId']=_0x30b7e8,this['dbKey']=_0x14f3b2(0x528)+this[_0x14f3b2(0x6eb)]+'ccc'+this[_0x14f3b2(0x1ff)]+_0x14f3b2(0x528)+this[_0x14f3b2(0x667)],this[_0x14f3b2(0x59b)]=_0x3835d4(),this['isSync']=new Promise(_0x1f8750=>{const _0x48a2a2=_0x14f3b2;this[_0x48a2a2(0x6d1)]=_0x1f8750;}),_0x2d97ee instanceof _0x39cb6b)this[_0x14f3b2(0x7b4)]=_0x2d97ee[_0x14f3b2(0x287)]();else{const [_0x34c147,_0x24ed36]=_0x39cb6b[_0x14f3b2(0x22a)](_0x2d97ee);if(!_0x34c147)throw new _0x4ddc2b(_0xf6fbbf['KeyValueDatabaseInvalidLayout'],_0x14f3b2(0x5be)+_0x24ed36);this['layout']=_0x2d97ee;}this[_0x14f3b2(0x55f)](this['layout']),this['db']=new _0x4945e7(this[_0x14f3b2(0x600)],this[_0x14f3b2(0x7b4)]),this['sendStats']();}[_0x5dd398(0x567)](){const _0x57b482=_0x5dd398;this[_0x57b482(0x850)]();}[_0x5dd398(0x323)](){const _0x1c6c00=_0x5dd398;return _0x47065f[_0x1c6c00(0x447)][_0x1c6c00(0x550)];}[_0x5dd398(0x255)](){const _0xfcbca3=_0x5dd398;this['db'][_0xfcbca3(0x362)](),this[_0xfcbca3(0x3c5)]?.(),clearTimeout(this[_0xfcbca3(0x6a4)]),delete this[_0xfcbca3(0x6a4)],super['destroy']();}[_0x5dd398(0x362)](){const _0x202079=_0x5dd398;this[_0x202079(0x7fa)][_0x202079(0x7b0)]({'sourceId':_0x384096,'messageType':_0x3efa6a['Content'],'content':{'type':_0x47bc97[_0x202079(0x3be)],'label':this[_0x202079(0x667)]}});}[_0x5dd398(0x324)](_0x421c32){const _0x1840e4=_0x5dd398,_0x34146b=this['tables']['get'](_0x421c32);if(_0x34146b)return _0x34146b;try{if(!this['db']['hasTable'](_0x421c32))throw new _0x4ddc2b(_0xf6fbbf[_0x1840e4(0x519)],_0x1840e4(0x419));const _0x12e069=new _0x5d7ea7(this['db'][_0x1840e4(0x269)](_0x421c32),_0x421c32,this[_0x1840e4(0x59b)]);return this[_0x1840e4(0x85f)][_0x1840e4(0x549)](_0x421c32,_0x12e069),{'get':_0x12e069[_0x1840e4(0x7ef)]['bind'](_0x12e069),'set':_0x12e069[_0x1840e4(0x549)][_0x1840e4(0x437)](_0x12e069),'add':_0x12e069[_0x1840e4(0x6f5)][_0x1840e4(0x437)](_0x12e069),'delete':_0x12e069[_0x1840e4(0x2d8)][_0x1840e4(0x437)](_0x12e069),'clear':_0x12e069['clear'][_0x1840e4(0x437)](_0x12e069),'list':_0x12e069[_0x1840e4(0x656)]['bind'](_0x12e069),'count':_0x12e069[_0x1840e4(0x73a)][_0x1840e4(0x437)](_0x12e069),'subscribe':_0x12e069[_0x1840e4(0x431)][_0x1840e4(0x437)](_0x12e069),'unsubscribe':_0x12e069[_0x1840e4(0x7de)][_0x1840e4(0x437)](_0x12e069)};}catch(_0x59164a){throw new _0x4ddc2b(_0xf6fbbf[_0x1840e4(0x778)],_0x1840e4(0x523));}}['subscribe'](_0x1b690c){const _0x5c4a34=_0x5dd398;this[_0x5c4a34(0x5ed)]=this[_0x5c4a34(0x5a5)][_0x5c4a34(0x431)](_0x1b690c);}[_0x5dd398(0x7de)](){const _0x2f5f63=_0x5dd398;this['listenerUnsubscriber']?.(),this[_0x2f5f63(0x5ed)]=void 0x0;}async[_0x5dd398(0x42f)](){const _0x1773b8=_0x5dd398,_0xd61683=[_0x2e087d,_0x2c03b4],_0xcf7d7f=[];try{await this['db'][_0x1773b8(0x42f)]();const _0x19c950=this['db']['getTableConnector'](_0x2c03b4),_0xbb2127=await _0x19c950[_0x1773b8(0x656)](),{id:_0x5d69a7,layout:_0x47e305}=_0xbb2127[0x0]??{};if(_0x47e305){for(const _0x55457a in _0x47e305)_0xd61683['includes'](_0x55457a)||this['db'][_0x1773b8(0x3da)](_0x55457a)||_0xcf7d7f[_0x1773b8(0x28d)](_0x55457a);_0x19c950[_0x1773b8(0x549)](_0x5d69a7,{'layout':this[_0x1773b8(0x7b4)]});}else _0x19c950['add']({'layout':this[_0x1773b8(0x7b4)]});}catch(_0x2e88df){throw new _0x4ddc2b(_0xf6fbbf['KeyValueDatabaseNotOpen'],_0x2e88df[_0x1773b8(0x3b2)]||_0x1773b8(0x7f6));}this[_0x1773b8(0x3e2)](),this[_0x1773b8(0x792)](),this['setOnTableWriteHandler'](),_0xcf7d7f[_0x1773b8(0x710)](_0x262ced=>this['deleteTransactionsForTable'](_0x262ced));}async['sync'](_0x1be6f0,_0x247878){const _0x2405d3=_0x5dd398;_0x1be6f0?(this[_0x2405d3(0x797)]=_0x247878,this['syncTimeout']=setTimeout(_0x247878,_0x42c26a),this[_0x2405d3(0x7fa)][_0x2405d3(0x7b0)]({'sourceId':this[_0x2405d3(0x5fb)][_0x2405d3(0x330)](),'destinationIds':[_0x1be6f0],'messageType':_0x3efa6a[_0x2405d3(0x5d2)],'content':{'type':_0x47bc97[_0x2405d3(0x30a)],'label':this[_0x2405d3(0x667)]}}),await this[_0x2405d3(0x4e2)]):setTimeout(()=>{const _0xcffef1=_0x2405d3;this[_0xcffef1(0x723)](),this[_0xcffef1(0x7bd)]();},0x0);}async[_0x5dd398(0x5cd)](_0x42cf87){const _0x3605c1=_0x5dd398;if(!this[_0x3605c1(0x262)])throw new _0x189e7c(_0x189e7c[_0x3605c1(0x32a)][_0x3605c1(0x31c)]);await this[_0x3605c1(0x4e2)];const _0x2952ca=await this[_0x3605c1(0x262)]['list']();this[_0x3605c1(0x7fa)][_0x3605c1(0x7b0)]({'sourceId':this[_0x3605c1(0x5fb)][_0x3605c1(0x330)](),'destinationIds':[_0x42cf87],'messageType':_0x3efa6a[_0x3605c1(0x5d2)],'content':{'type':_0x47bc97[_0x3605c1(0x2c1)],'label':this['label'],'transactions':_0x2952ca}});}async[_0x5dd398(0x507)](_0x2dba8a,_0x1fb5d7){const _0x4ad174=_0x5dd398;if(!this[_0x4ad174(0x262)])throw new _0x189e7c(_0x189e7c[_0x4ad174(0x32a)][_0x4ad174(0x31c)]);this[_0x4ad174(0x723)]();const _0x54f075=await this[_0x4ad174(0x262)][_0x4ad174(0x656)]();for(const _0x591d09 of _0x54f075){const _0x183005=_0x1fb5d7['find'](_0x5346fc=>_0x5346fc['id']===_0x591d09['id']);if(_0x183005&&this[_0x4ad174(0x320)](_0x591d09,_0x183005)<=0x0)continue;const [_0x522288,_0x283684]=_0x591d09['id']['split']('::'),_0xc89ff6=this[_0x4ad174(0x85f)][_0x4ad174(0x7ef)](_0x522288),_0x304118=await _0xc89ff6?.[_0x4ad174(0x7ef)](_0x283684);_0x591d09[_0x4ad174(0x309)]=_0x304118,this[_0x4ad174(0x2fb)](_0x591d09);}for(const _0x3d1a0f of _0x1fb5d7){const _0x20c759=await this['transactionTable'][_0x4ad174(0x7ef)](_0x3d1a0f['id']);if(!(_0x20c759&&this[_0x4ad174(0x320)](_0x3d1a0f,_0x20c759)<=0x0)){if(_0x3d1a0f[_0x4ad174(0x4c1)]===_0x1d1adc[_0x4ad174(0x4a4)]){const [_0x14406b,_0x408b16]=_0x3d1a0f['id']['split']('::'),_0x294666=this[_0x4ad174(0x85f)][_0x4ad174(0x7ef)](_0x14406b);await _0x294666?.[_0x4ad174(0x2d8)](_0x408b16,!0x1);}else this[_0x4ad174(0x372)][_0x4ad174(0x28d)](_0x3d1a0f['id']);}}if(0x0===this['transactionsToSync']['length'])return this['clearSyncTimeout'](),void this[_0x4ad174(0x7bd)]();this[_0x4ad174(0x5e6)]=setTimeout(this[_0x4ad174(0x797)],_0x42c26a),this[_0x4ad174(0x7fa)][_0x4ad174(0x7b0)]({'sourceId':this['localNode'][_0x4ad174(0x330)](),'destinationIds':[_0x2dba8a],'messageType':_0x3efa6a[_0x4ad174(0x5d2)],'content':{'type':_0x47bc97[_0x4ad174(0x621)],'label':this['label'],'transactionIds':this['transactionsToSync']}});}async[_0x5dd398(0x701)](_0x71a71f,_0xaf23d3){const _0x1c9174=_0x5dd398;if(!this[_0x1c9174(0x262)])throw new _0x189e7c(_0x189e7c[_0x1c9174(0x32a)][_0x1c9174(0x31c)]);for(const _0x1f17fb of _0xaf23d3){const _0x3b9465=await this[_0x1c9174(0x262)][_0x1c9174(0x7ef)](_0x1f17fb);if(!_0x3b9465)continue;const [_0x3669f1,_0x3347b4]=_0x1f17fb['split']('::'),_0xb351ce=this[_0x1c9174(0x85f)][_0x1c9174(0x7ef)](_0x3669f1),_0x473a3e=await _0xb351ce?.[_0x1c9174(0x7ef)](_0x3347b4);_0x3b9465[_0x1c9174(0x309)]=_0x473a3e,this[_0x1c9174(0x2fb)](_0x3b9465,[_0x71a71f]);}}async[_0x5dd398(0x2fc)](_0x33f504){const _0x289143=_0x5dd398;if(!this[_0x289143(0x262)])throw new _0x189e7c(_0x189e7c[_0x289143(0x32a)]['KeyValueDatabaseTransactionTableNotInitialized']);const _0x29b9c1=await this[_0x289143(0x262)][_0x289143(0x7ef)](_0x33f504['id']);if(_0x29b9c1&&this[_0x289143(0x320)](_0x33f504,_0x29b9c1)<=0x0)return;const _0x41df87={..._0x33f504};return delete _0x41df87[_0x289143(0x309)],await this['transactionTable'][_0x289143(0x549)](_0x33f504['id'],_0x41df87),_0x33f504;}[_0x5dd398(0x320)](_0x15e2ab,_0x48ea06){const _0x154043=_0x5dd398;return _0x15e2ab[_0x154043(0x426)]<_0x48ea06[_0x154043(0x426)]?-0x1:_0x15e2ab[_0x154043(0x426)]>_0x48ea06[_0x154043(0x426)]?0x1:_0x15e2ab['priority']-_0x48ea06[_0x154043(0x3f5)];}async[_0x5dd398(0x537)](_0x444d7e){const _0x417009=_0x5dd398;if(!this[_0x417009(0x262)])throw new _0x189e7c(_0x189e7c[_0x417009(0x32a)][_0x417009(0x31c)]);const _0x22a9f7=_0x444d7e[_0x417009(0x2af)]+'::'+_0x444d7e[_0x417009(0x538)],_0x2bab3c=await _0x40377c['getEstimatedTimestamp'](),_0x7b5f08={'id':_0x22a9f7,'priority':Math[_0x417009(0x3bb)](),'timestamp':_0x2bab3c,'action':_0x444d7e[_0x417009(0x4c1)]};if(await this[_0x417009(0x2fc)](_0x7b5f08))return _0x7b5f08;}async['deleteTransactionsForTable'](_0x311821){const _0xbfae07=_0x5dd398;if(!this['transactionTable'])throw new _0x189e7c(_0x189e7c['codes']['KeyValueDatabaseTransactionTableNotInitialized']);const _0xd781bc=_0x1400ef['index']('id')[_0xbfae07(0x5a7)](_0xbfae07(0x381),[_0x311821+'::',_0x311821+_0xbfae07(0x1e1)]),_0x3006af=await this[_0xbfae07(0x262)][_0xbfae07(0x656)](_0xd781bc['getQuery']());for(const _0x49ddd6 of _0x3006af)await this[_0xbfae07(0x262)]['delete'](_0x49ddd6['id']);}[_0x5dd398(0x792)](){const _0x526dc4=_0x5dd398;this[_0x526dc4(0x69f)](async(_0x284a6e,_0x51ad08)=>{const _0x42611e=_0x526dc4;if(_0x51ad08 instanceof File)return;if(!await this['writeTransaction'](_0x51ad08))return void this[_0x42611e(0x1fe)](_0x51ad08);if(!_0x51ad08[_0x42611e(0x309)])throw new _0x189e7c(_0x189e7c[_0x42611e(0x32a)]['KeyValueDatabaseTransactionValueNotSet']);const [_0x13c25c,_0x4b0b09]=_0x51ad08['id'][_0x42611e(0x7b3)]('::'),_0x3085ff=this[_0x42611e(0x85f)][_0x42611e(0x7ef)](_0x13c25c);if(!_0x3085ff)throw new _0x189e7c(_0x189e7c[_0x42611e(0x32a)][_0x42611e(0x244)],{'table':_0x3085ff});let _0x37fa36=0x0;switch(_0x51ad08[_0x42611e(0x4c1)]){case _0x1d1adc[_0x42611e(0x25a)]:case _0x1d1adc['Update']:{const _0x1350ba=_0x3085ff[_0x42611e(0x549)](_0x4b0b09,_0x51ad08['value'],!0x1);_0x37fa36=JSON[_0x42611e(0x698)](_0x51ad08[_0x42611e(0x309)])['length'],this[_0x42611e(0x372)][_0x42611e(0x30f)](_0x51ad08['id'])&&this['syncTransactionsWritten']['push'](_0x1350ba);break;}case _0x1d1adc[_0x42611e(0x4a4)]:{const _0x57d02c=_0x3085ff[_0x42611e(0x2d8)](_0x4b0b09,!0x1);this[_0x42611e(0x372)][_0x42611e(0x30f)](_0x51ad08['id'])&&this[_0x42611e(0x7dd)]['push'](_0x57d02c);break;}}_0x52f76b[_0x42611e(0x4b5)](_0x26ae6a['KeyValueDatabase'],{'type':_0x42611e(0x7c3),'label':this['label'],'nodeId':this[_0x42611e(0x5fb)][_0x42611e(0x330)](),'nodeType':this[_0x42611e(0x5fb)][_0x42611e(0x72a)],'clusterId':this[_0x42611e(0x1ff)],'tableName':_0x13c25c,'key':_0x4b0b09,'size':_0x37fa36}),this[_0x42611e(0x1fe)](_0x51ad08);});}[_0x5dd398(0x81a)](){const _0x128f13=_0x5dd398;this[_0x128f13(0x3c5)]=this[_0x128f13(0x59b)][_0x128f13(0x431)](async _0xccb94b=>{const _0x519ccf=_0x128f13;let _0x5419ed=0x0;switch(_0xccb94b[_0x519ccf(0x4c1)]){case _0x1d1adc[_0x519ccf(0x25a)]:case _0x1d1adc[_0x519ccf(0x78b)]:case _0x1d1adc['Delete']:{const _0x412821=await this['getTransactionFromTableWriteEvent'](_0xccb94b);if(!_0x412821)return;_0x412821[_0x519ccf(0x309)]=_0xccb94b[_0x519ccf(0x309)],this[_0x519ccf(0x2fb)](_0x412821),_0x5419ed=JSON[_0x519ccf(0x698)](_0xccb94b[_0x519ccf(0x309)])[_0x519ccf(0x5f4)],this[_0x519ccf(0x22f)]+=0x1;break;}case _0x299d3d[_0x519ccf(0x424)]:case _0x299d3d[_0x519ccf(0x413)]:case _0x299d3d[_0x519ccf(0x864)]:this[_0x519ccf(0x7e9)]+=0x1;}_0x52f76b[_0x519ccf(0x4b5)](_0x26ae6a[_0x519ccf(0x550)],{'type':_0xccb94b['action'],'label':this[_0x519ccf(0x667)],'nodeId':this['localNode'][_0x519ccf(0x330)](),'nodeType':this['localNode'][_0x519ccf(0x72a)],'clusterId':this[_0x519ccf(0x1ff)],'tableName':_0xccb94b[_0x519ccf(0x2af)],'key':_0xccb94b[_0x519ccf(0x538)],'size':_0x5419ed}),this[_0x519ccf(0x850)]();});}[_0x5dd398(0x3e2)](){const _0x3a1377=_0x5dd398;this['db']&&(this[_0x3a1377(0x262)]||(this['transactionTable']=this['db'][_0x3a1377(0x269)](_0x2e087d)));}[_0x5dd398(0x723)](){const _0x1a7e55=_0x5dd398;this['syncTimeout']&&(clearTimeout(this[_0x1a7e55(0x5e6)]),delete this[_0x1a7e55(0x5e6)]);}[_0x5dd398(0x7bd)](){const _0x4d3c33=_0x5dd398;this[_0x4d3c33(0x5a5)][_0x4d3c33(0x7b0)]({'event':_0x47065f['DatabaseEvent']['SyncComplete']}),this[_0x4d3c33(0x6d1)]?.(!0x0),delete this[_0x4d3c33(0x6d1)],this['sendStats']();}async[_0x5dd398(0x430)](){const _0x407943=_0x5dd398;await Promise[_0x407943(0x7c2)](this[_0x407943(0x7dd)]),this['publishSyncCompleted']();}[_0x5dd398(0x1fe)](_0x1dea2e){const _0x2834ac=_0x5dd398;this[_0x2834ac(0x372)]['includes'](_0x1dea2e['id'])&&(this[_0x2834ac(0x723)](),this['transactionsToSync']=this[_0x2834ac(0x372)][_0x2834ac(0x60e)](_0x1c3d13=>_0x1c3d13!==_0x1dea2e['id']),0x0!==this[_0x2834ac(0x372)][_0x2834ac(0x5f4)]?this['syncTimeout']=setTimeout(this[_0x2834ac(0x797)],_0x42c26a):this[_0x2834ac(0x430)]());}['sendStats'](){const _0x3ae880=_0x5dd398;this[_0x3ae880(0x6a4)]&&clearTimeout(this['debounceStats']),this[_0x3ae880(0x6a4)]=setTimeout(async()=>{const _0x15ee66=_0x3ae880;delete this[_0x15ee66(0x6a4)];let _0x5cf2c5=0x0;for(const _0x88766f of this[_0x15ee66(0x85f)][_0x15ee66(0x4e3)]())_0x5cf2c5+=await _0x88766f[_0x15ee66(0x34f)]();this[_0x15ee66(0x7fa)][_0x15ee66(0x7b0)]({'sourceId':_0x384096,'messageType':_0x3efa6a['Content'],'content':{'type':_0x47bc97[_0x15ee66(0x439)],'label':this['label'],'stats':{'timestamp':Date[_0x15ee66(0x4bb)](),'storage':_0x5cf2c5,'messagesSent':this[_0x15ee66(0x355)],'messagesReceived':this[_0x15ee66(0x513)],'bytesSent':this[_0x15ee66(0x83b)],'bytesReceived':this[_0x15ee66(0x845)],'writes':this[_0x15ee66(0x22f)],'reads':this[_0x15ee66(0x7e9)],'prompts':0x0,'tokens':0x0}}}),_0x52f76b['logStorage'](_0x26ae6a['KeyValueDatabase'],_0x15ee66(0x528)+this[_0x15ee66(0x1ff)]+_0x15ee66(0x528)+this[_0x15ee66(0x667)],_0x5cf2c5);},0x1388);}[_0x5dd398(0x55f)](_0x4087d4){const _0x14e1c4=_0x5dd398;if(_0x4087d4['tables'][_0x2e087d])throw new _0x4ddc2b(_0xf6fbbf[_0x14e1c4(0x1e5)],_0x14e1c4(0x67f)+_0x2e087d+_0x14e1c4(0x3b1));if(_0x4087d4['tables'][_0x2c03b4])throw new _0x4ddc2b(_0xf6fbbf[_0x14e1c4(0x1e5)],_0x14e1c4(0x67f)+_0x2c03b4+_0x14e1c4(0x3b1));_0x4087d4[_0x14e1c4(0x85f)][_0x2e087d]={'indexes':[]},_0x4087d4[_0x14e1c4(0x85f)][_0x2c03b4]={'indexes':[]};}}const _0x4dcb50=require('@crewdle/mist-connector-opfs'),_0x11c2f1=require('@crewdle/mist-connector-indexed-db'),_0x1b0969=require('@crewdle/mist-connector-webrtc-browser'),_0x78b384=0x1fc00000;var _0x23cfc4,_0x519608,_0x3bfb21,_0x4d5e61,_0x8e4dee,_0x3a7a00,_0x4a6ae2,_0x2219c8,_0x2ff4e6;!function(_0x3c365a){const _0x239020=_0x5dd398;_0x3c365a[_0x239020(0x829)]=_0x239020(0x829),_0x3c365a[_0x239020(0x41d)]='AudioOutput',_0x3c365a[_0x239020(0x51d)]='AudioVolume',_0x3c365a['Backgrounds']=_0x239020(0x790),_0x3c365a['DeviceConfig']=_0x239020(0x54f),_0x3c365a[_0x239020(0x2c5)]=_0x239020(0x2c5),_0x3c365a[_0x239020(0x85c)]=_0x239020(0x85c),_0x3c365a['ScreenSharing']='ScreenSharing',_0x3c365a[_0x239020(0x6ea)]=_0x239020(0x6ea),_0x3c365a[_0x239020(0x6e7)]=_0x239020(0x6e7);}(_0x23cfc4||(_0x23cfc4={}));class _0x2a68d2{[_0x5dd398(0x480)];[_0x5dd398(0x515)];[_0x5dd398(0x4cb)];constructor(_0x5c0bfd=new Map(),_0x19e53c=new Map(),_0x1ef279=new EventTarget()){const _0x133406=_0x5dd398;this[_0x133406(0x480)]=_0x5c0bfd,this[_0x133406(0x515)]=_0x19e53c,this[_0x133406(0x4cb)]=_0x1ef279;}[_0x5dd398(0x70a)]=(_0x2c5125,_0x5a476b)=>this[_0x5dd398(0x480)]['has'](_0x2c5125)?(_0x52f76b[_0x5dd398(0x20d)](_0x4f3b4c[_0x5dd398(0x612)],'Emitting\x20event\x20on\x20local\x20cluster',{'event':_0x2c5125,'data':_0x5a476b}),this[_0x5dd398(0x4cb)][_0x5dd398(0x414)](new CustomEvent(_0x2c5125,{'detail':_0x5a476b})),!0x0):(this[_0x5dd398(0x4ba)](_0x2c5125,_0x5a476b),!0x1);['on']=(_0x1525fa,_0x592a2e)=>{const _0x4f74b8=_0x5dd398,_0x587c54=_0x4bcbec=>{const _0x59bfab=a0_0x553c;_0x52f76b[_0x59bfab(0x20d)](_0x4f3b4c[_0x59bfab(0x612)],_0x59bfab(0x444),_0x4bcbec['type'],_0x4bcbec['detail']),_0x592a2e(_0x4bcbec[_0x59bfab(0x367)]);};return this['registeredListeners'][_0x4f74b8(0x549)](_0x1525fa,_0x587c54),this[_0x4f74b8(0x4cb)]['addEventListener'](_0x1525fa,_0x587c54),_0x52f76b[_0x4f74b8(0x20d)](_0x4f3b4c[_0x4f74b8(0x35a)],'Subscribing\x20to\x20an\x20event:\x20on',_0x1525fa,_0x592a2e),this[_0x4f74b8(0x299)](_0x1525fa),this;};['off'](_0x4d8ca7){const _0x570ccb=_0x5dd398;if(!_0x4d8ca7)return this[_0x570ccb(0x480)][_0x570ccb(0x710)]((_0x4b58eb,_0x250153)=>{const _0x312ef0=_0x570ccb;this[_0x312ef0(0x4cb)][_0x312ef0(0x297)](_0x250153,_0x4b58eb);}),void this['registeredListeners'][_0x570ccb(0x1f6)]();_0x570ccb(0x542)==typeof _0x4d8ca7&&this['removeListener'](_0x4d8ca7),Array[_0x570ccb(0x575)](_0x4d8ca7)&&_0x4d8ca7[_0x570ccb(0x710)](_0x28ab28=>{const _0x32fc0f=_0x570ccb;this[_0x32fc0f(0x315)](_0x28ab28);});}['removeListener'](_0x217f50){const _0x22e237=_0x5dd398,_0x500252=this[_0x22e237(0x480)]['get'](_0x217f50);_0x500252&&(this['eventTarget'][_0x22e237(0x297)](_0x217f50,_0x500252),this[_0x22e237(0x480)][_0x22e237(0x2d8)](_0x217f50));}['bufferEvent'](_0x59d643,_0x13513a){const _0x484bbf=_0x5dd398;_0x52f76b[_0x484bbf(0x20d)](_0x4f3b4c[_0x484bbf(0x612)],_0x484bbf(0x784),{'event':_0x59d643,'data':_0x13513a});const _0x58eb87=this[_0x484bbf(0x515)]['get'](_0x59d643)||[];this[_0x484bbf(0x515)]['set'](_0x59d643,[..._0x58eb87,_0x13513a]);}[_0x5dd398(0x299)](_0xd66675){const _0x17b3a1=_0x5dd398,_0x1fc040=this[_0x17b3a1(0x515)][_0x17b3a1(0x7ef)](_0xd66675);_0x1fc040&&(_0x1fc040['forEach'](_0x28f99e=>{const _0x8fee08=_0x17b3a1;_0x52f76b[_0x8fee08(0x20d)](_0x4f3b4c['Events'],_0x8fee08(0x249),{'event':_0xd66675,'data':_0x28f99e}),this[_0x8fee08(0x4cb)][_0x8fee08(0x414)](new CustomEvent(_0xd66675,{'detail':_0x28f99e}));}),this[_0x17b3a1(0x515)][_0x17b3a1(0x2d8)](_0xd66675));}}class _0x3fffd2 extends Error{constructor(_0x36ba7c){super('Early\x20return:\x20'+_0x36ba7c);}}!function(_0x43a3e4){const _0x1a3e43=_0x5dd398;_0x43a3e4[_0x43a3e4[_0x1a3e43(0x2b4)]=0x0]=_0x1a3e43(0x2b4),_0x43a3e4[_0x43a3e4['Optimization']=0x1]=_0x1a3e43(0x4a7);}(_0x519608||(_0x519608={})),function(_0x433a12){const _0x125b3a=_0x5dd398;_0x433a12[_0x433a12[_0x125b3a(0x568)]=0x0]='Offer',_0x433a12[_0x433a12[_0x125b3a(0x23a)]=0x1]=_0x125b3a(0x23a),_0x433a12[_0x433a12[_0x125b3a(0x4da)]=0x2]=_0x125b3a(0x4da),_0x433a12[_0x433a12['Success']=0x3]=_0x125b3a(0x552),_0x433a12[_0x433a12[_0x125b3a(0x76a)]=0x4]=_0x125b3a(0x76a),_0x433a12[_0x433a12[_0x125b3a(0x328)]=0x5]='Restart',_0x433a12[_0x433a12['Disconnect']=0x6]=_0x125b3a(0x3fc),_0x433a12[_0x433a12[_0x125b3a(0x1ca)]=0x7]='Stats',_0x433a12[_0x433a12[_0x125b3a(0x46e)]=0x8]='OptimizationConnectionSuccess';}(_0x3bfb21||(_0x3bfb21={})),function(_0x41a743){const _0x12729c=_0x5dd398;_0x41a743[_0x41a743[_0x12729c(0x6cb)]=0x0]=_0x12729c(0x6cb),_0x41a743[_0x41a743[_0x12729c(0x4d5)]=0x1]=_0x12729c(0x4d5);}(_0x4d5e61||(_0x4d5e61={})),function(_0x52404c){const _0x2e7a91=_0x5dd398;_0x52404c[_0x2e7a91(0x2c5)]='media-stream';}(_0x8e4dee||(_0x8e4dee={})),function(_0x20c6b8){const _0x1f2c16=_0x5dd398;_0x20c6b8[_0x20c6b8[_0x1f2c16(0x65c)]=0x0]='NodeJoin',_0x20c6b8[_0x20c6b8[_0x1f2c16(0x663)]=0x1]=_0x1f2c16(0x663),_0x20c6b8[_0x20c6b8[_0x1f2c16(0x868)]=0x2]=_0x1f2c16(0x868),_0x20c6b8[_0x20c6b8['NodeLeave']=0x3]=_0x1f2c16(0x5b1);}(_0x3a7a00||(_0x3a7a00={})),function(_0x24ab75){const _0xab4177=_0x5dd398;_0x24ab75[_0x24ab75[_0xab4177(0x817)]=0x0]=_0xab4177(0x817),_0x24ab75[_0x24ab75[_0xab4177(0x470)]=0x1]='RemoteRemediation';}(_0x4a6ae2||(_0x4a6ae2={})),function(_0xd7ec28){const _0x19e1a6=_0x5dd398;_0xd7ec28[_0x19e1a6(0x48e)]=_0x19e1a6(0x4be),_0xd7ec28['Downgrade']=_0x19e1a6(0x471);}(_0x2219c8||(_0x2219c8={})),function(_0x2349c1){const _0x222514=_0x5dd398;_0x2349c1[_0x222514(0x4a2)]=_0x222514(0x3a0),_0x2349c1[_0x222514(0x531)]=_0x222514(0x66f);}(_0x2ff4e6||(_0x2ff4e6={}));const _0x45b644=require('aws-amplify'),_0x57e295=require('aws-amplify/utils'),_0x1caecf=require('@aws-amplify/api'),_0x2de5ad=require('@aws-amplify/core');class _0x1b998b{[_0x5dd398(0x1ff)];['localNode'];[_0x5dd398(0x3e8)];constructor(_0x289d4c,_0x67293e,_0x2c1b56){const _0x2a5ef9=_0x5dd398;this[_0x2a5ef9(0x1ff)]=_0x289d4c,this[_0x2a5ef9(0x5fb)]=_0x67293e,this[_0x2a5ef9(0x3e8)]=_0x2c1b56;}[_0x5dd398(0x279)](){const _0xc181b=_0x5dd398;return this[_0xc181b(0x5fb)][_0xc181b(0x330)]();}['getRemoteId'](){const _0x202bc5=_0x5dd398;return this[_0x202bc5(0x3e8)];}}var _0x497332,_0x351d2d,_0x24ec37;function _0x4becc8(_0x2c561f,_0x388147){return _0x2c561f['sourceId']===_0x388147;}function _0xcfcc2b(_0x3360c2,_0x41c333){const _0x27b447=_0x5dd398;return _0x3360c2['destinationIds']?.[_0x27b447(0x30f)](_0x41c333)??function(_0x46e6f2){const _0x597978=_0x27b447;return void 0x0===_0x46e6f2[_0x597978(0x7c9)];}(_0x3360c2);}function _0x5f4c61(_0x3c2e3b,{contentType:_0x63789,label:_0x276db0,remoteId:_0x3258bb}){return _0x3c2e3b+'-'+_0x63789+'-'+_0x276db0+'-'+_0x3258bb;}function _0x2c0011(_0x47bb49,_0x1d8411,_0x35984a){return''+_0x47bb49+_0x1d8411+_0x35984a;}function _0x5da49c(_0x456a09){const _0xb1386b=_0x5dd398;return _0x456a09===_0x351d2d[_0xb1386b(0x291)]?_0xb1386b(0x759):_0xb1386b(0x1d2);}function _0xec69ac(_0x51da41,_0x19a62d){const _0xb653ca=_0x5dd398;return{'label':_0x51da41[_0xb653ca(0x655)](),'contentType':_0x51da41[_0xb653ca(0x323)](),'remoteId':_0x19a62d['getRemoteId'](),'supportsContentType':_0x19a62d[_0xb653ca(0x300)]()[_0xb653ca(0x30f)](_0x51da41['getContentType']())};}!function(_0x28b3ae){const _0x5b084a=_0x5dd398;_0x28b3ae[_0x28b3ae[_0x5b084a(0x7ea)]=0x0]=_0x5b084a(0x7ea),_0x28b3ae[_0x28b3ae[_0x5b084a(0x34c)]=0x1]=_0x5b084a(0x34c),_0x28b3ae[_0x28b3ae[_0x5b084a(0x637)]=0x2]=_0x5b084a(0x637);}(_0x497332||(_0x497332={})),function(_0x583bc7){const _0x15578b=_0x5dd398;_0x583bc7[_0x15578b(0x291)]='in',_0x583bc7[_0x15578b(0x40f)]='out';}(_0x351d2d||(_0x351d2d={}));class _0x3a23e6{[_0x5dd398(0x831)];[_0x5dd398(0x243)];constructor(_0x19261d,_0x5445b0){const _0x4227f2=_0x5dd398;this['callback']=_0x19261d,this[_0x4227f2(0x243)]=_0x5445b0;}[_0x5dd398(0x7b2)](_0x54ebca){const _0x2e6568=_0x5dd398;this[_0x2e6568(0x831)](_0x54ebca);}async[_0x5dd398(0x737)](){const _0x2581c4=_0x5dd398;await this[_0x2581c4(0x243)]();}}class _0x1eb3bd{['callback'];[_0x5dd398(0x243)];constructor(_0x5961fd,_0x4752e9){const _0x32288f=_0x5dd398;this[_0x32288f(0x831)]=_0x5961fd,this[_0x32288f(0x243)]=_0x4752e9;}async[_0x5dd398(0x7b2)](_0x50141d){await this['callback'](_0x50141d);}async[_0x5dd398(0x737)](){const _0x2ba611=_0x5dd398;await this[_0x2ba611(0x243)]();}}function _0x4214db(_0x5da7eb=()=>{},_0x2cb13a=()=>!0x1,_0x5261e7=()=>{}){let _0x162a79,_0x56a88d,_0x21aa69=0x0;return{get 'size'(){return _0x21aa69;},get 'head'(){return _0x162a79;},get 'tail'(){return _0x56a88d;},set 'head'(_0xeeff9d){_0x162a79=_0xeeff9d;},set 'tail'(_0x34edac){_0x56a88d=_0x34edac;},'push'(_0x4fadcb,_0x249d72=!0x0){const _0x488672=a0_0x553c,_0x15738b={'value':_0x4fadcb};_0x249d72&&_0x2cb13a(_0x15738b)?_0x5da7eb():(_0x56a88d&&(_0x15738b[_0x488672(0x4cf)]=_0x56a88d,_0x56a88d[_0x488672(0x7fd)]=_0x15738b),_0x56a88d=_0x15738b,_0x162a79||(_0x162a79=_0x15738b),_0x21aa69+=0x1,_0x249d72&&_0x5da7eb());},'pop'(){const _0x26d83c=a0_0x553c;if(!_0x56a88d)return;const _0xa3007c=_0x56a88d['value'];return _0x56a88d=_0x56a88d[_0x26d83c(0x4cf)],_0x56a88d&&delete _0x56a88d['next'],_0x56a88d||(_0x162a79=void 0x0),_0x21aa69-=0x1,_0xa3007c;},'unshift'(_0x2d3fdb,_0x3c2a29=!0x0){const _0x13439f=a0_0x553c,_0xcad90a={'value':_0x2d3fdb};_0x3c2a29&&_0x2cb13a(_0xcad90a)?_0x5da7eb():(_0x162a79&&(_0x162a79[_0x13439f(0x4cf)]=_0xcad90a,_0xcad90a[_0x13439f(0x7fd)]=_0x162a79),_0x162a79=_0xcad90a,_0x56a88d||(_0x56a88d=_0xcad90a),_0x21aa69+=0x1,_0x3c2a29&&_0x5da7eb());},'shift'(){const _0x5a6fea=a0_0x553c;if(!_0x162a79)return;const _0x5d5603=_0x162a79['value'];return _0x162a79=_0x162a79['next'],_0x162a79&&delete _0x162a79[_0x5a6fea(0x4cf)],_0x162a79||(_0x56a88d=void 0x0),_0x21aa69-=0x1,_0x5d5603;},'clear'(){_0x5261e7(),_0x162a79=void 0x0,_0x56a88d=void 0x0,_0x21aa69=0x0;}};}function _0x16a601(_0xa600f6,_0x5d053c=!0x1,_0x1f6180=()=>{},_0x1df6b9=()=>!0x1,_0x11471f=()=>{}){let _0x1f4519=!0x1;const _0x11ee13=_0x4214db(async function(){const _0x37a048=a0_0x553c;if(!_0x1f4519){for(_0x1f4519=!0x0;_0x11ee13[_0x37a048(0x23b)];){const _0x57126a=_0x11ee13[_0x37a048(0x27a)]();if(_0x57126a)try{_0xa600f6 instanceof _0x3a23e6&&_0xa600f6[_0x37a048(0x7b2)](_0x57126a),_0xa600f6 instanceof _0x1eb3bd&&await _0xa600f6[_0x37a048(0x7b2)](_0x57126a),_0x1f6180(_0x57126a);}catch(_0x50f804){_0x5d053c?_0x11ee13[_0x37a048(0x28d)](_0x57126a,!0x1):_0x11ee13['unshift'](_0x57126a,!0x1),await _0xa600f6[_0x37a048(0x737)]();}}_0x1f4519=!0x1;}},_0x1df6b9,_0x11471f);return _0x11ee13;}class _0x191753 extends _0x1b998b{['vendorId'];['authService'];[_0x5dd398(0x5f0)]=_0x1caecf['ConnectionState'][_0x5dd398(0x581)];['connectionStateListener']=_0x3835d4();[_0x5dd398(0x5ee)]=_0x1c03f0();[_0x5dd398(0x3d7)];[_0x5dd398(0x23f)];[_0x5dd398(0x38d)]=_0x16a601(new _0x1eb3bd(this[_0x5dd398(0x7f1)]['bind'](this),this['waitConnected'][_0x5dd398(0x437)](this)));[_0x5dd398(0x5ea)];constructor(_0x1f0986,_0x6731b4,_0x30930f,_0x9929fd,_0x4e0b4f){const _0x1c6328=_0x5dd398;super(_0x6731b4,_0x30930f,_0x9929fd),this[_0x1c6328(0x6eb)]=_0x1f0986,this[_0x1c6328(0x7b8)]=_0x4e0b4f;}async['connect'](){const _0x2075d3=_0x5dd398;try{const _0xa9d6a0={'getTokens':async()=>{const _0x586624=a0_0x553c,_0x46235c=await this['authService'][_0x586624(0x3a7)]();return{'accessToken':(0x0,_0x2de5ad[_0x586624(0x54c)])(_0x46235c),'idToken':(0x0,_0x2de5ad[_0x586624(0x54c)])(_0x46235c)};}};_0x45b644[_0x2075d3(0x7a7)][_0x2075d3(0x238)]({'API':{'GraphQL':{'endpoint':_0x4241f1[_0x2075d3(0x58f)]['endpoint'],'region':_0x4241f1['aws'][_0x2075d3(0x695)],'defaultAuthMode':'oidc'}}},{'Auth':{'tokenProvider':_0xa9d6a0}}),this[_0x2075d3(0x5ea)]=(0x0,_0x1caecf[_0x2075d3(0x3f2)])(),await this[_0x2075d3(0x431)](),this['listenUnsubscriber']=_0x57e295[_0x2075d3(0x1f3)]['listen'](_0x2075d3(0x3ea),async({payload:_0x15061e})=>{const _0x30e946=_0x2075d3;if(_0x15061e['event']===_0x1caecf[_0x30e946(0x384)]){const _0x126415=_0x15061e['data'];this[_0x30e946(0x5f0)]=_0x126415[_0x30e946(0x5f0)],this[_0x30e946(0x5f6)][_0x30e946(0x7b0)](_0x126415[_0x30e946(0x5f0)]),this[_0x30e946(0x5f0)]===_0x1caecf[_0x30e946(0x629)][_0x30e946(0x581)]&&(_0x52f76b[_0x30e946(0x7ee)](_0x30e946(0x292),{'clusterId':this['clusterId'],'nodeId':this['getLocalId'](),'nodeType':this[_0x30e946(0x5fb)][_0x30e946(0x72a)]}),this['close'](),this['connect']()),this[_0x30e946(0x5f0)]===_0x1caecf[_0x30e946(0x629)][_0x30e946(0x4f4)]&&_0x52f76b[_0x30e946(0x6cc)]('appsync-connect',{'clusterId':this['clusterId'],'nodeId':this[_0x30e946(0x279)](),'nodeType':this[_0x30e946(0x5fb)][_0x30e946(0x72a)]});}});}catch(_0x307f70){_0x52f76b[_0x2075d3(0x7ee)](_0x2075d3(0x4d9),{'clusterId':this[_0x2075d3(0x1ff)],'nodeId':this[_0x2075d3(0x279)](),'nodeType':this['localNode'][_0x2075d3(0x72a)]});}}['close'](){const _0x4e440a=_0x5dd398;_0x52f76b[_0x4e440a(0x6cc)](_0x4e440a(0x25e),{'clusterId':this[_0x4e440a(0x1ff)],'nodeId':this[_0x4e440a(0x279)](),'nodeType':this[_0x4e440a(0x5fb)][_0x4e440a(0x72a)]}),this['retryQueue'][_0x4e440a(0x1f6)](),this[_0x4e440a(0x23f)]?.(),this[_0x4e440a(0x3d7)]?.[_0x4e440a(0x7de)](),delete this[_0x4e440a(0x3d7)];}[_0x5dd398(0x386)](){const _0x34e360=_0x5dd398;return this[_0x34e360(0x5f0)]===_0x1caecf[_0x34e360(0x629)][_0x34e360(0x4f4)];}[_0x5dd398(0x2fb)](_0x4ea4cb){const _0x56b533=_0x5dd398;this[_0x56b533(0x38d)][_0x56b533(0x28d)](_0x4ea4cb);}['onMessage'](_0xf8f79b){const _0x397485=_0x5dd398;return this[_0x397485(0x5ee)][_0x397485(0x431)](_0xf8f79b);}[_0x5dd398(0x300)](){const _0x268981=_0x5dd398;return[_0x47065f[_0x268981(0x447)][_0x268981(0x4ad)]];}async[_0x5dd398(0x5e5)](){const _0xaf6f42=_0x5dd398;if(!this[_0xaf6f42(0x386)]())return new Promise(_0x908a84=>{const _0x1bc053=_0xaf6f42,_0x1b4868=this[_0x1bc053(0x5f6)][_0x1bc053(0x431)](_0x11a84d=>{const _0xfc02ed=_0x1bc053;_0x11a84d===_0x1caecf[_0xfc02ed(0x629)][_0xfc02ed(0x4f4)]&&(_0x1b4868(),_0x908a84());});});}async[_0x5dd398(0x7f1)](_0x183c3e){const _0x5cb69d=_0x5dd398;if(this[_0x5cb69d(0x5f0)]!==_0x1caecf[_0x5cb69d(0x629)]['Connected'])throw new Error(_0x5cb69d(0x2cd));_0x183c3e['destinationIds']&&0x1===_0x183c3e[_0x5cb69d(0x7c9)][_0x5cb69d(0x5f4)]?await this[_0x5cb69d(0x7b0)](_0x183c3e[_0x5cb69d(0x7c9)][0x0],JSON['stringify'](_0x183c3e)):_0x52f76b[_0x5cb69d(0x7ee)](_0x5cb69d(0x47b),{'clusterId':this[_0x5cb69d(0x1ff)],'nodeId':this[_0x5cb69d(0x279)](),'nodeType':this[_0x5cb69d(0x5fb)][_0x5cb69d(0x72a)]});}async[_0x5dd398(0x7b0)](_0x129ece,_0x3a2655){const _0x17c53e=_0x5dd398;if(!this[_0x17c53e(0x5ea)])throw new Error('AppSync\x20client\x20not\x20ready');_0x52f76b[_0x17c53e(0x20d)](_0x4f3b4c[_0x17c53e(0x29b)],_0x17c53e(0x6e9),this[_0x17c53e(0x279)](),_0x3a2655),await this[_0x17c53e(0x5ea)][_0x17c53e(0x82b)]({'query':_0x17c53e(0x242),'variables':{'name':await this[_0x17c53e(0x66a)](_0x129ece),'data':_0x3a2655}});}async[_0x5dd398(0x431)](){const _0x3a2ed2=_0x5dd398;if(this[_0x3a2ed2(0x3d7)])return;if(!this[_0x3a2ed2(0x5ea)])throw new Error('AppSync\x20client\x20not\x20ready');_0x52f76b[_0x3a2ed2(0x20d)](_0x4f3b4c[_0x3a2ed2(0x29b)],_0x3a2ed2(0x312),this['getLocalId']());const _0x253f38=await this[_0x3a2ed2(0x5ea)]['graphql']({'query':_0x3a2ed2(0x401),'variables':{'name':await this[_0x3a2ed2(0x66a)]()},'authToken':await this[_0x3a2ed2(0x7b8)]['getIdToken']()},{'Authorization':await this[_0x3a2ed2(0x7b8)][_0x3a2ed2(0x3a7)]()});this[_0x3a2ed2(0x3d7)]=_0x253f38[_0x3a2ed2(0x431)]({'next':({data:_0x259c63})=>{const _0x159e73=_0x3a2ed2,_0x3eb38a=JSON[_0x159e73(0x84d)](_0x259c63[_0x159e73(0x431)][_0x159e73(0x46f)]);!_0x4becc8(_0x3eb38a,this[_0x159e73(0x279)]())&&_0xcfcc2b(_0x3eb38a,this[_0x159e73(0x279)]())&&this[_0x159e73(0x5ee)]['publish'](_0x3eb38a);},'error':console[_0x3a2ed2(0x20d)]});}async[_0x5dd398(0x66a)](_0x4f1ac1){const _0x5465c2=_0x5dd398,_0x40f5b8=await crypto[_0x5465c2(0x750)][_0x5465c2(0x709)](_0x5465c2(0x760),new TextEncoder()[_0x5465c2(0x43b)](this['vendorId']+'-'+this[_0x5465c2(0x1ff)]+'-'+(_0x4f1ac1??this[_0x5465c2(0x279)]())));return Array[_0x5465c2(0x5e2)](new Uint8Array(_0x40f5b8))[_0x5465c2(0x58c)](_0x56d0fc=>_0x56d0fc[_0x5465c2(0x2ea)](0x10)['padStart'](0x2,'0'))[_0x5465c2(0x1d5)]('');}}!function(_0x3e856d){const _0x56e8d8=_0x5dd398;_0x3e856d[_0x3e856d[_0x56e8d8(0x25a)]=0x0]=_0x56e8d8(0x25a),_0x3e856d[_0x3e856d['Remove']=0x1]=_0x56e8d8(0x35f),_0x3e856d[_0x3e856d['Update']=0x2]=_0x56e8d8(0x78b),_0x3e856d[_0x3e856d[_0x56e8d8(0x285)]=0x3]='RemoteAdd',_0x3e856d[_0x3e856d[_0x56e8d8(0x5a3)]=0x4]=_0x56e8d8(0x5a3);}(_0x24ec37||(_0x24ec37={}));const _0x2b9c8e=require('uuid'),_0x445976='0',_0x28fe02=_0x5dd398(0x662),_0x11426b=_0x29b399,_0x531cca=0xbe800;class _0x5c5753{[_0x5dd398(0x1ff)];['localNode'];[_0x5dd398(0x3e8)];[_0x5dd398(0x1e4)];[_0x5dd398(0x3c0)];[_0x5dd398(0x1b7)];[_0x5dd398(0x5af)];[_0x5dd398(0x344)];[_0x5dd398(0x828)]=0x1;[_0x5dd398(0x7fa)];[_0x5dd398(0x65e)]=[];[_0x5dd398(0x60f)]=[];[_0x5dd398(0x63f)];constructor(_0x1f5fdd,_0x3a3afe,_0x446b71,_0x369219,_0x2bc39b,_0xb2abc3){const _0x778aea=_0x5dd398;this[_0x778aea(0x1ff)]=_0x1f5fdd,this['localNode']=_0x3a3afe,this[_0x778aea(0x3e8)]=_0x446b71,this[_0x778aea(0x1e4)]=_0x369219,this[_0x778aea(0x3c0)]=_0x2bc39b,this[_0x778aea(0x1b7)]=_0xb2abc3,this[_0x778aea(0x5af)]=new this['connectionConstructor']({'handshakeServers':this[_0x778aea(0x1e4)]}),this['setupConnectionEvents']();}[_0x5dd398(0x362)](){const _0x1b03a9=_0x5dd398;this[_0x1b03a9(0x5cc)]();}[_0x5dd398(0x673)](_0x3d63b8){const _0x4c80c6=_0x5dd398;this[_0x4c80c6(0x3c0)]=_0x3d63b8;}async[_0x5dd398(0x267)](_0x312af2,_0x4b0012){const _0x1f0586=_0x5dd398;if(_0x4b0012===this[_0x1f0586(0x828)])for(const _0x5d0611 of _0x312af2){if(!this[_0x1f0586(0x5af)][_0x1f0586(0x51a)])return this['addPendingHandshakeCandidate'](_0x5d0611);try{await this[_0x1f0586(0x5af)][_0x1f0586(0x6aa)](_0x5d0611);}catch(_0x33bbc9){this['addPendingHandshakeCandidate'](_0x5d0611);}}}[_0x5dd398(0x386)](){const _0x4608e9=_0x5dd398;return this[_0x4608e9(0x7ec)](),_0x4608e9(0x5b3)===this[_0x4608e9(0x5af)]['connectionState']&&[_0x4608e9(0x5b3),_0x4608e9(0x6b5)][_0x4608e9(0x30f)](this['connection']['handshakeState'])&&_0x4608e9(0x62d)!==this[_0x4608e9(0x5af)]['signalingState']&&_0x4608e9(0x42f)===this[_0x4608e9(0x344)]?.[_0x4608e9(0x2ef)];}[_0x5dd398(0x442)](_0x2a5f30){const _0x26251a=_0x5dd398;this[_0x26251a(0x7fa)]=_0x2a5f30;}[_0x5dd398(0x7d9)](){const _0x15d183=_0x5dd398;delete this[_0x15d183(0x7fa)];}[_0x5dd398(0x7d6)](_0x26711a){const _0x1e752a=_0x5dd398;this['stopConnection'](),this[_0x1e752a(0x5af)]=new this['connectionConstructor']({'handshakeServers':this[_0x1e752a(0x1e4)]}),_0x26711a?this[_0x1e752a(0x828)]=_0x26711a:this['currentVersion']+=0x1,this[_0x1e752a(0x389)]();}[_0x5dd398(0x5a1)](){const _0x198f9d=_0x5dd398;this[_0x198f9d(0x60f)][_0x198f9d(0x710)](_0x507590=>{const _0x5ada7f=_0x198f9d;try{this[_0x5ada7f(0x5af)][_0x5ada7f(0x6aa)](_0x507590);}catch(_0x496ea8){}}),this[_0x198f9d(0x60f)]=[];}[_0x5dd398(0x620)](_0x2657a3,_0x1b5282){const _0xb0c463=_0x5dd398;if(!this[_0xb0c463(0x7fa)])throw new _0x189e7c(_0x189e7c[_0xb0c463(0x32a)][_0xb0c463(0x435)],{'content':_0x2657a3});const _0x2596b0={'sourceId':this[_0xb0c463(0x5fb)]['getId'](),'destinationIds':[this[_0xb0c463(0x3e8)]],'propagate':this[_0xb0c463(0x3c0)]!==_0x519608[_0xb0c463(0x2b4)],'retry':this['connectionType']!==_0x519608[_0xb0c463(0x2b4)],'messageType':_0x3efa6a[_0xb0c463(0x2a9)],'content':_0x2657a3};_0x1b5282&&(_0x2596b0[_0xb0c463(0x445)]=_0x1b5282),this[_0xb0c463(0x7fa)][_0xb0c463(0x7b0)](_0x2596b0);}[_0x5dd398(0x389)](){const _0x1c3a8b=_0x5dd398;this[_0x1c3a8b(0x5af)]['onGatheringStateChange']=()=>{const _0x2fdaea=_0x1c3a8b;_0x2fdaea(0x2a0)===this[_0x2fdaea(0x5af)][_0x2fdaea(0x3f4)]&&this[_0x2fdaea(0x65e)][_0x2fdaea(0x5f4)]>0x0&&(this[_0x2fdaea(0x63f)]&&clearTimeout(this[_0x2fdaea(0x63f)]),this[_0x2fdaea(0x63f)]=setTimeout(()=>{const _0x27f64c=_0x2fdaea;delete this[_0x27f64c(0x63f)],this['sendIceCandidates'](),this[_0x27f64c(0x65e)]=[];},0x1f4));},this[_0x1c3a8b(0x5af)][_0x1c3a8b(0x368)]=_0x5598ec=>{const _0x3330fb=_0x1c3a8b;_0x5598ec[_0x3330fb(0x2d3)]&&this[_0x3330fb(0x65e)][_0x3330fb(0x28d)](_0x5598ec[_0x3330fb(0x2d3)]);};}['stopConnection'](){const _0x5912e2=_0x5dd398;clearTimeout(this['handshakeDebounce']),delete this['handshakeDebounce'],this[_0x5912e2(0x65e)]=[],this['pendingHandshakeCandidates']=[],this['dataChannel']&&(this[_0x5912e2(0x344)]['onMessage']=null,this[_0x5912e2(0x344)][_0x5912e2(0x6c5)]=null,this['dataChannel'][_0x5912e2(0x362)](),delete this[_0x5912e2(0x344)]),this[_0x5912e2(0x5af)]['onGatheringStateChange']=null,this[_0x5912e2(0x5af)][_0x5912e2(0x368)]=null,this['connection']['onHandshakeStateChange']=null,this[_0x5912e2(0x5af)][_0x5912e2(0x2d2)]=null,this['connection'][_0x5912e2(0x735)]=null,this[_0x5912e2(0x5af)][_0x5912e2(0x81c)]=null,this[_0x5912e2(0x5af)]['close']();}[_0x5dd398(0x60d)](_0x31345f){this['pendingHandshakeCandidates']['push'](_0x31345f);}['logConnectionState'](){const _0x2cc61f=_0x5dd398;_0x52f76b[_0x2cc61f(0x20d)](_0x4f3b4c[_0x2cc61f(0x629)],_0x2cc61f(0x7d3),{'localId':this[_0x2cc61f(0x5fb)][_0x2cc61f(0x330)](),'remoteId':this['remoteId'],'connectionState':this[_0x2cc61f(0x5af)][_0x2cc61f(0x5f0)],'handshakeState':this[_0x2cc61f(0x5af)][_0x2cc61f(0x436)],'signalingState':this['connection'][_0x2cc61f(0x4ae)],'dataChannelState':this['dataChannel']?.['state']});}}function _0x133d60(_0xb2dbfe,_0x2a7e76){const _0x38b675=_0x5dd398;_0x2a7e76[_0x38b675(0x7b0)]({'sourceId':_0x384096,'messageType':_0x3efa6a[_0x38b675(0x2a9)],'content':_0xb2dbfe});}class _0x56e49a{static [_0x5dd398(0x2da)];[_0x5dd398(0x2ca)]=[];['source'];constructor(){setInterval(()=>{const _0xfca746=a0_0x553c;this[_0xfca746(0x2ca)][_0xfca746(0x710)](_0x457ab7=>{const _0x6d317e=_0xfca746;if(Date[_0x6d317e(0x4bb)]()-_0x457ab7[_0x6d317e(0x353)]>_0x457ab7[_0x6d317e(0x393)]){try{_0x457ab7['callback']();}catch(_0x50c2da){}_0x457ab7[_0x6d317e(0x353)]=Date['now']();}});},0x64);}static['getInstance'](){const _0x905664=_0x5dd398;return _0x56e49a[_0x905664(0x2da)]||(_0x56e49a[_0x905664(0x2da)]=new _0x56e49a()),_0x56e49a['instance'];}['startNoThrottlingHack'](_0x37986f){const _0x3a8112=_0x5dd398,_0x38e05e=this[_0x3a8112(0x78a)](_0x37986f),_0x385209=_0x37986f[_0x3a8112(0x825)]();_0x385209&&_0x38e05e&&(_0x385209[_0x3a8112(0x4db)][_0x3a8112(0x309)]=0.001,_0x38e05e[_0x3a8112(0x685)](_0x385209),_0x385209['connect'](_0x37986f[_0x3a8112(0x65d)]),_0x38e05e[_0x3a8112(0x640)]());}['stopNoThrottlingHack'](){const _0x4da3bf=_0x5dd398;this['source']&&(this['source'][_0x4da3bf(0x5d8)](),this[_0x4da3bf(0x5d3)][_0x4da3bf(0x5da)](),this[_0x4da3bf(0x5d3)]=void 0x0);}['wait'](_0x50897a){return new Promise(_0x78d20a=>{setTimeout(_0x78d20a,_0x50897a);});}['setInterval'](_0x5cca16,_0x373b9b){const _0x215f92=_0x5dd398;return this[_0x215f92(0x2ca)][_0x215f92(0x28d)]({'callback':_0x5cca16,'interval':_0x373b9b,'lastExecuted':Date[_0x215f92(0x4bb)]()}),()=>{const _0x25d0b5=_0x215f92;this[_0x25d0b5(0x2ca)]=this[_0x25d0b5(0x2ca)][_0x25d0b5(0x60e)](_0x29f6a3=>_0x29f6a3['callback']!==_0x5cca16);};}[_0x5dd398(0x78a)](_0x4f3705){const _0x40407a=_0x5dd398;if(_0x4f3705['createConstantSource'])return _0x4f3705[_0x40407a(0x78a)]();const _0x211a91=_0x4f3705[_0x40407a(0x21c)](),_0x368a63=_0x4f3705[_0x40407a(0x827)](0x1,0x1,_0x4f3705[_0x40407a(0x5f1)]);return _0x368a63[_0x40407a(0x2bd)](0x0)[0x0]=0xa,_0x211a91[_0x40407a(0x53b)]=_0x368a63,_0x211a91[_0x40407a(0x351)]=!0x0,_0x211a91;}}const _0x478a69=_0x56e49a[_0x5dd398(0x7bf)](),_0x3a315e=['PeerConnection','Node',_0x5dd398(0x5d2),'Subscription',_0x5dd398(0x1ca),_0x5dd398(0x5bd),_0x5dd398(0x817)],_0x4fb1a0=[['Offer',_0x5dd398(0x23a),_0x5dd398(0x4da),'Success',_0x5dd398(0x76a),'Restart',_0x5dd398(0x3fc),'Stats',_0x5dd398(0x46e)],[_0x5dd398(0x65c),_0x5dd398(0x663),_0x5dd398(0x868),_0x5dd398(0x5b1)],['PublishMediaStream',_0x5dd398(0x1b3),'SubscribeMediaStream',_0x5dd398(0x4cc),_0x5dd398(0x551),_0x5dd398(0x847),'CloseJobWorker',_0x5dd398(0x284),_0x5dd398(0x3be),'ClosePubSubTopic',_0x5dd398(0x7a4),_0x5dd398(0x788),_0x5dd398(0x6be),_0x5dd398(0x30a),_0x5dd398(0x2c1),'RequestTransactionsValue',_0x5dd398(0x369),'ObjectStoreStats','KeyValueDatabaseStats','GenerativeAIContextStats',_0x5dd398(0x261)],[_0x5dd398(0x4a1),_0x5dd398(0x4cc),_0x5dd398(0x551),'NeedMediaStream',_0x5dd398(0x835),'CanProvideMediaStream','CannotProvideMediaStream',_0x5dd398(0x40e)],[_0x5dd398(0x836),_0x5dd398(0x55e)],[_0x5dd398(0x5e7)],[_0x5dd398(0x817),_0x5dd398(0x470)]];function _0x250bf7(_0x156077){const _0x596758=_0x5dd398;return{..._0x156077,'systemMessageType':_0x3a315e[_0x156077[_0x596758(0x814)]],'systemContentMessageType':_0x4fb1a0[_0x156077[_0x596758(0x814)]][_0x156077[_0x596758(0x69a)]['type']]};}const _0x26d0fe={'hour':_0x5dd398(0x570),'minute':_0x5dd398(0x570),'second':'2-digit'};function _0x3bd316(_0x9a3e5b,_0x12010c){const _0x194945=_0x5dd398,_0x1bdfb5=(function(){const _0x5de155=a0_0x553c,_0x1ca7d7=new Date(),_0x1176a4=_0x1ca7d7[_0x5de155(0x227)](),_0xc3d6d9=_0x1ca7d7[_0x5de155(0x418)](_0x5de155(0x6f4),_0x26d0fe)[_0x5de155(0x606)](/\d\d:\d\d:\d\d/)?.[0x0];return _0xc3d6d9+'.'+(_0x1176a4>0x64?''+_0x1176a4:_0x1176a4>0xa?'0'+_0x1176a4:'00'+_0x1176a4);}()),{sourceId:_0x47818e,destinationIds:_0x6abd55,systemMessageType:_0x43f63a,systemContentMessageType:_0x2bb7d4}=_0x250bf7(_0x9a3e5b);return _0x1bdfb5+_0x194945(0x3bd)+_0x12010c+'\x20-\x20'+(_0x47818e===_0x12010c?_0x194945(0x6f8)+_0x43f63a+'\x27\x20to\x20'+(_0x6abd55?''+_0x6abd55:_0x194945(0x59a)):_0x9a3e5b[_0x194945(0x562)]===_0x384096?_0x194945(0x43f)+_0x43f63a+'\x27':(_0x6abd55?'':_0x194945(0x208))+_0x194945(0x672)+_0x43f63a+_0x194945(0x241)+_0x47818e)+_0x194945(0x854)+_0x2bb7d4+'\x27\x20payload:';}class _0x3e8f2f extends _0x5c5753{[_0x5dd398(0x2eb)]=_0x3835d4();[_0x5dd398(0x79f)]=_0x3835d4();[_0x5dd398(0x5ca)]=_0x3835d4();[_0x5dd398(0x283)]=new Map();[_0x5dd398(0x7cd)]=new Map();[_0x5dd398(0x597)];[_0x5dd398(0x513)]=0x0;[_0x5dd398(0x610)]={'messages':{'total':0x0}};[_0x5dd398(0x845)]=0x0;[_0x5dd398(0x4d1)]=0x0;[_0x5dd398(0x362)](){const _0x58b096=_0x5dd398;this[_0x58b096(0x3dd)](),this[_0x58b096(0x283)][_0x58b096(0x1f6)](),super[_0x58b096(0x362)]();}async[_0x5dd398(0x83f)](_0x549719,_0x1a3d94){const _0x134f6f=_0x5dd398;this[_0x134f6f(0x828)]=_0x1a3d94,this['clearWaitSuccess']();const _0x1cdbae=await this[_0x134f6f(0x5af)][_0x134f6f(0x45a)](_0x549719);this[_0x134f6f(0x5a1)]();const _0x3099af=(0x0,_0x2b9c8e['v4'])();this[_0x134f6f(0x620)]({'type':_0x3bfb21[_0x134f6f(0x23a)],'answer':_0x1cdbae,'version':_0x1a3d94,'connectionType':this['connectionType']},_0x3099af),this[_0x134f6f(0x3c0)]===_0x519608[_0x134f6f(0x2b4)]&&(this[_0x134f6f(0x597)]=_0x478a69[_0x134f6f(0x1c5)](()=>{const _0xade023=_0x134f6f;this['publishSystemMessage']({'type':_0x3bfb21['Answer'],'answer':_0x1cdbae,'version':_0x1a3d94,'connectionType':this[_0xade023(0x3c0)]},_0x3099af);},0x1388));}['handleSuccess'](){const _0x33c576=_0x5dd398;this[_0x33c576(0x3dd)]();}[_0x5dd398(0x826)](_0xb1c0f2){const _0x30f1a3=_0x5dd398;this[_0x30f1a3(0x7d6)](_0xb1c0f2),this[_0x30f1a3(0x620)]({'type':_0x3bfb21[_0x30f1a3(0x328)]});}async['collectStats'](){const _0x4fbba2=_0x5dd398;this['systemTopic']&&(await this[_0x4fbba2(0x5af)]['collectReceiversStats'](this[_0x4fbba2(0x283)],(_0xf249c8,_0x45a9cb)=>{const _0x52d827=_0x4fbba2;_0x133d60({'type':_0x3bfb21[_0x52d827(0x1ca)],'streamId':_0x45a9cb,'nodeId':this[_0x52d827(0x3e8)],'stats':_0xf249c8},this[_0x52d827(0x7fa)]);}),this[_0x4fbba2(0x7fa)]['publish']({'sourceId':_0x384096,'messageType':_0x3efa6a[_0x4fbba2(0x2a9)],'content':{'type':_0x3bfb21['Stats'],'nodeId':this[_0x4fbba2(0x3e8)],'stats':{'origin':_0x4d5e61[_0x4fbba2(0x4d5)],'timestamp':Date[_0x4fbba2(0x4bb)](),'messagesReceived':this['messagesReceived'],'bytesReceived':this['bytesReceived'],'timeReceiving':this[_0x4fbba2(0x4d1)],'systemMessages':this['systemMessagesReceived']}}}));}['onMessage'](_0x138976){const _0x39f1ba=_0x5dd398;return this['messageCallback'][_0x39f1ba(0x431)](_0x138976);}['onTrack'](_0xdd8fe){const _0x39beb8=_0x5dd398;return this[_0x39beb8(0x79f)][_0x39beb8(0x431)](({track:_0x2a80ab,stream:_0x3e395c})=>_0xdd8fe(_0x2a80ab,_0x3e395c));}['onRemoveTrack'](_0x184d7a){const _0x5dc626=_0x5dd398;return this['removeTrackCallback'][_0x5dc626(0x431)](({track:_0xb9d5c5,stream:_0x88f615})=>_0x184d7a(_0xb9d5c5,_0x88f615));}[_0x5dd398(0x7d6)](_0x13a681){const _0x1e4686=_0x5dd398;this[_0x1e4686(0x3dd)](),this[_0x1e4686(0x283)][_0x1e4686(0x710)](_0x574535=>{const _0x13842b=_0x1e4686;_0x574535[_0x13842b(0x1f6)]();}),super[_0x1e4686(0x7d6)](_0x13a681);}[_0x5dd398(0x200)](){const _0x2d32f9=_0x5dd398;this[_0x2d32f9(0x620)]({'type':_0x3bfb21[_0x2d32f9(0x4da)],'candidates':this[_0x2d32f9(0x65e)],'origin':_0x4d5e61[_0x2d32f9(0x4d5)],'version':this[_0x2d32f9(0x828)],'connectionType':this[_0x2d32f9(0x3c0)]});}[_0x5dd398(0x389)](){const _0x3f1570=_0x5dd398;super[_0x3f1570(0x389)](),this[_0x3f1570(0x5af)]['onTrack']=_0x5ad177=>{const _0x3bd5a3=_0x3f1570;_0x52f76b['log'](_0x4f3b4c[_0x3bd5a3(0x310)],'CrewdleReceiverConnection\x20ontrack',this[_0x3bd5a3(0x5fb)][_0x3bd5a3(0x330)](),_0x5ad177),_0x5ad177[_0x3bd5a3(0x679)][0x0][_0x3bd5a3(0x67d)]=_0x2bd47c=>{const _0x1f03f6=_0x3bd5a3;this[_0x1f03f6(0x283)][_0x1f03f6(0x7ef)](_0x5ad177[_0x1f03f6(0x679)][0x0]['id'])?.[_0x1f03f6(0x2d8)](_0x2bd47c[_0x1f03f6(0x706)]),0x0===this[_0x1f03f6(0x283)][_0x1f03f6(0x7ef)](_0x5ad177[_0x1f03f6(0x679)][0x0]['id'])?.[_0x1f03f6(0x3ee)]&&this[_0x1f03f6(0x283)][_0x1f03f6(0x2d8)](_0x5ad177[_0x1f03f6(0x679)][0x0]['id']),this[_0x1f03f6(0x5ca)][_0x1f03f6(0x7b0)]({'track':_0x2bd47c[_0x1f03f6(0x706)],'stream':_0x5ad177[_0x1f03f6(0x679)][0x0]});},this['receivers'][_0x3bd5a3(0x2d4)](_0x5ad177[_0x3bd5a3(0x679)][0x0]['id'])||this['receivers'][_0x3bd5a3(0x549)](_0x5ad177[_0x3bd5a3(0x679)][0x0]['id'],new Set()),this[_0x3bd5a3(0x283)][_0x3bd5a3(0x7ef)](_0x5ad177[_0x3bd5a3(0x679)][0x0]['id'])['add'](_0x5ad177[_0x3bd5a3(0x706)]),this[_0x3bd5a3(0x79f)][_0x3bd5a3(0x7b0)]({'track':_0x5ad177[_0x3bd5a3(0x706)],'stream':_0x5ad177[_0x3bd5a3(0x679)][0x0]});},this[_0x3f1570(0x5af)][_0x3f1570(0x81c)]=_0x36d0de=>{const _0x66a7fb=_0x3f1570;this[_0x66a7fb(0x344)]=_0x36d0de[_0x66a7fb(0x4e8)],this[_0x66a7fb(0x344)][_0x66a7fb(0x69f)]=_0x1118a2=>{const _0x48d8be=_0x66a7fb;if(_0x1118a2['data']!==_0x445976)this[_0x48d8be(0x870)](_0x1118a2[_0x48d8be(0x46f)]);else{if(!this[_0x48d8be(0x344)])return void _0x52f76b[_0x48d8be(0x7ee)]('missing-datachannel',{'clusterId':this[_0x48d8be(0x1ff)],'nodeId':this['localNode']['getId'](),'nodeType':this['localNode']['type'],'remoteId':this['remoteId'],'data':{'connection':_0x48d8be(0x217)}});if(_0x48d8be(0x42f)!==this['dataChannel'][_0x48d8be(0x2ef)])return;this['dataChannel'][_0x48d8be(0x2fb)]('1');}};};}['handleOnMessage'](_0x25072e){const _0x5c39e6=_0x5dd398;if('string'==typeof _0x25072e&&_0x25072e[_0x5c39e6(0x30e)](_0x28fe02))return this[_0x5c39e6(0x513)]+=0x1,this[_0x5c39e6(0x845)]+=_0x25072e[_0x5c39e6(0x5f4)],this[_0x5c39e6(0x666)](_0x25072e);setTimeout(()=>{const _0x3d6b34=_0x5c39e6,_0x518c6f=Date[_0x3d6b34(0x4bb)]();let _0x122177;if((_0x25072e instanceof ArrayBuffer||_0x25072e[_0x3d6b34(0x5f4)]<=_0x11426b)&&(this[_0x3d6b34(0x513)]+=0x1,this['bytesReceived']+=_0x25072e instanceof ArrayBuffer?_0x25072e['byteLength']:_0x25072e[_0x3d6b34(0x5f4)]),_0x25072e instanceof ArrayBuffer){const [_0x1c291b,_0x3b1af9]=this['splitParts'](_0x25072e);_0x122177=_0x1c291b,_0x122177[_0x3d6b34(0x69a)]['data']=_0x3b1af9;}else _0x122177=JSON[_0x3d6b34(0x84d)](_0x25072e);if(0x0===_0x122177['topicLabel']){this[_0x3d6b34(0x610)][_0x3d6b34(0x363)]['total']+=0x1;const {systemMessageType:_0xa15e95,systemContentMessageType:_0x43fc03}=_0x250bf7(_0x122177);this[_0x3d6b34(0x610)][_0xa15e95]||(this[_0x3d6b34(0x610)][_0xa15e95]={[_0x43fc03]:0x0}),this[_0x3d6b34(0x610)][_0xa15e95][_0x43fc03]||(this[_0x3d6b34(0x610)][_0xa15e95][_0x43fc03]=0x0),this['systemMessagesReceived'][_0xa15e95][_0x3d6b34(0x1f4)]||(this[_0x3d6b34(0x610)][_0xa15e95][_0x3d6b34(0x1f4)]=0x0),this[_0x3d6b34(0x610)][_0xa15e95][_0x43fc03]+=0x1,this[_0x3d6b34(0x610)][_0xa15e95][_0x3d6b34(0x1f4)]+=0x1;}this[_0x3d6b34(0x2eb)][_0x3d6b34(0x7b0)](_0x122177),this[_0x3d6b34(0x4d1)]+=Date[_0x3d6b34(0x4bb)]()-_0x518c6f;},0x0);}['handleChunkMessage'](_0x2a1457){const _0xf2c5ff=_0x5dd398,_0x2452bb=_0x2a1457['split'](';'),_0x34e733=_0x2452bb[0x1],_0x1a4b9e=parseInt(_0x2452bb[0x2],0xa),_0x3f1aa7=parseInt(_0x2452bb[0x3],0xa),_0x6c1ddf=_0x2a1457['replace'](_0x28fe02+';'+_0x34e733+';'+_0x1a4b9e+';'+_0x3f1aa7+';','');this[_0xf2c5ff(0x7cd)]['has'](_0x34e733)||this[_0xf2c5ff(0x7cd)]['set'](_0x34e733,[]);const _0x44214c=this[_0xf2c5ff(0x7cd)][_0xf2c5ff(0x7ef)](_0x34e733);_0x44214c[_0x1a4b9e]=_0x6c1ddf,_0x44214c[_0xf2c5ff(0x5f4)]===_0x3f1aa7&&(this[_0xf2c5ff(0x870)](_0x44214c[_0xf2c5ff(0x1d5)]('')),this[_0xf2c5ff(0x7cd)]['delete'](_0x34e733));}['clearWaitSuccess'](){const _0x1aaed5=_0x5dd398;this['waitSuccess']?.(),delete this[_0x1aaed5(0x597)];}[_0x5dd398(0x6fd)](_0x407db1){const _0x2fb61e=_0x5dd398,_0x207019=new TextDecoder()[_0x2fb61e(0x534)](_0x407db1);return JSON['parse'](_0x207019);}[_0x5dd398(0x3d9)](_0x6c6ed7){const _0x50c5ae=_0x5dd398,_0x51231d=new Uint8Array(_0x6c6ed7[_0x50c5ae(0x6fb)](0x0,0x4)),_0x158d68=new Uint32Array(_0x51231d[_0x50c5ae(0x53b)])[0x0],_0x280ec8=new Uint8Array(_0x6c6ed7[_0x50c5ae(0x6fb)](0x4,0x4+_0x158d68)),_0x3128fc=new Uint8Array(_0x6c6ed7[_0x50c5ae(0x6fb)](0x4+_0x158d68));return[this[_0x50c5ae(0x6fd)](_0x280ec8['buffer']),_0x3128fc[_0x50c5ae(0x53b)]];}}const _0x18245d=0xc350;var _0xe29917,_0x3de62f;!function(_0x300300){const _0x124918=_0x5dd398;_0x300300[_0x300300['High']=0x0]=_0x124918(0x1b2),_0x300300[_0x300300[_0x124918(0x566)]=0x1]='Medium',_0x300300[_0x300300[_0x124918(0x573)]=0x2]=_0x124918(0x573);}(_0xe29917||(_0xe29917={}));class _0x16b9e4 extends _0x5c5753{[_0x5dd398(0x4d2)];['maxBpp'];[_0x5dd398(0x860)]=new Map();[_0x5dd398(0x559)];[_0x5dd398(0x520)];[_0x5dd398(0x254)];['isReconnecting']=!0x1;['connectionTimeout'];[_0x5dd398(0x412)];[_0x5dd398(0x322)];[_0x5dd398(0x38d)]=function(e,t=_0xe29917,s=!0x1){const _0x9492fd=_0x5dd398;let i=!0x1;const n=[];async function o(){const _0x1fee33=a0_0x553c;if(!i){for(i=!0x0;n[_0x1fee33(0x86b)](e=>e['head']);){let t,i=0x0;for(const [e,s]of n[_0x1fee33(0x805)]())if(t=s[_0x1fee33(0x27a)](),i=e,t)break;if(t)try{if(e instanceof _0x3a23e6&&e[_0x1fee33(0x7b2)](t),e instanceof _0x1eb3bd&&await e[_0x1fee33(0x7b2)](t),n[_0x1fee33(0x6fb)](-0x1)[_0x1fee33(0x86b)](e=>e[_0x1fee33(0x23b)]))continue;const s=n['length']-0x1;i===s&&n[s][_0x1fee33(0x23b)]&&await _0x478a69[_0x1fee33(0x737)](0x0);}catch(o){s?n[i]['push'](t,!0x1):n[i][_0x1fee33(0x265)](t,!0x1),await e[_0x1fee33(0x737)]();}}i=!0x1;}}return Object[_0x9492fd(0x4e3)](t)['forEach'](e=>{const _0x3e6e20=_0x9492fd;_0x3e6e20(0x542)!=typeof e&&(n[e]=_0x4214db(o));}),{'queues':n};}(new _0x3a23e6(this['sendAction'][_0x5dd398(0x437)](this),this['waitSendBuffer']['bind'](this)));[_0x5dd398(0x355)]=0x0;[_0x5dd398(0x83b)]=0x0;[_0x5dd398(0x7b6)]=0x0;[_0x5dd398(0x572)]=0x0;[_0x5dd398(0x62a)];constructor(_0x53216b,_0x470e15,_0x42f837,_0xf84e00,_0x3136f1,_0x453222,_0x3c1f38,_0x1fd1ef){const _0x244536=_0x5dd398;super(_0x53216b,_0x470e15,_0x42f837,_0xf84e00,_0x3136f1,_0x1fd1ef),this[_0x244536(0x4d2)]=_0x453222,this[_0x244536(0x2c6)]=_0x3c1f38;}['close'](){const _0x45d746=_0x5dd398;this['clearUpgradeTimeout'](),this[_0x45d746(0x840)](),delete this[_0x45d746(0x254)],this['clearRestartTimeout'](),this[_0x45d746(0x325)](),this['clearWaitAnswer'](),this['senders'][_0x45d746(0x1f6)](),this[_0x45d746(0x70e)]=!0x1,this[_0x45d746(0x38d)]['queues']['forEach'](_0x1fae6f=>_0x1fae6f['clear']()),this[_0x45d746(0x527)](),super['close']();}['isConnected'](){const _0x1e5be0=_0x5dd398;return!!this[_0x1e5be0(0x254)]&&super[_0x1e5be0(0x386)]()&&Date['now']()-this[_0x1e5be0(0x254)]<0x3a98;}async[_0x5dd398(0x56b)](){const _0x4a5fbc=_0x5dd398;this[_0x4a5fbc(0x7fa)]&&(await this[_0x4a5fbc(0x5af)]['collectSendersStats'](this[_0x4a5fbc(0x860)],(_0x2f9744,_0x40b799)=>{const _0x588bef=_0x4a5fbc;_0x133d60({'type':_0x3bfb21[_0x588bef(0x1ca)],'streamId':_0x40b799,'nodeId':this[_0x588bef(0x3e8)],'stats':_0x2f9744},this[_0x588bef(0x7fa)]);}),this[_0x4a5fbc(0x7fa)][_0x4a5fbc(0x7b0)]({'sourceId':_0x384096,'messageType':_0x3efa6a[_0x4a5fbc(0x2a9)],'content':{'type':_0x3bfb21[_0x4a5fbc(0x1ca)],'nodeId':this['remoteId'],'stats':{'origin':_0x4d5e61[_0x4a5fbc(0x6cb)],'timestamp':Date['now'](),'messagesSent':this['messagesSent'],'bytesSent':this['bytesSent'],'timeSending':this['timeSending'],'roundTripTime':this['roundTripTime']}}}));}async[_0x5dd398(0x510)](_0x48a4ba){const _0x5c604d=_0x5dd398;_0x52f76b[_0x5c604d(0x20d)](_0x4f3b4c[_0x5c604d(0x310)],_0x5c604d(0x766),this['localNode']['getId'](),this['remoteId']),this[_0x5c604d(0x5b6)](),this[_0x5c604d(0x325)](),this[_0x5c604d(0x7e6)](),this[_0x5c604d(0x632)]=setTimeout(()=>{this['handleDisconnect']();},0x7530),this['dataChannel']||(this[_0x5c604d(0x344)]=this['connection']['createDataChannel'](_0x5c604d(0x46f)),this['dataChannel'][_0x5c604d(0x83d)]=_0x531cca,this[_0x5c604d(0x344)]['onClose']=()=>{const _0x15dd7b=_0x5c604d;this[_0x15dd7b(0x62a)]=setTimeout(()=>{const _0x5ef54c=_0x15dd7b;delete this[_0x5ef54c(0x62a)],[_0x5ef54c(0x3cb),_0x5ef54c(0x42f)][_0x5ef54c(0x30f)](this[_0x5ef54c(0x344)]?.[_0x5ef54c(0x2ef)]??'')||this['handleDisconnect']();},0xfa);});const _0x2d0a74=await this[_0x5c604d(0x5af)]['createOffer'](_0x48a4ba);this['lastHeartbeat']||(this[_0x5c604d(0x254)]=Date['now']());const _0x1bf1a4=(0x0,_0x2b9c8e['v4'])();this[_0x5c604d(0x620)]({'type':_0x3bfb21[_0x5c604d(0x568)],'offer':_0x2d0a74,'version':this['currentVersion'],'connectionType':this['connectionType']},_0x1bf1a4),this[_0x5c604d(0x3c0)]===_0x519608[_0x5c604d(0x2b4)]&&(this[_0x5c604d(0x520)]=_0x478a69[_0x5c604d(0x1c5)](()=>{const _0x42be34=_0x5c604d;this[_0x42be34(0x620)]({'type':_0x3bfb21['Offer'],'offer':_0x2d0a74,'version':this[_0x42be34(0x828)],'connectionType':this[_0x42be34(0x3c0)]},_0x1bf1a4);},0x1388));}async[_0x5dd398(0x84a)](_0x131015,_0xb99fb1){const _0x1efb06=_0x5dd398;if(_0xb99fb1===this['currentVersion']){this['clearWaitAnswer']();try{await this[_0x1efb06(0x5af)][_0x1efb06(0x84a)](_0x131015,this['createOffer'][_0x1efb06(0x437)](this)),this['processPendingHandshakeCandidates'](),this[_0x1efb06(0x325)](),this[_0x1efb06(0x2bb)]();}catch(_0x2c93f4){this[_0x1efb06(0x647)]();}}}[_0x5dd398(0x2fb)](_0x14abb7){const _0x5096c3=_0x5dd398;if(!this['dataChannel'])throw new _0x189e7c(_0x189e7c[_0x5096c3(0x32a)]['InvalidDataChannel'],{'message':_0x5096c3(0x294),'localId':this[_0x5096c3(0x5fb)][_0x5096c3(0x330)](),'remoteId':this[_0x5096c3(0x3e8)],'eventMessage':_0x14abb7});if('open'!==this['dataChannel'][_0x5096c3(0x2ef)])throw new _0x189e7c(_0x189e7c['codes'][_0x5096c3(0x81e)],{'message':_0x5096c3(0x59c),'localId':this['localNode'][_0x5096c3(0x330)](),'remoteId':this[_0x5096c3(0x3e8)],'eventMessage':_0x14abb7});let _0x14eabc;if(_0x14abb7[_0x5096c3(0x69a)]['data']instanceof ArrayBuffer){const _0x4a8c93=_0x14abb7['content']['data'];_0x14abb7={..._0x14abb7,'content':{..._0x14abb7[_0x5096c3(0x69a)],'data':void 0x0}},_0x14eabc=this[_0x5096c3(0x773)](_0x14abb7,_0x4a8c93);}else _0x14eabc=JSON[_0x5096c3(0x698)](_0x14abb7);if('string'==typeof _0x14eabc&&_0x14eabc['length']>_0x11426b)return this['sendChunked'](_0x14abb7,_0x14eabc);const _0x1b4da5=0x0===_0x14abb7[_0x5096c3(0x6b7)]&&[_0x3efa6a['Subscription'],_0x3efa6a[_0x5096c3(0x2a9)]]['includes'](_0x14abb7[_0x5096c3(0x814)])?_0xe29917[_0x5096c3(0x1b2)]:_0x14abb7 instanceof ArrayBuffer?_0xe29917[_0x5096c3(0x573)]:_0xe29917[_0x5096c3(0x566)];this[_0x5096c3(0x7af)](_0x14eabc,_0x1b4da5);}[_0x5dd398(0x7a2)](_0x130d2b,_0x2a3c0c,_0x21dabc,_0x329242){const _0x2d09cc=_0x5dd398,_0x1d6836=(_0x50cda9=this[_0x2d09cc(0x4d2)],_0x5d86cf=this[_0x2d09cc(0x2c6)],Math['floor'](0xe1000*_0x50cda9*_0x5d86cf));var _0x50cda9,_0x5d86cf;const _0x138444=this[_0x2d09cc(0x860)][_0x2d09cc(0x7ef)](_0x2a3c0c['id'])||{'stream':_0x2a3c0c,'priority':_0x21dabc,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x1d6836,'maxBitrate':_0x1d6836,'framerate':this[_0x2d09cc(0x4d2)],'maxFramerate':this['maxFps'],'tracks':{},'params':_0x329242},_0x443ed7=_0x138444[_0x2d09cc(0x475)][_0x130d2b[_0x2d09cc(0x806)]]||{'track':_0x130d2b};if(_0x443ed7[_0x2d09cc(0x78d)]?(_0x443ed7[_0x2d09cc(0x706)]=_0x130d2b,this['connection'][_0x2d09cc(0x3ba)](_0x130d2b,_0x443ed7['sender'])):_0x443ed7[_0x2d09cc(0x78d)]=this['connection'][_0x2d09cc(0x7a2)](_0x130d2b,_0x2a3c0c),_0x138444['tracks'][_0x130d2b[_0x2d09cc(0x806)]]=_0x443ed7,_0x329242&&(_0x138444['params']=_0x329242),_0x329242&&_0x2d09cc(0x51f)===_0x329242[_0x2d09cc(0x806)]&&_0x329242['resolution']&&_0x329242[_0x2d09cc(0x743)]&&(_0x138444[_0x2d09cc(0x1ce)]=this['getResolutionScale'](_0x329242[_0x2d09cc(0x3a0)],_0x329242[_0x2d09cc(0x743)]),_0x138444[_0x2d09cc(0x428)]=_0x138444[_0x2d09cc(0x1ce)],_0x138444['tracks'][_0x2d09cc(0x51f)]&&_0x138444[_0x2d09cc(0x475)][_0x2d09cc(0x51f)]['sender'])){const _0x1c1540=_0x138444[_0x2d09cc(0x475)][_0x2d09cc(0x51f)]['sender'];this[_0x2d09cc(0x5af)][_0x2d09cc(0x438)](_0x1c1540,Math[_0x2d09cc(0x532)](0xa*_0x138444[_0x2d09cc(0x1ce)])/0xa,_0x138444[_0x2d09cc(0x5dd)],_0x138444['bitrate'],_0x138444[_0x2d09cc(0x3f5)]);}this[_0x2d09cc(0x860)][_0x2d09cc(0x549)](_0x2a3c0c['id'],_0x138444);}[_0x5dd398(0x2b9)](_0x6c812,_0x43f115){const _0x50fe1f=_0x5dd398,_0x381a3b=this[_0x50fe1f(0x860)]['get'](_0x6c812['id']);if(_0x381a3b&&_0x381a3b[_0x50fe1f(0x3f5)]!==_0x43f115&&(_0x381a3b['priority']=_0x43f115,_0x381a3b[_0x50fe1f(0x475)][_0x50fe1f(0x51f)]&&_0x381a3b['tracks'][_0x50fe1f(0x51f)][_0x50fe1f(0x78d)])){const _0x1434db=_0x381a3b['tracks'][_0x50fe1f(0x51f)][_0x50fe1f(0x78d)];this[_0x50fe1f(0x5af)][_0x50fe1f(0x438)](_0x1434db,Math[_0x50fe1f(0x532)](0xa*_0x381a3b[_0x50fe1f(0x1ce)])/0xa,_0x381a3b[_0x50fe1f(0x5dd)],_0x381a3b[_0x50fe1f(0x66f)],_0x381a3b['priority']);}}[_0x5dd398(0x605)](_0x1e2497,_0x19ec9c){const _0x457110=_0x5dd398,_0x34ed27=this[_0x457110(0x860)]['get'](_0x1e2497['id']);if(_0x34ed27){if(_0x34ed27[_0x457110(0x618)]=_0x19ec9c,_0x19ec9c&&_0x457110(0x51f)===_0x19ec9c[_0x457110(0x806)]&&_0x19ec9c[_0x457110(0x3a0)]&&_0x19ec9c['maxResolution']){if(_0x34ed27[_0x457110(0x428)]=this[_0x457110(0x2f3)](_0x19ec9c[_0x457110(0x3a0)],_0x19ec9c['maxResolution']),_0x34ed27[_0x457110(0x1ce)]<_0x34ed27['minResolutionScale']&&(_0x34ed27[_0x457110(0x1ce)]=_0x34ed27[_0x457110(0x428)]),_0x34ed27[_0x457110(0x475)][_0x457110(0x51f)]&&_0x34ed27[_0x457110(0x475)][_0x457110(0x51f)][_0x457110(0x78d)]){const _0x494d9e=_0x34ed27['tracks']['video'][_0x457110(0x78d)];this[_0x457110(0x5af)][_0x457110(0x438)](_0x494d9e,Math[_0x457110(0x532)](0xa*_0x34ed27[_0x457110(0x1ce)])/0xa,_0x34ed27['framerate'],_0x34ed27[_0x457110(0x66f)],_0x34ed27[_0x457110(0x3f5)]);}this['clearUpgradeTimeout'](),this[_0x457110(0x702)]();}this[_0x457110(0x860)][_0x457110(0x549)](_0x1e2497['id'],_0x34ed27);}}[_0x5dd398(0x55b)](_0x751b15,_0x155c5f){const _0x3c2037=_0x5dd398,_0x21acf2=this[_0x3c2037(0x860)][_0x3c2037(0x7ef)](_0x155c5f['id']);if(_0x21acf2){const _0x161782=_0x21acf2['tracks'][_0x751b15['kind']];_0x161782&&(_0x161782[_0x3c2037(0x78d)]&&this[_0x3c2037(0x5af)][_0x3c2037(0x55b)](_0x161782[_0x3c2037(0x78d)]),_0x161782[_0x3c2037(0x706)]=void 0x0);}}[_0x5dd398(0x717)](_0x16a776){const _0x1fba40=_0x5dd398;this[_0x1fba40(0x3f7)]();const _0x18c443=function(_0x1db570,_0x91e0ce){const _0x5752f7=_0x1fba40;return _0x1db570[_0x5752f7(0x615)]((_0xa389e9,_0x16d496)=>_0x91e0ce[_0x5752f7(0x4c1)]===_0x2219c8[_0x5752f7(0x6a8)]?_0x16d496[_0x5752f7(0x3f5)]-_0xa389e9[_0x5752f7(0x3f5)]:_0xa389e9['priority']-_0x16d496[_0x5752f7(0x3f5)])[_0x5752f7(0x33c)](_0x5624e8=>function(_0x5c88e2,_0x59875a){const _0x286f1a=_0x5752f7;if(_0x59875a['action']===_0x2219c8[_0x286f1a(0x6a8)]){if(_0x59875a['component']===_0x2ff4e6[_0x286f1a(0x4a2)])return _0x5c88e2['resolutionScale']<0x4||_0x5c88e2['maxFramerate']>0xf;if(_0x59875a[_0x286f1a(0x3a9)]===_0x2ff4e6[_0x286f1a(0x531)])return _0x5c88e2[_0x286f1a(0x277)]>_0x18245d;}return _0x5c88e2[_0x286f1a(0x1ce)]>_0x5c88e2['minResolutionScale']||_0x5c88e2['framerate']<_0x5c88e2[_0x286f1a(0x824)]||_0x5c88e2[_0x286f1a(0x66f)]<_0x5c88e2[_0x286f1a(0x277)];}(_0x5624e8,_0x91e0ce));}(Array[_0x1fba40(0x5e2)](this[_0x1fba40(0x860)][_0x1fba40(0x4e3)]()),_0x16a776);if(_0x18c443&&(function(_0x5e7d59,_0x4200df){const _0x37e799=_0x1fba40;_0x5e7d59[_0x37e799(0x475)][_0x37e799(0x51f)]&&_0x5e7d59[_0x37e799(0x475)][_0x37e799(0x51f)][_0x37e799(0x78d)]&&(_0x5e7d59[_0x37e799(0x1ce)]=function(_0x3d075b,_0x5de1d4,_0x307371){const _0x566e5f=_0x37e799;switch(_0x307371[_0x566e5f(0x4c1)]){case _0x2219c8[_0x566e5f(0x6a8)]:_0x307371[_0x566e5f(0x3a9)]===_0x2ff4e6[_0x566e5f(0x4a2)]&&(_0x3d075b+=0.5)>0x4&&(_0x3d075b=0x4);break;case _0x2219c8[_0x566e5f(0x48e)]:(_0x3d075b-=0.5)<_0x5de1d4&&(_0x3d075b=_0x5de1d4);}return _0x3d075b;}(_0x5e7d59[_0x37e799(0x1ce)],_0x5e7d59[_0x37e799(0x428)],_0x4200df),_0x5e7d59['framerate']=function(_0x4ed835,_0x2c7265,_0x5bd790){const _0x5a4b3c=_0x37e799;switch(_0x5bd790[_0x5a4b3c(0x4c1)]){case _0x2219c8['Downgrade']:_0x5bd790['component']===_0x2ff4e6['Resolution']&&(_0x4ed835-=0x3)<0xf&&(_0x4ed835=0xf);break;case _0x2219c8[_0x5a4b3c(0x48e)]:(_0x4ed835+=0x3)>_0x2c7265&&(_0x4ed835=_0x2c7265);}return _0x4ed835;}(_0x5e7d59[_0x37e799(0x5dd)],_0x5e7d59['maxFramerate'],_0x4200df),_0x5e7d59[_0x37e799(0x66f)]=function(_0x1a309a,_0x26eaa8,_0x1d827b){const _0x3ed3f8=_0x37e799;switch(_0x1d827b['action']){case _0x2219c8[_0x3ed3f8(0x6a8)]:_0x1d827b[_0x3ed3f8(0x3a9)]===_0x2ff4e6['Bitrate']&&(_0x1a309a*=0.75)<_0x18245d&&(_0x1a309a=_0x18245d);break;case _0x2219c8[_0x3ed3f8(0x48e)]:(_0x1a309a*=1.25)>_0x26eaa8&&(_0x1a309a=_0x26eaa8);}return _0x1a309a;}(_0x5e7d59[_0x37e799(0x66f)],_0x5e7d59['maxBitrate'],_0x4200df));}(_0x18c443,_0x16a776),_0x18c443[_0x1fba40(0x475)][_0x1fba40(0x51f)]&&_0x18c443[_0x1fba40(0x475)][_0x1fba40(0x51f)][_0x1fba40(0x78d)])){const _0x1fd7ea=_0x18c443['tracks']['video'][_0x1fba40(0x78d)];this[_0x1fba40(0x5af)]['setEncodingParameters'](_0x1fd7ea,Math[_0x1fba40(0x532)](0xa*_0x18c443[_0x1fba40(0x1ce)])/0xa,_0x18c443[_0x1fba40(0x5dd)],_0x18c443['bitrate'],_0x18c443['priority']);}(_0x18c443||_0x16a776[_0x1fba40(0x4c1)]===_0x2219c8['Downgrade'])&&this[_0x1fba40(0x702)]();}[_0x5dd398(0x3bc)](){const _0x39def7=_0x5dd398;return this[_0x39def7(0x38d)][_0x39def7(0x3ff)][_0x39def7(0x1c3)]((_0x54fe16,_0x4c3a05)=>_0x54fe16+_0x4c3a05[_0x39def7(0x3ee)],0x0)*_0x29b399;}[_0x5dd398(0x7d6)](){const _0x30d12b=_0x5dd398;super['resetConnection'](),this[_0x30d12b(0x527)](),this['clearWaitAnswer'](),this['senders'][_0x30d12b(0x710)](_0x578d57=>{const _0xe6aff9=_0x30d12b;_0x578d57['tracks'][_0xe6aff9(0x51f)]&&(_0x578d57['tracks']['video']['sender']=void 0x0),_0x578d57['tracks'][_0xe6aff9(0x3aa)]&&(_0x578d57['tracks']['audio'][_0xe6aff9(0x78d)]=void 0x0);}),this[_0x30d12b(0x70e)]=!0x0;}async['waitSendBuffer'](){return new Promise(async _0x2dfdaf=>{const _0x4d2068=a0_0x553c;if(!this[_0x4d2068(0x344)]||'open'!==this[_0x4d2068(0x344)]['state'])return await _0x478a69[_0x4d2068(0x737)](0x64),void _0x2dfdaf();this[_0x4d2068(0x344)]['bufferedAmount']<_0x531cca?_0x2dfdaf():this[_0x4d2068(0x344)][_0x4d2068(0x617)]=()=>{const _0x496882=_0x4d2068;this['dataChannel']&&(this['dataChannel'][_0x496882(0x617)]=null),_0x2dfdaf();};});}[_0x5dd398(0x224)](_0x402d82,_0x5ec998){const _0x46f324=_0x5dd398,_0x17a6e2=[];for(let _0x14459c=0x0;_0x14459c<_0x5ec998[_0x46f324(0x5f4)];_0x14459c+=_0x11426b)_0x17a6e2[_0x46f324(0x28d)](_0x5ec998[_0x46f324(0x6fb)](_0x14459c,_0x14459c+_0x11426b));for(const _0x53bd6d of _0x17a6e2)this[_0x46f324(0x7af)](_0x28fe02+';'+_0x402d82[_0x46f324(0x445)]+';'+_0x17a6e2['indexOf'](_0x53bd6d)+';'+_0x17a6e2[_0x46f324(0x5f4)]+';'+_0x53bd6d,_0xe29917[_0x46f324(0x573)]);}async[_0x5dd398(0x7af)](_0x26fd1f,_0x443726){const _0x548f42=_0x5dd398;_0x26fd1f===_0x445976?this['retryQueue']['queues'][_0x443726][_0x548f42(0x23b)]?.[_0x548f42(0x309)]!==_0x445976&&this[_0x548f42(0x38d)][_0x548f42(0x3ff)][_0x443726][_0x548f42(0x265)](_0x26fd1f):this['retryQueue'][_0x548f42(0x3ff)][_0x443726]['push'](_0x26fd1f);}[_0x5dd398(0x7f1)](_0x308797){const _0x50976e=_0x5dd398;if(!this[_0x50976e(0x344)]||_0x50976e(0x42f)!==this[_0x50976e(0x344)][_0x50976e(0x2ef)])throw new Error(_0x50976e(0x1c6));if(this['dataChannel'][_0x50976e(0x6cf)]>=0xbe8000)throw new Error(_0x50976e(0x39e));const _0x494de2=Date[_0x50976e(0x4bb)]();_0x308797!==_0x445976&&(this['messagesSent']+=0x1,this['bytesSent']+=_0x308797 instanceof ArrayBuffer?_0x308797[_0x50976e(0x233)]:_0x308797[_0x50976e(0x5f4)]),ArrayBuffer,this[_0x50976e(0x344)][_0x50976e(0x2fb)](_0x308797),this[_0x50976e(0x7b6)]+=Date[_0x50976e(0x4bb)]()-_0x494de2;}[_0x5dd398(0x2bb)](){const _0x49ec0e=_0x5dd398;this[_0x49ec0e(0x559)]&&this[_0x49ec0e(0x840)]();let _0x4e73a6=!0x0,_0x58b4f0=Date[_0x49ec0e(0x4bb)]();this[_0x49ec0e(0x254)]=Date[_0x49ec0e(0x4bb)](),this[_0x49ec0e(0x344)][_0x49ec0e(0x69f)]=_0x520111=>{const _0x358648=_0x49ec0e;'1'===_0x520111[_0x358648(0x46f)]&&(this['roundTripTime']=Date[_0x358648(0x4bb)]()-_0x58b4f0,_0x4e73a6&&this[_0x358648(0x620)]({'type':_0x3bfb21['Success']}),_0x4e73a6=!0x1,this[_0x358648(0x254)]=Date[_0x358648(0x4bb)](),this['isReconnecting']&&(this['isReconnecting']=!0x1,this[_0x358648(0x396)]()));},this[_0x49ec0e(0x559)]=_0x478a69[_0x49ec0e(0x1c5)](()=>{const _0x13c45c=_0x49ec0e;_0x58b4f0=Date[_0x13c45c(0x4bb)](),this[_0x13c45c(0x7af)](_0x445976,_0xe29917[_0x13c45c(0x1b2)]),Date['now']()-this[_0x13c45c(0x254)]>(_0x4e73a6?0x15f90:0x3a98)&&this[_0x13c45c(0x647)]();},0xbb8);}['handleMissingSenders'](){const _0xce7efc=_0x5dd398;this['senders'][_0xce7efc(0x710)](_0x513d78=>{const _0x543e9c=_0xce7efc;_0x513d78[_0x543e9c(0x475)]['video']&&_0x513d78['tracks'][_0x543e9c(0x51f)]['track']&&!_0x513d78[_0x543e9c(0x475)]['video'][_0x543e9c(0x78d)]&&(_0x513d78[_0x543e9c(0x475)][_0x543e9c(0x51f)]['sender']=this['connection'][_0x543e9c(0x7a2)](_0x513d78[_0x543e9c(0x475)]['video']['track'],_0x513d78[_0x543e9c(0x4f2)])),_0x513d78[_0x543e9c(0x475)][_0x543e9c(0x3aa)]&&_0x513d78[_0x543e9c(0x475)][_0x543e9c(0x3aa)]['track']&&!_0x513d78['tracks']['audio']['sender']&&(_0x513d78[_0x543e9c(0x475)][_0x543e9c(0x3aa)][_0x543e9c(0x78d)]=this[_0x543e9c(0x5af)][_0x543e9c(0x7a2)](_0x513d78[_0x543e9c(0x475)][_0x543e9c(0x3aa)]['track'],_0x513d78[_0x543e9c(0x4f2)]));});}[_0x5dd398(0x200)](){const _0x2e7d12=_0x5dd398;this[_0x2e7d12(0x620)]({'type':_0x3bfb21['Handshake'],'candidates':this['handshakeCandidates'],'origin':_0x4d5e61[_0x2e7d12(0x6cb)],'version':this[_0x2e7d12(0x828)],'connectionType':this['connectionType']});}[_0x5dd398(0x389)](){const _0x5efe49=_0x5dd398;super[_0x5efe49(0x389)](),this[_0x5efe49(0x5af)]['onHandshakeStateChange']=()=>{const _0xabf4eb=_0x5efe49;if(_0xabf4eb(0x29f)===this[_0xabf4eb(0x5af)]['handshakeState']){_0x52f76b[_0xabf4eb(0x20d)](_0x4f3b4c[_0xabf4eb(0x629)],_0xabf4eb(0x2a7),this[_0xabf4eb(0x5fb)][_0xabf4eb(0x330)](),this[_0xabf4eb(0x3e8)]);try{if(this['connection']['canRestartHandshake'])return void this[_0xabf4eb(0x5af)][_0xabf4eb(0x5c5)]();}catch(_0x4e6323){}this[_0xabf4eb(0x510)]({'handshakeRestart':!0x0});}},this[_0x5efe49(0x5af)][_0x5efe49(0x2d2)]=()=>{const _0x13eb4a=_0x5efe49;_0x13eb4a(0x86c)!==this[_0x13eb4a(0x5af)][_0x13eb4a(0x5f0)]&&_0x13eb4a(0x29f)!==this[_0x13eb4a(0x5af)][_0x13eb4a(0x5f0)]||this['handleDisconnect']();};}['handleDisconnect'](){const _0x55f88d=_0x5dd398;this[_0x55f88d(0x840)](),this[_0x55f88d(0x5b6)](),this[_0x55f88d(0x325)](),_0x52f76b['warning'](_0x55f88d(0x5da),{'clusterId':this[_0x55f88d(0x1ff)],'nodeId':this[_0x55f88d(0x5fb)]['getId'](),'nodeType':this[_0x55f88d(0x5fb)][_0x55f88d(0x72a)],'remoteId':this['remoteId'],'data':{'connectionType':this[_0x55f88d(0x3c0)],'connectionState':this[_0x55f88d(0x5af)][_0x55f88d(0x5f0)],'iceConnectionState':this['connection'][_0x55f88d(0x436)],'signalingState':this[_0x55f88d(0x5af)]['signalingState'],'readyState':this['dataChannel']?.['state']||'','lastHeartbeat':this['lastHeartbeat']?Date[_0x55f88d(0x4bb)]()-this[_0x55f88d(0x254)]:'','retryQueue':this[_0x55f88d(0x38d)]}}),(this[_0x55f88d(0x254)]&&Date[_0x55f88d(0x4bb)]()-this['lastHeartbeat']>0xea60)??0x1?this[_0x55f88d(0x7fa)][_0x55f88d(0x7b0)]({'sourceId':this['remoteId'],'destinationIds':[this[_0x55f88d(0x5fb)][_0x55f88d(0x330)]()],'messageType':_0x3efa6a[_0x55f88d(0x2a9)],'content':{'type':_0x3bfb21[_0x55f88d(0x3fc)]}}):(this[_0x55f88d(0x7d6)](),this[_0x55f88d(0x620)]({'type':_0x3bfb21['NeedRestart'],'version':this['currentVersion'],'connectionType':this[_0x55f88d(0x3c0)]}),this[_0x55f88d(0x412)]=setTimeout(()=>{this['handleDisconnect']();},0x7530));}['clearHeartbeat'](){const _0x23cf46=_0x5dd398;this['heartbeatUnsubscriber']?.(),delete this[_0x23cf46(0x559)];}[_0x5dd398(0x325)](){const _0x3da942=_0x5dd398;this[_0x3da942(0x632)]&&(clearTimeout(this[_0x3da942(0x632)]),delete this[_0x3da942(0x632)]);}[_0x5dd398(0x5b6)](){const _0x226e8f=_0x5dd398;this[_0x226e8f(0x412)]&&(clearTimeout(this[_0x226e8f(0x412)]),delete this['restartTimeout']);}[_0x5dd398(0x3f7)](){const _0x568f4a=_0x5dd398;this[_0x568f4a(0x322)]&&(clearTimeout(this[_0x568f4a(0x322)]),delete this[_0x568f4a(0x322)]);}[_0x5dd398(0x702)](){const _0x5e8558=_0x5dd398;this[_0x5e8558(0x322)]=setTimeout(()=>{const _0x29ce07=_0x5e8558;this['applyRemediation']({'type':_0x4a6ae2[_0x29ce07(0x817)],'action':_0x2219c8[_0x29ce07(0x48e)]});},0x3a98);}[_0x5dd398(0x2f3)](_0x4923c0,_0x6963c0){const _0x49df3b=_0x5dd398,_0x1ef192=Math['max'](_0x4923c0[_0x49df3b(0x465)]/_0x6963c0[_0x49df3b(0x465)],_0x4923c0[_0x49df3b(0x6b1)]/_0x6963c0[_0x49df3b(0x6b1)]);return Math[_0x49df3b(0x266)](Math[_0x49df3b(0x43d)](_0x1ef192,0x1),0x4);}[_0x5dd398(0x7e6)](){const _0x368e09=_0x5dd398;this[_0x368e09(0x520)]?.(),delete this[_0x368e09(0x520)];}[_0x5dd398(0x527)](){const _0x33c3b2=_0x5dd398;this[_0x33c3b2(0x62a)]&&(clearTimeout(this[_0x33c3b2(0x62a)]),delete this[_0x33c3b2(0x62a)]);}['objectToArrayBuffer'](_0x3f4c63){const _0x93906b=_0x5dd398,_0x42ff2d=JSON[_0x93906b(0x698)](_0x3f4c63);return new TextEncoder()[_0x93906b(0x43b)](_0x42ff2d)[_0x93906b(0x53b)];}[_0x5dd398(0x773)](_0x2cc629,_0x2004fd){const _0x976df0=_0x5dd398,_0x4b5096=this['objectToArrayBuffer'](_0x2cc629),_0x4077a1=new Uint8Array(0x4),_0x9dd199=new Uint8Array(_0x4b5096),_0x46e85e=new Uint8Array(_0x2004fd);_0x4077a1[_0x976df0(0x549)](new Uint8Array(new Uint32Array([_0x9dd199['length']])[_0x976df0(0x53b)]));const _0x13cbca=new Uint8Array(0x4+_0x9dd199['length']+_0x46e85e[_0x976df0(0x5f4)]);return _0x13cbca[_0x976df0(0x549)](_0x4077a1),_0x13cbca['set'](_0x9dd199,0x4),_0x13cbca[_0x976df0(0x549)](_0x46e85e,0x4+_0x9dd199[_0x976df0(0x5f4)]),_0x13cbca[_0x976df0(0x53b)];}}class _0x1c03af extends _0x1b998b{[_0x5dd398(0x1e4)];[_0x5dd398(0x3c0)];['maxFps'];[_0x5dd398(0x2c6)];[_0x5dd398(0x1b7)];[_0x5dd398(0x708)];[_0x5dd398(0x75a)];[_0x5dd398(0x5db)]=[];['messageListeners']=_0x1c03f0();[_0x5dd398(0x454)]=_0x1c03f0();[_0x5dd398(0x34a)]=_0x1c03f0();['listenerUnsubscribers']=[];['systemTopic'];[_0x5dd398(0x82d)]=new Map();[_0x5dd398(0x1ea)]=new Map();['mediaTopics']=new Map();[_0x5dd398(0x57a)]=new Map();['successNotified']=!0x1;constructor(_0x282f0e,_0x7a8041,_0x36b86a,_0x3aac4d,_0x3f5899,_0x47f10f,_0x52dcbb,_0x53975c){const _0x2f4b1b=_0x5dd398;super(_0x282f0e,_0x7a8041,_0x36b86a),this[_0x2f4b1b(0x1e4)]=_0x3aac4d,this['connectionType']=_0x3f5899,this[_0x2f4b1b(0x4d2)]=_0x47f10f,this['maxBpp']=_0x52dcbb,this['connectionConstructor']=_0x53975c;}['registerPublisher'](_0x590c25){const _0x3679e8=_0x5dd398;switch(_0x590c25['getContentType']()){case _0x47065f['ContentType'][_0x3679e8(0x4ad)]:case _0x47065f[_0x3679e8(0x447)][_0x3679e8(0x5a8)]:case _0x47065f[_0x3679e8(0x447)][_0x3679e8(0x5eb)]:case _0x47065f[_0x3679e8(0x447)]['KeyValueDatabase']:case _0x47065f[_0x3679e8(0x447)]['Job']:this[_0x3679e8(0x82d)]['set'](_0x590c25[_0x3679e8(0x544)](),_0x590c25);break;case _0x47065f['ContentType'][_0x3679e8(0x6c3)]:this[_0x3679e8(0x80a)][_0x3679e8(0x549)](_0x590c25[_0x3679e8(0x544)](),_0x590c25);}}[_0x5dd398(0x441)](_0x1e75ef){const _0x966d26=_0x5dd398;switch(_0x1e75ef[_0x966d26(0x323)]()){case _0x47065f[_0x966d26(0x447)][_0x966d26(0x4ad)]:case _0x47065f[_0x966d26(0x447)][_0x966d26(0x5a8)]:case _0x47065f[_0x966d26(0x447)][_0x966d26(0x5eb)]:case _0x47065f[_0x966d26(0x447)][_0x966d26(0x550)]:case _0x47065f[_0x966d26(0x447)][_0x966d26(0x41a)]:this[_0x966d26(0x82d)][_0x966d26(0x2d8)](_0x1e75ef[_0x966d26(0x544)]());break;case _0x47065f[_0x966d26(0x447)][_0x966d26(0x6c3)]:this['mediaTopics']['delete'](_0x1e75ef[_0x966d26(0x544)]());}}[_0x5dd398(0x28b)](_0x569af4){const _0x36519b=_0x5dd398;switch(_0x569af4[_0x36519b(0x323)]()){case _0x47065f['ContentType'][_0x36519b(0x4ad)]:case _0x47065f[_0x36519b(0x447)][_0x36519b(0x5a8)]:case _0x47065f[_0x36519b(0x447)][_0x36519b(0x5eb)]:case _0x47065f[_0x36519b(0x447)][_0x36519b(0x550)]:case _0x47065f[_0x36519b(0x447)][_0x36519b(0x41a)]:{const _0xb988f5=_0x569af4[_0x36519b(0x431)](_0x4a92af=>{const _0x23a7a8=_0x36519b;_0x4becc8(_0x4a92af,this[_0x23a7a8(0x279)]())&&_0xcfcc2b(_0x4a92af,this['remoteId'])&&this['send'](_0x4a92af);});this[_0x36519b(0x1ea)][_0x36519b(0x549)](_0x569af4['getLabel'](),_0xb988f5);break;}case _0x47065f[_0x36519b(0x447)][_0x36519b(0x6c3)]:{const _0x4fd13b=_0x569af4[_0x36519b(0x431)](({content:_0x392221})=>{const _0x911834=_0x36519b;switch(_0x392221[_0x911834(0x4c1)]){case _0x24ec37[_0x911834(0x25a)]:this[_0x911834(0x7a2)](_0x392221['track'],_0x392221[_0x911834(0x4f2)],_0x392221['priority'],_0x392221[_0x911834(0x618)]);break;case _0x24ec37['Remove']:this[_0x911834(0x55b)](_0x392221[_0x911834(0x706)],_0x392221[_0x911834(0x4f2)]);break;case _0x24ec37[_0x911834(0x78b)]:_0x392221[_0x911834(0x3f5)]&&this[_0x911834(0x2b9)](_0x392221[_0x911834(0x4f2)],_0x392221['priority']),_0x392221[_0x911834(0x618)]&&this[_0x911834(0x605)](_0x392221[_0x911834(0x4f2)],_0x392221[_0x911834(0x618)]);}});this['mediaUnsubscribers'][_0x36519b(0x549)](_0x569af4[_0x36519b(0x544)](),_0x4fd13b);break;}}}['unregisterSubscriber'](_0x59d0c6){const _0x175b3d=_0x5dd398;switch(_0x59d0c6[_0x175b3d(0x323)]()){case _0x47065f[_0x175b3d(0x447)][_0x175b3d(0x4ad)]:case _0x47065f['ContentType'][_0x175b3d(0x5a8)]:case _0x47065f[_0x175b3d(0x447)]['ObjectStore']:case _0x47065f[_0x175b3d(0x447)][_0x175b3d(0x550)]:case _0x47065f[_0x175b3d(0x447)]['Job']:this[_0x175b3d(0x1ea)][_0x175b3d(0x7ef)](_0x59d0c6[_0x175b3d(0x544)]())?.(),this['dataUnsubscribers']['delete'](_0x59d0c6[_0x175b3d(0x544)]());break;case _0x47065f[_0x175b3d(0x447)][_0x175b3d(0x6c3)]:this[_0x175b3d(0x57a)][_0x175b3d(0x7ef)](_0x59d0c6[_0x175b3d(0x544)]())?.(),this[_0x175b3d(0x57a)][_0x175b3d(0x2d8)](_0x59d0c6['getLabel']());}}[_0x5dd398(0x300)](){const _0x296797=_0x5dd398;return[_0x47065f['ContentType'][_0x296797(0x4ad)],_0x47065f['ContentType']['PubSub'],_0x47065f[_0x296797(0x447)][_0x296797(0x5eb)],_0x47065f['ContentType']['KeyValueDatabase'],_0x47065f[_0x296797(0x447)]['Job']];}[_0x5dd398(0x442)](_0x5746b1){this['systemTopic']=_0x5746b1;}['unregisterSystemPublisher'](){const _0x5c9ab6=_0x5dd398;delete this[_0x5c9ab6(0x7fa)];}async['connect'](){const _0x4c2a12=_0x5dd398;this[_0x4c2a12(0x45b)](),await this[_0x4c2a12(0x510)]();}[_0x5dd398(0x362)](){const _0x4b764d=_0x5dd398;this[_0x4b764d(0x754)][_0x4b764d(0x710)](_0x4498fe=>_0x4498fe()),this[_0x4b764d(0x754)]=[],this[_0x4b764d(0x708)]?.[_0x4b764d(0x7d9)](),this[_0x4b764d(0x708)]?.[_0x4b764d(0x362)](),delete this[_0x4b764d(0x708)],this[_0x4b764d(0x5db)][_0x4b764d(0x710)](_0x1c78e6=>_0x1c78e6()),this[_0x4b764d(0x5db)]=[],this[_0x4b764d(0x75a)]?.['unregisterSystemPublisher'](),this[_0x4b764d(0x75a)]?.[_0x4b764d(0x362)](),delete this[_0x4b764d(0x75a)];}['isConnected'](){const _0x26bd4b=_0x5dd398;return this[_0x26bd4b(0x708)]?.[_0x26bd4b(0x386)]()&&this[_0x26bd4b(0x75a)]?.[_0x26bd4b(0x386)]()||!0x1;}[_0x5dd398(0x2fb)](_0x38f868){const _0x4ab936=_0x5dd398;if(!this[_0x4ab936(0x708)]||!this['isConnected']())throw new _0x189e7c(_0x189e7c[_0x4ab936(0x32a)][_0x4ab936(0x791)],{'message':_0x4ab936(0x57d),'senderConnected':this[_0x4ab936(0x708)]?.[_0x4ab936(0x386)](),'receiverConnected':this['receiverConnection']?.[_0x4ab936(0x386)](),'localId':this[_0x4ab936(0x279)](),'remoteId':this['remoteId'],'data':_0x38f868});this['senderConnection'][_0x4ab936(0x2fb)](_0x38f868);}['onMessage'](_0x41c545){const _0x230dae=_0x5dd398;return this['messageListeners'][_0x230dae(0x431)](_0x41c545);}[_0x5dd398(0x735)](_0xd285a6){const _0x4efdc8=_0x5dd398;return this[_0x4efdc8(0x454)][_0x4efdc8(0x431)](({track:_0x47c4ef,stream:_0x24cd70})=>_0xd285a6(_0x47c4ef,_0x24cd70));}[_0x5dd398(0x677)](_0x35320a){const _0x317851=_0x5dd398;return this[_0x317851(0x34a)]['subscribe'](({track:_0x4b106e,stream:_0x39b22e})=>_0x35320a(_0x4b106e,_0x39b22e));}[_0x5dd398(0x7a2)](_0x128e56,_0xddfa9c,_0x37fd7a,_0x23ebd7){const _0x3fd0ae=_0x5dd398;this['senderConnection']?.[_0x3fd0ae(0x7a2)](_0x128e56,_0xddfa9c,_0x37fd7a,_0x23ebd7);}[_0x5dd398(0x2b9)](_0x4f0aea,_0x304439){const _0x429ca4=_0x5dd398;this[_0x429ca4(0x708)]?.[_0x429ca4(0x2b9)](_0x4f0aea,_0x304439);}[_0x5dd398(0x605)](_0x7ec882,_0x2b8eae){const _0x3ca584=_0x5dd398;this['senderConnection']?.[_0x3ca584(0x605)](_0x7ec882,_0x2b8eae);}[_0x5dd398(0x55b)](_0x5e0214,_0x7a7ddb){const _0x45fbf5=_0x5dd398;this['senderConnection']?.[_0x45fbf5(0x55b)](_0x5e0214,_0x7a7ddb);}async['handlePeerConnectionSystemEvents'](_0x4f1cac){const _0x1db0d6=_0x5dd398;_0x52f76b[_0x1db0d6(0x20d)](_0x4f3b4c[_0x1db0d6(0x310)],_0x1db0d6(0x6c0),this[_0x1db0d6(0x279)](),_0x4f1cac);const {content:_0x5ff70b}=_0x4f1cac;switch(_0x5ff70b[_0x1db0d6(0x72a)]){case _0x3bfb21['Offer']:await this[_0x1db0d6(0x83f)](_0x5ff70b);break;case _0x3bfb21[_0x1db0d6(0x23a)]:await this[_0x1db0d6(0x84a)](_0x5ff70b);break;case _0x3bfb21['Success']:this['handleSuccess']();break;case _0x3bfb21[_0x1db0d6(0x4da)]:await this['handleIceCandidates'](_0x5ff70b);break;case _0x3bfb21[_0x1db0d6(0x76a)]:this[_0x1db0d6(0x826)](_0x5ff70b);break;case _0x3bfb21[_0x1db0d6(0x328)]:await this[_0x1db0d6(0x510)]();}}[_0x5dd398(0x495)](_0x5975c1){const _0x164994=_0x5dd398;this['senderConnection']?.[_0x164994(0x717)](_0x5975c1[_0x164994(0x69a)][_0x164994(0x46f)]);}['getConnectionType'](){const _0x464b0a=_0x5dd398;return this[_0x464b0a(0x3c0)];}['setConnectionType'](_0x1d2753){const _0x4f3691=_0x5dd398;this['connectionType']=_0x1d2753,this['senderConnection']?.[_0x4f3691(0x673)](_0x1d2753),this[_0x4f3691(0x75a)]?.[_0x4f3691(0x673)](_0x1d2753);}async[_0x5dd398(0x56b)](){const _0x1ccea3=_0x5dd398;await this['senderConnection']?.['collectStats'](),await this[_0x1ccea3(0x75a)]?.[_0x1ccea3(0x56b)]();}[_0x5dd398(0x3bc)](){const _0x1fe914=_0x5dd398;return this[_0x1fe914(0x708)]?.[_0x1fe914(0x3bc)]()||0x0;}[_0x5dd398(0x45b)](){const _0x27c761=_0x5dd398;this[_0x27c761(0x754)]['push'](this[_0x27c761(0x69f)](_0xfae122=>{const _0x32aa57=_0x27c761;_0xcfcc2b(_0xfae122,this[_0x32aa57(0x279)]())&&0x0!==_0xfae122['topicLabel']&&this[_0x32aa57(0x82d)][_0x32aa57(0x7ef)](_0xfae122['topicLabel'])?.[_0x32aa57(0x7b0)](_0xfae122);})),this[_0x27c761(0x754)][_0x27c761(0x28d)](this[_0x27c761(0x735)]((_0x333dd4,_0x6f4d04)=>{const _0x2ee2cd=_0x27c761,_0x284fd0=_0x2c0011(_0x47065f['ContentType'][_0x2ee2cd(0x6c3)],_0x6f4d04['id'],this[_0x2ee2cd(0x3e8)]);this['mediaTopics'][_0x2ee2cd(0x7ef)](_0x284fd0)?.['publish']({'topicLabel':_0x284fd0,'sourceId':this[_0x2ee2cd(0x3e8)],'contentType':_0x47065f[_0x2ee2cd(0x447)][_0x2ee2cd(0x6c3)],'content':{'action':_0x24ec37['RemoteAdd'],'track':_0x333dd4,'stream':_0x6f4d04,'providerId':this['remoteId']}});})),this[_0x27c761(0x754)][_0x27c761(0x28d)](this[_0x27c761(0x677)]((_0x8e88d,_0x3e34d6)=>{const _0x3ce16c=_0x27c761,_0xa106c5=_0x2c0011(_0x47065f[_0x3ce16c(0x447)][_0x3ce16c(0x6c3)],_0x3e34d6['id'],this[_0x3ce16c(0x3e8)]);this[_0x3ce16c(0x80a)]['get'](_0xa106c5)?.[_0x3ce16c(0x7b0)]({'topicLabel':_0xa106c5,'sourceId':this[_0x3ce16c(0x3e8)],'contentType':_0x47065f[_0x3ce16c(0x447)][_0x3ce16c(0x6c3)],'content':{'action':_0x24ec37[_0x3ce16c(0x5a3)],'track':_0x8e88d,'stream':_0x3e34d6,'providerId':this['remoteId']}});}));}['handleIceCandidates']({candidates:_0x14a5e4,origin:_0x50e547,version:_0x3528f7}){const _0x312037=_0x5dd398;return _0x50e547===_0x4d5e61['Sender']?(this[_0x312037(0x75a)]||this[_0x312037(0x387)](),this[_0x312037(0x75a)][_0x312037(0x267)](_0x14a5e4,_0x3528f7)):this[_0x312037(0x708)][_0x312037(0x267)](_0x14a5e4,_0x3528f7);}async[_0x5dd398(0x510)](){const _0x151c4c=_0x5dd398;this[_0x151c4c(0x708)]||this['createSenderConnection'](),await this[_0x151c4c(0x708)][_0x151c4c(0x510)]();}async[_0x5dd398(0x83f)]({offer:_0x3dd424,version:_0x3f4519}){const _0x19afe7=_0x5dd398;this[_0x19afe7(0x75a)]||this[_0x19afe7(0x387)](),await this[_0x19afe7(0x75a)][_0x19afe7(0x83f)](_0x3dd424,_0x3f4519);}async[_0x5dd398(0x84a)]({answer:_0x58b48f,version:_0x5d6ac3}){const _0x1d6192=_0x5dd398;if(!this[_0x1d6192(0x708)])throw new _0x189e7c(_0x189e7c[_0x1d6192(0x32a)][_0x1d6192(0x791)],{'message':_0x1d6192(0x3c3),'localId':this[_0x1d6192(0x279)](),'remoteId':this[_0x1d6192(0x3e8)],'answer':_0x58b48f});await this[_0x1d6192(0x708)][_0x1d6192(0x84a)](_0x58b48f,_0x5d6ac3);}['handleSuccess'](){const _0x58b876=_0x5dd398;if(!this[_0x58b876(0x75a)])throw new _0x189e7c(_0x189e7c[_0x58b876(0x32a)][_0x58b876(0x791)],{'message':'Receiver\x20connection\x20is\x20not\x20initialized.','localId':this[_0x58b876(0x279)](),'remoteId':this[_0x58b876(0x3e8)]});this[_0x58b876(0x75a)]['handleSuccess'](),this[_0x58b876(0x7f8)]||this[_0x58b876(0x3c0)]!==_0x519608['Optimization']||(this['successNotified']=!0x0,this['systemTopic']?.[_0x58b876(0x7b0)]({'sourceId':this[_0x58b876(0x3e8)],'destinationIds':[this['getLocalId']()],'messageType':_0x3efa6a['PeerConnection'],'content':{'type':_0x3bfb21['OptimizationConnectionSuccess']}}));}[_0x5dd398(0x826)](_0x535d3b){const _0x2d70f5=_0x5dd398;this[_0x2d70f5(0x75a)]||this[_0x2d70f5(0x387)](),this['receiverConnection']['handleNeedRestart'](_0x535d3b[_0x2d70f5(0x768)]);}['createSenderConnection'](){const _0x3c50f2=_0x5dd398;this[_0x3c50f2(0x708)]=new _0x16b9e4(this['clusterId'],this[_0x3c50f2(0x5fb)],this[_0x3c50f2(0x3e8)],this[_0x3c50f2(0x1e4)],this['connectionType'],this['maxFps'],this['maxBpp'],this[_0x3c50f2(0x1b7)]),this[_0x3c50f2(0x708)][_0x3c50f2(0x442)](this[_0x3c50f2(0x7fa)]);}['createReceiverConnection'](){const _0x417afe=_0x5dd398;this[_0x417afe(0x75a)]=new _0x3e8f2f(this[_0x417afe(0x1ff)],this['localNode'],this[_0x417afe(0x3e8)],this[_0x417afe(0x1e4)],this[_0x417afe(0x3c0)],this[_0x417afe(0x1b7)]),this[_0x417afe(0x75a)]['registerSystemPublisher'](this[_0x417afe(0x7fa)]),this[_0x417afe(0x5db)][_0x417afe(0x28d)](this[_0x417afe(0x75a)][_0x417afe(0x69f)](_0x3af66f=>this[_0x417afe(0x5ee)][_0x417afe(0x7b0)](_0x3af66f))),this[_0x417afe(0x5db)][_0x417afe(0x28d)](this[_0x417afe(0x75a)]['onTrack']((_0x85738d,_0x4e9424)=>this[_0x417afe(0x454)][_0x417afe(0x7b0)]({'track':_0x85738d,'stream':_0x4e9424}))),this[_0x417afe(0x5db)]['push'](this['receiverConnection']['onRemoveTrack']((_0x4d277c,_0x1d265e)=>this[_0x417afe(0x34a)][_0x417afe(0x7b0)]({'track':_0x4d277c,'stream':_0x1d265e})));}}class _0x30c6a8{[_0x5dd398(0x260)];['messageBuffer'];[_0x5dd398(0x76c)];[_0x5dd398(0x2ba)]=new Map();[_0x5dd398(0x5ee)]=_0x1c03f0();['messageUnsubscriber'];['dataTopics']=new Map();[_0x5dd398(0x1ea)]=new Map();[_0x5dd398(0x1c4)]=new Map();constructor(_0x1e8659,_0x27f9c4,_0x39b4dd){const _0x13b249=_0x5dd398;this[_0x13b249(0x260)]=_0x1e8659,this[_0x13b249(0x1e9)]=_0x27f9c4,this[_0x13b249(0x76c)]=_0x39b4dd,this[_0x13b249(0x669)]=this[_0x13b249(0x69f)](_0x487a7e=>{const _0x4a4af8=_0x13b249;this[_0x4a4af8(0x1e9)]['hasMessage'](_0x487a7e['uuid'])||(_0xcfcc2b(_0x487a7e,this['localId'])&&0x0!==_0x487a7e['topicLabel']&&(this['messageBuffer'][_0x4a4af8(0x862)](_0x487a7e[_0x4a4af8(0x445)]),this[_0x4a4af8(0x82d)]['get'](_0x487a7e[_0x4a4af8(0x6b7)])?.[_0x4a4af8(0x7b0)](_0x487a7e)),_0x487a7e[_0x4a4af8(0x801)]&&this[_0x4a4af8(0x2fb)](_0x487a7e));});}[_0x5dd398(0x362)](){this['messageUnsubscriber']?.();}[_0x5dd398(0x206)](_0x47fa76){const _0x2ba7bd=_0x5dd398,_0x3538a4=_0x47fa76[_0x2ba7bd(0x69f)](_0x3eadb9=>{const _0x2c1eea=_0x2ba7bd;this[_0x2c1eea(0x5ee)]['publish'](_0x3eadb9);});this[_0x2ba7bd(0x2ba)]['set'](_0x47fa76,_0x3538a4),this[_0x2ba7bd(0x1c4)]['set'](_0x47fa76[_0x2ba7bd(0x48d)](),function(_0x5352e4,_0x745a65=!0x1){let _0x8b4284=new Map();const _0x1102cc=_0x16a601(_0x5352e4,_0x745a65,function(_0x51fc67){const _0x1a57f8=a0_0x553c;_0x20fc85(_0x51fc67)&&_0x8b4284['delete'](_0x51fc67[_0x1a57f8(0x562)]+'-'+(_0x51fc67[_0x1a57f8(0x7c9)]??[])+'-'+_0x51fc67[_0x1a57f8(0x814)]+'-'+_0x51fc67[_0x1a57f8(0x69a)]['type']);},function(_0x1e2f5a){return!!function(_0x3fa5b2){const _0x3ea93e=a0_0x553c,_0x2a9a12=_0x3fa5b2[_0x3ea93e(0x309)];if(!_0x20fc85(_0x2a9a12))return!0x1;const _0x4a184f=_0x2a9a12[_0x3ea93e(0x562)]+'-'+(_0x2a9a12[_0x3ea93e(0x7c9)]??[])+'-'+_0x2a9a12[_0x3ea93e(0x814)]+'-'+_0x2a9a12['content'][_0x3ea93e(0x72a)],_0x4e3eae={'version':_0x2a9a12['content'][_0x3ea93e(0x768)],'element':_0x3fa5b2},_0x145708=_0x8b4284['get'](_0x4a184f);return _0x145708?(_0x145708[_0x3ea93e(0x768)]>=_0x2a9a12[_0x3ea93e(0x69a)][_0x3ea93e(0x768)]||(_0x145708[_0x3ea93e(0x85e)][_0x3ea93e(0x4cf)]&&(_0x145708['element'][_0x3ea93e(0x4cf)][_0x3ea93e(0x7fd)]=_0x3fa5b2,_0x3fa5b2['previous']=_0x145708[_0x3ea93e(0x85e)][_0x3ea93e(0x4cf)]),_0x145708['element'][_0x3ea93e(0x7fd)]&&(_0x145708[_0x3ea93e(0x85e)]['next'][_0x3ea93e(0x4cf)]=_0x3fa5b2,_0x3fa5b2[_0x3ea93e(0x7fd)]=_0x145708[_0x3ea93e(0x85e)][_0x3ea93e(0x7fd)]),_0x145708[_0x3ea93e(0x85e)]===_0x1102cc['head']&&(_0x1102cc[_0x3ea93e(0x23b)]=_0x3fa5b2),_0x145708['element']===_0x1102cc[_0x3ea93e(0x1cf)]&&(_0x1102cc['tail']=_0x3fa5b2),_0x8b4284['set'](_0x4a184f,_0x4e3eae)),!0x0):(_0x8b4284['set'](_0x4a184f,_0x4e3eae),!0x1);}(_0x1e2f5a);},function(){_0x8b4284['clear']();});function _0x20fc85(_0x31d746){const _0xb07943=a0_0x553c;if(_0x31d746&&_0xb07943(0x697)==typeof _0x31d746&&_0x31d746['hasOwnProperty'](_0xb07943(0x69a))&&_0x31d746[_0xb07943(0x2c3)](_0xb07943(0x814))&&_0x31d746[_0xb07943(0x2c3)]('sourceId')){const _0x12e74e=_0x31d746;if(_0x12e74e[_0xb07943(0x69a)]&&_0xb07943(0x697)==typeof _0x12e74e[_0xb07943(0x69a)]&&_0x12e74e[_0xb07943(0x69a)][_0xb07943(0x2c3)](_0xb07943(0x768))&&_0x12e74e[_0xb07943(0x69a)][_0xb07943(0x2c3)](_0xb07943(0x72a)))return!0x0;}return!0x1;}return _0x1102cc;}(new _0x3a23e6(_0x2b73f2=>_0x47fa76[_0x2ba7bd(0x2fb)](_0x2b73f2),()=>_0x478a69['wait'](0x64))));}[_0x5dd398(0x86a)](_0x99bc83){const _0x2075bc=_0x5dd398;this[_0x2075bc(0x2ba)][_0x2075bc(0x7ef)](_0x99bc83)?.(),this[_0x2075bc(0x2ba)][_0x2075bc(0x2d8)](_0x99bc83),this[_0x2075bc(0x1c4)][_0x2075bc(0x7ef)](_0x99bc83[_0x2075bc(0x48d)]())?.[_0x2075bc(0x1f6)](),this[_0x2075bc(0x1c4)][_0x2075bc(0x2d8)](_0x99bc83[_0x2075bc(0x48d)]());}[_0x5dd398(0x386)](_0x2b905a){const _0x47a6f7=_0x5dd398;return _0x52f76b['log'](_0x4f3b4c[_0x47a6f7(0x629)],'ConnectionGroup',this[_0x47a6f7(0x260)],this[_0x47a6f7(0x2ba)]['keys']()),0x0!==this[_0x47a6f7(0x2ba)][_0x47a6f7(0x3ee)]&&(Array[_0x47a6f7(0x5e2)](this[_0x47a6f7(0x2ba)][_0x47a6f7(0x1f0)]())[_0x47a6f7(0x33c)](_0x29a1d2=>_0x29a1d2[_0x47a6f7(0x48d)]()===_0x2b905a)?.['isConnected']()??!0x1);}[_0x5dd398(0x1fc)](_0x25450a){const _0x2f5e83=_0x5dd398;this[_0x2f5e83(0x82d)][_0x2f5e83(0x549)](_0x25450a[_0x2f5e83(0x544)](),_0x25450a);}['unregisterPublisher'](_0x568cee){const _0x1fbcfd=_0x5dd398;this[_0x1fbcfd(0x82d)][_0x1fbcfd(0x2d8)](_0x568cee[_0x1fbcfd(0x544)]());}['registerSubscriber'](_0x583a85){const _0x4b5810=_0x5dd398,_0x152020=_0x583a85[_0x4b5810(0x431)](this[_0x4b5810(0x2fb)][_0x4b5810(0x437)](this));this['dataUnsubscribers'][_0x4b5810(0x549)](_0x583a85[_0x4b5810(0x544)](),_0x152020);}[_0x5dd398(0x7da)](_0x1920e8){const _0x4385db=_0x5dd398;this[_0x4385db(0x1ea)][_0x4385db(0x7ef)](_0x1920e8['getLabel']())?.(),this['dataUnsubscribers']['delete'](_0x1920e8[_0x4385db(0x544)]());}[_0x5dd398(0x300)](){const _0xf7df52=_0x5dd398;return[_0x47065f['ContentType'][_0xf7df52(0x4ad)],_0x47065f[_0xf7df52(0x447)][_0xf7df52(0x5a8)],_0x47065f[_0xf7df52(0x447)]['ObjectStore'],_0x47065f['ContentType'][_0xf7df52(0x550)],_0x47065f[_0xf7df52(0x447)][_0xf7df52(0x41a)]];}[_0x5dd398(0x2fb)](_0x71a71){const _0x28ca25=_0x5dd398;if(!0x1===_0x71a71[_0x28ca25(0x468)]){if(_0x71a71['propagate']||!_0x71a71['destinationIds']||0x1!==_0x71a71['destinationIds']['length'])throw new _0x189e7c(_0x189e7c[_0x28ca25(0x32a)]['ConnectionInvalidDataEvent'],{'message':_0x28ca25(0x33a),'localId':this[_0x28ca25(0x260)]});if(!this[_0x28ca25(0x386)](_0x71a71[_0x28ca25(0x7c9)][0x0]))throw new _0x3fffd2('Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false');}const _0x38b53b=_0x71a71[_0x28ca25(0x375)]??[];try{const {filteredDestinationIds:_0x3300d1,extendedRecipients:_0x4a66fc}=this[_0x28ca25(0x711)](_0x71a71,_0x38b53b);_0x71a71[_0x28ca25(0x7c9)]=_0x3300d1,_0x71a71[_0x28ca25(0x375)]=_0x4a66fc;}catch(_0xddd460){if(_0xddd460 instanceof _0x3fffd2)return void _0x52f76b[_0x28ca25(0x20d)](_0x4f3b4c[_0x28ca25(0x310)],_0x28ca25(0x4c8),_0x28ca25(0x5fc),_0x71a71,_0xddd460['message']);}const _0x3d32fb=this['shouldContinuePropagation'](_0x71a71);this[_0x28ca25(0x397)](_0x71a71,_0x3d32fb),_0x71a71[_0x28ca25(0x801)]=_0x3d32fb;const _0x32e4a6=this[_0x28ca25(0x53c)](_0x71a71,_0x38b53b);for(const _0x315027 of _0x32e4a6){const _0x14b0a7=this['retryQueues'][_0x28ca25(0x7ef)](_0x315027['getRemoteId']());if(!_0x14b0a7)throw new _0x189e7c(_0x189e7c['codes'][_0x28ca25(0x719)],{'message':'CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','localId':this[_0x28ca25(0x260)],'remoteId':_0x315027[_0x28ca25(0x48d)](),'data':_0x71a71});_0x14b0a7[_0x28ca25(0x28d)](_0x71a71);}}[_0x5dd398(0x48d)](){return'';}[_0x5dd398(0x279)](){const _0x4d77d7=_0x5dd398;return this[_0x4d77d7(0x260)];}[_0x5dd398(0x69f)](_0x26f300){const _0x5d859a=_0x5dd398;return this['messageListeners'][_0x5d859a(0x431)](_0x26f300);}[_0x5dd398(0x711)](_0x4ea0ad,_0x4615dd){const _0x474c99=_0x5dd398,_0x5d2d00={'filteredDestinationIds':_0x4ea0ad[_0x474c99(0x7c9)],'extendedRecipients':_0x4ea0ad[_0x474c99(0x375)]};if(!_0x4ea0ad[_0x474c99(0x801)])return _0x5d2d00;const _0x7c533e=Array[_0x474c99(0x5e2)](this[_0x474c99(0x2ba)][_0x474c99(0x1f0)]())['filter'](_0x500e09=>_0x500e09['getConnectionType']()===_0x519608[_0x474c99(0x2b4)]||_0x500e09['isConnected']())[_0x474c99(0x58c)](_0xaf56ff=>_0xaf56ff[_0x474c99(0x48d)]());if(_0x7c533e[_0x474c99(0x1c3)]((_0x3bada0,_0x198d37)=>_0x3bada0&&_0x4ea0ad['recipients'][_0x474c99(0x30f)](_0x198d37),!0x0))throw new _0x3fffd2(_0x474c99(0x798));if(_0x4ea0ad[_0x474c99(0x7c9)]){const _0xf92d2b=_0x4ea0ad[_0x474c99(0x7c9)][_0x474c99(0x60e)](_0x429b28=>_0x429b28!==this[_0x474c99(0x260)]&&!_0x4ea0ad['recipients'][_0x474c99(0x30f)](_0x429b28));if(0x0===_0xf92d2b[_0x474c99(0x5f4)])throw new _0x3fffd2(_0x474c99(0x80c));_0x5d2d00[_0x474c99(0x4e0)]=_0xf92d2b;}return _0x5d2d00[_0x474c99(0x5bc)]=[...new Set([..._0x4615dd,..._0x7c533e,this[_0x474c99(0x260)]])],_0x5d2d00;}[_0x5dd398(0x397)](_0x5030bd,_0x567802=!0x1){const _0x5dfef9=_0x5dd398;if(0x0===_0x5030bd[_0x5dfef9(0x6b7)]&&!_0x4becc8(_0x5030bd,this[_0x5dfef9(0x260)])&&_0x5030bd[_0x5dfef9(0x801)]){const _0x8bc0d3=_0x3bd316(_0x5030bd,this[_0x5dfef9(0x260)]);_0x52f76b[_0x5dfef9(0x598)](_0x4f3b4c[_0x5dfef9(0x3e3)],_0x5030bd['uuid']+_0x5dfef9(0x5ba)+_0x567802+')\x20'+_0x8bc0d3,_0x5030bd,_0x567802);}}[_0x5dd398(0x366)](_0x56445d){const _0x12c5c2=_0x5dd398;if(_0x56445d[_0x12c5c2(0x7c9)]&&_0x56445d['propagate']){const _0x26aa44=Array[_0x12c5c2(0x5e2)](this['connections'][_0x12c5c2(0x1f0)]())[_0x12c5c2(0x60e)](_0x3e1fe5=>_0x3e1fe5[_0x12c5c2(0x371)]()===_0x519608[_0x12c5c2(0x2b4)]||_0x3e1fe5['isConnected']())[_0x12c5c2(0x58c)](_0x5a3929=>_0x5a3929['getRemoteId']());return!_0x56445d['destinationIds'][_0x12c5c2(0x1c3)]((_0x2a7646,_0x2f2b4f)=>_0x2a7646&&_0x26aa44[_0x12c5c2(0x30f)](_0x2f2b4f),!0x0);}return _0x56445d[_0x12c5c2(0x801)]??!0x1;}[_0x5dd398(0x53c)](_0x3176e6,_0x11cf56){const _0x44e847=_0x5dd398;if(_0x3176e6[_0x44e847(0x801)]&&_0x3176e6[_0x44e847(0x7c9)]){const _0x358ed3=Array[_0x44e847(0x5e2)](this[_0x44e847(0x2ba)][_0x44e847(0x1f0)]())[_0x44e847(0x60e)](_0x3332da=>_0x3332da[_0x44e847(0x371)]()===_0x519608[_0x44e847(0x2b4)]||_0x3332da['isConnected']())[_0x44e847(0x58c)](_0x2019dc=>_0x2019dc[_0x44e847(0x48d)]()),_0x187347=new Set(),_0x24d70e=_0x3176e6[_0x44e847(0x562)]===this[_0x44e847(0x260)]?0x3:0x1;return _0x3176e6[_0x44e847(0x7c9)][_0x44e847(0x710)](_0x34fb95=>{const _0x129e7a=_0x44e847,_0x4fddc6=this[_0x129e7a(0x76c)][_0x129e7a(0x692)](_0x358ed3,_0x34fb95);let _0x46692d=0x0,_0x265271=0x0;_0x4fddc6['forEach'](_0x11771e=>{const _0x118bae=_0x129e7a;if(_0x46692d>=_0x24d70e)return;const _0x286f0a=Array[_0x118bae(0x5e2)](this[_0x118bae(0x2ba)][_0x118bae(0x1f0)]())[_0x118bae(0x33c)](_0x482276=>_0x482276[_0x118bae(0x48d)]()===_0x11771e);if(_0x286f0a){if(_0x286f0a[_0x118bae(0x371)]()===_0x519608['Core']&&_0x265271>0x0)return void(_0x265271-=0x1);_0x187347['add'](_0x286f0a),_0x286f0a[_0x118bae(0x371)]()===_0x519608['Optimization']&&(_0x265271+=0x1),_0x46692d+=0x1;}});}),Array[_0x44e847(0x5e2)](_0x187347);}return Array[_0x44e847(0x5e2)](this[_0x44e847(0x2ba)][_0x44e847(0x1f0)]())[_0x44e847(0x60e)](_0x2d0d81=>{const _0x5725ff=_0x44e847;return _0x899490=_0x2d0d81[_0x5725ff(0x48d)](),!_0x11cf56[_0x5725ff(0x30f)](_0x899490)&&(_0xcfcc2b(_0x3176e6,_0x899490)||_0x3176e6[_0x5725ff(0x801)])&&(!_0x3176e6[_0x5725ff(0x801)]||_0x2d0d81[_0x5725ff(0x386)]()||_0x2d0d81['getConnectionType']()===_0x519608[_0x5725ff(0x2b4)]);var _0x899490;});}}class _0x3f9d99{[_0x5dd398(0x260)];[_0x5dd398(0x1e9)];[_0x5dd398(0x2ba)]=new Map();['systemTopic'];constructor(_0x3afab8,_0x11f4ce){const _0x3ea8f0=_0x5dd398;this['localId']=_0x3afab8,this[_0x3ea8f0(0x1e9)]=_0x11f4ce;}[_0x5dd398(0x362)](){}['send'](_0x2a0826){const _0x5f0dc7=_0x5dd398;for(const _0x47e440 of this[_0x5f0dc7(0x2ba)][_0x5f0dc7(0x1f0)]())try{return void _0x47e440[_0x5f0dc7(0x2fb)]({'retry':!0x1,..._0x2a0826});}catch(_0x38a866){_0x38a866 instanceof _0x3fffd2||_0x52f76b[_0x5f0dc7(0x20d)](_0x4f3b4c['Pool'],_0x5f0dc7(0x258)+_0x47e440,_0x38a866,_0x2a0826);}_0x52f76b['log'](_0x4f3b4c[_0x5f0dc7(0x235)],_0x5f0dc7(0x4fa));}['addConnection'](_0x6f07c6){const _0xdc9ca9=_0x5dd398,_0x402f7a=_0x6f07c6['onMessage'](_0x4a4260=>{const _0x120acd=a0_0x553c;this[_0x120acd(0x1e9)][_0x120acd(0x44c)](_0x4a4260[_0x120acd(0x445)])||0x0===_0x4a4260[_0x120acd(0x6b7)]&&(this[_0x120acd(0x1e9)][_0x120acd(0x862)](_0x4a4260['uuid']),_0xcfcc2b(_0x4a4260,this['localId'])&&this[_0x120acd(0x7fa)]?.[_0x120acd(0x7b0)](_0x4a4260));});this['connections'][_0xdc9ca9(0x549)](_0x6f07c6,_0x402f7a);}[_0x5dd398(0x86a)](_0x3ec376){const _0x1941eb=_0x5dd398;this[_0x1941eb(0x2ba)][_0x1941eb(0x7ef)](_0x3ec376)?.(),this['connections'][_0x1941eb(0x2d8)](_0x3ec376);}[_0x5dd398(0x279)](){const _0x536e39=_0x5dd398;return this[_0x536e39(0x260)];}['getRemoteId'](){return'';}[_0x5dd398(0x300)](){const _0x4288c7=_0x5dd398;return[_0x47065f[_0x4288c7(0x447)][_0x4288c7(0x4ad)]];}['isConnected'](){const _0xd5f54e=_0x5dd398;throw new Error(_0xd5f54e(0x688));}[_0x5dd398(0x442)](_0xe4f390){const _0x125bf2=_0x5dd398;this[_0x125bf2(0x7fa)]=_0xe4f390;}[_0x5dd398(0x7d9)](){const _0x3d34ae=_0x5dd398;delete this[_0x3d34ae(0x7fa)];}}class _0x272073{[_0x5dd398(0x53b)]=new Map();[_0x5dd398(0x47a)];constructor(){const _0x19d615=_0x5dd398;this[_0x19d615(0x47a)]=_0x478a69['setInterval'](()=>{const _0x54c976=_0x19d615;for(const [_0x3a3fce,_0x4a29af]of this[_0x54c976(0x53b)][_0x54c976(0x805)]())Date['now']()-_0x4a29af>0x124f80&&this['buffer']['delete'](_0x3a3fce);},0x1d4c0);}[_0x5dd398(0x362)](){const _0x28a71c=_0x5dd398;this[_0x28a71c(0x47a)]();}['addMessage'](_0x17fb63){const _0x7da398=_0x5dd398;this[_0x7da398(0x53b)][_0x7da398(0x549)](_0x17fb63,Date['now']());}[_0x5dd398(0x44c)](_0x393725){const _0x25527a=_0x5dd398;return this[_0x25527a(0x53b)][_0x25527a(0x2d4)](_0x393725);}}class _0x3a723c{['configs'];[_0x5dd398(0x7b8)];[_0x5dd398(0x1e4)];['maxFps'];['maxBpp'];[_0x5dd398(0x1b7)];[_0x5dd398(0x2ba)]=new Map();[_0x5dd398(0x592)];['connectionGroup'];[_0x5dd398(0x55d)];['messageBuffer'];constructor(_0x3c3edb,_0x3ae6e9,_0x474233,_0x469640,_0xb415a0,_0x9a2583,_0x27c485){const _0x58aeb9=_0x5dd398;this['configs']=_0x3c3edb,this[_0x58aeb9(0x7b8)]=_0x3ae6e9,this['iceServers']=_0x474233,this[_0x58aeb9(0x4d2)]=_0x469640,this[_0x58aeb9(0x2c6)]=_0xb415a0,this['connectionConstructor']=_0x27c485,this[_0x58aeb9(0x1e9)]=new _0x272073(),this[_0x58aeb9(0x370)]=new _0x30c6a8(this[_0x58aeb9(0x3f6)][_0x58aeb9(0x5fb)][_0x58aeb9(0x330)](),this[_0x58aeb9(0x1e9)],_0x9a2583),this['signalingServer']=new _0x191753(this[_0x58aeb9(0x3f6)][_0x58aeb9(0x6eb)],this[_0x58aeb9(0x3f6)][_0x58aeb9(0x1ff)],this[_0x58aeb9(0x3f6)]['localNode'],_0x58aeb9(0x86f),this[_0x58aeb9(0x7b8)]),this[_0x58aeb9(0x592)]=new _0x3f9d99(this[_0x58aeb9(0x3f6)][_0x58aeb9(0x5fb)][_0x58aeb9(0x330)](),this['messageBuffer']),this[_0x58aeb9(0x592)]['addConnection'](this[_0x58aeb9(0x370)]),this['connectionPool'][_0x58aeb9(0x206)](this[_0x58aeb9(0x55d)]),this['configs']['mediator'][_0x58aeb9(0x7ba)](this[_0x58aeb9(0x592)]);}[_0x5dd398(0x362)](){const _0x1702c4=_0x5dd398;this[_0x1702c4(0x1e9)][_0x1702c4(0x362)](),this[_0x1702c4(0x2ba)][_0x1702c4(0x710)]((_0x9712fb,_0x26e13a)=>this[_0x1702c4(0x234)](_0x26e13a)),this['configs']['mediator'][_0x1702c4(0x536)](this[_0x1702c4(0x592)]),this['connectionPool'][_0x1702c4(0x86a)](this[_0x1702c4(0x55d)]),this[_0x1702c4(0x592)][_0x1702c4(0x86a)](this['connectionGroup']),this['connectionPool'][_0x1702c4(0x362)](),this['signalingServer']['close'](),this['connectionGroup'][_0x1702c4(0x362)]();}async[_0x5dd398(0x2a5)](){const _0x227dd0=_0x5dd398;await this[_0x227dd0(0x55d)]['connect']();}async[_0x5dd398(0x3b4)](_0x4ad0d4,_0x4689d3=_0x519608[_0x5dd398(0x2b4)]){const _0x40099c=_0x5dd398;if(this[_0x40099c(0x2ba)][_0x40099c(0x2d4)](_0x4ad0d4)){if(this[_0x40099c(0x2ba)][_0x40099c(0x7ef)](_0x4ad0d4)?.['getConnectionType']()===_0x519608[_0x40099c(0x4a7)]&&_0x4689d3===_0x519608['Core'])return void this[_0x40099c(0x2ba)]['get'](_0x4ad0d4)?.['setConnectionType'](_0x519608['Core']);throw new _0x189e7c(_0x189e7c[_0x40099c(0x32a)][_0x40099c(0x2b6)],{'localId':this[_0x40099c(0x3f6)][_0x40099c(0x5fb)][_0x40099c(0x330)](),'remoteId':_0x4ad0d4});}const _0x5f3d97=new _0x1c03af(this['configs']['clusterId'],this[_0x40099c(0x3f6)][_0x40099c(0x5fb)],_0x4ad0d4,this[_0x40099c(0x1e4)],_0x4689d3,this[_0x40099c(0x4d2)],this[_0x40099c(0x2c6)],this[_0x40099c(0x1b7)]);this['connections'][_0x40099c(0x549)](_0x4ad0d4,_0x5f3d97),this[_0x40099c(0x370)][_0x40099c(0x206)](_0x5f3d97),this[_0x40099c(0x3f6)]['mediator'][_0x40099c(0x7ba)](_0x5f3d97),this['configs'][_0x40099c(0x5a9)]['registerRemoteNode'](_0x4ad0d4),await _0x5f3d97[_0x40099c(0x685)]();}['getConnectionGroup'](){return this['connectionGroup'];}[_0x5dd398(0x63a)](_0x29bf9f){const _0x11baef=_0x5dd398;if(!this['connections']['has'](_0x29bf9f))throw new _0x189e7c(_0x189e7c[_0x11baef(0x32a)]['MissingRemoteConnection'],{'localId':this[_0x11baef(0x3f6)][_0x11baef(0x5fb)][_0x11baef(0x330)](),'remoteId':_0x29bf9f});return this[_0x11baef(0x2ba)][_0x11baef(0x7ef)](_0x29bf9f);}[_0x5dd398(0x2fd)](_0x9cf7c3){const _0xe32369=_0x5dd398,_0x85881=Array[_0xe32369(0x5e2)](this[_0xe32369(0x2ba)]['values']());return _0x9cf7c3?_0x85881[_0xe32369(0x60e)](_0x9cf7c3):_0x85881;}async[_0x5dd398(0x56b)](_0x11055f){const _0x468ce7=_0x5dd398,_0x1644aa=this[_0x468ce7(0x2ba)]['get'](_0x11055f);_0x1644aa&&_0x1644aa[_0x468ce7(0x386)]()&&await _0x1644aa[_0x468ce7(0x56b)]();}['handleOutgoingSystemEvents'](_0x5968cc){const _0x22c2cf=_0x5dd398;if(_0x5968cc[_0x22c2cf(0x814)]!==_0x3efa6a[_0x22c2cf(0x2a9)]||_0x5968cc[_0x22c2cf(0x801)])try{this['connectionGroup'][_0x22c2cf(0x2fb)](_0x5968cc);}catch(_0x42d2a9){if(_0x42d2a9 instanceof _0x3fffd2)return;throw _0x42d2a9;}else this[_0x22c2cf(0x592)]['send'](_0x5968cc);}async[_0x5dd398(0x3ab)](_0x3e252e){const _0x502cfd=_0x5dd398;switch(_0x3e252e[_0x502cfd(0x69a)]['type']){case _0x3bfb21['Disconnect']:case _0x3bfb21['Stats']:case _0x3bfb21[_0x502cfd(0x46e)]:return;}if(!_0x3e252e[_0x502cfd(0x7c9)]||0x1!==_0x3e252e[_0x502cfd(0x7c9)][_0x502cfd(0x5f4)])throw new _0x189e7c(_0x189e7c[_0x502cfd(0x32a)][_0x502cfd(0x6d5)],{'message':_0x502cfd(0x599),'event':_0x3e252e});if(_0x3e252e[_0x502cfd(0x7c9)][0x0]!==this['configs'][_0x502cfd(0x5fb)][_0x502cfd(0x330)]())throw new _0x189e7c(_0x189e7c['codes'][_0x502cfd(0x6d5)],{'message':'Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','event':_0x3e252e});if(!this[_0x502cfd(0x2ba)][_0x502cfd(0x2d4)](_0x3e252e[_0x502cfd(0x562)])){let _0xdc6d7f=_0x519608['Core'];if(!(this[_0x502cfd(0x84e)](_0x3e252e[_0x502cfd(0x69a)])||this[_0x502cfd(0x60c)](_0x3e252e[_0x502cfd(0x69a)])||this['isNeedRestart'](_0x3e252e[_0x502cfd(0x69a)])))return;_0xdc6d7f=_0x3e252e['content'][_0x502cfd(0x3c0)],await this['createConnection'](_0x3e252e['sourceId'],_0xdc6d7f);}const _0x1316e2=this[_0x502cfd(0x2ba)][_0x502cfd(0x7ef)](_0x3e252e[_0x502cfd(0x562)]);await _0x1316e2[_0x502cfd(0x3ab)](_0x3e252e);}['handleRemediationSystemEvents'](_0x588683){const _0x5b0033=_0x5dd398;if(_0x588683[_0x5b0033(0x69a)][_0x5b0033(0x72a)]===_0x4a6ae2[_0x5b0033(0x817)]){if(_0x588683[_0x5b0033(0x69a)][_0x5b0033(0x2cf)]===this['configs']['localNode'][_0x5b0033(0x330)]())return void this['connections']['forEach'](_0x1bc678=>_0x1bc678[_0x5b0033(0x495)](_0x588683));this['connections'][_0x5b0033(0x7ef)](_0x588683[_0x5b0033(0x69a)][_0x5b0033(0x2cf)])?.[_0x5b0033(0x495)](_0x588683);}}[_0x5dd398(0x4d4)]({content:_0x4ab622}){const _0x2e4053=_0x5dd398;_0x4ab622['type']===_0x3a7a00[_0x2e4053(0x5b1)]&&this[_0x2e4053(0x234)](_0x4ab622['id']);}['waitForArrayBufferSize'](){const _0x8a6477=_0x5dd398,_0x210dac=Array[_0x8a6477(0x5e2)](this[_0x8a6477(0x2ba)][_0x8a6477(0x4e3)]())[_0x8a6477(0x1c3)]((_0x4c67a3,_0x3ba68b)=>_0x4c67a3+_0x3ba68b['calculateArrayBufferSize'](),0x0);return _0x210dac<_0x78b384?Promise['resolve'](_0x210dac):new Promise(_0x342944=>{const _0x3f48b7=setInterval(()=>{const _0x1bd696=a0_0x553c;console[_0x1bd696(0x20d)](_0x1bd696(0x409),_0x210dac);const _0x16f9a7=Array['from'](this['connections'][_0x1bd696(0x4e3)]())[_0x1bd696(0x1c3)]((_0xa4a2c1,_0x38cad9)=>_0xa4a2c1+_0x38cad9['calculateArrayBufferSize'](),0x0);_0x16f9a7<_0x78b384&&(clearInterval(_0x3f48b7),console[_0x1bd696(0x20d)]('Buffer\x20cleared',_0x16f9a7),_0x342944(_0x16f9a7));},0x3e8);});}[_0x5dd398(0x234)](_0x4a45b6){const _0x16300d=_0x5dd398,_0x5e83fc=this[_0x16300d(0x2ba)][_0x16300d(0x7ef)](_0x4a45b6);_0x5e83fc&&(this[_0x16300d(0x3f6)][_0x16300d(0x5a9)][_0x16300d(0x1db)](_0x4a45b6),this[_0x16300d(0x3f6)][_0x16300d(0x5a9)][_0x16300d(0x536)](_0x5e83fc),_0x5e83fc instanceof _0x1c03af&&this[_0x16300d(0x370)]['removeConnection'](_0x5e83fc),_0x5e83fc[_0x16300d(0x362)](),this[_0x16300d(0x2ba)][_0x16300d(0x2d8)](_0x4a45b6));}[_0x5dd398(0x84e)](_0x56c951){const _0x566a70=_0x5dd398;return _0x56c951['type']===_0x3bfb21[_0x566a70(0x568)];}[_0x5dd398(0x343)](_0x317667){const _0x417705=_0x5dd398;return _0x317667[_0x417705(0x72a)]===_0x3bfb21[_0x417705(0x76a)];}[_0x5dd398(0x60c)](_0x3cb08c){const _0x5610cc=_0x5dd398;return _0x3cb08c[_0x5610cc(0x72a)]===_0x3bfb21[_0x5610cc(0x4da)];}}!function(_0x1ae632){const _0x2a3601=_0x5dd398;_0x1ae632[_0x1ae632[_0x2a3601(0x4a1)]=0x0]=_0x2a3601(0x4a1),_0x1ae632[_0x1ae632['UpdateMediaStream']=0x1]=_0x2a3601(0x4cc),_0x1ae632[_0x1ae632[_0x2a3601(0x551)]=0x2]=_0x2a3601(0x551),_0x1ae632[_0x1ae632['NeedMediaStream']=0x3]=_0x2a3601(0x477),_0x1ae632[_0x1ae632[_0x2a3601(0x835)]=0x4]=_0x2a3601(0x835),_0x1ae632[_0x1ae632['CanProvideMediaStream']=0x5]='CanProvideMediaStream',_0x1ae632[_0x1ae632[_0x2a3601(0x1fa)]=0x6]=_0x2a3601(0x1fa),_0x1ae632[_0x1ae632[_0x2a3601(0x40e)]=0x7]='MediaStreamUnavailable';}(_0x3de62f||(_0x3de62f={}));const _0x3c5d4e=require('rxjs');class _0x3e1ba9 extends _0x33028e{['graphService'];['jobs']=new Map();[_0x5dd398(0x794)]=new Map();[_0x5dd398(0x203)]=new Map();[_0x5dd398(0x47a)];constructor(_0xf38805,_0x3db8d6,_0xbd06a8){const _0x28e6f9=_0x5dd398;super(_0xf38805,_0x3db8d6),this[_0x28e6f9(0x76c)]=_0xbd06a8;}[_0x5dd398(0x323)](){const _0x37d7a8=_0x5dd398;return _0x47065f['ContentType'][_0x37d7a8(0x41a)];}[_0x5dd398(0x42f)](){const _0x1edd02=_0x5dd398;this[_0x1edd02(0x47a)]=this[_0x1edd02(0x69f)]((_0x577715,_0x5186a8)=>{const _0x1a5e32=_0x1edd02;if(_0x52f76b[_0x1a5e32(0x20d)](_0x4f3b4c[_0x1a5e32(0x3c6)],_0x1a5e32(0x501),_0x577715,_0x5186a8,this[_0x1a5e32(0x76c)][_0x1a5e32(0x385)]()),!(_0x5186a8 instanceof File)){if(!_0x5186a8)throw new _0x189e7c(_0x189e7c['codes'][_0x1a5e32(0x58d)]);return this[_0x1a5e32(0x2e7)](_0x5186a8)?this[_0x1a5e32(0x214)](_0x577715,_0x5186a8['id'],_0x5186a8):this['isPartialResultResponse'](_0x5186a8)?(_0x52f76b[_0x1a5e32(0x20d)](_0x4f3b4c[_0x1a5e32(0x3c6)],_0x1a5e32(0x7db)+_0x5186a8['id']+'\x20received\x20partial\x20result:',_0x5186a8[_0x1a5e32(0x783)]),void this[_0x1a5e32(0x82a)](_0x5186a8['id'],_0x5186a8)):this[_0x1a5e32(0x5cb)](_0x5186a8)?(_0x52f76b[_0x1a5e32(0x20d)](_0x4f3b4c[_0x1a5e32(0x3c6)],'Job\x20'+_0x5186a8['id']+_0x1a5e32(0x1be),_0x5186a8[_0x1a5e32(0x783)]),void this[_0x1a5e32(0x5f7)](_0x5186a8['id'],_0x5186a8)):void(this[_0x1a5e32(0x75c)](_0x5186a8)&&this[_0x1a5e32(0x302)](_0x5186a8['id'],_0x5186a8['message']));}});}['reset'](){const _0x4d28b2=_0x5dd398;this[_0x4d28b2(0x1f6)](),this['open']();}[_0x5dd398(0x255)](){const _0x213229=_0x5dd398;this[_0x213229(0x1f6)](),super[_0x213229(0x255)]();}[_0x5dd398(0x1f6)](){const _0x1ef9d3=_0x5dd398;this[_0x1ef9d3(0x399)][_0x1ef9d3(0x1f6)](),this[_0x1ef9d3(0x47a)]&&this[_0x1ef9d3(0x47a)]();}[_0x5dd398(0x362)](){const _0x3d17a4=_0x5dd398;this[_0x3d17a4(0x7fa)]?.[_0x3d17a4(0x7b0)]({'sourceId':_0x384096,'messageType':_0x3efa6a[_0x3d17a4(0x5d2)],'content':{'type':_0x47bc97['CloseJobDispatcher'],'label':this['label']}});}async[_0x5dd398(0x871)](_0x7e79e2){const _0x2a403c=_0x5dd398,{id:_0x2d6504,parameters:_0x3a07d3,jobType:_0x39b6b7}=_0x7e79e2,_0x4c1ccb={'id':_0x2d6504,'jobType':_0x39b6b7,'parameters':_0x3a07d3,'status':_0x47065f[_0x2a403c(0x50e)]['Pending'],'created':new Date(),'updated':new Date()};if(this[_0x2a403c(0x399)][_0x2a403c(0x2d4)](_0x4c1ccb['id']))throw new _0x4ddc2b(_0xf6fbbf[_0x2a403c(0x4df)],_0x2a403c(0x1d7)+_0x4c1ccb['id']+_0x2a403c(0x4a5));_0x4c1ccb['created']=new Date(),_0x4c1ccb[_0x2a403c(0x654)]=new Date();const _0xf0ce6b=new _0x3c5d4e['Subject']();this['jobs'][_0x2a403c(0x549)](_0x4c1ccb['id'],_0x4c1ccb),this[_0x2a403c(0x794)][_0x2a403c(0x549)](_0x4c1ccb['id'],_0xf0ce6b);try{const _0x2da0ca={'id':_0x4c1ccb['id'],'jobPhase':_0x38ba1c['Request'],'jobType':_0x4c1ccb[_0x2a403c(0x432)]},_0x145edc=0x3;let _0x29da74=0x0;const _0x2012e2=async()=>{const _0x1d637d=_0x2a403c;_0x29da74+=0x1;try{_0x52f76b[_0x1d637d(0x20d)](_0x4f3b4c[_0x1d637d(0x3c6)],_0x1d637d(0x7db)+_0x4c1ccb['id']+_0x1d637d(0x6f3)+_0x29da74+'.',this[_0x1d637d(0x76c)]['getRemoteNodes']()),await this[_0x1d637d(0x2fb)](_0x2da0ca),_0x4c1ccb['updated']=new Date(),this[_0x1d637d(0x399)][_0x1d637d(0x549)](_0x4c1ccb['id'],_0x4c1ccb),this[_0x1d637d(0x502)](_0x4c1ccb['id']);}catch(_0x360ba9){_0x29da74<_0x145edc?(_0x52f76b[_0x1d637d(0x6cc)](_0x1d637d(0x74b)+_0x29da74+'\x20to\x20send\x20dispatcherJob\x20'+_0x4c1ccb['id']+_0x1d637d(0x1b5),{'nodeId':this[_0x1d637d(0x86e)][_0x1d637d(0x330)](),'nodeType':this[_0x1d637d(0x86e)][_0x1d637d(0x72a)],'data':{'job':_0x4c1ccb,'attempts':_0x29da74,'maxRetries':_0x145edc}}),setTimeout(_0x2012e2,0x3e8)):(_0x4c1ccb[_0x1d637d(0x499)]=_0x47065f['JobStatus']['Failed'],_0x4c1ccb[_0x1d637d(0x654)]=new Date(),this[_0x1d637d(0x399)][_0x1d637d(0x549)](_0x4c1ccb['id'],_0x4c1ccb),_0x52f76b[_0x1d637d(0x7ee)]('Failed\x20to\x20send\x20job\x20'+_0x4c1ccb['id']+'\x20after\x20'+_0x145edc+_0x1d637d(0x521),{'nodeId':this['owner'][_0x1d637d(0x330)](),'nodeType':this['owner'][_0x1d637d(0x72a)],'data':{'job':_0x4c1ccb,'attempts':_0x29da74,'maxRetries':_0x145edc,'error':_0x360ba9}}));}};_0x2012e2();const {id:_0x175f8a}=_0x4c1ccb;this[_0x2a403c(0x79a)]('Job\x20'+_0x4c1ccb['id']+_0x2a403c(0x296),{'jobId':_0x175f8a}),_0x4c1ccb[_0x2a403c(0x654)]=new Date();}catch(_0x7026f1){_0x4c1ccb[_0x2a403c(0x499)]=_0x47065f[_0x2a403c(0x50e)][_0x2a403c(0x563)],_0x52f76b['error'](_0x2a403c(0x276)+_0x4c1ccb['id']+':',{'nodeId':this[_0x2a403c(0x86e)]['getId'](),'nodeType':this[_0x2a403c(0x86e)][_0x2a403c(0x72a)],'data':{'job':_0x4c1ccb,'error':_0x7026f1}});}return _0xf0ce6b[_0x2a403c(0x42e)]();}['getJob'](_0x245911){const _0x1d5ae7=_0x5dd398,_0x10c1cc=this[_0x1d5ae7(0x399)][_0x1d5ae7(0x7ef)](_0x245911);if(!_0x10c1cc)throw new _0x4ddc2b(_0xf6fbbf[_0x1d5ae7(0x2b5)],_0x1d5ae7(0x1d7)+_0x245911+_0x1d5ae7(0x7c6));return{'id':_0x10c1cc['id'],'jobType':_0x10c1cc[_0x1d5ae7(0x432)],'status':_0x10c1cc[_0x1d5ae7(0x499)],'parameters':_0x10c1cc['parameters']};}[_0x5dd398(0x226)](){const _0x2ace72=_0x5dd398;return Array['from'](this['jobs'][_0x2ace72(0x4e3)]())[_0x2ace72(0x58c)](_0x1bd064=>this[_0x2ace72(0x68b)](_0x1bd064['id']));}async[_0x5dd398(0x785)](_0x4e7e58,_0x545e9a){const _0x3c01f4=_0x5dd398,_0x495253=this[_0x3c01f4(0x399)][_0x3c01f4(0x7ef)](_0x4e7e58);if(!_0x495253)throw new _0x4ddc2b(_0xf6fbbf['JobDispatcherJobNotFound'],_0x3c01f4(0x1d7)+_0x4e7e58+_0x3c01f4(0x7c6));_0x495253[_0x3c01f4(0x2ca)]=_0x545e9a,_0x495253[_0x3c01f4(0x654)]=new Date(),this['jobs'][_0x3c01f4(0x549)](_0x4e7e58,_0x495253);}async['deleteJob'](_0x55fcba){const _0x30a96e=_0x5dd398;if(!this[_0x30a96e(0x399)][_0x30a96e(0x2d8)](_0x55fcba))throw new _0x4ddc2b(_0xf6fbbf['JobDispatcherJobNotFound'],'Job\x20with\x20id\x20'+_0x55fcba+_0x30a96e(0x7c6));const _0x4decab=this[_0x30a96e(0x794)][_0x30a96e(0x7ef)](_0x55fcba);if(!_0x4decab)throw new _0x189e7c(_0x189e7c['codes'][_0x30a96e(0x74e)]);_0x4decab['complete'](),this[_0x30a96e(0x794)]['delete'](_0x55fcba),_0x52f76b[_0x30a96e(0x20d)](_0x4f3b4c['Jobs'],'Job\x20'+_0x55fcba+_0x30a96e(0x237));}['addBidResponse'](_0x5ed236,_0x376cba,_0x2dd852){const _0x805e11=_0x5dd398,_0x38dfc5=this[_0x805e11(0x203)]['get'](_0x376cba)??new Map();_0x38dfc5[_0x805e11(0x549)](_0x5ed236,[_0x2dd852,Date[_0x805e11(0x4bb)]()]),this[_0x805e11(0x203)][_0x805e11(0x549)](_0x376cba,_0x38dfc5),this['evaluateBidsAndAttributeJob'](_0x376cba);}[_0x5dd398(0x502)](_0x4d2ed6){const _0x5a8bd0=_0x5dd398,_0x1d79d9=this[_0x5a8bd0(0x399)][_0x5a8bd0(0x7ef)](_0x4d2ed6);if(!_0x1d79d9)throw new _0x189e7c(_0x189e7c[_0x5a8bd0(0x32a)][_0x5a8bd0(0x2b5)]);const _0x579101=setTimeout(()=>this[_0x5a8bd0(0x4d3)](_0x4d2ed6,!0x0),0xbb8);_0x1d79d9[_0x5a8bd0(0x1fb)]=_0x579101,this[_0x5a8bd0(0x399)][_0x5a8bd0(0x549)](_0x1d79d9['id'],_0x1d79d9);}['evaluateBidsAndAttributeJob'](_0x3f37cc,_0x1b9130=!0x1){const _0xbeceac=_0x5dd398,_0x579fa2=this[_0xbeceac(0x76c)][_0xbeceac(0x385)](),_0x38b63a=Array[_0xbeceac(0x5e2)](_0x579fa2[_0xbeceac(0x4e3)]())['filter'](_0x102ff0=>_0x102ff0[_0xbeceac(0x72a)]===_0x47065f[_0xbeceac(0x307)][_0xbeceac(0x586)]),_0x3b682a=this['jobBids'][_0xbeceac(0x7ef)](_0x3f37cc)??new Map();if(!_0x1b9130&&(!_0x3b682a||_0x3b682a[_0xbeceac(0x3ee)]<_0x38b63a[_0xbeceac(0x5f4)]))return;const _0x36d430=this[_0xbeceac(0x399)]['get'](_0x3f37cc);if(!_0x36d430)throw new _0x189e7c(_0x189e7c[_0xbeceac(0x32a)][_0xbeceac(0x2b5)]);clearTimeout(_0x36d430[_0xbeceac(0x1fb)]),_0x52f76b[_0xbeceac(0x20d)](_0x4f3b4c['Jobs'],'Job\x20'+_0x36d430['id']+_0xbeceac(0x7be),_0x3b682a,this[_0xbeceac(0x203)]);const _0x4d2e23=Array[_0xbeceac(0x5e2)](_0x3b682a[_0xbeceac(0x805)]())[_0xbeceac(0x60e)](([,[_0x49eb83]])=>_0x49eb83['available']);if(!_0x3b682a||0x0===_0x3b682a[_0xbeceac(0x3ee)]||0x0===_0x4d2e23['length']){_0x36d430[_0xbeceac(0x499)]=_0x47065f[_0xbeceac(0x50e)][_0xbeceac(0x563)],_0x36d430['updated']=new Date(),_0x52f76b[_0xbeceac(0x7ee)](_0xbeceac(0x7db)+_0x36d430['id']+'\x20failed\x20to\x20receive\x20a\x20valid\x20bid\x20responses\x20in\x20time.',{'nodeId':this['owner'][_0xbeceac(0x330)](),'nodeType':this['owner'][_0xbeceac(0x72a)],'data':{'job':_0x36d430,'responses':_0x3b682a}});const _0x221583=this[_0xbeceac(0x794)][_0xbeceac(0x7ef)](_0x3f37cc);if(!_0x221583)throw new _0x189e7c(_0x189e7c[_0xbeceac(0x32a)]['JobDispatcherObserverNotFound']);const _0x573d4e=_0xbeceac(0x26d),_0x59fafb={'id':_0x36d430['id'],'status':_0x36d430['status'],'message':_0x573d4e};return _0x221583[_0xbeceac(0x7fd)](_0x59fafb),_0x221583[_0xbeceac(0x2a0)](),this['jobs']['set'](_0x36d430['id'],_0x36d430),void this[_0xbeceac(0x203)][_0xbeceac(0x2d8)](_0x3f37cc);}const {nodeId:_0x11d64c,response:_0x33a771}=this[_0xbeceac(0x50c)](_0x36d430['id'],_0x3b682a);_0x36d430[_0xbeceac(0x499)]=_0x47065f[_0xbeceac(0x50e)][_0xbeceac(0x7f3)],_0x36d430[_0xbeceac(0x654)]=new Date(),_0x52f76b['log'](_0x4f3b4c['Jobs'],_0xbeceac(0x7db)+_0x36d430['id']+_0xbeceac(0x2df)+_0x11d64c+_0xbeceac(0x5f9),_0x33a771);const _0x35a167={'id':_0x36d430['id'],'jobType':_0x36d430[_0xbeceac(0x432)],'jobPhase':_0x38ba1c['Attribution'],'parameters':_0x36d430[_0xbeceac(0x2ca)]};this[_0xbeceac(0x2fb)](_0x35a167,[_0x11d64c]),this[_0xbeceac(0x399)][_0xbeceac(0x549)](_0x36d430['id'],_0x36d430),this[_0xbeceac(0x203)]['delete'](_0x3f37cc);}[_0x5dd398(0x50c)](_0x21c961,_0x14056b){const _0x36faa6=_0x5dd398,_0x46c05d=Array[_0x36faa6(0x5e2)](_0x14056b[_0x36faa6(0x805)]())[_0x36faa6(0x615)]((_0x139471,_0x293f49)=>_0x293f49[0x1][0x0][_0x36faa6(0x259)]-_0x139471[0x1][0x0][_0x36faa6(0x259)]);if(0x1===_0x46c05d[_0x36faa6(0x5f4)])return{'nodeId':_0x46c05d[0x0][0x0],'response':_0x46c05d[0x0][0x1][0x0]};const _0x37cee2=(_0x2f0bbc=>{const _0x1b141d=_0x36faa6,_0x50ca22=_0x2f0bbc[0x0][0x1][0x0][_0x1b141d(0x259)];return _0x2f0bbc[_0x1b141d(0x60e)](([,[_0x18f248]])=>_0x18f248[_0x1b141d(0x259)]===_0x50ca22);})(_0x46c05d);if(0x1===_0x37cee2[_0x36faa6(0x5f4)])return{'nodeId':_0x37cee2[0x0][0x0],'response':_0x37cee2[0x0][0x1][0x0]};const _0x27ac7d=this[_0x36faa6(0x399)][_0x36faa6(0x7ef)](_0x21c961);if(!_0x27ac7d)throw new _0x189e7c(_0x189e7c['codes'][_0x36faa6(0x2b5)]);const _0x47287a=_0x27ac7d[_0x36faa6(0x56a)]['getTime'](),_0x4ac49e=_0x37cee2['map'](([_0x2a7388,[,_0x18e175]])=>({'nodeId':_0x2a7388,'rtt':_0x18e175-_0x47287a})),_0x230fa=Math['min'](..._0x4ac49e[_0x36faa6(0x58c)](({rtt:_0x7150af})=>_0x7150af)),_0x58846e=_0x4ac49e[_0x36faa6(0x33c)](({rtt:_0x441618})=>_0x441618===_0x230fa),[,[_0x5a3df7]]=_0x37cee2['find'](([_0x1854e2])=>_0x1854e2===_0x58846e[_0x36faa6(0x6e5)]);return{'nodeId':_0x58846e['nodeId'],'response':_0x5a3df7};}[_0x5dd398(0x82a)](_0x1b43d6,_0x2e72f2){const _0x1d1e57=_0x5dd398,_0x282d20=this[_0x1d1e57(0x399)]['get'](_0x1b43d6);if(!_0x282d20)throw new _0x189e7c(_0x189e7c[_0x1d1e57(0x32a)][_0x1d1e57(0x2b5)]);const _0x4a2e4a=this[_0x1d1e57(0x794)]['get'](_0x1b43d6);if(!_0x4a2e4a)throw new _0x189e7c(_0x189e7c[_0x1d1e57(0x32a)][_0x1d1e57(0x74e)]);const _0xf37814={'id':_0x282d20['id'],'status':_0x47065f[_0x1d1e57(0x50e)][_0x1d1e57(0x6d2)],'result':_0x2e72f2[_0x1d1e57(0x783)]};_0x4a2e4a[_0x1d1e57(0x7fd)](_0xf37814);}['evaluateProccessedJob'](_0x4b242a,_0xeb17b3){const _0x133ec2=_0x5dd398,_0x4d279a=this['jobs'][_0x133ec2(0x7ef)](_0x4b242a);if(!_0x4d279a)throw new _0x189e7c(_0x189e7c[_0x133ec2(0x32a)][_0x133ec2(0x2b5)]);const _0x3f5ff0=this[_0x133ec2(0x794)][_0x133ec2(0x7ef)](_0x4b242a);if(!_0x3f5ff0)throw new _0x189e7c(_0x189e7c['codes']['JobDispatcherObserverNotFound']);_0x4d279a['status']=_0x47065f[_0x133ec2(0x50e)][_0x133ec2(0x54e)];const _0x9927e6={'id':_0x4d279a['id'],'status':_0x4d279a[_0x133ec2(0x499)],'result':_0xeb17b3['result']};_0x3f5ff0['next'](_0x9927e6),_0x3f5ff0['complete'](),this[_0x133ec2(0x794)]['delete'](_0x4b242a),this[_0x133ec2(0x79a)](_0x133ec2(0x7db)+_0x4b242a+'\x20finalized.',{'jobId':_0x4b242a});}['failJob'](_0x1d3902,_0x4c9944){const _0x27afeb=_0x5dd398,_0x3716ad=this[_0x27afeb(0x399)][_0x27afeb(0x7ef)](_0x1d3902);if(!_0x3716ad)throw new _0x189e7c(_0x189e7c[_0x27afeb(0x32a)][_0x27afeb(0x2b5)]);const _0x35617b=this[_0x27afeb(0x794)][_0x27afeb(0x7ef)](_0x1d3902);if(!_0x35617b)throw new _0x189e7c(_0x189e7c[_0x27afeb(0x32a)]['JobDispatcherObserverNotFound']);_0x3716ad['status']=_0x47065f[_0x27afeb(0x50e)][_0x27afeb(0x563)];const _0x1253ee={'id':_0x3716ad['id'],'status':_0x3716ad[_0x27afeb(0x499)],'message':_0x4c9944};_0x35617b[_0x27afeb(0x7fd)](_0x1253ee),_0x35617b[_0x27afeb(0x2a0)](),this['jobObservers'][_0x27afeb(0x2d8)](_0x1d3902),this[_0x27afeb(0x79a)](_0x27afeb(0x7db)+_0x1d3902+_0x27afeb(0x582),{'jobId':_0x1d3902});}[_0x5dd398(0x79a)](_0x1f8418,{jobId:_0x352502}){const _0x1aa8be=_0x5dd398,_0x51eb06={'jobId':_0x352502,'mistletIds':Array[_0x1aa8be(0x5e2)](this[_0x1aa8be(0x76c)][_0x1aa8be(0x385)]()[_0x1aa8be(0x4e3)]())[_0x1aa8be(0x60e)](_0x967124=>_0x967124['type']===_0x47065f[_0x1aa8be(0x307)][_0x1aa8be(0x586)])[_0x1aa8be(0x58c)](_0x50078a=>_0x50078a[_0x1aa8be(0x330)]())};_0x52f76b[_0x1aa8be(0x79a)](_0x1f8418,{'nodeId':this[_0x1aa8be(0x245)](),'nodeType':this['owner']['type'],'data':_0x51eb06}),_0x52f76b[_0x1aa8be(0x20d)](_0x4f3b4c['Jobs'],_0x1f8418,_0x51eb06);}[_0x5dd398(0x2e7)](_0x32e986){const _0x58c60c=_0x5dd398,{jobPhase:_0xe500ba,available:_0x5d9b83,bid:_0xa0e0c3}=_0x32e986;return _0xe500ba===_0x38ba1c[_0x58c60c(0x49d)]&&void 0x0!==_0x5d9b83&&void 0x0!==_0xa0e0c3;}[_0x5dd398(0x72c)](_0x2391b7){const _0x2ccb75=_0x5dd398,{jobPhase:_0x3d0bbb,result:_0xfa3e4d}=_0x2391b7;return _0x3d0bbb===_0x38ba1c[_0x2ccb75(0x3d3)]&&void 0x0!==_0xfa3e4d;}[_0x5dd398(0x5cb)](_0x43a53c){const _0x1e55e8=_0x5dd398,{jobPhase:_0x52f437,result:_0x21f258}=_0x43a53c;return _0x52f437===_0x38ba1c[_0x1e55e8(0x53e)]&&void 0x0!==_0x21f258;}['isFailedResponse'](_0x29bb98){const _0x27cfab=_0x5dd398,{jobPhase:_0x11f261,message:_0x5cc4b5}=_0x29bb98;return _0x11f261===_0x38ba1c[_0x27cfab(0x563)]&&void 0x0!==_0x5cc4b5&&_0x27cfab(0x542)==typeof _0x5cc4b5;}}class _0x125c97 extends _0x3e1ba9{[_0x5dd398(0x6b6)];[_0x5dd398(0x665)]=0x0;['tokens']=0x0;[_0x5dd398(0x6a4)];constructor(_0x39ccca,_0x5e0439,_0xf2625e,_0x3732f6){const _0x16b684=_0x5dd398;super(_0x39ccca,_0x5e0439,_0xf2625e),this[_0x16b684(0x6b6)]=_0x3732f6,this[_0x16b684(0x850)]();}[_0x5dd398(0x255)](){const _0xc2a901=_0x5dd398;this[_0xc2a901(0x6b6)][_0xc2a901(0x362)](),this['debounceStats']&&(clearTimeout(this[_0xc2a901(0x6a4)]),delete this[_0xc2a901(0x6a4)]),super[_0xc2a901(0x255)]();}async[_0x5dd398(0x4fd)](_0x1c9254,_0x1d93bd){const _0x2b6988=_0x5dd398,_0x6f60=await this[_0x2b6988(0x548)](_0x1c9254,_0x47065f[_0x2b6988(0x5ff)][_0x2b6988(0x41a)],_0x1d93bd);return new Promise((_0x5b5bc9,_0x3e15ac)=>{const _0x3fefb0=_0x2b6988;let _0xffb253;const _0x2382dd=_0x6f60[_0x3fefb0(0x431)]({'next':_0x36898e=>{const _0x2ad6a9=_0x3fefb0;switch(_0x36898e[_0x2ad6a9(0x499)]){case _0x47065f['JobStatus'][_0x2ad6a9(0x54e)]:const _0x1a40f3=_0x36898e[_0x2ad6a9(0x783)][_0x2ad6a9(0x333)]??0x0;this['logServiceEvent'](_0x1a40f3),clearTimeout(_0xffb253),_0x5b5bc9(_0x36898e[_0x2ad6a9(0x783)]),_0x2382dd[_0x2ad6a9(0x7de)](),this[_0x2ad6a9(0x665)]+=0x1,this['tokens']+=_0x1a40f3,this['sendStats']();break;case _0x47065f['JobStatus'][_0x2ad6a9(0x563)]:clearTimeout(_0xffb253),_0x3e15ac(new _0x189e7c(_0x189e7c[_0x2ad6a9(0x32a)][_0x2ad6a9(0x725)],{'updatedJob':_0x36898e})),_0x2382dd['unsubscribe'](),this[_0x2ad6a9(0x850)]();}},'error':_0x45d7ff=>{const _0x211e30=_0x3fefb0;clearTimeout(_0xffb253),_0x3e15ac(new _0x189e7c(_0x189e7c[_0x211e30(0x32a)]['GenerativeAIContextJobFailed'],{'err':_0x45d7ff})),_0x2382dd['unsubscribe']();}});_0xffb253=setTimeout(()=>{const _0x5af2e6=_0x3fefb0;_0x3e15ac(new _0x189e7c(_0x189e7c[_0x5af2e6(0x32a)][_0x5af2e6(0x7d1)])),_0x2382dd[_0x5af2e6(0x7de)]();},_0x2f137e);});}async*[_0x5dd398(0x4f2)](_0x4c48ff,_0x5c6bf3){const _0x41e8e0=_0x5dd398,_0x3c5080=await this[_0x41e8e0(0x548)](_0x4c48ff,_0x47065f['JobType'][_0x41e8e0(0x449)],_0x5c6bf3);let _0xd4f8d,_0x5f15f7=!0x1,_0x22607e=0x0;const _0x24a3ab=[],_0x2bf6c8=new Map();let _0x120545=null;const _0x206e92=()=>{_0x120545&&(_0x120545(),_0x120545=null);},_0x2ae9e3=()=>{const _0x41bf23=_0x41e8e0;_0x5f15f7=!0x0,_0x206e92(),_0x4fa1a9[_0x41bf23(0x7de)]();},_0x4fa1a9=_0x3c5080[_0x41e8e0(0x431)]({'next':_0x17d333=>{const _0x56ea50=_0x41e8e0;switch(_0x17d333[_0x56ea50(0x499)]){case _0x47065f['JobStatus'][_0x56ea50(0x6d2)]:if(_0x17d333[_0x56ea50(0x783)]&&_0x17d333['result']['output']){if(void 0x0===_0x17d333[_0x56ea50(0x783)]['index'])throw _0x2ae9e3(),new _0x189e7c(_0x189e7c[_0x56ea50(0x32a)][_0x56ea50(0x1d6)],{'updatedJob':_0x17d333});_0x22607e===_0x17d333[_0x56ea50(0x783)][_0x56ea50(0x61b)]?(_0x24a3ab['push'](_0x17d333[_0x56ea50(0x783)]),_0x22607e++,((()=>{const _0x366d91=_0x56ea50;for(;_0x2bf6c8[_0x366d91(0x2d4)](_0x22607e);)_0x24a3ab[_0x366d91(0x28d)](_0x2bf6c8[_0x366d91(0x7ef)](_0x24a3ab[_0x366d91(0x5f4)])),_0x2bf6c8[_0x366d91(0x2d8)](_0x24a3ab['length']),_0x22607e++;})()),_0x206e92(),_0x504dda()):_0x2bf6c8[_0x56ea50(0x549)](_0x17d333[_0x56ea50(0x783)][_0x56ea50(0x61b)],_0x17d333[_0x56ea50(0x783)]);}break;case _0x47065f[_0x56ea50(0x50e)][_0x56ea50(0x54e)]:const _0xa6bbc0=_0x17d333[_0x56ea50(0x783)][_0x56ea50(0x333)]??0x0;this[_0x56ea50(0x4b5)](_0xa6bbc0),clearTimeout(_0xd4f8d),_0x2ae9e3(),this[_0x56ea50(0x665)]+=0x1,this[_0x56ea50(0x460)]+=_0xa6bbc0,this[_0x56ea50(0x850)]();break;case _0x47065f[_0x56ea50(0x50e)][_0x56ea50(0x563)]:throw clearTimeout(_0xd4f8d),_0x2ae9e3(),this[_0x56ea50(0x850)](),new _0x189e7c(_0x189e7c[_0x56ea50(0x32a)][_0x56ea50(0x725)],{'updatedJob':_0x17d333});}},'error':_0xd4d772=>{const _0x536d33=_0x41e8e0;throw clearTimeout(_0xd4f8d),_0x2ae9e3(),new _0x189e7c(_0x189e7c[_0x536d33(0x32a)][_0x536d33(0x725)],{'err':_0xd4d772});}}),_0x4edc44=()=>{const _0x868456=_0x41e8e0;throw _0x2ae9e3(),new _0x189e7c(_0x189e7c[_0x868456(0x32a)][_0x868456(0x7d1)]);},_0x504dda=()=>{clearTimeout(_0xd4f8d),_0xd4f8d=setTimeout(_0x4edc44,_0x2f137e);};for(_0xd4f8d=setTimeout(_0x4edc44,_0x2f137e);!_0x5f15f7||_0x24a3ab[_0x41e8e0(0x5f4)]>0x0;)_0x24a3ab[_0x41e8e0(0x5f4)]>0x0?yield _0x24a3ab[_0x41e8e0(0x27a)]():await new Promise(_0x3ab9f5=>_0x120545=_0x3ab9f5);}async['uploadModel'](_0x56105f,_0x40b831=_0x47065f['GenerativeAIModelType']['Main']){const _0x466ce1=_0x5dd398,_0x206f18=_0x40b831===_0x47065f['GenerativeAIModelType'][_0x466ce1(0x1e6)]?_0x51c885:_0x5e95ab,_0x2fb5a0=new File([_0x56105f],_0x206f18,{'type':_0x56105f[_0x466ce1(0x72a)]});await this[_0x466ce1(0x6b6)]['publish']({'action':_0x47065f[_0x466ce1(0x456)][_0x466ce1(0x3b5)],'file':_0x2fb5a0,'path':_0x466ce1(0x627),'skipEncryption':!0x0});}async['deleteModel'](_0x4a9c81=_0x51c885){const _0x1e452e=_0x5dd398;await this[_0x1e452e(0x6b6)]['unpublish'](_0x1e452e(0x6dd)+_0x4a9c81);}['logServiceEvent'](_0x184edf){const _0x13b83e=_0x5dd398,_0x32fb62=this[_0x13b83e(0x667)],_0x4e6125=this[_0x13b83e(0x245)]();_0x52f76b['logServiceEvent'](_0x26ae6a[_0x13b83e(0x58e)],{'topic':_0x32fb62,'type':_0x13b83e(0x4fd),'nodeId':_0x4e6125,'tokenCount':_0x184edf});}async[_0x5dd398(0x548)](_0x40cc61,_0x59be3c,_0x590cb3={}){const _0x4c34f0=_0x5dd398,_0xc2640c={'id':_0x4c34f0(0x5ad)+(0x0,_0x2b9c8e['v4'])(),'jobType':_0x59be3c,'parameters':{'prompt':_0x40cc61,..._0x590cb3},'status':_0x47065f[_0x4c34f0(0x50e)][_0x4c34f0(0x81b)]};return await this[_0x4c34f0(0x871)](_0xc2640c);}[_0x5dd398(0x850)](){const _0xc66f91=_0x5dd398;this[_0xc66f91(0x6a4)]&&clearTimeout(this['debounceStats']),this['debounceStats']=setTimeout(async()=>{const _0x2e8512=_0xc66f91;delete this['debounceStats'],this[_0x2e8512(0x7fa)][_0x2e8512(0x7b0)]({'sourceId':_0x384096,'messageType':_0x3efa6a[_0x2e8512(0x5d2)],'content':{'type':_0x47bc97[_0x2e8512(0x462)],'label':this[_0x2e8512(0x667)],'stats':{'timestamp':Date[_0x2e8512(0x4bb)](),'storage':0x0,'messagesSent':this[_0x2e8512(0x355)],'messagesReceived':this[_0x2e8512(0x513)],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x2e8512(0x845)],'writes':0x0,'reads':0x0,'prompts':this['prompts'],'tokens':this[_0x2e8512(0x460)]}}});},0x1388);}}class _0x5c4cad extends _0x33028e{['capacityReporter'];['jobWorkerConnector'];[_0x5dd398(0x732)];['isRunning']=!0x1;constructor(_0x4eb2b5,_0x48f327,_0x156ab7,_0xc17731){const _0x594243=_0x5dd398;super(_0x4eb2b5,_0x48f327),this[_0x594243(0x578)]=_0x156ab7,this['jobWorkerConnector']=_0xc17731;}[_0x5dd398(0x323)](){return _0x47065f['ContentType']['Job'];}['open'](){const _0x56f12a=_0x5dd398;this[_0x56f12a(0x755)]();}[_0x5dd398(0x362)](){const _0x2042b5=_0x5dd398;this[_0x2042b5(0x7fa)]?.[_0x2042b5(0x7b0)]({'sourceId':_0x384096,'messageType':_0x3efa6a[_0x2042b5(0x5d2)],'content':{'type':_0x47bc97[_0x2042b5(0x359)],'label':this[_0x2042b5(0x667)]}});}[_0x5dd398(0x567)](){const _0x54a332=_0x5dd398;this[_0x54a332(0x732)]?.(),this[_0x54a332(0x42f)]();}[_0x5dd398(0x255)](){const _0x5581d4=_0x5dd398;this[_0x5581d4(0x732)]?.(),super['destroy']();}[_0x5dd398(0x844)](){const _0x16570b=_0x5dd398;return!this[_0x16570b(0x580)];}[_0x5dd398(0x700)](){return 0x1;}[_0x5dd398(0x579)](_0x3fc38b,_0x5e652c,_0x17f13c){}[_0x5dd398(0x40a)](_0x5ee100,_0xf8293d){return _0x5ee100;}[_0x5dd398(0x755)](){const _0x703c55=_0x5dd398;this[_0x703c55(0x732)]=this[_0x703c55(0x69f)]((_0x170a99,_0x3285ba)=>{const _0x2df141=_0x703c55;_0x52f76b['log'](_0x4f3b4c['Jobs'],'JobWorker:\x20Received\x20job',_0x3285ba),_0x3285ba instanceof File||(this[_0x2df141(0x4b2)](_0x3285ba)?(_0x52f76b['log'](_0x4f3b4c[_0x2df141(0x3c6)],_0x2df141(0x7f4),_0x3285ba),this[_0x2df141(0x844)]()?this[_0x2df141(0x306)](_0x3285ba['id'],_0x3285ba['jobType'],_0x170a99):this['sendReject'](_0x3285ba['id'],_0x3285ba[_0x2df141(0x432)],_0x170a99)):this[_0x2df141(0x3f3)](_0x3285ba)&&(_0x52f76b[_0x2df141(0x20d)](_0x4f3b4c[_0x2df141(0x3c6)],'JobWorker:\x20Received\x20job\x20attribution',_0x3285ba),this[_0x2df141(0x38c)](_0x3285ba['id'],_0x3285ba,_0x170a99)));});}[_0x5dd398(0x306)](_0x186c40,_0x5c21bd,_0xbfee9f){const _0x3f17fd=_0x5dd398,_0x1ae457={'id':_0x186c40,'jobType':_0x5c21bd,'jobPhase':_0x38ba1c['Bid'],'available':!0x0,'bid':this[_0x3f17fd(0x700)]()};_0x52f76b['log'](_0x4f3b4c[_0x3f17fd(0x3c6)],_0x3f17fd(0x833),_0x1ae457),this['send'](_0x1ae457,[_0xbfee9f]);}[_0x5dd398(0x57b)](_0x29fa16,_0x37a831,_0x230b34){const _0x35213e=_0x5dd398,_0x31d245={'id':_0x29fa16,'jobType':_0x37a831,'jobPhase':_0x38ba1c['Bid'],'available':!0x1,'bid':0x0};this[_0x35213e(0x2fb)](_0x31d245,[_0x230b34]);}async[_0x5dd398(0x38c)](_0x45142e,_0x3b801f,_0x54970c){const _0x1d68af=_0x5dd398;_0x52f76b['log'](_0x4f3b4c[_0x1d68af(0x3c6)],_0x1d68af(0x1e2),_0x3b801f);const _0x17eca2={'id':_0x45142e,'jobType':_0x3b801f[_0x1d68af(0x432)],'parameters':_0x3b801f[_0x1d68af(0x2ca)]};try{switch(_0x3b801f['jobType']){case _0x47065f['JobType'][_0x1d68af(0x41a)]:await this[_0x1d68af(0x4af)](_0x45142e,_0x3b801f,_0x17eca2,_0x54970c);break;case _0x47065f[_0x1d68af(0x5ff)]['JobStream']:await this['processJobStream'](_0x45142e,_0x3b801f,_0x17eca2,_0x54970c);break;default:throw new Error('Unsupported\x20job\x20type');}}catch(_0x4b7494){_0x52f76b[_0x1d68af(0x7ee)](_0x1d68af(0x348),{'nodeId':this['owner'][_0x1d68af(0x330)](),'nodeType':this['owner'][_0x1d68af(0x72a)],'data':{'job':_0x17eca2}},_0x4b7494);const _0x234fd1=_0x4b7494 instanceof Error?_0x4b7494['message']:_0x1d68af(0x6bd),_0x30b293={'id':_0x45142e,'jobType':_0x3b801f[_0x1d68af(0x432)],'jobPhase':_0x38ba1c[_0x1d68af(0x563)],'message':_0x234fd1};await this[_0x1d68af(0x2fb)](_0x30b293,[_0x54970c]);}finally{this[_0x1d68af(0x580)]=!0x1;}}async[_0x5dd398(0x4af)](_0x122175,_0x1ad885,_0x13b580,_0x1829ee){const _0x306d3f=_0x5dd398;this[_0x306d3f(0x580)]=!0x0;const _0x2c9814=Date[_0x306d3f(0x4bb)](),_0xcef5e0=await this[_0x306d3f(0x7f7)]['processJob'](_0x13b580);if(_0xcef5e0[_0x306d3f(0x499)]!==_0x47065f[_0x306d3f(0x50e)][_0x306d3f(0x6d2)]&&_0xcef5e0[_0x306d3f(0x499)]!==_0x47065f['JobStatus'][_0x306d3f(0x54e)])return;this[_0x306d3f(0x579)](_0xcef5e0[_0x306d3f(0x783)],_0x2c9814,Date['now']());const _0x10702f={'id':_0x122175,'jobType':_0x1ad885[_0x306d3f(0x432)],'jobPhase':_0x38ba1c['Result'],'result':_0xcef5e0[_0x306d3f(0x783)]};_0x52f76b[_0x306d3f(0x20d)](_0x4f3b4c[_0x306d3f(0x3c6)],'JobWorker:\x20Sending\x20job\x20result',_0x10702f),await this[_0x306d3f(0x2fb)](_0x10702f,[_0x1829ee]);}async['processJobStream'](_0x33e6e3,_0x2c21c0,_0x1073b9,_0x3ecf3f){const _0x7c180=_0x5dd398;this[_0x7c180(0x580)]=!0x0;const _0x36bfd5=Date[_0x7c180(0x4bb)]();let _0x169405=0x0,_0x25ad3c={};for await(const _0x4e8063 of this[_0x7c180(0x7f7)][_0x7c180(0x4e1)](_0x1073b9)){if(_0x4e8063[_0x7c180(0x499)]!==_0x47065f[_0x7c180(0x50e)][_0x7c180(0x6d2)]&&_0x4e8063['status']!==_0x47065f[_0x7c180(0x50e)][_0x7c180(0x54e)])break;const _0xfc6cfc={'id':_0x33e6e3,'jobType':_0x2c21c0[_0x7c180(0x432)],'jobPhase':_0x38ba1c[_0x7c180(0x3d3)],'result':{..._0x4e8063['result'],'index':_0x169405}};_0x52f76b[_0x7c180(0x20d)](_0x4f3b4c[_0x7c180(0x3c6)],_0x7c180(0x232),_0xfc6cfc),this[_0x7c180(0x2fb)](_0xfc6cfc,[_0x3ecf3f]),_0x25ad3c=this[_0x7c180(0x40a)](_0x25ad3c,_0x4e8063[_0x7c180(0x783)]),_0x169405++;}this[_0x7c180(0x579)](_0x25ad3c,_0x36bfd5,Date[_0x7c180(0x4bb)]());const _0x5bd1a0={'id':_0x33e6e3,'jobType':_0x2c21c0[_0x7c180(0x432)],'jobPhase':_0x38ba1c[_0x7c180(0x53e)],'result':_0x25ad3c};_0x52f76b['log'](_0x4f3b4c[_0x7c180(0x3c6)],'JobWorker:\x20Sending\x20job\x20result',_0x5bd1a0),await this[_0x7c180(0x2fb)](_0x5bd1a0,[_0x3ecf3f]);}[_0x5dd398(0x4b2)](_0x3e1f5f){const _0x50b172=_0x5dd398;return _0x3e1f5f['jobPhase']===_0x38ba1c[_0x50b172(0x304)];}[_0x5dd398(0x3f3)](_0x1f928a){const _0xe65af2=_0x5dd398;return _0x1f928a['jobPhase']===_0x38ba1c[_0xe65af2(0x646)];}}class _0x716ab7 extends _0x5c4cad{[_0x5dd398(0x75b)];[_0x5dd398(0x6b6)];[_0x5dd398(0x6a4)];['prompts']=0x0;[_0x5dd398(0x460)]=0x0;constructor(_0x4db19c,_0x1e58e0,_0x56df19,_0x3ffbcf,_0xe320d7){const _0x201024=_0x5dd398;super(_0x4db19c,_0x1e58e0,_0x56df19,_0x3ffbcf),this['generativeAIWorkerConnector']=_0x3ffbcf,this[_0x201024(0x6b6)]=_0xe320d7;}['destroy'](){const _0x258230=_0x5dd398;this[_0x258230(0x6b6)]['unsubscribe'](),this[_0x258230(0x6b6)][_0x258230(0x362)](),this[_0x258230(0x6a4)]&&(clearTimeout(this[_0x258230(0x6a4)]),delete this[_0x258230(0x6a4)]),super[_0x258230(0x255)]();}async['restart'](){const _0xa165e2=_0x5dd398;this['objectStore'][_0xa165e2(0x7de)](),this[_0xa165e2(0x6a4)]&&(clearTimeout(this[_0xa165e2(0x6a4)]),delete this['debounceStats']),this[_0xa165e2(0x42f)](!0x0);}async['open'](_0x578bfb=!0x1){const _0x389429=_0x5dd398;_0x578bfb||await this[_0x389429(0x2ad)]();try{const _0x52ea80=await this[_0x389429(0x3ef)](_0x4ae75f+'/'+_0x51c885),_0x1b2bc5=await this[_0x389429(0x3ef)](_0x4ae75f+'/'+_0x5e95ab);await this['generativeAIWorkerConnector'][_0x389429(0x2a5)](_0x52ea80,_0x1b2bc5);}catch(_0x30eb0a){console[_0x389429(0x7ee)](_0x389429(0x357),_0x30eb0a),await this[_0x389429(0x75b)]['initialize']();}await this[_0x389429(0x5a6)](),this[_0x389429(0x421)](),this['sendStats'](),super[_0x389429(0x42f)]();}[_0x5dd398(0x567)](){const _0x1a58c6=_0x5dd398;this[_0x1a58c6(0x665)]=0x0,this['tokens']=0x0,this[_0x1a58c6(0x850)]();}[_0x5dd398(0x700)](){const _0x22c39c=_0x5dd398;return this['sendStats'](),this[_0x22c39c(0x3c2)]();}[_0x5dd398(0x579)](_0x3b220e,_0x3718cf,_0x982ebe){const _0x3163a7=_0x5dd398,_0x2a8053=_0x3b220e[_0x3163a7(0x738)]??0x0,_0xe42cef=_0x2a8053/((_0x982ebe-_0x3718cf)/0x3e8);this[_0x3163a7(0x665)]+=0x1,this[_0x3163a7(0x460)]+=_0x2a8053,this[_0x3163a7(0x4b5)](_0xe42cef,_0x2a8053),this['sendStats']();}['accumulateResult'](_0x552efe,_0x45ac69){const _0x5d4cd1=_0x5dd398;return _0x552efe[_0x5d4cd1(0x71d)]=_0x552efe[_0x5d4cd1(0x71d)]??'',{'output':_0x552efe[_0x5d4cd1(0x71d)]+_0x45ac69['output'],'outputTokens':_0x45ac69[_0x5d4cd1(0x738)]??_0x552efe['outputTokens'],'inputTokens':_0x45ac69['inputTokens']??_0x552efe[_0x5d4cd1(0x333)]};}async[_0x5dd398(0x2ad)](){await new Promise(_0x5b5c8b=>{const _0x2459de=a0_0x553c;console[_0x2459de(0x20d)](_0x2459de(0x3ac)),this[_0x2459de(0x6b6)][_0x2459de(0x431)](async _0xf5f6da=>{const _0x15abea=_0x2459de;console[_0x15abea(0x20d)](_0x15abea(0x858),_0xf5f6da[_0x15abea(0x4f3)]),_0xf5f6da['event']===_0x47065f[_0x15abea(0x335)][_0x15abea(0x553)]&&(this[_0x15abea(0x6b6)][_0x15abea(0x7de)](),console[_0x15abea(0x20d)]('Sync\x20complete'),_0x5b5c8b());});});}async['getModel'](_0x3d8e12){const _0x205196=_0x5dd398,_0x4ca37b=await this[_0x205196(0x6b6)][_0x205196(0x656)](_0x205196(0x627));for(const _0x44ad8e of _0x4ca37b)if(_0x44ad8e[_0x205196(0x806)]===_0x47065f[_0x205196(0x305)][_0x205196(0x3b5)]&&_0x44ad8e[_0x205196(0x3ae)]===_0x3d8e12)return _0x44ad8e[_0x205196(0x71a)]??_0x44ad8e[_0x205196(0x3ae)];throw new Error(_0x205196(0x7f5)+_0x3d8e12);}async[_0x5dd398(0x5a6)](){const _0x116409=_0x5dd398;try{const _0x20ea1c=await this['objectStore']['list'](_0x8667f2);for(const _0x3c07fb of _0x20ea1c)_0x116409(0x758)===_0x3c07fb[_0x116409(0x806)]&&await this[_0x116409(0x467)](_0x3c07fb[_0x116409(0x80f)],_0x3c07fb['pathName']);}catch(_0x39a01e){}}[_0x5dd398(0x421)](){const _0x5938a5=_0x5dd398;this[_0x5938a5(0x6b6)]['subscribe'](async _0x361b53=>{const _0x5f3702=_0x5938a5;switch(_0x361b53[_0x5f3702(0x4f3)]){case _0x47065f['StorageEventType'][_0x5f3702(0x271)]:_0x361b53[_0x5f3702(0x68d)]['file'][_0x5f3702(0x3ae)][_0x5f3702(0x30e)](_0x8667f2)?await this[_0x5f3702(0x467)](_0x361b53['payload']['file']['name'],_0x361b53[_0x5f3702(0x68d)][_0x5f3702(0x758)][_0x5f3702(0x3ae)]):_0x361b53[_0x5f3702(0x68d)]['file']['pathName']!==_0x4ae75f+'/'+_0x51c885&&_0x361b53['payload']['file'][_0x5f3702(0x3ae)]!==_0x4ae75f+'/'+_0x5e95ab||this['restart']();break;case _0x47065f[_0x5f3702(0x335)]['FileDelete']:_0x361b53[_0x5f3702(0x68d)][_0x5f3702(0x3ae)][_0x5f3702(0x30e)](_0x8667f2)&&this[_0x5f3702(0x571)](_0x361b53[_0x5f3702(0x68d)]['name']);}});}async[_0x5dd398(0x467)](_0x5b116b,_0x3da6dd){const _0xee645d=_0x5dd398,_0x359188=await this['objectStore']['get'](_0x3da6dd);await this['generativeAIWorkerConnector'][_0xee645d(0x467)](_0x5b116b,await _0x359188[_0xee645d(0x803)]()),this['sendStats']();}[_0x5dd398(0x571)](_0x3357dd){const _0x3deb1f=_0x5dd398;this['generativeAIWorkerConnector'][_0x3deb1f(0x571)](_0x3357dd),this[_0x3deb1f(0x850)]();}[_0x5dd398(0x3c2)](){const _0x244a49=_0x5dd398;try{return this[_0x244a49(0x578)][_0x244a49(0x406)]()[_0x244a49(0x6a1)]['cores']*(0x1-this[_0x244a49(0x578)][_0x244a49(0x406)]()['gpu'][_0x244a49(0x417)]);}catch(_0x2876ad){return _0x52f76b['log'](_0x4f3b4c[_0x244a49(0x3c6)],_0x244a49(0x5aa),_0x2876ad),0x0;}}[_0x5dd398(0x850)](){const _0x275f37=_0x5dd398;this[_0x275f37(0x6a4)]&&clearTimeout(this[_0x275f37(0x6a4)]),this[_0x275f37(0x6a4)]=setTimeout(async()=>{const _0x367eb3=_0x275f37;delete this[_0x367eb3(0x6a4)];const _0x51d5f3=await this[_0x367eb3(0x6b6)]['getSize'](_0x8667f2);this[_0x367eb3(0x7fa)]['publish']({'sourceId':_0x384096,'messageType':_0x3efa6a[_0x367eb3(0x5d2)],'content':{'type':_0x47bc97['GenerativeAIWorkerStats'],'label':this['label'],'stats':{'timestamp':Date[_0x367eb3(0x4bb)](),'storage':_0x51d5f3,'messagesSent':this[_0x367eb3(0x355)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x367eb3(0x83b)],'bytesReceived':this[_0x367eb3(0x845)],'writes':0x0,'reads':0x0,'prompts':this['prompts'],'tokens':this['tokens']}}});},0x1388);}[_0x5dd398(0x4b5)](_0x35d006,_0x360298){const _0x114fae=_0x5dd398,_0x47bbc3=this[_0x114fae(0x667)],_0x4df2d9=this[_0x114fae(0x245)]();_0x52f76b['logServiceEvent'](_0x26ae6a[_0x114fae(0x58e)],{'topic':_0x47bbc3,'type':_0x114fae(0x726),'nodeId':_0x4df2d9,'tokenCount':_0x360298,'tokensPerSecond':_0x35d006});}}class _0x513854 extends _0x438ccb{[_0x5dd398(0x543)];constructor(_0x199ba6,_0x5ca188,_0x4620f6){super(_0x199ba6,_0x5ca188),this['mediaStream']=_0x4620f6;}[_0x5dd398(0x323)](){const _0x399df4=_0x5dd398;return _0x47065f[_0x399df4(0x447)]['Media'];}[_0x5dd398(0x4cd)](){const _0x53cd7e=_0x5dd398;return this[_0x53cd7e(0x543)];}[_0x5dd398(0x655)](){const _0x289d9=_0x5dd398;return this[_0x289d9(0x543)]['id'];}}class _0x3008ef extends _0x513854{['remoteId'];['params'];[_0x5dd398(0x2ff)];[_0x5dd398(0x7ed)]=_0x3835d4();constructor(_0x3990b5,_0x3330e2,_0x40e270,_0x27466d,_0x4ddfc2){const _0x2f06f7=_0x5dd398;super(_0x3990b5,_0x3330e2,_0x40e270),this[_0x2f06f7(0x3e8)]=_0x27466d,this[_0x2f06f7(0x618)]=_0x4ddfc2;}[_0x5dd398(0x255)](){const _0xcce35d=_0x5dd398;this[_0xcce35d(0x55b)]('audio'),this[_0xcce35d(0x55b)](_0xcce35d(0x51f)),super[_0xcce35d(0x255)]();}[_0x5dd398(0x7a2)](_0x60bcd4){const _0x3f171a=_0x5dd398;if(!this[_0x3f171a(0x2ff)])throw new _0x189e7c(_0x189e7c[_0x3f171a(0x32a)]['OutgoingMediaStreamNoTopic'],{'label':this[_0x3f171a(0x667)],'ownerId':this[_0x3f171a(0x86e)][_0x3f171a(0x330)](),'remoteId':this[_0x3f171a(0x3e8)]});this[_0x3f171a(0x2ff)][_0x3f171a(0x7b0)]({'sourceId':this[_0x3f171a(0x86e)][_0x3f171a(0x330)](),'content':{'action':_0x24ec37[_0x3f171a(0x25a)],'track':_0x60bcd4,'stream':this[_0x3f171a(0x543)],'priority':_0x47065f[_0x3f171a(0x5fa)][_0x3f171a(0x491)],'params':this['getInternalTrackParams'](_0x60bcd4[_0x3f171a(0x806)],this[_0x3f171a(0x618)])}});}[_0x5dd398(0x55b)](_0x5051df){const _0x30e329=_0x5dd398,_0x4724f7=this[_0x30e329(0x2a3)](_0x5051df);if(_0x4724f7){if(!this['topic'])return null;this[_0x30e329(0x2ff)][_0x30e329(0x7b0)]({'sourceId':this[_0x30e329(0x86e)][_0x30e329(0x330)](),'content':{'action':_0x24ec37[_0x30e329(0x35f)],'track':_0x4724f7,'stream':this[_0x30e329(0x543)]}});}return _0x4724f7;}['setPriority'](_0x437cff){const _0x4ef1f5=_0x5dd398;if(!this[_0x4ef1f5(0x2ff)])throw new _0x189e7c(_0x189e7c[_0x4ef1f5(0x32a)][_0x4ef1f5(0x6ca)],{'label':this[_0x4ef1f5(0x667)],'ownerId':this[_0x4ef1f5(0x86e)]['getId'](),'remoteId':this[_0x4ef1f5(0x3e8)]});this[_0x4ef1f5(0x2ff)][_0x4ef1f5(0x7b0)]({'sourceId':this[_0x4ef1f5(0x86e)][_0x4ef1f5(0x330)](),'content':{'action':_0x24ec37[_0x4ef1f5(0x78b)],'priority':_0x437cff,'stream':this[_0x4ef1f5(0x543)]}});}['subscribe']({trackKinds:_0x5b70ae,params:_0x5ab660},_0x3c5346){const _0x564081=_0x5dd398;if(!this['topic'])throw new _0x189e7c(_0x189e7c['codes'][_0x564081(0x6ca)],{'label':this[_0x564081(0x667)],'ownerId':this[_0x564081(0x86e)][_0x564081(0x330)](),'remoteId':this[_0x564081(0x3e8)]});for(const _0x5ed5f9 of this[_0x564081(0x543)][_0x564081(0x331)]())_0x5b70ae[_0x564081(0x30f)](_0x5ed5f9['kind'])&&this[_0x564081(0x2ff)][_0x564081(0x7b0)]({'sourceId':this[_0x564081(0x86e)][_0x564081(0x330)](),'content':{'action':_0x24ec37[_0x564081(0x25a)],'track':_0x5ed5f9,'stream':this[_0x564081(0x543)],'priority':_0x3c5346,'params':this['getInternalTrackParams'](_0x5ed5f9[_0x564081(0x806)],_0x5ab660)}});}['update']({params:_0x315909}){const _0x509c6a=_0x5dd398;if(!this[_0x509c6a(0x2ff)])throw new _0x189e7c(_0x189e7c[_0x509c6a(0x32a)][_0x509c6a(0x6ca)],{'label':this['label'],'ownerId':this['owner'][_0x509c6a(0x330)](),'remoteId':this['remoteId']});for(const _0xa6f079 of this[_0x509c6a(0x543)]['getTracks']())this[_0x509c6a(0x2ff)][_0x509c6a(0x7b0)]({'sourceId':this[_0x509c6a(0x86e)][_0x509c6a(0x330)](),'content':{'action':_0x24ec37['Update'],'stream':this[_0x509c6a(0x543)],'params':this['getInternalTrackParams'](_0xa6f079['kind'],_0x315909)}});}[_0x5dd398(0x7de)]({trackKinds:_0x2d16e8}){const _0x294942=_0x5dd398;if(this[_0x294942(0x2ff)]){for(const _0x16d614 of this[_0x294942(0x543)]['getTracks']())_0x2d16e8[_0x294942(0x30f)](_0x16d614['kind'])&&this[_0x294942(0x2ff)][_0x294942(0x7b0)]({'sourceId':this[_0x294942(0x86e)]['getId'](),'content':{'action':_0x24ec37['Remove'],'stream':this[_0x294942(0x543)],'track':_0x16d614}});}}['registerPublisher'](_0x5eb679){const _0x38df6b=_0x5dd398;this[_0x38df6b(0x2ff)]=_0x5eb679;}[_0x5dd398(0x441)](_0x14f26a){const _0x44afba=_0x5dd398;_0x14f26a===this[_0x44afba(0x2ff)]&&(delete this['topic'],this[_0x44afba(0x7ed)][_0x44afba(0x7b0)]());}[_0x5dd398(0x42b)](_0x2d5b03){const _0x21093b=_0x5dd398;return this[_0x21093b(0x7ed)][_0x21093b(0x431)](_0x2d5b03);}['getTrack'](_0x498368){return this['mediaStream']['getTracks']()['find'](_0x5cd9c5=>_0x5cd9c5['kind']===_0x498368)||null;}[_0x5dd398(0x602)](_0x35d85f,_0xefb08){const _0x2294dc=_0x5dd398;let _0x26d625;return _0x2294dc(0x51f)===_0x35d85f&&_0xefb08?.[_0x2294dc(0x51f)]&&'boolean'!=typeof _0xefb08[_0x2294dc(0x51f)]&&(_0x26d625={'kind':_0x2294dc(0x51f),..._0xefb08[_0x2294dc(0x51f)]},_0x26d625[_0x2294dc(0x3a0)]=this[_0x2294dc(0x40d)]()),_0x2294dc(0x3aa)===_0x35d85f&&_0xefb08?.[_0x2294dc(0x3aa)]&&_0x2294dc(0x3ca)!=typeof _0xefb08[_0x2294dc(0x3aa)]&&(_0x26d625={'kind':_0x2294dc(0x3aa),..._0xefb08[_0x2294dc(0x3aa)]}),_0x26d625;}[_0x5dd398(0x40d)](){const _0x25a85e=_0x5dd398;let _0x27e1ac={'width':0x0,'height':0x0};const _0xd3dfc9=this[_0x25a85e(0x543)]['getVideoTracks']();if(_0xd3dfc9[_0x25a85e(0x5f4)]>0x0){const _0x194a2b=_0xd3dfc9[0x0][_0x25a85e(0x7d4)]();_0x194a2b[_0x25a85e(0x465)]&&_0x194a2b['height']&&(_0x27e1ac={'width':_0x194a2b[_0x25a85e(0x465)],'height':_0x194a2b[_0x25a85e(0x6b1)]});}return _0x27e1ac;}}class _0x5d5b86 extends _0x513854{['clusterId'];['priority']=_0x47065f[_0x5dd398(0x5fa)]['Default'];[_0x5dd398(0x603)]=new Map();[_0x5dd398(0x6db)]=new Map();constructor(_0x295929,_0x4c6042,_0x30f760,_0x110cd8){const _0x20d1ec=_0x5dd398;super(_0x295929,_0x4c6042,_0x30f760 instanceof MediaStream?_0x30f760:_0x30f760[_0x20d1ec(0x334)]?_0x30f760['srcObject']:_0x30f760['captureStream']()),this[_0x20d1ec(0x1ff)]=_0x110cd8,this[_0x20d1ec(0x543)]['getTracks']()[_0x20d1ec(0x710)](_0x17018f=>this[_0x20d1ec(0x547)](_0x17018f)),_0x52f76b['logServiceEvent'](_0x26ae6a['MediaStream'],{'type':'publish','label':this[_0x20d1ec(0x667)],'nodeId':this[_0x20d1ec(0x86e)][_0x20d1ec(0x330)](),'nodeType':this[_0x20d1ec(0x86e)][_0x20d1ec(0x72a)],'clusterId':this['clusterId'],'streamId':this[_0x20d1ec(0x655)](),'trackKinds':this[_0x20d1ec(0x543)][_0x20d1ec(0x331)]()[_0x20d1ec(0x58c)](_0x3bfe63=>_0x3bfe63[_0x20d1ec(0x806)])});}[_0x5dd398(0x255)](){const _0x2dfee5=_0x5dd398;this[_0x2dfee5(0x6db)][_0x2dfee5(0x3ee)]>0x0&&(this['outgoingStreams']['forEach'](_0x1f89a2=>{const _0x4f0dac=_0x2dfee5;_0x1f89a2[_0x4f0dac(0x7d9)](),_0x1f89a2['destroy']();}),this[_0x2dfee5(0x6db)][_0x2dfee5(0x1f6)]()),this[_0x2dfee5(0x603)][_0x2dfee5(0x710)](_0x5a8b6b=>_0x5a8b6b()),super[_0x2dfee5(0x255)]();}[_0x5dd398(0x7b0)](_0x25f7a5){const _0x43767f=_0x5dd398;this[_0x43767f(0x7fa)][_0x43767f(0x7b0)]({'sourceId':this['owner'][_0x43767f(0x330)](),'destinationIds':_0x25f7a5?[_0x25f7a5]:void 0x0,'propagate':!0x0,'messageType':_0x3efa6a[_0x43767f(0x5d2)],'content':{'type':_0x47bc97[_0x43767f(0x6ab)],'ownerId':this[_0x43767f(0x86e)][_0x43767f(0x330)](),'label':this[_0x43767f(0x667)],'stream':{'streamId':this['getInternalStreamId'](),'availableTrackKinds':this[_0x43767f(0x543)][_0x43767f(0x331)]()[_0x43767f(0x58c)](_0x474f73=>_0x474f73[_0x43767f(0x806)])}}});}['unpublish'](){const _0x2d87c3=_0x5dd398;this[_0x2d87c3(0x7fa)][_0x2d87c3(0x7b0)]({'sourceId':this[_0x2d87c3(0x86e)][_0x2d87c3(0x330)](),'propagate':!0x0,'messageType':_0x3efa6a[_0x2d87c3(0x5d2)],'content':{'type':_0x47bc97[_0x2d87c3(0x1b3)],'ownerId':this['owner'][_0x2d87c3(0x330)](),'label':this[_0x2d87c3(0x667)]}}),this[_0x2d87c3(0x7fa)][_0x2d87c3(0x7b0)]({'sourceId':_0x384096,'messageType':_0x3efa6a['Content'],'content':{'type':_0x47bc97['CloseMediaStream'],'label':this[_0x2d87c3(0x667)]}}),_0x52f76b[_0x2d87c3(0x4b5)](_0x26ae6a[_0x2d87c3(0x2c5)],{'type':_0x2d87c3(0x2b0),'label':this[_0x2d87c3(0x667)],'nodeId':this[_0x2d87c3(0x86e)]['getId'](),'nodeType':this['owner']['type'],'clusterId':this['clusterId'],'streamId':this[_0x2d87c3(0x655)]()});}[_0x5dd398(0x66d)](){const _0x595fb0=_0x5dd398;return this[_0x595fb0(0x3f5)];}['setPriority'](_0xe287f2){const _0x446fe6=_0x5dd398;this[_0x446fe6(0x3f5)]=_0xe287f2,this['outgoingStreams'][_0x446fe6(0x710)](_0x1c2b60=>_0x1c2b60[_0x446fe6(0x2b9)](_0xe287f2));}[_0x5dd398(0x7e0)](_0x31af0d,_0x4bb8e9){const _0x433f33=_0x5dd398;if(!this[_0x433f33(0x6db)][_0x433f33(0x2d4)](_0x31af0d)){const _0x4c6667=new _0x3008ef(this['owner'],this[_0x433f33(0x667)],this[_0x433f33(0x543)],_0x31af0d,_0x4bb8e9),_0x23c266=_0x4c6667['onUnregisterPublisher'](()=>{const _0x576e46=_0x433f33;_0x23c266(),this[_0x576e46(0x6db)][_0x576e46(0x7ef)](_0x31af0d)?.[_0x576e46(0x255)](),this[_0x576e46(0x6db)][_0x576e46(0x2d8)](_0x31af0d);});this[_0x433f33(0x6db)][_0x433f33(0x549)](_0x31af0d,_0x4c6667),_0x4c6667[_0x433f33(0x442)](this[_0x433f33(0x7fa)]);}return this[_0x433f33(0x6db)][_0x433f33(0x7ef)](_0x31af0d);}[_0x5dd398(0x6f1)](){const _0x1d7dce=_0x5dd398;return this[_0x1d7dce(0x543)]['id'];}['handleLocalTrackFailure'](_0xc1edd3){const _0x3fbbcf=_0x5dd398;this[_0x3fbbcf(0x7fa)]['publish']({'sourceId':_0x384096,'messageType':_0x3efa6a[_0x3fbbcf(0x5d2)],'content':{'type':_0x47bc97[_0x3fbbcf(0x788)],'label':this['label'],'trackKinds':[_0xc1edd3[_0x3fbbcf(0x806)]]}});}[_0x5dd398(0x547)](_0x1f3268){const _0x27324c=_0x5dd398,_0x2ed695=()=>this[_0x27324c(0x1ef)](_0x1f3268);_0x1f3268['addEventListener'](_0x27324c(0x21d),_0x2ed695),_0x1f3268[_0x27324c(0x80d)](_0x27324c(0x504),_0x2ed695),this[_0x27324c(0x603)][_0x27324c(0x549)](_0x1f3268[_0x27324c(0x806)],()=>{const _0x35be32=_0x27324c;_0x1f3268[_0x35be32(0x297)](_0x35be32(0x21d),_0x2ed695),_0x1f3268['removeEventListener']('mute',_0x2ed695),this[_0x35be32(0x603)]['delete'](_0x1f3268[_0x35be32(0x806)]);});}}class _0x12bd27 extends _0x5d5b86{[_0x5dd398(0x503)];[_0x5dd398(0x1bc)]=[];['clientStream'];[_0x5dd398(0x529)];[_0x5dd398(0x2ce)];[_0x5dd398(0x1de)];['canvas'];[_0x5dd398(0x4ff)];[_0x5dd398(0x393)];constructor(_0x5192e4,_0x4454e7,_0x14d6ee,_0x5b3631,_0x21e45e,_0x3aad5f){const _0x2cbe11=_0x5dd398;if(super(_0x5192e4,_0x4454e7,_0x14d6ee,_0x3aad5f),this['audioContext']=_0x21e45e,this[_0x2cbe11(0x7b5)]=this[_0x2cbe11(0x543)],this['sourceVideo']=document['createElement']('video'),this[_0x2cbe11(0x1de)][_0x2cbe11(0x1f5)]=!0x0,this[_0x2cbe11(0x1de)][_0x2cbe11(0x2d1)]=!0x0,this[_0x2cbe11(0x1de)][_0x2cbe11(0x334)]=this[_0x2cbe11(0x7b5)],this['sourceVideo'][_0x2cbe11(0x417)](),this[_0x2cbe11(0x1de)][_0x2cbe11(0x7cc)]=()=>{const _0x470b43=_0x2cbe11;this['sourceVideo'][_0x470b43(0x6e4)]();},this[_0x2cbe11(0x481)]=document[_0x2cbe11(0x314)](_0x2cbe11(0x481)),this[_0x2cbe11(0x4ff)]=this[_0x2cbe11(0x481)][_0x2cbe11(0x36e)]('2d'),this[_0x2cbe11(0x543)]=this['canvas'][_0x2cbe11(0x639)](_0x5b3631),this[_0x2cbe11(0x2ce)]=this[_0x2cbe11(0x503)][_0x2cbe11(0x69d)](),this[_0x2cbe11(0x7b5)][_0x2cbe11(0x22e)]()[_0x2cbe11(0x5f4)]>0x0){const _0x3e5cac=this[_0x2cbe11(0x7b5)][_0x2cbe11(0x22e)]()[0x0];this[_0x2cbe11(0x529)]=this[_0x2cbe11(0x503)]['createMediaStreamSource'](new MediaStream([_0x3e5cac])),this[_0x2cbe11(0x529)]['connect'](this[_0x2cbe11(0x2ce)]);}const _0x361245=this['audioDestination']['stream'][_0x2cbe11(0x331)]()[0x0];this['mediaStream']['addTrack'](_0x361245),this[_0x2cbe11(0x393)]=setInterval(()=>{const _0x5abbed=_0x2cbe11;this['canvas'][_0x5abbed(0x465)]=this[_0x5abbed(0x1de)]['videoWidth'],this[_0x5abbed(0x481)]['height']=this[_0x5abbed(0x1de)][_0x5abbed(0x293)],this[_0x5abbed(0x1de)][_0x5abbed(0x6b8)]?(0x0!==this[_0x5abbed(0x7b5)]['getVideoTracks']()[_0x5abbed(0x5f4)]&&this[_0x5abbed(0x7b5)][_0x5abbed(0x211)]()[0x0]['enabled']?this[_0x5abbed(0x543)][_0x5abbed(0x211)]()[0x0]['enabled']=!0x0:this[_0x5abbed(0x543)][_0x5abbed(0x211)]()[0x0]['enabled']=!0x1,0x0!==this[_0x5abbed(0x7b5)]['getAudioTracks']()[_0x5abbed(0x5f4)]&&this[_0x5abbed(0x7b5)][_0x5abbed(0x22e)]()[0x0][_0x5abbed(0x4c7)]?this[_0x5abbed(0x543)][_0x5abbed(0x22e)]()[0x0][_0x5abbed(0x4c7)]=!0x0:this[_0x5abbed(0x543)][_0x5abbed(0x22e)]()[0x0][_0x5abbed(0x4c7)]=!0x1,this[_0x5abbed(0x4ff)][_0x5abbed(0x2a2)](this[_0x5abbed(0x1de)],0x0,0x0)):this[_0x5abbed(0x4ff)][_0x5abbed(0x4d7)](0x0,0x0,this[_0x5abbed(0x481)][_0x5abbed(0x465)],this[_0x5abbed(0x481)][_0x5abbed(0x6b1)]);},0x3e8/_0x5b3631);}[_0x5dd398(0x255)](){const _0x4f153f=_0x5dd398;clearInterval(this['interval']),this[_0x4f153f(0x1de)]['remove'](),this[_0x4f153f(0x481)][_0x4f153f(0x253)](),this[_0x4f153f(0x529)]?.['disconnect'](),this[_0x4f153f(0x2ce)]['disconnect'](),this[_0x4f153f(0x543)][_0x4f153f(0x331)]()['forEach'](_0x4b0a02=>{const _0x575ee1=_0x4f153f;_0x4b0a02[_0x575ee1(0x5d8)](),this[_0x575ee1(0x543)][_0x575ee1(0x55b)](_0x4b0a02);}),super['destroy']();}[_0x5dd398(0x7a2)](_0x65188d){const _0x511703=_0x5dd398,_0x160591=this['getTrack'](_0x65188d['kind']);_0x160591&&this[_0x511703(0x55b)](_0x160591),_0x511703(0x3aa)!==_0x65188d[_0x511703(0x806)]?(_0x511703(0x51f)===_0x65188d[_0x511703(0x806)]&&this['addVideoTrack'](_0x65188d),this['setupTrackEndedListeners'](_0x65188d)):this[_0x511703(0x392)](_0x65188d);}[_0x5dd398(0x55b)](_0x18ad90){const _0x5077cf=_0x5dd398,_0x34ae49=this[_0x5077cf(0x1b6)](_0x18ad90);return _0x34ae49&&(_0x5077cf(0x3aa)===_0x34ae49[_0x5077cf(0x806)]&&(this[_0x5077cf(0x529)]?.[_0x5077cf(0x5da)](),this['audioSource']=void 0x0),this[_0x5077cf(0x603)][_0x5077cf(0x7ef)](_0x34ae49['kind'])?.(),this[_0x5077cf(0x7b5)][_0x5077cf(0x55b)](_0x34ae49)),_0x34ae49;}[_0x5dd398(0x3ba)](_0x225c37){const _0x5e5aa6=_0x5dd398;this[_0x5e5aa6(0x55b)](_0x225c37['kind']),this[_0x5e5aa6(0x7a2)](_0x225c37);}['setTransformations'](_0x1db294){const _0x5217c0=_0x5dd398;this[_0x5217c0(0x1bc)]=_0x1db294;}[_0x5dd398(0x2a3)](_0x9db4a2){const _0x105405=_0x5dd398;return this['clientStream']['getTracks']()[_0x105405(0x33c)](_0x581b33=>_0x581b33['kind']===_0x9db4a2)||null;}['getTrackFromParam'](_0x3bdc6b){const _0x28becc=_0x5dd398;return _0x28becc(0x542)==typeof _0x3bdc6b?this['getTrack'](_0x3bdc6b):_0x3bdc6b;}[_0x5dd398(0x392)](_0x8b2373){const _0x1cadc6=_0x5dd398;'suspended'===this[_0x1cadc6(0x503)][_0x1cadc6(0x2ef)]&&this[_0x1cadc6(0x503)][_0x1cadc6(0x557)](),this['clientStream'][_0x1cadc6(0x7a2)](_0x8b2373),this[_0x1cadc6(0x529)]=this['audioContext'][_0x1cadc6(0x4b6)](this['clientStream']),this[_0x1cadc6(0x529)][_0x1cadc6(0x685)](this['audioDestination']);}[_0x5dd398(0x2f4)](_0x19f740){const _0x177039=_0x5dd398;this['clientStream'][_0x177039(0x7a2)](_0x19f740),this['sourceVideo'][_0x177039(0x417)]();}}class _0x2e55b4 extends _0x5d5b86{}class _0x5b7a12 extends _0x33028e{['localNode'];[_0x5dd398(0x1ff)];[_0x5dd398(0x6eb)];['transactionService'];[_0x5dd398(0x30d)];[_0x5dd398(0x47a)];[_0x5dd398(0x7ae)];['pendingSyncTransactions']=new Map();[_0x5dd398(0x3c1)]=new Map();[_0x5dd398(0x4f0)]=new Map();[_0x5dd398(0x609)]=new Map();[_0x5dd398(0x793)]=new Map();[_0x5dd398(0x56d)]=new Map();[_0x5dd398(0x64c)];[_0x5dd398(0x5a5)]=_0x3835d4();['listenerUnsubscriber'];[_0x5dd398(0x6a4)];[_0x5dd398(0x22f)]=0x0;[_0x5dd398(0x7e9)]=0x0;[_0x5dd398(0x36c)]=!0x0;['isSyncing']=!0x0;constructor(_0x51ee9d,_0x1c1c6,_0x5c60ea,_0x72a240,_0x264e27,_0x426fa4,_0x52fa33){const _0x43d016=_0x5dd398;if(_0x43d016(0x542)!=typeof _0x1c1c6)throw new _0x4ddc2b(_0xf6fbbf[_0x43d016(0x222)],_0x43d016(0x762));super(_0x51ee9d,_0x1c1c6),this[_0x43d016(0x5fb)]=_0x51ee9d,this['clusterId']=_0x5c60ea,this[_0x43d016(0x6eb)]=_0x72a240,this['transactionService']=_0x264e27,this[_0x43d016(0x30d)]=_0x52fa33;const _0x5b864f=_0x43d016(0x528)+this[_0x43d016(0x6eb)]+_0x43d016(0x528)+this[_0x43d016(0x1ff)]+_0x43d016(0x528)+_0x1c1c6;this[_0x43d016(0x64c)]=new _0x426fa4(_0x5b864f),this['sendStats']();}[_0x5dd398(0x567)](){const _0x3c878b=_0x5dd398;this[_0x3c878b(0x850)]();}['getContentType'](){const _0x42012f=_0x5dd398;return _0x47065f[_0x42012f(0x447)][_0x42012f(0x5eb)];}async[_0x5dd398(0x7c3)](_0x1df792){const _0x41c02b=_0x5dd398;console['log'](_0x41c02b(0x3b3),this[_0x41c02b(0x667)],_0x1df792,_0x41c02b(0x4b7),this[_0x41c02b(0x36c)]),void 0x0!==_0x1df792&&(this[_0x41c02b(0x36c)]=_0x1df792),this[_0x41c02b(0x6b9)]=!0x0;try{const _0x59f877=await this[_0x41c02b(0x64c)][_0x41c02b(0x7ef)](_0x2a2300),_0x4c16f3=await _0x59f877[_0x41c02b(0x803)]();this[_0x41c02b(0x7ae)]=_0x4c16f3;}catch(_0x3f53b3){}this[_0x41c02b(0x47a)]=this[_0x41c02b(0x69f)](async(_0x413c29,_0x5fc812)=>{const _0x37a749=_0x41c02b;if(!(_0x5fc812 instanceof File))try{if(_0x5fc812[_0x37a749(0x671)]===_0x2ec195['Request'])return void this[_0x37a749(0x7a6)](_0x5fc812);this['handleTransactionPayload'](_0x5fc812);}catch(_0x5c10e7){if(_0x5c10e7 instanceof _0x189e7c)throw _0x5c10e7;throw new _0x189e7c(_0x189e7c[_0x37a749(0x32a)][_0x37a749(0x473)],{'payload':_0x5fc812});}}),await this[_0x41c02b(0x38f)](),this['syncContent']?await this[_0x41c02b(0x514)]():this[_0x41c02b(0x4e4)](),this[_0x41c02b(0x850)]();}[_0x5dd398(0x255)](){const _0x1096a1=_0x5dd398;this[_0x1096a1(0x47a)]?.(),clearTimeout(this[_0x1096a1(0x6a4)]),delete this[_0x1096a1(0x6a4)],super['destroy']();}[_0x5dd398(0x362)](){const _0x412e7a=_0x5dd398;this[_0x412e7a(0x7fa)]?.[_0x412e7a(0x7b0)]({'sourceId':_0x384096,'messageType':_0x3efa6a[_0x412e7a(0x5d2)],'content':{'type':_0x47bc97[_0x412e7a(0x284)],'label':this['label']}});}['subscribe'](_0x1a78ab){const _0x1a9303=_0x5dd398;if(this['listenerUnsubscriber'])throw new _0x4ddc2b(_0xf6fbbf[_0x1a9303(0x595)],'Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed');this[_0x1a9303(0x5ed)]=this[_0x1a9303(0x5a5)][_0x1a9303(0x431)](_0x1a78ab),this['isSyncing']||this[_0x1a9303(0x5a5)]['publish']({'event':_0x47065f[_0x1a9303(0x335)][_0x1a9303(0x553)],'payload':null});}[_0x5dd398(0x7de)](){const _0x33ea74=_0x5dd398;this[_0x33ea74(0x5ed)]?.(),this['listenerUnsubscriber']=void 0x0;}['publish'](_0x46e170){const _0x2aca24=_0x5dd398;switch(_0x46e170[_0x2aca24(0x4c1)]){case _0x47065f[_0x2aca24(0x456)]['File']:return this[_0x2aca24(0x802)](_0x46e170['file'],_0x46e170[_0x2aca24(0x6ef)],_0x46e170[_0x2aca24(0x763)]);case _0x47065f[_0x2aca24(0x456)][_0x2aca24(0x6ce)]:return this[_0x2aca24(0x497)](_0x46e170[_0x2aca24(0x6ef)]);case _0x47065f[_0x2aca24(0x456)]['Move']:return this['publishMove'](_0x46e170[_0x2aca24(0x6ef)],_0x46e170[_0x2aca24(0x382)]);default:throw new _0x4ddc2b(_0xf6fbbf[_0x2aca24(0x3c9)],_0x2aca24(0x564)+_0x46e170);}}async[_0x5dd398(0x2b0)](_0x2d65bb){const _0x9d000a=_0x5dd398;try{const _0xa36a7a=(0x0,_0x2b9c8e['v4'])(),_0x4f545a=this[_0x9d000a(0x7ae)],_0x18f5ac={'payloadType':_0x2ec195[_0x9d000a(0x37e)],'action':_0x2f3c36[_0x9d000a(0x4a4)],'id':_0xa36a7a,'parentId':_0x4f545a,'path':_0x2d65bb};await this[_0x9d000a(0x876)](_0x18f5ac);const _0x3aa6b2=await this['deleteObject'](_0x2d65bb);await this[_0x9d000a(0x2fb)](_0x18f5ac),_0x52f76b['logServiceEvent'](_0x26ae6a[_0x9d000a(0x863)],{'type':_0x9d000a(0x2b0),'label':this[_0x9d000a(0x667)],'nodeId':this[_0x9d000a(0x5fb)]['getId'](),'nodeType':this[_0x9d000a(0x5fb)][_0x9d000a(0x72a)],'clusterId':this['clusterId'],'kind':_0x3aa6b2,'path':_0x2d65bb}),this[_0x9d000a(0x22f)]+=0x1,this[_0x9d000a(0x850)]();}catch(_0x176d6f){if(_0x176d6f instanceof _0x189e7c)throw new _0x4ddc2b(_0xf6fbbf['ObjectStoreNotInSync'],_0x9d000a(0x7e1));throw new _0x4ddc2b(_0xf6fbbf[_0x9d000a(0x63b)],_0x9d000a(0x73c)+_0x2d65bb);}}async[_0x5dd398(0x7ef)](_0x18eeb7,_0x202c7f){const _0x24b43e=_0x5dd398;_0x52f76b['logServiceEvent'](_0x26ae6a[_0x24b43e(0x863)],{'type':_0x24b43e(0x7ef),'label':this[_0x24b43e(0x667)],'nodeId':this[_0x24b43e(0x5fb)][_0x24b43e(0x330)](),'nodeType':this[_0x24b43e(0x5fb)][_0x24b43e(0x72a)],'clusterId':this[_0x24b43e(0x1ff)],'path':_0x18eeb7}),this[_0x24b43e(0x7e9)]+=0x1,this[_0x24b43e(0x850)]();try{return await this['objectStoreConnector'][_0x24b43e(0x7ef)](_0x18eeb7,_0x202c7f);}catch(_0x499246){try{await this[_0x24b43e(0x64c)][_0x24b43e(0x7ef)](_0x18eeb7+_0x1e7210);}catch(_0x527b0a){throw new _0x4ddc2b(_0xf6fbbf[_0x24b43e(0x63b)],_0x24b43e(0x5fe)+_0x18eeb7);}throw new _0x4ddc2b(_0xf6fbbf[_0x24b43e(0x799)],_0x24b43e(0x423));}}async[_0x5dd398(0x656)](_0x394e96,_0xea8369){const _0x1855a2=_0x5dd398,{recursive:_0x2fae73=!0x1,includeSyncingFiles:_0x156563=!0x1}=_0xea8369??{};_0x52f76b[_0x1855a2(0x4b5)](_0x26ae6a[_0x1855a2(0x863)],{'type':_0x1855a2(0x656),'label':this[_0x1855a2(0x667)],'nodeId':this[_0x1855a2(0x5fb)]['getId'](),'nodeType':this[_0x1855a2(0x5fb)][_0x1855a2(0x72a)],'clusterId':this[_0x1855a2(0x1ff)],'path':_0x394e96}),this['reads']+=0x1,this['sendStats']();try{const _0x102190=await this[_0x1855a2(0x64c)][_0x1855a2(0x656)](_0x394e96,_0x2fae73);return this[_0x1855a2(0x2d7)](_0x102190,{'recursive':_0x2fae73,'includeSyncingFiles':_0x156563});}catch(_0x2d7cb8){throw new _0x4ddc2b(_0xf6fbbf['ObjectStoreInvalidPath'],_0x1855a2(0x4f5)+_0x394e96);}}[_0x5dd398(0x651)](_0x216965){const _0xedd187=_0x5dd398;for(const _0xa90b65 of this['objectRequests']['values']())this[_0xedd187(0x2fb)](_0xa90b65,[_0x216965]);}[_0x5dd398(0x687)](_0x453f43){const _0x28d5fc=_0x5dd398,_0x3d2343=this['pendingFilesSyncing'][_0x28d5fc(0x7ef)](_0x453f43);if(_0x3d2343){for(const [_0x36b129,_0x28eb91]of _0x3d2343[_0x28d5fc(0x4e3)]())this[_0x28d5fc(0x684)](_0x36b129,_0x28eb91);this[_0x28d5fc(0x4f0)]['delete'](_0x453f43);}}async[_0x5dd398(0x832)](_0x588ace='/'){const _0x1fe513=_0x5dd398;try{return await this['objectStoreConnector']['calculateSize'](_0x588ace);}catch(_0x12a3e8){if(_0x12a3e8 instanceof Error&&_0x12a3e8[_0x1fe513(0x3b2)][_0x1fe513(0x30f)](_0x1fe513(0x866)))return 0x0;throw new _0x4ddc2b(_0xf6fbbf[_0x1fe513(0x63b)],_0x1fe513(0x518)+_0x588ace);}}[_0x5dd398(0x4e4)](){const _0x3e616d=_0x5dd398;this[_0x3e616d(0x6b9)]&&(this[_0x3e616d(0x6b9)]=!0x1,this['eventListener'][_0x3e616d(0x7b0)]({'event':_0x47065f['StorageEventType'][_0x3e616d(0x553)],'payload':null}));}async[_0x5dd398(0x2d7)](_0x44d119,{includeSyncingFiles:_0x30cfce=!0x1}){const _0x2652a6=_0x5dd398;for(const _0x35a05a of _0x44d119)if(_0x35a05a[_0x2652a6(0x806)]===_0x47065f[_0x2652a6(0x305)][_0x2652a6(0x6ce)]&&(_0x35a05a['entries']=await this[_0x2652a6(0x2d7)](_0x35a05a[_0x2652a6(0x805)]??[],{'includeSyncingFiles':_0x30cfce})),_0x35a05a[_0x2652a6(0x80f)]!==_0x2a2300){if(_0x35a05a[_0x2652a6(0x80f)][_0x2652a6(0x3e5)](_0x1e7210)){if(!_0x30cfce){_0x44d119['splice'](_0x44d119[_0x2652a6(0x857)](_0x35a05a),0x1);continue;}const _0x192a01=_0x35a05a;if(_0x192a01['name']=_0x192a01[_0x2652a6(0x80f)]['replace'](_0x1e7210,''),_0x192a01[_0x2652a6(0x3ae)]=_0x192a01[_0x2652a6(0x80f)][_0x2652a6(0x7dc)](_0x1e7210,''),await this[_0x2652a6(0x410)](_0x192a01[_0x2652a6(0x3ae)])){_0x44d119[_0x2652a6(0x65a)](_0x44d119[_0x2652a6(0x857)](_0x35a05a),0x1),_0x44d119[_0x2652a6(0x33c)](_0xc2456c=>_0xc2456c['pathName']===_0x192a01[_0x2652a6(0x3ae)])['status']=_0x47065f[_0x2652a6(0x6da)][_0x2652a6(0x64b)];continue;}_0x192a01[_0x2652a6(0x499)]=_0x47065f['FileStatus'][_0x2652a6(0x81b)];}}else _0x44d119[_0x2652a6(0x65a)](_0x44d119['indexOf'](_0x35a05a),0x1);return _0x44d119;}async[_0x5dd398(0x802)](_0x4fedb1,_0x29c6e5,_0x23b1e4=!0x1){const _0x290f8c=_0x5dd398;try{const _0x2c28a6=(0x0,_0x2b9c8e['v4'])(),_0x532ffb=await _0x110484(_0x4fedb1),_0x3c779a={'payloadType':_0x2ec195[_0x290f8c(0x37e)],'action':_0x2f3c36[_0x290f8c(0x271)],'id':_0x2c28a6,'parentId':this[_0x290f8c(0x7ae)],'answererId':this[_0x290f8c(0x5fb)]['getId'](),'name':_0x4fedb1[_0x290f8c(0x80f)],'type':_0x4fedb1[_0x290f8c(0x72a)],'path':_0x29c6e5??'/','skipEncryption':_0x23b1e4,'checksum':_0x532ffb};await this[_0x290f8c(0x876)](_0x3c779a),this['syncContent']?await this[_0x290f8c(0x3d4)](_0x4fedb1,_0x29c6e5,_0x23b1e4):await this[_0x290f8c(0x51b)](_0x4fedb1[_0x290f8c(0x80f)],_0x29c6e5??'/',{'checksum':_0x532ffb,'skipEncryption':_0x23b1e4});const _0x135812=_0x3cf33c(_0x29c6e5??'/',_0x4fedb1[_0x290f8c(0x80f)]);if(this['fileSendingMap'][_0x290f8c(0x2d4)](_0x135812)){const [_0x457a19,_0x1d80ab]=this['fileSendingMap'][_0x290f8c(0x7ef)](_0x135812);this['fileSendingMap'][_0x290f8c(0x549)](_0x135812,[!0x0,_0x1d80ab]);try{await _0x1d80ab;}catch(_0x340dcb){}this[_0x290f8c(0x56d)][_0x290f8c(0x2d8)](_0x135812);}await this[_0x290f8c(0x3e7)](_0x4fedb1,_0x3c779a),_0x52f76b['logServiceEvent'](_0x26ae6a[_0x290f8c(0x863)],{'type':_0x290f8c(0x7b0),'label':this['label'],'nodeId':this['localNode'][_0x290f8c(0x330)](),'nodeType':this[_0x290f8c(0x5fb)][_0x290f8c(0x72a)],'clusterId':this[_0x290f8c(0x1ff)],'kind':_0x47065f[_0x290f8c(0x305)]['File'],'path':_0x29c6e5,'fileName':_0x4fedb1[_0x290f8c(0x80f)],'fileType':_0x4fedb1[_0x290f8c(0x72a)],'size':_0x4fedb1['size']}),this[_0x290f8c(0x22f)]+=0x1,this[_0x290f8c(0x850)]();}catch(_0x26719f){if(_0x26719f instanceof _0x189e7c)throw new _0x4ddc2b(_0xf6fbbf['ObjectStoreNotInSync'],_0x290f8c(0x423));throw new _0x4ddc2b(_0xf6fbbf['ObjectStoreInvalidPath'],_0x290f8c(0x1dd)+_0x29c6e5);}}async[_0x5dd398(0x497)](_0x3b8e4a){const _0x1c9a5c=_0x5dd398;try{const _0x3f39ae=(0x0,_0x2b9c8e['v4'])(),_0x2922e6=this[_0x1c9a5c(0x7ae)],_0x49402f={'payloadType':_0x2ec195[_0x1c9a5c(0x37e)],'action':_0x2f3c36[_0x1c9a5c(0x21f)],'id':_0x3f39ae,'parentId':_0x2922e6,'path':_0x3b8e4a};await this[_0x1c9a5c(0x876)](_0x49402f),await this['objectStoreConnector'][_0x1c9a5c(0x3e6)](_0x3b8e4a),await this[_0x1c9a5c(0x2fb)](_0x49402f),_0x52f76b[_0x1c9a5c(0x4b5)](_0x26ae6a['ObjectStorage'],{'type':_0x1c9a5c(0x7b0),'label':this[_0x1c9a5c(0x667)],'nodeId':this[_0x1c9a5c(0x5fb)]['getId'](),'nodeType':this[_0x1c9a5c(0x5fb)][_0x1c9a5c(0x72a)],'clusterId':this[_0x1c9a5c(0x1ff)],'kind':_0x47065f[_0x1c9a5c(0x305)][_0x1c9a5c(0x6ce)],'path':_0x3b8e4a}),this['writes']+=0x1,this[_0x1c9a5c(0x850)]();}catch(_0x881f56){if(_0x881f56 instanceof _0x189e7c)throw new _0x4ddc2b(_0xf6fbbf[_0x1c9a5c(0x799)],_0x1c9a5c(0x423));throw new _0x4ddc2b(_0xf6fbbf[_0x1c9a5c(0x63b)],_0x1c9a5c(0x268)+_0x3b8e4a);}}async[_0x5dd398(0x56f)](_0x51736a,_0xab6cd6){const _0x279d13=_0x5dd398;try{const _0x201d74=(0x0,_0x2b9c8e['v4'])(),_0xb12661=this['lastTransactionId'],_0x498e93={'payloadType':_0x2ec195[_0x279d13(0x37e)],'action':_0x2f3c36[_0x279d13(0x77a)],'id':_0x201d74,'parentId':_0xb12661,'path':_0x51736a,'newPath':_0xab6cd6};await this[_0x279d13(0x876)](_0x498e93);const _0x378bf1=await this['moveObject'](_0x51736a,_0xab6cd6);await this[_0x279d13(0x2fb)](_0x498e93),_0x52f76b['logServiceEvent'](_0x26ae6a[_0x279d13(0x863)],{'type':'move','label':this['label'],'nodeId':this['localNode'][_0x279d13(0x330)](),'nodeType':this[_0x279d13(0x5fb)]['type'],'clusterId':this['clusterId'],'kind':_0x378bf1,'path':_0x51736a,'newPath':_0xab6cd6}),this['writes']+=0x1,this[_0x279d13(0x850)]();}catch(_0xe59293){if(_0xe59293 instanceof _0x189e7c)throw new _0x4ddc2b(_0xf6fbbf['ObjectStoreNotInSync'],_0x279d13(0x423));throw new _0x4ddc2b(_0xf6fbbf[_0x279d13(0x63b)],_0x279d13(0x1ba)+_0x51736a);}}async[_0x5dd398(0x3f8)](_0x40d6eb,_0x1eb9f2=!0x1){const _0x5090ca=_0x5dd398;if(this[_0x5090ca(0x7ae)]&&_0x40d6eb[_0x5090ca(0x458)]!==this[_0x5090ca(0x7ae)]&&_0x40d6eb['id']!==this['lastTransactionId']){if(!_0x40d6eb[_0x5090ca(0x458)])throw new _0x189e7c(_0x189e7c[_0x5090ca(0x32a)]['ObjectStoreInvalidSyncMessage']);this['pendingSyncTransactions'][_0x5090ca(0x549)](_0x40d6eb[_0x5090ca(0x458)],_0x40d6eb);}else{try{await this[_0x5090ca(0x20b)](_0x40d6eb,_0x1eb9f2);}catch(_0x1bbcd3){}await this[_0x5090ca(0x479)](_0x40d6eb['id']),await this[_0x5090ca(0x229)](_0x40d6eb['id'],_0x1eb9f2);}}async[_0x5dd398(0x20b)](_0x331dd5,_0x419af8=!0x1){const _0x4440b9=_0x5dd398;switch(_0x331dd5[_0x4440b9(0x4c1)]){case _0x2f3c36['FileWrite']:await this[_0x4440b9(0x769)](_0x331dd5);break;case _0x2f3c36[_0x4440b9(0x21f)]:await this[_0x4440b9(0x71b)](_0x331dd5);break;case _0x2f3c36[_0x4440b9(0x77a)]:await this[_0x4440b9(0x37f)](_0x331dd5,_0x419af8);break;case _0x2f3c36[_0x4440b9(0x4a4)]:await this['handleObjectDelete'](_0x331dd5,_0x419af8);break;default:throw new _0x189e7c(_0x189e7c['codes'][_0x4440b9(0x473)],{'payload':_0x331dd5});}}async[_0x5dd398(0x229)](_0x37fbcf,_0x53436f=!0x1){const _0x43d1a7=_0x5dd398;if(this[_0x43d1a7(0x3a8)]['has'](_0x37fbcf)){const _0x4baebb=this[_0x43d1a7(0x3a8)][_0x43d1a7(0x7ef)](_0x37fbcf);this[_0x43d1a7(0x3a8)][_0x43d1a7(0x2d8)](_0x37fbcf),await this[_0x43d1a7(0x3f8)](_0x4baebb,_0x53436f);}}async['handleRequestPayload'](_0x30e0d6){const _0x5c721c=_0x5dd398;switch(_0x30e0d6[_0x5c721c(0x4c1)]){case _0x2f3c36['RequestFile']:return this['handleFileRequest'](_0x30e0d6);case _0x2f3c36['RequestAccepted']:return this[_0x5c721c(0x338)](_0x30e0d6);case _0x2f3c36[_0x5c721c(0x7a0)]:return this[_0x5c721c(0x32d)](_0x30e0d6);case _0x2f3c36[_0x5c721c(0x2b3)]:return this[_0x5c721c(0x769)](_0x30e0d6);default:throw new _0x189e7c(_0x189e7c[_0x5c721c(0x32a)]['ObjectStoreInvalidSyncMessage'],{'payload':_0x30e0d6});}}async[_0x5dd398(0x769)](_0x39d6dd,_0x5aad2b=0x0){const _0x22071d=_0x5dd398,_0x577f52=_0x3cf33c(_0x39d6dd['path'],_0x39d6dd[_0x22071d(0x80f)]);if(!_0x39d6dd[_0x22071d(0x46f)]||void 0x0===_0x39d6dd['index']||!_0x39d6dd[_0x22071d(0x1f4)])return console[_0x22071d(0x20d)](_0x22071d(0x23e),_0x39d6dd[_0x22071d(0x496)]),this[_0x22071d(0x6c1)]['delete'](_0x577f52),void await this[_0x22071d(0x51b)](_0x39d6dd[_0x22071d(0x80f)],_0x39d6dd[_0x22071d(0x6ef)],{'checksum':_0x39d6dd[_0x22071d(0x496)],'skipEncryption':_0x39d6dd[_0x22071d(0x763)]});if(this[_0x22071d(0x6c1)][_0x22071d(0x2d4)](_0x577f52)){const _0x241ff0=this[_0x22071d(0x6c1)][_0x22071d(0x7ef)](_0x577f52);_0x241ff0[_0x22071d(0x496)]!==_0x39d6dd['checksum']&&(_0x241ff0['stream']?.['close'](),this['fileChunks'][_0x22071d(0x2d8)](_0x577f52));}if(!this['fileChunks']['has'](_0x577f52)){try{console[_0x22071d(0x20d)](_0x22071d(0x39c),_0x577f52),await this['objectStoreConnector'][_0x22071d(0x28e)](_0x577f52);}catch(_0x43404b){}try{const _0x44f149={'chunksReceived':0x0,'bytesReceived':0x0,'stream':this['syncContent']?await this[_0x22071d(0x64c)]['createWritableStream'](_0x577f52,{'skipEncryption':_0x39d6dd[_0x22071d(0x763)]}):void 0x0,'checksum':_0x39d6dd[_0x22071d(0x496)]};this[_0x22071d(0x6c1)][_0x22071d(0x549)](_0x577f52,_0x44f149),await this[_0x22071d(0x51b)](_0x39d6dd[_0x22071d(0x80f)],_0x39d6dd[_0x22071d(0x6ef)],{'checksum':_0x39d6dd['checksum'],'skipEncryption':_0x39d6dd[_0x22071d(0x763)]});}catch(_0x52191e){}}_0x39d6dd[_0x22071d(0x61b)]%0x3e8==0x0&&console['log'](_0x22071d(0x7f0),_0x39d6dd[_0x22071d(0x61b)],'of',_0x39d6dd[_0x22071d(0x1f4)],_0x22071d(0x733),this[_0x22071d(0x6c1)][_0x22071d(0x7ef)](_0x577f52)?.['chunksReceived']??0x0);const _0x5da4d4=this[_0x22071d(0x6c1)]['get'](_0x577f52);if(_0x39d6dd[_0x22071d(0x496)]!==_0x5da4d4[_0x22071d(0x496)])return;if(this[_0x22071d(0x650)](_0x39d6dd,_0x577f52),this[_0x22071d(0x36c)]){if(!_0x5da4d4[_0x22071d(0x4f2)])throw new _0x189e7c(_0x189e7c[_0x22071d(0x32a)][_0x22071d(0x473)],{'message':'Writable\x20stream\x20is\x20missing'});let _0x1e423b=_0x5da4d4[_0x22071d(0x79d)];if(_0x39d6dd[_0x22071d(0x61b)]!==_0x1e423b){if(_0x1e423b>_0x39d6dd[_0x22071d(0x61b)])return;return _0x5da4d4['bufferedChunks']||(_0x5da4d4['bufferedChunks']=[]),void _0x5da4d4[_0x22071d(0x25c)][_0x22071d(0x28d)](_0x39d6dd);}try{_0x5da4d4['chunksReceived']+=0x1,_0x5da4d4['bytesReceived']+=_0x39d6dd[_0x22071d(0x46f)][_0x22071d(0x233)],await _0x5da4d4[_0x22071d(0x4f2)]['write'](_0x39d6dd['data']);}catch(_0x175f26){if(console[_0x22071d(0x7ee)](_0x22071d(0x3b7),_0x175f26),_0x5aad2b>0x3)throw this[_0x22071d(0x6c1)]['delete'](_0x577f52),console[_0x22071d(0x7ee)]('Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream',_0x175f26),new _0x189e7c(_0x189e7c[_0x22071d(0x32a)][_0x22071d(0x473)],{'message':_0x22071d(0x848)});return this['handleFileWrite'](_0x39d6dd,_0x5aad2b+0x1);}}try{await this[_0x22071d(0x4a3)](_0x5da4d4,_0x39d6dd[_0x22071d(0x61b)]+0x1);}catch(_0x32f5ff){throw this[_0x22071d(0x6c1)][_0x22071d(0x2d8)](_0x577f52),_0x32f5ff;}if(this[_0x22071d(0x6c1)][_0x22071d(0x549)](_0x577f52,_0x5da4d4),_0x5da4d4[_0x22071d(0x79d)]<_0x39d6dd[_0x22071d(0x1f4)])return;if(this['fileChunks'][_0x22071d(0x2d8)](_0x577f52),_0x5da4d4[_0x22071d(0x4f2)])try{await _0x5da4d4[_0x22071d(0x4f2)]['close']();}catch(_0x35fe1b){console[_0x22071d(0x7ee)]('Error\x20closing\x20writable\x20stream',_0x35fe1b);}this[_0x22071d(0x36c)]&&(await this[_0x22071d(0x446)](_0x39d6dd),_0x52f76b[_0x22071d(0x4b5)](_0x26ae6a['ObjectStorage'],{'type':'sync','label':this['label'],'nodeId':this[_0x22071d(0x5fb)]['getId'](),'nodeType':this['localNode'][_0x22071d(0x72a)],'clusterId':this[_0x22071d(0x1ff)],'kind':_0x47065f[_0x22071d(0x305)][_0x22071d(0x3b5)],'path':_0x39d6dd[_0x22071d(0x6ef)],'fileName':_0x39d6dd['name'],'fileType':_0x39d6dd[_0x22071d(0x72a)],'size':_0x5da4d4['bytesReceived']}));const _0x3d2ef9=this['pendingFilesTransactions']['get'](_0x39d6dd['path'])??[];for(const _0x1d94b6 of _0x3d2ef9)await this[_0x22071d(0x20b)](_0x1d94b6);this[_0x22071d(0x609)][_0x22071d(0x2d8)](_0x39d6dd[_0x22071d(0x6ef)]),this[_0x22071d(0x5a5)]['publish']({'event':_0x47065f[_0x22071d(0x335)]['FileWrite'],'payload':{'file':{'kind':_0x47065f[_0x22071d(0x305)][_0x22071d(0x3b5)],'path':_0x39d6dd[_0x22071d(0x6ef)],'type':_0x39d6dd['type'],'size':_0x5da4d4[_0x22071d(0x845)],'name':_0x39d6dd['name'],'pathName':_0x577f52,'status':this[_0x22071d(0x36c)]?_0x47065f[_0x22071d(0x6da)][_0x22071d(0x20a)]:_0x47065f['FileStatus'][_0x22071d(0x81b)]}}}),console['log'](_0x22071d(0x772),_0x39d6dd,_0x22071d(0x1f7),new Map(this[_0x22071d(0x4f0)]),_0x22071d(0x628),this[_0x22071d(0x609)],_0x22071d(0x808),this[_0x22071d(0x3a8)]);}async[_0x5dd398(0x4a3)](_0x297f5e,_0x17f112){const _0x5bbd75=_0x5dd398,_0x2e5844=_0x297f5e['stream'];let _0x43ef07=0x0;for(;_0x297f5e[_0x5bbd75(0x25c)]&&_0x297f5e[_0x5bbd75(0x25c)][_0x5bbd75(0x5f4)]>0x0;){const _0x1ccb2d=_0x297f5e[_0x5bbd75(0x25c)][_0x5bbd75(0x33c)](_0xaed4d9=>_0xaed4d9[_0x5bbd75(0x61b)]===_0x17f112+0x1);if(!_0x1ccb2d)break;_0x297f5e[_0x5bbd75(0x25c)]=_0x297f5e[_0x5bbd75(0x25c)][_0x5bbd75(0x60e)](_0x30ed5a=>_0x30ed5a['index']!==_0x17f112+0x1);try{await _0x2e5844[_0x5bbd75(0x228)](_0x1ccb2d[_0x5bbd75(0x46f)]),_0x17f112++;}catch(_0x4cb40f){if(console['error'](_0x5bbd75(0x712),_0x4cb40f),_0x43ef07>0x3)throw console[_0x5bbd75(0x7ee)](_0x5bbd75(0x6e3),_0x4cb40f),new _0x189e7c(_0x189e7c[_0x5bbd75(0x32a)][_0x5bbd75(0x473)],{'message':'Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream'});_0x43ef07++;continue;}_0x297f5e[_0x5bbd75(0x79d)]+=0x1,_0x297f5e[_0x5bbd75(0x845)]+=_0x1ccb2d[_0x5bbd75(0x46f)][_0x5bbd75(0x233)];}}async[_0x5dd398(0x71b)](_0x444a41){const _0x2083b7=_0x5dd398;await this[_0x2083b7(0x64c)][_0x2083b7(0x3e6)](_0x444a41[_0x2083b7(0x6ef)]);const [_0x44b197,_0x19bea0]=_0x4e2639(_0x444a41['path']);this[_0x2083b7(0x5a5)][_0x2083b7(0x7b0)]({'event':_0x47065f[_0x2083b7(0x335)][_0x2083b7(0x21f)],'payload':{'folder':{'kind':_0x47065f[_0x2083b7(0x305)][_0x2083b7(0x6ce)],'name':_0x19bea0,'path':_0x44b197,'pathName':_0x444a41['path']}}});}async[_0x5dd398(0x5d6)](_0x38981c,_0x541d5c=!0x1){const _0x44c09a=_0x5dd398;if(!_0x541d5c&&!this[_0x44c09a(0x2c9)](_0x38981c))return;const _0x3f8647=await this[_0x44c09a(0x28e)](_0x38981c['path']),[_0x2dd190,_0xece00b]=_0x4e2639(_0x38981c[_0x44c09a(0x6ef)]);this[_0x44c09a(0x5a5)][_0x44c09a(0x7b0)]({'event':_0x3f8647===_0x47065f[_0x44c09a(0x305)]['Folder']?_0x47065f[_0x44c09a(0x335)]['FolderDelete']:_0x47065f[_0x44c09a(0x335)][_0x44c09a(0x6af)],'payload':{'name':_0xece00b,'path':_0x2dd190,'pathName':_0x38981c[_0x44c09a(0x6ef)]}});}async[_0x5dd398(0x37f)](_0x5574a1,_0x3effbd=!0x1){const _0x131779=_0x5dd398;if(!_0x3effbd&&!this[_0x131779(0x2c9)](_0x5574a1))return this[_0x131779(0x793)][_0x131779(0x549)](_0x5574a1[_0x131779(0x382)],this[_0x131779(0x793)][_0x131779(0x7ef)](_0x5574a1[_0x131779(0x6ef)])??_0x5574a1[_0x131779(0x6ef)]),void this['pendingFilesRename'][_0x131779(0x2d8)](_0x5574a1[_0x131779(0x6ef)]);this['pendingFilesRename'][_0x131779(0x2d8)](_0x5574a1[_0x131779(0x6ef)]);const _0x4a0716=await this['objectStoreConnector'][_0x131779(0x2de)](_0x5574a1[_0x131779(0x6ef)],_0x5574a1['newPath']),[_0x80eabc,_0x988506]=_0x4e2639(_0x5574a1[_0x131779(0x6ef)]),[_0x1ba586,_0x1039de]=_0x4e2639(_0x5574a1[_0x131779(0x382)]);this[_0x131779(0x5a5)][_0x131779(0x7b0)]({'event':_0x4a0716===_0x47065f['ObjectKind'][_0x131779(0x6ce)]?_0x47065f['StorageEventType'][_0x131779(0x34b)]:_0x47065f[_0x131779(0x335)][_0x131779(0x29e)],'payload':{'name':_0x1039de,'path':_0x1ba586,'pathName':_0x5574a1[_0x131779(0x382)],'oldName':_0x988506,'oldPath':_0x80eabc,'oldPathName':_0x5574a1['path']}});}[_0x5dd398(0x2c9)](_0x1e307f){const _0x1b456b=_0x5dd398,_0x4d1873=this[_0x1b456b(0x793)][_0x1b456b(0x7ef)](_0x1e307f['path'])??_0x1e307f[_0x1b456b(0x6ef)];let _0xa8fe16=!0x1;for(const _0x465649 of this[_0x1b456b(0x6c1)][_0x1b456b(0x1f0)]())if(_0x465649[_0x1b456b(0x30e)](_0x4d1873)){const _0x189068=this[_0x1b456b(0x609)][_0x1b456b(0x7ef)](_0x465649)??[];_0x189068['push'](_0x1e307f),this['pendingFilesTransactions']['set'](_0x465649,_0x189068),_0xa8fe16=!0x0;}return!_0xa8fe16;}async[_0x5dd398(0x876)](_0xc8c08e){const _0x3d2cdd=_0x5dd398;if(!_0xc8c08e['id'])throw new _0x189e7c(_0x189e7c[_0x3d2cdd(0x32a)][_0x3d2cdd(0x473)],{'message':_0x3d2cdd(0x1e8)});if(_0xc8c08e[_0x3d2cdd(0x458)]!==this[_0x3d2cdd(0x7ae)])throw new _0x189e7c(_0x189e7c[_0x3d2cdd(0x32a)][_0x3d2cdd(0x657)]);await this[_0x3d2cdd(0x7d2)][_0x3d2cdd(0x2fc)](_0xc8c08e,this['label']),await this['updateLastTransactionId'](_0xc8c08e['id']);}async[_0x5dd398(0x479)](_0x2f5f5c){const _0x137e9b=_0x5dd398;this[_0x137e9b(0x7ae)]=_0x2f5f5c;const _0x521999=new File([new Blob([this['lastTransactionId']])],_0x2a2300,{'type':_0x137e9b(0x257)});await this[_0x137e9b(0x3d4)](_0x521999,'/');}async[_0x5dd398(0x85b)](_0x5e60bc){const _0x42e1b4=_0x5dd398;try{const _0x3af141=await this[_0x42e1b4(0x7ef)](_0x5e60bc[_0x42e1b4(0x6ef)]+'/'+_0x5e60bc['name']);if(await _0x110484(_0x3af141)!==_0x5e60bc[_0x42e1b4(0x496)])return;_0x5e60bc[_0x42e1b4(0x4e7)]=this[_0x42e1b4(0x5fb)][_0x42e1b4(0x330)](),_0x5e60bc[_0x42e1b4(0x4c1)]=_0x2f3c36['RequestAccepted'],await this[_0x42e1b4(0x2fb)](_0x5e60bc,[_0x5e60bc[_0x42e1b4(0x562)]]);}catch(_0x200423){}}async[_0x5dd398(0x338)](_0x3a0406){const _0x46ae6d=_0x5dd398,_0x5121f8=_0x3cf33c(_0x3a0406[_0x46ae6d(0x6ef)],_0x3a0406[_0x46ae6d(0x80f)]);if(!this[_0x46ae6d(0x3c1)][_0x46ae6d(0x2d4)](_0x5121f8))return;const _0x310e16=this[_0x46ae6d(0x3c1)][_0x46ae6d(0x7ef)](_0x5121f8);_0x310e16[_0x46ae6d(0x4c1)]=_0x2f3c36['RequestFileSync'];const _0x379634=_0x3a0406['answererId'];if(!_0x379634)throw new _0x189e7c(_0x189e7c['codes'][_0x46ae6d(0x473)],{'message':'Missing\x20answerer\x20id\x20on\x20request\x20answer'});this[_0x46ae6d(0x3c1)][_0x46ae6d(0x2d8)](_0x5121f8),this[_0x46ae6d(0x4f0)][_0x46ae6d(0x2d4)](_0x379634)||this[_0x46ae6d(0x4f0)]['set'](_0x379634,new Map()),this[_0x46ae6d(0x4f0)][_0x46ae6d(0x7ef)](_0x379634)[_0x46ae6d(0x549)](_0x5121f8,[_0x310e16,this['getOrResetPendingFileTimeout'](_0x379634,_0x5121f8)]),_0x310e16[_0x46ae6d(0x4e7)]=_0x379634,_0x310e16[_0x46ae6d(0x556)]=this[_0x46ae6d(0x6c1)][_0x46ae6d(0x7ef)](_0x5121f8)?.[_0x46ae6d(0x79d)]??0x0,console[_0x46ae6d(0x20d)]('Sending\x20file\x20request\x20sync\x20payload',_0x3a0406,_0x46ae6d(0x1f7),new Map(this[_0x46ae6d(0x4f0)]),_0x46ae6d(0x628),this[_0x46ae6d(0x609)],'sync\x20transact',this[_0x46ae6d(0x3a8)]),this[_0x46ae6d(0x2fb)](_0x310e16,[_0x379634]);}async[_0x5dd398(0x32d)](_0x2fb2b5){const _0x448c54=_0x5dd398,_0x24b203=_0x3cf33c(_0x2fb2b5['path'],_0x2fb2b5[_0x448c54(0x80f)]),_0x4aecec=await this[_0x448c54(0x7ef)](_0x24b203),_0x32d77c={..._0x2fb2b5,'answererId':this[_0x448c54(0x5fb)][_0x448c54(0x330)](),'action':_0x2f3c36[_0x448c54(0x2b3)],'startIndex':_0x2fb2b5['startIndex']??0x0};await this[_0x448c54(0x3e7)](_0x4aecec,_0x32d77c,[_0x2fb2b5[_0x448c54(0x562)]]);}async[_0x5dd398(0x3e7)](_0x26b380,_0x2a0829,_0x57a106){let _0x137afb,_0x185a2f;const _0x54585e=new Promise(async(_0x89dff7,_0x2350a0)=>{_0x137afb=_0x89dff7,_0x185a2f=_0x2350a0;});((async()=>{const _0x224d83=a0_0x553c,_0x14dbcd=Math['ceil'](_0x26b380[_0x224d83(0x3ee)]/_0x29b399);let _0x4933e1=_0x2a0829['startIndex']??0x0;const _0x4913e0=_0x3cf33c(_0x2a0829[_0x224d83(0x6ef)],_0x2a0829[_0x224d83(0x80f)]);this[_0x224d83(0x56d)][_0x224d83(0x549)](_0x4913e0,[!0x1,_0x54585e]);for await(const _0x359b81 of async function*(_0x350063,_0x14e209=0x0,_0x201588){for await(const _0x5d0275 of _0x5b7cda(_0x350063,_0x14e209,_0x201588))yield _0x5d0275;}(_0x26b380,_0x4933e1,this[_0x224d83(0x30d)])){const [_0x4852fe]=this[_0x224d83(0x56d)][_0x224d83(0x7ef)](_0x4913e0)??[];if(_0x4852fe)return this[_0x224d83(0x56d)]['delete'](_0x4913e0),void _0x185a2f(new Error(_0x224d83(0x691)));if(this[_0x224d83(0x609)][_0x224d83(0x2d4)](_0x4913e0)){const _0x404283=this['pendingFilesTransactions'][_0x224d83(0x7ef)](_0x4913e0);for(const _0x1064f2 of _0x404283)if(_0x1064f2[_0x224d83(0x4c1)]===_0x2f3c36[_0x224d83(0x271)]||_0x1064f2[_0x224d83(0x4c1)]===_0x2f3c36['Delete'])return;}const _0x1eb97c={..._0x2a0829,'type':_0x26b380[_0x224d83(0x72a)],'data':_0x359b81,'index':_0x4933e1,'total':_0x14dbcd};this[_0x224d83(0x2fb)](_0x1eb97c,_0x57a106),_0x4933e1++;}_0x137afb(),this[_0x224d83(0x56d)]['delete'](_0x4913e0);})());}async[_0x5dd398(0x446)](_0x104610){const _0x258c44=_0x5dd398;try{const _0x20fcbc=_0x3cf33c(_0x104610[_0x258c44(0x6ef)],_0x104610[_0x258c44(0x80f)]),_0x34ed47=_0x20fcbc+_0x1e7210;await this['deleteObject'](_0x34ed47);const [,_0x13ff88]=this[_0x258c44(0x4f0)]['get'](_0x104610[_0x258c44(0x4e7)])?.[_0x258c44(0x7ef)](_0x20fcbc)??[];_0x13ff88&&(clearTimeout(_0x13ff88),this['pendingFilesSyncing'][_0x258c44(0x7ef)](_0x104610['answererId'])[_0x258c44(0x2d8)](_0x20fcbc));}catch(_0x12166c){}0x0===this[_0x258c44(0x4f0)][_0x258c44(0x7ef)](_0x104610[_0x258c44(0x4e7)])?.['size']&&this[_0x258c44(0x4f0)][_0x258c44(0x2d8)](_0x104610[_0x258c44(0x4e7)]),0x0===this[_0x258c44(0x4f0)][_0x258c44(0x3ee)]&&0x0===this[_0x258c44(0x3c1)][_0x258c44(0x3ee)]&&this['completeSync']();}async['syncTransactions'](){const _0xf029e2=_0x5dd398;try{const _0x3d1442=await this[_0xf029e2(0x7d2)][_0xf029e2(0x810)](this[_0xf029e2(0x667)],this[_0xf029e2(0x7ae)]);for(const _0x599ce5 of _0x3d1442)await this[_0xf029e2(0x3f8)](_0x599ce5,!0x0);}catch(_0x231180){if(_0x231180 instanceof _0x189e7c&&_0x231180[_0xf029e2(0x4fe)]===_0x189e7c[_0xf029e2(0x32a)][_0xf029e2(0x779)]){await this[_0xf029e2(0x64c)]['deleteObject'](_0x2a2300),delete this[_0xf029e2(0x7ae)];try{const _0x16adab=await this[_0xf029e2(0x64c)]['list']('/',!0x1);for(const _0xe362a4 of _0x16adab)await this[_0xf029e2(0x64c)][_0xf029e2(0x28e)](_0xe362a4[_0xf029e2(0x3ae)]);}catch(_0x4eed7d){}return await this[_0xf029e2(0x38f)]();}throw _0x231180;}}async[_0x5dd398(0x514)](){const _0x1e287d=_0x5dd398,_0x350946=await this[_0x1e287d(0x656)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x0}),_0x84c67c=async _0x5e1519=>{const _0x1f15d7=_0x1e287d;for(const _0x5a2217 of _0x5e1519){if(_0x5a2217[_0x1f15d7(0x806)]===_0x47065f[_0x1f15d7(0x305)]['Folder']){_0x5a2217[_0x1f15d7(0x805)]&&_0x5a2217[_0x1f15d7(0x805)][_0x1f15d7(0x5f4)]>0x0&&await _0x84c67c(_0x5a2217[_0x1f15d7(0x805)]);continue;}if(console['log'](_0x1f15d7(0x3b9),_0x5a2217),_0x5a2217['status']!==_0x47065f[_0x1f15d7(0x6da)][_0x1f15d7(0x81b)])continue;const _0x1369fd=_0x3cf33c(_0x5a2217['path'],_0x5a2217[_0x1f15d7(0x80f)]['endsWith'](_0x1e7210)?_0x5a2217[_0x1f15d7(0x3ae)]:_0x5a2217[_0x1f15d7(0x3ae)]+_0x1e7210),_0x16b669=await this[_0x1f15d7(0x7ef)](_0x1369fd),_0x1b754b=JSON[_0x1f15d7(0x84d)](await _0x16b669[_0x1f15d7(0x803)]());console[_0x1f15d7(0x20d)]('Found\x20pending\x20file',_0x1b754b);const _0x41f45d=_0x5a2217[_0x1f15d7(0x80f)][_0x1f15d7(0x7dc)](_0x1e7210,'');try{await this[_0x1f15d7(0x28e)](_0x3cf33c(_0x5a2217['path'],_0x41f45d));}catch(_0x1954e4){}const _0x33690e={'payloadType':_0x2ec195[_0x1f15d7(0x304)],'action':_0x2f3c36[_0x1f15d7(0x3a6)],'sourceId':this[_0x1f15d7(0x5fb)][_0x1f15d7(0x330)](),'type':'','path':_0x5a2217['path'],'name':_0x41f45d,'checksum':_0x1b754b['checksum'],'skipEncryption':_0x1b754b[_0x1f15d7(0x763)]},_0x420626=_0x3cf33c(_0x5a2217[_0x1f15d7(0x6ef)],_0x41f45d);this[_0x1f15d7(0x3c1)]['set'](_0x420626,_0x33690e),console[_0x1f15d7(0x20d)](_0x1f15d7(0x58b),_0x33690e);}};await _0x84c67c(_0x350946),console[_0x1e287d(0x20d)](_0x1e287d(0x2f1),this[_0x1e287d(0x3c1)]),0x0===this[_0x1e287d(0x3c1)][_0x1e287d(0x3ee)]&&0x0===this[_0x1e287d(0x4f0)][_0x1e287d(0x3ee)]&&this['completeSync']();}async['createPendingFileWrite'](_0x8acfb2,_0x3447e8,_0x1f0b96){const _0x51dd2d=_0x5dd398,_0x5c8dda=new File([new Blob([JSON[_0x51dd2d(0x698)](_0x1f0b96)])],''+_0x8acfb2+_0x1e7210,{'type':'text/plain'});await this[_0x51dd2d(0x3d4)](_0x5c8dda,_0x3447e8);}['getOrResetPendingFileTimeout'](_0x4a23a0,_0x24b0fc){const _0x4af212=_0x5dd398,[_0x35b56b,_0x2d46fe]=this[_0x4af212(0x4f0)][_0x4af212(0x7ef)](_0x4a23a0)?.['get'](_0x24b0fc)??[];return _0x2d46fe&&clearTimeout(_0x2d46fe),setTimeout(()=>{const _0x510a1e=_0x4af212,[_0xf3d0b5,_0x57ac80]=this[_0x510a1e(0x4f0)][_0x510a1e(0x7ef)](_0x4a23a0)['get'](_0x24b0fc);this[_0x510a1e(0x684)](_0xf3d0b5,_0x57ac80);},0x927c0);}async[_0x5dd398(0x684)](_0x55931a,_0x2dd813){const _0x3880ab=_0x5dd398;console[_0x3880ab(0x20d)]('Sending\x20file\x20request\x20payload',_0x55931a,_0x3880ab(0x1f7),new Map(this[_0x3880ab(0x4f0)]),_0x3880ab(0x628),this[_0x3880ab(0x609)],'sync\x20transact',this['pendingSyncTransactions']),clearTimeout(_0x2dd813),_0x55931a[_0x3880ab(0x4c1)]=_0x2f3c36[_0x3880ab(0x3a6)],this[_0x3880ab(0x3c1)][_0x3880ab(0x549)](_0x3cf33c(_0x55931a[_0x3880ab(0x6ef)],_0x55931a[_0x3880ab(0x80f)]),_0x55931a),this[_0x3880ab(0x2fb)](_0x55931a);}['setPendingFileSyncingPayload'](_0x9674af,_0x5ca233){const _0xce19e6=_0x5dd398;if(!this['syncContent'])return;this[_0xce19e6(0x4f0)][_0xce19e6(0x2d4)](_0x9674af[_0xce19e6(0x4e7)])||this[_0xce19e6(0x4f0)][_0xce19e6(0x549)](_0x9674af['answererId'],new Map());const [_0x34c47e]=this['pendingFilesSyncing']['get'](_0x9674af[_0xce19e6(0x4e7)])['get'](_0x5ca233)??[{'payloadType':_0x2ec195['Request'],'action':_0x2f3c36['RequestFile'],'sourceId':this[_0xce19e6(0x5fb)][_0xce19e6(0x330)](),'type':_0x9674af[_0xce19e6(0x72a)],'name':_0x9674af[_0xce19e6(0x80f)],'path':_0x9674af[_0xce19e6(0x6ef)],'skipEncryption':_0x9674af[_0xce19e6(0x763)],'checksum':_0x9674af[_0xce19e6(0x496)],'answererId':_0x9674af[_0xce19e6(0x4e7)]}];this[_0xce19e6(0x4f0)][_0xce19e6(0x7ef)](_0x9674af[_0xce19e6(0x4e7)])[_0xce19e6(0x549)](_0x5ca233,[_0x34c47e,this[_0xce19e6(0x39a)](_0x9674af['answererId'],_0x5ca233)]);}async['writeFile'](_0x529192,_0x350b19,_0x460d01){await this['objectStoreConnector']['writeFile'](_0x529192,_0x350b19,{'skipEncryption':_0x460d01});}async['deleteObject'](_0x382cb3){const _0x9b5e2f=_0x5dd398;try{return await this[_0x9b5e2f(0x64c)][_0x9b5e2f(0x28e)](_0x382cb3);}catch(_0x4c59dc){return await this['objectStoreConnector'][_0x9b5e2f(0x28e)](_0x382cb3+_0x1e7210);}}async[_0x5dd398(0x2de)](_0x41b1fa,_0x2b7763){const _0x5e0fb1=_0x5dd398;try{return await this[_0x5e0fb1(0x64c)][_0x5e0fb1(0x2de)](_0x41b1fa,_0x2b7763);}catch(_0x5832ba){return await this[_0x5e0fb1(0x64c)][_0x5e0fb1(0x2de)](_0x41b1fa+_0x1e7210,_0x2b7763+_0x1e7210);}}[_0x5dd398(0x850)](){const _0x534989=_0x5dd398;this[_0x534989(0x6a4)]&&clearTimeout(this[_0x534989(0x6a4)]),this[_0x534989(0x6a4)]=setTimeout(async()=>{const _0x4a3af5=_0x534989;delete this[_0x4a3af5(0x6a4)];const _0x168fe0=await this[_0x4a3af5(0x64c)][_0x4a3af5(0x34f)]('/');this[_0x4a3af5(0x7fa)]?.[_0x4a3af5(0x7b0)]({'sourceId':_0x384096,'messageType':_0x3efa6a['Content'],'content':{'type':_0x47bc97['ObjectStoreStats'],'label':this[_0x4a3af5(0x667)],'stats':{'timestamp':Date['now'](),'storage':_0x168fe0,'messagesSent':this[_0x4a3af5(0x355)],'messagesReceived':this[_0x4a3af5(0x513)],'bytesSent':this[_0x4a3af5(0x83b)],'bytesReceived':this[_0x4a3af5(0x845)],'writes':this['writes'],'reads':this[_0x4a3af5(0x7e9)],'prompts':0x0,'tokens':0x0}}}),_0x52f76b[_0x4a3af5(0x61d)](_0x26ae6a[_0x4a3af5(0x863)],_0x4a3af5(0x528)+this[_0x4a3af5(0x1ff)]+_0x4a3af5(0x528)+this[_0x4a3af5(0x667)],_0x168fe0);},0x1388);}async['syncedFileExists'](_0x9e5ed6){const _0x3d7bb7=_0x5dd398;try{return await this[_0x3d7bb7(0x7ef)](_0x9e5ed6),!0x0;}catch(_0x23cc57){return!0x1;}}}class _0x4206ef extends _0x33028e{['localNode'];[_0x5dd398(0x1ff)];[_0x5dd398(0x47a)]=new Map();[_0x5dd398(0x6a4)];constructor(_0x24eccf,_0x5946d3,_0x2a0e1c){const _0x548e16=_0x5dd398;if(_0x548e16(0x542)!=typeof _0x5946d3)throw new _0x4ddc2b(_0xf6fbbf[_0x548e16(0x699)],'Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string');super(_0x24eccf,_0x5946d3),this[_0x548e16(0x5fb)]=_0x24eccf,this[_0x548e16(0x1ff)]=_0x2a0e1c,this[_0x548e16(0x850)]();}['reset'](){const _0x131590=_0x5dd398;this[_0x131590(0x850)]();}[_0x5dd398(0x323)](){const _0x20a04d=_0x5dd398;return _0x47065f['ContentType'][_0x20a04d(0x5a8)];}[_0x5dd398(0x7b0)](_0x3afac6,_0x28aa79){const _0x833883=_0x5dd398;_0x52f76b[_0x833883(0x20d)](_0x4f3b4c[_0x833883(0x5a8)],'PubSubTopic\x20publish',this[_0x833883(0x5fb)][_0x833883(0x330)](),_0x3afac6,_0x28aa79),_0x52f76b[_0x833883(0x4b5)](_0x26ae6a[_0x833883(0x5a8)],{'type':_0x833883(0x7b0),'label':this[_0x833883(0x667)],'nodeId':this[_0x833883(0x5fb)]['getId'](),'nodeType':this[_0x833883(0x5fb)][_0x833883(0x72a)],'clusterId':this['clusterId'],'remoteIds':_0x28aa79??[],'contentType':_0x3afac6 instanceof File?_0x47065f[_0x833883(0x447)][_0x833883(0x3b5)]:_0x47065f[_0x833883(0x447)]['Data'],'size':_0x3afac6 instanceof File?_0x3afac6[_0x833883(0x3ee)]:JSON[_0x833883(0x698)](_0x3afac6)['length']}),this[_0x833883(0x850)](),this[_0x833883(0x2fb)](_0x3afac6,_0x28aa79);}[_0x5dd398(0x431)](_0x315e2f,_0x258307){const _0x2f8738=_0x5dd398;if(this[_0x2f8738(0x47a)][_0x2f8738(0x2d4)](_0x315e2f))throw new _0x4ddc2b(_0xf6fbbf[_0x2f8738(0x78f)],_0x2f8738(0x484));this['unsubscribeHandler'][_0x2f8738(0x549)](_0x315e2f,this[_0x2f8738(0x69f)]((_0x429220,_0x4234a2)=>{const _0x16e29e=_0x2f8738;'data'===_0x315e2f&&_0x4234a2 instanceof File||!(_0x16e29e(0x758)!==_0x315e2f||_0x4234a2 instanceof File)||(_0x52f76b['log'](_0x4f3b4c[_0x16e29e(0x5a8)],_0x16e29e(0x365),this[_0x16e29e(0x5fb)]['getId'](),_0x429220,_0x4234a2),_0x52f76b[_0x16e29e(0x4b5)](_0x26ae6a[_0x16e29e(0x5a8)],{'type':'subscribe','label':this[_0x16e29e(0x667)],'nodeId':this[_0x16e29e(0x5fb)][_0x16e29e(0x330)](),'nodeType':this[_0x16e29e(0x5fb)][_0x16e29e(0x72a)],'clusterId':this[_0x16e29e(0x1ff)],'remoteId':_0x429220,'contentType':_0x315e2f,'size':_0x4234a2 instanceof File?_0x4234a2[_0x16e29e(0x3ee)]:JSON['stringify'](_0x4234a2)['length']}),this[_0x16e29e(0x850)](),_0x258307(_0x429220,_0x4234a2));}));}[_0x5dd398(0x7de)](_0x53266f){const _0x4f4d2d=_0x5dd398;this['unsubscribeHandler'][_0x4f4d2d(0x7ef)](_0x53266f)?.(),this[_0x4f4d2d(0x47a)][_0x4f4d2d(0x2d8)](_0x53266f);}[_0x5dd398(0x255)](){const _0x50d42d=_0x5dd398;this[_0x50d42d(0x47a)][_0x50d42d(0x710)](_0x241f5b=>_0x241f5b()),clearTimeout(this['debounceStats']),delete this[_0x50d42d(0x6a4)],super[_0x50d42d(0x255)]();}[_0x5dd398(0x362)](){const _0x35ebb4=_0x5dd398;this[_0x35ebb4(0x7fa)]?.[_0x35ebb4(0x7b0)]({'sourceId':_0x384096,'messageType':_0x3efa6a[_0x35ebb4(0x5d2)],'content':{'type':_0x47bc97['ClosePubSubTopic'],'label':this[_0x35ebb4(0x667)]}});}['sendStats'](){const _0x1f62a7=_0x5dd398;this[_0x1f62a7(0x6a4)]&&clearTimeout(this['debounceStats']),this[_0x1f62a7(0x6a4)]=setTimeout(()=>{const _0x3aa6cf=_0x1f62a7;this[_0x3aa6cf(0x7fa)]?.[_0x3aa6cf(0x7b0)]({'sourceId':_0x384096,'messageType':_0x3efa6a['Content'],'content':{'type':_0x47bc97[_0x3aa6cf(0x369)],'label':this[_0x3aa6cf(0x667)],'stats':{'timestamp':Date[_0x3aa6cf(0x4bb)](),'storage':0x0,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x3aa6cf(0x513)],'bytesSent':this[_0x3aa6cf(0x83b)],'bytesReceived':this[_0x3aa6cf(0x845)],'writes':0x0,'reads':0x0,'prompts':0x0,'tokens':0x0}}});},0x1388);}}class _0x80cb72 extends _0x513854{[_0x5dd398(0x5fb)];[_0x5dd398(0x57f)];[_0x5dd398(0x530)];[_0x5dd398(0x1ff)];[_0x5dd398(0x47a)];[_0x5dd398(0x7a3)];[_0x5dd398(0x3b0)];['outgoingStreams']=new Map();['renderElement'];['subscribedTracks']=new Set();[_0x5dd398(0x554)];[_0x5dd398(0x608)]=_0x1c03f0();[_0x5dd398(0x603)]=new Map();constructor(_0x5ef3eb,_0x2d7ca6,_0x5d4670,_0x1ec9fa,_0x1a0aed,_0x308990){const _0x18892d=_0x5dd398;super(_0x2d7ca6,_0x5d4670,new MediaStream()),this[_0x18892d(0x5fb)]=_0x5ef3eb,this[_0x18892d(0x57f)]=_0x1ec9fa,this[_0x18892d(0x530)]=_0x1a0aed,this['clusterId']=_0x308990,this[_0x18892d(0x543)]['getTracks']()[_0x18892d(0x710)](_0x2bc390=>this['setupTrackEndedListeners'](_0x2bc390));}[_0x5dd398(0x255)](){const _0x89e212=_0x5dd398;this[_0x89e212(0x6db)][_0x89e212(0x3ee)]>0x0&&(this[_0x89e212(0x6db)]['forEach'](_0x1cbfae=>{const _0x5e4bc3=_0x89e212;_0x1cbfae['unregisterSystemPublisher'](),_0x1cbfae[_0x5e4bc3(0x255)]();}),this['outgoingStreams']['clear']()),this[_0x89e212(0x603)][_0x89e212(0x710)](_0xd558cc=>_0xd558cc()),this['mediaStream'][_0x89e212(0x331)]()[_0x89e212(0x710)](_0xb6b901=>this[_0x89e212(0x543)]['removeTrack'](_0xb6b901)),this[_0x89e212(0x3b0)]&&(clearTimeout(this[_0x89e212(0x3b0)]),delete this[_0x89e212(0x3b0)]),this[_0x89e212(0x7a3)]?.(),super[_0x89e212(0x255)]();}[_0x5dd398(0x28b)](_0x17ffe8){const _0x449a8c=_0x5dd398;this[_0x449a8c(0x47a)]=_0x17ffe8['subscribe'](({content:_0x190a28})=>{const _0x8e5d36=_0x449a8c;switch(_0x190a28[_0x8e5d36(0x4c1)]){case _0x24ec37[_0x8e5d36(0x285)]:if(_0x52f76b[_0x8e5d36(0x20d)](_0x4f3b4c[_0x8e5d36(0x280)],_0x8e5d36(0x76f),this[_0x8e5d36(0x5fb)][_0x8e5d36(0x330)](),this['providerId']),_0x190a28[_0x8e5d36(0x4f2)]['id']!==this[_0x8e5d36(0x57f)]||_0x190a28[_0x8e5d36(0x554)]!==this[_0x8e5d36(0x554)])return;this['removeTrack'](_0x190a28[_0x8e5d36(0x706)][_0x8e5d36(0x806)]),this['mediaStream']['addTrack'](_0x190a28[_0x8e5d36(0x706)]);for(const [_0x41c7d9,_0x297de8]of this[_0x8e5d36(0x6db)][_0x8e5d36(0x805)]())try{_0x297de8[_0x8e5d36(0x7a2)](_0x190a28['track']);}catch(_0x5e636f){_0x297de8[_0x8e5d36(0x255)](),this['outgoingStreams'][_0x8e5d36(0x2d8)](_0x41c7d9);}this[_0x8e5d36(0x547)](_0x190a28[_0x8e5d36(0x706)]),this[_0x8e5d36(0x809)](),_0x8e5d36(0x51f)===_0x190a28['track'][_0x8e5d36(0x806)]&&this[_0x8e5d36(0x746)]&&(this[_0x8e5d36(0x543)][_0x8e5d36(0x398)]?setTimeout(()=>this[_0x8e5d36(0x746)]?.['play'](),0x0):setTimeout(()=>this[_0x8e5d36(0x746)]?.[_0x8e5d36(0x417)](),0x0),this[_0x8e5d36(0x5f5)]());break;case _0x24ec37[_0x8e5d36(0x5a3)]:if(_0x190a28[_0x8e5d36(0x4f2)]['id']!==this[_0x8e5d36(0x57f)]||_0x190a28['providerId']!==this[_0x8e5d36(0x554)])return;this[_0x8e5d36(0x55b)](_0x190a28[_0x8e5d36(0x706)][_0x8e5d36(0x806)]),this[_0x8e5d36(0x746)]&&'video'===_0x190a28[_0x8e5d36(0x706)][_0x8e5d36(0x806)]&&(this[_0x8e5d36(0x7a3)]?.(),this['mediaStream'][_0x8e5d36(0x331)]()[_0x8e5d36(0x5f4)]>0x0?this[_0x8e5d36(0x746)][_0x8e5d36(0x417)]():this[_0x8e5d36(0x746)]['srcObject']=null);}});}[_0x5dd398(0x7da)](){const _0xfd620c=_0x5dd398;this[_0xfd620c(0x47a)]?.(),this[_0xfd620c(0x603)][_0xfd620c(0x710)](_0x18c280=>_0x18c280()),delete this[_0xfd620c(0x47a)];}[_0x5dd398(0x655)](){const _0x5797c5=_0x5dd398;return this[_0x5797c5(0x57f)];}[_0x5dd398(0x635)](_0x5f4877){const _0x28f84b=_0x5dd398;this[_0x28f84b(0x57f)]=_0x5f4877;}[_0x5dd398(0x44d)](){const _0x1473fc=_0x5dd398;return this[_0x1473fc(0x530)];}[_0x5dd398(0x36b)](_0x2b9fa5){const _0x1d0ccd=_0x5dd398;for(const _0x614422 of _0x2b9fa5||this[_0x1d0ccd(0x530)])if(!this[_0x1d0ccd(0x543)]['getTracks']()['find'](_0x12e1ea=>_0x12e1ea[_0x1d0ccd(0x806)]===_0x614422))return!0x1;return!0x0;}['getResolution'](){const _0x3f0916=_0x5dd398;let _0x372403={'width':0x0,'height':0x0};const _0x25f368=this[_0x3f0916(0x543)][_0x3f0916(0x211)]();if(_0x25f368[_0x3f0916(0x5f4)]>0x0){const _0x2711e6=_0x25f368[0x0][_0x3f0916(0x7d4)]();_0x2711e6[_0x3f0916(0x465)]&&_0x2711e6['height']&&(_0x372403={'width':_0x2711e6[_0x3f0916(0x465)],'height':_0x2711e6[_0x3f0916(0x6b1)]});}return _0x372403;}['isSubscribed'](_0x21f537){const _0x5d2d62=_0x5dd398;for(const _0x56b128 of _0x21f537)if(!this['subscribedTracks'][_0x5d2d62(0x2d4)](_0x56b128))return!0x1;return!0x0;}[_0x5dd398(0x7e0)](_0x259afe,_0x1837c2){const _0x57eed4=_0x5dd398;if(!this[_0x57eed4(0x6db)][_0x57eed4(0x2d4)](_0x259afe)){const _0x5d496e=new _0x3008ef(this[_0x57eed4(0x86e)],this[_0x57eed4(0x667)],this[_0x57eed4(0x543)],_0x259afe,_0x1837c2),_0x2836be=_0x5d496e[_0x57eed4(0x42b)](()=>{const _0xd44344=_0x57eed4;_0x2836be(),this['outgoingStreams'][_0xd44344(0x7ef)](_0x259afe)?.[_0xd44344(0x255)](),this[_0xd44344(0x6db)][_0xd44344(0x2d8)](_0x259afe);});this[_0x57eed4(0x6db)][_0x57eed4(0x549)](_0x259afe,_0x5d496e),_0x5d496e['registerSystemPublisher'](this[_0x57eed4(0x7fa)]);}return this['outgoingStreams'][_0x57eed4(0x7ef)](_0x259afe);}[_0x5dd398(0x6f1)](){const _0x420f0b=_0x5dd398;return this[_0x420f0b(0x543)]['id'];}[_0x5dd398(0x66d)](){const _0x1cacc5=_0x5dd398;return _0x47065f[_0x1cacc5(0x5fa)][_0x1cacc5(0x491)];}[_0x5dd398(0x47f)](){const _0x12b771=_0x5dd398;return Array[_0x12b771(0x5e2)](this[_0x12b771(0x774)]);}[_0x5dd398(0x431)](_0xc221cd){const _0x5b5f44=_0x5dd398;let _0x38b354=[];if(_0xc221cd){_0x5b5f44(0x697)!=typeof _0xc221cd[_0x5b5f44(0x51f)]||_0xc221cd['video'][_0x5b5f44(0x746)]instanceof HTMLVideoElement||!this[_0x5b5f44(0x746)]||(_0xc221cd[_0x5b5f44(0x51f)]={'renderElement':this[_0x5b5f44(0x746)]});try{(0x0,_0x47065f[_0x5b5f44(0x812)])(_0xc221cd);}catch(_0x291cdd){throw new _0x4ddc2b(_0xf6fbbf[_0x5b5f44(0x4bd)],_0x5b5f44(0x2f8));}_0xc221cd[_0x5b5f44(0x51f)]&&(_0x38b354[_0x5b5f44(0x28d)](_0x5b5f44(0x51f)),'boolean'!=typeof _0xc221cd['video']&&_0xc221cd[_0x5b5f44(0x51f)][_0x5b5f44(0x746)]&&(this['renderElement']=_0xc221cd[_0x5b5f44(0x51f)][_0x5b5f44(0x746)],_0xc221cd[_0x5b5f44(0x51f)][_0x5b5f44(0x743)]||(_0xc221cd[_0x5b5f44(0x51f)][_0x5b5f44(0x743)]={'width':this[_0x5b5f44(0x746)]['clientWidth'],'height':this[_0x5b5f44(0x746)][_0x5b5f44(0x7ac)]}),delete _0xc221cd[_0x5b5f44(0x51f)][_0x5b5f44(0x746)])),_0xc221cd[_0x5b5f44(0x3aa)]&&_0x38b354[_0x5b5f44(0x28d)](_0x5b5f44(0x3aa));}else _0x38b354=this[_0x5b5f44(0x44d)]();this[_0x5b5f44(0x506)](_0x38b354)||(_0x38b354['forEach'](_0x6d3f08=>this[_0x5b5f44(0x774)][_0x5b5f44(0x6f5)](_0x6d3f08)),this[_0x5b5f44(0x7fa)][_0x5b5f44(0x7b0)]({'sourceId':_0x384096,'messageType':_0x3efa6a[_0x5b5f44(0x5d2)],'content':{'type':_0x47bc97[_0x5b5f44(0x4a1)],'label':this[_0x5b5f44(0x667)],'ownerId':this[_0x5b5f44(0x86e)][_0x5b5f44(0x330)](),'trackKinds':_0x38b354,'params':_0xc221cd}}),_0x52f76b[_0x5b5f44(0x4b5)](_0x26ae6a[_0x5b5f44(0x2c5)],{'type':'subscribe','label':this[_0x5b5f44(0x667)],'nodeId':this[_0x5b5f44(0x5fb)][_0x5b5f44(0x330)](),'nodeType':this[_0x5b5f44(0x5fb)][_0x5b5f44(0x72a)],'clusterId':this[_0x5b5f44(0x1ff)],'sourceId':this[_0x5b5f44(0x86e)][_0x5b5f44(0x330)](),'streamId':this['internalId'],'trackKinds':_0x38b354}));}[_0x5dd398(0x7f9)](_0x47896b){const _0x30bce8=_0x5dd398;try{(0x0,_0x47065f[_0x30bce8(0x812)])(_0x47896b);}catch(_0x2639eb){throw new _0x4ddc2b(_0xf6fbbf[_0x30bce8(0x4bd)],_0x30bce8(0x2f8));}this[_0x30bce8(0x3b0)]&&clearTimeout(this[_0x30bce8(0x3b0)]),this['updateDebounce']=setTimeout(()=>{const _0x174df0=_0x30bce8;delete this[_0x174df0(0x3b0)],this['systemTopic'][_0x174df0(0x7b0)]({'sourceId':_0x384096,'messageType':_0x3efa6a[_0x174df0(0x5d2)],'content':{'type':_0x47bc97[_0x174df0(0x4cc)],'label':this[_0x174df0(0x667)],'ownerId':this[_0x174df0(0x86e)][_0x174df0(0x330)](),'params':_0x47896b}});},0x1f4);}[_0x5dd398(0x7de)](_0x4e312c){const _0x19770e=_0x5dd398;_0x4e312c||(_0x4e312c=this[_0x19770e(0x44d)]()),(_0x4e312c=Array[_0x19770e(0x575)](_0x4e312c)?_0x4e312c:[_0x4e312c])[_0x19770e(0x710)](_0x1fe455=>this[_0x19770e(0x774)][_0x19770e(0x2d8)](_0x1fe455)),this[_0x19770e(0x7fa)][_0x19770e(0x7b0)]({'sourceId':_0x384096,'messageType':_0x3efa6a[_0x19770e(0x5d2)],'content':{'type':_0x47bc97[_0x19770e(0x551)],'label':this[_0x19770e(0x667)],'ownerId':this[_0x19770e(0x86e)][_0x19770e(0x330)](),'trackKinds':_0x4e312c,'remainingTracks':this[_0x19770e(0x774)][_0x19770e(0x3ee)]}});}[_0x5dd398(0x478)](_0x5e3f23){const _0x10fc34=_0x5dd398;return this['providerListener'][_0x10fc34(0x431)](_0x5e3f23);}['getProviderId'](){const _0x3342af=_0x5dd398;return this[_0x3342af(0x554)];}[_0x5dd398(0x787)](_0x288840){const _0x4118cf=_0x5dd398;this['providerId']!==_0x288840&&(this[_0x4118cf(0x554)]=_0x288840,this[_0x4118cf(0x608)][_0x4118cf(0x7b0)](_0x288840));}[_0x5dd398(0x5e0)](_0x11702c){const _0x3c1212=_0x5dd398;this[_0x3c1212(0x603)]['get'](_0x11702c)?.(),this['trackEndedListeners'][_0x3c1212(0x2d8)](_0x11702c);}[_0x5dd398(0x55b)](_0x198d3b){const _0x3a3b6d=_0x5dd398,_0x3e9345=this[_0x3a3b6d(0x543)][_0x3a3b6d(0x331)]()[_0x3a3b6d(0x33c)](_0x201fd9=>_0x201fd9[_0x3a3b6d(0x806)]===_0x198d3b);_0x3e9345&&(this[_0x3a3b6d(0x543)][_0x3a3b6d(0x55b)](_0x3e9345),this[_0x3a3b6d(0x6db)][_0x3a3b6d(0x710)](_0x2a1044=>_0x2a1044[_0x3a3b6d(0x55b)](_0x198d3b)),this[_0x3a3b6d(0x603)][_0x3a3b6d(0x7ef)](_0x198d3b)?.());}[_0x5dd398(0x809)](){const _0x235c94=_0x5dd398;this[_0x235c94(0x746)]&&(this[_0x235c94(0x746)][_0x235c94(0x334)]&&this[_0x235c94(0x746)]['srcObject']===this[_0x235c94(0x543)]||(this[_0x235c94(0x746)][_0x235c94(0x334)]=this['mediaStream']));}[_0x5dd398(0x5f5)](){const _0x245cf1=_0x5dd398;if(this[_0x245cf1(0x746)]&&!this[_0x245cf1(0x7a3)]&&'undefined'!=typeof ResizeObserver){let _0x2f84c4=this[_0x245cf1(0x746)][_0x245cf1(0x5a0)],_0x308a15=this[_0x245cf1(0x746)][_0x245cf1(0x7ac)];const _0x471103=new ResizeObserver(_0x209977=>{const _0x2b692f=_0x245cf1,{width:_0x53769b,height:_0x1744a0}=_0x209977[0x0][_0x2b692f(0x839)];_0x2f84c4===_0x53769b&&_0x308a15===_0x1744a0||(_0x2f84c4=Math[_0x2b692f(0x532)](_0x53769b),_0x308a15=Math[_0x2b692f(0x532)](_0x1744a0),this[_0x2b692f(0x7f9)]({'video':{'maxResolution':{'width':_0x53769b,'height':_0x1744a0}}}));});_0x471103[_0x245cf1(0x3f9)](this[_0x245cf1(0x746)]),this[_0x245cf1(0x7a3)]=()=>_0x471103[_0x245cf1(0x5da)]();}}[_0x5dd398(0x415)](_0x46a1ad){const _0x30aaba=_0x5dd398,_0x3a8b94=[];for(const _0x2ffbae of this[_0x30aaba(0x774)])this[_0x30aaba(0x55b)](_0x2ffbae),_0x3a8b94[_0x30aaba(0x28d)](_0x2ffbae);this['providerId']&&this['systemTopic'][_0x30aaba(0x7b0)]({'sourceId':_0x384096,'messageType':_0x3efa6a[_0x30aaba(0x5d2)],'content':{'type':_0x47bc97[_0x30aaba(0x6be)],'label':this[_0x30aaba(0x667)],'streamId':this[_0x30aaba(0x57f)],'ownerId':this['owner']['getId'](),'providerId':this[_0x30aaba(0x554)],'trackKinds':_0x3a8b94}});}[_0x5dd398(0x547)](_0xb97c4a){const _0x142d27=_0x5dd398,_0x14229b=()=>this[_0x142d27(0x415)](_0xb97c4a);_0xb97c4a[_0x142d27(0x80d)](_0x142d27(0x21d),_0x14229b),_0xb97c4a[_0x142d27(0x80d)](_0x142d27(0x504),_0x14229b),this['trackEndedListeners'][_0x142d27(0x549)](_0xb97c4a[_0x142d27(0x806)],()=>{const _0x1bb6c9=_0x142d27;_0xb97c4a[_0x1bb6c9(0x297)](_0x1bb6c9(0x21d),_0x14229b),_0xb97c4a['removeEventListener'](_0x1bb6c9(0x504),_0x14229b),this[_0x1bb6c9(0x603)][_0x1bb6c9(0x2d8)](_0xb97c4a[_0x1bb6c9(0x806)]);});}}class _0x3ebd70{['id'];[_0x5dd398(0x264)];[_0x5dd398(0x52b)];constructor(_0x44f9ef,_0x35f311=new Set(),_0x2ebead){const _0x54bdaa=_0x5dd398;this['id']=_0x44f9ef,this['remoteConnections']=_0x35f311,this[_0x54bdaa(0x52b)]=_0x2ebead;}[_0x5dd398(0x362)](){const _0x251e71=_0x5dd398;this[_0x251e71(0x52b)]=void 0x0,this['remoteConnections'][_0x251e71(0x1f6)]();}[_0x5dd398(0x330)](){return this['id'];}[_0x5dd398(0x6c7)](){const _0x45c161=_0x5dd398;return this[_0x45c161(0x52b)];}[_0x5dd398(0x213)](){const _0x4cfe47=_0x5dd398;return this[_0x4cfe47(0x264)];}}class _0x2d83da extends _0x3ebd70{['id'];[_0x5dd398(0x7c5)];[_0x5dd398(0x676)];[_0x5dd398(0x264)];[_0x5dd398(0x52b)];[_0x5dd398(0x72a)]=_0x47065f['NodeType'][_0x5dd398(0x749)];constructor(_0x18c5c2,_0x4538a6,_0x3d791e,_0x393300=new Set(),_0x1028fb){const _0x5c3284=_0x5dd398;super(_0x18c5c2,_0x393300,_0x1028fb),this['id']=_0x18c5c2,this[_0x5c3284(0x7c5)]=_0x4538a6,this[_0x5c3284(0x676)]=_0x3d791e,this[_0x5c3284(0x264)]=_0x393300,this['rank']=_0x1028fb;}[_0x5dd398(0x23d)](){const _0x3ff781=_0x5dd398;return this[_0x3ff781(0x7c5)];}[_0x5dd398(0x6a5)](){return this['email'];}}class _0x39728e{['vendorId'];[_0x5dd398(0x1ff)];['clusterKey'];constructor(_0x550719,_0x26d3d9){const _0x34a76e=_0x5dd398;this[_0x34a76e(0x6eb)]=_0x550719,this[_0x34a76e(0x1ff)]=_0x26d3d9,this[_0x34a76e(0x821)]=_0x34a76e(0x528)+this['vendorId']+_0x34a76e(0x528)+this[_0x34a76e(0x1ff)];}async[_0x5dd398(0x2fc)](_0x547120,_0x3b6ed7){const _0x481c2a=_0x5dd398,_0x1f603d=(0x0,_0x3091c2[_0x481c2a(0x4ec)])(_0x40377c[_0x481c2a(0x36d)](),_0x481c2a(0x84b)+this['clusterKey']+_0x481c2a(0x815)+_0x3b6ed7+_0x481c2a(0x42a)+_0x547120['id']),_0x70624e=(0x0,_0x3091c2[_0x481c2a(0x488)])(_0x1f603d);_0x70624e[_0x481c2a(0x253)](),_0x547120[_0x481c2a(0x458)]||delete _0x547120[_0x481c2a(0x458)];try{await(0x0,_0x3091c2[_0x481c2a(0x549)])(_0x1f603d,_0x547120);}catch(_0xf585f9){throw await _0x70624e[_0x481c2a(0x24d)](),new _0x189e7c(_0x189e7c[_0x481c2a(0x32a)][_0x481c2a(0x3db)]);}if(!0x1===(await(0x0,_0x3091c2[_0x481c2a(0x558)])((0x0,_0x3091c2[_0x481c2a(0x4ec)])(_0x40377c['getDatabase'](),_0x481c2a(0x84b)+this['clusterKey']+_0x481c2a(0x815)+_0x3b6ed7+_0x481c2a(0x84c)),_0x4f0065=>_0x4f0065?_0x4f0065===_0x547120['parentId']?_0x547120['id']:void 0x0:_0x547120[_0x481c2a(0x458)]?_0x547120['parentId']:_0x547120['id']))['committed'])throw await(0x0,_0x3091c2[_0x481c2a(0x253)])(_0x1f603d),await _0x70624e[_0x481c2a(0x24d)](),new _0x189e7c(_0x189e7c['codes'][_0x481c2a(0x657)]);await _0x70624e[_0x481c2a(0x24d)]();}async[_0x5dd398(0x810)](_0x6254d7,_0x35ff0e){const _0x41642c=_0x5dd398;let _0x50dc89=[];const _0xc605c3=(0x0,_0x3091c2[_0x41642c(0x4ec)])(_0x40377c[_0x41642c(0x36d)](),_0x41642c(0x84b)+this['clusterKey']+_0x41642c(0x815)+_0x6254d7+_0x41642c(0x7e2));let _0x416981=await(0x0,_0x3091c2[_0x41642c(0x7ef)])((0x0,_0x3091c2['query'])(_0xc605c3,(0x0,_0x3091c2[_0x41642c(0x61c)])(0x65),(0x0,_0x3091c2['orderByKey'])()));if(!_0x416981[_0x41642c(0x327)]()){if(void 0x0!==_0x35ff0e)throw new _0x189e7c(_0x189e7c[_0x41642c(0x32a)][_0x41642c(0x779)]);return _0x50dc89;}const _0x21bd1d=_0x416981[_0x41642c(0x7ff)]();for(;Object['keys'](_0x416981['val']())[_0x41642c(0x5f4)]>0x64;){const _0x4f3bb8=Object['keys'](_0x416981[_0x41642c(0x7ff)]()),_0x4d7cf1=_0x4f3bb8[_0x4f3bb8[_0x41642c(0x5f4)]-0x1];_0x416981=await(0x0,_0x3091c2[_0x41642c(0x7ef)])((0x0,_0x3091c2[_0x41642c(0x281)])(_0xc605c3,(0x0,_0x3091c2[_0x41642c(0x61c)])(0x65),(0x0,_0x3091c2[_0x41642c(0x546)])(_0x4d7cf1),(0x0,_0x3091c2['orderByKey'])())),Object['assign'](_0x21bd1d,_0x416981[_0x41642c(0x7ff)]());}if(_0x50dc89=Object[_0x41642c(0x4e3)](_0x21bd1d)[_0x41642c(0x60e)](_0xfe66e8=>_0x41642c(0x542)!=typeof _0xfe66e8),0x0===_0x50dc89[_0x41642c(0x5f4)]&&void 0x0!==_0x35ff0e)throw new _0x189e7c(_0x189e7c['codes'][_0x41642c(0x779)]);if(_0x50dc89['length']>0x0&&void 0x0!==_0x35ff0e&&!_0x50dc89[_0x41642c(0x33c)](_0x26d30f=>_0x26d30f['id']===_0x35ff0e))throw new _0x189e7c(_0x189e7c[_0x41642c(0x32a)][_0x41642c(0x779)]);const _0x345f4d=[];let _0xc11fa4=_0x50dc89[_0x41642c(0x33c)](_0x50f4b7=>_0x50f4b7[_0x41642c(0x458)]===_0x35ff0e);for(;_0xc11fa4;)_0x345f4d[_0x41642c(0x28d)](_0xc11fa4),_0xc11fa4=_0x50dc89[_0x41642c(0x33c)](_0x2bbfef=>_0x2bbfef[_0x41642c(0x458)]===_0xc11fa4['id']);return _0x345f4d;}}class _0x415d2d{[_0x5dd398(0x3f6)];['maxFps'];['audioContext'];[_0x5dd398(0x7b1)]=new Map();[_0x5dd398(0x429)]=new Map();['pubSubTopics']=new Map();['objectStores']=new Map();[_0x5dd398(0x27b)]=new Map();['jobDispatchers']=new Map();[_0x5dd398(0x3cd)]=new Map();[_0x5dd398(0x7d2)];constructor(_0x114af7,_0x433855,_0x4611ee){const _0x5955f3=_0x5dd398;this[_0x5955f3(0x3f6)]=_0x114af7,this[_0x5955f3(0x4d2)]=_0x433855,this[_0x5955f3(0x503)]=_0x4611ee,this['transactionService']=new _0x39728e(this[_0x5955f3(0x3f6)][_0x5955f3(0x6eb)],this[_0x5955f3(0x3f6)]['clusterId']);}[_0x5dd398(0x362)](_0x41cd3b=!0x1){const _0x537555=_0x5dd398;this['remoteMediaStreams'][_0x537555(0x710)]((_0x4c2720,_0x16056e)=>{_0x4c2720['forEach']((_0x23eb94,_0xea1559)=>{const _0x2086cc=a0_0x553c;this[_0x2086cc(0x25b)](_0x16056e,_0xea1559);});}),_0x41cd3b||(this[_0x537555(0x7b1)][_0x537555(0x710)]((_0x2004ea,_0x254d13)=>{const _0x2d332e=_0x537555;this[_0x2d332e(0x56c)](_0x254d13);}),this[_0x537555(0x2a1)][_0x537555(0x710)]((_0x54f550,_0x241123)=>{const _0x57e9d8=_0x537555;this[_0x57e9d8(0x1bf)](_0x241123);}),this['objectStores'][_0x537555(0x710)]((_0x1e5faa,_0x319567)=>{this['removeObjectStore'](_0x319567);}),this['keyValueDatabases'][_0x537555(0x710)]((_0x7b858b,_0x2d19ae)=>{const _0x4d677c=_0x537555;this[_0x4d677c(0x1f2)](_0x2d19ae);}),this[_0x537555(0x201)]['forEach']((_0x592216,_0x35a00e)=>{const _0x10a421=_0x537555;this[_0x10a421(0x2ae)](_0x35a00e);}),this[_0x537555(0x3cd)][_0x537555(0x710)]((_0x4e2512,_0x37c296)=>{const _0x202411=_0x537555;this[_0x202411(0x486)](_0x37c296);}));}[_0x5dd398(0x5e4)](_0x6c23cd,_0x26a960){const _0x58310f=_0x5dd398;if(this[_0x58310f(0x512)][_0x58310f(0x2d4)](_0x6c23cd))throw new _0x4ddc2b(_0xf6fbbf[_0x58310f(0x383)],_0x58310f(0x4f9));const _0x5053a1=new _0x5b7a12(this['configs'][_0x58310f(0x5fb)],_0x6c23cd,this[_0x58310f(0x3f6)][_0x58310f(0x1ff)],this[_0x58310f(0x3f6)]['vendorId'],this['transactionService'],_0x26a960,()=>this['configs'][_0x58310f(0x5a9)][_0x58310f(0x30d)]());return this[_0x58310f(0x512)][_0x58310f(0x549)](_0x6c23cd,_0x5053a1),this[_0x58310f(0x3f6)][_0x58310f(0x5a9)][_0x58310f(0x7ba)](_0x5053a1),_0x5053a1;}async[_0x5dd398(0x76b)](_0x4cf746,_0x797166,_0x1b9d7b){const _0x36991b=_0x5dd398;if(this[_0x36991b(0x27b)][_0x36991b(0x2d4)](_0x4cf746))throw new _0x4ddc2b(_0xf6fbbf[_0x36991b(0x569)],_0x36991b(0x77f));try{const _0x374d67=new _0x51ae48(this[_0x36991b(0x3f6)][_0x36991b(0x5fb)],_0x4cf746,this['configs']['clusterId'],this[_0x36991b(0x3f6)][_0x36991b(0x6eb)],_0x797166,_0x1b9d7b);return this[_0x36991b(0x27b)]['set'](_0x4cf746,_0x374d67),this[_0x36991b(0x3f6)][_0x36991b(0x5a9)][_0x36991b(0x7ba)](_0x374d67),_0x374d67;}catch(_0x28d254){if(_0x28d254 instanceof _0x4ddc2b)throw _0x28d254;throw console['warn'](_0x36991b(0x838),_0x28d254),new _0x189e7c(_0x189e7c[_0x36991b(0x32a)][_0x36991b(0x713)],{'label':_0x4cf746,'clusterId':this['configs'][_0x36991b(0x1ff)],'vendorId':this[_0x36991b(0x3f6)][_0x36991b(0x6eb)]});}}async['createJobDispatcher'](_0x18eb76,_0xecc40a){const _0xe349ca=_0x5dd398;if(this['jobDispatchers']['has'](_0x18eb76))throw new _0x4ddc2b(_0xf6fbbf[_0xe349ca(0x339)],'Job\x20Dispatcher\x20already\x20exists');try{const _0x1e0355=new _0x3e1ba9(this['configs'][_0xe349ca(0x5fb)],_0x18eb76,_0xecc40a);return this[_0xe349ca(0x201)][_0xe349ca(0x549)](_0x18eb76,_0x1e0355),this['configs']['mediator'][_0xe349ca(0x7ba)](_0x1e0355),_0x1e0355;}catch(_0x57b02f){if(_0x57b02f instanceof _0x4ddc2b)throw _0x57b02f;throw console[_0xe349ca(0x301)](_0xe349ca(0x81d),_0x57b02f),new _0x189e7c(_0x189e7c[_0xe349ca(0x32a)][_0xe349ca(0x804)],{'label':_0x18eb76,'clusterId':this[_0xe349ca(0x3f6)][_0xe349ca(0x1ff)],'vendorId':this[_0xe349ca(0x3f6)]['vendorId']});}}async[_0x5dd398(0x7fe)](_0x8c96c9,_0x3d339f,_0x219cb4){const _0x2c0ee2=_0x5dd398;if(this[_0x2c0ee2(0x3cd)][_0x2c0ee2(0x2d4)](_0x8c96c9))throw new _0x4ddc2b(_0xf6fbbf['JobWorkerAlreadyExists'],'Job\x20Worker\x20already\x20exists');try{const _0x2e5365=new _0x5c4cad(this[_0x2c0ee2(0x3f6)][_0x2c0ee2(0x5fb)],_0x8c96c9,_0x3d339f,_0x219cb4);return this[_0x2c0ee2(0x3cd)][_0x2c0ee2(0x549)](_0x8c96c9,_0x2e5365),this[_0x2c0ee2(0x3f6)][_0x2c0ee2(0x5a9)][_0x2c0ee2(0x7ba)](_0x2e5365),_0x2e5365;}catch(_0x2de9f0){if(_0x2de9f0 instanceof _0x4ddc2b)throw _0x2de9f0;throw console[_0x2c0ee2(0x301)]('Failed\x20to\x20create\x20job\x20service',_0x2de9f0),new _0x189e7c(_0x189e7c[_0x2c0ee2(0x32a)][_0x2c0ee2(0x535)],{'label':_0x8c96c9,'clusterId':this['configs'][_0x2c0ee2(0x1ff)],'vendorId':this[_0x2c0ee2(0x3f6)][_0x2c0ee2(0x6eb)]});}}async['createGenerativeAIContext'](_0x21502b,_0x2f0520,_0x4c9609){const _0xfe42a7=_0x5dd398;if(this[_0xfe42a7(0x201)][_0xfe42a7(0x2d4)](_0x21502b))throw new _0x4ddc2b(_0xf6fbbf['GenerativeAIContextAlreadyExists'],'AI\x20Service\x20already\x20exists');if(this[_0xfe42a7(0x3cd)]['has'](_0x21502b))throw new _0x4ddc2b(_0xf6fbbf['GenerativeAILabelConflict'],_0xfe42a7(0x5d7));try{const _0xd7ef42=new _0x125c97(this[_0xfe42a7(0x3f6)][_0xfe42a7(0x5fb)],_0x21502b,_0x2f0520,_0x4c9609);return this[_0xfe42a7(0x201)][_0xfe42a7(0x549)](_0x21502b,_0xd7ef42),this[_0xfe42a7(0x3f6)][_0xfe42a7(0x5a9)][_0xfe42a7(0x7ba)](_0xd7ef42),_0xd7ef42;}catch(_0x178b80){if(_0x178b80 instanceof _0x4ddc2b)throw _0x178b80;throw console[_0xfe42a7(0x301)](_0xfe42a7(0x7bb),_0x178b80),new _0x189e7c(_0x189e7c['codes'][_0xfe42a7(0x221)],{'label':_0x21502b,'clusterId':this[_0xfe42a7(0x3f6)][_0xfe42a7(0x1ff)],'vendorId':this['configs'][_0xfe42a7(0x6eb)]});}}async['createGenerativeAIWorker'](_0x397847,_0x4b4d82,_0x5c8b03,_0x4f02a9){const _0x1cfcfb=_0x5dd398;if(this[_0x1cfcfb(0x3cd)]['has'](_0x397847))throw new _0x4ddc2b(_0xf6fbbf[_0x1cfcfb(0x5bb)],_0x1cfcfb(0x219));if(this[_0x1cfcfb(0x201)]['has'](_0x397847))throw new _0x4ddc2b(_0xf6fbbf[_0x1cfcfb(0x49b)],'Label\x20already\x20in\x20use\x20by\x20AI\x20Service');try{const _0x3ba3d5=new _0x716ab7(this[_0x1cfcfb(0x3f6)][_0x1cfcfb(0x5fb)],_0x397847,_0x4b4d82,_0x5c8b03,_0x4f02a9);return this[_0x1cfcfb(0x3cd)][_0x1cfcfb(0x549)](_0x397847,_0x3ba3d5),this['configs'][_0x1cfcfb(0x5a9)][_0x1cfcfb(0x7ba)](_0x3ba3d5),_0x3ba3d5;}catch(_0x1311c){if(_0x1311c instanceof _0x4ddc2b)throw _0x1311c;throw console[_0x1cfcfb(0x301)](_0x1cfcfb(0x622),_0x1311c),new _0x189e7c(_0x189e7c[_0x1cfcfb(0x32a)]['GenerativeAIWorkerCreationFailed'],{'label':_0x397847,'clusterId':this[_0x1cfcfb(0x3f6)][_0x1cfcfb(0x1ff)],'vendorId':this['configs'][_0x1cfcfb(0x6eb)]});}}[_0x5dd398(0x1bb)](_0x595098,_0xff6349){const _0x1f9c64=_0x5dd398;if(this[_0x1f9c64(0x7b1)][_0x1f9c64(0x2d4)](_0x595098))throw new _0x4ddc2b(_0xf6fbbf[_0x1f9c64(0x290)],_0x1f9c64(0x3d1));if(!this[_0x1f9c64(0x503)])throw new _0x4ddc2b(_0xf6fbbf[_0x1f9c64(0x5bf)],'AudioContext\x20is\x20not\x20available');const _0x47548f=new _0x12bd27(this[_0x1f9c64(0x3f6)][_0x1f9c64(0x5fb)],_0x595098,_0xff6349,this[_0x1f9c64(0x4d2)],this['audioContext'],this['configs'][_0x1f9c64(0x1ff)]);return this[_0x1f9c64(0x7b1)][_0x1f9c64(0x549)](_0x595098,_0x47548f),this[_0x1f9c64(0x3f6)]['mediator'][_0x1f9c64(0x7ba)](_0x47548f),_0x47548f[_0x1f9c64(0x7b0)](),_0x47548f;}[_0x5dd398(0x820)](_0x33d924,_0x1e10da){const _0x513bd5=_0x5dd398;if(this[_0x513bd5(0x7b1)][_0x513bd5(0x2d4)](_0x33d924))throw new _0x4ddc2b(_0xf6fbbf[_0x513bd5(0x290)],'Stream\x20already\x20exists');const _0xc5d5ad=new _0x2e55b4(this['configs'][_0x513bd5(0x5fb)],_0x33d924,_0x1e10da,this[_0x513bd5(0x3f6)][_0x513bd5(0x1ff)]);return this[_0x513bd5(0x7b1)][_0x513bd5(0x549)](_0x33d924,_0xc5d5ad),this[_0x513bd5(0x3f6)]['mediator'][_0x513bd5(0x7ba)](_0xc5d5ad),_0xc5d5ad[_0x513bd5(0x7b0)](),_0xc5d5ad;}[_0x5dd398(0x420)](_0x36c065){const _0x211bec=_0x5dd398;if(this[_0x211bec(0x2a1)][_0x211bec(0x2d4)](_0x36c065))throw new _0x4ddc2b(_0xf6fbbf['PubSubTopicAlreadyExists'],_0x211bec(0x73f));const _0x2ce12b=new _0x4206ef(this[_0x211bec(0x3f6)][_0x211bec(0x5fb)],_0x36c065,this[_0x211bec(0x3f6)][_0x211bec(0x1ff)]);return this[_0x211bec(0x2a1)][_0x211bec(0x549)](_0x36c065,_0x2ce12b),this[_0x211bec(0x3f6)][_0x211bec(0x5a9)][_0x211bec(0x7ba)](_0x2ce12b),_0x2ce12b;}[_0x5dd398(0x6ac)](_0x35f12e,_0x2ae87d,_0x49e312,_0x4fc7e9){const _0x21c326=_0x5dd398;this[_0x21c326(0x429)][_0x21c326(0x2d4)](_0x35f12e)||this[_0x21c326(0x429)]['set'](_0x35f12e,new Map());const _0x1b9ab9=this[_0x21c326(0x429)][_0x21c326(0x7ef)](_0x35f12e);if(_0x1b9ab9[_0x21c326(0x2d4)](_0x2ae87d))throw new _0x4ddc2b(_0xf6fbbf[_0x21c326(0x272)],_0x21c326(0x4ab));const _0x2c219e=new _0x2d83da(_0x35f12e,'',''),_0x5cd4ff=new _0x80cb72(this['configs'][_0x21c326(0x5fb)],_0x2c219e,_0x2ae87d,_0x49e312,_0x4fc7e9,this[_0x21c326(0x3f6)][_0x21c326(0x1ff)]);return _0x1b9ab9['set'](_0x2ae87d,_0x5cd4ff),this[_0x21c326(0x3f6)]['mediator'][_0x21c326(0x7ba)](_0x5cd4ff),_0x5cd4ff;}[_0x5dd398(0x601)](_0x34f1f6){const _0x35698b=_0x5dd398,_0x2cf617=Array[_0x35698b(0x5e2)](this[_0x35698b(0x512)][_0x35698b(0x4e3)]());return _0x34f1f6?_0x2cf617['filter'](_0x34f1f6):_0x2cf617;}[_0x5dd398(0x321)](_0x83f097){const _0x5a48eb=_0x5dd398,_0xc9206a=Array[_0x5a48eb(0x5e2)](this[_0x5a48eb(0x27b)][_0x5a48eb(0x4e3)]());return _0x83f097?_0xc9206a[_0x5a48eb(0x60e)](_0x83f097):_0xc9206a;}[_0x5dd398(0x3f1)](_0x27850d){const _0x5d51e1=_0x5dd398,_0x2b6918=Array[_0x5d51e1(0x5e2)](this[_0x5d51e1(0x201)][_0x5d51e1(0x4e3)]());return _0x27850d?_0x2b6918[_0x5d51e1(0x60e)](_0x27850d):_0x2b6918;}[_0x5dd398(0x3d5)](_0x202c11){const _0x1f81dc=_0x5dd398,_0x4ed132=Array[_0x1f81dc(0x5e2)](this[_0x1f81dc(0x3cd)][_0x1f81dc(0x4e3)]());return _0x202c11?_0x4ed132[_0x1f81dc(0x60e)](_0x202c11):_0x4ed132;}[_0x5dd398(0x631)](_0x5754e4){const _0x134ae5=_0x5dd398,_0x19e240=Array[_0x134ae5(0x5e2)](this[_0x134ae5(0x201)][_0x134ae5(0x4e3)]())['filter'](_0x542321=>_0x542321 instanceof _0x125c97);return _0x5754e4?_0x19e240[_0x134ae5(0x60e)](_0x5754e4):_0x19e240;}['getGenerativeAIWorkers'](_0x483446){const _0x4a383c=_0x5dd398,_0x90d705=Array[_0x4a383c(0x5e2)](this[_0x4a383c(0x3cd)][_0x4a383c(0x4e3)]())[_0x4a383c(0x60e)](_0x24a2d1=>_0x24a2d1 instanceof _0x716ab7);return _0x483446?_0x90d705[_0x4a383c(0x60e)](_0x483446):_0x90d705;}[_0x5dd398(0x28c)](_0x118dde){const _0x5433f9=_0x5dd398,_0x4b937f=Array[_0x5433f9(0x5e2)](this[_0x5433f9(0x7b1)][_0x5433f9(0x4e3)]());return _0x118dde?_0x4b937f['filter'](_0x118dde):_0x4b937f;}[_0x5dd398(0x841)](_0x590fd0){const _0xffab6b=_0x5dd398,_0x2fa18a=Array[_0xffab6b(0x5e2)](this[_0xffab6b(0x2a1)][_0xffab6b(0x4e3)]());return _0x590fd0?_0x2fa18a[_0xffab6b(0x60e)](_0x590fd0):_0x2fa18a;}[_0x5dd398(0x5f8)](_0x49ad8a){const _0x5ec04d=_0x5dd398,_0x37904f=Array['from'](this[_0x5ec04d(0x429)][_0x5ec04d(0x4e3)]())[_0x5ec04d(0x1c3)]((_0x33d377,_0x4bc2d5)=>[..._0x33d377,...Array[_0x5ec04d(0x5e2)](_0x4bc2d5['values']())],[]);return _0x49ad8a?_0x37904f[_0x5ec04d(0x60e)](_0x49ad8a):_0x37904f;}['handleContentSystemEvents'](_0x119f7a){const _0x10aa8a=_0x5dd398;switch(_0x119f7a[_0x10aa8a(0x69a)][_0x10aa8a(0x72a)]){case _0x47bc97[_0x10aa8a(0x6ab)]:this['handlePublishMediaStream'](_0x119f7a[_0x10aa8a(0x69a)]);break;case _0x47bc97['UnpublishMediaStream']:this[_0x10aa8a(0x1da)](_0x119f7a[_0x10aa8a(0x69a)]);break;case _0x47bc97['CloseJobDispatcher']:this[_0x10aa8a(0x5c9)](_0x119f7a[_0x10aa8a(0x69a)]);break;case _0x47bc97[_0x10aa8a(0x359)]:this['handleCloseJobWorker'](_0x119f7a[_0x10aa8a(0x69a)]);break;case _0x47bc97[_0x10aa8a(0x7a4)]:this[_0x10aa8a(0x341)](_0x119f7a[_0x10aa8a(0x69a)]);break;case _0x47bc97['ClosePubSubTopic']:this[_0x10aa8a(0x5c2)](_0x119f7a[_0x10aa8a(0x69a)]);break;case _0x47bc97[_0x10aa8a(0x284)]:this[_0x10aa8a(0x24a)](_0x119f7a[_0x10aa8a(0x69a)]);break;case _0x47bc97[_0x10aa8a(0x3be)]:this['handleCloseKeyValueDatabase'](_0x119f7a[_0x10aa8a(0x69a)]);break;case _0x47bc97[_0x10aa8a(0x551)]:this['handleContentUnsubscribeMediaStream'](_0x119f7a['content']);break;case _0x47bc97[_0x10aa8a(0x30a)]:this['keyValueDatabases'][_0x10aa8a(0x7ef)](_0x119f7a['content']['label'])?.['sendTransactionsDump'](_0x119f7a[_0x10aa8a(0x562)]);break;case _0x47bc97[_0x10aa8a(0x2c1)]:this[_0x10aa8a(0x27b)]['get'](_0x119f7a[_0x10aa8a(0x69a)][_0x10aa8a(0x667)])?.[_0x10aa8a(0x507)](_0x119f7a['sourceId'],_0x119f7a[_0x10aa8a(0x69a)][_0x10aa8a(0x813)]);break;case _0x47bc97[_0x10aa8a(0x621)]:this['keyValueDatabases']['get'](_0x119f7a[_0x10aa8a(0x69a)]['label'])?.[_0x10aa8a(0x701)](_0x119f7a[_0x10aa8a(0x562)],_0x119f7a['content'][_0x10aa8a(0x487)]);break;case _0x47bc97[_0x10aa8a(0x788)]:this['configs'][_0x10aa8a(0x5a9)][_0x10aa8a(0x770)]('local-media-stream-track-fail',{'label':_0x119f7a[_0x10aa8a(0x69a)][_0x10aa8a(0x667)],'trackKinds':_0x119f7a['content'][_0x10aa8a(0x641)]});}}['handleNodeSystemEvents']({content:_0x4b889f}){const _0x571e22=_0x5dd398;switch(_0x4b889f[_0x571e22(0x72a)]){case _0x3a7a00[_0x571e22(0x65c)]:this[_0x571e22(0x440)](_0x4b889f),this['notifyObjectStoreOfNodeJoin'](_0x4b889f);break;case _0x3a7a00[_0x571e22(0x5b1)]:this[_0x571e22(0x687)](_0x4b889f),this[_0x571e22(0x7e8)](_0x4b889f);}}['handleSubscriptionSystemEvents'](_0x3029b6){const _0x210055=_0x5dd398;switch(_0x3029b6[_0x210055(0x69a)][_0x210055(0x72a)]){case _0x3de62f[_0x210055(0x4a1)]:this[_0x210055(0x574)](_0x3029b6[_0x210055(0x562)],_0x3029b6[_0x210055(0x69a)]);break;case _0x3de62f[_0x210055(0x4cc)]:this[_0x210055(0x7fc)](_0x3029b6[_0x210055(0x562)],_0x3029b6[_0x210055(0x69a)]);break;case _0x3de62f[_0x210055(0x551)]:this['handleUnsubscribeMediaStream'](_0x3029b6[_0x210055(0x562)],_0x3029b6[_0x210055(0x69a)]);}}[_0x5dd398(0x49c)](_0xb87fca){const _0x4e309a=_0x5dd398;if(0x0===_0xb87fca[_0x4e309a(0x2ec)])this['remoteMediaStreams'][_0x4e309a(0x7ef)](_0xb87fca[_0x4e309a(0x46a)])?.[_0x4e309a(0x7ef)](_0xb87fca[_0x4e309a(0x667)])?.[_0x4e309a(0x255)]();else{const _0x4cf173=this[_0x4e309a(0x429)][_0x4e309a(0x7ef)](_0xb87fca[_0x4e309a(0x46a)])?.[_0x4e309a(0x7ef)](_0xb87fca['label']);if(!_0x4cf173)return;_0xb87fca['trackKinds']['forEach'](_0x40f0d5=>_0x4cf173['unsubscribeTrackEndedListener'](_0x40f0d5));}}[_0x5dd398(0x5d5)](_0xf2ea8e){const _0x13f3cd=_0x5dd398,{label:_0x2c65cf,ownerId:_0x53c2cb,stream:{streamId:_0x9e7c80,availableTrackKinds:_0x4c1095}}=_0xf2ea8e;if(this[_0x13f3cd(0x429)]['get'](_0x53c2cb)?.[_0x13f3cd(0x2d4)](_0x2c65cf))return void _0x52f76b[_0x13f3cd(0x20d)](_0x4f3b4c[_0x13f3cd(0x5d2)],_0x13f3cd(0x489),_0x9e7c80);const _0x1ce786=this['createRemoteMediaStream'](_0x53c2cb,_0x2c65cf,_0x9e7c80,_0x4c1095);this[_0x13f3cd(0x3f6)]['mediator']['notifyCluster'](_0x13f3cd(0x35c),{'ownerId':_0x53c2cb,'stream':_0x1ce786});}[_0x5dd398(0x1da)]({ownerId:_0x2de415,label:_0x48c7ee}){const _0x1dd432=_0x5dd398;this[_0x1dd432(0x25b)](_0x2de415,_0x48c7ee),this[_0x1dd432(0x3f6)][_0x1dd432(0x5a9)][_0x1dd432(0x770)](_0x1dd432(0x2bf),{'ownerId':_0x2de415,'label':_0x48c7ee});}[_0x5dd398(0x341)](_0x5b54d6){const _0x2ea2f4=_0x5dd398;this[_0x2ea2f4(0x56c)](_0x5b54d6['label']);}['handleCloseJobDispatcher'](_0x43228a){const _0x29d9be=_0x5dd398;this[_0x29d9be(0x2ae)](_0x43228a['label']);}[_0x5dd398(0x27f)](_0x568105){this['removeJobWorker'](_0x568105['label']);}[_0x5dd398(0x24a)](_0xce63c6){const _0x534ef6=_0x5dd398;this[_0x534ef6(0x722)](_0xce63c6[_0x534ef6(0x667)]);}[_0x5dd398(0x5c2)](_0x29bedb){const _0x5786f7=_0x5dd398;this[_0x5786f7(0x1bf)](_0x29bedb[_0x5786f7(0x667)]);}[_0x5dd398(0x6d9)](_0x22b940){const _0x2407b7=_0x5dd398;this[_0x2407b7(0x1f2)](_0x22b940['label']);}[_0x5dd398(0x574)](_0x2ad711,_0x40d9df){const _0x4c1cd5=_0x5dd398,{ownerId:_0x12b6a2,label:_0x138c5b}=_0x40d9df;let _0x11cce2;_0x11cce2=_0x12b6a2!==this[_0x4c1cd5(0x3f6)][_0x4c1cd5(0x5fb)][_0x4c1cd5(0x330)]()?this['remoteMediaStreams'][_0x4c1cd5(0x7ef)](_0x12b6a2)['get'](_0x138c5b):this[_0x4c1cd5(0x7b1)][_0x4c1cd5(0x7ef)](_0x138c5b),_0x11cce2[_0x4c1cd5(0x7e0)](_0x2ad711,_0x40d9df[_0x4c1cd5(0x618)])[_0x4c1cd5(0x431)](_0x40d9df,_0x11cce2[_0x4c1cd5(0x66d)]());}[_0x5dd398(0x7fc)](_0x27d7bf,_0x1b07be){const _0x2e91e2=_0x5dd398,{ownerId:_0x235e59,label:_0x29659e}=_0x1b07be;let _0xa83cb9;_0xa83cb9=_0x235e59!==this[_0x2e91e2(0x3f6)]['localNode'][_0x2e91e2(0x330)]()?this[_0x2e91e2(0x429)]['get'](_0x235e59)[_0x2e91e2(0x7ef)](_0x29659e):this['localMediaStreams'][_0x2e91e2(0x7ef)](_0x29659e),_0xa83cb9[_0x2e91e2(0x7e0)](_0x27d7bf,_0x1b07be[_0x2e91e2(0x618)])[_0x2e91e2(0x7f9)](_0x1b07be);}['handleUnsubscribeMediaStream'](_0x24e816,_0x27e92d){const _0x4b17c6=_0x5dd398,{ownerId:_0x3e2700,label:_0x8ecb6c}=_0x27e92d;let _0x22f923;_0x22f923=_0x3e2700!==this['configs']['localNode'][_0x4b17c6(0x330)]()?this[_0x4b17c6(0x429)][_0x4b17c6(0x7ef)](_0x3e2700)[_0x4b17c6(0x7ef)](_0x8ecb6c):this[_0x4b17c6(0x7b1)][_0x4b17c6(0x7ef)](_0x8ecb6c),_0x22f923[_0x4b17c6(0x7e0)](_0x24e816)[_0x4b17c6(0x7de)](_0x27e92d);}['handleNodeJoinNeedPublishedStream']({id:_0x245106}){const _0x834af4=_0x5dd398;this[_0x834af4(0x28c)]()[_0x834af4(0x710)](_0x317da1=>{const _0x56efc7=_0x834af4;_0x317da1[_0x56efc7(0x7b0)](_0x245106);});}['handleNodeLeave']({id:_0x411ff0}){const _0x57a2f2=_0x5dd398;this[_0x57a2f2(0x5f8)](_0xadc216=>_0xadc216[_0x57a2f2(0x245)]()===_0x411ff0)['forEach'](_0xb2143a=>{const _0x16ac21=_0x57a2f2;this[_0x16ac21(0x25b)](_0xb2143a[_0x16ac21(0x245)](),_0xb2143a['getLabel']());});}[_0x5dd398(0x62f)]({id:_0x5274b6}){this['objectStores']['forEach'](_0x1830f9=>_0x1830f9['handleNodeJoin'](_0x5274b6));}['notifyObjectStoreOfNodeLeave']({id:_0x2a8ff0}){const _0x56dfdd=_0x5dd398;this[_0x56dfdd(0x512)][_0x56dfdd(0x710)](_0x47565c=>_0x47565c[_0x56dfdd(0x687)](_0x2a8ff0));}[_0x5dd398(0x2ae)](_0x9ad6f7){const _0x1a8a24=_0x5dd398;if(!this[_0x1a8a24(0x201)][_0x1a8a24(0x2d4)](_0x9ad6f7))throw new _0x4ddc2b(_0xf6fbbf[_0x1a8a24(0x71c)],_0x1a8a24(0x434));const _0x34343b=this[_0x1a8a24(0x201)][_0x1a8a24(0x7ef)](_0x9ad6f7);this[_0x1a8a24(0x201)][_0x1a8a24(0x2d8)](_0x9ad6f7),_0x34343b['destroy'](),this[_0x1a8a24(0x3f6)][_0x1a8a24(0x5a9)][_0x1a8a24(0x536)](_0x34343b);}[_0x5dd398(0x486)](_0xbbadc1){const _0x65ee1c=_0x5dd398;if(!this[_0x65ee1c(0x3cd)][_0x65ee1c(0x2d4)](_0xbbadc1))throw new _0x4ddc2b(_0xf6fbbf[_0x65ee1c(0x4b4)],'Job\x20Worker\x20does\x20not\x20exist');const _0x358013=this[_0x65ee1c(0x3cd)][_0x65ee1c(0x7ef)](_0xbbadc1);this[_0x65ee1c(0x3cd)][_0x65ee1c(0x2d8)](_0xbbadc1),_0x358013[_0x65ee1c(0x255)](),this['configs']['mediator'][_0x65ee1c(0x536)](_0x358013);}[_0x5dd398(0x722)](_0x469004){const _0x507e16=_0x5dd398;if(!this[_0x507e16(0x512)][_0x507e16(0x2d4)](_0x469004))throw new _0x4ddc2b(_0xf6fbbf[_0x507e16(0x6a0)],_0x507e16(0x275));const _0x4dba28=this[_0x507e16(0x512)]['get'](_0x469004);this[_0x507e16(0x512)][_0x507e16(0x2d8)](_0x469004),_0x4dba28[_0x507e16(0x255)](),this[_0x507e16(0x3f6)][_0x507e16(0x5a9)][_0x507e16(0x536)](_0x4dba28);}[_0x5dd398(0x1bf)](_0x3b00eb){const _0x2d9558=_0x5dd398;if(!this[_0x2d9558(0x2a1)]['has'](_0x3b00eb))throw new _0x4ddc2b(_0xf6fbbf[_0x2d9558(0x5b2)],_0x2d9558(0x275));const _0x2d76e2=this[_0x2d9558(0x2a1)][_0x2d9558(0x7ef)](_0x3b00eb);this['pubSubTopics'][_0x2d9558(0x2d8)](_0x3b00eb),_0x2d76e2[_0x2d9558(0x255)](),this[_0x2d9558(0x3f6)][_0x2d9558(0x5a9)][_0x2d9558(0x536)](_0x2d76e2);}[_0x5dd398(0x1f2)](_0x3a8e1c){const _0xa0422d=_0x5dd398;if(!this[_0xa0422d(0x27b)][_0xa0422d(0x2d4)](_0x3a8e1c))throw new _0x4ddc2b(_0xf6fbbf[_0xa0422d(0x1d1)],'Database\x20does\x20not\x20exist');const _0x43681e=this[_0xa0422d(0x27b)][_0xa0422d(0x7ef)](_0x3a8e1c);this[_0xa0422d(0x27b)][_0xa0422d(0x2d8)](_0x3a8e1c),_0x43681e['destroy'](),this[_0xa0422d(0x3f6)]['mediator']['unregisterSystemSource'](_0x43681e);}[_0x5dd398(0x56c)](_0x2f9b4f){const _0x28f43e=_0x5dd398;if(!this[_0x28f43e(0x7b1)][_0x28f43e(0x2d4)](_0x2f9b4f))throw new _0x189e7c(_0x189e7c[_0x28f43e(0x32a)]['LocalMediaStreamDoesNotExist'],{'label':_0x2f9b4f,'localId':this[_0x28f43e(0x3f6)]['localNode'][_0x28f43e(0x330)]()});const _0x3d0e06=this[_0x28f43e(0x7b1)]['get'](_0x2f9b4f);this[_0x28f43e(0x3f6)][_0x28f43e(0x5a9)][_0x28f43e(0x536)](_0x3d0e06),_0x3d0e06[_0x28f43e(0x255)](),this[_0x28f43e(0x7b1)][_0x28f43e(0x2d8)](_0x2f9b4f);}['removeRemoteMediaStream'](_0x5d3175,_0x28824f){const _0xaf905f=_0x5dd398;if(!this[_0xaf905f(0x429)]['has'](_0x5d3175))throw new _0x189e7c(_0x189e7c[_0xaf905f(0x32a)][_0xaf905f(0x78c)],{'nodeId':_0x5d3175,'localId':this[_0xaf905f(0x3f6)]['localNode'][_0xaf905f(0x330)]()});const _0x208fb4=this[_0xaf905f(0x429)][_0xaf905f(0x7ef)](_0x5d3175);if(!_0x208fb4['has'](_0x28824f))throw new _0x189e7c(_0x189e7c[_0xaf905f(0x32a)]['RemoteMediaStreamDoesNotExist'],{'nodeId':_0x5d3175,'label':_0x28824f,'localId':this['configs'][_0xaf905f(0x5fb)][_0xaf905f(0x330)]()});const _0x43c0d1=_0x208fb4[_0xaf905f(0x7ef)](_0x28824f);this[_0xaf905f(0x3f6)][_0xaf905f(0x5a9)][_0xaf905f(0x536)](_0x43c0d1),_0x43c0d1['destroy'](),_0x208fb4[_0xaf905f(0x2d8)](_0x28824f);}}var _0x10d564,_0x3a30f3,_0x2c395b;!function(_0xb1d0f5){const _0x212b74=_0x5dd398;_0xb1d0f5[_0x212b74(0x52e)]=_0x212b74(0x865),_0xb1d0f5[_0x212b74(0x329)]=_0x212b74(0x811),_0xb1d0f5[_0x212b74(0x753)]=_0x212b74(0x5de),_0xb1d0f5[_0x212b74(0x531)]=_0x212b74(0x66f),_0xb1d0f5[_0x212b74(0x4c6)]=_0x212b74(0x26a),_0xb1d0f5[_0x212b74(0x38b)]='fps',_0xb1d0f5[_0x212b74(0x789)]=_0x212b74(0x26c),_0xb1d0f5['AudioVideoDelay']=_0x212b74(0x2e9);}(_0x10d564||(_0x10d564={})),function(_0x20d359){const _0x1db206=_0x5dd398;_0x20d359[_0x1db206(0x67a)]=_0x1db206(0x3fd),_0x20d359['TimePerFrame']=_0x1db206(0x49a),_0x20d359[_0x1db206(0x377)]=_0x1db206(0x53a),_0x20d359[_0x1db206(0x38b)]=_0x1db206(0x686),_0x20d359[_0x1db206(0x531)]='bandwidth.bitrate',_0x20d359[_0x1db206(0x4c6)]=_0x1db206(0x1b4),_0x20d359[_0x1db206(0x789)]=_0x1db206(0x6c2);}(_0x3a30f3||(_0x3a30f3={})),function(_0x464e8a){const _0x373759=_0x5dd398;_0x464e8a[_0x464e8a[_0x373759(0x5e7)]=0x0]='Problem';}(_0x2c395b||(_0x2c395b={}));const _0x201136=[{'type':_0x10d564['STVolatility'],'reportMetric':_0x2091b2=>_0x2091b2['STVolatility'],'maxThreshold':2.5},{'type':_0x10d564[_0x5dd398(0x329)],'reportMetric':_0xcfbe1d=>_0xcfbe1d[_0x5dd398(0x329)],'maxThreshold':0.5}],_0x1ae0ea=[{'type':_0x10d564[_0x5dd398(0x753)],'reportMetric':_0x1b6917=>{const _0xc21d2a=_0x5dd398,_0x1063cc=0x3e8/_0x1b6917[_0xc21d2a(0x493)];return _0x1b6917[_0xc21d2a(0x358)]/_0x1063cc;},'maxThreshold':0.75},{'type':_0x10d564['Bitrate'],'reportMetric':_0x3d8fc8=>{const _0x3e7300=_0x5dd398,_0x461884=_0x3d8fc8[_0x3e7300(0x493)]*_0x3d8fc8[_0x3e7300(0x756)]*_0x3d8fc8[_0x3e7300(0x577)]*0.12;return _0x3d8fc8['bitrate']/_0x461884;},'minThreshold':0.25},{'type':_0x10d564[_0x5dd398(0x4c6)],'reportMetric':_0x4cf277=>_0x4cf277[_0x5dd398(0x26a)],'maxThreshold':0.6},{'type':_0x10d564['FramePerSecond'],'reportMetric':_0x52a6d8=>_0x52a6d8[_0x5dd398(0x493)],'minThreshold':0xa}],_0x18a729=[{'type':_0x10d564[_0x5dd398(0x4c6)],'reportMetric':_0x52a632=>_0x52a632[_0x5dd398(0x26a)],'maxThreshold':0.6}],_0x3b4bd0=[{'type':_0x10d564[_0x5dd398(0x789)],'reportMetric':_0x233d72=>_0x233d72['roundTripTime'],'maxThreshold':0x1/0x0}],_0x41dbfc=[{'type':_0x10d564[_0x5dd398(0x377)],'reportMetric':_0x2faec=>_0x2faec['AudioVideoDelay'],'maxThreshold':0x12c}],_0x5b766d=[{'type':_0x3a30f3[_0x5dd398(0x67a)],'issues':[{'type':_0x10d564['STVolatility'],'threshold':0x5},{'type':_0x10d564[_0x5dd398(0x329)],'threshold':0x5}]},{'type':_0x3a30f3[_0x5dd398(0x753)],'issues':[{'type':_0x10d564['TimePerFrame'],'threshold':0x3}]},{'type':_0x3a30f3['AudioVideoDelay'],'issues':[{'type':_0x10d564[_0x5dd398(0x377)],'threshold':0x2}]},{'type':_0x3a30f3['FramePerSecond'],'issues':[{'type':_0x10d564[_0x5dd398(0x38b)],'threshold':0x3}]},{'type':_0x3a30f3[_0x5dd398(0x531)],'issues':[{'type':_0x10d564[_0x5dd398(0x531)],'threshold':0x3}]},{'type':_0x3a30f3['Jitter'],'issues':[{'type':_0x10d564[_0x5dd398(0x4c6)],'threshold':0x3}]},{'type':_0x3a30f3['RoundTripTime'],'issues':[{'type':_0x10d564[_0x5dd398(0x789)],'threshold':0x3}]}];var _0x5d15e5,_0x9fd987;!function(_0x2a36d9){const _0x2fdcbf=_0x5dd398;_0x2a36d9[_0x2a36d9[_0x2fdcbf(0x836)]=0x0]='StreamReport',_0x2a36d9[_0x2a36d9[_0x2fdcbf(0x55e)]=0x1]=_0x2fdcbf(0x55e);}(_0x5d15e5||(_0x5d15e5={}));class _0xee56db{[_0x5dd398(0x3f6)];[_0x5dd398(0x2b8)]=[];['systemTopic'];constructor(_0x859e12){const _0x277fe6=_0x5dd398;this[_0x277fe6(0x3f6)]=_0x859e12,this[_0x277fe6(0x3f6)][_0x277fe6(0x5a9)][_0x277fe6(0x7ba)](this);}[_0x5dd398(0x442)](_0xf8d90e){const _0x335bc5=_0x5dd398;this[_0x335bc5(0x7fa)]=_0xf8d90e;}[_0x5dd398(0x7d9)](){const _0x3bd5ef=_0x5dd398;this[_0x3bd5ef(0x7fa)]=void 0x0;}[_0x5dd398(0x362)](){const _0x1dfb45=_0x5dd398;this['configs'][_0x1dfb45(0x5a9)]['unregisterSystemSource'](this),this['issues']=[];}[_0x5dd398(0x636)](_0x207915){const _0x2dab82=_0x5dd398;switch(_0x207915['content'][_0x2dab82(0x72a)]){case _0x5d15e5[_0x2dab82(0x55e)]:this[_0x2dab82(0x29a)](_0x207915[_0x2dab82(0x69a)][_0x2dab82(0x46f)]);break;case _0x5d15e5[_0x2dab82(0x836)]:this[_0x2dab82(0x68c)](_0x207915[_0x2dab82(0x69a)][_0x2dab82(0x46f)]);}}[_0x5dd398(0x21a)](_0x1a3060,_0x3adcca,_0x8f7576,_0xcac504){const _0x2d181=_0x5dd398,_0x28a954=_0x5b766d[_0x2d181(0x33c)](_0x53539e=>_0x53539e[_0x2d181(0x2b8)][_0x2d181(0x86b)](_0x47ecf2=>_0x47ecf2['type']===_0x1a3060));_0xcac504>=_0x28a954[_0x2d181(0x2b8)][_0x2d181(0x33c)](_0x48261d=>_0x48261d[_0x2d181(0x72a)]===_0x1a3060)[_0x2d181(0x7bc)]&&(this[_0x2d181(0x263)](_0x28a954['type'],_0x3adcca,_0x8f7576),this[_0x2d181(0x2b8)]=this['issues'][_0x2d181(0x60e)](_0x21c3ef=>!(_0x21c3ef[_0x2d181(0x72a)]===_0x1a3060&&_0x21c3ef[_0x2d181(0x6e5)]===_0x3adcca&&_0x21c3ef[_0x2d181(0x44b)]===_0x8f7576)));}[_0x5dd398(0x29a)](_0x270fb5){const _0x335f26=_0x5dd398;_0x201136[_0x335f26(0x710)](_0x4e4a68=>{const _0x277ed2=_0x335f26,_0x16ad1d=_0x4e4a68['reportMetric'](_0x270fb5);_0x4e4a68[_0x277ed2(0x734)]&&_0x16ad1d>_0x4e4a68[_0x277ed2(0x734)]&&this['addIssue'](_0x4e4a68[_0x277ed2(0x72a)],this[_0x277ed2(0x3f6)][_0x277ed2(0x5fb)][_0x277ed2(0x330)](),_0x4d5e61[_0x277ed2(0x6cb)],_0x16ad1d),_0x4e4a68[_0x277ed2(0x3fa)]&&_0x16ad1d<_0x4e4a68[_0x277ed2(0x3fa)]&&this[_0x277ed2(0x37a)](_0x4e4a68['type'],this[_0x277ed2(0x3f6)][_0x277ed2(0x5fb)]['getId'](),_0x4d5e61['Sender'],_0x16ad1d);});}[_0x5dd398(0x68c)](_0x19b49a){const _0x31ac01=_0x5dd398;let _0x3dd157=[];switch(_0x19b49a['origin']){case _0x4d5e61[_0x31ac01(0x6cb)]:_0x3dd157=_0x3b4bd0;break;case _0x4d5e61[_0x31ac01(0x4d5)]:_0x3dd157=_0x41dbfc;}_0x19b49a[_0x31ac01(0x51f)]&&this[_0x31ac01(0x81f)](_0x19b49a[_0x31ac01(0x6e5)],_0x4d5e61[_0x31ac01(0x6cb)],_0x19b49a['video']),_0x19b49a[_0x31ac01(0x3aa)]&&this[_0x31ac01(0x459)](_0x19b49a[_0x31ac01(0x6e5)],_0x4d5e61[_0x31ac01(0x6cb)],_0x19b49a['audio']),_0x3dd157[_0x31ac01(0x710)](_0x4a2c01=>{const _0x128cef=_0x31ac01,_0x38e560=_0x4a2c01[_0x128cef(0x1d9)](_0x19b49a);_0x4a2c01['maxThreshold']&&_0x38e560>_0x4a2c01['maxThreshold']&&this[_0x128cef(0x37a)](_0x4a2c01[_0x128cef(0x72a)],_0x19b49a[_0x128cef(0x6e5)],_0x4d5e61[_0x128cef(0x6cb)],_0x38e560),_0x4a2c01[_0x128cef(0x3fa)]&&_0x38e560<_0x4a2c01[_0x128cef(0x3fa)]&&this[_0x128cef(0x37a)](_0x4a2c01[_0x128cef(0x72a)],_0x19b49a[_0x128cef(0x6e5)],_0x4d5e61[_0x128cef(0x6cb)],_0x38e560);});}[_0x5dd398(0x81f)](_0x5528ba,_0xd48da3,_0x9af975){const _0x3d5381=_0x5dd398;0x0!==_0x9af975[_0x3d5381(0x66f)]&&_0x1ae0ea[_0x3d5381(0x710)](_0xc81749=>{const _0x80797d=_0x3d5381,_0xc7dd2=_0xc81749[_0x80797d(0x1d9)](_0x9af975);_0xc81749[_0x80797d(0x734)]&&_0xc7dd2>_0xc81749[_0x80797d(0x734)]&&this[_0x80797d(0x37a)](_0xc81749[_0x80797d(0x72a)],_0x5528ba,_0xd48da3,_0xc7dd2,'video'),_0xc81749[_0x80797d(0x3fa)]&&_0xc7dd2<_0xc81749[_0x80797d(0x3fa)]&&this[_0x80797d(0x37a)](_0xc81749[_0x80797d(0x72a)],_0x5528ba,_0xd48da3,_0xc7dd2,_0x80797d(0x51f));});}[_0x5dd398(0x459)](_0x240ad4,_0x1907a1,_0x557c5e){const _0x524270=_0x5dd398;0x0!==_0x557c5e[_0x524270(0x66f)]&&_0x18a729['forEach'](_0x5021b5=>{const _0x205902=_0x524270,_0x4679ae=_0x5021b5[_0x205902(0x1d9)](_0x557c5e);_0x5021b5[_0x205902(0x734)]&&_0x4679ae>_0x5021b5[_0x205902(0x734)]&&this[_0x205902(0x37a)](_0x5021b5[_0x205902(0x72a)],_0x240ad4,_0x1907a1,_0x4679ae,_0x205902(0x3aa)),_0x5021b5['minThreshold']&&_0x4679ae<_0x5021b5[_0x205902(0x3fa)]&&this[_0x205902(0x37a)](_0x5021b5[_0x205902(0x72a)],_0x240ad4,_0x1907a1,_0x4679ae,_0x205902(0x3aa));});}['addIssue'](_0x17c6e0,_0x20a9e0,_0x1b9220,_0x540f8d,_0x487e62){const _0x23fe09=_0x5dd398;_0x52f76b[_0x23fe09(0x20d)](_0x4f3b4c[_0x23fe09(0x5bd)],_0x23fe09(0x2ee)+_0x17c6e0,_0x17c6e0,_0x540f8d),_0x52f76b[_0x23fe09(0x79a)](_0x23fe09(0x1f8),{'clusterId':this[_0x23fe09(0x3f6)]['clusterId'],'nodeId':this[_0x23fe09(0x3f6)][_0x23fe09(0x5fb)]['getId'](),'nodeType':this[_0x23fe09(0x3f6)][_0x23fe09(0x5fb)][_0x23fe09(0x72a)],'remoteId':_0x20a9e0,'data':{'type':_0x17c6e0,'value':_0x540f8d,'kind':_0x487e62}}),this[_0x23fe09(0x2b8)]=this[_0x23fe09(0x2b8)][_0x23fe09(0x60e)](_0xb6ddb=>Date[_0x23fe09(0x4bb)]()-_0xb6ddb[_0x23fe09(0x426)]<0x7530),this[_0x23fe09(0x2b8)][_0x23fe09(0x28d)]({'timestamp':Date[_0x23fe09(0x4bb)](),'type':_0x17c6e0,'nodeId':_0x20a9e0,'origin':_0x1b9220,'value':_0x540f8d,'kind':_0x487e62});const _0x403a25=this[_0x23fe09(0x2b8)][_0x23fe09(0x60e)](_0x64642f=>_0x64642f[_0x23fe09(0x72a)]===_0x17c6e0&&_0x64642f['nodeId']===_0x20a9e0&&_0x64642f[_0x23fe09(0x44b)]===_0x1b9220)[_0x23fe09(0x5f4)];this['detectProblems'](_0x17c6e0,_0x20a9e0,_0x1b9220,_0x403a25);}[_0x5dd398(0x263)](_0xc201b3,_0xe62980,_0x62e909){const _0x244cd8=_0x5dd398;_0x52f76b[_0x244cd8(0x20d)](_0x4f3b4c['Detection'],'Problem\x20detected:\x20'+_0xc201b3),_0x52f76b[_0x244cd8(0x79a)](_0x244cd8(0x337),{'clusterId':this[_0x244cd8(0x3f6)][_0x244cd8(0x1ff)],'nodeId':this[_0x244cd8(0x3f6)][_0x244cd8(0x5fb)][_0x244cd8(0x330)](),'nodeType':this['configs'][_0x244cd8(0x5fb)][_0x244cd8(0x72a)],'remoteId':_0xe62980,'data':{'type':_0xc201b3}}),this[_0x244cd8(0x7fa)]?.[_0x244cd8(0x7b0)]({'sourceId':_0x384096,'messageType':_0x3efa6a[_0x244cd8(0x5bd)],'content':{'type':_0x2c395b[_0x244cd8(0x5e7)],'data':{'timestamp':Date[_0x244cd8(0x4bb)](),'nodeId':_0xe62980,'origin':_0x4d5e61[_0x244cd8(0x6cb)],'type':_0xc201b3}}});}}class _0xc208aa extends _0x3ebd70{[_0x5dd398(0x72a)]=_0x47065f[_0x5dd398(0x307)][_0x5dd398(0x586)];}class _0x36be30 extends _0xc208aa{['systemTopic'];[_0x5dd398(0x828)]=Date[_0x5dd398(0x4bb)]();[_0x5dd398(0x35e)];[_0x5dd398(0x1fd)];['close'](){const _0x2d6d41=_0x5dd398;this['updateDebounceTimeout']&&(clearTimeout(this[_0x2d6d41(0x35e)]),delete this[_0x2d6d41(0x35e)]),delete this[_0x2d6d41(0x1fd)],this[_0x2d6d41(0x828)]=Date['now'](),super['close']();}['registerSystemPublisher'](_0x38c92e){const _0x39f4cc=_0x5dd398;this[_0x39f4cc(0x7fa)]=_0x38c92e;}[_0x5dd398(0x7d9)](){const _0x49c734=_0x5dd398;delete this[_0x49c734(0x7fa)];}[_0x5dd398(0x6a6)](_0x221ca5){const _0x45f6ca=_0x5dd398;!this[_0x45f6ca(0x35e)]&&this[_0x45f6ca(0x52b)]&&this[_0x45f6ca(0x7fa)]['publish']({'sourceId':this['id'],'destinationIds':[_0x221ca5],'propagate':!0x0,'messageType':_0x3efa6a[_0x45f6ca(0x40c)],'content':{'type':_0x3a7a00[_0x45f6ca(0x663)],'id':this['id'],'metaData':{'type':this[_0x45f6ca(0x72a)]},'rank':this[_0x45f6ca(0x6c7)](),'remoteConnections':Array[_0x45f6ca(0x5e2)](this[_0x45f6ca(0x264)]),'version':this[_0x45f6ca(0x828)]}});}[_0x5dd398(0x751)](_0x203b08){const _0x24359b=_0x5dd398;this[_0x24359b(0x264)][_0x24359b(0x2d4)](_0x203b08)||(this[_0x24359b(0x264)][_0x24359b(0x6f5)](_0x203b08),this[_0x24359b(0x509)](),this['publishUserUpdate'](!0x0));}['removeRemoteConnection'](_0x1732a5){const _0x34980b=_0x5dd398;this[_0x34980b(0x264)][_0x34980b(0x2d4)](_0x1732a5)&&(this[_0x34980b(0x264)][_0x34980b(0x2d8)](_0x1732a5),this[_0x34980b(0x509)](),this[_0x34980b(0x404)](!0x0));}['getCurrentVersion'](){return this['currentVersion'];}[_0x5dd398(0x247)](_0xbf0c26,_0x43578c=!0x0){const _0x15465f=_0x5dd398;this[_0x15465f(0x52b)]!==_0xbf0c26&&(this[_0x15465f(0x52b)]=_0xbf0c26,_0x43578c&&(this['incrementVersion'](),this[_0x15465f(0x404)]()));}[_0x5dd398(0x509)](){this['currentVersion']=Date['now']();}[_0x5dd398(0x404)](_0x3a7b5c=!0x1){const _0xcde390=_0x5dd398;if(this[_0xcde390(0x52b)]){if(this[_0xcde390(0x1fd)]||(this[_0xcde390(0x1fd)]=Date['now']()),this[_0xcde390(0x35e)]){if(Date[_0xcde390(0x4bb)]()-this['lastUpdated']>0x2328)return;clearTimeout(this[_0xcde390(0x35e)]);}this['updateDebounceTimeout']=setTimeout(()=>{const _0x368ad5=_0xcde390;delete this[_0x368ad5(0x1fd)],delete this[_0x368ad5(0x35e)],this[_0x368ad5(0x7fa)][_0x368ad5(0x7b0)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x3efa6a['Node'],'content':{'type':_0x3a7b5c?_0x3a7a00['NodeConnectionsUpdate']:_0x3a7a00[_0x368ad5(0x663)],'id':this['id'],'metaData':{'type':this[_0x368ad5(0x72a)]},'rank':this[_0x368ad5(0x6c7)](),'remoteConnections':Array[_0x368ad5(0x5e2)](this[_0x368ad5(0x264)]),'version':this[_0x368ad5(0x828)]}});},0x3e8);}}}class _0x36af76 extends _0x2d83da{[_0x5dd398(0x7fa)];[_0x5dd398(0x828)]=Date[_0x5dd398(0x4bb)]();[_0x5dd398(0x35e)];[_0x5dd398(0x1fd)];[_0x5dd398(0x362)](){const _0x3d6e1b=_0x5dd398;this[_0x3d6e1b(0x35e)]&&(clearTimeout(this[_0x3d6e1b(0x35e)]),delete this[_0x3d6e1b(0x35e)]),delete this[_0x3d6e1b(0x1fd)],this['currentVersion']=Date['now'](),super['close']();}[_0x5dd398(0x442)](_0x4a7a2b){const _0x8738d7=_0x5dd398;this[_0x8738d7(0x7fa)]=_0x4a7a2b;}[_0x5dd398(0x7d9)](){const _0x321781=_0x5dd398;delete this[_0x321781(0x7fa)];}[_0x5dd398(0x6a6)](_0x1bc7ff){const _0x4c1f6b=_0x5dd398;!this['updateDebounceTimeout']&&this[_0x4c1f6b(0x52b)]&&this['systemTopic'][_0x4c1f6b(0x7b0)]({'sourceId':this['id'],'destinationIds':[_0x1bc7ff],'propagate':!0x0,'messageType':_0x3efa6a['Node'],'content':{'type':_0x3a7a00[_0x4c1f6b(0x663)],'id':this['id'],'metaData':{'type':this[_0x4c1f6b(0x72a)],'displayName':this[_0x4c1f6b(0x23d)](),'email':this[_0x4c1f6b(0x6a5)]()},'rank':this[_0x4c1f6b(0x6c7)](),'remoteConnections':Array['from'](this['remoteConnections']),'version':this['currentVersion']}});}[_0x5dd398(0x751)](_0x5bebb5){const _0x379d43=_0x5dd398;this[_0x379d43(0x264)][_0x379d43(0x2d4)](_0x5bebb5)||(this[_0x379d43(0x264)][_0x379d43(0x6f5)](_0x5bebb5),this[_0x379d43(0x509)](),this['publishUserUpdate'](!0x0));}[_0x5dd398(0x782)](_0x1b11f6){const _0x223157=_0x5dd398;this[_0x223157(0x264)][_0x223157(0x2d4)](_0x1b11f6)&&(this[_0x223157(0x264)][_0x223157(0x2d8)](_0x1b11f6),this[_0x223157(0x509)](),this[_0x223157(0x404)](!0x0));}['getCurrentVersion'](){const _0x5dddd8=_0x5dd398;return this[_0x5dddd8(0x828)];}[_0x5dd398(0x78e)](_0x4789ae){const _0x2f4466=_0x5dd398;this[_0x2f4466(0x7c5)]!==_0x4789ae&&(this[_0x2f4466(0x7c5)]=_0x4789ae,this[_0x2f4466(0x509)](),this['publishUserUpdate']());}[_0x5dd398(0x69c)](_0x2e638f){const _0x24cb70=_0x5dd398;this[_0x24cb70(0x676)]!==_0x2e638f&&(this['email']=_0x2e638f,this[_0x24cb70(0x509)](),this[_0x24cb70(0x404)]());}[_0x5dd398(0x247)](_0x8d8033,_0x4bd550=!0x0){const _0x37df24=_0x5dd398;this['rank']!==_0x8d8033&&(this[_0x37df24(0x52b)]=_0x8d8033,_0x4bd550&&(this['incrementVersion'](),this['publishUserUpdate']()));}['incrementVersion'](){const _0x2534fb=_0x5dd398;this['currentVersion']=Date[_0x2534fb(0x4bb)]();}['publishUserUpdate'](_0x49e13c=!0x1){const _0x47508f=_0x5dd398;if(this['rank']){if(this['lastUpdated']||(this[_0x47508f(0x1fd)]=Date[_0x47508f(0x4bb)]()),this[_0x47508f(0x35e)]){if(Date[_0x47508f(0x4bb)]()-this[_0x47508f(0x1fd)]>0x2328)return;clearTimeout(this[_0x47508f(0x35e)]);}this[_0x47508f(0x35e)]=setTimeout(()=>{const _0x2c60dd=_0x47508f;delete this[_0x2c60dd(0x1fd)],delete this['updateDebounceTimeout'],this['systemTopic']['publish']({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x3efa6a[_0x2c60dd(0x40c)],'content':{'type':_0x49e13c?_0x3a7a00[_0x2c60dd(0x868)]:_0x3a7a00['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0x2c60dd(0x72a)],'displayName':this[_0x2c60dd(0x23d)](),'email':this['getEmail']()},'rank':this['getRank'](),'remoteConnections':Array[_0x2c60dd(0x5e2)](this[_0x2c60dd(0x264)]),'version':this[_0x2c60dd(0x828)]}});},0x3e8);}}}class _0x148f44{['id'];['groupId'];[_0x5dd398(0x6eb)];[_0x5dd398(0x43a)];[_0x5dd398(0x72a)]=_0x47065f['NodeType'][_0x5dd398(0x586)];[_0x5dd398(0x5e9)];constructor(_0x4f02f6,_0x29e69c,_0x56cc2e,_0x514254){const _0x438533=_0x5dd398;this['id']=_0x4f02f6,this[_0x438533(0x256)]=_0x29e69c,this[_0x438533(0x6eb)]=_0x56cc2e,this[_0x438533(0x43a)]=_0x514254;}['getId'](){return this['id'];}[_0x5dd398(0x36a)](_0x3076cb){const _0x32f4a6=_0x5dd398,_0x3e4108=(0x0,_0x654549[_0x32f4a6(0x4b9)])((0x0,_0x654549[_0x32f4a6(0x2f2)])(_0x40377c[_0x32f4a6(0x2ed)](),_0x32f4a6(0x218)+this[_0x32f4a6(0x6eb)]+_0x32f4a6(0x68f)+this['groupId']),_0x268e2f=>{const _0x31287f=_0x32f4a6;if(_0x268e2f['exists']()){const _0x1d342b=_0x268e2f['data']();if(this[_0x31287f(0x43a)][_0x31287f(0x426)][_0x31287f(0x54a)](_0x1d342b['timestamp']))return;_0x52f76b[_0x31287f(0x20d)](_0x4f3b4c[_0x31287f(0x40c)],'agent-config-changed',{'agentId':this['id'],'groupId':this['groupId'],'oldConfig':this['agentConfig'],'newConfig':_0x1d342b}),this['agentConfig']=_0x1d342b,_0x3076cb();}});return()=>_0x3e4108();}[_0x5dd398(0x22d)](_0x2c10b4){const _0x798a82=_0x5dd398;return this[_0x798a82(0x539)](this[_0x798a82(0x256)],_0x2c10b4),_0x478a69['setInterval'](()=>this[_0x798a82(0x539)](this[_0x798a82(0x256)],_0x2c10b4),0x493e0);}['getCapacityReport'](){const _0x54e88b=_0x5dd398;if(!this[_0x54e88b(0x5e9)])throw new _0x189e7c(_0x189e7c[_0x54e88b(0x32a)][_0x54e88b(0x311)]);return this['lastCapacityReport'];}async[_0x5dd398(0x539)](_0x40ff5b,_0xdd2b3d){const _0x245c6a=_0x5dd398,_0x4715e5=await _0xdd2b3d();this[_0x245c6a(0x5e9)]=_0x4715e5,await(0x0,_0x654549[_0x245c6a(0x4c2)])((0x0,_0x654549[_0x245c6a(0x4fc)])(_0x40377c['getFirestore'](),'developers/'+this[_0x245c6a(0x6eb)]+_0x245c6a(0x6d4)),{'agentId':this['id'],'groupId':_0x40ff5b,'timestamp':(0x0,_0x654549[_0x245c6a(0x764)])(),'capacity':_0x4715e5});}}!function(_0x7f513e){const _0x19ca50=_0x5dd398;_0x7f513e[_0x7f513e['Online']=0x0]=_0x19ca50(0x60b),_0x7f513e[_0x7f513e[_0x19ca50(0x50d)]=0x1]=_0x19ca50(0x50d);}(_0x9fd987||(_0x9fd987={}));class _0x2ddca8 extends _0xc208aa{['currentVersion'];[_0x5dd398(0x499)]=_0x9fd987[_0x5dd398(0x60b)];[_0x5dd398(0x1fd)]=Date['now']();constructor(_0x14b467,_0x4f352e=new Set(),_0x477093,_0x4e5483){super(_0x14b467,_0x4f352e,_0x4e5483),this['currentVersion']=_0x477093;}[_0x5dd398(0x21e)](){const _0x18104e=_0x5dd398;return this[_0x18104e(0x828)];}[_0x5dd398(0x660)](){const _0x4f7d09=_0x5dd398;return this[_0x4f7d09(0x499)];}[_0x5dd398(0x54b)](){const _0xd9ddb6=_0x5dd398;return this[_0xd9ddb6(0x1fd)];}[_0x5dd398(0x247)](_0x269bf3){const _0xf4d613=_0x5dd398;this[_0xf4d613(0x52b)]!==_0x269bf3&&(this['rank']=_0x269bf3,this[_0xf4d613(0x27d)]());}[_0x5dd398(0x517)](_0x345bc1){const _0x164c22=_0x5dd398;let _0x56b04f=!0x1;for(const _0xf5fa1f of this[_0x164c22(0x264)])_0x345bc1[_0x164c22(0x30f)](_0xf5fa1f)||(_0x56b04f=!0x0,this[_0x164c22(0x264)][_0x164c22(0x2d8)](_0xf5fa1f));for(const _0x11f077 of _0x345bc1)this[_0x164c22(0x264)]['has'](_0x11f077)||(_0x56b04f=!0x0,this[_0x164c22(0x264)]['add'](_0x11f077));_0x56b04f&&this[_0x164c22(0x27d)]();}['setCurrentVersion'](_0x3e234b){const _0xe8f725=_0x5dd398;this[_0xe8f725(0x828)]!==_0x3e234b&&(this[_0xe8f725(0x828)]=_0x3e234b,this[_0xe8f725(0x27d)]());}['setStatus'](_0x4f1182){const _0x373138=_0x5dd398;this[_0x373138(0x499)]!==_0x4f1182&&(this[_0x373138(0x499)]=_0x4f1182,this['updateLastUpdated'](),_0x4f1182===_0x9fd987[_0x373138(0x50d)]&&this['close']());}[_0x5dd398(0x27d)](){const _0x353285=_0x5dd398;this[_0x353285(0x1fd)]=Date[_0x353285(0x4bb)]();}}class _0x31b464 extends _0x2d83da{[_0x5dd398(0x828)];[_0x5dd398(0x499)]=_0x9fd987['Online'];[_0x5dd398(0x1fd)]=Date['now']();constructor(_0x4bfc93,_0x38aa45,_0x3dff82,_0x3ffcd1=new Set(),_0x32ab02,_0x1fae72){super(_0x4bfc93,_0x38aa45,_0x3dff82,_0x3ffcd1,_0x1fae72),this['currentVersion']=_0x32ab02;}[_0x5dd398(0x21e)](){return this['currentVersion'];}[_0x5dd398(0x660)](){return this['status'];}[_0x5dd398(0x54b)](){const _0x5a2563=_0x5dd398;return this[_0x5a2563(0x1fd)];}[_0x5dd398(0x78e)](_0x44680e){const _0x418e0c=_0x5dd398;this['displayName']!==_0x44680e&&(this[_0x418e0c(0x7c5)]=_0x44680e,this[_0x418e0c(0x27d)]());}['setEmail'](_0x5711f7){const _0x2b29c6=_0x5dd398;this[_0x2b29c6(0x676)]!==_0x5711f7&&(this[_0x2b29c6(0x676)]=_0x5711f7,this[_0x2b29c6(0x27d)]());}[_0x5dd398(0x247)](_0x39c1f6){const _0x4e0a89=_0x5dd398;this[_0x4e0a89(0x52b)]!==_0x39c1f6&&(this[_0x4e0a89(0x52b)]=_0x39c1f6,this[_0x4e0a89(0x27d)]());}[_0x5dd398(0x517)](_0x204830){const _0x2da42e=_0x5dd398;let _0x5908e5=!0x1;for(const _0x4acaba of this[_0x2da42e(0x264)])_0x204830[_0x2da42e(0x30f)](_0x4acaba)||(_0x5908e5=!0x0,this['remoteConnections'][_0x2da42e(0x2d8)](_0x4acaba));for(const _0x44af10 of _0x204830)this[_0x2da42e(0x264)][_0x2da42e(0x2d4)](_0x44af10)||(_0x5908e5=!0x0,this[_0x2da42e(0x264)]['add'](_0x44af10));_0x5908e5&&this[_0x2da42e(0x27d)]();}['setCurrentVersion'](_0x5d4a2c){const _0x2fcede=_0x5dd398;this[_0x2fcede(0x828)]!==_0x5d4a2c&&(this[_0x2fcede(0x828)]=_0x5d4a2c,this[_0x2fcede(0x27d)]());}[_0x5dd398(0x856)](_0x65d76e){const _0x1667b=_0x5dd398;this[_0x1667b(0x499)]!==_0x65d76e&&(this['status']=_0x65d76e,this[_0x1667b(0x27d)](),_0x65d76e===_0x9fd987[_0x1667b(0x50d)]&&this[_0x1667b(0x362)]());}[_0x5dd398(0x27d)](){const _0x21d7f7=_0x5dd398;this[_0x21d7f7(0x1fd)]=Date['now']();}}class _0x1b174d{[_0x5dd398(0x6eb)];[_0x5dd398(0x1ff)];[_0x5dd398(0x5fb)];[_0x5dd398(0x5cf)];[_0x5dd398(0x5fd)]=_0x3835d4();[_0x5dd398(0x83c)];[_0x5dd398(0x35b)];[_0x5dd398(0x4aa)];[_0x5dd398(0x5b3)]=!0x1;[_0x5dd398(0x821)];[_0x5dd398(0x3df)];constructor(_0x464ca3,_0x527486,_0x65f72d,_0x1ab8f7){const _0x4fb291=_0x5dd398;this[_0x4fb291(0x6eb)]=_0x464ca3,this['clusterId']=_0x527486,this[_0x4fb291(0x5fb)]=_0x65f72d,this[_0x4fb291(0x5cf)]=_0x1ab8f7,this[_0x4fb291(0x821)]='ccc'+this[_0x4fb291(0x6eb)]+_0x4fb291(0x528)+this['clusterId'],this[_0x4fb291(0x3df)]='ccc'+this[_0x4fb291(0x6eb)]+_0x4fb291(0x528)+this[_0x4fb291(0x5fb)]['getId'](),this[_0x4fb291(0x83c)]=(0x0,_0x3091c2[_0x4fb291(0x2d9)])((0x0,_0x3091c2[_0x4fb291(0x4ec)])(_0x40377c[_0x4fb291(0x36d)](),'.info/connected'),_0x40329=>{const _0x2720e5=_0x4fb291;!0x0!==_0x40329[_0x2720e5(0x7ff)]()?this[_0x2720e5(0x5b3)]&&_0x52f76b[_0x2720e5(0x7ee)](_0x2720e5(0x220),{'clusterId':this[_0x2720e5(0x1ff)],'nodeId':this[_0x2720e5(0x5fb)][_0x2720e5(0x330)](),'nodeType':this[_0x2720e5(0x5fb)][_0x2720e5(0x72a)]}):(this[_0x2720e5(0x5b3)]=!0x0,this[_0x2720e5(0x652)](),_0x52f76b['warning'](_0x2720e5(0x46b),{'clusterId':this[_0x2720e5(0x1ff)],'nodeId':this[_0x2720e5(0x5fb)][_0x2720e5(0x330)](),'nodeType':this[_0x2720e5(0x5fb)][_0x2720e5(0x72a)]}));});}async[_0x5dd398(0x1d5)](){const _0x11f556=_0x5dd398;await this['joinCluster']();const _0x300736=await this[_0x11f556(0x53d)]();return this[_0x11f556(0x35b)]=(0x0,_0x3091c2[_0x11f556(0x2e4)])((0x0,_0x3091c2[_0x11f556(0x4ec)])(_0x40377c[_0x11f556(0x36d)](),_0x11f556(0x84b)+this[_0x11f556(0x821)]+'/nodes'),_0x3eb255=>{const _0x30af00=_0x11f556,_0x41d2db=_0x3eb255[_0x30af00(0x538)];if(!_0x41d2db)return;const _0x5d5e16=_0x41d2db[_0x30af00(0x7dc)](_0x30af00(0x528)+this[_0x30af00(0x6eb)]+_0x30af00(0x528),'');this[_0x30af00(0x5fd)][_0x30af00(0x7b0)](_0x5d5e16);}),_0x300736;}async[_0x5dd398(0x362)](){const _0x2938a0=_0x5dd398;this[_0x2938a0(0x35b)]?.(),delete this[_0x2938a0(0x35b)],this[_0x2938a0(0x4aa)]?.['cancel'](),delete this[_0x2938a0(0x4aa)],this['firebaseUnsubscriber']?.(),delete this['firebaseUnsubscriber'],await(0x0,_0x3091c2[_0x2938a0(0x253)])((0x0,_0x3091c2['ref'])(_0x40377c['getDatabase'](),_0x2938a0(0x84b)+this[_0x2938a0(0x821)]+_0x2938a0(0x50b)+this['nodeKey']));}[_0x5dd398(0x696)](_0x229b94){const _0x218daa=_0x5dd398;return this[_0x218daa(0x5fd)][_0x218daa(0x431)](_0x229b94);}async[_0x5dd398(0x53d)](){const _0x1a34eb=_0x5dd398,_0x3d5f3b=[],_0x51af99=await(0x0,_0x3091c2[_0x1a34eb(0x7ef)])((0x0,_0x3091c2[_0x1a34eb(0x4ec)])(_0x40377c[_0x1a34eb(0x36d)](),_0x1a34eb(0x84b)+this[_0x1a34eb(0x821)]+_0x1a34eb(0x716))),_0x4cca9c=[];return _0x51af99[_0x1a34eb(0x710)](_0x3aed50=>{const _0x31c34a=_0x1a34eb,_0x539b26=_0x3aed50[_0x31c34a(0x538)]?.[_0x31c34a(0x7dc)](_0x31c34a(0x528)+this[_0x31c34a(0x6eb)]+_0x31c34a(0x528),'');_0x4cca9c[_0x31c34a(0x28d)]({'id':_0x539b26,'joinedAt':_0x3aed50[_0x31c34a(0x7ff)]()[_0x31c34a(0x674)],'priority':_0x3aed50[_0x31c34a(0x7ff)]()[_0x31c34a(0x3f5)]});}),_0x4cca9c['sort']((_0x40eacd,_0x47d569)=>_0x40eacd[_0x1a34eb(0x674)]===_0x47d569['joinedAt']?_0x40eacd[_0x1a34eb(0x3f5)]-_0x47d569[_0x1a34eb(0x3f5)]:_0x40eacd[_0x1a34eb(0x674)]-_0x47d569['joinedAt'])[_0x1a34eb(0x65a)](_0x4cca9c[_0x1a34eb(0x6ec)](_0x1d33a7=>_0x1d33a7['id']===this[_0x1a34eb(0x5fb)][_0x1a34eb(0x330)]())),_0x4cca9c[_0x1a34eb(0x615)]((_0x119c75,_0x47921f)=>_0x47921f[_0x1a34eb(0x674)]===_0x119c75['joinedAt']?_0x47921f[_0x1a34eb(0x3f5)]-_0x119c75[_0x1a34eb(0x3f5)]:_0x47921f['joinedAt']-_0x119c75[_0x1a34eb(0x674)])[_0x1a34eb(0x710)](_0xa142dd=>{const _0x19f692=_0x1a34eb;_0x3d5f3b[_0x19f692(0x5f4)]>=this[_0x19f692(0x5cf)]||_0x3d5f3b[_0x19f692(0x28d)](_0xa142dd['id']);}),_0x52f76b[_0x1a34eb(0x79a)]('discover',{'clusterId':this[_0x1a34eb(0x1ff)],'nodeId':this[_0x1a34eb(0x5fb)][_0x1a34eb(0x330)](),'nodeType':this['localNode'][_0x1a34eb(0x72a)],'data':{'ancestorIds':_0x3d5f3b,'allNodes':_0x4cca9c}}),_0x3d5f3b;}async[_0x5dd398(0x4e6)](){const _0x525019=_0x5dd398;await(0x0,_0x3091c2[_0x525019(0x549)])((0x0,_0x3091c2[_0x525019(0x4ec)])(_0x40377c['getDatabase'](),_0x525019(0x84b)+this[_0x525019(0x821)]+_0x525019(0x50b)+this['nodeKey']),{'joinedAt':(0x0,_0x3091c2['serverTimestamp'])(),'priority':Math[_0x525019(0x3bb)]()});}[_0x5dd398(0x652)](){const _0x3ee405=_0x5dd398;this['onDisconnectHandler']&&this[_0x3ee405(0x4aa)][_0x3ee405(0x24d)](),this[_0x3ee405(0x4aa)]=(0x0,_0x3091c2['onDisconnect'])((0x0,_0x3091c2[_0x3ee405(0x4ec)])(_0x40377c['getDatabase'](),_0x3ee405(0x84b)+this[_0x3ee405(0x821)]+_0x3ee405(0x50b)+this[_0x3ee405(0x3df)])),this[_0x3ee405(0x4aa)][_0x3ee405(0x253)]();}}class _0x120f06{[_0x5dd398(0x3f6)];[_0x5dd398(0x76c)];['localNode'];[_0x5dd398(0x3fb)];[_0x5dd398(0x20c)];[_0x5dd398(0x33b)];[_0x5dd398(0x508)]=[];['systemTopic'];[_0x5dd398(0x7d8)]=new Map();['debounceProcessRank'];[_0x5dd398(0x42d)];constructor(_0x2fc725,_0x94e76f,_0x5cfed2){const _0x14adef=_0x5dd398;this[_0x14adef(0x3f6)]=_0x2fc725,this[_0x14adef(0x76c)]=_0x94e76f,this[_0x14adef(0x5fb)]=_0x5cfed2,this[_0x14adef(0x20c)]=new _0x1b174d(this['configs'][_0x14adef(0x6eb)],this[_0x14adef(0x3f6)]['clusterId'],this['localNode'],this[_0x14adef(0x76c)]['getMinConnections']()),this[_0x14adef(0x33b)]=this[_0x14adef(0x20c)][_0x14adef(0x696)](this[_0x14adef(0x3de)][_0x14adef(0x437)](this)),this[_0x14adef(0x3f6)][_0x14adef(0x5a9)][_0x14adef(0x7ba)](this['localNode']),this[_0x14adef(0x3f6)]['mediator'][_0x14adef(0x7ba)](this),this[_0x14adef(0x3fb)]=_0x478a69[_0x14adef(0x1c5)](()=>{const _0x422f4d=_0x14adef,_0x26d140=Date[_0x422f4d(0x4bb)]();this[_0x422f4d(0x76c)]['getRemoteNodes']()[_0x422f4d(0x710)](_0x33764e=>{const _0x34fefb=_0x422f4d;_0x33764e[_0x34fefb(0x660)]()===_0x9fd987['Offline']&&_0x33764e[_0x34fefb(0x54b)]()<_0x26d140-0x493e0&&this[_0x34fefb(0x76c)][_0x34fefb(0x6c4)](_0x33764e[_0x34fefb(0x330)]());});},0xea60);}[_0x5dd398(0x442)](_0x59e8bb){this['systemTopic']=_0x59e8bb;}[_0x5dd398(0x7d9)](){delete this['systemTopic'];}[_0x5dd398(0x362)](){const _0x5b82c2=_0x5dd398;this[_0x5b82c2(0x2f7)]&&(clearTimeout(this[_0x5b82c2(0x2f7)]),delete this[_0x5b82c2(0x2f7)]),delete this[_0x5b82c2(0x42d)],this[_0x5b82c2(0x5fb)][_0x5b82c2(0x362)](),this[_0x5b82c2(0x3fb)](),this[_0x5b82c2(0x33b)](),this[_0x5b82c2(0x3f6)][_0x5b82c2(0x5a9)][_0x5b82c2(0x536)](this['localNode']),this[_0x5b82c2(0x3f6)]['mediator'][_0x5b82c2(0x536)](this),this[_0x5b82c2(0x20c)][_0x5b82c2(0x362)]();}['getAncestorIds'](){const _0x33bf0e=_0x5dd398;return this[_0x33bf0e(0x508)];}['getLocalId'](){const _0x1cc343=_0x5dd398;return this[_0x1cc343(0x5fb)][_0x1cc343(0x330)]();}[_0x5dd398(0x251)](){return this['localNode'];}['getRemoteNodes'](_0x52e994){const _0x2a5433=_0x5dd398,_0x2a457f=Array[_0x2a5433(0x5e2)](this[_0x2a5433(0x76c)][_0x2a5433(0x385)]()[_0x2a5433(0x4e3)]())[_0x2a5433(0x60e)](_0x205cf0=>_0x205cf0[_0x2a5433(0x660)]()===_0x9fd987['Online']);return _0x52e994?_0x2a457f[_0x2a5433(0x60e)](_0x52e994):_0x2a457f;}async[_0x5dd398(0x1eb)](){const _0x20a262=_0x5dd398;return this['ancestors']=await this['discoveryService'][_0x20a262(0x1d5)](),this[_0x20a262(0x508)][_0x20a262(0x5f4)]<this['graphService'][_0x20a262(0x522)]()&&(this[_0x20a262(0x5fb)][_0x20a262(0x247)](this[_0x20a262(0x508)][_0x20a262(0x5f4)]+0x1),this[_0x20a262(0x32f)]()),this[_0x20a262(0x508)];}[_0x5dd398(0x5a4)](_0x1beb18,_0x450572){const _0x42d744=_0x5dd398,_0x7a9b63=this[_0x42d744(0x5fb)]['getRemoteConnections'](),_0x11d63d=new Set(_0x7a9b63),_0x3a4c42=Array['from'](_0x7a9b63)[_0x42d744(0x60e)](_0x549b04=>_0x549b04!==_0x1beb18)[_0x42d744(0x58c)](_0x577f64=>({'id':_0x577f64,'distance':0x1}));for(;_0x3a4c42[_0x42d744(0x5f4)]>0x0;){const _0xb8dcd2=_0x3a4c42[_0x42d744(0x27a)]();if(!_0xb8dcd2)continue;if(_0xb8dcd2['id']===_0x450572)return _0xb8dcd2[_0x42d744(0x67e)];const _0x204db8=this[_0x42d744(0x76c)]['getRemoteNode'](_0xb8dcd2['id']);_0x204db8&&_0x204db8[_0x42d744(0x660)]()!==_0x9fd987[_0x42d744(0x50d)]&&_0x204db8[_0x42d744(0x213)]()[_0x42d744(0x710)](_0x5d0452=>{const _0xb36f25=_0x42d744;_0x11d63d['has'](_0x5d0452)||(_0x11d63d[_0xb36f25(0x6f5)](_0x5d0452),_0x3a4c42[_0xb36f25(0x28d)]({'id':_0x5d0452,'distance':_0xb8dcd2['distance']+0x1}));});}return-0x1;}[_0x5dd398(0x4d4)](_0x3d3232){const _0x5e98ae=_0x5dd398;try{switch(_0x3d3232[_0x5e98ae(0x69a)][_0x5e98ae(0x72a)]){case _0x3a7a00[_0x5e98ae(0x663)]:case _0x3a7a00[_0x5e98ae(0x868)]:this[_0x5e98ae(0x5ec)](_0x3d3232[_0x5e98ae(0x69a)]),_0x52f76b[_0x5e98ae(0x20d)](_0x4f3b4c[_0x5e98ae(0x40c)],_0x5e98ae(0x1ed),'\x27'+this[_0x5e98ae(0x5fb)][_0x5e98ae(0x330)]()+',\x20'+_0x3d3232[_0x5e98ae(0x562)]+'\x27',_0x3d3232,_0x3d3232[_0x5e98ae(0x69a)]);break;case _0x3a7a00['NodeLeave']:this[_0x5e98ae(0x6a7)](_0x3d3232[_0x5e98ae(0x69a)]['id']),_0x52f76b[_0x5e98ae(0x20d)](_0x4f3b4c[_0x5e98ae(0x40c)],_0x5e98ae(0x1f1),'\x27'+this[_0x5e98ae(0x5fb)]['getId']()+',\x20'+_0x3d3232[_0x5e98ae(0x562)]+'\x27',_0x3d3232,_0x3d3232['content']);}}catch(_0x50abb2){if(_0x50abb2 instanceof _0x3fffd2)return void _0x52f76b[_0x5e98ae(0x20d)](_0x4f3b4c[_0x5e98ae(0x40c)],_0x50abb2[_0x5e98ae(0x3b2)]);throw _0x50abb2;}}[_0x5dd398(0x3ab)](_0x1fb968){const _0x493601=_0x5dd398;switch(_0x1fb968[_0x493601(0x69a)][_0x493601(0x72a)]){case _0x3bfb21[_0x493601(0x552)]:this[_0x493601(0x7e5)](_0x1fb968[_0x493601(0x562)]),_0x52f76b[_0x493601(0x20d)](_0x4f3b4c[_0x493601(0x40c)],_0x493601(0x3a4),'\x27'+this[_0x493601(0x5fb)][_0x493601(0x330)]()+',\x20'+_0x1fb968[_0x493601(0x562)]+'\x27',_0x1fb968,_0x1fb968[_0x493601(0x69a)]);break;case _0x3bfb21[_0x493601(0x3fc)]:this[_0x493601(0x69b)](_0x1fb968[_0x493601(0x562)]),_0x52f76b[_0x493601(0x20d)](_0x4f3b4c[_0x493601(0x40c)],_0x493601(0x6d7),this[_0x493601(0x5fb)][_0x493601(0x330)](),_0x1fb968,_0x1fb968['content']);}}['handleNodeJoin'](_0x627ac9){const _0x437598=_0x5dd398;this['createRemoteNode'](_0x627ac9),this[_0x437598(0x34e)](_0x627ac9);}[_0x5dd398(0x34e)](_0x2cc26d){const _0x3163cf=_0x5dd398;this['localNode'][_0x3163cf(0x6a6)](_0x2cc26d['id']),this[_0x3163cf(0x64f)](_0x2cc26d['id']),this[_0x3163cf(0x3cc)](_0x2cc26d);}[_0x5dd398(0x5ec)](_0x4d4433){const _0x3896f8=_0x5dd398,{id:_0x1737c1,metaData:_0x19c204,rank:_0x2d7f4b,remoteConnections:_0xa266be,version:_0x5c0d07}=_0x4d4433,_0x3d1e9e=this[_0x3896f8(0x76c)][_0x3896f8(0x6bc)](_0x1737c1);if(_0x3d1e9e){if(!(_0x5c0d07<=_0x3d1e9e[_0x3896f8(0x21e)]())){if(_0x3d1e9e['setRemoteConnections'](_0xa266be),_0x3d1e9e[_0x3896f8(0x3dc)](_0x5c0d07),_0x3d1e9e[_0x3896f8(0x72a)]===_0x47065f[_0x3896f8(0x307)][_0x3896f8(0x749)]&&_0x19c204[_0x3896f8(0x72a)]===_0x47065f['NodeType']['User']&&(_0x3d1e9e[_0x3896f8(0x78e)](_0x19c204[_0x3896f8(0x7c5)]),_0x3d1e9e[_0x3896f8(0x69c)](_0x19c204['email'])),_0x2d7f4b&&_0x3d1e9e[_0x3896f8(0x247)](_0x2d7f4b),this[_0x3896f8(0x780)](_0x1737c1,_0x2d7f4b),_0x3d1e9e[_0x3896f8(0x660)]()===_0x9fd987[_0x3896f8(0x50d)])return _0x3d1e9e['setStatus'](_0x9fd987[_0x3896f8(0x60b)]),this[_0x3896f8(0x32f)](),void this['notifyJoin'](_0x4d4433);this[_0x3896f8(0x32f)](),this[_0x3896f8(0x74f)]({'id':_0x1737c1,'metaData':_0x19c204,'remoteConnections':_0xa266be,'version':_0x5c0d07});}}else this[_0x3896f8(0x651)](_0x4d4433);}[_0x5dd398(0x780)](_0x36fb97,_0x4d905c){const _0x2bd639=_0x5dd398;_0x4d905c&&this[_0x2bd639(0x508)]['includes'](_0x36fb97)&&this[_0x2bd639(0x5fb)][_0x2bd639(0x247)](_0x4d905c+this['ancestors'][_0x2bd639(0x857)](_0x36fb97)+0x1);}[_0x5dd398(0x7e5)](_0xb95d6b){const _0xda74d3=_0x5dd398;this[_0xda74d3(0x5fb)][_0xda74d3(0x751)](_0xb95d6b);}[_0x5dd398(0x2b1)]({id:_0x5615e1,metaData:_0x507377,rank:_0x2ddf00,remoteConnections:_0x5f26af,version:_0x388303}){const _0x3d3e5b=_0x5dd398;if(this[_0x3d3e5b(0x76c)][_0x3d3e5b(0x73e)](_0x5615e1))throw new _0x3fffd2('Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20'+_0x5615e1);switch(_0x507377[_0x3d3e5b(0x72a)]){case _0x47065f[_0x3d3e5b(0x307)][_0x3d3e5b(0x749)]:const {displayName:_0x2496ea,email:_0x151864}=_0x507377;this[_0x3d3e5b(0x76c)][_0x3d3e5b(0x4dc)](_0x5615e1,new _0x31b464(_0x5615e1,_0x2496ea,_0x151864,new Set(_0x5f26af),_0x388303,_0x2ddf00));break;case _0x47065f['NodeType'][_0x3d3e5b(0x586)]:this['graphService'][_0x3d3e5b(0x4dc)](_0x5615e1,new _0x2ddca8(_0x5615e1,new Set(_0x5f26af),_0x388303,_0x2ddf00));}this[_0x3d3e5b(0x780)](_0x5615e1,_0x2ddf00),this[_0x3d3e5b(0x32f)]();}['publishNodeJoin'](_0x16edde){const _0x4d9873=_0x5dd398;this[_0x4d9873(0x7fa)][_0x4d9873(0x7b0)]({'sourceId':_0x384096,'messageType':_0x3efa6a['Node'],'content':{'type':_0x3a7a00[_0x4d9873(0x65c)],'id':_0x16edde}});}['publishNodeLeave'](_0x505932){const _0xd582a7=_0x5dd398;this[_0xd582a7(0x7fa)]?.[_0xd582a7(0x7b0)]({'sourceId':_0x384096,'messageType':_0x3efa6a['Node'],'content':{'type':_0x3a7a00['NodeLeave'],'id':_0x505932}});}['handleNodeDisconnect'](_0x3b28b0){const _0x3bab0a=_0x5dd398;if(_0x3b28b0===this[_0x3bab0a(0x5fb)][_0x3bab0a(0x330)]())return this[_0x3bab0a(0x3f6)][_0x3bab0a(0x5a9)][_0x3bab0a(0x770)]('cluster-disconnect',{'id':_0x3b28b0}),this[_0x3bab0a(0x3f6)][_0x3bab0a(0x5a9)][_0x3bab0a(0x362)](!0x0),this[_0x3bab0a(0x3f6)]['mediator'][_0x3bab0a(0x42f)](),void this[_0x3bab0a(0x3f6)]['mediator']['initialize']();this[_0x3bab0a(0x69b)](_0x3b28b0);}[_0x5dd398(0x6a7)](_0x2a5e20){const _0x867eb9=_0x5dd398;this[_0x867eb9(0x508)]['includes'](_0x2a5e20)?this[_0x867eb9(0x644)](_0x2a5e20):this[_0x867eb9(0x5fb)][_0x867eb9(0x213)]()[_0x867eb9(0x2d4)](_0x2a5e20)&&this[_0x867eb9(0x60a)](_0x2a5e20),this[_0x867eb9(0x5fb)]['removeRemoteConnection'](_0x2a5e20);const _0x4f31b8=Array[_0x867eb9(0x5e2)](this[_0x867eb9(0x7d8)]['entries']())[_0x867eb9(0x33c)](([,_0x211db8])=>_0x211db8==_0x211db8);_0x4f31b8&&this['optimizationLayers'][_0x867eb9(0x2d8)](_0x4f31b8[0x0]);const _0x270f5b=this['graphService'][_0x867eb9(0x6bc)](_0x2a5e20);if(!_0x270f5b)return;const _0x640e31=_0x270f5b[_0x867eb9(0x6c7)](),_0x48fdab=this[_0x867eb9(0x5fb)]['getRank']();_0x48fdab&&_0x640e31&&_0x640e31<_0x48fdab&&this[_0x867eb9(0x5fb)][_0x867eb9(0x247)](_0x48fdab-0x1,!0x1),Array[_0x867eb9(0x5e2)](this[_0x867eb9(0x76c)]['getRemoteNodes']()[_0x867eb9(0x4e3)]())[_0x867eb9(0x710)](_0x49e357=>{const _0x5ea1fe=_0x867eb9,_0x46189d=_0x49e357[_0x5ea1fe(0x6c7)]();_0x46189d&&_0x640e31&&_0x640e31<_0x46189d&&_0x49e357[_0x5ea1fe(0x247)](_0x46189d-0x1);}),_0x270f5b[_0x867eb9(0x856)](_0x9fd987[_0x867eb9(0x50d)]),this[_0x867eb9(0x3f6)][_0x867eb9(0x5a9)]['notifyCluster'](_0x270f5b[_0x867eb9(0x72a)]+_0x867eb9(0x874),{'id':_0x2a5e20});}[_0x5dd398(0x3cc)]({id:_0x22c25c,metaData:_0x495d0f,remoteConnections:_0x31a3ff}){const _0x105219=_0x5dd398;switch(_0x495d0f[_0x105219(0x72a)]){case _0x47065f['NodeType'][_0x105219(0x749)]:this[_0x105219(0x3f6)]['mediator'][_0x105219(0x770)](_0x105219(0x39f),{'id':_0x22c25c,'metaData':_0x495d0f,'remoteConnections':_0x31a3ff});break;case _0x47065f['NodeType'][_0x105219(0x586)]:this[_0x105219(0x3f6)]['mediator'][_0x105219(0x770)]('agent-join',{'id':_0x22c25c,'metaData':_0x495d0f,'remoteConnections':_0x31a3ff});}}[_0x5dd398(0x74f)]({id:_0x366e42,metaData:_0x3689ee,remoteConnections:_0x3c1aa3}){const _0x579aab=_0x5dd398;switch(_0x3689ee[_0x579aab(0x72a)]){case _0x47065f['NodeType'][_0x579aab(0x749)]:this[_0x579aab(0x3f6)][_0x579aab(0x5a9)]['notifyCluster'](_0x579aab(0x681),{'id':_0x366e42,'metaData':_0x3689ee,'remoteConnections':_0x3c1aa3});break;case _0x47065f['NodeType'][_0x579aab(0x586)]:this['configs'][_0x579aab(0x5a9)][_0x579aab(0x770)](_0x579aab(0x4ca),{'id':_0x366e42,'metaData':_0x3689ee,'remoteConnections':_0x3c1aa3});}}[_0x5dd398(0x32f)](){const _0x1a731f=_0x5dd398;if(this['lastProcessRank']||(this['lastProcessRank']=Date['now']()),this[_0x1a731f(0x2f7)]){if(Date[_0x1a731f(0x4bb)]()-this[_0x1a731f(0x42d)]>0x2328)return;clearTimeout(this[_0x1a731f(0x2f7)]);}this['debounceProcessRank']=setTimeout(async()=>{const _0x30bb46=_0x1a731f;delete this[_0x30bb46(0x42d)],delete this[_0x30bb46(0x2f7)];const _0x4a6f3c=this['localNode'][_0x30bb46(0x6c7)]();if(!_0x4a6f3c)return;const _0x27a293=this[_0x30bb46(0x76c)][_0x30bb46(0x7e7)](this[_0x30bb46(0x76c)][_0x30bb46(0x385)]()[_0x30bb46(0x3ee)]);if(this['optimizationLayers'][_0x30bb46(0x3ee)]>=_0x27a293)return;let _0x53f5f3=0x1;for(;this[_0x30bb46(0x3f6)][_0x30bb46(0x5a9)][_0x30bb46(0x2fd)]()[_0x30bb46(0x5f4)]<this[_0x30bb46(0x76c)]['getMaxConnections']()&&_0x53f5f3<=_0x27a293;){if(this[_0x30bb46(0x7d8)][_0x30bb46(0x2d4)](_0x53f5f3)){_0x53f5f3+=0x1;continue;}const _0x3dafc8=this[_0x30bb46(0x76c)][_0x30bb46(0x3cf)](_0x4a6f3c,_0x53f5f3),_0x1a9993=Array[_0x30bb46(0x5e2)](this[_0x30bb46(0x76c)][_0x30bb46(0x385)]()[_0x30bb46(0x4e3)]())[_0x30bb46(0x33c)](_0x50c072=>_0x50c072[_0x30bb46(0x6c7)]()===_0x3dafc8&&_0x50c072[_0x30bb46(0x660)]()===_0x9fd987['Online']);if(_0x1a9993){try{await this[_0x30bb46(0x3f6)][_0x30bb46(0x5a9)][_0x30bb46(0x3b4)](_0x1a9993['getId'](),_0x519608[_0x30bb46(0x4a7)]),this[_0x30bb46(0x7d8)][_0x30bb46(0x549)](_0x53f5f3,_0x1a9993[_0x30bb46(0x330)]());}catch(_0x44a8bd){if(!(_0x44a8bd instanceof _0x189e7c&&_0x44a8bd[_0x30bb46(0x4fe)]===_0x189e7c[_0x30bb46(0x32a)][_0x30bb46(0x2b6)]))throw _0x44a8bd;_0x52f76b[_0x30bb46(0x20d)](_0x4f3b4c[_0x30bb46(0x40c)],this[_0x30bb46(0x5fb)][_0x30bb46(0x330)](),_0x1a9993[_0x30bb46(0x330)](),_0x44a8bd[_0x30bb46(0x3b2)]);}_0x53f5f3+=0x1;}else _0x53f5f3+=0x1;}},0x3e8);}async[_0x5dd398(0x644)](_0x43bb04){const _0x55b2f8=_0x5dd398;this[_0x55b2f8(0x508)][_0x55b2f8(0x65a)](this[_0x55b2f8(0x508)][_0x55b2f8(0x857)](_0x43bb04),0x1);const _0x2accba=await this[_0x55b2f8(0x20c)][_0x55b2f8(0x53d)]();for(const _0xa2f59c of _0x2accba)if(!this['ancestors']['includes'](_0xa2f59c)){const _0x925299=Array['from'](this[_0x55b2f8(0x7d8)][_0x55b2f8(0x805)]())[_0x55b2f8(0x33c)](([,_0x575bba])=>_0x575bba===_0xa2f59c);_0x925299&&this[_0x55b2f8(0x7d8)]['delete'](_0x925299[0x0]),this[_0x55b2f8(0x3f6)]['mediator'][_0x55b2f8(0x3b4)](_0xa2f59c,_0x519608[_0x55b2f8(0x2b4)]);}0x0===_0x2accba['length']&&this[_0x55b2f8(0x5fb)][_0x55b2f8(0x247)](0x1),this[_0x55b2f8(0x508)]=_0x2accba;}async['manageOptimization'](_0x22bec5){const _0x1f71e9=_0x5dd398,_0x401061=this[_0x1f71e9(0x5fb)][_0x1f71e9(0x6c7)]();if(!_0x401061)return;const _0x14d2ca=this[_0x1f71e9(0x76c)][_0x1f71e9(0x6bc)](_0x22bec5);if(!_0x14d2ca||_0x14d2ca[_0x1f71e9(0x660)]()===_0x9fd987['Offline'])return;const _0x102388=_0x14d2ca[_0x1f71e9(0x6c7)]();if(!_0x102388||_0x102388<_0x401061)return;const _0x5bf73e=this[_0x1f71e9(0x82f)](this['localNode']['getRemoteConnections'](),_0x401061),_0x94ec9d=this[_0x1f71e9(0x82f)](_0x14d2ca[_0x1f71e9(0x213)](),_0x102388)[_0x5bf73e[_0x1f71e9(0x6ec)](([_0x580ac1])=>_0x580ac1===_0x22bec5)];if(!_0x94ec9d||this[_0x1f71e9(0x5fb)]['getRemoteConnections']()['has'](_0x94ec9d[0x0]))return;const _0x22d8be=this['graphService'][_0x1f71e9(0x6bc)](_0x94ec9d[0x0]);if(_0x22d8be&&_0x22d8be[_0x1f71e9(0x660)]()!==_0x9fd987[_0x1f71e9(0x50d)])try{await this['configs'][_0x1f71e9(0x5a9)][_0x1f71e9(0x3b4)](_0x94ec9d[0x0],_0x519608['Optimization']);const _0x3455c3=Array[_0x1f71e9(0x5e2)](this[_0x1f71e9(0x7d8)][_0x1f71e9(0x805)]())[_0x1f71e9(0x33c)](([,_0x58c0d2])=>_0x58c0d2===_0x22bec5);_0x3455c3&&this['optimizationLayers'][_0x1f71e9(0x549)](_0x3455c3[0x0],_0x94ec9d[0x0]);}catch(_0x5c4c10){if(!(_0x5c4c10 instanceof _0x189e7c&&_0x5c4c10[_0x1f71e9(0x4fe)]===_0x189e7c[_0x1f71e9(0x32a)][_0x1f71e9(0x2b6)]))throw _0x5c4c10;_0x52f76b[_0x1f71e9(0x20d)](_0x4f3b4c[_0x1f71e9(0x40c)],this['localNode']['getId'](),_0x94ec9d[0x0],_0x5c4c10['message']);}}['getOutgoingOptimizationConnections'](_0x32c36a,_0x530c65){const _0x25c926=_0x5dd398;return Array[_0x25c926(0x5e2)](_0x32c36a)[_0x25c926(0x1c3)]((_0x13022b,_0x5a3eed)=>{const _0x278ff1=_0x25c926,_0x49c9a7=this[_0x278ff1(0x76c)]['getRemoteNode'](_0x5a3eed);if(!_0x49c9a7||_0x49c9a7[_0x278ff1(0x660)]()===_0x9fd987['Offline'])return _0x13022b;const _0x341910=_0x49c9a7[_0x278ff1(0x6c7)]();if(!_0x341910)return _0x13022b;const _0x59275c=_0x341910-_0x530c65;return _0x59275c<=this[_0x278ff1(0x76c)][_0x278ff1(0x522)]()||_0x13022b[_0x278ff1(0x28d)]([_0x5a3eed,_0x59275c]),_0x13022b;},[])[_0x25c926(0x615)](([,_0x3dac16],[,_0x45109a])=>_0x3dac16-_0x45109a);}}const _0x167e72=[{'problemType':_0x3a30f3['CPUCycle'],'remediations':[{'type':_0x4a6ae2[_0x5dd398(0x817)],'component':_0x2ff4e6[_0x5dd398(0x4a2)],'action':_0x2219c8[_0x5dd398(0x6a8)]},{'type':_0x4a6ae2[_0x5dd398(0x470)],'component':_0x2ff4e6['Resolution'],'action':_0x2219c8[_0x5dd398(0x6a8)]}]},{'problemType':_0x3a30f3[_0x5dd398(0x753)],'remediations':[{'type':_0x4a6ae2[_0x5dd398(0x817)],'component':_0x2ff4e6[_0x5dd398(0x4a2)],'action':_0x2219c8['Downgrade']}]},{'problemType':_0x3a30f3['AudioVideoDelay'],'remediations':[{'type':_0x4a6ae2[_0x5dd398(0x817)],'component':_0x2ff4e6['Resolution'],'action':_0x2219c8[_0x5dd398(0x6a8)]}]},{'problemType':_0x3a30f3[_0x5dd398(0x38b)],'remediations':[{'type':_0x4a6ae2['Remediation'],'component':_0x2ff4e6[_0x5dd398(0x4a2)],'action':_0x2219c8[_0x5dd398(0x6a8)]}]},{'problemType':_0x3a30f3[_0x5dd398(0x531)],'remediations':[{'type':_0x4a6ae2[_0x5dd398(0x817)],'component':_0x2ff4e6[_0x5dd398(0x531)],'action':_0x2219c8['Downgrade']}]},{'problemType':_0x3a30f3[_0x5dd398(0x4c6)],'remediations':[{'type':_0x4a6ae2[_0x5dd398(0x817)],'component':_0x2ff4e6[_0x5dd398(0x531)],'action':_0x2219c8[_0x5dd398(0x6a8)]}]},{'problemType':_0x3a30f3[_0x5dd398(0x789)],'remediations':[{'type':_0x4a6ae2[_0x5dd398(0x817)],'component':_0x2ff4e6[_0x5dd398(0x531)],'action':_0x2219c8['Downgrade']}]}];class _0x269635{['configs'];['systemTopic'];[_0x5dd398(0x5ab)]=new Map();constructor(_0x433b5){const _0x1117f5=_0x5dd398;this['configs']=_0x433b5,this['configs'][_0x1117f5(0x5a9)][_0x1117f5(0x7ba)](this);}[_0x5dd398(0x362)](){const _0x2fc38b=_0x5dd398;this[_0x2fc38b(0x3f6)][_0x2fc38b(0x5a9)][_0x2fc38b(0x536)](this);}['registerSystemPublisher'](_0x340867){this['systemTopic']=_0x340867;}[_0x5dd398(0x7d9)](){const _0x3a9b5f=_0x5dd398;delete this[_0x3a9b5f(0x7fa)];}[_0x5dd398(0x670)](_0x2a5d38){const _0x506a67=_0x5dd398;_0x2a5d38['content'][_0x506a67(0x72a)]===_0x2c395b[_0x506a67(0x5e7)]&&this['handleProblem'](_0x2a5d38[_0x506a67(0x69a)][_0x506a67(0x46f)]);}[_0x5dd398(0x495)](_0x479284){const _0x483ccc=_0x5dd398;_0x479284[_0x483ccc(0x69a)][_0x483ccc(0x72a)]===_0x4a6ae2[_0x483ccc(0x470)]&&this[_0x483ccc(0x717)](_0x479284['sourceId'],{'type':_0x4a6ae2[_0x483ccc(0x817)],'component':_0x479284[_0x483ccc(0x69a)]['data'][_0x483ccc(0x3a9)],'action':_0x479284['content'][_0x483ccc(0x46f)][_0x483ccc(0x4c1)]});}[_0x5dd398(0x32b)](_0x59b55b){const _0x441eb8=_0x5dd398,_0x19050b=_0x167e72[_0x441eb8(0x33c)](_0x391a57=>_0x391a57[_0x441eb8(0x7c4)]===_0x59b55b[_0x441eb8(0x72a)]);_0x19050b[_0x441eb8(0x47d)]?.['forEach'](_0x19bce7=>{const _0x4150ed=_0x441eb8;this[_0x4150ed(0x717)](_0x59b55b[_0x4150ed(0x6e5)],{'type':_0x59b55b['origin']===_0x4d5e61[_0x4150ed(0x6cb)]?_0x4a6ae2[_0x4150ed(0x817)]:_0x4a6ae2['RemoteRemediation'],'component':_0x19bce7[_0x4150ed(0x3a9)],'action':_0x19bce7[_0x4150ed(0x4c1)]});});}['applyRemediation'](_0x1d4aed,_0x54ed1e){const _0x2ac50a=_0x5dd398;if(_0x54ed1e[_0x2ac50a(0x72a)]===_0x4a6ae2[_0x2ac50a(0x817)]){const _0x4bec35=Date[_0x2ac50a(0x4bb)](),_0x335694=this[_0x2ac50a(0x5ab)][_0x2ac50a(0x7ef)](_0x1d4aed);if(_0x335694&&_0x4bec35-_0x335694<0x1388)return;this[_0x2ac50a(0x5ab)][_0x2ac50a(0x549)](_0x1d4aed,_0x4bec35);}_0x52f76b[_0x2ac50a(0x20d)](_0x4f3b4c[_0x2ac50a(0x817)],_0x2ac50a(0x83e),_0x54ed1e),_0x52f76b[_0x2ac50a(0x79a)](_0x2ac50a(0x55a),{'clusterId':this[_0x2ac50a(0x3f6)][_0x2ac50a(0x1ff)],'nodeId':this[_0x2ac50a(0x3f6)][_0x2ac50a(0x5fb)][_0x2ac50a(0x330)](),'nodeType':this[_0x2ac50a(0x3f6)]['localNode']['type'],'remoteId':_0x1d4aed,'data':{'type':_0x54ed1e[_0x2ac50a(0x72a)],'component':_0x54ed1e['component'],'action':_0x54ed1e['action']}});let _0x1910ff,_0x4222c3=_0x384096;_0x54ed1e[_0x2ac50a(0x72a)]===_0x4a6ae2[_0x2ac50a(0x470)]&&(_0x4222c3=this['configs'][_0x2ac50a(0x5fb)][_0x2ac50a(0x330)](),_0x1910ff=[_0x1d4aed]),this[_0x2ac50a(0x7fa)]['publish']({'sourceId':_0x4222c3,'destinationIds':_0x1910ff,'messageType':_0x3efa6a['Remediation'],'content':{'type':_0x54ed1e['type'],'targetId':_0x1d4aed,'data':_0x54ed1e}});}}const _0x20cbe8=0x3e8,_0x450378=0x7530,_0x59bef5=_0x5dd398(0x728),_0x45ee62=_0x5dd398(0x33d),_0x1bd8a6=_0x5dd398(0x6e0),_0xb486c2=[_0x59bef5,_0x45ee62],_0x154460=[_0x1bd8a6];class _0x95b0e0{[_0x5dd398(0x572)]=0x0;['estimatedPlayoutTimestamp']=0x0;[_0x5dd398(0x26a)]=0x0;[_0x5dd398(0x5c1)]=0x0;['packets']=0x0;[_0x5dd398(0x5ce)]=0x0;[_0x5dd398(0x86d)]=0x0;[_0x5dd398(0x41f)]=0x0;[_0x5dd398(0x2dc)]=0x0;get[_0x5dd398(0x66f)](){const _0xcc683e=_0x5dd398;return this['currentTimestamp']>0x0&&this[_0xcc683e(0x86d)]>0x0&&Date[_0xcc683e(0x4bb)]()-this['currentTimestamp']<_0x450378?(this[_0xcc683e(0x41f)]-this[_0xcc683e(0x2dc)])/(this[_0xcc683e(0x5ce)]-this[_0xcc683e(0x86d)])*0x8*0x3e8:0x0;}[_0x5dd398(0x303)](_0x84e7d1){const _0x2d8a83=_0x5dd398;switch(_0x84e7d1[_0x2d8a83(0x72a)]){case _0x1bd8a6:this[_0x2d8a83(0x273)](_0x84e7d1);break;case _0x59bef5:this[_0x2d8a83(0x2db)](_0x84e7d1);break;case _0x45ee62:this[_0x2d8a83(0x721)](_0x84e7d1);}}['getReport'](){const _0xe1d7cf=_0x5dd398;return{'bitrate':this[_0xe1d7cf(0x66f)],'packetsLostPerc':this[_0xe1d7cf(0x643)](),'roundTripTime':this[_0xe1d7cf(0x572)],'jitter':this[_0xe1d7cf(0x26a)]};}[_0x5dd398(0x273)](_0xef6dab){const _0x4efd83=_0x5dd398;this[_0x4efd83(0x633)](_0xef6dab[_0x4efd83(0x845)]),this[_0x4efd83(0x6ad)](_0xef6dab[_0x4efd83(0x426)]),this['packets']=_0xef6dab[_0x4efd83(0x607)],this[_0x4efd83(0x5c1)]=_0xef6dab[_0x4efd83(0x5c1)],void 0x0!==_0xef6dab[_0x4efd83(0x26a)]?this['jitter']=_0xef6dab[_0x4efd83(0x26a)]:this[_0x4efd83(0x26a)]=0x0,void 0x0!==_0xef6dab['estimatedPlayoutTimestamp']?this[_0x4efd83(0x875)]=_0xef6dab[_0x4efd83(0x875)]:this[_0x4efd83(0x875)]=0x0;}[_0x5dd398(0x2db)](_0x2e4203){const _0x255667=_0x5dd398;this[_0x255667(0x633)](_0x2e4203['bytesSent']),this['setTimestamp'](_0x2e4203[_0x255667(0x426)]),this['packets']=_0x2e4203[_0x255667(0x5df)];}['processRemoteInboundReport'](_0x3c247c){const _0x50e5b3=_0x5dd398;this[_0x50e5b3(0x572)]=0x3e8*_0x3c247c[_0x50e5b3(0x572)],void 0x0!==_0x3c247c[_0x50e5b3(0x26a)]?this[_0x50e5b3(0x26a)]=_0x3c247c['jitter']:this['jitter']=0x0;}[_0x5dd398(0x643)](){const _0x5470dd=_0x5dd398;return this[_0x5470dd(0x31b)]>0x0?this['packetsLost']/this[_0x5470dd(0x31b)]:0x0;}['setTimestamp'](_0x3ab7ab){const _0x17c02a=_0x5dd398;_0x3ab7ab>this['currentTimestamp']&&(this[_0x17c02a(0x86d)]=this[_0x17c02a(0x5ce)],this[_0x17c02a(0x5ce)]=_0x3ab7ab);}[_0x5dd398(0x633)](_0xd15b2c){this['previousBytes']=this['currentBytes'],this['currentBytes']=_0xd15b2c;}}class _0x21cb1e extends _0x95b0e0{}class _0x161cea extends _0x95b0e0{['frameTime']=0x0;[_0x5dd398(0x756)]=0x0;['frameHeight']=0x0;['currentFrames']=0x0;[_0x5dd398(0x71e)]=0x0;get[_0x5dd398(0x63d)](){const _0x4b535c=_0x5dd398;return this[_0x4b535c(0x5ce)]>0x0&&this[_0x4b535c(0x86d)]>0x0&&Date[_0x4b535c(0x4bb)]()-this[_0x4b535c(0x5ce)]<_0x450378?(this[_0x4b535c(0x46d)]-this[_0x4b535c(0x71e)])/(this[_0x4b535c(0x5ce)]-this[_0x4b535c(0x86d)])*0x3e8:0x0;}get[_0x5dd398(0x358)](){const _0x3e16cf=_0x5dd398;return this[_0x3e16cf(0x425)]&&this[_0x3e16cf(0x46d)]&&this[_0x3e16cf(0x46d)]>0x0?this[_0x3e16cf(0x425)]/this['currentFrames']:0x0;}set['frames'](_0x437d74){const _0x58399c=_0x5dd398;this[_0x58399c(0x71e)]=this[_0x58399c(0x46d)],this[_0x58399c(0x46d)]=_0x437d74;}['getReport'](){const _0x3366b8=_0x5dd398;return{...super[_0x3366b8(0x59f)](),'FPS':this['fps'],'timePerFrame':this['timePerFrame'],'frameWidth':this['frameWidth'],'frameHeight':this[_0x3366b8(0x577)]};}[_0x5dd398(0x273)](_0x311066){const _0x119106=_0x5dd398;super[_0x119106(0x273)](_0x311066),this[_0x119106(0x425)]=_0x311066['totalDecodeTime'],this['frames']=_0x311066['framesDecoded'],this[_0x119106(0x756)]=_0x311066[_0x119106(0x756)],this[_0x119106(0x577)]=_0x311066[_0x119106(0x577)];}[_0x5dd398(0x2db)](_0x4dcc61){const _0x201ab3=_0x5dd398;super[_0x201ab3(0x2db)](_0x4dcc61),this['frameTime']=_0x4dcc61[_0x201ab3(0x453)],this[_0x201ab3(0x704)]=_0x4dcc61[_0x201ab3(0x642)],this[_0x201ab3(0x756)]=_0x4dcc61[_0x201ab3(0x756)],this[_0x201ab3(0x577)]=_0x4dcc61[_0x201ab3(0x577)];}}class _0x2e68f0{['audio']=new _0x21cb1e();[_0x5dd398(0x51f)]=new _0x161cea();get[_0x5dd398(0x66f)](){const _0x14463e=_0x5dd398;return this[_0x14463e(0x3aa)]['bitrate']+this['video'][_0x14463e(0x66f)];}[_0x5dd398(0x4ef)](_0x47dc30){const _0x27cc12=_0x5dd398;return _0x47dc30[_0x27cc12(0x710)](_0x1b7e69=>{const _0x2c5635=_0x27cc12;switch(_0x1b7e69[_0x2c5635(0x806)]){case _0x2c5635(0x3aa):this[_0x2c5635(0x3aa)]['processReport'](_0x1b7e69);break;case'video':this[_0x2c5635(0x51f)][_0x2c5635(0x303)](_0x1b7e69);}}),this[_0x27cc12(0x59f)]();}[_0x5dd398(0x59f)](){const _0x5d0b0b=_0x5dd398;return{'audio':this[_0x5d0b0b(0x3aa)]['getReport'](),'video':this[_0x5d0b0b(0x51f)][_0x5d0b0b(0x59f)](),'roundTripTime':this['getRoundTripTime'](),'AudioVideoDelay':this['getAudioVideoDelay'](),'bitrate':this['bitrate']};}[_0x5dd398(0x683)](){const _0x33cef6=_0x5dd398;return Math[_0x33cef6(0x532)]((this[_0x33cef6(0x3aa)][_0x33cef6(0x572)]+this[_0x33cef6(0x51f)]['roundTripTime'])/0x2);}[_0x5dd398(0x5d1)](){const _0x38f278=_0x5dd398;return this[_0x38f278(0x3aa)][_0x38f278(0x875)]-this[_0x38f278(0x51f)]['estimatedPlayoutTimestamp'];}}class _0x1f11eb{[_0x5dd398(0x5c3)]=0x0;[_0x5dd398(0x834)]=0x0;[_0x5dd398(0x741)]=0x0;[_0x5dd398(0x6c9)]=0x0;[_0x5dd398(0x24f)]=0x0;['senderPreviousBytes']=0x0;['receiverCurrentBytes']=0x0;[_0x5dd398(0x2fa)]=0x0;['senderTotalMessages']=0x0;[_0x5dd398(0x391)]=0x0;[_0x5dd398(0x736)]=0x0;[_0x5dd398(0x1d4)]=0x0;[_0x5dd398(0x572)]=0x0;get[_0x5dd398(0x66f)](){const _0x1a2815=_0x5dd398;return this[_0x1a2815(0x38e)]+this['receiverBitrate'];}get[_0x5dd398(0x38e)](){const _0x5d759d=_0x5dd398;return this[_0x5d759d(0x5c3)]>0x0&&this['senderPreviousTimestamp']>0x0&&Date[_0x5d759d(0x4bb)]()-this[_0x5d759d(0x5c3)]<_0x450378?(this['senderCurrentBytes']-this[_0x5d759d(0x776)])/(this[_0x5d759d(0x5c3)]-this[_0x5d759d(0x834)])*0x8*0x3e8:0x0;}get[_0x5dd398(0x4b1)](){const _0xd08b27=_0x5dd398;return this[_0xd08b27(0x741)]>0x0&&this[_0xd08b27(0x6c9)]>0x0&&Date[_0xd08b27(0x4bb)]()-this[_0xd08b27(0x741)]<_0x450378?(this[_0xd08b27(0x6de)]-this[_0xd08b27(0x2fa)])/(this[_0xd08b27(0x741)]-this[_0xd08b27(0x6c9)])*0x8*0x3e8:0x0;}[_0x5dd398(0x303)](_0x160a50){const _0x3c458b=_0x5dd398;switch(_0x160a50[_0x3c458b(0x44b)]){case _0x4d5e61[_0x3c458b(0x6cb)]:this[_0x3c458b(0x72f)](_0x160a50);break;case _0x4d5e61[_0x3c458b(0x4d5)]:this[_0x3c458b(0x352)](_0x160a50);}}[_0x5dd398(0x59f)](){const _0x4d5990=_0x5dd398;return{'bitrate':this[_0x4d5990(0x66f)],'senderBitrate':this[_0x4d5990(0x38e)],'receiverBitrate':this['receiverBitrate'],'totalBytes':this[_0x4d5990(0x457)](),'senderTotalBytes':this[_0x4d5990(0x1c0)](),'receiverTotalBytes':this[_0x4d5990(0x516)](),'totalMessages':this['senderTotalMessages']+this['receiverTotalMessages'],'senderTotalMessages':this['senderTotalMessages'],'receiverTotalMessages':this['receiverTotalMessages'],'timeProcessing':this[_0x4d5990(0x736)]+this['receiverTimeProcessing'],'senderTimeProcessing':this[_0x4d5990(0x736)],'receiverTimeProcessing':this[_0x4d5990(0x1d4)],'roundTripTime':this['roundTripTime']};}[_0x5dd398(0x457)](){const _0x2eb08c=_0x5dd398;return this[_0x2eb08c(0x24f)]+this[_0x2eb08c(0x6de)];}[_0x5dd398(0x1c0)](){const _0x59e6f7=_0x5dd398;return this[_0x59e6f7(0x24f)];}[_0x5dd398(0x516)](){const _0x12614c=_0x5dd398;return this[_0x12614c(0x6de)];}[_0x5dd398(0x72f)](_0x2b3171){const _0x4d0b84=_0x5dd398;this[_0x4d0b84(0x7cf)](_0x2b3171[_0x4d0b84(0x426)]),this[_0x4d0b84(0x633)](_0x2b3171[_0x4d0b84(0x83b)]),this['senderTotalMessages']=_0x2b3171[_0x4d0b84(0x355)],this['senderTimeProcessing']=_0x2b3171[_0x4d0b84(0x7b6)],this[_0x4d0b84(0x572)]=_0x2b3171['roundTripTime'];}[_0x5dd398(0x352)](_0x4994b7){const _0x9308c8=_0x5dd398;this[_0x9308c8(0x68a)](_0x4994b7[_0x9308c8(0x426)]),this[_0x9308c8(0x1c8)](_0x4994b7[_0x9308c8(0x845)]),this['receiverTotalMessages']=_0x4994b7[_0x9308c8(0x513)],this[_0x9308c8(0x1d4)]=_0x4994b7[_0x9308c8(0x4d1)];}['setSenderTimestamp'](_0x10cc15){const _0x465196=_0x5dd398;_0x10cc15>this['senderCurrentTimestamp']&&(this[_0x465196(0x834)]=this[_0x465196(0x5c3)],this[_0x465196(0x5c3)]=_0x10cc15);}[_0x5dd398(0x68a)](_0xc87037){const _0x38ae98=_0x5dd398;_0xc87037>this['receiverCurrentTimestamp']&&(this[_0x38ae98(0x6c9)]=this['receiverCurrentTimestamp'],this[_0x38ae98(0x741)]=_0xc87037);}[_0x5dd398(0x633)](_0x2b3f5c){const _0x51ed20=_0x5dd398;this[_0x51ed20(0x776)]=this[_0x51ed20(0x24f)],this['senderCurrentBytes']=_0x2b3f5c;}[_0x5dd398(0x1c8)](_0x453dae){this['receiverPreviousBytes']=this['receiverCurrentBytes'],this['receiverCurrentBytes']=_0x453dae;}}class _0x2fe04c{['senderStreams']=new Map();[_0x5dd398(0x807)]=new Map();['dataChannel']=new _0x1f11eb();get[_0x5dd398(0x38e)](){const _0x47f4ef=_0x5dd398;let _0x82b36=0x0;return this[_0x47f4ef(0x1d0)][_0x47f4ef(0x710)](_0x5b6712=>{const _0x298b79=_0x47f4ef;_0x82b36+=_0x5b6712[_0x298b79(0x66f)];}),_0x82b36+=this[_0x47f4ef(0x344)]['senderBitrate'],_0x82b36;}get['receiverBitrate'](){const _0x23d272=_0x5dd398;let _0x1eb403=0x0;return this[_0x23d272(0x807)][_0x23d272(0x710)](_0x1400e7=>{const _0x1f5d99=_0x23d272;_0x1eb403+=_0x1400e7[_0x1f5d99(0x66f)];}),_0x1eb403+=this[_0x23d272(0x344)][_0x23d272(0x4b1)],_0x1eb403;}get['bitrate'](){const _0x38c19c=_0x5dd398;return this[_0x38c19c(0x38e)]+this['receiverBitrate'];}[_0x5dd398(0x4ef)](_0x3984b6,_0x386d0c){const _0x5c31fa=_0x5dd398,_0x26bd11=[],_0x2d493c=[];return _0x3984b6 instanceof Array?_0x3984b6[_0x5c31fa(0x710)](_0x55d54c=>{_0x55d54c['forEach'](_0xcc3c66=>{const _0x53404e=a0_0x553c;_0x154460[_0x53404e(0x30f)](_0xcc3c66[_0x53404e(0x72a)])&&_0x26bd11[_0x53404e(0x28d)](_0xcc3c66),_0xb486c2[_0x53404e(0x30f)](_0xcc3c66[_0x53404e(0x72a)])&&_0x2d493c['push'](_0xcc3c66);});}):this[_0x5c31fa(0x344)][_0x5c31fa(0x303)](_0x3984b6),_0x26bd11[_0x5c31fa(0x5f4)]>0x0&&_0x386d0c?{...this[_0x5c31fa(0x584)](_0x386d0c,_0x26bd11),'origin':_0x4d5e61[_0x5c31fa(0x4d5)],'streamId':_0x386d0c}:_0x2d493c[_0x5c31fa(0x5f4)]>0x0&&_0x386d0c?{...this['processOutboundReports'](_0x386d0c,_0x2d493c),'origin':_0x4d5e61[_0x5c31fa(0x6cb)],'streamId':_0x386d0c}:void 0x0;}[_0x5dd398(0x59f)](){const _0x3da21e=_0x5dd398,_0x2c5092={};this[_0x3da21e(0x1d0)][_0x3da21e(0x710)]((_0x2083c7,_0x1f4ab8)=>{const _0x5c15ef=_0x3da21e;_0x2c5092[_0x1f4ab8]=_0x2083c7[_0x5c15ef(0x59f)]();});const _0x3e2a56={};return this[_0x3da21e(0x807)][_0x3da21e(0x710)]((_0x33ab27,_0x2b52c0)=>{const _0x4c7613=_0x3da21e;_0x3e2a56[_0x2b52c0]=_0x33ab27[_0x4c7613(0x59f)]();}),{'bitrate':this[_0x3da21e(0x66f)],'senderBitrate':this[_0x3da21e(0x38e)],'receiverBitrate':this[_0x3da21e(0x4b1)],'senderStreams':_0x2c5092,'receiverStreams':_0x3e2a56,'dataChannel':this['dataChannel'][_0x3da21e(0x59f)]()};}[_0x5dd398(0x584)](_0x2bfa52,_0x5776cf){const _0x1ce008=_0x5dd398;return this[_0x1ce008(0x807)][_0x1ce008(0x2d4)](_0x2bfa52)||this[_0x1ce008(0x807)][_0x1ce008(0x549)](_0x2bfa52,new _0x2e68f0()),this[_0x1ce008(0x807)][_0x1ce008(0x7ef)](_0x2bfa52)[_0x1ce008(0x4ef)](_0x5776cf);}['processOutboundReports'](_0x17271b,_0x1ef200){const _0x400f33=_0x5dd398;return this[_0x400f33(0x1d0)][_0x400f33(0x2d4)](_0x17271b)||this[_0x400f33(0x1d0)]['set'](_0x17271b,new _0x2e68f0()),this[_0x400f33(0x1d0)][_0x400f33(0x7ef)](_0x17271b)['processReports'](_0x1ef200);}}class _0x202083{[_0x5dd398(0x225)]=new Map();[_0x5dd398(0x5ef)]=0x0;[_0x5dd398(0x20f)]=0x0;['pubsubTopics']=new Map();['objectStores']=new Map();[_0x5dd398(0x27b)]=new Map();[_0x5dd398(0x3ec)]=new Map();[_0x5dd398(0x46c)]=new Map();[_0x5dd398(0x853)]=new Map();[_0x5dd398(0x391)]=new Map();['senderTimeProcessing']=new Map();[_0x5dd398(0x1d4)]=new Map();[_0x5dd398(0x869)]=new Map();[_0x5dd398(0x7fa)];[_0x5dd398(0x59f)](){const _0x4fa8a5=_0x5dd398,_0xf658d5={};this[_0x4fa8a5(0x225)][_0x4fa8a5(0x710)]((_0x62c249,_0x2cc7f0)=>{const _0x43b263=_0x4fa8a5;_0xf658d5[_0x2cc7f0]=_0x62c249[_0x43b263(0x59f)]();});let _0x2c001f=0x0;this[_0x4fa8a5(0x736)][_0x4fa8a5(0x710)](_0x52fbf2=>{_0x2c001f+=_0x52fbf2;});let _0x1637ca=0x0;this[_0x4fa8a5(0x1d4)]['forEach'](_0x2ff458=>{_0x1637ca+=_0x2ff458;});const _0x1d8929=_0x2c001f+_0x1637ca;let _0x123214={'messages':{'total':0x0}};this['systemMessages']['forEach'](_0x68999=>{const _0x2dbc01=_0x4fa8a5;Object[_0x2dbc01(0x1f0)](_0x68999)[_0x2dbc01(0x710)](_0x536492=>{const _0x5a8d80=_0x2dbc01;_0x123214[_0x536492]||(_0x123214[_0x536492]={}),Object[_0x5a8d80(0x1f0)](_0x68999[_0x536492])[_0x5a8d80(0x710)](_0x385801=>{_0x123214[_0x536492][_0x385801]||(_0x123214[_0x536492][_0x385801]=0x0),_0x123214[_0x536492][_0x385801]+=_0x68999[_0x536492][_0x385801];});});});let _0x3498e3=0x0,_0x55afd0=0x0,_0x12291b=0x0,_0x11e459=0x0,_0x515ed2=0x0;return this['pubsubTopics']['forEach'](_0x1b4067=>{const _0x158390=_0x4fa8a5;_0x55afd0+=_0x1b4067[_0x158390(0x355)],_0x12291b+=_0x1b4067[_0x158390(0x513)],_0x11e459+=_0x1b4067[_0x158390(0x83b)],_0x515ed2+=_0x1b4067[_0x158390(0x845)];}),this['objectStores'][_0x4fa8a5(0x710)](_0x234cdd=>{const _0x4de826=_0x4fa8a5;_0x3498e3+=_0x234cdd[_0x4de826(0x786)],_0x55afd0+=_0x234cdd[_0x4de826(0x355)],_0x12291b+=_0x234cdd[_0x4de826(0x513)],_0x11e459+=_0x234cdd[_0x4de826(0x83b)],_0x515ed2+=_0x234cdd[_0x4de826(0x845)];}),this['keyValueDatabases'][_0x4fa8a5(0x710)](_0x2d5c03=>{const _0x5112fc=_0x4fa8a5;_0x3498e3+=_0x2d5c03[_0x5112fc(0x786)],_0x55afd0+=_0x2d5c03[_0x5112fc(0x355)],_0x12291b+=_0x2d5c03['messagesReceived'],_0x11e459+=_0x2d5c03[_0x5112fc(0x83b)],_0x515ed2+=_0x2d5c03[_0x5112fc(0x845)];}),this[_0x4fa8a5(0x3ec)]['forEach'](_0x377013=>{const _0x4814be=_0x4fa8a5;_0x3498e3+=_0x377013[_0x4814be(0x786)],_0x55afd0+=_0x377013[_0x4814be(0x355)],_0x12291b+=_0x377013[_0x4814be(0x513)],_0x11e459+=_0x377013['bytesSent'],_0x515ed2+=_0x377013[_0x4814be(0x845)];}),this[_0x4fa8a5(0x46c)][_0x4fa8a5(0x710)](_0x398b25=>{const _0x338f6f=_0x4fa8a5;_0x3498e3+=_0x398b25[_0x338f6f(0x786)],_0x55afd0+=_0x398b25['messagesSent'],_0x12291b+=_0x398b25[_0x338f6f(0x513)],_0x11e459+=_0x398b25[_0x338f6f(0x83b)],_0x515ed2+=_0x398b25[_0x338f6f(0x845)];}),{'STVolatility':this[_0x4fa8a5(0x2f0)](),'DTVolatility':this[_0x4fa8a5(0x79b)](),'bitrate':this[_0x4fa8a5(0x2c8)](),'senderBitrate':this[_0x4fa8a5(0x6e6)](),'receiverBitrate':this[_0x4fa8a5(0x61e)](),'totalStorageSize':_0x3498e3,'totalMessages':_0x55afd0+_0x12291b,'totalMessagesSent':_0x55afd0,'totalMessagesReceived':_0x12291b,'totalBytes':_0x11e459+_0x515ed2,'totalBytesSent':_0x11e459,'totalBytesReceived':_0x515ed2,'systemMessages':_0x123214,'timeProcessing':_0x1d8929,'nodes':_0xf658d5,'pubsubTopics':Object[_0x4fa8a5(0x427)](this[_0x4fa8a5(0x4c3)]),'objectStores':Object['fromEntries'](this[_0x4fa8a5(0x512)]),'keyValueDatabases':Object['fromEntries'](this[_0x4fa8a5(0x27b)]),'generativeAIContexts':Object['fromEntries'](this[_0x4fa8a5(0x3ec)]),'generativeAIWorkers':Object['fromEntries'](this[_0x4fa8a5(0x46c)])};}[_0x5dd398(0x724)](_0x1f6745){const _0x45cba0=_0x5dd398;this['nodes'][_0x45cba0(0x549)](_0x1f6745,new _0x2fe04c());}[_0x5dd398(0x7d0)](_0x36a823){const _0x30a860=_0x5dd398;this['nodes'][_0x30a860(0x2d8)](_0x36a823);}[_0x5dd398(0x4ef)](_0x2447eb,_0x4ddf81,_0x345d2f){const _0x36f0cd=_0x5dd398;_0x4ddf81 instanceof Array||this[_0x36f0cd(0x877)](_0x2447eb,_0x4ddf81);const _0x526b8d=this[_0x36f0cd(0x225)]['get'](_0x2447eb)?.[_0x36f0cd(0x4ef)](_0x4ddf81,_0x345d2f);_0x526b8d&&this['systemTopic']['publish']({'sourceId':_0x384096,'messageType':_0x3efa6a[_0x36f0cd(0x1ca)],'content':{'type':_0x5d15e5[_0x36f0cd(0x836)],'data':{..._0x526b8d,'nodeId':_0x2447eb}}});}[_0x5dd398(0x66c)](_0x54e72c){const _0x351f20=_0x5dd398;this[_0x351f20(0x6f2)](_0x54e72c[_0x351f20(0x230)]),this[_0x351f20(0x85d)](_0x54e72c[_0x351f20(0x20f)]),this['systemTopic'][_0x351f20(0x7b0)]({'sourceId':_0x384096,'messageType':_0x3efa6a[_0x351f20(0x1ca)],'content':{'type':_0x5d15e5[_0x351f20(0x55e)],'data':{'STVolatility':this['getSTVolatility'](),'DTVolatility':this['getDTVolatility']()}}});}['processServiceReport'](_0x188e61,_0x104051,_0x8ecd76){const _0x34d505=_0x5dd398;switch(_0x104051){case _0x47bc97[_0x34d505(0x369)]:this['pubsubTopics']['set'](_0x188e61,_0x8ecd76);break;case _0x47bc97[_0x34d505(0x79c)]:this[_0x34d505(0x512)][_0x34d505(0x549)](_0x188e61,_0x8ecd76);break;case _0x47bc97[_0x34d505(0x439)]:this[_0x34d505(0x27b)]['set'](_0x188e61,_0x8ecd76);break;case _0x47bc97[_0x34d505(0x462)]:this[_0x34d505(0x3ec)][_0x34d505(0x549)](_0x188e61,_0x8ecd76);break;case _0x47bc97[_0x34d505(0x261)]:this[_0x34d505(0x46c)][_0x34d505(0x549)](_0x188e61,_0x8ecd76);}}[_0x5dd398(0x442)](_0x43fa18){const _0x404be7=_0x5dd398;this[_0x404be7(0x7fa)]=_0x43fa18;}['unregisterSystemPublisher'](){const _0x439e8d=_0x5dd398;delete this[_0x439e8d(0x7fa)];}[_0x5dd398(0x2f0)](){const _0x390b41=_0x5dd398;return this[_0x390b41(0x5ef)]>0x0&&this[_0x390b41(0x5ef)]-_0x20cbe8>0x0?(this[_0x390b41(0x5ef)]-_0x20cbe8)/_0x20cbe8:0x0;}[_0x5dd398(0x79b)](){const _0x5a0574=_0x5dd398;return this[_0x5a0574(0x20f)]>0x0&&this[_0x5a0574(0x20f)]-0x64>0x0?(this[_0x5a0574(0x20f)]-0x64)/0x64:0x0;}['getSenderBitrate'](){const _0x421c76=_0x5dd398;let _0x58be58=0x0;return this[_0x421c76(0x225)]['forEach'](_0x29178b=>{const _0xaca568=_0x421c76;_0x58be58+=_0x29178b[_0xaca568(0x38e)];}),_0x58be58;}['getReceiverBitrate'](){const _0x26e265=_0x5dd398;let _0x2e8554=0x0;return this[_0x26e265(0x225)][_0x26e265(0x710)](_0x229f47=>{_0x2e8554+=_0x229f47['receiverBitrate'];}),_0x2e8554;}[_0x5dd398(0x2c8)](){const _0x125645=_0x5dd398;let _0x47432e=0x0;return this[_0x125645(0x225)]['forEach'](_0x5ebb70=>{const _0x364f20=_0x125645;_0x47432e+=_0x5ebb70[_0x364f20(0x66f)];}),_0x47432e;}['setScheduleTime'](_0x4a20d1){const _0x22684c=_0x5dd398;this[_0x22684c(0x5ef)]=_0x4a20d1;}[_0x5dd398(0x85d)](_0x49b5e9){const _0x3bca38=_0x5dd398;this[_0x3bca38(0x20f)]=_0x49b5e9;}['processDataChannelReport'](_0x4aea2b,_0x3b0e98){const _0x482108=_0x5dd398;switch(_0x3b0e98[_0x482108(0x44b)]){case _0x4d5e61['Sender']:this['processSenderReport'](_0x4aea2b,_0x3b0e98);break;case _0x4d5e61['Receiver']:this[_0x482108(0x352)](_0x4aea2b,_0x3b0e98);}}[_0x5dd398(0x72f)](_0x34a613,_0x5d6b1f){const _0x3e4794=_0x5dd398;this[_0x3e4794(0x853)][_0x3e4794(0x549)](_0x34a613,_0x5d6b1f[_0x3e4794(0x355)]),this['senderTimeProcessing'][_0x3e4794(0x549)](_0x34a613,_0x5d6b1f[_0x3e4794(0x7b6)]);}[_0x5dd398(0x352)](_0x462dc6,_0x521192){const _0xd66e87=_0x5dd398;this[_0xd66e87(0x391)][_0xd66e87(0x549)](_0x462dc6,_0x521192[_0xd66e87(0x513)]),this[_0xd66e87(0x1d4)][_0xd66e87(0x549)](_0x462dc6,_0x521192[_0xd66e87(0x4d1)]),this[_0xd66e87(0x869)]['set'](_0x462dc6,_0x521192['systemMessages']);}}class _0x4d6708{[_0x5dd398(0x3f6)];[_0x5dd398(0x347)]=new Set();['nextNodeId'];[_0x5dd398(0x443)];['statsReporting'];[_0x5dd398(0x1e7)]=new _0x202083();constructor(_0xd64cbc){const _0x38f168=_0x5dd398;this[_0x38f168(0x3f6)]=_0xd64cbc,this[_0x38f168(0x3f6)][_0x38f168(0x5a9)][_0x38f168(0x7ba)](this[_0x38f168(0x1e7)]),this[_0x38f168(0x443)]=this['setupStatsCollection'](),this[_0x38f168(0x5b7)]=this[_0x38f168(0x7eb)]();}['close'](){const _0x26b8cc=_0x5dd398;this[_0x26b8cc(0x3f6)]['mediator'][_0x26b8cc(0x536)](this['statsReport']),this[_0x26b8cc(0x5b7)](),this[_0x26b8cc(0x443)]();}[_0x5dd398(0x724)](_0x378f7d){const _0x7eb43=_0x5dd398;this[_0x7eb43(0x347)][_0x7eb43(0x6f5)](_0x378f7d),this[_0x7eb43(0x1e7)][_0x7eb43(0x724)](_0x378f7d);}[_0x5dd398(0x7d0)](_0x4ca046){const _0x444650=_0x5dd398;this['remoteNodes'][_0x444650(0x2d8)](_0x4ca046),this[_0x444650(0x1e7)][_0x444650(0x7d0)](_0x4ca046);}['handlePeerConnectionSystemEvents'](_0x984d7e){const _0x3213bb=_0x5dd398;if(_0x984d7e['content'][_0x3213bb(0x72a)]===_0x3bfb21[_0x3213bb(0x1ca)]){const {nodeId:_0x218ade,streamId:_0x2009df,stats:_0xf1dbf3}=_0x984d7e[_0x3213bb(0x69a)];this['statsReport'][_0x3213bb(0x4ef)](_0x218ade,_0xf1dbf3,_0x2009df);}}[_0x5dd398(0x364)](_0x234244){const _0xccfd1=_0x5dd398;switch(_0x234244[_0xccfd1(0x69a)][_0xccfd1(0x72a)]){case _0x47bc97[_0xccfd1(0x79c)]:case _0x47bc97[_0xccfd1(0x439)]:case _0x47bc97[_0xccfd1(0x369)]:case _0x47bc97[_0xccfd1(0x462)]:case _0x47bc97[_0xccfd1(0x261)]:this['statsReport']['processServiceReport'](_0x234244[_0xccfd1(0x69a)]['label'],_0x234244[_0xccfd1(0x69a)]['type'],_0x234244['content']['stats']);}}[_0x5dd398(0x7eb)](){const _0x465d2e=_0x5dd398;return _0x478a69[_0x465d2e(0x1c5)](()=>{const _0x273f05=_0x465d2e,_0x2ea9a6=this[_0x273f05(0x1e7)][_0x273f05(0x59f)]();_0x52f76b[_0x273f05(0x20d)](_0x4f3b4c['Stats'],_0x273f05(0x5b8),_0x2ea9a6),(0x0,_0x654549[_0x273f05(0x4c2)])((0x0,_0x654549[_0x273f05(0x4fc)])(_0x40377c[_0x273f05(0x2ed)](),'developers/'+this['configs'][_0x273f05(0x6eb)]+_0x273f05(0x852)),{'clusterId':this[_0x273f05(0x3f6)][_0x273f05(0x1ff)],'nodeId':this[_0x273f05(0x3f6)][_0x273f05(0x5fb)][_0x273f05(0x330)](),'nodeType':this[_0x273f05(0x3f6)]['localNode']['type'],'timestamp':(0x0,_0x654549[_0x273f05(0x764)])(),'report':_0x2ea9a6}),_0x52f76b[_0x273f05(0x79a)](_0x273f05(0x689),{'clusterId':this[_0x273f05(0x3f6)][_0x273f05(0x1ff)],'nodeId':this[_0x273f05(0x3f6)]['localNode']['getId'](),'nodeType':this[_0x273f05(0x3f6)][_0x273f05(0x5fb)][_0x273f05(0x72a)],'data':{'report':_0x2ea9a6}});},_0x450378);}[_0x5dd398(0x3b6)](){const _0xd4c22=_0x5dd398;let _0x3871a3=!0x1,_0x3073f9=Date['now']();return _0x478a69[_0xd4c22(0x1c5)](async()=>{const _0x22086e=_0xd4c22;if(_0x3871a3)return;if(_0x3871a3=!0x0,0x0===this['remoteNodes'][_0x22086e(0x3ee)])return delete this['nextNodeId'],void(_0x3871a3=!0x1);const _0x4774fe=Date[_0x22086e(0x4bb)]();this[_0x22086e(0x388)]();try{await this[_0x22086e(0x3f6)][_0x22086e(0x5a9)]['collectStats'](this['nextNodeId']);}catch(_0x4b19f8){}this[_0x22086e(0x1e7)][_0x22086e(0x66c)]({'secheduleTime':_0x4774fe-_0x3073f9,'durationTime':Date[_0x22086e(0x4bb)]()-_0x4774fe}),_0x3073f9=_0x4774fe,_0x3871a3=!0x1;},_0x20cbe8);}['findNextNodeId'](){const _0x2abbbf=_0x5dd398;let _0x40d438,_0x35d25f=!0x1;this[_0x2abbbf(0x6ff)]&&(this['remoteNodes'][_0x2abbbf(0x2d4)](this[_0x2abbbf(0x6ff)])||delete this[_0x2abbbf(0x6ff)]);for(const _0x101d93 of this[_0x2abbbf(0x347)])if(_0x40d438||(_0x40d438=_0x101d93),this[_0x2abbbf(0x6ff)]!==_0x101d93){if(_0x35d25f)return void(this[_0x2abbbf(0x6ff)]=_0x101d93);}else _0x35d25f=!0x0,delete this[_0x2abbbf(0x6ff)];this[_0x2abbbf(0x6ff)]||(this[_0x2abbbf(0x6ff)]=_0x40d438);}}class _0x1b06da{['source'];[_0x5dd398(0x65d)];[_0x5dd398(0x7fa)];constructor(_0x454bf2,_0x352748){const _0x449779=_0x5dd398;this[_0x449779(0x5d3)]=_0x454bf2,this[_0x449779(0x65d)]=_0x352748;}[_0x5dd398(0x442)](_0x77329c){const _0x24b26d=_0x5dd398;this[_0x24b26d(0x7fa)]=_0x77329c;}['unregisterSystemPublisher'](){delete this['systemTopic'];}}class _0xe74e2c extends _0x1b06da{[_0x5dd398(0x5d3)];[_0x5dd398(0x65d)];['params'];constructor(_0x4ff06e,_0x1546c0,_0x1b88aa){const _0x2a0ee8=_0x5dd398;super(_0x4ff06e,_0x1546c0),this[_0x2a0ee8(0x5d3)]=_0x4ff06e,this[_0x2a0ee8(0x65d)]=_0x1546c0,this[_0x2a0ee8(0x618)]=_0x1b88aa;}[_0x5dd398(0x431)](_0x3519af,_0x4b6100,_0x1aeabe){const _0x5b75c5=_0x5dd398;if(this[_0x5b75c5(0x65d)][_0x5b75c5(0x323)]()===_0x47065f[_0x5b75c5(0x447)][_0x5b75c5(0x6c3)]){const _0x303376={'type':_0x3de62f[_0x5b75c5(0x4a1)],'label':this['destination']['getLabel'](),'ownerId':_0x3519af,'trackKinds':_0x4b6100??this[_0x5b75c5(0x65d)][_0x5b75c5(0x44d)](),'params':_0x1aeabe};this[_0x5b75c5(0x7fa)][_0x5b75c5(0x7b0)]({'sourceId':this[_0x5b75c5(0x5d3)][_0x5b75c5(0x279)](),'destinationIds':[this[_0x5b75c5(0x5d3)][_0x5b75c5(0x48d)]()],'messageType':_0x3efa6a['Subscription'],'content':_0x303376}),this['params']=_0x1aeabe;}}[_0x5dd398(0x7f9)](_0x5a731e,_0x58731f){const _0x58f3d4=_0x5dd398;if(this[_0x58f3d4(0x65d)][_0x58f3d4(0x323)]()===_0x47065f[_0x58f3d4(0x447)][_0x58f3d4(0x6c3)]){const _0x309619={'type':_0x3de62f['UpdateMediaStream'],'label':this[_0x58f3d4(0x65d)][_0x58f3d4(0x544)](),'ownerId':_0x5a731e,'params':_0x58731f};this[_0x58f3d4(0x7fa)][_0x58f3d4(0x7b0)]({'sourceId':this[_0x58f3d4(0x5d3)][_0x58f3d4(0x279)](),'destinationIds':[this['source'][_0x58f3d4(0x48d)]()],'messageType':_0x3efa6a['Subscription'],'content':_0x309619}),this[_0x58f3d4(0x618)]=_0x58731f;}}[_0x5dd398(0x7de)](_0x450b76,_0x41346a,_0x5d17b8){const _0xdf8e27=_0x5dd398;if(this['destination'][_0xdf8e27(0x323)]()===_0x47065f[_0xdf8e27(0x447)]['Media']){const _0x20cc69={'type':_0x3de62f[_0xdf8e27(0x551)],'label':this[_0xdf8e27(0x65d)][_0xdf8e27(0x544)](),'ownerId':_0x450b76,'trackKinds':_0x5d17b8??this[_0xdf8e27(0x65d)][_0xdf8e27(0x44d)](),'remainingTracks':_0x41346a};this[_0xdf8e27(0x7fa)][_0xdf8e27(0x7b0)]({'sourceId':this[_0xdf8e27(0x5d3)][_0xdf8e27(0x279)](),'destinationIds':[this[_0xdf8e27(0x5d3)][_0xdf8e27(0x48d)]()],'messageType':_0x3efa6a['Subscription'],'content':_0x20cc69});}}}class _0x64c847{['currentDistance'];[_0x5dd398(0x455)];[_0x5dd398(0x475)];['systemTopic'];['answers']=new Set();[_0x5dd398(0x1bd)]=Date[_0x5dd398(0x4bb)]();['params'];['retryCount']=0x0;constructor(_0x4ac6a8,_0x45e664,_0x279bba,_0x571417){const _0x3c0e42=_0x5dd398;this[_0x3c0e42(0x7a5)]=_0x45e664,this[_0x3c0e42(0x455)]=_0x279bba,this[_0x3c0e42(0x475)]=_0x571417,_0x4ac6a8[_0x3c0e42(0x710)](_0xed8978=>{const _0x24d3d2=_0x3c0e42;this[_0x24d3d2(0x65b)][_0x24d3d2(0x6f5)]({'nodeId':_0xed8978,'type':_0x497332['Waiting']});});}['getTracks'](){return this['tracks'];}[_0x5dd398(0x442)](_0x305e8d){this['systemTopic']=_0x305e8d;}[_0x5dd398(0x7d9)](){delete this['systemTopic'];}[_0x5dd398(0x567)](_0x3689b2,_0xd6c2c7){const _0x38f705=_0x5dd398;this[_0x38f705(0x1bd)]=Date['now'](),this['answers']['clear'](),_0x3689b2[_0x38f705(0x710)](_0x195d6f=>{const _0x267c01=_0x38f705;this[_0x267c01(0x65b)][_0x267c01(0x6f5)]({'nodeId':_0x195d6f,'type':_0x497332[_0x267c01(0x7ea)]});}),this[_0x38f705(0x52a)]+=0x1,this[_0x38f705(0x7a5)]=_0xd6c2c7;}[_0x5dd398(0x705)](_0x31f18d,_0x52819b,_0x517b9d,_0x6d727a,_0x255b6e){const _0x5a70d3=_0x5dd398;if(this[_0x5a70d3(0x52a)]>0xa)throw new _0x189e7c(_0x189e7c['codes'][_0x5a70d3(0x2d0)],{'answers':Array['from'](this[_0x5a70d3(0x65b)])[_0x5a70d3(0x58c)](_0x4f233f=>({'nodeId':_0x4f233f[_0x5a70d3(0x6e5)],'type':_0x4f233f['type']}))});const _0x4793c2=Array[_0x5a70d3(0x5e2)](this['answers'])['map'](_0x442fdc=>_0x442fdc[_0x5a70d3(0x6e5)]);this[_0x5a70d3(0x618)]=_0x255b6e,this['systemTopic'][_0x5a70d3(0x7b0)]({'sourceId':_0x31f18d,'destinationIds':_0x4793c2,'messageType':_0x3efa6a[_0x5a70d3(0x280)],'content':{'type':_0x3de62f['NeedMediaStream'],'label':_0x517b9d,'ownerId':_0x52819b,'trackKinds':_0x6d727a,'params':_0x255b6e}}),_0x52f76b[_0x5a70d3(0x20d)](_0x4f3b4c[_0x5a70d3(0x280)],_0x5a70d3(0x6f7),_0x31f18d,_0x4793c2);}[_0x5dd398(0x37d)](_0x46107e,_0x38c7eb){const _0x32d860=_0x5dd398;switch(_0x38c7eb[_0x32d860(0x72a)]){case _0x3de62f[_0x32d860(0x648)]:{const _0x11ddb1=this['currentDistance']>=_0x38c7eb[_0x32d860(0x67e)]&&_0x38c7eb[_0x32d860(0x67e)]<=this[_0x32d860(0x455)],_0x4342af=Array['from'](this[_0x32d860(0x65b)])['find'](_0x352f8d=>_0x352f8d[_0x32d860(0x6e5)]===_0x46107e);_0x4342af['type']=_0x11ddb1?_0x497332[_0x32d860(0x34c)]:_0x497332[_0x32d860(0x637)],_0x4342af['cost']=_0x38c7eb[_0x32d860(0x204)],_0x4342af[_0x32d860(0x67e)]=_0x38c7eb[_0x32d860(0x67e)],_0x4342af[_0x32d860(0x27c)]=_0x38c7eb[_0x32d860(0x27c)],_0x4342af[_0x32d860(0x572)]=Date[_0x32d860(0x4bb)]()-this[_0x32d860(0x1bd)],_0x4342af[_0x32d860(0x618)]=this[_0x32d860(0x618)],_0x4342af[_0x32d860(0x46a)]=_0x38c7eb[_0x32d860(0x46a)],_0x4342af['trackKinds']=_0x38c7eb[_0x32d860(0x641)],_0x4342af[_0x32d860(0x526)]=_0x38c7eb[_0x32d860(0x667)],_0x52f76b[_0x32d860(0x20d)](_0x4f3b4c[_0x32d860(0x280)],(_0x11ddb1?_0x32d860(0x34c):_0x32d860(0x637))+_0x32d860(0x4ed),_0x4342af);break;}case _0x3de62f[_0x32d860(0x1fa)]:{const _0x43918a=Array[_0x32d860(0x5e2)](this[_0x32d860(0x65b)])[_0x32d860(0x33c)](_0x4e4c82=>_0x4e4c82['nodeId']===_0x46107e);_0x43918a[_0x32d860(0x72a)]=_0x497332[_0x32d860(0x637)],_0x52f76b['log'](_0x4f3b4c[_0x32d860(0x280)],'Rejected\x20answer',_0x43918a);break;}}if(this[_0x32d860(0x63c)]())return this['chooseAnswer']();}['chooseAnswer'](){const _0x39950c=_0x5dd398,_0x2b1552=Array[_0x39950c(0x5e2)](this['answers'])[_0x39950c(0x60e)](_0x24ae2b=>_0x24ae2b[_0x39950c(0x72a)]===_0x497332['Accepted'])[_0x39950c(0x615)]((_0x1f3205,_0x2bc2cf)=>_0x1f3205['cost']===_0x2bc2cf[_0x39950c(0x204)]?_0x1f3205[_0x39950c(0x572)]-_0x2bc2cf['roundTripTime']:_0x1f3205[_0x39950c(0x204)]-_0x2bc2cf[_0x39950c(0x204)]);if(0x0===_0x2b1552[_0x39950c(0x5f4)])throw new _0x189e7c(_0x189e7c[_0x39950c(0x32a)][_0x39950c(0x2d0)],{'answers':Array[_0x39950c(0x5e2)](this[_0x39950c(0x65b)])[_0x39950c(0x58c)](_0x3c2da5=>({'nodeId':_0x3c2da5['nodeId'],'type':_0x3c2da5[_0x39950c(0x72a)]}))});return _0x52f76b['log'](_0x4f3b4c[_0x39950c(0x280)],_0x39950c(0x498),_0x2b1552[0x0],this['answers']),_0x2b1552[0x0];}['canChooseAnswer'](){for(const _0x465d99 of this['answers'])if(_0x465d99['type']===_0x497332['Waiting'])return!0x1;return!0x0;}}class _0x2576a4{['label'];[_0x5dd398(0x2d6)];[_0x5dd398(0x298)]=_0x1c03f0();constructor(_0xdd2a7d,_0x2351b4){const _0x26f857=_0x5dd398;this[_0x26f857(0x667)]=_0xdd2a7d,this[_0x26f857(0x2d6)]=_0x2351b4;}[_0x5dd398(0x544)](){const _0x5c9f35=_0x5dd398;return this[_0x5c9f35(0x667)];}[_0x5dd398(0x323)](){const _0x597239=_0x5dd398;return this[_0x597239(0x2d6)];}[_0x5dd398(0x70d)](_0x2482b0){const _0x2a1b04=_0x5dd398;_0x2482b0[_0x2a1b04(0x1fc)](this);}[_0x5dd398(0x2e3)](_0x3222a5){const _0x40c27a=_0x5dd398;_0x3222a5[_0x40c27a(0x28b)](this);}['publish'](_0x567498){const _0x12a272=_0x5dd398;this['listener'][_0x12a272(0x7b0)]({'topicLabel':this['label'],'contentType':this['contentType'],'uuid':(0x0,_0x2b9c8e['v4'])(),'recipients':[],..._0x567498});}[_0x5dd398(0x431)](_0x3f3098){const _0x1fc056=_0x5dd398;return this[_0x1fc056(0x298)][_0x1fc056(0x431)](_0x3f3098);}[_0x5dd398(0x545)](_0x9370b1){const _0x2e5556=_0x5dd398;_0x9370b1[_0x2e5556(0x441)](this);}[_0x5dd398(0x594)](_0x30bfd7){const _0x25c788=_0x5dd398;_0x30bfd7[_0x25c788(0x7da)](this);}}class _0x4cb0f8{[_0x5dd398(0x744)]={'topics':new Map(),'subscriptions':new Map()};[_0x5dd398(0x1e3)];constructor(_0x31465c){const _0x2c73f0=_0x5dd398;this[_0x2c73f0(0x1e3)]=_0x31465c;}get[_0x5dd398(0x7e3)](){const _0x1007c2=_0x5dd398;return this[_0x1007c2(0x744)][_0x1007c2(0x7e3)];}get['topics'](){const _0xddc695=_0x5dd398;return this[_0xddc695(0x744)][_0xddc695(0x295)];}[_0x5dd398(0x350)](_0x55d5df,_0x5957c5){const _0x3320fd=_0x5dd398,_0x40c3bf=this[_0x3320fd(0x1e3)](_0x5957c5),_0x5b1942=_0x5da49c(_0x55d5df);if(!_0x40c3bf[_0x3320fd(0x614)])throw new _0x189e7c(_0x189e7c[_0x3320fd(0x32a)][_0x3320fd(0x4b3)],{'message':_0x5b1942+':\x20'+_0x40c3bf[_0x3320fd(0x3e8)]+_0x3320fd(0x26f)+_0x40c3bf['contentType'],'subscriptionType':_0x55d5df,'subscription':_0x5957c5,'subscriptonParts':_0x40c3bf});const _0x5929fc=_0x5f4c61(_0x55d5df,_0x40c3bf);if(this[_0x3320fd(0x744)][_0x3320fd(0x7e3)]['has'](_0x5929fc))throw new _0x189e7c(_0x189e7c[_0x3320fd(0x32a)]['InvalidSubscription'],{'message':_0x5b1942+':\x20'+_0x5929fc+_0x3320fd(0x463),'subscriptionType':_0x55d5df,'subscription':_0x5957c5,'subscriptonParts':_0x40c3bf});this[_0x3320fd(0x744)][_0x3320fd(0x7e3)][_0x3320fd(0x549)](_0x5929fc,_0x5957c5),this['createTopic'](_0x40c3bf,_0x5957c5);}['removeSubscription'](_0x2c6b28,_0x282200){const _0x568ffb=_0x5dd398,_0x2809da=_0x5f4c61(_0x282200,_0x2c6b28),_0x42c2c9=this['maps'][_0x568ffb(0x7e3)]['get'](_0x2809da);if(!_0x42c2c9)throw new _0x189e7c(_0x189e7c[_0x568ffb(0x32a)][_0x568ffb(0x4b3)],{'message':_0x5da49c(_0x282200)+':\x20'+_0x2809da+_0x568ffb(0x55c),'subscriptionType':_0x282200,'subscription':_0x42c2c9,'subscriptonParts':_0x2c6b28});this[_0x568ffb(0x3a3)](_0x42c2c9,_0x2809da,_0x2c6b28);}[_0x5dd398(0x3a3)](_0x2abd74,_0x447d3b,_0x5a0287){const _0x5af79b=_0x5dd398;_0x5a0287=_0x5a0287||this[_0x5af79b(0x1e3)](_0x2abd74),this[_0x5af79b(0x744)][_0x5af79b(0x7e3)]['delete'](_0x447d3b),this['removeTopic'](_0x5a0287,_0x2abd74);}['createTopic'](_0x3cfad2,{source:_0x4e6564,destination:_0x460802}){const _0x15910b=_0x5dd398,{contentType:_0x4cc5d4,label:_0x539536,remoteId:_0x2cf46d}=_0x3cfad2,_0xf81ba2=_0x2c0011(_0x4cc5d4,_0x539536,_0x2cf46d),_0x2a2cff=new _0x2576a4(_0xf81ba2,_0x4cc5d4);_0x2a2cff[_0x15910b(0x70d)](_0x4e6564),_0x2a2cff[_0x15910b(0x2e3)](_0x460802),this[_0x15910b(0x744)][_0x15910b(0x295)][_0x15910b(0x549)](_0x2a2cff['getLabel'](),_0x2a2cff);}['removeTopic'](_0xb3f584,_0x480291){const _0x5b4a47=_0x5dd398,{contentType:_0x4bde3d,label:_0x115e05,remoteId:_0x269c49}=_0xb3f584,_0x3f9f70=_0x2c0011(_0x4bde3d,_0x115e05,_0x269c49),_0x162b3d=this[_0x5b4a47(0x744)][_0x5b4a47(0x295)][_0x5b4a47(0x7ef)](_0x3f9f70);_0x162b3d&&(this[_0x5b4a47(0x57e)](_0x162b3d,_0x480291),this['maps'][_0x5b4a47(0x295)][_0x5b4a47(0x2d8)](_0x3f9f70));}[_0x5dd398(0x57e)](_0x226b47,{source:_0x69e3d0,destination:_0x18a431}){const _0xb2c4c5=_0x5dd398;_0x226b47[_0xb2c4c5(0x545)](_0x69e3d0),_0x226b47['unregisterDestination'](_0x18a431);}[_0x5dd398(0x747)](_0x39cbfb){const _0x309ca9=_0x5dd398;this[_0x309ca9(0x744)][_0x309ca9(0x7e3)][_0x309ca9(0x710)]((_0x4bdb98,_0x5c8255)=>{const _0x3de051=_0x309ca9;_0x5c8255[_0x3de051(0x3e5)](_0x39cbfb)&&this[_0x3de051(0x3a3)](_0x4bdb98,_0x5c8255);});}}class _0x367522{['configs'];['maxDistance'];['subscriptionRequests']=new Map();['subscriptionRequestsQueue']=_0x16a601(new _0x3a23e6(this[_0x5dd398(0x316)][_0x5dd398(0x437)](this),()=>_0x478a69[_0x5dd398(0x737)](0x64)),!0x0);[_0x5dd398(0x4c0)]=new Map();['maps'];['chosenAnswers']=new Map();constructor(_0x2ac671,_0x3784f7){const _0x166fbd=_0x5dd398;this[_0x166fbd(0x3f6)]=_0x2ac671,this[_0x166fbd(0x455)]=_0x3784f7,this['maps']=new _0x4cb0f8(({source:_0x401bb5,destination:_0x9bfa2f})=>_0xec69ac(_0x9bfa2f,_0x401bb5));}['createSubscription'](_0x5ba7f8,_0x208df3){const _0x56a386=_0x5dd398,_0x450ac4=this[_0x56a386(0x84f)](_0x5ba7f8)&&this[_0x56a386(0x6d8)](_0x208df3)?new _0xe74e2c(_0x5ba7f8,_0x208df3):new _0x1b06da(_0x5ba7f8,_0x208df3);this[_0x56a386(0x744)]['createSubscription'](_0x351d2d[_0x56a386(0x291)],_0x450ac4),this['configs'][_0x56a386(0x5a9)][_0x56a386(0x7ba)](_0x450ac4);}[_0x5dd398(0x23c)](_0x47a6f6,_0x8c4acb,_0x3fe33e=''){const _0x144e4d=_0x5dd398,_0x3ba553={'contentType':_0x8c4acb,'label':_0x47a6f6,'remoteId':_0x3fe33e},_0x533327=_0x5f4c61(_0x351d2d[_0x144e4d(0x291)],_0x3ba553),_0x3c88d2=this[_0x144e4d(0x744)][_0x144e4d(0x7e3)]['get'](_0x533327);_0x3c88d2&&this['closeSubscription'](_0x3c88d2,_0x533327);}['handleContentUnpublishMediaStream'](_0x5532eb){const _0x159829=_0x5dd398;this[_0x159829(0x619)](_0x5532eb);}[_0x5dd398(0x29c)]({label:_0x27da78,ownerId:_0x1ad175,trackKinds:_0x306616,params:_0x4cf0aa}){const _0x4e4d66=_0x5dd398;this[_0x4e4d66(0x2dd)](_0x27da78,_0x1ad175,_0x306616,_0x4cf0aa);}['handleContentUpdateMediaStream']({ownerId:_0x3d4c2c,label:_0x5a0a76,params:_0x5eafc6}){const _0x309a2b=_0x5dd398,{subscriptionLabel:_0xa221a6}=this[_0x309a2b(0x400)](_0x5a0a76,_0x3d4c2c),_0x5cca8b=this[_0x309a2b(0x5e8)](_0xa221a6);_0x5cca8b&&_0x5cca8b['update'](_0x3d4c2c,_0x5eafc6);}[_0x5dd398(0x49c)]({ownerId:_0x1d7456,label:_0x47046e,trackKinds:_0x478497,remainingTracks:_0x5d4814}){const _0x232236=_0x5dd398,_0x35b505=_0x5f4c61(_0x351d2d[_0x232236(0x291)],{'contentType':_0x47065f[_0x232236(0x447)]['Media'],'label':_0x47046e,'remoteId':_0x1d7456});this['clearSubscriptionRequestTimeout'](_0x35b505);const _0x20944a=this[_0x232236(0x49f)][_0x232236(0x7ef)](_0x35b505);_0x20944a&&(this[_0x232236(0x3f6)][_0x232236(0x5a9)][_0x232236(0x536)](_0x20944a),this['subscriptionRequests']['delete'](_0x35b505));const {parts:_0x13de82,subscriptionLabel:_0x13a8a3}=this[_0x232236(0x400)](_0x47046e,_0x1d7456),_0x5a12dc=this[_0x232236(0x5e8)](_0x13a8a3);_0x5a12dc&&(_0x5a12dc['unsubscribe'](_0x1d7456,_0x5d4814,_0x478497),0x0===_0x5d4814&&this[_0x232236(0x23c)](_0x13de82[_0x232236(0x667)],_0x13de82[_0x232236(0x2d6)],_0x13de82[_0x232236(0x3e8)]));}[_0x5dd398(0x416)](_0x59d03e,{label:_0x34f72f,ownerId:_0x43b2b2,trackKinds:_0x5311e0,streamId:_0x3595a7,params:_0x33fcae}){const _0x5bbc05=_0x5dd398,_0x461d49=_0x5f4c61(_0x351d2d[_0x5bbc05(0x291)],{'contentType':_0x47065f[_0x5bbc05(0x447)]['Media'],'label':_0x3595a7,'remoteId':_0x59d03e}),_0x5549bd=this['maps'][_0x5bbc05(0x7e3)]['get'](_0x461d49);if(!(_0x5549bd&&_0x5549bd instanceof _0xe74e2c))throw new _0x189e7c(_0x189e7c[_0x5bbc05(0x32a)][_0x5bbc05(0x6fe)],{'label':_0x461d49,'ownerId':_0x43b2b2});this[_0x5bbc05(0x3a3)](_0x5549bd,_0x461d49),this[_0x5bbc05(0x2dd)](_0x34f72f,_0x43b2b2,_0x5311e0,_0x33fcae);}[_0x5dd398(0x7c8)](_0x1f11ca,_0x465a82){const _0x22a098=_0x5dd398,{label:_0x23e6ef,ownerId:_0x43df1b,trackKinds:_0x856c7d,params:_0x286b82}=_0x465a82,_0x43329c=_0x5f4c61(_0x351d2d['Incoming'],{'contentType':_0x47065f['ContentType'][_0x22a098(0x6c3)],'label':_0x23e6ef,'remoteId':_0x43df1b});if(!this[_0x22a098(0x49f)][_0x22a098(0x2d4)](_0x43329c))throw new _0x189e7c(_0x189e7c[_0x22a098(0x32a)][_0x22a098(0x6fe)],{'label':_0x43329c,'ownerId':_0x43df1b,'streamId':_0x465a82[_0x22a098(0x27c)],'requests':this[_0x22a098(0x49f)]});const _0x2eb543=this[_0x22a098(0x49f)][_0x22a098(0x7ef)](_0x43329c);if(_0x856c7d[_0x22a098(0x5f4)]===_0x2eb543[_0x22a098(0x331)]()[_0x22a098(0x5f4)]&&_0x856c7d[_0x22a098(0x2a4)](_0x2899ec=>_0x2eb543[_0x22a098(0x331)]()[_0x22a098(0x30f)](_0x2899ec)))try{const _0x50ac63=_0x2eb543[_0x22a098(0x37d)](_0x1f11ca,_0x465a82);if(!_0x50ac63)return;this['subscribe'](_0x50ac63,_0x43df1b,_0x23e6ef,_0x43329c,_0x856c7d);}catch(_0x11a759){return void this['handleNoAnswer'](_0x23e6ef,_0x43df1b,_0x856c7d,_0x286b82);}}['handleSubscriptionMediaStreamUnavailable'](_0x1b95cf,{label:_0x4a517c,ownerId:_0x2c0108,trackKinds:_0xc7919a}){const _0x104313=_0x5dd398,_0xb41ca3=this[_0x104313(0x3f6)][_0x104313(0x5a9)][_0x104313(0x777)](_0x2c0108,_0x4a517c);if(!_0xb41ca3)return;const _0x57554e=_0xb41ca3[_0x104313(0x655)](),_0x4801c7=_0xb41ca3[_0x104313(0x47f)]();_0x4801c7[_0x104313(0x86b)](_0x49693a=>_0xc7919a[_0x104313(0x30f)](_0x49693a))&&this[_0x104313(0x2e5)](_0x1b95cf,_0x4a517c,_0x57554e,_0x2c0108,_0x4801c7);}[_0x5dd398(0x4b0)]({label:_0x5a78bc,providerId:_0x5e44ea,ownerId:_0x295649,streamId:_0x2df059,trackKinds:_0x3fa38c}){const _0x570048=_0x5dd398;this[_0x570048(0x2e5)](_0x5e44ea,_0x5a78bc,_0x2df059,_0x295649,_0x3fa38c);}[_0x5dd398(0x26b)](_0x22ccd8){const _0x3ef6ed=_0x5dd398;for(const _0x5cad37 of this[_0x3ef6ed(0x22b)][_0x3ef6ed(0x4e3)]()){const {streamLabel:_0x5685ae,ownerId:_0x4e4e20,trackKinds:_0x309bfa,params:_0x3dc56b}=_0x5cad37;if(!_0x4e4e20||!_0x309bfa||!_0x5685ae)return;this[_0x3ef6ed(0x317)][_0x3ef6ed(0x28d)]({'label':_0x5685ae,'ownerId':_0x4e4e20,'trackKinds':_0x309bfa,'params':_0x3dc56b,'remoteId':_0x22ccd8});}}[_0x5dd398(0x747)](_0x8e2e6a){const _0x392d15=_0x5dd398;this[_0x392d15(0x744)][_0x392d15(0x7e3)][_0x392d15(0x710)]((_0x508c9e,_0x453682)=>{const _0x5eebac=_0x392d15;if(_0x453682[_0x5eebac(0x3e5)](_0x8e2e6a)){if(_0x508c9e[_0x5eebac(0x65d)][_0x5eebac(0x323)]()===_0x47065f[_0x5eebac(0x447)]['Media']){const _0x280d48=_0x508c9e['destination'];if(_0x280d48[_0x5eebac(0x47f)]()[_0x5eebac(0x5f4)]>0x0){const _0x140446={'type':_0x3de62f[_0x5eebac(0x40e)],'label':_0x280d48['getLabel'](),'ownerId':_0x280d48[_0x5eebac(0x245)](),'trackKinds':_0x280d48[_0x5eebac(0x47f)]()};return void this[_0x5eebac(0x32e)](_0x8e2e6a,_0x140446);}}this['closeSubscription'](_0x508c9e,_0x453682);}});}[_0x5dd398(0x362)](){const _0x5ae4c7=_0x5dd398;this[_0x5ae4c7(0x744)][_0x5ae4c7(0x7e3)][_0x5ae4c7(0x710)](this[_0x5ae4c7(0x3a3)][_0x5ae4c7(0x437)](this));}['subscribe'](_0x4b8258,_0x4a7bda,_0x5b35d4,_0x408aed,_0x2e733d){const _0x5c1f96=_0x5dd398,_0x7ebba6=this[_0x5c1f96(0x3f6)][_0x5c1f96(0x5a9)][_0x5c1f96(0x63a)](_0x4b8258[_0x5c1f96(0x6e5)]),_0x13dca5=this['configs']['mediator'][_0x5c1f96(0x777)](_0x4a7bda,_0x5b35d4);this['clearSubscriptionRequestTimeout'](_0x408aed),this['subscriptionRequests']['has'](_0x408aed)&&(this[_0x5c1f96(0x3f6)][_0x5c1f96(0x5a9)][_0x5c1f96(0x536)](this['subscriptionRequests'][_0x5c1f96(0x7ef)](_0x408aed)),this[_0x5c1f96(0x49f)][_0x5c1f96(0x2d8)](_0x408aed)),this[_0x5c1f96(0x5c8)](_0x4b8258,_0x4a7bda,_0x5b35d4,_0x13dca5),_0x13dca5[_0x5c1f96(0x635)](_0x4b8258['streamId']),_0x13dca5[_0x5c1f96(0x787)](_0x4b8258[_0x5c1f96(0x6e5)]);const _0x90a53=_0xec69ac(_0x13dca5,_0x7ebba6),_0x5b1940=_0x5f4c61(_0x351d2d['Incoming'],_0x90a53);this[_0x5c1f96(0x744)][_0x5c1f96(0x7e3)]['has'](_0x5b1940)||this[_0x5c1f96(0x350)](_0x7ebba6,_0x13dca5);const _0x299dc9=this['maps'][_0x5c1f96(0x7e3)][_0x5c1f96(0x7ef)](_0x5b1940);if(!(_0x299dc9&&_0x299dc9 instanceof _0xe74e2c))throw new _0x189e7c(_0x189e7c[_0x5c1f96(0x32a)][_0x5c1f96(0x6fe)],{'label':_0x408aed,'ownerId':_0x4a7bda});_0x52f76b[_0x5c1f96(0x79a)](_0x5c1f96(0x3d7),{'clusterId':this[_0x5c1f96(0x3f6)][_0x5c1f96(0x1ff)],'nodeId':this['configs'][_0x5c1f96(0x5fb)][_0x5c1f96(0x330)](),'nodeType':this[_0x5c1f96(0x3f6)][_0x5c1f96(0x5fb)][_0x5c1f96(0x72a)],'data':{'subscriptionLabel':_0x5b1940,'chosenAnswer':_0x4b8258}}),this[_0x5c1f96(0x22b)]['set'](_0x5b1940,_0x4b8258),_0x299dc9['subscribe'](_0x4a7bda,_0x2e733d,_0x4b8258['params']);}['removeRemoteStreamSubscription']({ownerId:_0x3facea,label:_0x2e5a38}){const _0x26a2ad=_0x5dd398,_0xb3ceea=this[_0x26a2ad(0x3f6)][_0x26a2ad(0x5a9)][_0x26a2ad(0x777)](_0x3facea,_0x2e5a38),[_0x493651,_0x5d038a]=Array[_0x26a2ad(0x5e2)](this[_0x26a2ad(0x744)][_0x26a2ad(0x7e3)]['entries']())[_0x26a2ad(0x33c)](([_0x2d05d1,_0x483a46])=>-0x1!==_0x2d05d1[_0x26a2ad(0x857)](_0xb3ceea[_0x26a2ad(0x655)]()));return this[_0x26a2ad(0x3a3)](_0x5d038a,_0x493651);}[_0x5dd398(0x3a3)](_0x4e99e8,_0x56994e){const _0x845d1d=_0x5dd398;this[_0x845d1d(0x3f6)][_0x845d1d(0x5a9)][_0x845d1d(0x536)](_0x4e99e8),this[_0x845d1d(0x744)]['closeSubscription'](_0x4e99e8,_0x56994e);}[_0x5dd398(0x84f)](_0x195cc8){const _0x3aea88=_0x5dd398;return _0x195cc8[_0x3aea88(0x300)]()[_0x3aea88(0x30f)](_0x47065f['ContentType'][_0x3aea88(0x6c3)]);}[_0x5dd398(0x6d8)](_0x123480){const _0x4fe325=_0x5dd398;return _0x123480[_0x4fe325(0x323)]()===_0x47065f['ContentType'][_0x4fe325(0x6c3)];}async['handleNoAnswer'](_0x324233,_0x2806c1,_0x58e043,_0x5e0999){const _0x2fd5db=_0x5dd398;await _0x478a69['wait'](0x3e8);const _0x557138=_0x5f4c61(_0x351d2d[_0x2fd5db(0x291)],{'contentType':_0x47065f[_0x2fd5db(0x447)][_0x2fd5db(0x6c3)],'label':_0x324233,'remoteId':_0x2806c1});this[_0x2fd5db(0x31d)](_0x557138);const _0x59298c=this[_0x2fd5db(0x49f)][_0x2fd5db(0x7ef)](_0x557138);if(!_0x59298c)throw new _0x189e7c(_0x189e7c[_0x2fd5db(0x32a)]['SubscriptionRequestDoesNotExist'],{'label':_0x557138,'ownerId':_0x2806c1});const _0x3a9ce8=this[_0x2fd5db(0x3f6)][_0x2fd5db(0x5a9)][_0x2fd5db(0x2fd)](_0x11c521=>_0x11c521[_0x2fd5db(0x386)]()),_0x8a1a2e=this['configs'][_0x2fd5db(0x5a9)][_0x2fd5db(0x5a4)](this[_0x2fd5db(0x3f6)][_0x2fd5db(0x5fb)][_0x2fd5db(0x330)](),_0x2806c1);_0x59298c[_0x2fd5db(0x567)](_0x3a9ce8[_0x2fd5db(0x58c)](_0xafdd44=>_0xafdd44[_0x2fd5db(0x48d)]()),_0x8a1a2e);try{_0x59298c['sendRequest'](this[_0x2fd5db(0x3f6)][_0x2fd5db(0x5fb)]['getId'](),_0x2806c1,_0x324233,_0x58e043,_0x5e0999),this[_0x2fd5db(0x37b)](_0x324233,_0x2806c1,_0x58e043,_0x5e0999,_0x557138,_0x59298c);}catch(_0xe913ca){this['subscriptionRequestsQueue'][_0x2fd5db(0x28d)]({'label':_0x324233,'ownerId':_0x2806c1,'trackKinds':_0x58e043,'params':_0x5e0999});}}['requestSubscription'](_0x5577b1,_0x8fdfb1,_0x287a90,_0x580500){const _0x27ae0a=_0x5dd398;this[_0x27ae0a(0x317)][_0x27ae0a(0x28d)]({'label':_0x5577b1,'ownerId':_0x8fdfb1,'trackKinds':_0x287a90,'params':_0x580500});}['requestSubscriptionAction']({label:_0x5acf4f,ownerId:_0x4abee5,trackKinds:_0x3c679c,params:_0xf59874,remoteId:_0x7c61b7}){const _0x521ff7=_0x5dd398;if(!this[_0x521ff7(0x3f6)]['mediator'][_0x521ff7(0x777)](_0x4abee5,_0x5acf4f))return;if(!this[_0x521ff7(0x3f6)][_0x521ff7(0x5a9)][_0x521ff7(0x251)]()['getRank']())throw new Error('Local\x20node\x20rank\x20is\x20not\x20set');if(_0x7c61b7){const _0x2a11b4=this[_0x521ff7(0x3f6)][_0x521ff7(0x5a9)]['getRemoteNodes']()[_0x521ff7(0x33c)](_0x4c976e=>_0x4c976e[_0x521ff7(0x330)]()===_0x7c61b7),_0x5117cc=_0x2a11b4?.['getRank']();if(!_0x2a11b4||!_0x5117cc)throw new Error(_0x521ff7(0x690));const _0x5a4ece=this[_0x521ff7(0x3f6)][_0x521ff7(0x5a9)][_0x521ff7(0x385)]()[_0x521ff7(0x33c)](_0x3db0d1=>_0x3db0d1[_0x521ff7(0x330)]()===_0x4abee5),_0x522b66=_0x5a4ece?.[_0x521ff7(0x6c7)]();if(!_0x5a4ece||!_0x522b66)throw new Error(_0x521ff7(0x349));const _0x381783=this[_0x521ff7(0x22b)][_0x521ff7(0x7ef)](_0x5acf4f);if(_0x381783){const _0x1e6696=this[_0x521ff7(0x3f6)][_0x521ff7(0x5a9)]['getRemoteNodes']()[_0x521ff7(0x33c)](_0x48c38d=>_0x48c38d[_0x521ff7(0x330)]()===_0x381783[_0x521ff7(0x6e5)]),_0x47dd69=_0x1e6696?.[_0x521ff7(0x6c7)]();if(!_0x1e6696||!_0x47dd69)throw new Error(_0x521ff7(0x4e9));if(Math['abs'](_0x47dd69-_0x522b66)<Math[_0x521ff7(0x2c7)](_0x5117cc-_0x522b66))return;}}const _0x45b67b=this[_0x521ff7(0x3f6)][_0x521ff7(0x5a9)]['getConnections'](_0x12edeb=>_0x12edeb[_0x521ff7(0x386)]()&&(!_0x7c61b7||_0x12edeb[_0x521ff7(0x48d)]()===_0x7c61b7));if(!_0x45b67b[_0x521ff7(0x5f4)]||0x0===_0x45b67b[_0x521ff7(0x5f4)])throw new Error(_0x521ff7(0x1cc));const _0x47ec2c=this['configs']['mediator'][_0x521ff7(0x5a4)](this[_0x521ff7(0x3f6)][_0x521ff7(0x5fb)][_0x521ff7(0x330)](),_0x4abee5),_0x45f975=_0x5f4c61(_0x351d2d['Incoming'],{'contentType':_0x47065f[_0x521ff7(0x447)][_0x521ff7(0x6c3)],'label':_0x5acf4f,'remoteId':_0x4abee5});if(this['subscriptionRequests'][_0x521ff7(0x2d4)](_0x45f975)){if(_0x7c61b7)throw new Error(_0x521ff7(0x761));const _0x8d4ae8=this['subscriptionRequests'][_0x521ff7(0x7ef)](_0x45f975)['getTracks']();if(_0x8d4ae8[_0x521ff7(0x5f4)]===_0x3c679c['length']&&_0x8d4ae8[_0x521ff7(0x2a4)](_0x33517b=>_0x3c679c[_0x521ff7(0x30f)](_0x33517b)))return;this[_0x521ff7(0x3f6)][_0x521ff7(0x5a9)][_0x521ff7(0x536)](this[_0x521ff7(0x49f)][_0x521ff7(0x7ef)](_0x45f975)),this[_0x521ff7(0x49f)][_0x521ff7(0x2d8)](_0x45f975),_0x3c679c=Array['from'](new Set(_0x3c679c['concat'](_0x8d4ae8))),this[_0x521ff7(0x31d)](_0x45f975);}const _0x1de83f=new _0x64c847(_0x45b67b[_0x521ff7(0x58c)](_0xbccb74=>_0xbccb74['getRemoteId']()),_0x47ec2c,this[_0x521ff7(0x455)],_0x3c679c);this[_0x521ff7(0x3f6)][_0x521ff7(0x5a9)][_0x521ff7(0x7ba)](_0x1de83f),this[_0x521ff7(0x49f)]['set'](_0x45f975,_0x1de83f),_0x1de83f[_0x521ff7(0x705)](this[_0x521ff7(0x3f6)]['localNode'][_0x521ff7(0x330)](),_0x4abee5,_0x5acf4f,_0x3c679c,_0xf59874),this[_0x521ff7(0x37b)](_0x5acf4f,_0x4abee5,_0x3c679c,_0xf59874,_0x45f975,_0x1de83f);}[_0x5dd398(0x31d)](_0x24a75b){const _0x49b508=_0x5dd398;this['subscriptionRequestTimeouts'][_0x49b508(0x2d4)](_0x24a75b)&&(clearTimeout(this['subscriptionRequestTimeouts'][_0x49b508(0x7ef)](_0x24a75b)),this[_0x49b508(0x4c0)][_0x49b508(0x2d8)](_0x24a75b));}[_0x5dd398(0x37b)](_0x40b84b,_0x5460e8,_0x8d7af3,_0x2830d4,_0x2045a2,_0x33ed3b){this['clearSubscriptionRequestTimeout'](_0x2045a2),this['subscriptionRequestTimeouts']['set'](_0x2045a2,setTimeout(()=>{const _0x2b7502=a0_0x553c;this[_0x2b7502(0x4c0)]['delete'](_0x2045a2);try{const _0x15b2c4=_0x33ed3b['chooseAnswer']();this[_0x2b7502(0x431)](_0x15b2c4,_0x5460e8,_0x40b84b,_0x2045a2,_0x8d7af3);}catch(_0x437d4b){this[_0x2b7502(0x6b3)](_0x40b84b,_0x5460e8,_0x8d7af3,_0x2830d4);}},0x7d0));}[_0x5dd398(0x2e5)](_0x30f319,_0x3ad008,_0x4dca7a,_0x32c82e,_0xb32e07){const _0x147bcd=_0x5dd398,{subscriptionLabel:_0xbf4a9c}=this[_0x147bcd(0x400)](_0x3ad008,_0x32c82e),_0x2f083e=this[_0x147bcd(0x5e8)](_0xbf4a9c),_0x36feef=_0x2f083e?.[_0x147bcd(0x618)];_0x2f083e&&(_0x2f083e[_0x147bcd(0x7de)](_0x32c82e,0x0),this[_0x147bcd(0x23c)](_0x4dca7a,_0x47065f[_0x147bcd(0x447)][_0x147bcd(0x6c3)],_0x30f319)),this[_0x147bcd(0x2dd)](_0x3ad008,_0x32c82e,_0xb32e07,_0x36feef);}[_0x5dd398(0x5e8)](_0x31ad34){const _0x33f8ea=_0x5dd398,_0x573ed4=this[_0x33f8ea(0x744)]['subscriptions'][_0x33f8ea(0x7ef)](_0x31ad34);if(_0x573ed4){if(!(_0x573ed4 instanceof _0xe74e2c))throw new _0x189e7c(_0x189e7c[_0x33f8ea(0x32a)][_0x33f8ea(0x4b3)],{'label':_0x31ad34,'subscription':_0x573ed4});return _0x573ed4;}}[_0x5dd398(0x400)](_0x2c692e,_0x45c2d9){const _0x1ec173=_0x5dd398,_0x43aa1c=this[_0x1ec173(0x70b)](_0x2c692e,_0x45c2d9);return{'parts':_0x43aa1c,'subscriptionLabel':_0x5f4c61(_0x351d2d[_0x1ec173(0x291)],_0x43aa1c)};}[_0x5dd398(0x70b)](_0x4ac833,_0x421a7f){const _0x555617=_0x5dd398,_0x5bd065=this[_0x555617(0x3f6)]['mediator'][_0x555617(0x777)](_0x421a7f,_0x4ac833),_0x1658cd=_0x5bd065[_0x555617(0x79e)]();if(!_0x1658cd)throw new _0x189e7c(_0x189e7c[_0x555617(0x32a)][_0x555617(0x6e8)],{'label':_0x4ac833,'streamId':_0x5bd065[_0x555617(0x655)](),'ownerId':_0x421a7f,'localId':this[_0x555617(0x3f6)][_0x555617(0x5fb)][_0x555617(0x330)]()});return{'contentType':_0x47065f[_0x555617(0x447)][_0x555617(0x6c3)],'label':_0x5bd065[_0x555617(0x655)](),'remoteId':_0x1658cd};}['cleanOldSubscription'](_0x2ff2bd,_0x234def,_0x483576,_0x10830e){const _0x3be6e7=_0x5dd398,_0x396d63=_0x10830e[_0x3be6e7(0x79e)]();if(_0x396d63&&_0x396d63!==_0x2ff2bd[_0x3be6e7(0x6e5)]){const {parts:_0x369656,subscriptionLabel:_0x4cd5f6}=this[_0x3be6e7(0x400)](_0x483576,_0x234def),_0x484c7d=this[_0x3be6e7(0x5e8)](_0x4cd5f6);_0x484c7d&&(_0x484c7d[_0x3be6e7(0x7de)](_0x234def,0x0),this[_0x3be6e7(0x23c)](_0x369656[_0x3be6e7(0x667)],_0x369656[_0x3be6e7(0x2d6)],_0x369656['remoteId']));}}}class _0x488e5f{['configs'];[_0x5dd398(0x718)];['maps'];constructor(_0x599e09,_0x2bfe5a){const _0xcf4ff0=_0x5dd398;this[_0xcf4ff0(0x3f6)]=_0x599e09,this[_0xcf4ff0(0x718)]=_0x2bfe5a,this[_0xcf4ff0(0x744)]=new _0x4cb0f8(({source:_0x341d1c,destination:_0x45ecaa})=>_0xec69ac(_0x341d1c,_0x45ecaa));}[_0x5dd398(0x350)](_0x56b19b,_0x569168){const _0x4921fa=_0x5dd398,_0x2aca25={'source':_0x56b19b,'destination':_0x569168};this[_0x4921fa(0x744)][_0x4921fa(0x350)](_0x351d2d['Outgoing'],_0x2aca25);}['removeSubscription'](_0x4667ac,_0x408d04,_0x24a127=''){const _0x51ab2e=_0x5dd398,_0x232078={'contentType':_0x408d04,'label':_0x4667ac,'remoteId':_0x24a127};this[_0x51ab2e(0x744)][_0x51ab2e(0x23c)](_0x232078,_0x351d2d[_0x51ab2e(0x40f)]);}[_0x5dd398(0x41b)](_0xb41436,_0x5caf90){const _0x1a2a23=_0x5dd398;let _0x34990a;_0x34990a=_0x5caf90[_0x1a2a23(0x46a)]!==this[_0x1a2a23(0x3f6)][_0x1a2a23(0x5fb)][_0x1a2a23(0x330)]()?this[_0x1a2a23(0x3f6)]['mediator'][_0x1a2a23(0x777)](_0x5caf90[_0x1a2a23(0x46a)],_0x5caf90[_0x1a2a23(0x667)]):this[_0x1a2a23(0x3f6)]['mediator'][_0x1a2a23(0x215)](_0x5caf90[_0x1a2a23(0x667)]);const _0x50c8c6=_0x5f4c61(_0x351d2d[_0x1a2a23(0x40f)],{'contentType':_0x47065f[_0x1a2a23(0x447)][_0x1a2a23(0x6c3)],'label':_0x34990a['getShareableStreamId'](),'remoteId':_0xb41436}),_0x293580=this[_0x1a2a23(0x374)]();if(!this[_0x1a2a23(0x744)][_0x1a2a23(0x7e3)][_0x1a2a23(0x2d4)](_0x50c8c6)&&_0x293580>=this[_0x1a2a23(0x718)])return{'type':_0x3de62f[_0x1a2a23(0x835)],'ownerId':_0x5caf90[_0x1a2a23(0x46a)],'label':_0x5caf90[_0x1a2a23(0x667)],'streamId':_0x34990a[_0x1a2a23(0x6f1)](),'trackKinds':_0x5caf90[_0x1a2a23(0x641)],'params':_0x5caf90[_0x1a2a23(0x618)]};_0x34990a instanceof _0x80cb72&&!_0x34990a[_0x1a2a23(0x506)](_0x5caf90[_0x1a2a23(0x641)])&&_0x34990a[_0x1a2a23(0x431)](_0x5caf90[_0x1a2a23(0x618)]),this[_0x1a2a23(0x744)]['subscriptions']['has'](_0x50c8c6)||this[_0x1a2a23(0x350)](_0x34990a[_0x1a2a23(0x7e0)](_0xb41436),this[_0x1a2a23(0x3f6)][_0x1a2a23(0x5a9)][_0x1a2a23(0x63a)](_0xb41436));}[_0x5dd398(0x246)](_0x5edb0d,{label:_0x48caf0,ownerId:_0x2ad87a,remainingTracks:_0x3a7aa7}){const _0x5d8073=_0x5dd398;if(_0x3a7aa7>0x0)return;let _0x5543d2;_0x5543d2=_0x2ad87a!==this[_0x5d8073(0x3f6)]['localNode']['getId']()?this['configs'][_0x5d8073(0x5a9)][_0x5d8073(0x777)](_0x2ad87a,_0x48caf0):this[_0x5d8073(0x3f6)][_0x5d8073(0x5a9)][_0x5d8073(0x215)](_0x48caf0);const _0x4a5944=_0x5543d2[_0x5d8073(0x6f1)](),_0x475523=_0x47065f[_0x5d8073(0x447)][_0x5d8073(0x6c3)];this[_0x5d8073(0x23c)](_0x4a5944,_0x475523,_0x5edb0d);}[_0x5dd398(0x49c)](_0x33c4b0,{label:_0x237701,ownerId:_0x5cde9c,trackKinds:_0x47bf94}){const _0x4bc471=_0x5dd398;if(_0x33c4b0!==_0x384096)return[];let _0x179eb5=[];for(const _0x326975 of this[_0x4bc471(0x744)][_0x4bc471(0x7e3)]){const {source:_0x33f31b,destination:_0x442d5b}=_0x326975[0x1];_0x33f31b[_0x4bc471(0x544)]()===_0x237701&&_0x33f31b[_0x4bc471(0x245)]()===_0x5cde9c&&_0x179eb5[_0x4bc471(0x28d)]({'sourceId':this['configs'][_0x4bc471(0x5fb)][_0x4bc471(0x330)](),'destinationIds':[_0x442d5b[_0x4bc471(0x48d)]()],'messageType':_0x3efa6a[_0x4bc471(0x280)],'content':{'type':_0x3de62f[_0x4bc471(0x40e)],'label':_0x237701,'ownerId':_0x5cde9c,'trackKinds':_0x47bf94}});}return _0x179eb5;}['handleSubscriptionNeedMediaStream'](_0x55bb33,_0x2e9ebd){const _0x29d02c=_0x5dd398,{label:_0x13b2d6,ownerId:_0x28a9b2,trackKinds:_0x2f8031,params:_0x3c23cd}=_0x2e9ebd,{hasTracks:_0x586bd6,streamId:_0x50b507,hasResolution:_0xd40b15,distance:_0x1f7643,subscriptionLabel:_0x54a5ee}=this[_0x29d02c(0x5d0)](_0x55bb33,_0x2e9ebd);let _0x2a18f1=this[_0x29d02c(0x374)]()<this[_0x29d02c(0x718)]&&(_0x586bd6||_0x1f7643>-0x1)?_0x3de62f[_0x29d02c(0x648)]:_0x3de62f[_0x29d02c(0x1fa)];const _0x5654b9=_0x1f7643<0x0?0xa:_0x1f7643;let _0x194423=_0x586bd6?_0xd40b15?_0x5654b9:_0x5654b9+0x0:_0x5654b9+0xa;return _0x54a5ee&&this[_0x29d02c(0x744)][_0x29d02c(0x7e3)][_0x29d02c(0x2d4)](_0x54a5ee)&&(_0x586bd6&&(_0x194423=0x0),_0x2a18f1=_0x3de62f[_0x29d02c(0x648)]),{'type':_0x2a18f1,'cost':_0x194423,'distance':_0x1f7643,'label':_0x13b2d6,'ownerId':_0x28a9b2,'streamId':_0x50b507,'trackKinds':_0x2f8031,'params':_0x3c23cd};}[_0x5dd398(0x54d)](_0x392ac3){const _0xecc490=_0x5dd398,{label:_0x5d4bae,ownerId:_0x15cf63}=_0x392ac3,_0xa38999=this[_0xecc490(0x3f6)][_0xecc490(0x5a9)][_0xecc490(0x777)](_0x15cf63,_0x5d4bae);this['maps'][_0xecc490(0x7e3)][_0xecc490(0x710)](_0xf66c23=>{const _0xae59e8=_0xecc490;if(_0xf66c23[_0xae59e8(0x5d3)][_0xae59e8(0x655)]()===_0xa38999[_0xae59e8(0x6f1)]()){const _0x49a0af=_0xf66c23['destination'];this[_0xae59e8(0x23c)](_0xa38999['getShareableStreamId'](),_0x47065f['ContentType'][_0xae59e8(0x6c3)],_0x49a0af[_0xae59e8(0x48d)]());}});}[_0x5dd398(0x2f9)]({label:_0x542f4d}){const _0x30545f=_0x5dd398,_0x522420=this[_0x30545f(0x3f6)]['mediator'][_0x30545f(0x215)](_0x542f4d);this[_0x30545f(0x744)][_0x30545f(0x7e3)]['forEach'](_0x3bd45e=>{const _0x41e381=_0x30545f;if(_0x3bd45e[_0x41e381(0x5d3)][_0x41e381(0x655)]()===_0x522420[_0x41e381(0x6f1)]()){const _0x540318=_0x3bd45e[_0x41e381(0x65d)];this[_0x41e381(0x23c)](_0x522420[_0x41e381(0x6f1)](),_0x47065f[_0x41e381(0x447)][_0x41e381(0x6c3)],_0x540318[_0x41e381(0x48d)]());}});}[_0x5dd398(0x747)](_0x27f708){const _0x3d50ed=_0x5dd398;this[_0x3d50ed(0x744)][_0x3d50ed(0x747)](_0x27f708);}[_0x5dd398(0x362)](){const _0x2ccdd4=_0x5dd398;this[_0x2ccdd4(0x744)]['subscriptions'][_0x2ccdd4(0x710)](this['closeSubscription'][_0x2ccdd4(0x437)](this));}[_0x5dd398(0x3a3)](_0x137b8a,_0x1c5e95){const _0x47fa1e=_0x5dd398;this[_0x47fa1e(0x744)][_0x47fa1e(0x3a3)](_0x137b8a,_0x1c5e95);}['getSubscriptionInfo'](_0x5c51c7,{label:_0x573c97,ownerId:_0x16906b,trackKinds:_0x183d62,params:_0xed319a}){const _0x29c0b1=_0x5dd398;if(_0x16906b!==this[_0x29c0b1(0x3f6)]['localNode']['getId']()){const _0x31e7fb=this['configs'][_0x29c0b1(0x5a9)][_0x29c0b1(0x777)](_0x16906b,_0x573c97);return _0x31e7fb&&_0x31e7fb[_0x29c0b1(0x79e)]()!==_0x5c51c7?{'hasTracks':_0x31e7fb['hasTracks'](_0x183d62),'hasResolution':this[_0x29c0b1(0x24e)](_0x31e7fb[_0x29c0b1(0x40d)](),_0xed319a),'streamId':_0x31e7fb[_0x29c0b1(0x6f1)](),'distance':this[_0x29c0b1(0x3f6)]['mediator']['getDistance'](_0x5c51c7,_0x16906b),'subscriptionLabel':_0x5f4c61(_0x351d2d['Outgoing'],{'contentType':_0x47065f[_0x29c0b1(0x447)][_0x29c0b1(0x6c3)],'label':_0x31e7fb[_0x29c0b1(0x6f1)](),'remoteId':_0x5c51c7})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0xe44d0=this['configs']['mediator']['getLocalMediaStream'](_0x573c97);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0xe44d0[_0x29c0b1(0x6f1)](),'distance':0x0,'subscriptionLabel':_0x5f4c61(_0x351d2d[_0x29c0b1(0x40f)],{'contentType':_0x47065f[_0x29c0b1(0x447)]['Media'],'label':_0xe44d0[_0x29c0b1(0x6f1)](),'remoteId':_0x5c51c7})};}[_0x5dd398(0x374)](){const _0x340cea=_0x5dd398;return Array['from'](this[_0x340cea(0x744)][_0x340cea(0x7e3)][_0x340cea(0x805)]())[_0x340cea(0x60e)](([_0x4efd67,{source:_0x13b273}])=>_0x4efd67[_0x340cea(0x30e)](_0x351d2d[_0x340cea(0x40f)])&&_0x13b273['getContentType']()===_0x47065f['ContentType']['Media'])['length'];}[_0x5dd398(0x24e)](_0x64a21c,_0x534901){const _0x248c8e=_0x5dd398;if(!_0x534901||!_0x534901[_0x248c8e(0x51f)]||_0x248c8e(0x3ca)==typeof _0x534901[_0x248c8e(0x51f)]||!_0x534901['video'][_0x248c8e(0x743)])return!0x0;const {width:_0x39bbad,height:_0xc8cea7}=_0x534901['video']['maxResolution'];return _0x64a21c['width']>=_0x39bbad&&_0x64a21c[_0x248c8e(0x6b1)]>=_0xc8cea7;}}class _0x3e417b{['configs'];[_0x5dd398(0x718)];[_0x5dd398(0x455)];[_0x5dd398(0x7fa)];['incomingManager'];['outgoingManager'];constructor(_0x5e55a2,_0x892c3d,_0x1775df){const _0x421412=_0x5dd398;this[_0x421412(0x3f6)]=_0x5e55a2,this[_0x421412(0x718)]=_0x892c3d,this[_0x421412(0x455)]=_0x1775df,this['configs']['mediator']['registerSystemSource'](this),this[_0x421412(0x843)]=new _0x367522(this['configs'],this['maxDistance']),this[_0x421412(0x2e6)]=new _0x488e5f(this[_0x421412(0x3f6)],this[_0x421412(0x718)]);}[_0x5dd398(0x442)](_0x53db60){this['systemTopic']=_0x53db60;}['unregisterSystemPublisher'](){delete this['systemTopic'];}[_0x5dd398(0x362)](){const _0x23f492=_0x5dd398;this['incomingManager']['close'](),this[_0x23f492(0x2e6)][_0x23f492(0x362)](),this[_0x23f492(0x3f6)][_0x23f492(0x5a9)][_0x23f492(0x536)](this);}['createIncomingSubscription'](_0x3781ae,_0x3244e5){const _0x2f897c=_0x5dd398;this[_0x2f897c(0x843)][_0x2f897c(0x350)](_0x3781ae,_0x3244e5);}['createOutgoingSubscription'](_0x4db35c,_0x34c1c2){const _0x1a9889=_0x5dd398;this[_0x1a9889(0x2e6)][_0x1a9889(0x350)](_0x4db35c,_0x34c1c2);}[_0x5dd398(0x781)](_0x5d2827,_0x49ddc1,_0x4a9d7e=''){const _0x83b27a=_0x5dd398;this[_0x83b27a(0x843)][_0x83b27a(0x23c)](_0x5d2827,_0x49ddc1,_0x4a9d7e);}[_0x5dd398(0x207)](_0x28815e,_0x2d0e89,_0x3f4c8a=''){const _0x26e0e2=_0x5dd398;try{this[_0x26e0e2(0x2e6)][_0x26e0e2(0x23c)](_0x28815e,_0x2d0e89,_0x3f4c8a);}catch(_0x103ba7){if(_0x103ba7 instanceof _0x189e7c&&_0x103ba7[_0x26e0e2(0x4fe)]===_0x189e7c['codes'][_0x26e0e2(0x4b3)])return;}}[_0x5dd398(0x37d)](_0x5a5f37){const _0x44b51f=_0x5dd398;switch(_0x5a5f37[_0x44b51f(0x69a)][_0x44b51f(0x72a)]){case _0x3de62f[_0x44b51f(0x4a1)]:this['handleSubscriptionSubscribeMediaStream'](_0x5a5f37[_0x44b51f(0x562)],_0x5a5f37['content']);break;case _0x3de62f[_0x44b51f(0x551)]:this['outgoingManager'][_0x44b51f(0x246)](_0x5a5f37['sourceId'],_0x5a5f37[_0x44b51f(0x69a)]);break;case _0x3de62f[_0x44b51f(0x477)]:this[_0x44b51f(0x326)](_0x5a5f37[_0x44b51f(0x562)],_0x5a5f37[_0x44b51f(0x69a)]);break;case _0x3de62f['RestartNeedMediaStream']:this['incomingManager'][_0x44b51f(0x416)](_0x5a5f37[_0x44b51f(0x562)],_0x5a5f37['content']);break;case _0x3de62f[_0x44b51f(0x648)]:case _0x3de62f[_0x44b51f(0x1fa)]:this[_0x44b51f(0x843)][_0x44b51f(0x7c8)](_0x5a5f37[_0x44b51f(0x562)],_0x5a5f37[_0x44b51f(0x69a)]);break;case _0x3de62f['MediaStreamUnavailable']:this[_0x44b51f(0x843)]['handleSubscriptionMediaStreamUnavailable'](_0x5a5f37[_0x44b51f(0x562)],_0x5a5f37[_0x44b51f(0x69a)]);}}[_0x5dd398(0x364)](_0x6d3758){const _0x1a8e86=_0x5dd398;switch(_0x6d3758[_0x1a8e86(0x69a)]['type']){case _0x47bc97[_0x1a8e86(0x1b3)]:this[_0x1a8e86(0x843)][_0x1a8e86(0x54d)](_0x6d3758[_0x1a8e86(0x69a)]),this['outgoingManager'][_0x1a8e86(0x54d)](_0x6d3758[_0x1a8e86(0x69a)]);break;case _0x47bc97['SubscribeMediaStream']:this['incomingManager']['handleContentSubscribeMediaStream'](_0x6d3758[_0x1a8e86(0x69a)]);break;case _0x47bc97[_0x1a8e86(0x4cc)]:this[_0x1a8e86(0x843)][_0x1a8e86(0x649)](_0x6d3758[_0x1a8e86(0x69a)]);break;case _0x47bc97[_0x1a8e86(0x551)]:this[_0x1a8e86(0x49c)](_0x6d3758['sourceId'],_0x6d3758[_0x1a8e86(0x69a)]);break;case _0x47bc97['CloseMediaStream']:this['outgoingManager']['handleContentCloseMediaStream'](_0x6d3758[_0x1a8e86(0x69a)]);break;case _0x47bc97['ClosePubSubTopic']:this[_0x1a8e86(0x50a)](_0x6d3758['content']);break;case _0x47bc97['CloseObjectStoreBucket']:this['handleContentCloseObjectStore'](_0x6d3758[_0x1a8e86(0x69a)]);break;case _0x47bc97[_0x1a8e86(0x3be)]:this[_0x1a8e86(0x74d)](_0x6d3758[_0x1a8e86(0x69a)]);break;case _0x47bc97[_0x1a8e86(0x847)]:case _0x47bc97['CloseJobWorker']:this[_0x1a8e86(0x715)](_0x6d3758[_0x1a8e86(0x69a)]);break;case _0x47bc97[_0x1a8e86(0x6be)]:this[_0x1a8e86(0x843)][_0x1a8e86(0x4b0)](_0x6d3758[_0x1a8e86(0x69a)]);}}[_0x5dd398(0x4d4)]({content:_0x3ee9bf}){const _0x101bd0=_0x5dd398;_0x3ee9bf[_0x101bd0(0x72a)]===_0x3a7a00[_0x101bd0(0x5b1)]&&this[_0x101bd0(0x747)](_0x3ee9bf);}[_0x5dd398(0x3ab)](_0x2a5c55){const _0x5d5aca=_0x5dd398;_0x2a5c55[_0x5d5aca(0x69a)][_0x5d5aca(0x72a)]===_0x3bfb21['OptimizationConnectionSuccess']&&this['incomingManager']['handleOptimizationConnectionSuccess'](_0x2a5c55[_0x5d5aca(0x562)]);}[_0x5dd398(0x49c)](_0x463153,_0x1792f5){const _0x20ffaf=_0x5dd398;this['incomingManager']['handleContentUnsubscribeMediaStream'](_0x1792f5),this['outgoingManager']['handleContentUnsubscribeMediaStream'](_0x463153,_0x1792f5)[_0x20ffaf(0x710)](_0x5856d2=>this[_0x20ffaf(0x7fa)]['publish'](_0x5856d2));}[_0x5dd398(0x41b)](_0x40ea03,_0xeef67c){const _0x3a27f1=_0x5dd398,_0x29c045=this[_0x3a27f1(0x2e6)]['handleSubscriptionSubscribeMediaStream'](_0x40ea03,_0xeef67c);if(_0x29c045&&(this[_0x3a27f1(0x7fa)][_0x3a27f1(0x7b0)]({'sourceId':this[_0x3a27f1(0x3f6)]['localNode'][_0x3a27f1(0x330)](),'destinationIds':[_0x40ea03],'messageType':_0x3efa6a['Subscription'],'content':_0x29c045}),_0x29c045[_0x3a27f1(0x72a)]===_0x3de62f['RestartNeedMediaStream']))throw new _0x3fffd2(_0x3a27f1(0x714));}['handleSubscriptionNeedMediaStream'](_0x5bdd19,_0x20d9bc){const _0x26a992=_0x5dd398,_0x3a264f=this[_0x26a992(0x2e6)][_0x26a992(0x326)](_0x5bdd19,_0x20d9bc);this[_0x26a992(0x7fa)][_0x26a992(0x7b0)]({'sourceId':this[_0x26a992(0x3f6)][_0x26a992(0x5fb)][_0x26a992(0x330)](),'destinationIds':[_0x5bdd19],'messageType':_0x3efa6a[_0x26a992(0x280)],'content':_0x3a264f});}['handleContentCloseObjectStore']({label:_0x4902b9}){const _0x32a002=_0x5dd398;this[_0x32a002(0x781)](_0x4902b9,_0x47065f[_0x32a002(0x447)][_0x32a002(0x5eb)]),this['removeOutgoingSubscription'](_0x4902b9,_0x47065f['ContentType'][_0x32a002(0x5eb)]);}[_0x5dd398(0x74d)]({label:_0x50943c}){const _0x274609=_0x5dd398;this[_0x274609(0x781)](_0x50943c,_0x47065f['ContentType'][_0x274609(0x550)]),this[_0x274609(0x207)](_0x50943c,_0x47065f[_0x274609(0x447)][_0x274609(0x550)]);}[_0x5dd398(0x50a)]({label:_0x1f0dc5}){const _0x374609=_0x5dd398;this['removeIncomingSubscription'](_0x1f0dc5,_0x47065f[_0x374609(0x447)]['PubSub']),this[_0x374609(0x207)](_0x1f0dc5,_0x47065f[_0x374609(0x447)][_0x374609(0x5a8)]);}[_0x5dd398(0x715)]({label:_0x25b65c}){const _0x3ed532=_0x5dd398;this[_0x3ed532(0x781)](_0x25b65c,_0x47065f[_0x3ed532(0x447)][_0x3ed532(0x41a)]),this[_0x3ed532(0x207)](_0x25b65c,_0x47065f[_0x3ed532(0x447)]['Job']);}['removeSubscriptionsForNode']({id:_0x429cbf}){const _0x4173cb=_0x5dd398;this[_0x4173cb(0x843)][_0x4173cb(0x747)](_0x429cbf),this[_0x4173cb(0x2e6)][_0x4173cb(0x747)](_0x429cbf);}}class _0x1d86be{[_0x5dd398(0x667)];['listener']=_0x1c03f0();constructor(){this['label']=0x0;}[_0x5dd398(0x544)](){const _0x8f11cd=_0x5dd398;return this[_0x8f11cd(0x667)];}[_0x5dd398(0x323)](){const _0x403c36=_0x5dd398;return _0x47065f[_0x403c36(0x447)][_0x403c36(0x4ad)];}[_0x5dd398(0x70d)](_0x43e1e2){_0x43e1e2['registerSystemPublisher'](this);}[_0x5dd398(0x545)](_0x290fad){const _0x2117b9=_0x5dd398;_0x290fad[_0x2117b9(0x7d9)]();}['publish'](_0x3f7a3a){const _0x4939d2=_0x5dd398;_0x52f76b[_0x4939d2(0x20d)](_0x4f3b4c['Events'],_0x4939d2(0x6ae),_0x3f7a3a['sourceId'],_0x3f7a3a),this[_0x4939d2(0x298)][_0x4939d2(0x7b0)]({'topicLabel':this[_0x4939d2(0x667)],'contentType':_0x47065f['ContentType']['Data'],'uuid':_0x3f7a3a[_0x4939d2(0x445)]??(0x0,_0x2b9c8e['v4'])(),'recipients':_0x3f7a3a[_0x4939d2(0x375)]??[],..._0x3f7a3a});}[_0x5dd398(0x431)](_0x531cfa){const _0x2f8b2d=_0x5dd398;return this[_0x2f8b2d(0x298)]['subscribe'](_0x531cfa);}}class _0x4cd92e{[_0x5dd398(0x5cf)];[_0x5dd398(0x407)];[_0x5dd398(0x455)];[_0x5dd398(0x52c)]=[];[_0x5dd398(0x57c)];[_0x5dd398(0x347)]=new Map();constructor(_0x72141f,_0x47b296,_0x283bb1){const _0x99e226=_0x5dd398;this[_0x99e226(0x5cf)]=_0x72141f,this['maxConnections']=_0x47b296,this[_0x99e226(0x455)]=_0x283bb1,this[_0x99e226(0x57c)]=(this[_0x99e226(0x407)]-0x2*this[_0x99e226(0x5cf)])/0x2,this[_0x99e226(0x52c)][_0x99e226(0x28d)]({'start':0x1,'end':this['getNextTargetRank'](0x1,0x1)-0x1});for(let _0xfa9f8c=0x0;_0xfa9f8c<this[_0x99e226(0x57c)];++_0xfa9f8c)this[_0x99e226(0x52c)][_0x99e226(0x28d)]({'start':this['getNextTargetRank'](0x1,_0xfa9f8c+0x1),'end':this['getNextTargetRank'](0x1,_0xfa9f8c+0x2)-0x1});}['getNextTargetRank'](_0x265170,_0x40d598=0x1){const _0x518767=_0x5dd398;let _0xc87f29=this[_0x518767(0x455)]-this[_0x518767(0x5cf)],_0x47e5d=0x1;for(let _0x10c12f=0x1;_0x10c12f<_0x40d598;++_0x10c12f)_0xc87f29*=this[_0x518767(0x455)]-this[_0x518767(0x5cf)]-_0x10c12f,_0x47e5d*=this[_0x518767(0x455)]-this['minConnections']-_0x10c12f+0x1;return _0xc87f29*this[_0x518767(0x5cf)]+_0x265170-_0x47e5d;}[_0x5dd398(0x7e7)](_0x46e216){const _0x5a749d=_0x5dd398;let _0x34b634=0x0;for(;this[_0x5a749d(0x52c)][_0x34b634][_0x5a749d(0x30c)]<_0x46e216;)_0x34b634+=0x1;return _0x34b634;}[_0x5dd398(0x522)](){const _0x42ca62=_0x5dd398;return this[_0x42ca62(0x5cf)];}[_0x5dd398(0x500)](){const _0x206ec8=_0x5dd398;return this[_0x206ec8(0x407)];}[_0x5dd398(0x729)](){const _0x230e54=_0x5dd398;return this[_0x230e54(0x455)];}['getRemoteNodes'](){const _0x1f7e31=_0x5dd398;return this[_0x1f7e31(0x347)];}['setRemoteNode'](_0x379324,_0x5a6409){const _0x36c25c=_0x5dd398;this[_0x36c25c(0x347)][_0x36c25c(0x549)](_0x379324,_0x5a6409);}[_0x5dd398(0x73e)](_0x2f5c78){const _0x589a46=_0x5dd398;return this[_0x589a46(0x347)][_0x589a46(0x2d4)](_0x2f5c78);}[_0x5dd398(0x6bc)](_0x2ff696){const _0x10620a=_0x5dd398;return this[_0x10620a(0x347)][_0x10620a(0x7ef)](_0x2ff696);}[_0x5dd398(0x6c4)](_0x5f1e5b){const _0x21edf7=_0x5dd398;this[_0x21edf7(0x347)][_0x21edf7(0x2d8)](_0x5f1e5b);}[_0x5dd398(0x692)](_0x3523ad,_0x1b32c6){const _0xd559e=_0x5dd398,_0x5577ba=this[_0xd559e(0x6bc)](_0x1b32c6)?.[_0xd559e(0x6c7)]()??0x0;return _0x3523ad[_0xd559e(0x58c)](_0x4f1f57=>this[_0xd559e(0x6bc)](_0x4f1f57))['filter'](_0x53c186=>void 0x0!==_0x53c186)[_0xd559e(0x615)]((_0x1b0147,_0xf02ed9)=>Math['abs'](_0x5577ba-(_0x1b0147&&_0x1b0147[_0xd559e(0x6c7)]()||0x1/0x0))-Math[_0xd559e(0x2c7)](_0x5577ba-(_0xf02ed9&&_0xf02ed9[_0xd559e(0x6c7)]()||0x1/0x0)))[_0xd559e(0x58c)](_0x4cbbdd=>_0x4cbbdd[_0xd559e(0x330)]());}}class _0x419c5e{[_0x5dd398(0x6eb)];[_0x5dd398(0x1ff)];['authNode'];[_0x5dd398(0x7b8)];[_0x5dd398(0x73d)];[_0x5dd398(0x3f6)];[_0x5dd398(0x68e)];['contentManager'];['connectionManager'];['subscriptionManager'];[_0x5dd398(0x6ed)];['detectionManager'];[_0x5dd398(0x7ab)];[_0x5dd398(0x611)];[_0x5dd398(0x76c)];[_0x5dd398(0x7fa)]=new _0x1d86be();[_0x5dd398(0x6e2)];['localNode'];constructor(_0xf3d648,_0x178640,_0xfc7d87,_0x406ade,_0x615772,_0x3f86f6,_0x1232d2){const _0xf58125=_0x5dd398;switch(this['vendorId']=_0xf3d648,this[_0xf58125(0x1ff)]=_0x178640,this[_0xf58125(0x742)]=_0xfc7d87,this[_0xf58125(0x7b8)]=_0x406ade,this[_0xf58125(0x73d)]=_0x615772,this[_0xf58125(0x3f6)]=_0x3f86f6,this[_0xf58125(0x68e)]=_0x1232d2,_0xfc7d87[_0xf58125(0x72a)]){case _0x47065f[_0xf58125(0x307)][_0xf58125(0x749)]:this[_0xf58125(0x5fb)]=new _0x36af76(_0xfc7d87[_0xf58125(0x330)](),_0xfc7d87['getDisplayName'](),_0xfc7d87['getEmail']());break;case _0x47065f[_0xf58125(0x307)][_0xf58125(0x586)]:default:this[_0xf58125(0x5fb)]=new _0x36be30(_0xfc7d87['getId']());}const _0x16c820=this[_0xf58125(0x861)]();this['graphService']=new _0x4cd92e(this[_0xf58125(0x73d)][_0xf58125(0x5cf)],this[_0xf58125(0x73d)][_0xf58125(0x407)],this[_0xf58125(0x73d)][_0xf58125(0x455)]),this[_0xf58125(0x6f9)]=new _0x415d2d(_0x16c820,this[_0xf58125(0x73d)][_0xf58125(0x4d2)],this['options'][_0xf58125(0x503)]),this[_0xf58125(0x576)]=new _0x3a723c(_0x16c820,this[_0xf58125(0x7b8)],this[_0xf58125(0x3f6)][_0xf58125(0x1e4)],this[_0xf58125(0x73d)]['maxFps'],this['options'][_0xf58125(0x2c6)],this[_0xf58125(0x76c)],this[_0xf58125(0x73d)]['peerConnectionConnector']),this['subscriptionManager']=new _0x3e417b(_0x16c820,this[_0xf58125(0x73d)]['maxOutgoingSubscriptions'],this[_0xf58125(0x76c)][_0xf58125(0x729)]()),this['statsManager']=new _0x4d6708(_0x16c820),this[_0xf58125(0x4c9)]=new _0xee56db(_0x16c820),this['remediationManager']=new _0x269635(_0x16c820),this[_0xf58125(0x611)]=new _0x120f06(_0x16c820,this[_0xf58125(0x76c)],this[_0xf58125(0x5fb)]),this[_0xf58125(0x6e2)]=this[_0xf58125(0x461)]();}['open'](){const _0x24295b=_0x5dd398,_0x1e3fda=this['getConfigs']();this[_0x24295b(0x576)]=new _0x3a723c(_0x1e3fda,this[_0x24295b(0x7b8)],this[_0x24295b(0x3f6)][_0x24295b(0x1e4)],this['options']['maxFps'],this[_0x24295b(0x73d)]['maxBpp'],this['graphService'],this[_0x24295b(0x73d)]['peerConnectionConnector']),this['subscriptionManager']=new _0x3e417b(_0x1e3fda,this['options'][_0x24295b(0x718)],this[_0x24295b(0x76c)][_0x24295b(0x729)]()),this[_0x24295b(0x6ed)]=new _0x4d6708(_0x1e3fda),this[_0x24295b(0x4c9)]=new _0xee56db(_0x1e3fda),this[_0x24295b(0x7ab)]=new _0x269635(_0x1e3fda),this[_0x24295b(0x611)]=new _0x120f06(_0x1e3fda,this[_0x24295b(0x76c)],this[_0x24295b(0x5fb)]);const _0x588e80=this[_0x24295b(0x576)][_0x24295b(0x541)]();this[_0x24295b(0x6f9)][_0x24295b(0x841)]()[_0x24295b(0x710)](_0xe42ba=>{const _0x2d74fe=_0x24295b;this[_0x2d74fe(0x846)]['createOutgoingSubscription'](_0xe42ba,_0x588e80),this['subscriptionManager']['createIncomingSubscription'](_0x588e80,_0xe42ba),_0xe42ba['reset']();}),this[_0x24295b(0x6f9)][_0x24295b(0x601)]()[_0x24295b(0x710)](_0x164815=>{const _0x149a9a=_0x24295b;this[_0x149a9a(0x846)][_0x149a9a(0x7fb)](_0x164815,_0x588e80),this[_0x149a9a(0x846)][_0x149a9a(0x4c4)](_0x588e80,_0x164815),_0x164815[_0x149a9a(0x567)](),_0x164815[_0x149a9a(0x7c3)]();}),this[_0x24295b(0x6f9)][_0x24295b(0x321)]()[_0x24295b(0x710)](_0x2378f0=>{const _0x2c84ca=_0x24295b;this[_0x2c84ca(0x846)][_0x2c84ca(0x7fb)](_0x2378f0,_0x588e80),this[_0x2c84ca(0x846)][_0x2c84ca(0x4c4)](_0x588e80,_0x2378f0),_0x2378f0[_0x2c84ca(0x567)](),this[_0x2c84ca(0x63e)](_0x2378f0);}),this[_0x24295b(0x6f9)][_0x24295b(0x3f1)]()['forEach'](_0x43792e=>{const _0x406e46=_0x24295b;this['subscriptionManager'][_0x406e46(0x7fb)](_0x43792e,_0x588e80),this['subscriptionManager'][_0x406e46(0x4c4)](_0x588e80,_0x43792e),_0x43792e[_0x406e46(0x567)]();}),this[_0x24295b(0x6f9)][_0x24295b(0x3d5)]()[_0x24295b(0x710)](_0x3f4715=>{const _0x1f8a89=_0x24295b;this['subscriptionManager'][_0x1f8a89(0x7fb)](_0x3f4715,_0x588e80),this['subscriptionManager'][_0x1f8a89(0x4c4)](_0x588e80,_0x3f4715),_0x3f4715[_0x1f8a89(0x567)]();}),this['systemTopicUnsubscribe']=this[_0x24295b(0x461)]();}[_0x5dd398(0x7ba)](_0x27766d){const _0x2e0707=_0x5dd398;try{this[_0x2e0707(0x7fa)][_0x2e0707(0x70d)](_0x27766d);}catch(_0x796cee){this[_0x2e0707(0x7cb)](_0x796cee,{});}}[_0x5dd398(0x536)](_0x2854c5){const _0x3d6a40=_0x5dd398;try{this[_0x3d6a40(0x7fa)][_0x3d6a40(0x545)](_0x2854c5);}catch(_0x2f59d7){this[_0x3d6a40(0x7cb)](_0x2f59d7,{});}}[_0x5dd398(0x3b4)](_0x381373,_0x6cbcf4){const _0x2b4d36=_0x5dd398;return this['connectionManager'][_0x2b4d36(0x3b4)](_0x381373,_0x6cbcf4);}['getConnection'](_0x24d19a){const _0x32e92b=_0x5dd398;try{return this[_0x32e92b(0x576)][_0x32e92b(0x63a)](_0x24d19a);}catch(_0x3c937a){throw this['handleError'](_0x3c937a,{});}}[_0x5dd398(0x2fd)](_0x5ad99e){const _0x8852d=_0x5dd398;try{return this[_0x8852d(0x576)][_0x8852d(0x2fd)](_0x5ad99e);}catch(_0x45d5ea){throw this[_0x8852d(0x7cb)](_0x45d5ea,{});}}['getRemoteMediaStream'](_0x506895,_0x18f701){const _0xc2c90e=_0x5dd398;try{return this[_0xc2c90e(0x6f9)][_0xc2c90e(0x5f8)](_0x35e9c5=>_0x35e9c5[_0xc2c90e(0x245)]()===_0x506895&&_0x35e9c5['getLabel']()===_0x18f701)[0x0];}catch(_0x139323){throw this[_0xc2c90e(0x7cb)](_0x139323,{});}}[_0x5dd398(0x215)](_0x47c9d2){const _0x54948c=_0x5dd398;try{return this[_0x54948c(0x6f9)][_0x54948c(0x28c)](_0x2c7832=>_0x2c7832[_0x54948c(0x544)]()===_0x47c9d2)[0x0];}catch(_0x368989){throw this[_0x54948c(0x7cb)](_0x368989,{});}}[_0x5dd398(0x770)]=(..._0x3aaef5)=>{const _0x254ccb=_0x5dd398;try{return this[_0x254ccb(0x68e)]['emit'](..._0x3aaef5);}catch(_0x1940f8){throw this['handleError'](_0x1940f8,{});}};[_0x5dd398(0x239)](_0x459537){const _0x761b6a=_0x5dd398;try{this[_0x761b6a(0x6ed)][_0x761b6a(0x724)](_0x459537);}catch(_0x13bbdc){throw this[_0x761b6a(0x7cb)](_0x13bbdc,{});}}[_0x5dd398(0x1db)](_0x58b16f){const _0x342e41=_0x5dd398;try{this[_0x342e41(0x6ed)][_0x342e41(0x7d0)](_0x58b16f);}catch(_0x5686f6){throw this[_0x342e41(0x7cb)](_0x5686f6,{});}}[_0x5dd398(0x56b)](_0x381a97){const _0x5e1ef5=_0x5dd398;return this[_0x5e1ef5(0x576)][_0x5e1ef5(0x56b)](_0x381a97);}async['initialize'](){const _0x312fd3=_0x5dd398;try{await this[_0x312fd3(0x576)][_0x312fd3(0x2a5)]();const _0x34e709=await this[_0x312fd3(0x611)][_0x312fd3(0x1eb)]();for(const _0x2a0a7b of _0x34e709)this['connectionManager'][_0x312fd3(0x3b4)](_0x2a0a7b);}catch(_0x3c9445){throw this[_0x312fd3(0x7cb)](_0x3c9445,{});}}['updateUser'](_0x1efc4a){const _0x3db517=_0x5dd398;this[_0x3db517(0x5fb)][_0x3db517(0x72a)]===_0x47065f[_0x3db517(0x307)][_0x3db517(0x749)]&&(this[_0x3db517(0x5fb)]['setEmail'](_0x1efc4a[_0x3db517(0x6a5)]()),this[_0x3db517(0x5fb)]['setDisplayName'](_0x1efc4a[_0x3db517(0x23d)]()));}['close'](_0x5d0e11=!0x1){const _0x32154c=_0x5dd398;_0x52f76b[_0x32154c(0x6cc)](_0x32154c(0x45f),{'clusterId':this[_0x32154c(0x1ff)],'nodeId':this[_0x32154c(0x5fb)]['getId'](),'nodeType':this[_0x32154c(0x5fb)][_0x32154c(0x72a)]}),this[_0x32154c(0x6e2)](),this[_0x32154c(0x7ab)]['close'](),this[_0x32154c(0x4c9)][_0x32154c(0x362)](),this[_0x32154c(0x6ed)][_0x32154c(0x362)](),this[_0x32154c(0x846)][_0x32154c(0x362)](),this['connectionManager'][_0x32154c(0x362)](),this[_0x32154c(0x6f9)]['close'](_0x5d0e11),this[_0x32154c(0x611)][_0x32154c(0x362)]();}[_0x5dd398(0x7e4)](_0x8ac67e){const _0x1c0a58=_0x5dd398;try{const _0x15bb22=this[_0x1c0a58(0x6f9)][_0x1c0a58(0x420)](_0x8ac67e),_0x28b17a=this[_0x1c0a58(0x576)][_0x1c0a58(0x541)]();return this[_0x1c0a58(0x846)][_0x1c0a58(0x7fb)](_0x15bb22,_0x28b17a),this[_0x1c0a58(0x846)][_0x1c0a58(0x4c4)](_0x28b17a,_0x15bb22),_0x15bb22;}catch(_0x29f4e3){throw this['handleError'](_0x29f4e3,{});}}async[_0x5dd398(0x588)](_0x3ddd38,_0x2835c3){const _0x5d8eef=_0x5dd398;try{const _0x2c897a=this[_0x5d8eef(0x6f9)]['createObjectStoreBucket'](_0x3ddd38,this[_0x5d8eef(0x73d)][_0x5d8eef(0x64c)]),_0x31e977=this[_0x5d8eef(0x576)]['getConnectionGroup']();return this[_0x5d8eef(0x846)][_0x5d8eef(0x7fb)](_0x2c897a,_0x31e977),this[_0x5d8eef(0x846)]['createIncomingSubscription'](_0x31e977,_0x2c897a),await _0x2c897a[_0x5d8eef(0x7c3)](_0x2835c3?.['syncContent']??!0x0),_0x2c897a;}catch(_0x5a2fe0){throw this['handleError'](_0x5a2fe0,{});}}async[_0x5dd398(0x675)](_0x4623cf,_0x37f6f0){const _0x126326=_0x5dd398;try{const _0x161ef3=await this[_0x126326(0x6f9)][_0x126326(0x76b)](_0x4623cf,_0x37f6f0,this[_0x126326(0x73d)]['keyValueDatabaseConnector']),_0x302f76=this[_0x126326(0x576)]['getConnectionGroup']();return this['subscriptionManager'][_0x126326(0x7fb)](_0x161ef3,_0x302f76),this['subscriptionManager']['createIncomingSubscription'](_0x302f76,_0x161ef3),await _0x161ef3[_0x126326(0x42f)](),this['syncKeyValueDatabase'](_0x161ef3),_0x161ef3;}catch(_0x235d81){throw this[_0x126326(0x7cb)](_0x235d81,{});}}async[_0x5dd398(0x2c2)](_0x15f29f){const _0x1661b6=_0x5dd398;try{const _0x595a35=await this['contentManager']['createJobDispatcher'](_0x15f29f,this[_0x1661b6(0x76c)]),_0x10059b=this['connectionManager'][_0x1661b6(0x541)]();return this['subscriptionManager']['createOutgoingSubscription'](_0x595a35,_0x10059b),this[_0x1661b6(0x846)][_0x1661b6(0x4c4)](_0x10059b,_0x595a35),_0x595a35[_0x1661b6(0x42f)](),_0x595a35;}catch(_0x3a7a14){throw this[_0x1661b6(0x7cb)](_0x3a7a14,{});}}async[_0x5dd398(0x69e)](_0x4506f3){const _0xae0de6=_0x5dd398;throw new Error(_0xae0de6(0x4fb));}async['openGenerativeAIContext'](_0x221b25){const _0x533b14=_0x5dd398;try{const _0x101d87=await this[_0x533b14(0x588)]('ai-worker-'+_0x221b25,{'syncContent':!0x0}),_0x254390=await this[_0x533b14(0x6f9)][_0x533b14(0x2e1)](_0x221b25,this[_0x533b14(0x76c)],_0x101d87),_0x37bda6=this[_0x533b14(0x576)][_0x533b14(0x541)]();return this['subscriptionManager'][_0x533b14(0x7fb)](_0x254390,_0x37bda6),this['subscriptionManager']['createIncomingSubscription'](_0x37bda6,_0x254390),await _0x254390[_0x533b14(0x42f)](),_0x254390;}catch(_0x5a6a15){throw console[_0x533b14(0x7ee)](_0x5a6a15),this[_0x533b14(0x7cb)](_0x5a6a15,{});}}async['openGenerativeAIWorker'](_0x1d9b99){const _0x5c0e33=_0x5dd398;try{if(!this['options'][_0x5c0e33(0x75b)]||!this[_0x5c0e33(0x73d)][_0x5c0e33(0x7a8)])throw new _0x4ddc2b(_0xf6fbbf['GenerativeAIWorkerMissingConnectors'],_0x5c0e33(0x85a));if(!(this[_0x5c0e33(0x742)]instanceof _0x148f44))throw new _0x4ddc2b(_0xf6fbbf['NodeInvalidType'],_0x5c0e33(0x472));const _0x4dddc6=await this['openObjectStoreBucket'](_0x5c0e33(0x587)+_0x1d9b99),_0x3b8725=new this[(_0x5c0e33(0x73d))][(_0x5c0e33(0x75b))](this[_0x5c0e33(0x73d)]['vectorDatabaseConnector']),_0x343634=await this[_0x5c0e33(0x6f9)][_0x5c0e33(0x4c5)](_0x1d9b99,this['authNode'],_0x3b8725,_0x4dddc6),_0x42eb54=this['connectionManager'][_0x5c0e33(0x541)]();return this['subscriptionManager'][_0x5c0e33(0x7fb)](_0x343634,_0x42eb54),this[_0x5c0e33(0x846)][_0x5c0e33(0x4c4)](_0x42eb54,_0x343634),_0x343634[_0x5c0e33(0x42f)](),_0x343634;}catch(_0x4f5dc1){throw this[_0x5c0e33(0x7cb)](_0x4f5dc1,{});}}[_0x5dd398(0x841)](_0x3e4067){const _0x331f1a=_0x5dd398;try{return this[_0x331f1a(0x6f9)][_0x331f1a(0x841)](_0x3e4067);}catch(_0x5dd697){throw this[_0x331f1a(0x7cb)](_0x5dd697,{});}}[_0x5dd398(0x601)](_0x4895a1){const _0x40d91a=_0x5dd398;try{return this[_0x40d91a(0x6f9)][_0x40d91a(0x601)](_0x4895a1);}catch(_0x350a9c){throw this[_0x40d91a(0x7cb)](_0x350a9c,{});}}['getKeyValueDatabases'](_0x1ccf44){const _0x3dccb6=_0x5dd398;try{return this['contentManager'][_0x3dccb6(0x321)](_0x1ccf44);}catch(_0x58e8b7){throw this[_0x3dccb6(0x7cb)](_0x58e8b7,{});}}['getGenerativeAIContexts'](_0x10286e){const _0x2d11ea=_0x5dd398;try{return this[_0x2d11ea(0x6f9)][_0x2d11ea(0x631)](_0x10286e);}catch(_0x2766b8){throw this[_0x2d11ea(0x7cb)](_0x2766b8,{});}}['getGenerativeAIWorkers'](_0x5e6409){const _0x38cff1=_0x5dd398;try{return this[_0x38cff1(0x6f9)][_0x38cff1(0x3af)](_0x5e6409);}catch(_0x1f8119){throw this[_0x38cff1(0x7cb)](_0x1f8119,{});}}[_0x5dd398(0x820)](_0x120357,_0x47d351){const _0x153d0e=_0x5dd398;if(!this[_0x153d0e(0x3f6)][_0x153d0e(0x45c)][_0x153d0e(0x30f)](_0x8e4dee[_0x153d0e(0x2c5)]))throw new _0x4ddc2b(_0xf6fbbf[_0x153d0e(0x511)],_0x153d0e(0x1dc));try{return this[_0x153d0e(0x6f9)]['createLocalMediaStream'](_0x120357,_0x47d351);}catch(_0x28256e){throw this[_0x153d0e(0x7cb)](_0x28256e,{});}}['createLocalDynamicMediaStream'](_0x2c7e81,_0x30dcab){const _0x52d8af=_0x5dd398;if(!this[_0x52d8af(0x3f6)][_0x52d8af(0x45c)]['includes'](_0x8e4dee['MediaStream']))throw new _0x4ddc2b(_0xf6fbbf[_0x52d8af(0x511)],_0x52d8af(0x1dc));try{return this[_0x52d8af(0x6f9)]['createLocalDynamicMediaStream'](_0x2c7e81,_0x30dcab);}catch(_0x2be505){throw this[_0x52d8af(0x7cb)](_0x2be505,{});}}[_0x5dd398(0x28c)](_0x15e437){const _0x5a66b1=_0x5dd398;if(!this[_0x5a66b1(0x3f6)][_0x5a66b1(0x45c)]['includes'](_0x8e4dee[_0x5a66b1(0x2c5)]))throw new _0x4ddc2b(_0xf6fbbf[_0x5a66b1(0x511)],_0x5a66b1(0x1dc));try{return this['contentManager']['getLocalMediaStreams'](_0x15e437);}catch(_0x14c03e){throw this['handleError'](_0x14c03e,{});}}[_0x5dd398(0x5f8)](_0x46bd0e){const _0x549e4f=_0x5dd398;if(!this['configs'][_0x549e4f(0x45c)][_0x549e4f(0x30f)](_0x8e4dee[_0x549e4f(0x2c5)]))throw new _0x4ddc2b(_0xf6fbbf[_0x549e4f(0x511)],_0x549e4f(0x1dc));try{return this['contentManager']['getRemoteMediaStreams'](_0x46bd0e);}catch(_0x515974){throw this[_0x549e4f(0x7cb)](_0x515974,{});}}['getDistance'](_0x47b874,_0x1bb74e){const _0x885aaf=_0x5dd398;return this[_0x885aaf(0x611)][_0x885aaf(0x5a4)](_0x47b874,_0x1bb74e);}[_0x5dd398(0x251)](){const _0xf7eb71=_0x5dd398;return this[_0xf7eb71(0x611)][_0xf7eb71(0x251)]();}[_0x5dd398(0x385)](_0x24298f){const _0x7f17c2=_0x5dd398;try{return this[_0x7f17c2(0x611)][_0x7f17c2(0x385)](_0x24298f);}catch(_0x2a418b){throw this[_0x7f17c2(0x7cb)](_0x2a418b,{});}}['waitForArrayBufferSize'](){const _0x28764e=_0x5dd398;return this[_0x28764e(0x576)][_0x28764e(0x30d)]();}async[_0x5dd398(0x731)](_0x1396a9){const _0x5b2d09=_0x5dd398;try{if(_0x52f76b['log'](_0x4f3b4c[_0x5b2d09(0x612)],_0x5b2d09(0x4e5),this[_0x5b2d09(0x611)][_0x5b2d09(0x279)](),_0x1396a9),_0x4becc8(_0x1396a9,this[_0x5b2d09(0x611)][_0x5b2d09(0x279)]()))return void this['connectionManager']['handleOutgoingSystemEvents'](_0x1396a9);switch(_0x1396a9[_0x5b2d09(0x814)]){case _0x3efa6a[_0x5b2d09(0x5d2)]:this[_0x5b2d09(0x6ed)][_0x5b2d09(0x364)](_0x1396a9),this[_0x5b2d09(0x846)][_0x5b2d09(0x364)](_0x1396a9),this[_0x5b2d09(0x6f9)][_0x5b2d09(0x364)](_0x1396a9);break;case _0x3efa6a['Node']:this[_0x5b2d09(0x846)][_0x5b2d09(0x4d4)](_0x1396a9),this[_0x5b2d09(0x576)]['handleNodeSystemEvents'](_0x1396a9),this[_0x5b2d09(0x6f9)]['handleNodeSystemEvents'](_0x1396a9),this['nodeManager'][_0x5b2d09(0x4d4)](_0x1396a9);break;case _0x3efa6a['Detection']:this[_0x5b2d09(0x7ab)]['handleDetectionSystemEvents'](_0x1396a9);break;case _0x3efa6a[_0x5b2d09(0x817)]:this[_0x5b2d09(0x7ab)]['handleRemediationSystemEvents'](_0x1396a9);break;case _0x3efa6a[_0x5b2d09(0x1ca)]:this[_0x5b2d09(0x4c9)]['handleStatsSystemEvents'](_0x1396a9);break;case _0x3efa6a[_0x5b2d09(0x280)]:_0x1396a9[_0x5b2d09(0x69a)][_0x5b2d09(0x72a)]!==_0x3de62f[_0x5b2d09(0x551)]?(this[_0x5b2d09(0x846)][_0x5b2d09(0x37d)](_0x1396a9),this['contentManager'][_0x5b2d09(0x37d)](_0x1396a9)):(this[_0x5b2d09(0x6f9)][_0x5b2d09(0x37d)](_0x1396a9),this[_0x5b2d09(0x846)][_0x5b2d09(0x37d)](_0x1396a9));break;case _0x3efa6a[_0x5b2d09(0x2a9)]:await this[_0x5b2d09(0x576)][_0x5b2d09(0x3ab)](_0x1396a9),this[_0x5b2d09(0x6ed)][_0x5b2d09(0x3ab)](_0x1396a9),this[_0x5b2d09(0x611)]['handlePeerConnectionSystemEvents'](_0x1396a9),this[_0x5b2d09(0x846)]['handlePeerConnectionSystemEvents'](_0x1396a9);}}catch(_0x1d7abc){throw this['handleError'](_0x1d7abc,{});}}['handleError'](_0xbae974,_0x1c2dc8){const _0xa98948=_0x5dd398;if(!(_0xbae974 instanceof _0x3fffd2)){if(_0xbae974 instanceof _0x4ddc2b)throw _0xbae974;if(!(_0xbae974 instanceof Error))throw new _0x4ddc2b(_0xf6fbbf[_0xa98948(0x380)],_0xa98948(0x6e1)+_0xbae974);if(!(_0xbae974 instanceof _0x189e7c))throw new _0x4ddc2b(_0xf6fbbf['InternalSDKError'],_0xa98948(0x6ba)+_0xbae974[_0xa98948(0x3b2)]);switch(_0xbae974['code']){case _0x189e7c[_0xa98948(0x32a)][_0xa98948(0x435)]:case _0x189e7c[_0xa98948(0x32a)][_0xa98948(0x25d)]:case _0x189e7c[_0xa98948(0x32a)][_0xa98948(0x6d5)]:case _0x189e7c['codes'][_0xa98948(0x791)]:case _0x189e7c['codes'][_0xa98948(0x422)]:case _0x189e7c[_0xa98948(0x32a)]['InvalidDataChannel']:case _0x189e7c[_0xa98948(0x32a)]['InvalidPublisher']:case _0x189e7c[_0xa98948(0x32a)][_0xa98948(0x378)]:case _0x189e7c[_0xa98948(0x32a)]['SubscriptionRequestDoesNotExist']:case _0x189e7c['codes'][_0xa98948(0x270)]:case _0x189e7c[_0xa98948(0x32a)][_0xa98948(0x2d0)]:case _0x189e7c[_0xa98948(0x32a)][_0xa98948(0x4b3)]:}throw _0x52f76b[_0xa98948(0x7ee)](_0xa98948(0x483)+_0xbae974['message'],{'clusterId':this[_0xa98948(0x1ff)],'nodeId':this['localNode'][_0xa98948(0x330)](),'nodeType':this[_0xa98948(0x5fb)][_0xa98948(0x72a)]},_0xbae974),new _0x4ddc2b(_0xf6fbbf[_0xa98948(0x380)],'Internal\x20SDK\x20error:\x20'+_0xbae974[_0xa98948(0x3b2)]);}}[_0x5dd398(0x861)](){const _0x312cbf=_0x5dd398;return{'mediator':this,'vendorId':this[_0x312cbf(0x6eb)],'clusterId':this[_0x312cbf(0x1ff)],'localNode':this[_0x312cbf(0x5fb)]};}['initializeSystemTopic'](){const _0x517f5b=_0x5dd398;return this[_0x517f5b(0x7fa)][_0x517f5b(0x431)](_0x49f4a5=>{const _0x78e773=_0x517f5b,_0x3655b4=_0x3bd316(_0x49f4a5,this['localNode']['getId']()),_0x53da2c=_0x49f4a5[_0x78e773(0x814)]===_0x3efa6a[_0x78e773(0x1ca)]||_0x49f4a5['messageType']===_0x3efa6a['PeerConnection']&&_0x49f4a5[_0x78e773(0x69a)][_0x78e773(0x72a)]===_0x3bfb21[_0x78e773(0x1ca)]?_0x4f3b4c[_0x78e773(0x659)]:_0x4f3b4c[_0x78e773(0x3e3)];_0x52f76b[_0x78e773(0x598)](_0x53da2c,_0x49f4a5['uuid']+_0x78e773(0x3bd)+_0x3655b4,_0x49f4a5),this[_0x78e773(0x731)](_0x49f4a5)[_0x78e773(0x5ac)](_0x21034e=>{const _0x48e889=_0x78e773;console[_0x48e889(0x7ee)](_0x21034e);});});}async['syncKeyValueDatabase'](_0x1351c4,_0x298606){const _0x1607a5=_0x5dd398;_0x298606=this[_0x1607a5(0x730)](_0x298606),await _0x1351c4[_0x1607a5(0x7c3)](_0x298606,()=>this[_0x1607a5(0x63e)](_0x1351c4,_0x298606));}['findNextAncestor'](_0x5610ee){const _0x2df1f2=_0x5dd398,_0x318454=this[_0x2df1f2(0x611)]['getAncestorIds']();if(!_0x5610ee)return _0x318454[0x0];const _0x1a4cb2=_0x318454[_0x2df1f2(0x6ec)](_0x1b28fc=>_0x5610ee===_0x1b28fc),_0x1e5944=_0x318454[_0x1a4cb2+0x1];return _0x318454[_0x2df1f2(0x5f4)]>0x0&&!_0x1e5944?_0x318454[0x0]:_0x1e5944;}}class _0x4969fc{[_0x5dd398(0x6eb)];[_0x5dd398(0x1ff)];[_0x5dd398(0x742)];[_0x5dd398(0x24c)];[_0x5dd398(0x795)];constructor(_0x3228ff,_0x3bcc63,_0x136b3d,_0x2fd2e5,_0x8c35e8,_0x45ea86,_0x1fab90=new _0x2a68d2()){const _0x764f7=_0x5dd398;this['vendorId']=_0x3228ff,this[_0x764f7(0x1ff)]=_0x3bcc63,this[_0x764f7(0x742)]=_0x136b3d,this[_0x764f7(0x24c)]=_0x1fab90,this['orchestrator']=new _0x419c5e(this[_0x764f7(0x6eb)],this['clusterId'],_0x136b3d,_0x2fd2e5,_0x8c35e8,_0x45ea86,this);}async['join'](){const _0x550ae6=_0x5dd398;await this[_0x550ae6(0x795)][_0x550ae6(0x2a5)](),this[_0x550ae6(0x742)][_0x550ae6(0x72a)]===_0x47065f[_0x550ae6(0x307)][_0x550ae6(0x749)]&&this[_0x550ae6(0x742)][_0x550ae6(0x5ae)](this[_0x550ae6(0x1ff)],_0x4c4e5d=>{const _0x1a1316=_0x550ae6;this[_0x1a1316(0x795)][_0x1a1316(0x3d0)](_0x4c4e5d);});}[_0x5dd398(0x47e)](){const _0x29a63a=_0x5dd398;this[_0x29a63a(0x795)][_0x29a63a(0x362)](),this[_0x29a63a(0x742)][_0x29a63a(0x72a)]===_0x47065f[_0x29a63a(0x307)][_0x29a63a(0x749)]&&this[_0x29a63a(0x742)][_0x29a63a(0x2aa)](this[_0x29a63a(0x1ff)]),this[_0x29a63a(0x70a)](_0x29a63a(0x7ca),void 0x0);}['openPubSubTopic'](_0x1de941){const _0x50633c=_0x5dd398,_0x1e1867=this[_0x50633c(0x795)][_0x50633c(0x7e4)](_0x1de941);return{'getName':_0x1e1867['getName'][_0x50633c(0x437)](_0x1e1867),'getOwnerId':_0x1e1867['getOwnerId'][_0x50633c(0x437)](_0x1e1867),'getContentType':_0x1e1867['getContentType'][_0x50633c(0x437)](_0x1e1867),'publish':_0x1e1867[_0x50633c(0x7b0)][_0x50633c(0x437)](_0x1e1867),'subscribe':_0x1e1867[_0x50633c(0x431)][_0x50633c(0x437)](_0x1e1867),'unsubscribe':_0x1e1867['unsubscribe']['bind'](_0x1e1867),'close':_0x1e1867[_0x50633c(0x362)][_0x50633c(0x437)](_0x1e1867)};}async[_0x5dd398(0x588)](_0x4db852,_0x2027ec){const _0x51dd74=_0x5dd398,_0x50dd2e=await this['orchestrator']['openObjectStoreBucket'](_0x4db852,_0x2027ec);return{'getName':_0x50dd2e[_0x51dd74(0x73b)][_0x51dd74(0x437)](_0x50dd2e),'getOwnerId':_0x50dd2e[_0x51dd74(0x245)][_0x51dd74(0x437)](_0x50dd2e),'getContentType':_0x50dd2e[_0x51dd74(0x323)][_0x51dd74(0x437)](_0x50dd2e),'publish':_0x50dd2e[_0x51dd74(0x7b0)]['bind'](_0x50dd2e),'unpublish':_0x50dd2e[_0x51dd74(0x2b0)][_0x51dd74(0x437)](_0x50dd2e),'get':_0x50dd2e[_0x51dd74(0x7ef)]['bind'](_0x50dd2e),'list':_0x50dd2e[_0x51dd74(0x656)]['bind'](_0x50dd2e),'getSize':_0x50dd2e[_0x51dd74(0x832)]['bind'](_0x50dd2e),'subscribe':_0x50dd2e[_0x51dd74(0x431)]['bind'](_0x50dd2e),'unsubscribe':_0x50dd2e[_0x51dd74(0x7de)][_0x51dd74(0x437)](_0x50dd2e),'close':_0x50dd2e['close']['bind'](_0x50dd2e)};}async[_0x5dd398(0x675)](_0x4de36e,_0x30307a){const _0x1da095=_0x5dd398,_0x4a329c=await this[_0x1da095(0x795)][_0x1da095(0x675)](_0x4de36e,_0x30307a);return{'getName':_0x4a329c[_0x1da095(0x73b)]['bind'](_0x4a329c),'getOwnerId':_0x4a329c[_0x1da095(0x245)][_0x1da095(0x437)](_0x4a329c),'getContentType':_0x4a329c[_0x1da095(0x323)][_0x1da095(0x437)](_0x4a329c),'getTable':_0x4a329c['getTable'][_0x1da095(0x437)](_0x4a329c),'subscribe':_0x4a329c[_0x1da095(0x431)][_0x1da095(0x437)](_0x4a329c),'unsubscribe':_0x4a329c[_0x1da095(0x7de)][_0x1da095(0x437)](_0x4a329c),'close':_0x4a329c[_0x1da095(0x362)][_0x1da095(0x437)](_0x4a329c)};}async[_0x5dd398(0x2c2)](_0x136419){const _0x172641=_0x5dd398,_0x52001d=await this[_0x172641(0x795)][_0x172641(0x2c2)](_0x136419);return{'getName':_0x52001d[_0x172641(0x73b)][_0x172641(0x437)](_0x52001d),'getOwnerId':_0x52001d[_0x172641(0x245)][_0x172641(0x437)](_0x52001d),'getContentType':_0x52001d[_0x172641(0x323)][_0x172641(0x437)](_0x52001d),'createJob':_0x52001d[_0x172641(0x871)][_0x172641(0x437)](_0x52001d),'getJob':_0x52001d['getJob']['bind'](_0x52001d),'getJobs':_0x52001d[_0x172641(0x226)][_0x172641(0x437)](_0x52001d),'close':_0x52001d[_0x172641(0x362)]['bind'](_0x52001d)};}async[_0x5dd398(0x69e)](_0x4edabf){const _0x29ff53=_0x5dd398,_0x3870b6=await this[_0x29ff53(0x795)]['openJobWorker'](_0x4edabf);return{'close':_0x3870b6[_0x29ff53(0x362)][_0x29ff53(0x437)](_0x3870b6)};}async['openGenerativeAIContext'](_0x3d27f8){const _0x4bc386=_0x5dd398,_0x4e611d=await this[_0x4bc386(0x795)][_0x4bc386(0x1cb)](_0x3d27f8);return{'prompt':_0x4e611d['prompt']['bind'](_0x4e611d),'stream':_0x4e611d['stream'][_0x4bc386(0x437)](_0x4e611d),'uploadModel':_0x4e611d['uploadModel'][_0x4bc386(0x437)](_0x4e611d),'deleteModel':_0x4e611d[_0x4bc386(0x346)][_0x4bc386(0x437)](_0x4e611d),'close':_0x4e611d[_0x4bc386(0x362)][_0x4bc386(0x437)](_0x4e611d)};}async['openGenerativeAIWorker'](_0x5d297f){const _0x23e66b=_0x5dd398,_0x584109=await this['orchestrator'][_0x23e66b(0x720)](_0x5d297f);return{'close':_0x584109[_0x23e66b(0x362)][_0x23e66b(0x437)](_0x584109)};}[_0x5dd398(0x841)](_0x27636e){const _0x11fe59=_0x5dd398;return this[_0x11fe59(0x795)][_0x11fe59(0x841)](_0x27636e)[_0x11fe59(0x58c)](_0x25712a=>({'getName':_0x25712a['getName'][_0x11fe59(0x437)](_0x25712a),'getOwnerId':_0x25712a['getOwnerId'][_0x11fe59(0x437)](_0x25712a),'getContentType':_0x25712a[_0x11fe59(0x323)]['bind'](_0x25712a),'publish':_0x25712a[_0x11fe59(0x7b0)][_0x11fe59(0x437)](_0x25712a),'subscribe':_0x25712a[_0x11fe59(0x431)][_0x11fe59(0x437)](_0x25712a),'unsubscribe':_0x25712a[_0x11fe59(0x7de)][_0x11fe59(0x437)](_0x25712a),'close':_0x25712a[_0x11fe59(0x362)]['bind'](_0x25712a)}));}['getObjectStoreBuckets'](_0x4b0c10){const _0x1b59bb=_0x5dd398;return this[_0x1b59bb(0x795)][_0x1b59bb(0x601)](_0x4b0c10)[_0x1b59bb(0x58c)](_0x17fbc7=>({'getName':_0x17fbc7['getName'][_0x1b59bb(0x437)](_0x17fbc7),'getOwnerId':_0x17fbc7['getOwnerId'][_0x1b59bb(0x437)](_0x17fbc7),'getContentType':_0x17fbc7[_0x1b59bb(0x323)][_0x1b59bb(0x437)](_0x17fbc7),'publish':_0x17fbc7[_0x1b59bb(0x7b0)]['bind'](_0x17fbc7),'unpublish':_0x17fbc7['unpublish'][_0x1b59bb(0x437)](_0x17fbc7),'get':_0x17fbc7[_0x1b59bb(0x7ef)][_0x1b59bb(0x437)](_0x17fbc7),'list':_0x17fbc7[_0x1b59bb(0x656)][_0x1b59bb(0x437)](_0x17fbc7),'getSize':_0x17fbc7[_0x1b59bb(0x832)][_0x1b59bb(0x437)](_0x17fbc7),'subscribe':_0x17fbc7['subscribe'][_0x1b59bb(0x437)](_0x17fbc7),'unsubscribe':_0x17fbc7['unsubscribe']['bind'](_0x17fbc7),'close':_0x17fbc7[_0x1b59bb(0x362)][_0x1b59bb(0x437)](_0x17fbc7)}));}[_0x5dd398(0x321)](_0x4bc418){const _0xedc5c7=_0x5dd398;return this[_0xedc5c7(0x795)][_0xedc5c7(0x321)](_0x4bc418)[_0xedc5c7(0x58c)](_0x4b6b44=>({'getName':_0x4b6b44[_0xedc5c7(0x73b)][_0xedc5c7(0x437)](_0x4b6b44),'getOwnerId':_0x4b6b44[_0xedc5c7(0x245)][_0xedc5c7(0x437)](_0x4b6b44),'getContentType':_0x4b6b44['getContentType'][_0xedc5c7(0x437)](_0x4b6b44),'getTable':_0x4b6b44['getTable'][_0xedc5c7(0x437)](_0x4b6b44),'subscribe':_0x4b6b44['subscribe']['bind'](_0x4b6b44),'unsubscribe':_0x4b6b44[_0xedc5c7(0x7de)][_0xedc5c7(0x437)](_0x4b6b44),'close':_0x4b6b44[_0xedc5c7(0x362)][_0xedc5c7(0x437)](_0x4b6b44)}));}[_0x5dd398(0x631)](_0x3800ef){const _0x5e6a0a=_0x5dd398;return this[_0x5e6a0a(0x795)][_0x5e6a0a(0x631)](_0x3800ef)['map'](_0x5c37b5=>({'prompt':_0x5c37b5[_0x5e6a0a(0x4fd)]['bind'](_0x5c37b5),'stream':_0x5c37b5[_0x5e6a0a(0x4f2)][_0x5e6a0a(0x437)](_0x5c37b5),'uploadModel':_0x5c37b5[_0x5e6a0a(0x1c1)]['bind'](_0x5c37b5),'deleteModel':_0x5c37b5[_0x5e6a0a(0x346)]['bind'](_0x5c37b5),'close':_0x5c37b5[_0x5e6a0a(0x362)][_0x5e6a0a(0x437)](_0x5c37b5)}));}[_0x5dd398(0x3af)](_0x4584d9){const _0x5ec798=_0x5dd398;return this[_0x5ec798(0x795)][_0x5ec798(0x3af)](_0x4584d9)['map'](_0x5890da=>({'close':_0x5890da[_0x5ec798(0x362)][_0x5ec798(0x437)](_0x5890da)}));}[_0x5dd398(0x48c)](_0x2c5d81,_0x4d5bb5){const _0x5c4de0=_0x5dd398,_0x5cc821=this[_0x5c4de0(0x795)]['createLocalMediaStream'](_0x2c5d81,_0x4d5bb5);return{'getLabel':_0x5cc821['getLabel']['bind'](_0x5cc821),'getOwnerId':_0x5cc821['getOwnerId'][_0x5c4de0(0x437)](_0x5cc821),'getContentType':_0x5cc821[_0x5c4de0(0x323)][_0x5c4de0(0x437)](_0x5cc821),'getMediaStream':_0x5cc821[_0x5c4de0(0x4cd)][_0x5c4de0(0x437)](_0x5cc821),'setPriority':_0x5cc821[_0x5c4de0(0x2b9)][_0x5c4de0(0x437)](_0x5cc821),'unpublish':_0x5cc821[_0x5c4de0(0x2b0)][_0x5c4de0(0x437)](_0x5cc821)};}[_0x5dd398(0x62c)](_0x469881,_0x32942f){const _0x1de2a9=_0x5dd398,_0x48beae=this[_0x1de2a9(0x795)][_0x1de2a9(0x1bb)](_0x469881,_0x32942f);return{'getLabel':_0x48beae[_0x1de2a9(0x544)][_0x1de2a9(0x437)](_0x48beae),'getOwnerId':_0x48beae['getOwnerId'][_0x1de2a9(0x437)](_0x48beae),'getContentType':_0x48beae[_0x1de2a9(0x323)][_0x1de2a9(0x437)](_0x48beae),'setPriority':_0x48beae[_0x1de2a9(0x2b9)][_0x1de2a9(0x437)](_0x48beae),'unpublish':_0x48beae['unpublish'][_0x1de2a9(0x437)](_0x48beae),'getMediaStream':_0x48beae[_0x1de2a9(0x4cd)]['bind'](_0x48beae),'addTrack':_0x48beae[_0x1de2a9(0x7a2)][_0x1de2a9(0x437)](_0x48beae),'removeTrack':_0x48beae['removeTrack'][_0x1de2a9(0x437)](_0x48beae),'replaceTrack':_0x48beae[_0x1de2a9(0x3ba)][_0x1de2a9(0x437)](_0x48beae),'setTransformations':_0x48beae['setTransformations'][_0x1de2a9(0x437)](_0x48beae)};}[_0x5dd398(0x28c)](_0x3c5271){const _0x37607e=_0x5dd398;return this[_0x37607e(0x795)][_0x37607e(0x28c)](_0x3c5271)[_0x37607e(0x58c)](_0x4a55a8=>({'getLabel':_0x4a55a8[_0x37607e(0x544)][_0x37607e(0x437)](_0x4a55a8),'getOwnerId':_0x4a55a8[_0x37607e(0x245)][_0x37607e(0x437)](_0x4a55a8),'getContentType':_0x4a55a8[_0x37607e(0x323)][_0x37607e(0x437)](_0x4a55a8),'getMediaStream':_0x4a55a8['getMediaStream'][_0x37607e(0x437)](_0x4a55a8),'setPriority':_0x4a55a8[_0x37607e(0x2b9)]['bind'](_0x4a55a8),'unpublish':_0x4a55a8['unpublish'][_0x37607e(0x437)](_0x4a55a8)}));}['getRemoteMediaStreams'](_0x2e3d54){const _0x39b32d=_0x5dd398;return this[_0x39b32d(0x795)][_0x39b32d(0x5f8)](_0x2e3d54)[_0x39b32d(0x58c)](_0x1776d8=>({'getLabel':_0x1776d8[_0x39b32d(0x544)][_0x39b32d(0x437)](_0x1776d8),'getOwnerId':_0x1776d8[_0x39b32d(0x245)]['bind'](_0x1776d8),'getContentType':_0x1776d8['getContentType']['bind'](_0x1776d8),'getMediaStream':_0x1776d8[_0x39b32d(0x4cd)][_0x39b32d(0x437)](_0x1776d8),'subscribe':_0x1776d8['subscribe'][_0x39b32d(0x437)](_0x1776d8),'unsubscribe':_0x1776d8[_0x39b32d(0x7de)][_0x39b32d(0x437)](_0x1776d8),'getAvailableTrackKinds':_0x1776d8['getAvailableTrackKinds'][_0x39b32d(0x437)](_0x1776d8),'update':_0x1776d8[_0x39b32d(0x7f9)][_0x39b32d(0x437)](_0x1776d8),'onProviderChange':_0x1776d8[_0x39b32d(0x478)][_0x39b32d(0x437)](_0x1776d8)}));}[_0x5dd398(0x251)](){const _0x532dbf=_0x5dd398,_0x4fb307=this[_0x532dbf(0x795)][_0x532dbf(0x251)]();switch(_0x4fb307['type']){case _0x47065f[_0x532dbf(0x307)][_0x532dbf(0x749)]:return{'type':_0x47065f[_0x532dbf(0x307)]['User'],'getId':_0x4fb307[_0x532dbf(0x330)][_0x532dbf(0x437)](_0x4fb307),'getDisplayName':_0x4fb307[_0x532dbf(0x23d)][_0x532dbf(0x437)](_0x4fb307),'getEmail':_0x4fb307[_0x532dbf(0x6a5)][_0x532dbf(0x437)](_0x4fb307),'getRemoteConnections':_0x4fb307[_0x532dbf(0x213)]['bind'](_0x4fb307),'setDisplayName':_0x4fb307['setDisplayName']['bind'](_0x4fb307),'setEmail':_0x4fb307[_0x532dbf(0x69c)][_0x532dbf(0x437)](_0x4fb307)};case _0x47065f[_0x532dbf(0x307)][_0x532dbf(0x586)]:default:return{'type':_0x47065f[_0x532dbf(0x307)][_0x532dbf(0x586)],'getId':_0x4fb307[_0x532dbf(0x330)][_0x532dbf(0x437)](_0x4fb307),'getRemoteConnections':_0x4fb307['getRemoteConnections'][_0x532dbf(0x437)](_0x4fb307)};}}[_0x5dd398(0x385)](_0x4392f7){const _0x267786=_0x5dd398;return this[_0x267786(0x795)][_0x267786(0x385)](_0x4392f7)['map'](_0x26a7e4=>{const _0x5dedcb=_0x267786;switch(_0x26a7e4[_0x5dedcb(0x72a)]){case _0x47065f[_0x5dedcb(0x307)]['User']:return{'type':_0x47065f['NodeType'][_0x5dedcb(0x749)],'getId':_0x26a7e4[_0x5dedcb(0x330)]['bind'](_0x26a7e4),'getDisplayName':_0x26a7e4[_0x5dedcb(0x23d)][_0x5dedcb(0x437)](_0x26a7e4),'getEmail':_0x26a7e4[_0x5dedcb(0x6a5)][_0x5dedcb(0x437)](_0x26a7e4),'getRemoteConnections':_0x26a7e4[_0x5dedcb(0x213)][_0x5dedcb(0x437)](_0x26a7e4)};case _0x47065f[_0x5dedcb(0x307)][_0x5dedcb(0x586)]:return{'type':_0x47065f[_0x5dedcb(0x307)][_0x5dedcb(0x586)],'getId':_0x26a7e4[_0x5dedcb(0x330)][_0x5dedcb(0x437)](_0x26a7e4),'getRemoteConnections':_0x26a7e4[_0x5dedcb(0x213)][_0x5dedcb(0x437)](_0x26a7e4)};default:throw new _0x4ddc2b(_0xf6fbbf[_0x5dedcb(0x64a)],_0x5dedcb(0x6a9));}});}['on']=(..._0x3ebcd8)=>{this['eventEmitter']['on'](..._0x3ebcd8);};[_0x5dd398(0x70a)]=(..._0x1b1ab1)=>this[_0x5dd398(0x24c)][_0x5dd398(0x70a)](..._0x1b1ab1);['off'](..._0x4ced12){const _0x545123=_0x5dd398;this[_0x545123(0x24c)][_0x545123(0x4a8)](..._0x4ced12);}}class _0x1de914{['id'];['displayName'];[_0x5dd398(0x676)];['type']=_0x47065f[_0x5dd398(0x307)][_0x5dd398(0x749)];[_0x5dd398(0x38a)]=new Map();[_0x5dd398(0x6d6)]=_0x1c03f0();constructor(_0x4566f7,_0x4fd85b,_0x2e6d35){const _0x44d6c7=_0x5dd398;this['id']=_0x4566f7,this[_0x44d6c7(0x7c5)]=_0x4fd85b,this[_0x44d6c7(0x676)]=_0x2e6d35;}[_0x5dd398(0x330)](){return this['id'];}[_0x5dd398(0x23d)](){const _0x2408b2=_0x5dd398;return this[_0x2408b2(0x7c5)];}['getEmail'](){const _0x4bd9e1=_0x5dd398;return this[_0x4bd9e1(0x676)];}[_0x5dd398(0x78e)](_0x2d8897){const _0x57499a=_0x5dd398;this[_0x57499a(0x7c5)]!==_0x2d8897&&(this['displayName']=_0x2d8897,this[_0x57499a(0x6d6)][_0x57499a(0x7b0)](this));}[_0x5dd398(0x69c)](_0x215de6){const _0x2a4c46=_0x5dd398;this[_0x2a4c46(0x676)]!==_0x215de6&&(this[_0x2a4c46(0x676)]=_0x215de6,this[_0x2a4c46(0x6d6)][_0x2a4c46(0x7b0)](this));}['registerCluster'](_0x1cce35,_0x1e801d){const _0x26f3df=_0x5dd398;if(this[_0x26f3df(0x38a)][_0x26f3df(0x2d4)](_0x1cce35))return;const _0x2d20db=this[_0x26f3df(0x6d6)][_0x26f3df(0x431)](_0x1e801d);this[_0x26f3df(0x38a)]['set'](_0x1cce35,_0x2d20db);}['unregisterCluster'](_0x2730d5){const _0x1ea311=_0x5dd398;if(!this['joinedClusters'][_0x1ea311(0x2d4)](_0x2730d5))return;const _0x2659d8=this[_0x1ea311(0x38a)][_0x1ea311(0x7ef)](_0x2730d5);_0x2659d8&&_0x2659d8(),this[_0x1ea311(0x38a)]['delete'](_0x2730d5);}}class _0x7b571a{[_0x5dd398(0x6eb)];[_0x5dd398(0x476)];constructor(_0x2ae4f1){const _0xdf894f=_0x5dd398;this[_0xdf894f(0x6eb)]=_0x2ae4f1;}async[_0x5dd398(0x77b)](_0x557c93){const _0x4b601e=_0x5dd398,_0x235d08=await(0x0,_0x3e2c8f[_0x4b601e(0x20e)])(_0x40377c[_0x4b601e(0x859)](),_0x4b601e(0x394))({'uid':_0x4b601e(0x528)+this[_0x4b601e(0x6eb)]+_0x4b601e(0x528)+_0x557c93['id']}),_0x265600=await(0x0,_0x37753d[_0x4b601e(0x77d)])(_0x40377c['getAuth'](),_0x235d08[_0x4b601e(0x46f)][_0x4b601e(0x6a3)]);this[_0x4b601e(0x476)]=_0x265600[_0x4b601e(0x476)];}async[_0x5dd398(0x31a)](){const _0x2aef21=_0x5dd398;await(0x0,_0x37753d[_0x2aef21(0x31a)])(_0x40377c[_0x2aef21(0x6fa)]());}['getIdToken'](){const _0x56de8a=_0x5dd398;return this[_0x56de8a(0x476)]?.[_0x56de8a(0x3a7)]()??Promise[_0x56de8a(0x2a8)](_0x56de8a(0x1b9));}}class _0x49f3da{static [_0x5dd398(0x2da)];[_0x5dd398(0x32c)]=[];constructor(){}static['getInstance'](){const _0x1c6c35=_0x5dd398;return _0x49f3da['instance']||(_0x49f3da[_0x1c6c35(0x2da)]=new _0x49f3da()),_0x49f3da[_0x1c6c35(0x2da)];}['initialize'](){const _0xdb5815=_0x5dd398;this[_0xdb5815(0x411)](),this[_0xdb5815(0x748)](),this[_0xdb5815(0x44f)](),this[_0xdb5815(0x533)](),this[_0xdb5815(0x823)](),this['checkAudioOutput'](),this[_0xdb5815(0x319)](),this['checkBackgrounds'](),this[_0xdb5815(0x77c)](),this[_0xdb5815(0x27e)](),_0x52f76b['log'](_0x4f3b4c[_0xdb5815(0x74c)],'Support:\x20current\x20config',{'featureSupport':this[_0xdb5815(0x32c)]});}[_0x5dd398(0x34d)](_0x3d996e){const _0x52f55=_0x5dd398,_0x3a90cd=this[_0x52f55(0x32c)]['find'](_0x11b6b8=>_0x11b6b8[_0x52f55(0x80f)]===_0x3d996e);return!!_0x3a90cd&&_0x3a90cd[_0x52f55(0x3b8)];}[_0x5dd398(0x345)](_0x2e0840){const _0xb072f6=_0x5dd398;_0x52f76b[_0xb072f6(0x79a)](_0xb072f6(0x5b4),{'nodeId':_0x2e0840['getId'](),'nodeType':_0x2e0840['type'],'data':{'featureSupport':this[_0xb072f6(0x32c)]}});}[_0x5dd398(0x411)](){const _0xc4d540=_0x5dd398,_0x20b4af=_0x23cfc4[_0xc4d540(0x6e7)];let _0x3a671e=!0x1;_0xc4d540(0x596)==typeof RTCPeerConnection&&_0xc4d540(0x596)==typeof RTCIceCandidate&&'function'==typeof RTCSessionDescription?_0x3a671e=!0x0:_0x52f76b[_0xc4d540(0x20d)](_0x4f3b4c[_0xc4d540(0x74c)],_0xc4d540(0x540)+_0x20b4af+_0xc4d540(0x28a)),this[_0xc4d540(0x32c)]['push']({'name':_0x20b4af,'supported':_0x3a671e});}['checkMediaStream'](){const _0x5bd59b=_0x5dd398,_0x597949=_0x23cfc4[_0x5bd59b(0x2c5)];let _0x1cf1be=!0x1;_0x5bd59b(0x596)==typeof MediaStream&&_0x5bd59b(0x596)==typeof MediaStreamTrack&&'object'==typeof navigator&&_0x5bd59b(0x697)==typeof navigator[_0x5bd59b(0x771)]&&_0x5bd59b(0x596)==typeof navigator[_0x5bd59b(0x771)][_0x5bd59b(0x3c4)]?_0x1cf1be=!0x0:_0x52f76b[_0x5bd59b(0x20d)](_0x4f3b4c['Support'],_0x5bd59b(0x540)+_0x597949+_0x5bd59b(0x28a)),this[_0x5bd59b(0x32c)][_0x5bd59b(0x28d)]({'name':_0x597949,'supported':_0x1cf1be});}[_0x5dd398(0x44f)](){const _0x114577=_0x5dd398,_0x541fc1=_0x23cfc4[_0x114577(0x1c2)];let _0x5bd773=!0x1;_0x114577(0x697)==typeof navigator&&_0x114577(0x697)==typeof navigator['mediaDevices']&&_0x114577(0x596)==typeof navigator[_0x114577(0x771)][_0x114577(0x44a)]?_0x5bd773=!0x0:_0x52f76b[_0x114577(0x20d)](_0x4f3b4c[_0x114577(0x74c)],_0x114577(0x540)+_0x541fc1+_0x114577(0x28a)),this[_0x114577(0x32c)][_0x114577(0x28d)]({'name':_0x541fc1,'supported':_0x5bd773});}[_0x5dd398(0x533)](){const _0x281197=_0x5dd398,_0x12fa1f=_0x23cfc4[_0x281197(0x51d)];let _0x18ffce=!0x1;_0x281197(0x596)!=typeof AudioContext||_0x281197(0x596)!=typeof ScriptProcessorNode&&_0x281197(0x596)!=typeof AudioWorkletNode||_0x281197(0x596)!=typeof MediaStreamAudioSourceNode?_0x52f76b[_0x281197(0x20d)](_0x4f3b4c[_0x281197(0x74c)],_0x281197(0x540)+_0x12fa1f+_0x281197(0x28a)):_0x18ffce=!0x0,this[_0x281197(0x32c)][_0x281197(0x28d)]({'name':_0x12fa1f,'supported':_0x18ffce});}['checkDeviceConfig'](){const _0x4fa4c4=_0x5dd398,_0x240d42=_0x23cfc4[_0x4fa4c4(0x54f)];let _0x95e4ab=!0x1;_0x4fa4c4(0x697)==typeof navigator&&_0x4fa4c4(0x697)==typeof navigator['mediaDevices']&&_0x4fa4c4(0x596)==typeof navigator['mediaDevices']['enumerateDevices']&&_0x4fa4c4(0x596)==typeof MediaDeviceInfo?_0x95e4ab=!0x0:_0x52f76b[_0x4fa4c4(0x20d)](_0x4f3b4c['Support'],_0x4fa4c4(0x540)+_0x240d42+'\x20not\x20supported'),this[_0x4fa4c4(0x32c)][_0x4fa4c4(0x28d)]({'name':_0x240d42,'supported':_0x95e4ab});}[_0x5dd398(0x2c0)](){const _0x42df49=_0x5dd398,_0x3cdd02=_0x23cfc4['AudioOutput'];let _0x9e72c8=!0x1;_0x42df49(0x697)==typeof document&&_0x42df49(0x596)==typeof document[_0x42df49(0x314)]('video')['setSinkId']?_0x9e72c8=!0x0:_0x52f76b[_0x42df49(0x20d)](_0x4f3b4c[_0x42df49(0x74c)],'Support:\x20'+_0x3cdd02+'\x20not\x20supported'),this[_0x42df49(0x32c)][_0x42df49(0x28d)]({'name':_0x3cdd02,'supported':_0x9e72c8});}async[_0x5dd398(0x319)](){const _0x48fac6=_0x5dd398,_0x410ff6=_0x23cfc4['Recording'];let _0x39769b=!0x1;try{const _0x4604a7=document[_0x48fac6(0x314)]('canvas');if(MediaRecorder&&MediaSource&&_0x4604a7[_0x48fac6(0x639)]){const _0x30d2df=_0x4604a7[_0x48fac6(0x639)](),_0x7e2d00=new MediaRecorder(_0x30d2df);_0x7e2d00['start'](),await new Promise(_0x2dbb86=>setTimeout(_0x2dbb86,0x7d0)),_0x7e2d00[_0x48fac6(0x5d8)](),_0x39769b=_0x48fac6(0x5a2)===_0x7e2d00[_0x48fac6(0x2ef)];}}catch(_0x1ca555){_0x52f76b[_0x48fac6(0x20d)](_0x4f3b4c['Support'],_0x48fac6(0x540)+_0x410ff6+_0x48fac6(0x452),_0x1ca555);}this['featureSupport'][_0x48fac6(0x28d)]({'name':_0x410ff6,'supported':_0x39769b}),_0x39769b||_0x52f76b[_0x48fac6(0x20d)](_0x4f3b4c['Support'],_0x48fac6(0x540)+_0x410ff6+_0x48fac6(0x28a));}['checkBackgrounds'](){const _0x420d00=_0x5dd398,_0x130bd6=_0x23cfc4[_0x420d00(0x790)];let _0x460ba6=!0x1;try{document[_0x420d00(0x314)](_0x420d00(0x481))[_0x420d00(0x639)]&&(_0x460ba6=!0x0);}catch(_0x24a08b){_0x52f76b[_0x420d00(0x20d)](_0x4f3b4c[_0x420d00(0x74c)],_0x420d00(0x540)+_0x130bd6+_0x420d00(0x452),_0x24a08b);}this[_0x420d00(0x32c)][_0x420d00(0x28d)]({'name':_0x130bd6,'supported':_0x460ba6}),_0x460ba6||_0x52f76b[_0x420d00(0x20d)](_0x4f3b4c[_0x420d00(0x74c)],_0x420d00(0x540)+_0x130bd6+_0x420d00(0x28a));}[_0x5dd398(0x77c)](){const _0x32165f=_0x5dd398,_0x27137c=_0x23cfc4[_0x32165f(0x6ea)];let _0x28de1b=!0x1;try{const _0x2cbabc=document[_0x32165f(0x314)](_0x32165f(0x481));WebGLRenderingContext&&_0x2cbabc[_0x32165f(0x36e)](_0x32165f(0x849))&&(_0x28de1b=!0x0);}catch(_0x148c3d){_0x52f76b[_0x32165f(0x20d)](_0x4f3b4c['Support'],_0x32165f(0x540)+_0x27137c+'\x20check\x20failed',_0x148c3d);}this[_0x32165f(0x32c)][_0x32165f(0x28d)]({'name':_0x27137c,'supported':_0x28de1b}),_0x28de1b||_0x52f76b[_0x32165f(0x20d)](_0x4f3b4c[_0x32165f(0x74c)],_0x32165f(0x540)+_0x27137c+_0x32165f(0x28a));}['checkAudioContext'](){const _0x95cb4a=_0x5dd398,_0xd23001=_0x23cfc4[_0x95cb4a(0x829)];let _0x49ccdf=!0x1;_0x95cb4a(0x596)==typeof AudioContext?_0x49ccdf=!0x0:_0x52f76b[_0x95cb4a(0x20d)](_0x4f3b4c[_0x95cb4a(0x74c)],_0x95cb4a(0x540)+_0xd23001+_0x95cb4a(0x28a)),this[_0x95cb4a(0x32c)][_0x95cb4a(0x28d)]({'name':_0xd23001,'supported':_0x49ccdf});}}const _0x184b71=_0x49f3da[_0x5dd398(0x7bf)]();class _0x1e8156{static [_0x5dd398(0x2da)];static [_0x5dd398(0x7de)];['authService'];[_0x5dd398(0x6eb)];[_0x5dd398(0x73d)];['configs'];['clusters']=new Map();[_0x5dd398(0x4ac)];constructor(_0x30528c,_0x5eb8fc,_0x219099){const _0x25e190=_0x5dd398;this[_0x25e190(0x6eb)]=_0x30528c,this[_0x25e190(0x3f6)]=_0x5eb8fc,this['authService']=new _0x7b571a(this[_0x25e190(0x6eb)]),_0x184b71['initialize'](),this[_0x25e190(0x73d)]={'audioContext':_0x219099?.[_0x25e190(0x503)]??(_0x184b71['isFeatureSupported'](_0x23cfc4[_0x25e190(0x829)])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0x219099?.[_0x25e190(0x718)]??0x1,'minConnections':_0x219099?.[_0x25e190(0x5cf)]??0x3,'maxConnections':_0x219099?.[_0x25e190(0x407)]??(_0x219099?.['minConnections']&&0x4*_0x219099[_0x25e190(0x5cf)])??0xc,'maxDistance':_0x219099?.[_0x25e190(0x455)]??0xa,'maxFps':_0x219099?.[_0x25e190(0x4d2)]??0x18,'maxBpp':_0x219099?.['maxBpp']??0.12,'objectStoreConnector':_0x219099?.['objectStoreConnector']??_0x4dcb50[_0x25e190(0x752)],'keyValueDatabaseConnector':_0x219099?.[_0x25e190(0x33f)]??_0x11c2f1[_0x25e190(0x1ec)],'peerConnectionConnector':_0x219099?.[_0x25e190(0x560)]??_0x1b0969[_0x25e190(0x3a5)],'generativeAIWorkerConnector':_0x219099?.[_0x25e190(0x75b)],'vectorDatabaseConnector':_0x219099?.['vectorDatabaseConnector']},_0x219099?.[_0x25e190(0x727)]&&this[_0x25e190(0x73d)][_0x25e190(0x503)]&&_0x478a69['startNoThrottlingHack'](this['options'][_0x25e190(0x503)]),_0x52f76b[_0x25e190(0x205)](this[_0x25e190(0x6eb)]),_0x219099?.[_0x25e190(0x505)]&&_0x52f76b[_0x25e190(0x5c4)](_0x219099['loggingConnectors']);}static async[_0x5dd398(0x7bf)](_0x1c5181,_0x5bbff2,_0x109e07,_0x12a911){const _0x12e1e7=_0x5dd398,_0x3f93fb=await this[_0x12e1e7(0x466)](_0x1c5181,_0x5bbff2,_0x12a911);return _0x1e8156[_0x12e1e7(0x2da)]||(_0x1e8156[_0x12e1e7(0x2da)]=new _0x1e8156(_0x1c5181,_0x3f93fb,_0x109e07)),{'close':_0x1e8156[_0x12e1e7(0x2da)][_0x12e1e7(0x362)][_0x12e1e7(0x437)](_0x1e8156[_0x12e1e7(0x2da)]),'authenticateUser':_0x1e8156[_0x12e1e7(0x2da)][_0x12e1e7(0x855)]['bind'](_0x1e8156[_0x12e1e7(0x2da)]),'authenticateAgent':_0x1e8156[_0x12e1e7(0x2da)][_0x12e1e7(0x70f)][_0x12e1e7(0x437)](_0x1e8156[_0x12e1e7(0x2da)]),'joinCluster':_0x1e8156[_0x12e1e7(0x2da)][_0x12e1e7(0x4e6)]['bind'](_0x1e8156[_0x12e1e7(0x2da)])};}static async[_0x5dd398(0x426)](){const _0x171666=_0x5dd398;return _0x40377c[_0x171666(0x340)]();}static['isProduction'](){const _0x552d7e=_0x5dd398;return _0x4241f1[_0x552d7e(0x525)];}async[_0x5dd398(0x362)](){const _0x1d28bd=_0x5dd398;this[_0x1d28bd(0x210)][_0x1d28bd(0x710)](_0x320e5c=>{const _0x112072=_0x1d28bd;_0x320e5c[_0x112072(0x4a8)](),_0x320e5c[_0x112072(0x47e)]();}),this[_0x1d28bd(0x210)][_0x1d28bd(0x1f6)](),this[_0x1d28bd(0x73d)][_0x1d28bd(0x503)]&&_0x478a69[_0x1d28bd(0x3a1)](),_0x1e8156['unsubscribe']?.(),_0x1e8156[_0x1d28bd(0x7de)]=void 0x0,this[_0x1d28bd(0x4ac)]=void 0x0,await this['authService'][_0x1d28bd(0x31a)](),_0x1e8156['instance']=void 0x0;}static async[_0x5dd398(0x466)](_0x1d4020,_0x823962,_0x17d7e7){const _0x52200d=_0x5dd398;let _0x5abc89;try{_0x5abc89=await(0x0,_0x3e2c8f[_0x52200d(0x20e)])(_0x40377c[_0x52200d(0x859)](),_0x52200d(0x35d))({'vendorId':_0x1d4020,'accessToken':_0x823962,'secretKey':_0x17d7e7});}catch(_0x2cac15){throw new _0x4ddc2b(_0xf6fbbf['InvalidAccess'],_0x52200d(0x4d8));}if(!this['isInternalSDKConfigs'](_0x5abc89[_0x52200d(0x46f)]))throw new _0x4ddc2b(_0xf6fbbf[_0x52200d(0x5c6)],'Invalid\x20credentials');const _0x3017bb=_0x5abc89[_0x52200d(0x46f)];return _0x3017bb['features']||(_0x3017bb[_0x52200d(0x45c)]=[]),this['unsubscribe']||(this[_0x52200d(0x7de)]=_0x478a69[_0x52200d(0x1c5)](async()=>{const _0x40d0da=_0x52200d;try{const _0x41c7a7=await this[_0x40d0da(0x466)](_0x1d4020,_0x823962,_0x17d7e7);_0x3017bb['iceServers']=_0x41c7a7[_0x40d0da(0x1e4)];}catch(_0x1eac8c){}},0x1b7740)),_0x3017bb;}async['authenticateUser'](_0x59d034){const _0x5a224e=_0x5dd398;await this['authService'][_0x5a224e(0x77b)](_0x59d034);const _0x41109d=new _0x1de914(_0x59d034['id'],_0x59d034[_0x5a224e(0x7c5)],_0x59d034[_0x5a224e(0x676)]);return this[_0x5a224e(0x4ac)]={'node':_0x41109d},_0x184b71['logSupport'](_0x41109d),{'type':_0x47065f[_0x5a224e(0x307)][_0x5a224e(0x749)],'getId':_0x41109d['getId'][_0x5a224e(0x437)](_0x41109d),'getDisplayName':_0x41109d[_0x5a224e(0x23d)][_0x5a224e(0x437)](_0x41109d),'getEmail':_0x41109d[_0x5a224e(0x6a5)][_0x5a224e(0x437)](_0x41109d),'setDisplayName':_0x41109d[_0x5a224e(0x78e)][_0x5a224e(0x437)](_0x41109d),'setEmail':_0x41109d[_0x5a224e(0x69c)][_0x5a224e(0x437)](_0x41109d)};}async[_0x5dd398(0x70f)](_0x551e15){const _0x57f343=_0x5dd398,{id:_0x3606e0,groupId:_0x592194}=_0x551e15,_0x183c52=await(0x0,_0x654549[_0x57f343(0x50f)])((0x0,_0x654549['doc'])(_0x40377c[_0x57f343(0x2ed)](),_0x57f343(0x218)+this[_0x57f343(0x6eb)]+_0x57f343(0x68f)+_0x592194));if(!_0x183c52['exists']())throw new _0x4ddc2b(_0xf6fbbf[_0x57f343(0x6a2)],_0x57f343(0x5e3));const _0x5e528e=_0x183c52[_0x57f343(0x46f)]();await this[_0x57f343(0x7b8)][_0x57f343(0x77b)]({'id':_0x3606e0});const _0x330eb1=new _0x148f44(_0x3606e0,_0x592194,this[_0x57f343(0x6eb)],_0x5e528e);return this[_0x57f343(0x4ac)]={'node':_0x330eb1},_0x184b71[_0x57f343(0x345)](_0x330eb1),await this[_0x57f343(0x72d)](_0x330eb1),{'type':_0x47065f['NodeType'][_0x57f343(0x586)],'getId':_0x330eb1[_0x57f343(0x330)][_0x57f343(0x437)](_0x330eb1),'onConfigurationChange':_0x330eb1[_0x57f343(0x36a)]['bind'](_0x330eb1),'setReportCapacity':_0x330eb1[_0x57f343(0x22d)]['bind'](_0x330eb1)};}async['joinCluster'](_0x25f447){const _0x3f83cb=_0x5dd398;if(!this[_0x3f83cb(0x4ac)])throw new _0x4ddc2b(_0xf6fbbf['NodeNotAuthenticated'],_0x3f83cb(0x51e));if(this[_0x3f83cb(0x4ac)][_0x3f83cb(0x822)]['type']!==_0x47065f['NodeType'][_0x3f83cb(0x749)])throw new _0x4ddc2b(_0xf6fbbf[_0x3f83cb(0x332)],_0x3f83cb(0x70c));if(this[_0x3f83cb(0x210)]['has'](_0x25f447))throw new _0x4ddc2b(_0xf6fbbf['ClusterAlreadyJoined'],_0x3f83cb(0x4a6));const _0x5ac9fd=new _0x4969fc(this[_0x3f83cb(0x6eb)],_0x25f447,this[_0x3f83cb(0x4ac)][_0x3f83cb(0x822)],this['authService'],this['options'],this['configs']);return await _0x5ac9fd[_0x3f83cb(0x1d5)](),this[_0x3f83cb(0x83a)](_0x25f447,_0x5ac9fd),_0x52f76b[_0x3f83cb(0x79a)](_0x3f83cb(0x2d5),{'clusterId':_0x25f447,'nodeId':this['authContext'][_0x3f83cb(0x822)][_0x3f83cb(0x330)](),'nodeType':this[_0x3f83cb(0x4ac)][_0x3f83cb(0x822)][_0x3f83cb(0x72a)]}),{'leave':_0x5ac9fd[_0x3f83cb(0x47e)][_0x3f83cb(0x437)](_0x5ac9fd),'getLocalNode':_0x5ac9fd['getLocalNode'][_0x3f83cb(0x437)](_0x5ac9fd),'openPubSubTopic':_0x5ac9fd['openPubSubTopic'][_0x3f83cb(0x437)](_0x5ac9fd),'openObjectStoreBucket':_0x5ac9fd[_0x3f83cb(0x588)][_0x3f83cb(0x437)](_0x5ac9fd),'openKeyValueDatabase':_0x5ac9fd[_0x3f83cb(0x675)][_0x3f83cb(0x437)](_0x5ac9fd),'openGenerativeAIContext':_0x5ac9fd['openGenerativeAIContext'][_0x3f83cb(0x437)](_0x5ac9fd),'openGenerativeAIWorker':_0x5ac9fd[_0x3f83cb(0x720)]['bind'](_0x5ac9fd),'publishLocalMediaStream':_0x5ac9fd['publishLocalMediaStream'][_0x3f83cb(0x437)](_0x5ac9fd),'publishLocalDynamicMediaStream':_0x5ac9fd[_0x3f83cb(0x62c)]['bind'](_0x5ac9fd),'getPubSubTopics':_0x5ac9fd[_0x3f83cb(0x841)][_0x3f83cb(0x437)](_0x5ac9fd),'getObjectStoreBuckets':_0x5ac9fd[_0x3f83cb(0x601)]['bind'](_0x5ac9fd),'getKeyValueDatabases':_0x5ac9fd[_0x3f83cb(0x321)][_0x3f83cb(0x437)](_0x5ac9fd),'getGenerativeAIContexts':_0x5ac9fd['getGenerativeAIContexts']['bind'](_0x5ac9fd),'getGenerativeAIWorkers':_0x5ac9fd[_0x3f83cb(0x3af)][_0x3f83cb(0x437)](_0x5ac9fd),'getLocalMediaStreams':_0x5ac9fd['getLocalMediaStreams'][_0x3f83cb(0x437)](_0x5ac9fd),'getRemoteMediaStreams':_0x5ac9fd[_0x3f83cb(0x5f8)][_0x3f83cb(0x437)](_0x5ac9fd),'getRemoteNodes':_0x5ac9fd[_0x3f83cb(0x385)][_0x3f83cb(0x437)](_0x5ac9fd),'on':_0x5ac9fd['on'][_0x3f83cb(0x437)](_0x5ac9fd),'off':_0x5ac9fd['off'][_0x3f83cb(0x437)](_0x5ac9fd)};}async[_0x5dd398(0x72d)](_0x497ce1){const _0x320b27=_0x5dd398;for(const _0x3a5db7 of _0x497ce1[_0x320b27(0x43a)][_0x320b27(0x210)]){const _0x1ad9a3=new _0x4969fc(this['vendorId'],_0x3a5db7['id'],_0x497ce1,this[_0x320b27(0x7b8)],this[_0x320b27(0x73d)],this['configs']);await _0x1ad9a3[_0x320b27(0x1d5)](),this[_0x320b27(0x83a)](_0x3a5db7['id'],_0x1ad9a3);for(const _0x2ce7cc of _0x3a5db7[_0x320b27(0x77e)])_0x1ad9a3[_0x320b27(0x7e4)](_0x2ce7cc);for(const _0x159908 of _0x3a5db7[_0x320b27(0x240)])await _0x1ad9a3[_0x320b27(0x588)](_0x159908);for(const _0x5d2a19 of _0x3a5db7[_0x320b27(0x59e)])await _0x1ad9a3[_0x320b27(0x675)](_0x5d2a19,{'version':0x1,'tables':{}});for(const _0x3b43e2 of _0x3a5db7[_0x320b27(0x3ec)])await _0x1ad9a3[_0x320b27(0x720)](_0x3b43e2);}}['addCluster'](_0x409b33,_0x2ce1a0){const _0x3d4719=_0x5dd398;this[_0x3d4719(0x210)][_0x3d4719(0x549)](_0x409b33,_0x2ce1a0),_0x2ce1a0['on'](_0x3d4719(0x7ca),()=>{const _0x504324=_0x3d4719;_0x2ce1a0['off'](),this[_0x504324(0x210)][_0x504324(0x2d8)](_0x409b33);});}static[_0x5dd398(0x494)](_0x588677){const _0x717692=_0x5dd398;return void 0x0!==_0x588677[_0x717692(0x1e4)];}}return _0x10eaf4;})())));function a0_0x3545(){const _0x4d6831=['unsubscribeListener','expected\x20index','maxThreshold','onTrack','senderTimeProcessing','wait','outputTokens','key-value-database-table-not-found','count','getName','Cannot\x20unpublish\x20object:\x20','options','hasRemoteNode','PubSub\x20already\x20exists','Object\x20store\x20not\x20synced.','receiverCurrentTimestamp','authNode','maxResolution','maps','clockSkew','renderElement','removeSubscriptionsForNode','checkMediaStream','User','QueryBuilderInvalidArgument','Attempt\x20','Support','handleContentCloseKeyValueDatabase','JobDispatcherObserverNotFound','notifyClusterNodeUpdate','subtle','addRemoteConnection','OPFSObjectStoreConnector','TimePerFrame','listenerUnsubscribers','subscribeToJobs','frameWidth','ClusterAlreadyJoined','file','IncomingSubscription','receiverConnection','generativeAIWorkerConnector','isFailedResponse','job-dispatcher-observer-not-found','https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','true','SHA-1','We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set','Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string','skipEncryption','serverTimestamp','Valid\x20layout','CrewdleSenderConnection\x20createOffer','Node\x20does\x20not\x20exist.','version','handleFileWrite','NeedRestart','createKeyValueDatabase','graphService','KeyValueDatabaseInvalidQuery','outgoing-stream-no-topic','Received\x20track','notifyCluster','mediaDevices','Completed\x20file\x20write','mergeParts','subscribedTracks','tableLayout','senderPreviousBytes','getRemoteMediaStream','KeyValueDatabaseNotOpen','ObjectStoreInvalidState','Move','signInWithCredential','checkWebGL','signInWithCustomToken','pubsub','Database\x20already\x20exists','setLocalRank','removeIncomingSubscription','removeRemoteConnection','result','Buffering\x20event','updateJob','storage','setProviderId','LocalMediaStreamTrackFail','RoundTripTime','createConstantSource','Update','NodeDoesNotExist','sender','setDisplayName','PubSubTopicAlreadySubscribed','Backgrounds','ConnectionNotinitialized','setOnMessageHandler','pendingFilesRename','jobObservers','orchestrator','batchSize','timeoutCallback','All\x20recipients\x20already\x20received','ObjectStoreNotInSync','logEvent','getDTVolatility','ObjectStoreStats','chunksReceived','getProviderId','trackCallback','RequestFileSync','generative-ai-worker-already-exists','addTrack','resizeHandler','CloseMediaStream','currentDistance','handleRequestPayload','Amplify','vectorDatabaseConnector','InvalidPublisher','981386lGffYX','remediationManager','clientHeight','request-file','lastTransactionId','sendWithRetry','publish','localMediaStreams','call','split','layout','clientStream','timeSending','buildQuery','authService','0.3.4.0','registerSystemSource','Failed\x20to\x20create\x20AI\x20service','threshold','publishSyncCompleted','\x20received\x20responses:','getInstance','arrayBuffer','key-value-database-name-not-string','all','sync','problemType','displayName','\x20not\x20found.','system-stats','handleSubscriptionProvideMediaStream','destinationIds','cluster-leave','handleError','onloadeddata','chunks','Remote\x20stream\x20does\x20not\x20exist.','setSenderTimestamp','removeRemoteNode','GenerativeAIContextJobTimeout','transactionService','Base\x20Peer\x20Connection','getSettings','outgoingTopic','resetConnection','GenerativeAIWorkerCreationFailed','optimizationLayers','unregisterSystemPublisher','unregisterSubscriber','Job\x20','replace','syncTransactionsWritten','unsubscribe','KeyValueDatabaseIndexNotFound','getShareableStream','Object\x20store\x20data\x20stream\x20is\x20not\x20in\x20sync','/transactions','subscriptions','openPubSubTopic','handleConnectionSuccess','clearWaitAnswer','getCurrentMaxLayer','notifyObjectStoreOfNodeLeave','reads','Waiting','setupStatsReporting','logConnectionState','unregisterPublisherListener','error','get','Received\x20chunk','sendAction','1:519415702791:web:5dd39042f881cfde3251a2','Processing','JobWorker:\x20Received\x20job\x20request','Model\x20not\x20found:\x20','Error\x20encountered\x20while\x20opening\x20database','jobWorkerConnector','successNotified','update','systemTopic','createOutgoingSubscription','handleUpdateMediaStream','next','createJobWorker','val','request','propagate','publishFile','text','JobDispatcherCreationFailed','entries','kind','receiverStreams','sync\x20transact','setupRenderElement','mediaTopics','Invalid\x20key\x20\x27','No\x20destinationIds\x20left','addEventListener','Invalid\x20publisher.','name','getTransactions','dt_volatility','isValidMediaSubscriptionParams','transactions','messageType','/objectstores/','JobWorkerInvalidType','Remediation','Subscription\x20request\x20has\x20not\x20been\x20answered.','pool','setOnTableWriteHandler','Pending','onDataChannel','Failed\x20to\x20create\x20job\x20service','InvalidDataChannel','detectVideoIssues','createLocalMediaStream','clusterKey','node','checkDeviceConfig','maxFramerate','createGain','handleNeedRestart','createBuffer','currentVersion','AudioContext','evaluatePartialJob','graphql','key-value-database-already-exists','dataTopics','Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number','getOutgoingOptimizationConnections','Module','callback','getSize','JobWorker:\x20Sending\x20job\x20bid','senderPreviousTimestamp','RestartNeedMediaStream','StreamReport','413046DgJTFP','Failed\x20to\x20create\x20key\x20value\x20database','contentRect','addCluster','bytesSent','firebaseUnsubscriber','bufferedAmountLowThreshold','Apply\x20remediation','handleOffer','clearHeartbeat','getPubSubTopics','Logger.getInstance','incomingManager','isAvailable','bytesReceived','subscriptionManager','CloseJobDispatcher','Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream','webgl','handleAnswer','clusters/','/transactions/lastTransaction','parse','isOffer','isMediaSource','sendStats','Invalid\x20query','/stats','senderTotalMessages','\x20with\x20\x27','authenticateUser','setStatus','indexOf','Sync\x20event:','getFunctions','Missing\x20AI\x20worker\x20connectors','handleFileRequest','Recording','setDurationTime','element','tables','senders','getConfigs','addMessage','ObjectStorage','Count','st_volatility','ENOENT','offset','NodeConnectionsUpdate','systemMessages','removeConnection','some','disconnected','previousTimestamp','owner','server','handleOnMessage','createJob','similarity.gguf','remote-stream-missing-provider-id','-leave','estimatedPlayoutTimestamp','publishTransaction','processDataChannelReport','retryDelay','High','UnpublishMediaStream','bandwidth.jitter','\x20failed.\x20Retrying...','getTrackFromParam','connectionConstructor','app','User\x20not\x20signed\x20in','Cannot\x20publish\x20move\x20operation:\x20','createLocalDynamicMediaStream','transformations','startTime','\x20received\x20result:','removePubSubTopic','getSenderTotalBytes','uploadModel','ScreenSharing','reduce','retryQueues','setInterval','DataChannel\x20is\x20not\x20open.','functionsRegion','setReceiverBytes','keyPath','Stats','openGenerativeAIContext','No\x20connections\x20available\x20to\x20send\x20subscription\x20request','batch','resolutionScale','tail','senderStreams','KeyValueDatabaseDoesNotExist','OutgoingSubscription','prototype','receiverTimeProcessing','join','GenerativeAIContextInvalidPartialResult','Job\x20with\x20id\x20','feature-not-enabled','reportMetric','handleUnpublishMediaStream','unregisterRemoteNode','MediaStream\x20feature\x20not\x20enabled','Cannot\x20publish\x20file:\x20','sourceVideo','isWhereValue','currentBatch','::￿','JobWorker:\x20Handling\x20job\x20attribution','getPartsFromSubscription','iceServers','KeyValueDatabaseTableNameReserved','Main','statsReport','Missing\x20transaction\x20id','messageBuffer','dataUnsubscribers','discover','IDBDatabaseConnector','NodeManager\x20-\x20NodeUpdate','query-helper-invalid-argument','handleLocalTrackFailure','keys','NodeManager\x20-\x20NodeLeave','removeKeyValueDatabase','Hub','total','autoplay','clear','files\x20syncing','issue','pop','CannotProvideMediaStream','responseTimeout','registerPublisher','lastUpdated','checkSyncComplete','clusterId','sendIceCandidates','jobDispatchers','.crewdle-layout','jobBids','cost','setVendorId','addConnection','removeOutgoingSubscription','Everyone\x20','1:420235181083:web:4eff6062bd845cb0748cbe','Synced','processTransactionPayload','discoveryService','log','httpsCallable','durationTime','clusters','getVideoTracks','validateQuery','getRemoteConnections','addBidResponse','getLocalMediaStream','key-value-database-creation-failed','receiver','developers/','AI\x20Worker\x20already\x20exists','detectProblems','https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','createBufferSource','ended','getCurrentVersion','FolderCreate','firebase-disconnect','GenerativeAIContextCreationFailed','ObjectStoreNameNotString','peer-connection-invalid-destination','sendChunked','nodes','getJobs','getMilliseconds','write','processPendingSyncTransactions','validateLayout','chosenAnswers','SubscriptionRequestInProgress','setReportCapacity','getAudioTracks','writes','secheduleTime','timeoutValue','JobWorker:\x20Sending\x20job\x20partial\x20result','byteLength','closeConnection','Pool','mistlet-capacity-report-not-set','\x20deleted.','configure','registerRemoteNode','Answer','head','removeSubscription','getDisplayName','Received\x20new\x20pending\x20file\x20write\x20request','listenUnsubscriber','objectStorage','\x27\x20from\x20','\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','retryCallback','KeyValueDatabaseTableDoesNotExist','getOwnerId','handleSubscriptionUnsubscribeMediaStream','setRank','counter','Consuming\x20buffered\x20event','handleCloseObjectStore','toStringTag','eventEmitter','cancel','canProvideResolution','senderCurrentBytes','.info/connected','getLocalNode','operations','remove','lastHeartbeat','destroy','groupId','text/plain','send\x20error\x20on\x20','bid','Add','removeRemoteMediaStream','bufferedChunks','MissingRemoteConnection','appsync-close','LoggingService:\x20logging\x20enabled\x20for','localId','GenerativeAIWorkerStats','transactionTable','addProblem','remoteConnections','unshift','min','handleHandshake','Cannot\x20publish\x20folder:\x20','getTableConnector','jitter','handleOptimizationConnectionSuccess','rtt','No\x20valid\x20bid\x20responses\x20received\x20in\x20time.','KeyValueDatabaseInvalidLayout','\x20does\x20not\x20support\x20content\x20type\x20','SubscriptionRequestFailed','FileWrite','RemoteMediaStreamAlreadyExists','processInboundReport','Invalid\x20index\x20key:\x20must\x20be\x20a\x20string','Stream\x20does\x20not\x20exist','Failed\x20to\x20send\x20job\x20','maxBitrate','validateValue','getLocalId','shift','keyValueDatabases','streamId','updateLastUpdated','checkAudioContext','handleCloseJobWorker','Subscription','query','data-stream','receivers','CloseObjectStoreBucket','RemoteAdd','GenerativeAIContextDoesNotExist','getLayout','incomingTopic','getEnabledChannels','\x20not\x20supported','registerSubscriber','getLocalMediaStreams','push','deleteObject','connection-no-retry-queue','LocalMediaStreamAlreadyExists','Incoming','appsync-disconnect','videoHeight','DataChannel\x20is\x20not\x20initialized.','topics','\x20created\x20and\x20dispatched.','removeEventListener','listener','consumeBufferedEvents','detectLocalIssues','Signaling','handleContentSubscribeMediaStream','processBatch','FileMove','failed','complete','pubSubTopics','drawImage','getTrack','every','initialize','subscription-request-no-answer','iceConnectionState\x20failed','reject','PeerConnection','unregisterCluster','buildTableEvent','Key-value\x20database\x20table\x20does\x20not\x20exist.','waitForSyncComplete','removeJobDispatcher','tableName','unpublish','createRemoteNode','object-store-invalid-path','RequestFileWrite','Core','JobDispatcherJobNotFound','RemoteConnectionExists','limit','issues','setPriority','connections','startHeartbeat','.info/serverTimeOffset','getChannelData','1273918FTeENQ','content-unpublish-media','checkAudioOutput','SendTransactionsDump','openJobDispatcher','hasOwnProperty','folder-create','MediaStream','maxBpp','abs','getBitrate','shouldProcessTransaction','parameters','7782ppCcIt','.crewdle-last-transaction','AppSync\x20connection\x20not\x20ready','audioDestination','targetId','SubscriptionRequestNoAnswer','muted','onConnectionStateChange','candidate','has','join-cluster','contentType','processList','delete','onValue','instance','processOutboundReport','previousBytes','requestSubscription','moveObject','\x20attributed\x20to\x20','0.3.4','createGenerativeAIContext','createNewBatch','registerDestination','onChildRemoved','findNewMediaSubscription','outgoingManager','isBidResponse','missing-incoming-connection','av_delay','toString','messageCallback','remainingTracks','getFirestore','Issue\x20detected:\x20','state','getSTVolatility','Pending\x20files','doc','getResolutionScale','addVideoTrack','ClosePubSubTopic','direction','debounceProcessRank','Invalid\x20params','handleContentCloseMediaStream','receiverPreviousBytes','send','writeTransaction','getConnections','\x27\x20in\x20layout','topic','getSupportedContentTypes','warn','failJob','processReport','Request','ObjectKind','sendBid','NodeType','remote-media-stream-already-exists','value','RequestSyncKeyValueDatabase','orderBy','end','waitForArrayBufferSize','startsWith','includes','Connection','MistletCapacityReportNotSet','AppSync\x20subscribe','object-store-not-in-sync','createElement','removeListener','requestSubscriptionAction','subscriptionRequestsQueue','request-file-sync','checkMediaRecording','signOut','packets','KeyValueDatabaseTransactionTableNotInitialized','clearSubscriptionRequestTimeout','Error','GenerativeAIContextAlreadyExists','compareTransactions','getKeyValueDatabases','upgradeTimeout','getContentType','getTable','clearConnectionTimeout','handleSubscriptionNeedMediaStream','exists','Restart','DTVolatility','codes','handleProblem','featureSupport','handleFileSync','handleSubscriptionMediaStreamUnavailable','processRank','getId','getTracks','NodeTypeNotSupported','inputTokens','srcObject','StorageEventType','defineProperty','problem','handleFileRequestAnswer','JobDispatcherAlreadyExists','CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','discoveryUnsubscriber','find','remote-inbound-rtp','undefined','keyValueDatabaseConnector','getEstimatedTimestamp','handleCloseMediaStream','Internal\x20SDK\x20Error:\x20','isNeedRestart','dataChannel','logSupport','deleteModel','remoteNodes','JobWorker:\x20Error\x20processing\x20job','Missing\x20owner\x20node\x20or\x20rank','removeTrackListeners','FolderMove','Accepted','isFeatureSupported','notifyJoin','calculateSize','createSubscription','loop','processReceiverReport','lastExecuted','Failed\x20to\x20commit\x20batch\x20after\x20retries:','messagesSent','NodeAlreadyExist','Loading\x20models\x20failed','timePerFrame','CloseJobWorker','Cluster','childRemovedUnsubscriber','content-publish-media','sdkValidateAccess','updateDebounceTimeout','Remove','pub-sub-topic-does-not-exist','commitBatch','close','messages','handleContentSystemEvents','PubSubTopic\x20onMessage','shouldContinuePropagation','detail','onCandidate','PubSubTopicStats','onConfigurationChange','hasTracks','syncContent','getDatabase','getContext','generative-ai-context-creation-failed','connectionGroup','getConnectionType','transactionsToSync','subscription-request-failed','getNumberOutgoingSubscriptions','recipients','Invalid\x20job\x20service\x20payload.','AudioVideoDelay','InvalidSubscriber','getQuery','addIssue','setSubscriptionRequestTimeout','media-stream','handleSubscriptionSystemEvents','Transaction','handleObjectMove','InternalSDKError','between','newPath','ObjectStoreAlreadyExists','CONNECTION_STATE_CHANGE','getRemoteNodes','isConnected','createReceiverConnection','findNextNodeId','setupConnectionEvents','joinedClusters','FramePerSecond','handleJobAttribution','retryQueue','senderBitrate','syncTransactions','setDoc','receiverTotalMessages','addAudioTrack','interval','sdkCreateToken','functions','handleMissingSenders','logPropagateSystemEvent','active','jobs','getOrResetPendingFileTimeout','object-store-invalid-sync-message','Deleting\x20existing\x20file','ConnectionInvalidDataEvent','DataChannel\x20buffer\x20is\x20full.','user-join','resolution','stopNoThrottlingHack','generative-ai','closeSubscription','NodeManager\x20-\x20ConnectionSuccess','WebRTCBrowserPeerConnectionConnector','RequestFile','getIdToken','pendingSyncTransactions','component','audio','handlePeerConnectionSystemEvents','Waiting\x20for\x20sync\x20complete','DEBUG\x20-\x20','pathName','getGenerativeAIWorkers','updateDebounce','\x27\x20reserved','message','Syncing\x20ObjectStore','createConnection','File','setupStatsCollection','Error\x20writing\x20chunk\x20to\x20stream','supported','Checking\x20pending\x20file','replaceTrack','random','calculateArrayBufferSize','\x20-\x20','CloseKeyValueDatabase','job-dispatcher-already-exists','connectionType','objectRequests','getCoresFromCapacityReport','Sender\x20connection\x20is\x20not\x20initialized.','getUserMedia','tableUnsubscriber','Jobs','Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc','generative-ai-worker-model-sync-error','ObjectStoreInvalidPayload','boolean','connecting','notifyClusterNodeJoin','jobWorkers','Key-value\x20database\x20creation\x20failed.','getNextTargetRank','updateUser','Local\x20MediaStream\x20already\x20exists','us-east-1','PartialResult','writeFile','getJobWorkers','batchQueue','subscription','job-dispatcher-invalid-job-type','splitParts','hasTable','ObjectStoreCannotWriteTransaction','setCurrentVersion','clearWaitSuccess','handleNodeDisconnect','nodeKey','Invalid\x20version\x20\x27','llm.gguf','instantiateTransactionTable','System','Cannot\x20write\x20transaction.','endsWith','createFolder','sendFile','remoteId','88VHjcYL','api','node-invalid-type','generativeAIContexts','Job\x20service\x20job\x20not\x20found.','size','getModel','asc','getJobDispatchers','generateClient','isJobAttribution','gatheringState','priority','configs','clearUpgradeTimeout','handleTransactionPayload','observe','minThreshold','remoteUnsubscriber','Disconnect','cpu.cycle','enabledChannels','queues','getSubscriptionLabel','\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','cluster','Error\x20reading\x20file\x20chunk\x20after\x20','publishUserUpdate','assign','getCapacityReport','maxConnections','Mistlet\x20capacity\x20report\x20not\x20set.','Waiting\x20for\x20buffer\x20to\x20clear','accumulateResult','4039UgaQQf','Node','getResolution','MediaStreamUnavailable','Outgoing','syncedFileExists','checkWebRTC','restartTimeout','List','dispatchEvent','handleRemoteTrackFailure','handleSubscriptionRestartNeedMediaStream','load','toLocaleDateString','Table\x20not\x20found','Job','handleSubscriptionSubscribeMediaStream','3180295XXryGa','AudioOutput','getApp','currentBytes','createPubSubTopic','subscribeToContent','ConnectionNotConnected','Object\x20store\x20is\x20not\x20in\x20sync','Get','frameTime','timestamp','fromEntries','minResolutionScale','remoteMediaStreams','/transactions/','onUnregisterPublisher','remote-media-stream-invalid-subscription-params','lastProcessRank','asObservable','open','publishSyncCompletedAfterWrites','subscribe','jobType','batchTimeout','Job\x20Dispatcher\x20does\x20not\x20exist','MissingSystemTopic','handshakeState','bind','setEncodingParameters','KeyValueDatabaseStats','agentConfig','encode','https://crewdle-sdk-stg-default-rtdb.firebaseio.com','max','The\x20system\x20topic\x20has\x20not\x20been\x20registered.','Internal\x20event\x20\x27','handleNodeJoinNeedPublishedStream','unregisterPublisher','registerSystemPublisher','statsCollection','Received\x20event\x20on\x20cluster','uuid','deletePendingFile','ContentType','key-value-database-transaction-table-not-initialized','JobStream','getDisplayMedia','origin','hasMessage','getAvailableTrackKinds','DataStream\x20onMessage','checkScreenSharing','Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number','DataStream','\x20check\x20failed','totalEncodeTime','trackListeners','maxDistance','PayloadAction','getTotalBytes','parentId','detectAudioIssues','createAnswer','setupListeners','features','isWhereBetween','420235181083','orchestrator-close','tokens','initializeSystemTopic','GenerativeAIContextStats','\x20already\x20exists','Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key','width','validateAccess','addContent','retry','initializeApp','ownerId','firebase-connect','generativeAIWorkers','currentFrames','OptimizationConnectionSuccess','data','RemoteRemediation','downgrade','Node\x20is\x20not\x20an\x20agent','ObjectStoreInvalidSyncMessage','generative-ai-context-job-timeout','tracks','user','NeedMediaStream','onProviderChange','updateLastTransactionId','unsubscribeHandler','appsync-no-destination','JobDispatcherInvalidJobType','remediations','leave','getSubscribedTracks','registeredListeners','canvas','object-store-cannot-write-transaction','sdk-internal-error:\x20','Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed','logBatch','removeJobWorker','transactionIds','onDisconnect','Stream\x20already\x20exists','LocalMediaStreamDoesNotExist','crewdleSDKDisableLogging','publishLocalMediaStream','getRemoteId','Upgrade','exports','number','Default','crewdle-sdk','FPS','isInternalSDKConfigs','handleRemediationSystemEvents','checksum','publishFolder','Chosen\x20answer','status','cpu.time_per_frame','GenerativeAILabelConflict','handleContentUnsubscribeMediaStream','Bid','key-value-database-not-open','subscriptionRequests','https://crewdle-sdk-default-rtdb.firebaseio.com','SubscribeMediaStream','Resolution','manageBufferedChunks','Delete','\x20already\x20exists.','Cluster\x20already\x20joined','Optimization','off','object-store-already-subscribed','onDisconnectHandler','Remote\x20MediaStream\x20already\x20exists','authContext','Data','signalingState','processJob','handleContentRemoteMediaStreamTrackFail','receiverBitrate','isJobRequest','InvalidSubscription','JobWorkerDoesNotExist','logServiceEvent','createMediaStreamSource','this.syncContent','indexes','onSnapshot','bufferEvent','now','auth','RemoteMediaStreamInvalidSubscriptionParams','upgrade','184iZHqmR','subscriptionRequestTimeouts','action','addDoc','pubsubTopics','createIncomingSubscription','createGenerativeAIWorker','Jitter','enabled','CrewdleConnectionGroup','detectionManager','agent-update','eventTarget','UpdateMediaStream','getMediaStream','signaling','previous','test-page','timeReceiving','maxFps','evaluateBidsAndAttributeJob','handleNodeSystemEvents','Receiver','invalid-publisher','clearRect','Invalid\x20credentials','appsync-connect-fail','Handshake','gain','setRemoteNode','firebaseConfig','Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.','JobDispatcherJobExists','filteredDestinationIds','processJobStream','isSync','values','completeSync','Orchestrator\x20handleSystemEvents','joinCluster','answererId','channel','Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank','file-write','pub-sub-topic-name-not-string','ref','\x20answer','amd','processReports','pendingFilesSyncing','TestPage','stream','event','Connected','Cannot\x20list\x20directory:\x20','Key-value\x20database\x20transaction\x20table\x20not\x20initialized.','PubSubTopicAlreadyExists','155973LUSDsY','Store\x20already\x20exists','No\x20connections\x20available\x20to\x20send\x20message','Method\x20not\x20supported','collection','prompt','code','context','getMaxConnections','JobDispatcher:\x20Received\x20job','startBidResponseHandling','audioContext','mute','loggingConnectors','isSubscribed','processTransactionsDump','ancestors','incrementVersion','handleContentClosePubSubTopic','/nodes/','evaluateBids','Offline','JobStatus','getDoc','createOffer','FeatureNotEnabled','objectStores','messagesReceived','syncPendingFiles','bufferedEvents','getReceiverTotalBytes','setRemoteConnections','Cannot\x20get\x20size\x20of\x20path:\x20','KeyValueDatabaseTableNotFound','canAddCandidates','createPendingFileWrite','34072620yeDPWn','AudioVolume','Node\x20not\x20authenticated','video','waitAnswer','\x20attempts:','getMinConnections','Database\x20not\x20open','invalid-data-chanel','isProduction','streamLabel','clearOncloseTimeout','ccc','audioSource','retryCount','rank','ranges','request-accepted','STVolatility','debugEnabled','availableTrackKinds','Bitrate','floor','checkAudioVolume','decode','JobWorkerCreationFailed','unregisterSystemSource','getTransactionFromTableWriteEvent','key','reportCapacity','cpu.av_delay','buffer','getConnectionDestinations','getAncestors','Result','crewdleSDKLoggingChannels','Support:\x20','getConnectionGroup','string','mediaStream','getLabel','unregisterSource','startAt','setupTrackEndedListeners','getJobObservable','set','isEqual','getLastUpdated','decodeJWT','handleContentUnpublishMediaStream','Completed','DeviceConfig','KeyValueDatabase','UnsubscribeMediaStream','Success','SyncComplete','providerId','subscription-request-in-progress','startIndex','resume','runTransaction','heartbeatUnsubscriber','remediation','removeTrack','\x20does\x20not\x20exists','signalingServer','LocalReport','addReservedTables','peerConnectionConnector','globalObject','sourceId','Failed','Cannot\x20publish\x20payload:\x20','pow','Medium','reset','Offer','KeyValueDatabaseAlreadyExists','created','collectStats','removeLocalMediaStream','fileSendingMap','Generative\x20AI\x20context\x20job\x20failed.','publishMove','2-digit','removeContent','roundTripTime','Low','handleSubscribeMediaStream','isArray','connectionManager','frameHeight','capacityReporter','compileStats','mediaUnsubscribers','sendReject','maxLayer','Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','closeTopic','internalId','isRunning','Disconnected','\x20failed.','invalid-subscriber','processInboundReports','events','Agent','ai-worker-','openObjectStoreBucket','Invalid\x20subscription.','Error\x20committing\x20batch:','Pending\x20file\x20request\x20created','map','JobDispatcherInvalidPayload','GenerativeAIContext','aws','Invalid\x20job\x20worker\x20type.','remote-stream-does-not-exist','connectionPool','generative-ai-context-does-not-exist','unregisterDestination','ObjectStoreAlreadySubscribed','function','waitSuccess','logRaw','Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','everyone','tableObserver','Data\x20cluster\x20is\x20not\x20open.','missing-system-topic','keyValueDatabase','getReport','clientWidth','processPendingHandshakeCandidates','inactive','RemoteRemove','getDistance','eventListener','loadExistingContent','where','PubSub','mediator','JobWorker:\x20Error\x20getting\x20cores\x20from\x20capacity\x20report','lastRemediations','catch','job-','registerCluster','connection','job-worker-invalid-type','NodeLeave','PubSubTopicDoesNotExist','connected','support','isWhereValues','clearRestartTimeout','statsReporting','Stats:\x20report','crewdle-sdk-logging-','\x20-\x20Sending\x20propagation\x20(','GenerativeAIWorkerAlreadyExists','extendedRecipients','Detection','Invalid\x20layout:\x20','LocalMediaStreamNoAudioContext','isInternalLoggingConnector','packetsLost','handleClosePubSubTopic','senderCurrentTimestamp','setLoggingConnectors','restartHandshake','InvalidAccess','/documents','cleanOldSubscription','handleCloseJobDispatcher','removeTrackCallback','isResultResponse','stopConnection','sendTransactionsDump','currentTimestamp','minConnections','getSubscriptionInfo','getAudioVideoDelay','Content','source','Connection\x20not\x20initialized.','handlePublishMediaStream','handleObjectDelete','Label\x20already\x20in\x20use\x20by\x20AI\x20Service','stop','remote-connection-exists','disconnect','receiverUnsubscribers','ceil','framerate','time_per_frame','packetsSent','unsubscribeTrackEndedListener','generative-ai-worker-missing-connectors','from','Agent\x20group\x20not\x20found','createObjectStoreBucket','waitConnected','syncTimeout','Problem','getMediaSubscription','lastCapacityReport','client','ObjectStore','handleNodeUpdate','listenerUnsubscriber','messageListeners','scheduleTime','connectionState','sampleRate','loadEnabledChannels','object-store-invalid-state','length','setupResizeHandler','connectionStateListener','evaluateProccessedJob','getRemoteMediaStreams','\x20with\x20response:','MediaStreamPriority','localNode','Early\x20return','disconnectCallback','Cannot\x20get\x20file:\x20','JobType','dbKey','getObjectStoreBuckets','getInternalTrackParams','trackEndedListeners','invalid-access','setParams','match','packetsReceived','providerListener','pendingFilesTransactions','manageOptimization','Online','isIceCandidate','addPendingHandshakeCandidate','filter','pendingHandshakeCandidates','systemMessagesReceived','nodeManager','Events','RequestAccepted','supportsContentType','sort','connector','onBufferedAmountLow','params','removeRemoteStreamSubscription','Channel\x20\x27','index','limitToFirst','logStorage','getReceiverBitrate','key-value-database-table-name-reserved','publishSystemMessage','RequestTransactionsValue','Failed\x20to\x20create\x20AI\x20worker','default','crewdle-sdk-stg.appspot.com','KeyValueDatabaseInvalidValue','RemoteMediaStreamDoesNotExist','/models','files\x20transact','ConnectionState','oncloseTimeout','KeyValueDatabaseTransactionValueNotSet','publishLocalDynamicMediaStream','closed','node-not-authenticated','notifyObjectStoreOfNodeJoin','Invalid\x20index\x20in\x20table\x20\x27','getGenerativeAIContexts','connectionTimeout','setBytes','Connection\x20does\x20not\x20exist.','setInternalId','handleStatsSystemEvents','Rejected','operator','captureStream','getConnection','ObjectStoreInvalidPath','canChooseAnswer','fps','syncKeyValueDatabase','handshakeDebounce','start','trackKinds','framesEncoded','getPacketsLostPerc','manageAncestor','getItem','Attribution','handleDisconnect','CanProvideMediaStream','handleContentUpdateMediaStream','NodeInvalidType','Syncing','objectStoreConnector','setItem','Node\x20already\x20exists.','publishNodeJoin','setPendingFileSyncingPayload','handleNodeJoin','setOnDisconnectHandler','job-worker-does-not-exist','updated','getInternalStreamId','list','ObjectStoreNotSynced','Remote\x20connection\x20already\x20exists.','SystemStats','splice','answers','NodeJoin','destination','handshakeCandidates','.crewdle-pending','getStatus','connection-invalid-data-event','chunk','NodeUpdate','key-value-database-does-not-exist','prompts','handleChunkMessage','label','Invalid\x20object\x20store\x20sync\x20message.','messageUnsubscriber','getHash','object-storage','processLocalReport','getPriority','commit','bitrate','handleDetectionSystemEvents','payloadType','Receiving\x20\x27','setConnectionType','joinedAt','openKeyValueDatabase','email','onRemoveTrack','All','streams','CPUCycle','move','Job\x20service\x20observer\x20not\x20found.','onremovetrack','distance','Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27','Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.','user-update','job-dispatcher-creation-failed','getRoundTripTime','sendFileRequestPayload','connect','cpu.fps','handleNodeLeave','Method\x20not\x20implemented.','stats','setReceiverTimestamp','getJob','detectStreamIssues','payload','clusterEventEmitter','/resources/agent/items/','Missing\x20remote\x20node\x20or\x20rank','File\x20sending\x20interrupted','getClosestNodes','Invalid\x20where\x20clause','Key-value\x20database\x20transaction\x20value\x20not\x20set.','region','onNodeDisconnect','object','stringify','PubSubTopicNameNotString','content','publishNodeLeave','setEmail','createMediaStreamDestination','openJobWorker','onMessage','ObjectStoreDoesNotExist','gpu','NodeNotAuthenticated','token','debounceStats','getEmail','answerJoin','removeNode','Downgrade','Invalid\x20node\x20type','addCandidate','PublishMediaStream','createRemoteMediaStream','setTimestamp','SystemTopic\x20publish','FileDelete','DataStream\x20send','height','__esModule','handleNoAnswer','generative-ai-context-already-exists','completed','objectStore','topicLabel','videoWidth','isSyncing','Internal\x20error:\x20','object-store-already-exists','getRemoteNode','An\x20error\x20occurred','RemoteMediaStreamTrackFail','job-dispatcher-job-not-found','CrewdleConnection\x20handlePeerConnectionSystemEvents','fileChunks','bandwidth.rtt','Media','deleteRemoteNode','onClose','Generative\x20AI\x20context\x20invalid\x20partial\x20result.','getRank','key-value-database-index-not-found','receiverPreviousTimestamp','OutgoingMediaStreamNoTopic','Sender','warning','Invalid\x20value.\x20Property\x20\x27','Folder','bufferedAmount','Subscription\x20request\x20failed.','syncResolve','Partial','peer-connection','/capacities','PeerConnectionInvalidDestination','observer','NodeManager\x20-\x20PublishNodeLeave','isMediaDestination','handleCloseKeyValueDatabase','FileStatus','outgoingStreams','retryLimit','/models/','receiverCurrentBytes','AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','inbound-rtp','Internal\x20unknown\x20error:\x20','systemTopicUnsubscribe','Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream','play','nodeId','getSenderBitrate','WebRTC','RemoteMediaStreamMissingProviderId','AppSync\x20publish','WebGL','vendorId','findIndex','statsManager','application/octet-stream','path','job-worker-already-exists','getShareableStreamId','setScheduleTime','\x20sending\x20attempt\x20','en-US','add','database','Send\x20request','Sending\x20\x27','contentManager','getAuth','slice','GenerativeAIWorkerMissingConnectors','arrayBufferToObject','SubscriptionRequestDoesNotExist','nextNodeId','getBid','sendTransactionsValue','setUpgradeTimeout','firestore','frames','sendRequest','track','Invalid\x20data\x20event.','senderConnection','digest','emit','getPartsForSubscriptionLabel','Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user','registerSource','isReconnecting','authenticateAgent','forEach','updatePropagationProperties','Error\x20writing\x20buffered\x20chunk\x20to\x20stream','KeyValueDatabaseCreationFailed','Restart\x20NeedMediaStream','handleContentCloseJob','/nodes','applyRemediation','maxOutgoingSubscriptions','ConnectionNoRetryQueue','absolutePathName','handleFolderCreate','JobDispatcherDoesNotExist','output','previousFrames','not-in','openGenerativeAIWorker','processRemoteInboundReport','removeObjectStore','clearSyncTimeout','addRemoteNode','GenerativeAIContextJobFailed','answer','disableIntervalHack','outbound-rtp','getMaxDistance','type','KeyValueDatabaseNameNotString','isPartialResultResponse','connectAgent','\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.','processSenderReport','findNextAncestor','handleSystemEvents'];a0_0x3545=function(){return _0x4d6831;};return a0_0x3545();}