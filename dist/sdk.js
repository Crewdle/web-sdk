function a0_0x4ebd(){const _0x227c22=['channel','unregisterPublisherListener','Module','isProduction','7026684VgMpKw','clearWaitAnswer','pub-sub-topic-does-not-exist','currentVersion','Invalid\x20subscriber.','job-dispatcher-invalid-job-type','Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.','/models','getConfigs','validateLayout','ObjectStoreNotSynced','audioContext','getJobObservable','pub-sub-topic-already-exists','isArray','connected','getGenerativeAIContexts','CanProvideMediaStream','onBufferedAmountLow','crewdle-sdk-stg.appspot.com','Sending\x20\x27','error','sdkValidateAccess','removeRemoteNode','InvalidDataChannel','forEach','Remove','region','text/plain','isWhereValue','addContent','canChooseAnswer','answererId','getConnections','getRank','Job\x20worker\x20creation\x20failed.','getTableConnector','publishFile','resizeHandler','key-value-database-name-not-string','jobPhase','aws','requestSubscription','responseTimeout','setConnectionType','objectToArrayBuffer','GenerativeAIWorkerStats','RestartNeedMediaStream','writeBatch','en-US','videoHeight','jobObservers','Node\x20not\x20authenticated','tableObserver','key-value-database-table-does-not-exist','ended','processPendingSyncTransactions','Backgrounds','Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20','featureSupport','\x20received\x20partial\x20result:','key-value-database-transaction-table-not-initialized','registeredListeners','::ï¿¿','operator','createLocalDynamicMediaStream','waitAnswer','senderStreams','functions','createJob','receiverTotalMessages','/nodes/','sdkCreateToken','crewdleSDKLoggingChannels','generativeAIWorkers','compileStats','getEstimatedTimestamp','maxConnections','pubsubTopics','listenerUnsubscriber','heartbeatUnsubscriber','Connection\x20does\x20not\x20exist.','/logs','processServiceReport','detectStreamIssues','nextNodeId','syncTransactionsWritten','Signaling','Receiver','handleFileSync','Jitter','remote-inbound-rtp','timeoutCallback','requestSubscriptionAction','remote-stream-missing-provider-id','WebRTC','push','removeRemoteMediaStream','GenerativeAIContextInvalidPartialResult','logStorage','keyValueDatabases','clientWidth','connector','outbound-rtp','Answer','debugEnabled','mediaStream','firebase-disconnect','Invalid\x20peer\x20connection\x20event\x20destination.','callback','buffer','defineProperty','lastProcessRank','total','handleNodeDisconnect','\x20after\x20','getRemoteNodes','JobWorkerCreationFailed','setLoggingConnectors','JobWorker:\x20Received\x20job','query-helper-invalid-argument','framerate','Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20','mediator','systemMessagesReceived','retryCount','exports','/models/','parameters','Cannot\x20get\x20file:\x20','bandwidth.bitrate','createBufferSource','origin','Delete','Generative\x20AI\x20context\x20invalid\x20partial\x20result.','system','frames','JobWorkerDoesNotExist','setupListeners','currentBatch','clusterKey','.info/serverTimeOffset','getSubscribedTracks','DataChannel\x20is\x20not\x20initialized.','handleProblem','AudioVolume','Transaction','splice','getConnectionType','UpdateMediaStream','setLocalRank','unregisterSystemSource','File','timeoutValue','createPubSubTopic','commitBatch','sourceId','setStatus','failed','stats','\x20-\x20','indexes','Label\x20already\x20in\x20use\x20by\x20AI\x20Service','messageListeners','crewdle-sdk.firebaseapp.com','remediationManager','G-F7W8KXRKQB','KeyValueDatabaseTableDoesNotExist','FolderDelete','\x27:\x20missing\x20or\x20invalid\x20keyPath','Logger.getInstance','getLastUpdated','suspended','clearRestartTimeout','getCoresFromCapacityReport','JobDispatcherCreationFailed','connection-invalid-data-event','remote-stream-does-not-exist','handleSubscribeMediaStream','RequestAccepted','iceConnectionState\x20failed','GenerativeAIContextStats','autoplay','prototype','removeEventListener','KeyValueDatabaseStats','invalid-data-chanel','unregisterRemoteNode','createReceiverConnection','sort','Object\x20store\x20not\x20synced.','handleOffer','setTimestamp','node','object-store-invalid-state','sendWithRetry','getFirestore','detectAudioIssues','\x0aAdditional\x20data:\x20','waitSuccess','MistletCapacityReportNotSet','RemoteAdd','label','where','isSyncing','\x20to\x20send\x20dispatcherJob\x20','LocalReport','getContentType','between','notifyClusterNodeUpdate','bind','restart','disconnected','senderPreviousTimestamp','enabledChannels','processOutboundReport','warn','addCluster','setupStatsReporting','key-value-database-already-exists','nodeId','digest','answerJoin','tableName','logSupport','getShareableStream','createElement','pendingFilesRename','Remote\x20stream\x20does\x20not\x20exist.','values','topicLabel','update','receiverPreviousBytes','collectSendersStats','arrayBufferToObject','string','appsync-connect-fail','videoWidth','batchSize','handleOnMessage','Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc','onHandshakeStateChange','prompt','pendingHandshakeCandidates','key-value-database-not-open','isInternalSDKConfigs','getBitrate','detectProblems','OptimizationConnectionSuccess','handleNodeJoinNeedPublishedStream','trackEndedListeners','Error\x20encountered\x20while\x20opening\x20database','generativeAIContexts','inputTokens','2-digit','getFunctions','ClusterAlreadyJoined','jobType','priority','clientHeight','debug','Invalid\x20value.\x20Property\x20\x27','key','initializeApp','job-dispatcher-job-not-found','1:420235181083:web:4eff6062bd845cb0748cbe','RequestFile','reportMetric','connectionState','setSenderTimestamp','No\x20valid\x20bid\x20responses\x20received\x20in\x20time.','server','replaceTrack','agentConfig','unsubscribe','OutgoingSubscription','endsWith','orchestrator','discoveryService','Stream\x20does\x20not\x20exist','\x20attempts:','getSettings','codes','addPendingHandshakeCandidate','handleObjectMove','Operations:','lastHeartbeat','.crewdle-transactions','isRunning','serverTimestamp','isJobRequest','notifyJoin','key-value-database-creation-failed','No\x20connections\x20available\x20to\x20send\x20subscription\x20request','Local\x20node\x20rank\x20is\x20not\x20set','localNode','tableLayout','sendTransactionsDump','component','CrewdleReceiverConnection\x20ontrack','onUnregisterPublisher','Pool','Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string','Job\x20service\x20creation\x20failed.','Jobs','getApp','mediaUnsubscribers','request','writeTransaction','Invalid\x20layout:\x20','payloadType','maxFps','vendorId','checkScreenSharing','SyncComplete','ceil','getDisplayMedia','Key-value\x20database\x20table\x20does\x20not\x20exist.','senders','pathName','ContentType','checkAudioOutput','media-stream','GenerativeAIContextJobTimeout','Store\x20already\x20exists','openPubSubTopic','PubSubTopicAlreadyExists','query','findIndex','bytesSent','Internal\x20SDK\x20error:\x20','byteLength','invalid-publisher','STVolatility','FileWrite','node-not-authenticated','objectStore','appsync-connect','isWhereBetween','size','\x20answer','appsync-close','Disconnected','syncTransactions','senderBitrate','params','job-dispatcher-already-exists','clearRect','previousBytes','created','Failed','LocalMediaStreamAlreadyExists','transactionTable','listenUnsubscriber','System','18454690MmcjOQ','publishFolder','syncResolve','.crewdle-last-transaction','outputTokens','accumulateResult','Cluster','IncomingSubscription','Early\x20return','JobDispatcherJobExists','getModel','content-publish-media','checkWebGL','nodeManager','Waiting','\x27\x20to\x20','objectStores','onDisconnectHandler','mergeParts','CloseJobDispatcher','downgrade','registerSystemPublisher','oidc','buildTableEvent','crewdle-sdk.appspot.com','Receiver\x20connection\x20is\x20not\x20initialized.','/nodes','onloadeddata','return\x20this','removeConnection','logPropagateSystemEvent','appsync-no-destination','min','getMaxDistance','\x20sending\x20attempt\x20','getResolution','video','createBuffer','publishLocalMediaStream','184gRqTUE','frameHeight','key-value-database-table-not-found','\x20received\x20result:','9573348uzOQte','handleRemoteTrackFailure','Update','handleNoAnswer','subscribedTracks','Get','setVendorId','\x20does\x20not\x20support\x20content\x20type\x20','createWritableStream','registerDestination','getInternalTrackParams','completeSync','ConnectionInvalidDataEvent','similarity.gguf','isChannelEnabled','manageOptimization','\x27\x20reserved','PayloadAction','statsReporting','pop','AppSync\x20client\x20not\x20ready','owner','NodeLeave','crewdle-sdk-logging-','dataUnsubscribers','updateLastTransactionId','instance','addReservedTables','inactive','deleteModel','setRemoteConnections','Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','clusterEventEmitter','remoteMediaStreams','email','peer-connection','propagate','packetsReceived','removeItem','PublishMediaStream','canAddCandidates','clearSyncTimeout','Offline','signOut','receiverCurrentBytes','deleteObject','getClosestNodes','outgoingTopic','orderBy','processRank','shouldProcessTransaction','sendStats','move','abs','getNumberOutgoingSubscriptions','setupStatsCollection','getSenderBitrate','splitParts','createOutgoingSubscription','incomingManager','getQuery','assign','handleSubscriptionRestartNeedMediaStream','buildQuery','direction','start','batchTimeout','Connection','initializeSystemTopic','getTotalBytes','random','ancestors','Rejected','GenerativeAIModelType','onChildRemoved','getSenderTotalBytes','generateClient','availableTrackKinds','removeTrackListeners','isIceCandidate','setInterval','Job\x20with\x20id\x20','setInternalId','Restart','createKeyValueDatabase','getReceiverBitrate','incrementVersion','\x20deleted.','key-value-database','processReports','generative-ai-worker-creation-failed','authenticateAgent','handleAnswer','asc','\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.','JobWorkerAlreadyExists','Failed\x20to\x20create\x20job\x20service','pub-sub-topic-name-not-string','waitSendBuffer','find','MediaStreamPriority','set','answer','validateValue','file','timePerFrame','Cannot\x20get\x20size\x20of\x20path:\x20','sender','KeyValueDatabaseTableNotFound','\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number','0.3.4','Cannot\x20publish\x20folder:\x20','checkAudioContext','402254mPXVdB','head','transaction','waitConnected','setTransformations','user-join','client','northamerica-northeast1','subscriptionManager','getStatus','encode','objectStoreConnector','bandwidth.rtt','getJobs','Bitrate','list','answers','Receiving\x20\x27','senderCurrentBytes','arrayBuffer','removeOutgoingSubscription','currentFrames','message','crewdle-sdk','12969JJdBnB','incomingTopic','providerId','jobBids','onTrack','handleContentUnpublishMediaStream','handleRequestPayload','endpoint','val','missing-incoming-connection','Error\x20committing\x20batch:','DataStream\x20onMessage','objectRequests','1IxaMCk','cluster-already-joined','evaluatePartialJob','chooseAnswer','minResolutionScale','audioSource','processOutboundReports','agent-update','pendingFilesSyncing','node-does-not-exist','unsubscribeTrackEndedListener','wait','AudioVideoDelay','outgoingManager','All\x20recipients\x20already\x20received','statsReport','ref','logConnectionState','invalid-subscription','toStringTag','handshakeState','RemoteMediaStreamAlreadyExists','nodes','Stats:\x20report','uuid','getOutgoingOptimizationConnections','Invalid\x20job\x20service\x20payload.','subscription-request-in-progress','packetsLost','collectStats','handleContentSystemEvents','globalObject','Support:\x20','clusterId','StreamReport','messageType','vectorDatabaseConnector','handleNodeLeave','isFeatureSupported','getPartsFromSubscription','rank','indexOf','pub-sub-topic-already-subscribed','trackCallback','Missing\x20answerer\x20id\x20on\x20request\x20answer','evaluateBidsAndAttributeJob','ClosePubSubTopic','not-in','JobWorker:\x20Error\x20getting\x20cores\x20from\x20capacity\x20report','/transactions/lastTransaction','tokens','minThreshold','cancel','remediations','unregisterPublisher','stream','delete','retryQueue','setupTrackEndedListeners','joinCluster','recipients','Folder','ObjectStoreInvalidState','some','chunks','stop','Incoming','handshakeCandidates','Connected','hasTracks','connections','handleNodeSystemEvents','MissingRemoteConnection','webgl','createPendingFileWrite','removeObjectStore','handleHandshake','SubscriptionRequestDoesNotExist','clear','\x20with\x20\x27','jobWorkers','PubSubTopicStats','handleSubscriptionProvideMediaStream','padStart','User\x20not\x20signed\x20in','system-stats','object','setBytes','Mistlet\x20capacity\x20report\x20not\x20set.','job-dispatcher-invalid-payload','startAt','getSubscriptionInfo','peerConnectionConnector','NodeUpdate','handleDisconnect','ObjectStoreInvalidPayload','KeyValueDatabaseNameNotString','getAudioVideoDelay','Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream','prompts','bid','1:519415702791:web:5dd39042f881cfde3251a2','JobDispatcherObserverNotFound','Buffering\x20event','providerListener','onremovetrack','/resources/agent/items/','processInboundReports','createIncomingSubscription','topics','pubsub','authContext','subscriptionRequests','createJobDispatcher','status','handleCloseJobDispatcher','previous','getConnectionDestinations','reads','chunksReceived','play','ownerId','writeFile','JobDispatcherInvalidJobType','RemoteMediaStreamDoesNotExist','receiverStreams','getPubSubTopics','Events','createTopic','ObjectStoreAlreadySubscribed','PubSubTopic\x20onMessage','tracks','ConnectionNotinitialized','streams','signalingServer','retryQueues','framesEncoded','getUserMedia','checksum','Medium','clearConnectionTimeout','handleFolderCreate','Completed','removeJobWorker','handleContentUpdateMediaStream','width','getOrResetPendingFileTimeout','setDisplayName','Downgrade','name','ConnectionState','JobWorkerInvalidType','compareTransactions','Subscription\x20request\x20has\x20not\x20been\x20answered.','getDistance','internal-sdk-error','Key-value\x20database\x20transaction\x20value\x20not\x20set.','firebaseConfig','output','sendChunked','llm.gguf','time_per_frame','type','ConnectionNotConnected','sendRequest','dataTopics','getAncestorIds','filter','transactionIds','Invalid\x20credentials','removeIncomingSubscription','join-cluster','171EDvERw','jobWorkerConnector','handleContentRemoteMediaStreamTrackFail','TestPage','InvalidSubscription','subscriptions','generative-ai-context-does-not-exist','GenerativeAIContextJobFailed','destination','log','Synced','targetId','amd','PartialResult','handleChunkMessage','findNextAncestor','removeTrack','setDurationTime','processDataChannelReport','getTracks','local-media-stream-no-audio-context','Generative\x20AI\x20context\x20job\x20failed.','getTransactions','NodeAlreadyExist','getResolutionScale','RemoteMediaStreamMissingProviderId','DataStream','handleIceCandidates','KeyValueDatabaseDoesNotExist','addProblem','Error','isOffer','Internal\x20SDK\x20Error:\x20','NeedMediaStream','registerPublisher','av_delay','remoteId','InvalidAccess','getName','eventTarget','observer','Recording','getSupportedContentTypes','JobDispatcherJobNotFound','setEmail','threshold','NeedRestart','CloseKeyValueDatabase','pendingFilesTransactions','statsManager','isAvailable','SHA-256','sendIceCandidates','discoveryUnsubscriber','unsubscribeListener','Pending','Accepted','Unsupported\x20job\x20type','Partial','processBatch','setOnTableWriteHandler','processSenderReport','pow','Count','getLocalNode','Error\x20reading\x20file\x20chunk\x20after\x20','Error\x20closing\x20writable\x20stream','registerRemoteNode','Stream\x20already\x20exists','updatePropagationProperties','Base\x20Peer\x20Connection','sendAction','\x20already\x20exists','getKeyValueDatabases','firestore','InvalidSubscriber','SendTransactionsDump','setOnMessageHandler','sync','createOffer','generative-ai','createAnswer','onProviderChange','MediaStream','orderByKey','checkAudioVolume','sdk-internal-error:\x20','key-value-database-transaction-value-not-set','createMediaStreamDestination','offset','appsync-disconnect','skipEncryption','auth','setPendingFileSyncingPayload','drawImage','key-value-database-invalid-layout','processJob','bufferedChunks','app','setReportCapacity','handleCloseKeyValueDatabase','join','getMediaSubscription','updateDebounceTimeout','getRoundTripTime','trackListeners','messagesSent','ObjectStoreNameNotString','default','isBidResponse','getPacketsLostPerc','Invalid\x20index\x20in\x20table\x20\x27','7681255sodEiC','PubSubTopicNameNotString','registerCluster','We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set','SubscriptionRequestFailed','graphService','true','remainingTracks','limit','toLocaleDateString','inbound-rtp','RemoteRemediation','getAncestors','Remote\x20MediaStream\x20already\x20exists','connectionConstructor','joinedAt','NodeManager\x20-\x20ConnectionSuccess','resolution','Writable\x20stream\x20is\x20missing','state','catch','connection','currentDistance','remediation','Sender','handleCloseObjectStore','detectionManager','handleSubscriptionUnsubscribeMediaStream','systemTopic','Everyone\x20','transactionsToSync','Orchestrator\x20handleSystemEvents','handleFileRequest','UnsubscribeMediaStream','RemoteRemove','RequestSyncKeyValueDatabase','maxOutgoingSubscriptions','subscribe','senderCurrentTimestamp','lastUpdated','roundTripTime','retry','operations','messageBuffer','RequestFileWrite','getGenerativeAIWorkers','httpsCallable','lastCapacityReport','KeyValueDatabaseIndexNotFound','generative-ai-worker-already-exists','updated','Subscription\x20request\x20does\x20not\x20exist.','getMinConnections','bitrate','Received\x20track','Node\x20already\x20exists.','upgradeTimeout','Detection','setCurrentVersion','loadEnabledChannels','pubSubTopics','isWhereValues','handleStatsSystemEvents','DataChannel\x20is\x20not\x20open.','createObjectStoreBucket','feature-not-enabled','batchQueue','limitToFirst','subscriptionRequestTimeouts','cpu.fps','registerSystemSource','handleContentCloseJob','shouldContinuePropagation','writes','handleSubscriptionSubscribeMediaStream','isFailedResponse','Main','counter','senderConnection','addEventListener','request-accepted','Core','NodeInvalidType','publishMove','cores','consumeBufferedEvents','Missing\x20owner\x20node\x20or\x20rank','durationTime','hasMessage','keyPath','setReceiverBytes','local-stream-does-not-exist','GenerativeAIWorkerMissingConnectors','GenerativeAIContextAlreadyExists','Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string','shift','number','fps','evaluateProccessedJob','Optimization','reset','getConnectionGroup','GenerativeAIWorkerModelSyncError','unshift','path','detectVideoIssues','isEqual','getRemoteConnections','file-write','Channel\x20\x27','getRemoteMediaStreams','collection','key-value-database-index-not-found','messagesReceived','JobWorker:\x20Received\x20job\x20request','Attribution','previousFrames','track','NodeDoesNotExist','content','OutgoingMediaStreamNoTopic','handleSuccess','Data\x20cluster\x20is\x20not\x20open.','Job\x20Worker\x20does\x20not\x20exist','AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','openGenerativeAIContext','transformations','listener','layout','st_volatility','handleRemediationSystemEvents','Media','evaluateBids','processPendingHandshakeCandidates','ObjectStore','detail','frameTime','User','Remediation','setRemoteNode','contentManager','getTrack','getReport','connectionStateListener','.crewdle-pending','Invalid\x20publisher.','Bid','estimatedPlayoutTimestamp','getTrackFromParam','timestamp','graphql','handleContentCloseKeyValueDatabase','oncloseTimeout','PubSub\x20already\x20exists','remoteNodes','getDTVolatility','closeSubscription','support','publishSystemMessage','openJobDispatcher','applyRemediation','getMediaStream','JobType','dataChannel','addBidResponse','getIdToken','handleSubscriptionSystemEvents','issues','connection-state','getSubscriptionLabel','JobStatus','setTimeout','Stats','load','clearWaitSuccess','JobWorker:\x20Sending\x20job\x20result','childRemovedUnsubscriber','keyValueDatabaseConnector','updateJob','processReport','PeerConnection','debounceProcessRank','transactions','FPS','handleContentUnsubscribeMediaStream','loadExistingContent','Outgoing','\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27','Invalid\x20node\x20type','\x27\x20in\x20table\x20\x27','startNoThrottlingHack','sendBid','getCapacityReport','KeyValueDatabaseTransactionValueNotSet','Send\x20request','newPath','detectLocalIssues','ConnectionGroup','instantiateTransactionTable','unsubscribeHandler','checkSyncComplete','publish','handleFileRequestAnswer','sendFileRequestPayload','DTVolatility','createMediaStreamSource','Hub','Missing\x20remote\x20node\x20or\x20rank','senderPreviousBytes','manageBufferedChunks','ObjectKind','api','Method\x20not\x20implemented.','retryDelay','\x20not\x20supported','currentTimestamp','Job\x20Dispatcher\x20already\x20exists','openKeyValueDatabase','handshakeDebounce','getConnection','logEvent','getVideoTracks','connectionType','handleDetectionSystemEvents','write','Invalid\x20version\x20\x27','validateAccess','findNextNodeId','Internal\x20event\x20\x27','cost','MediaStream\x20feature\x20not\x20enabled','Low','ObjectStoreInvalidPath','removeSubscriptionsForNode','minConnections','hasOwnProperty','createJobWorker','getInstance','remote-media-stream-invalid-subscription-params','receiverBitrate','Chosen\x20answer','420235181083','CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','ENOENT','close','removeKeyValueDatabase','unregisterSource','\x20failed.','onClose','updateUser','isSync','signInWithCredential','Support:\x20current\x20config','next','CPUCycle','KeyValueDatabaseNotOpen','Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed','clearSubscriptionRequestTimeout','reduce','previousTimestamp','hasRemoteNode','Emitting\x20event\x20on\x20local\x20cluster','\x20already\x20exists.','bandwidth.jitter','DeviceConfig','closeConnection','publishSyncCompleted','remoteUnsubscriber','decodeJWT','setEncodingParameters','createLocalMediaStream','FramePerSecond','ai-worker-','startHeartbeat','clientStream','createRemoteMediaStream','currentBytes','Table\x20not\x20found','deleteJob','Problem','groupId','toString','complete','FileStatus','createGenerativeAIContext','clusters/','Invalid\x20index\x20key:\x20must\x20be\x20a\x20string','folder-create','exists','createRemoteNode','getContext','firebase-connect','bufferEvent','stringify','Invalid\x20data\x20channel.','\x20failed.\x20Retrying...','100784dcSdGH','tail','UnpublishMediaStream','srcObject','NodeConnectionsUpdate','getLocalId','getInternalStreamId','Failed\x20to\x20create\x20AI\x20worker','deletePendingFile','node-type-not-supported','getAuth','audio','NodeType','user-update','mediaDevices','clearOncloseTimeout','onRemoveTrack','element','receiverTimeProcessing','setupResizeHandler','getReceiverTotalBytes','setOnDisconnectHandler','isMediaDestination','getMaxConnections','upgrade','reject','Agent','Node','setItem','processList','max','getLocalMediaStreams','Success','LocalMediaStreamTrackFail','KeyValueDatabaseTransactionTableNotInitialized','onMessage','retryCallback','clusters','connect','object-store-not-in-sync','lastExecuted','authenticateUser','cluster-leave','handleCloseJobWorker','frameWidth','onConnectionStateChange','muted','Invalid\x20value.\x20Must\x20be\x20an\x20object.','InternalSDKError','signInWithCustomToken','ObjectStorage','issue','handleOptimizationConnectionSuccess','PubSubTopicDoesNotExist','contentType','parentId','chunk','every','fileChunks','addConnection','transactionService','KeyValueDatabaseInvalidValue','isMediaSource','publishTransaction','features','handleTransactionPayload','desc','Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number','handleUnpublishMediaStream','source','AI\x20Service\x20already\x20exists','subtle','KeyValueDatabaseInvalidQuery','DataStream\x20send','table','unregisterDestination','RequestFileSync','Subject','MissingSystemTopic','ObjectStoreStats','boolean','send','onSnapshot','__esModule','deleteTransactionsForTable','createSubscription','SubscribeMediaStream','handleJobAttribution','joinedClusters','unregisterSubscriber','setupRenderElement','keys','Subscription','handleContentClosePubSubTopic','processReceiverReport','replace','handleUpdateMediaStream','Database\x20not\x20open','asObservable','startsWith','removeJobDispatcher','Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user','timeSending','findNewMediaSubscription','map','internal','localMediaStreams','cpu.av_delay','startIndex','checkMediaRecording','messageUnsubscriber','handleNeedRestart','Connection\x20not\x20connected.','job-dispatcher-does-not-exist','connectionPool','discover','object-store-already-subscribed','PubSub','ObjectStoreNotInSync','getCurrentVersion','AudioContext','handleSubscriptionMediaStreamUnavailable','CrewdleSenderConnection\x20createOffer','getLocalMediaStream','FeatureNotEnabled','Early\x20return:\x20','NodeNotAuthenticated','Disconnect','crewdleSDKEnableLogging','Error\x20writing\x20buffered\x20chunk\x20to\x20stream','dispatchEvent','includes','Handshake','updateDebounce','systemMessages','createNewBatch','getEmail','kind','tableUnsubscriber','addDoc','RemoteMediaStreamInvalidSubscriptionParams','handleOutgoingSystemEvents','onGatheringStateChange','getSize','hasTable','handleContentSubscribeMediaStream','unregisterCluster','lastTransactionId','isJobAttribution','JobDispatcherInvalidPayload','isConnected','runTransaction','unpublish','Move','jobs','removePubSubTopic','getRemoteId','totalEncodeTime','getAudioTracks','job-','maxThreshold','connecting','queues','DatabaseEvent','onCandidate','removeTopic','.crewdle-layout','createFolder','WebGL','SubscriptionRequestNoAnswer','removeTrackCallback','Local\x20stream\x20does\x20not\x20exist.','dbKey','job-dispatcher-observer-not-found','List','MediaStreamUnavailable','displayName','resetConnection','remove','SystemStats','Support','Offer','sendReject','handleCloseMediaStream','setSubscriptionRequestTimeout','getRemoteMediaStream','messages','createSenderConnection','setPriority','Processing','nodeKey','NodeTypeNotSupported','removeLocalMediaStream','receiverConnection','Method\x20not\x20supported','doc','timeReceiving','Job\x20Worker\x20already\x20exists','messageCallback','senderTimeProcessing','RequestTransactionsValue','resume','processInboundReport','gpu','authNode','jobDispatchers','setupConnectionEvents','now','Amplify','CloseJobWorker','optimizationLayers','mediaTopics','Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream','count','publishNodeJoin','receivers','getObjectStoreBuckets','handlePublishMediaStream','bufferedEvents','SubscriptionRequestInProgress','Cannot\x20write\x20transaction.','JobDispatcherDoesNotExist','active','SystemTopic\x20publish','height','Cannot\x20publish\x20move\x20operation:\x20','getDatabase','https://crewdle-sdk-stg-default-rtdb.firebaseio.com','CloseObjectStoreBucket','getProviderId','decode','destroy','Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.','add','logServiceEvent','Cluster\x20already\x20joined','user','split','Job','action','debounceStats','/transactions','code','secheduleTime','processLocalReport','receiverCurrentTimestamp','Data','invalid-access','context','eventEmitter','generativeAIWorkerConnector','Generative\x20AI\x20context\x20job\x20timeout.','mistlet-capacity-report-not-set','Node\x20does\x20not\x20exist.','checkWebRTC','chosenAnswers','\x27\x20in\x20layout','addIssue','ConnectionNoRetryQueue','onNodeDisconnect','getRemoteNode','authService','retryLimit','maxFramerate','getShareableStreamId','getChannelData','undefined','https://crewdle-sdk-default-rtdb.firebaseio.com','closeTopic','jitter','AppSync\x20publish','GenerativeAIWorkerAlreadyExists','LoggingService:\x20logging\x20enabled\x20for','generative-ai-context-already-exists','Restart\x20NeedMediaStream','notifyClusterNodeJoin','getTable','ccc','token','initialize','getEnabledChannels','options','addMessage','maxLayer','handleFileWrite','isReconnecting','Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed','enabled','localId','GenerativeAIWorkerCreationFailed','createConstantSource','handleLocalTrackFailure','QueryBuilderInvalidArgument','Sender\x20connection\x20is\x20not\x20initialized.','remoteConnections','ranges','signaling','CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','Invalid\x20query','ObjectStoreInvalidSyncMessage','clearHeartbeat','internalId','maps','FileMove','disconnect','gatheringState','registerSubscriber','Failed\x20to\x20create\x20key\x20value\x20database','\x20not\x20found.','logRaw','Database\x20does\x20not\x20exist','configs','pool','Connection\x20not\x20initialized.','dt_volatility','/capacities','length','call','connection-not-initialized','restartTimeout','removeSubscription','KeyValueDatabase','ObjectStoreAlreadyExists','CannotProvideMediaStream','Content','InvalidPublisher','\x20with\x20response:','isValidMediaSubscriptionParams','processRemoteInboundReport','systemTopicUnsubscribe','checkBackgrounds','calculateSize','notifyObjectStoreOfNodeLeave','publishUserUpdate','processTransactionsDump','test-page','renderElement','get','peer-connection-invalid-destination','High','resolutionScale','handleClosePubSubTopic','removeListener','connection-not-connected','off','Invalid\x20key\x20\x27','result','Internal\x20unknown\x20error:\x20','\x20finalized.','parse','getJobDispatchers','Local\x20MediaStream\x20already\x20exists','Subscription\x20request\x20failed.','StorageEventType','version','createGenerativeAIWorker','function','setReceiverTimestamp','handleSystemEvents','notifyCluster','handleConnectionSuccess','entries','connectAgent','developers/','Missing\x20transaction\x20id','KeyValueDatabaseCreationFailed','captureStream','batch','Cannot\x20publish\x20payload:\x20','Error\x20writing\x20chunk\x20to\x20stream','getPriority','getLabel','removeRemoteStreamSubscription','onValue','addTrack','send\x20error\x20on\x20','setRank','job-worker-already-exists','getId','FolderCreate','RemoteConnectionExists','\x20does\x20not\x20exists','CONNECTION_STATE_CHANGE','iceServers','addRemoteConnection','checkMediaStream','setScheduleTime','successNotified','AudioContext\x20is\x20not\x20available','isInternalLoggingConnector','PubSubTopicAlreadySubscribed','RoundTripTime','manageAncestor','getJob','scheduleTime','getNextTargetRank','AudioOutput','distance','maxBitrate','Request','cluster-disconnect','payload','events','handleSubscriptionNeedMediaStream','NodeManager\x20-\x20NodeLeave','ScreenSharing','handleUnsubscribeMediaStream','CloseMediaStream','processJobStream','slice','getDisplayName','packets','startTime','openObjectStoreBucket','completed','Job\x20','text','senderTotalMessages','value','https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','trackKinds','unregisterSystemPublisher','listenerUnsubscribers','missing-system-topic','setParams','mute','RemoteMediaStreamTrackFail','PeerConnectionInvalidDestination','processTransactionPayload','Missing\x20AI\x20worker\x20connectors','getJobWorkers','connectionGroup','removeNode','Consuming\x20buffered\x20event','ObjectStoreCannotWriteTransaction','Problem\x20detected:\x20','syncKeyValueDatabase','pendingSyncTransactions','JobStream','handleContentCloseObjectStore','syncPendingFiles','maxDistance','commit','getSTVolatility','storage','absolutePathName','audioDestination','crewdle-sdk-stg','getAvailableTrackKinds','loggingConnectors','CrewdleConnectionGroup','Resolution','TimePerFrame','JobWorker:\x20Error\x20processing\x20job','receiverUnsubscribers','maxBpp','Apply\x20remediation','handleError','problemType','moveObject','All','publishSyncCompletedAfterWrites','sendFile','emit','candidate','subscription-request-failed','registerSource','addVideoTrack','cpu.cycle','NodeJoin','Job\x20Dispatcher\x20does\x20not\x20exist','signalingState','subscriptionRequestsQueue','data','ObjectStoreDoesNotExist','sendTransactionsValue','clockSkew','/objectstores/','addCandidate','canvas','.info/connected','maxResolution','destinationIds','setProviderId','getHash','outgoingStreams','handleMissingSenders','updateLastUpdated','node-already-exist','handleNodeJoin','floor','createConnection','Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.','stopNoThrottlingHack','syncTimeout','The\x20system\x20topic\x20has\x20not\x20been\x20registered.','Object\x20store\x20is\x20not\x20in\x20sync','bytesReceived','FolderMove','JobDispatcher:\x20Received\x20job','openGenerativeAIWorker','removeRemoteConnection','publishNodeLeave','disconnectCallback','all','local-media-stream-already-exists','startBidResponseHandling','subscription','getOwnerId','Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','JobDispatcherAlreadyExists','Default','interval','Result','receiver','isPartialResultResponse','available','Invalid\x20params','isSubscribed','from','streamId','reportCapacity','syncContent','JobWorker:\x20Sending\x20job\x20bid','LocalMediaStreamNoAudioContext','/documents','open','setUpgradeTimeout','capacityReporter','leave','KeyValueDatabaseTableNameReserved','checkDeviceConfig','subscribeToContent','stopConnection','AI\x20worker\x20creation\x20failed.','KeyValueDatabaseInvalidLayout','database','agent-config-changed','firebaseUnsubscriber','eventListener','event','clearUpgradeTimeout','syncedFileExists','Add','index','connectionManager','GenerativeAIContextCreationFailed','fromEntries','onConfigurationChange','Upgrade','sourceVideo','addAudioTrack','warning','getTransactionFromTableWriteEvent','\x20-\x20Sending\x20propagation\x20(','LocalMediaStreamDoesNotExist','receiverPreviousTimestamp','has','tables','us-east-1','getCurrentMaxLayer','No\x20connections\x20available\x20to\x20send\x20message','connectionTimeout','GenerativeAIContext','\x20check\x20failed','onDisconnect','addRemoteNode','statsCollection','GenerativeAILabelConflict','handleNodeUpdate','topic','key-value-database-invalid-query','request-file','handlePeerConnectionSystemEvents','openJobWorker','Online','logBatch'];a0_0x4ebd=function(){return _0x227c22;};return a0_0x4ebd();}function a0_0x3f62(_0x48f2ba,_0x3f6310){const _0x4ebde6=a0_0x4ebd();return a0_0x3f62=function(_0x3f62af,_0x3a89a7){_0x3f62af=_0x3f62af-0xe4;let _0x5476ad=_0x4ebde6[_0x3f62af];return _0x5476ad;},a0_0x3f62(_0x48f2ba,_0x3f6310);}(function(_0x5dc29b,_0x1f49f5){const _0x22f6c1=a0_0x3f62,_0x42123d=_0x5dc29b();while(!![]){try{const _0x5daf94=parseInt(_0x22f6c1(0x1d2))/0x1*(-parseInt(_0x22f6c1(0x1ad))/0x2)+-parseInt(_0x22f6c1(0x27e))/0x3*(-parseInt(_0x22f6c1(0x417))/0x4)+-parseInt(_0x22f6c1(0x2ee))/0x5+-parseInt(_0x22f6c1(0x13c))/0x6+parseInt(_0x22f6c1(0x65c))/0x7+parseInt(_0x22f6c1(0x138))/0x8*(parseInt(_0x22f6c1(0x1c5))/0x9)+parseInt(_0x22f6c1(0x111))/0xa;if(_0x5daf94===_0x1f49f5)break;else _0x42123d['push'](_0x42123d['shift']());}catch(_0x39295c){_0x42123d['push'](_0x42123d['shift']());}}}(a0_0x4ebd,0xf0a3c),!function(_0x25bfd8,_0x362b05){const _0x521ca9=a0_0x3f62;if(_0x521ca9(0x228)==typeof exports&&'object'==typeof module)module['exports']=_0x362b05();else{if(_0x521ca9(0x57b)==typeof define&&define[_0x521ca9(0x28a)])define([],_0x362b05);else{var _0x2a61bc=_0x362b05();for(var _0x35c3b7 in _0x2a61bc)(_0x521ca9(0x228)==typeof exports?exports:_0x25bfd8)[_0x35c3b7]=_0x2a61bc[_0x35c3b7];}}}(this,()=>((()=>{'use strict';const _0x5a261d=a0_0x3f62;var _0x180502={0x14d:(_0x5af058,_0x2a55a9,_0x17b676)=>{const _0x2d16d7=a0_0x3f62;_0x17b676['d'](_0x2a55a9,{'O':()=>_0x98ced1});const _0x98ced1={'version':'0.3.4.0','isProduction':!0x1,'firebaseConfig':{'apiKey':'AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','authDomain':'crewdle-sdk-stg.firebaseapp.com','databaseURL':_0x2d16d7(0x4fa),'projectId':_0x2d16d7(0x5d6),'storageBucket':_0x2d16d7(0x66f),'appId':_0x2d16d7(0x237),'functionsRegion':_0x2d16d7(0x1b4)},'aws':{'endpoint':'https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','region':_0x2d16d7(0x646)}};},0x33b:(_0x4c5b00,_0x3891ee,_0x489029)=>{_0x489029['d'](_0x3891ee,{'O':()=>_0x166e30});const _0x166e30={};},0x3e6:(_0x302121,_0x3087ae,_0x3bf106)=>{const _0x58669c=a0_0x3f62;_0x3bf106['d'](_0x3087ae,{'O':()=>_0x13b6cd});const _0x13b6cd={'version':_0x58669c(0x1aa),'isProduction':!0x0,'firebaseConfig':{'apiKey':_0x58669c(0x36a),'authDomain':_0x58669c(0x700),'databaseURL':_0x58669c(0x522),'projectId':_0x58669c(0x1c4),'storageBucket':_0x58669c(0x129),'messagingSenderId':_0x58669c(0x3e0),'appId':_0x58669c(0x765),'measurementId':_0x58669c(0x702)},'aws':{'endpoint':_0x58669c(0x5ba),'region':_0x58669c(0x646)}};},0x20:(_0x2f21b3,_0x2dab84,_0x232dfd)=>{_0x232dfd['d'](_0x2dab84,{'O':()=>_0x43302e});const _0x43302e={};}},_0x803100={};function _0xbcea2d(_0x3eb9c4){const _0x1bfca8=a0_0x3f62;var _0x4ff4ca=_0x803100[_0x3eb9c4];if(void 0x0!==_0x4ff4ca)return _0x4ff4ca[_0x1bfca8(0x6da)];var _0x9b102c=_0x803100[_0x3eb9c4]={'exports':{}};return _0x180502[_0x3eb9c4](_0x9b102c,_0x9b102c[_0x1bfca8(0x6da)],_0xbcea2d),_0x9b102c[_0x1bfca8(0x6da)];}_0xbcea2d['d']=(_0x1784b2,_0x4eaf22)=>{for(var _0x3da29c in _0x4eaf22)_0xbcea2d['o'](_0x4eaf22,_0x3da29c)&&!_0xbcea2d['o'](_0x1784b2,_0x3da29c)&&Object['defineProperty'](_0x1784b2,_0x3da29c,{'enumerable':!0x0,'get':_0x4eaf22[_0x3da29c]});},_0xbcea2d['g']=(function(){const _0xf8e72a=a0_0x3f62;if(_0xf8e72a(0x228)==typeof globalThis)return globalThis;try{return this||new Function(_0xf8e72a(0x12d))();}catch(_0x3faa4f){if('object'==typeof window)return window;}}()),_0xbcea2d['o']=(_0x425eb6,_0x54f709)=>Object[_0x5a261d(0x713)][_0x5a261d(0x3da)][_0x5a261d(0x554)](_0x425eb6,_0x54f709),_0xbcea2d['r']=_0x453403=>{const _0x195b6b=_0x5a261d;_0x195b6b(0x521)!=typeof Symbol&&Symbol[_0x195b6b(0x1e5)]&&Object[_0x195b6b(0x6cb)](_0x453403,Symbol['toStringTag'],{'value':_0x195b6b(0x65a)}),Object[_0x195b6b(0x6cb)](_0x453403,_0x195b6b(0x46a),{'value':!0x0});};var _0x1cb6bb,_0x39a0cc,_0x2d7d49,_0x57a50c={};_0xbcea2d['r'](_0x57a50c),_0xbcea2d['d'](_0x57a50c,{'KeyValueDatabase':()=>_0x5d23e6,'LayoutBuilder':()=>_0x362375,'LoggingChannels':()=>_0x2d7d49,'QueryBuilder':()=>_0xc017b9,'SDK':()=>_0x1254be,'SDKClientErrorCodes':()=>_0x1cb6bb,'TableBuilder':()=>_0x18fe51,'logger':()=>_0x50fe93}),function(_0x437a83){const _0x19e902=_0x5a261d;_0x437a83['ClusterAlreadyJoined']=_0x19e902(0x1d3),_0x437a83[_0x19e902(0x493)]=_0x19e902(0x32f),_0x437a83[_0x19e902(0x34b)]=_0x19e902(0x528),_0x437a83['GenerativeAIContextDoesNotExist']=_0x19e902(0x284),_0x437a83['GenerativeAILabelConflict']='generative-ai-label-conflict',_0x437a83[_0x19e902(0x526)]=_0x19e902(0x31f),_0x437a83[_0x19e902(0x34a)]='generative-ai-worker-missing-connectors',_0x437a83[_0x19e902(0x354)]='generative-ai-worker-model-sync-error',_0x437a83[_0x19e902(0x615)]=_0x19e902(0x108),_0x437a83[_0x19e902(0x4f4)]=_0x19e902(0x488),_0x437a83[_0x19e902(0x11a)]='job-dispatcher-job-exists',_0x437a83['JobDispatcherJobNotFound']=_0x19e902(0x764),_0x437a83[_0x19e902(0x24d)]=_0x19e902(0x661),_0x437a83[_0x19e902(0x19b)]=_0x19e902(0x590),_0x437a83['JobWorkerDoesNotExist']='job-worker-does-not-exist',_0x437a83['ObjectStoreAlreadyExists']='object-store-already-exists',_0x437a83[_0x19e902(0x253)]=_0x19e902(0x48b),_0x437a83[_0x19e902(0x5f1)]='object-store-stream-does-not-exist',_0x437a83[_0x19e902(0x2e9)]='object-store-name-not-string',_0x437a83[_0x19e902(0x231)]='object-store-invalid-payload',_0x437a83['ObjectStoreInvalidPath']='object-store-invalid-path',_0x437a83[_0x19e902(0x48d)]=_0x19e902(0x43e),_0x437a83['InternalSDKError']=_0x19e902(0x26d),_0x437a83[_0x19e902(0x2a3)]=_0x19e902(0x50e),_0x437a83['KeyValueDatabaseAlreadyExists']=_0x19e902(0x737),_0x437a83[_0x19e902(0x29a)]='key-value-database-does-not-exist',_0x437a83[_0x19e902(0x31e)]=_0x19e902(0x35e),_0x437a83['KeyValueDatabaseInvalidQuery']=_0x19e902(0x652),_0x437a83[_0x19e902(0x454)]='key-value-database-invalid-value',_0x437a83[_0x19e902(0x232)]=_0x19e902(0x683),_0x437a83['KeyValueDatabaseNotOpen']=_0x19e902(0x750),_0x437a83[_0x19e902(0x629)]='key-value-database-table-name-reserved',_0x437a83[_0x19e902(0x1a8)]=_0x19e902(0x13a),_0x437a83[_0x19e902(0x62e)]=_0x19e902(0x2dd),_0x437a83[_0x19e902(0x10d)]=_0x19e902(0x610),_0x437a83[_0x19e902(0x623)]=_0x19e902(0x292),_0x437a83[_0x19e902(0xf4)]=_0x19e902(0x669),_0x437a83[_0x19e902(0x44c)]=_0x19e902(0x65e),_0x437a83['PubSubTopicNameNotString']=_0x19e902(0x19d),_0x437a83[_0x19e902(0x59d)]=_0x19e902(0x1fc),_0x437a83['QueryBuilderInvalidArgument']=_0x19e902(0x6d4),_0x437a83[_0x19e902(0x1e7)]='remote-media-stream-already-exists',_0x437a83['RemoteMediaStreamInvalidSubscriptionParams']=_0x19e902(0x3dd),_0x437a83[_0x19e902(0x4f2)]=_0x19e902(0x1ed),_0x437a83[_0x19e902(0x495)]=_0x19e902(0xfd),_0x437a83['NodeInvalidType']='node-invalid-type',_0x437a83['NodeTypeNotSupported']=_0x19e902(0x420);}(_0x1cb6bb||(_0x1cb6bb={}));class _0x1a3a24 extends Error{[_0x5a261d(0x509)];constructor(_0x57d15f,_0x9cec7d){const _0x25ab16=_0x5a261d;super(_0x9cec7d),this[_0x25ab16(0x509)]=_0x57d15f;}}!function(_0x3a1390){const _0x381591=_0x5a261d;_0x3a1390[_0x381591(0x48c)]='pubsub',_0x3a1390['ObjectStorage']='object-storage',_0x3a1390[_0x381591(0x558)]=_0x381591(0x194),_0x3a1390['MediaStream']=_0x381591(0xf0),_0x3a1390[_0x381591(0x64a)]=_0x381591(0x2ce);}(_0x39a0cc||(_0x39a0cc={})),function(_0x5976e9){const _0x467335=_0x5a261d;_0x5976e9['All']=_0x467335(0x60f),_0x5976e9[_0x467335(0x616)]=_0x467335(0x2ea),_0x5976e9[_0x467335(0x17f)]=_0x467335(0x303),_0x5976e9[_0x467335(0x268)]=_0x467335(0x396),_0x5976e9[_0x467335(0x117)]='cluster',_0x5976e9[_0x467335(0x55b)]=_0x467335(0x365),_0x5976e9[_0x467335(0x298)]='data-stream',_0x5976e9[_0x467335(0x327)]='detection',_0x5976e9[_0x467335(0x251)]=_0x467335(0x5a9),_0x5976e9[_0x467335(0x29c)]='error',_0x5976e9[_0x467335(0x78c)]=_0x467335(0x4b1),_0x5976e9[_0x467335(0x432)]=_0x467335(0x71d),_0x5976e9[_0x467335(0x789)]=_0x467335(0x54f),_0x5976e9['PubSub']=_0x467335(0x240),_0x5976e9[_0x467335(0x378)]=_0x467335(0x305),_0x5976e9[_0x467335(0x6b3)]=_0x467335(0x53f),_0x5976e9[_0x467335(0x39a)]=_0x467335(0x6fb),_0x5976e9[_0x467335(0x473)]=_0x467335(0x612),_0x5976e9[_0x467335(0x4cb)]='support',_0x5976e9[_0x467335(0x110)]=_0x467335(0x6e3),_0x5976e9['SystemStats']=_0x467335(0x227),_0x5976e9[_0x467335(0x281)]=_0x467335(0x566),_0x5976e9[_0x467335(0x3a2)]=_0x467335(0x15f);}(_0x2d7d49||(_0x2d7d49={}));const _0x44eeae=require('@crewdle/web-sdk-types');class _0xc017b9{[_0x5a261d(0xf5)];constructor(_0x15ce52){const _0x41f62c=_0x5a261d;this['query']={'orderBy':{'key':_0x15ce52,'direction':_0x41f62c(0x199)}};}static[_0x5a261d(0x637)](_0xae7ea2){const _0x571ec8=_0x5a261d;if(_0x571ec8(0x747)!=typeof _0xae7ea2||0x0===_0xae7ea2[_0x571ec8(0x553)])throw new _0x1a3a24(_0x1cb6bb[_0x571ec8(0x53b)],_0x571ec8(0x40d));return new _0xc017b9(_0xae7ea2);}static['validateQuery'](_0x12255e){const _0x93dfd2=_0x5a261d;try{return _0xc017b9[_0x93dfd2(0x17b)](_0x12255e),!0x0;}catch(_0x25b6bc){return!0x1;}}static[_0x5a261d(0x17b)](_0x522211){const _0xd7be26=_0x5a261d,_0x3009f0=_0xc017b9[_0xd7be26(0x637)](_0x522211[_0xd7be26(0x16c)]?.[_0xd7be26(0x762)]??_0x522211[_0xd7be26(0x727)]?.['key']??'');if(_0x522211[_0xd7be26(0x727)]){const _0x552c09=_0x522211[_0xd7be26(0x727)];if((_0xc017b9[_0xd7be26(0x679)](_0x552c09)||_0xc017b9[_0xd7be26(0x32b)](_0x552c09)||_0xc017b9[_0xd7be26(0x100)](_0x552c09))&&_0x3009f0['where'](_0x552c09[_0xd7be26(0x69c)],_0x552c09[_0xd7be26(0x5b9)]),_0x522211[_0xd7be26(0x16c)]?.[_0xd7be26(0x762)]&&_0x522211[_0xd7be26(0x16c)]?.[_0xd7be26(0x762)]!==_0x522211[_0xd7be26(0x727)][_0xd7be26(0x762)])throw new _0x1a3a24(_0x1cb6bb[_0xd7be26(0x53b)],'Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key');}return _0x522211[_0xd7be26(0x16c)]&&_0x3009f0['orderBy'](_0x522211[_0xd7be26(0x16c)][_0xd7be26(0x17c)]),_0x522211[_0xd7be26(0x2f6)]&&_0x3009f0[_0xd7be26(0x2f6)](_0x522211[_0xd7be26(0x2f6)]),_0x522211['offset']&&_0x3009f0['offset'](_0x522211[_0xd7be26(0x2d7)]),_0x3009f0;}[_0x5a261d(0x178)](){const _0x5d63f9=_0x5a261d;return{...this[_0x5d63f9(0xf5)]};}[_0x5a261d(0x727)](_0x2da099,_0x6ceada){const _0x477e24=_0x5a261d,_0x1d429f={'key':this[_0x477e24(0xf5)][_0x477e24(0x16c)][_0x477e24(0x762)],'operator':_0x2da099,'value':_0x6ceada};if(!_0xc017b9[_0x477e24(0x679)](_0x1d429f)&&!_0xc017b9[_0x477e24(0x32b)](_0x1d429f)&&!_0xc017b9[_0x477e24(0x100)](_0x1d429f))throw new _0x1a3a24(_0x1cb6bb[_0x477e24(0x53b)],'Invalid\x20where\x20clause');return this[_0x477e24(0xf5)][_0x477e24(0x727)]=_0x1d429f,this;}['orderBy'](_0x2df6eb){const _0x1c5f47=_0x5a261d;if(_0x1c5f47(0x199)!==_0x2df6eb&&_0x1c5f47(0x459)!==_0x2df6eb)throw new _0x1a3a24(_0x1cb6bb['QueryBuilderInvalidArgument'],_0x1c5f47(0x74c));return this[_0x1c5f47(0xf5)][_0x1c5f47(0x16c)]['direction']=_0x2df6eb,this;}[_0x5a261d(0x2f6)](_0x2b2bcd){const _0x12cc82=_0x5a261d;if('number'!=typeof _0x2b2bcd||_0x2b2bcd<0x0)throw new _0x1a3a24(_0x1cb6bb[_0x12cc82(0x53b)],'Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number');return this['query'][_0x12cc82(0x2f6)]=_0x2b2bcd,this;}[_0x5a261d(0x2d7)](_0x594b70){const _0x19961d=_0x5a261d;if('number'!=typeof _0x594b70||_0x594b70<0x0)throw new _0x1a3a24(_0x1cb6bb['QueryBuilderInvalidArgument'],_0x19961d(0x45a));return this[_0x19961d(0xf5)][_0x19961d(0x2d7)]=_0x594b70,this;}static[_0x5a261d(0x679)](_0x562f0a){const _0x20cdbe=_0x5a261d;if(!(_0x562f0a&&'object'==typeof _0x562f0a&&_0x20cdbe(0x69c)in _0x562f0a&&_0x20cdbe(0x5b9)in _0x562f0a))return!0x1;const {operator:_0x4337a6,value:_0x57f8b9}=_0x562f0a;return!(!['==','!=','>','<','<=','>='][_0x20cdbe(0x49a)](_0x4337a6)||Array['isArray'](_0x57f8b9));}static['isWhereValues'](_0x483ffa){const _0x4f9dae=_0x5a261d;if(!(_0x483ffa&&_0x4f9dae(0x228)==typeof _0x483ffa&&_0x4f9dae(0x69c)in _0x483ffa&&'value'in _0x483ffa))return!0x1;const {operator:_0x228b5e,value:_0x58fd3d}=_0x483ffa;return!(!['in',_0x4f9dae(0x201)][_0x4f9dae(0x49a)](_0x228b5e)||!Array[_0x4f9dae(0x66a)](_0x58fd3d));}static['isWhereBetween'](_0x2dffde){const _0xda794=_0x5a261d;if(!(_0x2dffde&&_0xda794(0x228)==typeof _0x2dffde&&_0xda794(0x69c)in _0x2dffde&&'value'in _0x2dffde))return!0x1;const {operator:_0x35c1fe,value:_0xef79c8}=_0x2dffde;return!(_0xda794(0x72c)!==_0x35c1fe||!Array['isArray'](_0xef79c8)||0x2!==_0xef79c8[_0xda794(0x553)]);}}class _0x362375{['layout'];constructor(_0x290211){const _0x17d315=_0x5a261d;this[_0x17d315(0x36e)]={'tables':{},'version':_0x290211};}static['validateLayout'](_0x35b956){const _0x3a2cd2=_0x5a261d;for(const _0xa396ca in _0x35b956){if(_0x3a2cd2(0x579)!==_0xa396ca&&_0x3a2cd2(0x645)!==_0xa396ca)return[!0x1,_0x3a2cd2(0x570)+_0xa396ca+_0x3a2cd2(0x517)];if('tables'===_0xa396ca)for(const _0x3ff6ff in _0x35b956[_0x3a2cd2(0x645)]){if('string'!=typeof _0x3ff6ff)return[!0x1,'Invalid\x20table\x20name\x20\x27'+_0x3ff6ff+'\x27'];for(const _0x17f172 in _0x35b956['tables'][_0x3ff6ff]){if(_0x3a2cd2(0x6fd)!==_0x17f172)return[!0x1,_0x3a2cd2(0x570)+_0x17f172+_0x3a2cd2(0x3ac)+_0x3ff6ff+'\x27'];const _0x21e429=_0x35b956[_0x3a2cd2(0x645)][_0x3ff6ff][_0x17f172]??[];for(const _0x3835fc of _0x21e429)if(void 0x0===_0x3835fc[_0x3a2cd2(0x347)]||_0x3a2cd2(0x747)!=typeof _0x3835fc['keyPath'])return[!0x1,_0x3a2cd2(0x2ed)+_0x3ff6ff+_0x3a2cd2(0x705)];}}else{if(_0x3a2cd2(0x579)===_0xa396ca&&_0x3a2cd2(0x34e)!=typeof _0x35b956[_0xa396ca])return[!0x1,_0x3a2cd2(0x3d0)+_0x35b956[_0xa396ca]+_0x3a2cd2(0x1a9)];}}return[!0x0,'Valid\x20layout'];}static[_0x5a261d(0x36e)](_0x43ea5c){const _0x21a941=_0x5a261d,_0x39de95=new _0x362375(_0x43ea5c);return _0x39de95['layout'][_0x21a941(0x579)]=_0x43ea5c,_0x39de95;}[_0x5a261d(0x461)](_0x13f6e7){const _0x2efc5b=_0x5a261d;return this[_0x2efc5b(0x36e)][_0x2efc5b(0x645)][_0x13f6e7]={},new _0x18fe51(this[_0x2efc5b(0x36e)]['tables'][_0x13f6e7]);}['getLayout'](){return this['layout'];}}class _0x18fe51{[_0x5a261d(0x784)];constructor(_0x356397){const _0x5f25a6=_0x5a261d;this[_0x5f25a6(0x784)]=_0x356397;}[_0x5a261d(0x637)](_0x53db8d){const _0x2fcf7b=_0x5a261d;return this[_0x2fcf7b(0x784)][_0x2fcf7b(0x6fd)]=this[_0x2fcf7b(0x784)][_0x2fcf7b(0x6fd)]??[],this[_0x2fcf7b(0x784)][_0x2fcf7b(0x6fd)]['push']({'keyPath':_0x53db8d}),this;}}const _0x39b9f6=0x3f800,_0x1205c2=0x40000,_0xc5a811=_0x5a261d(0x114),_0x48cd86=_0x5a261d(0x37e),_0x5549e9=_0x5a261d(0x77b),_0x4b4540=_0x5a261d(0x4bd),_0x2629b4=0x7530,_0x125270=0x7530,_0x52c0af=_0x5a261d(0x624),_0x1ab7a1=_0x5a261d(0x272),_0x30b0d4=_0x5a261d(0x149),_0x4f4c0a=_0x5a261d(0x663),_0x4f18fa=_0x5a261d(0x480);var _0x56b2d3;!function(_0x23f071){const _0x564b96=_0x5a261d;_0x23f071[_0x564b96(0x256)]=_0x564b96(0x555),_0x23f071[_0x564b96(0x275)]=_0x564b96(0x56e),_0x23f071[_0x564b96(0x519)]='connection-no-retry-queue',_0x23f071[_0x564b96(0x148)]=_0x564b96(0x70c),_0x23f071[_0x564b96(0x639)]='generative-ai-context-creation-failed',_0x23f071[_0x564b96(0x285)]='generative-ai-context-job-failed',_0x23f071[_0x564b96(0xf1)]='generative-ai-context-job-timeout',_0x23f071['GenerativeAIContextInvalidPartialResult']='generative-ai-context-invalid-partial-result',_0x23f071[_0x564b96(0x538)]=_0x564b96(0x196),_0x23f071['InvalidDataChannel']=_0x564b96(0x716),_0x23f071[_0x564b96(0x55c)]=_0x564b96(0xfa),_0x23f071['InvalidSubscriber']='invalid-subscriber',_0x23f071['InvalidSubscription']=_0x564b96(0x1e4),_0x23f071['JobDispatcherCreationFailed']='job-dispatcher-creation-failed',_0x23f071[_0x564b96(0x4ac)]=_0x564b96(0x22b),_0x23f071[_0x564b96(0x2a9)]=_0x564b96(0x764),_0x23f071[_0x564b96(0x238)]=_0x564b96(0x4c4),_0x23f071[_0x564b96(0x6d1)]='job-worker-creation-failed',_0x23f071[_0x564b96(0x269)]='job-worker-invalid-type',_0x23f071[_0x564b96(0x584)]=_0x564b96(0x780),_0x23f071['KeyValueDatabaseTableDoesNotExist']=_0x564b96(0x692),_0x23f071[_0x564b96(0x439)]=_0x564b96(0x699),_0x23f071[_0x564b96(0x3b0)]=_0x564b96(0x2d5),_0x23f071[_0x564b96(0x642)]=_0x564b96(0x349),_0x23f071['MissingRemoteConnection']=_0x564b96(0x1ce),_0x23f071[_0x564b96(0x465)]=_0x564b96(0x5be),_0x23f071[_0x564b96(0x724)]=_0x564b96(0x513),_0x23f071[_0x564b96(0x5c9)]='object-store-cannot-write-transaction',_0x23f071[_0x564b96(0x210)]=_0x564b96(0x71e),_0x23f071['ObjectStoreInvalidSyncMessage']='object-store-invalid-sync-message',_0x23f071[_0x564b96(0x666)]='object-store-not-synced',_0x23f071[_0x564b96(0x366)]='outgoing-stream-no-topic',_0x23f071['RemoteMediaStreamDoesNotExist']=_0x564b96(0x70d),_0x23f071[_0x564b96(0x297)]=_0x564b96(0x6ba),_0x23f071[_0x564b96(0x593)]='remote-connection-exists',_0x23f071[_0x564b96(0x21f)]='subscription-request-does-not-exist',_0x23f071[_0x564b96(0x2f2)]=_0x564b96(0x5e8),_0x23f071[_0x564b96(0x4c0)]='subscription-request-no-answer',_0x23f071['NodeDoesNotExist']=_0x564b96(0x1db),_0x23f071[_0x564b96(0x295)]=_0x564b96(0x5ff),_0x23f071['PeerConnectionInvalidDestination']=_0x564b96(0x569);}(_0x56b2d3||(_0x56b2d3={}));const _0x39be1a=new Map([[_0x56b2d3[_0x5a261d(0x256)],_0x5a261d(0x550)],[_0x56b2d3[_0x5a261d(0x275)],_0x5a261d(0x487)],[_0x56b2d3[_0x5a261d(0x519)],_0x5a261d(0x4ff)],[_0x56b2d3[_0x5a261d(0x148)],'Invalid\x20data\x20event.'],[_0x56b2d3[_0x5a261d(0x639)],'Generative\x20AI\x20context\x20creation\x20failed.'],[_0x56b2d3[_0x5a261d(0x285)],_0x5a261d(0x293)],[_0x56b2d3[_0x5a261d(0xf1)],_0x5a261d(0x512)],[_0x56b2d3[_0x5a261d(0x6be)],_0x5a261d(0x6e2)],[_0x56b2d3['GenerativeAIWorkerCreationFailed'],_0x5a261d(0x62d)],[_0x56b2d3['InvalidDataChannel'],_0x5a261d(0x415)],[_0x56b2d3['InvalidPublisher'],_0x5a261d(0x37f)],[_0x56b2d3['InvalidSubscriber'],_0x5a261d(0x660)],[_0x56b2d3['InvalidSubscription'],'Invalid\x20subscription.'],[_0x56b2d3[_0x5a261d(0x70b)],_0x5a261d(0x78b)],[_0x56b2d3[_0x5a261d(0x4ac)],_0x5a261d(0x1ec)],[_0x56b2d3['JobDispatcherJobNotFound'],'Job\x20service\x20job\x20not\x20found.'],[_0x56b2d3[_0x5a261d(0x238)],'Job\x20service\x20observer\x20not\x20found.'],[_0x56b2d3[_0x5a261d(0x6d1)],_0x5a261d(0x67f)],[_0x56b2d3[_0x5a261d(0x269)],'Invalid\x20job\x20worker\x20type.'],[_0x56b2d3[_0x5a261d(0x584)],'Key-value\x20database\x20creation\x20failed.'],[_0x56b2d3[_0x5a261d(0x703)],_0x5a261d(0xeb)],[_0x56b2d3[_0x5a261d(0x439)],'Key-value\x20database\x20transaction\x20table\x20not\x20initialized.'],[_0x56b2d3[_0x5a261d(0x3b0)],_0x5a261d(0x26e)],[_0x56b2d3['LocalMediaStreamDoesNotExist'],_0x5a261d(0x4c2)],[_0x56b2d3[_0x5a261d(0x21a)],_0x5a261d(0x6ad)],[_0x56b2d3[_0x5a261d(0x465)],_0x5a261d(0x606)],[_0x56b2d3[_0x5a261d(0x724)],_0x5a261d(0x22a)],[_0x56b2d3[_0x5a261d(0x5c9)],_0x5a261d(0x4f3)],[_0x56b2d3[_0x5a261d(0x542)],'Invalid\x20object\x20store\x20sync\x20message.'],[_0x56b2d3[_0x5a261d(0x210)],'Invalid\x20object\x20store\x20state.'],[_0x56b2d3[_0x5a261d(0x666)],_0x5a261d(0x71a)],[_0x56b2d3[_0x5a261d(0x366)],_0x5a261d(0x662)],[_0x56b2d3[_0x5a261d(0x24e)],_0x5a261d(0x740)],[_0x56b2d3[_0x5a261d(0x297)],_0x5a261d(0x603)],[_0x56b2d3['RemoteConnectionExists'],'Remote\x20connection\x20already\x20exists.'],[_0x56b2d3[_0x5a261d(0x21f)],_0x5a261d(0x321)],[_0x56b2d3['SubscriptionRequestFailed'],_0x5a261d(0x577)],[_0x56b2d3[_0x5a261d(0x4c0)],_0x5a261d(0x26b)],[_0x56b2d3[_0x5a261d(0x364)],_0x5a261d(0x514)],[_0x56b2d3[_0x5a261d(0x295)],_0x5a261d(0x325)],[_0x56b2d3[_0x5a261d(0x5c2)],_0x5a261d(0x6c8)]]);class _0x2826e7 extends Error{[_0x5a261d(0x509)];static [_0x5a261d(0x776)]=_0x56b2d3;[_0x5a261d(0x5f0)];constructor(_0x382ffb,_0x22f98d){const _0x1bba8d=_0x5a261d;super(_0x1bba8d(0x29e)+_0x382ffb+':\x20'+_0x39be1a[_0x1bba8d(0x568)](_0x382ffb)+_0x1bba8d(0x722)+JSON[_0x1bba8d(0x414)](_0x22f98d)),this['code']=_0x382ffb,this[_0x1bba8d(0x5f0)]=_0x22f98d||{};}}var _0x534fb2,_0x1ffaee,_0x30d452,_0x45ee86,_0x51db56,_0x2217c7,_0x3a54c1;!function(_0x619f85){const _0x6868cb=_0x5a261d;_0x619f85[_0x619f85[_0x6868cb(0x163)]=0x0]='PublishMediaStream',_0x619f85[_0x619f85[_0x6868cb(0x419)]=0x1]=_0x6868cb(0x419),_0x619f85[_0x619f85[_0x6868cb(0x46d)]=0x2]=_0x6868cb(0x46d),_0x619f85[_0x619f85[_0x6868cb(0x6f1)]=0x3]=_0x6868cb(0x6f1),_0x619f85[_0x619f85[_0x6868cb(0x30f)]=0x4]=_0x6868cb(0x30f),_0x619f85[_0x619f85['CloseJobDispatcher']=0x5]=_0x6868cb(0x124),_0x619f85[_0x619f85[_0x6868cb(0x4e8)]=0x6]='CloseJobWorker',_0x619f85[_0x619f85[_0x6868cb(0x4fb)]=0x7]=_0x6868cb(0x4fb),_0x619f85[_0x619f85['CloseKeyValueDatabase']=0x8]='CloseKeyValueDatabase',_0x619f85[_0x619f85[_0x6868cb(0x200)]=0x9]=_0x6868cb(0x200),_0x619f85[_0x619f85[_0x6868cb(0x5ae)]=0xa]=_0x6868cb(0x5ae),_0x619f85[_0x619f85[_0x6868cb(0x438)]=0xb]='LocalMediaStreamTrackFail',_0x619f85[_0x619f85['RemoteMediaStreamTrackFail']=0xc]=_0x6868cb(0x5c1),_0x619f85[_0x619f85['RequestSyncKeyValueDatabase']=0xd]=_0x6868cb(0x311),_0x619f85[_0x619f85['SendTransactionsDump']=0xe]='SendTransactionsDump',_0x619f85[_0x619f85['RequestTransactionsValue']=0xf]='RequestTransactionsValue',_0x619f85[_0x619f85['PubSubTopicStats']=0x10]=_0x6868cb(0x223),_0x619f85[_0x619f85[_0x6868cb(0x466)]=0x11]=_0x6868cb(0x466),_0x619f85[_0x619f85['KeyValueDatabaseStats']=0x12]='KeyValueDatabaseStats',_0x619f85[_0x619f85[_0x6868cb(0x711)]=0x13]=_0x6868cb(0x711),_0x619f85[_0x619f85['GenerativeAIWorkerStats']=0x14]=_0x6868cb(0x68a);}(_0x534fb2||(_0x534fb2={})),function(_0x5d797c){const _0x59a3b7=_0x5a261d;_0x5d797c['FileWrite']=_0x59a3b7(0x35a),_0x5d797c[_0x59a3b7(0x592)]=_0x59a3b7(0x40e),_0x5d797c['Delete']=_0x59a3b7(0x20a),_0x5d797c[_0x59a3b7(0x4b0)]=_0x59a3b7(0x170),_0x5d797c['RequestFile']=_0x59a3b7(0x653),_0x5d797c['RequestAccepted']=_0x59a3b7(0x33e),_0x5d797c['RequestFileSync']='request-file-sync',_0x5d797c[_0x59a3b7(0x31a)]='request-file-write';}(_0x1ffaee||(_0x1ffaee={})),function(_0x1b6974){const _0x5a953e=_0x5a261d;_0x1b6974[_0x5a953e(0x5a6)]=_0x5a953e(0x78f),_0x1b6974['Transaction']=_0x5a953e(0x1af);}(_0x30d452||(_0x30d452={})),function(_0x1c4fcf){const _0x51c2fc=_0x5a261d;_0x1c4fcf[_0x51c2fc(0x636)]=_0x51c2fc(0x500),_0x1c4fcf['Update']=_0x51c2fc(0x743),_0x1c4fcf[_0x51c2fc(0x6e1)]=_0x51c2fc(0x20a);}(_0x45ee86||(_0x45ee86={})),function(_0x1555bb){const _0xa969b6=_0x5a261d;_0x1555bb[_0xa969b6(0x141)]=_0xa969b6(0x568),_0x1555bb[_0xa969b6(0x4c5)]='list',_0x1555bb['Count']=_0xa969b6(0x4ec);}(_0x51db56||(_0x51db56={})),function(_0x43ddd0){const _0xc476ca=_0x5a261d;_0x43ddd0[_0x43ddd0[_0xc476ca(0x5a6)]=0x0]=_0xc476ca(0x5a6),_0x43ddd0[_0x43ddd0[_0xc476ca(0x380)]=0x1]=_0xc476ca(0x380),_0x43ddd0[_0x43ddd0[_0xc476ca(0x361)]=0x2]=_0xc476ca(0x361),_0x43ddd0[_0x43ddd0[_0xc476ca(0x28b)]=0x3]=_0xc476ca(0x28b),_0x43ddd0[_0x43ddd0[_0xc476ca(0x618)]=0x4]=_0xc476ca(0x618),_0x43ddd0[_0x43ddd0[_0xc476ca(0x10c)]=0x5]=_0xc476ca(0x10c);}(_0x2217c7||(_0x2217c7={})),function(_0x562050){const _0x5ba715=_0x5a261d;_0x562050[_0x562050[_0x5ba715(0x3a2)]=0x0]=_0x5ba715(0x3a2),_0x562050[_0x562050['Node']=0x1]=_0x5ba715(0x432),_0x562050[_0x562050[_0x5ba715(0x55b)]=0x2]=_0x5ba715(0x55b),_0x562050[_0x562050[_0x5ba715(0x473)]=0x3]=_0x5ba715(0x473),_0x562050[_0x562050['Stats']=0x4]='Stats',_0x562050[_0x562050[_0x5ba715(0x327)]=0x5]='Detection',_0x562050[_0x562050[_0x5ba715(0x378)]=0x6]=_0x5ba715(0x378);}(_0x3a54c1||(_0x3a54c1={}));class _0x58f845{[_0x5a261d(0x151)];[_0x5a261d(0x726)];[_0x5a261d(0x30a)];constructor(_0x563a4a,_0x521a58){const _0xb84eed=_0x5a261d;this[_0xb84eed(0x151)]=_0x563a4a,this[_0xb84eed(0x726)]=_0x521a58;}[_0x5a261d(0x58a)](){return this['label'];}[_0x5a261d(0x613)](){const _0x4525ff=_0x5a261d;return this[_0x4525ff(0x151)][_0x4525ff(0x591)]();}[_0x5a261d(0x4fe)](){}[_0x5a261d(0x126)](_0x5600d0){const _0xa2a1ab=_0x5a261d;this[_0xa2a1ab(0x30a)]=_0x5600d0;}[_0x5a261d(0x5bc)](){const _0x130e8a=_0x5a261d;delete this[_0x130e8a(0x30a)];}}const _0x171fba=require('firebase/firestore');let _0x20467d=_0xbcea2d(0x14d)['O'];function _0x508186(_0x4e7268){const _0x3f8c88=_0x5a261d;return!(!_0x4e7268||_0x3f8c88(0x228)!=typeof _0x4e7268||Array[_0x3f8c88(0x66a)](_0x4e7268));}_0x20467d=function _0x40f819(_0x540581,..._0x2c4226){const _0x36d4dd=_0x5a261d;if(!Array[_0x36d4dd(0x66a)](_0x2c4226)||0x0===_0x2c4226[_0x36d4dd(0x553)])return _0x540581;const _0x1c55c2=_0x2c4226[_0x36d4dd(0x34d)]();if(_0x508186(_0x540581)&&_0x508186(_0x1c55c2)){for(const _0xf35a6d in _0x1c55c2)_0x508186(_0x1c55c2[_0xf35a6d])?(_0x540581[_0xf35a6d]||Object['assign'](_0x540581,{[_0xf35a6d]:{}}),_0x40f819(_0x540581[_0xf35a6d],_0x1c55c2[_0xf35a6d])):Object[_0x36d4dd(0x179)](_0x540581,{[_0xf35a6d]:_0x1c55c2[_0xf35a6d]});}return _0x40f819(_0x540581,..._0x2c4226);}(_0x20467d,_0xbcea2d(0x3e6)['O']);const _0x31e971=_0x20467d,_0x2b9841=require('firebase/app'),_0x3f0fb7=require('firebase/auth'),_0x447011=require('firebase/database'),_0x46f639=require('firebase/functions');class _0x24021e{static [_0x5a261d(0x156)];[_0x5a261d(0x2e0)];[_0x5a261d(0x2da)];[_0x5a261d(0x6a0)];[_0x5a261d(0x62f)];[_0x5a261d(0x2c8)];['clockSkew'];constructor(){}static[_0x5a261d(0x3dc)](){const _0x2bc641=_0x5a261d;return _0x24021e[_0x2bc641(0x156)]||(_0x24021e[_0x2bc641(0x156)]=new _0x24021e()),_0x24021e[_0x2bc641(0x156)];}[_0x5a261d(0x78d)](){const _0x59db96=_0x5a261d;return this[_0x59db96(0x2e0)]||(this[_0x59db96(0x2e0)]=(0x0,_0x2b9841[_0x59db96(0x763)])(_0x31e971[_0x59db96(0x26f)])),this[_0x59db96(0x2e0)];}[_0x5a261d(0x421)](){const _0x2fba6b=_0x5a261d;return this['auth']||(this[_0x2fba6b(0x2da)]=(0x0,_0x3f0fb7[_0x2fba6b(0x421)])(this[_0x2fba6b(0x78d)]())),this['auth'];}[_0x5a261d(0x75b)](){const _0x4403f6=_0x5a261d;return this[_0x4403f6(0x6a0)]||(this[_0x4403f6(0x6a0)]=(0x0,_0x46f639[_0x4403f6(0x75b)])(this[_0x4403f6(0x78d)](),_0x31e971[_0x4403f6(0x26f)]['functionsRegion'])),this[_0x4403f6(0x6a0)];}[_0x5a261d(0x4f9)](){const _0x3058fd=_0x5a261d;return this['database']||(this['database']=(0x0,_0x447011[_0x3058fd(0x4f9)])(this[_0x3058fd(0x78d)]())),this[_0x3058fd(0x62f)];}['getFirestore'](){const _0x4a1f2d=_0x5a261d;return this['firestore']||(this[_0x4a1f2d(0x2c8)]=(0x0,_0x171fba[_0x4a1f2d(0x720)])(this[_0x4a1f2d(0x78d)]())),this[_0x4a1f2d(0x2c8)];}async[_0x5a261d(0x6a8)](){const _0x2ec281=_0x5a261d;if(this[_0x2ec281(0x5f3)])return Date[_0x2ec281(0x4e6)]()+this[_0x2ec281(0x5f3)];const _0x47d79c=this['getDatabase'](),_0x3d6972=(0x0,_0x447011[_0x2ec281(0x1e2)])(_0x47d79c,_0x2ec281(0x5f7)),_0x4d7de9=(0x0,_0x447011['onValue'])(_0x3d6972,_0x101c02=>{const _0x22c3dd=_0x2ec281;!0x1===_0x101c02[_0x22c3dd(0x1cd)]()&&(_0x4d7de9(),delete this[_0x22c3dd(0x5f3)]);}),_0x1ec016=(0x0,_0x447011[_0x2ec281(0x1e2)])(_0x47d79c,_0x2ec281(0x6e9));return new Promise(_0x56e7a7=>{(0x0,_0x447011['onValue'])(_0x1ec016,_0x1d6660=>{const _0x140f2e=a0_0x3f62;(0x0,_0x447011['off'])(_0x1ec016),this[_0x140f2e(0x5f3)]=_0x1d6660[_0x140f2e(0x1cd)](),_0x56e7a7(Date[_0x140f2e(0x4e6)]()+(this[_0x140f2e(0x5f3)]??0x0));});});}}const _0x9c97da=_0x24021e[_0x5a261d(0x3dc)]();class _0x180933{static [_0x5a261d(0x156)];[_0x5a261d(0x732)]=[_0x2d7d49[_0x5a261d(0x616)]];[_0x5a261d(0x6c5)]=!0x0;[_0x5a261d(0x5d8)];[_0x5a261d(0xe6)]='';['globalObject'];[_0x5a261d(0x330)]=[];['currentBatch']=this[_0x5a261d(0x49e)]();[_0x5a261d(0x17e)];[_0x5a261d(0x51d)]=0xa;[_0x5a261d(0x3c4)]=0x1f4;[_0x5a261d(0x74a)]=0x1c2;[_0x5a261d(0x6f5)]=0x3e8;constructor(){const _0x5801b4=_0x5a261d;if(_0x5801b4(0x521)!=typeof window)this[_0x5801b4(0x1f1)]=window;else{if(void 0x0===_0xbcea2d['g'])throw new Error('No\x20global\x20object\x20found');this[_0x5801b4(0x1f1)]=_0xbcea2d['g'];}this[_0x5801b4(0x329)](),this[_0x5801b4(0x1f1)][_0x5801b4(0x497)]=_0x14f1de=>{const _0x5ac8f9=_0x5801b4;if(_0x14f1de===_0x2d7d49[_0x5ac8f9(0x5e3)])return this[_0x5ac8f9(0x732)]=Object[_0x5ac8f9(0x472)](_0x2d7d49)[_0x5ac8f9(0x47f)](_0x3efc64=>_0x2d7d49[_0x3efc64]),void Object[_0x5ac8f9(0x472)](_0x2d7d49)[_0x5ac8f9(0x675)](_0xed7104=>{const _0x1fbf66=_0xed7104;localStorage['setItem']('crewdle-sdk-logging-'+_0x2d7d49[_0x1fbf66],'true');});this[_0x5ac8f9(0x732)]['includes'](_0x14f1de)||(this[_0x5ac8f9(0x732)][_0x5ac8f9(0x6bc)](_0x14f1de),localStorage[_0x5ac8f9(0x433)]('crewdle-sdk-logging-'+_0x14f1de,_0x5ac8f9(0x2f4)));},this[_0x5801b4(0x1f1)]['crewdleSDKDisableLogging']=_0x1ede8a=>{const _0x1a9c32=_0x5801b4;if(!_0x1ede8a||_0x1ede8a===_0x2d7d49['All'])return this['enabledChannels']=[],void Object[_0x1a9c32(0x472)](_0x2d7d49)[_0x1a9c32(0x675)](_0x45ceb2=>{const _0x3e4f7a=_0x1a9c32,_0x3f67b3=_0x45ceb2;localStorage[_0x3e4f7a(0x162)](_0x3e4f7a(0x153)+_0x2d7d49[_0x3f67b3]);});this['enabledChannels'][_0x1a9c32(0x49a)](_0x1ede8a)&&(this[_0x1a9c32(0x732)]=this[_0x1a9c32(0x732)][_0x1a9c32(0x279)](_0x5c32cf=>_0x5c32cf!==_0x1ede8a),localStorage['removeItem']('crewdle-sdk-logging-'+_0x1ede8a));},this[_0x5801b4(0x1f1)][_0x5801b4(0x6a5)]=_0x2d7d49;}static[_0x5a261d(0x3dc)](){const _0x2a5f07=_0x5a261d;try{return _0x180933['instance']||(_0x180933[_0x2a5f07(0x156)]=new _0x180933()),_0x180933['instance'];}catch(_0x2a875b){return console[_0x2a5f07(0x671)](_0x2a5f07(0x706),_0x2a875b),{'log':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1};}}['setVendorId'](_0x8d6263){const _0x3d06bb=_0x5a261d;this['vendorId']=_0x8d6263,this[_0x3d06bb(0x330)]=[],this['currentBatch']=this['createNewBatch'](),this['batchTimeout']&&(clearTimeout(this[_0x3d06bb(0x17e)]),this[_0x3d06bb(0x17e)]=void 0x0);}[_0x5a261d(0x6d2)](_0x3fb95f){const _0x24d62a=_0x5a261d;this[_0x24d62a(0x5d8)]=_0x3fb95f;}[_0x5a261d(0x760)](_0x25c773,..._0x3a44ae){const _0x210a30=_0x5a261d;this[_0x210a30(0x6c5)]&&this[_0x210a30(0x287)](_0x2d7d49['Default'],'DEBUG\x20-\x20'+_0x25c773,..._0x3a44ae);}[_0x5a261d(0x287)](_0x297c34,_0x20f264,..._0x47358c){const _0x43e440=_0x5a261d;_0x31e971[_0x43e440(0x65b)]||(this['enabledChannels'][_0x43e440(0x49a)](_0x297c34)&&console[_0x43e440(0x287)](_0x43e440(0x35b)+_0x297c34+'\x27\x0a',new Date()+'\x0a',_0x20f264,..._0x47358c),this[_0x43e440(0x5d8)]&&this[_0x43e440(0x5d8)][_0x43e440(0x675)](_0x2bd5c6=>{const _0x289f8b=_0x43e440;this['isInternalLoggingConnector'](_0x2bd5c6)&&_0x2bd5c6[_0x289f8b(0x52f)]()[_0x289f8b(0x49a)](_0x297c34)&&_0x2bd5c6['log'](_0x20f264,{'vendorId':this['vendorId'],'nodeId':'','nodeType':'','data':{'channel':_0x297c34,..._0x47358c}});}));}['logRaw'](_0x431d2a,_0x5d4e7a,..._0x54290f){const _0xeb5135=_0x5a261d;_0x31e971[_0xeb5135(0x65b)]||(this[_0xeb5135(0x732)][_0xeb5135(0x49a)](_0x431d2a)&&console['log'](_0x5d4e7a,..._0x54290f),this['loggingConnectors']&&this[_0xeb5135(0x5d8)][_0xeb5135(0x675)](_0x4266fb=>{const _0x4bf036=_0xeb5135;this[_0x4bf036(0x59c)](_0x4266fb)&&_0x4266fb[_0x4bf036(0x52f)]()[_0x4bf036(0x49a)](_0x431d2a)&&_0x4266fb[_0x4bf036(0x287)](_0x5d4e7a,{'vendorId':this[_0x4bf036(0xe6)],'nodeId':'','nodeType':'','data':{'channel':_0x431d2a,..._0x54290f}});}));}[_0x5a261d(0x3cb)](_0x18d229,_0x237259){const _0x50e19f=_0x5a261d;if(!this['loggingConnectors'])return;const _0x2cdd04={'vendorId':this[_0x50e19f(0xe6)],..._0x237259};this['loggingConnectors'][_0x50e19f(0x675)](_0x105333=>{const _0x57fc48=_0x50e19f;_0x105333[_0x57fc48(0x287)](_0x18d229,_0x2cdd04);});}['logServiceEvent'](_0x1c4452,_0x292ef1){const _0x39d58d=_0x5a261d,_0xf138d=(0x0,_0x171fba[_0x39d58d(0x4da)])((0x0,_0x171fba[_0x39d58d(0x35d)])(_0x9c97da['getFirestore'](),_0x39d58d(0x582)+this[_0x39d58d(0xe6)]+_0x39d58d(0x6ae)));this[_0x39d58d(0x6e7)]['batch']['set'](_0xf138d,{..._0x292ef1,'service':_0x1c4452,'timestamp':(0x0,_0x171fba[_0x39d58d(0x77d)])()}),this[_0x39d58d(0x6e7)][_0x39d58d(0x318)]['push']({'type':_0x39d58d(0x1a1),'ref':_0xf138d[_0x39d58d(0x356)],'data':_0x292ef1}),this[_0x39d58d(0x657)]();}['logStorage'](_0x5a0a65,_0x37d228,_0xbfe73d){const _0x47b811=_0x5a261d;(0x0,_0x171fba['setDoc'])((0x0,_0x171fba[_0x47b811(0x4da)])(_0x9c97da['getFirestore'](),'developers/'+this['vendorId']+'/'+_0x5a0a65+'/'+_0x37d228),{'storage':_0xbfe73d,'timestamp':(0x0,_0x171fba[_0x47b811(0x77d)])()});}['logBatch'](){const _0x2e0a24=_0x5a261d;this[_0x2e0a24(0x6e7)][_0x2e0a24(0x33b)]++,this[_0x2e0a24(0x6e7)][_0x2e0a24(0x33b)]===this[_0x2e0a24(0x74a)]?this['processBatch']():this[_0x2e0a24(0x17e)]||(this['batchTimeout']=this[_0x2e0a24(0x1f1)][_0x2e0a24(0x399)](()=>this[_0x2e0a24(0x2b9)](),this[_0x2e0a24(0x6f5)]));}async[_0x5a261d(0x2b9)](){const _0x392051=_0x5a261d;for(this[_0x392051(0x330)][_0x392051(0x6bc)](this['currentBatch']),this[_0x392051(0x6e7)]=this[_0x392051(0x49e)]();this[_0x392051(0x330)][_0x392051(0x553)]>0x0;){const _0x229ea3=this[_0x392051(0x330)]['shift']();if(!await this[_0x392051(0x6f7)](_0x229ea3,0x0))break;}clearTimeout(this[_0x392051(0x17e)]),this['batchTimeout']=void 0x0;}async['commitBatch'](_0x540f21,_0x51ae07){const _0x54755e=_0x5a261d;if(_0x540f21[_0x54755e(0x33b)]>0x0)try{return await _0x540f21[_0x54755e(0x586)][_0x54755e(0x5d1)](),!0x0;}catch(_0x3c870d){if(console['error'](_0x54755e(0x1cf),_0x3c870d,_0x54755e(0x779),_0x540f21[_0x54755e(0x318)]),!(_0x51ae07<this[_0x54755e(0x51d)])){const {nodeId:_0x724b5='',nodeType:_0x2ab8f4='',clusterId:_0x4a7a64=''}=_0x540f21[_0x54755e(0x318)][0x0]['data'],_0x357629={'nodeId':_0x724b5,'nodeType':_0x2ab8f4,'clusterId':_0x4a7a64,'data':{'operations':_0x540f21[_0x54755e(0x318)],'error':_0x3c870d}};return this[_0x54755e(0x671)]('Failed\x20to\x20commit\x20batch\x20after\x20retries:',_0x357629),!0x1;}setTimeout(()=>this['commitBatch'](_0x540f21,_0x51ae07+0x1),this[_0x54755e(0x3c4)]*Math[_0x54755e(0x2bc)](0x2,_0x51ae07));}}[_0x5a261d(0x671)](_0x4e3f22,_0x2f09da,..._0x209b5c){const _0x110d7c=_0x5a261d;if(console[_0x110d7c(0x671)](new Date(),_0x4e3f22,_0x2f09da,..._0x209b5c),this['loggingConnectors']){const _0x1039cf={'vendorId':this['vendorId'],..._0x2f09da};this[_0x110d7c(0x5d8)][_0x110d7c(0x675)](_0x5234bd=>{const _0x1d3245=_0x110d7c;_0x5234bd[_0x1d3245(0x671)](_0x4e3f22,_0x1039cf);});}}[_0x5a261d(0x63f)](_0x3bb30f,_0x3ef7dd,..._0x37419e){const _0x29c564=_0x5a261d;if(console[_0x29c564(0x734)](new Date(),_0x3bb30f,_0x3ef7dd,_0x37419e),this[_0x29c564(0x5d8)]){const _0x596a63={'vendorId':this[_0x29c564(0xe6)],..._0x3ef7dd};this[_0x29c564(0x5d8)]['forEach'](_0x1a3355=>{const _0x4a01c0=_0x29c564;_0x1a3355[_0x4a01c0(0x734)](_0x3bb30f,_0x596a63);});}}[_0x5a261d(0x14a)](_0x3f452a){const _0x1ebc85=_0x5a261d;return this['enabledChannels'][_0x1ebc85(0x49a)](_0x3f452a);}[_0x5a261d(0x329)](){const _0x12b87b=_0x5a261d;try{Object[_0x12b87b(0x472)](_0x2d7d49)[_0x12b87b(0x675)](_0x4dde82=>{const _0x57119d=_0x12b87b,_0x40cc86=_0x4dde82;localStorage['getItem'](_0x57119d(0x153)+_0x2d7d49[_0x40cc86])&&(console[_0x57119d(0x287)](_0x57119d(0x527),_0x2d7d49[_0x40cc86]),this['enabledChannels'][_0x57119d(0x6bc)](_0x2d7d49[_0x40cc86]));});}catch(_0x2d7541){}}['isInternalLoggingConnector'](_0x5f594f){return void 0x0!==_0x5f594f['getEnabledChannels'];}[_0x5a261d(0x49e)](){const _0x3b9dba=_0x5a261d;return{'batch':(0x0,_0x171fba[_0x3b9dba(0x68c)])(_0x9c97da[_0x3b9dba(0x720)]()),'operations':[],'counter':0x0};}}const _0x50fe93=_0x180933[_0x5a261d(0x3dc)]();function _0x5061b2(_0x565104,_0x260d65){return'/'===_0x565104?_0x565104+_0x260d65:_0x565104+'/'+_0x260d65;}function _0x39fe4f(_0x3a4ea6){const _0x33bc40=_0x5a261d,_0x3f73d9=function(_0x523069){const _0x2440ac=a0_0x3f62;return _0x523069[_0x2440ac(0x504)]('/')[_0x2440ac(0x279)](_0xe78b64=>_0xe78b64[_0x2440ac(0x553)]>0x0);}(_0x3a4ea6),_0x892436=_0x3f73d9[_0x33bc40(0x14f)]()||'',_0x48161e=_0x3f73d9[_0x33bc40(0x2e3)]('/');return[0x0===_0x48161e['length']?'/':_0x48161e,_0x892436];}async function _0xfefa49(_0x5bb116){const _0x3b44ed=_0x5a261d;let _0x4f9b5b;Date[_0x3b44ed(0x4e6)]();const _0x532ddc=_0x5bb116['size']/0x100000;_0x4f9b5b=_0x532ddc<=0xa?0x1:_0x532ddc<=0x64?0.5:_0x532ddc<=0x1f4?0.1:0.05;const _0x1c3387=Math[_0x3b44ed(0xe9)](_0x5bb116[_0x3b44ed(0x101)]/_0x1205c2),_0x1835ca=Math[_0x3b44ed(0xe9)](_0x1c3387*_0x4f9b5b);let _0x4ea55a=new Uint8Array();for(let _0x474d74=0x0;_0x474d74<_0x1835ca;_0x474d74++){const _0x4de25b=Math['floor'](_0x474d74/_0x1835ca*_0x5bb116[_0x3b44ed(0x101)]),_0x391ae1=_0x5bb116['slice'](_0x4de25b,_0x4de25b+_0x1205c2),_0x11720f=await _0x391ae1['arrayBuffer'](),_0x1e319f=new Uint8Array([..._0x4ea55a,...new Uint8Array(_0x11720f)]);_0x4ea55a=new Uint8Array(await crypto[_0x3b44ed(0x45e)][_0x3b44ed(0x739)](_0x3b44ed(0x2b1),_0x1e319f));}return Array[_0x3b44ed(0x61e)](new Uint8Array(_0x4ea55a))[_0x3b44ed(0x47f)](_0x24c20b=>_0x24c20b[_0x3b44ed(0x408)](0x10)[_0x3b44ed(0x225)](0x2,'0'))['join']('');}async function*_0x365d85(_0x2a2a18,_0x3e8c95=0x0,_0x3bba8b){const _0x55eea0=_0x5a261d;let _0x15cfc2=_0x3e8c95*_0x39b9f6,_0x255fd9=_0x2a2a18;for(;_0x15cfc2<_0x255fd9[_0x55eea0(0x101)];){let _0xe90334=_0x15cfc2+_0x39b9f6;_0xe90334>_0x255fd9[_0x55eea0(0x101)]&&(_0xe90334=_0x255fd9[_0x55eea0(0x101)]);let _0xe0e68=0x0;for(;_0xe0e68<0x14;)try{const _0x2fef2c=_0x255fd9[_0x55eea0(0x5b0)](_0x15cfc2,_0xe90334),_0x104220=await _0x2fef2c[_0x55eea0(0x1c0)]();yield _0x104220,_0x15cfc2=_0xe90334;break;}catch(_0x1e4324){if(console[_0x55eea0(0x671)](_0x55eea0(0x2bf)+(_0xe0e68+0x1)+_0x55eea0(0x774),_0x1e4324),_0xe0e68++,_0xe0e68>0x14)throw _0x1e4324;let _0x3b62b6=0x3e8*Math[_0x55eea0(0x2bc)](0x2,_0xe0e68);_0x3b62b6>0x7530&&(_0x3b62b6=0x7530),await new Promise(_0x3759ec=>setTimeout(_0x3759ec,_0x3b62b6)),_0x3bba8b&&(_0x255fd9=await _0x3bba8b());}}}class _0x2536ee extends _0x58f845{[_0x5a261d(0x16b)];['incomingTopic'];['fileChunks']=new Map();[_0x5a261d(0x2e8)]=0x0;[_0x5a261d(0x35f)]=0x0;[_0x5a261d(0xf7)]=0x0;[_0x5a261d(0x608)]=0x0;constructor(_0x3d1b37,_0x53cadf){super(_0x3d1b37,_0x53cadf);}['getLabel'](){const _0xe28ad5=_0x5a261d;return this[_0xe28ad5(0x726)];}[_0x5a261d(0x2a4)](){const _0x5e6ca7=_0x5a261d;return this[_0x5e6ca7(0x726)];}[_0x5a261d(0x72b)](){return _0x44eeae['ContentType']['Data'];}[_0x5a261d(0x41d)](){const _0x1c06ce=_0x5a261d;return this[_0x1c06ce(0x726)];}[_0x5a261d(0x2a0)](_0x1156f9){const _0x22e898=_0x5a261d;if(this[_0x22e898(0x16b)])throw new _0x2826e7(_0x2826e7[_0x22e898(0x776)][_0x22e898(0x55c)],{'message':_0x22e898(0x696)+this[_0x22e898(0x151)][_0x22e898(0x591)]()+_0x22e898(0x6fc)+this[_0x22e898(0x726)],'topic':this[_0x22e898(0x16b)]});this[_0x22e898(0x16b)]=_0x1156f9;}[_0x5a261d(0x549)](_0x4c6d51){const _0x36c33b=_0x5a261d;if(this[_0x36c33b(0x1c6)])throw new _0x2826e7(_0x2826e7[_0x36c33b(0x776)][_0x36c33b(0x2c9)],{'message':'Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20'+this[_0x36c33b(0x151)]['getId']()+_0x36c33b(0x6fc)+this[_0x36c33b(0x726)],'topic':this['incomingTopic']});this[_0x36c33b(0x1c6)]=_0x4c6d51;}[_0x5a261d(0x208)](){delete this['outgoingTopic'];}['unregisterSubscriber'](){const _0x3846b0=_0x5a261d;delete this[_0x3846b0(0x1c6)];}async[_0x5a261d(0x468)](_0xddff42,_0x5f047b){const _0x5e6cac=_0x5a261d;if(_0x50fe93['log'](_0x2d7d49[_0x5e6cac(0x298)],_0x5e6cac(0x460),this[_0x5e6cac(0x151)][_0x5e6cac(0x591)](),_0xddff42,_0x5f047b),this[_0x5e6cac(0x2e8)]+=0x1,_0xddff42 instanceof File){const _0xf6db27=await async function(_0x5e50e5){const _0x8aa2be=_0x5e6cac,_0x26872d=[];for await(const _0x87c8bf of _0x365d85(_0x5e50e5))_0x26872d[_0x8aa2be(0x6bc)](_0x87c8bf);return _0x26872d;}(_0xddff42);return this['bytesSent']+=_0xf6db27['reduce']((_0x281d87,_0x22a563)=>_0x281d87+_0x22a563[_0x5e6cac(0xf9)],0x0),void _0xf6db27['forEach']((_0x2330ca,_0x2debf8)=>{const _0x27fb62=_0x5e6cac;this[_0x27fb62(0x16b)][_0x27fb62(0x3b8)]({'sourceId':this[_0x27fb62(0x151)][_0x27fb62(0x591)](),'destinationIds':_0x5f047b,'propagate':!0x0,'contentType':_0x44eeae[_0x27fb62(0xee)][_0x27fb62(0x6f4)],'content':{'name':_0xddff42[_0x27fb62(0x267)],'type':_0xddff42[_0x27fb62(0x274)],'data':_0x2330ca,'index':_0x2debf8,'total':_0xf6db27[_0x27fb62(0x553)]}});});}this[_0x5e6cac(0xf7)]+=JSON[_0x5e6cac(0x414)](_0xddff42)[_0x5e6cac(0x553)],this[_0x5e6cac(0x16b)][_0x5e6cac(0x3b8)]({'sourceId':this[_0x5e6cac(0x151)][_0x5e6cac(0x591)](),'destinationIds':_0x5f047b,'propagate':!0x0,'contentType':_0x44eeae['ContentType'][_0x5e6cac(0x50d)],'content':_0xddff42});}['onMessage'](_0x4770b0){const _0x1726f9=_0x5a261d;return this[_0x1726f9(0x1c6)][_0x1726f9(0x313)](_0x2016f0=>{const _0xc9e12b=_0x1726f9;switch(_0x50fe93[_0xc9e12b(0x287)](_0x2d7d49['DataStream'],_0xc9e12b(0x1d0),this[_0xc9e12b(0x151)]['getId'](),_0x2016f0),_0x2016f0[_0xc9e12b(0x44d)]){case _0x44eeae['ContentType'][_0xc9e12b(0x50d)]:this['messagesReceived']+=0x1,this[_0xc9e12b(0x608)]+=JSON[_0xc9e12b(0x414)](_0x2016f0['content'])[_0xc9e12b(0x553)],_0x4770b0(_0x2016f0[_0xc9e12b(0x6f8)],_0x2016f0['content']);break;case _0x44eeae['ContentType'][_0xc9e12b(0x6f4)]:this['fileChunks'][_0xc9e12b(0x644)](_0x2016f0[_0xc9e12b(0x365)][_0xc9e12b(0x267)])||this[_0xc9e12b(0x451)][_0xc9e12b(0x1a1)](_0x2016f0[_0xc9e12b(0x365)][_0xc9e12b(0x267)],{'chunksReceived':0x0,'bytesReceived':0x0,'checksum':'','content':[]});const _0x3e2d9f=this[_0xc9e12b(0x451)][_0xc9e12b(0x568)](_0x2016f0['content'][_0xc9e12b(0x267)]);if(_0x3e2d9f[_0xc9e12b(0x249)]+=0x1,_0x3e2d9f[_0xc9e12b(0x608)]+=_0x2016f0[_0xc9e12b(0x365)]['data'][_0xc9e12b(0xf9)],_0x3e2d9f[_0xc9e12b(0x365)]&&(_0x3e2d9f['content'][_0x2016f0['content'][_0xc9e12b(0x637)]]=_0x2016f0[_0xc9e12b(0x365)][_0xc9e12b(0x5f0)]),this['fileChunks'][_0xc9e12b(0x1a1)](_0x2016f0['content'][_0xc9e12b(0x267)],_0x3e2d9f),_0x3e2d9f[_0xc9e12b(0x249)]+0x1<_0x2016f0[_0xc9e12b(0x365)][_0xc9e12b(0x6cd)])return;this[_0xc9e12b(0x35f)]+=0x1,this[_0xc9e12b(0x608)]+=_0x3e2d9f[_0xc9e12b(0x608)],_0x3e2d9f[_0xc9e12b(0x365)]&&_0x4770b0(_0x2016f0[_0xc9e12b(0x6f8)],(_0x20ab09=_0x3e2d9f[_0xc9e12b(0x365)],_0x1fcf94=_0x2016f0['content'][_0xc9e12b(0x267)],_0x41104b=_0x2016f0['content'][_0xc9e12b(0x274)],new File(_0x20ab09,_0x1fcf94,{'type':_0x41104b}))),this[_0xc9e12b(0x451)]['delete'](_0x2016f0['content'][_0xc9e12b(0x267)]);}var _0x20ab09,_0x1fcf94,_0x41104b;});}}function _0x5c88af(){const _0x369d15=_0x5a261d;let _0x49afcd=[];return{'subscribe':_0x12dbbf=>(_0x49afcd[_0x369d15(0x6bc)](_0x12dbbf),()=>{const _0x314f2a=_0x369d15;_0x49afcd=_0x49afcd[_0x314f2a(0x279)](_0x1b0cc3=>_0x1b0cc3!==_0x12dbbf);}),'publish':_0x289c98=>{const _0x29d45a=_0x369d15;_0x49afcd[_0x29d45a(0x675)](_0x4a58cc=>_0x4a58cc(_0x289c98));}};}function _0x534eff(){let _0x3bfb55;return{'subscribe':_0x2d9f4a=>(_0x3bfb55=_0x2d9f4a,()=>{_0x3bfb55=void 0x0;}),'publish':_0x14c51c=>{_0x3bfb55&&_0x3bfb55(_0x14c51c);}};}class _0x12e1ff{[_0x5a261d(0x6c2)];['tableName'];['tableObserver'];[_0x5a261d(0x632)]=_0x534eff();[_0x5a261d(0x6ab)];constructor(_0x2c7c2f,_0x4bc2c7,_0x1b4108){const _0x498375=_0x5a261d;this[_0x498375(0x6c2)]=_0x2c7c2f,this[_0x498375(0x73b)]=_0x4bc2c7,this[_0x498375(0x691)]=_0x1b4108;}[_0x5a261d(0x4fe)](){const _0x4a8623=_0x5a261d;this[_0x4a8623(0x6ab)]?.();}async['get'](_0x583593){const _0x1f0f78=_0x5a261d,_0x546504={'key':_0x583593,'tableName':this[_0x1f0f78(0x73b)],'action':_0x51db56['Get']};return this[_0x1f0f78(0x691)][_0x1f0f78(0x3b8)](_0x546504),this[_0x1f0f78(0x6c2)][_0x1f0f78(0x568)](_0x583593);}async['set'](_0x75857c,_0x11d04b,_0x20a4b8=!0x0){const _0x5fd706=_0x5a261d;this[_0x5fd706(0x1a3)](_0x11d04b);const _0x523dc6=await this['connector']['get'](_0x75857c),_0x3cc961=await this['connector'][_0x5fd706(0x1a1)](_0x75857c,_0x11d04b),_0x21734f=_0x523dc6?_0x45ee86[_0x5fd706(0x13e)]:_0x45ee86[_0x5fd706(0x636)];if(this[_0x5fd706(0x3b8)](_0x21734f,_0x3cc961),!_0x20a4b8)return _0x3cc961;const _0x591bba={'key':_0x75857c,'tableName':this['tableName'],'action':_0x21734f,'value':_0x3cc961};return this[_0x5fd706(0x691)][_0x5fd706(0x3b8)](_0x591bba),_0x3cc961;}async[_0x5a261d(0x500)](_0x81e5c0){const _0x13e534=_0x5a261d;this[_0x13e534(0x1a3)](_0x81e5c0);const _0x2123d7=await this[_0x13e534(0x6c2)][_0x13e534(0x500)](_0x81e5c0),_0x457e3d={'key':_0x2123d7['id'],'tableName':this[_0x13e534(0x73b)],'action':_0x45ee86[_0x13e534(0x636)],'value':_0x2123d7};return this[_0x13e534(0x691)][_0x13e534(0x3b8)](_0x457e3d),this['publish'](_0x457e3d['action'],_0x2123d7),_0x2123d7;}async[_0x5a261d(0x20a)](_0x47352a,_0x14d9c9=!0x0){const _0x53745d=_0x5a261d,_0x266888=await this['connector']['get'](_0x47352a);if(!_0x266888)return;await this[_0x53745d(0x6c2)][_0x53745d(0x20a)](_0x47352a);const _0x4424e4=_0x45ee86[_0x53745d(0x6e1)];if(this['publish'](_0x4424e4,_0x266888),!_0x14d9c9)return;const _0xd08df2={'key':_0x47352a,'tableName':this[_0x53745d(0x73b)],'action':_0x4424e4,'value':_0x266888};this[_0x53745d(0x691)][_0x53745d(0x3b8)](_0xd08df2);}async[_0x5a261d(0x220)](){const _0x1d9d7b=_0x5a261d,_0x12d660=await this[_0x1d9d7b(0x1bc)]();for(const _0x3caea8 of _0x12d660){const _0x1af7b5=_0x45ee86['Delete'];this[_0x1d9d7b(0x3b8)](_0x1af7b5,_0x3caea8);const _0xf23131={'key':_0x3caea8['id'],'tableName':this['tableName'],'action':_0x1af7b5,'value':_0x3caea8};this[_0x1d9d7b(0x691)]['publish'](_0xf23131);}return this[_0x1d9d7b(0x6c2)][_0x1d9d7b(0x220)]();}async['list'](_0x453d92){const _0x2f8f97=_0x5a261d,_0x1a20f6={'key':'','tableName':this['tableName'],'action':_0x51db56['List']};this[_0x2f8f97(0x691)][_0x2f8f97(0x3b8)](_0x1a20f6);try{_0x453d92&&(_0x453d92=_0x453d92 instanceof _0xc017b9?_0x453d92[_0x2f8f97(0x178)]():_0xc017b9[_0x2f8f97(0x17b)](_0x453d92)[_0x2f8f97(0x178)]());}catch(_0x7b608d){throw new _0x1a3a24(_0x1cb6bb[_0x2f8f97(0x45f)],_0x2f8f97(0x541));}try{return await this['connector'][_0x2f8f97(0x1bc)](_0x453d92);}catch(_0x2b3f8f){let _0x2aa501='Invalid\x20query';throw _0x2b3f8f instanceof Error&&(_0x2aa501=_0x2b3f8f['message']),new _0x1a3a24(_0x1cb6bb[_0x2f8f97(0x45f)],_0x2aa501);}}async[_0x5a261d(0x4ec)](_0xe96224){const _0x2a5b74=_0x5a261d,_0x3417eb={'key':'','tableName':this[_0x2a5b74(0x73b)],'action':_0x51db56[_0x2a5b74(0x2bd)]};this['tableObserver']['publish'](_0x3417eb);try{_0xe96224&&(_0xe96224=_0xe96224 instanceof _0xc017b9?_0xe96224[_0x2a5b74(0x178)]():_0xc017b9['buildQuery'](_0xe96224)[_0x2a5b74(0x178)]());}catch(_0x16d189){throw new _0x1a3a24(_0x1cb6bb['KeyValueDatabaseInvalidQuery'],_0x2a5b74(0x541));}try{return await this[_0x2a5b74(0x6c2)]['count'](_0xe96224);}catch(_0x23b61b){let _0x5d2908='Invalid\x20query';throw _0x23b61b instanceof Error&&(_0x5d2908=_0x23b61b['message']),new _0x1a3a24(_0x1cb6bb[_0x2a5b74(0x45f)],_0x5d2908);}}[_0x5a261d(0x562)](){const _0x3cf196=_0x5a261d;return this[_0x3cf196(0x6c2)][_0x3cf196(0x562)]();}[_0x5a261d(0x313)](_0xebc522){const _0x4cf2e5=_0x5a261d;this[_0x4cf2e5(0x6ab)]=this[_0x4cf2e5(0x632)][_0x4cf2e5(0x313)](_0xebc522);}[_0x5a261d(0x76e)](){const _0x48b42a=_0x5a261d;this[_0x48b42a(0x6ab)]?.();}[_0x5a261d(0x3b8)](_0x57d2a4,_0x44a544){const _0x4d8c71=_0x5a261d,_0x4e3c9f=this[_0x4d8c71(0x128)](_0x57d2a4,_0x44a544);this[_0x4d8c71(0x632)][_0x4d8c71(0x3b8)](_0x4e3c9f);}[_0x5a261d(0x128)](_0x48ade4,_0x1d944d){const _0x141a4d=_0x5a261d;let _0x5c4c45;switch(_0x48ade4){case _0x45ee86[_0x141a4d(0x636)]:_0x5c4c45=_0x141a4d(0x500);break;case _0x45ee86[_0x141a4d(0x13e)]:_0x5c4c45=_0x141a4d(0x743);break;case _0x45ee86[_0x141a4d(0x6e1)]:_0x5c4c45='delete';}return{'action':_0x5c4c45,'value':_0x1d944d};}[_0x5a261d(0x1a3)](_0x60db1c){const _0x23ff88=_0x5a261d;if('object'!=typeof _0x60db1c||null===_0x60db1c)throw new _0x1a3a24(_0x1cb6bb[_0x23ff88(0x454)],_0x23ff88(0x446));for(const _0x87a859 in _0x60db1c){const _0x26a7a9=_0x60db1c[_0x87a859];if(_0x23ff88(0x228)!=typeof _0x26a7a9||_0x26a7a9 instanceof Date){if(![_0x23ff88(0x747),_0x23ff88(0x34e),_0x23ff88(0x467)][_0x23ff88(0x49a)](typeof _0x26a7a9))throw new _0x1a3a24(_0x1cb6bb[_0x23ff88(0x454)],_0x23ff88(0x761)+_0x87a859+_0x23ff88(0x19a));}else this[_0x23ff88(0x1a3)](_0x26a7a9);}}}class _0x5d23e6 extends _0x2536ee{[_0x5a261d(0x783)];[_0x5a261d(0x1f3)];[_0x5a261d(0xe6)];['db'];[_0x5a261d(0x4c3)];['tables']=new Map();[_0x5a261d(0x691)];[_0x5a261d(0x10e)];[_0x5a261d(0x4a1)];['isSync'];['syncResolve'];[_0x5a261d(0x30c)]=[];['timeoutCallback']=()=>{};[_0x5a261d(0x605)];['eventListener']=_0x534eff();[_0x5a261d(0x6ab)];[_0x5a261d(0x6b2)]=[];[_0x5a261d(0x36e)];[_0x5a261d(0x507)];[_0x5a261d(0x337)]=0x0;[_0x5a261d(0x248)]=0x0;constructor(_0x41a909,_0x186fce,_0x43d51a,_0x150d47,_0x430337,_0x67ed3c){const _0x383344=_0x5a261d;if(_0x383344(0x747)!=typeof _0x186fce)throw new _0x1a3a24(_0x1cb6bb[_0x383344(0x232)],_0x383344(0x34c));if(super(_0x41a909,_0x186fce),this[_0x383344(0x783)]=_0x41a909,this[_0x383344(0x1f3)]=_0x43d51a,this[_0x383344(0xe6)]=_0x150d47,this['dbKey']=_0x383344(0x52c)+this[_0x383344(0xe6)]+_0x383344(0x52c)+this[_0x383344(0x1f3)]+'ccc'+this[_0x383344(0x726)],this[_0x383344(0x691)]=_0x534eff(),this[_0x383344(0x3e9)]=new Promise(_0x1bfb31=>{const _0x568fe2=_0x383344;this[_0x568fe2(0x113)]=_0x1bfb31;}),_0x430337 instanceof _0x362375)this['layout']=_0x430337['getLayout']();else{const [_0x2155eb,_0x28714e]=_0x362375[_0x383344(0x665)](_0x430337);if(!_0x2155eb)throw new _0x1a3a24(_0x1cb6bb[_0x383344(0x62e)],_0x383344(0x791)+_0x28714e);this['layout']=_0x430337;}this[_0x383344(0x157)](this[_0x383344(0x36e)]),this['db']=new _0x67ed3c(this['dbKey'],this[_0x383344(0x36e)]),this['sendStats']();}['reset'](){const _0x2a2c63=_0x5a261d;this[_0x2a2c63(0x16f)]();}[_0x5a261d(0x72b)](){const _0x1402fc=_0x5a261d;return _0x44eeae[_0x1402fc(0xee)][_0x1402fc(0x558)];}[_0x5a261d(0x4fe)](){const _0x503501=_0x5a261d;this['db'][_0x503501(0x3e3)](),this[_0x503501(0x4a1)]?.(),clearTimeout(this[_0x503501(0x507)]),delete this[_0x503501(0x507)],super[_0x503501(0x4fe)]();}[_0x5a261d(0x3e3)](){const _0x1a8579=_0x5a261d;this[_0x1a8579(0x30a)][_0x1a8579(0x3b8)]({'sourceId':_0x4f18fa,'messageType':_0x3a54c1[_0x1a8579(0x55b)],'content':{'type':_0x534fb2['CloseKeyValueDatabase'],'label':this[_0x1a8579(0x726)]}});}['getTable'](_0xeb18f5){const _0xdc0d9f=_0x5a261d,_0x4634d3=this[_0xdc0d9f(0x645)][_0xdc0d9f(0x568)](_0xeb18f5);if(_0x4634d3)return _0x4634d3;try{if(!this['db'][_0xdc0d9f(0x4a7)](_0xeb18f5))throw new _0x1a3a24(_0x1cb6bb['KeyValueDatabaseTableNotFound'],_0xdc0d9f(0x404));const _0x12b59c=new _0x12e1ff(this['db'][_0xdc0d9f(0x680)](_0xeb18f5),_0xeb18f5,this[_0xdc0d9f(0x691)]);return this[_0xdc0d9f(0x645)][_0xdc0d9f(0x1a1)](_0xeb18f5,_0x12b59c),{'get':_0x12b59c[_0xdc0d9f(0x568)]['bind'](_0x12b59c),'set':_0x12b59c[_0xdc0d9f(0x1a1)]['bind'](_0x12b59c),'add':_0x12b59c[_0xdc0d9f(0x500)][_0xdc0d9f(0x72e)](_0x12b59c),'delete':_0x12b59c['delete'][_0xdc0d9f(0x72e)](_0x12b59c),'clear':_0x12b59c['clear'][_0xdc0d9f(0x72e)](_0x12b59c),'list':_0x12b59c['list']['bind'](_0x12b59c),'count':_0x12b59c[_0xdc0d9f(0x4ec)][_0xdc0d9f(0x72e)](_0x12b59c),'subscribe':_0x12b59c[_0xdc0d9f(0x313)][_0xdc0d9f(0x72e)](_0x12b59c),'unsubscribe':_0x12b59c[_0xdc0d9f(0x76e)][_0xdc0d9f(0x72e)](_0x12b59c)};}catch(_0x567b65){throw new _0x1a3a24(_0x1cb6bb[_0xdc0d9f(0x3ee)],_0xdc0d9f(0x478));}}['subscribe'](_0x1588ac){const _0xb9e070=_0x5a261d;this['listenerUnsubscriber']=this['eventListener'][_0xb9e070(0x313)](_0x1588ac);}['unsubscribe'](){this['listenerUnsubscriber']?.(),this['listenerUnsubscriber']=void 0x0;}async[_0x5a261d(0x625)](){const _0x98744d=_0x5a261d,_0x2aed52=[_0x5549e9,_0x4b4540],_0xc0d397=[];try{await this['db']['open']();const _0x598fff=this['db'][_0x98744d(0x680)](_0x4b4540),_0x1f445f=await _0x598fff[_0x98744d(0x1bc)](),{id:_0x40cd77,layout:_0x252378}=_0x1f445f[0x0]??{};if(_0x252378){for(const _0x27c93b in _0x252378)_0x2aed52[_0x98744d(0x49a)](_0x27c93b)||this['db'][_0x98744d(0x4a7)](_0x27c93b)||_0xc0d397[_0x98744d(0x6bc)](_0x27c93b);_0x598fff['set'](_0x40cd77,{'layout':this['layout']});}else _0x598fff[_0x98744d(0x500)]({'layout':this[_0x98744d(0x36e)]});}catch(_0x29c682){throw new _0x1a3a24(_0x1cb6bb['KeyValueDatabaseNotOpen'],_0x29c682[_0x98744d(0x1c3)]||_0x98744d(0x757));}this['instantiateTransactionTable'](),this['setOnMessageHandler'](),this[_0x98744d(0x2ba)](),_0xc0d397[_0x98744d(0x675)](_0xeb1d77=>this[_0x98744d(0x46b)](_0xeb1d77));}async[_0x5a261d(0x2cc)](_0x4e0f39,_0x7f1e24){const _0x5bf139=_0x5a261d;_0x4e0f39?(this['timeoutCallback']=_0x7f1e24,this[_0x5bf139(0x605)]=setTimeout(_0x7f1e24,_0x2629b4),this['systemTopic'][_0x5bf139(0x3b8)]({'sourceId':this[_0x5bf139(0x783)]['getId'](),'destinationIds':[_0x4e0f39],'messageType':_0x3a54c1['Content'],'content':{'type':_0x534fb2['RequestSyncKeyValueDatabase'],'label':this[_0x5bf139(0x726)]}}),await this['isSync']):setTimeout(()=>{const _0x12f44a=_0x5bf139;this['clearSyncTimeout'](),this[_0x12f44a(0x3f9)]();},0x0);}async['sendTransactionsDump'](_0xeb29ca){const _0x50ac87=_0x5a261d;if(!this['transactionTable'])throw new _0x2826e7(_0x2826e7['codes']['KeyValueDatabaseTransactionTableNotInitialized']);await this[_0x50ac87(0x3e9)];const _0x4b9d21=await this[_0x50ac87(0x10e)]['list']();this[_0x50ac87(0x30a)]['publish']({'sourceId':this[_0x50ac87(0x783)][_0x50ac87(0x591)](),'destinationIds':[_0xeb29ca],'messageType':_0x3a54c1['Content'],'content':{'type':_0x534fb2[_0x50ac87(0x2ca)],'label':this[_0x50ac87(0x726)],'transactions':_0x4b9d21}});}async['processTransactionsDump'](_0x44db67,_0x157692){const _0x17b1d5=_0x5a261d;if(!this[_0x17b1d5(0x10e)])throw new _0x2826e7(_0x2826e7[_0x17b1d5(0x776)][_0x17b1d5(0x439)]);this[_0x17b1d5(0x165)]();const _0x416e6f=await this[_0x17b1d5(0x10e)][_0x17b1d5(0x1bc)]();for(const _0x2147a4 of _0x416e6f){const _0x5a844a=_0x157692[_0x17b1d5(0x19f)](_0x49b344=>_0x49b344['id']===_0x2147a4['id']);if(_0x5a844a&&this['compareTransactions'](_0x2147a4,_0x5a844a)<=0x0)continue;const [_0x2b19b3,_0x333aa8]=_0x2147a4['id']['split']('::'),_0x49bcdb=this[_0x17b1d5(0x645)][_0x17b1d5(0x568)](_0x2b19b3),_0x555a20=await _0x49bcdb?.[_0x17b1d5(0x568)](_0x333aa8);_0x2147a4['value']=_0x555a20,this[_0x17b1d5(0x468)](_0x2147a4);}for(const _0xb2e394 of _0x157692){const _0x4dc4da=await this[_0x17b1d5(0x10e)][_0x17b1d5(0x568)](_0xb2e394['id']);if(!(_0x4dc4da&&this[_0x17b1d5(0x26a)](_0xb2e394,_0x4dc4da)<=0x0)){if(_0xb2e394[_0x17b1d5(0x506)]===_0x45ee86[_0x17b1d5(0x6e1)]){const [_0x588a7a,_0x3882d5]=_0xb2e394['id']['split']('::'),_0x3ad95e=this[_0x17b1d5(0x645)][_0x17b1d5(0x568)](_0x588a7a);await _0x3ad95e?.[_0x17b1d5(0x20a)](_0x3882d5,!0x1);}else this['transactionsToSync']['push'](_0xb2e394['id']);}}if(0x0===this['transactionsToSync'][_0x17b1d5(0x553)])return this['clearSyncTimeout'](),void this['publishSyncCompleted']();this[_0x17b1d5(0x605)]=setTimeout(this['timeoutCallback'],_0x2629b4),this[_0x17b1d5(0x30a)][_0x17b1d5(0x3b8)]({'sourceId':this[_0x17b1d5(0x783)][_0x17b1d5(0x591)](),'destinationIds':[_0x44db67],'messageType':_0x3a54c1[_0x17b1d5(0x55b)],'content':{'type':_0x534fb2['RequestTransactionsValue'],'label':this[_0x17b1d5(0x726)],'transactionIds':this['transactionsToSync']}});}async[_0x5a261d(0x5f2)](_0x364b8a,_0x8786f3){const _0x47499c=_0x5a261d;if(!this[_0x47499c(0x10e)])throw new _0x2826e7(_0x2826e7['codes'][_0x47499c(0x439)]);for(const _0x880125 of _0x8786f3){const _0x4f7cba=await this[_0x47499c(0x10e)]['get'](_0x880125);if(!_0x4f7cba)continue;const [_0x410d0f,_0x886576]=_0x880125['split']('::'),_0x4ad8ab=this[_0x47499c(0x645)][_0x47499c(0x568)](_0x410d0f),_0x2c6bae=await _0x4ad8ab?.[_0x47499c(0x568)](_0x886576);_0x4f7cba[_0x47499c(0x5b9)]=_0x2c6bae,this[_0x47499c(0x468)](_0x4f7cba,[_0x364b8a]);}}async['writeTransaction'](_0x56adac){const _0xfbb021=_0x5a261d;if(!this[_0xfbb021(0x10e)])throw new _0x2826e7(_0x2826e7['codes']['KeyValueDatabaseTransactionTableNotInitialized']);const _0x3e059a=await this[_0xfbb021(0x10e)][_0xfbb021(0x568)](_0x56adac['id']);if(_0x3e059a&&this[_0xfbb021(0x26a)](_0x56adac,_0x3e059a)<=0x0)return;const _0x5a642b={..._0x56adac};return delete _0x5a642b['value'],await this['transactionTable']['set'](_0x56adac['id'],_0x5a642b),_0x56adac;}[_0x5a261d(0x26a)](_0x1e0f2b,_0x2b40bb){const _0x185e6a=_0x5a261d;return _0x1e0f2b[_0x185e6a(0x383)]<_0x2b40bb[_0x185e6a(0x383)]?-0x1:_0x1e0f2b[_0x185e6a(0x383)]>_0x2b40bb['timestamp']?0x1:_0x1e0f2b[_0x185e6a(0x75e)]-_0x2b40bb[_0x185e6a(0x75e)];}async['getTransactionFromTableWriteEvent'](_0x448215){const _0x4ef05b=_0x5a261d;if(!this['transactionTable'])throw new _0x2826e7(_0x2826e7['codes'][_0x4ef05b(0x439)]);const _0x4c5f72=_0x448215[_0x4ef05b(0x73b)]+'::'+_0x448215[_0x4ef05b(0x762)],_0xfe0598=await _0x9c97da[_0x4ef05b(0x6a8)](),_0x7b3ba={'id':_0x4c5f72,'priority':Math[_0x4ef05b(0x182)](),'timestamp':_0xfe0598,'action':_0x448215[_0x4ef05b(0x506)]};if(await this[_0x4ef05b(0x790)](_0x7b3ba))return _0x7b3ba;}async[_0x5a261d(0x46b)](_0x51291b){const _0x24319e=_0x5a261d;if(!this[_0x24319e(0x10e)])throw new _0x2826e7(_0x2826e7[_0x24319e(0x776)][_0x24319e(0x439)]);const _0x222555=_0xc017b9[_0x24319e(0x637)]('id')[_0x24319e(0x727)](_0x24319e(0x72c),[_0x51291b+'::',_0x51291b+_0x24319e(0x69b)]),_0x4af2ab=await this[_0x24319e(0x10e)][_0x24319e(0x1bc)](_0x222555['getQuery']());for(const _0x108f2c of _0x4af2ab)await this[_0x24319e(0x10e)]['delete'](_0x108f2c['id']);}[_0x5a261d(0x2cb)](){const _0x5c56a2=_0x5a261d;this[_0x5c56a2(0x43a)](async(_0x1dce59,_0x2e09c5)=>{const _0x4fe7b4=_0x5c56a2;if(_0x2e09c5 instanceof File)return;if(!await this['writeTransaction'](_0x2e09c5))return void this['checkSyncComplete'](_0x2e09c5);if(!_0x2e09c5[_0x4fe7b4(0x5b9)])throw new _0x2826e7(_0x2826e7[_0x4fe7b4(0x776)][_0x4fe7b4(0x3b0)]);const [_0x4d2a61,_0x37ce97]=_0x2e09c5['id'][_0x4fe7b4(0x504)]('::'),_0x533ffc=this['tables'][_0x4fe7b4(0x568)](_0x4d2a61);if(!_0x533ffc)throw new _0x2826e7(_0x2826e7[_0x4fe7b4(0x776)][_0x4fe7b4(0x703)],{'table':_0x533ffc});let _0x328758=0x0;switch(_0x2e09c5['action']){case _0x45ee86['Add']:case _0x45ee86[_0x4fe7b4(0x13e)]:{const _0x4479d9=_0x533ffc['set'](_0x37ce97,_0x2e09c5[_0x4fe7b4(0x5b9)],!0x1);_0x328758=JSON[_0x4fe7b4(0x414)](_0x2e09c5['value'])[_0x4fe7b4(0x553)],this[_0x4fe7b4(0x30c)][_0x4fe7b4(0x49a)](_0x2e09c5['id'])&&this[_0x4fe7b4(0x6b2)][_0x4fe7b4(0x6bc)](_0x4479d9);break;}case _0x45ee86['Delete']:{const _0x27bbc8=_0x533ffc[_0x4fe7b4(0x20a)](_0x37ce97,!0x1);this['transactionsToSync'][_0x4fe7b4(0x49a)](_0x2e09c5['id'])&&this[_0x4fe7b4(0x6b2)]['push'](_0x27bbc8);break;}}_0x50fe93[_0x4fe7b4(0x501)](_0x39a0cc[_0x4fe7b4(0x558)],{'type':_0x4fe7b4(0x2cc),'label':this[_0x4fe7b4(0x726)],'nodeId':this[_0x4fe7b4(0x783)][_0x4fe7b4(0x591)](),'nodeType':this[_0x4fe7b4(0x783)][_0x4fe7b4(0x274)],'clusterId':this['clusterId'],'tableName':_0x4d2a61,'key':_0x37ce97,'size':_0x328758}),this['checkSyncComplete'](_0x2e09c5);});}['setOnTableWriteHandler'](){const _0x465ff5=_0x5a261d;this[_0x465ff5(0x4a1)]=this[_0x465ff5(0x691)][_0x465ff5(0x313)](async _0x5b61d2=>{const _0x401b9f=_0x465ff5;let _0x406778=0x0;switch(_0x5b61d2[_0x401b9f(0x506)]){case _0x45ee86[_0x401b9f(0x636)]:case _0x45ee86['Update']:case _0x45ee86[_0x401b9f(0x6e1)]:{const _0x4be864=await this[_0x401b9f(0x640)](_0x5b61d2);if(!_0x4be864)return;_0x4be864[_0x401b9f(0x5b9)]=_0x5b61d2[_0x401b9f(0x5b9)],this[_0x401b9f(0x468)](_0x4be864),_0x406778=JSON[_0x401b9f(0x414)](_0x5b61d2[_0x401b9f(0x5b9)])[_0x401b9f(0x553)],this[_0x401b9f(0x337)]+=0x1;break;}case _0x51db56[_0x401b9f(0x141)]:case _0x51db56[_0x401b9f(0x4c5)]:case _0x51db56[_0x401b9f(0x2bd)]:this[_0x401b9f(0x248)]+=0x1;}_0x50fe93['logServiceEvent'](_0x39a0cc['KeyValueDatabase'],{'type':_0x5b61d2[_0x401b9f(0x506)],'label':this['label'],'nodeId':this[_0x401b9f(0x783)][_0x401b9f(0x591)](),'nodeType':this[_0x401b9f(0x783)][_0x401b9f(0x274)],'clusterId':this[_0x401b9f(0x1f3)],'tableName':_0x5b61d2['tableName'],'key':_0x5b61d2['key'],'size':_0x406778}),this[_0x401b9f(0x16f)]();});}[_0x5a261d(0x3b5)](){const _0x3a41d5=_0x5a261d;this['db']&&(this[_0x3a41d5(0x10e)]||(this[_0x3a41d5(0x10e)]=this['db']['getTableConnector'](_0x5549e9)));}[_0x5a261d(0x165)](){const _0x361f2e=_0x5a261d;this[_0x361f2e(0x605)]&&(clearTimeout(this['syncTimeout']),delete this[_0x361f2e(0x605)]);}[_0x5a261d(0x3f9)](){const _0x4b504c=_0x5a261d;this[_0x4b504c(0x632)][_0x4b504c(0x3b8)]({'event':_0x44eeae[_0x4b504c(0x4ba)][_0x4b504c(0xe8)]}),this[_0x4b504c(0x113)]?.(!0x0),delete this['syncResolve'],this[_0x4b504c(0x16f)]();}async[_0x5a261d(0x5e4)](){const _0x3fcc83=_0x5a261d;await Promise[_0x3fcc83(0x60f)](this[_0x3fcc83(0x6b2)]),this[_0x3fcc83(0x3f9)]();}[_0x5a261d(0x3b7)](_0x4fce6c){const _0x87f4fd=_0x5a261d;this[_0x87f4fd(0x30c)][_0x87f4fd(0x49a)](_0x4fce6c['id'])&&(this['clearSyncTimeout'](),this[_0x87f4fd(0x30c)]=this['transactionsToSync']['filter'](_0x31d1e1=>_0x31d1e1!==_0x4fce6c['id']),0x0!==this[_0x87f4fd(0x30c)][_0x87f4fd(0x553)]?this[_0x87f4fd(0x605)]=setTimeout(this[_0x87f4fd(0x6b8)],_0x2629b4):this[_0x87f4fd(0x5e4)]());}[_0x5a261d(0x16f)](){const _0x9e072e=_0x5a261d;this[_0x9e072e(0x507)]&&clearTimeout(this[_0x9e072e(0x507)]),this[_0x9e072e(0x507)]=setTimeout(async()=>{const _0x2b852d=_0x9e072e;delete this[_0x2b852d(0x507)];let _0x502c01=0x0;for(const _0x4baf43 of this[_0x2b852d(0x645)][_0x2b852d(0x741)]())_0x502c01+=await _0x4baf43[_0x2b852d(0x562)]();this[_0x2b852d(0x30a)]['publish']({'sourceId':_0x4f18fa,'messageType':_0x3a54c1['Content'],'content':{'type':_0x534fb2[_0x2b852d(0x715)],'label':this['label'],'stats':{'timestamp':Date[_0x2b852d(0x4e6)](),'storage':_0x502c01,'messagesSent':this[_0x2b852d(0x2e8)],'messagesReceived':this[_0x2b852d(0x35f)],'bytesSent':this[_0x2b852d(0xf7)],'bytesReceived':this[_0x2b852d(0x608)],'writes':this[_0x2b852d(0x337)],'reads':this[_0x2b852d(0x248)],'prompts':0x0,'tokens':0x0}}}),_0x50fe93[_0x2b852d(0x6bf)](_0x39a0cc['KeyValueDatabase'],_0x2b852d(0x52c)+this[_0x2b852d(0x1f3)]+'ccc'+this['label'],_0x502c01);},0x1388);}[_0x5a261d(0x157)](_0x5aa19d){const _0x3efd8e=_0x5a261d;if(_0x5aa19d[_0x3efd8e(0x645)][_0x5549e9])throw new _0x1a3a24(_0x1cb6bb['KeyValueDatabaseTableNameReserved'],_0x3efd8e(0x3aa)+_0x5549e9+_0x3efd8e(0x14c));if(_0x5aa19d[_0x3efd8e(0x645)][_0x4b4540])throw new _0x1a3a24(_0x1cb6bb[_0x3efd8e(0x629)],_0x3efd8e(0x3aa)+_0x4b4540+_0x3efd8e(0x14c));_0x5aa19d[_0x3efd8e(0x645)][_0x5549e9]={'indexes':[]},_0x5aa19d[_0x3efd8e(0x645)][_0x4b4540]={'indexes':[]};}}const _0x2095b8=require('@crewdle/mist-connector-opfs'),_0x2631d9=require('@crewdle/mist-connector-indexed-db'),_0x4b4fe7=require('@crewdle/mist-connector-webrtc-browser');var _0x521cdc,_0x4c1abf,_0x48dd43,_0x16cef7,_0x1dbf76,_0x2d2d29,_0x3382d7,_0x4c335d,_0x542625;!function(_0x2d6938){const _0x7fde78=_0x5a261d;_0x2d6938['AudioContext']=_0x7fde78(0x48f),_0x2d6938[_0x7fde78(0x5a3)]=_0x7fde78(0x5a3),_0x2d6938[_0x7fde78(0x6ed)]=_0x7fde78(0x6ed),_0x2d6938[_0x7fde78(0x695)]=_0x7fde78(0x695),_0x2d6938['DeviceConfig']='DeviceConfig',_0x2d6938[_0x7fde78(0x2d1)]=_0x7fde78(0x2d1),_0x2d6938['Recording']='Recording',_0x2d6938[_0x7fde78(0x5ac)]=_0x7fde78(0x5ac),_0x2d6938[_0x7fde78(0x4bf)]='WebGL',_0x2d6938[_0x7fde78(0x6bb)]=_0x7fde78(0x6bb);}(_0x521cdc||(_0x521cdc={}));class _0x5d3f42{[_0x5a261d(0x69a)];[_0x5a261d(0x4f1)];[_0x5a261d(0x2a5)];constructor(_0x51011f=new Map(),_0x162d72=new Map(),_0x2e9b8d=new EventTarget()){const _0x5b297a=_0x5a261d;this[_0x5b297a(0x69a)]=_0x51011f,this[_0x5b297a(0x4f1)]=_0x162d72,this['eventTarget']=_0x2e9b8d;}[_0x5a261d(0x5e6)]=(_0x501ecc,_0x45c8ca)=>this[_0x5a261d(0x69a)][_0x5a261d(0x644)](_0x501ecc)?(_0x50fe93[_0x5a261d(0x287)](_0x2d7d49[_0x5a261d(0x251)],_0x5a261d(0x3f4),{'event':_0x501ecc,'data':_0x45c8ca}),this[_0x5a261d(0x2a5)][_0x5a261d(0x499)](new CustomEvent(_0x501ecc,{'detail':_0x45c8ca})),!0x0):(this[_0x5a261d(0x413)](_0x501ecc,_0x45c8ca),!0x1);['on']=(_0x453223,_0x4e4066)=>{const _0x3b4fc2=_0x5a261d,_0x2731bb=_0x45d060=>{const _0xa2a989=a0_0x3f62;_0x50fe93[_0xa2a989(0x287)](_0x2d7d49[_0xa2a989(0x251)],'Received\x20event\x20on\x20cluster',_0x45d060[_0xa2a989(0x274)],_0x45d060[_0xa2a989(0x375)]),_0x4e4066(_0x45d060['detail']);};return this[_0x3b4fc2(0x69a)][_0x3b4fc2(0x1a1)](_0x453223,_0x2731bb),this[_0x3b4fc2(0x2a5)][_0x3b4fc2(0x33d)](_0x453223,_0x2731bb),_0x50fe93[_0x3b4fc2(0x287)](_0x2d7d49[_0x3b4fc2(0x117)],'Subscribing\x20to\x20an\x20event:\x20on',_0x453223,_0x4e4066),this[_0x3b4fc2(0x343)](_0x453223),this;};['off'](_0x324cd0){const _0x33c5f9=_0x5a261d;if(!_0x324cd0)return this['registeredListeners'][_0x33c5f9(0x675)]((_0x5a66b9,_0x35a888)=>{const _0x353ecc=_0x33c5f9;this[_0x353ecc(0x2a5)][_0x353ecc(0x714)](_0x35a888,_0x5a66b9);}),void this[_0x33c5f9(0x69a)][_0x33c5f9(0x220)]();_0x33c5f9(0x747)==typeof _0x324cd0&&this['removeListener'](_0x324cd0),Array[_0x33c5f9(0x66a)](_0x324cd0)&&_0x324cd0[_0x33c5f9(0x675)](_0x58f550=>{this['removeListener'](_0x58f550);});}[_0x5a261d(0x56d)](_0xcfd83d){const _0x353087=_0x5a261d,_0x2dd6a0=this['registeredListeners']['get'](_0xcfd83d);_0x2dd6a0&&(this[_0x353087(0x2a5)]['removeEventListener'](_0xcfd83d,_0x2dd6a0),this[_0x353087(0x69a)][_0x353087(0x20a)](_0xcfd83d));}['bufferEvent'](_0x4512d5,_0x480553){const _0x352787=_0x5a261d;_0x50fe93[_0x352787(0x287)](_0x2d7d49[_0x352787(0x251)],_0x352787(0x239),{'event':_0x4512d5,'data':_0x480553});const _0x10c8b0=this[_0x352787(0x4f1)][_0x352787(0x568)](_0x4512d5)||[];this[_0x352787(0x4f1)][_0x352787(0x1a1)](_0x4512d5,[..._0x10c8b0,_0x480553]);}[_0x5a261d(0x343)](_0x513cfe){const _0x38cf37=_0x5a261d,_0x3e09f6=this[_0x38cf37(0x4f1)][_0x38cf37(0x568)](_0x513cfe);_0x3e09f6&&(_0x3e09f6[_0x38cf37(0x675)](_0x3a52b2=>{const _0x1ee048=_0x38cf37;_0x50fe93[_0x1ee048(0x287)](_0x2d7d49['Events'],_0x1ee048(0x5c8),{'event':_0x513cfe,'data':_0x3a52b2}),this[_0x1ee048(0x2a5)]['dispatchEvent'](new CustomEvent(_0x513cfe,{'detail':_0x3a52b2}));}),this['bufferedEvents'][_0x38cf37(0x20a)](_0x513cfe));}}class _0x29aa20 extends Error{constructor(_0x15aba8){const _0x126da9=_0x5a261d;super(_0x126da9(0x494)+_0x15aba8);}}!function(_0x1e08aa){const _0x3f9a32=_0x5a261d;_0x1e08aa[_0x1e08aa[_0x3f9a32(0x33f)]=0x0]=_0x3f9a32(0x33f),_0x1e08aa[_0x1e08aa[_0x3f9a32(0x351)]=0x1]=_0x3f9a32(0x351);}(_0x4c1abf||(_0x4c1abf={})),function(_0x4450f6){const _0x17144d=_0x5a261d;_0x4450f6[_0x4450f6[_0x17144d(0x4cc)]=0x0]='Offer',_0x4450f6[_0x4450f6[_0x17144d(0x6c4)]=0x1]='Answer',_0x4450f6[_0x4450f6[_0x17144d(0x49b)]=0x2]=_0x17144d(0x49b),_0x4450f6[_0x4450f6['Success']=0x3]=_0x17144d(0x437),_0x4450f6[_0x4450f6[_0x17144d(0x2ac)]=0x4]=_0x17144d(0x2ac),_0x4450f6[_0x4450f6[_0x17144d(0x18f)]=0x5]='Restart',_0x4450f6[_0x4450f6[_0x17144d(0x496)]=0x6]='Disconnect',_0x4450f6[_0x4450f6[_0x17144d(0x39a)]=0x7]=_0x17144d(0x39a),_0x4450f6[_0x4450f6[_0x17144d(0x754)]=0x8]=_0x17144d(0x754);}(_0x48dd43||(_0x48dd43={})),function(_0x45eb0d){const _0x372e59=_0x5a261d;_0x45eb0d[_0x45eb0d[_0x372e59(0x306)]=0x0]='Sender',_0x45eb0d[_0x45eb0d[_0x372e59(0x6b4)]=0x1]='Receiver';}(_0x16cef7||(_0x16cef7={})),function(_0x5c759b){const _0x34ed9b=_0x5a261d;_0x5c759b['MediaStream']=_0x34ed9b(0xf0);}(_0x1dbf76||(_0x1dbf76={})),function(_0xf21fef){const _0x146310=_0x5a261d;_0xf21fef[_0xf21fef[_0x146310(0x5ec)]=0x0]=_0x146310(0x5ec),_0xf21fef[_0xf21fef['NodeUpdate']=0x1]=_0x146310(0x22f),_0xf21fef[_0xf21fef[_0x146310(0x41b)]=0x2]='NodeConnectionsUpdate',_0xf21fef[_0xf21fef[_0x146310(0x152)]=0x3]='NodeLeave';}(_0x2d2d29||(_0x2d2d29={})),function(_0x5b29b8){const _0x51534c=_0x5a261d;_0x5b29b8[_0x5b29b8[_0x51534c(0x378)]=0x0]='Remediation',_0x5b29b8[_0x5b29b8[_0x51534c(0x2f9)]=0x1]='RemoteRemediation';}(_0x3382d7||(_0x3382d7={})),function(_0x57e3ef){const _0x516752=_0x5a261d;_0x57e3ef[_0x516752(0x63c)]=_0x516752(0x42f),_0x57e3ef[_0x516752(0x266)]=_0x516752(0x125);}(_0x4c335d||(_0x4c335d={})),function(_0x5a7787){const _0x3092cb=_0x5a261d;_0x5a7787[_0x3092cb(0x5da)]=_0x3092cb(0x2ff),_0x5a7787[_0x3092cb(0x1bb)]=_0x3092cb(0x323);}(_0x542625||(_0x542625={}));const _0x25bdf7=require('aws-amplify'),_0x3edf61=require('aws-amplify/utils'),_0x3c64e2=require('@aws-amplify/api'),_0x39197f=require('@aws-amplify/core');class _0x33d500{[_0x5a261d(0x1f3)];[_0x5a261d(0x783)];[_0x5a261d(0x2a2)];constructor(_0x510952,_0x24efc8,_0x2d1f9a){const _0xd07e5=_0x5a261d;this[_0xd07e5(0x1f3)]=_0x510952,this[_0xd07e5(0x783)]=_0x24efc8,this[_0xd07e5(0x2a2)]=_0x2d1f9a;}[_0x5a261d(0x41c)](){const _0x1a88a7=_0x5a261d;return this['localNode'][_0x1a88a7(0x591)]();}[_0x5a261d(0x4b3)](){const _0x39a393=_0x5a261d;return this[_0x39a393(0x2a2)];}}var _0x3f8c0a,_0x3c7267,_0x230561;function _0x1058d0(_0x1e5948,_0x37aeeb){const _0x1c4008=_0x5a261d;return _0x1e5948[_0x1c4008(0x6f8)]===_0x37aeeb;}function _0x3db9f3(_0xc373dc,_0x22b3e5){const _0x398c63=_0x5a261d;return _0xc373dc[_0x398c63(0x5f9)]?.[_0x398c63(0x49a)](_0x22b3e5)??function(_0xeb5004){const _0x5717bb=_0x398c63;return void 0x0===_0xeb5004[_0x5717bb(0x5f9)];}(_0xc373dc);}function _0x23b999(_0x5d780b,{contentType:_0x1fb791,label:_0x591082,remoteId:_0x4ea6a8}){return _0x5d780b+'-'+_0x1fb791+'-'+_0x591082+'-'+_0x4ea6a8;}function _0x35a4f5(_0x47f78f,_0x57b292,_0x1b2f88){return''+_0x47f78f+_0x57b292+_0x1b2f88;}function _0xe86b77(_0x4590a7){const _0x37b632=_0x5a261d;return _0x4590a7===_0x3c7267[_0x37b632(0x214)]?_0x37b632(0x118):_0x37b632(0x76f);}function _0x3fb2eb(_0x471b38,_0x1e6187){const _0x3bf4d9=_0x5a261d;return{'label':_0x471b38[_0x3bf4d9(0x41d)](),'contentType':_0x471b38[_0x3bf4d9(0x72b)](),'remoteId':_0x1e6187[_0x3bf4d9(0x4b3)](),'supportsContentType':_0x1e6187['getSupportedContentTypes']()['includes'](_0x471b38[_0x3bf4d9(0x72b)]())};}!function(_0x555197){const _0x5529c0=_0x5a261d;_0x555197[_0x555197[_0x5529c0(0x11f)]=0x0]='Waiting',_0x555197[_0x555197[_0x5529c0(0x2b6)]=0x1]=_0x5529c0(0x2b6),_0x555197[_0x555197['Rejected']=0x2]='Rejected';}(_0x3f8c0a||(_0x3f8c0a={})),function(_0x333a9f){const _0x3a050f=_0x5a261d;_0x333a9f['Incoming']='in',_0x333a9f[_0x3a050f(0x3a8)]='out';}(_0x3c7267||(_0x3c7267={}));class _0x1e6393{[_0x5a261d(0x6c9)];[_0x5a261d(0x43b)];constructor(_0x33e67f,_0x24fcb5){const _0x37d33d=_0x5a261d;this[_0x37d33d(0x6c9)]=_0x33e67f,this[_0x37d33d(0x43b)]=_0x24fcb5;}[_0x5a261d(0x554)](_0x3ae347){const _0x1c4aa2=_0x5a261d;this[_0x1c4aa2(0x6c9)](_0x3ae347);}async['wait'](){const _0x35483b=_0x5a261d;await this[_0x35483b(0x43b)]();}}class _0x33d835{['callback'];[_0x5a261d(0x43b)];constructor(_0x2c2b61,_0xd58002){const _0x3a424c=_0x5a261d;this[_0x3a424c(0x6c9)]=_0x2c2b61,this[_0x3a424c(0x43b)]=_0xd58002;}async[_0x5a261d(0x554)](_0xf8961d){const _0x5a6b97=_0x5a261d;await this[_0x5a6b97(0x6c9)](_0xf8961d);}async[_0x5a261d(0x1dd)](){const _0x371616=_0x5a261d;await this[_0x371616(0x43b)]();}}function _0x1cd964(_0x378ac6=()=>{},_0x503e25=()=>!0x1,_0x51d177=()=>{}){let _0x912b2a,_0x2c7cad,_0x52f517=0x0;return{get 'size'(){return _0x52f517;},get 'head'(){return _0x912b2a;},get 'tail'(){return _0x2c7cad;},set 'head'(_0x5490ce){_0x912b2a=_0x5490ce;},set 'tail'(_0x56195f){_0x2c7cad=_0x56195f;},'push'(_0x1cbb59,_0x11560c=!0x0){const _0xf53474=a0_0x3f62,_0x240c16={'value':_0x1cbb59};_0x11560c&&_0x503e25(_0x240c16)?_0x378ac6():(_0x2c7cad&&(_0x240c16[_0xf53474(0x246)]=_0x2c7cad,_0x2c7cad[_0xf53474(0x3ec)]=_0x240c16),_0x2c7cad=_0x240c16,_0x912b2a||(_0x912b2a=_0x240c16),_0x52f517+=0x1,_0x11560c&&_0x378ac6());},'pop'(){const _0x4bb605=a0_0x3f62;if(!_0x2c7cad)return;const _0x500283=_0x2c7cad['value'];return _0x2c7cad=_0x2c7cad[_0x4bb605(0x246)],_0x2c7cad&&delete _0x2c7cad[_0x4bb605(0x3ec)],_0x2c7cad||(_0x912b2a=void 0x0),_0x52f517-=0x1,_0x500283;},'unshift'(_0x2c043b,_0xaab31=!0x0){const _0xa866ac=a0_0x3f62,_0x564ace={'value':_0x2c043b};_0xaab31&&_0x503e25(_0x564ace)?_0x378ac6():(_0x912b2a&&(_0x912b2a[_0xa866ac(0x246)]=_0x564ace,_0x564ace[_0xa866ac(0x3ec)]=_0x912b2a),_0x912b2a=_0x564ace,_0x2c7cad||(_0x2c7cad=_0x564ace),_0x52f517+=0x1,_0xaab31&&_0x378ac6());},'shift'(){const _0x5f73b=a0_0x3f62;if(!_0x912b2a)return;const _0x3eceb5=_0x912b2a[_0x5f73b(0x5b9)];return _0x912b2a=_0x912b2a[_0x5f73b(0x3ec)],_0x912b2a&&delete _0x912b2a['previous'],_0x912b2a||(_0x2c7cad=void 0x0),_0x52f517-=0x1,_0x3eceb5;},'clear'(){_0x51d177(),_0x912b2a=void 0x0,_0x2c7cad=void 0x0,_0x52f517=0x0;}};}function _0x1abafd(_0x55eaec,_0x5cecc9=!0x1,_0x17e2f0=()=>{},_0x105c89=()=>!0x1,_0x463803=()=>{}){let _0x203aa2=!0x1;const _0x549577=_0x1cd964(async function(){const _0x1bb9ce=a0_0x3f62;if(!_0x203aa2){for(_0x203aa2=!0x0;_0x549577[_0x1bb9ce(0x1ae)];){const _0x505673=_0x549577[_0x1bb9ce(0x34d)]();if(_0x505673)try{_0x55eaec instanceof _0x1e6393&&_0x55eaec[_0x1bb9ce(0x554)](_0x505673),_0x55eaec instanceof _0x33d835&&await _0x55eaec[_0x1bb9ce(0x554)](_0x505673),_0x17e2f0(_0x505673);}catch(_0x5f2bdf){_0x5cecc9?_0x549577[_0x1bb9ce(0x6bc)](_0x505673,!0x1):_0x549577[_0x1bb9ce(0x355)](_0x505673,!0x1),await _0x55eaec[_0x1bb9ce(0x1dd)]();}}_0x203aa2=!0x1;}},_0x105c89,_0x463803);return _0x549577;}class _0x51778d extends _0x33d500{[_0x5a261d(0xe6)];[_0x5a261d(0x51c)];[_0x5a261d(0x768)]=_0x3c64e2[_0x5a261d(0x268)][_0x5a261d(0x104)];['connectionStateListener']=_0x534eff();[_0x5a261d(0x6ff)]=_0x5c88af();[_0x5a261d(0x612)];[_0x5a261d(0x10f)];[_0x5a261d(0x20b)]=_0x1abafd(new _0x33d835(this[_0x5a261d(0x2c5)]['bind'](this),this[_0x5a261d(0x1b0)]['bind'](this)));[_0x5a261d(0x1b3)];constructor(_0x2b869b,_0x57415b,_0x57c7e5,_0x559fae,_0x1318ac){const _0x427013=_0x5a261d;super(_0x57415b,_0x57c7e5,_0x559fae),this[_0x427013(0xe6)]=_0x2b869b,this['authService']=_0x1318ac;}async[_0x5a261d(0x43d)](){const _0x510448=_0x5a261d;try{const _0x1012d8={'getTokens':async()=>{const _0x350ae8=a0_0x3f62,_0x30d769=await this[_0x350ae8(0x51c)][_0x350ae8(0x393)]();return{'accessToken':(0x0,_0x39197f[_0x350ae8(0x3fb)])(_0x30d769),'idToken':(0x0,_0x39197f['decodeJWT'])(_0x30d769)};}};_0x25bdf7[_0x510448(0x4e7)]['configure']({'API':{'GraphQL':{'endpoint':_0x31e971['aws'][_0x510448(0x1cc)],'region':_0x31e971[_0x510448(0x685)][_0x510448(0x677)],'defaultAuthMode':_0x510448(0x127)}}},{'Auth':{'tokenProvider':_0x1012d8}}),this[_0x510448(0x1b3)]=(0x0,_0x3c64e2[_0x510448(0x188)])(),await this[_0x510448(0x313)](),this[_0x510448(0x10f)]=_0x3edf61[_0x510448(0x3bd)]['listen'](_0x510448(0x3c2),async({payload:_0x39586b})=>{const _0x303a8d=_0x510448;if(_0x39586b[_0x303a8d(0x633)]===_0x3c64e2[_0x303a8d(0x595)]){const _0xda583e=_0x39586b[_0x303a8d(0x5f0)];this[_0x303a8d(0x768)]=_0xda583e[_0x303a8d(0x768)],this[_0x303a8d(0x37d)][_0x303a8d(0x3b8)](_0xda583e[_0x303a8d(0x768)]),this['connectionState']===_0x3c64e2[_0x303a8d(0x268)]['Disconnected']&&(_0x50fe93[_0x303a8d(0x671)](_0x303a8d(0x2d8),{'clusterId':this[_0x303a8d(0x1f3)],'nodeId':this[_0x303a8d(0x41c)](),'nodeType':this['localNode']['type']}),this[_0x303a8d(0x3e3)](),this[_0x303a8d(0x43d)]()),this[_0x303a8d(0x768)]===_0x3c64e2['ConnectionState'][_0x303a8d(0x216)]&&_0x50fe93['warning'](_0x303a8d(0xff),{'clusterId':this[_0x303a8d(0x1f3)],'nodeId':this[_0x303a8d(0x41c)](),'nodeType':this[_0x303a8d(0x783)][_0x303a8d(0x274)]});}});}catch(_0x2eea0e){_0x50fe93[_0x510448(0x671)](_0x510448(0x748),{'clusterId':this[_0x510448(0x1f3)],'nodeId':this[_0x510448(0x41c)](),'nodeType':this[_0x510448(0x783)]['type']});}}[_0x5a261d(0x3e3)](){const _0x1c2911=_0x5a261d;_0x50fe93[_0x1c2911(0x63f)](_0x1c2911(0x103),{'clusterId':this[_0x1c2911(0x1f3)],'nodeId':this[_0x1c2911(0x41c)](),'nodeType':this[_0x1c2911(0x783)][_0x1c2911(0x274)]}),this[_0x1c2911(0x20b)]['clear'](),this['listenUnsubscriber']?.(),this[_0x1c2911(0x612)]?.['unsubscribe'](),delete this['subscription'];}[_0x5a261d(0x4ad)](){const _0x32e3f7=_0x5a261d;return this[_0x32e3f7(0x768)]===_0x3c64e2[_0x32e3f7(0x268)][_0x32e3f7(0x216)];}[_0x5a261d(0x468)](_0x45703b){const _0x4bf14d=_0x5a261d;this['retryQueue'][_0x4bf14d(0x6bc)](_0x45703b);}[_0x5a261d(0x43a)](_0x4cc7ed){const _0x2890b5=_0x5a261d;return this[_0x2890b5(0x6ff)][_0x2890b5(0x313)](_0x4cc7ed);}[_0x5a261d(0x2a8)](){const _0x29c863=_0x5a261d;return[_0x44eeae['ContentType'][_0x29c863(0x50d)]];}async[_0x5a261d(0x1b0)](){const _0x51046d=_0x5a261d;if(!this[_0x51046d(0x4ad)]())return new Promise(_0x34097c=>{const _0x437984=_0x51046d,_0x2a8755=this[_0x437984(0x37d)][_0x437984(0x313)](_0x29a91b=>{const _0x1f41a1=_0x437984;_0x29a91b===_0x3c64e2[_0x1f41a1(0x268)][_0x1f41a1(0x216)]&&(_0x2a8755(),_0x34097c());});});}async[_0x5a261d(0x2c5)](_0x5e62b9){const _0x40a191=_0x5a261d;if(this['connectionState']!==_0x3c64e2['ConnectionState'][_0x40a191(0x216)])throw new Error('AppSync\x20connection\x20not\x20ready');_0x5e62b9['destinationIds']&&0x1===_0x5e62b9[_0x40a191(0x5f9)][_0x40a191(0x553)]?await this[_0x40a191(0x3b8)](_0x5e62b9['destinationIds'][0x0],JSON[_0x40a191(0x414)](_0x5e62b9)):_0x50fe93[_0x40a191(0x671)](_0x40a191(0x130),{'clusterId':this[_0x40a191(0x1f3)],'nodeId':this[_0x40a191(0x41c)](),'nodeType':this[_0x40a191(0x783)][_0x40a191(0x274)]});}async[_0x5a261d(0x3b8)](_0x20f4d1,_0x3bc002){const _0x5afe77=_0x5a261d;if(!this[_0x5afe77(0x1b3)])throw new Error('AppSync\x20client\x20not\x20ready');_0x50fe93[_0x5afe77(0x287)](_0x2d7d49[_0x5afe77(0x6b3)],_0x5afe77(0x525),this[_0x5afe77(0x41c)](),_0x3bc002),await this[_0x5afe77(0x1b3)][_0x5afe77(0x384)]({'query':'\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','variables':{'name':await this[_0x5afe77(0x5fb)](_0x20f4d1),'data':_0x3bc002}});}async[_0x5a261d(0x313)](){const _0x581904=_0x5a261d;if(this[_0x581904(0x612)])return;if(!this['client'])throw new Error(_0x581904(0x150));_0x50fe93['log'](_0x2d7d49[_0x581904(0x6b3)],'AppSync\x20subscribe',this[_0x581904(0x41c)]());const _0x1d9e79=await this['client'][_0x581904(0x384)]({'query':_0x581904(0x3a9),'variables':{'name':await this['getHash']()},'authToken':await this[_0x581904(0x51c)][_0x581904(0x393)]()},{'Authorization':await this[_0x581904(0x51c)][_0x581904(0x393)]()});this[_0x581904(0x612)]=_0x1d9e79['subscribe']({'next':({data:_0xe1eba9})=>{const _0x2bc5cb=_0x581904,_0x24fe11=JSON[_0x2bc5cb(0x574)](_0xe1eba9[_0x2bc5cb(0x313)][_0x2bc5cb(0x5f0)]);!_0x1058d0(_0x24fe11,this['getLocalId']())&&_0x3db9f3(_0x24fe11,this[_0x2bc5cb(0x41c)]())&&this[_0x2bc5cb(0x6ff)][_0x2bc5cb(0x3b8)](_0x24fe11);},'error':console[_0x581904(0x287)]});}async[_0x5a261d(0x5fb)](_0x5edfc0){const _0x342788=_0x5a261d,_0x13c2c2=await crypto['subtle'][_0x342788(0x739)]('SHA-1',new TextEncoder()[_0x342788(0x1b7)](this[_0x342788(0xe6)]+'-'+this['clusterId']+'-'+(_0x5edfc0??this[_0x342788(0x41c)]())));return Array[_0x342788(0x61e)](new Uint8Array(_0x13c2c2))[_0x342788(0x47f)](_0x5cbf2b=>_0x5cbf2b[_0x342788(0x408)](0x10)[_0x342788(0x225)](0x2,'0'))[_0x342788(0x2e3)]('');}}!function(_0x210660){const _0x4a6a45=_0x5a261d;_0x210660[_0x210660[_0x4a6a45(0x636)]=0x0]=_0x4a6a45(0x636),_0x210660[_0x210660[_0x4a6a45(0x676)]=0x1]=_0x4a6a45(0x676),_0x210660[_0x210660[_0x4a6a45(0x13e)]=0x2]=_0x4a6a45(0x13e),_0x210660[_0x210660['RemoteAdd']=0x3]='RemoteAdd',_0x210660[_0x210660[_0x4a6a45(0x310)]=0x4]=_0x4a6a45(0x310);}(_0x230561||(_0x230561={}));const _0x298876=require('uuid'),_0x498af1='0',_0xa78ce9=_0x5a261d(0x44f),_0x489579=0x3fc00;class _0x287e40{['clusterId'];[_0x5a261d(0x783)];[_0x5a261d(0x2a2)];[_0x5a261d(0x596)];[_0x5a261d(0x3cd)];[_0x5a261d(0x2fc)];[_0x5a261d(0x303)];['dataChannel'];[_0x5a261d(0x65f)]=0x1;['systemTopic'];[_0x5a261d(0x215)]=[];[_0x5a261d(0x74f)]=[];[_0x5a261d(0x3c9)];constructor(_0x2d6f4c,_0x5cee0f,_0x4d9720,_0x52dd81,_0x324ff6,_0x74392c){const _0x180fe0=_0x5a261d;this[_0x180fe0(0x1f3)]=_0x2d6f4c,this[_0x180fe0(0x783)]=_0x5cee0f,this[_0x180fe0(0x2a2)]=_0x4d9720,this[_0x180fe0(0x596)]=_0x52dd81,this['connectionType']=_0x324ff6,this[_0x180fe0(0x2fc)]=_0x74392c,this[_0x180fe0(0x303)]=new this[(_0x180fe0(0x2fc))]({'handshakeServers':this['iceServers']}),this[_0x180fe0(0x4e5)]();}[_0x5a261d(0x3e3)](){const _0x76cdb0=_0x5a261d;this[_0x76cdb0(0x62c)]();}[_0x5a261d(0x688)](_0x542f6d){const _0x293575=_0x5a261d;this[_0x293575(0x3cd)]=_0x542f6d;}async[_0x5a261d(0x21e)](_0x4dd969,_0x570c13){const _0x301764=_0x5a261d;if(_0x570c13===this[_0x301764(0x65f)])for(const _0x34cc15 of _0x4dd969){if(!this[_0x301764(0x303)][_0x301764(0x164)])return this[_0x301764(0x777)](_0x34cc15);try{await this[_0x301764(0x303)]['addCandidate'](_0x34cc15);}catch(_0x5bb37f){this[_0x301764(0x777)](_0x34cc15);}}}['isConnected'](){const _0x51bfd7=_0x5a261d;return this['logConnectionState'](),_0x51bfd7(0x66b)===this[_0x51bfd7(0x303)][_0x51bfd7(0x768)]&&[_0x51bfd7(0x66b),_0x51bfd7(0x5b5)]['includes'](this[_0x51bfd7(0x303)][_0x51bfd7(0x1e6)])&&'closed'!==this[_0x51bfd7(0x303)]['signalingState']&&'open'===this[_0x51bfd7(0x391)]?.[_0x51bfd7(0x301)];}[_0x5a261d(0x126)](_0x11e35a){const _0xcaf607=_0x5a261d;this[_0xcaf607(0x30a)]=_0x11e35a;}['unregisterSystemPublisher'](){delete this['systemTopic'];}[_0x5a261d(0x4c8)](_0x86d8e0){const _0x35ffb8=_0x5a261d;this[_0x35ffb8(0x62c)](),this['connection']=new this[(_0x35ffb8(0x2fc))]({'handshakeServers':this[_0x35ffb8(0x596)]}),_0x86d8e0?this['currentVersion']=_0x86d8e0:this[_0x35ffb8(0x65f)]+=0x1,this[_0x35ffb8(0x4e5)]();}[_0x5a261d(0x373)](){const _0x549982=_0x5a261d;this[_0x549982(0x74f)][_0x549982(0x675)](_0x331e87=>{const _0x1d44f2=_0x549982;try{this[_0x1d44f2(0x303)][_0x1d44f2(0x5f5)](_0x331e87);}catch(_0x171ea5){}}),this[_0x549982(0x74f)]=[];}[_0x5a261d(0x38c)](_0x256aaf,_0x38db5b){const _0xefb9e6=_0x5a261d;if(!this['systemTopic'])throw new _0x2826e7(_0x2826e7[_0xefb9e6(0x776)]['MissingSystemTopic'],{'content':_0x256aaf});const _0x8a785={'sourceId':this[_0xefb9e6(0x783)][_0xefb9e6(0x591)](),'destinationIds':[this['remoteId']],'propagate':this[_0xefb9e6(0x3cd)]!==_0x4c1abf['Core'],'retry':this['connectionType']!==_0x4c1abf[_0xefb9e6(0x33f)],'messageType':_0x3a54c1['PeerConnection'],'content':_0x256aaf};_0x38db5b&&(_0x8a785['uuid']=_0x38db5b),this[_0xefb9e6(0x30a)][_0xefb9e6(0x3b8)](_0x8a785);}[_0x5a261d(0x4e5)](){const _0x553f93=_0x5a261d;this['connection'][_0x553f93(0x4a5)]=()=>{const _0x925817=_0x553f93;_0x925817(0x409)===this[_0x925817(0x303)][_0x925817(0x548)]&&this['handshakeCandidates']['length']>0x0&&(this[_0x925817(0x3c9)]&&clearTimeout(this[_0x925817(0x3c9)]),this[_0x925817(0x3c9)]=setTimeout(()=>{const _0x1b925d=_0x925817;delete this[_0x1b925d(0x3c9)],this[_0x1b925d(0x2b2)](),this[_0x1b925d(0x215)]=[];},0x1f4));},this['connection'][_0x553f93(0x4bb)]=_0x5e691b=>{const _0x27c484=_0x553f93;_0x5e691b[_0x27c484(0x5e7)]&&this[_0x27c484(0x215)][_0x27c484(0x6bc)](_0x5e691b[_0x27c484(0x5e7)]);};}['stopConnection'](){const _0x4fd873=_0x5a261d;clearTimeout(this[_0x4fd873(0x3c9)]),delete this['handshakeDebounce'],this[_0x4fd873(0x215)]=[],this[_0x4fd873(0x74f)]=[],this[_0x4fd873(0x391)]&&(this['dataChannel'][_0x4fd873(0x43a)]=null,this[_0x4fd873(0x391)][_0x4fd873(0x3e7)]=null,this['dataChannel'][_0x4fd873(0x3e3)](),delete this[_0x4fd873(0x391)]),this[_0x4fd873(0x303)]['onGatheringStateChange']=null,this['connection'][_0x4fd873(0x4bb)]=null,this[_0x4fd873(0x303)][_0x4fd873(0x74d)]=null,this[_0x4fd873(0x303)]['onConnectionStateChange']=null,this[_0x4fd873(0x303)][_0x4fd873(0x1c9)]=null,this[_0x4fd873(0x303)]['onDataChannel']=null,this[_0x4fd873(0x303)][_0x4fd873(0x3e3)]();}[_0x5a261d(0x777)](_0x25301d){const _0x39eb0c=_0x5a261d;this[_0x39eb0c(0x74f)]['push'](_0x25301d);}[_0x5a261d(0x1e3)](){const _0xabc012=_0x5a261d;_0x50fe93[_0xabc012(0x287)](_0x2d7d49[_0xabc012(0x268)],_0xabc012(0x2c4),{'localId':this['localNode']['getId'](),'remoteId':this['remoteId'],'connectionState':this[_0xabc012(0x303)]['connectionState'],'handshakeState':this[_0xabc012(0x303)][_0xabc012(0x1e6)],'signalingState':this[_0xabc012(0x303)][_0xabc012(0x5ee)],'dataChannelState':this[_0xabc012(0x391)]?.['state']});}}function _0xbbf6c7(_0x38c062,_0x1c4c60){const _0x541c10=_0x5a261d;_0x1c4c60[_0x541c10(0x3b8)]({'sourceId':_0x4f18fa,'messageType':_0x3a54c1[_0x541c10(0x3a2)],'content':_0x38c062});}class _0x2f78ea{static [_0x5a261d(0x156)];[_0x5a261d(0x6dc)]=[];[_0x5a261d(0x45c)];constructor(){setInterval(()=>{const _0xbb2e55=a0_0x3f62;this[_0xbb2e55(0x6dc)][_0xbb2e55(0x675)](_0x1be93c=>{const _0x2bb380=_0xbb2e55;if(Date['now']()-_0x1be93c[_0x2bb380(0x43f)]>_0x1be93c[_0x2bb380(0x617)]){try{_0x1be93c['callback']();}catch(_0xdc0f5a){}_0x1be93c[_0x2bb380(0x43f)]=Date[_0x2bb380(0x4e6)]();}});},0x64);}static[_0x5a261d(0x3dc)](){const _0x4d4ffe=_0x5a261d;return _0x2f78ea['instance']||(_0x2f78ea[_0x4d4ffe(0x156)]=new _0x2f78ea()),_0x2f78ea[_0x4d4ffe(0x156)];}[_0x5a261d(0x3ad)](_0x5e8462){const _0xf3aa6a=_0x5a261d,_0x1aeb7c=this[_0xf3aa6a(0x539)](_0x5e8462),_0x3d89cc=_0x5e8462['createGain']();_0x3d89cc&&_0x1aeb7c&&(_0x3d89cc['gain']['value']=0.001,_0x1aeb7c['connect'](_0x3d89cc),_0x3d89cc[_0xf3aa6a(0x43d)](_0x5e8462[_0xf3aa6a(0x286)]),_0x1aeb7c[_0xf3aa6a(0x17d)]());}[_0x5a261d(0x604)](){const _0x1d07a4=_0x5a261d;this[_0x1d07a4(0x45c)]&&(this[_0x1d07a4(0x45c)][_0x1d07a4(0x213)](),this[_0x1d07a4(0x45c)][_0x1d07a4(0x547)](),this[_0x1d07a4(0x45c)]=void 0x0);}[_0x5a261d(0x1dd)](_0x31bb15){return new Promise(_0x259c98=>{setTimeout(_0x259c98,_0x31bb15);});}['setInterval'](_0x2a3d44,_0x526cf3){const _0x401746=_0x5a261d;return this[_0x401746(0x6dc)][_0x401746(0x6bc)]({'callback':_0x2a3d44,'interval':_0x526cf3,'lastExecuted':Date['now']()}),()=>{const _0x4004ab=_0x401746;this['parameters']=this[_0x4004ab(0x6dc)][_0x4004ab(0x279)](_0xaa4a10=>_0xaa4a10['callback']!==_0x2a3d44);};}['createConstantSource'](_0x487cfb){const _0x20ec61=_0x5a261d;if(_0x487cfb['createConstantSource'])return _0x487cfb['createConstantSource']();const _0x1036af=_0x487cfb[_0x20ec61(0x6df)](),_0x151400=_0x487cfb[_0x20ec61(0x136)](0x1,0x1,_0x487cfb['sampleRate']);return _0x151400[_0x20ec61(0x520)](0x0)[0x0]=0xa,_0x1036af[_0x20ec61(0x6ca)]=_0x151400,_0x1036af['loop']=!0x0,_0x1036af;}}const _0x16ea6e=_0x2f78ea[_0x5a261d(0x3dc)](),_0x2a1294=[_0x5a261d(0x3a2),_0x5a261d(0x432),'Content','Subscription',_0x5a261d(0x39a),_0x5a261d(0x327),_0x5a261d(0x378)],_0x5c17a2=[[_0x5a261d(0x4cc),_0x5a261d(0x6c4),'Handshake',_0x5a261d(0x437),_0x5a261d(0x2ac),_0x5a261d(0x18f),_0x5a261d(0x496),_0x5a261d(0x39a),_0x5a261d(0x754)],[_0x5a261d(0x5ec),_0x5a261d(0x22f),_0x5a261d(0x41b),_0x5a261d(0x152)],['PublishMediaStream',_0x5a261d(0x419),_0x5a261d(0x46d),'UpdateMediaStream',_0x5a261d(0x30f),_0x5a261d(0x124),_0x5a261d(0x4e8),_0x5a261d(0x4fb),'CloseKeyValueDatabase',_0x5a261d(0x200),_0x5a261d(0x5ae),_0x5a261d(0x438),'RemoteMediaStreamTrackFail',_0x5a261d(0x311),_0x5a261d(0x2ca),_0x5a261d(0x4df),_0x5a261d(0x466),'KeyValueDatabaseStats'],[_0x5a261d(0x46d),_0x5a261d(0x6f1),'UnsubscribeMediaStream','NeedMediaStream','RestartNeedMediaStream',_0x5a261d(0x66d),_0x5a261d(0x55a),_0x5a261d(0x4c6)],['StreamReport',_0x5a261d(0x72a)],[_0x5a261d(0x406)],[_0x5a261d(0x378),_0x5a261d(0x2f9)]];function _0x2a0810(_0x5dfed5){const _0x978c25=_0x5a261d;return{..._0x5dfed5,'systemMessageType':_0x2a1294[_0x5dfed5[_0x978c25(0x1f5)]],'systemContentMessageType':_0x5c17a2[_0x5dfed5[_0x978c25(0x1f5)]][_0x5dfed5[_0x978c25(0x365)][_0x978c25(0x274)]]};}const _0xd2adce={'hour':_0x5a261d(0x75a),'minute':'2-digit','second':_0x5a261d(0x75a)};function _0x41302e(_0x4a7cb4,_0x122922){const _0x51185a=_0x5a261d,_0x3e152a=(function(){const _0x47b0a5=a0_0x3f62,_0x13947f=new Date(),_0x1959b1=_0x13947f['getMilliseconds'](),_0x3f4405=_0x13947f[_0x47b0a5(0x2f7)](_0x47b0a5(0x68d),_0xd2adce)['match'](/\d\d:\d\d:\d\d/)?.[0x0];return _0x3f4405+'.'+(_0x1959b1>0x64?''+_0x1959b1:_0x1959b1>0xa?'0'+_0x1959b1:'00'+_0x1959b1);}()),{sourceId:_0x4e956d,destinationIds:_0x3ea267,systemMessageType:_0x2b3063,systemContentMessageType:_0x4083b9}=_0x2a0810(_0x4a7cb4);return _0x3e152a+_0x51185a(0x6fc)+_0x122922+'\x20-\x20'+(_0x4e956d===_0x122922?_0x51185a(0x670)+_0x2b3063+_0x51185a(0x120)+(_0x3ea267?''+_0x3ea267:'everyone'):_0x4a7cb4[_0x51185a(0x6f8)]===_0x4f18fa?_0x51185a(0x3d3)+_0x2b3063+'\x27':(_0x3ea267?'':_0x51185a(0x30b))+_0x51185a(0x1be)+_0x2b3063+'\x27\x20from\x20'+_0x4e956d)+_0x51185a(0x221)+_0x4083b9+'\x27\x20payload:';}class _0x15869b extends _0x287e40{['messageCallback']=_0x534eff();['trackCallback']=_0x534eff();['removeTrackCallback']=_0x534eff();[_0x5a261d(0x4ee)]=new Map();[_0x5a261d(0x212)]=new Map();[_0x5a261d(0x723)];[_0x5a261d(0x35f)]=0x0;[_0x5a261d(0x6d8)]={'messages':{'total':0x0}};['bytesReceived']=0x0;['timeReceiving']=0x0;['close'](){const _0x2c7440=_0x5a261d;this[_0x2c7440(0x39c)](),this[_0x2c7440(0x4ee)][_0x2c7440(0x220)](),super[_0x2c7440(0x3e3)]();}async['handleOffer'](_0x533e81,_0x295238){const _0x355102=_0x5a261d;this[_0x355102(0x65f)]=_0x295238,this['clearWaitSuccess']();const _0x2f39d9=await this[_0x355102(0x303)][_0x355102(0x2cf)](_0x533e81);this[_0x355102(0x373)]();const _0x5658e0=(0x0,_0x298876['v4'])();this[_0x355102(0x38c)]({'type':_0x48dd43['Answer'],'answer':_0x2f39d9,'version':_0x295238,'connectionType':this['connectionType']},_0x5658e0),this[_0x355102(0x3cd)]===_0x4c1abf[_0x355102(0x33f)]&&(this[_0x355102(0x723)]=_0x16ea6e[_0x355102(0x18c)](()=>{const _0x43918f=_0x355102;this[_0x43918f(0x38c)]({'type':_0x48dd43['Answer'],'answer':_0x2f39d9,'version':_0x295238,'connectionType':this[_0x43918f(0x3cd)]},_0x5658e0);},0x1388));}[_0x5a261d(0x367)](){const _0x4de176=_0x5a261d;this[_0x4de176(0x39c)]();}[_0x5a261d(0x486)](_0x1c97cd){const _0x3b3368=_0x5a261d;this[_0x3b3368(0x4c8)](_0x1c97cd),this[_0x3b3368(0x38c)]({'type':_0x48dd43[_0x3b3368(0x18f)]});}async['collectStats'](){const _0x202f3e=_0x5a261d;this['systemTopic']&&(await this[_0x202f3e(0x303)]['collectReceiversStats'](this[_0x202f3e(0x4ee)],(_0x30a16e,_0x4acf76)=>{const _0x2d983e=_0x202f3e;_0xbbf6c7({'type':_0x48dd43['Stats'],'streamId':_0x4acf76,'nodeId':this[_0x2d983e(0x2a2)],'stats':_0x30a16e},this[_0x2d983e(0x30a)]);}),this['systemTopic'][_0x202f3e(0x3b8)]({'sourceId':_0x4f18fa,'messageType':_0x3a54c1['PeerConnection'],'content':{'type':_0x48dd43['Stats'],'nodeId':this[_0x202f3e(0x2a2)],'stats':{'origin':_0x16cef7[_0x202f3e(0x6b4)],'timestamp':Date[_0x202f3e(0x4e6)](),'messagesReceived':this[_0x202f3e(0x35f)],'bytesReceived':this['bytesReceived'],'timeReceiving':this[_0x202f3e(0x4db)],'systemMessages':this[_0x202f3e(0x6d8)]}}}));}['onMessage'](_0x50731b){const _0x500cc5=_0x5a261d;return this['messageCallback'][_0x500cc5(0x313)](_0x50731b);}['onTrack'](_0x928c8d){const _0x5e8e21=_0x5a261d;return this[_0x5e8e21(0x1fd)][_0x5e8e21(0x313)](({track:_0x2c7a4d,stream:_0x3a053d})=>_0x928c8d(_0x2c7a4d,_0x3a053d));}[_0x5a261d(0x427)](_0x354f3e){const _0x5db078=_0x5a261d;return this[_0x5db078(0x4c1)][_0x5db078(0x313)](({track:_0x4b4d8b,stream:_0x174c41})=>_0x354f3e(_0x4b4d8b,_0x174c41));}[_0x5a261d(0x4c8)](_0x3a6af3){const _0x1c8477=_0x5a261d;this[_0x1c8477(0x39c)](),this[_0x1c8477(0x4ee)][_0x1c8477(0x675)](_0x47bd35=>{const _0xc57508=_0x1c8477;_0x47bd35[_0xc57508(0x220)]();}),super[_0x1c8477(0x4c8)](_0x3a6af3);}['sendIceCandidates'](){const _0x53c299=_0x5a261d;this[_0x53c299(0x38c)]({'type':_0x48dd43[_0x53c299(0x49b)],'candidates':this[_0x53c299(0x215)],'origin':_0x16cef7[_0x53c299(0x6b4)],'version':this[_0x53c299(0x65f)],'connectionType':this[_0x53c299(0x3cd)]});}[_0x5a261d(0x4e5)](){const _0x3e4ca7=_0x5a261d;super['setupConnectionEvents'](),this['connection'][_0x3e4ca7(0x1c9)]=_0x3afd0a=>{const _0x1e3663=_0x3e4ca7;_0x50fe93['log'](_0x2d7d49['Connection'],_0x1e3663(0x787),this['localNode'][_0x1e3663(0x591)](),_0x3afd0a),_0x3afd0a['streams'][0x0][_0x1e3663(0x23b)]=_0x515b45=>{const _0x47ca30=_0x1e3663;this[_0x47ca30(0x4ee)][_0x47ca30(0x568)](_0x3afd0a[_0x47ca30(0x257)][0x0]['id'])?.[_0x47ca30(0x20a)](_0x515b45[_0x47ca30(0x363)]),0x0===this[_0x47ca30(0x4ee)][_0x47ca30(0x568)](_0x3afd0a[_0x47ca30(0x257)][0x0]['id'])?.['size']&&this[_0x47ca30(0x4ee)]['delete'](_0x3afd0a[_0x47ca30(0x257)][0x0]['id']),this[_0x47ca30(0x4c1)]['publish']({'track':_0x515b45[_0x47ca30(0x363)],'stream':_0x3afd0a[_0x47ca30(0x257)][0x0]});},this['receivers'][_0x1e3663(0x644)](_0x3afd0a['streams'][0x0]['id'])||this[_0x1e3663(0x4ee)][_0x1e3663(0x1a1)](_0x3afd0a[_0x1e3663(0x257)][0x0]['id'],new Set()),this[_0x1e3663(0x4ee)][_0x1e3663(0x568)](_0x3afd0a['streams'][0x0]['id'])['add'](_0x3afd0a[_0x1e3663(0x363)]),this[_0x1e3663(0x1fd)][_0x1e3663(0x3b8)]({'track':_0x3afd0a[_0x1e3663(0x363)],'stream':_0x3afd0a[_0x1e3663(0x257)][0x0]});},this[_0x3e4ca7(0x303)]['onDataChannel']=_0x45e1ee=>{const _0x56f788=_0x3e4ca7;this['dataChannel']=_0x45e1ee[_0x56f788(0x658)],this[_0x56f788(0x391)][_0x56f788(0x43a)]=_0x20917c=>{const _0x145dbd=_0x56f788;if(_0x20917c[_0x145dbd(0x5f0)]!==_0x498af1)this[_0x145dbd(0x74b)](_0x20917c[_0x145dbd(0x5f0)]);else{if(!this['dataChannel'])return void _0x50fe93[_0x145dbd(0x671)]('missing-datachannel',{'clusterId':this[_0x145dbd(0x1f3)],'nodeId':this['localNode'][_0x145dbd(0x591)](),'nodeType':this['localNode'][_0x145dbd(0x274)],'remoteId':this[_0x145dbd(0x2a2)],'data':{'connection':_0x145dbd(0x619)}});if(_0x145dbd(0x625)!==this[_0x145dbd(0x391)][_0x145dbd(0x301)])return;this[_0x145dbd(0x391)][_0x145dbd(0x468)]('1');}};};}['handleOnMessage'](_0x25464e){const _0x3864aa=_0x5a261d;if(_0x3864aa(0x747)==typeof _0x25464e&&_0x25464e['startsWith'](_0xa78ce9))return this[_0x3864aa(0x35f)]+=0x1,this[_0x3864aa(0x608)]+=_0x25464e[_0x3864aa(0x553)],this[_0x3864aa(0x28c)](_0x25464e);setTimeout(()=>{const _0x3f9dd4=_0x3864aa,_0x3890c4=Date[_0x3f9dd4(0x4e6)]();let _0x118db1;if((_0x25464e instanceof ArrayBuffer||_0x25464e[_0x3f9dd4(0x553)]<=_0x489579)&&(this[_0x3f9dd4(0x35f)]+=0x1,this[_0x3f9dd4(0x608)]+=_0x25464e instanceof ArrayBuffer?_0x25464e[_0x3f9dd4(0xf9)]:_0x25464e[_0x3f9dd4(0x553)]),_0x25464e instanceof ArrayBuffer){const [_0xc3abab,_0x519832]=this['splitParts'](_0x25464e);_0x118db1=_0xc3abab,_0x118db1[_0x3f9dd4(0x365)][_0x3f9dd4(0x5f0)]=_0x519832;}else _0x118db1=JSON[_0x3f9dd4(0x574)](_0x25464e);if(0x0===_0x118db1['topicLabel']){this[_0x3f9dd4(0x6d8)][_0x3f9dd4(0x4d1)][_0x3f9dd4(0x6cd)]+=0x1;const {systemMessageType:_0x5a2f09,systemContentMessageType:_0x17cf03}=_0x2a0810(_0x118db1);this[_0x3f9dd4(0x6d8)][_0x5a2f09]||(this['systemMessagesReceived'][_0x5a2f09]={[_0x17cf03]:0x0}),this[_0x3f9dd4(0x6d8)][_0x5a2f09][_0x17cf03]||(this[_0x3f9dd4(0x6d8)][_0x5a2f09][_0x17cf03]=0x0),this[_0x3f9dd4(0x6d8)][_0x5a2f09][_0x3f9dd4(0x6cd)]||(this['systemMessagesReceived'][_0x5a2f09][_0x3f9dd4(0x6cd)]=0x0),this[_0x3f9dd4(0x6d8)][_0x5a2f09][_0x17cf03]+=0x1,this['systemMessagesReceived'][_0x5a2f09][_0x3f9dd4(0x6cd)]+=0x1;}this[_0x3f9dd4(0x4dd)]['publish'](_0x118db1),this[_0x3f9dd4(0x4db)]+=Date[_0x3f9dd4(0x4e6)]()-_0x3890c4;},0x0);}['handleChunkMessage'](_0x296e82){const _0x212ea5=_0x5a261d,_0x138a68=_0x296e82['split'](';'),_0x3198e0=_0x138a68[0x1],_0x17ec8a=parseInt(_0x138a68[0x2],0xa),_0x491ed3=parseInt(_0x138a68[0x3],0xa),_0x15db52=_0x296e82[_0x212ea5(0x476)](_0xa78ce9+';'+_0x3198e0+';'+_0x17ec8a+';'+_0x491ed3+';','');this[_0x212ea5(0x212)][_0x212ea5(0x644)](_0x3198e0)||this[_0x212ea5(0x212)][_0x212ea5(0x1a1)](_0x3198e0,[]);const _0x2b2d2e=this[_0x212ea5(0x212)]['get'](_0x3198e0);_0x2b2d2e[_0x17ec8a]=_0x15db52,_0x2b2d2e[_0x212ea5(0x553)]===_0x491ed3&&(this[_0x212ea5(0x74b)](_0x2b2d2e[_0x212ea5(0x2e3)]('')),this['chunks'][_0x212ea5(0x20a)](_0x3198e0));}[_0x5a261d(0x39c)](){const _0x25ef66=_0x5a261d;this['waitSuccess']?.(),delete this[_0x25ef66(0x723)];}['arrayBufferToObject'](_0x4b619f){const _0x2839ca=_0x5a261d,_0x13254f=new TextDecoder()[_0x2839ca(0x4fd)](_0x4b619f);return JSON[_0x2839ca(0x574)](_0x13254f);}[_0x5a261d(0x175)](_0x2fd8b9){const _0x20c5da=_0x5a261d,_0x442621=new Uint8Array(_0x2fd8b9[_0x20c5da(0x5b0)](0x0,0x4)),_0x1305b6=new Uint32Array(_0x442621[_0x20c5da(0x6ca)])[0x0],_0x4a6b67=new Uint8Array(_0x2fd8b9[_0x20c5da(0x5b0)](0x4,0x4+_0x1305b6)),_0x26f307=new Uint8Array(_0x2fd8b9[_0x20c5da(0x5b0)](0x4+_0x1305b6));return[this[_0x20c5da(0x746)](_0x4a6b67[_0x20c5da(0x6ca)]),_0x26f307[_0x20c5da(0x6ca)]];}}const _0x1265ff=0xc350;var _0x5f1c76,_0x24c720;!function(_0x1874dd){const _0x46631d=_0x5a261d;_0x1874dd[_0x1874dd[_0x46631d(0x56a)]=0x0]=_0x46631d(0x56a),_0x1874dd[_0x1874dd['Medium']=0x1]=_0x46631d(0x25d),_0x1874dd[_0x1874dd['Low']=0x2]=_0x46631d(0x3d6);}(_0x5f1c76||(_0x5f1c76={}));class _0xf896d1 extends _0x287e40{[_0x5a261d(0xe5)];[_0x5a261d(0x5de)];['senders']=new Map();[_0x5a261d(0x6ac)];[_0x5a261d(0x69e)];[_0x5a261d(0x77a)];['isReconnecting']=!0x1;[_0x5a261d(0x649)];[_0x5a261d(0x556)];[_0x5a261d(0x326)];['retryQueue']=function(e,t=_0x5f1c76,s=!0x1){const _0x30a2f9=_0x5a261d;let i=!0x1;const n=[];async function o(){const _0x12de0e=a0_0x3f62;if(!i){for(i=!0x0;n[_0x12de0e(0x211)](e=>e[_0x12de0e(0x1ae)]);){let t,i=0x0;for(const [e,s]of n[_0x12de0e(0x580)]())if(t=s[_0x12de0e(0x34d)](),i=e,t)break;if(t)try{if(e instanceof _0x1e6393&&e[_0x12de0e(0x554)](t),e instanceof _0x33d835&&await e[_0x12de0e(0x554)](t),n[_0x12de0e(0x5b0)](-0x1)['some'](e=>e[_0x12de0e(0x1ae)]))continue;const s=n[_0x12de0e(0x553)]-0x1;i===s&&n[s][_0x12de0e(0x1ae)]&&await _0x16ea6e[_0x12de0e(0x1dd)](0x0);}catch(o){s?n[i][_0x12de0e(0x6bc)](t,!0x1):n[i][_0x12de0e(0x355)](t,!0x1),await e[_0x12de0e(0x1dd)]();}}i=!0x1;}}return Object['values'](t)[_0x30a2f9(0x675)](e=>{const _0x3b825=_0x30a2f9;_0x3b825(0x747)!=typeof e&&(n[e]=_0x1cd964(o));}),{'queues':n};}(new _0x1e6393(this[_0x5a261d(0x2c5)][_0x5a261d(0x72e)](this),this[_0x5a261d(0x19e)][_0x5a261d(0x72e)](this)));['messagesSent']=0x0;[_0x5a261d(0xf7)]=0x0;[_0x5a261d(0x47d)]=0x0;[_0x5a261d(0x316)]=0x0;[_0x5a261d(0x386)];constructor(_0x28eef0,_0x166622,_0x5e6e64,_0x358cfc,_0x5be168,_0x57dfa3,_0x1df4f8,_0x29c0e0){const _0x3f2eac=_0x5a261d;super(_0x28eef0,_0x166622,_0x5e6e64,_0x358cfc,_0x5be168,_0x29c0e0),this[_0x3f2eac(0xe5)]=_0x57dfa3,this[_0x3f2eac(0x5de)]=_0x1df4f8;}[_0x5a261d(0x3e3)](){const _0x502949=_0x5a261d;this[_0x502949(0x634)](),this[_0x502949(0x543)](),delete this['lastHeartbeat'],this[_0x502949(0x709)](),this[_0x502949(0x25e)](),this[_0x502949(0x65d)](),this[_0x502949(0xec)][_0x502949(0x220)](),this['isReconnecting']=!0x1,this['retryQueue']['queues'][_0x502949(0x675)](_0x509999=>_0x509999[_0x502949(0x220)]()),this[_0x502949(0x426)](),super['close']();}['isConnected'](){const _0x3db90e=_0x5a261d;return!!this[_0x3db90e(0x77a)]&&super[_0x3db90e(0x4ad)]()&&Date[_0x3db90e(0x4e6)]()-this['lastHeartbeat']<0x3a98;}async[_0x5a261d(0x1ef)](){const _0x366934=_0x5a261d;this['systemTopic']&&(await this[_0x366934(0x303)][_0x366934(0x745)](this['senders'],(_0x299477,_0x577a0f)=>{const _0x385c78=_0x366934;_0xbbf6c7({'type':_0x48dd43[_0x385c78(0x39a)],'streamId':_0x577a0f,'nodeId':this[_0x385c78(0x2a2)],'stats':_0x299477},this[_0x385c78(0x30a)]);}),this['systemTopic']['publish']({'sourceId':_0x4f18fa,'messageType':_0x3a54c1[_0x366934(0x3a2)],'content':{'type':_0x48dd43[_0x366934(0x39a)],'nodeId':this['remoteId'],'stats':{'origin':_0x16cef7[_0x366934(0x306)],'timestamp':Date[_0x366934(0x4e6)](),'messagesSent':this[_0x366934(0x2e8)],'bytesSent':this['bytesSent'],'timeSending':this[_0x366934(0x47d)],'roundTripTime':this[_0x366934(0x316)]}}}));}async['createOffer'](_0x692254){const _0x5ebb24=_0x5a261d;_0x50fe93['log'](_0x2d7d49[_0x5ebb24(0x17f)],_0x5ebb24(0x491),this['localNode'][_0x5ebb24(0x591)](),this[_0x5ebb24(0x2a2)]),this[_0x5ebb24(0x709)](),this[_0x5ebb24(0x25e)](),this[_0x5ebb24(0x65d)](),this[_0x5ebb24(0x649)]=setTimeout(()=>{const _0x4bf0a7=_0x5ebb24;this[_0x4bf0a7(0x230)]();},0x7530),this[_0x5ebb24(0x391)]||(this['dataChannel']=this[_0x5ebb24(0x303)]['createDataChannel']('data'),this['dataChannel']['bufferedAmountLowThreshold']=0x10000,this['dataChannel'][_0x5ebb24(0x3e7)]=()=>{const _0x311249=_0x5ebb24;this[_0x311249(0x386)]=setTimeout(()=>{const _0x38bc9a=_0x311249;delete this[_0x38bc9a(0x386)],[_0x38bc9a(0x4b8),_0x38bc9a(0x625)][_0x38bc9a(0x49a)](this['dataChannel']?.['state']??'')||this[_0x38bc9a(0x230)]();},0xfa);});const _0x2dff17=await this['connection'][_0x5ebb24(0x2cd)](_0x692254);this['lastHeartbeat']||(this[_0x5ebb24(0x77a)]=Date[_0x5ebb24(0x4e6)]());const _0xd77b1e=(0x0,_0x298876['v4'])();this[_0x5ebb24(0x38c)]({'type':_0x48dd43[_0x5ebb24(0x4cc)],'offer':_0x2dff17,'version':this['currentVersion'],'connectionType':this[_0x5ebb24(0x3cd)]},_0xd77b1e),this[_0x5ebb24(0x3cd)]===_0x4c1abf[_0x5ebb24(0x33f)]&&(this[_0x5ebb24(0x69e)]=_0x16ea6e[_0x5ebb24(0x18c)](()=>{const _0x5f3483=_0x5ebb24;this[_0x5f3483(0x38c)]({'type':_0x48dd43[_0x5f3483(0x4cc)],'offer':_0x2dff17,'version':this['currentVersion'],'connectionType':this['connectionType']},_0xd77b1e);},0x1388));}async[_0x5a261d(0x198)](_0x3ea7cc,_0xa74f6d){const _0x2e23f7=_0x5a261d;if(_0xa74f6d===this[_0x2e23f7(0x65f)]){this['clearWaitAnswer']();try{await this[_0x2e23f7(0x303)][_0x2e23f7(0x198)](_0x3ea7cc,this[_0x2e23f7(0x2cd)][_0x2e23f7(0x72e)](this)),this[_0x2e23f7(0x373)](),this[_0x2e23f7(0x25e)](),this['startHeartbeat']();}catch(_0x5b602f){this['handleDisconnect']();}}}[_0x5a261d(0x468)](_0x94c0a3){const _0x1c147e=_0x5a261d;if(!this['dataChannel'])throw new _0x2826e7(_0x2826e7[_0x1c147e(0x776)][_0x1c147e(0x674)],{'message':_0x1c147e(0x6eb),'localId':this[_0x1c147e(0x783)]['getId'](),'remoteId':this[_0x1c147e(0x2a2)],'eventMessage':_0x94c0a3});if(_0x1c147e(0x625)!==this[_0x1c147e(0x391)][_0x1c147e(0x301)])throw new _0x2826e7(_0x2826e7[_0x1c147e(0x776)]['InvalidDataChannel'],{'message':_0x1c147e(0x368),'localId':this['localNode']['getId'](),'remoteId':this['remoteId'],'eventMessage':_0x94c0a3});let _0x5ae540;if(_0x94c0a3[_0x1c147e(0x365)][_0x1c147e(0x5f0)]instanceof ArrayBuffer){const _0x4316cb=_0x94c0a3[_0x1c147e(0x365)][_0x1c147e(0x5f0)];_0x94c0a3={..._0x94c0a3,'content':{..._0x94c0a3[_0x1c147e(0x365)],'data':void 0x0}},_0x5ae540=this[_0x1c147e(0x123)](_0x94c0a3,_0x4316cb);}else _0x5ae540=JSON[_0x1c147e(0x414)](_0x94c0a3);if(_0x1c147e(0x747)==typeof _0x5ae540&&_0x5ae540[_0x1c147e(0x553)]>_0x489579)return this[_0x1c147e(0x271)](_0x94c0a3,_0x5ae540);const _0x2b22de=0x0===_0x94c0a3[_0x1c147e(0x742)]&&[_0x3a54c1[_0x1c147e(0x473)],_0x3a54c1['PeerConnection']][_0x1c147e(0x49a)](_0x94c0a3[_0x1c147e(0x1f5)])?_0x5f1c76[_0x1c147e(0x56a)]:_0x94c0a3 instanceof ArrayBuffer?_0x5f1c76[_0x1c147e(0x3d6)]:_0x5f1c76[_0x1c147e(0x25d)];this['sendWithRetry'](_0x5ae540,_0x2b22de);}[_0x5a261d(0x58d)](_0x3a534e,_0x4f22fc,_0x2565f2,_0x5a3589){const _0x1d4615=_0x5a261d,_0x36c262=(_0x55f23e=this['maxFps'],_0x3afec6=this[_0x1d4615(0x5de)],Math[_0x1d4615(0x601)](0xe1000*_0x55f23e*_0x3afec6));var _0x55f23e,_0x3afec6;const _0x46a6fd=this[_0x1d4615(0xec)][_0x1d4615(0x568)](_0x4f22fc['id'])||{'stream':_0x4f22fc,'priority':_0x2565f2,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x36c262,'maxBitrate':_0x36c262,'framerate':this['maxFps'],'maxFramerate':this[_0x1d4615(0xe5)],'tracks':{},'params':_0x5a3589},_0xb01943=_0x46a6fd['tracks'][_0x3a534e[_0x1d4615(0x4a0)]]||{'track':_0x3a534e};if(_0xb01943['sender']?(_0xb01943[_0x1d4615(0x363)]=_0x3a534e,this[_0x1d4615(0x303)]['replaceTrack'](_0x3a534e,_0xb01943[_0x1d4615(0x1a7)])):_0xb01943[_0x1d4615(0x1a7)]=this[_0x1d4615(0x303)][_0x1d4615(0x58d)](_0x3a534e,_0x4f22fc),_0x46a6fd[_0x1d4615(0x255)][_0x3a534e[_0x1d4615(0x4a0)]]=_0xb01943,_0x5a3589&&(_0x46a6fd[_0x1d4615(0x107)]=_0x5a3589),_0x5a3589&&_0x1d4615(0x135)===_0x5a3589['kind']&&_0x5a3589['resolution']&&_0x5a3589[_0x1d4615(0x5f8)]&&(_0x46a6fd[_0x1d4615(0x56b)]=this['getResolutionScale'](_0x5a3589[_0x1d4615(0x2ff)],_0x5a3589[_0x1d4615(0x5f8)]),_0x46a6fd[_0x1d4615(0x1d6)]=_0x46a6fd[_0x1d4615(0x56b)],_0x46a6fd['tracks'][_0x1d4615(0x135)]&&_0x46a6fd[_0x1d4615(0x255)][_0x1d4615(0x135)]['sender'])){const _0x44c15d=_0x46a6fd[_0x1d4615(0x255)]['video'][_0x1d4615(0x1a7)];this[_0x1d4615(0x303)][_0x1d4615(0x3fc)](_0x44c15d,Math[_0x1d4615(0x601)](0xa*_0x46a6fd[_0x1d4615(0x56b)])/0xa,_0x46a6fd[_0x1d4615(0x6d5)],_0x46a6fd[_0x1d4615(0x323)],_0x46a6fd[_0x1d4615(0x75e)]);}this[_0x1d4615(0xec)][_0x1d4615(0x1a1)](_0x4f22fc['id'],_0x46a6fd);}[_0x5a261d(0x4d3)](_0x75c55a,_0x48da4d){const _0x1b6e99=_0x5a261d,_0x595f42=this['senders']['get'](_0x75c55a['id']);if(_0x595f42&&_0x595f42[_0x1b6e99(0x75e)]!==_0x48da4d&&(_0x595f42[_0x1b6e99(0x75e)]=_0x48da4d,_0x595f42[_0x1b6e99(0x255)]['video']&&_0x595f42[_0x1b6e99(0x255)]['video'][_0x1b6e99(0x1a7)])){const _0x4437c2=_0x595f42['tracks']['video'][_0x1b6e99(0x1a7)];this[_0x1b6e99(0x303)][_0x1b6e99(0x3fc)](_0x4437c2,Math[_0x1b6e99(0x601)](0xa*_0x595f42[_0x1b6e99(0x56b)])/0xa,_0x595f42[_0x1b6e99(0x6d5)],_0x595f42['bitrate'],_0x595f42[_0x1b6e99(0x75e)]);}}[_0x5a261d(0x5bf)](_0x365535,_0x359c36){const _0x4c5d7b=_0x5a261d,_0x1bd7d4=this['senders'][_0x4c5d7b(0x568)](_0x365535['id']);if(_0x1bd7d4){if(_0x1bd7d4[_0x4c5d7b(0x107)]=_0x359c36,_0x359c36&&_0x4c5d7b(0x135)===_0x359c36[_0x4c5d7b(0x4a0)]&&_0x359c36[_0x4c5d7b(0x2ff)]&&_0x359c36[_0x4c5d7b(0x5f8)]){if(_0x1bd7d4['minResolutionScale']=this[_0x4c5d7b(0x296)](_0x359c36[_0x4c5d7b(0x2ff)],_0x359c36[_0x4c5d7b(0x5f8)]),_0x1bd7d4[_0x4c5d7b(0x56b)]<_0x1bd7d4[_0x4c5d7b(0x1d6)]&&(_0x1bd7d4[_0x4c5d7b(0x56b)]=_0x1bd7d4[_0x4c5d7b(0x1d6)]),_0x1bd7d4[_0x4c5d7b(0x255)][_0x4c5d7b(0x135)]&&_0x1bd7d4[_0x4c5d7b(0x255)][_0x4c5d7b(0x135)][_0x4c5d7b(0x1a7)]){const _0x59e0f7=_0x1bd7d4[_0x4c5d7b(0x255)][_0x4c5d7b(0x135)]['sender'];this[_0x4c5d7b(0x303)][_0x4c5d7b(0x3fc)](_0x59e0f7,Math[_0x4c5d7b(0x601)](0xa*_0x1bd7d4['resolutionScale'])/0xa,_0x1bd7d4[_0x4c5d7b(0x6d5)],_0x1bd7d4[_0x4c5d7b(0x323)],_0x1bd7d4[_0x4c5d7b(0x75e)]);}this[_0x4c5d7b(0x634)](),this[_0x4c5d7b(0x626)]();}this[_0x4c5d7b(0xec)][_0x4c5d7b(0x1a1)](_0x365535['id'],_0x1bd7d4);}}[_0x5a261d(0x28e)](_0x4901a3,_0x20f625){const _0x24fd85=_0x5a261d,_0x5b4178=this['senders'][_0x24fd85(0x568)](_0x20f625['id']);if(_0x5b4178){const _0x159689=_0x5b4178[_0x24fd85(0x255)][_0x4901a3[_0x24fd85(0x4a0)]];_0x159689&&(_0x159689['sender']&&this['connection'][_0x24fd85(0x28e)](_0x159689[_0x24fd85(0x1a7)]),_0x159689[_0x24fd85(0x363)]=void 0x0);}}['applyRemediation'](_0x5e4b00){const _0x5a50f4=_0x5a261d;this[_0x5a50f4(0x634)]();const _0x562ee4=function(_0x3d9728,_0xed30bf){const _0x140cd8=_0x5a50f4;return _0x3d9728[_0x140cd8(0x719)]((_0x1a191a,_0x1bf250)=>_0xed30bf['action']===_0x4c335d[_0x140cd8(0x266)]?_0x1bf250[_0x140cd8(0x75e)]-_0x1a191a[_0x140cd8(0x75e)]:_0x1a191a[_0x140cd8(0x75e)]-_0x1bf250[_0x140cd8(0x75e)])['find'](_0x4c509e=>function(_0xcf0b60,_0x5289f9){const _0xad1e84=_0x140cd8;if(_0x5289f9[_0xad1e84(0x506)]===_0x4c335d[_0xad1e84(0x266)]){if(_0x5289f9['component']===_0x542625[_0xad1e84(0x5da)])return _0xcf0b60[_0xad1e84(0x56b)]<0x4||_0xcf0b60[_0xad1e84(0x51e)]>0xf;if(_0x5289f9['component']===_0x542625[_0xad1e84(0x1bb)])return _0xcf0b60['maxBitrate']>_0x1265ff;}return _0xcf0b60[_0xad1e84(0x56b)]>_0xcf0b60[_0xad1e84(0x1d6)]||_0xcf0b60['framerate']<_0xcf0b60[_0xad1e84(0x51e)]||_0xcf0b60[_0xad1e84(0x323)]<_0xcf0b60[_0xad1e84(0x5a5)];}(_0x4c509e,_0xed30bf));}(Array[_0x5a50f4(0x61e)](this[_0x5a50f4(0xec)]['values']()),_0x5e4b00);if(_0x562ee4&&(function(_0x1f1119,_0x270718){const _0x2bba96=_0x5a50f4;_0x1f1119[_0x2bba96(0x255)][_0x2bba96(0x135)]&&_0x1f1119['tracks']['video'][_0x2bba96(0x1a7)]&&(_0x1f1119[_0x2bba96(0x56b)]=function(_0x72f6bd,_0x1b4a70,_0x15aee1){const _0x47fbf7=_0x2bba96;switch(_0x15aee1[_0x47fbf7(0x506)]){case _0x4c335d[_0x47fbf7(0x266)]:_0x15aee1[_0x47fbf7(0x786)]===_0x542625[_0x47fbf7(0x5da)]&&(_0x72f6bd+=0.5)>0x4&&(_0x72f6bd=0x4);break;case _0x4c335d[_0x47fbf7(0x63c)]:(_0x72f6bd-=0.5)<_0x1b4a70&&(_0x72f6bd=_0x1b4a70);}return _0x72f6bd;}(_0x1f1119[_0x2bba96(0x56b)],_0x1f1119[_0x2bba96(0x1d6)],_0x270718),_0x1f1119[_0x2bba96(0x6d5)]=function(_0x4fd98d,_0x1bb066,_0x2a2cf7){const _0x53d58e=_0x2bba96;switch(_0x2a2cf7[_0x53d58e(0x506)]){case _0x4c335d[_0x53d58e(0x266)]:_0x2a2cf7[_0x53d58e(0x786)]===_0x542625['Resolution']&&(_0x4fd98d-=0x3)<0xf&&(_0x4fd98d=0xf);break;case _0x4c335d['Upgrade']:(_0x4fd98d+=0x3)>_0x1bb066&&(_0x4fd98d=_0x1bb066);}return _0x4fd98d;}(_0x1f1119[_0x2bba96(0x6d5)],_0x1f1119[_0x2bba96(0x51e)],_0x270718),_0x1f1119[_0x2bba96(0x323)]=function(_0x2a71d9,_0x81a807,_0x961c53){const _0x40a614=_0x2bba96;switch(_0x961c53[_0x40a614(0x506)]){case _0x4c335d['Downgrade']:_0x961c53['component']===_0x542625[_0x40a614(0x1bb)]&&(_0x2a71d9*=0.75)<_0x1265ff&&(_0x2a71d9=_0x1265ff);break;case _0x4c335d[_0x40a614(0x63c)]:(_0x2a71d9*=1.25)>_0x81a807&&(_0x2a71d9=_0x81a807);}return _0x2a71d9;}(_0x1f1119[_0x2bba96(0x323)],_0x1f1119[_0x2bba96(0x5a5)],_0x270718));}(_0x562ee4,_0x5e4b00),_0x562ee4[_0x5a50f4(0x255)][_0x5a50f4(0x135)]&&_0x562ee4['tracks'][_0x5a50f4(0x135)][_0x5a50f4(0x1a7)])){const _0x32c40c=_0x562ee4['tracks'][_0x5a50f4(0x135)][_0x5a50f4(0x1a7)];this[_0x5a50f4(0x303)][_0x5a50f4(0x3fc)](_0x32c40c,Math[_0x5a50f4(0x601)](0xa*_0x562ee4['resolutionScale'])/0xa,_0x562ee4[_0x5a50f4(0x6d5)],_0x562ee4['bitrate'],_0x562ee4[_0x5a50f4(0x75e)]);}(_0x562ee4||_0x5e4b00[_0x5a50f4(0x506)]===_0x4c335d[_0x5a50f4(0x266)])&&this[_0x5a50f4(0x626)]();}[_0x5a261d(0x4c8)](){const _0x5311c5=_0x5a261d;super[_0x5311c5(0x4c8)](),this[_0x5311c5(0x426)](),this[_0x5311c5(0x65d)](),this['senders']['forEach'](_0x270681=>{const _0x344b4a=_0x5311c5;_0x270681[_0x344b4a(0x255)][_0x344b4a(0x135)]&&(_0x270681[_0x344b4a(0x255)]['video'][_0x344b4a(0x1a7)]=void 0x0),_0x270681[_0x344b4a(0x255)][_0x344b4a(0x422)]&&(_0x270681[_0x344b4a(0x255)][_0x344b4a(0x422)][_0x344b4a(0x1a7)]=void 0x0);}),this[_0x5311c5(0x534)]=!0x0;}async[_0x5a261d(0x19e)](){return new Promise(async _0x1134b3=>{const _0x35d27b=a0_0x3f62;if(!this[_0x35d27b(0x391)]||_0x35d27b(0x625)!==this[_0x35d27b(0x391)]['state'])return await _0x16ea6e[_0x35d27b(0x1dd)](0x64),void _0x1134b3();this[_0x35d27b(0x391)]['bufferedAmount']<0x10000?_0x1134b3():this[_0x35d27b(0x391)][_0x35d27b(0x66e)]=()=>{const _0x55f988=_0x35d27b;this['dataChannel']&&(this['dataChannel'][_0x55f988(0x66e)]=null),_0x1134b3();};});}[_0x5a261d(0x271)](_0x13f079,_0x32c022){const _0x2a2e72=_0x5a261d,_0x4afc6f=[];for(let _0x5a858a=0x0;_0x5a858a<_0x32c022[_0x2a2e72(0x553)];_0x5a858a+=_0x489579)_0x4afc6f[_0x2a2e72(0x6bc)](_0x32c022[_0x2a2e72(0x5b0)](_0x5a858a,_0x5a858a+_0x489579));for(const _0x21456f of _0x4afc6f)this[_0x2a2e72(0x71f)](_0xa78ce9+';'+_0x13f079[_0x2a2e72(0x1ea)]+';'+_0x4afc6f[_0x2a2e72(0x1fb)](_0x21456f)+';'+_0x4afc6f[_0x2a2e72(0x553)]+';'+_0x21456f,_0x5f1c76['Low']);}async['sendWithRetry'](_0x512105,_0x19cbf0){const _0x19b416=_0x5a261d;_0x512105===_0x498af1?this[_0x19b416(0x20b)][_0x19b416(0x4b9)][_0x19cbf0][_0x19b416(0x1ae)]?.['value']!==_0x498af1&&this[_0x19b416(0x20b)][_0x19b416(0x4b9)][_0x19cbf0][_0x19b416(0x355)](_0x512105):this[_0x19b416(0x20b)][_0x19b416(0x4b9)][_0x19cbf0][_0x19b416(0x6bc)](_0x512105);}[_0x5a261d(0x2c5)](_0x150e86){const _0x3c8e88=_0x5a261d;if(!this[_0x3c8e88(0x391)]||_0x3c8e88(0x625)!==this[_0x3c8e88(0x391)][_0x3c8e88(0x301)])throw new Error(_0x3c8e88(0x32d));const _0x38193e=Date[_0x3c8e88(0x4e6)]();_0x150e86!==_0x498af1&&(this[_0x3c8e88(0x2e8)]+=0x1,this[_0x3c8e88(0xf7)]+=_0x150e86 instanceof ArrayBuffer?_0x150e86[_0x3c8e88(0xf9)]:_0x150e86[_0x3c8e88(0x553)]),ArrayBuffer,this['dataChannel'][_0x3c8e88(0x468)](_0x150e86),this['timeSending']+=Date[_0x3c8e88(0x4e6)]()-_0x38193e;}[_0x5a261d(0x400)](){const _0x11c46b=_0x5a261d;this[_0x11c46b(0x6ac)]&&this['clearHeartbeat']();let _0x56873d=!0x0,_0x2c7162=Date[_0x11c46b(0x4e6)]();this[_0x11c46b(0x77a)]=Date[_0x11c46b(0x4e6)](),this['dataChannel'][_0x11c46b(0x43a)]=_0x42df61=>{const _0x3400d9=_0x11c46b;'1'===_0x42df61[_0x3400d9(0x5f0)]&&(this['roundTripTime']=Date[_0x3400d9(0x4e6)]()-_0x2c7162,_0x56873d&&this[_0x3400d9(0x38c)]({'type':_0x48dd43[_0x3400d9(0x437)]}),_0x56873d=!0x1,this[_0x3400d9(0x77a)]=Date[_0x3400d9(0x4e6)](),this[_0x3400d9(0x534)]&&(this['isReconnecting']=!0x1,this[_0x3400d9(0x5fd)]()));},this['heartbeatUnsubscriber']=_0x16ea6e[_0x11c46b(0x18c)](()=>{const _0x338be7=_0x11c46b;_0x2c7162=Date[_0x338be7(0x4e6)](),this[_0x338be7(0x71f)](_0x498af1,_0x5f1c76[_0x338be7(0x56a)]),Date[_0x338be7(0x4e6)]()-this[_0x338be7(0x77a)]>(_0x56873d?0x15f90:0x3a98)&&this[_0x338be7(0x230)]();},0xbb8);}['handleMissingSenders'](){const _0x182dd1=_0x5a261d;this[_0x182dd1(0xec)][_0x182dd1(0x675)](_0x4b2a89=>{const _0x5e4bc3=_0x182dd1;_0x4b2a89[_0x5e4bc3(0x255)]['video']&&_0x4b2a89['tracks']['video']['track']&&!_0x4b2a89[_0x5e4bc3(0x255)]['video'][_0x5e4bc3(0x1a7)]&&(_0x4b2a89['tracks'][_0x5e4bc3(0x135)][_0x5e4bc3(0x1a7)]=this[_0x5e4bc3(0x303)]['addTrack'](_0x4b2a89[_0x5e4bc3(0x255)]['video']['track'],_0x4b2a89['stream'])),_0x4b2a89[_0x5e4bc3(0x255)][_0x5e4bc3(0x422)]&&_0x4b2a89[_0x5e4bc3(0x255)][_0x5e4bc3(0x422)]['track']&&!_0x4b2a89[_0x5e4bc3(0x255)][_0x5e4bc3(0x422)][_0x5e4bc3(0x1a7)]&&(_0x4b2a89['tracks'][_0x5e4bc3(0x422)][_0x5e4bc3(0x1a7)]=this[_0x5e4bc3(0x303)][_0x5e4bc3(0x58d)](_0x4b2a89['tracks'][_0x5e4bc3(0x422)][_0x5e4bc3(0x363)],_0x4b2a89[_0x5e4bc3(0x209)]));});}[_0x5a261d(0x2b2)](){const _0xe2bc57=_0x5a261d;this[_0xe2bc57(0x38c)]({'type':_0x48dd43[_0xe2bc57(0x49b)],'candidates':this[_0xe2bc57(0x215)],'origin':_0x16cef7[_0xe2bc57(0x306)],'version':this[_0xe2bc57(0x65f)],'connectionType':this[_0xe2bc57(0x3cd)]});}['setupConnectionEvents'](){const _0x36579e=_0x5a261d;super[_0x36579e(0x4e5)](),this[_0x36579e(0x303)][_0x36579e(0x74d)]=()=>{const _0x1e57bf=_0x36579e;if(_0x1e57bf(0x6fa)===this[_0x1e57bf(0x303)]['handshakeState']){_0x50fe93[_0x1e57bf(0x287)](_0x2d7d49[_0x1e57bf(0x268)],_0x1e57bf(0x710),this['localNode']['getId'](),this[_0x1e57bf(0x2a2)]);try{if(this['connection']['canRestartHandshake'])return void this[_0x1e57bf(0x303)]['restartHandshake']();}catch(_0x3249cc){}this['createOffer']({'handshakeRestart':!0x0});}},this[_0x36579e(0x303)][_0x36579e(0x444)]=()=>{const _0x5559e1=_0x36579e;_0x5559e1(0x730)!==this['connection'][_0x5559e1(0x768)]&&_0x5559e1(0x6fa)!==this['connection'][_0x5559e1(0x768)]||this[_0x5559e1(0x230)]();};}['handleDisconnect'](){const _0x586b53=_0x5a261d;this[_0x586b53(0x543)](),this[_0x586b53(0x709)](),this[_0x586b53(0x25e)](),_0x50fe93[_0x586b53(0x63f)](_0x586b53(0x547),{'clusterId':this[_0x586b53(0x1f3)],'nodeId':this[_0x586b53(0x783)][_0x586b53(0x591)](),'nodeType':this[_0x586b53(0x783)][_0x586b53(0x274)],'remoteId':this[_0x586b53(0x2a2)],'data':{'connectionType':this['connectionType'],'connectionState':this[_0x586b53(0x303)]['connectionState'],'iceConnectionState':this[_0x586b53(0x303)][_0x586b53(0x1e6)],'signalingState':this[_0x586b53(0x303)][_0x586b53(0x5ee)],'readyState':this[_0x586b53(0x391)]?.[_0x586b53(0x301)]||'','lastHeartbeat':this['lastHeartbeat']?Date[_0x586b53(0x4e6)]()-this[_0x586b53(0x77a)]:'','retryQueue':this['retryQueue']}}),(this[_0x586b53(0x77a)]&&Date['now']()-this['lastHeartbeat']>0xea60)??0x1?this[_0x586b53(0x30a)]['publish']({'sourceId':this[_0x586b53(0x2a2)],'destinationIds':[this[_0x586b53(0x783)][_0x586b53(0x591)]()],'messageType':_0x3a54c1[_0x586b53(0x3a2)],'content':{'type':_0x48dd43['Disconnect']}}):(this[_0x586b53(0x4c8)](),this[_0x586b53(0x38c)]({'type':_0x48dd43[_0x586b53(0x2ac)],'version':this[_0x586b53(0x65f)],'connectionType':this[_0x586b53(0x3cd)]}),this['restartTimeout']=setTimeout(()=>{const _0x55eec9=_0x586b53;this[_0x55eec9(0x230)]();},0x7530));}[_0x5a261d(0x543)](){const _0x1531f6=_0x5a261d;this['heartbeatUnsubscriber']?.(),delete this[_0x1531f6(0x6ac)];}[_0x5a261d(0x25e)](){const _0x89c388=_0x5a261d;this[_0x89c388(0x649)]&&(clearTimeout(this[_0x89c388(0x649)]),delete this[_0x89c388(0x649)]);}['clearRestartTimeout'](){const _0x4f0586=_0x5a261d;this[_0x4f0586(0x556)]&&(clearTimeout(this[_0x4f0586(0x556)]),delete this[_0x4f0586(0x556)]);}[_0x5a261d(0x634)](){const _0x103ebb=_0x5a261d;this[_0x103ebb(0x326)]&&(clearTimeout(this['upgradeTimeout']),delete this['upgradeTimeout']);}[_0x5a261d(0x626)](){const _0x11fdd2=_0x5a261d;this[_0x11fdd2(0x326)]=setTimeout(()=>{const _0x3c7a8d=_0x11fdd2;this[_0x3c7a8d(0x38e)]({'type':_0x3382d7[_0x3c7a8d(0x378)],'action':_0x4c335d[_0x3c7a8d(0x63c)]});},0x3a98);}[_0x5a261d(0x296)](_0x276ba6,_0xca12f0){const _0x54096f=_0x5a261d,_0x2bbf0e=Math['max'](_0x276ba6[_0x54096f(0x263)]/_0xca12f0['width'],_0x276ba6[_0x54096f(0x4f7)]/_0xca12f0['height']);return Math[_0x54096f(0x131)](Math[_0x54096f(0x435)](_0x2bbf0e,0x1),0x4);}[_0x5a261d(0x65d)](){const _0x40b9f3=_0x5a261d;this['waitAnswer']?.(),delete this[_0x40b9f3(0x69e)];}[_0x5a261d(0x426)](){const _0x5277d8=_0x5a261d;this['oncloseTimeout']&&(clearTimeout(this[_0x5277d8(0x386)]),delete this['oncloseTimeout']);}[_0x5a261d(0x689)](_0x1d0978){const _0x25ca31=_0x5a261d,_0x2585c6=JSON[_0x25ca31(0x414)](_0x1d0978);return new TextEncoder()[_0x25ca31(0x1b7)](_0x2585c6)[_0x25ca31(0x6ca)];}[_0x5a261d(0x123)](_0x3585d9,_0x47d5e2){const _0x4fa3ec=_0x5a261d,_0x1d4b1f=this[_0x4fa3ec(0x689)](_0x3585d9),_0x4b505d=new Uint8Array(0x4),_0x22bc27=new Uint8Array(_0x1d4b1f),_0x3b4615=new Uint8Array(_0x47d5e2);_0x4b505d['set'](new Uint8Array(new Uint32Array([_0x22bc27[_0x4fa3ec(0x553)]])['buffer']));const _0x41fa9e=new Uint8Array(0x4+_0x22bc27[_0x4fa3ec(0x553)]+_0x3b4615[_0x4fa3ec(0x553)]);return _0x41fa9e[_0x4fa3ec(0x1a1)](_0x4b505d),_0x41fa9e['set'](_0x22bc27,0x4),_0x41fa9e['set'](_0x3b4615,0x4+_0x22bc27[_0x4fa3ec(0x553)]),_0x41fa9e[_0x4fa3ec(0x6ca)];}}class _0x57fc1 extends _0x33d500{[_0x5a261d(0x596)];[_0x5a261d(0x3cd)];[_0x5a261d(0xe5)];[_0x5a261d(0x5de)];[_0x5a261d(0x2fc)];[_0x5a261d(0x33c)];[_0x5a261d(0x4d8)];['receiverUnsubscribers']=[];[_0x5a261d(0x6ff)]=_0x5c88af();[_0x5a261d(0x2e7)]=_0x5c88af();[_0x5a261d(0x18a)]=_0x5c88af();[_0x5a261d(0x5bd)]=[];[_0x5a261d(0x30a)];[_0x5a261d(0x277)]=new Map();[_0x5a261d(0x154)]=new Map();[_0x5a261d(0x4ea)]=new Map();[_0x5a261d(0x78e)]=new Map();['successNotified']=!0x1;constructor(_0x58c84f,_0x4cbead,_0x1742bc,_0x24c532,_0x38fe4d,_0x4ddb96,_0x59e0bd,_0x3589aa){const _0x2fb331=_0x5a261d;super(_0x58c84f,_0x4cbead,_0x1742bc),this[_0x2fb331(0x596)]=_0x24c532,this[_0x2fb331(0x3cd)]=_0x38fe4d,this[_0x2fb331(0xe5)]=_0x4ddb96,this[_0x2fb331(0x5de)]=_0x59e0bd,this[_0x2fb331(0x2fc)]=_0x3589aa;}[_0x5a261d(0x2a0)](_0x2b2346){const _0x3a5156=_0x5a261d;switch(_0x2b2346[_0x3a5156(0x72b)]()){case _0x44eeae[_0x3a5156(0xee)]['Data']:case _0x44eeae[_0x3a5156(0xee)]['PubSub']:case _0x44eeae[_0x3a5156(0xee)][_0x3a5156(0x374)]:case _0x44eeae[_0x3a5156(0xee)][_0x3a5156(0x558)]:case _0x44eeae[_0x3a5156(0xee)][_0x3a5156(0x505)]:this[_0x3a5156(0x277)]['set'](_0x2b2346['getLabel'](),_0x2b2346);break;case _0x44eeae[_0x3a5156(0xee)][_0x3a5156(0x371)]:this[_0x3a5156(0x4ea)]['set'](_0x2b2346[_0x3a5156(0x58a)](),_0x2b2346);}}[_0x5a261d(0x208)](_0x50b855){const _0x1bd0b0=_0x5a261d;switch(_0x50b855[_0x1bd0b0(0x72b)]()){case _0x44eeae[_0x1bd0b0(0xee)][_0x1bd0b0(0x50d)]:case _0x44eeae[_0x1bd0b0(0xee)]['PubSub']:case _0x44eeae[_0x1bd0b0(0xee)][_0x1bd0b0(0x374)]:case _0x44eeae[_0x1bd0b0(0xee)]['KeyValueDatabase']:case _0x44eeae[_0x1bd0b0(0xee)]['Job']:this[_0x1bd0b0(0x277)][_0x1bd0b0(0x20a)](_0x50b855[_0x1bd0b0(0x58a)]());break;case _0x44eeae['ContentType'][_0x1bd0b0(0x371)]:this[_0x1bd0b0(0x4ea)][_0x1bd0b0(0x20a)](_0x50b855[_0x1bd0b0(0x58a)]());}}[_0x5a261d(0x549)](_0x3a5f59){const _0x31d9b7=_0x5a261d;switch(_0x3a5f59[_0x31d9b7(0x72b)]()){case _0x44eeae[_0x31d9b7(0xee)][_0x31d9b7(0x50d)]:case _0x44eeae[_0x31d9b7(0xee)][_0x31d9b7(0x48c)]:case _0x44eeae[_0x31d9b7(0xee)][_0x31d9b7(0x374)]:case _0x44eeae[_0x31d9b7(0xee)][_0x31d9b7(0x558)]:case _0x44eeae['ContentType'][_0x31d9b7(0x505)]:{const _0x5dfd18=_0x3a5f59['subscribe'](_0x3e476b=>{const _0x2c7477=_0x31d9b7;_0x1058d0(_0x3e476b,this[_0x2c7477(0x41c)]())&&_0x3db9f3(_0x3e476b,this[_0x2c7477(0x2a2)])&&this[_0x2c7477(0x468)](_0x3e476b);});this['dataUnsubscribers'][_0x31d9b7(0x1a1)](_0x3a5f59['getLabel'](),_0x5dfd18);break;}case _0x44eeae[_0x31d9b7(0xee)]['Media']:{const _0xa8ae0e=_0x3a5f59['subscribe'](({content:_0x3e8e44})=>{const _0xe39eac=_0x31d9b7;switch(_0x3e8e44['action']){case _0x230561['Add']:this['addTrack'](_0x3e8e44[_0xe39eac(0x363)],_0x3e8e44[_0xe39eac(0x209)],_0x3e8e44[_0xe39eac(0x75e)],_0x3e8e44[_0xe39eac(0x107)]);break;case _0x230561[_0xe39eac(0x676)]:this[_0xe39eac(0x28e)](_0x3e8e44['track'],_0x3e8e44[_0xe39eac(0x209)]);break;case _0x230561[_0xe39eac(0x13e)]:_0x3e8e44[_0xe39eac(0x75e)]&&this[_0xe39eac(0x4d3)](_0x3e8e44[_0xe39eac(0x209)],_0x3e8e44[_0xe39eac(0x75e)]),_0x3e8e44['params']&&this[_0xe39eac(0x5bf)](_0x3e8e44[_0xe39eac(0x209)],_0x3e8e44[_0xe39eac(0x107)]);}});this['mediaUnsubscribers'][_0x31d9b7(0x1a1)](_0x3a5f59[_0x31d9b7(0x58a)](),_0xa8ae0e);break;}}}['unregisterSubscriber'](_0x351da1){const _0x41eaac=_0x5a261d;switch(_0x351da1[_0x41eaac(0x72b)]()){case _0x44eeae[_0x41eaac(0xee)][_0x41eaac(0x50d)]:case _0x44eeae[_0x41eaac(0xee)][_0x41eaac(0x48c)]:case _0x44eeae[_0x41eaac(0xee)]['ObjectStore']:case _0x44eeae[_0x41eaac(0xee)]['KeyValueDatabase']:case _0x44eeae[_0x41eaac(0xee)]['Job']:this[_0x41eaac(0x154)][_0x41eaac(0x568)](_0x351da1[_0x41eaac(0x58a)]())?.(),this['dataUnsubscribers'][_0x41eaac(0x20a)](_0x351da1['getLabel']());break;case _0x44eeae[_0x41eaac(0xee)][_0x41eaac(0x371)]:this['mediaUnsubscribers'][_0x41eaac(0x568)](_0x351da1[_0x41eaac(0x58a)]())?.(),this[_0x41eaac(0x78e)][_0x41eaac(0x20a)](_0x351da1[_0x41eaac(0x58a)]());}}[_0x5a261d(0x2a8)](){const _0x1fc18f=_0x5a261d;return[_0x44eeae['ContentType'][_0x1fc18f(0x50d)],_0x44eeae[_0x1fc18f(0xee)][_0x1fc18f(0x48c)],_0x44eeae[_0x1fc18f(0xee)]['ObjectStore'],_0x44eeae[_0x1fc18f(0xee)]['KeyValueDatabase'],_0x44eeae[_0x1fc18f(0xee)][_0x1fc18f(0x505)]];}[_0x5a261d(0x126)](_0x412a7a){const _0x269826=_0x5a261d;this[_0x269826(0x30a)]=_0x412a7a;}[_0x5a261d(0x5bc)](){const _0x284c21=_0x5a261d;delete this[_0x284c21(0x30a)];}async['connect'](){const _0x117547=_0x5a261d;this[_0x117547(0x6e6)](),await this[_0x117547(0x2cd)]();}[_0x5a261d(0x3e3)](){const _0x5f21aa=_0x5a261d;this[_0x5f21aa(0x5bd)][_0x5f21aa(0x675)](_0x489ef4=>_0x489ef4()),this['listenerUnsubscribers']=[],this['senderConnection']?.[_0x5f21aa(0x5bc)](),this[_0x5f21aa(0x33c)]?.['close'](),delete this[_0x5f21aa(0x33c)],this[_0x5f21aa(0x5dd)]['forEach'](_0x2bf472=>_0x2bf472()),this['receiverUnsubscribers']=[],this[_0x5f21aa(0x4d8)]?.['unregisterSystemPublisher'](),this[_0x5f21aa(0x4d8)]?.[_0x5f21aa(0x3e3)](),delete this[_0x5f21aa(0x4d8)];}[_0x5a261d(0x4ad)](){const _0x3e29ad=_0x5a261d;return this[_0x3e29ad(0x33c)]?.['isConnected']()&&this[_0x3e29ad(0x4d8)]?.[_0x3e29ad(0x4ad)]()||!0x1;}['send'](_0x3a5714){const _0x3a5ed0=_0x5a261d;if(!this[_0x3a5ed0(0x33c)]||!this['isConnected']())throw new _0x2826e7(_0x2826e7[_0x3a5ed0(0x776)][_0x3a5ed0(0x256)],{'message':'Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','senderConnected':this[_0x3a5ed0(0x33c)]?.[_0x3a5ed0(0x4ad)](),'receiverConnected':this[_0x3a5ed0(0x4d8)]?.[_0x3a5ed0(0x4ad)](),'localId':this[_0x3a5ed0(0x41c)](),'remoteId':this[_0x3a5ed0(0x2a2)],'data':_0x3a5714});this[_0x3a5ed0(0x33c)]['send'](_0x3a5714);}[_0x5a261d(0x43a)](_0x3b0269){const _0x5660cc=_0x5a261d;return this[_0x5660cc(0x6ff)][_0x5660cc(0x313)](_0x3b0269);}['onTrack'](_0x32d953){const _0x314c98=_0x5a261d;return this[_0x314c98(0x2e7)]['subscribe'](({track:_0x577cbf,stream:_0xa2c1a7})=>_0x32d953(_0x577cbf,_0xa2c1a7));}[_0x5a261d(0x427)](_0x4bd5b2){const _0x129bfb=_0x5a261d;return this[_0x129bfb(0x18a)]['subscribe'](({track:_0x2a4063,stream:_0x39aea8})=>_0x4bd5b2(_0x2a4063,_0x39aea8));}[_0x5a261d(0x58d)](_0x1bcf67,_0x48e7c4,_0xb168a7,_0x585e96){const _0x75c5bb=_0x5a261d;this[_0x75c5bb(0x33c)]?.[_0x75c5bb(0x58d)](_0x1bcf67,_0x48e7c4,_0xb168a7,_0x585e96);}[_0x5a261d(0x4d3)](_0x2b7f64,_0x1c32ef){const _0x2354f6=_0x5a261d;this[_0x2354f6(0x33c)]?.['setPriority'](_0x2b7f64,_0x1c32ef);}[_0x5a261d(0x5bf)](_0xdaaee5,_0x1740bd){const _0x4d8b52=_0x5a261d;this[_0x4d8b52(0x33c)]?.[_0x4d8b52(0x5bf)](_0xdaaee5,_0x1740bd);}[_0x5a261d(0x28e)](_0x4e515e,_0x32622a){this['senderConnection']?.['removeTrack'](_0x4e515e,_0x32622a);}async['handlePeerConnectionSystemEvents'](_0x1a1739){const _0x13e022=_0x5a261d;_0x50fe93[_0x13e022(0x287)](_0x2d7d49[_0x13e022(0x17f)],'CrewdleConnection\x20handlePeerConnectionSystemEvents',this[_0x13e022(0x41c)](),_0x1a1739);const {content:_0x3f142c}=_0x1a1739;switch(_0x3f142c['type']){case _0x48dd43['Offer']:await this[_0x13e022(0x71b)](_0x3f142c);break;case _0x48dd43[_0x13e022(0x6c4)]:await this[_0x13e022(0x198)](_0x3f142c);break;case _0x48dd43[_0x13e022(0x437)]:this[_0x13e022(0x367)]();break;case _0x48dd43[_0x13e022(0x49b)]:await this[_0x13e022(0x299)](_0x3f142c);break;case _0x48dd43[_0x13e022(0x2ac)]:this[_0x13e022(0x486)](_0x3f142c);break;case _0x48dd43[_0x13e022(0x18f)]:await this[_0x13e022(0x2cd)]();}}[_0x5a261d(0x370)](_0x23d24c){const _0x216866=_0x5a261d;this[_0x216866(0x33c)]?.[_0x216866(0x38e)](_0x23d24c['content']['data']);}[_0x5a261d(0x6f0)](){return this['connectionType'];}[_0x5a261d(0x688)](_0x1e7460){const _0x34377d=_0x5a261d;this[_0x34377d(0x3cd)]=_0x1e7460,this[_0x34377d(0x33c)]?.[_0x34377d(0x688)](_0x1e7460),this[_0x34377d(0x4d8)]?.[_0x34377d(0x688)](_0x1e7460);}async[_0x5a261d(0x1ef)](){const _0x3803b8=_0x5a261d;await this[_0x3803b8(0x33c)]?.[_0x3803b8(0x1ef)](),await this[_0x3803b8(0x4d8)]?.[_0x3803b8(0x1ef)]();}[_0x5a261d(0x6e6)](){const _0x5d10eb=_0x5a261d;this[_0x5d10eb(0x5bd)]['push'](this[_0x5d10eb(0x43a)](_0x203bd5=>{const _0x38b209=_0x5d10eb;_0x3db9f3(_0x203bd5,this['getLocalId']())&&0x0!==_0x203bd5['topicLabel']&&this[_0x38b209(0x277)][_0x38b209(0x568)](_0x203bd5['topicLabel'])?.[_0x38b209(0x3b8)](_0x203bd5);})),this[_0x5d10eb(0x5bd)][_0x5d10eb(0x6bc)](this['onTrack']((_0x45bfcd,_0x3cf5ae)=>{const _0x583cfa=_0x5d10eb,_0xdf8820=_0x35a4f5(_0x44eeae[_0x583cfa(0xee)]['Media'],_0x3cf5ae['id'],this[_0x583cfa(0x2a2)]);this[_0x583cfa(0x4ea)]['get'](_0xdf8820)?.[_0x583cfa(0x3b8)]({'topicLabel':_0xdf8820,'sourceId':this['remoteId'],'contentType':_0x44eeae[_0x583cfa(0xee)][_0x583cfa(0x371)],'content':{'action':_0x230561['RemoteAdd'],'track':_0x45bfcd,'stream':_0x3cf5ae,'providerId':this['remoteId']}});})),this[_0x5d10eb(0x5bd)][_0x5d10eb(0x6bc)](this[_0x5d10eb(0x427)]((_0xa3dbdf,_0x386810)=>{const _0x14248d=_0x5d10eb,_0x572a1a=_0x35a4f5(_0x44eeae[_0x14248d(0xee)][_0x14248d(0x371)],_0x386810['id'],this['remoteId']);this['mediaTopics'][_0x14248d(0x568)](_0x572a1a)?.[_0x14248d(0x3b8)]({'topicLabel':_0x572a1a,'sourceId':this[_0x14248d(0x2a2)],'contentType':_0x44eeae[_0x14248d(0xee)][_0x14248d(0x371)],'content':{'action':_0x230561[_0x14248d(0x310)],'track':_0xa3dbdf,'stream':_0x386810,'providerId':this[_0x14248d(0x2a2)]}});}));}[_0x5a261d(0x299)]({candidates:_0xf197f2,origin:_0x106916,version:_0x106b10}){const _0x41edc9=_0x5a261d;return _0x106916===_0x16cef7[_0x41edc9(0x306)]?(this['receiverConnection']||this[_0x41edc9(0x718)](),this['receiverConnection'][_0x41edc9(0x21e)](_0xf197f2,_0x106b10)):this[_0x41edc9(0x33c)][_0x41edc9(0x21e)](_0xf197f2,_0x106b10);}async[_0x5a261d(0x2cd)](){const _0x56d894=_0x5a261d;this[_0x56d894(0x33c)]||this[_0x56d894(0x4d2)](),await this[_0x56d894(0x33c)][_0x56d894(0x2cd)]();}async['handleOffer']({offer:_0x273b0d,version:_0x3f41cb}){const _0x226bb0=_0x5a261d;this['receiverConnection']||this[_0x226bb0(0x718)](),await this['receiverConnection'][_0x226bb0(0x71b)](_0x273b0d,_0x3f41cb);}async['handleAnswer']({answer:_0x24dc34,version:_0x27f620}){const _0x30b5d9=_0x5a261d;if(!this[_0x30b5d9(0x33c)])throw new _0x2826e7(_0x2826e7[_0x30b5d9(0x776)][_0x30b5d9(0x256)],{'message':_0x30b5d9(0x53c),'localId':this[_0x30b5d9(0x41c)](),'remoteId':this[_0x30b5d9(0x2a2)],'answer':_0x24dc34});await this['senderConnection'][_0x30b5d9(0x198)](_0x24dc34,_0x27f620);}[_0x5a261d(0x367)](){const _0x497395=_0x5a261d;if(!this['receiverConnection'])throw new _0x2826e7(_0x2826e7[_0x497395(0x776)]['ConnectionNotinitialized'],{'message':_0x497395(0x12a),'localId':this[_0x497395(0x41c)](),'remoteId':this[_0x497395(0x2a2)]});this['receiverConnection'][_0x497395(0x367)](),this[_0x497395(0x59a)]||this[_0x497395(0x3cd)]!==_0x4c1abf[_0x497395(0x351)]||(this['successNotified']=!0x0,this['systemTopic']?.['publish']({'sourceId':this[_0x497395(0x2a2)],'destinationIds':[this[_0x497395(0x41c)]()],'messageType':_0x3a54c1['PeerConnection'],'content':{'type':_0x48dd43[_0x497395(0x754)]}}));}['handleNeedRestart'](_0x208cd7){const _0x5eb679=_0x5a261d;this[_0x5eb679(0x4d8)]||this[_0x5eb679(0x718)](),this[_0x5eb679(0x4d8)][_0x5eb679(0x486)](_0x208cd7[_0x5eb679(0x579)]);}['createSenderConnection'](){const _0x532405=_0x5a261d;this[_0x532405(0x33c)]=new _0xf896d1(this['clusterId'],this[_0x532405(0x783)],this[_0x532405(0x2a2)],this['iceServers'],this[_0x532405(0x3cd)],this[_0x532405(0xe5)],this[_0x532405(0x5de)],this[_0x532405(0x2fc)]),this[_0x532405(0x33c)]['registerSystemPublisher'](this['systemTopic']);}[_0x5a261d(0x718)](){const _0x4fa4b6=_0x5a261d;this[_0x4fa4b6(0x4d8)]=new _0x15869b(this[_0x4fa4b6(0x1f3)],this[_0x4fa4b6(0x783)],this[_0x4fa4b6(0x2a2)],this[_0x4fa4b6(0x596)],this['connectionType'],this['connectionConstructor']),this['receiverConnection'][_0x4fa4b6(0x126)](this[_0x4fa4b6(0x30a)]),this[_0x4fa4b6(0x5dd)][_0x4fa4b6(0x6bc)](this['receiverConnection']['onMessage'](_0x597b81=>this[_0x4fa4b6(0x6ff)][_0x4fa4b6(0x3b8)](_0x597b81))),this[_0x4fa4b6(0x5dd)][_0x4fa4b6(0x6bc)](this[_0x4fa4b6(0x4d8)]['onTrack']((_0x5c8ff1,_0x5bfc49)=>this[_0x4fa4b6(0x2e7)][_0x4fa4b6(0x3b8)]({'track':_0x5c8ff1,'stream':_0x5bfc49}))),this[_0x4fa4b6(0x5dd)]['push'](this[_0x4fa4b6(0x4d8)]['onRemoveTrack']((_0x44c6b7,_0x27a4ab)=>this[_0x4fa4b6(0x18a)][_0x4fa4b6(0x3b8)]({'track':_0x44c6b7,'stream':_0x27a4ab})));}}class _0x54517b{[_0x5a261d(0x537)];[_0x5a261d(0x319)];[_0x5a261d(0x2f3)];[_0x5a261d(0x218)]=new Map();[_0x5a261d(0x6ff)]=_0x5c88af();[_0x5a261d(0x485)];[_0x5a261d(0x277)]=new Map();['dataUnsubscribers']=new Map();[_0x5a261d(0x259)]=new Map();constructor(_0x438188,_0x5c6275,_0x96da45){const _0x5d1d90=_0x5a261d;this[_0x5d1d90(0x537)]=_0x438188,this[_0x5d1d90(0x319)]=_0x5c6275,this[_0x5d1d90(0x2f3)]=_0x96da45,this[_0x5d1d90(0x485)]=this[_0x5d1d90(0x43a)](_0xdac17e=>{const _0x3a0434=_0x5d1d90;this[_0x3a0434(0x319)][_0x3a0434(0x346)](_0xdac17e[_0x3a0434(0x1ea)])||(_0x3db9f3(_0xdac17e,this[_0x3a0434(0x537)])&&0x0!==_0xdac17e[_0x3a0434(0x742)]&&(this[_0x3a0434(0x319)][_0x3a0434(0x531)](_0xdac17e[_0x3a0434(0x1ea)]),this[_0x3a0434(0x277)][_0x3a0434(0x568)](_0xdac17e[_0x3a0434(0x742)])?.[_0x3a0434(0x3b8)](_0xdac17e)),_0xdac17e[_0x3a0434(0x160)]&&this['send'](_0xdac17e));});}['close'](){const _0x14045d=_0x5a261d;this[_0x14045d(0x485)]?.();}[_0x5a261d(0x452)](_0x4d34a1){const _0x522e2d=_0x5a261d,_0x42dc53=_0x4d34a1['onMessage'](_0x560054=>{const _0x4f641f=a0_0x3f62;this[_0x4f641f(0x6ff)]['publish'](_0x560054);});this[_0x522e2d(0x218)]['set'](_0x4d34a1,_0x42dc53),this[_0x522e2d(0x259)]['set'](_0x4d34a1[_0x522e2d(0x4b3)](),function(_0x297868,_0x33db87=!0x1){let _0x2b080c=new Map();const _0x4bb943=_0x1abafd(_0x297868,_0x33db87,function(_0x32048e){const _0x5e9a6a=a0_0x3f62;_0x426ec6(_0x32048e)&&_0x2b080c[_0x5e9a6a(0x20a)](_0x32048e[_0x5e9a6a(0x6f8)]+'-'+(_0x32048e['destinationIds']??[])+'-'+_0x32048e['messageType']+'-'+_0x32048e['content'][_0x5e9a6a(0x274)]);},function(_0x4c2460){return!!function(_0x1d1f48){const _0x3491a8=a0_0x3f62,_0x5ec2d0=_0x1d1f48[_0x3491a8(0x5b9)];if(!_0x426ec6(_0x5ec2d0))return!0x1;const _0x210e46=_0x5ec2d0['sourceId']+'-'+(_0x5ec2d0[_0x3491a8(0x5f9)]??[])+'-'+_0x5ec2d0[_0x3491a8(0x1f5)]+'-'+_0x5ec2d0[_0x3491a8(0x365)]['type'],_0x246a79={'version':_0x5ec2d0[_0x3491a8(0x365)][_0x3491a8(0x579)],'element':_0x1d1f48},_0x3ee845=_0x2b080c[_0x3491a8(0x568)](_0x210e46);return _0x3ee845?(_0x3ee845[_0x3491a8(0x579)]>=_0x5ec2d0['content']['version']||(_0x3ee845[_0x3491a8(0x428)]['previous']&&(_0x3ee845[_0x3491a8(0x428)][_0x3491a8(0x246)][_0x3491a8(0x3ec)]=_0x1d1f48,_0x1d1f48[_0x3491a8(0x246)]=_0x3ee845[_0x3491a8(0x428)]['previous']),_0x3ee845[_0x3491a8(0x428)][_0x3491a8(0x3ec)]&&(_0x3ee845[_0x3491a8(0x428)]['next'][_0x3491a8(0x246)]=_0x1d1f48,_0x1d1f48['next']=_0x3ee845[_0x3491a8(0x428)][_0x3491a8(0x3ec)]),_0x3ee845[_0x3491a8(0x428)]===_0x4bb943[_0x3491a8(0x1ae)]&&(_0x4bb943[_0x3491a8(0x1ae)]=_0x1d1f48),_0x3ee845[_0x3491a8(0x428)]===_0x4bb943[_0x3491a8(0x418)]&&(_0x4bb943[_0x3491a8(0x418)]=_0x1d1f48),_0x2b080c[_0x3491a8(0x1a1)](_0x210e46,_0x246a79)),!0x0):(_0x2b080c[_0x3491a8(0x1a1)](_0x210e46,_0x246a79),!0x1);}(_0x4c2460);},function(){const _0x412414=a0_0x3f62;_0x2b080c[_0x412414(0x220)]();});function _0x426ec6(_0x3f620f){const _0x3bf292=a0_0x3f62;if(_0x3f620f&&_0x3bf292(0x228)==typeof _0x3f620f&&_0x3f620f[_0x3bf292(0x3da)]('content')&&_0x3f620f[_0x3bf292(0x3da)](_0x3bf292(0x1f5))&&_0x3f620f['hasOwnProperty'](_0x3bf292(0x6f8))){const _0x2d4221=_0x3f620f;if(_0x2d4221[_0x3bf292(0x365)]&&'object'==typeof _0x2d4221['content']&&_0x2d4221[_0x3bf292(0x365)][_0x3bf292(0x3da)](_0x3bf292(0x579))&&_0x2d4221['content'][_0x3bf292(0x3da)](_0x3bf292(0x274)))return!0x0;}return!0x1;}return _0x4bb943;}(new _0x1e6393(_0xec5b0=>_0x4d34a1[_0x522e2d(0x468)](_0xec5b0),()=>_0x16ea6e[_0x522e2d(0x1dd)](0x64))));}['removeConnection'](_0x494b92){const _0x401356=_0x5a261d;this[_0x401356(0x218)][_0x401356(0x568)](_0x494b92)?.(),this['connections'][_0x401356(0x20a)](_0x494b92),this[_0x401356(0x259)][_0x401356(0x568)](_0x494b92[_0x401356(0x4b3)]())?.[_0x401356(0x220)](),this[_0x401356(0x259)][_0x401356(0x20a)](_0x494b92[_0x401356(0x4b3)]());}[_0x5a261d(0x4ad)](_0x2ac282){const _0x3b492c=_0x5a261d;return _0x50fe93[_0x3b492c(0x287)](_0x2d7d49[_0x3b492c(0x268)],_0x3b492c(0x3b4),this[_0x3b492c(0x537)],this[_0x3b492c(0x218)][_0x3b492c(0x472)]()),0x0!==this[_0x3b492c(0x218)][_0x3b492c(0x101)]&&(Array['from'](this[_0x3b492c(0x218)][_0x3b492c(0x472)]())[_0x3b492c(0x19f)](_0x3d7a8a=>_0x3d7a8a[_0x3b492c(0x4b3)]()===_0x2ac282)?.[_0x3b492c(0x4ad)]()??!0x1);}[_0x5a261d(0x2a0)](_0x5328d2){const _0x2afbb8=_0x5a261d;this['dataTopics'][_0x2afbb8(0x1a1)](_0x5328d2[_0x2afbb8(0x58a)](),_0x5328d2);}[_0x5a261d(0x208)](_0x1fb982){const _0x974837=_0x5a261d;this['dataTopics'][_0x974837(0x20a)](_0x1fb982[_0x974837(0x58a)]());}[_0x5a261d(0x549)](_0x18acfa){const _0x5c304f=_0x5a261d,_0x4fe261=_0x18acfa[_0x5c304f(0x313)](this[_0x5c304f(0x468)][_0x5c304f(0x72e)](this));this[_0x5c304f(0x154)][_0x5c304f(0x1a1)](_0x18acfa['getLabel'](),_0x4fe261);}[_0x5a261d(0x470)](_0x58e4a4){const _0x28fa82=_0x5a261d;this[_0x28fa82(0x154)]['get'](_0x58e4a4[_0x28fa82(0x58a)]())?.(),this[_0x28fa82(0x154)][_0x28fa82(0x20a)](_0x58e4a4[_0x28fa82(0x58a)]());}[_0x5a261d(0x2a8)](){const _0x261c40=_0x5a261d;return[_0x44eeae[_0x261c40(0xee)][_0x261c40(0x50d)],_0x44eeae[_0x261c40(0xee)][_0x261c40(0x48c)],_0x44eeae[_0x261c40(0xee)]['ObjectStore'],_0x44eeae['ContentType']['KeyValueDatabase'],_0x44eeae['ContentType']['Job']];}[_0x5a261d(0x468)](_0x2ef3d2){const _0x3690ae=_0x5a261d;if(!0x1===_0x2ef3d2[_0x3690ae(0x317)]){if(_0x2ef3d2[_0x3690ae(0x160)]||!_0x2ef3d2[_0x3690ae(0x5f9)]||0x1!==_0x2ef3d2[_0x3690ae(0x5f9)][_0x3690ae(0x553)])throw new _0x2826e7(_0x2826e7[_0x3690ae(0x776)][_0x3690ae(0x148)],{'message':_0x3690ae(0x540),'localId':this[_0x3690ae(0x537)]});if(!this[_0x3690ae(0x4ad)](_0x2ef3d2[_0x3690ae(0x5f9)][0x0]))throw new _0x29aa20('Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false');}const _0x39ab22=_0x2ef3d2[_0x3690ae(0x20e)]??[];try{const {filteredDestinationIds:_0x130d30,extendedRecipients:_0x180d26}=this[_0x3690ae(0x2c3)](_0x2ef3d2,_0x39ab22);_0x2ef3d2['destinationIds']=_0x130d30,_0x2ef3d2[_0x3690ae(0x20e)]=_0x180d26;}catch(_0x4e0b9c){if(_0x4e0b9c instanceof _0x29aa20)return void _0x50fe93[_0x3690ae(0x287)](_0x2d7d49[_0x3690ae(0x17f)],_0x3690ae(0x5d9),_0x3690ae(0x119),_0x2ef3d2,_0x4e0b9c[_0x3690ae(0x1c3)]);}const _0x592cc5=this[_0x3690ae(0x336)](_0x2ef3d2);this[_0x3690ae(0x12f)](_0x2ef3d2,_0x592cc5),_0x2ef3d2['propagate']=_0x592cc5;const _0x17d80a=this[_0x3690ae(0x247)](_0x2ef3d2,_0x39ab22);for(const _0x31c95d of _0x17d80a){const _0x3aa831=this['retryQueues'][_0x3690ae(0x568)](_0x31c95d[_0x3690ae(0x4b3)]());if(!_0x3aa831)throw new _0x2826e7(_0x2826e7['codes'][_0x3690ae(0x519)],{'message':_0x3690ae(0x3e1),'localId':this[_0x3690ae(0x537)],'remoteId':_0x31c95d[_0x3690ae(0x4b3)](),'data':_0x2ef3d2});_0x3aa831['push'](_0x2ef3d2);}}[_0x5a261d(0x4b3)](){return'';}[_0x5a261d(0x41c)](){const _0x49b566=_0x5a261d;return this[_0x49b566(0x537)];}[_0x5a261d(0x43a)](_0x2fcd65){const _0x2d258e=_0x5a261d;return this[_0x2d258e(0x6ff)][_0x2d258e(0x313)](_0x2fcd65);}['updatePropagationProperties'](_0x15dfbe,_0x12eaac){const _0x3b580d=_0x5a261d,_0x2bd8ba={'filteredDestinationIds':_0x15dfbe[_0x3b580d(0x5f9)],'extendedRecipients':_0x15dfbe[_0x3b580d(0x20e)]};if(!_0x15dfbe['propagate'])return _0x2bd8ba;const _0x126075=Array[_0x3b580d(0x61e)](this['connections'][_0x3b580d(0x472)]())[_0x3b580d(0x279)](_0x49928a=>_0x49928a[_0x3b580d(0x6f0)]()===_0x4c1abf[_0x3b580d(0x33f)]||_0x49928a[_0x3b580d(0x4ad)]())[_0x3b580d(0x47f)](_0x1662e7=>_0x1662e7[_0x3b580d(0x4b3)]());if(_0x126075[_0x3b580d(0x3f1)]((_0x5d0740,_0x48b098)=>_0x5d0740&&_0x15dfbe[_0x3b580d(0x20e)][_0x3b580d(0x49a)](_0x48b098),!0x0))throw new _0x29aa20(_0x3b580d(0x1e0));if(_0x15dfbe['destinationIds']){const _0x590933=_0x15dfbe['destinationIds'][_0x3b580d(0x279)](_0x25544f=>_0x25544f!==this['localId']&&!_0x15dfbe[_0x3b580d(0x20e)][_0x3b580d(0x49a)](_0x25544f));if(0x0===_0x590933[_0x3b580d(0x553)])throw new _0x29aa20('No\x20destinationIds\x20left');_0x2bd8ba['filteredDestinationIds']=_0x590933;}return _0x2bd8ba['extendedRecipients']=[...new Set([..._0x12eaac,..._0x126075,this['localId']])],_0x2bd8ba;}[_0x5a261d(0x12f)](_0x51d2a2,_0x5ca289=!0x1){const _0x2a165d=_0x5a261d;if(0x0===_0x51d2a2[_0x2a165d(0x742)]&&!_0x1058d0(_0x51d2a2,this[_0x2a165d(0x537)])&&_0x51d2a2[_0x2a165d(0x160)]){const _0x2f124b=_0x41302e(_0x51d2a2,this[_0x2a165d(0x537)]);_0x50fe93[_0x2a165d(0x54c)](_0x2d7d49[_0x2a165d(0x110)],_0x51d2a2[_0x2a165d(0x1ea)]+_0x2a165d(0x641)+_0x5ca289+')\x20'+_0x2f124b,_0x51d2a2,_0x5ca289);}}[_0x5a261d(0x336)](_0x28bba9){const _0xaebe61=_0x5a261d;if(_0x28bba9['destinationIds']&&_0x28bba9[_0xaebe61(0x160)]){const _0x4bd056=Array['from'](this[_0xaebe61(0x218)][_0xaebe61(0x472)]())[_0xaebe61(0x279)](_0x31ea06=>_0x31ea06[_0xaebe61(0x6f0)]()===_0x4c1abf[_0xaebe61(0x33f)]||_0x31ea06[_0xaebe61(0x4ad)]())[_0xaebe61(0x47f)](_0x53b703=>_0x53b703[_0xaebe61(0x4b3)]());return!_0x28bba9[_0xaebe61(0x5f9)][_0xaebe61(0x3f1)]((_0x387d5b,_0x53f5e5)=>_0x387d5b&&_0x4bd056[_0xaebe61(0x49a)](_0x53f5e5),!0x0);}return _0x28bba9['propagate']??!0x1;}[_0x5a261d(0x247)](_0x252798,_0x4ef0f7){const _0x3c1d64=_0x5a261d;if(_0x252798['propagate']&&_0x252798[_0x3c1d64(0x5f9)]){const _0x19c32e=Array[_0x3c1d64(0x61e)](this[_0x3c1d64(0x218)][_0x3c1d64(0x472)]())[_0x3c1d64(0x279)](_0x4252fc=>_0x4252fc['getConnectionType']()===_0x4c1abf[_0x3c1d64(0x33f)]||_0x4252fc['isConnected']())['map'](_0x5ea67a=>_0x5ea67a['getRemoteId']()),_0x55d8c5=new Set(),_0x28e530=_0x252798[_0x3c1d64(0x6f8)]===this[_0x3c1d64(0x537)]?0x3:0x1;return _0x252798['destinationIds'][_0x3c1d64(0x675)](_0x51f417=>{const _0x43b10f=_0x3c1d64,_0x4d1393=this[_0x43b10f(0x2f3)]['getClosestNodes'](_0x19c32e,_0x51f417);let _0x13c887=0x0,_0x385d3d=0x0;_0x4d1393[_0x43b10f(0x675)](_0xf3147e=>{const _0x41c3fa=_0x43b10f;if(_0x13c887>=_0x28e530)return;const _0x246b8f=Array['from'](this[_0x41c3fa(0x218)][_0x41c3fa(0x472)]())['find'](_0x355790=>_0x355790[_0x41c3fa(0x4b3)]()===_0xf3147e);if(_0x246b8f){if(_0x246b8f['getConnectionType']()===_0x4c1abf[_0x41c3fa(0x33f)]&&_0x385d3d>0x0)return void(_0x385d3d-=0x1);_0x55d8c5[_0x41c3fa(0x500)](_0x246b8f),_0x246b8f[_0x41c3fa(0x6f0)]()===_0x4c1abf[_0x41c3fa(0x351)]&&(_0x385d3d+=0x1),_0x13c887+=0x1;}});}),Array[_0x3c1d64(0x61e)](_0x55d8c5);}return Array['from'](this['connections'][_0x3c1d64(0x472)]())['filter'](_0x50425c=>{const _0x986d89=_0x3c1d64;return _0x49f6e2=_0x50425c['getRemoteId'](),!_0x4ef0f7['includes'](_0x49f6e2)&&(_0x3db9f3(_0x252798,_0x49f6e2)||_0x252798[_0x986d89(0x160)])&&(!_0x252798['propagate']||_0x50425c['isConnected']()||_0x50425c[_0x986d89(0x6f0)]()===_0x4c1abf[_0x986d89(0x33f)]);var _0x49f6e2;});}}class _0xd76200{[_0x5a261d(0x537)];[_0x5a261d(0x319)];[_0x5a261d(0x218)]=new Map();[_0x5a261d(0x30a)];constructor(_0x5c7926,_0x2a252b){const _0x3befc1=_0x5a261d;this[_0x3befc1(0x537)]=_0x5c7926,this[_0x3befc1(0x319)]=_0x2a252b;}['close'](){}['send'](_0x4caef6){const _0x1427a8=_0x5a261d;for(const _0x4039fb of this['connections'][_0x1427a8(0x472)]())try{return void _0x4039fb[_0x1427a8(0x468)]({'retry':!0x1,..._0x4caef6});}catch(_0x3543e0){_0x3543e0 instanceof _0x29aa20||_0x50fe93[_0x1427a8(0x287)](_0x2d7d49[_0x1427a8(0x789)],_0x1427a8(0x58e)+_0x4039fb,_0x3543e0,_0x4caef6);}_0x50fe93[_0x1427a8(0x287)](_0x2d7d49[_0x1427a8(0x789)],_0x1427a8(0x648));}[_0x5a261d(0x452)](_0x254adf){const _0x437efb=_0x5a261d,_0x32f4a9=_0x254adf[_0x437efb(0x43a)](_0x459e06=>{const _0x55f621=_0x437efb;this[_0x55f621(0x319)][_0x55f621(0x346)](_0x459e06[_0x55f621(0x1ea)])||0x0===_0x459e06[_0x55f621(0x742)]&&(this[_0x55f621(0x319)][_0x55f621(0x531)](_0x459e06[_0x55f621(0x1ea)]),_0x3db9f3(_0x459e06,this[_0x55f621(0x537)])&&this['systemTopic']?.['publish'](_0x459e06));});this[_0x437efb(0x218)][_0x437efb(0x1a1)](_0x254adf,_0x32f4a9);}[_0x5a261d(0x12e)](_0x5cea5c){const _0x45d9fe=_0x5a261d;this['connections'][_0x45d9fe(0x568)](_0x5cea5c)?.(),this[_0x45d9fe(0x218)][_0x45d9fe(0x20a)](_0x5cea5c);}[_0x5a261d(0x41c)](){const _0x45393c=_0x5a261d;return this[_0x45393c(0x537)];}[_0x5a261d(0x4b3)](){return'';}[_0x5a261d(0x2a8)](){const _0x124b77=_0x5a261d;return[_0x44eeae[_0x124b77(0xee)]['Data']];}[_0x5a261d(0x4ad)](){const _0x571c56=_0x5a261d;throw new Error(_0x571c56(0x3c3));}[_0x5a261d(0x126)](_0x4086c8){const _0x47f8e0=_0x5a261d;this[_0x47f8e0(0x30a)]=_0x4086c8;}[_0x5a261d(0x5bc)](){delete this['systemTopic'];}}class _0x2c0969{[_0x5a261d(0x6ca)]=new Map();['unsubscribeHandler'];constructor(){const _0x35a949=_0x5a261d;this[_0x35a949(0x3b6)]=_0x16ea6e[_0x35a949(0x18c)](()=>{const _0x1d7c09=_0x35a949;for(const [_0x530dd4,_0x10a813]of this['buffer']['entries']())Date[_0x1d7c09(0x4e6)]()-_0x10a813>0x124f80&&this['buffer']['delete'](_0x530dd4);},0x1d4c0);}[_0x5a261d(0x3e3)](){this['unsubscribeHandler']();}[_0x5a261d(0x531)](_0x10d0b0){const _0x48d7f7=_0x5a261d;this[_0x48d7f7(0x6ca)][_0x48d7f7(0x1a1)](_0x10d0b0,Date[_0x48d7f7(0x4e6)]());}[_0x5a261d(0x346)](_0x4666b4){const _0x6d08cf=_0x5a261d;return this['buffer'][_0x6d08cf(0x644)](_0x4666b4);}}class _0x508f2f{['configs'];[_0x5a261d(0x51c)];[_0x5a261d(0x596)];[_0x5a261d(0xe5)];['maxBpp'];['connectionConstructor'];['connections']=new Map();[_0x5a261d(0x489)];[_0x5a261d(0x5c6)];[_0x5a261d(0x258)];[_0x5a261d(0x319)];constructor(_0x43c5e9,_0xbea429,_0x352524,_0x3139f2,_0x2dc181,_0x5ef50f,_0x24431e){const _0x4068a0=_0x5a261d;this[_0x4068a0(0x54e)]=_0x43c5e9,this['authService']=_0xbea429,this[_0x4068a0(0x596)]=_0x352524,this['maxFps']=_0x3139f2,this[_0x4068a0(0x5de)]=_0x2dc181,this['connectionConstructor']=_0x24431e,this[_0x4068a0(0x319)]=new _0x2c0969(),this[_0x4068a0(0x5c6)]=new _0x54517b(this[_0x4068a0(0x54e)][_0x4068a0(0x783)][_0x4068a0(0x591)](),this[_0x4068a0(0x319)],_0x5ef50f),this[_0x4068a0(0x258)]=new _0x51778d(this['configs'][_0x4068a0(0xe6)],this[_0x4068a0(0x54e)][_0x4068a0(0x1f3)],this[_0x4068a0(0x54e)][_0x4068a0(0x783)],_0x4068a0(0x76b),this[_0x4068a0(0x51c)]),this[_0x4068a0(0x489)]=new _0xd76200(this[_0x4068a0(0x54e)]['localNode'][_0x4068a0(0x591)](),this[_0x4068a0(0x319)]),this[_0x4068a0(0x489)][_0x4068a0(0x452)](this['connectionGroup']),this[_0x4068a0(0x489)][_0x4068a0(0x452)](this[_0x4068a0(0x258)]),this[_0x4068a0(0x54e)][_0x4068a0(0x6d7)][_0x4068a0(0x334)](this[_0x4068a0(0x489)]);}[_0x5a261d(0x3e3)](){const _0x49ce3e=_0x5a261d;this['messageBuffer'][_0x49ce3e(0x3e3)](),this[_0x49ce3e(0x218)][_0x49ce3e(0x675)]((_0xf415c3,_0x24082d)=>this[_0x49ce3e(0x3f8)](_0x24082d)),this[_0x49ce3e(0x54e)]['mediator']['unregisterSystemSource'](this[_0x49ce3e(0x489)]),this[_0x49ce3e(0x489)][_0x49ce3e(0x12e)](this[_0x49ce3e(0x258)]),this[_0x49ce3e(0x489)][_0x49ce3e(0x12e)](this[_0x49ce3e(0x5c6)]),this[_0x49ce3e(0x489)][_0x49ce3e(0x3e3)](),this['signalingServer']['close'](),this[_0x49ce3e(0x5c6)][_0x49ce3e(0x3e3)]();}async[_0x5a261d(0x52e)](){const _0xae42fd=_0x5a261d;await this[_0xae42fd(0x258)]['connect']();}async[_0x5a261d(0x602)](_0x3cc99e,_0x46c80e=_0x4c1abf[_0x5a261d(0x33f)]){const _0x2b3aa7=_0x5a261d;if(this[_0x2b3aa7(0x218)][_0x2b3aa7(0x644)](_0x3cc99e)){if(this[_0x2b3aa7(0x218)][_0x2b3aa7(0x568)](_0x3cc99e)?.['getConnectionType']()===_0x4c1abf[_0x2b3aa7(0x351)]&&_0x46c80e===_0x4c1abf['Core'])return void this[_0x2b3aa7(0x218)][_0x2b3aa7(0x568)](_0x3cc99e)?.['setConnectionType'](_0x4c1abf[_0x2b3aa7(0x33f)]);throw new _0x2826e7(_0x2826e7[_0x2b3aa7(0x776)][_0x2b3aa7(0x593)],{'localId':this[_0x2b3aa7(0x54e)]['localNode'][_0x2b3aa7(0x591)](),'remoteId':_0x3cc99e});}const _0x266cb0=new _0x57fc1(this[_0x2b3aa7(0x54e)][_0x2b3aa7(0x1f3)],this['configs'][_0x2b3aa7(0x783)],_0x3cc99e,this[_0x2b3aa7(0x596)],_0x46c80e,this['maxFps'],this['maxBpp'],this[_0x2b3aa7(0x2fc)]);this[_0x2b3aa7(0x218)][_0x2b3aa7(0x1a1)](_0x3cc99e,_0x266cb0),this[_0x2b3aa7(0x5c6)][_0x2b3aa7(0x452)](_0x266cb0),this[_0x2b3aa7(0x54e)]['mediator'][_0x2b3aa7(0x334)](_0x266cb0),this['configs'][_0x2b3aa7(0x6d7)][_0x2b3aa7(0x2c1)](_0x3cc99e),await _0x266cb0[_0x2b3aa7(0x43d)]();}[_0x5a261d(0x353)](){return this['connectionGroup'];}['getConnection'](_0x3373a4){const _0x45c2e0=_0x5a261d;if(!this[_0x45c2e0(0x218)]['has'](_0x3373a4))throw new _0x2826e7(_0x2826e7[_0x45c2e0(0x776)][_0x45c2e0(0x21a)],{'localId':this[_0x45c2e0(0x54e)][_0x45c2e0(0x783)][_0x45c2e0(0x591)](),'remoteId':_0x3373a4});return this[_0x45c2e0(0x218)]['get'](_0x3373a4);}['getConnections'](_0x29e8d3){const _0x569f44=_0x5a261d,_0x5947f2=Array[_0x569f44(0x61e)](this[_0x569f44(0x218)]['values']());return _0x29e8d3?_0x5947f2[_0x569f44(0x279)](_0x29e8d3):_0x5947f2;}async[_0x5a261d(0x1ef)](_0x24eb55){const _0x51c19d=_0x5a261d,_0x36c3e9=this[_0x51c19d(0x218)][_0x51c19d(0x568)](_0x24eb55);_0x36c3e9&&_0x36c3e9[_0x51c19d(0x4ad)]()&&await _0x36c3e9[_0x51c19d(0x1ef)]();}['handleOutgoingSystemEvents'](_0xf101f1){const _0x5ae865=_0x5a261d;if(_0xf101f1['messageType']!==_0x3a54c1[_0x5ae865(0x3a2)]||_0xf101f1[_0x5ae865(0x160)])try{this[_0x5ae865(0x5c6)][_0x5ae865(0x468)](_0xf101f1);}catch(_0x4c3ed0){if(_0x4c3ed0 instanceof _0x29aa20)return;throw _0x4c3ed0;}else this[_0x5ae865(0x489)][_0x5ae865(0x468)](_0xf101f1);}async[_0x5a261d(0x654)](_0x1ff6c7){const _0x2d9fff=_0x5a261d;switch(_0x1ff6c7[_0x2d9fff(0x365)][_0x2d9fff(0x274)]){case _0x48dd43['Disconnect']:case _0x48dd43[_0x2d9fff(0x39a)]:case _0x48dd43[_0x2d9fff(0x754)]:return;}if(!_0x1ff6c7[_0x2d9fff(0x5f9)]||0x1!==_0x1ff6c7[_0x2d9fff(0x5f9)][_0x2d9fff(0x553)])throw new _0x2826e7(_0x2826e7[_0x2d9fff(0x776)][_0x2d9fff(0x5c2)],{'message':_0x2d9fff(0x614),'event':_0x1ff6c7});if(_0x1ff6c7['destinationIds'][0x0]!==this[_0x2d9fff(0x54e)][_0x2d9fff(0x783)]['getId']())throw new _0x2826e7(_0x2826e7[_0x2d9fff(0x776)][_0x2d9fff(0x5c2)],{'message':_0x2d9fff(0x15b),'event':_0x1ff6c7});if(!this['connections']['has'](_0x1ff6c7[_0x2d9fff(0x6f8)])){let _0x3beff4=_0x4c1abf[_0x2d9fff(0x33f)];if(!(this[_0x2d9fff(0x29d)](_0x1ff6c7[_0x2d9fff(0x365)])||this[_0x2d9fff(0x18b)](_0x1ff6c7[_0x2d9fff(0x365)])||this['isNeedRestart'](_0x1ff6c7['content'])))return;_0x3beff4=_0x1ff6c7[_0x2d9fff(0x365)][_0x2d9fff(0x3cd)],await this[_0x2d9fff(0x602)](_0x1ff6c7['sourceId'],_0x3beff4);}const _0x476347=this[_0x2d9fff(0x218)][_0x2d9fff(0x568)](_0x1ff6c7[_0x2d9fff(0x6f8)]);await _0x476347['handlePeerConnectionSystemEvents'](_0x1ff6c7);}['handleRemediationSystemEvents'](_0x1e45a3){const _0x40dc0c=_0x5a261d;if(_0x1e45a3['content']['type']===_0x3382d7[_0x40dc0c(0x378)]){if(_0x1e45a3['content']['targetId']===this['configs'][_0x40dc0c(0x783)][_0x40dc0c(0x591)]())return void this[_0x40dc0c(0x218)]['forEach'](_0x50918a=>_0x50918a['handleRemediationSystemEvents'](_0x1e45a3));this['connections'][_0x40dc0c(0x568)](_0x1e45a3['content'][_0x40dc0c(0x289)])?.['handleRemediationSystemEvents'](_0x1e45a3);}}[_0x5a261d(0x219)]({content:_0x13a96c}){const _0xacecf2=_0x5a261d;_0x13a96c['type']===_0x2d2d29[_0xacecf2(0x152)]&&this[_0xacecf2(0x3f8)](_0x13a96c['id']);}['closeConnection'](_0x16bbc6){const _0x2c7a4b=_0x5a261d,_0x484587=this[_0x2c7a4b(0x218)]['get'](_0x16bbc6);_0x484587&&(this['configs'][_0x2c7a4b(0x6d7)][_0x2c7a4b(0x717)](_0x16bbc6),this['configs']['mediator'][_0x2c7a4b(0x6f3)](_0x484587),_0x484587 instanceof _0x57fc1&&this['connectionGroup'][_0x2c7a4b(0x12e)](_0x484587),_0x484587[_0x2c7a4b(0x3e3)](),this[_0x2c7a4b(0x218)]['delete'](_0x16bbc6));}[_0x5a261d(0x29d)](_0x3dd067){const _0x1a5543=_0x5a261d;return _0x3dd067[_0x1a5543(0x274)]===_0x48dd43[_0x1a5543(0x4cc)];}['isNeedRestart'](_0x17ee2a){const _0x5576fa=_0x5a261d;return _0x17ee2a['type']===_0x48dd43[_0x5576fa(0x2ac)];}[_0x5a261d(0x18b)](_0x570cde){const _0x1e3735=_0x5a261d;return _0x570cde['type']===_0x48dd43[_0x1e3735(0x49b)];}}!function(_0x19574e){const _0x2866b9=_0x5a261d;_0x19574e[_0x19574e[_0x2866b9(0x46d)]=0x0]=_0x2866b9(0x46d),_0x19574e[_0x19574e[_0x2866b9(0x6f1)]=0x1]='UpdateMediaStream',_0x19574e[_0x19574e[_0x2866b9(0x30f)]=0x2]=_0x2866b9(0x30f),_0x19574e[_0x19574e[_0x2866b9(0x29f)]=0x3]=_0x2866b9(0x29f),_0x19574e[_0x19574e[_0x2866b9(0x68b)]=0x4]='RestartNeedMediaStream',_0x19574e[_0x19574e[_0x2866b9(0x66d)]=0x5]='CanProvideMediaStream',_0x19574e[_0x19574e['CannotProvideMediaStream']=0x6]=_0x2866b9(0x55a),_0x19574e[_0x19574e[_0x2866b9(0x4c6)]=0x7]='MediaStreamUnavailable';}(_0x24c720||(_0x24c720={}));const _0x2d45ce=require('rxjs');class _0x141a9e extends _0x2536ee{[_0x5a261d(0x2f3)];['jobs']=new Map();['jobObservers']=new Map();[_0x5a261d(0x1c8)]=new Map();[_0x5a261d(0x3b6)];constructor(_0x45b399,_0x204ac7,_0x347c6d){const _0x4a0f7f=_0x5a261d;super(_0x45b399,_0x204ac7),this[_0x4a0f7f(0x2f3)]=_0x347c6d;}[_0x5a261d(0x72b)](){const _0x286b05=_0x5a261d;return _0x44eeae[_0x286b05(0xee)]['Job'];}[_0x5a261d(0x625)](){const _0x2266fb=_0x5a261d;this[_0x2266fb(0x3b6)]=this[_0x2266fb(0x43a)]((_0x37e0c5,_0x431c87)=>{const _0x549cfb=_0x2266fb;if(_0x50fe93[_0x549cfb(0x287)](_0x2d7d49['Jobs'],_0x549cfb(0x60a),_0x37e0c5,_0x431c87,this[_0x549cfb(0x2f3)][_0x549cfb(0x6d0)]()),!(_0x431c87 instanceof File)){if(!_0x431c87)throw new _0x2826e7(_0x2826e7[_0x549cfb(0x776)]['JobDispatcherInvalidPayload']);return this[_0x549cfb(0x2eb)](_0x431c87)?this['addBidResponse'](_0x37e0c5,_0x431c87['id'],_0x431c87):this[_0x549cfb(0x61a)](_0x431c87)?(_0x50fe93[_0x549cfb(0x287)](_0x2d7d49[_0x549cfb(0x78c)],_0x549cfb(0x5b6)+_0x431c87['id']+_0x549cfb(0x698),_0x431c87['result']),void this[_0x549cfb(0x1d4)](_0x431c87['id'],_0x431c87)):this['isResultResponse'](_0x431c87)?(_0x50fe93[_0x549cfb(0x287)](_0x2d7d49['Jobs'],_0x549cfb(0x5b6)+_0x431c87['id']+_0x549cfb(0x13b),_0x431c87[_0x549cfb(0x571)]),void this[_0x549cfb(0x350)](_0x431c87['id'],_0x431c87)):void(this['isFailedResponse'](_0x431c87)&&this['failJob'](_0x431c87['id'],_0x431c87[_0x549cfb(0x1c3)]));}});}[_0x5a261d(0x352)](){const _0x127fbf=_0x5a261d;this['clear'](),this[_0x127fbf(0x625)]();}[_0x5a261d(0x4fe)](){const _0x1950fb=_0x5a261d;this[_0x1950fb(0x220)](),super[_0x1950fb(0x4fe)]();}[_0x5a261d(0x220)](){const _0x59e661=_0x5a261d;this[_0x59e661(0x4b1)][_0x59e661(0x220)](),this[_0x59e661(0x3b6)]&&this[_0x59e661(0x3b6)]();}[_0x5a261d(0x3e3)](){const _0xe627ec=_0x5a261d;this['systemTopic']?.[_0xe627ec(0x3b8)]({'sourceId':_0x4f18fa,'messageType':_0x3a54c1[_0xe627ec(0x55b)],'content':{'type':_0x534fb2['CloseJobDispatcher'],'label':this['label']}});}async[_0x5a261d(0x6a1)](_0x57b2ef){const _0x6a65c2=_0x5a261d,{id:_0xfe18a5,parameters:_0x21ff7d,jobType:_0x3ee4ef}=_0x57b2ef,_0x194036={'id':_0xfe18a5,'jobType':_0x3ee4ef,'parameters':_0x21ff7d,'status':_0x44eeae[_0x6a65c2(0x398)][_0x6a65c2(0x2b5)],'created':new Date(),'updated':new Date()};if(this[_0x6a65c2(0x4b1)][_0x6a65c2(0x644)](_0x194036['id']))throw new _0x1a3a24(_0x1cb6bb['JobDispatcherJobExists'],_0x6a65c2(0x18d)+_0x194036['id']+_0x6a65c2(0x3f5));_0x194036['created']=new Date(),_0x194036[_0x6a65c2(0x320)]=new Date();const _0x1bac95=new _0x2d45ce[(_0x6a65c2(0x464))]();this['jobs']['set'](_0x194036['id'],_0x194036),this[_0x6a65c2(0x68f)][_0x6a65c2(0x1a1)](_0x194036['id'],_0x1bac95);try{const _0x2425c4={'id':_0x194036['id'],'jobPhase':_0x2217c7[_0x6a65c2(0x5a6)],'jobType':_0x194036[_0x6a65c2(0x75d)]},_0x8fcaa8=0x3;let _0x2e1c48=0x0;const _0x13747a=async()=>{const _0x2d3dea=_0x6a65c2;_0x2e1c48+=0x1;try{_0x50fe93[_0x2d3dea(0x287)](_0x2d7d49[_0x2d3dea(0x78c)],_0x2d3dea(0x5b6)+_0x194036['id']+_0x2d3dea(0x133)+_0x2e1c48+'.',this[_0x2d3dea(0x2f3)][_0x2d3dea(0x6d0)]()),await this[_0x2d3dea(0x468)](_0x2425c4),_0x194036['updated']=new Date(),this['jobs'][_0x2d3dea(0x1a1)](_0x194036['id'],_0x194036),this[_0x2d3dea(0x611)](_0x194036['id']);}catch(_0x21f96f){_0x2e1c48<_0x8fcaa8?(_0x50fe93['warning']('Attempt\x20'+_0x2e1c48+_0x2d3dea(0x729)+_0x194036['id']+_0x2d3dea(0x416),{'nodeId':this[_0x2d3dea(0x151)][_0x2d3dea(0x591)](),'nodeType':this[_0x2d3dea(0x151)][_0x2d3dea(0x274)],'data':{'job':_0x194036,'attempts':_0x2e1c48,'maxRetries':_0x8fcaa8}}),setTimeout(_0x13747a,0x3e8)):(_0x194036[_0x2d3dea(0x244)]=_0x44eeae[_0x2d3dea(0x398)]['Failed'],_0x194036['updated']=new Date(),this['jobs']['set'](_0x194036['id'],_0x194036),_0x50fe93[_0x2d3dea(0x671)]('Failed\x20to\x20send\x20job\x20'+_0x194036['id']+_0x2d3dea(0x6cf)+_0x8fcaa8+_0x2d3dea(0x774),{'nodeId':this[_0x2d3dea(0x151)][_0x2d3dea(0x591)](),'nodeType':this[_0x2d3dea(0x151)][_0x2d3dea(0x274)],'data':{'job':_0x194036,'attempts':_0x2e1c48,'maxRetries':_0x8fcaa8,'error':_0x21f96f}}));}};_0x13747a();const {id:_0x4ed1b0}=_0x194036;this['logEvent']('Job\x20'+_0x194036['id']+'\x20created\x20and\x20dispatched.',{'jobId':_0x4ed1b0}),_0x194036[_0x6a65c2(0x320)]=new Date();}catch(_0x3e3a65){_0x194036[_0x6a65c2(0x244)]=_0x44eeae[_0x6a65c2(0x398)][_0x6a65c2(0x10c)],_0x50fe93[_0x6a65c2(0x671)]('Failed\x20to\x20send\x20job\x20'+_0x194036['id']+':',{'nodeId':this[_0x6a65c2(0x151)][_0x6a65c2(0x591)](),'nodeType':this['owner'][_0x6a65c2(0x274)],'data':{'job':_0x194036,'error':_0x3e3a65}});}return _0x1bac95[_0x6a65c2(0x479)]();}[_0x5a261d(0x5a0)](_0x4499cd){const _0x5e005d=_0x5a261d,_0xd9635d=this[_0x5e005d(0x4b1)][_0x5e005d(0x568)](_0x4499cd);if(!_0xd9635d)throw new _0x1a3a24(_0x1cb6bb[_0x5e005d(0x2a9)],_0x5e005d(0x18d)+_0x4499cd+_0x5e005d(0x54b));return{'id':_0xd9635d['id'],'jobType':_0xd9635d[_0x5e005d(0x75d)],'status':_0xd9635d[_0x5e005d(0x244)],'parameters':_0xd9635d['parameters']};}[_0x5a261d(0x1ba)](){const _0x36b9e8=_0x5a261d;return Array['from'](this[_0x36b9e8(0x4b1)]['values']())['map'](_0x562168=>this['getJob'](_0x562168['id']));}async[_0x5a261d(0x3a0)](_0x303be9,_0x2ab178){const _0x200b9e=_0x5a261d,_0x25014c=this[_0x200b9e(0x4b1)][_0x200b9e(0x568)](_0x303be9);if(!_0x25014c)throw new _0x1a3a24(_0x1cb6bb['JobDispatcherJobNotFound'],'Job\x20with\x20id\x20'+_0x303be9+'\x20not\x20found.');_0x25014c[_0x200b9e(0x6dc)]=_0x2ab178,_0x25014c[_0x200b9e(0x320)]=new Date(),this[_0x200b9e(0x4b1)][_0x200b9e(0x1a1)](_0x303be9,_0x25014c);}async[_0x5a261d(0x405)](_0x221f55){const _0x5e5563=_0x5a261d;if(!this[_0x5e5563(0x4b1)][_0x5e5563(0x20a)](_0x221f55))throw new _0x1a3a24(_0x1cb6bb[_0x5e5563(0x2a9)],_0x5e5563(0x18d)+_0x221f55+'\x20not\x20found.');const _0x5cf92f=this[_0x5e5563(0x68f)]['get'](_0x221f55);if(!_0x5cf92f)throw new _0x2826e7(_0x2826e7['codes'][_0x5e5563(0x238)]);_0x5cf92f['complete'](),this[_0x5e5563(0x68f)][_0x5e5563(0x20a)](_0x221f55),_0x50fe93['log'](_0x2d7d49['Jobs'],'Job\x20'+_0x221f55+_0x5e5563(0x193));}[_0x5a261d(0x392)](_0xa22cf1,_0x1ecdfd,_0x475ca7){const _0x340a6b=_0x5a261d,_0x2a35ce=this[_0x340a6b(0x1c8)][_0x340a6b(0x568)](_0x1ecdfd)??new Map();_0x2a35ce['set'](_0xa22cf1,[_0x475ca7,Date['now']()]),this[_0x340a6b(0x1c8)]['set'](_0x1ecdfd,_0x2a35ce),this[_0x340a6b(0x1ff)](_0x1ecdfd);}[_0x5a261d(0x611)](_0x14c099){const _0x3b2673=_0x5a261d,_0x264fb1=this[_0x3b2673(0x4b1)]['get'](_0x14c099);if(!_0x264fb1)throw new _0x2826e7(_0x2826e7[_0x3b2673(0x776)][_0x3b2673(0x2a9)]);const _0x38df89=setTimeout(()=>this[_0x3b2673(0x1ff)](_0x14c099,!0x0),0xbb8);_0x264fb1[_0x3b2673(0x687)]=_0x38df89,this[_0x3b2673(0x4b1)]['set'](_0x264fb1['id'],_0x264fb1);}[_0x5a261d(0x1ff)](_0xb2fc7,_0x57b056=!0x1){const _0x3068e3=_0x5a261d,_0x1647a8=this['graphService'][_0x3068e3(0x6d0)](),_0x36934f=Array['from'](_0x1647a8[_0x3068e3(0x741)]())[_0x3068e3(0x279)](_0x28a0be=>_0x28a0be[_0x3068e3(0x274)]===_0x44eeae[_0x3068e3(0x423)][_0x3068e3(0x431)]),_0xe2a38e=this[_0x3068e3(0x1c8)][_0x3068e3(0x568)](_0xb2fc7)??new Map();if(!_0x57b056&&(!_0xe2a38e||_0xe2a38e['size']<_0x36934f[_0x3068e3(0x553)]))return;const _0xf4c61d=this[_0x3068e3(0x4b1)][_0x3068e3(0x568)](_0xb2fc7);if(!_0xf4c61d)throw new _0x2826e7(_0x2826e7[_0x3068e3(0x776)]['JobDispatcherJobNotFound']);clearTimeout(_0xf4c61d[_0x3068e3(0x687)]),_0x50fe93[_0x3068e3(0x287)](_0x2d7d49['Jobs'],_0x3068e3(0x5b6)+_0xf4c61d['id']+'\x20received\x20responses:',_0xe2a38e,this['jobBids']);const _0x59a3f1=Array[_0x3068e3(0x61e)](_0xe2a38e[_0x3068e3(0x580)]())['filter'](([,[_0x30d8c2]])=>_0x30d8c2[_0x3068e3(0x61b)]);if(!_0xe2a38e||0x0===_0xe2a38e[_0x3068e3(0x101)]||0x0===_0x59a3f1[_0x3068e3(0x553)]){_0xf4c61d[_0x3068e3(0x244)]=_0x44eeae[_0x3068e3(0x398)]['Failed'],_0xf4c61d[_0x3068e3(0x320)]=new Date(),_0x50fe93['error'](_0x3068e3(0x5b6)+_0xf4c61d['id']+'\x20failed\x20to\x20receive\x20a\x20valid\x20bid\x20responses\x20in\x20time.',{'nodeId':this[_0x3068e3(0x151)][_0x3068e3(0x591)](),'nodeType':this[_0x3068e3(0x151)][_0x3068e3(0x274)],'data':{'job':_0xf4c61d,'responses':_0xe2a38e}});const _0xa49171=this[_0x3068e3(0x68f)]['get'](_0xb2fc7);if(!_0xa49171)throw new _0x2826e7(_0x2826e7['codes'][_0x3068e3(0x238)]);const _0x2534a9=_0x3068e3(0x76a),_0x4fc053={'id':_0xf4c61d['id'],'status':_0xf4c61d['status'],'message':_0x2534a9};return _0xa49171[_0x3068e3(0x3ec)](_0x4fc053),_0xa49171['complete'](),this[_0x3068e3(0x4b1)]['set'](_0xf4c61d['id'],_0xf4c61d),void this[_0x3068e3(0x1c8)][_0x3068e3(0x20a)](_0xb2fc7);}const {nodeId:_0x1de4d3,response:_0xbcbe46}=this[_0x3068e3(0x372)](_0xf4c61d['id'],_0xe2a38e);_0xf4c61d['status']=_0x44eeae['JobStatus'][_0x3068e3(0x4d4)],_0xf4c61d[_0x3068e3(0x320)]=new Date(),_0x50fe93[_0x3068e3(0x287)](_0x2d7d49[_0x3068e3(0x78c)],_0x3068e3(0x5b6)+_0xf4c61d['id']+'\x20attributed\x20to\x20'+_0x1de4d3+_0x3068e3(0x55d),_0xbcbe46);const _0x33abef={'id':_0xf4c61d['id'],'jobType':_0xf4c61d[_0x3068e3(0x75d)],'jobPhase':_0x2217c7['Attribution'],'parameters':_0xf4c61d[_0x3068e3(0x6dc)]};this[_0x3068e3(0x468)](_0x33abef,[_0x1de4d3]),this['jobs'][_0x3068e3(0x1a1)](_0xf4c61d['id'],_0xf4c61d),this[_0x3068e3(0x1c8)]['delete'](_0xb2fc7);}[_0x5a261d(0x372)](_0x608ac4,_0x22aac0){const _0x112e62=_0x5a261d,_0x59f0ec=Array[_0x112e62(0x61e)](_0x22aac0[_0x112e62(0x580)]())[_0x112e62(0x719)]((_0x7bc087,_0x2c545a)=>_0x2c545a[0x1][0x0][_0x112e62(0x236)]-_0x7bc087[0x1][0x0][_0x112e62(0x236)]);if(0x1===_0x59f0ec[_0x112e62(0x553)])return{'nodeId':_0x59f0ec[0x0][0x0],'response':_0x59f0ec[0x0][0x1][0x0]};const _0x1b3792=(_0xac391f=>{const _0x1d265e=_0x112e62,_0x7e8cee=_0xac391f[0x0][0x1][0x0]['bid'];return _0xac391f[_0x1d265e(0x279)](([,[_0x321786]])=>_0x321786[_0x1d265e(0x236)]===_0x7e8cee);})(_0x59f0ec);if(0x1===_0x1b3792[_0x112e62(0x553)])return{'nodeId':_0x1b3792[0x0][0x0],'response':_0x1b3792[0x0][0x1][0x0]};const _0x2ee1de=this['jobs'][_0x112e62(0x568)](_0x608ac4);if(!_0x2ee1de)throw new _0x2826e7(_0x2826e7[_0x112e62(0x776)][_0x112e62(0x2a9)]);const _0x4bf4c1=_0x2ee1de[_0x112e62(0x10b)]['getTime'](),_0x1ea500=_0x1b3792[_0x112e62(0x47f)](([_0x734efd,[,_0x59ac57]])=>({'nodeId':_0x734efd,'rtt':_0x59ac57-_0x4bf4c1})),_0x3e7fa0=Math[_0x112e62(0x131)](..._0x1ea500['map'](({rtt:_0x1c95ba})=>_0x1c95ba)),_0xbd8c46=_0x1ea500[_0x112e62(0x19f)](({rtt:_0xf9b5b0})=>_0xf9b5b0===_0x3e7fa0),[,[_0x2f0007]]=_0x1b3792[_0x112e62(0x19f)](([_0x8044f3])=>_0x8044f3===_0xbd8c46['nodeId']);return{'nodeId':_0xbd8c46['nodeId'],'response':_0x2f0007};}[_0x5a261d(0x1d4)](_0x2004f5,_0x559460){const _0x407aa4=_0x5a261d,_0x5a9194=this[_0x407aa4(0x4b1)]['get'](_0x2004f5);if(!_0x5a9194)throw new _0x2826e7(_0x2826e7[_0x407aa4(0x776)]['JobDispatcherJobNotFound']);const _0x536520=this[_0x407aa4(0x68f)][_0x407aa4(0x568)](_0x2004f5);if(!_0x536520)throw new _0x2826e7(_0x2826e7[_0x407aa4(0x776)][_0x407aa4(0x238)]);const _0x27bfb3={'id':_0x5a9194['id'],'status':_0x44eeae[_0x407aa4(0x398)][_0x407aa4(0x2b8)],'result':_0x559460[_0x407aa4(0x571)]};_0x536520[_0x407aa4(0x3ec)](_0x27bfb3);}[_0x5a261d(0x350)](_0x2e0154,_0x3fe56a){const _0x1d3059=_0x5a261d,_0x3b9939=this[_0x1d3059(0x4b1)][_0x1d3059(0x568)](_0x2e0154);if(!_0x3b9939)throw new _0x2826e7(_0x2826e7[_0x1d3059(0x776)][_0x1d3059(0x2a9)]);const _0x4f09f0=this[_0x1d3059(0x68f)][_0x1d3059(0x568)](_0x2e0154);if(!_0x4f09f0)throw new _0x2826e7(_0x2826e7[_0x1d3059(0x776)][_0x1d3059(0x238)]);_0x3b9939[_0x1d3059(0x244)]=_0x44eeae[_0x1d3059(0x398)]['Completed'];const _0xebf27b={'id':_0x3b9939['id'],'status':_0x3b9939[_0x1d3059(0x244)],'result':_0x3fe56a[_0x1d3059(0x571)]};_0x4f09f0[_0x1d3059(0x3ec)](_0xebf27b),_0x4f09f0[_0x1d3059(0x409)](),this[_0x1d3059(0x68f)]['delete'](_0x2e0154),this[_0x1d3059(0x3cb)](_0x1d3059(0x5b6)+_0x2e0154+_0x1d3059(0x573),{'jobId':_0x2e0154});}['failJob'](_0x1805b4,_0x41168f){const _0x5e5791=_0x5a261d,_0x58d0f8=this['jobs'][_0x5e5791(0x568)](_0x1805b4);if(!_0x58d0f8)throw new _0x2826e7(_0x2826e7[_0x5e5791(0x776)][_0x5e5791(0x2a9)]);const _0x3f603c=this['jobObservers']['get'](_0x1805b4);if(!_0x3f603c)throw new _0x2826e7(_0x2826e7['codes']['JobDispatcherObserverNotFound']);_0x58d0f8[_0x5e5791(0x244)]=_0x44eeae[_0x5e5791(0x398)][_0x5e5791(0x10c)];const _0x1b8534={'id':_0x58d0f8['id'],'status':_0x58d0f8[_0x5e5791(0x244)],'message':_0x41168f};_0x3f603c[_0x5e5791(0x3ec)](_0x1b8534),_0x3f603c[_0x5e5791(0x409)](),this[_0x5e5791(0x68f)][_0x5e5791(0x20a)](_0x1805b4),this['logEvent'](_0x5e5791(0x5b6)+_0x1805b4+_0x5e5791(0x3e6),{'jobId':_0x1805b4});}['logEvent'](_0x5b5313,{jobId:_0x19bc5a}){const _0x1f7c97=_0x5a261d,_0x27bc00={'jobId':_0x19bc5a,'mistletIds':Array['from'](this['graphService'][_0x1f7c97(0x6d0)]()[_0x1f7c97(0x741)]())[_0x1f7c97(0x279)](_0x961b22=>_0x961b22['type']===_0x44eeae[_0x1f7c97(0x423)][_0x1f7c97(0x431)])[_0x1f7c97(0x47f)](_0x569af8=>_0x569af8[_0x1f7c97(0x591)]())};_0x50fe93['logEvent'](_0x5b5313,{'nodeId':this['getOwnerId'](),'nodeType':this['owner'][_0x1f7c97(0x274)],'data':_0x27bc00}),_0x50fe93[_0x1f7c97(0x287)](_0x2d7d49[_0x1f7c97(0x78c)],_0x5b5313,_0x27bc00);}[_0x5a261d(0x2eb)](_0x514449){const _0xe7dba2=_0x5a261d,{jobPhase:_0x5b1082,available:_0x18ab63,bid:_0x4fb9b7}=_0x514449;return _0x5b1082===_0x2217c7[_0xe7dba2(0x380)]&&void 0x0!==_0x18ab63&&void 0x0!==_0x4fb9b7;}[_0x5a261d(0x61a)](_0x5da0a1){const _0x276420=_0x5a261d,{jobPhase:_0x3209c3,result:_0x43ef8b}=_0x5da0a1;return _0x3209c3===_0x2217c7[_0x276420(0x28b)]&&void 0x0!==_0x43ef8b;}['isResultResponse'](_0x1920b2){const _0x5a90f4=_0x5a261d,{jobPhase:_0xe7c90f,result:_0xe1bc5f}=_0x1920b2;return _0xe7c90f===_0x2217c7[_0x5a90f4(0x618)]&&void 0x0!==_0xe1bc5f;}[_0x5a261d(0x339)](_0x459a14){const {jobPhase:_0x561a75,message:_0xbc00f3}=_0x459a14;return _0x561a75===_0x2217c7['Failed']&&void 0x0!==_0xbc00f3&&'string'==typeof _0xbc00f3;}}class _0x2a11c5 extends _0x141a9e{[_0x5a261d(0xfe)];[_0x5a261d(0x235)]=0x0;['tokens']=0x0;['debounceStats'];constructor(_0x55399a,_0x281f29,_0x364e41,_0x17fb34){const _0x272b5b=_0x5a261d;super(_0x55399a,_0x281f29,_0x364e41),this[_0x272b5b(0xfe)]=_0x17fb34,this[_0x272b5b(0x16f)]();}[_0x5a261d(0x4fe)](){const _0x138d4a=_0x5a261d;this[_0x138d4a(0xfe)][_0x138d4a(0x3e3)](),this[_0x138d4a(0x507)]&&(clearTimeout(this[_0x138d4a(0x507)]),delete this[_0x138d4a(0x507)]),super['destroy']();}async[_0x5a261d(0x74e)](_0x1f969b,_0x18705b){const _0x2b7de4=_0x5a261d,_0x2a732a=await this['getJobObservable'](_0x1f969b,_0x44eeae['JobType'][_0x2b7de4(0x505)],_0x18705b);return new Promise((_0x265832,_0x3fdd64)=>{const _0x3cb9da=_0x2b7de4;let _0x1db88a;const _0x4be988=_0x2a732a[_0x3cb9da(0x313)]({'next':_0x1367b0=>{const _0x5c8b9f=_0x3cb9da;switch(_0x1367b0[_0x5c8b9f(0x244)]){case _0x44eeae[_0x5c8b9f(0x398)][_0x5c8b9f(0x260)]:const _0x14bd52=_0x1367b0[_0x5c8b9f(0x571)]['inputTokens']??0x0;this['logServiceEvent'](_0x14bd52),clearTimeout(_0x1db88a),_0x265832(_0x1367b0['result']),_0x4be988[_0x5c8b9f(0x76e)](),this[_0x5c8b9f(0x235)]+=0x1,this['tokens']+=_0x14bd52,this[_0x5c8b9f(0x16f)]();break;case _0x44eeae[_0x5c8b9f(0x398)]['Failed']:clearTimeout(_0x1db88a),_0x3fdd64(new _0x2826e7(_0x2826e7[_0x5c8b9f(0x776)][_0x5c8b9f(0x285)],{'updatedJob':_0x1367b0})),_0x4be988['unsubscribe'](),this[_0x5c8b9f(0x16f)]();}},'error':_0x4d1b2e=>{const _0x3d16a8=_0x3cb9da;clearTimeout(_0x1db88a),_0x3fdd64(new _0x2826e7(_0x2826e7[_0x3d16a8(0x776)]['GenerativeAIContextJobFailed'],{'err':_0x4d1b2e})),_0x4be988[_0x3d16a8(0x76e)]();}});_0x1db88a=setTimeout(()=>{_0x3fdd64(new _0x2826e7(_0x2826e7['codes']['GenerativeAIContextJobTimeout'])),_0x4be988['unsubscribe']();},_0x125270);});}async*['stream'](_0x31ca47,_0x41fa12){const _0x79c175=_0x5a261d,_0x2a7b66=await this[_0x79c175(0x668)](_0x31ca47,_0x44eeae[_0x79c175(0x390)][_0x79c175(0x5cd)],_0x41fa12);let _0x27bb5d,_0x5641e2=!0x1,_0x206aa0=0x0;const _0x51731a=[],_0x279010=new Map();let _0x463077=null;const _0x525491=()=>{_0x463077&&(_0x463077(),_0x463077=null);},_0x544f42=()=>{const _0x443503=_0x79c175;_0x5641e2=!0x0,_0x525491(),_0x3daaa3[_0x443503(0x76e)]();},_0x3daaa3=_0x2a7b66[_0x79c175(0x313)]({'next':_0x36372f=>{const _0x27042a=_0x79c175;switch(_0x36372f[_0x27042a(0x244)]){case _0x44eeae[_0x27042a(0x398)][_0x27042a(0x2b8)]:if(_0x36372f[_0x27042a(0x571)]&&_0x36372f[_0x27042a(0x571)][_0x27042a(0x270)]){if(void 0x0===_0x36372f[_0x27042a(0x571)]['index'])throw _0x544f42(),new _0x2826e7(_0x2826e7[_0x27042a(0x776)][_0x27042a(0x6be)],{'updatedJob':_0x36372f});_0x206aa0===_0x36372f['result'][_0x27042a(0x637)]?(_0x51731a['push'](_0x36372f['result']),_0x206aa0++,((()=>{const _0x420a56=_0x27042a;for(;_0x279010[_0x420a56(0x644)](_0x206aa0);)_0x51731a[_0x420a56(0x6bc)](_0x279010[_0x420a56(0x568)](_0x51731a[_0x420a56(0x553)])),_0x279010[_0x420a56(0x20a)](_0x51731a[_0x420a56(0x553)]),_0x206aa0++;})()),_0x525491(),_0x508f17()):_0x279010[_0x27042a(0x1a1)](_0x36372f[_0x27042a(0x571)][_0x27042a(0x637)],_0x36372f[_0x27042a(0x571)]);}break;case _0x44eeae[_0x27042a(0x398)]['Completed']:const _0x55812e=_0x36372f[_0x27042a(0x571)][_0x27042a(0x759)]??0x0;this['logServiceEvent'](_0x55812e),clearTimeout(_0x27bb5d),_0x544f42(),this[_0x27042a(0x235)]+=0x1,this['tokens']+=_0x55812e,this[_0x27042a(0x16f)]();break;case _0x44eeae[_0x27042a(0x398)]['Failed']:throw clearTimeout(_0x27bb5d),_0x544f42(),this[_0x27042a(0x16f)](),new _0x2826e7(_0x2826e7[_0x27042a(0x776)][_0x27042a(0x285)],{'updatedJob':_0x36372f});}},'error':_0x2c3b9c=>{const _0x501aec=_0x79c175;throw clearTimeout(_0x27bb5d),_0x544f42(),new _0x2826e7(_0x2826e7[_0x501aec(0x776)][_0x501aec(0x285)],{'err':_0x2c3b9c});}}),_0x3e9cf6=()=>{const _0x15eafd=_0x79c175;throw _0x544f42(),new _0x2826e7(_0x2826e7['codes'][_0x15eafd(0xf1)]);},_0x508f17=()=>{clearTimeout(_0x27bb5d),_0x27bb5d=setTimeout(_0x3e9cf6,_0x125270);};for(_0x27bb5d=setTimeout(_0x3e9cf6,_0x125270);!_0x5641e2||_0x51731a[_0x79c175(0x553)]>0x0;)_0x51731a['length']>0x0?yield _0x51731a[_0x79c175(0x34d)]():await new Promise(_0x548f43=>_0x463077=_0x548f43);}async['uploadModel'](_0x43e07b,_0x16b98d=_0x44eeae[_0x5a261d(0x185)][_0x5a261d(0x33a)]){const _0x4c8dea=_0x5a261d,_0x7bbbd6=_0x16b98d===_0x44eeae['GenerativeAIModelType'][_0x4c8dea(0x33a)]?_0x1ab7a1:_0x30b0d4,_0x2e37c5=new File([_0x43e07b],_0x7bbbd6,{'type':_0x43e07b['type']});await this[_0x4c8dea(0xfe)][_0x4c8dea(0x3b8)]({'action':_0x44eeae[_0x4c8dea(0x14d)][_0x4c8dea(0x6f4)],'file':_0x2e37c5,'path':_0x4c8dea(0x663),'skipEncryption':!0x0});}async['deleteModel'](_0x439928=_0x1ab7a1){const _0x15a934=_0x5a261d;await this['objectStore']['unpublish'](_0x15a934(0x6db)+_0x439928);}[_0x5a261d(0x501)](_0x363cf7){const _0x2a88fa=_0x5a261d,_0x4f7a77=this[_0x2a88fa(0x726)],_0x44c8be=this['getOwnerId']();_0x50fe93[_0x2a88fa(0x501)](_0x39a0cc[_0x2a88fa(0x64a)],{'topic':_0x4f7a77,'type':_0x2a88fa(0x74e),'nodeId':_0x44c8be,'tokenCount':_0x363cf7});}async['getJobObservable'](_0x78751a,_0x46ecf6,_0x19cd2a={}){const _0x303133=_0x5a261d,_0x2254ae={'id':_0x303133(0x4b6)+(0x0,_0x298876['v4'])(),'jobType':_0x46ecf6,'parameters':{'prompt':_0x78751a,..._0x19cd2a},'status':_0x44eeae['JobStatus'][_0x303133(0x2b5)]};return await this[_0x303133(0x6a1)](_0x2254ae);}['sendStats'](){const _0x3d011f=_0x5a261d;this[_0x3d011f(0x507)]&&clearTimeout(this[_0x3d011f(0x507)]),this['debounceStats']=setTimeout(async()=>{const _0xa6e788=_0x3d011f;delete this[_0xa6e788(0x507)],this[_0xa6e788(0x30a)][_0xa6e788(0x3b8)]({'sourceId':_0x4f18fa,'messageType':_0x3a54c1['Content'],'content':{'type':_0x534fb2[_0xa6e788(0x711)],'label':this[_0xa6e788(0x726)],'stats':{'timestamp':Date['now'](),'storage':0x0,'messagesSent':this[_0xa6e788(0x2e8)],'messagesReceived':this[_0xa6e788(0x35f)],'bytesSent':this[_0xa6e788(0xf7)],'bytesReceived':this[_0xa6e788(0x608)],'writes':0x0,'reads':0x0,'prompts':this['prompts'],'tokens':this['tokens']}}});},0x1388);}}class _0xd407c extends _0x2536ee{[_0x5a261d(0x627)];[_0x5a261d(0x27f)];[_0x5a261d(0x2b4)];['isRunning']=!0x1;constructor(_0x3254cb,_0x32354e,_0x3ee220,_0x515856){const _0x33cb36=_0x5a261d;super(_0x3254cb,_0x32354e),this[_0x33cb36(0x627)]=_0x3ee220,this[_0x33cb36(0x27f)]=_0x515856;}[_0x5a261d(0x72b)](){const _0x30ffc7=_0x5a261d;return _0x44eeae[_0x30ffc7(0xee)][_0x30ffc7(0x505)];}['open'](){this['subscribeToJobs']();}['close'](){const _0xa0fe53=_0x5a261d;this[_0xa0fe53(0x30a)]?.[_0xa0fe53(0x3b8)]({'sourceId':_0x4f18fa,'messageType':_0x3a54c1['Content'],'content':{'type':_0x534fb2[_0xa0fe53(0x4e8)],'label':this[_0xa0fe53(0x726)]}});}[_0x5a261d(0x352)](){const _0x533d22=_0x5a261d;this['unsubscribeListener']?.(),this[_0x533d22(0x625)]();}[_0x5a261d(0x4fe)](){this['unsubscribeListener']?.(),super['destroy']();}[_0x5a261d(0x2b0)](){const _0x474faa=_0x5a261d;return!this[_0x474faa(0x77c)];}['getBid'](){return 0x1;}[_0x5a261d(0x6a7)](_0x83f218,_0x5a1aeb,_0x2c8d34){}[_0x5a261d(0x116)](_0x1be462,_0x3476af){return _0x1be462;}['subscribeToJobs'](){const _0x2b6b0a=_0x5a261d;this['unsubscribeListener']=this[_0x2b6b0a(0x43a)]((_0x287160,_0x353066)=>{const _0x4c8b91=_0x2b6b0a;_0x50fe93[_0x4c8b91(0x287)](_0x2d7d49[_0x4c8b91(0x78c)],_0x4c8b91(0x6d3),_0x353066),_0x353066 instanceof File||(this['isJobRequest'](_0x353066)?(_0x50fe93[_0x4c8b91(0x287)](_0x2d7d49[_0x4c8b91(0x78c)],_0x4c8b91(0x360),_0x353066),this[_0x4c8b91(0x2b0)]()?this[_0x4c8b91(0x3ae)](_0x353066['id'],_0x353066[_0x4c8b91(0x75d)],_0x287160):this[_0x4c8b91(0x4cd)](_0x353066['id'],_0x353066[_0x4c8b91(0x75d)],_0x287160)):this['isJobAttribution'](_0x353066)&&(_0x50fe93['log'](_0x2d7d49[_0x4c8b91(0x78c)],'JobWorker:\x20Received\x20job\x20attribution',_0x353066),this[_0x4c8b91(0x46e)](_0x353066['id'],_0x353066,_0x287160)));});}[_0x5a261d(0x3ae)](_0x5b6bf3,_0x469b34,_0xdfef76){const _0x13d2a2=_0x5a261d,_0xa3c9e0={'id':_0x5b6bf3,'jobType':_0x469b34,'jobPhase':_0x2217c7[_0x13d2a2(0x380)],'available':!0x0,'bid':this['getBid']()};_0x50fe93['log'](_0x2d7d49[_0x13d2a2(0x78c)],_0x13d2a2(0x622),_0xa3c9e0),this['send'](_0xa3c9e0,[_0xdfef76]);}[_0x5a261d(0x4cd)](_0x5227f5,_0x33e53c,_0xc3164){const _0x5488c9=_0x5a261d,_0x337624={'id':_0x5227f5,'jobType':_0x33e53c,'jobPhase':_0x2217c7[_0x5488c9(0x380)],'available':!0x1,'bid':0x0};this[_0x5488c9(0x468)](_0x337624,[_0xc3164]);}async[_0x5a261d(0x46e)](_0xe836a6,_0x2c166c,_0x467b1b){const _0x2ee681=_0x5a261d;_0x50fe93[_0x2ee681(0x287)](_0x2d7d49[_0x2ee681(0x78c)],'JobWorker:\x20Handling\x20job\x20attribution',_0x2c166c);const _0x1e9e04={'id':_0xe836a6,'jobType':_0x2c166c[_0x2ee681(0x75d)],'parameters':_0x2c166c[_0x2ee681(0x6dc)]};try{switch(_0x2c166c[_0x2ee681(0x75d)]){case _0x44eeae[_0x2ee681(0x390)][_0x2ee681(0x505)]:await this[_0x2ee681(0x2de)](_0xe836a6,_0x2c166c,_0x1e9e04,_0x467b1b);break;case _0x44eeae[_0x2ee681(0x390)][_0x2ee681(0x5cd)]:await this[_0x2ee681(0x5af)](_0xe836a6,_0x2c166c,_0x1e9e04,_0x467b1b);break;default:throw new Error(_0x2ee681(0x2b7));}}catch(_0x115824){_0x50fe93[_0x2ee681(0x671)](_0x2ee681(0x5dc),{'nodeId':this[_0x2ee681(0x151)][_0x2ee681(0x591)](),'nodeType':this[_0x2ee681(0x151)][_0x2ee681(0x274)],'data':{'job':_0x1e9e04}},_0x115824);const _0x3e3673=_0x115824 instanceof Error?_0x115824[_0x2ee681(0x1c3)]:'An\x20error\x20occurred',_0x56ed47={'id':_0xe836a6,'jobType':_0x2c166c[_0x2ee681(0x75d)],'jobPhase':_0x2217c7[_0x2ee681(0x10c)],'message':_0x3e3673};await this['send'](_0x56ed47,[_0x467b1b]);}finally{this['isRunning']=!0x1;}}async['processJob'](_0x454516,_0x11f3b3,_0x144be4,_0x2ac033){const _0x19559f=_0x5a261d;this[_0x19559f(0x77c)]=!0x0;const _0x406924=Date[_0x19559f(0x4e6)](),_0x4f269d=await this['jobWorkerConnector']['processJob'](_0x144be4);if(_0x4f269d['status']!==_0x44eeae[_0x19559f(0x398)]['Partial']&&_0x4f269d[_0x19559f(0x244)]!==_0x44eeae['JobStatus'][_0x19559f(0x260)])return;this[_0x19559f(0x6a7)](_0x4f269d[_0x19559f(0x571)],_0x406924,Date['now']());const _0x4cacc0={'id':_0x454516,'jobType':_0x11f3b3[_0x19559f(0x75d)],'jobPhase':_0x2217c7['Result'],'result':_0x4f269d[_0x19559f(0x571)]};_0x50fe93['log'](_0x2d7d49[_0x19559f(0x78c)],_0x19559f(0x39d),_0x4cacc0),await this[_0x19559f(0x468)](_0x4cacc0,[_0x2ac033]);}async[_0x5a261d(0x5af)](_0x297518,_0x33af2e,_0x113414,_0x3af83f){const _0x1be1d4=_0x5a261d;this[_0x1be1d4(0x77c)]=!0x0;const _0x5188b3=Date[_0x1be1d4(0x4e6)]();let _0x8473b1=0x0,_0x5c38c7={};for await(const _0x4380f0 of this[_0x1be1d4(0x27f)][_0x1be1d4(0x5af)](_0x113414)){if(_0x4380f0[_0x1be1d4(0x244)]!==_0x44eeae['JobStatus'][_0x1be1d4(0x2b8)]&&_0x4380f0[_0x1be1d4(0x244)]!==_0x44eeae[_0x1be1d4(0x398)]['Completed'])break;const _0x43f6f0={'id':_0x297518,'jobType':_0x33af2e[_0x1be1d4(0x75d)],'jobPhase':_0x2217c7[_0x1be1d4(0x28b)],'result':{..._0x4380f0['result'],'index':_0x8473b1}};_0x50fe93[_0x1be1d4(0x287)](_0x2d7d49['Jobs'],'JobWorker:\x20Sending\x20job\x20partial\x20result',_0x43f6f0),this[_0x1be1d4(0x468)](_0x43f6f0,[_0x3af83f]),_0x5c38c7=this['accumulateResult'](_0x5c38c7,_0x4380f0[_0x1be1d4(0x571)]),_0x8473b1++;}this[_0x1be1d4(0x6a7)](_0x5c38c7,_0x5188b3,Date[_0x1be1d4(0x4e6)]());const _0x4dcfbc={'id':_0x297518,'jobType':_0x33af2e['jobType'],'jobPhase':_0x2217c7[_0x1be1d4(0x618)],'result':_0x5c38c7};_0x50fe93['log'](_0x2d7d49[_0x1be1d4(0x78c)],_0x1be1d4(0x39d),_0x4dcfbc),await this[_0x1be1d4(0x468)](_0x4dcfbc,[_0x3af83f]);}[_0x5a261d(0x77e)](_0x2919b6){const _0x10ec1d=_0x5a261d;return _0x2919b6[_0x10ec1d(0x684)]===_0x2217c7['Request'];}[_0x5a261d(0x4ab)](_0x1786d9){const _0x406e86=_0x5a261d;return _0x1786d9[_0x406e86(0x684)]===_0x2217c7[_0x406e86(0x361)];}}class _0x32ba77 extends _0xd407c{['generativeAIWorkerConnector'];[_0x5a261d(0xfe)];[_0x5a261d(0x507)];[_0x5a261d(0x235)]=0x0;['tokens']=0x0;constructor(_0x365c9b,_0x4db2b7,_0x5ea8a6,_0x3ea0c6,_0x532864){const _0x2c2480=_0x5a261d;super(_0x365c9b,_0x4db2b7,_0x5ea8a6,_0x3ea0c6),this[_0x2c2480(0x511)]=_0x3ea0c6,this['objectStore']=_0x532864;}[_0x5a261d(0x4fe)](){const _0xaea937=_0x5a261d;this[_0xaea937(0xfe)][_0xaea937(0x76e)](),this[_0xaea937(0xfe)][_0xaea937(0x3e3)](),this['debounceStats']&&(clearTimeout(this[_0xaea937(0x507)]),delete this[_0xaea937(0x507)]),super[_0xaea937(0x4fe)]();}async['restart'](){const _0x155754=_0x5a261d;this['objectStore']['unsubscribe'](),this[_0x155754(0x507)]&&(clearTimeout(this['debounceStats']),delete this[_0x155754(0x507)]),this[_0x155754(0x625)](!0x0);}async[_0x5a261d(0x625)](_0x2e45c1=!0x1){const _0x152bd4=_0x5a261d;_0x2e45c1||await this['waitForSyncComplete']();try{const _0x3eb234=await this[_0x152bd4(0x11b)](_0x4f4c0a+'/'+_0x1ab7a1),_0x11c84a=await this[_0x152bd4(0x11b)](_0x4f4c0a+'/'+_0x30b0d4);await this['generativeAIWorkerConnector'][_0x152bd4(0x52e)](_0x3eb234,_0x11c84a);}catch(_0x9ab6d9){console[_0x152bd4(0x671)]('Loading\x20models\x20failed',_0x9ab6d9),await this[_0x152bd4(0x511)][_0x152bd4(0x52e)]();}await this['loadExistingContent'](),this[_0x152bd4(0x62b)](),this[_0x152bd4(0x16f)](),super['open']();}['reset'](){const _0x5402b4=_0x5a261d;this[_0x5402b4(0x235)]=0x0,this[_0x5402b4(0x204)]=0x0,this[_0x5402b4(0x16f)]();}['getBid'](){const _0x1993e6=_0x5a261d;return this[_0x1993e6(0x16f)](),this[_0x1993e6(0x70a)]();}[_0x5a261d(0x6a7)](_0x28c038,_0x59f214,_0x1ef425){const _0x9faef2=_0x5a261d,_0x532341=_0x28c038[_0x9faef2(0x115)]??0x0,_0x159e0=_0x532341/((_0x1ef425-_0x59f214)/0x3e8);this[_0x9faef2(0x235)]+=0x1,this['tokens']+=_0x532341,this[_0x9faef2(0x501)](_0x159e0,_0x532341),this[_0x9faef2(0x16f)]();}[_0x5a261d(0x116)](_0x47a852,_0x3ae51f){const _0x63b27f=_0x5a261d;return _0x47a852[_0x63b27f(0x270)]=_0x47a852['output']??'',{'output':_0x47a852[_0x63b27f(0x270)]+_0x3ae51f[_0x63b27f(0x270)],'outputTokens':_0x3ae51f[_0x63b27f(0x115)]??_0x47a852['outputTokens'],'inputTokens':_0x3ae51f[_0x63b27f(0x759)]??_0x47a852[_0x63b27f(0x759)]};}async['waitForSyncComplete'](){await new Promise(_0x4408af=>{const _0x212368=a0_0x3f62;this['objectStore'][_0x212368(0x313)](async _0x23e01d=>{const _0x462b47=_0x212368;_0x23e01d['event']===_0x44eeae['StorageEventType'][_0x462b47(0xe8)]&&(this['objectStore']['unsubscribe'](),_0x4408af());});});}async[_0x5a261d(0x11b)](_0x5b0acb){const _0x33036e=_0x5a261d,_0x24e636=await this[_0x33036e(0xfe)][_0x33036e(0x1bc)]('/models');for(const _0xe9494c of _0x24e636)if(_0xe9494c[_0x33036e(0x4a0)]===_0x44eeae[_0x33036e(0x3c1)][_0x33036e(0x6f4)]&&_0xe9494c[_0x33036e(0xed)]===_0x5b0acb)return _0xe9494c[_0x33036e(0x5d4)]??_0xe9494c['pathName'];throw new Error('Model\x20not\x20found:\x20'+_0x5b0acb);}async[_0x5a261d(0x3a7)](){const _0x357aa3=_0x5a261d;try{const _0x4549be=await this[_0x357aa3(0xfe)][_0x357aa3(0x1bc)](_0x52c0af);for(const _0xb35f8e of _0x4549be)'file'===_0xb35f8e[_0x357aa3(0x4a0)]&&await this[_0x357aa3(0x67a)](_0xb35f8e[_0x357aa3(0x267)],_0xb35f8e[_0x357aa3(0xed)]);}catch(_0xab08e5){}}[_0x5a261d(0x62b)](){const _0x58bd89=_0x5a261d;this[_0x58bd89(0xfe)][_0x58bd89(0x313)](async _0x2ba173=>{const _0x2bc0c5=_0x58bd89;switch(_0x2ba173[_0x2bc0c5(0x633)]){case _0x44eeae['StorageEventType'][_0x2bc0c5(0xfc)]:_0x2ba173['payload'][_0x2bc0c5(0x1a4)]['pathName'][_0x2bc0c5(0x47a)](_0x52c0af)?await this[_0x2bc0c5(0x67a)](_0x2ba173[_0x2bc0c5(0x5a8)][_0x2bc0c5(0x1a4)][_0x2bc0c5(0x267)],_0x2ba173['payload'][_0x2bc0c5(0x1a4)][_0x2bc0c5(0xed)]):_0x2ba173[_0x2bc0c5(0x5a8)]['file'][_0x2bc0c5(0xed)]!==_0x4f4c0a+'/'+_0x1ab7a1&&_0x2ba173['payload'][_0x2bc0c5(0x1a4)][_0x2bc0c5(0xed)]!==_0x4f4c0a+'/'+_0x30b0d4||this[_0x2bc0c5(0x72f)]();break;case _0x44eeae[_0x2bc0c5(0x578)]['FileDelete']:_0x2ba173[_0x2bc0c5(0x5a8)][_0x2bc0c5(0xed)]['startsWith'](_0x52c0af)&&this['removeContent'](_0x2ba173['payload']['name']);}});}async['addContent'](_0x4a425a,_0x33f3a2){const _0x42f40f=_0x5a261d,_0x2287d7=await this[_0x42f40f(0xfe)][_0x42f40f(0x568)](_0x33f3a2);await this['generativeAIWorkerConnector'][_0x42f40f(0x67a)](_0x4a425a,await _0x2287d7[_0x42f40f(0x5b7)]()),this[_0x42f40f(0x16f)]();}['removeContent'](_0x4663a7){const _0x32f961=_0x5a261d;this[_0x32f961(0x511)]['removeContent'](_0x4663a7),this[_0x32f961(0x16f)]();}[_0x5a261d(0x70a)](){const _0x1d765c=_0x5a261d;try{return this[_0x1d765c(0x627)][_0x1d765c(0x3af)]()['gpu'][_0x1d765c(0x342)]*(0x1-this['capacityReporter'][_0x1d765c(0x3af)]()[_0x1d765c(0x4e2)][_0x1d765c(0x39b)]);}catch(_0x9bee2e){return _0x50fe93[_0x1d765c(0x287)](_0x2d7d49['Jobs'],_0x1d765c(0x202),_0x9bee2e),0x0;}}[_0x5a261d(0x16f)](){const _0x217b27=_0x5a261d;this[_0x217b27(0x507)]&&clearTimeout(this[_0x217b27(0x507)]),this[_0x217b27(0x507)]=setTimeout(async()=>{const _0xeeac22=_0x217b27;delete this[_0xeeac22(0x507)];const _0x122cfe=await this['objectStore'][_0xeeac22(0x4a6)](_0x52c0af);this['systemTopic'][_0xeeac22(0x3b8)]({'sourceId':_0x4f18fa,'messageType':_0x3a54c1[_0xeeac22(0x55b)],'content':{'type':_0x534fb2[_0xeeac22(0x68a)],'label':this[_0xeeac22(0x726)],'stats':{'timestamp':Date[_0xeeac22(0x4e6)](),'storage':_0x122cfe,'messagesSent':this[_0xeeac22(0x2e8)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0xeeac22(0xf7)],'bytesReceived':this['bytesReceived'],'writes':0x0,'reads':0x0,'prompts':this[_0xeeac22(0x235)],'tokens':this['tokens']}}});},0x1388);}[_0x5a261d(0x501)](_0x35ffab,_0x1b67cf){const _0x1e2cf9=_0x5a261d,_0x3331a7=this['label'],_0x2ab971=this[_0x1e2cf9(0x613)]();_0x50fe93['logServiceEvent'](_0x39a0cc['GenerativeAIContext'],{'topic':_0x3331a7,'type':_0x1e2cf9(0x1a2),'nodeId':_0x2ab971,'tokenCount':_0x1b67cf,'tokensPerSecond':_0x35ffab});}}class _0x4c1963 extends _0x58f845{[_0x5a261d(0x6c6)];constructor(_0x4bd695,_0x171c82,_0x4bc3e2){super(_0x4bd695,_0x171c82),this['mediaStream']=_0x4bc3e2;}[_0x5a261d(0x72b)](){const _0x55eea6=_0x5a261d;return _0x44eeae[_0x55eea6(0xee)][_0x55eea6(0x371)];}[_0x5a261d(0x38f)](){return this['mediaStream'];}[_0x5a261d(0x41d)](){return this['mediaStream']['id'];}}class _0x894131 extends _0x4c1963{[_0x5a261d(0x2a2)];[_0x5a261d(0x107)];[_0x5a261d(0x651)];[_0x5a261d(0x659)]=_0x534eff();constructor(_0x46ccd4,_0x1bbe71,_0x1fe81e,_0x245df6,_0x1c9a02){const _0x40d921=_0x5a261d;super(_0x46ccd4,_0x1bbe71,_0x1fe81e),this[_0x40d921(0x2a2)]=_0x245df6,this['params']=_0x1c9a02;}[_0x5a261d(0x4fe)](){const _0xe56d23=_0x5a261d;this[_0xe56d23(0x28e)](_0xe56d23(0x422)),this[_0xe56d23(0x28e)](_0xe56d23(0x135)),super[_0xe56d23(0x4fe)]();}[_0x5a261d(0x58d)](_0x27f535){const _0x33d5ff=_0x5a261d;if(!this['topic'])throw new _0x2826e7(_0x2826e7[_0x33d5ff(0x776)][_0x33d5ff(0x366)],{'label':this[_0x33d5ff(0x726)],'ownerId':this[_0x33d5ff(0x151)][_0x33d5ff(0x591)](),'remoteId':this[_0x33d5ff(0x2a2)]});this[_0x33d5ff(0x651)][_0x33d5ff(0x3b8)]({'sourceId':this['owner'][_0x33d5ff(0x591)](),'content':{'action':_0x230561[_0x33d5ff(0x636)],'track':_0x27f535,'stream':this[_0x33d5ff(0x6c6)],'priority':_0x44eeae['MediaStreamPriority']['Default'],'params':this['getInternalTrackParams'](_0x27f535[_0x33d5ff(0x4a0)],this['params'])}});}[_0x5a261d(0x28e)](_0x375cd6){const _0x206f03=_0x5a261d,_0x5afc79=this[_0x206f03(0x37b)](_0x375cd6);if(_0x5afc79){if(!this[_0x206f03(0x651)])return null;this[_0x206f03(0x651)][_0x206f03(0x3b8)]({'sourceId':this['owner'][_0x206f03(0x591)](),'content':{'action':_0x230561[_0x206f03(0x676)],'track':_0x5afc79,'stream':this[_0x206f03(0x6c6)]}});}return _0x5afc79;}[_0x5a261d(0x4d3)](_0x34ff5c){const _0x8ccd7b=_0x5a261d;if(!this[_0x8ccd7b(0x651)])throw new _0x2826e7(_0x2826e7[_0x8ccd7b(0x776)]['OutgoingMediaStreamNoTopic'],{'label':this[_0x8ccd7b(0x726)],'ownerId':this[_0x8ccd7b(0x151)]['getId'](),'remoteId':this[_0x8ccd7b(0x2a2)]});this[_0x8ccd7b(0x651)]['publish']({'sourceId':this[_0x8ccd7b(0x151)][_0x8ccd7b(0x591)](),'content':{'action':_0x230561['Update'],'priority':_0x34ff5c,'stream':this[_0x8ccd7b(0x6c6)]}});}[_0x5a261d(0x313)]({trackKinds:_0x4ae500,params:_0x13a0e4},_0x119029){const _0x1927a3=_0x5a261d;if(!this['topic'])throw new _0x2826e7(_0x2826e7[_0x1927a3(0x776)][_0x1927a3(0x366)],{'label':this[_0x1927a3(0x726)],'ownerId':this[_0x1927a3(0x151)][_0x1927a3(0x591)](),'remoteId':this['remoteId']});for(const _0x281a6f of this[_0x1927a3(0x6c6)][_0x1927a3(0x291)]())_0x4ae500[_0x1927a3(0x49a)](_0x281a6f[_0x1927a3(0x4a0)])&&this[_0x1927a3(0x651)][_0x1927a3(0x3b8)]({'sourceId':this[_0x1927a3(0x151)][_0x1927a3(0x591)](),'content':{'action':_0x230561['Add'],'track':_0x281a6f,'stream':this[_0x1927a3(0x6c6)],'priority':_0x119029,'params':this[_0x1927a3(0x146)](_0x281a6f[_0x1927a3(0x4a0)],_0x13a0e4)}});}['update']({params:_0x5b5c4e}){const _0x5c2348=_0x5a261d;if(!this[_0x5c2348(0x651)])throw new _0x2826e7(_0x2826e7[_0x5c2348(0x776)][_0x5c2348(0x366)],{'label':this[_0x5c2348(0x726)],'ownerId':this[_0x5c2348(0x151)]['getId'](),'remoteId':this['remoteId']});for(const _0x390565 of this['mediaStream'][_0x5c2348(0x291)]())this[_0x5c2348(0x651)]['publish']({'sourceId':this[_0x5c2348(0x151)]['getId'](),'content':{'action':_0x230561[_0x5c2348(0x13e)],'stream':this['mediaStream'],'params':this[_0x5c2348(0x146)](_0x390565[_0x5c2348(0x4a0)],_0x5b5c4e)}});}[_0x5a261d(0x76e)]({trackKinds:_0x1ffd6d}){const _0x701c52=_0x5a261d;if(this['topic']){for(const _0x77120 of this[_0x701c52(0x6c6)][_0x701c52(0x291)]())_0x1ffd6d[_0x701c52(0x49a)](_0x77120['kind'])&&this[_0x701c52(0x651)]['publish']({'sourceId':this[_0x701c52(0x151)][_0x701c52(0x591)](),'content':{'action':_0x230561[_0x701c52(0x676)],'stream':this['mediaStream'],'track':_0x77120}});}}[_0x5a261d(0x2a0)](_0x4434ec){const _0x159b9f=_0x5a261d;this[_0x159b9f(0x651)]=_0x4434ec;}['unregisterPublisher'](_0x4d21f1){const _0x320afd=_0x5a261d;_0x4d21f1===this[_0x320afd(0x651)]&&(delete this[_0x320afd(0x651)],this[_0x320afd(0x659)][_0x320afd(0x3b8)]());}[_0x5a261d(0x788)](_0x1f6805){const _0xe89a2f=_0x5a261d;return this[_0xe89a2f(0x659)][_0xe89a2f(0x313)](_0x1f6805);}[_0x5a261d(0x37b)](_0x166e55){const _0x1b80fa=_0x5a261d;return this[_0x1b80fa(0x6c6)]['getTracks']()[_0x1b80fa(0x19f)](_0x35dc19=>_0x35dc19[_0x1b80fa(0x4a0)]===_0x166e55)||null;}[_0x5a261d(0x146)](_0x5797da,_0x5d8d1d){const _0x2a12bc=_0x5a261d;let _0x1bdda5;return'video'===_0x5797da&&_0x5d8d1d?.[_0x2a12bc(0x135)]&&_0x2a12bc(0x467)!=typeof _0x5d8d1d['video']&&(_0x1bdda5={'kind':'video',..._0x5d8d1d[_0x2a12bc(0x135)]},_0x1bdda5[_0x2a12bc(0x2ff)]=this[_0x2a12bc(0x134)]()),'audio'===_0x5797da&&_0x5d8d1d?.['audio']&&'boolean'!=typeof _0x5d8d1d['audio']&&(_0x1bdda5={'kind':_0x2a12bc(0x422),..._0x5d8d1d[_0x2a12bc(0x422)]}),_0x1bdda5;}['getResolution'](){const _0x1f9952=_0x5a261d;let _0x58bc6f={'width':0x0,'height':0x0};const _0x177d61=this['mediaStream'][_0x1f9952(0x3cc)]();if(_0x177d61[_0x1f9952(0x553)]>0x0){const _0x5710ed=_0x177d61[0x0][_0x1f9952(0x775)]();_0x5710ed['width']&&_0x5710ed['height']&&(_0x58bc6f={'width':_0x5710ed[_0x1f9952(0x263)],'height':_0x5710ed['height']});}return _0x58bc6f;}}class _0x2c143d extends _0x4c1963{[_0x5a261d(0x1f3)];[_0x5a261d(0x75e)]=_0x44eeae[_0x5a261d(0x1a0)]['Default'];[_0x5a261d(0x756)]=new Map();[_0x5a261d(0x5fc)]=new Map();constructor(_0x30f091,_0x33b446,_0x2afe29,_0xd1e7f9){const _0x52e1ed=_0x5a261d;super(_0x30f091,_0x33b446,_0x2afe29 instanceof MediaStream?_0x2afe29:_0x2afe29[_0x52e1ed(0x41a)]?_0x2afe29['srcObject']:_0x2afe29[_0x52e1ed(0x585)]()),this[_0x52e1ed(0x1f3)]=_0xd1e7f9,this[_0x52e1ed(0x6c6)][_0x52e1ed(0x291)]()[_0x52e1ed(0x675)](_0x177f7a=>this[_0x52e1ed(0x20c)](_0x177f7a)),_0x50fe93[_0x52e1ed(0x501)](_0x39a0cc[_0x52e1ed(0x2d1)],{'type':_0x52e1ed(0x3b8),'label':this[_0x52e1ed(0x726)],'nodeId':this[_0x52e1ed(0x151)][_0x52e1ed(0x591)](),'nodeType':this[_0x52e1ed(0x151)][_0x52e1ed(0x274)],'clusterId':this['clusterId'],'streamId':this[_0x52e1ed(0x41d)](),'trackKinds':this[_0x52e1ed(0x6c6)]['getTracks']()[_0x52e1ed(0x47f)](_0x4037b5=>_0x4037b5[_0x52e1ed(0x4a0)])});}[_0x5a261d(0x4fe)](){const _0x44c9b=_0x5a261d;this['outgoingStreams'][_0x44c9b(0x101)]>0x0&&(this['outgoingStreams'][_0x44c9b(0x675)](_0x2c5180=>{_0x2c5180['unregisterSystemPublisher'](),_0x2c5180['destroy']();}),this[_0x44c9b(0x5fc)]['clear']()),this[_0x44c9b(0x756)]['forEach'](_0x431e13=>_0x431e13()),super[_0x44c9b(0x4fe)]();}['publish'](_0x182db5){const _0x1f5345=_0x5a261d;this[_0x1f5345(0x30a)][_0x1f5345(0x3b8)]({'sourceId':this[_0x1f5345(0x151)][_0x1f5345(0x591)](),'destinationIds':_0x182db5?[_0x182db5]:void 0x0,'propagate':!0x0,'messageType':_0x3a54c1[_0x1f5345(0x55b)],'content':{'type':_0x534fb2[_0x1f5345(0x163)],'ownerId':this[_0x1f5345(0x151)][_0x1f5345(0x591)](),'label':this[_0x1f5345(0x726)],'stream':{'streamId':this[_0x1f5345(0x41d)](),'availableTrackKinds':this['mediaStream'][_0x1f5345(0x291)]()[_0x1f5345(0x47f)](_0x5da7c4=>_0x5da7c4['kind'])}}});}['unpublish'](){const _0x387892=_0x5a261d;this['systemTopic'][_0x387892(0x3b8)]({'sourceId':this[_0x387892(0x151)][_0x387892(0x591)](),'propagate':!0x0,'messageType':_0x3a54c1['Content'],'content':{'type':_0x534fb2['UnpublishMediaStream'],'ownerId':this[_0x387892(0x151)]['getId'](),'label':this[_0x387892(0x726)]}}),this[_0x387892(0x30a)][_0x387892(0x3b8)]({'sourceId':_0x4f18fa,'messageType':_0x3a54c1['Content'],'content':{'type':_0x534fb2[_0x387892(0x5ae)],'label':this[_0x387892(0x726)]}}),_0x50fe93[_0x387892(0x501)](_0x39a0cc[_0x387892(0x2d1)],{'type':'unpublish','label':this['label'],'nodeId':this['owner']['getId'](),'nodeType':this['owner']['type'],'clusterId':this[_0x387892(0x1f3)],'streamId':this[_0x387892(0x41d)]()});}['getPriority'](){const _0x531eeb=_0x5a261d;return this[_0x531eeb(0x75e)];}[_0x5a261d(0x4d3)](_0x20ef51){const _0x3187cb=_0x5a261d;this[_0x3187cb(0x75e)]=_0x20ef51,this[_0x3187cb(0x5fc)][_0x3187cb(0x675)](_0x48a222=>_0x48a222[_0x3187cb(0x4d3)](_0x20ef51));}['getShareableStream'](_0x10288f,_0x4602ca){const _0x51694e=_0x5a261d;if(!this[_0x51694e(0x5fc)][_0x51694e(0x644)](_0x10288f)){const _0x1f726e=new _0x894131(this['owner'],this['label'],this[_0x51694e(0x6c6)],_0x10288f,_0x4602ca),_0x285cd8=_0x1f726e[_0x51694e(0x788)](()=>{const _0x45529f=_0x51694e;_0x285cd8(),this[_0x45529f(0x5fc)][_0x45529f(0x568)](_0x10288f)?.[_0x45529f(0x4fe)](),this[_0x45529f(0x5fc)][_0x45529f(0x20a)](_0x10288f);});this[_0x51694e(0x5fc)][_0x51694e(0x1a1)](_0x10288f,_0x1f726e),_0x1f726e[_0x51694e(0x126)](this[_0x51694e(0x30a)]);}return this[_0x51694e(0x5fc)][_0x51694e(0x568)](_0x10288f);}[_0x5a261d(0x51f)](){return this['mediaStream']['id'];}[_0x5a261d(0x53a)](_0x1bfbcb){const _0x2eaf72=_0x5a261d;this[_0x2eaf72(0x30a)][_0x2eaf72(0x3b8)]({'sourceId':_0x4f18fa,'messageType':_0x3a54c1[_0x2eaf72(0x55b)],'content':{'type':_0x534fb2[_0x2eaf72(0x438)],'label':this[_0x2eaf72(0x726)],'trackKinds':[_0x1bfbcb[_0x2eaf72(0x4a0)]]}});}['setupTrackEndedListeners'](_0x70a6a4){const _0xf0338c=_0x5a261d,_0x48fd0f=()=>this['handleLocalTrackFailure'](_0x70a6a4);_0x70a6a4[_0xf0338c(0x33d)](_0xf0338c(0x693),_0x48fd0f),_0x70a6a4['addEventListener']('mute',_0x48fd0f),this['trackEndedListeners']['set'](_0x70a6a4[_0xf0338c(0x4a0)],()=>{const _0x1c81e2=_0xf0338c;_0x70a6a4[_0x1c81e2(0x714)](_0x1c81e2(0x693),_0x48fd0f),_0x70a6a4['removeEventListener'](_0x1c81e2(0x5c0),_0x48fd0f),this[_0x1c81e2(0x756)][_0x1c81e2(0x20a)](_0x70a6a4[_0x1c81e2(0x4a0)]);});}}class _0x25b537 extends _0x2c143d{[_0x5a261d(0x667)];[_0x5a261d(0x36c)]=[];[_0x5a261d(0x401)];[_0x5a261d(0x1d7)];['audioDestination'];[_0x5a261d(0x63d)];['canvas'];[_0x5a261d(0x50f)];[_0x5a261d(0x617)];constructor(_0x5294ab,_0x5ae430,_0x4cd0fb,_0x5902de,_0xba96ca,_0x114070){const _0x31b0cc=_0x5a261d;if(super(_0x5294ab,_0x5ae430,_0x4cd0fb,_0x114070),this[_0x31b0cc(0x667)]=_0xba96ca,this['clientStream']=this[_0x31b0cc(0x6c6)],this[_0x31b0cc(0x63d)]=document[_0x31b0cc(0x73e)](_0x31b0cc(0x135)),this[_0x31b0cc(0x63d)][_0x31b0cc(0x712)]=!0x0,this['sourceVideo'][_0x31b0cc(0x445)]=!0x0,this[_0x31b0cc(0x63d)][_0x31b0cc(0x41a)]=this[_0x31b0cc(0x401)],this['sourceVideo'][_0x31b0cc(0x39b)](),this['sourceVideo'][_0x31b0cc(0x12c)]=()=>{this['sourceVideo']['play']();},this[_0x31b0cc(0x5f6)]=document[_0x31b0cc(0x73e)]('canvas'),this['context']=this[_0x31b0cc(0x5f6)][_0x31b0cc(0x411)]('2d'),this[_0x31b0cc(0x6c6)]=this[_0x31b0cc(0x5f6)][_0x31b0cc(0x585)](_0x5902de),this[_0x31b0cc(0x5d5)]=this[_0x31b0cc(0x667)][_0x31b0cc(0x2d6)](),this[_0x31b0cc(0x401)][_0x31b0cc(0x4b5)]()['length']>0x0){const _0x4a5f27=this[_0x31b0cc(0x401)][_0x31b0cc(0x4b5)]()[0x0];this[_0x31b0cc(0x1d7)]=this[_0x31b0cc(0x667)][_0x31b0cc(0x3bc)](new MediaStream([_0x4a5f27])),this[_0x31b0cc(0x1d7)]['connect'](this['audioDestination']);}const _0x2104a6=this[_0x31b0cc(0x5d5)][_0x31b0cc(0x209)][_0x31b0cc(0x291)]()[0x0];this[_0x31b0cc(0x6c6)][_0x31b0cc(0x58d)](_0x2104a6),this[_0x31b0cc(0x617)]=setInterval(()=>{const _0x4e38dd=_0x31b0cc;this['canvas'][_0x4e38dd(0x263)]=this[_0x4e38dd(0x63d)]['videoWidth'],this[_0x4e38dd(0x5f6)][_0x4e38dd(0x4f7)]=this[_0x4e38dd(0x63d)][_0x4e38dd(0x68e)],this[_0x4e38dd(0x63d)][_0x4e38dd(0x749)]?(0x0!==this['clientStream'][_0x4e38dd(0x3cc)]()['length']&&this[_0x4e38dd(0x401)]['getVideoTracks']()[0x0][_0x4e38dd(0x536)]?this[_0x4e38dd(0x6c6)][_0x4e38dd(0x3cc)]()[0x0][_0x4e38dd(0x536)]=!0x0:this[_0x4e38dd(0x6c6)][_0x4e38dd(0x3cc)]()[0x0][_0x4e38dd(0x536)]=!0x1,0x0!==this['clientStream'][_0x4e38dd(0x4b5)]()[_0x4e38dd(0x553)]&&this[_0x4e38dd(0x401)][_0x4e38dd(0x4b5)]()[0x0][_0x4e38dd(0x536)]?this[_0x4e38dd(0x6c6)][_0x4e38dd(0x4b5)]()[0x0][_0x4e38dd(0x536)]=!0x0:this[_0x4e38dd(0x6c6)]['getAudioTracks']()[0x0][_0x4e38dd(0x536)]=!0x1,this[_0x4e38dd(0x50f)][_0x4e38dd(0x2dc)](this[_0x4e38dd(0x63d)],0x0,0x0)):this[_0x4e38dd(0x50f)][_0x4e38dd(0x109)](0x0,0x0,this['canvas'][_0x4e38dd(0x263)],this['canvas'][_0x4e38dd(0x4f7)]);},0x3e8/_0x5902de);}[_0x5a261d(0x4fe)](){const _0x5b0b3e=_0x5a261d;clearInterval(this[_0x5b0b3e(0x617)]),this[_0x5b0b3e(0x63d)][_0x5b0b3e(0x4c9)](),this['canvas']['remove'](),this['audioSource']?.['disconnect'](),this['audioDestination'][_0x5b0b3e(0x547)](),this['mediaStream'][_0x5b0b3e(0x291)]()[_0x5b0b3e(0x675)](_0x46a6fc=>{const _0x2716f2=_0x5b0b3e;_0x46a6fc['stop'](),this['mediaStream'][_0x2716f2(0x28e)](_0x46a6fc);}),super[_0x5b0b3e(0x4fe)]();}[_0x5a261d(0x58d)](_0x4feaa4){const _0x47d636=_0x5a261d,_0x1436e6=this[_0x47d636(0x37b)](_0x4feaa4['kind']);_0x1436e6&&this[_0x47d636(0x28e)](_0x1436e6),'audio'!==_0x4feaa4['kind']?(_0x47d636(0x135)===_0x4feaa4['kind']&&this[_0x47d636(0x5ea)](_0x4feaa4),this[_0x47d636(0x20c)](_0x4feaa4)):this['addAudioTrack'](_0x4feaa4);}[_0x5a261d(0x28e)](_0x1fb275){const _0x4af646=_0x5a261d,_0x3d54f8=this[_0x4af646(0x382)](_0x1fb275);return _0x3d54f8&&('audio'===_0x3d54f8[_0x4af646(0x4a0)]&&(this[_0x4af646(0x1d7)]?.[_0x4af646(0x547)](),this[_0x4af646(0x1d7)]=void 0x0),this[_0x4af646(0x756)][_0x4af646(0x568)](_0x3d54f8[_0x4af646(0x4a0)])?.(),this[_0x4af646(0x401)][_0x4af646(0x28e)](_0x3d54f8)),_0x3d54f8;}['replaceTrack'](_0xa1764){const _0x20a52e=_0x5a261d;this[_0x20a52e(0x28e)](_0xa1764[_0x20a52e(0x4a0)]),this[_0x20a52e(0x58d)](_0xa1764);}[_0x5a261d(0x1b1)](_0x1d2cb6){const _0xe76ea9=_0x5a261d;this[_0xe76ea9(0x36c)]=_0x1d2cb6;}[_0x5a261d(0x37b)](_0x534d25){const _0x1dc03d=_0x5a261d;return this[_0x1dc03d(0x401)][_0x1dc03d(0x291)]()['find'](_0x48c6ea=>_0x48c6ea[_0x1dc03d(0x4a0)]===_0x534d25)||null;}['getTrackFromParam'](_0xba55dc){const _0xc3254=_0x5a261d;return _0xc3254(0x747)==typeof _0xba55dc?this['getTrack'](_0xba55dc):_0xba55dc;}[_0x5a261d(0x63e)](_0x92a15){const _0x27e91f=_0x5a261d;_0x27e91f(0x708)===this[_0x27e91f(0x667)][_0x27e91f(0x301)]&&this[_0x27e91f(0x667)][_0x27e91f(0x4e0)](),this[_0x27e91f(0x401)][_0x27e91f(0x58d)](_0x92a15),this[_0x27e91f(0x1d7)]=this['audioContext']['createMediaStreamSource'](this[_0x27e91f(0x401)]),this[_0x27e91f(0x1d7)][_0x27e91f(0x43d)](this['audioDestination']);}[_0x5a261d(0x5ea)](_0xe77237){const _0x36e153=_0x5a261d;this['clientStream'][_0x36e153(0x58d)](_0xe77237),this[_0x36e153(0x63d)][_0x36e153(0x39b)]();}}class _0x34558c extends _0x2c143d{}class _0x5ec32d extends _0x2536ee{['localNode'];[_0x5a261d(0x1f3)];['vendorId'];[_0x5a261d(0x453)];[_0x5a261d(0x3b6)];[_0x5a261d(0x4aa)];['pendingSyncTransactions']=new Map();['objectRequests']=new Map();['pendingFilesSyncing']=new Map();['pendingFilesTransactions']=new Map();[_0x5a261d(0x73f)]=new Map();[_0x5a261d(0x1b8)];[_0x5a261d(0x632)]=_0x534eff();['listenerUnsubscriber'];[_0x5a261d(0x507)];[_0x5a261d(0x337)]=0x0;['reads']=0x0;['syncContent']=!0x0;[_0x5a261d(0x728)]=!0x0;constructor(_0x46bbb0,_0x714cd4,_0x53020e,_0x1eb633,_0x33a2c6,_0x29532e){const _0x4a3536=_0x5a261d;if('string'!=typeof _0x714cd4)throw new _0x1a3a24(_0x1cb6bb[_0x4a3536(0x2e9)],'Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string');super(_0x46bbb0,_0x714cd4),this[_0x4a3536(0x783)]=_0x46bbb0,this[_0x4a3536(0x1f3)]=_0x53020e,this[_0x4a3536(0xe6)]=_0x1eb633,this[_0x4a3536(0x453)]=_0x33a2c6;const _0x3416d4='ccc'+this['vendorId']+_0x4a3536(0x52c)+this[_0x4a3536(0x1f3)]+_0x4a3536(0x52c)+_0x714cd4;this['objectStoreConnector']=new _0x29532e(_0x3416d4),this['sendStats']();}[_0x5a261d(0x352)](){const _0x46d3fa=_0x5a261d;this[_0x46d3fa(0x16f)]();}[_0x5a261d(0x72b)](){const _0x1aa65a=_0x5a261d;return _0x44eeae[_0x1aa65a(0xee)][_0x1aa65a(0x374)];}async[_0x5a261d(0x2cc)](_0x5a8e2a){const _0x362c24=_0x5a261d;_0x5a8e2a&&(this[_0x362c24(0x621)]=_0x5a8e2a),this['isSyncing']=!0x0;try{const _0x17de59=await this[_0x362c24(0x1b8)]['get'](_0xc5a811),_0x4ca05a=await _0x17de59[_0x362c24(0x5b7)]();this[_0x362c24(0x4aa)]=_0x4ca05a;}catch(_0x30bd47){}this[_0x362c24(0x3b6)]=this[_0x362c24(0x43a)](async(_0x333300,_0x36ad05)=>{const _0x117f95=_0x362c24;if(!(_0x36ad05 instanceof File))try{if(_0x36ad05[_0x117f95(0xe4)]===_0x30d452[_0x117f95(0x5a6)])return void this[_0x117f95(0x1cb)](_0x36ad05);this[_0x117f95(0x458)](_0x36ad05);}catch(_0xe5d14b){if(_0xe5d14b instanceof _0x2826e7)throw _0xe5d14b;throw new _0x2826e7(_0x2826e7[_0x117f95(0x776)][_0x117f95(0x542)],{'payload':_0x36ad05});}}),await this[_0x362c24(0x105)](),_0x5a8e2a?await this[_0x362c24(0x5cf)]():this[_0x362c24(0x147)](),this[_0x362c24(0x16f)]();}[_0x5a261d(0x4fe)](){const _0x1478dd=_0x5a261d;this[_0x1478dd(0x3b6)]?.(),clearTimeout(this[_0x1478dd(0x507)]),delete this['debounceStats'],super['destroy']();}[_0x5a261d(0x3e3)](){const _0x267235=_0x5a261d;this[_0x267235(0x30a)]?.[_0x267235(0x3b8)]({'sourceId':_0x4f18fa,'messageType':_0x3a54c1[_0x267235(0x55b)],'content':{'type':_0x534fb2[_0x267235(0x4fb)],'label':this[_0x267235(0x726)]}});}[_0x5a261d(0x313)](_0x360a61){const _0x3eb627=_0x5a261d;if(this[_0x3eb627(0x6ab)])throw new _0x1a3a24(_0x1cb6bb[_0x3eb627(0x253)],_0x3eb627(0x535));this[_0x3eb627(0x6ab)]=this[_0x3eb627(0x632)][_0x3eb627(0x313)](_0x360a61),this[_0x3eb627(0x728)]||this[_0x3eb627(0x632)][_0x3eb627(0x3b8)]({'event':_0x44eeae[_0x3eb627(0x578)][_0x3eb627(0xe8)],'payload':null});}[_0x5a261d(0x76e)](){const _0xc806a3=_0x5a261d;this[_0xc806a3(0x6ab)]?.(),this[_0xc806a3(0x6ab)]=void 0x0;}[_0x5a261d(0x3b8)](_0x5f1932){const _0x2bd844=_0x5a261d;switch(_0x5f1932[_0x2bd844(0x506)]){case _0x44eeae['PayloadAction']['File']:return this[_0x2bd844(0x681)](_0x5f1932[_0x2bd844(0x1a4)],_0x5f1932[_0x2bd844(0x356)],_0x5f1932['skipEncryption']);case _0x44eeae['PayloadAction']['Folder']:return this[_0x2bd844(0x112)](_0x5f1932['path']);case _0x44eeae[_0x2bd844(0x14d)]['Move']:return this[_0x2bd844(0x341)](_0x5f1932[_0x2bd844(0x356)],_0x5f1932[_0x2bd844(0x3b2)]);default:throw new _0x1a3a24(_0x1cb6bb[_0x2bd844(0x231)],_0x2bd844(0x587)+_0x5f1932);}}async[_0x5a261d(0x4af)](_0x33ba25){const _0x59cec9=_0x5a261d;try{const _0x4182f0=(0x0,_0x298876['v4'])(),_0x28b9aa=this[_0x59cec9(0x4aa)],_0x1a6be7={'payloadType':_0x30d452['Transaction'],'action':_0x1ffaee[_0x59cec9(0x6e1)],'id':_0x4182f0,'parentId':_0x28b9aa,'path':_0x33ba25};await this[_0x59cec9(0x456)](_0x1a6be7);const _0x34b416=await this['deleteObject'](_0x33ba25);await this[_0x59cec9(0x468)](_0x1a6be7),_0x50fe93[_0x59cec9(0x501)](_0x39a0cc[_0x59cec9(0x449)],{'type':_0x59cec9(0x4af),'label':this['label'],'nodeId':this['localNode']['getId'](),'nodeType':this['localNode'][_0x59cec9(0x274)],'clusterId':this['clusterId'],'kind':_0x34b416,'path':_0x33ba25}),this[_0x59cec9(0x337)]+=0x1,this[_0x59cec9(0x16f)]();}catch(_0x59d0e1){if(_0x59d0e1 instanceof _0x2826e7)throw new _0x1a3a24(_0x1cb6bb[_0x59cec9(0x48d)],'Object\x20store\x20data\x20stream\x20is\x20not\x20in\x20sync');throw new _0x1a3a24(_0x1cb6bb[_0x59cec9(0x3d7)],'Cannot\x20unpublish\x20object:\x20'+_0x33ba25);}}async['get'](_0x156e72,_0x54d2e7){const _0x5c7c19=_0x5a261d;_0x50fe93[_0x5c7c19(0x501)](_0x39a0cc[_0x5c7c19(0x449)],{'type':_0x5c7c19(0x568),'label':this['label'],'nodeId':this[_0x5c7c19(0x783)]['getId'](),'nodeType':this[_0x5c7c19(0x783)][_0x5c7c19(0x274)],'clusterId':this[_0x5c7c19(0x1f3)],'path':_0x156e72}),this[_0x5c7c19(0x248)]+=0x1,this[_0x5c7c19(0x16f)]();try{return await this[_0x5c7c19(0x1b8)]['get'](_0x156e72,_0x54d2e7);}catch(_0xe4039f){try{await this[_0x5c7c19(0x1b8)][_0x5c7c19(0x568)](_0x156e72+_0x48cd86);}catch(_0xc2aee2){throw new _0x1a3a24(_0x1cb6bb[_0x5c7c19(0x3d7)],_0x5c7c19(0x6dd)+_0x156e72);}throw new _0x1a3a24(_0x1cb6bb['ObjectStoreNotInSync'],'Object\x20store\x20is\x20not\x20in\x20sync');}}async['list'](_0x1d574d,_0x2db94e){const _0x417489=_0x5a261d,{recursive:_0x3abbe1=!0x1,includeSyncingFiles:_0x217af7=!0x1}=_0x2db94e??{};_0x50fe93['logServiceEvent'](_0x39a0cc[_0x417489(0x449)],{'type':_0x417489(0x1bc),'label':this[_0x417489(0x726)],'nodeId':this[_0x417489(0x783)][_0x417489(0x591)](),'nodeType':this[_0x417489(0x783)][_0x417489(0x274)],'clusterId':this[_0x417489(0x1f3)],'path':_0x1d574d}),this[_0x417489(0x248)]+=0x1,this[_0x417489(0x16f)]();try{const _0x391c8b=await this[_0x417489(0x1b8)][_0x417489(0x1bc)](_0x1d574d,_0x3abbe1);return this[_0x417489(0x434)](_0x391c8b,{'recursive':_0x3abbe1,'includeSyncingFiles':_0x217af7});}catch(_0x1a826e){throw new _0x1a3a24(_0x1cb6bb['ObjectStoreInvalidPath'],'Cannot\x20list\x20directory:\x20'+_0x1d574d);}}[_0x5a261d(0x600)](_0x537c35){const _0x55d29f=_0x5a261d;for(const _0x4c342b of this[_0x55d29f(0x1d1)][_0x55d29f(0x741)]())this[_0x55d29f(0x468)](_0x4c342b,[_0x537c35]);}[_0x5a261d(0x1f7)](_0x22a431){const _0x28f9c3=_0x5a261d,_0x3389fd=this[_0x28f9c3(0x1da)][_0x28f9c3(0x568)](_0x22a431);if(_0x3389fd){for(const [_0x41427a,_0x315d00]of _0x3389fd[_0x28f9c3(0x741)]())this[_0x28f9c3(0x3ba)](_0x41427a,_0x315d00);this[_0x28f9c3(0x1da)][_0x28f9c3(0x20a)](_0x22a431);}}async[_0x5a261d(0x4a6)](_0x22fb19='/'){const _0x5c3184=_0x5a261d;try{return await this['objectStoreConnector'][_0x5c3184(0x562)](_0x22fb19);}catch(_0x17f29a){if(_0x17f29a instanceof Error&&_0x17f29a[_0x5c3184(0x1c3)][_0x5c3184(0x49a)](_0x5c3184(0x3e2)))return 0x0;throw new _0x1a3a24(_0x1cb6bb['ObjectStoreInvalidPath'],_0x5c3184(0x1a6)+_0x22fb19);}}['completeSync'](){const _0x2c521c=_0x5a261d;this[_0x2c521c(0x728)]&&(this[_0x2c521c(0x728)]=!0x1,this[_0x2c521c(0x632)][_0x2c521c(0x3b8)]({'event':_0x44eeae[_0x2c521c(0x578)][_0x2c521c(0xe8)],'payload':null}));}async[_0x5a261d(0x434)](_0x540308,{includeSyncingFiles:_0x4bd954=!0x1}){const _0x1187e8=_0x5a261d;for(const _0x51c627 of _0x540308)if(_0x51c627['kind']===_0x44eeae[_0x1187e8(0x3c1)][_0x1187e8(0x20f)]&&(_0x51c627['entries']=await this[_0x1187e8(0x434)](_0x51c627[_0x1187e8(0x580)]??[],{'includeSyncingFiles':_0x4bd954})),_0x51c627[_0x1187e8(0x267)]!==_0xc5a811){if(_0x51c627[_0x1187e8(0x267)][_0x1187e8(0x770)](_0x48cd86)){if(!_0x4bd954){_0x540308[_0x1187e8(0x6ef)](_0x540308['indexOf'](_0x51c627),0x1);continue;}const _0x1677d5=_0x51c627;if(_0x1677d5[_0x1187e8(0x267)]=_0x1677d5[_0x1187e8(0x267)]['replace'](_0x48cd86,''),_0x1677d5['pathName']=_0x1677d5['name'][_0x1187e8(0x476)](_0x48cd86,''),await this[_0x1187e8(0x635)](_0x1677d5[_0x1187e8(0xed)])){_0x540308[_0x1187e8(0x6ef)](_0x540308[_0x1187e8(0x1fb)](_0x51c627),0x1),_0x540308[_0x1187e8(0x19f)](_0x1afff7=>_0x1afff7[_0x1187e8(0xed)]===_0x1677d5[_0x1187e8(0xed)])[_0x1187e8(0x244)]=_0x44eeae[_0x1187e8(0x40a)]['Syncing'];continue;}_0x1677d5['status']=_0x44eeae[_0x1187e8(0x40a)][_0x1187e8(0x2b5)];}}else _0x540308[_0x1187e8(0x6ef)](_0x540308[_0x1187e8(0x1fb)](_0x51c627),0x1);return _0x540308;}async['publishFile'](_0x368504,_0x1c773a,_0x5bebc0=!0x1){const _0x412fb1=_0x5a261d;try{const _0x4eb87b=(0x0,_0x298876['v4'])(),_0x1ca9af=await _0xfefa49(_0x368504),_0x26c0c0={'payloadType':_0x30d452[_0x412fb1(0x6ee)],'action':_0x1ffaee[_0x412fb1(0xfc)],'id':_0x4eb87b,'parentId':this[_0x412fb1(0x4aa)],'answererId':this[_0x412fb1(0x783)][_0x412fb1(0x591)](),'name':_0x368504['name'],'type':_0x368504[_0x412fb1(0x274)],'path':_0x1c773a??'/','skipEncryption':_0x5bebc0,'checksum':_0x1ca9af};await this[_0x412fb1(0x456)](_0x26c0c0),this[_0x412fb1(0x621)]?await this['writeFile'](_0x368504,_0x1c773a,_0x5bebc0):await this[_0x412fb1(0x21c)](_0x368504[_0x412fb1(0x267)],_0x1c773a??'/',{'checksum':_0x1ca9af,'skipEncryption':_0x5bebc0}),await this['sendFile'](_0x368504,_0x26c0c0),_0x50fe93[_0x412fb1(0x501)](_0x39a0cc['ObjectStorage'],{'type':_0x412fb1(0x3b8),'label':this['label'],'nodeId':this[_0x412fb1(0x783)][_0x412fb1(0x591)](),'nodeType':this[_0x412fb1(0x783)][_0x412fb1(0x274)],'clusterId':this[_0x412fb1(0x1f3)],'kind':_0x44eeae[_0x412fb1(0x3c1)][_0x412fb1(0x6f4)],'path':_0x1c773a,'fileName':_0x368504[_0x412fb1(0x267)],'fileType':_0x368504[_0x412fb1(0x274)],'size':_0x368504[_0x412fb1(0x101)]}),this[_0x412fb1(0x337)]+=0x1,this[_0x412fb1(0x16f)]();}catch(_0x13d431){if(_0x13d431 instanceof _0x2826e7)throw new _0x1a3a24(_0x1cb6bb[_0x412fb1(0x48d)],_0x412fb1(0x607));throw new _0x1a3a24(_0x1cb6bb[_0x412fb1(0x3d7)],'Cannot\x20publish\x20file:\x20'+_0x1c773a);}}async['publishFolder'](_0x42e6ab){const _0x5e49ad=_0x5a261d;try{const _0x1d73bc=(0x0,_0x298876['v4'])(),_0xe03478=this[_0x5e49ad(0x4aa)],_0xc6e5bd={'payloadType':_0x30d452[_0x5e49ad(0x6ee)],'action':_0x1ffaee[_0x5e49ad(0x592)],'id':_0x1d73bc,'parentId':_0xe03478,'path':_0x42e6ab};await this[_0x5e49ad(0x456)](_0xc6e5bd),await this['objectStoreConnector'][_0x5e49ad(0x4be)](_0x42e6ab),await this[_0x5e49ad(0x468)](_0xc6e5bd),_0x50fe93[_0x5e49ad(0x501)](_0x39a0cc['ObjectStorage'],{'type':_0x5e49ad(0x3b8),'label':this[_0x5e49ad(0x726)],'nodeId':this[_0x5e49ad(0x783)][_0x5e49ad(0x591)](),'nodeType':this[_0x5e49ad(0x783)][_0x5e49ad(0x274)],'clusterId':this[_0x5e49ad(0x1f3)],'kind':_0x44eeae[_0x5e49ad(0x3c1)][_0x5e49ad(0x20f)],'path':_0x42e6ab}),this[_0x5e49ad(0x337)]+=0x1,this[_0x5e49ad(0x16f)]();}catch(_0x15cf76){if(_0x15cf76 instanceof _0x2826e7)throw new _0x1a3a24(_0x1cb6bb[_0x5e49ad(0x48d)],'Object\x20store\x20is\x20not\x20in\x20sync');throw new _0x1a3a24(_0x1cb6bb[_0x5e49ad(0x3d7)],_0x5e49ad(0x1ab)+_0x42e6ab);}}async['publishMove'](_0x3d4cbb,_0x56c1ca){const _0x1d21da=_0x5a261d;try{const _0x1299f6=(0x0,_0x298876['v4'])(),_0x261ccd=this['lastTransactionId'],_0x54f5d6={'payloadType':_0x30d452[_0x1d21da(0x6ee)],'action':_0x1ffaee[_0x1d21da(0x4b0)],'id':_0x1299f6,'parentId':_0x261ccd,'path':_0x3d4cbb,'newPath':_0x56c1ca};await this['publishTransaction'](_0x54f5d6);const _0x21dd06=await this[_0x1d21da(0x5e2)](_0x3d4cbb,_0x56c1ca);await this[_0x1d21da(0x468)](_0x54f5d6),_0x50fe93['logServiceEvent'](_0x39a0cc[_0x1d21da(0x449)],{'type':_0x1d21da(0x170),'label':this[_0x1d21da(0x726)],'nodeId':this['localNode'][_0x1d21da(0x591)](),'nodeType':this['localNode'][_0x1d21da(0x274)],'clusterId':this[_0x1d21da(0x1f3)],'kind':_0x21dd06,'path':_0x3d4cbb,'newPath':_0x56c1ca}),this[_0x1d21da(0x337)]+=0x1,this[_0x1d21da(0x16f)]();}catch(_0x2d2b1f){if(_0x2d2b1f instanceof _0x2826e7)throw new _0x1a3a24(_0x1cb6bb['ObjectStoreNotInSync'],_0x1d21da(0x607));throw new _0x1a3a24(_0x1cb6bb[_0x1d21da(0x3d7)],_0x1d21da(0x4f8)+_0x3d4cbb);}}async[_0x5a261d(0x458)](_0x340f56,_0x39555d=!0x1){const _0x1a3ec4=_0x5a261d;if(this[_0x1a3ec4(0x4aa)]&&_0x340f56['parentId']!==this[_0x1a3ec4(0x4aa)]&&_0x340f56['id']!==this[_0x1a3ec4(0x4aa)]){if(!_0x340f56['parentId'])throw new _0x2826e7(_0x2826e7[_0x1a3ec4(0x776)][_0x1a3ec4(0x542)]);this[_0x1a3ec4(0x5cc)][_0x1a3ec4(0x1a1)](_0x340f56[_0x1a3ec4(0x44e)],_0x340f56);}else{try{await this['processTransactionPayload'](_0x340f56,_0x39555d);}catch(_0x497845){}await this[_0x1a3ec4(0x155)](_0x340f56['id']),await this[_0x1a3ec4(0x694)](_0x340f56['id'],_0x39555d);}}async[_0x5a261d(0x5c3)](_0x1df134,_0x2376d0=!0x1){const _0x579efb=_0x5a261d;switch(_0x1df134[_0x579efb(0x506)]){case _0x1ffaee[_0x579efb(0xfc)]:await this[_0x579efb(0x533)](_0x1df134);break;case _0x1ffaee[_0x579efb(0x592)]:await this[_0x579efb(0x25f)](_0x1df134);break;case _0x1ffaee[_0x579efb(0x4b0)]:await this[_0x579efb(0x778)](_0x1df134,_0x2376d0);break;case _0x1ffaee['Delete']:await this['handleObjectDelete'](_0x1df134,_0x2376d0);break;default:throw new _0x2826e7(_0x2826e7['codes'][_0x579efb(0x542)],{'payload':_0x1df134});}}async[_0x5a261d(0x694)](_0x3700c6,_0x16cd5d=!0x1){const _0x155a81=_0x5a261d;if(this[_0x155a81(0x5cc)][_0x155a81(0x644)](_0x3700c6)){const _0x1531b8=this[_0x155a81(0x5cc)][_0x155a81(0x568)](_0x3700c6);this['pendingSyncTransactions'][_0x155a81(0x20a)](_0x3700c6),await this[_0x155a81(0x458)](_0x1531b8,_0x16cd5d);}}async[_0x5a261d(0x1cb)](_0x377376){const _0x283e78=_0x5a261d;switch(_0x377376[_0x283e78(0x506)]){case _0x1ffaee[_0x283e78(0x766)]:return this['handleFileRequest'](_0x377376);case _0x1ffaee[_0x283e78(0x70f)]:return this[_0x283e78(0x3b9)](_0x377376);case _0x1ffaee[_0x283e78(0x463)]:return this[_0x283e78(0x6b5)](_0x377376);case _0x1ffaee[_0x283e78(0x31a)]:return this[_0x283e78(0x533)](_0x377376);default:throw new _0x2826e7(_0x2826e7[_0x283e78(0x776)][_0x283e78(0x542)],{'payload':_0x377376});}}async['handleFileWrite'](_0x3c5b18,_0x363482=0x0){const _0x1220d4=_0x5a261d,_0x2e8c47=_0x5061b2(_0x3c5b18[_0x1220d4(0x356)],_0x3c5b18[_0x1220d4(0x267)]);if(!_0x3c5b18[_0x1220d4(0x5f0)]||void 0x0===_0x3c5b18[_0x1220d4(0x637)]||!_0x3c5b18[_0x1220d4(0x6cd)])return this[_0x1220d4(0x451)][_0x1220d4(0x20a)](_0x2e8c47),void await this['createPendingFileWrite'](_0x3c5b18[_0x1220d4(0x267)],_0x3c5b18[_0x1220d4(0x356)],{'checksum':_0x3c5b18[_0x1220d4(0x25c)],'skipEncryption':_0x3c5b18[_0x1220d4(0x2d9)]});if(!this[_0x1220d4(0x451)][_0x1220d4(0x644)](_0x2e8c47)){try{await this[_0x1220d4(0x1b8)][_0x1220d4(0x169)](_0x2e8c47);}catch(_0x15f714){}try{const _0x3c92c4={'chunksReceived':0x0,'bytesReceived':0x0,'stream':this[_0x1220d4(0x621)]?await this[_0x1220d4(0x1b8)][_0x1220d4(0x144)](_0x2e8c47,{'skipEncryption':_0x3c5b18['skipEncryption']}):void 0x0,'checksum':_0x3c5b18[_0x1220d4(0x25c)]};this['fileChunks'][_0x1220d4(0x1a1)](_0x2e8c47,_0x3c92c4),await this[_0x1220d4(0x21c)](_0x3c5b18[_0x1220d4(0x267)],_0x3c5b18[_0x1220d4(0x356)],{'checksum':_0x3c5b18['checksum'],'skipEncryption':_0x3c5b18[_0x1220d4(0x2d9)]});}catch(_0x5ee6df){}}const _0x34c476=this['fileChunks']['get'](_0x2e8c47);if(_0x3c5b18[_0x1220d4(0x25c)]!==_0x34c476['checksum'])return;if(this[_0x1220d4(0x2db)](_0x3c5b18,_0x2e8c47),this[_0x1220d4(0x621)]){if(!_0x34c476['stream'])throw new _0x2826e7(_0x2826e7[_0x1220d4(0x776)][_0x1220d4(0x542)],{'message':_0x1220d4(0x300)});let _0x38ada1=_0x34c476[_0x1220d4(0x249)];if(_0x3c5b18[_0x1220d4(0x637)]!==_0x38ada1){if(_0x38ada1>_0x3c5b18[_0x1220d4(0x637)])return;return _0x34c476[_0x1220d4(0x2df)]||(_0x34c476['bufferedChunks']=[]),void _0x34c476[_0x1220d4(0x2df)][_0x1220d4(0x6bc)](_0x3c5b18);}try{_0x34c476[_0x1220d4(0x249)]+=0x1,_0x34c476[_0x1220d4(0x608)]+=_0x3c5b18[_0x1220d4(0x5f0)][_0x1220d4(0xf9)],await _0x34c476[_0x1220d4(0x209)][_0x1220d4(0x3cf)](_0x3c5b18[_0x1220d4(0x5f0)]);}catch(_0x25125f){if(console['error'](_0x1220d4(0x588),_0x25125f),_0x363482>0x3)throw this['fileChunks']['delete'](_0x2e8c47),console[_0x1220d4(0x671)](_0x1220d4(0x4eb),_0x25125f),new _0x2826e7(_0x2826e7[_0x1220d4(0x776)]['ObjectStoreInvalidSyncMessage'],{'message':_0x1220d4(0x4eb)});return this[_0x1220d4(0x533)](_0x3c5b18,_0x363482+0x1);}}try{await this[_0x1220d4(0x3c0)](_0x34c476,_0x3c5b18['index']+0x1);}catch(_0x3085d1){throw this[_0x1220d4(0x451)][_0x1220d4(0x20a)](_0x2e8c47),_0x3085d1;}if(this[_0x1220d4(0x451)][_0x1220d4(0x1a1)](_0x2e8c47,_0x34c476),_0x34c476['chunksReceived']<_0x3c5b18[_0x1220d4(0x6cd)])return;if(this['fileChunks']['delete'](_0x2e8c47),_0x34c476[_0x1220d4(0x209)])try{await _0x34c476[_0x1220d4(0x209)][_0x1220d4(0x3e3)]();}catch(_0x217156){console[_0x1220d4(0x671)](_0x1220d4(0x2c0),_0x217156);}const _0x334b5a=await this['objectStoreConnector'][_0x1220d4(0x568)](_0x2e8c47);this[_0x1220d4(0x621)]&&(await this[_0x1220d4(0x41f)](_0x3c5b18),_0x50fe93[_0x1220d4(0x501)](_0x39a0cc[_0x1220d4(0x449)],{'type':_0x1220d4(0x2cc),'label':this[_0x1220d4(0x726)],'nodeId':this[_0x1220d4(0x783)][_0x1220d4(0x591)](),'nodeType':this[_0x1220d4(0x783)][_0x1220d4(0x274)],'clusterId':this[_0x1220d4(0x1f3)],'kind':_0x44eeae[_0x1220d4(0x3c1)][_0x1220d4(0x6f4)],'path':_0x3c5b18['path'],'fileName':_0x3c5b18[_0x1220d4(0x267)],'fileType':_0x3c5b18[_0x1220d4(0x274)],'size':_0x334b5a[_0x1220d4(0x101)]}));const _0x3e8868=this['pendingFilesTransactions'][_0x1220d4(0x568)](_0x3c5b18['path'])??[];for(const _0x23c852 of _0x3e8868)await this[_0x1220d4(0x5c3)](_0x23c852);this[_0x1220d4(0x2ae)]['delete'](_0x3c5b18[_0x1220d4(0x356)]),this[_0x1220d4(0x632)][_0x1220d4(0x3b8)]({'event':_0x44eeae[_0x1220d4(0x578)][_0x1220d4(0xfc)],'payload':{'file':{'kind':_0x44eeae[_0x1220d4(0x3c1)][_0x1220d4(0x6f4)],'path':_0x3c5b18['path'],'type':_0x334b5a[_0x1220d4(0x274)],'size':_0x334b5a['size'],'name':_0x3c5b18['name'],'pathName':_0x2e8c47,'status':this[_0x1220d4(0x621)]?_0x44eeae[_0x1220d4(0x40a)][_0x1220d4(0x288)]:_0x44eeae['FileStatus'][_0x1220d4(0x2b5)]}}});}async[_0x5a261d(0x3c0)](_0x2cc6d2,_0x462dc0){const _0x56ee44=_0x5a261d,_0x336a55=_0x2cc6d2[_0x56ee44(0x209)];let _0x30ce2e=0x0;for(;_0x2cc6d2[_0x56ee44(0x2df)]&&_0x2cc6d2['bufferedChunks']['length']>0x0;){const _0x1617bf=_0x2cc6d2[_0x56ee44(0x2df)]['find'](_0xcfd236=>_0xcfd236[_0x56ee44(0x637)]===_0x462dc0+0x1);if(!_0x1617bf)break;_0x2cc6d2[_0x56ee44(0x2df)]=_0x2cc6d2[_0x56ee44(0x2df)]['filter'](_0x2c9683=>_0x2c9683[_0x56ee44(0x637)]!==_0x462dc0+0x1);try{await _0x336a55['write'](_0x1617bf[_0x56ee44(0x5f0)]),_0x462dc0++;}catch(_0x2c71de){if(console[_0x56ee44(0x671)](_0x56ee44(0x498),_0x2c71de),_0x30ce2e>0x3)throw console['error'](_0x56ee44(0x234),_0x2c71de),new _0x2826e7(_0x2826e7[_0x56ee44(0x776)][_0x56ee44(0x542)],{'message':'Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream'});_0x30ce2e++;continue;}_0x2cc6d2[_0x56ee44(0x249)]+=0x1,_0x2cc6d2['bytesReceived']+=_0x1617bf[_0x56ee44(0x5f0)]['byteLength'];}}async[_0x5a261d(0x25f)](_0x4aae00){const _0x4d0156=_0x5a261d;await this['objectStoreConnector'][_0x4d0156(0x4be)](_0x4aae00[_0x4d0156(0x356)]);const [_0xc8a0a7,_0x161409]=_0x39fe4f(_0x4aae00[_0x4d0156(0x356)]);this[_0x4d0156(0x632)][_0x4d0156(0x3b8)]({'event':_0x44eeae[_0x4d0156(0x578)][_0x4d0156(0x592)],'payload':{'folder':{'kind':_0x44eeae['ObjectKind']['Folder'],'name':_0x161409,'path':_0xc8a0a7,'pathName':_0x4aae00['path']}}});}async['handleObjectDelete'](_0xad3946,_0x27ed1b=!0x1){const _0x5523f5=_0x5a261d;if(!_0x27ed1b&&!this[_0x5523f5(0x16e)](_0xad3946))return;const _0x5aed45=await this[_0x5523f5(0x169)](_0xad3946[_0x5523f5(0x356)]),[_0x138359,_0xa8fb4f]=_0x39fe4f(_0xad3946['path']);this['eventListener'][_0x5523f5(0x3b8)]({'event':_0x5aed45===_0x44eeae['ObjectKind']['Folder']?_0x44eeae[_0x5523f5(0x578)][_0x5523f5(0x704)]:_0x44eeae['StorageEventType']['FileDelete'],'payload':{'name':_0xa8fb4f,'path':_0x138359,'pathName':_0xad3946[_0x5523f5(0x356)]}});}async[_0x5a261d(0x778)](_0x17dd80,_0x357ffc=!0x1){const _0x428485=_0x5a261d;if(!_0x357ffc&&!this[_0x428485(0x16e)](_0x17dd80))return this[_0x428485(0x73f)][_0x428485(0x1a1)](_0x17dd80['newPath'],this[_0x428485(0x73f)][_0x428485(0x568)](_0x17dd80[_0x428485(0x356)])??_0x17dd80[_0x428485(0x356)]),void this[_0x428485(0x73f)][_0x428485(0x20a)](_0x17dd80[_0x428485(0x356)]);this[_0x428485(0x73f)][_0x428485(0x20a)](_0x17dd80[_0x428485(0x356)]);const _0x2c7a5f=await this[_0x428485(0x1b8)]['moveObject'](_0x17dd80[_0x428485(0x356)],_0x17dd80[_0x428485(0x3b2)]),[_0x37f3df,_0x928166]=_0x39fe4f(_0x17dd80[_0x428485(0x356)]),[_0x2856ae,_0x380dd0]=_0x39fe4f(_0x17dd80['newPath']);this[_0x428485(0x632)][_0x428485(0x3b8)]({'event':_0x2c7a5f===_0x44eeae['ObjectKind'][_0x428485(0x20f)]?_0x44eeae[_0x428485(0x578)][_0x428485(0x609)]:_0x44eeae['StorageEventType'][_0x428485(0x546)],'payload':{'name':_0x380dd0,'path':_0x2856ae,'pathName':_0x17dd80[_0x428485(0x3b2)],'oldName':_0x928166,'oldPath':_0x37f3df,'oldPathName':_0x17dd80[_0x428485(0x356)]}});}[_0x5a261d(0x16e)](_0x4c5884){const _0xc52011=_0x5a261d,_0x519bfc=this[_0xc52011(0x73f)][_0xc52011(0x568)](_0x4c5884[_0xc52011(0x356)])??_0x4c5884['path'];let _0x3178f9=!0x1;for(const _0x5dd2b0 of this[_0xc52011(0x451)][_0xc52011(0x472)]())if(_0x5dd2b0[_0xc52011(0x47a)](_0x519bfc)){const _0x589249=this[_0xc52011(0x2ae)][_0xc52011(0x568)](_0x5dd2b0)??[];_0x589249[_0xc52011(0x6bc)](_0x4c5884),this[_0xc52011(0x2ae)][_0xc52011(0x1a1)](_0x5dd2b0,_0x589249),_0x3178f9=!0x0;}return!_0x3178f9;}async[_0x5a261d(0x456)](_0x1a1e12){const _0x582d9b=_0x5a261d;if(!_0x1a1e12['id'])throw new _0x2826e7(_0x2826e7[_0x582d9b(0x776)][_0x582d9b(0x542)],{'message':_0x582d9b(0x583)});if(_0x1a1e12[_0x582d9b(0x44e)]!==this['lastTransactionId'])throw new _0x2826e7(_0x2826e7['codes'][_0x582d9b(0x666)]);await this['transactionService']['writeTransaction'](_0x1a1e12,this[_0x582d9b(0x726)]),await this['updateLastTransactionId'](_0x1a1e12['id']);}async[_0x5a261d(0x155)](_0x3f8f20){const _0x36b8e7=_0x5a261d;this[_0x36b8e7(0x4aa)]=_0x3f8f20;const _0xb03637=new File([new Blob([this['lastTransactionId']])],_0xc5a811,{'type':_0x36b8e7(0x678)});await this[_0x36b8e7(0x24c)](_0xb03637,'/');}async[_0x5a261d(0x30e)](_0xf6fdba){const _0x49b6f2=_0x5a261d;try{const _0x86eda0=await this[_0x49b6f2(0x568)](_0xf6fdba[_0x49b6f2(0x356)]+'/'+_0xf6fdba[_0x49b6f2(0x267)]);if(await _0xfefa49(_0x86eda0)!==_0xf6fdba['checksum'])return;_0xf6fdba[_0x49b6f2(0x67c)]=this[_0x49b6f2(0x783)][_0x49b6f2(0x591)](),_0xf6fdba[_0x49b6f2(0x506)]=_0x1ffaee[_0x49b6f2(0x70f)],await this[_0x49b6f2(0x468)](_0xf6fdba,[_0xf6fdba[_0x49b6f2(0x6f8)]]);}catch(_0x5ac34e){}}async[_0x5a261d(0x3b9)](_0x550776){const _0x192ecb=_0x5a261d,_0xf2be37=_0x5061b2(_0x550776['path'],_0x550776[_0x192ecb(0x267)]);if(!this['objectRequests'][_0x192ecb(0x644)](_0xf2be37))return;const _0x2900f8=this['objectRequests'][_0x192ecb(0x568)](_0xf2be37);_0x2900f8[_0x192ecb(0x506)]=_0x1ffaee[_0x192ecb(0x463)];const _0x41efa3=_0x550776[_0x192ecb(0x67c)];if(!_0x41efa3)throw new _0x2826e7(_0x2826e7['codes']['ObjectStoreInvalidSyncMessage'],{'message':_0x192ecb(0x1fe)});this[_0x192ecb(0x1d1)][_0x192ecb(0x20a)](_0xf2be37),this[_0x192ecb(0x1da)][_0x192ecb(0x644)](_0x41efa3)||this['pendingFilesSyncing'][_0x192ecb(0x1a1)](_0x41efa3,new Map()),this[_0x192ecb(0x1da)][_0x192ecb(0x568)](_0x41efa3)[_0x192ecb(0x1a1)](_0xf2be37,[_0x2900f8,this[_0x192ecb(0x264)](_0x41efa3,_0xf2be37)]),_0x2900f8['answererId']=_0x41efa3,_0x2900f8[_0x192ecb(0x483)]=this['fileChunks'][_0x192ecb(0x568)](_0xf2be37)?.[_0x192ecb(0x249)]??0x0,this[_0x192ecb(0x468)](_0x2900f8,[_0x41efa3]);}async[_0x5a261d(0x6b5)](_0x27f462){const _0x3c4432=_0x5a261d,_0x29d965=_0x5061b2(_0x27f462[_0x3c4432(0x356)],_0x27f462[_0x3c4432(0x267)]),_0x2e86cf=await this[_0x3c4432(0x568)](_0x29d965),_0x257930={..._0x27f462,'answererId':this['localNode'][_0x3c4432(0x591)](),'action':_0x1ffaee[_0x3c4432(0x31a)],'startIndex':_0x27f462['startIndex']??0x0};await this[_0x3c4432(0x5e5)](_0x2e86cf,_0x257930,[_0x27f462[_0x3c4432(0x6f8)]]);}async[_0x5a261d(0x5e5)](_0x56df31,_0x19d4c6,_0x140b9a){const _0x2f6a4b=_0x5a261d,_0x4efd36=Math[_0x2f6a4b(0xe9)](_0x56df31['size']/_0x39b9f6);let _0x2f19bb=_0x19d4c6['startIndex']??0x0;const _0x22dfee=_0x5061b2(_0x19d4c6[_0x2f6a4b(0x356)],_0x19d4c6[_0x2f6a4b(0x267)]),_0x4cc204=async()=>await this[_0x2f6a4b(0x568)](_0x22dfee);for await(const _0x3d26e7 of async function*(_0x121f9e,_0x127e68=0x0,_0x3d9b60){for await(const _0xd2493d of _0x365d85(_0x121f9e,_0x127e68,_0x3d9b60))yield _0xd2493d;}(_0x56df31,_0x2f19bb,_0x4cc204)){const _0x51e60c={..._0x19d4c6,'type':_0x56df31[_0x2f6a4b(0x274)],'data':_0x3d26e7,'index':_0x2f19bb,'total':_0x4efd36};this['send'](_0x51e60c,_0x140b9a),_0x2f19bb++;}}async[_0x5a261d(0x41f)](_0x4c6214){const _0x19312f=_0x5a261d;try{const _0x655072=_0x5061b2(_0x4c6214['path'],_0x4c6214['name']),_0x59e18e=_0x655072+_0x48cd86;await this[_0x19312f(0x169)](_0x59e18e);const [,_0x4c0c55]=this[_0x19312f(0x1da)]['get'](_0x4c6214['answererId'])?.[_0x19312f(0x568)](_0x655072)??[];_0x4c0c55&&(clearTimeout(_0x4c0c55),this[_0x19312f(0x1da)][_0x19312f(0x568)](_0x4c6214[_0x19312f(0x67c)])[_0x19312f(0x20a)](_0x655072));}catch(_0x5f07b0){}0x0===this[_0x19312f(0x1da)][_0x19312f(0x568)](_0x4c6214[_0x19312f(0x67c)])?.[_0x19312f(0x101)]&&this[_0x19312f(0x1da)][_0x19312f(0x20a)](_0x4c6214['answererId']),0x0===this[_0x19312f(0x1da)]['size']&&0x0===this[_0x19312f(0x1d1)][_0x19312f(0x101)]&&this['completeSync']();}async[_0x5a261d(0x105)](){const _0x13c934=_0x5a261d;try{const _0x47bc50=await this[_0x13c934(0x453)][_0x13c934(0x294)](this['label'],this['lastTransactionId']);for(const _0xe9034e of _0x47bc50)await this[_0x13c934(0x458)](_0xe9034e,!0x0);}catch(_0x3cbbd8){if(_0x3cbbd8 instanceof _0x2826e7&&_0x3cbbd8[_0x13c934(0x509)]===_0x2826e7[_0x13c934(0x776)][_0x13c934(0x210)]){await this[_0x13c934(0x1b8)][_0x13c934(0x169)](_0xc5a811),delete this[_0x13c934(0x4aa)];try{const _0x59e316=await this['objectStoreConnector'][_0x13c934(0x1bc)]('/',!0x1);for(const _0x4247ae of _0x59e316)await this[_0x13c934(0x1b8)][_0x13c934(0x169)](_0x4247ae['pathName']);}catch(_0x563ce9){}return await this[_0x13c934(0x105)]();}throw _0x3cbbd8;}}async[_0x5a261d(0x5cf)](){const _0x48bc57=_0x5a261d,_0x25991f=await this[_0x48bc57(0x1bc)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x0}),_0x5dc743=async _0x514842=>{const _0x4a96b0=_0x48bc57;for(const _0x203ef7 of _0x514842){if(_0x203ef7[_0x4a96b0(0x4a0)]===_0x44eeae['ObjectKind'][_0x4a96b0(0x20f)]){_0x203ef7[_0x4a96b0(0x580)]&&_0x203ef7['entries']['length']>0x0&&await _0x5dc743(_0x203ef7['entries']);continue;}if(!_0x203ef7[_0x4a96b0(0x267)][_0x4a96b0(0x770)](_0x48cd86))continue;const _0x540439=await this[_0x4a96b0(0x568)](_0x203ef7[_0x4a96b0(0xed)]),_0x3ca29c=JSON['parse'](await _0x540439[_0x4a96b0(0x5b7)]()),_0x238033=_0x203ef7['name'][_0x4a96b0(0x476)](_0x48cd86,''),_0x2dea3d={'payloadType':_0x30d452['Request'],'action':_0x1ffaee[_0x4a96b0(0x766)],'sourceId':this[_0x4a96b0(0x783)][_0x4a96b0(0x591)](),'type':'','path':_0x203ef7[_0x4a96b0(0x356)],'name':_0x238033,'checksum':_0x3ca29c['checksum'],'skipEncryption':_0x3ca29c[_0x4a96b0(0x2d9)]},_0x2d0241=_0x5061b2(_0x203ef7['path'],_0x238033);this['objectRequests'][_0x4a96b0(0x1a1)](_0x2d0241,_0x2dea3d);}};await _0x5dc743(_0x25991f),0x0===this[_0x48bc57(0x1d1)]['size']&&0x0===this[_0x48bc57(0x1da)][_0x48bc57(0x101)]&&this['completeSync']();}async[_0x5a261d(0x21c)](_0x34cb2b,_0x278566,_0xbc1fb8){const _0xe8ff22=_0x5a261d,_0x33605a=new File([new Blob([JSON[_0xe8ff22(0x414)](_0xbc1fb8)])],''+_0x34cb2b+_0x48cd86,{'type':'text/plain'});await this[_0xe8ff22(0x24c)](_0x33605a,_0x278566);}[_0x5a261d(0x264)](_0x8da926,_0xdff02c){const _0x2c0dee=_0x5a261d,[_0x43e1a6,_0x49cda5]=this[_0x2c0dee(0x1da)][_0x2c0dee(0x568)](_0x8da926)?.[_0x2c0dee(0x568)](_0xdff02c)??[];return _0x49cda5&&clearTimeout(_0x49cda5),setTimeout(()=>{const _0x43fc54=_0x2c0dee,[_0x1ae75d,_0x3a4399]=this['pendingFilesSyncing'][_0x43fc54(0x568)](_0x8da926)[_0x43fc54(0x568)](_0xdff02c);this[_0x43fc54(0x3ba)](_0x1ae75d,_0x3a4399);},0x927c0);}async[_0x5a261d(0x3ba)](_0x36b2a7,_0x399ed6){const _0x6a3bd9=_0x5a261d;clearTimeout(_0x399ed6),_0x36b2a7[_0x6a3bd9(0x506)]=_0x1ffaee['RequestFile'],this[_0x6a3bd9(0x1d1)][_0x6a3bd9(0x1a1)](_0x5061b2(_0x36b2a7[_0x6a3bd9(0x356)],_0x36b2a7[_0x6a3bd9(0x267)]),_0x36b2a7),this[_0x6a3bd9(0x468)](_0x36b2a7);}[_0x5a261d(0x2db)](_0x198210,_0x2380bf){const _0x59c4bd=_0x5a261d;if(!this[_0x59c4bd(0x621)])return;this['pendingFilesSyncing'][_0x59c4bd(0x644)](_0x198210[_0x59c4bd(0x67c)])||this['pendingFilesSyncing']['set'](_0x198210[_0x59c4bd(0x67c)],new Map());const [_0x4619c9]=this[_0x59c4bd(0x1da)][_0x59c4bd(0x568)](_0x198210[_0x59c4bd(0x67c)])['get'](_0x2380bf)??[{'payloadType':_0x30d452[_0x59c4bd(0x5a6)],'action':_0x1ffaee[_0x59c4bd(0x766)],'sourceId':this[_0x59c4bd(0x783)][_0x59c4bd(0x591)](),'type':_0x198210[_0x59c4bd(0x274)],'name':_0x198210[_0x59c4bd(0x267)],'path':_0x198210['path'],'skipEncryption':_0x198210['skipEncryption'],'checksum':_0x198210['checksum'],'answererId':_0x198210[_0x59c4bd(0x67c)]}];this[_0x59c4bd(0x1da)][_0x59c4bd(0x568)](_0x198210[_0x59c4bd(0x67c)])[_0x59c4bd(0x1a1)](_0x2380bf,[_0x4619c9,this['getOrResetPendingFileTimeout'](_0x198210[_0x59c4bd(0x67c)],_0x2380bf)]);}async['writeFile'](_0x513cd5,_0x2177ab,_0x5dc879){const _0x53a869=_0x5a261d;await this[_0x53a869(0x1b8)][_0x53a869(0x24c)](_0x513cd5,_0x2177ab,{'skipEncryption':_0x5dc879});}async[_0x5a261d(0x169)](_0x722d32){const _0x203a58=_0x5a261d;try{return await this[_0x203a58(0x1b8)][_0x203a58(0x169)](_0x722d32);}catch(_0x4df4ec){return await this[_0x203a58(0x1b8)][_0x203a58(0x169)](_0x722d32+_0x48cd86);}}async[_0x5a261d(0x5e2)](_0x5b62da,_0x5c1e84){const _0x2901e9=_0x5a261d;try{return await this[_0x2901e9(0x1b8)][_0x2901e9(0x5e2)](_0x5b62da,_0x5c1e84);}catch(_0x3c39a3){return await this[_0x2901e9(0x1b8)][_0x2901e9(0x5e2)](_0x5b62da+_0x48cd86,_0x5c1e84+_0x48cd86);}}[_0x5a261d(0x16f)](){const _0x4a597c=_0x5a261d;this['debounceStats']&&clearTimeout(this[_0x4a597c(0x507)]),this[_0x4a597c(0x507)]=setTimeout(async()=>{const _0x1935c4=_0x4a597c;delete this[_0x1935c4(0x507)];const _0x3b43c8=await this[_0x1935c4(0x1b8)][_0x1935c4(0x562)]('/');this[_0x1935c4(0x30a)]?.[_0x1935c4(0x3b8)]({'sourceId':_0x4f18fa,'messageType':_0x3a54c1[_0x1935c4(0x55b)],'content':{'type':_0x534fb2[_0x1935c4(0x466)],'label':this['label'],'stats':{'timestamp':Date[_0x1935c4(0x4e6)](),'storage':_0x3b43c8,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x1935c4(0x35f)],'bytesSent':this[_0x1935c4(0xf7)],'bytesReceived':this[_0x1935c4(0x608)],'writes':this[_0x1935c4(0x337)],'reads':this[_0x1935c4(0x248)],'prompts':0x0,'tokens':0x0}}}),_0x50fe93[_0x1935c4(0x6bf)](_0x39a0cc['ObjectStorage'],_0x1935c4(0x52c)+this['clusterId']+_0x1935c4(0x52c)+this[_0x1935c4(0x726)],_0x3b43c8);},0x1388);}async['syncedFileExists'](_0x1a0fcf){try{return await this['get'](_0x1a0fcf),!0x0;}catch(_0x2442b1){return!0x1;}}}class _0x59bde6 extends _0x2536ee{[_0x5a261d(0x783)];[_0x5a261d(0x1f3)];[_0x5a261d(0x3b6)]=new Map();[_0x5a261d(0x507)];constructor(_0x2a5075,_0x191662,_0x1a1273){const _0x49da9b=_0x5a261d;if('string'!=typeof _0x191662)throw new _0x1a3a24(_0x1cb6bb[_0x49da9b(0x2ef)],_0x49da9b(0x78a));super(_0x2a5075,_0x191662),this[_0x49da9b(0x783)]=_0x2a5075,this['clusterId']=_0x1a1273,this[_0x49da9b(0x16f)]();}[_0x5a261d(0x352)](){const _0x4d18bb=_0x5a261d;this[_0x4d18bb(0x16f)]();}[_0x5a261d(0x72b)](){const _0x28c1eb=_0x5a261d;return _0x44eeae[_0x28c1eb(0xee)][_0x28c1eb(0x48c)];}[_0x5a261d(0x3b8)](_0x23ad47,_0x224dc5){const _0x351a3a=_0x5a261d;_0x50fe93[_0x351a3a(0x287)](_0x2d7d49[_0x351a3a(0x48c)],'PubSubTopic\x20publish',this[_0x351a3a(0x783)][_0x351a3a(0x591)](),_0x23ad47,_0x224dc5),_0x50fe93[_0x351a3a(0x501)](_0x39a0cc[_0x351a3a(0x48c)],{'type':_0x351a3a(0x3b8),'label':this[_0x351a3a(0x726)],'nodeId':this[_0x351a3a(0x783)][_0x351a3a(0x591)](),'nodeType':this[_0x351a3a(0x783)]['type'],'clusterId':this[_0x351a3a(0x1f3)],'remoteIds':_0x224dc5??[],'contentType':_0x23ad47 instanceof File?_0x44eeae[_0x351a3a(0xee)][_0x351a3a(0x6f4)]:_0x44eeae[_0x351a3a(0xee)][_0x351a3a(0x50d)],'size':_0x23ad47 instanceof File?_0x23ad47[_0x351a3a(0x101)]:JSON[_0x351a3a(0x414)](_0x23ad47)['length']}),this[_0x351a3a(0x16f)](),this['send'](_0x23ad47,_0x224dc5);}['subscribe'](_0x3ce499,_0x4acd99){const _0x15cdb9=_0x5a261d;if(this[_0x15cdb9(0x3b6)][_0x15cdb9(0x644)](_0x3ce499))throw new _0x1a3a24(_0x1cb6bb[_0x15cdb9(0x59d)],_0x15cdb9(0x3ef));this[_0x15cdb9(0x3b6)]['set'](_0x3ce499,this[_0x15cdb9(0x43a)]((_0x1dfb8e,_0xa5a6c)=>{const _0x735d70=_0x15cdb9;_0x735d70(0x5f0)===_0x3ce499&&_0xa5a6c instanceof File||!(_0x735d70(0x1a4)!==_0x3ce499||_0xa5a6c instanceof File)||(_0x50fe93[_0x735d70(0x287)](_0x2d7d49[_0x735d70(0x48c)],_0x735d70(0x254),this[_0x735d70(0x783)][_0x735d70(0x591)](),_0x1dfb8e,_0xa5a6c),_0x50fe93[_0x735d70(0x501)](_0x39a0cc[_0x735d70(0x48c)],{'type':_0x735d70(0x313),'label':this['label'],'nodeId':this[_0x735d70(0x783)][_0x735d70(0x591)](),'nodeType':this['localNode'][_0x735d70(0x274)],'clusterId':this[_0x735d70(0x1f3)],'remoteId':_0x1dfb8e,'contentType':_0x3ce499,'size':_0xa5a6c instanceof File?_0xa5a6c['size']:JSON[_0x735d70(0x414)](_0xa5a6c)[_0x735d70(0x553)]}),this[_0x735d70(0x16f)](),_0x4acd99(_0x1dfb8e,_0xa5a6c));}));}[_0x5a261d(0x76e)](_0x35393b){const _0x1dba2c=_0x5a261d;this[_0x1dba2c(0x3b6)]['get'](_0x35393b)?.(),this[_0x1dba2c(0x3b6)][_0x1dba2c(0x20a)](_0x35393b);}[_0x5a261d(0x4fe)](){const _0x33b1b8=_0x5a261d;this['unsubscribeHandler'][_0x33b1b8(0x675)](_0x2bfbd6=>_0x2bfbd6()),clearTimeout(this[_0x33b1b8(0x507)]),delete this[_0x33b1b8(0x507)],super[_0x33b1b8(0x4fe)]();}[_0x5a261d(0x3e3)](){const _0x1a7994=_0x5a261d;this['systemTopic']?.[_0x1a7994(0x3b8)]({'sourceId':_0x4f18fa,'messageType':_0x3a54c1[_0x1a7994(0x55b)],'content':{'type':_0x534fb2[_0x1a7994(0x200)],'label':this[_0x1a7994(0x726)]}});}[_0x5a261d(0x16f)](){const _0x2b3be4=_0x5a261d;this[_0x2b3be4(0x507)]&&clearTimeout(this['debounceStats']),this['debounceStats']=setTimeout(()=>{const _0x2a0d00=_0x2b3be4;this[_0x2a0d00(0x30a)]?.[_0x2a0d00(0x3b8)]({'sourceId':_0x4f18fa,'messageType':_0x3a54c1[_0x2a0d00(0x55b)],'content':{'type':_0x534fb2['PubSubTopicStats'],'label':this['label'],'stats':{'timestamp':Date[_0x2a0d00(0x4e6)](),'storage':0x0,'messagesSent':this[_0x2a0d00(0x2e8)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x2a0d00(0xf7)],'bytesReceived':this[_0x2a0d00(0x608)],'writes':0x0,'reads':0x0,'prompts':0x0,'tokens':0x0}}});},0x1388);}}class _0x1c6899 extends _0x4c1963{[_0x5a261d(0x783)];[_0x5a261d(0x544)];[_0x5a261d(0x189)];[_0x5a261d(0x1f3)];[_0x5a261d(0x3b6)];['resizeHandler'];['updateDebounce'];[_0x5a261d(0x5fc)]=new Map();[_0x5a261d(0x567)];[_0x5a261d(0x140)]=new Set();[_0x5a261d(0x1c7)];['providerListener']=_0x5c88af();[_0x5a261d(0x756)]=new Map();constructor(_0x24dca2,_0x29ef72,_0x28b95d,_0x17d94b,_0xbcb58c,_0xc2925c){const _0xf8e2b0=_0x5a261d;super(_0x29ef72,_0x28b95d,new MediaStream()),this[_0xf8e2b0(0x783)]=_0x24dca2,this[_0xf8e2b0(0x544)]=_0x17d94b,this[_0xf8e2b0(0x189)]=_0xbcb58c,this[_0xf8e2b0(0x1f3)]=_0xc2925c,this['mediaStream'][_0xf8e2b0(0x291)]()[_0xf8e2b0(0x675)](_0x27872b=>this['setupTrackEndedListeners'](_0x27872b));}['destroy'](){const _0x2e0391=_0x5a261d;this[_0x2e0391(0x5fc)][_0x2e0391(0x101)]>0x0&&(this[_0x2e0391(0x5fc)][_0x2e0391(0x675)](_0x24f634=>{const _0x47d5c3=_0x2e0391;_0x24f634[_0x47d5c3(0x5bc)](),_0x24f634[_0x47d5c3(0x4fe)]();}),this[_0x2e0391(0x5fc)][_0x2e0391(0x220)]()),this[_0x2e0391(0x756)]['forEach'](_0x5e3902=>_0x5e3902()),this[_0x2e0391(0x6c6)][_0x2e0391(0x291)]()['forEach'](_0x17467a=>this['mediaStream'][_0x2e0391(0x28e)](_0x17467a)),this['updateDebounce']&&(clearTimeout(this[_0x2e0391(0x49c)]),delete this[_0x2e0391(0x49c)]),this[_0x2e0391(0x682)]?.(),super[_0x2e0391(0x4fe)]();}[_0x5a261d(0x549)](_0x2c1bca){const _0x466a8e=_0x5a261d;this['unsubscribeHandler']=_0x2c1bca[_0x466a8e(0x313)](({content:_0x4be8b4})=>{const _0x5ae6b9=_0x466a8e;switch(_0x4be8b4[_0x5ae6b9(0x506)]){case _0x230561[_0x5ae6b9(0x725)]:if(_0x50fe93[_0x5ae6b9(0x287)](_0x2d7d49[_0x5ae6b9(0x473)],_0x5ae6b9(0x324),this[_0x5ae6b9(0x783)][_0x5ae6b9(0x591)](),this[_0x5ae6b9(0x1c7)]),_0x4be8b4[_0x5ae6b9(0x209)]['id']!==this['internalId']||_0x4be8b4['providerId']!==this['providerId'])return;this[_0x5ae6b9(0x28e)](_0x4be8b4[_0x5ae6b9(0x363)]['kind']),this[_0x5ae6b9(0x6c6)][_0x5ae6b9(0x58d)](_0x4be8b4['track']);for(const [_0x25ac45,_0xd6a3f5]of this['outgoingStreams']['entries']())try{_0xd6a3f5[_0x5ae6b9(0x58d)](_0x4be8b4[_0x5ae6b9(0x363)]);}catch(_0x1fa7d0){_0xd6a3f5[_0x5ae6b9(0x4fe)](),this[_0x5ae6b9(0x5fc)][_0x5ae6b9(0x20a)](_0x25ac45);}this[_0x5ae6b9(0x20c)](_0x4be8b4[_0x5ae6b9(0x363)]),this[_0x5ae6b9(0x471)](),_0x5ae6b9(0x135)===_0x4be8b4[_0x5ae6b9(0x363)][_0x5ae6b9(0x4a0)]&&this['renderElement']&&(this['mediaStream'][_0x5ae6b9(0x4f5)]?setTimeout(()=>this[_0x5ae6b9(0x567)]?.[_0x5ae6b9(0x24a)](),0x0):setTimeout(()=>this['renderElement']?.[_0x5ae6b9(0x39b)](),0x0),this[_0x5ae6b9(0x42a)]());break;case _0x230561[_0x5ae6b9(0x310)]:if(_0x4be8b4['stream']['id']!==this[_0x5ae6b9(0x544)]||_0x4be8b4[_0x5ae6b9(0x1c7)]!==this[_0x5ae6b9(0x1c7)])return;this['removeTrack'](_0x4be8b4['track'][_0x5ae6b9(0x4a0)]),this[_0x5ae6b9(0x567)]&&_0x5ae6b9(0x135)===_0x4be8b4[_0x5ae6b9(0x363)][_0x5ae6b9(0x4a0)]&&(this[_0x5ae6b9(0x682)]?.(),this[_0x5ae6b9(0x6c6)]['getTracks']()[_0x5ae6b9(0x553)]>0x0?this['renderElement'][_0x5ae6b9(0x39b)]():this[_0x5ae6b9(0x567)][_0x5ae6b9(0x41a)]=null);}});}['unregisterSubscriber'](){const _0x1b8bf8=_0x5a261d;this[_0x1b8bf8(0x3b6)]?.(),this['trackEndedListeners'][_0x1b8bf8(0x675)](_0x5c2866=>_0x5c2866()),delete this[_0x1b8bf8(0x3b6)];}[_0x5a261d(0x41d)](){const _0x1a48ed=_0x5a261d;return this[_0x1a48ed(0x544)];}['setInternalId'](_0x198bc6){const _0x3ede39=_0x5a261d;this[_0x3ede39(0x544)]=_0x198bc6;}['getAvailableTrackKinds'](){const _0x2a3a41=_0x5a261d;return this[_0x2a3a41(0x189)];}[_0x5a261d(0x217)](_0x45c63d){const _0x5cb138=_0x5a261d;for(const _0x3a0fd5 of _0x45c63d||this[_0x5cb138(0x189)])if(!this['mediaStream'][_0x5cb138(0x291)]()[_0x5cb138(0x19f)](_0x33821e=>_0x33821e[_0x5cb138(0x4a0)]===_0x3a0fd5))return!0x1;return!0x0;}[_0x5a261d(0x134)](){const _0x59eec8=_0x5a261d;let _0x4c78e4={'width':0x0,'height':0x0};const _0x929414=this[_0x59eec8(0x6c6)][_0x59eec8(0x3cc)]();if(_0x929414['length']>0x0){const _0x2803c7=_0x929414[0x0][_0x59eec8(0x775)]();_0x2803c7[_0x59eec8(0x263)]&&_0x2803c7[_0x59eec8(0x4f7)]&&(_0x4c78e4={'width':_0x2803c7[_0x59eec8(0x263)],'height':_0x2803c7[_0x59eec8(0x4f7)]});}return _0x4c78e4;}[_0x5a261d(0x61d)](_0x5ccec1){for(const _0x3c58e5 of _0x5ccec1)if(!this['subscribedTracks']['has'](_0x3c58e5))return!0x1;return!0x0;}[_0x5a261d(0x73d)](_0x195ea1,_0x349df0){const _0xe7f697=_0x5a261d;if(!this[_0xe7f697(0x5fc)][_0xe7f697(0x644)](_0x195ea1)){const _0x4d934c=new _0x894131(this[_0xe7f697(0x151)],this[_0xe7f697(0x726)],this['mediaStream'],_0x195ea1,_0x349df0),_0x20b167=_0x4d934c[_0xe7f697(0x788)](()=>{const _0x4328b0=_0xe7f697;_0x20b167(),this[_0x4328b0(0x5fc)]['get'](_0x195ea1)?.['destroy'](),this[_0x4328b0(0x5fc)][_0x4328b0(0x20a)](_0x195ea1);});this[_0xe7f697(0x5fc)][_0xe7f697(0x1a1)](_0x195ea1,_0x4d934c),_0x4d934c[_0xe7f697(0x126)](this['systemTopic']);}return this[_0xe7f697(0x5fc)][_0xe7f697(0x568)](_0x195ea1);}[_0x5a261d(0x51f)](){return this['mediaStream']['id'];}[_0x5a261d(0x589)](){const _0x4200c3=_0x5a261d;return _0x44eeae[_0x4200c3(0x1a0)][_0x4200c3(0x616)];}[_0x5a261d(0x6ea)](){const _0x2fc7f3=_0x5a261d;return Array['from'](this[_0x2fc7f3(0x140)]);}['subscribe'](_0x5ba1fd){const _0x1945f4=_0x5a261d;let _0x288ccc=[];if(_0x5ba1fd){_0x1945f4(0x228)!=typeof _0x5ba1fd['video']||_0x5ba1fd['video'][_0x1945f4(0x567)]instanceof HTMLVideoElement||!this[_0x1945f4(0x567)]||(_0x5ba1fd[_0x1945f4(0x135)]={'renderElement':this[_0x1945f4(0x567)]});try{(0x0,_0x44eeae[_0x1945f4(0x55e)])(_0x5ba1fd);}catch(_0x133014){throw new _0x1a3a24(_0x1cb6bb[_0x1945f4(0x4a3)],'Invalid\x20params');}_0x5ba1fd['video']&&(_0x288ccc[_0x1945f4(0x6bc)]('video'),_0x1945f4(0x467)!=typeof _0x5ba1fd['video']&&_0x5ba1fd[_0x1945f4(0x135)]['renderElement']&&(this[_0x1945f4(0x567)]=_0x5ba1fd[_0x1945f4(0x135)]['renderElement'],_0x5ba1fd['video']['maxResolution']||(_0x5ba1fd[_0x1945f4(0x135)][_0x1945f4(0x5f8)]={'width':this[_0x1945f4(0x567)][_0x1945f4(0x6c1)],'height':this[_0x1945f4(0x567)]['clientHeight']}),delete _0x5ba1fd[_0x1945f4(0x135)][_0x1945f4(0x567)])),_0x5ba1fd[_0x1945f4(0x422)]&&_0x288ccc[_0x1945f4(0x6bc)](_0x1945f4(0x422));}else _0x288ccc=this[_0x1945f4(0x5d7)]();this['isSubscribed'](_0x288ccc)||(_0x288ccc[_0x1945f4(0x675)](_0x878172=>this[_0x1945f4(0x140)][_0x1945f4(0x500)](_0x878172)),this[_0x1945f4(0x30a)][_0x1945f4(0x3b8)]({'sourceId':_0x4f18fa,'messageType':_0x3a54c1['Content'],'content':{'type':_0x534fb2[_0x1945f4(0x46d)],'label':this[_0x1945f4(0x726)],'ownerId':this['owner'][_0x1945f4(0x591)](),'trackKinds':_0x288ccc,'params':_0x5ba1fd}}),_0x50fe93['logServiceEvent'](_0x39a0cc[_0x1945f4(0x2d1)],{'type':'subscribe','label':this[_0x1945f4(0x726)],'nodeId':this['localNode']['getId'](),'nodeType':this[_0x1945f4(0x783)][_0x1945f4(0x274)],'clusterId':this['clusterId'],'sourceId':this[_0x1945f4(0x151)]['getId'](),'streamId':this['internalId'],'trackKinds':_0x288ccc}));}['update'](_0x2245cc){const _0x43e822=_0x5a261d;try{(0x0,_0x44eeae[_0x43e822(0x55e)])(_0x2245cc);}catch(_0x5cd26f){throw new _0x1a3a24(_0x1cb6bb[_0x43e822(0x4a3)],_0x43e822(0x61c));}this[_0x43e822(0x49c)]&&clearTimeout(this['updateDebounce']),this[_0x43e822(0x49c)]=setTimeout(()=>{const _0x3c85dd=_0x43e822;delete this[_0x3c85dd(0x49c)],this['systemTopic'][_0x3c85dd(0x3b8)]({'sourceId':_0x4f18fa,'messageType':_0x3a54c1[_0x3c85dd(0x55b)],'content':{'type':_0x534fb2[_0x3c85dd(0x6f1)],'label':this[_0x3c85dd(0x726)],'ownerId':this[_0x3c85dd(0x151)][_0x3c85dd(0x591)](),'params':_0x2245cc}});},0x1f4);}['unsubscribe'](_0x56a012){const _0x4ff093=_0x5a261d;_0x56a012||(_0x56a012=this[_0x4ff093(0x5d7)]()),(_0x56a012=Array[_0x4ff093(0x66a)](_0x56a012)?_0x56a012:[_0x56a012])[_0x4ff093(0x675)](_0x5c3f0a=>this[_0x4ff093(0x140)][_0x4ff093(0x20a)](_0x5c3f0a)),this['systemTopic'][_0x4ff093(0x3b8)]({'sourceId':_0x4f18fa,'messageType':_0x3a54c1['Content'],'content':{'type':_0x534fb2[_0x4ff093(0x30f)],'label':this[_0x4ff093(0x726)],'ownerId':this[_0x4ff093(0x151)]['getId'](),'trackKinds':_0x56a012,'remainingTracks':this[_0x4ff093(0x140)][_0x4ff093(0x101)]}});}[_0x5a261d(0x2d0)](_0x5440b9){const _0x4fde0d=_0x5a261d;return this[_0x4fde0d(0x23a)]['subscribe'](_0x5440b9);}[_0x5a261d(0x4fc)](){return this['providerId'];}['setProviderId'](_0x445bf3){const _0x106639=_0x5a261d;this[_0x106639(0x1c7)]!==_0x445bf3&&(this[_0x106639(0x1c7)]=_0x445bf3,this[_0x106639(0x23a)][_0x106639(0x3b8)](_0x445bf3));}[_0x5a261d(0x1dc)](_0x141d70){const _0x14bd54=_0x5a261d;this['trackEndedListeners'][_0x14bd54(0x568)](_0x141d70)?.(),this[_0x14bd54(0x756)][_0x14bd54(0x20a)](_0x141d70);}['removeTrack'](_0xb6c9a5){const _0x572d51=_0x5a261d,_0x877fc2=this[_0x572d51(0x6c6)][_0x572d51(0x291)]()[_0x572d51(0x19f)](_0x45bde3=>_0x45bde3['kind']===_0xb6c9a5);_0x877fc2&&(this['mediaStream'][_0x572d51(0x28e)](_0x877fc2),this[_0x572d51(0x5fc)][_0x572d51(0x675)](_0x219409=>_0x219409[_0x572d51(0x28e)](_0xb6c9a5)),this[_0x572d51(0x756)][_0x572d51(0x568)](_0xb6c9a5)?.());}[_0x5a261d(0x471)](){const _0x2e9d53=_0x5a261d;this['renderElement']&&(this[_0x2e9d53(0x567)][_0x2e9d53(0x41a)]&&this['renderElement'][_0x2e9d53(0x41a)]===this[_0x2e9d53(0x6c6)]||(this[_0x2e9d53(0x567)][_0x2e9d53(0x41a)]=this[_0x2e9d53(0x6c6)]));}[_0x5a261d(0x42a)](){const _0x45519b=_0x5a261d;if(this['renderElement']&&!this[_0x45519b(0x682)]&&_0x45519b(0x521)!=typeof ResizeObserver){let _0x27c498=this[_0x45519b(0x567)][_0x45519b(0x6c1)],_0x48195f=this[_0x45519b(0x567)][_0x45519b(0x75f)];const _0x5a4e7c=new ResizeObserver(_0x3262a5=>{const _0x34daff=_0x45519b,{width:_0x2e0ea8,height:_0x467b85}=_0x3262a5[0x0]['contentRect'];_0x27c498===_0x2e0ea8&&_0x48195f===_0x467b85||(_0x27c498=Math[_0x34daff(0x601)](_0x2e0ea8),_0x48195f=Math[_0x34daff(0x601)](_0x467b85),this[_0x34daff(0x743)]({'video':{'maxResolution':{'width':_0x2e0ea8,'height':_0x467b85}}}));});_0x5a4e7c['observe'](this[_0x45519b(0x567)]),this[_0x45519b(0x682)]=()=>_0x5a4e7c[_0x45519b(0x547)]();}}[_0x5a261d(0x13d)](_0x584bde){const _0x38db29=_0x5a261d,_0x20906b=[];for(const _0x8cd04c of this[_0x38db29(0x140)])this[_0x38db29(0x28e)](_0x8cd04c),_0x20906b[_0x38db29(0x6bc)](_0x8cd04c);this[_0x38db29(0x1c7)]&&this['systemTopic'][_0x38db29(0x3b8)]({'sourceId':_0x4f18fa,'messageType':_0x3a54c1[_0x38db29(0x55b)],'content':{'type':_0x534fb2['RemoteMediaStreamTrackFail'],'label':this[_0x38db29(0x726)],'streamId':this[_0x38db29(0x544)],'ownerId':this[_0x38db29(0x151)][_0x38db29(0x591)](),'providerId':this[_0x38db29(0x1c7)],'trackKinds':_0x20906b}});}[_0x5a261d(0x20c)](_0x4db9f0){const _0x40a54d=_0x5a261d,_0x4cbb0d=()=>this['handleRemoteTrackFailure'](_0x4db9f0);_0x4db9f0[_0x40a54d(0x33d)](_0x40a54d(0x693),_0x4cbb0d),_0x4db9f0[_0x40a54d(0x33d)](_0x40a54d(0x5c0),_0x4cbb0d),this[_0x40a54d(0x756)][_0x40a54d(0x1a1)](_0x4db9f0['kind'],()=>{const _0x2f2fc4=_0x40a54d;_0x4db9f0['removeEventListener']('ended',_0x4cbb0d),_0x4db9f0['removeEventListener'](_0x2f2fc4(0x5c0),_0x4cbb0d),this[_0x2f2fc4(0x756)][_0x2f2fc4(0x20a)](_0x4db9f0[_0x2f2fc4(0x4a0)]);});}}class _0x3933c1{['id'];[_0x5a261d(0x53d)];[_0x5a261d(0x1fa)];constructor(_0x56f64a,_0x15c3e1=new Set(),_0x349c8e){const _0x10e8b3=_0x5a261d;this['id']=_0x56f64a,this['remoteConnections']=_0x15c3e1,this[_0x10e8b3(0x1fa)]=_0x349c8e;}[_0x5a261d(0x3e3)](){const _0x2d7c47=_0x5a261d;this[_0x2d7c47(0x1fa)]=void 0x0,this[_0x2d7c47(0x53d)]['clear']();}[_0x5a261d(0x591)](){return this['id'];}['getRank'](){const _0x140b13=_0x5a261d;return this[_0x140b13(0x1fa)];}[_0x5a261d(0x359)](){const _0x375332=_0x5a261d;return this[_0x375332(0x53d)];}}class _0x3270e9 extends _0x3933c1{['id'];[_0x5a261d(0x4c7)];['email'];[_0x5a261d(0x53d)];[_0x5a261d(0x1fa)];[_0x5a261d(0x274)]=_0x44eeae[_0x5a261d(0x423)][_0x5a261d(0x377)];constructor(_0x37c6cf,_0x5c1076,_0x7dd7a,_0x39a569=new Set(),_0x407a36){const _0x314a46=_0x5a261d;super(_0x37c6cf,_0x39a569,_0x407a36),this['id']=_0x37c6cf,this[_0x314a46(0x4c7)]=_0x5c1076,this[_0x314a46(0x15e)]=_0x7dd7a,this['remoteConnections']=_0x39a569,this[_0x314a46(0x1fa)]=_0x407a36;}['getDisplayName'](){const _0x130e3d=_0x5a261d;return this[_0x130e3d(0x4c7)];}[_0x5a261d(0x49f)](){const _0x329bca=_0x5a261d;return this[_0x329bca(0x15e)];}}class _0x5969e6{['vendorId'];['clusterId'];[_0x5a261d(0x6e8)];constructor(_0x60e5a4,_0x5d6664){const _0x3da950=_0x5a261d;this[_0x3da950(0xe6)]=_0x60e5a4,this[_0x3da950(0x1f3)]=_0x5d6664,this[_0x3da950(0x6e8)]=_0x3da950(0x52c)+this['vendorId']+'ccc'+this[_0x3da950(0x1f3)];}async[_0x5a261d(0x790)](_0x30b1e3,_0x192b4a){const _0xd4664b=_0x5a261d,_0x4be9b4=(0x0,_0x447011[_0xd4664b(0x1e2)])(_0x9c97da[_0xd4664b(0x4f9)](),'clusters/'+this[_0xd4664b(0x6e8)]+_0xd4664b(0x5f4)+_0x192b4a+'/transactions/'+_0x30b1e3['id']),_0x745efe=(0x0,_0x447011[_0xd4664b(0x64c)])(_0x4be9b4);_0x745efe[_0xd4664b(0x4c9)](),_0x30b1e3[_0xd4664b(0x44e)]||delete _0x30b1e3['parentId'];try{await(0x0,_0x447011[_0xd4664b(0x1a1)])(_0x4be9b4,_0x30b1e3);}catch(_0x2a15bf){throw await _0x745efe['cancel'](),new _0x2826e7(_0x2826e7[_0xd4664b(0x776)]['ObjectStoreCannotWriteTransaction']);}if(!0x1===(await(0x0,_0x447011[_0xd4664b(0x4ae)])((0x0,_0x447011[_0xd4664b(0x1e2)])(_0x9c97da['getDatabase'](),_0xd4664b(0x40c)+this[_0xd4664b(0x6e8)]+_0xd4664b(0x5f4)+_0x192b4a+_0xd4664b(0x203)),_0x1509a3=>_0x1509a3?_0x1509a3===_0x30b1e3[_0xd4664b(0x44e)]?_0x30b1e3['id']:void 0x0:_0x30b1e3['parentId']?_0x30b1e3[_0xd4664b(0x44e)]:_0x30b1e3['id']))['committed'])throw await(0x0,_0x447011[_0xd4664b(0x4c9)])(_0x4be9b4),await _0x745efe[_0xd4664b(0x206)](),new _0x2826e7(_0x2826e7[_0xd4664b(0x776)][_0xd4664b(0x666)]);await _0x745efe[_0xd4664b(0x206)]();}async[_0x5a261d(0x294)](_0x33c7c6,_0x278e57){const _0x504141=_0x5a261d;let _0x2be66f=[];const _0x2e8ef3=(0x0,_0x447011[_0x504141(0x1e2)])(_0x9c97da[_0x504141(0x4f9)](),_0x504141(0x40c)+this[_0x504141(0x6e8)]+_0x504141(0x5f4)+_0x33c7c6+_0x504141(0x508));let _0x3c60a8=await(0x0,_0x447011['get'])((0x0,_0x447011['query'])(_0x2e8ef3,(0x0,_0x447011[_0x504141(0x331)])(0x65),(0x0,_0x447011[_0x504141(0x2d2)])()));if(!_0x3c60a8[_0x504141(0x40f)]()){if(void 0x0!==_0x278e57)throw new _0x2826e7(_0x2826e7[_0x504141(0x776)]['ObjectStoreInvalidState']);return _0x2be66f;}const _0x2d994b=_0x3c60a8[_0x504141(0x1cd)]();for(;Object['keys'](_0x3c60a8['val']())['length']>0x64;){const _0x3c4af5=Object['keys'](_0x3c60a8[_0x504141(0x1cd)]()),_0xb7d53f=_0x3c4af5[_0x3c4af5[_0x504141(0x553)]-0x1];_0x3c60a8=await(0x0,_0x447011[_0x504141(0x568)])((0x0,_0x447011[_0x504141(0xf5)])(_0x2e8ef3,(0x0,_0x447011[_0x504141(0x331)])(0x65),(0x0,_0x447011[_0x504141(0x22c)])(_0xb7d53f),(0x0,_0x447011[_0x504141(0x2d2)])())),Object[_0x504141(0x179)](_0x2d994b,_0x3c60a8[_0x504141(0x1cd)]());}if(_0x2be66f=Object[_0x504141(0x741)](_0x2d994b)['filter'](_0x594bb6=>_0x504141(0x747)!=typeof _0x594bb6),0x0===_0x2be66f['length']&&void 0x0!==_0x278e57)throw new _0x2826e7(_0x2826e7[_0x504141(0x776)][_0x504141(0x210)]);if(_0x2be66f[_0x504141(0x553)]>0x0&&void 0x0!==_0x278e57&&!_0x2be66f[_0x504141(0x19f)](_0x33d5b1=>_0x33d5b1['id']===_0x278e57))throw new _0x2826e7(_0x2826e7[_0x504141(0x776)][_0x504141(0x210)]);const _0x3e9539=[];let _0x23159b=_0x2be66f[_0x504141(0x19f)](_0x331394=>_0x331394['parentId']===_0x278e57);for(;_0x23159b;)_0x3e9539[_0x504141(0x6bc)](_0x23159b),_0x23159b=_0x2be66f[_0x504141(0x19f)](_0x5261d8=>_0x5261d8['parentId']===_0x23159b['id']);return _0x3e9539;}}class _0x592267{[_0x5a261d(0x54e)];[_0x5a261d(0xe5)];['audioContext'];[_0x5a261d(0x481)]=new Map();[_0x5a261d(0x15d)]=new Map();[_0x5a261d(0x32a)]=new Map();[_0x5a261d(0x121)]=new Map();['keyValueDatabases']=new Map();[_0x5a261d(0x4e4)]=new Map();['jobWorkers']=new Map();[_0x5a261d(0x453)];constructor(_0xb8924e,_0x87cef4,_0x1ad6a4){const _0x485d27=_0x5a261d;this[_0x485d27(0x54e)]=_0xb8924e,this[_0x485d27(0xe5)]=_0x87cef4,this[_0x485d27(0x667)]=_0x1ad6a4,this[_0x485d27(0x453)]=new _0x5969e6(this['configs'][_0x485d27(0xe6)],this[_0x485d27(0x54e)]['clusterId']);}[_0x5a261d(0x3e3)](_0x1603e7=!0x1){const _0x4345b5=_0x5a261d;this[_0x4345b5(0x15d)][_0x4345b5(0x675)]((_0x15b5b9,_0x17e6d9)=>{const _0x48c80a=_0x4345b5;_0x15b5b9[_0x48c80a(0x675)]((_0x3f5b8e,_0x466d6f)=>{const _0x49485c=_0x48c80a;this[_0x49485c(0x6bd)](_0x17e6d9,_0x466d6f);});}),_0x1603e7||(this[_0x4345b5(0x481)][_0x4345b5(0x675)]((_0x1c99ef,_0x5320cd)=>{const _0x4b90dd=_0x4345b5;this[_0x4b90dd(0x4d7)](_0x5320cd);}),this[_0x4345b5(0x32a)][_0x4345b5(0x675)]((_0x38edb7,_0x2391bb)=>{const _0x5d1168=_0x4345b5;this[_0x5d1168(0x4b2)](_0x2391bb);}),this['objectStores']['forEach']((_0x52cf37,_0xe68868)=>{const _0x23193e=_0x4345b5;this[_0x23193e(0x21d)](_0xe68868);}),this[_0x4345b5(0x6c0)][_0x4345b5(0x675)]((_0x32427d,_0x31da40)=>{const _0x1b6892=_0x4345b5;this[_0x1b6892(0x3e4)](_0x31da40);}),this[_0x4345b5(0x4e4)][_0x4345b5(0x675)]((_0x3690ed,_0x59f82d)=>{const _0x304d53=_0x4345b5;this[_0x304d53(0x47b)](_0x59f82d);}),this[_0x4345b5(0x222)][_0x4345b5(0x675)]((_0x4c2783,_0xa33b9d)=>{this['removeJobWorker'](_0xa33b9d);}));}['createObjectStoreBucket'](_0x7dbd36,_0x1f7e7d){const _0x1e1692=_0x5a261d;if(this[_0x1e1692(0x121)][_0x1e1692(0x644)](_0x7dbd36))throw new _0x1a3a24(_0x1cb6bb[_0x1e1692(0x559)],_0x1e1692(0xf2));const _0x135dc4=new _0x5ec32d(this['configs'][_0x1e1692(0x783)],_0x7dbd36,this[_0x1e1692(0x54e)][_0x1e1692(0x1f3)],this['configs'][_0x1e1692(0xe6)],this['transactionService'],_0x1f7e7d);return this[_0x1e1692(0x121)]['set'](_0x7dbd36,_0x135dc4),this[_0x1e1692(0x54e)][_0x1e1692(0x6d7)][_0x1e1692(0x334)](_0x135dc4),_0x135dc4;}async['createKeyValueDatabase'](_0x53b559,_0x106fda,_0x922e1a){const _0x2eaed2=_0x5a261d;if(this[_0x2eaed2(0x6c0)][_0x2eaed2(0x644)](_0x53b559))throw new _0x1a3a24(_0x1cb6bb['KeyValueDatabaseAlreadyExists'],'Database\x20already\x20exists');try{const _0x515306=new _0x5d23e6(this[_0x2eaed2(0x54e)][_0x2eaed2(0x783)],_0x53b559,this[_0x2eaed2(0x54e)][_0x2eaed2(0x1f3)],this['configs'][_0x2eaed2(0xe6)],_0x106fda,_0x922e1a);return this[_0x2eaed2(0x6c0)][_0x2eaed2(0x1a1)](_0x53b559,_0x515306),this['configs']['mediator'][_0x2eaed2(0x334)](_0x515306),_0x515306;}catch(_0x2fe37f){if(_0x2fe37f instanceof _0x1a3a24)throw _0x2fe37f;throw console[_0x2eaed2(0x734)](_0x2eaed2(0x54a),_0x2fe37f),new _0x2826e7(_0x2826e7['codes'][_0x2eaed2(0x584)],{'label':_0x53b559,'clusterId':this['configs']['clusterId'],'vendorId':this[_0x2eaed2(0x54e)][_0x2eaed2(0xe6)]});}}async[_0x5a261d(0x243)](_0x102a7c,_0x2c8bea){const _0x2739a9=_0x5a261d;if(this[_0x2739a9(0x4e4)]['has'](_0x102a7c))throw new _0x1a3a24(_0x1cb6bb[_0x2739a9(0x615)],_0x2739a9(0x3c7));try{const _0xdd3c9=new _0x141a9e(this[_0x2739a9(0x54e)][_0x2739a9(0x783)],_0x102a7c,_0x2c8bea);return this[_0x2739a9(0x4e4)][_0x2739a9(0x1a1)](_0x102a7c,_0xdd3c9),this[_0x2739a9(0x54e)][_0x2739a9(0x6d7)]['registerSystemSource'](_0xdd3c9),_0xdd3c9;}catch(_0x143993){if(_0x143993 instanceof _0x1a3a24)throw _0x143993;throw console[_0x2739a9(0x734)]('Failed\x20to\x20create\x20job\x20service',_0x143993),new _0x2826e7(_0x2826e7[_0x2739a9(0x776)][_0x2739a9(0x70b)],{'label':_0x102a7c,'clusterId':this[_0x2739a9(0x54e)][_0x2739a9(0x1f3)],'vendorId':this[_0x2739a9(0x54e)][_0x2739a9(0xe6)]});}}async[_0x5a261d(0x3db)](_0x1a6804,_0x420524,_0x56343c){const _0x2dcc3f=_0x5a261d;if(this['jobWorkers'][_0x2dcc3f(0x644)](_0x1a6804))throw new _0x1a3a24(_0x1cb6bb[_0x2dcc3f(0x19b)],_0x2dcc3f(0x4dc));try{const _0x3808ba=new _0xd407c(this[_0x2dcc3f(0x54e)][_0x2dcc3f(0x783)],_0x1a6804,_0x420524,_0x56343c);return this['jobWorkers'][_0x2dcc3f(0x1a1)](_0x1a6804,_0x3808ba),this[_0x2dcc3f(0x54e)]['mediator'][_0x2dcc3f(0x334)](_0x3808ba),_0x3808ba;}catch(_0x2a57a0){if(_0x2a57a0 instanceof _0x1a3a24)throw _0x2a57a0;throw console['warn'](_0x2dcc3f(0x19c),_0x2a57a0),new _0x2826e7(_0x2826e7[_0x2dcc3f(0x776)][_0x2dcc3f(0x6d1)],{'label':_0x1a6804,'clusterId':this[_0x2dcc3f(0x54e)][_0x2dcc3f(0x1f3)],'vendorId':this['configs'][_0x2dcc3f(0xe6)]});}}async[_0x5a261d(0x40b)](_0x1d08e4,_0x1454f6,_0x15d085){const _0x3a49da=_0x5a261d;if(this['jobDispatchers'][_0x3a49da(0x644)](_0x1d08e4))throw new _0x1a3a24(_0x1cb6bb[_0x3a49da(0x34b)],_0x3a49da(0x45d));if(this[_0x3a49da(0x222)][_0x3a49da(0x644)](_0x1d08e4))throw new _0x1a3a24(_0x1cb6bb[_0x3a49da(0x64f)],_0x3a49da(0x6fe));try{const _0x36b19b=new _0x2a11c5(this[_0x3a49da(0x54e)]['localNode'],_0x1d08e4,_0x1454f6,_0x15d085);return this['jobDispatchers'][_0x3a49da(0x1a1)](_0x1d08e4,_0x36b19b),this[_0x3a49da(0x54e)][_0x3a49da(0x6d7)]['registerSystemSource'](_0x36b19b),_0x36b19b;}catch(_0x279a0a){if(_0x279a0a instanceof _0x1a3a24)throw _0x279a0a;throw console['warn']('Failed\x20to\x20create\x20AI\x20service',_0x279a0a),new _0x2826e7(_0x2826e7['codes'][_0x3a49da(0x639)],{'label':_0x1d08e4,'clusterId':this['configs'][_0x3a49da(0x1f3)],'vendorId':this[_0x3a49da(0x54e)][_0x3a49da(0xe6)]});}}async[_0x5a261d(0x57a)](_0x36f8ff,_0x371489,_0x5e1a74,_0x2a351a){const _0x4299bf=_0x5a261d;if(this[_0x4299bf(0x222)][_0x4299bf(0x644)](_0x36f8ff))throw new _0x1a3a24(_0x1cb6bb[_0x4299bf(0x526)],'AI\x20Worker\x20already\x20exists');if(this[_0x4299bf(0x4e4)][_0x4299bf(0x644)](_0x36f8ff))throw new _0x1a3a24(_0x1cb6bb[_0x4299bf(0x64f)],_0x4299bf(0x6fe));try{const _0x2119b4=new _0x32ba77(this[_0x4299bf(0x54e)][_0x4299bf(0x783)],_0x36f8ff,_0x371489,_0x5e1a74,_0x2a351a);return this[_0x4299bf(0x222)][_0x4299bf(0x1a1)](_0x36f8ff,_0x2119b4),this['configs']['mediator'][_0x4299bf(0x334)](_0x2119b4),_0x2119b4;}catch(_0x176a38){if(_0x176a38 instanceof _0x1a3a24)throw _0x176a38;throw console[_0x4299bf(0x734)](_0x4299bf(0x41e),_0x176a38),new _0x2826e7(_0x2826e7['codes']['GenerativeAIWorkerCreationFailed'],{'label':_0x36f8ff,'clusterId':this['configs'][_0x4299bf(0x1f3)],'vendorId':this[_0x4299bf(0x54e)][_0x4299bf(0xe6)]});}}[_0x5a261d(0x69d)](_0x5c4f9f,_0x23f862){const _0x56b15c=_0x5a261d;if(this[_0x56b15c(0x481)][_0x56b15c(0x644)](_0x5c4f9f))throw new _0x1a3a24(_0x1cb6bb[_0x56b15c(0x10d)],_0x56b15c(0x576));if(!this[_0x56b15c(0x667)])throw new _0x1a3a24(_0x1cb6bb[_0x56b15c(0x623)],_0x56b15c(0x59b));const _0x2a297e=new _0x25b537(this[_0x56b15c(0x54e)][_0x56b15c(0x783)],_0x5c4f9f,_0x23f862,this['maxFps'],this[_0x56b15c(0x667)],this[_0x56b15c(0x54e)]['clusterId']);return this[_0x56b15c(0x481)]['set'](_0x5c4f9f,_0x2a297e),this[_0x56b15c(0x54e)][_0x56b15c(0x6d7)][_0x56b15c(0x334)](_0x2a297e),_0x2a297e[_0x56b15c(0x3b8)](),_0x2a297e;}[_0x5a261d(0x3fd)](_0x299c51,_0x40bc12){const _0x24f1d5=_0x5a261d;if(this[_0x24f1d5(0x481)]['has'](_0x299c51))throw new _0x1a3a24(_0x1cb6bb[_0x24f1d5(0x10d)],_0x24f1d5(0x2c2));const _0x455338=new _0x34558c(this[_0x24f1d5(0x54e)][_0x24f1d5(0x783)],_0x299c51,_0x40bc12,this[_0x24f1d5(0x54e)]['clusterId']);return this['localMediaStreams'][_0x24f1d5(0x1a1)](_0x299c51,_0x455338),this['configs'][_0x24f1d5(0x6d7)][_0x24f1d5(0x334)](_0x455338),_0x455338[_0x24f1d5(0x3b8)](),_0x455338;}[_0x5a261d(0x6f6)](_0x419d43){const _0x15d2cb=_0x5a261d;if(this[_0x15d2cb(0x32a)][_0x15d2cb(0x644)](_0x419d43))throw new _0x1a3a24(_0x1cb6bb[_0x15d2cb(0xf4)],_0x15d2cb(0x387));const _0x2c2012=new _0x59bde6(this[_0x15d2cb(0x54e)][_0x15d2cb(0x783)],_0x419d43,this[_0x15d2cb(0x54e)][_0x15d2cb(0x1f3)]);return this[_0x15d2cb(0x32a)][_0x15d2cb(0x1a1)](_0x419d43,_0x2c2012),this[_0x15d2cb(0x54e)][_0x15d2cb(0x6d7)][_0x15d2cb(0x334)](_0x2c2012),_0x2c2012;}[_0x5a261d(0x402)](_0x3a937e,_0x1e4781,_0x331c67,_0x5b48ca){const _0x52f5c6=_0x5a261d;this[_0x52f5c6(0x15d)][_0x52f5c6(0x644)](_0x3a937e)||this[_0x52f5c6(0x15d)][_0x52f5c6(0x1a1)](_0x3a937e,new Map());const _0x449aa2=this['remoteMediaStreams'][_0x52f5c6(0x568)](_0x3a937e);if(_0x449aa2[_0x52f5c6(0x644)](_0x1e4781))throw new _0x1a3a24(_0x1cb6bb[_0x52f5c6(0x1e7)],_0x52f5c6(0x2fb));const _0x562af9=new _0x3270e9(_0x3a937e,'',''),_0xa1dfa1=new _0x1c6899(this[_0x52f5c6(0x54e)]['localNode'],_0x562af9,_0x1e4781,_0x331c67,_0x5b48ca,this['configs'][_0x52f5c6(0x1f3)]);return _0x449aa2['set'](_0x1e4781,_0xa1dfa1),this[_0x52f5c6(0x54e)]['mediator'][_0x52f5c6(0x334)](_0xa1dfa1),_0xa1dfa1;}[_0x5a261d(0x4ef)](_0x2cc019){const _0x314e86=_0x5a261d,_0x1ace71=Array[_0x314e86(0x61e)](this[_0x314e86(0x121)]['values']());return _0x2cc019?_0x1ace71['filter'](_0x2cc019):_0x1ace71;}['getKeyValueDatabases'](_0x293dd9){const _0x3235bc=_0x5a261d,_0x607dd6=Array['from'](this[_0x3235bc(0x6c0)][_0x3235bc(0x741)]());return _0x293dd9?_0x607dd6['filter'](_0x293dd9):_0x607dd6;}[_0x5a261d(0x575)](_0x4113e2){const _0x4a19a1=_0x5a261d,_0x5ae1a5=Array['from'](this[_0x4a19a1(0x4e4)][_0x4a19a1(0x741)]());return _0x4113e2?_0x5ae1a5[_0x4a19a1(0x279)](_0x4113e2):_0x5ae1a5;}[_0x5a261d(0x5c5)](_0x534ffa){const _0x4a9560=_0x5a261d,_0xbe1957=Array['from'](this[_0x4a9560(0x222)][_0x4a9560(0x741)]());return _0x534ffa?_0xbe1957[_0x4a9560(0x279)](_0x534ffa):_0xbe1957;}['getGenerativeAIContexts'](_0x382577){const _0x290ee8=_0x5a261d,_0x2303d9=Array[_0x290ee8(0x61e)](this[_0x290ee8(0x4e4)][_0x290ee8(0x741)]())[_0x290ee8(0x279)](_0x18bd7b=>_0x18bd7b instanceof _0x2a11c5);return _0x382577?_0x2303d9['filter'](_0x382577):_0x2303d9;}[_0x5a261d(0x31b)](_0x292685){const _0x5a86df=_0x5a261d,_0x42d8ff=Array['from'](this[_0x5a86df(0x222)]['values']())[_0x5a86df(0x279)](_0x5d9c13=>_0x5d9c13 instanceof _0x32ba77);return _0x292685?_0x42d8ff[_0x5a86df(0x279)](_0x292685):_0x42d8ff;}[_0x5a261d(0x436)](_0x3085db){const _0x5c3033=_0x5a261d,_0x4f6de6=Array[_0x5c3033(0x61e)](this['localMediaStreams']['values']());return _0x3085db?_0x4f6de6[_0x5c3033(0x279)](_0x3085db):_0x4f6de6;}['getPubSubTopics'](_0x594cb4){const _0x5f563b=_0x5a261d,_0x2568ff=Array[_0x5f563b(0x61e)](this['pubSubTopics'][_0x5f563b(0x741)]());return _0x594cb4?_0x2568ff[_0x5f563b(0x279)](_0x594cb4):_0x2568ff;}[_0x5a261d(0x35c)](_0x44fc1d){const _0x291979=_0x5a261d,_0x2aee9b=Array['from'](this['remoteMediaStreams']['values']())[_0x291979(0x3f1)]((_0x10b194,_0x47169e)=>[..._0x10b194,...Array['from'](_0x47169e[_0x291979(0x741)]())],[]);return _0x44fc1d?_0x2aee9b[_0x291979(0x279)](_0x44fc1d):_0x2aee9b;}['handleContentSystemEvents'](_0x4d0110){const _0x44b2a5=_0x5a261d;switch(_0x4d0110['content'][_0x44b2a5(0x274)]){case _0x534fb2[_0x44b2a5(0x163)]:this[_0x44b2a5(0x4f0)](_0x4d0110[_0x44b2a5(0x365)]);break;case _0x534fb2[_0x44b2a5(0x419)]:this[_0x44b2a5(0x45b)](_0x4d0110['content']);break;case _0x534fb2[_0x44b2a5(0x124)]:this[_0x44b2a5(0x245)](_0x4d0110['content']);break;case _0x534fb2[_0x44b2a5(0x4e8)]:this[_0x44b2a5(0x442)](_0x4d0110[_0x44b2a5(0x365)]);break;case _0x534fb2[_0x44b2a5(0x5ae)]:this[_0x44b2a5(0x4ce)](_0x4d0110[_0x44b2a5(0x365)]);break;case _0x534fb2[_0x44b2a5(0x200)]:this[_0x44b2a5(0x56c)](_0x4d0110[_0x44b2a5(0x365)]);break;case _0x534fb2['CloseObjectStoreBucket']:this[_0x44b2a5(0x307)](_0x4d0110[_0x44b2a5(0x365)]);break;case _0x534fb2[_0x44b2a5(0x2ad)]:this[_0x44b2a5(0x2e2)](_0x4d0110[_0x44b2a5(0x365)]);break;case _0x534fb2[_0x44b2a5(0x30f)]:this[_0x44b2a5(0x3a6)](_0x4d0110[_0x44b2a5(0x365)]);break;case _0x534fb2[_0x44b2a5(0x311)]:this['keyValueDatabases']['get'](_0x4d0110[_0x44b2a5(0x365)][_0x44b2a5(0x726)])?.[_0x44b2a5(0x785)](_0x4d0110['sourceId']);break;case _0x534fb2['SendTransactionsDump']:this[_0x44b2a5(0x6c0)][_0x44b2a5(0x568)](_0x4d0110[_0x44b2a5(0x365)][_0x44b2a5(0x726)])?.[_0x44b2a5(0x565)](_0x4d0110[_0x44b2a5(0x6f8)],_0x4d0110['content'][_0x44b2a5(0x3a4)]);break;case _0x534fb2['RequestTransactionsValue']:this[_0x44b2a5(0x6c0)]['get'](_0x4d0110[_0x44b2a5(0x365)][_0x44b2a5(0x726)])?.[_0x44b2a5(0x5f2)](_0x4d0110[_0x44b2a5(0x6f8)],_0x4d0110[_0x44b2a5(0x365)][_0x44b2a5(0x27a)]);break;case _0x534fb2['LocalMediaStreamTrackFail']:this['configs'][_0x44b2a5(0x6d7)][_0x44b2a5(0x57e)]('local-media-stream-track-fail',{'label':_0x4d0110[_0x44b2a5(0x365)][_0x44b2a5(0x726)],'trackKinds':_0x4d0110[_0x44b2a5(0x365)]['trackKinds']});}}['handleNodeSystemEvents']({content:_0x39147c}){const _0xe98632=_0x5a261d;switch(_0x39147c[_0xe98632(0x274)]){case _0x2d2d29[_0xe98632(0x5ec)]:this[_0xe98632(0x755)](_0x39147c),this['notifyObjectStoreOfNodeJoin'](_0x39147c);break;case _0x2d2d29[_0xe98632(0x152)]:this['handleNodeLeave'](_0x39147c),this[_0xe98632(0x563)](_0x39147c);}}[_0x5a261d(0x394)](_0x362417){const _0x24488f=_0x5a261d;switch(_0x362417[_0x24488f(0x365)]['type']){case _0x24c720[_0x24488f(0x46d)]:this[_0x24488f(0x70e)](_0x362417[_0x24488f(0x6f8)],_0x362417['content']);break;case _0x24c720[_0x24488f(0x6f1)]:this[_0x24488f(0x477)](_0x362417[_0x24488f(0x6f8)],_0x362417[_0x24488f(0x365)]);break;case _0x24c720[_0x24488f(0x30f)]:this[_0x24488f(0x5ad)](_0x362417['sourceId'],_0x362417['content']);}}[_0x5a261d(0x3a6)](_0x44b5c7){const _0x2a0204=_0x5a261d;if(0x0===_0x44b5c7[_0x2a0204(0x2f5)])this[_0x2a0204(0x15d)]['get'](_0x44b5c7[_0x2a0204(0x24b)])?.[_0x2a0204(0x568)](_0x44b5c7['label'])?.[_0x2a0204(0x4fe)]();else{const _0xd75d10=this['remoteMediaStreams']['get'](_0x44b5c7[_0x2a0204(0x24b)])?.[_0x2a0204(0x568)](_0x44b5c7[_0x2a0204(0x726)]);if(!_0xd75d10)return;_0x44b5c7['trackKinds']['forEach'](_0x365c31=>_0xd75d10[_0x2a0204(0x1dc)](_0x365c31));}}[_0x5a261d(0x4f0)](_0x18a16e){const _0x330bad=_0x5a261d,{label:_0x56a5cc,ownerId:_0x17b71c,stream:{streamId:_0x4087d2,availableTrackKinds:_0x109b1a}}=_0x18a16e;if(this[_0x330bad(0x15d)][_0x330bad(0x568)](_0x17b71c)?.[_0x330bad(0x644)](_0x56a5cc))return void _0x50fe93[_0x330bad(0x287)](_0x2d7d49['Content'],_0x330bad(0x2c2),_0x4087d2);const _0x29578e=this[_0x330bad(0x402)](_0x17b71c,_0x56a5cc,_0x4087d2,_0x109b1a);this[_0x330bad(0x54e)]['mediator'][_0x330bad(0x57e)](_0x330bad(0x11c),{'ownerId':_0x17b71c,'stream':_0x29578e});}['handleUnpublishMediaStream']({ownerId:_0x178d33,label:_0x2518a3}){const _0x41d899=_0x5a261d;this['removeRemoteMediaStream'](_0x178d33,_0x2518a3),this[_0x41d899(0x54e)][_0x41d899(0x6d7)][_0x41d899(0x57e)]('content-unpublish-media',{'ownerId':_0x178d33,'label':_0x2518a3});}[_0x5a261d(0x4ce)](_0xfff427){const _0x31e680=_0x5a261d;this[_0x31e680(0x4d7)](_0xfff427[_0x31e680(0x726)]);}[_0x5a261d(0x245)](_0xe30a7a){const _0x1a0c68=_0x5a261d;this[_0x1a0c68(0x47b)](_0xe30a7a[_0x1a0c68(0x726)]);}[_0x5a261d(0x442)](_0x3a5bc1){const _0x554049=_0x5a261d;this[_0x554049(0x261)](_0x3a5bc1['label']);}[_0x5a261d(0x307)](_0x3e01a2){this['removeObjectStore'](_0x3e01a2['label']);}[_0x5a261d(0x56c)](_0x55f6ee){const _0x3d988b=_0x5a261d;this[_0x3d988b(0x4b2)](_0x55f6ee[_0x3d988b(0x726)]);}[_0x5a261d(0x2e2)](_0xaea1f2){const _0x1d3dac=_0x5a261d;this[_0x1d3dac(0x3e4)](_0xaea1f2[_0x1d3dac(0x726)]);}[_0x5a261d(0x70e)](_0x3b9573,_0x1d9552){const _0x150669=_0x5a261d,{ownerId:_0x498967,label:_0x70bddb}=_0x1d9552;let _0x2424e8;_0x2424e8=_0x498967!==this[_0x150669(0x54e)][_0x150669(0x783)][_0x150669(0x591)]()?this[_0x150669(0x15d)][_0x150669(0x568)](_0x498967)[_0x150669(0x568)](_0x70bddb):this[_0x150669(0x481)][_0x150669(0x568)](_0x70bddb),_0x2424e8[_0x150669(0x73d)](_0x3b9573,_0x1d9552[_0x150669(0x107)])[_0x150669(0x313)](_0x1d9552,_0x2424e8['getPriority']());}[_0x5a261d(0x477)](_0x428d2f,_0x37d019){const _0x39d587=_0x5a261d,{ownerId:_0x1f98b7,label:_0x64beb3}=_0x37d019;let _0x40d2a3;_0x40d2a3=_0x1f98b7!==this[_0x39d587(0x54e)][_0x39d587(0x783)][_0x39d587(0x591)]()?this[_0x39d587(0x15d)][_0x39d587(0x568)](_0x1f98b7)['get'](_0x64beb3):this['localMediaStreams'][_0x39d587(0x568)](_0x64beb3),_0x40d2a3[_0x39d587(0x73d)](_0x428d2f,_0x37d019[_0x39d587(0x107)])[_0x39d587(0x743)](_0x37d019);}[_0x5a261d(0x5ad)](_0x238b3e,_0x5b17a6){const _0x2d09b2=_0x5a261d,{ownerId:_0x262c3e,label:_0x535b57}=_0x5b17a6;let _0x229654;_0x229654=_0x262c3e!==this[_0x2d09b2(0x54e)][_0x2d09b2(0x783)][_0x2d09b2(0x591)]()?this[_0x2d09b2(0x15d)][_0x2d09b2(0x568)](_0x262c3e)[_0x2d09b2(0x568)](_0x535b57):this[_0x2d09b2(0x481)][_0x2d09b2(0x568)](_0x535b57),_0x229654[_0x2d09b2(0x73d)](_0x238b3e)[_0x2d09b2(0x76e)](_0x5b17a6);}[_0x5a261d(0x755)]({id:_0x2d37af}){this['getLocalMediaStreams']()['forEach'](_0x6fb559=>{const _0x3a4fe5=a0_0x3f62;_0x6fb559[_0x3a4fe5(0x3b8)](_0x2d37af);});}[_0x5a261d(0x1f7)]({id:_0x82807d}){const _0x2f07e2=_0x5a261d;this['getRemoteMediaStreams'](_0x1ad6ea=>_0x1ad6ea[_0x2f07e2(0x613)]()===_0x82807d)['forEach'](_0x3a0457=>{const _0x21eafd=_0x2f07e2;this[_0x21eafd(0x6bd)](_0x3a0457[_0x21eafd(0x613)](),_0x3a0457[_0x21eafd(0x58a)]());});}['notifyObjectStoreOfNodeJoin']({id:_0x222553}){const _0x1a0bc7=_0x5a261d;this[_0x1a0bc7(0x121)][_0x1a0bc7(0x675)](_0x34f512=>_0x34f512[_0x1a0bc7(0x600)](_0x222553));}['notifyObjectStoreOfNodeLeave']({id:_0x7d3d01}){const _0x3c1135=_0x5a261d;this[_0x3c1135(0x121)][_0x3c1135(0x675)](_0x5d1ed0=>_0x5d1ed0[_0x3c1135(0x1f7)](_0x7d3d01));}[_0x5a261d(0x47b)](_0x45c14f){const _0xdb0ddc=_0x5a261d;if(!this[_0xdb0ddc(0x4e4)]['has'](_0x45c14f))throw new _0x1a3a24(_0x1cb6bb[_0xdb0ddc(0x4f4)],_0xdb0ddc(0x5ed));const _0x55e5a7=this[_0xdb0ddc(0x4e4)][_0xdb0ddc(0x568)](_0x45c14f);this[_0xdb0ddc(0x4e4)][_0xdb0ddc(0x20a)](_0x45c14f),_0x55e5a7[_0xdb0ddc(0x4fe)](),this[_0xdb0ddc(0x54e)]['mediator'][_0xdb0ddc(0x6f3)](_0x55e5a7);}[_0x5a261d(0x261)](_0x2c9ed1){const _0x5b2dd9=_0x5a261d;if(!this[_0x5b2dd9(0x222)][_0x5b2dd9(0x644)](_0x2c9ed1))throw new _0x1a3a24(_0x1cb6bb[_0x5b2dd9(0x6e5)],_0x5b2dd9(0x369));const _0x596738=this['jobWorkers'][_0x5b2dd9(0x568)](_0x2c9ed1);this[_0x5b2dd9(0x222)][_0x5b2dd9(0x20a)](_0x2c9ed1),_0x596738['destroy'](),this[_0x5b2dd9(0x54e)][_0x5b2dd9(0x6d7)][_0x5b2dd9(0x6f3)](_0x596738);}[_0x5a261d(0x21d)](_0x29c1db){const _0x10afc6=_0x5a261d;if(!this[_0x10afc6(0x121)][_0x10afc6(0x644)](_0x29c1db))throw new _0x1a3a24(_0x1cb6bb['ObjectStoreDoesNotExist'],_0x10afc6(0x773));const _0xaf385=this[_0x10afc6(0x121)][_0x10afc6(0x568)](_0x29c1db);this[_0x10afc6(0x121)][_0x10afc6(0x20a)](_0x29c1db),_0xaf385[_0x10afc6(0x4fe)](),this[_0x10afc6(0x54e)][_0x10afc6(0x6d7)][_0x10afc6(0x6f3)](_0xaf385);}[_0x5a261d(0x4b2)](_0xa7c457){const _0x4d7bf9=_0x5a261d;if(!this[_0x4d7bf9(0x32a)][_0x4d7bf9(0x644)](_0xa7c457))throw new _0x1a3a24(_0x1cb6bb[_0x4d7bf9(0x44c)],'Stream\x20does\x20not\x20exist');const _0x1d95ce=this[_0x4d7bf9(0x32a)]['get'](_0xa7c457);this[_0x4d7bf9(0x32a)][_0x4d7bf9(0x20a)](_0xa7c457),_0x1d95ce[_0x4d7bf9(0x4fe)](),this[_0x4d7bf9(0x54e)]['mediator'][_0x4d7bf9(0x6f3)](_0x1d95ce);}[_0x5a261d(0x3e4)](_0x336b99){const _0x1d004c=_0x5a261d;if(!this['keyValueDatabases']['has'](_0x336b99))throw new _0x1a3a24(_0x1cb6bb[_0x1d004c(0x29a)],_0x1d004c(0x54d));const _0x4d5d8d=this[_0x1d004c(0x6c0)][_0x1d004c(0x568)](_0x336b99);this['keyValueDatabases'][_0x1d004c(0x20a)](_0x336b99),_0x4d5d8d[_0x1d004c(0x4fe)](),this[_0x1d004c(0x54e)][_0x1d004c(0x6d7)][_0x1d004c(0x6f3)](_0x4d5d8d);}['removeLocalMediaStream'](_0x439d12){const _0x16e9f9=_0x5a261d;if(!this['localMediaStreams'][_0x16e9f9(0x644)](_0x439d12))throw new _0x2826e7(_0x2826e7[_0x16e9f9(0x776)][_0x16e9f9(0x642)],{'label':_0x439d12,'localId':this[_0x16e9f9(0x54e)][_0x16e9f9(0x783)][_0x16e9f9(0x591)]()});const _0x5bfd64=this['localMediaStreams'][_0x16e9f9(0x568)](_0x439d12);this[_0x16e9f9(0x54e)][_0x16e9f9(0x6d7)][_0x16e9f9(0x6f3)](_0x5bfd64),_0x5bfd64['destroy'](),this[_0x16e9f9(0x481)]['delete'](_0x439d12);}['removeRemoteMediaStream'](_0x21a901,_0x45176d){const _0x369e44=_0x5a261d;if(!this[_0x369e44(0x15d)]['has'](_0x21a901))throw new _0x2826e7(_0x2826e7[_0x369e44(0x776)][_0x369e44(0x364)],{'nodeId':_0x21a901,'localId':this[_0x369e44(0x54e)]['localNode'][_0x369e44(0x591)]()});const _0x5974ee=this[_0x369e44(0x15d)][_0x369e44(0x568)](_0x21a901);if(!_0x5974ee['has'](_0x45176d))throw new _0x2826e7(_0x2826e7['codes']['RemoteMediaStreamDoesNotExist'],{'nodeId':_0x21a901,'label':_0x45176d,'localId':this[_0x369e44(0x54e)][_0x369e44(0x783)]['getId']()});const _0x2ad897=_0x5974ee[_0x369e44(0x568)](_0x45176d);this[_0x369e44(0x54e)][_0x369e44(0x6d7)][_0x369e44(0x6f3)](_0x2ad897),_0x2ad897['destroy'](),_0x5974ee[_0x369e44(0x20a)](_0x45176d);}}var _0x4958ae,_0x5dbcce,_0x15dead;!function(_0x47f123){const _0x2aaf3d=_0x5a261d;_0x47f123[_0x2aaf3d(0xfb)]=_0x2aaf3d(0x36f),_0x47f123['DTVolatility']=_0x2aaf3d(0x551),_0x47f123['TimePerFrame']=_0x2aaf3d(0x273),_0x47f123[_0x2aaf3d(0x1bb)]=_0x2aaf3d(0x323),_0x47f123[_0x2aaf3d(0x6b6)]='jitter',_0x47f123[_0x2aaf3d(0x3fe)]=_0x2aaf3d(0x34f),_0x47f123['RoundTripTime']='rtt',_0x47f123[_0x2aaf3d(0x1de)]=_0x2aaf3d(0x2a1);}(_0x4958ae||(_0x4958ae={})),function(_0x151e6b){const _0x1dc467=_0x5a261d;_0x151e6b[_0x1dc467(0x3ed)]=_0x1dc467(0x5eb),_0x151e6b[_0x1dc467(0x5db)]='cpu.time_per_frame',_0x151e6b[_0x1dc467(0x1de)]=_0x1dc467(0x482),_0x151e6b[_0x1dc467(0x3fe)]=_0x1dc467(0x333),_0x151e6b[_0x1dc467(0x1bb)]=_0x1dc467(0x6de),_0x151e6b[_0x1dc467(0x6b6)]=_0x1dc467(0x3f6),_0x151e6b[_0x1dc467(0x59e)]=_0x1dc467(0x1b9);}(_0x5dbcce||(_0x5dbcce={})),function(_0x22da58){const _0x50e15c=_0x5a261d;_0x22da58[_0x22da58[_0x50e15c(0x406)]=0x0]='Problem';}(_0x15dead||(_0x15dead={}));const _0x35148b=[{'type':_0x4958ae[_0x5a261d(0xfb)],'reportMetric':_0x775293=>_0x775293[_0x5a261d(0xfb)],'maxThreshold':2.5},{'type':_0x4958ae[_0x5a261d(0x3bb)],'reportMetric':_0x181649=>_0x181649[_0x5a261d(0x3bb)],'maxThreshold':0.5}],_0x4da083=[{'type':_0x4958ae[_0x5a261d(0x5db)],'reportMetric':_0x424862=>{const _0x3d3039=_0x5a261d,_0x44511b=0x3e8/_0x424862['FPS'];return _0x424862[_0x3d3039(0x1a5)]/_0x44511b;},'maxThreshold':0.75},{'type':_0x4958ae['Bitrate'],'reportMetric':_0x1bea4e=>{const _0x1bb532=_0x5a261d,_0x1189ef=_0x1bea4e[_0x1bb532(0x3a5)]*_0x1bea4e[_0x1bb532(0x443)]*_0x1bea4e[_0x1bb532(0x139)]*0.12;return _0x1bea4e[_0x1bb532(0x323)]/_0x1189ef;},'minThreshold':0.25},{'type':_0x4958ae[_0x5a261d(0x6b6)],'reportMetric':_0x1ba254=>_0x1ba254['jitter'],'maxThreshold':0.6},{'type':_0x4958ae[_0x5a261d(0x3fe)],'reportMetric':_0x1151e2=>_0x1151e2[_0x5a261d(0x3a5)],'minThreshold':0xa}],_0x4457c3=[{'type':_0x4958ae[_0x5a261d(0x6b6)],'reportMetric':_0x33d2ae=>_0x33d2ae['jitter'],'maxThreshold':0.6}],_0x8f3970=[{'type':_0x4958ae[_0x5a261d(0x59e)],'reportMetric':_0x2b8e51=>_0x2b8e51['roundTripTime'],'maxThreshold':0x1/0x0}],_0xf69481=[{'type':_0x4958ae[_0x5a261d(0x1de)],'reportMetric':_0x5d4a96=>_0x5d4a96[_0x5a261d(0x1de)],'maxThreshold':0x12c}],_0x3b785d=[{'type':_0x5dbcce[_0x5a261d(0x3ed)],'issues':[{'type':_0x4958ae[_0x5a261d(0xfb)],'threshold':0x5},{'type':_0x4958ae[_0x5a261d(0x3bb)],'threshold':0x5}]},{'type':_0x5dbcce[_0x5a261d(0x5db)],'issues':[{'type':_0x4958ae['TimePerFrame'],'threshold':0x3}]},{'type':_0x5dbcce['AudioVideoDelay'],'issues':[{'type':_0x4958ae['AudioVideoDelay'],'threshold':0x2}]},{'type':_0x5dbcce[_0x5a261d(0x3fe)],'issues':[{'type':_0x4958ae[_0x5a261d(0x3fe)],'threshold':0x3}]},{'type':_0x5dbcce[_0x5a261d(0x1bb)],'issues':[{'type':_0x4958ae[_0x5a261d(0x1bb)],'threshold':0x3}]},{'type':_0x5dbcce[_0x5a261d(0x6b6)],'issues':[{'type':_0x4958ae[_0x5a261d(0x6b6)],'threshold':0x3}]},{'type':_0x5dbcce['RoundTripTime'],'issues':[{'type':_0x4958ae['RoundTripTime'],'threshold':0x3}]}];var _0x18be6f,_0x420111;!function(_0x4b1327){const _0x55e13a=_0x5a261d;_0x4b1327[_0x4b1327[_0x55e13a(0x1f4)]=0x0]='StreamReport',_0x4b1327[_0x4b1327['LocalReport']=0x1]='LocalReport';}(_0x18be6f||(_0x18be6f={}));class _0x548973{['configs'];[_0x5a261d(0x395)]=[];[_0x5a261d(0x30a)];constructor(_0x1c30cc){const _0x4f601a=_0x5a261d;this['configs']=_0x1c30cc,this['configs']['mediator'][_0x4f601a(0x334)](this);}[_0x5a261d(0x126)](_0x2a83a3){const _0x2b646b=_0x5a261d;this[_0x2b646b(0x30a)]=_0x2a83a3;}['unregisterSystemPublisher'](){const _0x103ea4=_0x5a261d;this[_0x103ea4(0x30a)]=void 0x0;}[_0x5a261d(0x3e3)](){const _0x2d14c9=_0x5a261d;this[_0x2d14c9(0x54e)][_0x2d14c9(0x6d7)][_0x2d14c9(0x6f3)](this),this[_0x2d14c9(0x395)]=[];}[_0x5a261d(0x32c)](_0x40e6a1){const _0x24cc6e=_0x5a261d;switch(_0x40e6a1['content'][_0x24cc6e(0x274)]){case _0x18be6f[_0x24cc6e(0x72a)]:this[_0x24cc6e(0x3b3)](_0x40e6a1[_0x24cc6e(0x365)][_0x24cc6e(0x5f0)]);break;case _0x18be6f['StreamReport']:this[_0x24cc6e(0x6b0)](_0x40e6a1[_0x24cc6e(0x365)][_0x24cc6e(0x5f0)]);}}[_0x5a261d(0x753)](_0x54fec0,_0x2ce8f8,_0x386650,_0x5c492c){const _0x3301cd=_0x5a261d,_0x492187=_0x3b785d[_0x3301cd(0x19f)](_0x50ee1d=>_0x50ee1d[_0x3301cd(0x395)]['some'](_0xf94ea8=>_0xf94ea8[_0x3301cd(0x274)]===_0x54fec0));_0x5c492c>=_0x492187[_0x3301cd(0x395)][_0x3301cd(0x19f)](_0x306034=>_0x306034['type']===_0x54fec0)[_0x3301cd(0x2ab)]&&(this[_0x3301cd(0x29b)](_0x492187[_0x3301cd(0x274)],_0x2ce8f8,_0x386650),this[_0x3301cd(0x395)]=this['issues'][_0x3301cd(0x279)](_0x5c9132=>!(_0x5c9132[_0x3301cd(0x274)]===_0x54fec0&&_0x5c9132[_0x3301cd(0x738)]===_0x2ce8f8&&_0x5c9132['origin']===_0x386650)));}[_0x5a261d(0x3b3)](_0x54c8ad){_0x35148b['forEach'](_0x4e1a17=>{const _0x5a6e0a=a0_0x3f62,_0x1ccd6e=_0x4e1a17['reportMetric'](_0x54c8ad);_0x4e1a17['maxThreshold']&&_0x1ccd6e>_0x4e1a17[_0x5a6e0a(0x4b7)]&&this[_0x5a6e0a(0x518)](_0x4e1a17[_0x5a6e0a(0x274)],this[_0x5a6e0a(0x54e)][_0x5a6e0a(0x783)][_0x5a6e0a(0x591)](),_0x16cef7[_0x5a6e0a(0x306)],_0x1ccd6e),_0x4e1a17['minThreshold']&&_0x1ccd6e<_0x4e1a17[_0x5a6e0a(0x205)]&&this[_0x5a6e0a(0x518)](_0x4e1a17[_0x5a6e0a(0x274)],this['configs'][_0x5a6e0a(0x783)][_0x5a6e0a(0x591)](),_0x16cef7[_0x5a6e0a(0x306)],_0x1ccd6e);});}['detectStreamIssues'](_0x228071){const _0x367b2d=_0x5a261d;let _0x17d50c=[];switch(_0x228071[_0x367b2d(0x6e0)]){case _0x16cef7[_0x367b2d(0x306)]:_0x17d50c=_0x8f3970;break;case _0x16cef7[_0x367b2d(0x6b4)]:_0x17d50c=_0xf69481;}_0x228071['video']&&this[_0x367b2d(0x357)](_0x228071[_0x367b2d(0x738)],_0x16cef7[_0x367b2d(0x306)],_0x228071[_0x367b2d(0x135)]),_0x228071[_0x367b2d(0x422)]&&this[_0x367b2d(0x721)](_0x228071['nodeId'],_0x16cef7[_0x367b2d(0x306)],_0x228071['audio']),_0x17d50c['forEach'](_0x98a030=>{const _0x11a60d=_0x367b2d,_0x1d26c5=_0x98a030['reportMetric'](_0x228071);_0x98a030[_0x11a60d(0x4b7)]&&_0x1d26c5>_0x98a030[_0x11a60d(0x4b7)]&&this[_0x11a60d(0x518)](_0x98a030[_0x11a60d(0x274)],_0x228071[_0x11a60d(0x738)],_0x16cef7[_0x11a60d(0x306)],_0x1d26c5),_0x98a030[_0x11a60d(0x205)]&&_0x1d26c5<_0x98a030[_0x11a60d(0x205)]&&this[_0x11a60d(0x518)](_0x98a030['type'],_0x228071['nodeId'],_0x16cef7[_0x11a60d(0x306)],_0x1d26c5);});}[_0x5a261d(0x357)](_0x1a5af9,_0x4a9d66,_0x25319c){const _0x1c8158=_0x5a261d;0x0!==_0x25319c[_0x1c8158(0x323)]&&_0x4da083[_0x1c8158(0x675)](_0x4b151c=>{const _0x164670=_0x1c8158,_0x27dac8=_0x4b151c['reportMetric'](_0x25319c);_0x4b151c[_0x164670(0x4b7)]&&_0x27dac8>_0x4b151c[_0x164670(0x4b7)]&&this[_0x164670(0x518)](_0x4b151c[_0x164670(0x274)],_0x1a5af9,_0x4a9d66,_0x27dac8,_0x164670(0x135)),_0x4b151c[_0x164670(0x205)]&&_0x27dac8<_0x4b151c[_0x164670(0x205)]&&this[_0x164670(0x518)](_0x4b151c[_0x164670(0x274)],_0x1a5af9,_0x4a9d66,_0x27dac8,'video');});}['detectAudioIssues'](_0xd9a8df,_0x34504f,_0x578668){const _0x5403d1=_0x5a261d;0x0!==_0x578668[_0x5403d1(0x323)]&&_0x4457c3[_0x5403d1(0x675)](_0x31cbd6=>{const _0x1fc2e8=_0x5403d1,_0x1ce1be=_0x31cbd6[_0x1fc2e8(0x767)](_0x578668);_0x31cbd6[_0x1fc2e8(0x4b7)]&&_0x1ce1be>_0x31cbd6['maxThreshold']&&this[_0x1fc2e8(0x518)](_0x31cbd6[_0x1fc2e8(0x274)],_0xd9a8df,_0x34504f,_0x1ce1be,'audio'),_0x31cbd6[_0x1fc2e8(0x205)]&&_0x1ce1be<_0x31cbd6[_0x1fc2e8(0x205)]&&this['addIssue'](_0x31cbd6[_0x1fc2e8(0x274)],_0xd9a8df,_0x34504f,_0x1ce1be,_0x1fc2e8(0x422));});}['addIssue'](_0x26f2c4,_0x49de1,_0xde3190,_0x18c9ae,_0x1a9610){const _0x3bd842=_0x5a261d;_0x50fe93[_0x3bd842(0x287)](_0x2d7d49[_0x3bd842(0x327)],'Issue\x20detected:\x20'+_0x26f2c4,_0x26f2c4,_0x18c9ae),_0x50fe93[_0x3bd842(0x3cb)](_0x3bd842(0x44a),{'clusterId':this[_0x3bd842(0x54e)][_0x3bd842(0x1f3)],'nodeId':this[_0x3bd842(0x54e)][_0x3bd842(0x783)][_0x3bd842(0x591)](),'nodeType':this['configs'][_0x3bd842(0x783)][_0x3bd842(0x274)],'remoteId':_0x49de1,'data':{'type':_0x26f2c4,'value':_0x18c9ae,'kind':_0x1a9610}}),this[_0x3bd842(0x395)]=this[_0x3bd842(0x395)][_0x3bd842(0x279)](_0x6f3a8d=>Date[_0x3bd842(0x4e6)]()-_0x6f3a8d[_0x3bd842(0x383)]<0x7530),this[_0x3bd842(0x395)][_0x3bd842(0x6bc)]({'timestamp':Date[_0x3bd842(0x4e6)](),'type':_0x26f2c4,'nodeId':_0x49de1,'origin':_0xde3190,'value':_0x18c9ae,'kind':_0x1a9610});const _0x2b4d80=this[_0x3bd842(0x395)][_0x3bd842(0x279)](_0x17a405=>_0x17a405['type']===_0x26f2c4&&_0x17a405['nodeId']===_0x49de1&&_0x17a405[_0x3bd842(0x6e0)]===_0xde3190)[_0x3bd842(0x553)];this['detectProblems'](_0x26f2c4,_0x49de1,_0xde3190,_0x2b4d80);}[_0x5a261d(0x29b)](_0x598126,_0x80515,_0x9c1f2a){const _0x20fa03=_0x5a261d;_0x50fe93[_0x20fa03(0x287)](_0x2d7d49[_0x20fa03(0x327)],_0x20fa03(0x5ca)+_0x598126),_0x50fe93[_0x20fa03(0x3cb)]('problem',{'clusterId':this[_0x20fa03(0x54e)][_0x20fa03(0x1f3)],'nodeId':this[_0x20fa03(0x54e)][_0x20fa03(0x783)][_0x20fa03(0x591)](),'nodeType':this['configs']['localNode'][_0x20fa03(0x274)],'remoteId':_0x80515,'data':{'type':_0x598126}}),this[_0x20fa03(0x30a)]?.[_0x20fa03(0x3b8)]({'sourceId':_0x4f18fa,'messageType':_0x3a54c1['Detection'],'content':{'type':_0x15dead[_0x20fa03(0x406)],'data':{'timestamp':Date[_0x20fa03(0x4e6)](),'nodeId':_0x80515,'origin':_0x16cef7[_0x20fa03(0x306)],'type':_0x598126}}});}}class _0x4b1d91 extends _0x3933c1{[_0x5a261d(0x274)]=_0x44eeae[_0x5a261d(0x423)][_0x5a261d(0x431)];}class _0x2b134d extends _0x4b1d91{[_0x5a261d(0x30a)];[_0x5a261d(0x65f)]=Date['now']();[_0x5a261d(0x2e5)];[_0x5a261d(0x315)];['close'](){const _0x2a44b7=_0x5a261d;this['updateDebounceTimeout']&&(clearTimeout(this[_0x2a44b7(0x2e5)]),delete this['updateDebounceTimeout']),delete this['lastUpdated'],this[_0x2a44b7(0x65f)]=Date[_0x2a44b7(0x4e6)](),super[_0x2a44b7(0x3e3)]();}[_0x5a261d(0x126)](_0x4c93c1){const _0xee3665=_0x5a261d;this[_0xee3665(0x30a)]=_0x4c93c1;}[_0x5a261d(0x5bc)](){delete this['systemTopic'];}[_0x5a261d(0x73a)](_0xb63833){const _0x3827c6=_0x5a261d;!this[_0x3827c6(0x2e5)]&&this[_0x3827c6(0x1fa)]&&this[_0x3827c6(0x30a)]['publish']({'sourceId':this['id'],'destinationIds':[_0xb63833],'propagate':!0x0,'messageType':_0x3a54c1[_0x3827c6(0x432)],'content':{'type':_0x2d2d29['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0x3827c6(0x274)]},'rank':this[_0x3827c6(0x67e)](),'remoteConnections':Array['from'](this[_0x3827c6(0x53d)]),'version':this[_0x3827c6(0x65f)]}});}[_0x5a261d(0x597)](_0x11d4cc){const _0x2008ed=_0x5a261d;this['remoteConnections'][_0x2008ed(0x644)](_0x11d4cc)||(this[_0x2008ed(0x53d)][_0x2008ed(0x500)](_0x11d4cc),this[_0x2008ed(0x192)](),this[_0x2008ed(0x564)](!0x0));}[_0x5a261d(0x60c)](_0x390e48){const _0x47b9ee=_0x5a261d;this['remoteConnections'][_0x47b9ee(0x644)](_0x390e48)&&(this[_0x47b9ee(0x53d)][_0x47b9ee(0x20a)](_0x390e48),this[_0x47b9ee(0x192)](),this[_0x47b9ee(0x564)](!0x0));}[_0x5a261d(0x48e)](){const _0x1ad798=_0x5a261d;return this[_0x1ad798(0x65f)];}['setRank'](_0xed821,_0xb91f80=!0x0){const _0x581354=_0x5a261d;this[_0x581354(0x1fa)]!==_0xed821&&(this[_0x581354(0x1fa)]=_0xed821,_0xb91f80&&(this[_0x581354(0x192)](),this[_0x581354(0x564)]()));}['incrementVersion'](){const _0x1d5667=_0x5a261d;this[_0x1d5667(0x65f)]=Date[_0x1d5667(0x4e6)]();}[_0x5a261d(0x564)](_0x3fea0e=!0x1){const _0x1db3d4=_0x5a261d;if(this[_0x1db3d4(0x1fa)]){if(this[_0x1db3d4(0x315)]||(this[_0x1db3d4(0x315)]=Date[_0x1db3d4(0x4e6)]()),this['updateDebounceTimeout']){if(Date[_0x1db3d4(0x4e6)]()-this[_0x1db3d4(0x315)]>0x2328)return;clearTimeout(this[_0x1db3d4(0x2e5)]);}this['updateDebounceTimeout']=setTimeout(()=>{const _0x2c572c=_0x1db3d4;delete this[_0x2c572c(0x315)],delete this['updateDebounceTimeout'],this[_0x2c572c(0x30a)][_0x2c572c(0x3b8)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x3a54c1[_0x2c572c(0x432)],'content':{'type':_0x3fea0e?_0x2d2d29[_0x2c572c(0x41b)]:_0x2d2d29[_0x2c572c(0x22f)],'id':this['id'],'metaData':{'type':this[_0x2c572c(0x274)]},'rank':this[_0x2c572c(0x67e)](),'remoteConnections':Array[_0x2c572c(0x61e)](this[_0x2c572c(0x53d)]),'version':this[_0x2c572c(0x65f)]}});},0x3e8);}}}class _0x1bbaec extends _0x3270e9{[_0x5a261d(0x30a)];[_0x5a261d(0x65f)]=Date[_0x5a261d(0x4e6)]();[_0x5a261d(0x2e5)];['lastUpdated'];['close'](){const _0x2bd651=_0x5a261d;this['updateDebounceTimeout']&&(clearTimeout(this['updateDebounceTimeout']),delete this[_0x2bd651(0x2e5)]),delete this['lastUpdated'],this[_0x2bd651(0x65f)]=Date['now'](),super[_0x2bd651(0x3e3)]();}[_0x5a261d(0x126)](_0x1cf716){const _0x2f3b9c=_0x5a261d;this[_0x2f3b9c(0x30a)]=_0x1cf716;}[_0x5a261d(0x5bc)](){const _0x3ae4d0=_0x5a261d;delete this[_0x3ae4d0(0x30a)];}[_0x5a261d(0x73a)](_0xa90545){const _0x2499d7=_0x5a261d;!this['updateDebounceTimeout']&&this[_0x2499d7(0x1fa)]&&this['systemTopic'][_0x2499d7(0x3b8)]({'sourceId':this['id'],'destinationIds':[_0xa90545],'propagate':!0x0,'messageType':_0x3a54c1['Node'],'content':{'type':_0x2d2d29[_0x2499d7(0x22f)],'id':this['id'],'metaData':{'type':this[_0x2499d7(0x274)],'displayName':this[_0x2499d7(0x5b1)](),'email':this[_0x2499d7(0x49f)]()},'rank':this[_0x2499d7(0x67e)](),'remoteConnections':Array[_0x2499d7(0x61e)](this[_0x2499d7(0x53d)]),'version':this[_0x2499d7(0x65f)]}});}[_0x5a261d(0x597)](_0x574baf){const _0x4e0645=_0x5a261d;this[_0x4e0645(0x53d)][_0x4e0645(0x644)](_0x574baf)||(this['remoteConnections']['add'](_0x574baf),this[_0x4e0645(0x192)](),this['publishUserUpdate'](!0x0));}[_0x5a261d(0x60c)](_0x199121){const _0x4be7d2=_0x5a261d;this[_0x4be7d2(0x53d)][_0x4be7d2(0x644)](_0x199121)&&(this[_0x4be7d2(0x53d)]['delete'](_0x199121),this['incrementVersion'](),this[_0x4be7d2(0x564)](!0x0));}['getCurrentVersion'](){const _0x72a158=_0x5a261d;return this[_0x72a158(0x65f)];}[_0x5a261d(0x265)](_0x6d33e2){const _0x17ec5e=_0x5a261d;this[_0x17ec5e(0x4c7)]!==_0x6d33e2&&(this[_0x17ec5e(0x4c7)]=_0x6d33e2,this[_0x17ec5e(0x192)](),this[_0x17ec5e(0x564)]());}[_0x5a261d(0x2aa)](_0x2d4c7e){const _0x4f7102=_0x5a261d;this['email']!==_0x2d4c7e&&(this[_0x4f7102(0x15e)]=_0x2d4c7e,this[_0x4f7102(0x192)](),this[_0x4f7102(0x564)]());}[_0x5a261d(0x58f)](_0x109f71,_0x31f575=!0x0){const _0x1d982a=_0x5a261d;this[_0x1d982a(0x1fa)]!==_0x109f71&&(this[_0x1d982a(0x1fa)]=_0x109f71,_0x31f575&&(this[_0x1d982a(0x192)](),this[_0x1d982a(0x564)]()));}[_0x5a261d(0x192)](){const _0x30bc0d=_0x5a261d;this['currentVersion']=Date[_0x30bc0d(0x4e6)]();}[_0x5a261d(0x564)](_0x3fb436=!0x1){const _0x3e5e68=_0x5a261d;if(this[_0x3e5e68(0x1fa)]){if(this[_0x3e5e68(0x315)]||(this[_0x3e5e68(0x315)]=Date[_0x3e5e68(0x4e6)]()),this[_0x3e5e68(0x2e5)]){if(Date[_0x3e5e68(0x4e6)]()-this[_0x3e5e68(0x315)]>0x2328)return;clearTimeout(this[_0x3e5e68(0x2e5)]);}this[_0x3e5e68(0x2e5)]=setTimeout(()=>{const _0x4b918b=_0x3e5e68;delete this[_0x4b918b(0x315)],delete this['updateDebounceTimeout'],this[_0x4b918b(0x30a)][_0x4b918b(0x3b8)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x3a54c1[_0x4b918b(0x432)],'content':{'type':_0x3fb436?_0x2d2d29['NodeConnectionsUpdate']:_0x2d2d29[_0x4b918b(0x22f)],'id':this['id'],'metaData':{'type':this[_0x4b918b(0x274)],'displayName':this[_0x4b918b(0x5b1)](),'email':this[_0x4b918b(0x49f)]()},'rank':this[_0x4b918b(0x67e)](),'remoteConnections':Array[_0x4b918b(0x61e)](this[_0x4b918b(0x53d)]),'version':this['currentVersion']}});},0x3e8);}}}class _0x20d0f3{['id'];[_0x5a261d(0x407)];[_0x5a261d(0xe6)];[_0x5a261d(0x76d)];[_0x5a261d(0x274)]=_0x44eeae['NodeType']['Agent'];[_0x5a261d(0x31d)];constructor(_0x5ea1ec,_0x336461,_0x25b0fc,_0x3bfefe){const _0x95888d=_0x5a261d;this['id']=_0x5ea1ec,this[_0x95888d(0x407)]=_0x336461,this['vendorId']=_0x25b0fc,this['agentConfig']=_0x3bfefe;}[_0x5a261d(0x591)](){return this['id'];}['onConfigurationChange'](_0x6697fe){const _0x5b3c1c=_0x5a261d,_0x46bc27=(0x0,_0x171fba[_0x5b3c1c(0x469)])((0x0,_0x171fba[_0x5b3c1c(0x4da)])(_0x9c97da['getFirestore'](),_0x5b3c1c(0x582)+this[_0x5b3c1c(0xe6)]+_0x5b3c1c(0x23c)+this[_0x5b3c1c(0x407)]),_0x4105fe=>{const _0x5f5782=_0x5b3c1c;if(_0x4105fe[_0x5f5782(0x40f)]()){const _0xa18bb8=_0x4105fe[_0x5f5782(0x5f0)]();if(this[_0x5f5782(0x76d)][_0x5f5782(0x383)][_0x5f5782(0x358)](_0xa18bb8[_0x5f5782(0x383)]))return;_0x50fe93['log'](_0x2d7d49[_0x5f5782(0x432)],_0x5f5782(0x630),{'agentId':this['id'],'groupId':this[_0x5f5782(0x407)],'oldConfig':this[_0x5f5782(0x76d)],'newConfig':_0xa18bb8}),this[_0x5f5782(0x76d)]=_0xa18bb8,_0x6697fe();}});return()=>_0x46bc27();}['setReportCapacity'](_0x2be1ef){const _0x19afc1=_0x5a261d;return this[_0x19afc1(0x620)](this[_0x19afc1(0x407)],_0x2be1ef),_0x16ea6e[_0x19afc1(0x18c)](()=>this['reportCapacity'](this[_0x19afc1(0x407)],_0x2be1ef),0x493e0);}[_0x5a261d(0x3af)](){const _0x540ed8=_0x5a261d;if(!this['lastCapacityReport'])throw new _0x2826e7(_0x2826e7[_0x540ed8(0x776)][_0x540ed8(0x724)]);return this['lastCapacityReport'];}async[_0x5a261d(0x620)](_0x5e7787,_0x2a8a4f){const _0x30fc53=_0x5a261d,_0x33c6d0=await _0x2a8a4f();this[_0x30fc53(0x31d)]=_0x33c6d0,await(0x0,_0x171fba['addDoc'])((0x0,_0x171fba[_0x30fc53(0x35d)])(_0x9c97da[_0x30fc53(0x720)](),_0x30fc53(0x582)+this[_0x30fc53(0xe6)]+_0x30fc53(0x552)),{'agentId':this['id'],'groupId':_0x5e7787,'timestamp':(0x0,_0x171fba[_0x30fc53(0x77d)])(),'capacity':_0x33c6d0});}}!function(_0x5adba8){const _0x2c691a=_0x5a261d;_0x5adba8[_0x5adba8[_0x2c691a(0x656)]=0x0]='Online',_0x5adba8[_0x5adba8[_0x2c691a(0x166)]=0x1]=_0x2c691a(0x166);}(_0x420111||(_0x420111={}));class _0x1b25ac extends _0x4b1d91{[_0x5a261d(0x65f)];[_0x5a261d(0x244)]=_0x420111[_0x5a261d(0x656)];[_0x5a261d(0x315)]=Date[_0x5a261d(0x4e6)]();constructor(_0x3dde43,_0x26cbda=new Set(),_0x3ee1e9,_0x26fa05){const _0x40fcee=_0x5a261d;super(_0x3dde43,_0x26cbda,_0x26fa05),this[_0x40fcee(0x65f)]=_0x3ee1e9;}[_0x5a261d(0x48e)](){const _0x160fd=_0x5a261d;return this[_0x160fd(0x65f)];}[_0x5a261d(0x1b6)](){const _0x55cf87=_0x5a261d;return this[_0x55cf87(0x244)];}[_0x5a261d(0x707)](){const _0x5ca360=_0x5a261d;return this[_0x5ca360(0x315)];}[_0x5a261d(0x58f)](_0x5224d6){const _0x53cd9b=_0x5a261d;this[_0x53cd9b(0x1fa)]!==_0x5224d6&&(this[_0x53cd9b(0x1fa)]=_0x5224d6,this[_0x53cd9b(0x5fe)]());}[_0x5a261d(0x15a)](_0x2b839e){const _0x71c93=_0x5a261d;let _0x29e1a1=!0x1;for(const _0x29d8bf of this[_0x71c93(0x53d)])_0x2b839e[_0x71c93(0x49a)](_0x29d8bf)||(_0x29e1a1=!0x0,this[_0x71c93(0x53d)]['delete'](_0x29d8bf));for(const _0x38c4cb of _0x2b839e)this[_0x71c93(0x53d)]['has'](_0x38c4cb)||(_0x29e1a1=!0x0,this[_0x71c93(0x53d)][_0x71c93(0x500)](_0x38c4cb));_0x29e1a1&&this[_0x71c93(0x5fe)]();}[_0x5a261d(0x328)](_0x328ab1){const _0x3f78a2=_0x5a261d;this[_0x3f78a2(0x65f)]!==_0x328ab1&&(this[_0x3f78a2(0x65f)]=_0x328ab1,this[_0x3f78a2(0x5fe)]());}[_0x5a261d(0x6f9)](_0x51db94){const _0x18a05d=_0x5a261d;this[_0x18a05d(0x244)]!==_0x51db94&&(this[_0x18a05d(0x244)]=_0x51db94,this[_0x18a05d(0x5fe)](),_0x51db94===_0x420111['Offline']&&this['close']());}[_0x5a261d(0x5fe)](){const _0x10fa6e=_0x5a261d;this[_0x10fa6e(0x315)]=Date['now']();}}class _0x5dfc16 extends _0x3270e9{[_0x5a261d(0x65f)];[_0x5a261d(0x244)]=_0x420111['Online'];[_0x5a261d(0x315)]=Date[_0x5a261d(0x4e6)]();constructor(_0x2f6121,_0x1e3f8a,_0xedcbaa,_0x414b36=new Set(),_0x2f02e7,_0x384b2f){super(_0x2f6121,_0x1e3f8a,_0xedcbaa,_0x414b36,_0x384b2f),this['currentVersion']=_0x2f02e7;}[_0x5a261d(0x48e)](){const _0x563374=_0x5a261d;return this[_0x563374(0x65f)];}[_0x5a261d(0x1b6)](){const _0x486708=_0x5a261d;return this[_0x486708(0x244)];}[_0x5a261d(0x707)](){const _0x10b7f0=_0x5a261d;return this[_0x10b7f0(0x315)];}['setDisplayName'](_0x513160){const _0x589963=_0x5a261d;this[_0x589963(0x4c7)]!==_0x513160&&(this['displayName']=_0x513160,this['updateLastUpdated']());}[_0x5a261d(0x2aa)](_0x28c0fe){const _0x128dce=_0x5a261d;this[_0x128dce(0x15e)]!==_0x28c0fe&&(this['email']=_0x28c0fe,this[_0x128dce(0x5fe)]());}[_0x5a261d(0x58f)](_0x126b7c){const _0x2237d9=_0x5a261d;this[_0x2237d9(0x1fa)]!==_0x126b7c&&(this[_0x2237d9(0x1fa)]=_0x126b7c,this[_0x2237d9(0x5fe)]());}['setRemoteConnections'](_0x5597a7){const _0x3c6452=_0x5a261d;let _0x1fcd0d=!0x1;for(const _0x629ab0 of this[_0x3c6452(0x53d)])_0x5597a7[_0x3c6452(0x49a)](_0x629ab0)||(_0x1fcd0d=!0x0,this[_0x3c6452(0x53d)][_0x3c6452(0x20a)](_0x629ab0));for(const _0x45096d of _0x5597a7)this[_0x3c6452(0x53d)]['has'](_0x45096d)||(_0x1fcd0d=!0x0,this[_0x3c6452(0x53d)]['add'](_0x45096d));_0x1fcd0d&&this[_0x3c6452(0x5fe)]();}[_0x5a261d(0x328)](_0x35c0d0){this['currentVersion']!==_0x35c0d0&&(this['currentVersion']=_0x35c0d0,this['updateLastUpdated']());}['setStatus'](_0x34329e){const _0x209e4c=_0x5a261d;this[_0x209e4c(0x244)]!==_0x34329e&&(this['status']=_0x34329e,this[_0x209e4c(0x5fe)](),_0x34329e===_0x420111[_0x209e4c(0x166)]&&this['close']());}[_0x5a261d(0x5fe)](){this['lastUpdated']=Date['now']();}}class _0x35c6f1{[_0x5a261d(0xe6)];[_0x5a261d(0x1f3)];[_0x5a261d(0x783)];['minConnections'];[_0x5a261d(0x60e)]=_0x534eff();[_0x5a261d(0x631)];['childRemovedUnsubscriber'];[_0x5a261d(0x122)];[_0x5a261d(0x66b)]=!0x1;[_0x5a261d(0x6e8)];[_0x5a261d(0x4d5)];constructor(_0x231155,_0x37609b,_0x2c2d3f,_0x5a790c){const _0x5f273e=_0x5a261d;this['vendorId']=_0x231155,this['clusterId']=_0x37609b,this[_0x5f273e(0x783)]=_0x2c2d3f,this[_0x5f273e(0x3d9)]=_0x5a790c,this[_0x5f273e(0x6e8)]=_0x5f273e(0x52c)+this[_0x5f273e(0xe6)]+_0x5f273e(0x52c)+this[_0x5f273e(0x1f3)],this[_0x5f273e(0x4d5)]='ccc'+this[_0x5f273e(0xe6)]+_0x5f273e(0x52c)+this['localNode']['getId'](),this[_0x5f273e(0x631)]=(0x0,_0x447011[_0x5f273e(0x58c)])((0x0,_0x447011[_0x5f273e(0x1e2)])(_0x9c97da[_0x5f273e(0x4f9)](),_0x5f273e(0x5f7)),_0xb9cd6d=>{const _0x4c7e75=_0x5f273e;!0x0!==_0xb9cd6d[_0x4c7e75(0x1cd)]()?this[_0x4c7e75(0x66b)]&&_0x50fe93[_0x4c7e75(0x671)](_0x4c7e75(0x6c7),{'clusterId':this[_0x4c7e75(0x1f3)],'nodeId':this[_0x4c7e75(0x783)][_0x4c7e75(0x591)](),'nodeType':this[_0x4c7e75(0x783)][_0x4c7e75(0x274)]}):(this[_0x4c7e75(0x66b)]=!0x0,this[_0x4c7e75(0x42c)](),_0x50fe93[_0x4c7e75(0x63f)](_0x4c7e75(0x412),{'clusterId':this[_0x4c7e75(0x1f3)],'nodeId':this[_0x4c7e75(0x783)][_0x4c7e75(0x591)](),'nodeType':this[_0x4c7e75(0x783)]['type']}));});}async[_0x5a261d(0x2e3)](){const _0x3ace3c=_0x5a261d;await this[_0x3ace3c(0x20d)]();const _0x1b3489=await this['getAncestors']();return this['childRemovedUnsubscriber']=(0x0,_0x447011[_0x3ace3c(0x186)])((0x0,_0x447011[_0x3ace3c(0x1e2)])(_0x9c97da[_0x3ace3c(0x4f9)](),_0x3ace3c(0x40c)+this['clusterKey']+'/nodes'),_0x1e98ed=>{const _0x3ce8ce=_0x3ace3c,_0x164a61=_0x1e98ed['key'];if(!_0x164a61)return;const _0x33b733=_0x164a61[_0x3ce8ce(0x476)](_0x3ce8ce(0x52c)+this[_0x3ce8ce(0xe6)]+_0x3ce8ce(0x52c),'');this[_0x3ce8ce(0x60e)][_0x3ce8ce(0x3b8)](_0x33b733);}),_0x1b3489;}async['close'](){const _0x327150=_0x5a261d;this['childRemovedUnsubscriber']?.(),delete this[_0x327150(0x39e)],this[_0x327150(0x122)]?.[_0x327150(0x206)](),delete this[_0x327150(0x122)],this['firebaseUnsubscriber']?.(),delete this[_0x327150(0x631)],await(0x0,_0x447011[_0x327150(0x4c9)])((0x0,_0x447011[_0x327150(0x1e2)])(_0x9c97da['getDatabase'](),_0x327150(0x40c)+this[_0x327150(0x6e8)]+'/nodes/'+this[_0x327150(0x4d5)]));}[_0x5a261d(0x51a)](_0x1d55f5){const _0x4e1683=_0x5a261d;return this[_0x4e1683(0x60e)][_0x4e1683(0x313)](_0x1d55f5);}async[_0x5a261d(0x2fa)](){const _0x5bd168=_0x5a261d,_0x10cb25=[],_0x49e69e=await(0x0,_0x447011['get'])((0x0,_0x447011[_0x5bd168(0x1e2)])(_0x9c97da[_0x5bd168(0x4f9)](),_0x5bd168(0x40c)+this[_0x5bd168(0x6e8)]+_0x5bd168(0x12b))),_0x415c69=[];return _0x49e69e['forEach'](_0x643b82=>{const _0x8670f3=_0x5bd168,_0x5d8416=_0x643b82[_0x8670f3(0x762)]?.[_0x8670f3(0x476)](_0x8670f3(0x52c)+this[_0x8670f3(0xe6)]+'ccc','');_0x415c69[_0x8670f3(0x6bc)]({'id':_0x5d8416,'joinedAt':_0x643b82[_0x8670f3(0x1cd)]()[_0x8670f3(0x2fd)],'priority':_0x643b82[_0x8670f3(0x1cd)]()[_0x8670f3(0x75e)]});}),_0x415c69[_0x5bd168(0x719)]((_0x45a870,_0x337fd3)=>_0x45a870['joinedAt']===_0x337fd3[_0x5bd168(0x2fd)]?_0x45a870[_0x5bd168(0x75e)]-_0x337fd3[_0x5bd168(0x75e)]:_0x45a870[_0x5bd168(0x2fd)]-_0x337fd3[_0x5bd168(0x2fd)])[_0x5bd168(0x6ef)](_0x415c69[_0x5bd168(0xf6)](_0x11b975=>_0x11b975['id']===this[_0x5bd168(0x783)][_0x5bd168(0x591)]())),_0x415c69['sort']((_0x59920d,_0x4025f4)=>_0x4025f4[_0x5bd168(0x2fd)]===_0x59920d[_0x5bd168(0x2fd)]?_0x4025f4[_0x5bd168(0x75e)]-_0x59920d[_0x5bd168(0x75e)]:_0x4025f4['joinedAt']-_0x59920d[_0x5bd168(0x2fd)])['forEach'](_0x27ca2e=>{const _0x34020b=_0x5bd168;_0x10cb25[_0x34020b(0x553)]>=this[_0x34020b(0x3d9)]||_0x10cb25[_0x34020b(0x6bc)](_0x27ca2e['id']);}),_0x50fe93[_0x5bd168(0x3cb)](_0x5bd168(0x48a),{'clusterId':this[_0x5bd168(0x1f3)],'nodeId':this[_0x5bd168(0x783)][_0x5bd168(0x591)](),'nodeType':this[_0x5bd168(0x783)]['type'],'data':{'ancestorIds':_0x10cb25,'allNodes':_0x415c69}}),_0x10cb25;}async['joinCluster'](){const _0x52adbe=_0x5a261d;await(0x0,_0x447011[_0x52adbe(0x1a1)])((0x0,_0x447011['ref'])(_0x9c97da[_0x52adbe(0x4f9)](),_0x52adbe(0x40c)+this[_0x52adbe(0x6e8)]+_0x52adbe(0x6a3)+this[_0x52adbe(0x4d5)]),{'joinedAt':(0x0,_0x447011[_0x52adbe(0x77d)])(),'priority':Math[_0x52adbe(0x182)]()});}[_0x5a261d(0x42c)](){const _0x67ee3=_0x5a261d;this[_0x67ee3(0x122)]&&this[_0x67ee3(0x122)][_0x67ee3(0x206)](),this[_0x67ee3(0x122)]=(0x0,_0x447011[_0x67ee3(0x64c)])((0x0,_0x447011[_0x67ee3(0x1e2)])(_0x9c97da[_0x67ee3(0x4f9)](),'clusters/'+this[_0x67ee3(0x6e8)]+'/nodes/'+this[_0x67ee3(0x4d5)])),this[_0x67ee3(0x122)][_0x67ee3(0x4c9)]();}}class _0x4276fd{[_0x5a261d(0x54e)];[_0x5a261d(0x2f3)];[_0x5a261d(0x783)];[_0x5a261d(0x3fa)];[_0x5a261d(0x772)];['discoveryUnsubscriber'];[_0x5a261d(0x183)]=[];['systemTopic'];[_0x5a261d(0x4e9)]=new Map();[_0x5a261d(0x3a3)];[_0x5a261d(0x6cc)];constructor(_0x583726,_0x10fb0b,_0x58d414){const _0x26a106=_0x5a261d;this[_0x26a106(0x54e)]=_0x583726,this['graphService']=_0x10fb0b,this[_0x26a106(0x783)]=_0x58d414,this[_0x26a106(0x772)]=new _0x35c6f1(this[_0x26a106(0x54e)]['vendorId'],this[_0x26a106(0x54e)][_0x26a106(0x1f3)],this[_0x26a106(0x783)],this[_0x26a106(0x2f3)][_0x26a106(0x322)]()),this[_0x26a106(0x2b3)]=this[_0x26a106(0x772)][_0x26a106(0x51a)](this[_0x26a106(0x6ce)][_0x26a106(0x72e)](this)),this[_0x26a106(0x54e)][_0x26a106(0x6d7)][_0x26a106(0x334)](this[_0x26a106(0x783)]),this[_0x26a106(0x54e)]['mediator'][_0x26a106(0x334)](this),this[_0x26a106(0x3fa)]=_0x16ea6e[_0x26a106(0x18c)](()=>{const _0x626749=_0x26a106,_0x3e1d95=Date[_0x626749(0x4e6)]();this[_0x626749(0x2f3)][_0x626749(0x6d0)]()[_0x626749(0x675)](_0x47dfa0=>{const _0x5e851f=_0x626749;_0x47dfa0[_0x5e851f(0x1b6)]()===_0x420111[_0x5e851f(0x166)]&&_0x47dfa0['getLastUpdated']()<_0x3e1d95-0x493e0&&this[_0x5e851f(0x2f3)]['deleteRemoteNode'](_0x47dfa0[_0x5e851f(0x591)]());});},0xea60);}[_0x5a261d(0x126)](_0x592e23){const _0x47c090=_0x5a261d;this[_0x47c090(0x30a)]=_0x592e23;}[_0x5a261d(0x5bc)](){delete this['systemTopic'];}[_0x5a261d(0x3e3)](){const _0x201b55=_0x5a261d;this[_0x201b55(0x3a3)]&&(clearTimeout(this[_0x201b55(0x3a3)]),delete this[_0x201b55(0x3a3)]),delete this[_0x201b55(0x6cc)],this[_0x201b55(0x783)][_0x201b55(0x3e3)](),this[_0x201b55(0x3fa)](),this['discoveryUnsubscriber'](),this[_0x201b55(0x54e)][_0x201b55(0x6d7)][_0x201b55(0x6f3)](this[_0x201b55(0x783)]),this[_0x201b55(0x54e)][_0x201b55(0x6d7)][_0x201b55(0x6f3)](this),this[_0x201b55(0x772)][_0x201b55(0x3e3)]();}[_0x5a261d(0x278)](){return this['ancestors'];}[_0x5a261d(0x41c)](){const _0x25f98f=_0x5a261d;return this[_0x25f98f(0x783)]['getId']();}['getLocalNode'](){const _0x53fb5c=_0x5a261d;return this[_0x53fb5c(0x783)];}['getRemoteNodes'](_0x40ab14){const _0x1e54f3=_0x5a261d,_0x1229e6=Array[_0x1e54f3(0x61e)](this[_0x1e54f3(0x2f3)]['getRemoteNodes']()['values']())[_0x1e54f3(0x279)](_0x5e0be4=>_0x5e0be4[_0x1e54f3(0x1b6)]()===_0x420111[_0x1e54f3(0x656)]);return _0x40ab14?_0x1229e6[_0x1e54f3(0x279)](_0x40ab14):_0x1229e6;}async[_0x5a261d(0x48a)](){const _0x303856=_0x5a261d;return this[_0x303856(0x183)]=await this[_0x303856(0x772)][_0x303856(0x2e3)](),this['ancestors'][_0x303856(0x553)]<this['graphService'][_0x303856(0x322)]()&&(this[_0x303856(0x783)][_0x303856(0x58f)](this[_0x303856(0x183)][_0x303856(0x553)]+0x1),this[_0x303856(0x16d)]()),this['ancestors'];}[_0x5a261d(0x26c)](_0x43a2f3,_0x3d8325){const _0x37cc81=_0x5a261d,_0x4afeb6=this['localNode']['getRemoteConnections'](),_0x4b64ef=new Set(_0x4afeb6),_0x1a3e2b=Array[_0x37cc81(0x61e)](_0x4afeb6)[_0x37cc81(0x279)](_0x389fec=>_0x389fec!==_0x43a2f3)[_0x37cc81(0x47f)](_0xda7d3b=>({'id':_0xda7d3b,'distance':0x1}));for(;_0x1a3e2b['length']>0x0;){const _0x2aff7b=_0x1a3e2b['shift']();if(!_0x2aff7b)continue;if(_0x2aff7b['id']===_0x3d8325)return _0x2aff7b[_0x37cc81(0x5a4)];const _0x454fc7=this['graphService']['getRemoteNode'](_0x2aff7b['id']);_0x454fc7&&_0x454fc7[_0x37cc81(0x1b6)]()!==_0x420111[_0x37cc81(0x166)]&&_0x454fc7[_0x37cc81(0x359)]()[_0x37cc81(0x675)](_0x56cbea=>{const _0x19db19=_0x37cc81;_0x4b64ef[_0x19db19(0x644)](_0x56cbea)||(_0x4b64ef['add'](_0x56cbea),_0x1a3e2b[_0x19db19(0x6bc)]({'id':_0x56cbea,'distance':_0x2aff7b['distance']+0x1}));});}return-0x1;}[_0x5a261d(0x219)](_0x1e3985){const _0x31fbb4=_0x5a261d;try{switch(_0x1e3985[_0x31fbb4(0x365)][_0x31fbb4(0x274)]){case _0x2d2d29[_0x31fbb4(0x22f)]:case _0x2d2d29[_0x31fbb4(0x41b)]:this[_0x31fbb4(0x650)](_0x1e3985[_0x31fbb4(0x365)]),_0x50fe93['log'](_0x2d7d49[_0x31fbb4(0x432)],'NodeManager\x20-\x20NodeUpdate','\x27'+this[_0x31fbb4(0x783)][_0x31fbb4(0x591)]()+',\x20'+_0x1e3985[_0x31fbb4(0x6f8)]+'\x27',_0x1e3985,_0x1e3985[_0x31fbb4(0x365)]);break;case _0x2d2d29['NodeLeave']:this[_0x31fbb4(0x5c7)](_0x1e3985[_0x31fbb4(0x365)]['id']),_0x50fe93['log'](_0x2d7d49[_0x31fbb4(0x432)],_0x31fbb4(0x5ab),'\x27'+this[_0x31fbb4(0x783)][_0x31fbb4(0x591)]()+',\x20'+_0x1e3985['sourceId']+'\x27',_0x1e3985,_0x1e3985[_0x31fbb4(0x365)]);}}catch(_0x24c420){if(_0x24c420 instanceof _0x29aa20)return void _0x50fe93[_0x31fbb4(0x287)](_0x2d7d49['Node'],_0x24c420[_0x31fbb4(0x1c3)]);throw _0x24c420;}}[_0x5a261d(0x654)](_0x3cf1a7){const _0x2ea7a0=_0x5a261d;switch(_0x3cf1a7[_0x2ea7a0(0x365)][_0x2ea7a0(0x274)]){case _0x48dd43['Success']:this[_0x2ea7a0(0x57f)](_0x3cf1a7[_0x2ea7a0(0x6f8)]),_0x50fe93[_0x2ea7a0(0x287)](_0x2d7d49[_0x2ea7a0(0x432)],_0x2ea7a0(0x2fe),'\x27'+this['localNode']['getId']()+',\x20'+_0x3cf1a7[_0x2ea7a0(0x6f8)]+'\x27',_0x3cf1a7,_0x3cf1a7[_0x2ea7a0(0x365)]);break;case _0x48dd43[_0x2ea7a0(0x496)]:this[_0x2ea7a0(0x60d)](_0x3cf1a7[_0x2ea7a0(0x6f8)]),_0x50fe93[_0x2ea7a0(0x287)](_0x2d7d49[_0x2ea7a0(0x432)],'NodeManager\x20-\x20PublishNodeLeave',this[_0x2ea7a0(0x783)][_0x2ea7a0(0x591)](),_0x3cf1a7,_0x3cf1a7['content']);}}['handleNodeJoin'](_0xd42f1c){const _0x13411d=_0x5a261d;this[_0x13411d(0x410)](_0xd42f1c),this['notifyJoin'](_0xd42f1c);}[_0x5a261d(0x77f)](_0x42bdbc){const _0x184487=_0x5a261d;this[_0x184487(0x783)][_0x184487(0x73a)](_0x42bdbc['id']),this[_0x184487(0x4ed)](_0x42bdbc['id']),this['notifyClusterNodeJoin'](_0x42bdbc);}[_0x5a261d(0x650)](_0x15f843){const _0x4c3d2c=_0x5a261d,{id:_0x577b26,metaData:_0x4ad939,rank:_0xf66265,remoteConnections:_0x36c143,version:_0x3354cd}=_0x15f843,_0xd51352=this[_0x4c3d2c(0x2f3)][_0x4c3d2c(0x51b)](_0x577b26);if(_0xd51352){if(!(_0x3354cd<=_0xd51352['getCurrentVersion']())){if(_0xd51352[_0x4c3d2c(0x15a)](_0x36c143),_0xd51352['setCurrentVersion'](_0x3354cd),_0xd51352[_0x4c3d2c(0x274)]===_0x44eeae['NodeType'][_0x4c3d2c(0x377)]&&_0x4ad939[_0x4c3d2c(0x274)]===_0x44eeae[_0x4c3d2c(0x423)][_0x4c3d2c(0x377)]&&(_0xd51352[_0x4c3d2c(0x265)](_0x4ad939['displayName']),_0xd51352['setEmail'](_0x4ad939['email'])),_0xf66265&&_0xd51352[_0x4c3d2c(0x58f)](_0xf66265),this[_0x4c3d2c(0x6f2)](_0x577b26,_0xf66265),_0xd51352['getStatus']()===_0x420111[_0x4c3d2c(0x166)])return _0xd51352[_0x4c3d2c(0x6f9)](_0x420111['Online']),this[_0x4c3d2c(0x16d)](),void this[_0x4c3d2c(0x77f)](_0x15f843);this[_0x4c3d2c(0x16d)](),this['notifyClusterNodeUpdate']({'id':_0x577b26,'metaData':_0x4ad939,'remoteConnections':_0x36c143,'version':_0x3354cd});}}else this[_0x4c3d2c(0x600)](_0x15f843);}['setLocalRank'](_0xb9ddf0,_0x56cd8c){const _0x42a808=_0x5a261d;_0x56cd8c&&this[_0x42a808(0x183)]['includes'](_0xb9ddf0)&&this[_0x42a808(0x783)][_0x42a808(0x58f)](_0x56cd8c+this[_0x42a808(0x183)][_0x42a808(0x1fb)](_0xb9ddf0)+0x1);}['handleConnectionSuccess'](_0x5e2907){const _0x5b6cc9=_0x5a261d;this[_0x5b6cc9(0x783)]['addRemoteConnection'](_0x5e2907);}[_0x5a261d(0x410)]({id:_0x54345b,metaData:_0x162788,rank:_0x4daf20,remoteConnections:_0x43ecf2,version:_0x5f022a}){const _0x39558c=_0x5a261d;if(this[_0x39558c(0x2f3)][_0x39558c(0x3f3)](_0x54345b))throw new _0x29aa20(_0x39558c(0x6d6)+_0x54345b);switch(_0x162788['type']){case _0x44eeae[_0x39558c(0x423)][_0x39558c(0x377)]:const {displayName:_0x39fbd3,email:_0x16849b}=_0x162788;this[_0x39558c(0x2f3)][_0x39558c(0x379)](_0x54345b,new _0x5dfc16(_0x54345b,_0x39fbd3,_0x16849b,new Set(_0x43ecf2),_0x5f022a,_0x4daf20));break;case _0x44eeae[_0x39558c(0x423)][_0x39558c(0x431)]:this['graphService'][_0x39558c(0x379)](_0x54345b,new _0x1b25ac(_0x54345b,new Set(_0x43ecf2),_0x5f022a,_0x4daf20));}this[_0x39558c(0x6f2)](_0x54345b,_0x4daf20),this[_0x39558c(0x16d)]();}[_0x5a261d(0x4ed)](_0x199cd0){const _0x5c16ca=_0x5a261d;this[_0x5c16ca(0x30a)][_0x5c16ca(0x3b8)]({'sourceId':_0x4f18fa,'messageType':_0x3a54c1[_0x5c16ca(0x432)],'content':{'type':_0x2d2d29[_0x5c16ca(0x5ec)],'id':_0x199cd0}});}[_0x5a261d(0x60d)](_0x37b8d1){const _0x5ac4a3=_0x5a261d;this[_0x5ac4a3(0x30a)]?.[_0x5ac4a3(0x3b8)]({'sourceId':_0x4f18fa,'messageType':_0x3a54c1[_0x5ac4a3(0x432)],'content':{'type':_0x2d2d29[_0x5ac4a3(0x152)],'id':_0x37b8d1}});}[_0x5a261d(0x6ce)](_0x10f07c){const _0x52b02b=_0x5a261d;if(_0x10f07c===this[_0x52b02b(0x783)][_0x52b02b(0x591)]())return this[_0x52b02b(0x54e)]['mediator'][_0x52b02b(0x57e)](_0x52b02b(0x5a7),{'id':_0x10f07c}),this[_0x52b02b(0x54e)][_0x52b02b(0x6d7)][_0x52b02b(0x3e3)](!0x0),this[_0x52b02b(0x54e)]['mediator']['open'](),void this[_0x52b02b(0x54e)][_0x52b02b(0x6d7)]['initialize']();this[_0x52b02b(0x60d)](_0x10f07c);}[_0x5a261d(0x5c7)](_0xb9d879){const _0x13bf1a=_0x5a261d;this[_0x13bf1a(0x183)][_0x13bf1a(0x49a)](_0xb9d879)?this[_0x13bf1a(0x59f)](_0xb9d879):this[_0x13bf1a(0x783)][_0x13bf1a(0x359)]()[_0x13bf1a(0x644)](_0xb9d879)&&this[_0x13bf1a(0x14b)](_0xb9d879),this['localNode']['removeRemoteConnection'](_0xb9d879);const _0x194458=Array[_0x13bf1a(0x61e)](this[_0x13bf1a(0x4e9)][_0x13bf1a(0x580)]())[_0x13bf1a(0x19f)](([,_0x273d5f])=>_0x273d5f==_0x273d5f);_0x194458&&this[_0x13bf1a(0x4e9)][_0x13bf1a(0x20a)](_0x194458[0x0]);const _0xbc26b2=this[_0x13bf1a(0x2f3)][_0x13bf1a(0x51b)](_0xb9d879);if(!_0xbc26b2)return;const _0x3f8222=_0xbc26b2[_0x13bf1a(0x67e)](),_0x14afb1=this[_0x13bf1a(0x783)]['getRank']();_0x14afb1&&_0x3f8222&&_0x3f8222<_0x14afb1&&this[_0x13bf1a(0x783)][_0x13bf1a(0x58f)](_0x14afb1-0x1,!0x1),Array[_0x13bf1a(0x61e)](this[_0x13bf1a(0x2f3)][_0x13bf1a(0x6d0)]()[_0x13bf1a(0x741)]())['forEach'](_0x381ebd=>{const _0x18a3df=_0x13bf1a,_0x3c2dd6=_0x381ebd[_0x18a3df(0x67e)]();_0x3c2dd6&&_0x3f8222&&_0x3f8222<_0x3c2dd6&&_0x381ebd['setRank'](_0x3c2dd6-0x1);}),_0xbc26b2[_0x13bf1a(0x6f9)](_0x420111[_0x13bf1a(0x166)]),this[_0x13bf1a(0x54e)]['mediator'][_0x13bf1a(0x57e)](_0xbc26b2[_0x13bf1a(0x274)]+'-leave',{'id':_0xb9d879});}[_0x5a261d(0x52a)]({id:_0x11e3a0,metaData:_0x196662,remoteConnections:_0x37fbd7}){const _0x472107=_0x5a261d;switch(_0x196662[_0x472107(0x274)]){case _0x44eeae['NodeType'][_0x472107(0x377)]:this['configs'][_0x472107(0x6d7)][_0x472107(0x57e)](_0x472107(0x1b2),{'id':_0x11e3a0,'metaData':_0x196662,'remoteConnections':_0x37fbd7});break;case _0x44eeae[_0x472107(0x423)][_0x472107(0x431)]:this['configs'][_0x472107(0x6d7)][_0x472107(0x57e)]('agent-join',{'id':_0x11e3a0,'metaData':_0x196662,'remoteConnections':_0x37fbd7});}}[_0x5a261d(0x72d)]({id:_0x15fcd4,metaData:_0x1e51d0,remoteConnections:_0x5d043c}){const _0x466a79=_0x5a261d;switch(_0x1e51d0[_0x466a79(0x274)]){case _0x44eeae[_0x466a79(0x423)][_0x466a79(0x377)]:this[_0x466a79(0x54e)][_0x466a79(0x6d7)][_0x466a79(0x57e)](_0x466a79(0x424),{'id':_0x15fcd4,'metaData':_0x1e51d0,'remoteConnections':_0x5d043c});break;case _0x44eeae[_0x466a79(0x423)]['Agent']:this['configs']['mediator'][_0x466a79(0x57e)](_0x466a79(0x1d9),{'id':_0x15fcd4,'metaData':_0x1e51d0,'remoteConnections':_0x5d043c});}}[_0x5a261d(0x16d)](){const _0x58eee9=_0x5a261d;if(this['lastProcessRank']||(this[_0x58eee9(0x6cc)]=Date[_0x58eee9(0x4e6)]()),this['debounceProcessRank']){if(Date['now']()-this['lastProcessRank']>0x2328)return;clearTimeout(this[_0x58eee9(0x3a3)]);}this['debounceProcessRank']=setTimeout(async()=>{const _0x3bc7e2=_0x58eee9;delete this['lastProcessRank'],delete this[_0x3bc7e2(0x3a3)];const _0x308987=this[_0x3bc7e2(0x783)][_0x3bc7e2(0x67e)]();if(!_0x308987)return;const _0x4ca321=this[_0x3bc7e2(0x2f3)]['getCurrentMaxLayer'](this[_0x3bc7e2(0x2f3)]['getRemoteNodes']()[_0x3bc7e2(0x101)]);if(this['optimizationLayers'][_0x3bc7e2(0x101)]>=_0x4ca321)return;let _0x2c08a0=0x1;for(;this['configs'][_0x3bc7e2(0x6d7)][_0x3bc7e2(0x67d)]()[_0x3bc7e2(0x553)]<this[_0x3bc7e2(0x2f3)][_0x3bc7e2(0x42e)]()&&_0x2c08a0<=_0x4ca321;){if(this[_0x3bc7e2(0x4e9)]['has'](_0x2c08a0)){_0x2c08a0+=0x1;continue;}const _0x30a265=this['graphService'][_0x3bc7e2(0x5a2)](_0x308987,_0x2c08a0),_0x457073=Array[_0x3bc7e2(0x61e)](this[_0x3bc7e2(0x2f3)][_0x3bc7e2(0x6d0)]()[_0x3bc7e2(0x741)]())[_0x3bc7e2(0x19f)](_0x1145be=>_0x1145be[_0x3bc7e2(0x67e)]()===_0x30a265&&_0x1145be[_0x3bc7e2(0x1b6)]()===_0x420111['Online']);if(_0x457073){try{await this[_0x3bc7e2(0x54e)]['mediator'][_0x3bc7e2(0x602)](_0x457073[_0x3bc7e2(0x591)](),_0x4c1abf[_0x3bc7e2(0x351)]),this['optimizationLayers'][_0x3bc7e2(0x1a1)](_0x2c08a0,_0x457073[_0x3bc7e2(0x591)]());}catch(_0x30a188){if(!(_0x30a188 instanceof _0x2826e7&&_0x30a188[_0x3bc7e2(0x509)]===_0x2826e7[_0x3bc7e2(0x776)][_0x3bc7e2(0x593)]))throw _0x30a188;_0x50fe93[_0x3bc7e2(0x287)](_0x2d7d49[_0x3bc7e2(0x432)],this[_0x3bc7e2(0x783)][_0x3bc7e2(0x591)](),_0x457073[_0x3bc7e2(0x591)](),_0x30a188[_0x3bc7e2(0x1c3)]);}_0x2c08a0+=0x1;}else _0x2c08a0+=0x1;}},0x3e8);}async[_0x5a261d(0x59f)](_0x1147dd){const _0x341cf7=_0x5a261d;this[_0x341cf7(0x183)][_0x341cf7(0x6ef)](this[_0x341cf7(0x183)][_0x341cf7(0x1fb)](_0x1147dd),0x1);const _0x1bb82f=await this[_0x341cf7(0x772)][_0x341cf7(0x2fa)]();for(const _0x1f706c of _0x1bb82f)if(!this[_0x341cf7(0x183)][_0x341cf7(0x49a)](_0x1f706c)){const _0x340cc9=Array[_0x341cf7(0x61e)](this[_0x341cf7(0x4e9)][_0x341cf7(0x580)]())[_0x341cf7(0x19f)](([,_0x3e5674])=>_0x3e5674===_0x1f706c);_0x340cc9&&this[_0x341cf7(0x4e9)][_0x341cf7(0x20a)](_0x340cc9[0x0]),this['configs'][_0x341cf7(0x6d7)][_0x341cf7(0x602)](_0x1f706c,_0x4c1abf[_0x341cf7(0x33f)]);}0x0===_0x1bb82f[_0x341cf7(0x553)]&&this[_0x341cf7(0x783)][_0x341cf7(0x58f)](0x1),this[_0x341cf7(0x183)]=_0x1bb82f;}async[_0x5a261d(0x14b)](_0x4130a9){const _0x3c4d3c=_0x5a261d,_0x2aa5fc=this[_0x3c4d3c(0x783)][_0x3c4d3c(0x67e)]();if(!_0x2aa5fc)return;const _0x6da327=this[_0x3c4d3c(0x2f3)][_0x3c4d3c(0x51b)](_0x4130a9);if(!_0x6da327||_0x6da327[_0x3c4d3c(0x1b6)]()===_0x420111[_0x3c4d3c(0x166)])return;const _0x598949=_0x6da327['getRank']();if(!_0x598949||_0x598949<_0x2aa5fc)return;const _0x5520f4=this[_0x3c4d3c(0x1eb)](this[_0x3c4d3c(0x783)][_0x3c4d3c(0x359)](),_0x2aa5fc),_0x5c2e05=this['getOutgoingOptimizationConnections'](_0x6da327['getRemoteConnections'](),_0x598949)[_0x5520f4[_0x3c4d3c(0xf6)](([_0x5a25ce])=>_0x5a25ce===_0x4130a9)];if(!_0x5c2e05||this['localNode'][_0x3c4d3c(0x359)]()['has'](_0x5c2e05[0x0]))return;const _0x340be2=this['graphService']['getRemoteNode'](_0x5c2e05[0x0]);if(_0x340be2&&_0x340be2['getStatus']()!==_0x420111[_0x3c4d3c(0x166)])try{await this[_0x3c4d3c(0x54e)][_0x3c4d3c(0x6d7)][_0x3c4d3c(0x602)](_0x5c2e05[0x0],_0x4c1abf[_0x3c4d3c(0x351)]);const _0x435cf3=Array['from'](this['optimizationLayers'][_0x3c4d3c(0x580)]())[_0x3c4d3c(0x19f)](([,_0xc23dc2])=>_0xc23dc2===_0x4130a9);_0x435cf3&&this[_0x3c4d3c(0x4e9)][_0x3c4d3c(0x1a1)](_0x435cf3[0x0],_0x5c2e05[0x0]);}catch(_0x22710e){if(!(_0x22710e instanceof _0x2826e7&&_0x22710e[_0x3c4d3c(0x509)]===_0x2826e7[_0x3c4d3c(0x776)]['RemoteConnectionExists']))throw _0x22710e;_0x50fe93['log'](_0x2d7d49[_0x3c4d3c(0x432)],this[_0x3c4d3c(0x783)][_0x3c4d3c(0x591)](),_0x5c2e05[0x0],_0x22710e[_0x3c4d3c(0x1c3)]);}}[_0x5a261d(0x1eb)](_0x49d7b7,_0x1dba4c){const _0x3c0aa1=_0x5a261d;return Array[_0x3c0aa1(0x61e)](_0x49d7b7)[_0x3c0aa1(0x3f1)]((_0xf1269f,_0x3e56ee)=>{const _0x5bbfbe=_0x3c0aa1,_0x3f8210=this[_0x5bbfbe(0x2f3)][_0x5bbfbe(0x51b)](_0x3e56ee);if(!_0x3f8210||_0x3f8210[_0x5bbfbe(0x1b6)]()===_0x420111[_0x5bbfbe(0x166)])return _0xf1269f;const _0x42cce5=_0x3f8210[_0x5bbfbe(0x67e)]();if(!_0x42cce5)return _0xf1269f;const _0x43bd27=_0x42cce5-_0x1dba4c;return _0x43bd27<=this[_0x5bbfbe(0x2f3)][_0x5bbfbe(0x322)]()||_0xf1269f[_0x5bbfbe(0x6bc)]([_0x3e56ee,_0x43bd27]),_0xf1269f;},[])[_0x3c0aa1(0x719)](([,_0x4c6161],[,_0x3c5b15])=>_0x4c6161-_0x3c5b15);}}const _0x4692a3=[{'problemType':_0x5dbcce[_0x5a261d(0x3ed)],'remediations':[{'type':_0x3382d7[_0x5a261d(0x378)],'component':_0x542625[_0x5a261d(0x5da)],'action':_0x4c335d[_0x5a261d(0x266)]},{'type':_0x3382d7[_0x5a261d(0x2f9)],'component':_0x542625[_0x5a261d(0x5da)],'action':_0x4c335d[_0x5a261d(0x266)]}]},{'problemType':_0x5dbcce[_0x5a261d(0x5db)],'remediations':[{'type':_0x3382d7[_0x5a261d(0x378)],'component':_0x542625['Resolution'],'action':_0x4c335d[_0x5a261d(0x266)]}]},{'problemType':_0x5dbcce['AudioVideoDelay'],'remediations':[{'type':_0x3382d7['Remediation'],'component':_0x542625[_0x5a261d(0x5da)],'action':_0x4c335d[_0x5a261d(0x266)]}]},{'problemType':_0x5dbcce[_0x5a261d(0x3fe)],'remediations':[{'type':_0x3382d7[_0x5a261d(0x378)],'component':_0x542625[_0x5a261d(0x5da)],'action':_0x4c335d[_0x5a261d(0x266)]}]},{'problemType':_0x5dbcce['Bitrate'],'remediations':[{'type':_0x3382d7[_0x5a261d(0x378)],'component':_0x542625[_0x5a261d(0x1bb)],'action':_0x4c335d[_0x5a261d(0x266)]}]},{'problemType':_0x5dbcce[_0x5a261d(0x6b6)],'remediations':[{'type':_0x3382d7[_0x5a261d(0x378)],'component':_0x542625[_0x5a261d(0x1bb)],'action':_0x4c335d[_0x5a261d(0x266)]}]},{'problemType':_0x5dbcce['RoundTripTime'],'remediations':[{'type':_0x3382d7[_0x5a261d(0x378)],'component':_0x542625['Bitrate'],'action':_0x4c335d[_0x5a261d(0x266)]}]}];class _0x59f41c{[_0x5a261d(0x54e)];[_0x5a261d(0x30a)];['lastRemediations']=new Map();constructor(_0x353203){const _0x273364=_0x5a261d;this[_0x273364(0x54e)]=_0x353203,this[_0x273364(0x54e)][_0x273364(0x6d7)][_0x273364(0x334)](this);}[_0x5a261d(0x3e3)](){const _0x3ed252=_0x5a261d;this['configs'][_0x3ed252(0x6d7)][_0x3ed252(0x6f3)](this);}[_0x5a261d(0x126)](_0x19a113){this['systemTopic']=_0x19a113;}[_0x5a261d(0x5bc)](){delete this['systemTopic'];}[_0x5a261d(0x3ce)](_0x324a77){const _0xdeaba1=_0x5a261d;_0x324a77[_0xdeaba1(0x365)][_0xdeaba1(0x274)]===_0x15dead[_0xdeaba1(0x406)]&&this['handleProblem'](_0x324a77['content'][_0xdeaba1(0x5f0)]);}['handleRemediationSystemEvents'](_0x1ee546){const _0xda8763=_0x5a261d;_0x1ee546[_0xda8763(0x365)]['type']===_0x3382d7['RemoteRemediation']&&this[_0xda8763(0x38e)](_0x1ee546[_0xda8763(0x6f8)],{'type':_0x3382d7[_0xda8763(0x378)],'component':_0x1ee546[_0xda8763(0x365)][_0xda8763(0x5f0)][_0xda8763(0x786)],'action':_0x1ee546[_0xda8763(0x365)][_0xda8763(0x5f0)]['action']});}[_0x5a261d(0x6ec)](_0x34c796){const _0x47eab2=_0x5a261d,_0xe4bd8b=_0x4692a3[_0x47eab2(0x19f)](_0x448468=>_0x448468[_0x47eab2(0x5e1)]===_0x34c796[_0x47eab2(0x274)]);_0xe4bd8b[_0x47eab2(0x207)]?.[_0x47eab2(0x675)](_0x415afe=>{const _0x33257c=_0x47eab2;this[_0x33257c(0x38e)](_0x34c796[_0x33257c(0x738)],{'type':_0x34c796[_0x33257c(0x6e0)]===_0x16cef7[_0x33257c(0x306)]?_0x3382d7[_0x33257c(0x378)]:_0x3382d7[_0x33257c(0x2f9)],'component':_0x415afe['component'],'action':_0x415afe['action']});});}['applyRemediation'](_0x41b2ec,_0x218ad6){const _0x5131a5=_0x5a261d;if(_0x218ad6[_0x5131a5(0x274)]===_0x3382d7[_0x5131a5(0x378)]){const _0x49d9c4=Date[_0x5131a5(0x4e6)](),_0x3420c7=this['lastRemediations'][_0x5131a5(0x568)](_0x41b2ec);if(_0x3420c7&&_0x49d9c4-_0x3420c7<0x1388)return;this['lastRemediations'][_0x5131a5(0x1a1)](_0x41b2ec,_0x49d9c4);}_0x50fe93[_0x5131a5(0x287)](_0x2d7d49[_0x5131a5(0x378)],_0x5131a5(0x5df),_0x218ad6),_0x50fe93[_0x5131a5(0x3cb)](_0x5131a5(0x305),{'clusterId':this[_0x5131a5(0x54e)][_0x5131a5(0x1f3)],'nodeId':this[_0x5131a5(0x54e)][_0x5131a5(0x783)][_0x5131a5(0x591)](),'nodeType':this[_0x5131a5(0x54e)][_0x5131a5(0x783)][_0x5131a5(0x274)],'remoteId':_0x41b2ec,'data':{'type':_0x218ad6['type'],'component':_0x218ad6['component'],'action':_0x218ad6[_0x5131a5(0x506)]}});let _0x328610,_0x9eb32=_0x4f18fa;_0x218ad6[_0x5131a5(0x274)]===_0x3382d7['RemoteRemediation']&&(_0x9eb32=this['configs'][_0x5131a5(0x783)][_0x5131a5(0x591)](),_0x328610=[_0x41b2ec]),this[_0x5131a5(0x30a)][_0x5131a5(0x3b8)]({'sourceId':_0x9eb32,'destinationIds':_0x328610,'messageType':_0x3a54c1[_0x5131a5(0x378)],'content':{'type':_0x218ad6[_0x5131a5(0x274)],'targetId':_0x41b2ec,'data':_0x218ad6}});}}const _0xe39d75=0x3e8,_0x1c72a8=0x7530,_0x322787=_0x5a261d(0x6c3),_0x1154a5=_0x5a261d(0x6b7),_0x56fc49=_0x5a261d(0x2f8),_0x4f10aa=[_0x322787,_0x1154a5],_0x5bd6cb=[_0x56fc49];class _0x75bfed{['roundTripTime']=0x0;[_0x5a261d(0x381)]=0x0;['jitter']=0x0;[_0x5a261d(0x1ee)]=0x0;[_0x5a261d(0x5b2)]=0x0;[_0x5a261d(0x3c6)]=0x0;['previousTimestamp']=0x0;['currentBytes']=0x0;['previousBytes']=0x0;get[_0x5a261d(0x323)](){const _0x400ccf=_0x5a261d;return this[_0x400ccf(0x3c6)]>0x0&&this['previousTimestamp']>0x0&&Date[_0x400ccf(0x4e6)]()-this[_0x400ccf(0x3c6)]<_0x1c72a8?(this[_0x400ccf(0x403)]-this[_0x400ccf(0x10a)])/(this[_0x400ccf(0x3c6)]-this['previousTimestamp'])*0x8*0x3e8:0x0;}['processReport'](_0x2f422e){const _0x8fbbfd=_0x5a261d;switch(_0x2f422e['type']){case _0x56fc49:this[_0x8fbbfd(0x4e1)](_0x2f422e);break;case _0x322787:this[_0x8fbbfd(0x733)](_0x2f422e);break;case _0x1154a5:this[_0x8fbbfd(0x55f)](_0x2f422e);}}[_0x5a261d(0x37c)](){const _0x5563dd=_0x5a261d;return{'bitrate':this[_0x5563dd(0x323)],'packetsLostPerc':this[_0x5563dd(0x2ec)](),'roundTripTime':this[_0x5563dd(0x316)],'jitter':this[_0x5563dd(0x524)]};}[_0x5a261d(0x4e1)](_0x41a893){const _0x4d12ec=_0x5a261d;this[_0x4d12ec(0x229)](_0x41a893[_0x4d12ec(0x608)]),this[_0x4d12ec(0x71c)](_0x41a893[_0x4d12ec(0x383)]),this[_0x4d12ec(0x5b2)]=_0x41a893[_0x4d12ec(0x161)],this[_0x4d12ec(0x1ee)]=_0x41a893[_0x4d12ec(0x1ee)],void 0x0!==_0x41a893[_0x4d12ec(0x524)]?this[_0x4d12ec(0x524)]=_0x41a893[_0x4d12ec(0x524)]:this[_0x4d12ec(0x524)]=0x0,void 0x0!==_0x41a893['estimatedPlayoutTimestamp']?this[_0x4d12ec(0x381)]=_0x41a893['estimatedPlayoutTimestamp']:this[_0x4d12ec(0x381)]=0x0;}['processOutboundReport'](_0x4affc8){const _0x120e90=_0x5a261d;this[_0x120e90(0x229)](_0x4affc8['bytesSent']),this['setTimestamp'](_0x4affc8[_0x120e90(0x383)]),this[_0x120e90(0x5b2)]=_0x4affc8['packetsSent'];}[_0x5a261d(0x55f)](_0x3c84cc){const _0x4552f5=_0x5a261d;this[_0x4552f5(0x316)]=0x3e8*_0x3c84cc[_0x4552f5(0x316)],void 0x0!==_0x3c84cc[_0x4552f5(0x524)]?this['jitter']=_0x3c84cc[_0x4552f5(0x524)]:this['jitter']=0x0;}[_0x5a261d(0x2ec)](){const _0x3a4bc4=_0x5a261d;return this[_0x3a4bc4(0x5b2)]>0x0?this['packetsLost']/this[_0x3a4bc4(0x5b2)]:0x0;}[_0x5a261d(0x71c)](_0x52e6e7){const _0x4cccae=_0x5a261d;_0x52e6e7>this[_0x4cccae(0x3c6)]&&(this[_0x4cccae(0x3f2)]=this[_0x4cccae(0x3c6)],this[_0x4cccae(0x3c6)]=_0x52e6e7);}[_0x5a261d(0x229)](_0x207f28){const _0x3c68b7=_0x5a261d;this[_0x3c68b7(0x10a)]=this[_0x3c68b7(0x403)],this[_0x3c68b7(0x403)]=_0x207f28;}}class _0x87833c extends _0x75bfed{}class _0x1cb2a7 extends _0x75bfed{['frameTime']=0x0;[_0x5a261d(0x443)]=0x0;['frameHeight']=0x0;[_0x5a261d(0x1c2)]=0x0;[_0x5a261d(0x362)]=0x0;get[_0x5a261d(0x34f)](){const _0x57f6ca=_0x5a261d;return this[_0x57f6ca(0x3c6)]>0x0&&this[_0x57f6ca(0x3f2)]>0x0&&Date[_0x57f6ca(0x4e6)]()-this['currentTimestamp']<_0x1c72a8?(this[_0x57f6ca(0x1c2)]-this[_0x57f6ca(0x362)])/(this['currentTimestamp']-this[_0x57f6ca(0x3f2)])*0x3e8:0x0;}get[_0x5a261d(0x1a5)](){const _0x3fba76=_0x5a261d;return this[_0x3fba76(0x376)]&&this[_0x3fba76(0x1c2)]&&this['currentFrames']>0x0?this[_0x3fba76(0x376)]/this['currentFrames']:0x0;}set[_0x5a261d(0x6e4)](_0x4f315a){const _0x114f5d=_0x5a261d;this['previousFrames']=this[_0x114f5d(0x1c2)],this[_0x114f5d(0x1c2)]=_0x4f315a;}[_0x5a261d(0x37c)](){const _0x348b0a=_0x5a261d;return{...super[_0x348b0a(0x37c)](),'FPS':this['fps'],'timePerFrame':this['timePerFrame'],'frameWidth':this[_0x348b0a(0x443)],'frameHeight':this[_0x348b0a(0x139)]};}['processInboundReport'](_0x5e5d52){const _0x1fef2d=_0x5a261d;super[_0x1fef2d(0x4e1)](_0x5e5d52),this[_0x1fef2d(0x376)]=_0x5e5d52['totalDecodeTime'],this['frames']=_0x5e5d52['framesDecoded'],this[_0x1fef2d(0x443)]=_0x5e5d52[_0x1fef2d(0x443)],this[_0x1fef2d(0x139)]=_0x5e5d52[_0x1fef2d(0x139)];}[_0x5a261d(0x733)](_0x3dbeeb){const _0xa1022a=_0x5a261d;super[_0xa1022a(0x733)](_0x3dbeeb),this[_0xa1022a(0x376)]=_0x3dbeeb[_0xa1022a(0x4b4)],this['frames']=_0x3dbeeb[_0xa1022a(0x25a)],this[_0xa1022a(0x443)]=_0x3dbeeb[_0xa1022a(0x443)],this['frameHeight']=_0x3dbeeb[_0xa1022a(0x139)];}}class _0x9e5559{[_0x5a261d(0x422)]=new _0x87833c();['video']=new _0x1cb2a7();get[_0x5a261d(0x323)](){const _0x185846=_0x5a261d;return this[_0x185846(0x422)][_0x185846(0x323)]+this[_0x185846(0x135)][_0x185846(0x323)];}[_0x5a261d(0x195)](_0x5b463b){return _0x5b463b['forEach'](_0x419d18=>{const _0x4f2a9c=a0_0x3f62;switch(_0x419d18['kind']){case _0x4f2a9c(0x422):this['audio'][_0x4f2a9c(0x3a1)](_0x419d18);break;case _0x4f2a9c(0x135):this[_0x4f2a9c(0x135)][_0x4f2a9c(0x3a1)](_0x419d18);}}),this['getReport']();}[_0x5a261d(0x37c)](){const _0x3443a2=_0x5a261d;return{'audio':this['audio'][_0x3443a2(0x37c)](),'video':this[_0x3443a2(0x135)][_0x3443a2(0x37c)](),'roundTripTime':this[_0x3443a2(0x2e6)](),'AudioVideoDelay':this[_0x3443a2(0x233)](),'bitrate':this['bitrate']};}[_0x5a261d(0x2e6)](){const _0x236045=_0x5a261d;return Math[_0x236045(0x601)]((this[_0x236045(0x422)][_0x236045(0x316)]+this[_0x236045(0x135)][_0x236045(0x316)])/0x2);}[_0x5a261d(0x233)](){const _0x1cd189=_0x5a261d;return this[_0x1cd189(0x422)][_0x1cd189(0x381)]-this['video']['estimatedPlayoutTimestamp'];}}class _0x2e1f35{[_0x5a261d(0x314)]=0x0;[_0x5a261d(0x731)]=0x0;[_0x5a261d(0x50c)]=0x0;[_0x5a261d(0x643)]=0x0;[_0x5a261d(0x1bf)]=0x0;['senderPreviousBytes']=0x0;[_0x5a261d(0x168)]=0x0;['receiverPreviousBytes']=0x0;[_0x5a261d(0x5b8)]=0x0;[_0x5a261d(0x6a2)]=0x0;['senderTimeProcessing']=0x0;[_0x5a261d(0x429)]=0x0;[_0x5a261d(0x316)]=0x0;get['bitrate'](){const _0x432900=_0x5a261d;return this[_0x432900(0x106)]+this[_0x432900(0x3de)];}get[_0x5a261d(0x106)](){const _0x564602=_0x5a261d;return this[_0x564602(0x314)]>0x0&&this[_0x564602(0x731)]>0x0&&Date[_0x564602(0x4e6)]()-this['senderCurrentTimestamp']<_0x1c72a8?(this['senderCurrentBytes']-this[_0x564602(0x3bf)])/(this[_0x564602(0x314)]-this[_0x564602(0x731)])*0x8*0x3e8:0x0;}get[_0x5a261d(0x3de)](){const _0x3f5d0f=_0x5a261d;return this['receiverCurrentTimestamp']>0x0&&this[_0x3f5d0f(0x643)]>0x0&&Date['now']()-this['receiverCurrentTimestamp']<_0x1c72a8?(this[_0x3f5d0f(0x168)]-this[_0x3f5d0f(0x744)])/(this['receiverCurrentTimestamp']-this['receiverPreviousTimestamp'])*0x8*0x3e8:0x0;}['processReport'](_0x160b9e){const _0x5c7c1b=_0x5a261d;switch(_0x160b9e['origin']){case _0x16cef7[_0x5c7c1b(0x306)]:this[_0x5c7c1b(0x2bb)](_0x160b9e);break;case _0x16cef7[_0x5c7c1b(0x6b4)]:this[_0x5c7c1b(0x475)](_0x160b9e);}}[_0x5a261d(0x37c)](){const _0x1616e8=_0x5a261d;return{'bitrate':this[_0x1616e8(0x323)],'senderBitrate':this[_0x1616e8(0x106)],'receiverBitrate':this['receiverBitrate'],'totalBytes':this[_0x1616e8(0x181)](),'senderTotalBytes':this[_0x1616e8(0x187)](),'receiverTotalBytes':this[_0x1616e8(0x42b)](),'totalMessages':this[_0x1616e8(0x5b8)]+this[_0x1616e8(0x6a2)],'senderTotalMessages':this['senderTotalMessages'],'receiverTotalMessages':this[_0x1616e8(0x6a2)],'timeProcessing':this[_0x1616e8(0x4de)]+this[_0x1616e8(0x429)],'senderTimeProcessing':this[_0x1616e8(0x4de)],'receiverTimeProcessing':this[_0x1616e8(0x429)],'roundTripTime':this[_0x1616e8(0x316)]};}[_0x5a261d(0x181)](){const _0x209ac1=_0x5a261d;return this[_0x209ac1(0x1bf)]+this[_0x209ac1(0x168)];}['getSenderTotalBytes'](){const _0x1c2769=_0x5a261d;return this[_0x1c2769(0x1bf)];}[_0x5a261d(0x42b)](){const _0x183693=_0x5a261d;return this[_0x183693(0x168)];}[_0x5a261d(0x2bb)](_0x2252f3){const _0x94bebe=_0x5a261d;this[_0x94bebe(0x769)](_0x2252f3['timestamp']),this['setBytes'](_0x2252f3[_0x94bebe(0xf7)]),this[_0x94bebe(0x5b8)]=_0x2252f3[_0x94bebe(0x2e8)],this[_0x94bebe(0x4de)]=_0x2252f3['timeSending'],this['roundTripTime']=_0x2252f3[_0x94bebe(0x316)];}[_0x5a261d(0x475)](_0x555a22){const _0x102440=_0x5a261d;this[_0x102440(0x57c)](_0x555a22[_0x102440(0x383)]),this['setReceiverBytes'](_0x555a22[_0x102440(0x608)]),this[_0x102440(0x6a2)]=_0x555a22['messagesReceived'],this[_0x102440(0x429)]=_0x555a22[_0x102440(0x4db)];}[_0x5a261d(0x769)](_0x4aa05a){const _0x353913=_0x5a261d;_0x4aa05a>this[_0x353913(0x314)]&&(this[_0x353913(0x731)]=this['senderCurrentTimestamp'],this[_0x353913(0x314)]=_0x4aa05a);}[_0x5a261d(0x57c)](_0x1376c8){const _0x1e09ff=_0x5a261d;_0x1376c8>this['receiverCurrentTimestamp']&&(this[_0x1e09ff(0x643)]=this[_0x1e09ff(0x50c)],this[_0x1e09ff(0x50c)]=_0x1376c8);}['setBytes'](_0x11e09d){const _0x487be5=_0x5a261d;this[_0x487be5(0x3bf)]=this['senderCurrentBytes'],this[_0x487be5(0x1bf)]=_0x11e09d;}[_0x5a261d(0x348)](_0x93b7ec){const _0xe94121=_0x5a261d;this[_0xe94121(0x744)]=this[_0xe94121(0x168)],this['receiverCurrentBytes']=_0x93b7ec;}}class _0x334477{[_0x5a261d(0x69f)]=new Map();[_0x5a261d(0x24f)]=new Map();[_0x5a261d(0x391)]=new _0x2e1f35();get[_0x5a261d(0x106)](){const _0x46772d=_0x5a261d;let _0x1a604f=0x0;return this[_0x46772d(0x69f)][_0x46772d(0x675)](_0x4022fc=>{const _0x3b3a2e=_0x46772d;_0x1a604f+=_0x4022fc[_0x3b3a2e(0x323)];}),_0x1a604f+=this['dataChannel'][_0x46772d(0x106)],_0x1a604f;}get[_0x5a261d(0x3de)](){const _0x748b66=_0x5a261d;let _0x1b1501=0x0;return this[_0x748b66(0x24f)]['forEach'](_0x2df6bf=>{_0x1b1501+=_0x2df6bf['bitrate'];}),_0x1b1501+=this[_0x748b66(0x391)][_0x748b66(0x3de)],_0x1b1501;}get[_0x5a261d(0x323)](){const _0x3013fa=_0x5a261d;return this['senderBitrate']+this[_0x3013fa(0x3de)];}[_0x5a261d(0x195)](_0x511122,_0x2d7353){const _0x3a12c1=_0x5a261d,_0x5914a5=[],_0x10443d=[];return _0x511122 instanceof Array?_0x511122[_0x3a12c1(0x675)](_0x213666=>{const _0x438b7b=_0x3a12c1;_0x213666[_0x438b7b(0x675)](_0x464cef=>{const _0x3ba686=_0x438b7b;_0x5bd6cb['includes'](_0x464cef[_0x3ba686(0x274)])&&_0x5914a5[_0x3ba686(0x6bc)](_0x464cef),_0x4f10aa['includes'](_0x464cef[_0x3ba686(0x274)])&&_0x10443d['push'](_0x464cef);});}):this[_0x3a12c1(0x391)][_0x3a12c1(0x3a1)](_0x511122),_0x5914a5['length']>0x0&&_0x2d7353?{...this[_0x3a12c1(0x23d)](_0x2d7353,_0x5914a5),'origin':_0x16cef7[_0x3a12c1(0x6b4)],'streamId':_0x2d7353}:_0x10443d['length']>0x0&&_0x2d7353?{...this[_0x3a12c1(0x1d8)](_0x2d7353,_0x10443d),'origin':_0x16cef7[_0x3a12c1(0x306)],'streamId':_0x2d7353}:void 0x0;}[_0x5a261d(0x37c)](){const _0x543774=_0x5a261d,_0x2b4fee={};this[_0x543774(0x69f)][_0x543774(0x675)]((_0x8d31bf,_0x4a6247)=>{_0x2b4fee[_0x4a6247]=_0x8d31bf['getReport']();});const _0x119deb={};return this[_0x543774(0x24f)]['forEach']((_0x1dce15,_0x54bffd)=>{const _0x52c576=_0x543774;_0x119deb[_0x54bffd]=_0x1dce15[_0x52c576(0x37c)]();}),{'bitrate':this[_0x543774(0x323)],'senderBitrate':this[_0x543774(0x106)],'receiverBitrate':this[_0x543774(0x3de)],'senderStreams':_0x2b4fee,'receiverStreams':_0x119deb,'dataChannel':this[_0x543774(0x391)][_0x543774(0x37c)]()};}[_0x5a261d(0x23d)](_0x136004,_0x1a972b){const _0x572f81=_0x5a261d;return this[_0x572f81(0x24f)]['has'](_0x136004)||this[_0x572f81(0x24f)][_0x572f81(0x1a1)](_0x136004,new _0x9e5559()),this[_0x572f81(0x24f)][_0x572f81(0x568)](_0x136004)[_0x572f81(0x195)](_0x1a972b);}[_0x5a261d(0x1d8)](_0x15da4a,_0x502cf2){const _0x7fe930=_0x5a261d;return this['senderStreams'][_0x7fe930(0x644)](_0x15da4a)||this[_0x7fe930(0x69f)][_0x7fe930(0x1a1)](_0x15da4a,new _0x9e5559()),this[_0x7fe930(0x69f)][_0x7fe930(0x568)](_0x15da4a)[_0x7fe930(0x195)](_0x502cf2);}}class _0x109013{[_0x5a261d(0x1e8)]=new Map();[_0x5a261d(0x5a1)]=0x0;['durationTime']=0x0;[_0x5a261d(0x6aa)]=new Map();[_0x5a261d(0x121)]=new Map();['keyValueDatabases']=new Map();[_0x5a261d(0x758)]=new Map();[_0x5a261d(0x6a6)]=new Map();[_0x5a261d(0x5b8)]=new Map();[_0x5a261d(0x6a2)]=new Map();[_0x5a261d(0x4de)]=new Map();[_0x5a261d(0x429)]=new Map();[_0x5a261d(0x49d)]=new Map();[_0x5a261d(0x30a)];[_0x5a261d(0x37c)](){const _0x2e6891=_0x5a261d,_0x37d32c={};this[_0x2e6891(0x1e8)][_0x2e6891(0x675)]((_0x107403,_0x329770)=>{_0x37d32c[_0x329770]=_0x107403['getReport']();});let _0x40c7b8=0x0;this[_0x2e6891(0x4de)][_0x2e6891(0x675)](_0x544a12=>{_0x40c7b8+=_0x544a12;});let _0x1f31fe=0x0;this['receiverTimeProcessing'][_0x2e6891(0x675)](_0x3f99be=>{_0x1f31fe+=_0x3f99be;});const _0x85f2f7=_0x40c7b8+_0x1f31fe;let _0x384bf8={'messages':{'total':0x0}};this[_0x2e6891(0x49d)][_0x2e6891(0x675)](_0x3afb2a=>{const _0x5b6f93=_0x2e6891;Object[_0x5b6f93(0x472)](_0x3afb2a)['forEach'](_0x1b0c24=>{const _0x27698c=_0x5b6f93;_0x384bf8[_0x1b0c24]||(_0x384bf8[_0x1b0c24]={}),Object[_0x27698c(0x472)](_0x3afb2a[_0x1b0c24])['forEach'](_0xe41270=>{_0x384bf8[_0x1b0c24][_0xe41270]||(_0x384bf8[_0x1b0c24][_0xe41270]=0x0),_0x384bf8[_0x1b0c24][_0xe41270]+=_0x3afb2a[_0x1b0c24][_0xe41270];});});});let _0x365e2f=0x0,_0x264cb4=0x0,_0x5a76bf=0x0,_0x7bf1dd=0x0,_0x5756de=0x0;return this[_0x2e6891(0x6aa)][_0x2e6891(0x675)](_0x5c3ccc=>{const _0x23d59d=_0x2e6891;_0x264cb4+=_0x5c3ccc[_0x23d59d(0x2e8)],_0x5a76bf+=_0x5c3ccc[_0x23d59d(0x35f)],_0x7bf1dd+=_0x5c3ccc[_0x23d59d(0xf7)],_0x5756de+=_0x5c3ccc[_0x23d59d(0x608)];}),this['objectStores'][_0x2e6891(0x675)](_0x1a22b1=>{const _0x526d6c=_0x2e6891;_0x365e2f+=_0x1a22b1[_0x526d6c(0x5d3)],_0x264cb4+=_0x1a22b1[_0x526d6c(0x2e8)],_0x5a76bf+=_0x1a22b1['messagesReceived'],_0x7bf1dd+=_0x1a22b1['bytesSent'],_0x5756de+=_0x1a22b1[_0x526d6c(0x608)];}),this[_0x2e6891(0x6c0)][_0x2e6891(0x675)](_0x200707=>{const _0x51ec53=_0x2e6891;_0x365e2f+=_0x200707[_0x51ec53(0x5d3)],_0x264cb4+=_0x200707['messagesSent'],_0x5a76bf+=_0x200707['messagesReceived'],_0x7bf1dd+=_0x200707[_0x51ec53(0xf7)],_0x5756de+=_0x200707['bytesReceived'];}),this['generativeAIContexts'][_0x2e6891(0x675)](_0x4aec57=>{const _0x4359f6=_0x2e6891;_0x365e2f+=_0x4aec57[_0x4359f6(0x5d3)],_0x264cb4+=_0x4aec57['messagesSent'],_0x5a76bf+=_0x4aec57[_0x4359f6(0x35f)],_0x7bf1dd+=_0x4aec57[_0x4359f6(0xf7)],_0x5756de+=_0x4aec57['bytesReceived'];}),this[_0x2e6891(0x6a6)][_0x2e6891(0x675)](_0x38f4e3=>{const _0x1153f2=_0x2e6891;_0x365e2f+=_0x38f4e3[_0x1153f2(0x5d3)],_0x264cb4+=_0x38f4e3[_0x1153f2(0x2e8)],_0x5a76bf+=_0x38f4e3['messagesReceived'],_0x7bf1dd+=_0x38f4e3[_0x1153f2(0xf7)],_0x5756de+=_0x38f4e3[_0x1153f2(0x608)];}),{'STVolatility':this['getSTVolatility'](),'DTVolatility':this[_0x2e6891(0x389)](),'bitrate':this[_0x2e6891(0x752)](),'senderBitrate':this[_0x2e6891(0x174)](),'receiverBitrate':this['getReceiverBitrate'](),'totalStorageSize':_0x365e2f,'totalMessages':_0x264cb4+_0x5a76bf,'totalMessagesSent':_0x264cb4,'totalMessagesReceived':_0x5a76bf,'totalBytes':_0x7bf1dd+_0x5756de,'totalBytesSent':_0x7bf1dd,'totalBytesReceived':_0x5756de,'systemMessages':_0x384bf8,'timeProcessing':_0x85f2f7,'nodes':_0x37d32c,'pubsubTopics':Object[_0x2e6891(0x63a)](this['pubsubTopics']),'objectStores':Object[_0x2e6891(0x63a)](this[_0x2e6891(0x121)]),'keyValueDatabases':Object[_0x2e6891(0x63a)](this[_0x2e6891(0x6c0)]),'generativeAIContexts':Object[_0x2e6891(0x63a)](this[_0x2e6891(0x758)]),'generativeAIWorkers':Object[_0x2e6891(0x63a)](this[_0x2e6891(0x6a6)])};}['addRemoteNode'](_0x17aa58){const _0x3224d0=_0x5a261d;this[_0x3224d0(0x1e8)][_0x3224d0(0x1a1)](_0x17aa58,new _0x334477());}[_0x5a261d(0x673)](_0x1aadbd){const _0x2a6bf7=_0x5a261d;this[_0x2a6bf7(0x1e8)][_0x2a6bf7(0x20a)](_0x1aadbd);}[_0x5a261d(0x195)](_0x38d11a,_0x35fc65,_0x4bfc0c){const _0xfd464b=_0x5a261d;_0x35fc65 instanceof Array||this[_0xfd464b(0x290)](_0x38d11a,_0x35fc65);const _0x442b56=this['nodes'][_0xfd464b(0x568)](_0x38d11a)?.['processReports'](_0x35fc65,_0x4bfc0c);_0x442b56&&this[_0xfd464b(0x30a)][_0xfd464b(0x3b8)]({'sourceId':_0x4f18fa,'messageType':_0x3a54c1['Stats'],'content':{'type':_0x18be6f['StreamReport'],'data':{..._0x442b56,'nodeId':_0x38d11a}}});}[_0x5a261d(0x50b)](_0x39cb22){const _0x267582=_0x5a261d;this[_0x267582(0x599)](_0x39cb22[_0x267582(0x50a)]),this['setDurationTime'](_0x39cb22[_0x267582(0x345)]),this['systemTopic']['publish']({'sourceId':_0x4f18fa,'messageType':_0x3a54c1['Stats'],'content':{'type':_0x18be6f[_0x267582(0x72a)],'data':{'STVolatility':this[_0x267582(0x5d2)](),'DTVolatility':this[_0x267582(0x389)]()}}});}[_0x5a261d(0x6af)](_0x4aa354,_0x5387dd,_0x155035){const _0x94daf1=_0x5a261d;switch(_0x5387dd){case _0x534fb2[_0x94daf1(0x223)]:this[_0x94daf1(0x6aa)][_0x94daf1(0x1a1)](_0x4aa354,_0x155035);break;case _0x534fb2['ObjectStoreStats']:this[_0x94daf1(0x121)][_0x94daf1(0x1a1)](_0x4aa354,_0x155035);break;case _0x534fb2[_0x94daf1(0x715)]:this[_0x94daf1(0x6c0)][_0x94daf1(0x1a1)](_0x4aa354,_0x155035);break;case _0x534fb2[_0x94daf1(0x711)]:this['generativeAIContexts']['set'](_0x4aa354,_0x155035);break;case _0x534fb2['GenerativeAIWorkerStats']:this[_0x94daf1(0x6a6)][_0x94daf1(0x1a1)](_0x4aa354,_0x155035);}}[_0x5a261d(0x126)](_0x1c858e){const _0x30ddfc=_0x5a261d;this[_0x30ddfc(0x30a)]=_0x1c858e;}['unregisterSystemPublisher'](){const _0x2029f1=_0x5a261d;delete this[_0x2029f1(0x30a)];}['getSTVolatility'](){const _0x1be6d3=_0x5a261d;return this['scheduleTime']>0x0&&this['scheduleTime']-_0xe39d75>0x0?(this[_0x1be6d3(0x5a1)]-_0xe39d75)/_0xe39d75:0x0;}[_0x5a261d(0x389)](){const _0x380859=_0x5a261d;return this[_0x380859(0x345)]>0x0&&this[_0x380859(0x345)]-0x64>0x0?(this['durationTime']-0x64)/0x64:0x0;}[_0x5a261d(0x174)](){const _0xe56feb=_0x5a261d;let _0x98e9ed=0x0;return this[_0xe56feb(0x1e8)][_0xe56feb(0x675)](_0x9dd455=>{_0x98e9ed+=_0x9dd455['senderBitrate'];}),_0x98e9ed;}[_0x5a261d(0x191)](){let _0xe5e35c=0x0;return this['nodes']['forEach'](_0x530a5c=>{const _0x452dd3=a0_0x3f62;_0xe5e35c+=_0x530a5c[_0x452dd3(0x3de)];}),_0xe5e35c;}[_0x5a261d(0x752)](){const _0x102d39=_0x5a261d;let _0x392bde=0x0;return this[_0x102d39(0x1e8)]['forEach'](_0x5ef6c3=>{const _0x3100ad=_0x102d39;_0x392bde+=_0x5ef6c3[_0x3100ad(0x323)];}),_0x392bde;}['setScheduleTime'](_0x3fedc6){const _0x2bcd53=_0x5a261d;this[_0x2bcd53(0x5a1)]=_0x3fedc6;}[_0x5a261d(0x28f)](_0xdef4c4){const _0x2f8938=_0x5a261d;this[_0x2f8938(0x345)]=_0xdef4c4;}[_0x5a261d(0x290)](_0x26c4c6,_0x3dcecd){const _0x5a6078=_0x5a261d;switch(_0x3dcecd[_0x5a6078(0x6e0)]){case _0x16cef7['Sender']:this[_0x5a6078(0x2bb)](_0x26c4c6,_0x3dcecd);break;case _0x16cef7[_0x5a6078(0x6b4)]:this[_0x5a6078(0x475)](_0x26c4c6,_0x3dcecd);}}[_0x5a261d(0x2bb)](_0x14c58a,_0x3e259f){const _0x36a829=_0x5a261d;this[_0x36a829(0x5b8)][_0x36a829(0x1a1)](_0x14c58a,_0x3e259f[_0x36a829(0x2e8)]),this[_0x36a829(0x4de)][_0x36a829(0x1a1)](_0x14c58a,_0x3e259f[_0x36a829(0x47d)]);}[_0x5a261d(0x475)](_0x183c83,_0x5b05d1){const _0x1d6a7c=_0x5a261d;this['receiverTotalMessages']['set'](_0x183c83,_0x5b05d1[_0x1d6a7c(0x35f)]),this[_0x1d6a7c(0x429)][_0x1d6a7c(0x1a1)](_0x183c83,_0x5b05d1['timeReceiving']),this[_0x1d6a7c(0x49d)]['set'](_0x183c83,_0x5b05d1[_0x1d6a7c(0x49d)]);}}class _0x23af21{[_0x5a261d(0x54e)];[_0x5a261d(0x388)]=new Set();[_0x5a261d(0x6b1)];['statsCollection'];['statsReporting'];[_0x5a261d(0x1e1)]=new _0x109013();constructor(_0x1e30a8){const _0x199853=_0x5a261d;this[_0x199853(0x54e)]=_0x1e30a8,this[_0x199853(0x54e)][_0x199853(0x6d7)]['registerSystemSource'](this[_0x199853(0x1e1)]),this[_0x199853(0x64e)]=this[_0x199853(0x173)](),this[_0x199853(0x14e)]=this[_0x199853(0x736)]();}['close'](){const _0x4bd710=_0x5a261d;this[_0x4bd710(0x54e)][_0x4bd710(0x6d7)][_0x4bd710(0x6f3)](this['statsReport']),this['statsReporting'](),this[_0x4bd710(0x64e)]();}[_0x5a261d(0x64d)](_0x1bb893){const _0x33b4bd=_0x5a261d;this[_0x33b4bd(0x388)][_0x33b4bd(0x500)](_0x1bb893),this['statsReport'][_0x33b4bd(0x64d)](_0x1bb893);}['removeRemoteNode'](_0x208d24){const _0x5d8d17=_0x5a261d;this[_0x5d8d17(0x388)][_0x5d8d17(0x20a)](_0x208d24),this['statsReport'][_0x5d8d17(0x673)](_0x208d24);}['handlePeerConnectionSystemEvents'](_0x870531){const _0x3fa4b2=_0x5a261d;if(_0x870531[_0x3fa4b2(0x365)]['type']===_0x48dd43[_0x3fa4b2(0x39a)]){const {nodeId:_0x4ff299,streamId:_0x43f4b9,stats:_0x1da164}=_0x870531[_0x3fa4b2(0x365)];this[_0x3fa4b2(0x1e1)][_0x3fa4b2(0x195)](_0x4ff299,_0x1da164,_0x43f4b9);}}[_0x5a261d(0x1f0)](_0x171027){const _0x1a7ade=_0x5a261d;switch(_0x171027[_0x1a7ade(0x365)][_0x1a7ade(0x274)]){case _0x534fb2['ObjectStoreStats']:case _0x534fb2['KeyValueDatabaseStats']:case _0x534fb2[_0x1a7ade(0x223)]:case _0x534fb2[_0x1a7ade(0x711)]:case _0x534fb2[_0x1a7ade(0x68a)]:this['statsReport'][_0x1a7ade(0x6af)](_0x171027['content'][_0x1a7ade(0x726)],_0x171027[_0x1a7ade(0x365)]['type'],_0x171027[_0x1a7ade(0x365)][_0x1a7ade(0x6fb)]);}}['setupStatsReporting'](){const _0x3b9dc3=_0x5a261d;return _0x16ea6e[_0x3b9dc3(0x18c)](()=>{const _0x5021c9=_0x3b9dc3,_0x17003a=this[_0x5021c9(0x1e1)][_0x5021c9(0x37c)]();_0x50fe93['log'](_0x2d7d49[_0x5021c9(0x39a)],_0x5021c9(0x1e9),_0x17003a),(0x0,_0x171fba[_0x5021c9(0x4a2)])((0x0,_0x171fba[_0x5021c9(0x35d)])(_0x9c97da['getFirestore'](),'developers/'+this[_0x5021c9(0x54e)][_0x5021c9(0xe6)]+'/stats'),{'clusterId':this[_0x5021c9(0x54e)][_0x5021c9(0x1f3)],'nodeId':this['configs']['localNode'][_0x5021c9(0x591)](),'nodeType':this['configs']['localNode'][_0x5021c9(0x274)],'timestamp':(0x0,_0x171fba[_0x5021c9(0x77d)])(),'report':_0x17003a}),_0x50fe93[_0x5021c9(0x3cb)]('stats',{'clusterId':this[_0x5021c9(0x54e)][_0x5021c9(0x1f3)],'nodeId':this[_0x5021c9(0x54e)]['localNode'][_0x5021c9(0x591)](),'nodeType':this[_0x5021c9(0x54e)]['localNode'][_0x5021c9(0x274)],'data':{'report':_0x17003a}});},_0x1c72a8);}[_0x5a261d(0x173)](){const _0x3ede17=_0x5a261d;let _0x573ece=!0x1,_0x52fc46=Date[_0x3ede17(0x4e6)]();return _0x16ea6e[_0x3ede17(0x18c)](async()=>{const _0x4e6ced=_0x3ede17;if(_0x573ece)return;if(_0x573ece=!0x0,0x0===this[_0x4e6ced(0x388)][_0x4e6ced(0x101)])return delete this[_0x4e6ced(0x6b1)],void(_0x573ece=!0x1);const _0x11f1b7=Date['now']();this[_0x4e6ced(0x3d2)]();try{await this[_0x4e6ced(0x54e)][_0x4e6ced(0x6d7)][_0x4e6ced(0x1ef)](this[_0x4e6ced(0x6b1)]);}catch(_0xc239aa){}this['statsReport'][_0x4e6ced(0x50b)]({'secheduleTime':_0x11f1b7-_0x52fc46,'durationTime':Date[_0x4e6ced(0x4e6)]()-_0x11f1b7}),_0x52fc46=_0x11f1b7,_0x573ece=!0x1;},_0xe39d75);}[_0x5a261d(0x3d2)](){const _0x2e63a1=_0x5a261d;let _0x10771f,_0x1b97ff=!0x1;this['nextNodeId']&&(this[_0x2e63a1(0x388)]['has'](this[_0x2e63a1(0x6b1)])||delete this[_0x2e63a1(0x6b1)]);for(const _0x5cf3d1 of this[_0x2e63a1(0x388)])if(_0x10771f||(_0x10771f=_0x5cf3d1),this['nextNodeId']!==_0x5cf3d1){if(_0x1b97ff)return void(this[_0x2e63a1(0x6b1)]=_0x5cf3d1);}else _0x1b97ff=!0x0,delete this['nextNodeId'];this[_0x2e63a1(0x6b1)]||(this['nextNodeId']=_0x10771f);}}class _0x44d490{['source'];[_0x5a261d(0x286)];[_0x5a261d(0x30a)];constructor(_0x1aaa1f,_0x473b87){const _0x2912d1=_0x5a261d;this[_0x2912d1(0x45c)]=_0x1aaa1f,this['destination']=_0x473b87;}[_0x5a261d(0x126)](_0x3f9401){const _0x3a5046=_0x5a261d;this[_0x3a5046(0x30a)]=_0x3f9401;}['unregisterSystemPublisher'](){const _0x37712a=_0x5a261d;delete this[_0x37712a(0x30a)];}}class _0x274914 extends _0x44d490{[_0x5a261d(0x45c)];[_0x5a261d(0x286)];[_0x5a261d(0x107)];constructor(_0x2b0a31,_0x1919b7,_0x4a879b){const _0x496110=_0x5a261d;super(_0x2b0a31,_0x1919b7),this[_0x496110(0x45c)]=_0x2b0a31,this[_0x496110(0x286)]=_0x1919b7,this[_0x496110(0x107)]=_0x4a879b;}[_0x5a261d(0x313)](_0x58f1aa,_0x133093,_0x27a713){const _0x5e3a24=_0x5a261d;if(this[_0x5e3a24(0x286)]['getContentType']()===_0x44eeae['ContentType']['Media']){const _0x4fc557={'type':_0x24c720['SubscribeMediaStream'],'label':this[_0x5e3a24(0x286)][_0x5e3a24(0x58a)](),'ownerId':_0x58f1aa,'trackKinds':_0x133093??this[_0x5e3a24(0x286)][_0x5e3a24(0x5d7)](),'params':_0x27a713};this['systemTopic'][_0x5e3a24(0x3b8)]({'sourceId':this[_0x5e3a24(0x45c)][_0x5e3a24(0x41c)](),'destinationIds':[this[_0x5e3a24(0x45c)]['getRemoteId']()],'messageType':_0x3a54c1[_0x5e3a24(0x473)],'content':_0x4fc557}),this[_0x5e3a24(0x107)]=_0x27a713;}}['update'](_0x286d68,_0x11615a){const _0x316758=_0x5a261d;if(this['destination']['getContentType']()===_0x44eeae[_0x316758(0xee)][_0x316758(0x371)]){const _0x278a5b={'type':_0x24c720[_0x316758(0x6f1)],'label':this[_0x316758(0x286)][_0x316758(0x58a)](),'ownerId':_0x286d68,'params':_0x11615a};this[_0x316758(0x30a)][_0x316758(0x3b8)]({'sourceId':this[_0x316758(0x45c)][_0x316758(0x41c)](),'destinationIds':[this[_0x316758(0x45c)][_0x316758(0x4b3)]()],'messageType':_0x3a54c1[_0x316758(0x473)],'content':_0x278a5b}),this[_0x316758(0x107)]=_0x11615a;}}[_0x5a261d(0x76e)](_0x399441,_0x5ebc45,_0x3a56a7){const _0xa1fb6f=_0x5a261d;if(this['destination'][_0xa1fb6f(0x72b)]()===_0x44eeae[_0xa1fb6f(0xee)][_0xa1fb6f(0x371)]){const _0x271bb7={'type':_0x24c720[_0xa1fb6f(0x30f)],'label':this[_0xa1fb6f(0x286)]['getLabel'](),'ownerId':_0x399441,'trackKinds':_0x3a56a7??this[_0xa1fb6f(0x286)]['getAvailableTrackKinds'](),'remainingTracks':_0x5ebc45};this['systemTopic'][_0xa1fb6f(0x3b8)]({'sourceId':this[_0xa1fb6f(0x45c)][_0xa1fb6f(0x41c)](),'destinationIds':[this[_0xa1fb6f(0x45c)][_0xa1fb6f(0x4b3)]()],'messageType':_0x3a54c1[_0xa1fb6f(0x473)],'content':_0x271bb7});}}}class _0xa7eefa{[_0x5a261d(0x304)];[_0x5a261d(0x5d0)];[_0x5a261d(0x255)];[_0x5a261d(0x30a)];['answers']=new Set();[_0x5a261d(0x5b3)]=Date[_0x5a261d(0x4e6)]();[_0x5a261d(0x107)];['retryCount']=0x0;constructor(_0x556490,_0x2af49c,_0x51726b,_0x18227b){const _0x38cb76=_0x5a261d;this[_0x38cb76(0x304)]=_0x2af49c,this['maxDistance']=_0x51726b,this[_0x38cb76(0x255)]=_0x18227b,_0x556490[_0x38cb76(0x675)](_0x41f812=>{const _0x47a041=_0x38cb76;this[_0x47a041(0x1bd)][_0x47a041(0x500)]({'nodeId':_0x41f812,'type':_0x3f8c0a[_0x47a041(0x11f)]});});}['getTracks'](){const _0x5ecb7e=_0x5a261d;return this[_0x5ecb7e(0x255)];}[_0x5a261d(0x126)](_0x17bc89){const _0x702a5a=_0x5a261d;this[_0x702a5a(0x30a)]=_0x17bc89;}[_0x5a261d(0x5bc)](){const _0x46250e=_0x5a261d;delete this[_0x46250e(0x30a)];}[_0x5a261d(0x352)](_0x37be37,_0x5b1d10){const _0x565e28=_0x5a261d;this['startTime']=Date[_0x565e28(0x4e6)](),this[_0x565e28(0x1bd)]['clear'](),_0x37be37[_0x565e28(0x675)](_0x58384a=>{const _0x26632d=_0x565e28;this[_0x26632d(0x1bd)][_0x26632d(0x500)]({'nodeId':_0x58384a,'type':_0x3f8c0a[_0x26632d(0x11f)]});}),this['retryCount']+=0x1,this[_0x565e28(0x304)]=_0x5b1d10;}[_0x5a261d(0x276)](_0x5e3be5,_0x4e5278,_0x39692d,_0x4cd4a2,_0x2e2bc9){const _0x3ff1d6=_0x5a261d;if(this[_0x3ff1d6(0x6d9)]>0xa)throw new _0x2826e7(_0x2826e7[_0x3ff1d6(0x776)][_0x3ff1d6(0x4c0)],{'answers':Array[_0x3ff1d6(0x61e)](this['answers'])[_0x3ff1d6(0x47f)](_0x5dd35a=>({'nodeId':_0x5dd35a['nodeId'],'type':_0x5dd35a[_0x3ff1d6(0x274)]}))});const _0x2920d4=Array['from'](this['answers'])[_0x3ff1d6(0x47f)](_0xe6d38b=>_0xe6d38b[_0x3ff1d6(0x738)]);this['params']=_0x2e2bc9,this[_0x3ff1d6(0x30a)]['publish']({'sourceId':_0x5e3be5,'destinationIds':_0x2920d4,'messageType':_0x3a54c1[_0x3ff1d6(0x473)],'content':{'type':_0x24c720[_0x3ff1d6(0x29f)],'label':_0x39692d,'ownerId':_0x4e5278,'trackKinds':_0x4cd4a2,'params':_0x2e2bc9}}),_0x50fe93[_0x3ff1d6(0x287)](_0x2d7d49[_0x3ff1d6(0x473)],_0x3ff1d6(0x3b1),_0x5e3be5,_0x2920d4);}['handleSubscriptionSystemEvents'](_0x4149a4,_0x5ddb46){const _0xd117d=_0x5a261d;switch(_0x5ddb46[_0xd117d(0x274)]){case _0x24c720[_0xd117d(0x66d)]:{const _0x3b0259=this['currentDistance']>=_0x5ddb46[_0xd117d(0x5a4)]&&_0x5ddb46[_0xd117d(0x5a4)]<=this[_0xd117d(0x5d0)],_0x42c48b=Array[_0xd117d(0x61e)](this[_0xd117d(0x1bd)])[_0xd117d(0x19f)](_0x122aa0=>_0x122aa0[_0xd117d(0x738)]===_0x4149a4);_0x42c48b[_0xd117d(0x274)]=_0x3b0259?_0x3f8c0a[_0xd117d(0x2b6)]:_0x3f8c0a[_0xd117d(0x184)],_0x42c48b[_0xd117d(0x3d4)]=_0x5ddb46['cost'],_0x42c48b[_0xd117d(0x5a4)]=_0x5ddb46['distance'],_0x42c48b[_0xd117d(0x61f)]=_0x5ddb46['streamId'],_0x42c48b[_0xd117d(0x316)]=Date['now']()-this[_0xd117d(0x5b3)],_0x42c48b[_0xd117d(0x107)]=this[_0xd117d(0x107)],_0x42c48b[_0xd117d(0x24b)]=_0x5ddb46[_0xd117d(0x24b)],_0x42c48b[_0xd117d(0x5bb)]=_0x5ddb46[_0xd117d(0x5bb)],_0x42c48b['streamLabel']=_0x5ddb46[_0xd117d(0x726)],_0x50fe93[_0xd117d(0x287)](_0x2d7d49[_0xd117d(0x473)],(_0x3b0259?_0xd117d(0x2b6):_0xd117d(0x184))+_0xd117d(0x102),_0x42c48b);break;}case _0x24c720[_0xd117d(0x55a)]:{const _0x162510=Array[_0xd117d(0x61e)](this[_0xd117d(0x1bd)])['find'](_0x11e9ce=>_0x11e9ce[_0xd117d(0x738)]===_0x4149a4);_0x162510[_0xd117d(0x274)]=_0x3f8c0a[_0xd117d(0x184)],_0x50fe93[_0xd117d(0x287)](_0x2d7d49[_0xd117d(0x473)],'Rejected\x20answer',_0x162510);break;}}if(this['canChooseAnswer']())return this[_0xd117d(0x1d5)]();}[_0x5a261d(0x1d5)](){const _0x325bd0=_0x5a261d,_0x1dec4f=Array[_0x325bd0(0x61e)](this[_0x325bd0(0x1bd)])[_0x325bd0(0x279)](_0x3a1552=>_0x3a1552[_0x325bd0(0x274)]===_0x3f8c0a[_0x325bd0(0x2b6)])['sort']((_0xb4658,_0x38384d)=>_0xb4658['cost']===_0x38384d['cost']?_0xb4658[_0x325bd0(0x316)]-_0x38384d['roundTripTime']:_0xb4658[_0x325bd0(0x3d4)]-_0x38384d[_0x325bd0(0x3d4)]);if(0x0===_0x1dec4f[_0x325bd0(0x553)])throw new _0x2826e7(_0x2826e7[_0x325bd0(0x776)]['SubscriptionRequestNoAnswer'],{'answers':Array[_0x325bd0(0x61e)](this[_0x325bd0(0x1bd)])[_0x325bd0(0x47f)](_0x6a4f15=>({'nodeId':_0x6a4f15[_0x325bd0(0x738)],'type':_0x6a4f15[_0x325bd0(0x274)]}))});return _0x50fe93[_0x325bd0(0x287)](_0x2d7d49[_0x325bd0(0x473)],_0x325bd0(0x3df),_0x1dec4f[0x0],this['answers']),_0x1dec4f[0x0];}[_0x5a261d(0x67b)](){const _0x20b152=_0x5a261d;for(const _0x3dac14 of this['answers'])if(_0x3dac14[_0x20b152(0x274)]===_0x3f8c0a[_0x20b152(0x11f)])return!0x1;return!0x0;}}class _0x41bc06{['label'];[_0x5a261d(0x44d)];[_0x5a261d(0x36d)]=_0x5c88af();constructor(_0x2fb9b8,_0x1acff9){const _0xc7bdc6=_0x5a261d;this[_0xc7bdc6(0x726)]=_0x2fb9b8,this[_0xc7bdc6(0x44d)]=_0x1acff9;}[_0x5a261d(0x58a)](){const _0x817291=_0x5a261d;return this[_0x817291(0x726)];}[_0x5a261d(0x72b)](){const _0x43e114=_0x5a261d;return this[_0x43e114(0x44d)];}[_0x5a261d(0x5e9)](_0x565b7d){_0x565b7d['registerPublisher'](this);}[_0x5a261d(0x145)](_0x2bdbeb){const _0x3d9bea=_0x5a261d;_0x2bdbeb[_0x3d9bea(0x549)](this);}[_0x5a261d(0x3b8)](_0x40b40a){const _0xb8801d=_0x5a261d;this[_0xb8801d(0x36d)][_0xb8801d(0x3b8)]({'topicLabel':this[_0xb8801d(0x726)],'contentType':this[_0xb8801d(0x44d)],'uuid':(0x0,_0x298876['v4'])(),'recipients':[],..._0x40b40a});}['subscribe'](_0x1368d5){const _0x43f41f=_0x5a261d;return this[_0x43f41f(0x36d)][_0x43f41f(0x313)](_0x1368d5);}[_0x5a261d(0x3e5)](_0x50e6da){const _0x429743=_0x5a261d;_0x50e6da[_0x429743(0x208)](this);}[_0x5a261d(0x462)](_0x3bfbba){const _0x2235cc=_0x5a261d;_0x3bfbba[_0x2235cc(0x470)](this);}}class _0x39564f{['maps']={'topics':new Map(),'subscriptions':new Map()};[_0x5a261d(0x1f9)];constructor(_0x1fd1ab){const _0x15fd69=_0x5a261d;this[_0x15fd69(0x1f9)]=_0x1fd1ab;}get[_0x5a261d(0x283)](){const _0x28059e=_0x5a261d;return this[_0x28059e(0x545)][_0x28059e(0x283)];}get[_0x5a261d(0x23f)](){const _0x3f5987=_0x5a261d;return this[_0x3f5987(0x545)]['topics'];}[_0x5a261d(0x46c)](_0x9b57a9,_0x4eadb1){const _0x38fa0e=_0x5a261d,_0x185a80=this['getPartsFromSubscription'](_0x4eadb1),_0x51bd1e=_0xe86b77(_0x9b57a9);if(!_0x185a80['supportsContentType'])throw new _0x2826e7(_0x2826e7[_0x38fa0e(0x776)][_0x38fa0e(0x282)],{'message':_0x51bd1e+':\x20'+_0x185a80[_0x38fa0e(0x2a2)]+_0x38fa0e(0x143)+_0x185a80[_0x38fa0e(0x44d)],'subscriptionType':_0x9b57a9,'subscription':_0x4eadb1,'subscriptonParts':_0x185a80});const _0x15ce37=_0x23b999(_0x9b57a9,_0x185a80);if(this['maps']['subscriptions']['has'](_0x15ce37))throw new _0x2826e7(_0x2826e7[_0x38fa0e(0x776)][_0x38fa0e(0x282)],{'message':_0x51bd1e+':\x20'+_0x15ce37+_0x38fa0e(0x2c6),'subscriptionType':_0x9b57a9,'subscription':_0x4eadb1,'subscriptonParts':_0x185a80});this['maps'][_0x38fa0e(0x283)][_0x38fa0e(0x1a1)](_0x15ce37,_0x4eadb1),this[_0x38fa0e(0x252)](_0x185a80,_0x4eadb1);}[_0x5a261d(0x557)](_0x54e9e4,_0x4a8d4b){const _0x46a077=_0x5a261d,_0x2c3d36=_0x23b999(_0x4a8d4b,_0x54e9e4),_0x4c2822=this[_0x46a077(0x545)][_0x46a077(0x283)][_0x46a077(0x568)](_0x2c3d36);if(!_0x4c2822)throw new _0x2826e7(_0x2826e7[_0x46a077(0x776)]['InvalidSubscription'],{'message':_0xe86b77(_0x4a8d4b)+':\x20'+_0x2c3d36+_0x46a077(0x594),'subscriptionType':_0x4a8d4b,'subscription':_0x4c2822,'subscriptonParts':_0x54e9e4});this[_0x46a077(0x38a)](_0x4c2822,_0x2c3d36,_0x54e9e4);}[_0x5a261d(0x38a)](_0x2c16fb,_0x5d125d,_0x128598){const _0x4236b4=_0x5a261d;_0x128598=_0x128598||this[_0x4236b4(0x1f9)](_0x2c16fb),this[_0x4236b4(0x545)][_0x4236b4(0x283)][_0x4236b4(0x20a)](_0x5d125d),this['removeTopic'](_0x128598,_0x2c16fb);}[_0x5a261d(0x252)](_0x49cecf,{source:_0x53f1e9,destination:_0x2e54d0}){const _0x4c9617=_0x5a261d,{contentType:_0x574cd6,label:_0x22969e,remoteId:_0x5a3ee6}=_0x49cecf,_0x1318f5=_0x35a4f5(_0x574cd6,_0x22969e,_0x5a3ee6),_0x550b81=new _0x41bc06(_0x1318f5,_0x574cd6);_0x550b81['registerSource'](_0x53f1e9),_0x550b81[_0x4c9617(0x145)](_0x2e54d0),this[_0x4c9617(0x545)][_0x4c9617(0x23f)]['set'](_0x550b81[_0x4c9617(0x58a)](),_0x550b81);}[_0x5a261d(0x4bc)](_0x2f4bd6,_0x42f423){const _0x3cd713=_0x5a261d,{contentType:_0x4d9105,label:_0x39ac07,remoteId:_0x57cd26}=_0x2f4bd6,_0xce76dd=_0x35a4f5(_0x4d9105,_0x39ac07,_0x57cd26),_0x571182=this['maps']['topics'][_0x3cd713(0x568)](_0xce76dd);_0x571182&&(this[_0x3cd713(0x523)](_0x571182,_0x42f423),this[_0x3cd713(0x545)][_0x3cd713(0x23f)][_0x3cd713(0x20a)](_0xce76dd));}['closeTopic'](_0xd374ee,{source:_0x5900e5,destination:_0x1c8f4d}){const _0x13f557=_0x5a261d;_0xd374ee['unregisterSource'](_0x5900e5),_0xd374ee[_0x13f557(0x462)](_0x1c8f4d);}[_0x5a261d(0x3d8)](_0x21115){const _0x32ba06=_0x5a261d;this[_0x32ba06(0x545)]['subscriptions'][_0x32ba06(0x675)]((_0x3ec5ae,_0x27f748)=>{const _0x9cf46a=_0x32ba06;_0x27f748[_0x9cf46a(0x770)](_0x21115)&&this[_0x9cf46a(0x38a)](_0x3ec5ae,_0x27f748);});}}class _0x50297c{['configs'];['maxDistance'];[_0x5a261d(0x242)]=new Map();['subscriptionRequestsQueue']=_0x1abafd(new _0x1e6393(this[_0x5a261d(0x6b9)][_0x5a261d(0x72e)](this),()=>_0x16ea6e[_0x5a261d(0x1dd)](0x64)),!0x0);[_0x5a261d(0x332)]=new Map();['maps'];[_0x5a261d(0x516)]=new Map();constructor(_0x2d60e1,_0x11e021){const _0x3b3a17=_0x5a261d;this[_0x3b3a17(0x54e)]=_0x2d60e1,this[_0x3b3a17(0x5d0)]=_0x11e021,this[_0x3b3a17(0x545)]=new _0x39564f(({source:_0x24686d,destination:_0x5dae97})=>_0x3fb2eb(_0x5dae97,_0x24686d));}['createSubscription'](_0x1809b0,_0x9526c8){const _0x241c96=_0x5a261d,_0x374a99=this[_0x241c96(0x455)](_0x1809b0)&&this[_0x241c96(0x42d)](_0x9526c8)?new _0x274914(_0x1809b0,_0x9526c8):new _0x44d490(_0x1809b0,_0x9526c8);this[_0x241c96(0x545)][_0x241c96(0x46c)](_0x3c7267[_0x241c96(0x214)],_0x374a99),this[_0x241c96(0x54e)]['mediator'][_0x241c96(0x334)](_0x374a99);}[_0x5a261d(0x557)](_0x367ce7,_0x349319,_0x9acda4=''){const _0x315854=_0x5a261d,_0x257ea8={'contentType':_0x349319,'label':_0x367ce7,'remoteId':_0x9acda4},_0x304d9c=_0x23b999(_0x3c7267[_0x315854(0x214)],_0x257ea8),_0x9f85f6=this[_0x315854(0x545)][_0x315854(0x283)][_0x315854(0x568)](_0x304d9c);_0x9f85f6&&this[_0x315854(0x38a)](_0x9f85f6,_0x304d9c);}[_0x5a261d(0x1ca)](_0xef462b){const _0x529db3=_0x5a261d;this[_0x529db3(0x58b)](_0xef462b);}['handleContentSubscribeMediaStream']({label:_0x44e34a,ownerId:_0xcdcd7a,trackKinds:_0x580a7f,params:_0x3ec5ef}){const _0x82589c=_0x5a261d;this[_0x82589c(0x686)](_0x44e34a,_0xcdcd7a,_0x580a7f,_0x3ec5ef);}[_0x5a261d(0x262)]({ownerId:_0xd067ce,label:_0x26aefe,params:_0x4f3997}){const _0x2f345b=_0x5a261d,{subscriptionLabel:_0x147ab0}=this[_0x2f345b(0x397)](_0x26aefe,_0xd067ce),_0x64bdae=this[_0x2f345b(0x2e4)](_0x147ab0);_0x64bdae&&_0x64bdae['update'](_0xd067ce,_0x4f3997);}[_0x5a261d(0x3a6)]({ownerId:_0x49767b,label:_0x1b4a8e,trackKinds:_0x17eaf,remainingTracks:_0x4c1c34}){const _0x47cf03=_0x5a261d,_0x3a1299=_0x23b999(_0x3c7267[_0x47cf03(0x214)],{'contentType':_0x44eeae[_0x47cf03(0xee)]['Media'],'label':_0x1b4a8e,'remoteId':_0x49767b});this[_0x47cf03(0x3f0)](_0x3a1299);const _0x14989b=this[_0x47cf03(0x242)][_0x47cf03(0x568)](_0x3a1299);_0x14989b&&(this[_0x47cf03(0x54e)][_0x47cf03(0x6d7)][_0x47cf03(0x6f3)](_0x14989b),this[_0x47cf03(0x242)][_0x47cf03(0x20a)](_0x3a1299));const {parts:_0x10fb6a,subscriptionLabel:_0xdfc550}=this[_0x47cf03(0x397)](_0x1b4a8e,_0x49767b),_0xe02a16=this[_0x47cf03(0x2e4)](_0xdfc550);_0xe02a16&&(_0xe02a16['unsubscribe'](_0x49767b,_0x4c1c34,_0x17eaf),0x0===_0x4c1c34&&this[_0x47cf03(0x557)](_0x10fb6a[_0x47cf03(0x726)],_0x10fb6a[_0x47cf03(0x44d)],_0x10fb6a[_0x47cf03(0x2a2)]));}[_0x5a261d(0x17a)](_0x14cd0c,{label:_0x48de8b,ownerId:_0x15bca1,trackKinds:_0x1b7ba3,streamId:_0x4beeec,params:_0x17ef0c}){const _0x5a0e5c=_0x5a261d,_0x1703d6=_0x23b999(_0x3c7267[_0x5a0e5c(0x214)],{'contentType':_0x44eeae['ContentType'][_0x5a0e5c(0x371)],'label':_0x4beeec,'remoteId':_0x14cd0c}),_0x3f7ea8=this[_0x5a0e5c(0x545)]['subscriptions'][_0x5a0e5c(0x568)](_0x1703d6);if(!(_0x3f7ea8&&_0x3f7ea8 instanceof _0x274914))throw new _0x2826e7(_0x2826e7['codes'][_0x5a0e5c(0x21f)],{'label':_0x1703d6,'ownerId':_0x15bca1});this[_0x5a0e5c(0x38a)](_0x3f7ea8,_0x1703d6),this['requestSubscription'](_0x48de8b,_0x15bca1,_0x1b7ba3,_0x17ef0c);}[_0x5a261d(0x224)](_0xe0277f,_0x4f55cd){const _0x2d5fb7=_0x5a261d,{label:_0x2d1e27,ownerId:_0x125974,trackKinds:_0x25b898,params:_0xa337c2}=_0x4f55cd,_0x1f08cb=_0x23b999(_0x3c7267[_0x2d5fb7(0x214)],{'contentType':_0x44eeae['ContentType']['Media'],'label':_0x2d1e27,'remoteId':_0x125974});if(!this[_0x2d5fb7(0x242)][_0x2d5fb7(0x644)](_0x1f08cb))throw new _0x2826e7(_0x2826e7[_0x2d5fb7(0x776)][_0x2d5fb7(0x21f)],{'label':_0x1f08cb,'ownerId':_0x125974,'streamId':_0x4f55cd['streamId'],'requests':this[_0x2d5fb7(0x242)]});const _0x35c849=this['subscriptionRequests']['get'](_0x1f08cb);if(_0x25b898['length']===_0x35c849[_0x2d5fb7(0x291)]()[_0x2d5fb7(0x553)]&&_0x25b898[_0x2d5fb7(0x450)](_0x112daa=>_0x35c849[_0x2d5fb7(0x291)]()[_0x2d5fb7(0x49a)](_0x112daa)))try{const _0x5aaffe=_0x35c849[_0x2d5fb7(0x394)](_0xe0277f,_0x4f55cd);if(!_0x5aaffe)return;this[_0x2d5fb7(0x313)](_0x5aaffe,_0x125974,_0x2d1e27,_0x1f08cb,_0x25b898);}catch(_0x5028c5){return void this[_0x2d5fb7(0x13f)](_0x2d1e27,_0x125974,_0x25b898,_0xa337c2);}}[_0x5a261d(0x490)](_0x4f228a,{label:_0x5a24fe,ownerId:_0x2f1291,trackKinds:_0x32df65}){const _0x208630=_0x5a261d,_0x3c6cde=this['configs'][_0x208630(0x6d7)]['getRemoteMediaStream'](_0x2f1291,_0x5a24fe);if(!_0x3c6cde)return;const _0x52cc02=_0x3c6cde[_0x208630(0x41d)](),_0x3801fc=_0x3c6cde['getSubscribedTracks']();_0x3801fc[_0x208630(0x211)](_0x2b58a7=>_0x32df65['includes'](_0x2b58a7))&&this[_0x208630(0x47e)](_0x4f228a,_0x5a24fe,_0x52cc02,_0x2f1291,_0x3801fc);}[_0x5a261d(0x280)]({label:_0xc009cd,providerId:_0xc79cb3,ownerId:_0x28e69c,streamId:_0x376e75,trackKinds:_0x5003e7}){this['findNewMediaSubscription'](_0xc79cb3,_0xc009cd,_0x376e75,_0x28e69c,_0x5003e7);}[_0x5a261d(0x44b)](_0x32bdff){const _0x37a2c0=_0x5a261d;for(const _0x47772f of this['chosenAnswers'][_0x37a2c0(0x741)]()){const {streamLabel:_0x3ae6a4,ownerId:_0x2d2c0b,trackKinds:_0x153ec6,params:_0x3ec94f}=_0x47772f;if(!_0x2d2c0b||!_0x153ec6||!_0x3ae6a4)return;this[_0x37a2c0(0x5ef)][_0x37a2c0(0x6bc)]({'label':_0x3ae6a4,'ownerId':_0x2d2c0b,'trackKinds':_0x153ec6,'params':_0x3ec94f,'remoteId':_0x32bdff});}}[_0x5a261d(0x3d8)](_0x3dfc5b){const _0x46fa75=_0x5a261d;this[_0x46fa75(0x545)][_0x46fa75(0x283)][_0x46fa75(0x675)]((_0x32d1c7,_0x52d3e2)=>{const _0x586da1=_0x46fa75;if(_0x52d3e2[_0x586da1(0x770)](_0x3dfc5b)){if(_0x32d1c7[_0x586da1(0x286)]['getContentType']()===_0x44eeae[_0x586da1(0xee)]['Media']){const _0x26c9ec=_0x32d1c7[_0x586da1(0x286)];if(_0x26c9ec['getSubscribedTracks']()[_0x586da1(0x553)]>0x0){const _0x229aac={'type':_0x24c720[_0x586da1(0x4c6)],'label':_0x26c9ec['getLabel'](),'ownerId':_0x26c9ec[_0x586da1(0x613)](),'trackKinds':_0x26c9ec[_0x586da1(0x6ea)]()};return void this[_0x586da1(0x490)](_0x3dfc5b,_0x229aac);}}this['closeSubscription'](_0x32d1c7,_0x52d3e2);}});}[_0x5a261d(0x3e3)](){const _0x39e79d=_0x5a261d;this[_0x39e79d(0x545)][_0x39e79d(0x283)][_0x39e79d(0x675)](this[_0x39e79d(0x38a)]['bind'](this));}[_0x5a261d(0x313)](_0x44bfcc,_0x421e7b,_0xfc7201,_0x5d02f7,_0x260088){const _0x11ab96=_0x5a261d,_0x300f93=this['configs']['mediator'][_0x11ab96(0x3ca)](_0x44bfcc['nodeId']),_0x1aac43=this[_0x11ab96(0x54e)][_0x11ab96(0x6d7)][_0x11ab96(0x4d0)](_0x421e7b,_0xfc7201);this['clearSubscriptionRequestTimeout'](_0x5d02f7),this[_0x11ab96(0x242)][_0x11ab96(0x644)](_0x5d02f7)&&(this[_0x11ab96(0x54e)][_0x11ab96(0x6d7)][_0x11ab96(0x6f3)](this[_0x11ab96(0x242)]['get'](_0x5d02f7)),this['subscriptionRequests'][_0x11ab96(0x20a)](_0x5d02f7)),this['cleanOldSubscription'](_0x44bfcc,_0x421e7b,_0xfc7201,_0x1aac43),_0x1aac43[_0x11ab96(0x18e)](_0x44bfcc[_0x11ab96(0x61f)]),_0x1aac43[_0x11ab96(0x5fa)](_0x44bfcc['nodeId']);const _0x1dd539=_0x3fb2eb(_0x1aac43,_0x300f93),_0x5b0a26=_0x23b999(_0x3c7267[_0x11ab96(0x214)],_0x1dd539);this[_0x11ab96(0x545)][_0x11ab96(0x283)][_0x11ab96(0x644)](_0x5b0a26)||this[_0x11ab96(0x46c)](_0x300f93,_0x1aac43);const _0xcfb68d=this['maps']['subscriptions'][_0x11ab96(0x568)](_0x5b0a26);if(!(_0xcfb68d&&_0xcfb68d instanceof _0x274914))throw new _0x2826e7(_0x2826e7[_0x11ab96(0x776)]['SubscriptionRequestDoesNotExist'],{'label':_0x5d02f7,'ownerId':_0x421e7b});_0x50fe93[_0x11ab96(0x3cb)]('subscription',{'clusterId':this[_0x11ab96(0x54e)][_0x11ab96(0x1f3)],'nodeId':this[_0x11ab96(0x54e)][_0x11ab96(0x783)][_0x11ab96(0x591)](),'nodeType':this['configs']['localNode'][_0x11ab96(0x274)],'data':{'subscriptionLabel':_0x5b0a26,'chosenAnswer':_0x44bfcc}}),this[_0x11ab96(0x516)][_0x11ab96(0x1a1)](_0x5b0a26,_0x44bfcc),_0xcfb68d['subscribe'](_0x421e7b,_0x260088,_0x44bfcc[_0x11ab96(0x107)]);}[_0x5a261d(0x58b)]({ownerId:_0x28337a,label:_0x4bc90d}){const _0x5e17ce=_0x5a261d,_0xc2734=this[_0x5e17ce(0x54e)][_0x5e17ce(0x6d7)][_0x5e17ce(0x4d0)](_0x28337a,_0x4bc90d),[_0x5bd024,_0x22a7fd]=Array[_0x5e17ce(0x61e)](this[_0x5e17ce(0x545)][_0x5e17ce(0x283)][_0x5e17ce(0x580)]())['find'](([_0x41ac66,_0x518e68])=>-0x1!==_0x41ac66[_0x5e17ce(0x1fb)](_0xc2734[_0x5e17ce(0x41d)]()));return this[_0x5e17ce(0x38a)](_0x22a7fd,_0x5bd024);}[_0x5a261d(0x38a)](_0x30dfc9,_0x598ad2){const _0x1be974=_0x5a261d;this['configs'][_0x1be974(0x6d7)][_0x1be974(0x6f3)](_0x30dfc9),this[_0x1be974(0x545)][_0x1be974(0x38a)](_0x30dfc9,_0x598ad2);}[_0x5a261d(0x455)](_0x5d3052){const _0x111050=_0x5a261d;return _0x5d3052[_0x111050(0x2a8)]()[_0x111050(0x49a)](_0x44eeae[_0x111050(0xee)][_0x111050(0x371)]);}[_0x5a261d(0x42d)](_0x18b9b3){const _0x55f219=_0x5a261d;return _0x18b9b3[_0x55f219(0x72b)]()===_0x44eeae[_0x55f219(0xee)][_0x55f219(0x371)];}async[_0x5a261d(0x13f)](_0x450134,_0x544575,_0x7ba724,_0x33c7b3){const _0x403e63=_0x5a261d;await _0x16ea6e[_0x403e63(0x1dd)](0x3e8);const _0x25f4db=_0x23b999(_0x3c7267[_0x403e63(0x214)],{'contentType':_0x44eeae[_0x403e63(0xee)][_0x403e63(0x371)],'label':_0x450134,'remoteId':_0x544575});this[_0x403e63(0x3f0)](_0x25f4db);const _0x475aa1=this['subscriptionRequests']['get'](_0x25f4db);if(!_0x475aa1)throw new _0x2826e7(_0x2826e7[_0x403e63(0x776)]['SubscriptionRequestDoesNotExist'],{'label':_0x25f4db,'ownerId':_0x544575});const _0x27e1d2=this['configs'][_0x403e63(0x6d7)]['getConnections'](_0x5a83af=>_0x5a83af[_0x403e63(0x4ad)]()),_0x22cfce=this['configs'][_0x403e63(0x6d7)][_0x403e63(0x26c)](this[_0x403e63(0x54e)][_0x403e63(0x783)][_0x403e63(0x591)](),_0x544575);_0x475aa1[_0x403e63(0x352)](_0x27e1d2[_0x403e63(0x47f)](_0xe4933c=>_0xe4933c[_0x403e63(0x4b3)]()),_0x22cfce);try{_0x475aa1[_0x403e63(0x276)](this[_0x403e63(0x54e)][_0x403e63(0x783)]['getId'](),_0x544575,_0x450134,_0x7ba724,_0x33c7b3),this[_0x403e63(0x4cf)](_0x450134,_0x544575,_0x7ba724,_0x33c7b3,_0x25f4db,_0x475aa1);}catch(_0x5a6273){this[_0x403e63(0x5ef)][_0x403e63(0x6bc)]({'label':_0x450134,'ownerId':_0x544575,'trackKinds':_0x7ba724,'params':_0x33c7b3});}}[_0x5a261d(0x686)](_0x6156b5,_0x317f42,_0x142071,_0x4d03de){const _0x35c1b1=_0x5a261d;this[_0x35c1b1(0x5ef)][_0x35c1b1(0x6bc)]({'label':_0x6156b5,'ownerId':_0x317f42,'trackKinds':_0x142071,'params':_0x4d03de});}[_0x5a261d(0x6b9)]({label:_0x381d2f,ownerId:_0x3f3be9,trackKinds:_0x3f6e89,params:_0x17902b,remoteId:_0x24290c}){const _0x5d8b94=_0x5a261d;if(!this['configs'][_0x5d8b94(0x6d7)][_0x5d8b94(0x4d0)](_0x3f3be9,_0x381d2f))return;if(!this[_0x5d8b94(0x54e)][_0x5d8b94(0x6d7)][_0x5d8b94(0x2be)]()['getRank']())throw new Error(_0x5d8b94(0x782));if(_0x24290c){const _0x2847b7=this[_0x5d8b94(0x54e)]['mediator'][_0x5d8b94(0x6d0)]()[_0x5d8b94(0x19f)](_0x22eea1=>_0x22eea1['getId']()===_0x24290c),_0x2f3f3b=_0x2847b7?.['getRank']();if(!_0x2847b7||!_0x2f3f3b)throw new Error(_0x5d8b94(0x3be));const _0x555aa=this[_0x5d8b94(0x54e)][_0x5d8b94(0x6d7)][_0x5d8b94(0x6d0)]()[_0x5d8b94(0x19f)](_0x243430=>_0x243430[_0x5d8b94(0x591)]()===_0x3f3be9),_0x325b8c=_0x555aa?.[_0x5d8b94(0x67e)]();if(!_0x555aa||!_0x325b8c)throw new Error(_0x5d8b94(0x344));const _0x1cd4f4=this[_0x5d8b94(0x516)][_0x5d8b94(0x568)](_0x381d2f);if(_0x1cd4f4){const _0x4eb84e=this[_0x5d8b94(0x54e)][_0x5d8b94(0x6d7)][_0x5d8b94(0x6d0)]()[_0x5d8b94(0x19f)](_0x385689=>_0x385689['getId']()===_0x1cd4f4['nodeId']),_0x492ac0=_0x4eb84e?.['getRank']();if(!_0x4eb84e||!_0x492ac0)throw new Error('Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank');if(Math['abs'](_0x492ac0-_0x325b8c)<Math[_0x5d8b94(0x171)](_0x2f3f3b-_0x325b8c))return;}}const _0x37510d=this['configs'][_0x5d8b94(0x6d7)]['getConnections'](_0x5f1283=>_0x5f1283[_0x5d8b94(0x4ad)]()&&(!_0x24290c||_0x5f1283[_0x5d8b94(0x4b3)]()===_0x24290c));if(!_0x37510d['length']||0x0===_0x37510d['length'])throw new Error(_0x5d8b94(0x781));const _0x1b9405=this[_0x5d8b94(0x54e)][_0x5d8b94(0x6d7)][_0x5d8b94(0x26c)](this[_0x5d8b94(0x54e)][_0x5d8b94(0x783)]['getId'](),_0x3f3be9),_0x57dcab=_0x23b999(_0x3c7267[_0x5d8b94(0x214)],{'contentType':_0x44eeae[_0x5d8b94(0xee)][_0x5d8b94(0x371)],'label':_0x381d2f,'remoteId':_0x3f3be9});if(this[_0x5d8b94(0x242)][_0x5d8b94(0x644)](_0x57dcab)){if(_0x24290c)throw new Error(_0x5d8b94(0x2f1));const _0x33e63a=this['subscriptionRequests'][_0x5d8b94(0x568)](_0x57dcab)['getTracks']();if(_0x33e63a['length']===_0x3f6e89[_0x5d8b94(0x553)]&&_0x33e63a[_0x5d8b94(0x450)](_0x15688e=>_0x3f6e89['includes'](_0x15688e)))return;this[_0x5d8b94(0x54e)][_0x5d8b94(0x6d7)][_0x5d8b94(0x6f3)](this[_0x5d8b94(0x242)]['get'](_0x57dcab)),this[_0x5d8b94(0x242)]['delete'](_0x57dcab),_0x3f6e89=Array[_0x5d8b94(0x61e)](new Set(_0x3f6e89['concat'](_0x33e63a))),this[_0x5d8b94(0x3f0)](_0x57dcab);}const _0x39f25d=new _0xa7eefa(_0x37510d[_0x5d8b94(0x47f)](_0x3ea96e=>_0x3ea96e['getRemoteId']()),_0x1b9405,this[_0x5d8b94(0x5d0)],_0x3f6e89);this[_0x5d8b94(0x54e)]['mediator']['registerSystemSource'](_0x39f25d),this[_0x5d8b94(0x242)][_0x5d8b94(0x1a1)](_0x57dcab,_0x39f25d),_0x39f25d[_0x5d8b94(0x276)](this[_0x5d8b94(0x54e)][_0x5d8b94(0x783)][_0x5d8b94(0x591)](),_0x3f3be9,_0x381d2f,_0x3f6e89,_0x17902b),this[_0x5d8b94(0x4cf)](_0x381d2f,_0x3f3be9,_0x3f6e89,_0x17902b,_0x57dcab,_0x39f25d);}[_0x5a261d(0x3f0)](_0x39672e){const _0x45085b=_0x5a261d;this[_0x45085b(0x332)][_0x45085b(0x644)](_0x39672e)&&(clearTimeout(this[_0x45085b(0x332)][_0x45085b(0x568)](_0x39672e)),this['subscriptionRequestTimeouts']['delete'](_0x39672e));}[_0x5a261d(0x4cf)](_0x3480f1,_0x232fee,_0x350a4f,_0x101d1c,_0x17993c,_0x7203a1){const _0x37121d=_0x5a261d;this[_0x37121d(0x3f0)](_0x17993c),this['subscriptionRequestTimeouts']['set'](_0x17993c,setTimeout(()=>{const _0x33ea76=_0x37121d;this[_0x33ea76(0x332)][_0x33ea76(0x20a)](_0x17993c);try{const _0x58b7a3=_0x7203a1[_0x33ea76(0x1d5)]();this[_0x33ea76(0x313)](_0x58b7a3,_0x232fee,_0x3480f1,_0x17993c,_0x350a4f);}catch(_0x134a62){this[_0x33ea76(0x13f)](_0x3480f1,_0x232fee,_0x350a4f,_0x101d1c);}},0x7d0));}[_0x5a261d(0x47e)](_0x453017,_0x8ae9c,_0x2ec665,_0x2628b7,_0x2b8efd){const _0x5ba2a0=_0x5a261d,{subscriptionLabel:_0x442fc6}=this[_0x5ba2a0(0x397)](_0x8ae9c,_0x2628b7),_0x1581df=this['getMediaSubscription'](_0x442fc6),_0x517574=_0x1581df?.['params'];_0x1581df&&(_0x1581df['unsubscribe'](_0x2628b7,0x0),this[_0x5ba2a0(0x557)](_0x2ec665,_0x44eeae[_0x5ba2a0(0xee)][_0x5ba2a0(0x371)],_0x453017)),this[_0x5ba2a0(0x686)](_0x8ae9c,_0x2628b7,_0x2b8efd,_0x517574);}[_0x5a261d(0x2e4)](_0x5bfb97){const _0x1b3905=_0x5a261d,_0x5b4957=this[_0x1b3905(0x545)][_0x1b3905(0x283)][_0x1b3905(0x568)](_0x5bfb97);if(_0x5b4957){if(!(_0x5b4957 instanceof _0x274914))throw new _0x2826e7(_0x2826e7[_0x1b3905(0x776)][_0x1b3905(0x282)],{'label':_0x5bfb97,'subscription':_0x5b4957});return _0x5b4957;}}[_0x5a261d(0x397)](_0x192f33,_0x554d66){const _0x50b72e=_0x5a261d,_0x5364d9=this['getPartsForSubscriptionLabel'](_0x192f33,_0x554d66);return{'parts':_0x5364d9,'subscriptionLabel':_0x23b999(_0x3c7267[_0x50b72e(0x214)],_0x5364d9)};}['getPartsForSubscriptionLabel'](_0x166e02,_0x1f9737){const _0x391be1=_0x5a261d,_0x36e088=this['configs'][_0x391be1(0x6d7)][_0x391be1(0x4d0)](_0x1f9737,_0x166e02),_0x15293f=_0x36e088[_0x391be1(0x4fc)]();if(!_0x15293f)throw new _0x2826e7(_0x2826e7[_0x391be1(0x776)][_0x391be1(0x297)],{'label':_0x166e02,'streamId':_0x36e088[_0x391be1(0x41d)](),'ownerId':_0x1f9737,'localId':this[_0x391be1(0x54e)][_0x391be1(0x783)][_0x391be1(0x591)]()});return{'contentType':_0x44eeae[_0x391be1(0xee)]['Media'],'label':_0x36e088['getInternalStreamId'](),'remoteId':_0x15293f};}['cleanOldSubscription'](_0x28ce07,_0x2e0cbe,_0x553859,_0x4e7a71){const _0x1d30d5=_0x5a261d,_0x1d540d=_0x4e7a71[_0x1d30d5(0x4fc)]();if(_0x1d540d&&_0x1d540d!==_0x28ce07[_0x1d30d5(0x738)]){const {parts:_0x432ed5,subscriptionLabel:_0x1c5dd7}=this[_0x1d30d5(0x397)](_0x553859,_0x2e0cbe),_0x5c36a9=this[_0x1d30d5(0x2e4)](_0x1c5dd7);_0x5c36a9&&(_0x5c36a9['unsubscribe'](_0x2e0cbe,0x0),this[_0x1d30d5(0x557)](_0x432ed5['label'],_0x432ed5[_0x1d30d5(0x44d)],_0x432ed5[_0x1d30d5(0x2a2)]));}}}class _0x12202c{['configs'];[_0x5a261d(0x312)];[_0x5a261d(0x545)];constructor(_0x130383,_0x251cf6){const _0x13dd58=_0x5a261d;this[_0x13dd58(0x54e)]=_0x130383,this[_0x13dd58(0x312)]=_0x251cf6,this[_0x13dd58(0x545)]=new _0x39564f(({source:_0x7d3393,destination:_0xba2e09})=>_0x3fb2eb(_0x7d3393,_0xba2e09));}['createSubscription'](_0x20fa2c,_0x3add0b){const _0x5eae9a=_0x5a261d,_0x4f7603={'source':_0x20fa2c,'destination':_0x3add0b};this[_0x5eae9a(0x545)][_0x5eae9a(0x46c)](_0x3c7267[_0x5eae9a(0x3a8)],_0x4f7603);}[_0x5a261d(0x557)](_0x27b5ef,_0x57185d,_0x2b3c9e=''){const _0x5e262a=_0x5a261d,_0x42f142={'contentType':_0x57185d,'label':_0x27b5ef,'remoteId':_0x2b3c9e};this[_0x5e262a(0x545)]['removeSubscription'](_0x42f142,_0x3c7267[_0x5e262a(0x3a8)]);}['handleSubscriptionSubscribeMediaStream'](_0x26510e,_0x357919){const _0x8d0c33=_0x5a261d;let _0x4837cb;_0x4837cb=_0x357919[_0x8d0c33(0x24b)]!==this['configs']['localNode'][_0x8d0c33(0x591)]()?this['configs'][_0x8d0c33(0x6d7)][_0x8d0c33(0x4d0)](_0x357919[_0x8d0c33(0x24b)],_0x357919[_0x8d0c33(0x726)]):this['configs'][_0x8d0c33(0x6d7)][_0x8d0c33(0x492)](_0x357919[_0x8d0c33(0x726)]);const _0x308c46=_0x23b999(_0x3c7267['Outgoing'],{'contentType':_0x44eeae['ContentType']['Media'],'label':_0x4837cb[_0x8d0c33(0x51f)](),'remoteId':_0x26510e}),_0x4d96a5=this['getNumberOutgoingSubscriptions']();if(!this[_0x8d0c33(0x545)][_0x8d0c33(0x283)][_0x8d0c33(0x644)](_0x308c46)&&_0x4d96a5>=this[_0x8d0c33(0x312)])return{'type':_0x24c720[_0x8d0c33(0x68b)],'ownerId':_0x357919[_0x8d0c33(0x24b)],'label':_0x357919[_0x8d0c33(0x726)],'streamId':_0x4837cb[_0x8d0c33(0x51f)](),'trackKinds':_0x357919[_0x8d0c33(0x5bb)],'params':_0x357919[_0x8d0c33(0x107)]};_0x4837cb instanceof _0x1c6899&&!_0x4837cb[_0x8d0c33(0x61d)](_0x357919[_0x8d0c33(0x5bb)])&&_0x4837cb['subscribe'](_0x357919[_0x8d0c33(0x107)]),this[_0x8d0c33(0x545)][_0x8d0c33(0x283)][_0x8d0c33(0x644)](_0x308c46)||this[_0x8d0c33(0x46c)](_0x4837cb[_0x8d0c33(0x73d)](_0x26510e),this['configs'][_0x8d0c33(0x6d7)]['getConnection'](_0x26510e));}['handleSubscriptionUnsubscribeMediaStream'](_0x466c16,{label:_0x3b6c4c,ownerId:_0x22a630,remainingTracks:_0x38abec}){const _0x4fb60d=_0x5a261d;if(_0x38abec>0x0)return;let _0x35ff6f;_0x35ff6f=_0x22a630!==this[_0x4fb60d(0x54e)][_0x4fb60d(0x783)][_0x4fb60d(0x591)]()?this['configs'][_0x4fb60d(0x6d7)][_0x4fb60d(0x4d0)](_0x22a630,_0x3b6c4c):this[_0x4fb60d(0x54e)][_0x4fb60d(0x6d7)][_0x4fb60d(0x492)](_0x3b6c4c);const _0x513c73=_0x35ff6f['getShareableStreamId'](),_0x2d81b6=_0x44eeae['ContentType']['Media'];this[_0x4fb60d(0x557)](_0x513c73,_0x2d81b6,_0x466c16);}[_0x5a261d(0x3a6)](_0x35d91d,{label:_0x290149,ownerId:_0x30979e,trackKinds:_0x2be8ae}){const _0x9f774a=_0x5a261d;if(_0x35d91d!==_0x4f18fa)return[];let _0x3aa0a5=[];for(const _0x339a7f of this[_0x9f774a(0x545)][_0x9f774a(0x283)]){const {source:_0x13d25a,destination:_0x542986}=_0x339a7f[0x1];_0x13d25a[_0x9f774a(0x58a)]()===_0x290149&&_0x13d25a[_0x9f774a(0x613)]()===_0x30979e&&_0x3aa0a5[_0x9f774a(0x6bc)]({'sourceId':this[_0x9f774a(0x54e)]['localNode']['getId'](),'destinationIds':[_0x542986[_0x9f774a(0x4b3)]()],'messageType':_0x3a54c1[_0x9f774a(0x473)],'content':{'type':_0x24c720[_0x9f774a(0x4c6)],'label':_0x290149,'ownerId':_0x30979e,'trackKinds':_0x2be8ae}});}return _0x3aa0a5;}['handleSubscriptionNeedMediaStream'](_0x4421d6,_0x45c678){const _0x3b8768=_0x5a261d,{label:_0x5e9727,ownerId:_0x48826d,trackKinds:_0x3c3346,params:_0x2e25f3}=_0x45c678,{hasTracks:_0x4def24,streamId:_0x39c6e5,hasResolution:_0x268193,distance:_0x1e1d99,subscriptionLabel:_0x566974}=this[_0x3b8768(0x22d)](_0x4421d6,_0x45c678);let _0x5226a9=this[_0x3b8768(0x172)]()<this['maxOutgoingSubscriptions']&&(_0x4def24||_0x1e1d99>-0x1)?_0x24c720['CanProvideMediaStream']:_0x24c720[_0x3b8768(0x55a)];const _0x223b13=_0x1e1d99<0x0?0xa:_0x1e1d99;let _0x5734ec=_0x4def24?_0x268193?_0x223b13:_0x223b13+0x0:_0x223b13+0xa;return _0x566974&&this[_0x3b8768(0x545)]['subscriptions'][_0x3b8768(0x644)](_0x566974)&&(_0x4def24&&(_0x5734ec=0x0),_0x5226a9=_0x24c720['CanProvideMediaStream']),{'type':_0x5226a9,'cost':_0x5734ec,'distance':_0x1e1d99,'label':_0x5e9727,'ownerId':_0x48826d,'streamId':_0x39c6e5,'trackKinds':_0x3c3346,'params':_0x2e25f3};}[_0x5a261d(0x1ca)](_0x4b9780){const _0x146dde=_0x5a261d,{label:_0x32d339,ownerId:_0x2bb4de}=_0x4b9780,_0x169f2c=this[_0x146dde(0x54e)][_0x146dde(0x6d7)][_0x146dde(0x4d0)](_0x2bb4de,_0x32d339);this[_0x146dde(0x545)][_0x146dde(0x283)]['forEach'](_0x282fa7=>{const _0x25cc41=_0x146dde;if(_0x282fa7[_0x25cc41(0x45c)][_0x25cc41(0x41d)]()===_0x169f2c[_0x25cc41(0x51f)]()){const _0x501147=_0x282fa7[_0x25cc41(0x286)];this[_0x25cc41(0x557)](_0x169f2c[_0x25cc41(0x51f)](),_0x44eeae[_0x25cc41(0xee)][_0x25cc41(0x371)],_0x501147[_0x25cc41(0x4b3)]());}});}['handleContentCloseMediaStream']({label:_0x44330e}){const _0x6dbddc=_0x5a261d,_0x406674=this['configs'][_0x6dbddc(0x6d7)][_0x6dbddc(0x492)](_0x44330e);this[_0x6dbddc(0x545)][_0x6dbddc(0x283)][_0x6dbddc(0x675)](_0x417ea5=>{const _0x461e32=_0x6dbddc;if(_0x417ea5['source'][_0x461e32(0x41d)]()===_0x406674[_0x461e32(0x51f)]()){const _0x3d6b9d=_0x417ea5[_0x461e32(0x286)];this[_0x461e32(0x557)](_0x406674[_0x461e32(0x51f)](),_0x44eeae[_0x461e32(0xee)][_0x461e32(0x371)],_0x3d6b9d[_0x461e32(0x4b3)]());}});}[_0x5a261d(0x3d8)](_0xcf13fe){const _0x4d0053=_0x5a261d;this[_0x4d0053(0x545)][_0x4d0053(0x3d8)](_0xcf13fe);}[_0x5a261d(0x3e3)](){const _0x2b4ed2=_0x5a261d;this[_0x2b4ed2(0x545)][_0x2b4ed2(0x283)][_0x2b4ed2(0x675)](this[_0x2b4ed2(0x38a)]['bind'](this));}[_0x5a261d(0x38a)](_0x399e16,_0x2d5987){const _0x1ddba6=_0x5a261d;this['maps'][_0x1ddba6(0x38a)](_0x399e16,_0x2d5987);}[_0x5a261d(0x22d)](_0x26c4d8,{label:_0x46b13b,ownerId:_0x16efeb,trackKinds:_0x34da7b,params:_0x22f400}){const _0x26f3b7=_0x5a261d;if(_0x16efeb!==this[_0x26f3b7(0x54e)][_0x26f3b7(0x783)][_0x26f3b7(0x591)]()){const _0x55263a=this[_0x26f3b7(0x54e)][_0x26f3b7(0x6d7)][_0x26f3b7(0x4d0)](_0x16efeb,_0x46b13b);return _0x55263a&&_0x55263a[_0x26f3b7(0x4fc)]()!==_0x26c4d8?{'hasTracks':_0x55263a[_0x26f3b7(0x217)](_0x34da7b),'hasResolution':this['canProvideResolution'](_0x55263a[_0x26f3b7(0x134)](),_0x22f400),'streamId':_0x55263a[_0x26f3b7(0x51f)](),'distance':this[_0x26f3b7(0x54e)][_0x26f3b7(0x6d7)]['getDistance'](_0x26c4d8,_0x16efeb),'subscriptionLabel':_0x23b999(_0x3c7267['Outgoing'],{'contentType':_0x44eeae[_0x26f3b7(0xee)]['Media'],'label':_0x55263a[_0x26f3b7(0x51f)](),'remoteId':_0x26c4d8})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x37ffa4=this[_0x26f3b7(0x54e)][_0x26f3b7(0x6d7)][_0x26f3b7(0x492)](_0x46b13b);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x37ffa4[_0x26f3b7(0x51f)](),'distance':0x0,'subscriptionLabel':_0x23b999(_0x3c7267[_0x26f3b7(0x3a8)],{'contentType':_0x44eeae[_0x26f3b7(0xee)][_0x26f3b7(0x371)],'label':_0x37ffa4['getShareableStreamId'](),'remoteId':_0x26c4d8})};}[_0x5a261d(0x172)](){const _0x49f702=_0x5a261d;return Array[_0x49f702(0x61e)](this['maps']['subscriptions']['entries']())[_0x49f702(0x279)](([_0xb13a20,{source:_0x563d88}])=>_0xb13a20[_0x49f702(0x47a)](_0x3c7267[_0x49f702(0x3a8)])&&_0x563d88[_0x49f702(0x72b)]()===_0x44eeae['ContentType'][_0x49f702(0x371)])[_0x49f702(0x553)];}['canProvideResolution'](_0x22546e,_0x1e9f61){const _0x45a6b7=_0x5a261d;if(!_0x1e9f61||!_0x1e9f61[_0x45a6b7(0x135)]||_0x45a6b7(0x467)==typeof _0x1e9f61[_0x45a6b7(0x135)]||!_0x1e9f61['video'][_0x45a6b7(0x5f8)])return!0x0;const {width:_0x17ccfd,height:_0x4fb344}=_0x1e9f61[_0x45a6b7(0x135)][_0x45a6b7(0x5f8)];return _0x22546e[_0x45a6b7(0x263)]>=_0x17ccfd&&_0x22546e[_0x45a6b7(0x4f7)]>=_0x4fb344;}}class _0x1e0946{[_0x5a261d(0x54e)];['maxOutgoingSubscriptions'];[_0x5a261d(0x5d0)];['systemTopic'];[_0x5a261d(0x177)];[_0x5a261d(0x1df)];constructor(_0x32a76,_0x9c0db5,_0x296781){const _0x2eff26=_0x5a261d;this['configs']=_0x32a76,this[_0x2eff26(0x312)]=_0x9c0db5,this[_0x2eff26(0x5d0)]=_0x296781,this[_0x2eff26(0x54e)][_0x2eff26(0x6d7)][_0x2eff26(0x334)](this),this[_0x2eff26(0x177)]=new _0x50297c(this[_0x2eff26(0x54e)],this['maxDistance']),this[_0x2eff26(0x1df)]=new _0x12202c(this[_0x2eff26(0x54e)],this[_0x2eff26(0x312)]);}[_0x5a261d(0x126)](_0x4d9355){const _0x2ad767=_0x5a261d;this[_0x2ad767(0x30a)]=_0x4d9355;}['unregisterSystemPublisher'](){const _0x5b0f89=_0x5a261d;delete this[_0x5b0f89(0x30a)];}['close'](){const _0x49580d=_0x5a261d;this[_0x49580d(0x177)][_0x49580d(0x3e3)](),this[_0x49580d(0x1df)][_0x49580d(0x3e3)](),this[_0x49580d(0x54e)][_0x49580d(0x6d7)]['unregisterSystemSource'](this);}[_0x5a261d(0x23e)](_0x89ed36,_0x3cb3c3){const _0x4661cd=_0x5a261d;this[_0x4661cd(0x177)][_0x4661cd(0x46c)](_0x89ed36,_0x3cb3c3);}['createOutgoingSubscription'](_0x2ea47b,_0x46370a){const _0x156921=_0x5a261d;this[_0x156921(0x1df)][_0x156921(0x46c)](_0x2ea47b,_0x46370a);}[_0x5a261d(0x27c)](_0x227f57,_0x5cb416,_0xa10763=''){const _0x49cbb7=_0x5a261d;this[_0x49cbb7(0x177)][_0x49cbb7(0x557)](_0x227f57,_0x5cb416,_0xa10763);}[_0x5a261d(0x1c1)](_0x4b466d,_0x45117a,_0x4d0b4c=''){const _0x3ddf7c=_0x5a261d;try{this[_0x3ddf7c(0x1df)][_0x3ddf7c(0x557)](_0x4b466d,_0x45117a,_0x4d0b4c);}catch(_0x7e518f){if(_0x7e518f instanceof _0x2826e7&&_0x7e518f[_0x3ddf7c(0x509)]===_0x2826e7[_0x3ddf7c(0x776)]['InvalidSubscription'])return;}}[_0x5a261d(0x394)](_0x52977f){const _0x5771c4=_0x5a261d;switch(_0x52977f[_0x5771c4(0x365)][_0x5771c4(0x274)]){case _0x24c720['SubscribeMediaStream']:this[_0x5771c4(0x338)](_0x52977f['sourceId'],_0x52977f[_0x5771c4(0x365)]);break;case _0x24c720['UnsubscribeMediaStream']:this[_0x5771c4(0x1df)][_0x5771c4(0x309)](_0x52977f[_0x5771c4(0x6f8)],_0x52977f['content']);break;case _0x24c720['NeedMediaStream']:this[_0x5771c4(0x5aa)](_0x52977f[_0x5771c4(0x6f8)],_0x52977f[_0x5771c4(0x365)]);break;case _0x24c720[_0x5771c4(0x68b)]:this[_0x5771c4(0x177)][_0x5771c4(0x17a)](_0x52977f['sourceId'],_0x52977f[_0x5771c4(0x365)]);break;case _0x24c720[_0x5771c4(0x66d)]:case _0x24c720[_0x5771c4(0x55a)]:this[_0x5771c4(0x177)][_0x5771c4(0x224)](_0x52977f[_0x5771c4(0x6f8)],_0x52977f['content']);break;case _0x24c720[_0x5771c4(0x4c6)]:this[_0x5771c4(0x177)][_0x5771c4(0x490)](_0x52977f['sourceId'],_0x52977f['content']);}}[_0x5a261d(0x1f0)](_0x5afe56){const _0x2a4392=_0x5a261d;switch(_0x5afe56['content']['type']){case _0x534fb2[_0x2a4392(0x419)]:this[_0x2a4392(0x177)]['handleContentUnpublishMediaStream'](_0x5afe56['content']),this['outgoingManager']['handleContentUnpublishMediaStream'](_0x5afe56['content']);break;case _0x534fb2[_0x2a4392(0x46d)]:this[_0x2a4392(0x177)][_0x2a4392(0x4a8)](_0x5afe56[_0x2a4392(0x365)]);break;case _0x534fb2[_0x2a4392(0x6f1)]:this[_0x2a4392(0x177)][_0x2a4392(0x262)](_0x5afe56[_0x2a4392(0x365)]);break;case _0x534fb2['UnsubscribeMediaStream']:this[_0x2a4392(0x3a6)](_0x5afe56[_0x2a4392(0x6f8)],_0x5afe56[_0x2a4392(0x365)]);break;case _0x534fb2[_0x2a4392(0x5ae)]:this[_0x2a4392(0x1df)]['handleContentCloseMediaStream'](_0x5afe56[_0x2a4392(0x365)]);break;case _0x534fb2['ClosePubSubTopic']:this['handleContentClosePubSubTopic'](_0x5afe56[_0x2a4392(0x365)]);break;case _0x534fb2[_0x2a4392(0x4fb)]:this['handleContentCloseObjectStore'](_0x5afe56[_0x2a4392(0x365)]);break;case _0x534fb2[_0x2a4392(0x2ad)]:this[_0x2a4392(0x385)](_0x5afe56[_0x2a4392(0x365)]);break;case _0x534fb2[_0x2a4392(0x124)]:case _0x534fb2[_0x2a4392(0x4e8)]:this['handleContentCloseJob'](_0x5afe56['content']);break;case _0x534fb2[_0x2a4392(0x5c1)]:this['incomingManager'][_0x2a4392(0x280)](_0x5afe56[_0x2a4392(0x365)]);}}[_0x5a261d(0x219)]({content:_0x33aba4}){const _0x328275=_0x5a261d;_0x33aba4[_0x328275(0x274)]===_0x2d2d29[_0x328275(0x152)]&&this[_0x328275(0x3d8)](_0x33aba4);}[_0x5a261d(0x654)](_0x475175){const _0x43b1a3=_0x5a261d;_0x475175[_0x43b1a3(0x365)]['type']===_0x48dd43[_0x43b1a3(0x754)]&&this[_0x43b1a3(0x177)][_0x43b1a3(0x44b)](_0x475175[_0x43b1a3(0x6f8)]);}[_0x5a261d(0x3a6)](_0x482b3b,_0x4ffb51){const _0x2053ab=_0x5a261d;this['incomingManager'][_0x2053ab(0x3a6)](_0x4ffb51),this[_0x2053ab(0x1df)]['handleContentUnsubscribeMediaStream'](_0x482b3b,_0x4ffb51)['forEach'](_0x241f1d=>this[_0x2053ab(0x30a)][_0x2053ab(0x3b8)](_0x241f1d));}[_0x5a261d(0x338)](_0x3d5edc,_0x5aa2b9){const _0x40aea6=_0x5a261d,_0x40b9bd=this[_0x40aea6(0x1df)][_0x40aea6(0x338)](_0x3d5edc,_0x5aa2b9);if(_0x40b9bd&&(this[_0x40aea6(0x30a)][_0x40aea6(0x3b8)]({'sourceId':this[_0x40aea6(0x54e)][_0x40aea6(0x783)][_0x40aea6(0x591)](),'destinationIds':[_0x3d5edc],'messageType':_0x3a54c1[_0x40aea6(0x473)],'content':_0x40b9bd}),_0x40b9bd[_0x40aea6(0x274)]===_0x24c720[_0x40aea6(0x68b)]))throw new _0x29aa20(_0x40aea6(0x529));}['handleSubscriptionNeedMediaStream'](_0x18611c,_0x4f9937){const _0x27bb90=_0x5a261d,_0x28c973=this[_0x27bb90(0x1df)]['handleSubscriptionNeedMediaStream'](_0x18611c,_0x4f9937);this[_0x27bb90(0x30a)][_0x27bb90(0x3b8)]({'sourceId':this[_0x27bb90(0x54e)][_0x27bb90(0x783)][_0x27bb90(0x591)](),'destinationIds':[_0x18611c],'messageType':_0x3a54c1[_0x27bb90(0x473)],'content':_0x28c973});}[_0x5a261d(0x5ce)]({label:_0x38125f}){const _0x54dcfc=_0x5a261d;this['removeIncomingSubscription'](_0x38125f,_0x44eeae[_0x54dcfc(0xee)][_0x54dcfc(0x374)]),this['removeOutgoingSubscription'](_0x38125f,_0x44eeae['ContentType'][_0x54dcfc(0x374)]);}[_0x5a261d(0x385)]({label:_0x1ef19c}){const _0x58f9e1=_0x5a261d;this[_0x58f9e1(0x27c)](_0x1ef19c,_0x44eeae[_0x58f9e1(0xee)]['KeyValueDatabase']),this['removeOutgoingSubscription'](_0x1ef19c,_0x44eeae[_0x58f9e1(0xee)][_0x58f9e1(0x558)]);}[_0x5a261d(0x474)]({label:_0x1ea634}){const _0x27b7ff=_0x5a261d;this[_0x27b7ff(0x27c)](_0x1ea634,_0x44eeae[_0x27b7ff(0xee)][_0x27b7ff(0x48c)]),this[_0x27b7ff(0x1c1)](_0x1ea634,_0x44eeae[_0x27b7ff(0xee)]['PubSub']);}[_0x5a261d(0x335)]({label:_0x420193}){const _0x5c64fc=_0x5a261d;this[_0x5c64fc(0x27c)](_0x420193,_0x44eeae[_0x5c64fc(0xee)]['Job']),this['removeOutgoingSubscription'](_0x420193,_0x44eeae[_0x5c64fc(0xee)][_0x5c64fc(0x505)]);}[_0x5a261d(0x3d8)]({id:_0x13aad8}){const _0x26c331=_0x5a261d;this['incomingManager'][_0x26c331(0x3d8)](_0x13aad8),this['outgoingManager'][_0x26c331(0x3d8)](_0x13aad8);}}class _0xfda9e3{[_0x5a261d(0x726)];[_0x5a261d(0x36d)]=_0x5c88af();constructor(){const _0x3c5892=_0x5a261d;this[_0x3c5892(0x726)]=0x0;}[_0x5a261d(0x58a)](){return this['label'];}[_0x5a261d(0x72b)](){const _0x4d6a7d=_0x5a261d;return _0x44eeae[_0x4d6a7d(0xee)]['Data'];}[_0x5a261d(0x5e9)](_0x5f094d){const _0x564f8f=_0x5a261d;_0x5f094d[_0x564f8f(0x126)](this);}[_0x5a261d(0x3e5)](_0x3e4371){const _0x13885b=_0x5a261d;_0x3e4371[_0x13885b(0x5bc)]();}[_0x5a261d(0x3b8)](_0x59de5c){const _0x16ef65=_0x5a261d;_0x50fe93[_0x16ef65(0x287)](_0x2d7d49['Events'],_0x16ef65(0x4f6),_0x59de5c[_0x16ef65(0x6f8)],_0x59de5c),this[_0x16ef65(0x36d)]['publish']({'topicLabel':this[_0x16ef65(0x726)],'contentType':_0x44eeae[_0x16ef65(0xee)][_0x16ef65(0x50d)],'uuid':_0x59de5c['uuid']??(0x0,_0x298876['v4'])(),'recipients':_0x59de5c[_0x16ef65(0x20e)]??[],..._0x59de5c});}[_0x5a261d(0x313)](_0x285bc6){const _0x488097=_0x5a261d;return this[_0x488097(0x36d)]['subscribe'](_0x285bc6);}}class _0x1aa186{[_0x5a261d(0x3d9)];[_0x5a261d(0x6a9)];['maxDistance'];[_0x5a261d(0x53e)]=[];[_0x5a261d(0x532)];[_0x5a261d(0x388)]=new Map();constructor(_0x2a05fb,_0x259365,_0x43a110){const _0x17d354=_0x5a261d;this[_0x17d354(0x3d9)]=_0x2a05fb,this[_0x17d354(0x6a9)]=_0x259365,this[_0x17d354(0x5d0)]=_0x43a110,this['maxLayer']=(this[_0x17d354(0x6a9)]-0x2*this['minConnections'])/0x2,this[_0x17d354(0x53e)][_0x17d354(0x6bc)]({'start':0x1,'end':this[_0x17d354(0x5a2)](0x1,0x1)-0x1});for(let _0x566d9b=0x0;_0x566d9b<this[_0x17d354(0x532)];++_0x566d9b)this[_0x17d354(0x53e)][_0x17d354(0x6bc)]({'start':this[_0x17d354(0x5a2)](0x1,_0x566d9b+0x1),'end':this[_0x17d354(0x5a2)](0x1,_0x566d9b+0x2)-0x1});}[_0x5a261d(0x5a2)](_0x5ecd97,_0x22eb92=0x1){const _0x472034=_0x5a261d;let _0x41a2ff=this[_0x472034(0x5d0)]-this['minConnections'],_0x430cf8=0x1;for(let _0x2fc81b=0x1;_0x2fc81b<_0x22eb92;++_0x2fc81b)_0x41a2ff*=this['maxDistance']-this[_0x472034(0x3d9)]-_0x2fc81b,_0x430cf8*=this['maxDistance']-this[_0x472034(0x3d9)]-_0x2fc81b+0x1;return _0x41a2ff*this['minConnections']+_0x5ecd97-_0x430cf8;}[_0x5a261d(0x647)](_0x1d3079){let _0x51abc3=0x0;for(;this['ranges'][_0x51abc3]['end']<_0x1d3079;)_0x51abc3+=0x1;return _0x51abc3;}[_0x5a261d(0x322)](){const _0x540dc2=_0x5a261d;return this[_0x540dc2(0x3d9)];}[_0x5a261d(0x42e)](){const _0x2823ba=_0x5a261d;return this[_0x2823ba(0x6a9)];}['getMaxDistance'](){const _0x4d0ee5=_0x5a261d;return this[_0x4d0ee5(0x5d0)];}['getRemoteNodes'](){return this['remoteNodes'];}['setRemoteNode'](_0x321cd4,_0xf8bef1){const _0x5d960c=_0x5a261d;this[_0x5d960c(0x388)][_0x5d960c(0x1a1)](_0x321cd4,_0xf8bef1);}[_0x5a261d(0x3f3)](_0x3c8143){const _0x129211=_0x5a261d;return this[_0x129211(0x388)][_0x129211(0x644)](_0x3c8143);}[_0x5a261d(0x51b)](_0x152cf2){const _0x250df0=_0x5a261d;return this[_0x250df0(0x388)][_0x250df0(0x568)](_0x152cf2);}['deleteRemoteNode'](_0x4b63f0){const _0x1d9e66=_0x5a261d;this['remoteNodes'][_0x1d9e66(0x20a)](_0x4b63f0);}[_0x5a261d(0x16a)](_0x4ef491,_0x1fcf6b){const _0xd06072=_0x5a261d,_0x225f91=this['getRemoteNode'](_0x1fcf6b)?.[_0xd06072(0x67e)]()??0x0;return _0x4ef491[_0xd06072(0x47f)](_0x1cc21b=>this[_0xd06072(0x51b)](_0x1cc21b))[_0xd06072(0x279)](_0x262764=>void 0x0!==_0x262764)['sort']((_0x3ca702,_0x188a76)=>Math[_0xd06072(0x171)](_0x225f91-(_0x3ca702&&_0x3ca702['getRank']()||0x1/0x0))-Math[_0xd06072(0x171)](_0x225f91-(_0x188a76&&_0x188a76[_0xd06072(0x67e)]()||0x1/0x0)))[_0xd06072(0x47f)](_0x47ca44=>_0x47ca44[_0xd06072(0x591)]());}}class _0x551026{[_0x5a261d(0xe6)];['clusterId'];[_0x5a261d(0x4e3)];[_0x5a261d(0x51c)];[_0x5a261d(0x530)];['configs'];[_0x5a261d(0x15c)];['contentManager'];['connectionManager'];[_0x5a261d(0x1b5)];['statsManager'];[_0x5a261d(0x308)];[_0x5a261d(0x701)];[_0x5a261d(0x11e)];[_0x5a261d(0x2f3)];[_0x5a261d(0x30a)]=new _0xfda9e3();[_0x5a261d(0x560)];[_0x5a261d(0x783)];constructor(_0x1e110b,_0x5a9113,_0x51e9c6,_0x4c8b59,_0x498157,_0x1e0176,_0x28f98c){const _0x59ae44=_0x5a261d;switch(this[_0x59ae44(0xe6)]=_0x1e110b,this[_0x59ae44(0x1f3)]=_0x5a9113,this[_0x59ae44(0x4e3)]=_0x51e9c6,this[_0x59ae44(0x51c)]=_0x4c8b59,this[_0x59ae44(0x530)]=_0x498157,this[_0x59ae44(0x54e)]=_0x1e0176,this['clusterEventEmitter']=_0x28f98c,_0x51e9c6[_0x59ae44(0x274)]){case _0x44eeae[_0x59ae44(0x423)]['User']:this['localNode']=new _0x1bbaec(_0x51e9c6[_0x59ae44(0x591)](),_0x51e9c6['getDisplayName'](),_0x51e9c6[_0x59ae44(0x49f)]());break;case _0x44eeae[_0x59ae44(0x423)][_0x59ae44(0x431)]:default:this[_0x59ae44(0x783)]=new _0x2b134d(_0x51e9c6[_0x59ae44(0x591)]());}const _0x69bd8c=this['getConfigs']();this[_0x59ae44(0x2f3)]=new _0x1aa186(this[_0x59ae44(0x530)]['minConnections'],this[_0x59ae44(0x530)][_0x59ae44(0x6a9)],this[_0x59ae44(0x530)][_0x59ae44(0x5d0)]),this[_0x59ae44(0x37a)]=new _0x592267(_0x69bd8c,this[_0x59ae44(0x530)][_0x59ae44(0xe5)],this[_0x59ae44(0x530)]['audioContext']),this[_0x59ae44(0x638)]=new _0x508f2f(_0x69bd8c,this[_0x59ae44(0x51c)],this[_0x59ae44(0x54e)][_0x59ae44(0x596)],this['options'][_0x59ae44(0xe5)],this[_0x59ae44(0x530)][_0x59ae44(0x5de)],this[_0x59ae44(0x2f3)],this['options'][_0x59ae44(0x22e)]),this['subscriptionManager']=new _0x1e0946(_0x69bd8c,this[_0x59ae44(0x530)][_0x59ae44(0x312)],this[_0x59ae44(0x2f3)][_0x59ae44(0x132)]()),this[_0x59ae44(0x2af)]=new _0x23af21(_0x69bd8c),this['detectionManager']=new _0x548973(_0x69bd8c),this[_0x59ae44(0x701)]=new _0x59f41c(_0x69bd8c),this[_0x59ae44(0x11e)]=new _0x4276fd(_0x69bd8c,this[_0x59ae44(0x2f3)],this[_0x59ae44(0x783)]),this[_0x59ae44(0x560)]=this[_0x59ae44(0x180)]();}[_0x5a261d(0x625)](){const _0x3d41f9=_0x5a261d,_0x54b46d=this[_0x3d41f9(0x664)]();this[_0x3d41f9(0x638)]=new _0x508f2f(_0x54b46d,this[_0x3d41f9(0x51c)],this['configs'][_0x3d41f9(0x596)],this[_0x3d41f9(0x530)][_0x3d41f9(0xe5)],this[_0x3d41f9(0x530)][_0x3d41f9(0x5de)],this[_0x3d41f9(0x2f3)],this[_0x3d41f9(0x530)]['peerConnectionConnector']),this[_0x3d41f9(0x1b5)]=new _0x1e0946(_0x54b46d,this[_0x3d41f9(0x530)]['maxOutgoingSubscriptions'],this[_0x3d41f9(0x2f3)][_0x3d41f9(0x132)]()),this[_0x3d41f9(0x2af)]=new _0x23af21(_0x54b46d),this[_0x3d41f9(0x308)]=new _0x548973(_0x54b46d),this[_0x3d41f9(0x701)]=new _0x59f41c(_0x54b46d),this['nodeManager']=new _0x4276fd(_0x54b46d,this[_0x3d41f9(0x2f3)],this['localNode']);const _0x3b057d=this[_0x3d41f9(0x638)][_0x3d41f9(0x353)]();this[_0x3d41f9(0x37a)]['getPubSubTopics']()[_0x3d41f9(0x675)](_0x507fb7=>{const _0x1f8dc=_0x3d41f9;this['subscriptionManager']['createOutgoingSubscription'](_0x507fb7,_0x3b057d),this[_0x1f8dc(0x1b5)][_0x1f8dc(0x23e)](_0x3b057d,_0x507fb7),_0x507fb7[_0x1f8dc(0x352)]();}),this[_0x3d41f9(0x37a)][_0x3d41f9(0x4ef)]()[_0x3d41f9(0x675)](_0x1f79a3=>{const _0x5c537b=_0x3d41f9;this[_0x5c537b(0x1b5)][_0x5c537b(0x176)](_0x1f79a3,_0x3b057d),this[_0x5c537b(0x1b5)][_0x5c537b(0x23e)](_0x3b057d,_0x1f79a3),_0x1f79a3[_0x5c537b(0x352)](),_0x1f79a3[_0x5c537b(0x2cc)]();}),this[_0x3d41f9(0x37a)]['getKeyValueDatabases']()['forEach'](_0x5d0137=>{const _0x2fed30=_0x3d41f9;this['subscriptionManager']['createOutgoingSubscription'](_0x5d0137,_0x3b057d),this[_0x2fed30(0x1b5)][_0x2fed30(0x23e)](_0x3b057d,_0x5d0137),_0x5d0137['reset'](),this[_0x2fed30(0x5cb)](_0x5d0137);}),this['contentManager'][_0x3d41f9(0x575)]()[_0x3d41f9(0x675)](_0x2415ff=>{const _0x30fc04=_0x3d41f9;this[_0x30fc04(0x1b5)][_0x30fc04(0x176)](_0x2415ff,_0x3b057d),this[_0x30fc04(0x1b5)][_0x30fc04(0x23e)](_0x3b057d,_0x2415ff),_0x2415ff['reset']();}),this['contentManager']['getJobWorkers']()[_0x3d41f9(0x675)](_0x343237=>{const _0x18f8a7=_0x3d41f9;this[_0x18f8a7(0x1b5)][_0x18f8a7(0x176)](_0x343237,_0x3b057d),this[_0x18f8a7(0x1b5)][_0x18f8a7(0x23e)](_0x3b057d,_0x343237),_0x343237[_0x18f8a7(0x352)]();}),this[_0x3d41f9(0x560)]=this[_0x3d41f9(0x180)]();}[_0x5a261d(0x334)](_0x2fd201){const _0x416760=_0x5a261d;try{this[_0x416760(0x30a)][_0x416760(0x5e9)](_0x2fd201);}catch(_0x468abd){this[_0x416760(0x5e0)](_0x468abd,{});}}[_0x5a261d(0x6f3)](_0x26c8f1){const _0x8d994a=_0x5a261d;try{this['systemTopic'][_0x8d994a(0x3e5)](_0x26c8f1);}catch(_0x3c7af6){this[_0x8d994a(0x5e0)](_0x3c7af6,{});}}['createConnection'](_0x4dee4c,_0x1671df){const _0x2f8f05=_0x5a261d;return this['connectionManager'][_0x2f8f05(0x602)](_0x4dee4c,_0x1671df);}[_0x5a261d(0x3ca)](_0x43ea63){const _0x4314ce=_0x5a261d;try{return this['connectionManager'][_0x4314ce(0x3ca)](_0x43ea63);}catch(_0x213d55){throw this[_0x4314ce(0x5e0)](_0x213d55,{});}}['getConnections'](_0x4bff70){const _0x599753=_0x5a261d;try{return this[_0x599753(0x638)][_0x599753(0x67d)](_0x4bff70);}catch(_0x48ba7e){throw this[_0x599753(0x5e0)](_0x48ba7e,{});}}[_0x5a261d(0x4d0)](_0x4337a5,_0x2175ab){const _0x34829f=_0x5a261d;try{return this[_0x34829f(0x37a)][_0x34829f(0x35c)](_0x1d33de=>_0x1d33de['getOwnerId']()===_0x4337a5&&_0x1d33de[_0x34829f(0x58a)]()===_0x2175ab)[0x0];}catch(_0xfd8d34){throw this[_0x34829f(0x5e0)](_0xfd8d34,{});}}[_0x5a261d(0x492)](_0x3751db){const _0x850dee=_0x5a261d;try{return this['contentManager'][_0x850dee(0x436)](_0x5e6e17=>_0x5e6e17[_0x850dee(0x58a)]()===_0x3751db)[0x0];}catch(_0xe06aa6){throw this[_0x850dee(0x5e0)](_0xe06aa6,{});}}[_0x5a261d(0x57e)]=(..._0x52eb2f)=>{const _0x1d9acb=_0x5a261d;try{return this[_0x1d9acb(0x15c)][_0x1d9acb(0x5e6)](..._0x52eb2f);}catch(_0x577a54){throw this[_0x1d9acb(0x5e0)](_0x577a54,{});}};[_0x5a261d(0x2c1)](_0xfc15b0){const _0x2a475e=_0x5a261d;try{this['statsManager']['addRemoteNode'](_0xfc15b0);}catch(_0x36d121){throw this[_0x2a475e(0x5e0)](_0x36d121,{});}}[_0x5a261d(0x717)](_0x5a0ac4){const _0x3470da=_0x5a261d;try{this['statsManager'][_0x3470da(0x673)](_0x5a0ac4);}catch(_0x54a82c){throw this[_0x3470da(0x5e0)](_0x54a82c,{});}}['collectStats'](_0x159a09){return this['connectionManager']['collectStats'](_0x159a09);}async[_0x5a261d(0x52e)](){const _0x8e4f0c=_0x5a261d;try{await this['connectionManager'][_0x8e4f0c(0x52e)]();const _0x589be2=await this[_0x8e4f0c(0x11e)][_0x8e4f0c(0x48a)]();for(const _0x32abaf of _0x589be2)this['connectionManager'][_0x8e4f0c(0x602)](_0x32abaf);}catch(_0x7b88d){throw this['handleError'](_0x7b88d,{});}}[_0x5a261d(0x3e8)](_0xc26d11){const _0x3d6c6b=_0x5a261d;this[_0x3d6c6b(0x783)][_0x3d6c6b(0x274)]===_0x44eeae['NodeType'][_0x3d6c6b(0x377)]&&(this['localNode'][_0x3d6c6b(0x2aa)](_0xc26d11[_0x3d6c6b(0x49f)]()),this[_0x3d6c6b(0x783)]['setDisplayName'](_0xc26d11[_0x3d6c6b(0x5b1)]()));}[_0x5a261d(0x3e3)](_0x5745c9=!0x1){const _0xf67e1=_0x5a261d;_0x50fe93['warning']('orchestrator-close',{'clusterId':this[_0xf67e1(0x1f3)],'nodeId':this['localNode'][_0xf67e1(0x591)](),'nodeType':this[_0xf67e1(0x783)][_0xf67e1(0x274)]}),this['systemTopicUnsubscribe'](),this[_0xf67e1(0x701)][_0xf67e1(0x3e3)](),this[_0xf67e1(0x308)][_0xf67e1(0x3e3)](),this['statsManager'][_0xf67e1(0x3e3)](),this[_0xf67e1(0x1b5)][_0xf67e1(0x3e3)](),this[_0xf67e1(0x638)][_0xf67e1(0x3e3)](),this[_0xf67e1(0x37a)][_0xf67e1(0x3e3)](_0x5745c9),this[_0xf67e1(0x11e)][_0xf67e1(0x3e3)]();}['openPubSubTopic'](_0x7319d4){const _0x370e5d=_0x5a261d;try{const _0x4cdd70=this['contentManager'][_0x370e5d(0x6f6)](_0x7319d4),_0x448b2e=this[_0x370e5d(0x638)][_0x370e5d(0x353)]();return this[_0x370e5d(0x1b5)]['createOutgoingSubscription'](_0x4cdd70,_0x448b2e),this[_0x370e5d(0x1b5)][_0x370e5d(0x23e)](_0x448b2e,_0x4cdd70),_0x4cdd70;}catch(_0x184172){throw this[_0x370e5d(0x5e0)](_0x184172,{});}}async['openObjectStoreBucket'](_0x1ce0f7,_0x8116fd){const _0x1b6f28=_0x5a261d;try{const _0x5f2c8b=this[_0x1b6f28(0x37a)][_0x1b6f28(0x32e)](_0x1ce0f7,this[_0x1b6f28(0x530)][_0x1b6f28(0x1b8)]),_0x40b4ce=this[_0x1b6f28(0x638)][_0x1b6f28(0x353)]();return this['subscriptionManager']['createOutgoingSubscription'](_0x5f2c8b,_0x40b4ce),this[_0x1b6f28(0x1b5)][_0x1b6f28(0x23e)](_0x40b4ce,_0x5f2c8b),await _0x5f2c8b[_0x1b6f28(0x2cc)](_0x8116fd?.['syncContent']??!0x0),_0x5f2c8b;}catch(_0x56fd00){throw this[_0x1b6f28(0x5e0)](_0x56fd00,{});}}async['openKeyValueDatabase'](_0x2c75ba,_0x5ab8c3){const _0x5dbb50=_0x5a261d;try{const _0x3f6123=await this[_0x5dbb50(0x37a)][_0x5dbb50(0x190)](_0x2c75ba,_0x5ab8c3,this['options']['keyValueDatabaseConnector']),_0x21ab68=this['connectionManager'][_0x5dbb50(0x353)]();return this[_0x5dbb50(0x1b5)][_0x5dbb50(0x176)](_0x3f6123,_0x21ab68),this[_0x5dbb50(0x1b5)][_0x5dbb50(0x23e)](_0x21ab68,_0x3f6123),await _0x3f6123[_0x5dbb50(0x625)](),this[_0x5dbb50(0x5cb)](_0x3f6123),_0x3f6123;}catch(_0x550207){throw this[_0x5dbb50(0x5e0)](_0x550207,{});}}async[_0x5a261d(0x38d)](_0x365a14){const _0x460318=_0x5a261d;try{const _0x85c677=await this[_0x460318(0x37a)]['createJobDispatcher'](_0x365a14,this[_0x460318(0x2f3)]),_0x435c5a=this[_0x460318(0x638)][_0x460318(0x353)]();return this['subscriptionManager'][_0x460318(0x176)](_0x85c677,_0x435c5a),this[_0x460318(0x1b5)][_0x460318(0x23e)](_0x435c5a,_0x85c677),_0x85c677[_0x460318(0x625)](),_0x85c677;}catch(_0x4ca9fa){throw this[_0x460318(0x5e0)](_0x4ca9fa,{});}}async['openJobWorker'](_0x54ff6e){const _0x3d608d=_0x5a261d;throw new Error(_0x3d608d(0x4d9));}async['openGenerativeAIContext'](_0x3f2a6c){const _0x30c6de=_0x5a261d;try{const _0x24377f=await this['openObjectStoreBucket'](_0x30c6de(0x3ff)+_0x3f2a6c,{'syncContent':!0x1}),_0x44769b=await this[_0x30c6de(0x37a)][_0x30c6de(0x40b)](_0x3f2a6c,this[_0x30c6de(0x2f3)],_0x24377f),_0x705dfb=this[_0x30c6de(0x638)][_0x30c6de(0x353)]();return this['subscriptionManager'][_0x30c6de(0x176)](_0x44769b,_0x705dfb),this[_0x30c6de(0x1b5)]['createIncomingSubscription'](_0x705dfb,_0x44769b),await _0x44769b[_0x30c6de(0x625)](),_0x44769b;}catch(_0x5e8bb9){throw console[_0x30c6de(0x671)](_0x5e8bb9),this[_0x30c6de(0x5e0)](_0x5e8bb9,{});}}async['openGenerativeAIWorker'](_0x33af4e){const _0x390a41=_0x5a261d;try{if(!this[_0x390a41(0x530)][_0x390a41(0x511)]||!this['options']['vectorDatabaseConnector'])throw new _0x1a3a24(_0x1cb6bb[_0x390a41(0x34a)],_0x390a41(0x5c4));if(!(this['authNode']instanceof _0x20d0f3))throw new _0x1a3a24(_0x1cb6bb[_0x390a41(0x340)],'Node\x20is\x20not\x20an\x20agent');const _0xe2367=await this[_0x390a41(0x5b4)](_0x390a41(0x3ff)+_0x33af4e),_0x218078=new this[(_0x390a41(0x530))][(_0x390a41(0x511))](this[_0x390a41(0x530)][_0x390a41(0x1f6)]),_0x4eb226=await this['contentManager'][_0x390a41(0x57a)](_0x33af4e,this[_0x390a41(0x4e3)],_0x218078,_0xe2367),_0x35eab3=this[_0x390a41(0x638)]['getConnectionGroup']();return this[_0x390a41(0x1b5)][_0x390a41(0x176)](_0x4eb226,_0x35eab3),this[_0x390a41(0x1b5)][_0x390a41(0x23e)](_0x35eab3,_0x4eb226),_0x4eb226[_0x390a41(0x625)](),_0x4eb226;}catch(_0x872668){throw this[_0x390a41(0x5e0)](_0x872668,{});}}[_0x5a261d(0x250)](_0x1b780a){const _0x568a3f=_0x5a261d;try{return this[_0x568a3f(0x37a)]['getPubSubTopics'](_0x1b780a);}catch(_0x5b90ff){throw this['handleError'](_0x5b90ff,{});}}[_0x5a261d(0x4ef)](_0x1b5c4d){const _0x37dd44=_0x5a261d;try{return this[_0x37dd44(0x37a)][_0x37dd44(0x4ef)](_0x1b5c4d);}catch(_0x5a7aa1){throw this[_0x37dd44(0x5e0)](_0x5a7aa1,{});}}['getKeyValueDatabases'](_0x469039){const _0x5c013f=_0x5a261d;try{return this[_0x5c013f(0x37a)]['getKeyValueDatabases'](_0x469039);}catch(_0x2dfaf9){throw this[_0x5c013f(0x5e0)](_0x2dfaf9,{});}}[_0x5a261d(0x66c)](_0x1f0363){const _0x2e57e6=_0x5a261d;try{return this[_0x2e57e6(0x37a)]['getGenerativeAIContexts'](_0x1f0363);}catch(_0x4dbda2){throw this['handleError'](_0x4dbda2,{});}}[_0x5a261d(0x31b)](_0x4d3e4f){const _0x4c9bd3=_0x5a261d;try{return this['contentManager']['getGenerativeAIWorkers'](_0x4d3e4f);}catch(_0x3a9008){throw this[_0x4c9bd3(0x5e0)](_0x3a9008,{});}}['createLocalMediaStream'](_0x376339,_0x4bce60){const _0x50f34e=_0x5a261d;if(!this[_0x50f34e(0x54e)][_0x50f34e(0x457)][_0x50f34e(0x49a)](_0x1dbf76['MediaStream']))throw new _0x1a3a24(_0x1cb6bb[_0x50f34e(0x493)],_0x50f34e(0x3d5));try{return this[_0x50f34e(0x37a)]['createLocalMediaStream'](_0x376339,_0x4bce60);}catch(_0x1e9815){throw this[_0x50f34e(0x5e0)](_0x1e9815,{});}}['createLocalDynamicMediaStream'](_0x2132f9,_0x3ea66e){const _0x310927=_0x5a261d;if(!this[_0x310927(0x54e)]['features'][_0x310927(0x49a)](_0x1dbf76[_0x310927(0x2d1)]))throw new _0x1a3a24(_0x1cb6bb['FeatureNotEnabled'],_0x310927(0x3d5));try{return this['contentManager'][_0x310927(0x69d)](_0x2132f9,_0x3ea66e);}catch(_0x56c5ef){throw this[_0x310927(0x5e0)](_0x56c5ef,{});}}[_0x5a261d(0x436)](_0x173eb5){const _0x5ed4e2=_0x5a261d;if(!this[_0x5ed4e2(0x54e)][_0x5ed4e2(0x457)][_0x5ed4e2(0x49a)](_0x1dbf76[_0x5ed4e2(0x2d1)]))throw new _0x1a3a24(_0x1cb6bb[_0x5ed4e2(0x493)],_0x5ed4e2(0x3d5));try{return this[_0x5ed4e2(0x37a)][_0x5ed4e2(0x436)](_0x173eb5);}catch(_0x2efe37){throw this[_0x5ed4e2(0x5e0)](_0x2efe37,{});}}[_0x5a261d(0x35c)](_0xa97c89){const _0x5b6946=_0x5a261d;if(!this[_0x5b6946(0x54e)][_0x5b6946(0x457)][_0x5b6946(0x49a)](_0x1dbf76[_0x5b6946(0x2d1)]))throw new _0x1a3a24(_0x1cb6bb[_0x5b6946(0x493)],'MediaStream\x20feature\x20not\x20enabled');try{return this[_0x5b6946(0x37a)][_0x5b6946(0x35c)](_0xa97c89);}catch(_0x174674){throw this['handleError'](_0x174674,{});}}[_0x5a261d(0x26c)](_0x9583e,_0x3bd51f){const _0x5b5329=_0x5a261d;return this[_0x5b5329(0x11e)]['getDistance'](_0x9583e,_0x3bd51f);}[_0x5a261d(0x2be)](){return this['nodeManager']['getLocalNode']();}['getRemoteNodes'](_0xa8518b){const _0x1a6e28=_0x5a261d;try{return this[_0x1a6e28(0x11e)][_0x1a6e28(0x6d0)](_0xa8518b);}catch(_0x1cc272){throw this[_0x1a6e28(0x5e0)](_0x1cc272,{});}}async['handleSystemEvents'](_0x5cb7a1){const _0x447517=_0x5a261d;try{if(_0x50fe93[_0x447517(0x287)](_0x2d7d49[_0x447517(0x251)],_0x447517(0x30d),this[_0x447517(0x11e)][_0x447517(0x41c)](),_0x5cb7a1),_0x1058d0(_0x5cb7a1,this['nodeManager']['getLocalId']()))return void this[_0x447517(0x638)][_0x447517(0x4a4)](_0x5cb7a1);switch(_0x5cb7a1['messageType']){case _0x3a54c1[_0x447517(0x55b)]:this[_0x447517(0x2af)][_0x447517(0x1f0)](_0x5cb7a1),this['subscriptionManager'][_0x447517(0x1f0)](_0x5cb7a1),this[_0x447517(0x37a)]['handleContentSystemEvents'](_0x5cb7a1);break;case _0x3a54c1[_0x447517(0x432)]:this['subscriptionManager'][_0x447517(0x219)](_0x5cb7a1),this[_0x447517(0x638)][_0x447517(0x219)](_0x5cb7a1),this['contentManager'][_0x447517(0x219)](_0x5cb7a1),this[_0x447517(0x11e)][_0x447517(0x219)](_0x5cb7a1);break;case _0x3a54c1[_0x447517(0x327)]:this[_0x447517(0x701)]['handleDetectionSystemEvents'](_0x5cb7a1);break;case _0x3a54c1[_0x447517(0x378)]:this['remediationManager'][_0x447517(0x370)](_0x5cb7a1);break;case _0x3a54c1[_0x447517(0x39a)]:this[_0x447517(0x308)][_0x447517(0x32c)](_0x5cb7a1);break;case _0x3a54c1[_0x447517(0x473)]:_0x5cb7a1['content'][_0x447517(0x274)]!==_0x24c720[_0x447517(0x30f)]?(this[_0x447517(0x1b5)][_0x447517(0x394)](_0x5cb7a1),this[_0x447517(0x37a)][_0x447517(0x394)](_0x5cb7a1)):(this[_0x447517(0x37a)]['handleSubscriptionSystemEvents'](_0x5cb7a1),this[_0x447517(0x1b5)][_0x447517(0x394)](_0x5cb7a1));break;case _0x3a54c1['PeerConnection']:await this[_0x447517(0x638)][_0x447517(0x654)](_0x5cb7a1),this[_0x447517(0x2af)][_0x447517(0x654)](_0x5cb7a1),this[_0x447517(0x11e)][_0x447517(0x654)](_0x5cb7a1),this[_0x447517(0x1b5)][_0x447517(0x654)](_0x5cb7a1);}}catch(_0x1f91a3){throw this[_0x447517(0x5e0)](_0x1f91a3,{});}}[_0x5a261d(0x5e0)](_0x40b88c,_0x12f2d4){const _0x41d980=_0x5a261d;if(!(_0x40b88c instanceof _0x29aa20)){if(_0x40b88c instanceof _0x1a3a24)throw _0x40b88c;if(!(_0x40b88c instanceof Error))throw new _0x1a3a24(_0x1cb6bb[_0x41d980(0x447)],_0x41d980(0x572)+_0x40b88c);if(!(_0x40b88c instanceof _0x2826e7))throw new _0x1a3a24(_0x1cb6bb[_0x41d980(0x447)],'Internal\x20error:\x20'+_0x40b88c[_0x41d980(0x1c3)]);switch(_0x40b88c[_0x41d980(0x509)]){case _0x2826e7[_0x41d980(0x776)]['MissingSystemTopic']:case _0x2826e7[_0x41d980(0x776)]['MissingRemoteConnection']:case _0x2826e7['codes'][_0x41d980(0x5c2)]:case _0x2826e7[_0x41d980(0x776)]['ConnectionNotinitialized']:case _0x2826e7['codes'][_0x41d980(0x275)]:case _0x2826e7[_0x41d980(0x776)][_0x41d980(0x674)]:case _0x2826e7[_0x41d980(0x776)]['InvalidPublisher']:case _0x2826e7[_0x41d980(0x776)][_0x41d980(0x2c9)]:case _0x2826e7['codes']['SubscriptionRequestDoesNotExist']:case _0x2826e7['codes']['SubscriptionRequestFailed']:case _0x2826e7[_0x41d980(0x776)][_0x41d980(0x4c0)]:case _0x2826e7['codes'][_0x41d980(0x282)]:}throw _0x50fe93[_0x41d980(0x671)](_0x41d980(0x2d4)+_0x40b88c[_0x41d980(0x1c3)],{'clusterId':this[_0x41d980(0x1f3)],'nodeId':this[_0x41d980(0x783)][_0x41d980(0x591)](),'nodeType':this['localNode']['type']},_0x40b88c),new _0x1a3a24(_0x1cb6bb[_0x41d980(0x447)],_0x41d980(0xf8)+_0x40b88c[_0x41d980(0x1c3)]);}}[_0x5a261d(0x664)](){const _0xb0eba7=_0x5a261d;return{'mediator':this,'vendorId':this[_0xb0eba7(0xe6)],'clusterId':this[_0xb0eba7(0x1f3)],'localNode':this['localNode']};}[_0x5a261d(0x180)](){const _0xe990c5=_0x5a261d;return this['systemTopic'][_0xe990c5(0x313)](_0x108c28=>{const _0x5b57eb=_0xe990c5,_0x3b259a=_0x41302e(_0x108c28,this['localNode']['getId']()),_0x23a472=_0x108c28[_0x5b57eb(0x1f5)]===_0x3a54c1[_0x5b57eb(0x39a)]||_0x108c28[_0x5b57eb(0x1f5)]===_0x3a54c1[_0x5b57eb(0x3a2)]&&_0x108c28[_0x5b57eb(0x365)][_0x5b57eb(0x274)]===_0x48dd43[_0x5b57eb(0x39a)]?_0x2d7d49[_0x5b57eb(0x4ca)]:_0x2d7d49[_0x5b57eb(0x110)];_0x50fe93[_0x5b57eb(0x54c)](_0x23a472,_0x108c28[_0x5b57eb(0x1ea)]+_0x5b57eb(0x6fc)+_0x3b259a,_0x108c28),this[_0x5b57eb(0x57d)](_0x108c28)[_0x5b57eb(0x302)](_0x276da3=>{const _0x2c46e5=_0x5b57eb;console[_0x2c46e5(0x671)](_0x276da3);});});}async['syncKeyValueDatabase'](_0x5629be,_0x5631db){const _0xca2534=_0x5a261d;_0x5631db=this[_0xca2534(0x28d)](_0x5631db),await _0x5629be[_0xca2534(0x2cc)](_0x5631db,()=>this['syncKeyValueDatabase'](_0x5629be,_0x5631db));}['findNextAncestor'](_0x4f349b){const _0x2b534e=_0x5a261d,_0x1d43d8=this[_0x2b534e(0x11e)][_0x2b534e(0x278)]();if(!_0x4f349b)return _0x1d43d8[0x0];const _0x429dcd=_0x1d43d8[_0x2b534e(0xf6)](_0x56e983=>_0x4f349b===_0x56e983),_0x5a744b=_0x1d43d8[_0x429dcd+0x1];return _0x1d43d8['length']>0x0&&!_0x5a744b?_0x4f349b[0x0]:_0x5a744b;}}class _0x39eb15{[_0x5a261d(0xe6)];['clusterId'];[_0x5a261d(0x4e3)];['eventEmitter'];[_0x5a261d(0x771)];constructor(_0x3dac3b,_0x113f4b,_0x5c141a,_0x3cb0d9,_0x2dad1e,_0x593e87,_0x1cfdc6=new _0x5d3f42()){const _0x14ac57=_0x5a261d;this[_0x14ac57(0xe6)]=_0x3dac3b,this[_0x14ac57(0x1f3)]=_0x113f4b,this[_0x14ac57(0x4e3)]=_0x5c141a,this[_0x14ac57(0x510)]=_0x1cfdc6,this[_0x14ac57(0x771)]=new _0x551026(this['vendorId'],this[_0x14ac57(0x1f3)],_0x5c141a,_0x3cb0d9,_0x2dad1e,_0x593e87,this);}async['join'](){const _0xddbfc1=_0x5a261d;await this['orchestrator'][_0xddbfc1(0x52e)](),this[_0xddbfc1(0x4e3)][_0xddbfc1(0x274)]===_0x44eeae[_0xddbfc1(0x423)]['User']&&this[_0xddbfc1(0x4e3)]['registerCluster'](this[_0xddbfc1(0x1f3)],_0x31764b=>{const _0x29e500=_0xddbfc1;this[_0x29e500(0x771)][_0x29e500(0x3e8)](_0x31764b);});}[_0x5a261d(0x628)](){const _0x1f9781=_0x5a261d;this[_0x1f9781(0x771)][_0x1f9781(0x3e3)](),this[_0x1f9781(0x4e3)]['type']===_0x44eeae[_0x1f9781(0x423)]['User']&&this[_0x1f9781(0x4e3)][_0x1f9781(0x4a9)](this[_0x1f9781(0x1f3)]),this[_0x1f9781(0x5e6)]('cluster-leave',void 0x0);}[_0x5a261d(0xf3)](_0x56f54b){const _0x253195=_0x5a261d,_0x16319c=this[_0x253195(0x771)][_0x253195(0xf3)](_0x56f54b);return{'getName':_0x16319c['getName'][_0x253195(0x72e)](_0x16319c),'getOwnerId':_0x16319c[_0x253195(0x613)]['bind'](_0x16319c),'getContentType':_0x16319c[_0x253195(0x72b)][_0x253195(0x72e)](_0x16319c),'publish':_0x16319c[_0x253195(0x3b8)][_0x253195(0x72e)](_0x16319c),'subscribe':_0x16319c['subscribe']['bind'](_0x16319c),'unsubscribe':_0x16319c[_0x253195(0x76e)][_0x253195(0x72e)](_0x16319c),'close':_0x16319c[_0x253195(0x3e3)]['bind'](_0x16319c)};}async[_0x5a261d(0x5b4)](_0x4b8b2c,_0x437d67){const _0x39ec9f=_0x5a261d,_0x5cc69b=await this['orchestrator'][_0x39ec9f(0x5b4)](_0x4b8b2c,_0x437d67);return{'getName':_0x5cc69b['getName'][_0x39ec9f(0x72e)](_0x5cc69b),'getOwnerId':_0x5cc69b[_0x39ec9f(0x613)][_0x39ec9f(0x72e)](_0x5cc69b),'getContentType':_0x5cc69b['getContentType'][_0x39ec9f(0x72e)](_0x5cc69b),'publish':_0x5cc69b['publish']['bind'](_0x5cc69b),'unpublish':_0x5cc69b[_0x39ec9f(0x4af)][_0x39ec9f(0x72e)](_0x5cc69b),'get':_0x5cc69b['get'][_0x39ec9f(0x72e)](_0x5cc69b),'list':_0x5cc69b[_0x39ec9f(0x1bc)]['bind'](_0x5cc69b),'getSize':_0x5cc69b[_0x39ec9f(0x4a6)][_0x39ec9f(0x72e)](_0x5cc69b),'subscribe':_0x5cc69b[_0x39ec9f(0x313)]['bind'](_0x5cc69b),'unsubscribe':_0x5cc69b[_0x39ec9f(0x76e)]['bind'](_0x5cc69b),'close':_0x5cc69b['close'][_0x39ec9f(0x72e)](_0x5cc69b)};}async[_0x5a261d(0x3c8)](_0x509a47,_0x292937){const _0x28e71e=_0x5a261d,_0x41cfdc=await this[_0x28e71e(0x771)]['openKeyValueDatabase'](_0x509a47,_0x292937);return{'getName':_0x41cfdc[_0x28e71e(0x2a4)][_0x28e71e(0x72e)](_0x41cfdc),'getOwnerId':_0x41cfdc[_0x28e71e(0x613)][_0x28e71e(0x72e)](_0x41cfdc),'getContentType':_0x41cfdc['getContentType'][_0x28e71e(0x72e)](_0x41cfdc),'getTable':_0x41cfdc[_0x28e71e(0x52b)][_0x28e71e(0x72e)](_0x41cfdc),'subscribe':_0x41cfdc[_0x28e71e(0x313)][_0x28e71e(0x72e)](_0x41cfdc),'unsubscribe':_0x41cfdc[_0x28e71e(0x76e)][_0x28e71e(0x72e)](_0x41cfdc),'close':_0x41cfdc[_0x28e71e(0x3e3)]['bind'](_0x41cfdc)};}async[_0x5a261d(0x38d)](_0x1ce18a){const _0xb8201f=_0x5a261d,_0x4e64de=await this[_0xb8201f(0x771)][_0xb8201f(0x38d)](_0x1ce18a);return{'getName':_0x4e64de[_0xb8201f(0x2a4)][_0xb8201f(0x72e)](_0x4e64de),'getOwnerId':_0x4e64de[_0xb8201f(0x613)]['bind'](_0x4e64de),'getContentType':_0x4e64de['getContentType'][_0xb8201f(0x72e)](_0x4e64de),'createJob':_0x4e64de[_0xb8201f(0x6a1)][_0xb8201f(0x72e)](_0x4e64de),'getJob':_0x4e64de[_0xb8201f(0x5a0)][_0xb8201f(0x72e)](_0x4e64de),'getJobs':_0x4e64de[_0xb8201f(0x1ba)][_0xb8201f(0x72e)](_0x4e64de),'close':_0x4e64de[_0xb8201f(0x3e3)]['bind'](_0x4e64de)};}async[_0x5a261d(0x655)](_0x3ba8a4){const _0x386e91=_0x5a261d,_0x213f55=await this[_0x386e91(0x771)]['openJobWorker'](_0x3ba8a4);return{'close':_0x213f55[_0x386e91(0x3e3)][_0x386e91(0x72e)](_0x213f55)};}async['openGenerativeAIContext'](_0x4dc21a){const _0x41db72=_0x5a261d,_0x33b2a6=await this[_0x41db72(0x771)][_0x41db72(0x36b)](_0x4dc21a);return{'prompt':_0x33b2a6['prompt'][_0x41db72(0x72e)](_0x33b2a6),'stream':_0x33b2a6[_0x41db72(0x209)][_0x41db72(0x72e)](_0x33b2a6),'uploadModel':_0x33b2a6['uploadModel']['bind'](_0x33b2a6),'deleteModel':_0x33b2a6['deleteModel'][_0x41db72(0x72e)](_0x33b2a6),'close':_0x33b2a6[_0x41db72(0x3e3)][_0x41db72(0x72e)](_0x33b2a6)};}async['openGenerativeAIWorker'](_0x4c8440){const _0x41a1ca=_0x5a261d,_0xf17738=await this[_0x41a1ca(0x771)][_0x41a1ca(0x60b)](_0x4c8440);return{'close':_0xf17738[_0x41a1ca(0x3e3)][_0x41a1ca(0x72e)](_0xf17738)};}[_0x5a261d(0x250)](_0x2aa696){const _0x10afbc=_0x5a261d;return this[_0x10afbc(0x771)][_0x10afbc(0x250)](_0x2aa696)[_0x10afbc(0x47f)](_0x155e43=>({'getName':_0x155e43['getName']['bind'](_0x155e43),'getOwnerId':_0x155e43[_0x10afbc(0x613)]['bind'](_0x155e43),'getContentType':_0x155e43[_0x10afbc(0x72b)][_0x10afbc(0x72e)](_0x155e43),'publish':_0x155e43['publish'][_0x10afbc(0x72e)](_0x155e43),'subscribe':_0x155e43['subscribe']['bind'](_0x155e43),'unsubscribe':_0x155e43[_0x10afbc(0x76e)]['bind'](_0x155e43),'close':_0x155e43[_0x10afbc(0x3e3)][_0x10afbc(0x72e)](_0x155e43)}));}[_0x5a261d(0x4ef)](_0x49f3f6){const _0x130b9f=_0x5a261d;return this[_0x130b9f(0x771)]['getObjectStoreBuckets'](_0x49f3f6)[_0x130b9f(0x47f)](_0x4b0dde=>({'getName':_0x4b0dde[_0x130b9f(0x2a4)][_0x130b9f(0x72e)](_0x4b0dde),'getOwnerId':_0x4b0dde[_0x130b9f(0x613)]['bind'](_0x4b0dde),'getContentType':_0x4b0dde['getContentType'][_0x130b9f(0x72e)](_0x4b0dde),'publish':_0x4b0dde[_0x130b9f(0x3b8)][_0x130b9f(0x72e)](_0x4b0dde),'unpublish':_0x4b0dde[_0x130b9f(0x4af)][_0x130b9f(0x72e)](_0x4b0dde),'get':_0x4b0dde['get'][_0x130b9f(0x72e)](_0x4b0dde),'list':_0x4b0dde[_0x130b9f(0x1bc)]['bind'](_0x4b0dde),'getSize':_0x4b0dde[_0x130b9f(0x4a6)][_0x130b9f(0x72e)](_0x4b0dde),'subscribe':_0x4b0dde[_0x130b9f(0x313)][_0x130b9f(0x72e)](_0x4b0dde),'unsubscribe':_0x4b0dde[_0x130b9f(0x76e)]['bind'](_0x4b0dde),'close':_0x4b0dde[_0x130b9f(0x3e3)][_0x130b9f(0x72e)](_0x4b0dde)}));}[_0x5a261d(0x2c7)](_0x1298d3){const _0x2c8c38=_0x5a261d;return this[_0x2c8c38(0x771)][_0x2c8c38(0x2c7)](_0x1298d3)['map'](_0x1a2db9=>({'getName':_0x1a2db9[_0x2c8c38(0x2a4)][_0x2c8c38(0x72e)](_0x1a2db9),'getOwnerId':_0x1a2db9[_0x2c8c38(0x613)]['bind'](_0x1a2db9),'getContentType':_0x1a2db9[_0x2c8c38(0x72b)][_0x2c8c38(0x72e)](_0x1a2db9),'getTable':_0x1a2db9[_0x2c8c38(0x52b)][_0x2c8c38(0x72e)](_0x1a2db9),'subscribe':_0x1a2db9['subscribe']['bind'](_0x1a2db9),'unsubscribe':_0x1a2db9[_0x2c8c38(0x76e)]['bind'](_0x1a2db9),'close':_0x1a2db9[_0x2c8c38(0x3e3)][_0x2c8c38(0x72e)](_0x1a2db9)}));}['getGenerativeAIContexts'](_0x52a488){const _0x4e6fba=_0x5a261d;return this['orchestrator']['getGenerativeAIContexts'](_0x52a488)[_0x4e6fba(0x47f)](_0x425c61=>({'prompt':_0x425c61['prompt'][_0x4e6fba(0x72e)](_0x425c61),'stream':_0x425c61['stream'][_0x4e6fba(0x72e)](_0x425c61),'uploadModel':_0x425c61['uploadModel']['bind'](_0x425c61),'deleteModel':_0x425c61[_0x4e6fba(0x159)][_0x4e6fba(0x72e)](_0x425c61),'close':_0x425c61[_0x4e6fba(0x3e3)][_0x4e6fba(0x72e)](_0x425c61)}));}[_0x5a261d(0x31b)](_0x929a16){const _0x5ef92f=_0x5a261d;return this[_0x5ef92f(0x771)][_0x5ef92f(0x31b)](_0x929a16)[_0x5ef92f(0x47f)](_0x22ed24=>({'close':_0x22ed24[_0x5ef92f(0x3e3)][_0x5ef92f(0x72e)](_0x22ed24)}));}[_0x5a261d(0x137)](_0x686cc9,_0x3d2a39){const _0x4d1661=_0x5a261d,_0x5bd70a=this[_0x4d1661(0x771)][_0x4d1661(0x3fd)](_0x686cc9,_0x3d2a39);return{'getLabel':_0x5bd70a[_0x4d1661(0x58a)]['bind'](_0x5bd70a),'getOwnerId':_0x5bd70a['getOwnerId'][_0x4d1661(0x72e)](_0x5bd70a),'getContentType':_0x5bd70a[_0x4d1661(0x72b)][_0x4d1661(0x72e)](_0x5bd70a),'getMediaStream':_0x5bd70a[_0x4d1661(0x38f)][_0x4d1661(0x72e)](_0x5bd70a),'setPriority':_0x5bd70a[_0x4d1661(0x4d3)][_0x4d1661(0x72e)](_0x5bd70a),'unpublish':_0x5bd70a[_0x4d1661(0x4af)][_0x4d1661(0x72e)](_0x5bd70a)};}['publishLocalDynamicMediaStream'](_0x5c7762,_0x4546ce){const _0x58ddaa=_0x5a261d,_0x55a66b=this[_0x58ddaa(0x771)][_0x58ddaa(0x69d)](_0x5c7762,_0x4546ce);return{'getLabel':_0x55a66b[_0x58ddaa(0x58a)][_0x58ddaa(0x72e)](_0x55a66b),'getOwnerId':_0x55a66b[_0x58ddaa(0x613)][_0x58ddaa(0x72e)](_0x55a66b),'getContentType':_0x55a66b[_0x58ddaa(0x72b)][_0x58ddaa(0x72e)](_0x55a66b),'setPriority':_0x55a66b[_0x58ddaa(0x4d3)][_0x58ddaa(0x72e)](_0x55a66b),'unpublish':_0x55a66b[_0x58ddaa(0x4af)][_0x58ddaa(0x72e)](_0x55a66b),'getMediaStream':_0x55a66b[_0x58ddaa(0x38f)][_0x58ddaa(0x72e)](_0x55a66b),'addTrack':_0x55a66b[_0x58ddaa(0x58d)][_0x58ddaa(0x72e)](_0x55a66b),'removeTrack':_0x55a66b[_0x58ddaa(0x28e)]['bind'](_0x55a66b),'replaceTrack':_0x55a66b[_0x58ddaa(0x76c)][_0x58ddaa(0x72e)](_0x55a66b),'setTransformations':_0x55a66b[_0x58ddaa(0x1b1)][_0x58ddaa(0x72e)](_0x55a66b)};}[_0x5a261d(0x436)](_0x5e746e){const _0xc46183=_0x5a261d;return this[_0xc46183(0x771)]['getLocalMediaStreams'](_0x5e746e)['map'](_0x2b1237=>({'getLabel':_0x2b1237[_0xc46183(0x58a)][_0xc46183(0x72e)](_0x2b1237),'getOwnerId':_0x2b1237[_0xc46183(0x613)]['bind'](_0x2b1237),'getContentType':_0x2b1237[_0xc46183(0x72b)][_0xc46183(0x72e)](_0x2b1237),'getMediaStream':_0x2b1237['getMediaStream'][_0xc46183(0x72e)](_0x2b1237),'setPriority':_0x2b1237[_0xc46183(0x4d3)][_0xc46183(0x72e)](_0x2b1237),'unpublish':_0x2b1237[_0xc46183(0x4af)][_0xc46183(0x72e)](_0x2b1237)}));}[_0x5a261d(0x35c)](_0x32ab7f){const _0x3ec29a=_0x5a261d;return this['orchestrator'][_0x3ec29a(0x35c)](_0x32ab7f)[_0x3ec29a(0x47f)](_0x46cad1=>({'getLabel':_0x46cad1[_0x3ec29a(0x58a)][_0x3ec29a(0x72e)](_0x46cad1),'getOwnerId':_0x46cad1['getOwnerId'][_0x3ec29a(0x72e)](_0x46cad1),'getContentType':_0x46cad1[_0x3ec29a(0x72b)][_0x3ec29a(0x72e)](_0x46cad1),'getMediaStream':_0x46cad1[_0x3ec29a(0x38f)][_0x3ec29a(0x72e)](_0x46cad1),'subscribe':_0x46cad1[_0x3ec29a(0x313)][_0x3ec29a(0x72e)](_0x46cad1),'unsubscribe':_0x46cad1[_0x3ec29a(0x76e)][_0x3ec29a(0x72e)](_0x46cad1),'getAvailableTrackKinds':_0x46cad1['getAvailableTrackKinds'][_0x3ec29a(0x72e)](_0x46cad1),'update':_0x46cad1['update']['bind'](_0x46cad1),'onProviderChange':_0x46cad1['onProviderChange'][_0x3ec29a(0x72e)](_0x46cad1)}));}[_0x5a261d(0x2be)](){const _0x732e9b=_0x5a261d,_0xa1c1f=this['orchestrator']['getLocalNode']();switch(_0xa1c1f[_0x732e9b(0x274)]){case _0x44eeae[_0x732e9b(0x423)][_0x732e9b(0x377)]:return{'type':_0x44eeae['NodeType'][_0x732e9b(0x377)],'getId':_0xa1c1f[_0x732e9b(0x591)][_0x732e9b(0x72e)](_0xa1c1f),'getDisplayName':_0xa1c1f['getDisplayName'][_0x732e9b(0x72e)](_0xa1c1f),'getEmail':_0xa1c1f[_0x732e9b(0x49f)]['bind'](_0xa1c1f),'getRemoteConnections':_0xa1c1f['getRemoteConnections'][_0x732e9b(0x72e)](_0xa1c1f),'setDisplayName':_0xa1c1f['setDisplayName'][_0x732e9b(0x72e)](_0xa1c1f),'setEmail':_0xa1c1f[_0x732e9b(0x2aa)][_0x732e9b(0x72e)](_0xa1c1f)};case _0x44eeae['NodeType']['Agent']:default:return{'type':_0x44eeae[_0x732e9b(0x423)]['Agent'],'getId':_0xa1c1f[_0x732e9b(0x591)][_0x732e9b(0x72e)](_0xa1c1f),'getRemoteConnections':_0xa1c1f[_0x732e9b(0x359)][_0x732e9b(0x72e)](_0xa1c1f)};}}[_0x5a261d(0x6d0)](_0x3c4716){const _0xc19000=_0x5a261d;return this[_0xc19000(0x771)][_0xc19000(0x6d0)](_0x3c4716)['map'](_0x323fc5=>{const _0x1762f5=_0xc19000;switch(_0x323fc5[_0x1762f5(0x274)]){case _0x44eeae['NodeType']['User']:return{'type':_0x44eeae[_0x1762f5(0x423)][_0x1762f5(0x377)],'getId':_0x323fc5[_0x1762f5(0x591)]['bind'](_0x323fc5),'getDisplayName':_0x323fc5[_0x1762f5(0x5b1)][_0x1762f5(0x72e)](_0x323fc5),'getEmail':_0x323fc5[_0x1762f5(0x49f)][_0x1762f5(0x72e)](_0x323fc5),'getRemoteConnections':_0x323fc5[_0x1762f5(0x359)][_0x1762f5(0x72e)](_0x323fc5)};case _0x44eeae[_0x1762f5(0x423)][_0x1762f5(0x431)]:return{'type':_0x44eeae[_0x1762f5(0x423)][_0x1762f5(0x431)],'getId':_0x323fc5[_0x1762f5(0x591)][_0x1762f5(0x72e)](_0x323fc5),'getRemoteConnections':_0x323fc5['getRemoteConnections'][_0x1762f5(0x72e)](_0x323fc5)};default:throw new _0x1a3a24(_0x1cb6bb[_0x1762f5(0x340)],_0x1762f5(0x3ab));}});}['on']=(..._0x1598e9)=>{const _0x38368d=_0x5a261d;this[_0x38368d(0x510)]['on'](..._0x1598e9);};['emit']=(..._0x270d55)=>this[_0x5a261d(0x510)][_0x5a261d(0x5e6)](..._0x270d55);[_0x5a261d(0x56f)](..._0x36f2f9){const _0x3238f9=_0x5a261d;this['eventEmitter'][_0x3238f9(0x56f)](..._0x36f2f9);}}class _0x275d74{['id'];['displayName'];[_0x5a261d(0x15e)];[_0x5a261d(0x274)]=_0x44eeae['NodeType'][_0x5a261d(0x377)];[_0x5a261d(0x46f)]=new Map();[_0x5a261d(0x2a6)]=_0x5c88af();constructor(_0xc3debc,_0x53b18f,_0x498443){const _0x5b7436=_0x5a261d;this['id']=_0xc3debc,this[_0x5b7436(0x4c7)]=_0x53b18f,this[_0x5b7436(0x15e)]=_0x498443;}['getId'](){return this['id'];}[_0x5a261d(0x5b1)](){const _0x2972d7=_0x5a261d;return this[_0x2972d7(0x4c7)];}['getEmail'](){const _0x3b484e=_0x5a261d;return this[_0x3b484e(0x15e)];}['setDisplayName'](_0x354481){const _0x3730ac=_0x5a261d;this[_0x3730ac(0x4c7)]!==_0x354481&&(this[_0x3730ac(0x4c7)]=_0x354481,this[_0x3730ac(0x2a6)][_0x3730ac(0x3b8)](this));}[_0x5a261d(0x2aa)](_0x5db716){const _0x32d00a=_0x5a261d;this[_0x32d00a(0x15e)]!==_0x5db716&&(this['email']=_0x5db716,this['observer'][_0x32d00a(0x3b8)](this));}[_0x5a261d(0x2f0)](_0x18a2af,_0x16a059){const _0x2539c8=_0x5a261d;if(this[_0x2539c8(0x46f)][_0x2539c8(0x644)](_0x18a2af))return;const _0x58db1f=this[_0x2539c8(0x2a6)][_0x2539c8(0x313)](_0x16a059);this['joinedClusters'][_0x2539c8(0x1a1)](_0x18a2af,_0x58db1f);}['unregisterCluster'](_0x823aad){const _0x5e4984=_0x5a261d;if(!this[_0x5e4984(0x46f)]['has'](_0x823aad))return;const _0x127696=this[_0x5e4984(0x46f)][_0x5e4984(0x568)](_0x823aad);_0x127696&&_0x127696(),this[_0x5e4984(0x46f)][_0x5e4984(0x20a)](_0x823aad);}}class _0x5ec2fd{['vendorId'];[_0x5a261d(0x503)];constructor(_0xb3a7d0){const _0x498e63=_0x5a261d;this[_0x498e63(0xe6)]=_0xb3a7d0;}async[_0x5a261d(0x3ea)](_0x287621){const _0x34503e=_0x5a261d,_0x153880=await(0x0,_0x46f639[_0x34503e(0x31c)])(_0x9c97da[_0x34503e(0x75b)](),_0x34503e(0x6a4))({'uid':_0x34503e(0x52c)+this['vendorId']+_0x34503e(0x52c)+_0x287621['id']}),_0x406f62=await(0x0,_0x3f0fb7[_0x34503e(0x448)])(_0x9c97da[_0x34503e(0x421)](),_0x153880[_0x34503e(0x5f0)][_0x34503e(0x52d)]);this[_0x34503e(0x503)]=_0x406f62[_0x34503e(0x503)];}async[_0x5a261d(0x167)](){const _0x1691c6=_0x5a261d;await(0x0,_0x3f0fb7[_0x1691c6(0x167)])(_0x9c97da[_0x1691c6(0x421)]());}[_0x5a261d(0x393)](){const _0x5414ae=_0x5a261d;return this['user']?.[_0x5414ae(0x393)]()??Promise[_0x5414ae(0x430)](_0x5414ae(0x226));}}class _0x563d1d{static [_0x5a261d(0x156)];[_0x5a261d(0x697)]=[];constructor(){}static[_0x5a261d(0x3dc)](){const _0x24ef84=_0x5a261d;return _0x563d1d[_0x24ef84(0x156)]||(_0x563d1d[_0x24ef84(0x156)]=new _0x563d1d()),_0x563d1d[_0x24ef84(0x156)];}[_0x5a261d(0x52e)](){const _0x15a4c3=_0x5a261d;this[_0x15a4c3(0x515)](),this[_0x15a4c3(0x598)](),this[_0x15a4c3(0xe7)](),this[_0x15a4c3(0x2d3)](),this['checkDeviceConfig'](),this['checkAudioOutput'](),this[_0x15a4c3(0x484)](),this[_0x15a4c3(0x561)](),this[_0x15a4c3(0x11d)](),this[_0x15a4c3(0x1ac)](),_0x50fe93['log'](_0x2d7d49['Support'],_0x15a4c3(0x3eb),{'featureSupport':this[_0x15a4c3(0x697)]});}['isFeatureSupported'](_0x2ae44f){const _0x356c67=_0x5a261d,_0x25dd17=this['featureSupport'][_0x356c67(0x19f)](_0x517070=>_0x517070[_0x356c67(0x267)]===_0x2ae44f);return!!_0x25dd17&&_0x25dd17['supported'];}[_0x5a261d(0x73c)](_0x404024){const _0xc420=_0x5a261d;_0x50fe93['logEvent'](_0xc420(0x38b),{'nodeId':_0x404024[_0xc420(0x591)](),'nodeType':_0x404024['type'],'data':{'featureSupport':this['featureSupport']}});}[_0x5a261d(0x515)](){const _0x42ac89=_0x5a261d,_0xd62d1b=_0x521cdc['WebRTC'];let _0x48547a=!0x1;_0x42ac89(0x57b)==typeof RTCPeerConnection&&'function'==typeof RTCIceCandidate&&_0x42ac89(0x57b)==typeof RTCSessionDescription?_0x48547a=!0x0:_0x50fe93[_0x42ac89(0x287)](_0x2d7d49[_0x42ac89(0x4cb)],_0x42ac89(0x1f2)+_0xd62d1b+_0x42ac89(0x3c5)),this[_0x42ac89(0x697)][_0x42ac89(0x6bc)]({'name':_0xd62d1b,'supported':_0x48547a});}['checkMediaStream'](){const _0x38e718=_0x5a261d,_0x1348ed=_0x521cdc[_0x38e718(0x2d1)];let _0x2f2495=!0x1;_0x38e718(0x57b)==typeof MediaStream&&_0x38e718(0x57b)==typeof MediaStreamTrack&&_0x38e718(0x228)==typeof navigator&&_0x38e718(0x228)==typeof navigator[_0x38e718(0x425)]&&'function'==typeof navigator[_0x38e718(0x425)][_0x38e718(0x25b)]?_0x2f2495=!0x0:_0x50fe93['log'](_0x2d7d49[_0x38e718(0x4cb)],'Support:\x20'+_0x1348ed+_0x38e718(0x3c5)),this['featureSupport'][_0x38e718(0x6bc)]({'name':_0x1348ed,'supported':_0x2f2495});}[_0x5a261d(0xe7)](){const _0x26593c=_0x5a261d,_0x546e8a=_0x521cdc[_0x26593c(0x5ac)];let _0x194ba2=!0x1;'object'==typeof navigator&&'object'==typeof navigator['mediaDevices']&&'function'==typeof navigator['mediaDevices'][_0x26593c(0xea)]?_0x194ba2=!0x0:_0x50fe93['log'](_0x2d7d49[_0x26593c(0x4cb)],_0x26593c(0x1f2)+_0x546e8a+_0x26593c(0x3c5)),this['featureSupport'][_0x26593c(0x6bc)]({'name':_0x546e8a,'supported':_0x194ba2});}[_0x5a261d(0x2d3)](){const _0x577b06=_0x5a261d,_0xf48a9e=_0x521cdc[_0x577b06(0x6ed)];let _0x566ceb=!0x1;_0x577b06(0x57b)!=typeof AudioContext||'function'!=typeof ScriptProcessorNode&&_0x577b06(0x57b)!=typeof AudioWorkletNode||_0x577b06(0x57b)!=typeof MediaStreamAudioSourceNode?_0x50fe93[_0x577b06(0x287)](_0x2d7d49[_0x577b06(0x4cb)],_0x577b06(0x1f2)+_0xf48a9e+_0x577b06(0x3c5)):_0x566ceb=!0x0,this[_0x577b06(0x697)][_0x577b06(0x6bc)]({'name':_0xf48a9e,'supported':_0x566ceb});}[_0x5a261d(0x62a)](){const _0xf7b96f=_0x5a261d,_0x1bcb6f=_0x521cdc[_0xf7b96f(0x3f7)];let _0x55513c=!0x1;'object'==typeof navigator&&_0xf7b96f(0x228)==typeof navigator[_0xf7b96f(0x425)]&&_0xf7b96f(0x57b)==typeof navigator[_0xf7b96f(0x425)]['enumerateDevices']&&_0xf7b96f(0x57b)==typeof MediaDeviceInfo?_0x55513c=!0x0:_0x50fe93[_0xf7b96f(0x287)](_0x2d7d49['Support'],_0xf7b96f(0x1f2)+_0x1bcb6f+_0xf7b96f(0x3c5)),this[_0xf7b96f(0x697)]['push']({'name':_0x1bcb6f,'supported':_0x55513c});}[_0x5a261d(0xef)](){const _0x521976=_0x5a261d,_0x49722f=_0x521cdc[_0x521976(0x5a3)];let _0x6a2e47=!0x1;_0x521976(0x228)==typeof document&&'function'==typeof document[_0x521976(0x73e)](_0x521976(0x135))['setSinkId']?_0x6a2e47=!0x0:_0x50fe93[_0x521976(0x287)](_0x2d7d49['Support'],_0x521976(0x1f2)+_0x49722f+'\x20not\x20supported'),this[_0x521976(0x697)][_0x521976(0x6bc)]({'name':_0x49722f,'supported':_0x6a2e47});}async[_0x5a261d(0x484)](){const _0x4806e2=_0x5a261d,_0x465c72=_0x521cdc[_0x4806e2(0x2a7)];let _0x24c71f=!0x1;try{const _0x3249f4=document[_0x4806e2(0x73e)](_0x4806e2(0x5f6));if(MediaRecorder&&MediaSource&&_0x3249f4['captureStream']){const _0x5b22aa=_0x3249f4[_0x4806e2(0x585)](),_0x194d6b=new MediaRecorder(_0x5b22aa);_0x194d6b[_0x4806e2(0x17d)](),await new Promise(_0x48dea2=>setTimeout(_0x48dea2,0x7d0)),_0x194d6b[_0x4806e2(0x213)](),_0x24c71f=_0x4806e2(0x158)===_0x194d6b['state'];}}catch(_0x410c83){_0x50fe93[_0x4806e2(0x287)](_0x2d7d49['Support'],_0x4806e2(0x1f2)+_0x465c72+_0x4806e2(0x64b),_0x410c83);}this[_0x4806e2(0x697)][_0x4806e2(0x6bc)]({'name':_0x465c72,'supported':_0x24c71f}),_0x24c71f||_0x50fe93[_0x4806e2(0x287)](_0x2d7d49['Support'],'Support:\x20'+_0x465c72+_0x4806e2(0x3c5));}[_0x5a261d(0x561)](){const _0x2ab133=_0x5a261d,_0x5a3e36=_0x521cdc[_0x2ab133(0x695)];let _0x4f5409=!0x1;try{document['createElement'](_0x2ab133(0x5f6))[_0x2ab133(0x585)]&&(_0x4f5409=!0x0);}catch(_0x337da5){_0x50fe93[_0x2ab133(0x287)](_0x2d7d49[_0x2ab133(0x4cb)],'Support:\x20'+_0x5a3e36+'\x20check\x20failed',_0x337da5);}this[_0x2ab133(0x697)][_0x2ab133(0x6bc)]({'name':_0x5a3e36,'supported':_0x4f5409}),_0x4f5409||_0x50fe93[_0x2ab133(0x287)](_0x2d7d49[_0x2ab133(0x4cb)],_0x2ab133(0x1f2)+_0x5a3e36+_0x2ab133(0x3c5));}[_0x5a261d(0x11d)](){const _0x11515a=_0x5a261d,_0x5b3154=_0x521cdc['WebGL'];let _0x5b9cec=!0x1;try{const _0x5d0b93=document[_0x11515a(0x73e)](_0x11515a(0x5f6));WebGLRenderingContext&&_0x5d0b93[_0x11515a(0x411)](_0x11515a(0x21b))&&(_0x5b9cec=!0x0);}catch(_0x488f21){_0x50fe93['log'](_0x2d7d49[_0x11515a(0x4cb)],'Support:\x20'+_0x5b3154+_0x11515a(0x64b),_0x488f21);}this['featureSupport'][_0x11515a(0x6bc)]({'name':_0x5b3154,'supported':_0x5b9cec}),_0x5b9cec||_0x50fe93[_0x11515a(0x287)](_0x2d7d49['Support'],_0x11515a(0x1f2)+_0x5b3154+_0x11515a(0x3c5));}[_0x5a261d(0x1ac)](){const _0x2c0d14=_0x5a261d,_0x407de3=_0x521cdc[_0x2c0d14(0x48f)];let _0xb6af2=!0x1;_0x2c0d14(0x57b)==typeof AudioContext?_0xb6af2=!0x0:_0x50fe93[_0x2c0d14(0x287)](_0x2d7d49[_0x2c0d14(0x4cb)],_0x2c0d14(0x1f2)+_0x407de3+_0x2c0d14(0x3c5)),this[_0x2c0d14(0x697)][_0x2c0d14(0x6bc)]({'name':_0x407de3,'supported':_0xb6af2});}}const _0x2b982d=_0x563d1d['getInstance']();class _0x1254be{static ['instance'];static [_0x5a261d(0x76e)];[_0x5a261d(0x51c)];[_0x5a261d(0xe6)];[_0x5a261d(0x530)];[_0x5a261d(0x54e)];['clusters']=new Map();[_0x5a261d(0x241)];constructor(_0x569f6a,_0x3fd318,_0x25fcdc){const _0x1336e9=_0x5a261d;this[_0x1336e9(0xe6)]=_0x569f6a,this['configs']=_0x3fd318,this[_0x1336e9(0x51c)]=new _0x5ec2fd(this['vendorId']),_0x2b982d[_0x1336e9(0x52e)](),this['options']={'audioContext':_0x25fcdc?.[_0x1336e9(0x667)]??(_0x2b982d[_0x1336e9(0x1f8)](_0x521cdc['AudioContext'])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0x25fcdc?.['maxOutgoingSubscriptions']??0x1,'minConnections':_0x25fcdc?.['minConnections']??0x3,'maxConnections':_0x25fcdc?.[_0x1336e9(0x6a9)]??(_0x25fcdc?.[_0x1336e9(0x3d9)]&&0x4*_0x25fcdc[_0x1336e9(0x3d9)])??0xc,'maxDistance':_0x25fcdc?.[_0x1336e9(0x5d0)]??0xa,'maxFps':_0x25fcdc?.[_0x1336e9(0xe5)]??0x18,'maxBpp':_0x25fcdc?.[_0x1336e9(0x5de)]??0.12,'objectStoreConnector':_0x25fcdc?.[_0x1336e9(0x1b8)]??_0x2095b8['OPFSObjectStoreConnector'],'keyValueDatabaseConnector':_0x25fcdc?.[_0x1336e9(0x39f)]??_0x2631d9['IDBDatabaseConnector'],'peerConnectionConnector':_0x25fcdc?.[_0x1336e9(0x22e)]??_0x4b4fe7['WebRTCBrowserPeerConnectionConnector'],'generativeAIWorkerConnector':_0x25fcdc?.[_0x1336e9(0x511)],'vectorDatabaseConnector':_0x25fcdc?.['vectorDatabaseConnector']},_0x25fcdc?.['disableIntervalHack']&&this[_0x1336e9(0x530)][_0x1336e9(0x667)]&&_0x16ea6e[_0x1336e9(0x3ad)](this['options'][_0x1336e9(0x667)]),_0x50fe93[_0x1336e9(0x142)](this[_0x1336e9(0xe6)]),_0x25fcdc?.[_0x1336e9(0x5d8)]&&_0x50fe93[_0x1336e9(0x6d2)](_0x25fcdc[_0x1336e9(0x5d8)]);}static async[_0x5a261d(0x3dc)](_0x5d8810,_0x90600c,_0x1be604,_0x450b43){const _0x58e8e9=_0x5a261d,_0x3e7182=await this[_0x58e8e9(0x3d1)](_0x5d8810,_0x90600c,_0x450b43);return _0x1254be[_0x58e8e9(0x156)]||(_0x1254be[_0x58e8e9(0x156)]=new _0x1254be(_0x5d8810,_0x3e7182,_0x1be604)),{'close':_0x1254be[_0x58e8e9(0x156)][_0x58e8e9(0x3e3)][_0x58e8e9(0x72e)](_0x1254be['instance']),'authenticateUser':_0x1254be['instance'][_0x58e8e9(0x440)][_0x58e8e9(0x72e)](_0x1254be[_0x58e8e9(0x156)]),'authenticateAgent':_0x1254be[_0x58e8e9(0x156)][_0x58e8e9(0x197)][_0x58e8e9(0x72e)](_0x1254be[_0x58e8e9(0x156)]),'joinCluster':_0x1254be[_0x58e8e9(0x156)][_0x58e8e9(0x20d)][_0x58e8e9(0x72e)](_0x1254be['instance'])};}static async['timestamp'](){const _0x514705=_0x5a261d;return _0x9c97da[_0x514705(0x6a8)]();}static[_0x5a261d(0x65b)](){const _0x49e77b=_0x5a261d;return _0x31e971[_0x49e77b(0x65b)];}async[_0x5a261d(0x3e3)](){const _0x1a0a19=_0x5a261d;this[_0x1a0a19(0x43c)]['forEach'](_0x414a44=>{const _0x1ca20d=_0x1a0a19;_0x414a44['off'](),_0x414a44[_0x1ca20d(0x628)]();}),this[_0x1a0a19(0x43c)][_0x1a0a19(0x220)](),this['options'][_0x1a0a19(0x667)]&&_0x16ea6e[_0x1a0a19(0x604)](),_0x1254be['unsubscribe']?.(),_0x1254be['unsubscribe']=void 0x0,this[_0x1a0a19(0x241)]=void 0x0,await this[_0x1a0a19(0x51c)][_0x1a0a19(0x167)](),_0x1254be['instance']=void 0x0;}static async[_0x5a261d(0x3d1)](_0xe7cead,_0x2a746c,_0x12ec81){const _0x53c422=_0x5a261d;let _0x29234c;try{_0x29234c=await(0x0,_0x46f639['httpsCallable'])(_0x9c97da[_0x53c422(0x75b)](),_0x53c422(0x672))({'vendorId':_0xe7cead,'accessToken':_0x2a746c,'secretKey':_0x12ec81});}catch(_0x4b6234){throw new _0x1a3a24(_0x1cb6bb[_0x53c422(0x2a3)],_0x53c422(0x27b));}if(!this[_0x53c422(0x751)](_0x29234c[_0x53c422(0x5f0)]))throw new _0x1a3a24(_0x1cb6bb['InvalidAccess'],_0x53c422(0x27b));const _0x437540=_0x29234c[_0x53c422(0x5f0)];return _0x437540[_0x53c422(0x457)]||(_0x437540['features']=[]),this[_0x53c422(0x76e)]||(this['unsubscribe']=_0x16ea6e['setInterval'](async()=>{const _0x560ac2=_0x53c422;try{const _0x32138b=await this[_0x560ac2(0x3d1)](_0xe7cead,_0x2a746c,_0x12ec81);_0x437540[_0x560ac2(0x596)]=_0x32138b[_0x560ac2(0x596)];}catch(_0x50ae05){}},0x1b7740)),_0x437540;}async[_0x5a261d(0x440)](_0x4299ff){const _0x2ad3ea=_0x5a261d;await this[_0x2ad3ea(0x51c)]['signInWithCredential'](_0x4299ff);const _0x5160fb=new _0x275d74(_0x4299ff['id'],_0x4299ff[_0x2ad3ea(0x4c7)],_0x4299ff['email']);return this[_0x2ad3ea(0x241)]={'node':_0x5160fb},_0x2b982d[_0x2ad3ea(0x73c)](_0x5160fb),{'type':_0x44eeae[_0x2ad3ea(0x423)][_0x2ad3ea(0x377)],'getId':_0x5160fb[_0x2ad3ea(0x591)][_0x2ad3ea(0x72e)](_0x5160fb),'getDisplayName':_0x5160fb['getDisplayName']['bind'](_0x5160fb),'getEmail':_0x5160fb['getEmail'][_0x2ad3ea(0x72e)](_0x5160fb),'setDisplayName':_0x5160fb[_0x2ad3ea(0x265)][_0x2ad3ea(0x72e)](_0x5160fb),'setEmail':_0x5160fb['setEmail']['bind'](_0x5160fb)};}async[_0x5a261d(0x197)](_0x1bc249){const _0x3ff542=_0x5a261d,{id:_0x1b99b4,groupId:_0x12ec40}=_0x1bc249,_0xd8e611=await(0x0,_0x171fba['getDoc'])((0x0,_0x171fba[_0x3ff542(0x4da)])(_0x9c97da[_0x3ff542(0x720)](),_0x3ff542(0x582)+this['vendorId']+_0x3ff542(0x23c)+_0x12ec40));if(!_0xd8e611['exists']())throw new _0x1a3a24(_0x1cb6bb[_0x3ff542(0x495)],'Agent\x20group\x20not\x20found');const _0xbafc8d=_0xd8e611[_0x3ff542(0x5f0)]();await this[_0x3ff542(0x51c)][_0x3ff542(0x3ea)]({'id':_0x1b99b4});const _0x1de560=new _0x20d0f3(_0x1b99b4,_0x12ec40,this[_0x3ff542(0xe6)],_0xbafc8d);return this[_0x3ff542(0x241)]={'node':_0x1de560},_0x2b982d['logSupport'](_0x1de560),await this['connectAgent'](_0x1de560),{'type':_0x44eeae[_0x3ff542(0x423)][_0x3ff542(0x431)],'getId':_0x1de560[_0x3ff542(0x591)]['bind'](_0x1de560),'onConfigurationChange':_0x1de560[_0x3ff542(0x63b)]['bind'](_0x1de560),'setReportCapacity':_0x1de560[_0x3ff542(0x2e1)]['bind'](_0x1de560)};}async[_0x5a261d(0x20d)](_0x2b325c){const _0x32356f=_0x5a261d;if(!this['authContext'])throw new _0x1a3a24(_0x1cb6bb[_0x32356f(0x495)],_0x32356f(0x690));if(this[_0x32356f(0x241)][_0x32356f(0x71d)]['type']!==_0x44eeae[_0x32356f(0x423)][_0x32356f(0x377)])throw new _0x1a3a24(_0x1cb6bb[_0x32356f(0x4d6)],_0x32356f(0x47c));if(this['clusters'][_0x32356f(0x644)](_0x2b325c))throw new _0x1a3a24(_0x1cb6bb[_0x32356f(0x75c)],_0x32356f(0x502));const _0x1436e7=new _0x39eb15(this[_0x32356f(0xe6)],_0x2b325c,this['authContext'][_0x32356f(0x71d)],this['authService'],this[_0x32356f(0x530)],this[_0x32356f(0x54e)]);return await _0x1436e7[_0x32356f(0x2e3)](),this[_0x32356f(0x735)](_0x2b325c,_0x1436e7),_0x50fe93[_0x32356f(0x3cb)](_0x32356f(0x27d),{'clusterId':_0x2b325c,'nodeId':this[_0x32356f(0x241)][_0x32356f(0x71d)][_0x32356f(0x591)](),'nodeType':this['authContext']['node'][_0x32356f(0x274)]}),{'leave':_0x1436e7[_0x32356f(0x628)][_0x32356f(0x72e)](_0x1436e7),'getLocalNode':_0x1436e7[_0x32356f(0x2be)][_0x32356f(0x72e)](_0x1436e7),'openPubSubTopic':_0x1436e7[_0x32356f(0xf3)][_0x32356f(0x72e)](_0x1436e7),'openObjectStoreBucket':_0x1436e7[_0x32356f(0x5b4)][_0x32356f(0x72e)](_0x1436e7),'openKeyValueDatabase':_0x1436e7[_0x32356f(0x3c8)]['bind'](_0x1436e7),'openGenerativeAIContext':_0x1436e7[_0x32356f(0x36b)][_0x32356f(0x72e)](_0x1436e7),'openGenerativeAIWorker':_0x1436e7[_0x32356f(0x60b)][_0x32356f(0x72e)](_0x1436e7),'publishLocalMediaStream':_0x1436e7[_0x32356f(0x137)][_0x32356f(0x72e)](_0x1436e7),'publishLocalDynamicMediaStream':_0x1436e7['publishLocalDynamicMediaStream'][_0x32356f(0x72e)](_0x1436e7),'getPubSubTopics':_0x1436e7['getPubSubTopics']['bind'](_0x1436e7),'getObjectStoreBuckets':_0x1436e7[_0x32356f(0x4ef)][_0x32356f(0x72e)](_0x1436e7),'getKeyValueDatabases':_0x1436e7[_0x32356f(0x2c7)]['bind'](_0x1436e7),'getGenerativeAIContexts':_0x1436e7[_0x32356f(0x66c)][_0x32356f(0x72e)](_0x1436e7),'getGenerativeAIWorkers':_0x1436e7[_0x32356f(0x31b)][_0x32356f(0x72e)](_0x1436e7),'getLocalMediaStreams':_0x1436e7[_0x32356f(0x436)][_0x32356f(0x72e)](_0x1436e7),'getRemoteMediaStreams':_0x1436e7[_0x32356f(0x35c)][_0x32356f(0x72e)](_0x1436e7),'getRemoteNodes':_0x1436e7[_0x32356f(0x6d0)][_0x32356f(0x72e)](_0x1436e7),'on':_0x1436e7['on']['bind'](_0x1436e7),'off':_0x1436e7['off'][_0x32356f(0x72e)](_0x1436e7)};}async[_0x5a261d(0x581)](_0x5e6b29){const _0xd1bc4f=_0x5a261d;for(const _0x3bcd32 of _0x5e6b29[_0xd1bc4f(0x76d)][_0xd1bc4f(0x43c)]){const _0x35faa=new _0x39eb15(this[_0xd1bc4f(0xe6)],_0x3bcd32['id'],_0x5e6b29,this[_0xd1bc4f(0x51c)],this[_0xd1bc4f(0x530)],this[_0xd1bc4f(0x54e)]);await _0x35faa[_0xd1bc4f(0x2e3)](),this[_0xd1bc4f(0x735)](_0x3bcd32['id'],_0x35faa);for(const _0x21ae07 of _0x3bcd32[_0xd1bc4f(0x240)])_0x35faa[_0xd1bc4f(0xf3)](_0x21ae07);for(const _0x1f9406 of _0x3bcd32['objectStorage'])await _0x35faa[_0xd1bc4f(0x5b4)](_0x1f9406);for(const _0x4710da of _0x3bcd32['keyValueDatabase'])await _0x35faa[_0xd1bc4f(0x3c8)](_0x4710da,{'version':0x1,'tables':{}});for(const _0x27db08 of _0x3bcd32['generativeAIContexts'])await _0x35faa[_0xd1bc4f(0x60b)](_0x27db08);}}[_0x5a261d(0x735)](_0x4cb084,_0x27d229){const _0x264aca=_0x5a261d;this[_0x264aca(0x43c)][_0x264aca(0x1a1)](_0x4cb084,_0x27d229),_0x27d229['on'](_0x264aca(0x441),()=>{const _0x359b5c=_0x264aca;_0x27d229[_0x359b5c(0x56f)](),this[_0x359b5c(0x43c)]['delete'](_0x4cb084);});}static[_0x5a261d(0x751)](_0x5f07f7){const _0x120178=_0x5a261d;return void 0x0!==_0x5f07f7[_0x120178(0x596)];}}return _0x57a50c;})())));