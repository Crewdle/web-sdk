function a0_0x23da(){const _0x1387b0=['video/','InternalSDKError','UnsubscribeMediaStreamdiaStream','batch','setAnswer','File','CustomSkill','\x20is\x20required','ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.','key-value-database-not-open','collectStats','setupConnectionEvents','dbKey','/nodes','OpenRouter','key-value-database-invalid-query','NodeAlreadyExist','slice','authenticateUser','CloseExternalStorageConnection','Search\x20Agent','connectionTimeout','clearRestartTimeout','debounceStats','processReports','https://api.crewdle.ai','mp3','Model','onSnapshot','tool','frameWidth','Job\x20service\x20observer\x20not\x20found.','path','getFunctions','Search\x20in\x20data\x20collection\x20','writes','messageBuffer','waitForArrayBufferSize','isPartialResultResponse','getWorkflows','.erl','New\x20MMR\x20Root:\x20','listenerUnsubscribers','JobWorker:\x20Received\x20job\x20request','.swift','expectedTransactions','generative-ai-worker-missing-connector','unregisterCluster','RemoteRemove','detectionManager','hash','collection-query','kind','QuickbooksGetBillPayment','GoogleCalendarUpdateEvent','false','sdkCreateToken','Learning\x20Agent','srcObject','Generative\x20AI\x20context\x20job\x20timeout.','Model\x20ID\x20is\x20required\x20for\x20Embed\x20block','DataChannel\x20buffer\x20is\x20full.','file.type','Invalid\x20key:\x20','AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','every','currentBatch','cancel','outputTokenPrice','setVendorId','Stats:\x20report','gmail_get_contact_by_resource_name','time','dataTopics','Error\x20writing\x20file','topicLabel','CPUCycle','Attempt\x20','discoveryService','call','node-does-not-exist','toFixed','getLocalMediaStreams','debounceReadyTimeout','Label\x20already\x20in\x20use\x20by\x20AI\x20Service','quickbooks_get_credit_card_balances','unsubscribeHandler','354wTLcWq','removeKeyValueDatabase','searchConnector','onDataChannel','cluster-leave','maxDistance','newPath','getTransactionFromTableWriteEvent','FormSkillGetQuestion','createReceiverConnection','QuickbooksGetTransfer','compareTransactions','Node\x20not\x20authenticated','completed','getJobObservable','handleNeedRestart','getRemoteId','mcp','createBatchOperation','maps','restartTimeout','\x0a\x20===\x20Current\x20MMR\x20Root','All\x20recipients\x20already\x20received','IntermediateOutput','I\x20have\x20finished\x20executing\x20my\x20task.','registerDestination','fileChunks','handleContentUpdateMediaStream','skipEncryption','nodes','media-stream','vector-database','statsCollection','Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20','AISearch','TimePerFrame','Transaction','google_maps_reverse_geocode','.vue','Missing\x20AI\x20search\x20API\x20key','layout','coordinator-agent','Speech\x20connector\x20not\x20found\x20for\x20model\x20','Model\x20output\x20type\x20is\x20text\x20but\x20input\x20is\x20not\x20text','getQuery','isFeatureSupported','Invalid\x20workflow\x20block\x20type.','Error\x20closing\x20trace','values','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process','WriteFile','iceServers','IDBDatabaseConnector','messageId','jobBids','QuickbooksCreateCustomer','startTracing','queryFileConnector','createOffer','open','lastClockUpdate','handleRemoteTrackFailure','GenerativeAITaskType','connectionPool','sort','clearConnectionTimeout','flatMap','frameHeight','google_calendar_get_contacts','invalid-subscription','getQuestion','Unknown\x20parse\x20error','runTransaction','senderCurrentTimestamp','crewdle-sdk-stg','object-store-already-subscribed','quickbooks_create_invoice','QuickbooksCreateInvoice','/jobs/','KeyValueDatabaseRequestTransactionsValue','21a9d78dee97f487b','disconnect','client','Method\x20not\x20supported','/vector_stores/','accumulated','KeyValueDatabaseInvalidLayout','addEventListener','getGenerativeAIWorkers','getSentences','Received\x20ContentSynchronized\x20from\x20','log','clearOncloseTimeout','mediaDevices','QuickbooksSearchBillPayments','NodeInvalidType','registerSource','Number','available','AI\x20Search\x20connector\x20not\x20set','length','RemoteAdd','getMediaStream','.ps1','OutputStream','recipients','knowledgeCutoffDate','quickbooks_get_accounts_payable','CloseKeyValueDatabase','Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user','GenerativeAIContextJobInvalidType','currentDistance','GenerativeAIWorkerMissingConnector','deletePendingFile','displayName','removeJobWorker','onRemoveTrack','tableObserver','getName','getDisplayName','CloseObjectStoreBucket','distance','hasMessage','Copywriter\x20Agent','error','utf8','OutputEmail','answerContentAvailable','vectorDatabaseConnector','AudioVolume','getMediaSubscription','agentConfig','oncloseTimeout','packetsReceived','Table\x20not\x20found','\x0a\x20===\x20Synchronization\x20Time:\x20','createPubSubTopic','collectSendersStats','AppSync\x20publish','getId','QuickbooksGetInventoryValuation','openExternalStorageConnection','RequestFileWrite','localNode','getEngineType','test-page','speak','checkExistingPendingFileContent','Invalid\x20job\x20type','handleLocalTrackFailure','removeConnection','timeReceiving','More\x20content\x20available\x20on\x20page\x20','name','getClosestNodes','generative-ai-context-already-exists','job-dispatcher-job-exists','object','time_per_frame','appsync-statechange','quickbooks_get_cash_flow_projection','GenerativeAIContextAlreadyExists','file.content','SenderPeerConnection\x20send','CloseVectorDatabase','getObjectStoreBuckets','currentVersion','ObjectStoreInvalidSyncMessage','Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed','createRemoteNode','.\x20Confirmation?\x20','.groovy','.mustache','isEqual','Vector\x20database\x20creation\x20failed.','GoogleCalendarCreateEvent','sentence-splitter','receiver-on-message','chained','ragConnectors','senderPreviousTimestamp','JobWorker:\x20Error\x20getting\x20cores\x20from\x20capacity\x20report','output','\x20were\x20ready\x20in','sender-send-message','clearSyncTimeout','Error\x20processing\x20agent\x20block','RemoteRemediation','Node\x20type\x20is\x20invalid','VectorDatabaseDoesNotExist','\x20received\x20responses:','handleSubscriptionNeedMediaStream','signalingServer','generative-ai-context-invalid-partial-result','\x20MB','condition_result','Error:\x20Email\x20service\x20not\x20configured','GoogleCalendarListContacts','dataBucketIds','https://mcp.stg.crewdle.ai','evaluatePartialJob','\x0a\x20\x20===\x20Initial\x20MMR\x20Root:\x20','getTransactions','notifyObjectStoreOfNodeLeave','getFirestore','onDisconnect','connectorConstructor','Upload','entries','receiverBitrate','DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found','senders','Id\x20is\x20required\x20and\x20must\x20be\x20a\x20string,\x20call\x20getQuestion\x20first\x20to\x20get\x20the\x20question\x20id','sendAction','registerSystemPublisher','getSize','addConnection','Error\x20processing\x20retrieve','retryCallback','decode','InitialPrompt','Object\x20store\x20connector\x20is\x20not\x20available','createDataChannel','key-value-database-already-exists','ExternalStorageConnection\x20not\x20found','openPubSubTopic','UnsubscribeMediaStream','Pending','KeyValueDatabaseAlreadyExists','Result','Unknown\x20skill\x20type','getShareableStreamId','rootComputationPromise','30118810ytQtvi','removeRemoteStreamSubscription','Search\x20Agent\x20specializes\x20in\x20retrieving\x20accurate\x20and\x20relevant\x20information\x20using\x20available\x20tools.\x0a-\x20It\x20determines\x20the\x20best\x20search\x20approach\x20based\x20on\x20the\x20user\x20query.\x0a-\x20It\x20uses\x20structured\x20queries\x20to\x20gather\x20precise\x20results.\x0a-\x20It\x20filters\x20out\x20irrelevant\x20or\x20outdated\x20information.\x0a-\x20It\x20summarizes\x20findings\x20clearly\x20and\x20concisely.\x0a-\x20It\x20provides\x20sources\x20or\x20references\x20when\x20applicable.\x0a-\x20It\x20ensures\x20responses\x20are\x20up-to-date\x20and\x20fact-based.\x0a-\x20It\x20structures\x20results\x20in\x20Markdown\x20format\x20for\x20readability.\x0a-\x20It\x20avoids\x20speculation\x20and\x20only\x20returns\x20verified\x20information.','increment','listener','MCP\x20URL\x20not\x20configured\x20in\x20environment','job-dispatcher-observer-not-found','Medium','connected','supports','generative-ai-context-job-invalid-type','appendTransactionAndUpdateHashMap','Subscription\x20request\x20failed.','JobDispatcherAlreadyExists','queries','signaling','Internal\x20unknown\x20error:\x20','collection-create','google_calendar_list_events','tableUnsubscriber','observer','ragConnector','GraphDatabase','writeTransaction\x20-\x20transaction\x20already\x20exists','\x0a\x20===\x20Total\x20Data\x20Sent:\x20','destinationIds','setScheduleTime','https://mcp.crewdle.ai','generativeAIWorkers','getTotalNodes','onTrack','WaitTrue','contentType','addNode','ClusterAlreadyJoined','Error\x20searching','buffer','msalGetAccessToken','RestartNeedMediaStream','KeyValueDatabaseInvalidValue','Perform\x20a\x20search\x20on\x20Google\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','combinePeaks','systemMessagesReceived','getCurrentMaxLayer','privacy','load','getVectorDatabases','firebase-connect','listChanges','addMessage','KeyValueDatabase','DataCollectionDoesNotExist','processTransactionsToComputeMMR\x20-\x20All\x20transactions\x20are\x20appendable.\x20Append:\x20','indexOf','jobId','removeSubscription','data','lastRemediations','findIndex','blockId','SpeechToText','connection-no-retry-queue','abs','getJobWorkers','onMessage','mediaUnsubscribers','logUsage','getConnections','AudioContext','Invalid\x20credentials','ObjectStoreCannotWriteTransaction','subscribe','messageUnsubscriber','GraphDatabaseDoesNotExist','replace','from','commitBatch','FormSkillSubmitForm','handshakeCandidates','featureSupport','Missing\x20transaction\x20id','options','Cannot\x20unpublish\x20object:\x20','VectorDatabaseNameNotString','checkAudioVolume','grammar','GoogleMapsGeocode','SubscriptionRequestNoAnswer','deleteCollection','Failed\x20to\x20commit\x20batch\x20after\x20retries:','frames','.handlebars','publishUserUpdate','configs','filename','calculateArrayBufferSize','getModelPrices','_isReady','handleOutgoingSystemEvents','getWorkflowExternalStorageConnections','\x20must\x20be\x20a\x20boolean','Gathers\x20structured\x20user\x20feedback\x20and\x20compiles\x20reports.','JobWorker:\x20Sending\x20job\x20bid','embed','tables','getCapacityReport','VectorSearch','google_calendar_get_availability','onConnectionStateChange','FetchUrl','tools','sendStats','.jl','connectionManager','missing-system-topic','Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number','ingestFile','packets','Execute\x20skill\x20','Invalid\x20object\x20store\x20sync\x20message.','CloseGraphDatabase','handleObjectMove','registeredListeners','fetchContentFromUrl','email.crewdle.ai','extendedRecipients','cpu.fps','maxBitrate','providerId','KeyValueDatabaseTableNotFound','MissingSystemTopic','AI\x20worker\x20creation\x20failed.','emailAddress','transactionHashMap','move','\x20transactions\x20from\x20node\x20','endpointMethod','Error\x20reading\x20file\x20chunk\x20after\x20','Error:\x20No\x20email\x20content\x20to\x20send','checksum','canAddCandidates','RemoteMediaStreamTrackFail','outputTokens','InputStream','InvalidPublisher','true','handleSystemEvents','Missing\x20vector\x20database\x20connector','mediaTopics','aws','\x20must\x20be\x20a\x20valid\x20JSON\x20string','hashPeakHashes','ExecuteAgent','ExecuteCustomSkill','checkDeviceConfig','stopNoThrottlingHack','Completed','syncPendingFiles','Internal\x20error:\x20','direction','sendIceCandidates','handleProblem','OutputEmail\x20block:\x20Failed\x20to\x20send\x20email\x20-\x20','bodyParameters','getEntities','JobDispatcherCreationFailed','job-','Reranker\x20block\x20is\x20missing\x20required\x20data','Parameter\x20','filter','topic','reset','-leave','Connection\x20not\x20connected.','joinCluster','gatheringState','internalJob','handleContentCloseMediaStream','ObjectKind','isRunning','QuickbooksSearchUnpaidBills','registerSystemSource','handleContentUnpublishMediaStream','Success','catch','request-file','publishSyncCompletedAfterWrites\x20-\x20','Database\x20not\x20open','receivers','writeFile','getAncestors','nodeUpdate','syncTimeout','Agent\x20group\x20not\x20found','fileSendingMap','getTrack','shouldEmit','Invalid\x20layout:\x20','file-download','LoggingService:\x20logging\x20enabled\x20for','InputEmail','GenerativeAIContext','DataStream\x20send','prompts','.vb','/resources/generative-ai-workflow/items','quickbooks_get_customer','st_volatility','total','setupStatsReporting','isFailedResponse','clientHeight','getAudioTracks','height','getDoc','PromptFunctionParamsType','setConnectionType','bandwidth.bitrate','GraphDatabaseStats','authenticateAgent','/objectstores/','configure','DEBUG\x20-\x20','OutputEmail\x20block\x20received\x20empty\x20content','RequestAccepted','vendorId','createWritableStream','append','signalingState','join','CannotProvideMediaStream','observe','vector-database-already-exists','systemTopicUnsubscribe','concat','gpt-4.1-nano','AgentSkill','openGenerativeAIWorker','OutgoingSubscription','gpt-4o-mini','DataCollection','toLocaleDateString','.pl','StorageEventType','createSubscription','pool','handleConnectionSuccess','removeSubscriptionsForNode','Invalid\x20query','canRestartHandshake','CloseJobWorker','setInternalId','Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','crewdleSDKLoggingChannels','UpdateMediaStream','isConnected','object-store-not-synced','sendFile','GenerativeAIWorkerAlreadyExists','handleError','setupTrackEndedListeners','computeHash','LocalReport','url','Cannot\x20close\x20the\x20SDK\x20while\x20data\x20is\x20being\x20transferred.\x20Use\x20`force`\x20parameter\x20to\x20interrupt\x20the\x20connection','handleHandshake','PublishMediaStream','sequence','Invalid\x20data\x20event.','removeTrackCallback','ingestBlocks','.yaml','Data\x20collection\x20block\x20is\x20missing\x20required\x20data','1:420235181083:web:4eff6062bd845cb0748cbe','.md','If\x20you\x20know\x20the\x20answer,\x20call\x20setAnswer\x20to\x20set\x20the\x20answer','timeoutValue','action','files','isComputingMMR','exists','committed','Database\x20does\x20not\x20exist','answererId','graph-database-does-not-exist','QueryBuilderInvalidArgument','handleOptimizationConnectionSuccess','gpu','start','form-skill','openaiApiKey','Connection\x20does\x20not\x20exist','handleNodeSystemEvents','limitToFirst','chosenAnswers','\x20failed\x20to\x20receive\x20a\x20valid\x20bid\x20responses\x20in\x20time.','currentTimestamp','handleFileWrite','A\x20versatile\x20AI\x20assistant\x20designed\x20to\x20handle\x20a\x20wide\x20range\x20of\x20tasks\x20and\x20inquiries.','logSupport','setItem','pendingFilesTransactions','QuickbooksSearchItems','sendgrid_send_email','some','bandwidth.jitter','getInternalTrackParams','GmailRetrieveContact','receiverPreviousTimestamp','rate','updateDebounce','getRemoteNodes','audio','relation-extractor','data-collection','loggingCycle','interval','QuickbooksGetAccounts','Subscription','inputType','handleSubscriptionSubscribeMediaStream','.html','handleFileRequestAnswer','ConnectionNoRetryQueue','getSubscriptionInfo','removeJobDispatcher','onConfigurationChange','QuickbooksGetPurchase','::￿','previousTimestamp','desc','Buffered\x20chunks\x20are\x20too\x20large','timeoutCallback','transactionService','bandwidth.rtt','Error\x20opening\x20trace','Get','workflowId','GenerativeAIRatingStatus','AppSync\x20subscribe','executeJavascriptCodeSnippet','Jitter','indexes','publishNodeLeave','message','getMilliseconds','readyDebounce','Executes\x20precise\x20and\x20efficient\x20searches\x20using\x20available\x20tools\x20to\x20retrieve\x20relevant\x20information.','WorkflowDoesNotExist','handleContentSystemEvents','Error\x20executing\x20workflow','Perform\x20a\x20search\x20on\x20Perplexity\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','send\x20error\x20on\x20','Receiver','nodeId','Retrieve','rebuildMMR','data-stream','inbound-rtp','ObjectStoreNameNotString','text','GmailReadEmail','race','getSettings','contentRequestSent','SystemStats','isMediaSource','logStorage','object-store-invalid-payload','Error\x20processing\x20ingest','not-in','.vbs','queryOrPrompt','receiverTimeProcessing','Write\x20text\x20data\x20to\x20a\x20file.','getMinConnections','firebaseConfig','connections','Local\x20stream\x20does\x20not\x20exist.','Crewdle\x20AI','getBitrate','ObjectStoreStats','maxResolution','Update','ccc','/developers/','KeyValueDatabaseTableDoesNotExist','Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20','trace','reads','substring','setDoc','waitSuccess','quickbooks_get_bill_payment','quickbooks_search_deposits','retry','handleCloseContent','developers/','bufferedEvents','User','QuickbooksCreatePayment','Cannot\x20write\x20transaction.','Archival\x20Search\x20Agent\x20retrieves\x20historical\x20records,\x20archives,\x20and\x20academic\x20sources.\x0a-\x20Identifies\x20the\x20time\x20period\x20and\x20event\x20of\x20interest\x20before\x20searching.\x0a-\x20Searches\x20historical\x20databases,\x20digital\x20libraries,\x20and\x20archives.\x0a-\x20Prioritizes\x20academic,\x20governmental,\x20and\x20reputable\x20historical\x20sources.\x0a-\x20Provides\x20contextual\x20insights\x20linking\x20historical\x20events\x20to\x20modern\x20interpretations.\x0a-\x20Summaries\x20include\x20timeframes,\x20key\x20figures,\x20and\x20events,\x20with\x20a\x20References\x20section.','ImageParser','getPubSubTopics','suspended','blank-agent','canProvideResolution','join-cluster','GenerativeAIContextCreationFailed','generativeAISpeechConnectors','Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed','signInWithCredential','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process\x20with\x20not\x20all\x20ancestors\x20connected.','remoteNodes','createFolder','Cannot\x20publish\x20file:\x20','transactionQueue','publishFolder','unregisterSubscriber','groupId','IngestTrace','setDurationTime','score','waitAnswer','GoogleCalendarSearchDirectoryPeople','VectorDatabaseMissingConnector','\x20must\x20be\x20a\x20number','getTransactionByHash','FileWrite','muted','dataUnsubscribers','processTransactionsToComputeMMR\x20-\x20Transactions\x20appended\x20-','maxOutgoingSubscriptions','Node\x20\x27','Adapts\x20content\x20based\x20on\x20user\x20learning\x20progress.','.rs','missing-incoming-connection','statsReport','cluster','onNodeDisconnect','QuickbooksCreateItem','LocalMediaStreamNoAudioContext','stopTracing','SearchGoogle','pub-sub-topic-name-not-string','AI\x20Service\x20already\x20exists','arrayBuffer','Boolean','Invalid\x20key\x20\x27','FormSetAnswer','statsManager','assign','receiverStreams','inference','openedTraces','quickbooks_get_payment','FormSubmitForm','SubscriptionRequestDoesNotExist','StreamReport','document-parser','google_maps_place_details','orderBy','frameTime','processServiceReport','getCurrentVersion','openAIKey','handleSubscriptionUnsubscribeMediaStream','No\x20global\x20object\x20found','jobWorkers','getReceiverTotalBytes','JobDispatcherDoesNotExist','storageType','audioSource','buildQuery','connectionStateListener','KeyValueDatabaseRequestPeakTransactions','node-not-authenticated','removeTrack','arguments','publishNodeJoin','orderByKey','JobWorker:\x20Error\x20processing\x20job','Summary\x20Generator','upgradeTimeout','JobWorker:\x20Tracing\x20not\x20implemented','loggingConnectors','query-generator','.hs','setProviderId','globalObject','getConnectionType','createMediaStreamSource','checkWebRTC','Database\x20already\x20exists','trackListeners','topics','ratio','/embeddings','.j2','contextOutputVariable','syncTransactions','debounceAppendLog','Email\x20sent\x20successfully\x20to\x20','startNoThrottlingHack','CrewdleConnectionGroup','setInterval','36384NbEmYt','mediator','WorkflowInvalidBlockType','webgl','getGenerativeAIContexts','contentRect','processReceiverReport','removeItem','getDataCollections','timesCalled','crewdle-sdk.appspot.com','agent','object-store-already-exists','Received\x20track','local-stream-does-not-exist','debugEnabled','messageCallback','JobDispatcherInvalidPayload','quickbooks_get_accounts_receivable','logLevel','addDoc','content-type','NodeUpdate','delete','created','isChannelEnabled','addPendingHandshakeCandidate','clusterKey','sendTransactionsValue','getInstance','notifyJoin','forEach','getSenderBitrate','Method\x20not\x20implemented.','appendTransaction','getApp','setDisplayName','Offer','CrewdleReceiverConnection\x20ontrack','auto','code','The\x20system\x20topic\x20has\x20not\x20been\x20registered.','JobWorker:\x20Received\x20job\x20attribution','senderConnection','isNodeReady','byteLength','trend-spotter','transactionsToAppend','handleJobAttribution','onDisconnectHandler','GenerativeAIEngineType','.liquid','readyPromises','signOut','saveToDisk','JobWorker:\x20Sending\x20job\x20reject','everyone','endsWith','QuickbooksGetInvoice','No\x20parameters\x20provided','ObjectStorageUpload','Remove','registerCluster','Error\x20executing\x20agent','unregisterPublisher','QuickbooksSearchCustomers','label','WordSplitter','gmail_delete_email','getDataBucketIds','DocumentParser','enabledChannels','Request','streamId','getChannelData','closeTopic','\x27\x20is\x20not\x20ready','nlpLibraryConnector','Support:\x20','outputTypes','tail','createTopic','FramePerSecond','system','/workflows/','bytesSent','key-value-database-transaction-value-not-set','lastCapacityReport','.erb','content-unpublish-media','Buffering\x20event','Dedicated','bid','QuickbooksGetCustomer','handleFileSync','addRemoteConnection','transactionsToSync','keyValueDatabaseConnector','clear','/resources/agent/items/','Content','thread-','Cannot\x20fetch\x20content\x20from\x20this\x20type\x20of\x20file','handleNodeDisconnect','Extracts\x20key\x20points\x20from\x20long\x20documents\x20and\x20emails.','unsubscribeListener','hasOwnProperty','NeedMediaStream','processTransactionPayload','transactionTable','developers','Failed\x20to\x20parse\x20event\x20stream\x20response:\x20','CrewdleSenderConnection\x20createOffer','getLocalMediaStream','handleContentUnsubscribeMediaStream','publishSystemMessage','Receiver\x20connection\x20is\x20not\x20initialized.','docs','maxThreshold','removeRemoteNode','performCalculation','get','runJobQueue','graphService','/resources/generative-ai-workflow/items/','local-media-stream-already-exists','.\x20Response:\x20','instance','Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string','Pool','answer','origin','server','disconnected','audioDestination','Received\x20event\x20on\x20cluster','Vector\x20database\x20block\x20is\x20missing\x20required\x20data','\x0a\x20\x20===\x20MMR\x20Computation\x20Time:\x20','handleNodeJoinNeedPublishedStream','outputType','senderTotalMessages','trackChanges','logWaitTime','Incoming','mcpUrl','createAIJob','Node\x20does\x20not\x20exist.','Knowledge','version','systemTopic','offset','totalNodes','outgoingManager','subscription-request-no-answer','ExecuteCode','retryCount','graph-database-creation-failed','sendChunked','Cannot\x20list\x20directory:\x20','Bearer\x20','getContext','validateVendorCredits','bitrate','QuickbooksGetCompanyInfo','modelId','mergeParts','resolutionScale','unsubscribe','reportMetric','ExternalStorageStats','removeTopic','InvalidDataChannel','retrieveBlocks','handleNodeLeave','getStatus','resetConnection','width','maxDepth','.ts','getRemoteNode','app','maxConnections','Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream','senderStreams','getDataCollection','operator','SubscribeMediaStream','priority','feedback-agent','bytesReceived','pow','\x20attempts:','FROM\x20file','PubSub\x20already\x20exists','QuickbooksSearchAllTransactions','data:','Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','vector-database-name-not-string','Writable\x20stream\x20is\x20missing','Query\x20Generator','ConnectionNotConnected','Cannot\x20get\x20file:\x20External\x20Storage\x20not\x20connected','shared','SentenceSplitter','clockSkew','Collects\x20and\x20summarizes\x20market\x20trends\x20from\x20various\x20sources.','appsync-connect-fail','handleUnsubscribeMediaStream','QuickbooksGetCreditCardBalances','GenerativeAITracing\x20-\x20Error\x20while\x20tracing','internal','Connected','graphDatabases','query-file','nextNodeId','processJobStream','\x20does\x20not\x20exists','word-splitter','outgoingTopic','getObjectStoreBucket','getMonth','\x0a\x20===\x20Wait\x20Time:\x20','GenerativeAIContextJobFailed','namespace','joinedAt','packetsSent','openGraphDatabase','status','removeOutgoingSubscription','logPropagateSystemEvent','sendReject','getVideoTracks','hasTracks','Generative\x20AI\x20context\x20creation\x20failed.','DataStream','No\x20connector\x20found\x20for\x20model','.rb','GenerateImage','email.stg.crewdle.ai','isJobAttribution','logMMRRebuild','isPromiseResolved','CloseJobDispatcher','subscribeToJobs','warn','connection-not-connected','owner','NodeManager\x20-\x20NodeUpdate','DataChannel\x20is\x20not\x20open.','video','unpublish','debounceRebuildMMR','createBufferSource','NeedRestart','handleUnpublishMediaStream','Search\x20connector\x20not\x20set','12804714hMMnTR','chunksReceived','uuid','.info/connected','listenerUnsubscriber','clearWaitSuccess','getRemoteMediaStreams','senderCurrentBytes','stream','createObjectStoreBucket','Local\x20MediaStream\x20already\x20exists','ObjectStoreDoesNotExist','track','buildTableEvent','images','Workflow\x20output\x20is\x20not\x20a\x20string','setupRenderElement','gain','Failed','getLayout','resolve','speechAIWorkerConnectors','getTime','reduce','onCandidate','bufferEvent','Invalid\x20params','unregisterPublisherListener','Base\x20Peer\x20Connection','executeCode','handleAnswer','removeExternalStorageConnection','hasBufferedData','InvalidSubscriber','responseTimeout','collectTransactionsFromNode','responseFormat','JobWorkerDoesNotExist','0\x20B','ReceiverPeerConnection\x20onMessage\x27\x20-\x20Remote:\x20','GenerativeAIContextJobAlreadyConsumed','discover','1.0.59.0','\x20Processing\x20audio\x20block','job-dispatcher-job-not-found','KeyValueDatabaseStats','processOutboundReports','shift','function','toString','Cannot\x20create\x20Graph\x20Database:\x20Name\x20must\x20be\x20a\x20string','AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','getPriority','sendTransactionsValue\x20-\x20value\x20not\x20found','google_calendar_create_event','val','GoogleMapsElevation','key-value-database-table-name-reserved','documentParserConnector','generativeAIContexts','From\x20','mode','Missing\x20RAG\x20API\x20key','processContentAvailable','GoogleMapsSearchPlaces','Count','jobPhase','2051nepHDr','relations','handleUpdateMediaStream','enabled','\x27\x20to\x20','page','quickbooks_create_item','createBuffer','findNewMediaSubscription','question','json','minRelevance','GenerativeAIInferenceToolType','setIsLoaded','parseDataCollectionBlocks','Debug','isArray','temperature','AudioVideoDelay','warning','getBid','Generic\x20AI\x20Agent','connection-state','between','setSenderTimestamp','handleDetectionSystemEvents','handlePeerConnectionSystemEvents','RoundTripTime','Stream\x20already\x20exists','job-worker-does-not-exist','msalRefreshToken','setRank','contentMediator','All','subscriptionRequestTimeouts','recomputeRoot','Form\x20is\x20not\x20completed,\x20call\x20setAnswer\x20first','initialPrompt','Logging\x20not\x20enabled\x20for\x20channel\x20','getNumberOutgoingSubscriptions','Interviewer\x20Agent','JobWorker:\x20Sending\x20job\x20result','receiverTotalMessages','internalProcessJob','Invalid\x20job\x20worker\x20type.','AudioContext\x20is\x20not\x20available','PubSubTopic\x20publish','application/pdf','handleOffer','changesUnsubscriber','connection','getItem','receiverUnsubscribers','155UdSxuS','Unexpected\x20content\x20type:\x20','MCP\x20request\x20failed:\x20','SystemTopic\x20publish','tracks','inputTokenPrice','resolution','WaitFalse','getJobDispatchers','object-store-invalid-state','form-skill-submit-form','deleteObject','generateClient','user-join','Jobs','Emitting\x20event\x20on\x20local\x20cluster','resultFile','GenerativeAIWorkerStats','checkScreenSharing','Online','Error\x20retrieving\x20context','digest','durationTime','transformations','KeyValueDatabaseContentSynchronized','OutgoingMediaStreamNoTopic','object-store-cannot-write-transaction','stopConnection','dedicated','No\x20file\x20content\x20found','Job','RemoteConnectionExists','quickbooks_create_customer','VectorDatabase','Job\x20Worker\x20does\x20not\x20exist','clusters','Move','end','quickbooks_search_bills','getKeyValueDatabase','startIndex','Unknown\x20error\x20occurred\x20while\x20executing\x20workflow','sdk-internal-error:\x20','getConnectionGroup','deleteRemoteNode','\x20Processing\x20text\x20to\x20speech\x20block','\x0a</','GraphDatabaseAlreadyExists','invalid-publisher','Node','getResolution','pop','NodeManager\x20-\x20NodeLeave','Folder','147054UNvLdV','pub-sub-topic-already-subscribed','detectLocalIssues','ai-search','GenerativeAIContextInvalidPartialResult','Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','not-resolved','timestampGranularities','LoadSkillFunction','timePerFrame','onProviderChange','SpeechToSpeech','onNodeUpdate','subscription','userId','text-embedding-3-small','removeGraphDatabase','language','GoogleCalendarListEvents','buildInitialMMR','result','PubSubTopicAlreadyExists','.php','createJobDispatcher','GraphDatabaseNameNotString','outgoingStreams','\x20received\x20partial\x20result:','threadId','childRemovedUnsubscriber','Hub','crewdle-sdk-logging-','wait-false','publishLocalDynamicMediaStream','getLastUpdated','processReceivedTransactions','Generic\x20AI\x20Agent\x20is\x20a\x20flexible\x20assistant\x20capable\x20of\x20responding\x20to\x20various\x20queries\x20and\x20tasks.\x0a-\x20It\x20provides\x20informative\x20and\x20concise\x20responses.\x0a-\x20It\x20adapts\x20its\x20tone\x20and\x20depth\x20based\x20on\x20the\x20context\x20of\x20the\x20conversation.\x0a-\x20It\x20ensures\x20clarity\x20and\x20coherence\x20in\x20all\x20interactions.\x0a-\x20It\x20structures\x20responses\x20using\x20Markdown\x20for\x20readability.\x0a-\x20It\x20avoids\x20making\x20assumptions\x20without\x20sufficient\x20context.\x0a-\x20It\x20can\x20summarize,\x20analyze,\x20and\x20generate\x20content\x20as\x20needed.\x0a-\x20It\x20always\x20prioritizes\x20user\x20intent\x20and\x20accuracy.','asObservable','endpointUrl','GenerativeAITracing\x20-\x20Error\x20while\x20logging\x20usage','An\x20error\x20occurred','Router','Reranker','stop','https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','.pptx','none','Outgoing','estimatedPlayoutTimestamp','onClose','createGraphDatabase','writeBatch','bufferedChunks','hashTransaction','ClosePubSubTopic','Agent','bind','ExternalStorageConnectionAlreadyExists','getPartsForSubscriptionLabel','getExternalStorageConnections','external-storage-invalid-path','objectToArrayBuffer','FormSkillSetAnswer','find',',\x20Transactions:\x20','ragApiKey','https://crewdle-sdk-stg-default-rtdb.firebaseio.com','FormSkill','Index','content-publish-media','syncContent','CloseGenerativeAIContext','After\x20Synchronization\x20-\x20Is\x20Database\x20sync?\x20','element','answerJoin','sourceVideo','noun','setLoggingConnectors','getReceiverBitrate','google_calendar_delete_event','No\x20model\x20available','getTotalBytes','internalId','Connection\x20does\x20not\x20exist.','account','handleNodeJoin','list','input-email','MediaStream\x20feature\x20not\x20enabled','Cannot\x20subscribe\x20to\x20ExternalStorage:\x20Already\x20subscribed','Missing\x20external\x20storage\x20connector','JobDispatcherJobNotFound','application/json','resolveReady','bufferedAmount','AppSync\x20client\x20not\x20ready','rejectReady','getMaxConnections','trim','links','us-east-1','batchQueue','receiver','.hbs','stringify','unregisterRemoteNode','PartialResult','QuickbooksGetItem','supported','padStart','getJob','lastUpdated','serverTimestamp','Code','Query\x20is\x20required','GenerativeAIWorker:\x20CollectionDelete\x20failed','Cannot\x20publish\x20payload:\x20','connectionConstructor','getAudioVideoDelay','trackCallback','subject','google_maps_directions','PubSubTopicAlreadySubscribed',',\x20Total\x20Nodes:','Memory\x20Usage\x20at\x20','hasTable','GraphDatabase\x20not\x20found','captureStream','peakHeights','base64','previousBytes','isReconnecting','VectorDatabaseCreationFailed','object-store-name-not-string','LoadKnowledgeFunction','ReceiverOnMessage','handleRemediationSystemEvents','fallbackModel','Early\x20return:\x20','PayloadAction','node','job-dispatcher-already-exists','Cannot\x20find\x20External\x20Storage\x20connection:\x20','getRank','peerConnectionConnector','external-storage','syncKeyValueDatabase','job-dispatcher-does-not-exist','closed','detectVideoIssues','sendRequest','startsWith','clearSubscriptionRequestTimeout','description','addReservedTables','setStatus','Generative\x20AI\x20context\x20job\x20already\x20consumed.','No\x20connections\x20available\x20to\x20send\x20subscription\x20request','addCandidate','.ppt','quickbooks_create_payment','ElevenLabs','ScreenSharing','createIncomingSubscription','node-already-exist','maxFramerate','dataChannel','FolderDelete','Execute\x20the\x20workflow\x20','TestPage','<current-question>','.pug','key','processContentSynchronized','maxFps','No\x20more\x20questions\x20available,\x20call\x20submitForm\x20to\x20submit\x20the\x20form','getEmail','aiSearchApiKey','Send\x20request','encode','KeyValueDatabaseDoesNotExist','detectStreamIssues','handshakeState','externalStorageConnections','inputPrice','sage','Context','sendBid','Peaks\x20requested\x20were\x20not\x20found\x20in\x20local\x20MMR','processRemoteInboundReport','processSenderReport','enumerateDevices','MissingRemoteConnection','JobQueueService:\x20Error\x20running\x20job','.conf','maxLayer','readyResolve','handleMissingSenders','QuickbooksGetDeposit','onChildRemoved','instantiateTransactionTable','GraphDatabaseMissingConnector','localId','loadEnabledChannels','Amplify','Publish\x20the\x20transaction','handshakeDebounce','addCluster','Helps\x20businesses\x20analyze\x20options\x20and\x20make\x20strategic\x20decisions.','setOnMessageHandler','Summary\x20Generator\x20extracts\x20key\x20points,\x20action\x20items,\x20and\x20critical\x20insights\x20from\x20emails\x20and\x20documents.\x0a-\x20Identifies\x20the\x20document\x20type\x20(e.g.,\x20report,\x20legal\x20contract,\x20meeting\x20notes).\x0a-\x20Highlights\x20action\x20items\x20and\x20distills\x20the\x20main\x20takeaways\x20concisely.\x0a-\x20Provides\x20bullet-point\x20executive\x20summaries.\x0a-\x20Uses\x20Markdown\x20for\x20structured\x20formatting\x20with\x20a\x20Summary\x20and\x20Next\x20Steps\x20section.','JobType','type','\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','onHandshakeStateChange','graphql','onGatheringStateChange','lastProcessRank','messagesReceived','getLocalId','stun:','inputTokens','handleStatsSystemEvents','GoogleCalendarListOtherContacts','getConnection','messageType','CONNECTION_STATE_CHANGE','pendingFilesSyncing','isSync','elevenLabsApiKey','ExternalStorageNameNotString','.crewdle-layout','processRank','Crewdle','MediaStreamUnavailable','streams','openGenerativeAIContext','@root','Media','ExternalStorageConnectionAlreadySubscribed','oidc','createLocalDynamicMediaStream','.go','getRemoteConnections','batchSize','parseWorkflowDocument','Low','onremovetrack','validateKey','GmailDeleteContact','JobDispatcherJobExists','ObjectStoreNotSynced','getAgents','Failed\x20to\x20parse\x20JSON\x20response:\x20','Key-value\x20database\x20transaction\x20table\x20not\x20initialized.','UnpublishMediaStream','/models','checkBackgrounds','JobWorkerCreationFailed','jitter','commitTrace','framesEncoded','ownerId','entities','getAvailableTrackKinds','\x20to\x20generate\x20a\x20response.','removeTrackListeners','Execute\x20the\x20agent\x20','minConnections','keyPath','pub-sub-topic-already-exists','modelPrices','getOutgoingOptimizationConnections','Video','RebuildMMR\x20-\x20MMR\x20Root\x20changed?\x20','problem','engine','addVideoTrack','\x27\x20payload:','logEvent','Error','Connection\x20not\x20initialized.','GoogleCalendarListDirectoryPeople','logDataSent','Failed\x20to\x20send\x20job\x20','Invalid\x20value.\x20Must\x20be\x20an\x20object.','issue','\x20attributed\x20to\x20','input-stream','functions','av_delay','isSubscribed','jobQueue','getHash','Agent\x20output\x20is\x20not\x20a\x20string','handleDisconnect','processReport','GoogleCalendarDeleteEvent','JobDispatcherInvalidJobType','receiverPreviousBytes','queueLength','image_url','isWhereValue','remoteUnsubscriber','DatabaseEvent','checkAudioOutput','Missing\x20index','clearWaitAnswer','Found\x20','NodeJoin','Error\x20parsing\x20JSON:','\x20-\x20','createVectorDatabase','hasRemoteNode','apiUrl','RemoteMediaStreamAlreadyExists','channel','internalProcessJobStream','systemMessages','CanProvideMediaStream','graphDatabaseConnector','Invalid\x20node\x20type','MediaStreamPriority','clusters/','parameters','getWorkflow','outgoing-stream-no-topic','destination','contentManager','Rejected','isValidMediaSubscriptionParams','messageListeners','quickbooks_get_bill','updateDebounceTimeout','unregisterDestination','ENOENT','standalone','checkWebGL','findNextNodeId','__esModule','PubSubTopic\x20onMessage','google_calendar_get_event_by_id','framerate','Audio','createJob','\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','getJobs','PubSubTopicStats','quickbooks_create_vendor','RemoteMediaStreamInvalidSubscriptionParams','Unsupported\x20job\x20type','.java','FinalOutput','GoogleCalendarSearchContacts','manageBufferedChunks','Query\x20must\x20refer\x20to\x20the\x20file\x20table','tool-call','1:519415702791:web:5dd39042f881cfde3251a2','Signaling','hashNodes','GmailSearchEmails','minResolutionScale','Queued','exports','NodeType','handleSubscriptionRestartNeedMediaStream','debounceRebuildMMRWithTransaction','getIdToken','database','currentFrames','mistlet-capacity-report-not-set','internalContext','Unable\x20to\x20read\x20response','auth','addIssue','.ini','/usages','.sh','InvalidAccess','RemoteMediaStreamMissingProviderId','GmailCreateDraft','state','head','\x20does\x20not\x20support\x20content\x20type\x20','external-storage-upload','getProviderId','remote-connection-exists','object-storage-upload','notifyObjectStoreOfNodeJoin','commitType','getWorkflowObjectStorageBuckets','WebScraperRaw','QuickbooksGetVendor','GoogleMapsReverseGeocode','Synced','Unknown\x20error','Missing\x20search\x20API\x20key','learn-agent','Node\x20type\x20is\x20required','key-value-database-table-not-found','GenerativeAITracing\x20-\x20trace\x20job\x20id\x20does\x20not\x20match','Set\x20the\x20answer\x20to\x20the\x20current\x20question.','Sender\x20connection\x20is\x20not\x20initialized.','Trend\x20Spotter\x20gathers\x20current\x20market\x20trends\x20from\x20reports,\x20social\x20media,\x20and\x20industry\x20news.\x0a-\x20It\x20identifies\x20the\x20market\x20of\x20interest\x20before\x20conducting\x20a\x20web\x20search.\x0a-\x20Provides\x20an\x20executive\x20summary\x20followed\x20by\x20detailed\x20insights.\x0a-\x20Lists\x20verified\x20statistics\x20and\x20their\x20sources.\x0a-\x20Always\x20states\x20the\x20date\x20of\x20information\x20and\x20suggests\x20verification.\x0a-\x20Summaries\x20are\x20structured\x20under\x20Key\x20Trends,\x20Market\x20Growth,\x20and\x20Consumer\x20Preferences.','search-agent','resizeHandler','GenerativeAIContextDoesNotExist','removeIncomingSubscription','publishSyncCompleted','joinedClusters','GenerativeAITracing\x20-\x20trace\x20is\x20not\x20open','external-storage-connection-does-not-exist','min','executeWorkflow','GmailSendEmail','mmr','timeSending','KeyValueDatabaseNameNotString','agent-skill','getTrackFromParam','getSubscriptionLabel','unregisterSystemPublisher','DataStream\x20onMessage','long','roundTripTime','addTrack','notifyCluster','apikeys/','handlePublishMediaStream','question-','setupStatsCollection','Pinecone','file-write','JobDispatcherObserverNotFound','failed','NodeLeave','contentSize','key-value-database-does-not-exist','ExternalStorageConnectionDoesNotExist','detail','ObjectStoreNotInSync','stats','OpenAI','ObjectStoreInvalidPath','List','Core','leave','Key-value\x20database\x20table\x20does\x20not\x20exist.','externalStorages','Consuming\x20buffered\x20event','value','job-dispatcher-invalid-job-type','We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set','Goal:\x20Fill\x20out\x20the\x20form\x20using\x20only\x20the\x20provided\x20tools.\x0a\x0aRules:\x0a-\x20Always\x20call\x20getQuestion\x20to\x20retrieve\x20the\x20current\x20question\x27s\x20details.\x0a-\x20Only\x20ask\x20what\x20getQuestion\x20returns\x20you\x20—\x20no\x20guessing,\x20no\x20extras.\x0a-\x20Use\x20the\x20question\x27s\x20details\x20to\x20ask\x20a\x20clear,\x20human\x20question.\x0a-\x20Do\x20not\x20mention\x20formatting\x20or\x20validation\x20rules.\x0a-\x20Ask\x20only\x20one\x20question\x20at\x20a\x20time.\x0a-\x20Always\x20validate\x20the\x20answer\x20using\x20the\x20current\x20question\x27s\x20details\x20from\x20getQuestion.\x0a-\x20If\x20the\x20answer\x20is\x20valid\x20or\x20can\x20be\x20auto-corrected\x20(e.g.\x20trim,\x20format),\x20call\x20setAnswer(questionId,\x20value).\x0a-\x20If\x20the\x20answer\x20is\x20not\x20valid,\x20gently\x20ask\x20the\x20user\x20to\x20try\x20again\x20—\x20no\x20tech\x20talk,\x20no\x20rule\x20references.\x0a-\x20Call\x20submitForm\x20when\x20getQuestion\x20returns\x20\x22No\x20more\x20questions\x20available\x22.\x0a-\x20Never\x20call\x20more\x20than\x20one\x20tool\x20at\x20a\x20time.\x0a\x0aAvailable\x20Tools:\x0a-\x20getQuestion:\x20to\x20retrieve\x20the\x20current\x20question\x27s\x20details.\x0a-\x20setAnswer:\x20to\x20set\x20the\x20answer\x20to\x20the\x20current\x20question\x20and\x20move\x20to\x20the\x20next\x20question.\x0a-\x20submitForm:\x20to\x20submit\x20the\x20form\x20when\x20all\x20answers\x20have\x20been\x20answered.','ready','\x20not\x20found.','getContent','tokens','WorkflowTrace','custom-skill','Issue\x20detected:\x20','Disconnect','embedding','northamerica-northeast1','getFullYear','heartbeatUnsubscriber','workflow-invalid-block-type','capacityReporter','Default','object-store-invalid-path','request','Vector','additionnalInstructions','Internal\x20SDK\x20error:\x20','\x20already\x20exists','Graph\x20database\x20block\x20is\x20missing\x20required\x20data','object-storage','pubSubTopics','\x20seconds','KeyValueDatabaseContentAvailable','Invalid\x20key:\x20No\x20vendorId\x20or\x20accessToken','threshold','availableTrackKinds','receiverCurrentTimestamp','isJobRequest','update','propagate','agent-join','unregisterSystemSource','QuickbooksCreateVendor','AITrace','pubsub','chunk','/mcp','splitParts','https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','GetContextResult','handleNoAnswer','ChunkSplitter','answer-','quickbooks_get_transfer','.sql','openObjectStoreBucket','.dart','engineType','CrewdleConnection\x20handlePeerConnectionSystemEvents','Warning','Delete','includes','object-store-stream-does-not-exist','quickbooks_get_inventory_valuation','1.0.59','processPendingHandshakeCandidates','connection-invalid-data-event','relevance','previous','code_interpreter','connectionState','Sender','parse','WebRTC','addAudioTrack','getSenderTotalBytes','isBidResponse','GraphSearch','crewdle','RunwayML',';base64','Optimization','Error\x20closing\x20writable\x20stream','Object\x20store\x20is\x20not\x20in\x20sync','.pdf','NodeManager\x20-\x20PublishNodeLeave','MediaStream','vector-database-missing-connector','Invalid\x20content\x20type','Network\x20error:\x20','createNewBatch','updateJob','medias','email','application/octet-stream','Missing\x20remote\x20node\x20or\x20rank','\x0aAdditional\x20data:\x20','getDTVolatility','QueryFile','FolderCreate','submitForm','lastExecuted','.crewdle-pending','PeerConnectionInvalidDestination','getPeakNode','Failed\x20to\x20send\x20email:\x20','root\x20hash:\x20','processBatch','closeTrace','FPS','startLoggingCycle','job-dispatcher-creation-failed','unshift','folder-create','createGenerativeAIContext','KeyValueDatabaseNotOpen','reportCapacity','Prompt','subscription-request-failed','interview-agent','debounceReady','setBytes','setEmail','web-scraper-raw','\x20sending\x20attempt\x20','QuickbooksSearchInvoices','GenerativeAIWorker:\x20Opening','user','registerSubscriber','successNotified','executeAgent','/transactions','.crewdle-transactions','map','Received\x20sync\x20required.\x20Database\x20available:\x20Checking\x20synchronization','GenerativeAIWorkerCreationFailed','where','Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string','ExternalStorageConnectorsMissing','chooseAnswer','setTimestamp','dispatchEvent','vectors','MCP\x20tool\x20call\x20failed','Partial','rating','random','documentPath','support','eventTarget','updated','FeatureNotEnabled','handleSubscriptionProvideMediaStream','getGraphDatabases','Accepted','replaceTrack','ObjectStoreInvalidState','createKeyValueDatabase','candidate','mediaStream','\x20not\x20supported','22056KvBBMW','onUnregisterPublisher','String','text/plain','workflow-tool','google_calendar_update_event','getBuffer','isProduction','quickbooks_search_journal_entries','Key-Value\x20Database\x20-\x20Sync\x20Completed','GmailDeleteEmail','PromptRating','Invalid\x20peer\x20connection\x20event\x20destination.','canvas','Error\x20committing\x20batch:','gmail_search_for_email','generate-image','URL\x20is\x20required','Node\x20already\x20exists.','topK','removeNode','Support','createSenderConnection','Chosen\x20answer','prompt','appsync-disconnect','/nodes/','subscribedTracks','Entity','openVectorDatabase','NodeNotAuthenticated','\x20Process\x20inference\x20final\x20response','gmail_delete_contact','job-worker-creation-failed','remediations','clusterId','GenerativeAILabelConflict','organizationId','forceLog','syncResolve','rtt','GenerativeAIWorkerModelSyncError','callback','setPendingFileSyncingPayload','generative-ai-worker-creation-failed','Disconnected','region','getDistance','feature-not-enabled','Key-value\x20database\x20peak\x20not\x20found.','totalDecodeTime','ObjectStore\x20not\x20found','initializeSystemTopic','quickbooks_get_purchase','chunks','Stream\x20does\x20not\x20exist','420235181083','mute','storage','updateUser','streamLabel','connectionGroup','moveObject','resume','event','gmail_create_draft','updatePropagationProperties','vector-database-does-not-exist','discoveryUnsubscriber','GoogleMapsDistanceMatrix','ApiKeyMissing','\x20when\x20you\x20need\x20contextual\x20data\x20to\x20inform\x20your\x20response.','CrewdleMCP','agentId','GraphDatabaseCreationFailed','Remote\x20connection\x20already\x20exists.','Invalid\x20index\x20in\x20table\x20\x27','No\x20RAG\x20connector\x20available','if_else','firebaseUnsubscriber','setCurrentVersion','pathName','models','take','Cannot\x20publish\x20folder:\x20','System','Recording','QuickbooksSearchTransfers','duration','Text\x20is\x20required','GoogleCalendarSearchOtherContacts','getPubSubTopic','authContext','undefined','notifyClusterNodeUpdate','peer-connection-invalid-destination','counter','https://crewdle-sdk-default-rtdb.firebaseio.com','publishSyncCompletedAfterWrites','comparePeaks','searchOnPerplexity','ExecuteWorkflow','syncKeyValueDatabase\x20-\x20Retrying\x20sync\x20in\x20broadcast\x20mode.\x20Waited\x20for\x20cluster\x20readiness\x20for:','\x20deleted.','getInternalStreamId','Job\x20worker\x20creation\x20failed.','FileDelete','statsReporting','createCollection','Id\x20is\x20not\x20valid,\x20call\x20getQuestion\x20first\x20to\x20get\x20the\x20question\x20id','.yml','logInitialMMR','problemType','pendingSyncTransactions','addRemoteNode','getResolutionScale','RelationExtractor','remediation','numeric','api','.ipynb','shouldProcessTransaction','local-media-stream-no-audio-context','Cannot\x20create\x20External\x20Storage:\x20Name\x20must\x20be\x20a\x20string','searchApiKey','getToolName','applyRemediation',':\x20Object\x20store\x20is\x20not\x20in\x20sync','httpsCallable','externalStorageConnectors','getBufferedAmount','Embed','file-list','targetId','off','logSyncMetrics','Joined\x20cluster','rank','.tsx','.lua','generativeAIWorkerConnectors','QuickbooksSearchBills','trackEndedListeners','DeviceConfig','Database\x20Opened','Offline','count','tableName','getEnabledChannels','nodeManager','Node\x20is\x20not\x20an\x20agent','traceLevel','fetchUrl','isWhereValues','incomingTopic','evaluateBids','openTrace','downgrade','validation','No\x20start\x20block\x20found','Bitrate','lastHeartbeat','eventListener','number','handleSubscribeMediaStream','getPacketsLostPerc','.json','remoteMediaStreams','setSinkId','compileStats','RemoteMediaStreamDoesNotExist','Model\x20not\x20found\x20','remoteConnections','Cluster','cachedRoot','Job\x20','waitSendBuffer','publishFile','Specializes\x20in\x20modifying\x20documents\x20based\x20on\x20user\x20input.','validateLayout','play','Email\x20sending\x20failed','subtle','\x20Stream\x20usage','getPartsFromSubscription','Logger.getInstance','parentId','getDataLogged','https://api.stg.crewdle.ai','Anthropic','Store\x20already\x20exists','setTransformations','operations','isInternalLoggingConnector','connect','startHeartbeat','index','sendFileRequestPayload','validateAccess','write','object-store-invalid-sync-message','addBidResponse','addProblem','loadFromDisk','pubsubTopics','evaluateProccessedJob','listen','setRemoteNode','GenerativeAIModelOutputType','Before\x20Synchronization','getReader','Job\x20service\x20creation\x20failed.','@context.','LocalMediaStreamTrackFail','split','subscriptionRequests','processList','realtime-session-create','Detection','Remediation','handleSubscriptionSystemEvents','GoogleCalendarRetrieveEvent','decodeJWT','debug','Tool','\x27\x20reserved','graph-database','isMediaDestination','node-type-not-supported','getDate','success','ModelText','voice','InvalidSubscription','PubSubTopicDoesNotExist','ConnectionInvalidDataEvent','trackKinds','CloseMediaStream','getRoundTripTime','logServiceEvent','QuickbooksSearchPurchases','Error\x20encountered\x20while\x20opening\x20database','initialize','removeVectorDatabase','queryCollection','getVectorDatabase','application/json,\x20text/event-stream','Backgrounds','Calling\x20SendGrid\x20MCP\x20tool','GoogleCalendarGetAvailability','Downgrade','send','openGenerativeAIContextStandalone','Channel\x20\x27','LocalMediaStreamDoesNotExist','setLocalRank','crewdleSDKEnableLogging','peer-connection','Workflow\x20Output','keys','generative-ai-context-job-failed','clusterEventEmitter','setReceiverBytes','subscriptionManager','connectionType','\x20writes\x20from\x20','openKeyValueDatabase','vector','checkAudioContext','fromEntries','openJobWorker','Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.','asc','calculateSize','PubSub','right','upload','\x20with\x20response:','/transactions/','pendingFilesRename','job-dispatcher-invalid-payload','choices','text/csv','isSyncing','isOpened','\x27\x20in\x20table\x20\x27','Info','Prompt\x20is\x20required','openrouterApiKey','ranges','completeSync','Handshake','authNode','debounceProcessRank','file','createConstantSource','ConnectionBufferNotEmpty','Sending\x20\x27','QuickbooksGetPayment','Internal\x20event\x20\x27','speech-to-speech','results','handleSuccess','registerRemoteNode','syncedFileExists','key-value-database-creation-failed','setOnDisconnectHandler','timestamp','jobObservers','Answer','confirmSynchronization',';base64,','key-value-database','Wait','EntityExtractor','Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.','uid','createLocalMediaStream','file-ingest','generative-ai-worker-already-exists','Relation\x20extractor\x20block\x20is\x20missing\x20required\x20data','remediationManager','DTVolatility','parseWorkflowBlocks','headers','image-parser','QuickbooksSearchCreditCardTransactions','clientStream','QuickbooksGetBill','onloadeddata','push','FS\x20connector\x20is\x20not\x20available','floor','providerListener','ModelVector','getRoot','request-file-write','previousFrames','getConnectionDestinations','Relation','isWhereBetween','objectStoreConnector','blocks','commit','google_maps_elevation','Mistlet\x20capacity\x20report\x20not\x20set.','statusText','Cannot\x20get\x20file:\x20','cluster-already-joined','addEdge','logger','Model\x20output\x20type\x20is\x20vector\x20but\x20input\x20is\x20not\x20an\x20index','output-stream','max','anthropicApiKey','OfficeParser','KeyValueDatabaseTransactionTableNotInitialized','Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream','processPendingSyncTransactions','handleObjectDelete','generative-ai-context-job-missing-thread-id','Model\x20ID\x20is\x20required','Invalid\x20data\x20channel.','dt_volatility','sendPeakTransactions','QuickbooksGetAccountsPayable','clearUpgradeTimeout','Missing\x20AI\x20worker\x20connector','system-stats','getShareableStream','VectorDatabaseStats','required','QuickbooksGetAccountsReceivable','Bid','publishTransaction','getSimilarity','handleRequestPayload','firebase-disconnect','ConnectionState','history','High','generative-ai-context-job-already-consumed','filteredDestinationIds','unsubscribeTrackEndedListener','generic-agent','ObjectStorage','Shared','cpu.time_per_frame','mmrRoot','params','RAG\x20connector\x20is\x20not\x20available','ObjectStorageBucket','urls','defineProperty','propn','transactions','detectProblems','Knowledge\x20Cutoff\x20Date:\x20','remoteId','\x20Fallback\x20model','Image','updateLastUpdated','object-store-not-in-sync','\x0a\x20===\x20Total\x20Time:\x20','generative-ai-label-conflict','workflow','STVolatility','nodeKey','retryQueues','knowledge','\x0a\x20\x20===\x20Total\x20Nodes:\x20','ExternalStorageUpload','isReady','retryLimit','deleteJob','upgrade','setupListeners','setPriority','deleteTransactionsForTable','processJob','Cannot\x20list\x20directory:\x20External\x20Storage\x20not\x20connected','fps','removeListener','ContentType','Ingest','cleanOldSubscription','query','authService','evaluateBidsAndAttributeJob','Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key','verb','string','Insufficient\x20credits','ended','processOutboundReport','graph-database-name-not-string','Error\x20validating\x20vendor\x20credits','default','search','getConfigs','GenerativeAIContext\x20stream\x20error','currentBytes','memoryUsage','sendWithRetry','fileConnector','createElement','component','once','No\x20destinationIds\x20left','wav','.txt','SHA-1','openJobDispatcher','KeyValueDatabase\x20not\x20found','emit','\x20already\x20exists.','objectRequests','getSupportedContentTypes','FolderMove','FileMove','createExternalStorageConnection','getLabel','registerPublisher','KeyValueDatabaseTransactionValueNotSet','JobStatus','ReceiverPeerConnection.onMessage','closeConnection','getPeaks','Conditional\x20Router','Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc','getReport','GenerativeAITracing\x20-\x20Model\x20price\x20not\x20found','FileStatus','appsync-connect','logDataReceived','Job\x20Dispatcher\x20already\x20exists','Key-value\x20database\x20transaction\x20value\x20not\x20set.','Cannot\x20unpublish\x20object\x20at\x20','removeEventListener','set','getContentType','getLocalNode','Invalid\x20where\x20clause','NodeConnectionsUpdate','add','incomingManager','WebGL','2-digit','ObjectStoreInvalidPayload','google_maps_geocode','failJob','checkSyncComplete','Invalid\x20value.\x20Property\x20\x27','syncTransactionsWritten','Restart','lastTransactionId','logConnectionState','notifyClusterNodeJoin','GoogleMapsDirections','Query\x20file\x20connector\x20not\x20set','quickbooks_get_item','FormGetQuestion','Key-value\x20database\x20creation\x20failed.','processDataChannelReport','all','\x20check\x20failed','ObjectStore','listFiles','Agent\x20block\x20is\x20missing\x20required\x20data:\x20','setOnTableWriteHandler','/search','setEncodingParameters','entity','Error\x20stringifying\x20object','JobQueueService:\x20Job\x20completed','/chat/completions','handleTransactionPayload','attributes','setupResizeHandler','getGraphDatabase','handleOnMessage','left','Missing\x20OpenAI\x20API\x20key','NodeTypeRequired','Search','\x20must\x20be\x20a\x20string','receiverCurrentBytes','key-value-database-invalid-layout','pendingHandshakeCandidates','renderElement','size','ancestors','publishLocalMediaStream','KeyValueDatabasePeakNotFound','framesDecoded','subscriptions','getSubscribedTracks','node-type-required','runwayMLAPIKey','overlap','strategizing-agent','Rejected\x20answer','SyncComplete','/capacities','createConnection','Received\x20request\x20for\x20peak\x20transactions.\x20Sending\x20Transactions.','GenerativeAIRagType','toStringTag','\x20completed.','QuickbooksSearchDeposits','insert','removeRemoteConnection','startTime','connector','accumulateResult','getIsLoaded','setRemoteConnections','Helps\x20users\x20construct\x20optimized\x20SQL\x20or\x20NoSQL\x20queries.','queues','videoWidth','audio/wav','Error\x20during\x20MMR\x20rebuild\x20logging:','en-US','Model\x20not\x20found','processTransactionsToComputeMMR','WebScraper','run','localMediaStreams','accessToken','Sync\x20completed','POST','createGain','.cpp','senderBitrate','ExternalStorageInvalidPath','searchInDataCollection','setUpgradeTimeout','LocalMediaStreamAlreadyExists','questions','cost','listenUnsubscriber','RequestFile','connectAgent','speech-create','appsync-close','splice','getGenerativeAIContextsStandalone','removePubSubTopic','WorkflowTool','quickbooks_get_deposit','sync','getExternalStorageConnection','logRaw','contextInputVariable','doc','Retrieve\x20the\x20current\x20question\x20from\x20the\x20form.','getKeyValueDatabases','getOrResetPendingFileTimeout','>\x0a\x0a','keyValueDatabases','handleSubscriptionMediaStreamUnavailable','Job\x20Dispatcher\x20does\x20not\x20exist','getDatabase','jobs','680426AaYADr','debounceLogTimeout','startBidResponseHandling','round','instructions','.bat','waitConnected','Rating','KeyValueDatabaseSyncRequired','reasoning','handleFileRequest','destroy','Attribution','ner','GmailCreateContact','createRemoteMediaStream','ConnectionNotinitialized','close','vectorDatabases','boolean','external-storage-connection-already-subscribed','Operations:','Data','filesSynced','Document\x20Agent','GmailSearchContacts','iceConnectionState\x20failed','\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.','orchestrator-close','disconnectCallback','JobContext','Subject','google_calendar_search_contacts','removeLocalMediaStream','token','write-file','incrementVersion','jobType','createPendingFileWrite','return\x20this','NodeDoesNotExist','Coordinator\x20Agent','PeerConnection','_ready','packetsLost','GenerativeAIContextStats','createOutgoingSubscription','Valid\x20layout','OPFSObjectStoreConnector','OptimizationConnectionSuccess','Data\x20Sent','removeObjectStore','jobDispatchers','checkMediaStream','crewdle-sdk-stg.appspot.com','taskType','retryQueue','file-delete','getAncestorIds','errorDetails','audioContext','JobStream','Conducts\x20interviews\x20and\x20gathers\x20information\x20based\x20on\x20the\x20form\x20tools.','GenerativeAIContextJobTimeout','commitLevel','11LBssns','text/','remove','ExternalStorage','Early\x20return','missing-datachannel','Job\x20with\x20id\x20','removeGenerativeAIContext','Waiting','GenerativeAIContextJobMissingThreadId','tableLayout','consumeBufferedEvents','GenerativeAIWorker:\x20FileDelete\x20failed','requestSubscription','Feedback\x20Agent','collectionId','Upgrade','QuickbooksSearchJournalEntries','setParams','subscriptionRequestsQueue','SubscriptionRequestInProgress','.xls','handleContentSubscribeMediaStream','router','audio/mpeg','async','\x0a\x20===\x20Total\x20Nodes:','getTable','peaks','.rkt','crewdle-mcp-','No\x20data\x20found\x20in\x20event\x20stream\x20response:\x20','messagesSent','getOwnerId','isAvailable','clearRect','collectReceiversStats','Add','Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27','writeTransaction','setReportCapacity','source','NodeTypeNotSupported','wait','Error\x20processing\x20workflow\x20block','ceil','logBatch','Opened\x20generative\x20AI\x20worker','issues','deleteFileChunks','getToolParams','dataStores','IncomingSubscription','QuickbooksGetCashFlowProjection','Could\x20not\x20open\x20trace','Archival\x20Search\x20Agent','detectAudioIssues','/jobs','\x20with\x20','setForDeletion','getAuth','Job\x20service\x20job\x20not\x20found.','Invalid\x20subscription.','Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.','eventEmitter','unregisterSource','.doc','generative-ai-context-does-not-exist','task','quickbooks_search_unpaid_invoices','codes','sourceId','agent-config-changed','getSTVolatility','summary-generator','Stats','Human','Connection\x20already\x20exists','AiSearch','vector-database-creation-failed','deleteFile','SHA-256','Received\x20content\x20available\x20from\x20node','Error\x20fetching\x20context','getNextTargetRank','videoHeight','getToolDescription','has','SubscriptionRequestFailed','KeyValueDatabaseTableNameReserved','receiverConnection','web-scraper','isLoaded','47206nqdlAC','maxBpp','addBatchOperation','sender','Text','minThreshold','removeRemoteMediaStream','quickbooks_search_invoices','verbosity','cores','match','getDocs','voice=','Received\x20','google_calendar_list_other_contacts','sonar','</current-question>\x0a\x0a','KeyValueDatabaseSendTransactions','nodesConnected','KeyValueDatabaseInvalidQuery','content','if-else-router','context','optimizationLayers','SearchPerplexity','setReceiverTimestamp','fetch-url','Missing\x20graph\x20database\x20connector','getTracks','OutputEmail\x20block\x20processing\x20error:','SenderSendMessage','aiSearchConnector','format','AudioOutput','Module','shouldContinuePropagation','isOffer','features','firestore','updateLastTransactionId','KeyValueDatabaseCreationFailed','/resources/generative-ai-collection/items','searchOnGoogle','local-media-stream-track-fail','ref','manageOptimization','isResultResponse','senderPreviousBytes','2.0','model','clearHeartbeat','/resources/external-storage/items/','feedback','pub-sub-topic-does-not-exist','Blank\x20Agent','VectorDatabaseAlreadyExists','collection','Workflow','QuickbooksSearchUnpaidInvoices','maxTokens','scheduleTime','connection-buffer-not-empty','.clj','.awk','hosting','Skill','GetContextQuery','orchestrator','CREWDLE_WEB_SDK','handleFolderCreate','validateValue','objectStores','Additional\x20context:\x0a','bufferedAmountLowThreshold','getMaxDistance','answers','batchTimeout','PubSubTopicNameNotString','gmail_get_email_by_id','tools/call','Problem','closeSubscription','Cluster\x20already\x20joined','publish','DataChannel\x20send\x20error','getRemoteMediaStream','collection-delete','now','limit','NodeManager\x20-\x20ConnectionSuccess','Trend\x20Spotter','setSubscriptionRequestTimeout','handleChunkMessage','getTableConnector','\x20Stream\x20final\x20response','processLocalReport','Resolution','SyncKeyValueDatabasse\x20-\x20Waiting\x20for\x20ancestors','complete','RequestFileSync','senderTimeProcessing','Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.','Connection','DataChannel\x20is\x20not\x20initialized.','next','initializeApp','Account','handleNodeUpdate','Events','out','arrayBufferToObject','processInboundReport','MistletCapacityReportNotSet'];a0_0x23da=function(){return _0x1387b0;};return a0_0x23da();}function a0_0x5d01(_0x224b82,_0x6cb472){const _0x23da0d=a0_0x23da();return a0_0x5d01=function(_0x5d01cf,_0x176bcd){_0x5d01cf=_0x5d01cf-0x1d6;let _0x4e456f=_0x23da0d[_0x5d01cf];return _0x4e456f;},a0_0x5d01(_0x224b82,_0x6cb472);}(function(_0x2292dc,_0x11e374){const _0x149f26=a0_0x5d01,_0x508f3a=_0x2292dc();while(!![]){try{const _0x2104f3=parseInt(_0x149f26(0xacf))/0x1+parseInt(_0x149f26(0xa31))/0x2+-parseInt(_0x149f26(0xb97))/0x3*(parseInt(_0x149f26(0x7d5))/0x4)+-parseInt(_0x149f26(0x540))/0x5*(-parseInt(_0x149f26(0x576))/0x6)+-parseInt(_0x149f26(0x50b))/0x7*(parseInt(_0x149f26(0x3c8))/0x8)+-parseInt(_0x149f26(0x4c8))/0x9+parseInt(_0x149f26(0xc80))/0xa*(parseInt(_0x149f26(0xa72))/0xb);if(_0x2104f3===_0x11e374)break;else _0x508f3a['push'](_0x508f3a['shift']());}catch(_0x2ddb4a){_0x508f3a['push'](_0x508f3a['shift']());}}}(a0_0x23da,0xb7ddd),!function(_0x28c14c,_0x349e13){const _0x5c57ad=a0_0x5d01;if('object'==typeof exports&&_0x5c57ad(0xc34)==typeof module)module[_0x5c57ad(0x6e0)]=_0x349e13();else{if(_0x5c57ad(0x4f8)==typeof define&&define['amd'])define([],_0x349e13);else{var _0x185cd7=_0x349e13();for(var _0x1bbd37 in _0x185cd7)(_0x5c57ad(0xc34)==typeof exports?exports:_0x28c14c)[_0x1bbd37]=_0x185cd7[_0x1bbd37];}}}(this,()=>((()=>{'use strict';const _0x227435=a0_0x5d01;var _0x3c0863={0x14d:(_0xa35e04,_0x1998f9,_0x3c24ec)=>{const _0x83e24e=a0_0x5d01;_0x3c24ec['d'](_0x1998f9,{'O':()=>_0x2ec36b});const _0x2ec36b={'version':_0x83e24e(0x4f2),'isProduction':!0x1,'firebaseConfig':{'apiKey':_0x83e24e(0xb80),'authDomain':'crewdle-sdk-stg.firebaseapp.com','databaseURL':_0x83e24e(0x5b7),'projectId':_0x83e24e(0xbe1),'storageBucket':_0x83e24e(0xa67),'appId':_0x83e24e(0x6da),'functionsRegion':_0x83e24e(0x744)},'apiUrl':_0x83e24e(0x891),'mcpUrl':_0x83e24e(0xc5e),'emailDomain':_0x83e24e(0x4b6),'google':{'searchEngineId':_0x83e24e(0xbe7)},'aws':{'endpoint':_0x83e24e(0x5a1),'region':_0x83e24e(0x5d9)}};},0x33b:(_0x1d2380,_0x2398f7,_0x20f6a2)=>{_0x20f6a2['d'](_0x2398f7,{'O':()=>_0x54e418});const _0x54e418={};},0x3e6:(_0x3c3282,_0x47259b,_0x20d3fb)=>{const _0x5ce612=a0_0x5d01;_0x20d3fb['d'](_0x47259b,{'O':()=>_0x534e02});const _0x534e02={'version':_0x5ce612(0x774),'isProduction':!0x0,'firebaseConfig':{'apiKey':_0x5ce612(0x4fb),'authDomain':'crewdle-sdk.firebaseapp.com','databaseURL':_0x5ce612(0x836),'projectId':'crewdle-sdk','storageBucket':_0x5ce612(0x3d2),'messagingSenderId':_0x5ce612(0x80d),'appId':_0x5ce612(0x2de),'measurementId':'G-F7W8KXRKQB'},'apiUrl':_0x5ce612(0xb59),'mcpUrl':_0x5ce612(0x1e8),'emailDomain':_0x5ce612(0x249),'aws':{'endpoint':_0x5ce612(0x764),'region':_0x5ce612(0x5d9)}};},0x20:(_0x5a9fb3,_0x3a121a,_0x3ee6fd)=>{_0x3ee6fd['d'](_0x3a121a,{'O':()=>_0x3d10f6});const _0x3d10f6={};}},_0x268012={};function _0x1cad7d(_0xdee1a1){const _0x188ffe=a0_0x5d01;var _0x53410d=_0x268012[_0xdee1a1];if(void 0x0!==_0x53410d)return _0x53410d[_0x188ffe(0x6e0)];var _0x10c401=_0x268012[_0xdee1a1]={'exports':{}};return _0x3c0863[_0xdee1a1](_0x10c401,_0x10c401[_0x188ffe(0x6e0)],_0x1cad7d),_0x10c401['exports'];}_0x1cad7d['d']=(_0x8c893d,_0x1e174)=>{const _0x2d27fe=a0_0x5d01;for(var _0x3bdad9 in _0x1e174)_0x1cad7d['o'](_0x1e174,_0x3bdad9)&&!_0x1cad7d['o'](_0x8c893d,_0x3bdad9)&&Object[_0x2d27fe(0x95e)](_0x8c893d,_0x3bdad9,{'enumerable':!0x0,'get':_0x1e174[_0x3bdad9]});},_0x1cad7d['g']=(function(){const _0x503655=a0_0x5d01;if(_0x503655(0xc34)==typeof globalThis)return globalThis;try{return this||new Function(_0x503655(0xa58))();}catch(_0x31b52e){if('object'==typeof window)return window;}}()),_0x1cad7d['o']=(_0x3da2d7,_0x128eb2)=>Object['prototype'][_0x227435(0x432)][_0x227435(0xb8f)](_0x3da2d7,_0x128eb2),_0x1cad7d['r']=_0x331bf0=>{const _0x5d0494=_0x227435;'undefined'!=typeof Symbol&&Symbol['toStringTag']&&Object[_0x5d0494(0x95e)](_0x331bf0,Symbol[_0x5d0494(0x9f8)],{'value':_0x5d0494(0xaf1)}),Object[_0x5d0494(0x95e)](_0x331bf0,_0x5d0494(0x6c8),{'value':!0x0});};var _0x398751,_0x26d5b9,_0xbbb80e,_0x1fc808={};_0x1cad7d['r'](_0x1fc808),_0x1cad7d['d'](_0x1fc808,{'KeyValueDatabase':()=>_0x38e726,'LayoutBuilder':()=>_0x63469b,'LoggingChannels':()=>_0xbbb80e,'QueryBuilder':()=>_0x3e3930,'SDK':()=>_0x5af2cd,'SDKClientErrorCodes':()=>_0x398751,'TableBuilder':()=>_0x207d5f,'logger':()=>_0x1822ee}),function(_0x226666){const _0x3a1580=_0x227435;_0x226666[_0x3a1580(0x81b)]='api-key-missing',_0x226666[_0x3a1580(0x8fd)]=_0x3a1580(0xb0c),_0x226666['ClusterAlreadyJoined']=_0x3a1580(0x931),_0x226666[_0x3a1580(0x5ae)]='external-storage-connection-already-exists',_0x226666[_0x3a1580(0x664)]=_0x3a1580(0xa45),_0x226666[_0x3a1580(0x72b)]=_0x3a1580(0x710),_0x226666['ExternalStorageConnectorsMissing']='external-storage-connectors-missing',_0x226666[_0x3a1580(0xa13)]=_0x3a1580(0x5b1),_0x226666[_0x3a1580(0x65b)]='external-storage-name-not-string',_0x226666['FeatureNotEnabled']=_0x3a1580(0x805),_0x226666[_0x3a1580(0xc38)]=_0x3a1580(0xc32),_0x226666[_0x3a1580(0x70b)]=_0x3a1580(0xab5),_0x226666[_0x3a1580(0xa7b)]=_0x3a1580(0x93d),_0x226666[_0x3a1580(0xc05)]=_0x3a1580(0x1d7),_0x226666['GenerativeAILabelConflict']=_0x3a1580(0x969),_0x226666[_0x3a1580(0x2cf)]=_0x3a1580(0x914),_0x226666[_0x3a1580(0xc07)]=_0x3a1580(0xb6e),_0x226666[_0x3a1580(0x7fe)]='generative-ai-worker-model-sync-error',_0x226666[_0x3a1580(0x56f)]='graph-database-already-exists',_0x226666[_0x3a1580(0x216)]=_0x3a1580(0x2e9),_0x226666[_0x3a1580(0x63e)]='graph-database-missing-connector',_0x226666[_0x3a1580(0x58e)]=_0x3a1580(0x988),_0x226666['JobDispatcherAlreadyExists']=_0x3a1580(0x602),_0x226666[_0x3a1580(0x3a4)]=_0x3a1580(0x608),_0x226666[_0x3a1580(0x66f)]=_0x3a1580(0xc33),_0x226666[_0x3a1580(0x5d0)]=_0x3a1580(0x4f4),_0x226666[_0x3a1580(0x69f)]=_0x3a1580(0x738),_0x226666['JobWorkerAlreadyExists']='job-worker-already-exists',_0x226666[_0x3a1580(0x4ed)]=_0x3a1580(0x528),_0x226666['ObjectStoreAlreadyExists']=_0x3a1580(0x3d4),_0x226666['ObjectStoreAlreadySubscribed']=_0x3a1580(0xbe2),_0x226666[_0x3a1580(0x4d3)]=_0x3a1580(0x772),_0x226666[_0x3a1580(0x334)]=_0x3a1580(0x5fa),_0x226666[_0x3a1580(0x9bd)]=_0x3a1580(0x33d),_0x226666[_0x3a1580(0x730)]=_0x3a1580(0x74a),_0x226666[_0x3a1580(0x72d)]=_0x3a1580(0x967),_0x226666[_0x3a1580(0xb41)]='internal-sdk-error',_0x226666['InvalidAccess']='invalid-access',_0x226666[_0x3a1580(0xc7b)]=_0x3a1580(0xc76),_0x226666['KeyValueDatabaseDoesNotExist']=_0x3a1580(0x72a),_0x226666['KeyValueDatabaseIndexNotFound']='key-value-database-index-not-found',_0x226666[_0x3a1580(0xae2)]=_0x3a1580(0xb4f),_0x226666[_0x3a1580(0x1f4)]='key-value-database-invalid-value',_0x226666[_0x3a1580(0x716)]='key-value-database-name-not-string',_0x226666[_0x3a1580(0x7a7)]=_0x3a1580(0xb49),_0x226666[_0x3a1580(0xacb)]=_0x3a1580(0x501),_0x226666[_0x3a1580(0x24e)]=_0x3a1580(0x704),_0x226666[_0x3a1580(0xbed)]=_0x3a1580(0x9e4),_0x226666[_0x3a1580(0xa16)]=_0x3a1580(0x445),_0x226666[_0x3a1580(0x387)]=_0x3a1580(0x84f),_0x226666[_0x3a1580(0x58b)]=_0x3a1580(0x683),_0x226666[_0x3a1580(0x8bf)]=_0x3a1580(0xb04),_0x226666['PubSubTopicNameNotString']=_0x3a1580(0x38a),_0x226666[_0x3a1580(0x5ef)]=_0x3a1580(0x577),_0x226666['QueryBuilderInvalidArgument']='query-helper-invalid-argument',_0x226666['RemoteMediaStreamAlreadyExists']='remote-media-stream-already-exists',_0x226666[_0x3a1580(0x6d2)]='remote-media-stream-invalid-subscription-params',_0x226666[_0x3a1580(0xa86)]='subscription-request-in-progress',_0x226666['NodeNotAuthenticated']=_0x3a1580(0x3aa),_0x226666[_0x3a1580(0xbf6)]='node-invalid-type',_0x226666[_0x3a1580(0xa9c)]=_0x3a1580(0x8b9),_0x226666[_0x3a1580(0x9e0)]=_0x3a1580(0x9ee),_0x226666[_0x3a1580(0xb06)]=_0x3a1580(0x2b5),_0x226666[_0x3a1580(0xc54)]=_0x3a1580(0x818),_0x226666['VectorDatabaseMissingConnector']=_0x3a1580(0x78b),_0x226666['VectorDatabaseNameNotString']=_0x3a1580(0x48d);}(_0x398751||(_0x398751={}));class _0x27b95d extends Error{[_0x227435(0x3f0)];constructor(_0x3994cb,_0x3a5554){const _0x128b1f=_0x227435;super(_0x3a5554),this[_0x128b1f(0x3f0)]=_0x3994cb;}}!function(_0x4bce6){const _0x35d6be=_0x227435;_0x4bce6[_0x35d6be(0x8e7)]=_0x35d6be(0x760),_0x4bce6[_0x35d6be(0x956)]=_0x35d6be(0x751),_0x4bce6['KeyValueDatabase']=_0x35d6be(0x90d),_0x4bce6[_0x35d6be(0x561)]=_0x35d6be(0xbb6),_0x4bce6[_0x35d6be(0x1e3)]=_0x35d6be(0x8b7),_0x4bce6[_0x35d6be(0xa75)]=_0x35d6be(0x606),_0x4bce6[_0x35d6be(0x78a)]=_0x35d6be(0xbb5),_0x4bce6[_0x35d6be(0x296)]='generative-ai';}(_0x26d5b9||(_0x26d5b9={})),function(_0x30b9a7){const _0x5659fd=_0x227435;_0x30b9a7[_0x5659fd(0x52c)]='all',_0x30b9a7['Default']=_0x5659fd(0x98a),_0x30b9a7['Connection']='connection',_0x30b9a7['ConnectionState']=_0x5659fd(0x521),_0x30b9a7[_0x5659fd(0x882)]=_0x5659fd(0x384),_0x30b9a7['Content']=_0x5659fd(0xae3),_0x30b9a7[_0x5659fd(0x4b2)]=_0x5659fd(0x332),_0x30b9a7[_0x5659fd(0x8af)]='detection',_0x30b9a7[_0x5659fd(0xb3b)]='events',_0x30b9a7[_0x5659fd(0x68d)]=_0x5659fd(0xc13),_0x30b9a7[_0x5659fd(0x54e)]=_0x5659fd(0xa30),_0x30b9a7[_0x5659fd(0x1ff)]='key-value-database',_0x30b9a7[_0x5659fd(0x571)]='node',_0x30b9a7[_0x5659fd(0x449)]=_0x5659fd(0x2c2),_0x30b9a7[_0x5659fd(0x8e7)]=_0x5659fd(0x760),_0x30b9a7[_0x5659fd(0x5fc)]=_0x5659fd(0xc48),_0x30b9a7[_0x5659fd(0x8b0)]=_0x5659fd(0x84a),_0x30b9a7[_0x5659fd(0xaed)]=_0x5659fd(0xc4f),_0x30b9a7[_0x5659fd(0x6db)]=_0x5659fd(0x1dc),_0x30b9a7['Stats']='stats',_0x30b9a7['Subscription']=_0x5659fd(0x583),_0x30b9a7[_0x5659fd(0x7ea)]=_0x5659fd(0x7c8),_0x30b9a7[_0x5659fd(0x82a)]=_0x5659fd(0x41b),_0x30b9a7[_0x5659fd(0x33a)]=_0x5659fd(0x945),_0x30b9a7[_0x5659fd(0x61e)]=_0x5659fd(0xc28),_0x30b9a7['PeerConnection']=_0x5659fd(0x8d6);}(_0xbbb80e||(_0xbbb80e={}));const _0x2bba8e=require('@crewdle/web-sdk-types');class _0x3e3930{[_0x227435(0x97f)];constructor(_0xbea8fd){const _0x3eb7cd=_0x227435;this[_0x3eb7cd(0x97f)]={'orderBy':{'key':_0xbea8fd,'direction':'asc'}};}static['index'](_0x423296){const _0x146853=_0x227435;if('string'!=typeof _0x423296||0x0===_0x423296['length'])throw new _0x27b95d(_0x398751[_0x146853(0x2ea)],'Invalid\x20index\x20key:\x20must\x20be\x20a\x20string');return new _0x3e3930(_0x423296);}static['validateQuery'](_0x87064){try{return _0x3e3930['buildQuery'](_0x87064),!0x0;}catch(_0x426cfd){return!0x1;}}static[_0x227435(0x3a7)](_0x2f8e8e){const _0x4710b1=_0x227435,_0x42e0c1=_0x3e3930[_0x4710b1(0x899)](_0x2f8e8e['orderBy']?.[_0x4710b1(0x621)]??_0x2f8e8e[_0x4710b1(0x7bc)]?.[_0x4710b1(0x621)]??'');if(_0x2f8e8e[_0x4710b1(0x7bc)]){const _0xe45c57=_0x2f8e8e['where'];if((_0x3e3930['isWhereValue'](_0xe45c57)||_0x3e3930[_0x4710b1(0x86e)](_0xe45c57)||_0x3e3930[_0x4710b1(0x929)](_0xe45c57))&&_0x42e0c1[_0x4710b1(0x7bc)](_0xe45c57['operator'],_0xe45c57[_0x4710b1(0x737)]),_0x2f8e8e[_0x4710b1(0x39b)]?.[_0x4710b1(0x621)]&&_0x2f8e8e['orderBy']?.['key']!==_0x2f8e8e[_0x4710b1(0x7bc)]['key'])throw new _0x27b95d(_0x398751[_0x4710b1(0x2ea)],_0x4710b1(0x982));}return _0x2f8e8e['orderBy']&&_0x42e0c1['orderBy'](_0x2f8e8e[_0x4710b1(0x39b)][_0x4710b1(0x26c)]),_0x2f8e8e[_0x4710b1(0xb27)]&&_0x42e0c1['limit'](_0x2f8e8e[_0x4710b1(0xb27)]),_0x2f8e8e[_0x4710b1(0x45e)]&&_0x42e0c1[_0x4710b1(0x45e)](_0x2f8e8e[_0x4710b1(0x45e)]),_0x42e0c1;}['getQuery'](){const _0x53ac7d=_0x227435;return{...this[_0x53ac7d(0x97f)]};}['where'](_0x28dbf6,_0x1f24e4){const _0x5504e8=_0x227435,_0x5d282c={'key':this[_0x5504e8(0x97f)][_0x5504e8(0x39b)][_0x5504e8(0x621)],'operator':_0x28dbf6,'value':_0x1f24e4};if(!_0x3e3930[_0x5504e8(0x6a3)](_0x5d282c)&&!_0x3e3930[_0x5504e8(0x86e)](_0x5d282c)&&!_0x3e3930[_0x5504e8(0x929)](_0x5d282c))throw new _0x27b95d(_0x398751['QueryBuilderInvalidArgument'],_0x5504e8(0x9b7));return this[_0x5504e8(0x97f)]['where']=_0x5d282c,this;}['orderBy'](_0x2aba06){const _0x4528a8=_0x227435;if(_0x4528a8(0x8e5)!==_0x2aba06&&_0x4528a8(0x317)!==_0x2aba06)throw new _0x27b95d(_0x398751[_0x4528a8(0x2ea)],_0x4528a8(0x9aa));return this[_0x4528a8(0x97f)][_0x4528a8(0x39b)][_0x4528a8(0x26c)]=_0x2aba06,this;}[_0x227435(0xb27)](_0x1eaee7){const _0x46869a=_0x227435;if(_0x46869a(0x878)!=typeof _0x1eaee7||_0x1eaee7<0x0)throw new _0x27b95d(_0x398751[_0x46869a(0x2ea)],'Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number');return this[_0x46869a(0x97f)]['limit']=_0x1eaee7,this;}[_0x227435(0x45e)](_0x4854a5){const _0x23819f=_0x227435;if(_0x23819f(0x878)!=typeof _0x4854a5||_0x4854a5<0x0)throw new _0x27b95d(_0x398751[_0x23819f(0x2ea)],_0x23819f(0x240));return this[_0x23819f(0x97f)][_0x23819f(0x45e)]=_0x4854a5,this;}static[_0x227435(0x6a3)](_0x3e94b9){const _0x1fb4d4=_0x227435;if(!(_0x3e94b9&&_0x1fb4d4(0xc34)==typeof _0x3e94b9&&_0x1fb4d4(0x481)in _0x3e94b9&&'value'in _0x3e94b9))return!0x1;const {operator:_0x1f9196,value:_0x58f07d}=_0x3e94b9;return!(!['==','!=','>','<','<=','>=']['includes'](_0x1f9196)||Array[_0x1fb4d4(0x51b)](_0x58f07d));}static[_0x227435(0x86e)](_0x2b6ecd){const _0x2ecfb5=_0x227435;if(!(_0x2b6ecd&&_0x2ecfb5(0xc34)==typeof _0x2b6ecd&&_0x2ecfb5(0x481)in _0x2b6ecd&&_0x2ecfb5(0x737)in _0x2b6ecd))return!0x1;const {operator:_0x22d6b7,value:_0x10fd92}=_0x2b6ecd;return!(!['in',_0x2ecfb5(0x33f)]['includes'](_0x22d6b7)||!Array['isArray'](_0x10fd92));}static[_0x227435(0x929)](_0x529549){const _0x1ff656=_0x227435;if(!(_0x529549&&_0x1ff656(0xc34)==typeof _0x529549&&_0x1ff656(0x481)in _0x529549&&_0x1ff656(0x737)in _0x529549))return!0x1;const {operator:_0xac3144,value:_0x522fca}=_0x529549;return!(_0x1ff656(0x522)!==_0xac3144||!Array[_0x1ff656(0x51b)](_0x522fca)||0x2!==_0x522fca[_0x1ff656(0xbfb)]);}}class _0x63469b{[_0x227435(0xbbf)];constructor(_0xbfeb2a){const _0x5cf077=_0x227435;this[_0x5cf077(0xbbf)]={'tables':{},'version':_0xbfeb2a};}static[_0x227435(0x888)](_0x58993a){const _0x43cff1=_0x227435;for(const _0x467d08 in _0x58993a){if(_0x43cff1(0x45c)!==_0x467d08&&_0x43cff1(0x235)!==_0x467d08)return[!0x1,_0x43cff1(0x38e)+_0x467d08+'\x27\x20in\x20layout'];if(_0x43cff1(0x235)===_0x467d08)for(const _0x408f3a in _0x58993a['tables']){if(_0x43cff1(0x984)!=typeof _0x408f3a)return[!0x1,'Invalid\x20table\x20name\x20\x27'+_0x408f3a+'\x27'];for(const _0x122093 in _0x58993a[_0x43cff1(0x235)][_0x408f3a]){if(_0x43cff1(0x323)!==_0x122093)return[!0x1,'Invalid\x20key\x20\x27'+_0x122093+_0x43cff1(0x8f2)+_0x408f3a+'\x27'];const _0x36a0d0=_0x58993a['tables'][_0x408f3a][_0x122093]??[];for(const _0xf9eff3 of _0x36a0d0)if(void 0x0===_0xf9eff3['keyPath']||'string'!=typeof _0xf9eff3[_0x43cff1(0x682)])return[!0x1,_0x43cff1(0x821)+_0x408f3a+'\x27:\x20missing\x20or\x20invalid\x20keyPath'];}}else{if(_0x43cff1(0x45c)===_0x467d08&&_0x43cff1(0x878)!=typeof _0x58993a[_0x467d08])return[!0x1,'Invalid\x20version\x20\x27'+_0x58993a[_0x467d08]+'\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number'];}}return[!0x0,_0x43cff1(0xa60)];}static['layout'](_0x579509){const _0x24cd15=_0x227435,_0x4dc930=new _0x63469b(_0x579509);return _0x4dc930['layout'][_0x24cd15(0x45c)]=_0x579509,_0x4dc930;}['table'](_0x4841f2){const _0x5a31d6=_0x227435;return this[_0x5a31d6(0xbbf)]['tables'][_0x4841f2]={},new _0x207d5f(this[_0x5a31d6(0xbbf)][_0x5a31d6(0x235)][_0x4841f2]);}[_0x227435(0x4db)](){const _0x20a97e=_0x227435;return this[_0x20a97e(0xbbf)];}}class _0x207d5f{['tableLayout'];constructor(_0x203bf3){this['tableLayout']=_0x203bf3;}[_0x227435(0x899)](_0x4123ea){const _0x580080=_0x227435;return this[_0x580080(0xa7c)][_0x580080(0x323)]=this[_0x580080(0xa7c)][_0x580080(0x323)]??[],this[_0x580080(0xa7c)]['indexes'][_0x580080(0x91f)]({'keyPath':_0x4123ea}),this;}}const _0x1c199d=0x40000,_0x461098=0x20000,_0x384e78=0x1388,_0x20305d='.crewdle-last-transaction',_0x583f3f=_0x227435(0x79a),_0x279fe4=_0x227435(0x7b8),_0x28b25c=_0x227435(0x65c),_0x7623e0=0xdbba0,_0x222b1e=0x249f0,_0x48df1c=_0x227435(0x49a);var _0x6e8163;!function(_0x110471){const _0x48f033=_0x227435;_0x110471['ConnectionNotinitialized']='connection-not-initialized',_0x110471[_0x48f033(0x490)]=_0x48f033(0x4bd),_0x110471[_0x48f033(0x310)]=_0x48f033(0x20a),_0x110471[_0x48f033(0x8c0)]=_0x48f033(0x776),_0x110471[_0x48f033(0x200)]='data-collection-does-not-exist',_0x110471[_0x48f033(0x366)]='generative-ai-context-creation-failed',_0x110471[_0x48f033(0x57a)]=_0x48f033(0xc58),_0x110471['GenerativeAIContextJobAlreadyConsumed']=_0x48f033(0x952),_0x110471['GenerativeAIContextJobFailed']=_0x48f033(0x8d9),_0x110471[_0x48f033(0xa70)]='generative-ai-context-job-timeout',_0x110471[_0x48f033(0x7bb)]=_0x48f033(0x801),_0x110471[_0x48f033(0x81f)]=_0x48f033(0x464),_0x110471['InvalidDataChannel']='invalid-data-chanel',_0x110471[_0x48f033(0x25d)]=_0x48f033(0x570),_0x110471[_0x48f033(0x4e9)]='invalid-subscriber',_0x110471[_0x48f033(0x8be)]=_0x48f033(0xbdc),_0x110471[_0x48f033(0x272)]=_0x48f033(0x7a3),_0x110471[_0x48f033(0x3d9)]=_0x48f033(0x8ed),_0x110471[_0x48f033(0x5d0)]=_0x48f033(0x4f4),_0x110471[_0x48f033(0x726)]=_0x48f033(0xc86),_0x110471[_0x48f033(0x677)]=_0x48f033(0x7f6),_0x110471['JobWorkerInvalidType']='job-worker-invalid-type',_0x110471[_0x48f033(0xaf7)]=_0x48f033(0x906),_0x110471[_0x48f033(0x9ea)]='key-value-database-peak-not-found',_0x110471[_0x48f033(0x34f)]='key-value-database-table-does-not-exist',_0x110471[_0x48f033(0x939)]='key-value-database-transaction-table-not-initialized',_0x110471[_0x48f033(0x9a4)]=_0x48f033(0x41e),_0x110471[_0x48f033(0x8d3)]=_0x48f033(0x3d6),_0x110471[_0x48f033(0x635)]=_0x48f033(0x382),_0x110471[_0x48f033(0x24f)]=_0x48f033(0x23f),_0x110471['MistletCapacityReportNotSet']=_0x48f033(0x6e7),_0x110471[_0x48f033(0x213)]=_0x48f033(0x55a),_0x110471[_0x48f033(0x7d0)]=_0x48f033(0x549),_0x110471[_0x48f033(0xc3e)]=_0x48f033(0x89d),_0x110471[_0x48f033(0x670)]=_0x48f033(0x2cd),_0x110471[_0x48f033(0x559)]=_0x48f033(0x6bb),_0x110471[_0x48f033(0x87f)]='remote-stream-does-not-exist',_0x110471[_0x48f033(0x6f0)]='remote-stream-missing-provider-id',_0x110471[_0x48f033(0x55f)]=_0x48f033(0x6f7),_0x110471[_0x48f033(0x397)]='subscription-request-does-not-exist',_0x110471[_0x48f033(0xaca)]=_0x48f033(0x7aa),_0x110471[_0x48f033(0x224)]=_0x48f033(0x461),_0x110471['NodeDoesNotExist']=_0x48f033(0xb90),_0x110471[_0x48f033(0xb50)]=_0x48f033(0x619),_0x110471[_0x48f033(0x79b)]=_0x48f033(0x834),_0x110471[_0x48f033(0x5f9)]=_0x48f033(0xac1),_0x110471[_0x48f033(0x329)]='workflow-does-not-exist',_0x110471[_0x48f033(0x3ca)]=_0x48f033(0x747);}(_0x6e8163||(_0x6e8163={}));const _0x43588d=new Map([[_0x6e8163['ConnectionNotinitialized'],_0x227435(0x68e)],[_0x6e8163[_0x227435(0x490)],_0x227435(0x27a)],[_0x6e8163[_0x227435(0x310)],'Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.'],[_0x6e8163[_0x227435(0x8c0)],_0x227435(0x2d9)],[_0x6e8163[_0x227435(0x200)],'Data\x20collection\x20does\x20not\x20exist.'],[_0x6e8163[_0x227435(0x366)],_0x227435(0x4b1)],[_0x6e8163[_0x227435(0x57a)],'Generative\x20AI\x20context\x20invalid\x20partial\x20result.'],[_0x6e8163['GenerativeAIContextJobAlreadyConsumed'],_0x227435(0x611)],[_0x6e8163['GenerativeAIContextJobFailed'],'Generative\x20AI\x20context\x20job\x20failed.'],[_0x6e8163['GenerativeAIContextJobTimeout'],_0x227435(0xb7b)],[_0x6e8163[_0x227435(0x7bb)],_0x227435(0x250)],[_0x6e8163['GraphDatabaseCreationFailed'],'Graph\x20database\x20creation\x20failed.'],[_0x6e8163['InvalidDataChannel'],_0x227435(0x93f)],[_0x6e8163[_0x227435(0x25d)],'Invalid\x20publisher.'],[_0x6e8163[_0x227435(0x4e9)],'Invalid\x20subscriber.'],[_0x6e8163[_0x227435(0x8be)],_0x227435(0xab0)],[_0x6e8163[_0x227435(0x272)],_0x227435(0x8a8)],[_0x6e8163[_0x227435(0x3d9)],'Invalid\x20job\x20service\x20payload.'],[_0x6e8163[_0x227435(0x5d0)],_0x227435(0xaaf)],[_0x6e8163[_0x227435(0x726)],_0x227435(0xb5f)],[_0x6e8163['JobWorkerCreationFailed'],_0x227435(0x83e)],[_0x6e8163['JobWorkerInvalidType'],_0x227435(0x537)],[_0x6e8163[_0x227435(0xaf7)],_0x227435(0x9cb)],[_0x6e8163['KeyValueDatabasePeakNotFound'],_0x227435(0x806)],[_0x6e8163[_0x227435(0x34f)],_0x227435(0x734)],[_0x6e8163['KeyValueDatabaseTransactionTableNotInitialized'],_0x227435(0x673)],[_0x6e8163[_0x227435(0x9a4)],_0x227435(0x9b1)],[_0x6e8163[_0x227435(0x8d3)],_0x227435(0x347)],[_0x6e8163['MissingRemoteConnection'],_0x227435(0x5c8)],[_0x6e8163['MissingSystemTopic'],_0x227435(0x3f1)],[_0x6e8163[_0x227435(0xb3f)],_0x227435(0x92e)],[_0x6e8163[_0x227435(0x213)],_0x227435(0x35e)],[_0x6e8163[_0x227435(0xc3e)],_0x227435(0x244)],[_0x6e8163['ObjectStoreInvalidState'],'Invalid\x20object\x20store\x20state.'],[_0x6e8163[_0x227435(0x670)],'Object\x20store\x20not\x20synced.'],[_0x6e8163[_0x227435(0x559)],_0x227435(0xb34)],[_0x6e8163[_0x227435(0x87f)],'Remote\x20stream\x20does\x20not\x20exist.'],[_0x6e8163[_0x227435(0x6f0)],_0x227435(0xab1)],[_0x6e8163['RemoteConnectionExists'],_0x227435(0x820)],[_0x6e8163[_0x227435(0x397)],'Subscription\x20request\x20does\x20not\x20exist.'],[_0x6e8163[_0x227435(0xaca)],_0x227435(0x1d9)],[_0x6e8163[_0x227435(0x224)],'Subscription\x20request\x20has\x20not\x20been\x20answered.'],[_0x6e8163[_0x227435(0xa59)],_0x227435(0x45a)],[_0x6e8163[_0x227435(0xb50)],_0x227435(0x7e7)],[_0x6e8163[_0x227435(0x79b)],_0x227435(0x7e1)],[_0x6e8163['VectorDatabaseCreationFailed'],_0x227435(0xc45)],[_0x6e8163[_0x227435(0x329)],'Workflow\x20does\x20not\x20exist.'],[_0x6e8163['WorkflowInvalidBlockType'],_0x227435(0xbc5)]]);class _0x82cd08 extends Error{[_0x227435(0x3f0)];static [_0x227435(0xab8)]=_0x6e8163;[_0x227435(0x205)];constructor(_0x290a82,_0x1a440a){const _0x450697=_0x227435;super('Internal\x20SDK\x20Error:\x20'+_0x290a82+':\x20'+_0x43588d[_0x450697(0x441)](_0x290a82)+_0x450697(0x794)+JSON[_0x450697(0x5dd)](_0x1a440a)),this['code']=_0x290a82,this[_0x450697(0x205)]=_0x1a440a||{};}}var _0x593bd0,_0x23bac4,_0x487a85,_0x11433a,_0x46aa89,_0x5d39a9,_0x37ab1a;!function(_0x62d182){const _0x3864ea=_0x227435;_0x62d182[_0x62d182[_0x3864ea(0x245)]=0x0]=_0x3864ea(0x245),_0x62d182[_0x62d182[_0x3864ea(0x4ba)]=0x1]=_0x3864ea(0x4ba),_0x62d182[_0x62d182[_0x3864ea(0x2c7)]=0x2]=_0x3864ea(0x2c7),_0x62d182[_0x62d182['CloseExternalStorageConnection']=0x3]='CloseExternalStorageConnection',_0x62d182[_0x62d182['CloseKeyValueDatabase']=0x4]=_0x3864ea(0xc03),_0x62d182[_0x62d182[_0x3864ea(0x8c2)]=0x5]=_0x3864ea(0x8c2),_0x62d182[_0x62d182[_0x3864ea(0xc0f)]=0x6]=_0x3864ea(0xc0f),_0x62d182[_0x62d182['ClosePubSubTopic']=0x7]=_0x3864ea(0x5ab),_0x62d182[_0x62d182[_0x3864ea(0xc3b)]=0x8]=_0x3864ea(0xc3b),_0x62d182[_0x62d182[_0x3864ea(0x5bc)]=0x9]='CloseGenerativeAIContext',_0x62d182[_0x62d182['ExternalStorageStats']=0xa]=_0x3864ea(0x471),_0x62d182[_0x62d182[_0x3864ea(0xa5e)]=0xb]=_0x3864ea(0xa5e),_0x62d182[_0x62d182['GenerativeAIWorkerStats']=0xc]='GenerativeAIWorkerStats',_0x62d182[_0x62d182[_0x3864ea(0x2a7)]=0xd]=_0x3864ea(0x2a7),_0x62d182[_0x62d182[_0x3864ea(0x754)]=0xe]=_0x3864ea(0x754),_0x62d182[_0x62d182[_0x3864ea(0x558)]=0xf]=_0x3864ea(0x558),_0x62d182[_0x62d182[_0x3864ea(0x3a9)]=0x10]=_0x3864ea(0x3a9),_0x62d182[_0x62d182['KeyValueDatabaseRequestTransactionsValue']=0x11]=_0x3864ea(0xbe6),_0x62d182[_0x62d182[_0x3864ea(0xae0)]=0x12]='KeyValueDatabaseSendTransactions',_0x62d182[_0x62d182[_0x3864ea(0x4f5)]=0x13]=_0x3864ea(0x4f5),_0x62d182[_0x62d182[_0x3864ea(0xa39)]=0x14]=_0x3864ea(0xa39),_0x62d182[_0x62d182[_0x3864ea(0x8aa)]=0x15]=_0x3864ea(0x8aa),_0x62d182[_0x62d182['ObjectStoreStats']=0x16]=_0x3864ea(0x34a),_0x62d182[_0x62d182['PubSubTopicStats']=0x17]='PubSubTopicStats',_0x62d182[_0x62d182[_0x3864ea(0x2d7)]=0x18]=_0x3864ea(0x2d7),_0x62d182[_0x62d182[_0x3864ea(0x25a)]=0x19]=_0x3864ea(0x25a),_0x62d182[_0x62d182[_0x3864ea(0x482)]=0x1a]='SubscribeMediaStream',_0x62d182[_0x62d182['UnpublishMediaStream']=0x1b]=_0x3864ea(0x674),_0x62d182[_0x62d182[_0x3864ea(0xc79)]=0x1c]='UnsubscribeMediaStream',_0x62d182[_0x62d182[_0x3864ea(0x2cb)]=0x1d]=_0x3864ea(0x2cb),_0x62d182[_0x62d182[_0x3864ea(0x947)]=0x1e]='VectorDatabaseStats';}(_0x593bd0||(_0x593bd0={})),function(_0x4005b9){const _0x116bcc=_0x227435;_0x4005b9[_0x116bcc(0x37a)]=_0x116bcc(0x725),_0x4005b9['FolderCreate']=_0x116bcc(0x7a5),_0x4005b9[_0x116bcc(0x770)]='delete',_0x4005b9[_0x116bcc(0x564)]=_0x116bcc(0x253),_0x4005b9[_0x116bcc(0xa1a)]=_0x116bcc(0x286),_0x4005b9[_0x116bcc(0x2ad)]='request-accepted',_0x4005b9[_0x116bcc(0xb32)]='request-file-sync',_0x4005b9[_0x116bcc(0xc25)]=_0x116bcc(0x925);}(_0x23bac4||(_0x23bac4={})),function(_0x474df0){const _0x3d8cba=_0x227435;_0x474df0[_0x3d8cba(0x410)]=_0x3d8cba(0x74b),_0x474df0[_0x3d8cba(0xbbb)]='transaction';}(_0x487a85||(_0x487a85={})),function(_0x29f79c){const _0x4cb893=_0x227435;_0x29f79c[_0x4cb893(0xa97)]=_0x4cb893(0x9b9),_0x29f79c[_0x4cb893(0x34c)]='update',_0x29f79c[_0x4cb893(0x770)]='delete';}(_0x11433a||(_0x11433a={})),function(_0x570982){const _0x1d0f72=_0x227435;_0x570982[_0x1d0f72(0x31d)]='get',_0x570982[_0x1d0f72(0x731)]=_0x1d0f72(0x5cb),_0x570982[_0x1d0f72(0x509)]='count';}(_0x46aa89||(_0x46aa89={})),function(_0x2d497a){const _0x2a1afe=_0x227435;_0x2d497a[_0x2d497a[_0x2a1afe(0x410)]=0x0]='Request',_0x2d497a[_0x2d497a[_0x2a1afe(0x94a)]=0x1]=_0x2a1afe(0x94a),_0x2d497a[_0x2d497a[_0x2a1afe(0xa3d)]=0x2]=_0x2a1afe(0xa3d),_0x2d497a[_0x2d497a['PartialResult']=0x3]=_0x2a1afe(0x5df),_0x2d497a[_0x2d497a[_0x2a1afe(0xc7c)]=0x4]=_0x2a1afe(0xc7c),_0x2d497a[_0x2d497a[_0x2a1afe(0x4da)]=0x5]=_0x2a1afe(0x4da);}(_0x5d39a9||(_0x5d39a9={})),function(_0x34c1ee){const _0x20a479=_0x227435;_0x34c1ee[_0x34c1ee[_0x20a479(0xa5b)]=0x0]=_0x20a479(0xa5b),_0x34c1ee[_0x34c1ee[_0x20a479(0x571)]=0x1]=_0x20a479(0x571),_0x34c1ee[_0x34c1ee[_0x20a479(0x42c)]=0x2]=_0x20a479(0x42c),_0x34c1ee[_0x34c1ee['Subscription']=0x3]=_0x20a479(0x30b),_0x34c1ee[_0x34c1ee['Stats']=0x4]=_0x20a479(0xabd),_0x34c1ee[_0x34c1ee['Detection']=0x5]=_0x20a479(0x8af),_0x34c1ee[_0x34c1ee[_0x20a479(0x8b0)]=0x6]=_0x20a479(0x8b0);}(_0x37ab1a||(_0x37ab1a={}));class _0x3b1ae5{[_0x227435(0x4be)];[_0x227435(0x40a)];['systemTopic'];constructor(_0x3c9f53,_0x4e23ee){const _0x126833=_0x227435;this[_0x126833(0x4be)]=_0x3c9f53,this['label']=_0x4e23ee;}[_0x227435(0x9a2)](){return this['label'];}['getOwnerId'](){const _0x3f1f19=_0x227435;return this['owner'][_0x3f1f19(0xc22)]();}[_0x227435(0xa3c)](){}[_0x227435(0xc6d)](_0x141515){const _0x5e2cdd=_0x227435;this[_0x5e2cdd(0x45d)]=_0x141515;}[_0x227435(0x71a)](){const _0x54eef9=_0x227435;delete this[_0x54eef9(0x45d)];}}const _0x4e090a=require('firebase/firestore');let _0x3885e5=_0x1cad7d(0x14d)['O'];function _0x25af24(_0x411216){const _0x56f9e7=_0x227435;return!(!_0x411216||_0x56f9e7(0xc34)!=typeof _0x411216||Array[_0x56f9e7(0x51b)](_0x411216));}_0x3885e5=function _0x1ac08c(_0x378512,..._0x518d85){const _0x36a3fc=_0x227435;if(!Array['isArray'](_0x518d85)||0x0===_0x518d85[_0x36a3fc(0xbfb)])return _0x378512;const _0x1ed779=_0x518d85[_0x36a3fc(0x4f7)]();if(_0x25af24(_0x378512)&&_0x25af24(_0x1ed779)){for(const _0x114897 in _0x1ed779)_0x25af24(_0x1ed779[_0x114897])?(_0x378512[_0x114897]||Object[_0x36a3fc(0x391)](_0x378512,{[_0x114897]:{}}),_0x1ac08c(_0x378512[_0x114897],_0x1ed779[_0x114897])):Object[_0x36a3fc(0x391)](_0x378512,{[_0x114897]:_0x1ed779[_0x114897]});}return _0x1ac08c(_0x378512,..._0x518d85);}(_0x3885e5,_0x1cad7d(0x3e6)['O']);const _0x2b8337=_0x3885e5,_0x4ff223=require('firebase/app'),_0x2e7c2d=require('firebase/auth'),_0x58c2bf=require('firebase/database'),_0x4328ab=require('firebase/functions'),_0x4821d1=require('uuid'),_0x41627b=_0x227435(0xb13);class _0x5cee1c{static [_0x227435(0x447)];[_0x227435(0x47c)];[_0x227435(0x6ea)];['functions'];[_0x227435(0x6e5)];[_0x227435(0xaf5)];[_0x227435(0x494)];['lastClockUpdate'];constructor(){this['getApp']();}static['getInstance'](){const _0xdee47a=_0x227435;return _0x5cee1c['instance']||(_0x5cee1c[_0xdee47a(0x447)]=new _0x5cee1c()),_0x5cee1c[_0xdee47a(0x447)];}[_0x227435(0x3eb)](){const _0x1de13c=_0x227435;if(!this[_0x1de13c(0x47c)]){let _0x47578f=_0x41627b;'undefined'!=typeof window&&(_0x47578f=_0x41627b+'-'+(0x0,_0x4821d1['v4'])()),this[_0x1de13c(0x47c)]=(0x0,_0x4ff223[_0x1de13c(0xb38)])(_0x2b8337[_0x1de13c(0x345)],''+_0x47578f);}return this[_0x1de13c(0x47c)];}['getAuth'](){const _0xca6a0c=_0x227435;return this['auth']||(this['auth']=(0x0,_0x2e7c2d['getAuth'])(this[_0xca6a0c(0x3eb)]())),this['auth'];}['getFunctions'](){const _0x27a809=_0x227435;return this[_0x27a809(0x696)]||(this[_0x27a809(0x696)]=(0x0,_0x4328ab[_0x27a809(0xb61)])(this[_0x27a809(0x3eb)](),_0x2b8337['firebaseConfig']['functionsRegion'])),this[_0x27a809(0x696)];}['getDatabase'](){const _0x3ecf9a=_0x227435;return this['database']||(this[_0x3ecf9a(0x6e5)]=(0x0,_0x58c2bf[_0x3ecf9a(0xa2f)])(this['getApp']())),this[_0x3ecf9a(0x6e5)];}[_0x227435(0xc63)](){const _0x251894=_0x227435;return this[_0x251894(0xaf5)]||(this[_0x251894(0xaf5)]=(0x0,_0x4e090a[_0x251894(0xc63)])(this[_0x251894(0x3eb)]())),this[_0x251894(0xaf5)];}async['getEstimatedTimestamp'](){const _0x3a7035=_0x227435;if(this[_0x3a7035(0x494)]&&this[_0x3a7035(0xbd3)]&&Date[_0x3a7035(0xb26)]()-this[_0x3a7035(0xbd3)]<0x493e0)return Date[_0x3a7035(0xb26)]()+this['clockSkew'];const _0x5406c0=this[_0x3a7035(0xa2f)](),_0x92aac0=(0x0,_0x58c2bf[_0x3a7035(0xafb)])(_0x5406c0,'.info/serverTimeOffset');return new Promise(_0x147e11=>{(0x0,_0x58c2bf['onValue'])(_0x92aac0,_0x3f04cd=>{const _0x2319ff=a0_0x5d01;(0x0,_0x58c2bf[_0x2319ff(0x85b)])(_0x92aac0),this['clockSkew']=_0x3f04cd[_0x2319ff(0x4ff)](),this[_0x2319ff(0xbd3)]=Date['now'](),_0x147e11(Date['now']()+(this[_0x2319ff(0x494)]??0x0));});});}}const _0x35b99b=_0x5cee1c[_0x227435(0x3e5)]();class _0xe119cd{static [_0x227435(0x447)];[_0x227435(0x40f)]=[_0xbbb80e[_0x227435(0x749)]];[_0x227435(0x3d7)]=!0x1;[_0x227435(0x3b3)];['vendorId']='';[_0x227435(0x3b7)];[_0x227435(0x5da)]=[];[_0x227435(0xb82)];[_0x227435(0xb1b)];[_0x227435(0x972)]=0xa;['retryDelay']=0x1f4;['batchSize']=0x1c2;[_0x227435(0x2e1)]=0x3e8;constructor(){const _0x2437f1=_0x227435;if(_0x2437f1(0x832)!=typeof window)this[_0x2437f1(0x3b7)]=window;else{if(void 0x0===_0x1cad7d['g'])throw new Error(_0x2437f1(0x3a1));this['globalObject']=_0x1cad7d['g'];}this[_0x2437f1(0x640)](),this['globalObject'][_0x2437f1(0x8d5)]=_0x41c105=>{const _0x3a4ada=_0x2437f1;if(_0x41c105===_0xbbb80e[_0x3a4ada(0x52c)])return this['enabledChannels']=Object['keys'](_0xbbb80e)[_0x3a4ada(0x7b9)](_0x4f8cd3=>_0xbbb80e[_0x4f8cd3]),void Object['keys'](_0xbbb80e)[_0x3a4ada(0x3e7)](_0xf619a7=>{const _0x33908a=_0x3a4ada,_0x68a275=_0xf619a7;localStorage[_0x33908a(0x2f9)](_0x33908a(0x594)+_0xbbb80e[_0x68a275],'true');});this[_0x3a4ada(0x40f)][_0x3a4ada(0x771)](_0x41c105)||(this[_0x3a4ada(0x40f)][_0x3a4ada(0x91f)](_0x41c105),localStorage[_0x3a4ada(0x2f9)](_0x3a4ada(0x594)+_0x41c105,_0x3a4ada(0x25e)));},this[_0x2437f1(0x3b7)]['crewdleSDKDisableLogging']=_0x5afd13=>{const _0x3b7eb9=_0x2437f1;if(!_0x5afd13||_0x5afd13===_0xbbb80e[_0x3b7eb9(0x52c)])return this[_0x3b7eb9(0x40f)]=[],void Object[_0x3b7eb9(0x8d8)](_0xbbb80e)[_0x3b7eb9(0x3e7)](_0x474c3c=>{const _0x33b9a1=_0x3b7eb9,_0x141a02=_0x474c3c;localStorage[_0x33b9a1(0x3cf)](_0x33b9a1(0x594)+_0xbbb80e[_0x141a02]);});this[_0x3b7eb9(0x40f)][_0x3b7eb9(0x771)](_0x5afd13)&&(this[_0x3b7eb9(0x40f)]=this[_0x3b7eb9(0x40f)][_0x3b7eb9(0x276)](_0x4df5c6=>_0x4df5c6!==_0x5afd13),localStorage[_0x3b7eb9(0x3cf)](_0x3b7eb9(0x594)+_0x5afd13));},this[_0x2437f1(0x3b7)][_0x2437f1(0x2ca)]=_0xbbb80e;}static[_0x227435(0x3e5)](){const _0x249b7b=_0x227435;try{return _0xe119cd['instance']||(_0xe119cd[_0x249b7b(0x447)]=new _0xe119cd()),_0xe119cd['instance'];}catch(_0x3e2fc9){return console[_0x249b7b(0xc13)](_0x249b7b(0x88e),_0x3e2fc9),{'log':()=>{},'forceLog':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1,'processBatch':()=>{}};}}[_0x227435(0xb85)](_0x38b7e7){const _0x411db9=_0x227435;this[_0x411db9(0x2ae)]=_0x38b7e7,this[_0x411db9(0x5da)]=[],this['currentBatch']=this[_0x411db9(0x78e)](),this[_0x411db9(0xb1b)]&&(clearTimeout(this[_0x411db9(0xb1b)]),this[_0x411db9(0xb1b)]=void 0x0);}['setLoggingConnectors'](_0x43056f){const _0x3fd0fe=_0x227435;this[_0x3fd0fe(0x3b3)]=_0x43056f;}['debug'](_0x1fef07,..._0x57fdac){const _0x5365ae=_0x227435;this[_0x5365ae(0x3d7)]&&this[_0x5365ae(0xbf2)](_0xbbb80e[_0x5365ae(0x749)],_0x5365ae(0x2ab)+_0x1fef07,..._0x57fdac);}[_0x227435(0x7fb)](_0xa9db9e,..._0xa56c28){const _0x30df64=_0x227435;console[_0x30df64(0xbf2)](_0xa9db9e,..._0xa56c28),this['loggingConnectors']&&this[_0x30df64(0x3b3)]['forEach'](_0x4bd1f6=>{const _0x3fb68f=_0x30df64;_0x4bd1f6['log'](_0xa9db9e,{'vendorId':this[_0x3fb68f(0x2ae)],'nodeId':'','nodeType':'','data':{..._0xa56c28}});});}[_0x227435(0xbf2)](_0x203f40,_0x1c4ac6,..._0x52ee27){const _0x5b5d00=_0x227435;_0x2b8337['isProduction']||(this[_0x5b5d00(0x40f)][_0x5b5d00(0x771)](_0x203f40)&&console[_0x5b5d00(0xbf2)](_0x5b5d00(0x8d2)+_0x203f40+'\x27\x0a',new Date()+'\x0a',_0x1c4ac6,..._0x52ee27),this[_0x5b5d00(0x3b3)]&&this[_0x5b5d00(0x3b3)][_0x5b5d00(0x3e7)](_0x23487e=>{const _0x21ef3e=_0x5b5d00;this[_0x21ef3e(0x896)](_0x23487e)&&_0x23487e[_0x21ef3e(0x869)]()[_0x21ef3e(0x771)](_0x203f40)&&_0x23487e['log'](_0x1c4ac6,{'vendorId':this['vendorId'],'nodeId':'','nodeType':'','data':{'channel':_0x203f40,..._0x52ee27}});}));}['logRaw'](_0x42550f,_0x4db02e,..._0x539564){const _0x271358=_0x227435;_0x2b8337['isProduction']||(this[_0x271358(0x40f)]['includes'](_0x42550f)&&console[_0x271358(0xbf2)](_0x4db02e,..._0x539564),this[_0x271358(0x3b3)]&&this[_0x271358(0x3b3)][_0x271358(0x3e7)](_0x4795a2=>{const _0x50a25a=_0x271358;this['isInternalLoggingConnector'](_0x4795a2)&&_0x4795a2['getEnabledChannels']()[_0x50a25a(0x771)](_0x42550f)&&_0x4795a2[_0x50a25a(0xbf2)](_0x4db02e,{'vendorId':this[_0x50a25a(0x2ae)],'nodeId':'','nodeType':'','data':{'channel':_0x42550f,..._0x539564}});}));}[_0x227435(0x68c)](_0x4ba1b3,_0x247be0){const _0x22358f=_0x227435;if(!this['loggingConnectors'])return;const _0x4735e6={'vendorId':this[_0x22358f(0x2ae)],..._0x247be0};this[_0x22358f(0x3b3)]['forEach'](_0x169dc3=>{const _0x47cce5=_0x22358f;_0x169dc3[_0x47cce5(0xbf2)](_0x4ba1b3,_0x4735e6);});}[_0x227435(0x8c4)](_0xcdcd12,_0x398dd0){this['createBatchOperation'](_0xcdcd12,_0x398dd0),this['logBatch']();}[_0x227435(0x33c)](_0x2f8d8e,_0x3770e4,_0x4bb1f1){const _0x449c36=_0x227435;(0x0,_0x4e090a[_0x449c36(0x354)])((0x0,_0x4e090a['doc'])(_0x35b99b[_0x449c36(0xc63)](),_0x449c36(0x35a)+this[_0x449c36(0x2ae)]+'/'+_0x2f8d8e+'/'+_0x3770e4),{'storage':_0x4bb1f1,'timestamp':(0x0,_0x4e090a[_0x449c36(0x5e5)])()});}[_0x227435(0xaa0)](){const _0x202a2e=_0x227435;this[_0x202a2e(0xb82)]&&(this[_0x202a2e(0xb82)][_0x202a2e(0x835)]+=0x1,this[_0x202a2e(0xb82)][_0x202a2e(0x835)]===this[_0x202a2e(0x669)]?this[_0x202a2e(0x79f)]():this[_0x202a2e(0xb1b)]||(this[_0x202a2e(0xb1b)]=this[_0x202a2e(0x3b7)]['setTimeout'](()=>this[_0x202a2e(0x79f)](),this['timeoutValue'])));}async[_0x227435(0x79f)](){const _0x2645f5=_0x227435;if(this[_0x2645f5(0xb82)]){for(this[_0x2645f5(0x5da)]['push'](this['currentBatch']),this[_0x2645f5(0xb82)]=this['createNewBatch']();this[_0x2645f5(0x5da)][_0x2645f5(0xbfb)]>0x0;){const _0x116c85=this[_0x2645f5(0x5da)][_0x2645f5(0x4f7)]();if(!await this['commitBatch'](_0x116c85))break;}clearTimeout(this[_0x2645f5(0xb1b)]),this[_0x2645f5(0xb1b)]=void 0x0;}}[_0x227435(0xc13)](_0x5d8b98,_0x490e89,..._0x15057a){const _0x45b0c4=_0x227435;if(console[_0x45b0c4(0xc13)](new Date(),_0x5d8b98,_0x490e89,..._0x15057a),this[_0x45b0c4(0x3b3)]){const _0x4e8052={'vendorId':this[_0x45b0c4(0x2ae)],..._0x490e89};this['loggingConnectors']['forEach'](_0x32bf06=>{const _0x326144=_0x45b0c4;_0x32bf06[_0x326144(0xc13)](_0x5d8b98,_0x4e8052);});}}[_0x227435(0x51e)](_0x213bac,_0x49f9c2,..._0xf80a18){const _0x332a94=_0x227435;if(console[_0x332a94(0x4bc)](new Date(),_0x213bac,_0x49f9c2,_0xf80a18),this[_0x332a94(0x3b3)]){const _0x504e75={'vendorId':this[_0x332a94(0x2ae)],..._0x49f9c2};this[_0x332a94(0x3b3)][_0x332a94(0x3e7)](_0x2b043a=>{const _0x4d24f8=_0x332a94;_0x2b043a[_0x4d24f8(0x4bc)](_0x213bac,_0x504e75);});}}['isChannelEnabled'](_0x5ce59d){const _0x2ba58d=_0x227435;return this[_0x2ba58d(0x40f)][_0x2ba58d(0x771)](_0x5ce59d);}async[_0x227435(0x219)](_0x4eaf5b,_0x113dca=0x0){const _0x54e571=_0x227435;if(_0x4eaf5b[_0x54e571(0x835)]>0x0)try{return await _0x4eaf5b['batch'][_0x54e571(0x92c)](),!0x0;}catch(_0x32b203){if(console[_0x54e571(0xc13)](_0x54e571(0x7e3),_0x32b203,_0x54e571(0xa46),_0x4eaf5b[_0x54e571(0x895)]),!(_0x113dca<this[_0x54e571(0x972)])){const {nodeId:_0x401663='',nodeType:_0x157d48='',clusterId:_0x39388a=''}=_0x4eaf5b[_0x54e571(0x895)][0x0][_0x54e571(0x205)],_0x448200={'nodeId':_0x401663,'nodeType':_0x157d48,'clusterId':_0x39388a,'data':{'operations':_0x4eaf5b[_0x54e571(0x895)],'error':_0x32b203}};return this[_0x54e571(0xc13)](_0x54e571(0x226),_0x448200),!0x1;}{const _0x414107=this['createBatch'](_0x4eaf5b[_0x54e571(0x895)]);setTimeout(()=>this[_0x54e571(0x219)](_0x414107,_0x113dca+0x1),this['retryDelay']*Math[_0x54e571(0x486)](0x2,_0x113dca));}}}[_0x227435(0x640)](){const _0x500029=_0x227435;try{Object[_0x500029(0x8d8)](_0xbbb80e)[_0x500029(0x3e7)](_0x478d72=>{const _0x2168c9=_0x500029,_0xacf3ad=_0x478d72;localStorage[_0x2168c9(0x53e)](_0x2168c9(0x594)+_0xbbb80e[_0xacf3ad])&&(console['log'](_0x2168c9(0x294),_0xbbb80e[_0xacf3ad]),this[_0x2168c9(0x40f)][_0x2168c9(0x91f)](_0xbbb80e[_0xacf3ad]));});}catch(_0x4240b3){}}[_0x227435(0x896)](_0x165fcd){const _0x284fba=_0x227435;return void 0x0!==_0x165fcd[_0x284fba(0x869)];}[_0x227435(0x78e)](){const _0x2aab1c=_0x227435;return{'batch':(0x0,_0x4e090a[_0x2aab1c(0x5a8)])(_0x35b99b['getFirestore']()),'operations':[],'counter':0x0};}['createBatch'](_0x167941){const _0x41c68d=_0x227435,_0x3b8841=(0x0,_0x4e090a[_0x41c68d(0x5a8)])(_0x35b99b[_0x41c68d(0xc63)]());return _0x167941[_0x41c68d(0x3e7)](_0x15641b=>this['addBatchOperation'](_0x3b8841,_0x15641b)),{'batch':_0x3b8841,'operations':_0x167941,'counter':_0x167941[_0x41c68d(0xbfb)]};}[_0x227435(0xad1)](_0x1c554a,_0x59cae7){const _0x3acd97=_0x227435;switch(_0x59cae7[_0x3acd97(0x649)]){case _0x3acd97(0x9b4):_0x1c554a[_0x3acd97(0x9b4)](_0x59cae7[_0x3acd97(0xafb)],_0x59cae7[_0x3acd97(0x205)]);break;case _0x3acd97(0x75a):_0x1c554a[_0x3acd97(0x75a)](_0x59cae7[_0x3acd97(0xafb)],_0x59cae7[_0x3acd97(0x205)]);break;case _0x3acd97(0x3df):_0x1c554a[_0x3acd97(0x3df)](_0x59cae7[_0x3acd97(0xafb)]);}}[_0x227435(0xba9)](_0xff1a02,_0x5aee0e){const _0x164832=_0x227435;this[_0x164832(0xb82)]||(this[_0x164832(0xb82)]=this[_0x164832(0x78e)]());const _0x3acf46=(0x0,_0x4e090a['doc'])((0x0,_0x4e090a[_0x164832(0xb07)])(_0x35b99b[_0x164832(0xc63)](),_0x164832(0x35a)+this[_0x164832(0x2ae)]+'/logs')),_0x321a90={..._0x5aee0e,'service':_0xff1a02,'timestamp':(0x0,_0x4e090a[_0x164832(0x5e5)])()},_0x48e4b3={'type':_0x164832(0x9b4),'path':_0x3acf46[_0x164832(0xb60)],'ref':_0x3acf46,'data':_0x321a90};return this[_0x164832(0xb82)][_0x164832(0x895)]['push'](_0x48e4b3),this[_0x164832(0xad1)](this[_0x164832(0xb82)][_0x164832(0xb43)],_0x48e4b3),_0x3acf46;}}const _0x1822ee=_0xe119cd['getInstance']();function _0x56dc1f(_0x183f94,_0x156c2d){return'/'===_0x183f94?_0x183f94+_0x156c2d:_0x183f94+'/'+_0x156c2d;}function _0x48ed1d(_0xa91f4f){const _0x27b52d=_0x227435,_0x3df4da=function(_0x24434d){const _0x5324f7=a0_0x5d01;return _0x24434d['split']('/')[_0x5324f7(0x276)](_0x216dbb=>_0x216dbb[_0x5324f7(0xbfb)]>0x0);}(_0xa91f4f),_0x6ef4ea=_0x3df4da[_0x27b52d(0x573)]()||'',_0x27df84=_0x3df4da[_0x27b52d(0x2b2)]('/');return[0x0===_0x27df84[_0x27b52d(0xbfb)]?'/':_0x27df84,_0x6ef4ea];}async function _0xd18af(_0x24b9b2){const _0x45f4ba=_0x227435;let _0x4ff0a2;const _0x3b9089=_0x24b9b2[_0x45f4ba(0x9e7)]/0x100000;_0x4ff0a2=_0x3b9089<=0xa?0x1:_0x3b9089<=0x64?0.5:_0x3b9089<=0x1f4?0.1:0.05;const _0x5ae295=Math[_0x45f4ba(0xa9f)](_0x24b9b2['size']/_0x1c199d),_0x2b30d6=Math[_0x45f4ba(0xa9f)](_0x5ae295*_0x4ff0a2);let _0xc4a072=new Uint8Array();for(let _0x514327=0x0;_0x514327<_0x2b30d6;_0x514327++){const _0x52b993=Math['floor'](_0x514327/_0x2b30d6*_0x24b9b2[_0x45f4ba(0x9e7)]);let _0xf5db26=_0x52b993+_0x1c199d;_0xf5db26>_0x24b9b2[_0x45f4ba(0x9e7)]&&(_0xf5db26=_0x24b9b2[_0x45f4ba(0x9e7)]);const _0x40a656=_0x24b9b2[_0x45f4ba(0xb51)](_0x52b993,_0xf5db26),_0x578b7f=await _0x40a656[_0x45f4ba(0x38c)](),_0x172506=new Uint8Array([..._0xc4a072,...new Uint8Array(_0x578b7f)]);_0xc4a072=new Uint8Array(await crypto['subtle'][_0x45f4ba(0x555)]('SHA-256',_0x172506));}return Array[_0x45f4ba(0x218)](new Uint8Array(_0xc4a072))[_0x45f4ba(0x7b9)](_0xa5c269=>_0xa5c269['toString'](0x10)[_0x45f4ba(0x5e2)](0x2,'0'))[_0x45f4ba(0x2b2)]('');}async function*_0x435cfd(_0x3e8a11,_0x39fbfb=0x0,_0x2fbb1c){const _0x29cb19=_0x227435;let _0x2990c8=_0x39fbfb*_0x461098,_0x1f504f=_0x3e8a11;for(;_0x2990c8<_0x1f504f[_0x29cb19(0x9e7)];){let _0x54d4ff=_0x2990c8+_0x461098;_0x54d4ff>_0x1f504f[_0x29cb19(0x9e7)]&&(_0x54d4ff=_0x1f504f[_0x29cb19(0x9e7)]);let _0x564ac3=0x0;for(;_0x564ac3<0x14;)try{await _0x2fbb1c?.();const _0x5d9960=_0x1f504f[_0x29cb19(0xb51)](_0x2990c8,_0x54d4ff,_0x29cb19(0x792)),_0x5d66c1=await _0x5d9960['arrayBuffer']();yield _0x5d66c1,_0x2990c8=_0x54d4ff,await new Promise(_0x1e3d11=>setTimeout(_0x1e3d11,0x0));break;}catch(_0xd0984a){if(console[_0x29cb19(0xc13)](_0x29cb19(0x256)+(_0x564ac3+0x1)+_0x29cb19(0x487),_0xd0984a),_0x564ac3++,_0x564ac3>0x14)throw _0xd0984a;let _0x524c20=0x3e8*Math[_0x29cb19(0x486)](0x2,_0x564ac3);_0x524c20>0x7530&&(_0x524c20=0x7530),await new Promise(_0x5a1096=>setTimeout(_0x5a1096,_0x524c20));}}}class _0x4c830f extends _0x3b1ae5{[_0x227435(0x4a2)];[_0x227435(0x86f)];[_0x227435(0xbb1)]=new Map();[_0x227435(0xa92)]=0x0;[_0x227435(0x64f)]=0x0;[_0x227435(0x41d)]=0x0;[_0x227435(0x485)]=0x0;constructor(_0x1468ba,_0x361a70){super(_0x1468ba,_0x361a70);}[_0x227435(0x9a2)](){const _0x4a3689=_0x227435;return this[_0x4a3689(0x40a)];}['getName'](){const _0x5263ba=_0x227435;return this[_0x5263ba(0x40a)];}[_0x227435(0x9b5)](){const _0x33ce44=_0x227435;return _0x2bba8e['ContentType'][_0x33ce44(0xa47)];}[_0x227435(0x83d)](){const _0x2f6772=_0x227435;return this[_0x2f6772(0x40a)];}[_0x227435(0x9a3)](_0x3c1237){const _0x4408e3=_0x227435;if(this[_0x4408e3(0x4a2)])throw new _0x82cd08(_0x82cd08['codes'][_0x4408e3(0x25d)],{'message':'Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20'+this['owner'][_0x4408e3(0xc22)]()+_0x4408e3(0x6ac)+this[_0x4408e3(0x40a)],'topic':this[_0x4408e3(0x4a2)]});this[_0x4408e3(0x4a2)]=_0x3c1237;}['registerSubscriber'](_0x5671f8){const _0x1345d3=_0x227435;if(this[_0x1345d3(0x86f)])throw new _0x82cd08(_0x82cd08['codes'][_0x1345d3(0x4e9)],{'message':_0x1345d3(0xbb8)+this['owner'][_0x1345d3(0xc22)]()+_0x1345d3(0x6ac)+this[_0x1345d3(0x40a)],'topic':this['incomingTopic']});this[_0x1345d3(0x86f)]=_0x5671f8;}[_0x227435(0x408)](){const _0x4ceea5=_0x227435;delete this[_0x4ceea5(0x4a2)];}[_0x227435(0x370)](){const _0x195b62=_0x227435;delete this[_0x195b62(0x86f)];}async['send'](_0x44bd8f,_0x1ff1e5){const _0x1b9dd7=_0x227435;if(_0x1822ee[_0x1b9dd7(0xbf2)](_0xbbb80e[_0x1b9dd7(0x4b2)],_0x1b9dd7(0x297),this['owner'][_0x1b9dd7(0xc22)](),_0x44bd8f,_0x1ff1e5),this[_0x1b9dd7(0xa92)]+=0x1,_0x44bd8f instanceof File){const _0x15594b=await async function(_0x1810b1){const _0x3b6d78=_0x1b9dd7,_0x48c773=[];for await(const _0x31b5dc of _0x435cfd(_0x1810b1))_0x48c773[_0x3b6d78(0x91f)](_0x31b5dc);return _0x48c773;}(_0x44bd8f);return this[_0x1b9dd7(0x41d)]+=_0x15594b[_0x1b9dd7(0x4df)]((_0x309b88,_0xb0c9c0)=>_0x309b88+_0xb0c9c0[_0x1b9dd7(0x3f5)],0x0),void _0x15594b[_0x1b9dd7(0x3e7)]((_0x5bc0ca,_0x137f8f)=>{const _0xa5bb0d=_0x1b9dd7;this['outgoingTopic'][_0xa5bb0d(0xb22)]({'sourceId':this['owner']['getId'](),'destinationIds':_0x1ff1e5,'propagate':!0x0,'contentType':_0x2bba8e[_0xa5bb0d(0x97c)][_0xa5bb0d(0xb45)],'content':{'name':_0x44bd8f[_0xa5bb0d(0xc30)],'type':_0x44bd8f[_0xa5bb0d(0x649)],'data':_0x5bc0ca,'index':_0x137f8f,'total':_0x15594b[_0xa5bb0d(0xbfb)]}});});}this['bytesSent']+=JSON[_0x1b9dd7(0x5dd)](_0x44bd8f)['length'],this[_0x1b9dd7(0x4a2)][_0x1b9dd7(0xb22)]({'sourceId':this['owner'][_0x1b9dd7(0xc22)](),'destinationIds':_0x1ff1e5,'propagate':!0x0,'contentType':_0x2bba8e['ContentType']['Data'],'content':_0x44bd8f});}[_0x227435(0x20d)](_0x4cbd24){const _0x4f5384=_0x227435;return this[_0x4f5384(0x86f)][_0x4f5384(0x214)](_0x4a3898=>{const _0x156f08=_0x4f5384;switch(_0x1822ee[_0x156f08(0xbf2)](_0xbbb80e[_0x156f08(0x4b2)],_0x156f08(0x71b),this[_0x156f08(0x4be)][_0x156f08(0xc22)](),_0x4a3898),_0x4a3898[_0x156f08(0x1ed)]){case _0x2bba8e[_0x156f08(0x97c)][_0x156f08(0xa47)]:this[_0x156f08(0x64f)]+=0x1,this[_0x156f08(0x485)]+=JSON[_0x156f08(0x5dd)](_0x4a3898[_0x156f08(0xae3)])['length'],_0x4cbd24(_0x4a3898[_0x156f08(0xab9)],_0x4a3898[_0x156f08(0xae3)]);break;case _0x2bba8e[_0x156f08(0x97c)][_0x156f08(0xb45)]:this[_0x156f08(0xbb1)]['has'](_0x4a3898[_0x156f08(0xae3)][_0x156f08(0xc30)])||this[_0x156f08(0xbb1)][_0x156f08(0x9b4)](_0x4a3898[_0x156f08(0xae3)][_0x156f08(0xc30)],{'chunksReceived':0x0,'bytesReceived':0x0,'checksum':'','content':[]});const _0x5a919d=this[_0x156f08(0xbb1)][_0x156f08(0x441)](_0x4a3898[_0x156f08(0xae3)][_0x156f08(0xc30)]);if(_0x5a919d['chunksReceived']+=0x1,_0x5a919d[_0x156f08(0x485)]+=_0x4a3898[_0x156f08(0xae3)]['data'][_0x156f08(0x3f5)],_0x5a919d['content']&&(_0x5a919d['content'][_0x4a3898[_0x156f08(0xae3)][_0x156f08(0x899)]]=_0x4a3898[_0x156f08(0xae3)]['data']),this[_0x156f08(0xbb1)][_0x156f08(0x9b4)](_0x4a3898[_0x156f08(0xae3)][_0x156f08(0xc30)],_0x5a919d),_0x5a919d[_0x156f08(0x4c9)]+0x1<_0x4a3898['content'][_0x156f08(0x29d)])return;this[_0x156f08(0x64f)]+=0x1,this[_0x156f08(0x485)]+=_0x5a919d[_0x156f08(0x485)],_0x5a919d[_0x156f08(0xae3)]&&_0x4cbd24(_0x4a3898[_0x156f08(0xab9)],(_0x24db0d=_0x5a919d[_0x156f08(0xae3)],_0x5e4e9e=_0x4a3898[_0x156f08(0xae3)][_0x156f08(0xc30)],_0x3577f1=_0x4a3898[_0x156f08(0xae3)]['type'],new File(_0x24db0d,_0x5e4e9e,{'type':_0x3577f1}))),this[_0x156f08(0xbb1)][_0x156f08(0x3df)](_0x4a3898[_0x156f08(0xae3)][_0x156f08(0xc30)]);}var _0x24db0d,_0x5e4e9e,_0x3577f1;});}}function _0x1aa7b3(){const _0x43648a=_0x227435;let _0x698041=[];return{'subscribe':_0x4372b8=>(_0x698041[_0x43648a(0x91f)](_0x4372b8),()=>{const _0x477034=_0x43648a;_0x698041=_0x698041[_0x477034(0x276)](_0x332b0d=>_0x332b0d!==_0x4372b8);}),'publish':_0x4ec0cf=>{const _0x2bd232=_0x43648a;_0x698041[_0x2bd232(0x3e7)](_0x5162d7=>_0x5162d7(_0x4ec0cf));}};}function _0x4f6343(){let _0x19fd54;return{'subscribe':_0x377790=>(_0x19fd54=_0x377790,()=>{_0x19fd54=void 0x0;}),'publish':_0x5b29b4=>{_0x19fd54&&_0x19fd54(_0x5b29b4);}};}class _0x55961f{[_0x227435(0x9fe)];['tableName'];[_0x227435(0xc0c)];['eventListener']=_0x4f6343();[_0x227435(0x4cc)];constructor(_0x3b1b1d,_0x7d62e3,_0x444945){const _0x1061d8=_0x227435;this['connector']=_0x3b1b1d,this[_0x1061d8(0x868)]=_0x7d62e3,this[_0x1061d8(0xc0c)]=_0x444945;}['destroy'](){this['listenerUnsubscriber']?.();}async[_0x227435(0x441)](_0x4dcb8d){const _0xede8c6=_0x227435,_0x16784b={'key':_0x4dcb8d,'tableName':this[_0xede8c6(0x868)],'action':_0x46aa89[_0xede8c6(0x31d)]};return this['tableObserver'][_0xede8c6(0xb22)](_0x16784b),this['connector'][_0xede8c6(0x441)](_0x4dcb8d);}async[_0x227435(0x9b4)](_0x57a066,_0x1443a3,_0x3568cd=!0x0){const _0x4ffdc1=_0x227435;this[_0x4ffdc1(0xb15)](_0x1443a3);const _0x20b91a=await this[_0x4ffdc1(0x9fe)][_0x4ffdc1(0x441)](_0x57a066),_0x237241=await this[_0x4ffdc1(0x9fe)][_0x4ffdc1(0x9b4)](_0x57a066,_0x1443a3),_0x50bb6e=_0x20b91a?_0x11433a[_0x4ffdc1(0x34c)]:_0x11433a[_0x4ffdc1(0xa97)];if(this[_0x4ffdc1(0xb22)](_0x50bb6e,_0x237241),!_0x3568cd)return _0x237241;const _0x3da578={'key':_0x57a066,'tableName':this[_0x4ffdc1(0x868)],'action':_0x50bb6e,'value':_0x237241};return this['tableObserver'][_0x4ffdc1(0xb22)](_0x3da578),_0x237241;}async[_0x227435(0x9b9)](_0x357065){const _0x35e9b3=_0x227435;this['validateValue'](_0x357065);const _0x2ddac6=await this[_0x35e9b3(0x9fe)]['add'](_0x357065),_0x5530d7={'key':_0x2ddac6['id'],'tableName':this['tableName'],'action':_0x11433a[_0x35e9b3(0xa97)],'value':_0x2ddac6};return this[_0x35e9b3(0xc0c)]['publish'](_0x5530d7),this[_0x35e9b3(0xb22)](_0x5530d7['action'],_0x2ddac6),_0x2ddac6;}async[_0x227435(0x3df)](_0x4a0d4c,_0x589701=!0x0){const _0x45495c=_0x227435,_0x354e85=await this[_0x45495c(0x9fe)]['get'](_0x4a0d4c);if(!_0x354e85)return;await this[_0x45495c(0x9fe)][_0x45495c(0x3df)](_0x4a0d4c);const _0x5d8eac=_0x11433a[_0x45495c(0x770)];if(this[_0x45495c(0xb22)](_0x5d8eac,_0x354e85),!_0x589701)return;const _0x2454da={'key':_0x4a0d4c,'tableName':this[_0x45495c(0x868)],'action':_0x5d8eac,'value':_0x354e85};this[_0x45495c(0xc0c)][_0x45495c(0xb22)](_0x2454da);}async['clear'](){const _0xda0240=_0x227435,_0x573037=await this['list']();for(const _0x331b10 of _0x573037){const _0x52af1c=_0x11433a[_0xda0240(0x770)];this[_0xda0240(0xb22)](_0x52af1c,_0x331b10);const _0x47e37e={'key':_0x331b10['id'],'tableName':this['tableName'],'action':_0x52af1c,'value':_0x331b10};this[_0xda0240(0xc0c)][_0xda0240(0xb22)](_0x47e37e);}return this['connector'][_0xda0240(0x42a)]();}async[_0x227435(0x5cb)](_0x2105e5){const _0x1ebbe5=_0x227435,_0x855694={'key':'','tableName':this[_0x1ebbe5(0x868)],'action':_0x46aa89[_0x1ebbe5(0x731)]};this[_0x1ebbe5(0xc0c)]['publish'](_0x855694);try{_0x2105e5&&(_0x2105e5=_0x2105e5 instanceof _0x3e3930?_0x2105e5['getQuery']():_0x3e3930[_0x1ebbe5(0x3a7)](_0x2105e5)[_0x1ebbe5(0xbc3)]());}catch(_0x156022){throw new _0x27b95d(_0x398751['KeyValueDatabaseInvalidQuery'],'Invalid\x20query');}try{return await this[_0x1ebbe5(0x9fe)][_0x1ebbe5(0x5cb)](_0x2105e5);}catch(_0x5cd987){let _0x380ba8=_0x1ebbe5(0x2c5);throw _0x5cd987 instanceof Error&&(_0x380ba8=_0x5cd987[_0x1ebbe5(0x325)]),new _0x27b95d(_0x398751[_0x1ebbe5(0xae2)],_0x380ba8);}}async[_0x227435(0x867)](_0x418e5d){const _0x36ae7e=_0x227435,_0x18cb20={'key':'','tableName':this[_0x36ae7e(0x868)],'action':_0x46aa89[_0x36ae7e(0x509)]};this[_0x36ae7e(0xc0c)][_0x36ae7e(0xb22)](_0x18cb20);try{_0x418e5d&&(_0x418e5d=_0x418e5d instanceof _0x3e3930?_0x418e5d[_0x36ae7e(0xbc3)]():_0x3e3930[_0x36ae7e(0x3a7)](_0x418e5d)[_0x36ae7e(0xbc3)]());}catch(_0x59ef55){throw new _0x27b95d(_0x398751[_0x36ae7e(0xae2)],_0x36ae7e(0x2c5));}try{return await this[_0x36ae7e(0x9fe)]['count'](_0x418e5d);}catch(_0x54f8e4){let _0x5ece93='Invalid\x20query';throw _0x54f8e4 instanceof Error&&(_0x5ece93=_0x54f8e4['message']),new _0x27b95d(_0x398751[_0x36ae7e(0xae2)],_0x5ece93);}}[_0x227435(0x8e6)](){const _0x556ea6=_0x227435;return this[_0x556ea6(0x9fe)][_0x556ea6(0x8e6)]();}[_0x227435(0x214)](_0x5c02bf){const _0x481086=_0x227435;this['listenerUnsubscriber']=this['eventListener'][_0x481086(0x214)](_0x5c02bf);}[_0x227435(0x46f)](){const _0x8ebc9a=_0x227435;this[_0x8ebc9a(0x4cc)]?.();}[_0x227435(0xb22)](_0x4cd254,_0x5badda){const _0x44b2a4=_0x227435,_0x54012d=this[_0x44b2a4(0x4d5)](_0x4cd254,_0x5badda);this['eventListener'][_0x44b2a4(0xb22)](_0x54012d);}['buildTableEvent'](_0xc33385,_0x1a3108){const _0x4763d1=_0x227435;let _0x587d47;switch(_0xc33385){case _0x11433a[_0x4763d1(0xa97)]:_0x587d47='add';break;case _0x11433a[_0x4763d1(0x34c)]:_0x587d47=_0x4763d1(0x75a);break;case _0x11433a[_0x4763d1(0x770)]:_0x587d47=_0x4763d1(0x3df);}return{'action':_0x587d47,'value':_0x1a3108};}[_0x227435(0xb15)](_0xb1587a){const _0xd61c80=_0x227435;if(_0xd61c80(0xc34)!=typeof _0xb1587a||null===_0xb1587a)throw new _0x27b95d(_0x398751['KeyValueDatabaseInvalidValue'],_0xd61c80(0x692));for(const _0x12fdd2 in _0xb1587a){const _0x74981c=_0xb1587a[_0x12fdd2];if(_0xd61c80(0xc34)!=typeof _0x74981c||_0x74981c instanceof Date){if(!['string',_0xd61c80(0x878),_0xd61c80(0xa44)][_0xd61c80(0x771)](typeof _0x74981c))throw new _0x27b95d(_0x398751['KeyValueDatabaseInvalidValue'],_0xd61c80(0x9c1)+_0x12fdd2+_0xd61c80(0xa4c));}else this['validateValue'](_0x74981c);}}}class _0x2f2a79{[_0x227435(0xa8e)]=[];[_0x227435(0x45f)]=0x0;[_0x227435(0x36e)]=[];[_0x227435(0x2e4)]=!0x1;[_0x227435(0x883)]=null;[_0x227435(0xc7f)]=null;[_0x227435(0xa32)];[_0x227435(0x639)]=null;[_0x227435(0x3fc)]=[];[_0x227435(0xb93)];['_ready']=Promise[_0x227435(0x4dc)]();[_0x227435(0xb6d)]=0x0;constructor(){}get['ready'](){const _0x370e3a=_0x227435;return this[_0x370e3a(0xa5c)];}async[_0x227435(0x3ea)](_0x417d16,_0x38d2ef=0x0){const _0x4b323d=_0x227435;this['readyResolve']||(this[_0x4b323d(0xa5c)]=new Promise(_0x576780=>{const _0x2c6eff=_0x4b323d;this[_0x2c6eff(0x639)]=_0x576780;}),this[_0x4b323d(0xb6d)]=_0x38d2ef);const _0x49ea2c=Date[_0x4b323d(0xb26)]();if(this[_0x4b323d(0x2e4)])return void this[_0x4b323d(0x36e)]['push'](_0x417d16);this[_0x4b323d(0x2e4)]=!0x0;let _0x494200={'hash':await this[_0x4b323d(0x5aa)](_0x417d16),'height':0x0};const _0x3d5fae=this['combinePeaks'](_0x494200);this[_0x4b323d(0x3fc)][_0x4b323d(0x91f)](_0x3d5fae),await _0x3d5fae,this[_0x4b323d(0x45f)]+=0x1;const _0x36fce1=this[_0x4b323d(0x36e)][_0x4b323d(0xbfb)];for(;this[_0x4b323d(0x36e)]['length']>0x0;){const _0x3aa036=this[_0x4b323d(0x36e)][_0x4b323d(0x4f7)]();await this[_0x4b323d(0x3ea)](_0x3aa036);}this[_0x4b323d(0x7ac)](),await this[_0x4b323d(0x73b)],this[_0x4b323d(0x3c3)](_0x49ea2c,_0x36fce1);}async[_0x227435(0x924)](){const _0x1b85c6=_0x227435;return await this[_0x1b85c6(0xa5c)],this[_0x1b85c6(0x2e4)]?(this['rootComputationPromise']||(this['rootComputationPromise']=this[_0x1b85c6(0x52e)]()),await this[_0x1b85c6(0xc7f)]):this[_0x1b85c6(0x883)];}[_0x227435(0x9a8)](){const _0x30138d=_0x227435;return this['peaks'][_0x30138d(0x7b9)](({hash:_0x16bf98,height:_0x3fab54})=>({'hash':_0x16bf98,'height':_0x3fab54}));}[_0x227435(0x1ea)](){const _0x3a671c=_0x227435;return this[_0x3a671c(0x45f)];}[_0x227435(0x79c)](_0x298fb8){const _0x1e5ab9=_0x227435;return this[_0x1e5ab9(0xa8e)][_0x1e5ab9(0x5b4)](_0x270b64=>_0x270b64[_0x1e5ab9(0x2a2)]===_0x298fb8);}async[_0x227435(0x6dc)](_0x120c91,_0x53e2b0){const _0x24c238=_0x227435;return await this[_0x24c238(0x2d2)](_0x120c91+_0x53e2b0);}async[_0x227435(0x5aa)](_0x401e80){const _0x339e8a=_0x227435;return await this[_0x339e8a(0x2d2)](JSON[_0x339e8a(0x5dd)](_0x401e80));}[_0x227435(0x838)](_0x47d554){const _0x52b2fa=_0x227435,_0x5a045c=this[_0x52b2fa(0x9a8)](),_0x5f5d8a=[],_0x2c8944=[],_0x107f85=[];for(const _0x11db98 of _0x5a045c){const _0x3733dc=_0x47d554[_0x52b2fa(0x5b4)](_0x6e2b7d=>_0x6e2b7d[_0x52b2fa(0x2a2)]===_0x11db98[_0x52b2fa(0x2a2)]);_0x3733dc?_0x11db98[_0x52b2fa(0xb72)]!==_0x3733dc[_0x52b2fa(0xb72)]&&_0x5f5d8a['push']({'height':_0x11db98['height'],'localPeak':_0x11db98,'remotePeak':_0x3733dc}):_0x2c8944['push'](_0x11db98);}for(const _0x3339d9 of _0x47d554)_0x5a045c[_0x52b2fa(0x5b4)](_0x1f7720=>_0x1f7720['height']===_0x3339d9[_0x52b2fa(0x2a2)])||_0x107f85[_0x52b2fa(0x91f)](_0x3339d9);return{'differingPeaks':_0x5f5d8a,'peaksMissingInRemote':_0x2c8944,'peaksMissingInLocal':_0x107f85};}async['recomputeRoot'](){const _0x21440d=_0x227435;this[_0x21440d(0x2e4)]=!0x0;const _0x141c21=this[_0x21440d(0xa8e)]['map'](_0xf495b1=>_0xf495b1[_0x21440d(0xb72)]);return this['cachedRoot']=await this['hashPeakHashes'](_0x141c21),this['isComputingMMR']=!0x1,this[_0x21440d(0xc7f)]=null,this['debounceReady'](),this[_0x21440d(0x883)];}async['computeHash'](_0x368ae8){const _0x1d1831=_0x227435;try{const _0x29d7bb=new TextEncoder()['encode'](_0x368ae8),_0x335faf=await crypto[_0x1d1831(0x88b)]['digest'](_0x1d1831(0xac3),_0x29d7bb);return Array[_0x1d1831(0x218)](new Uint8Array(_0x335faf))[_0x1d1831(0x7b9)](_0xcc2ddd=>_0xcc2ddd[_0x1d1831(0x4f9)](0x10)[_0x1d1831(0x5e2)](0x2,'0'))[_0x1d1831(0x2b2)]('');}catch(_0x5b45ff){return console[_0x1d1831(0xc13)]('Hash\x20computation\x20failed,\x20retrying...',_0x5b45ff),this[_0x1d1831(0x2d2)](_0x368ae8);}}async[_0x227435(0x264)](_0x4d9d5d){const _0x18c35f=_0x227435;return await this[_0x18c35f(0x2d2)](_0x4d9d5d[_0x18c35f(0x2b2)](''));}async[_0x227435(0x1f6)](_0xf51d59){const _0x582382=_0x227435;for(;this[_0x582382(0xa8e)][_0x582382(0xbfb)]>0x0&&this[_0x582382(0xa8e)][this[_0x582382(0xa8e)][_0x582382(0xbfb)]-0x1][_0x582382(0x2a2)]===_0xf51d59[_0x582382(0x2a2)];){const _0x2ede16=this[_0x582382(0xa8e)][_0x582382(0x573)]();_0xf51d59={'hash':await this[_0x582382(0x6dc)](_0x2ede16[_0x582382(0xb72)],_0xf51d59[_0x582382(0xb72)]),'left':_0x2ede16,'right':_0xf51d59,'height':_0xf51d59[_0x582382(0x2a2)]+0x1};}this[_0x582382(0xa8e)][_0x582382(0x91f)](_0xf51d59),await this[_0x582382(0x52e)]();}[_0x227435(0x3c3)](_0x4d090c,_0x50b7b3){const _0x5d707f=_0x227435;if(!_0x1822ee[_0x5d707f(0x3e1)](_0xbbb80e[_0x5d707f(0x1ff)]))return;this[_0x5d707f(0xa32)]&&clearTimeout(this['debounceLogTimeout']);const _0x3496b8=Date[_0x5d707f(0xb26)]();this['debounceLogTimeout']=setTimeout(()=>_0x1822ee[_0x5d707f(0xbf2)](_0xbbb80e[_0x5d707f(0x1ff)],'MerkleMountainRange\x20-\x20appendTransaction\x20-\x20Completed.\x20Root:',this['cachedRoot'],_0x5d707f(0xbb4),this[_0x5d707f(0x1ea)](),_0x5d707f(0x6a1),_0x50b7b3,_0x5d707f(0xb88),_0x3496b8-_0x4d090c),0x7d0);}['debounceReady'](){const _0x594cef=_0x227435;this['debounceReadyTimeout']&&clearTimeout(this['debounceReadyTimeout']),this[_0x594cef(0xb93)]=setTimeout(async()=>{const _0x2573e4=_0x594cef;try{const _0x5749aa=this[_0x2573e4(0x3fc)];if(this[_0x2573e4(0x3fc)]=[],await Promise[_0x2573e4(0x9cd)](_0x5749aa),this[_0x2573e4(0xb6d)]-=_0x5749aa[_0x2573e4(0xbfb)],this[_0x2573e4(0x3fc)][_0x2573e4(0xbfb)]>0x0||this['expectedTransactions']>0x0)return this['debounceReady']();this[_0x2573e4(0x639)]&&(this['readyResolve'](),this[_0x2573e4(0x639)]=null),this[_0x2573e4(0xa5c)]=Promise[_0x2573e4(0x4dc)](),this[_0x2573e4(0x2e4)]=!0x1;}catch(_0x2ff731){console['error']('Error\x20resolving\x20readyPromises:',_0x2ff731);}},0xa);}}const _0x31a3d1=[_0x227435(0xa5b),_0x227435(0x571),_0x227435(0x42c),_0x227435(0x30b),_0x227435(0xabd),_0x227435(0x8af),_0x227435(0x8b0)],_0x38eded=[['Offer',_0x227435(0x90a),_0x227435(0x8f8),'Success',_0x227435(0x4c5),_0x227435(0x9c3),'Disconnect',_0x227435(0xabd),'OptimizationConnectionSuccess'],[_0x227435(0x6aa),'NodeUpdate','NodeConnectionsUpdate','NodeLeave'],['CloseGraphDatabase',_0x227435(0x4ba),_0x227435(0x2c7),_0x227435(0xb53),_0x227435(0xc03),_0x227435(0x8c2),'CloseObjectStoreBucket',_0x227435(0x5ab),_0x227435(0xc3b),_0x227435(0x471),_0x227435(0xa5e),_0x227435(0x551),_0x227435(0x2a7),_0x227435(0x754),'KeyValueDatabaseContentSynchronized',_0x227435(0x3a9),_0x227435(0xbe6),_0x227435(0xae0),_0x227435(0x4f5),_0x227435(0xa39),_0x227435(0x8aa),'ObjectStoreStats',_0x227435(0x6d0),_0x227435(0x2d7),_0x227435(0x25a),_0x227435(0x482),_0x227435(0x674),_0x227435(0xc79),'UpdateMediaStream',_0x227435(0x947)],['SubscribeMediaStream',_0x227435(0x2cb),_0x227435(0xb42),_0x227435(0x6b4),_0x227435(0x2b3),_0x227435(0x65f)],[_0x227435(0x398),_0x227435(0x2d3)],[_0x227435(0xb1f)],['Remediation','RemoteRemediation']];function _0x443ae0(_0x3fbe67){const _0xdf24f8=_0x227435;return{..._0x3fbe67,'systemMessageType':_0x31a3d1[_0x3fbe67[_0xdf24f8(0x656)]],'systemContentMessageType':_0x38eded[_0x3fbe67[_0xdf24f8(0x656)]][_0x3fbe67[_0xdf24f8(0xae3)][_0xdf24f8(0x649)]]};}const _0x58c936={'hour':_0x227435(0x9bc),'minute':_0x227435(0x9bc),'second':_0x227435(0x9bc)};function _0x58f19b(_0x5450d2,_0x2d914d){const _0x13d45e=_0x227435,_0x8b5f81=(function(){const _0x25e3a9=a0_0x5d01,_0x2f3310=new Date(),_0x2bef40=_0x2f3310[_0x25e3a9(0x326)](),_0x4880e5=_0x2f3310['toLocaleDateString'](_0x25e3a9(0xa07),_0x58c936)['match'](/\d\d:\d\d:\d\d/)?.[0x0];return _0x4880e5+'.'+(_0x2bef40>0x64?''+_0x2bef40:_0x2bef40>0xa?'0'+_0x2bef40:'00'+_0x2bef40);}()),{sourceId:_0x5cfa2b,destinationIds:_0x14c862,systemMessageType:_0x51c8ea,systemContentMessageType:_0x5be5e2}=_0x443ae0(_0x5450d2);return _0x8b5f81+_0x13d45e(0x6ac)+_0x2d914d+'\x20-\x20'+(_0x5cfa2b===_0x2d914d?_0x13d45e(0x8fe)+_0x51c8ea+_0x13d45e(0x50f)+(_0x14c862?''+_0x14c862:_0x13d45e(0x400)):_0x5450d2[_0x13d45e(0xab9)]===_0x48df1c?_0x13d45e(0x900)+_0x51c8ea+'\x27':(_0x14c862?'':'Everyone\x20')+'Receiving\x20\x27'+_0x51c8ea+'\x27\x20from\x20'+_0x5cfa2b)+'\x20with\x20\x27'+_0x5be5e2+_0x13d45e(0x68b);}function _0x4c5dc6(_0x9f21c,_0x56f2f9){const _0x467476=_0x227435;if(!_0x1822ee['isChannelEnabled'](_0x9f21c))return;if(_0x2b8337[_0x467476(0x7dc)])return;if(_0x467476(0x832)==typeof process)return;const _0x160c02=process[_0x467476(0x98f)]();console[_0x467476(0xbf2)](_0x467476(0x5f1)+_0x56f2f9+':');for(const _0x3c8b25 in _0x160c02)console[_0x467476(0xbf2)]('\x20\x20'+_0x3c8b25+':\x20'+(_0x160c02[_0x3c8b25]/0x400/0x400)[_0x467476(0xb91)](0x2)+_0x467476(0xc59));}function _0x38b9ff(_0x3e1a4b,_0x1f479d){const _0x21924a=_0x227435;if(!_0x1822ee[_0x21924a(0x3e1)](_0x1f479d))return _0x1822ee['debug'](_0x21924a(0x531)+_0x1f479d),{'timingLogger':{'start':()=>{},'now':()=>0x0,'logWaitTime':()=>{}},'logger':{'log':()=>{},'performCalculation':(_0x28b768,_0x21f7ed)=>_0x21f7ed}};let _0x8395e0=0x0;return{'timingLogger':((()=>{const _0xc8c6ae=_0x21924a;let _0x220d3a=Date[_0xc8c6ae(0xb26)]();return{'start':()=>{const _0x572d3b=_0xc8c6ae;_0x220d3a=Date[_0x572d3b(0xb26)]();},'now':()=>Date['now'](),'logWaitTime':_0x44cbd7=>{const _0x9e5b88=_0xc8c6ae;_0x8395e0+=Date[_0x9e5b88(0xb26)]()-_0x220d3a,_0x1822ee['log'](_0x1f479d,_0x44cbd7,_0x8395e0+'ms',_0x3e1a4b);}};})()),'logger':{'log':(_0x55bd4f,_0x41423e=()=>{})=>{const _0x1e207e=_0x21924a,_0x4789d3=_0x41423e();_0x4789d3?_0x1822ee['log'](_0x1f479d,_0x55bd4f,_0x4789d3,_0x3e1a4b):_0x1822ee[_0x1e207e(0xbf2)](_0x1f479d,_0x55bd4f,_0x3e1a4b);},'performCalculation':(_0x3b96fa,_0x7e1ff8)=>_0x3b96fa()}};}function _0x355344(_0x365bb1){const _0x3c7aed=_0x227435;return'undefined'==typeof Buffer?0x0:Buffer[_0x3c7aed(0x3f5)](JSON['stringify'](_0x365bb1),_0x3c7aed(0xc14));}function _0x3e1189(_0x4a80bf){const _0x212b4c=_0x227435;if(0x0===_0x4a80bf)return'0\x20B';const _0x1b187c=Math[_0x212b4c(0x921)](Math[_0x212b4c(0xbf2)](_0x4a80bf)/Math['log'](0x400));return parseFloat((_0x4a80bf/Math[_0x212b4c(0x486)](0x400,_0x1b187c))[_0x212b4c(0xb91)](0x2))+'\x20'+['B','KB','MB','GB','TB'][_0x1b187c];}class _0x38e726 extends _0x4c830f{[_0x227435(0xc26)];[_0x227435(0x7f8)];[_0x227435(0x2ae)];['isNodeReady'];['db'];['dbKey'];['tables']=new Map();[_0x227435(0xc0c)];['transactionTable'];['tableUnsubscriber'];[_0x227435(0x659)];[_0x227435(0x7fc)];[_0x227435(0x428)]=[];[_0x227435(0x319)]=()=>{};['syncTimeout'];[_0x227435(0x877)]=_0x4f6343();[_0x227435(0x4cc)];[_0x227435(0x9c2)]=[];[_0x227435(0xbbf)];[_0x227435(0xb57)];[_0x227435(0xb63)]=0x0;[_0x227435(0x352)]=0x0;[_0x227435(0x339)]=!0x1;[_0x227435(0x714)]=new _0x2f2a79();[_0x227435(0x252)]=new Map();['transactions']=[];['debounceRebuildMMR'];[_0x227435(0x3f7)]=[];[_0x227435(0x308)];constructor(_0x1717b6,_0x2a7b7c,_0x19e8ef,_0x5a6829,_0x9149e7,_0x59df67,_0x432b77){const _0x28afac=_0x227435;if(_0x28afac(0x984)!=typeof _0x2a7b7c)throw new _0x27b95d(_0x398751['KeyValueDatabaseNameNotString'],'Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string');if(super(_0x1717b6,_0x2a7b7c),this[_0x28afac(0xc26)]=_0x1717b6,this[_0x28afac(0x7f8)]=_0x19e8ef,this[_0x28afac(0x2ae)]=_0x5a6829,this[_0x28afac(0x3f4)]=_0x432b77,this[_0x28afac(0xb4c)]=_0x28afac(0x34d)+this['vendorId']+_0x28afac(0x34d)+this[_0x28afac(0x7f8)]+_0x28afac(0x34d)+this[_0x28afac(0x40a)],this[_0x28afac(0xc0c)]=_0x4f6343(),this[_0x28afac(0x308)]=function(_0x4b60c6,_0x465be5){const _0x146fb8=_0x28afac;if(!_0x1822ee[_0x146fb8(0x3e1)](_0x465be5))return _0x1822ee[_0x146fb8(0x8b4)](_0x146fb8(0x531)+_0x465be5),{..._0x38b9ff(_0x4b60c6,_0x465be5),'logDataSent':()=>0x0,'logDataReceived':()=>0x0,'getDataLogged':()=>({'dataSent':_0x146fb8(0x4ee),'dataReceived':_0x146fb8(0x4ee)})};const {timingLogger:_0xefcd11,logger:_0x351c11}=_0x38b9ff(_0x4b60c6,_0x465be5);let _0x3f9a08=0x0,_0x4b14ce=0x0;return{'timingLogger':_0xefcd11,'logger':_0x351c11,'logDataSent':(_0x770679,_0x40e9da=!0x1)=>{const _0x10555a=_0x146fb8,_0xc89574=_0x355344(_0x770679);return _0x40e9da&&_0x1822ee[_0x10555a(0xbf2)](_0x465be5,_0x10555a(0xa63),_0x4b60c6,_0xc89574),_0x3f9a08+=_0xc89574,_0xc89574;},'logDataReceived':(_0x164e70,_0x3378f8=!0x1)=>{const _0x2cf638=_0x146fb8,_0x537632=_0x355344(_0x164e70);return _0x3378f8&&_0x1822ee[_0x2cf638(0xbf2)](_0x465be5,'Data\x20Received',_0x4b60c6,_0x537632),_0x4b14ce+=_0x537632,_0x537632;},'getDataLogged':()=>({'dataSent':_0x3e1189(_0x3f9a08),'dataReceived':_0x3e1189(_0x4b14ce)})};}(this[_0x28afac(0x40a)],_0xbbb80e[_0x28afac(0x1ff)]),this['isSync']=new Promise(_0x8195a6=>{const _0x55f6a7=_0x28afac;this[_0x55f6a7(0x7fc)]=_0x8195a6;}),_0x9149e7 instanceof _0x63469b)this['layout']=_0x9149e7[_0x28afac(0x4db)]();else{const [_0x3b3405,_0x3d5863]=_0x63469b[_0x28afac(0x888)](_0x9149e7);if(!_0x3b3405)throw new _0x27b95d(_0x398751[_0x28afac(0xbed)],_0x28afac(0x292)+_0x3d5863);this[_0x28afac(0xbbf)]=structuredClone(_0x9149e7);}this['addReservedTables'](this[_0x28afac(0xbbf)]),this['db']=new _0x59df67(this[_0x28afac(0xb4c)],this[_0x28afac(0xbbf)]),this['sendStats']();}async[_0x227435(0xc16)](_0xacf09e,_0x171e57){const _0x330d6a=_0x227435;if(_0x1822ee[_0x330d6a(0xbf2)](_0xbbb80e[_0x330d6a(0x1ff)],_0x330d6a(0x7ba),this[_0x330d6a(0x40a)]),!this['transactionTable'])throw new _0x82cd08(_0x82cd08[_0x330d6a(0xab8)]['KeyValueDatabaseTransactionTableNotInitialized']);if(await this[_0x330d6a(0x659)],await this['isNodeReady'](_0xacf09e),await this[_0x330d6a(0x714)]['getRoot']()===_0x171e57){const _0x5d7bbe={'sourceId':this[_0x330d6a(0xc26)][_0x330d6a(0xc22)](),'destinationIds':[_0xacf09e],'propagate':!0x0,'messageType':_0x37ab1a[_0x330d6a(0x42c)],'content':{'type':_0x593bd0[_0x330d6a(0x558)],'label':this[_0x330d6a(0x40a)],'mmrRoot':_0x171e57}};return this[_0x330d6a(0x308)][_0x330d6a(0x690)](_0x5d7bbe),void this[_0x330d6a(0x45d)][_0x330d6a(0xb22)](_0x5d7bbe);}const _0x1125a7=this[_0x330d6a(0x714)][_0x330d6a(0x9a8)](),_0x3f9459={'sourceId':this[_0x330d6a(0xc26)][_0x330d6a(0xc22)](),'destinationIds':[_0xacf09e],'propagate':!0x0,'messageType':_0x37ab1a[_0x330d6a(0x42c)],'content':{'type':_0x593bd0[_0x330d6a(0x754)],'label':this[_0x330d6a(0x40a)],'peaks':_0x1125a7}};this[_0x330d6a(0x308)][_0x330d6a(0x690)](_0x3f9459),this[_0x330d6a(0x45d)][_0x330d6a(0xb22)](_0x3f9459);}async['processContentSynchronized'](_0x4333bc,_0x5e433e){const _0x1a012e=_0x227435,_0x20986b=await this['mmr']['getRoot'](),_0x492786=_0x20986b===_0x5e433e;if(_0x1822ee[_0x1a012e(0xbf2)](_0xbbb80e[_0x1a012e(0x1ff)],_0x1a012e(0xbf1)+_0x4333bc+_0x1a012e(0xc41)+_0x492786,this[_0x1a012e(0x40a)]),_0x492786)return this['clearSyncTimeout'](),void this[_0x1a012e(0x70d)]();_0x1822ee[_0x1a012e(0xbf2)](_0xbbb80e[_0x1a012e(0x1ff)],_0x1a012e(0xb48),_0x20986b,_0x5e433e),_0x1822ee[_0x1a012e(0x51e)](_0x1a012e(0xb48),{'nodeId':this[_0x1a012e(0xc26)][_0x1a012e(0xc22)](),'nodeType':this[_0x1a012e(0xc26)][_0x1a012e(0x649)],'remoteId':_0x4333bc,'data':{'localMMRRoot':_0x20986b,'remoteMMRRoot':_0x5e433e}});const _0xc0993={'sourceId':this[_0x1a012e(0xc26)][_0x1a012e(0xc22)](),'messageType':_0x37ab1a[_0x1a012e(0x42c)],'propagate':!0x0,'content':{'type':_0x593bd0[_0x1a012e(0xa39)],'label':this[_0x1a012e(0x40a)],'mmrRoot':_0x20986b}};this['systemTopic'][_0x1a012e(0xb22)](_0xc0993);}async['processContentAvailable'](_0xc257d4,_0x5cc02a){const _0x1a9b3a=_0x227435;if(_0x1822ee['log'](_0xbbb80e[_0x1a9b3a(0x1ff)],_0x1a9b3a(0xac4),_0xc257d4,'label',this['label'],'peaks',_0x5cc02a),this[_0x1a9b3a(0x339)])return;this[_0x1a9b3a(0x339)]=!0x0,this[_0x1a9b3a(0xc50)]();const {differingPeaks:_0x5be904,peaksMissingInLocal:_0x5438c8,peaksMissingInRemote:_0x2df549}=this[_0x1a9b3a(0x714)]['comparePeaks'](_0x5cc02a);_0x1822ee[_0x1a9b3a(0xbf2)](_0xbbb80e[_0x1a9b3a(0x1ff)],'processContentAvailable\x20-\x20Peak\x20comparison:',{'differingPeaks':_0x5be904,'peaksMissingInLocal':_0x5438c8,'peaksMissingInRemote':_0x2df549});const _0x51340f={'sourceId':this[_0x1a9b3a(0xc26)][_0x1a9b3a(0xc22)](),'destinationIds':[_0xc257d4],'propagate':!0x0,'messageType':_0x37ab1a[_0x1a9b3a(0x42c)],'content':{'type':_0x593bd0[_0x1a9b3a(0x3a9)],'label':this[_0x1a9b3a(0x40a)],'peakHeights':_0x5438c8[_0x1a9b3a(0x7b9)](_0x1fdfc5=>_0x1fdfc5['height'])[_0x1a9b3a(0x2b7)](_0x5be904[_0x1a9b3a(0x7b9)](_0x44f6de=>_0x44f6de[_0x1a9b3a(0x2a2)]))}};if(this[_0x1a9b3a(0x45d)]['publish'](_0x51340f),_0x5be904[_0x1a9b3a(0xbfb)]>0x0||_0x2df549[_0x1a9b3a(0xbfb)]>0x0){const _0xfb59c4=_0x2df549[_0x1a9b3a(0x7b9)](_0x29700b=>_0x29700b['height'])['concat'](_0x5be904[_0x1a9b3a(0x7b9)](_0x4fc9cf=>_0x4fc9cf[_0x1a9b3a(0x2a2)]));await this[_0x1a9b3a(0x941)](_0xc257d4,_0xfb59c4,!0x0);}}async['sendPeakTransactions'](_0xcefec0,_0x3e82e4,_0x13dc89=!0x1){const _0xe65538=_0x227435;_0x1822ee[_0xe65538(0xbf2)](_0xbbb80e[_0xe65538(0x1ff)],_0xe65538(0x9f6),this[_0xe65538(0x40a)]);const _0x3065fd=_0x3e82e4[_0xe65538(0x7b9)](_0x1fee9f=>this[_0xe65538(0x714)][_0xe65538(0x79c)](_0x1fee9f))[_0xe65538(0x276)](Boolean);if(!_0x3065fd['length']||_0x3e82e4['length']!==_0x3065fd[_0xe65538(0xbfb)])throw new _0x82cd08(_0x82cd08['codes'][_0xe65538(0x9ea)],{'message':_0xe65538(0x631),'peakHeights':_0x3e82e4,'peaks':_0x3065fd['map'](_0x119c3d=>_0x119c3d['height']),'nodeId':_0xcefec0});const _0x1130d4=[];for(const _0x1ade7e of _0x3065fd)this['collectTransactionsFromNode'](_0x1ade7e,_0x1130d4);const _0x443183=_0x13dc89?void 0x0:[_0xcefec0],_0xaf790d={'sourceId':this['localNode']['getId'](),'destinationIds':_0x443183,'messageType':_0x37ab1a[_0xe65538(0x42c)],'propagate':!0x0,'content':{'type':_0x593bd0[_0xe65538(0xae0)],'label':this[_0xe65538(0x40a)],'transactions':_0x1130d4}};this[_0xe65538(0x308)][_0xe65538(0x690)](_0xaf790d),this['systemTopic'][_0xe65538(0xb22)](_0xaf790d);}async[_0x227435(0x598)](_0x2fa573,_0x5d5286){const _0x554cf6=_0x227435;_0x1822ee[_0x554cf6(0xbf2)](_0xbbb80e[_0x554cf6(0x1ff)],_0x554cf6(0xadc)+_0x5d5286['length']+_0x554cf6(0x254)+_0x2fa573+_0x554cf6(0x6ac)+this[_0x554cf6(0x40a)]);for(const _0x72e64 of _0x5d5286){const _0x3ae4aa=await this['transactionTable'][_0x554cf6(0x441)](_0x72e64['id']);if(!(_0x3ae4aa&&this[_0x554cf6(0xba2)](_0x3ae4aa,_0x72e64)>=0x0)){if(_0x72e64[_0x554cf6(0x2e2)]===_0x11433a[_0x554cf6(0x770)]){const [_0x5dc68a,_0x2820cd]=_0x72e64['id'][_0x554cf6(0x8ab)]('::'),_0x11d38e=this[_0x554cf6(0xa8d)](_0x5dc68a);await _0x11d38e[_0x554cf6(0x3df)](_0x2820cd);}else this['transactionsToSync'][_0x554cf6(0x91f)](_0x72e64['id']);}}if(_0x1822ee[_0x554cf6(0xbf2)](_0xbbb80e[_0x554cf6(0x1ff)],_0x554cf6(0x6a9)+this['transactionsToSync']['length']+'\x20new\x20transactions',this[_0x554cf6(0x40a)]),this[_0x554cf6(0x428)]['length']>0x0){const _0x5db211={'sourceId':this[_0x554cf6(0xc26)][_0x554cf6(0xc22)](),'destinationIds':[_0x2fa573],'messageType':_0x37ab1a['Content'],'propagate':!0x0,'content':{'type':_0x593bd0[_0x554cf6(0xbe6)],'label':this[_0x554cf6(0x40a)],'transactionIds':this[_0x554cf6(0x428)]}};this[_0x554cf6(0x308)][_0x554cf6(0x690)](_0x5db211),this['systemTopic'][_0x554cf6(0xb22)](_0x5db211);}}[_0x227435(0x278)](){const _0x255483=_0x227435;this[_0x255483(0x23c)]();}[_0x227435(0x9b5)](){const _0x27c549=_0x227435;return _0x2bba8e[_0x27c549(0x97c)][_0x27c549(0x1ff)];}[_0x227435(0xa3c)](){const _0x38a30a=_0x227435;this['db']['close'](),this[_0x38a30a(0x1e0)]?.(),clearTimeout(this['debounceStats']),delete this['debounceStats'],super[_0x38a30a(0xa3c)]();}[_0x227435(0xa42)](){const _0x2c2110=_0x227435;this['clearSyncTimeout'](),this['systemTopic'][_0x2c2110(0xb22)]({'sourceId':_0x48df1c,'messageType':_0x37ab1a['Content'],'content':{'type':_0x593bd0[_0x2c2110(0xc03)],'label':this[_0x2c2110(0x40a)]}});}['getTable'](_0x5961ba){const _0x515681=_0x227435,_0x326278=this['tables'][_0x515681(0x441)](_0x5961ba);if(_0x326278)return _0x326278;try{if(!this['db'][_0x515681(0x5f2)](_0x5961ba))throw new _0x27b95d(_0x398751[_0x515681(0x24e)],_0x515681(0xc1d));const _0x46184f=new _0x55961f(this['db']['getTableConnector'](_0x5961ba),_0x5961ba,this[_0x515681(0xc0c)]);return this[_0x515681(0x235)][_0x515681(0x9b4)](_0x5961ba,_0x46184f),{'get':_0x46184f['get'][_0x515681(0x5ad)](_0x46184f),'set':_0x46184f[_0x515681(0x9b4)][_0x515681(0x5ad)](_0x46184f),'add':_0x46184f[_0x515681(0x9b9)][_0x515681(0x5ad)](_0x46184f),'delete':_0x46184f[_0x515681(0x3df)][_0x515681(0x5ad)](_0x46184f),'clear':_0x46184f['clear'][_0x515681(0x5ad)](_0x46184f),'list':_0x46184f['list'][_0x515681(0x5ad)](_0x46184f),'count':_0x46184f[_0x515681(0x867)][_0x515681(0x5ad)](_0x46184f),'subscribe':_0x46184f[_0x515681(0x214)][_0x515681(0x5ad)](_0x46184f),'unsubscribe':_0x46184f[_0x515681(0x46f)][_0x515681(0x5ad)](_0x46184f)};}catch(_0x32c54c){if(_0x32c54c instanceof _0x27b95d)throw _0x32c54c;throw new _0x27b95d(_0x398751[_0x515681(0x7a7)],_0x515681(0x288));}}[_0x227435(0x214)](_0x4b5a98){const _0x26d920=_0x227435;this['listenerUnsubscriber']=this[_0x26d920(0x877)]['subscribe'](_0x4b5a98),this[_0x26d920(0x4b9)](this['isSync'])['then'](_0x4e0269=>{const _0x5f9d19=_0x26d920;_0x4e0269&&this[_0x5f9d19(0x877)][_0x5f9d19(0xb22)]({'event':_0x2bba8e[_0x5f9d19(0x6a5)][_0x5f9d19(0x9f3)]});});}[_0x227435(0x46f)](){const _0x3420ee=_0x227435;this[_0x3420ee(0x4cc)]?.(),this[_0x3420ee(0x4cc)]=void 0x0;}async[_0x227435(0xbd2)](){const _0x497e35=_0x227435;_0x4c5dc6(_0xbbb80e[_0x497e35(0x1ff)],_0x497e35(0x865));const _0x210819=[_0x279fe4,_0x28b25c],_0x1c6667=[];try{await this['db'][_0x497e35(0xbd2)]();const _0x339e3a=this['db'][_0x497e35(0xb2c)](_0x28b25c),_0x1c19a6=await _0x339e3a[_0x497e35(0x5cb)](),{id:_0x28e4eb,layout:_0x584e7d}=_0x1c19a6[0x0]??{};if(_0x584e7d){for(const _0x5387a4 in _0x584e7d)_0x210819[_0x497e35(0x771)](_0x5387a4)||this['db'][_0x497e35(0x5f2)](_0x5387a4)||_0x1c6667[_0x497e35(0x91f)](_0x5387a4);await _0x339e3a[_0x497e35(0x9b4)](_0x28e4eb,{'layout':this[_0x497e35(0xbbf)]});}else await _0x339e3a['add']({'layout':this[_0x497e35(0xbbf)]});}catch(_0x29dd1e){throw new _0x27b95d(_0x398751['KeyValueDatabaseNotOpen'],_0x29dd1e[_0x497e35(0x325)]||_0x497e35(0x8c6));}this[_0x497e35(0x63d)](),await this['buildInitialMMR'](),this[_0x497e35(0x646)](),this[_0x497e35(0x9d2)](),_0x1c6667[_0x497e35(0x3e7)](_0x211e32=>this[_0x497e35(0x977)](_0x211e32));}async['sync'](_0x5165e0,_0x371929=()=>{},_0x4150d5=!0x1){const _0x3cc880=_0x227435;if(!_0x5165e0)return setTimeout(()=>{const _0x3233bd=a0_0x5d01;this[_0x3233bd(0xc50)](),this['publishSyncCompleted']();},0x0),!0x0;if(this[_0x3cc880(0x339)]=!0x1,this['timeoutCallback']=_0x371929,this[_0x3cc880(0x28d)]=setTimeout(_0x371929,0x7d0),!this['systemTopic'])throw new _0x82cd08(_0x82cd08['codes'][_0x3cc880(0x24f)]);const _0x55965d=await this[_0x3cc880(0x714)][_0x3cc880(0x924)](),_0x211aa9={'sourceId':this[_0x3cc880(0xc26)]['getId'](),'messageType':_0x37ab1a[_0x3cc880(0x42c)],'propagate':_0x4150d5,'content':{'type':_0x593bd0[_0x3cc880(0xa39)],'label':this['label'],'mmrRoot':_0x55965d}};return this[_0x3cc880(0x308)]['logDataSent'](_0x211aa9),this[_0x3cc880(0x45d)]['publish'](_0x211aa9),this['isSync'];}async[_0x227435(0x3e4)](_0x40f6d2,_0x1bc5e1){const _0x242201=_0x227435;if(_0x1822ee[_0x242201(0xbf2)](_0xbbb80e[_0x242201(0x1ff)],'Received\x20request\x20for\x20transactions\x20value.\x20Sending\x20'+_0x1bc5e1['length'],this[_0x242201(0x40a)]),!this[_0x242201(0x435)])throw new _0x82cd08(_0x82cd08[_0x242201(0xab8)][_0x242201(0x939)]);for(const _0x5686a6 of _0x1bc5e1){const _0x2b3ee7=await this[_0x242201(0x435)][_0x242201(0x441)](_0x5686a6);if(!_0x2b3ee7)continue;const [_0x42d92f,_0x95fb57]=_0x5686a6[_0x242201(0x8ab)]('::'),_0x124fe8=this[_0x242201(0xa8d)](_0x42d92f),_0x454f84=await _0x124fe8['get'](_0x95fb57);_0x454f84?(_0x2b3ee7[_0x242201(0x737)]=_0x454f84,this[_0x242201(0x8d0)](_0x2b3ee7,[_0x40f6d2])):_0x1822ee[_0x242201(0x51e)](_0x242201(0x4fd),{'nodeId':this[_0x242201(0xc26)][_0x242201(0xc22)](),'nodeType':this[_0x242201(0xc26)][_0x242201(0x649)],'remoteId':_0x40f6d2,'data':{'tableKeys':Object[_0x242201(0x8d8)](this['tables']),'transactionId':_0x5686a6,'transactions':this[_0x242201(0x428)],'tableName':_0x42d92f,'key':_0x95fb57}});}}async[_0x227435(0xa99)](_0x1d5304){const _0x49a40a=_0x227435;if(!this['transactionTable'])throw new _0x82cd08(_0x82cd08[_0x49a40a(0xab8)][_0x49a40a(0x939)]);const _0x449c24=await this[_0x49a40a(0x714)][_0x49a40a(0x5aa)](_0x1d5304),_0x1f14ba=this[_0x49a40a(0x252)][_0x49a40a(0x441)](_0x449c24);if(_0x1f14ba&&this['compareTransactions'](_0x1d5304,_0x1f14ba)<=0x0)return void _0x1822ee[_0x49a40a(0xbf2)](_0xbbb80e[_0x49a40a(0x1ff)],_0x49a40a(0x1e4),_0x1d5304);const _0x5bfddc={..._0x1d5304};return delete _0x5bfddc['value'],this['debounceRebuildMMRWithTransaction'](_0x5bfddc),await this[_0x49a40a(0x435)][_0x49a40a(0x9b4)](_0x1d5304['id'],_0x5bfddc),_0x1d5304;}['compareTransactions'](_0x4904cc,_0x4855f1){const _0x1669ca=_0x227435;return _0x4904cc[_0x1669ca(0x908)]!==_0x4855f1[_0x1669ca(0x908)]?_0x4904cc[_0x1669ca(0x908)]-_0x4855f1[_0x1669ca(0x908)]:_0x4904cc[_0x1669ca(0x483)]-_0x4855f1[_0x1669ca(0x483)];}async[_0x227435(0xb9e)](_0x1f8f52){const _0x403306=_0x227435;if(!this[_0x403306(0x435)])throw new _0x82cd08(_0x82cd08['codes'][_0x403306(0x939)]);const _0x5bc482=_0x1f8f52[_0x403306(0x868)]+'::'+_0x1f8f52['key'],_0x5874a0=await _0x35b99b['getEstimatedTimestamp'](),_0x359993={'id':_0x5bc482,'priority':Math[_0x403306(0x7c6)](),'timestamp':_0x5874a0,'action':_0x1f8f52['action']};if(await this['writeTransaction'](_0x359993))return _0x359993;}async['deleteTransactionsForTable'](_0x16747f){const _0xd44b45=_0x227435;if(!this[_0xd44b45(0x435)])throw new _0x82cd08(_0x82cd08['codes'][_0xd44b45(0x939)]);const _0x325138=_0x3e3930[_0xd44b45(0x899)]('id')[_0xd44b45(0x7bc)](_0xd44b45(0x522),[_0x16747f+'::',_0x16747f+_0xd44b45(0x315)]),_0x2d849a=await this[_0xd44b45(0x435)]['list'](_0x325138['getQuery']());for(const _0x2d0894 of _0x2d849a)await this[_0xd44b45(0x435)]['delete'](_0x2d0894['id']);}[_0x227435(0x646)](){const _0x4c9bf8=_0x227435;this[_0x4c9bf8(0x20d)](async(_0x35e0c7,_0x49c627)=>{const _0x449128=_0x4c9bf8;if(_0x49c627 instanceof File)return;if(this['loggingCycle'][_0x449128(0x9af)](_0x49c627),!await this[_0x449128(0xa99)](_0x49c627))return void this[_0x449128(0x9c0)](_0x35e0c7,_0x49c627);if(!_0x49c627[_0x449128(0x737)])throw new _0x82cd08(_0x82cd08[_0x449128(0xab8)][_0x449128(0x9a4)]);const [_0x154beb,_0xa4cfab]=_0x49c627['id']['split']('::'),_0x1ceb7f=this['getTable'](_0x154beb);if(!_0x1ceb7f)throw new _0x82cd08(_0x82cd08['codes'][_0x449128(0x34f)],{'table':_0x1ceb7f});let _0x321d9b=0x0;switch(_0x49c627[_0x449128(0x2e2)]){case _0x11433a['Add']:case _0x11433a[_0x449128(0x34c)]:{const _0x459523=_0x1ceb7f[_0x449128(0x9b4)](_0xa4cfab,_0x49c627[_0x449128(0x737)],!0x1);_0x321d9b=JSON['stringify'](_0x49c627[_0x449128(0x737)])[_0x449128(0xbfb)],this[_0x449128(0x428)][_0x449128(0x771)](_0x49c627['id'])&&this['syncTransactionsWritten'][_0x449128(0x91f)](_0x459523);break;}case _0x11433a[_0x449128(0x770)]:{const _0x44b230=_0x1ceb7f[_0x449128(0x3df)](_0xa4cfab,!0x1);this[_0x449128(0x428)]['includes'](_0x49c627['id'])&&this['syncTransactionsWritten'][_0x449128(0x91f)](_0x44b230);break;}}_0x1822ee[_0x449128(0x8c4)](_0x26d5b9['KeyValueDatabase'],{'type':_0x449128(0xa23),'label':this[_0x449128(0x40a)],'nodeId':this[_0x449128(0xc26)]['getId'](),'nodeType':this[_0x449128(0xc26)]['type'],'clusterId':this['clusterId'],'tableName':_0x154beb,'key':_0xa4cfab,'size':_0x321d9b}),this[_0x449128(0x9c0)](_0x35e0c7,_0x49c627);});}[_0x227435(0x9d2)](){const _0x35304a=_0x227435;this[_0x35304a(0x1e0)]=this['tableObserver'][_0x35304a(0x214)](async _0x334dd7=>{const _0x2e7128=_0x35304a;let _0x268536=0x0;switch(_0x334dd7[_0x2e7128(0x2e2)]){case _0x11433a['Add']:case _0x11433a[_0x2e7128(0x34c)]:case _0x11433a[_0x2e7128(0x770)]:{const _0x5eb5eb=await this[_0x2e7128(0xb9e)](_0x334dd7);if(!_0x5eb5eb)return;_0x5eb5eb[_0x2e7128(0x737)]=_0x334dd7[_0x2e7128(0x737)],this[_0x2e7128(0x8d0)](_0x5eb5eb),_0x268536=JSON[_0x2e7128(0x5dd)](_0x334dd7['value'])['length'],this[_0x2e7128(0xb63)]+=0x1;break;}case _0x46aa89[_0x2e7128(0x31d)]:case _0x46aa89[_0x2e7128(0x731)]:case _0x46aa89[_0x2e7128(0x509)]:this[_0x2e7128(0x352)]+=0x1;}_0x1822ee['logServiceEvent'](_0x26d5b9[_0x2e7128(0x1ff)],{'type':_0x334dd7[_0x2e7128(0x2e2)],'label':this[_0x2e7128(0x40a)],'nodeId':this['localNode'][_0x2e7128(0xc22)](),'nodeType':this[_0x2e7128(0xc26)][_0x2e7128(0x649)],'clusterId':this[_0x2e7128(0x7f8)],'tableName':_0x334dd7[_0x2e7128(0x868)],'key':_0x334dd7['key'],'size':_0x268536}),this[_0x2e7128(0x23c)]();});}[_0x227435(0x63d)](){const _0x354b60=_0x227435;this['db']&&(this[_0x354b60(0x435)]||(this['transactionTable']=this['db']['getTableConnector'](_0x279fe4)));}[_0x227435(0xc50)](){const _0x17aee1=_0x227435;this['syncTimeout']&&(clearTimeout(this[_0x17aee1(0x28d)]),delete this[_0x17aee1(0x28d)]);}async[_0x227435(0x70d)](){const _0x1b3776=_0x227435;await this['mmr']['ready'],this[_0x1b3776(0x85c)](),this[_0x1b3776(0x877)][_0x1b3776(0xb22)]({'event':_0x2bba8e[_0x1b3776(0x6a5)]['SyncComplete']}),this['syncResolve']?.(!0x0),delete this[_0x1b3776(0x7fc)],this['sendStats'](),_0x1822ee[_0x1b3776(0xbf2)](_0xbbb80e[_0x1b3776(0x1ff)],_0x1b3776(0xa0e),this['label']);}async['publishSyncCompletedAfterWrites'](_0x1e0e65){const _0x38c945=_0x227435;await Promise[_0x38c945(0x9cd)](this[_0x38c945(0x9c2)]),_0x1822ee[_0x38c945(0xbf2)](_0xbbb80e[_0x38c945(0x1ff)],_0x38c945(0x287)+this[_0x38c945(0x9c2)]['length']+_0x38c945(0x8de)+_0x1e0e65+_0x38c945(0x9f9),this[_0x38c945(0x40a)]),await this[_0x38c945(0x714)][_0x38c945(0x73b)],await this[_0x38c945(0x90b)](_0x1e0e65),await this[_0x38c945(0x70d)]();}['checkSyncComplete'](_0x508c2a,_0x35112b){const _0x29ac83=_0x227435;this[_0x29ac83(0x428)][_0x29ac83(0x771)](_0x35112b['id'])&&(this[_0x29ac83(0xc50)](),this[_0x29ac83(0x428)]=this['transactionsToSync'][_0x29ac83(0x276)](_0x3a687c=>_0x3a687c!==_0x35112b['id']),0x0!==this[_0x29ac83(0x428)][_0x29ac83(0xbfb)]?this[_0x29ac83(0x28d)]=setTimeout(this[_0x29ac83(0x319)],0x7d0):this[_0x29ac83(0x837)](_0x508c2a));}[_0x227435(0x23c)](){const _0x15e5f3=_0x227435;this[_0x15e5f3(0xb57)]&&clearTimeout(this[_0x15e5f3(0xb57)]),this[_0x15e5f3(0xb57)]=setTimeout(async()=>{const _0x450e0c=_0x15e5f3;delete this[_0x450e0c(0xb57)];let _0x97fbe=0x0;for(const _0x1da530 of this[_0x450e0c(0x235)]['values']())_0x97fbe+=await _0x1da530[_0x450e0c(0x8e6)]();this['systemTopic'][_0x450e0c(0xb22)]({'sourceId':_0x48df1c,'messageType':_0x37ab1a[_0x450e0c(0x42c)],'content':{'type':_0x593bd0[_0x450e0c(0x4f5)],'label':this[_0x450e0c(0x40a)],'stats':{'timestamp':Date[_0x450e0c(0xb26)](),'storage':_0x97fbe,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x450e0c(0x64f)],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x450e0c(0x485)],'writes':this['writes'],'reads':this[_0x450e0c(0x352)],'prompts':0x0,'tokens':0x0}}}),_0x1822ee[_0x450e0c(0x33c)](_0x26d5b9['KeyValueDatabase'],_0x450e0c(0x34d)+this['clusterId']+_0x450e0c(0x34d)+this[_0x450e0c(0x40a)],_0x97fbe);},_0x384e78);}[_0x227435(0x60f)](_0xf254d4){const _0x4a366e=_0x227435;if(_0xf254d4['tables'][_0x279fe4])throw new _0x27b95d(_0x398751['KeyValueDatabaseTableNameReserved'],_0x4a366e(0xa98)+_0x279fe4+'\x27\x20reserved');if(_0xf254d4[_0x4a366e(0x235)][_0x28b25c])throw new _0x27b95d(_0x398751[_0x4a366e(0xacb)],_0x4a366e(0xa98)+_0x28b25c+_0x4a366e(0x8b6));_0xf254d4['tables'][_0x279fe4]={'indexes':[]},_0xf254d4[_0x4a366e(0x235)][_0x28b25c]={'indexes':[]};}async[_0x227435(0x4b9)](_0x5d69e7){const _0x2e078e=_0x227435;return Promise[_0x2e078e(0x337)]([_0x5d69e7,Promise[_0x2e078e(0x4dc)](_0x2e078e(0x57c))])['then'](_0x4398fb=>_0x2e078e(0x57c)!==_0x4398fb);}async['confirmSynchronization'](_0x27f549){const _0x4c0df8=_0x227435;await this['processTransactionsToComputeMMR']();const _0x100c9c=await this['mmr'][_0x4c0df8(0x924)](),_0x3de04a={'sourceId':this['localNode'][_0x4c0df8(0xc22)](),'destinationIds':[_0x27f549],'propagate':!0x0,'messageType':_0x37ab1a[_0x4c0df8(0x42c)],'content':{'type':_0x593bd0[_0x4c0df8(0x558)],'label':this[_0x4c0df8(0x40a)],'mmrRoot':_0x100c9c}};this[_0x4c0df8(0x45d)][_0x4c0df8(0xb22)](_0x3de04a);}async[_0x227435(0x589)](){const _0x5749e9=_0x227435;if(!this[_0x5749e9(0x435)])throw new _0x82cd08(_0x82cd08['codes'][_0x5749e9(0x939)]);this[_0x5749e9(0x960)]=await this[_0x5749e9(0x435)]['list'](),this[_0x5749e9(0x960)][_0x5749e9(0xbd7)](this[_0x5749e9(0xba2)]),this[_0x5749e9(0x714)]=new _0x2f2a79(),this[_0x5749e9(0x252)]=new Map();for(const _0x1c7f2d of this[_0x5749e9(0x960)])this[_0x5749e9(0x1d8)](_0x1c7f2d,this[_0x5749e9(0x960)][_0x5749e9(0xbfb)]);this[_0x5749e9(0x844)]();}async[_0x227435(0x1d8)](_0xac45e5,_0x15680f){const _0x5ea6d0=_0x227435,_0x45ad1a={..._0xac45e5};delete _0x45ad1a[_0x5ea6d0(0x737)],await this['mmr'][_0x5ea6d0(0x3ea)](_0x45ad1a,_0x15680f);const _0x23b186=await this[_0x5ea6d0(0x714)]['hashTransaction'](_0x45ad1a);this[_0x5ea6d0(0x252)]['set'](_0x23b186,_0xac45e5);}[_0x227435(0x379)](_0x1d12c5){const _0x3214ba=_0x227435;return this['transactionHashMap'][_0x3214ba(0x441)](_0x1d12c5);}[_0x227435(0x4eb)](_0x2c592f,_0x5d48ce){const _0x53ce6b=_0x227435;if(0x0!==_0x2c592f[_0x53ce6b(0x2a2)])_0x2c592f[_0x53ce6b(0x9de)]&&this['collectTransactionsFromNode'](_0x2c592f[_0x53ce6b(0x9de)],_0x5d48ce),_0x2c592f[_0x53ce6b(0x8e8)]&&this[_0x53ce6b(0x4eb)](_0x2c592f['right'],_0x5d48ce);else{const _0x3d1c47=this[_0x53ce6b(0x379)](_0x2c592f['hash']);_0x3d1c47&&_0x5d48ce['push'](_0x3d1c47);}}async[_0x227435(0x331)](){const _0x5ad795=_0x227435;this[_0x5ad795(0x4c3)]&&(clearTimeout(this[_0x5ad795(0x4c3)]),delete this[_0x5ad795(0x4c3)],this[_0x5ad795(0x3f7)][_0x5ad795(0xbfb)]>0x0&&(this[_0x5ad795(0x960)][_0x5ad795(0x91f)](...this[_0x5ad795(0x3f7)]['sort'](this[_0x5ad795(0xba2)])),this[_0x5ad795(0x3f7)]=[]));const _0x4c5e29=this['startLoggingCycle']();this[_0x5ad795(0x714)]=new _0x2f2a79(),this[_0x5ad795(0x252)][_0x5ad795(0x42a)](),this[_0x5ad795(0x960)]['sort'](this[_0x5ad795(0xba2)]);for(const _0x3fd27b of this[_0x5ad795(0x960)])this[_0x5ad795(0x1d8)](_0x3fd27b,this['transactions'][_0x5ad795(0xbfb)]);await this[_0x5ad795(0x714)][_0x5ad795(0x73b)],this[_0x5ad795(0x4b8)](_0x4c5e29);}[_0x227435(0x7a2)](){const _0x4fb209=_0x227435;return this[_0x4fb209(0x308)][_0x4fb209(0x933)][_0x4fb209(0x440)](async()=>{const _0x5f153f=_0x4fb209,_0x21e69a=await this['mmr'][_0x5f153f(0x924)]();return{'startTime':Date[_0x5f153f(0xb26)](),'initialRoot':_0x21e69a};},Promise[_0x4fb209(0x4dc)]({'startTime':0x0,'initialRoot':''}));}async['logMMRRebuild'](_0x7f6773){const _0x211b6b=_0x227435;try{const {startTime:_0x3107d5,initialRoot:_0x8bcfe1}=await _0x7f6773,_0x446b26=await this['mmr'][_0x211b6b(0x924)](),_0x5d34fc=[_0x211b6b(0x687)+(_0x8bcfe1!==_0x446b26),_0x211b6b(0xc60)+_0x8bcfe1,'\x0a\x20\x20===\x20New\x20MMR\x20Root:\x20'+_0x446b26,_0x211b6b(0x96f)+this[_0x211b6b(0x714)]['getTotalNodes'](),_0x211b6b(0x451)+(Date[_0x211b6b(0xb26)]()-_0x3107d5)+'\x20ms\x0a'][_0x211b6b(0x2b2)]('\x20');this[_0x211b6b(0x308)][_0x211b6b(0x933)][_0x211b6b(0xbf2)]('',()=>_0x5d34fc);}catch(_0x47ee2c){console['error'](_0x211b6b(0xa06),_0x47ee2c);}}[_0x227435(0x6e3)](_0x4b09e6){const _0x1b0f9e=_0x227435;this[_0x1b0f9e(0x3f7)][_0x1b0f9e(0x91f)](_0x4b09e6),this[_0x1b0f9e(0x4c3)]&&(clearTimeout(this[_0x1b0f9e(0x4c3)]),delete this['debounceRebuildMMR']),this['debounceRebuildMMR']=setTimeout(()=>{const _0x4c2a01=_0x1b0f9e;this[_0x4c2a01(0xa09)]();},0x3e8);}async[_0x227435(0xa09)](){const _0x2aef60=_0x227435;if(this[_0x2aef60(0x4c3)]&&(clearTimeout(this['debounceRebuildMMR']),delete this['debounceRebuildMMR']),0x0!==this[_0x2aef60(0x3f7)][_0x2aef60(0xbfb)]){if(0x0===this['transactions'][_0x2aef60(0xbfb)])return this[_0x2aef60(0x960)]=this[_0x2aef60(0x3f7)],this['transactionsToAppend']=[],await this['rebuildMMR']();if(this[_0x2aef60(0x3f7)][_0x2aef60(0xbd7)](this[_0x2aef60(0xba2)]),this[_0x2aef60(0xba2)](this['transactionsToAppend'][0x0],this['transactions'][this['transactions'][_0x2aef60(0xbfb)]-0x1])>0x0){this[_0x2aef60(0x308)][_0x2aef60(0x933)][_0x2aef60(0xbf2)](_0x2aef60(0x201)+this[_0x2aef60(0x3f7)][_0x2aef60(0xbfb)]+',\x20Transactions:\x20'+this[_0x2aef60(0x960)][_0x2aef60(0xbfb)]);for(const _0x56f9b7 of this[_0x2aef60(0x3f7)])this[_0x2aef60(0x960)]['push'](_0x56f9b7),this[_0x2aef60(0x1d8)](_0x56f9b7,this['transactionsToAppend'][_0x2aef60(0xbfb)]);return this[_0x2aef60(0x3f7)]=[],void this[_0x2aef60(0x308)][_0x2aef60(0x933)][_0x2aef60(0xbf2)](_0x2aef60(0x37d),async()=>_0x2aef60(0xb69)+await this[_0x2aef60(0x714)][_0x2aef60(0x924)]()+_0x2aef60(0x5f0)+this[_0x2aef60(0x714)][_0x2aef60(0x1ea)]());}this[_0x2aef60(0x308)][_0x2aef60(0x933)][_0x2aef60(0xbf2)]('processTransactionsToComputeMMR\x20-\x20Requires\x20a\x20rebuild.\x20Append:\x20'+this[_0x2aef60(0x3f7)][_0x2aef60(0xbfb)]+_0x2aef60(0x5b5)+this[_0x2aef60(0x960)][_0x2aef60(0xbfb)]),this[_0x2aef60(0x960)][_0x2aef60(0x91f)](...this[_0x2aef60(0x3f7)]),this[_0x2aef60(0x3f7)]=[],this[_0x2aef60(0x331)]();}}async[_0x227435(0x85c)](){const _0x495319=_0x227435;if(!_0x1822ee[_0x495319(0x3e1)](_0xbbb80e[_0x495319(0x1ff)]))return;await this[_0x495319(0x714)][_0x495319(0x73b)];const {dataSent:_0x1a77ab,dataReceived:_0x79aac3}=this[_0x495319(0x308)][_0x495319(0x890)]();_0x1822ee[_0x495319(0xbf2)](_0xbbb80e[_0x495319(0x1ff)],_0x495319(0x7de),this['label'],_0x495319(0x1e5)+_0x1a77ab,'\x0a\x20===\x20Total\x20Data\x20Received:\x20'+_0x79aac3,_0x495319(0xbac),await this[_0x495319(0x714)]['getRoot'](),_0x495319(0xa8c),this[_0x495319(0x714)][_0x495319(0x1ea)]());}async['logInitialMMR'](){const _0x103d3c=_0x227435;if(!_0x1822ee[_0x103d3c(0x3e1)](_0xbbb80e[_0x103d3c(0x1ff)]))return;const _0x72a0df=this[_0x103d3c(0x714)][_0x103d3c(0x9a8)](),_0x11bb3c=_0x72a0df[_0x103d3c(0x7b9)](_0x168963=>_0x168963['height']),_0xadafb2=await this[_0x103d3c(0x714)][_0x103d3c(0x924)]();_0x1822ee['log'](_0xbbb80e['KeyValueDatabase'],'Initial\x20MMR\x20built\x20with',this['transactions'][_0x103d3c(0xbfb)],'transactions',this[_0x103d3c(0x714)]['getTotalNodes'](),'totalNodes',_0x72a0df['length'],_0x103d3c(0xa8e),_0x11bb3c,_0x103d3c(0x79e),_0xadafb2);}}const _0x1047a5=require('@crewdle/mist-connector-opfs'),_0xff58c9=require('@crewdle/mist-connector-indexed-db'),_0x41daea=require('@crewdle/mist-connector-webrtc-browser'),_0x499a89=0x10000000;var _0x51065f,_0xc29e61,_0x3e0203,_0x543fde,_0x3cca48,_0x4026a7,_0x47b7f8,_0xf24b0b,_0x1d4d09;!function(_0x1027db){const _0x1cc7e1=_0x227435;_0x1027db['AudioContext']=_0x1cc7e1(0x211),_0x1027db['AudioOutput']=_0x1cc7e1(0xaf0),_0x1027db[_0x1cc7e1(0xc18)]=_0x1cc7e1(0xc18),_0x1027db[_0x1cc7e1(0x8cc)]=_0x1cc7e1(0x8cc),_0x1027db['DeviceConfig']=_0x1cc7e1(0x864),_0x1027db[_0x1cc7e1(0x78a)]=_0x1cc7e1(0x78a),_0x1027db[_0x1cc7e1(0x82b)]='Recording',_0x1027db[_0x1cc7e1(0x617)]='ScreenSharing',_0x1027db[_0x1cc7e1(0x9bb)]=_0x1cc7e1(0x9bb),_0x1027db[_0x1cc7e1(0x77d)]=_0x1cc7e1(0x77d);}(_0x51065f||(_0x51065f={}));class _0x3ea1e5{[_0x227435(0x247)];[_0x227435(0x35b)];['eventTarget'];constructor(_0x71052=new Map(),_0x5352d2=new Map(),_0x5bdace=new EventTarget()){const _0x610189=_0x227435;this[_0x610189(0x247)]=_0x71052,this[_0x610189(0x35b)]=_0x5352d2,this[_0x610189(0x7c9)]=_0x5bdace;}[_0x227435(0x99b)]=(_0x20206b,_0x1aff2a)=>this['registeredListeners'][_0x227435(0xac9)](_0x20206b)?(_0x1822ee[_0x227435(0xbf2)](_0xbbb80e['Events'],_0x227435(0x54f),{'event':_0x20206b,'data':_0x1aff2a}),this[_0x227435(0x7c9)][_0x227435(0x7c1)](new CustomEvent(_0x20206b,{'detail':_0x1aff2a})),!0x0):(this['bufferEvent'](_0x20206b,_0x1aff2a),!0x1);['on']=(_0x556816,_0x2e862e)=>{const _0x3a2e13=_0x227435,_0x39cd71=_0x443129=>{const _0x27b93b=a0_0x5d01;_0x1822ee[_0x27b93b(0xbf2)](_0xbbb80e[_0x27b93b(0xb3b)],_0x27b93b(0x44f),_0x443129[_0x27b93b(0x649)],_0x443129[_0x27b93b(0x72c)]),_0x2e862e(_0x443129[_0x27b93b(0x72c)]);};return this[_0x3a2e13(0x247)][_0x3a2e13(0x9b4)](_0x556816,_0x39cd71),this[_0x3a2e13(0x7c9)][_0x3a2e13(0xbee)](_0x556816,_0x39cd71),_0x1822ee['log'](_0xbbb80e[_0x3a2e13(0x882)],'Subscribing\x20to\x20an\x20event:\x20on',_0x556816,_0x2e862e),this[_0x3a2e13(0xa7d)](_0x556816),this;};[_0x227435(0x85b)](_0x1da04b){const _0x5dfd70=_0x227435;if(!_0x1da04b)return this[_0x5dfd70(0x247)]['forEach']((_0x26e28f,_0x172778)=>{const _0x167959=_0x5dfd70;this[_0x167959(0x7c9)]['removeEventListener'](_0x172778,_0x26e28f);}),void this[_0x5dfd70(0x247)][_0x5dfd70(0x42a)]();_0x5dfd70(0x984)==typeof _0x1da04b&&this[_0x5dfd70(0x97b)](_0x1da04b),Array['isArray'](_0x1da04b)&&_0x1da04b['forEach'](_0x2024a8=>{const _0x29c489=_0x5dfd70;this[_0x29c489(0x97b)](_0x2024a8);});}['removeListener'](_0x1de839){const _0x3515bc=_0x227435,_0x29ffb5=this[_0x3515bc(0x247)]['get'](_0x1de839);_0x29ffb5&&(this[_0x3515bc(0x7c9)]['removeEventListener'](_0x1de839,_0x29ffb5),this[_0x3515bc(0x247)][_0x3515bc(0x3df)](_0x1de839));}[_0x227435(0x4e1)](_0x2e39ae,_0x24e0c2){const _0x19f353=_0x227435;_0x1822ee[_0x19f353(0xbf2)](_0xbbb80e[_0x19f353(0xb3b)],_0x19f353(0x422),{'event':_0x2e39ae,'data':_0x24e0c2});const _0xb8fe0f=this['bufferedEvents'][_0x19f353(0x441)](_0x2e39ae)||[];this[_0x19f353(0x35b)]['set'](_0x2e39ae,[..._0xb8fe0f,_0x24e0c2]);}[_0x227435(0xa7d)](_0x1b5c65){const _0x36bd7f=_0x227435,_0x549ffd=this[_0x36bd7f(0x35b)][_0x36bd7f(0x441)](_0x1b5c65);_0x549ffd&&(_0x549ffd[_0x36bd7f(0x3e7)](_0x1d158=>{const _0x569269=_0x36bd7f;_0x1822ee[_0x569269(0xbf2)](_0xbbb80e['Events'],_0x569269(0x736),{'event':_0x1b5c65,'data':_0x1d158}),this[_0x569269(0x7c9)][_0x569269(0x7c1)](new CustomEvent(_0x1b5c65,{'detail':_0x1d158}));}),this['bufferedEvents']['delete'](_0x1b5c65));}}class _0x242caf extends Error{constructor(_0xbf0243){const _0x3746ef=_0x227435;super(_0x3746ef(0x5ff)+_0xbf0243);}}!function(_0x41da02){const _0x2a5100=_0x227435;_0x41da02[_0x41da02[_0x2a5100(0x732)]=0x0]=_0x2a5100(0x732),_0x41da02[_0x41da02[_0x2a5100(0x785)]=0x1]=_0x2a5100(0x785);}(_0xc29e61||(_0xc29e61={})),function(_0x2d2a3e){const _0x67eaf=_0x227435;_0x2d2a3e[_0x2d2a3e[_0x67eaf(0x3ed)]=0x0]=_0x67eaf(0x3ed),_0x2d2a3e[_0x2d2a3e[_0x67eaf(0x90a)]=0x1]=_0x67eaf(0x90a),_0x2d2a3e[_0x2d2a3e[_0x67eaf(0x8f8)]=0x2]=_0x67eaf(0x8f8),_0x2d2a3e[_0x2d2a3e[_0x67eaf(0x284)]=0x3]=_0x67eaf(0x284),_0x2d2a3e[_0x2d2a3e[_0x67eaf(0x4c5)]=0x4]=_0x67eaf(0x4c5),_0x2d2a3e[_0x2d2a3e[_0x67eaf(0x9c3)]=0x5]='Restart',_0x2d2a3e[_0x2d2a3e[_0x67eaf(0x742)]=0x6]=_0x67eaf(0x742),_0x2d2a3e[_0x2d2a3e[_0x67eaf(0xabd)]=0x7]=_0x67eaf(0xabd),_0x2d2a3e[_0x2d2a3e[_0x67eaf(0xa62)]=0x8]=_0x67eaf(0xa62);}(_0x3e0203||(_0x3e0203={})),function(_0x8067f6){const _0x36f4ab=_0x227435;_0x8067f6[_0x8067f6[_0x36f4ab(0x77b)]=0x0]='Sender',_0x8067f6[_0x8067f6[_0x36f4ab(0x32e)]=0x1]=_0x36f4ab(0x32e);}(_0x543fde||(_0x543fde={})),function(_0x39ee98){const _0xeb8ca8=_0x227435;_0x39ee98[_0xeb8ca8(0x78a)]=_0xeb8ca8(0xbb5);}(_0x3cca48||(_0x3cca48={})),function(_0x28f2a8){const _0xfada3f=_0x227435;_0x28f2a8[_0x28f2a8[_0xfada3f(0x6aa)]=0x0]=_0xfada3f(0x6aa),_0x28f2a8[_0x28f2a8['NodeUpdate']=0x1]=_0xfada3f(0x3de),_0x28f2a8[_0x28f2a8[_0xfada3f(0x9b8)]=0x2]='NodeConnectionsUpdate',_0x28f2a8[_0x28f2a8[_0xfada3f(0x728)]=0x3]=_0xfada3f(0x728);}(_0x4026a7||(_0x4026a7={})),function(_0x10af56){const _0x13a307=_0x227435;_0x10af56[_0x10af56[_0x13a307(0x8b0)]=0x0]=_0x13a307(0x8b0),_0x10af56[_0x10af56[_0x13a307(0xc52)]=0x1]=_0x13a307(0xc52);}(_0x47b7f8||(_0x47b7f8={})),function(_0x558bff){const _0xb9bcd3=_0x227435;_0x558bff[_0xb9bcd3(0xa82)]=_0xb9bcd3(0x974),_0x558bff['Downgrade']=_0xb9bcd3(0x872);}(_0xf24b0b||(_0xf24b0b={})),function(_0x3584f7){const _0x531adf=_0x227435;_0x3584f7[_0x531adf(0xb2f)]=_0x531adf(0x546),_0x3584f7[_0x531adf(0x875)]=_0x531adf(0x46a);}(_0x1d4d09||(_0x1d4d09={}));const _0x109986=require('aws-amplify'),_0x418282=require('aws-amplify/utils'),_0x4e535e=require('@aws-amplify/api'),_0x2de6c9=require('@aws-amplify/core');class _0x36fb56{[_0x227435(0x7f8)];[_0x227435(0xc26)];[_0x227435(0x963)];constructor(_0x3070cb,_0x39e2d4,_0x3ee21c){const _0x1eab82=_0x227435;this[_0x1eab82(0x7f8)]=_0x3070cb,this['localNode']=_0x39e2d4,this['remoteId']=_0x3ee21c;}[_0x227435(0x650)](){const _0x202d52=_0x227435;return this['localNode'][_0x202d52(0xc22)]();}['getRemoteId'](){const _0xd360b4=_0x227435;return this[_0xd360b4(0x963)];}}var _0x45f41a,_0x217b14,_0x1321bb;function _0x1171eb(_0x3466b9,_0x393151){const _0x5a34b9=_0x227435;return _0x3466b9[_0x5a34b9(0xab9)]===_0x393151;}function _0x31db37(_0x181929,_0x27ccd9){const _0xe1464b=_0x227435;return _0x181929[_0xe1464b(0x1e6)]?.['includes'](_0x27ccd9)??function(_0x1cf12a){return void 0x0===_0x1cf12a['destinationIds'];}(_0x181929);}function _0x44fbb8(_0x11e478,{contentType:_0x140f35,label:_0x4b2270,remoteId:_0x3ac556}){return _0x11e478+'-'+_0x140f35+'-'+_0x4b2270+'-'+_0x3ac556;}function _0x102506(_0x3facfd,_0x4dcdec,_0x5c8c46){return''+_0x3facfd+_0x4dcdec+_0x5c8c46;}function _0x46cfe3(_0x4f3741){const _0xe21e75=_0x227435;return _0x4f3741===_0x217b14['Incoming']?_0xe21e75(0xaa6):_0xe21e75(0x2bb);}function _0x8b2ba(_0x14530e,_0x11724c){const _0x16b50e=_0x227435;return{'label':_0x14530e[_0x16b50e(0x83d)](),'contentType':_0x14530e[_0x16b50e(0x9b5)](),'remoteId':_0x11724c[_0x16b50e(0xba7)](),'supportsContentType':_0x11724c['getSupportedContentTypes']()[_0x16b50e(0x771)](_0x14530e['getContentType']())};}!function(_0x35007b){const _0x30b28a=_0x227435;_0x35007b[_0x35007b['Waiting']=0x0]=_0x30b28a(0xa7a),_0x35007b[_0x35007b[_0x30b28a(0x7ce)]=0x1]=_0x30b28a(0x7ce),_0x35007b[_0x35007b['Rejected']=0x2]=_0x30b28a(0x6be);}(_0x45f41a||(_0x45f41a={})),function(_0x316c61){const _0x4dd4ec=_0x227435;_0x316c61[_0x4dd4ec(0x457)]='in',_0x316c61[_0x4dd4ec(0x5a4)]=_0x4dd4ec(0xb3c);}(_0x217b14||(_0x217b14={}));class _0x5cc66c{[_0x227435(0x7ff)];[_0x227435(0xc71)];constructor(_0x2c1f93,_0x32a16f){this['callback']=_0x2c1f93,this['retryCallback']=_0x32a16f;}[_0x227435(0xb8f)](_0x1a3ecb){this['callback'](_0x1a3ecb);}async[_0x227435(0xa9d)](){const _0x555848=_0x227435;await this[_0x555848(0xc71)]();}}class _0x34c150{[_0x227435(0x7ff)];['retryCallback'];constructor(_0x28fcf5,_0x2108a0){const _0xc5ae8f=_0x227435;this[_0xc5ae8f(0x7ff)]=_0x28fcf5,this[_0xc5ae8f(0xc71)]=_0x2108a0;}async[_0x227435(0xb8f)](_0x3c1b32){const _0xe323c4=_0x227435;await this[_0xe323c4(0x7ff)](_0x3c1b32);}async[_0x227435(0xa9d)](){const _0x3fb2a2=_0x227435;await this[_0x3fb2a2(0xc71)]();}}function _0x2e90cd(_0x2f6601=()=>{},_0x5317e3=()=>!0x1,_0x5861c7=()=>{}){let _0x26a282,_0x2995be,_0x22066d=0x0;return{get 'size'(){return _0x22066d;},get 'head'(){return _0x26a282;},get 'tail'(){return _0x2995be;},set 'head'(_0x412b89){_0x26a282=_0x412b89;},set 'tail'(_0x1e2fbd){_0x2995be=_0x1e2fbd;},'push'(_0x246f3c,_0x3d599a=!0x0){const _0x2a68fc={'value':_0x246f3c};_0x3d599a&&_0x5317e3(_0x2a68fc)?_0x2f6601():(_0x2995be&&(_0x2a68fc['previous']=_0x2995be,_0x2995be['next']=_0x2a68fc),_0x2995be=_0x2a68fc,_0x26a282||(_0x26a282=_0x2a68fc),_0x22066d+=0x1,_0x3d599a&&_0x2f6601());},'pop'(){const _0x3f1f8f=a0_0x5d01;if(!_0x2995be)return;const _0xf07581=_0x2995be[_0x3f1f8f(0x737)];return _0x2995be=_0x2995be[_0x3f1f8f(0x778)],_0x2995be&&delete _0x2995be['next'],_0x2995be||(_0x26a282=void 0x0),_0x22066d-=0x1,_0xf07581;},'unshift'(_0x2fef44,_0x411953=!0x0){const _0x57ef26=a0_0x5d01,_0x50e9c6={'value':_0x2fef44};_0x411953&&_0x5317e3(_0x50e9c6)?_0x2f6601():(_0x26a282&&(_0x26a282[_0x57ef26(0x778)]=_0x50e9c6,_0x50e9c6[_0x57ef26(0xb37)]=_0x26a282),_0x26a282=_0x50e9c6,_0x2995be||(_0x2995be=_0x50e9c6),_0x22066d+=0x1,_0x411953&&_0x2f6601());},'shift'(){const _0x4feaef=a0_0x5d01;if(!_0x26a282)return;const _0x5ebe90=_0x26a282[_0x4feaef(0x737)];return _0x26a282=_0x26a282[_0x4feaef(0xb37)],_0x26a282&&delete _0x26a282[_0x4feaef(0x778)],_0x26a282||(_0x2995be=void 0x0),_0x22066d-=0x1,_0x5ebe90;},'clear'(){_0x5861c7(),_0x26a282=void 0x0,_0x2995be=void 0x0,_0x22066d=0x0;}};}function _0x1c147e(_0x1567c5,_0x28d436=!0x1,_0x22d45b=()=>{},_0x52ff94=()=>!0x1,_0xf71306=()=>{}){let _0x5968ed=!0x1;const _0x548cb6=_0x2e90cd(async function(){const _0x107a42=a0_0x5d01;if(!_0x5968ed){for(_0x5968ed=!0x0;_0x548cb6['head'];){const _0xe438a8=_0x548cb6[_0x107a42(0x4f7)]();if(_0xe438a8)try{_0x1567c5 instanceof _0x5cc66c&&_0x1567c5[_0x107a42(0xb8f)](_0xe438a8),_0x1567c5 instanceof _0x34c150&&await _0x1567c5['call'](_0xe438a8),_0x22d45b(_0xe438a8);}catch(_0x53a518){_0x28d436?_0x548cb6[_0x107a42(0x91f)](_0xe438a8,!0x1):_0x548cb6[_0x107a42(0x7a4)](_0xe438a8,!0x1),await _0x1567c5['wait']();}}_0x5968ed=!0x1;}},_0x52ff94,_0xf71306);return _0x548cb6;}class _0x1610bc extends _0x36fb56{[_0x227435(0x2ae)];[_0x227435(0x980)];[_0x227435(0x77a)]=_0x4e535e[_0x227435(0x94f)][_0x227435(0x802)];[_0x227435(0x3a8)]=_0x4f6343();[_0x227435(0x6c0)]=_0x1aa7b3();[_0x227435(0x583)];['listenUnsubscriber'];['retryQueue']=_0x1c147e(new _0x34c150(this['sendAction']['bind'](this),this[_0x227435(0xa37)][_0x227435(0x5ad)](this)));[_0x227435(0xbe9)];constructor(_0x85da87,_0x3ba962,_0x3689c2,_0x19f693,_0x22f5a8){const _0x4dd206=_0x227435;super(_0x3ba962,_0x3689c2,_0x19f693),this[_0x4dd206(0x2ae)]=_0x85da87,this[_0x4dd206(0x980)]=_0x22f5a8;}async['connect'](){const _0x587902=_0x227435;try{const _0x2d6192={'getTokens':async()=>{const _0x3d508e=a0_0x5d01,_0x43dbc5=await this[_0x3d508e(0x980)][_0x3d508e(0x6e4)]();return{'accessToken':(0x0,_0x2de6c9[_0x3d508e(0x8b3)])(_0x43dbc5),'idToken':(0x0,_0x2de6c9[_0x3d508e(0x8b3)])(_0x43dbc5)};}};_0x109986[_0x587902(0x641)][_0x587902(0x2aa)]({'API':{'GraphQL':{'endpoint':_0x2b8337[_0x587902(0x262)]['endpoint'],'region':_0x2b8337[_0x587902(0x262)][_0x587902(0x803)],'defaultAuthMode':_0x587902(0x665)}}},{'Auth':{'tokenProvider':_0x2d6192}});const _0x41ca8f=(0x0,_0x4e535e[_0x587902(0x54c)])();this['client']=_0x41ca8f,await this[_0x587902(0x214)](),this[_0x587902(0xa19)]=_0x418282[_0x587902(0x593)][_0x587902(0x8a3)](_0x587902(0x84c),async({payload:_0x5d8c66})=>{const _0xd469d=_0x587902;if(_0x5d8c66[_0xd469d(0x815)]===_0x4e535e[_0xd469d(0x657)]){const _0x147011=_0x5d8c66['data'];this[_0xd469d(0x77a)]=_0x147011[_0xd469d(0x77a)],this[_0xd469d(0x3a8)][_0xd469d(0xb22)](_0x147011[_0xd469d(0x77a)]),this[_0xd469d(0x77a)]===_0x4e535e[_0xd469d(0x94f)][_0xd469d(0x802)]?(_0x1822ee[_0xd469d(0xc13)](_0xd469d(0x7ee),{'clusterId':this[_0xd469d(0x7f8)],'nodeId':this[_0xd469d(0x650)](),'nodeType':this['localNode'][_0xd469d(0x649)]}),this[_0xd469d(0xa42)](),this[_0xd469d(0x897)]()):this[_0xd469d(0x77a)]===_0x4e535e[_0xd469d(0x94f)][_0xd469d(0x49b)]?_0x1822ee[_0xd469d(0x51e)](_0xd469d(0x9ae),{'clusterId':this[_0xd469d(0x7f8)],'nodeId':this[_0xd469d(0x650)](),'nodeType':this[_0xd469d(0xc26)][_0xd469d(0x649)]}):_0x1822ee[_0xd469d(0x51e)](_0xd469d(0xc36),{'clusterId':this[_0xd469d(0x7f8)],'nodeId':this[_0xd469d(0x650)](),'nodeType':this['localNode'][_0xd469d(0x649)],'data':{'state':_0x147011['connectionState']}});}});}catch(_0x77dde){_0x1822ee['error'](_0x587902(0x496),{'clusterId':this[_0x587902(0x7f8)],'nodeId':this['getLocalId'](),'nodeType':this[_0x587902(0xc26)][_0x587902(0x649)]});}}[_0x227435(0xa42)](){const _0x2a5f98=_0x227435;_0x1822ee[_0x2a5f98(0x51e)](_0x2a5f98(0xa1d),{'clusterId':this[_0x2a5f98(0x7f8)],'nodeId':this[_0x2a5f98(0x650)](),'nodeType':this['localNode'][_0x2a5f98(0x649)]}),this['retryQueue'][_0x2a5f98(0x42a)](),this[_0x2a5f98(0xa19)]?.(),this[_0x2a5f98(0x583)]?.[_0x2a5f98(0x46f)](),delete this['subscription'];}['isConnected'](){const _0x21e231=_0x227435;return this[_0x21e231(0x77a)]===_0x4e535e[_0x21e231(0x94f)][_0x21e231(0x49b)];}[_0x227435(0x8d0)](_0x2e94ea){const _0x28a026=_0x227435;this[_0x28a026(0xa69)]['push'](_0x2e94ea);}[_0x227435(0x20d)](_0x4a18d5){const _0xabc4df=_0x227435;return this[_0xabc4df(0x6c0)][_0xabc4df(0x214)](_0x4a18d5);}[_0x227435(0x99e)](){const _0x278e76=_0x227435;return[_0x2bba8e['ContentType'][_0x278e76(0xa47)]];}async[_0x227435(0xa37)](){if(!this['isConnected']())return new Promise(_0x2d2383=>{const _0x4d059c=this['connectionStateListener']['subscribe'](_0x406fe8=>{const _0x43ff5d=a0_0x5d01;_0x406fe8===_0x4e535e['ConnectionState'][_0x43ff5d(0x49b)]&&(_0x4d059c(),_0x2d2383());});});}async[_0x227435(0xc6c)](_0x3afaa2){const _0x42b18d=_0x227435;if(this[_0x42b18d(0x77a)]!==_0x4e535e[_0x42b18d(0x94f)][_0x42b18d(0x49b)])throw new Error('AppSync\x20connection\x20not\x20ready');_0x3afaa2[_0x42b18d(0x1e6)]&&0x1===_0x3afaa2[_0x42b18d(0x1e6)][_0x42b18d(0xbfb)]?await this[_0x42b18d(0xb22)](_0x3afaa2[_0x42b18d(0x1e6)][0x0],JSON[_0x42b18d(0x5dd)](_0x3afaa2)):_0x1822ee['error']('appsync-no-destination',{'clusterId':this[_0x42b18d(0x7f8)],'nodeId':this[_0x42b18d(0x650)](),'nodeType':this['localNode'][_0x42b18d(0x649)]});}async[_0x227435(0xb22)](_0x4ba156,_0x3f4fd9){const _0x3251ec=_0x227435;if(!this[_0x3251ec(0xbe9)])throw new Error(_0x3251ec(0x5d4));_0x1822ee[_0x3251ec(0xbf2)](_0xbbb80e[_0x3251ec(0x6db)],_0x3251ec(0xc21),this['getLocalId'](),_0x3f4fd9),await this['client']['graphql']({'query':_0x3251ec(0x64a),'variables':{'name':await this[_0x3251ec(0x69a)](_0x4ba156),'data':_0x3f4fd9}});}async[_0x227435(0x214)](){const _0x1e90a9=_0x227435;if(this['subscription'])return;if(!this[_0x1e90a9(0xbe9)])throw new Error('AppSync\x20client\x20not\x20ready');_0x1822ee['log'](_0xbbb80e[_0x1e90a9(0x6db)],_0x1e90a9(0x320),this['getLocalId']());const _0x211269=await this[_0x1e90a9(0xbe9)][_0x1e90a9(0x64c)]({'query':_0x1e90a9(0x6ce),'variables':{'name':await this[_0x1e90a9(0x69a)]()},'authToken':await this[_0x1e90a9(0x980)]['getIdToken']()},{'Authorization':await this['authService'][_0x1e90a9(0x6e4)]()});this[_0x1e90a9(0x583)]=_0x211269[_0x1e90a9(0x214)]({'next':({data:_0x5e245b})=>{const _0x4bb1ac=_0x1e90a9,_0x2fb011=JSON['parse'](_0x5e245b[_0x4bb1ac(0x214)][_0x4bb1ac(0x205)]);!_0x1171eb(_0x2fb011,this[_0x4bb1ac(0x650)]())&&_0x31db37(_0x2fb011,this[_0x4bb1ac(0x650)]())&&this[_0x4bb1ac(0x6c0)][_0x4bb1ac(0xb22)](_0x2fb011);},'error':console[_0x1e90a9(0xbf2)]});}async[_0x227435(0x69a)](_0x15688a){const _0x294046=_0x227435,_0x3a3d53=await crypto[_0x294046(0x88b)][_0x294046(0x555)](_0x294046(0x998),new TextEncoder()[_0x294046(0x628)](this[_0x294046(0x2ae)]+'-'+this[_0x294046(0x7f8)]+'-'+(_0x15688a??this[_0x294046(0x650)]())));return Array[_0x294046(0x218)](new Uint8Array(_0x3a3d53))[_0x294046(0x7b9)](_0x29c789=>_0x29c789[_0x294046(0x4f9)](0x10)[_0x294046(0x5e2)](0x2,'0'))[_0x294046(0x2b2)]('');}}!function(_0x2af8c6){const _0x3d0ba7=_0x227435;_0x2af8c6[_0x2af8c6[_0x3d0ba7(0xa97)]=0x0]=_0x3d0ba7(0xa97),_0x2af8c6[_0x2af8c6[_0x3d0ba7(0x405)]=0x1]=_0x3d0ba7(0x405),_0x2af8c6[_0x2af8c6[_0x3d0ba7(0x34c)]=0x2]='Update',_0x2af8c6[_0x2af8c6[_0x3d0ba7(0xbfc)]=0x3]=_0x3d0ba7(0xbfc),_0x2af8c6[_0x2af8c6[_0x3d0ba7(0xb70)]=0x4]='RemoteRemove';}(_0x1321bb||(_0x1321bb={}));const _0x697175='0',_0x220fe0=_0x227435(0x761),_0x512d80=_0x461098,_0x4d0645=0x60000;class _0xb280f1{['clusterId'];[_0x227435(0xc26)];[_0x227435(0x963)];['iceServers'];[_0x227435(0x8dd)];['connectionConstructor'];[_0x227435(0x53d)];[_0x227435(0x61b)];[_0x227435(0xc3d)]=0x1;[_0x227435(0x45d)];['handshakeCandidates']=[];[_0x227435(0x9e5)]=[];[_0x227435(0x643)];constructor(_0x310e0e,_0x5342c6,_0x26375b,_0x3b81bc,_0x4137d2,_0x2db247){const _0x1edf67=_0x227435;this[_0x1edf67(0x7f8)]=_0x310e0e,this[_0x1edf67(0xc26)]=_0x5342c6,this[_0x1edf67(0x963)]=_0x26375b,this[_0x1edf67(0xbca)]=_0x3b81bc,this[_0x1edf67(0x8dd)]=_0x4137d2,this[_0x1edf67(0x5ea)]=_0x2db247,this[_0x1edf67(0x53d)]=new this[(_0x1edf67(0x5ea))]({'handshakeServers':this['iceServers']}),this['setupConnectionEvents']();}['close'](){const _0x475032=_0x227435;this[_0x475032(0x55b)]();}[_0x227435(0x2a5)](_0x491c4a){const _0x4bda7e=_0x227435;this[_0x4bda7e(0x8dd)]=_0x491c4a;}async[_0x227435(0x2d6)](_0x21bdd9,_0x57cf1b){const _0x3144d2=_0x227435;if(_0x57cf1b===this[_0x3144d2(0xc3d)])for(const _0x36f9c5 of _0x21bdd9){if(!this[_0x3144d2(0x53d)][_0x3144d2(0x259)])return this[_0x3144d2(0x3e2)](_0x36f9c5);try{await this['connection'][_0x3144d2(0x613)](_0x36f9c5);}catch(_0x30e736){this[_0x3144d2(0x3e2)](_0x36f9c5);}}}['isConnected'](){const _0x13bf48=_0x227435;return this[_0x13bf48(0x9c5)](),_0x13bf48(0xc88)===this[_0x13bf48(0x53d)][_0x13bf48(0x77a)]&&[_0x13bf48(0xc88),_0x13bf48(0xba4)][_0x13bf48(0x771)](this[_0x13bf48(0x53d)][_0x13bf48(0x62b)])&&_0x13bf48(0x609)!==this[_0x13bf48(0x53d)][_0x13bf48(0x2b1)]&&'open'===this[_0x13bf48(0x61b)]?.[_0x13bf48(0x6f2)];}['registerSystemPublisher'](_0x2b7ec6){const _0x1d77f6=_0x227435;this[_0x1d77f6(0x45d)]=_0x2b7ec6;}['unregisterSystemPublisher'](){const _0x2b9945=_0x227435;delete this[_0x2b9945(0x45d)];}[_0x227435(0x477)](_0x217ce6){const _0x13110c=_0x227435;this[_0x13110c(0x55b)](),this['connection']=new this[(_0x13110c(0x5ea))]({'handshakeServers':this[_0x13110c(0xbca)]}),_0x217ce6?this[_0x13110c(0xc3d)]=_0x217ce6:this[_0x13110c(0xc3d)]+=0x1,this[_0x13110c(0xb4b)]();}['processPendingHandshakeCandidates'](){const _0x510a96=_0x227435;this[_0x510a96(0x9e5)][_0x510a96(0x3e7)](_0x642d9=>{const _0x1b4621=_0x510a96;try{this[_0x1b4621(0x53d)][_0x1b4621(0x613)](_0x642d9);}catch(_0x108d35){}}),this[_0x510a96(0x9e5)]=[];}[_0x227435(0x43b)](_0x158d0a,_0x344bb7){const _0x5332f7=_0x227435;if(!this['systemTopic'])throw new _0x82cd08(_0x82cd08[_0x5332f7(0xab8)][_0x5332f7(0x24f)],{'content':_0x158d0a});const _0x120f52={'sourceId':this[_0x5332f7(0xc26)][_0x5332f7(0xc22)](),'destinationIds':[this[_0x5332f7(0x963)]],'propagate':this[_0x5332f7(0x8dd)]!==_0xc29e61[_0x5332f7(0x732)],'retry':this[_0x5332f7(0x8dd)]!==_0xc29e61[_0x5332f7(0x732)],'messageType':_0x37ab1a[_0x5332f7(0xa5b)],'content':_0x158d0a};_0x344bb7&&(_0x120f52['uuid']=_0x344bb7),this[_0x5332f7(0x45d)][_0x5332f7(0xb22)](_0x120f52);}[_0x227435(0xb4b)](){const _0x4302ea=_0x227435;this[_0x4302ea(0x53d)][_0x4302ea(0x64d)]=()=>{const _0x190339=_0x4302ea;'complete'===this[_0x190339(0x53d)][_0x190339(0x27c)]&&this['handshakeCandidates']['length']>0x0&&(this[_0x190339(0x643)]&&clearTimeout(this[_0x190339(0x643)]),this[_0x190339(0x643)]=setTimeout(()=>{const _0x2e71c4=_0x190339;delete this['handshakeDebounce'],this[_0x2e71c4(0x26d)](),this[_0x2e71c4(0x21b)]=[];},0x1f4));},this[_0x4302ea(0x53d)][_0x4302ea(0x4e0)]=_0x1ea3e2=>{const _0x3afd30=_0x4302ea;_0x1ea3e2[_0x3afd30(0x7d2)]&&this[_0x3afd30(0x21b)][_0x3afd30(0x91f)](_0x1ea3e2[_0x3afd30(0x7d2)]);};}[_0x227435(0x55b)](){const _0x364f26=_0x227435;clearTimeout(this[_0x364f26(0x643)]),delete this[_0x364f26(0x643)],this[_0x364f26(0x21b)]=[],this['pendingHandshakeCandidates']=[],this['dataChannel']&&(this['dataChannel'][_0x364f26(0x20d)]=null,this[_0x364f26(0x61b)][_0x364f26(0x5a6)]=null,this[_0x364f26(0x61b)][_0x364f26(0xa42)](),delete this[_0x364f26(0x61b)]),this[_0x364f26(0x53d)][_0x364f26(0x64d)]=null,this['connection'][_0x364f26(0x4e0)]=null,this[_0x364f26(0x53d)]['onHandshakeStateChange']=null,this['connection'][_0x364f26(0x239)]=null,this[_0x364f26(0x53d)]['onTrack']=null,this[_0x364f26(0x53d)][_0x364f26(0xb9a)]=null,this[_0x364f26(0x53d)][_0x364f26(0xa42)]();}['addPendingHandshakeCandidate'](_0x4ce47e){const _0x42310c=_0x227435;this['pendingHandshakeCandidates'][_0x42310c(0x91f)](_0x4ce47e);}[_0x227435(0x9c5)](){const _0x3ef88a=_0x227435;_0x1822ee[_0x3ef88a(0xbf2)](_0xbbb80e[_0x3ef88a(0x94f)],_0x3ef88a(0x4e4),{'localId':this['localNode']['getId'](),'remoteId':this['remoteId'],'connectionState':this[_0x3ef88a(0x53d)][_0x3ef88a(0x77a)],'handshakeState':this['connection'][_0x3ef88a(0x62b)],'signalingState':this[_0x3ef88a(0x53d)][_0x3ef88a(0x2b1)],'dataChannelState':this[_0x3ef88a(0x61b)]?.['state']});}}function _0x508512(_0x4e29fc,_0x2fbec7){_0x2fbec7['publish']({'sourceId':_0x48df1c,'messageType':_0x37ab1a['PeerConnection'],'content':_0x4e29fc});}class _0x213605{static [_0x227435(0x447)];[_0x227435(0x6b9)]=[];['source'];constructor(){setInterval(()=>{const _0x186d4e=a0_0x5d01;this[_0x186d4e(0x6b9)][_0x186d4e(0x3e7)](_0x339288=>{const _0x5411c7=_0x186d4e;if(Date['now']()-_0x339288['lastExecuted']>_0x339288['interval']){try{_0x339288[_0x5411c7(0x7ff)]();}catch(_0x3969e1){}_0x339288[_0x5411c7(0x799)]=Date[_0x5411c7(0xb26)]();}});},0x64);}static[_0x227435(0x3e5)](){const _0x1e51f5=_0x227435;return _0x213605[_0x1e51f5(0x447)]||(_0x213605['instance']=new _0x213605()),_0x213605[_0x1e51f5(0x447)];}[_0x227435(0x3c5)](_0x39d99f){const _0x19068d=_0x227435,_0x48cff6=this[_0x19068d(0x8fc)](_0x39d99f),_0x2c5518=_0x39d99f[_0x19068d(0xa10)]();_0x2c5518&&_0x48cff6&&(_0x2c5518[_0x19068d(0x4d9)][_0x19068d(0x737)]=0.001,_0x48cff6['connect'](_0x2c5518),_0x2c5518[_0x19068d(0x897)](_0x39d99f[_0x19068d(0x6bc)]),_0x48cff6[_0x19068d(0x2ed)]());}[_0x227435(0x268)](){const _0x3732ec=_0x227435;this[_0x3732ec(0xa9b)]&&(this['source'][_0x3732ec(0x5a0)](),this[_0x3732ec(0xa9b)][_0x3732ec(0xbe8)](),this['source']=void 0x0);}[_0x227435(0xa9d)](_0x5bdc1b){return new Promise(_0x22aa53=>{setTimeout(_0x22aa53,_0x5bdc1b);});}['setInterval'](_0x1a60c7,_0x46fbd0){const _0x59fe83=_0x227435;return this[_0x59fe83(0x6b9)][_0x59fe83(0x91f)]({'callback':_0x1a60c7,'interval':_0x46fbd0,'lastExecuted':Date['now']()}),()=>{const _0x4be461=_0x59fe83;this[_0x4be461(0x6b9)]=this[_0x4be461(0x6b9)]['filter'](_0x4a546c=>_0x4a546c['callback']!==_0x1a60c7);};}[_0x227435(0x8fc)](_0x1ed76d){const _0x2178cd=_0x227435;if(_0x1ed76d[_0x2178cd(0x8fc)])return _0x1ed76d[_0x2178cd(0x8fc)]();const _0x4db89a=_0x1ed76d[_0x2178cd(0x4c4)](),_0x2362eb=_0x1ed76d[_0x2178cd(0x512)](0x1,0x1,_0x1ed76d['sampleRate']);return _0x2362eb[_0x2178cd(0x412)](0x0)[0x0]=0xa,_0x4db89a['buffer']=_0x2362eb,_0x4db89a['loop']=!0x0,_0x4db89a;}}const _0x2674de=_0x213605[_0x227435(0x3e5)]();class _0xf582ea extends _0xb280f1{[_0x227435(0x3d8)]=_0x4f6343();[_0x227435(0x5ec)]=_0x4f6343();[_0x227435(0x2da)]=_0x4f6343();[_0x227435(0x289)]=new Map();[_0x227435(0x80b)]=new Map();[_0x227435(0x355)];[_0x227435(0x64f)]=0x0;[_0x227435(0x1f7)]={'messages':{'total':0x0}};[_0x227435(0x485)]=0x0;[_0x227435(0xc2e)]=0x0;['loggingCycle']=_0x38b9ff(_0x227435(0x9a6),_0xbbb80e[_0x227435(0x5fc)]);['close'](){const _0x1e4858=_0x227435;this[_0x1e4858(0x4cd)](),this[_0x1e4858(0x289)]['clear'](),super[_0x1e4858(0xa42)]();}async[_0x227435(0x53b)](_0x1c2928,_0xc70463){const _0x33196b=_0x227435;this['currentVersion']=_0xc70463,this[_0x33196b(0x4cd)]();const _0x348bd1=await this[_0x33196b(0x53d)]['createAnswer'](_0x1c2928);this['processPendingHandshakeCandidates']();const _0x21d4bd=(0x0,_0x4821d1['v4'])();this[_0x33196b(0x43b)]({'type':_0x3e0203[_0x33196b(0x90a)],'answer':_0x348bd1,'version':_0xc70463,'connectionType':this[_0x33196b(0x8dd)]},_0x21d4bd),this['connectionType']===_0xc29e61[_0x33196b(0x732)]&&(this[_0x33196b(0x355)]=_0x2674de[_0x33196b(0x3c7)](()=>{const _0x1b95d5=_0x33196b;this[_0x1b95d5(0x43b)]({'type':_0x3e0203[_0x1b95d5(0x90a)],'answer':_0x348bd1,'version':_0xc70463,'connectionType':this['connectionType']},_0x21d4bd);},0x1388));}[_0x227435(0x903)](){this['clearWaitSuccess']();}[_0x227435(0xba6)](_0x19c025){const _0x43844e=_0x227435;this[_0x43844e(0x477)](_0x19c025),this[_0x43844e(0x43b)]({'type':_0x3e0203[_0x43844e(0x9c3)]});}async[_0x227435(0xb4a)](){const _0x36a03d=_0x227435;this[_0x36a03d(0x45d)]&&(await this[_0x36a03d(0x53d)][_0x36a03d(0xa96)](this[_0x36a03d(0x289)],(_0x2e9da8,_0x5324e8)=>{const _0x5f3f9f=_0x36a03d;_0x508512({'type':_0x3e0203[_0x5f3f9f(0xabd)],'streamId':_0x5324e8,'nodeId':this['remoteId'],'stats':_0x2e9da8},this[_0x5f3f9f(0x45d)]);}),this[_0x36a03d(0x45d)][_0x36a03d(0xb22)]({'sourceId':_0x48df1c,'messageType':_0x37ab1a[_0x36a03d(0xa5b)],'content':{'type':_0x3e0203[_0x36a03d(0xabd)],'nodeId':this[_0x36a03d(0x963)],'stats':{'origin':_0x543fde[_0x36a03d(0x32e)],'timestamp':Date[_0x36a03d(0xb26)](),'messagesReceived':this[_0x36a03d(0x64f)],'bytesReceived':this[_0x36a03d(0x485)],'timeReceiving':this[_0x36a03d(0xc2e)],'systemMessages':this['systemMessagesReceived']}}}));}[_0x227435(0x20d)](_0x222cfa){const _0x1cbc3c=_0x227435;return _0x2b8337['isProduction']?this[_0x1cbc3c(0x3d8)][_0x1cbc3c(0x214)](_0x222cfa):this[_0x1cbc3c(0x3d8)][_0x1cbc3c(0x214)](_0x518f40=>{const _0x1f8107=_0x1cbc3c;0x0===_0x518f40[_0x1f8107(0xb8b)]&&_0x518f40[_0x1f8107(0x656)]===_0x37ab1a[_0x1f8107(0x42c)]&&this['loggingCycle'][_0x1f8107(0x933)][_0x1f8107(0xbf2)](_0x1f8107(0x4ef)+this[_0x1f8107(0x963)],()=>_0x443ae0(_0x518f40)),_0x222cfa(_0x518f40);});}['onTrack'](_0x1d4465){const _0x484190=_0x227435;return this[_0x484190(0x5ec)]['subscribe'](({track:_0x3ef4dc,stream:_0x2fe6fc})=>_0x1d4465(_0x3ef4dc,_0x2fe6fc));}['onRemoveTrack'](_0x12652f){const _0x35925d=_0x227435;return this['removeTrackCallback'][_0x35925d(0x214)](({track:_0x2d5baa,stream:_0x2ad41f})=>_0x12652f(_0x2d5baa,_0x2ad41f));}[_0x227435(0x477)](_0x2a27ec){const _0x54103d=_0x227435;this[_0x54103d(0x4cd)](),this[_0x54103d(0x289)][_0x54103d(0x3e7)](_0x26443c=>{const _0x41ecb=_0x54103d;_0x26443c[_0x41ecb(0x42a)]();}),super[_0x54103d(0x477)](_0x2a27ec);}['sendIceCandidates'](){const _0xecbd95=_0x227435;this[_0xecbd95(0x43b)]({'type':_0x3e0203['Handshake'],'candidates':this[_0xecbd95(0x21b)],'origin':_0x543fde[_0xecbd95(0x32e)],'version':this['currentVersion'],'connectionType':this[_0xecbd95(0x8dd)]});}['setupConnectionEvents'](){const _0xe57b=_0x227435;super[_0xe57b(0xb4b)](),this['connection'][_0xe57b(0x1eb)]=_0x79cdd2=>{const _0x4a17ad=_0xe57b;_0x1822ee['log'](_0xbbb80e[_0x4a17ad(0xb35)],_0x4a17ad(0x3ee),this[_0x4a17ad(0xc26)][_0x4a17ad(0xc22)](),_0x79cdd2),_0x79cdd2['streams'][0x0][_0x4a17ad(0x66c)]=_0x4924ad=>{const _0x5f1fc3=_0x4a17ad;this[_0x5f1fc3(0x289)][_0x5f1fc3(0x441)](_0x79cdd2[_0x5f1fc3(0x660)][0x0]['id'])?.[_0x5f1fc3(0x3df)](_0x4924ad[_0x5f1fc3(0x4d4)]),0x0===this['receivers'][_0x5f1fc3(0x441)](_0x79cdd2['streams'][0x0]['id'])?.[_0x5f1fc3(0x9e7)]&&this['receivers'][_0x5f1fc3(0x3df)](_0x79cdd2[_0x5f1fc3(0x660)][0x0]['id']),this[_0x5f1fc3(0x2da)][_0x5f1fc3(0xb22)]({'track':_0x4924ad['track'],'stream':_0x79cdd2['streams'][0x0]});},this[_0x4a17ad(0x289)][_0x4a17ad(0xac9)](_0x79cdd2[_0x4a17ad(0x660)][0x0]['id'])||this['receivers']['set'](_0x79cdd2[_0x4a17ad(0x660)][0x0]['id'],new Set()),this[_0x4a17ad(0x289)][_0x4a17ad(0x441)](_0x79cdd2['streams'][0x0]['id'])[_0x4a17ad(0x9b9)](_0x79cdd2[_0x4a17ad(0x4d4)]),this[_0x4a17ad(0x5ec)]['publish']({'track':_0x79cdd2[_0x4a17ad(0x4d4)],'stream':_0x79cdd2['streams'][0x0]});},this[_0xe57b(0x53d)][_0xe57b(0xb9a)]=_0x128447=>{const _0x392d4c=_0xe57b;this[_0x392d4c(0x61b)]=_0x128447[_0x392d4c(0x6b1)],this[_0x392d4c(0x61b)][_0x392d4c(0x20d)]=_0x25f27b=>{const _0x36566c=_0x392d4c;if(_0x25f27b['data']!==_0x697175)this['handleOnMessage'](_0x25f27b['data']);else{if(!this[_0x36566c(0x61b)])return void _0x1822ee['error'](_0x36566c(0xa77),{'clusterId':this[_0x36566c(0x7f8)],'nodeId':this[_0x36566c(0xc26)]['getId'](),'nodeType':this['localNode']['type'],'remoteId':this[_0x36566c(0x963)],'data':{'connection':_0x36566c(0x5db)}});if(_0x36566c(0xbd2)!==this['dataChannel']['state'])return;this['dataChannel'][_0x36566c(0x8d0)]('1');}};};}[_0x227435(0x9dd)](_0x316f83){const _0x3ddc7d=_0x227435;if(_0x3ddc7d(0x984)==typeof _0x316f83&&_0x316f83[_0x3ddc7d(0x60c)](_0x220fe0))return this['messagesReceived']+=0x1,this[_0x3ddc7d(0x485)]+=_0x316f83[_0x3ddc7d(0xbfb)],this[_0x3ddc7d(0xb2b)](_0x316f83);setTimeout(()=>{const _0x2d5f7e=_0x3ddc7d,_0x4e516b=Date[_0x2d5f7e(0xb26)]();let _0x2cac33;if((_0x316f83 instanceof ArrayBuffer||_0x316f83[_0x2d5f7e(0xbfb)]<=_0x512d80)&&(this[_0x2d5f7e(0x64f)]+=0x1,this['bytesReceived']+=_0x316f83 instanceof ArrayBuffer?_0x316f83[_0x2d5f7e(0x3f5)]:_0x316f83[_0x2d5f7e(0xbfb)]),_0x316f83 instanceof ArrayBuffer){const [_0x2a2a48,_0x1186bc]=this['splitParts'](_0x316f83);_0x2cac33=_0x2a2a48,_0x2cac33[_0x2d5f7e(0xae3)]['data']=_0x1186bc;}else _0x2cac33=JSON[_0x2d5f7e(0x77c)](_0x316f83);if(0x0===_0x2cac33[_0x2d5f7e(0xb8b)]){this[_0x2d5f7e(0x1f7)]['messages']['total']+=0x1;const {systemMessageType:_0x50a554,systemContentMessageType:_0x41ab31}=_0x443ae0(_0x2cac33);this[_0x2d5f7e(0x1f7)][_0x50a554]||(this[_0x2d5f7e(0x1f7)][_0x50a554]={[_0x41ab31]:0x0}),this[_0x2d5f7e(0x1f7)][_0x50a554][_0x41ab31]||(this['systemMessagesReceived'][_0x50a554][_0x41ab31]=0x0),this[_0x2d5f7e(0x1f7)][_0x50a554]['total']||(this[_0x2d5f7e(0x1f7)][_0x50a554]['total']=0x0),this['systemMessagesReceived'][_0x50a554][_0x41ab31]+=0x1,this['systemMessagesReceived'][_0x50a554][_0x2d5f7e(0x29d)]+=0x1;}this[_0x2d5f7e(0x3d8)][_0x2d5f7e(0xb22)](_0x2cac33),this[_0x2d5f7e(0xc2e)]+=Date['now']()-_0x4e516b;},0x0);}[_0x227435(0xb2b)](_0x36daf2){const _0x1a4e94=_0x227435,_0xa19b96=_0x36daf2[_0x1a4e94(0x8ab)](';'),_0x2385bd=_0xa19b96[0x1],_0x3e9fd5=parseInt(_0xa19b96[0x2],0xa),_0x68149b=parseInt(_0xa19b96[0x3],0xa),_0x577bff=_0x36daf2[_0x1a4e94(0x217)](_0x220fe0+';'+_0x2385bd+';'+_0x3e9fd5+';'+_0x68149b+';','');this[_0x1a4e94(0x80b)][_0x1a4e94(0xac9)](_0x2385bd)||this['chunks'][_0x1a4e94(0x9b4)](_0x2385bd,[]);const _0x172deb=this[_0x1a4e94(0x80b)][_0x1a4e94(0x441)](_0x2385bd);_0x172deb[_0x3e9fd5]=_0x577bff,_0x172deb[_0x1a4e94(0xbfb)]===_0x68149b&&(this[_0x1a4e94(0x9dd)](_0x172deb[_0x1a4e94(0x2b2)]('')),this[_0x1a4e94(0x80b)][_0x1a4e94(0x3df)](_0x2385bd));}[_0x227435(0x4cd)](){const _0xb58702=_0x227435;this[_0xb58702(0x355)]?.(),delete this[_0xb58702(0x355)];}[_0x227435(0xb3d)](_0x3075c8){const _0x484475=_0x227435,_0x1a2a3f=new TextDecoder()[_0x484475(0xc72)](_0x3075c8);return JSON[_0x484475(0x77c)](_0x1a2a3f);}[_0x227435(0x763)](_0x404763){const _0x468881=_0x227435,_0x29d692=new Uint8Array(_0x404763['slice'](0x0,0x4)),_0x5d834a=new Uint32Array(_0x29d692[_0x468881(0x1f1)])[0x0],_0x3816b2=new Uint8Array(_0x404763[_0x468881(0xb51)](0x4,0x4+_0x5d834a)),_0x365ba2=new Uint8Array(_0x404763[_0x468881(0xb51)](0x4+_0x5d834a));return[this[_0x468881(0xb3d)](_0x3816b2['buffer']),_0x365ba2[_0x468881(0x1f1)]];}}const _0x16929f=0xc350;var _0x4eda50,_0x11acfe;!function(_0x41b310){const _0x24359e=_0x227435;_0x41b310[_0x41b310[_0x24359e(0x951)]=0x0]=_0x24359e(0x951),_0x41b310[_0x41b310[_0x24359e(0xc87)]=0x1]=_0x24359e(0xc87),_0x41b310[_0x41b310['Low']=0x2]='Low';}(_0x4eda50||(_0x4eda50={}));class _0x2e2876 extends _0xb280f1{[_0x227435(0x623)];[_0x227435(0xad0)];[_0x227435(0xc6a)]=new Map();[_0x227435(0x746)];[_0x227435(0x375)];[_0x227435(0x876)];['isReconnecting']=!0x1;['connectionTimeout'];[_0x227435(0xbab)];[_0x227435(0x3b1)];[_0x227435(0xa69)]=function(e,t=_0x4eda50,s=!0x1){const _0x2bf726=_0x227435;let n=!0x1;const o=[];async function i(){const _0x26b09f=a0_0x5d01;if(!n){for(n=!0x0;o['some'](e=>e[_0x26b09f(0x6f3)]);){let t,n=0x0;for(const [e,s]of o[_0x26b09f(0xc67)]())if(t=s[_0x26b09f(0x4f7)](),n=e,t)break;if(t)try{if(e instanceof _0x5cc66c&&e[_0x26b09f(0xb8f)](t),e instanceof _0x34c150&&await e[_0x26b09f(0xb8f)](t),o[_0x26b09f(0xb51)](-0x1)[_0x26b09f(0x2fd)](e=>e['head']))continue;const s=o[_0x26b09f(0xbfb)]-0x1;n===s&&o[s][_0x26b09f(0x6f3)]&&await _0x2674de['wait'](0x0);}catch(i){s?o[n][_0x26b09f(0x91f)](t,!0x1):o[n][_0x26b09f(0x7a4)](t,!0x1),await e[_0x26b09f(0xa9d)]();}}n=!0x1;}}return Object[_0x2bf726(0xbc7)](t)['forEach'](e=>{const _0x1151ed=_0x2bf726;_0x1151ed(0x984)!=typeof e&&(o[e]=_0x2e90cd(i));}),{'queues':o};}(new _0x5cc66c(this[_0x227435(0xc6c)]['bind'](this),this[_0x227435(0x885)]['bind'](this)));[_0x227435(0xa92)]=0x0;[_0x227435(0x41d)]=0x0;[_0x227435(0x715)]=0x0;[_0x227435(0x71d)]=0x0;[_0x227435(0xc1b)];['loggingCycle']=_0x38b9ff('SenderPeerConnection.send',_0xbbb80e[_0x227435(0xaed)]);constructor(_0x5bbaee,_0x496a40,_0x5a1233,_0x3d9f88,_0x27aeea,_0x54d81a,_0x511a67,_0x39d390){const _0x154684=_0x227435;super(_0x5bbaee,_0x496a40,_0x5a1233,_0x3d9f88,_0x27aeea,_0x39d390),this[_0x154684(0x623)]=_0x54d81a,this['maxBpp']=_0x511a67;}[_0x227435(0xa42)](){const _0x23bd20=_0x227435;this[_0x23bd20(0x943)](),this['clearHeartbeat'](),delete this[_0x23bd20(0x876)],this['clearRestartTimeout'](),this[_0x23bd20(0xbd8)](),this[_0x23bd20(0x6a8)](),this[_0x23bd20(0xc6a)][_0x23bd20(0x42a)](),this['isReconnecting']=!0x1,this[_0x23bd20(0xa69)][_0x23bd20(0xa03)]['forEach'](_0x22d3ec=>_0x22d3ec[_0x23bd20(0x42a)]()),this[_0x23bd20(0xbf3)](),super[_0x23bd20(0xa42)]();}['isConnected'](){const _0x888383=_0x227435;return!!this[_0x888383(0x876)]&&super['isConnected']()&&Date[_0x888383(0xb26)]()-this[_0x888383(0x876)]<0x3a98;}async[_0x227435(0xb4a)](){const _0x2bafc2=_0x227435;this[_0x2bafc2(0x45d)]&&(await this[_0x2bafc2(0x53d)][_0x2bafc2(0xc20)](this[_0x2bafc2(0xc6a)],(_0x582434,_0x272be8)=>{const _0x1b4a6f=_0x2bafc2;_0x508512({'type':_0x3e0203['Stats'],'streamId':_0x272be8,'nodeId':this[_0x1b4a6f(0x963)],'stats':_0x582434},this[_0x1b4a6f(0x45d)]);}),this['systemTopic'][_0x2bafc2(0xb22)]({'sourceId':_0x48df1c,'messageType':_0x37ab1a[_0x2bafc2(0xa5b)],'content':{'type':_0x3e0203[_0x2bafc2(0xabd)],'nodeId':this[_0x2bafc2(0x963)],'stats':{'origin':_0x543fde['Sender'],'timestamp':Date[_0x2bafc2(0xb26)](),'messagesSent':this[_0x2bafc2(0xa92)],'bytesSent':this[_0x2bafc2(0x41d)],'timeSending':this[_0x2bafc2(0x715)],'roundTripTime':this[_0x2bafc2(0x71d)]}}}));}async[_0x227435(0xbd1)](_0x3bd67f){const _0x302652=_0x227435;_0x1822ee[_0x302652(0xbf2)](_0xbbb80e[_0x302652(0xb35)],_0x302652(0x438),this['localNode'][_0x302652(0xc22)](),this[_0x302652(0x963)]),this['clearRestartTimeout'](),this[_0x302652(0xbd8)](),this[_0x302652(0x6a8)](),this['connectionTimeout']=setTimeout(()=>{this['handleDisconnect']();},0x7530),this[_0x302652(0x61b)]||(this[_0x302652(0x61b)]=this['connection'][_0x302652(0xc75)]('data'),this[_0x302652(0x61b)][_0x302652(0xb18)]=_0x4d0645,this['dataChannel'][_0x302652(0x5a6)]=()=>{const _0x166cf1=_0x302652;this[_0x166cf1(0xc1b)]=setTimeout(()=>{const _0x235981=_0x166cf1;delete this[_0x235981(0xc1b)],['connecting',_0x235981(0xbd2)][_0x235981(0x771)](this[_0x235981(0x61b)]?.['state']??'')||this[_0x235981(0x69c)]();},0xfa);});const _0x20d99a=await this['connection'][_0x302652(0xbd1)](_0x3bd67f);this[_0x302652(0x876)]||(this[_0x302652(0x876)]=Date[_0x302652(0xb26)]());const _0x40fd26=(0x0,_0x4821d1['v4'])();this[_0x302652(0x43b)]({'type':_0x3e0203['Offer'],'offer':_0x20d99a,'version':this[_0x302652(0xc3d)],'connectionType':this[_0x302652(0x8dd)]},_0x40fd26),this[_0x302652(0x8dd)]===_0xc29e61[_0x302652(0x732)]&&(this[_0x302652(0x375)]=_0x2674de[_0x302652(0x3c7)](()=>{const _0x220d3f=_0x302652;this[_0x220d3f(0x43b)]({'type':_0x3e0203[_0x220d3f(0x3ed)],'offer':_0x20d99a,'version':this[_0x220d3f(0xc3d)],'connectionType':this[_0x220d3f(0x8dd)]},_0x40fd26);},0x1388));}async[_0x227435(0x4e6)](_0x2655e4,_0x2dcca6){const _0x5c66da=_0x227435;if(_0x2dcca6===this[_0x5c66da(0xc3d)]){this[_0x5c66da(0x6a8)]();try{await this[_0x5c66da(0x53d)][_0x5c66da(0x4e6)](_0x2655e4,this[_0x5c66da(0xbd1)][_0x5c66da(0x5ad)](this)),this[_0x5c66da(0x775)](),this[_0x5c66da(0xbd8)](),this[_0x5c66da(0x898)]();}catch(_0x20a49e){this[_0x5c66da(0x69c)]();}}}['send'](_0x464488){const _0x52d830=_0x227435;if(!this[_0x52d830(0x61b)])throw new _0x82cd08(_0x82cd08[_0x52d830(0xab8)][_0x52d830(0x473)],{'message':_0x52d830(0xb36),'localId':this[_0x52d830(0xc26)][_0x52d830(0xc22)](),'remoteId':this[_0x52d830(0x963)],'eventMessage':_0x464488});if(_0x52d830(0xbd2)!==this[_0x52d830(0x61b)]['state'])throw new _0x82cd08(_0x82cd08[_0x52d830(0xab8)][_0x52d830(0x473)],{'message':'Data\x20cluster\x20is\x20not\x20open.','localId':this[_0x52d830(0xc26)][_0x52d830(0xc22)](),'remoteId':this['remoteId'],'eventMessage':_0x464488});let _0x1ee68f;if(_0x464488['content'][_0x52d830(0x205)]instanceof ArrayBuffer){const _0x27c561=_0x464488[_0x52d830(0xae3)][_0x52d830(0x205)];_0x464488={..._0x464488,'content':{..._0x464488['content'],'data':void 0x0}},_0x1ee68f=this[_0x52d830(0x46d)](_0x464488,_0x27c561);}else _0x1ee68f=JSON[_0x52d830(0x5dd)](_0x464488);if(_0x52d830(0x984)==typeof _0x1ee68f&&_0x1ee68f[_0x52d830(0xbfb)]>_0x512d80)return void this[_0x52d830(0x465)](_0x464488,_0x1ee68f);0x0===_0x464488[_0x52d830(0xb8b)]&&_0x464488[_0x52d830(0x656)]===_0x37ab1a[_0x52d830(0x42c)]&&this[_0x52d830(0x308)][_0x52d830(0x933)]['performCalculation'](()=>_0x1822ee[_0x52d830(0xbf2)](_0xbbb80e['SenderSendMessage'],_0x52d830(0xc3a),this[_0x52d830(0x963)],_0x443ae0(_0x464488)),void 0x0);const _0x444e6d=0x0===_0x464488[_0x52d830(0xb8b)]&&[_0x37ab1a['Subscription'],_0x37ab1a[_0x52d830(0xa5b)]][_0x52d830(0x771)](_0x464488[_0x52d830(0x656)])?_0x4eda50['High']:_0x464488 instanceof ArrayBuffer?_0x4eda50[_0x52d830(0x66b)]:_0x4eda50['Medium'];this['sendWithRetry'](_0x1ee68f,_0x444e6d);}[_0x227435(0x71e)](_0x293853,_0x43969b,_0x4037b1,_0x5ad3e6){const _0x4088a6=_0x227435,_0x391c44=(_0x158fec=this[_0x4088a6(0x623)],_0x5ca1ba=this[_0x4088a6(0xad0)],Math[_0x4088a6(0x921)](0xe1000*_0x158fec*_0x5ca1ba));var _0x158fec,_0x5ca1ba;const _0x1c1520=this[_0x4088a6(0xc6a)][_0x4088a6(0x441)](_0x43969b['id'])||{'stream':_0x43969b,'priority':_0x4037b1,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x391c44,'maxBitrate':_0x391c44,'framerate':this[_0x4088a6(0x623)],'maxFramerate':this['maxFps'],'tracks':{},'params':_0x5ad3e6},_0x443ae3=_0x1c1520[_0x4088a6(0x544)][_0x293853[_0x4088a6(0xb74)]]||{'track':_0x293853};if(_0x443ae3['sender']?(_0x443ae3[_0x4088a6(0x4d4)]=_0x293853,this[_0x4088a6(0x53d)][_0x4088a6(0x7cf)](_0x293853,_0x443ae3[_0x4088a6(0xad2)])):_0x443ae3['sender']=this[_0x4088a6(0x53d)][_0x4088a6(0x71e)](_0x293853,_0x43969b),_0x1c1520[_0x4088a6(0x544)][_0x293853[_0x4088a6(0xb74)]]=_0x443ae3,_0x5ad3e6&&(_0x1c1520['params']=_0x5ad3e6),_0x5ad3e6&&_0x4088a6(0x4c1)===_0x5ad3e6[_0x4088a6(0xb74)]&&_0x5ad3e6[_0x4088a6(0x546)]&&_0x5ad3e6[_0x4088a6(0x34b)]&&(_0x1c1520['resolutionScale']=this[_0x4088a6(0x848)](_0x5ad3e6[_0x4088a6(0x546)],_0x5ad3e6[_0x4088a6(0x34b)]),_0x1c1520['minResolutionScale']=_0x1c1520[_0x4088a6(0x46e)],_0x1c1520[_0x4088a6(0x544)][_0x4088a6(0x4c1)]&&_0x1c1520[_0x4088a6(0x544)][_0x4088a6(0x4c1)][_0x4088a6(0xad2)])){const _0x58f460=_0x1c1520[_0x4088a6(0x544)][_0x4088a6(0x4c1)]['sender'];this['connection'][_0x4088a6(0x9d4)](_0x58f460,Math['floor'](0xa*_0x1c1520[_0x4088a6(0x46e)])/0xa,_0x1c1520[_0x4088a6(0x6cb)],_0x1c1520['bitrate'],_0x1c1520[_0x4088a6(0x483)]);}this[_0x4088a6(0xc6a)][_0x4088a6(0x9b4)](_0x43969b['id'],_0x1c1520);}['setPriority'](_0x45f7dc,_0x129526){const _0x5ec053=_0x227435,_0x368754=this[_0x5ec053(0xc6a)]['get'](_0x45f7dc['id']);if(_0x368754&&_0x368754['priority']!==_0x129526&&(_0x368754[_0x5ec053(0x483)]=_0x129526,_0x368754[_0x5ec053(0x544)][_0x5ec053(0x4c1)]&&_0x368754[_0x5ec053(0x544)][_0x5ec053(0x4c1)][_0x5ec053(0xad2)])){const _0x404fd6=_0x368754[_0x5ec053(0x544)][_0x5ec053(0x4c1)][_0x5ec053(0xad2)];this[_0x5ec053(0x53d)][_0x5ec053(0x9d4)](_0x404fd6,Math[_0x5ec053(0x921)](0xa*_0x368754['resolutionScale'])/0xa,_0x368754[_0x5ec053(0x6cb)],_0x368754[_0x5ec053(0x46a)],_0x368754[_0x5ec053(0x483)]);}}['setParams'](_0x4fa524,_0xaa3a04){const _0xba2108=_0x227435,_0x566aa0=this['senders'][_0xba2108(0x441)](_0x4fa524['id']);if(_0x566aa0){if(_0x566aa0[_0xba2108(0x95a)]=_0xaa3a04,_0xaa3a04&&_0xba2108(0x4c1)===_0xaa3a04['kind']&&_0xaa3a04['resolution']&&_0xaa3a04['maxResolution']){if(_0x566aa0['minResolutionScale']=this[_0xba2108(0x848)](_0xaa3a04['resolution'],_0xaa3a04[_0xba2108(0x34b)]),_0x566aa0[_0xba2108(0x46e)]<_0x566aa0[_0xba2108(0x6de)]&&(_0x566aa0[_0xba2108(0x46e)]=_0x566aa0[_0xba2108(0x6de)]),_0x566aa0[_0xba2108(0x544)][_0xba2108(0x4c1)]&&_0x566aa0[_0xba2108(0x544)][_0xba2108(0x4c1)][_0xba2108(0xad2)]){const _0x176557=_0x566aa0[_0xba2108(0x544)][_0xba2108(0x4c1)][_0xba2108(0xad2)];this[_0xba2108(0x53d)][_0xba2108(0x9d4)](_0x176557,Math['floor'](0xa*_0x566aa0[_0xba2108(0x46e)])/0xa,_0x566aa0[_0xba2108(0x6cb)],_0x566aa0['bitrate'],_0x566aa0['priority']);}this[_0xba2108(0x943)](),this['setUpgradeTimeout']();}this[_0xba2108(0xc6a)][_0xba2108(0x9b4)](_0x4fa524['id'],_0x566aa0);}}[_0x227435(0x3ab)](_0x2b67df,_0xaf8960){const _0x1ebac5=_0x227435,_0x3921ca=this[_0x1ebac5(0xc6a)]['get'](_0xaf8960['id']);if(_0x3921ca){const _0x46a949=_0x3921ca[_0x1ebac5(0x544)][_0x2b67df['kind']];_0x46a949&&(_0x46a949[_0x1ebac5(0xad2)]&&this['connection'][_0x1ebac5(0x3ab)](_0x46a949[_0x1ebac5(0xad2)]),_0x46a949[_0x1ebac5(0x4d4)]=void 0x0);}}['applyRemediation'](_0x1f10b0){const _0x349fd9=_0x227435;this[_0x349fd9(0x943)]();const _0x1a4510=function(_0x36916a,_0x24ca3e){const _0x52f558=_0x349fd9;return _0x36916a[_0x52f558(0xbd7)]((_0x2e6788,_0x1dc1c9)=>_0x24ca3e['action']===_0xf24b0b['Downgrade']?_0x1dc1c9['priority']-_0x2e6788[_0x52f558(0x483)]:_0x2e6788[_0x52f558(0x483)]-_0x1dc1c9[_0x52f558(0x483)])[_0x52f558(0x5b4)](_0x2a2919=>function(_0x23b500,_0x18aecb){const _0x23d40d=_0x52f558;if(_0x18aecb[_0x23d40d(0x2e2)]===_0xf24b0b[_0x23d40d(0x8cf)]){if(_0x18aecb[_0x23d40d(0x993)]===_0x1d4d09['Resolution'])return _0x23b500[_0x23d40d(0x46e)]<0x4||_0x23b500['maxFramerate']>0xf;if(_0x18aecb['component']===_0x1d4d09['Bitrate'])return _0x23b500[_0x23d40d(0x24c)]>_0x16929f;}return _0x23b500[_0x23d40d(0x46e)]>_0x23b500[_0x23d40d(0x6de)]||_0x23b500[_0x23d40d(0x6cb)]<_0x23b500[_0x23d40d(0x61a)]||_0x23b500[_0x23d40d(0x46a)]<_0x23b500[_0x23d40d(0x24c)];}(_0x2a2919,_0x24ca3e));}(Array[_0x349fd9(0x218)](this[_0x349fd9(0xc6a)][_0x349fd9(0xbc7)]()),_0x1f10b0);if(_0x1a4510&&(function(_0x3b7150,_0x4d1a15){const _0x57e93c=_0x349fd9;_0x3b7150[_0x57e93c(0x544)]['video']&&_0x3b7150[_0x57e93c(0x544)][_0x57e93c(0x4c1)][_0x57e93c(0xad2)]&&(_0x3b7150[_0x57e93c(0x46e)]=function(_0x496343,_0x4014c6,_0x56b996){const _0x553dbd=_0x57e93c;switch(_0x56b996[_0x553dbd(0x2e2)]){case _0xf24b0b[_0x553dbd(0x8cf)]:_0x56b996['component']===_0x1d4d09[_0x553dbd(0xb2f)]&&(_0x496343+=0.5)>0x4&&(_0x496343=0x4);break;case _0xf24b0b['Upgrade']:(_0x496343-=0.5)<_0x4014c6&&(_0x496343=_0x4014c6);}return _0x496343;}(_0x3b7150[_0x57e93c(0x46e)],_0x3b7150[_0x57e93c(0x6de)],_0x4d1a15),_0x3b7150[_0x57e93c(0x6cb)]=function(_0x249e23,_0x2a0341,_0x7323c){const _0x5dfb47=_0x57e93c;switch(_0x7323c[_0x5dfb47(0x2e2)]){case _0xf24b0b[_0x5dfb47(0x8cf)]:_0x7323c[_0x5dfb47(0x993)]===_0x1d4d09['Resolution']&&(_0x249e23-=0x3)<0xf&&(_0x249e23=0xf);break;case _0xf24b0b[_0x5dfb47(0xa82)]:(_0x249e23+=0x3)>_0x2a0341&&(_0x249e23=_0x2a0341);}return _0x249e23;}(_0x3b7150[_0x57e93c(0x6cb)],_0x3b7150['maxFramerate'],_0x4d1a15),_0x3b7150['bitrate']=function(_0x37a857,_0x41853d,_0x452f0a){const _0x258f19=_0x57e93c;switch(_0x452f0a[_0x258f19(0x2e2)]){case _0xf24b0b['Downgrade']:_0x452f0a[_0x258f19(0x993)]===_0x1d4d09[_0x258f19(0x875)]&&(_0x37a857*=0.75)<_0x16929f&&(_0x37a857=_0x16929f);break;case _0xf24b0b['Upgrade']:(_0x37a857*=1.25)>_0x41853d&&(_0x37a857=_0x41853d);}return _0x37a857;}(_0x3b7150['bitrate'],_0x3b7150[_0x57e93c(0x24c)],_0x4d1a15));}(_0x1a4510,_0x1f10b0),_0x1a4510[_0x349fd9(0x544)][_0x349fd9(0x4c1)]&&_0x1a4510['tracks'][_0x349fd9(0x4c1)][_0x349fd9(0xad2)])){const _0x2386f1=_0x1a4510[_0x349fd9(0x544)]['video'][_0x349fd9(0xad2)];this['connection'][_0x349fd9(0x9d4)](_0x2386f1,Math['floor'](0xa*_0x1a4510[_0x349fd9(0x46e)])/0xa,_0x1a4510[_0x349fd9(0x6cb)],_0x1a4510[_0x349fd9(0x46a)],_0x1a4510[_0x349fd9(0x483)]);}(_0x1a4510||_0x1f10b0[_0x349fd9(0x2e2)]===_0xf24b0b[_0x349fd9(0x8cf)])&&this['setUpgradeTimeout']();}[_0x227435(0x22c)](){const _0x25a842=_0x227435;return this[_0x25a842(0xa69)]['queues'][_0x25a842(0x4df)]((_0x3ef0c6,_0x11e5e5)=>_0x3ef0c6+_0x11e5e5[_0x25a842(0x9e7)],0x0)*_0x461098;}[_0x227435(0x857)](){const _0xb1d724=_0x227435;return this[_0xb1d724(0x61b)]?.[_0xb1d724(0x5d3)]??0x0;}[_0x227435(0x477)](){const _0x109343=_0x227435;super[_0x109343(0x477)](),this['clearOncloseTimeout'](),this['clearWaitAnswer'](),this[_0x109343(0xc6a)][_0x109343(0x3e7)](_0x560b3c=>{const _0xfe5e8d=_0x109343;_0x560b3c[_0xfe5e8d(0x544)]['video']&&(_0x560b3c[_0xfe5e8d(0x544)]['video'][_0xfe5e8d(0xad2)]=void 0x0),_0x560b3c[_0xfe5e8d(0x544)][_0xfe5e8d(0x305)]&&(_0x560b3c[_0xfe5e8d(0x544)][_0xfe5e8d(0x305)][_0xfe5e8d(0xad2)]=void 0x0);}),this[_0x109343(0x5f8)]=!0x0;}async[_0x227435(0x885)](){return new Promise(async _0x50ca5f=>{const _0x1a7e8c=a0_0x5d01;if(!this[_0x1a7e8c(0x61b)]||_0x1a7e8c(0xbd2)!==this[_0x1a7e8c(0x61b)][_0x1a7e8c(0x6f2)])return await _0x2674de[_0x1a7e8c(0xa9d)](0x64),void _0x50ca5f();this[_0x1a7e8c(0x61b)][_0x1a7e8c(0x5d3)]<_0x4d0645?_0x50ca5f():this[_0x1a7e8c(0x61b)]['onBufferedAmountLow']=()=>{const _0x30e22f=_0x1a7e8c;this['dataChannel']&&(this[_0x30e22f(0x61b)]['onBufferedAmountLow']=null),_0x50ca5f();};});}async[_0x227435(0x465)](_0x4f2ad7,_0x1ab8d4){const _0x9b41a3=_0x227435,_0x227163=[];for(let _0x320a7f=0x0;_0x320a7f<_0x1ab8d4[_0x9b41a3(0xbfb)];_0x320a7f+=_0x512d80)_0x227163[_0x9b41a3(0x91f)](_0x1ab8d4[_0x9b41a3(0xb51)](_0x320a7f,_0x320a7f+_0x512d80));for(const _0x4eef49 of _0x227163){for(;this[_0x9b41a3(0xa69)]['queues'][_0x4eda50['Low']][_0x9b41a3(0x9e7)]>0x1;)await _0x2674de[_0x9b41a3(0xa9d)](0x64);this[_0x9b41a3(0x990)](_0x220fe0+';'+_0x4f2ad7['uuid']+';'+_0x227163[_0x9b41a3(0x202)](_0x4eef49)+';'+_0x227163[_0x9b41a3(0xbfb)]+';'+_0x4eef49,_0x4eda50[_0x9b41a3(0x66b)]);}}async[_0x227435(0x990)](_0x26bda8,_0x28b020){const _0x273d97=_0x227435;_0x26bda8===_0x697175?this[_0x273d97(0xa69)][_0x273d97(0xa03)][_0x28b020][_0x273d97(0x6f3)]?.[_0x273d97(0x737)]!==_0x697175&&this[_0x273d97(0xa69)][_0x273d97(0xa03)][_0x28b020][_0x273d97(0x7a4)](_0x26bda8):this[_0x273d97(0xa69)][_0x273d97(0xa03)][_0x28b020][_0x273d97(0x91f)](_0x26bda8);}[_0x227435(0xc6c)](_0x4bbecf){const _0x168784=_0x227435;if(!this[_0x168784(0x61b)]||_0x168784(0xbd2)!==this['dataChannel'][_0x168784(0x6f2)])throw new Error(_0x168784(0x4c0));if(this[_0x168784(0x61b)][_0x168784(0x5d3)]>=0x600000)throw new Error(_0x168784(0xb7d));const _0x3df81a=Date[_0x168784(0xb26)]();_0x4bbecf!==_0x697175&&(this['messagesSent']+=0x1,this[_0x168784(0x41d)]+=_0x4bbecf instanceof ArrayBuffer?_0x4bbecf[_0x168784(0x3f5)]:_0x4bbecf['length']);try{ArrayBuffer,this[_0x168784(0x61b)][_0x168784(0x8d0)](_0x4bbecf);}catch(_0x16cc73){throw console[_0x168784(0xc13)](_0x168784(0xb23),_0x16cc73),_0x16cc73;}this[_0x168784(0x715)]+=Date[_0x168784(0xb26)]()-_0x3df81a;}[_0x227435(0x898)](){const _0x2c7d2f=_0x227435;this['heartbeatUnsubscriber']&&this['clearHeartbeat']();let _0x2fbffb=!0x0,_0x5822f5=Date[_0x2c7d2f(0xb26)]();this[_0x2c7d2f(0x876)]=Date[_0x2c7d2f(0xb26)](),this['dataChannel'][_0x2c7d2f(0x20d)]=_0x3876cd=>{const _0x451ceb=_0x2c7d2f;'1'===_0x3876cd[_0x451ceb(0x205)]&&(this[_0x451ceb(0x71d)]=Date['now']()-_0x5822f5,_0x2fbffb&&this[_0x451ceb(0x43b)]({'type':_0x3e0203[_0x451ceb(0x284)]}),_0x2fbffb=!0x1,this[_0x451ceb(0x876)]=Date[_0x451ceb(0xb26)](),this[_0x451ceb(0x5f8)]&&(this[_0x451ceb(0x5f8)]=!0x1,this[_0x451ceb(0x63a)]()));},this['heartbeatUnsubscriber']=_0x2674de[_0x2c7d2f(0x3c7)](()=>{const _0xa42d1=_0x2c7d2f;_0x5822f5=Date[_0xa42d1(0xb26)](),this[_0xa42d1(0x990)](_0x697175,_0x4eda50[_0xa42d1(0x951)]),Date[_0xa42d1(0xb26)]()-this['lastHeartbeat']>(_0x2fbffb?0x15f90:0x3a98)&&this[_0xa42d1(0x69c)]();},0xbb8);}[_0x227435(0x63a)](){const _0x3c9f60=_0x227435;this[_0x3c9f60(0xc6a)][_0x3c9f60(0x3e7)](_0x3db881=>{const _0x4a2094=_0x3c9f60;_0x3db881[_0x4a2094(0x544)][_0x4a2094(0x4c1)]&&_0x3db881[_0x4a2094(0x544)][_0x4a2094(0x4c1)]['track']&&!_0x3db881[_0x4a2094(0x544)][_0x4a2094(0x4c1)][_0x4a2094(0xad2)]&&(_0x3db881['tracks']['video']['sender']=this['connection'][_0x4a2094(0x71e)](_0x3db881['tracks'][_0x4a2094(0x4c1)][_0x4a2094(0x4d4)],_0x3db881[_0x4a2094(0x4d0)])),_0x3db881[_0x4a2094(0x544)][_0x4a2094(0x305)]&&_0x3db881[_0x4a2094(0x544)][_0x4a2094(0x305)]['track']&&!_0x3db881['tracks']['audio'][_0x4a2094(0xad2)]&&(_0x3db881[_0x4a2094(0x544)][_0x4a2094(0x305)][_0x4a2094(0xad2)]=this[_0x4a2094(0x53d)][_0x4a2094(0x71e)](_0x3db881[_0x4a2094(0x544)]['audio'][_0x4a2094(0x4d4)],_0x3db881['stream']));});}[_0x227435(0x26d)](){const _0x343ea0=_0x227435;this[_0x343ea0(0x43b)]({'type':_0x3e0203[_0x343ea0(0x8f8)],'candidates':this[_0x343ea0(0x21b)],'origin':_0x543fde['Sender'],'version':this[_0x343ea0(0xc3d)],'connectionType':this[_0x343ea0(0x8dd)]});}[_0x227435(0xb4b)](){const _0x2e07c4=_0x227435;super[_0x2e07c4(0xb4b)](),this[_0x2e07c4(0x53d)][_0x2e07c4(0x64b)]=()=>{const _0x236fa1=_0x2e07c4;if(_0x236fa1(0x727)===this[_0x236fa1(0x53d)][_0x236fa1(0x62b)]){_0x1822ee[_0x236fa1(0xbf2)](_0xbbb80e['ConnectionState'],_0x236fa1(0xa4b),this[_0x236fa1(0xc26)][_0x236fa1(0xc22)](),this[_0x236fa1(0x963)]);try{if(this[_0x236fa1(0x53d)][_0x236fa1(0x2c6)])return void this[_0x236fa1(0x53d)]['restartHandshake']();}catch(_0x3c8a7e){}this[_0x236fa1(0xbd1)]({'handshakeRestart':!0x0});}},this[_0x2e07c4(0x53d)][_0x2e07c4(0x239)]=()=>{const _0x5b4eee=_0x2e07c4;_0x5b4eee(0x44d)!==this[_0x5b4eee(0x53d)][_0x5b4eee(0x77a)]&&_0x5b4eee(0x727)!==this[_0x5b4eee(0x53d)][_0x5b4eee(0x77a)]||this[_0x5b4eee(0x69c)]();};}[_0x227435(0x69c)](){const _0x5704ce=_0x227435;this[_0x5704ce(0xb01)](),this[_0x5704ce(0xb56)](),this[_0x5704ce(0xbd8)](),_0x1822ee[_0x5704ce(0x51e)](_0x5704ce(0xbe8),{'clusterId':this['clusterId'],'nodeId':this['localNode']['getId'](),'nodeType':this[_0x5704ce(0xc26)]['type'],'remoteId':this[_0x5704ce(0x963)],'data':{'connectionType':this[_0x5704ce(0x8dd)],'connectionState':this[_0x5704ce(0x53d)][_0x5704ce(0x77a)],'iceConnectionState':this[_0x5704ce(0x53d)]['handshakeState'],'signalingState':this[_0x5704ce(0x53d)][_0x5704ce(0x2b1)],'readyState':this[_0x5704ce(0x61b)]?.[_0x5704ce(0x6f2)]||'','lastHeartbeat':this[_0x5704ce(0x876)]?Date['now']()-this[_0x5704ce(0x876)]:'','retryQueue':this[_0x5704ce(0xa69)]}}),(this['lastHeartbeat']&&Date[_0x5704ce(0xb26)]()-this[_0x5704ce(0x876)]>0xea60)??0x1?this['systemTopic']['publish']({'sourceId':this[_0x5704ce(0x963)],'destinationIds':[this[_0x5704ce(0xc26)][_0x5704ce(0xc22)]()],'messageType':_0x37ab1a[_0x5704ce(0xa5b)],'content':{'type':_0x3e0203['Disconnect']}}):(this['resetConnection'](),this[_0x5704ce(0x43b)]({'type':_0x3e0203['NeedRestart'],'version':this[_0x5704ce(0xc3d)],'connectionType':this[_0x5704ce(0x8dd)]}),this[_0x5704ce(0xbab)]=setTimeout(()=>{this['handleDisconnect']();},0x7530));}[_0x227435(0xb01)](){const _0x5d5283=_0x227435;this[_0x5d5283(0x746)]?.(),delete this[_0x5d5283(0x746)];}[_0x227435(0xbd8)](){const _0x388fed=_0x227435;this[_0x388fed(0xb55)]&&(clearTimeout(this['connectionTimeout']),delete this[_0x388fed(0xb55)]);}[_0x227435(0xb56)](){const _0x59c5b0=_0x227435;this[_0x59c5b0(0xbab)]&&(clearTimeout(this['restartTimeout']),delete this[_0x59c5b0(0xbab)]);}[_0x227435(0x943)](){const _0x271ace=_0x227435;this['upgradeTimeout']&&(clearTimeout(this[_0x271ace(0x3b1)]),delete this[_0x271ace(0x3b1)]);}[_0x227435(0xa15)](){const _0x1b613d=_0x227435;this[_0x1b613d(0x3b1)]=setTimeout(()=>{const _0x263300=_0x1b613d;this[_0x263300(0x853)]({'type':_0x47b7f8['Remediation'],'action':_0xf24b0b[_0x263300(0xa82)]});},0x3a98);}[_0x227435(0x848)](_0x5605ee,_0x32bf25){const _0x22cece=_0x227435,_0x50e385=Math[_0x22cece(0x936)](_0x5605ee[_0x22cece(0x478)]/_0x32bf25[_0x22cece(0x478)],_0x5605ee[_0x22cece(0x2a2)]/_0x32bf25['height']);return Math[_0x22cece(0x711)](Math[_0x22cece(0x936)](_0x50e385,0x1),0x4);}[_0x227435(0x6a8)](){const _0x43efb0=_0x227435;this[_0x43efb0(0x375)]?.(),delete this[_0x43efb0(0x375)];}[_0x227435(0xbf3)](){const _0x316bee=_0x227435;this[_0x316bee(0xc1b)]&&(clearTimeout(this[_0x316bee(0xc1b)]),delete this[_0x316bee(0xc1b)]);}[_0x227435(0x5b2)](_0x3c9285){const _0x1ecb4c=_0x227435,_0x393c0b=JSON['stringify'](_0x3c9285);return new TextEncoder()['encode'](_0x393c0b)[_0x1ecb4c(0x1f1)];}[_0x227435(0x46d)](_0x29c8a7,_0x47cf27){const _0x2cf383=_0x227435,_0x4cafd5=this[_0x2cf383(0x5b2)](_0x29c8a7),_0x580653=new Uint8Array(0x4),_0x4d0c46=new Uint8Array(_0x4cafd5),_0x370b79=new Uint8Array(_0x47cf27);_0x580653[_0x2cf383(0x9b4)](new Uint8Array(new Uint32Array([_0x4d0c46[_0x2cf383(0xbfb)]])['buffer']));const _0x404745=new Uint8Array(0x4+_0x4d0c46[_0x2cf383(0xbfb)]+_0x370b79[_0x2cf383(0xbfb)]);return _0x404745[_0x2cf383(0x9b4)](_0x580653),_0x404745['set'](_0x4d0c46,0x4),_0x404745[_0x2cf383(0x9b4)](_0x370b79,0x4+_0x4d0c46[_0x2cf383(0xbfb)]),_0x404745[_0x2cf383(0x1f1)];}}class _0x109ab7 extends _0x36fb56{[_0x227435(0xbca)];[_0x227435(0x8dd)];[_0x227435(0x623)];[_0x227435(0xad0)];[_0x227435(0x5ea)];[_0x227435(0x3f3)];[_0x227435(0xacc)];[_0x227435(0x53f)]=[];[_0x227435(0x6c0)]=_0x1aa7b3();[_0x227435(0x3bc)]=_0x1aa7b3();[_0x227435(0x67f)]=_0x1aa7b3();[_0x227435(0xb6a)]=[];[_0x227435(0x45d)];[_0x227435(0xb89)]=new Map();[_0x227435(0x37c)]=new Map();[_0x227435(0x261)]=new Map();[_0x227435(0x20e)]=new Map();[_0x227435(0x7b5)]=!0x1;constructor(_0x26bd40,_0x481bc0,_0x162eb7,_0x31d6c9,_0x249aeb,_0x16b031,_0x2267f9,_0x219206){const _0x1994ff=_0x227435;super(_0x26bd40,_0x481bc0,_0x162eb7),this[_0x1994ff(0xbca)]=_0x31d6c9,this[_0x1994ff(0x8dd)]=_0x249aeb,this[_0x1994ff(0x623)]=_0x16b031,this[_0x1994ff(0xad0)]=_0x2267f9,this[_0x1994ff(0x5ea)]=_0x219206;}[_0x227435(0x9a3)](_0x455dc8){const _0x4d1e4e=_0x227435;switch(_0x455dc8['getContentType']()){case _0x2bba8e[_0x4d1e4e(0x97c)][_0x4d1e4e(0xa47)]:case _0x2bba8e[_0x4d1e4e(0x97c)][_0x4d1e4e(0x8e7)]:case _0x2bba8e[_0x4d1e4e(0x97c)][_0x4d1e4e(0x9cf)]:case _0x2bba8e['ContentType']['KeyValueDatabase']:case _0x2bba8e['ContentType']['Job']:case _0x2bba8e[_0x4d1e4e(0x97c)][_0x4d1e4e(0x561)]:case _0x2bba8e['ContentType'][_0x4d1e4e(0x1e3)]:case _0x2bba8e[_0x4d1e4e(0x97c)][_0x4d1e4e(0xa75)]:this[_0x4d1e4e(0xb89)][_0x4d1e4e(0x9b4)](_0x455dc8[_0x4d1e4e(0x9a2)](),_0x455dc8);break;case _0x2bba8e[_0x4d1e4e(0x97c)][_0x4d1e4e(0x663)]:this[_0x4d1e4e(0x261)][_0x4d1e4e(0x9b4)](_0x455dc8[_0x4d1e4e(0x9a2)](),_0x455dc8);}}[_0x227435(0x408)](_0x1c2def){const _0x14e265=_0x227435;switch(_0x1c2def['getContentType']()){case _0x2bba8e[_0x14e265(0x97c)][_0x14e265(0xa47)]:case _0x2bba8e[_0x14e265(0x97c)][_0x14e265(0x8e7)]:case _0x2bba8e['ContentType']['ObjectStore']:case _0x2bba8e[_0x14e265(0x97c)]['KeyValueDatabase']:case _0x2bba8e[_0x14e265(0x97c)][_0x14e265(0x55e)]:case _0x2bba8e[_0x14e265(0x97c)][_0x14e265(0x561)]:case _0x2bba8e[_0x14e265(0x97c)][_0x14e265(0x1e3)]:case _0x2bba8e[_0x14e265(0x97c)][_0x14e265(0xa75)]:this[_0x14e265(0xb89)][_0x14e265(0x3df)](_0x1c2def[_0x14e265(0x9a2)]());break;case _0x2bba8e[_0x14e265(0x97c)]['Media']:this[_0x14e265(0x261)][_0x14e265(0x3df)](_0x1c2def[_0x14e265(0x9a2)]());}}[_0x227435(0x7b4)](_0x46ee17){const _0x115044=_0x227435;switch(_0x46ee17[_0x115044(0x9b5)]()){case _0x2bba8e[_0x115044(0x97c)][_0x115044(0xa47)]:case _0x2bba8e[_0x115044(0x97c)]['PubSub']:case _0x2bba8e[_0x115044(0x97c)][_0x115044(0x9cf)]:case _0x2bba8e['ContentType'][_0x115044(0x1ff)]:case _0x2bba8e[_0x115044(0x97c)]['Job']:case _0x2bba8e[_0x115044(0x97c)][_0x115044(0x561)]:case _0x2bba8e['ContentType']['GraphDatabase']:case _0x2bba8e[_0x115044(0x97c)]['ExternalStorage']:{const _0x3943bd=_0x46ee17[_0x115044(0x214)](_0x3a5bbd=>{const _0x4850a8=_0x115044;_0x1171eb(_0x3a5bbd,this['getLocalId']())&&_0x31db37(_0x3a5bbd,this[_0x4850a8(0x963)])&&this[_0x4850a8(0x8d0)](_0x3a5bbd);});this[_0x115044(0x37c)]['set'](_0x46ee17[_0x115044(0x9a2)](),_0x3943bd);break;}case _0x2bba8e['ContentType'][_0x115044(0x663)]:{const _0x3b5cbf=_0x46ee17[_0x115044(0x214)](({content:_0x4ed6d3})=>{const _0x2d7d30=_0x115044;switch(_0x4ed6d3['action']){case _0x1321bb[_0x2d7d30(0xa97)]:this[_0x2d7d30(0x71e)](_0x4ed6d3[_0x2d7d30(0x4d4)],_0x4ed6d3[_0x2d7d30(0x4d0)],_0x4ed6d3['priority'],_0x4ed6d3[_0x2d7d30(0x95a)]);break;case _0x1321bb[_0x2d7d30(0x405)]:this[_0x2d7d30(0x3ab)](_0x4ed6d3[_0x2d7d30(0x4d4)],_0x4ed6d3['stream']);break;case _0x1321bb[_0x2d7d30(0x34c)]:_0x4ed6d3[_0x2d7d30(0x483)]&&this[_0x2d7d30(0x976)](_0x4ed6d3[_0x2d7d30(0x4d0)],_0x4ed6d3[_0x2d7d30(0x483)]),_0x4ed6d3['params']&&this[_0x2d7d30(0xa84)](_0x4ed6d3[_0x2d7d30(0x4d0)],_0x4ed6d3[_0x2d7d30(0x95a)]);}});this['mediaUnsubscribers'][_0x115044(0x9b4)](_0x46ee17[_0x115044(0x9a2)](),_0x3b5cbf);break;}}}[_0x227435(0x370)](_0x565a12){const _0x55b11c=_0x227435;switch(_0x565a12[_0x55b11c(0x9b5)]()){case _0x2bba8e[_0x55b11c(0x97c)]['Data']:case _0x2bba8e[_0x55b11c(0x97c)]['PubSub']:case _0x2bba8e[_0x55b11c(0x97c)][_0x55b11c(0x9cf)]:case _0x2bba8e[_0x55b11c(0x97c)][_0x55b11c(0x1ff)]:case _0x2bba8e[_0x55b11c(0x97c)][_0x55b11c(0x55e)]:case _0x2bba8e[_0x55b11c(0x97c)][_0x55b11c(0x561)]:case _0x2bba8e[_0x55b11c(0x97c)][_0x55b11c(0x1e3)]:case _0x2bba8e[_0x55b11c(0x97c)]['ExternalStorage']:this[_0x55b11c(0x37c)][_0x55b11c(0x441)](_0x565a12[_0x55b11c(0x9a2)]())?.(),this['dataUnsubscribers'][_0x55b11c(0x3df)](_0x565a12[_0x55b11c(0x9a2)]());break;case _0x2bba8e['ContentType']['Media']:this[_0x55b11c(0x20e)][_0x55b11c(0x441)](_0x565a12['getLabel']())?.(),this[_0x55b11c(0x20e)][_0x55b11c(0x3df)](_0x565a12['getLabel']());}}['getSupportedContentTypes'](){const _0x18e2f3=_0x227435;return[_0x2bba8e[_0x18e2f3(0x97c)][_0x18e2f3(0xa47)],_0x2bba8e[_0x18e2f3(0x97c)]['Media'],_0x2bba8e[_0x18e2f3(0x97c)][_0x18e2f3(0x8e7)],_0x2bba8e[_0x18e2f3(0x97c)][_0x18e2f3(0x9cf)],_0x2bba8e[_0x18e2f3(0x97c)][_0x18e2f3(0x1ff)],_0x2bba8e[_0x18e2f3(0x97c)][_0x18e2f3(0x55e)],_0x2bba8e[_0x18e2f3(0x97c)][_0x18e2f3(0x561)],_0x2bba8e[_0x18e2f3(0x97c)][_0x18e2f3(0x1e3)],_0x2bba8e[_0x18e2f3(0x97c)][_0x18e2f3(0xa75)]];}[_0x227435(0xc6d)](_0x30ce8d){this['systemTopic']=_0x30ce8d;}[_0x227435(0x71a)](){const _0x22862d=_0x227435;delete this[_0x22862d(0x45d)];}async[_0x227435(0x897)](){const _0xf01edc=_0x227435;this[_0xf01edc(0x975)](),await this['createOffer']();}[_0x227435(0xa42)](){const _0xd34956=_0x227435;this[_0xd34956(0xb6a)]['forEach'](_0x5097bb=>_0x5097bb()),this[_0xd34956(0xb6a)]=[],this['senderConnection']?.[_0xd34956(0x71a)](),this[_0xd34956(0x3f3)]?.['close'](),delete this[_0xd34956(0x3f3)],this['receiverUnsubscribers'][_0xd34956(0x3e7)](_0x19c9b2=>_0x19c9b2()),this[_0xd34956(0x53f)]=[],this[_0xd34956(0xacc)]?.[_0xd34956(0x71a)](),this[_0xd34956(0xacc)]?.[_0xd34956(0xa42)](),delete this[_0xd34956(0xacc)];}['isConnected'](){const _0x14edee=_0x227435;return this[_0x14edee(0x3f3)]?.[_0x14edee(0x2cc)]()&&this[_0x14edee(0xacc)]?.[_0x14edee(0x2cc)]()||!0x1;}[_0x227435(0x8d0)](_0x2e9e78){const _0xb12807=_0x227435;if(!this[_0xb12807(0x3f3)]||!this['isConnected']())throw new _0x82cd08(_0x82cd08[_0xb12807(0xab8)]['ConnectionNotinitialized'],{'message':'Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','senderConnected':this['senderConnection']?.[_0xb12807(0x2cc)](),'receiverConnected':this[_0xb12807(0xacc)]?.[_0xb12807(0x2cc)](),'localId':this[_0xb12807(0x650)](),'remoteId':this[_0xb12807(0x963)],'data':_0x2e9e78});this[_0xb12807(0x3f3)][_0xb12807(0x8d0)](_0x2e9e78);}[_0x227435(0x20d)](_0x298469){const _0x31029f=_0x227435;return this['messageListeners'][_0x31029f(0x214)](_0x298469);}[_0x227435(0x1eb)](_0x42e3c1){const _0x2c98a9=_0x227435;return this['trackListeners'][_0x2c98a9(0x214)](({track:_0x554421,stream:_0x3f39ce})=>_0x42e3c1(_0x554421,_0x3f39ce));}[_0x227435(0xc0b)](_0x3dc16b){const _0x15d45a=_0x227435;return this[_0x15d45a(0x67f)][_0x15d45a(0x214)](({track:_0x2cee38,stream:_0x570bec})=>_0x3dc16b(_0x2cee38,_0x570bec));}[_0x227435(0x71e)](_0x51fadb,_0x54cabe,_0x32d994,_0x3ddf2e){const _0x3dd23b=_0x227435;this[_0x3dd23b(0x3f3)]?.[_0x3dd23b(0x71e)](_0x51fadb,_0x54cabe,_0x32d994,_0x3ddf2e);}[_0x227435(0x976)](_0x2b61be,_0x5e15c6){const _0x3bd675=_0x227435;this[_0x3bd675(0x3f3)]?.['setPriority'](_0x2b61be,_0x5e15c6);}[_0x227435(0xa84)](_0x533285,_0x3d1c14){const _0x18a366=_0x227435;this[_0x18a366(0x3f3)]?.[_0x18a366(0xa84)](_0x533285,_0x3d1c14);}[_0x227435(0x3ab)](_0x5d37fb,_0x2cd4c3){const _0x307d1f=_0x227435;this[_0x307d1f(0x3f3)]?.[_0x307d1f(0x3ab)](_0x5d37fb,_0x2cd4c3);}async[_0x227435(0x525)](_0x11452d){const _0x522d26=_0x227435;_0x1822ee['log'](_0xbbb80e[_0x522d26(0xb35)],_0x522d26(0x76e),this['getLocalId'](),_0x11452d);const {content:_0x84bacd}=_0x11452d;switch(_0x84bacd[_0x522d26(0x649)]){case _0x3e0203[_0x522d26(0x3ed)]:await this['handleOffer'](_0x84bacd);break;case _0x3e0203[_0x522d26(0x90a)]:await this[_0x522d26(0x4e6)](_0x84bacd);break;case _0x3e0203[_0x522d26(0x284)]:this[_0x522d26(0x903)]();break;case _0x3e0203['Handshake']:await this['handleIceCandidates'](_0x84bacd);break;case _0x3e0203[_0x522d26(0x4c5)]:this['handleNeedRestart'](_0x84bacd);break;case _0x3e0203[_0x522d26(0x9c3)]:await this[_0x522d26(0xbd1)]();}}[_0x227435(0x5fd)](_0x920c98){const _0x27a658=_0x227435;this[_0x27a658(0x3f3)]?.[_0x27a658(0x853)](_0x920c98['content'][_0x27a658(0x205)]);}['getConnectionType'](){const _0x2b8975=_0x227435;return this[_0x2b8975(0x8dd)];}[_0x227435(0x2a5)](_0xc4a544){const _0x301e03=_0x227435;this['connectionType']=_0xc4a544,this['senderConnection']?.[_0x301e03(0x2a5)](_0xc4a544),this[_0x301e03(0xacc)]?.['setConnectionType'](_0xc4a544);}async[_0x227435(0xb4a)](){await this['senderConnection']?.['collectStats'](),await this['receiverConnection']?.['collectStats']();}[_0x227435(0x22c)](){const _0x8ab275=_0x227435;return this['senderConnection']?.[_0x8ab275(0x22c)]()??0x0;}['getBufferedAmount'](){const _0xbaf66a=_0x227435;return this[_0xbaf66a(0x3f3)]?.[_0xbaf66a(0x857)]()??0x0;}[_0x227435(0x975)](){const _0x462b53=_0x227435;this['listenerUnsubscribers'][_0x462b53(0x91f)](this[_0x462b53(0x20d)](_0x22bcad=>{const _0x278a09=_0x462b53;_0x31db37(_0x22bcad,this['getLocalId']())&&0x0!==_0x22bcad['topicLabel']&&this[_0x278a09(0xb89)][_0x278a09(0x441)](_0x22bcad[_0x278a09(0xb8b)])?.[_0x278a09(0xb22)](_0x22bcad);})),this[_0x462b53(0xb6a)][_0x462b53(0x91f)](this['onTrack']((_0x28aef7,_0x426a3e)=>{const _0x31213c=_0x462b53,_0x1b2dea=_0x102506(_0x2bba8e[_0x31213c(0x97c)]['Media'],_0x426a3e['id'],this[_0x31213c(0x963)]);this[_0x31213c(0x261)][_0x31213c(0x441)](_0x1b2dea)?.['publish']({'topicLabel':_0x1b2dea,'sourceId':this[_0x31213c(0x963)],'contentType':_0x2bba8e['ContentType'][_0x31213c(0x663)],'content':{'action':_0x1321bb[_0x31213c(0xbfc)],'track':_0x28aef7,'stream':_0x426a3e,'providerId':this[_0x31213c(0x963)]}});})),this[_0x462b53(0xb6a)][_0x462b53(0x91f)](this['onRemoveTrack']((_0x363379,_0x1bb0fe)=>{const _0xa07b2c=_0x462b53,_0x310cf7=_0x102506(_0x2bba8e[_0xa07b2c(0x97c)]['Media'],_0x1bb0fe['id'],this[_0xa07b2c(0x963)]);this[_0xa07b2c(0x261)][_0xa07b2c(0x441)](_0x310cf7)?.['publish']({'topicLabel':_0x310cf7,'sourceId':this[_0xa07b2c(0x963)],'contentType':_0x2bba8e[_0xa07b2c(0x97c)][_0xa07b2c(0x663)],'content':{'action':_0x1321bb[_0xa07b2c(0xb70)],'track':_0x363379,'stream':_0x1bb0fe,'providerId':this['remoteId']}});}));}['handleIceCandidates']({candidates:_0x2c018b,origin:_0xfd9288,version:_0x3c7ec7}){const _0x2e400a=_0x227435;return _0xfd9288===_0x543fde[_0x2e400a(0x77b)]?(this[_0x2e400a(0xacc)]||this['createReceiverConnection'](),this['receiverConnection']['handleHandshake'](_0x2c018b,_0x3c7ec7)):this['senderConnection'][_0x2e400a(0x2d6)](_0x2c018b,_0x3c7ec7);}async[_0x227435(0xbd1)](){const _0x474229=_0x227435;this['senderConnection']||this[_0x474229(0x7eb)](),await this[_0x474229(0x3f3)][_0x474229(0xbd1)]();}async[_0x227435(0x53b)]({offer:_0xc8daa0,version:_0x4b1ee7}){const _0x192532=_0x227435;this['receiverConnection']||this['createReceiverConnection'](),await this[_0x192532(0xacc)]['handleOffer'](_0xc8daa0,_0x4b1ee7);}async['handleAnswer']({answer:_0x5b72da,version:_0x8f6bff}){const _0x337f8f=_0x227435;if(!this[_0x337f8f(0x3f3)])throw new _0x82cd08(_0x82cd08[_0x337f8f(0xab8)][_0x337f8f(0xa41)],{'message':_0x337f8f(0x707),'localId':this[_0x337f8f(0x650)](),'remoteId':this[_0x337f8f(0x963)],'answer':_0x5b72da});await this['senderConnection'][_0x337f8f(0x4e6)](_0x5b72da,_0x8f6bff);}[_0x227435(0x903)](){const _0x5f39ab=_0x227435;if(!this[_0x5f39ab(0xacc)])throw new _0x82cd08(_0x82cd08[_0x5f39ab(0xab8)][_0x5f39ab(0xa41)],{'message':_0x5f39ab(0x43c),'localId':this[_0x5f39ab(0x650)](),'remoteId':this[_0x5f39ab(0x963)]});this[_0x5f39ab(0xacc)][_0x5f39ab(0x903)](),this['successNotified']||this['connectionType']!==_0xc29e61['Optimization']||(this[_0x5f39ab(0x7b5)]=!0x0,this['systemTopic']?.[_0x5f39ab(0xb22)]({'sourceId':this[_0x5f39ab(0x963)],'destinationIds':[this[_0x5f39ab(0x650)]()],'messageType':_0x37ab1a[_0x5f39ab(0xa5b)],'content':{'type':_0x3e0203[_0x5f39ab(0xa62)]}}));}[_0x227435(0xba6)](_0x213165){const _0x15c1de=_0x227435;this['receiverConnection']||this[_0x15c1de(0xba0)](),this[_0x15c1de(0xacc)][_0x15c1de(0xba6)](_0x213165[_0x15c1de(0x45c)]);}[_0x227435(0x7eb)](){const _0x4b5abc=_0x227435;this['senderConnection']=new _0x2e2876(this[_0x4b5abc(0x7f8)],this['localNode'],this[_0x4b5abc(0x963)],this[_0x4b5abc(0xbca)],this[_0x4b5abc(0x8dd)],this[_0x4b5abc(0x623)],this[_0x4b5abc(0xad0)],this[_0x4b5abc(0x5ea)]),this[_0x4b5abc(0x3f3)][_0x4b5abc(0xc6d)](this[_0x4b5abc(0x45d)]);}[_0x227435(0xba0)](){const _0x34839c=_0x227435;this['receiverConnection']=new _0xf582ea(this[_0x34839c(0x7f8)],this[_0x34839c(0xc26)],this[_0x34839c(0x963)],this[_0x34839c(0xbca)],this[_0x34839c(0x8dd)],this['connectionConstructor']),this[_0x34839c(0xacc)][_0x34839c(0xc6d)](this[_0x34839c(0x45d)]),this['receiverUnsubscribers'][_0x34839c(0x91f)](this[_0x34839c(0xacc)][_0x34839c(0x20d)](_0x262874=>this['messageListeners'][_0x34839c(0xb22)](_0x262874))),this[_0x34839c(0x53f)][_0x34839c(0x91f)](this['receiverConnection'][_0x34839c(0x1eb)]((_0x31432f,_0x425fde)=>this[_0x34839c(0x3bc)][_0x34839c(0xb22)]({'track':_0x31432f,'stream':_0x425fde}))),this[_0x34839c(0x53f)][_0x34839c(0x91f)](this[_0x34839c(0xacc)]['onRemoveTrack']((_0x10908f,_0x280ca4)=>this['removeTrackListeners']['publish']({'track':_0x10908f,'stream':_0x280ca4})));}}class _0x46526c{['localId'];[_0x227435(0xb64)];[_0x227435(0x443)];[_0x227435(0x346)]=new Map();['messageListeners']=_0x1aa7b3();['messageUnsubscriber'];['dataTopics']=new Map();[_0x227435(0x37c)]=new Map();[_0x227435(0x96d)]=new Map();constructor(_0x405def,_0x15f355,_0x14b96b){const _0x216346=_0x227435;this[_0x216346(0x63f)]=_0x405def,this[_0x216346(0xb64)]=_0x15f355,this['graphService']=_0x14b96b,this[_0x216346(0x215)]=this[_0x216346(0x20d)](_0x9c90ad=>{const _0x54030f=_0x216346;this[_0x54030f(0xb64)][_0x54030f(0xc11)](_0x9c90ad[_0x54030f(0x4ca)])||(_0x31db37(_0x9c90ad,this[_0x54030f(0x63f)])&&0x0!==_0x9c90ad[_0x54030f(0xb8b)]&&(this[_0x54030f(0xb64)][_0x54030f(0x1fe)](_0x9c90ad[_0x54030f(0x4ca)]),this['dataTopics']['get'](_0x9c90ad[_0x54030f(0xb8b)])?.[_0x54030f(0xb22)](_0x9c90ad)),_0x9c90ad['propagate']&&this[_0x54030f(0x8d0)](_0x9c90ad));});}[_0x227435(0xa42)](){const _0x4eb34d=_0x227435;this[_0x4eb34d(0x215)]?.();}['addConnection'](_0x276915){const _0x38a2cc=_0x227435,_0x11909e=_0x276915[_0x38a2cc(0x20d)](_0x2adfc8=>{const _0x53f791=_0x38a2cc;this[_0x53f791(0x6c0)][_0x53f791(0xb22)](_0x2adfc8);});this[_0x38a2cc(0x346)][_0x38a2cc(0x9b4)](_0x276915,_0x11909e),this[_0x38a2cc(0x96d)]['set'](_0x276915[_0x38a2cc(0xba7)](),function(_0x25ab41,_0x28797b=!0x1){let _0x39232f=new Map();const _0x3e39ed=_0x1c147e(_0x25ab41,_0x28797b,function(_0x1b5f26){const _0x598ec1=a0_0x5d01;_0x4b18b7(_0x1b5f26)&&_0x39232f[_0x598ec1(0x3df)](_0x1b5f26[_0x598ec1(0xab9)]+'-'+(_0x1b5f26['destinationIds']??[])+'-'+_0x1b5f26['messageType']+'-'+_0x1b5f26[_0x598ec1(0xae3)][_0x598ec1(0x649)]);},function(_0xe4c85d){return!!function(_0x59dcce){const _0x159494=a0_0x5d01,_0x3a6da5=_0x59dcce['value'];if(!_0x4b18b7(_0x3a6da5))return!0x1;const _0x354610=_0x3a6da5['sourceId']+'-'+(_0x3a6da5['destinationIds']??[])+'-'+_0x3a6da5[_0x159494(0x656)]+'-'+_0x3a6da5[_0x159494(0xae3)]['type'],_0x58a882={'version':_0x3a6da5['content'][_0x159494(0x45c)],'element':_0x59dcce},_0x50c4fa=_0x39232f[_0x159494(0x441)](_0x354610);return _0x50c4fa?(_0x50c4fa[_0x159494(0x45c)]>=_0x3a6da5['content'][_0x159494(0x45c)]||(_0x50c4fa[_0x159494(0x5be)]['previous']&&(_0x50c4fa[_0x159494(0x5be)]['previous'][_0x159494(0xb37)]=_0x59dcce,_0x59dcce[_0x159494(0x778)]=_0x50c4fa[_0x159494(0x5be)][_0x159494(0x778)]),_0x50c4fa[_0x159494(0x5be)][_0x159494(0xb37)]&&(_0x50c4fa['element'][_0x159494(0xb37)][_0x159494(0x778)]=_0x59dcce,_0x59dcce[_0x159494(0xb37)]=_0x50c4fa['element'][_0x159494(0xb37)]),_0x50c4fa[_0x159494(0x5be)]===_0x3e39ed[_0x159494(0x6f3)]&&(_0x3e39ed[_0x159494(0x6f3)]=_0x59dcce),_0x50c4fa['element']===_0x3e39ed[_0x159494(0x418)]&&(_0x3e39ed[_0x159494(0x418)]=_0x59dcce),_0x39232f[_0x159494(0x9b4)](_0x354610,_0x58a882)),!0x0):(_0x39232f[_0x159494(0x9b4)](_0x354610,_0x58a882),!0x1);}(_0xe4c85d);},function(){_0x39232f['clear']();});function _0x4b18b7(_0x8e5b62){const _0x9631b0=a0_0x5d01;if(_0x8e5b62&&'object'==typeof _0x8e5b62&&_0x8e5b62[_0x9631b0(0x432)](_0x9631b0(0xae3))&&_0x8e5b62[_0x9631b0(0x432)]('messageType')&&_0x8e5b62['hasOwnProperty'](_0x9631b0(0xab9))){const _0x111414=_0x8e5b62;if(_0x111414[_0x9631b0(0xae3)]&&_0x9631b0(0xc34)==typeof _0x111414[_0x9631b0(0xae3)]&&_0x111414[_0x9631b0(0xae3)][_0x9631b0(0x432)]('version')&&_0x111414['content'][_0x9631b0(0x432)](_0x9631b0(0x649)))return!0x0;}return!0x1;}return _0x3e39ed;}(new _0x5cc66c(_0x4e9927=>_0x276915[_0x38a2cc(0x8d0)](_0x4e9927),()=>_0x2674de[_0x38a2cc(0xa9d)](0x64))));}[_0x227435(0xc2d)](_0x355307){const _0x3db4d6=_0x227435;this[_0x3db4d6(0x346)]['get'](_0x355307)?.(),this['connections']['delete'](_0x355307),this['retryQueues'][_0x3db4d6(0x441)](_0x355307[_0x3db4d6(0xba7)]())?.[_0x3db4d6(0x42a)](),this['retryQueues']['delete'](_0x355307[_0x3db4d6(0xba7)]());}[_0x227435(0x2cc)](_0xf8a0d5){const _0x4b444f=_0x227435;return _0x1822ee[_0x4b444f(0xbf2)](_0xbbb80e[_0x4b444f(0x94f)],'ConnectionGroup',this[_0x4b444f(0x63f)],this[_0x4b444f(0x346)][_0x4b444f(0x8d8)]()),0x0!==this[_0x4b444f(0x346)]['size']&&(Array['from'](this[_0x4b444f(0x346)][_0x4b444f(0x8d8)]())[_0x4b444f(0x5b4)](_0x33c8c9=>_0x33c8c9[_0x4b444f(0xba7)]()===_0xf8a0d5)?.['isConnected']()??!0x1);}[_0x227435(0x9a3)](_0x734a44){const _0x111136=_0x227435;this['dataTopics']['set'](_0x734a44[_0x111136(0x9a2)](),_0x734a44);}[_0x227435(0x408)](_0x256bb6){const _0x13ad13=_0x227435;this[_0x13ad13(0xb89)][_0x13ad13(0x3df)](_0x256bb6[_0x13ad13(0x9a2)]());}['registerSubscriber'](_0x3929fa){const _0x45ee26=_0x227435,_0x1014ac=_0x3929fa[_0x45ee26(0x214)](this[_0x45ee26(0x8d0)][_0x45ee26(0x5ad)](this));this[_0x45ee26(0x37c)][_0x45ee26(0x9b4)](_0x3929fa[_0x45ee26(0x9a2)](),_0x1014ac);}[_0x227435(0x370)](_0x517aca){const _0x50d507=_0x227435;this[_0x50d507(0x37c)][_0x50d507(0x441)](_0x517aca[_0x50d507(0x9a2)]())?.(),this[_0x50d507(0x37c)][_0x50d507(0x3df)](_0x517aca[_0x50d507(0x9a2)]());}[_0x227435(0x99e)](){const _0xf0dd00=_0x227435;return[_0x2bba8e['ContentType'][_0xf0dd00(0xa47)],_0x2bba8e[_0xf0dd00(0x97c)][_0xf0dd00(0x8e7)],_0x2bba8e[_0xf0dd00(0x97c)][_0xf0dd00(0x9cf)],_0x2bba8e[_0xf0dd00(0x97c)]['KeyValueDatabase'],_0x2bba8e['ContentType']['Job'],_0x2bba8e[_0xf0dd00(0x97c)][_0xf0dd00(0x561)],_0x2bba8e[_0xf0dd00(0x97c)][_0xf0dd00(0x1e3)],_0x2bba8e['ContentType'][_0xf0dd00(0xa75)]];}['send'](_0x5f1471){const _0x1ef8a6=_0x227435;if(!0x1===_0x5f1471[_0x1ef8a6(0x358)]){if(_0x5f1471['propagate']||!_0x5f1471[_0x1ef8a6(0x1e6)]||0x1!==_0x5f1471[_0x1ef8a6(0x1e6)][_0x1ef8a6(0xbfb)])throw new _0x82cd08(_0x82cd08[_0x1ef8a6(0xab8)][_0x1ef8a6(0x8c0)],{'message':'CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','localId':this[_0x1ef8a6(0x63f)]});if(!this[_0x1ef8a6(0x2cc)](_0x5f1471[_0x1ef8a6(0x1e6)][0x0]))throw new _0x242caf(_0x1ef8a6(0x48c));}const _0x5f53c8=_0x5f1471[_0x1ef8a6(0xc00)]??[];try{const {filteredDestinationIds:_0x27fb2d,extendedRecipients:_0x55df81}=this[_0x1ef8a6(0x817)](_0x5f1471,_0x5f53c8);_0x5f1471[_0x1ef8a6(0x1e6)]=_0x27fb2d,_0x5f1471[_0x1ef8a6(0xc00)]=_0x55df81;}catch(_0x42b4e3){if(_0x42b4e3 instanceof _0x242caf)return void _0x1822ee[_0x1ef8a6(0xbf2)](_0xbbb80e[_0x1ef8a6(0xb35)],_0x1ef8a6(0x3c6),_0x1ef8a6(0xa76),_0x5f1471,_0x42b4e3[_0x1ef8a6(0x325)]);}const _0x28b3c6=this[_0x1ef8a6(0xaf2)](_0x5f1471);this[_0x1ef8a6(0x4ad)](_0x5f1471,_0x28b3c6),_0x5f1471[_0x1ef8a6(0x75b)]=_0x28b3c6;const _0x4a29c7=this[_0x1ef8a6(0x927)](_0x5f1471,_0x5f53c8);for(const _0x2e9a90 of _0x4a29c7){const _0x7b5d9c=this[_0x1ef8a6(0x96d)][_0x1ef8a6(0x441)](_0x2e9a90[_0x1ef8a6(0xba7)]());if(!_0x7b5d9c)throw new _0x82cd08(_0x82cd08['codes'][_0x1ef8a6(0x310)],{'message':'CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','localId':this[_0x1ef8a6(0x63f)],'remoteId':_0x2e9a90[_0x1ef8a6(0xba7)](),'data':_0x5f1471});_0x7b5d9c[_0x1ef8a6(0x91f)](_0x5f1471);}}['getRemoteId'](){return'';}[_0x227435(0x650)](){const _0x1f9f84=_0x227435;return this[_0x1f9f84(0x63f)];}['onMessage'](_0x50ba56){const _0x56ec73=_0x227435;return this[_0x56ec73(0x6c0)][_0x56ec73(0x214)](_0x50ba56);}[_0x227435(0x817)](_0x444971,_0x212866){const _0x1ee85c=_0x227435,_0x39cc56={'filteredDestinationIds':_0x444971[_0x1ee85c(0x1e6)],'extendedRecipients':_0x444971[_0x1ee85c(0xc00)]};if(!_0x444971[_0x1ee85c(0x75b)])return _0x39cc56;const _0x1c2f07=Array[_0x1ee85c(0x218)](this[_0x1ee85c(0x346)][_0x1ee85c(0x8d8)]())[_0x1ee85c(0x276)](_0x4d9bfc=>_0x4d9bfc['getConnectionType']()===_0xc29e61[_0x1ee85c(0x732)]||_0x4d9bfc[_0x1ee85c(0x2cc)]())[_0x1ee85c(0x7b9)](_0x2196ad=>_0x2196ad[_0x1ee85c(0xba7)]());if(_0x1c2f07[_0x1ee85c(0x4df)]((_0x1268fe,_0x1305bc)=>_0x1268fe&&_0x444971[_0x1ee85c(0xc00)]['includes'](_0x1305bc),!0x0))throw new _0x242caf(_0x1ee85c(0xbad));if(_0x444971[_0x1ee85c(0x1e6)]){const _0x4996f9=_0x444971[_0x1ee85c(0x1e6)][_0x1ee85c(0x276)](_0x4d8390=>_0x4d8390!==this['localId']&&!_0x444971[_0x1ee85c(0xc00)][_0x1ee85c(0x771)](_0x4d8390));if(0x0===_0x4996f9['length'])throw new _0x242caf(_0x1ee85c(0x995));_0x39cc56[_0x1ee85c(0x953)]=_0x4996f9;}return _0x39cc56[_0x1ee85c(0x24a)]=[...new Set([..._0x212866,..._0x1c2f07,this[_0x1ee85c(0x63f)]])],_0x39cc56;}['logPropagateSystemEvent'](_0x4d30ff,_0x1c5877=!0x1){const _0x3a4f83=_0x227435;if(0x0===_0x4d30ff['topicLabel']&&!_0x1171eb(_0x4d30ff,this[_0x3a4f83(0x63f)])&&_0x4d30ff[_0x3a4f83(0x75b)]){const _0x330e4b=_0x58f19b(_0x4d30ff,this[_0x3a4f83(0x63f)]);_0x1822ee[_0x3a4f83(0xa25)](_0xbbb80e[_0x3a4f83(0x82a)],_0x4d30ff[_0x3a4f83(0x4ca)]+'\x20-\x20Sending\x20propagation\x20('+_0x1c5877+')\x20'+_0x330e4b,_0x4d30ff,_0x1c5877);}}['shouldContinuePropagation'](_0x823ec9){const _0x4ca348=_0x227435;if(_0x823ec9['destinationIds']&&_0x823ec9[_0x4ca348(0x75b)]){const _0x134ee3=Array[_0x4ca348(0x218)](this[_0x4ca348(0x346)]['keys']())[_0x4ca348(0x276)](_0x206fc5=>_0x206fc5[_0x4ca348(0x3b8)]()===_0xc29e61[_0x4ca348(0x732)]||_0x206fc5[_0x4ca348(0x2cc)]())['map'](_0x50c07e=>_0x50c07e[_0x4ca348(0xba7)]());return!_0x823ec9[_0x4ca348(0x1e6)][_0x4ca348(0x4df)]((_0x251028,_0x256c2c)=>_0x251028&&_0x134ee3['includes'](_0x256c2c),!0x0);}return _0x823ec9[_0x4ca348(0x75b)]??!0x1;}[_0x227435(0x927)](_0x1801c8,_0x1e0936){const _0x812dd6=_0x227435;if(_0x1801c8['propagate']&&_0x1801c8[_0x812dd6(0x1e6)]){const _0x4d6411=Array['from'](this[_0x812dd6(0x346)][_0x812dd6(0x8d8)]())[_0x812dd6(0x276)](_0x3baf25=>_0x3baf25[_0x812dd6(0x3b8)]()===_0xc29e61[_0x812dd6(0x732)]||_0x3baf25[_0x812dd6(0x2cc)]())['map'](_0x185d57=>_0x185d57[_0x812dd6(0xba7)]()),_0x43f749=new Set(),_0x24e859=_0x1801c8[_0x812dd6(0xab9)]===this['localId']?0x3:0x1;return _0x1801c8[_0x812dd6(0x1e6)][_0x812dd6(0x3e7)](_0x397101=>{const _0x1f2eb6=_0x812dd6,_0x408b43=this[_0x1f2eb6(0x443)][_0x1f2eb6(0xc31)](_0x4d6411,_0x397101);let _0x2ecd8e=0x0,_0x3e71ed=0x0;_0x408b43[_0x1f2eb6(0x3e7)](_0x5d614c=>{const _0x1fdc65=_0x1f2eb6;if(_0x2ecd8e>=_0x24e859)return;const _0x39ab50=Array[_0x1fdc65(0x218)](this['connections'][_0x1fdc65(0x8d8)]())['find'](_0x599d1c=>_0x599d1c['getRemoteId']()===_0x5d614c);if(_0x39ab50){if(_0x39ab50[_0x1fdc65(0x3b8)]()===_0xc29e61[_0x1fdc65(0x732)]&&_0x3e71ed>0x0)return void(_0x3e71ed-=0x1);_0x43f749[_0x1fdc65(0x9b9)](_0x39ab50),_0x39ab50[_0x1fdc65(0x3b8)]()===_0xc29e61[_0x1fdc65(0x785)]&&(_0x3e71ed+=0x1),_0x2ecd8e+=0x1;}});}),Array[_0x812dd6(0x218)](_0x43f749);}return Array[_0x812dd6(0x218)](this['connections']['keys']())[_0x812dd6(0x276)](_0x29d9b2=>{const _0x17dce3=_0x812dd6;return _0x3def7a=_0x29d9b2[_0x17dce3(0xba7)](),!_0x1e0936[_0x17dce3(0x771)](_0x3def7a)&&(_0x31db37(_0x1801c8,_0x3def7a)||_0x1801c8['propagate'])&&(!_0x1801c8[_0x17dce3(0x75b)]||_0x29d9b2[_0x17dce3(0x2cc)]()||_0x29d9b2[_0x17dce3(0x3b8)]()===_0xc29e61['Core']);var _0x3def7a;});}}class _0x232a48{[_0x227435(0x63f)];[_0x227435(0xb64)];[_0x227435(0x346)]=new Map();[_0x227435(0x45d)];constructor(_0x4a9d7d,_0x3ad03d){const _0x308227=_0x227435;this[_0x308227(0x63f)]=_0x4a9d7d,this[_0x308227(0xb64)]=_0x3ad03d;}[_0x227435(0xa42)](){}[_0x227435(0x8d0)](_0x57a798){const _0x4f1ea7=_0x227435;for(const _0x368544 of this['connections'][_0x4f1ea7(0x8d8)]())try{return void _0x368544[_0x4f1ea7(0x8d0)]({'retry':!0x1,..._0x57a798});}catch(_0x279edc){_0x279edc instanceof _0x242caf||_0x1822ee['log'](_0xbbb80e[_0x4f1ea7(0x449)],_0x4f1ea7(0x32d)+_0x368544,_0x279edc,_0x57a798);}_0x1822ee[_0x4f1ea7(0xbf2)](_0xbbb80e[_0x4f1ea7(0x449)],'No\x20connections\x20available\x20to\x20send\x20message');}[_0x227435(0xc6f)](_0x1f5424){const _0x1027c0=_0x227435,_0x289ba9=_0x1f5424['onMessage'](_0x20e616=>{const _0x3c7f1e=a0_0x5d01;this['messageBuffer'][_0x3c7f1e(0xc11)](_0x20e616[_0x3c7f1e(0x4ca)])||0x0===_0x20e616['topicLabel']&&(this[_0x3c7f1e(0xb64)]['addMessage'](_0x20e616['uuid']),_0x31db37(_0x20e616,this['localId'])&&this[_0x3c7f1e(0x45d)]?.['publish'](_0x20e616));});this[_0x1027c0(0x346)][_0x1027c0(0x9b4)](_0x1f5424,_0x289ba9);}[_0x227435(0xc2d)](_0x6fdacf){const _0x49847d=_0x227435;this[_0x49847d(0x346)][_0x49847d(0x441)](_0x6fdacf)?.(),this['connections'][_0x49847d(0x3df)](_0x6fdacf);}[_0x227435(0x650)](){const _0xc93e45=_0x227435;return this[_0xc93e45(0x63f)];}[_0x227435(0xba7)](){return'';}[_0x227435(0x99e)](){const _0x4c3d45=_0x227435;return[_0x2bba8e['ContentType'][_0x4c3d45(0xa47)]];}[_0x227435(0x2cc)](){const _0x813ffa=_0x227435;throw new Error(_0x813ffa(0x3e9));}[_0x227435(0xc6d)](_0x5a37d5){const _0xe0276d=_0x227435;this[_0xe0276d(0x45d)]=_0x5a37d5;}[_0x227435(0x71a)](){delete this['systemTopic'];}}class _0xa7d843{[_0x227435(0x1f1)]=new Map();['unsubscribeHandler'];constructor(){const _0x435169=_0x227435;this[_0x435169(0xb96)]=_0x2674de['setInterval'](()=>{const _0x3bccfd=_0x435169;for(const [_0x2be49b,_0x334197]of this['buffer'][_0x3bccfd(0xc67)]())Date[_0x3bccfd(0xb26)]()-_0x334197>0x124f80&&this['buffer'][_0x3bccfd(0x3df)](_0x2be49b);},0x1d4c0);}[_0x227435(0xa42)](){const _0x4b4060=_0x227435;this[_0x4b4060(0xb96)]();}['addMessage'](_0x16407e){const _0x99fc59=_0x227435;this[_0x99fc59(0x1f1)]['set'](_0x16407e,Date[_0x99fc59(0xb26)]());}[_0x227435(0xc11)](_0x229c65){const _0x3a84da=_0x227435;return this['buffer'][_0x3a84da(0xac9)](_0x229c65);}}class _0x3f5a6a{[_0x227435(0x22a)];[_0x227435(0x980)];['iceServers'];[_0x227435(0x21e)];[_0x227435(0x346)]=new Map();[_0x227435(0xbd6)];[_0x227435(0x812)];[_0x227435(0xc57)];['messageBuffer'];constructor(_0x5cbeee,_0x25f21b,_0x520e85,_0x39fa4,_0x2b9a98){const _0xe9b3fb=_0x227435;this[_0xe9b3fb(0x22a)]=_0x5cbeee,this['authService']=_0x25f21b,this[_0xe9b3fb(0xbca)]=_0x39fa4,this[_0xe9b3fb(0x21e)]=_0x2b9a98,this[_0xe9b3fb(0xb64)]=new _0xa7d843(),this['connectionGroup']=new _0x46526c(this[_0xe9b3fb(0x22a)][_0xe9b3fb(0xc26)][_0xe9b3fb(0xc22)](),this[_0xe9b3fb(0xb64)],_0x520e85),this['signalingServer']=new _0x1610bc(this['configs'][_0xe9b3fb(0x2ae)],this['configs'][_0xe9b3fb(0x7f8)],this[_0xe9b3fb(0x22a)][_0xe9b3fb(0xc26)],_0xe9b3fb(0x44c),this['authService']),this[_0xe9b3fb(0xbd6)]=new _0x232a48(this[_0xe9b3fb(0x22a)][_0xe9b3fb(0xc26)]['getId'](),this[_0xe9b3fb(0xb64)]),this[_0xe9b3fb(0xbd6)]['addConnection'](this['connectionGroup']),this['connectionPool'][_0xe9b3fb(0xc6f)](this[_0xe9b3fb(0xc57)]),this[_0xe9b3fb(0x22a)][_0xe9b3fb(0x3c9)]['registerSystemSource'](this[_0xe9b3fb(0xbd6)]);}[_0x227435(0xa42)](){const _0x19b8a6=_0x227435;this[_0x19b8a6(0xb64)][_0x19b8a6(0xa42)](),this['connections'][_0x19b8a6(0x3e7)]((_0x5aab5f,_0x37f32e)=>this[_0x19b8a6(0x9a7)](_0x37f32e)),this['configs'][_0x19b8a6(0x3c9)][_0x19b8a6(0x75d)](this[_0x19b8a6(0xbd6)]),this[_0x19b8a6(0xbd6)][_0x19b8a6(0xc2d)](this[_0x19b8a6(0xc57)]),this['connectionPool'][_0x19b8a6(0xc2d)](this[_0x19b8a6(0x812)]),this[_0x19b8a6(0xbd6)][_0x19b8a6(0xa42)](),this['signalingServer'][_0x19b8a6(0xa42)](),this['connectionGroup']['close']();}async[_0x227435(0x8c7)](){const _0x4173a1=_0x227435;await this[_0x4173a1(0xc57)]['connect']();}async[_0x227435(0x9f5)](_0x39c22b,_0x24a363=_0xc29e61[_0x227435(0x732)]){const _0x33d958=_0x227435;if(this['connections'][_0x33d958(0xac9)](_0x39c22b)){if(this['connections'][_0x33d958(0x441)](_0x39c22b)?.[_0x33d958(0x3b8)]()===_0xc29e61[_0x33d958(0x785)]&&_0x24a363===_0xc29e61[_0x33d958(0x732)])return void this['connections'][_0x33d958(0x441)](_0x39c22b)?.[_0x33d958(0x2a5)](_0xc29e61['Core']);throw new _0x82cd08(_0x82cd08[_0x33d958(0xab8)][_0x33d958(0x55f)],{'localId':this[_0x33d958(0x22a)][_0x33d958(0xc26)][_0x33d958(0xc22)](),'remoteId':_0x39c22b});}const _0x55e420=new _0x109ab7(this[_0x33d958(0x22a)][_0x33d958(0x7f8)],this[_0x33d958(0x22a)][_0x33d958(0xc26)],_0x39c22b,this[_0x33d958(0xbca)],_0x24a363,this[_0x33d958(0x21e)][_0x33d958(0x623)],this['options'][_0x33d958(0xad0)],this[_0x33d958(0x21e)][_0x33d958(0x605)]);this[_0x33d958(0x346)][_0x33d958(0x9b4)](_0x39c22b,_0x55e420),this[_0x33d958(0x812)]['addConnection'](_0x55e420),this[_0x33d958(0x22a)][_0x33d958(0x3c9)][_0x33d958(0x282)](_0x55e420),this[_0x33d958(0x22a)][_0x33d958(0x3c9)][_0x33d958(0x904)](_0x39c22b),await _0x55e420[_0x33d958(0x897)]();}['getConnectionGroup'](){const _0x43a711=_0x227435;return this[_0x43a711(0x812)];}['getConnection'](_0x246dab){const _0x1a3b0d=_0x227435;if(!this['connections'][_0x1a3b0d(0xac9)](_0x246dab))throw new _0x82cd08(_0x82cd08[_0x1a3b0d(0xab8)][_0x1a3b0d(0x635)],{'localId':this['configs'][_0x1a3b0d(0xc26)]['getId'](),'remoteId':_0x246dab});return this[_0x1a3b0d(0x346)][_0x1a3b0d(0x441)](_0x246dab);}[_0x227435(0x210)](_0x56f058){const _0x369a8a=_0x227435,_0x225cd7=Array['from'](this[_0x369a8a(0x346)]['values']());return _0x56f058?_0x225cd7[_0x369a8a(0x276)](_0x56f058):_0x225cd7;}async[_0x227435(0xb4a)](_0x1bbae3){const _0x49d5f7=_0x227435,_0xbfb12e=this['connections'][_0x49d5f7(0x441)](_0x1bbae3);_0xbfb12e&&_0xbfb12e[_0x49d5f7(0x2cc)]()&&await _0xbfb12e[_0x49d5f7(0xb4a)]();}[_0x227435(0x22f)](_0x30c3b9){const _0x5f015c=_0x227435;if(_0x30c3b9[_0x5f015c(0x656)]!==_0x37ab1a[_0x5f015c(0xa5b)]||_0x30c3b9[_0x5f015c(0x75b)])try{this['connectionGroup'][_0x5f015c(0x8d0)](_0x30c3b9);}catch(_0x2b3f35){if(_0x2b3f35 instanceof _0x242caf)return;throw _0x2b3f35;}else this[_0x5f015c(0xbd6)][_0x5f015c(0x8d0)](_0x30c3b9);}async['handlePeerConnectionSystemEvents'](_0x205a4e){const _0x2bebdf=_0x227435;switch(_0x205a4e[_0x2bebdf(0xae3)][_0x2bebdf(0x649)]){case _0x3e0203['Disconnect']:case _0x3e0203[_0x2bebdf(0xabd)]:case _0x3e0203[_0x2bebdf(0xa62)]:return;}if(!_0x205a4e['destinationIds']||0x1!==_0x205a4e[_0x2bebdf(0x1e6)][_0x2bebdf(0xbfb)])throw new _0x82cd08(_0x82cd08[_0x2bebdf(0xab8)][_0x2bebdf(0x79b)],{'message':_0x2bebdf(0x2c9),'event':_0x205a4e});if(_0x205a4e[_0x2bebdf(0x1e6)][0x0]!==this[_0x2bebdf(0x22a)][_0x2bebdf(0xc26)][_0x2bebdf(0xc22)]())throw new _0x82cd08(_0x82cd08[_0x2bebdf(0xab8)]['PeerConnectionInvalidDestination'],{'message':_0x2bebdf(0x57b),'event':_0x205a4e});if(!this[_0x2bebdf(0x346)][_0x2bebdf(0xac9)](_0x205a4e['sourceId'])){let _0x1959e6=_0xc29e61['Core'];if(!(this[_0x2bebdf(0xaf3)](_0x205a4e[_0x2bebdf(0xae3)])||this['isIceCandidate'](_0x205a4e['content'])||this['isNeedRestart'](_0x205a4e[_0x2bebdf(0xae3)])))return;_0x1959e6=_0x205a4e[_0x2bebdf(0xae3)][_0x2bebdf(0x8dd)],await this['createConnection'](_0x205a4e[_0x2bebdf(0xab9)],_0x1959e6);}const _0x59d491=this[_0x2bebdf(0x346)][_0x2bebdf(0x441)](_0x205a4e['sourceId']);await _0x59d491['handlePeerConnectionSystemEvents'](_0x205a4e);}[_0x227435(0x5fd)](_0x2d0474){const _0xce5ca8=_0x227435;if(_0x2d0474[_0xce5ca8(0xae3)][_0xce5ca8(0x649)]===_0x47b7f8[_0xce5ca8(0x8b0)]){if(_0x2d0474[_0xce5ca8(0xae3)][_0xce5ca8(0x85a)]===this[_0xce5ca8(0x22a)]['localNode'][_0xce5ca8(0xc22)]())return void this[_0xce5ca8(0x346)][_0xce5ca8(0x3e7)](_0x46b6b4=>_0x46b6b4[_0xce5ca8(0x5fd)](_0x2d0474));this[_0xce5ca8(0x346)][_0xce5ca8(0x441)](_0x2d0474[_0xce5ca8(0xae3)]['targetId'])?.[_0xce5ca8(0x5fd)](_0x2d0474);}}[_0x227435(0x2f1)]({content:_0x38d653}){const _0x269ccb=_0x227435;_0x38d653['type']===_0x4026a7[_0x269ccb(0x728)]&&this[_0x269ccb(0x9a7)](_0x38d653['id']);}['waitForArrayBufferSize'](){const _0x3bc31f=_0x227435,_0x56eca5=Array[_0x3bc31f(0x218)](this['connections']['values']())[_0x3bc31f(0x4df)]((_0x329bc3,_0x490906)=>_0x329bc3+_0x490906[_0x3bc31f(0x22c)](),0x0);return _0x56eca5<_0x499a89?Promise['resolve'](_0x56eca5):new Promise(_0x14c197=>{const _0x877df0=setInterval(()=>{const _0x5d3a02=a0_0x5d01,_0x19903c=Array[_0x5d3a02(0x218)](this[_0x5d3a02(0x346)][_0x5d3a02(0xbc7)]())[_0x5d3a02(0x4df)]((_0x20e661,_0x4fe579)=>_0x20e661+_0x4fe579[_0x5d3a02(0x22c)](),0x0);_0x19903c<_0x499a89&&(clearInterval(_0x877df0),_0x14c197(_0x19903c));},0x3e8);});}[_0x227435(0x4e8)](){const _0x2bb16c=_0x227435;for(const _0x1f2644 of this[_0x2bb16c(0x346)][_0x2bb16c(0xbc7)]())if(_0x1f2644[_0x2bb16c(0x857)]()>0x0||_0x1f2644[_0x2bb16c(0x22c)]()>0x0)return!0x0;return!0x1;}[_0x227435(0x9a7)](_0x27da3b){const _0x4f8edf=_0x227435,_0x38e80a=this[_0x4f8edf(0x346)][_0x4f8edf(0x441)](_0x27da3b);_0x38e80a&&(this['configs'][_0x4f8edf(0x3c9)][_0x4f8edf(0x5de)](_0x27da3b),this[_0x4f8edf(0x22a)][_0x4f8edf(0x3c9)][_0x4f8edf(0x75d)](_0x38e80a),_0x38e80a instanceof _0x109ab7&&this['connectionGroup'][_0x4f8edf(0xc2d)](_0x38e80a),_0x38e80a[_0x4f8edf(0xa42)](),this[_0x4f8edf(0x346)][_0x4f8edf(0x3df)](_0x27da3b));}[_0x227435(0xaf3)](_0x2fdc7f){const _0x3a8673=_0x227435;return _0x2fdc7f[_0x3a8673(0x649)]===_0x3e0203[_0x3a8673(0x3ed)];}['isNeedRestart'](_0x959a43){const _0x36fdd9=_0x227435;return _0x959a43['type']===_0x3e0203[_0x36fdd9(0x4c5)];}['isIceCandidate'](_0x4334b2){const _0x40080b=_0x227435;return _0x4334b2[_0x40080b(0x649)]===_0x3e0203[_0x40080b(0x8f8)];}}!function(_0x22bdb6){const _0x9974e9=_0x227435;_0x22bdb6[_0x22bdb6[_0x9974e9(0x482)]=0x0]='SubscribeMediaStream',_0x22bdb6[_0x22bdb6[_0x9974e9(0x2cb)]=0x1]='UpdateMediaStream',_0x22bdb6[_0x22bdb6[_0x9974e9(0xc79)]=0x2]=_0x9974e9(0xc79),_0x22bdb6[_0x22bdb6[_0x9974e9(0x433)]=0x3]=_0x9974e9(0x433),_0x22bdb6[_0x22bdb6[_0x9974e9(0x1f3)]=0x4]=_0x9974e9(0x1f3),_0x22bdb6[_0x22bdb6['CanProvideMediaStream']=0x5]='CanProvideMediaStream',_0x22bdb6[_0x22bdb6['CannotProvideMediaStream']=0x6]=_0x9974e9(0x2b3),_0x22bdb6[_0x22bdb6['MediaStreamUnavailable']=0x7]='MediaStreamUnavailable';}(_0x11acfe||(_0x11acfe={}));class _0x3f8e1a extends _0x4c830f{[_0x227435(0xc26)];[_0x227435(0x7f8)];[_0x227435(0x2ae)];[_0x227435(0xc65)];['debounceStats'];[_0x227435(0x352)]=0x0;[_0x227435(0x9fe)];[_0x227435(0x877)]=_0x1aa7b3();[_0x227435(0xb6a)]=new Map();[_0x227435(0x53c)];constructor(_0x5dda6b,_0x303618,_0x1df3a7,_0x2850dd,_0x3b60fd){const _0x143727=_0x227435;if('string'!=typeof _0x303618)throw new _0x27b95d(_0x398751[_0x143727(0x65b)],_0x143727(0x850));super(_0x5dda6b,_0x303618),this[_0x143727(0xc26)]=_0x5dda6b,this[_0x143727(0x7f8)]=_0x1df3a7,this[_0x143727(0x2ae)]=_0x2850dd,this['connectorConstructor']=_0x3b60fd,this[_0x143727(0x23c)]();}[_0x227435(0xa3c)](){const _0x5a5460=_0x227435;this['changesUnsubscriber']?.(),this[_0x5a5460(0xb6a)][_0x5a5460(0x3e7)](_0x22ae8f=>_0x22ae8f()),clearTimeout(this['debounceStats']),delete this['debounceStats'],super['destroy']();}[_0x227435(0x278)](){const _0x3bb49e=_0x227435;this[_0x3bb49e(0x23c)]();}[_0x227435(0xa42)](){const _0x4eb41b=_0x227435;this['systemTopic'][_0x4eb41b(0xb22)]({'sourceId':_0x48df1c,'messageType':_0x37ab1a['Content'],'content':{'type':_0x593bd0[_0x4eb41b(0xb53)],'label':this['label']}});}[_0x227435(0x9b5)](){const _0x5f27fa=_0x227435;return _0x2bba8e['ContentType'][_0x5f27fa(0xa75)];}async['get'](_0x4fcc4b){const _0xfd7cbd=_0x227435;if(!this[_0xfd7cbd(0x9fe)])throw new _0x27b95d(_0x398751[_0xfd7cbd(0x7be)],_0xfd7cbd(0x491));_0x1822ee['logServiceEvent'](_0x26d5b9[_0xfd7cbd(0xa75)],{'type':'get','label':this[_0xfd7cbd(0x40a)],'nodeId':this['localNode'][_0xfd7cbd(0xc22)](),'nodeType':this[_0xfd7cbd(0xc26)]['type'],'clusterId':this[_0xfd7cbd(0x7f8)],'path':_0x4fcc4b}),this[_0xfd7cbd(0x352)]+=0x1,this['sendStats']();try{return await this[_0xfd7cbd(0x9fe)][_0xfd7cbd(0x441)](_0x4fcc4b);}catch(_0x1658d3){throw new _0x27b95d(_0x398751[_0xfd7cbd(0xa13)],_0xfd7cbd(0x930)+_0x4fcc4b);}}async[_0x227435(0x5cb)](_0x1b21b4,_0x3230f7){const _0x514e25=_0x227435;if(!this[_0x514e25(0x9fe)])throw new _0x27b95d(_0x398751[_0x514e25(0x7be)],_0x514e25(0x979));const {recursive:_0x4538d8=!0x1}=_0x3230f7??{};_0x1822ee[_0x514e25(0x8c4)](_0x26d5b9[_0x514e25(0xa75)],{'type':_0x514e25(0x5cb),'label':this[_0x514e25(0x40a)],'nodeId':this[_0x514e25(0xc26)][_0x514e25(0xc22)](),'nodeType':this[_0x514e25(0xc26)][_0x514e25(0x649)],'clusterId':this[_0x514e25(0x7f8)],'path':_0x1b21b4}),this[_0x514e25(0x352)]+=0x1,this[_0x514e25(0x23c)]();try{return await this[_0x514e25(0x9fe)]['list'](_0x1b21b4,_0x4538d8);}catch(_0x40a0b6){throw new _0x27b95d(_0x398751[_0x514e25(0xa13)],_0x514e25(0x466)+_0x1b21b4);}}[_0x227435(0x214)](_0x766e9f,_0x4382a1){const _0x50186b=_0x227435;if(this[_0x50186b(0xb6a)][_0x50186b(0xac9)](_0x766e9f))throw new _0x27b95d(_0x398751[_0x50186b(0x664)],_0x50186b(0x5ce));this[_0x50186b(0xb6a)]['set'](_0x766e9f,this[_0x50186b(0x877)][_0x50186b(0x214)](_0x4382a1));}[_0x227435(0x46f)](_0x478c97){const _0x600e17=_0x227435;this[_0x600e17(0xb6a)][_0x600e17(0x441)](_0x478c97)?.(),this[_0x600e17(0xb6a)][_0x600e17(0x3df)](_0x478c97);}async[_0x227435(0xbd2)](){const _0x1693dd=_0x227435,_0x1ab506=(await(0x0,_0x4e090a[_0x1693dd(0x2a3)])((0x0,_0x4e090a['doc'])(_0x35b99b['getFirestore'](),_0x1693dd(0x34e)+this[_0x1693dd(0x2ae)]+_0x1693dd(0xb02)+this[_0x1693dd(0x40a)])))[_0x1693dd(0x205)]();if(!_0x1ab506)throw new _0x27b95d(_0x398751[_0x1693dd(0x72b)],_0x1693dd(0x603)+this[_0x1693dd(0x40a)]);const {site:_0xffac93,drive:_0x3519de}=_0x1ab506,_0x35cdef=(await(0x0,_0x4328ab['httpsCallable'])(_0x35b99b[_0x1693dd(0xb61)](),_0x1693dd(0x1f2))({'storageId':this[_0x1693dd(0x40a)]}))['data'][_0x1693dd(0xa0d)];this[_0x1693dd(0x9fe)]=new this['connectorConstructor'](_0xffac93['id'],_0x3519de['id'],_0x35cdef,async()=>(await(0x0,_0x4328ab[_0x1693dd(0x855)])(_0x35b99b['getFunctions'](),_0x1693dd(0x529))({'storageId':this[_0x1693dd(0x40a)]}))['data']['accessToken']),this[_0x1693dd(0x455)]();}[_0x227435(0x23c)](){const _0x5407f5=_0x227435;this[_0x5407f5(0xb57)]&&clearTimeout(this['debounceStats']),this[_0x5407f5(0xb57)]=setTimeout(async()=>{const _0x348152=_0x5407f5;delete this[_0x348152(0xb57)],this['systemTopic'][_0x348152(0xb22)]({'sourceId':_0x48df1c,'messageType':_0x37ab1a[_0x348152(0x42c)],'content':{'type':_0x593bd0[_0x348152(0x471)],'label':this[_0x348152(0x40a)],'stats':{'timestamp':Date[_0x348152(0xb26)](),'storage':0x0,'messagesSent':0x0,'messagesReceived':0x0,'bytesSent':0x0,'bytesReceived':0x0,'writes':0x0,'reads':this[_0x348152(0x352)],'prompts':0x0,'tokens':0x0}}});},_0x384e78);}async[_0x227435(0x455)](){const _0x11a9d9=_0x227435;await this['connector']?.[_0x11a9d9(0x1fd)](),this['changesUnsubscriber']=_0x2674de[_0x11a9d9(0x3c7)](async()=>{const _0x11a0b1=_0x11a9d9;try{if(!this[_0x11a0b1(0x9fe)])return;const _0x5de30a=await this[_0x11a0b1(0x9fe)][_0x11a0b1(0x1fd)]();for(const _0x20934a of _0x5de30a)this[_0x11a0b1(0x877)][_0x11a0b1(0xb22)](_0x20934a);}catch(_0x24b7c6){}},0x493e0);}}const _0x12273c=require('rxjs');class _0x411e0b extends _0x4c830f{[_0x227435(0x443)];[_0x227435(0xa30)]=new Map();['jobObservers']=new Map();[_0x227435(0xbcd)]=new Map();[_0x227435(0xb96)];constructor(_0x2b6132,_0x29cf68,_0x576fe0){const _0x332ca8=_0x227435;super(_0x2b6132,_0x29cf68),this[_0x332ca8(0x443)]=_0x576fe0;}[_0x227435(0x9b5)](){const _0x220520=_0x227435;return _0x2bba8e[_0x220520(0x97c)][_0x220520(0x55e)];}[_0x227435(0xbd2)](){this['unsubscribeHandler']=this['onMessage']((_0x147818,_0x3d8a7a)=>{const _0x5d471a=a0_0x5d01;if(_0x1822ee[_0x5d471a(0xbf2)](_0xbbb80e[_0x5d471a(0x54e)],'JobDispatcher:\x20Received\x20job',_0x147818,_0x3d8a7a,this[_0x5d471a(0x443)][_0x5d471a(0x304)]()),!(_0x3d8a7a instanceof File)){if(!_0x3d8a7a)throw new _0x82cd08(_0x82cd08[_0x5d471a(0xab8)][_0x5d471a(0x3d9)]);return this['isBidResponse'](_0x3d8a7a)?this[_0x5d471a(0x89e)](_0x147818,_0x3d8a7a['id'],_0x3d8a7a):this[_0x5d471a(0xb66)](_0x3d8a7a)?(_0x1822ee[_0x5d471a(0xbf2)](_0xbbb80e[_0x5d471a(0x54e)],_0x5d471a(0x884)+_0x3d8a7a['id']+_0x5d471a(0x590),_0x3d8a7a[_0x5d471a(0x58a)]),void this[_0x5d471a(0xc5f)](_0x3d8a7a['id'],_0x3d8a7a)):this[_0x5d471a(0xafd)](_0x3d8a7a)?(_0x1822ee[_0x5d471a(0xbf2)](_0xbbb80e[_0x5d471a(0x54e)],_0x5d471a(0x884)+_0x3d8a7a['id']+'\x20received\x20result:',_0x3d8a7a[_0x5d471a(0x58a)]),void this[_0x5d471a(0x8a2)](_0x3d8a7a['id'],_0x3d8a7a)):void(this[_0x5d471a(0x29f)](_0x3d8a7a)&&this[_0x5d471a(0x9bf)](_0x3d8a7a['id'],_0x3d8a7a['message']));}});}[_0x227435(0x278)](){const _0x14a1d7=_0x227435;this[_0x14a1d7(0x42a)](),this['open']();}[_0x227435(0xa3c)](){const _0x50bdf1=_0x227435;this[_0x50bdf1(0x42a)](),super[_0x50bdf1(0xa3c)]();}[_0x227435(0x42a)](){const _0xd5137=_0x227435;this[_0xd5137(0xa30)][_0xd5137(0x42a)](),this[_0xd5137(0xb96)]&&this['unsubscribeHandler']();}['close'](){const _0x5788c7=_0x227435;this[_0x5788c7(0x45d)]?.[_0x5788c7(0xb22)]({'sourceId':_0x48df1c,'messageType':_0x37ab1a[_0x5788c7(0x42c)],'content':{'type':_0x593bd0[_0x5788c7(0x4ba)],'label':this['label']}});}async[_0x227435(0x6cd)](_0x46fea3){const _0x40add1=_0x227435,{id:_0x1e44cf,parameters:_0xd76cd9,jobType:_0x4cdd00}=_0x46fea3,_0x585ba4={'id':_0x1e44cf,'jobType':_0x4cdd00,'parameters':_0xd76cd9,'status':_0x2bba8e[_0x40add1(0x9a5)][_0x40add1(0xc7a)],'created':new Date(),'updated':new Date()};if(this[_0x40add1(0xa30)][_0x40add1(0xac9)](_0x585ba4['id']))throw new _0x27b95d(_0x398751[_0x40add1(0x66f)],_0x40add1(0xa78)+_0x585ba4['id']+_0x40add1(0x99c));_0x585ba4[_0x40add1(0x3e0)]=new Date(),_0x585ba4['updated']=new Date();const _0x79fa0d=new _0x12273c[(_0x40add1(0xa50))]();this[_0x40add1(0xa30)]['set'](_0x585ba4['id'],_0x585ba4),this['jobObservers'][_0x40add1(0x9b4)](_0x585ba4['id'],_0x79fa0d);try{const _0x3ab2f3={'id':_0x585ba4['id'],'jobPhase':_0x5d39a9[_0x40add1(0x410)],'jobType':_0x585ba4[_0x40add1(0xa56)]},_0x3e4f06=0x3;let _0x209c14=0x0;const _0x519f86=async()=>{const _0x522704=_0x40add1;_0x209c14+=0x1;try{_0x1822ee[_0x522704(0xbf2)](_0xbbb80e['Jobs'],_0x522704(0x884)+_0x585ba4['id']+_0x522704(0x7b0)+_0x209c14+'.',this[_0x522704(0x443)][_0x522704(0x304)]()),await this['send'](_0x3ab2f3),_0x585ba4['updated']=new Date(),this[_0x522704(0xa30)][_0x522704(0x9b4)](_0x585ba4['id'],_0x585ba4),this[_0x522704(0xa33)](_0x585ba4['id']);}catch(_0x3a45e4){_0x209c14<_0x3e4f06?(_0x1822ee[_0x522704(0x51e)](_0x522704(0xb8d)+_0x209c14+'\x20to\x20send\x20dispatcherJob\x20'+_0x585ba4['id']+'\x20failed.\x20Retrying...',{'nodeId':this[_0x522704(0x4be)][_0x522704(0xc22)](),'nodeType':this[_0x522704(0x4be)][_0x522704(0x649)],'data':{'job':_0x585ba4,'attempts':_0x209c14,'maxRetries':_0x3e4f06}}),setTimeout(_0x519f86,0x3e8)):(_0x585ba4['status']=_0x2bba8e['JobStatus'][_0x522704(0x4da)],_0x585ba4[_0x522704(0x7ca)]=new Date(),this[_0x522704(0xa30)][_0x522704(0x9b4)](_0x585ba4['id'],_0x585ba4),_0x1822ee[_0x522704(0xc13)](_0x522704(0x691)+_0x585ba4['id']+'\x20after\x20'+_0x3e4f06+'\x20attempts:',{'nodeId':this[_0x522704(0x4be)][_0x522704(0xc22)](),'nodeType':this[_0x522704(0x4be)]['type'],'data':{'job':_0x585ba4,'attempts':_0x209c14,'maxRetries':_0x3e4f06,'error':_0x3a45e4}}));}};_0x519f86();const {id:_0x2e667d}=_0x585ba4;this[_0x40add1(0x68c)](_0x40add1(0x884)+_0x585ba4['id']+'\x20created\x20and\x20dispatched.',{'jobId':_0x2e667d}),_0x585ba4['updated']=new Date();}catch(_0xb572a2){_0x585ba4[_0x40add1(0x4ab)]=_0x2bba8e[_0x40add1(0x9a5)]['Failed'],_0x1822ee[_0x40add1(0xc13)](_0x40add1(0x691)+_0x585ba4['id']+':',{'nodeId':this['owner'][_0x40add1(0xc22)](),'nodeType':this[_0x40add1(0x4be)][_0x40add1(0x649)],'data':{'job':_0x585ba4,'error':_0xb572a2}});}return _0x79fa0d[_0x40add1(0x59a)]();}['getJob'](_0x5bc9ae){const _0x31025c=_0x227435,_0x1c06a9=this['jobs'][_0x31025c(0x441)](_0x5bc9ae);if(!_0x1c06a9)throw new _0x27b95d(_0x398751['JobDispatcherJobNotFound'],_0x31025c(0xa78)+_0x5bc9ae+_0x31025c(0x73c));return{'id':_0x1c06a9['id'],'jobType':_0x1c06a9[_0x31025c(0xa56)],'status':_0x1c06a9[_0x31025c(0x4ab)],'parameters':_0x1c06a9[_0x31025c(0x6b9)]};}[_0x227435(0x6cf)](){const _0x78c7ef=_0x227435;return Array['from'](this['jobs']['values']())[_0x78c7ef(0x7b9)](_0x3d9936=>this[_0x78c7ef(0x5e3)](_0x3d9936['id']));}async[_0x227435(0x78f)](_0x23e6df,_0x9ab68a){const _0x1c3a53=_0x227435,_0x4c3838=this[_0x1c3a53(0xa30)][_0x1c3a53(0x441)](_0x23e6df);if(!_0x4c3838)throw new _0x27b95d(_0x398751[_0x1c3a53(0x5d0)],_0x1c3a53(0xa78)+_0x23e6df+_0x1c3a53(0x73c));_0x4c3838['parameters']=_0x9ab68a,_0x4c3838['updated']=new Date(),this[_0x1c3a53(0xa30)]['set'](_0x23e6df,_0x4c3838);}async[_0x227435(0x973)](_0x55f64c){const _0x273733=_0x227435;if(!this['jobs'][_0x273733(0x3df)](_0x55f64c))throw new _0x27b95d(_0x398751['JobDispatcherJobNotFound'],_0x273733(0xa78)+_0x55f64c+_0x273733(0x73c));const _0x31ec20=this[_0x273733(0x909)][_0x273733(0x441)](_0x55f64c);if(!_0x31ec20)throw new _0x82cd08(_0x82cd08[_0x273733(0xab8)][_0x273733(0x726)]);_0x31ec20[_0x273733(0xb31)](),this[_0x273733(0x909)]['delete'](_0x55f64c),_0x1822ee[_0x273733(0xbf2)](_0xbbb80e[_0x273733(0x54e)],_0x273733(0x884)+_0x55f64c+_0x273733(0x83c));}['addBidResponse'](_0x47e49a,_0x391c4f,_0x30c493){const _0x5bf0f7=_0x227435,_0x8dbad6=this['jobBids']['get'](_0x391c4f)??new Map();_0x8dbad6['set'](_0x47e49a,[_0x30c493,Date[_0x5bf0f7(0xb26)]()]),this[_0x5bf0f7(0xbcd)]['set'](_0x391c4f,_0x8dbad6),this['evaluateBidsAndAttributeJob'](_0x391c4f);}[_0x227435(0xa33)](_0x4ba9b4){const _0x27c713=_0x227435,_0x437bfa=this['jobs']['get'](_0x4ba9b4);if(!_0x437bfa)throw new _0x82cd08(_0x82cd08[_0x27c713(0xab8)][_0x27c713(0x5d0)]);const _0x519c2e=setTimeout(()=>this[_0x27c713(0x981)](_0x4ba9b4,!0x0),0xbb8);_0x437bfa[_0x27c713(0x4ea)]=_0x519c2e,this['jobs']['set'](_0x437bfa['id'],_0x437bfa);}[_0x227435(0x981)](_0x58389e,_0x46fcf6=!0x1){const _0x4fe615=_0x227435,_0x3a6651=this[_0x4fe615(0x443)][_0x4fe615(0x304)](),_0x53574e=Array[_0x4fe615(0x218)](_0x3a6651[_0x4fe615(0xbc7)]())[_0x4fe615(0x276)](_0xef559c=>_0xef559c[_0x4fe615(0x649)]===_0x2bba8e[_0x4fe615(0x6e1)]['Agent']),_0x54fc04=this['jobBids'][_0x4fe615(0x441)](_0x58389e)??new Map();if(!_0x46fcf6&&(!_0x54fc04||_0x54fc04[_0x4fe615(0x9e7)]<_0x53574e[_0x4fe615(0xbfb)]))return;const _0x265c6b=this[_0x4fe615(0xa30)][_0x4fe615(0x441)](_0x58389e);if(!_0x265c6b)throw new _0x82cd08(_0x82cd08[_0x4fe615(0xab8)][_0x4fe615(0x5d0)]);if(clearTimeout(_0x265c6b[_0x4fe615(0x4ea)]),_0x1822ee[_0x4fe615(0xbf2)](_0xbbb80e[_0x4fe615(0x54e)],_0x4fe615(0x884)+_0x265c6b['id']+_0x4fe615(0xc55),_0x54fc04,this[_0x4fe615(0xbcd)]),!_0x54fc04||0x0===_0x54fc04[_0x4fe615(0x9e7)]){_0x265c6b[_0x4fe615(0x4ab)]=_0x2bba8e[_0x4fe615(0x9a5)][_0x4fe615(0x4da)],_0x265c6b[_0x4fe615(0x7ca)]=new Date(),_0x1822ee[_0x4fe615(0xc13)]('Job\x20'+_0x265c6b['id']+_0x4fe615(0x2f4),{'nodeId':this[_0x4fe615(0x4be)][_0x4fe615(0xc22)](),'nodeType':this[_0x4fe615(0x4be)]['type'],'data':{'job':_0x265c6b,'responses':_0x54fc04}});const _0x1b3dd6=this[_0x4fe615(0x909)][_0x4fe615(0x441)](_0x58389e);if(!_0x1b3dd6)throw new _0x82cd08(_0x82cd08['codes'][_0x4fe615(0x726)]);const _0x47117f='No\x20valid\x20bid\x20responses\x20received\x20in\x20time.',_0x2c2723={'id':_0x265c6b['id'],'status':_0x265c6b[_0x4fe615(0x4ab)],'message':_0x47117f};return _0x1b3dd6['next'](_0x2c2723),_0x1b3dd6['complete'](),this['jobs'][_0x4fe615(0x9b4)](_0x265c6b['id'],_0x265c6b),void this[_0x4fe615(0xbcd)][_0x4fe615(0x3df)](_0x58389e);}const {nodeId:_0x1b2321,response:_0x266f67}=this[_0x4fe615(0x870)](_0x265c6b['id'],_0x54fc04);_0x265c6b[_0x4fe615(0x4ab)]=_0x2bba8e[_0x4fe615(0x9a5)]['Processing'],_0x265c6b[_0x4fe615(0x7ca)]=new Date(),_0x1822ee[_0x4fe615(0xbf2)](_0xbbb80e[_0x4fe615(0x54e)],_0x4fe615(0x884)+_0x265c6b['id']+_0x4fe615(0x694)+_0x1b2321+_0x4fe615(0x8ea),_0x266f67);const _0x615027={'id':_0x265c6b['id'],'jobType':_0x265c6b['jobType'],'jobPhase':_0x5d39a9[_0x4fe615(0xa3d)],'parameters':_0x265c6b[_0x4fe615(0x6b9)]};this[_0x4fe615(0x8d0)](_0x615027,[_0x1b2321]),this[_0x4fe615(0xa30)][_0x4fe615(0x9b4)](_0x265c6b['id'],_0x265c6b),this[_0x4fe615(0xbcd)]['delete'](_0x58389e);}[_0x227435(0x870)](_0x1f281a,_0x4ea34f){const _0x4110a6=_0x227435;let _0x2a0a12;const _0x58d6d8=Array[_0x4110a6(0x218)](_0x4ea34f[_0x4110a6(0xc67)]())['filter'](([,[_0x2b4bb6]])=>_0x2b4bb6[_0x4110a6(0xbf9)]);if(_0x2a0a12=_0x58d6d8['length']>0x0?Array[_0x4110a6(0x218)](_0x4ea34f['entries']())[_0x4110a6(0xbd7)]((_0x890c9b,_0x41d83c)=>_0x41d83c[0x1][0x0][_0x4110a6(0x424)]-_0x890c9b[0x1][0x0][_0x4110a6(0x424)]):Array[_0x4110a6(0x218)](_0x4ea34f['entries']())['sort']((_0x3c9da8,_0x42eed3)=>_0x3c9da8[0x1][0x0][_0x4110a6(0x6a1)]-_0x42eed3[0x1][0x0][_0x4110a6(0x6a1)]),0x1===_0x2a0a12[_0x4110a6(0xbfb)])return{'nodeId':_0x2a0a12[0x0][0x0],'response':_0x2a0a12[0x0][0x1][0x0]};let _0x3076a7;if(_0x3076a7=_0x58d6d8[_0x4110a6(0xbfb)]>0x0?(_0x28814d=>{const _0xbd075e=_0x4110a6,_0x338c3b=_0x28814d[0x0][0x1][0x0][_0xbd075e(0x424)];return _0x28814d['filter'](([,[_0x916792]])=>_0x916792[_0xbd075e(0x424)]===_0x338c3b);})(_0x2a0a12):(_0x217a96=>{const _0x577245=_0x4110a6,_0x3333f0=_0x217a96[0x0][0x1][0x0]['queueLength'];return _0x217a96['filter'](([,[_0x2a1dea]])=>_0x2a1dea[_0x577245(0x6a1)]===_0x3333f0);})(_0x2a0a12),0x1===_0x3076a7[_0x4110a6(0xbfb)])return{'nodeId':_0x3076a7[0x0][0x0],'response':_0x3076a7[0x0][0x1][0x0]};const _0x50a442=this['jobs'][_0x4110a6(0x441)](_0x1f281a);if(!_0x50a442)throw new _0x82cd08(_0x82cd08['codes']['JobDispatcherJobNotFound']);const _0x285a7f=_0x50a442[_0x4110a6(0x3e0)][_0x4110a6(0x4de)](),_0x3ad5c6=_0x3076a7['map'](([_0x4c307a,[,_0x22260c]])=>({'nodeId':_0x4c307a,'rtt':_0x22260c-_0x285a7f})),_0x51f4f6=Math['min'](..._0x3ad5c6[_0x4110a6(0x7b9)](({rtt:_0xd5653d})=>_0xd5653d)),_0x23865f=_0x3ad5c6['find'](({rtt:_0x2b4c0a})=>_0x2b4c0a===_0x51f4f6),[,[_0x1f7966]]=_0x3076a7[_0x4110a6(0x5b4)](([_0x481430])=>_0x481430===_0x23865f['nodeId']);return{'nodeId':_0x23865f[_0x4110a6(0x32f)],'response':_0x1f7966};}['evaluatePartialJob'](_0x392e83,_0xde683a){const _0x9af39f=_0x227435,_0x67e49b=this['jobs'][_0x9af39f(0x441)](_0x392e83);if(!_0x67e49b)throw new _0x82cd08(_0x82cd08[_0x9af39f(0xab8)][_0x9af39f(0x5d0)]);const _0x74f7bd=this['jobObservers'][_0x9af39f(0x441)](_0x392e83);if(!_0x74f7bd)throw new _0x82cd08(_0x82cd08['codes']['JobDispatcherObserverNotFound']);const _0x4114d3={'id':_0x67e49b['id'],'status':_0x2bba8e[_0x9af39f(0x9a5)][_0x9af39f(0x7c4)],'result':_0xde683a['result']};_0x74f7bd[_0x9af39f(0xb37)](_0x4114d3);}[_0x227435(0x8a2)](_0x1063aa,_0x3500a7){const _0x6b2d7f=_0x227435,_0x381e23=this['jobs'][_0x6b2d7f(0x441)](_0x1063aa);if(!_0x381e23)throw new _0x82cd08(_0x82cd08[_0x6b2d7f(0xab8)][_0x6b2d7f(0x5d0)]);const _0x1029bb=this['jobObservers'][_0x6b2d7f(0x441)](_0x1063aa);if(!_0x1029bb)throw new _0x82cd08(_0x82cd08[_0x6b2d7f(0xab8)][_0x6b2d7f(0x726)]);_0x381e23['status']=_0x2bba8e[_0x6b2d7f(0x9a5)][_0x6b2d7f(0x269)];const _0xe4b9d8={'id':_0x381e23['id'],'status':_0x381e23[_0x6b2d7f(0x4ab)],'result':_0x3500a7[_0x6b2d7f(0x58a)]};_0x1029bb['next'](_0xe4b9d8),_0x1029bb[_0x6b2d7f(0xb31)](),this['jobObservers']['delete'](_0x1063aa),this[_0x6b2d7f(0x68c)](_0x6b2d7f(0x884)+_0x1063aa+'\x20finalized.',{'jobId':_0x1063aa});}['failJob'](_0x4ae8db,_0x57c605){const _0x47275e=_0x227435,_0x24a48c=this[_0x47275e(0xa30)][_0x47275e(0x441)](_0x4ae8db);if(!_0x24a48c)throw new _0x82cd08(_0x82cd08[_0x47275e(0xab8)][_0x47275e(0x5d0)]);const _0x12d7e5=this[_0x47275e(0x909)][_0x47275e(0x441)](_0x4ae8db);if(!_0x12d7e5)throw new _0x82cd08(_0x82cd08[_0x47275e(0xab8)][_0x47275e(0x726)]);_0x24a48c['status']=_0x2bba8e[_0x47275e(0x9a5)]['Failed'];const _0x330ed2={'id':_0x24a48c['id'],'status':_0x24a48c[_0x47275e(0x4ab)],'message':_0x57c605};_0x12d7e5[_0x47275e(0xb37)](_0x330ed2),_0x12d7e5[_0x47275e(0xb31)](),this[_0x47275e(0x909)][_0x47275e(0x3df)](_0x4ae8db),this[_0x47275e(0x68c)](_0x47275e(0x884)+_0x4ae8db+'\x20failed.',{'jobId':_0x4ae8db});}['logEvent'](_0x397fda,{jobId:_0x1d84ff}){const _0x32d456=_0x227435,_0x9c067={'jobId':_0x1d84ff,'mistletIds':Array[_0x32d456(0x218)](this[_0x32d456(0x443)][_0x32d456(0x304)]()[_0x32d456(0xbc7)]())[_0x32d456(0x276)](_0x35f9b1=>_0x35f9b1[_0x32d456(0x649)]===_0x2bba8e[_0x32d456(0x6e1)][_0x32d456(0x5ac)])[_0x32d456(0x7b9)](_0xbcc409=>_0xbcc409[_0x32d456(0xc22)]())};_0x1822ee[_0x32d456(0x68c)](_0x397fda,{'nodeId':this[_0x32d456(0xa93)](),'nodeType':this['owner'][_0x32d456(0x649)],'data':_0x9c067}),_0x1822ee[_0x32d456(0xbf2)](_0xbbb80e[_0x32d456(0x54e)],_0x397fda,_0x9c067);}[_0x227435(0x780)](_0x123085){const {jobPhase:_0x5b0c1e,available:_0x484e11,bid:_0x404790}=_0x123085;return _0x5b0c1e===_0x5d39a9['Bid']&&void 0x0!==_0x484e11&&void 0x0!==_0x404790;}[_0x227435(0xb66)](_0x5f45a2){const _0x2b7f2c=_0x227435,{jobPhase:_0x53a59f,result:_0x9e2676}=_0x5f45a2;return _0x53a59f===_0x5d39a9[_0x2b7f2c(0x5df)]&&void 0x0!==_0x9e2676;}[_0x227435(0xafd)](_0xd754b4){const _0x34abdd=_0x227435,{jobPhase:_0x209e9e,result:_0x192257}=_0xd754b4;return _0x209e9e===_0x5d39a9[_0x34abdd(0xc7c)]&&void 0x0!==_0x192257;}[_0x227435(0x29f)](_0x20b3eb){const _0x7c6c60=_0x227435,{jobPhase:_0x359740,message:_0x53a96f}=_0x20b3eb;return _0x359740===_0x5d39a9[_0x7c6c60(0x4da)]&&void 0x0!==_0x53a96f&&_0x7c6c60(0x984)==typeof _0x53a96f;}}var _0x2dcfc4,_0x296cd7,_0x4cc421,_0xa00ed6,_0x16df3c;!function(_0x4015c9){const _0x39b7ea=_0x227435;_0x4015c9[_0x39b7ea(0x956)]='object-storage',_0x4015c9[_0x39b7ea(0xa75)]=_0x39b7ea(0x606);}(_0x2dcfc4||(_0x2dcfc4={})),function(_0x44fa90){const _0x5b90fc=_0x227435;_0x44fa90[_0x5b90fc(0x5ac)]=_0x5b90fc(0x3d3),_0x44fa90['AgentSkill']=_0x5b90fc(0x717),_0x44fa90[_0x5b90fc(0x59e)]=_0x5b90fc(0xa89),_0x44fa90['CustomSkill']=_0x5b90fc(0x740),_0x44fa90[_0x5b90fc(0x2bd)]='data-collection',_0x44fa90[_0x5b90fc(0x45b)]=_0x5b90fc(0x96e),_0x44fa90[_0x5b90fc(0x7a9)]=_0x5b90fc(0x7ed),_0x44fa90['Answer']=_0x5b90fc(0x44a),_0x44fa90['Code']=_0x5b90fc(0x3f0),_0x44fa90[_0x5b90fc(0x5b8)]=_0x5b90fc(0x2ee),_0x44fa90[_0x5b90fc(0x9e1)]=_0x5b90fc(0x98b),_0x44fa90[_0x5b90fc(0xac0)]=_0x5b90fc(0x579),_0x44fa90[_0x5b90fc(0xa0a)]=_0x5b90fc(0xacd),_0x44fa90['WebScraperRaw']=_0x5b90fc(0x7af),_0x44fa90[_0x5b90fc(0x796)]='query-file',_0x44fa90[_0x5b90fc(0xbc9)]=_0x5b90fc(0xa54),_0x44fa90['ChunkSplitter']='chunk-splitter',_0x44fa90['SentenceSplitter']=_0x5b90fc(0xc47),_0x44fa90[_0x5b90fc(0x40b)]=_0x5b90fc(0x4a1),_0x44fa90[_0x5b90fc(0x40e)]=_0x5b90fc(0x399),_0x44fa90[_0x5b90fc(0x360)]=_0x5b90fc(0x91a),_0x44fa90['InputStream']=_0x5b90fc(0x695),_0x44fa90[_0x5b90fc(0xbff)]=_0x5b90fc(0x935),_0x44fa90[_0x5b90fc(0x295)]=_0x5b90fc(0x5cc),_0x44fa90[_0x5b90fc(0xc15)]='output-email',_0x44fa90['WorkflowTool']=_0x5b90fc(0x7d9),_0x44fa90[_0x5b90fc(0x4b5)]=_0x5b90fc(0x7e5),_0x44fa90[_0x5b90fc(0x223)]=_0x5b90fc(0x9be),_0x44fa90['GoogleMapsReverseGeocode']=_0x5b90fc(0xbbc),_0x44fa90[_0x5b90fc(0x508)]='google_maps_search_places',_0x44fa90['GoogleMapsPlaceDetails']=_0x5b90fc(0x39a),_0x44fa90[_0x5b90fc(0x9c7)]=_0x5b90fc(0x5ee),_0x44fa90[_0x5b90fc(0x500)]=_0x5b90fc(0x92d),_0x44fa90[_0x5b90fc(0x81a)]='google_maps_distance_matrix',_0x44fa90['GmailCreateDraft']=_0x5b90fc(0x816),_0x44fa90['GmailSendEmail']='gmail_send_email',_0x44fa90[_0x5b90fc(0x336)]=_0x5b90fc(0xb1d),_0x44fa90[_0x5b90fc(0x6dd)]=_0x5b90fc(0x7e4),_0x44fa90[_0x5b90fc(0x7df)]=_0x5b90fc(0x40c),_0x44fa90[_0x5b90fc(0xa3f)]='gmail_create_contact',_0x44fa90[_0x5b90fc(0x300)]=_0x5b90fc(0xb87),_0x44fa90[_0x5b90fc(0xa4a)]='gmail_search_for_contact',_0x44fa90['GmailDeleteContact']=_0x5b90fc(0x7f5),_0x44fa90[_0x5b90fc(0xc46)]=_0x5b90fc(0x4fe),_0x44fa90[_0x5b90fc(0xb76)]=_0x5b90fc(0x7da),_0x44fa90[_0x5b90fc(0x588)]=_0x5b90fc(0x1df),_0x44fa90[_0x5b90fc(0x8b2)]=_0x5b90fc(0x6ca),_0x44fa90[_0x5b90fc(0x69e)]=_0x5b90fc(0x5c4),_0x44fa90[_0x5b90fc(0xc5c)]=_0x5b90fc(0xbdb),_0x44fa90[_0x5b90fc(0x6d6)]=_0x5b90fc(0xa51),_0x44fa90[_0x5b90fc(0x68f)]='google_calendar_list_directory_people',_0x44fa90['GoogleCalendarSearchDirectoryPeople']='google_calendar_search_directory_people',_0x44fa90[_0x5b90fc(0x654)]=_0x5b90fc(0xadd),_0x44fa90[_0x5b90fc(0x82f)]='google_calendar_search_other_contacts',_0x44fa90[_0x5b90fc(0x8ce)]=_0x5b90fc(0x238),_0x44fa90['QuickbooksCreateCustomer']=_0x5b90fc(0x560),_0x44fa90['QuickbooksGetCustomer']=_0x5b90fc(0x29b),_0x44fa90[_0x5b90fc(0x409)]='quickbooks_search_customers',_0x44fa90[_0x5b90fc(0xbe4)]=_0x5b90fc(0xbe3),_0x44fa90['QuickbooksGetInvoice']='quickbooks_get_invoice',_0x44fa90[_0x5b90fc(0x7b1)]=_0x5b90fc(0xad6),_0x44fa90[_0x5b90fc(0x35d)]=_0x5b90fc(0x615),_0x44fa90['QuickbooksGetPayment']=_0x5b90fc(0x395),_0x44fa90[_0x5b90fc(0x386)]=_0x5b90fc(0x511),_0x44fa90[_0x5b90fc(0x5e0)]=_0x5b90fc(0x9c9),_0x44fa90[_0x5b90fc(0x2fb)]='quickbooks_search_items',_0x44fa90['QuickbooksGetAccounts']='quickbooks_get_accounts',_0x44fa90['QuickbooksGetCompanyInfo']='quickbooks_get_company_info',_0x44fa90['QuickbooksCreateVendor']=_0x5b90fc(0x6d1),_0x44fa90[_0x5b90fc(0x6fd)]='quickbooks_get_vendor',_0x44fa90[_0x5b90fc(0x862)]=_0x5b90fc(0x566),_0x44fa90[_0x5b90fc(0x91d)]=_0x5b90fc(0x6c1),_0x44fa90[_0x5b90fc(0xbf5)]='quickbooks_search_bill_payments',_0x44fa90[_0x5b90fc(0xb75)]=_0x5b90fc(0x356),_0x44fa90['QuickbooksSearchTransfers']='quickbooks_search_transfers',_0x44fa90[_0x5b90fc(0xba1)]=_0x5b90fc(0x769),_0x44fa90[_0x5b90fc(0x9fa)]=_0x5b90fc(0x357),_0x44fa90[_0x5b90fc(0x63b)]=_0x5b90fc(0xa22),_0x44fa90['QuickbooksSearchPurchases']='quickbooks_search_purchases',_0x44fa90[_0x5b90fc(0x314)]=_0x5b90fc(0x80a),_0x44fa90[_0x5b90fc(0x48a)]='quickbooks_search_all_transactions',_0x44fa90['QuickbooksGetAccountsReceivable']=_0x5b90fc(0x3da),_0x44fa90[_0x5b90fc(0x942)]=_0x5b90fc(0xc02),_0x44fa90[_0x5b90fc(0xb09)]=_0x5b90fc(0xab7),_0x44fa90[_0x5b90fc(0x281)]='quickbooks_search_unpaid_bills',_0x44fa90['QuickbooksGetCashFlowProjection']=_0x5b90fc(0xc37),_0x44fa90[_0x5b90fc(0x91b)]='quickbooks_search_credit_card_transactions',_0x44fa90[_0x5b90fc(0x498)]=_0x5b90fc(0xb95),_0x44fa90[_0x5b90fc(0xa83)]=_0x5b90fc(0x7dd),_0x44fa90[_0x5b90fc(0xc23)]=_0x5b90fc(0x773);}(_0x296cd7||(_0x296cd7={})),function(_0x32997a){const _0x49d20a=_0x227435;_0x32997a[_0x49d20a(0x404)]=_0x49d20a(0x6f8),_0x32997a[_0x49d20a(0x970)]=_0x49d20a(0x6f5),_0x32997a[_0x49d20a(0x40e)]=_0x49d20a(0x399),_0x32997a['ChunkSplitter']='chunk-splitter',_0x32997a['WordSplitter']=_0x49d20a(0x4a1),_0x32997a['SentenceSplitter']=_0x49d20a(0xc47),_0x32997a['RelationExtractor']=_0x49d20a(0x306),_0x32997a[_0x49d20a(0x90f)]='entity-extractor',_0x32997a[_0x49d20a(0x59f)]='reranker',_0x32997a['Model']=_0x49d20a(0xb00),_0x32997a['Agent']='agent',_0x32997a[_0x49d20a(0x95c)]=_0x49d20a(0x751),_0x32997a['KeyValueDatabase']=_0x49d20a(0x90d),_0x32997a[_0x49d20a(0x561)]=_0x49d20a(0xbb6),_0x32997a['GraphDatabase']='graph-database',_0x32997a[_0x49d20a(0x7a9)]=_0x49d20a(0x7ed),_0x32997a['Context']=_0x49d20a(0xae5),_0x32997a[_0x49d20a(0xc66)]=_0x49d20a(0x8e9),_0x32997a['Embed']=_0x49d20a(0x234);}(_0x4cc421||(_0x4cc421={})),function(_0x57b08e){const _0xc74123=_0x227435;_0x57b08e['File']='file',_0x57b08e[_0xc74123(0xad3)]=_0xc74123(0x335),_0x57b08e[_0xc74123(0x965)]='image',_0x57b08e[_0xc74123(0x6cc)]=_0xc74123(0x305),_0x57b08e[_0xc74123(0x686)]=_0xc74123(0x4c1),_0x57b08e[_0xc74123(0xa47)]=_0xc74123(0x205),_0x57b08e['Vector']='vector',_0x57b08e[_0xc74123(0x7f1)]=_0xc74123(0x9d5),_0x57b08e['Relation']='relation',_0x57b08e[_0xc74123(0x9e1)]=_0xc74123(0x98b),_0x57b08e[_0xc74123(0x5b9)]='index',_0x57b08e[_0xc74123(0x8b5)]=_0xc74123(0xb5d),_0x57b08e[_0xc74123(0x62f)]=_0xc74123(0xae5),_0x57b08e['Wait']=_0xc74123(0xa9d),_0x57b08e[_0xc74123(0x1ec)]='wait-true',_0x57b08e['WaitFalse']=_0xc74123(0x595);}(_0xa00ed6||(_0xa00ed6={})),function(_0x521419){const _0x59898e=_0x227435;_0x521419['Shared']=_0x59898e(0x492),_0x521419[_0x59898e(0xb39)]=_0x59898e(0x5c9),_0x521419[_0x59898e(0x423)]=_0x59898e(0x55c);}(_0x16df3c||(_0x16df3c={}));const _0x48c7dd=[{'type':_0x296cd7[_0x227435(0x59e)],'id':_0x227435(0xae4),'name':_0x227435(0x9a9),'description':'Routes\x20messages\x20based\x20on\x20conditional\x20logic.','modelId':_0x227435(0x2b8),'instructions':'Analyze\x20the\x20following\x20input\x20and\x20only\x20output\x20a\x20JSON\x20object\x20with\x20key\x20\x22condition_result\x22\x20(true\x20or\x20false).\x0a-\x20No\x20text\x20other\x20than\x20the\x20JSON\x20object.\x0a\x0aExample\x20Output:\x0a{\x0a\x20\x20\x22condition_result\x22:\x20true\x0a}','grammar':'if_else','temperature':0x0,'maxTokens':0x64}],_0x805fcc=[{'type':_0x296cd7[_0x227435(0x5ac)],'id':_0x227435(0x363),'name':_0x227435(0xb05),'description':'','modelId':'gpt-4.1-nano','instructions':'','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x296cd7['Agent'],'id':_0x227435(0x955),'name':_0x227435(0x520),'description':_0x227435(0x2f7),'modelId':'gpt-4.1-nano','instructions':_0x227435(0x599),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x296cd7['Agent'],'id':_0x227435(0x709),'name':_0x227435(0xb54),'description':_0x227435(0x328),'modelId':_0x227435(0x2b8),'instructions':_0x227435(0xc82),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x296cd7[_0x227435(0x5ac)],'id':_0x227435(0x484),'name':_0x227435(0xa80),'description':_0x227435(0x232),'modelId':_0x227435(0x2b8),'instructions':'Feedback\x20Agent\x20specializes\x20in\x20collecting\x20structured\x20feedback\x20through\x20dynamic\x20Q&A\x20interactions.\x0a-\x20It\x20identifies\x20the\x20type\x20of\x20feedback\x20needed\x20(e.g.,\x20product\x20experience,\x20service\x20quality,\x20event\x20review).\x0a-\x20It\x20asks\x20specific,\x20unbiased,\x20and\x20concise\x20questions\x20sequentially.\x0a-\x20Adjusts\x20follow-up\x20questions\x20dynamically\x20based\x20on\x20responses.\x0a-\x20Categorizes\x20responses\x20into\x20themes\x20if\x20applicable.\x0a-\x20Provides\x20a\x20structured\x20summary\x20at\x20the\x20end.\x0a-\x20Never\x20asks\x20leading\x20or\x20suggestive\x20questions.\x0a-\x20Uses\x20Markdown\x20formatting\x20for\x20clarity.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x296cd7[_0x227435(0x5ac)],'id':_0x227435(0x702),'name':_0x227435(0xb79),'description':_0x227435(0x380),'modelId':_0x227435(0x2b8),'instructions':'Learning\x20Agent\x20adapts\x20to\x20user\x20learning\x20levels,\x20pace,\x20and\x20preferred\x20format.\x0a-\x20Assesses\x20prior\x20knowledge\x20before\x20beginning\x20lessons.\x0a-\x20Customizes\x20learning\x20paths\x20and\x20adjusts\x20difficulty\x20based\x20on\x20performance.\x0a-\x20Provides\x20step-by-step\x20explanations\x20and\x20real-world\x20examples.\x0a-\x20Uses\x20spaced\x20repetition\x20techniques\x20for\x20reinforcement.\x0a-\x20Lessons\x20are\x20structured\x20with\x20Markdown\x20headers\x20and\x20inline\x20quizzes.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x296cd7['Agent'],'id':_0x227435(0x3b4),'name':_0x227435(0x48f),'description':_0x227435(0xa02),'modelId':'gpt-4.1-nano','instructions':'Query\x20Generator\x20constructs\x20optimized\x20SQL\x20and\x20NoSQL\x20queries.\x0a-\x20Clarifies\x20database\x20type\x20(MySQL,\x20PostgreSQL,\x20MongoDB,\x20etc.)\x20before\x20generating\x20queries.\x0a-\x20Follows\x20best\x20practices\x20for\x20efficiency\x20and\x20readability.\x0a-\x20Explains\x20each\x20part\x20of\x20the\x20query\x20for\x20user\x20understanding.\x0a-\x20Checks\x20for\x20potential\x20performance\x20optimizations.\x0a-\x20Provides\x20queries\x20in\x20code\x20blocks\x20and\x20bullet-point\x20explanations.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x296cd7['Agent'],'id':'competitive-agent','name':'Competitive\x20Analysis\x20Agent','description':'Monitors\x20competitors\x20and\x20provides\x20insights\x20on\x20their\x20products,\x20pricing,\x20and\x20updates.','modelId':'gpt-4.1-nano','instructions':'Competitive\x20Analysis\x20Agent\x20tracks\x20competitors\x27\x20products,\x20pricing,\x20and\x20market\x20strategies.\x0a-\x20It\x20first\x20identifies\x20competitors\x20and\x20analysis\x20aspects\x20(e.g.,\x20pricing,\x20features,\x20marketing).\x0a-\x20Collects\x20insights\x20from\x20public\x20reports,\x20websites,\x20and\x20customer\x20reviews.\x0a-\x20Provides\x20a\x20structured\x20comparison\x20highlighting\x20strengths,\x20weaknesses,\x20and\x20differentiators.\x0a-\x20Uses\x20a\x20SWOT\x20analysis\x20format\x20when\x20applicable.\x0a-\x20Presents\x20competitor\x20data\x20in\x20tables\x20with\x20a\x20Data\x20Source\x20&\x20Timestamp\x20section.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x296cd7['Agent'],'id':_0x227435(0x9f1),'name':'Strategizing\x20Agent','description':_0x227435(0x645),'modelId':_0x227435(0x2b8),'instructions':'Strategizing\x20Agent\x20helps\x20businesses\x20evaluate\x20strategies,\x20analyze\x20market\x20conditions,\x20and\x20optimize\x20decision-making.\x0a-\x20Identifies\x20the\x20business\x20goal\x20or\x20challenge\x20before\x20providing\x20recommendations.\x0a-\x20Provides\x20data-driven\x20insights\x20referencing\x20industry\x20benchmarks\x20and\x20trends.\x0a-\x20Uses\x20logical\x20frameworks\x20such\x20as\x20SWOT\x20Analysis,\x20Risk\x20Assessment,\x20and\x20Strategic\x20Roadmaps.\x0a-\x20Presents\x20recommendations\x20objectively,\x20listing\x20advantages\x20and\x20disadvantages.\x0a-\x20Uses\x20structured\x20formatting\x20with\x20bullet\x20points\x20and\x20comparison\x20tables.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x296cd7['Agent'],'id':_0x227435(0xabc),'name':_0x227435(0x3b0),'description':_0x227435(0x430),'modelId':_0x227435(0x2b8),'instructions':_0x227435(0x647),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x296cd7[_0x227435(0x5ac)],'id':'archival-search','name':_0x227435(0xaa9),'description':'Retrieves\x20historical\x20data\x20from\x20online\x20archives.','modelId':_0x227435(0x2b8),'instructions':_0x227435(0x35f),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x296cd7[_0x227435(0x5ac)],'id':_0x227435(0x3f6),'name':_0x227435(0xb29),'description':_0x227435(0x495),'modelId':_0x227435(0x2b8),'instructions':_0x227435(0x708),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x296cd7['Agent'],'id':'copywriter-agent','name':_0x227435(0xc12),'description':'Generates\x20marketing\x20copy,\x20blog\x20articles,\x20and\x20ad\x20content.','modelId':_0x227435(0x2b8),'instructions':'Copywriter\x20Agent\x20creates\x20engaging,\x20high-quality\x20written\x20content\x20for\x20marketing,\x20blogs,\x20and\x20advertisements.\x0a-\x20Identifies\x20the\x20purpose\x20and\x20audience\x20before\x20generating\x20text.\x0a-\x20Follows\x20brand\x20tone\x20and\x20voice\x20guidelines\x20if\x20provided.\x0a-\x20Generates\x20SEO-optimized\x20and\x20persuasive\x20content\x20for\x20different\x20formats.\x0a-\x20Ensures\x20all\x20writing\x20is\x20original\x20and\x20avoids\x20generic\x20phrases.\x0a-\x20Structures\x20blog\x20articles\x20with\x20headers,\x20ad\x20copy\x20with\x20a\x20headline-body-CTA\x20format.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x227435(0xbc0),'name':_0x227435(0xa5a),'description':'Coordinates\x20and\x20orchestrates\x20the\x20execution\x20of\x20tasks\x20and\x20workflows.','modelId':_0x227435(0x2b8),'instructions':'Coordinator\x20Agent\x20manages\x20the\x20flow\x20of\x20tasks\x20and\x20ensures\x20the\x20successful\x20execution\x20of\x20workflows\x20to\x20fulfill\x20the\x20user\x27s\x20request.\x0a-\x20Interpret\x20the\x20user’s\x20request\x20to\x20break\x20it\x20down\x20into\x20a\x20sequence\x20of\x20tasks,\x20identifying\x20any\x20dependencies\x20between\x20them.\x0a-\x20Assign\x20each\x20task\x20to\x20the\x20most\x20appropriate\x20tool\x20based\x20on\x20its\x20capabilities.\x0a-\x20Track\x20the\x20progress\x20of\x20all\x20active\x20tasks\x20and\x20ensure\x20they\x20complete\x20as\x20expected.\x0a-\x20Share\x20regular\x20updates\x20with\x20the\x20user\x20about\x20task\x20progress\x20and\x20any\x20significant\x20changes.\x0a-\x20Only\x20respond\x20to\x20the\x20user\x20after\x20reviewing\x20and\x20interpreting\x20the\x20results\x20returned\x20by\x20tools.\x0a-\x20Do\x20not\x20answer\x20user\x20questions\x20directly\x20—\x20focus\x20on\x20managing\x20the\x20process\x20and\x20enabling\x20the\x20right\x20tools\x20to\x20respond.\x0a-\x20Communicate\x20clearly\x20using\x20Markdown\x20to\x20structure\x20updates.\x0a-\x20Understand\x20the\x20strengths\x20and\x20limits\x20of\x20each\x20available\x20tool\x20to\x20make\x20informed\x20decisions.\x0a-\x20Decide\x20whether\x20tasks\x20can\x20run\x20in\x20parallel\x20or\x20must\x20be\x20executed\x20sequentially\x20based\x20on\x20their\x20dependencies.\x0a-\x20If\x20a\x20tool\x20fails\x20or\x20returns\x20an\x20error,\x20evaluate\x20alternatives,\x20reassign\x20the\x20task\x20as\x20needed,\x20and\x20inform\x20the\x20user\x20of\x20the\x20adjustment.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x227435(0x7ab),'name':_0x227435(0x533),'description':_0x227435(0xa6f),'modelId':_0x227435(0x2b8),'instructions':_0x227435(0x73a),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':'document-agent','name':_0x227435(0xa49),'description':_0x227435(0x887),'modelId':'gpt-4.1-nano','instructions':'Document\x20Agent\x20focuses\x20on\x20modifying\x20documents\x20based\x20on\x20user\x20input.\x0a-\x20It\x20only\x20outputs\x20modifications\x20in\x20text\x20format.\x0a-\x20It\x20ensures\x20all\x20modifications\x20are\x20clear\x20and\x20concise.\x0a-\x20It\x20uses\x20Markdown\x20for\x20structured\x20formatting.\x0a-\x20It\x20avoids\x20making\x20assumptions\x20without\x20sufficient\x20context.\x0a-\x20It\x20prioritizes\x20document\x20integrity\x20and\x20user\x20intent.','grammar':'','temperature':0.7,'maxTokens':0x3e8}];class _0x52518b{static [_0x227435(0x447)];static [_0x227435(0x827)]=new Map();static ['modelPrices']=new Map();constructor(){}static[_0x227435(0x3e5)](){const _0x1b9b04=_0x227435;return _0x52518b[_0x1b9b04(0x447)]||(_0x52518b['instance']=new _0x52518b()),_0x52518b[_0x1b9b04(0x447)];}async[_0x227435(0x22d)](){const _0x2328a7=_0x227435;return _0x52518b[_0x2328a7(0x684)]['size']>0x0||(await(0x0,_0x4e090a[_0x2328a7(0xada)])((0x0,_0x4e090a['collection'])(_0x35b99b['getFirestore'](),_0x2328a7(0x675))))[_0x2328a7(0x43d)][_0x2328a7(0x3e7)](_0x5b9360=>{const _0x527045=_0x2328a7,_0xf0dee=_0x5b9360[_0x527045(0x205)](),_0x53fd3e=decodeURIComponent(_0x5b9360['id']);_0x52518b[_0x527045(0x684)][_0x527045(0x9b4)](_0x53fd3e,{'id':_0x53fd3e,'inputTokenPrice':1.3*_0xf0dee[_0x527045(0x62d)],'outputTokenPrice':1.3*_0xf0dee['outputPrice'],'fallbackModel':_0xf0dee[_0x527045(0x5fe)]});}),_0x52518b['modelPrices'];}async['getModels'](){const _0x45c09e=_0x227435;if(_0x52518b[_0x45c09e(0x827)]['size']>0x0)return _0x52518b[_0x45c09e(0x827)];const _0x5b4f4c=await(0x0,_0x4e090a[_0x45c09e(0xada)])((0x0,_0x4e090a['collection'])(_0x35b99b[_0x45c09e(0xc63)](),'/models')),_0x316270=new Map();return _0x5b4f4c[_0x45c09e(0x43d)]['forEach'](_0x44954b=>{const _0x3fd17e=_0x45c09e,_0x30dbd1=_0x44954b[_0x3fd17e(0x205)](),_0x5c977c=decodeURIComponent(_0x44954b['id']);_0x316270[_0x3fd17e(0x9b4)](_0x5c977c,{'id':_0x5c977c,'engineType':_0x30dbd1[_0x3fd17e(0x689)],'taskType':_0x30dbd1[_0x3fd17e(0xab6)],'inputType':_0x30dbd1['inputTypes'][0x0],'outputType':_0x30dbd1[_0x3fd17e(0x417)][0x0],'knowledgeCutoffDate':_0x30dbd1[_0x3fd17e(0xc01)],'sourceUrl':''});}),_0x52518b[_0x45c09e(0x827)]=_0x316270,_0x316270;}async[_0x227435(0x6ba)](_0x39251f,_0x342c10){const _0xeb0e0c=_0x227435,_0x33b2b0=await(0x0,_0x4e090a[_0xeb0e0c(0x2a3)])((0x0,_0x4e090a[_0xeb0e0c(0xa27)])(_0x35b99b['getFirestore'](),_0xeb0e0c(0x34e)+_0x39251f+_0xeb0e0c(0x444)+_0x342c10)),_0x50b9d3=await this['getAgents'](_0x39251f),_0x1c9368=await this[_0xeb0e0c(0xb67)](_0x39251f),_0xb8386a=await this['getDataCollections'](_0x39251f);if(!_0x33b2b0[_0xeb0e0c(0x2e5)]())throw new _0x82cd08(_0x82cd08['codes']['WorkflowDoesNotExist']);return this[_0xeb0e0c(0x66a)](_0x33b2b0,_0x50b9d3,_0x1c9368,_0xb8386a);}async[_0x227435(0x3d0)](_0x253f8d){const _0x4000de=_0x227435;return(await(0x0,_0x4e090a[_0x4000de(0xada)])((0x0,_0x4e090a[_0x4000de(0xb07)])(_0x35b99b[_0x4000de(0xc63)](),_0x4000de(0x34e)+_0x253f8d+_0x4000de(0xaf8))))[_0x4000de(0x43d)][_0x4000de(0x7b9)](_0x4fdcd3=>{const _0x31222a=_0x4000de,_0x4198db=_0x4fdcd3['data']();return{'type':_0x296cd7[_0x31222a(0x2bd)],'id':_0x4fdcd3['id'],'name':_0x4198db[_0x31222a(0xc30)],'description':_0x4198db[_0x31222a(0x60e)],'storageType':_0x4198db['storageType']??_0x2bba8e[_0x31222a(0x9f7)][_0x31222a(0x724)],'hosting':_0x4198db['hosting']??_0x16df3c[_0x31222a(0x423)],'modelId':_0x4198db[_0x31222a(0x46c)]??_0x31222a(0x585),'ingestBlocks':_0x4198db['ingestBlocks'],'retrieveBlocks':_0x4198db[_0x31222a(0x474)]};});}async[_0x227435(0x480)](_0x1bd17d,_0x556c61){const _0x3fffb3=_0x227435,_0x16a122=await(0x0,_0x4e090a[_0x3fffb3(0x2a3)])((0x0,_0x4e090a['doc'])(_0x35b99b[_0x3fffb3(0xc63)](),_0x3fffb3(0x34e)+_0x1bd17d+'/resources/generative-ai-collection/items/'+_0x556c61)),_0x31ef8c=await this[_0x3fffb3(0x671)](_0x1bd17d),_0x3b7ff5=_0x16a122[_0x3fffb3(0x205)]();if(!_0x3b7ff5)throw new _0x82cd08(_0x82cd08[_0x3fffb3(0xab8)][_0x3fffb3(0x200)]);return{'type':_0x296cd7[_0x3fffb3(0x2bd)],'id':_0x556c61,'uid':_0x556c61,'name':_0x3b7ff5[_0x3fffb3(0xc30)],'description':_0x3b7ff5[_0x3fffb3(0x60e)],'storageType':_0x3b7ff5[_0x3fffb3(0x3a5)]??_0x2bba8e[_0x3fffb3(0x9f7)][_0x3fffb3(0x724)],'hosting':_0x3b7ff5['hosting']??_0x16df3c[_0x3fffb3(0x423)],'modelId':_0x3b7ff5['modelId']??'text-embedding-3-small','ingestBlocks':this[_0x3fffb3(0x519)](_0x3b7ff5['ingestBlocks'],_0x31ef8c),'retrieveBlocks':this[_0x3fffb3(0x519)](_0x3b7ff5[_0x3fffb3(0x474)],_0x31ef8c),'links':[]};}[_0x227435(0x66a)](_0x536387,_0x2261ce,_0x2c0acc,_0x11591b){const _0x83ed13=_0x227435,_0x204ce4=_0x536387['data']();if(!_0x204ce4)throw new _0x82cd08(_0x82cd08['codes']['WorkflowDoesNotExist']);const _0x1164ac=this[_0x83ed13(0x918)](_0x204ce4[_0x83ed13(0x92b)],_0x2261ce,_0x2c0acc,_0x11591b);return{'id':_0x536387['id'],'name':_0x204ce4[_0x83ed13(0xc30)],'description':_0x204ce4['description'],'blocks':_0x1164ac,'dataBucketIds':this['getWorkflowObjectStorageBuckets'](_0x1164ac),'externalStorageConnectionIds':this['getWorkflowExternalStorageConnections'](_0x1164ac),'initialPrompt':_0x204ce4[_0x83ed13(0x530)]};}[_0x227435(0x6fb)](_0x25fb68){const _0x457636=_0x227435,_0x1adea8=new Set();for(const _0x11e0e0 of _0x25fb68)switch(_0x11e0e0[_0x457636(0x649)]){case _0x296cd7[_0x457636(0x45b)]:case _0x296cd7[_0x457636(0x2bd)]:for(const _0x4385dc of[..._0x11e0e0[_0x457636(0x2db)],..._0x11e0e0[_0x457636(0x474)]])_0x4385dc[_0x457636(0x649)]===_0x4cc421['ObjectStorageUpload']&&_0x1adea8[_0x457636(0x9b9)](_0x4385dc['id']);}return Array[_0x457636(0x218)](_0x1adea8);}[_0x227435(0x230)](_0x22fd4d){const _0x4b1dd2=_0x227435,_0x313cb3=new Set();for(const _0x3686fa of _0x22fd4d)switch(_0x3686fa['type']){case _0x296cd7[_0x4b1dd2(0x45b)]:case _0x296cd7[_0x4b1dd2(0x2bd)]:for(const _0x2e4327 of[..._0x3686fa[_0x4b1dd2(0x2db)],..._0x3686fa[_0x4b1dd2(0x474)]])_0x2e4327[_0x4b1dd2(0x649)]===_0x4cc421[_0x4b1dd2(0x970)]&&_0x313cb3['add'](_0x2e4327['id']);}return Array[_0x4b1dd2(0x218)](_0x313cb3);}[_0x227435(0x918)](_0x52b672,_0x39b0a3,_0x44a61c,_0x3ac4d1){const _0x28301e=_0x227435;return _0x52b672[_0x28301e(0x7b9)](_0x51f768=>{const _0x4314c3=_0x28301e;switch(_0x51f768['type']){case _0x296cd7[_0x4314c3(0x5ac)]:case _0x296cd7['AgentSkill']:case _0x296cd7[_0x4314c3(0x59e)]:const _0x4e7ddb=_0x39b0a3[_0x4314c3(0x5b4)](_0x47583d=>_0x47583d['id']===_0x51f768['id']);if(!_0x4e7ddb)throw new _0x82cd08(_0x82cd08['codes']['WorkflowInvalidBlockType'],{'block':_0x51f768});return{'type':_0x296cd7[_0x4314c3(0x5ac)],'id':_0x4e7ddb['id'],'uid':_0x51f768[_0x4314c3(0x911)],'name':_0x4e7ddb[_0x4314c3(0xc30)],'description':_0x4e7ddb[_0x4314c3(0x60e)],'instructions':(_0x4e7ddb['instructions']+'\x0a\x0a'+(_0x51f768['agent']?.[_0x4314c3(0x74d)]??''))[_0x4314c3(0x5d7)](),'contextOutputVariable':_0x51f768[_0x4314c3(0x3d3)]?.[_0x4314c3(0x3c1)],'contextInputVariable':_0x51f768['agent']?.['contextInputVariable'],'reasoning':_0x51f768['agent']?.[_0x4314c3(0xa3a)],'verbosity':_0x51f768[_0x4314c3(0x3d3)]?.[_0x4314c3(0xad7)],'grammar':_0x51f768[_0x4314c3(0x3d3)]?.[_0x4314c3(0x222)]??'default','temperature':_0x51f768['agent']?.[_0x4314c3(0x51c)]??0.5,'voice':_0x51f768[_0x4314c3(0x3d3)]?.[_0x4314c3(0x8bd)],'responseFormat':_0x51f768[_0x4314c3(0x3d3)]?.['responseFormat'],'timestampGranularities':_0x51f768['agent']?.[_0x4314c3(0x57d)],'language':_0x51f768[_0x4314c3(0x3d3)]?.['language'],'ratio':_0x51f768['agent']?.['ratio'],'duration':_0x51f768[_0x4314c3(0x3d3)]?.[_0x4314c3(0x82d)],'maxTokens':_0x51f768['agent']?.[_0x4314c3(0xb0a)]??0x1f4,'modelId':_0x51f768[_0x4314c3(0x3d3)]?.[_0x4314c3(0x46c)]??_0x4314c3(0x2bc),'links':_0x51f768['links']};case _0x296cd7['Knowledge']:case _0x296cd7['DataCollection']:const _0x29e4cf=_0x3ac4d1[_0x4314c3(0x5b4)](_0x474ed=>_0x474ed['id']===_0x51f768['id']);if(!_0x29e4cf)throw new _0x82cd08(_0x82cd08[_0x4314c3(0xab8)][_0x4314c3(0x3ca)],{'block':_0x51f768});return{'type':_0x51f768[_0x4314c3(0x649)],'id':_0x29e4cf['id'],'uid':_0x51f768['uid'],'name':_0x29e4cf[_0x4314c3(0xc30)],'description':_0x29e4cf[_0x4314c3(0x60e)],'ingestBlocks':this[_0x4314c3(0x519)](_0x29e4cf[_0x4314c3(0x2db)],_0x39b0a3),'retrieveBlocks':this[_0x4314c3(0x519)](_0x29e4cf[_0x4314c3(0x474)],_0x39b0a3),'links':_0x51f768[_0x4314c3(0x5d8)]};case _0x296cd7[_0x4314c3(0xb46)]:return{'type':_0x51f768[_0x4314c3(0x649)],'id':_0x51f768['id'],'uid':_0x51f768[_0x4314c3(0x911)],'name':_0x51f768[_0x4314c3(0xb5d)][_0x4314c3(0xc30)],'description':_0x51f768[_0x4314c3(0xb5d)][_0x4314c3(0x60e)],'parameters':_0x51f768[_0x4314c3(0xb5d)][_0x4314c3(0x6b9)],'endpointUrl':_0x51f768[_0x4314c3(0xb5d)][_0x4314c3(0x59b)],'endpointMethod':_0x51f768[_0x4314c3(0xb5d)][_0x4314c3(0x255)],'headers':_0x51f768[_0x4314c3(0xb5d)][_0x4314c3(0x919)],'queryParameters':_0x51f768[_0x4314c3(0xb5d)]['queryParameters'],'bodyParameters':_0x51f768[_0x4314c3(0xb5d)][_0x4314c3(0x270)],'contextOutputVariable':_0x51f768[_0x4314c3(0xb5d)][_0x4314c3(0x3c1)],'links':_0x51f768[_0x4314c3(0x5d8)]};case _0x296cd7['FormSkill']:return{'type':_0x51f768[_0x4314c3(0x649)],'id':_0x51f768['id'],'uid':_0x51f768[_0x4314c3(0x911)],'name':_0x51f768['tool'][_0x4314c3(0xc30)],'description':_0x51f768[_0x4314c3(0xb5d)][_0x4314c3(0x60e)],'questions':_0x51f768[_0x4314c3(0xb5d)]['questions'][_0x4314c3(0x7b9)](_0x2ef14f=>({'id':_0x2ef14f['id'],'question':_0x2ef14f[_0x4314c3(0xc30)],'validation':_0x2ef14f[_0x4314c3(0x737)],'required':_0x4314c3(0x25e)===_0x2ef14f[_0x4314c3(0x948)],'format':_0x2ef14f[_0x4314c3(0xaef)]})),'contextOutputVariable':_0x51f768[_0x4314c3(0xb5d)][_0x4314c3(0x3c1)],'links':_0x51f768['links']};case _0x296cd7['AiSearch']:return{'type':_0x51f768[_0x4314c3(0x649)],'id':_0x51f768['id'],'uid':_0x51f768[_0x4314c3(0x911)],'modelId':_0x51f768[_0x4314c3(0xb5d)]['modelId']??_0x4314c3(0xade),'links':_0x51f768[_0x4314c3(0x5d8)]};case _0x296cd7['WorkflowTool']:const _0x2333e0=_0x44a61c[_0x4314c3(0x5b4)](_0x8cef81=>_0x8cef81['id']===_0x51f768['id']);if(!_0x2333e0)throw new _0x82cd08(_0x82cd08[_0x4314c3(0xab8)][_0x4314c3(0x3ca)],{'block':_0x51f768});return{'type':_0x51f768[_0x4314c3(0x649)],'id':_0x51f768['id'],'uid':_0x51f768[_0x4314c3(0x911)],'name':_0x2333e0['name'],'description':_0x2333e0[_0x4314c3(0x60e)],'workflowId':_0x2333e0['id'],'async':_0x51f768[_0x4314c3(0xb5d)]['async'],'contextOutputVariable':_0x51f768[_0x4314c3(0xb5d)]['contextOutputVariable'],'contextInputVariable':_0x51f768[_0x4314c3(0xb5d)][_0x4314c3(0xa26)],'links':_0x51f768[_0x4314c3(0x5d8)]};case _0x296cd7[_0x4314c3(0x6f1)]:case _0x296cd7['GmailSendEmail']:case _0x296cd7[_0x4314c3(0x336)]:case _0x296cd7[_0x4314c3(0x6dd)]:case _0x296cd7[_0x4314c3(0x7df)]:case _0x296cd7[_0x4314c3(0xa3f)]:case _0x296cd7[_0x4314c3(0x300)]:case _0x296cd7[_0x4314c3(0xa4a)]:case _0x296cd7[_0x4314c3(0x66e)]:case _0x296cd7[_0x4314c3(0xc46)]:case _0x296cd7[_0x4314c3(0xb76)]:case _0x296cd7['GoogleCalendarListEvents']:case _0x296cd7[_0x4314c3(0x8b2)]:case _0x296cd7['GoogleCalendarDeleteEvent']:case _0x296cd7['GoogleCalendarListContacts']:case _0x296cd7[_0x4314c3(0x6d6)]:case _0x296cd7[_0x4314c3(0x68f)]:case _0x296cd7[_0x4314c3(0x376)]:case _0x296cd7[_0x4314c3(0x654)]:case _0x296cd7[_0x4314c3(0x82f)]:case _0x296cd7['GoogleCalendarGetAvailability']:case _0x296cd7[_0x4314c3(0xbce)]:case _0x296cd7[_0x4314c3(0x425)]:case _0x296cd7[_0x4314c3(0x409)]:case _0x296cd7[_0x4314c3(0xbe4)]:case _0x296cd7[_0x4314c3(0x402)]:case _0x296cd7[_0x4314c3(0x7b1)]:case _0x296cd7[_0x4314c3(0x35d)]:case _0x296cd7[_0x4314c3(0x8ff)]:case _0x296cd7[_0x4314c3(0x386)]:case _0x296cd7[_0x4314c3(0x5e0)]:case _0x296cd7[_0x4314c3(0x2fb)]:case _0x296cd7[_0x4314c3(0x30a)]:case _0x296cd7[_0x4314c3(0x46b)]:case _0x296cd7[_0x4314c3(0x75e)]:case _0x296cd7[_0x4314c3(0x6fd)]:case _0x296cd7[_0x4314c3(0x862)]:case _0x296cd7['QuickbooksGetBill']:case _0x296cd7[_0x4314c3(0xbf5)]:case _0x296cd7[_0x4314c3(0xb75)]:case _0x296cd7[_0x4314c3(0x82c)]:case _0x296cd7[_0x4314c3(0xba1)]:case _0x296cd7[_0x4314c3(0x9fa)]:case _0x296cd7['QuickbooksGetDeposit']:case _0x296cd7[_0x4314c3(0x8c5)]:case _0x296cd7[_0x4314c3(0x314)]:case _0x296cd7['QuickbooksSearchAllTransactions']:case _0x296cd7[_0x4314c3(0x949)]:case _0x296cd7[_0x4314c3(0x942)]:case _0x296cd7['QuickbooksSearchUnpaidInvoices']:case _0x296cd7[_0x4314c3(0x281)]:case _0x296cd7[_0x4314c3(0xaa7)]:case _0x296cd7[_0x4314c3(0x91b)]:case _0x296cd7[_0x4314c3(0x498)]:case _0x296cd7[_0x4314c3(0xa83)]:case _0x296cd7['QuickbooksGetInventoryValuation']:return{'type':_0x51f768[_0x4314c3(0x649)],'id':_0x51f768['id'],'uid':_0x51f768[_0x4314c3(0x911)],'links':_0x51f768[_0x4314c3(0x5d8)],'userId':_0x51f768[_0x4314c3(0xb5d)]?.[_0x4314c3(0x584)]};case _0x296cd7[_0x4314c3(0x7a9)]:case _0x296cd7['InputStream']:case _0x296cd7[_0x4314c3(0x295)]:case _0x296cd7[_0x4314c3(0x90a)]:case _0x296cd7['OutputStream']:case _0x296cd7['Code']:case _0x296cd7[_0x4314c3(0x9e1)]:case _0x296cd7[_0x4314c3(0xa0a)]:case _0x296cd7['WebScraperRaw']:case _0x296cd7[_0x4314c3(0x796)]:case _0x296cd7[_0x4314c3(0xbc9)]:case _0x296cd7[_0x4314c3(0x493)]:case _0x296cd7['DocumentParser']:case _0x296cd7[_0x4314c3(0x360)]:case _0x296cd7[_0x4314c3(0x4b5)]:case _0x296cd7[_0x4314c3(0x223)]:case _0x296cd7[_0x4314c3(0x6fe)]:case _0x296cd7['GoogleMapsPlaceDetails']:case _0x296cd7[_0x4314c3(0x508)]:case _0x296cd7[_0x4314c3(0x9c7)]:case _0x296cd7[_0x4314c3(0x500)]:case _0x296cd7['GoogleMapsDistanceMatrix']:return{'type':_0x51f768[_0x4314c3(0x649)],'id':_0x51f768['id'],'uid':_0x51f768[_0x4314c3(0x911)],'links':_0x51f768[_0x4314c3(0x5d8)]};case _0x296cd7[_0x4314c3(0xc15)]:return{'type':_0x51f768[_0x4314c3(0x649)],'id':_0x51f768['id'],'uid':_0x51f768['uid'],'links':_0x51f768[_0x4314c3(0x5d8)],'emailAddress':_0x51f768[_0x4314c3(0xb5d)]?.['emailAddress'],'subject':_0x51f768[_0x4314c3(0xb5d)]?.['subject']};case _0x296cd7[_0x4314c3(0x767)]:case _0x296cd7[_0x4314c3(0x40b)]:return{'type':_0x51f768[_0x4314c3(0x649)],'id':_0x51f768['id'],'uid':_0x51f768[_0x4314c3(0x911)],'links':_0x51f768[_0x4314c3(0x5d8)],'attributes':_0x51f768[_0x4314c3(0x9da)]};default:throw new _0x82cd08(_0x82cd08[_0x4314c3(0xab8)][_0x4314c3(0x3ca)],{'block':_0x51f768});}});}[_0x227435(0x519)](_0x2277f1,_0x1d0358){const _0x12564c=_0x227435;return _0x2277f1?_0x2277f1[_0x12564c(0x7b9)](_0x2b3efb=>{const _0x5c8153=_0x12564c;switch(_0x2b3efb[_0x5c8153(0x649)]){case _0x4cc421[_0x5c8153(0x5ac)]:const _0x51dc11=_0x1d0358[_0x5c8153(0x5b4)](_0x1107d1=>_0x1107d1['id']===_0x2b3efb['id']);if(!_0x51dc11)throw new _0x82cd08(_0x82cd08[_0x5c8153(0xab8)]['WorkflowInvalidBlockType'],{'block':_0x2b3efb});return{'type':_0x2b3efb['type'],'id':_0x2b3efb['id'],'uid':_0x2b3efb[_0x5c8153(0x911)],'description':_0x51dc11['description'],'instructions':(_0x51dc11[_0x5c8153(0xa35)]+'\x0a\x0a'+(_0x2b3efb[_0x5c8153(0x3d3)]?.[_0x5c8153(0x74d)]??''))[_0x5c8153(0x5d7)](),'contextOutputVariable':_0x2b3efb[_0x5c8153(0x3d3)]?.[_0x5c8153(0x3c1)],'contextInputVariable':_0x2b3efb[_0x5c8153(0x3d3)]?.[_0x5c8153(0xa26)],'reasoning':_0x2b3efb['agent']?.['reasoning'],'verbosity':_0x2b3efb[_0x5c8153(0x3d3)]?.[_0x5c8153(0xad7)],'grammar':_0x2b3efb[_0x5c8153(0x3d3)]?.[_0x5c8153(0x222)]??'default','temperature':_0x2b3efb[_0x5c8153(0x3d3)]?.[_0x5c8153(0x51c)]??0.5,'voice':_0x2b3efb[_0x5c8153(0x3d3)]?.[_0x5c8153(0x8bd)],'responseFormat':_0x2b3efb[_0x5c8153(0x3d3)]?.[_0x5c8153(0x4ec)],'timestampGranularities':_0x2b3efb['agent']?.[_0x5c8153(0x57d)],'language':_0x2b3efb['agent']?.['language'],'ratio':_0x2b3efb[_0x5c8153(0x3d3)]?.['ratio'],'duration':_0x2b3efb['agent']?.[_0x5c8153(0x82d)],'maxTokens':_0x2b3efb['agent']?.[_0x5c8153(0xb0a)]??0x1f4,'modelId':_0x2b3efb[_0x5c8153(0x3d3)]?.[_0x5c8153(0x46c)]??_0x5c8153(0x2bc),'links':_0x2b3efb[_0x5c8153(0x5d8)]};case _0x4cc421[_0x5c8153(0x1e3)]:case _0x4cc421[_0x5c8153(0x561)]:case _0x4cc421[_0x5c8153(0x40b)]:case _0x4cc421['ChunkSplitter']:case _0x4cc421['EntityExtractor']:case _0x4cc421[_0x5c8153(0x59f)]:return{'type':_0x2b3efb[_0x5c8153(0x649)],'id':_0x2b3efb['id'],'uid':_0x2b3efb[_0x5c8153(0x911)],'links':_0x2b3efb[_0x5c8153(0x5d8)],'attributes':_0x2b3efb[_0x5c8153(0x9da)]};case _0x4cc421[_0x5c8153(0xb5b)]:case _0x4cc421['ObjectStorageBucket']:case _0x4cc421['KeyValueDatabase']:case _0x4cc421[_0x5c8153(0x849)]:case _0x4cc421[_0x5c8153(0x40e)]:case _0x4cc421['SentenceSplitter']:case _0x4cc421[_0x5c8153(0x404)]:case _0x4cc421[_0x5c8153(0x970)]:case _0x4cc421[_0x5c8153(0x62f)]:case _0x4cc421[_0x5c8153(0x7a9)]:case _0x4cc421[_0x5c8153(0xc66)]:case _0x4cc421[_0x5c8153(0x858)]:return{'type':_0x2b3efb[_0x5c8153(0x649)],'id':_0x2b3efb['id'],'uid':_0x2b3efb[_0x5c8153(0x911)],'links':_0x2b3efb[_0x5c8153(0x5d8)]};default:throw new _0x82cd08(_0x82cd08['codes'][_0x5c8153(0x3ca)],{'block':_0x2b3efb});}}):[];}async['getAgents'](_0x2e78c8){const _0x4a1bef=_0x227435,_0x1f0db6=(await(0x0,_0x4e090a[_0x4a1bef(0xada)])((0x0,_0x4e090a['collection'])(_0x35b99b[_0x4a1bef(0xc63)](),'/developers/'+_0x2e78c8+'/resources/generative-ai-agent/items')))[_0x4a1bef(0x43d)]['map'](_0x35f760=>{const _0x2548a0=_0x4a1bef,_0x408a80=_0x35f760[_0x2548a0(0x205)]();return{'type':_0x296cd7['Agent'],'id':_0x35f760['id'],'name':_0x408a80[_0x2548a0(0xc30)],'description':_0x408a80[_0x2548a0(0x60e)],'instructions':_0x408a80[_0x2548a0(0xa35)]};});return _0x1f0db6[_0x4a1bef(0x91f)](..._0x48c7dd),_0x1f0db6[_0x4a1bef(0x91f)](..._0x805fcc),_0x1f0db6;}async[_0x227435(0xb67)](_0x3bebe8){const _0x330caa=_0x227435;return(await(0x0,_0x4e090a[_0x330caa(0xada)])((0x0,_0x4e090a[_0x330caa(0xb07)])(_0x35b99b[_0x330caa(0xc63)](),_0x330caa(0x34e)+_0x3bebe8+_0x330caa(0x29a))))['docs'][_0x330caa(0x7b9)](_0x4b9d8c=>{const _0x4c3765=_0x330caa,_0x5e9ece=_0x4b9d8c[_0x4c3765(0x205)]();return{'id':_0x4b9d8c['id'],'name':_0x5e9ece[_0x4c3765(0xc30)],'description':_0x5e9ece[_0x4c3765(0x60e)]};});}}const _0x5be0c7=_0x52518b[_0x227435(0x3e5)]();class _0x23e021 extends _0x411e0b{[_0x227435(0xc26)];[_0x227435(0x2ae)];[_0x227435(0x298)]=0x0;[_0x227435(0x73e)]=0x0;[_0x227435(0xb57)];constructor(_0x565477,_0xde9f73,_0xb6eac5,_0x1e89a7){const _0x3e3aa0=_0x227435;super(_0x565477,_0xde9f73,_0x1e89a7),this[_0x3e3aa0(0xc26)]=_0x565477,this[_0x3e3aa0(0x2ae)]=_0xb6eac5,this['sendStats']();}[_0x227435(0xa3c)](){const _0x4731f1=_0x227435;this[_0x4731f1(0xb57)]&&(clearTimeout(this[_0x4731f1(0xb57)]),delete this['debounceStats']),super['destroy']();}['reset'](){const _0x2aae78=_0x227435;this[_0x2aae78(0x298)]=0x0,this['tokens']=0x0,this[_0x2aae78(0x23c)](),super[_0x2aae78(0x278)]();}[_0x227435(0x459)](_0x1d5f1a){const _0x144a9a=_0x227435,_0x47e606=_0x144a9a(0x273)+(0x0,_0x4821d1['v4'])();let _0x462efe=!0x1;const _0x1352cf=()=>{const _0x13aa19=_0x144a9a;if(_0x462efe)throw new _0x82cd08(_0x82cd08[_0x13aa19(0xab8)][_0x13aa19(0x4f0)]);_0x462efe=!0x0;};switch(_0x1d5f1a[_0x144a9a(0x649)]){case _0x144a9a(0x1de):case _0x144a9a(0xb25):case _0x144a9a(0xb73):case _0x144a9a(0xa6a):case _0x144a9a(0x293):case _0x144a9a(0x913):case _0x144a9a(0x859):case'rate':case _0x144a9a(0x8ae):case _0x144a9a(0xa1c):case _0x144a9a(0x6d9):case _0x144a9a(0x234):return{'id':_0x47e606,..._0x1d5f1a,'run':()=>(_0x1352cf(),this[_0x144a9a(0x27d)](_0x47e606,_0x1d5f1a))};case'inference':case _0x144a9a(0x7ed):const _0x341e6a=()=>(_0x1352cf(),this[_0x144a9a(0xa0b)](_0x47e606,_0x1d5f1a)),_0x2065ff=()=>(_0x1352cf(),this[_0x144a9a(0x4d0)](_0x47e606,_0x1d5f1a));return{'id':_0x47e606,'options':{'threadId':_0x144a9a(0x42d)+(0x0,_0x4821d1['v4'])()},..._0x1d5f1a,'run':_0x341e6a,'stream':_0x2065ff};default:throw new Error('Invalid\x20job\x20type');}}async[_0x227435(0x27d)](_0x40e91b,_0x360735){const _0x2b753e=_0x227435;if(_0x2b753e(0x393)===_0x360735[_0x2b753e(0x649)]||_0x2b753e(0x7ed)===_0x360735['type'])throw new _0x27b95d(_0x398751[_0x2b753e(0xc05)],_0x2b753e(0xc2b));const _0x5068dd={'threadId':_0x2b753e(0x42d)+(0x0,_0x4821d1['v4'])(),..._0x360735},_0x33fa38=await this[_0x2b753e(0xba5)](_0x40e91b,_0x2bba8e[_0x2b753e(0x648)][_0x2b753e(0x55e)],_0x5068dd);return new Promise((_0x43d934,_0x4e0953)=>{const _0x311e46=_0x2b753e;let _0x57bc6a;const _0x244183=_0x33fa38[_0x311e46(0x214)]({'next':_0x17d856=>{const _0xaa1e50=_0x311e46;switch(_0x17d856['status']){case _0x2bba8e[_0xaa1e50(0x9a5)][_0xaa1e50(0x269)]:clearTimeout(_0x57bc6a),_0x43d934(_0x17d856[_0xaa1e50(0x58a)]),_0x244183[_0xaa1e50(0x46f)]();break;case _0x2bba8e[_0xaa1e50(0x9a5)][_0xaa1e50(0x4da)]:clearTimeout(_0x57bc6a),_0x4e0953(new _0x82cd08(_0x82cd08['codes']['GenerativeAIContextJobFailed'],{'updatedJob':_0x17d856})),_0x244183[_0xaa1e50(0x46f)]();}},'error':_0x5552ff=>{const _0x5a4d48=_0x311e46;clearTimeout(_0x57bc6a),_0x4e0953(new _0x82cd08(_0x82cd08[_0x5a4d48(0xab8)]['GenerativeAIContextJobFailed'],{'err':_0x5552ff})),_0x244183[_0x5a4d48(0x46f)]();}});_0x57bc6a=setTimeout(()=>{const _0x457c82=_0x311e46;_0x4e0953(new _0x82cd08(_0x82cd08['codes'][_0x457c82(0xa70)])),_0x244183[_0x457c82(0x46f)]();},_0x7623e0);});}async[_0x227435(0xa0b)](_0x46daa1,_0x3d9a00){const _0x2c697c=_0x227435,_0x4c5909=await this[_0x2c697c(0xba5)](_0x46daa1,_0x2bba8e['JobType']['Job'],_0x3d9a00);return new Promise((_0x5d8cae,_0x13f3a4)=>{const _0x73e25a=_0x2c697c;let _0x138978;const _0x11b9b9=_0x4c5909[_0x73e25a(0x214)]({'next':_0xdd37aa=>{const _0x567d55=_0x73e25a;switch(_0xdd37aa[_0x567d55(0x4ab)]){case _0x2bba8e[_0x567d55(0x9a5)][_0x567d55(0x269)]:if(_0x567d55(0x7ed)!==_0xdd37aa['result']['type'])return;const _0x3f44a4=_0xdd37aa[_0x567d55(0x58a)]['inputTokens']??0x0;this[_0x567d55(0x8c4)](_0x3d9a00['prompt'],_0x3f44a4),clearTimeout(_0x138978),_0x5d8cae(_0xdd37aa[_0x567d55(0x58a)]),_0x11b9b9[_0x567d55(0x46f)](),this['prompts']+=0x1,this[_0x567d55(0x73e)]+=_0x3f44a4,this[_0x567d55(0x23c)]();break;case _0x2bba8e['JobStatus']['Failed']:clearTimeout(_0x138978),_0x13f3a4(new _0x82cd08(_0x82cd08[_0x567d55(0xab8)][_0x567d55(0x4a6)],{'updatedJob':_0xdd37aa})),_0x11b9b9[_0x567d55(0x46f)](),this[_0x567d55(0x23c)]();}},'error':_0x2c58c9=>{const _0x31db4a=_0x73e25a;clearTimeout(_0x138978),_0x13f3a4(new _0x82cd08(_0x82cd08[_0x31db4a(0xab8)][_0x31db4a(0x4a6)],{'err':_0x2c58c9})),_0x11b9b9[_0x31db4a(0x46f)]();}});_0x138978=setTimeout(()=>{const _0x46f537=_0x73e25a;_0x13f3a4(new _0x82cd08(_0x82cd08[_0x46f537(0xab8)]['GenerativeAIContextJobTimeout'])),_0x11b9b9[_0x46f537(0x46f)]();},_0x7623e0);});}async*[_0x227435(0x4d0)](_0x1094c6,_0x21a764){const _0x34da39=_0x227435,_0x1b8a59=await this[_0x34da39(0xba5)](_0x1094c6,_0x2bba8e[_0x34da39(0x648)]['JobStream'],_0x21a764);let _0x559b31,_0x45e105,_0x298b19=!0x1,_0x2568b3=0x0;const _0x155460=[],_0x594523=new Map();let _0x1825b7=null;const _0x57e592=()=>{_0x1825b7&&(_0x1825b7(),_0x1825b7=null);},_0x129ab8=_0x5c0153=>{const _0xa8d9c4=_0x34da39;_0x298b19=!0x0,_0x57e592(),_0x3aaa37[_0xa8d9c4(0x46f)](),_0x45e105=_0x5c0153;},_0x3aaa37=_0x1b8a59[_0x34da39(0x214)]({'next':async _0x595296=>{const _0x4c7c98=_0x34da39;switch(_0x595296[_0x4c7c98(0x4ab)]){case _0x2bba8e[_0x4c7c98(0x9a5)]['Partial']:if(_0x4c7c98(0x7ed)!==_0x595296[_0x4c7c98(0x58a)][_0x4c7c98(0x649)])return;if(void 0x0!==_0x595296['result'][_0x4c7c98(0xc4d)]){if(void 0x0===_0x595296[_0x4c7c98(0x58a)]['index'])return void _0x129ab8(_0x82cd08[_0x4c7c98(0xab8)][_0x4c7c98(0x57a)]);_0x2568b3===_0x595296['result'][_0x4c7c98(0x899)]?(_0x155460[_0x4c7c98(0x91f)](_0x595296[_0x4c7c98(0x58a)]),_0x2568b3++,((()=>{const _0x2a1be7=_0x4c7c98;for(;_0x594523[_0x2a1be7(0xac9)](_0x2568b3);)_0x155460['push'](_0x594523['get'](_0x155460[_0x2a1be7(0xbfb)])),_0x594523[_0x2a1be7(0x3df)](_0x155460[_0x2a1be7(0xbfb)]),_0x2568b3++;})()),_0x57e592(),_0x3d0053()):_0x594523[_0x4c7c98(0x9b4)](_0x595296['result']['index'],_0x595296['result']);}break;case _0x2bba8e[_0x4c7c98(0x9a5)][_0x4c7c98(0x269)]:if('prompt'!==_0x595296['result']['type'])return;for(;_0x2568b3!==_0x595296[_0x4c7c98(0x58a)][_0x4c7c98(0x899)];)await _0x2674de[_0x4c7c98(0xa9d)](0x3e8);const _0x28b8e1=_0x595296['result'][_0x4c7c98(0x652)]??0x0;this[_0x4c7c98(0x8c4)](_0x21a764[_0x4c7c98(0x7ed)],_0x28b8e1),clearTimeout(_0x559b31),_0x129ab8(),this[_0x4c7c98(0x298)]+=0x1,this['tokens']+=_0x28b8e1,this['sendStats']();break;case _0x2bba8e[_0x4c7c98(0x9a5)][_0x4c7c98(0x4da)]:clearTimeout(_0x559b31),_0x129ab8(_0x82cd08[_0x4c7c98(0xab8)][_0x4c7c98(0x4a6)]),this['sendStats']();}},'error':_0x314f7=>{const _0x17b95a=_0x34da39;clearTimeout(_0x559b31),_0x129ab8(_0x82cd08[_0x17b95a(0xab8)][_0x17b95a(0x4a6)]);}}),_0x3c3501=()=>{const _0x574fc9=_0x34da39;_0x129ab8(_0x82cd08['codes'][_0x574fc9(0xa70)]);},_0x3d0053=()=>{clearTimeout(_0x559b31),_0x559b31=setTimeout(_0x3c3501,_0x7623e0);};for(_0x559b31=setTimeout(_0x3c3501,_0x7623e0);!_0x298b19||_0x155460[_0x34da39(0xbfb)]>0x0;)_0x155460[_0x34da39(0xbfb)]>0x0?yield _0x155460[_0x34da39(0x4f7)]():await new Promise(_0x47aab9=>_0x1825b7=_0x47aab9);if(_0x45e105)throw _0x1822ee[_0x34da39(0xc13)](_0x34da39(0x98d),{'nodeId':this[_0x34da39(0xc26)][_0x34da39(0xc22)](),'nodeType':this['localNode'][_0x34da39(0x649)]}),new _0x82cd08(_0x45e105);}async[_0x227435(0x40d)](){const _0x36abed=_0x227435;return(await _0x5be0c7['getWorkflow'](this[_0x36abed(0x2ae)],this[_0x36abed(0x40a)]))[_0x36abed(0xc5d)];}['logServiceEvent'](_0x321cef,_0x329581){const _0x198272=_0x227435,_0xcf7182=this[_0x198272(0x40a)],_0x375df=this[_0x198272(0xa93)]();_0x1822ee[_0x198272(0x8c4)](_0x26d5b9[_0x198272(0x296)],{'topic':_0xcf7182,'prompt':_0x321cef,'type':_0x198272(0x7ed),'nodeId':_0x375df,'tokenCount':_0x329581});}async[_0x227435(0xba5)](_0xe94eb2,_0x3fb3d9,_0x18f9c2,_0x42b51e={}){const _0x2285fa=_0x227435;let _0x283031;switch(_0x18f9c2[_0x2285fa(0x649)]){case'collection-create':case _0x2285fa(0xb25):case _0x2285fa(0xb73):case _0x2285fa(0x234):case _0x2285fa(0xa6a):case _0x2285fa(0x293):case _0x2285fa(0x913):case'file-list':case _0x2285fa(0x393):case'prompt':case'rate':case'realtime-session-create':case _0x2285fa(0xa1c):case _0x2285fa(0x6d9):_0x283031={'id':_0xe94eb2,'jobType':_0x3fb3d9,'parameters':{..._0x42b51e,..._0x18f9c2},'status':_0x2bba8e[_0x2285fa(0x9a5)][_0x2285fa(0xc7a)]};break;default:throw new Error(_0x2285fa(0xc2b));}return await this['createJob'](_0x283031);}['sendStats'](){const _0x30139e=_0x227435;this['debounceStats']&&clearTimeout(this['debounceStats']),this[_0x30139e(0xb57)]=setTimeout(async()=>{const _0x2235c4=_0x30139e;delete this[_0x2235c4(0xb57)],this[_0x2235c4(0x45d)][_0x2235c4(0xb22)]({'sourceId':_0x48df1c,'messageType':_0x37ab1a['Content'],'content':{'type':_0x593bd0[_0x2235c4(0xa5e)],'label':this[_0x2235c4(0x40a)],'stats':{'timestamp':Date[_0x2235c4(0xb26)](),'storage':0x0,'messagesSent':this[_0x2235c4(0xa92)],'messagesReceived':this[_0x2235c4(0x64f)],'bytesSent':this[_0x2235c4(0x41d)],'bytesReceived':this[_0x2235c4(0x485)],'writes':0x0,'reads':0x0,'prompts':this[_0x2235c4(0x298)],'tokens':this[_0x2235c4(0x73e)]}}});},_0x384e78);}}var _0x3ed036,_0x57677b,_0x57b22b,_0x36cb8d,_0x3f2531,_0x6011c9,_0x264183,_0x484bb7,_0x5627c3,_0x18ab4c,_0x25e3f0;!function(_0x41fcb1){const _0x5a4914=_0x227435;_0x41fcb1[_0x5a4914(0x75f)]=_0x5a4914(0x75f),_0x41fcb1['IngestTrace']=_0x5a4914(0x372),_0x41fcb1['RetrieveTrace']='RetrieveTrace',_0x41fcb1[_0x5a4914(0x73f)]=_0x5a4914(0x73f);}(_0x3ed036||(_0x3ed036={})),function(_0x100fff){const _0x21624d=_0x227435;_0x100fff[_0x21624d(0x8bc)]=_0x21624d(0x8bc),_0x100fff[_0x21624d(0x923)]=_0x21624d(0x923),_0x100fff[_0x21624d(0x237)]=_0x21624d(0x237),_0x100fff[_0x21624d(0x90f)]=_0x21624d(0x90f),_0x100fff[_0x21624d(0x781)]=_0x21624d(0x781),_0x100fff['Reranker']=_0x21624d(0x59f);}(_0x57677b||(_0x57677b={})),function(_0x526fd8){const _0x295283=_0x227435;_0x526fd8[_0x526fd8[_0x295283(0x51a)]=0x0]=_0x295283(0x51a),_0x526fd8[_0x526fd8[_0x295283(0x8f3)]=0x5]=_0x295283(0x8f3),_0x526fd8[_0x526fd8['Warning']=0xa]=_0x295283(0x76f),_0x526fd8[_0x526fd8['Error']=0xf]=_0x295283(0x68d);}(_0x57b22b||(_0x57b22b={})),function(_0x4dce60){const _0x38b45f=_0x227435;_0x4dce60[_0x38b45f(0x330)]=_0x38b45f(0x330),_0x4dce60[_0x38b45f(0x97d)]=_0x38b45f(0x97d),_0x4dce60[_0x38b45f(0x45b)]=_0x38b45f(0x45b),_0x4dce60[_0x38b45f(0xb10)]=_0x38b45f(0xb10),_0x4dce60[_0x38b45f(0xb08)]='Workflow',_0x4dce60['Job']='Job',_0x4dce60[_0x38b45f(0xa4f)]='JobContext',_0x4dce60['Rating']=_0x38b45f(0xa38);}(_0x36cb8d||(_0x36cb8d={})),function(_0x430fc8){const _0x12d81b=_0x227435;_0x430fc8[_0x12d81b(0x6df)]=_0x12d81b(0x6df),_0x430fc8[_0x12d81b(0x269)]='Completed';}(_0x3f2531||(_0x3f2531={})),function(_0x59a15b){const _0x4f34ac=_0x227435;_0x59a15b[_0x4f34ac(0xc73)]='InitialPrompt',_0x59a15b[_0x4f34ac(0xbae)]=_0x4f34ac(0xbae),_0x59a15b[_0x4f34ac(0x2bd)]=_0x4f34ac(0x2bd),_0x59a15b[_0x4f34ac(0x6d5)]=_0x4f34ac(0x6d5);}(_0x6011c9||(_0x6011c9={})),function(_0x2dd2e5){const _0x40b08b=_0x227435;_0x2dd2e5[_0x40b08b(0x767)]=_0x40b08b(0x767),_0x2dd2e5[_0x40b08b(0x40e)]='DocumentParser',_0x2dd2e5['EntityExtractor']='EntityExtractor',_0x2dd2e5['GraphDatabase']=_0x40b08b(0x1e3),_0x2dd2e5[_0x40b08b(0x5ac)]='Agent',_0x2dd2e5[_0x40b08b(0x8bc)]='ModelText',_0x2dd2e5[_0x40b08b(0x923)]=_0x40b08b(0x923),_0x2dd2e5['RelationExtractor']=_0x40b08b(0x849),_0x2dd2e5['SentenceSplitter']=_0x40b08b(0x493),_0x2dd2e5[_0x40b08b(0x561)]='VectorDatabase',_0x2dd2e5[_0x40b08b(0x40b)]='WordSplitter';}(_0x264183||(_0x264183={})),function(_0x12306b){const _0x49e84a=_0x227435;_0x12306b[_0x49e84a(0xb11)]='GetContextQuery',_0x12306b[_0x49e84a(0x765)]=_0x49e84a(0x765);}(_0x484bb7||(_0x484bb7={})),function(_0x28f1ac){const _0x113558=_0x227435;_0x28f1ac[_0x113558(0x462)]=_0x113558(0x462),_0x28f1ac['FetchUrl']='FetchUrl',_0x28f1ac[_0x113558(0x389)]='SearchGoogle',_0x28f1ac[_0x113558(0xae7)]='SearchPerplexity',_0x28f1ac[_0x113558(0x265)]=_0x113558(0x265),_0x28f1ac['ExecuteCustomSkill']=_0x113558(0x266),_0x28f1ac[_0x113558(0x796)]=_0x113558(0x796),_0x28f1ac[_0x113558(0xbc9)]=_0x113558(0xbc9),_0x28f1ac['ExecuteWorkflow']=_0x113558(0x83a),_0x28f1ac['FormGetQuestion']=_0x113558(0x9ca),_0x28f1ac['FormSetAnswer']=_0x113558(0x38f),_0x28f1ac[_0x113558(0x396)]=_0x113558(0x396);}(_0x5627c3||(_0x5627c3={})),function(_0x2964a3){const _0x222158=_0x227435;_0x2964a3[_0x222158(0x5fb)]=_0x222158(0x5fb),_0x2964a3[_0x222158(0x57e)]=_0x222158(0x57e);}(_0x18ab4c||(_0x18ab4c={})),function(_0x20f4b4){const _0x51443f=_0x227435;_0x20f4b4[_0x51443f(0x7e0)]=_0x51443f(0x7e0);}(_0x25e3f0||(_0x25e3f0={}));class _0xe806be{static [_0x227435(0x447)]=new _0xe806be();[_0x227435(0x699)]=[];[_0x227435(0x280)]=!0x1;constructor(){}static['getInstance'](){const _0x5c1ebf=_0x227435;return _0xe806be[_0x5c1ebf(0x447)];}get[_0x227435(0xbfb)](){const _0x4ac257=_0x227435;return this[_0x4ac257(0x699)][_0x4ac257(0xbfb)];}[_0x227435(0xa94)](){return!this['isRunning'];}[_0x227435(0x42a)](_0x479232){const _0x5768d0=_0x227435;_0x479232?this[_0x5768d0(0x699)]=this['jobQueue'][_0x5768d0(0x276)](_0x354cd5=>_0x354cd5['ownerId']!==_0x479232):(this[_0x5768d0(0x699)]=[],this[_0x5768d0(0x280)]=!0x1);}[_0x227435(0x9b9)](_0x75db13,_0xded936){const _0x60f5e8=_0x227435;this[_0x60f5e8(0x699)]['push']({'callback':_0xded936,'ownerId':_0x75db13}),this[_0x60f5e8(0x442)]();}async[_0x227435(0x442)](){const _0xcc8ed6=_0x227435;if(!this[_0xcc8ed6(0x280)]){for(this[_0xcc8ed6(0x280)]=!0x0;this[_0xcc8ed6(0x699)][_0xcc8ed6(0xbfb)]>0x0;){const _0x3cae97=this[_0xcc8ed6(0x699)][_0xcc8ed6(0x4f7)]();if(_0x3cae97)try{console[_0xcc8ed6(0x4bc)]('JobQueueService:\x20Running\x20job'),await _0x3cae97[_0xcc8ed6(0x7ff)](),console[_0xcc8ed6(0x4bc)](_0xcc8ed6(0x9d7));}catch(_0x2a1f65){console[_0xcc8ed6(0xc13)](_0xcc8ed6(0x636),_0x2a1f65);}}this[_0xcc8ed6(0x280)]=!0x1;}}}const _0x205eee=_0xe806be[_0x227435(0x3e5)]();class _0x35eb24 extends _0x4c830f{[_0x227435(0x748)];[_0x227435(0x431)];constructor(_0x4048df,_0x4f3a50,_0x4219fb){const _0x3afc65=_0x227435;super(_0x4048df,_0x4f3a50),this[_0x3afc65(0x748)]=_0x4219fb;}[_0x227435(0x9b5)](){const _0x1d5b55=_0x227435;return _0x2bba8e[_0x1d5b55(0x97c)]['Job'];}[_0x227435(0xbd2)](){this['subscribeToJobs']();}[_0x227435(0xa42)](){const _0x53addd=_0x227435;this[_0x53addd(0x45d)]?.[_0x53addd(0xb22)]({'sourceId':_0x48df1c,'messageType':_0x37ab1a[_0x53addd(0x42c)],'content':{'type':_0x593bd0[_0x53addd(0x2c7)],'label':this[_0x53addd(0x40a)]}});}[_0x227435(0x278)](){const _0x51f79d=_0x227435;this[_0x51f79d(0x431)]?.(),delete this['unsubscribeListener'],this[_0x51f79d(0xbd2)]();}[_0x227435(0xa3c)](){const _0x9375aa=_0x227435;_0x205eee[_0x9375aa(0x42a)](this[_0x9375aa(0x40a)]),this[_0x9375aa(0x431)]?.(),delete this['unsubscribeListener'],super[_0x9375aa(0xa3c)]();}['isAvailable'](){const _0x532854=_0x227435;return _0x205eee[_0x532854(0xa94)]();}[_0x227435(0x51f)](){return 0x1;}[_0x227435(0x87e)](_0x55c50c,_0x470d52,_0x108366){}[_0x227435(0x9ff)](_0x5ba6bf,_0x413659){return _0x5ba6bf;}async[_0x227435(0xbcf)](_0x45edec,_0x24e13b){const _0x2fa27d=_0x227435;console[_0x2fa27d(0x4bc)](_0x2fa27d(0x3b2));}async[_0x227435(0x388)](_0x426515,_0x1b514e){const _0x3dbada=_0x227435;console[_0x3dbada(0x4bc)](_0x3dbada(0x3b2));}[_0x227435(0x4bb)](){const _0x1fda43=_0x227435;this['unsubscribeListener']||(this[_0x1fda43(0x431)]=this['onMessage'](async(_0x597672,_0x415a7e)=>{const _0x11369b=_0x1fda43;if(_0x1822ee[_0x11369b(0xbf2)](_0xbbb80e[_0x11369b(0x54e)],'JobWorker:\x20Received\x20job',_0x415a7e),!(_0x415a7e instanceof File)){if(this[_0x11369b(0x759)](_0x415a7e))_0x1822ee[_0x11369b(0xbf2)](_0xbbb80e['Jobs'],_0x11369b(0xb6b),_0x415a7e),this[_0x11369b(0xa94)]()?this[_0x11369b(0x630)](_0x415a7e['id'],_0x415a7e[_0x11369b(0xa56)],_0x597672):this['sendReject'](_0x415a7e['id'],_0x415a7e[_0x11369b(0xa56)],_0x597672);else{if(this[_0x11369b(0x4b7)](_0x415a7e)){_0x1822ee[_0x11369b(0xbf2)](_0xbbb80e[_0x11369b(0x54e)],_0x11369b(0x3f2),_0x415a7e);const {id:_0x25340f,parameters:_0x4437c3}=_0x415a7e;await this['startTracing'](_0x25340f,_0x4437c3),this[_0x11369b(0x3f8)](_0x415a7e['id'],_0x415a7e,_0x597672);}}}}));}[_0x227435(0x630)](_0x53abd4,_0x406a00,_0x186526){const _0x43d5a7=_0x227435,_0x36a52e={'id':_0x53abd4,'jobType':_0x406a00,'jobPhase':_0x5d39a9['Bid'],'available':!0x0,'queueLength':_0x205eee[_0x43d5a7(0xbfb)],'bid':this[_0x43d5a7(0x51f)]()};_0x1822ee[_0x43d5a7(0xbf2)](_0xbbb80e['Jobs'],_0x43d5a7(0x233),_0x36a52e),this[_0x43d5a7(0x8d0)](_0x36a52e,[_0x186526]);}[_0x227435(0x4ae)](_0xdfbd43,_0x303cd0,_0x3aa479){const _0x5a7d30=_0x227435,_0x274d90={'id':_0xdfbd43,'jobType':_0x303cd0,'jobPhase':_0x5d39a9[_0x5a7d30(0x94a)],'available':!0x1,'queueLength':_0x205eee[_0x5a7d30(0xbfb)],'bid':0x0};_0x1822ee[_0x5a7d30(0xbf2)](_0xbbb80e[_0x5a7d30(0x54e)],_0x5a7d30(0x3ff),_0x274d90),this[_0x5a7d30(0x8d0)](_0x274d90,[_0x3aa479]);}async[_0x227435(0x3f8)](_0x269c52,_0x5aee65,_0x2675d8){const _0x24affb=_0x227435;_0x1822ee[_0x24affb(0xbf2)](_0xbbb80e['Jobs'],'JobWorker:\x20Handling\x20job\x20attribution',_0x5aee65);const _0x12a480={'id':_0x269c52,'jobType':_0x5aee65['jobType'],'parameters':_0x5aee65['parameters']};try{switch(_0x5aee65[_0x24affb(0xa56)]){case _0x2bba8e[_0x24affb(0x648)][_0x24affb(0x55e)]:await this[_0x24affb(0x978)](_0x269c52,_0x5aee65,_0x12a480,_0x2675d8);break;case _0x2bba8e['JobType'][_0x24affb(0xa6e)]:await this[_0x24affb(0x49f)](_0x269c52,_0x5aee65,_0x12a480,_0x2675d8);break;default:throw new Error(_0x24affb(0x6d3));}}catch(_0xac3f6e){_0x1822ee[_0x24affb(0xc13)](_0x24affb(0x3af),{'nodeId':this[_0x24affb(0x4be)]['getId'](),'nodeType':this[_0x24affb(0x4be)][_0x24affb(0x649)],'data':{'job':_0x12a480}},_0xac3f6e);const _0x37502d=_0xac3f6e instanceof Error?_0xac3f6e[_0x24affb(0x325)]:_0x24affb(0x59d),_0x20b1e7={'id':_0x269c52,'jobType':_0x5aee65[_0x24affb(0xa56)],'jobPhase':_0x5d39a9['Failed'],'message':_0x37502d};await this[_0x24affb(0x8d0)](_0x20b1e7,[_0x2675d8]);}}async[_0x227435(0x978)](_0x1eb0c7,_0x488aca,_0x468e19,_0x31dbb2){const _0x198112=_0x227435,_0x1b970f=Date[_0x198112(0xb26)](),_0x1a6fa0=await this[_0x198112(0x536)](_0x1eb0c7,_0x468e19['parameters']);this['compileStats'](_0x1a6fa0,_0x1b970f,Date[_0x198112(0xb26)]());const _0xe29226={'id':_0x1eb0c7,'jobType':_0x488aca['jobType'],'jobPhase':_0x5d39a9[_0x198112(0xc7c)],'result':_0x1a6fa0};_0x1822ee[_0x198112(0xbf2)](_0xbbb80e['Jobs'],'JobWorker:\x20Sending\x20job\x20result',_0xe29226),await this[_0x198112(0x8d0)](_0xe29226,[_0x31dbb2]),await this[_0x198112(0x388)](_0x1eb0c7,_0x468e19['parameters']);}async[_0x227435(0x49f)](_0x5e74c3,_0x52e255,_0x50914b,_0x531b8d){const _0x1e9825=_0x227435,_0x18fbd3=Date[_0x1e9825(0xb26)]();let _0x3ce4a7=0x0,_0x355dc4={};for await(const _0xa6b7a of this[_0x1e9825(0x6b2)](_0x50914b['id'],_0x50914b['parameters'])){const _0x29de06={'id':_0x5e74c3,'jobType':_0x52e255[_0x1e9825(0xa56)],'jobPhase':_0x5d39a9['PartialResult'],'result':{..._0xa6b7a,'index':_0x3ce4a7}};_0x1822ee['log'](_0xbbb80e[_0x1e9825(0x54e)],'JobWorker:\x20Sending\x20job\x20partial\x20result',_0x29de06),this[_0x1e9825(0x8d0)](_0x29de06,[_0x531b8d]),_0x355dc4=this['accumulateResult'](_0x355dc4,_0xa6b7a),_0x3ce4a7++;}this[_0x1e9825(0x87e)](_0x355dc4,_0x18fbd3,Date[_0x1e9825(0xb26)]());const _0xab29bf={'id':_0x5e74c3,'jobType':_0x52e255[_0x1e9825(0xa56)],'jobPhase':_0x5d39a9[_0x1e9825(0xc7c)],'result':{..._0x355dc4,'index':_0x3ce4a7}};_0x1822ee[_0x1e9825(0xbf2)](_0xbbb80e[_0x1e9825(0x54e)],_0x1e9825(0x534),_0xab29bf),await this[_0x1e9825(0x8d0)](_0xab29bf,[_0x531b8d]),await this['stopTracing'](_0x5e74c3,_0x50914b[_0x1e9825(0x6b9)]);}[_0x227435(0x759)](_0x370949){const _0x4ff63a=_0x227435;return _0x370949[_0x4ff63a(0x50a)]===_0x5d39a9['Request'];}[_0x227435(0x4b7)](_0x1b297b){const _0x238cc1=_0x227435;return _0x1b297b[_0x238cc1(0x50a)]===_0x5d39a9[_0x238cc1(0xa3d)];}}const _0x2e6412=require('rxjs/operators');class _0x5c093f{['subject'];constructor(){this['subject']=new _0x12273c['Subject']();}[_0x227435(0x99b)](_0x29de29){const _0x408a3b=_0x227435;this['subject'][_0x408a3b(0xb37)](_0x29de29);}async['once'](){const _0x2f3b12=_0x227435;return(0x0,_0x12273c['firstValueFrom'])(this[_0x2f3b12(0x5ed)]['pipe']((0x0,_0x2e6412[_0x2f3b12(0x828)])(0x1)));}}function _0x4e5915(_0xcca6b3){const _0x1adeba=_0x227435;try{return JSON['stringify'](_0xcca6b3);}catch(_0x294aa2){return _0xcca6b3 instanceof Error?_0xcca6b3[_0x1adeba(0x4f9)]():JSON[_0x1adeba(0x5dd)](_0x1adeba(0x9d6));}}class _0x34c861{static [_0x227435(0x447)];[_0x227435(0x3db)]=_0x57b22b[_0x227435(0x68d)];[_0x227435(0xa71)]=_0x57b22b[_0x227435(0x8f3)];[_0x227435(0x6fa)]=_0x36cb8d[_0x227435(0x330)];['openedTraces']={};static ['getInstance']=()=>(_0x34c861[_0x227435(0x447)]||(_0x34c861[_0x227435(0x447)]=new _0x34c861()),_0x34c861[_0x227435(0x447)]);async[_0x227435(0x871)](_0xe22309,_0x1b50ab,_0x3534ca,_0x55f278,_0x33b13a){const _0x580ee3=_0x227435;try{if(this[_0x580ee3(0x394)][_0x1b50ab])return!0x0;const _0x129730={'vendorId':_0xe22309,'workflowId':_0x3534ca,'sequence':0x0,'privacy':_0x33b13a};if(this[_0x580ee3(0x394)][_0x1b50ab]=_0x129730,!_0x55f278||!_0x3534ca)return!0x0;const _0x50329f=(0x0,_0x4e090a[_0x580ee3(0xa27)])(_0x35b99b[_0x580ee3(0xc63)](),'developers/'+_0xe22309+'/workflows/'+_0x3534ca+_0x580ee3(0xaab),_0x1b50ab);return(await(0x0,_0x4e090a[_0x580ee3(0x2a3)])(_0x50329f))['exists']()||await(0x0,_0x4e090a[_0x580ee3(0x354)])(_0x50329f,{'threadId':_0x55f278,'startTime':(0x0,_0x4e090a[_0x580ee3(0x5e5)])()}),!0x0;}catch(_0xf42c8c){return console['error']('GenerativeAITracing\x20-\x20Error\x20while\x20opening\x20trace.',_0xf42c8c),!0x1;}}async[_0x227435(0x20f)](_0x5d5e3b,_0x1070c7,_0x230af1,_0x13fcbc){const _0xc8af69=_0x227435;try{if(!this['openedTraces'][_0x5d5e3b])throw new Error(_0xc8af69(0x705));const _0x5e8365=new Date(),_0x51ee69=_0x5e8365[_0xc8af69(0x745)]()+'-'+_0x5e8365[_0xc8af69(0x4a4)]()+'-'+_0x5e8365[_0xc8af69(0x8ba)](),_0x4b47b5=new Date(_0x5e8365[_0xc8af69(0x745)](),_0x5e8365[_0xc8af69(0x4a4)](),_0x5e8365[_0xc8af69(0x8ba)]()),_0x24005d=this[_0xc8af69(0x394)][_0x5d5e3b][_0xc8af69(0x2ae)],_0x2a02c2=_0x1070c7['replace']('/','-')+'-'+_0x51ee69,_0x1ea2c5=(await _0x5be0c7[_0xc8af69(0x22d)]())[_0xc8af69(0x441)](_0x1070c7);if(!_0x1ea2c5)return void console[_0xc8af69(0xc13)](_0xc8af69(0x9ac),_0x1070c7);const _0x276d12=_0x1ea2c5[_0xc8af69(0x545)]*_0x230af1/0xf4240*0x64,_0x26c53c=_0x1ea2c5[_0xc8af69(0xb84)]*_0x13fcbc/0xf4240*0x64,_0x52048d=(0x0,_0x4e090a[_0xc8af69(0xa27)])(_0x35b99b[_0xc8af69(0xc63)](),_0xc8af69(0x35a)+_0x24005d+_0xc8af69(0x6ed),_0x2a02c2);await(0x0,_0x4e090a[_0xc8af69(0x354)])(_0x52048d,{'modelId':_0x1070c7,'date':_0x4b47b5,'inputTokens':(0x0,_0x4e090a[_0xc8af69(0xc83)])(_0x230af1),'outputTokens':(0x0,_0x4e090a[_0xc8af69(0xc83)])(_0x13fcbc),'inputCredits':(0x0,_0x4e090a['increment'])(_0x276d12),'outputCredits':(0x0,_0x4e090a[_0xc8af69(0xc83)])(_0x26c53c),'totalCredits':(0x0,_0x4e090a[_0xc8af69(0xc83)])(_0x276d12+_0x26c53c)},{'merge':!0x0});}catch(_0x1b8e01){console[_0xc8af69(0xc13)](_0xc8af69(0x59c),_0x1b8e01);}}async[_0x227435(0x351)](_0x200ef9){const _0xa7eb55=_0x227435;try{const _0x42b7d4=this[_0xa7eb55(0x394)][_0x200ef9[_0xa7eb55(0x203)]];if(!_0x42b7d4)throw new Error('GenerativeAITracing\x20-\x20job\x20id\x20not\x20found');if(_0x42b7d4['privacy'])return;_0x200ef9[_0xa7eb55(0x2d8)]=_0x42b7d4[_0xa7eb55(0x2d8)]++,_0x200ef9['traceLevel']>=this[_0xa7eb55(0x3db)]&&console[_0xa7eb55(0xbf2)](JSON['stringify'](_0x200ef9,null,0x2)),await this['commitTrace'](_0x200ef9);}catch(_0x58021e){console[_0xa7eb55(0xc13)](_0xa7eb55(0x499),_0x58021e);}}async['closeTrace'](_0x438306,_0x34f2ee){const _0x176eba=_0x227435;if(!_0x34c861[_0x176eba(0x447)])throw new Error(_0x176eba(0x70f));if(!this[_0x176eba(0x394)][_0x438306])throw new Error(_0x176eba(0x705));if(_0x34f2ee&&this[_0x176eba(0x394)][_0x438306][_0x176eba(0x31e)])try{await(0x0,_0x4e090a[_0x176eba(0x354)])((0x0,_0x4e090a[_0x176eba(0xa27)])(_0x35b99b[_0x176eba(0xc63)](),_0x176eba(0x35a)+this[_0x176eba(0x394)][_0x438306][_0x176eba(0x2ae)]+'/workflows/'+this[_0x176eba(0x394)][_0x438306]['workflowId']+_0x176eba(0xaab),_0x438306),{'endTime':(0x0,_0x4e090a[_0x176eba(0x5e5)])()},{'merge':!0x0}),this['setForDeletion'](_0x438306);}catch(_0x5aab9d){console['error']('GenerativeAITracing\x20-\x20Error\x20while\x20closing\x20trace',_0x5aab9d);}else this[_0x176eba(0xaad)](_0x438306);}[_0x227435(0xaad)](_0x5430e6){setTimeout(()=>{const _0x42f242=a0_0x5d01;delete this[_0x42f242(0x394)][_0x5430e6];},0x1b7740);}async[_0x227435(0x679)](_0x1a0fa6){const _0x25c456=_0x227435;if(_0x1a0fa6[_0x25c456(0x86c)]<this['commitLevel']&&_0x1a0fa6[_0x25c456(0xa56)]!==this[_0x25c456(0x6fa)])return;if(!this['openedTraces'][_0x1a0fa6[_0x25c456(0x203)]])throw new Error('GenerativeAITracing\x20-\x20Trace\x20job\x20id\x20does\x20not\x20exist');const _0x2c1c7d=this['openedTraces'][_0x1a0fa6[_0x25c456(0x203)]];try{const _0x1d4c88=function(_0x4b9339){const _0x3b4558=_0x25c456,_0x4d5fec=[_0x3b4558(0x9fd),_0x3b4558(0x908),_0x3b4558(0xa56),'type',_0x3b4558(0x203),_0x3b4558(0x86c),_0x3b4558(0x208),_0x3b4558(0x4ab),'sequence','errorDetails'],_0x316ea2={..._0x4b9339};for(const _0x224609 of _0x4d5fec)delete _0x316ea2[_0x224609];return{'timestamp':_0x4b9339[_0x3b4558(0x908)],'jobType':_0x4b9339['jobType'],'type':_0x4b9339[_0x3b4558(0x649)],'jobId':_0x4b9339[_0x3b4558(0x203)],'agentId':_0x4b9339[_0x3b4558(0x81e)]??'','traceLevel':_0x4b9339[_0x3b4558(0x86c)],'blockId':_0x4b9339[_0x3b4558(0x208)]??'','startTime':_0x4b9339[_0x3b4558(0x9fd)],'status':_0x4b9339[_0x3b4558(0x4ab)],'sequence':_0x4b9339['sequence']??0x0,'errorDetails':_0x4b9339[_0x3b4558(0xa6c)]??'','metadata':_0x4e5915(_0x316ea2)};}(_0x1a0fa6),_0x1cae7b=(0x0,_0x4821d1['v4'])();console[_0x25c456(0xbf2)]('Logging\x20trace',_0x1d4c88[_0x25c456(0x649)]),await(0x0,_0x4e090a['setDoc'])((0x0,_0x4e090a['doc'])(_0x35b99b[_0x25c456(0xc63)](),'developers/'+_0x2c1c7d['vendorId']+'/workflows/'+_0x2c1c7d[_0x25c456(0x31e)]+_0x25c456(0xbe5)+_0x1a0fa6[_0x25c456(0x203)]+'/traces',_0x1cae7b),_0x1d4c88),_0x1a0fa6[_0x25c456(0x649)]===_0x25e3f0['PromptRating']&&await(0x0,_0x4e090a['setDoc'])((0x0,_0x4e090a[_0x25c456(0xa27)])(_0x35b99b[_0x25c456(0xc63)](),_0x25c456(0x35a)+_0x2c1c7d[_0x25c456(0x2ae)]+_0x25c456(0x41c)+_0x2c1c7d[_0x25c456(0x31e)]+_0x25c456(0xaab),_0x1a0fa6[_0x25c456(0x203)]),{'rating':_0x1a0fa6[_0x25c456(0x7c5)]},{'merge':!0x0});}catch(_0x42cf3d){console[_0x25c456(0xc13)]('GenerativeAITracing\x20-\x20Error\x20while\x20committing\x20trace',_0x42cf3d);}}}const _0x50c690=_0x34c861[_0x227435(0x3e5)]();async function _0x7d278(_0x357be2,_0x12ce53,_0x18fc9c,_0x145f52,_0x5fe7e5,_0x5e1534,_0x3b2be9){const _0xe8fbb8=_0x227435,_0x5bb182=_0xe8fbb8(0x680)+_0x5fe7e5[_0xe8fbb8(0x60e)]+'\x20to\x20generate\x20a\x20response.',_0x1d1544={'prompt':{'type':_0x2bba8e['PromptFunctionParamsType']['String']}};return await _0x50c690[_0xe8fbb8(0x351)]({'jobType':_0x36cb8d[_0xe8fbb8(0xa4f)],'type':_0x18ab4c[_0xe8fbb8(0x57e)],'jobId':_0x357be2,'agentId':_0x12ce53,'threadId':_0x18fc9c['threadId'],'traceLevel':_0x57b22b[_0xe8fbb8(0x8f3)],'startTime':Date[_0xe8fbb8(0xb26)](),'timestamp':Date['now'](),'status':'success','function':_0x5627c3['ExecuteAgent'],'params':_0x1d1544,'functionDescription':_0x5bb182}),{'type':_0xe8fbb8(0x4f8),'description':_0x5bb182,'params':_0x1d1544,'callback':async _0x4f64f3=>_0x27ff96(_0x18fc9c['vendorId'],_0x5fe7e5,_0x5e1534,_0x4f64f3,_0x145f52,_0x357be2,_0x12ce53,_0x18fc9c['workflowId'],_0x18fc9c[_0xe8fbb8(0x591)],_0x18fc9c[_0xe8fbb8(0x1f9)],_0x3b2be9)};}async function _0x27ff96(_0x1edc4f,_0x307fda,_0x1d3717,_0x50bef8,_0x40585c,_0x5e3c4c,_0x40599a,_0x3c0fdd,_0x16c9af,_0x16b071,_0x49a351){const _0x344682=_0x227435,_0x4f630e=Date[_0x344682(0xb26)]();try{if('string'!=typeof _0x50bef8?.[_0x344682(0x7ed)])throw new Error(_0x344682(0x8f4));if(!_0x1d3717['models']['find'](_0x12e68d=>_0x12e68d['id']===_0x307fda[_0x344682(0x46c)]))throw new Error('Model\x20not\x20found');let _0x4f6040='',_0x3c5520=[];_0x307fda['instructions']&&_0x3c5520[_0x344682(0x91f)]({'role':_0x344682(0x41b),'content':_0x307fda['instructions']}),_0x3c5520['push']({'role':_0x344682(0x7b3),'content':_0x50bef8[_0x344682(0x7ed)]});const _0xfb2abb={'type':'inference','vendorId':_0x1edc4f,'threadId':_0x16c9af,'jobId':_0x5e3c4c,'agentId':_0x40599a,'workflowId':_0x3c0fdd,'model':_0x307fda[_0x344682(0x46c)],'prompt':_0x50bef8[_0x344682(0x7ed)],'instructions':_0x307fda[_0x344682(0xa35)],'grammar':_0x307fda['grammar'],'privacy':_0x16b071,'internalContext':_0x40585c?.['internalContext']??{},'tools':_0x307fda[_0x344682(0x23b)]};if(_0x49a351&&_0x307fda['shouldEmit']){try{let _0x384e49=0x0,_0x5df2ea=0x0,_0x5bb734='';for await(const _0x400fa3 of _0x58158d(_0x5e3c4c,_0xfb2abb,_0x1d3717))_0x5bb734+=_0x400fa3[_0x344682(0xc4d)],_0x384e49+=_0x400fa3[_0x344682(0x652)]??0x0,_0x5df2ea+=_0x400fa3['outputTokens']??0x0,_0x40585c&&(_0x40585c[_0x344682(0x6e8)]={..._0x40585c[_0x344682(0x6e8)],..._0x400fa3[_0x344682(0x6e8)]}),_0x49a351[_0x344682(0x99b)]({'output':_0x400fa3[_0x344682(0xc4d)],'type':_0x344682(0x7ed)});_0x40585c&&(_0x40585c['outputTokens']=(_0x40585c[_0x344682(0x25b)]??0x0)+_0x5df2ea,_0x40585c['inputTokens']=(_0x40585c[_0x344682(0x652)]??0x0)+_0x384e49,_0x307fda[_0x344682(0x3c1)]&&(_0x40585c[_0x344682(0x6e8)]||(_0x40585c[_0x344682(0x6e8)]={}),_0x40585c[_0x344682(0x6e8)][_0x307fda[_0x344682(0x3c1)]]=_0x5bb734));}catch(_0x399406){return console[_0x344682(0xc13)](_0x344682(0xc51),_0x399406),await _0x2674de[_0x344682(0xa9d)](0x1),_0x49a351[_0x344682(0x99b)](void 0x0),_0x344682(0x407);}_0x49a351[_0x344682(0x99b)]({'output':'\x0a\x0a','type':'prompt'}),_0x4f6040=_0x344682(0xbaf);}else{const _0x5ee805=await _0x1bf211(_0x5e3c4c,_0xfb2abb,_0x1d3717);_0x4f6040=_0x5ee805['output']??'',_0x40585c&&(_0x40585c[_0x344682(0x6e8)]={..._0x40585c[_0x344682(0x6e8)],..._0x5ee805[_0x344682(0x6e8)]},_0x40585c[_0x344682(0x25b)]=(_0x40585c[_0x344682(0x25b)]??0x0)+(_0x5ee805['outputTokens']??0x0),_0x40585c[_0x344682(0x652)]=(_0x40585c[_0x344682(0x652)]??0x0)+(_0x5ee805['inputTokens']??0x0),_0x307fda[_0x344682(0x3c1)]&&(_0x40585c[_0x344682(0x6e8)]||(_0x40585c[_0x344682(0x6e8)]={}),_0x40585c[_0x344682(0x6e8)][_0x307fda['contextOutputVariable']]=_0x4f6040));}if('string'!=typeof _0x4f6040)throw new Error(_0x344682(0x69b));return _0x5e3c4c&&_0x40599a&&_0x16c9af&&await _0x50c690[_0x344682(0x351)]({'jobType':_0x36cb8d['Skill'],'type':_0x5627c3[_0x344682(0x265)],'jobId':_0x5e3c4c,'blockId':_0x344682(0x3d3),'agentId':_0x40599a,'threadId':_0x16c9af,'traceLevel':_0x57b22b[_0x344682(0x8f3)],'startTime':_0x4f630e,'timestamp':Date['now'](),'status':_0x344682(0x8bb),'agentName':_0x307fda[_0x344682(0xc30)],'prompt':_0x50bef8[_0x344682(0x7ed)],'instructions':_0x307fda[_0x344682(0xa35)]??'','result':_0x4f6040,'inputTokens':0x0,'outputTokens':0x0}),_0x4f6040;}catch(_0xbe45c0){return console[_0x344682(0xc13)](_0xbe45c0),_0x5e3c4c&&_0x40599a&&_0x16c9af&&await _0x50c690[_0x344682(0x351)]({'jobType':_0x36cb8d['Skill'],'type':_0x5627c3[_0x344682(0x265)],'jobId':_0x5e3c4c,'blockId':_0x344682(0x3d3),'agentId':_0x40599a,'threadId':_0x16c9af,'traceLevel':_0x57b22b[_0x344682(0x8f3)],'startTime':_0x4f630e,'timestamp':Date[_0x344682(0xb26)](),'status':_0x344682(0xc13),'errorDetails':_0x348ac5(_0xbe45c0),'agentName':_0x307fda[_0x344682(0xc30)],'prompt':_0x50bef8?.[_0x344682(0x7ed)]??'','instructions':_0x307fda[_0x344682(0xa35)]??'','result':'','inputTokens':0x0,'outputTokens':0x0}),_0xbe45c0 instanceof Error?_0xbe45c0['message']:_0x344682(0x407);}}async function _0x1dad36(_0x4a2dc2,_0x1eb771,_0x297b53,_0x3f2645,_0x3c3561,_0x4d905f){const _0x90707d=_0x227435,_0x38b781=Date['now']();try{if(!_0x1eb771['aiSearchConnector'])throw new Error(_0x90707d(0xbfa));if(!_0x4a2dc2[_0x90707d(0x46c)])throw new Error(_0x90707d(0x93e));if(_0x90707d(0x984)!=typeof _0x297b53?.[_0x90707d(0x97f)])throw new Error('Query\x20is\x20required');const _0x47919e=await _0x1eb771[_0x90707d(0xaee)][_0x90707d(0x98b)](_0x297b53[_0x90707d(0x97f)],_0x4a2dc2['modelId']);return _0x3f2645&&_0x3c3561&&_0x4d905f&&(await _0x50c690[_0x90707d(0x20f)](_0x3f2645,_0x4a2dc2[_0x90707d(0x46c)],_0x47919e[_0x90707d(0x652)],_0x47919e[_0x90707d(0x25b)]),console[_0x90707d(0xbf2)](new Date()+'\x20Ai\x20search\x20final\x20response',_0x4a2dc2['modelId'],_0x47919e[_0x90707d(0x652)],_0x47919e['outputTokens']),await _0x50c690[_0x90707d(0x351)]({'jobType':_0x36cb8d[_0x90707d(0xb10)],'type':_0x5627c3[_0x90707d(0xae7)],'jobId':_0x3f2645,'agentId':_0x3c3561,'threadId':_0x4d905f,'blockId':_0x90707d(0x579),'traceLevel':_0x57b22b[_0x90707d(0x8f3)],'startTime':_0x38b781,'timestamp':Date[_0x90707d(0xb26)](),'status':_0x90707d(0x8bb),'query':_0x297b53[_0x90707d(0x97f)],'results':_0x47919e[_0x90707d(0xc4d)]})),_0x47919e[_0x90707d(0xc4d)];}catch(_0x15d8d7){return console['error'](_0x15d8d7),_0x3f2645&&_0x3c3561&&_0x4d905f&&await _0x50c690[_0x90707d(0x351)]({'jobType':_0x36cb8d[_0x90707d(0xb10)],'type':_0x5627c3[_0x90707d(0xae7)],'jobId':_0x3f2645,'blockId':_0x90707d(0x579),'traceLevel':_0x57b22b[_0x90707d(0x8f3)],'startTime':_0x38b781,'timestamp':Date[_0x90707d(0xb26)](),'status':_0x90707d(0xc13),'errorDetails':_0x348ac5(_0x15d8d7),'agentId':_0x3c3561,'threadId':_0x4d905f,'query':_0x297b53?.[_0x90707d(0x97f)]??'','results':'Error\x20searching'}),_0x15d8d7 instanceof Error?_0x15d8d7['message']:'Error\x20searching';}}async function _0x40ef08(_0x10d01b,_0x5d8957,_0x87f2a9,_0x503022,_0x237155){const _0x41c7db=_0x227435,_0xb0a349=_0x41c7db(0xb62)+_0x237155[_0x41c7db(0x60e)]+_0x41c7db(0x81c),_0x85ed15={'queryOrPrompt':{'type':_0x2bba8e[_0x41c7db(0x2a4)]['String']}};return await _0x50c690['trace']({'jobType':_0x36cb8d[_0x41c7db(0xa4f)],'type':_0x18ab4c[_0x41c7db(0x5fb)],'jobId':_0x10d01b,'agentId':_0x5d8957,'threadId':_0x87f2a9[_0x41c7db(0x591)],'blockId':_0x41c7db(0x307),'traceLevel':_0x57b22b['Info'],'startTime':Date[_0x41c7db(0xb26)](),'timestamp':Date[_0x41c7db(0xb26)](),'status':_0x41c7db(0x8bb),'function':_0x484bb7[_0x41c7db(0xb11)],'params':_0x85ed15,'functionDescription':_0xb0a349}),{'type':_0x41c7db(0x4f8),'description':_0xb0a349,'params':_0x85ed15,'callback':async _0x3c16d9=>_0x1de65c(_0x87f2a9['vendorId'],_0x237155,_0x3c16d9,_0x503022,_0x10d01b,_0x5d8957,_0x87f2a9[_0x41c7db(0x591)])};}async function _0x1de65c(_0x410e16,_0x8af0a1,_0x11b8af,_0x531c48,_0x30f3ee,_0x9d309a,_0x383368){const _0xb342d1=_0x227435,_0x4b4217=Date[_0xb342d1(0xb26)]();try{if(_0xb342d1(0x984)!=typeof _0x11b8af?.['queryOrPrompt'])throw new Error('Query\x20is\x20required');let _0x159c03=_0x2b8337[_0xb342d1(0x6af)]+'/vector_stores/'+_0x8af0a1[_0xb342d1(0xa81)];_0x8af0a1[_0xb342d1(0x4a7)]&&(_0x159c03+='/namespaces/'+_0x8af0a1['namespace']);const _0x2819d4=await fetch(_0x159c03+'/search',{'method':'POST','headers':{'Content-Type':_0xb342d1(0x5d1),'x-vendor-id':_0x410e16},'body':JSON[_0xb342d1(0x5dd)]({'query':_0x11b8af[_0xb342d1(0x341)]})}),_0x574c34=((await _0x2819d4[_0xb342d1(0x515)]())['data']??[])['map'](_0x33dd74=>({'pathName':_0x33dd74[_0xb342d1(0x22b)],'relevance':_0x33dd74[_0xb342d1(0x374)],'content':_0x33dd74[_0xb342d1(0xae3)][_0xb342d1(0x335)]}));return _0x531c48&&(_0x531c48[_0xb342d1(0xae5)]=Array[_0xb342d1(0x218)](new Set([..._0x531c48[_0xb342d1(0xae5)]??[],..._0x574c34]))),_0x30f3ee&&_0x9d309a&&_0x383368&&await _0x50c690[_0xb342d1(0x351)]({'jobType':_0x36cb8d['Knowledge'],'type':_0x484bb7[_0xb342d1(0x765)],'jobId':_0x30f3ee,'blockId':_0xb342d1(0x307),'agentId':_0x9d309a,'threadId':_0x383368,'traceLevel':_0x57b22b['Info'],'startTime':_0x4b4217,'timestamp':Date[_0xb342d1(0xb26)](),'status':'success','query':_0x11b8af[_0xb342d1(0x341)],'context':_0x574c34??[],'inputTokens':0x0,'outputTokens':0x0}),_0x574c34[_0xb342d1(0x4df)]((_0x5bed59,_0x54b757)=>_0x5bed59+'\x0a'+_0x54b757[_0xb342d1(0xae3)],'');}catch(_0x25782e){return console[_0xb342d1(0xc13)](_0x25782e),_0x30f3ee&&_0x9d309a&&_0x383368&&await _0x50c690[_0xb342d1(0x351)]({'jobType':_0x36cb8d[_0xb342d1(0x45b)],'type':_0x484bb7[_0xb342d1(0x765)],'jobId':_0x30f3ee,'blockId':_0xb342d1(0x307),'agentId':_0x9d309a,'threadId':_0x383368,'traceLevel':_0x57b22b[_0xb342d1(0x8f3)],'startTime':_0x4b4217,'timestamp':Date['now'](),'status':_0xb342d1(0xc13),'errorDetails':_0x348ac5(_0x25782e),'query':_0x11b8af?.[_0xb342d1(0x341)]??'','context':[],'inputTokens':0x0,'outputTokens':0x0}),_0x25782e instanceof Error?_0x25782e[_0xb342d1(0x325)]:_0xb342d1(0x554);}}async function _0x458ce4(_0x2562b2,_0x545f0a,_0xfa5fbc,_0x151fb4,_0x378f83){const _0x5e5b5e=_0x227435,_0x1d8101={};for(const _0x3a2356 of _0x378f83[_0x5e5b5e(0x6b9)]??[])switch(_0x3a2356[_0x5e5b5e(0x649)]){case _0x5e5b5e(0x984):case _0x5e5b5e(0x515):_0x1d8101[_0x3a2356[_0x5e5b5e(0xc30)]]={'type':_0x2bba8e[_0x5e5b5e(0x2a4)]['String']};break;case _0x5e5b5e(0x878):_0x1d8101[_0x3a2356[_0x5e5b5e(0xc30)]]={'type':_0x2bba8e[_0x5e5b5e(0x2a4)][_0x5e5b5e(0xbf8)]};break;case _0x5e5b5e(0xa44):_0x1d8101[_0x3a2356[_0x5e5b5e(0xc30)]]={'type':_0x2bba8e['PromptFunctionParamsType'][_0x5e5b5e(0x38d)]};}return await _0x50c690[_0x5e5b5e(0x351)]({'jobType':_0x36cb8d['JobContext'],'type':_0x18ab4c['LoadSkillFunction'],'jobId':_0x2562b2,'agentId':_0x545f0a,'threadId':_0xfa5fbc,'traceLevel':_0x57b22b[_0x5e5b5e(0x8f3)],'startTime':Date['now'](),'timestamp':Date[_0x5e5b5e(0xb26)](),'status':_0x5e5b5e(0x8bb),'function':_0x5627c3[_0x5e5b5e(0x266)],'params':_0x1d8101,'functionDescription':_0x378f83['description']??''}),{'type':_0x5e5b5e(0x4f8),'description':_0x5e5b5e(0x243)+_0x378f83[_0x5e5b5e(0x60e)],'params':_0x1d8101,'callback':async _0x28c11f=>_0x2f33e8(_0x378f83,_0x28c11f,_0x151fb4,_0x2562b2,_0x545f0a,_0xfa5fbc)};}async function _0x2f33e8(_0x315d4e,_0x38a108,_0x260ff2,_0x37d89e,_0x4be164,_0x4e004b){const _0xf8e9f1=_0x227435,_0x504356=Date[_0xf8e9f1(0xb26)]();try{if(!_0x38a108)throw new Error(_0xf8e9f1(0x403));for(const _0x3afc70 of _0x315d4e[_0xf8e9f1(0x6b9)]??[]){if(void 0x0===_0x38a108[_0x3afc70[_0xf8e9f1(0xc30)]])throw new Error('Parameter\x20'+_0x3afc70[_0xf8e9f1(0xc30)]+_0xf8e9f1(0xb47));if(_0xf8e9f1(0x984)===_0x3afc70[_0xf8e9f1(0x649)]&&_0xf8e9f1(0x984)!=typeof _0x38a108[_0x3afc70['name']])throw new Error(_0xf8e9f1(0x275)+_0x3afc70['name']+'\x20must\x20be\x20a\x20string');if(_0xf8e9f1(0x878)===_0x3afc70[_0xf8e9f1(0x649)]&&_0xf8e9f1(0x878)!=typeof _0x38a108[_0x3afc70[_0xf8e9f1(0xc30)]])throw new Error('Parameter\x20'+_0x3afc70[_0xf8e9f1(0xc30)]+_0xf8e9f1(0x378));if(_0xf8e9f1(0xa44)===_0x3afc70[_0xf8e9f1(0x649)]&&_0xf8e9f1(0xa44)!=typeof _0x38a108[_0x3afc70[_0xf8e9f1(0xc30)]])throw new Error(_0xf8e9f1(0x275)+_0x3afc70[_0xf8e9f1(0xc30)]+_0xf8e9f1(0x231));if('json'===_0x3afc70[_0xf8e9f1(0x649)]&&_0xf8e9f1(0x984)!=typeof _0x38a108[_0x3afc70[_0xf8e9f1(0xc30)]])throw new Error(_0xf8e9f1(0x275)+_0x3afc70[_0xf8e9f1(0xc30)]+_0xf8e9f1(0x9e2));if(_0xf8e9f1(0x515)===_0x3afc70[_0xf8e9f1(0x649)])try{_0x38a108[_0x3afc70[_0xf8e9f1(0xc30)]]=JSON[_0xf8e9f1(0x77c)](_0x38a108[_0x3afc70[_0xf8e9f1(0xc30)]]);}catch{throw new Error(_0xf8e9f1(0x275)+_0x3afc70[_0xf8e9f1(0xc30)]+_0xf8e9f1(0x263));}}const _0x1a6864={};for(const _0x472caa of _0x315d4e[_0xf8e9f1(0x919)]??[]){let _0xb9df26=_0x472caa[_0xf8e9f1(0x737)];_0xb9df26[_0xf8e9f1(0xad9)](/\$[a-zA-Z0-9]+/)&&(_0xb9df26=_0xb9df26[_0xf8e9f1(0x217)](/\$[a-zA-Z0-9]+/g,_0x5402d4=>{const _0x13f738=_0xf8e9f1,_0x1ee1a1=_0x5402d4[_0x13f738(0xb51)](0x1);return _0x38a108[_0x1ee1a1];})),_0x1a6864[_0x472caa[_0xf8e9f1(0xc30)]]=_0xb9df26;}const _0x313910=new URLSearchParams();for(const _0x39f74b of _0x315d4e['queryParameters']??[]){let _0x1ea97c=_0x39f74b[_0xf8e9f1(0x737)];if(_0xf8e9f1(0x984)==typeof _0x1ea97c&&_0x1ea97c[_0xf8e9f1(0x60c)]('$')){const _0x582fde=_0x1ea97c[_0xf8e9f1(0xb51)](0x1);_0x1ea97c=_0x38a108[_0x582fde];}if(_0xf8e9f1(0x984)==typeof _0x1ea97c&&_0x1ea97c[_0xf8e9f1(0x60c)](_0xf8e9f1(0x8a9))){const _0xe45c3c=_0x1ea97c['replace'](_0xf8e9f1(0x8a9),'');_0x1ea97c=_0x260ff2?.['internalContext']?.[_0xe45c3c];}if(_0xf8e9f1(0x984)==typeof _0x1ea97c&&(_0x1ea97c[_0xf8e9f1(0x60c)]('[')&&_0x1ea97c[_0xf8e9f1(0x401)](']')||_0x1ea97c[_0xf8e9f1(0x60c)]('{')&&_0x1ea97c[_0xf8e9f1(0x401)]('}')))try{_0x1ea97c=JSON['parse'](_0x1ea97c);}catch(_0x52a365){console[_0xf8e9f1(0xc13)](_0x52a365);}_0x313910[_0xf8e9f1(0x2b0)](_0x39f74b['name'],_0x1ea97c);}let _0x4015aa,_0x1fbba9=_0x315d4e[_0xf8e9f1(0x59b)]??'';_0x313910[_0xf8e9f1(0x9e7)]>0x0&&(_0x1fbba9+='?'+_0x313910[_0xf8e9f1(0x4f9)]());for(const _0x5c67ab of _0x315d4e[_0xf8e9f1(0x270)]??[]){void 0x0===_0x4015aa&&(_0x4015aa={});let _0x5377c4=_0x5c67ab['value'];if(_0xf8e9f1(0x984)==typeof _0x5377c4&&_0x5377c4[_0xf8e9f1(0x60c)]('$')){const _0x137399=_0x5377c4['slice'](0x1);_0x5377c4=_0x38a108[_0x137399];}if(_0xf8e9f1(0x984)==typeof _0x5377c4&&_0x5377c4['startsWith'](_0xf8e9f1(0x8a9))){const _0x24d25e=_0x5377c4['replace'](_0xf8e9f1(0x8a9),'');_0x5377c4=_0x260ff2?.[_0xf8e9f1(0x6e8)]?.[_0x24d25e];}if('string'==typeof _0x5377c4&&(_0x5377c4[_0xf8e9f1(0x60c)]('[')&&_0x5377c4['endsWith'](']')||_0x5377c4['startsWith']('{')&&_0x5377c4[_0xf8e9f1(0x401)]('}')))try{_0x5377c4=JSON[_0xf8e9f1(0x77c)](_0x5377c4);}catch(_0x2e2373){console[_0xf8e9f1(0xc13)](_0x2e2373);}if(_0xf8e9f1(0x662)===_0x5c67ab[_0xf8e9f1(0xc30)]){if(_0xf8e9f1(0x984)==typeof _0x5377c4){const _0x5550f3=_0x5377c4[_0xf8e9f1(0xad9)](/```html(.*)```/s);_0x5550f3&&(_0x5377c4=_0x5550f3[0x1]),_0x5377c4=_0x5377c4['replace'](/\n/g,''),_0x5377c4=_0x5377c4['replace'](/'/g,'\x22');}_0x4015aa=_0x5377c4;break;}if(-0x1===_0x5c67ab[_0xf8e9f1(0xc30)][_0xf8e9f1(0x202)]('.'))_0x4015aa[_0x5c67ab[_0xf8e9f1(0xc30)]]=_0x5377c4;else{const [_0x1f1bbb,_0x45bb06]=_0x5c67ab[_0xf8e9f1(0xc30)]['split']('.');_0x4015aa[_0x1f1bbb]||(_0x4015aa[_0x1f1bbb]={}),_0x4015aa[_0x1f1bbb][_0x45bb06]=_0x5377c4;}}console[_0xf8e9f1(0xbf2)]('Executing\x20custom\x20skill:\x20'+_0x315d4e[_0xf8e9f1(0xc30)]+_0xf8e9f1(0xaac)+JSON['stringify'](_0x4015aa));const _0x25adca=await fetch(_0x1fbba9,{'method':_0x315d4e[_0xf8e9f1(0x255)],'headers':_0x1a6864,'body':void 0x0===_0x4015aa?void 0x0:_0xf8e9f1(0x984)==typeof _0x4015aa?_0x4015aa:JSON[_0xf8e9f1(0x5dd)](_0x4015aa)});if(_0x25adca['ok']){let _0x156653=await _0x25adca['json']();return'string'!=typeof _0x156653&&(_0x156653=JSON['stringify'](_0x156653)),_0x37d89e&&_0x4be164&&_0x4e004b&&await _0x50c690['trace']({'jobType':_0x36cb8d[_0xf8e9f1(0xb10)],'type':_0x5627c3['ExecuteCustomSkill'],'jobId':_0x37d89e,'agentId':_0x4be164,'threadId':_0x4e004b,'blockId':_0xf8e9f1(0x740),'traceLevel':_0x57b22b['Info'],'startTime':_0x504356,'timestamp':Date['now'](),'status':_0xf8e9f1(0x8bb),'skillName':_0x315d4e[_0xf8e9f1(0xc30)],'params':_0x38a108,'result':_0x156653}),_0x260ff2&&_0x315d4e[_0xf8e9f1(0x3c1)]&&''!==_0x315d4e[_0xf8e9f1(0x3c1)]&&(_0x260ff2['internalContext']||(_0x260ff2[_0xf8e9f1(0x6e8)]={}),_0x260ff2['internalContext'][_0x315d4e[_0xf8e9f1(0x3c1)]]=_0x156653),_0x156653;}throw new Error(_0x25adca[_0xf8e9f1(0x92f)]);}catch(_0x165363){console[_0xf8e9f1(0xc13)](_0x165363);const _0x1f6313=_0x165363 instanceof Error?_0x165363['message']:'Error\x20fetching\x20URL';return _0x37d89e&&_0x4be164&&_0x4e004b&&await _0x50c690[_0xf8e9f1(0x351)]({'jobType':_0x36cb8d[_0xf8e9f1(0xb10)],'type':_0x5627c3['ExecuteCustomSkill'],'jobId':_0x37d89e,'blockId':_0xf8e9f1(0x740),'threadId':_0x4e004b,'traceLevel':_0x57b22b[_0xf8e9f1(0x8f3)],'startTime':_0x504356,'timestamp':Date[_0xf8e9f1(0xb26)](),'agentId':_0x4be164,'status':_0xf8e9f1(0xc13),'skillName':_0x315d4e['name'],'params':_0x38a108??{},'result':_0x1f6313}),_0x1f6313;}}async function _0x56b155(_0x2fc939,_0x1e877c,_0x5df88d,_0x4d7969=!0x0){const _0x3b08c1=_0x227435,_0x1e8c58=_0x3b08c1(0x910),_0x17e2b2={'url':{'type':_0x2bba8e['PromptFunctionParamsType'][_0x3b08c1(0x7d7)]},'page':{'type':_0x2bba8e[_0x3b08c1(0x2a4)][_0x3b08c1(0xbf8)]}};return await _0x50c690[_0x3b08c1(0x351)]({'jobType':_0x36cb8d['JobContext'],'type':_0x18ab4c[_0x3b08c1(0x57e)],'jobId':_0x2fc939,'agentId':_0x1e877c,'threadId':_0x5df88d,'traceLevel':_0x57b22b['Info'],'startTime':Date[_0x3b08c1(0xb26)](),'timestamp':Date[_0x3b08c1(0xb26)](),'status':'success','function':_0x5627c3['FetchUrl'],'params':_0x17e2b2,'functionDescription':_0x1e8c58}),{'type':_0x3b08c1(0x4f8),'description':_0x1e8c58,'params':_0x17e2b2,'callback':async _0x48a941=>_0xb1018c(_0x48a941,_0x4d7969,_0x2fc939,_0x1e877c,_0x5df88d)};}async function _0xb1018c(_0x5358d4,_0x17e9d7=!0x0,_0x1ce67a,_0x21c0dd,_0x504177){const _0x212ec8=_0x227435,_0x1f3312=Date[_0x212ec8(0xb26)]();try{if('string'!=typeof _0x5358d4?.[_0x212ec8(0x2d4)])throw new Error(_0x212ec8(0x7e6));const _0x5a1e97=_0x5358d4['url'];if([_0x212ec8(0x788),_0x212ec8(0xab4),'.docx',_0x212ec8(0x614),_0x212ec8(0x5a2),_0x212ec8(0xa87),'.xlsx'][_0x212ec8(0x2fd)](_0x3a6564=>_0x5a1e97[_0x212ec8(0x401)](_0x3a6564)))throw new Error(_0x212ec8(0x42e));const _0x20184d=await fetch(_0x5a1e97),_0x5bbb4b=await _0x20184d[_0x212ec8(0x335)]();let _0xd56d41=_0x5bbb4b;if(_0x17e9d7){const _0x5a3328=_0x5bbb4b[_0x212ec8(0xad9)](/<body[^>]*>((.|[\n\r])*)<\/body>/i),_0x30b7ee=_0x5a3328?_0x5a3328[0x1]:_0x5bbb4b,_0x431a36=_0x30b7ee[_0x212ec8(0x217)](/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,'')[_0x212ec8(0x217)](/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,'')[_0x212ec8(0x217)](/<br\s*\/?>/gi,'\x20')[_0x212ec8(0x217)](/&nbsp;/g,'\x20');_0xd56d41=_0x431a36[_0x212ec8(0x217)](/<\/?[^>]+(>|$)/g,'')[_0x212ec8(0x217)](/\s\s+/g,'\x20')['trim']();}const _0xf53ee8='number'==typeof _0x5358d4[_0x212ec8(0x510)]?_0x5358d4[_0x212ec8(0x510)]:0x1,_0x44600c=Math[_0x212ec8(0xa9f)](_0xd56d41[_0x212ec8(0xbfb)]/_0x222b1e);return _0xd56d41['length']>_0x222b1e&&(_0xd56d41=_0xd56d41[_0x212ec8(0x353)]((_0xf53ee8-0x1)*_0x222b1e,(_0xf53ee8-0x1)*_0x222b1e+_0x222b1e)+_0x212ec8(0xc2f)+(_0xf53ee8+0x1)+'.Total\x20pages\x20available:\x20'+_0x44600c+'.'),_0x1ce67a&&_0x21c0dd&&_0x504177&&await _0x50c690[_0x212ec8(0x351)]({'jobType':_0x36cb8d['Skill'],'type':_0x5627c3[_0x212ec8(0x23a)],'jobId':_0x1ce67a,'agentId':_0x21c0dd,'threadId':_0x504177,'blockId':'fetch-url','traceLevel':_0x57b22b['Info'],'startTime':_0x1f3312,'timestamp':Date[_0x212ec8(0xb26)](),'status':_0x20184d['ok']?_0x212ec8(0x8bb):_0x212ec8(0xc13),'url':_0x5358d4['url'],'page':_0xf53ee8,'totalPages':_0x44600c,'response':_0xd56d41}),_0xd56d41;}catch(_0x5bd159){console[_0x212ec8(0xc13)](_0x5bd159);const _0x3e3d22=_0x5bd159 instanceof Error?_0x5bd159['message']:'Error\x20fetching\x20URL';return _0x1ce67a&&_0x21c0dd&&_0x504177&&await _0x50c690['trace']({'jobType':_0x36cb8d[_0x212ec8(0xb10)],'type':_0x5627c3[_0x212ec8(0x23a)],'jobId':_0x1ce67a,'blockId':_0x212ec8(0xae9),'threadId':_0x504177,'traceLevel':_0x57b22b['Info'],'startTime':_0x1f3312,'timestamp':Date[_0x212ec8(0xb26)](),'agentId':_0x21c0dd,'status':_0x212ec8(0xc13),'errorDetails':_0x348ac5(_0x5bd159),'url':_0x5358d4?.[_0x212ec8(0x2d4)]??'','page':0x0,'totalPages':0x0,'response':_0x3e3d22}),_0x3e3d22;}}async function _0x586b8e(_0x2e206a,_0xd8f088,_0x30d4c6,_0x1e2365,_0x25da4e){const _0x90178d=_0x227435,_0x18b437=Date[_0x90178d(0xb26)]();try{if(!_0x2e206a[_0x90178d(0xb99)])throw new Error(_0x90178d(0x4c7));if(_0x90178d(0x984)!=typeof _0xd8f088?.[_0x90178d(0x97f)])throw new Error('Query\x20is\x20required');const _0x4704f9=await _0x2e206a[_0x90178d(0xb99)][_0x90178d(0x98b)](_0xd8f088[_0x90178d(0x97f)],_0x2b8337['google']['searchEngineId']);let _0x5beb25='';for(const _0x12e4d9 of _0x4704f9)_0x5beb25+=_0x12e4d9['title']+_0x90178d(0x6ac)+_0x12e4d9['url']+'\x0a'+_0x12e4d9['snippet']+'\x0a\x0a';return _0x30d4c6&&_0x1e2365&&_0x25da4e&&await _0x50c690[_0x90178d(0x351)]({'jobType':_0x36cb8d[_0x90178d(0xb10)],'type':_0x5627c3[_0x90178d(0x389)],'jobId':_0x30d4c6,'agentId':_0x1e2365,'threadId':_0x25da4e,'blockId':_0x90178d(0x98b),'traceLevel':_0x57b22b[_0x90178d(0x8f3)],'startTime':_0x18b437,'timestamp':Date[_0x90178d(0xb26)](),'status':_0x90178d(0x8bb),'query':_0xd8f088['query'],'results':_0x5beb25}),_0x5beb25;}catch(_0x2f80f0){return console[_0x90178d(0xc13)](_0x2f80f0),_0x30d4c6&&_0x1e2365&&_0x25da4e&&await _0x50c690[_0x90178d(0x351)]({'jobType':_0x36cb8d[_0x90178d(0xb10)],'type':_0x5627c3[_0x90178d(0x389)],'jobId':_0x30d4c6,'blockId':'search','traceLevel':_0x57b22b[_0x90178d(0x8f3)],'startTime':_0x18b437,'timestamp':Date[_0x90178d(0xb26)](),'status':'error','errorDetails':_0x348ac5(_0x2f80f0),'agentId':_0x1e2365,'threadId':_0x25da4e,'query':_0xd8f088?.[_0x90178d(0x97f)]??'','results':_0x90178d(0x1f0)}),_0x2f80f0 instanceof Error?_0x2f80f0['message']:_0x90178d(0x1f0);}}async function _0x51ba67(_0x1a7459,_0x15fa1a,_0x40ec3a,_0x331afb,_0x371c3a,_0x37cad6,_0x18ec27,_0x5ac61d){const _0x23ebe1=function(_0x3d71f5,_0x223d14){const _0x59bade=a0_0x5d01,_0x5e4707=[];for(let _0x5d151b=0x0;_0x5d151b<_0x3d71f5[_0x59bade(0xbfb)];_0x5d151b+=_0x223d14[_0x59bade(0x9da)][_0x59bade(0x9e7)]){let _0x15b393=_0x5d151b-_0x223d14[_0x59bade(0x9da)][_0x59bade(0x9f0)];_0x15b393<0x0&&(_0x15b393=0x0);let _0x45570c=_0x5d151b+_0x223d14[_0x59bade(0x9da)][_0x59bade(0x9e7)]+_0x223d14[_0x59bade(0x9da)][_0x59bade(0x9f0)];_0x45570c>_0x3d71f5[_0x59bade(0xbfb)]&&(_0x45570c=_0x3d71f5[_0x59bade(0xbfb)]),length||(length=_0x5d151b+_0x223d14[_0x59bade(0x9da)]['size'],length>_0x3d71f5['length']&&(length=_0x3d71f5[_0x59bade(0xbfb)])),_0x5e4707['push'](_0x3d71f5[_0x59bade(0x353)](_0x15b393,_0x45570c));}return _0x5e4707;}(_0x15fa1a,_0x371c3a);await _0x3a52cb(_0x1a7459,_0x23ebe1,_0x40ec3a,_0x331afb,_0x371c3a,_0x37cad6,_0x18ec27,_0x5ac61d);}async function _0x469d65(_0x143274,_0x5dca33,_0xeec8bd,_0x48d38a,_0x4323e7,_0x57a2bc,_0x597774,_0x6f079c){const _0x18a669=_0x227435;if(_0x4323e7[_0x18a669(0xbec)]||(_0x4323e7['accumulated']={}),_0x4323e7[_0x18a669(0xbec)][_0x18a669(0x1db)]||(_0x4323e7['accumulated']['queries']=[]),_0x5dca33 instanceof Array?_0x4323e7['accumulated'][_0x18a669(0x1db)][_0x18a669(0x91f)](..._0x5dca33):_0x4323e7[_0x18a669(0xbec)]['queries'][_0x18a669(0x91f)](_0x5dca33),_0x4323e7['timesCalled']=_0x4323e7[_0x18a669(0x3d1)]?_0x4323e7[_0x18a669(0x3d1)]+0x1:0x1,_0x553791(_0x4323e7,_0x57a2bc)>_0x4323e7[_0x18a669(0x3d1)])return;if(0x0===_0x4323e7[_0x18a669(0xbec)][_0x18a669(0x1db)][_0x18a669(0xbfb)])throw new Error(_0x18a669(0x2dd));let _0x388799=[];const _0xa80429=Date['now']();try{let _0x1a89f6=0x0,_0x49102e=0x0;for(const _0x15d2a0 of _0x4323e7['accumulated'][_0x18a669(0x1db)]){const _0xb80ec1=await fetch(_0x2b8337[_0x18a669(0x6af)]+_0x18a669(0xbeb)+_0x4323e7['id']+_0x18a669(0x9d3),{'method':_0x18a669(0xa0f),'headers':{'Content-Type':_0x18a669(0x5d1),'x-vendor-id':_0xeec8bd['vendorId']},'body':JSON[_0x18a669(0x5dd)]({'query':_0x15d2a0})}),_0x955b20=((await _0xb80ec1[_0x18a669(0x515)]())[_0x18a669(0x205)]??[])['map'](_0xbfa4=>({'pathName':_0xbfa4['filename'],'relevance':_0xbfa4['score'],'content':_0xbfa4['content']['text']}));_0x388799=Array[_0x18a669(0x218)](new Set([..._0x388799,..._0x955b20])),_0x1a89f6+=_0x955b20[_0x18a669(0x652)]??0x0,_0x49102e+=_0x955b20[_0x18a669(0x25b)]??0x0;}_0x48d38a[_0x18a669(0x652)]+=_0x1a89f6,_0x48d38a[_0x18a669(0x25b)]+=_0x49102e,_0x48d38a[_0x18a669(0xae5)]=Array[_0x18a669(0x218)](new Set([..._0x48d38a[_0x18a669(0xae5)],..._0x388799])),await _0x50c690[_0x18a669(0x351)]({'jobType':_0x36cb8d[_0x18a669(0xb08)],'type':_0x6011c9[_0x18a669(0x2bd)],'jobId':_0x143274,'threadId':_0xeec8bd['threadId'],'traceLevel':_0x57b22b['Info'],'startTime':_0xa80429,'timestamp':Date[_0x18a669(0xb26)](),'blockId':_0x4323e7['id'],'status':_0x18a669(0x8bb),'queries':_0x4323e7['accumulated'][_0x18a669(0x1db)],'context':_0x388799,'inputTokens':_0x1a89f6,'outputTokens':_0x49102e});}catch(_0x446625){console['error'](_0x446625),await _0x50c690[_0x18a669(0x351)]({'jobType':_0x36cb8d[_0x18a669(0xb08)],'type':_0x6011c9[_0x18a669(0x2bd)],'jobId':_0x143274,'threadId':_0xeec8bd[_0x18a669(0x591)],'traceLevel':_0x57b22b[_0x18a669(0x8f3)],'startTime':_0xa80429,'timestamp':Date[_0x18a669(0xb26)](),'blockId':_0x4323e7['id'],'status':_0x18a669(0xc13),'queries':_0x4323e7[_0x18a669(0xbec)][_0x18a669(0x1db)],'context':[],'inputTokens':0x0,'outputTokens':0x0});}await _0x3a52cb(_0x143274,'',_0xeec8bd,_0x48d38a,_0x4323e7,_0x57a2bc,_0x597774,_0x6f079c);}async function _0x383637(_0x2f02ab,_0x1a2b41,_0xef85a2,_0x3d1428,_0x5ed3f0,_0x4c31ab,_0x3d01d8,_0x3e14dd){const _0x1e472b=_0x227435;try{if(!_0x5ed3f0[_0x1e472b(0x251)])return console['error']('OutputEmail\x20block\x20missing\x20emailAddress\x20configuration'),_0x3d1428['output']='Error:\x20OutputEmail\x20block\x20not\x20configured\x20with\x20email\x20address',void(_0x3e14dd&&_0x3e14dd[_0x1e472b(0x99b)](_0x3d1428));const _0x1120f3=_0x1e472b(0x984)==typeof _0x1a2b41?_0x1a2b41:JSON['stringify'](_0x1a2b41);if(!_0x1120f3||0x0===_0x1120f3['trim']()[_0x1e472b(0xbfb)])return console[_0x1e472b(0xc13)](_0x1e472b(0x2ac)),_0x3d1428[_0x1e472b(0xc4d)]=_0x1e472b(0x257),void(_0x3e14dd&&_0x3e14dd['emit'](_0x3d1428));const _0x464c23=_0x5ed3f0[_0x1e472b(0x5ed)]||_0x1e472b(0x8d7),_0x414dac=_0x1120f3,_0xac1684='w'+_0xef85a2[_0x1e472b(0x31e)]+'_'+_0xef85a2[_0x1e472b(0x2ae)]+'@'+_0x2b8337['emailDomain'],_0x5e8f08=_0x2b8337['mcpUrl'];if(!_0x5e8f08)return console[_0x1e472b(0xc13)](_0x1e472b(0xc85)),_0x3d1428[_0x1e472b(0xc4d)]=_0x1e472b(0xc5b),void(_0x3e14dd&&_0x3e14dd['emit'](_0x3d1428));const _0x10f206=await async function(_0x5c4ff4,_0x2a292a){const _0x721c5a=_0x1e472b;try{console[_0x721c5a(0xbf2)](_0x721c5a(0x8cd),JSON['stringify'](_0x2a292a));const _0x1f0019={'jsonrpc':_0x721c5a(0xaff),'id':Math[_0x721c5a(0x7c6)]()[_0x721c5a(0x4f9)](0x24)[_0x721c5a(0x353)](0x7),'method':_0x721c5a(0xb1e),'params':{'name':_0x721c5a(0x2fc),'arguments':_0x2a292a}},_0x113b8a=await fetch(_0x5c4ff4+_0x721c5a(0x762),{'method':'POST','headers':{'Content-Type':_0x721c5a(0x5d1),'Accept':_0x721c5a(0x8cb)},'body':JSON[_0x721c5a(0x5dd)](_0x1f0019)});if(!_0x113b8a['ok']){const _0x5dfd93=await _0x113b8a[_0x721c5a(0x335)]()[_0x721c5a(0x285)](()=>_0x721c5a(0x700));return{'success':!0x1,'error':_0x721c5a(0x542)+_0x113b8a[_0x721c5a(0x4ab)]+'\x20'+_0x113b8a['statusText']+_0x721c5a(0x6ac)+_0x5dfd93};}const _0x35e0b2=_0x113b8a['headers']['get'](_0x721c5a(0x3dd))||'';let _0x5eea69;if(_0x35e0b2[_0x721c5a(0x771)](_0x721c5a(0x5d1)))try{_0x5eea69=await _0x113b8a['json']();}catch(_0x214083){const _0x5a7a09=await _0x113b8a[_0x721c5a(0x335)]()[_0x721c5a(0x285)](()=>_0x721c5a(0x6e9));return{'success':!0x1,'error':_0x721c5a(0x672)+(_0x214083 instanceof Error?_0x214083['message']:_0x721c5a(0xbde))+_0x721c5a(0x446)+_0x5a7a09};}else{if(!_0x35e0b2[_0x721c5a(0x771)]('text/event-stream'))return{'success':!0x1,'error':_0x721c5a(0x541)+_0x35e0b2+'.\x20Response:\x20'+await _0x113b8a['text']()};{const _0x206d5b=await _0x113b8a[_0x721c5a(0x335)]();try{const _0x3d577b=_0x206d5b[_0x721c5a(0x8ab)]('\x0a')[_0x721c5a(0x276)](_0x3ba10f=>_0x3ba10f[_0x721c5a(0x5d7)]()[_0x721c5a(0x60c)](_0x721c5a(0x48b))),_0x511a08=_0x3d577b[_0x3d577b['length']-0x1];if(!_0x511a08)return{'success':!0x1,'error':_0x721c5a(0xa91)+_0x206d5b};{const _0x9897b2=_0x511a08[_0x721c5a(0x217)](_0x721c5a(0x48b),'')[_0x721c5a(0x5d7)]();_0x5eea69=JSON[_0x721c5a(0x77c)](_0x9897b2);}}catch(_0x3a9313){return{'success':!0x1,'error':_0x721c5a(0x437)+(_0x3a9313 instanceof Error?_0x3a9313[_0x721c5a(0x325)]:_0x721c5a(0xbde))+_0x721c5a(0x446)+_0x206d5b};}}}if(_0x5eea69[_0x721c5a(0xc13)])return{'success':!0x1,'error':_0x5eea69[_0x721c5a(0xc13)]['message']||_0x721c5a(0x7c3)};const _0x44c686=_0x5eea69[_0x721c5a(0x58a)];if(_0x44c686['isError'])return{'success':!0x1,'error':_0x44c686['content'][0x0]?.[_0x721c5a(0x335)]||_0x721c5a(0x88a)};try{return{'success':!0x0,'messageId':JSON[_0x721c5a(0x77c)](_0x44c686[_0x721c5a(0xae3)][0x0][_0x721c5a(0x335)])[_0x721c5a(0xbcc)]};}catch{return{'success':!0x0};}}catch(_0x2b2135){return{'success':!0x1,'error':_0x721c5a(0x78d)+(_0x2b2135 instanceof Error?_0x2b2135['message']:_0x721c5a(0x700))};}}(_0x5e8f08,{'to':[{'email':_0x5ed3f0[_0x1e472b(0x251)]}],'from':{'email':_0xac1684,'name':_0x1e472b(0x348)},'subject':_0x464c23,'text':_0x414dac});_0x10f206[_0x1e472b(0x8bb)]?(_0x3d1428[_0x1e472b(0xc4d)]=_0x1e472b(0x3c4)+_0x5ed3f0[_0x1e472b(0x251)],console[_0x1e472b(0xbf2)]('OutputEmail\x20block:\x20Email\x20sent\x20to\x20'+_0x5ed3f0[_0x1e472b(0x251)])):(_0x3d1428[_0x1e472b(0xc4d)]=_0x1e472b(0x79d)+_0x10f206['error'],console[_0x1e472b(0xc13)](_0x1e472b(0x26f)+_0x10f206[_0x1e472b(0xc13)]));}catch(_0x23ef1f){console[_0x1e472b(0xc13)](_0x1e472b(0xaec),_0x23ef1f),_0x3d1428['output']='Error\x20processing\x20email:\x20'+(_0x23ef1f instanceof Error?_0x23ef1f[_0x1e472b(0x325)]:_0x1e472b(0x700));}_0x3e14dd&&_0x3e14dd[_0x1e472b(0x99b)](_0x3d1428),await _0x3a52cb(_0x2f02ab,_0x1a2b41,_0xef85a2,_0x3d1428,_0x5ed3f0,_0x4c31ab,_0x3d01d8,_0x3e14dd);}async function _0x19015d(_0x268b1a,_0x9bea58,_0x40048d,_0x30510b,_0x43d92a,_0x531e27,_0x3c9b56,_0x4130ca){const _0x6bc9b=_0x227435,_0x2992b6=await _0x3c9b56[_0x6bc9b(0x415)][_0x6bc9b(0xbf0)](_0x9bea58);await _0x3a52cb(_0x268b1a,_0x2992b6,_0x40048d,_0x30510b,_0x43d92a,_0x531e27,_0x3c9b56,_0x4130ca);}async function _0xb9908(_0x3e401c,_0xb22cab,_0x30aecd,_0x5cc07b,_0x5ccf12,_0x41e56e,_0x17cb3a,_0x44a273){const _0x39c4f4=function(_0x54e4e3,_0x22ea0d){const _0x44796d=a0_0x5d01,_0xa9a93a=[],_0x478031=_0x54e4e3[_0x44796d(0x8ab)]('\x20');let _0x11ab25='',_0x3464ab=0x0,_0x58b05d=0x0,_0x1bd42d=0x0;for(const _0x2a92c0 of _0x478031){if(_0x11ab25[_0x44796d(0xbfb)]+_0x2a92c0[_0x44796d(0xbfb)]>_0x22ea0d['attributes'][_0x44796d(0x9e7)]){let _0x3914b5=_0x3464ab,_0x271423='';for(;_0x3914b5>=0x0&&_0x271423[_0x44796d(0xbfb)]+_0x478031[_0x3914b5][_0x44796d(0xbfb)]<_0x22ea0d[_0x44796d(0x9da)][_0x44796d(0x9f0)];)_0x271423=_0x478031[_0x3914b5]+'\x20'+_0x271423,_0x3914b5--;let _0x3495a0=_0x58b05d,_0x2b3ccf='';for(;_0x3495a0<_0x478031[_0x44796d(0xbfb)]&&_0x2b3ccf['length']+_0x478031[_0x3495a0]['length']<_0x22ea0d['attributes'][_0x44796d(0x9f0)];)_0x2b3ccf+=_0x478031[_0x3495a0]+'\x20',_0x3495a0++;_0x11ab25=_0x271423+_0x11ab25+_0x2b3ccf,_0xa9a93a[_0x44796d(0x91f)](_0x11ab25[_0x44796d(0x5d7)]()),_0x11ab25='',_0x3464ab=_0x58b05d;}_0x11ab25+=_0x2a92c0+'\x20',_0x58b05d++,_0x1bd42d+=_0x2a92c0[_0x44796d(0xbfb)]+0x1;}if(_0x11ab25[_0x44796d(0xbfb)]>0x0){let _0xefb562=_0x3464ab,_0x510cc4='';for(;_0xefb562>=0x0&&_0x510cc4['length']+_0x478031[_0xefb562][_0x44796d(0xbfb)]<_0x22ea0d[_0x44796d(0x9da)][_0x44796d(0x9f0)];)_0x510cc4=_0x478031[_0xefb562]+'\x20'+_0x510cc4,_0xefb562--;_0x11ab25=_0x510cc4+_0x11ab25,_0xa9a93a[_0x44796d(0x91f)](_0x11ab25[_0x44796d(0x5d7)]());}return _0xa9a93a;}(_0xb22cab,_0x5ccf12);await _0x3a52cb(_0x3e401c,_0x39c4f4,_0x30aecd,_0x5cc07b,_0x5ccf12,_0x41e56e,_0x17cb3a,_0x44a273);}async function _0x3a52cb(_0xe5ca60,_0x48ac45,_0x2c1090,_0x18e97c,_0x45896c,_0x435a6c,_0x35f0f9,_0x39522b){const _0x31572a=_0x227435;if(_0x45896c[_0x31572a(0x5d8)]){for(const _0x39b24b of _0x45896c[_0x31572a(0x5d8)]){if(_0x39b24b[_0x31572a(0x649)]===_0xa00ed6[_0x31572a(0x62f)])continue;const _0x29e8d1=_0x435a6c['find'](_0x42030e=>_0x42030e[_0x31572a(0x911)]===_0x39b24b[_0x31572a(0x911)]);if(_0x29e8d1)switch(_0x29e8d1[_0x31572a(0x649)]){case _0x296cd7[_0x31572a(0x5ac)]:_0x39b24b[_0x31572a(0x649)]!==_0xa00ed6[_0x31572a(0xad3)]&&_0x39b24b[_0x31572a(0x649)]!==_0xa00ed6[_0x31572a(0x90e)]||_0x31572a(0x984)!=typeof _0x48ac45||await _0x2d2a59(_0xe5ca60,_0x39b24b['type'],_0x48ac45,_0x2c1090,_0x18e97c,_0x29e8d1,_0x435a6c,_0x35f0f9,_0x39522b),_0x39b24b[_0x31572a(0x649)]===_0xa00ed6[_0x31572a(0x1ec)]&&_0x31572a(0x25e)===_0x48ac45&&await _0x2d2a59(_0xe5ca60,_0x39b24b[_0x31572a(0x649)],_0x48ac45,_0x2c1090,_0x18e97c,_0x29e8d1,_0x435a6c,_0x35f0f9,_0x39522b),_0x39b24b['type']===_0xa00ed6[_0x31572a(0x547)]&&_0x31572a(0xb77)===_0x48ac45&&await _0x2d2a59(_0xe5ca60,_0x39b24b[_0x31572a(0x649)],_0x48ac45,_0x2c1090,_0x18e97c,_0x29e8d1,_0x435a6c,_0x35f0f9,_0x39522b),_0x45896c[_0x31572a(0x649)]===_0x296cd7['InputStream']&&_0x39b24b[_0x31572a(0x649)]===_0xa00ed6[_0x31572a(0x6cc)]&&_0x31572a(0x984)==typeof _0x48ac45&&await _0x2d2a59(_0xe5ca60,_0x39b24b[_0x31572a(0x649)],_0x48ac45,_0x2c1090,_0x18e97c,_0x29e8d1,_0x435a6c,_0x35f0f9,_0x39522b);break;case _0x296cd7[_0x31572a(0x767)]:_0x39b24b[_0x31572a(0x649)]===_0xa00ed6['Text']&&'string'==typeof _0x48ac45&&await _0x51ba67(_0xe5ca60,_0x48ac45,_0x2c1090,_0x18e97c,_0x29e8d1,_0x435a6c,_0x35f0f9,_0x39522b);break;case _0x296cd7[_0x31572a(0x2bd)]:_0x39b24b[_0x31572a(0x649)]===_0xa00ed6['Text']&&_0x31572a(0x984)==typeof _0x48ac45&&await _0x469d65(_0xe5ca60,_0x48ac45,_0x2c1090,_0x18e97c,_0x29e8d1,_0x435a6c,_0x35f0f9,_0x39522b),_0x39b24b[_0x31572a(0x649)]===_0xa00ed6['Text']&&_0x48ac45 instanceof Array&&await _0x469d65(_0xe5ca60,_0x48ac45,_0x2c1090,_0x18e97c,_0x29e8d1,_0x435a6c,_0x35f0f9,_0x39522b);break;case _0x296cd7[_0x31572a(0x493)]:_0x39b24b[_0x31572a(0x649)]===_0xa00ed6[_0x31572a(0xad3)]&&_0x31572a(0x984)==typeof _0x48ac45&&await _0x19015d(_0xe5ca60,_0x48ac45,_0x2c1090,_0x18e97c,_0x29e8d1,_0x435a6c,_0x35f0f9,_0x39522b);break;case _0x296cd7[_0x31572a(0x40b)]:_0x39b24b[_0x31572a(0x649)]===_0xa00ed6[_0x31572a(0xad3)]&&_0x31572a(0x984)==typeof _0x48ac45&&await _0xb9908(_0xe5ca60,_0x48ac45,_0x2c1090,_0x18e97c,_0x29e8d1,_0x435a6c,_0x35f0f9,_0x39522b);break;case _0x296cd7[_0x31572a(0xc15)]:_0x39b24b[_0x31572a(0x649)]===_0xa00ed6['Text']&&'string'==typeof _0x48ac45&&await _0x383637(_0xe5ca60,_0x48ac45,_0x2c1090,_0x18e97c,_0x29e8d1,_0x435a6c,_0x35f0f9,_0x39522b);}}_0x45896c[_0x31572a(0x649)]!==_0x296cd7['Prompt']&&_0x45896c['type']!==_0x296cd7[_0x31572a(0x25c)]&&_0x45896c[_0x31572a(0x649)]!==_0x296cd7[_0x31572a(0x295)]||!_0x39522b||(await _0x2674de['wait'](0x1),_0x39522b[_0x31572a(0x99b)](void 0x0));}else _0x45896c[_0x31572a(0x649)]!==_0x296cd7[_0x31572a(0x7a9)]&&_0x45896c[_0x31572a(0x649)]!==_0x296cd7[_0x31572a(0x25c)]&&_0x45896c[_0x31572a(0x649)]!==_0x296cd7[_0x31572a(0x295)]||!_0x39522b||(await _0x2674de[_0x31572a(0xa9d)](0x1),_0x39522b[_0x31572a(0x99b)](void 0x0));}function _0x553791(_0x571828,_0x12f73b){const _0x5ac8d8=_0x227435;let _0x5e727a=0x0;for(const _0x5ce6c5 of _0x12f73b)for(const _0x358bf5 of _0x5ce6c5[_0x5ac8d8(0x5d8)]??[])_0x358bf5['type']!==_0xa00ed6['Context']&&_0x358bf5[_0x5ac8d8(0x649)]!==_0xa00ed6[_0x5ac8d8(0x8b5)]&&_0x358bf5[_0x5ac8d8(0x649)]!==_0xa00ed6['File']&&_0x358bf5[_0x5ac8d8(0x649)]!==_0xa00ed6['Image']&&_0x358bf5[_0x5ac8d8(0x649)]!==_0xa00ed6[_0x5ac8d8(0x6cc)]&&_0x358bf5['uid']===_0x571828[_0x5ac8d8(0x911)]&&_0x5e727a++;return _0x5e727a;}const _0x2f7977=[_0x296cd7[_0x227435(0x223)],_0x296cd7[_0x227435(0x6fe)],_0x296cd7[_0x227435(0x508)],_0x296cd7[_0x227435(0x9c7)],_0x296cd7[_0x227435(0x500)],_0x296cd7['GoogleMapsDistanceMatrix'],_0x296cd7['GmailCreateDraft'],_0x296cd7[_0x227435(0x713)],_0x296cd7[_0x227435(0x336)],_0x296cd7[_0x227435(0x6dd)],_0x296cd7['GmailDeleteEmail'],_0x296cd7['GmailCreateContact'],_0x296cd7[_0x227435(0x300)],_0x296cd7[_0x227435(0xa4a)],_0x296cd7[_0x227435(0x66e)],_0x296cd7[_0x227435(0xc46)],_0x296cd7[_0x227435(0xb76)],_0x296cd7['GoogleCalendarListEvents'],_0x296cd7[_0x227435(0x8b2)],_0x296cd7['GoogleCalendarDeleteEvent'],_0x296cd7['GoogleCalendarListContacts'],_0x296cd7['GoogleCalendarSearchContacts'],_0x296cd7['GoogleCalendarListDirectoryPeople'],_0x296cd7['GoogleCalendarSearchDirectoryPeople'],_0x296cd7[_0x227435(0x654)],_0x296cd7[_0x227435(0x82f)],_0x296cd7['GoogleCalendarGetAvailability'],_0x296cd7[_0x227435(0xbce)],_0x296cd7[_0x227435(0x425)],_0x296cd7[_0x227435(0x409)],_0x296cd7[_0x227435(0xbe4)],_0x296cd7[_0x227435(0x402)],_0x296cd7[_0x227435(0x7b1)],_0x296cd7['QuickbooksCreatePayment'],_0x296cd7[_0x227435(0x8ff)],_0x296cd7[_0x227435(0x386)],_0x296cd7[_0x227435(0x5e0)],_0x296cd7['QuickbooksSearchItems'],_0x296cd7[_0x227435(0x30a)],_0x296cd7[_0x227435(0x46b)],_0x296cd7[_0x227435(0x75e)],_0x296cd7[_0x227435(0x6fd)],_0x296cd7[_0x227435(0x862)],_0x296cd7[_0x227435(0x91d)],_0x296cd7[_0x227435(0xbf5)],_0x296cd7[_0x227435(0xb75)],_0x296cd7[_0x227435(0x82c)],_0x296cd7[_0x227435(0xba1)],_0x296cd7['QuickbooksSearchDeposits'],_0x296cd7['QuickbooksGetDeposit'],_0x296cd7[_0x227435(0x8c5)],_0x296cd7['QuickbooksGetPurchase'],_0x296cd7[_0x227435(0x48a)],_0x296cd7['QuickbooksGetAccountsReceivable'],_0x296cd7['QuickbooksGetAccountsPayable'],_0x296cd7['QuickbooksSearchUnpaidInvoices'],_0x296cd7[_0x227435(0x281)],_0x296cd7[_0x227435(0xaa7)],_0x296cd7[_0x227435(0x91b)],_0x296cd7[_0x227435(0x498)],_0x296cd7[_0x227435(0xa83)],_0x296cd7[_0x227435(0xc23)]];function _0x2624ec(_0x591983,_0x3d3750,_0x5b63c3){const _0x2f1097=_0x227435;let _0x59717d=_0x3d3750[_0x2f1097(0x276)](_0x50697b=>_0x50697b['links']?.[_0x2f1097(0x2fd)](_0x7bb968=>_0x7bb968[_0x2f1097(0x911)]===_0x591983[_0x2f1097(0x911)]&&_0x7bb968[_0x2f1097(0x649)]===_0xa00ed6[_0x2f1097(0x8b5)]));const _0x4bf351=_0x59717d[_0x2f1097(0x276)](_0x1b38d7=>_0x2f7977['includes'](_0x1b38d7[_0x2f1097(0x649)]));_0x59717d=_0x59717d[_0x2f1097(0x276)](_0x44ccce=>!_0x2f7977[_0x2f1097(0x771)](_0x44ccce[_0x2f1097(0x649)]));const _0x1dc36c=_0x59717d['flatMap'](_0x2a4d1c=>_0x6a58fc(_0x2a4d1c,_0x3d3750,_0x5b63c3));if(_0x4bf351[_0x2f1097(0xbfb)]>0x0){const _0xa8fa14=new Map();for(const _0x4d887f of _0x4bf351)_0xa8fa14[_0x2f1097(0xac9)](_0x4d887f[_0x2f1097(0x584)]??_0x2f1097(0x5a3))||_0xa8fa14[_0x2f1097(0x9b4)](_0x4d887f['userId']??_0x2f1097(0x5a3),[]),_0xa8fa14[_0x2f1097(0x441)](_0x4d887f[_0x2f1097(0x584)]??'none')?.[_0x2f1097(0x91f)](_0x6a58fc(_0x4d887f,_0x3d3750,_0x5b63c3));let _0x4e3b12=0x0;for(const [_0x2a065a,_0x2f2366]of _0xa8fa14){const _0x3add0c=_0x2f1097(0x5a3)===_0x2a065a?_0x5b63c3?.[_0x2f1097(0x584)]:_0x2a065a;_0x1dc36c['push']({'type':_0x2bba8e[_0x2f1097(0x517)]['CrewdleMCP'],'server_label':_0x2f1097(0xa90)+_0x4e3b12,'server_url':_0x2b8337[_0x2f1097(0x458)]+_0x2f1097(0x762),'require_approval':'never','allowed_tools':_0x2f2366[_0x2f1097(0x7b9)](_0x2ae916=>_0x2ae916[_0x2f1097(0x649)]),'headers':_0x3add0c?{'Authorization':_0x2f1097(0x467)+_0x3add0c}:void 0x0}),_0x4e3b12++;}}return _0x1dc36c;}function _0x6a58fc(_0x467949,_0x572f9f,_0x40db5a){const _0x428aa0=_0x227435,_0x4a85b4={'type':_0x467949[_0x428aa0(0x649)],'name':_0x467949['name']??'','description':_0x467949[_0x428aa0(0x60e)]??'','parameters':_0x467949[_0x428aa0(0x6b9)]??[],'headers':_0x467949[_0x428aa0(0x919)]??[],'queryParameters':_0x467949['queryParameters']??[],'bodyParameters':_0x467949[_0x428aa0(0x270)]??[],'endpointUrl':_0x467949['endpointUrl']??'','endpointMethod':_0x467949[_0x428aa0(0x255)]??'','contextInputVariable':_0x467949[_0x428aa0(0xa26)]??'','contextOutputVariable':_0x467949['contextOutputVariable']??'','modelId':_0x467949['modelId']??'','workflowId':_0x467949[_0x428aa0(0x31e)]??'','userId':_0x467949[_0x428aa0(0x584)]??'','async':_0x467949['async']??!0x1,'instructions':_0x467949[_0x428aa0(0xa35)]??'','maxTokens':_0x467949[_0x428aa0(0xb0a)]??0x0,'temperature':_0x467949['temperature']??0x0,'grammar':_0x467949[_0x428aa0(0x222)]??_0x428aa0(0x98a),'collectionId':_0x467949[_0x428aa0(0x649)]===_0x296cd7['DataCollection']||_0x467949[_0x428aa0(0x649)]===_0x296cd7[_0x428aa0(0x45b)]?_0x467949['id']:'','namespace':_0x467949[_0x428aa0(0x649)]===_0x296cd7[_0x428aa0(0x2bd)]||_0x467949[_0x428aa0(0x649)]===_0x296cd7[_0x428aa0(0x45b)]?_0x40db5a?.[_0x428aa0(0x4a7)]:void 0x0,'shouldEmit':_0x467949[_0x428aa0(0x5d8)]?.[_0x428aa0(0x2fd)](_0x56b7b6=>_0x56b7b6[_0x428aa0(0x649)]===_0xa00ed6['Text']&&_0x572f9f['find'](_0x29dbc7=>_0x29dbc7[_0x428aa0(0x911)]===_0x56b7b6[_0x428aa0(0x911)])?.['type']===_0x296cd7[_0x428aa0(0x90a)])??!0x1};if(_0x467949[_0x428aa0(0x649)]===_0x296cd7[_0x428aa0(0x5b8)])return[{..._0x4a85b4,'type':_0x2bba8e[_0x428aa0(0x517)][_0x428aa0(0xb9f)],'questions':_0x467949['questions']??[]},{..._0x4a85b4,'type':_0x2bba8e[_0x428aa0(0x517)][_0x428aa0(0x5b3)],'questions':_0x467949[_0x428aa0(0xa17)]??[]},{..._0x4a85b4,'type':_0x2bba8e[_0x428aa0(0x517)][_0x428aa0(0x21a)],'questions':_0x467949[_0x428aa0(0xa17)]??[]}];if(_0x467949['type']===_0x296cd7['Agent']||_0x467949[_0x428aa0(0x649)]===_0x296cd7[_0x428aa0(0x2b9)]||_0x467949[_0x428aa0(0x649)]===_0x296cd7[_0x428aa0(0x59e)]){const _0x1f6675=_0x572f9f['filter'](_0x2ac8f4=>_0x2ac8f4[_0x428aa0(0x5d8)]?.[_0x428aa0(0x2fd)](_0x387a74=>_0x387a74[_0x428aa0(0x911)]===_0x467949['uid']&&_0x387a74[_0x428aa0(0x649)]===_0xa00ed6['Tool']));if(_0x1f6675[_0x428aa0(0xbfb)]>0x0)return{..._0x4a85b4,'tools':_0x1f6675[_0x428aa0(0xbd9)](_0x17192c=>_0x6a58fc(_0x17192c,_0x572f9f,_0x40db5a))};}return _0x4a85b4;}async function _0x2d2a59(_0x15c141,_0x2565e1,_0x387b5c,_0x128e63,_0x427063,_0x36ff8c,_0x8597bb,_0x448b9e,_0xab3224){const _0x518d0e=_0x227435,_0x4c3fa5=_0x448b9e['models'][_0x518d0e(0x5b4)](_0x37e98a=>_0x37e98a['id']===_0x36ff8c[_0x518d0e(0x46c)]);if(!_0x4c3fa5)throw new Error(_0x518d0e(0x880)+_0x36ff8c['modelId']);if((_0x4c3fa5['taskType']===_0x2bba8e[_0x518d0e(0xbd5)][_0x518d0e(0x209)]||_0x4c3fa5[_0x518d0e(0xa68)]===_0x2bba8e[_0x518d0e(0xbd5)]['TextToSpeech'])&&(_0x2565e1===_0xa00ed6[_0x518d0e(0x6cc)]||_0x36ff8c[_0x518d0e(0x5d8)]?.[_0x518d0e(0x2fd)](_0x5e2410=>_0x5e2410[_0x518d0e(0x649)]===_0xa00ed6[_0x518d0e(0x6cc)]))){const _0x1360ac=_0x8597bb[_0x518d0e(0x5b4)](_0x5d285f=>_0x5d285f[_0x518d0e(0x5d8)]?.['some'](_0x4e7932=>_0x4e7932['uid']===_0x36ff8c[_0x518d0e(0x911)]&&_0x4e7932[_0x518d0e(0x649)]===_0xa00ed6['Audio'])),_0x2cd64c=_0x8597bb[_0x518d0e(0x5b4)](_0x53a45e=>_0x53a45e[_0x518d0e(0x911)]===_0x36ff8c['links']?.[_0x518d0e(0x5b4)](_0x29c416=>_0x29c416[_0x518d0e(0x649)]===_0xa00ed6[_0x518d0e(0x6cc)])?.['uid']);if(_0x1360ac?.['type']===_0x296cd7[_0x518d0e(0x25c)]||_0x2cd64c?.[_0x518d0e(0x649)]===_0x296cd7['OutputStream'])return console[_0x518d0e(0xbf2)](new Date()+_0x518d0e(0x4f3)),void await _0x3a52cb(_0x15c141,_0x387b5c,_0x128e63,_0x427063,_0x36ff8c,_0x8597bb,_0x448b9e,_0xab3224);if(_0x4c3fa5[_0x518d0e(0xa68)]===_0x2bba8e[_0x518d0e(0xbd5)]['TextToSpeech']){console[_0x518d0e(0xbf2)](new Date()+_0x518d0e(0x56d));const _0x1d701c=_0x448b9e[_0x518d0e(0x4dd)]['find'](_0x2513d0=>_0x2513d0[_0x518d0e(0xc27)]()===_0x4c3fa5[_0x518d0e(0x76d)]);if(!_0x1d701c)throw new Error(_0x518d0e(0xbc1)+_0x4c3fa5['id']);const _0x320c08=_0x36ff8c[_0x518d0e(0x8bd)]||_0x36ff8c[_0x518d0e(0xa35)]['match'](/voice=(\w+)/)?.[0x1],_0x276ff1=_0x36ff8c['instructions']['replace'](_0x518d0e(0xadb)+_0x320c08,''),_0x1eddd8=await _0x1d701c[_0x518d0e(0xc29)](_0x4c3fa5['id'],_0x387b5c,_0x320c08??_0x518d0e(0x62e),_0x518d0e(0xb5a),_0x276ff1);_0x50c690[_0x518d0e(0x20f)](_0x15c141,_0x4c3fa5['id'],0x0,_0x387b5c['length']);const _0x3dcd17=_0x1eddd8[_0x518d0e(0x8a7)]();let _0x33338f=new Uint8Array(0x0);for(;;){const {value:_0x21e63c,done:_0x191bff}=await _0x3dcd17['read']();if(_0x191bff)break;const _0x1d778e=_0x21e63c instanceof ArrayBuffer?new Uint8Array(_0x21e63c):_0x21e63c,_0x47e310=new Uint8Array(_0x33338f[_0x518d0e(0xbfb)]+_0x1d778e[_0x518d0e(0xbfb)]);_0x47e310[_0x518d0e(0x9b4)](_0x33338f),_0x47e310[_0x518d0e(0x9b4)](_0x1d778e,_0x33338f[_0x518d0e(0xbfb)]),_0x33338f=_0x47e310;}const _0x5da498=new File([_0x33338f],(0x0,_0x4821d1['v4'])()+'.mp3',{'type':_0x518d0e(0xa8a)}),_0x15ff93=_0x8597bb[_0x518d0e(0x5b4)](_0x16c5b1=>_0x16c5b1[_0x518d0e(0x649)]===_0x296cd7[_0x518d0e(0x90a)]&&_0x36ff8c[_0x518d0e(0x5d8)]?.[_0x518d0e(0x2fd)](_0x18ee9a=>_0x18ee9a[_0x518d0e(0x911)]===_0x16c5b1[_0x518d0e(0x911)]));return void(_0x15ff93&&(_0x15ff93[_0x518d0e(0xbec)]||(_0x15ff93[_0x518d0e(0xbec)]={}),_0x15ff93['accumulated'][_0x518d0e(0x8fb)]=_0x5da498));}}if(_0x36ff8c[_0x518d0e(0xbec)]||(_0x36ff8c[_0x518d0e(0xbec)]={}),_0x2565e1===_0xa00ed6[_0x518d0e(0xad3)]&&_0x518d0e(0x984)==typeof _0x387b5c&&(_0x36ff8c['accumulated'][_0x518d0e(0x7ed)]||(_0x36ff8c[_0x518d0e(0xbec)][_0x518d0e(0x7ed)]=[]),_0x36ff8c[_0x518d0e(0xbec)][_0x518d0e(0x7ed)][_0x518d0e(0x91f)](_0x387b5c)),_0x2565e1===_0xa00ed6[_0x518d0e(0xb45)])return _0x36ff8c[_0x518d0e(0xbec)][_0x518d0e(0x2e3)]||(_0x36ff8c[_0x518d0e(0xbec)]['files']=[]),void _0x36ff8c['accumulated'][_0x518d0e(0x2e3)][_0x518d0e(0x91f)](_0x387b5c);if(_0x2565e1===_0xa00ed6[_0x518d0e(0x965)])return _0x36ff8c[_0x518d0e(0xbec)]['images']||(_0x36ff8c[_0x518d0e(0xbec)][_0x518d0e(0x4d6)]=[]),void _0x36ff8c['accumulated'][_0x518d0e(0x4d6)][_0x518d0e(0x91f)](_0x387b5c);if(_0x2565e1===_0xa00ed6[_0x518d0e(0x6cc)])return _0x36ff8c[_0x518d0e(0xbec)][_0x518d0e(0x790)]||(_0x36ff8c[_0x518d0e(0xbec)][_0x518d0e(0x790)]=[]),void _0x36ff8c[_0x518d0e(0xbec)]['medias'][_0x518d0e(0x91f)](_0x387b5c);if(_0x36ff8c[_0x518d0e(0x3d1)]=_0x36ff8c[_0x518d0e(0x3d1)]?_0x36ff8c[_0x518d0e(0x3d1)]+0x1:0x1,_0x553791(_0x36ff8c,_0x8597bb)>_0x36ff8c[_0x518d0e(0x3d1)])return;if(_0x1822ee[_0x518d0e(0x7fb)]('Processing\x20agent\x20block:\x20'+_0x36ff8c[_0x518d0e(0xc30)],_0x36ff8c[_0x518d0e(0x3d1)]),!_0x36ff8c[_0x518d0e(0xbec)][_0x518d0e(0x7ed)])throw new Error(_0x518d0e(0x9d1)+_0x36ff8c[_0x518d0e(0xc30)]);const _0x484731=Date[_0x518d0e(0xb26)](),_0xa0f83=(0x0,_0x4821d1['v4'])();let _0x1375c4='',_0x12e523=0x0,_0x38d199=0x0;const _0x3ab2ef=[],_0x3c9ef1=function(_0x163d69,_0x30f2ac,_0xe55ea1,_0x6cf669){const _0x2bb05e=_0x518d0e;if(_0xe55ea1[_0x2bb05e(0xa26)]){const _0x2443bd=_0xe55ea1[_0x2bb05e(0xa26)]['split'](',');for(const _0x3286ba of _0x2443bd)_0x2bb05e(0x2e3)!==_0x3286ba&&_0x2bb05e(0x4d6)!==_0x3286ba&&_0x30f2ac[_0x2bb05e(0x6e8)]?.[_0x3286ba]&&(_0x163d69='<'+_0x3286ba+'>'+_0x30f2ac[_0x2bb05e(0x6e8)][_0x3286ba]+'</'+_0x3286ba+_0x2bb05e(0xa2b)+_0x163d69);}const _0x512053=_0x6cf669[_0x2bb05e(0x276)](_0xc53847=>_0xc53847[_0x2bb05e(0x5d8)]?.['some'](_0x53e73e=>_0x53e73e[_0x2bb05e(0x911)]===_0xe55ea1['uid']&&_0x53e73e[_0x2bb05e(0x649)]===_0xa00ed6[_0x2bb05e(0x8b5)]));for(const _0x1d092d of _0x512053)if(_0x1d092d[_0x2bb05e(0x649)]===_0x296cd7['FormSkill']){const _0x51ac94=_0x1d092d[_0x2bb05e(0xc30)]['replace'](/[^a-zA-Z]/g,''),_0x129787=_0x30f2ac[_0x2bb05e(0x6e8)]?.[_0x2bb05e(0x722)+_0x51ac94];if(_0x129787){const _0x3d3a90=_0x1d092d[_0x2bb05e(0xa17)][_0x129787];_0x3d3a90&&(_0x163d69=_0x2bb05e(0x61f)+JSON[_0x2bb05e(0x5dd)](_0x3d3a90)+_0x2bb05e(0xadf)+_0x163d69);}}return _0x163d69;}(_0x36ff8c['accumulated'][_0x518d0e(0x7ed)][_0x518d0e(0x2b2)]('\x0a\x0a'),_0x427063,_0x36ff8c,_0x8597bb);let _0x290f8f=_0x3c9ef1;if(_0x36ff8c[_0x518d0e(0xbec)][_0x518d0e(0x2e3)]){_0x518d0e(0x984)==typeof _0x290f8f&&(_0x290f8f=[],_0x290f8f[_0x518d0e(0x91f)]({'type':_0x518d0e(0x335),'text':_0x3c9ef1}));for(const _0x44efed of _0x36ff8c[_0x518d0e(0xbec)][_0x518d0e(0x2e3)])_0x290f8f[_0x518d0e(0x91f)]({'type':_0x518d0e(0x8fb),'file':{'filename':(0x0,_0x4821d1['v4'])()+'.pdf','file_data':_0x518d0e(0x48b)+_0x44efed}});}if(_0x36ff8c[_0x518d0e(0xbec)][_0x518d0e(0x4d6)]){_0x518d0e(0x984)==typeof _0x290f8f&&(_0x290f8f=[],_0x290f8f[_0x518d0e(0x91f)]({'type':_0x518d0e(0x335),'text':_0x3c9ef1}));for(const _0x124825 of _0x36ff8c[_0x518d0e(0xbec)][_0x518d0e(0x4d6)])_0x290f8f[_0x518d0e(0x91f)]({'type':_0x518d0e(0x6a2),'image_url':{'url':'data:'+_0x124825}});}if(_0x36ff8c[_0x518d0e(0xbec)][_0x518d0e(0x790)]){_0x518d0e(0x984)==typeof _0x290f8f&&(_0x290f8f=[],_0x290f8f[_0x518d0e(0x91f)]({'type':_0x518d0e(0x335),'text':_0x3c9ef1}));for(const _0x342d84 of _0x36ff8c[_0x518d0e(0xbec)][_0x518d0e(0x790)]){let _0xa61b12;_0x342d84['startsWith'](_0x518d0e(0xa8a))?_0xa61b12=_0x518d0e(0xb5a):_0x342d84[_0x518d0e(0x60c)](_0x518d0e(0xa05))&&(_0xa61b12=_0x518d0e(0x996)),_0xa61b12&&_0x290f8f['push']({'type':'input_audio','input_audio':{'data':'data:'+_0x342d84,'format':_0xa61b12}});}}_0x3ab2ef[_0x518d0e(0x91f)]({'role':_0x518d0e(0x41b),'content':_0x429d1a(_0x128e63['instructions']??'',_0x36ff8c,_0x4c3fa5)}),_0x3ab2ef['push'](..._0x128e63[_0x518d0e(0x950)]?.[_0x518d0e(0x7b9)](_0x29bd84=>({'role':_0x29bd84['source']===_0x2bba8e['PromptSource'][_0x518d0e(0xabe)]?_0x518d0e(0x7b3):'assistant','content':_0x29bd84['message']}))??[]),_0x3ab2ef[_0x518d0e(0x91f)]({'role':_0x518d0e(0x7b3),'content':_0x290f8f});const _0x2e5281=_0x2624ec(_0x36ff8c,_0x8597bb,_0x128e63);let _0x4372cd;const _0x48b26d={'type':'inference','vendorId':_0x128e63[_0x518d0e(0x2ae)],'threadId':_0x128e63[_0x518d0e(0x591)],'jobId':_0x15c141,'agentId':_0xa0f83,'workflowId':_0x128e63[_0x518d0e(0x31e)],'model':_0x36ff8c['modelId'],'prompt':_0x290f8f,'instructions':_0x429d1a(_0x128e63[_0x518d0e(0xa35)]??'',_0x36ff8c,_0x4c3fa5),'grammar':_0x36ff8c[_0x518d0e(0x222)],'voice':_0x36ff8c['voice'],'language':_0x36ff8c[_0x518d0e(0x587)],'responseFormat':_0x36ff8c[_0x518d0e(0x4ec)],'timestampGranularities':_0x36ff8c[_0x518d0e(0x57d)],'duration':_0x36ff8c[_0x518d0e(0x82d)],'ratio':_0x36ff8c[_0x518d0e(0x3be)],'privacy':_0x128e63[_0x518d0e(0x1f9)],'history':_0x128e63[_0x518d0e(0x950)],'internalContext':_0x427063[_0x518d0e(0x6e8)]??{},'tools':_0x2e5281};if(_0xab3224){const _0x399028=_0x36ff8c[_0x518d0e(0x5d8)]?.[_0x518d0e(0x2fd)](_0x173a01=>_0x173a01[_0x518d0e(0x649)]===_0xa00ed6[_0x518d0e(0xad3)]&&(_0x8597bb[_0x518d0e(0x5b4)](_0x14775b=>_0x14775b[_0x518d0e(0x911)]===_0x173a01[_0x518d0e(0x911)])?.['type']===_0x296cd7[_0x518d0e(0x90a)]||_0x8597bb[_0x518d0e(0x5b4)](_0xef3ef3=>_0xef3ef3[_0x518d0e(0x911)]===_0x173a01[_0x518d0e(0x911)])?.[_0x518d0e(0x5d8)]?.[_0x518d0e(0x2fd)](_0x1e4679=>_0x1e4679[_0x518d0e(0x649)]===_0xa00ed6[_0x518d0e(0x6cc)]&&_0x8597bb['find'](_0x336479=>_0x336479['uid']===_0x1e4679[_0x518d0e(0x911)])?.[_0x518d0e(0x649)]===_0x296cd7[_0x518d0e(0xbff)])))??!0x1;try{for await(const _0x17e2e9 of _0x58158d(_0x15c141,_0x48b26d,_0x448b9e))_0x399028&&_0xab3224[_0x518d0e(0x99b)]({'output':_0x17e2e9[_0x518d0e(0xc4d)],'type':_0x518d0e(0x7ed)}),_0x1375c4+=_0x17e2e9[_0x518d0e(0xc4d)],_0x12e523=_0x17e2e9[_0x518d0e(0x652)]??0x0,_0x38d199=_0x17e2e9[_0x518d0e(0x25b)]??0x0,_0x427063[_0x518d0e(0x6e8)]={..._0x427063[_0x518d0e(0x6e8)],..._0x17e2e9['internalContext']},_0x17e2e9['resultFile']&&(_0x4372cd=_0x17e2e9[_0x518d0e(0x550)]);}catch(_0x170890){return console[_0x518d0e(0xc13)](_0x518d0e(0xc51),_0x170890),await _0x2674de[_0x518d0e(0xa9d)](0x1),void _0xab3224['emit'](void 0x0);}_0x427063[_0x518d0e(0x25b)]=(_0x427063['outputTokens']??0x0)+_0x38d199,_0x427063[_0x518d0e(0x652)]=(_0x427063[_0x518d0e(0x652)]??0x0)+_0x12e523,_0xab3224[_0x518d0e(0x99b)]({'output':_0x399028?'\x0a\x0a':'','type':_0x518d0e(0x7ed)});}else{const _0x560bc5=await _0x1bf211(_0x15c141,_0x48b26d,_0x448b9e);_0x1375c4=_0x560bc5[_0x518d0e(0xc4d)]??'',_0x12e523=_0x560bc5['inputTokens']??0x0,_0x38d199=_0x560bc5['outputTokens']??0x0,_0x427063[_0x518d0e(0xc4d)]=_0x1375c4,_0x427063[_0x518d0e(0x6e8)]={..._0x427063[_0x518d0e(0x6e8)],..._0x560bc5[_0x518d0e(0x6e8)]},_0x427063[_0x518d0e(0x25b)]=(_0x427063[_0x518d0e(0x25b)]??0x0)+_0x38d199,_0x427063[_0x518d0e(0x652)]=(_0x427063[_0x518d0e(0x652)]??0x0)+_0x12e523,_0x560bc5[_0x518d0e(0x550)]&&(_0x4372cd=_0x560bc5[_0x518d0e(0x550)]);}if(_0x36ff8c[_0x518d0e(0x3c1)]&&(_0x427063[_0x518d0e(0x6e8)]||(_0x427063[_0x518d0e(0x6e8)]={}),_0x427063[_0x518d0e(0x6e8)][_0x36ff8c[_0x518d0e(0x3c1)]]=_0x1375c4),await _0x50c690['trace']({'jobType':_0x36cb8d['Workflow'],'type':_0x6011c9[_0x518d0e(0xbae)],'jobId':_0x15c141,'agentId':_0xa0f83,'threadId':_0x128e63[_0x518d0e(0x591)],'traceLevel':_0x57b22b[_0x518d0e(0x8f3)],'startTime':_0x484731,'timestamp':Date['now'](),'blockId':_0x36ff8c['id'],'status':_0x518d0e(0x8bb),'output':_0x1375c4,'prompt':_0x3c9ef1,'agentName':_0x36ff8c['name'],'history':[],'instructions':''+_0x36ff8c['instructions']+(_0x128e63[_0x518d0e(0xa35)]??''),'ragContext':[],'inputTokens':_0x12e523??0x0,'outputTokens':_0x38d199??0x0}),_0x4372cd){const _0x18dd9f=_0x4372cd[_0x518d0e(0x8ab)](','),_0x293bc8=_0x18dd9f[0x0]['replace']('data:','')[_0x518d0e(0x217)](_0x518d0e(0x784),''),_0x59eb51=_0x293bc8[_0x518d0e(0x8ab)]('/')[0x1],_0x9f64a5=_0x18dd9f[0x1],_0x1715f6=Uint8Array[_0x518d0e(0x218)](Buffer[_0x518d0e(0x218)](_0x9f64a5,_0x518d0e(0x5f6))),_0x1578c8=new Blob([_0x1715f6],{'type':_0x293bc8}),_0x3d3910=new File([_0x1578c8],(0x0,_0x4821d1['v4'])()+'.'+_0x59eb51,{'type':_0x293bc8}),_0x10b303=_0x8597bb[_0x518d0e(0x5b4)](_0xedb1ee=>_0xedb1ee[_0x518d0e(0x649)]===_0x296cd7[_0x518d0e(0x90a)]&&_0x36ff8c[_0x518d0e(0x5d8)]?.[_0x518d0e(0x2fd)](_0xe1be17=>_0xe1be17[_0x518d0e(0x911)]===_0xedb1ee[_0x518d0e(0x911)]));_0x10b303&&(_0x10b303[_0x518d0e(0xbec)]||(_0x10b303[_0x518d0e(0xbec)]={}),_0x10b303[_0x518d0e(0xbec)][_0x518d0e(0x8fb)]=_0x3d3910);}if(_0x518d0e(0x823)===_0x36ff8c['grammar'])try{_0x1375c4=JSON[_0x518d0e(0x77c)](_0x1375c4)[_0x518d0e(0xc5a)]?_0x518d0e(0x25e):'false';}catch(_0xd47862){console[_0x518d0e(0xc13)](_0x518d0e(0x6ab),_0x1375c4),_0x1375c4=_0x518d0e(0xb77);}await _0x3a52cb(_0x15c141,_0x1375c4,_0x128e63,_0x427063,_0x36ff8c,_0x8597bb,_0x448b9e,_0xab3224);}function _0x429d1a(_0x11ab04,_0x21a703,_0x3425c6){const _0x3f07ef=_0x227435;let _0x5e1378='';return _0x3425c6['knowledgeCutoffDate']&&''!==_0x3425c6[_0x3f07ef(0xc01)]&&(_0x5e1378=_0x3f07ef(0x962)+_0x3425c6[_0x3f07ef(0xc01)]+'\x0a\x0a'),_0x5e1378=_0x5e1378+'Today\x20Date:\x20'+new Date()[_0x3f07ef(0x2be)](void 0x0,{'weekday':_0x3f07ef(0x71c),'year':_0x3f07ef(0x84b),'month':_0x3f07ef(0x71c),'day':_0x3f07ef(0x84b)})+'\x0a\x0a',''+_0x5e1378+_0x21a703['instructions']+_0x11ab04;}async function _0x3e6f44(_0x4158f7,_0x137cbe,_0x580a4a,_0x4b32cc,_0xe91114){const _0x22cc4c=_0x227435,_0x7c7bce=_0x137cbe[_0x22cc4c(0x81e)]??(0x0,_0x4821d1['v4'])(),_0x230c15=Date['now']();await _0x50c690[_0x22cc4c(0x351)]({'jobType':_0x36cb8d[_0x22cc4c(0xb08)],'type':_0x6011c9[_0x22cc4c(0xc73)],'jobId':_0x4158f7,'blockId':_0x580a4a['id'],'agentId':_0x7c7bce,'threadId':_0x137cbe[_0x22cc4c(0x591)],'traceLevel':_0x57b22b[_0x22cc4c(0x8f3)],'startTime':Date[_0x22cc4c(0xb26)](),'timestamp':Date[_0x22cc4c(0xb26)](),'status':_0x22cc4c(0x8bb),'initialPrompt':_0x137cbe['prompt']});const _0x47d905={'type':_0x22cc4c(0x7ed),'context':[],'inputTokens':0x0,'outputTokens':0x0};_0x137cbe[_0x22cc4c(0x6e8)]&&(_0x47d905[_0x22cc4c(0x6e8)]=_0x137cbe[_0x22cc4c(0x6e8)]),await _0x5b473e(_0x4158f7,_0x137cbe,_0x47d905,_0x580a4a,_0x4b32cc,_0xe91114),await _0x3a52cb(_0x4158f7,''+_0x137cbe[_0x22cc4c(0x7ed)],_0x137cbe,_0x47d905,_0x580a4a,_0x4b32cc,_0xe91114);const {inputTokens:_0x3be0af=0x0,outputTokens:_0x2bbd95=0x0,context:_0x1cd244=[]}=_0x47d905;await _0x50c690[_0x22cc4c(0x351)]({'jobType':_0x36cb8d[_0x22cc4c(0xb08)],'type':_0x6011c9[_0x22cc4c(0x6d5)],'jobId':_0x4158f7,'agentId':_0x7c7bce,'threadId':_0x137cbe[_0x22cc4c(0x591)],'traceLevel':_0x57b22b[_0x22cc4c(0x8f3)],'startTime':_0x230c15,'timestamp':Date[_0x22cc4c(0xb26)](),'blockId':_0x580a4a['id'],'status':_0x22cc4c(0x8bb),'output':_0x47d905[_0x22cc4c(0xc4d)]?.['toString']()??'','prompt':_0x137cbe[_0x22cc4c(0x7ed)],'agentName':'','history':_0x137cbe[_0x22cc4c(0x950)]??[],'instructions':''+(_0x137cbe[_0x22cc4c(0xa35)]??''),'ragContext':_0x1cd244,'inputTokens':_0x3be0af,'outputTokens':_0x2bbd95});const _0x89b86e=_0x4b32cc[_0x22cc4c(0x5b4)](_0x2b0be1=>_0x2b0be1[_0x22cc4c(0x649)]===_0x296cd7[_0x22cc4c(0x90a)]),_0x4d903a=_0x89b86e?.[_0x22cc4c(0xbec)]?.['file']?Buffer[_0x22cc4c(0x218)](await _0x89b86e[_0x22cc4c(0xbec)][_0x22cc4c(0x8fb)]['arrayBuffer']())[_0x22cc4c(0x4f9)](_0x22cc4c(0x5f6)):void 0x0,_0x10ca58=_0x4d903a&&_0x89b86e?.['accumulated']?.[_0x22cc4c(0x8fb)]?_0x22cc4c(0x48b)+_0x89b86e[_0x22cc4c(0xbec)][_0x22cc4c(0x8fb)][_0x22cc4c(0x649)]+_0x22cc4c(0x90c)+_0x4d903a:void 0x0;return{'type':_0x22cc4c(0x7ed),'output':_0x47d905['output'],'context':_0x47d905['context'],'internalContext':_0x47d905[_0x22cc4c(0x6e8)],'resultFile':_0x10ca58??void 0x0,'inputTokens':_0x47d905['inputTokens']??0x0,'outputTokens':_0x47d905['outputTokens']??0x0};}async function*_0x49f498(_0x392296,_0x511f2c,_0x20776f,_0x2a4547,_0x9d986c){const _0x156490=_0x227435,_0x57f259=_0x511f2c[_0x156490(0x81e)]??(0x0,_0x4821d1['v4'])(),_0x2dbbcf=Date[_0x156490(0xb26)]();await _0x50c690[_0x156490(0x351)]({'jobType':_0x36cb8d[_0x156490(0xb08)],'type':_0x6011c9[_0x156490(0xc73)],'jobId':_0x392296,'agentId':_0x57f259,'threadId':_0x511f2c[_0x156490(0x591)],'traceLevel':_0x57b22b['Info'],'startTime':Date['now'](),'timestamp':Date[_0x156490(0xb26)](),'blockId':_0x20776f['id'],'status':'success','initialPrompt':_0x511f2c['prompt']});const _0x54eec2={'type':_0x156490(0x7ed),'context':[],'inputTokens':0x0,'outputTokens':0x0};_0x511f2c[_0x156490(0x6e8)]&&(_0x54eec2['internalContext']=_0x511f2c['internalContext']);const _0x1b7504=new _0x5c093f();await _0x5b473e(_0x392296,_0x511f2c,_0x54eec2,_0x20776f,_0x2a4547,_0x9d986c),_0x3a52cb(_0x392296,''+_0x511f2c[_0x156490(0x7ed)],_0x511f2c,_0x54eec2,_0x20776f,_0x2a4547,_0x9d986c,_0x1b7504);let _0x54378e='',_0x3e6094={'type':_0x156490(0x7ed)};for(;;){const _0x472a07=await _0x1b7504[_0x156490(0x994)]();if(!_0x472a07)break;_0x54378e+=_0x472a07[_0x156490(0xc4d)],_0x3e6094={'type':_0x156490(0x7ed),'output':_0x472a07[_0x156490(0xc4d)],'context':_0x54eec2[_0x156490(0xae5)],'resultFile':void 0x0,'inputTokens':(_0x54eec2['inputTokens']??0x0)+(_0x472a07[_0x156490(0x652)]??0x0),'outputTokens':(_0x54eec2[_0x156490(0x25b)]??0x0)+(_0x472a07[_0x156490(0x25b)]??0x0)},yield _0x3e6094;}const _0x5c2b8b=_0x2a4547['find'](_0x56cb94=>_0x56cb94[_0x156490(0x649)]===_0x296cd7[_0x156490(0x90a)]),_0x3e6eb7=_0x5c2b8b?.[_0x156490(0xbec)]?.['file']?Buffer[_0x156490(0x218)](await _0x5c2b8b[_0x156490(0xbec)]['file'][_0x156490(0x38c)]())[_0x156490(0x4f9)](_0x156490(0x5f6)):void 0x0,_0x4dc34c=_0x3e6eb7&&_0x5c2b8b?.['accumulated']?.['file']?'data:'+_0x5c2b8b[_0x156490(0xbec)][_0x156490(0x8fb)][_0x156490(0x649)]+_0x156490(0x90c)+_0x3e6eb7:void 0x0;yield{..._0x3e6094,'output':'','internalContext':_0x54eec2[_0x156490(0x6e8)],'resultFile':_0x4dc34c??void 0x0};const {inputTokens:_0x5e2a8f=0x0,outputTokens:_0x2e4639=0x0,context:_0x7e4d96=[]}=_0x3e6094;await _0x50c690['trace']({'jobType':_0x36cb8d[_0x156490(0xb08)],'type':_0x6011c9[_0x156490(0x6d5)],'jobId':_0x392296,'agentId':_0x57f259,'threadId':_0x511f2c[_0x156490(0x591)],'traceLevel':_0x57b22b[_0x156490(0x8f3)],'startTime':_0x2dbbcf,'timestamp':Date[_0x156490(0xb26)](),'blockId':_0x20776f['id'],'status':_0x156490(0x8bb),'output':_0x54378e,'prompt':_0x511f2c[_0x156490(0x7ed)],'agentName':'','history':_0x511f2c[_0x156490(0x950)]??[],'instructions':''+(_0x511f2c[_0x156490(0xa35)]??''),'ragContext':_0x7e4d96,'inputTokens':_0x5e2a8f,'outputTokens':_0x2e4639});}async function _0x5b473e(_0x2b0757,_0x5088f8,_0x31220b,_0x3ea131,_0x12e2db,_0x3ff2ea){const _0x40f4bb=_0x227435;if(_0x5088f8['files']&&_0x3ea131[_0x40f4bb(0x5d8)]){const _0x16c190=[];for(const _0x41582f of _0x5088f8['files'])_0x16c190[_0x40f4bb(0x91f)](_0x40dd7c(_0x41582f));_0x3ea131[_0x40f4bb(0x5d8)][_0x40f4bb(0x2fd)](_0x28df2f=>_0x28df2f[_0x40f4bb(0x649)]===_0xa00ed6[_0x40f4bb(0xb45)])&&await async function(_0x51a766,_0x421bf7,_0x20391b,_0x2a9e1a,_0x587044,_0x1e867d,_0x4f39cf){const _0xe274f=_0x40f4bb;if(0x0===_0x421bf7[_0xe274f(0xbfb)])return;const _0x10fe22=[];for(const _0x5624b3 of _0x421bf7){const _0x34708f=_0x5624b3[_0xe274f(0x649)];if(!_0x34708f[_0xe274f(0x60c)](_0xe274f(0x53a)))continue;const _0x580c46=await _0x5624b3['arrayBuffer'](),_0x426822=Buffer[_0xe274f(0x218)](_0x580c46)[_0xe274f(0x4f9)](_0xe274f(0x5f6));_0x10fe22[_0xe274f(0x91f)](_0x34708f+';base64,'+_0x426822);}if(_0x587044['links'])for(const _0x11d0d0 of _0x587044[_0xe274f(0x5d8)]){if(_0x11d0d0['type']!==_0xa00ed6['File'])continue;const _0x535680=_0x1e867d[_0xe274f(0x5b4)](_0x4c09e5=>_0x4c09e5[_0xe274f(0x911)]===_0x11d0d0[_0xe274f(0x911)]);if(_0x535680){for(const _0x421940 of _0x10fe22)_0x535680[_0xe274f(0x649)]===_0x296cd7[_0xe274f(0x5ac)]&&await _0x2d2a59(_0x51a766,_0x11d0d0[_0xe274f(0x649)],_0x421940,_0x20391b,_0x2a9e1a,_0x535680,_0x1e867d,_0x4f39cf);}}}(_0x2b0757,_0x16c190,_0x5088f8,_0x31220b,_0x3ea131,_0x12e2db,_0x3ff2ea),_0x3ea131[_0x40f4bb(0x5d8)]['some'](_0x3e1924=>_0x3e1924[_0x40f4bb(0x649)]===_0xa00ed6[_0x40f4bb(0x965)])&&await async function(_0x3e1bbf,_0x2e30bf,_0x490806,_0x1fb751,_0x55115c,_0x5c58aa,_0x32780a){const _0xcbfef1=_0x40f4bb;if(0x0===_0x2e30bf['length'])return;const _0x5925a3=[];for(const _0x55fdcb of _0x2e30bf){const _0x593a3c=_0x55fdcb[_0xcbfef1(0x649)];if(!_0x593a3c['startsWith']('image/'))continue;const _0x15176e=await _0x55fdcb['arrayBuffer'](),_0x851591=Buffer[_0xcbfef1(0x218)](_0x15176e)[_0xcbfef1(0x4f9)]('base64');_0x5925a3[_0xcbfef1(0x91f)](_0x593a3c+_0xcbfef1(0x90c)+_0x851591);}if(_0x55115c[_0xcbfef1(0x5d8)])for(const _0x1edebe of _0x55115c['links']){if(_0x1edebe['type']!==_0xa00ed6[_0xcbfef1(0x965)])continue;const _0x588f39=_0x5c58aa[_0xcbfef1(0x5b4)](_0x11e2e1=>_0x11e2e1['uid']===_0x1edebe[_0xcbfef1(0x911)]);if(_0x588f39){for(const _0x432800 of _0x5925a3)_0x588f39[_0xcbfef1(0x649)]===_0x296cd7[_0xcbfef1(0x5ac)]&&await _0x2d2a59(_0x3e1bbf,_0x1edebe[_0xcbfef1(0x649)],_0x432800,_0x490806,_0x1fb751,_0x588f39,_0x5c58aa,_0x32780a);}}}(_0x2b0757,_0x16c190,_0x5088f8,_0x31220b,_0x3ea131,_0x12e2db,_0x3ff2ea),_0x3ea131[_0x40f4bb(0x5d8)][_0x40f4bb(0x2fd)](_0x5131ef=>_0x5131ef[_0x40f4bb(0x649)]===_0xa00ed6[_0x40f4bb(0x6cc)])&&await async function(_0x282c17,_0x493b72,_0x53372e,_0x97c3da,_0x2263c2,_0x2b9564,_0x14202d){const _0xad0f3c=_0x40f4bb;if(0x0===_0x493b72[_0xad0f3c(0xbfb)])return;const _0x222aea=[];for(const _0x44410a of _0x493b72){const _0x5c81f7=_0x44410a['type'];if(!_0x5c81f7[_0xad0f3c(0x60c)]('audio/')&&!_0x5c81f7[_0xad0f3c(0x60c)](_0xad0f3c(0xb40)))continue;const _0x1d80b5=await _0x44410a[_0xad0f3c(0x38c)](),_0xcb5732=Buffer[_0xad0f3c(0x218)](_0x1d80b5)[_0xad0f3c(0x4f9)]('base64');_0x222aea[_0xad0f3c(0x91f)](_0x5c81f7+_0xad0f3c(0x90c)+_0xcb5732);}if(_0x2263c2['links'])for(const _0x3957ac of _0x2263c2[_0xad0f3c(0x5d8)]){if(_0x3957ac[_0xad0f3c(0x649)]!==_0xa00ed6[_0xad0f3c(0x6cc)])continue;const _0x27b18b=_0x2b9564[_0xad0f3c(0x5b4)](_0x45a072=>_0x45a072[_0xad0f3c(0x911)]===_0x3957ac[_0xad0f3c(0x911)]);if(_0x27b18b){for(const _0x13dae3 of _0x222aea)_0x27b18b['type']===_0x296cd7[_0xad0f3c(0x5ac)]&&await _0x2d2a59(_0x282c17,_0x3957ac[_0xad0f3c(0x649)],_0x13dae3,_0x53372e,_0x97c3da,_0x27b18b,_0x2b9564,_0x14202d);}}}(_0x2b0757,_0x16c190,_0x5088f8,_0x31220b,_0x3ea131,_0x12e2db,_0x3ff2ea);}}function _0x40dd7c(_0x31b267){const _0x4d696d=_0x227435,_0x1f13b2=Uint8Array[_0x4d696d(0x218)](Buffer['from'](_0x31b267[_0x4d696d(0xae3)],_0x4d696d(0x5f6))),_0x2ece87=new Blob([_0x1f13b2],{'type':_0x31b267[_0x4d696d(0x649)]});return new File([_0x2ece87],_0x31b267['name'],{'type':_0x31b267[_0x4d696d(0x649)]});}function _0x557186(_0x4f54be,_0x45875a){const _0x50b45a=_0x227435;switch(_0x45875a[_0x50b45a(0xb0f)]){case _0x16df3c[_0x50b45a(0x957)]:return _0x50b45a(0x782);case _0x16df3c[_0x50b45a(0xb39)]:return _0x4f54be;case _0x16df3c[_0x50b45a(0x423)]:default:return _0x45875a['id'];}}async function _0x8fcb03(_0x51384e,_0x68ce33,_0x24a360,_0x433f6a,_0x34ab5d,_0x26ef4e,_0x415635){const _0x3ed2b3=_0x227435,_0x22e9d2=_0x3ed2b3(0x61d)+_0x34ab5d[_0x3ed2b3(0x60e)]+'\x20to\x20generate\x20a\x20response.',_0x56b98d={'prompt':{'type':_0x2bba8e[_0x3ed2b3(0x2a4)]['String']}};return await _0x50c690['trace']({'jobType':_0x36cb8d[_0x3ed2b3(0xa4f)],'type':_0x18ab4c[_0x3ed2b3(0x57e)],'jobId':_0x51384e,'agentId':_0x68ce33,'threadId':_0x24a360['threadId'],'traceLevel':_0x57b22b[_0x3ed2b3(0x8f3)],'startTime':Date['now'](),'timestamp':Date[_0x3ed2b3(0xb26)](),'status':_0x3ed2b3(0x8bb),'function':_0x5627c3[_0x3ed2b3(0x83a)],'params':_0x56b98d,'functionDescription':_0x22e9d2}),{'type':_0x3ed2b3(0x4f8),'description':_0x22e9d2,'params':_0x56b98d,'callback':async _0x3e043c=>_0x176d0f(_0x24a360['vendorId'],_0x34ab5d,_0x26ef4e,_0x3e043c,_0x433f6a,_0x51384e,_0x68ce33,_0x24a360[_0x3ed2b3(0x591)],_0x24a360[_0x3ed2b3(0x1f9)],_0x415635)};}async function _0x176d0f(_0x59032d,_0x79500e,_0x4c4bb1,_0x44090e,_0x4ea5f7,_0x5c82ef,_0x67cf92,_0x4d9fd3,_0xd3f3f4,_0x339805){const _0x4534c7=_0x227435,_0x3bd651=Date['now']();try{if(_0x4534c7(0x984)!=typeof _0x44090e?.[_0x4534c7(0x7ed)])throw new Error('Prompt\x20is\x20required');let _0x5274ed='';const _0x4b4885=_0x79500e['contextInputVariable']?.[_0x4534c7(0x8ab)](',')??[];let _0x18a3f9=_0x44090e[_0x4534c7(0x7ed)];for(const _0x2f434a of _0x4b4885){const _0x1db664=_0x4ea5f7?.[_0x4534c7(0x6e8)]?.[_0x2f434a];_0x1db664&&(_0x18a3f9='<'+_0x2f434a+'>\x0a'+_0x1db664+_0x4534c7(0x56e)+_0x2f434a+_0x4534c7(0xa2b)+_0x18a3f9);}const _0x33a72={'type':_0x4534c7(0x7ed),'vendorId':_0x59032d,'threadId':_0x4d9fd3,'workflowId':_0x79500e[_0x4534c7(0x31e)],'namespace':_0x79500e[_0x4534c7(0x4a7)],'jobId':_0x5c82ef,'agentId':_0x67cf92,'prompt':_0x18a3f9,'privacy':_0xd3f3f4,'internalContext':{}},_0x1de910=await _0x5be0c7['getWorkflow'](_0x59032d,_0x79500e[_0x4534c7(0x31e)]),_0x4678fa=_0x1de910[_0x4534c7(0x92b)][_0x4534c7(0x5b4)](_0x52ca5d=>_0x52ca5d[_0x4534c7(0x649)]===_0x296cd7[_0x4534c7(0x7a9)]||_0x52ca5d[_0x4534c7(0x649)]===_0x296cd7[_0x4534c7(0x25c)]||_0x52ca5d['type']===_0x296cd7[_0x4534c7(0x295)]);if(_0x339805&&_0x79500e[_0x4534c7(0x291)]){try{let _0x3f29ac=0x0,_0x1ce661=0x0,_0x2e126c='';for await(const _0x2d5e72 of _0x49f498(_0x5c82ef,_0x33a72,_0x4678fa,_0x1de910['blocks'],_0x4c4bb1))_0x2e126c+=_0x2d5e72[_0x4534c7(0xc4d)],_0x3f29ac+=_0x2d5e72[_0x4534c7(0x652)]??0x0,_0x1ce661+=_0x2d5e72[_0x4534c7(0x25b)]??0x0,_0x4ea5f7&&(_0x4ea5f7[_0x4534c7(0x6e8)]={..._0x4ea5f7[_0x4534c7(0x6e8)],..._0x2d5e72['internalContext']}),_0x339805[_0x4534c7(0x99b)]({'output':_0x2d5e72['output'],'type':_0x4534c7(0x7ed)});_0x4ea5f7&&(_0x4ea5f7[_0x4534c7(0x25b)]=(_0x4ea5f7['outputTokens']??0x0)+_0x1ce661,_0x4ea5f7['inputTokens']=(_0x4ea5f7['inputTokens']??0x0)+_0x3f29ac,_0x79500e[_0x4534c7(0x3c1)]&&(_0x4ea5f7['internalContext']||(_0x4ea5f7['internalContext']={}),_0x4ea5f7['internalContext'][_0x79500e['contextOutputVariable']]=_0x2e126c));}catch(_0x3cf485){return console[_0x4534c7(0xc13)](_0x4534c7(0xa9e)),await _0x2674de[_0x4534c7(0xa9d)](0x1),_0x339805[_0x4534c7(0x99b)](void 0x0),_0x4534c7(0x32b);}_0x339805[_0x4534c7(0x99b)]({'output':'\x0a\x0a','type':_0x4534c7(0x7ed)}),_0x5274ed='I\x20have\x20finished\x20executing\x20my\x20task.';}else{const _0x222b74=_0x3e6f44(_0x5c82ef,_0x33a72,_0x4678fa,_0x1de910['blocks'],_0x4c4bb1);if(_0x79500e['async'])return _0x4534c7(0xbaf);const _0x4a5016=await _0x222b74;_0x5274ed=_0x4a5016[_0x4534c7(0xc4d)]??'',_0x4ea5f7&&(_0x4ea5f7[_0x4534c7(0x6e8)]={..._0x4ea5f7[_0x4534c7(0x6e8)],..._0x4a5016['internalContext']},_0x4ea5f7[_0x4534c7(0x25b)]=(_0x4ea5f7[_0x4534c7(0x25b)]??0x0)+(_0x4a5016['outputTokens']??0x0),_0x4ea5f7['inputTokens']=(_0x4ea5f7[_0x4534c7(0x652)]??0x0)+(_0x4a5016[_0x4534c7(0x652)]??0x0),_0x79500e[_0x4534c7(0x3c1)]&&(_0x4ea5f7[_0x4534c7(0x6e8)]||(_0x4ea5f7[_0x4534c7(0x6e8)]={}),_0x4ea5f7[_0x4534c7(0x6e8)][_0x79500e['contextOutputVariable']]=_0x5274ed));}if(_0x4534c7(0x984)!=typeof _0x5274ed)throw new Error(_0x4534c7(0x4d7));return _0x5c82ef&&_0x67cf92&&_0x4d9fd3&&await _0x50c690[_0x4534c7(0x351)]({'jobType':_0x36cb8d[_0x4534c7(0xb10)],'type':_0x5627c3[_0x4534c7(0x83a)],'jobId':_0x5c82ef,'blockId':_0x4534c7(0x96a),'agentId':_0x67cf92,'threadId':_0x4d9fd3,'traceLevel':_0x57b22b[_0x4534c7(0x8f3)],'startTime':_0x3bd651,'timestamp':Date['now'](),'status':'success','workflowName':_0x79500e['name'],'prompt':_0x44090e[_0x4534c7(0x7ed)],'result':_0x5274ed,'inputTokens':0x0,'outputTokens':0x0}),_0x5274ed;}catch(_0x455e15){if(console[_0x4534c7(0xc13)](_0x455e15),_0x5c82ef&&_0x67cf92&&_0x4d9fd3&&await _0x50c690[_0x4534c7(0x351)]({'jobType':_0x36cb8d[_0x4534c7(0xb10)],'type':_0x5627c3[_0x4534c7(0x83a)],'jobId':_0x5c82ef,'blockId':_0x4534c7(0x96a),'agentId':_0x67cf92,'threadId':_0x4d9fd3,'traceLevel':_0x57b22b['Info'],'startTime':_0x3bd651,'timestamp':Date['now'](),'status':_0x4534c7(0xc13),'errorDetails':_0x348ac5(_0x455e15),'workflowName':_0x79500e[_0x4534c7(0xc30)],'prompt':_0x44090e?.['prompt']??'','result':'','inputTokens':0x0,'outputTokens':0x0}),_0x455e15 instanceof Error)throw _0x455e15;throw new Error(_0x4534c7(0x569));}}async function _0x479ed5(_0x22ac9f,_0x2b4242,_0x5d96b3,_0x2d90f6,_0x5cde0d){const _0x329ea0=_0x227435,_0x1929e7='Retrieve\x20the\x20current\x20question\x20from\x20the\x20form.';return await _0x50c690[_0x329ea0(0x351)]({'jobType':_0x36cb8d[_0x329ea0(0xa4f)],'type':_0x18ab4c[_0x329ea0(0x57e)],'jobId':_0x22ac9f,'agentId':_0x2b4242,'threadId':_0x5d96b3,'traceLevel':_0x57b22b[_0x329ea0(0x8f3)],'startTime':Date[_0x329ea0(0xb26)](),'timestamp':Date[_0x329ea0(0xb26)](),'status':'success','function':_0x5627c3[_0x329ea0(0x9ca)],'params':{},'functionDescription':_0x1929e7}),{'type':_0x329ea0(0x4f8),'description':_0x1929e7,'params':{},'callback':async()=>_0x5737a9(_0x5cde0d,_0x2d90f6,_0x22ac9f,_0x2b4242,_0x5d96b3)};}async function _0x5737a9(_0x31b286,_0x2a77bb,_0x42b6d0,_0x471320,_0x4487ac){const _0x2fb38c=_0x227435,_0x1554b0=Date['now']();let _0x292864=_0x31b286['name'][_0x2fb38c(0x217)](/[^a-zA-Z]/g,'');_0x292864[_0x2fb38c(0x60c)](_0x2fb38c(0xbdd))&&(_0x292864=_0x292864[_0x2fb38c(0x217)](_0x2fb38c(0xbdd),''));const _0x1e358e=_0x2fb38c(0x722)+_0x292864;let _0x1c9a29=0x0;if(_0x2a77bb){const _0xf54f29=_0x2a77bb[_0x2fb38c(0x6e8)]?.[_0x1e358e];_0xf54f29?_0x1c9a29=parseInt(_0xf54f29):(_0x1c9a29=0x0,_0x2a77bb['internalContext']||(_0x2a77bb['internalContext']={}),_0x2a77bb['internalContext'][_0x1e358e]='0');}const _0x530fc6=_0x31b286['questions']||[];if(_0x1c9a29>=_0x530fc6['length'])return JSON[_0x2fb38c(0x5dd)]({'error':_0x2fb38c(0x624)});const _0x372816=_0x530fc6[_0x1c9a29];return _0x42b6d0&&_0x471320&&_0x4487ac&&await _0x50c690['trace']({'jobType':_0x36cb8d[_0x2fb38c(0xb10)],'type':_0x5627c3[_0x2fb38c(0x9ca)],'jobId':_0x42b6d0,'agentId':_0x471320,'threadId':_0x4487ac,'blockId':'form-skill-get-question','traceLevel':_0x57b22b[_0x2fb38c(0x8f3)],'startTime':_0x1554b0,'timestamp':Date[_0x2fb38c(0xb26)](),'status':_0x2fb38c(0x8bb),'question':_0x372816[_0x2fb38c(0x514)],'currentQuestionIndex':_0x1c9a29,'questions':_0x530fc6[_0x2fb38c(0x7b9)](_0x4587b4=>_0x4587b4[_0x2fb38c(0x514)])}),JSON[_0x2fb38c(0x5dd)]({'id':_0x372816['id'],'question':_0x372816[_0x2fb38c(0x514)],'validation':_0x372816[_0x2fb38c(0x873)],'required':_0x372816[_0x2fb38c(0x948)],'format':_0x372816[_0x2fb38c(0xaef)],'action':_0x2fb38c(0x2e0)});}async function _0x4ee09c(_0x5a0eea,_0x30c165,_0x294557,_0x4da931,_0xd31e51){const _0x2b61e9=_0x227435,_0x2d5545='Set\x20the\x20answer\x20to\x20the\x20current\x20question.';return await _0x50c690[_0x2b61e9(0x351)]({'jobType':_0x36cb8d[_0x2b61e9(0xa4f)],'type':_0x18ab4c['LoadSkillFunction'],'jobId':_0x5a0eea,'agentId':_0x30c165,'threadId':_0x294557,'traceLevel':_0x57b22b[_0x2b61e9(0x8f3)],'startTime':Date['now'](),'timestamp':Date['now'](),'status':_0x2b61e9(0x8bb),'function':_0x5627c3['FormSetAnswer'],'params':{},'functionDescription':_0x2d5545}),{'type':_0x2b61e9(0x4f8),'description':_0x2d5545,'params':{'id':{'type':_0x2bba8e[_0x2b61e9(0x2a4)][_0x2b61e9(0x7d7)]},'answer':{'type':_0x2bba8e['PromptFunctionParamsType'][_0x2b61e9(0x7d7)]}},'callback':async _0x3630b2=>_0x30e7ea(_0xd31e51,_0x3630b2,_0x4da931,_0x5a0eea,_0x30c165,_0x294557)};}async function _0x30e7ea(_0x572509,_0x215b55,_0x9e03a8,_0x3a1d88,_0xb33a92,_0x1e153d){const _0x2bb28f=_0x227435,_0x12139a=Date[_0x2bb28f(0xb26)]();let _0x51cfdc=_0x572509[_0x2bb28f(0xc30)][_0x2bb28f(0x217)](/[^a-zA-Z]/g,'');_0x51cfdc[_0x2bb28f(0x60c)]('setAnswer')&&(_0x51cfdc=_0x51cfdc['replace'](_0x2bb28f(0xb44),''));const _0x568e1d='question-'+_0x51cfdc,_0x62f897=_0x572509[_0x2bb28f(0xa17)]||[];let _0x5f4cbc=0x0;if(_0x9e03a8&&(_0x5f4cbc=parseInt(_0x9e03a8[_0x2bb28f(0x6e8)]?.[_0x568e1d]??'0')),!_0x215b55?.['id']||_0x2bb28f(0x984)!=typeof _0x215b55['id'])return JSON['stringify']({'error':_0x2bb28f(0xc6b)});const _0x1ef453=_0x62f897[_0x2bb28f(0x5b4)](_0x192aef=>_0x192aef['id']===_0x215b55['id']);if(!_0x1ef453)return JSON['stringify']({'error':_0x2bb28f(0x842)});if(!_0x215b55?.[_0x2bb28f(0x44a)]||'string'!=typeof _0x215b55[_0x2bb28f(0x44a)])return JSON[_0x2bb28f(0x5dd)]({'error':'Answer\x20is\x20required\x20and\x20must\x20be\x20a\x20string'});if(_0x9e03a8){_0x9e03a8[_0x2bb28f(0x6e8)]||(_0x9e03a8[_0x2bb28f(0x6e8)]={});const _0x42dfe5=_0x2bb28f(0x768)+_0x51cfdc,_0x296234=_0x42dfe5+'-'+_0x215b55['id'];_0x9e03a8['internalContext'][_0x296234]=_0x215b55[_0x2bb28f(0x44a)];let _0x97240a=!0x1;for(let _0x19a337=0x0;_0x19a337<_0x62f897['length'];_0x19a337++){const _0x13079d=_0x9e03a8[_0x2bb28f(0x6e8)]?.[_0x42dfe5+'-'+_0x62f897[_0x19a337]['id']];if(_0x19a337!==_0x5f4cbc&&!_0x13079d){_0x5f4cbc=_0x19a337,_0x97240a=!0x0;break;}}_0x97240a||_0x5f4cbc++,_0x9e03a8[_0x2bb28f(0x6e8)][_0x568e1d]=_0x5f4cbc['toString']();}_0x3a1d88&&_0xb33a92&&_0x1e153d&&await _0x50c690[_0x2bb28f(0x351)]({'jobType':_0x36cb8d[_0x2bb28f(0xb10)],'type':_0x5627c3[_0x2bb28f(0x38f)],'jobId':_0x3a1d88,'agentId':_0xb33a92,'threadId':_0x1e153d,'blockId':'form-skill-set-answer','traceLevel':_0x57b22b[_0x2bb28f(0x8f3)],'startTime':_0x12139a,'timestamp':Date[_0x2bb28f(0xb26)](),'status':_0x2bb28f(0x8bb),'question':_0x1ef453[_0x2bb28f(0x514)],'answer':_0x215b55[_0x2bb28f(0x44a)],'currentQuestionIndex':_0x5f4cbc,'questions':_0x62f897[_0x2bb28f(0x7b9)](_0x549925=>_0x549925[_0x2bb28f(0x514)])});const _0x110d7b=_0x62f897[_0x5f4cbc];return _0x110d7b?JSON['stringify']({'id':_0x110d7b['id'],'question':_0x110d7b[_0x2bb28f(0x514)],'validation':_0x110d7b[_0x2bb28f(0x873)],'required':_0x110d7b[_0x2bb28f(0x948)],'format':_0x110d7b[_0x2bb28f(0xaef)],'action':_0x2bb28f(0x2e0)}):JSON[_0x2bb28f(0x5dd)]({'action':'No\x20more\x20questions,\x20call\x20submitForm\x20to\x20submit\x20the\x20form'});}async function _0x497b2b(_0x1825d8,_0x4671cc,_0x535502,_0x18cd72,_0x2a7339){const _0x38d757=_0x227435,_0x26c6c8='Submit\x20the\x20form.';return await _0x50c690[_0x38d757(0x351)]({'jobType':_0x36cb8d[_0x38d757(0xa4f)],'type':_0x18ab4c[_0x38d757(0x57e)],'jobId':_0x1825d8,'agentId':_0x4671cc,'threadId':_0x535502,'traceLevel':_0x57b22b['Info'],'startTime':Date[_0x38d757(0xb26)](),'timestamp':Date[_0x38d757(0xb26)](),'status':_0x38d757(0x8bb),'function':_0x5627c3['FormSubmitForm'],'params':{},'functionDescription':_0x26c6c8}),{'type':_0x38d757(0x4f8),'description':_0x26c6c8,'params':{},'callback':async()=>_0x10c763(_0x2a7339,_0x18cd72,_0x1825d8,_0x4671cc,_0x535502)};}async function _0x10c763(_0x4d52d2,_0x5d5235,_0x50ab98,_0x412b5c,_0x8db9f8){const _0xf3a8c0=_0x227435;let _0x3fa067=_0x4d52d2[_0xf3a8c0(0xc30)][_0xf3a8c0(0x217)](/[^a-zA-Z]/g,'');_0x3fa067[_0xf3a8c0(0x60c)](_0xf3a8c0(0x798))&&(_0x3fa067=_0x3fa067[_0xf3a8c0(0x217)](_0xf3a8c0(0x798),''));const _0x553f6a=_0x4d52d2['questions']||[],_0x138874={};if(!_0x5d5235)return JSON[_0xf3a8c0(0x5dd)]({'error':'Form\x20is\x20not\x20completed,\x20call\x20setAnswer\x20first'});for(let _0x26d747=0x0;_0x26d747<_0x553f6a[_0xf3a8c0(0xbfb)];_0x26d747++){const _0x1e60b3=_0x5d5235[_0xf3a8c0(0x6e8)]?.[_0xf3a8c0(0x768)+_0x3fa067+'-'+_0x553f6a[_0x26d747]['id']];if(_0x553f6a[_0x26d747]['required']&&!_0x1e60b3)return JSON[_0xf3a8c0(0x5dd)]({'error':_0xf3a8c0(0x52f)});_0x138874[_0x553f6a[_0x26d747]['id']]=_0x1e60b3;}return _0x5d5235&&_0x4d52d2[_0xf3a8c0(0x3c1)]&&(_0x5d5235[_0xf3a8c0(0x6e8)]||(_0x5d5235[_0xf3a8c0(0x6e8)]={}),_0x5d5235[_0xf3a8c0(0x6e8)][_0x4d52d2[_0xf3a8c0(0x3c1)]]=JSON[_0xf3a8c0(0x5dd)](_0x138874)),_0x50ab98&&_0x412b5c&&_0x8db9f8&&await _0x50c690['trace']({'jobType':_0x36cb8d[_0xf3a8c0(0xb10)],'type':_0x5627c3[_0xf3a8c0(0x396)],'jobId':_0x50ab98,'agentId':_0x412b5c,'threadId':_0x8db9f8,'blockId':_0xf3a8c0(0x54a),'traceLevel':_0x57b22b[_0xf3a8c0(0x8f3)],'startTime':Date[_0xf3a8c0(0xb26)](),'timestamp':Date[_0xf3a8c0(0xb26)](),'status':'success','answers':_0x138874}),JSON['stringify']({'success':!0x0});}async function _0x1a94c8(_0x562a8f,_0x5d5d2c,_0x20943b,_0xb0f3a7,_0x39884a,_0x5471ee,_0x4fdf8a){const _0x10bb57=_0x227435,_0x164853=new Map();for(const _0x39a3c1 of _0x39884a)_0x39a3c1[_0x10bb57(0x649)]===_0x2bba8e[_0x10bb57(0x517)][_0x10bb57(0x45b)]||_0x39a3c1['type']===_0x2bba8e[_0x10bb57(0x517)]['DataCollection']?_0x164853[_0x10bb57(0x9b4)]('searchInDataCollection'+_0x39a3c1[_0x10bb57(0xc30)]['replace'](/[^a-zA-Z]/g,''),await _0x40ef08(_0x562a8f,_0x5d5d2c,_0x20943b,_0xb0f3a7,_0x39a3c1)):_0x39a3c1[_0x10bb57(0x649)]===_0x2bba8e[_0x10bb57(0x517)][_0x10bb57(0x2b9)]||_0x39a3c1[_0x10bb57(0x649)]===_0x2bba8e[_0x10bb57(0x517)][_0x10bb57(0x5ac)]?_0x164853[_0x10bb57(0x9b4)]('executeAgent'+_0x39a3c1[_0x10bb57(0xc30)][_0x10bb57(0x217)](/[^a-zA-Z]/g,''),await _0x7d278(_0x562a8f,_0x5d5d2c,_0x20943b,_0xb0f3a7,_0x39a3c1,_0x5471ee,_0x4fdf8a)):_0x39a3c1[_0x10bb57(0x649)]===_0x2bba8e['GenerativeAIInferenceToolType']['WorkflowTool']?_0x164853[_0x10bb57(0x9b4)](_0x10bb57(0x712)+_0x39a3c1['name'][_0x10bb57(0x217)](/[^a-zA-Z]/g,''),await _0x8fcb03(_0x562a8f,_0x5d5d2c,_0x20943b,_0xb0f3a7,_0x39a3c1,_0x5471ee,_0x4fdf8a)):_0x39a3c1[_0x10bb57(0x649)]===_0x2bba8e['GenerativeAIInferenceToolType'][_0x10bb57(0xb46)]?_0x164853[_0x10bb57(0x9b4)](_0x39a3c1[_0x10bb57(0xc30)]['replace'](/[^a-zA-Z]/g,''),await _0x458ce4(_0x562a8f,_0x5d5d2c,_0x20943b[_0x10bb57(0x591)],_0xb0f3a7,_0x39a3c1)):_0x39a3c1['type']===_0x2bba8e[_0x10bb57(0x517)][_0x10bb57(0xb9f)]?_0x164853[_0x10bb57(0x9b4)](_0x10bb57(0xbdd)+_0x39a3c1[_0x10bb57(0xc30)][_0x10bb57(0x217)](/[^a-zA-Z]/g,''),await _0x479ed5(_0x562a8f,_0x5d5d2c,_0x20943b['threadId'],_0xb0f3a7,_0x39a3c1)):_0x39a3c1['type']===_0x2bba8e[_0x10bb57(0x517)]['FormSkillSetAnswer']?_0x164853[_0x10bb57(0x9b4)](_0x10bb57(0xb44)+_0x39a3c1[_0x10bb57(0xc30)][_0x10bb57(0x217)](/[^a-zA-Z]/g,''),await _0x4ee09c(_0x562a8f,_0x5d5d2c,_0x20943b[_0x10bb57(0x591)],_0xb0f3a7,_0x39a3c1)):_0x39a3c1[_0x10bb57(0x649)]===_0x2bba8e['GenerativeAIInferenceToolType'][_0x10bb57(0x21a)]?_0x164853[_0x10bb57(0x9b4)](_0x10bb57(0x798)+_0x39a3c1[_0x10bb57(0xc30)][_0x10bb57(0x217)](/[^a-zA-Z]/g,''),await _0x497b2b(_0x562a8f,_0x5d5d2c,_0x20943b[_0x10bb57(0x591)],_0xb0f3a7,_0x39a3c1)):_0x39a3c1['type']===_0x2bba8e[_0x10bb57(0x517)][_0x10bb57(0x81d)]?_0x164853['set'](_0x39a3c1['server_label']??'crewdle-mcp',{..._0x39a3c1,'type':_0x10bb57(0xba8)}):_0x39a3c1['type']===_0x2bba8e[_0x10bb57(0x517)][_0x10bb57(0x5e6)]?_0x164853[_0x10bb57(0x9b4)](_0x10bb57(0x4e5),{'type':_0x10bb57(0x779),'container':{'type':_0x10bb57(0x3ef)}}):_0x39a3c1['type']===_0x2bba8e[_0x10bb57(0x517)][_0x10bb57(0x4b5)]?_0x164853['set']('generateImage',{'type':'image_generation'}):_0x164853[_0x10bb57(0x9b4)](_0x11bd51(_0x39a3c1),await _0x49c019(_0x562a8f,_0x5d5d2c,_0x20943b,_0xb0f3a7,_0x39a3c1,_0x5471ee));return _0x164853;}function _0x11bd51(_0x32ff8b){const _0x4459a8=_0x227435;switch(_0x32ff8b[_0x4459a8(0x649)]){case _0x2bba8e[_0x4459a8(0x517)][_0x4459a8(0xbb9)]:return _0x4459a8(0x839);case _0x2bba8e[_0x4459a8(0x517)]['QueryFile']:return'queryFile';case _0x2bba8e['GenerativeAIInferenceToolType'][_0x4459a8(0x9e1)]:return'searchOnGoogle';case _0x2bba8e[_0x4459a8(0x517)][_0x4459a8(0xa0a)]:case _0x2bba8e['GenerativeAIInferenceToolType']['WebScraperRaw']:return _0x4459a8(0x248);case _0x2bba8e['GenerativeAIInferenceToolType'][_0x4459a8(0xbc9)]:return _0x4459a8(0x28a);}throw new Error(_0x4459a8(0xc7d));}async function _0x49c019(_0xeed596,_0x53f73e,_0x7e697c,_0x479bb6,_0x4066e2,_0x42d3ae){const _0x13ce08=_0x227435;switch(_0x4066e2['type']){case _0x2bba8e[_0x13ce08(0x517)]['AISearch']:return async function(_0x3583d4,_0x2295a2,_0x47d92b,_0x42ef4b,_0x3b2967){const _0x1fd542=_0x13ce08,_0x4089ed='Perform\x20a\x20search\x20on\x20Perplexity\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.',_0x397417={'query':{'type':_0x2bba8e[_0x1fd542(0x2a4)][_0x1fd542(0x7d7)]}};await _0x50c690[_0x1fd542(0x351)]({'jobType':_0x36cb8d[_0x1fd542(0xa4f)],'type':_0x18ab4c[_0x1fd542(0x57e)],'jobId':_0x3583d4,'agentId':_0x2295a2,'threadId':_0x47d92b[_0x1fd542(0x591)],'traceLevel':_0x57b22b[_0x1fd542(0x8f3)],'startTime':Date[_0x1fd542(0xb26)](),'timestamp':Date[_0x1fd542(0xb26)](),'status':_0x1fd542(0x8bb),'function':_0x5627c3['SearchPerplexity'],'params':_0x397417,'functionDescription':_0x4089ed});const _0x616768=_0x47d92b[_0x1fd542(0x2ae)];try{await(0x0,_0x4328ab['httpsCallable'])(_0x35b99b[_0x1fd542(0xb61)](),'validateVendorCredits')({'vendorId':_0x616768});}catch(_0xb49c23){throw console[_0x1fd542(0xc13)](_0xb49c23),new Error(_0x1fd542(0x985));}const _0x1ff69c=(await(0x0,_0x4e090a[_0x1fd542(0x2a3)])((0x0,_0x4e090a[_0x1fd542(0xa27)])(_0x35b99b[_0x1fd542(0xc63)](),'developers',_0x616768)))[_0x1fd542(0x205)](),_0x11c740=await _0x5be0c7[_0x1fd542(0x22d)]();return _0x1ff69c&&_0x1ff69c[_0x1fd542(0x7fa)]||(console['log'](new Date()+_0x1fd542(0x964),_0x42ef4b[_0x1fd542(0x46c)],_0x11c740[_0x1fd542(0x441)](_0x42ef4b[_0x1fd542(0x46c)])[_0x1fd542(0x5fe)]),_0x42ef4b[_0x1fd542(0x46c)]=_0x11c740['get'](_0x42ef4b['modelId'])[_0x1fd542(0x5fe)]),{'type':_0x1fd542(0x4f8),'description':_0x4089ed,'params':_0x397417,'callback':async _0x5d04a4=>_0x1dad36(_0x42ef4b,_0x3b2967,_0x5d04a4,_0x3583d4,_0x2295a2,_0x47d92b['threadId'])};}(_0xeed596,_0x53f73e,_0x7e697c,_0x4066e2,_0x42d3ae);case _0x2bba8e[_0x13ce08(0x517)][_0x13ce08(0x796)]:return async function(_0x2dea1f,_0x20b280,_0x2e74f4,_0x5a124b,_0x38149e){const _0x21ffc2=_0x13ce08,_0x302c16=[',',';','\x09','|',':'],_0x48243c=['\x22','\x27'];let _0x5e5424='';if(_0x21ffc2(0x8ef)===_0x5a124b[_0x21ffc2(0x6e8)]?.[_0x21ffc2(0xb7e)]&&_0x5a124b['internalContext']?.[_0x21ffc2(0xc39)]&&(_0x5e5424=_0x5a124b[_0x21ffc2(0x6e8)]['file.content']),''===_0x5e5424)throw new Error(_0x21ffc2(0x55d));const _0x59dcb0=_0x5e5424[_0x21ffc2(0x8ab)]('\x0a')[0x0];let _0x57f8df=null,_0x26b997=null,_0x45c9f7=0x0;for(const _0x342775 of _0x302c16){const _0x1ee852=(_0x59dcb0[_0x21ffc2(0xad9)](new RegExp('\x5c'+_0x342775,'g'))||[])[_0x21ffc2(0xbfb)];_0x1ee852>_0x45c9f7&&(_0x45c9f7=_0x1ee852,_0x57f8df=_0x342775);}_0x57f8df||(_0x57f8df=','),_0x45c9f7=0x0;for(const _0x13faae of _0x48243c){const _0xd8a24a=(_0x59dcb0[_0x21ffc2(0xad9)](new RegExp('\x5c'+_0x13faae,'g'))||[])[_0x21ffc2(0xbfb)];_0xd8a24a>_0x45c9f7&&(_0x45c9f7=_0xd8a24a,_0x26b997=_0x13faae);}_0x26b997||(_0x26b997='\x22');const _0x3e06ec='Execute\x20a\x20SQL\x20query\x20on\x20a\x20file\x20to\x20retrieve\x20data.\x20The\x20query\x20should\x20be\x20designed\x20to\x20extract\x20relevant\x20information\x20from\x20the\x20file.\x20Available\x20table\x20is\x20file\x20and\x20columns\x20are:\x20'+_0x59dcb0[_0x21ffc2(0x8ab)](_0x57f8df)[_0x21ffc2(0x2b2)](',\x20'),_0x12abca={'query':{'type':_0x2bba8e[_0x21ffc2(0x2a4)][_0x21ffc2(0x7d7)]}};return await _0x50c690[_0x21ffc2(0x351)]({'jobType':_0x36cb8d[_0x21ffc2(0xa4f)],'type':_0x18ab4c[_0x21ffc2(0x57e)],'jobId':_0x2dea1f,'agentId':_0x20b280,'threadId':_0x2e74f4,'traceLevel':_0x57b22b['Info'],'startTime':Date[_0x21ffc2(0xb26)](),'timestamp':Date[_0x21ffc2(0xb26)](),'status':_0x21ffc2(0x8bb),'function':_0x5627c3[_0x21ffc2(0x796)],'params':_0x12abca,'functionDescription':_0x3e06ec}),{'type':_0x21ffc2(0x4f8),'description':_0x3e06ec,'params':_0x12abca,'callback':async _0x1366c2=>{const _0x416113=_0x21ffc2,_0x452c15=Date['now']();try{if(!_0x38149e[_0x416113(0xbd0)])throw new Error(_0x416113(0x9c8));if(_0x416113(0x984)!=typeof _0x1366c2?.[_0x416113(0x97f)])throw new Error(_0x416113(0x5e7));if(!_0x1366c2['query'][_0x416113(0x771)](_0x416113(0x488)))throw new Error(_0x416113(0x6d8));const _0x16e99f=await _0x38149e['queryFileConnector']['executeQuery'](_0x5e5424,_0x1366c2[_0x416113(0x97f)],{'headers':!0x0,'quote':_0x26b997,'separator':_0x57f8df});await _0x50c690['trace']({'jobType':_0x36cb8d[_0x416113(0xb10)],'type':_0x5627c3['QueryFile'],'jobId':_0x2dea1f,'agentId':_0x20b280,'threadId':_0x2e74f4,'blockId':_0x416113(0x49d),'traceLevel':_0x57b22b['Info'],'startTime':_0x452c15,'timestamp':Date[_0x416113(0xb26)](),'status':'success','query':_0x1366c2[_0x416113(0x97f)],'results':_0x16e99f[_0x416113(0x353)](0x0,0x3e8)});const _0x1e6336=JSON[_0x416113(0x77c)](_0x16e99f);let _0x3352ea='';if(_0x1e6336[_0x416113(0xbfb)]>0x0){const _0x42bda3=Object[_0x416113(0x8d8)](_0x1e6336[0x0]);_0x3352ea=_0x42bda3[_0x416113(0x7b9)](_0x3fd3f3=>'\x22'+_0x3fd3f3+'\x22')[_0x416113(0x2b2)](',')+'\x0a';for(const _0x7157f1 of _0x1e6336)_0x3352ea+=_0x42bda3['map'](_0x3d00b3=>'\x22'+_0x7157f1[_0x3d00b3]+'\x22')[_0x416113(0x2b2)](',')+'\x0a';}return _0x5a124b[_0x416113(0x6e8)]||(_0x5a124b[_0x416113(0x6e8)]={}),_0x5a124b[_0x416113(0x6e8)][_0x416113(0xc39)]=_0x3352ea,_0x5a124b[_0x416113(0x6e8)]['file.type']=_0x416113(0x8ef),_0x16e99f[_0x416113(0x353)](0x0,0x3e8);}catch(_0x5ec39a){return console['error'](_0x5ec39a),await _0x50c690['trace']({'jobType':_0x36cb8d[_0x416113(0xb10)],'type':_0x5627c3[_0x416113(0x796)],'jobId':_0x2dea1f,'blockId':_0x416113(0x49d),'traceLevel':_0x57b22b['Info'],'startTime':_0x452c15,'timestamp':Date[_0x416113(0xb26)](),'status':'error','errorDetails':_0x348ac5(_0x5ec39a),'agentId':_0x20b280,'threadId':_0x2e74f4,'query':_0x1366c2?.[_0x416113(0x97f)]??'','results':'Error\x20searching'}),_0x5ec39a instanceof Error?_0x5ec39a[_0x416113(0x325)]:'Error\x20querying\x20file';}}};}(_0xeed596,_0x53f73e,_0x7e697c[_0x13ce08(0x591)],_0x479bb6,_0x42d3ae);case _0x2bba8e[_0x13ce08(0x517)]['Search']:return async function(_0x52b684,_0x1ada22,_0xddb1fe,_0x54fd83){const _0x4ee3e6=_0x13ce08,_0x415d58=_0x4ee3e6(0x1f5),_0x1ef8d1={'query':{'type':_0x2bba8e[_0x4ee3e6(0x2a4)][_0x4ee3e6(0x7d7)]}};return await _0x50c690[_0x4ee3e6(0x351)]({'jobType':_0x36cb8d[_0x4ee3e6(0xa4f)],'type':_0x18ab4c[_0x4ee3e6(0x57e)],'jobId':_0x52b684,'agentId':_0x1ada22,'threadId':_0xddb1fe,'traceLevel':_0x57b22b['Info'],'startTime':Date[_0x4ee3e6(0xb26)](),'timestamp':Date[_0x4ee3e6(0xb26)](),'status':_0x4ee3e6(0x8bb),'function':_0x5627c3[_0x4ee3e6(0x389)],'params':_0x1ef8d1,'functionDescription':_0x415d58}),{'type':_0x4ee3e6(0x4f8),'description':_0x415d58,'params':_0x1ef8d1,'callback':async _0x576076=>_0x586b8e(_0x54fd83,_0x576076,_0x52b684,_0x1ada22,_0xddb1fe)};}(_0xeed596,_0x53f73e,_0x7e697c[_0x13ce08(0x591)],_0x42d3ae);case _0x2bba8e[_0x13ce08(0x517)]['WebScraper']:return _0x56b155(_0xeed596,_0x53f73e,_0x7e697c[_0x13ce08(0x591)]);case _0x2bba8e[_0x13ce08(0x517)][_0x13ce08(0x6fc)]:return _0x56b155(_0xeed596,_0x53f73e,_0x7e697c[_0x13ce08(0x591)],!0x1);case _0x2bba8e[_0x13ce08(0x517)][_0x13ce08(0xbc9)]:return async function(_0x1273e2,_0x2056e8,_0x2352df,_0x1f888e){const _0x201265=_0x13ce08,_0x3cac37=_0x201265(0x343),_0x5c07fd={'text':{'type':_0x2bba8e[_0x201265(0x2a4)][_0x201265(0x7d7)]}};return await _0x50c690[_0x201265(0x351)]({'jobType':_0x36cb8d[_0x201265(0xa4f)],'type':_0x18ab4c['LoadSkillFunction'],'jobId':_0x1273e2,'agentId':_0x2056e8,'threadId':_0x2352df,'traceLevel':_0x57b22b[_0x201265(0x8f3)],'startTime':Date[_0x201265(0xb26)](),'timestamp':Date[_0x201265(0xb26)](),'status':_0x201265(0x8bb),'function':_0x5627c3[_0x201265(0xbc9)],'params':_0x5c07fd,'functionDescription':_0x3cac37}),{'type':_0x201265(0x4f8),'description':_0x3cac37,'params':_0x5c07fd,'callback':async _0x823f76=>{const _0x48b741=_0x201265,_0x4635bd=Date[_0x48b741(0xb26)]();try{if(_0x48b741(0x984)!=typeof _0x823f76?.[_0x48b741(0x335)])throw new Error(_0x48b741(0x82e));return await _0x50c690[_0x48b741(0x351)]({'jobType':_0x36cb8d[_0x48b741(0xb10)],'type':_0x5627c3[_0x48b741(0xbc9)],'jobId':_0x1273e2,'agentId':_0x2056e8,'threadId':_0x2352df,'blockId':_0x48b741(0xa54),'traceLevel':_0x57b22b[_0x48b741(0x8f3)],'startTime':_0x4635bd,'timestamp':Date[_0x48b741(0xb26)](),'status':_0x48b741(0x8bb),'content':_0x823f76[_0x48b741(0x335)]}),_0x1f888e[_0x48b741(0x6e8)]||(_0x1f888e[_0x48b741(0x6e8)]={}),_0x1f888e[_0x48b741(0x6e8)][_0x48b741(0xc39)]=_0x823f76['text'],_0x1f888e['internalContext'][_0x48b741(0xb7e)]=_0x48b741(0x7d8),'Done';}catch(_0x585d99){return console[_0x48b741(0xc13)](_0x585d99),await _0x50c690[_0x48b741(0x351)]({'jobType':_0x36cb8d['Skill'],'type':_0x5627c3[_0x48b741(0xbc9)],'jobId':_0x1273e2,'blockId':'write-file','traceLevel':_0x57b22b[_0x48b741(0x8f3)],'startTime':_0x4635bd,'timestamp':Date[_0x48b741(0xb26)](),'status':_0x48b741(0xc13),'errorDetails':_0x348ac5(_0x585d99),'agentId':_0x2056e8,'threadId':_0x2352df,'content':'string'==typeof _0x823f76?.['text']?_0x823f76[_0x48b741(0x335)]:''}),_0x585d99 instanceof Error?_0x585d99[_0x48b741(0x325)]:_0x48b741(0xb8a);}}};}(_0xeed596,_0x53f73e,_0x7e697c[_0x13ce08(0x591)],_0x479bb6);}throw new Error(_0x13ce08(0xc7d));}function _0x348ac5(_0x30c6fc){const _0x42eb17=_0x227435;try{return JSON[_0x42eb17(0x5dd)](_0x30c6fc);}catch(_0x3f0072){return _0x30c6fc instanceof Error?_0x30c6fc['toString']():_0x42eb17(0xac5);}}async function _0x1bf211(_0x26989e,_0x962b3a,_0x1d3743){const _0x462f4b=_0x227435,_0x23e86f=_0x962b3a[_0x462f4b(0x81e)]??(0x0,_0x4821d1['v4'])(),_0x4fde25={'type':'prompt','context':[],'internalContext':_0x962b3a[_0x462f4b(0x6e8)]??{},'inputTokens':0x0,'outputTokens':0x0},_0x5bf95a=_0x962b3a[_0x462f4b(0x2ae)];try{await(0x0,_0x4328ab[_0x462f4b(0x855)])(_0x35b99b[_0x462f4b(0xb61)](),_0x462f4b(0x469))({'vendorId':_0x5bf95a});}catch(_0x121b1e){throw console[_0x462f4b(0xc13)](_0x121b1e),new Error(_0x462f4b(0x985));}const _0x1bbc8a=(await(0x0,_0x4e090a[_0x462f4b(0x2a3)])((0x0,_0x4e090a[_0x462f4b(0xa27)])(_0x35b99b['getFirestore'](),_0x462f4b(0x436),_0x5bf95a)))[_0x462f4b(0x205)](),_0x4b11c2=await _0x5be0c7[_0x462f4b(0x22d)]();_0x1bbc8a&&_0x1bbc8a['organizationId']||(console[_0x462f4b(0xbf2)](new Date()+_0x462f4b(0x964),_0x962b3a['model'],_0x4b11c2['get'](_0x962b3a[_0x462f4b(0xb00)])['fallbackModel']),_0x962b3a[_0x462f4b(0xb00)]=_0x4b11c2['get'](_0x962b3a[_0x462f4b(0xb00)])[_0x462f4b(0x5fe)]);const _0x2b1143=await async function(_0x2f4af3,_0x18fd56,_0x328106,_0xd62327,_0x5ed9db){const _0x30a02e=_0x462f4b,_0x4365ca=_0x5ed9db[_0x30a02e(0x827)][_0x30a02e(0x5b4)](_0x5a67a7=>_0x5a67a7['id']===_0x328106[_0x30a02e(0xb00)]);if(!_0x4365ca)throw new Error('Model\x20not\x20found');const _0x1509b1=_0x5ed9db['generativeAIWorkerConnectors'][_0x30a02e(0x5b4)](_0x2ea353=>_0x2ea353[_0x30a02e(0xc27)]()===_0x4365ca[_0x30a02e(0x76d)]);if(!_0x1509b1)throw new Error(_0x30a02e(0x4b3));const _0x390987=await _0x1a94c8(_0x2f4af3,_0x18fd56,_0x328106,_0xd62327,_0x328106[_0x30a02e(0x23b)]??[],_0x5ed9db);return _0x1509b1[_0x30a02e(0x978)]({'type':_0x30a02e(0x7ed),'prompt':_0x328106[_0x30a02e(0x7ed)],'instructions':_0x328106[_0x30a02e(0xa35)],'reasoning':_0x328106[_0x30a02e(0xa3a)],'verbosity':_0x328106[_0x30a02e(0xad7)],'grammar':_0x328106[_0x30a02e(0x222)],'temperature':_0x328106[_0x30a02e(0x51c)],'maxTokens':_0x328106[_0x30a02e(0xb0a)],'history':_0x328106[_0x30a02e(0x950)],'privacy':_0x328106[_0x30a02e(0x1f9)],'voice':_0x328106[_0x30a02e(0x8bd)],'language':_0x328106[_0x30a02e(0x587)],'responseFormat':_0x328106[_0x30a02e(0x4ec)],'timestampGranularities':_0x328106[_0x30a02e(0x57d)],'duration':_0x328106[_0x30a02e(0x82d)],'ratio':_0x328106[_0x30a02e(0x3be)],'functions':_0x390987,'threadId':_0x328106['threadId']},{'model':_0x4365ca,'sequences':Array[_0x30a02e(0x218)](_0x390987[_0x30a02e(0x8d8)]())[_0x30a02e(0x2fd)](_0xf6883f=>_0xf6883f[_0x30a02e(0x60c)](_0x30a02e(0x7b6)))?0x2:0x1});}(_0x26989e,_0x23e86f,_0x962b3a,_0x4fde25,_0x1d3743);return _0x50c690[_0x462f4b(0x20f)](_0x26989e,_0x962b3a[_0x462f4b(0xb00)],_0x2b1143[_0x462f4b(0x652)]??0x0,_0x2b1143['outputTokens']??0x0),console[_0x462f4b(0xbf2)](new Date()+_0x462f4b(0x7f4),_0x962b3a[_0x462f4b(0xb00)],_0x2b1143[_0x462f4b(0x652)]??0x0,_0x2b1143[_0x462f4b(0x25b)]??0x0),{'type':_0x462f4b(0x7ed),'output':_0x2b1143[_0x462f4b(0xc4d)],'resultFile':_0x2b1143[_0x462f4b(0x550)],'context':_0x4fde25[_0x462f4b(0xae5)],'internalContext':_0x4fde25[_0x462f4b(0x6e8)]??{},'inputTokens':_0x2b1143[_0x462f4b(0x652)]??0x0,'outputTokens':_0x2b1143['outputTokens']??0x0};}async function _0x27744f(_0x25ac58,_0x346fcf){const _0x7f3d6e=_0x227435,_0x540bdf=await async function(_0x2c68ec,_0x2f5372){const _0x583573=a0_0x5d01,_0x497da5=_0x2f5372[_0x583573(0x827)][_0x583573(0x5b4)](_0x55a570=>_0x55a570['id']===_0x2c68ec['model']);if(!_0x497da5)throw new Error(_0x583573(0xa08));const _0x1337d3=_0x2f5372[_0x583573(0x861)][_0x583573(0x5b4)](_0x1fd7a0=>_0x1fd7a0[_0x583573(0xc27)]()===_0x497da5[_0x583573(0x76d)]);if(!_0x1337d3)throw new Error(_0x583573(0x4b3));return _0x1337d3[_0x583573(0x978)]({'type':_0x583573(0x7ed),'prompt':_0x2c68ec['text'],'threadId':_0x2c68ec[_0x583573(0x591)]},{'model':_0x497da5,'sequences':0x1});}(_0x25ac58,_0x346fcf);return{'type':'prompt','output':_0x540bdf[_0x7f3d6e(0xc4d)],'inputTokens':_0x540bdf[_0x7f3d6e(0x652)]??0x0,'outputTokens':_0x540bdf[_0x7f3d6e(0x25b)]??0x0};}async function _0x5438a7(_0xe1befa,_0x18917e){const _0xb155c8=_0x227435;let _0x4165df='',_0x44c37d={'type':_0xb155c8(0x7ed),'internalContext':_0xe1befa[_0xb155c8(0x6e8)]??{}};switch(_0xe1befa['tool']['type']){case _0x2bba8e[_0xb155c8(0x517)][_0xb155c8(0x5ac)]:case _0x2bba8e[_0xb155c8(0x517)][_0xb155c8(0x2b9)]:_0x4165df=await _0x27ff96(_0xe1befa['vendorId'],_0xe1befa[_0xb155c8(0xb5d)],_0x18917e,_0xe1befa['arguments'],_0x44c37d);break;case _0x2bba8e['GenerativeAIInferenceToolType'][_0xb155c8(0xbb9)]:_0x4165df=await _0x1dad36(_0xe1befa['tool'],_0x18917e,_0xe1befa[_0xb155c8(0x3ac)]);break;case _0x2bba8e[_0xb155c8(0x517)][_0xb155c8(0x2bd)]:case _0x2bba8e[_0xb155c8(0x517)][_0xb155c8(0x45b)]:_0x4165df=await _0x1de65c(_0xe1befa[_0xb155c8(0x2ae)],_0xe1befa[_0xb155c8(0xb5d)],_0xe1befa[_0xb155c8(0x3ac)],_0x44c37d);break;case _0x2bba8e[_0xb155c8(0x517)][_0xb155c8(0xb46)]:_0x4165df=await _0x2f33e8(_0xe1befa[_0xb155c8(0xb5d)],_0xe1befa['arguments'],_0x44c37d);break;case _0x2bba8e[_0xb155c8(0x517)][_0xb155c8(0xa0a)]:_0x4165df=await _0xb1018c(_0xe1befa[_0xb155c8(0x3ac)]);break;case _0x2bba8e[_0xb155c8(0x517)][_0xb155c8(0x6fc)]:_0x4165df=await _0xb1018c(_0xe1befa[_0xb155c8(0x3ac)],!0x1);break;case _0x2bba8e[_0xb155c8(0x517)]['Search']:_0x4165df=await _0x586b8e(_0x18917e,_0xe1befa['arguments']);break;case _0x2bba8e['GenerativeAIInferenceToolType'][_0xb155c8(0xb9f)]:_0x4165df=await _0x5737a9(_0xe1befa[_0xb155c8(0xb5d)],_0x44c37d);break;case _0x2bba8e[_0xb155c8(0x517)][_0xb155c8(0x5b3)]:_0x4165df=await _0x30e7ea(_0xe1befa[_0xb155c8(0xb5d)],_0xe1befa[_0xb155c8(0x3ac)],_0x44c37d);break;case _0x2bba8e['GenerativeAIInferenceToolType'][_0xb155c8(0x21a)]:_0x4165df=await _0x10c763(_0xe1befa['tool'],_0x44c37d);break;case _0x2bba8e[_0xb155c8(0x517)][_0xb155c8(0xa21)]:_0xe1befa['tool'][_0xb155c8(0xa8b)]?_0x4165df=await _0x176d0f(_0xe1befa[_0xb155c8(0x2ae)],_0xe1befa[_0xb155c8(0xb5d)],_0x18917e,_0xe1befa[_0xb155c8(0x3ac)],_0x44c37d):(_0x176d0f(_0xe1befa['vendorId'],_0xe1befa[_0xb155c8(0xb5d)],_0x18917e,_0xe1befa[_0xb155c8(0x3ac)],_0x44c37d),_0x4165df=_0xb155c8(0xbaf));}return{'type':_0xb155c8(0x6d9),'output':_0x4165df,'internalContext':_0x44c37d['internalContext']??{}};}async function*_0x58158d(_0x549354,_0x535a72,_0x2a2f61){const _0x1fd54d=_0x227435,_0x58c390=_0x535a72[_0x1fd54d(0x81e)]??(0x0,_0x4821d1['v4'])(),_0x363372={'type':'prompt','context':[],'internalContext':_0x535a72['internalContext']??{},'inputTokens':0x0,'outputTokens':0x0},_0xf062ce=new _0x5c093f(),_0x1d17b4=_0x535a72[_0x1fd54d(0x2ae)];try{await(0x0,_0x4328ab['httpsCallable'])(_0x35b99b[_0x1fd54d(0xb61)](),'validateVendorCredits')({'vendorId':_0x1d17b4});}catch(_0x50215c){throw console[_0x1fd54d(0xc13)](_0x1fd54d(0x989),_0x50215c),new Error(_0x1fd54d(0x985));}const _0x4f6302=(await(0x0,_0x4e090a[_0x1fd54d(0x2a3)])((0x0,_0x4e090a[_0x1fd54d(0xa27)])(_0x35b99b[_0x1fd54d(0xc63)](),'developers',_0x1d17b4)))[_0x1fd54d(0x205)](),_0x2162ca=await _0x5be0c7['getModelPrices']();_0x4f6302&&_0x4f6302[_0x1fd54d(0x7fa)]||(console[_0x1fd54d(0xbf2)](new Date()+_0x1fd54d(0x964),_0x535a72['model'],_0x2162ca[_0x1fd54d(0x441)](_0x535a72[_0x1fd54d(0xb00)])[_0x1fd54d(0x5fe)]),_0x535a72[_0x1fd54d(0xb00)]=_0x2162ca['get'](_0x535a72[_0x1fd54d(0xb00)])[_0x1fd54d(0x5fe)]),async function(_0x1323eb,_0x16034d,_0x52aaed,_0x3ce93c,_0x5b984b,_0x4aadb1){const _0xb855d3=_0x1fd54d,_0x3e578e=_0x4aadb1[_0xb855d3(0x827)][_0xb855d3(0x5b4)](_0x1f12e8=>_0x1f12e8['id']===_0x52aaed[_0xb855d3(0xb00)]);if(!_0x3e578e)throw new Error(_0xb855d3(0xa08));const _0x542d18=_0x4aadb1['generativeAIWorkerConnectors'][_0xb855d3(0x5b4)](_0x3504e0=>_0x3504e0['getEngineType']()===_0x3e578e['engineType']);if(!_0x542d18)throw new Error(_0xb855d3(0x4b3));const _0x3ccc7e={'type':_0xb855d3(0x7ed),'output':''},_0x10aed9=await _0x1a94c8(_0x1323eb,_0x16034d,_0x52aaed,_0x3ce93c,_0x52aaed[_0xb855d3(0x23b)]??[],_0x4aadb1,_0x5b984b);for await(const _0x4c1784 of _0x542d18[_0xb855d3(0x49f)]({'type':_0xb855d3(0x7ed),'prompt':_0x52aaed[_0xb855d3(0x7ed)],'instructions':_0x52aaed['instructions'],'reasoning':_0x52aaed[_0xb855d3(0xa3a)],'verbosity':_0x52aaed[_0xb855d3(0xad7)],'grammar':_0x52aaed[_0xb855d3(0x222)],'temperature':_0x52aaed['temperature'],'maxTokens':_0x52aaed[_0xb855d3(0xb0a)],'history':_0x52aaed[_0xb855d3(0x950)],'privacy':_0x52aaed['privacy'],'voice':_0x52aaed['voice'],'language':_0x52aaed[_0xb855d3(0x587)],'responseFormat':_0x52aaed[_0xb855d3(0x4ec)],'timestampGranularities':_0x52aaed['timestampGranularities'],'duration':_0x52aaed['duration'],'ratio':_0x52aaed[_0xb855d3(0x3be)],'functions':_0x10aed9,'threadId':_0x52aaed['threadId']},{'model':_0x3e578e,'sequences':Array[_0xb855d3(0x218)](_0x10aed9[_0xb855d3(0x8d8)]())['some'](_0x401b1d=>_0x401b1d[_0xb855d3(0x60c)]('executeAgent'))?0x2:0x1}))_0x5b984b[_0xb855d3(0x99b)](_0x4c1784),_0xb855d3(0x984)==typeof _0x3ccc7e['output']&&_0xb855d3(0x984)==typeof _0x4c1784['output']&&(_0x3ccc7e[_0xb855d3(0xc4d)]+=_0x4c1784[_0xb855d3(0xc4d)]),_0x3ccc7e[_0xb855d3(0x652)]=_0x4c1784['inputTokens'],_0x3ccc7e[_0xb855d3(0x25b)]=_0x4c1784[_0xb855d3(0x25b)];await _0x2674de[_0xb855d3(0xa9d)](0x1),_0x5b984b[_0xb855d3(0x99b)](void 0x0);}(_0x549354,_0x58c390,_0x535a72,_0x363372,_0xf062ce,_0x2a2f61);let _0x55e1fa,_0x10ce87='',_0x37f495=0x0,_0x5b96a5=0x0,_0x2db408={'type':_0x1fd54d(0x7ed)};for(;;){const _0x3fd716=await _0xf062ce['once']();if(!_0x3fd716)break;_0x10ce87+=_0x3fd716['output'],_0x3fd716['resultFile']&&(_0x55e1fa=_0x3fd716['resultFile']),_0x2db408={'type':_0x1fd54d(0x7ed),'output':_0x3fd716['output'],'context':_0x363372['context'],'internalContext':{},'inputTokens':_0x3fd716['inputTokens']??0x0,'outputTokens':_0x3fd716[_0x1fd54d(0x25b)]??0x0},_0x37f495+=_0x3fd716['inputTokens']??0x0,_0x5b96a5+=_0x3fd716[_0x1fd54d(0x25b)]??0x0,((_0x3fd716[_0x1fd54d(0x652)]??0x0)>0x0||(_0x3fd716[_0x1fd54d(0x25b)]??0x0)>0x0)&&console[_0x1fd54d(0xbf2)](new Date()+_0x1fd54d(0x88c),_0x535a72['model'],_0x3fd716[_0x1fd54d(0x652)]??0x0,_0x3fd716[_0x1fd54d(0x25b)]??0x0),yield _0x2db408;}_0x50c690['logUsage'](_0x549354,_0x535a72[_0x1fd54d(0xb00)],_0x37f495,_0x5b96a5),console[_0x1fd54d(0xbf2)](new Date()+_0x1fd54d(0xb2d),_0x535a72[_0x1fd54d(0xb00)],_0x37f495,_0x5b96a5),yield{..._0x2db408,'output':'','resultFile':_0x55e1fa,'internalContext':_0x363372['internalContext']??{}};}async function _0x93aa4c(_0x35a6f8,_0x128a76,_0x55f818,_0x1fc6b1,_0x55ee5b,_0x43497a){const _0x206eb8=_0x227435,_0x536a82=Date['now']();if(!_0x43497a[_0x206eb8(0x827)][_0x206eb8(0x5b4)](_0x2af84c=>_0x2af84c['id']===_0x1fc6b1[_0x206eb8(0x46c)]))throw new Error(_0x206eb8(0xa08));const _0x586687=(0x0,_0x4821d1['v4'])(),_0x52f6ad=[];_0x52f6ad[_0x206eb8(0x91f)]({'role':_0x206eb8(0x41b),'content':_0x1fc6b1[_0x206eb8(0xa35)]}),_0x52f6ad[_0x206eb8(0x91f)]({'role':_0x206eb8(0x7b3),'content':_0x55f818});const _0x155217=await fetch(_0x2b8337['apiUrl']+_0x206eb8(0x9d8),{'method':_0x206eb8(0xa0f),'headers':{'Content-Type':_0x206eb8(0x5d1),'x-vendor-id':_0x35a6f8},'body':JSON['stringify']({'model':_0x1fc6b1['modelId'],'messages':_0x52f6ad,'max_completion_tokens':_0x1fc6b1[_0x206eb8(0xb0a)],'temperature':_0x1fc6b1['temperature'],'threadId':_0x586687})}),_0x497587=(await _0x155217[_0x206eb8(0x515)]())['choices'][0x0][_0x206eb8(0x325)][_0x206eb8(0xae3)];await _0x50c690[_0x206eb8(0x351)]({'jobType':_0x36cb8d[_0x206eb8(0x97d)],'type':_0x264183['Agent'],'jobId':_0x128a76,'blockId':_0x1fc6b1['id'],'traceLevel':_0x57b22b['Debug'],'timestamp':Date[_0x206eb8(0xb26)](),'startTime':_0x536a82,'status':_0x206eb8(0x8bb),'agentId':_0x586687,'content':_0x55f818,'instructions':_0x1fc6b1['instructions'],'result':_0x497587});const _0x4a12ec=[];if(_0x1fc6b1[_0x206eb8(0x5d8)]?.[_0x206eb8(0x2fd)](_0x5855f8=>_0x5855f8[_0x206eb8(0x649)]===_0xa00ed6[_0x206eb8(0xad3)]))return _0x4a12ec[_0x206eb8(0x91f)]({'content':_0x497587,'start':0x0,'length':_0x497587[_0x206eb8(0xbfb)]}),await _0x3d50fc(_0x35a6f8,_0x128a76,_0x4a12ec,_0x1fc6b1,_0x55ee5b,_0x43497a),void await _0x3d50fc(_0x35a6f8,_0x128a76,_0x497587,_0x1fc6b1,_0x55ee5b,_0x43497a);_0x4a12ec[_0x206eb8(0x91f)]({'content':_0x497587,'start':0x0,'length':_0x55f818['length']}),await _0x3d50fc(_0x35a6f8,_0x128a76,_0x4a12ec,_0x1fc6b1,_0x55ee5b,_0x43497a);}async function _0x4cbafa(_0x12cf60,_0x3e4c1a,_0x1041ea,_0x472408,_0x4b82fb,_0x30b8da){const _0x2ee30d=_0x227435,_0x4dc6b4=Date[_0x2ee30d(0xb26)]();let _0x3ff67c=[];if(_0x1041ea instanceof Array)for(const _0x16c46e of _0x1041ea){if(_0x2ee30d(0x984)!=typeof _0x16c46e[_0x2ee30d(0xae3)])throw new Error(_0x2ee30d(0x78c));_0x3ff67c=_0x3ff67c[_0x2ee30d(0x2b7)](_0x320fb1(_0x16c46e[_0x2ee30d(0xae3)],_0x472408,_0x16c46e['start'],_0x16c46e[_0x2ee30d(0xbfb)]));}else _0x3ff67c=_0x320fb1(_0x1041ea,_0x472408);await _0x50c690[_0x2ee30d(0x351)]({'jobType':_0x36cb8d[_0x2ee30d(0x97d)],'type':_0x264183[_0x2ee30d(0x767)],'traceLevel':_0x57b22b[_0x2ee30d(0x51a)],'jobId':_0x3e4c1a,'blockId':_0x472408['id'],'startTime':_0x4dc6b4,'timestamp':Date['now'](),'status':_0x2ee30d(0x8bb),'totalChunks':_0x3ff67c[_0x2ee30d(0xbfb)],'chunkSize':_0x472408[_0x2ee30d(0x9da)][_0x2ee30d(0x9e7)]}),await _0x3d50fc(_0x12cf60,_0x3e4c1a,_0x3ff67c,_0x472408,_0x4b82fb,_0x30b8da);}function _0x320fb1(_0x142923,_0x429f94,_0x1693d4,_0x346de3){const _0x57c5f8=_0x227435,_0x25fc98=[];for(let _0x40af00=0x0;_0x40af00<_0x142923['length'];_0x40af00+=_0x429f94[_0x57c5f8(0x9da)][_0x57c5f8(0x9e7)]){let _0x172597=_0x40af00-_0x429f94[_0x57c5f8(0x9da)]['overlap'];_0x172597<0x0&&(_0x172597=0x0);let _0x40ea10=_0x40af00+_0x429f94[_0x57c5f8(0x9da)][_0x57c5f8(0x9e7)]+_0x429f94[_0x57c5f8(0x9da)][_0x57c5f8(0x9f0)];_0x40ea10>_0x142923[_0x57c5f8(0xbfb)]&&(_0x40ea10=_0x142923[_0x57c5f8(0xbfb)]);const _0x16bc62=_0x142923['substring'](_0x172597,_0x40ea10);_0x25fc98[_0x57c5f8(0x91f)]({'content':_0x16bc62,'start':_0x1693d4??_0x40af00,'length':_0x346de3??(_0x40af00+_0x429f94[_0x57c5f8(0x9da)]['size']>_0x142923[_0x57c5f8(0xbfb)]?_0x142923['length']-_0x40af00:_0x429f94['attributes'][_0x57c5f8(0x9e7)])});}return _0x25fc98;}async function _0x37672e(_0x563d2e,_0x13ef2e,_0xfb1d5c,_0x154fbf,_0x33f35a,_0x33eff9){const _0x50d16a=_0x227435,_0x3aa7d8=Date['now']();let _0x2cead5;if(_0xfb1d5c['file'][_0x50d16a(0x649)][_0x50d16a(0x60c)](_0x50d16a(0xa73))||_0x2ef96f(_0xfb1d5c[_0x50d16a(0x8fb)][_0x50d16a(0xc30)],_0xf15676))_0x2cead5=await _0xfb1d5c['file'][_0x50d16a(0x335)]();else{if(!_0x33eff9[_0x50d16a(0x502)]['supports'](_0xfb1d5c[_0x50d16a(0x8fb)]))throw new Error('Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20'+_0xfb1d5c[_0x50d16a(0x8fb)][_0x50d16a(0x649)]+_0x50d16a(0x6ac)+_0xfb1d5c[_0x50d16a(0x8fb)][_0x50d16a(0xc30)]);_0x2cead5=await _0x33eff9[_0x50d16a(0x502)]['parse'](_0xfb1d5c[_0x50d16a(0x8fb)]);}await _0x50c690[_0x50d16a(0x351)]({'jobType':_0x36cb8d[_0x50d16a(0x97d)],'type':_0x264183['DocumentParser'],'traceLevel':_0x57b22b[_0x50d16a(0x51a)],'blockId':_0x154fbf['id'],'jobId':_0x13ef2e,'startTime':_0x3aa7d8,'timestamp':Date[_0x50d16a(0xb26)](),'status':_0x50d16a(0x8bb),'documentType':_0xfb1d5c[_0x50d16a(0x8fb)][_0x50d16a(0x649)],'documentName':_0xfb1d5c[_0x50d16a(0x8fb)][_0x50d16a(0xc30)],'extractionMethod':_0x50d16a(0x938)}),await _0x3d50fc(_0x563d2e,_0x13ef2e,_0x2cead5,_0x154fbf,_0x33f35a,_0x33eff9);const _0x39094a=[{'content':_0x2cead5,'start':0x0,'length':_0x2cead5['length']}];await _0x3d50fc(_0x563d2e,_0x13ef2e,_0x39094a,_0x154fbf,_0x33f35a,_0x33eff9);}const _0xf15676=['.js',_0x227435(0x47a),'.py',_0x227435(0x87b),_0x227435(0x997),_0x227435(0x30e),'.css','.xml',_0x227435(0x2df),_0x227435(0x843),_0x227435(0x2dc),_0x227435(0x6ee),_0x227435(0xa36),_0x227435(0x6ec),'.cfg',_0x227435(0x637),_0x227435(0x76a),_0x227435(0x4b4),_0x227435(0x58c),_0x227435(0x6d4),'.c',_0x227435(0xa11),'.cs','.r',_0x227435(0x667),_0x227435(0xb6c),'.scala','.kt',_0x227435(0x381),_0x227435(0x76c),_0x227435(0x2bf),_0x227435(0x860),_0x227435(0x3b5),_0x227435(0xb0d),_0x227435(0xc42),_0x227435(0xb68),'.ex','.exs',_0x227435(0x299),_0x227435(0xbfe),'.tcl','.m',_0x227435(0x340),_0x227435(0xb0e),_0x227435(0xa8f),_0x227435(0x23d),_0x227435(0x84d),'.jsx',_0x227435(0x85f),_0x227435(0xbbd),_0x227435(0x420),'.jinja','.jinja2',_0x227435(0x5dc),_0x227435(0x228),'.ejs',_0x227435(0x620),_0x227435(0x3fb),_0x227435(0xc43),'.tpl','.twig',_0x227435(0x3c0),'.djt'];function _0x2ef96f(_0x26cff4,_0x50373c){const _0x1f51c7=_0x227435;return _0x50373c[_0x1f51c7(0x771)]('.'+(_0x26cff4[_0x1f51c7(0x8ab)]('.')['pop']()?.['toLowerCase']()||''));}async function _0x8b69a4(_0x245da6,_0x33ac9d,_0x24104b,_0x19318c,_0xfee729,_0xf54a70){const _0x485285=_0x227435,_0x3ee5d6=Date[_0x485285(0xb26)](),_0x532d35=new Set();let _0xeb9337=0x0;for(const _0x25477a of _0x24104b){if(_0x485285(0x984)!=typeof _0x25477a[_0x485285(0xae3)])throw new Error('Invalid\x20content\x20type');_0xeb9337+=_0x25477a[_0x485285(0xae3)]['length'],await _0xe8a52f(_0x25477a[_0x485285(0xae3)],_0x532d35,_0x19318c,_0xf54a70[_0x485285(0x415)]);}await _0x50c690[_0x485285(0x351)]({'jobType':_0x36cb8d[_0x485285(0x97d)],'type':_0x264183[_0x485285(0x90f)],'jobId':_0x33ac9d,'blockId':_0x19318c['id'],'traceLevel':_0x57b22b[_0x485285(0x51a)],'startTime':_0x3ee5d6,'timestamp':Date[_0x485285(0xb26)](),'status':_0x485285(0x8bb),'contentLength':_0xeb9337,'totalChunks':_0x24104b instanceof Array?_0x24104b[_0x485285(0xbfb)]:0x1,'entitiesExtracted':_0x532d35,'totalEntities':_0x532d35[_0x485285(0x9e7)]}),await _0x3d50fc(_0x245da6,_0x33ac9d,_0x532d35,_0x19318c,_0xfee729,_0xf54a70);}async function _0xe8a52f(_0x1cd0a5,_0x1afc79,_0x4a798d,_0x30836f){const _0xc559e2=_0x227435,_0x4d2a04=await _0x30836f[_0xc559e2(0x271)](_0x1cd0a5,{'ner':_0x4a798d[_0xc559e2(0x9da)][_0xc559e2(0xa3e)],'noun':_0x4a798d[_0xc559e2(0x9da)][_0xc559e2(0x5c1)],'propn':_0x4a798d[_0xc559e2(0x9da)][_0xc559e2(0x95f)],'verb':_0x4a798d[_0xc559e2(0x9da)][_0xc559e2(0x983)]});for(const _0x11e0ec of _0x4d2a04)_0x1afc79['add'](_0x11e0ec);}async function _0x2538ca(_0x13b13c,_0x395065,_0x2601b1,_0x1cf686,_0x3c9e32){const _0x22cec4=_0x227435,_0x411b27=Date[_0x22cec4(0xb26)]();if(_0x2601b1[_0x22cec4(0xbec)]||(_0x2601b1['accumulated']={}),_0x22cec4(0x984)==typeof _0x395065?_0x2601b1['accumulated'][_0x22cec4(0xae3)]=_0x395065:_0x395065 instanceof Set?_0x2601b1[_0x22cec4(0xbec)][_0x22cec4(0x67c)]=_0x395065:_0x395065 instanceof Map?_0x2601b1['accumulated'][_0x22cec4(0x50c)]=_0x395065:_0x395065 instanceof Array?_0x2601b1[_0x22cec4(0xbec)][_0x22cec4(0x899)]=_0x395065:_0x2601b1[_0x22cec4(0xbec)][_0x22cec4(0x8fb)]=_0x395065,_0x2601b1[_0x22cec4(0x3d1)]=_0x2601b1[_0x22cec4(0x3d1)]?_0x2601b1[_0x22cec4(0x3d1)]+0x1:0x1,_0x522d81(_0x2601b1,_0x1cf686[_0x22cec4(0x2db)])>_0x2601b1[_0x22cec4(0x3d1)])return;if(!(_0x2601b1[_0x22cec4(0xbec)]['entities']&&_0x2601b1[_0x22cec4(0xbec)]['file']&&_0x2601b1['accumulated'][_0x22cec4(0xae3)]&&_0x2601b1[_0x22cec4(0xbec)][_0x22cec4(0x899)]))throw new Error(_0x22cec4(0x750));let _0x315ced=0x0;const _0x382646=_0x3c9e32[_0x22cec4(0x52b)]['getGraphDatabase'](_0x2601b1['id']);for(const _0x3d4998 of _0x2601b1[_0x22cec4(0xbec)][_0x22cec4(0x67c)]){let _0x5baa64=[];_0x5baa64=_0x2601b1[_0x22cec4(0xbec)]['index']['filter'](_0x2aee51=>'string'==typeof _0x2aee51[_0x22cec4(0xae3)]&&_0x2aee51['content'][_0x22cec4(0x771)](_0x3d4998));try{_0x382646[_0x22cec4(0x1ee)](_0x2601b1[_0x22cec4(0xbec)]['file'][_0x22cec4(0x826)],_0x2601b1['accumulated'][_0x22cec4(0xae3)],_0x5baa64,_0x3d4998),_0x315ced+=0x1;}catch(_0x1544f8){}}if(_0x2601b1['accumulated'][_0x22cec4(0x50c)]){for(const [_0x807476,_0x10170a]of _0x2601b1['accumulated'][_0x22cec4(0x50c)])for(const _0x2475dd of _0x10170a)try{_0x382646['addEdge'](_0x807476,_0x2475dd);}catch(_0x2fe5b9){}await _0x50c690[_0x22cec4(0x351)]({'jobType':_0x36cb8d[_0x22cec4(0x97d)],'type':_0x264183['GraphDatabase'],'jobId':_0x13b13c,'blockId':_0x2601b1['id'],'status':_0x22cec4(0x8bb),'startTime':_0x411b27,'timestamp':Date[_0x22cec4(0xb26)](),'traceLevel':_0x57b22b['Debug'],'nodesAdded':_0x315ced,'entities':_0x2601b1[_0x22cec4(0xbec)][_0x22cec4(0x67c)],'relations':_0x2601b1[_0x22cec4(0xbec)][_0x22cec4(0x50c)]});}}async function _0x5ad0c0(_0x161932,_0x352866,_0x4e7c10,_0x55683f,_0x1eeee9,_0x31eb28){const _0x5b2d88=_0x227435,_0x3cbb3a=_0x31eb28['models'][_0x5b2d88(0x5b4)](_0x37f987=>_0x37f987['id']===_0x55683f['id']);if(!_0x3cbb3a)throw new Error(_0x5b2d88(0xa08));switch(_0x3cbb3a[_0x5b2d88(0x453)]){case _0x2bba8e[_0x5b2d88(0x8a5)][_0x5b2d88(0xad3)]:if(_0x5b2d88(0x984)!=typeof _0x4e7c10)throw new Error(_0x5b2d88(0xbc2));await async function(_0x23eba3,_0x9c6ea,_0x35386a,_0x3602d3,_0x225393,_0x10471a,_0x2754b4){const _0x1257b6=_0x5b2d88,_0x2d7801=Date[_0x1257b6(0xb26)]();let _0x52afd4;const _0x2f49b9=await fetch(_0x2b8337[_0x1257b6(0x6af)]+_0x1257b6(0x9d8),{'method':_0x1257b6(0xa0f),'headers':{'Content-Type':_0x1257b6(0x5d1),'x-vendor-id':_0x23eba3},'body':JSON[_0x1257b6(0x5dd)]({'messages':[{'role':_0x1257b6(0x7b3),'content':_0x35386a}],'model':_0x3602d3['id']})});_0x52afd4=(await _0x2f49b9[_0x1257b6(0x515)]())['choices'][0x0]['message'][_0x1257b6(0xae3)],await _0x50c690[_0x1257b6(0x351)]({'jobType':_0x36cb8d[_0x1257b6(0x97d)],'type':_0x264183[_0x1257b6(0x8bc)],'jobId':_0x9c6ea,'blockId':_0x225393['id'],'traceLevel':_0x57b22b[_0x1257b6(0x51a)],'timestamp':Date[_0x1257b6(0xb26)](),'startTime':_0x2d7801,'status':_0x1257b6(0x8bb),'modelName':_0x3602d3['id'],'inputType':_0x3602d3[_0x1257b6(0x30c)],'outputType':_0x3602d3[_0x1257b6(0x453)],'content':_0x35386a,'results':_0x52afd4}),await _0x3d50fc(_0x23eba3,_0x9c6ea,_0x52afd4,_0x225393,_0x10471a,_0x2754b4);}(_0x161932,_0x352866,_0x4e7c10,_0x3cbb3a,_0x55683f,_0x1eeee9,_0x31eb28);break;case _0x2bba8e[_0x5b2d88(0x8a5)][_0x5b2d88(0x74c)]:if(!(_0x4e7c10 instanceof Array))throw new Error(_0x5b2d88(0x934));await async function(_0x1cd1f7,_0x38de3c,_0x385371,_0x2e17d5,_0x416af0,_0x3d8a2e,_0x566541){const _0xf5dd69=_0x5b2d88,_0x11c36f=Date['now'](),_0x8a51c=await fetch(_0x2b8337[_0xf5dd69(0x6af)]+_0xf5dd69(0x3bf),{'method':'POST','headers':{'Content-Type':_0xf5dd69(0x5d1),'x-vendor-id':_0x1cd1f7},'body':JSON['stringify']({'input':_0x385371['map'](_0x4e6964=>_0x4e6964['content']),'model':_0x2e17d5['id']})}),_0x12cbda=(await _0x8a51c[_0xf5dd69(0x515)]())[_0xf5dd69(0x205)][_0xf5dd69(0x7b9)](_0x40151d=>_0x40151d[_0xf5dd69(0x743)]);await _0x50c690[_0xf5dd69(0x351)]({'jobType':_0x36cb8d['Ingest'],'type':_0x264183[_0xf5dd69(0x923)],'jobId':_0x38de3c,'blockId':_0x416af0['id'],'traceLevel':_0x57b22b[_0xf5dd69(0x51a)],'timestamp':Date['now'](),'startTime':_0x11c36f,'status':'success','modelName':_0x2e17d5['id'],'inputType':_0x2e17d5[_0xf5dd69(0x30c)],'outputType':_0x2e17d5[_0xf5dd69(0x453)],'totalVectors':_0x12cbda['length']}),await _0x3d50fc(_0x1cd1f7,_0x38de3c,_0x12cbda,_0x416af0,_0x3d8a2e,_0x566541);}(_0x161932,_0x352866,_0x4e7c10,_0x3cbb3a,_0x55683f,_0x1eeee9,_0x31eb28);}}async function _0x4a63c2(_0x1c8d88,_0x2fe042,_0xfd4ef,_0x500f22,_0x17be8b,_0x2b8af5){const _0x3c37ca=_0x227435,_0x1ebb1b=Date[_0x3c37ca(0xb26)]();if(_0x500f22[_0x3c37ca(0xbec)]||(_0x500f22[_0x3c37ca(0xbec)]={}),_0xfd4ef instanceof Array?_0x500f22[_0x3c37ca(0xbec)][_0x3c37ca(0x899)]=_0xfd4ef:_0x500f22[_0x3c37ca(0xbec)][_0x3c37ca(0x67c)]=_0xfd4ef,_0x500f22['timesCalled']=_0x500f22[_0x3c37ca(0x3d1)]?_0x500f22[_0x3c37ca(0x3d1)]+0x1:0x1,_0x522d81(_0x500f22,_0x17be8b[_0x3c37ca(0x2db)])>_0x500f22[_0x3c37ca(0x3d1)])return;if(!_0x500f22[_0x3c37ca(0xbec)]['index']||!_0x500f22[_0x3c37ca(0xbec)]['entities'])throw new Error(_0x3c37ca(0x915));const _0x1bfb72=new Map();for(const _0x1f1654 of _0x500f22[_0x3c37ca(0xbec)][_0x3c37ca(0x899)]){if(_0x3c37ca(0x984)!=typeof _0x1f1654[_0x3c37ca(0xae3)])throw new Error(_0x3c37ca(0x78c));_0x3df35c(_0x1f1654[_0x3c37ca(0xae3)],_0x500f22['accumulated']['entities'],_0x1bfb72);}await _0x50c690['trace']({'jobType':_0x36cb8d[_0x3c37ca(0x97d)],'type':_0x264183['RelationExtractor'],'jobId':_0x2fe042,'blockId':_0x500f22['id'],'traceLevel':_0x57b22b[_0x3c37ca(0x51a)],'timestamp':Date[_0x3c37ca(0xb26)](),'startTime':_0x1ebb1b,'status':_0x3c37ca(0x8bb),'entities':_0x500f22[_0x3c37ca(0xbec)][_0x3c37ca(0x67c)],'relations':_0x1bfb72,'totalRelationsExtracted':_0x1bfb72[_0x3c37ca(0x9e7)]}),await _0x3d50fc(_0x1c8d88,_0x2fe042,_0x1bfb72,_0x500f22,_0x17be8b,_0x2b8af5);}function _0x3df35c(_0xdbc6d1,_0x2d7a4b,_0x3c9877){const _0x1d7c0e=_0x227435;for(const _0x4ab7b4 of _0x2d7a4b)for(const _0x39361f of _0x2d7a4b){if(_0x4ab7b4===_0x39361f)continue;const _0x5e7315=_0xdbc6d1['indexOf'](_0x4ab7b4),_0x5b9669=_0xdbc6d1[_0x1d7c0e(0x202)](_0x39361f);-0x1!==_0x5e7315&&-0x1!==_0x5b9669&&(_0x3c9877[_0x1d7c0e(0xac9)](_0x4ab7b4)||_0x3c9877['set'](_0x4ab7b4,new Set()),_0x3c9877['get'](_0x4ab7b4)[_0x1d7c0e(0x9b9)](_0x39361f));}return _0x3c9877;}async function _0x4e9ca1(_0x1adff0,_0x18bd71,_0x13d236,_0x5a0d2e,_0x4fa5c5,_0xcd7bc7){const _0x589c7a=_0x227435,_0x523490=Date[_0x589c7a(0xb26)]();let _0x42abe9=[];if(_0x13d236 instanceof Array)for(const _0x64d61f of _0x13d236){if('string'!=typeof _0x64d61f['content'])throw new Error(_0x589c7a(0x78c));const _0xaa095d=await _0xcd7bc7[_0x589c7a(0x415)][_0x589c7a(0xbf0)](_0x64d61f[_0x589c7a(0xae3)]);_0x42abe9=_0x42abe9['concat'](_0xaa095d[_0x589c7a(0x7b9)](_0x1b4e4c=>({'content':_0x1b4e4c,'start':_0x64d61f[_0x589c7a(0x2ed)],'length':_0x64d61f[_0x589c7a(0xbfb)]})));}else _0x42abe9=(await _0xcd7bc7[_0x589c7a(0x415)][_0x589c7a(0xbf0)](_0x13d236))[_0x589c7a(0x7b9)](_0x3168a9=>({'content':_0x3168a9,'start':_0x13d236[_0x589c7a(0x202)](_0x3168a9),'length':_0x3168a9['length']}));await _0x50c690[_0x589c7a(0x351)]({'jobType':_0x36cb8d['Ingest'],'type':_0x264183[_0x589c7a(0x493)],'jobId':_0x18bd71,'blockId':_0x5a0d2e['id'],'traceLevel':_0x57b22b[_0x589c7a(0x51a)],'startTime':_0x523490,'timestamp':Date['now'](),'status':_0x589c7a(0x8bb),'totalSentences':_0x42abe9[_0x589c7a(0xbfb)],'averageSentenceLength':_0x42abe9[_0x589c7a(0x4df)]((_0x3ad7b1,_0x5d173b)=>_0x3ad7b1+_0x5d173b[_0x589c7a(0xbfb)],0x0)/_0x42abe9['length']}),await _0x3d50fc(_0x1adff0,_0x18bd71,_0x42abe9,_0x5a0d2e,_0x4fa5c5,_0xcd7bc7);}async function _0x36c887(_0x40f38a,_0x338c71,_0x4502b2,_0x2d8930,_0x10cc15,_0xd1ac71){const _0x41d578=_0x227435,_0x1fa613=Date[_0x41d578(0xb26)]();var _0x574d93;if(_0x2d8930[_0x41d578(0xbec)]||(_0x2d8930['accumulated']={}),_0x4502b2 instanceof Array?(_0x574d93=_0x4502b2)[0x0]instanceof Array&&_0x41d578(0x878)==typeof _0x574d93[0x0]?.[0x0]?_0x2d8930[_0x41d578(0xbec)][_0x41d578(0x7c2)]=_0x4502b2:_0x2d8930[_0x41d578(0xbec)][_0x41d578(0x899)]=_0x4502b2:_0x41d578(0x984)==typeof _0x4502b2?_0x2d8930[_0x41d578(0xbec)][_0x41d578(0xae3)]=_0x4502b2:_0x2d8930[_0x41d578(0xbec)]['file']=_0x4502b2,_0x2d8930[_0x41d578(0x3d1)]=_0x2d8930[_0x41d578(0x3d1)]?_0x2d8930['timesCalled']+0x1:0x1,!(_0x522d81(_0x2d8930,_0x10cc15[_0x41d578(0x2db)])>_0x2d8930['timesCalled'])){if(_0x41d578(0xbb6)===_0x2d8930['id']){if(!_0x2d8930['accumulated'][_0x41d578(0x899)]||!_0x2d8930['accumulated'][_0x41d578(0x7c2)]||!_0x2d8930[_0x41d578(0xbec)][_0x41d578(0x8fb)])throw new Error(_0x41d578(0x450));if(!_0xd1ac71['ragConnector'])throw new Error(_0x41d578(0x95b));const _0x3e1615=[];for(let _0x128bac=0x0;_0x128bac<_0x2d8930[_0x41d578(0xbec)][_0x41d578(0x899)]['length'];_0x128bac++){const _0x3d5fc1=_0x2d8930[_0x41d578(0xbec)][_0x41d578(0x7c2)][_0x128bac],_0x14edf8=_0x2d8930[_0x41d578(0xbec)][_0x41d578(0x899)][_0x128bac];_0x3e1615[_0x41d578(0x91f)]({'content':_0x3d5fc1,'start':_0x14edf8[_0x41d578(0x2ed)],'length':_0x14edf8[_0x41d578(0xbfb)]});}const _0x29cf03=_0x557186(_0x40f38a,_0x10cc15);await _0xd1ac71[_0x41d578(0x1e2)][_0x41d578(0x241)]({'instanceId':_0x29cf03,'collectionId':_0x10cc15['id'],'namespace':_0x10cc15[_0x41d578(0x4a7)]},_0x2d8930[_0x41d578(0xbec)]['file']['pathName'],_0x3e1615);}else{if(!(_0x2d8930['accumulated'][_0x41d578(0xae3)]&&_0x2d8930[_0x41d578(0xbec)][_0x41d578(0x899)]&&_0x2d8930['accumulated'][_0x41d578(0x7c2)]&&_0x2d8930['accumulated'][_0x41d578(0x8fb)]))throw new Error(_0x41d578(0x450));const _0x28adef=_0xd1ac71[_0x41d578(0x52b)][_0x41d578(0x8ca)](_0x2d8930['id']);_0x28adef[_0x41d578(0x9fb)](_0x2d8930[_0x41d578(0xbec)][_0x41d578(0x8fb)]['pathName'],_0x2d8930['accumulated']['content'],_0x2d8930[_0x41d578(0xbec)][_0x41d578(0x899)],_0x2d8930[_0x41d578(0xbec)][_0x41d578(0x7c2)]),await _0x50c690[_0x41d578(0x351)]({'jobType':_0x36cb8d['Ingest'],'type':_0x264183[_0x41d578(0x561)],'jobId':_0x338c71,'blockId':_0x2d8930['id'],'traceLevel':_0x57b22b[_0x41d578(0x51a)],'startTime':_0x1fa613,'timestamp':Date[_0x41d578(0xb26)](),'status':_0x41d578(0x8bb),'databaseName':_0x28adef[_0x41d578(0xc0d)](),'vectorsAdded':_0x2d8930[_0x41d578(0xbec)]['vectors'][_0x41d578(0xbfb)],'filePathName':_0x2d8930[_0x41d578(0xbec)][_0x41d578(0x8fb)][_0x41d578(0x826)]});}}}async function _0x20cb1a(_0x4e746c,_0x4ab74e,_0x124738,_0x58b4f4,_0x3a03d2,_0x76d71){const _0x3877df=_0x227435,_0x4a05e9=Date[_0x3877df(0xb26)]();let _0x535650=[];if(_0x124738 instanceof Array)for(const _0x2b4043 of _0x124738){if(_0x3877df(0x984)!=typeof _0x2b4043[_0x3877df(0xae3)])throw new Error(_0x3877df(0x78c));_0x535650=_0x535650[_0x3877df(0x2b7)](_0x4ca273(_0x2b4043['content'],_0x58b4f4,_0x2b4043[_0x3877df(0x2ed)],_0x2b4043[_0x3877df(0xbfb)]));}else _0x535650=_0x4ca273(_0x124738,_0x58b4f4);await _0x50c690[_0x3877df(0x351)]({'jobType':_0x36cb8d[_0x3877df(0x97d)],'type':_0x264183[_0x3877df(0x40b)],'jobId':_0x4ab74e,'traceLevel':_0x57b22b[_0x3877df(0x51a)],'blockId':_0x58b4f4['id'],'startTime':_0x4a05e9,'timestamp':Date['now'](),'status':_0x3877df(0x8bb),'totalChunks':_0x535650[_0x3877df(0xbfb)],'averageChunkLength':_0x535650['reduce']((_0x2717bc,_0x302e7c)=>_0x2717bc+_0x302e7c[_0x3877df(0xbfb)],0x0)/_0x535650[_0x3877df(0xbfb)]}),await _0x3d50fc(_0x4e746c,_0x4ab74e,_0x535650,_0x58b4f4,_0x3a03d2,_0x76d71);}function _0x4ca273(_0x11cce2,_0xc28239,_0x3f01c0,_0x3dd74c){const _0xfc1c8=_0x227435,_0x521197=[],_0x233944=_0x11cce2[_0xfc1c8(0x8ab)]('\x20');let _0x568c59='',_0x646c6e=-0x1,_0x210394=0x0,_0x1ff032=0x0;for(const _0xd2ffea of _0x233944){if(_0x568c59[_0xfc1c8(0xbfb)]+_0xd2ffea[_0xfc1c8(0xbfb)]>_0xc28239[_0xfc1c8(0x9da)][_0xfc1c8(0x9e7)]){const _0x35083b=_0x568c59[_0xfc1c8(0xbfb)];let _0x1973da=_0x646c6e,_0x9e3eb7='';for(;_0x1973da>=0x0&&_0x9e3eb7['length']+_0x233944[_0x1973da]['length']<_0xc28239[_0xfc1c8(0x9da)]['overlap'];)_0x9e3eb7=_0x233944[_0x1973da]+'\x20'+_0x9e3eb7,_0x1973da--;let _0x31548d=_0x210394,_0x569b20='';for(;_0x31548d<_0x233944['length']&&_0x569b20[_0xfc1c8(0xbfb)]+_0x233944[_0x31548d]['length']<_0xc28239[_0xfc1c8(0x9da)][_0xfc1c8(0x9f0)];)_0x569b20+=_0x233944[_0x31548d]+'\x20',_0x31548d++;_0x568c59=_0x9e3eb7+_0x568c59+_0x569b20,_0x521197[_0xfc1c8(0x91f)]({'content':_0x568c59[_0xfc1c8(0x5d7)](),'start':_0x3f01c0??_0x1ff032,'length':_0x3dd74c??_0x35083b}),_0x568c59='',_0x646c6e=_0x210394-0x1,_0x1ff032+=_0x35083b;}_0x568c59+=_0xd2ffea+'\x20',_0x210394++;}if(_0x568c59['length']>0x0){const _0x5513bc=_0x568c59[_0xfc1c8(0xbfb)];let _0x4252e1=_0x646c6e,_0x370760='';for(;_0x4252e1>=0x0&&_0x370760[_0xfc1c8(0xbfb)]+_0x233944[_0x4252e1][_0xfc1c8(0xbfb)]<_0xc28239[_0xfc1c8(0x9da)]['overlap'];)_0x370760=_0x233944[_0x4252e1]+'\x20'+_0x370760,_0x4252e1--;_0x568c59=_0x370760+_0x568c59,_0x521197['push']({'content':_0x568c59['trim'](),'start':_0x3f01c0??_0x1ff032,'length':_0x3dd74c??_0x5513bc});}return _0x521197;}async function _0x3d50fc(_0x895396,_0x46ba31,_0x135cac,_0x6f5f5a,_0x568136,_0xbf8879){const _0x3d0ab6=_0x227435;for(const _0x583d50 of _0x6f5f5a[_0x3d0ab6(0x5d8)]||[]){const _0xbd627e=_0x568136['ingestBlocks']['find'](_0x5ae11b=>_0x5ae11b[_0x3d0ab6(0x911)]===_0x583d50[_0x3d0ab6(0x911)]);if(_0xbd627e)switch(_0xbd627e[_0x3d0ab6(0x649)]){case _0x4cc421['Agent']:_0x583d50[_0x3d0ab6(0x649)]===_0xa00ed6[_0x3d0ab6(0xad3)]&&_0x3d0ab6(0x984)==typeof _0x135cac&&await _0x93aa4c(_0x895396,_0x46ba31,_0x135cac,_0xbd627e,_0x568136,_0xbf8879);break;case _0x4cc421['ChunkSplitter']:_0x583d50[_0x3d0ab6(0x649)]===_0xa00ed6[_0x3d0ab6(0xad3)]&&_0x3d0ab6(0x984)==typeof _0x135cac&&await _0x4cbafa(_0x895396,_0x46ba31,_0x135cac,_0xbd627e,_0x568136,_0xbf8879),_0x583d50[_0x3d0ab6(0x649)]===_0xa00ed6[_0x3d0ab6(0x5b9)]&&_0x135cac instanceof Array&&await _0x4cbafa(_0x895396,_0x46ba31,_0x135cac,_0xbd627e,_0x568136,_0xbf8879);break;case _0x4cc421[_0x3d0ab6(0x40e)]:_0x583d50[_0x3d0ab6(0x649)]===_0xa00ed6[_0x3d0ab6(0xb45)]&&await _0x37672e(_0x895396,_0x46ba31,_0x135cac,_0xbd627e,_0x568136,_0xbf8879);break;case _0x4cc421['Embed']:if(_0x583d50[_0x3d0ab6(0x649)]===_0xa00ed6[_0x3d0ab6(0x5b9)]&&_0x135cac instanceof Array){if(!_0x568136[_0x3d0ab6(0x46c)])throw new Error('Model\x20ID\x20is\x20required\x20for\x20Embed\x20block');const _0x9a1376={'type':_0x4cc421[_0x3d0ab6(0xb5b)],'id':_0x568136[_0x3d0ab6(0x46c)],'uid':(0x0,_0x4821d1['v4'])(),'links':_0xbd627e[_0x3d0ab6(0x5d8)]};await _0x5ad0c0(_0x895396,_0x46ba31,_0x135cac,_0x9a1376,_0x568136,_0xbf8879);}break;case _0x4cc421[_0x3d0ab6(0x90f)]:_0x583d50['type']===_0xa00ed6[_0x3d0ab6(0x5b9)]&&_0x135cac instanceof Array&&await _0x8b69a4(_0x895396,_0x46ba31,_0x135cac,_0xbd627e,_0x568136,_0xbf8879);break;case _0x4cc421[_0x3d0ab6(0x1e3)]:_0x583d50[_0x3d0ab6(0x649)]===_0xa00ed6[_0x3d0ab6(0xad3)]&&_0x3d0ab6(0x984)==typeof _0x135cac&&await _0x2538ca(_0x46ba31,_0x135cac,_0xbd627e,_0x568136,_0xbf8879),_0x583d50[_0x3d0ab6(0x649)]===_0xa00ed6[_0x3d0ab6(0x5b9)]&&_0x135cac instanceof Array&&await _0x2538ca(_0x46ba31,_0x135cac,_0xbd627e,_0x568136,_0xbf8879),_0x583d50['type']===_0xa00ed6[_0x3d0ab6(0x7f1)]&&_0x135cac instanceof Set&&await _0x2538ca(_0x46ba31,_0x135cac,_0xbd627e,_0x568136,_0xbf8879),_0x583d50[_0x3d0ab6(0x649)]===_0xa00ed6[_0x3d0ab6(0x928)]&&_0x135cac instanceof Map&&await _0x2538ca(_0x46ba31,_0x135cac,_0xbd627e,_0x568136,_0xbf8879),_0x583d50[_0x3d0ab6(0x649)]===_0xa00ed6[_0x3d0ab6(0xb45)]&&await _0x2538ca(_0x46ba31,_0x135cac,_0xbd627e,_0x568136,_0xbf8879);break;case _0x4cc421['Model']:_0x583d50[_0x3d0ab6(0x649)]===_0xa00ed6[_0x3d0ab6(0xad3)]&&'string'==typeof _0x135cac&&await _0x5ad0c0(_0x895396,_0x46ba31,_0x135cac,_0xbd627e,_0x568136,_0xbf8879),_0x583d50[_0x3d0ab6(0x649)]===_0xa00ed6['Index']&&_0x135cac instanceof Array&&await _0x5ad0c0(_0x895396,_0x46ba31,_0x135cac,_0xbd627e,_0x568136,_0xbf8879);break;case _0x4cc421[_0x3d0ab6(0x849)]:_0x583d50[_0x3d0ab6(0x649)]===_0xa00ed6[_0x3d0ab6(0x5b9)]&&_0x135cac instanceof Array&&await _0x4a63c2(_0x895396,_0x46ba31,_0x135cac,_0xbd627e,_0x568136,_0xbf8879),_0x583d50['type']===_0xa00ed6['Entity']&&_0x135cac instanceof Set&&await _0x4a63c2(_0x895396,_0x46ba31,_0x135cac,_0xbd627e,_0x568136,_0xbf8879);break;case _0x4cc421[_0x3d0ab6(0x493)]:_0x583d50['type']===_0xa00ed6[_0x3d0ab6(0xad3)]&&_0x3d0ab6(0x984)==typeof _0x135cac&&await _0x4e9ca1(_0x895396,_0x46ba31,_0x135cac,_0xbd627e,_0x568136,_0xbf8879),_0x583d50[_0x3d0ab6(0x649)]===_0xa00ed6[_0x3d0ab6(0x5b9)]&&_0x135cac instanceof Array&&await _0x4e9ca1(_0x895396,_0x46ba31,_0x135cac,_0xbd627e,_0x568136,_0xbf8879);break;case _0x4cc421[_0x3d0ab6(0x561)]:_0x583d50[_0x3d0ab6(0x649)]===_0xa00ed6[_0x3d0ab6(0xad3)]&&_0x3d0ab6(0x984)==typeof _0x135cac&&await _0x36c887(_0x895396,_0x46ba31,_0x135cac,_0xbd627e,_0x568136,_0xbf8879),_0x583d50[_0x3d0ab6(0x649)]===_0xa00ed6[_0x3d0ab6(0x5b9)]&&_0x135cac instanceof Array&&await _0x36c887(_0x895396,_0x46ba31,_0x135cac,_0xbd627e,_0x568136,_0xbf8879),_0x583d50[_0x3d0ab6(0x649)]===_0xa00ed6[_0x3d0ab6(0x74c)]&&_0x135cac instanceof Array&&await _0x36c887(_0x895396,_0x46ba31,_0x135cac,_0xbd627e,_0x568136,_0xbf8879),_0x583d50[_0x3d0ab6(0x649)]===_0xa00ed6['File']&&await _0x36c887(_0x895396,_0x46ba31,_0x135cac,_0xbd627e,_0x568136,_0xbf8879);break;case _0x4cc421[_0x3d0ab6(0x40b)]:_0x583d50[_0x3d0ab6(0x649)]===_0xa00ed6[_0x3d0ab6(0xad3)]&&_0x3d0ab6(0x984)==typeof _0x135cac&&await _0x20cb1a(_0x895396,_0x46ba31,_0x135cac,_0xbd627e,_0x568136,_0xbf8879),_0x583d50[_0x3d0ab6(0x649)]===_0xa00ed6[_0x3d0ab6(0x5b9)]&&_0x135cac instanceof Array&&await _0x20cb1a(_0x895396,_0x46ba31,_0x135cac,_0xbd627e,_0x568136,_0xbf8879);}}}function _0x522d81(_0x1ad038,_0x2804db){const _0x4cae03=_0x227435;return _0x2804db[_0x4cae03(0x276)](_0x352bdf=>_0x352bdf[_0x4cae03(0x5d8)]?.[_0x4cae03(0x2fd)](_0x304ae7=>_0x304ae7['uid']===_0x1ad038['uid']))[_0x4cae03(0xbfb)];}async function _0x266b27(_0x116fda,_0x40f276,_0x5863e8,_0x166b4d,_0x52f483,_0x5bba30,_0x4b2929){const _0xb5373a=_0x227435;try{let _0x25fb2f;switch(_0x52f483[_0xb5373a(0x649)]){case _0x4cc421['ObjectStorageUpload']:const _0x11cdbd=_0x4b2929[_0xb5373a(0x52b)]['getObjectStoreBucket'](_0x52f483['id']);_0x25fb2f=await _0x11cdbd[_0xb5373a(0x441)](_0x5863e8);break;case _0x4cc421[_0xb5373a(0x970)]:const _0x777ab7=_0x4b2929[_0xb5373a(0x52b)][_0xb5373a(0xa24)](_0x52f483['id']);_0x25fb2f=await _0x777ab7[_0xb5373a(0x441)](_0x5863e8);case _0x4cc421['Upload']:const _0x23d1f5=_0x5863e8['split']('/')[_0xb5373a(0x573)]();if(!_0x23d1f5)throw new Error('Failed\x20to\x20get\x20filename');const _0x1c184d=_0x5863e8['replace'](_0x23d1f5,''),_0x3119ce=Buffer[_0xb5373a(0x218)](_0x166b4d,_0xb5373a(0x5f6));if(_0x25fb2f=new File([_0x3119ce],_0x23d1f5),!_0x4b2929[_0xb5373a(0x92a)])throw new Error(_0xb5373a(0x920));await _0x4b2929[_0xb5373a(0x92a)][_0xb5373a(0x28a)](_0x25fb2f,_0x1c184d);}if(!_0x25fb2f)throw new Error('Failed\x20to\x20get\x20file');await _0x3d50fc(_0x116fda,_0x40f276,{'file':_0x25fb2f,'pathName':_0x5863e8},_0x52f483,structuredClone(_0x5bba30),_0x4b2929);}catch(_0x44c3f6){console[_0xb5373a(0xc13)](_0xb5373a(0x33e),_0x44c3f6);}}async function _0x945401(_0x517dd5,_0xa7939f,_0x23fa15,_0x8c6862,_0x10b33c,_0x1f67a2,_0x47ea9d,_0x29e4a3){const _0x3135ff=_0x227435,_0x2e3ffb=Date['now'](),_0x4f07c3=new Set();if(_0x8c6862 instanceof Array){for(const _0x256845 of _0x8c6862)await _0x119d74(_0x256845['content'],_0x1f67a2,_0x4f07c3,_0x29e4a3[_0x3135ff(0x415)]);}else await _0x119d74(_0x8c6862,_0x1f67a2,_0x4f07c3,_0x29e4a3['nlpLibraryConnector']);await _0x50c690['trace']({'jobType':_0x36cb8d[_0x3135ff(0x330)],'type':_0x57677b[_0x3135ff(0x90f)],'jobId':_0xa7939f,'threadId':_0x23fa15,'blockId':_0x1f67a2['id'],'traceLevel':_0x57b22b[_0x3135ff(0x51a)],'startTime':_0x2e3ffb,'timestamp':Date[_0x3135ff(0xb26)](),'status':_0x3135ff(0x8bb),'content':_0x8c6862,'entitiesExtracted':Array[_0x3135ff(0x218)](_0x4f07c3),'totalEntities':_0x4f07c3[_0x3135ff(0x9e7)]}),await _0x1264e7(_0x517dd5,_0xa7939f,_0x23fa15,_0x4f07c3,_0x10b33c,_0x1f67a2,_0x47ea9d,_0x29e4a3);}async function _0x119d74(_0xec212,_0x446f06,_0x433699,_0x44b08f){const _0x2f460a=_0x227435,_0x28af36=await _0x44b08f[_0x2f460a(0x271)](_0xec212,{'ner':_0x446f06['attributes'][_0x2f460a(0xa3e)],'noun':_0x446f06[_0x2f460a(0x9da)]['noun'],'propn':_0x446f06[_0x2f460a(0x9da)][_0x2f460a(0x95f)],'verb':_0x446f06[_0x2f460a(0x9da)][_0x2f460a(0x983)]});for(const _0x5c614a of _0x28af36)_0x433699['add'](_0x5c614a);}async function _0x2a224b(_0x912517,_0x22217c,_0x2fb0bb,_0xc7fb0,_0x19e69b,_0x3a5cf0,_0x27d3e5,_0xa2660d){const _0x3c6a48=_0x227435,_0x5a7f56=Date[_0x3c6a48(0xb26)]();if(_0x3a5cf0[_0x3c6a48(0xbec)]||(_0x3a5cf0[_0x3c6a48(0xbec)]={}),_0xc7fb0 instanceof Array?(_0x3a5cf0[_0x3c6a48(0xbec)][_0x3c6a48(0x902)]||(_0x3a5cf0[_0x3c6a48(0xbec)][_0x3c6a48(0x902)]=[]),_0x3a5cf0[_0x3c6a48(0xbec)]['results'][_0x3c6a48(0x91f)](..._0xc7fb0)):_0xc7fb0 instanceof Set?_0x3a5cf0[_0x3c6a48(0xbec)][_0x3c6a48(0x67c)]=_0xc7fb0:_0x3a5cf0['accumulated'][_0x3c6a48(0x7ed)]=_0xc7fb0,_0x3a5cf0['timesCalled']=_0x3a5cf0[_0x3c6a48(0x3d1)]?_0x3a5cf0[_0x3c6a48(0x3d1)]+0x1:0x1,_0x1284c3(_0x3a5cf0,_0x27d3e5[_0x3c6a48(0x474)])>_0x3a5cf0['timesCalled'])return;if(!_0x3a5cf0['accumulated']['prompt']&&!_0x3a5cf0[_0x3c6a48(0xbec)][_0x3c6a48(0x902)]||!_0x3a5cf0[_0x3c6a48(0xbec)]['entities'])throw new Error(_0x3c6a48(0x750));const _0x146efe=_0xa2660d[_0x3c6a48(0x52b)][_0x3c6a48(0x9dc)](_0x3a5cf0['id'])[_0x3c6a48(0x73d)](Array[_0x3c6a48(0x218)](_0x3a5cf0['accumulated'][_0x3c6a48(0x67c)]),_0x3a5cf0['attributes'][_0x3c6a48(0x479)],_0x3a5cf0[_0x3c6a48(0x9da)][_0x3c6a48(0x729)]);let _0xe76b3f=[];for(const _0x4961e1 in _0x146efe){const _0x40e451=_0x146efe[_0x4961e1];for(const _0x4c254b of _0x40e451){let _0x491844=0x0;if(_0x3a5cf0[_0x3c6a48(0xbec)]['prompt']&&(_0x491844=await _0xa2660d[_0x3c6a48(0x415)][_0x3c6a48(0x94c)](_0x3a5cf0['accumulated'][_0x3c6a48(0x7ed)],_0x4c254b)),_0x3a5cf0[_0x3c6a48(0xbec)][_0x3c6a48(0x902)]){for(const _0x16e22c of _0x3a5cf0['accumulated'][_0x3c6a48(0x902)])_0x491844=Math[_0x3c6a48(0x936)](_0x491844,await _0xa2660d['nlpLibraryConnector']['getSimilarity'](_0x16e22c[_0x3c6a48(0xae3)],_0x4c254b));}_0x491844<_0x3a5cf0[_0x3c6a48(0x9da)][_0x3c6a48(0x516)]||_0xe76b3f[_0x3c6a48(0x91f)]({'content':_0x4c254b,'relevance':_0x491844,'pathName':_0x4961e1});}}_0xe76b3f=_0xe76b3f['sort']((_0x29624e,_0x36661c)=>_0x36661c[_0x3c6a48(0x777)]-_0x29624e[_0x3c6a48(0x777)])[_0x3c6a48(0xb51)](0x0,_0x3a5cf0[_0x3c6a48(0x9da)]['topK']),await _0x50c690['trace']({'jobType':_0x36cb8d[_0x3c6a48(0x330)],'type':_0x57677b[_0x3c6a48(0x781)],'jobId':_0x22217c,'threadId':_0x2fb0bb,'blockId':_0x3a5cf0['id'],'traceLevel':_0x57b22b['Debug'],'timestamp':Date[_0x3c6a48(0xb26)](),'startTime':_0x5a7f56,'status':_0x3c6a48(0x8bb),'content':_0xc7fb0,'topResults':_0xe76b3f,'numResults':_0xe76b3f[_0x3c6a48(0xbfb)]}),await _0x1264e7(_0x912517,_0x22217c,_0x2fb0bb,_0xe76b3f,_0x19e69b,_0x3a5cf0,_0x27d3e5,_0xa2660d);}async function _0x37b0a7(_0x12f8d4,_0x4da260,_0x1105d2,_0x28d4f6,_0x5478f5,_0x198462,_0x16eacc,_0xe567d){const _0x22388f=_0x227435,_0x36cd52=_0xe567d[_0x22388f(0x827)][_0x22388f(0x5b4)](_0x340c13=>_0x340c13['id']===_0x198462['id']);if(!_0x36cd52)throw new Error('Model\x20not\x20found');let _0x305c67='';switch(_0x305c67=_0x28d4f6 instanceof Array?_0x28d4f6[_0x22388f(0x7b9)](_0x1cb507=>_0x1cb507[_0x22388f(0xae3)])[_0x22388f(0x2b2)](',\x20'):_0x28d4f6,_0x36cd52['outputType']){case _0x2bba8e[_0x22388f(0x8a5)]['Text']:await async function(_0xfe5a8d,_0x1b1fd7,_0x4c409a,_0x4cf2f4,_0x2912ab,_0x19871d,_0x2adde6,_0x540f58,_0xda56a0){const _0xfaa107=_0x22388f,_0x4ab0cb=Date['now'](),_0x31fd83=await fetch(_0x2b8337[_0xfaa107(0x6af)]+'/chat/completions',{'method':_0xfaa107(0xa0f),'headers':{'Content-Type':_0xfaa107(0x5d1),'x-vendor-id':_0xfe5a8d},'body':JSON[_0xfaa107(0x5dd)]({'messages':[{'role':_0xfaa107(0x7b3),'content':_0x4cf2f4}],'model':_0x19871d['id']})}),_0x108161=(await _0x31fd83[_0xfaa107(0x515)]())[_0xfaa107(0x8ee)][0x0][_0xfaa107(0x325)][_0xfaa107(0xae3)];await _0x50c690['trace']({'jobType':_0x36cb8d['Retrieve'],'type':_0x57677b[_0xfaa107(0x8bc)],'jobId':_0x1b1fd7,'threadId':_0x4c409a,'blockId':_0x2adde6['id'],'traceLevel':_0x57b22b['Debug'],'startTime':_0x4ab0cb,'timestamp':Date[_0xfaa107(0xb26)](),'status':'success','modelName':_0x19871d['id'],'content':_0x4cf2f4,'newPrompt':_0x108161,'inputType':_0x19871d[_0xfaa107(0x30c)],'outputType':_0x19871d[_0xfaa107(0x453)]}),await _0x1264e7(_0xfe5a8d,_0x1b1fd7,_0x4c409a,_0x108161,_0x2912ab,_0x2adde6,_0x540f58,_0xda56a0);}(_0x12f8d4,_0x4da260,_0x1105d2,_0x305c67,_0x5478f5,_0x36cd52,_0x198462,_0x16eacc,_0xe567d);break;case _0x2bba8e['GenerativeAIModelOutputType'][_0x22388f(0x74c)]:await async function(_0xdad9bf,_0x4dfd58,_0x31c314,_0x2546bd,_0xa79650,_0x36d2c1,_0x51d426,_0x4a7a38,_0x38f235){const _0x492ded=_0x22388f,_0x5e9ea8=Date[_0x492ded(0xb26)](),_0x6bd7b5=await fetch(_0x2b8337[_0x492ded(0x6af)]+_0x492ded(0x3bf),{'method':_0x492ded(0xa0f),'headers':{'Content-Type':_0x492ded(0x5d1),'x-vendor-id':_0xdad9bf},'body':JSON[_0x492ded(0x5dd)]({'input':_0x2546bd,'model':_0x36d2c1['id']})}),_0x5bb2f8=(await _0x6bd7b5[_0x492ded(0x515)]())[_0x492ded(0x205)][0x0][_0x492ded(0x743)];await _0x50c690[_0x492ded(0x351)]({'jobType':_0x36cb8d[_0x492ded(0x330)],'type':_0x57677b[_0x492ded(0x923)],'jobId':_0x4dfd58,'threadId':_0x31c314,'blockId':_0x51d426['id'],'traceLevel':_0x57b22b[_0x492ded(0x51a)],'startTime':_0x5e9ea8,'timestamp':Date[_0x492ded(0xb26)](),'status':_0x492ded(0x8bb),'modelName':_0x36d2c1['id'],'content':_0x2546bd,'totalVectors':_0x5bb2f8['length']}),await _0x1264e7(_0xdad9bf,_0x4dfd58,_0x31c314,_0x5bb2f8,_0xa79650,_0x51d426,_0x4a7a38,_0x38f235);}(_0x12f8d4,_0x4da260,_0x1105d2,_0x305c67,_0x5478f5,_0x36cd52,_0x198462,_0x16eacc,_0xe567d);}}async function _0x3bf530(_0x506da8,_0x19d85b,_0x3f72c6,_0x494e4e,_0x5a4145,_0x2348be,_0x135341,_0x30650c){const _0x3f506d=_0x227435,_0x278370=Date[_0x3f506d(0xb26)]();if(_0x2348be[_0x3f506d(0xbec)]||(_0x2348be[_0x3f506d(0xbec)]={}),_0x494e4e instanceof Array?(_0x2348be[_0x3f506d(0xbec)][_0x3f506d(0x902)]||(_0x2348be[_0x3f506d(0xbec)][_0x3f506d(0x902)]=[]),_0x2348be[_0x3f506d(0xbec)][_0x3f506d(0x902)][_0x3f506d(0x91f)](..._0x494e4e)):_0x2348be[_0x3f506d(0xbec)][_0x3f506d(0x7ed)]=_0x494e4e,_0x2348be[_0x3f506d(0x3d1)]=_0x2348be[_0x3f506d(0x3d1)]?_0x2348be['timesCalled']+0x1:0x1,_0x1284c3(_0x2348be,_0x135341[_0x3f506d(0x474)])>_0x2348be[_0x3f506d(0x3d1)])return;if(!_0x2348be[_0x3f506d(0xbec)][_0x3f506d(0x7ed)]||!_0x2348be[_0x3f506d(0xbec)]['results'])throw new Error(_0x3f506d(0x274));for(const _0xaf6e6 of _0x2348be['accumulated'][_0x3f506d(0x902)])_0xaf6e6[_0x3f506d(0x777)]=await _0x30650c[_0x3f506d(0x415)][_0x3f506d(0x94c)](_0x2348be['accumulated'][_0x3f506d(0x7ed)],_0xaf6e6[_0x3f506d(0xae3)]);const _0x18a53e=_0x2348be[_0x3f506d(0xbec)][_0x3f506d(0x902)][_0x3f506d(0x276)](_0x328a4f=>_0x328a4f['relevance']>_0x2348be[_0x3f506d(0x9da)][_0x3f506d(0x516)])[_0x3f506d(0xbd7)]((_0x12da1d,_0x47a752)=>_0x47a752[_0x3f506d(0x777)]-_0x12da1d[_0x3f506d(0x777)])[_0x3f506d(0xb51)](0x0,_0x2348be[_0x3f506d(0x9da)][_0x3f506d(0x7e8)]);await _0x50c690[_0x3f506d(0x351)]({'jobType':_0x36cb8d[_0x3f506d(0x330)],'type':_0x57677b['Reranker'],'jobId':_0x19d85b,'threadId':_0x3f72c6,'blockId':_0x2348be['id'],'traceLevel':_0x57b22b[_0x3f506d(0x51a)],'startTime':_0x278370,'timestamp':Date[_0x3f506d(0xb26)](),'status':_0x3f506d(0x8bb),'inputResults':_0x2348be['accumulated'][_0x3f506d(0x902)],'rerankedResults':_0x18a53e}),await _0x1264e7(_0x506da8,_0x19d85b,_0x3f72c6,_0x18a53e,_0x5a4145,_0x2348be,_0x135341,_0x30650c);}async function _0x54f570(_0x516a40,_0x378808,_0x205455,_0x3f4fb1,_0x303564,_0x13a88e,_0x391a29,_0x78d696){const _0x4335cd=_0x227435,_0x419831=Date[_0x4335cd(0xb26)]();if(_0x13a88e[_0x4335cd(0xbec)]||(_0x13a88e['accumulated']={}),_0x3f4fb1 instanceof Array?_0x13a88e[_0x4335cd(0xbec)][_0x4335cd(0x8e0)]=_0x3f4fb1:_0x13a88e[_0x4335cd(0xbec)][_0x4335cd(0xae3)]=_0x3f4fb1,_0x13a88e['timesCalled']=_0x13a88e['timesCalled']?_0x13a88e[_0x4335cd(0x3d1)]+0x1:0x1,!(_0x1284c3(_0x13a88e,_0x391a29[_0x4335cd(0x474)])>_0x13a88e[_0x4335cd(0x3d1)])){if(_0x4335cd(0xbb6)===_0x13a88e['id']){if(!_0x13a88e[_0x4335cd(0xbec)][_0x4335cd(0x8e0)])throw new Error(_0x4335cd(0x450));if(!_0x78d696['ragConnector'])throw new Error(_0x4335cd(0x95b));const _0x510a06=_0x557186(_0x516a40,_0x391a29);let _0x5e431e=await _0x78d696[_0x4335cd(0x1e2)]?.[_0x4335cd(0x8c9)]({'instanceId':_0x510a06,'collectionId':_0x391a29['id'],'namespace':_0x391a29[_0x4335cd(0x4a7)]},_0x13a88e[_0x4335cd(0xbec)][_0x4335cd(0x8e0)],_0x13a88e[_0x4335cd(0x9da)][_0x4335cd(0x7e8)]);_0x5e431e=_0x5e431e[_0x4335cd(0x276)](_0x2a6901=>_0x2a6901[_0x4335cd(0x777)]>_0x13a88e[_0x4335cd(0x9da)]['minRelevance'])||[];const _0x4a8b56=[];for(const _0x498fe7 of _0x5e431e){if(!_0x78d696['objectStoreConnector'])throw new Error(_0x4335cd(0xc74));if(void 0x0===_0x498fe7[_0x4335cd(0x2ed)]||void 0x0===_0x498fe7['length'])throw new Error(_0x4335cd(0x6a7));const _0x214d3a=await _0x78d696[_0x4335cd(0x92a)]['get'](_0x498fe7[_0x4335cd(0x826)]);let _0x3bd99a='';if(_0x214d3a[_0x4335cd(0x649)][_0x4335cd(0x60c)](_0x4335cd(0xa73))||_0x2ef96f(_0x214d3a[_0x4335cd(0xc30)],_0xf15676))_0x3bd99a=await _0x214d3a['text']();else{if(!_0x78d696[_0x4335cd(0x502)][_0x4335cd(0x1d6)](_0x214d3a))throw new Error('Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20'+_0x214d3a[_0x4335cd(0x649)]+_0x4335cd(0x6ac)+_0x214d3a[_0x4335cd(0xc30)]);_0x3bd99a=await _0x78d696['documentParserConnector']['parse'](_0x214d3a);}_0x4a8b56[_0x4335cd(0x91f)]({'pathName':_0x498fe7[_0x4335cd(0x826)],'content':_0x3bd99a[_0x4335cd(0x353)](_0x498fe7[_0x4335cd(0x2ed)],_0x498fe7[_0x4335cd(0x2ed)]+_0x498fe7[_0x4335cd(0xbfb)]),'relevance':_0x498fe7[_0x4335cd(0x777)]});}await _0x1264e7(_0x516a40,_0x378808,_0x205455,_0x4a8b56,_0x303564,_0x13a88e,_0x391a29,_0x78d696);}else{if(!_0x13a88e[_0x4335cd(0xbec)][_0x4335cd(0x8e0)]||!_0x13a88e[_0x4335cd(0xbec)]['content'])throw new Error(_0x4335cd(0x450));const _0x22a99f=await _0x78d696['nlpLibraryConnector'][_0x4335cd(0x271)](_0x13a88e['accumulated'][_0x4335cd(0xae3)],{'ner':!0x1,'noun':!0x0,'propn':!0x1,'verb':!0x1}),_0xb2e5a1=_0x78d696[_0x4335cd(0x52b)][_0x4335cd(0x8ca)](_0x13a88e['id'])[_0x4335cd(0x98b)](_0x22a99f,_0x13a88e[_0x4335cd(0xbec)][_0x4335cd(0x8e0)],_0x13a88e['attributes'][_0x4335cd(0x7e8)],_0x13a88e[_0x4335cd(0x9da)][_0x4335cd(0x516)],_0x13a88e[_0x4335cd(0x9da)][_0x4335cd(0x729)]);await _0x50c690[_0x4335cd(0x351)]({'jobType':_0x36cb8d['Retrieve'],'type':_0x57677b[_0x4335cd(0x237)],'jobId':_0x378808,'threadId':_0x205455,'blockId':_0x13a88e['id'],'traceLevel':_0x57b22b[_0x4335cd(0x51a)],'startTime':_0x419831,'timestamp':Date[_0x4335cd(0xb26)](),'status':_0x4335cd(0x8bb),'topResults':_0xb2e5a1,'numResults':_0xb2e5a1['length']}),await _0x1264e7(_0x516a40,_0x378808,_0x205455,_0xb2e5a1,_0x303564,_0x13a88e,_0x391a29,_0x78d696);}}}async function _0x1264e7(_0x4ac39d,_0x28b243,_0x1bb0a5,_0x50f3c4,_0x14ad24,_0x2175b7,_0x150bca,_0x12b754){const _0x274162=_0x227435;for(const _0x5a1600 of _0x2175b7[_0x274162(0x5d8)]||[]){const _0x563a3b=_0x150bca[_0x274162(0x474)]['find'](_0x382edc=>_0x382edc[_0x274162(0x911)]===_0x5a1600[_0x274162(0x911)]);if(_0x563a3b)switch(_0x563a3b[_0x274162(0x649)]){case _0x4cc421[_0x274162(0x62f)]:_0x5a1600[_0x274162(0x649)]===_0xa00ed6[_0x274162(0x9e1)]&&_0x50f3c4 instanceof Array&&_0x14ad24[_0x274162(0xae5)][_0x274162(0x91f)](..._0x50f3c4);break;case _0x4cc421['Embed']:if(_0x5a1600[_0x274162(0x649)]===_0xa00ed6['Text']&&_0x274162(0x984)==typeof _0x50f3c4){if(!_0x150bca[_0x274162(0x46c)])throw new Error(_0x274162(0xb7c));const _0x4b3fe0={'type':_0x4cc421[_0x274162(0xb5b)],'id':_0x150bca['modelId'],'uid':(0x0,_0x4821d1['v4'])(),'links':_0x563a3b[_0x274162(0x5d8)]};await _0x37b0a7(_0x4ac39d,_0x28b243,_0x1bb0a5,_0x50f3c4,_0x14ad24,_0x4b3fe0,_0x150bca,_0x12b754);}break;case _0x4cc421[_0x274162(0x90f)]:_0x5a1600[_0x274162(0x649)]===_0xa00ed6[_0x274162(0xad3)]&&_0x274162(0x984)==typeof _0x50f3c4&&await _0x945401(_0x4ac39d,_0x28b243,_0x1bb0a5,_0x50f3c4,_0x14ad24,_0x563a3b,_0x150bca,_0x12b754),_0x5a1600[_0x274162(0x649)]===_0xa00ed6[_0x274162(0x9e1)]&&_0x50f3c4 instanceof Array&&await _0x945401(_0x4ac39d,_0x28b243,_0x1bb0a5,_0x50f3c4,_0x14ad24,_0x563a3b,_0x150bca,_0x12b754);break;case _0x4cc421[_0x274162(0x1e3)]:_0x5a1600[_0x274162(0x649)]===_0xa00ed6['Text']&&_0x274162(0x984)==typeof _0x50f3c4&&await _0x2a224b(_0x4ac39d,_0x28b243,_0x1bb0a5,_0x50f3c4,_0x14ad24,_0x563a3b,_0x150bca,_0x12b754),_0x5a1600[_0x274162(0x649)]===_0xa00ed6[_0x274162(0x9e1)]&&_0x50f3c4 instanceof Array&&await _0x2a224b(_0x4ac39d,_0x28b243,_0x1bb0a5,_0x50f3c4,_0x14ad24,_0x563a3b,_0x150bca,_0x12b754),_0x5a1600['type']===_0xa00ed6[_0x274162(0x7f1)]&&_0x50f3c4 instanceof Set&&await _0x2a224b(_0x4ac39d,_0x28b243,_0x1bb0a5,_0x50f3c4,_0x14ad24,_0x563a3b,_0x150bca,_0x12b754);break;case _0x4cc421[_0x274162(0xb5b)]:_0x5a1600[_0x274162(0x649)]===_0xa00ed6[_0x274162(0xad3)]&&_0x274162(0x984)==typeof _0x50f3c4&&await _0x37b0a7(_0x4ac39d,_0x28b243,_0x1bb0a5,_0x50f3c4,_0x14ad24,_0x563a3b,_0x150bca,_0x12b754),_0x5a1600[_0x274162(0x649)]===_0xa00ed6[_0x274162(0x9e1)]&&_0x50f3c4 instanceof Array&&await _0x37b0a7(_0x4ac39d,_0x28b243,_0x1bb0a5,_0x50f3c4,_0x14ad24,_0x563a3b,_0x150bca,_0x12b754);break;case _0x4cc421[_0x274162(0x59f)]:_0x5a1600[_0x274162(0x649)]===_0xa00ed6[_0x274162(0xad3)]&&'string'==typeof _0x50f3c4&&await _0x3bf530(_0x4ac39d,_0x28b243,_0x1bb0a5,_0x50f3c4,_0x14ad24,_0x563a3b,_0x150bca,_0x12b754),_0x5a1600[_0x274162(0x649)]===_0xa00ed6[_0x274162(0x9e1)]&&_0x50f3c4 instanceof Array&&await _0x3bf530(_0x4ac39d,_0x28b243,_0x1bb0a5,_0x50f3c4,_0x14ad24,_0x563a3b,_0x150bca,_0x12b754);break;case _0x4cc421[_0x274162(0x561)]:_0x5a1600[_0x274162(0x649)]===_0xa00ed6[_0x274162(0xad3)]&&_0x274162(0x984)==typeof _0x50f3c4&&await _0x54f570(_0x4ac39d,_0x28b243,_0x1bb0a5,_0x50f3c4,_0x14ad24,_0x563a3b,_0x150bca,_0x12b754),_0x5a1600[_0x274162(0x649)]===_0xa00ed6[_0x274162(0x74c)]&&_0x50f3c4 instanceof Array&&await _0x54f570(_0x4ac39d,_0x28b243,_0x1bb0a5,_0x50f3c4,_0x14ad24,_0x563a3b,_0x150bca,_0x12b754);}}}function _0x1284c3(_0x4fdc66,_0x530044){const _0x2f5ae=_0x227435;return _0x530044['filter'](_0x4280bf=>_0x4280bf[_0x2f5ae(0x5d8)]?.['some'](_0x22119b=>_0x22119b[_0x2f5ae(0x911)]===_0x4fdc66[_0x2f5ae(0x911)]))['length'];}async function _0x43b24d(_0x4a1673,_0x1fb917,_0x192cce,_0x4f9af7,_0x10455e,_0x2c01de,_0xc0400e){const _0x3f235d=_0x227435,_0x2dd8f3={'type':'prompt','output':'','context':[],'inputTokens':0x0,'outputTokens':0x0};try{let _0x47e047;await _0x1264e7(_0x4a1673,_0x1fb917,_0x192cce,_0x4f9af7,_0x2dd8f3,_0x10455e,structuredClone(_0x2c01de),_0xc0400e),_0x2dd8f3[_0x3f235d(0xae5)][_0x3f235d(0x4df)]((_0x260f8e,_0x18ad01)=>_0x260f8e+_0x18ad01['content'][_0x3f235d(0xbfb)],0x0)>_0x222b1e&&(_0x47e047=Math['floor'](_0x222b1e/_0x2dd8f3[_0x3f235d(0xae5)][_0x3f235d(0xbfb)])),_0x2dd8f3[_0x3f235d(0xc4d)]=_0x3f235d(0xb17)+_0x2dd8f3['context']['map'](_0x207028=>_0x3f235d(0x504)+_0x207028[_0x3f235d(0x826)]+':\x20'+_0x207028[_0x3f235d(0xae3)][_0x3f235d(0x353)](0x0,_0x47e047))['join']('\x0a');}catch(_0x4ccdf9){console[_0x3f235d(0xc13)](_0x3f235d(0xc70),_0x4ccdf9);}return _0x2dd8f3;}class _0x17ae39 extends _0x35eb24{[_0x227435(0x52b)];[_0x227435(0x861)];['speechAIWorkerConnectors'];['objectStoreConnector'];[_0x227435(0x502)];['fileConnector'];[_0x227435(0x415)];[_0x227435(0xb99)];[_0x227435(0xaee)];['queryFileConnector'];[_0x227435(0xc4a)];[_0x227435(0x39f)];[_0x227435(0xaa5)]=new Map();[_0x227435(0x827)]=new Map();['debounceStats'];[_0x227435(0x298)]=0x0;[_0x227435(0x73e)]=0x0;[_0x227435(0x8f1)]=!0x1;constructor(_0x3574e0,_0x1179d2,_0x3c3090,_0xf15ecc,_0x1b9455,_0x1b4863,_0x1e2643,_0x3f8981,_0x6515ab,_0x858e15,_0x2cf70d,_0xd8af92,_0x3179bf,_0x2cfd79,_0x4f3a24){const _0xb682c2=_0x227435;super(_0x3574e0,_0x1179d2,_0x3c3090),this[_0xb682c2(0x52b)]=_0xf15ecc,this[_0xb682c2(0x861)]=_0x1b9455,this['speechAIWorkerConnectors']=_0x1b4863,this[_0xb682c2(0x92a)]=_0x1e2643,this[_0xb682c2(0x502)]=_0x3f8981,this['fileConnector']=_0x6515ab,this[_0xb682c2(0x415)]=_0x858e15,this['searchConnector']=_0x2cf70d,this[_0xb682c2(0xaee)]=_0xd8af92,this[_0xb682c2(0xbd0)]=_0x3179bf,this['ragConnectors']=_0x2cfd79,this[_0xb682c2(0x39f)]=_0x4f3a24;}async[_0x227435(0xa3c)](){const _0x115016=_0x227435;for(const _0x220997 of this['generativeAIWorkerConnectors'])await _0x220997['close']();this[_0x115016(0xaa5)][_0x115016(0x3e7)](_0x1d199b=>_0x1d199b[_0x115016(0x46f)](this[_0x115016(0x40a)])),this['debounceStats']&&(clearTimeout(this[_0x115016(0xb57)]),delete this[_0x115016(0xb57)]),super[_0x115016(0xa3c)]();}async[_0x227435(0xbd2)](_0xef8b8e=!0x1){const _0x360dc2=_0x227435;if(this['isOpened'])super['open']();else{_0x1822ee[_0x360dc2(0x7fb)](_0x360dc2(0x7b2),this[_0x360dc2(0x40a)]),this[_0x360dc2(0x827)]=await _0x5be0c7['getModels']();try{for(const _0x148250 of this[_0x360dc2(0x861)])await _0x148250['initialize'](this['label'],this[_0x360dc2(0x827)]);}catch(_0x7e2c7a){return this[_0x360dc2(0xbd2)](_0xef8b8e);}this[_0x360dc2(0x8f1)]=!0x0,this['sendStats'](),super[_0x360dc2(0xbd2)](),_0x1822ee[_0x360dc2(0x7fb)]('GenerativeAIWorker:\x20Opened',this[_0x360dc2(0x40a)]);}}[_0x227435(0x278)](){const _0x51e166=_0x227435;this[_0x51e166(0x298)]=0x0,this['tokens']=0x0,this[_0x51e166(0x23c)](),super[_0x51e166(0x278)]();}[_0x227435(0x51f)](){const _0x139a32=_0x227435;return this[_0x139a32(0x23c)](),this['getCoresFromCapacityReport']();}[_0x227435(0x87e)](_0x5c7719,_0x1338d9,_0x537528){const _0x5c80fe=_0x227435,{outputTokens:_0x5f437e=0x0,output:_0x43616e=''}=_0x5c7719,_0xc96820=_0x5f437e/((_0x537528-_0x1338d9)/0x3e8);this['prompts']+=0x1,this[_0x5c80fe(0x73e)]+=_0x5f437e,this[_0x5c80fe(0x8c4)](_0xc96820,_0x5f437e),this[_0x5c80fe(0x23c)]();}[_0x227435(0x9ff)](_0x4cc22b,_0x5def45){const _0xc3cc97=_0x227435;return _0x4cc22b[_0xc3cc97(0xc4d)]=_0x4cc22b[_0xc3cc97(0xc4d)]??'',{'type':'prompt','output':_0xc3cc97(0x984)==typeof _0x4cc22b[_0xc3cc97(0xc4d)]&&_0xc3cc97(0x984)==typeof _0x5def45['output']?_0x4cc22b[_0xc3cc97(0xc4d)]+_0x5def45[_0xc3cc97(0xc4d)]:_0x5def45[_0xc3cc97(0xc4d)],'outputTokens':_0x5def45[_0xc3cc97(0x25b)]??_0x4cc22b['outputTokens'],'inputTokens':_0x5def45[_0xc3cc97(0x652)]??_0x4cc22b['inputTokens']};}async[_0x227435(0x536)](_0x330366,_0xd96771){const _0xd9c5ae=_0x227435;if(_0xd9c5ae(0x7ed)===_0xd96771[_0xd9c5ae(0x649)]){const _0x2b49d9=await _0x5be0c7[_0xd9c5ae(0x6ba)](_0xd96771[_0xd9c5ae(0x2ae)],_0xd96771[_0xd9c5ae(0x31e)]),_0x636590=_0x2b49d9[_0xd9c5ae(0x92b)][_0xd9c5ae(0x5b4)](_0x38e7cd=>_0x38e7cd[_0xd9c5ae(0x649)]===_0x296cd7[_0xd9c5ae(0x7a9)]||_0x38e7cd[_0xd9c5ae(0x649)]===_0x296cd7[_0xd9c5ae(0x25c)]||_0x38e7cd[_0xd9c5ae(0x649)]===_0x296cd7['InputEmail']);return await _0x3e6f44(_0xd96771[_0xd9c5ae(0x203)]??_0x330366,_0xd96771,_0x636590,_0x2b49d9['blocks'],{'documentParserConnector':this[_0xd9c5ae(0x502)],'fileConnector':this[_0xd9c5ae(0x991)],'nlpLibraryConnector':this[_0xd9c5ae(0x415)],'generativeAIWorkerConnectors':this[_0xd9c5ae(0x861)],'speechAIWorkerConnectors':this['speechAIWorkerConnectors'],'models':Array['from'](this[_0xd9c5ae(0x827)][_0xd9c5ae(0xbc7)]()),'contentMediator':this[_0xd9c5ae(0x52b)],'searchConnector':this[_0xd9c5ae(0xb99)],'aiSearchConnector':this[_0xd9c5ae(0xaee)],'queryFileConnector':this[_0xd9c5ae(0xbd0)]});}if(_0xd9c5ae(0x234)===_0xd96771[_0xd9c5ae(0x649)])return await _0x27744f(_0xd96771,{'documentParserConnector':this['documentParserConnector'],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this[_0xd9c5ae(0x415)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'speechAIWorkerConnectors':this['speechAIWorkerConnectors'],'models':Array['from'](this['models'][_0xd9c5ae(0xbc7)]()),'contentMediator':this[_0xd9c5ae(0x52b)],'searchConnector':this['searchConnector'],'aiSearchConnector':this[_0xd9c5ae(0xaee)],'queryFileConnector':this[_0xd9c5ae(0xbd0)]});if(_0xd9c5ae(0x393)===_0xd96771['type'])return await _0x1bf211(_0xd96771[_0xd9c5ae(0x203)]??_0x330366,_0xd96771,{'documentParserConnector':this['documentParserConnector'],'fileConnector':this[_0xd9c5ae(0x991)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'speechAIWorkerConnectors':this[_0xd9c5ae(0x4dd)],'models':Array[_0xd9c5ae(0x218)](this[_0xd9c5ae(0x827)][_0xd9c5ae(0xbc7)]()),'contentMediator':this[_0xd9c5ae(0x52b)],'searchConnector':this[_0xd9c5ae(0xb99)],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this[_0xd9c5ae(0xbd0)]});if(_0xd9c5ae(0x302)===_0xd96771[_0xd9c5ae(0x649)])return await _0x50c690[_0xd9c5ae(0x351)]({'jobType':_0x36cb8d[_0xd9c5ae(0xa38)],'type':_0x25e3f0[_0xd9c5ae(0x7e0)],'jobId':_0xd96771['jobId'],'threadId':_0xd96771[_0xd9c5ae(0x591)],'traceLevel':_0x57b22b['Info'],'startTime':Date[_0xd9c5ae(0xb26)](),'timestamp':Date[_0xd9c5ae(0xb26)](),'status':_0xd9c5ae(0x8bb),'rating':_0xd96771[_0xd9c5ae(0x7c5)],'feedback':_0xd96771[_0xd9c5ae(0xb03)]}),{'type':'rate','status':_0x2bba8e[_0xd9c5ae(0x31f)][_0xd9c5ae(0x284)]};if('tool-call'===_0xd96771[_0xd9c5ae(0x649)])return await _0x5438a7(_0xd96771,{'documentParserConnector':this[_0xd9c5ae(0x502)],'fileConnector':this[_0xd9c5ae(0x991)],'nlpLibraryConnector':this[_0xd9c5ae(0x415)],'generativeAIWorkerConnectors':this[_0xd9c5ae(0x861)],'speechAIWorkerConnectors':this[_0xd9c5ae(0x4dd)],'models':Array[_0xd9c5ae(0x218)](this['models'][_0xd9c5ae(0xbc7)]()),'contentMediator':this[_0xd9c5ae(0x52b)],'searchConnector':this[_0xd9c5ae(0xb99)],'aiSearchConnector':this[_0xd9c5ae(0xaee)],'queryFileConnector':this[_0xd9c5ae(0xbd0)]});if(_0xd9c5ae(0xa1c)===_0xd96771[_0xd9c5ae(0x649)]){const _0x3768db=this[_0xd9c5ae(0x827)][_0xd9c5ae(0x441)](_0xd96771['model']);if(!_0x3768db)throw new Error(_0xd9c5ae(0x5c5));const _0x4682ac=this['speechAIWorkerConnectors'][_0xd9c5ae(0x5b4)](_0x2aa150=>_0x2aa150[_0xd9c5ae(0xc27)]()===_0x3768db['engineType']);if(!_0x4682ac)throw new Error('No\x20speech\x20connector\x20available');return{'type':_0xd9c5ae(0xa1c),'audio':await _0x4682ac[_0xd9c5ae(0xc29)](_0xd96771[_0xd9c5ae(0xb00)],_0xd96771[_0xd9c5ae(0x335)],_0xd96771['voice'],_0xd96771[_0xd9c5ae(0xaef)],_0xd96771[_0xd9c5ae(0xa35)])};}if('realtime-session-create'===_0xd96771[_0xd9c5ae(0x649)]){const _0x1cf01f=await _0x5be0c7[_0xd9c5ae(0x6ba)](_0xd96771[_0xd9c5ae(0x2ae)],_0xd96771[_0xd9c5ae(0x31e)]),_0x1707e6=_0x1cf01f[_0xd9c5ae(0x92b)][_0xd9c5ae(0x5b4)](_0x2e8127=>_0x2e8127[_0xd9c5ae(0x649)]===_0x296cd7[_0xd9c5ae(0x25c)]),_0x34db5b=_0x1707e6[_0xd9c5ae(0x5d8)]?.[_0xd9c5ae(0x5b4)](_0x1eca6f=>_0x1eca6f['type']===_0xa00ed6['Audio']),_0x4dd8f2=_0x1cf01f[_0xd9c5ae(0x92b)][_0xd9c5ae(0x5b4)](_0x351cfd=>_0x351cfd[_0xd9c5ae(0x649)]===_0x296cd7['Agent']&&_0x351cfd[_0xd9c5ae(0x911)]===_0x34db5b[_0xd9c5ae(0x911)]),_0x48d52e=this['models'][_0xd9c5ae(0x441)](_0x4dd8f2['modelId']),_0x28eaae=_0x2624ec(_0x4dd8f2,_0x1cf01f['blocks']),_0xfa5c75=_0x1cf01f[_0xd9c5ae(0x92b)][_0xd9c5ae(0x5b4)](_0x247d7f=>_0x247d7f[_0xd9c5ae(0x649)]===_0x296cd7[_0xd9c5ae(0xbff)]),_0x75864e=_0x1cf01f[_0xd9c5ae(0x92b)][_0xd9c5ae(0x5b4)](_0x3eb368=>_0x3eb368['type']===_0x296cd7[_0xd9c5ae(0x5ac)]&&_0x3eb368[_0xd9c5ae(0x5d8)]?.[_0xd9c5ae(0x2fd)](_0x17d3d1=>_0x17d3d1['type']===_0xa00ed6[_0xd9c5ae(0x6cc)]&&_0x17d3d1[_0xd9c5ae(0x911)]===_0xfa5c75[_0xd9c5ae(0x911)])),_0x278c48=_0x1cf01f[_0xd9c5ae(0x92b)]['find'](_0x4b579b=>_0x4b579b[_0xd9c5ae(0x649)]===_0x296cd7[_0xd9c5ae(0x5ac)]&&_0x4b579b[_0xd9c5ae(0x911)]===_0x75864e['uid']),_0x5f15fe=this['models'][_0xd9c5ae(0x441)](_0x278c48[_0xd9c5ae(0x46c)]);return{'type':_0xd9c5ae(0x8ae),'apiKey':this[_0xd9c5ae(0x39f)],'sessionType':_0x48d52e[_0xd9c5ae(0xa68)]===_0x2bba8e[_0xd9c5ae(0xbd5)][_0xd9c5ae(0x581)]?'speech-to-speech':_0xd9c5ae(0xc49),'firstAgent':{'modelId':_0x4dd8f2['modelId'],'taskType':_0x48d52e[_0xd9c5ae(0xa68)],'instructions':_0x4dd8f2['instructions'],'temperature':_0x4dd8f2['temperature'],'maxTokens':_0x4dd8f2[_0xd9c5ae(0xb0a)],'initialPrompt':_0x1cf01f[_0xd9c5ae(0x530)],'voice':_0x4dd8f2[_0xd9c5ae(0x8bd)],'language':_0x4dd8f2['language'],'tools':_0x28eaae['map'](_0x1ce6d9=>({..._0x1ce6d9,'name':this[_0xd9c5ae(0x852)](_0x1ce6d9),'description':this[_0xd9c5ae(0xac8)](_0x1ce6d9),'parameters':this[_0xd9c5ae(0xaa4)](_0x1ce6d9)}))},'lastAgent':{'modelId':_0x278c48[_0xd9c5ae(0x46c)],'taskType':_0x5f15fe[_0xd9c5ae(0xa68)],'instructions':_0x278c48[_0xd9c5ae(0xa35)],'initialPrompt':_0x1cf01f[_0xd9c5ae(0x530)],'voice':_0x278c48[_0xd9c5ae(0x8bd)],'language':_0x278c48[_0xd9c5ae(0x587)]}};}if('file-delete'===_0xd96771[_0xd9c5ae(0x649)]){const {vendorId:_0x49413c,collectionId:_0x3f3323,namespace:_0x400991,fileId:_0xca64ee}=_0xd96771,_0x3eedca=await _0x5be0c7['getDataCollection'](_0x49413c,_0x3f3323),_0x5370db=this[_0xd9c5ae(0xc4a)]?.['get'](_0x3eedca[_0xd9c5ae(0x3a5)]);if(!_0x5370db)throw new Error(_0xd9c5ae(0x822));const _0x1fe5dc=_0x557186(_0x49413c,_0x3eedca);if(_0x3eedca[_0xd9c5ae(0x3a5)]===_0x2bba8e['GenerativeAIRagType'][_0xd9c5ae(0x65e)])try{await _0x5370db[_0xd9c5ae(0xac2)]({'instanceId':_0x1fe5dc,'collectionId':_0x3f3323,'namespace':_0x400991},'/'+_0x49413c+'/'+_0x3f3323+'/'+_0xca64ee),await this[_0xd9c5ae(0x92a)][_0xd9c5ae(0x54b)]('/'+_0x49413c+'/'+_0x3f3323+'/'+_0xca64ee);}catch(_0x44c8a6){_0x1822ee[_0xd9c5ae(0xc13)]('GenerativeAIWorker:\x20FileDelete\x20failed',_0x44c8a6);}else try{await _0x5370db[_0xd9c5ae(0xac2)]({'instanceId':_0x1fe5dc,'collectionId':_0x3f3323,'namespace':_0x400991},_0xca64ee);}catch(_0x2616df){_0x1822ee[_0xd9c5ae(0xc13)](_0xd9c5ae(0xa7e),_0x2616df);}return{'type':_0xd9c5ae(0xa6a)};}if(_0xd9c5ae(0x293)===_0xd96771[_0xd9c5ae(0x649)]){let _0x1600b2;const _0x424af1=this['dataStores']['keys']();for(;!_0x1600b2;){const _0x4bd23d=_0x424af1[_0xd9c5ae(0xb37)]()[_0xd9c5ae(0x737)];if(!_0x4bd23d)throw new Error('DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found');_0x1600b2=this[_0xd9c5ae(0xaa5)][_0xd9c5ae(0x441)](_0x4bd23d);try{const _0x5352fa=await _0x1600b2[_0xd9c5ae(0x441)](_0xd96771[_0xd9c5ae(0x7c7)]);return{'type':_0xd9c5ae(0x293),'fileName':_0x5352fa[_0xd9c5ae(0xc30)],'mimeType':_0x5352fa[_0xd9c5ae(0x649)],'document':await _0x5352fa[_0xd9c5ae(0x38c)]()};}catch(_0xf10fd){continue;}}throw new Error(_0xd9c5ae(0xc69));}if('file-ingest'===_0xd96771['type']){const {vendorId:_0x19b93c,collectionId:_0x45d741,namespace:_0x163e2c,fileName:_0x243746,content:_0xdbfb08}=_0xd96771,_0x4ff3eb=await _0x5be0c7[_0xd9c5ae(0x480)](_0x19b93c,_0x45d741);if(_0x4ff3eb[_0xd9c5ae(0x3a5)]!==_0x2bba8e[_0xd9c5ae(0x9f7)][_0xd9c5ae(0x65e)]){const _0x1e0ec2=this[_0xd9c5ae(0xc4a)]?.['get'](_0x4ff3eb['storageType']);if(!_0x1e0ec2)throw new Error('No\x20RAG\x20connector\x20available');const _0x2bb603=_0x557186(_0x19b93c,_0x4ff3eb);return await _0x1e0ec2[_0xd9c5ae(0x241)]({'instanceId':_0x2bb603,'collectionId':_0x45d741,'namespace':_0x163e2c},_0x243746,_0xdbfb08),{'type':'file-ingest'};}const _0x2b5ef2=_0x4ff3eb['ingestBlocks']?.['find'](_0x163abd=>_0x163abd[_0xd9c5ae(0x649)]===_0x4cc421[_0xd9c5ae(0xc66)]);if(!_0x2b5ef2)throw new Error('No\x20start\x20block\x20found');const _0x41c896=(0x0,_0x4821d1['v4'])();return _0x50c690[_0xd9c5ae(0x871)](_0x19b93c,_0x41c896),_0x163e2c&&(_0x4ff3eb[_0xd9c5ae(0x4a7)]=_0x163e2c),await _0x266b27(_0xd96771[_0xd9c5ae(0x2ae)],_0x41c896,'/'+_0x19b93c+'/'+_0x45d741+'/'+_0x243746,_0xdbfb08,_0x2b5ef2,_0x4ff3eb,{'objectStoreConnector':this['objectStoreConnector'],'ragConnector':this['ragConnectors']?.[_0xd9c5ae(0x441)](_0x2bba8e[_0xd9c5ae(0x9f7)]['Crewdle']),'documentParserConnector':this['documentParserConnector'],'fileConnector':this[_0xd9c5ae(0x991)],'nlpLibraryConnector':this[_0xd9c5ae(0x415)],'generativeAIWorkerConnectors':this[_0xd9c5ae(0x861)],'speechAIWorkerConnectors':this[_0xd9c5ae(0x4dd)],'models':Array['from'](this['models']['values']()),'contentMediator':this[_0xd9c5ae(0x52b)]}),_0x50c690[_0xd9c5ae(0x7a0)](_0x41c896),{'type':'file-ingest'};}if(_0xd9c5ae(0x859)===_0xd96771[_0xd9c5ae(0x649)]){const {vendorId:_0x4f3058,collectionId:_0x1fba62,namespace:_0x4c7d92}=_0xd96771,_0x159fe1=await _0x5be0c7[_0xd9c5ae(0x480)](_0x4f3058,_0x1fba62);if(_0x159fe1[_0xd9c5ae(0x3a5)]!==_0x2bba8e[_0xd9c5ae(0x9f7)][_0xd9c5ae(0x65e)]){const _0x1443df=this[_0xd9c5ae(0xc4a)]?.[_0xd9c5ae(0x441)](_0x159fe1[_0xd9c5ae(0x3a5)]);if(!_0x1443df)throw new Error(_0xd9c5ae(0x822));const _0x57f4e8=_0x557186(_0x4f3058,_0x159fe1);return{'type':_0xd9c5ae(0x859),'files':await _0x1443df['listFiles']({'instanceId':_0x57f4e8,'collectionId':_0x1fba62,'namespace':_0x4c7d92})};}try{return{'type':_0xd9c5ae(0x859),'files':(await this['objectStoreConnector'][_0xd9c5ae(0x5cb)]('/'+_0x4f3058+'/'+_0x1fba62,!0x1))['map'](_0x540fd3=>({'name':_0x540fd3[_0xd9c5ae(0xc30)],'id':_0x540fd3['name'],'status':_0xd9c5ae(0x73b)}))};}catch(_0x3a285c){return{'type':_0xd9c5ae(0x859),'files':[]};}}if(_0xd9c5ae(0x1de)===_0xd96771['type']){const {vendorId:_0x28cebe,collectionId:_0x528b93}=_0xd96771,_0x329263=await _0x5be0c7[_0xd9c5ae(0x480)](_0x28cebe,_0x528b93),_0x49ebb6=this[_0xd9c5ae(0xc4a)]?.[_0xd9c5ae(0x441)](_0x329263[_0xd9c5ae(0x3a5)]);if(!_0x49ebb6)return{'type':_0xd9c5ae(0x1de)};const _0x3f35c4=_0x557186(_0x28cebe,_0x329263);return await _0x49ebb6['createCollection'](_0x3f35c4,_0x528b93),{'type':'collection-create'};}if('collection-delete'===_0xd96771[_0xd9c5ae(0x649)]){const {vendorId:_0x51d481,collectionId:_0x223c22}=_0xd96771,_0x36b2db=await _0x5be0c7['getDataCollection'](_0x51d481,_0x223c22),_0x4a4dfa=this['ragConnectors']?.[_0xd9c5ae(0x441)](_0x36b2db[_0xd9c5ae(0x3a5)]);if(!_0x4a4dfa)return{'type':_0xd9c5ae(0xb25)};const _0xee4d66=_0x557186(_0x51d481,_0x36b2db);let _0x3b5910=!0x1;if(_0x36b2db['hosting']===_0x16df3c[_0xd9c5ae(0x423)]&&(_0x3b5910=!0x0),_0x36b2db[_0xd9c5ae(0xb0f)]===_0x16df3c[_0xd9c5ae(0xb39)]){_0x3b5910=!0x0;const _0x147112=await _0x5be0c7['getDataCollections'](_0x51d481);for(const _0x589b39 of _0x147112)if(_0x589b39[_0xd9c5ae(0x3a5)]===_0x36b2db['storageType']&&_0x589b39[_0xd9c5ae(0xb0f)]===_0x16df3c[_0xd9c5ae(0xb39)]&&_0x589b39['id']!==_0x36b2db['id']){_0x3b5910=!0x1;break;}}try{await _0x4a4dfa['deleteCollection'](_0xee4d66,_0x223c22,_0x3b5910);}catch(_0x4cb545){_0x1822ee[_0xd9c5ae(0xc13)](_0xd9c5ae(0x5e8),_0x4cb545);}return{'type':_0xd9c5ae(0xb25)};}if(_0xd9c5ae(0xb73)===_0xd96771[_0xd9c5ae(0x649)]){const {query:_0x3891d5,vendorId:_0x4db1dd,collectionId:_0x401ff0,namespace:_0x1b6cfa}=_0xd96771,_0x34c535=await _0x5be0c7[_0xd9c5ae(0x480)](_0x4db1dd,_0x401ff0);if(_0x34c535[_0xd9c5ae(0x3a5)]!==_0x2bba8e[_0xd9c5ae(0x9f7)]['Crewdle']){const _0x17ed72=this[_0xd9c5ae(0xc4a)]?.[_0xd9c5ae(0x441)](_0x34c535[_0xd9c5ae(0x3a5)]);if(!_0x17ed72)throw new Error(_0xd9c5ae(0x822));const _0x60c8f1=_0x557186(_0x4db1dd,_0x34c535);return{'type':'collection-query','results':await _0x17ed72[_0xd9c5ae(0x8c9)]({'instanceId':_0x60c8f1,'collectionId':_0x401ff0,'namespace':_0x1b6cfa},_0x3891d5,0x1)};}const _0x3ed6b5=_0x34c535[_0xd9c5ae(0x474)]?.[_0xd9c5ae(0x5b4)](_0x58bee1=>_0x58bee1[_0xd9c5ae(0x649)]===_0x4cc421[_0xd9c5ae(0x7a9)]);return _0x1b6cfa&&(_0x34c535['namespace']=_0x1b6cfa),{'type':_0xd9c5ae(0xb73),'results':(await _0x43b24d(_0xd96771['vendorId'],_0x330366,'',_0x3891d5,_0x3ed6b5,_0x34c535,{'objectStoreConnector':this[_0xd9c5ae(0x92a)],'ragConnector':this['ragConnectors']?.[_0xd9c5ae(0x441)](_0x2bba8e[_0xd9c5ae(0x9f7)]['Crewdle']),'documentParserConnector':this[_0xd9c5ae(0x502)],'fileConnector':this[_0xd9c5ae(0x991)],'nlpLibraryConnector':this[_0xd9c5ae(0x415)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'speechAIWorkerConnectors':this[_0xd9c5ae(0x4dd)],'models':Array[_0xd9c5ae(0x218)](this['models'][_0xd9c5ae(0xbc7)]()),'contentMediator':this[_0xd9c5ae(0x52b)],'searchConnector':this[_0xd9c5ae(0xb99)],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this[_0xd9c5ae(0xbd0)]}))[_0xd9c5ae(0xae5)]??[]};}throw new Error(_0xd9c5ae(0x6d3));}async*[_0x227435(0x6b2)](_0x52b657,_0x3264a3){const _0xd3ec99=_0x227435;if('prompt'===_0x3264a3[_0xd3ec99(0x649)]){const _0x58d472=await _0x5be0c7[_0xd3ec99(0x6ba)](_0x3264a3['vendorId'],_0x3264a3[_0xd3ec99(0x31e)]),_0x17492f=_0x58d472['blocks'][_0xd3ec99(0x5b4)](_0x4f90b8=>_0x4f90b8[_0xd3ec99(0x649)]===_0x296cd7[_0xd3ec99(0x7a9)]||_0x4f90b8[_0xd3ec99(0x649)]===_0x296cd7[_0xd3ec99(0x25c)]||_0x4f90b8[_0xd3ec99(0x649)]===_0x296cd7['InputEmail']);for await(const _0x4c478b of _0x49f498(_0x3264a3['jobId']??_0x52b657,_0x3264a3,_0x17492f,_0x58d472['blocks'],{'documentParserConnector':this[_0xd3ec99(0x502)],'fileConnector':this[_0xd3ec99(0x991)],'nlpLibraryConnector':this[_0xd3ec99(0x415)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'speechAIWorkerConnectors':this[_0xd3ec99(0x4dd)],'models':Array[_0xd3ec99(0x218)](this['models'][_0xd3ec99(0xbc7)]()),'contentMediator':this['contentMediator'],'searchConnector':this[_0xd3ec99(0xb99)],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this['queryFileConnector']}))yield _0x4c478b;}if(_0xd3ec99(0x393)===_0x3264a3[_0xd3ec99(0x649)]){for await(const _0x41dd80 of _0x58158d(_0x3264a3['jobId']??_0x52b657,_0x3264a3,{'documentParserConnector':this['documentParserConnector'],'fileConnector':this[_0xd3ec99(0x991)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0xd3ec99(0x861)],'speechAIWorkerConnectors':this[_0xd3ec99(0x4dd)],'models':Array[_0xd3ec99(0x218)](this[_0xd3ec99(0x827)][_0xd3ec99(0xbc7)]()),'contentMediator':this['contentMediator'],'searchConnector':this['searchConnector'],'aiSearchConnector':this[_0xd3ec99(0xaee)],'queryFileConnector':this[_0xd3ec99(0xbd0)]}))yield _0x41dd80;}}async[_0x227435(0xbcf)](_0x3216f0,_0x2eaee7){const _0x239f93=_0x227435;if(_0x239f93(0x302)===_0x2eaee7[_0x239f93(0x649)])return _0x3216f0=_0x2eaee7[_0x239f93(0x203)],void await this['openTrace'](_0x3216f0,_0x2eaee7[_0x239f93(0x2ae)],_0x2eaee7[_0x239f93(0x31e)]);_0x239f93(0x7ed)!==_0x2eaee7[_0x239f93(0x649)]&&_0x239f93(0x393)!==_0x2eaee7[_0x239f93(0x649)]||!_0x2eaee7[_0x239f93(0x203)]||(_0x3216f0=_0x2eaee7['jobId']),await this['openTrace'](_0x3216f0,_0x2eaee7[_0x239f93(0x2ae)],_0x2eaee7[_0x239f93(0x31e)],_0x2eaee7[_0x239f93(0x591)],_0x2eaee7['privacy']),await _0x50c690[_0x239f93(0x351)]({'jobType':_0x36cb8d[_0x239f93(0x55e)],'type':_0x3f2531['Queued'],'traceLevel':_0x57b22b[_0x239f93(0x8f3)],'jobId':_0x3216f0,'threadId':_0x2eaee7[_0x239f93(0x591)],'startTime':Date[_0x239f93(0xb26)](),'timestamp':Date[_0x239f93(0xb26)](),'status':_0x239f93(0x8bb)});}async[_0x227435(0x388)](_0x395fad,_0x544afb){const _0x3b1653=_0x227435;if(_0x3b1653(0x302)===_0x544afb[_0x3b1653(0x649)])return _0x395fad=_0x544afb['jobId'],void await this['closeTrace'](_0x395fad);_0x3b1653(0x7ed)!==_0x544afb[_0x3b1653(0x649)]&&_0x3b1653(0x393)!==_0x544afb[_0x3b1653(0x649)]||!_0x544afb[_0x3b1653(0x203)]||(_0x395fad=_0x544afb[_0x3b1653(0x203)]),await _0x50c690[_0x3b1653(0x351)]({'jobType':_0x36cb8d[_0x3b1653(0x55e)],'type':_0x3f2531['Completed'],'traceLevel':_0x57b22b['Info'],'jobId':_0x395fad,'threadId':_0x544afb[_0x3b1653(0x591)],'startTime':Date['now'](),'timestamp':Date[_0x3b1653(0xb26)](),'status':_0x3b1653(0x8bb)}),await this[_0x3b1653(0x7a0)](_0x395fad,_0x544afb[_0x3b1653(0x591)]);}[_0x227435(0x852)](_0xebc89d){const _0x3b219d=_0x227435;switch(_0xebc89d['type']){case _0x296cd7[_0x3b219d(0x5ac)]:case _0x296cd7['AgentSkill']:return _0x3b219d(0x7b6)+_0xebc89d[_0x3b219d(0xc30)][_0x3b219d(0x217)](/[^a-zA-Z]/g,'');case _0x296cd7[_0x3b219d(0xa21)]:return _0x3b219d(0x712)+_0xebc89d[_0x3b219d(0xc30)][_0x3b219d(0x217)](/[^a-zA-Z]/g,'');case _0x296cd7[_0x3b219d(0x2bd)]:case _0x296cd7['Knowledge']:return _0x3b219d(0xa14)+_0xebc89d[_0x3b219d(0xc30)]['replace'](/[^a-zA-Z]/g,'');case _0x296cd7[_0x3b219d(0xb46)]:return _0xebc89d[_0x3b219d(0xc30)][_0x3b219d(0x217)](/[^a-zA-Z]/g,'');case _0x296cd7['AiSearch']:return _0x3b219d(0x839);case _0x296cd7[_0x3b219d(0x5e6)]:return _0x3b219d(0x321);case _0x296cd7['Search']:return _0x3b219d(0xaf9);case _0x296cd7[_0x3b219d(0xa0a)]:case _0x296cd7['WebScraperRaw']:return _0x3b219d(0x248);case _0x2bba8e[_0x3b219d(0x517)][_0x3b219d(0xb9f)]:return _0x3b219d(0xbdd)+_0xebc89d[_0x3b219d(0xc30)][_0x3b219d(0x217)](/[^a-zA-Z]/g,'');case _0x2bba8e[_0x3b219d(0x517)][_0x3b219d(0x5b3)]:return _0x3b219d(0xb44)+_0xebc89d[_0x3b219d(0xc30)][_0x3b219d(0x217)](/[^a-zA-Z]/g,'');case _0x2bba8e['GenerativeAIInferenceToolType']['FormSkillSubmitForm']:return _0x3b219d(0x798)+_0xebc89d['name'][_0x3b219d(0x217)](/[^a-zA-Z]/g,'');default:return'';}}[_0x227435(0xac8)](_0x27ce61){const _0x56db0b=_0x227435;switch(_0x27ce61[_0x56db0b(0x649)]){case _0x296cd7[_0x56db0b(0x5ac)]:case _0x296cd7['AgentSkill']:return'Execute\x20the\x20agent\x20'+_0x27ce61[_0x56db0b(0x60e)]+_0x56db0b(0x67e);case _0x296cd7[_0x56db0b(0xa21)]:return _0x56db0b(0x61d)+_0x27ce61[_0x56db0b(0x60e)]+'\x20to\x20generate\x20a\x20response.';case _0x296cd7['DataCollection']:case _0x296cd7[_0x56db0b(0x45b)]:return _0x56db0b(0xb62)+_0x27ce61[_0x56db0b(0x60e)]+_0x56db0b(0x81c);case _0x296cd7[_0x56db0b(0xb46)]:return _0x56db0b(0x243)+_0x27ce61[_0x56db0b(0x60e)];case _0x296cd7['AiSearch']:return _0x56db0b(0x32c);case _0x296cd7['Code']:return _0x56db0b(0x8e4);case _0x296cd7[_0x56db0b(0x9e1)]:return'Perform\x20a\x20search\x20on\x20Google\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.';case _0x296cd7[_0x56db0b(0xa0a)]:case _0x296cd7[_0x56db0b(0x6fc)]:return _0x56db0b(0x910);case _0x2bba8e[_0x56db0b(0x517)][_0x56db0b(0xb9f)]:return _0x56db0b(0xa28);case _0x2bba8e[_0x56db0b(0x517)][_0x56db0b(0x5b3)]:return _0x56db0b(0x706);case _0x2bba8e[_0x56db0b(0x517)]['FormSkillSubmitForm']:return'Submit\x20the\x20form.';default:return'';}}['getToolParams'](_0x524e9f){const _0x4a2d5a=_0x227435;switch(_0x524e9f[_0x4a2d5a(0x649)]){case _0x296cd7[_0x4a2d5a(0x5ac)]:case _0x296cd7[_0x4a2d5a(0x2b9)]:case _0x296cd7[_0x4a2d5a(0xa21)]:return[{'name':'prompt','type':_0x4a2d5a(0x984)}];case _0x296cd7[_0x4a2d5a(0x2bd)]:case _0x296cd7['Knowledge']:return[{'name':'queryOrPrompt','type':'string'}];case _0x296cd7[_0x4a2d5a(0xb46)]:return _0x524e9f[_0x4a2d5a(0x6b9)][_0x4a2d5a(0x7b9)](_0x1a40e1=>({'name':_0x1a40e1[_0x4a2d5a(0xc30)],'type':_0x1a40e1['type']??_0x4a2d5a(0x984)}))??[];case _0x296cd7[_0x4a2d5a(0xac0)]:return[{'name':_0x4a2d5a(0x97f),'type':_0x4a2d5a(0x984)}];case _0x296cd7[_0x4a2d5a(0x5e6)]:return[{'name':_0x4a2d5a(0x3f0),'type':_0x4a2d5a(0x984)}];case _0x296cd7[_0x4a2d5a(0x9e1)]:return[{'name':_0x4a2d5a(0x97f),'type':_0x4a2d5a(0x984)}];case _0x296cd7['WebScraper']:case _0x296cd7[_0x4a2d5a(0x6fc)]:return[{'name':_0x4a2d5a(0x2d4),'type':_0x4a2d5a(0x984)},{'name':'page','type':_0x4a2d5a(0x878)}];case _0x2bba8e[_0x4a2d5a(0x517)]['FormSkillGetQuestion']:return[];case _0x2bba8e['GenerativeAIInferenceToolType'][_0x4a2d5a(0x5b3)]:return[{'name':'id','type':_0x4a2d5a(0x984)},{'name':_0x4a2d5a(0x44a),'type':_0x4a2d5a(0x984)}];case _0x2bba8e[_0x4a2d5a(0x517)][_0x4a2d5a(0x21a)]:default:return[];}}['getCoresFromCapacityReport'](){const _0x27cd20=_0x227435;try{return this[_0x27cd20(0x748)]['getCapacityReport']()['gpu'][_0x27cd20(0xad8)]*(0x1-this[_0x27cd20(0x748)]['getCapacityReport']()[_0x27cd20(0x2ec)][_0x27cd20(0x1fa)]);}catch(_0x2d3c98){return _0x1822ee[_0x27cd20(0xbf2)](_0xbbb80e[_0x27cd20(0x54e)],_0x27cd20(0xc4c),_0x2d3c98),0x0;}}[_0x227435(0x23c)](){const _0x2b06cc=_0x227435;this[_0x2b06cc(0x8f1)]&&(this[_0x2b06cc(0xb57)]&&clearTimeout(this[_0x2b06cc(0xb57)]),this[_0x2b06cc(0xb57)]=setTimeout(async()=>{const _0x415744=_0x2b06cc;delete this[_0x415744(0xb57)];let _0x4b79c1=0x0;for(const _0x3aeff0 of this['dataStores']['values']())_0x4b79c1+=await _0x3aeff0[_0x415744(0xc6e)]();this[_0x415744(0x45d)][_0x415744(0xb22)]({'sourceId':_0x48df1c,'messageType':_0x37ab1a[_0x415744(0x42c)],'content':{'type':_0x593bd0['GenerativeAIWorkerStats'],'label':this[_0x415744(0x40a)],'stats':{'timestamp':Date[_0x415744(0xb26)](),'storage':_0x4b79c1,'messagesSent':this['messagesSent'],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x415744(0x41d)],'bytesReceived':this['bytesReceived'],'writes':0x0,'reads':0x0,'prompts':this[_0x415744(0x298)],'tokens':this[_0x415744(0x73e)]}}});},_0x384e78));}[_0x227435(0x8c4)](_0x5c2487,_0x2a581e){const _0x101a86=_0x227435,_0x20809f=this[_0x101a86(0x40a)],_0x55510f=this[_0x101a86(0xa93)]();_0x1822ee[_0x101a86(0x8c4)](_0x26d5b9[_0x101a86(0x296)],{'topic':_0x20809f,'type':_0x101a86(0x44a),'nodeId':_0x55510f,'tokenCount':_0x2a581e,'tokensPerSecond':_0x5c2487});}async[_0x227435(0x871)](_0x160afc,_0x46aa8e,_0x4f67db,_0x15d018,_0x4ee966){const _0x34a18a=_0x227435;try{if(!await _0x50c690[_0x34a18a(0x871)](_0x46aa8e,_0x160afc,_0x4f67db,_0x15d018,_0x4ee966))throw new Error(_0x34a18a(0x31c));return _0x160afc;}catch(_0x1f49a4){return console[_0x34a18a(0xc13)](_0x34a18a(0x31c),_0x1f49a4),_0x34a18a(0xaa8);}}async[_0x227435(0x7a0)](_0x299fd6,_0x5ed715){const _0x295a30=_0x227435;try{await _0x50c690['closeTrace'](_0x299fd6,_0x5ed715);}catch(_0x4d70d9){console[_0x295a30(0xc13)](_0x295a30(0xbc6),{'jobId':_0x299fd6,'error':_0x4d70d9});}}}class _0xf17cfc extends _0x4c830f{[_0x227435(0xc26)];[_0x227435(0x7f8)];[_0x227435(0x2ae)];['db'];[_0x227435(0xb57)];[_0x227435(0xb63)]=0x0;[_0x227435(0x352)]=0x0;[_0x227435(0xace)]=!0x1;constructor(_0x3edd4c,_0x43c80c,_0x2159b4,_0x26e00b,_0x18cba){const _0x3bb89f=_0x227435;if('string'!=typeof _0x43c80c)throw new _0x27b95d(_0x398751['GraphDatabaseNameNotString'],_0x3bb89f(0x4fa));super(_0x3edd4c,_0x43c80c),this['localNode']=_0x3edd4c,this[_0x3bb89f(0x7f8)]=_0x2159b4,this[_0x3bb89f(0x2ae)]=_0x26e00b;const _0x4fe842=_0x3bb89f(0x34d)+this[_0x3bb89f(0x2ae)]+_0x3bb89f(0x34d)+this[_0x3bb89f(0x7f8)]+_0x3bb89f(0x34d)+this[_0x3bb89f(0x40a)];this['db']=new _0x18cba(_0x4fe842),this[_0x3bb89f(0x23c)]();}['getIsLoaded'](){const _0x1ee408=_0x227435;return this[_0x1ee408(0xace)];}['setIsLoaded'](_0x2c364){this['isLoaded']=_0x2c364;}[_0x227435(0xa3c)](){const _0x32334e=_0x227435;clearTimeout(this['debounceStats']),delete this[_0x32334e(0xb57)],super[_0x32334e(0xa3c)]();}[_0x227435(0xa42)](){const _0xf6d964=_0x227435;this['systemTopic'][_0xf6d964(0xb22)]({'sourceId':_0x48df1c,'messageType':_0x37ab1a[_0xf6d964(0x42c)],'content':{'type':_0x593bd0[_0xf6d964(0x245)],'label':this[_0xf6d964(0x40a)]}});}[_0x227435(0x9b5)](){const _0x64f43e=_0x227435;return _0x2bba8e[_0x64f43e(0x97c)]['GraphDatabase'];}[_0x227435(0x278)](){this['sendStats']();}[_0x227435(0x1ee)](_0x12c243,_0x4cd661,_0x12b7e9,_0x2082ee){const _0x530390=_0x227435;this['db'][_0x530390(0x1ee)](_0x12c243,_0x4cd661,_0x12b7e9,_0x2082ee),this[_0x530390(0xb63)]+=0x1,this['sendStats']();}[_0x227435(0x932)](_0x5666a4,_0x1391e5){const _0x21ff8e=_0x227435;this['db'][_0x21ff8e(0x932)](_0x5666a4,_0x1391e5),this[_0x21ff8e(0xb63)]+=0x1,this[_0x21ff8e(0x23c)]();}[_0x227435(0x73d)](_0x39c31f,_0x28066e,_0x499e14){const _0x54c89d=_0x227435,_0x4a64aa=this['db'][_0x54c89d(0x73d)](_0x39c31f,_0x28066e,_0x499e14);return this[_0x54c89d(0x352)]+=0x1,_0x1822ee[_0x54c89d(0x8c4)](_0x26d5b9[_0x54c89d(0x1e3)],{'type':'get-content','label':this[_0x54c89d(0x40a)],'nodeId':this[_0x54c89d(0xc26)]['getId'](),'nodeType':this[_0x54c89d(0xc26)][_0x54c89d(0x649)],'clusterId':this[_0x54c89d(0x7f8)],'size':0x0}),this[_0x54c89d(0x23c)](),_0x4a64aa;}[_0x227435(0xa74)](_0x9e1b6a){const _0x1d0656=_0x227435;this['db']['remove'](_0x9e1b6a),this[_0x1d0656(0xb63)]+=0x1,this[_0x1d0656(0x23c)]();}[_0x227435(0x3fe)](_0x4b72df){this['db']['saveToDisk'](_0x4b72df);}[_0x227435(0x8a0)](_0x36ae86){const _0x3c010b=_0x227435;this['db'][_0x3c010b(0x8a0)](_0x36ae86);}[_0x227435(0x23c)](){const _0x356795=_0x227435;this[_0x356795(0xb57)]&&clearTimeout(this[_0x356795(0xb57)]),this[_0x356795(0xb57)]=setTimeout(async()=>{const _0x11c2dd=_0x356795;delete this[_0x11c2dd(0xb57)];const _0x393463=this['db'][_0x11c2dd(0xc6e)]();this[_0x11c2dd(0x45d)][_0x11c2dd(0xb22)]({'sourceId':_0x48df1c,'messageType':_0x37ab1a[_0x11c2dd(0x42c)],'content':{'type':_0x593bd0['GraphDatabaseStats'],'label':this[_0x11c2dd(0x40a)],'stats':{'timestamp':Date[_0x11c2dd(0xb26)](),'storage':_0x393463,'messagesSent':this[_0x11c2dd(0xa92)],'messagesReceived':this[_0x11c2dd(0x64f)],'bytesSent':this[_0x11c2dd(0x41d)],'bytesReceived':this[_0x11c2dd(0x485)],'writes':this[_0x11c2dd(0xb63)],'reads':this[_0x11c2dd(0x352)],'prompts':0x0,'tokens':0x0}}}),_0x1822ee[_0x11c2dd(0x33c)](_0x26d5b9[_0x11c2dd(0x1e3)],_0x11c2dd(0x34d)+this[_0x11c2dd(0x7f8)]+_0x11c2dd(0x34d)+this['label'],_0x393463);},_0x384e78);}}class _0x533d92 extends _0x3b1ae5{[_0x227435(0x7d3)];constructor(_0xde88a5,_0x3ff73d,_0x4d063e){const _0x389ced=_0x227435;super(_0xde88a5,_0x3ff73d),this[_0x389ced(0x7d3)]=_0x4d063e;}[_0x227435(0x9b5)](){const _0x545550=_0x227435;return _0x2bba8e[_0x545550(0x97c)]['Media'];}['getMediaStream'](){return this['mediaStream'];}[_0x227435(0x83d)](){const _0x13b595=_0x227435;return this[_0x13b595(0x7d3)]['id'];}}class _0x454854 extends _0x533d92{[_0x227435(0x963)];[_0x227435(0x95a)];['topic'];[_0x227435(0x4e3)]=_0x4f6343();constructor(_0x4c5e42,_0x23242c,_0x3f085c,_0x5cda74,_0x57a92a){const _0x3c731b=_0x227435;super(_0x4c5e42,_0x23242c,_0x3f085c),this[_0x3c731b(0x963)]=_0x5cda74,this[_0x3c731b(0x95a)]=_0x57a92a;}[_0x227435(0xa3c)](){const _0x5783d4=_0x227435;this[_0x5783d4(0x3ab)](_0x5783d4(0x305)),this[_0x5783d4(0x3ab)](_0x5783d4(0x4c1)),super[_0x5783d4(0xa3c)]();}[_0x227435(0x71e)](_0x3e2a5d){const _0x3d1d18=_0x227435;if(!this['topic'])throw new _0x82cd08(_0x82cd08[_0x3d1d18(0xab8)][_0x3d1d18(0x559)],{'label':this[_0x3d1d18(0x40a)],'ownerId':this[_0x3d1d18(0x4be)]['getId'](),'remoteId':this[_0x3d1d18(0x963)]});this[_0x3d1d18(0x277)][_0x3d1d18(0xb22)]({'sourceId':this[_0x3d1d18(0x4be)][_0x3d1d18(0xc22)](),'content':{'action':_0x1321bb['Add'],'track':_0x3e2a5d,'stream':this[_0x3d1d18(0x7d3)],'priority':_0x2bba8e[_0x3d1d18(0x6b7)][_0x3d1d18(0x749)],'params':this['getInternalTrackParams'](_0x3e2a5d[_0x3d1d18(0xb74)],this[_0x3d1d18(0x95a)])}});}[_0x227435(0x3ab)](_0x3ef8dd){const _0x3440b0=_0x227435,_0x29c8d1=this[_0x3440b0(0x290)](_0x3ef8dd);if(_0x29c8d1){if(!this[_0x3440b0(0x277)])return null;this[_0x3440b0(0x277)]['publish']({'sourceId':this['owner'][_0x3440b0(0xc22)](),'content':{'action':_0x1321bb['Remove'],'track':_0x29c8d1,'stream':this[_0x3440b0(0x7d3)]}});}return _0x29c8d1;}[_0x227435(0x976)](_0x2d5318){const _0x58415e=_0x227435;if(!this[_0x58415e(0x277)])throw new _0x82cd08(_0x82cd08[_0x58415e(0xab8)][_0x58415e(0x559)],{'label':this[_0x58415e(0x40a)],'ownerId':this[_0x58415e(0x4be)][_0x58415e(0xc22)](),'remoteId':this[_0x58415e(0x963)]});this['topic'][_0x58415e(0xb22)]({'sourceId':this[_0x58415e(0x4be)][_0x58415e(0xc22)](),'content':{'action':_0x1321bb['Update'],'priority':_0x2d5318,'stream':this[_0x58415e(0x7d3)]}});}[_0x227435(0x214)]({trackKinds:_0x23b4b4,params:_0x4f0b18},_0x357b0e){const _0x404eed=_0x227435;if(!this[_0x404eed(0x277)])throw new _0x82cd08(_0x82cd08[_0x404eed(0xab8)][_0x404eed(0x559)],{'label':this[_0x404eed(0x40a)],'ownerId':this['owner']['getId'](),'remoteId':this[_0x404eed(0x963)]});for(const _0x14d968 of this['mediaStream'][_0x404eed(0xaeb)]())_0x23b4b4['includes'](_0x14d968[_0x404eed(0xb74)])&&this[_0x404eed(0x277)][_0x404eed(0xb22)]({'sourceId':this[_0x404eed(0x4be)][_0x404eed(0xc22)](),'content':{'action':_0x1321bb[_0x404eed(0xa97)],'track':_0x14d968,'stream':this[_0x404eed(0x7d3)],'priority':_0x357b0e,'params':this['getInternalTrackParams'](_0x14d968[_0x404eed(0xb74)],_0x4f0b18)}});}[_0x227435(0x75a)]({params:_0x394c0c}){const _0x47c52c=_0x227435;if(!this[_0x47c52c(0x277)])throw new _0x82cd08(_0x82cd08[_0x47c52c(0xab8)]['OutgoingMediaStreamNoTopic'],{'label':this[_0x47c52c(0x40a)],'ownerId':this['owner'][_0x47c52c(0xc22)](),'remoteId':this[_0x47c52c(0x963)]});for(const _0x5a778a of this['mediaStream'][_0x47c52c(0xaeb)]())this[_0x47c52c(0x277)]['publish']({'sourceId':this['owner'][_0x47c52c(0xc22)](),'content':{'action':_0x1321bb[_0x47c52c(0x34c)],'stream':this[_0x47c52c(0x7d3)],'params':this[_0x47c52c(0x2ff)](_0x5a778a['kind'],_0x394c0c)}});}[_0x227435(0x46f)]({trackKinds:_0xbc670c}){const _0x41d896=_0x227435;if(this[_0x41d896(0x277)]){for(const _0x4a2293 of this[_0x41d896(0x7d3)][_0x41d896(0xaeb)]())_0xbc670c[_0x41d896(0x771)](_0x4a2293[_0x41d896(0xb74)])&&this['topic'][_0x41d896(0xb22)]({'sourceId':this[_0x41d896(0x4be)]['getId'](),'content':{'action':_0x1321bb['Remove'],'stream':this[_0x41d896(0x7d3)],'track':_0x4a2293}});}}[_0x227435(0x9a3)](_0x2a3365){this['topic']=_0x2a3365;}[_0x227435(0x408)](_0x741455){const _0x3084ed=_0x227435;_0x741455===this[_0x3084ed(0x277)]&&(delete this[_0x3084ed(0x277)],this[_0x3084ed(0x4e3)][_0x3084ed(0xb22)]());}[_0x227435(0x7d6)](_0x3148b4){const _0x582859=_0x227435;return this[_0x582859(0x4e3)][_0x582859(0x214)](_0x3148b4);}['getTrack'](_0x13b789){const _0x305eee=_0x227435;return this['mediaStream'][_0x305eee(0xaeb)]()[_0x305eee(0x5b4)](_0x45bfb7=>_0x45bfb7[_0x305eee(0xb74)]===_0x13b789)||null;}[_0x227435(0x2ff)](_0xed0c5a,_0x1569d6){const _0x48755d=_0x227435;let _0x53ad4e;return _0x48755d(0x4c1)===_0xed0c5a&&_0x1569d6?.['video']&&_0x48755d(0xa44)!=typeof _0x1569d6[_0x48755d(0x4c1)]&&(_0x53ad4e={'kind':_0x48755d(0x4c1),..._0x1569d6[_0x48755d(0x4c1)]},_0x53ad4e[_0x48755d(0x546)]=this[_0x48755d(0x572)]()),'audio'===_0xed0c5a&&_0x1569d6?.[_0x48755d(0x305)]&&'boolean'!=typeof _0x1569d6[_0x48755d(0x305)]&&(_0x53ad4e={'kind':'audio',..._0x1569d6[_0x48755d(0x305)]}),_0x53ad4e;}['getResolution'](){const _0x4af4a2=_0x227435;let _0x12d51f={'width':0x0,'height':0x0};const _0xb843d0=this[_0x4af4a2(0x7d3)]['getVideoTracks']();if(_0xb843d0[_0x4af4a2(0xbfb)]>0x0){const _0x455148=_0xb843d0[0x0][_0x4af4a2(0x338)]();_0x455148[_0x4af4a2(0x478)]&&_0x455148[_0x4af4a2(0x2a2)]&&(_0x12d51f={'width':_0x455148[_0x4af4a2(0x478)],'height':_0x455148[_0x4af4a2(0x2a2)]});}return _0x12d51f;}}class _0x3ddcea extends _0x533d92{[_0x227435(0x7f8)];['priority']=_0x2bba8e[_0x227435(0x6b7)][_0x227435(0x749)];[_0x227435(0x863)]=new Map();[_0x227435(0x58f)]=new Map();constructor(_0x43d655,_0x5ddd4a,_0x2be4c3,_0x2213ee){const _0x31978c=_0x227435;super(_0x43d655,_0x5ddd4a,_0x2be4c3 instanceof MediaStream?_0x2be4c3:_0x2be4c3[_0x31978c(0xb7a)]?_0x2be4c3[_0x31978c(0xb7a)]:_0x2be4c3[_0x31978c(0x5f4)]()),this[_0x31978c(0x7f8)]=_0x2213ee,this[_0x31978c(0x7d3)][_0x31978c(0xaeb)]()[_0x31978c(0x3e7)](_0x347107=>this[_0x31978c(0x2d1)](_0x347107)),_0x1822ee[_0x31978c(0x8c4)](_0x26d5b9['MediaStream'],{'type':'publish','label':this[_0x31978c(0x40a)],'nodeId':this[_0x31978c(0x4be)][_0x31978c(0xc22)](),'nodeType':this[_0x31978c(0x4be)]['type'],'clusterId':this[_0x31978c(0x7f8)],'streamId':this[_0x31978c(0x83d)](),'trackKinds':this['mediaStream'][_0x31978c(0xaeb)]()[_0x31978c(0x7b9)](_0x4ecdcf=>_0x4ecdcf[_0x31978c(0xb74)])});}[_0x227435(0xa3c)](){const _0xaa0b85=_0x227435;this[_0xaa0b85(0x58f)][_0xaa0b85(0x9e7)]>0x0&&(this[_0xaa0b85(0x58f)]['forEach'](_0x253c81=>{_0x253c81['unregisterSystemPublisher'](),_0x253c81['destroy']();}),this['outgoingStreams']['clear']()),this[_0xaa0b85(0x863)][_0xaa0b85(0x3e7)](_0xc08dd3=>_0xc08dd3()),super[_0xaa0b85(0xa3c)]();}['publish'](_0x57b500){const _0x455d8b=_0x227435;this[_0x455d8b(0x45d)]['publish']({'sourceId':this[_0x455d8b(0x4be)][_0x455d8b(0xc22)](),'destinationIds':_0x57b500?[_0x57b500]:void 0x0,'propagate':!0x0,'messageType':_0x37ab1a[_0x455d8b(0x42c)],'content':{'type':_0x593bd0[_0x455d8b(0x2d7)],'ownerId':this[_0x455d8b(0x4be)][_0x455d8b(0xc22)](),'label':this[_0x455d8b(0x40a)],'stream':{'streamId':this[_0x455d8b(0x83d)](),'availableTrackKinds':this[_0x455d8b(0x7d3)][_0x455d8b(0xaeb)]()[_0x455d8b(0x7b9)](_0x5057e3=>_0x5057e3[_0x455d8b(0xb74)])}}});}['unpublish'](){const _0x328734=_0x227435;this[_0x328734(0x45d)][_0x328734(0xb22)]({'sourceId':this['owner'][_0x328734(0xc22)](),'propagate':!0x0,'messageType':_0x37ab1a[_0x328734(0x42c)],'content':{'type':_0x593bd0[_0x328734(0x674)],'ownerId':this[_0x328734(0x4be)]['getId'](),'label':this[_0x328734(0x40a)]}}),this[_0x328734(0x45d)][_0x328734(0xb22)]({'sourceId':_0x48df1c,'messageType':_0x37ab1a['Content'],'content':{'type':_0x593bd0[_0x328734(0x8c2)],'label':this[_0x328734(0x40a)]}}),_0x1822ee[_0x328734(0x8c4)](_0x26d5b9[_0x328734(0x78a)],{'type':_0x328734(0x4c2),'label':this['label'],'nodeId':this[_0x328734(0x4be)][_0x328734(0xc22)](),'nodeType':this[_0x328734(0x4be)][_0x328734(0x649)],'clusterId':this[_0x328734(0x7f8)],'streamId':this[_0x328734(0x83d)]()});}[_0x227435(0x4fc)](){const _0x189c3b=_0x227435;return this[_0x189c3b(0x483)];}['setPriority'](_0x27b029){const _0xabdaa7=_0x227435;this[_0xabdaa7(0x483)]=_0x27b029,this['outgoingStreams']['forEach'](_0x559135=>_0x559135[_0xabdaa7(0x976)](_0x27b029));}[_0x227435(0x946)](_0x3a93ce,_0x548d37){const _0x56b40c=_0x227435;if(!this[_0x56b40c(0x58f)]['has'](_0x3a93ce)){const _0x26ae2d=new _0x454854(this[_0x56b40c(0x4be)],this[_0x56b40c(0x40a)],this[_0x56b40c(0x7d3)],_0x3a93ce,_0x548d37),_0x5da9bf=_0x26ae2d[_0x56b40c(0x7d6)](()=>{const _0x1e9800=_0x56b40c;_0x5da9bf(),this[_0x1e9800(0x58f)][_0x1e9800(0x441)](_0x3a93ce)?.['destroy'](),this[_0x1e9800(0x58f)][_0x1e9800(0x3df)](_0x3a93ce);});this[_0x56b40c(0x58f)][_0x56b40c(0x9b4)](_0x3a93ce,_0x26ae2d),_0x26ae2d[_0x56b40c(0xc6d)](this[_0x56b40c(0x45d)]);}return this[_0x56b40c(0x58f)][_0x56b40c(0x441)](_0x3a93ce);}[_0x227435(0xc7e)](){const _0x7fb5ba=_0x227435;return this[_0x7fb5ba(0x7d3)]['id'];}[_0x227435(0xc2c)](_0x1d077b){const _0x4e32fa=_0x227435;this['systemTopic'][_0x4e32fa(0xb22)]({'sourceId':_0x48df1c,'messageType':_0x37ab1a[_0x4e32fa(0x42c)],'content':{'type':_0x593bd0['LocalMediaStreamTrackFail'],'label':this[_0x4e32fa(0x40a)],'trackKinds':[_0x1d077b[_0x4e32fa(0xb74)]]}});}[_0x227435(0x2d1)](_0x5a100f){const _0x4e962a=_0x227435,_0x337e1b=()=>this[_0x4e962a(0xc2c)](_0x5a100f);_0x5a100f[_0x4e962a(0xbee)](_0x4e962a(0x986),_0x337e1b),_0x5a100f[_0x4e962a(0xbee)](_0x4e962a(0x80e),_0x337e1b),this['trackEndedListeners'][_0x4e962a(0x9b4)](_0x5a100f[_0x4e962a(0xb74)],()=>{const _0x5638b1=_0x4e962a;_0x5a100f[_0x5638b1(0x9b3)](_0x5638b1(0x986),_0x337e1b),_0x5a100f[_0x5638b1(0x9b3)]('mute',_0x337e1b),this[_0x5638b1(0x863)][_0x5638b1(0x3df)](_0x5a100f['kind']);});}}class _0x133103 extends _0x3ddcea{[_0x227435(0xa6d)];[_0x227435(0x557)]=[];['clientStream'];[_0x227435(0x3a6)];['audioDestination'];[_0x227435(0x5c0)];[_0x227435(0x7e2)];[_0x227435(0xae5)];[_0x227435(0x309)];constructor(_0x25760d,_0x385d62,_0xde34ad,_0xa16076,_0xdb3ce0,_0x533084){const _0x39f174=_0x227435;if(super(_0x25760d,_0x385d62,_0xde34ad,_0x533084),this[_0x39f174(0xa6d)]=_0xdb3ce0,this[_0x39f174(0x91c)]=this['mediaStream'],this[_0x39f174(0x5c0)]=document[_0x39f174(0x992)](_0x39f174(0x4c1)),this[_0x39f174(0x5c0)]['autoplay']=!0x0,this[_0x39f174(0x5c0)][_0x39f174(0x37b)]=!0x0,this[_0x39f174(0x5c0)][_0x39f174(0xb7a)]=this[_0x39f174(0x91c)],this[_0x39f174(0x5c0)][_0x39f174(0x1fa)](),this[_0x39f174(0x5c0)][_0x39f174(0x91e)]=()=>{const _0x54682f=_0x39f174;this[_0x54682f(0x5c0)]['play']();},this[_0x39f174(0x7e2)]=document[_0x39f174(0x992)](_0x39f174(0x7e2)),this[_0x39f174(0xae5)]=this[_0x39f174(0x7e2)][_0x39f174(0x468)]('2d'),this['mediaStream']=this[_0x39f174(0x7e2)][_0x39f174(0x5f4)](_0xa16076),this['audioDestination']=this[_0x39f174(0xa6d)]['createMediaStreamDestination'](),this[_0x39f174(0x91c)][_0x39f174(0x2a1)]()[_0x39f174(0xbfb)]>0x0){const _0x416137=this[_0x39f174(0x91c)][_0x39f174(0x2a1)]()[0x0];this['audioSource']=this[_0x39f174(0xa6d)]['createMediaStreamSource'](new MediaStream([_0x416137])),this['audioSource']['connect'](this['audioDestination']);}const _0x5b81cd=this[_0x39f174(0x44e)]['stream'][_0x39f174(0xaeb)]()[0x0];this[_0x39f174(0x7d3)]['addTrack'](_0x5b81cd),this[_0x39f174(0x309)]=setInterval(()=>{const _0xeba6cb=_0x39f174;this['canvas'][_0xeba6cb(0x478)]=this[_0xeba6cb(0x5c0)][_0xeba6cb(0xa04)],this[_0xeba6cb(0x7e2)][_0xeba6cb(0x2a2)]=this['sourceVideo'][_0xeba6cb(0xac7)],this[_0xeba6cb(0x5c0)]['videoWidth']?(0x0!==this[_0xeba6cb(0x91c)]['getVideoTracks']()[_0xeba6cb(0xbfb)]&&this[_0xeba6cb(0x91c)]['getVideoTracks']()[0x0][_0xeba6cb(0x50e)]?this[_0xeba6cb(0x7d3)][_0xeba6cb(0x4af)]()[0x0][_0xeba6cb(0x50e)]=!0x0:this[_0xeba6cb(0x7d3)][_0xeba6cb(0x4af)]()[0x0][_0xeba6cb(0x50e)]=!0x1,0x0!==this[_0xeba6cb(0x91c)][_0xeba6cb(0x2a1)]()[_0xeba6cb(0xbfb)]&&this['clientStream'][_0xeba6cb(0x2a1)]()[0x0][_0xeba6cb(0x50e)]?this[_0xeba6cb(0x7d3)]['getAudioTracks']()[0x0][_0xeba6cb(0x50e)]=!0x0:this[_0xeba6cb(0x7d3)][_0xeba6cb(0x2a1)]()[0x0][_0xeba6cb(0x50e)]=!0x1,this[_0xeba6cb(0xae5)]['drawImage'](this[_0xeba6cb(0x5c0)],0x0,0x0)):this[_0xeba6cb(0xae5)][_0xeba6cb(0xa95)](0x0,0x0,this[_0xeba6cb(0x7e2)][_0xeba6cb(0x478)],this[_0xeba6cb(0x7e2)][_0xeba6cb(0x2a2)]);},0x3e8/_0xa16076);}[_0x227435(0xa3c)](){const _0x4e41a2=_0x227435;clearInterval(this['interval']),this[_0x4e41a2(0x5c0)][_0x4e41a2(0xa74)](),this[_0x4e41a2(0x7e2)][_0x4e41a2(0xa74)](),this[_0x4e41a2(0x3a6)]?.[_0x4e41a2(0xbe8)](),this[_0x4e41a2(0x44e)][_0x4e41a2(0xbe8)](),this['mediaStream'][_0x4e41a2(0xaeb)]()[_0x4e41a2(0x3e7)](_0x27799c=>{const _0x4c2b41=_0x4e41a2;_0x27799c[_0x4c2b41(0x5a0)](),this['mediaStream']['removeTrack'](_0x27799c);}),super[_0x4e41a2(0xa3c)]();}[_0x227435(0x71e)](_0x2b043d){const _0x219cc8=_0x227435,_0x50230e=this['getTrack'](_0x2b043d[_0x219cc8(0xb74)]);_0x50230e&&this[_0x219cc8(0x3ab)](_0x50230e),_0x219cc8(0x305)!==_0x2b043d['kind']?(_0x219cc8(0x4c1)===_0x2b043d[_0x219cc8(0xb74)]&&this[_0x219cc8(0x68a)](_0x2b043d),this[_0x219cc8(0x2d1)](_0x2b043d)):this[_0x219cc8(0x77e)](_0x2b043d);}['removeTrack'](_0xa48e95){const _0x3da3c1=_0x227435,_0x16fe9d=this[_0x3da3c1(0x718)](_0xa48e95);return _0x16fe9d&&(_0x3da3c1(0x305)===_0x16fe9d[_0x3da3c1(0xb74)]&&(this[_0x3da3c1(0x3a6)]?.[_0x3da3c1(0xbe8)](),this[_0x3da3c1(0x3a6)]=void 0x0),this[_0x3da3c1(0x863)][_0x3da3c1(0x441)](_0x16fe9d[_0x3da3c1(0xb74)])?.(),this[_0x3da3c1(0x91c)][_0x3da3c1(0x3ab)](_0x16fe9d)),_0x16fe9d;}[_0x227435(0x7cf)](_0x109949){const _0x32346f=_0x227435;this['removeTrack'](_0x109949[_0x32346f(0xb74)]),this[_0x32346f(0x71e)](_0x109949);}[_0x227435(0x894)](_0x1dea47){const _0x56ecb5=_0x227435;this[_0x56ecb5(0x557)]=_0x1dea47;}['getTrack'](_0x566fe3){const _0xca22e9=_0x227435;return this[_0xca22e9(0x91c)][_0xca22e9(0xaeb)]()[_0xca22e9(0x5b4)](_0x28db0f=>_0x28db0f[_0xca22e9(0xb74)]===_0x566fe3)||null;}[_0x227435(0x718)](_0x434530){const _0x53f296=_0x227435;return _0x53f296(0x984)==typeof _0x434530?this[_0x53f296(0x290)](_0x434530):_0x434530;}['addAudioTrack'](_0x2812f7){const _0x57c71f=_0x227435;_0x57c71f(0x362)===this[_0x57c71f(0xa6d)][_0x57c71f(0x6f2)]&&this[_0x57c71f(0xa6d)][_0x57c71f(0x814)](),this[_0x57c71f(0x91c)][_0x57c71f(0x71e)](_0x2812f7),this[_0x57c71f(0x3a6)]=this[_0x57c71f(0xa6d)][_0x57c71f(0x3b9)](this[_0x57c71f(0x91c)]),this['audioSource'][_0x57c71f(0x897)](this[_0x57c71f(0x44e)]);}[_0x227435(0x68a)](_0x4807ca){const _0x1ffe19=_0x227435;this[_0x1ffe19(0x91c)]['addTrack'](_0x4807ca),this[_0x1ffe19(0x5c0)]['load']();}}class _0x1ed567 extends _0x3ddcea{}class _0x3b4f9c extends _0x4c830f{[_0x227435(0xc26)];[_0x227435(0x7f8)];[_0x227435(0x2ae)];[_0x227435(0x31a)];[_0x227435(0xb65)];[_0x227435(0x21e)];[_0x227435(0xb96)];['lastTransactionId'];[_0x227435(0x846)]=new Map();[_0x227435(0x99d)]=new Map();[_0x227435(0x658)]=new Map();[_0x227435(0x2fa)]=new Map();[_0x227435(0x8ec)]=new Map();[_0x227435(0x28f)]=new Map();[_0x227435(0x92a)];[_0x227435(0x877)]=_0x1aa7b3();[_0x227435(0xb6a)]=new Map();['debounceStats'];['writes']=0x0;['reads']=0x0;['syncContent']=!0x0;[_0x227435(0x8f0)]=!0x0;['filesSynced']=0x0;[_0x227435(0xae1)]=0x0;constructor(_0x573b80,_0x3a784e,_0x397419,_0x395c1c,_0x1add46,_0x362d08,_0x35ba40,_0x1bd6d2){const _0x56caf3=_0x227435;if(_0x56caf3(0x984)!=typeof _0x3a784e)throw new _0x27b95d(_0x398751[_0x56caf3(0x334)],_0x56caf3(0x7bd));super(_0x573b80,_0x3a784e),this[_0x56caf3(0xc26)]=_0x573b80,this[_0x56caf3(0x7f8)]=_0x397419,this[_0x56caf3(0x2ae)]=_0x395c1c,this[_0x56caf3(0x31a)]=_0x1add46,this[_0x56caf3(0xb65)]=_0x35ba40,this[_0x56caf3(0x21e)]=_0x1bd6d2;const _0x5367ad=_0x56caf3(0x34d)+this[_0x56caf3(0x2ae)]+_0x56caf3(0x34d)+this['clusterId']+'ccc'+_0x3a784e;this[_0x56caf3(0x92a)]=new _0x362d08(_0x5367ad),this['syncContent']=this['options']?.[_0x56caf3(0x5bb)]??!0x0,this['options']?.[_0x56caf3(0x6c5)]&&(this[_0x56caf3(0x5bb)]=!0x1),this['sendStats']();}[_0x227435(0x278)](){const _0x401425=_0x227435;this[_0x401425(0x23c)]();}[_0x227435(0x9b5)](){const _0x8a363a=_0x227435;return _0x2bba8e[_0x8a363a(0x97c)][_0x8a363a(0x9cf)];}async[_0x227435(0xa23)](){const _0x33c3f9=_0x227435;this[_0x33c3f9(0x8f0)]=!0x0;try{const _0x44e35a=await this[_0x33c3f9(0x92a)][_0x33c3f9(0x441)](_0x20305d),_0x4ebb67=await _0x44e35a[_0x33c3f9(0x335)]();this[_0x33c3f9(0x9c4)]=_0x4ebb67;}catch(_0x41cab9){}this[_0x33c3f9(0xb96)]=this[_0x33c3f9(0x20d)](async(_0x276ac1,_0x3568d3)=>{const _0x5d9c56=_0x33c3f9;if(!(_0x3568d3 instanceof File))try{if(_0x3568d3['payloadType']===_0x487a85[_0x5d9c56(0x410)])return void this[_0x5d9c56(0x94d)](_0x3568d3);this[_0x5d9c56(0x9d9)](_0x3568d3);}catch(_0x527a46){if(_0x527a46 instanceof _0x82cd08)throw _0x527a46;throw new _0x82cd08(_0x82cd08[_0x5d9c56(0xab8)][_0x5d9c56(0xc3e)],{'payload':_0x3568d3});}}),await this[_0x33c3f9(0x3c2)](),this[_0x33c3f9(0x5bb)]?await this[_0x33c3f9(0x26a)]():this[_0x33c3f9(0x8f7)](),this[_0x33c3f9(0x23c)]();}[_0x227435(0xa3c)](){const _0x4f222a=_0x227435;this[_0x4f222a(0xb96)]?.(),this[_0x4f222a(0xb6a)][_0x4f222a(0x3e7)](_0x3e1074=>_0x3e1074()),this[_0x4f222a(0xb6a)][_0x4f222a(0x42a)](),clearTimeout(this[_0x4f222a(0xb57)]),delete this[_0x4f222a(0xb57)],super[_0x4f222a(0xa3c)]();}[_0x227435(0xa42)](){const _0x50972d=_0x227435;this[_0x50972d(0x45d)]?.[_0x50972d(0xb22)]({'sourceId':_0x48df1c,'messageType':_0x37ab1a[_0x50972d(0x42c)],'content':{'type':_0x593bd0[_0x50972d(0xc0f)],'label':this[_0x50972d(0x40a)]}});}[_0x227435(0x214)](_0x365138,_0x42bba6){const _0xc2535a=_0x227435;if(this[_0xc2535a(0xb6a)][_0xc2535a(0xac9)](_0x365138))throw new _0x27b95d(_0x398751['ObjectStoreAlreadySubscribed'],_0xc2535a(0x368));this[_0xc2535a(0xb6a)]['set'](_0x365138,this['eventListener'][_0xc2535a(0x214)](_0x42bba6)),this[_0xc2535a(0x8f0)]||this[_0xc2535a(0x877)][_0xc2535a(0xb22)]({'event':_0x2bba8e[_0xc2535a(0x2c0)][_0xc2535a(0x9f3)],'payload':{'filesSynced':this[_0xc2535a(0xa48)]}});}['unsubscribe'](_0x521eff){const _0x2e5af0=_0x227435;this[_0x2e5af0(0xb6a)]['get'](_0x521eff)?.(),this[_0x2e5af0(0xb6a)][_0x2e5af0(0x3df)](_0x521eff);}[_0x227435(0xb22)](_0x5de8fb){const _0x10c843=_0x227435;switch(_0x5de8fb[_0x10c843(0x2e2)]){case _0x2bba8e[_0x10c843(0x600)][_0x10c843(0xb45)]:return this[_0x10c843(0x886)](_0x5de8fb[_0x10c843(0x8fb)],_0x5de8fb[_0x10c843(0xb60)],_0x5de8fb[_0x10c843(0x21e)]);case _0x2bba8e['PayloadAction'][_0x10c843(0x575)]:return this[_0x10c843(0x36f)](_0x5de8fb[_0x10c843(0xb60)]);case _0x2bba8e['PayloadAction']['Move']:return this['publishMove'](_0x5de8fb[_0x10c843(0xb60)],_0x5de8fb[_0x10c843(0xb9d)]);default:throw new _0x27b95d(_0x398751['ObjectStoreInvalidPayload'],_0x10c843(0x5e9)+_0x5de8fb);}}async[_0x227435(0x4c2)](_0x1957d3){const _0x3dad5c=_0x227435;try{const _0x2eaf25=(0x0,_0x4821d1['v4'])(),_0xc232cc=this[_0x3dad5c(0x9c4)],_0x3bf48={'payloadType':_0x487a85['Transaction'],'action':_0x23bac4[_0x3dad5c(0x770)],'id':_0x2eaf25,'parentId':_0xc232cc,'path':_0x1957d3};await this[_0x3dad5c(0x94b)](_0x3bf48);const _0x4a7d97=await this[_0x3dad5c(0x54b)](_0x1957d3);!0x0!==this[_0x3dad5c(0x21e)]?.[_0x3dad5c(0x6c5)]&&await this['send'](_0x3bf48),_0x1822ee[_0x3dad5c(0x8c4)](_0x26d5b9[_0x3dad5c(0x956)],{'type':_0x3dad5c(0x4c2),'label':this[_0x3dad5c(0x40a)],'nodeId':this[_0x3dad5c(0xc26)][_0x3dad5c(0xc22)](),'nodeType':this[_0x3dad5c(0xc26)][_0x3dad5c(0x649)],'clusterId':this[_0x3dad5c(0x7f8)],'kind':_0x4a7d97,'path':_0x1957d3}),this[_0x3dad5c(0xb63)]+=0x1,this[_0x3dad5c(0x23c)]();}catch(_0x23b6d2){if(_0x23b6d2 instanceof _0x82cd08)throw new _0x27b95d(_0x398751[_0x3dad5c(0x72d)],_0x3dad5c(0x9b2)+_0x1957d3+_0x3dad5c(0x854));throw new _0x27b95d(_0x398751[_0x3dad5c(0x730)],_0x3dad5c(0x21f)+_0x1957d3);}}async[_0x227435(0x441)](_0x49724d,_0x18649d){const _0x4f90cc=_0x227435;_0x1822ee[_0x4f90cc(0x8c4)](_0x26d5b9[_0x4f90cc(0x956)],{'type':_0x4f90cc(0x441),'label':this[_0x4f90cc(0x40a)],'nodeId':this[_0x4f90cc(0xc26)][_0x4f90cc(0xc22)](),'nodeType':this[_0x4f90cc(0xc26)][_0x4f90cc(0x649)],'clusterId':this[_0x4f90cc(0x7f8)],'path':_0x49724d}),this[_0x4f90cc(0x352)]+=0x1,this[_0x4f90cc(0x23c)]();try{return await this[_0x4f90cc(0x92a)][_0x4f90cc(0x441)](_0x49724d,_0x18649d);}catch(_0x522107){try{await this[_0x4f90cc(0x92a)][_0x4f90cc(0x441)](_0x49724d+_0x583f3f);}catch(_0x31cd8e){throw new _0x27b95d(_0x398751[_0x4f90cc(0x730)],_0x4f90cc(0x930)+_0x49724d);}throw new _0x27b95d(_0x398751['ObjectStoreNotInSync'],_0x4f90cc(0x787));}}async['list'](_0x59ccde,_0x1c98b8){const _0xdc77c4=_0x227435,{recursive:_0xb56466=!0x1,includeSyncingFiles:_0x5792fd=!0x1}=_0x1c98b8??{};_0x1822ee[_0xdc77c4(0x8c4)](_0x26d5b9[_0xdc77c4(0x956)],{'type':_0xdc77c4(0x5cb),'label':this['label'],'nodeId':this[_0xdc77c4(0xc26)][_0xdc77c4(0xc22)](),'nodeType':this['localNode']['type'],'clusterId':this[_0xdc77c4(0x7f8)],'path':_0x59ccde}),this[_0xdc77c4(0x352)]+=0x1,this['sendStats']();try{const _0x42882c=await this[_0xdc77c4(0x92a)]['list'](_0x59ccde,_0xb56466);return this[_0xdc77c4(0x8ad)](_0x42882c,{'recursive':_0xb56466,'includeSyncingFiles':_0x5792fd});}catch(_0x2d9c22){throw new _0x27b95d(_0x398751[_0xdc77c4(0x730)],'Cannot\x20list\x20directory:\x20'+_0x59ccde);}}[_0x227435(0x5ca)](_0x443fbc){const _0x1c88df=_0x227435;this[_0x1c88df(0xae1)]+=0x1;for(const _0x393f1f of this['objectRequests'][_0x1c88df(0xbc7)]())this[_0x1c88df(0x8d0)](_0x393f1f,[_0x443fbc]);}[_0x227435(0x475)](_0x3f17f5){const _0x5bebe9=_0x227435;this[_0x5bebe9(0xae1)]-=0x1;const _0x3abd09=this[_0x5bebe9(0x658)]['get'](_0x3f17f5);if(_0x3abd09){for(const [_0x2a6c33,_0x3750fe]of _0x3abd09[_0x5bebe9(0xbc7)]())this[_0x5bebe9(0x89a)](_0x2a6c33,_0x3750fe);this[_0x5bebe9(0x658)]['delete'](_0x3f17f5);}}async[_0x227435(0xc6e)](_0x563c99='/'){const _0x1214a8=_0x227435;try{return await this[_0x1214a8(0x92a)][_0x1214a8(0x8e6)](_0x563c99);}catch(_0x1d552f){if(_0x1d552f instanceof Error&&_0x1d552f['message'][_0x1214a8(0x771)](_0x1214a8(0x6c4)))return 0x0;throw new _0x27b95d(_0x398751['ObjectStoreInvalidPath'],'Cannot\x20get\x20size\x20of\x20path:\x20'+_0x563c99);}}['completeSync'](){const _0x91ad55=_0x227435;this[_0x91ad55(0x8f0)]&&(this[_0x91ad55(0x8f0)]=!0x1,this[_0x91ad55(0x877)][_0x91ad55(0xb22)]({'event':_0x2bba8e[_0x91ad55(0x2c0)][_0x91ad55(0x9f3)],'payload':{'filesSynced':this[_0x91ad55(0xa48)]}}));}async[_0x227435(0x8ad)](_0x42f604,{includeSyncingFiles:_0x4b6de1=!0x1}){const _0x56eaa8=_0x227435,_0x574b1e=[];for(const _0x18d2c7 of _0x42f604)if(_0x18d2c7[_0x56eaa8(0xb74)]!==_0x2bba8e['ObjectKind']['Folder']){if(_0x18d2c7['name']!==_0x20305d){if(_0x18d2c7[_0x56eaa8(0xc30)][_0x56eaa8(0x401)](_0x583f3f)){if(!_0x4b6de1)continue;const _0x4d29d8=_0x18d2c7;if(_0x4d29d8[_0x56eaa8(0xc30)]=_0x4d29d8[_0x56eaa8(0xc30)][_0x56eaa8(0x217)](_0x583f3f,''),_0x4d29d8[_0x56eaa8(0x826)]=_0x4d29d8['pathName']['replace'](_0x583f3f,''),await this['syncedFileExists'](_0x4d29d8[_0x56eaa8(0x826)])){_0x42f604[_0x56eaa8(0x5b4)](_0x81261c=>_0x81261c[_0x56eaa8(0x826)]===_0x4d29d8[_0x56eaa8(0x826)])[_0x56eaa8(0x4ab)]=_0x2bba8e['FileStatus']['Syncing'];continue;}_0x4d29d8[_0x56eaa8(0x4ab)]=_0x2bba8e[_0x56eaa8(0x9ad)][_0x56eaa8(0xc7a)];}_0x574b1e['push'](_0x18d2c7);}}else _0x18d2c7[_0x56eaa8(0xc67)]=await this[_0x56eaa8(0x8ad)](_0x18d2c7[_0x56eaa8(0xc67)]??[],{'includeSyncingFiles':_0x4b6de1}),_0x574b1e['push'](_0x18d2c7);return _0x574b1e;}async[_0x227435(0x886)](_0x57fc60,_0x186b11,_0x3d5c28){const _0x204411=_0x227435;try{const _0x27b2de=(0x0,_0x4821d1['v4'])(),_0x1207fd=await _0xd18af(_0x57fc60),_0x518a05=_0x56dc1f(_0x186b11??'/',_0x57fc60[_0x204411(0xc30)]);let _0x3c7d77=!0x0;const _0x286166={'payloadType':_0x487a85[_0x204411(0xbbb)],'action':_0x23bac4[_0x204411(0x37a)],'id':_0x27b2de,'parentId':this[_0x204411(0x9c4)],'answererId':this[_0x204411(0xc26)][_0x204411(0xc22)](),'name':_0x57fc60['name'],'type':_0x57fc60['type'],'path':_0x186b11??'/','skipEncryption':_0x3d5c28?.[_0x204411(0xbb3)]??!0x1,'checksum':_0x1207fd};try{if(!_0x3d5c28?.[_0x204411(0x86d)])throw new Error(_0x204411(0x642));const _0x2d6472=_0x518a05+_0x583f3f;await this['objectStoreConnector']['get'](_0x2d6472),_0x3c7d77=!0x1,await this[_0x204411(0x92a)]['deleteObject'](_0x2d6472),this[_0x204411(0x99d)]['delete'](_0x518a05);}catch(_0x12b269){await this['publishTransaction'](_0x286166);}if(this[_0x204411(0x5bb)]||this[_0x204411(0x21e)]?.[_0x204411(0x6c5)]?await this['writeFile'](_0x57fc60,_0x186b11,_0x3d5c28):await this[_0x204411(0xa57)](_0x57fc60[_0x204411(0xc30)],_0x186b11??'/',{'checksum':_0x1207fd,'skipEncryption':_0x3d5c28?.[_0x204411(0xbb3)]??!0x1}),this[_0x204411(0x28f)][_0x204411(0xac9)](_0x518a05)){const [_0x5873ff,_0x3b7cde]=this[_0x204411(0x28f)][_0x204411(0x441)](_0x518a05);this[_0x204411(0x28f)][_0x204411(0x9b4)](_0x518a05,[!0x0,_0x3b7cde]);try{await _0x3b7cde;}catch(_0x5667bc){}this[_0x204411(0x28f)]['delete'](_0x518a05);}_0x3c7d77&&this[_0x204411(0xae1)]>0x0&&!0x0!==this[_0x204411(0x21e)]?.[_0x204411(0x6c5)]&&await this[_0x204411(0x2ce)](_0x57fc60,_0x286166),_0x1822ee['logServiceEvent'](_0x26d5b9[_0x204411(0x956)],{'type':_0x204411(0xb22),'label':this[_0x204411(0x40a)],'nodeId':this['localNode']['getId'](),'nodeType':this['localNode'][_0x204411(0x649)],'clusterId':this[_0x204411(0x7f8)],'kind':_0x2bba8e[_0x204411(0x27f)]['File'],'path':_0x186b11,'fileName':_0x57fc60['name'],'fileType':_0x57fc60[_0x204411(0x649)],'size':_0x57fc60['size']}),this[_0x204411(0xb63)]+=0x1,this['sendStats']();}catch(_0x4d2ea0){if(_0x4d2ea0 instanceof _0x82cd08)throw new _0x27b95d(_0x398751[_0x204411(0x72d)],_0x204411(0x787));throw new _0x27b95d(_0x398751[_0x204411(0x730)],_0x204411(0x36d)+_0x186b11+(_0x186b11?.['endsWith']('/')?'':'/')+_0x57fc60[_0x204411(0xc30)]);}}async[_0x227435(0x36f)](_0x3d939c){const _0x461b1c=_0x227435;try{const _0x497160=(0x0,_0x4821d1['v4'])(),_0x52dd0d=this[_0x461b1c(0x9c4)],_0x13f42a={'payloadType':_0x487a85[_0x461b1c(0xbbb)],'action':_0x23bac4[_0x461b1c(0x797)],'id':_0x497160,'parentId':_0x52dd0d,'path':_0x3d939c};await this['publishTransaction'](_0x13f42a),await this[_0x461b1c(0x92a)][_0x461b1c(0x36c)](_0x3d939c),!0x0!==this[_0x461b1c(0x21e)]?.[_0x461b1c(0x6c5)]&&await this[_0x461b1c(0x8d0)](_0x13f42a),_0x1822ee[_0x461b1c(0x8c4)](_0x26d5b9['ObjectStorage'],{'type':_0x461b1c(0xb22),'label':this['label'],'nodeId':this['localNode']['getId'](),'nodeType':this['localNode'][_0x461b1c(0x649)],'clusterId':this[_0x461b1c(0x7f8)],'kind':_0x2bba8e['ObjectKind'][_0x461b1c(0x575)],'path':_0x3d939c}),this[_0x461b1c(0xb63)]+=0x1,this[_0x461b1c(0x23c)]();}catch(_0x25843e){if(_0x25843e instanceof _0x82cd08)throw new _0x27b95d(_0x398751['ObjectStoreNotInSync'],_0x461b1c(0x787));throw new _0x27b95d(_0x398751[_0x461b1c(0x730)],_0x461b1c(0x829)+_0x3d939c);}}async['publishMove'](_0x5656b3,_0x2dcf86){const _0x176301=_0x227435;try{const _0x2ba316=(0x0,_0x4821d1['v4'])(),_0x2b61e8=this[_0x176301(0x9c4)],_0x4aaf65={'payloadType':_0x487a85[_0x176301(0xbbb)],'action':_0x23bac4['Move'],'id':_0x2ba316,'parentId':_0x2b61e8,'path':_0x5656b3,'newPath':_0x2dcf86};await this[_0x176301(0x94b)](_0x4aaf65);const _0x151ecf=await this['moveObject'](_0x5656b3,_0x2dcf86);!0x0!==this[_0x176301(0x21e)]?.[_0x176301(0x6c5)]&&await this[_0x176301(0x8d0)](_0x4aaf65),_0x1822ee[_0x176301(0x8c4)](_0x26d5b9[_0x176301(0x956)],{'type':_0x176301(0x253),'label':this[_0x176301(0x40a)],'nodeId':this['localNode'][_0x176301(0xc22)](),'nodeType':this['localNode']['type'],'clusterId':this[_0x176301(0x7f8)],'kind':_0x151ecf,'path':_0x5656b3,'newPath':_0x2dcf86}),this['writes']+=0x1,this[_0x176301(0x23c)]();}catch(_0x188085){if(_0x188085 instanceof _0x82cd08)throw new _0x27b95d(_0x398751[_0x176301(0x72d)],_0x176301(0x787));throw new _0x27b95d(_0x398751['ObjectStoreInvalidPath'],'Cannot\x20publish\x20move\x20operation:\x20'+_0x5656b3);}}async[_0x227435(0x9d9)](_0x32c548,_0x5a8765=!0x1){const _0x51e9a8=_0x227435;if(this[_0x51e9a8(0x9c4)]&&_0x32c548[_0x51e9a8(0x88f)]!==this[_0x51e9a8(0x9c4)]&&_0x32c548['id']!==this[_0x51e9a8(0x9c4)]){if(!_0x32c548[_0x51e9a8(0x88f)])throw new _0x82cd08(_0x82cd08[_0x51e9a8(0xab8)][_0x51e9a8(0xc3e)]);this[_0x51e9a8(0x846)][_0x51e9a8(0x9b4)](_0x32c548[_0x51e9a8(0x88f)],_0x32c548);}else{try{await this[_0x51e9a8(0x434)](_0x32c548,_0x5a8765);}catch(_0x55ff86){}await this['updateLastTransactionId'](_0x32c548['id']),await this[_0x51e9a8(0x93b)](_0x32c548['id'],_0x5a8765);}}async[_0x227435(0x434)](_0x478230,_0x57cb12=!0x1){const _0xed4c33=_0x227435;switch(_0x478230[_0xed4c33(0x2e2)]){case _0x23bac4[_0xed4c33(0x37a)]:await this[_0xed4c33(0x2f6)](_0x478230);break;case _0x23bac4[_0xed4c33(0x797)]:await this[_0xed4c33(0xb14)](_0x478230);break;case _0x23bac4['Move']:await this[_0xed4c33(0x246)](_0x478230,_0x57cb12);break;case _0x23bac4[_0xed4c33(0x770)]:await this[_0xed4c33(0x93c)](_0x478230,_0x57cb12);break;default:throw new _0x82cd08(_0x82cd08[_0xed4c33(0xab8)][_0xed4c33(0xc3e)],{'payload':_0x478230});}}async[_0x227435(0x93b)](_0x38f804,_0x55b7e0=!0x1){const _0x5a3d8c=_0x227435;if(this[_0x5a3d8c(0x846)][_0x5a3d8c(0xac9)](_0x38f804)){const _0x38b911=this[_0x5a3d8c(0x846)][_0x5a3d8c(0x441)](_0x38f804);this['pendingSyncTransactions'][_0x5a3d8c(0x3df)](_0x38f804),await this[_0x5a3d8c(0x9d9)](_0x38b911,_0x55b7e0);}}async['handleRequestPayload'](_0x29b2f7){const _0x2bf9ed=_0x227435;switch(_0x29b2f7[_0x2bf9ed(0x2e2)]){case _0x23bac4['RequestFile']:return this[_0x2bf9ed(0xa3b)](_0x29b2f7);case _0x23bac4[_0x2bf9ed(0x2ad)]:return this['handleFileRequestAnswer'](_0x29b2f7);case _0x23bac4['RequestFileSync']:return this[_0x2bf9ed(0x426)](_0x29b2f7);case _0x23bac4[_0x2bf9ed(0xc25)]:return this[_0x2bf9ed(0x2f6)](_0x29b2f7);default:throw new _0x82cd08(_0x82cd08[_0x2bf9ed(0xab8)][_0x2bf9ed(0xc3e)],{'payload':_0x29b2f7});}}async['handleFileWrite'](_0xc67146,_0x2ac1f0=0x0){const _0x4abe7d=_0x227435,_0x2f913b=_0x56dc1f(_0xc67146[_0x4abe7d(0xb60)],_0xc67146[_0x4abe7d(0xc30)]);if(!_0xc67146[_0x4abe7d(0x205)]||void 0x0===_0xc67146[_0x4abe7d(0x899)]||!_0xc67146[_0x4abe7d(0x29d)])return this[_0x4abe7d(0xbb1)]['delete'](_0x2f913b),void await this[_0x4abe7d(0xa57)](_0xc67146['name'],_0xc67146[_0x4abe7d(0xb60)],{'checksum':_0xc67146[_0x4abe7d(0x258)],'skipEncryption':_0xc67146[_0x4abe7d(0xbb3)]});if(this['fileChunks']['has'](_0x2f913b)){const _0x1bdca3=this[_0x4abe7d(0xbb1)]['get'](_0x2f913b);_0x1bdca3[_0x4abe7d(0x258)]!==_0xc67146[_0x4abe7d(0x258)]&&(_0x1bdca3[_0x4abe7d(0x4d0)]?.[_0x4abe7d(0xa42)](),this[_0x4abe7d(0xbb1)][_0x4abe7d(0x3df)](_0x2f913b));}if(!this[_0x4abe7d(0xbb1)]['has'](_0x2f913b)){try{await this[_0x4abe7d(0x92a)][_0x4abe7d(0x54b)](_0x2f913b);}catch(_0x13c5d0){}try{const _0x4e7aed=this[_0x4abe7d(0x5bb)]?await this['objectStoreConnector'][_0x4abe7d(0x2af)](_0x2f913b,{'skipEncryption':_0xc67146[_0x4abe7d(0xbb3)]}):void 0x0,_0x115520={'chunksReceived':_0xc67146[_0x4abe7d(0x568)]??0x0,'bytesReceived':0x0,'stream':_0x4e7aed,'checksum':_0xc67146[_0x4abe7d(0x258)]};this['fileChunks'][_0x4abe7d(0x9b4)](_0x2f913b,_0x115520),await this[_0x4abe7d(0xa57)](_0xc67146[_0x4abe7d(0xc30)],_0xc67146['path'],{'checksum':_0xc67146[_0x4abe7d(0x258)],'skipEncryption':_0xc67146[_0x4abe7d(0xbb3)]});}catch(_0x52f8d0){}}const _0x1e79f5=this[_0x4abe7d(0xbb1)][_0x4abe7d(0x441)](_0x2f913b);if(_0xc67146[_0x4abe7d(0x258)]!==_0x1e79f5['checksum'])return;if(this[_0x4abe7d(0x800)](_0xc67146,_0x2f913b),this['syncContent']){if(!_0x1e79f5[_0x4abe7d(0x4d0)])throw new _0x82cd08(_0x82cd08['codes']['ObjectStoreInvalidSyncMessage'],{'message':_0x4abe7d(0x48e)});let _0x2524d1=_0x1e79f5[_0x4abe7d(0x4c9)];if(_0xc67146[_0x4abe7d(0x899)]!==_0x2524d1){if(_0x2524d1>_0xc67146['index'])return;const _0x191121=0x1000;if(_0xc67146[_0x4abe7d(0x899)]>_0x2524d1+_0x191121)return;if(_0x1e79f5['bufferedChunks']||(_0x1e79f5[_0x4abe7d(0x5a9)]=[]),_0x1e79f5[_0x4abe7d(0x5a9)]['length']>0x4000)throw this[_0x4abe7d(0xbb1)][_0x4abe7d(0x3df)](_0x2f913b),new _0x82cd08(_0x82cd08[_0x4abe7d(0xab8)][_0x4abe7d(0xc3e)],{'message':_0x4abe7d(0x318)});return void _0x1e79f5['bufferedChunks']['push'](_0xc67146);}try{_0x1e79f5[_0x4abe7d(0x4c9)]+=0x1,_0x1e79f5[_0x4abe7d(0x485)]+=_0xc67146[_0x4abe7d(0x205)][_0x4abe7d(0x3f5)],await _0x1e79f5[_0x4abe7d(0x4d0)]['write'](_0xc67146[_0x4abe7d(0x205)]);}catch(_0x33bc6a){if(console[_0x4abe7d(0xc13)]('Error\x20writing\x20chunk\x20to\x20stream',_0x33bc6a),_0x2ac1f0>0x3)throw this['fileChunks']['delete'](_0x2f913b),console[_0x4abe7d(0xc13)]('Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream',_0x33bc6a),new _0x82cd08(_0x82cd08['codes'][_0x4abe7d(0xc3e)],{'message':_0x4abe7d(0x47e)});return this[_0x4abe7d(0x2f6)](_0xc67146,_0x2ac1f0+0x1);}}try{await this['manageBufferedChunks'](_0x1e79f5,_0xc67146['index']+0x1);}catch(_0x374f98){throw this[_0x4abe7d(0xbb1)][_0x4abe7d(0x3df)](_0x2f913b),_0x374f98;}if(this[_0x4abe7d(0xbb1)][_0x4abe7d(0x9b4)](_0x2f913b,_0x1e79f5),_0x1e79f5['chunksReceived']<_0xc67146[_0x4abe7d(0x29d)])return;await this[_0x4abe7d(0xaa3)](_0x2f913b),this['syncContent']&&(await this['deletePendingFile'](_0xc67146),_0x1822ee['logServiceEvent'](_0x26d5b9[_0x4abe7d(0x956)],{'type':_0x4abe7d(0xa23),'label':this[_0x4abe7d(0x40a)],'nodeId':this[_0x4abe7d(0xc26)][_0x4abe7d(0xc22)](),'nodeType':this[_0x4abe7d(0xc26)]['type'],'clusterId':this[_0x4abe7d(0x7f8)],'kind':_0x2bba8e[_0x4abe7d(0x27f)][_0x4abe7d(0xb45)],'path':_0xc67146[_0x4abe7d(0xb60)],'fileName':_0xc67146['name'],'fileType':_0xc67146[_0x4abe7d(0x649)],'size':_0x1e79f5[_0x4abe7d(0x485)]}));const _0xeba787=this[_0x4abe7d(0x2fa)][_0x4abe7d(0x441)](_0xc67146[_0x4abe7d(0xb60)])??[];for(const _0x4c1764 of _0xeba787)await this[_0x4abe7d(0x434)](_0x4c1764);this[_0x4abe7d(0x2fa)][_0x4abe7d(0x3df)](_0xc67146['path']),this[_0x4abe7d(0x877)][_0x4abe7d(0xb22)]({'event':_0x2bba8e[_0x4abe7d(0x2c0)][_0x4abe7d(0x37a)],'payload':{'file':{'kind':_0x2bba8e[_0x4abe7d(0x27f)]['File'],'path':_0xc67146['path'],'type':_0xc67146[_0x4abe7d(0x649)],'size':_0x1e79f5[_0x4abe7d(0x485)],'name':_0xc67146['name'],'pathName':_0x2f913b,'status':this['syncContent']?_0x2bba8e['FileStatus'][_0x4abe7d(0x6ff)]:_0x2bba8e['FileStatus'][_0x4abe7d(0xc7a)]}}}),this[_0x4abe7d(0x23c)]();}async[_0x227435(0x6d7)](_0x1b4d41,_0x2f3817){const _0x143e01=_0x227435,_0x288da3=_0x1b4d41['stream'];let _0xc86385=0x0;for(;_0x1b4d41['bufferedChunks']&&_0x1b4d41[_0x143e01(0x5a9)][_0x143e01(0xbfb)]>0x0;){const _0x53e06c=_0x1b4d41[_0x143e01(0x5a9)][_0x143e01(0x5b4)](_0x6295b=>_0x6295b[_0x143e01(0x899)]===_0x2f3817+0x1);if(!_0x53e06c)break;_0x1b4d41[_0x143e01(0x5a9)]=_0x1b4d41[_0x143e01(0x5a9)]['filter'](_0x193c5e=>_0x193c5e[_0x143e01(0x899)]!==_0x2f3817+0x1);try{await _0x288da3[_0x143e01(0x89c)](_0x53e06c['data']),_0x2f3817++;}catch(_0x23f716){if(console[_0x143e01(0xc13)]('Error\x20writing\x20buffered\x20chunk\x20to\x20stream',_0x23f716),_0xc86385>0x3)throw console[_0x143e01(0xc13)](_0x143e01(0x93a),_0x23f716),new _0x82cd08(_0x82cd08[_0x143e01(0xab8)][_0x143e01(0xc3e)],{'message':'Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream'});_0xc86385++;continue;}_0x1b4d41['chunksReceived']+=0x1,_0x1b4d41[_0x143e01(0x485)]+=_0x53e06c['data'][_0x143e01(0x3f5)];}}async[_0x227435(0xb14)](_0x268bf9){const _0x561b35=_0x227435;await this[_0x561b35(0x92a)][_0x561b35(0x36c)](_0x268bf9[_0x561b35(0xb60)]);const [_0x363236,_0x213e8f]=_0x48ed1d(_0x268bf9[_0x561b35(0xb60)]);this[_0x561b35(0x877)]['publish']({'event':_0x2bba8e[_0x561b35(0x2c0)][_0x561b35(0x797)],'payload':{'folder':{'kind':_0x2bba8e[_0x561b35(0x27f)][_0x561b35(0x575)],'name':_0x213e8f,'path':_0x363236,'pathName':_0x268bf9[_0x561b35(0xb60)]}}});}async[_0x227435(0x93c)](_0x4ea436,_0x44fbfa=!0x1){const _0x510be0=_0x227435;if(!_0x44fbfa&&!this['shouldProcessTransaction'](_0x4ea436))return;const _0x32bd9a=await this[_0x510be0(0x54b)](_0x4ea436[_0x510be0(0xb60)]),[_0x39105f,_0x4c134c]=_0x48ed1d(_0x4ea436[_0x510be0(0xb60)]);this['eventListener'][_0x510be0(0xb22)]({'event':_0x32bd9a===_0x2bba8e[_0x510be0(0x27f)][_0x510be0(0x575)]?_0x2bba8e[_0x510be0(0x2c0)][_0x510be0(0x61c)]:_0x2bba8e['StorageEventType'][_0x510be0(0x83f)],'payload':{'name':_0x4c134c,'path':_0x39105f,'pathName':_0x4ea436[_0x510be0(0xb60)]}}),this[_0x510be0(0x23c)]();}async['handleObjectMove'](_0x119c38,_0x13885d=!0x1){const _0x94b45a=_0x227435;if(!_0x13885d&&!this[_0x94b45a(0x84e)](_0x119c38))return this['pendingFilesRename'][_0x94b45a(0x9b4)](_0x119c38[_0x94b45a(0xb9d)],this[_0x94b45a(0x8ec)][_0x94b45a(0x441)](_0x119c38['path'])??_0x119c38[_0x94b45a(0xb60)]),void this['pendingFilesRename']['delete'](_0x119c38[_0x94b45a(0xb60)]);this[_0x94b45a(0x8ec)][_0x94b45a(0x3df)](_0x119c38[_0x94b45a(0xb60)]);const _0x25c1af=await this['objectStoreConnector']['moveObject'](_0x119c38[_0x94b45a(0xb60)],_0x119c38[_0x94b45a(0xb9d)]),[_0x2c5829,_0x92bb1f]=_0x48ed1d(_0x119c38[_0x94b45a(0xb60)]),[_0x4bcf52,_0x513b09]=_0x48ed1d(_0x119c38[_0x94b45a(0xb9d)]);this[_0x94b45a(0x877)][_0x94b45a(0xb22)]({'event':_0x25c1af===_0x2bba8e[_0x94b45a(0x27f)][_0x94b45a(0x575)]?_0x2bba8e[_0x94b45a(0x2c0)][_0x94b45a(0x99f)]:_0x2bba8e[_0x94b45a(0x2c0)][_0x94b45a(0x9a0)],'payload':{'name':_0x513b09,'path':_0x4bcf52,'pathName':_0x119c38[_0x94b45a(0xb9d)],'oldName':_0x92bb1f,'oldPath':_0x2c5829,'oldPathName':_0x119c38[_0x94b45a(0xb60)]}}),this[_0x94b45a(0x23c)]();}[_0x227435(0x84e)](_0x514f1b){const _0x5a5706=_0x227435,_0x1134aa=this['pendingFilesRename'][_0x5a5706(0x441)](_0x514f1b['path'])??_0x514f1b[_0x5a5706(0xb60)];let _0x2e68de=!0x1;for(const _0x17f802 of this[_0x5a5706(0xbb1)]['keys']())if(_0x17f802[_0x5a5706(0x60c)](_0x1134aa)){const _0x2e0d81=this['pendingFilesTransactions'][_0x5a5706(0x441)](_0x17f802)??[];_0x2e0d81[_0x5a5706(0x91f)](_0x514f1b),this[_0x5a5706(0x2fa)][_0x5a5706(0x9b4)](_0x17f802,_0x2e0d81),_0x2e68de=!0x0;}return!_0x2e68de;}async[_0x227435(0x94b)](_0x213761){const _0x1adf43=_0x227435;if(!this[_0x1adf43(0x21e)]?.[_0x1adf43(0x6c5)]){if(!_0x213761['id'])throw new _0x82cd08(_0x82cd08[_0x1adf43(0xab8)][_0x1adf43(0xc3e)],{'message':_0x1adf43(0x21d)});if(_0x213761['parentId']!==this['lastTransactionId'])throw new _0x82cd08(_0x82cd08['codes']['ObjectStoreNotSynced']);await this[_0x1adf43(0x31a)][_0x1adf43(0xa99)](_0x213761,this[_0x1adf43(0x40a)]),await this[_0x1adf43(0xaf6)](_0x213761['id']);}}async['updateLastTransactionId'](_0x740b12){const _0x3608ae=_0x227435;this[_0x3608ae(0x9c4)]=_0x740b12;const _0x39cdf6=new File([new Blob([this[_0x3608ae(0x9c4)]])],_0x20305d,{'type':_0x3608ae(0x7d8)});await this[_0x3608ae(0x28a)](_0x39cdf6,'/');}async[_0x227435(0xa3b)](_0x4677f4){const _0x2381b2=_0x227435;try{const _0x58104b=await this[_0x2381b2(0x441)](_0x4677f4[_0x2381b2(0xb60)]+'/'+_0x4677f4[_0x2381b2(0xc30)],{'skipEncryption':_0x4677f4[_0x2381b2(0xbb3)]}),_0x51fd20=await _0xd18af(_0x58104b);if(''!==_0x4677f4[_0x2381b2(0x258)]&&_0x51fd20!==_0x4677f4['checksum'])return;_0x4677f4[_0x2381b2(0x2e8)]=this['localNode']['getId'](),_0x4677f4[_0x2381b2(0x2e2)]=_0x23bac4[_0x2381b2(0x2ad)],await this['send'](_0x4677f4,[_0x4677f4['sourceId']]);}catch(_0x9b9126){}}async[_0x227435(0x30f)](_0x45f099){const _0x192711=_0x227435,_0x41a3db=_0x56dc1f(_0x45f099[_0x192711(0xb60)],_0x45f099[_0x192711(0xc30)]);if(!this[_0x192711(0x99d)][_0x192711(0xac9)](_0x41a3db))return;const _0x356c53=this[_0x192711(0x99d)][_0x192711(0x441)](_0x41a3db);_0x356c53['action']=_0x23bac4[_0x192711(0xb32)];const _0x551ac7=_0x45f099[_0x192711(0x2e8)];if(!_0x551ac7)throw new _0x82cd08(_0x82cd08[_0x192711(0xab8)][_0x192711(0xc3e)],{'message':'Missing\x20answerer\x20id\x20on\x20request\x20answer'});if(this[_0x192711(0x99d)]['delete'](_0x41a3db),this[_0x192711(0x658)][_0x192711(0xac9)](_0x551ac7)||this[_0x192711(0x658)][_0x192711(0x9b4)](_0x551ac7,new Map()),this[_0x192711(0x658)][_0x192711(0x441)](_0x551ac7)[_0x192711(0x9b4)](_0x41a3db,[_0x356c53,this[_0x192711(0xa2a)](_0x551ac7,_0x41a3db)]),_0x356c53['answererId']=_0x551ac7,_0x356c53[_0x192711(0x568)]=this['fileChunks'][_0x192711(0x441)](_0x41a3db)?.['chunksReceived']??0x0,0x0===_0x356c53['startIndex'])try{const [_0x50a752,_0x287971]=await this[_0x192711(0xc2a)](_0x45f099[_0x192711(0xc30)],_0x45f099[_0x192711(0xb60)],_0x45f099['checksum']);_0x50a752&&(_0x356c53[_0x192711(0x568)]=_0x287971);}catch(_0x246146){}this['send'](_0x356c53,[_0x551ac7]);}async[_0x227435(0x426)](_0x4da38c){const _0x2c5e4e=_0x227435,_0x8250fd=_0x56dc1f(_0x4da38c[_0x2c5e4e(0xb60)],_0x4da38c[_0x2c5e4e(0xc30)]),_0x1d510e=await this[_0x2c5e4e(0x441)](_0x8250fd,{'skipEncryption':_0x4da38c[_0x2c5e4e(0xbb3)]}),_0x3b63de={..._0x4da38c,'answererId':this[_0x2c5e4e(0xc26)]['getId'](),'action':_0x23bac4['RequestFileWrite'],'startIndex':_0x4da38c[_0x2c5e4e(0x568)]??0x0};await this[_0x2c5e4e(0x2ce)](_0x1d510e,_0x3b63de,[_0x4da38c[_0x2c5e4e(0xab9)]]);}async[_0x227435(0x2ce)](_0x591927,_0x496a47,_0x162b80){let _0xa8b345,_0x30940b;const _0x3beca7=new Promise(async(_0x5de557,_0x4fb610)=>{_0xa8b345=_0x5de557,_0x30940b=_0x4fb610;});return((async()=>{const _0x55e0d4=a0_0x5d01,_0x273c2f=Math[_0x55e0d4(0xa9f)](_0x591927[_0x55e0d4(0x9e7)]/_0x461098);let _0x383bbb=_0x496a47[_0x55e0d4(0x568)]??0x0;const _0x560980=_0x56dc1f(_0x496a47['path'],_0x496a47['name']);this[_0x55e0d4(0x28f)][_0x55e0d4(0x9b4)](_0x560980,[!0x1,_0x3beca7]);for await(const _0x104836 of async function*(_0x344671,_0x230435=0x0,_0x171fe5){for await(const _0x3abc38 of _0x435cfd(_0x344671,_0x230435,_0x171fe5))yield _0x3abc38;}(_0x591927,_0x383bbb,this[_0x55e0d4(0xb65)])){const [_0x4cb9d4]=this[_0x55e0d4(0x28f)][_0x55e0d4(0x441)](_0x560980)??[];if(_0x4cb9d4)return this['fileSendingMap']['delete'](_0x560980),void _0x30940b(new Error('File\x20sending\x20interrupted'));if(this['pendingFilesTransactions'][_0x55e0d4(0xac9)](_0x560980)){const _0x22ef70=this['pendingFilesTransactions'][_0x55e0d4(0x441)](_0x560980);for(const _0x273f25 of _0x22ef70)if(_0x273f25[_0x55e0d4(0x2e2)]===_0x23bac4[_0x55e0d4(0x37a)]||_0x273f25[_0x55e0d4(0x2e2)]===_0x23bac4['Delete'])return;}const _0x3dc9bc={..._0x496a47,'type':_0x591927[_0x55e0d4(0x649)],'data':_0x104836,'index':_0x383bbb,'total':_0x273c2f};this[_0x55e0d4(0x8d0)](_0x3dc9bc,_0x162b80),_0x383bbb++;}const _0x1163b1=setInterval(async()=>{const _0x12b0fb=_0x55e0d4;await this[_0x12b0fb(0xb65)]()>0x0||(clearInterval(_0x1163b1),_0xa8b345());});this[_0x55e0d4(0x28f)][_0x55e0d4(0x3df)](_0x560980);})()),_0x3beca7;}async[_0x227435(0xc08)](_0x59d77b){const _0x216223=_0x227435;try{const _0x3dcf7d=_0x56dc1f(_0x59d77b[_0x216223(0xb60)],_0x59d77b['name']),_0x178964=_0x3dcf7d+_0x583f3f;await this[_0x216223(0x54b)](_0x178964);const [,_0x10fd15]=this[_0x216223(0x658)]['get'](_0x59d77b[_0x216223(0x2e8)])?.[_0x216223(0x441)](_0x3dcf7d)??[];_0x10fd15&&(clearTimeout(_0x10fd15),this[_0x216223(0x658)][_0x216223(0x441)](_0x59d77b[_0x216223(0x2e8)])[_0x216223(0x3df)](_0x3dcf7d));}catch(_0x4d97bd){}0x0===this[_0x216223(0x658)][_0x216223(0x441)](_0x59d77b['answererId'])?.['size']&&this['pendingFilesSyncing'][_0x216223(0x3df)](_0x59d77b['answererId']),0x0===this['pendingFilesSyncing'][_0x216223(0x9e7)]&&0x0===this[_0x216223(0x99d)][_0x216223(0x9e7)]&&this['completeSync']();}async[_0x227435(0x3c2)](){const _0x1de5a7=_0x227435;try{const _0x4f2fc9=await this[_0x1de5a7(0x31a)][_0x1de5a7(0xc61)](this[_0x1de5a7(0x40a)],this[_0x1de5a7(0x9c4)]);for(const _0x1d65f5 of _0x4f2fc9)await this[_0x1de5a7(0x9d9)](_0x1d65f5,!0x0);}catch(_0x1b09dc){if(_0x1b09dc instanceof _0x82cd08&&_0x1b09dc['code']===_0x82cd08[_0x1de5a7(0xab8)][_0x1de5a7(0x7d0)]){await this[_0x1de5a7(0x92a)][_0x1de5a7(0x54b)](_0x20305d),delete this[_0x1de5a7(0x9c4)];try{const _0x1ae872=await this[_0x1de5a7(0x92a)]['list']('/',!0x1);for(const _0x3b48e2 of _0x1ae872)await this[_0x1de5a7(0x92a)][_0x1de5a7(0x54b)](_0x3b48e2['pathName']);}catch(_0x593527){}return await this[_0x1de5a7(0x3c2)]();}throw _0x1b09dc;}}async['syncPendingFiles'](){const _0x5dc51b=_0x227435,_0x5a5e37=await this[_0x5dc51b(0x5cb)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x0}),_0x59a848=async _0x1ade0f=>{const _0x35f59a=_0x5dc51b;for(const _0xf85645 of _0x1ade0f){if(_0xf85645[_0x35f59a(0xb74)]===_0x2bba8e['ObjectKind'][_0x35f59a(0x575)]){_0xf85645[_0x35f59a(0xc67)]&&_0xf85645[_0x35f59a(0xc67)][_0x35f59a(0xbfb)]>0x0&&await _0x59a848(_0xf85645[_0x35f59a(0xc67)]);continue;}if(_0xf85645['status']!==_0x2bba8e['FileStatus'][_0x35f59a(0xc7a)])continue;const _0x9661e0=await this[_0x35f59a(0x441)](_0xf85645[_0x35f59a(0x826)]+_0x583f3f),_0x10ab8c=JSON[_0x35f59a(0x77c)](await _0x9661e0[_0x35f59a(0x335)]()),_0x12f56c=_0xf85645['name'][_0x35f59a(0x217)](_0x583f3f,''),_0x1ef01f={'payloadType':_0x487a85['Request'],'action':_0x23bac4['RequestFile'],'sourceId':this[_0x35f59a(0xc26)]['getId'](),'type':'','path':_0xf85645[_0x35f59a(0xb60)],'name':_0x12f56c,'checksum':_0x10ab8c[_0x35f59a(0x258)],'skipEncryption':_0x10ab8c[_0x35f59a(0xbb3)]},_0x23e008=_0x56dc1f(_0xf85645[_0x35f59a(0xb60)],_0x12f56c);this[_0x35f59a(0x99d)][_0x35f59a(0x9b4)](_0x23e008,_0x1ef01f);}};await _0x59a848(_0x5a5e37),0x0===this[_0x5dc51b(0x99d)]['size']&&0x0===this[_0x5dc51b(0x658)]['size']&&this[_0x5dc51b(0x8f7)]();}async['createPendingFileWrite'](_0x35dd86,_0x241158,_0x42cce6){const _0x4ba3fc=_0x227435,_0x16e877=new File([new Blob([JSON['stringify'](_0x42cce6)])],''+_0x35dd86+_0x583f3f,{'type':_0x4ba3fc(0x7d8)});await this['writeFile'](_0x16e877,_0x241158);}async[_0x227435(0xc2a)](_0xa1b043,_0x25633b,_0x1dc0e3){const _0x569011=_0x227435;try{const _0x1a1d9b=_0x56dc1f(_0x25633b,_0xa1b043),_0xf84670=_0x1a1d9b+_0x583f3f,_0x16f6fb=await this['objectStoreConnector'][_0x569011(0x441)](_0xf84670),{checksum:_0x586885,skipEncryption:_0x18c14d}=JSON['parse'](await _0x16f6fb[_0x569011(0x335)]()),_0x1bd54b=(await this['objectStoreConnector']['get'](_0x1a1d9b,{'skipEncryption':_0x18c14d}))[_0x569011(0x9e7)];return _0x586885===_0x1dc0e3&&_0x1bd54b%_0x461098==0x0?[!0x0,Math[_0x569011(0xa34)](_0x1bd54b/_0x461098)]:(await this[_0x569011(0x92a)][_0x569011(0x54b)](_0x1a1d9b),[!0x1,0x0]);}catch(_0x46dfac){return[!0x1,0x0];}}[_0x227435(0xa2a)](_0xa2b4ae,_0x5001c2){const _0x7b69be=_0x227435,[_0xd6426e,_0x41d68b]=this[_0x7b69be(0x658)][_0x7b69be(0x441)](_0xa2b4ae)?.[_0x7b69be(0x441)](_0x5001c2)??[];return _0x41d68b&&clearTimeout(_0x41d68b),setTimeout(()=>{const _0x39aedf=_0x7b69be,[_0x126254,_0x2a32b5]=this[_0x39aedf(0x658)][_0x39aedf(0x441)](_0xa2b4ae)[_0x39aedf(0x441)](_0x5001c2);this[_0x39aedf(0x89a)](_0x126254,_0x2a32b5);},0x927c0);}async['sendFileRequestPayload'](_0x556864,_0x248d17){const _0x3aa8fe=_0x227435;clearTimeout(_0x248d17),_0x556864[_0x3aa8fe(0x2e2)]=_0x23bac4[_0x3aa8fe(0xa1a)],this['objectRequests'][_0x3aa8fe(0x9b4)](_0x56dc1f(_0x556864[_0x3aa8fe(0xb60)],_0x556864[_0x3aa8fe(0xc30)]),_0x556864),this['send'](_0x556864);}[_0x227435(0x800)](_0x404ba0,_0x13597c){const _0xddf7bf=_0x227435;if(!this[_0xddf7bf(0x5bb)])return;this[_0xddf7bf(0x658)][_0xddf7bf(0xac9)](_0x404ba0['answererId'])||this[_0xddf7bf(0x658)]['set'](_0x404ba0[_0xddf7bf(0x2e8)],new Map());const [_0x1d7f10]=this[_0xddf7bf(0x658)]['get'](_0x404ba0['answererId'])[_0xddf7bf(0x441)](_0x13597c)??[{'payloadType':_0x487a85[_0xddf7bf(0x410)],'action':_0x23bac4[_0xddf7bf(0xa1a)],'sourceId':this[_0xddf7bf(0xc26)][_0xddf7bf(0xc22)](),'type':_0x404ba0[_0xddf7bf(0x649)],'name':_0x404ba0[_0xddf7bf(0xc30)],'path':_0x404ba0[_0xddf7bf(0xb60)],'skipEncryption':_0x404ba0[_0xddf7bf(0xbb3)],'checksum':_0x404ba0[_0xddf7bf(0x258)],'answererId':_0x404ba0[_0xddf7bf(0x2e8)]}];this[_0xddf7bf(0x658)][_0xddf7bf(0x441)](_0x404ba0[_0xddf7bf(0x2e8)])['set'](_0x13597c,[_0x1d7f10,this[_0xddf7bf(0xa2a)](_0x404ba0['answererId'],_0x13597c)]);}async[_0x227435(0x28a)](_0x569cf2,_0x2f5c31,_0x46344e){const _0x1f4fb7=_0x227435;this[_0x1f4fb7(0x8f0)]&&(this[_0x1f4fb7(0xa48)]+=0x1),await this[_0x1f4fb7(0x92a)][_0x1f4fb7(0x28a)](_0x569cf2,_0x2f5c31,_0x46344e);}async[_0x227435(0x54b)](_0xaf5a4e){const _0x12f33d=_0x227435;try{const _0x42c527=await this[_0x12f33d(0x92a)][_0x12f33d(0x54b)](_0xaf5a4e);if(!_0xaf5a4e[_0x12f33d(0x401)](_0x583f3f))try{await this[_0x12f33d(0x92a)][_0x12f33d(0x54b)](_0xaf5a4e+_0x583f3f);}catch(_0x3cbba5){}return this[_0x12f33d(0x8f0)]&&_0x42c527===_0x2bba8e[_0x12f33d(0x27f)][_0x12f33d(0xb45)]&&(this['filesSynced']+=0x1),_0x42c527;}catch(_0x3eb2bb){return await this[_0x12f33d(0x92a)]['deleteObject'](_0xaf5a4e+_0x583f3f);}}async[_0x227435(0x813)](_0x1768d8,_0x1a3666){const _0x379cd8=_0x227435;try{const _0x402e49=await this[_0x379cd8(0x92a)][_0x379cd8(0x813)](_0x1768d8,_0x1a3666);if(!_0x1768d8['endsWith'](_0x583f3f))try{await this[_0x379cd8(0x92a)][_0x379cd8(0x813)](_0x1768d8+_0x583f3f,_0x1a3666+_0x583f3f);}catch(_0x15f5e6){}return _0x402e49;}catch(_0x3f3931){return await this['objectStoreConnector'][_0x379cd8(0x813)](_0x1768d8+_0x583f3f,_0x1a3666+_0x583f3f);}}['sendStats'](){const _0x306d4c=_0x227435;this[_0x306d4c(0xb57)]&&clearTimeout(this[_0x306d4c(0xb57)]),this[_0x306d4c(0xb57)]=setTimeout(async()=>{const _0x343c73=_0x306d4c;delete this[_0x343c73(0xb57)];const _0x59574a=await this[_0x343c73(0x92a)][_0x343c73(0x8e6)]('/');this[_0x343c73(0x45d)]?.[_0x343c73(0xb22)]({'sourceId':_0x48df1c,'messageType':_0x37ab1a[_0x343c73(0x42c)],'content':{'type':_0x593bd0[_0x343c73(0x34a)],'label':this['label'],'stats':{'timestamp':Date['now'](),'storage':_0x59574a,'messagesSent':this[_0x343c73(0xa92)],'messagesReceived':this[_0x343c73(0x64f)],'bytesSent':this[_0x343c73(0x41d)],'bytesReceived':this[_0x343c73(0x485)],'writes':this[_0x343c73(0xb63)],'reads':this[_0x343c73(0x352)],'prompts':0x0,'tokens':0x0}}}),this['syncContent']&&_0x1822ee[_0x343c73(0x33c)](_0x26d5b9[_0x343c73(0x956)],_0x343c73(0x34d)+this[_0x343c73(0x7f8)]+'ccc'+this[_0x343c73(0x40a)],_0x59574a);},_0x384e78);}async[_0x227435(0x905)](_0x66c9ad){const _0x595f0d=_0x227435;try{return await this[_0x595f0d(0x441)](_0x66c9ad),!0x0;}catch(_0x26ee9b){return!0x1;}}async[_0x227435(0xaa3)](_0x55b9cc){const _0x1f36ee=_0x227435;if(!this['fileChunks'][_0x1f36ee(0xac9)](_0x55b9cc))return;const _0x3b5436=this['fileChunks'][_0x1f36ee(0x441)](_0x55b9cc);if(_0x3b5436[_0x1f36ee(0x4d0)])try{await _0x3b5436['stream']['close']();}catch(_0x129dcb){console[_0x1f36ee(0xc13)](_0x1f36ee(0x786),_0x129dcb);}this['fileChunks']['delete'](_0x55b9cc);}}class _0x132efa extends _0x4c830f{[_0x227435(0xc26)];[_0x227435(0x7f8)];[_0x227435(0xb96)]=new Map();[_0x227435(0xb57)];constructor(_0x15c086,_0x2a0f89,_0x16657e){const _0x5cdb3d=_0x227435;if(_0x5cdb3d(0x984)!=typeof _0x2a0f89)throw new _0x27b95d(_0x398751[_0x5cdb3d(0xb1c)],_0x5cdb3d(0x448));super(_0x15c086,_0x2a0f89),this[_0x5cdb3d(0xc26)]=_0x15c086,this['clusterId']=_0x16657e,this['sendStats']();}[_0x227435(0x278)](){const _0x5d31db=_0x227435;this[_0x5d31db(0x23c)]();}[_0x227435(0x9b5)](){const _0x1d3020=_0x227435;return _0x2bba8e['ContentType'][_0x1d3020(0x8e7)];}[_0x227435(0xb22)](_0x54ebf5,_0x193be5){const _0x598557=_0x227435;_0x1822ee[_0x598557(0xbf2)](_0xbbb80e[_0x598557(0x8e7)],_0x598557(0x539),this[_0x598557(0xc26)]['getId'](),_0x54ebf5,_0x193be5),_0x1822ee[_0x598557(0x8c4)](_0x26d5b9[_0x598557(0x8e7)],{'type':_0x598557(0xb22),'label':this['label'],'nodeId':this[_0x598557(0xc26)]['getId'](),'nodeType':this[_0x598557(0xc26)]['type'],'clusterId':this[_0x598557(0x7f8)],'remoteIds':_0x193be5??[],'contentType':_0x54ebf5 instanceof File?_0x2bba8e[_0x598557(0x97c)][_0x598557(0xb45)]:_0x2bba8e[_0x598557(0x97c)][_0x598557(0xa47)],'size':_0x54ebf5 instanceof File?_0x54ebf5['size']:JSON[_0x598557(0x5dd)](_0x54ebf5)[_0x598557(0xbfb)]}),this[_0x598557(0x23c)](),this[_0x598557(0x8d0)](_0x54ebf5,_0x193be5);}[_0x227435(0x214)](_0x30503f,_0x4a535b){const _0xf55b29=_0x227435;if(this['unsubscribeHandler'][_0xf55b29(0xac9)](_0x30503f))throw new _0x27b95d(_0x398751[_0xf55b29(0x5ef)],_0xf55b29(0xc3f));this[_0xf55b29(0xb96)]['set'](_0x30503f,this['onMessage']((_0x1e9edc,_0x3bbb02)=>{const _0x57cc7b=_0xf55b29;_0x57cc7b(0x205)===_0x30503f&&_0x3bbb02 instanceof File||!(_0x57cc7b(0x8fb)!==_0x30503f||_0x3bbb02 instanceof File)||(_0x1822ee[_0x57cc7b(0xbf2)](_0xbbb80e['PubSub'],_0x57cc7b(0x6c9),this[_0x57cc7b(0xc26)][_0x57cc7b(0xc22)](),_0x1e9edc,_0x3bbb02),_0x1822ee['logServiceEvent'](_0x26d5b9[_0x57cc7b(0x8e7)],{'type':'subscribe','label':this[_0x57cc7b(0x40a)],'nodeId':this['localNode'][_0x57cc7b(0xc22)](),'nodeType':this[_0x57cc7b(0xc26)][_0x57cc7b(0x649)],'clusterId':this['clusterId'],'remoteId':_0x1e9edc,'contentType':_0x30503f,'size':_0x3bbb02 instanceof File?_0x3bbb02['size']:JSON[_0x57cc7b(0x5dd)](_0x3bbb02)[_0x57cc7b(0xbfb)]}),this['sendStats'](),_0x4a535b(_0x1e9edc,_0x3bbb02));}));}[_0x227435(0x46f)](_0xddc9d3){const _0x3393e0=_0x227435;this[_0x3393e0(0xb96)][_0x3393e0(0x441)](_0xddc9d3)?.(),this['unsubscribeHandler'][_0x3393e0(0x3df)](_0xddc9d3);}['destroy'](){const _0x9c338e=_0x227435;this[_0x9c338e(0xb96)][_0x9c338e(0x3e7)](_0x13dfe0=>_0x13dfe0()),clearTimeout(this[_0x9c338e(0xb57)]),delete this[_0x9c338e(0xb57)],super[_0x9c338e(0xa3c)]();}[_0x227435(0xa42)](){const _0x25ac42=_0x227435;this[_0x25ac42(0x45d)]?.[_0x25ac42(0xb22)]({'sourceId':_0x48df1c,'messageType':_0x37ab1a['Content'],'content':{'type':_0x593bd0[_0x25ac42(0x5ab)],'label':this['label']}});}[_0x227435(0x23c)](){const _0x250eae=_0x227435;this['debounceStats']&&clearTimeout(this['debounceStats']),this[_0x250eae(0xb57)]=setTimeout(()=>{const _0x3c9671=_0x250eae;this[_0x3c9671(0x45d)]?.[_0x3c9671(0xb22)]({'sourceId':_0x48df1c,'messageType':_0x37ab1a[_0x3c9671(0x42c)],'content':{'type':_0x593bd0['PubSubTopicStats'],'label':this[_0x3c9671(0x40a)],'stats':{'timestamp':Date['now'](),'storage':0x0,'messagesSent':this[_0x3c9671(0xa92)],'messagesReceived':this[_0x3c9671(0x64f)],'bytesSent':this[_0x3c9671(0x41d)],'bytesReceived':this[_0x3c9671(0x485)],'writes':0x0,'reads':0x0,'prompts':0x0,'tokens':0x0}}});},_0x384e78);}}class _0x37c2d0 extends _0x533d92{[_0x227435(0xc26)];[_0x227435(0x5c7)];[_0x227435(0x757)];[_0x227435(0x7f8)];[_0x227435(0xb96)];['resizeHandler'];[_0x227435(0x303)];[_0x227435(0x58f)]=new Map();[_0x227435(0x9e6)];['subscribedTracks']=new Set();[_0x227435(0x24d)];[_0x227435(0x922)]=_0x1aa7b3();['trackEndedListeners']=new Map();constructor(_0x1153ac,_0x15572e,_0x332cc3,_0x14b8c2,_0x18e78a,_0x22b462){const _0x426f46=_0x227435;super(_0x15572e,_0x332cc3,new MediaStream()),this['localNode']=_0x1153ac,this[_0x426f46(0x5c7)]=_0x14b8c2,this[_0x426f46(0x757)]=_0x18e78a,this[_0x426f46(0x7f8)]=_0x22b462,this[_0x426f46(0x7d3)]['getTracks']()[_0x426f46(0x3e7)](_0x15ae68=>this[_0x426f46(0x2d1)](_0x15ae68));}[_0x227435(0xa3c)](){const _0x5608a0=_0x227435;this[_0x5608a0(0x58f)][_0x5608a0(0x9e7)]>0x0&&(this['outgoingStreams']['forEach'](_0x38c448=>{const _0x40899b=_0x5608a0;_0x38c448[_0x40899b(0x71a)](),_0x38c448[_0x40899b(0xa3c)]();}),this['outgoingStreams'][_0x5608a0(0x42a)]()),this[_0x5608a0(0x863)][_0x5608a0(0x3e7)](_0x50537b=>_0x50537b()),this[_0x5608a0(0x7d3)][_0x5608a0(0xaeb)]()[_0x5608a0(0x3e7)](_0x5a1049=>this['mediaStream']['removeTrack'](_0x5a1049)),this[_0x5608a0(0x303)]&&(clearTimeout(this[_0x5608a0(0x303)]),delete this[_0x5608a0(0x303)]),this[_0x5608a0(0x70a)]?.(),super[_0x5608a0(0xa3c)]();}[_0x227435(0x7b4)](_0x4ad9c1){const _0x5023f0=_0x227435;this[_0x5023f0(0xb96)]=_0x4ad9c1[_0x5023f0(0x214)](({content:_0x2370c1})=>{const _0x3cfa3f=_0x5023f0;switch(_0x2370c1['action']){case _0x1321bb[_0x3cfa3f(0xbfc)]:if(_0x1822ee[_0x3cfa3f(0xbf2)](_0xbbb80e[_0x3cfa3f(0x30b)],_0x3cfa3f(0x3d5),this['localNode'][_0x3cfa3f(0xc22)](),this['providerId']),_0x2370c1['stream']['id']!==this[_0x3cfa3f(0x5c7)]||_0x2370c1[_0x3cfa3f(0x24d)]!==this[_0x3cfa3f(0x24d)])return;this[_0x3cfa3f(0x3ab)](_0x2370c1[_0x3cfa3f(0x4d4)][_0x3cfa3f(0xb74)]),this[_0x3cfa3f(0x7d3)][_0x3cfa3f(0x71e)](_0x2370c1['track']);for(const [_0x4e1783,_0x3d5c11]of this[_0x3cfa3f(0x58f)][_0x3cfa3f(0xc67)]())try{_0x3d5c11[_0x3cfa3f(0x71e)](_0x2370c1[_0x3cfa3f(0x4d4)]);}catch(_0x16fafc){_0x3d5c11[_0x3cfa3f(0xa3c)](),this[_0x3cfa3f(0x58f)][_0x3cfa3f(0x3df)](_0x4e1783);}this[_0x3cfa3f(0x2d1)](_0x2370c1[_0x3cfa3f(0x4d4)]),this[_0x3cfa3f(0x4d8)](),'video'===_0x2370c1[_0x3cfa3f(0x4d4)][_0x3cfa3f(0xb74)]&&this[_0x3cfa3f(0x9e6)]&&(this[_0x3cfa3f(0x7d3)]['active']?setTimeout(()=>this[_0x3cfa3f(0x9e6)]?.[_0x3cfa3f(0x889)](),0x0):setTimeout(()=>this[_0x3cfa3f(0x9e6)]?.['load'](),0x0),this[_0x3cfa3f(0x9db)]());break;case _0x1321bb[_0x3cfa3f(0xb70)]:if(_0x2370c1[_0x3cfa3f(0x4d0)]['id']!==this[_0x3cfa3f(0x5c7)]||_0x2370c1[_0x3cfa3f(0x24d)]!==this['providerId'])return;this[_0x3cfa3f(0x3ab)](_0x2370c1[_0x3cfa3f(0x4d4)][_0x3cfa3f(0xb74)]),this[_0x3cfa3f(0x9e6)]&&_0x3cfa3f(0x4c1)===_0x2370c1[_0x3cfa3f(0x4d4)][_0x3cfa3f(0xb74)]&&(this[_0x3cfa3f(0x70a)]?.(),this[_0x3cfa3f(0x7d3)][_0x3cfa3f(0xaeb)]()[_0x3cfa3f(0xbfb)]>0x0?this[_0x3cfa3f(0x9e6)][_0x3cfa3f(0x1fa)]():this['renderElement'][_0x3cfa3f(0xb7a)]=null);}});}[_0x227435(0x370)](){const _0x2ed3eb=_0x227435;this[_0x2ed3eb(0xb96)]?.(),this[_0x2ed3eb(0x863)][_0x2ed3eb(0x3e7)](_0x73aae5=>_0x73aae5()),delete this[_0x2ed3eb(0xb96)];}[_0x227435(0x83d)](){return this['internalId'];}[_0x227435(0x2c8)](_0x599716){const _0xa5ebea=_0x227435;this[_0xa5ebea(0x5c7)]=_0x599716;}[_0x227435(0x67d)](){const _0x5e35df=_0x227435;return this[_0x5e35df(0x757)];}[_0x227435(0x4b0)](_0x3e9169){const _0x419a94=_0x227435;for(const _0x510757 of _0x3e9169||this[_0x419a94(0x757)])if(!this[_0x419a94(0x7d3)][_0x419a94(0xaeb)]()[_0x419a94(0x5b4)](_0x541871=>_0x541871[_0x419a94(0xb74)]===_0x510757))return!0x1;return!0x0;}['getResolution'](){const _0x5c24af=_0x227435;let _0x20463f={'width':0x0,'height':0x0};const _0x14a315=this[_0x5c24af(0x7d3)][_0x5c24af(0x4af)]();if(_0x14a315[_0x5c24af(0xbfb)]>0x0){const _0x1745b6=_0x14a315[0x0]['getSettings']();_0x1745b6[_0x5c24af(0x478)]&&_0x1745b6[_0x5c24af(0x2a2)]&&(_0x20463f={'width':_0x1745b6['width'],'height':_0x1745b6['height']});}return _0x20463f;}[_0x227435(0x698)](_0x18218d){for(const _0x52e081 of _0x18218d)if(!this['subscribedTracks']['has'](_0x52e081))return!0x1;return!0x0;}[_0x227435(0x946)](_0xc4f24c,_0x5a06e5){const _0x271daf=_0x227435;if(!this[_0x271daf(0x58f)][_0x271daf(0xac9)](_0xc4f24c)){const _0x4637b8=new _0x454854(this[_0x271daf(0x4be)],this[_0x271daf(0x40a)],this['mediaStream'],_0xc4f24c,_0x5a06e5),_0x4043db=_0x4637b8[_0x271daf(0x7d6)](()=>{const _0x27b0ce=_0x271daf;_0x4043db(),this['outgoingStreams']['get'](_0xc4f24c)?.[_0x27b0ce(0xa3c)](),this[_0x27b0ce(0x58f)][_0x27b0ce(0x3df)](_0xc4f24c);});this['outgoingStreams'][_0x271daf(0x9b4)](_0xc4f24c,_0x4637b8),_0x4637b8[_0x271daf(0xc6d)](this[_0x271daf(0x45d)]);}return this['outgoingStreams'][_0x271daf(0x441)](_0xc4f24c);}[_0x227435(0xc7e)](){const _0x3992df=_0x227435;return this[_0x3992df(0x7d3)]['id'];}[_0x227435(0x4fc)](){const _0x4bc8d5=_0x227435;return _0x2bba8e[_0x4bc8d5(0x6b7)]['Default'];}[_0x227435(0x9ed)](){const _0x4ebcd6=_0x227435;return Array[_0x4ebcd6(0x218)](this[_0x4ebcd6(0x7f0)]);}[_0x227435(0x214)](_0x457145){const _0x10ed1a=_0x227435;let _0x2aef3d=[];if(_0x457145){_0x10ed1a(0xc34)!=typeof _0x457145[_0x10ed1a(0x4c1)]||_0x457145[_0x10ed1a(0x4c1)][_0x10ed1a(0x9e6)]instanceof HTMLVideoElement||!this[_0x10ed1a(0x9e6)]||(_0x457145['video']={'renderElement':this[_0x10ed1a(0x9e6)]});try{(0x0,_0x2bba8e['isValidMediaSubscriptionParams'])(_0x457145);}catch(_0x1d1bd0){throw new _0x27b95d(_0x398751[_0x10ed1a(0x6d2)],_0x10ed1a(0x4e2));}_0x457145[_0x10ed1a(0x4c1)]&&(_0x2aef3d[_0x10ed1a(0x91f)](_0x10ed1a(0x4c1)),_0x10ed1a(0xa44)!=typeof _0x457145[_0x10ed1a(0x4c1)]&&_0x457145[_0x10ed1a(0x4c1)][_0x10ed1a(0x9e6)]&&(this[_0x10ed1a(0x9e6)]=_0x457145[_0x10ed1a(0x4c1)]['renderElement'],_0x457145[_0x10ed1a(0x4c1)][_0x10ed1a(0x34b)]||(_0x457145[_0x10ed1a(0x4c1)]['maxResolution']={'width':this[_0x10ed1a(0x9e6)]['clientWidth'],'height':this['renderElement'][_0x10ed1a(0x2a0)]}),delete _0x457145[_0x10ed1a(0x4c1)][_0x10ed1a(0x9e6)])),_0x457145[_0x10ed1a(0x305)]&&_0x2aef3d[_0x10ed1a(0x91f)](_0x10ed1a(0x305));}else _0x2aef3d=this[_0x10ed1a(0x67d)]();this['isSubscribed'](_0x2aef3d)||(_0x2aef3d[_0x10ed1a(0x3e7)](_0x580782=>this[_0x10ed1a(0x7f0)][_0x10ed1a(0x9b9)](_0x580782)),this[_0x10ed1a(0x45d)][_0x10ed1a(0xb22)]({'sourceId':_0x48df1c,'messageType':_0x37ab1a[_0x10ed1a(0x42c)],'content':{'type':_0x593bd0['SubscribeMediaStream'],'label':this[_0x10ed1a(0x40a)],'ownerId':this[_0x10ed1a(0x4be)][_0x10ed1a(0xc22)](),'trackKinds':_0x2aef3d,'params':_0x457145}}),_0x1822ee[_0x10ed1a(0x8c4)](_0x26d5b9['MediaStream'],{'type':_0x10ed1a(0x214),'label':this[_0x10ed1a(0x40a)],'nodeId':this['localNode'][_0x10ed1a(0xc22)](),'nodeType':this['localNode'][_0x10ed1a(0x649)],'clusterId':this[_0x10ed1a(0x7f8)],'sourceId':this[_0x10ed1a(0x4be)][_0x10ed1a(0xc22)](),'streamId':this[_0x10ed1a(0x5c7)],'trackKinds':_0x2aef3d}));}[_0x227435(0x75a)](_0x5658eb){const _0x47da86=_0x227435;try{(0x0,_0x2bba8e[_0x47da86(0x6bf)])(_0x5658eb);}catch(_0x4a34b2){throw new _0x27b95d(_0x398751[_0x47da86(0x6d2)],'Invalid\x20params');}this[_0x47da86(0x303)]&&clearTimeout(this[_0x47da86(0x303)]),this[_0x47da86(0x303)]=setTimeout(()=>{const _0x51f275=_0x47da86;delete this[_0x51f275(0x303)],this[_0x51f275(0x45d)][_0x51f275(0xb22)]({'sourceId':_0x48df1c,'messageType':_0x37ab1a['Content'],'content':{'type':_0x593bd0[_0x51f275(0x2cb)],'label':this[_0x51f275(0x40a)],'ownerId':this[_0x51f275(0x4be)][_0x51f275(0xc22)](),'params':_0x5658eb}});},0x1f4);}['unsubscribe'](_0x325765){const _0x1a0d8b=_0x227435;_0x325765||(_0x325765=this[_0x1a0d8b(0x67d)]()),(_0x325765=Array[_0x1a0d8b(0x51b)](_0x325765)?_0x325765:[_0x325765])['forEach'](_0x12eaad=>this[_0x1a0d8b(0x7f0)][_0x1a0d8b(0x3df)](_0x12eaad)),this['systemTopic'][_0x1a0d8b(0xb22)]({'sourceId':_0x48df1c,'messageType':_0x37ab1a['Content'],'content':{'type':_0x593bd0[_0x1a0d8b(0xc79)],'label':this[_0x1a0d8b(0x40a)],'ownerId':this['owner'][_0x1a0d8b(0xc22)](),'trackKinds':_0x325765,'remainingTracks':this[_0x1a0d8b(0x7f0)][_0x1a0d8b(0x9e7)]}});}[_0x227435(0x580)](_0x3eea51){const _0x47a3ab=_0x227435;return this[_0x47a3ab(0x922)]['subscribe'](_0x3eea51);}[_0x227435(0x6f6)](){return this['providerId'];}['setProviderId'](_0x423876){const _0x5794ae=_0x227435;this[_0x5794ae(0x24d)]!==_0x423876&&(this[_0x5794ae(0x24d)]=_0x423876,this[_0x5794ae(0x922)][_0x5794ae(0xb22)](_0x423876));}[_0x227435(0x954)](_0x101da1){const _0x4e2784=_0x227435;this[_0x4e2784(0x863)]['get'](_0x101da1)?.(),this[_0x4e2784(0x863)][_0x4e2784(0x3df)](_0x101da1);}['removeTrack'](_0x33e694){const _0x1ee1b8=_0x227435,_0x5a0dec=this[_0x1ee1b8(0x7d3)]['getTracks']()[_0x1ee1b8(0x5b4)](_0x54e049=>_0x54e049[_0x1ee1b8(0xb74)]===_0x33e694);_0x5a0dec&&(this[_0x1ee1b8(0x7d3)][_0x1ee1b8(0x3ab)](_0x5a0dec),this[_0x1ee1b8(0x58f)]['forEach'](_0x52a467=>_0x52a467[_0x1ee1b8(0x3ab)](_0x33e694)),this[_0x1ee1b8(0x863)][_0x1ee1b8(0x441)](_0x33e694)?.());}['setupRenderElement'](){const _0x553b1b=_0x227435;this[_0x553b1b(0x9e6)]&&(this['renderElement'][_0x553b1b(0xb7a)]&&this[_0x553b1b(0x9e6)][_0x553b1b(0xb7a)]===this[_0x553b1b(0x7d3)]||(this['renderElement']['srcObject']=this[_0x553b1b(0x7d3)]));}[_0x227435(0x9db)](){const _0x55645a=_0x227435;if(this[_0x55645a(0x9e6)]&&!this[_0x55645a(0x70a)]&&'undefined'!=typeof ResizeObserver){let _0x1036b5=this[_0x55645a(0x9e6)]['clientWidth'],_0x2abf8e=this['renderElement'][_0x55645a(0x2a0)];const _0x26f0fe=new ResizeObserver(_0x542fc4=>{const _0x1399e7=_0x55645a,{width:_0x54b0c7,height:_0x39fc8c}=_0x542fc4[0x0][_0x1399e7(0x3cd)];_0x1036b5===_0x54b0c7&&_0x2abf8e===_0x39fc8c||(_0x1036b5=Math['floor'](_0x54b0c7),_0x2abf8e=Math['floor'](_0x39fc8c),this[_0x1399e7(0x75a)]({'video':{'maxResolution':{'width':_0x54b0c7,'height':_0x39fc8c}}}));});_0x26f0fe[_0x55645a(0x2b4)](this[_0x55645a(0x9e6)]),this['resizeHandler']=()=>_0x26f0fe[_0x55645a(0xbe8)]();}}[_0x227435(0xbd4)](_0x1b6cd4){const _0x5a1bde=_0x227435,_0x198135=[];for(const _0x32dcec of this[_0x5a1bde(0x7f0)])this[_0x5a1bde(0x3ab)](_0x32dcec),_0x198135[_0x5a1bde(0x91f)](_0x32dcec);this['providerId']&&this['systemTopic']['publish']({'sourceId':_0x48df1c,'messageType':_0x37ab1a[_0x5a1bde(0x42c)],'content':{'type':_0x593bd0['RemoteMediaStreamTrackFail'],'label':this['label'],'streamId':this[_0x5a1bde(0x5c7)],'ownerId':this[_0x5a1bde(0x4be)][_0x5a1bde(0xc22)](),'providerId':this[_0x5a1bde(0x24d)],'trackKinds':_0x198135}});}[_0x227435(0x2d1)](_0x1bbdc5){const _0x26789c=_0x227435,_0x58fc67=()=>this[_0x26789c(0xbd4)](_0x1bbdc5);_0x1bbdc5['addEventListener'](_0x26789c(0x986),_0x58fc67),_0x1bbdc5[_0x26789c(0xbee)](_0x26789c(0x80e),_0x58fc67),this[_0x26789c(0x863)][_0x26789c(0x9b4)](_0x1bbdc5[_0x26789c(0xb74)],()=>{const _0x4012c3=_0x26789c;_0x1bbdc5[_0x4012c3(0x9b3)](_0x4012c3(0x986),_0x58fc67),_0x1bbdc5[_0x4012c3(0x9b3)](_0x4012c3(0x80e),_0x58fc67),this[_0x4012c3(0x863)][_0x4012c3(0x3df)](_0x1bbdc5[_0x4012c3(0xb74)]);});}}class _0x9c7245 extends _0x4c830f{[_0x227435(0xc26)];[_0x227435(0x7f8)];[_0x227435(0x2ae)];['db'];[_0x227435(0xb57)];[_0x227435(0xb63)]=0x0;[_0x227435(0x352)]=0x0;[_0x227435(0xace)]=!0x1;constructor(_0x473ebe,_0x331608,_0x58750e,_0x45d5be,_0x5836d9){const _0x48ccc8=_0x227435;if(_0x48ccc8(0x984)!=typeof _0x331608)throw new _0x27b95d(_0x398751[_0x48ccc8(0x220)],'Cannot\x20create\x20Vector\x20Database:\x20Name\x20must\x20be\x20a\x20string');super(_0x473ebe,_0x331608),this[_0x48ccc8(0xc26)]=_0x473ebe,this['clusterId']=_0x58750e,this[_0x48ccc8(0x2ae)]=_0x45d5be;const _0x1ea416=_0x48ccc8(0x34d)+this[_0x48ccc8(0x2ae)]+_0x48ccc8(0x34d)+this[_0x48ccc8(0x7f8)]+_0x48ccc8(0x34d)+this[_0x48ccc8(0x40a)];this['db']=new _0x5836d9(_0x1ea416),this[_0x48ccc8(0x23c)]();}[_0x227435(0xa00)](){return this['isLoaded'];}[_0x227435(0x518)](_0x193cbb){this['isLoaded']=_0x193cbb;}[_0x227435(0xa3c)](){const _0xb0c791=_0x227435;clearTimeout(this['debounceStats']),delete this[_0xb0c791(0xb57)],super[_0xb0c791(0xa3c)]();}[_0x227435(0xa42)](){const _0x3189b2=_0x227435;this[_0x3189b2(0x45d)][_0x3189b2(0xb22)]({'sourceId':_0x48df1c,'messageType':_0x37ab1a[_0x3189b2(0x42c)],'content':{'type':_0x593bd0[_0x3189b2(0xc3b)],'label':this['label']}});}[_0x227435(0x278)](){this['sendStats']();}['getContentType'](){const _0x970ec9=_0x227435;return _0x2bba8e[_0x970ec9(0x97c)][_0x970ec9(0x561)];}['search'](_0x128faa,_0xba2a75,_0x33d763,_0x2a9220,_0x4251ba){const _0x18e9ca=_0x227435,_0x41ca69=this['db'][_0x18e9ca(0x98b)](_0x128faa,_0xba2a75,_0x33d763,_0x2a9220,_0x4251ba);return this['reads']+=0x1,_0x1822ee['logServiceEvent'](_0x26d5b9['VectorDatabase'],{'type':_0x18e9ca(0x98b),'label':this[_0x18e9ca(0x40a)],'nodeId':this[_0x18e9ca(0xc26)]['getId'](),'nodeType':this[_0x18e9ca(0xc26)][_0x18e9ca(0x649)],'clusterId':this[_0x18e9ca(0x7f8)],'size':0x0}),this[_0x18e9ca(0x23c)](),_0x41ca69;}[_0x227435(0x9fb)](_0x2af546,_0x20a3ba,_0x358a90,_0x2bfc4d){const _0x92edc7=_0x227435;this['db'][_0x92edc7(0x9fb)](_0x2af546,_0x20a3ba,_0x358a90,_0x2bfc4d),this['writes']+=0x1,_0x1822ee[_0x92edc7(0x8c4)](_0x26d5b9['VectorDatabase'],{'type':_0x92edc7(0x9fb),'label':this[_0x92edc7(0x40a)],'nodeId':this['localNode']['getId'](),'nodeType':this['localNode'][_0x92edc7(0x649)],'clusterId':this[_0x92edc7(0x7f8)],'size':_0x2bfc4d[_0x92edc7(0x4df)]((_0x4f9302,_0x4d9a50)=>_0x4f9302+_0x4d9a50[_0x92edc7(0xbfb)],0x0)}),this[_0x92edc7(0x23c)]();}[_0x227435(0xa74)](_0x14fa40){const _0x54da5c=_0x227435;this['db']['remove'](_0x14fa40),this[_0x54da5c(0xb63)]+=0x1,_0x1822ee[_0x54da5c(0x8c4)](_0x26d5b9['VectorDatabase'],{'type':_0x54da5c(0xa74),'label':this[_0x54da5c(0x40a)],'nodeId':this['localNode'][_0x54da5c(0xc22)](),'nodeType':this['localNode'][_0x54da5c(0x649)],'clusterId':this[_0x54da5c(0x7f8)],'size':0x0}),this['sendStats']();}['saveToDisk'](_0x1dd309){const _0x31da74=_0x227435;this['db'][_0x31da74(0x3fe)](_0x1dd309);}[_0x227435(0x8a0)](_0x134bdf){this['db']['loadFromDisk'](_0x134bdf);}[_0x227435(0x23c)](){const _0x12c480=_0x227435;this['debounceStats']&&clearTimeout(this[_0x12c480(0xb57)]),this['debounceStats']=setTimeout(async()=>{const _0x844e63=_0x12c480;delete this[_0x844e63(0xb57)];const _0x40d12a=this['db'][_0x844e63(0x7db)]()[_0x844e63(0x3f5)];this[_0x844e63(0x45d)]['publish']({'sourceId':_0x48df1c,'messageType':_0x37ab1a[_0x844e63(0x42c)],'content':{'type':_0x593bd0[_0x844e63(0x947)],'label':this[_0x844e63(0x40a)],'stats':{'timestamp':Date[_0x844e63(0xb26)](),'storage':_0x40d12a,'messagesSent':this[_0x844e63(0xa92)],'messagesReceived':this[_0x844e63(0x64f)],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x844e63(0x485)],'writes':this[_0x844e63(0xb63)],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),_0x1822ee['logStorage'](_0x26d5b9['VectorDatabase'],_0x844e63(0x34d)+this[_0x844e63(0x7f8)]+_0x844e63(0x34d)+this[_0x844e63(0x40a)],_0x40d12a);},_0x384e78);}}class _0x5dd975{['id'];['remoteConnections'];[_0x227435(0x85e)];constructor(_0x5c15e6,_0x449d01=new Set(),_0x4697e8){const _0x367a76=_0x227435;this['id']=_0x5c15e6,this[_0x367a76(0x881)]=_0x449d01,this['rank']=_0x4697e8;}[_0x227435(0xa42)](){const _0x50384e=_0x227435;this['rank']=void 0x0,this['remoteConnections'][_0x50384e(0x42a)]();}[_0x227435(0xc22)](){return this['id'];}[_0x227435(0x604)](){return this['rank'];}[_0x227435(0x668)](){return this['remoteConnections'];}}class _0x21572f extends _0x5dd975{['id'];['displayName'];[_0x227435(0x791)];[_0x227435(0x881)];[_0x227435(0x85e)];[_0x227435(0x649)]=_0x2bba8e[_0x227435(0x6e1)]['User'];constructor(_0x321b32,_0x177550,_0x40729e,_0x447577=new Set(),_0x5e6525){const _0x566e74=_0x227435;super(_0x321b32,_0x447577,_0x5e6525),this['id']=_0x321b32,this[_0x566e74(0xc09)]=_0x177550,this[_0x566e74(0x791)]=_0x40729e,this[_0x566e74(0x881)]=_0x447577,this[_0x566e74(0x85e)]=_0x5e6525;}[_0x227435(0xc0e)](){const _0x341a09=_0x227435;return this[_0x341a09(0xc09)];}['getEmail'](){const _0x46367d=_0x227435;return this[_0x46367d(0x791)];}}class _0x171d35{[_0x227435(0x2ae)];[_0x227435(0x7f8)];[_0x227435(0x3e3)];constructor(_0x1c683e,_0x1b9cbe){const _0x273200=_0x227435;this['vendorId']=_0x1c683e,this[_0x273200(0x7f8)]=_0x1b9cbe,this[_0x273200(0x3e3)]=_0x273200(0x34d)+this[_0x273200(0x2ae)]+'ccc'+this[_0x273200(0x7f8)];}async[_0x227435(0xa99)](_0x19c536,_0x9c3d97){const _0x52652b=_0x227435,_0x425014=(0x0,_0x58c2bf[_0x52652b(0xafb)])(_0x35b99b[_0x52652b(0xa2f)](),'clusters/'+this[_0x52652b(0x3e3)]+_0x52652b(0x2a9)+_0x9c3d97+_0x52652b(0x8eb)+_0x19c536['id']),_0x33b06e=(0x0,_0x58c2bf[_0x52652b(0xc64)])(_0x425014);_0x33b06e[_0x52652b(0xa74)](),_0x19c536['parentId']||delete _0x19c536['parentId'];try{await(0x0,_0x58c2bf[_0x52652b(0x9b4)])(_0x425014,_0x19c536);}catch(_0x447be0){throw await _0x33b06e['cancel'](),new _0x82cd08(_0x82cd08['codes'][_0x52652b(0x213)]);}if(!0x1===(await(0x0,_0x58c2bf[_0x52652b(0xbdf)])((0x0,_0x58c2bf[_0x52652b(0xafb)])(_0x35b99b[_0x52652b(0xa2f)](),_0x52652b(0x6b8)+this[_0x52652b(0x3e3)]+_0x52652b(0x2a9)+_0x9c3d97+'/transactions/lastTransaction'),_0x2fcf2b=>_0x2fcf2b?_0x2fcf2b===_0x19c536[_0x52652b(0x88f)]?_0x19c536['id']:void 0x0:_0x19c536[_0x52652b(0x88f)]?_0x19c536['parentId']:_0x19c536['id']))[_0x52652b(0x2e6)])throw await(0x0,_0x58c2bf['remove'])(_0x425014),await _0x33b06e[_0x52652b(0xb83)](),new _0x82cd08(_0x82cd08[_0x52652b(0xab8)][_0x52652b(0x670)]);await _0x33b06e[_0x52652b(0xb83)]();}async[_0x227435(0xc61)](_0x4df3fd,_0x2fa61b){const _0x19127d=_0x227435;let _0x9c9e71=[];const _0x2d8c51=(0x0,_0x58c2bf[_0x19127d(0xafb)])(_0x35b99b[_0x19127d(0xa2f)](),_0x19127d(0x6b8)+this[_0x19127d(0x3e3)]+'/objectstores/'+_0x4df3fd+_0x19127d(0x7b7));let _0x1876a9=await(0x0,_0x58c2bf['get'])((0x0,_0x58c2bf[_0x19127d(0x97f)])(_0x2d8c51,(0x0,_0x58c2bf['limitToFirst'])(0x65),(0x0,_0x58c2bf[_0x19127d(0x3ae)])()));if(!_0x1876a9[_0x19127d(0x2e5)]()){if(void 0x0!==_0x2fa61b)throw new _0x82cd08(_0x82cd08[_0x19127d(0xab8)]['ObjectStoreInvalidState']);return _0x9c9e71;}const _0x185f73=_0x1876a9[_0x19127d(0x4ff)]();for(;Object[_0x19127d(0x8d8)](_0x1876a9[_0x19127d(0x4ff)]())['length']>0x64;){const _0x247da5=Object['keys'](_0x1876a9['val']()),_0xb128c2=_0x247da5[_0x247da5[_0x19127d(0xbfb)]-0x1];_0x1876a9=await(0x0,_0x58c2bf[_0x19127d(0x441)])((0x0,_0x58c2bf[_0x19127d(0x97f)])(_0x2d8c51,(0x0,_0x58c2bf[_0x19127d(0x2f2)])(0x65),(0x0,_0x58c2bf['startAt'])(_0xb128c2),(0x0,_0x58c2bf[_0x19127d(0x3ae)])())),Object['assign'](_0x185f73,_0x1876a9[_0x19127d(0x4ff)]());}if(_0x9c9e71=Object[_0x19127d(0xbc7)](_0x185f73)[_0x19127d(0x276)](_0x5dd2b8=>_0x19127d(0x984)!=typeof _0x5dd2b8),0x0===_0x9c9e71['length']&&void 0x0!==_0x2fa61b)throw new _0x82cd08(_0x82cd08['codes'][_0x19127d(0x7d0)]);if(_0x9c9e71[_0x19127d(0xbfb)]>0x0&&void 0x0!==_0x2fa61b&&!_0x9c9e71[_0x19127d(0x5b4)](_0x5a5593=>_0x5a5593['id']===_0x2fa61b))throw new _0x82cd08(_0x82cd08[_0x19127d(0xab8)][_0x19127d(0x7d0)]);const _0x49c235=[];let _0x34d6ee=_0x9c9e71['find'](_0xc8d2f5=>_0xc8d2f5[_0x19127d(0x88f)]===_0x2fa61b);for(;_0x34d6ee;)_0x49c235[_0x19127d(0x91f)](_0x34d6ee),_0x34d6ee=_0x9c9e71[_0x19127d(0x5b4)](_0x329ddb=>_0x329ddb['parentId']===_0x34d6ee['id']);return _0x49c235;}}class _0x1e4034 extends _0x3b1ae5{['contentMediator'];[_0x227435(0x861)];[_0x227435(0x4dd)];[_0x227435(0x92a)];['documentParserConnector'];[_0x227435(0x991)];[_0x227435(0x415)];[_0x227435(0xb99)];[_0x227435(0xaee)];[_0x227435(0xbd0)];[_0x227435(0xc4a)];[_0x227435(0x39f)];[_0x227435(0x827)]=new Map();[_0x227435(0xaa5)]=new Map();['isOpened']=!0x1;constructor(_0x4b0bea,_0x29fdd0,_0x4cc798,_0x558b45,_0x13d46a,_0x36640d,_0x50a864,_0x4cd373,_0x5626cb,_0x1d8a47,_0x5651cc,_0x252bf6,_0x126cf4,_0x17229b){const _0x208a38=_0x227435;super(_0x4b0bea,_0x29fdd0),this['contentMediator']=_0x4cc798,this[_0x208a38(0x861)]=_0x558b45,this[_0x208a38(0x4dd)]=_0x13d46a,this[_0x208a38(0x92a)]=_0x36640d,this[_0x208a38(0x502)]=_0x50a864,this[_0x208a38(0x991)]=_0x4cd373,this[_0x208a38(0x415)]=_0x5626cb,this[_0x208a38(0xb99)]=_0x1d8a47,this[_0x208a38(0xaee)]=_0x5651cc,this[_0x208a38(0xbd0)]=_0x252bf6,this[_0x208a38(0xc4a)]=_0x126cf4,this['openAIKey']=_0x17229b,this[_0x208a38(0xbd2)]();}async['getDataBucketIds'](){return[];}async['open'](_0x4b3744=!0x1){const _0x1a56df=_0x227435;if(!this['isOpened']){_0x1822ee[_0x1a56df(0x7fb)](_0x1a56df(0x7b2),this['label']),this[_0x1a56df(0x827)]=await _0x5be0c7['getModels']();try{for(const _0x2845c4 of this['generativeAIWorkerConnectors'])await _0x2845c4[_0x1a56df(0x8c7)](this[_0x1a56df(0x40a)],this['models']);}catch(_0x3f98f4){return this[_0x1a56df(0xbd2)](_0x4b3744);}this[_0x1a56df(0x8f1)]=!0x0,_0x1822ee[_0x1a56df(0x7fb)]('GenerativeAIWorker:\x20Opened',this[_0x1a56df(0x40a)]);}}[_0x227435(0xa42)](){const _0x508a32=_0x227435;this['systemTopic']?.[_0x508a32(0xb22)]({'sourceId':_0x48df1c,'messageType':_0x37ab1a[_0x508a32(0x42c)],'content':{'type':_0x593bd0[_0x508a32(0x5bc)],'label':this[_0x508a32(0x40a)]}});}[_0x227435(0x83d)](){const _0x18bb6d=_0x227435;return this[_0x18bb6d(0x40a)];}[_0x227435(0x9b5)](){const _0xb2b54d=_0x227435;return _0x2bba8e[_0xb2b54d(0x97c)][_0xb2b54d(0xa47)];}[_0x227435(0x459)](_0x4ec8e4){const _0x40c569=_0x227435,_0x415b61=_0x40c569(0x273)+(0x0,_0x4821d1['v4'])();let _0x1707b7=!0x1;const _0x14f1bc=()=>{const _0x1cc8b9=_0x40c569;if(_0x1707b7)throw new _0x82cd08(_0x82cd08[_0x1cc8b9(0xab8)][_0x1cc8b9(0x4f0)]);_0x1707b7=!0x0;},_0x10ec7d={'threadId':_0x40c569(0x42d)+(0x0,_0x4821d1['v4'])(),..._0x4ec8e4};switch(_0x4ec8e4[_0x40c569(0x649)]){case'collection-create':case'collection-delete':case _0x40c569(0xb73):case _0x40c569(0xa6a):case _0x40c569(0x293):case'file-ingest':case'file-list':case'rate':case'realtime-session-create':case _0x40c569(0xa1c):case'tool-call':case _0x40c569(0x234):return{'id':_0x415b61,..._0x4ec8e4,'run':()=>(_0x14f1bc(),this[_0x40c569(0x536)](_0x415b61,_0x10ec7d))};case _0x40c569(0x393):case _0x40c569(0x7ed):return{'id':_0x415b61,'options':{'threadId':_0x40c569(0x42d)+(0x0,_0x4821d1['v4'])()},..._0x4ec8e4,'run':()=>(_0x14f1bc(),this[_0x40c569(0x536)](_0x415b61,_0x10ec7d)),'stream':()=>(_0x14f1bc(),this['internalProcessJobStream'](_0x415b61,_0x10ec7d))};default:throw new Error(_0x40c569(0xc2b));}}async[_0x227435(0x536)](_0x2d9da9,_0x5236d3){const _0x1036cf=_0x227435;if(_0x1036cf(0x7ed)===_0x5236d3[_0x1036cf(0x649)]){await this[_0x1036cf(0xbcf)](_0x2d9da9,_0x5236d3);const _0x1b1d75=await _0x5be0c7['getWorkflow'](_0x5236d3[_0x1036cf(0x2ae)],_0x5236d3['workflowId']),_0x40f2bd=_0x1b1d75['blocks'][_0x1036cf(0x5b4)](_0x115a98=>_0x115a98['type']===_0x296cd7[_0x1036cf(0x7a9)]||_0x115a98[_0x1036cf(0x649)]===_0x296cd7[_0x1036cf(0x25c)]||_0x115a98[_0x1036cf(0x649)]===_0x296cd7[_0x1036cf(0x295)]),_0x5b2faf=await _0x3e6f44(_0x5236d3[_0x1036cf(0x203)]??_0x2d9da9,_0x5236d3,_0x40f2bd,_0x1b1d75[_0x1036cf(0x92b)],{'documentParserConnector':this[_0x1036cf(0x502)],'fileConnector':this[_0x1036cf(0x991)],'nlpLibraryConnector':this[_0x1036cf(0x415)],'generativeAIWorkerConnectors':this[_0x1036cf(0x861)],'speechAIWorkerConnectors':this[_0x1036cf(0x4dd)],'models':Array[_0x1036cf(0x218)](this[_0x1036cf(0x827)][_0x1036cf(0xbc7)]()),'contentMediator':this[_0x1036cf(0x52b)],'searchConnector':this[_0x1036cf(0xb99)],'aiSearchConnector':this[_0x1036cf(0xaee)],'queryFileConnector':this[_0x1036cf(0xbd0)]});return await this[_0x1036cf(0x388)](_0x2d9da9,_0x5236d3),_0x5b2faf;}if(_0x1036cf(0x234)===_0x5236d3[_0x1036cf(0x649)])return await _0x27744f(_0x5236d3,{'documentParserConnector':this[_0x1036cf(0x502)],'fileConnector':this[_0x1036cf(0x991)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x1036cf(0x861)],'speechAIWorkerConnectors':this[_0x1036cf(0x4dd)],'models':Array[_0x1036cf(0x218)](this[_0x1036cf(0x827)][_0x1036cf(0xbc7)]()),'contentMediator':this[_0x1036cf(0x52b)],'searchConnector':this[_0x1036cf(0xb99)],'aiSearchConnector':this[_0x1036cf(0xaee)],'queryFileConnector':this['queryFileConnector']});if(_0x1036cf(0x393)===_0x5236d3['type']){await this[_0x1036cf(0xbcf)](_0x2d9da9,_0x5236d3);const _0x5cb465=await _0x1bf211(_0x5236d3[_0x1036cf(0x203)]??_0x2d9da9,_0x5236d3,{'documentParserConnector':this[_0x1036cf(0x502)],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x1036cf(0x861)],'speechAIWorkerConnectors':this[_0x1036cf(0x4dd)],'models':Array['from'](this['models']['values']()),'contentMediator':this['contentMediator'],'searchConnector':this['searchConnector'],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this[_0x1036cf(0xbd0)]});return await this[_0x1036cf(0x388)](_0x2d9da9,_0x5236d3),_0x5cb465;}if(_0x1036cf(0x302)===_0x5236d3[_0x1036cf(0x649)])return await _0x50c690[_0x1036cf(0x351)]({'jobType':_0x36cb8d['Rating'],'type':_0x25e3f0['PromptRating'],'jobId':_0x5236d3[_0x1036cf(0x203)],'threadId':_0x5236d3['threadId'],'traceLevel':_0x57b22b[_0x1036cf(0x8f3)],'startTime':Date[_0x1036cf(0xb26)](),'timestamp':Date[_0x1036cf(0xb26)](),'status':'success','rating':_0x5236d3[_0x1036cf(0x7c5)],'feedback':_0x5236d3['feedback']}),{'type':_0x1036cf(0x302),'status':_0x2bba8e['GenerativeAIRatingStatus'][_0x1036cf(0x284)]};if(_0x1036cf(0x6d9)===_0x5236d3[_0x1036cf(0x649)])return await _0x5438a7(_0x5236d3,{'documentParserConnector':this[_0x1036cf(0x502)],'fileConnector':this[_0x1036cf(0x991)],'nlpLibraryConnector':this[_0x1036cf(0x415)],'generativeAIWorkerConnectors':this[_0x1036cf(0x861)],'speechAIWorkerConnectors':this[_0x1036cf(0x4dd)],'models':Array[_0x1036cf(0x218)](this['models'][_0x1036cf(0xbc7)]()),'contentMediator':this['contentMediator'],'searchConnector':this[_0x1036cf(0xb99)],'aiSearchConnector':this[_0x1036cf(0xaee)],'queryFileConnector':this[_0x1036cf(0xbd0)]});if('speech-create'===_0x5236d3['type']){const _0x265470=this[_0x1036cf(0x827)][_0x1036cf(0x441)](_0x5236d3['model']);if(!_0x265470)throw new Error(_0x1036cf(0x5c5));const _0x152cf1=this[_0x1036cf(0x4dd)][_0x1036cf(0x5b4)](_0x42e38e=>_0x42e38e[_0x1036cf(0xc27)]()===_0x265470[_0x1036cf(0x76d)]);if(!_0x152cf1)throw new Error('No\x20speech\x20connector\x20available');return{'type':'speech-create','audio':await _0x152cf1[_0x1036cf(0xc29)](_0x5236d3['model'],_0x5236d3[_0x1036cf(0x335)],_0x5236d3['voice'],_0x5236d3[_0x1036cf(0xaef)],_0x5236d3[_0x1036cf(0xa35)])};}if(_0x1036cf(0x8ae)===_0x5236d3[_0x1036cf(0x649)]){const _0x28ebdd=await _0x5be0c7[_0x1036cf(0x6ba)](_0x5236d3['vendorId'],_0x5236d3[_0x1036cf(0x31e)]),_0x61ed4e=_0x28ebdd[_0x1036cf(0x92b)][_0x1036cf(0x5b4)](_0x34160c=>_0x34160c[_0x1036cf(0x649)]===_0x296cd7[_0x1036cf(0x25c)]),_0x57897a=_0x61ed4e[_0x1036cf(0x5d8)]?.[_0x1036cf(0x5b4)](_0x53496f=>_0x53496f[_0x1036cf(0x649)]===_0xa00ed6['Audio']),_0x36bbbc=_0x28ebdd[_0x1036cf(0x92b)][_0x1036cf(0x5b4)](_0x478b80=>_0x478b80[_0x1036cf(0x649)]===_0x296cd7['Agent']&&_0x478b80[_0x1036cf(0x911)]===_0x57897a[_0x1036cf(0x911)]),_0x3fc682=this[_0x1036cf(0x827)][_0x1036cf(0x441)](_0x36bbbc[_0x1036cf(0x46c)]),_0x5d4759=_0x2624ec(_0x36bbbc,_0x28ebdd[_0x1036cf(0x92b)]),_0x1303b8=_0x28ebdd[_0x1036cf(0x92b)][_0x1036cf(0x5b4)](_0x3df2fd=>_0x3df2fd['type']===_0x296cd7[_0x1036cf(0xbff)]),_0x3d400a=_0x28ebdd['blocks'][_0x1036cf(0x5b4)](_0x587a30=>_0x587a30['type']===_0x296cd7['Agent']&&_0x587a30['links']?.[_0x1036cf(0x2fd)](_0x254ed9=>_0x254ed9[_0x1036cf(0x649)]===_0xa00ed6[_0x1036cf(0x6cc)]&&_0x254ed9['uid']===_0x1303b8[_0x1036cf(0x911)])),_0x51af76=_0x28ebdd['blocks'][_0x1036cf(0x5b4)](_0x2f9cb0=>_0x2f9cb0['type']===_0x296cd7[_0x1036cf(0x5ac)]&&_0x2f9cb0['uid']===_0x3d400a[_0x1036cf(0x911)]),_0x1a39dc=this[_0x1036cf(0x827)][_0x1036cf(0x441)](_0x51af76[_0x1036cf(0x46c)]);return{'type':'realtime-session-create','apiKey':this[_0x1036cf(0x39f)],'sessionType':_0x3fc682['taskType']===_0x2bba8e['GenerativeAITaskType'][_0x1036cf(0x581)]?_0x1036cf(0x901):_0x1036cf(0xc49),'firstAgent':{'modelId':_0x36bbbc['modelId'],'taskType':_0x3fc682[_0x1036cf(0xa68)],'instructions':_0x36bbbc[_0x1036cf(0xa35)],'temperature':_0x36bbbc[_0x1036cf(0x51c)],'maxTokens':_0x36bbbc[_0x1036cf(0xb0a)],'initialPrompt':_0x28ebdd[_0x1036cf(0x530)],'voice':_0x36bbbc[_0x1036cf(0x8bd)],'language':_0x36bbbc[_0x1036cf(0x587)],'tools':_0x5d4759['map'](_0x211cde=>({..._0x211cde,'name':this[_0x1036cf(0x852)](_0x211cde),'description':this[_0x1036cf(0xac8)](_0x211cde),'parameters':this[_0x1036cf(0xaa4)](_0x211cde)}))},'lastAgent':{'modelId':_0x51af76['modelId'],'taskType':_0x1a39dc[_0x1036cf(0xa68)],'instructions':_0x51af76['instructions'],'initialPrompt':_0x28ebdd['initialPrompt'],'voice':_0x51af76[_0x1036cf(0x8bd)],'language':_0x51af76[_0x1036cf(0x587)]}};}if('file-delete'===_0x5236d3[_0x1036cf(0x649)]){const {vendorId:_0x1970e3,collectionId:_0x571a5a,namespace:_0x1f4b89,fileId:_0x5a97a7}=_0x5236d3,_0x1028cf=await _0x5be0c7['getDataCollection'](_0x1970e3,_0x571a5a),_0x3dc9f2=this[_0x1036cf(0xc4a)]?.[_0x1036cf(0x441)](_0x1028cf['storageType']);if(!_0x3dc9f2)throw new Error('No\x20RAG\x20connector\x20available');const _0x3e9c70=_0x557186(_0x1970e3,_0x1028cf);if(_0x1028cf['storageType']===_0x2bba8e[_0x1036cf(0x9f7)]['Crewdle'])try{await _0x3dc9f2[_0x1036cf(0xac2)]({'instanceId':_0x3e9c70,'collectionId':_0x571a5a,'namespace':_0x1f4b89},'/'+_0x1970e3+'/'+_0x571a5a+'/'+_0x5a97a7),await this['objectStoreConnector'][_0x1036cf(0x54b)]('/'+_0x1970e3+'/'+_0x571a5a+'/'+_0x5a97a7);}catch(_0x21c474){_0x1822ee['error'](_0x1036cf(0xa7e),_0x21c474);}else try{await _0x3dc9f2[_0x1036cf(0xac2)]({'instanceId':_0x3e9c70,'collectionId':_0x571a5a,'namespace':_0x1f4b89},_0x5a97a7);}catch(_0x5cae48){_0x1822ee[_0x1036cf(0xc13)](_0x1036cf(0xa7e),_0x5cae48);}return{'type':_0x1036cf(0xa6a)};}if(_0x1036cf(0x293)===_0x5236d3[_0x1036cf(0x649)]){let _0x101f5f;const _0x49ebe8=this[_0x1036cf(0xaa5)][_0x1036cf(0x8d8)]();for(;!_0x101f5f;){const _0x1d0381=_0x49ebe8[_0x1036cf(0xb37)]()[_0x1036cf(0x737)];if(!_0x1d0381)throw new Error(_0x1036cf(0xc69));_0x101f5f=this[_0x1036cf(0xaa5)][_0x1036cf(0x441)](_0x1d0381);try{const _0x179555=await _0x101f5f[_0x1036cf(0x441)](_0x5236d3[_0x1036cf(0x7c7)]);return{'type':_0x1036cf(0x293),'fileName':_0x179555['name'],'mimeType':_0x179555[_0x1036cf(0x649)],'document':await _0x179555['arrayBuffer']()};}catch(_0x4ce68d){continue;}}throw new Error('DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found');}if(_0x1036cf(0x913)===_0x5236d3[_0x1036cf(0x649)]){const {vendorId:_0x328c58,collectionId:_0x2e1383,namespace:_0x3bd72f,fileName:_0x5c5603,content:_0x7c1448}=_0x5236d3,_0x5f34c1=await _0x5be0c7[_0x1036cf(0x480)](_0x328c58,_0x2e1383);if(_0x5f34c1[_0x1036cf(0x3a5)]!==_0x2bba8e['GenerativeAIRagType']['Crewdle']){const _0x4d6e2e=this['ragConnectors']?.[_0x1036cf(0x441)](_0x5f34c1[_0x1036cf(0x3a5)]);if(!_0x4d6e2e)throw new Error(_0x1036cf(0x822));const _0x216cb9=_0x557186(_0x328c58,_0x5f34c1);return await _0x4d6e2e[_0x1036cf(0x241)]({'instanceId':_0x216cb9,'collectionId':_0x2e1383,'namespace':_0x3bd72f},_0x5c5603,_0x7c1448),{'type':_0x1036cf(0x913)};}const _0x1c1885=_0x5f34c1[_0x1036cf(0x2db)]?.[_0x1036cf(0x5b4)](_0x4a5929=>_0x4a5929[_0x1036cf(0x649)]===_0x4cc421[_0x1036cf(0xc66)]);if(!_0x1c1885)throw new Error(_0x1036cf(0x874));return _0x3bd72f&&(_0x5f34c1['namespace']=_0x3bd72f),await _0x266b27(_0x5236d3[_0x1036cf(0x2ae)],_0x2d9da9,'/'+_0x328c58+'/'+_0x2e1383+'/'+_0x5c5603,_0x7c1448,_0x1c1885,_0x5f34c1,{'objectStoreConnector':this[_0x1036cf(0x92a)],'ragConnector':this['ragConnectors']?.['get'](_0x2bba8e[_0x1036cf(0x9f7)][_0x1036cf(0x65e)]),'documentParserConnector':this['documentParserConnector'],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this[_0x1036cf(0x415)],'generativeAIWorkerConnectors':this[_0x1036cf(0x861)],'speechAIWorkerConnectors':this[_0x1036cf(0x4dd)],'models':Array[_0x1036cf(0x218)](this[_0x1036cf(0x827)][_0x1036cf(0xbc7)]()),'contentMediator':this[_0x1036cf(0x52b)]}),{'type':_0x1036cf(0x913)};}if(_0x1036cf(0x859)===_0x5236d3['type']){const {vendorId:_0x267354,collectionId:_0x1c49b8,namespace:_0x36889d}=_0x5236d3,_0x1d96bb=await _0x5be0c7[_0x1036cf(0x480)](_0x267354,_0x1c49b8);if(_0x1d96bb['storageType']!==_0x2bba8e['GenerativeAIRagType']['Crewdle']){const _0xfaf003=this[_0x1036cf(0xc4a)]?.['get'](_0x1d96bb[_0x1036cf(0x3a5)]);if(!_0xfaf003)throw new Error('No\x20RAG\x20connector\x20available');const _0x44b389=_0x557186(_0x267354,_0x1d96bb);return{'type':_0x1036cf(0x859),'files':await _0xfaf003[_0x1036cf(0x9d0)]({'instanceId':_0x44b389,'collectionId':_0x1c49b8,'namespace':_0x36889d})};}try{return{'type':_0x1036cf(0x859),'files':(await this[_0x1036cf(0x92a)][_0x1036cf(0x5cb)]('/'+_0x267354+'/'+_0x1c49b8,!0x1))[_0x1036cf(0x7b9)](_0x22a25e=>({'name':_0x22a25e[_0x1036cf(0xc30)],'id':_0x22a25e[_0x1036cf(0xc30)],'status':_0x1036cf(0x73b)}))};}catch(_0x1439f2){return{'type':_0x1036cf(0x859),'files':[]};}}if('collection-create'===_0x5236d3[_0x1036cf(0x649)]){const {vendorId:_0xf78425,collectionId:_0x14f325}=_0x5236d3,_0x4d7d6a=await _0x5be0c7[_0x1036cf(0x480)](_0xf78425,_0x14f325),_0x2f83e0=this[_0x1036cf(0xc4a)]?.[_0x1036cf(0x441)](_0x4d7d6a['storageType']);if(!_0x2f83e0)return{'type':'collection-create'};const _0x2a9d2c=_0x557186(_0xf78425,_0x4d7d6a);return await _0x2f83e0[_0x1036cf(0x841)](_0x2a9d2c,_0x14f325),{'type':'collection-create'};}if('collection-delete'===_0x5236d3[_0x1036cf(0x649)]){const {vendorId:_0x1fce03,collectionId:_0x4bad39}=_0x5236d3,_0xf4fe2c=await _0x5be0c7[_0x1036cf(0x480)](_0x1fce03,_0x4bad39),_0x379c7f=this['ragConnectors']?.['get'](_0xf4fe2c[_0x1036cf(0x3a5)]);if(!_0x379c7f)return{'type':_0x1036cf(0xb25)};const _0x3770f8=_0x557186(_0x1fce03,_0xf4fe2c);let _0x5793af=!0x1;if(_0xf4fe2c['hosting']===_0x16df3c[_0x1036cf(0x423)]&&(_0x5793af=!0x0),_0xf4fe2c[_0x1036cf(0xb0f)]===_0x16df3c[_0x1036cf(0xb39)]){_0x5793af=!0x0;const _0x527105=await _0x5be0c7['getDataCollections'](_0x1fce03);for(const _0x4b78a5 of _0x527105)if(_0x4b78a5[_0x1036cf(0x3a5)]===_0xf4fe2c[_0x1036cf(0x3a5)]&&_0x4b78a5[_0x1036cf(0xb0f)]===_0x16df3c[_0x1036cf(0xb39)]&&_0x4b78a5['id']!==_0xf4fe2c['id']){_0x5793af=!0x1;break;}}try{await _0x379c7f[_0x1036cf(0x225)](_0x3770f8,_0x4bad39,_0x5793af);}catch(_0x40185f){_0x1822ee[_0x1036cf(0xc13)](_0x1036cf(0x5e8),_0x40185f);}return{'type':_0x1036cf(0xb25)};}if('collection-query'===_0x5236d3['type']){const {query:_0x366824,vendorId:_0x536c56,collectionId:_0x2caedd,namespace:_0x159bed}=_0x5236d3,_0x3458e5=await _0x5be0c7[_0x1036cf(0x480)](_0x536c56,_0x2caedd);if(_0x3458e5[_0x1036cf(0x3a5)]!==_0x2bba8e[_0x1036cf(0x9f7)]['Crewdle']){const _0x35de32=this[_0x1036cf(0xc4a)]?.[_0x1036cf(0x441)](_0x3458e5[_0x1036cf(0x3a5)]);if(!_0x35de32)throw new Error('No\x20RAG\x20connector\x20available');const _0x36f3fb=_0x557186(_0x536c56,_0x3458e5);return{'type':'collection-query','results':await _0x35de32[_0x1036cf(0x8c9)]({'instanceId':_0x36f3fb,'collectionId':_0x2caedd,'namespace':_0x159bed},_0x366824,0x1)};}const _0x156803=_0x3458e5['retrieveBlocks']?.[_0x1036cf(0x5b4)](_0x30e0ea=>_0x30e0ea[_0x1036cf(0x649)]===_0x4cc421[_0x1036cf(0x7a9)]);return _0x159bed&&(_0x3458e5['namespace']=_0x159bed),{'type':_0x1036cf(0xb73),'results':(await _0x43b24d(_0x5236d3[_0x1036cf(0x2ae)],_0x2d9da9,'',_0x366824,_0x156803,_0x3458e5,{'objectStoreConnector':this['objectStoreConnector'],'ragConnector':this['ragConnectors']?.[_0x1036cf(0x441)](_0x2bba8e[_0x1036cf(0x9f7)][_0x1036cf(0x65e)]),'documentParserConnector':this[_0x1036cf(0x502)],'fileConnector':this[_0x1036cf(0x991)],'nlpLibraryConnector':this[_0x1036cf(0x415)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'speechAIWorkerConnectors':this[_0x1036cf(0x4dd)],'models':Array['from'](this[_0x1036cf(0x827)][_0x1036cf(0xbc7)]()),'contentMediator':this[_0x1036cf(0x52b)],'searchConnector':this['searchConnector'],'aiSearchConnector':this[_0x1036cf(0xaee)],'queryFileConnector':this[_0x1036cf(0xbd0)]}))['context']??[]};}throw new Error(_0x1036cf(0x6d3));}async*[_0x227435(0x6b2)](_0xd378d3,_0x58f5fa){const _0x1bad53=_0x227435;if(_0x1bad53(0x7ed)===_0x58f5fa[_0x1bad53(0x649)]){await this[_0x1bad53(0xbcf)](_0xd378d3,_0x58f5fa);const _0x7cffa=await _0x5be0c7[_0x1bad53(0x6ba)](_0x58f5fa[_0x1bad53(0x2ae)],_0x58f5fa['workflowId']),_0x2ed2e0=_0x7cffa[_0x1bad53(0x92b)][_0x1bad53(0x5b4)](_0x15cc1d=>_0x15cc1d['type']===_0x296cd7[_0x1bad53(0x7a9)]||_0x15cc1d[_0x1bad53(0x649)]===_0x296cd7[_0x1bad53(0x25c)]||_0x15cc1d[_0x1bad53(0x649)]===_0x296cd7['InputEmail']);for await(const _0x2b14e0 of _0x49f498(_0x58f5fa[_0x1bad53(0x203)]??_0xd378d3,_0x58f5fa,_0x2ed2e0,_0x7cffa[_0x1bad53(0x92b)],{'documentParserConnector':this['documentParserConnector'],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this[_0x1bad53(0x415)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'speechAIWorkerConnectors':this[_0x1bad53(0x4dd)],'models':Array[_0x1bad53(0x218)](this[_0x1bad53(0x827)]['values']()),'contentMediator':this[_0x1bad53(0x52b)],'searchConnector':this['searchConnector'],'aiSearchConnector':this[_0x1bad53(0xaee)],'queryFileConnector':this[_0x1bad53(0xbd0)]}))yield _0x2b14e0;await this['stopTracing'](_0xd378d3,_0x58f5fa);}if(_0x1bad53(0x393)===_0x58f5fa[_0x1bad53(0x649)]){await this['startTracing'](_0xd378d3,_0x58f5fa);for await(const _0x4b523f of _0x58158d(_0x58f5fa[_0x1bad53(0x203)]??_0xd378d3,_0x58f5fa,{'documentParserConnector':this[_0x1bad53(0x502)],'fileConnector':this[_0x1bad53(0x991)],'nlpLibraryConnector':this[_0x1bad53(0x415)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'speechAIWorkerConnectors':this[_0x1bad53(0x4dd)],'models':Array[_0x1bad53(0x218)](this[_0x1bad53(0x827)][_0x1bad53(0xbc7)]()),'contentMediator':this[_0x1bad53(0x52b)],'searchConnector':this[_0x1bad53(0xb99)],'aiSearchConnector':this[_0x1bad53(0xaee)],'queryFileConnector':this[_0x1bad53(0xbd0)]}))yield _0x4b523f;await this[_0x1bad53(0x388)](_0xd378d3,_0x58f5fa);}}async['startTracing'](_0x4f4deb,_0x30b1be){const _0x2b0cfd=_0x227435;if(_0x2b0cfd(0x302)===_0x30b1be['type'])return _0x4f4deb=_0x30b1be[_0x2b0cfd(0x203)],void await this[_0x2b0cfd(0x871)](_0x4f4deb,_0x30b1be[_0x2b0cfd(0x2ae)],_0x30b1be[_0x2b0cfd(0x31e)]);_0x2b0cfd(0x7ed)!==_0x30b1be[_0x2b0cfd(0x649)]&&_0x2b0cfd(0x393)!==_0x30b1be[_0x2b0cfd(0x649)]||!_0x30b1be[_0x2b0cfd(0x203)]||(_0x4f4deb=_0x30b1be[_0x2b0cfd(0x203)]),await this['openTrace'](_0x4f4deb,_0x30b1be[_0x2b0cfd(0x2ae)],_0x30b1be['workflowId'],_0x30b1be['threadId'],_0x30b1be[_0x2b0cfd(0x1f9)]),await _0x50c690[_0x2b0cfd(0x351)]({'jobType':_0x36cb8d[_0x2b0cfd(0x55e)],'type':_0x3f2531[_0x2b0cfd(0x6df)],'traceLevel':_0x57b22b[_0x2b0cfd(0x8f3)],'jobId':_0x4f4deb,'threadId':_0x30b1be[_0x2b0cfd(0x591)],'startTime':Date[_0x2b0cfd(0xb26)](),'timestamp':Date['now'](),'status':_0x2b0cfd(0x8bb)});}async[_0x227435(0x388)](_0x4b2352,_0x65a987){const _0x2101ea=_0x227435;if(_0x2101ea(0x302)===_0x65a987[_0x2101ea(0x649)])return _0x4b2352=_0x65a987[_0x2101ea(0x203)],void await this['closeTrace'](_0x4b2352);'prompt'!==_0x65a987[_0x2101ea(0x649)]&&_0x2101ea(0x393)!==_0x65a987[_0x2101ea(0x649)]||!_0x65a987[_0x2101ea(0x203)]||(_0x4b2352=_0x65a987[_0x2101ea(0x203)]),await _0x50c690[_0x2101ea(0x351)]({'jobType':_0x36cb8d[_0x2101ea(0x55e)],'type':_0x3f2531['Completed'],'traceLevel':_0x57b22b['Info'],'jobId':_0x4b2352,'threadId':_0x65a987[_0x2101ea(0x591)],'startTime':Date[_0x2101ea(0xb26)](),'timestamp':Date[_0x2101ea(0xb26)](),'status':_0x2101ea(0x8bb)}),await this[_0x2101ea(0x7a0)](_0x4b2352,_0x65a987[_0x2101ea(0x591)]);}async[_0x227435(0x871)](_0x23e7bd,_0x2efd7d,_0x15c4a2,_0xf38a6b,_0x18d5c1){const _0x495e33=_0x227435;try{if(!await _0x50c690['openTrace'](_0x2efd7d,_0x23e7bd,_0x15c4a2,_0xf38a6b,_0x18d5c1))throw new Error(_0x495e33(0x31c));return _0x23e7bd;}catch(_0x4d740c){return console[_0x495e33(0xc13)](_0x495e33(0x31c),_0x4d740c),'Could\x20not\x20open\x20trace';}}async['closeTrace'](_0x166b3a,_0x4a1bb5){const _0x25e8d4=_0x227435;try{await _0x50c690[_0x25e8d4(0x7a0)](_0x166b3a,_0x4a1bb5);}catch(_0x3eba3b){console[_0x25e8d4(0xc13)](_0x25e8d4(0xbc6),{'jobId':_0x166b3a,'error':_0x3eba3b});}}[_0x227435(0x852)](_0x140422){const _0x27cdf3=_0x227435;switch(_0x140422[_0x27cdf3(0x649)]){case _0x296cd7[_0x27cdf3(0x5ac)]:case _0x296cd7[_0x27cdf3(0x2b9)]:return _0x27cdf3(0x7b6)+_0x140422[_0x27cdf3(0xc30)]['replace'](/[^a-zA-Z]/g,'');case _0x296cd7[_0x27cdf3(0xa21)]:return _0x27cdf3(0x712)+_0x140422[_0x27cdf3(0xc30)]['replace'](/[^a-zA-Z]/g,'');case _0x296cd7[_0x27cdf3(0x2bd)]:case _0x296cd7[_0x27cdf3(0x45b)]:return _0x27cdf3(0xa14)+_0x140422['name'][_0x27cdf3(0x217)](/[^a-zA-Z]/g,'');case _0x296cd7[_0x27cdf3(0xb46)]:return _0x140422[_0x27cdf3(0xc30)][_0x27cdf3(0x217)](/[^a-zA-Z]/g,'');case _0x296cd7[_0x27cdf3(0xac0)]:return _0x27cdf3(0x839);case _0x296cd7['Code']:return _0x27cdf3(0x321);case _0x296cd7[_0x27cdf3(0x9e1)]:return _0x27cdf3(0xaf9);case _0x296cd7[_0x27cdf3(0xa0a)]:case _0x296cd7[_0x27cdf3(0x6fc)]:return _0x27cdf3(0x248);case _0x2bba8e[_0x27cdf3(0x517)]['FormSkillGetQuestion']:return _0x27cdf3(0xbdd)+_0x140422[_0x27cdf3(0xc30)]['replace'](/[^a-zA-Z]/g,'');case _0x2bba8e[_0x27cdf3(0x517)][_0x27cdf3(0x5b3)]:return _0x27cdf3(0xb44)+_0x140422['name'][_0x27cdf3(0x217)](/[^a-zA-Z]/g,'');case _0x2bba8e['GenerativeAIInferenceToolType'][_0x27cdf3(0x21a)]:return'submitForm'+_0x140422[_0x27cdf3(0xc30)][_0x27cdf3(0x217)](/[^a-zA-Z]/g,'');default:return'';}}[_0x227435(0xac8)](_0x5951bc){const _0x3f69e1=_0x227435;switch(_0x5951bc[_0x3f69e1(0x649)]){case _0x296cd7[_0x3f69e1(0x5ac)]:case _0x296cd7[_0x3f69e1(0x2b9)]:return _0x3f69e1(0x680)+_0x5951bc[_0x3f69e1(0x60e)]+_0x3f69e1(0x67e);case _0x296cd7[_0x3f69e1(0xa21)]:return'Execute\x20the\x20workflow\x20'+_0x5951bc[_0x3f69e1(0x60e)]+'\x20to\x20generate\x20a\x20response.';case _0x296cd7[_0x3f69e1(0x2bd)]:case _0x296cd7[_0x3f69e1(0x45b)]:return'Search\x20in\x20data\x20collection\x20'+_0x5951bc[_0x3f69e1(0x60e)]+_0x3f69e1(0x81c);case _0x296cd7[_0x3f69e1(0xb46)]:return'Execute\x20skill\x20'+_0x5951bc[_0x3f69e1(0x60e)];case _0x296cd7[_0x3f69e1(0xac0)]:return _0x3f69e1(0x32c);case _0x296cd7['Code']:return _0x3f69e1(0x8e4);case _0x296cd7[_0x3f69e1(0x9e1)]:return _0x3f69e1(0x1f5);case _0x296cd7['WebScraper']:case _0x296cd7['WebScraperRaw']:return'Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.';case _0x2bba8e[_0x3f69e1(0x517)][_0x3f69e1(0xb9f)]:return _0x3f69e1(0xa28);case _0x2bba8e[_0x3f69e1(0x517)][_0x3f69e1(0x5b3)]:return _0x3f69e1(0x706);case _0x2bba8e[_0x3f69e1(0x517)][_0x3f69e1(0x21a)]:return'Submit\x20the\x20form.';default:return'';}}[_0x227435(0xaa4)](_0x2ad878){const _0x80a10a=_0x227435;switch(_0x2ad878[_0x80a10a(0x649)]){case _0x296cd7[_0x80a10a(0x5ac)]:case _0x296cd7[_0x80a10a(0x2b9)]:case _0x296cd7['WorkflowTool']:return[{'name':_0x80a10a(0x7ed),'type':'string'}];case _0x296cd7['DataCollection']:case _0x296cd7[_0x80a10a(0x45b)]:return[{'name':_0x80a10a(0x341),'type':_0x80a10a(0x984)}];case _0x296cd7[_0x80a10a(0xb46)]:return _0x2ad878[_0x80a10a(0x6b9)]['map'](_0x24f484=>({'name':_0x24f484[_0x80a10a(0xc30)],'type':_0x24f484[_0x80a10a(0x649)]??_0x80a10a(0x984)}))??[];case _0x296cd7[_0x80a10a(0xac0)]:return[{'name':_0x80a10a(0x97f),'type':_0x80a10a(0x984)}];case _0x296cd7[_0x80a10a(0x5e6)]:return[{'name':_0x80a10a(0x3f0),'type':_0x80a10a(0x984)}];case _0x296cd7[_0x80a10a(0x9e1)]:return[{'name':_0x80a10a(0x97f),'type':'string'}];case _0x296cd7[_0x80a10a(0xa0a)]:case _0x296cd7['WebScraperRaw']:return[{'name':_0x80a10a(0x2d4),'type':_0x80a10a(0x984)},{'name':'page','type':'number'}];case _0x2bba8e[_0x80a10a(0x517)][_0x80a10a(0xb9f)]:return[];case _0x2bba8e[_0x80a10a(0x517)]['FormSkillSetAnswer']:return[{'name':'id','type':'string'},{'name':_0x80a10a(0x44a),'type':'string'}];case _0x2bba8e[_0x80a10a(0x517)][_0x80a10a(0x21a)]:default:return[];}}}class _0x569cff{[_0x227435(0x22a)];[_0x227435(0x21e)];[_0x227435(0xa0c)]=new Map();[_0x227435(0x87c)]=new Map();['pubSubTopics']=new Map();[_0x227435(0xb16)]=new Map();[_0x227435(0x62c)]=new Map();[_0x227435(0xa2c)]=new Map();[_0x227435(0xa43)]=new Map();[_0x227435(0x49c)]=new Map();['jobDispatchers']=new Map();[_0x227435(0x3a2)]=new Map();[_0x227435(0x503)]=new Map();[_0x227435(0x31a)];constructor(_0x2d1e4e,_0x518d08){const _0x5a12f7=_0x227435;this[_0x5a12f7(0x22a)]=_0x2d1e4e,this['options']=_0x518d08,this[_0x5a12f7(0x31a)]=new _0x171d35(this[_0x5a12f7(0x22a)]['vendorId'],this[_0x5a12f7(0x22a)][_0x5a12f7(0x7f8)]);}[_0x227435(0xa42)](_0x1dcc39=!0x1){const _0x534f4e=_0x227435;this[_0x534f4e(0x87c)][_0x534f4e(0x3e7)]((_0x530d42,_0x1fb437)=>{_0x530d42['forEach']((_0x18b64f,_0x3c255b)=>{this['removeRemoteMediaStream'](_0x1fb437,_0x3c255b);});}),_0x1dcc39||(_0x205eee[_0x534f4e(0x42a)](),this[_0x534f4e(0xa0c)][_0x534f4e(0x3e7)]((_0x20533,_0x533528)=>{const _0x179b9e=_0x534f4e;this[_0x179b9e(0xa52)](_0x533528);}),this[_0x534f4e(0x752)][_0x534f4e(0x3e7)]((_0x44cae7,_0x123e8d)=>{const _0x4ded58=_0x534f4e;this[_0x4ded58(0xa20)](_0x123e8d);}),this[_0x534f4e(0xb16)][_0x534f4e(0x3e7)]((_0x1262ab,_0x5a21f3)=>{const _0x5f579b=_0x534f4e;this[_0x5f579b(0xa64)](_0x5a21f3);}),this[_0x534f4e(0x62c)][_0x534f4e(0x3e7)]((_0x3cfd4b,_0x4b03f2)=>{const _0x3cf308=_0x534f4e;this[_0x3cf308(0x4e7)](_0x4b03f2);}),this[_0x534f4e(0xa2c)][_0x534f4e(0x3e7)]((_0x50d422,_0x1a7409)=>{const _0x28b15e=_0x534f4e;this[_0x28b15e(0xb98)](_0x1a7409);}),this['jobDispatchers']['forEach']((_0xc4905d,_0x575651)=>{const _0x13e9df=_0x534f4e;this[_0x13e9df(0x312)](_0x575651);}),this[_0x534f4e(0x3a2)][_0x534f4e(0x3e7)]((_0x5a04de,_0x584628)=>{const _0x3c0367=_0x534f4e;this[_0x3c0367(0xc0a)](_0x584628);}),this[_0x534f4e(0x503)][_0x534f4e(0x3e7)]((_0x29cc84,_0x2c91e3)=>{this['removeGenerativeAIContext'](_0x2c91e3);}),this[_0x534f4e(0xa43)][_0x534f4e(0x3e7)]((_0x3ec4a9,_0x42b145)=>{this['removeVectorDatabase'](_0x42b145);}),this[_0x534f4e(0x49c)][_0x534f4e(0x3e7)]((_0x2a0641,_0xe77ae5)=>{const _0x26ef21=_0x534f4e;this[_0x26ef21(0x586)](_0xe77ae5);}));}[_0x227435(0x4d1)](_0xf5102f,_0x2d6996,_0x25a3d5){const _0x40a39e=_0x227435;if(this[_0x40a39e(0xb16)][_0x40a39e(0xac9)](_0xf5102f))throw new _0x27b95d(_0x398751['ObjectStoreAlreadyExists'],_0x40a39e(0x893));const _0x501a08=new _0x3b4f9c(this[_0x40a39e(0x22a)][_0x40a39e(0xc26)],_0xf5102f,this[_0x40a39e(0x22a)][_0x40a39e(0x7f8)],this[_0x40a39e(0x22a)][_0x40a39e(0x2ae)],this[_0x40a39e(0x31a)],_0x2d6996,()=>this[_0x40a39e(0x22a)][_0x40a39e(0x3c9)]['waitForArrayBufferSize'](),_0x25a3d5);return this['objectStores']['set'](_0xf5102f,_0x501a08),this[_0x40a39e(0x22a)]['mediator'][_0x40a39e(0x282)](_0x501a08),_0x501a08;}[_0x227435(0x9a1)](_0x267f04,_0x1d6936){const _0x319b26=_0x227435;if(this[_0x319b26(0xb16)][_0x319b26(0xac9)](_0x267f04))throw new _0x27b95d(_0x398751[_0x319b26(0x5ae)],_0x319b26(0xabf));const _0x5e61b7=new _0x3f8e1a(this[_0x319b26(0x22a)]['localNode'],_0x267f04,this[_0x319b26(0x22a)][_0x319b26(0x7f8)],this[_0x319b26(0x22a)][_0x319b26(0x2ae)],_0x1d6936);return this['externalStorageConnections']['set'](_0x267f04,_0x5e61b7),this['configs'][_0x319b26(0x3c9)]['registerSystemSource'](_0x5e61b7),_0x5e61b7;}async[_0x227435(0x7d1)](_0x182377,_0x2b3fd3,_0x55c019){const _0x311786=_0x227435;if(this[_0x311786(0xa2c)][_0x311786(0xac9)](_0x182377))throw new _0x27b95d(_0x398751[_0x311786(0xc7b)],_0x311786(0x3bb));try{const _0x5d8ac8=this[_0x311786(0x22a)]['mediator'][_0x311786(0x3f4)][_0x311786(0x5ad)](this[_0x311786(0x22a)][_0x311786(0x3c9)]),_0x11496e=new _0x38e726(this[_0x311786(0x22a)][_0x311786(0xc26)],_0x182377,this['configs'][_0x311786(0x7f8)],this[_0x311786(0x22a)][_0x311786(0x2ae)],_0x2b3fd3,_0x55c019,_0x5d8ac8);return this[_0x311786(0xa2c)][_0x311786(0x9b4)](_0x182377,_0x11496e),this[_0x311786(0x22a)][_0x311786(0x3c9)]['registerSystemSource'](_0x11496e),_0x11496e;}catch(_0x15a178){if(_0x15a178 instanceof _0x27b95d)throw _0x15a178;throw new _0x82cd08(_0x82cd08[_0x311786(0xab8)][_0x311786(0xaf7)],{'label':_0x182377,'clusterId':this['configs']['clusterId'],'vendorId':this[_0x311786(0x22a)][_0x311786(0x2ae)]});}}async[_0x227435(0x58d)](_0x536491,_0x5b6362){const _0x4c9977=_0x227435;if(this[_0x4c9977(0xa65)][_0x4c9977(0xac9)](_0x536491))throw new _0x27b95d(_0x398751[_0x4c9977(0x1da)],_0x4c9977(0x9b0));try{const _0x19f6b8=new _0x411e0b(this['configs'][_0x4c9977(0xc26)],_0x536491,_0x5b6362);return this[_0x4c9977(0xa65)]['set'](_0x536491,_0x19f6b8),this[_0x4c9977(0x22a)][_0x4c9977(0x3c9)][_0x4c9977(0x282)](_0x19f6b8),_0x19f6b8;}catch(_0x52d3dd){if(_0x52d3dd instanceof _0x27b95d)throw _0x52d3dd;throw new _0x82cd08(_0x82cd08[_0x4c9977(0xab8)][_0x4c9977(0x272)],{'label':_0x536491,'clusterId':this[_0x4c9977(0x22a)][_0x4c9977(0x7f8)],'vendorId':this[_0x4c9977(0x22a)][_0x4c9977(0x2ae)]});}}async['createGenerativeAIContext'](_0x4bfd0f,_0x41c5be){const _0x461beb=_0x227435;if(this[_0x461beb(0xa65)]['has'](_0x4bfd0f))throw new _0x27b95d(_0x398751[_0x461beb(0xc38)],_0x461beb(0x38b));if(this[_0x461beb(0x3a2)][_0x461beb(0xac9)](_0x4bfd0f))throw new _0x27b95d(_0x398751['GenerativeAILabelConflict'],_0x461beb(0xb94));try{const _0x29be83=new _0x23e021(this[_0x461beb(0x22a)][_0x461beb(0xc26)],_0x4bfd0f,this[_0x461beb(0x22a)][_0x461beb(0x2ae)],_0x41c5be);return this[_0x461beb(0xa65)][_0x461beb(0x9b4)](_0x4bfd0f,_0x29be83),this[_0x461beb(0x22a)][_0x461beb(0x3c9)][_0x461beb(0x282)](_0x29be83),_0x29be83;}catch(_0x48f094){if(_0x48f094 instanceof _0x27b95d)throw _0x48f094;throw new _0x82cd08(_0x82cd08[_0x461beb(0xab8)][_0x461beb(0x366)],{'label':_0x4bfd0f,'clusterId':this[_0x461beb(0x22a)][_0x461beb(0x7f8)],'vendorId':this[_0x461beb(0x22a)][_0x461beb(0x2ae)]});}}async['createGenerativeAIContextStandalone'](_0xffb7ba,_0x4b4035,_0x4f42d0,_0x33baa8,_0x514dc8,_0xe13713,_0x1b17bc,_0x5d8497,_0x239bac,_0x5b10f1,_0x4e4460,_0x44eb21){const _0x3fd675=_0x227435;if(this[_0x3fd675(0x503)][_0x3fd675(0xac9)](_0xffb7ba))throw new _0x27b95d(_0x398751['GenerativeAIContextAlreadyExists'],'AI\x20Service\x20already\x20exists');if(this[_0x3fd675(0x3a2)][_0x3fd675(0xac9)](_0xffb7ba))throw new _0x27b95d(_0x398751[_0x3fd675(0x7f9)],'Label\x20already\x20in\x20use\x20by\x20AI\x20Service');try{const _0x4701d1=new _0x1e4034(this[_0x3fd675(0x22a)][_0x3fd675(0xc26)],_0xffb7ba,this,_0x4b4035,_0x4f42d0,_0x33baa8,_0x514dc8,_0xe13713,_0x1b17bc,_0x5d8497,_0x239bac,_0x5b10f1,_0x4e4460,_0x44eb21);return this[_0x3fd675(0x503)][_0x3fd675(0x9b4)](_0xffb7ba,_0x4701d1),this[_0x3fd675(0x22a)][_0x3fd675(0x3c9)]['registerSystemSource'](_0x4701d1),_0x4701d1;}catch(_0xd56a15){if(_0xd56a15 instanceof _0x27b95d)throw _0xd56a15;throw new _0x82cd08(_0x82cd08[_0x3fd675(0xab8)][_0x3fd675(0x366)],{'label':_0xffb7ba,'clusterId':this[_0x3fd675(0x22a)][_0x3fd675(0x7f8)],'vendorId':this[_0x3fd675(0x22a)][_0x3fd675(0x2ae)]});}}async['createGenerativeAIWorker'](_0x5c4fef,_0x233941,_0x5dd8f8,_0x5ad2c7,_0x2e0e66,_0x22ed69,_0x1035cc,_0x2f131c,_0x33d790,_0x1b099b,_0x36c6b5,_0x322078,_0x238631){const _0x2d7ef7=_0x227435;if(this['jobWorkers'][_0x2d7ef7(0xac9)](_0x5c4fef))throw new _0x27b95d(_0x398751[_0x2d7ef7(0x2cf)],'AI\x20Worker\x20already\x20exists');if(this[_0x2d7ef7(0xa65)][_0x2d7ef7(0xac9)](_0x5c4fef))throw new _0x27b95d(_0x398751[_0x2d7ef7(0x7f9)],_0x2d7ef7(0xb94));try{const _0x3548f6=new _0x17ae39(this[_0x2d7ef7(0x22a)][_0x2d7ef7(0xc26)],_0x5c4fef,_0x233941,this,_0x5dd8f8,_0x5ad2c7,_0x2e0e66,_0x22ed69,_0x1035cc,_0x2f131c,_0x33d790,_0x1b099b,_0x36c6b5,_0x322078,_0x238631);return this['jobWorkers'][_0x2d7ef7(0x9b4)](_0x5c4fef,_0x3548f6),this[_0x2d7ef7(0x22a)][_0x2d7ef7(0x3c9)][_0x2d7ef7(0x282)](_0x3548f6),_0x3548f6;}catch(_0x371264){if(_0x371264 instanceof _0x27b95d)throw _0x371264;throw new _0x82cd08(_0x82cd08[_0x2d7ef7(0xab8)][_0x2d7ef7(0x7bb)],{'label':_0x5c4fef,'clusterId':this[_0x2d7ef7(0x22a)][_0x2d7ef7(0x7f8)],'vendorId':this[_0x2d7ef7(0x22a)][_0x2d7ef7(0x2ae)]});}}[_0x227435(0x5a7)](_0x3041f8,_0x1014e1){const _0x3af616=_0x227435;if(this['graphDatabases'][_0x3af616(0xac9)](_0x3041f8))throw new _0x27b95d(_0x398751[_0x3af616(0x56f)],_0x3af616(0x3bb));try{const _0x4b4211=new _0xf17cfc(this[_0x3af616(0x22a)][_0x3af616(0xc26)],_0x3041f8,this[_0x3af616(0x22a)][_0x3af616(0x7f8)],this['configs'][_0x3af616(0x2ae)],_0x1014e1);return this['graphDatabases']['set'](_0x3041f8,_0x4b4211),this[_0x3af616(0x22a)][_0x3af616(0x3c9)][_0x3af616(0x282)](_0x4b4211),_0x4b4211;}catch(_0x562e4f){if(_0x562e4f instanceof _0x27b95d)throw _0x562e4f;throw new _0x82cd08(_0x82cd08[_0x3af616(0xab8)][_0x3af616(0x81f)],{'label':_0x3041f8,'clusterId':this[_0x3af616(0x22a)]['clusterId'],'vendorId':this[_0x3af616(0x22a)]['vendorId']});}}['createLocalDynamicMediaStream'](_0x13855f,_0x3053d5){const _0x9e1329=_0x227435;if(this[_0x9e1329(0xa0c)][_0x9e1329(0xac9)](_0x13855f))throw new _0x27b95d(_0x398751[_0x9e1329(0xa16)],_0x9e1329(0x4d2));if(!this[_0x9e1329(0x21e)][_0x9e1329(0xa6d)])throw new _0x27b95d(_0x398751[_0x9e1329(0x387)],_0x9e1329(0x538));const _0x9c7e8d=new _0x133103(this[_0x9e1329(0x22a)]['localNode'],_0x13855f,_0x3053d5,this[_0x9e1329(0x21e)][_0x9e1329(0x623)],this['options'][_0x9e1329(0xa6d)],this[_0x9e1329(0x22a)][_0x9e1329(0x7f8)]);return this['localMediaStreams']['set'](_0x13855f,_0x9c7e8d),this['configs'][_0x9e1329(0x3c9)][_0x9e1329(0x282)](_0x9c7e8d),_0x9c7e8d[_0x9e1329(0xb22)](),_0x9c7e8d;}[_0x227435(0x912)](_0x1c417a,_0x223127){const _0x551a7e=_0x227435;if(this[_0x551a7e(0xa0c)]['has'](_0x1c417a))throw new _0x27b95d(_0x398751[_0x551a7e(0xa16)],_0x551a7e(0x527));const _0x1ac52d=new _0x1ed567(this[_0x551a7e(0x22a)][_0x551a7e(0xc26)],_0x1c417a,_0x223127,this[_0x551a7e(0x22a)]['clusterId']);return this['localMediaStreams']['set'](_0x1c417a,_0x1ac52d),this['configs'][_0x551a7e(0x3c9)][_0x551a7e(0x282)](_0x1ac52d),_0x1ac52d[_0x551a7e(0xb22)](),_0x1ac52d;}['createPubSubTopic'](_0x485170){const _0x8773d8=_0x227435;if(this[_0x8773d8(0x752)][_0x8773d8(0xac9)](_0x485170))throw new _0x27b95d(_0x398751[_0x8773d8(0x58b)],_0x8773d8(0x489));const _0x1b4d50=new _0x132efa(this[_0x8773d8(0x22a)][_0x8773d8(0xc26)],_0x485170,this[_0x8773d8(0x22a)][_0x8773d8(0x7f8)]);return this['pubSubTopics'][_0x8773d8(0x9b4)](_0x485170,_0x1b4d50),this['configs'][_0x8773d8(0x3c9)][_0x8773d8(0x282)](_0x1b4d50),_0x1b4d50;}['createRemoteMediaStream'](_0x14563d,_0x53d60b,_0x2f2b75,_0xde1b69){const _0x5628a9=_0x227435;this[_0x5628a9(0x87c)]['has'](_0x14563d)||this[_0x5628a9(0x87c)][_0x5628a9(0x9b4)](_0x14563d,new Map());const _0x4cacae=this[_0x5628a9(0x87c)][_0x5628a9(0x441)](_0x14563d);if(_0x4cacae[_0x5628a9(0xac9)](_0x53d60b))throw new _0x27b95d(_0x398751[_0x5628a9(0x6b0)],'Remote\x20MediaStream\x20already\x20exists');const _0x4dd2de=new _0x21572f(_0x14563d,'',''),_0x202b10=new _0x37c2d0(this[_0x5628a9(0x22a)][_0x5628a9(0xc26)],_0x4dd2de,_0x53d60b,_0x2f2b75,_0xde1b69,this[_0x5628a9(0x22a)][_0x5628a9(0x7f8)]);return _0x4cacae['set'](_0x53d60b,_0x202b10),this[_0x5628a9(0x22a)][_0x5628a9(0x3c9)]['registerSystemSource'](_0x202b10),_0x202b10;}[_0x227435(0x6ad)](_0x4d4360,_0x5b7eaa){const _0x5265dd=_0x227435;if(this['vectorDatabases'][_0x5265dd(0xac9)](_0x4d4360))throw new _0x27b95d(_0x398751['VectorDatabaseAlreadyExists'],_0x5265dd(0x3bb));try{const _0x39f94c=new _0x9c7245(this['configs'][_0x5265dd(0xc26)],_0x4d4360,this[_0x5265dd(0x22a)][_0x5265dd(0x7f8)],this[_0x5265dd(0x22a)][_0x5265dd(0x2ae)],_0x5b7eaa);return this['vectorDatabases']['set'](_0x4d4360,_0x39f94c),this[_0x5265dd(0x22a)][_0x5265dd(0x3c9)][_0x5265dd(0x282)](_0x39f94c),_0x39f94c;}catch(_0x4a76d8){if(_0x4a76d8 instanceof _0x27b95d)throw _0x4a76d8;throw new _0x82cd08(_0x82cd08[_0x5265dd(0xab8)]['VectorDatabaseCreationFailed'],{'label':_0x4d4360,'clusterId':this['configs'][_0x5265dd(0x7f8)],'vendorId':this[_0x5265dd(0x22a)][_0x5265dd(0x2ae)]});}}[_0x227435(0xc3c)](_0x2461b7){const _0x3bf4df=_0x227435,_0x4326cb=Array['from'](this['objectStores']['values']());return _0x2461b7?_0x4326cb[_0x3bf4df(0x276)](_0x2461b7):_0x4326cb;}[_0x227435(0x5b0)](_0x10c70a){const _0x17b931=_0x227435,_0x20b7db=Array['from'](this['externalStorageConnections'][_0x17b931(0xbc7)]());return _0x10c70a?_0x20b7db[_0x17b931(0x276)](_0x10c70a):_0x20b7db;}[_0x227435(0xa29)](_0x2c2233){const _0x54cfcf=_0x227435,_0x47161f=Array['from'](this['keyValueDatabases']['values']());return _0x2c2233?_0x47161f[_0x54cfcf(0x276)](_0x2c2233):_0x47161f;}['getJobDispatchers'](_0xfbb49c){const _0x5fa169=_0x227435,_0x33469=Array[_0x5fa169(0x218)](this[_0x5fa169(0xa65)][_0x5fa169(0xbc7)]());return _0xfbb49c?_0x33469[_0x5fa169(0x276)](_0xfbb49c):_0x33469;}['getJobWorkers'](_0x8018c4){const _0x24c118=_0x227435,_0x5604d2=Array[_0x24c118(0x218)](this[_0x24c118(0x3a2)][_0x24c118(0xbc7)]());return _0x8018c4?_0x5604d2['filter'](_0x8018c4):_0x5604d2;}[_0x227435(0x3cc)](_0x39bd51){const _0x339fb4=_0x227435,_0x1419f6=Array[_0x339fb4(0x218)](this[_0x339fb4(0xa65)]['values']())[_0x339fb4(0x276)](_0x192dd0=>_0x192dd0 instanceof _0x23e021);return _0x39bd51?_0x1419f6['filter'](_0x39bd51):_0x1419f6;}['getGenerativeAIContextsStandalone'](_0x38b027){const _0x420dd9=_0x227435,_0x14b305=Array[_0x420dd9(0x218)](this['generativeAIContexts'][_0x420dd9(0xbc7)]());return _0x38b027?_0x14b305[_0x420dd9(0x276)](_0x38b027):_0x14b305;}[_0x227435(0xbef)](_0x50124c){const _0xb707f6=_0x227435,_0x366b6c=Array[_0xb707f6(0x218)](this[_0xb707f6(0x3a2)][_0xb707f6(0xbc7)]())[_0xb707f6(0x276)](_0x410b3d=>_0x410b3d instanceof _0x17ae39);return _0x50124c?_0x366b6c[_0xb707f6(0x276)](_0x50124c):_0x366b6c;}[_0x227435(0x7cd)](_0x56e8b8){const _0x59905d=_0x227435,_0xbc6517=Array['from'](this[_0x59905d(0x49c)][_0x59905d(0xbc7)]());return _0x56e8b8?_0xbc6517[_0x59905d(0x276)](_0x56e8b8):_0xbc6517;}[_0x227435(0xb92)](_0x4ba3e8){const _0x4a08a3=_0x227435,_0x1c70a0=Array[_0x4a08a3(0x218)](this[_0x4a08a3(0xa0c)]['values']());return _0x4ba3e8?_0x1c70a0['filter'](_0x4ba3e8):_0x1c70a0;}['getPubSubTopics'](_0x32ecd7){const _0x4ace7c=_0x227435,_0x396216=Array[_0x4ace7c(0x218)](this['pubSubTopics'][_0x4ace7c(0xbc7)]());return _0x32ecd7?_0x396216[_0x4ace7c(0x276)](_0x32ecd7):_0x396216;}[_0x227435(0x4ce)](_0x473f13){const _0x52c30a=_0x227435,_0x19efe5=Array[_0x52c30a(0x218)](this['remoteMediaStreams'][_0x52c30a(0xbc7)]())['reduce']((_0x55f50b,_0x506d0b)=>[..._0x55f50b,...Array[_0x52c30a(0x218)](_0x506d0b[_0x52c30a(0xbc7)]())],[]);return _0x473f13?_0x19efe5[_0x52c30a(0x276)](_0x473f13):_0x19efe5;}['getVectorDatabases'](_0x26e5ab){const _0xf6709d=_0x227435,_0xd4169a=Array[_0xf6709d(0x218)](this['vectorDatabases'][_0xf6709d(0xbc7)]());return _0x26e5ab?_0xd4169a[_0xf6709d(0x276)](_0x26e5ab):_0xd4169a;}[_0x227435(0x4a3)](_0x30ba9b){const _0x4cdbf4=_0x227435,_0x18d1f0=this['objectStores'][_0x4cdbf4(0x441)](_0x30ba9b);if(!_0x18d1f0)throw new _0x27b95d(_0x398751[_0x4cdbf4(0x4d3)],_0x4cdbf4(0x808));return _0x18d1f0;}['getExternalStorageConnection'](_0x3f377d){const _0x2c7f43=_0x227435,_0x164a28=_0x3f377d[_0x2c7f43(0x8ab)]('-'),_0x331c1d=this[_0x2c7f43(0x62c)][_0x2c7f43(0x441)](_0x164a28[0x1]);if(!_0x331c1d)throw new _0x27b95d(_0x398751['ExternalStorageConnectionDoesNotExist'],_0x2c7f43(0xc77));return _0x331c1d;}[_0x227435(0x9dc)](_0x2a88e2){const _0x439f5d=_0x227435,_0x14700b=this[_0x439f5d(0x49c)][_0x439f5d(0x441)](_0x2a88e2);if(!_0x14700b)throw new _0x27b95d(_0x398751[_0x439f5d(0x216)],_0x439f5d(0x5f3));return _0x14700b;}[_0x227435(0x567)](_0x57f8ec){const _0x3839cb=_0x227435,_0x25981c=this['keyValueDatabases'][_0x3839cb(0x441)](_0x57f8ec);if(!_0x25981c)throw new _0x27b95d(_0x398751[_0x3839cb(0x629)],_0x3839cb(0x99a));return _0x25981c;}[_0x227435(0x830)](_0x370356){const _0x520412=_0x227435,_0x3e9d13=this['pubSubTopics'][_0x520412(0x441)](_0x370356);if(!_0x3e9d13)throw new _0x27b95d(_0x398751[_0x520412(0x8bf)],'PubSubTopic\x20not\x20found');return _0x3e9d13;}[_0x227435(0x8ca)](_0x320c2a){const _0x87ca2=_0x227435,_0x59c677=this[_0x87ca2(0xa43)][_0x87ca2(0x441)](_0x320c2a);if(!_0x59c677)throw new _0x27b95d(_0x398751[_0x87ca2(0xc54)],'VectorDatabase\x20not\x20found');return _0x59c677;}[_0x227435(0x32a)](_0x4e5b67){const _0x4bb981=_0x227435;switch(_0x4e5b67[_0x4bb981(0xae3)][_0x4bb981(0x649)]){case _0x593bd0['PublishMediaStream']:this[_0x4bb981(0x721)](_0x4e5b67[_0x4bb981(0xae3)]);break;case _0x593bd0[_0x4bb981(0x674)]:this['handleUnpublishMediaStream'](_0x4e5b67[_0x4bb981(0xae3)]);break;case _0x593bd0[_0x4bb981(0x4ba)]:this[_0x4bb981(0x312)](_0x4e5b67['content'][_0x4bb981(0x40a)]);break;case _0x593bd0[_0x4bb981(0x2c7)]:this[_0x4bb981(0xc0a)](_0x4e5b67[_0x4bb981(0xae3)]['label']);break;case _0x593bd0[_0x4bb981(0x5bc)]:this[_0x4bb981(0xa79)](_0x4e5b67[_0x4bb981(0xae3)]['label']);break;case _0x593bd0[_0x4bb981(0x8c2)]:this[_0x4bb981(0xa52)](_0x4e5b67[_0x4bb981(0xae3)][_0x4bb981(0x40a)]);break;case _0x593bd0[_0x4bb981(0x5ab)]:this['removePubSubTopic'](_0x4e5b67[_0x4bb981(0xae3)][_0x4bb981(0x40a)]);break;case _0x593bd0[_0x4bb981(0xc0f)]:this[_0x4bb981(0xa64)](_0x4e5b67['content'][_0x4bb981(0x40a)]);break;case _0x593bd0[_0x4bb981(0xb53)]:this[_0x4bb981(0x4e7)](_0x4e5b67['content'][_0x4bb981(0x40a)]);break;case _0x593bd0[_0x4bb981(0xc03)]:this[_0x4bb981(0xb98)](_0x4e5b67[_0x4bb981(0xae3)][_0x4bb981(0x40a)]);break;case _0x593bd0['CloseVectorDatabase']:this[_0x4bb981(0x8c8)](_0x4e5b67[_0x4bb981(0xae3)][_0x4bb981(0x40a)]);break;case _0x593bd0[_0x4bb981(0x245)]:this[_0x4bb981(0x586)](_0x4e5b67['content']['label']);break;case _0x593bd0[_0x4bb981(0xc79)]:this['handleContentUnsubscribeMediaStream'](_0x4e5b67['content']);break;case _0x593bd0['KeyValueDatabaseSyncRequired']:this['keyValueDatabases'][_0x4bb981(0x441)](_0x4e5b67['content'][_0x4bb981(0x40a)])?.[_0x4bb981(0xc16)](_0x4e5b67[_0x4bb981(0xab9)],_0x4e5b67[_0x4bb981(0xae3)][_0x4bb981(0x959)]);break;case _0x593bd0[_0x4bb981(0x558)]:this[_0x4bb981(0xa2c)][_0x4bb981(0x441)](_0x4e5b67['content'][_0x4bb981(0x40a)])?.[_0x4bb981(0x622)](_0x4e5b67[_0x4bb981(0xab9)],_0x4e5b67['content'][_0x4bb981(0x959)]);break;case _0x593bd0[_0x4bb981(0x754)]:this[_0x4bb981(0xa2c)][_0x4bb981(0x441)](_0x4e5b67[_0x4bb981(0xae3)][_0x4bb981(0x40a)])?.[_0x4bb981(0x507)](_0x4e5b67[_0x4bb981(0xab9)],_0x4e5b67[_0x4bb981(0xae3)][_0x4bb981(0xa8e)]);break;case _0x593bd0[_0x4bb981(0x3a9)]:this[_0x4bb981(0xa2c)][_0x4bb981(0x441)](_0x4e5b67[_0x4bb981(0xae3)][_0x4bb981(0x40a)])?.[_0x4bb981(0x941)](_0x4e5b67['sourceId'],_0x4e5b67['content'][_0x4bb981(0x5f5)]);break;case _0x593bd0[_0x4bb981(0xbe6)]:this[_0x4bb981(0xa2c)][_0x4bb981(0x441)](_0x4e5b67[_0x4bb981(0xae3)][_0x4bb981(0x40a)])?.[_0x4bb981(0x3e4)](_0x4e5b67['sourceId'],_0x4e5b67[_0x4bb981(0xae3)]['transactionIds']);break;case _0x593bd0[_0x4bb981(0xae0)]:this[_0x4bb981(0xa2c)][_0x4bb981(0x441)](_0x4e5b67[_0x4bb981(0xae3)][_0x4bb981(0x40a)])?.['processReceivedTransactions'](_0x4e5b67[_0x4bb981(0xab9)],_0x4e5b67[_0x4bb981(0xae3)][_0x4bb981(0x960)]);break;case _0x593bd0['LocalMediaStreamTrackFail']:this[_0x4bb981(0x22a)][_0x4bb981(0x3c9)][_0x4bb981(0x71f)](_0x4bb981(0xafa),{'label':_0x4e5b67['content'][_0x4bb981(0x40a)],'trackKinds':_0x4e5b67[_0x4bb981(0xae3)][_0x4bb981(0x8c1)]});}}[_0x227435(0x2f1)]({content:_0xcd199}){const _0x32454f=_0x227435;switch(_0xcd199['type']){case _0x4026a7['NodeJoin']:this[_0x32454f(0x452)](_0xcd199),this[_0x32454f(0x6f9)](_0xcd199);break;case _0x4026a7['NodeLeave']:this['handleNodeLeave'](_0xcd199),this[_0x32454f(0xc62)](_0xcd199);}}[_0x227435(0x8b1)](_0x3c7d21){const _0xfacce1=_0x227435;switch(_0x3c7d21[_0xfacce1(0xae3)][_0xfacce1(0x649)]){case _0x11acfe[_0xfacce1(0x482)]:this['handleSubscribeMediaStream'](_0x3c7d21[_0xfacce1(0xab9)],_0x3c7d21[_0xfacce1(0xae3)]);break;case _0x11acfe['UpdateMediaStream']:this['handleUpdateMediaStream'](_0x3c7d21[_0xfacce1(0xab9)],_0x3c7d21['content']);break;case _0x11acfe[_0xfacce1(0xc79)]:this[_0xfacce1(0x497)](_0x3c7d21[_0xfacce1(0xab9)],_0x3c7d21[_0xfacce1(0xae3)]);}}[_0x227435(0x43a)](_0x4375eb){const _0xe9c31f=_0x227435;if(0x0===_0x4375eb['remainingTracks'])this[_0xe9c31f(0x87c)]['get'](_0x4375eb[_0xe9c31f(0x67b)])?.[_0xe9c31f(0x441)](_0x4375eb[_0xe9c31f(0x40a)])?.[_0xe9c31f(0xa3c)]();else{const _0x2ef68c=this[_0xe9c31f(0x87c)][_0xe9c31f(0x441)](_0x4375eb['ownerId'])?.[_0xe9c31f(0x441)](_0x4375eb['label']);if(!_0x2ef68c)return;_0x4375eb[_0xe9c31f(0x8c1)]['forEach'](_0x887bdc=>_0x2ef68c[_0xe9c31f(0x954)](_0x887bdc));}}[_0x227435(0x721)](_0x1a314e){const _0x2dc52e=_0x227435,{label:_0x46bb92,ownerId:_0x36daa2,stream:{streamId:_0x118bb4,availableTrackKinds:_0x3cd984}}=_0x1a314e;if(this['remoteMediaStreams'][_0x2dc52e(0x441)](_0x36daa2)?.[_0x2dc52e(0xac9)](_0x46bb92))return void _0x1822ee['log'](_0xbbb80e[_0x2dc52e(0x42c)],_0x2dc52e(0x527),_0x118bb4);const _0x19715d=this[_0x2dc52e(0xa40)](_0x36daa2,_0x46bb92,_0x118bb4,_0x3cd984);this[_0x2dc52e(0x22a)][_0x2dc52e(0x3c9)][_0x2dc52e(0x71f)](_0x2dc52e(0x5ba),{'ownerId':_0x36daa2,'stream':_0x19715d});}[_0x227435(0x4c6)]({ownerId:_0x1e84f1,label:_0x3f2679}){const _0x252be5=_0x227435;this[_0x252be5(0xad5)](_0x1e84f1,_0x3f2679),this[_0x252be5(0x22a)][_0x252be5(0x3c9)][_0x252be5(0x71f)](_0x252be5(0x421),{'ownerId':_0x1e84f1,'label':_0x3f2679});}[_0x227435(0x879)](_0x50af31,_0x399f67){const _0x46fc27=_0x227435,{ownerId:_0x2e6ba6,label:_0x2802a4}=_0x399f67;let _0x13f1c1;_0x13f1c1=_0x2e6ba6!==this[_0x46fc27(0x22a)][_0x46fc27(0xc26)]['getId']()?this[_0x46fc27(0x87c)]['get'](_0x2e6ba6)['get'](_0x2802a4):this[_0x46fc27(0xa0c)]['get'](_0x2802a4),_0x13f1c1['getShareableStream'](_0x50af31,_0x399f67[_0x46fc27(0x95a)])[_0x46fc27(0x214)](_0x399f67,_0x13f1c1[_0x46fc27(0x4fc)]());}[_0x227435(0x50d)](_0x3ae7d7,_0x279f8c){const _0x2df747=_0x227435,{ownerId:_0x497eff,label:_0x26cda6}=_0x279f8c;let _0x4321d7;_0x4321d7=_0x497eff!==this[_0x2df747(0x22a)]['localNode'][_0x2df747(0xc22)]()?this['remoteMediaStreams'][_0x2df747(0x441)](_0x497eff)[_0x2df747(0x441)](_0x26cda6):this[_0x2df747(0xa0c)][_0x2df747(0x441)](_0x26cda6),_0x4321d7['getShareableStream'](_0x3ae7d7,_0x279f8c[_0x2df747(0x95a)])['update'](_0x279f8c);}[_0x227435(0x497)](_0x4e2d3a,_0x13a700){const _0xa53fb5=_0x227435,{ownerId:_0x40c79f,label:_0xd48c2c}=_0x13a700;let _0x1a33ff;_0x1a33ff=_0x40c79f!==this[_0xa53fb5(0x22a)][_0xa53fb5(0xc26)][_0xa53fb5(0xc22)]()?this[_0xa53fb5(0x87c)][_0xa53fb5(0x441)](_0x40c79f)[_0xa53fb5(0x441)](_0xd48c2c):this[_0xa53fb5(0xa0c)]['get'](_0xd48c2c),_0x1a33ff[_0xa53fb5(0x946)](_0x4e2d3a)[_0xa53fb5(0x46f)](_0x13a700);}[_0x227435(0x452)]({id:_0x599156}){const _0x135616=_0x227435;this['getLocalMediaStreams']()[_0x135616(0x3e7)](_0x4ad1be=>{const _0x1399a0=_0x135616;_0x4ad1be[_0x1399a0(0xb22)](_0x599156);});}['handleNodeLeave']({id:_0x5dfff2}){const _0x303600=_0x227435;this['getRemoteMediaStreams'](_0x5bf869=>_0x5bf869[_0x303600(0xa93)]()===_0x5dfff2)[_0x303600(0x3e7)](_0x31e043=>{const _0x78d69c=_0x303600;this['removeRemoteMediaStream'](_0x31e043[_0x78d69c(0xa93)](),_0x31e043[_0x78d69c(0x9a2)]());});}[_0x227435(0x6f9)]({id:_0x1bef41}){const _0x27e69c=_0x227435;this[_0x27e69c(0xb16)][_0x27e69c(0x3e7)](_0x702185=>_0x702185[_0x27e69c(0x5ca)](_0x1bef41));}[_0x227435(0xc62)]({id:_0x54afee}){const _0x144551=_0x227435;this['objectStores'][_0x144551(0x3e7)](_0x13e6b6=>_0x13e6b6[_0x144551(0x475)](_0x54afee));}[_0x227435(0x312)](_0x45b83f){const _0x456b37=_0x227435;if(!this[_0x456b37(0xa65)][_0x456b37(0xac9)](_0x45b83f))throw new _0x27b95d(_0x398751[_0x456b37(0x3a4)],_0x456b37(0xa2e));const _0x429ee7=this[_0x456b37(0xa65)][_0x456b37(0x441)](_0x45b83f);this[_0x456b37(0xa65)][_0x456b37(0x3df)](_0x45b83f),_0x429ee7['destroy'](),this[_0x456b37(0x22a)][_0x456b37(0x3c9)][_0x456b37(0x75d)](_0x429ee7);}[_0x227435(0xc0a)](_0x3b4933){const _0x2e8611=_0x227435;if(!this[_0x2e8611(0x3a2)][_0x2e8611(0xac9)](_0x3b4933))throw new _0x27b95d(_0x398751[_0x2e8611(0x4ed)],_0x2e8611(0x562));const _0x86de45=this[_0x2e8611(0x3a2)][_0x2e8611(0x441)](_0x3b4933);this[_0x2e8611(0x3a2)][_0x2e8611(0x3df)](_0x3b4933),_0x86de45[_0x2e8611(0xa3c)](),this['configs'][_0x2e8611(0x3c9)][_0x2e8611(0x75d)](_0x86de45);}['removeGenerativeAIContext'](_0x1ae8b3){const _0x285080=_0x227435;if(!this['generativeAIContexts'][_0x285080(0xac9)](_0x1ae8b3))throw new _0x27b95d(_0x398751[_0x285080(0x70b)],'Generative\x20AI\x20Context\x20does\x20not\x20exist');const _0x39cbfc=this['generativeAIContexts'][_0x285080(0x441)](_0x1ae8b3);this[_0x285080(0x503)][_0x285080(0x3df)](_0x1ae8b3),this[_0x285080(0x22a)][_0x285080(0x3c9)][_0x285080(0x75d)](_0x39cbfc);}[_0x227435(0xa64)](_0xfaafee){const _0x2c81ce=_0x227435;if(!this[_0x2c81ce(0xb16)][_0x2c81ce(0xac9)](_0xfaafee))throw new _0x27b95d(_0x398751[_0x2c81ce(0x4d3)],'Stream\x20does\x20not\x20exist');const _0x4e67be=this['objectStores'][_0x2c81ce(0x441)](_0xfaafee);this[_0x2c81ce(0xb16)]['delete'](_0xfaafee),_0x4e67be[_0x2c81ce(0xa3c)](),this[_0x2c81ce(0x22a)][_0x2c81ce(0x3c9)][_0x2c81ce(0x75d)](_0x4e67be);}[_0x227435(0x4e7)](_0x132095){const _0x5446f6=_0x227435;if(!this[_0x5446f6(0x62c)][_0x5446f6(0xac9)](_0x132095))throw new _0x27b95d(_0x398751['ExternalStorageConnectionDoesNotExist'],_0x5446f6(0x2f0));const _0x37b976=this['externalStorageConnections'][_0x5446f6(0x441)](_0x132095);this[_0x5446f6(0x62c)][_0x5446f6(0x3df)](_0x132095),_0x37b976[_0x5446f6(0xa3c)](),this['configs'][_0x5446f6(0x3c9)][_0x5446f6(0x75d)](_0x37b976);}['removePubSubTopic'](_0x230cd4){const _0x434db1=_0x227435;if(!this[_0x434db1(0x752)]['has'](_0x230cd4))throw new _0x27b95d(_0x398751[_0x434db1(0x8bf)],_0x434db1(0x80c));const _0x247f64=this['pubSubTopics']['get'](_0x230cd4);this[_0x434db1(0x752)][_0x434db1(0x3df)](_0x230cd4),_0x247f64['destroy'](),this[_0x434db1(0x22a)][_0x434db1(0x3c9)][_0x434db1(0x75d)](_0x247f64);}[_0x227435(0xb98)](_0x56f6d6){const _0x22c425=_0x227435;if(!this['keyValueDatabases'][_0x22c425(0xac9)](_0x56f6d6))throw new _0x27b95d(_0x398751[_0x22c425(0x629)],_0x22c425(0x2e7));const _0x4adb20=this[_0x22c425(0xa2c)][_0x22c425(0x441)](_0x56f6d6);this[_0x22c425(0xa2c)][_0x22c425(0x3df)](_0x56f6d6),_0x4adb20['destroy'](),this[_0x22c425(0x22a)]['mediator'][_0x22c425(0x75d)](_0x4adb20);}[_0x227435(0x8c8)](_0x5eb653){const _0x51007b=_0x227435;if(!this[_0x51007b(0xa43)][_0x51007b(0xac9)](_0x5eb653))throw new _0x27b95d(_0x398751['VectorDatabaseDoesNotExist'],_0x51007b(0x2e7));const _0x55bffa=this[_0x51007b(0xa43)][_0x51007b(0x441)](_0x5eb653);this[_0x51007b(0xa43)]['delete'](_0x5eb653),_0x55bffa[_0x51007b(0xa3c)](),this[_0x51007b(0x22a)][_0x51007b(0x3c9)][_0x51007b(0x75d)](_0x55bffa);}[_0x227435(0x586)](_0x49b6e5){const _0x2abafb=_0x227435;if(!this[_0x2abafb(0x49c)][_0x2abafb(0xac9)](_0x49b6e5))throw new _0x27b95d(_0x398751[_0x2abafb(0x216)],_0x2abafb(0x2e7));const _0x401f50=this['graphDatabases']['get'](_0x49b6e5);this['graphDatabases'][_0x2abafb(0x3df)](_0x49b6e5),_0x401f50['destroy'](),this['configs'][_0x2abafb(0x3c9)][_0x2abafb(0x75d)](_0x401f50);}[_0x227435(0xa52)](_0x340656){const _0x37f02e=_0x227435;if(!this[_0x37f02e(0xa0c)][_0x37f02e(0xac9)](_0x340656))throw new _0x82cd08(_0x82cd08[_0x37f02e(0xab8)][_0x37f02e(0x8d3)],{'label':_0x340656,'localId':this['configs']['localNode'][_0x37f02e(0xc22)]()});const _0x5c5b56=this[_0x37f02e(0xa0c)]['get'](_0x340656);this[_0x37f02e(0x22a)][_0x37f02e(0x3c9)][_0x37f02e(0x75d)](_0x5c5b56),_0x5c5b56[_0x37f02e(0xa3c)](),this[_0x37f02e(0xa0c)]['delete'](_0x340656);}[_0x227435(0xad5)](_0x30afca,_0x4c0ec9){const _0x4fc047=_0x227435;if(!this[_0x4fc047(0x87c)][_0x4fc047(0xac9)](_0x30afca))throw new _0x82cd08(_0x82cd08['codes'][_0x4fc047(0xa59)],{'nodeId':_0x30afca,'localId':this[_0x4fc047(0x22a)]['localNode'][_0x4fc047(0xc22)]()});const _0x45c47d=this['remoteMediaStreams'][_0x4fc047(0x441)](_0x30afca);if(!_0x45c47d[_0x4fc047(0xac9)](_0x4c0ec9))throw new _0x82cd08(_0x82cd08[_0x4fc047(0xab8)][_0x4fc047(0x87f)],{'nodeId':_0x30afca,'label':_0x4c0ec9,'localId':this['configs'][_0x4fc047(0xc26)][_0x4fc047(0xc22)]()});const _0x9a3133=_0x45c47d['get'](_0x4c0ec9);this[_0x4fc047(0x22a)][_0x4fc047(0x3c9)][_0x4fc047(0x75d)](_0x9a3133),_0x9a3133[_0x4fc047(0xa3c)](),_0x45c47d[_0x4fc047(0x3df)](_0x4c0ec9);}}var _0x5933e6,_0x1d3e6f,_0x2d9673;!function(_0x2eb6de){const _0x49ff60=_0x227435;_0x2eb6de[_0x49ff60(0x96b)]=_0x49ff60(0x29c),_0x2eb6de[_0x49ff60(0x917)]=_0x49ff60(0x940),_0x2eb6de['TimePerFrame']=_0x49ff60(0xc35),_0x2eb6de[_0x49ff60(0x875)]=_0x49ff60(0x46a),_0x2eb6de['Jitter']=_0x49ff60(0x678),_0x2eb6de[_0x49ff60(0x41a)]=_0x49ff60(0x97a),_0x2eb6de[_0x49ff60(0x526)]=_0x49ff60(0x7fd),_0x2eb6de[_0x49ff60(0x51d)]=_0x49ff60(0x697);}(_0x5933e6||(_0x5933e6={})),function(_0x271f65){const _0x5699ef=_0x227435;_0x271f65[_0x5699ef(0xb8c)]='cpu.cycle',_0x271f65[_0x5699ef(0xbba)]=_0x5699ef(0x958),_0x271f65[_0x5699ef(0x51d)]='cpu.av_delay',_0x271f65['FramePerSecond']=_0x5699ef(0x24b),_0x271f65[_0x5699ef(0x875)]=_0x5699ef(0x2a6),_0x271f65[_0x5699ef(0x322)]=_0x5699ef(0x2fe),_0x271f65[_0x5699ef(0x526)]=_0x5699ef(0x31b);}(_0x1d3e6f||(_0x1d3e6f={})),function(_0x37f153){const _0x583a5d=_0x227435;_0x37f153[_0x37f153[_0x583a5d(0xb1f)]=0x0]=_0x583a5d(0xb1f);}(_0x2d9673||(_0x2d9673={}));const _0x1e5a93=[{'type':_0x5933e6['STVolatility'],'reportMetric':_0x15c888=>_0x15c888['STVolatility'],'maxThreshold':2.5},{'type':_0x5933e6[_0x227435(0x917)],'reportMetric':_0x2bd41c=>_0x2bd41c['DTVolatility'],'maxThreshold':0.5}],_0x2d7e5f=[{'type':_0x5933e6[_0x227435(0xbba)],'reportMetric':_0x4478e5=>{const _0x268c80=_0x227435,_0xeab6c0=0x3e8/_0x4478e5[_0x268c80(0x7a1)];return _0x4478e5[_0x268c80(0x57f)]/_0xeab6c0;},'maxThreshold':0.75},{'type':_0x5933e6[_0x227435(0x875)],'reportMetric':_0x2a3cb6=>{const _0x35efe6=_0x227435,_0x41a3e9=_0x2a3cb6['FPS']*_0x2a3cb6[_0x35efe6(0xb5e)]*_0x2a3cb6[_0x35efe6(0xbda)]*0.12;return _0x2a3cb6[_0x35efe6(0x46a)]/_0x41a3e9;},'minThreshold':0.25},{'type':_0x5933e6[_0x227435(0x322)],'reportMetric':_0x436924=>_0x436924['jitter'],'maxThreshold':0.6},{'type':_0x5933e6[_0x227435(0x41a)],'reportMetric':_0x14da9c=>_0x14da9c[_0x227435(0x7a1)],'minThreshold':0xa}],_0x44c4f7=[{'type':_0x5933e6[_0x227435(0x322)],'reportMetric':_0x20fb61=>_0x20fb61[_0x227435(0x678)],'maxThreshold':0.6}],_0x8a92c6=[{'type':_0x5933e6['RoundTripTime'],'reportMetric':_0x22a604=>_0x22a604[_0x227435(0x71d)],'maxThreshold':0x1/0x0}],_0x2fe35d=[{'type':_0x5933e6[_0x227435(0x51d)],'reportMetric':_0x32c9e3=>_0x32c9e3[_0x227435(0x51d)],'maxThreshold':0x12c}],_0x4b3adb=[{'type':_0x1d3e6f[_0x227435(0xb8c)],'issues':[{'type':_0x5933e6[_0x227435(0x96b)],'threshold':0x5},{'type':_0x5933e6['DTVolatility'],'threshold':0x5}]},{'type':_0x1d3e6f[_0x227435(0xbba)],'issues':[{'type':_0x5933e6[_0x227435(0xbba)],'threshold':0x3}]},{'type':_0x1d3e6f[_0x227435(0x51d)],'issues':[{'type':_0x5933e6['AudioVideoDelay'],'threshold':0x2}]},{'type':_0x1d3e6f['FramePerSecond'],'issues':[{'type':_0x5933e6[_0x227435(0x41a)],'threshold':0x3}]},{'type':_0x1d3e6f[_0x227435(0x875)],'issues':[{'type':_0x5933e6[_0x227435(0x875)],'threshold':0x3}]},{'type':_0x1d3e6f['Jitter'],'issues':[{'type':_0x5933e6[_0x227435(0x322)],'threshold':0x3}]},{'type':_0x1d3e6f[_0x227435(0x526)],'issues':[{'type':_0x5933e6[_0x227435(0x526)],'threshold':0x3}]}];var _0x13fdfc,_0x1f6dc0;!function(_0x41271d){const _0x1c056c=_0x227435;_0x41271d[_0x41271d['StreamReport']=0x0]=_0x1c056c(0x398),_0x41271d[_0x41271d[_0x1c056c(0x2d3)]=0x1]='LocalReport';}(_0x13fdfc||(_0x13fdfc={}));class _0x1a1fb1{[_0x227435(0x22a)];[_0x227435(0xaa2)]=[];[_0x227435(0x45d)];constructor(_0x3b2148){const _0x205122=_0x227435;this[_0x205122(0x22a)]=_0x3b2148,this[_0x205122(0x22a)]['mediator'][_0x205122(0x282)](this);}['registerSystemPublisher'](_0x48f250){this['systemTopic']=_0x48f250;}[_0x227435(0x71a)](){const _0x232f2d=_0x227435;this[_0x232f2d(0x45d)]=void 0x0;}['close'](){const _0x520118=_0x227435;this['configs']['mediator'][_0x520118(0x75d)](this),this[_0x520118(0xaa2)]=[];}[_0x227435(0x653)](_0x364d9c){const _0x539d18=_0x227435;switch(_0x364d9c[_0x539d18(0xae3)]['type']){case _0x13fdfc['LocalReport']:this[_0x539d18(0x578)](_0x364d9c['content'][_0x539d18(0x205)]);break;case _0x13fdfc[_0x539d18(0x398)]:this['detectStreamIssues'](_0x364d9c[_0x539d18(0xae3)][_0x539d18(0x205)]);}}['detectProblems'](_0x9270f0,_0x10374a,_0x14468a,_0x25e7b7){const _0x2ca364=_0x227435,_0x3cca81=_0x4b3adb['find'](_0x2e4f33=>_0x2e4f33[_0x2ca364(0xaa2)][_0x2ca364(0x2fd)](_0x4f4646=>_0x4f4646[_0x2ca364(0x649)]===_0x9270f0));_0x25e7b7>=_0x3cca81[_0x2ca364(0xaa2)][_0x2ca364(0x5b4)](_0x338cfa=>_0x338cfa[_0x2ca364(0x649)]===_0x9270f0)[_0x2ca364(0x756)]&&(this[_0x2ca364(0x89f)](_0x3cca81[_0x2ca364(0x649)],_0x10374a,_0x14468a),this[_0x2ca364(0xaa2)]=this['issues']['filter'](_0x1dd0a6=>!(_0x1dd0a6[_0x2ca364(0x649)]===_0x9270f0&&_0x1dd0a6[_0x2ca364(0x32f)]===_0x10374a&&_0x1dd0a6['origin']===_0x14468a)));}[_0x227435(0x578)](_0x5136bc){const _0x50d553=_0x227435;_0x1e5a93[_0x50d553(0x3e7)](_0x368745=>{const _0x549921=_0x50d553,_0x490162=_0x368745[_0x549921(0x470)](_0x5136bc);_0x368745[_0x549921(0x43e)]&&_0x490162>_0x368745[_0x549921(0x43e)]&&this[_0x549921(0x6eb)](_0x368745['type'],this[_0x549921(0x22a)][_0x549921(0xc26)][_0x549921(0xc22)](),_0x543fde[_0x549921(0x77b)],_0x490162),_0x368745[_0x549921(0xad4)]&&_0x490162<_0x368745[_0x549921(0xad4)]&&this[_0x549921(0x6eb)](_0x368745[_0x549921(0x649)],this[_0x549921(0x22a)]['localNode'][_0x549921(0xc22)](),_0x543fde[_0x549921(0x77b)],_0x490162);});}[_0x227435(0x62a)](_0x58ea3d){const _0x3eff09=_0x227435;let _0x288dae=[];switch(_0x58ea3d[_0x3eff09(0x44b)]){case _0x543fde[_0x3eff09(0x77b)]:_0x288dae=_0x8a92c6;break;case _0x543fde['Receiver']:_0x288dae=_0x2fe35d;}_0x58ea3d[_0x3eff09(0x4c1)]&&this[_0x3eff09(0x60a)](_0x58ea3d['nodeId'],_0x543fde[_0x3eff09(0x77b)],_0x58ea3d[_0x3eff09(0x4c1)]),_0x58ea3d['audio']&&this[_0x3eff09(0xaaa)](_0x58ea3d['nodeId'],_0x543fde[_0x3eff09(0x77b)],_0x58ea3d['audio']),_0x288dae[_0x3eff09(0x3e7)](_0x15d158=>{const _0x27cf75=_0x3eff09,_0x1e159e=_0x15d158[_0x27cf75(0x470)](_0x58ea3d);_0x15d158[_0x27cf75(0x43e)]&&_0x1e159e>_0x15d158['maxThreshold']&&this[_0x27cf75(0x6eb)](_0x15d158[_0x27cf75(0x649)],_0x58ea3d[_0x27cf75(0x32f)],_0x543fde[_0x27cf75(0x77b)],_0x1e159e),_0x15d158[_0x27cf75(0xad4)]&&_0x1e159e<_0x15d158[_0x27cf75(0xad4)]&&this['addIssue'](_0x15d158[_0x27cf75(0x649)],_0x58ea3d[_0x27cf75(0x32f)],_0x543fde[_0x27cf75(0x77b)],_0x1e159e);});}[_0x227435(0x60a)](_0xe99cab,_0x4700f9,_0x4b9fab){const _0x2c9c15=_0x227435;0x0!==_0x4b9fab[_0x2c9c15(0x46a)]&&_0x2d7e5f[_0x2c9c15(0x3e7)](_0x3d469f=>{const _0x29f7a3=_0x2c9c15,_0xea1e64=_0x3d469f[_0x29f7a3(0x470)](_0x4b9fab);_0x3d469f[_0x29f7a3(0x43e)]&&_0xea1e64>_0x3d469f[_0x29f7a3(0x43e)]&&this[_0x29f7a3(0x6eb)](_0x3d469f['type'],_0xe99cab,_0x4700f9,_0xea1e64,_0x29f7a3(0x4c1)),_0x3d469f[_0x29f7a3(0xad4)]&&_0xea1e64<_0x3d469f[_0x29f7a3(0xad4)]&&this['addIssue'](_0x3d469f[_0x29f7a3(0x649)],_0xe99cab,_0x4700f9,_0xea1e64,_0x29f7a3(0x4c1));});}[_0x227435(0xaaa)](_0x3e87f6,_0x3a337a,_0xc1f0e4){const _0x198b22=_0x227435;0x0!==_0xc1f0e4[_0x198b22(0x46a)]&&_0x44c4f7[_0x198b22(0x3e7)](_0x2810a7=>{const _0x58c32a=_0x198b22,_0x41e318=_0x2810a7[_0x58c32a(0x470)](_0xc1f0e4);_0x2810a7[_0x58c32a(0x43e)]&&_0x41e318>_0x2810a7[_0x58c32a(0x43e)]&&this[_0x58c32a(0x6eb)](_0x2810a7[_0x58c32a(0x649)],_0x3e87f6,_0x3a337a,_0x41e318,_0x58c32a(0x305)),_0x2810a7[_0x58c32a(0xad4)]&&_0x41e318<_0x2810a7[_0x58c32a(0xad4)]&&this[_0x58c32a(0x6eb)](_0x2810a7[_0x58c32a(0x649)],_0x3e87f6,_0x3a337a,_0x41e318,'audio');});}[_0x227435(0x6eb)](_0x437e9e,_0x263460,_0x2cff00,_0x181e5c,_0x5c6d81){const _0x5e66b5=_0x227435;_0x1822ee[_0x5e66b5(0xbf2)](_0xbbb80e[_0x5e66b5(0x8af)],_0x5e66b5(0x741)+_0x437e9e,_0x437e9e,_0x181e5c),_0x1822ee[_0x5e66b5(0x68c)](_0x5e66b5(0x693),{'clusterId':this[_0x5e66b5(0x22a)][_0x5e66b5(0x7f8)],'nodeId':this['configs'][_0x5e66b5(0xc26)][_0x5e66b5(0xc22)](),'nodeType':this[_0x5e66b5(0x22a)][_0x5e66b5(0xc26)][_0x5e66b5(0x649)],'remoteId':_0x263460,'data':{'type':_0x437e9e,'value':_0x181e5c,'kind':_0x5c6d81}}),this[_0x5e66b5(0xaa2)]=this[_0x5e66b5(0xaa2)][_0x5e66b5(0x276)](_0x2f3073=>Date[_0x5e66b5(0xb26)]()-_0x2f3073[_0x5e66b5(0x908)]<0x7530),this[_0x5e66b5(0xaa2)][_0x5e66b5(0x91f)]({'timestamp':Date[_0x5e66b5(0xb26)](),'type':_0x437e9e,'nodeId':_0x263460,'origin':_0x2cff00,'value':_0x181e5c,'kind':_0x5c6d81});const _0x1a0fc1=this[_0x5e66b5(0xaa2)][_0x5e66b5(0x276)](_0x3b3f46=>_0x3b3f46[_0x5e66b5(0x649)]===_0x437e9e&&_0x3b3f46[_0x5e66b5(0x32f)]===_0x263460&&_0x3b3f46[_0x5e66b5(0x44b)]===_0x2cff00)[_0x5e66b5(0xbfb)];this[_0x5e66b5(0x961)](_0x437e9e,_0x263460,_0x2cff00,_0x1a0fc1);}[_0x227435(0x89f)](_0x439bff,_0x358b4a,_0x42b803){const _0x12ebe4=_0x227435;_0x1822ee[_0x12ebe4(0xbf2)](_0xbbb80e[_0x12ebe4(0x8af)],'Problem\x20detected:\x20'+_0x439bff),_0x1822ee[_0x12ebe4(0x68c)](_0x12ebe4(0x688),{'clusterId':this['configs']['clusterId'],'nodeId':this['configs']['localNode']['getId'](),'nodeType':this[_0x12ebe4(0x22a)][_0x12ebe4(0xc26)][_0x12ebe4(0x649)],'remoteId':_0x358b4a,'data':{'type':_0x439bff}}),this[_0x12ebe4(0x45d)]?.[_0x12ebe4(0xb22)]({'sourceId':_0x48df1c,'messageType':_0x37ab1a[_0x12ebe4(0x8af)],'content':{'type':_0x2d9673[_0x12ebe4(0xb1f)],'data':{'timestamp':Date['now'](),'nodeId':_0x358b4a,'origin':_0x543fde[_0x12ebe4(0x77b)],'type':_0x439bff}}});}}class _0x710643 extends _0x5dd975{['type']=_0x2bba8e['NodeType']['Agent'];}class _0x26fa0c extends _0x710643{['systemTopic'];[_0x227435(0xc3d)]=Date[_0x227435(0xb26)]();[_0x227435(0x6c2)];[_0x227435(0x5e4)];[_0x227435(0xa42)](){const _0x104a4a=_0x227435;this['updateDebounceTimeout']&&(clearTimeout(this[_0x104a4a(0x6c2)]),delete this[_0x104a4a(0x6c2)]),delete this[_0x104a4a(0x5e4)],this[_0x104a4a(0xc3d)]=Date['now'](),super['close']();}[_0x227435(0xc6d)](_0x4675dd){const _0x2813a4=_0x227435;this[_0x2813a4(0x45d)]=_0x4675dd;}['unregisterSystemPublisher'](){const _0x1909f0=_0x227435;delete this[_0x1909f0(0x45d)];}[_0x227435(0x5bf)](_0x5d1248){const _0x5c7749=_0x227435;!this[_0x5c7749(0x6c2)]&&this[_0x5c7749(0x85e)]&&this[_0x5c7749(0x45d)][_0x5c7749(0xb22)]({'sourceId':this['id'],'destinationIds':[_0x5d1248],'propagate':!0x0,'messageType':_0x37ab1a[_0x5c7749(0x571)],'content':{'type':_0x4026a7[_0x5c7749(0x3de)],'id':this['id'],'metaData':{'type':this[_0x5c7749(0x649)]},'rank':this['getRank'](),'remoteConnections':Array[_0x5c7749(0x218)](this['remoteConnections']),'version':this[_0x5c7749(0xc3d)]}});}[_0x227435(0x427)](_0x568aee){const _0x4d85b5=_0x227435;this[_0x4d85b5(0x881)]['has'](_0x568aee)||(this[_0x4d85b5(0x881)]['add'](_0x568aee),this[_0x4d85b5(0xa55)](),this[_0x4d85b5(0x229)](!0x0));}[_0x227435(0x9fc)](_0xbf9052){const _0x35aa6a=_0x227435;this[_0x35aa6a(0x881)]['has'](_0xbf9052)&&(this['remoteConnections']['delete'](_0xbf9052),this['incrementVersion'](),this[_0x35aa6a(0x229)](!0x0));}[_0x227435(0x39e)](){return this['currentVersion'];}[_0x227435(0x52a)](_0x201d0d,_0x5c5a90=!0x0){const _0x45821c=_0x227435;this[_0x45821c(0x85e)]!==_0x201d0d&&(this['rank']=_0x201d0d,_0x5c5a90&&(this[_0x45821c(0xa55)](),this[_0x45821c(0x229)]()));}['incrementVersion'](){const _0x296fe4=_0x227435;this[_0x296fe4(0xc3d)]=Date[_0x296fe4(0xb26)]();}['publishUserUpdate'](_0x36c837=!0x1){const _0x1de7fd=_0x227435;if(this[_0x1de7fd(0x85e)]){if(this[_0x1de7fd(0x5e4)]||(this['lastUpdated']=Date[_0x1de7fd(0xb26)]()),this[_0x1de7fd(0x6c2)]){if(Date[_0x1de7fd(0xb26)]()-this[_0x1de7fd(0x5e4)]>0x2328)return;clearTimeout(this['updateDebounceTimeout']);}this[_0x1de7fd(0x6c2)]=setTimeout(()=>{const _0x3447c1=_0x1de7fd;delete this['lastUpdated'],delete this['updateDebounceTimeout'],this[_0x3447c1(0x45d)][_0x3447c1(0xb22)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x37ab1a['Node'],'content':{'type':_0x36c837?_0x4026a7['NodeConnectionsUpdate']:_0x4026a7[_0x3447c1(0x3de)],'id':this['id'],'metaData':{'type':this[_0x3447c1(0x649)]},'rank':this[_0x3447c1(0x604)](),'remoteConnections':Array[_0x3447c1(0x218)](this['remoteConnections']),'version':this[_0x3447c1(0xc3d)]}});},0x3e8);}}}class _0x550ebf extends _0x21572f{[_0x227435(0x45d)];['currentVersion']=Date['now']();['updateDebounceTimeout'];[_0x227435(0x5e4)];[_0x227435(0xa42)](){const _0xb3eec7=_0x227435;this[_0xb3eec7(0x6c2)]&&(clearTimeout(this[_0xb3eec7(0x6c2)]),delete this[_0xb3eec7(0x6c2)]),delete this[_0xb3eec7(0x5e4)],this['currentVersion']=Date[_0xb3eec7(0xb26)](),super[_0xb3eec7(0xa42)]();}['registerSystemPublisher'](_0x4e973b){const _0x4605a3=_0x227435;this[_0x4605a3(0x45d)]=_0x4e973b;}[_0x227435(0x71a)](){const _0x22c7c3=_0x227435;delete this[_0x22c7c3(0x45d)];}['answerJoin'](_0x1744af){const _0x4c6873=_0x227435;!this['updateDebounceTimeout']&&this['rank']&&this[_0x4c6873(0x45d)][_0x4c6873(0xb22)]({'sourceId':this['id'],'destinationIds':[_0x1744af],'propagate':!0x0,'messageType':_0x37ab1a[_0x4c6873(0x571)],'content':{'type':_0x4026a7[_0x4c6873(0x3de)],'id':this['id'],'metaData':{'type':this['type'],'displayName':this['getDisplayName'](),'email':this[_0x4c6873(0x625)]()},'rank':this[_0x4c6873(0x604)](),'remoteConnections':Array[_0x4c6873(0x218)](this[_0x4c6873(0x881)]),'version':this[_0x4c6873(0xc3d)]}});}[_0x227435(0x427)](_0x27940f){const _0x1c188d=_0x227435;this[_0x1c188d(0x881)][_0x1c188d(0xac9)](_0x27940f)||(this['remoteConnections'][_0x1c188d(0x9b9)](_0x27940f),this[_0x1c188d(0xa55)](),this['publishUserUpdate'](!0x0));}[_0x227435(0x9fc)](_0x54d7cf){const _0x4518d5=_0x227435;this[_0x4518d5(0x881)][_0x4518d5(0xac9)](_0x54d7cf)&&(this['remoteConnections'][_0x4518d5(0x3df)](_0x54d7cf),this['incrementVersion'](),this[_0x4518d5(0x229)](!0x0));}[_0x227435(0x39e)](){return this['currentVersion'];}[_0x227435(0x3ec)](_0x5c8f02){const _0x3ee87e=_0x227435;this[_0x3ee87e(0xc09)]!==_0x5c8f02&&(this['displayName']=_0x5c8f02,this[_0x3ee87e(0xa55)](),this[_0x3ee87e(0x229)]());}[_0x227435(0x7ae)](_0x2f8de6){const _0x357103=_0x227435;this['email']!==_0x2f8de6&&(this[_0x357103(0x791)]=_0x2f8de6,this[_0x357103(0xa55)](),this[_0x357103(0x229)]());}[_0x227435(0x52a)](_0x42e0c0,_0x46a242=!0x0){const _0x1fbbdd=_0x227435;this[_0x1fbbdd(0x85e)]!==_0x42e0c0&&(this[_0x1fbbdd(0x85e)]=_0x42e0c0,_0x46a242&&(this['incrementVersion'](),this[_0x1fbbdd(0x229)]()));}['incrementVersion'](){const _0x537838=_0x227435;this[_0x537838(0xc3d)]=Date[_0x537838(0xb26)]();}['publishUserUpdate'](_0x5dee9e=!0x1){const _0x17d67f=_0x227435;if(this[_0x17d67f(0x85e)]){if(this[_0x17d67f(0x5e4)]||(this['lastUpdated']=Date[_0x17d67f(0xb26)]()),this[_0x17d67f(0x6c2)]){if(Date[_0x17d67f(0xb26)]()-this[_0x17d67f(0x5e4)]>0x2328)return;clearTimeout(this['updateDebounceTimeout']);}this[_0x17d67f(0x6c2)]=setTimeout(()=>{const _0x26f09d=_0x17d67f;delete this['lastUpdated'],delete this['updateDebounceTimeout'],this[_0x26f09d(0x45d)][_0x26f09d(0xb22)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x37ab1a[_0x26f09d(0x571)],'content':{'type':_0x5dee9e?_0x4026a7[_0x26f09d(0x9b8)]:_0x4026a7[_0x26f09d(0x3de)],'id':this['id'],'metaData':{'type':this[_0x26f09d(0x649)],'displayName':this['getDisplayName'](),'email':this[_0x26f09d(0x625)]()},'rank':this[_0x26f09d(0x604)](),'remoteConnections':Array[_0x26f09d(0x218)](this[_0x26f09d(0x881)]),'version':this[_0x26f09d(0xc3d)]}});},0x3e8);}}}class _0x1235b7{['id'];[_0x227435(0x371)];[_0x227435(0x2ae)];[_0x227435(0xc1a)];[_0x227435(0x649)]=_0x2bba8e[_0x227435(0x6e1)]['Agent'];[_0x227435(0x41f)];constructor(_0x8b468c,_0x4b35e0,_0x552f77,_0x5ad27){const _0x1c9a6a=_0x227435;this['id']=_0x8b468c,this[_0x1c9a6a(0x371)]=_0x4b35e0,this['vendorId']=_0x552f77,this['agentConfig']=_0x5ad27;}[_0x227435(0xc22)](){return this['id'];}[_0x227435(0x313)](_0x41c00d){const _0x319952=_0x227435,_0x54eaa8=(0x0,_0x4e090a[_0x319952(0xb5c)])((0x0,_0x4e090a[_0x319952(0xa27)])(_0x35b99b[_0x319952(0xc63)](),_0x319952(0x35a)+this[_0x319952(0x2ae)]+_0x319952(0x42b)+this['groupId']),_0x239024=>{const _0x486909=_0x319952;if(_0x239024[_0x486909(0x2e5)]()){const _0x5058da=_0x239024[_0x486909(0x205)]();if(this[_0x486909(0xc1a)][_0x486909(0x908)][_0x486909(0xc44)](_0x5058da[_0x486909(0x908)]))return;_0x1822ee[_0x486909(0xbf2)](_0xbbb80e['Node'],_0x486909(0xaba),{'agentId':this['id'],'groupId':this[_0x486909(0x371)],'oldConfig':this[_0x486909(0xc1a)],'newConfig':_0x5058da}),this[_0x486909(0xc1a)]=_0x5058da,_0x41c00d();}});return()=>_0x54eaa8();}[_0x227435(0xa9a)](_0x28b7fc){const _0x2c20fb=_0x227435;return this[_0x2c20fb(0x7a8)](this[_0x2c20fb(0x371)],_0x28b7fc),_0x2674de['setInterval'](()=>this[_0x2c20fb(0x7a8)](this['groupId'],_0x28b7fc),0x7530);}[_0x227435(0x236)](){const _0x3905e6=_0x227435;if(!this['lastCapacityReport'])throw new _0x82cd08(_0x82cd08['codes'][_0x3905e6(0xb3f)]);return this['lastCapacityReport'];}async['reportCapacity'](_0x5409bd,_0x5c2031){const _0x107c9f=_0x227435,_0x362735=await _0x5c2031();this[_0x107c9f(0x41f)]=_0x362735,await(0x0,_0x4e090a['addDoc'])((0x0,_0x4e090a[_0x107c9f(0xb07)])(_0x35b99b[_0x107c9f(0xc63)](),_0x107c9f(0x35a)+this[_0x107c9f(0x2ae)]+_0x107c9f(0x9f4)),{'agentId':this['id'],'groupId':_0x5409bd,'timestamp':(0x0,_0x4e090a[_0x107c9f(0x5e5)])(),'capacity':_0x362735});}}!function(_0x131ed9){const _0x106e63=_0x227435;_0x131ed9[_0x131ed9[_0x106e63(0x553)]=0x0]=_0x106e63(0x553),_0x131ed9[_0x131ed9[_0x106e63(0x866)]=0x1]=_0x106e63(0x866);}(_0x1f6dc0||(_0x1f6dc0={}));class _0x13de7c extends _0x710643{[_0x227435(0xc3d)];[_0x227435(0x4ab)]=_0x1f6dc0[_0x227435(0x553)];[_0x227435(0x5e4)]=Date[_0x227435(0xb26)]();constructor(_0x4cf6a3,_0x1c719f=new Set(),_0x1d5bf2,_0x2a1bb5){super(_0x4cf6a3,_0x1c719f,_0x2a1bb5),this['currentVersion']=_0x1d5bf2;}[_0x227435(0x39e)](){return this['currentVersion'];}[_0x227435(0x476)](){return this['status'];}[_0x227435(0x597)](){const _0x238dc7=_0x227435;return this[_0x238dc7(0x5e4)];}[_0x227435(0x52a)](_0x3f7ace){const _0x50a814=_0x227435;this[_0x50a814(0x85e)]!==_0x3f7ace&&(this[_0x50a814(0x85e)]=_0x3f7ace,this[_0x50a814(0x966)]());}[_0x227435(0xa01)](_0x234e94){const _0x4fc138=_0x227435;let _0x35fe20=!0x1;for(const _0x2aa29d of this[_0x4fc138(0x881)])_0x234e94[_0x4fc138(0x771)](_0x2aa29d)||(_0x35fe20=!0x0,this[_0x4fc138(0x881)][_0x4fc138(0x3df)](_0x2aa29d));for(const _0xcfd9d1 of _0x234e94)this['remoteConnections'][_0x4fc138(0xac9)](_0xcfd9d1)||(_0x35fe20=!0x0,this[_0x4fc138(0x881)][_0x4fc138(0x9b9)](_0xcfd9d1));_0x35fe20&&this[_0x4fc138(0x966)]();}[_0x227435(0x825)](_0x32901f){const _0x4d8f76=_0x227435;this[_0x4d8f76(0xc3d)]!==_0x32901f&&(this[_0x4d8f76(0xc3d)]=_0x32901f,this[_0x4d8f76(0x966)]());}['setStatus'](_0x170fba){const _0x9841ee=_0x227435;this[_0x9841ee(0x4ab)]!==_0x170fba&&(this['status']=_0x170fba,this[_0x9841ee(0x966)](),_0x170fba===_0x1f6dc0[_0x9841ee(0x866)]&&this[_0x9841ee(0xa42)]());}['updateLastUpdated'](){const _0x409430=_0x227435;this[_0x409430(0x5e4)]=Date[_0x409430(0xb26)]();}}class _0x57e06a extends _0x21572f{['currentVersion'];[_0x227435(0x4ab)]=_0x1f6dc0[_0x227435(0x553)];['lastUpdated']=Date[_0x227435(0xb26)]();constructor(_0x33886d,_0x2c6b86,_0x33be97,_0x17c8e5=new Set(),_0x4dc713,_0x5d8a71){super(_0x33886d,_0x2c6b86,_0x33be97,_0x17c8e5,_0x5d8a71),this['currentVersion']=_0x4dc713;}[_0x227435(0x39e)](){const _0x120e31=_0x227435;return this[_0x120e31(0xc3d)];}[_0x227435(0x476)](){const _0x8a6733=_0x227435;return this[_0x8a6733(0x4ab)];}['getLastUpdated'](){const _0x2a27ab=_0x227435;return this[_0x2a27ab(0x5e4)];}[_0x227435(0x3ec)](_0x253ed4){const _0x58d749=_0x227435;this[_0x58d749(0xc09)]!==_0x253ed4&&(this[_0x58d749(0xc09)]=_0x253ed4,this['updateLastUpdated']());}[_0x227435(0x7ae)](_0x2e992c){const _0x5e3528=_0x227435;this[_0x5e3528(0x791)]!==_0x2e992c&&(this[_0x5e3528(0x791)]=_0x2e992c,this[_0x5e3528(0x966)]());}[_0x227435(0x52a)](_0x55afab){const _0xcd5af4=_0x227435;this[_0xcd5af4(0x85e)]!==_0x55afab&&(this[_0xcd5af4(0x85e)]=_0x55afab,this[_0xcd5af4(0x966)]());}['setRemoteConnections'](_0x1b9863){const _0x398a08=_0x227435;let _0x172970=!0x1;for(const _0x1f12e2 of this[_0x398a08(0x881)])_0x1b9863['includes'](_0x1f12e2)||(_0x172970=!0x0,this[_0x398a08(0x881)][_0x398a08(0x3df)](_0x1f12e2));for(const _0x574bc3 of _0x1b9863)this[_0x398a08(0x881)][_0x398a08(0xac9)](_0x574bc3)||(_0x172970=!0x0,this[_0x398a08(0x881)][_0x398a08(0x9b9)](_0x574bc3));_0x172970&&this[_0x398a08(0x966)]();}[_0x227435(0x825)](_0x5f7046){const _0x42b41c=_0x227435;this['currentVersion']!==_0x5f7046&&(this['currentVersion']=_0x5f7046,this[_0x42b41c(0x966)]());}[_0x227435(0x610)](_0x54a5ce){const _0x265b54=_0x227435;this[_0x265b54(0x4ab)]!==_0x54a5ce&&(this[_0x265b54(0x4ab)]=_0x54a5ce,this['updateLastUpdated'](),_0x54a5ce===_0x1f6dc0[_0x265b54(0x866)]&&this[_0x265b54(0xa42)]());}[_0x227435(0x966)](){const _0x2b5560=_0x227435;this['lastUpdated']=Date[_0x2b5560(0xb26)]();}}class _0xba38d4{['vendorId'];[_0x227435(0x7f8)];[_0x227435(0xc26)];[_0x227435(0x681)];[_0x227435(0xa4e)]=_0x4f6343();['firebaseUnsubscriber'];[_0x227435(0x592)];[_0x227435(0x3f9)];[_0x227435(0xc88)]=!0x1;[_0x227435(0x3e3)];[_0x227435(0x96c)];constructor(_0x1c506c,_0x3ba739,_0x4a8149,_0x297b06){const _0x2a55d4=_0x227435;this[_0x2a55d4(0x2ae)]=_0x1c506c,this[_0x2a55d4(0x7f8)]=_0x3ba739,this[_0x2a55d4(0xc26)]=_0x4a8149,this[_0x2a55d4(0x681)]=_0x297b06,this['clusterKey']=_0x2a55d4(0x34d)+this[_0x2a55d4(0x2ae)]+_0x2a55d4(0x34d)+this[_0x2a55d4(0x7f8)],this[_0x2a55d4(0x96c)]=_0x2a55d4(0x34d)+this[_0x2a55d4(0x2ae)]+'ccc'+this[_0x2a55d4(0xc26)][_0x2a55d4(0xc22)](),this['firebaseUnsubscriber']=(0x0,_0x58c2bf['onValue'])((0x0,_0x58c2bf[_0x2a55d4(0xafb)])(_0x35b99b[_0x2a55d4(0xa2f)](),_0x2a55d4(0x4cb)),_0x37dd67=>{const _0x3e4842=_0x2a55d4;!0x0!==_0x37dd67[_0x3e4842(0x4ff)]()?this[_0x3e4842(0xc88)]&&_0x1822ee['error'](_0x3e4842(0x94e),{'clusterId':this[_0x3e4842(0x7f8)],'nodeId':this[_0x3e4842(0xc26)][_0x3e4842(0xc22)](),'nodeType':this[_0x3e4842(0xc26)][_0x3e4842(0x649)]}):(this[_0x3e4842(0xc88)]=!0x0,this[_0x3e4842(0x907)](),_0x1822ee[_0x3e4842(0x51e)](_0x3e4842(0x1fc),{'clusterId':this['clusterId'],'nodeId':this[_0x3e4842(0xc26)]['getId'](),'nodeType':this[_0x3e4842(0xc26)][_0x3e4842(0x649)]}));});}async[_0x227435(0x2b2)](){const _0x345b2a=_0x227435;await this['joinCluster']();const _0x67987e=await this[_0x345b2a(0x28b)]();return this['childRemovedUnsubscriber']=(0x0,_0x58c2bf[_0x345b2a(0x63c)])((0x0,_0x58c2bf['ref'])(_0x35b99b[_0x345b2a(0xa2f)](),'clusters/'+this[_0x345b2a(0x3e3)]+_0x345b2a(0xb4d)),_0x251c69=>{const _0x445d80=_0x345b2a,_0xd826ca=_0x251c69[_0x445d80(0x621)];if(!_0xd826ca)return;const _0x4da9f2=_0xd826ca['replace']('ccc'+this[_0x445d80(0x2ae)]+'ccc','');this[_0x445d80(0xa4e)]['publish'](_0x4da9f2);}),_0x67987e;}async[_0x227435(0xa42)](){const _0x27c0d8=_0x227435;this['childRemovedUnsubscriber']?.(),delete this[_0x27c0d8(0x592)],this['onDisconnectHandler']?.[_0x27c0d8(0xb83)](),delete this[_0x27c0d8(0x3f9)],this['firebaseUnsubscriber']?.(),delete this[_0x27c0d8(0x824)],await(0x0,_0x58c2bf[_0x27c0d8(0xa74)])((0x0,_0x58c2bf[_0x27c0d8(0xafb)])(_0x35b99b[_0x27c0d8(0xa2f)](),'clusters/'+this[_0x27c0d8(0x3e3)]+_0x27c0d8(0x7ef)+this['nodeKey']));}[_0x227435(0x385)](_0x4aefcf){const _0x254324=_0x227435;return this[_0x254324(0xa4e)]['subscribe'](_0x4aefcf);}async['getAncestors'](){const _0xef4cf0=_0x227435,_0x1c4b6b=[],_0x34d397=await(0x0,_0x58c2bf['get'])((0x0,_0x58c2bf[_0xef4cf0(0xafb)])(_0x35b99b[_0xef4cf0(0xa2f)](),'clusters/'+this[_0xef4cf0(0x3e3)]+'/nodes')),_0xeafd41=[];return _0x34d397['forEach'](_0x5b3d4f=>{const _0x551260=_0xef4cf0,_0xc9315d=_0x5b3d4f['key']?.[_0x551260(0x217)](_0x551260(0x34d)+this[_0x551260(0x2ae)]+_0x551260(0x34d),'');_0xeafd41[_0x551260(0x91f)]({'id':_0xc9315d,'joinedAt':_0x5b3d4f[_0x551260(0x4ff)]()[_0x551260(0x4a8)],'priority':_0x5b3d4f['val']()['priority']});}),_0xeafd41[_0xef4cf0(0xbd7)]((_0x3861ac,_0x42290b)=>_0x3861ac['joinedAt']===_0x42290b['joinedAt']?_0x3861ac[_0xef4cf0(0x483)]-_0x42290b[_0xef4cf0(0x483)]:_0x3861ac['joinedAt']-_0x42290b[_0xef4cf0(0x4a8)])[_0xef4cf0(0xa1e)](_0xeafd41[_0xef4cf0(0x207)](_0x326ebd=>_0x326ebd['id']===this['localNode'][_0xef4cf0(0xc22)]())),_0xeafd41['sort']((_0x40c80b,_0x580829)=>_0x580829[_0xef4cf0(0x4a8)]===_0x40c80b['joinedAt']?_0x580829[_0xef4cf0(0x483)]-_0x40c80b[_0xef4cf0(0x483)]:_0x580829['joinedAt']-_0x40c80b[_0xef4cf0(0x4a8)])[_0xef4cf0(0x3e7)](_0xcfd8ac=>{const _0x16c524=_0xef4cf0;_0x1c4b6b[_0x16c524(0xbfb)]>=this[_0x16c524(0x681)]||_0x1c4b6b['push'](_0xcfd8ac['id']);}),_0x1822ee[_0xef4cf0(0x68c)](_0xef4cf0(0x4f1),{'clusterId':this['clusterId'],'nodeId':this[_0xef4cf0(0xc26)][_0xef4cf0(0xc22)](),'nodeType':this[_0xef4cf0(0xc26)][_0xef4cf0(0x649)],'data':{'ancestorIds':_0x1c4b6b,'allNodes':_0xeafd41}}),_0x1c4b6b;}async[_0x227435(0x27b)](){const _0x24508e=_0x227435;await(0x0,_0x58c2bf[_0x24508e(0x9b4)])((0x0,_0x58c2bf[_0x24508e(0xafb)])(_0x35b99b[_0x24508e(0xa2f)](),_0x24508e(0x6b8)+this[_0x24508e(0x3e3)]+_0x24508e(0x7ef)+this[_0x24508e(0x96c)]),{'joinedAt':(0x0,_0x58c2bf[_0x24508e(0x5e5)])(),'priority':Math[_0x24508e(0x7c6)]()});}[_0x227435(0x907)](){const _0x549a02=_0x227435;this[_0x549a02(0x3f9)]&&this[_0x549a02(0x3f9)][_0x549a02(0xb83)](),this[_0x549a02(0x3f9)]=(0x0,_0x58c2bf['onDisconnect'])((0x0,_0x58c2bf[_0x549a02(0xafb)])(_0x35b99b[_0x549a02(0xa2f)](),_0x549a02(0x6b8)+this['clusterKey']+_0x549a02(0x7ef)+this['nodeKey'])),this[_0x549a02(0x3f9)][_0x549a02(0xa74)]();}}class _0x11fa9a{[_0x227435(0x22a)];[_0x227435(0x443)];[_0x227435(0x6a4)];[_0x227435(0xb8e)];['discoveryUnsubscriber'];['ancestors']=[];[_0x227435(0x45d)];[_0x227435(0xae6)]=new Map();[_0x227435(0x8fa)];[_0x227435(0x64e)];['_isReady'];[_0x227435(0x5d2)];[_0x227435(0x5d5)];[_0x227435(0x327)];constructor(_0x424ecc,_0x37b9e3){const _0x490e08=_0x227435;this[_0x490e08(0x22a)]=_0x424ecc,this['graphService']=_0x37b9e3,this[_0x490e08(0x22e)]=new Promise((_0x506171,_0x360808)=>{const _0x404f26=_0x490e08;this['resolveReady']=_0x506171,this[_0x404f26(0x5d5)]=_0x360808;}),this['discoveryService']=new _0xba38d4(this[_0x490e08(0x22a)][_0x490e08(0x2ae)],this[_0x490e08(0x22a)][_0x490e08(0x7f8)],this[_0x490e08(0x22a)][_0x490e08(0xc26)],this[_0x490e08(0x443)][_0x490e08(0x344)]()),this[_0x490e08(0x819)]=this[_0x490e08(0xb8e)][_0x490e08(0x385)](this[_0x490e08(0x42f)][_0x490e08(0x5ad)](this)),this[_0x490e08(0x22a)][_0x490e08(0x3c9)][_0x490e08(0x282)](this[_0x490e08(0x22a)]['localNode']),this[_0x490e08(0x22a)][_0x490e08(0x3c9)]['registerSystemSource'](this),this['remoteUnsubscriber']=_0x2674de[_0x490e08(0x3c7)](()=>{const _0x4b07c=_0x490e08,_0x5e881d=Date['now']();this[_0x4b07c(0x443)]['getRemoteNodes']()['forEach'](_0x5cde97=>{const _0x5c7acb=_0x4b07c;_0x5cde97[_0x5c7acb(0x476)]()===_0x1f6dc0['Offline']&&_0x5cde97['getLastUpdated']()<_0x5e881d-0x493e0&&this[_0x5c7acb(0x443)][_0x5c7acb(0x56c)](_0x5cde97[_0x5c7acb(0xc22)]());});},0xea60);}async[_0x227435(0x971)](){const _0x16928b=_0x227435;return this[_0x16928b(0x22e)];}async[_0x227435(0x3f4)](_0x2eb5a7){return new Promise((_0x51a137,_0x2f4457)=>{const _0x4907d2=a0_0x5d01;let _0x151ede;const _0x4b8a66=setTimeout(()=>{const _0x398f72=a0_0x5d01;_0x151ede?.(),_0x2f4457(new Error(_0x398f72(0x37f)+_0x2eb5a7+_0x398f72(0x414)));},0x2710);if(this['graphService'][_0x4907d2(0x6ae)](_0x2eb5a7))return clearTimeout(_0x4b8a66),void _0x51a137(!0x0);_0x151ede=this[_0x4907d2(0x443)]['onNodeUpdate'](()=>{const _0x25b7a8=_0x4907d2;this[_0x25b7a8(0x443)]['hasRemoteNode'](_0x2eb5a7)&&(clearTimeout(_0x4b8a66),_0x51a137(!0x0),_0x151ede?.());});});}[_0x227435(0xc6d)](_0x2b7840){const _0x164717=_0x227435;this[_0x164717(0x45d)]=_0x2b7840;}['unregisterSystemPublisher'](){const _0x3b8e60=_0x227435;delete this[_0x3b8e60(0x45d)];}[_0x227435(0xa42)](){const _0x148b22=_0x227435;this['debounceProcessRank']&&(clearTimeout(this[_0x148b22(0x8fa)]),delete this[_0x148b22(0x8fa)]),delete this[_0x148b22(0x64e)],this[_0x148b22(0x22a)][_0x148b22(0xc26)][_0x148b22(0xa42)](),this[_0x148b22(0x6a4)](),this[_0x148b22(0x819)](),this[_0x148b22(0x22a)][_0x148b22(0x3c9)]['unregisterSystemSource'](this[_0x148b22(0x22a)][_0x148b22(0xc26)]),this['configs'][_0x148b22(0x3c9)][_0x148b22(0x75d)](this),this['discoveryService'][_0x148b22(0xa42)]();}['getAncestorIds'](){const _0x4d26ed=_0x227435;return this[_0x4d26ed(0x9e8)];}['getLocalId'](){const _0x2fad38=_0x227435;return this[_0x2fad38(0x22a)][_0x2fad38(0xc26)][_0x2fad38(0xc22)]();}['getLocalNode'](){const _0x16f3c3=_0x227435;return this['configs'][_0x16f3c3(0xc26)];}[_0x227435(0x304)](_0xc9e163){const _0x50f059=_0x227435,_0x2547f5=Array[_0x50f059(0x218)](this[_0x50f059(0x443)][_0x50f059(0x304)]()[_0x50f059(0xbc7)]())['filter'](_0x3a638d=>_0x3a638d['getStatus']()===_0x1f6dc0[_0x50f059(0x553)]);return _0xc9e163?_0x2547f5['filter'](_0xc9e163):_0x2547f5;}async['discover'](){const _0x4add0e=_0x227435;return this['ancestors']=await this[_0x4add0e(0xb8e)]['join'](),this[_0x4add0e(0x9e8)]['length']<this[_0x4add0e(0x443)]['getMinConnections']()&&(this['configs'][_0x4add0e(0xc26)]['setRank'](this[_0x4add0e(0x9e8)][_0x4add0e(0xbfb)]+0x1),this[_0x4add0e(0x65d)]()),this['ancestors'];}[_0x227435(0x804)](_0x514b69,_0x45e21e){const _0x59014e=_0x227435,_0x503e01=this['configs']['localNode'][_0x59014e(0x668)](),_0x28729e=new Set(_0x503e01),_0x5630ca=Array[_0x59014e(0x218)](_0x503e01)[_0x59014e(0x276)](_0x5d9599=>_0x5d9599!==_0x514b69)[_0x59014e(0x7b9)](_0x1d2dbc=>({'id':_0x1d2dbc,'distance':0x1}));for(;_0x5630ca[_0x59014e(0xbfb)]>0x0;){const _0x202db3=_0x5630ca['shift']();if(!_0x202db3)continue;if(_0x202db3['id']===_0x45e21e)return _0x202db3['distance'];const _0x159f26=this[_0x59014e(0x443)][_0x59014e(0x47b)](_0x202db3['id']);_0x159f26&&_0x159f26[_0x59014e(0x476)]()!==_0x1f6dc0[_0x59014e(0x866)]&&_0x159f26[_0x59014e(0x668)]()[_0x59014e(0x3e7)](_0x4da277=>{const _0x362221=_0x59014e;_0x28729e[_0x362221(0xac9)](_0x4da277)||(_0x28729e[_0x362221(0x9b9)](_0x4da277),_0x5630ca[_0x362221(0x91f)]({'id':_0x4da277,'distance':_0x202db3[_0x362221(0xc10)]+0x1}));});}return-0x1;}['handleNodeSystemEvents'](_0x18f39a){const _0x4e8cef=_0x227435;try{switch(_0x18f39a[_0x4e8cef(0xae3)][_0x4e8cef(0x649)]){case _0x4026a7['NodeUpdate']:case _0x4026a7['NodeConnectionsUpdate']:this[_0x4e8cef(0xb3a)](_0x18f39a[_0x4e8cef(0xae3)]),_0x1822ee[_0x4e8cef(0xbf2)](_0xbbb80e[_0x4e8cef(0x571)],_0x4e8cef(0x4bf),'\x27'+this[_0x4e8cef(0x22a)][_0x4e8cef(0xc26)][_0x4e8cef(0xc22)]()+',\x20'+_0x18f39a[_0x4e8cef(0xab9)]+'\x27',_0x18f39a,_0x18f39a[_0x4e8cef(0xae3)]);break;case _0x4026a7[_0x4e8cef(0x728)]:this[_0x4e8cef(0x7e9)](_0x18f39a['content']['id']),_0x1822ee[_0x4e8cef(0xbf2)](_0xbbb80e['Node'],_0x4e8cef(0x574),'\x27'+this['configs'][_0x4e8cef(0xc26)][_0x4e8cef(0xc22)]()+',\x20'+_0x18f39a[_0x4e8cef(0xab9)]+'\x27',_0x18f39a,_0x18f39a[_0x4e8cef(0xae3)]);}}catch(_0x1a5895){if(_0x1a5895 instanceof _0x242caf)return void _0x1822ee['log'](_0xbbb80e['Node'],_0x1a5895[_0x4e8cef(0x325)]);throw _0x1a5895;}}['handlePeerConnectionSystemEvents'](_0x4c2fc2){const _0x5dc798=_0x227435;switch(_0x4c2fc2['content']['type']){case _0x3e0203[_0x5dc798(0x284)]:this[_0x5dc798(0x2c3)](_0x4c2fc2[_0x5dc798(0xab9)]),_0x1822ee[_0x5dc798(0xbf2)](_0xbbb80e[_0x5dc798(0x571)],_0x5dc798(0xb28),'\x27'+this[_0x5dc798(0x22a)][_0x5dc798(0xc26)][_0x5dc798(0xc22)]()+',\x20'+_0x4c2fc2['sourceId']+'\x27',_0x4c2fc2,_0x4c2fc2[_0x5dc798(0xae3)]);break;case _0x3e0203[_0x5dc798(0x742)]:this[_0x5dc798(0x324)](_0x4c2fc2[_0x5dc798(0xab9)]),_0x1822ee['log'](_0xbbb80e[_0x5dc798(0x571)],_0x5dc798(0x789),this[_0x5dc798(0x22a)][_0x5dc798(0xc26)]['getId'](),_0x4c2fc2,_0x4c2fc2[_0x5dc798(0xae3)]);}}[_0x227435(0x5ca)](_0x379399){const _0x77550e=_0x227435;this[_0x77550e(0xc40)](_0x379399),this[_0x77550e(0x3e6)](_0x379399);}[_0x227435(0x3e6)](_0x485d05){const _0x238496=_0x227435;this[_0x238496(0x22a)][_0x238496(0xc26)][_0x238496(0x5bf)](_0x485d05['id']),this[_0x238496(0x3ad)](_0x485d05['id']),this[_0x238496(0x9c6)](_0x485d05);}[_0x227435(0xb3a)](_0x3d7242){const _0xcaab3d=_0x227435,{id:_0x445d28,metaData:_0x9dc16e,rank:_0x120d12,remoteConnections:_0x442187,version:_0x1d3763}=_0x3d7242,_0x26c463=this[_0xcaab3d(0x443)][_0xcaab3d(0x47b)](_0x445d28);if(_0x26c463){if(!(_0x1d3763<=_0x26c463[_0xcaab3d(0x39e)]())){if(_0x26c463[_0xcaab3d(0xa01)](_0x442187),_0x26c463[_0xcaab3d(0x825)](_0x1d3763),_0x26c463['type']===_0x2bba8e['NodeType']['User']&&_0x9dc16e[_0xcaab3d(0x649)]===_0x2bba8e['NodeType']['User']&&(_0x26c463[_0xcaab3d(0x3ec)](_0x9dc16e[_0xcaab3d(0xc09)]),_0x26c463['setEmail'](_0x9dc16e['email'])),_0x120d12&&_0x26c463[_0xcaab3d(0x52a)](_0x120d12),this['setLocalRank'](_0x445d28,_0x120d12),_0x26c463[_0xcaab3d(0x476)]()===_0x1f6dc0['Offline'])return _0x26c463['setStatus'](_0x1f6dc0[_0xcaab3d(0x553)]),this[_0xcaab3d(0x65d)](),void this['notifyJoin'](_0x3d7242);this[_0xcaab3d(0x65d)](),this['notifyClusterNodeUpdate']({'id':_0x445d28,'metaData':_0x9dc16e,'remoteConnections':_0x442187,'version':_0x1d3763});}}else this[_0xcaab3d(0x5ca)](_0x3d7242);}[_0x227435(0x8d4)](_0x54cf75,_0x53f2f7){const _0x5f57b0=_0x227435;_0x53f2f7&&this[_0x5f57b0(0x9e8)][_0x5f57b0(0x771)](_0x54cf75)&&this['configs'][_0x5f57b0(0xc26)][_0x5f57b0(0x52a)](_0x53f2f7+this[_0x5f57b0(0x9e8)][_0x5f57b0(0x202)](_0x54cf75)+0x1);}[_0x227435(0x2c3)](_0x1ec088){const _0x292da4=_0x227435;this[_0x292da4(0x22a)][_0x292da4(0xc26)][_0x292da4(0x427)](_0x1ec088);}[_0x227435(0xc40)]({id:_0x1e6cd0,metaData:_0x1853a1,rank:_0x3cff6f,remoteConnections:_0x35a83b,version:_0x35b665}){const _0x20551b=_0x227435;if(this[_0x20551b(0x443)][_0x20551b(0x6ae)](_0x1e6cd0))throw new _0x242caf(_0x20551b(0x350)+_0x1e6cd0);switch(_0x1853a1[_0x20551b(0x649)]){case _0x2bba8e[_0x20551b(0x6e1)][_0x20551b(0x35c)]:const {displayName:_0x49fce2,email:_0x3b8113}=_0x1853a1;this[_0x20551b(0x443)][_0x20551b(0x8a4)](_0x1e6cd0,new _0x57e06a(_0x1e6cd0,_0x49fce2,_0x3b8113,new Set(_0x35a83b),_0x35b665,_0x3cff6f));break;case _0x2bba8e[_0x20551b(0x6e1)][_0x20551b(0x5ac)]:this[_0x20551b(0x443)][_0x20551b(0x8a4)](_0x1e6cd0,new _0x13de7c(_0x1e6cd0,new Set(_0x35a83b),_0x35b665,_0x3cff6f));}const _0x3adb7d=this[_0x20551b(0x304)](),_0x37250d=new Set(this[_0x20551b(0x9e8)]);_0x3adb7d[_0x20551b(0x3e7)](_0x3c12f7=>{const _0x5acfb5=_0x20551b;_0x37250d[_0x5acfb5(0xac9)](_0x3c12f7[_0x5acfb5(0xc22)]())&&_0x37250d['delete'](_0x3c12f7[_0x5acfb5(0xc22)]());}),0x0===_0x37250d['size']&&this['resolveReady']&&(this['readyDebounce']&&clearTimeout(this['readyDebounce']),this[_0x20551b(0x327)]=setTimeout(()=>{const _0x21fb79=_0x20551b;this[_0x21fb79(0x5d2)]?.(!0x0),delete this['resolveReady'],delete this[_0x21fb79(0x5d5)];},0x7d0)),this['setLocalRank'](_0x1e6cd0,_0x3cff6f),this[_0x20551b(0x65d)]();}[_0x227435(0x3ad)](_0x217917){const _0xe33fd9=_0x227435;this[_0xe33fd9(0x45d)][_0xe33fd9(0xb22)]({'sourceId':_0x48df1c,'messageType':_0x37ab1a[_0xe33fd9(0x571)],'content':{'type':_0x4026a7[_0xe33fd9(0x6aa)],'id':_0x217917}});}[_0x227435(0x324)](_0xff687b){const _0x4a0d28=_0x227435;this['systemTopic']?.['publish']({'sourceId':_0x48df1c,'messageType':_0x37ab1a['Node'],'content':{'type':_0x4026a7[_0x4a0d28(0x728)],'id':_0xff687b}});}[_0x227435(0x42f)](_0x357747){const _0x3990c2=_0x227435;if(_0x357747===this['configs']['localNode']['getId']())return this[_0x3990c2(0x22a)][_0x3990c2(0x3c9)][_0x3990c2(0x71f)]('cluster-disconnect',{'id':_0x357747}),this['configs'][_0x3990c2(0x3c9)][_0x3990c2(0xa42)]({'force':!0x0},!0x0),this['configs'][_0x3990c2(0x3c9)][_0x3990c2(0xbd2)](),void this[_0x3990c2(0x22a)][_0x3990c2(0x3c9)][_0x3990c2(0x8c7)]();this[_0x3990c2(0x324)](_0x357747);}[_0x227435(0x7e9)](_0x26e963){const _0x1d0d7d=_0x227435;this['ancestors'][_0x1d0d7d(0x771)](_0x26e963)?this['manageAncestor'](_0x26e963):this[_0x1d0d7d(0x22a)][_0x1d0d7d(0xc26)][_0x1d0d7d(0x668)]()[_0x1d0d7d(0xac9)](_0x26e963)&&this['manageOptimization'](_0x26e963),this[_0x1d0d7d(0x22a)]['localNode'][_0x1d0d7d(0x9fc)](_0x26e963);const _0x3dfd63=Array[_0x1d0d7d(0x218)](this[_0x1d0d7d(0xae6)]['entries']())[_0x1d0d7d(0x5b4)](([,_0x973e55])=>_0x973e55==_0x973e55);_0x3dfd63&&this['optimizationLayers'][_0x1d0d7d(0x3df)](_0x3dfd63[0x0]);const _0x5b76fe=this[_0x1d0d7d(0x443)][_0x1d0d7d(0x47b)](_0x26e963);if(!_0x5b76fe)return;const _0x384560=_0x5b76fe['getRank'](),_0x4d08ad=this[_0x1d0d7d(0x22a)]['localNode'][_0x1d0d7d(0x604)]();_0x4d08ad&&_0x384560&&_0x384560<_0x4d08ad&&this[_0x1d0d7d(0x22a)][_0x1d0d7d(0xc26)][_0x1d0d7d(0x52a)](_0x4d08ad-0x1,!0x1),Array[_0x1d0d7d(0x218)](this['graphService']['getRemoteNodes']()['values']())[_0x1d0d7d(0x3e7)](_0x54290d=>{const _0x21f206=_0x1d0d7d,_0x557f08=_0x54290d['getRank']();_0x557f08&&_0x384560&&_0x384560<_0x557f08&&_0x54290d[_0x21f206(0x52a)](_0x557f08-0x1);}),_0x5b76fe[_0x1d0d7d(0x610)](_0x1f6dc0[_0x1d0d7d(0x866)]),this[_0x1d0d7d(0x22a)][_0x1d0d7d(0x3c9)][_0x1d0d7d(0x71f)](_0x5b76fe[_0x1d0d7d(0x649)]+_0x1d0d7d(0x279),{'id':_0x26e963});}[_0x227435(0x9c6)]({id:_0x3b90ed,metaData:_0x2786b7,remoteConnections:_0x5a5d77}){const _0x4cd527=_0x227435;switch(_0x2786b7[_0x4cd527(0x649)]){case _0x2bba8e[_0x4cd527(0x6e1)][_0x4cd527(0x35c)]:this[_0x4cd527(0x22a)]['mediator'][_0x4cd527(0x71f)](_0x4cd527(0x54d),{'id':_0x3b90ed,'metaData':_0x2786b7,'remoteConnections':_0x5a5d77});break;case _0x2bba8e[_0x4cd527(0x6e1)][_0x4cd527(0x5ac)]:this[_0x4cd527(0x22a)][_0x4cd527(0x3c9)]['notifyCluster'](_0x4cd527(0x75c),{'id':_0x3b90ed,'metaData':_0x2786b7,'remoteConnections':_0x5a5d77});}}[_0x227435(0x833)]({id:_0x4e846f,metaData:_0x3c006d,remoteConnections:_0x1f5518}){const _0x37c4a4=_0x227435;switch(_0x3c006d[_0x37c4a4(0x649)]){case _0x2bba8e[_0x37c4a4(0x6e1)][_0x37c4a4(0x35c)]:this[_0x37c4a4(0x22a)][_0x37c4a4(0x3c9)]['notifyCluster']('user-update',{'id':_0x4e846f,'metaData':_0x3c006d,'remoteConnections':_0x1f5518});break;case _0x2bba8e[_0x37c4a4(0x6e1)][_0x37c4a4(0x5ac)]:this[_0x37c4a4(0x22a)][_0x37c4a4(0x3c9)][_0x37c4a4(0x71f)]('agent-update',{'id':_0x4e846f,'metaData':_0x3c006d,'remoteConnections':_0x1f5518});}}[_0x227435(0x65d)](){const _0x10052e=_0x227435;if(this[_0x10052e(0x64e)]||(this[_0x10052e(0x64e)]=Date['now']()),this[_0x10052e(0x8fa)]){if(Date[_0x10052e(0xb26)]()-this['lastProcessRank']>0x2328)return;clearTimeout(this['debounceProcessRank']);}this[_0x10052e(0x8fa)]=setTimeout(async()=>{const _0x197f6c=_0x10052e;delete this[_0x197f6c(0x64e)],delete this[_0x197f6c(0x8fa)];const _0x2e2449=this[_0x197f6c(0x22a)][_0x197f6c(0xc26)]['getRank']();if(!_0x2e2449)return;const _0x3e3ecc=this[_0x197f6c(0x443)]['getCurrentMaxLayer'](this['graphService'][_0x197f6c(0x304)]()[_0x197f6c(0x9e7)]);if(this[_0x197f6c(0xae6)]['size']>=_0x3e3ecc)return;let _0x382af6=0x1;for(;this[_0x197f6c(0x22a)][_0x197f6c(0x3c9)][_0x197f6c(0x210)]()[_0x197f6c(0xbfb)]<this[_0x197f6c(0x443)][_0x197f6c(0x5d6)]()&&_0x382af6<=_0x3e3ecc;){if(this[_0x197f6c(0xae6)][_0x197f6c(0xac9)](_0x382af6)){_0x382af6+=0x1;continue;}const _0x119ebb=this[_0x197f6c(0x443)]['getNextTargetRank'](_0x2e2449,_0x382af6),_0x4d2e71=Array[_0x197f6c(0x218)](this[_0x197f6c(0x443)][_0x197f6c(0x304)]()[_0x197f6c(0xbc7)]())[_0x197f6c(0x5b4)](_0x3533fa=>_0x3533fa[_0x197f6c(0x604)]()===_0x119ebb&&_0x3533fa[_0x197f6c(0x476)]()===_0x1f6dc0[_0x197f6c(0x553)]);if(_0x4d2e71){try{await this['configs'][_0x197f6c(0x3c9)][_0x197f6c(0x9f5)](_0x4d2e71[_0x197f6c(0xc22)](),_0xc29e61[_0x197f6c(0x785)]),this[_0x197f6c(0xae6)][_0x197f6c(0x9b4)](_0x382af6,_0x4d2e71[_0x197f6c(0xc22)]());}catch(_0xb5dd39){if(!(_0xb5dd39 instanceof _0x82cd08&&_0xb5dd39[_0x197f6c(0x3f0)]===_0x82cd08[_0x197f6c(0xab8)]['RemoteConnectionExists']))throw _0xb5dd39;_0x1822ee[_0x197f6c(0xbf2)](_0xbbb80e[_0x197f6c(0x571)],this[_0x197f6c(0x22a)][_0x197f6c(0xc26)][_0x197f6c(0xc22)](),_0x4d2e71['getId'](),_0xb5dd39[_0x197f6c(0x325)]);}_0x382af6+=0x1;}else _0x382af6+=0x1;}},0x3e8);}async['manageAncestor'](_0x192577){const _0x218d60=_0x227435;this[_0x218d60(0x9e8)][_0x218d60(0xa1e)](this[_0x218d60(0x9e8)]['indexOf'](_0x192577),0x1);const _0x4ba3d8=await this['discoveryService'][_0x218d60(0x28b)]();for(const _0x561133 of _0x4ba3d8)if(!this['ancestors']['includes'](_0x561133)){const _0x268ef9=Array[_0x218d60(0x218)](this[_0x218d60(0xae6)][_0x218d60(0xc67)]())[_0x218d60(0x5b4)](([,_0x52a1cc])=>_0x52a1cc===_0x561133);_0x268ef9&&this[_0x218d60(0xae6)]['delete'](_0x268ef9[0x0]),this[_0x218d60(0x22a)][_0x218d60(0x3c9)][_0x218d60(0x9f5)](_0x561133,_0xc29e61['Core']);}0x0===_0x4ba3d8[_0x218d60(0xbfb)]&&this[_0x218d60(0x22a)][_0x218d60(0xc26)][_0x218d60(0x52a)](0x1),this['ancestors']=_0x4ba3d8;}async[_0x227435(0xafc)](_0x1aaa18){const _0x1bf99b=_0x227435,_0x379dac=this[_0x1bf99b(0x22a)][_0x1bf99b(0xc26)][_0x1bf99b(0x604)]();if(!_0x379dac)return;const _0x50934d=this['graphService'][_0x1bf99b(0x47b)](_0x1aaa18);if(!_0x50934d||_0x50934d[_0x1bf99b(0x476)]()===_0x1f6dc0['Offline'])return;const _0x55aeae=_0x50934d['getRank']();if(!_0x55aeae||_0x55aeae<_0x379dac)return;const _0x5594cc=this[_0x1bf99b(0x685)](this[_0x1bf99b(0x22a)][_0x1bf99b(0xc26)][_0x1bf99b(0x668)](),_0x379dac),_0x2345c0=this[_0x1bf99b(0x685)](_0x50934d['getRemoteConnections'](),_0x55aeae)[_0x5594cc[_0x1bf99b(0x207)](([_0x4ee169])=>_0x4ee169===_0x1aaa18)];if(!_0x2345c0||this[_0x1bf99b(0x22a)]['localNode'][_0x1bf99b(0x668)]()[_0x1bf99b(0xac9)](_0x2345c0[0x0]))return;const _0x2cdf3a=this[_0x1bf99b(0x443)][_0x1bf99b(0x47b)](_0x2345c0[0x0]);if(_0x2cdf3a&&_0x2cdf3a[_0x1bf99b(0x476)]()!==_0x1f6dc0['Offline'])try{await this[_0x1bf99b(0x22a)][_0x1bf99b(0x3c9)][_0x1bf99b(0x9f5)](_0x2345c0[0x0],_0xc29e61[_0x1bf99b(0x785)]);const _0x605a55=Array[_0x1bf99b(0x218)](this[_0x1bf99b(0xae6)]['entries']())[_0x1bf99b(0x5b4)](([,_0xae71bf])=>_0xae71bf===_0x1aaa18);_0x605a55&&this['optimizationLayers'][_0x1bf99b(0x9b4)](_0x605a55[0x0],_0x2345c0[0x0]);}catch(_0x6d842){if(!(_0x6d842 instanceof _0x82cd08&&_0x6d842['code']===_0x82cd08['codes'][_0x1bf99b(0x55f)]))throw _0x6d842;_0x1822ee[_0x1bf99b(0xbf2)](_0xbbb80e[_0x1bf99b(0x571)],this[_0x1bf99b(0x22a)][_0x1bf99b(0xc26)][_0x1bf99b(0xc22)](),_0x2345c0[0x0],_0x6d842['message']);}}[_0x227435(0x685)](_0x425dc5,_0x528fc7){const _0x28c160=_0x227435;return Array[_0x28c160(0x218)](_0x425dc5)[_0x28c160(0x4df)]((_0x5be33a,_0x1124b8)=>{const _0x4c3bee=_0x28c160,_0x14841b=this[_0x4c3bee(0x443)][_0x4c3bee(0x47b)](_0x1124b8);if(!_0x14841b||_0x14841b[_0x4c3bee(0x476)]()===_0x1f6dc0['Offline'])return _0x5be33a;const _0x480124=_0x14841b[_0x4c3bee(0x604)]();if(!_0x480124)return _0x5be33a;const _0x459969=_0x480124-_0x528fc7;return _0x459969<=this[_0x4c3bee(0x443)][_0x4c3bee(0x344)]()||_0x5be33a['push']([_0x1124b8,_0x459969]),_0x5be33a;},[])[_0x28c160(0xbd7)](([,_0x513f38],[,_0xa8f39a])=>_0x513f38-_0xa8f39a);}}const _0x1c192c=[{'problemType':_0x1d3e6f[_0x227435(0xb8c)],'remediations':[{'type':_0x47b7f8[_0x227435(0x8b0)],'component':_0x1d4d09[_0x227435(0xb2f)],'action':_0xf24b0b['Downgrade']},{'type':_0x47b7f8[_0x227435(0xc52)],'component':_0x1d4d09[_0x227435(0xb2f)],'action':_0xf24b0b[_0x227435(0x8cf)]}]},{'problemType':_0x1d3e6f[_0x227435(0xbba)],'remediations':[{'type':_0x47b7f8[_0x227435(0x8b0)],'component':_0x1d4d09[_0x227435(0xb2f)],'action':_0xf24b0b['Downgrade']}]},{'problemType':_0x1d3e6f[_0x227435(0x51d)],'remediations':[{'type':_0x47b7f8[_0x227435(0x8b0)],'component':_0x1d4d09[_0x227435(0xb2f)],'action':_0xf24b0b[_0x227435(0x8cf)]}]},{'problemType':_0x1d3e6f[_0x227435(0x41a)],'remediations':[{'type':_0x47b7f8[_0x227435(0x8b0)],'component':_0x1d4d09[_0x227435(0xb2f)],'action':_0xf24b0b[_0x227435(0x8cf)]}]},{'problemType':_0x1d3e6f[_0x227435(0x875)],'remediations':[{'type':_0x47b7f8[_0x227435(0x8b0)],'component':_0x1d4d09['Bitrate'],'action':_0xf24b0b[_0x227435(0x8cf)]}]},{'problemType':_0x1d3e6f[_0x227435(0x322)],'remediations':[{'type':_0x47b7f8[_0x227435(0x8b0)],'component':_0x1d4d09[_0x227435(0x875)],'action':_0xf24b0b[_0x227435(0x8cf)]}]},{'problemType':_0x1d3e6f['RoundTripTime'],'remediations':[{'type':_0x47b7f8['Remediation'],'component':_0x1d4d09[_0x227435(0x875)],'action':_0xf24b0b[_0x227435(0x8cf)]}]}];class _0x5df1a4{['configs'];[_0x227435(0x45d)];[_0x227435(0x206)]=new Map();constructor(_0x5e1a4d){const _0x2d9739=_0x227435;this[_0x2d9739(0x22a)]=_0x5e1a4d,this[_0x2d9739(0x22a)]['mediator'][_0x2d9739(0x282)](this);}[_0x227435(0xa42)](){const _0x2aa2e7=_0x227435;this[_0x2aa2e7(0x22a)][_0x2aa2e7(0x3c9)][_0x2aa2e7(0x75d)](this);}[_0x227435(0xc6d)](_0x3f902a){const _0x602c72=_0x227435;this[_0x602c72(0x45d)]=_0x3f902a;}[_0x227435(0x71a)](){const _0x23058b=_0x227435;delete this[_0x23058b(0x45d)];}[_0x227435(0x524)](_0x1de352){const _0x7f1352=_0x227435;_0x1de352['content'][_0x7f1352(0x649)]===_0x2d9673['Problem']&&this[_0x7f1352(0x26e)](_0x1de352['content']['data']);}['handleRemediationSystemEvents'](_0x1eabe1){const _0x244eef=_0x227435;_0x1eabe1[_0x244eef(0xae3)]['type']===_0x47b7f8[_0x244eef(0xc52)]&&this[_0x244eef(0x853)](_0x1eabe1[_0x244eef(0xab9)],{'type':_0x47b7f8[_0x244eef(0x8b0)],'component':_0x1eabe1[_0x244eef(0xae3)]['data'][_0x244eef(0x993)],'action':_0x1eabe1['content'][_0x244eef(0x205)]['action']});}[_0x227435(0x26e)](_0x265dd7){const _0x41a384=_0x227435,_0x59d5b=_0x1c192c[_0x41a384(0x5b4)](_0x4f7f3b=>_0x4f7f3b[_0x41a384(0x845)]===_0x265dd7['type']);_0x59d5b[_0x41a384(0x7f7)]?.[_0x41a384(0x3e7)](_0x24ccf6=>{const _0x240bc8=_0x41a384;this['applyRemediation'](_0x265dd7[_0x240bc8(0x32f)],{'type':_0x265dd7['origin']===_0x543fde[_0x240bc8(0x77b)]?_0x47b7f8['Remediation']:_0x47b7f8[_0x240bc8(0xc52)],'component':_0x24ccf6[_0x240bc8(0x993)],'action':_0x24ccf6[_0x240bc8(0x2e2)]});});}[_0x227435(0x853)](_0x5b822d,_0xbbd8cd){const _0x5d2b9f=_0x227435;if(_0xbbd8cd[_0x5d2b9f(0x649)]===_0x47b7f8[_0x5d2b9f(0x8b0)]){const _0x2fa599=Date[_0x5d2b9f(0xb26)](),_0x10f1a4=this[_0x5d2b9f(0x206)][_0x5d2b9f(0x441)](_0x5b822d);if(_0x10f1a4&&_0x2fa599-_0x10f1a4<0x1388)return;this[_0x5d2b9f(0x206)][_0x5d2b9f(0x9b4)](_0x5b822d,_0x2fa599);}_0x1822ee[_0x5d2b9f(0xbf2)](_0xbbb80e[_0x5d2b9f(0x8b0)],'Apply\x20remediation',_0xbbd8cd),_0x1822ee['logEvent']('remediation',{'clusterId':this['configs'][_0x5d2b9f(0x7f8)],'nodeId':this[_0x5d2b9f(0x22a)][_0x5d2b9f(0xc26)][_0x5d2b9f(0xc22)](),'nodeType':this[_0x5d2b9f(0x22a)][_0x5d2b9f(0xc26)][_0x5d2b9f(0x649)],'remoteId':_0x5b822d,'data':{'type':_0xbbd8cd['type'],'component':_0xbbd8cd[_0x5d2b9f(0x993)],'action':_0xbbd8cd[_0x5d2b9f(0x2e2)]}});let _0x457153,_0x13a61b=_0x48df1c;_0xbbd8cd[_0x5d2b9f(0x649)]===_0x47b7f8[_0x5d2b9f(0xc52)]&&(_0x13a61b=this['configs']['localNode']['getId'](),_0x457153=[_0x5b822d]),this[_0x5d2b9f(0x45d)][_0x5d2b9f(0xb22)]({'sourceId':_0x13a61b,'destinationIds':_0x457153,'messageType':_0x37ab1a[_0x5d2b9f(0x8b0)],'content':{'type':_0xbbd8cd[_0x5d2b9f(0x649)],'targetId':_0x5b822d,'data':_0xbbd8cd}});}}const _0x4b0cba=0x3e8,_0x3034c2=0x7530,_0x42f137='outbound-rtp',_0x440b99='remote-inbound-rtp',_0x52fb80=_0x227435(0x333),_0x4ffad9=[_0x42f137,_0x440b99],_0x4c3a62=[_0x52fb80];class _0x5ed01e{['roundTripTime']=0x0;['estimatedPlayoutTimestamp']=0x0;['jitter']=0x0;[_0x227435(0xa5d)]=0x0;[_0x227435(0x242)]=0x0;[_0x227435(0x2f5)]=0x0;[_0x227435(0x316)]=0x0;[_0x227435(0x98e)]=0x0;[_0x227435(0x5f7)]=0x0;get[_0x227435(0x46a)](){const _0x563d28=_0x227435;return this['currentTimestamp']>0x0&&this[_0x563d28(0x316)]>0x0&&Date[_0x563d28(0xb26)]()-this['currentTimestamp']<_0x3034c2?(this[_0x563d28(0x98e)]-this['previousBytes'])/(this['currentTimestamp']-this[_0x563d28(0x316)])*0x8*0x3e8:0x0;}[_0x227435(0x69d)](_0x50ee75){const _0x3133c9=_0x227435;switch(_0x50ee75['type']){case _0x52fb80:this[_0x3133c9(0xb3e)](_0x50ee75);break;case _0x42f137:this['processOutboundReport'](_0x50ee75);break;case _0x440b99:this[_0x3133c9(0x632)](_0x50ee75);}}[_0x227435(0x9ab)](){const _0x4269f5=_0x227435;return{'bitrate':this[_0x4269f5(0x46a)],'packetsLostPerc':this[_0x4269f5(0x87a)](),'roundTripTime':this['roundTripTime'],'jitter':this[_0x4269f5(0x678)]};}[_0x227435(0xb3e)](_0x5c8895){const _0x480135=_0x227435;this[_0x480135(0x7ad)](_0x5c8895[_0x480135(0x485)]),this[_0x480135(0x7c0)](_0x5c8895[_0x480135(0x908)]),this['packets']=_0x5c8895[_0x480135(0xc1c)],this[_0x480135(0xa5d)]=_0x5c8895['packetsLost'],void 0x0!==_0x5c8895[_0x480135(0x678)]?this[_0x480135(0x678)]=_0x5c8895[_0x480135(0x678)]:this[_0x480135(0x678)]=0x0,void 0x0!==_0x5c8895['estimatedPlayoutTimestamp']?this[_0x480135(0x5a5)]=_0x5c8895[_0x480135(0x5a5)]:this[_0x480135(0x5a5)]=0x0;}[_0x227435(0x987)](_0xdf1183){const _0x17a87b=_0x227435;this[_0x17a87b(0x7ad)](_0xdf1183[_0x17a87b(0x41d)]),this[_0x17a87b(0x7c0)](_0xdf1183['timestamp']),this[_0x17a87b(0x242)]=_0xdf1183[_0x17a87b(0x4a9)];}[_0x227435(0x632)](_0x270b26){const _0x5f3ba0=_0x227435;this[_0x5f3ba0(0x71d)]=0x3e8*_0x270b26[_0x5f3ba0(0x71d)],void 0x0!==_0x270b26['jitter']?this[_0x5f3ba0(0x678)]=_0x270b26[_0x5f3ba0(0x678)]:this[_0x5f3ba0(0x678)]=0x0;}[_0x227435(0x87a)](){const _0x4dedbb=_0x227435;return this[_0x4dedbb(0x242)]>0x0?this[_0x4dedbb(0xa5d)]/this[_0x4dedbb(0x242)]:0x0;}['setTimestamp'](_0x540329){const _0x5a791a=_0x227435;_0x540329>this[_0x5a791a(0x2f5)]&&(this['previousTimestamp']=this[_0x5a791a(0x2f5)],this[_0x5a791a(0x2f5)]=_0x540329);}[_0x227435(0x7ad)](_0x381f1a){const _0x16a1a7=_0x227435;this[_0x16a1a7(0x5f7)]=this[_0x16a1a7(0x98e)],this['currentBytes']=_0x381f1a;}}class _0x5bb8c2 extends _0x5ed01e{}class _0x12ab34 extends _0x5ed01e{[_0x227435(0x39c)]=0x0;[_0x227435(0xb5e)]=0x0;['frameHeight']=0x0;[_0x227435(0x6e6)]=0x0;['previousFrames']=0x0;get[_0x227435(0x97a)](){const _0x3206e6=_0x227435;return this[_0x3206e6(0x2f5)]>0x0&&this['previousTimestamp']>0x0&&Date[_0x3206e6(0xb26)]()-this['currentTimestamp']<_0x3034c2?(this[_0x3206e6(0x6e6)]-this[_0x3206e6(0x926)])/(this[_0x3206e6(0x2f5)]-this[_0x3206e6(0x316)])*0x3e8:0x0;}get[_0x227435(0x57f)](){const _0x13e094=_0x227435;return this[_0x13e094(0x39c)]&&this[_0x13e094(0x6e6)]&&this[_0x13e094(0x6e6)]>0x0?this['frameTime']/this['currentFrames']:0x0;}set[_0x227435(0x227)](_0x39b86f){const _0x17fd78=_0x227435;this[_0x17fd78(0x926)]=this[_0x17fd78(0x6e6)],this[_0x17fd78(0x6e6)]=_0x39b86f;}[_0x227435(0x9ab)](){const _0x5eacae=_0x227435;return{...super['getReport'](),'FPS':this[_0x5eacae(0x97a)],'timePerFrame':this[_0x5eacae(0x57f)],'frameWidth':this[_0x5eacae(0xb5e)],'frameHeight':this[_0x5eacae(0xbda)]};}[_0x227435(0xb3e)](_0x4edfda){const _0x17ad8b=_0x227435;super[_0x17ad8b(0xb3e)](_0x4edfda),this['frameTime']=_0x4edfda[_0x17ad8b(0x807)],this[_0x17ad8b(0x227)]=_0x4edfda[_0x17ad8b(0x9eb)],this['frameWidth']=_0x4edfda[_0x17ad8b(0xb5e)],this['frameHeight']=_0x4edfda[_0x17ad8b(0xbda)];}[_0x227435(0x987)](_0xf51e8b){const _0x13a890=_0x227435;super['processOutboundReport'](_0xf51e8b),this[_0x13a890(0x39c)]=_0xf51e8b['totalEncodeTime'],this['frames']=_0xf51e8b[_0x13a890(0x67a)],this[_0x13a890(0xb5e)]=_0xf51e8b[_0x13a890(0xb5e)],this[_0x13a890(0xbda)]=_0xf51e8b[_0x13a890(0xbda)];}}class _0x2512d8{[_0x227435(0x305)]=new _0x5bb8c2();[_0x227435(0x4c1)]=new _0x12ab34();get['bitrate'](){const _0x1c0b21=_0x227435;return this['audio'][_0x1c0b21(0x46a)]+this[_0x1c0b21(0x4c1)]['bitrate'];}['processReports'](_0x1e552e){const _0x68f78c=_0x227435;return _0x1e552e[_0x68f78c(0x3e7)](_0x2ccbef=>{const _0x1a45e2=_0x68f78c;switch(_0x2ccbef[_0x1a45e2(0xb74)]){case _0x1a45e2(0x305):this['audio'][_0x1a45e2(0x69d)](_0x2ccbef);break;case _0x1a45e2(0x4c1):this[_0x1a45e2(0x4c1)][_0x1a45e2(0x69d)](_0x2ccbef);}}),this[_0x68f78c(0x9ab)]();}[_0x227435(0x9ab)](){const _0x5017a8=_0x227435;return{'audio':this['audio'][_0x5017a8(0x9ab)](),'video':this[_0x5017a8(0x4c1)][_0x5017a8(0x9ab)](),'roundTripTime':this[_0x5017a8(0x8c3)](),'AudioVideoDelay':this[_0x5017a8(0x5eb)](),'bitrate':this[_0x5017a8(0x46a)]};}['getRoundTripTime'](){const _0x2aa6ac=_0x227435;return Math[_0x2aa6ac(0x921)]((this[_0x2aa6ac(0x305)]['roundTripTime']+this[_0x2aa6ac(0x4c1)][_0x2aa6ac(0x71d)])/0x2);}[_0x227435(0x5eb)](){const _0x26ba49=_0x227435;return this[_0x26ba49(0x305)][_0x26ba49(0x5a5)]-this[_0x26ba49(0x4c1)][_0x26ba49(0x5a5)];}}class _0x281c9e{[_0x227435(0xbe0)]=0x0;[_0x227435(0xc4b)]=0x0;[_0x227435(0x758)]=0x0;[_0x227435(0x301)]=0x0;['senderCurrentBytes']=0x0;[_0x227435(0xafe)]=0x0;[_0x227435(0x9e3)]=0x0;[_0x227435(0x6a0)]=0x0;[_0x227435(0x454)]=0x0;[_0x227435(0x535)]=0x0;[_0x227435(0xb33)]=0x0;[_0x227435(0x342)]=0x0;[_0x227435(0x71d)]=0x0;get['bitrate'](){const _0x885b37=_0x227435;return this[_0x885b37(0xa12)]+this[_0x885b37(0xc68)];}get[_0x227435(0xa12)](){const _0x1d3363=_0x227435;return this[_0x1d3363(0xbe0)]>0x0&&this['senderPreviousTimestamp']>0x0&&Date['now']()-this[_0x1d3363(0xbe0)]<_0x3034c2?(this[_0x1d3363(0x4cf)]-this[_0x1d3363(0xafe)])/(this[_0x1d3363(0xbe0)]-this[_0x1d3363(0xc4b)])*0x8*0x3e8:0x0;}get['receiverBitrate'](){const _0x48c7f3=_0x227435;return this[_0x48c7f3(0x758)]>0x0&&this[_0x48c7f3(0x301)]>0x0&&Date[_0x48c7f3(0xb26)]()-this[_0x48c7f3(0x758)]<_0x3034c2?(this[_0x48c7f3(0x9e3)]-this[_0x48c7f3(0x6a0)])/(this[_0x48c7f3(0x758)]-this['receiverPreviousTimestamp'])*0x8*0x3e8:0x0;}[_0x227435(0x69d)](_0xabb8ba){const _0x1b83f5=_0x227435;switch(_0xabb8ba[_0x1b83f5(0x44b)]){case _0x543fde[_0x1b83f5(0x77b)]:this['processSenderReport'](_0xabb8ba);break;case _0x543fde[_0x1b83f5(0x32e)]:this[_0x1b83f5(0x3ce)](_0xabb8ba);}}[_0x227435(0x9ab)](){const _0x150651=_0x227435;return{'bitrate':this[_0x150651(0x46a)],'senderBitrate':this[_0x150651(0xa12)],'receiverBitrate':this['receiverBitrate'],'totalBytes':this[_0x150651(0x5c6)](),'senderTotalBytes':this[_0x150651(0x77f)](),'receiverTotalBytes':this[_0x150651(0x3a3)](),'totalMessages':this['senderTotalMessages']+this[_0x150651(0x535)],'senderTotalMessages':this[_0x150651(0x454)],'receiverTotalMessages':this[_0x150651(0x535)],'timeProcessing':this[_0x150651(0xb33)]+this[_0x150651(0x342)],'senderTimeProcessing':this[_0x150651(0xb33)],'receiverTimeProcessing':this['receiverTimeProcessing'],'roundTripTime':this[_0x150651(0x71d)]};}[_0x227435(0x5c6)](){const _0xbe0f8a=_0x227435;return this['senderCurrentBytes']+this[_0xbe0f8a(0x9e3)];}[_0x227435(0x77f)](){return this['senderCurrentBytes'];}[_0x227435(0x3a3)](){const _0x45efdf=_0x227435;return this[_0x45efdf(0x9e3)];}['processSenderReport'](_0x248bc0){const _0xfaf639=_0x227435;this['setSenderTimestamp'](_0x248bc0['timestamp']),this['setBytes'](_0x248bc0[_0xfaf639(0x41d)]),this['senderTotalMessages']=_0x248bc0[_0xfaf639(0xa92)],this[_0xfaf639(0xb33)]=_0x248bc0[_0xfaf639(0x715)],this['roundTripTime']=_0x248bc0['roundTripTime'];}[_0x227435(0x3ce)](_0x4eeeab){const _0x47c317=_0x227435;this[_0x47c317(0xae8)](_0x4eeeab[_0x47c317(0x908)]),this[_0x47c317(0x8db)](_0x4eeeab[_0x47c317(0x485)]),this[_0x47c317(0x535)]=_0x4eeeab[_0x47c317(0x64f)],this['receiverTimeProcessing']=_0x4eeeab[_0x47c317(0xc2e)];}[_0x227435(0x523)](_0x38cab8){const _0x56b5a7=_0x227435;_0x38cab8>this[_0x56b5a7(0xbe0)]&&(this['senderPreviousTimestamp']=this[_0x56b5a7(0xbe0)],this['senderCurrentTimestamp']=_0x38cab8);}['setReceiverTimestamp'](_0x535257){const _0x11c25a=_0x227435;_0x535257>this[_0x11c25a(0x758)]&&(this[_0x11c25a(0x301)]=this[_0x11c25a(0x758)],this['receiverCurrentTimestamp']=_0x535257);}['setBytes'](_0x4240aa){const _0x35b3d8=_0x227435;this[_0x35b3d8(0xafe)]=this[_0x35b3d8(0x4cf)],this['senderCurrentBytes']=_0x4240aa;}['setReceiverBytes'](_0x2ce183){const _0x223f4e=_0x227435;this[_0x223f4e(0x6a0)]=this[_0x223f4e(0x9e3)],this[_0x223f4e(0x9e3)]=_0x2ce183;}}class _0x38eb33{[_0x227435(0x47f)]=new Map();['receiverStreams']=new Map();['dataChannel']=new _0x281c9e();get[_0x227435(0xa12)](){const _0x16ae04=_0x227435;let _0x296c6a=0x0;return this[_0x16ae04(0x47f)]['forEach'](_0x3c4af6=>{const _0x20285b=_0x16ae04;_0x296c6a+=_0x3c4af6[_0x20285b(0x46a)];}),_0x296c6a+=this['dataChannel'][_0x16ae04(0xa12)],_0x296c6a;}get[_0x227435(0xc68)](){const _0x250e8c=_0x227435;let _0xf45372=0x0;return this[_0x250e8c(0x392)][_0x250e8c(0x3e7)](_0xe0d640=>{const _0x345ace=_0x250e8c;_0xf45372+=_0xe0d640[_0x345ace(0x46a)];}),_0xf45372+=this[_0x250e8c(0x61b)]['receiverBitrate'],_0xf45372;}get[_0x227435(0x46a)](){const _0x3f48bb=_0x227435;return this[_0x3f48bb(0xa12)]+this[_0x3f48bb(0xc68)];}[_0x227435(0xb58)](_0x26781e,_0x55027e){const _0x3a02bf=_0x227435,_0xcd2236=[],_0xdf7021=[];return _0x26781e instanceof Array?_0x26781e[_0x3a02bf(0x3e7)](_0x1a06ac=>{const _0x146130=_0x3a02bf;_0x1a06ac[_0x146130(0x3e7)](_0x190504=>{const _0x462de4=_0x146130;_0x4c3a62[_0x462de4(0x771)](_0x190504[_0x462de4(0x649)])&&_0xcd2236[_0x462de4(0x91f)](_0x190504),_0x4ffad9['includes'](_0x190504[_0x462de4(0x649)])&&_0xdf7021['push'](_0x190504);});}):this[_0x3a02bf(0x61b)][_0x3a02bf(0x69d)](_0x26781e),_0xcd2236[_0x3a02bf(0xbfb)]>0x0&&_0x55027e?{...this['processInboundReports'](_0x55027e,_0xcd2236),'origin':_0x543fde['Receiver'],'streamId':_0x55027e}:_0xdf7021[_0x3a02bf(0xbfb)]>0x0&&_0x55027e?{...this[_0x3a02bf(0x4f6)](_0x55027e,_0xdf7021),'origin':_0x543fde['Sender'],'streamId':_0x55027e}:void 0x0;}[_0x227435(0x9ab)](){const _0x480eb9=_0x227435,_0x53b58a={};this[_0x480eb9(0x47f)][_0x480eb9(0x3e7)]((_0x589598,_0x1e8c37)=>{const _0x3280b4=_0x480eb9;_0x53b58a[_0x1e8c37]=_0x589598[_0x3280b4(0x9ab)]();});const _0x9f1d8f={};return this['receiverStreams'][_0x480eb9(0x3e7)]((_0x42422a,_0x383e7d)=>{const _0x3656b8=_0x480eb9;_0x9f1d8f[_0x383e7d]=_0x42422a[_0x3656b8(0x9ab)]();}),{'bitrate':this[_0x480eb9(0x46a)],'senderBitrate':this['senderBitrate'],'receiverBitrate':this[_0x480eb9(0xc68)],'senderStreams':_0x53b58a,'receiverStreams':_0x9f1d8f,'dataChannel':this[_0x480eb9(0x61b)][_0x480eb9(0x9ab)]()};}['processInboundReports'](_0x5c88f4,_0x22a614){const _0x569006=_0x227435;return this[_0x569006(0x392)][_0x569006(0xac9)](_0x5c88f4)||this[_0x569006(0x392)][_0x569006(0x9b4)](_0x5c88f4,new _0x2512d8()),this[_0x569006(0x392)][_0x569006(0x441)](_0x5c88f4)[_0x569006(0xb58)](_0x22a614);}['processOutboundReports'](_0x173d08,_0x4c3f46){const _0x3ae578=_0x227435;return this[_0x3ae578(0x47f)][_0x3ae578(0xac9)](_0x173d08)||this[_0x3ae578(0x47f)][_0x3ae578(0x9b4)](_0x173d08,new _0x2512d8()),this[_0x3ae578(0x47f)]['get'](_0x173d08)[_0x3ae578(0xb58)](_0x4c3f46);}}class _0x5eb723{['nodes']=new Map();[_0x227435(0xb0b)]=0x0;['durationTime']=0x0;[_0x227435(0x8a1)]=new Map();['objectStores']=new Map();['keyValueDatabases']=new Map();[_0x227435(0x503)]=new Map();[_0x227435(0x1e9)]=new Map();[_0x227435(0xa43)]=new Map();[_0x227435(0x49c)]=new Map();[_0x227435(0x735)]=new Map();[_0x227435(0x454)]=new Map();['receiverTotalMessages']=new Map();[_0x227435(0xb33)]=new Map();['receiverTimeProcessing']=new Map();[_0x227435(0x6b3)]=new Map();[_0x227435(0x45d)];[_0x227435(0x9ab)](){const _0x58dc3b=_0x227435,_0x3a7de5={};this[_0x58dc3b(0xbb4)][_0x58dc3b(0x3e7)]((_0x2871c2,_0x4b30c8)=>{_0x3a7de5[_0x4b30c8]=_0x2871c2['getReport']();});let _0x418a8d=0x0;this['senderTimeProcessing'][_0x58dc3b(0x3e7)](_0x133984=>{_0x418a8d+=_0x133984;});let _0x5d622f=0x0;this['receiverTimeProcessing'][_0x58dc3b(0x3e7)](_0x1af2e7=>{_0x5d622f+=_0x1af2e7;});const _0x5368e2=_0x418a8d+_0x5d622f;let _0x4627c0={'messages':{'total':0x0}};this['systemMessages'][_0x58dc3b(0x3e7)](_0x3488c9=>{const _0x18ee03=_0x58dc3b;Object[_0x18ee03(0x8d8)](_0x3488c9)['forEach'](_0x2a2ead=>{const _0x2d1907=_0x18ee03;_0x4627c0[_0x2a2ead]||(_0x4627c0[_0x2a2ead]={}),Object[_0x2d1907(0x8d8)](_0x3488c9[_0x2a2ead])[_0x2d1907(0x3e7)](_0x1933a7=>{_0x4627c0[_0x2a2ead][_0x1933a7]||(_0x4627c0[_0x2a2ead][_0x1933a7]=0x0),_0x4627c0[_0x2a2ead][_0x1933a7]+=_0x3488c9[_0x2a2ead][_0x1933a7];});});});let _0x44e927=0x0,_0x546952=0x0,_0x300320=0x0,_0x4408ea=0x0,_0x4451cf=0x0;return this[_0x58dc3b(0x8a1)][_0x58dc3b(0x3e7)](_0x263fe6=>{const _0x133ffa=_0x58dc3b;_0x546952+=_0x263fe6[_0x133ffa(0xa92)],_0x300320+=_0x263fe6[_0x133ffa(0x64f)],_0x4408ea+=_0x263fe6[_0x133ffa(0x41d)],_0x4451cf+=_0x263fe6['bytesReceived'];}),this['objectStores'][_0x58dc3b(0x3e7)](_0x401257=>{const _0x316395=_0x58dc3b;_0x44e927+=_0x401257[_0x316395(0x80f)],_0x546952+=_0x401257[_0x316395(0xa92)],_0x300320+=_0x401257[_0x316395(0x64f)],_0x4408ea+=_0x401257[_0x316395(0x41d)],_0x4451cf+=_0x401257[_0x316395(0x485)];}),this[_0x58dc3b(0xa2c)][_0x58dc3b(0x3e7)](_0x16a360=>{const _0x18b870=_0x58dc3b;_0x44e927+=_0x16a360['storage'],_0x546952+=_0x16a360[_0x18b870(0xa92)],_0x300320+=_0x16a360['messagesReceived'],_0x4408ea+=_0x16a360[_0x18b870(0x41d)],_0x4451cf+=_0x16a360['bytesReceived'];}),this[_0x58dc3b(0x503)][_0x58dc3b(0x3e7)](_0x1f1cf0=>{const _0x35c8ea=_0x58dc3b;_0x44e927+=_0x1f1cf0['storage'],_0x546952+=_0x1f1cf0['messagesSent'],_0x300320+=_0x1f1cf0['messagesReceived'],_0x4408ea+=_0x1f1cf0[_0x35c8ea(0x41d)],_0x4451cf+=_0x1f1cf0[_0x35c8ea(0x485)];}),this[_0x58dc3b(0x1e9)][_0x58dc3b(0x3e7)](_0x30e1d4=>{const _0x56031a=_0x58dc3b;_0x44e927+=_0x30e1d4[_0x56031a(0x80f)],_0x546952+=_0x30e1d4[_0x56031a(0xa92)],_0x300320+=_0x30e1d4[_0x56031a(0x64f)],_0x4408ea+=_0x30e1d4['bytesSent'],_0x4451cf+=_0x30e1d4[_0x56031a(0x485)];}),this[_0x58dc3b(0xa43)][_0x58dc3b(0x3e7)](_0x3435e5=>{const _0xb9b9d7=_0x58dc3b;_0x44e927+=_0x3435e5[_0xb9b9d7(0x80f)],_0x546952+=_0x3435e5[_0xb9b9d7(0xa92)],_0x300320+=_0x3435e5[_0xb9b9d7(0x64f)],_0x4408ea+=_0x3435e5[_0xb9b9d7(0x41d)],_0x4451cf+=_0x3435e5['bytesReceived'];}),this['graphDatabases']['forEach'](_0x49740e=>{const _0x5c4b44=_0x58dc3b;_0x44e927+=_0x49740e['storage'],_0x546952+=_0x49740e[_0x5c4b44(0xa92)],_0x300320+=_0x49740e['messagesReceived'],_0x4408ea+=_0x49740e[_0x5c4b44(0x41d)],_0x4451cf+=_0x49740e[_0x5c4b44(0x485)];}),{'STVolatility':this[_0x58dc3b(0xabb)](),'DTVolatility':this[_0x58dc3b(0x795)](),'bitrate':this[_0x58dc3b(0x349)](),'senderBitrate':this['getSenderBitrate'](),'receiverBitrate':this[_0x58dc3b(0x5c3)](),'totalStorageSize':_0x44e927,'totalMessages':_0x546952+_0x300320,'totalMessagesSent':_0x546952,'totalMessagesReceived':_0x300320,'totalBytes':_0x4408ea+_0x4451cf,'totalBytesSent':_0x4408ea,'totalBytesReceived':_0x4451cf,'systemMessages':_0x4627c0,'timeProcessing':_0x5368e2,'nodes':_0x3a7de5,'pubsubTopics':Object[_0x58dc3b(0x8e2)](this[_0x58dc3b(0x8a1)]),'objectStores':Object[_0x58dc3b(0x8e2)](this[_0x58dc3b(0xb16)]),'keyValueDatabases':Object['fromEntries'](this[_0x58dc3b(0xa2c)]),'generativeAIContexts':Object['fromEntries'](this[_0x58dc3b(0x503)]),'generativeAIWorkers':Object[_0x58dc3b(0x8e2)](this[_0x58dc3b(0x1e9)]),'vectorDatabases':Object[_0x58dc3b(0x8e2)](this[_0x58dc3b(0xa43)]),'graphDatabases':Object['fromEntries'](this[_0x58dc3b(0x49c)]),'externalStorages':Object[_0x58dc3b(0x8e2)](this[_0x58dc3b(0x735)])};}[_0x227435(0x847)](_0x46720b){const _0x2f3521=_0x227435;this[_0x2f3521(0xbb4)][_0x2f3521(0x9b4)](_0x46720b,new _0x38eb33());}[_0x227435(0x43f)](_0x24200a){const _0x307bf5=_0x227435;this[_0x307bf5(0xbb4)][_0x307bf5(0x3df)](_0x24200a);}[_0x227435(0xb58)](_0x446fe3,_0xcc5300,_0x58ff50){const _0x493391=_0x227435;_0xcc5300 instanceof Array||this[_0x493391(0x9cc)](_0x446fe3,_0xcc5300);const _0xee7b8b=this['nodes'][_0x493391(0x441)](_0x446fe3)?.[_0x493391(0xb58)](_0xcc5300,_0x58ff50);_0xee7b8b&&this[_0x493391(0x45d)]['publish']({'sourceId':_0x48df1c,'messageType':_0x37ab1a[_0x493391(0xabd)],'content':{'type':_0x13fdfc[_0x493391(0x398)],'data':{..._0xee7b8b,'nodeId':_0x446fe3}}});}[_0x227435(0xb2e)](_0x41a752){const _0x375be9=_0x227435;this['setScheduleTime'](_0x41a752['secheduleTime']),this[_0x375be9(0x373)](_0x41a752[_0x375be9(0x556)]),this['systemTopic']['publish']({'sourceId':_0x48df1c,'messageType':_0x37ab1a[_0x375be9(0xabd)],'content':{'type':_0x13fdfc[_0x375be9(0x2d3)],'data':{'STVolatility':this[_0x375be9(0xabb)](),'DTVolatility':this[_0x375be9(0x795)]()}}});}[_0x227435(0x39d)](_0x1fd6dd,_0x368c72,_0x11c925){const _0x2a3738=_0x227435;switch(_0x368c72){case _0x593bd0['PubSubTopicStats']:this[_0x2a3738(0x8a1)][_0x2a3738(0x9b4)](_0x1fd6dd,_0x11c925);break;case _0x593bd0[_0x2a3738(0x34a)]:this['objectStores'][_0x2a3738(0x9b4)](_0x1fd6dd,_0x11c925);break;case _0x593bd0['KeyValueDatabaseStats']:this['keyValueDatabases'][_0x2a3738(0x9b4)](_0x1fd6dd,_0x11c925);break;case _0x593bd0['GenerativeAIContextStats']:this[_0x2a3738(0x503)]['set'](_0x1fd6dd,_0x11c925);break;case _0x593bd0[_0x2a3738(0x551)]:this[_0x2a3738(0x1e9)][_0x2a3738(0x9b4)](_0x1fd6dd,_0x11c925);break;case _0x593bd0['VectorDatabaseStats']:this['vectorDatabases'][_0x2a3738(0x9b4)](_0x1fd6dd,_0x11c925);break;case _0x593bd0[_0x2a3738(0x2a7)]:this['graphDatabases']['set'](_0x1fd6dd,_0x11c925);break;case _0x593bd0[_0x2a3738(0x471)]:this[_0x2a3738(0x735)][_0x2a3738(0x9b4)](_0x1fd6dd,_0x11c925);}}['registerSystemPublisher'](_0x21943e){const _0x308a4d=_0x227435;this[_0x308a4d(0x45d)]=_0x21943e;}['unregisterSystemPublisher'](){const _0x3395f0=_0x227435;delete this[_0x3395f0(0x45d)];}[_0x227435(0xabb)](){const _0x49e173=_0x227435;return this[_0x49e173(0xb0b)]>0x0&&this['scheduleTime']-_0x4b0cba>0x0?(this[_0x49e173(0xb0b)]-_0x4b0cba)/_0x4b0cba:0x0;}[_0x227435(0x795)](){const _0x4bea31=_0x227435;return this[_0x4bea31(0x556)]>0x0&&this[_0x4bea31(0x556)]-0x64>0x0?(this['durationTime']-0x64)/0x64:0x0;}[_0x227435(0x3e8)](){const _0x46f513=_0x227435;let _0xc7053=0x0;return this[_0x46f513(0xbb4)]['forEach'](_0x352938=>{const _0x58ab12=_0x46f513;_0xc7053+=_0x352938[_0x58ab12(0xa12)];}),_0xc7053;}['getReceiverBitrate'](){const _0x290267=_0x227435;let _0x54ec37=0x0;return this[_0x290267(0xbb4)][_0x290267(0x3e7)](_0x496a3e=>{_0x54ec37+=_0x496a3e['receiverBitrate'];}),_0x54ec37;}[_0x227435(0x349)](){const _0x4c1eea=_0x227435;let _0x2b177f=0x0;return this[_0x4c1eea(0xbb4)][_0x4c1eea(0x3e7)](_0x13c9bb=>{_0x2b177f+=_0x13c9bb['bitrate'];}),_0x2b177f;}[_0x227435(0x1e7)](_0x5564c4){this['scheduleTime']=_0x5564c4;}['setDurationTime'](_0x1e00ac){const _0x162c17=_0x227435;this[_0x162c17(0x556)]=_0x1e00ac;}[_0x227435(0x9cc)](_0x2a0304,_0x46a1c8){const _0x3cffc2=_0x227435;switch(_0x46a1c8[_0x3cffc2(0x44b)]){case _0x543fde['Sender']:this[_0x3cffc2(0x633)](_0x2a0304,_0x46a1c8);break;case _0x543fde[_0x3cffc2(0x32e)]:this[_0x3cffc2(0x3ce)](_0x2a0304,_0x46a1c8);}}['processSenderReport'](_0x3a0e05,_0x199b96){const _0x440152=_0x227435;this[_0x440152(0x454)]['set'](_0x3a0e05,_0x199b96[_0x440152(0xa92)]),this[_0x440152(0xb33)][_0x440152(0x9b4)](_0x3a0e05,_0x199b96[_0x440152(0x715)]);}[_0x227435(0x3ce)](_0x1a211b,_0x2c5a20){const _0x50fd5e=_0x227435;this[_0x50fd5e(0x535)][_0x50fd5e(0x9b4)](_0x1a211b,_0x2c5a20[_0x50fd5e(0x64f)]),this[_0x50fd5e(0x342)]['set'](_0x1a211b,_0x2c5a20[_0x50fd5e(0xc2e)]),this[_0x50fd5e(0x6b3)][_0x50fd5e(0x9b4)](_0x1a211b,_0x2c5a20[_0x50fd5e(0x6b3)]);}}class _0xf94f53{['configs'];['remoteNodes']=new Set();['nextNodeId'];[_0x227435(0xbb7)];[_0x227435(0x840)];['statsReport']=new _0x5eb723();constructor(_0x2e0feb){const _0x2d6de6=_0x227435;this[_0x2d6de6(0x22a)]=_0x2e0feb,this[_0x2d6de6(0x22a)][_0x2d6de6(0x3c9)][_0x2d6de6(0x282)](this[_0x2d6de6(0x383)]),this[_0x2d6de6(0xbb7)]=this[_0x2d6de6(0x723)](),this[_0x2d6de6(0x840)]=this[_0x2d6de6(0x29e)]();}['close'](){const _0x9692e9=_0x227435;this[_0x9692e9(0x22a)][_0x9692e9(0x3c9)]['unregisterSystemSource'](this[_0x9692e9(0x383)]),this['statsReporting'](),this['statsCollection']();}['addRemoteNode'](_0x2aeab2){const _0x3f6a99=_0x227435;this['remoteNodes']['add'](_0x2aeab2),this[_0x3f6a99(0x383)][_0x3f6a99(0x847)](_0x2aeab2);}[_0x227435(0x43f)](_0x3c5867){const _0x529b37=_0x227435;this[_0x529b37(0x36b)][_0x529b37(0x3df)](_0x3c5867),this[_0x529b37(0x383)][_0x529b37(0x43f)](_0x3c5867);}[_0x227435(0x525)](_0x2dd19b){const _0x2feb65=_0x227435;if(_0x2dd19b[_0x2feb65(0xae3)][_0x2feb65(0x649)]===_0x3e0203['Stats']){const {nodeId:_0x31c577,streamId:_0x2cebf6,stats:_0x43546a}=_0x2dd19b['content'];this[_0x2feb65(0x383)][_0x2feb65(0xb58)](_0x31c577,_0x43546a,_0x2cebf6);}}[_0x227435(0x32a)](_0xe6ad5c){const _0x47ec24=_0x227435;switch(_0xe6ad5c[_0x47ec24(0xae3)][_0x47ec24(0x649)]){case _0x593bd0['ObjectStoreStats']:case _0x593bd0[_0x47ec24(0x4f5)]:case _0x593bd0[_0x47ec24(0x6d0)]:case _0x593bd0[_0x47ec24(0xa5e)]:case _0x593bd0[_0x47ec24(0x551)]:case _0x593bd0[_0x47ec24(0x947)]:case _0x593bd0[_0x47ec24(0x2a7)]:case _0x593bd0[_0x47ec24(0x471)]:this['statsReport'][_0x47ec24(0x39d)](_0xe6ad5c['content']['label'],_0xe6ad5c['content']['type'],_0xe6ad5c[_0x47ec24(0xae3)][_0x47ec24(0x72e)]);}}['setupStatsReporting'](){const _0x1f8206=_0x227435;return _0x2674de[_0x1f8206(0x3c7)](()=>{const _0x2834c4=_0x1f8206,_0xff881f=this[_0x2834c4(0x383)][_0x2834c4(0x9ab)]();_0x1822ee[_0x2834c4(0xbf2)](_0xbbb80e['Stats'],_0x2834c4(0xb86),_0xff881f),(0x0,_0x4e090a[_0x2834c4(0x3dc)])((0x0,_0x4e090a['collection'])(_0x35b99b[_0x2834c4(0xc63)](),_0x2834c4(0x35a)+this['configs'][_0x2834c4(0x2ae)]+'/stats'),{'clusterId':this[_0x2834c4(0x22a)][_0x2834c4(0x7f8)],'nodeId':this[_0x2834c4(0x22a)][_0x2834c4(0xc26)]['getId'](),'nodeType':this[_0x2834c4(0x22a)][_0x2834c4(0xc26)][_0x2834c4(0x649)],'timestamp':(0x0,_0x4e090a[_0x2834c4(0x5e5)])(),'report':_0xff881f}),_0x1822ee[_0x2834c4(0x68c)](_0x2834c4(0x72e),{'clusterId':this[_0x2834c4(0x22a)][_0x2834c4(0x7f8)],'nodeId':this['configs'][_0x2834c4(0xc26)][_0x2834c4(0xc22)](),'nodeType':this['configs'][_0x2834c4(0xc26)][_0x2834c4(0x649)],'data':{'report':_0xff881f}});},_0x3034c2);}['setupStatsCollection'](){const _0x113119=_0x227435;let _0x1445dc=!0x1,_0x4367a8=Date[_0x113119(0xb26)]();return _0x2674de['setInterval'](async()=>{const _0x6e92d8=_0x113119;if(_0x1445dc)return;if(_0x1445dc=!0x0,0x0===this[_0x6e92d8(0x36b)]['size'])return delete this[_0x6e92d8(0x49e)],void(_0x1445dc=!0x1);const _0x377fac=Date[_0x6e92d8(0xb26)]();this[_0x6e92d8(0x6c7)]();try{await this['configs'][_0x6e92d8(0x3c9)][_0x6e92d8(0xb4a)](this['nextNodeId']);}catch(_0x380764){}this[_0x6e92d8(0x383)][_0x6e92d8(0xb2e)]({'secheduleTime':_0x377fac-_0x4367a8,'durationTime':Date['now']()-_0x377fac}),_0x4367a8=_0x377fac,_0x1445dc=!0x1;},_0x4b0cba);}[_0x227435(0x6c7)](){const _0x465ced=_0x227435;let _0x4ef203,_0x3d80fc=!0x1;this[_0x465ced(0x49e)]&&(this['remoteNodes'][_0x465ced(0xac9)](this[_0x465ced(0x49e)])||delete this[_0x465ced(0x49e)]);for(const _0x2da79b of this['remoteNodes'])if(_0x4ef203||(_0x4ef203=_0x2da79b),this['nextNodeId']!==_0x2da79b){if(_0x3d80fc)return void(this['nextNodeId']=_0x2da79b);}else _0x3d80fc=!0x0,delete this['nextNodeId'];this[_0x465ced(0x49e)]||(this[_0x465ced(0x49e)]=_0x4ef203);}}class _0x4c5f60{[_0x227435(0xa9b)];[_0x227435(0x6bc)];[_0x227435(0x45d)];constructor(_0x24fe7f,_0x325df0){const _0x377ef5=_0x227435;this[_0x377ef5(0xa9b)]=_0x24fe7f,this[_0x377ef5(0x6bc)]=_0x325df0;}[_0x227435(0xc6d)](_0x51d28b){const _0x2b3692=_0x227435;this[_0x2b3692(0x45d)]=_0x51d28b;}[_0x227435(0x71a)](){delete this['systemTopic'];}}class _0x1978ae extends _0x4c5f60{['source'];['destination'];[_0x227435(0x95a)];constructor(_0x3a3e8d,_0x5236cb,_0x12941b){const _0x4478f9=_0x227435;super(_0x3a3e8d,_0x5236cb),this['source']=_0x3a3e8d,this[_0x4478f9(0x6bc)]=_0x5236cb,this[_0x4478f9(0x95a)]=_0x12941b;}[_0x227435(0x214)](_0x4f263f,_0x1cc0c8,_0x56ad37){const _0x48e251=_0x227435;if(this[_0x48e251(0x6bc)][_0x48e251(0x9b5)]()===_0x2bba8e[_0x48e251(0x97c)][_0x48e251(0x663)]){const _0x1aae05={'type':_0x11acfe[_0x48e251(0x482)],'label':this['destination']['getLabel'](),'ownerId':_0x4f263f,'trackKinds':_0x1cc0c8??this['destination'][_0x48e251(0x67d)](),'params':_0x56ad37};this[_0x48e251(0x45d)][_0x48e251(0xb22)]({'sourceId':this[_0x48e251(0xa9b)][_0x48e251(0x650)](),'destinationIds':[this[_0x48e251(0xa9b)][_0x48e251(0xba7)]()],'messageType':_0x37ab1a['Subscription'],'content':_0x1aae05}),this['params']=_0x56ad37;}}[_0x227435(0x75a)](_0x5722b0,_0x19326f){const _0x8875e1=_0x227435;if(this[_0x8875e1(0x6bc)]['getContentType']()===_0x2bba8e[_0x8875e1(0x97c)][_0x8875e1(0x663)]){const _0x24398e={'type':_0x11acfe[_0x8875e1(0x2cb)],'label':this[_0x8875e1(0x6bc)]['getLabel'](),'ownerId':_0x5722b0,'params':_0x19326f};this[_0x8875e1(0x45d)]['publish']({'sourceId':this['source'][_0x8875e1(0x650)](),'destinationIds':[this[_0x8875e1(0xa9b)][_0x8875e1(0xba7)]()],'messageType':_0x37ab1a['Subscription'],'content':_0x24398e}),this[_0x8875e1(0x95a)]=_0x19326f;}}['unsubscribe'](_0x32b5a3,_0x4d0072,_0xac9566){const _0x22ef73=_0x227435;if(this[_0x22ef73(0x6bc)][_0x22ef73(0x9b5)]()===_0x2bba8e[_0x22ef73(0x97c)][_0x22ef73(0x663)]){const _0x495bde={'type':_0x11acfe[_0x22ef73(0xc79)],'label':this['destination'][_0x22ef73(0x9a2)](),'ownerId':_0x32b5a3,'trackKinds':_0xac9566??this[_0x22ef73(0x6bc)][_0x22ef73(0x67d)](),'remainingTracks':_0x4d0072};this[_0x22ef73(0x45d)][_0x22ef73(0xb22)]({'sourceId':this[_0x22ef73(0xa9b)][_0x22ef73(0x650)](),'destinationIds':[this['source'][_0x22ef73(0xba7)]()],'messageType':_0x37ab1a['Subscription'],'content':_0x495bde});}}}class _0x73d416{[_0x227435(0xc06)];[_0x227435(0xb9c)];[_0x227435(0x544)];[_0x227435(0x45d)];[_0x227435(0xb1a)]=new Set();[_0x227435(0x9fd)]=Date[_0x227435(0xb26)]();[_0x227435(0x95a)];[_0x227435(0x463)]=0x0;constructor(_0x79e5fa,_0x13a90a,_0x5f2fcb,_0x4a64d0){const _0x6e81a6=_0x227435;this[_0x6e81a6(0xc06)]=_0x13a90a,this[_0x6e81a6(0xb9c)]=_0x5f2fcb,this[_0x6e81a6(0x544)]=_0x4a64d0,_0x79e5fa[_0x6e81a6(0x3e7)](_0x12289e=>{const _0x30a5cd=_0x6e81a6;this[_0x30a5cd(0xb1a)][_0x30a5cd(0x9b9)]({'nodeId':_0x12289e,'type':_0x45f41a[_0x30a5cd(0xa7a)]});});}['getTracks'](){return this['tracks'];}[_0x227435(0xc6d)](_0x52fd7d){const _0x1d9b97=_0x227435;this[_0x1d9b97(0x45d)]=_0x52fd7d;}[_0x227435(0x71a)](){const _0xbf5d56=_0x227435;delete this[_0xbf5d56(0x45d)];}[_0x227435(0x278)](_0x271b30,_0x1a69ee){const _0xc2c64a=_0x227435;this[_0xc2c64a(0x9fd)]=Date['now'](),this[_0xc2c64a(0xb1a)][_0xc2c64a(0x42a)](),_0x271b30[_0xc2c64a(0x3e7)](_0x1e622d=>{const _0x434269=_0xc2c64a;this['answers'][_0x434269(0x9b9)]({'nodeId':_0x1e622d,'type':_0x45f41a['Waiting']});}),this[_0xc2c64a(0x463)]+=0x1,this[_0xc2c64a(0xc06)]=_0x1a69ee;}[_0x227435(0x60b)](_0x2a8088,_0x3fb658,_0x318193,_0x14f038,_0x29c005){const _0x7574f8=_0x227435;if(this['retryCount']>0xa)throw new _0x82cd08(_0x82cd08[_0x7574f8(0xab8)]['SubscriptionRequestNoAnswer'],{'answers':Array[_0x7574f8(0x218)](this[_0x7574f8(0xb1a)])[_0x7574f8(0x7b9)](_0x29aa92=>({'nodeId':_0x29aa92[_0x7574f8(0x32f)],'type':_0x29aa92[_0x7574f8(0x649)]}))});const _0x3cb30f=Array[_0x7574f8(0x218)](this['answers'])[_0x7574f8(0x7b9)](_0x3a3d10=>_0x3a3d10[_0x7574f8(0x32f)]);this[_0x7574f8(0x95a)]=_0x29c005,this[_0x7574f8(0x45d)][_0x7574f8(0xb22)]({'sourceId':_0x2a8088,'destinationIds':_0x3cb30f,'messageType':_0x37ab1a['Subscription'],'content':{'type':_0x11acfe[_0x7574f8(0x433)],'label':_0x318193,'ownerId':_0x3fb658,'trackKinds':_0x14f038,'params':_0x29c005}}),_0x1822ee[_0x7574f8(0xbf2)](_0xbbb80e[_0x7574f8(0x30b)],_0x7574f8(0x627),_0x2a8088,_0x3cb30f);}[_0x227435(0x8b1)](_0x2a3c3b,_0x289b4a){const _0x5b9aa8=_0x227435;switch(_0x289b4a[_0x5b9aa8(0x649)]){case _0x11acfe[_0x5b9aa8(0x6b4)]:{const _0x39c3f1=this[_0x5b9aa8(0xc06)]>=_0x289b4a[_0x5b9aa8(0xc10)]&&_0x289b4a[_0x5b9aa8(0xc10)]<=this[_0x5b9aa8(0xb9c)],_0x563dca=Array[_0x5b9aa8(0x218)](this['answers'])[_0x5b9aa8(0x5b4)](_0x3c54f3=>_0x3c54f3[_0x5b9aa8(0x32f)]===_0x2a3c3b);_0x563dca[_0x5b9aa8(0x649)]=_0x39c3f1?_0x45f41a[_0x5b9aa8(0x7ce)]:_0x45f41a[_0x5b9aa8(0x6be)],_0x563dca[_0x5b9aa8(0xa18)]=_0x289b4a[_0x5b9aa8(0xa18)],_0x563dca[_0x5b9aa8(0xc10)]=_0x289b4a[_0x5b9aa8(0xc10)],_0x563dca[_0x5b9aa8(0x411)]=_0x289b4a[_0x5b9aa8(0x411)],_0x563dca[_0x5b9aa8(0x71d)]=Date[_0x5b9aa8(0xb26)]()-this['startTime'],_0x563dca['params']=this[_0x5b9aa8(0x95a)],_0x563dca[_0x5b9aa8(0x67b)]=_0x289b4a[_0x5b9aa8(0x67b)],_0x563dca['trackKinds']=_0x289b4a[_0x5b9aa8(0x8c1)],_0x563dca[_0x5b9aa8(0x811)]=_0x289b4a[_0x5b9aa8(0x40a)],_0x1822ee[_0x5b9aa8(0xbf2)](_0xbbb80e[_0x5b9aa8(0x30b)],(_0x39c3f1?'Accepted':_0x5b9aa8(0x6be))+'\x20answer',_0x563dca);break;}case _0x11acfe['CannotProvideMediaStream']:{const _0x475227=Array[_0x5b9aa8(0x218)](this[_0x5b9aa8(0xb1a)])['find'](_0x44e072=>_0x44e072['nodeId']===_0x2a3c3b);_0x475227[_0x5b9aa8(0x649)]=_0x45f41a[_0x5b9aa8(0x6be)],_0x1822ee[_0x5b9aa8(0xbf2)](_0xbbb80e['Subscription'],_0x5b9aa8(0x9f2),_0x475227);break;}}if(this['canChooseAnswer']())return this['chooseAnswer']();}[_0x227435(0x7bf)](){const _0x57a063=_0x227435,_0x5c0178=Array[_0x57a063(0x218)](this[_0x57a063(0xb1a)])[_0x57a063(0x276)](_0x3b2716=>_0x3b2716[_0x57a063(0x649)]===_0x45f41a[_0x57a063(0x7ce)])[_0x57a063(0xbd7)]((_0x5b7a25,_0x413e92)=>_0x5b7a25['cost']===_0x413e92[_0x57a063(0xa18)]?_0x5b7a25[_0x57a063(0x71d)]-_0x413e92['roundTripTime']:_0x5b7a25[_0x57a063(0xa18)]-_0x413e92[_0x57a063(0xa18)]);if(0x0===_0x5c0178[_0x57a063(0xbfb)])throw new _0x82cd08(_0x82cd08[_0x57a063(0xab8)][_0x57a063(0x224)],{'answers':Array[_0x57a063(0x218)](this['answers'])[_0x57a063(0x7b9)](_0x47250f=>({'nodeId':_0x47250f[_0x57a063(0x32f)],'type':_0x47250f[_0x57a063(0x649)]}))});return _0x1822ee[_0x57a063(0xbf2)](_0xbbb80e[_0x57a063(0x30b)],_0x57a063(0x7ec),_0x5c0178[0x0],this[_0x57a063(0xb1a)]),_0x5c0178[0x0];}['canChooseAnswer'](){const _0x262c29=_0x227435;for(const _0x2a4751 of this['answers'])if(_0x2a4751[_0x262c29(0x649)]===_0x45f41a['Waiting'])return!0x1;return!0x0;}}class _0x41fc1d{[_0x227435(0x40a)];[_0x227435(0x1ed)];[_0x227435(0xc84)]=_0x1aa7b3();constructor(_0x473ab1,_0x56cca3){const _0x4aeef9=_0x227435;this[_0x4aeef9(0x40a)]=_0x473ab1,this[_0x4aeef9(0x1ed)]=_0x56cca3;}[_0x227435(0x9a2)](){const _0x5cec9b=_0x227435;return this[_0x5cec9b(0x40a)];}['getContentType'](){const _0x5401a4=_0x227435;return this[_0x5401a4(0x1ed)];}[_0x227435(0xbf7)](_0x3a7244){const _0x48d8f6=_0x227435;_0x3a7244[_0x48d8f6(0x9a3)](this);}[_0x227435(0xbb0)](_0x38f980){_0x38f980['registerSubscriber'](this);}['publish'](_0x316aa8){const _0x4b1baf=_0x227435;this[_0x4b1baf(0xc84)][_0x4b1baf(0xb22)]({'topicLabel':this[_0x4b1baf(0x40a)],'contentType':this[_0x4b1baf(0x1ed)],'uuid':(0x0,_0x4821d1['v4'])(),'recipients':[],..._0x316aa8});}['subscribe'](_0x358b26){return this['listener']['subscribe'](_0x358b26);}[_0x227435(0xab3)](_0x426844){_0x426844['unregisterPublisher'](this);}[_0x227435(0x6c3)](_0x202279){_0x202279['unregisterSubscriber'](this);}}class _0x27d96b{[_0x227435(0xbaa)]={'topics':new Map(),'subscriptions':new Map()};[_0x227435(0x88d)];constructor(_0x203ff3){const _0xd3ba09=_0x227435;this[_0xd3ba09(0x88d)]=_0x203ff3;}get[_0x227435(0x9ec)](){const _0x1b04ce=_0x227435;return this[_0x1b04ce(0xbaa)][_0x1b04ce(0x9ec)];}get[_0x227435(0x3bd)](){const _0x585b7d=_0x227435;return this[_0x585b7d(0xbaa)][_0x585b7d(0x3bd)];}[_0x227435(0x2c1)](_0xa748a,_0x231a22){const _0x579baa=_0x227435,_0x3fbd90=this[_0x579baa(0x88d)](_0x231a22),_0x50b653=_0x46cfe3(_0xa748a);if(!_0x3fbd90['supportsContentType'])throw new _0x82cd08(_0x82cd08[_0x579baa(0xab8)][_0x579baa(0x8be)],{'message':_0x50b653+':\x20'+_0x3fbd90[_0x579baa(0x963)]+_0x579baa(0x6f4)+_0x3fbd90[_0x579baa(0x1ed)],'subscriptionType':_0xa748a,'subscription':_0x231a22,'subscriptonParts':_0x3fbd90});const _0x7cfd0e=_0x44fbb8(_0xa748a,_0x3fbd90);if(this[_0x579baa(0xbaa)][_0x579baa(0x9ec)]['has'](_0x7cfd0e))throw new _0x82cd08(_0x82cd08[_0x579baa(0xab8)][_0x579baa(0x8be)],{'message':_0x50b653+':\x20'+_0x7cfd0e+_0x579baa(0x74f),'subscriptionType':_0xa748a,'subscription':_0x231a22,'subscriptonParts':_0x3fbd90});this[_0x579baa(0xbaa)][_0x579baa(0x9ec)][_0x579baa(0x9b4)](_0x7cfd0e,_0x231a22),this[_0x579baa(0x419)](_0x3fbd90,_0x231a22);}[_0x227435(0x204)](_0x43b25d,_0x45d53b){const _0x1e267f=_0x227435,_0x222e95=_0x44fbb8(_0x45d53b,_0x43b25d),_0x19f59a=this[_0x1e267f(0xbaa)][_0x1e267f(0x9ec)][_0x1e267f(0x441)](_0x222e95);if(!_0x19f59a)throw new _0x82cd08(_0x82cd08['codes'][_0x1e267f(0x8be)],{'message':_0x46cfe3(_0x45d53b)+':\x20'+_0x222e95+_0x1e267f(0x4a0),'subscriptionType':_0x45d53b,'subscription':_0x19f59a,'subscriptonParts':_0x43b25d});this['closeSubscription'](_0x19f59a,_0x222e95,_0x43b25d);}[_0x227435(0xb20)](_0x160fa1,_0x3e408b,_0x28c654){const _0x3c9805=_0x227435;_0x28c654=_0x28c654||this[_0x3c9805(0x88d)](_0x160fa1),this[_0x3c9805(0xbaa)][_0x3c9805(0x9ec)]['delete'](_0x3e408b),this[_0x3c9805(0x472)](_0x28c654,_0x160fa1);}['createTopic'](_0x101d45,{source:_0x2839c8,destination:_0x52a1d2}){const _0x347994=_0x227435,{contentType:_0x175c31,label:_0x5064e9,remoteId:_0x1ff9d4}=_0x101d45,_0x4065f7=_0x102506(_0x175c31,_0x5064e9,_0x1ff9d4),_0x530a3b=new _0x41fc1d(_0x4065f7,_0x175c31);_0x530a3b[_0x347994(0xbf7)](_0x2839c8),_0x530a3b[_0x347994(0xbb0)](_0x52a1d2),this['maps']['topics'][_0x347994(0x9b4)](_0x530a3b['getLabel'](),_0x530a3b);}[_0x227435(0x472)](_0x5852a7,_0x10cb87){const _0x52ea95=_0x227435,{contentType:_0x54eb9a,label:_0x11e5ad,remoteId:_0x14fbb0}=_0x5852a7,_0x10f984=_0x102506(_0x54eb9a,_0x11e5ad,_0x14fbb0),_0x4ab6e5=this[_0x52ea95(0xbaa)][_0x52ea95(0x3bd)]['get'](_0x10f984);_0x4ab6e5&&(this[_0x52ea95(0x413)](_0x4ab6e5,_0x10cb87),this[_0x52ea95(0xbaa)][_0x52ea95(0x3bd)]['delete'](_0x10f984));}[_0x227435(0x413)](_0x525e9f,{source:_0x34997c,destination:_0x36c317}){const _0x323f91=_0x227435;_0x525e9f[_0x323f91(0xab3)](_0x34997c),_0x525e9f[_0x323f91(0x6c3)](_0x36c317);}[_0x227435(0x2c4)](_0x173f8c){const _0x5d5f72=_0x227435;this[_0x5d5f72(0xbaa)]['subscriptions'][_0x5d5f72(0x3e7)]((_0xeede31,_0x2f8f00)=>{_0x2f8f00['endsWith'](_0x173f8c)&&this['closeSubscription'](_0xeede31,_0x2f8f00);});}}class _0x231c9c{[_0x227435(0x22a)];[_0x227435(0xb9c)];[_0x227435(0x8ac)]=new Map();['subscriptionRequestsQueue']=_0x1c147e(new _0x5cc66c(this['requestSubscriptionAction']['bind'](this),()=>_0x2674de['wait'](0x64)),!0x0);[_0x227435(0x52d)]=new Map();['maps'];[_0x227435(0x2f3)]=new Map();constructor(_0x4ad4ae,_0x16dae6){const _0xf6d10a=_0x227435;this['configs']=_0x4ad4ae,this[_0xf6d10a(0xb9c)]=_0x16dae6,this['maps']=new _0x27d96b(({source:_0xea9f11,destination:_0x1699e2})=>_0x8b2ba(_0x1699e2,_0xea9f11));}[_0x227435(0x2c1)](_0x2a21a3,_0x3025f0){const _0x57f036=_0x227435,_0x29122c=this[_0x57f036(0x33b)](_0x2a21a3)&&this[_0x57f036(0x8b8)](_0x3025f0)?new _0x1978ae(_0x2a21a3,_0x3025f0):new _0x4c5f60(_0x2a21a3,_0x3025f0);this[_0x57f036(0xbaa)][_0x57f036(0x2c1)](_0x217b14[_0x57f036(0x457)],_0x29122c),this['configs']['mediator'][_0x57f036(0x282)](_0x29122c);}[_0x227435(0x204)](_0x569850,_0x541ff8,_0x778ea7=''){const _0x5232e3=_0x227435,_0x1a28f4={'contentType':_0x541ff8,'label':_0x569850,'remoteId':_0x778ea7},_0x3c4ca0=_0x44fbb8(_0x217b14[_0x5232e3(0x457)],_0x1a28f4),_0x38b08f=this['maps'][_0x5232e3(0x9ec)][_0x5232e3(0x441)](_0x3c4ca0);_0x38b08f&&this[_0x5232e3(0xb20)](_0x38b08f,_0x3c4ca0);}[_0x227435(0x283)](_0x42cf1f){const _0x4fcd1e=_0x227435;this[_0x4fcd1e(0xc81)](_0x42cf1f);}[_0x227435(0xa88)]({label:_0x44f6a3,ownerId:_0x48e363,trackKinds:_0xb80923,params:_0x2856ac}){const _0x444137=_0x227435;this[_0x444137(0xa7f)](_0x44f6a3,_0x48e363,_0xb80923,_0x2856ac);}[_0x227435(0xbb2)]({ownerId:_0x575198,label:_0x195cef,params:_0x10afe3}){const _0xa69faf=_0x227435,{subscriptionLabel:_0x212448}=this[_0xa69faf(0x719)](_0x195cef,_0x575198),_0xd01ad0=this['getMediaSubscription'](_0x212448);_0xd01ad0&&_0xd01ad0['update'](_0x575198,_0x10afe3);}[_0x227435(0x43a)]({ownerId:_0x58ff99,label:_0x585cde,trackKinds:_0x31358f,remainingTracks:_0x597578}){const _0x342301=_0x227435,_0x2597eb=_0x44fbb8(_0x217b14[_0x342301(0x457)],{'contentType':_0x2bba8e['ContentType'][_0x342301(0x663)],'label':_0x585cde,'remoteId':_0x58ff99});this[_0x342301(0x60d)](_0x2597eb);const _0x53020b=this[_0x342301(0x8ac)][_0x342301(0x441)](_0x2597eb);_0x53020b&&(this[_0x342301(0x22a)][_0x342301(0x3c9)][_0x342301(0x75d)](_0x53020b),this[_0x342301(0x8ac)][_0x342301(0x3df)](_0x2597eb));const {parts:_0x2a6af4,subscriptionLabel:_0x375aa6}=this['getSubscriptionLabel'](_0x585cde,_0x58ff99),_0x480de2=this[_0x342301(0xc19)](_0x375aa6);_0x480de2&&(_0x480de2[_0x342301(0x46f)](_0x58ff99,_0x597578,_0x31358f),0x0===_0x597578&&this['removeSubscription'](_0x2a6af4[_0x342301(0x40a)],_0x2a6af4[_0x342301(0x1ed)],_0x2a6af4[_0x342301(0x963)]));}[_0x227435(0x6e2)](_0x440a1c,{label:_0x23f45f,ownerId:_0x43169a,trackKinds:_0x7c2907,streamId:_0x2af45d,params:_0x240c58}){const _0x2111a4=_0x227435,_0x5458d3=_0x44fbb8(_0x217b14[_0x2111a4(0x457)],{'contentType':_0x2bba8e[_0x2111a4(0x97c)][_0x2111a4(0x663)],'label':_0x2af45d,'remoteId':_0x440a1c}),_0x15605d=this[_0x2111a4(0xbaa)][_0x2111a4(0x9ec)]['get'](_0x5458d3);if(!(_0x15605d&&_0x15605d instanceof _0x1978ae))throw new _0x82cd08(_0x82cd08[_0x2111a4(0xab8)][_0x2111a4(0x397)],{'label':_0x5458d3,'ownerId':_0x43169a});this[_0x2111a4(0xb20)](_0x15605d,_0x5458d3),this[_0x2111a4(0xa7f)](_0x23f45f,_0x43169a,_0x7c2907,_0x240c58);}[_0x227435(0x7cc)](_0x5980b6,_0x41342b){const _0x26ea02=_0x227435,{label:_0x415fc9,ownerId:_0x1b454e,trackKinds:_0x486ec9,params:_0x3de8bd}=_0x41342b,_0x53f292=_0x44fbb8(_0x217b14['Incoming'],{'contentType':_0x2bba8e['ContentType'][_0x26ea02(0x663)],'label':_0x415fc9,'remoteId':_0x1b454e});if(!this[_0x26ea02(0x8ac)][_0x26ea02(0xac9)](_0x53f292))throw new _0x82cd08(_0x82cd08['codes']['SubscriptionRequestDoesNotExist'],{'label':_0x53f292,'ownerId':_0x1b454e,'streamId':_0x41342b['streamId'],'requests':this[_0x26ea02(0x8ac)]});const _0x23ce46=this[_0x26ea02(0x8ac)]['get'](_0x53f292);if(_0x486ec9[_0x26ea02(0xbfb)]===_0x23ce46[_0x26ea02(0xaeb)]()[_0x26ea02(0xbfb)]&&_0x486ec9[_0x26ea02(0xb81)](_0x48fb3b=>_0x23ce46[_0x26ea02(0xaeb)]()[_0x26ea02(0x771)](_0x48fb3b)))try{const _0x1c8bb7=_0x23ce46[_0x26ea02(0x8b1)](_0x5980b6,_0x41342b);if(!_0x1c8bb7)return;this['subscribe'](_0x1c8bb7,_0x1b454e,_0x415fc9,_0x53f292,_0x486ec9);}catch(_0x2353be){return void this[_0x26ea02(0x766)](_0x415fc9,_0x1b454e,_0x486ec9,_0x3de8bd);}}[_0x227435(0xa2d)](_0x25fc5a,{label:_0x1d27f2,ownerId:_0x50f3e5,trackKinds:_0x450a70}){const _0x18ad02=_0x227435,_0x207368=this[_0x18ad02(0x22a)][_0x18ad02(0x3c9)][_0x18ad02(0xb24)](_0x50f3e5,_0x1d27f2);if(!_0x207368)return;const _0x302af1=_0x207368[_0x18ad02(0x83d)](),_0x17a7c5=_0x207368['getSubscribedTracks']();_0x17a7c5[_0x18ad02(0x2fd)](_0x45f4e3=>_0x450a70[_0x18ad02(0x771)](_0x45f4e3))&&this[_0x18ad02(0x513)](_0x25fc5a,_0x1d27f2,_0x302af1,_0x50f3e5,_0x17a7c5);}['handleContentRemoteMediaStreamTrackFail']({label:_0xe51995,providerId:_0x463173,ownerId:_0x3021af,streamId:_0x33fad6,trackKinds:_0x3e5adb}){const _0x165344=_0x227435;this[_0x165344(0x513)](_0x463173,_0xe51995,_0x33fad6,_0x3021af,_0x3e5adb);}[_0x227435(0x2eb)](_0x311216){const _0x13ef93=_0x227435;for(const _0x55e70a of this[_0x13ef93(0x2f3)][_0x13ef93(0xbc7)]()){const {streamLabel:_0x2c3848,ownerId:_0x3dcc8c,trackKinds:_0x1e613d,params:_0x324244}=_0x55e70a;if(!_0x3dcc8c||!_0x1e613d||!_0x2c3848)return;this[_0x13ef93(0xa85)][_0x13ef93(0x91f)]({'label':_0x2c3848,'ownerId':_0x3dcc8c,'trackKinds':_0x1e613d,'params':_0x324244,'remoteId':_0x311216});}}['removeSubscriptionsForNode'](_0x502fc2){const _0x47d60c=_0x227435;this[_0x47d60c(0xbaa)][_0x47d60c(0x9ec)]['forEach']((_0x52af7f,_0x19e8f0)=>{const _0x290b0b=_0x47d60c;if(_0x19e8f0['endsWith'](_0x502fc2)){if(_0x52af7f['destination'][_0x290b0b(0x9b5)]()===_0x2bba8e['ContentType']['Media']){const _0x12a0a0=_0x52af7f[_0x290b0b(0x6bc)];if(_0x12a0a0['getSubscribedTracks']()[_0x290b0b(0xbfb)]>0x0){const _0x4c5f47={'type':_0x11acfe[_0x290b0b(0x65f)],'label':_0x12a0a0[_0x290b0b(0x9a2)](),'ownerId':_0x12a0a0[_0x290b0b(0xa93)](),'trackKinds':_0x12a0a0['getSubscribedTracks']()};return void this['handleSubscriptionMediaStreamUnavailable'](_0x502fc2,_0x4c5f47);}}this[_0x290b0b(0xb20)](_0x52af7f,_0x19e8f0);}});}[_0x227435(0xa42)](){const _0x519a18=_0x227435;this[_0x519a18(0xbaa)][_0x519a18(0x9ec)][_0x519a18(0x3e7)](this['closeSubscription'][_0x519a18(0x5ad)](this));}['subscribe'](_0x5c35bd,_0x5cc54b,_0x3c1370,_0x1f8d53,_0xd7785b){const _0x1156e9=_0x227435,_0x4eb868=this[_0x1156e9(0x22a)][_0x1156e9(0x3c9)]['getConnection'](_0x5c35bd[_0x1156e9(0x32f)]),_0x42ac40=this[_0x1156e9(0x22a)][_0x1156e9(0x3c9)][_0x1156e9(0xb24)](_0x5cc54b,_0x3c1370);this['clearSubscriptionRequestTimeout'](_0x1f8d53),this[_0x1156e9(0x8ac)]['has'](_0x1f8d53)&&(this[_0x1156e9(0x22a)][_0x1156e9(0x3c9)]['unregisterSystemSource'](this[_0x1156e9(0x8ac)]['get'](_0x1f8d53)),this['subscriptionRequests'][_0x1156e9(0x3df)](_0x1f8d53)),this[_0x1156e9(0x97e)](_0x5c35bd,_0x5cc54b,_0x3c1370,_0x42ac40),_0x42ac40['setInternalId'](_0x5c35bd[_0x1156e9(0x411)]),_0x42ac40[_0x1156e9(0x3b6)](_0x5c35bd[_0x1156e9(0x32f)]);const _0xe1dc98=_0x8b2ba(_0x42ac40,_0x4eb868),_0x28fad3=_0x44fbb8(_0x217b14[_0x1156e9(0x457)],_0xe1dc98);this['maps'][_0x1156e9(0x9ec)]['has'](_0x28fad3)||this[_0x1156e9(0x2c1)](_0x4eb868,_0x42ac40);const _0x10f942=this[_0x1156e9(0xbaa)][_0x1156e9(0x9ec)][_0x1156e9(0x441)](_0x28fad3);if(!(_0x10f942&&_0x10f942 instanceof _0x1978ae))throw new _0x82cd08(_0x82cd08[_0x1156e9(0xab8)]['SubscriptionRequestDoesNotExist'],{'label':_0x1f8d53,'ownerId':_0x5cc54b});_0x1822ee[_0x1156e9(0x68c)]('subscription',{'clusterId':this['configs'][_0x1156e9(0x7f8)],'nodeId':this[_0x1156e9(0x22a)][_0x1156e9(0xc26)][_0x1156e9(0xc22)](),'nodeType':this[_0x1156e9(0x22a)][_0x1156e9(0xc26)][_0x1156e9(0x649)],'data':{'subscriptionLabel':_0x28fad3,'chosenAnswer':_0x5c35bd}}),this['chosenAnswers'][_0x1156e9(0x9b4)](_0x28fad3,_0x5c35bd),_0x10f942[_0x1156e9(0x214)](_0x5cc54b,_0xd7785b,_0x5c35bd[_0x1156e9(0x95a)]);}['removeRemoteStreamSubscription']({ownerId:_0x1ebede,label:_0x49e977}){const _0x5e5c0c=_0x227435,_0xca764c=this[_0x5e5c0c(0x22a)]['mediator'][_0x5e5c0c(0xb24)](_0x1ebede,_0x49e977),[_0x3479a4,_0x5d63c6]=Array[_0x5e5c0c(0x218)](this[_0x5e5c0c(0xbaa)][_0x5e5c0c(0x9ec)][_0x5e5c0c(0xc67)]())[_0x5e5c0c(0x5b4)](([_0x4e9e03,_0x2d861b])=>-0x1!==_0x4e9e03[_0x5e5c0c(0x202)](_0xca764c[_0x5e5c0c(0x83d)]()));return this['closeSubscription'](_0x5d63c6,_0x3479a4);}[_0x227435(0xb20)](_0x310028,_0x1e2cef){const _0x351593=_0x227435;this[_0x351593(0x22a)][_0x351593(0x3c9)][_0x351593(0x75d)](_0x310028),this[_0x351593(0xbaa)][_0x351593(0xb20)](_0x310028,_0x1e2cef);}['isMediaSource'](_0x228eb9){const _0x53fa49=_0x227435;return _0x228eb9[_0x53fa49(0x99e)]()[_0x53fa49(0x771)](_0x2bba8e[_0x53fa49(0x97c)][_0x53fa49(0x663)]);}[_0x227435(0x8b8)](_0x359229){const _0x14fdcc=_0x227435;return _0x359229['getContentType']()===_0x2bba8e[_0x14fdcc(0x97c)][_0x14fdcc(0x663)];}async[_0x227435(0x766)](_0x1015ff,_0x43d568,_0x45549a,_0x2549c7){const _0x5478f8=_0x227435;await _0x2674de[_0x5478f8(0xa9d)](0x3e8);const _0x5c7d39=_0x44fbb8(_0x217b14[_0x5478f8(0x457)],{'contentType':_0x2bba8e[_0x5478f8(0x97c)][_0x5478f8(0x663)],'label':_0x1015ff,'remoteId':_0x43d568});this[_0x5478f8(0x60d)](_0x5c7d39);const _0x4e8263=this[_0x5478f8(0x8ac)]['get'](_0x5c7d39);if(!_0x4e8263)throw new _0x82cd08(_0x82cd08['codes'][_0x5478f8(0x397)],{'label':_0x5c7d39,'ownerId':_0x43d568});const _0x5e658c=this[_0x5478f8(0x22a)][_0x5478f8(0x3c9)][_0x5478f8(0x210)](_0x187091=>_0x187091['isConnected']()),_0x772c68=this[_0x5478f8(0x22a)][_0x5478f8(0x3c9)][_0x5478f8(0x804)](this['configs']['localNode'][_0x5478f8(0xc22)](),_0x43d568);_0x4e8263['reset'](_0x5e658c['map'](_0x22abb9=>_0x22abb9['getRemoteId']()),_0x772c68);try{_0x4e8263[_0x5478f8(0x60b)](this[_0x5478f8(0x22a)]['localNode']['getId'](),_0x43d568,_0x1015ff,_0x45549a,_0x2549c7),this[_0x5478f8(0xb2a)](_0x1015ff,_0x43d568,_0x45549a,_0x2549c7,_0x5c7d39,_0x4e8263);}catch(_0x560ac2){this[_0x5478f8(0xa85)][_0x5478f8(0x91f)]({'label':_0x1015ff,'ownerId':_0x43d568,'trackKinds':_0x45549a,'params':_0x2549c7});}}['requestSubscription'](_0x2709f8,_0x3c4f00,_0x230755,_0x4fd0b5){const _0x4925e3=_0x227435;this[_0x4925e3(0xa85)]['push']({'label':_0x2709f8,'ownerId':_0x3c4f00,'trackKinds':_0x230755,'params':_0x4fd0b5});}['requestSubscriptionAction']({label:_0x14af06,ownerId:_0x18daf4,trackKinds:_0x26f2a7,params:_0x513448,remoteId:_0x175f85}){const _0x3d6ec1=_0x227435;if(!this[_0x3d6ec1(0x22a)][_0x3d6ec1(0x3c9)][_0x3d6ec1(0xb24)](_0x18daf4,_0x14af06))return;if(!this[_0x3d6ec1(0x22a)]['mediator']['getLocalNode']()['getRank']())throw new Error('Local\x20node\x20rank\x20is\x20not\x20set');if(_0x175f85){const _0x5a0e3d=this[_0x3d6ec1(0x22a)][_0x3d6ec1(0x3c9)][_0x3d6ec1(0x304)]()[_0x3d6ec1(0x5b4)](_0x15d4fe=>_0x15d4fe[_0x3d6ec1(0xc22)]()===_0x175f85),_0x38750d=_0x5a0e3d?.[_0x3d6ec1(0x604)]();if(!_0x5a0e3d||!_0x38750d)throw new Error(_0x3d6ec1(0x793));const _0x46b5d8=this[_0x3d6ec1(0x22a)][_0x3d6ec1(0x3c9)][_0x3d6ec1(0x304)]()[_0x3d6ec1(0x5b4)](_0xfdeabe=>_0xfdeabe[_0x3d6ec1(0xc22)]()===_0x18daf4),_0x2244df=_0x46b5d8?.[_0x3d6ec1(0x604)]();if(!_0x46b5d8||!_0x2244df)throw new Error('Missing\x20owner\x20node\x20or\x20rank');const _0x156e86=this[_0x3d6ec1(0x2f3)]['get'](_0x14af06);if(_0x156e86){const _0x4972d5=this[_0x3d6ec1(0x22a)]['mediator'][_0x3d6ec1(0x304)]()[_0x3d6ec1(0x5b4)](_0x291910=>_0x291910[_0x3d6ec1(0xc22)]()===_0x156e86[_0x3d6ec1(0x32f)]),_0x1d2eb9=_0x4972d5?.['getRank']();if(!_0x4972d5||!_0x1d2eb9)throw new Error('Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank');if(Math['abs'](_0x1d2eb9-_0x2244df)<Math[_0x3d6ec1(0x20b)](_0x38750d-_0x2244df))return;}}const _0xacb19c=this[_0x3d6ec1(0x22a)][_0x3d6ec1(0x3c9)][_0x3d6ec1(0x210)](_0x2442d5=>_0x2442d5[_0x3d6ec1(0x2cc)]()&&(!_0x175f85||_0x2442d5['getRemoteId']()===_0x175f85));if(!_0xacb19c[_0x3d6ec1(0xbfb)]||0x0===_0xacb19c[_0x3d6ec1(0xbfb)])throw new Error(_0x3d6ec1(0x612));const _0x3b97e3=this['configs']['mediator'][_0x3d6ec1(0x804)](this['configs']['localNode'][_0x3d6ec1(0xc22)](),_0x18daf4),_0x1cff9e=_0x44fbb8(_0x217b14[_0x3d6ec1(0x457)],{'contentType':_0x2bba8e['ContentType']['Media'],'label':_0x14af06,'remoteId':_0x18daf4});if(this['subscriptionRequests'][_0x3d6ec1(0xac9)](_0x1cff9e)){if(_0x175f85)throw new Error(_0x3d6ec1(0x739));const _0x4f44e4=this[_0x3d6ec1(0x8ac)][_0x3d6ec1(0x441)](_0x1cff9e)[_0x3d6ec1(0xaeb)]();if(_0x4f44e4[_0x3d6ec1(0xbfb)]===_0x26f2a7[_0x3d6ec1(0xbfb)]&&_0x4f44e4[_0x3d6ec1(0xb81)](_0x4db2f6=>_0x26f2a7[_0x3d6ec1(0x771)](_0x4db2f6)))return;this[_0x3d6ec1(0x22a)][_0x3d6ec1(0x3c9)][_0x3d6ec1(0x75d)](this[_0x3d6ec1(0x8ac)][_0x3d6ec1(0x441)](_0x1cff9e)),this[_0x3d6ec1(0x8ac)][_0x3d6ec1(0x3df)](_0x1cff9e),_0x26f2a7=Array[_0x3d6ec1(0x218)](new Set(_0x26f2a7['concat'](_0x4f44e4))),this[_0x3d6ec1(0x60d)](_0x1cff9e);}const _0x56f020=new _0x73d416(_0xacb19c['map'](_0x4b0754=>_0x4b0754['getRemoteId']()),_0x3b97e3,this['maxDistance'],_0x26f2a7);this[_0x3d6ec1(0x22a)]['mediator']['registerSystemSource'](_0x56f020),this[_0x3d6ec1(0x8ac)][_0x3d6ec1(0x9b4)](_0x1cff9e,_0x56f020),_0x56f020[_0x3d6ec1(0x60b)](this[_0x3d6ec1(0x22a)][_0x3d6ec1(0xc26)][_0x3d6ec1(0xc22)](),_0x18daf4,_0x14af06,_0x26f2a7,_0x513448),this[_0x3d6ec1(0xb2a)](_0x14af06,_0x18daf4,_0x26f2a7,_0x513448,_0x1cff9e,_0x56f020);}[_0x227435(0x60d)](_0x2d777d){const _0x57547a=_0x227435;this['subscriptionRequestTimeouts'][_0x57547a(0xac9)](_0x2d777d)&&(clearTimeout(this['subscriptionRequestTimeouts']['get'](_0x2d777d)),this[_0x57547a(0x52d)][_0x57547a(0x3df)](_0x2d777d));}[_0x227435(0xb2a)](_0x175a51,_0x13bac1,_0x13eb4a,_0x2c0602,_0xf9ad15,_0x419704){const _0x399e38=_0x227435;this[_0x399e38(0x60d)](_0xf9ad15),this[_0x399e38(0x52d)][_0x399e38(0x9b4)](_0xf9ad15,setTimeout(()=>{const _0x40fb01=_0x399e38;this['subscriptionRequestTimeouts'][_0x40fb01(0x3df)](_0xf9ad15);try{const _0x4928f1=_0x419704['chooseAnswer']();this[_0x40fb01(0x214)](_0x4928f1,_0x13bac1,_0x175a51,_0xf9ad15,_0x13eb4a);}catch(_0x3f145){this[_0x40fb01(0x766)](_0x175a51,_0x13bac1,_0x13eb4a,_0x2c0602);}},0x7d0));}[_0x227435(0x513)](_0x3ea85f,_0x4c7de5,_0x1832c2,_0x4bff98,_0x46a8d9){const _0x4aa880=_0x227435,{subscriptionLabel:_0x289c51}=this[_0x4aa880(0x719)](_0x4c7de5,_0x4bff98),_0x4fd41d=this[_0x4aa880(0xc19)](_0x289c51),_0x455c53=_0x4fd41d?.[_0x4aa880(0x95a)];_0x4fd41d&&(_0x4fd41d['unsubscribe'](_0x4bff98,0x0),this[_0x4aa880(0x204)](_0x1832c2,_0x2bba8e[_0x4aa880(0x97c)][_0x4aa880(0x663)],_0x3ea85f)),this['requestSubscription'](_0x4c7de5,_0x4bff98,_0x46a8d9,_0x455c53);}[_0x227435(0xc19)](_0x56826e){const _0x38e993=_0x227435,_0x3f841e=this[_0x38e993(0xbaa)][_0x38e993(0x9ec)][_0x38e993(0x441)](_0x56826e);if(_0x3f841e){if(!(_0x3f841e instanceof _0x1978ae))throw new _0x82cd08(_0x82cd08['codes'][_0x38e993(0x8be)],{'label':_0x56826e,'subscription':_0x3f841e});return _0x3f841e;}}[_0x227435(0x719)](_0x4ce69a,_0x5a7838){const _0xc66976=_0x227435,_0x52cca7=this['getPartsForSubscriptionLabel'](_0x4ce69a,_0x5a7838);return{'parts':_0x52cca7,'subscriptionLabel':_0x44fbb8(_0x217b14[_0xc66976(0x457)],_0x52cca7)};}[_0x227435(0x5af)](_0x486c86,_0x5339ec){const _0x308b99=_0x227435,_0x173512=this['configs'][_0x308b99(0x3c9)]['getRemoteMediaStream'](_0x5339ec,_0x486c86),_0x1e5bc9=_0x173512['getProviderId']();if(!_0x1e5bc9)throw new _0x82cd08(_0x82cd08['codes'][_0x308b99(0x6f0)],{'label':_0x486c86,'streamId':_0x173512[_0x308b99(0x83d)](),'ownerId':_0x5339ec,'localId':this[_0x308b99(0x22a)][_0x308b99(0xc26)][_0x308b99(0xc22)]()});return{'contentType':_0x2bba8e[_0x308b99(0x97c)][_0x308b99(0x663)],'label':_0x173512['getInternalStreamId'](),'remoteId':_0x1e5bc9};}[_0x227435(0x97e)](_0x1492bf,_0x41d135,_0x3a3b12,_0x371fa6){const _0x490f71=_0x227435,_0x45d4a5=_0x371fa6[_0x490f71(0x6f6)]();if(_0x45d4a5&&_0x45d4a5!==_0x1492bf[_0x490f71(0x32f)]){const {parts:_0x1827f3,subscriptionLabel:_0x2ae60e}=this[_0x490f71(0x719)](_0x3a3b12,_0x41d135),_0x4c4cfe=this[_0x490f71(0xc19)](_0x2ae60e);_0x4c4cfe&&(_0x4c4cfe['unsubscribe'](_0x41d135,0x0),this['removeSubscription'](_0x1827f3['label'],_0x1827f3['contentType'],_0x1827f3[_0x490f71(0x963)]));}}}class _0x27a284{['configs'];[_0x227435(0x37e)];['maps'];constructor(_0x20b13c,_0x3a521d){const _0x2668f6=_0x227435;this[_0x2668f6(0x22a)]=_0x20b13c,this['maxOutgoingSubscriptions']=_0x3a521d,this['maps']=new _0x27d96b(({source:_0x2c6197,destination:_0x22b9a4})=>_0x8b2ba(_0x2c6197,_0x22b9a4));}[_0x227435(0x2c1)](_0x5d7b3f,_0xf71aa7){const _0x4dbcc5=_0x227435,_0x6b6c80={'source':_0x5d7b3f,'destination':_0xf71aa7};this[_0x4dbcc5(0xbaa)]['createSubscription'](_0x217b14[_0x4dbcc5(0x5a4)],_0x6b6c80);}[_0x227435(0x204)](_0x267532,_0x32d105,_0xbc08ac=''){const _0x55c1f3=_0x227435,_0x3caa4b={'contentType':_0x32d105,'label':_0x267532,'remoteId':_0xbc08ac};this[_0x55c1f3(0xbaa)]['removeSubscription'](_0x3caa4b,_0x217b14[_0x55c1f3(0x5a4)]);}[_0x227435(0x30d)](_0x1c0d38,_0x2e3835){const _0x8bb07d=_0x227435;let _0x27ed79;_0x27ed79=_0x2e3835[_0x8bb07d(0x67b)]!==this[_0x8bb07d(0x22a)][_0x8bb07d(0xc26)][_0x8bb07d(0xc22)]()?this[_0x8bb07d(0x22a)]['mediator'][_0x8bb07d(0xb24)](_0x2e3835[_0x8bb07d(0x67b)],_0x2e3835[_0x8bb07d(0x40a)]):this[_0x8bb07d(0x22a)][_0x8bb07d(0x3c9)][_0x8bb07d(0x439)](_0x2e3835[_0x8bb07d(0x40a)]);const _0x3c185a=_0x44fbb8(_0x217b14[_0x8bb07d(0x5a4)],{'contentType':_0x2bba8e[_0x8bb07d(0x97c)][_0x8bb07d(0x663)],'label':_0x27ed79['getShareableStreamId'](),'remoteId':_0x1c0d38}),_0x2f169f=this[_0x8bb07d(0x532)]();if(!this[_0x8bb07d(0xbaa)][_0x8bb07d(0x9ec)][_0x8bb07d(0xac9)](_0x3c185a)&&_0x2f169f>=this[_0x8bb07d(0x37e)])return{'type':_0x11acfe[_0x8bb07d(0x1f3)],'ownerId':_0x2e3835[_0x8bb07d(0x67b)],'label':_0x2e3835[_0x8bb07d(0x40a)],'streamId':_0x27ed79[_0x8bb07d(0xc7e)](),'trackKinds':_0x2e3835[_0x8bb07d(0x8c1)],'params':_0x2e3835[_0x8bb07d(0x95a)]};_0x27ed79 instanceof _0x37c2d0&&!_0x27ed79['isSubscribed'](_0x2e3835[_0x8bb07d(0x8c1)])&&_0x27ed79[_0x8bb07d(0x214)](_0x2e3835[_0x8bb07d(0x95a)]),this[_0x8bb07d(0xbaa)][_0x8bb07d(0x9ec)]['has'](_0x3c185a)||this[_0x8bb07d(0x2c1)](_0x27ed79[_0x8bb07d(0x946)](_0x1c0d38),this['configs'][_0x8bb07d(0x3c9)][_0x8bb07d(0x655)](_0x1c0d38));}[_0x227435(0x3a0)](_0x5daec7,{label:_0x58bf7e,ownerId:_0x387d01,remainingTracks:_0x46e968}){const _0x335cae=_0x227435;if(_0x46e968>0x0)return;let _0xf99be2;_0xf99be2=_0x387d01!==this[_0x335cae(0x22a)]['localNode'][_0x335cae(0xc22)]()?this[_0x335cae(0x22a)][_0x335cae(0x3c9)][_0x335cae(0xb24)](_0x387d01,_0x58bf7e):this[_0x335cae(0x22a)][_0x335cae(0x3c9)][_0x335cae(0x439)](_0x58bf7e);const _0x3a7093=_0xf99be2['getShareableStreamId'](),_0x39af90=_0x2bba8e['ContentType'][_0x335cae(0x663)];this[_0x335cae(0x204)](_0x3a7093,_0x39af90,_0x5daec7);}[_0x227435(0x43a)](_0x3df380,{label:_0x525fe9,ownerId:_0x577317,trackKinds:_0x37682d}){const _0x1cbfac=_0x227435;if(_0x3df380!==_0x48df1c)return[];let _0x4af944=[];for(const _0x49389a of this['maps']['subscriptions']){const {source:_0x5603b0,destination:_0x5ec3c3}=_0x49389a[0x1];_0x5603b0[_0x1cbfac(0x9a2)]()===_0x525fe9&&_0x5603b0['getOwnerId']()===_0x577317&&_0x4af944[_0x1cbfac(0x91f)]({'sourceId':this[_0x1cbfac(0x22a)]['localNode']['getId'](),'destinationIds':[_0x5ec3c3[_0x1cbfac(0xba7)]()],'messageType':_0x37ab1a['Subscription'],'content':{'type':_0x11acfe[_0x1cbfac(0x65f)],'label':_0x525fe9,'ownerId':_0x577317,'trackKinds':_0x37682d}});}return _0x4af944;}[_0x227435(0xc56)](_0x580419,_0x1d1c18){const _0x49a8f3=_0x227435,{label:_0x26d469,ownerId:_0x59f826,trackKinds:_0x2e44c4,params:_0x399521}=_0x1d1c18,{hasTracks:_0x1c5f3a,streamId:_0x477b22,hasResolution:_0xbc9f8,distance:_0x3ecf79,subscriptionLabel:_0x1cbe72}=this[_0x49a8f3(0x311)](_0x580419,_0x1d1c18);let _0x27a516=this[_0x49a8f3(0x532)]()<this[_0x49a8f3(0x37e)]&&(_0x1c5f3a||_0x3ecf79>-0x1)?_0x11acfe[_0x49a8f3(0x6b4)]:_0x11acfe[_0x49a8f3(0x2b3)];const _0x17569d=_0x3ecf79<0x0?0xa:_0x3ecf79;let _0x6f5152=_0x1c5f3a?_0xbc9f8?_0x17569d:_0x17569d+0x0:_0x17569d+0xa;return _0x1cbe72&&this['maps'][_0x49a8f3(0x9ec)][_0x49a8f3(0xac9)](_0x1cbe72)&&(_0x1c5f3a&&(_0x6f5152=0x0),_0x27a516=_0x11acfe[_0x49a8f3(0x6b4)]),{'type':_0x27a516,'cost':_0x6f5152,'distance':_0x3ecf79,'label':_0x26d469,'ownerId':_0x59f826,'streamId':_0x477b22,'trackKinds':_0x2e44c4,'params':_0x399521};}[_0x227435(0x283)](_0x3d435a){const _0x834589=_0x227435,{label:_0x4b16c6,ownerId:_0x25889e}=_0x3d435a,_0x1eb893=this['configs'][_0x834589(0x3c9)][_0x834589(0xb24)](_0x25889e,_0x4b16c6);this[_0x834589(0xbaa)][_0x834589(0x9ec)][_0x834589(0x3e7)](_0x22abfd=>{const _0x2a25e1=_0x834589;if(_0x22abfd[_0x2a25e1(0xa9b)][_0x2a25e1(0x83d)]()===_0x1eb893['getShareableStreamId']()){const _0x339bb8=_0x22abfd[_0x2a25e1(0x6bc)];this[_0x2a25e1(0x204)](_0x1eb893[_0x2a25e1(0xc7e)](),_0x2bba8e['ContentType'][_0x2a25e1(0x663)],_0x339bb8[_0x2a25e1(0xba7)]());}});}['handleContentCloseMediaStream']({label:_0x5648f5}){const _0x404486=_0x227435,_0x2485ae=this[_0x404486(0x22a)][_0x404486(0x3c9)][_0x404486(0x439)](_0x5648f5);this[_0x404486(0xbaa)][_0x404486(0x9ec)][_0x404486(0x3e7)](_0x43cd03=>{const _0x267062=_0x404486;if(_0x43cd03[_0x267062(0xa9b)][_0x267062(0x83d)]()===_0x2485ae[_0x267062(0xc7e)]()){const _0x482cf1=_0x43cd03[_0x267062(0x6bc)];this['removeSubscription'](_0x2485ae[_0x267062(0xc7e)](),_0x2bba8e['ContentType'][_0x267062(0x663)],_0x482cf1[_0x267062(0xba7)]());}});}[_0x227435(0x2c4)](_0xbdb7b){const _0x1bb025=_0x227435;this[_0x1bb025(0xbaa)][_0x1bb025(0x2c4)](_0xbdb7b);}[_0x227435(0xa42)](){const _0x175542=_0x227435;this[_0x175542(0xbaa)][_0x175542(0x9ec)][_0x175542(0x3e7)](this['closeSubscription'][_0x175542(0x5ad)](this));}[_0x227435(0xb20)](_0x5125d,_0x5f1551){const _0x1fbd37=_0x227435;this['maps'][_0x1fbd37(0xb20)](_0x5125d,_0x5f1551);}['getSubscriptionInfo'](_0x4b2bf8,{label:_0x3d0bf0,ownerId:_0x403d89,trackKinds:_0x23235a,params:_0x274e52}){const _0x7e3d53=_0x227435;if(_0x403d89!==this['configs']['localNode'][_0x7e3d53(0xc22)]()){const _0x2d5113=this[_0x7e3d53(0x22a)][_0x7e3d53(0x3c9)]['getRemoteMediaStream'](_0x403d89,_0x3d0bf0);return _0x2d5113&&_0x2d5113[_0x7e3d53(0x6f6)]()!==_0x4b2bf8?{'hasTracks':_0x2d5113[_0x7e3d53(0x4b0)](_0x23235a),'hasResolution':this[_0x7e3d53(0x364)](_0x2d5113['getResolution'](),_0x274e52),'streamId':_0x2d5113[_0x7e3d53(0xc7e)](),'distance':this[_0x7e3d53(0x22a)][_0x7e3d53(0x3c9)][_0x7e3d53(0x804)](_0x4b2bf8,_0x403d89),'subscriptionLabel':_0x44fbb8(_0x217b14[_0x7e3d53(0x5a4)],{'contentType':_0x2bba8e['ContentType']['Media'],'label':_0x2d5113[_0x7e3d53(0xc7e)](),'remoteId':_0x4b2bf8})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x46cfad=this['configs'][_0x7e3d53(0x3c9)]['getLocalMediaStream'](_0x3d0bf0);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x46cfad[_0x7e3d53(0xc7e)](),'distance':0x0,'subscriptionLabel':_0x44fbb8(_0x217b14[_0x7e3d53(0x5a4)],{'contentType':_0x2bba8e[_0x7e3d53(0x97c)][_0x7e3d53(0x663)],'label':_0x46cfad[_0x7e3d53(0xc7e)](),'remoteId':_0x4b2bf8})};}['getNumberOutgoingSubscriptions'](){const _0x23e4be=_0x227435;return Array[_0x23e4be(0x218)](this[_0x23e4be(0xbaa)]['subscriptions'][_0x23e4be(0xc67)]())['filter'](([_0x34f794,{source:_0x43f862}])=>_0x34f794[_0x23e4be(0x60c)](_0x217b14['Outgoing'])&&_0x43f862[_0x23e4be(0x9b5)]()===_0x2bba8e[_0x23e4be(0x97c)][_0x23e4be(0x663)])[_0x23e4be(0xbfb)];}[_0x227435(0x364)](_0x508cdc,_0x5fc6c4){const _0x1f9e7a=_0x227435;if(!_0x5fc6c4||!_0x5fc6c4[_0x1f9e7a(0x4c1)]||_0x1f9e7a(0xa44)==typeof _0x5fc6c4['video']||!_0x5fc6c4[_0x1f9e7a(0x4c1)][_0x1f9e7a(0x34b)])return!0x0;const {width:_0x2de9b7,height:_0x23fcb5}=_0x5fc6c4[_0x1f9e7a(0x4c1)]['maxResolution'];return _0x508cdc[_0x1f9e7a(0x478)]>=_0x2de9b7&&_0x508cdc['height']>=_0x23fcb5;}}class _0x430494{['configs'];[_0x227435(0x37e)];['maxDistance'];[_0x227435(0x45d)];['incomingManager'];[_0x227435(0x460)];constructor(_0x524b36,_0x7ca594,_0x469755){const _0x30cd6b=_0x227435;this[_0x30cd6b(0x22a)]=_0x524b36,this[_0x30cd6b(0x37e)]=_0x7ca594,this['maxDistance']=_0x469755,this['configs'][_0x30cd6b(0x3c9)][_0x30cd6b(0x282)](this),this[_0x30cd6b(0x9ba)]=new _0x231c9c(this[_0x30cd6b(0x22a)],this[_0x30cd6b(0xb9c)]),this['outgoingManager']=new _0x27a284(this[_0x30cd6b(0x22a)],this[_0x30cd6b(0x37e)]);}[_0x227435(0xc6d)](_0x9e0c8f){const _0xbbe692=_0x227435;this[_0xbbe692(0x45d)]=_0x9e0c8f;}[_0x227435(0x71a)](){const _0x41ea16=_0x227435;delete this[_0x41ea16(0x45d)];}[_0x227435(0xa42)](){const _0x3311f3=_0x227435;this[_0x3311f3(0x9ba)][_0x3311f3(0xa42)](),this[_0x3311f3(0x460)][_0x3311f3(0xa42)](),this[_0x3311f3(0x22a)][_0x3311f3(0x3c9)][_0x3311f3(0x75d)](this);}[_0x227435(0x618)](_0xf1c0d3,_0x40dfdf){const _0x5460eb=_0x227435;this['incomingManager'][_0x5460eb(0x2c1)](_0xf1c0d3,_0x40dfdf);}[_0x227435(0xa5f)](_0x312841,_0x337703){this['outgoingManager']['createSubscription'](_0x312841,_0x337703);}[_0x227435(0x70c)](_0xd580fe,_0x4df68d,_0x123a3=''){const _0x40da87=_0x227435;this[_0x40da87(0x9ba)][_0x40da87(0x204)](_0xd580fe,_0x4df68d,_0x123a3);}[_0x227435(0x4ac)](_0x3530ff,_0x28ae5b,_0x1341bc=''){const _0x4c6a93=_0x227435;try{this[_0x4c6a93(0x460)][_0x4c6a93(0x204)](_0x3530ff,_0x28ae5b,_0x1341bc);}catch(_0x5c29d0){if(_0x5c29d0 instanceof _0x82cd08&&_0x5c29d0['code']===_0x82cd08[_0x4c6a93(0xab8)][_0x4c6a93(0x8be)])return;}}[_0x227435(0x8b1)](_0x26afe0){const _0x517ddd=_0x227435;switch(_0x26afe0[_0x517ddd(0xae3)]['type']){case _0x11acfe[_0x517ddd(0x482)]:this['handleSubscriptionSubscribeMediaStream'](_0x26afe0[_0x517ddd(0xab9)],_0x26afe0[_0x517ddd(0xae3)]);break;case _0x11acfe[_0x517ddd(0xc79)]:this[_0x517ddd(0x460)][_0x517ddd(0x3a0)](_0x26afe0[_0x517ddd(0xab9)],_0x26afe0[_0x517ddd(0xae3)]);break;case _0x11acfe[_0x517ddd(0x433)]:this['handleSubscriptionNeedMediaStream'](_0x26afe0['sourceId'],_0x26afe0[_0x517ddd(0xae3)]);break;case _0x11acfe[_0x517ddd(0x1f3)]:this[_0x517ddd(0x9ba)][_0x517ddd(0x6e2)](_0x26afe0[_0x517ddd(0xab9)],_0x26afe0['content']);break;case _0x11acfe[_0x517ddd(0x6b4)]:case _0x11acfe[_0x517ddd(0x2b3)]:this[_0x517ddd(0x9ba)][_0x517ddd(0x7cc)](_0x26afe0['sourceId'],_0x26afe0[_0x517ddd(0xae3)]);break;case _0x11acfe['MediaStreamUnavailable']:this[_0x517ddd(0x9ba)][_0x517ddd(0xa2d)](_0x26afe0['sourceId'],_0x26afe0[_0x517ddd(0xae3)]);}}['handleContentSystemEvents'](_0x125a92){const _0x55589a=_0x227435;switch(_0x125a92[_0x55589a(0xae3)][_0x55589a(0x649)]){case _0x593bd0['UnpublishMediaStream']:this[_0x55589a(0x9ba)][_0x55589a(0x283)](_0x125a92[_0x55589a(0xae3)]),this[_0x55589a(0x460)]['handleContentUnpublishMediaStream'](_0x125a92[_0x55589a(0xae3)]);break;case _0x593bd0[_0x55589a(0x482)]:this[_0x55589a(0x9ba)][_0x55589a(0xa88)](_0x125a92[_0x55589a(0xae3)]);break;case _0x593bd0[_0x55589a(0x2cb)]:this[_0x55589a(0x9ba)][_0x55589a(0xbb2)](_0x125a92[_0x55589a(0xae3)]);break;case _0x593bd0[_0x55589a(0xc79)]:this['handleContentUnsubscribeMediaStream'](_0x125a92['sourceId'],_0x125a92[_0x55589a(0xae3)]);break;case _0x593bd0['CloseMediaStream']:this[_0x55589a(0x460)][_0x55589a(0x27e)](_0x125a92[_0x55589a(0xae3)]);break;case _0x593bd0[_0x55589a(0x5ab)]:this[_0x55589a(0x359)](_0x125a92[_0x55589a(0xae3)]['label'],_0x2bba8e[_0x55589a(0x97c)]['PubSub']);break;case _0x593bd0['CloseObjectStoreBucket']:this[_0x55589a(0x359)](_0x125a92[_0x55589a(0xae3)][_0x55589a(0x40a)],_0x2bba8e[_0x55589a(0x97c)][_0x55589a(0x9cf)]);break;case _0x593bd0[_0x55589a(0xb53)]:this[_0x55589a(0x359)](_0x125a92[_0x55589a(0xae3)][_0x55589a(0x40a)],_0x2bba8e[_0x55589a(0x97c)][_0x55589a(0xa75)]);break;case _0x593bd0[_0x55589a(0xc03)]:this[_0x55589a(0x359)](_0x125a92[_0x55589a(0xae3)][_0x55589a(0x40a)],_0x2bba8e['ContentType']['KeyValueDatabase']);break;case _0x593bd0[_0x55589a(0xc3b)]:this[_0x55589a(0x359)](_0x125a92[_0x55589a(0xae3)][_0x55589a(0x40a)],_0x2bba8e[_0x55589a(0x97c)][_0x55589a(0x561)]);break;case _0x593bd0['CloseGraphDatabase']:this[_0x55589a(0x359)](_0x125a92[_0x55589a(0xae3)][_0x55589a(0x40a)],_0x2bba8e[_0x55589a(0x97c)][_0x55589a(0x1e3)]);break;case _0x593bd0[_0x55589a(0x4ba)]:case _0x593bd0[_0x55589a(0x2c7)]:this[_0x55589a(0x359)](_0x125a92[_0x55589a(0xae3)]['label'],_0x2bba8e['ContentType'][_0x55589a(0x55e)]);break;case _0x593bd0[_0x55589a(0x25a)]:this[_0x55589a(0x9ba)]['handleContentRemoteMediaStreamTrackFail'](_0x125a92[_0x55589a(0xae3)]);}}[_0x227435(0x2f1)]({content:_0x5a08ba}){const _0x578e4e=_0x227435;_0x5a08ba[_0x578e4e(0x649)]===_0x4026a7[_0x578e4e(0x728)]&&this['removeSubscriptionsForNode'](_0x5a08ba);}[_0x227435(0x525)](_0x3cf954){const _0x4596e7=_0x227435;_0x3cf954[_0x4596e7(0xae3)][_0x4596e7(0x649)]===_0x3e0203['OptimizationConnectionSuccess']&&this[_0x4596e7(0x9ba)][_0x4596e7(0x2eb)](_0x3cf954[_0x4596e7(0xab9)]);}[_0x227435(0x43a)](_0x5b611e,_0x1ef0f0){const _0x32c54b=_0x227435;this[_0x32c54b(0x9ba)][_0x32c54b(0x43a)](_0x1ef0f0),this['outgoingManager'][_0x32c54b(0x43a)](_0x5b611e,_0x1ef0f0)[_0x32c54b(0x3e7)](_0x1527db=>this['systemTopic'][_0x32c54b(0xb22)](_0x1527db));}[_0x227435(0x30d)](_0x4f89fd,_0x5e0c94){const _0x39dd14=_0x227435,_0x26b7e8=this[_0x39dd14(0x460)][_0x39dd14(0x30d)](_0x4f89fd,_0x5e0c94);if(_0x26b7e8&&(this[_0x39dd14(0x45d)][_0x39dd14(0xb22)]({'sourceId':this[_0x39dd14(0x22a)][_0x39dd14(0xc26)][_0x39dd14(0xc22)](),'destinationIds':[_0x4f89fd],'messageType':_0x37ab1a[_0x39dd14(0x30b)],'content':_0x26b7e8}),_0x26b7e8['type']===_0x11acfe[_0x39dd14(0x1f3)]))throw new _0x242caf('Restart\x20NeedMediaStream');}['handleSubscriptionNeedMediaStream'](_0x29cbd9,_0x3eac25){const _0x5be8e1=_0x227435,_0x9bd934=this['outgoingManager'][_0x5be8e1(0xc56)](_0x29cbd9,_0x3eac25);this[_0x5be8e1(0x45d)][_0x5be8e1(0xb22)]({'sourceId':this['configs']['localNode'][_0x5be8e1(0xc22)](),'destinationIds':[_0x29cbd9],'messageType':_0x37ab1a[_0x5be8e1(0x30b)],'content':_0x9bd934});}['handleCloseContent'](_0x2d46f6,_0xcab168){const _0x1c5174=_0x227435;this[_0x1c5174(0x70c)](_0x2d46f6,_0xcab168),this[_0x1c5174(0x4ac)](_0x2d46f6,_0xcab168);}['removeSubscriptionsForNode']({id:_0x54040a}){const _0x2eb1bb=_0x227435;this[_0x2eb1bb(0x9ba)][_0x2eb1bb(0x2c4)](_0x54040a),this[_0x2eb1bb(0x460)]['removeSubscriptionsForNode'](_0x54040a);}}class _0x20dcc8{[_0x227435(0x40a)];[_0x227435(0xc84)]=_0x1aa7b3();constructor(){this['label']=0x0;}['getLabel'](){return this['label'];}[_0x227435(0x9b5)](){const _0x2647ab=_0x227435;return _0x2bba8e[_0x2647ab(0x97c)][_0x2647ab(0xa47)];}[_0x227435(0xbf7)](_0x359789){_0x359789['registerSystemPublisher'](this);}[_0x227435(0xab3)](_0x4bb5fb){const _0x2f676a=_0x227435;_0x4bb5fb[_0x2f676a(0x71a)]();}[_0x227435(0xb22)](_0x1c1c3a){const _0x38e6b8=_0x227435;_0x1822ee[_0x38e6b8(0xbf2)](_0xbbb80e[_0x38e6b8(0xb3b)],_0x38e6b8(0x543),_0x1c1c3a[_0x38e6b8(0xab9)],_0x1c1c3a),this[_0x38e6b8(0xc84)][_0x38e6b8(0xb22)]({'topicLabel':this[_0x38e6b8(0x40a)],'contentType':_0x2bba8e['ContentType']['Data'],'uuid':_0x1c1c3a[_0x38e6b8(0x4ca)]??(0x0,_0x4821d1['v4'])(),'recipients':_0x1c1c3a[_0x38e6b8(0xc00)]??[],..._0x1c1c3a});}[_0x227435(0x214)](_0x1fa4b1){const _0x3802a7=_0x227435;return this[_0x3802a7(0xc84)][_0x3802a7(0x214)](_0x1fa4b1);}}class _0x1927af{[_0x227435(0x21e)];[_0x227435(0x8f6)]=[];[_0x227435(0x638)];[_0x227435(0x36b)]=new Map();[_0x227435(0x28c)]=_0x1aa7b3();constructor(_0x31957d){const _0x2bd3b1=_0x227435;this[_0x2bd3b1(0x21e)]=_0x31957d,this[_0x2bd3b1(0x638)]=(this[_0x2bd3b1(0x21e)][_0x2bd3b1(0x47d)]-0x2*this[_0x2bd3b1(0x21e)][_0x2bd3b1(0x681)])/0x2,this[_0x2bd3b1(0x8f6)][_0x2bd3b1(0x91f)]({'start':0x1,'end':this[_0x2bd3b1(0xac6)](0x1,0x1)-0x1});for(let _0x449c18=0x0;_0x449c18<this['maxLayer'];++_0x449c18)this['ranges']['push']({'start':this['getNextTargetRank'](0x1,_0x449c18+0x1),'end':this[_0x2bd3b1(0xac6)](0x1,_0x449c18+0x2)-0x1});}[_0x227435(0xac6)](_0x9bb058,_0x44743e=0x1){const _0x1a5ac6=_0x227435;let _0x1475ee=this[_0x1a5ac6(0x21e)][_0x1a5ac6(0xb9c)]-this[_0x1a5ac6(0x21e)]['minConnections'],_0x216622=0x1;for(let _0x2f784c=0x1;_0x2f784c<_0x44743e;++_0x2f784c)_0x1475ee*=this[_0x1a5ac6(0x21e)][_0x1a5ac6(0xb9c)]-this['options'][_0x1a5ac6(0x681)]-_0x2f784c,_0x216622*=this[_0x1a5ac6(0x21e)][_0x1a5ac6(0xb9c)]-this[_0x1a5ac6(0x21e)][_0x1a5ac6(0x681)]-_0x2f784c+0x1;return _0x1475ee*this[_0x1a5ac6(0x21e)][_0x1a5ac6(0x681)]+_0x9bb058-_0x216622;}[_0x227435(0x1f8)](_0x214c8d){const _0x568b27=_0x227435;let _0x4460ab=0x0;for(;this['ranges'][_0x4460ab][_0x568b27(0x565)]<_0x214c8d;)_0x4460ab+=0x1;return _0x4460ab;}[_0x227435(0x344)](){const _0x2392eb=_0x227435;return this[_0x2392eb(0x21e)][_0x2392eb(0x681)];}[_0x227435(0x5d6)](){const _0x2e3b7a=_0x227435;return this[_0x2e3b7a(0x21e)][_0x2e3b7a(0x47d)];}[_0x227435(0xb19)](){const _0x53d795=_0x227435;return this[_0x53d795(0x21e)]['maxDistance'];}[_0x227435(0x304)](){const _0x523725=_0x227435;return this[_0x523725(0x36b)];}[_0x227435(0x8a4)](_0x127f96,_0x320a31){const _0x3dc913=_0x227435;this['remoteNodes'][_0x3dc913(0x9b4)](_0x127f96,_0x320a31),this[_0x3dc913(0x28c)][_0x3dc913(0xb22)]();}[_0x227435(0x56c)](_0x34c064){const _0x228e47=_0x227435;this[_0x228e47(0x36b)][_0x228e47(0x3df)](_0x34c064),this[_0x228e47(0x28c)][_0x228e47(0xb22)]();}[_0x227435(0x6ae)](_0x32a085){const _0x2e8c3b=_0x227435;return this[_0x2e8c3b(0x36b)]['has'](_0x32a085);}[_0x227435(0x47b)](_0x45a44c){const _0x41393a=_0x227435;return this[_0x41393a(0x36b)][_0x41393a(0x441)](_0x45a44c);}[_0x227435(0xc31)](_0x37f1f8,_0x538e12){const _0x3903b9=_0x227435,_0x328326=this[_0x3903b9(0x47b)](_0x538e12)?.[_0x3903b9(0x604)]()??0x0;return _0x37f1f8[_0x3903b9(0x7b9)](_0x58346d=>this[_0x3903b9(0x47b)](_0x58346d))[_0x3903b9(0x276)](_0x298f71=>void 0x0!==_0x298f71)[_0x3903b9(0xbd7)]((_0x2df665,_0x50830f)=>Math[_0x3903b9(0x20b)](_0x328326-(_0x2df665&&_0x2df665[_0x3903b9(0x604)]()||0x1/0x0))-Math['abs'](_0x328326-(_0x50830f&&_0x50830f['getRank']()||0x1/0x0)))[_0x3903b9(0x7b9)](_0x2a0f6b=>_0x2a0f6b[_0x3903b9(0xc22)]());}[_0x227435(0x582)](_0x3d6f36){const _0x43d229=_0x227435;return this[_0x43d229(0x28c)][_0x43d229(0x214)](_0x3d6f36);}}class _0x1ec41b{[_0x227435(0x2ae)];[_0x227435(0x7f8)];[_0x227435(0x8f9)];[_0x227435(0x980)];[_0x227435(0x21e)];[_0x227435(0x22a)];[_0x227435(0x8da)];[_0x227435(0x6bd)];[_0x227435(0x23e)];[_0x227435(0x8dc)];['statsManager'];[_0x227435(0xb71)];[_0x227435(0x916)];['nodeManager'];[_0x227435(0x443)];[_0x227435(0x45d)]=new _0x20dcc8();[_0x227435(0x2b6)];['localNode'];constructor(_0x2774fc,_0x2a12a4,_0x452883,_0xe9fbc0,_0x238577,_0x24002d,_0xa18466){const _0x1aa7e2=_0x227435;switch(this[_0x1aa7e2(0x2ae)]=_0x2774fc,this[_0x1aa7e2(0x7f8)]=_0x2a12a4,this['authNode']=_0x452883,this[_0x1aa7e2(0x980)]=_0xe9fbc0,this[_0x1aa7e2(0x21e)]=_0x238577,this[_0x1aa7e2(0x22a)]=_0x24002d,this[_0x1aa7e2(0x8da)]=_0xa18466,_0x452883[_0x1aa7e2(0x649)]){case _0x2bba8e[_0x1aa7e2(0x6e1)][_0x1aa7e2(0x35c)]:this[_0x1aa7e2(0xc26)]=new _0x550ebf(_0x452883[_0x1aa7e2(0xc22)](),_0x452883[_0x1aa7e2(0xc0e)](),_0x452883[_0x1aa7e2(0x625)]());break;case _0x2bba8e[_0x1aa7e2(0x6e1)][_0x1aa7e2(0x5ac)]:default:this[_0x1aa7e2(0xc26)]=new _0x26fa0c(_0x452883[_0x1aa7e2(0xc22)]());}const _0x5b4936=this[_0x1aa7e2(0x98c)]();this[_0x1aa7e2(0x443)]=new _0x1927af(this['options']),this['contentManager']=new _0x569cff(_0x5b4936,this['options']),this['connectionManager']=new _0x3f5a6a(_0x5b4936,this[_0x1aa7e2(0x980)],this[_0x1aa7e2(0x443)],this[_0x1aa7e2(0x22a)]['iceServers'],this[_0x1aa7e2(0x21e)]),this['subscriptionManager']=new _0x430494(_0x5b4936,this['options']['maxOutgoingSubscriptions'],this[_0x1aa7e2(0x443)][_0x1aa7e2(0xb19)]()),this[_0x1aa7e2(0x390)]=new _0xf94f53(_0x5b4936),this[_0x1aa7e2(0xb71)]=new _0x1a1fb1(_0x5b4936),this[_0x1aa7e2(0x916)]=new _0x5df1a4(_0x5b4936),this[_0x1aa7e2(0x86a)]=new _0x11fa9a(_0x5b4936,this[_0x1aa7e2(0x443)]),this[_0x1aa7e2(0x2b6)]=this[_0x1aa7e2(0x809)]();}[_0x227435(0xbd2)](){const _0x109541=_0x227435,_0x3abc3e=this[_0x109541(0x98c)]();this[_0x109541(0x23e)]=new _0x3f5a6a(_0x3abc3e,this[_0x109541(0x980)],this[_0x109541(0x443)],this['configs'][_0x109541(0xbca)],this['options']),this['subscriptionManager']=new _0x430494(_0x3abc3e,this['options'][_0x109541(0x37e)],this[_0x109541(0x443)]['getMaxDistance']()),this[_0x109541(0x390)]=new _0xf94f53(_0x3abc3e),this[_0x109541(0xb71)]=new _0x1a1fb1(_0x3abc3e),this[_0x109541(0x916)]=new _0x5df1a4(_0x3abc3e),this['nodeManager']=new _0x11fa9a(_0x3abc3e,this[_0x109541(0x443)]);const _0xbf2f44=this[_0x109541(0x23e)]['getConnectionGroup']();this['contentManager'][_0x109541(0x361)]()[_0x109541(0x3e7)](_0x5e51bb=>{const _0x447fb0=_0x109541;this[_0x447fb0(0x8dc)][_0x447fb0(0xa5f)](_0x5e51bb,_0xbf2f44),this[_0x447fb0(0x8dc)][_0x447fb0(0x618)](_0xbf2f44,_0x5e51bb),_0x5e51bb[_0x447fb0(0x278)]();}),this[_0x109541(0x6bd)][_0x109541(0xc3c)]()[_0x109541(0x3e7)](_0x3839e8=>{const _0x55a1ff=_0x109541;this[_0x55a1ff(0x8dc)][_0x55a1ff(0xa5f)](_0x3839e8,_0xbf2f44),this[_0x55a1ff(0x8dc)][_0x55a1ff(0x618)](_0xbf2f44,_0x3839e8),_0x3839e8[_0x55a1ff(0x278)](),_0x3839e8[_0x55a1ff(0xa23)]();}),this[_0x109541(0x6bd)][_0x109541(0xa29)]()[_0x109541(0x3e7)](_0x1c3435=>{const _0x3a2f91=_0x109541;this[_0x3a2f91(0x8dc)][_0x3a2f91(0xa5f)](_0x1c3435,_0xbf2f44),this[_0x3a2f91(0x8dc)][_0x3a2f91(0x618)](_0xbf2f44,_0x1c3435),_0x1c3435[_0x3a2f91(0x278)](),this[_0x3a2f91(0x607)](_0x1c3435);}),this[_0x109541(0x6bd)][_0x109541(0x548)]()[_0x109541(0x3e7)](_0x4a1859=>{const _0x5b3df2=_0x109541;this[_0x5b3df2(0x8dc)][_0x5b3df2(0xa5f)](_0x4a1859,_0xbf2f44),this[_0x5b3df2(0x8dc)][_0x5b3df2(0x618)](_0xbf2f44,_0x4a1859),_0x4a1859[_0x5b3df2(0x278)]();}),this['contentManager'][_0x109541(0x20c)]()[_0x109541(0x3e7)](_0x206276=>{const _0x264b80=_0x109541;this['subscriptionManager']['createOutgoingSubscription'](_0x206276,_0xbf2f44),this[_0x264b80(0x8dc)][_0x264b80(0x618)](_0xbf2f44,_0x206276),_0x206276['reset']();}),this['contentManager'][_0x109541(0x1fb)]()[_0x109541(0x3e7)](_0x4a742f=>{const _0x4d502e=_0x109541;this[_0x4d502e(0x8dc)][_0x4d502e(0xa5f)](_0x4a742f,_0xbf2f44),this['subscriptionManager'][_0x4d502e(0x618)](_0xbf2f44,_0x4a742f),_0x4a742f[_0x4d502e(0x278)]();}),this['contentManager'][_0x109541(0x7cd)]()[_0x109541(0x3e7)](_0x43f9c2=>{const _0x2c8c90=_0x109541;this[_0x2c8c90(0x8dc)]['createOutgoingSubscription'](_0x43f9c2,_0xbf2f44),this[_0x2c8c90(0x8dc)][_0x2c8c90(0x618)](_0xbf2f44,_0x43f9c2),_0x43f9c2[_0x2c8c90(0x278)]();}),this['systemTopicUnsubscribe']=this[_0x109541(0x809)]();}['registerSystemSource'](_0x17720a){const _0x2b0316=_0x227435;try{this['systemTopic'][_0x2b0316(0xbf7)](_0x17720a);}catch(_0x53fb1d){this[_0x2b0316(0x2d0)](_0x53fb1d,{});}}[_0x227435(0x75d)](_0x4078ed){const _0x38dfe1=_0x227435;try{this['systemTopic'][_0x38dfe1(0xab3)](_0x4078ed);}catch(_0x389f6a){this['handleError'](_0x389f6a,{});}}['createConnection'](_0x32d8d2,_0x4ab5e7){const _0x27fe74=_0x227435;return this[_0x27fe74(0x23e)]['createConnection'](_0x32d8d2,_0x4ab5e7);}[_0x227435(0x655)](_0x4c2310){const _0xfbfe6e=_0x227435;try{return this[_0xfbfe6e(0x23e)][_0xfbfe6e(0x655)](_0x4c2310);}catch(_0x409bf2){throw this[_0xfbfe6e(0x2d0)](_0x409bf2,{});}}[_0x227435(0x210)](_0x1ed65c){const _0x289838=_0x227435;try{return this['connectionManager'][_0x289838(0x210)](_0x1ed65c);}catch(_0x317cde){throw this['handleError'](_0x317cde,{});}}[_0x227435(0xb24)](_0x347f57,_0x4c1c61){const _0x563e13=_0x227435;try{return this[_0x563e13(0x6bd)][_0x563e13(0x4ce)](_0x14d9a7=>_0x14d9a7[_0x563e13(0xa93)]()===_0x347f57&&_0x14d9a7[_0x563e13(0x9a2)]()===_0x4c1c61)[0x0];}catch(_0x3947da){throw this[_0x563e13(0x2d0)](_0x3947da,{});}}[_0x227435(0x439)](_0x382445){const _0x513526=_0x227435;try{return this[_0x513526(0x6bd)][_0x513526(0xb92)](_0x1fdb0d=>_0x1fdb0d['getLabel']()===_0x382445)[0x0];}catch(_0x5ddc99){throw this[_0x513526(0x2d0)](_0x5ddc99,{});}}[_0x227435(0x71f)]=(..._0x3b75f8)=>{const _0x449312=_0x227435;try{return this[_0x449312(0x8da)]['emit'](..._0x3b75f8);}catch(_0x37ddba){throw this[_0x449312(0x2d0)](_0x37ddba,{});}};[_0x227435(0x904)](_0x29e975){const _0x692f40=_0x227435;try{this['statsManager'][_0x692f40(0x847)](_0x29e975);}catch(_0x919fc0){throw this[_0x692f40(0x2d0)](_0x919fc0,{});}}[_0x227435(0x5de)](_0x1c030f){const _0x3c9c41=_0x227435;try{this[_0x3c9c41(0x390)][_0x3c9c41(0x43f)](_0x1c030f);}catch(_0x121d9f){throw this['handleError'](_0x121d9f,{});}}[_0x227435(0xb4a)](_0x12ef1f){const _0x1e12a5=_0x227435;return this[_0x1e12a5(0x23e)]['collectStats'](_0x12ef1f);}async[_0x227435(0x8c7)](){const _0x54f754=_0x227435;try{await this[_0x54f754(0x23e)]['initialize']();const _0x3fb8d2=await this[_0x54f754(0x86a)]['discover']();for(const _0x3a13eb of _0x3fb8d2)this[_0x54f754(0x23e)][_0x54f754(0x9f5)](_0x3a13eb);}catch(_0x4ac7ef){throw this[_0x54f754(0x2d0)](_0x4ac7ef,{});}}[_0x227435(0x810)](_0x3b6a2f){const _0x32c8de=_0x227435;this[_0x32c8de(0xc26)][_0x32c8de(0x649)]===_0x2bba8e[_0x32c8de(0x6e1)]['User']&&(this[_0x32c8de(0xc26)][_0x32c8de(0x7ae)](_0x3b6a2f[_0x32c8de(0x625)]()),this[_0x32c8de(0xc26)][_0x32c8de(0x3ec)](_0x3b6a2f[_0x32c8de(0xc0e)]()));}[_0x227435(0xa42)]({force:_0x2c1195=!0x1},_0x57c051=!0x1){const _0x4c0b74=_0x227435;if(_0x1822ee[_0x4c0b74(0x51e)](_0x4c0b74(0xa4d),{'clusterId':this[_0x4c0b74(0x7f8)],'nodeId':this[_0x4c0b74(0xc26)][_0x4c0b74(0xc22)](),'nodeType':this[_0x4c0b74(0xc26)][_0x4c0b74(0x649)]}),!_0x2c1195&&this[_0x4c0b74(0x23e)][_0x4c0b74(0x4e8)]())throw new _0x27b95d(_0x398751[_0x4c0b74(0x8fd)],_0x4c0b74(0x2d5));_0x1822ee[_0x4c0b74(0x79f)](),this[_0x4c0b74(0x2b6)](),this[_0x4c0b74(0x916)]['close'](),this[_0x4c0b74(0xb71)][_0x4c0b74(0xa42)](),this['statsManager'][_0x4c0b74(0xa42)](),this['subscriptionManager'][_0x4c0b74(0xa42)](),this[_0x4c0b74(0x23e)][_0x4c0b74(0xa42)](),this['contentManager'][_0x4c0b74(0xa42)](_0x57c051),this[_0x4c0b74(0x86a)][_0x4c0b74(0xa42)]();}[_0x227435(0xc78)](_0xda1a6b){const _0x1a2529=_0x227435;try{const _0x408c77=this[_0x1a2529(0x6bd)][_0x1a2529(0xc1f)](_0xda1a6b),_0x124587=this[_0x1a2529(0x23e)][_0x1a2529(0x56b)]();return this[_0x1a2529(0x8dc)][_0x1a2529(0xa5f)](_0x408c77,_0x124587),this[_0x1a2529(0x8dc)][_0x1a2529(0x618)](_0x124587,_0x408c77),_0x408c77;}catch(_0x15d19a){throw this['handleError'](_0x15d19a,{});}}async['openObjectStoreBucket'](_0x2e10f7,_0x21bfa1){const _0x5d362c=_0x227435;try{const _0x4cfca1=this['contentManager'][_0x5d362c(0x4d1)](_0x2e10f7,this[_0x5d362c(0x21e)]['objectStoreConnector'],_0x21bfa1),_0x569bb4=this['connectionManager'][_0x5d362c(0x56b)]();return this[_0x5d362c(0x8dc)][_0x5d362c(0xa5f)](_0x4cfca1,_0x569bb4),this[_0x5d362c(0x8dc)][_0x5d362c(0x618)](_0x569bb4,_0x4cfca1),await _0x4cfca1[_0x5d362c(0xa23)](),_0x4cfca1;}catch(_0x151862){throw this['handleError'](_0x151862,{});}}async[_0x227435(0xc24)](_0x465090,_0x2948f7){const _0x45fde5=_0x227435;try{if(!this[_0x45fde5(0x21e)]['externalStorageConnectors'])throw new _0x27b95d(_0x398751[_0x45fde5(0x7be)],_0x45fde5(0x5cf));if(!(this[_0x45fde5(0x8f9)]instanceof _0x1235b7))throw new _0x27b95d(_0x398751[_0x45fde5(0xbf6)],_0x45fde5(0x86b));const _0x47b3f2=this[_0x45fde5(0x21e)][_0x45fde5(0x856)][_0x45fde5(0x441)](_0x2948f7);if(!_0x47b3f2)throw new _0x27b95d(_0x398751['ExternalStorageConnectorsMissing'],'Missing\x20external\x20storage\x20connector');const _0x17b62c=this['contentManager']['createExternalStorageConnection'](_0x465090,_0x47b3f2),_0x58acff=this[_0x45fde5(0x23e)][_0x45fde5(0x56b)]();return this[_0x45fde5(0x8dc)][_0x45fde5(0xa5f)](_0x17b62c,_0x58acff),this[_0x45fde5(0x8dc)][_0x45fde5(0x618)](_0x58acff,_0x17b62c),await _0x17b62c[_0x45fde5(0xbd2)](),_0x17b62c;}catch(_0x134376){throw this[_0x45fde5(0x2d0)](_0x134376,{});}}async['openKeyValueDatabase'](_0x2373c5,_0x24782f,_0x5530ac){const _0x4ccbdd=_0x227435;try{_0x5530ac=_0x5530ac||this[_0x4ccbdd(0x21e)][_0x4ccbdd(0x429)];const _0x270f00=await this[_0x4ccbdd(0x6bd)][_0x4ccbdd(0x7d1)](_0x2373c5,_0x24782f,_0x5530ac),_0x3563bd=this['connectionManager'][_0x4ccbdd(0x56b)]();return this[_0x4ccbdd(0x8dc)][_0x4ccbdd(0xa5f)](_0x270f00,_0x3563bd),this[_0x4ccbdd(0x8dc)]['createIncomingSubscription'](_0x3563bd,_0x270f00),await _0x270f00[_0x4ccbdd(0xbd2)](),this[_0x4ccbdd(0x607)](_0x270f00),_0x270f00;}catch(_0x257c9c){throw this[_0x4ccbdd(0x2d0)](_0x257c9c,{});}}async[_0x227435(0x999)](_0xe6a922){const _0x2160d2=_0x227435;try{const _0x29fb62=await this[_0x2160d2(0x6bd)][_0x2160d2(0x58d)](_0xe6a922,this['graphService']),_0x4c390b=this[_0x2160d2(0x23e)]['getConnectionGroup']();return this[_0x2160d2(0x8dc)][_0x2160d2(0xa5f)](_0x29fb62,_0x4c390b),this[_0x2160d2(0x8dc)][_0x2160d2(0x618)](_0x4c390b,_0x29fb62),_0x29fb62[_0x2160d2(0xbd2)](),_0x29fb62;}catch(_0x3a98be){throw this[_0x2160d2(0x2d0)](_0x3a98be,{});}}async[_0x227435(0x8e3)](_0x19c8e3){const _0x48166b=_0x227435;throw new Error(_0x48166b(0xbea));}async['openGenerativeAIContext'](_0x1c32d8){const _0x3328a9=_0x227435;try{const _0x82e407=await this[_0x3328a9(0x6bd)][_0x3328a9(0x7a6)](_0x1c32d8,this[_0x3328a9(0x443)]),_0x380462=this[_0x3328a9(0x23e)][_0x3328a9(0x56b)]();return this['subscriptionManager'][_0x3328a9(0xa5f)](_0x82e407,_0x380462),this[_0x3328a9(0x8dc)]['createIncomingSubscription'](_0x380462,_0x82e407),_0x82e407[_0x3328a9(0xbd2)](),_0x82e407;}catch(_0x2e4110){throw console[_0x3328a9(0xc13)](_0x2e4110),this['handleError'](_0x2e4110,{});}}async[_0x227435(0x8d1)](_0x92e6e2){const _0xe04746=_0x227435;try{if(!(this[_0xe04746(0x21e)][_0xe04746(0x861)]&&this[_0xe04746(0x21e)][_0xe04746(0x367)]&&this['options'][_0xe04746(0x502)]&&this[_0xe04746(0x21e)][_0xe04746(0x991)]&&this[_0xe04746(0x21e)][_0xe04746(0x415)]))throw new _0x27b95d(_0x398751[_0xe04746(0xc07)],_0xe04746(0x944));if(!this[_0xe04746(0x22a)]['openaiApiKey'])throw new _0x27b95d(_0x398751[_0xe04746(0x81b)],_0xe04746(0x9df));const _0x1d6814=[];for(const [_0x1d2f52,_0x2fc7d8]of this[_0xe04746(0x21e)]['generativeAIWorkerConnectors']){let _0x3ffbe3;_0x1d2f52===_0x2bba8e[_0xe04746(0x3fa)][_0xe04746(0x72f)]&&(_0x3ffbe3=this[_0xe04746(0x22a)][_0xe04746(0x2ef)]),_0x1d2f52===_0x2bba8e[_0xe04746(0x3fa)]['Anthropic']&&(_0x3ffbe3=this[_0xe04746(0x22a)][_0xe04746(0x937)]),_0x1d2f52===_0x2bba8e['GenerativeAIEngineType'][_0xe04746(0xb4e)]&&(_0x3ffbe3=this[_0xe04746(0x22a)]['openrouterApiKey']),_0x1d2f52===_0x2bba8e[_0xe04746(0x3fa)][_0xe04746(0x783)]&&(_0x3ffbe3=this[_0xe04746(0x22a)]['runwayMLAPIKey']),_0x1d6814[_0xe04746(0x91f)](new _0x2fc7d8(_0x3ffbe3));}const _0x52a0b2=[];for(const [_0x59ee70,_0x50387f]of this[_0xe04746(0x21e)][_0xe04746(0x367)]){let _0x546cbb;_0x59ee70===_0x2bba8e[_0xe04746(0x3fa)]['OpenAI']&&(_0x546cbb=this[_0xe04746(0x22a)][_0xe04746(0x2ef)]),_0x59ee70===_0x2bba8e['GenerativeAIEngineType']['ElevenLabs']&&(_0x546cbb=this[_0xe04746(0x22a)][_0xe04746(0x65a)]),_0x52a0b2[_0xe04746(0x91f)](new _0x50387f(_0x546cbb));}const _0x872ee=new this[(_0xe04746(0x21e))][(_0xe04746(0x92a))](_0xe04746(0x782)),_0xa976a=new this[(_0xe04746(0x21e))][(_0xe04746(0x502))](),_0x2dcff3=new this[(_0xe04746(0x21e))][(_0xe04746(0x991))](this[_0xe04746(0x22a)]['openaiApiKey']),_0x21b1bd=new this[(_0xe04746(0x21e))][(_0xe04746(0x415))]();let _0x7f915,_0x2a78ad,_0x1a2753,_0x5f4188;if(this[_0xe04746(0x21e)][_0xe04746(0xb99)]){if(!this[_0xe04746(0x22a)][_0xe04746(0x851)])throw new _0x27b95d(_0x398751[_0xe04746(0x81b)],_0xe04746(0x701));_0x7f915=new this['options'][(_0xe04746(0xb99))](this['configs'][_0xe04746(0x851)]);}if(this['options'][_0xe04746(0xaee)]){if(!this[_0xe04746(0x22a)][_0xe04746(0x626)])throw new _0x27b95d(_0x398751['ApiKeyMissing'],'Missing\x20AI\x20search\x20API\x20key');_0x2a78ad=new this['options']['aiSearchConnector'](this[_0xe04746(0x22a)][_0xe04746(0x626)]);}if(this['options'][_0xe04746(0xbd0)]&&(_0x1a2753=new this['options'][(_0xe04746(0xbd0))]()),this[_0xe04746(0x21e)][_0xe04746(0xc4a)]){if(!this[_0xe04746(0x22a)][_0xe04746(0x5b6)])throw new _0x27b95d(_0x398751[_0xe04746(0x81b)],'Missing\x20RAG\x20API\x20key');_0x5f4188=new Map();for(const [_0x407542,_0x2cff15]of this[_0xe04746(0x21e)][_0xe04746(0xc4a)])_0x5f4188[_0xe04746(0x9b4)](_0x407542,new _0x2cff15(this[_0xe04746(0x22a)]['ragApiKey']));}return await this[_0xe04746(0x6bd)]['createGenerativeAIContextStandalone'](_0x92e6e2,_0x1d6814,_0x52a0b2,_0x872ee,_0xa976a,_0x2dcff3,_0x21b1bd,_0x7f915,_0x2a78ad,_0x1a2753,_0x5f4188,this[_0xe04746(0x22a)][_0xe04746(0x2ef)]);}catch(_0x567216){throw this[_0xe04746(0x2d0)](_0x567216,{});}}async['openGenerativeAIWorker'](_0x4f083a){const _0x81d4a4=_0x227435;try{if(!(this[_0x81d4a4(0x21e)][_0x81d4a4(0x861)]&&this[_0x81d4a4(0x21e)][_0x81d4a4(0x367)]&&this[_0x81d4a4(0x21e)][_0x81d4a4(0x502)]&&this['options'][_0x81d4a4(0x991)]&&this[_0x81d4a4(0x21e)][_0x81d4a4(0x415)]))throw new _0x27b95d(_0x398751[_0x81d4a4(0xc07)],'Missing\x20AI\x20worker\x20connector');if(!(this[_0x81d4a4(0x8f9)]instanceof _0x1235b7))throw new _0x27b95d(_0x398751['NodeInvalidType'],_0x81d4a4(0x86b));if(!this[_0x81d4a4(0x22a)][_0x81d4a4(0x2ef)])throw new _0x27b95d(_0x398751[_0x81d4a4(0x81b)],'Missing\x20OpenAI\x20API\x20key');const _0x452073=[];for(const [_0x123a42,_0x239ba9]of this[_0x81d4a4(0x21e)][_0x81d4a4(0x861)]){let _0xecc3c2;_0x123a42===_0x2bba8e[_0x81d4a4(0x3fa)][_0x81d4a4(0x72f)]&&(_0xecc3c2=this[_0x81d4a4(0x22a)]['openaiApiKey']),_0x123a42===_0x2bba8e[_0x81d4a4(0x3fa)][_0x81d4a4(0x892)]&&(_0xecc3c2=this['configs'][_0x81d4a4(0x937)]),_0x123a42===_0x2bba8e['GenerativeAIEngineType']['OpenRouter']&&(_0xecc3c2=this[_0x81d4a4(0x22a)][_0x81d4a4(0x8f5)]),_0x123a42===_0x2bba8e['GenerativeAIEngineType'][_0x81d4a4(0x783)]&&(_0xecc3c2=this[_0x81d4a4(0x22a)][_0x81d4a4(0x9ef)]),_0x452073[_0x81d4a4(0x91f)](new _0x239ba9(_0xecc3c2));}const _0x1b83a0=[];for(const [_0x5342f1,_0x4c06c2]of this[_0x81d4a4(0x21e)][_0x81d4a4(0x367)]){let _0x373b72;_0x5342f1===_0x2bba8e[_0x81d4a4(0x3fa)][_0x81d4a4(0x72f)]&&(_0x373b72=this[_0x81d4a4(0x22a)][_0x81d4a4(0x2ef)]),_0x5342f1===_0x2bba8e[_0x81d4a4(0x3fa)][_0x81d4a4(0x616)]&&(_0x373b72=this[_0x81d4a4(0x22a)]['elevenLabsApiKey']),_0x1b83a0[_0x81d4a4(0x91f)](new _0x4c06c2(_0x373b72));}const _0x28263b=new this['options']['objectStoreConnector'](_0x81d4a4(0x782)),_0x4f63d4=new this[(_0x81d4a4(0x21e))]['documentParserConnector'](),_0x134537=new this[(_0x81d4a4(0x21e))]['fileConnector'](this[_0x81d4a4(0x22a)][_0x81d4a4(0x2ef)]),_0x36d917=new this[(_0x81d4a4(0x21e))][(_0x81d4a4(0x415))]();let _0x13caee,_0x3e751e,_0x465eca,_0x31de6c;if(this[_0x81d4a4(0x21e)][_0x81d4a4(0xb99)]){if(!this[_0x81d4a4(0x22a)]['searchApiKey'])throw new _0x27b95d(_0x398751[_0x81d4a4(0x81b)],_0x81d4a4(0x701));_0x13caee=new this[(_0x81d4a4(0x21e))][(_0x81d4a4(0xb99))](this['configs'][_0x81d4a4(0x851)]);}if(this[_0x81d4a4(0x21e)][_0x81d4a4(0xaee)]){if(!this[_0x81d4a4(0x22a)]['aiSearchApiKey'])throw new _0x27b95d(_0x398751[_0x81d4a4(0x81b)],_0x81d4a4(0xbbe));_0x3e751e=new this[(_0x81d4a4(0x21e))][(_0x81d4a4(0xaee))](this['configs'][_0x81d4a4(0x626)]);}if(this[_0x81d4a4(0x21e)][_0x81d4a4(0xbd0)]&&(_0x465eca=new this[(_0x81d4a4(0x21e))]['queryFileConnector']()),this['options'][_0x81d4a4(0xc4a)]){if(!this['configs']['ragApiKey'])throw new _0x27b95d(_0x398751[_0x81d4a4(0x81b)],_0x81d4a4(0x506));_0x31de6c=new Map();for(const [_0x15c810,_0x5ba0d8]of this[_0x81d4a4(0x21e)]['ragConnectors'])_0x31de6c['set'](_0x15c810,new _0x5ba0d8(this[_0x81d4a4(0x22a)][_0x81d4a4(0x5b6)]));}const _0x2d1b65=await this['contentManager']['createGenerativeAIWorker'](_0x4f083a,this[_0x81d4a4(0x8f9)],_0x452073,_0x1b83a0,_0x28263b,_0x4f63d4,_0x134537,_0x36d917,_0x13caee,_0x3e751e,_0x465eca,_0x31de6c,this['configs']['openaiApiKey']),_0xa7badc=this[_0x81d4a4(0x23e)][_0x81d4a4(0x56b)]();this['subscriptionManager'][_0x81d4a4(0xa5f)](_0x2d1b65,_0xa7badc),this[_0x81d4a4(0x8dc)]['createIncomingSubscription'](_0xa7badc,_0x2d1b65);const _0x456036=this[_0x81d4a4(0x86a)][_0x81d4a4(0xa6b)]();return await _0x2d1b65['open'](0x0===_0x456036[_0x81d4a4(0xbfb)]||void 0x0),_0x2d1b65;}catch(_0x21129a){throw this[_0x81d4a4(0x2d0)](_0x21129a,{});}}['openGraphDatabase'](_0x4d1bd1){const _0x4b47f2=_0x227435;try{if(!this['options']['graphDatabaseConnector'])throw new _0x27b95d(_0x398751[_0x4b47f2(0x63e)],_0x4b47f2(0xaea));if(!(this[_0x4b47f2(0x8f9)]instanceof _0x1235b7))throw new _0x27b95d(_0x398751[_0x4b47f2(0xbf6)],'Node\x20is\x20not\x20an\x20agent');const _0x91d6c0=this[_0x4b47f2(0x6bd)][_0x4b47f2(0x5a7)](_0x4d1bd1,this[_0x4b47f2(0x21e)][_0x4b47f2(0x6b5)]),_0x14f831=this[_0x4b47f2(0x23e)]['getConnectionGroup']();return this['subscriptionManager'][_0x4b47f2(0xa5f)](_0x91d6c0,_0x14f831),this['subscriptionManager']['createIncomingSubscription'](_0x14f831,_0x91d6c0),_0x91d6c0;}catch(_0x1444fa){throw this[_0x4b47f2(0x2d0)](_0x1444fa,{});}}['openVectorDatabase'](_0x5be736){const _0x252579=_0x227435;try{if(!this[_0x252579(0x21e)][_0x252579(0xc17)])throw new _0x27b95d(_0x398751[_0x252579(0x377)],_0x252579(0x260));if(!(this[_0x252579(0x8f9)]instanceof _0x1235b7))throw new _0x27b95d(_0x398751[_0x252579(0xbf6)],'Node\x20is\x20not\x20an\x20agent');const _0x884202=this['contentManager']['createVectorDatabase'](_0x5be736,this[_0x252579(0x21e)][_0x252579(0xc17)]),_0x1f9f45=this[_0x252579(0x23e)][_0x252579(0x56b)]();return this[_0x252579(0x8dc)][_0x252579(0xa5f)](_0x884202,_0x1f9f45),this[_0x252579(0x8dc)]['createIncomingSubscription'](_0x1f9f45,_0x884202),_0x884202;}catch(_0x2bb89c){throw this['handleError'](_0x2bb89c,{});}}[_0x227435(0x361)](_0x5253ae){const _0x379632=_0x227435;try{return this[_0x379632(0x6bd)]['getPubSubTopics'](_0x5253ae);}catch(_0x26b7d8){throw this['handleError'](_0x26b7d8,{});}}['getObjectStoreBuckets'](_0x4d13d3){const _0x47b5ab=_0x227435;try{return this[_0x47b5ab(0x6bd)][_0x47b5ab(0xc3c)](_0x4d13d3);}catch(_0x47d322){throw this[_0x47b5ab(0x2d0)](_0x47d322,{});}}[_0x227435(0x5b0)](_0xd2933d){const _0x3f5897=_0x227435;try{return this['contentManager'][_0x3f5897(0x5b0)](_0xd2933d);}catch(_0x308d49){throw this[_0x3f5897(0x2d0)](_0x308d49,{});}}[_0x227435(0xa29)](_0x49b1b6){const _0x14a40f=_0x227435;try{return this[_0x14a40f(0x6bd)][_0x14a40f(0xa29)](_0x49b1b6);}catch(_0x44ab56){throw this[_0x14a40f(0x2d0)](_0x44ab56,{});}}[_0x227435(0x3cc)](_0x3683f2){const _0x4fd8b8=_0x227435;try{return this['contentManager'][_0x4fd8b8(0x3cc)](_0x3683f2);}catch(_0x4be944){throw this[_0x4fd8b8(0x2d0)](_0x4be944,{});}}['getGenerativeAIContextsStandalone'](_0x1475e2){const _0x2a04c5=_0x227435;try{return this[_0x2a04c5(0x6bd)]['getGenerativeAIContextsStandalone'](_0x1475e2);}catch(_0x3bb034){throw this['handleError'](_0x3bb034,{});}}['getGenerativeAIWorkers'](_0x5e4903){const _0x2cb59e=_0x227435;try{return this[_0x2cb59e(0x6bd)]['getGenerativeAIWorkers'](_0x5e4903);}catch(_0x136105){throw this[_0x2cb59e(0x2d0)](_0x136105,{});}}[_0x227435(0x7cd)](_0x498e27){const _0x1e45d4=_0x227435;try{return this[_0x1e45d4(0x6bd)][_0x1e45d4(0x7cd)](_0x498e27);}catch(_0x4df3e4){throw this[_0x1e45d4(0x2d0)](_0x4df3e4,{});}}[_0x227435(0x912)](_0x3c0c03,_0x3b5831){const _0x2c21f1=_0x227435;if(!this[_0x2c21f1(0x22a)][_0x2c21f1(0xaf4)][_0x2c21f1(0x771)](_0x3cca48[_0x2c21f1(0x78a)]))throw new _0x27b95d(_0x398751['FeatureNotEnabled'],_0x2c21f1(0x5cd));try{return this[_0x2c21f1(0x6bd)]['createLocalMediaStream'](_0x3c0c03,_0x3b5831);}catch(_0x22854c){throw this[_0x2c21f1(0x2d0)](_0x22854c,{});}}[_0x227435(0x666)](_0x325ea5,_0x431b33){const _0x2daa66=_0x227435;if(!this[_0x2daa66(0x22a)][_0x2daa66(0xaf4)]['includes'](_0x3cca48[_0x2daa66(0x78a)]))throw new _0x27b95d(_0x398751[_0x2daa66(0x7cb)],_0x2daa66(0x5cd));try{return this[_0x2daa66(0x6bd)][_0x2daa66(0x666)](_0x325ea5,_0x431b33);}catch(_0x11ff9a){throw this['handleError'](_0x11ff9a,{});}}[_0x227435(0xb92)](_0x56661e){const _0xc31767=_0x227435;if(!this[_0xc31767(0x22a)]['features'][_0xc31767(0x771)](_0x3cca48['MediaStream']))throw new _0x27b95d(_0x398751[_0xc31767(0x7cb)],'MediaStream\x20feature\x20not\x20enabled');try{return this['contentManager'][_0xc31767(0xb92)](_0x56661e);}catch(_0x3e9255){throw this[_0xc31767(0x2d0)](_0x3e9255,{});}}['getRemoteMediaStreams'](_0x427d69){const _0x466be5=_0x227435;if(!this[_0x466be5(0x22a)][_0x466be5(0xaf4)][_0x466be5(0x771)](_0x3cca48[_0x466be5(0x78a)]))throw new _0x27b95d(_0x398751[_0x466be5(0x7cb)],_0x466be5(0x5cd));try{return this[_0x466be5(0x6bd)][_0x466be5(0x4ce)](_0x427d69);}catch(_0x453d94){throw this[_0x466be5(0x2d0)](_0x453d94,{});}}[_0x227435(0x1fb)](_0x24006b){const _0x21f7d6=_0x227435;try{return this['contentManager'][_0x21f7d6(0x1fb)](_0x24006b);}catch(_0x280cc2){throw this[_0x21f7d6(0x2d0)](_0x280cc2,{});}}['getDistance'](_0x1fb9a9,_0x5150e4){const _0x53dba6=_0x227435;return this[_0x53dba6(0x86a)][_0x53dba6(0x804)](_0x1fb9a9,_0x5150e4);}[_0x227435(0x9b6)](){const _0x50c478=_0x227435;return this[_0x50c478(0x86a)]['getLocalNode']();}[_0x227435(0x304)](_0x5b836f){const _0x149ef4=_0x227435;try{return this[_0x149ef4(0x86a)][_0x149ef4(0x304)](_0x5b836f);}catch(_0x5afadf){throw this['handleError'](_0x5afadf,{});}}['waitForArrayBufferSize'](){const _0x3e5a51=_0x227435;return this[_0x3e5a51(0x23e)][_0x3e5a51(0xb65)]();}[_0x227435(0x3f4)](_0x1141a5){return this['nodeManager']['isNodeReady'](_0x1141a5);}async[_0x227435(0x25f)](_0x545919){const _0x4c3356=_0x227435;try{if(_0x1822ee['log'](_0xbbb80e[_0x4c3356(0xb3b)],'Orchestrator\x20handleSystemEvents',this[_0x4c3356(0x86a)][_0x4c3356(0x650)](),_0x545919),_0x1171eb(_0x545919,this[_0x4c3356(0x86a)][_0x4c3356(0x650)]()))return void this[_0x4c3356(0x23e)][_0x4c3356(0x22f)](_0x545919);switch(_0x545919['messageType']){case _0x37ab1a[_0x4c3356(0x42c)]:this[_0x4c3356(0x390)][_0x4c3356(0x32a)](_0x545919),this[_0x4c3356(0x8dc)][_0x4c3356(0x32a)](_0x545919),this[_0x4c3356(0x6bd)]['handleContentSystemEvents'](_0x545919);break;case _0x37ab1a[_0x4c3356(0x571)]:this['subscriptionManager'][_0x4c3356(0x2f1)](_0x545919),this[_0x4c3356(0x23e)]['handleNodeSystemEvents'](_0x545919),this[_0x4c3356(0x6bd)][_0x4c3356(0x2f1)](_0x545919),this[_0x4c3356(0x86a)][_0x4c3356(0x2f1)](_0x545919);break;case _0x37ab1a[_0x4c3356(0x8af)]:this[_0x4c3356(0x916)][_0x4c3356(0x524)](_0x545919);break;case _0x37ab1a[_0x4c3356(0x8b0)]:this[_0x4c3356(0x916)]['handleRemediationSystemEvents'](_0x545919);break;case _0x37ab1a['Stats']:this[_0x4c3356(0xb71)][_0x4c3356(0x653)](_0x545919);break;case _0x37ab1a[_0x4c3356(0x30b)]:_0x545919[_0x4c3356(0xae3)][_0x4c3356(0x649)]!==_0x11acfe[_0x4c3356(0xc79)]?(this[_0x4c3356(0x8dc)][_0x4c3356(0x8b1)](_0x545919),this['contentManager'][_0x4c3356(0x8b1)](_0x545919)):(this[_0x4c3356(0x6bd)]['handleSubscriptionSystemEvents'](_0x545919),this[_0x4c3356(0x8dc)][_0x4c3356(0x8b1)](_0x545919));break;case _0x37ab1a['PeerConnection']:await this[_0x4c3356(0x23e)][_0x4c3356(0x525)](_0x545919),this[_0x4c3356(0x390)]['handlePeerConnectionSystemEvents'](_0x545919),this[_0x4c3356(0x86a)][_0x4c3356(0x525)](_0x545919),this[_0x4c3356(0x8dc)]['handlePeerConnectionSystemEvents'](_0x545919);}}catch(_0x1cf9b5){throw _0x1822ee['debug'](_0x4c3356(0x25f),_0x1cf9b5),this[_0x4c3356(0x2d0)](_0x1cf9b5,{});}}[_0x227435(0x2d0)](_0x1fb28c,_0x3de513){const _0x1a4c5f=_0x227435;if(!(_0x1fb28c instanceof _0x242caf)){if(_0x1fb28c instanceof _0x27b95d)throw _0x1fb28c;if(!(_0x1fb28c instanceof Error))throw new _0x27b95d(_0x398751[_0x1a4c5f(0xb41)],_0x1a4c5f(0x1dd)+_0x1fb28c);if(!(_0x1fb28c instanceof _0x82cd08))throw new _0x27b95d(_0x398751[_0x1a4c5f(0xb41)],_0x1a4c5f(0x26b)+_0x1fb28c['message']);switch(_0x1fb28c[_0x1a4c5f(0x3f0)]){case _0x82cd08[_0x1a4c5f(0xab8)][_0x1a4c5f(0x24f)]:case _0x82cd08[_0x1a4c5f(0xab8)][_0x1a4c5f(0x635)]:case _0x82cd08[_0x1a4c5f(0xab8)][_0x1a4c5f(0x79b)]:case _0x82cd08[_0x1a4c5f(0xab8)][_0x1a4c5f(0xa41)]:case _0x82cd08[_0x1a4c5f(0xab8)][_0x1a4c5f(0x490)]:case _0x82cd08['codes']['InvalidDataChannel']:case _0x82cd08[_0x1a4c5f(0xab8)]['InvalidPublisher']:case _0x82cd08[_0x1a4c5f(0xab8)][_0x1a4c5f(0x4e9)]:case _0x82cd08[_0x1a4c5f(0xab8)]['SubscriptionRequestDoesNotExist']:case _0x82cd08[_0x1a4c5f(0xab8)][_0x1a4c5f(0xaca)]:case _0x82cd08[_0x1a4c5f(0xab8)][_0x1a4c5f(0x224)]:case _0x82cd08[_0x1a4c5f(0xab8)][_0x1a4c5f(0x8be)]:}throw _0x1822ee[_0x1a4c5f(0xc13)](_0x1a4c5f(0x56a)+_0x1fb28c['message'],{'clusterId':this['clusterId'],'nodeId':this[_0x1a4c5f(0xc26)][_0x1a4c5f(0xc22)](),'nodeType':this['localNode'][_0x1a4c5f(0x649)]},_0x1fb28c),new _0x27b95d(_0x398751[_0x1a4c5f(0xb41)],_0x1a4c5f(0x74e)+_0x1fb28c[_0x1a4c5f(0x325)]);}}[_0x227435(0x98c)](){const _0x266b63=_0x227435;return{'mediator':this,'vendorId':this[_0x266b63(0x2ae)],'clusterId':this[_0x266b63(0x7f8)],'localNode':this['localNode']};}['initializeSystemTopic'](){const _0x50d5c6=_0x227435;return this['systemTopic'][_0x50d5c6(0x214)](_0x56aa21=>{const _0xcf1228=_0x50d5c6,_0xc7a58e=_0x58f19b(_0x56aa21,this[_0xcf1228(0xc26)][_0xcf1228(0xc22)]()),_0x7395d4=_0x56aa21[_0xcf1228(0x656)]===_0x37ab1a[_0xcf1228(0xabd)]||_0x56aa21[_0xcf1228(0x656)]===_0x37ab1a[_0xcf1228(0xa5b)]&&_0x56aa21[_0xcf1228(0xae3)][_0xcf1228(0x649)]===_0x3e0203[_0xcf1228(0xabd)]?_0xbbb80e[_0xcf1228(0x33a)]:_0xbbb80e[_0xcf1228(0x82a)];_0x1822ee[_0xcf1228(0xa25)](_0x7395d4,_0x56aa21[_0xcf1228(0x4ca)]+'\x20-\x20'+_0xc7a58e,_0x56aa21),this[_0xcf1228(0x25f)](_0x56aa21)[_0xcf1228(0x285)](_0x4483b8=>{console['error'](_0x4483b8);});});}async[_0x227435(0x607)](_0x5c225f){const _0x2b654c=_0x227435,{timingLogger:_0x1da17a,logger:_0x3e9f46,logBeforeSync:_0x5d4c4d,logAfterSync:_0x1cf142}=function(_0x547de5,_0x20d110){const _0x428b5c=a0_0x5d01;if(!_0x1822ee[_0x428b5c(0x3e1)](_0x20d110))return _0x1822ee['debug'](_0x428b5c(0x531)+_0x20d110),{..._0x38b9ff(_0x547de5,_0x20d110),'syncStartTime':0x0,'logBeforeSync':()=>0x0,'logAfterSync':()=>{}};const {timingLogger:_0x4b0f38,logger:_0xca5004}=_0x38b9ff(_0x547de5,_0x20d110);let _0x33a4da=0x0;return _0x33a4da=Date[_0x428b5c(0xb26)](),{'syncStartTime':_0x33a4da,'timingLogger':_0x4b0f38,'logger':_0xca5004,'logBeforeSync':()=>(_0x4c5dc6(_0x20d110,_0x428b5c(0x8a6)),_0x4b0f38[_0x428b5c(0xb26)]()),'logAfterSync':(_0x57d1d5,_0x4eab6c)=>{const _0x17b0af=_0x428b5c,_0x3ced2f=Date[_0x17b0af(0xb26)]();_0x4c5dc6(_0x20d110,_0x17b0af(0x5bd)+_0x4eab6c);const _0x3b8ff2=(_0x3ced2f-_0x33a4da)/0x3e8,_0x3bd095=(_0x3ced2f-_0x57d1d5)/0x3e8;_0x1822ee[_0x17b0af(0xbf2)](_0x20d110,'KeyValueDatabase\x20-\x20Sync\x20completed',_0x547de5,_0x17b0af(0x968)+_0x3b8ff2[_0x17b0af(0xb91)](0x2)+_0x17b0af(0x753),_0x17b0af(0x4a5)+_0x3bd095['toFixed'](0x3)+_0x17b0af(0x753),_0x17b0af(0xc1e)+((_0x3ced2f-_0x33a4da)/0x3e8-_0x3bd095)[_0x17b0af(0xb91)](0x2)+_0x17b0af(0x753));}};}(_0x5c225f['getLabel'](),_0xbbb80e[_0x2b654c(0x1ff)]);_0x3e9f46[_0x2b654c(0xbf2)](_0x2b654c(0xbc8));const _0x1a8845=this[_0x2b654c(0x86a)][_0x2b654c(0xa6b)]()[_0x2b654c(0xbfb)]>0x0;if(_0x1a8845){_0x3e9f46['log'](_0x2b654c(0xb30),()=>this[_0x2b654c(0x86a)][_0x2b654c(0xa6b)]()),_0x1da17a[_0x2b654c(0x2ed)](),await Promise['all'](this[_0x2b654c(0x86a)][_0x2b654c(0xa6b)]()[_0x2b654c(0x7b9)](async _0x299703=>await this[_0x2b654c(0x86a)][_0x2b654c(0x3f4)](_0x299703)))[_0x2b654c(0x285)](_0x23057a=>_0x1822ee[_0x2b654c(0x51e)](_0x2b654c(0x36a),{'nodeId':this[_0x2b654c(0xc26)]['getId'](),'nodeType':this[_0x2b654c(0xc26)][_0x2b654c(0x649)]}));const _0xa3cb0b=_0x3e9f46['performCalculation'](()=>this[_0x2b654c(0x86a)]['getAncestorIds'](),[]);_0x1da17a['logWaitTime']('SyncKeyValueDatabase\x20-\x20Ancestors\x20'+_0xa3cb0b+_0x2b654c(0xc4e));}_0x1cf142(_0x5d4c4d(),await _0x5c225f[_0x2b654c(0xa23)](_0x1a8845,async()=>{const _0x477c55=_0x2b654c;_0x1da17a[_0x477c55(0x2ed)](),await this[_0x477c55(0x86a)][_0x477c55(0x971)](),_0x1da17a[_0x477c55(0x456)](_0x477c55(0x83b)),_0x5c225f['sync'](!0x0,()=>{const _0x1e764b=_0x477c55;_0x3e9f46[_0x1e764b(0xbf2)]('KeyValueDatabase\x20-\x20Assuming\x20no\x20nodes\x20available\x20to\x20sync.\x20Completing\x20sync.'),_0x5c225f['sync'](!0x1);},!0x0);}));}}class _0xed77cb{[_0x227435(0x2ae)];[_0x227435(0x7f8)];[_0x227435(0x8f9)];[_0x227435(0xab2)];[_0x227435(0xb12)];constructor(_0x51dd54,_0x4558a8,_0x4e6545,_0x4d166f,_0x1d405c,_0x2ce4c7,_0x5e44d2=new _0x3ea1e5()){const _0x322380=_0x227435;this[_0x322380(0x2ae)]=_0x51dd54,this[_0x322380(0x7f8)]=_0x4558a8,this['authNode']=_0x4e6545,this[_0x322380(0xab2)]=_0x5e44d2,this[_0x322380(0xb12)]=new _0x1ec41b(this['vendorId'],this[_0x322380(0x7f8)],_0x4e6545,_0x4d166f,_0x1d405c,_0x2ce4c7,this);}async[_0x227435(0x2b2)](){const _0x17cb1d=_0x227435;await this[_0x17cb1d(0xb12)][_0x17cb1d(0x8c7)](),this[_0x17cb1d(0x8f9)][_0x17cb1d(0x649)]===_0x2bba8e['NodeType']['User']&&this[_0x17cb1d(0x8f9)][_0x17cb1d(0x406)](this[_0x17cb1d(0x7f8)],_0x4a68a5=>{const _0x46ba34=_0x17cb1d;this[_0x46ba34(0xb12)][_0x46ba34(0x810)](_0x4a68a5);});}[_0x227435(0x733)](_0x21a879={}){const _0x31db36=_0x227435;this[_0x31db36(0xb12)][_0x31db36(0xa42)](_0x21a879),this[_0x31db36(0x8f9)][_0x31db36(0x649)]===_0x2bba8e[_0x31db36(0x6e1)]['User']&&this[_0x31db36(0x8f9)][_0x31db36(0xb6f)](this['clusterId']),this[_0x31db36(0x99b)](_0x31db36(0xb9b),void 0x0);}[_0x227435(0xc78)](_0x33b72a){const _0xb6556f=_0x227435,_0xcacd5f=this[_0xb6556f(0xb12)][_0xb6556f(0xc78)](_0x33b72a);return{'getName':_0xcacd5f[_0xb6556f(0xc0d)][_0xb6556f(0x5ad)](_0xcacd5f),'getOwnerId':_0xcacd5f['getOwnerId']['bind'](_0xcacd5f),'getContentType':_0xcacd5f[_0xb6556f(0x9b5)][_0xb6556f(0x5ad)](_0xcacd5f),'publish':_0xcacd5f['publish'][_0xb6556f(0x5ad)](_0xcacd5f),'subscribe':_0xcacd5f[_0xb6556f(0x214)][_0xb6556f(0x5ad)](_0xcacd5f),'unsubscribe':_0xcacd5f['unsubscribe'][_0xb6556f(0x5ad)](_0xcacd5f),'close':_0xcacd5f['close']['bind'](_0xcacd5f)};}async[_0x227435(0x76b)](_0x2f5ce6,_0x56faa6){const _0x141fe5=_0x227435,_0x46ac93=await this[_0x141fe5(0xb12)][_0x141fe5(0x76b)](_0x2f5ce6,_0x56faa6);return{'getName':_0x46ac93[_0x141fe5(0xc0d)]['bind'](_0x46ac93),'getOwnerId':_0x46ac93[_0x141fe5(0xa93)]['bind'](_0x46ac93),'getContentType':_0x46ac93[_0x141fe5(0x9b5)][_0x141fe5(0x5ad)](_0x46ac93),'publish':_0x46ac93[_0x141fe5(0xb22)]['bind'](_0x46ac93),'unpublish':_0x46ac93[_0x141fe5(0x4c2)][_0x141fe5(0x5ad)](_0x46ac93),'get':_0x46ac93['get'][_0x141fe5(0x5ad)](_0x46ac93),'list':_0x46ac93[_0x141fe5(0x5cb)][_0x141fe5(0x5ad)](_0x46ac93),'getSize':_0x46ac93[_0x141fe5(0xc6e)]['bind'](_0x46ac93),'subscribe':_0x46ac93[_0x141fe5(0x214)][_0x141fe5(0x5ad)](_0x46ac93),'unsubscribe':_0x46ac93['unsubscribe']['bind'](_0x46ac93),'close':_0x46ac93[_0x141fe5(0xa42)][_0x141fe5(0x5ad)](_0x46ac93)};}async['openExternalStorageConnection'](_0x29d6ea,_0x14b53d){const _0x32ed59=_0x227435,_0x4498fb=await this['orchestrator'][_0x32ed59(0xc24)](_0x29d6ea,_0x14b53d);return{'getName':_0x4498fb['getName'][_0x32ed59(0x5ad)](_0x4498fb),'getOwnerId':_0x4498fb[_0x32ed59(0xa93)][_0x32ed59(0x5ad)](_0x4498fb),'getContentType':_0x4498fb[_0x32ed59(0x9b5)]['bind'](_0x4498fb),'close':_0x4498fb[_0x32ed59(0xa42)][_0x32ed59(0x5ad)](_0x4498fb),'get':_0x4498fb[_0x32ed59(0x441)][_0x32ed59(0x5ad)](_0x4498fb),'list':_0x4498fb['list'][_0x32ed59(0x5ad)](_0x4498fb),'subscribe':_0x4498fb['subscribe']['bind'](_0x4498fb),'unsubscribe':_0x4498fb[_0x32ed59(0x46f)][_0x32ed59(0x5ad)](_0x4498fb)};}async['openKeyValueDatabase'](_0x1623df,_0x52db92,_0x157c75){const _0x5b65fb=_0x227435,_0x1c6397=await this['orchestrator'][_0x5b65fb(0x8df)](_0x1623df,_0x52db92,_0x157c75);return{'getName':_0x1c6397['getName']['bind'](_0x1c6397),'getOwnerId':_0x1c6397[_0x5b65fb(0xa93)]['bind'](_0x1c6397),'getContentType':_0x1c6397[_0x5b65fb(0x9b5)][_0x5b65fb(0x5ad)](_0x1c6397),'getTable':_0x1c6397['getTable'][_0x5b65fb(0x5ad)](_0x1c6397),'subscribe':_0x1c6397[_0x5b65fb(0x214)][_0x5b65fb(0x5ad)](_0x1c6397),'unsubscribe':_0x1c6397[_0x5b65fb(0x46f)][_0x5b65fb(0x5ad)](_0x1c6397),'close':_0x1c6397[_0x5b65fb(0xa42)][_0x5b65fb(0x5ad)](_0x1c6397)};}async['openJobDispatcher'](_0x584a7b){const _0x33c1b4=_0x227435,_0x246d1b=await this['orchestrator'][_0x33c1b4(0x999)](_0x584a7b);return{'getName':_0x246d1b[_0x33c1b4(0xc0d)][_0x33c1b4(0x5ad)](_0x246d1b),'getOwnerId':_0x246d1b[_0x33c1b4(0xa93)][_0x33c1b4(0x5ad)](_0x246d1b),'getContentType':_0x246d1b[_0x33c1b4(0x9b5)][_0x33c1b4(0x5ad)](_0x246d1b),'createJob':_0x246d1b[_0x33c1b4(0x6cd)][_0x33c1b4(0x5ad)](_0x246d1b),'getJob':_0x246d1b[_0x33c1b4(0x5e3)][_0x33c1b4(0x5ad)](_0x246d1b),'getJobs':_0x246d1b[_0x33c1b4(0x6cf)]['bind'](_0x246d1b),'close':_0x246d1b[_0x33c1b4(0xa42)][_0x33c1b4(0x5ad)](_0x246d1b)};}async[_0x227435(0x8e3)](_0x2a01f6){const _0x3ea83e=_0x227435,_0x423f5d=await this['orchestrator'][_0x3ea83e(0x8e3)](_0x2a01f6);return{'close':_0x423f5d[_0x3ea83e(0xa42)][_0x3ea83e(0x5ad)](_0x423f5d)};}async[_0x227435(0x661)](_0x285aa4){const _0x4c9624=_0x227435,_0x39d48b=await this[_0x4c9624(0xb12)][_0x4c9624(0x661)](_0x285aa4);return{'createAIJob':_0x39d48b['createAIJob'][_0x4c9624(0x5ad)](_0x39d48b),'getDataBucketIds':_0x39d48b['getDataBucketIds']['bind'](_0x39d48b),'close':_0x39d48b[_0x4c9624(0xa42)][_0x4c9624(0x5ad)](_0x39d48b)};}async['openGenerativeAIContextStandalone'](_0x4b813e){const _0xb46d43=_0x227435,_0x5ccf88=await this[_0xb46d43(0xb12)][_0xb46d43(0x8d1)](_0x4b813e);return{'createAIJob':_0x5ccf88[_0xb46d43(0x459)][_0xb46d43(0x5ad)](_0x5ccf88),'getDataBucketIds':_0x5ccf88[_0xb46d43(0x40d)][_0xb46d43(0x5ad)](_0x5ccf88),'close':_0x5ccf88[_0xb46d43(0xa42)][_0xb46d43(0x5ad)](_0x5ccf88)};}async[_0x227435(0x2ba)](_0x5dc5e6){const _0x5ebadd=_0x227435,_0x55e24c=await this[_0x5ebadd(0xb12)][_0x5ebadd(0x2ba)](_0x5dc5e6);return{'close':_0x55e24c[_0x5ebadd(0xa42)][_0x5ebadd(0x5ad)](_0x55e24c)};}[_0x227435(0x4aa)](_0x1dd601){const _0x6592e9=_0x227435,_0x5eea82=this['orchestrator'][_0x6592e9(0x4aa)](_0x1dd601);return{'getName':_0x5eea82[_0x6592e9(0xc0d)][_0x6592e9(0x5ad)](_0x5eea82),'getOwnerId':_0x5eea82[_0x6592e9(0xa93)]['bind'](_0x5eea82),'getContentType':_0x5eea82[_0x6592e9(0x9b5)][_0x6592e9(0x5ad)](_0x5eea82),'addNode':_0x5eea82[_0x6592e9(0x1ee)]['bind'](_0x5eea82),'addEdge':_0x5eea82[_0x6592e9(0x932)][_0x6592e9(0x5ad)](_0x5eea82),'getContent':_0x5eea82[_0x6592e9(0x73d)][_0x6592e9(0x5ad)](_0x5eea82),'remove':_0x5eea82[_0x6592e9(0xa74)][_0x6592e9(0x5ad)](_0x5eea82),'saveToDisk':_0x5eea82[_0x6592e9(0x3fe)][_0x6592e9(0x5ad)](_0x5eea82),'loadFromDisk':_0x5eea82['loadFromDisk'][_0x6592e9(0x5ad)](_0x5eea82),'close':_0x5eea82['close']['bind'](_0x5eea82)};}[_0x227435(0x7f2)](_0x44210b){const _0x397922=_0x227435,_0x14eeaa=this['orchestrator'][_0x397922(0x7f2)](_0x44210b);return{'getName':_0x14eeaa[_0x397922(0xc0d)][_0x397922(0x5ad)](_0x14eeaa),'getOwnerId':_0x14eeaa[_0x397922(0xa93)]['bind'](_0x14eeaa),'getContentType':_0x14eeaa[_0x397922(0x9b5)][_0x397922(0x5ad)](_0x14eeaa),'search':_0x14eeaa['search'][_0x397922(0x5ad)](_0x14eeaa),'insert':_0x14eeaa[_0x397922(0x9fb)]['bind'](_0x14eeaa),'remove':_0x14eeaa[_0x397922(0xa74)]['bind'](_0x14eeaa),'saveToDisk':_0x14eeaa[_0x397922(0x3fe)]['bind'](_0x14eeaa),'loadFromDisk':_0x14eeaa[_0x397922(0x8a0)]['bind'](_0x14eeaa),'close':_0x14eeaa[_0x397922(0xa42)][_0x397922(0x5ad)](_0x14eeaa)};}['getPubSubTopics'](_0x21a484){const _0xc145d4=_0x227435;return this[_0xc145d4(0xb12)][_0xc145d4(0x361)](_0x21a484)[_0xc145d4(0x7b9)](_0x4a8f18=>({'getName':_0x4a8f18[_0xc145d4(0xc0d)][_0xc145d4(0x5ad)](_0x4a8f18),'getOwnerId':_0x4a8f18['getOwnerId']['bind'](_0x4a8f18),'getContentType':_0x4a8f18[_0xc145d4(0x9b5)][_0xc145d4(0x5ad)](_0x4a8f18),'publish':_0x4a8f18[_0xc145d4(0xb22)][_0xc145d4(0x5ad)](_0x4a8f18),'subscribe':_0x4a8f18['subscribe'][_0xc145d4(0x5ad)](_0x4a8f18),'unsubscribe':_0x4a8f18[_0xc145d4(0x46f)][_0xc145d4(0x5ad)](_0x4a8f18),'close':_0x4a8f18[_0xc145d4(0xa42)][_0xc145d4(0x5ad)](_0x4a8f18)}));}[_0x227435(0xc3c)](_0x28fc80){const _0x54584a=_0x227435;return this[_0x54584a(0xb12)][_0x54584a(0xc3c)](_0x28fc80)[_0x54584a(0x7b9)](_0xa6ef6e=>({'getName':_0xa6ef6e[_0x54584a(0xc0d)]['bind'](_0xa6ef6e),'getOwnerId':_0xa6ef6e['getOwnerId'][_0x54584a(0x5ad)](_0xa6ef6e),'getContentType':_0xa6ef6e[_0x54584a(0x9b5)][_0x54584a(0x5ad)](_0xa6ef6e),'publish':_0xa6ef6e[_0x54584a(0xb22)]['bind'](_0xa6ef6e),'unpublish':_0xa6ef6e[_0x54584a(0x4c2)][_0x54584a(0x5ad)](_0xa6ef6e),'get':_0xa6ef6e['get'][_0x54584a(0x5ad)](_0xa6ef6e),'list':_0xa6ef6e[_0x54584a(0x5cb)][_0x54584a(0x5ad)](_0xa6ef6e),'getSize':_0xa6ef6e['getSize'][_0x54584a(0x5ad)](_0xa6ef6e),'subscribe':_0xa6ef6e[_0x54584a(0x214)][_0x54584a(0x5ad)](_0xa6ef6e),'unsubscribe':_0xa6ef6e['unsubscribe'][_0x54584a(0x5ad)](_0xa6ef6e),'close':_0xa6ef6e['close'][_0x54584a(0x5ad)](_0xa6ef6e)}));}[_0x227435(0x5b0)](_0x20c77c){const _0x2d55e6=_0x227435;return this[_0x2d55e6(0xb12)]['getExternalStorageConnections'](_0x20c77c)[_0x2d55e6(0x7b9)](_0x461e20=>({'getName':_0x461e20['getName'][_0x2d55e6(0x5ad)](_0x461e20),'getOwnerId':_0x461e20['getOwnerId'][_0x2d55e6(0x5ad)](_0x461e20),'getContentType':_0x461e20[_0x2d55e6(0x9b5)][_0x2d55e6(0x5ad)](_0x461e20),'close':_0x461e20[_0x2d55e6(0xa42)][_0x2d55e6(0x5ad)](_0x461e20),'get':_0x461e20['get'][_0x2d55e6(0x5ad)](_0x461e20),'list':_0x461e20[_0x2d55e6(0x5cb)][_0x2d55e6(0x5ad)](_0x461e20),'subscribe':_0x461e20[_0x2d55e6(0x214)]['bind'](_0x461e20),'unsubscribe':_0x461e20['unsubscribe'][_0x2d55e6(0x5ad)](_0x461e20)}));}['getKeyValueDatabases'](_0x1116fe){const _0x50c4f3=_0x227435;return this[_0x50c4f3(0xb12)][_0x50c4f3(0xa29)](_0x1116fe)[_0x50c4f3(0x7b9)](_0x5e7834=>({'getName':_0x5e7834['getName']['bind'](_0x5e7834),'getOwnerId':_0x5e7834[_0x50c4f3(0xa93)][_0x50c4f3(0x5ad)](_0x5e7834),'getContentType':_0x5e7834[_0x50c4f3(0x9b5)][_0x50c4f3(0x5ad)](_0x5e7834),'getTable':_0x5e7834[_0x50c4f3(0xa8d)]['bind'](_0x5e7834),'subscribe':_0x5e7834[_0x50c4f3(0x214)][_0x50c4f3(0x5ad)](_0x5e7834),'unsubscribe':_0x5e7834[_0x50c4f3(0x46f)][_0x50c4f3(0x5ad)](_0x5e7834),'close':_0x5e7834[_0x50c4f3(0xa42)][_0x50c4f3(0x5ad)](_0x5e7834)}));}['getGenerativeAIContexts'](_0x3d7f95){const _0x67bfec=_0x227435;return this[_0x67bfec(0xb12)][_0x67bfec(0x3cc)](_0x3d7f95)[_0x67bfec(0x7b9)](_0x14a88d=>({'createAIJob':_0x14a88d[_0x67bfec(0x459)]['bind'](_0x14a88d),'getDataBucketIds':_0x14a88d[_0x67bfec(0x40d)][_0x67bfec(0x5ad)](_0x14a88d),'close':_0x14a88d[_0x67bfec(0xa42)][_0x67bfec(0x5ad)](_0x14a88d)}));}[_0x227435(0xa1f)](_0x565ab5){const _0xc234f4=_0x227435;return this['orchestrator'][_0xc234f4(0xa1f)](_0x565ab5)[_0xc234f4(0x7b9)](_0x50c2fe=>({'createAIJob':_0x50c2fe[_0xc234f4(0x459)][_0xc234f4(0x5ad)](_0x50c2fe),'getDataBucketIds':_0x50c2fe[_0xc234f4(0x40d)]['bind'](_0x50c2fe),'close':_0x50c2fe[_0xc234f4(0xa42)][_0xc234f4(0x5ad)](_0x50c2fe)}));}[_0x227435(0xbef)](_0x29cd0c){const _0x955eb4=_0x227435;return this[_0x955eb4(0xb12)][_0x955eb4(0xbef)](_0x29cd0c)[_0x955eb4(0x7b9)](_0x1aa5df=>({'close':_0x1aa5df['close'][_0x955eb4(0x5ad)](_0x1aa5df)}));}[_0x227435(0x9e9)](_0xd43941,_0x31fe34){const _0x337a36=_0x227435,_0x52da21=this['orchestrator'][_0x337a36(0x912)](_0xd43941,_0x31fe34);return{'getLabel':_0x52da21[_0x337a36(0x9a2)]['bind'](_0x52da21),'getOwnerId':_0x52da21[_0x337a36(0xa93)][_0x337a36(0x5ad)](_0x52da21),'getContentType':_0x52da21['getContentType'][_0x337a36(0x5ad)](_0x52da21),'getMediaStream':_0x52da21['getMediaStream'][_0x337a36(0x5ad)](_0x52da21),'setPriority':_0x52da21[_0x337a36(0x976)][_0x337a36(0x5ad)](_0x52da21),'unpublish':_0x52da21[_0x337a36(0x4c2)][_0x337a36(0x5ad)](_0x52da21)};}[_0x227435(0x596)](_0x5544ed,_0x1aa7ff){const _0x1fcfa7=_0x227435,_0x400273=this[_0x1fcfa7(0xb12)][_0x1fcfa7(0x666)](_0x5544ed,_0x1aa7ff);return{'getLabel':_0x400273[_0x1fcfa7(0x9a2)][_0x1fcfa7(0x5ad)](_0x400273),'getOwnerId':_0x400273[_0x1fcfa7(0xa93)]['bind'](_0x400273),'getContentType':_0x400273[_0x1fcfa7(0x9b5)]['bind'](_0x400273),'setPriority':_0x400273[_0x1fcfa7(0x976)][_0x1fcfa7(0x5ad)](_0x400273),'unpublish':_0x400273[_0x1fcfa7(0x4c2)][_0x1fcfa7(0x5ad)](_0x400273),'getMediaStream':_0x400273['getMediaStream']['bind'](_0x400273),'addTrack':_0x400273[_0x1fcfa7(0x71e)][_0x1fcfa7(0x5ad)](_0x400273),'removeTrack':_0x400273[_0x1fcfa7(0x3ab)]['bind'](_0x400273),'replaceTrack':_0x400273[_0x1fcfa7(0x7cf)][_0x1fcfa7(0x5ad)](_0x400273),'setTransformations':_0x400273[_0x1fcfa7(0x894)][_0x1fcfa7(0x5ad)](_0x400273)};}[_0x227435(0xb92)](_0x5b1852){const _0x8cacb=_0x227435;return this[_0x8cacb(0xb12)]['getLocalMediaStreams'](_0x5b1852)[_0x8cacb(0x7b9)](_0x4bc1b5=>({'getLabel':_0x4bc1b5[_0x8cacb(0x9a2)][_0x8cacb(0x5ad)](_0x4bc1b5),'getOwnerId':_0x4bc1b5[_0x8cacb(0xa93)][_0x8cacb(0x5ad)](_0x4bc1b5),'getContentType':_0x4bc1b5[_0x8cacb(0x9b5)][_0x8cacb(0x5ad)](_0x4bc1b5),'getMediaStream':_0x4bc1b5[_0x8cacb(0xbfd)][_0x8cacb(0x5ad)](_0x4bc1b5),'setPriority':_0x4bc1b5[_0x8cacb(0x976)][_0x8cacb(0x5ad)](_0x4bc1b5),'unpublish':_0x4bc1b5[_0x8cacb(0x4c2)][_0x8cacb(0x5ad)](_0x4bc1b5)}));}[_0x227435(0x4ce)](_0x993317){const _0x58b6ed=_0x227435;return this[_0x58b6ed(0xb12)]['getRemoteMediaStreams'](_0x993317)[_0x58b6ed(0x7b9)](_0x4f949a=>({'getLabel':_0x4f949a[_0x58b6ed(0x9a2)][_0x58b6ed(0x5ad)](_0x4f949a),'getOwnerId':_0x4f949a[_0x58b6ed(0xa93)][_0x58b6ed(0x5ad)](_0x4f949a),'getContentType':_0x4f949a['getContentType']['bind'](_0x4f949a),'getMediaStream':_0x4f949a['getMediaStream'][_0x58b6ed(0x5ad)](_0x4f949a),'subscribe':_0x4f949a[_0x58b6ed(0x214)]['bind'](_0x4f949a),'unsubscribe':_0x4f949a[_0x58b6ed(0x46f)][_0x58b6ed(0x5ad)](_0x4f949a),'getAvailableTrackKinds':_0x4f949a[_0x58b6ed(0x67d)][_0x58b6ed(0x5ad)](_0x4f949a),'update':_0x4f949a[_0x58b6ed(0x75a)][_0x58b6ed(0x5ad)](_0x4f949a),'onProviderChange':_0x4f949a[_0x58b6ed(0x580)][_0x58b6ed(0x5ad)](_0x4f949a)}));}[_0x227435(0x7cd)](_0x2ffa86){const _0x32a639=_0x227435;return this[_0x32a639(0xb12)][_0x32a639(0x7cd)](_0x2ffa86)[_0x32a639(0x7b9)](_0x1e5e0f=>({'getName':_0x1e5e0f[_0x32a639(0xc0d)][_0x32a639(0x5ad)](_0x1e5e0f),'getOwnerId':_0x1e5e0f['getOwnerId'][_0x32a639(0x5ad)](_0x1e5e0f),'getContentType':_0x1e5e0f[_0x32a639(0x9b5)]['bind'](_0x1e5e0f),'addNode':_0x1e5e0f[_0x32a639(0x1ee)][_0x32a639(0x5ad)](_0x1e5e0f),'addEdge':_0x1e5e0f[_0x32a639(0x932)][_0x32a639(0x5ad)](_0x1e5e0f),'getContent':_0x1e5e0f[_0x32a639(0x73d)][_0x32a639(0x5ad)](_0x1e5e0f),'remove':_0x1e5e0f['remove']['bind'](_0x1e5e0f),'saveToDisk':_0x1e5e0f[_0x32a639(0x3fe)]['bind'](_0x1e5e0f),'loadFromDisk':_0x1e5e0f[_0x32a639(0x8a0)][_0x32a639(0x5ad)](_0x1e5e0f),'close':_0x1e5e0f[_0x32a639(0xa42)]['bind'](_0x1e5e0f)}));}['getVectorDatabases'](_0x477694){const _0x503f4d=_0x227435;return this[_0x503f4d(0xb12)][_0x503f4d(0x1fb)](_0x477694)[_0x503f4d(0x7b9)](_0x179a87=>({'getName':_0x179a87[_0x503f4d(0xc0d)][_0x503f4d(0x5ad)](_0x179a87),'getOwnerId':_0x179a87[_0x503f4d(0xa93)]['bind'](_0x179a87),'getContentType':_0x179a87[_0x503f4d(0x9b5)][_0x503f4d(0x5ad)](_0x179a87),'search':_0x179a87[_0x503f4d(0x98b)][_0x503f4d(0x5ad)](_0x179a87),'insert':_0x179a87[_0x503f4d(0x9fb)][_0x503f4d(0x5ad)](_0x179a87),'remove':_0x179a87[_0x503f4d(0xa74)][_0x503f4d(0x5ad)](_0x179a87),'saveToDisk':_0x179a87[_0x503f4d(0x3fe)][_0x503f4d(0x5ad)](_0x179a87),'loadFromDisk':_0x179a87[_0x503f4d(0x8a0)][_0x503f4d(0x5ad)](_0x179a87),'close':_0x179a87[_0x503f4d(0xa42)]['bind'](_0x179a87)}));}[_0x227435(0x9b6)](){const _0x9ebdcc=_0x227435,_0x4842e5=this['orchestrator'][_0x9ebdcc(0x9b6)]();switch(_0x4842e5[_0x9ebdcc(0x649)]){case _0x2bba8e[_0x9ebdcc(0x6e1)]['User']:return{'type':_0x2bba8e['NodeType'][_0x9ebdcc(0x35c)],'getId':_0x4842e5[_0x9ebdcc(0xc22)][_0x9ebdcc(0x5ad)](_0x4842e5),'getDisplayName':_0x4842e5[_0x9ebdcc(0xc0e)]['bind'](_0x4842e5),'getEmail':_0x4842e5[_0x9ebdcc(0x625)][_0x9ebdcc(0x5ad)](_0x4842e5),'getRemoteConnections':_0x4842e5[_0x9ebdcc(0x668)][_0x9ebdcc(0x5ad)](_0x4842e5),'setDisplayName':_0x4842e5[_0x9ebdcc(0x3ec)][_0x9ebdcc(0x5ad)](_0x4842e5),'setEmail':_0x4842e5['setEmail'][_0x9ebdcc(0x5ad)](_0x4842e5)};case _0x2bba8e['NodeType'][_0x9ebdcc(0x5ac)]:default:return{'type':_0x2bba8e[_0x9ebdcc(0x6e1)]['Agent'],'getId':_0x4842e5[_0x9ebdcc(0xc22)][_0x9ebdcc(0x5ad)](_0x4842e5),'getRemoteConnections':_0x4842e5['getRemoteConnections']['bind'](_0x4842e5)};}}[_0x227435(0x304)](_0x43cdca){const _0x5d3251=_0x227435;return this[_0x5d3251(0xb12)][_0x5d3251(0x304)](_0x43cdca)[_0x5d3251(0x7b9)](_0x498f99=>{const _0x362391=_0x5d3251;switch(_0x498f99[_0x362391(0x649)]){case _0x2bba8e[_0x362391(0x6e1)]['User']:return{'type':_0x2bba8e['NodeType'][_0x362391(0x35c)],'getId':_0x498f99['getId'][_0x362391(0x5ad)](_0x498f99),'getDisplayName':_0x498f99[_0x362391(0xc0e)][_0x362391(0x5ad)](_0x498f99),'getEmail':_0x498f99[_0x362391(0x625)][_0x362391(0x5ad)](_0x498f99),'getRemoteConnections':_0x498f99[_0x362391(0x668)][_0x362391(0x5ad)](_0x498f99)};case _0x2bba8e[_0x362391(0x6e1)]['Agent']:return{'type':_0x2bba8e[_0x362391(0x6e1)][_0x362391(0x5ac)],'getId':_0x498f99[_0x362391(0xc22)]['bind'](_0x498f99),'getRemoteConnections':_0x498f99['getRemoteConnections'][_0x362391(0x5ad)](_0x498f99)};default:throw new _0x27b95d(_0x398751['NodeInvalidType'],_0x362391(0x6b6));}});}['on']=(..._0x2f7b8a)=>{this['eventEmitter']['on'](..._0x2f7b8a);};[_0x227435(0x99b)]=(..._0x1daccc)=>this['eventEmitter'][_0x227435(0x99b)](..._0x1daccc);[_0x227435(0x85b)](..._0x473ce1){this['eventEmitter']['off'](..._0x473ce1);}}class _0x4cbd69{['id'];['displayName'];[_0x227435(0x791)];[_0x227435(0x649)]=_0x2bba8e[_0x227435(0x6e1)][_0x227435(0x35c)];[_0x227435(0x70e)]=new Map();['observer']=_0x1aa7b3();constructor(_0x240210,_0x1d4467,_0x2c7709){const _0xeae7df=_0x227435;this['id']=_0x240210,this[_0xeae7df(0xc09)]=_0x1d4467,this[_0xeae7df(0x791)]=_0x2c7709;}[_0x227435(0xc22)](){return this['id'];}[_0x227435(0xc0e)](){const _0x258abd=_0x227435;return this[_0x258abd(0xc09)];}[_0x227435(0x625)](){return this['email'];}[_0x227435(0x3ec)](_0x24c4e2){const _0x3a7651=_0x227435;this[_0x3a7651(0xc09)]!==_0x24c4e2&&(this[_0x3a7651(0xc09)]=_0x24c4e2,this[_0x3a7651(0x1e1)]['publish'](this));}[_0x227435(0x7ae)](_0x409dc0){const _0x287cb5=_0x227435;this[_0x287cb5(0x791)]!==_0x409dc0&&(this[_0x287cb5(0x791)]=_0x409dc0,this[_0x287cb5(0x1e1)][_0x287cb5(0xb22)](this));}[_0x227435(0x406)](_0x2ef6c5,_0x23fb14){const _0x1f4465=_0x227435;if(this[_0x1f4465(0x70e)][_0x1f4465(0xac9)](_0x2ef6c5))return;const _0xe64aea=this[_0x1f4465(0x1e1)]['subscribe'](_0x23fb14);this[_0x1f4465(0x70e)][_0x1f4465(0x9b4)](_0x2ef6c5,_0xe64aea);}[_0x227435(0xb6f)](_0x38bbb2){const _0x394439=_0x227435;if(!this[_0x394439(0x70e)][_0x394439(0xac9)](_0x38bbb2))return;const _0x20f373=this[_0x394439(0x70e)][_0x394439(0x441)](_0x38bbb2);_0x20f373&&_0x20f373(),this[_0x394439(0x70e)][_0x394439(0x3df)](_0x38bbb2);}}class _0x51aae5{[_0x227435(0x2ae)];[_0x227435(0x7b3)];constructor(_0x154071){const _0x44461c=_0x227435;this[_0x44461c(0x2ae)]=_0x154071;}async[_0x227435(0x369)](_0x370742){const _0x372d9f=_0x227435,_0xc339b2=await(0x0,_0x4328ab['httpsCallable'])(_0x35b99b['getFunctions'](),_0x372d9f(0xb78))({'uid':_0x372d9f(0x34d)+this[_0x372d9f(0x2ae)]+_0x372d9f(0x34d)+_0x370742['id']}),_0x195634=await(0x0,_0x2e7c2d['signInWithCustomToken'])(_0x35b99b['getAuth'](),_0xc339b2[_0x372d9f(0x205)][_0x372d9f(0xa53)]);this[_0x372d9f(0x7b3)]=_0x195634[_0x372d9f(0x7b3)];}async[_0x227435(0x3fd)](){const _0x75be51=_0x227435;await(0x0,_0x2e7c2d[_0x75be51(0x3fd)])(_0x35b99b[_0x75be51(0xaae)]());}[_0x227435(0x6e4)](){const _0x3841e1=_0x227435;return this[_0x3841e1(0x7b3)]?.['getIdToken']()??Promise['reject']('User\x20not\x20signed\x20in');}}class _0x3f2f0f{static ['instance'];['featureSupport']=[];constructor(){}static[_0x227435(0x3e5)](){const _0x39a9d9=_0x227435;return _0x3f2f0f[_0x39a9d9(0x447)]||(_0x3f2f0f[_0x39a9d9(0x447)]=new _0x3f2f0f()),_0x3f2f0f[_0x39a9d9(0x447)];}[_0x227435(0x8c7)](){const _0x3c8384=_0x227435;this[_0x3c8384(0x3ba)](),this[_0x3c8384(0xa66)](),this[_0x3c8384(0x552)](),this[_0x3c8384(0x221)](),this[_0x3c8384(0x267)](),this[_0x3c8384(0x6a6)](),this['checkMediaRecording'](),this[_0x3c8384(0x676)](),this['checkWebGL'](),this['checkAudioContext'](),_0x1822ee['log'](_0xbbb80e[_0x3c8384(0x7ea)],'Support:\x20current\x20config',{'featureSupport':this['featureSupport']});}[_0x227435(0xbc4)](_0x4275e4){const _0x30deb2=_0x227435,_0x3bc23c=this[_0x30deb2(0x21c)]['find'](_0x12aa03=>_0x12aa03[_0x30deb2(0xc30)]===_0x4275e4);return!!_0x3bc23c&&_0x3bc23c[_0x30deb2(0x5e1)];}['logSupport'](_0x4f1356){const _0x5ee9c6=_0x227435;_0x1822ee['logEvent'](_0x5ee9c6(0x7c8),{'nodeId':_0x4f1356[_0x5ee9c6(0xc22)](),'nodeType':_0x4f1356['type'],'data':{'featureSupport':this['featureSupport']}});}[_0x227435(0x3ba)](){const _0x243c44=_0x227435,_0x290320=_0x51065f['WebRTC'];let _0x41ff4b=!0x1;_0x243c44(0x4f8)==typeof RTCPeerConnection&&_0x243c44(0x4f8)==typeof RTCIceCandidate&&_0x243c44(0x4f8)==typeof RTCSessionDescription?_0x41ff4b=!0x0:_0x1822ee[_0x243c44(0xbf2)](_0xbbb80e['Support'],_0x243c44(0x416)+_0x290320+_0x243c44(0x7d4)),this[_0x243c44(0x21c)][_0x243c44(0x91f)]({'name':_0x290320,'supported':_0x41ff4b});}[_0x227435(0xa66)](){const _0xa32fc3=_0x227435,_0x1aa396=_0x51065f['MediaStream'];let _0x3645eb=!0x1;_0xa32fc3(0x4f8)==typeof MediaStream&&_0xa32fc3(0x4f8)==typeof MediaStreamTrack&&'object'==typeof navigator&&_0xa32fc3(0xc34)==typeof navigator[_0xa32fc3(0xbf4)]&&_0xa32fc3(0x4f8)==typeof navigator['mediaDevices']['getUserMedia']?_0x3645eb=!0x0:_0x1822ee[_0xa32fc3(0xbf2)](_0xbbb80e[_0xa32fc3(0x7ea)],_0xa32fc3(0x416)+_0x1aa396+_0xa32fc3(0x7d4)),this[_0xa32fc3(0x21c)][_0xa32fc3(0x91f)]({'name':_0x1aa396,'supported':_0x3645eb});}[_0x227435(0x552)](){const _0x5b2364=_0x227435,_0x41083b=_0x51065f[_0x5b2364(0x617)];let _0x20d702=!0x1;_0x5b2364(0xc34)==typeof navigator&&_0x5b2364(0xc34)==typeof navigator[_0x5b2364(0xbf4)]&&_0x5b2364(0x4f8)==typeof navigator[_0x5b2364(0xbf4)]['getDisplayMedia']?_0x20d702=!0x0:_0x1822ee[_0x5b2364(0xbf2)](_0xbbb80e[_0x5b2364(0x7ea)],_0x5b2364(0x416)+_0x41083b+'\x20not\x20supported'),this[_0x5b2364(0x21c)][_0x5b2364(0x91f)]({'name':_0x41083b,'supported':_0x20d702});}[_0x227435(0x221)](){const _0xa1f09=_0x227435,_0x30ae0e=_0x51065f['AudioVolume'];let _0x3724de=!0x1;_0xa1f09(0x4f8)!=typeof AudioContext||_0xa1f09(0x4f8)!=typeof ScriptProcessorNode&&_0xa1f09(0x4f8)!=typeof AudioWorkletNode||_0xa1f09(0x4f8)!=typeof MediaStreamAudioSourceNode?_0x1822ee[_0xa1f09(0xbf2)](_0xbbb80e[_0xa1f09(0x7ea)],_0xa1f09(0x416)+_0x30ae0e+_0xa1f09(0x7d4)):_0x3724de=!0x0,this[_0xa1f09(0x21c)]['push']({'name':_0x30ae0e,'supported':_0x3724de});}[_0x227435(0x267)](){const _0x5336b8=_0x227435,_0x426e4c=_0x51065f[_0x5336b8(0x864)];let _0x1f5a13=!0x1;_0x5336b8(0xc34)==typeof navigator&&_0x5336b8(0xc34)==typeof navigator['mediaDevices']&&_0x5336b8(0x4f8)==typeof navigator[_0x5336b8(0xbf4)][_0x5336b8(0x634)]&&_0x5336b8(0x4f8)==typeof MediaDeviceInfo?_0x1f5a13=!0x0:_0x1822ee[_0x5336b8(0xbf2)](_0xbbb80e[_0x5336b8(0x7ea)],'Support:\x20'+_0x426e4c+_0x5336b8(0x7d4)),this[_0x5336b8(0x21c)][_0x5336b8(0x91f)]({'name':_0x426e4c,'supported':_0x1f5a13});}[_0x227435(0x6a6)](){const _0x203d4e=_0x227435,_0x34a192=_0x51065f[_0x203d4e(0xaf0)];let _0x18f1ad=!0x1;_0x203d4e(0xc34)==typeof document&&'function'==typeof document['createElement'](_0x203d4e(0x4c1))[_0x203d4e(0x87d)]?_0x18f1ad=!0x0:_0x1822ee[_0x203d4e(0xbf2)](_0xbbb80e[_0x203d4e(0x7ea)],_0x203d4e(0x416)+_0x34a192+_0x203d4e(0x7d4)),this['featureSupport']['push']({'name':_0x34a192,'supported':_0x18f1ad});}async['checkMediaRecording'](){const _0xcfb53a=_0x227435,_0x5ef8af=_0x51065f['Recording'];let _0x3a94ee=!0x1;try{const _0x2555b1=document[_0xcfb53a(0x992)]('canvas');if(MediaRecorder&&MediaSource&&_0x2555b1[_0xcfb53a(0x5f4)]){const _0x2548e9=_0x2555b1[_0xcfb53a(0x5f4)](),_0x3b01b9=new MediaRecorder(_0x2548e9);_0x3b01b9[_0xcfb53a(0x2ed)](),await new Promise(_0x1a9aa2=>setTimeout(_0x1a9aa2,0x7d0)),_0x3b01b9[_0xcfb53a(0x5a0)](),_0x3a94ee='inactive'===_0x3b01b9['state'];}}catch(_0x50182a){_0x1822ee[_0xcfb53a(0xbf2)](_0xbbb80e['Support'],_0xcfb53a(0x416)+_0x5ef8af+_0xcfb53a(0x9ce),_0x50182a);}this['featureSupport'][_0xcfb53a(0x91f)]({'name':_0x5ef8af,'supported':_0x3a94ee}),_0x3a94ee||_0x1822ee[_0xcfb53a(0xbf2)](_0xbbb80e[_0xcfb53a(0x7ea)],_0xcfb53a(0x416)+_0x5ef8af+_0xcfb53a(0x7d4));}['checkBackgrounds'](){const _0x15f567=_0x227435,_0x3af5a2=_0x51065f['Backgrounds'];let _0x30e370=!0x1;try{document[_0x15f567(0x992)]('canvas')[_0x15f567(0x5f4)]&&(_0x30e370=!0x0);}catch(_0x1e65a6){_0x1822ee['log'](_0xbbb80e['Support'],_0x15f567(0x416)+_0x3af5a2+_0x15f567(0x9ce),_0x1e65a6);}this[_0x15f567(0x21c)]['push']({'name':_0x3af5a2,'supported':_0x30e370}),_0x30e370||_0x1822ee[_0x15f567(0xbf2)](_0xbbb80e[_0x15f567(0x7ea)],_0x15f567(0x416)+_0x3af5a2+'\x20not\x20supported');}[_0x227435(0x6c6)](){const _0x1de36a=_0x227435,_0x138f91=_0x51065f[_0x1de36a(0x9bb)];let _0x37cd04=!0x1;try{const _0x22b69a=document['createElement']('canvas');WebGLRenderingContext&&_0x22b69a['getContext'](_0x1de36a(0x3cb))&&(_0x37cd04=!0x0);}catch(_0x511fbb){_0x1822ee['log'](_0xbbb80e['Support'],_0x1de36a(0x416)+_0x138f91+'\x20check\x20failed',_0x511fbb);}this['featureSupport'][_0x1de36a(0x91f)]({'name':_0x138f91,'supported':_0x37cd04}),_0x37cd04||_0x1822ee[_0x1de36a(0xbf2)](_0xbbb80e[_0x1de36a(0x7ea)],_0x1de36a(0x416)+_0x138f91+_0x1de36a(0x7d4));}[_0x227435(0x8e1)](){const _0x2227c8=_0x227435,_0x1e6520=_0x51065f['AudioContext'];let _0x5c7758=!0x1;_0x2227c8(0x4f8)==typeof AudioContext?_0x5c7758=!0x0:_0x1822ee['log'](_0xbbb80e[_0x2227c8(0x7ea)],'Support:\x20'+_0x1e6520+_0x2227c8(0x7d4)),this[_0x2227c8(0x21c)][_0x2227c8(0x91f)]({'name':_0x1e6520,'supported':_0x5c7758});}}const _0x14ba3d=_0x3f2f0f[_0x227435(0x3e5)]();class _0x5af2cd{static [_0x227435(0x447)];static [_0x227435(0x46f)];static [_0x227435(0x505)];[_0x227435(0x980)];[_0x227435(0x2ae)];[_0x227435(0x21e)];[_0x227435(0x22a)];[_0x227435(0x563)]=new Map();[_0x227435(0x831)];constructor(_0x6cf883,_0x181c1c,_0x32f6f0){const _0x5dc4c4=_0x227435;this[_0x5dc4c4(0x2ae)]=_0x6cf883,this['configs']=_0x181c1c,this[_0x5dc4c4(0x980)]=new _0x51aae5(this[_0x5dc4c4(0x2ae)]),_0x14ba3d[_0x5dc4c4(0x8c7)](),this[_0x5dc4c4(0x21e)]={'audioContext':_0x32f6f0?.[_0x5dc4c4(0xa6d)]??(_0x14ba3d[_0x5dc4c4(0xbc4)](_0x51065f['AudioContext'])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0x32f6f0?.[_0x5dc4c4(0x37e)]??0x1,'minConnections':_0x32f6f0?.[_0x5dc4c4(0x681)]??0x3,'maxConnections':_0x32f6f0?.[_0x5dc4c4(0x47d)]??(_0x32f6f0?.[_0x5dc4c4(0x681)]&&0x4*_0x32f6f0['minConnections'])??0xc,'maxDistance':_0x32f6f0?.[_0x5dc4c4(0xb9c)]??0xa,'maxFps':_0x32f6f0?.[_0x5dc4c4(0x623)]??0x18,'maxBpp':_0x32f6f0?.[_0x5dc4c4(0xad0)]??0.12,'objectStoreConnector':_0x32f6f0?.[_0x5dc4c4(0x92a)]??_0x1047a5[_0x5dc4c4(0xa61)],'externalStorageConnectors':_0x32f6f0?.[_0x5dc4c4(0x856)],'keyValueDatabaseConnector':_0x32f6f0?.[_0x5dc4c4(0x429)]??_0xff58c9[_0x5dc4c4(0xbcb)],'peerConnectionConnector':_0x32f6f0?.['peerConnectionConnector']??_0x41daea['WebRTCBrowserPeerConnectionConnector'],'generativeAIWorkerConnectors':_0x32f6f0?.[_0x5dc4c4(0x861)],'generativeAISpeechConnectors':_0x32f6f0?.['generativeAISpeechConnectors'],'vectorDatabaseConnector':_0x32f6f0?.[_0x5dc4c4(0xc17)],'graphDatabaseConnector':_0x32f6f0?.[_0x5dc4c4(0x6b5)],'documentParserConnector':_0x32f6f0?.['documentParserConnector'],'fileConnector':_0x32f6f0?.[_0x5dc4c4(0x991)],'nlpLibraryConnector':_0x32f6f0?.[_0x5dc4c4(0x415)],'searchConnector':_0x32f6f0?.['searchConnector'],'aiSearchConnector':_0x32f6f0?.['aiSearchConnector'],'queryFileConnector':_0x32f6f0?.[_0x5dc4c4(0xbd0)],'ragConnectors':_0x32f6f0?.[_0x5dc4c4(0xc4a)]},_0x32f6f0?.['disableIntervalHack']&&this[_0x5dc4c4(0x21e)][_0x5dc4c4(0xa6d)]&&_0x2674de[_0x5dc4c4(0x3c5)](this[_0x5dc4c4(0x21e)][_0x5dc4c4(0xa6d)]),_0x1822ee['setVendorId'](this['vendorId']),_0x32f6f0?.[_0x5dc4c4(0x3b3)]&&_0x1822ee[_0x5dc4c4(0x5c2)](_0x32f6f0[_0x5dc4c4(0x3b3)]);}static async[_0x227435(0x3e5)](_0x25fd5b,_0x5f3291,_0x4362a5,_0x355e7b,_0x135be6){const _0x3f0662=_0x227435;this[_0x3f0662(0x505)]=_0x4362a5;const _0x467de8=await this[_0x3f0662(0x89b)](_0x25fd5b,_0x5f3291,_0x135be6);return _0x5af2cd[_0x3f0662(0x447)]||(_0x5af2cd['instance']=new _0x5af2cd(_0x25fd5b,_0x467de8,_0x355e7b)),{'close':_0x5af2cd[_0x3f0662(0x447)][_0x3f0662(0xa42)][_0x3f0662(0x5ad)](_0x5af2cd[_0x3f0662(0x447)]),'authenticateUser':_0x5af2cd[_0x3f0662(0x447)][_0x3f0662(0xb52)][_0x3f0662(0x5ad)](_0x5af2cd['instance']),'authenticateAgent':_0x5af2cd[_0x3f0662(0x447)][_0x3f0662(0x2a8)][_0x3f0662(0x5ad)](_0x5af2cd[_0x3f0662(0x447)]),'validateKey':_0x5af2cd[_0x3f0662(0x447)]['validateKey'][_0x3f0662(0x5ad)](_0x5af2cd[_0x3f0662(0x447)]),'joinCluster':_0x5af2cd[_0x3f0662(0x447)][_0x3f0662(0x27b)][_0x3f0662(0x5ad)](_0x5af2cd[_0x3f0662(0x447)])};}static async[_0x227435(0x908)](){return _0x35b99b['getEstimatedTimestamp']();}static[_0x227435(0x7dc)](){return _0x2b8337['isProduction'];}async['close'](_0x39baec){const _0x908d62=_0x227435;this['clusters'][_0x908d62(0x3e7)](_0x32b276=>{const _0x5d7cac=_0x908d62;_0x32b276[_0x5d7cac(0x85b)](),_0x32b276[_0x5d7cac(0x733)](_0x39baec);}),this[_0x908d62(0x563)][_0x908d62(0x42a)](),this[_0x908d62(0x21e)][_0x908d62(0xa6d)]&&_0x2674de[_0x908d62(0x268)](),_0x5af2cd[_0x908d62(0x46f)]?.(),_0x5af2cd[_0x908d62(0x46f)]=void 0x0,this['authContext']=void 0x0,await this[_0x908d62(0x980)]['signOut'](),_0x5af2cd[_0x908d62(0x447)]=void 0x0;}static async[_0x227435(0x89b)](_0x40535b,_0xa649d8,_0x135875){const _0x5452e3=_0x227435;if(!this['mode'])throw new _0x27b95d(_0x398751[_0x5452e3(0x9e0)],_0x5452e3(0x703));let _0x3198dd;try{_0x3198dd=await(0x0,_0x4328ab[_0x5452e3(0x855)])(_0x35b99b[_0x5452e3(0xb61)](),'sdkValidateAccess')({'vendorId':_0x40535b,'accessToken':_0xa649d8,'secretKey':_0x135875});}catch(_0x44d230){throw new _0x27b95d(_0x398751[_0x5452e3(0x6ef)],_0x5452e3(0x212));}if(!this['isInternalSDKConfigs'](_0x3198dd[_0x5452e3(0x205)]))throw new _0x27b95d(_0x398751['InvalidAccess'],'Invalid\x20credentials');const _0x3ba84b=_0x3198dd[_0x5452e3(0x205)];return _0x3ba84b[_0x5452e3(0xaf4)]||(_0x3ba84b[_0x5452e3(0xaf4)]=[]),this[_0x5452e3(0x46f)]||(this['unsubscribe']=_0x2674de['setInterval'](async()=>{const _0x250028=_0x5452e3;try{const _0x2a2e41=await this['validateAccess'](_0x40535b,_0xa649d8,_0x135875);this[_0x250028(0x505)]===_0x2bba8e['NodeType'][_0x250028(0x5ac)]&&(_0x2a2e41['iceServers']=_0x2a2e41[_0x250028(0xbca)]['filter'](_0x3413ba=>_0x3413ba[_0x250028(0x95d)][_0x250028(0x60c)](_0x250028(0x651)))),_0x3ba84b[_0x250028(0xbca)]=_0x2a2e41[_0x250028(0xbca)];}catch(_0x492036){}},0x1b7740)),_0x3ba84b;}async['authenticateUser'](_0x3e4663){const _0x2acb4a=_0x227435;if(_0x5af2cd['mode']!==_0x2bba8e[_0x2acb4a(0x6e1)]['User'])throw new _0x27b95d(_0x398751[_0x2acb4a(0xbf6)],_0x2acb4a(0xc53));await this[_0x2acb4a(0x980)][_0x2acb4a(0x369)](_0x3e4663);const _0x5363b1=new _0x4cbd69(_0x3e4663['id'],_0x3e4663[_0x2acb4a(0xc09)],_0x3e4663[_0x2acb4a(0x791)]);return this['authContext']={'node':_0x5363b1},_0x14ba3d[_0x2acb4a(0x2f8)](_0x5363b1),{'type':_0x2bba8e[_0x2acb4a(0x6e1)][_0x2acb4a(0x35c)],'getId':_0x5363b1[_0x2acb4a(0xc22)][_0x2acb4a(0x5ad)](_0x5363b1),'getDisplayName':_0x5363b1[_0x2acb4a(0xc0e)][_0x2acb4a(0x5ad)](_0x5363b1),'getEmail':_0x5363b1[_0x2acb4a(0x625)]['bind'](_0x5363b1),'setDisplayName':_0x5363b1[_0x2acb4a(0x3ec)][_0x2acb4a(0x5ad)](_0x5363b1),'setEmail':_0x5363b1[_0x2acb4a(0x7ae)][_0x2acb4a(0x5ad)](_0x5363b1)};}async[_0x227435(0x2a8)](_0x4efffa){const _0x1ac846=_0x227435;if(_0x5af2cd[_0x1ac846(0x505)]!==_0x2bba8e[_0x1ac846(0x6e1)][_0x1ac846(0x5ac)])throw new _0x27b95d(_0x398751[_0x1ac846(0xbf6)],_0x1ac846(0xc53));const {id:_0x51f121,groupId:_0x4ebde5}=_0x4efffa,_0x467bd1=await(0x0,_0x4e090a[_0x1ac846(0x2a3)])((0x0,_0x4e090a['doc'])(_0x35b99b[_0x1ac846(0xc63)](),_0x1ac846(0x35a)+this['vendorId']+_0x1ac846(0x42b)+_0x4ebde5));if(!_0x467bd1[_0x1ac846(0x2e5)]())throw new _0x27b95d(_0x398751[_0x1ac846(0x7f3)],_0x1ac846(0x28e));const _0x5d4fed=_0x467bd1[_0x1ac846(0x205)]();await this[_0x1ac846(0x980)][_0x1ac846(0x369)]({'id':_0x51f121});const _0x54d067=new _0x1235b7(_0x51f121,_0x4ebde5,this['vendorId'],_0x5d4fed);return this[_0x1ac846(0x831)]={'node':_0x54d067},_0x14ba3d[_0x1ac846(0x2f8)](_0x54d067),this[_0x1ac846(0xa1b)](_0x54d067),{'type':_0x2bba8e['NodeType'][_0x1ac846(0x5ac)],'getId':_0x54d067[_0x1ac846(0xc22)][_0x1ac846(0x5ad)](_0x54d067),'onConfigurationChange':_0x54d067['onConfigurationChange'][_0x1ac846(0x5ad)](_0x54d067),'setReportCapacity':_0x54d067[_0x1ac846(0xa9a)][_0x1ac846(0x5ad)](_0x54d067)};}async[_0x227435(0x66d)](_0x1887b2,_0x237154){const _0x448bf4=_0x227435,_0x123c33=await(0x0,_0x4e090a[_0x448bf4(0x2a3)])((0x0,_0x4e090a['doc'])(_0x35b99b['getFirestore'](),_0x448bf4(0x720)+_0x1887b2));if(!_0x123c33[_0x448bf4(0x2e5)]()){const _0x2430b4=atob(_0x1887b2)[_0x448bf4(0x8ab)](':'),_0x585ec5=_0x2430b4[_0x448bf4(0x4f7)](),_0x4b7bba=_0x2430b4[_0x448bf4(0x2b2)](':');if(!_0x585ec5||!_0x4b7bba)throw new _0x27b95d(_0x398751[_0x448bf4(0x6ef)],_0x448bf4(0x755));try{return await(0x0,_0x4328ab[_0x448bf4(0x855)])(_0x35b99b[_0x448bf4(0xb61)](),'sdkValidateAccess')({'vendorId':_0x585ec5,'accessToken':_0x4b7bba,'origin':_0x237154}),_0x585ec5;}catch(_0x2bc1a3){throw new _0x27b95d(_0x398751[_0x448bf4(0x6ef)],_0x448bf4(0xb7f)+(_0x2bc1a3 instanceof Error?_0x2bc1a3['message']:_0x448bf4(0x700)));}}return _0x123c33[_0x448bf4(0x205)]()[_0x448bf4(0x2ae)];}async['joinCluster'](_0x13f431,_0xb0f95b){const _0x2a1d35=_0x227435;if(!this[_0x2a1d35(0x831)])throw new _0x27b95d(_0x398751[_0x2a1d35(0x7f3)],_0x2a1d35(0xba3));if(this[_0x2a1d35(0x831)]['node']['type']!==_0x2bba8e[_0x2a1d35(0x6e1)]['User'])throw new _0x27b95d(_0x398751['NodeTypeNotSupported'],_0x2a1d35(0xc04));if(this[_0x2a1d35(0x563)][_0x2a1d35(0xac9)](_0x13f431))throw new _0x27b95d(_0x398751[_0x2a1d35(0x1ef)],_0x2a1d35(0xb21));const _0x1a1477=new _0xed77cb(this[_0x2a1d35(0x2ae)],_0x13f431,this[_0x2a1d35(0x831)][_0x2a1d35(0x601)],this[_0x2a1d35(0x980)],this[_0x2a1d35(0x21e)],this[_0x2a1d35(0x22a)]);return!0x0!==_0xb0f95b&&await _0x1a1477[_0x2a1d35(0x2b2)](),this['addCluster'](_0x13f431,_0x1a1477),_0x1822ee[_0x2a1d35(0x68c)](_0x2a1d35(0x365),{'clusterId':_0x13f431,'nodeId':this[_0x2a1d35(0x831)][_0x2a1d35(0x601)]['getId'](),'nodeType':this['authContext'][_0x2a1d35(0x601)][_0x2a1d35(0x649)]}),{'leave':_0x1a1477[_0x2a1d35(0x733)][_0x2a1d35(0x5ad)](_0x1a1477),'getLocalNode':_0x1a1477[_0x2a1d35(0x9b6)][_0x2a1d35(0x5ad)](_0x1a1477),'openPubSubTopic':_0x1a1477['openPubSubTopic']['bind'](_0x1a1477),'openObjectStoreBucket':_0x1a1477[_0x2a1d35(0x76b)][_0x2a1d35(0x5ad)](_0x1a1477),'openExternalStorageConnection':_0x1a1477[_0x2a1d35(0xc24)][_0x2a1d35(0x5ad)](_0x1a1477),'openKeyValueDatabase':_0x1a1477['openKeyValueDatabase'][_0x2a1d35(0x5ad)](_0x1a1477),'openGenerativeAIContext':_0x1a1477[_0x2a1d35(0x661)][_0x2a1d35(0x5ad)](_0x1a1477),'openGenerativeAIContextStandalone':_0x1a1477[_0x2a1d35(0x8d1)]['bind'](_0x1a1477),'openGenerativeAIWorker':_0x1a1477[_0x2a1d35(0x2ba)][_0x2a1d35(0x5ad)](_0x1a1477),'openGraphDatabase':_0x1a1477[_0x2a1d35(0x4aa)][_0x2a1d35(0x5ad)](_0x1a1477),'openVectorDatabase':_0x1a1477[_0x2a1d35(0x7f2)][_0x2a1d35(0x5ad)](_0x1a1477),'publishLocalMediaStream':_0x1a1477[_0x2a1d35(0x9e9)][_0x2a1d35(0x5ad)](_0x1a1477),'publishLocalDynamicMediaStream':_0x1a1477['publishLocalDynamicMediaStream'][_0x2a1d35(0x5ad)](_0x1a1477),'getPubSubTopics':_0x1a1477[_0x2a1d35(0x361)][_0x2a1d35(0x5ad)](_0x1a1477),'getObjectStoreBuckets':_0x1a1477['getObjectStoreBuckets']['bind'](_0x1a1477),'getExternalStorageConnections':_0x1a1477[_0x2a1d35(0x5b0)][_0x2a1d35(0x5ad)](_0x1a1477),'getKeyValueDatabases':_0x1a1477[_0x2a1d35(0xa29)][_0x2a1d35(0x5ad)](_0x1a1477),'getGenerativeAIContexts':_0x1a1477['getGenerativeAIContexts']['bind'](_0x1a1477),'getGenerativeAIContextsStandalone':_0x1a1477[_0x2a1d35(0xa1f)]['bind'](_0x1a1477),'getGenerativeAIWorkers':_0x1a1477[_0x2a1d35(0xbef)][_0x2a1d35(0x5ad)](_0x1a1477),'getGraphDatabases':_0x1a1477['getGraphDatabases']['bind'](_0x1a1477),'getVectorDatabases':_0x1a1477[_0x2a1d35(0x1fb)][_0x2a1d35(0x5ad)](_0x1a1477),'getLocalMediaStreams':_0x1a1477[_0x2a1d35(0xb92)][_0x2a1d35(0x5ad)](_0x1a1477),'getRemoteMediaStreams':_0x1a1477[_0x2a1d35(0x4ce)][_0x2a1d35(0x5ad)](_0x1a1477),'getRemoteNodes':_0x1a1477[_0x2a1d35(0x304)][_0x2a1d35(0x5ad)](_0x1a1477),'on':_0x1a1477['on']['bind'](_0x1a1477),'off':_0x1a1477['off']['bind'](_0x1a1477)};}async['connectAgent'](_0x786246){const _0x5fe240=_0x227435,_0x481c8f=new _0xed77cb(this[_0x5fe240(0x2ae)],'crewdle',_0x786246,this[_0x5fe240(0x980)],this[_0x5fe240(0x21e)],this[_0x5fe240(0x22a)]);await _0x481c8f['join'](),this['addCluster'](_0x5fe240(0x782),_0x481c8f),_0x1822ee[_0x5fe240(0x7fb)](_0x5fe240(0x85d),_0x5fe240(0x782)),await _0x481c8f['openGenerativeAIWorker'](_0x5fe240(0x782)),_0x1822ee[_0x5fe240(0x7fb)](_0x5fe240(0xaa1),_0x5fe240(0x782));}[_0x227435(0x644)](_0x5e63e6,_0x8e4fd0){const _0x50ec5a=_0x227435;this[_0x50ec5a(0x563)][_0x50ec5a(0x9b4)](_0x5e63e6,_0x8e4fd0),_0x8e4fd0['on'](_0x50ec5a(0xb9b),()=>{const _0x3e3c31=_0x50ec5a;_0x8e4fd0['off'](),this[_0x3e3c31(0x563)][_0x3e3c31(0x3df)](_0x5e63e6);});}static['isInternalSDKConfigs'](_0x523599){const _0x1e9d05=_0x227435;return void 0x0!==_0x523599[_0x1e9d05(0xbca)];}}return _0x1fc808;})())));