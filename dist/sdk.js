function a0_0x265d(){const _0x733f5=['Agent\x20output\x20is\x20not\x20a\x20string','Knowledge','isNeedRestart','KeyValueDatabaseRequestTransactionsValue','getReport','processInboundReport','InvalidDataChannel','checkSyncComplete','Router','stun:','now','closeSubscription','logger','notifyObjectStoreOfNodeJoin','SyncComplete','handleFileWrite','https://api.stg.crewdle.ai','handleRequestPayload','readyDebounce','shift','transactionTable','handleRemoteTrackFailure','Index','processDataChannelReport','LoadKnowledgeFunction','VectorDatabaseAlreadyExists','commit','statsReporting','GenerativeAIModelOutputType','GenerativeAIWorkerMissingConnector','After\x20Synchronization\x20-\x20Is\x20Database\x20sync?\x20','reads','write','Additional\x20context:\x0a','transactionIds','gain','ended','Media','description','WriteFile','GenerativeAITracing\x20-\x20Trace\x20job\x20id\x20does\x20not\x20exist','removeConnection','answer','1:519415702791:web:5dd39042f881cfde3251a2','getSubscriptionInfo','notifyObjectStoreOfNodeLeave','evaluatePartialJob','headers','completion_tokens','processReport','mediaTopics','ObjectStoreStats','height','Copywriter\x20Agent\x20creates\x20engaging,\x20high-quality\x20written\x20content\x20for\x20marketing,\x20blogs,\x20and\x20advertisements.\x0a-\x20Identifies\x20the\x20purpose\x20and\x20audience\x20before\x20generating\x20text.\x0a-\x20Follows\x20brand\x20tone\x20and\x20voice\x20guidelines\x20if\x20provided.\x0a-\x20Generates\x20SEO-optimized\x20and\x20persuasive\x20content\x20for\x20different\x20formats.\x0a-\x20Ensures\x20all\x20writing\x20is\x20original\x20and\x20avoids\x20generic\x20phrases.\x0a-\x20Structures\x20blog\x20articles\x20with\x20headers,\x20ad\x20copy\x20with\x20a\x20headline-body-CTA\x20format.','models','isFeatureSupported','statsCollection','delete','file','buildTableEvent','removeGraphDatabase','addRemoteConnection','remediationManager','createSubscription','waitForArrayBufferSize','write-file','dataStores','createSenderConnection','collection-create','Competitive\x20Analysis\x20Agent','getSubscribedTracks','insert','addBidResponse','timeoutValue','KeyValueDatabaseIndexNotFound','JobDispatcherInvalidJobType','logLevel','ExternalStorageConnectionDoesNotExist','dataTopics','Error\x20reading\x20file\x20chunk\x20after\x20','email','getToolDescription','getReader','ConnectionState','load','unsubscribeHandler','sender-send-message','Invalid\x20subscriber.','replaceTrack','codes','TimePerFrame','getTableConnector','/transactions/lastTransaction','NodeConnectionsUpdate','sendIceCandidates','createGenerativeAIWorker','isNodeReady','objectStoreConnector','debug','prompts','InitialPrompt','trackChanges','FileStatus','fileChunks','handleFolderCreate','/nodes','groupId','CloseExternalStorageConnection','setupResizeHandler','Error\x20closing\x20writable\x20stream','systemTopic','createJob','setConnectionType','knowledgeCutoffDate','once','Perform\x20a\x20search\x20on\x20Perplexity\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','WordSplitter','ExternalStorageNameNotString','google','thread-','discoveryService','createReceiverConnection','isEqual','tableObserver','\x27\x20to\x20','Cannot\x20create\x20External\x20Storage:\x20Name\x20must\x20be\x20a\x20string','addDoc','handleSubscriptionSystemEvents','table','serverTimestamp','signInWithCredential','Delete','user','timeSending','getRemoteId','List','removeJobDispatcher','GetContextQuery','CloseKeyValueDatabase','updateDebounceTimeout','snippet','currentBytes','Execute\x20the\x20agent\x20','bind','trackEndedListeners','blocks','connectionTimeout','node','remote-stream-missing-provider-id','STVolatility','server','setParams','isMediaDestination','jobBids','Writable\x20stream\x20is\x20missing','Tool','bufferedChunks','encode','logSyncMetrics','incomingTopic','o3-mini','shouldProcessTransaction','RoundTripTime','GenerativeAIWorkerModelSyncError','handleOnMessage','NodeAlreadyExist','Invalid\x20key','data:\x20[DONE]\x0a\x0a','object-store-cannot-write-transaction','interval','Invalid\x20object\x20store\x20sync\x20message.','agent','answerContentAvailable','.java','keys','maxFramerate','Received\x20event\x20on\x20cluster','firebase-disconnect','\x20does\x20not\x20support\x20content\x20type\x20','writes','handleSuccess','getName','String','startTime','AgentSkill','objectRequests','Workflow','getId','\x20seconds','capacityReporter','reasoning','createMediaStreamSource','push','setupListeners','IDBDatabaseConnector','local-media-stream-track-fail','state','isBidResponse','VectorDatabaseDoesNotExist','DocumentParser','.pdf','prototype','indexOf','remoteUnsubscriber','isFailedResponse','Text\x20is\x20required','clusterId','\x0a\x20===\x20Total\x20Nodes:','Llamacpp','log','run','.crewdle-pending','AppSync\x20client\x20not\x20ready','some','LocalMediaStreamAlreadyExists','key-value-database-not-open','tail','createOffer','isChannelEnabled','getVideoTracks','clearUpgradeTimeout','timePerFrame','manageBufferedChunks','canAddCandidates','queryFileConnector','DataChannel\x20buffer\x20is\x20full.','\x20received\x20responses:','asyncEndpointUrl','list','checkMediaStream','DataStream','Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank','getBuffer','if-else-router','clientStream','getApp','results','jobId','.json','isSubscribed','KeyValueDatabaseTableNameReserved','minResolutionScale','Low','previous','Orchestrator\x20handleSystemEvents','temperature','frameHeight','Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string','removeEventListener','instance','Receiver\x20connection\x20is\x20not\x20initialized.','remediation','toLocaleDateString','northamerica-northeast1','api-key-missing','vendorId','success','getStatus','.\x20Confirmation?\x20','Joined\x20cluster','nlpLibraryConnector','Initial\x20MMR\x20built\x20with','PeerConnection','Internal\x20event\x20\x27','collectionId','Detection','\x20with\x20','isWhereValue','key-value-database-already-exists','status','unregisterSystemPublisher','InputAudioStream','systemTopicUnsubscribe','GenerativeAIWorker:\x20Opening','targetId','asObservable','Boolean','base64','outgoing-stream-no-topic','processPendingHandshakeCandidates','checkAudioContext','senderTimeProcessing','1434852MozRFF','Invalid\x20version\x20\x27','play','waitSendBuffer','cluster-already-joined','Internal\x20SDK\x20error:\x20','handleFileRequestAnswer','connectionManager','.tcl','GenerativeAIInferenceToolType','sourceVideo','maps','ExternalStorageInvalidPath','DataChannel\x20is\x20not\x20initialized.','Synced','getDataCollection','cluster','.crewdle-transactions','chunksReceived','ExecuteAgent','ObjectStorageBucket','VectorSearch','nextNodeId','JobQueueService:\x20Job\x20completed','CloseVectorDatabase','enabled','peerConnectionConnector','generative-ai-worker-creation-failed','publishSystemMessage','handleUpdateMediaStream','crewdle','batch','unpublish','PubSubTopic\x20not\x20found','isInternalSDKConfigs','ancestors','getSenderTotalBytes','attributes','Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key','lastUpdated','openGenerativeAIWorker','0\x20B','Mistlet\x20capacity\x20report\x20not\x20set.','removeSubscription','Node\x20type\x20is\x20required','setOnDisconnectHandler','Support:\x20','failed','handleContentRemoteMediaStreamTrackFail','initializeSystemTopic','topics','Jitter','applyRemediation','.cfg','storage','publishSyncCompletedAfterWrites\x20-\x20','authenticateAgent','return\x20this','.exs','messagesSent','WebRTCBrowserPeerConnectionConnector','request','skipEncryption','/developers/','RemoteAdd','externalStorageConnectors','fileConnector','JobWorker:\x20Sending\x20job\x20partial\x20result','external-storage-connectors-missing','removeNode','ceil','subscribeToJobs','No\x20file\x20content\x20found','updateLastTransactionId','JobQueueService:\x20Error\x20running\x20job','reduce','NodeUpdate','RemoteRemove','sort','owner','setRemoteNode','entity','getInstance','lastTransactionId','getRemoteConnections','firebase-connect','isIceCandidate','isInternalLoggingConnector','InvalidAccess','handleContentUnpublishMediaStream','Prompt','VectorDatabaseStats','updated','deleteFileChunks','listenUnsubscriber','resetConnection','toStringTag','events','FramePerSecond','OutputAudioStream','Error\x20opening\x20trace','writeTransaction','inactive','Error\x20retrieving\x20context','observer','PromptSource','Early\x20return','processRank','objectStores','node-invalid-type','Invalid\x20publisher.','count','listFiles','sendReject','.groovy','getOrResetPendingFileTimeout','file-download','tool','vector-database-already-exists','\x20to\x20generate\x20a\x20response.','getRank','ExternalStorageConnectorsMissing','.sql','GraphDatabaseCreationFailed','Operations:','16CTDnFG','message','traceLevel','WaitFalse','Generic\x20AI\x20Agent','race','queryOrPrompt','not-resolved','decodeJWT','discover','handshakeState','handleNodeSystemEvents','ReceiverOnMessage','GraphDatabaseMissingConnector','close','\x20when\x20you\x20need\x20contextual\x20data\x20to\x20inform\x20your\x20response.','FinalOutput','getDatabase','startsWith','/capacities','419862EVFPiP','ModelText','.crewdle-last-transaction','accessToken','RetrieveTrace','nodes','Problem\x20detected:\x20','createNewBatch','Number','processContentAvailable\x20-\x20Peak\x20comparison:','statsManager','AI\x20worker\x20creation\x20failed.','writeTransaction\x20-\x20transaction\x20already\x20exists','isJobAttribution','createLocalMediaStream','.hbs','registerPublisher','isMediaSource','prompt','Competitive\x20Analysis\x20Agent\x20tracks\x20competitors\x27\x20products,\x20pricing,\x20and\x20market\x20strategies.\x0a-\x20It\x20first\x20identifies\x20competitors\x20and\x20analysis\x20aspects\x20(e.g.,\x20pricing,\x20features,\x20marketing).\x0a-\x20Collects\x20insights\x20from\x20public\x20reports,\x20websites,\x20and\x20customer\x20reviews.\x0a-\x20Provides\x20a\x20structured\x20comparison\x20highlighting\x20strengths,\x20weaknesses,\x20and\x20differentiators.\x0a-\x20Uses\x20a\x20SWOT\x20analysis\x20format\x20when\x20applicable.\x0a-\x20Presents\x20competitor\x20data\x20in\x20tables\x20with\x20a\x20Data\x20Source\x20&\x20Timestamp\x20section.','GenerativeAITracing\x20-\x20Error\x20while\x20opening\x20trace.','substring','frames','Internal\x20unknown\x20error:\x20','processTransactionsToComputeMMR','JobType','filter','parseDataCollectionBlocks','getLastUpdated','ObjectStoreInvalidSyncMessage','handleTransactionPayload','Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.','>\x0a\x0a','syncKeyValueDatabase\x20-\x20Retrying\x20sync\x20in\x20broadcast\x20mode.\x20Waited\x20for\x20cluster\x20readiness\x20for:','jitter','Model\x20not\x20found','File\x20sending\x20interrupted','sdk-internal-error:\x20','createRemoteNode','object-store-invalid-state','registerSystemSource','read','Error\x20fetching\x20URL','checkAudioOutput','st_volatility','connectionType','processOutboundReport','Partial','/workflows/','Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed','handleSubscriptionNeedMediaStream','/chat/completions','support','removeItem','Update','Query\x20file\x20connector\x20not\x20set','Invalid\x20workflow\x20block\x20type.','getPacketsLostPerc','checkAudioVolume','handleJobAttribution','clearWaitSuccess','graph-database-missing-connector','syncTransactionsWritten','pub-sub-topic-already-exists','trackListeners','compileStats','Search\x20Agent\x20specializes\x20in\x20retrieving\x20accurate\x20and\x20relevant\x20information\x20using\x20available\x20tools.\x0a-\x20It\x20determines\x20the\x20best\x20search\x20approach\x20based\x20on\x20the\x20user\x20query.\x0a-\x20It\x20uses\x20structured\x20queries\x20to\x20gather\x20precise\x20results.\x0a-\x20It\x20filters\x20out\x20irrelevant\x20or\x20outdated\x20information.\x0a-\x20It\x20summarizes\x20findings\x20clearly\x20and\x20concisely.\x0a-\x20It\x20provides\x20sources\x20or\x20references\x20when\x20applicable.\x0a-\x20It\x20ensures\x20responses\x20are\x20up-to-date\x20and\x20fact-based.\x0a-\x20It\x20structures\x20results\x20in\x20Markdown\x20format\x20for\x20readability.\x0a-\x20It\x20avoids\x20speculation\x20and\x20only\x20returns\x20verified\x20information.','Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string','Error\x20executing\x20agent','IngestTrace','clientHeight','Local\x20stream\x20does\x20not\x20exist.','isWhereBetween','getEnabledChannels','getLocalMediaStreams','issue','KeyValueDatabaseStats','Embeddings','ObjectStoreAlreadyExists','score','joinedClusters','KeyValueDatabaseDoesNotExist','debounceStats','openObjectStoreBucket','reportCapacity','KeyValueDatabaseSendTransactions','Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','\x20is\x20required','shouldContinuePropagation','hasOwnProperty','every','all-minilm-l12-v2','rebuildMMR','hash','batchTimeout','Remove','UnpublishMediaStream','graph-database-name-not-string','maxLayer','configs','buildInitialMMR','wait','clusters/','parseWorkflowBlocks','DataCollection','file-list','dataUnsubscribers','RelationExtractor','featureSupport','setEmail','bodyParameters','unsubscribe','messageBuffer','page','pow','Key-Value\x20Database\x20-\x20Sync\x20Completed','jobs','validateLayout','compareTransactions','getShareableStreamId','Database\x20already\x20exists','\x20already\x20exists.','https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','getConfigs','KeyValueDatabaseSyncRequired','CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','update','setTimestamp','DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found','\x0a\x20===\x20Current\x20MMR\x20Root','setReceiverBytes','Strategizing\x20Agent\x20helps\x20businesses\x20evaluate\x20strategies,\x20analyze\x20market\x20conditions,\x20and\x20optimize\x20decision-making.\x0a-\x20Identifies\x20the\x20business\x20goal\x20or\x20challenge\x20before\x20providing\x20recommendations.\x0a-\x20Provides\x20data-driven\x20insights\x20referencing\x20industry\x20benchmarks\x20and\x20trends.\x0a-\x20Uses\x20logical\x20frameworks\x20such\x20as\x20SWOT\x20Analysis,\x20Risk\x20Assessment,\x20and\x20Strategic\x20Roadmaps.\x0a-\x20Presents\x20recommendations\x20objectively,\x20listing\x20advantages\x20and\x20disadvantages.\x0a-\x20Uses\x20structured\x20formatting\x20with\x20bullet\x20points\x20and\x20comparison\x20tables.','processTransactionsToComputeMMR\x20-\x20Transactions\x20appended\x20-','addConnection','crewdleSDKDisableLogging','.bat','collection-query','searchInDataCollection','root\x20::=\x20\x22true\x22\x20|\x20\x22false\x22','unregisterSystemSource','Today\x20Date:\x20','test-page','WorkflowInvalidBlockType','Error\x20during\x20MMR\x20rebuild\x20logging:','nodesConnected','getTracks','WaitTrue','observe','Hash\x20computation\x20failed,\x20retrying...','job-','pubsubTopics','jobWorkers','notifyCluster','handleObjectMove','NodeLeave','JobWorkerCreationFailed','limitToFirst','\x20new\x20transactions','app','Invalid\x20subscription.','getGenerativeAIWorkers','\x20attempts:','removeTrack','Module','rating','setPriority','getVectorDatabase','contentType','Remote\x20connection\x20already\x20exists.','\x20were\x20ready\x20in','onBufferedAmountLow','/nodes/','defineProperty','Support:\x20current\x20config','consumeBufferedEvents','Cannot\x20write\x20transaction.','Object\x20store\x20not\x20synced.','bandwidth.bitrate','Events','key-value-database-table-does-not-exist','Sender\x20connection\x20is\x20not\x20initialized.','AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','Publish\x20the\x20transaction','ObjectStoreDoesNotExist','frameTime','GenerativeAILabelConflict','Search\x20connector\x20not\x20set','docs','Job\x20Dispatcher\x20already\x20exists','copywriter-agent','.j2','signOut','createLocalDynamicMediaStream','getAncestors','evaluateBids','searchApiKey','listenerUnsubscribers','developers/','Code','audio','Move','object-store-already-subscribed','Backgrounds','ObjectStoreInvalidPath','NeedMediaStream','onConfigurationChange','createMediaStreamDestination','PromptFunctionParamsType','move','parseWorkflowDocument','getToolParams','ModelVector','JobWorker:\x20Handling\x20job\x20attribution','initialPrompt','trend-spotter','stopNoThrottlingHack','resolve','URL\x20is\x20required','sendFile','index','request-file','handleContentUpdateMediaStream','onValue','SHA-1','queryParameters','undefined','providerId','search-agent','Base\x20Peer\x20Connection','collectSendersStats','getMediaSubscription','Job\x20with\x20id\x20','\x27\x20in\x20layout','generative-ai-context-does-not-exist','remote-inbound-rtp','removeTopic','renderElement','LocalMediaStreamNoAudioContext','receiverCurrentBytes','Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20','instructions','Monitors\x20competitors\x20and\x20provides\x20insights\x20on\x20their\x20products,\x20pricing,\x20and\x20updates.','incomingManager','loadEnabledChannels','generativeAIContexts','createGenerativeAIContext','getReceiverBitrate','findNewMediaSubscription','number','data-collection','syncedFileExists','SyncKeyValueDatabasse\x20-\x20Waiting\x20for\x20ancestors','\x20must\x20be\x20a\x20boolean','job-dispatcher-job-exists','reject','reset','minConnections','pubsub','clusterKey','getChannelData','job-worker-does-not-exist','\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.','tableName','JobDispatcherInvalidPayload','Connection','handlePeerConnectionSystemEvents','ingestFile','orderByKey','PubSubTopicDoesNotExist','\x0a\x0adata:\x20','NodeNotAuthenticated','root\x20hash:\x20','externalStorageConnections','fromEntries','onNodeUpdate','closed','onremovetrack','gpt-4o-mini','processServiceReport','search','packetsSent','cpu.time_per_frame','signalingState','.jl','GraphDatabaseAlreadyExists','Bid','Model','setSubscriptionRequestTimeout','Cannot\x20unpublish\x20object:\x20','cores','InternalSDKError','maxConnections','totalNodes','getTotalBytes','lastHeartbeat','offset','getInternalTrackParams','ExecuteCustomSkill','RemoteMediaStreamInvalidSubscriptionParams','floor','subscriptionManager','handleLocalTrackFailure','Chosen\x20answer','checkExistingPendingFileContent','ReceiverPeerConnection.onMessage','relations','onNodeDisconnect','ClosePubSubTopic','getToolName','remainingTracks','startIndex','Invalid\x20job\x20service\x20payload.','removeOutgoingSubscription','handleOptimizationConnectionSuccess','text/plain','mediaDevices','PubSubTopicAlreadySubscribed','/resources/external-storage/items/','Internal\x20error:\x20','retryDelay','Model\x20not\x20found\x20','Execute\x20a\x20SQL\x20query\x20on\x20a\x20file\x20to\x20retrieve\x20data.\x20The\x20query\x20should\x20be\x20designed\x20to\x20extract\x20relevant\x20information\x20from\x20the\x20file.\x20Available\x20table\x20is\x20file\x20and\x20columns\x20are:\x20','loggingCycle','us-east-1','\x20with\x20response:','getPubSubTopics','Error\x20stringifying\x20object','_ready','WebScraperRaw','links','forEach','generic-agent','stats','callback','Invalid\x20params','waitAnswer','Attempt\x20','1.0.27','checkWebRTC','distance','removeRemoteNode','No\x20connections\x20available\x20to\x20send\x20subscription\x20request','createConstantSource','SearchPerplexity','fileSendingMap','oncloseTimeout','stopConnection','ExternalStorage','connection','chosenAnswers','Invalid\x20node\x20type','setUpgradeTimeout','getObjectStoreBuckets','\x20failed.\x20Retrying...','Node\x20type\x20is\x20invalid','FPS','JobWorker:\x20Received\x20job\x20request','setTransformations','validateQuery','processTransactionPayload','GenerativeAIEngineType','senderPreviousBytes','findNextNodeId','setVendorId','publishUserUpdate','slice','getDataCollections','senderCurrentTimestamp','getJobWorkers','subscriptionRequests','Search','setRemoteConnections','UnsubscribeMediaStreamdiaStream','LocalReport','logPropagateSystemEvent','.mustache','resolutionScale','fetchContentFromUrl','external-storage-name-not-string','minRelevance','previousBytes','Remote\x20MediaStream\x20already\x20exists','::￿','.crewdle-layout','.xlsx','PubSub','handleNodeLeave','getConnectionDestinations','Cannot\x20get\x20file:\x20','ragConnector','LoadSkillFunction','eventTarget','MediaStreamPriority','Error\x20resolving\x20readyPromises:','requestSubscription','MerkleMountainRange\x20-\x20appendTransaction\x20-\x20Completed.\x20Root:','registerSubscriber','isLoaded','Workflow\x20does\x20not\x20exist.','getSize','createBufferSource','tableLayout','Send\x20request','234993BJOtnG','key-value-database-creation-failed','engineType','subscriptions','handleHandshake','Invalid\x20index\x20in\x20table\x20\x27','createGraphDatabase','msalRefreshToken','clearWaitAnswer','AISearch','threshold','\x20not\x20found.','Error\x20searching','CustomSkill','getFirestore','layout','PubSubTopicNameNotString','Missing\x20transaction\x20id','not-in','drawImage','loop','application/json','unregisterSource','firebaseConfig','isPromiseResolved','logWaitTime','handleContentUnsubscribeMediaStream','PubSubTopic\x20publish','sendChunked','getVectorDatabases','addNode','computeHash','job-dispatcher-invalid-job-type','where','bufferEvent','.ini','internalContext','RequestAccepted','All\x20recipients\x20already\x20received','set','retryCallback','JobWorkerAlreadyExists','total','queryCollection','pipe','handleNoAnswer','Summary\x20Generator','debounceReady','NodeTypeNotSupported','getGraphDatabase','Received\x20track','AppSync\x20subscribe','topic','request-accepted','forceLog','getDocs','Missing\x20OpenAI\x20API\x20key','getTime','Error\x20executing\x20code','.cpp','debugEnabled','calculateSize','\x0a\x20\x20===\x20Initial\x20MMR\x20Root:\x20','CREWDLE_WEB_SDK','delta','functionsRegion','connection-no-retry-queue','arguments','competitive-agent','createOutgoingSubscription','params','KeyValueDatabaseInvalidQuery','jobPhase','transformations','destinationIds','generative-ai-context-job-timeout','previousFrames','Connection\x20does\x20not\x20exist','getPeaks','createAIJob','apiUrl','KeyValueDatabaseAlreadyExists','min','senderBitrate','More\x20content\x20available\x20on\x20page\x20','/resources/generative-ai-collection/items/','accumulateResult','WebScraper','GenerativeAITracing\x20-\x20Error\x20while\x20tracing','contentRect','sendStats','split','removeRemoteMediaStream','peer-connection','job-worker-invalid-type','logSupport','getSupportedContentTypes','JobDispatcherDoesNotExist','7priFLK','GenerativeAITaskType','onDisconnectHandler','FileDelete','getSubscriptionLabel','searchEngineId','registerDestination','recomputeRoot','abs','RemoteConnectionExists','logMMRRebuild','start','resizeHandler','\x20deleted.','maxBpp','handshakeDebounce','Generative\x20AI\x20context\x20invalid\x20partial\x20result.','ScreenSharing','isOpened','endpointMethod','frameWidth','\x20with\x20\x27','Node\x20already\x20exists.','file.type','key-value-database','\x20-\x20Sending\x20propagation\x20(','ConnectionBufferNotEmpty','grammar','handleCloseContent','getInternalStreamId','notifyClusterNodeUpdate','publishSyncCompletedAfterWrites','Invalid\x20key\x20\x27','match','removePubSubTopic','.xml','filteredDestinationIds','receiverPreviousBytes','Subscription\x20request\x20failed.','external-storage-upload','DataStream\x20send','processList','firstValueFrom','packetsLost','unsubscribeListener','request-file-sync','createCollection','createBatch','join','receiverCurrentTimestamp','Cannot\x20subscribe\x20to\x20ExternalStorage:\x20Already\x20subscribed','isAvailable','documentParserConnector','getDTVolatility','connectionPool','createObjectStoreBucket','Reranker','receiver-on-message','sequence','downgrade','deleteTransactionsForTable','SHA-256','Unknown\x20skill\x20type','getRoot','Database\x20does\x20not\x20exist','byteLength','pubSubTopics','clearRect','startBidResponseHandling','getTable','removeObjectStore','Graph\x20database\x20creation\x20failed.','checkScreenSharing','handleContentSubscribeMediaStream','AudioVideoDelay','Error\x20processing\x20ingest','generative-ai-label-conflict','sender','Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number','removeSubscriptionsForNode','setInterval','generative-ai-context-invalid-partial-result','Job\x20Dispatcher\x20does\x20not\x20exist','missing-system-topic','filesSynced','sendTransactionsValue\x20-\x20value\x20not\x20found','manageOptimization','ObjectStoreNotSynced','readyPromises','KeyValueDatabaseContentSynchronized','getLayout','AiSearch','Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','Internal\x20SDK\x20Error:\x20','No\x20RAG\x20connector\x20available','mmr','Jobs','ObjectStorage','FetchUrl','CrewdleReceiverConnection\x20ontrack','evaluateBidsAndAttributeJob','text/csv','AITrace','function','iceServers','removeTrackCallback','removeRemoteConnection','optimizationLayers','connectionGroup','TextGeneration','notifyClusterNodeJoin','isProduction','subscription','setCurrentVersion','sync','out','isReady','answererId','relevance','candidate','collection-delete','node-type-required','timeoutCallback','RequestFile','Cluster','getJob','Generative\x20AI\x20context\x20creation\x20failed.','Stats','handshakeCandidates','JobWorkerDoesNotExist','addVideoTrack','uuid','No\x20parameters\x20provided','onCandidate','receiver','maxBitrate','\x20received\x20result:','systemMessages','openPubSubTopic','Emitting\x20event\x20on\x20local\x20cluster','.kt','values','Subject','fps','NodeTypeRequired','checkMediaRecording','publishFolder','appendTransactionAndUpdateHashMap','folder-create','body','https://api.crewdle.ai','loggingConnectors','GenerativeAIContextJobFailed','framesEncoded','Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string','user-update','graph-database-already-exists','Job\x20Worker\x20does\x20not\x20exist','\x27:\x20missing\x20or\x20invalid\x20keyPath','toFixed','Generative\x20AI\x20context\x20job\x20already\x20consumed.','getIsLoaded','Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream','getSenderBitrate','token','maxFps','auth','processJob','Failed','JobWorker:\x20Received\x20job\x20attribution','\x20must\x20be\x20a\x20valid\x20JSON\x20string','getSimilarity','1594716MhMjBH','Error','comparePeaks','roundTripTime','Cluster\x20already\x20joined','additionnalInstructions','getMilliseconds','MissingSystemTopic','JobStatus','entries','getExternalStorageConnection','ranges','Offline','Received\x20ContentSynchronized\x20from\x20','pub-sub-topic-already-subscribed','content','Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number','ExternalStorageUpload','deletePendingFile','ExternalStorageConnection\x20not\x20found','Strategizing\x20Agent','action','.twig','MissingRemoteConnection','GenerativeAIContextInvalidPartialResult','Completed','retryQueue','messageUnsubscriber','handleError','onDisconnect','entities','syncResolve','newPath','createAnswer','externalStorages','Key-value\x20database\x20peak\x20not\x20found.','asyncEndpointMethod','lastClockUpdate','executeAgent','getGrammar','inputTokens','Info','createTopic','videoWidth','Cannot\x20publish\x20move\x20operation:\x20','active','processContentSynchronized','removeExternalStorageConnection','ReadableStream\x20is\x20not\x20supported','graphDatabaseConnector','path','captureStream','CPUCycle','Apply\x20remediation','getWorkflow','localId','ownerId','Attribution','SubscriptionRequestNoAnswer','dataBucketIds','vectorDatabases','addEdge','objectToArrayBuffer','processOutboundReports','Signaling','tools','FileWrite','Offer','bytesReceived','senderTotalMessages','jobObservers','searchConnector','subscriptionRequestsQueue','User','.sh','digest','detectVideoIssues','Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.','system-stats','bitrate','MediaStream\x20feature\x20not\x20enabled','connector','Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.','currentFrames','outgoingManager','key','aiSearchApiKey','utf8','logConnectionState','unregisterPublisherListener','inference','then','hasRemoteNode','contentSize','MistletCapacityReportNotSet','getMediaStream','keyValueDatabases','handleSubscriptionProvideMediaStream','Answer','contentManager','connectionState','receiverStreams','canvas','/jobs','connectionConstructor','unregisterRemoteNode','Disconnected','file-ingest','ApiKeyMissing','embedding','topicLabel','Data\x20collection\x20does\x20not\x20exist.','scheduleTime','destroy','Invalid\x20value.\x20Must\x20be\x20an\x20object.','pub-sub-topic-name-not-string','\x0a\x20===\x20Synchronization\x20Time:\x20','handleFileRequest','getDataBucketIds','Cannot\x20publish\x20payload:\x20','setBytes','Node\x20is\x20not\x20an\x20agent','Add','setupRenderElement','processJobStream','transactionService','GraphDatabaseDoesNotExist','handleProblem','internal-sdk-error','stringify','disconnectCallback','CloseGraphDatabase','configure','input-audio-stream','webgl','InvalidPublisher','\x20must\x20be\x20a\x20string','registerSource','Query\x20is\x20required','addRemoteNode','WorkflowDoesNotExist','Routes\x20messages\x20based\x20on\x20conditional\x20logic.','Summary\x20Generator\x20extracts\x20key\x20points,\x20action\x20items,\x20and\x20critical\x20insights\x20from\x20emails\x20and\x20documents.\x0a-\x20Identifies\x20the\x20document\x20type\x20(e.g.,\x20report,\x20legal\x20contract,\x20meeting\x20notes).\x0a-\x20Highlights\x20action\x20items\x20and\x20distills\x20the\x20main\x20takeaways\x20concisely.\x0a-\x20Provides\x20bullet-point\x20executive\x20summaries.\x0a-\x20Uses\x20Markdown\x20for\x20structured\x20formatting\x20with\x20a\x20Summary\x20and\x20Next\x20Steps\x20section.','createVectorDatabase','request-file-write','openVectorDatabase','addProblem','GenerativeAIContextAlreadyExists','sentence-splitter','round','searchOnPerplexity','batchQueue','PubSubTopic\x20onMessage','json','Missing\x20graph\x20database\x20connector','PayloadAction','bid','parse','completeSync','\x20MB','FeatureNotEnabled','Sending\x20\x27','publishLocalMediaStream','document-parser','restartTimeout','sourceId','ExternalStorageStats','Skill','chooseAnswer','GenerativeAITracing\x20-\x20trace\x20is\x20not\x20open','chunk-splitter','addAudioTrack','New\x20MMR\x20Root:\x20','UpdateMediaStream','NodeManager\x20-\x20ConnectionSuccess','send\x20error\x20on\x20','Helps\x20businesses\x20analyze\x20options\x20and\x20make\x20strategic\x20decisions.','object-store-stream-does-not-exist','channel','Learning\x20Agent','version','clusters','urls','system','commitType','addIssue','getContent','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process\x20with\x20not\x20all\x20ancestors\x20connected.','GenerativeAIContextJobMissingThreadId','error','publishNodeLeave','SenderSendMessage','openedTraces','vector','.conf','job-dispatcher-observer-not-found','Wait','WorkflowTrace','RemoteMediaStreamDoesNotExist','exists','object-store-name-not-string','isPartialResultResponse','add','getConnections','remediations','isSync','clearSubscriptionRequestTimeout','getLocalMediaStream','Rejected','Pending','endsWith','aiSearchConnector','Accepted','Connection\x20not\x20connected.','retry','getExternalStorageConnections','region','logRaw','debounceRebuildMMRWithTransaction','connection-not-connected','GenerativeAIContextCreationFailed','DEBUG\x20-\x20','Received\x20','globalObject','Transaction','RequestFileWrite','outgoingStreams','modelId','media-stream','getQuery','AI\x20Service\x20already\x20exists','JobDispatcherAlreadyExists','timeReceiving','job-dispatcher-job-not-found','publish','getCoresFromCapacityReport','JobStream','onHandshakeStateChange','onConnectionStateChange','job-dispatcher-already-exists','embed','dt_volatility','processTransactionsToComputeMMR\x20-\x20All\x20transactions\x20are\x20appendable.\x20Append:\x20','setLoggingConnectors','openKeyValueDatabase','KeyValueDatabaseTableDoesNotExist','Generative\x20AI\x20context\x20job\x20timeout.','crewdle-sdk-stg.appspot.com','mute','handleOffer','operator','\x20not\x20supported','unregisterPublisher','onRemoveTrack','CrewdleSenderConnection\x20createOffer','getLocalNode','GenerativeAIWorkerCreationFailed','context','hasMessage','addEventListener','Restart','https://huggingface.co/leliuga/all-MiniLM-L12-v2-GGUF/resolve/main/all-MiniLM-L12-v2.F16.gguf','nodeKey','.doc','value','component','\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number','label','data-collection-does-not-exist','unregisterCluster','JobDispatcherCreationFailed','successNotified','ConnectionNotinitialized','@context.','custom-skill','transaction','topK','connected','isComputingMMR','getMaxDistance','Agent','getConnectionType','NodeManager\x20-\x20NodeLeave','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process','DTVolatility','agentId','getFunctions','No\x20connector\x20found\x20for\x20model','[DONE]','pendingSyncTransactions','limit','errorDetails','buffer','options','Trend\x20Spotter','data-stream','.yml','Warning','ExecuteCode','send','\x20failed.','IntermediateOutput','Logging\x20trace','PromptRating','expectedTransactions','Done','key-value-database-table-not-found','Processing','AppSync\x20publish','length','addCluster','Feedback\x20Agent\x20specializes\x20in\x20collecting\x20structured\x20feedback\x20through\x20dynamic\x20Q&A\x20interactions.\x0a-\x20It\x20identifies\x20the\x20type\x20of\x20feedback\x20needed\x20(e.g.,\x20product\x20experience,\x20service\x20quality,\x20event\x20review).\x0a-\x20It\x20asks\x20specific,\x20unbiased,\x20and\x20concise\x20questions\x20sequentially.\x0a-\x20Adjusts\x20follow-up\x20questions\x20dynamically\x20based\x20on\x20responses.\x0a-\x20Categorizes\x20responses\x20into\x20themes\x20if\x20applicable.\x0a-\x20Provides\x20a\x20structured\x20summary\x20at\x20the\x20end.\x0a-\x20Never\x20asks\x20leading\x20or\x20suggestive\x20questions.\x0a-\x20Uses\x20Markdown\x20formatting\x20for\x20clarity.','An\x20error\x20occurred','Database\x20not\x20open','maxDepth','audioDestination','Perform\x20a\x20search\x20on\x20Google\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','audioContext','setupStatsReporting','providerListener','has','setDoc','commitBatch','recipients','maxDistance','syncPendingFiles','.ps1','buildQuery','asc','publishMove','documentPath','Waiting','FolderCreate','transactionHashMap','framerate','maxOutgoingSubscriptions','Generative\x20AI\x20context\x20job\x20failed.','getBufferedAmount','mediator','counter','\x20ms\x0a','Request','object','onProviderChange','handleDisconnect','getHash','LocalMediaStreamDoesNotExist','clearOncloseTimeout','SyncKeyValueDatabase\x20-\x20Ancestors\x20','Queued','width','registerRemoteNode','setupStatsCollection','onChildRemoved','\x27\x20payload:','KeyValueDatabaseInvalidLayout','getTransactions','messageType','destination','generativeAIWorkers','Invalid\x20data\x20event.','getReceiverTotalBytes','isReconnecting','.vue','toString','localMediaStreams','availableTrackKinds','5bNxYbT','DataStream\x20onMessage','internal','handleAnswer','JobDispatcherObserverNotFound','graph-database','all','Missing\x20AI\x20worker\x20connector','key-value-database-peak-not-found','currentTimestamp','VectorDatabaseNameNotString','Retrieves\x20historical\x20data\x20from\x20online\x20archives.','CloseJobDispatcher','setRank','job-worker-creation-failed','processRemoveContent','appendTransaction','ChunkSplitter','createWritableStream','logInitialMMR','name','deleteFile','getRoundTripTime','Remote\x20stream\x20does\x20not\x20exist.','Executing\x20custom\x20skill:\x20','disconnect','hashPeakHashes','clusterEventEmitter','detectProblems','getKeyValueDatabases','data:\x20','enumerateDevices','file-write','.html','debounceLogTimeout','setStatus','getConnectionGroup','ConnectionNotConnected','No\x20start\x20block\x20found','clockSkew','createElement','startNoThrottlingHack','hasBufferedData','ObjectStoreInvalidPayload','publishFile','bandwidth.jitter','createPendingFileWrite','invalid-data-chanel','KeyValueDatabaseNotOpen','GenerativeAIWorker:\x20Opened','queueLength','keyPath','publishLocalDynamicMediaStream','Cannot\x20fetch\x20content\x20from\x20this\x20type\x20of\x20file','SenderPeerConnection\x20send','Returns\x20\x22true\x22\x20or\x20\x22false\x22\x20based\x20on\x20the\x20input\x20condition.','Cannot\x20unpublish\x20object\x20at\x20','processTransactionsToComputeMMR\x20-\x20Requires\x20a\x20rebuild.\x20Append:\x20','Rating','createDataChannel','relation-extractor','clearHeartbeat','syncTimeout','operations','CONNECTION_STATE_CHANGE','jobQueue','processBatch','.ejs','\x20received\x20partial\x20result:','firestore','Relation','listenerUnsubscriber','\x27\x20from\x20','.scala','Connection\x20does\x20not\x20exist.','File','text/event-stream','autoplay','size','code','Buffering\x20event','SubscribeMediaStream','setReceiverTimestamp','generative-ai-worker-already-exists','Executes\x20precise\x20and\x20efficient\x20searches\x20using\x20available\x20tools\x20to\x20retrieve\x20relevant\x20information.','getMinConnections','job-dispatcher-does-not-exist','subtle','JobQueueService:\x20Running\x20job','string','GenerativeAIModelInputType','handleNodeJoin','senderConnection','connections','mistlet-capacity-report-not-set','2037990tuhDRe','JobContext','wait-false','2-digit','propn','changesUnsubscriber','StreamReport','complete','collectStats','hashNodes','external-storage-invalid-path','tool-call','Received\x20content\x20available\x20from\x20node','httpsCallable','mediaUnsubscribers','accumulated','decode','maxThreshold','performCalculation','Vector','Method\x20not\x20supported','Disconnect','Support','Collects\x20and\x20summarizes\x20market\x20trends\x20from\x20various\x20sources.','ObjectStoreCannotWriteTransaction','closeTrace','rate','CannotProvideMediaStream','.info/serverTimeOffset','ENOENT','messageCallback','Data\x20cluster\x20is\x20not\x20open.','Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream','getMaxConnections','isSyncing','getEmail','Recording','Data\x20Sent','cost','FileMove','RestartNeedMediaStream','currentDistance','ObjectStoreInvalidState','receiverTimeProcessing','getRemoteNode','handleUnpublishMediaStream','clientWidth','getDisplayName','next','sendRequest','Resolution','startTracing','clearSyncTimeout','rtt','graphService','LocalMediaStreamTrackFail','learn-agent','object-store-already-exists','output','createPubSubTopic','Invalid\x20index\x20key:\x20must\x20be\x20a\x20string','getCurrentMaxLayer','sampleRate','connection-not-initialized','confirmSynchronization','Cannot\x20list\x20directory:\x20External\x20Storage\x20not\x20connected','ccc','.rs','.erl','NodeDoesNotExist','vector-database','registerSystemPublisher','Upgrade','getLocalId','retrieveBlocks','Invalid\x20job\x20type','Object\x20store\x20is\x20not\x20in\x20sync','Peaks\x20requested\x20were\x20not\x20found\x20in\x20local\x20MMR','resume','splice','setupConnectionEvents','No\x20valid\x20bid\x20responses\x20received\x20in\x20time.','Retrieve','cancel','streamId','openaiApiKey','senderStreams','tracks','Received\x20sync\x20required.\x20Database\x20available:\x20Checking\x20synchronization','tables','ready','feedback-agent','deleteRemoteNode','connectAgent','arrayBuffer','https://huggingface.co/bartowski/Llama-3.2-3B-Instruct-GGUF/resolve/main/Llama-3.2-3B-Instruct-Q8_0.gguf','doc','.awk','debounceRebuildMMR','getGenerativeAIContexts','Optimization','open','cluster-leave','CanProvideMediaStream','problem',',\x20Total\x20Nodes:','answers','manageAncestor','subscribedTracks','firebaseUnsubscriber','fetch-url','getTrack','createBuffer','local-stream-does-not-exist','tokens','ConnectionNoRetryQueue','catch','logDataSent','canChooseAnswer','Data','VectorDatabase\x20not\x20found','Memory\x20Usage\x20at\x20','file.content','propagate','payloadType','addReservedTables','Stream\x20already\x20exists','reportMetric','listChanges','instantiateTransactionTable','searchOnGoogle','ObjectStoreNotInSync','Job\x20service\x20creation\x20failed.','isValidMediaSubscriptionParams','/traces','getIdToken','subscription-request-does-not-exist','KeyValueDatabaseTableNotFound','local-media-stream-already-exists','internalProcessJob','statsReport','queryFile','dispatchEvent','filename','trace','CrewdleConnectionGroup','Receiving\x20\x27','setOnTableWriteHandler','getWorkflowObjectStorageBuckets','getAudioTracks','invalid-publisher','blockId','handleSubscriptionMediaStreamUnavailable','splitParts','pathName','Missing\x20search\x20API\x20key','getDoc','Cannot\x20find\x20External\x20Storage\x20connection:\x20','isConnected','getCurrentVersion','getCapacityReport','random','functions','logStorage','available','max','text','/resources/generative-ai-workflow/items/','onGatheringStateChange','timestamp','setProviderId','getEntities','JobWorker:\x20Received\x20job','handleMissingSenders','generative-ai-context-job-missing-thread-id','clearRestartTimeout','getResolution','bufferedAmount','JobDispatcherJobExists','crewdleSDKLoggingChannels','removeLocalMediaStream','numeric','processLocalReport','saveToDisk','event','receiverTotalMessages','ref','getOutgoingOptimizationConnections','replace','previousTimestamp','JobWorker:\x20Tracing\x20not\x20implemented','processReports','suspended','Result','completed','subscriptionRequestTimeouts','transactionsToSync','authContext','getShareableStream','outgoingTopic','boolean','Cannot\x20create\x20Vector\x20Database:\x20Name\x20must\x20be\x20a\x20string','Ingest','remoteConnections','ReceiverPeerConnection\x20onMessage\x27\x20-\x20Remote:\x20','handleRemediationSystemEvents','web-scraper-raw','Key-value\x20database\x20transaction\x20value\x20not\x20set.','call','remove','orchestrator-close','desc','Connected','_isReady','connection-buffer-not-empty','Connection\x20already\x20exists','handleSubscriptionUnsubscribeMediaStream','RequestFileSync','openExternalStorageConnection','getOwnerId','ragApiKey','retryLimit','connectionStateListener','lastRemediations','priority','evaluateProccessedJob','/objectstores/','handleFileSync','query-helper-invalid-argument','GenerativeAIContextJobTimeout','Count','Syncing','Processing\x20agent\x20block:\x20','remoteMediaStreams','debounceReadyTimeout','generative-ai-context-creation-failed','Method\x20not\x20implemented.','\x20-\x20','job-dispatcher-creation-failed','updateUser','verb','text/','Success','getContentType','OfficeParser','KeyValueDatabasePeakNotFound','Failed\x20to\x20commit\x20batch\x20after\x20retries:','generativeAIWorkerConnectors','messages','overlap','ObjectStoreNameNotString','Cannot\x20list\x20directory:\x20','prompt_tokens','CloseJobWorker','removeRemoteStreamSubscription','created','cpu.fps','lastProcessRank','KeyValueDatabaseContentAvailable','/resources/generative-ai-agent/items','AudioVolume','getConnection','Stats:\x20report','sendTransactionsValue','Invalid\x20layout:\x20','.pl','KeyValueDatabaseTransactionValueNotSet','ObjectStorageUpload','vectors','.tsx','retryQueues','commitTrace','key-value-database-transaction-table-not-initialized','content-publish-media','isRunning','getDistance','kind','vector-database-name-not-string','Receiver','model','Data\x20collection\x20block\x20is\x20missing\x20required\x20data','graphql','Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed','Stream\x20does\x20not\x20exist','getPriority','GetContextResult','getEngineType','aws','getProviderId','.vb','2fjeRXx','@root','vector-database-missing-connector','getNumberOutgoingSubscriptions','setReportCapacity','JobDispatcherJobNotFound','.md','senderCurrentBytes','map','validateKey','Search\x20in\x20data\x20collection\x20','deleteCollection','checkDeviceConfig','Logger.getInstance','handleSystemEvents','Error\x20processing\x20retrieve','left','handleConnectionSuccess','VectorDatabase','remote-connection-exists','getBitrate','appsync-connect','openJobWorker','OptimizationConnectionSuccess','ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.','pendingFilesSyncing','hasTable','GenerativeAIWorkerStats','external-storage','Opened\x20generative\x20AI\x20worker','executeJavascriptCodeSnippet','/jobs/','summary-generator','DeviceConfig','moveObject','GenerativeAITracing\x20-\x20Error\x20while\x20closing\x20trace','RemoteMediaStreamTrackFail','llama-3.1-8b','setLocalRank','senders','KeyValueDatabaseNameNotString','localNode','GenerativeAITracing\x20-\x20job\x20id\x20not\x20found','Medium','SearchGoogle','dataChannel','Invalid\x20credentials','uid','videoHeight','JobWorker:\x20Error\x20processing\x20job','\x20completed.','Missing\x20answerer\x20id\x20on\x20request\x20answer','threadId','pendingFilesTransactions','EntityExtractor','handleIceCandidates','publishSyncCompleted','contextOutputVariable','phi-4-14b','removeIncomingSubscription','time','All','gpt-4o','waitSuccess','history','isArray','/resources/generative-ai-collection/items','joinCluster','appsync-no-destination','Code\x20is\x20required','handleStatsSystemEvents','head','logServiceEvent','Extracts\x20key\x20points\x20from\x20long\x20documents\x20and\x20emails.','maxTokens','createIncomingSubscription','GenerativeAITracing\x20-\x20job\x20id\x20is\x20already\x20set','A\x20versatile\x20AI\x20assistant\x20designed\x20to\x20handle\x20a\x20wide\x20range\x20of\x20tasks\x20and\x20inquiries.','Context','audioSource','Online','Subscription\x20request\x20does\x20not\x20exist.','syncKeyValueDatabase','KeyValueDatabase\x20-\x20Assuming\x20no\x20nodes\x20available\x20to\x20sync.\x20Completing\x20sync.','validateAccess','handleContentCloseMediaStream','invalid-access','invalid-subscription','object-store-invalid-payload','handleContentSystemEvents','QueryBuilderInvalidArgument','receiverUnsubscribers','contentRequestSent','endpointUrl','detection','video','Execute\x20skill\x20','image','exports','commitLevel','Missing\x20RAG\x20API\x20key','GenerativeAIContextDoesNotExist','DataChannel\x20is\x20not\x20open.','3172440dBZPqT','StorageEventType','api','openJobDispatcher','KeyValueDatabase\x20not\x20found','timesCalled','rank','AppSync\x20connection\x20not\x20ready','cleanOldSubscription','SenderPeerConnection.send','unregisterSubscriber','CrewdleConnection\x20handlePeerConnectionSystemEvents','Error\x20closing\x20trace','val','orderBy','subscription-request-failed','getBid','graphDatabases','Search\x20Agent','AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','\x0a\x20===\x20Total\x20Time:\x20','cpu.cycle','\x27\x20reserved','source','failJob','GenerativeAIContextJobAlreadyConsumed','database','lastExecuted','heartbeatUnsubscriber','agent-join','createJobDispatcher','joinedAt','OPFSObjectStoreConnector','receiverConnection','node-not-authenticated','sendFileRequestPayload','assign','GraphDatabaseStats','discoveryUnsubscriber','1:420235181083:web:4eff6062bd845cb0748cbe','agent-skill','parentId','get','deleteObject','PeerConnectionInvalidDestination','authService','enabledChannels','processPendingSyncTransactions','addCandidate','chunks','MediaStream','everyone','type','clearConnectionTimeout','createExternalStorageConnection','data','GraphDatabaseNameNotString','logEvent','from','concat','leave','33KUUTEv','direction','/embeddings','runJobQueue','eventEmitter','emit','upgradeTimeout','GraphDatabase','Before\x20Synchronization','vectorDatabaseConnector','logBatch','CloseObjectStoreBucket','.jinja2','WebRTC','getTransactionFromTableWriteEvent','jobType','Store\x20already\x20exists','handleSubscriptionRestartNeedMediaStream','openGraphDatabase','Local\x20node\x20rank\x20is\x20not\x20set','Consuming\x20buffered\x20event','Hub','url','Pool','trackCallback','stream','getNextTargetRank','batchSize','CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','JobWorker:\x20Sending\x20job\x20result','realtime-session-create','receivers','agentConfig','packetsReceived','Job','issues','setItem','Problem','srcObject','Data\x20Received','closeTopic','llama-3.2-3b','handleNeedRestart','RemoteMediaStreamMissingProviderId','hashTransaction','mediaStream','getWorkflowExternalStorageConnections','outputType','Error\x20writing\x20file','title','detectionManager','includes','NeedRestart','remoteId','removeTrackListeners','\x27\x20is\x20not\x20ready','addPendingHandshakeCandidate','muted','standalone','end','stop','Get','getDisplayMedia','nodeUpdate','Job\x20worker\x20creation\x20failed.','indexes','KeyValueDatabaseInvalidValue','AI\x20Search\x20connector\x20not\x20set','Reranker\x20block\x20is\x20missing\x20required\x20data','usage','connect','crewdle-sdk','object-storage','handleOutgoingSystemEvents','nodeId','requestSubscriptionAction','content-unpublish-media','Error\x20querying\x20file','unregisterDestination','connection-invalid-data-event','file-delete','Found\x20','Issue\x20detected:\x20','\x20check\x20failed','padStart','key-value-database-table-name-reserved','VectorDatabaseCreationFailed','getAvailableTrackKinds','getTransactionByHash','registeredListeners','mergeParts','eventListener','durationTime','Folder','https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','.hs','DataCollectionDoesNotExist','gpu','openTrace','resolution','Bitrate','isJobRequest','Debug','GraphDatabase\x20not\x20found','addTrack','queries','setupTrackEndedListeners','features','connectorConstructor','getResolutionScale','fetchUrl','onTrack','peaks','openai','retryCount','Text','GenerativeAIContext','collectTransactionsFromNode','transactionQueue','updatePropagationProperties','/transactions','pendingFilesRename','generative-ai-worker-model-sync-error','InvalidSubscription','KeyValueDatabaseTransactionTableNotInitialized','onClose','Default','ingestBlocks','pop','updateLastUpdated','warning','\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','application/octet-stream','framesDecoded','Logging\x20not\x20enabled\x20for\x20channel\x20','addBatchOperation','GenerativeAIWorkerAlreadyExists','getTrackFromParam','contextInputVariable','minThreshold','Entity','pendingHandshakeCandidates','VectorDatabaseMissingConnector','remoteNodes','ExternalStorageConnectionAlreadyExists','trackKinds','bytesSent','processInboundReports','\x20created\x20and\x20dispatched.','OutgoingMediaStreamNoTopic','endpoint','query','ObjectStore','track','.info/connected','onMessage','sendBid','publishTransaction','checkWebGL','Invalid\x20data\x20channel.','Missing\x20vector\x20database\x20connector','RebuildMMR\x20-\x20MMR\x20Root\x20changed?\x20','files','getContext','getLabel','validateValue','Key-value\x20database\x20table\x20does\x20not\x20exist.','authenticateUser','workflowId','\x0a\x20\x20===\x20New\x20MMR\x20Root:\x20','High','Write\x20text\x20data\x20to\x20a\x20file.','NodeJoin','keyValueDatabaseConnector','loadFromDisk','checksum','writeBatch','/logs','getAncestorIds','sendAction','Missing\x20external\x20storage\x20connector','parameters','getJobs','transactions','childRemovedUnsubscriber','Image','/vector_stores/','syncContent','AI\x20Worker\x20already\x20exists','-leave','handleNodeJoinNeedPublishedStream','getRemoteMediaStream','GenerativeAIContextStats','rejectReady','ContentType','KeyValueDatabase','logDataReceived','generative-ai-context-job-failed','createConnection','getEstimatedTimestamp','https://huggingface.co/bartowski/Meta-Llama-3.1-8B-Instruct-GGUF/resolve/main/Meta-Llama-3.1-8B-Instruct-Q8_0.gguf','arrayBufferToObject','processContentAvailable','nodeManager','Graph\x20database\x20block\x20is\x20missing\x20required\x20data','dbKey','findIndex','.clj','getPeakNode','handleChunkMessage','job-worker-already-exists','sdkCreateToken','524388mqaafw','Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.','warn','Job\x20','\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','.php','node-does-not-exist','notifyJoin','Model\x20output\x20type\x20is\x20text\x20but\x20input\x20is\x20not\x20text','contentMediator','signaling','getAuth','GenerativeAITracing\x20-\x20Error\x20while\x20committing\x20trace','setDisplayName','client','systemMessagesReceived','setSenderTimestamp','JobWorkerInvalidType','sendWithRetry','key-value-database-invalid-query','\x20does\x20not\x20exists','queues','processRemoteInboundReport','Parameter\x20','generative-ai','getObjectStoreBucket','initializeApp','Knowledge\x20Cutoff\x20Date:\x20','QueryFile','workflow-does-not-exist','Received\x20request\x20for\x20peak\x20transactions.\x20Sending\x20Transactions.','result','subscribe','Remediation','Table\x20not\x20found','maxResolution','\x20after\x20','Early\x20return:\x20','PubSubTopicStats','CloseMediaStream','Invalid\x20query','detectAudioIssues','getAgents','June\x202024','origin','Gathers\x20structured\x20user\x20feedback\x20and\x20compiles\x20reports.','connection-state','displayName','calculateArrayBufferSize','ConnectionInvalidDataEvent','removeVectorDatabase','.ppt','GenerativeAIContextJobInvalidType','KeyValueDatabaseCreationFailed','\x0aAdditional\x20data:\x20','/resources/agent/items/','time_per_frame','processReceivedTransactions','Unsupported\x20job\x20type','pub-sub-topic-does-not-exist','Key-value\x20database\x20creation\x20failed.','default','.swift','OpenAI','crewdle-sdk-logging-','AudioOutput','October\x202023','KeyValueDatabaseRequestPeakTransactions','internalJob','setDurationTime','registerCluster','handleUnsubscribeMediaStream','.txt','\x20already\x20exists','detectLocalIssues','bufferedEvents','getJobObservable','mmrRoot','Vector\x20database\x20block\x20is\x20missing\x20required\x20data','readyResolve','checkBackgrounds','pool','missing-incoming-connection','messageListeners','choices','setEncodingParameters','removeKeyValueDatabase','Key-value\x20database\x20transaction\x20table\x20not\x20initialized.','trim','Query\x20Generator\x20constructs\x20optimized\x20SQL\x20and\x20NoSQL\x20queries.\x0a-\x20Clarifies\x20database\x20type\x20(MySQL,\x20PostgreSQL,\x20MongoDB,\x20etc.)\x20before\x20generating\x20queries.\x0a-\x20Follows\x20best\x20practices\x20for\x20efficiency\x20and\x20readability.\x0a-\x20Explains\x20each\x20part\x20of\x20the\x20query\x20for\x20user\x20understanding.\x0a-\x20Checks\x20for\x20potential\x20performance\x20optimizations.\x0a-\x20Provides\x20queries\x20in\x20code\x20blocks\x20and\x20bullet-point\x20explanations.','JobDispatcher:\x20Received\x20job','We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set','generateClient','detail','Generates\x20marketing\x20copy,\x20blog\x20articles,\x20and\x20ad\x20content.','updateDebounce','WebGL','getKeyValueDatabase','Model\x20output\x20type\x20is\x20vector\x20but\x20input\x20is\x20not\x20an\x20index','receiverBitrate',',\x20Transactions:\x20','runTransaction','stopTracing','tableUnsubscriber','debounceAppendLog','generative-ai-context-already-exists','/transactions/','handlePublishMediaStream','orchestrator','RemoteRemediation','processSenderReport','\x20finalized.','.handlebars','noun','collection','ClusterAlreadyJoined','onSnapshot','handleNodeUpdate','transactionsToAppend','senderPreviousTimestamp','SentenceSplitter','ConnectionGroup','debounceProcessRank','Audio','syncTransactions','Archival\x20Search\x20Agent','relation','getPartsFromSubscription','.css','openGenerativeAIContext','PublishMediaStream','listen','blank-agent','element','Sync\x20completed','en-US','handleObjectDelete','off','restartHandshake','NodeManager\x20-\x20PublishNodeLeave','PartialResult','Outgoing','packets','job-dispatcher-invalid-payload','clear','Subscription\x20request\x20has\x20not\x20been\x20answered.','ObjectKind','getRemoteNodes','setSinkId','waitConnected','peakHeights','receiverPreviousTimestamp','Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','User\x20not\x20signed\x20in','getGraphDatabases','handleSubscribeMediaStream','Invalid\x20table\x20name\x20\x27','internalId','long','isOffer','generative-ai-worker-missing-connector','getSentences','GenerativeAITracing\x20-\x20trace\x20job\x20id\x20does\x20not\x20match','getClosestNodes','Handshake','inputType','Core','\x27\x20in\x20table\x20\x27','Error\x20encountered\x20while\x20opening\x20database','Incoming','jobDispatchers','ObjectStoreAlreadySubscribed','Failed\x20to\x20send\x20job\x20','hasTracks','setInternalId','unsubscribeTrackEndedListener','startLoggingCycle','No\x20global\x20object\x20found','inbound-rtp','Archival\x20Search\x20Agent\x20retrieves\x20historical\x20records,\x20archives,\x20and\x20academic\x20sources.\x0a-\x20Identifies\x20the\x20time\x20period\x20and\x20event\x20of\x20interest\x20before\x20searching.\x0a-\x20Searches\x20historical\x20databases,\x20digital\x20libraries,\x20and\x20archives.\x0a-\x20Prioritizes\x20academic,\x20governmental,\x20and\x20reputable\x20historical\x20sources.\x0a-\x20Provides\x20contextual\x20insights\x20linking\x20historical\x20events\x20to\x20modern\x20interpretations.\x0a-\x20Summaries\x20include\x20timeframes,\x20key\x20figures,\x20and\x20events,\x20with\x20a\x20References\x20section.','resolveReady','.jsx','query-file','System','Error\x20committing\x20batch:','December\x202023','publishNodeJoin','onUnregisterPublisher','FolderMove','getSTVolatility','closeConnection','SubscriptionRequestDoesNotExist','getRemoteMediaStreams','rootComputationPromise','handleNodeDisconnect','Invalid\x20object\x20store\x20state.','writeFile','initialize','messagesReceived','lastCapacityReport','addMessage','find','incrementVersion','Downgrade','memoryUsage','signalingServer','SubscriptionRequestFailed','Feedback\x20Agent','POST','.docx','estimatedPlayoutTimestamp','AudioContext','UnsubscribeMediaStream','removeListener','Content','archival-search','Sender','PubSub\x20already\x20exists','streams','true','startHeartbeat','removeJobWorker','query-generator','MediaStreamUnavailable','authNode','upgrade','.pptx','JobWorker:\x20Sending\x20job\x20reject','Cannot\x20get\x20size\x20of\x20path:\x20','\x20attributed\x20to\x20','unshift','extendedRecipients','handleSubscriptionSubscribeMediaStream','NodeInvalidType','subject','.tpl','detectStreamIssues','Human','deleteJob','isWhereValues','mode','Node','object-storage-upload','ai-search','currentVersion','isResultResponse','currentBatch','key-value-database-invalid-layout','InvalidSubscriber','DatabaseEvent','Agent\x20block\x20is\x20missing\x20required\x20data:\x20','.yaml','processReceiverReport','NodeType','answerJoin','listener','outputTokens','RemoteMediaStreamAlreadyExists','Subscription','cachedRoot','sendPeakTransactions','getTotalNodes','openAIKey'];a0_0x265d=function(){return _0x733f5;};return a0_0x265d();}function a0_0x573a(_0x1a7966,_0x227776){const _0x265d24=a0_0x265d();return a0_0x573a=function(_0x573a75,_0x49d095){_0x573a75=_0x573a75-0xc8;let _0x9c52e6=_0x265d24[_0x573a75];return _0x9c52e6;},a0_0x573a(_0x1a7966,_0x227776);}(function(_0x52fe93,_0x4e0169){const _0x1884e3=a0_0x573a,_0x32483f=_0x52fe93();while(!![]){try{const _0x316dfc=parseInt(_0x1884e3(0x1c7))/0x1+-parseInt(_0x1884e3(0x758))/0x2*(parseInt(_0x1884e3(0x35a))/0x3)+parseInt(_0x1884e3(0x8d0))/0x4*(-parseInt(_0x1884e3(0x5d7))/0x5)+-parseInt(_0x1884e3(0x468))/0x6*(parseInt(_0x1884e3(0x3bc))/0x7)+-parseInt(_0x1884e3(0x1b3))/0x8*(parseInt(_0x1884e3(0x136))/0x9)+-parseInt(_0x1884e3(0x636))/0xa+parseInt(_0x1884e3(0x7fc))/0xb*(parseInt(_0x1884e3(0x7bf))/0xc);if(_0x316dfc===_0x4e0169)break;else _0x32483f['push'](_0x32483f['shift']());}catch(_0x18a99f){_0x32483f['push'](_0x32483f['shift']());}}}(a0_0x265d,0x3483f),!function(_0x3e557e,_0x46c972){const _0x2b9030=a0_0x573a;if(_0x2b9030(0x5be)==typeof exports&&_0x2b9030(0x5be)==typeof module)module['exports']=_0x46c972();else{if(_0x2b9030(0x423)==typeof define&&define['amd'])define([],_0x46c972);else{var _0x9a12da=_0x46c972();for(var _0x4bac98 in _0x9a12da)(_0x2b9030(0x5be)==typeof exports?exports:_0x3e557e)[_0x4bac98]=_0x9a12da[_0x4bac98];}}}(this,()=>((()=>{'use strict';const _0x120045=a0_0x573a;var _0x48950b={0x14d:(_0x13404c,_0x3cb914,_0x164757)=>{const _0x4f0f5b=a0_0x573a;_0x164757['d'](_0x3cb914,{'O':()=>_0x54ba88});const _0x54ba88={'version':'1.0.27.0','isProduction':!0x1,'firebaseConfig':{'apiKey':_0x4f0f5b(0x7d2),'authDomain':'crewdle-sdk-stg.firebaseapp.com','databaseURL':'https://crewdle-sdk-stg-default-rtdb.firebaseio.com','projectId':'crewdle-sdk-stg','storageBucket':_0x4f0f5b(0x55f),'appId':_0x4f0f5b(0xa02),'functionsRegion':_0x4f0f5b(0x119)},'apiUrl':_0x4f0f5b(0x9e7),'google':{'searchEngineId':'21a9d78dee97f487b'},'aws':{'endpoint':_0x4f0f5b(0x241),'region':'us-east-1'}};},0x33b:(_0x2cbb9d,_0x5bc16d,_0x3f78a8)=>{_0x3f78a8['d'](_0x5bc16d,{'O':()=>_0x6f75b1});const _0x6f75b1={};},0x3e6:(_0x246722,_0x57ec8e,_0x1d4eef)=>{const _0x5077c1=a0_0x573a;_0x1d4eef['d'](_0x57ec8e,{'O':()=>_0x571e6d});const _0x571e6d={'version':_0x5077c1(0x318),'isProduction':!0x0,'firebaseConfig':{'apiKey':_0x5077c1(0x27c),'authDomain':'crewdle-sdk.firebaseapp.com','databaseURL':'https://crewdle-sdk-default-rtdb.firebaseio.com','projectId':_0x5077c1(0x843),'storageBucket':'crewdle-sdk.appspot.com','messagingSenderId':'420235181083','appId':_0x5077c1(0x7e6),'measurementId':'G-F7W8KXRKQB'},'apiUrl':_0x5077c1(0x452),'aws':{'endpoint':_0x5077c1(0x85a),'region':_0x5077c1(0x30a)}};},0x20:(_0x4b6e2d,_0x1a6001,_0x48dd50)=>{_0x48dd50['d'](_0x1a6001,{'O':()=>_0x324404});const _0x324404={};}},_0x484c52={};function _0x29e5bf(_0x28cc1a){const _0x14365b=a0_0x573a;var _0x38300d=_0x484c52[_0x28cc1a];if(void 0x0!==_0x38300d)return _0x38300d[_0x14365b(0x7ba)];var _0x370cc7=_0x484c52[_0x28cc1a]={'exports':{}};return _0x48950b[_0x28cc1a](_0x370cc7,_0x370cc7[_0x14365b(0x7ba)],_0x29e5bf),_0x370cc7['exports'];}_0x29e5bf['d']=(_0x2b9454,_0x40e03b)=>{const _0x4c8998=a0_0x573a;for(var _0x16905b in _0x40e03b)_0x29e5bf['o'](_0x40e03b,_0x16905b)&&!_0x29e5bf['o'](_0x2b9454,_0x16905b)&&Object[_0x4c8998(0x273)](_0x2b9454,_0x16905b,{'enumerable':!0x0,'get':_0x40e03b[_0x16905b]});},_0x29e5bf['g']=(function(){const _0x4bddea=a0_0x573a;if('object'==typeof globalThis)return globalThis;try{return this||new Function(_0x4bddea(0x16f))();}catch(_0x1582a1){if('object'==typeof window)return window;}}()),_0x29e5bf['o']=(_0x5e662e,_0x2e9495)=>Object[_0x120045(0xe5)]['hasOwnProperty'][_0x120045(0x706)](_0x5e662e,_0x2e9495),_0x29e5bf['r']=_0x2bd4e3=>{const _0x1dbcf6=_0x120045;_0x1dbcf6(0x2a8)!=typeof Symbol&&Symbol[_0x1dbcf6(0x196)]&&Object['defineProperty'](_0x2bd4e3,Symbol[_0x1dbcf6(0x196)],{'value':_0x1dbcf6(0x26a)}),Object[_0x1dbcf6(0x273)](_0x2bd4e3,'__esModule',{'value':!0x0});};var _0x15d29b,_0x3baa96,_0x185607,_0x272513={};_0x29e5bf['r'](_0x272513),_0x29e5bf['d'](_0x272513,{'KeyValueDatabase':()=>_0x2cd086,'LayoutBuilder':()=>_0xca8f54,'LoggingChannels':()=>_0x185607,'QueryBuilder':()=>_0x203192,'SDK':()=>_0x337dbc,'SDKClientErrorCodes':()=>_0x15d29b,'TableBuilder':()=>_0x5b9e3d,'logger':()=>_0x1b1d61}),function(_0x229372){const _0x22f9e9=_0x120045;_0x229372[_0x22f9e9(0x4d4)]=_0x22f9e9(0x11a),_0x229372['ConnectionBufferNotEmpty']=_0x22f9e9(0x70c),_0x229372[_0x22f9e9(0x943)]=_0x22f9e9(0x13a),_0x229372[_0x22f9e9(0x88c)]='external-storage-connection-already-exists',_0x229372['ExternalStorageConnectionAlreadySubscribed']='external-storage-connection-already-subscribed',_0x229372['ExternalStorageConnectionDoesNotExist']='external-storage-connection-does-not-exist',_0x229372[_0x22f9e9(0x1af)]=_0x22f9e9(0x17a),_0x229372['ExternalStorageInvalidPath']=_0x22f9e9(0x640),_0x229372[_0x22f9e9(0xa4c)]=_0x22f9e9(0x341),_0x229372[_0x22f9e9(0x508)]='feature-not-enabled',_0x229372['GenerativeAIContextAlreadyExists']=_0x22f9e9(0x939),_0x229372[_0x22f9e9(0x7bd)]=_0x22f9e9(0x2b0),_0x229372[_0x22f9e9(0x524)]=_0x22f9e9(0x6e4),_0x229372['GenerativeAIContextJobInvalidType']='generative-ai-context-job-invalid-type',_0x229372[_0x22f9e9(0x280)]=_0x22f9e9(0x408),_0x229372[_0x22f9e9(0x884)]=_0x22f9e9(0x62a),_0x229372[_0x22f9e9(0x9f4)]=_0x22f9e9(0x970),_0x229372[_0x22f9e9(0xa7a)]=_0x22f9e9(0x876),_0x229372[_0x22f9e9(0x2e3)]=_0x22f9e9(0x458),_0x229372[_0x22f9e9(0x4e6)]='graph-database-does-not-exist',_0x229372[_0x22f9e9(0x1c0)]=_0x22f9e9(0x204),_0x229372['GraphDatabaseNameNotString']=_0x22f9e9(0x228),_0x229372[_0x22f9e9(0x54f)]=_0x22f9e9(0x557),_0x229372[_0x22f9e9(0x3bb)]=_0x22f9e9(0x62d),_0x229372[_0x22f9e9(0x6e8)]=_0x22f9e9(0x2c4),_0x229372['JobDispatcherJobNotFound']=_0x22f9e9(0x551),_0x229372[_0x22f9e9(0xa22)]=_0x22f9e9(0x37a),_0x229372[_0x22f9e9(0x383)]=_0x22f9e9(0x8ce),_0x229372['JobWorkerDoesNotExist']=_0x22f9e9(0x2cb),_0x229372[_0x22f9e9(0x215)]=_0x22f9e9(0x66f),_0x229372['ObjectStoreAlreadySubscribed']=_0x22f9e9(0x290),_0x229372[_0x22f9e9(0x27e)]=_0x22f9e9(0x519),_0x229372[_0x22f9e9(0x730)]=_0x22f9e9(0x530),_0x229372[_0x22f9e9(0x602)]=_0x22f9e9(0x7b0),_0x229372['ObjectStoreInvalidPath']='object-store-invalid-path',_0x229372['ObjectStoreNotInSync']='object-store-not-in-sync',_0x229372[_0x22f9e9(0x2e9)]=_0x22f9e9(0x4e8),_0x229372['InvalidAccess']=_0x22f9e9(0x7ae),_0x229372[_0x22f9e9(0x3ab)]=_0x22f9e9(0x128),_0x229372[_0x22f9e9(0x218)]='key-value-database-does-not-exist',_0x229372[_0x22f9e9(0xa21)]='key-value-database-index-not-found',_0x229372[_0x22f9e9(0x3a1)]=_0x22f9e9(0x8e3),_0x229372[_0x22f9e9(0x83e)]='key-value-database-invalid-value',_0x229372[_0x22f9e9(0x780)]='key-value-database-name-not-string',_0x229372[_0x22f9e9(0x607)]=_0x22f9e9(0xf3),_0x229372[_0x22f9e9(0x10c)]=_0x22f9e9(0x851),_0x229372[_0x22f9e9(0x6bf)]=_0x22f9e9(0x59a),_0x229372[_0x22f9e9(0x5cb)]=_0x22f9e9(0x9c7),_0x229372[_0x22f9e9(0xf2)]=_0x22f9e9(0x6c0),_0x229372[_0x22f9e9(0x2b4)]='local-media-stream-no-audio-context',_0x229372['PubSubTopicAlreadyExists']=_0x22f9e9(0x206),_0x229372[_0x22f9e9(0x2d3)]=_0x22f9e9(0x90b),_0x229372['PubSubTopicNameNotString']=_0x22f9e9(0x4db),_0x229372[_0x22f9e9(0x303)]=_0x22f9e9(0x476),_0x229372[_0x22f9e9(0x7b2)]=_0x22f9e9(0x71a),_0x229372[_0x22f9e9(0x9d1)]='remote-media-stream-already-exists',_0x229372[_0x22f9e9(0x2f1)]='remote-media-stream-invalid-subscription-params',_0x229372['SubscriptionRequestInProgress']='subscription-request-in-progress',_0x229372[_0x22f9e9(0x2d5)]=_0x22f9e9(0x7e1),_0x229372[_0x22f9e9(0x9b9)]=_0x22f9e9(0x1a3),_0x229372[_0x22f9e9(0x38a)]='node-type-not-supported',_0x229372[_0x22f9e9(0x44c)]=_0x22f9e9(0x435),_0x229372[_0x22f9e9(0x9f0)]=_0x22f9e9(0x1ac),_0x229372[_0x22f9e9(0xe2)]='vector-database-does-not-exist',_0x229372[_0x22f9e9(0x88a)]=_0x22f9e9(0x75a),_0x229372[_0x22f9e9(0x5e1)]=_0x22f9e9(0x74b);}(_0x15d29b||(_0x15d29b={}));class _0x18939c extends Error{[_0x120045(0x626)];constructor(_0x4a8abc,_0x55a99d){super(_0x55a99d),this['code']=_0x4a8abc;}}!function(_0x356ae4){const _0x60a100=_0x120045;_0x356ae4[_0x60a100(0x348)]=_0x60a100(0x2c8),_0x356ae4[_0x60a100(0x41d)]=_0x60a100(0x844),_0x356ae4[_0x60a100(0x8bf)]=_0x60a100(0x3d4),_0x356ae4['VectorDatabase']=_0x60a100(0x67c),_0x356ae4[_0x60a100(0x803)]=_0x60a100(0x5dc),_0x356ae4[_0x60a100(0x322)]=_0x60a100(0x774),_0x356ae4[_0x60a100(0x7f1)]=_0x60a100(0x54c),_0x356ae4['GenerativeAIContext']=_0x60a100(0x8e8);}(_0x3baa96||(_0x3baa96={})),function(_0x2d4b78){const _0x2d1b89=_0x120045;_0x2d4b78[_0x2d1b89(0x795)]=_0x2d1b89(0x5dd),_0x2d4b78['Default']=_0x2d1b89(0x90d),_0x2d4b78[_0x2d1b89(0x2cf)]=_0x2d1b89(0x323),_0x2d4b78[_0x2d1b89(0xa2a)]=_0x2d1b89(0x8fe),_0x2d4b78[_0x2d1b89(0x438)]=_0x2d1b89(0x146),_0x2d4b78['Content']=_0x2d1b89(0x477),_0x2d4b78[_0x2d1b89(0x102)]=_0x2d1b89(0x58f),_0x2d4b78[_0x2d1b89(0x125)]=_0x2d1b89(0x7b6),_0x2d4b78[_0x2d1b89(0x279)]=_0x2d1b89(0x197),_0x2d4b78[_0x2d1b89(0x469)]=_0x2d1b89(0x525),_0x2d4b78['Jobs']=_0x2d1b89(0x23b),_0x2d4b78['KeyValueDatabase']='key-value-database',_0x2d4b78[_0x2d1b89(0x9c1)]=_0x2d1b89(0xa6a),_0x2d4b78[_0x2d1b89(0x813)]=_0x2d1b89(0x921),_0x2d4b78[_0x2d1b89(0x348)]=_0x2d1b89(0x2c8),_0x2d4b78['ReceiverOnMessage']=_0x2d1b89(0x3f5),_0x2d4b78[_0x2d1b89(0x8f1)]=_0x2d1b89(0x117),_0x2d4b78['SenderSendMessage']=_0x2d1b89(0xa2d),_0x2d4b78[_0x2d1b89(0x4a8)]=_0x2d1b89(0x8da),_0x2d4b78[_0x2d1b89(0x43b)]=_0x2d1b89(0x313),_0x2d4b78[_0x2d1b89(0x9d2)]='subscription',_0x2d4b78[_0x2d1b89(0x64c)]=_0x2d1b89(0x1fb),_0x2d4b78[_0x2d1b89(0x987)]=_0x2d1b89(0x51f),_0x2d4b78['SystemStats']=_0x2d1b89(0x4b6),_0x2d4b78['TestPage']=_0x2d1b89(0x254),_0x2d4b78['PeerConnection']=_0x2d1b89(0x3b7);}(_0x185607||(_0x185607={}));const _0x4e2564=require('@crewdle/web-sdk-types');class _0x203192{[_0x120045(0x893)];constructor(_0x4ade11){const _0x44a8db=_0x120045;this[_0x44a8db(0x893)]={'orderBy':{'key':_0x4ade11,'direction':_0x44a8db(0x5b0)}};}static['index'](_0x2d7be6){const _0x480100=_0x120045;if(_0x480100(0x630)!=typeof _0x2d7be6||0x0===_0x2d7be6[_0x480100(0x59d)])throw new _0x18939c(_0x15d29b[_0x480100(0x7b2)],_0x480100(0x672));return new _0x203192(_0x2d7be6);}static[_0x120045(0x32d)](_0x2c8115){const _0x290f15=_0x120045;try{return _0x203192[_0x290f15(0x5af)](_0x2c8115),!0x0;}catch(_0x16d6ab){return!0x1;}}static[_0x120045(0x5af)](_0x11df52){const _0x484b69=_0x120045,_0x2b8744=_0x203192[_0x484b69(0x2a2)](_0x11df52[_0x484b69(0x7cd)]?.[_0x484b69(0x4bd)]??_0x11df52[_0x484b69(0x37b)]?.[_0x484b69(0x4bd)]??'');if(_0x11df52[_0x484b69(0x37b)]){const _0x1cc262=_0x11df52['where'];if((_0x203192['isWhereValue'](_0x1cc262)||_0x203192[_0x484b69(0x9bf)](_0x1cc262)||_0x203192[_0x484b69(0x20f)](_0x1cc262))&&_0x2b8744[_0x484b69(0x37b)](_0x1cc262[_0x484b69(0x562)],_0x1cc262[_0x484b69(0x570)]),_0x11df52[_0x484b69(0x7cd)]?.[_0x484b69(0x4bd)]&&_0x11df52[_0x484b69(0x7cd)]?.[_0x484b69(0x4bd)]!==_0x11df52[_0x484b69(0x37b)][_0x484b69(0x4bd)])throw new _0x18939c(_0x15d29b['QueryBuilderInvalidArgument'],_0x484b69(0x15c));}return _0x11df52[_0x484b69(0x7cd)]&&_0x2b8744['orderBy'](_0x11df52[_0x484b69(0x7cd)][_0x484b69(0x7fd)]),_0x11df52['limit']&&_0x2b8744[_0x484b69(0x58a)](_0x11df52[_0x484b69(0x58a)]),_0x11df52['offset']&&_0x2b8744[_0x484b69(0x2ee)](_0x11df52[_0x484b69(0x2ee)]),_0x2b8744;}[_0x120045(0x54d)](){const _0x2cab1d=_0x120045;return{...this[_0x2cab1d(0x893)]};}['where'](_0x1c8b75,_0xd557cf){const _0x48a6aa=_0x120045,_0x2c03e8={'key':this[_0x48a6aa(0x893)][_0x48a6aa(0x7cd)][_0x48a6aa(0x4bd)],'operator':_0x1c8b75,'value':_0xd557cf};if(!_0x203192[_0x48a6aa(0x127)](_0x2c03e8)&&!_0x203192[_0x48a6aa(0x9bf)](_0x2c03e8)&&!_0x203192[_0x48a6aa(0x20f)](_0x2c03e8))throw new _0x18939c(_0x15d29b[_0x48a6aa(0x7b2)],'Invalid\x20where\x20clause');return this[_0x48a6aa(0x893)][_0x48a6aa(0x37b)]=_0x2c03e8,this;}[_0x120045(0x7cd)](_0x25b41f){const _0xba18cb=_0x120045;if(_0xba18cb(0x5b0)!==_0x25b41f&&_0xba18cb(0x709)!==_0x25b41f)throw new _0x18939c(_0x15d29b['QueryBuilderInvalidArgument'],'Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc');return this[_0xba18cb(0x893)][_0xba18cb(0x7cd)][_0xba18cb(0x7fd)]=_0x25b41f,this;}['limit'](_0x1a8456){const _0xefe50e=_0x120045;if(_0xefe50e(0x2bf)!=typeof _0x1a8456||_0x1a8456<0x0)throw new _0x18939c(_0x15d29b['QueryBuilderInvalidArgument'],_0xefe50e(0x478));return this[_0xefe50e(0x893)]['limit']=_0x1a8456,this;}[_0x120045(0x2ee)](_0xd2e37b){const _0x5ee8b6=_0x120045;if(_0x5ee8b6(0x2bf)!=typeof _0xd2e37b||_0xd2e37b<0x0)throw new _0x18939c(_0x15d29b[_0x5ee8b6(0x7b2)],_0x5ee8b6(0x40a));return this[_0x5ee8b6(0x893)]['offset']=_0xd2e37b,this;}static['isWhereValue'](_0x3e06fb){const _0x2225c5=_0x120045;if(!(_0x3e06fb&&_0x2225c5(0x5be)==typeof _0x3e06fb&&_0x2225c5(0x562)in _0x3e06fb&&_0x2225c5(0x570)in _0x3e06fb))return!0x1;const {operator:_0x2b5364,value:_0x2328d4}=_0x3e06fb;return!(!['==','!=','>','<','<=','>='][_0x2225c5(0x82f)](_0x2b5364)||Array[_0x2225c5(0x799)](_0x2328d4));}static[_0x120045(0x9bf)](_0x211870){const _0x25cb3b=_0x120045;if(!(_0x211870&&_0x25cb3b(0x5be)==typeof _0x211870&&_0x25cb3b(0x562)in _0x211870&&_0x25cb3b(0x570)in _0x211870))return!0x1;const {operator:_0x2ecf27,value:_0x140856}=_0x211870;return!(!['in',_0x25cb3b(0x36c)][_0x25cb3b(0x82f)](_0x2ecf27)||!Array[_0x25cb3b(0x799)](_0x140856));}static[_0x120045(0x20f)](_0x24d4e3){const _0xab5277=_0x120045;if(!(_0x24d4e3&&_0xab5277(0x5be)==typeof _0x24d4e3&&_0xab5277(0x562)in _0x24d4e3&&_0xab5277(0x570)in _0x24d4e3))return!0x1;const {operator:_0x54ff27,value:_0xa86545}=_0x24d4e3;return!('between'!==_0x54ff27||!Array[_0xab5277(0x799)](_0xa86545)||0x2!==_0xa86545[_0xab5277(0x59d)]);}}class _0xca8f54{[_0x120045(0x369)];constructor(_0x5abd1a){const _0x2eadf2=_0x120045;this[_0x2eadf2(0x369)]={'tables':{},'version':_0x5abd1a};}static[_0x120045(0x23c)](_0xab6113){const _0x16267f=_0x120045;for(const _0x3eba63 in _0xab6113){if(_0x16267f(0x51c)!==_0x3eba63&&_0x16267f(0x68f)!==_0x3eba63)return[!0x1,'Invalid\x20key\x20\x27'+_0x3eba63+_0x16267f(0x2af)];if('tables'===_0x3eba63)for(const _0x211098 in _0xab6113[_0x16267f(0x68f)]){if(_0x16267f(0x630)!=typeof _0x211098)return[!0x1,_0x16267f(0x96c)+_0x211098+'\x27'];for(const _0x2b0722 in _0xab6113['tables'][_0x211098]){if('indexes'!==_0x2b0722)return[!0x1,_0x16267f(0x3dc)+_0x2b0722+_0x16267f(0x977)+_0x211098+'\x27'];const _0x16c93b=_0xab6113[_0x16267f(0x68f)][_0x211098][_0x2b0722]??[];for(const _0x526b3b of _0x16c93b)if(void 0x0===_0x526b3b[_0x16267f(0x60a)]||'string'!=typeof _0x526b3b[_0x16267f(0x60a)])return[!0x1,_0x16267f(0x35f)+_0x211098+_0x16267f(0x45a)];}}else{if(_0x16267f(0x51c)===_0x3eba63&&_0x16267f(0x2bf)!=typeof _0xab6113[_0x3eba63])return[!0x1,_0x16267f(0x137)+_0xab6113[_0x3eba63]+_0x16267f(0x572)];}}return[!0x0,'Valid\x20layout'];}static[_0x120045(0x369)](_0x55a9d6){const _0x2a8eef=_0x120045,_0x108afe=new _0xca8f54(_0x55a9d6);return _0x108afe[_0x2a8eef(0x369)][_0x2a8eef(0x51c)]=_0x55a9d6,_0x108afe;}[_0x120045(0xa57)](_0x182869){const _0x36ab4b=_0x120045;return this[_0x36ab4b(0x369)]['tables'][_0x182869]={},new _0x5b9e3d(this[_0x36ab4b(0x369)][_0x36ab4b(0x68f)][_0x182869]);}[_0x120045(0x416)](){return this['layout'];}}class _0x5b9e3d{[_0x120045(0x358)];constructor(_0x4c2602){const _0x10a572=_0x120045;this[_0x10a572(0x358)]=_0x4c2602;}[_0x120045(0x2a2)](_0x2ef31a){const _0x12888c=_0x120045;return this[_0x12888c(0x358)]['indexes']=this[_0x12888c(0x358)][_0x12888c(0x83d)]??[],this['tableLayout'][_0x12888c(0x83d)][_0x12888c(0xdc)]({'keyPath':_0x2ef31a}),this;}}const _0x457ec0=0x40000,_0x498039=0x20000,_0x4e96c3=0x1388,_0x49dc0c=_0x120045(0x1c9),_0x41db28=_0x120045(0xef),_0x35cb36=_0x120045(0x147),_0x5ae929=_0x120045(0x346),_0x12adfe=0xdbba0,_0x19df9d=0x61a8,_0x40bfc5=_0x120045(0x5d9);var _0x9ef406;!function(_0x5a8097){const _0x47a44c=_0x120045;_0x5a8097[_0x47a44c(0x578)]=_0x47a44c(0x675),_0x5a8097['ConnectionNotConnected']=_0x47a44c(0x543),_0x5a8097[_0x47a44c(0x6a9)]=_0x47a44c(0x39c),_0x5a8097[_0x47a44c(0x901)]=_0x47a44c(0x84b),_0x5a8097[_0x47a44c(0x85c)]=_0x47a44c(0x574),_0x5a8097[_0x47a44c(0x544)]=_0x47a44c(0x721),_0x5a8097[_0x47a44c(0x480)]=_0x47a44c(0x40d),_0x5a8097[_0x47a44c(0x7d8)]='generative-ai-context-job-already-consumed',_0x5a8097[_0x47a44c(0x454)]=_0x47a44c(0x8c1),_0x5a8097[_0x47a44c(0x71b)]=_0x47a44c(0x3a5),_0x5a8097[_0x47a44c(0x568)]=_0x47a44c(0x151),_0x5a8097[_0x47a44c(0x1b1)]='graph-database-creation-failed',_0x5a8097[_0x47a44c(0x9dd)]=_0x47a44c(0x606),_0x5a8097['InvalidPublisher']=_0x47a44c(0x6cc),_0x5a8097[_0x47a44c(0x9c8)]='invalid-subscriber',_0x5a8097['InvalidSubscription']=_0x47a44c(0x7af),_0x5a8097['JobDispatcherCreationFailed']=_0x47a44c(0x724),_0x5a8097[_0x47a44c(0x2ce)]=_0x47a44c(0x95f),_0x5a8097[_0x47a44c(0x75d)]=_0x47a44c(0x551),_0x5a8097[_0x47a44c(0x5db)]=_0x47a44c(0x52b),_0x5a8097[_0x47a44c(0x262)]=_0x47a44c(0x5e5),_0x5a8097[_0x47a44c(0x8e1)]=_0x47a44c(0x3b8),_0x5a8097[_0x47a44c(0x905)]=_0x47a44c(0x35b),_0x5a8097[_0x47a44c(0x72b)]=_0x47a44c(0x5df),_0x5a8097[_0x47a44c(0x55d)]=_0x47a44c(0x27a),_0x5a8097['KeyValueDatabaseTransactionTableNotInitialized']=_0x47a44c(0x746),_0x5a8097[_0x47a44c(0x740)]='key-value-database-transaction-value-not-set',_0x5a8097[_0x47a44c(0x5c2)]=_0x47a44c(0x6a7),_0x5a8097['MissingRemoteConnection']=_0x47a44c(0x922),_0x5a8097[_0x47a44c(0x46f)]=_0x47a44c(0x40f),_0x5a8097[_0x47a44c(0x4c6)]=_0x47a44c(0x635),_0x5a8097[_0x47a44c(0x64e)]=_0x47a44c(0xa7f),_0x5a8097[_0x47a44c(0x660)]=_0x47a44c(0x1ee),_0x5a8097['ObjectStoreInvalidSyncMessage']='object-store-invalid-sync-message',_0x5a8097['ObjectStoreNotSynced']='object-store-not-synced',_0x5a8097[_0x47a44c(0x891)]=_0x47a44c(0x132),_0x5a8097[_0x47a44c(0x52e)]='remote-stream-does-not-exist',_0x5a8097[_0x47a44c(0x827)]=_0x47a44c(0xa6b),_0x5a8097['RemoteConnectionExists']=_0x47a44c(0x76b),_0x5a8097[_0x47a44c(0x98f)]=_0x47a44c(0x6be),_0x5a8097[_0x47a44c(0x99e)]=_0x47a44c(0x7ce),_0x5a8097[_0x47a44c(0x4a2)]='subscription-request-no-answer',_0x5a8097[_0x47a44c(0x67b)]=_0x47a44c(0x8d6),_0x5a8097[_0x47a44c(0xa7c)]='node-already-exist',_0x5a8097[_0x47a44c(0x7eb)]='peer-connection-invalid-destination',_0x5a8097[_0x47a44c(0x852)]='vector-database-creation-failed',_0x5a8097['WorkflowDoesNotExist']=_0x47a44c(0x8ed),_0x5a8097[_0x47a44c(0x255)]='workflow-invalid-block-type';}(_0x9ef406||(_0x9ef406={}));const _0x268009=new Map([[_0x9ef406[_0x120045(0x578)],'Connection\x20not\x20initialized.'],[_0x9ef406[_0x120045(0x5fc)],_0x120045(0x53d)],[_0x9ef406[_0x120045(0x6a9)],_0x120045(0x4ba)],[_0x9ef406[_0x120045(0x901)],_0x120045(0x5d0)],[_0x9ef406[_0x120045(0x85c)],_0x120045(0x4d7)],[_0x9ef406['GenerativeAIContextCreationFailed'],_0x120045(0x43a)],[_0x9ef406[_0x120045(0x480)],_0x120045(0x3cc)],[_0x9ef406[_0x120045(0x7d8)],_0x120045(0x45c)],[_0x9ef406[_0x120045(0x454)],_0x120045(0x5b8)],[_0x9ef406[_0x120045(0x71b)],_0x120045(0x55e)],[_0x9ef406[_0x120045(0x568)],_0x120045(0x1d2)],[_0x9ef406[_0x120045(0x1b1)],_0x120045(0x403)],[_0x9ef406[_0x120045(0x9dd)],_0x120045(0x89b)],[_0x9ef406[_0x120045(0x4ef)],_0x120045(0x1a4)],[_0x9ef406[_0x120045(0x9c8)],_0x120045(0xa2e)],[_0x9ef406[_0x120045(0x877)],_0x120045(0x266)],[_0x9ef406[_0x120045(0x576)],_0x120045(0x6ba)],[_0x9ef406['JobDispatcherInvalidPayload'],_0x120045(0x2fe)],[_0x9ef406[_0x120045(0x75d)],'Job\x20service\x20job\x20not\x20found.'],[_0x9ef406[_0x120045(0x5db)],'Job\x20service\x20observer\x20not\x20found.'],[_0x9ef406[_0x120045(0x262)],_0x120045(0x83c)],[_0x9ef406[_0x120045(0x8e1)],'Invalid\x20job\x20worker\x20type.'],[_0x9ef406['KeyValueDatabaseCreationFailed'],_0x120045(0x90c)],[_0x9ef406['KeyValueDatabasePeakNotFound'],_0x120045(0x48b)],[_0x9ef406[_0x120045(0x55d)],_0x120045(0x8a2)],[_0x9ef406['KeyValueDatabaseTransactionTableNotInitialized'],_0x120045(0x927)],[_0x9ef406[_0x120045(0x740)],_0x120045(0x705)],[_0x9ef406[_0x120045(0x5c2)],_0x120045(0x20e)],[_0x9ef406[_0x120045(0x47f)],_0x120045(0x621)],[_0x9ef406[_0x120045(0x46f)],'The\x20system\x20topic\x20has\x20not\x20been\x20registered.'],[_0x9ef406['MistletCapacityReportNotSet'],_0x120045(0x160)],[_0x9ef406[_0x120045(0x64e)],_0x120045(0x276)],[_0x9ef406[_0x120045(0x1e4)],_0x120045(0xa81)],[_0x9ef406[_0x120045(0x660)],_0x120045(0x993)],[_0x9ef406[_0x120045(0x413)],_0x120045(0x277)],[_0x9ef406[_0x120045(0x891)],_0x120045(0x4b5)],[_0x9ef406[_0x120045(0x52e)],_0x120045(0x5ee)],[_0x9ef406[_0x120045(0x827)],'Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.'],[_0x9ef406[_0x120045(0x3c5)],_0x120045(0x26f)],[_0x9ef406[_0x120045(0x98f)],_0x120045(0x7a9)],[_0x9ef406['SubscriptionRequestFailed'],_0x120045(0x3e2)],[_0x9ef406[_0x120045(0x4a2)],_0x120045(0x961)],[_0x9ef406[_0x120045(0x67b)],'Node\x20does\x20not\x20exist.'],[_0x9ef406[_0x120045(0xa7c)],_0x120045(0x3d2)],[_0x9ef406[_0x120045(0x7eb)],'Invalid\x20peer\x20connection\x20event\x20destination.'],[_0x9ef406[_0x120045(0x852)],'Vector\x20database\x20creation\x20failed.'],[_0x9ef406[_0x120045(0x4f4)],_0x120045(0x355)],[_0x9ef406['WorkflowInvalidBlockType'],_0x120045(0x1ff)]]);class _0x4a916f extends Error{[_0x120045(0x626)];static [_0x120045(0xa30)]=_0x9ef406;[_0x120045(0x7f6)];constructor(_0x2ae85c,_0x51ded7){const _0x5b1443=_0x120045;super(_0x5b1443(0x419)+_0x2ae85c+':\x20'+_0x268009[_0x5b1443(0x7e9)](_0x2ae85c)+_0x5b1443(0x906)+JSON['stringify'](_0x51ded7)),this['code']=_0x2ae85c,this['data']=_0x51ded7||{};}}var _0x46be06,_0x5895f4,_0x466102,_0x2117d0,_0x566894,_0x43f5a0,_0x435438;!function(_0xe47f7){const _0x1da7a0=_0x120045;_0xe47f7[_0xe47f7[_0x1da7a0(0x4eb)]=0x0]=_0x1da7a0(0x4eb),_0xe47f7[_0xe47f7[_0x1da7a0(0x5e3)]=0x1]=_0x1da7a0(0x5e3),_0xe47f7[_0xe47f7[_0x1da7a0(0x733)]=0x2]=_0x1da7a0(0x733),_0xe47f7[_0xe47f7['CloseExternalStorageConnection']=0x3]=_0x1da7a0(0xa42),_0xe47f7[_0xe47f7[_0x1da7a0(0xa61)]=0x4]=_0x1da7a0(0xa61),_0xe47f7[_0xe47f7[_0x1da7a0(0x8f7)]=0x5]='CloseMediaStream',_0xe47f7[_0xe47f7[_0x1da7a0(0x807)]=0x6]=_0x1da7a0(0x807),_0xe47f7[_0xe47f7['ClosePubSubTopic']=0x7]=_0x1da7a0(0x2fa),_0xe47f7[_0xe47f7[_0x1da7a0(0x14e)]=0x8]=_0x1da7a0(0x14e),_0xe47f7[_0xe47f7['ExternalStorageStats']=0x9]=_0x1da7a0(0x50e),_0xe47f7[_0xe47f7[_0x1da7a0(0x8bc)]=0xa]=_0x1da7a0(0x8bc),_0xe47f7[_0xe47f7[_0x1da7a0(0x773)]=0xb]=_0x1da7a0(0x773),_0xe47f7[_0xe47f7['GraphDatabaseStats']=0xc]=_0x1da7a0(0x7e4),_0xe47f7[_0xe47f7['KeyValueDatabaseContentAvailable']=0xd]='KeyValueDatabaseContentAvailable',_0xe47f7[_0xe47f7['KeyValueDatabaseContentSynchronized']=0xe]=_0x1da7a0(0x415),_0xe47f7[_0xe47f7[_0x1da7a0(0x913)]=0xf]=_0x1da7a0(0x913),_0xe47f7[_0xe47f7[_0x1da7a0(0x9da)]=0x10]=_0x1da7a0(0x9da),_0xe47f7[_0xe47f7[_0x1da7a0(0x21c)]=0x11]='KeyValueDatabaseSendTransactions',_0xe47f7[_0xe47f7[_0x1da7a0(0x213)]=0x12]='KeyValueDatabaseStats',_0xe47f7[_0xe47f7[_0x1da7a0(0x243)]=0x13]=_0x1da7a0(0x243),_0xe47f7[_0xe47f7[_0x1da7a0(0x66d)]=0x14]=_0x1da7a0(0x66d),_0xe47f7[_0xe47f7[_0x1da7a0(0xa0a)]=0x15]=_0x1da7a0(0xa0a),_0xe47f7[_0xe47f7[_0x1da7a0(0x8f6)]=0x16]=_0x1da7a0(0x8f6),_0xe47f7[_0xe47f7[_0x1da7a0(0x952)]=0x17]=_0x1da7a0(0x952),_0xe47f7[_0xe47f7['RemoteMediaStreamTrackFail']=0x18]=_0x1da7a0(0x77c),_0xe47f7[_0xe47f7['SubscribeMediaStream']=0x19]=_0x1da7a0(0x628),_0xe47f7[_0xe47f7[_0x1da7a0(0x227)]=0x1a]=_0x1da7a0(0x227),_0xe47f7[_0xe47f7[_0x1da7a0(0x9a4)]=0x1b]=_0x1da7a0(0x9a4),_0xe47f7[_0xe47f7[_0x1da7a0(0x515)]=0x1c]=_0x1da7a0(0x515),_0xe47f7[_0xe47f7[_0x1da7a0(0x191)]=0x1d]=_0x1da7a0(0x191);}(_0x46be06||(_0x46be06={})),function(_0x456375){const _0xfed90c=_0x120045;_0x456375[_0xfed90c(0x4aa)]=_0xfed90c(0x5f7),_0x456375[_0xfed90c(0x5b4)]=_0xfed90c(0x450),_0x456375['Delete']=_0xfed90c(0xa10),_0x456375[_0xfed90c(0x28f)]='move',_0x456375['RequestFile']=_0xfed90c(0x2a3),_0x456375[_0xfed90c(0x37f)]=_0xfed90c(0x38f),_0x456375[_0xfed90c(0x70f)]=_0xfed90c(0x3e9),_0x456375['RequestFileWrite']=_0xfed90c(0x4f8);}(_0x5895f4||(_0x5895f4={})),function(_0x53972b){const _0x1dd2b7=_0x120045;_0x53972b[_0x1dd2b7(0x5bd)]=_0x1dd2b7(0x173),_0x53972b[_0x1dd2b7(0x548)]=_0x1dd2b7(0x57b);}(_0x466102||(_0x466102={})),function(_0x43e700){const _0x4db198=_0x120045;_0x43e700['Add']=_0x4db198(0x532),_0x43e700[_0x4db198(0x1fd)]='update',_0x43e700[_0x4db198(0xa5a)]='delete';}(_0x2117d0||(_0x2117d0={})),function(_0x1c6260){const _0x720c1c=_0x120045;_0x1c6260[_0x720c1c(0x839)]=_0x720c1c(0x7e9),_0x1c6260['List']=_0x720c1c(0x100),_0x1c6260[_0x720c1c(0x71c)]=_0x720c1c(0x1a5);}(_0x566894||(_0x566894={})),function(_0x3213f7){const _0x298ad2=_0x120045;_0x3213f7[_0x3213f7['Request']=0x0]=_0x298ad2(0x5bd),_0x3213f7[_0x3213f7[_0x298ad2(0x2e4)]=0x1]=_0x298ad2(0x2e4),_0x3213f7[_0x3213f7[_0x298ad2(0x4a1)]=0x2]='Attribution',_0x3213f7[_0x3213f7['PartialResult']=0x3]=_0x298ad2(0x95c),_0x3213f7[_0x3213f7[_0x298ad2(0x6f7)]=0x4]=_0x298ad2(0x6f7),_0x3213f7[_0x3213f7['Failed']=0x5]='Failed';}(_0x43f5a0||(_0x43f5a0={})),function(_0x5c80fa){const _0x56f60a=_0x120045;_0x5c80fa[_0x5c80fa['PeerConnection']=0x0]=_0x56f60a(0x122),_0x5c80fa[_0x5c80fa[_0x56f60a(0x9c1)]=0x1]='Node',_0x5c80fa[_0x5c80fa['Content']=0x2]='Content',_0x5c80fa[_0x5c80fa[_0x56f60a(0x9d2)]=0x3]=_0x56f60a(0x9d2),_0x5c80fa[_0x5c80fa[_0x56f60a(0x43b)]=0x4]=_0x56f60a(0x43b),_0x5c80fa[_0x5c80fa[_0x56f60a(0x125)]=0x5]=_0x56f60a(0x125),_0x5c80fa[_0x5c80fa[_0x56f60a(0x8f1)]=0x6]=_0x56f60a(0x8f1);}(_0x435438||(_0x435438={}));class _0x268319{[_0x120045(0x185)];[_0x120045(0x573)];[_0x120045(0xa45)];constructor(_0x111374,_0x266613){this['owner']=_0x111374,this['label']=_0x266613;}['getLabel'](){return this['label'];}['getOwnerId'](){const _0x4be0f2=_0x120045;return this[_0x4be0f2(0x185)][_0x4be0f2(0xd7)]();}[_0x120045(0x4d9)](){}[_0x120045(0x67d)](_0x47533e){const _0x38bbf6=_0x120045;this[_0x38bbf6(0xa45)]=_0x47533e;}[_0x120045(0x12a)](){delete this['systemTopic'];}}const _0x730305=require('firebase/firestore');let _0x2efae8=_0x29e5bf(0x14d)['O'];function _0x57cd95(_0x80d3){const _0x399d3b=_0x120045;return!(!_0x80d3||_0x399d3b(0x5be)!=typeof _0x80d3||Array[_0x399d3b(0x799)](_0x80d3));}_0x2efae8=function _0x92c29c(_0x12f20b,..._0x441702){const _0x5d966a=_0x120045;if(!Array['isArray'](_0x441702)||0x0===_0x441702['length'])return _0x12f20b;const _0x3f115c=_0x441702['shift']();if(_0x57cd95(_0x12f20b)&&_0x57cd95(_0x3f115c)){for(const _0x353686 in _0x3f115c)_0x57cd95(_0x3f115c[_0x353686])?(_0x12f20b[_0x353686]||Object[_0x5d966a(0x7e3)](_0x12f20b,{[_0x353686]:{}}),_0x92c29c(_0x12f20b[_0x353686],_0x3f115c[_0x353686])):Object[_0x5d966a(0x7e3)](_0x12f20b,{[_0x353686]:_0x3f115c[_0x353686]});}return _0x92c29c(_0x12f20b,..._0x441702);}(_0x2efae8,_0x29e5bf(0x3e6)['O']);const _0x4cff37=_0x2efae8,_0x140d09=require('firebase/app'),_0x2fbcef=require('firebase/auth'),_0x4399c2=require('firebase/database'),_0x3a9c7d=require('firebase/functions'),_0x233c4d=require('uuid'),_0x47f9b2=_0x120045(0x399);class _0x2543d4{static ['instance'];['app'];['auth'];['functions'];['database'];[_0x120045(0x61c)];[_0x120045(0x5fe)];[_0x120045(0x48d)];constructor(){const _0x1c765e=_0x120045;this[_0x1c765e(0x107)]();}static['getInstance'](){const _0x4926fc=_0x120045;return _0x2543d4[_0x4926fc(0x115)]||(_0x2543d4[_0x4926fc(0x115)]=new _0x2543d4()),_0x2543d4[_0x4926fc(0x115)];}['getApp'](){const _0x2f5617=_0x120045;if(!this[_0x2f5617(0x265)]){let _0x1283a7=_0x47f9b2;_0x2f5617(0x2a8)!=typeof window&&(_0x1283a7=_0x47f9b2+'-'+(0x0,_0x233c4d['v4'])()),this[_0x2f5617(0x265)]=(0x0,_0x140d09[_0x2f5617(0x8ea)])(_0x4cff37[_0x2f5617(0x371)],''+_0x1283a7);}return this[_0x2f5617(0x265)];}['getAuth'](){const _0x144555=_0x120045;return this[_0x144555(0x462)]||(this[_0x144555(0x462)]=(0x0,_0x2fbcef['getAuth'])(this[_0x144555(0x107)]())),this['auth'];}[_0x120045(0x586)](){const _0x2bfc4e=_0x120045;return this[_0x2bfc4e(0x6d8)]||(this[_0x2bfc4e(0x6d8)]=(0x0,_0x3a9c7d[_0x2bfc4e(0x586)])(this[_0x2bfc4e(0x107)](),_0x4cff37[_0x2bfc4e(0x371)][_0x2bfc4e(0x39b)])),this[_0x2bfc4e(0x6d8)];}['getDatabase'](){const _0x1dc473=_0x120045;return this[_0x1dc473(0x7d9)]||(this[_0x1dc473(0x7d9)]=(0x0,_0x4399c2[_0x1dc473(0x1c4)])(this[_0x1dc473(0x107)]())),this[_0x1dc473(0x7d9)];}[_0x120045(0x368)](){const _0x64692b=_0x120045;return this[_0x64692b(0x61c)]||(this[_0x64692b(0x61c)]=(0x0,_0x730305['getFirestore'])(this[_0x64692b(0x107)]())),this[_0x64692b(0x61c)];}async['getEstimatedTimestamp'](){const _0x58338c=_0x120045;if(this[_0x58338c(0x5fe)]&&this[_0x58338c(0x48d)]&&Date[_0x58338c(0x9e1)]()-this[_0x58338c(0x48d)]<0x493e0)return Date[_0x58338c(0x9e1)]()+this['clockSkew'];const _0x21aa24=this[_0x58338c(0x1c4)](),_0x32f358=(0x0,_0x4399c2[_0x58338c(0x6f0)])(_0x21aa24,_0x58338c(0x652));return new Promise(_0x54cc3a=>{const _0x589db2=_0x58338c;(0x0,_0x4399c2[_0x589db2(0x2a5)])(_0x32f358,_0x1dd97f=>{const _0x375350=_0x589db2;(0x0,_0x4399c2[_0x375350(0x959)])(_0x32f358),this[_0x375350(0x5fe)]=_0x1dd97f[_0x375350(0x7cc)](),this[_0x375350(0x48d)]=Date[_0x375350(0x9e1)](),_0x54cc3a(Date[_0x375350(0x9e1)]()+(this[_0x375350(0x5fe)]??0x0));});});}}const _0x2451a5=_0x2543d4['getInstance']();class _0x568e7c{static [_0x120045(0x115)];[_0x120045(0x7ed)]=[_0x185607['Default']];[_0x120045(0x396)]=!0x1;[_0x120045(0x453)];['vendorId']='';[_0x120045(0x547)];['batchQueue']=[];[_0x120045(0x9c6)];[_0x120045(0x225)];[_0x120045(0x713)]=0xa;[_0x120045(0x306)]=0x1f4;[_0x120045(0x817)]=0x1c2;[_0x120045(0xa20)]=0x3e8;constructor(){const _0xc1c3ff=_0x120045;if(_0xc1c3ff(0x2a8)!=typeof window)this[_0xc1c3ff(0x547)]=window;else{if(void 0x0===_0x29e5bf['g'])throw new Error(_0xc1c3ff(0x981));this[_0xc1c3ff(0x547)]=_0x29e5bf['g'];}this[_0xc1c3ff(0x2ba)](),this[_0xc1c3ff(0x547)]['crewdleSDKEnableLogging']=_0x4c9a09=>{const _0xc79e6=_0xc1c3ff;if(_0x4c9a09===_0x185607['All'])return this[_0xc79e6(0x7ed)]=Object[_0xc79e6(0xca)](_0x185607)[_0xc79e6(0x760)](_0x2c5720=>_0x185607[_0x2c5720]),void Object[_0xc79e6(0xca)](_0x185607)[_0xc79e6(0x311)](_0x203714=>{const _0x236535=_0xc79e6,_0x4cf94b=_0x203714;localStorage[_0x236535(0x820)]('crewdle-sdk-logging-'+_0x185607[_0x4cf94b],_0x236535(0x9ab));});this[_0xc79e6(0x7ed)][_0xc79e6(0x82f)](_0x4c9a09)||(this[_0xc79e6(0x7ed)][_0xc79e6(0xdc)](_0x4c9a09),localStorage[_0xc79e6(0x820)](_0xc79e6(0x910)+_0x4c9a09,'true'));},this['globalObject'][_0xc1c3ff(0x24d)]=_0xf4bc61=>{const _0x4d077a=_0xc1c3ff;if(!_0xf4bc61||_0xf4bc61===_0x185607[_0x4d077a(0x795)])return this[_0x4d077a(0x7ed)]=[],void Object[_0x4d077a(0xca)](_0x185607)['forEach'](_0x641196=>{const _0x3a7749=_0x4d077a,_0x1e3b55=_0x641196;localStorage[_0x3a7749(0x1fc)](_0x3a7749(0x910)+_0x185607[_0x1e3b55]);});this['enabledChannels'][_0x4d077a(0x82f)](_0xf4bc61)&&(this['enabledChannels']=this[_0x4d077a(0x7ed)][_0x4d077a(0x1e1)](_0x52bdb2=>_0x52bdb2!==_0xf4bc61),localStorage[_0x4d077a(0x1fc)](_0x4d077a(0x910)+_0xf4bc61));},this[_0xc1c3ff(0x547)][_0xc1c3ff(0x6e9)]=_0x185607;}static[_0x120045(0x188)](){const _0x525efb=_0x120045;try{return _0x568e7c['instance']||(_0x568e7c[_0x525efb(0x115)]=new _0x568e7c()),_0x568e7c[_0x525efb(0x115)];}catch(_0x2fa8ce){return console[_0x525efb(0x525)](_0x525efb(0x765),_0x2fa8ce),{'log':()=>{},'forceLog':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1,'processBatch':()=>{}};}}[_0x120045(0x332)](_0x46e90e){const _0x42ed93=_0x120045;this[_0x42ed93(0x11b)]=_0x46e90e,this[_0x42ed93(0x4ff)]=[],this[_0x42ed93(0x9c6)]=this[_0x42ed93(0x1ce)](),this['batchTimeout']&&(clearTimeout(this[_0x42ed93(0x225)]),this[_0x42ed93(0x225)]=void 0x0);}['setLoggingConnectors'](_0x3a7140){const _0x59fbd4=_0x120045;this[_0x59fbd4(0x453)]=_0x3a7140;}[_0x120045(0xa39)](_0x7eb1a1,..._0x5a3bd6){const _0x2e93c9=_0x120045;this['debugEnabled']&&this['log'](_0x185607[_0x2e93c9(0x87a)],_0x2e93c9(0x545)+_0x7eb1a1,..._0x5a3bd6);}[_0x120045(0x390)](_0x12d42f,..._0x43991a){const _0x35cf94=_0x120045;console[_0x35cf94(0xed)](_0x12d42f,..._0x43991a),this['loggingConnectors']&&this[_0x35cf94(0x453)][_0x35cf94(0x311)](_0x414282=>{const _0x2e3a35=_0x35cf94;_0x414282[_0x2e3a35(0xed)](_0x12d42f,{'vendorId':this[_0x2e3a35(0x11b)],'nodeId':'','nodeType':'','data':{..._0x43991a}});});}[_0x120045(0xed)](_0x5bc157,_0x18ac35,..._0xb6c20b){const _0x1464fc=_0x120045;_0x4cff37['isProduction']||(this['enabledChannels'][_0x1464fc(0x82f)](_0x5bc157)&&console[_0x1464fc(0xed)]('Channel\x20\x27'+_0x5bc157+'\x27\x0a',new Date()+'\x0a',_0x18ac35,..._0xb6c20b),this[_0x1464fc(0x453)]&&this[_0x1464fc(0x453)][_0x1464fc(0x311)](_0x1880cc=>{const _0x2c8914=_0x1464fc;this[_0x2c8914(0x18d)](_0x1880cc)&&_0x1880cc[_0x2c8914(0x210)]()[_0x2c8914(0x82f)](_0x5bc157)&&_0x1880cc[_0x2c8914(0xed)](_0x18ac35,{'vendorId':this[_0x2c8914(0x11b)],'nodeId':'','nodeType':'','data':{'channel':_0x5bc157,..._0xb6c20b}});}));}[_0x120045(0x541)](_0x2278d0,_0x464f16,..._0xa293d9){const _0x1734b5=_0x120045;_0x4cff37[_0x1734b5(0x42b)]||(this[_0x1734b5(0x7ed)][_0x1734b5(0x82f)](_0x2278d0)&&console['log'](_0x464f16,..._0xa293d9),this[_0x1734b5(0x453)]&&this[_0x1734b5(0x453)][_0x1734b5(0x311)](_0x443eac=>{const _0x75164=_0x1734b5;this[_0x75164(0x18d)](_0x443eac)&&_0x443eac['getEnabledChannels']()['includes'](_0x2278d0)&&_0x443eac['log'](_0x464f16,{'vendorId':this[_0x75164(0x11b)],'nodeId':'','nodeType':'','data':{'channel':_0x2278d0,..._0xa293d9}});}));}[_0x120045(0x7f8)](_0xc8fda2,_0x52ced5){const _0x12353e=_0x120045;if(!this[_0x12353e(0x453)])return;const _0x445e78={'vendorId':this[_0x12353e(0x11b)],..._0x52ced5};this['loggingConnectors']['forEach'](_0xc5a5c7=>{const _0x26dc4a=_0x12353e;_0xc5a5c7[_0x26dc4a(0xed)](_0xc8fda2,_0x445e78);});}[_0x120045(0x7a0)](_0x3dd09f,_0x210a38){const _0xa75d69=_0x120045;this['createBatchOperation'](_0x3dd09f,_0x210a38),this[_0xa75d69(0x806)]();}['logStorage'](_0x374b45,_0x598a79,_0x3eefbc){const _0x4a3d45=_0x120045;(0x0,_0x730305[_0x4a3d45(0x5a9)])((0x0,_0x730305['doc'])(_0x2451a5[_0x4a3d45(0x368)](),_0x4a3d45(0x28c)+this[_0x4a3d45(0x11b)]+'/'+_0x374b45+'/'+_0x598a79),{'storage':_0x3eefbc,'timestamp':(0x0,_0x730305[_0x4a3d45(0xa58)])()});}[_0x120045(0x806)](){const _0x5c28a2=_0x120045;this['currentBatch']&&(this[_0x5c28a2(0x9c6)][_0x5c28a2(0x5bb)]+=0x1,this[_0x5c28a2(0x9c6)][_0x5c28a2(0x5bb)]===this[_0x5c28a2(0x817)]?this[_0x5c28a2(0x619)]():this['batchTimeout']||(this[_0x5c28a2(0x225)]=this['globalObject']['setTimeout'](()=>this[_0x5c28a2(0x619)](),this[_0x5c28a2(0xa20)])));}async['processBatch'](){const _0x3e0390=_0x120045;if(this[_0x3e0390(0x9c6)]){for(this[_0x3e0390(0x4ff)][_0x3e0390(0xdc)](this['currentBatch']),this[_0x3e0390(0x9c6)]=this[_0x3e0390(0x1ce)]();this[_0x3e0390(0x4ff)]['length']>0x0;){const _0x2dcd93=this[_0x3e0390(0x4ff)][_0x3e0390(0x9ea)]();if(!await this[_0x3e0390(0x5aa)](_0x2dcd93))break;}clearTimeout(this['batchTimeout']),this[_0x3e0390(0x225)]=void 0x0;}}[_0x120045(0x525)](_0x3e0acd,_0x480e69,..._0xbe50ab){const _0xaf527c=_0x120045;if(console['error'](new Date(),_0x3e0acd,_0x480e69,..._0xbe50ab),this[_0xaf527c(0x453)]){const _0x3d5cf9={'vendorId':this[_0xaf527c(0x11b)],..._0x480e69};this['loggingConnectors'][_0xaf527c(0x311)](_0x481cd9=>{const _0x4fca59=_0xaf527c;_0x481cd9[_0x4fca59(0x525)](_0x3e0acd,_0x3d5cf9);});}}[_0x120045(0x87e)](_0x194993,_0x44d924,..._0xb1723b){const _0x48e453=_0x120045;if(console['warn'](new Date(),_0x194993,_0x44d924,_0xb1723b),this['loggingConnectors']){const _0x134b58={'vendorId':this[_0x48e453(0x11b)],..._0x44d924};this[_0x48e453(0x453)][_0x48e453(0x311)](_0x3940ed=>{_0x3940ed['warn'](_0x194993,_0x134b58);});}}[_0x120045(0xf6)](_0xa198c){const _0x1b2f40=_0x120045;return this['enabledChannels'][_0x1b2f40(0x82f)](_0xa198c);}async[_0x120045(0x5aa)](_0x5619e8,_0x56e807=0x0){const _0x513367=_0x120045;if(_0x5619e8[_0x513367(0x5bb)]>0x0)try{return await _0x5619e8[_0x513367(0x155)][_0x513367(0x9f1)](),!0x0;}catch(_0x2ca465){if(console[_0x513367(0x525)](_0x513367(0x988),_0x2ca465,_0x513367(0x1b2),_0x5619e8[_0x513367(0x616)]),!(_0x56e807<this[_0x513367(0x713)])){const {nodeId:_0x26f7ae='',nodeType:_0x22d5ec='',clusterId:_0x5d968e=''}=_0x5619e8[_0x513367(0x616)][0x0][_0x513367(0x7f6)],_0xaf9e8a={'nodeId':_0x26f7ae,'nodeType':_0x22d5ec,'clusterId':_0x5d968e,'data':{'operations':_0x5619e8['operations'],'error':_0x2ca465}};return this[_0x513367(0x525)](_0x513367(0x72c),_0xaf9e8a),!0x1;}{const _0x523852=this[_0x513367(0x3eb)](_0x5619e8[_0x513367(0x616)]);setTimeout(()=>this[_0x513367(0x5aa)](_0x523852,_0x56e807+0x1),this[_0x513367(0x306)]*Math[_0x513367(0x239)](0x2,_0x56e807));}}}[_0x120045(0x2ba)](){const _0x2967cb=_0x120045;try{Object[_0x2967cb(0xca)](_0x185607)[_0x2967cb(0x311)](_0x3f4979=>{const _0x4d2343=_0x2967cb,_0x72194d=_0x3f4979;localStorage['getItem'](_0x4d2343(0x910)+_0x185607[_0x72194d])&&(console[_0x4d2343(0xed)]('LoggingService:\x20logging\x20enabled\x20for',_0x185607[_0x72194d]),this[_0x4d2343(0x7ed)]['push'](_0x185607[_0x72194d]));});}catch(_0x509ac6){}}[_0x120045(0x18d)](_0x582dcb){const _0x851b5a=_0x120045;return void 0x0!==_0x582dcb[_0x851b5a(0x210)];}[_0x120045(0x1ce)](){const _0x4eda57=_0x120045;return{'batch':(0x0,_0x730305[_0x4eda57(0x8ac)])(_0x2451a5['getFirestore']()),'operations':[],'counter':0x0};}['createBatch'](_0x474b99){const _0x50ea9c=_0x120045,_0x23bca6=(0x0,_0x730305['writeBatch'])(_0x2451a5[_0x50ea9c(0x368)]());return _0x474b99[_0x50ea9c(0x311)](_0x168b2d=>this[_0x50ea9c(0x883)](_0x23bca6,_0x168b2d)),{'batch':_0x23bca6,'operations':_0x474b99,'counter':_0x474b99['length']};}[_0x120045(0x883)](_0x3be0a2,_0x6fd099){const _0x2e0fa3=_0x120045;switch(_0x6fd099[_0x2e0fa3(0x7f3)]){case _0x2e0fa3(0x381):_0x3be0a2['set'](_0x6fd099['ref'],_0x6fd099[_0x2e0fa3(0x7f6)]);break;case'update':_0x3be0a2[_0x2e0fa3(0x245)](_0x6fd099[_0x2e0fa3(0x6f0)],_0x6fd099['data']);break;case _0x2e0fa3(0xa10):_0x3be0a2[_0x2e0fa3(0xa10)](_0x6fd099['ref']);}}['createBatchOperation'](_0x40f7f0,_0x970c58){const _0x3ff732=_0x120045;this[_0x3ff732(0x9c6)]||(this['currentBatch']=this[_0x3ff732(0x1ce)]());const _0x58b470=(0x0,_0x730305[_0x3ff732(0x696)])((0x0,_0x730305['collection'])(_0x2451a5[_0x3ff732(0x368)](),_0x3ff732(0x28c)+this[_0x3ff732(0x11b)]+_0x3ff732(0x8ad))),_0x4b00de={..._0x970c58,'service':_0x40f7f0,'timestamp':(0x0,_0x730305[_0x3ff732(0xa58)])()},_0x2ebe19={'type':_0x3ff732(0x381),'path':_0x58b470['path'],'ref':_0x58b470,'data':_0x4b00de};return this[_0x3ff732(0x9c6)]['operations'][_0x3ff732(0xdc)](_0x2ebe19),this[_0x3ff732(0x883)](this['currentBatch'][_0x3ff732(0x155)],_0x2ebe19),_0x58b470;}}const _0x1b1d61=_0x568e7c['getInstance']();function _0x1afb3b(_0x2919d,_0x5137aa){return'/'===_0x2919d?_0x2919d+_0x5137aa:_0x2919d+'/'+_0x5137aa;}function _0x299e66(_0x2b3fae){const _0x2168d2=_0x120045,_0x1eb705=function(_0x4ced25){const _0x52d268=a0_0x573a;return _0x4ced25[_0x52d268(0x3b5)]('/')[_0x52d268(0x1e1)](_0xdb03e6=>_0xdb03e6[_0x52d268(0x59d)]>0x0);}(_0x2b3fae),_0x250528=_0x1eb705[_0x2168d2(0x87c)]()||'',_0x39a17b=_0x1eb705[_0x2168d2(0x3ec)]('/');return[0x0===_0x39a17b[_0x2168d2(0x59d)]?'/':_0x39a17b,_0x250528];}async function _0x27dd2e(_0x4c0e55){const _0x11e2bb=_0x120045;let _0x2b683c;const _0x18b227=_0x4c0e55[_0x11e2bb(0x625)]/0x100000;_0x2b683c=_0x18b227<=0xa?0x1:_0x18b227<=0x64?0.5:_0x18b227<=0x1f4?0.1:0.05;const _0x45cc16=Math[_0x11e2bb(0x17c)](_0x4c0e55[_0x11e2bb(0x625)]/_0x457ec0),_0x2815d5=Math[_0x11e2bb(0x17c)](_0x45cc16*_0x2b683c);let _0x4e1164=new Uint8Array();for(let _0x3aa3ee=0x0;_0x3aa3ee<_0x2815d5;_0x3aa3ee++){const _0x1a6909=Math[_0x11e2bb(0x2f2)](_0x3aa3ee/_0x2815d5*_0x4c0e55[_0x11e2bb(0x625)]);let _0x13d5ae=_0x1a6909+_0x457ec0;_0x13d5ae>_0x4c0e55['size']&&(_0x13d5ae=_0x4c0e55[_0x11e2bb(0x625)]);const _0x40e54a=_0x4c0e55[_0x11e2bb(0x334)](_0x1a6909,_0x13d5ae),_0x51a44c=await _0x40e54a['arrayBuffer'](),_0x3f9082=new Uint8Array([..._0x4e1164,...new Uint8Array(_0x51a44c)]);_0x4e1164=new Uint8Array(await crypto[_0x11e2bb(0x62e)][_0x11e2bb(0x4b3)](_0x11e2bb(0x3f9),_0x3f9082));}return Array[_0x11e2bb(0x7f9)](new Uint8Array(_0x4e1164))[_0x11e2bb(0x760)](_0x2d555f=>_0x2d555f[_0x11e2bb(0x5d4)](0x10)['padStart'](0x2,'0'))[_0x11e2bb(0x3ec)]('');}async function*_0x2cad99(_0x2d3cd2,_0x153ec5=0x0,_0x2a7ede){const _0x4ecf21=_0x120045;let _0x2b558b=_0x153ec5*_0x498039,_0x2b7c62=_0x2d3cd2;for(;_0x2b558b<_0x2b7c62[_0x4ecf21(0x625)];){let _0x465b6f=_0x2b558b+_0x498039;_0x465b6f>_0x2b7c62['size']&&(_0x465b6f=_0x2b7c62[_0x4ecf21(0x625)]);let _0x3680ca=0x0;for(;_0x3680ca<0x14;)try{await _0x2a7ede?.();const _0x5979f1=_0x2b7c62[_0x4ecf21(0x334)](_0x2b558b,_0x465b6f,_0x4ecf21(0x880)),_0x5ba3fc=await _0x5979f1['arrayBuffer']();yield _0x5ba3fc,_0x2b558b=_0x465b6f,await new Promise(_0x3d7452=>setTimeout(_0x3d7452,0x0));break;}catch(_0x516638){if(console[_0x4ecf21(0x525)](_0x4ecf21(0xa26)+(_0x3680ca+0x1)+'\x20attempts:',_0x516638),_0x3680ca++,_0x3680ca>0x14)throw _0x516638;let _0xee1244=0x3e8*Math[_0x4ecf21(0x239)](0x2,_0x3680ca);_0xee1244>0x7530&&(_0xee1244=0x7530),await new Promise(_0x54d0ff=>setTimeout(_0x54d0ff,_0xee1244));}}}class _0x3ab0ee extends _0x268319{['outgoingTopic'];[_0x120045(0xa76)];[_0x120045(0xa3e)]=new Map();[_0x120045(0x171)]=0x0;['messagesReceived']=0x0;[_0x120045(0x88e)]=0x0;['bytesReceived']=0x0;constructor(_0x2d80d1,_0x659dc1){super(_0x2d80d1,_0x659dc1);}['getLabel'](){const _0x2b62f1=_0x120045;return this[_0x2b62f1(0x573)];}[_0x120045(0xd1)](){const _0x4df45e=_0x120045;return this[_0x4df45e(0x573)];}[_0x120045(0x729)](){const _0x48aa8f=_0x120045;return _0x4e2564[_0x48aa8f(0x8be)][_0x48aa8f(0x6ad)];}[_0x120045(0x3d9)](){const _0x24da02=_0x120045;return this[_0x24da02(0x573)];}[_0x120045(0x1d7)](_0x4898da){const _0x4ec873=_0x120045;if(this[_0x4ec873(0x6fd)])throw new _0x4a916f(_0x4a916f[_0x4ec873(0xa30)][_0x4ec873(0x4ef)],{'message':'Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20'+this['owner'][_0x4ec873(0xd7)]()+'\x20-\x20'+this['label'],'topic':this['outgoingTopic']});this['outgoingTopic']=_0x4898da;}[_0x120045(0x353)](_0x1fc585){const _0x14e684=_0x120045;if(this[_0x14e684(0xa76)])throw new _0x4a916f(_0x4a916f[_0x14e684(0xa30)]['InvalidSubscriber'],{'message':_0x14e684(0x2b6)+this[_0x14e684(0x185)][_0x14e684(0xd7)]()+_0x14e684(0x723)+this[_0x14e684(0x573)],'topic':this[_0x14e684(0xa76)]});this[_0x14e684(0xa76)]=_0x1fc585;}[_0x120045(0x564)](){const _0x5e95c6=_0x120045;delete this[_0x5e95c6(0x6fd)];}[_0x120045(0x7c9)](){const _0x148c1e=_0x120045;delete this[_0x148c1e(0xa76)];}async[_0x120045(0x593)](_0x4327a0,_0x299e20){const _0x5ea9e2=_0x120045;if(_0x1b1d61[_0x5ea9e2(0xed)](_0x185607[_0x5ea9e2(0x102)],_0x5ea9e2(0x3e4),this[_0x5ea9e2(0x185)]['getId'](),_0x4327a0,_0x299e20),this[_0x5ea9e2(0x171)]+=0x1,_0x4327a0 instanceof File){const _0x4e55f8=await async function(_0x2fd798){const _0x368a79=_0x5ea9e2,_0x484046=[];for await(const _0x331f15 of _0x2cad99(_0x2fd798))_0x484046[_0x368a79(0xdc)](_0x331f15);return _0x484046;}(_0x4327a0);return this[_0x5ea9e2(0x88e)]+=_0x4e55f8['reduce']((_0x51c4c2,_0x2d97ed)=>_0x51c4c2+_0x2d97ed[_0x5ea9e2(0x3fd)],0x0),void _0x4e55f8['forEach']((_0x29fce9,_0x4a78ed)=>{const _0x3c41fd=_0x5ea9e2;this[_0x3c41fd(0x6fd)]['publish']({'sourceId':this[_0x3c41fd(0x185)]['getId'](),'destinationIds':_0x299e20,'propagate':!0x0,'contentType':_0x4e2564['ContentType'][_0x3c41fd(0x622)],'content':{'name':_0x4327a0[_0x3c41fd(0x5eb)],'type':_0x4327a0[_0x3c41fd(0x7f3)],'data':_0x29fce9,'index':_0x4a78ed,'total':_0x4e55f8[_0x3c41fd(0x59d)]}});});}this['bytesSent']+=JSON[_0x5ea9e2(0x4e9)](_0x4327a0)[_0x5ea9e2(0x59d)],this[_0x5ea9e2(0x6fd)]['publish']({'sourceId':this[_0x5ea9e2(0x185)][_0x5ea9e2(0xd7)](),'destinationIds':_0x299e20,'propagate':!0x0,'contentType':_0x4e2564['ContentType'][_0x5ea9e2(0x6ad)],'content':_0x4327a0});}['onMessage'](_0x1a5dc6){const _0x1b59d8=_0x120045;return this[_0x1b59d8(0xa76)][_0x1b59d8(0x8f0)](_0x360881=>{const _0x5bda5e=_0x1b59d8;switch(_0x1b1d61[_0x5bda5e(0xed)](_0x185607[_0x5bda5e(0x102)],_0x5bda5e(0x5d8),this[_0x5bda5e(0x185)][_0x5bda5e(0xd7)](),_0x360881),_0x360881[_0x5bda5e(0x26e)]){case _0x4e2564[_0x5bda5e(0x8be)][_0x5bda5e(0x6ad)]:this[_0x5bda5e(0x996)]+=0x1,this[_0x5bda5e(0x4ac)]+=JSON[_0x5bda5e(0x4e9)](_0x360881[_0x5bda5e(0x477)])['length'],_0x1a5dc6(_0x360881['sourceId'],_0x360881[_0x5bda5e(0x477)]);break;case _0x4e2564[_0x5bda5e(0x8be)]['File']:this[_0x5bda5e(0xa3e)]['has'](_0x360881['content'][_0x5bda5e(0x5eb)])||this[_0x5bda5e(0xa3e)][_0x5bda5e(0x381)](_0x360881[_0x5bda5e(0x477)][_0x5bda5e(0x5eb)],{'chunksReceived':0x0,'bytesReceived':0x0,'checksum':'','content':[]});const _0x5bd30d=this[_0x5bda5e(0xa3e)][_0x5bda5e(0x7e9)](_0x360881['content'][_0x5bda5e(0x5eb)]);if(_0x5bd30d['chunksReceived']+=0x1,_0x5bd30d['bytesReceived']+=_0x360881['content'][_0x5bda5e(0x7f6)][_0x5bda5e(0x3fd)],_0x5bd30d[_0x5bda5e(0x477)]&&(_0x5bd30d[_0x5bda5e(0x477)][_0x360881['content'][_0x5bda5e(0x2a2)]]=_0x360881[_0x5bda5e(0x477)][_0x5bda5e(0x7f6)]),this[_0x5bda5e(0xa3e)][_0x5bda5e(0x381)](_0x360881[_0x5bda5e(0x477)][_0x5bda5e(0x5eb)],_0x5bd30d),_0x5bd30d[_0x5bda5e(0x148)]+0x1<_0x360881['content'][_0x5bda5e(0x384)])return;this[_0x5bda5e(0x996)]+=0x1,this['bytesReceived']+=_0x5bd30d[_0x5bda5e(0x4ac)],_0x5bd30d[_0x5bda5e(0x477)]&&_0x1a5dc6(_0x360881[_0x5bda5e(0x50d)],(_0x3e5db6=_0x5bd30d[_0x5bda5e(0x477)],_0x193ba6=_0x360881['content'][_0x5bda5e(0x5eb)],_0x4bb608=_0x360881[_0x5bda5e(0x477)][_0x5bda5e(0x7f3)],new File(_0x3e5db6,_0x193ba6,{'type':_0x4bb608}))),this['fileChunks']['delete'](_0x360881['content']['name']);}var _0x3e5db6,_0x193ba6,_0x4bb608;});}}function _0x29f207(){const _0x71c6c9=_0x120045;let _0x5a7574=[];return{'subscribe':_0x54e3b5=>(_0x5a7574[_0x71c6c9(0xdc)](_0x54e3b5),()=>{const _0x53355f=_0x71c6c9;_0x5a7574=_0x5a7574[_0x53355f(0x1e1)](_0xcc868b=>_0xcc868b!==_0x54e3b5);}),'publish':_0x5e667b=>{const _0x51f7d0=_0x71c6c9;_0x5a7574[_0x51f7d0(0x311)](_0x27652d=>_0x27652d(_0x5e667b));}};}function _0x50ebb3(){let _0x2a3c82;return{'subscribe':_0xa44081=>(_0x2a3c82=_0xa44081,()=>{_0x2a3c82=void 0x0;}),'publish':_0x98f740=>{_0x2a3c82&&_0x2a3c82(_0x98f740);}};}class _0x8469bc{['connector'];[_0x120045(0x2cd)];[_0x120045(0xa52)];[_0x120045(0x857)]=_0x50ebb3();['listenerUnsubscriber'];constructor(_0x1e37ae,_0x53a390,_0x554004){const _0x48d6f8=_0x120045;this[_0x48d6f8(0x4b9)]=_0x1e37ae,this['tableName']=_0x53a390,this[_0x48d6f8(0xa52)]=_0x554004;}[_0x120045(0x4d9)](){this['listenerUnsubscriber']?.();}async[_0x120045(0x7e9)](_0x1aec3e){const _0x24bf7e=_0x120045,_0x633e2d={'key':_0x1aec3e,'tableName':this[_0x24bf7e(0x2cd)],'action':_0x566894[_0x24bf7e(0x839)]};return this[_0x24bf7e(0xa52)]['publish'](_0x633e2d),this[_0x24bf7e(0x4b9)][_0x24bf7e(0x7e9)](_0x1aec3e);}async[_0x120045(0x381)](_0x362693,_0x10db46,_0x5a9141=!0x0){const _0x1049d0=_0x120045;this[_0x1049d0(0x8a1)](_0x10db46);const _0xf1d797=await this[_0x1049d0(0x4b9)][_0x1049d0(0x7e9)](_0x362693),_0x2c7bf5=await this[_0x1049d0(0x4b9)][_0x1049d0(0x381)](_0x362693,_0x10db46),_0x76425f=_0xf1d797?_0x2117d0['Update']:_0x2117d0[_0x1049d0(0x4e2)];if(this[_0x1049d0(0x552)](_0x76425f,_0x2c7bf5),!_0x5a9141)return _0x2c7bf5;const _0x155b3b={'key':_0x362693,'tableName':this['tableName'],'action':_0x76425f,'value':_0x2c7bf5};return this[_0x1049d0(0xa52)][_0x1049d0(0x552)](_0x155b3b),_0x2c7bf5;}async[_0x120045(0x532)](_0x42b369){const _0x481031=_0x120045;this['validateValue'](_0x42b369);const _0x35a9ec=await this[_0x481031(0x4b9)][_0x481031(0x532)](_0x42b369),_0x8b677d={'key':_0x35a9ec['id'],'tableName':this['tableName'],'action':_0x2117d0[_0x481031(0x4e2)],'value':_0x35a9ec};return this[_0x481031(0xa52)]['publish'](_0x8b677d),this[_0x481031(0x552)](_0x8b677d[_0x481031(0x47d)],_0x35a9ec),_0x35a9ec;}async[_0x120045(0xa10)](_0x457e76,_0x4dd58b=!0x0){const _0x1b2fce=_0x120045,_0x33ef0b=await this['connector'][_0x1b2fce(0x7e9)](_0x457e76);if(!_0x33ef0b)return;await this['connector']['delete'](_0x457e76);const _0x4551b8=_0x2117d0[_0x1b2fce(0xa5a)];if(this[_0x1b2fce(0x552)](_0x4551b8,_0x33ef0b),!_0x4dd58b)return;const _0x290e27={'key':_0x457e76,'tableName':this[_0x1b2fce(0x2cd)],'action':_0x4551b8,'value':_0x33ef0b};this[_0x1b2fce(0xa52)][_0x1b2fce(0x552)](_0x290e27);}async[_0x120045(0x960)](){const _0x5e6751=_0x120045,_0xd30e01=await this[_0x5e6751(0x100)]();for(const _0xf297f6 of _0xd30e01){const _0x588545=_0x2117d0['Delete'];this[_0x5e6751(0x552)](_0x588545,_0xf297f6);const _0x19de28={'key':_0xf297f6['id'],'tableName':this[_0x5e6751(0x2cd)],'action':_0x588545,'value':_0xf297f6};this['tableObserver'][_0x5e6751(0x552)](_0x19de28);}return this[_0x5e6751(0x4b9)][_0x5e6751(0x960)]();}async[_0x120045(0x100)](_0x48b88d){const _0x26328e=_0x120045,_0x1938a2={'key':'','tableName':this[_0x26328e(0x2cd)],'action':_0x566894[_0x26328e(0xa5e)]};this[_0x26328e(0xa52)][_0x26328e(0x552)](_0x1938a2);try{_0x48b88d&&(_0x48b88d=_0x48b88d instanceof _0x203192?_0x48b88d[_0x26328e(0x54d)]():_0x203192[_0x26328e(0x5af)](_0x48b88d)[_0x26328e(0x54d)]());}catch(_0x2727e9){throw new _0x18939c(_0x15d29b[_0x26328e(0x3a1)],_0x26328e(0x8f8));}try{return await this[_0x26328e(0x4b9)][_0x26328e(0x100)](_0x48b88d);}catch(_0x15f5d6){let _0x74836f=_0x26328e(0x8f8);throw _0x15f5d6 instanceof Error&&(_0x74836f=_0x15f5d6[_0x26328e(0x1b4)]),new _0x18939c(_0x15d29b['KeyValueDatabaseInvalidQuery'],_0x74836f);}}async['count'](_0x2018cc){const _0x39e87a=_0x120045,_0x202acf={'key':'','tableName':this['tableName'],'action':_0x566894[_0x39e87a(0x71c)]};this[_0x39e87a(0xa52)][_0x39e87a(0x552)](_0x202acf);try{_0x2018cc&&(_0x2018cc=_0x2018cc instanceof _0x203192?_0x2018cc[_0x39e87a(0x54d)]():_0x203192[_0x39e87a(0x5af)](_0x2018cc)[_0x39e87a(0x54d)]());}catch(_0x4c1f63){throw new _0x18939c(_0x15d29b['KeyValueDatabaseInvalidQuery'],_0x39e87a(0x8f8));}try{return await this[_0x39e87a(0x4b9)][_0x39e87a(0x1a5)](_0x2018cc);}catch(_0xef1188){let _0x257931=_0x39e87a(0x8f8);throw _0xef1188 instanceof Error&&(_0x257931=_0xef1188[_0x39e87a(0x1b4)]),new _0x18939c(_0x15d29b[_0x39e87a(0x3a1)],_0x257931);}}[_0x120045(0x397)](){const _0x374a6a=_0x120045;return this[_0x374a6a(0x4b9)][_0x374a6a(0x397)]();}[_0x120045(0x8f0)](_0x2a6fd8){const _0x2f82b1=_0x120045;this['listenerUnsubscriber']=this['eventListener'][_0x2f82b1(0x8f0)](_0x2a6fd8);}['unsubscribe'](){const _0x3194f8=_0x120045;this[_0x3194f8(0x61e)]?.();}[_0x120045(0x552)](_0x1ca41a,_0x1cda41){const _0x193c06=_0x120045,_0x1adc5b=this[_0x193c06(0xa12)](_0x1ca41a,_0x1cda41);this[_0x193c06(0x857)][_0x193c06(0x552)](_0x1adc5b);}[_0x120045(0xa12)](_0xe828be,_0x3fe8c7){const _0x34debb=_0x120045;let _0x51a2c8;switch(_0xe828be){case _0x2117d0[_0x34debb(0x4e2)]:_0x51a2c8=_0x34debb(0x532);break;case _0x2117d0[_0x34debb(0x1fd)]:_0x51a2c8='update';break;case _0x2117d0['Delete']:_0x51a2c8=_0x34debb(0xa10);}return{'action':_0x51a2c8,'value':_0x3fe8c7};}[_0x120045(0x8a1)](_0x23896f){const _0x162891=_0x120045;if('object'!=typeof _0x23896f||null===_0x23896f)throw new _0x18939c(_0x15d29b['KeyValueDatabaseInvalidValue'],_0x162891(0x4da));for(const _0x8ee68d in _0x23896f){const _0x77fc4c=_0x23896f[_0x8ee68d];if(_0x162891(0x5be)!=typeof _0x77fc4c||_0x77fc4c instanceof Date){if(![_0x162891(0x630),'number',_0x162891(0x6fe)][_0x162891(0x82f)](typeof _0x77fc4c))throw new _0x18939c(_0x15d29b[_0x162891(0x83e)],'Invalid\x20value.\x20Property\x20\x27'+_0x8ee68d+_0x162891(0x2cc));}else this[_0x162891(0x8a1)](_0x77fc4c);}}}class _0x44a137{[_0x120045(0x86c)]=[];[_0x120045(0x2eb)]=0x0;[_0x120045(0x872)]=[];['isComputingMMR']=!0x1;[_0x120045(0x9d3)]=null;['rootComputationPromise']=null;[_0x120045(0x5f9)];[_0x120045(0x91f)]=null;[_0x120045(0x414)]=[];[_0x120045(0x720)];['_ready']=Promise[_0x120045(0x29f)]();[_0x120045(0x598)]=0x0;constructor(){}get[_0x120045(0x690)](){const _0x3e0a83=_0x120045;return this[_0x3e0a83(0x30e)];}async['appendTransaction'](_0x4d76f8,_0x2ec08b=0x0){const _0x5247f8=_0x120045;this[_0x5247f8(0x91f)]||(this['_ready']=new Promise(_0x560fa2=>{const _0x1c5573=_0x5247f8;this[_0x1c5573(0x91f)]=_0x560fa2;}),this[_0x5247f8(0x598)]=_0x2ec08b);const _0x5ef5ac=Date['now']();if(this[_0x5247f8(0x57e)])return void this[_0x5247f8(0x872)][_0x5247f8(0xdc)](_0x4d76f8);this['isComputingMMR']=!0x0;let _0xa7bae7={'hash':await this['hashTransaction'](_0x4d76f8),'height':0x0};const _0x589de0=this['combinePeaks'](_0xa7bae7);this[_0x5247f8(0x414)][_0x5247f8(0xdc)](_0x589de0),await _0x589de0,this['totalNodes']+=0x1;const _0x1b0300=this[_0x5247f8(0x872)]['length'];for(;this[_0x5247f8(0x872)]['length']>0x0;){const _0x5101a9=this[_0x5247f8(0x872)][_0x5247f8(0x9ea)]();await this[_0x5247f8(0x5e7)](_0x5101a9);}this[_0x5247f8(0x389)](),await this[_0x5247f8(0x690)],this[_0x5247f8(0x938)](_0x5ef5ac,_0x1b0300);}async[_0x120045(0x3fb)](){const _0x361db0=_0x120045;return await this['_ready'],this[_0x361db0(0x57e)]?(this[_0x361db0(0x991)]||(this['rootComputationPromise']=this[_0x361db0(0x3c3)]()),await this[_0x361db0(0x991)]):this['cachedRoot'];}[_0x120045(0x3a8)](){const _0x55a38a=_0x120045;return this[_0x55a38a(0x86c)][_0x55a38a(0x760)](({hash:_0x721b8a,height:_0x1ec173})=>({'hash':_0x721b8a,'height':_0x1ec173}));}[_0x120045(0x9d5)](){const _0x1d1ec8=_0x120045;return this[_0x1d1ec8(0x2eb)];}['getPeakNode'](_0x4bf307){const _0x3a0fcd=_0x120045;return this[_0x3a0fcd(0x86c)][_0x3a0fcd(0x999)](_0x9003a5=>_0x9003a5['height']===_0x4bf307);}async['hashNodes'](_0x36c1cd,_0x14a2e5){const _0x15a2de=_0x120045;return await this[_0x15a2de(0x379)](_0x36c1cd+_0x14a2e5);}async[_0x120045(0x828)](_0x50a7e5){const _0x1f2c11=_0x120045;return await this[_0x1f2c11(0x379)](JSON[_0x1f2c11(0x4e9)](_0x50a7e5));}[_0x120045(0x46a)](_0x4476db){const _0x5c089a=_0x120045,_0xe97cb8=this[_0x5c089a(0x3a8)](),_0x39280a=[],_0x3e455b=[],_0xb5923=[];for(const _0x39019f of _0xe97cb8){const _0x5f4437=_0x4476db[_0x5c089a(0x999)](_0x19708c=>_0x19708c[_0x5c089a(0xa0b)]===_0x39019f[_0x5c089a(0xa0b)]);_0x5f4437?_0x39019f[_0x5c089a(0x224)]!==_0x5f4437[_0x5c089a(0x224)]&&_0x39280a[_0x5c089a(0xdc)]({'height':_0x39019f[_0x5c089a(0xa0b)],'localPeak':_0x39019f,'remotePeak':_0x5f4437}):_0x3e455b[_0x5c089a(0xdc)](_0x39019f);}for(const _0x43ebc9 of _0x4476db)_0xe97cb8[_0x5c089a(0x999)](_0x5761b5=>_0x5761b5[_0x5c089a(0xa0b)]===_0x43ebc9[_0x5c089a(0xa0b)])||_0xb5923['push'](_0x43ebc9);return{'differingPeaks':_0x39280a,'peaksMissingInRemote':_0x3e455b,'peaksMissingInLocal':_0xb5923};}async[_0x120045(0x3c3)](){const _0x3a2e3d=_0x120045;this[_0x3a2e3d(0x57e)]=!0x0;const _0xe848d2=this['peaks'][_0x3a2e3d(0x760)](_0x2fe0f6=>_0x2fe0f6[_0x3a2e3d(0x224)]);return this[_0x3a2e3d(0x9d3)]=await this[_0x3a2e3d(0x5f1)](_0xe848d2),this[_0x3a2e3d(0x57e)]=!0x1,this[_0x3a2e3d(0x991)]=null,this[_0x3a2e3d(0x389)](),this[_0x3a2e3d(0x9d3)];}async[_0x120045(0x379)](_0x598753){const _0x50ecdd=_0x120045;try{const _0x138b58=new TextEncoder()[_0x50ecdd(0xa74)](_0x598753),_0xf24635=await crypto['subtle'][_0x50ecdd(0x4b3)](_0x50ecdd(0x3f9),_0x138b58);return Array[_0x50ecdd(0x7f9)](new Uint8Array(_0xf24635))[_0x50ecdd(0x760)](_0x3d0598=>_0x3d0598[_0x50ecdd(0x5d4)](0x10)['padStart'](0x2,'0'))[_0x50ecdd(0x3ec)]('');}catch(_0x20744c){return console[_0x50ecdd(0x525)](_0x50ecdd(0x25b),_0x20744c),this[_0x50ecdd(0x379)](_0x598753);}}async[_0x120045(0x5f1)](_0x42eb5b){const _0x315a02=_0x120045;return await this[_0x315a02(0x379)](_0x42eb5b['join'](''));}async['combinePeaks'](_0x3a2886){const _0x2a11f8=_0x120045;for(;this[_0x2a11f8(0x86c)][_0x2a11f8(0x59d)]>0x0&&this[_0x2a11f8(0x86c)][this[_0x2a11f8(0x86c)][_0x2a11f8(0x59d)]-0x1][_0x2a11f8(0xa0b)]===_0x3a2886['height'];){const _0x42857e=this[_0x2a11f8(0x86c)]['pop']();_0x3a2886={'hash':await this[_0x2a11f8(0x63f)](_0x42857e[_0x2a11f8(0x224)],_0x3a2886[_0x2a11f8(0x224)]),'left':_0x42857e,'right':_0x3a2886,'height':_0x3a2886[_0x2a11f8(0xa0b)]+0x1};}this[_0x2a11f8(0x86c)]['push'](_0x3a2886),await this['recomputeRoot']();}[_0x120045(0x938)](_0x441144,_0x4fcb4c){const _0x48226e=_0x120045;if(!_0x1b1d61[_0x48226e(0xf6)](_0x185607[_0x48226e(0x8bf)]))return;this[_0x48226e(0x5f9)]&&clearTimeout(this[_0x48226e(0x5f9)]);const _0x37bc5f=Date['now']();this[_0x48226e(0x5f9)]=setTimeout(()=>_0x1b1d61[_0x48226e(0xed)](_0x185607['KeyValueDatabase'],_0x48226e(0x352),this[_0x48226e(0x9d3)],'nodes',this['getTotalNodes'](),_0x48226e(0x609),_0x4fcb4c,_0x48226e(0x794),_0x37bc5f-_0x441144),0x7d0);}[_0x120045(0x389)](){const _0x8411c3=_0x120045;this['debounceReadyTimeout']&&clearTimeout(this[_0x8411c3(0x720)]),this[_0x8411c3(0x720)]=setTimeout(async()=>{const _0xd11b43=_0x8411c3;try{const _0x3a0028=this[_0xd11b43(0x414)];if(this[_0xd11b43(0x414)]=[],await Promise[_0xd11b43(0x5dd)](_0x3a0028),this[_0xd11b43(0x598)]-=_0x3a0028['length'],this[_0xd11b43(0x414)][_0xd11b43(0x59d)]>0x0||this[_0xd11b43(0x598)]>0x0)return this[_0xd11b43(0x389)]();this[_0xd11b43(0x91f)]&&(this[_0xd11b43(0x91f)](),this[_0xd11b43(0x91f)]=null),this['_ready']=Promise[_0xd11b43(0x29f)](),this['isComputingMMR']=!0x1;}catch(_0x50adc5){console[_0xd11b43(0x525)](_0xd11b43(0x350),_0x50adc5);}},0xa);}}const _0x99a856=[_0x120045(0x122),_0x120045(0x9c1),_0x120045(0x9a6),'Subscription','Stats',_0x120045(0x125),_0x120045(0x8f1)],_0x2d6d55=[[_0x120045(0x4ab),_0x120045(0x4ca),_0x120045(0x974),'Success',_0x120045(0x830),_0x120045(0x56c),'Disconnect','Stats',_0x120045(0x76f)],[_0x120045(0x8a8),_0x120045(0x182),_0x120045(0xa34),_0x120045(0x261)],['CloseGraphDatabase',_0x120045(0x5e3),_0x120045(0x733),'CloseExternalStorageConnection',_0x120045(0xa61),_0x120045(0x8f7),_0x120045(0x807),_0x120045(0x2fa),_0x120045(0x14e),_0x120045(0x50e),'GenerativeAIContextStats',_0x120045(0x773),_0x120045(0x7e4),'KeyValueDatabaseContentAvailable',_0x120045(0x415),'KeyValueDatabaseRequestPeakTransactions',_0x120045(0x9da),_0x120045(0x21c),_0x120045(0x213),'KeyValueDatabaseSyncRequired',_0x120045(0x66d),_0x120045(0xa0a),_0x120045(0x8f6),_0x120045(0x952),'RemoteMediaStreamTrackFail','SubscribeMediaStream','UnpublishMediaStream','UnsubscribeMediaStream','UpdateMediaStream',_0x120045(0x191)],['SubscribeMediaStream',_0x120045(0x515),_0x120045(0x33b),_0x120045(0x69d),_0x120045(0x651),'MediaStreamUnavailable'],[_0x120045(0x63c),_0x120045(0x33c)],[_0x120045(0x821)],[_0x120045(0x8f1),'RemoteRemediation']];function _0x23c0a5(_0x337ef9){const _0x528654=_0x120045;return{..._0x337ef9,'systemMessageType':_0x99a856[_0x337ef9[_0x528654(0x5cd)]],'systemContentMessageType':_0x2d6d55[_0x337ef9[_0x528654(0x5cd)]][_0x337ef9[_0x528654(0x477)][_0x528654(0x7f3)]]};}const _0x23c796={'hour':'2-digit','minute':_0x120045(0x639),'second':_0x120045(0x639)};function _0x6cdee6(_0x580940,_0x49ce05){const _0x1d1222=_0x120045,_0x28e385=(function(){const _0x5325e5=a0_0x573a,_0x1e9498=new Date(),_0x7e7815=_0x1e9498[_0x5325e5(0x46e)](),_0x4dfdf5=_0x1e9498[_0x5325e5(0x118)](_0x5325e5(0x957),_0x23c796)[_0x5325e5(0x3dd)](/\d\d:\d\d:\d\d/)?.[0x0];return _0x4dfdf5+'.'+(_0x7e7815>0x64?''+_0x7e7815:_0x7e7815>0xa?'0'+_0x7e7815:'00'+_0x7e7815);}()),{sourceId:_0x1024a0,destinationIds:_0x22c6de,systemMessageType:_0xb3a5d5,systemContentMessageType:_0x1d2bbd}=_0x23c0a5(_0x580940);return _0x28e385+_0x1d1222(0x723)+_0x49ce05+_0x1d1222(0x723)+(_0x1024a0===_0x49ce05?_0x1d1222(0x509)+_0xb3a5d5+_0x1d1222(0xa53)+(_0x22c6de?''+_0x22c6de:_0x1d1222(0x7f2)):_0x580940[_0x1d1222(0x50d)]===_0x40bfc5?_0x1d1222(0x123)+_0xb3a5d5+'\x27':(_0x22c6de?'':'Everyone\x20')+_0x1d1222(0x6c8)+_0xb3a5d5+_0x1d1222(0x61f)+_0x1024a0)+_0x1d1222(0x3d1)+_0x1d2bbd+_0x1d1222(0x5ca);}function _0x51a940(_0x504ab4,_0x63fa9f){const _0x2b4944=_0x120045;if(!_0x1b1d61[_0x2b4944(0xf6)](_0x504ab4))return;if(_0x4cff37[_0x2b4944(0x42b)])return;if(_0x2b4944(0x2a8)==typeof process)return;const _0x5c1e2b=process[_0x2b4944(0x99c)]();console[_0x2b4944(0xed)](_0x2b4944(0x6af)+_0x63fa9f+':');for(const _0x58df5a in _0x5c1e2b)console[_0x2b4944(0xed)]('\x20\x20'+_0x58df5a+':\x20'+(_0x5c1e2b[_0x58df5a]/0x400/0x400)[_0x2b4944(0x45b)](0x2)+_0x2b4944(0x507));}function _0x4bd61a(_0x42c494,_0x48201){const _0x3092c7=_0x120045;if(!_0x1b1d61[_0x3092c7(0xf6)](_0x48201))return _0x1b1d61[_0x3092c7(0xa39)](_0x3092c7(0x882)+_0x48201),{'timingLogger':{'start':()=>{},'now':()=>0x0,'logWaitTime':()=>{}},'logger':{'log':()=>{},'performCalculation':(_0x5c0ea4,_0x4c347a)=>_0x4c347a}};let _0x35c03b=0x0;return{'timingLogger':((()=>{const _0x7f8705=_0x3092c7;let _0x3c48e8=Date[_0x7f8705(0x9e1)]();return{'start':()=>{const _0x301527=_0x7f8705;_0x3c48e8=Date[_0x301527(0x9e1)]();},'now':()=>Date['now'](),'logWaitTime':_0x25afad=>{_0x35c03b+=Date['now']()-_0x3c48e8,_0x1b1d61['log'](_0x48201,_0x25afad,_0x35c03b+'ms',_0x42c494);}};})()),'logger':{'log':(_0x53c3f0,_0x10c2d8=()=>{})=>{const _0x59fb9a=_0x3092c7,_0x5ea0d9=_0x10c2d8();_0x5ea0d9?_0x1b1d61[_0x59fb9a(0xed)](_0x48201,_0x53c3f0,_0x5ea0d9,_0x42c494):_0x1b1d61[_0x59fb9a(0xed)](_0x48201,_0x53c3f0,_0x42c494);},'performCalculation':(_0x4e9ceb,_0x5e2eb1)=>_0x4e9ceb()}};}function _0x7651da(_0xca71da){const _0x38b44c=_0x120045;return _0x38b44c(0x2a8)==typeof Buffer?0x0:Buffer['byteLength'](JSON['stringify'](_0xca71da),_0x38b44c(0x4bf));}function _0x9a3933(_0x1ec8a4){const _0x366a7d=_0x120045;if(0x0===_0x1ec8a4)return _0x366a7d(0x15f);const _0x2435e8=Math['floor'](Math[_0x366a7d(0xed)](_0x1ec8a4)/Math['log'](0x400));return parseFloat((_0x1ec8a4/Math[_0x366a7d(0x239)](0x400,_0x2435e8))[_0x366a7d(0x45b)](0x2))+'\x20'+['B','KB','MB','GB','TB'][_0x2435e8];}class _0x2cd086 extends _0x3ab0ee{[_0x120045(0x781)];[_0x120045(0xea)];[_0x120045(0x11b)];[_0x120045(0xa37)];['db'];[_0x120045(0x8c9)];[_0x120045(0x68f)]=new Map();['tableObserver'];[_0x120045(0x9eb)];[_0x120045(0x937)];['isSync'];[_0x120045(0x487)];[_0x120045(0x6fa)]=[];['timeoutCallback']=()=>{};[_0x120045(0x615)];[_0x120045(0x857)]=_0x50ebb3();['listenerUnsubscriber'];[_0x120045(0x205)]=[];[_0x120045(0x369)];[_0x120045(0x219)];['writes']=0x0;[_0x120045(0x9f6)]=0x0;[_0x120045(0x7b4)]=!0x1;['mmr']=new _0x44a137();['transactionHashMap']=new Map();['transactions']=[];[_0x120045(0x698)];[_0x120045(0x946)]=[];['loggingCycle'];constructor(_0x1ce1b2,_0x36ed72,_0x11dc39,_0x1dea3a,_0x450eef,_0x1f63a4,_0x3f4376){const _0x3e8aa2=_0x120045;if(_0x3e8aa2(0x630)!=typeof _0x36ed72)throw new _0x18939c(_0x15d29b['KeyValueDatabaseNameNotString'],_0x3e8aa2(0x456));if(super(_0x1ce1b2,_0x36ed72),this['localNode']=_0x1ce1b2,this['clusterId']=_0x11dc39,this[_0x3e8aa2(0x11b)]=_0x1dea3a,this[_0x3e8aa2(0xa37)]=_0x3f4376,this['dbKey']='ccc'+this[_0x3e8aa2(0x11b)]+_0x3e8aa2(0x678)+this['clusterId']+_0x3e8aa2(0x678)+this[_0x3e8aa2(0x573)],this[_0x3e8aa2(0xa52)]=_0x50ebb3(),this[_0x3e8aa2(0x309)]=function(_0x33eb0b,_0x13440e){const _0x92b528=_0x3e8aa2;if(!_0x1b1d61[_0x92b528(0xf6)](_0x13440e))return _0x1b1d61[_0x92b528(0xa39)](_0x92b528(0x882)+_0x13440e),{..._0x4bd61a(_0x33eb0b,_0x13440e),'logDataSent':()=>0x0,'logDataReceived':()=>0x0,'getDataLogged':()=>({'dataSent':_0x92b528(0x15f),'dataReceived':'0\x20B'})};const {timingLogger:_0x45ad1a,logger:_0x182acd}=_0x4bd61a(_0x33eb0b,_0x13440e);let _0x42c695=0x0,_0x2c4575=0x0;return{'timingLogger':_0x45ad1a,'logger':_0x182acd,'logDataSent':(_0x3e487e,_0x5eb8ed=!0x1)=>{const _0x4b5ffa=_0x92b528,_0x4196ce=_0x7651da(_0x3e487e);return _0x5eb8ed&&_0x1b1d61[_0x4b5ffa(0xed)](_0x13440e,_0x4b5ffa(0x65b),_0x33eb0b,_0x4196ce),_0x42c695+=_0x4196ce,_0x4196ce;},'logDataReceived':(_0x12feb2,_0x34ff59=!0x1)=>{const _0x54a31e=_0x92b528,_0x315963=_0x7651da(_0x12feb2);return _0x34ff59&&_0x1b1d61['log'](_0x13440e,_0x54a31e(0x823),_0x33eb0b,_0x315963),_0x2c4575+=_0x315963,_0x315963;},'getDataLogged':()=>({'dataSent':_0x9a3933(_0x42c695),'dataReceived':_0x9a3933(_0x2c4575)})};}(this[_0x3e8aa2(0x573)],_0x185607[_0x3e8aa2(0x8bf)]),this[_0x3e8aa2(0x535)]=new Promise(_0x216387=>{this['syncResolve']=_0x216387;}),_0x450eef instanceof _0xca8f54)this[_0x3e8aa2(0x369)]=_0x450eef[_0x3e8aa2(0x416)]();else{const [_0x965291,_0x5e0a9c]=_0xca8f54['validateLayout'](_0x450eef);if(!_0x965291)throw new _0x18939c(_0x15d29b[_0x3e8aa2(0x5cb)],_0x3e8aa2(0x73e)+_0x5e0a9c);this[_0x3e8aa2(0x369)]=structuredClone(_0x450eef);}this['addReservedTables'](this[_0x3e8aa2(0x369)]),this['db']=new _0x1f63a4(this[_0x3e8aa2(0x8c9)],this['layout']),this[_0x3e8aa2(0x3b4)]();}async['answerContentAvailable'](_0x4c807d,_0x5e4e69){const _0x4ca229=_0x120045;if(_0x1b1d61['log'](_0x185607[_0x4ca229(0x8bf)],_0x4ca229(0x68e),this[_0x4ca229(0x573)]),!this['transactionTable'])throw new _0x4a916f(_0x4a916f[_0x4ca229(0xa30)][_0x4ca229(0x878)]);if(await this[_0x4ca229(0x535)],await this['isNodeReady'](_0x4c807d),await this[_0x4ca229(0x41b)]['getRoot']()===_0x5e4e69){const _0x2ec089={'sourceId':this[_0x4ca229(0x781)]['getId'](),'destinationIds':[_0x4c807d],'propagate':!0x0,'messageType':_0x435438['Content'],'content':{'type':_0x46be06[_0x4ca229(0x415)],'label':this[_0x4ca229(0x573)],'mmrRoot':_0x5e4e69}};return this['loggingCycle'][_0x4ca229(0x6ab)](_0x2ec089),void this[_0x4ca229(0xa45)]['publish'](_0x2ec089);}const _0x4255ee=this[_0x4ca229(0x41b)]['getPeaks'](),_0x52c854={'sourceId':this[_0x4ca229(0x781)][_0x4ca229(0xd7)](),'destinationIds':[_0x4c807d],'propagate':!0x0,'messageType':_0x435438[_0x4ca229(0x9a6)],'content':{'type':_0x46be06[_0x4ca229(0x738)],'label':this[_0x4ca229(0x573)],'peaks':_0x4255ee}};this['loggingCycle'][_0x4ca229(0x6ab)](_0x52c854),this[_0x4ca229(0xa45)][_0x4ca229(0x552)](_0x52c854);}async[_0x120045(0x496)](_0x16e149,_0x210434){const _0x21eaf8=_0x120045,_0x1bf84b=await this[_0x21eaf8(0x41b)][_0x21eaf8(0x3fb)](),_0x85a2a4=_0x1bf84b===_0x210434;if(_0x1b1d61['log'](_0x185607[_0x21eaf8(0x8bf)],_0x21eaf8(0x475)+_0x16e149+_0x21eaf8(0x11e)+_0x85a2a4,this[_0x21eaf8(0x573)]),_0x85a2a4)return this['clearSyncTimeout'](),void this[_0x21eaf8(0x790)]();_0x1b1d61[_0x21eaf8(0xed)](_0x185607[_0x21eaf8(0x8bf)],_0x21eaf8(0x770),_0x1bf84b,_0x210434),_0x1b1d61['warning'](_0x21eaf8(0x770),{'nodeId':this['localNode'][_0x21eaf8(0xd7)](),'nodeType':this[_0x21eaf8(0x781)][_0x21eaf8(0x7f3)],'remoteId':_0x16e149,'data':{'localMMRRoot':_0x1bf84b,'remoteMMRRoot':_0x210434}});const _0x402306={'sourceId':this[_0x21eaf8(0x781)][_0x21eaf8(0xd7)](),'messageType':_0x435438[_0x21eaf8(0x9a6)],'propagate':!0x0,'content':{'type':_0x46be06[_0x21eaf8(0x243)],'label':this['label'],'mmrRoot':_0x1bf84b}};this[_0x21eaf8(0xa45)][_0x21eaf8(0x552)](_0x402306);}async[_0x120045(0x8c6)](_0x3e8bdc,_0x562071){const _0x40867d=_0x120045;if(_0x1b1d61[_0x40867d(0xed)](_0x185607[_0x40867d(0x8bf)],_0x40867d(0x642),_0x3e8bdc,_0x40867d(0x573),this[_0x40867d(0x573)],_0x40867d(0x86c),_0x562071),this['contentRequestSent'])return;this[_0x40867d(0x7b4)]=!0x0,this[_0x40867d(0x66a)]();const {differingPeaks:_0x16cb37,peaksMissingInLocal:_0x328806,peaksMissingInRemote:_0x28d821}=this[_0x40867d(0x41b)][_0x40867d(0x46a)](_0x562071);_0x1b1d61[_0x40867d(0xed)](_0x185607['KeyValueDatabase'],_0x40867d(0x1d0),{'differingPeaks':_0x16cb37,'peaksMissingInLocal':_0x328806,'peaksMissingInRemote':_0x28d821});const _0x12f075={'sourceId':this[_0x40867d(0x781)][_0x40867d(0xd7)](),'destinationIds':[_0x3e8bdc],'propagate':!0x0,'messageType':_0x435438[_0x40867d(0x9a6)],'content':{'type':_0x46be06['KeyValueDatabaseRequestPeakTransactions'],'label':this[_0x40867d(0x573)],'peakHeights':_0x328806[_0x40867d(0x760)](_0x4eec9f=>_0x4eec9f['height'])[_0x40867d(0x7fa)](_0x16cb37[_0x40867d(0x760)](_0x5b1666=>_0x5b1666[_0x40867d(0xa0b)]))}};if(this[_0x40867d(0xa45)][_0x40867d(0x552)](_0x12f075),_0x16cb37[_0x40867d(0x59d)]>0x0||_0x28d821[_0x40867d(0x59d)]>0x0){const _0x550422=_0x28d821[_0x40867d(0x760)](_0x4d87ca=>_0x4d87ca[_0x40867d(0xa0b)])['concat'](_0x16cb37['map'](_0xfbf53c=>_0xfbf53c['height']));await this['sendPeakTransactions'](_0x3e8bdc,_0x550422,!0x0);}}async['sendPeakTransactions'](_0x308e88,_0x4580e3,_0x4dfebf=!0x1){const _0x139260=_0x120045;_0x1b1d61[_0x139260(0xed)](_0x185607[_0x139260(0x8bf)],_0x139260(0x8ee),this['label']);const _0x2ea06b=_0x4580e3[_0x139260(0x760)](_0x2f9b46=>this[_0x139260(0x41b)][_0x139260(0x8cc)](_0x2f9b46))[_0x139260(0x1e1)](Boolean);if(!_0x2ea06b['length']||_0x4580e3[_0x139260(0x59d)]!==_0x2ea06b[_0x139260(0x59d)])throw new _0x4a916f(_0x4a916f[_0x139260(0xa30)]['KeyValueDatabasePeakNotFound'],{'message':_0x139260(0x683),'peakHeights':_0x4580e3,'peaks':_0x2ea06b[_0x139260(0x760)](_0x453aa9=>_0x453aa9[_0x139260(0xa0b)]),'nodeId':_0x308e88});const _0x52bec9=[];for(const _0xc587d4 of _0x2ea06b)this[_0x139260(0x871)](_0xc587d4,_0x52bec9);const _0x263891=_0x4dfebf?void 0x0:[_0x308e88],_0x5f2692={'sourceId':this[_0x139260(0x781)][_0x139260(0xd7)](),'destinationIds':_0x263891,'messageType':_0x435438['Content'],'propagate':!0x0,'content':{'type':_0x46be06['KeyValueDatabaseSendTransactions'],'label':this[_0x139260(0x573)],'transactions':_0x52bec9}};this[_0x139260(0x309)][_0x139260(0x6ab)](_0x5f2692),this[_0x139260(0xa45)][_0x139260(0x552)](_0x5f2692);}async[_0x120045(0x909)](_0x383e1c,_0x244940){const _0x433ffe=_0x120045;_0x1b1d61['log'](_0x185607[_0x433ffe(0x8bf)],_0x433ffe(0x546)+_0x244940[_0x433ffe(0x59d)]+'\x20transactions\x20from\x20node\x20'+_0x383e1c+_0x433ffe(0x723)+this['label']);for(const _0x31989c of _0x244940){const _0x301986=await this[_0x433ffe(0x9eb)]['get'](_0x31989c['id']);if(!(_0x301986&&this[_0x433ffe(0x23d)](_0x301986,_0x31989c)>=0x0)){if(_0x31989c[_0x433ffe(0x47d)]===_0x2117d0[_0x433ffe(0xa5a)]){const [_0x30178e,_0x2b6ae4]=_0x31989c['id'][_0x433ffe(0x3b5)]('::'),_0x56d1f5=this[_0x433ffe(0x401)](_0x30178e);await _0x56d1f5['delete'](_0x2b6ae4);}else this['transactionsToSync'][_0x433ffe(0xdc)](_0x31989c['id']);}}if(_0x1b1d61['log'](_0x185607[_0x433ffe(0x8bf)],_0x433ffe(0x84d)+this[_0x433ffe(0x6fa)][_0x433ffe(0x59d)]+_0x433ffe(0x264),this['label']),this[_0x433ffe(0x6fa)][_0x433ffe(0x59d)]>0x0){const _0x5d24ba={'sourceId':this['localNode'][_0x433ffe(0xd7)](),'destinationIds':[_0x383e1c],'messageType':_0x435438[_0x433ffe(0x9a6)],'propagate':!0x0,'content':{'type':_0x46be06[_0x433ffe(0x9da)],'label':this[_0x433ffe(0x573)],'transactionIds':this[_0x433ffe(0x6fa)]}};this['loggingCycle']['logDataSent'](_0x5d24ba),this['systemTopic']['publish'](_0x5d24ba);}}[_0x120045(0x2c6)](){const _0x31930a=_0x120045;this[_0x31930a(0x3b4)]();}[_0x120045(0x729)](){const _0x12191d=_0x120045;return _0x4e2564[_0x12191d(0x8be)]['KeyValueDatabase'];}[_0x120045(0x4d9)](){const _0x30c227=_0x120045;this['db'][_0x30c227(0x1c1)](),this['tableUnsubscriber']?.(),clearTimeout(this[_0x30c227(0x219)]),delete this[_0x30c227(0x219)],super[_0x30c227(0x4d9)]();}[_0x120045(0x1c1)](){const _0x27fba4=_0x120045;this[_0x27fba4(0x66a)](),this['systemTopic'][_0x27fba4(0x552)]({'sourceId':_0x40bfc5,'messageType':_0x435438['Content'],'content':{'type':_0x46be06['CloseKeyValueDatabase'],'label':this[_0x27fba4(0x573)]}});}[_0x120045(0x401)](_0x3303e7){const _0x23f2f4=_0x120045,_0x27f58a=this[_0x23f2f4(0x68f)][_0x23f2f4(0x7e9)](_0x3303e7);if(_0x27f58a)return _0x27f58a;try{if(!this['db'][_0x23f2f4(0x772)](_0x3303e7))throw new _0x18939c(_0x15d29b['KeyValueDatabaseTableNotFound'],_0x23f2f4(0x8f2));const _0x283317=new _0x8469bc(this['db']['getTableConnector'](_0x3303e7),_0x3303e7,this[_0x23f2f4(0xa52)]);return this[_0x23f2f4(0x68f)][_0x23f2f4(0x381)](_0x3303e7,_0x283317),{'get':_0x283317[_0x23f2f4(0x7e9)]['bind'](_0x283317),'set':_0x283317[_0x23f2f4(0x381)][_0x23f2f4(0xa66)](_0x283317),'add':_0x283317[_0x23f2f4(0x532)][_0x23f2f4(0xa66)](_0x283317),'delete':_0x283317[_0x23f2f4(0xa10)]['bind'](_0x283317),'clear':_0x283317[_0x23f2f4(0x960)][_0x23f2f4(0xa66)](_0x283317),'list':_0x283317[_0x23f2f4(0x100)]['bind'](_0x283317),'count':_0x283317[_0x23f2f4(0x1a5)][_0x23f2f4(0xa66)](_0x283317),'subscribe':_0x283317[_0x23f2f4(0x8f0)][_0x23f2f4(0xa66)](_0x283317),'unsubscribe':_0x283317[_0x23f2f4(0x236)][_0x23f2f4(0xa66)](_0x283317)};}catch(_0x714de3){if(_0x714de3 instanceof _0x18939c)throw _0x714de3;throw new _0x18939c(_0x15d29b[_0x23f2f4(0x607)],_0x23f2f4(0x5a1));}}['subscribe'](_0x1e4560){const _0x322b9e=_0x120045;this[_0x322b9e(0x61e)]=this[_0x322b9e(0x857)][_0x322b9e(0x8f0)](_0x1e4560),this[_0x322b9e(0x372)](this[_0x322b9e(0x535)])[_0x322b9e(0x4c3)](_0x4e8f0d=>{const _0x231f36=_0x322b9e;_0x4e8f0d&&this[_0x231f36(0x857)][_0x231f36(0x552)]({'event':_0x4e2564[_0x231f36(0x9c9)][_0x231f36(0x9e5)]});});}[_0x120045(0x236)](){const _0x3158c3=_0x120045;this[_0x3158c3(0x61e)]?.(),this[_0x3158c3(0x61e)]=void 0x0;}async[_0x120045(0x69b)](){const _0xb6a8f7=_0x120045;_0x51a940(_0x185607['KeyValueDatabase'],'Database\x20Opened');const _0x56d039=[_0x35cb36,_0x5ae929],_0x5730e6=[];try{await this['db'][_0xb6a8f7(0x69b)]();const _0xc0d11d=this['db'][_0xb6a8f7(0xa32)](_0x5ae929),_0x322ed8=await _0xc0d11d[_0xb6a8f7(0x100)](),{id:_0x2788f9,layout:_0x23285b}=_0x322ed8[0x0]??{};if(_0x23285b){for(const _0x274e9c in _0x23285b)_0x56d039[_0xb6a8f7(0x82f)](_0x274e9c)||this['db'][_0xb6a8f7(0x772)](_0x274e9c)||_0x5730e6[_0xb6a8f7(0xdc)](_0x274e9c);await _0xc0d11d[_0xb6a8f7(0x381)](_0x2788f9,{'layout':this[_0xb6a8f7(0x369)]});}else await _0xc0d11d['add']({'layout':this[_0xb6a8f7(0x369)]});}catch(_0x512507){throw new _0x18939c(_0x15d29b[_0xb6a8f7(0x607)],_0x512507[_0xb6a8f7(0x1b4)]||_0xb6a8f7(0x978));}this['instantiateTransactionTable'](),await this[_0xb6a8f7(0x22b)](),this['setOnMessageHandler'](),this[_0xb6a8f7(0x6c9)](),_0x5730e6[_0xb6a8f7(0x311)](_0x12114d=>this[_0xb6a8f7(0x3f8)](_0x12114d));}async[_0x120045(0x42e)](_0x3163e0,_0x4f517c=()=>{},_0x59c79b=!0x1){const _0x1ef090=_0x120045;if(!_0x3163e0)return setTimeout(()=>{const _0x54ff92=a0_0x573a;this[_0x54ff92(0x66a)](),this[_0x54ff92(0x790)]();},0x0),!0x0;if(this[_0x1ef090(0x7b4)]=!0x1,this[_0x1ef090(0x436)]=_0x4f517c,this['syncTimeout']=setTimeout(_0x4f517c,0x7d0),!this[_0x1ef090(0xa45)])throw new _0x4a916f(_0x4a916f[_0x1ef090(0xa30)][_0x1ef090(0x46f)]);const _0x30cfd2=await this[_0x1ef090(0x41b)]['getRoot'](),_0x219ef8={'sourceId':this['localNode'][_0x1ef090(0xd7)](),'messageType':_0x435438[_0x1ef090(0x9a6)],'propagate':_0x59c79b,'content':{'type':_0x46be06[_0x1ef090(0x243)],'label':this[_0x1ef090(0x573)],'mmrRoot':_0x30cfd2}};return this[_0x1ef090(0x309)][_0x1ef090(0x6ab)](_0x219ef8),this['systemTopic'][_0x1ef090(0x552)](_0x219ef8),this['isSync'];}async[_0x120045(0x73d)](_0x524be5,_0x36794a){const _0x1d4f88=_0x120045;if(_0x1b1d61[_0x1d4f88(0xed)](_0x185607[_0x1d4f88(0x8bf)],'Received\x20request\x20for\x20transactions\x20value.\x20Sending\x20'+_0x36794a[_0x1d4f88(0x59d)],this[_0x1d4f88(0x573)]),!this[_0x1d4f88(0x9eb)])throw new _0x4a916f(_0x4a916f['codes']['KeyValueDatabaseTransactionTableNotInitialized']);for(const _0x4c470e of _0x36794a){const _0x5b030f=await this['transactionTable']['get'](_0x4c470e);if(!_0x5b030f)continue;const [_0x497190,_0x6ff5d5]=_0x4c470e['split']('::'),_0xe280fc=this[_0x1d4f88(0x401)](_0x497190),_0x5ae6b2=await _0xe280fc['get'](_0x6ff5d5);_0x5ae6b2?(_0x5b030f['value']=_0x5ae6b2,this[_0x1d4f88(0x593)](_0x5b030f,[_0x524be5])):_0x1b1d61[_0x1d4f88(0x87e)](_0x1d4f88(0x411),{'nodeId':this[_0x1d4f88(0x781)][_0x1d4f88(0xd7)](),'nodeType':this[_0x1d4f88(0x781)][_0x1d4f88(0x7f3)],'remoteId':_0x524be5,'data':{'tableKeys':Object[_0x1d4f88(0xca)](this[_0x1d4f88(0x68f)]),'transactionId':_0x4c470e,'transactions':this[_0x1d4f88(0x6fa)],'tableName':_0x497190,'key':_0x6ff5d5}});}}async['writeTransaction'](_0x3eb5db){const _0x5d5ab5=_0x120045;if(!this[_0x5d5ab5(0x9eb)])throw new _0x4a916f(_0x4a916f[_0x5d5ab5(0xa30)][_0x5d5ab5(0x878)]);const _0x2b60e4=await this[_0x5d5ab5(0x41b)][_0x5d5ab5(0x828)](_0x3eb5db),_0x3ed812=this[_0x5d5ab5(0x5b5)]['get'](_0x2b60e4);if(_0x3ed812&&this[_0x5d5ab5(0x23d)](_0x3eb5db,_0x3ed812)<=0x0)return void _0x1b1d61['log'](_0x185607['KeyValueDatabase'],_0x5d5ab5(0x1d3),_0x3eb5db);const _0x5eac34={..._0x3eb5db};return delete _0x5eac34['value'],this[_0x5d5ab5(0x542)](_0x5eac34),await this[_0x5d5ab5(0x9eb)][_0x5d5ab5(0x381)](_0x3eb5db['id'],_0x5eac34),_0x3eb5db;}['compareTransactions'](_0x27dd92,_0x803f53){const _0x1bad9e=_0x120045;return _0x27dd92[_0x1bad9e(0x6df)]!==_0x803f53[_0x1bad9e(0x6df)]?_0x27dd92['timestamp']-_0x803f53[_0x1bad9e(0x6df)]:_0x27dd92['priority']-_0x803f53[_0x1bad9e(0x716)];}async[_0x120045(0x80a)](_0x3b4284){const _0x258ff4=_0x120045;if(!this[_0x258ff4(0x9eb)])throw new _0x4a916f(_0x4a916f[_0x258ff4(0xa30)][_0x258ff4(0x878)]);const _0x2a2330=_0x3b4284[_0x258ff4(0x2cd)]+'::'+_0x3b4284['key'],_0x1f3e5f=await _0x2451a5[_0x258ff4(0x8c3)](),_0x2f1758={'id':_0x2a2330,'priority':Math['random'](),'timestamp':_0x1f3e5f,'action':_0x3b4284[_0x258ff4(0x47d)]};if(await this[_0x258ff4(0x19b)](_0x2f1758))return _0x2f1758;}async['deleteTransactionsForTable'](_0x32e63f){const _0x41c7e5=_0x120045;if(!this[_0x41c7e5(0x9eb)])throw new _0x4a916f(_0x4a916f[_0x41c7e5(0xa30)][_0x41c7e5(0x878)]);const _0x58f252=_0x203192[_0x41c7e5(0x2a2)]('id')['where']('between',[_0x32e63f+'::',_0x32e63f+_0x41c7e5(0x345)]),_0x4c4e93=await this[_0x41c7e5(0x9eb)][_0x41c7e5(0x100)](_0x58f252[_0x41c7e5(0x54d)]());for(const _0x39f8ea of _0x4c4e93)await this[_0x41c7e5(0x9eb)][_0x41c7e5(0xa10)](_0x39f8ea['id']);}['setOnMessageHandler'](){this['onMessage'](async(_0x4af4e0,_0x14ab0a)=>{const _0x3deffa=a0_0x573a;if(_0x14ab0a instanceof File)return;if(this['loggingCycle'][_0x3deffa(0x8c0)](_0x14ab0a),!await this[_0x3deffa(0x19b)](_0x14ab0a))return void this[_0x3deffa(0x9de)](_0x4af4e0,_0x14ab0a);if(!_0x14ab0a[_0x3deffa(0x570)])throw new _0x4a916f(_0x4a916f['codes'][_0x3deffa(0x740)]);const [_0x4c8b90,_0x34c88d]=_0x14ab0a['id'][_0x3deffa(0x3b5)]('::'),_0x3437bf=this[_0x3deffa(0x401)](_0x4c8b90);if(!_0x3437bf)throw new _0x4a916f(_0x4a916f[_0x3deffa(0xa30)]['KeyValueDatabaseTableDoesNotExist'],{'table':_0x3437bf});let _0x51c1bb=0x0;switch(_0x14ab0a[_0x3deffa(0x47d)]){case _0x2117d0[_0x3deffa(0x4e2)]:case _0x2117d0[_0x3deffa(0x1fd)]:{const _0x192218=_0x3437bf[_0x3deffa(0x381)](_0x34c88d,_0x14ab0a[_0x3deffa(0x570)],!0x1);_0x51c1bb=JSON[_0x3deffa(0x4e9)](_0x14ab0a['value'])['length'],this[_0x3deffa(0x6fa)][_0x3deffa(0x82f)](_0x14ab0a['id'])&&this[_0x3deffa(0x205)][_0x3deffa(0xdc)](_0x192218);break;}case _0x2117d0['Delete']:{const _0x357694=_0x3437bf[_0x3deffa(0xa10)](_0x34c88d,!0x1);this[_0x3deffa(0x6fa)]['includes'](_0x14ab0a['id'])&&this[_0x3deffa(0x205)][_0x3deffa(0xdc)](_0x357694);break;}}_0x1b1d61[_0x3deffa(0x7a0)](_0x3baa96[_0x3deffa(0x8bf)],{'type':'sync','label':this[_0x3deffa(0x573)],'nodeId':this[_0x3deffa(0x781)][_0x3deffa(0xd7)](),'nodeType':this[_0x3deffa(0x781)]['type'],'clusterId':this[_0x3deffa(0xea)],'tableName':_0x4c8b90,'key':_0x34c88d,'size':_0x51c1bb}),this[_0x3deffa(0x9de)](_0x4af4e0,_0x14ab0a);});}['setOnTableWriteHandler'](){const _0x1cf031=_0x120045;this['tableUnsubscriber']=this[_0x1cf031(0xa52)]['subscribe'](async _0x2b6850=>{const _0xc441ee=_0x1cf031;let _0x1fe955=0x0;switch(_0x2b6850[_0xc441ee(0x47d)]){case _0x2117d0[_0xc441ee(0x4e2)]:case _0x2117d0['Update']:case _0x2117d0['Delete']:{const _0x4984bc=await this[_0xc441ee(0x80a)](_0x2b6850);if(!_0x4984bc)return;_0x4984bc[_0xc441ee(0x570)]=_0x2b6850[_0xc441ee(0x570)],this[_0xc441ee(0x593)](_0x4984bc),_0x1fe955=JSON[_0xc441ee(0x4e9)](_0x2b6850['value'])[_0xc441ee(0x59d)],this[_0xc441ee(0xcf)]+=0x1;break;}case _0x566894[_0xc441ee(0x839)]:case _0x566894[_0xc441ee(0xa5e)]:case _0x566894[_0xc441ee(0x71c)]:this['reads']+=0x1;}_0x1b1d61[_0xc441ee(0x7a0)](_0x3baa96['KeyValueDatabase'],{'type':_0x2b6850[_0xc441ee(0x47d)],'label':this[_0xc441ee(0x573)],'nodeId':this[_0xc441ee(0x781)][_0xc441ee(0xd7)](),'nodeType':this[_0xc441ee(0x781)][_0xc441ee(0x7f3)],'clusterId':this[_0xc441ee(0xea)],'tableName':_0x2b6850[_0xc441ee(0x2cd)],'key':_0x2b6850[_0xc441ee(0x4bd)],'size':_0x1fe955}),this[_0xc441ee(0x3b4)]();});}[_0x120045(0x6b7)](){const _0x5543aa=_0x120045;this['db']&&(this[_0x5543aa(0x9eb)]||(this['transactionTable']=this['db'][_0x5543aa(0xa32)](_0x35cb36)));}[_0x120045(0x66a)](){const _0x5d5452=_0x120045;this[_0x5d5452(0x615)]&&(clearTimeout(this[_0x5d5452(0x615)]),delete this[_0x5d5452(0x615)]);}async[_0x120045(0x790)](){const _0x4877b2=_0x120045;await this[_0x4877b2(0x41b)][_0x4877b2(0x690)],this[_0x4877b2(0xa75)](),this[_0x4877b2(0x857)][_0x4877b2(0x552)]({'event':_0x4e2564[_0x4877b2(0x9c9)][_0x4877b2(0x9e5)]}),this[_0x4877b2(0x487)]?.(!0x0),delete this['syncResolve'],this[_0x4877b2(0x3b4)](),_0x1b1d61['log'](_0x185607['KeyValueDatabase'],_0x4877b2(0x956),this['label']);}async[_0x120045(0x3db)](_0x2c2c42){const _0x4ed7c7=_0x120045;await Promise['all'](this['syncTransactionsWritten']),_0x1b1d61['log'](_0x185607[_0x4ed7c7(0x8bf)],_0x4ed7c7(0x16d)+this['syncTransactionsWritten']['length']+'\x20writes\x20from\x20'+_0x2c2c42+_0x4ed7c7(0x78a),this[_0x4ed7c7(0x573)]),await this[_0x4ed7c7(0x41b)]['ready'],await this[_0x4ed7c7(0x676)](_0x2c2c42),await this[_0x4ed7c7(0x790)]();}[_0x120045(0x9de)](_0x52193f,_0x4b8375){const _0x39e0a5=_0x120045;this[_0x39e0a5(0x6fa)][_0x39e0a5(0x82f)](_0x4b8375['id'])&&(this[_0x39e0a5(0x66a)](),this[_0x39e0a5(0x6fa)]=this['transactionsToSync'][_0x39e0a5(0x1e1)](_0x547f29=>_0x547f29!==_0x4b8375['id']),0x0!==this[_0x39e0a5(0x6fa)]['length']?this[_0x39e0a5(0x615)]=setTimeout(this['timeoutCallback'],0x7d0):this[_0x39e0a5(0x3db)](_0x52193f));}[_0x120045(0x3b4)](){const _0x4886a6=_0x120045;this[_0x4886a6(0x219)]&&clearTimeout(this[_0x4886a6(0x219)]),this[_0x4886a6(0x219)]=setTimeout(async()=>{const _0x4f4e2b=_0x4886a6;delete this[_0x4f4e2b(0x219)];let _0x336e6e=0x0;for(const _0x5e5084 of this[_0x4f4e2b(0x68f)][_0x4f4e2b(0x449)]())_0x336e6e+=await _0x5e5084[_0x4f4e2b(0x397)]();this[_0x4f4e2b(0xa45)]['publish']({'sourceId':_0x40bfc5,'messageType':_0x435438[_0x4f4e2b(0x9a6)],'content':{'type':_0x46be06[_0x4f4e2b(0x213)],'label':this[_0x4f4e2b(0x573)],'stats':{'timestamp':Date[_0x4f4e2b(0x9e1)](),'storage':_0x336e6e,'messagesSent':this['messagesSent'],'messagesReceived':this['messagesReceived'],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x4f4e2b(0x4ac)],'writes':this[_0x4f4e2b(0xcf)],'reads':this[_0x4f4e2b(0x9f6)],'prompts':0x0,'tokens':0x0}}}),_0x1b1d61[_0x4f4e2b(0x6d9)](_0x3baa96[_0x4f4e2b(0x8bf)],'ccc'+this[_0x4f4e2b(0xea)]+_0x4f4e2b(0x678)+this[_0x4f4e2b(0x573)],_0x336e6e);},_0x4e96c3);}[_0x120045(0x6b3)](_0x190f6c){const _0x5444a9=_0x120045;if(_0x190f6c[_0x5444a9(0x68f)][_0x35cb36])throw new _0x18939c(_0x15d29b[_0x5444a9(0x10c)],'Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27'+_0x35cb36+_0x5444a9(0x7d5));if(_0x190f6c['tables'][_0x5ae929])throw new _0x18939c(_0x15d29b['KeyValueDatabaseTableNameReserved'],'Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27'+_0x5ae929+_0x5444a9(0x7d5));_0x190f6c[_0x5444a9(0x68f)][_0x35cb36]={'indexes':[]},_0x190f6c[_0x5444a9(0x68f)][_0x5ae929]={'indexes':[]};}async[_0x120045(0x372)](_0x1f94ac){const _0x4a4cfe=_0x120045;return Promise[_0x4a4cfe(0x1b8)]([_0x1f94ac,Promise[_0x4a4cfe(0x29f)](_0x4a4cfe(0x1ba))])[_0x4a4cfe(0x4c3)](_0x22fc7c=>_0x4a4cfe(0x1ba)!==_0x22fc7c);}async[_0x120045(0x676)](_0x306e09){const _0x1d905f=_0x120045;await this['processTransactionsToComputeMMR']();const _0x11a140=await this[_0x1d905f(0x41b)][_0x1d905f(0x3fb)](),_0x5a7873={'sourceId':this[_0x1d905f(0x781)]['getId'](),'destinationIds':[_0x306e09],'propagate':!0x0,'messageType':_0x435438[_0x1d905f(0x9a6)],'content':{'type':_0x46be06[_0x1d905f(0x415)],'label':this[_0x1d905f(0x573)],'mmrRoot':_0x11a140}};this[_0x1d905f(0xa45)][_0x1d905f(0x552)](_0x5a7873);}async[_0x120045(0x22b)](){const _0x1b2c2e=_0x120045;if(!this['transactionTable'])throw new _0x4a916f(_0x4a916f[_0x1b2c2e(0xa30)][_0x1b2c2e(0x878)]);this[_0x1b2c2e(0x8b3)]=await this[_0x1b2c2e(0x9eb)][_0x1b2c2e(0x100)](),this[_0x1b2c2e(0x8b3)][_0x1b2c2e(0x184)](this['compareTransactions']),this[_0x1b2c2e(0x41b)]=new _0x44a137(),this[_0x1b2c2e(0x5b5)]=new Map();for(const _0x1451e0 of this['transactions'])this['appendTransactionAndUpdateHashMap'](_0x1451e0,this['transactions'][_0x1b2c2e(0x59d)]);this[_0x1b2c2e(0x5ea)]();}async[_0x120045(0x44f)](_0x5a61e3,_0x6899d9){const _0x50033a=_0x120045,_0x30f039={..._0x5a61e3};delete _0x30f039[_0x50033a(0x570)],await this[_0x50033a(0x41b)][_0x50033a(0x5e7)](_0x30f039,_0x6899d9);const _0x3cec35=await this[_0x50033a(0x41b)][_0x50033a(0x828)](_0x30f039);this[_0x50033a(0x5b5)][_0x50033a(0x381)](_0x3cec35,_0x5a61e3);}[_0x120045(0x854)](_0x49014a){const _0x4cc8ba=_0x120045;return this[_0x4cc8ba(0x5b5)][_0x4cc8ba(0x7e9)](_0x49014a);}[_0x120045(0x871)](_0xc797f0,_0x349468){const _0x3ad3e6=_0x120045;if(0x0!==_0xc797f0[_0x3ad3e6(0xa0b)])_0xc797f0['left']&&this[_0x3ad3e6(0x871)](_0xc797f0[_0x3ad3e6(0x768)],_0x349468),_0xc797f0['right']&&this[_0x3ad3e6(0x871)](_0xc797f0['right'],_0x349468);else{const _0x25b17c=this['getTransactionByHash'](_0xc797f0[_0x3ad3e6(0x224)]);_0x25b17c&&_0x349468[_0x3ad3e6(0xdc)](_0x25b17c);}}async[_0x120045(0x223)](){const _0x4100b3=_0x120045;this[_0x4100b3(0x698)]&&(clearTimeout(this[_0x4100b3(0x698)]),delete this[_0x4100b3(0x698)],this['transactionsToAppend'][_0x4100b3(0x59d)]>0x0&&(this[_0x4100b3(0x8b3)][_0x4100b3(0xdc)](...this[_0x4100b3(0x946)]['sort'](this['compareTransactions'])),this[_0x4100b3(0x946)]=[]));const _0x22eedf=this[_0x4100b3(0x980)]();this[_0x4100b3(0x41b)]=new _0x44a137(),this[_0x4100b3(0x5b5)][_0x4100b3(0x960)](),this[_0x4100b3(0x8b3)][_0x4100b3(0x184)](this[_0x4100b3(0x23d)]);for(const _0x12ebc1 of this['transactions'])this[_0x4100b3(0x44f)](_0x12ebc1,this[_0x4100b3(0x8b3)][_0x4100b3(0x59d)]);await this[_0x4100b3(0x41b)][_0x4100b3(0x690)],this[_0x4100b3(0x3c6)](_0x22eedf);}[_0x120045(0x980)](){const _0x54ed40=_0x120045;return this[_0x54ed40(0x309)]['logger'][_0x54ed40(0x648)](async()=>{const _0x109192=_0x54ed40,_0x381239=await this[_0x109192(0x41b)][_0x109192(0x3fb)]();return{'startTime':Date[_0x109192(0x9e1)](),'initialRoot':_0x381239};},Promise[_0x54ed40(0x29f)]({'startTime':0x0,'initialRoot':''}));}async[_0x120045(0x3c6)](_0xb8ce02){const _0x56c3d0=_0x120045;try{const {startTime:_0x321d7d,initialRoot:_0x4bf72e}=await _0xb8ce02,_0x1540d0=await this['mmr'][_0x56c3d0(0x3fb)](),_0x4eabe2=[_0x56c3d0(0x89d)+(_0x4bf72e!==_0x1540d0),_0x56c3d0(0x398)+_0x4bf72e,_0x56c3d0(0x8a5)+_0x1540d0,'\x0a\x20\x20===\x20Total\x20Nodes:\x20'+this[_0x56c3d0(0x41b)]['getTotalNodes'](),'\x0a\x20\x20===\x20MMR\x20Computation\x20Time:\x20'+(Date['now']()-_0x321d7d)+_0x56c3d0(0x5bc)][_0x56c3d0(0x3ec)]('\x20');this[_0x56c3d0(0x309)][_0x56c3d0(0x9e3)][_0x56c3d0(0xed)]('',()=>_0x4eabe2);}catch(_0x554a65){console[_0x56c3d0(0x525)](_0x56c3d0(0x256),_0x554a65);}}[_0x120045(0x542)](_0x2d01d5){const _0x53403f=_0x120045;this[_0x53403f(0x946)][_0x53403f(0xdc)](_0x2d01d5),this[_0x53403f(0x698)]&&(clearTimeout(this[_0x53403f(0x698)]),delete this[_0x53403f(0x698)]),this['debounceRebuildMMR']=setTimeout(()=>{const _0x583589=_0x53403f;this[_0x583589(0x1df)]();},0x3e8);}async[_0x120045(0x1df)](){const _0x4d47df=_0x120045;if(this[_0x4d47df(0x698)]&&(clearTimeout(this['debounceRebuildMMR']),delete this[_0x4d47df(0x698)]),0x0!==this[_0x4d47df(0x946)][_0x4d47df(0x59d)]){if(0x0===this[_0x4d47df(0x8b3)][_0x4d47df(0x59d)])return this[_0x4d47df(0x8b3)]=this[_0x4d47df(0x946)],this[_0x4d47df(0x946)]=[],await this[_0x4d47df(0x223)]();if(this[_0x4d47df(0x946)][_0x4d47df(0x184)](this[_0x4d47df(0x23d)]),this[_0x4d47df(0x23d)](this[_0x4d47df(0x946)][0x0],this[_0x4d47df(0x8b3)][this[_0x4d47df(0x8b3)][_0x4d47df(0x59d)]-0x1])>0x0){this[_0x4d47df(0x309)][_0x4d47df(0x9e3)]['log'](_0x4d47df(0x55a)+this['transactionsToAppend'][_0x4d47df(0x59d)]+_0x4d47df(0x934)+this[_0x4d47df(0x8b3)][_0x4d47df(0x59d)]);for(const _0x27b41d of this[_0x4d47df(0x946)])this['transactions'][_0x4d47df(0xdc)](_0x27b41d),this['appendTransactionAndUpdateHashMap'](_0x27b41d,this[_0x4d47df(0x946)][_0x4d47df(0x59d)]);return this['transactionsToAppend']=[],void this['loggingCycle']['logger'][_0x4d47df(0xed)](_0x4d47df(0x24b),async()=>_0x4d47df(0x514)+await this[_0x4d47df(0x41b)][_0x4d47df(0x3fb)]()+_0x4d47df(0x69f)+this[_0x4d47df(0x41b)][_0x4d47df(0x9d5)]());}this[_0x4d47df(0x309)]['logger']['log'](_0x4d47df(0x610)+this['transactionsToAppend']['length']+_0x4d47df(0x934)+this[_0x4d47df(0x8b3)][_0x4d47df(0x59d)]),this[_0x4d47df(0x8b3)][_0x4d47df(0xdc)](...this[_0x4d47df(0x946)]),this[_0x4d47df(0x946)]=[],this[_0x4d47df(0x223)]();}}async[_0x120045(0xa75)](){const _0xee9c66=_0x120045;if(!_0x1b1d61[_0xee9c66(0xf6)](_0x185607['KeyValueDatabase']))return;await this[_0xee9c66(0x41b)][_0xee9c66(0x690)];const {dataSent:_0x3089fd,dataReceived:_0x15baf9}=this[_0xee9c66(0x309)]['getDataLogged']();_0x1b1d61[_0xee9c66(0xed)](_0x185607[_0xee9c66(0x8bf)],_0xee9c66(0x23a),this[_0xee9c66(0x573)],'\x0a\x20===\x20Total\x20Data\x20Sent:\x20'+_0x3089fd,'\x0a\x20===\x20Total\x20Data\x20Received:\x20'+_0x15baf9,_0xee9c66(0x248),await this[_0xee9c66(0x41b)][_0xee9c66(0x3fb)](),_0xee9c66(0xeb),this[_0xee9c66(0x41b)][_0xee9c66(0x9d5)]());}async[_0x120045(0x5ea)](){const _0x30ed6b=_0x120045;if(!_0x1b1d61[_0x30ed6b(0xf6)](_0x185607[_0x30ed6b(0x8bf)]))return;const _0x52ce77=this['mmr'][_0x30ed6b(0x3a8)](),_0x48d690=_0x52ce77[_0x30ed6b(0x760)](_0xec754e=>_0xec754e[_0x30ed6b(0xa0b)]),_0x42c252=await this['mmr'][_0x30ed6b(0x3fb)]();_0x1b1d61[_0x30ed6b(0xed)](_0x185607[_0x30ed6b(0x8bf)],_0x30ed6b(0x121),this[_0x30ed6b(0x8b3)][_0x30ed6b(0x59d)],_0x30ed6b(0x8b3),this['mmr'][_0x30ed6b(0x9d5)](),_0x30ed6b(0x2eb),_0x52ce77[_0x30ed6b(0x59d)],_0x30ed6b(0x86c),_0x48d690,_0x30ed6b(0x2d6),_0x42c252);}}const _0x5e07e2=require('@crewdle/mist-connector-opfs'),_0x5d35fd=require('@crewdle/mist-connector-indexed-db'),_0x42487c=require('@crewdle/mist-connector-webrtc-browser'),_0x1240a6=0x10000000;var _0x2087c1,_0x289672,_0x55ce1f,_0x40fec4,_0x49c71e,_0x57c969,_0x266f35,_0x6ff4f0,_0x31fca9;!function(_0x4d2d8e){const _0x1c02ce=_0x120045;_0x4d2d8e[_0x1c02ce(0x9a3)]='AudioContext',_0x4d2d8e[_0x1c02ce(0x911)]='AudioOutput',_0x4d2d8e[_0x1c02ce(0x73a)]=_0x1c02ce(0x73a),_0x4d2d8e[_0x1c02ce(0x291)]='Backgrounds',_0x4d2d8e[_0x1c02ce(0x779)]=_0x1c02ce(0x779),_0x4d2d8e[_0x1c02ce(0x7f1)]='MediaStream',_0x4d2d8e['Recording']=_0x1c02ce(0x65a),_0x4d2d8e[_0x1c02ce(0x3cd)]=_0x1c02ce(0x3cd),_0x4d2d8e['WebGL']=_0x1c02ce(0x930),_0x4d2d8e[_0x1c02ce(0x809)]='WebRTC';}(_0x2087c1||(_0x2087c1={}));class _0x5d6582{[_0x120045(0x855)];[_0x120045(0x91b)];['eventTarget'];constructor(_0xf716c7=new Map(),_0x4d8bad=new Map(),_0x812376=new EventTarget()){const _0x2e92e2=_0x120045;this['registeredListeners']=_0xf716c7,this['bufferedEvents']=_0x4d8bad,this[_0x2e92e2(0x34e)]=_0x812376;}['emit']=(_0xff8bc,_0x5f2685)=>this[_0x120045(0x855)][_0x120045(0x5a8)](_0xff8bc)?(_0x1b1d61[_0x120045(0xed)](_0x185607['Events'],_0x120045(0x447),{'event':_0xff8bc,'data':_0x5f2685}),this[_0x120045(0x34e)][_0x120045(0x6c4)](new CustomEvent(_0xff8bc,{'detail':_0x5f2685})),!0x0):(this[_0x120045(0x37c)](_0xff8bc,_0x5f2685),!0x1);['on']=(_0xe45f94,_0x424640)=>{const _0x23ffa7=_0x120045,_0xd556b9=_0x37483c=>{const _0x324fc1=a0_0x573a;_0x1b1d61[_0x324fc1(0xed)](_0x185607['Events'],_0x324fc1(0xcc),_0x37483c[_0x324fc1(0x7f3)],_0x37483c[_0x324fc1(0x92d)]),_0x424640(_0x37483c[_0x324fc1(0x92d)]);};return this[_0x23ffa7(0x855)][_0x23ffa7(0x381)](_0xe45f94,_0xd556b9),this['eventTarget'][_0x23ffa7(0x56b)](_0xe45f94,_0xd556b9),_0x1b1d61[_0x23ffa7(0xed)](_0x185607[_0x23ffa7(0x438)],'Subscribing\x20to\x20an\x20event:\x20on',_0xe45f94,_0x424640),this['consumeBufferedEvents'](_0xe45f94),this;};[_0x120045(0x959)](_0x4b393f){const _0x31ed06=_0x120045;if(!_0x4b393f)return this[_0x31ed06(0x855)][_0x31ed06(0x311)]((_0x43250b,_0x56a739)=>{const _0x9756e4=_0x31ed06;this[_0x9756e4(0x34e)]['removeEventListener'](_0x56a739,_0x43250b);}),void this[_0x31ed06(0x855)][_0x31ed06(0x960)]();'string'==typeof _0x4b393f&&this[_0x31ed06(0x9a5)](_0x4b393f),Array[_0x31ed06(0x799)](_0x4b393f)&&_0x4b393f[_0x31ed06(0x311)](_0x49ff97=>{const _0x237dd1=_0x31ed06;this[_0x237dd1(0x9a5)](_0x49ff97);});}['removeListener'](_0x43f0c6){const _0x4f0fa2=_0x120045,_0x160a41=this[_0x4f0fa2(0x855)]['get'](_0x43f0c6);_0x160a41&&(this['eventTarget']['removeEventListener'](_0x43f0c6,_0x160a41),this[_0x4f0fa2(0x855)][_0x4f0fa2(0xa10)](_0x43f0c6));}[_0x120045(0x37c)](_0x28f117,_0x5c4bae){const _0x3bd5ca=_0x120045;_0x1b1d61[_0x3bd5ca(0xed)](_0x185607[_0x3bd5ca(0x279)],_0x3bd5ca(0x627),{'event':_0x28f117,'data':_0x5c4bae});const _0x57bb64=this[_0x3bd5ca(0x91b)][_0x3bd5ca(0x7e9)](_0x28f117)||[];this['bufferedEvents'][_0x3bd5ca(0x381)](_0x28f117,[..._0x57bb64,_0x5c4bae]);}[_0x120045(0x275)](_0x45c6e3){const _0x4860b7=_0x120045,_0x466997=this['bufferedEvents'][_0x4860b7(0x7e9)](_0x45c6e3);_0x466997&&(_0x466997[_0x4860b7(0x311)](_0x50ebf7=>{const _0x690487=_0x4860b7;_0x1b1d61[_0x690487(0xed)](_0x185607[_0x690487(0x279)],_0x690487(0x810),{'event':_0x45c6e3,'data':_0x50ebf7}),this['eventTarget'][_0x690487(0x6c4)](new CustomEvent(_0x45c6e3,{'detail':_0x50ebf7}));}),this[_0x4860b7(0x91b)][_0x4860b7(0xa10)](_0x45c6e3));}}class _0x602078 extends Error{constructor(_0x162da3){const _0x3c708f=_0x120045;super(_0x3c708f(0x8f5)+_0x162da3);}}!function(_0x289fe3){const _0x38f69e=_0x120045;_0x289fe3[_0x289fe3[_0x38f69e(0x976)]=0x0]=_0x38f69e(0x976),_0x289fe3[_0x289fe3[_0x38f69e(0x69a)]=0x1]=_0x38f69e(0x69a);}(_0x289672||(_0x289672={})),function(_0x240d93){const _0x3155be=_0x120045;_0x240d93[_0x240d93[_0x3155be(0x4ab)]=0x0]=_0x3155be(0x4ab),_0x240d93[_0x240d93[_0x3155be(0x4ca)]=0x1]=_0x3155be(0x4ca),_0x240d93[_0x240d93[_0x3155be(0x974)]=0x2]='Handshake',_0x240d93[_0x240d93['Success']=0x3]=_0x3155be(0x728),_0x240d93[_0x240d93[_0x3155be(0x830)]=0x4]='NeedRestart',_0x240d93[_0x240d93[_0x3155be(0x56c)]=0x5]=_0x3155be(0x56c),_0x240d93[_0x240d93[_0x3155be(0x64b)]=0x6]=_0x3155be(0x64b),_0x240d93[_0x240d93[_0x3155be(0x43b)]=0x7]=_0x3155be(0x43b),_0x240d93[_0x240d93[_0x3155be(0x76f)]=0x8]=_0x3155be(0x76f);}(_0x55ce1f||(_0x55ce1f={})),function(_0x31d6fe){const _0xad6770=_0x120045;_0x31d6fe[_0x31d6fe['Sender']=0x0]=_0xad6770(0x9a8),_0x31d6fe[_0x31d6fe[_0xad6770(0x74c)]=0x1]=_0xad6770(0x74c);}(_0x40fec4||(_0x40fec4={})),function(_0x77c41e){const _0x1074d6=_0x120045;_0x77c41e[_0x1074d6(0x7f1)]='media-stream';}(_0x49c71e||(_0x49c71e={})),function(_0x31c612){const _0x13c4fe=_0x120045;_0x31c612[_0x31c612['NodeJoin']=0x0]=_0x13c4fe(0x8a8),_0x31c612[_0x31c612['NodeUpdate']=0x1]='NodeUpdate',_0x31c612[_0x31c612['NodeConnectionsUpdate']=0x2]=_0x13c4fe(0xa34),_0x31c612[_0x31c612['NodeLeave']=0x3]=_0x13c4fe(0x261);}(_0x57c969||(_0x57c969={})),function(_0xe45731){const _0x40d117=_0x120045;_0xe45731[_0xe45731[_0x40d117(0x8f1)]=0x0]=_0x40d117(0x8f1),_0xe45731[_0xe45731[_0x40d117(0x93d)]=0x1]=_0x40d117(0x93d);}(_0x266f35||(_0x266f35={})),function(_0x22d12a){const _0x5c2dbb=_0x120045;_0x22d12a[_0x5c2dbb(0x67e)]=_0x5c2dbb(0x9b1),_0x22d12a[_0x5c2dbb(0x99b)]=_0x5c2dbb(0x3f7);}(_0x6ff4f0||(_0x6ff4f0={})),function(_0x1f9156){const _0x2238fb=_0x120045;_0x1f9156[_0x2238fb(0x668)]='resolution',_0x1f9156[_0x2238fb(0x860)]=_0x2238fb(0x4b7);}(_0x31fca9||(_0x31fca9={}));const _0x2eaa5c=require('aws-amplify'),_0x1a872a=require('aws-amplify/utils'),_0x316889=require('@aws-amplify/api'),_0x29b3b5=require('@aws-amplify/core');class _0xc8531f{[_0x120045(0xea)];['localNode'];[_0x120045(0x831)];constructor(_0x124703,_0x2b0aa7,_0x5e8e7d){const _0x35b49e=_0x120045;this[_0x35b49e(0xea)]=_0x124703,this[_0x35b49e(0x781)]=_0x2b0aa7,this[_0x35b49e(0x831)]=_0x5e8e7d;}[_0x120045(0x67f)](){const _0x2e5682=_0x120045;return this[_0x2e5682(0x781)][_0x2e5682(0xd7)]();}['getRemoteId'](){return this['remoteId'];}}var _0x281c34,_0x2e9f30,_0x436c52;function _0x59230a(_0x15789c,_0x5f542d){return _0x15789c['sourceId']===_0x5f542d;}function _0x167fe4(_0x287d5e,_0x1dcc26){return _0x287d5e['destinationIds']?.['includes'](_0x1dcc26)??function(_0x50c013){const _0xf67051=a0_0x573a;return void 0x0===_0x50c013[_0xf67051(0x3a4)];}(_0x287d5e);}function _0x354501(_0x4c9aa0,{contentType:_0x30da55,label:_0x2fea50,remoteId:_0x44db6d}){return _0x4c9aa0+'-'+_0x30da55+'-'+_0x2fea50+'-'+_0x44db6d;}function _0x2730d6(_0x1ae96b,_0xd45a27,_0x20261c){return''+_0x1ae96b+_0xd45a27+_0x20261c;}function _0x126e37(_0x265d97){const _0x21f848=_0x120045;return _0x265d97===_0x2e9f30[_0x21f848(0x979)]?'IncomingSubscription':'OutgoingSubscription';}function _0x38aca0(_0x71eade,_0x85296d){const _0xd560f6=_0x120045;return{'label':_0x71eade[_0xd560f6(0x3d9)](),'contentType':_0x71eade['getContentType'](),'remoteId':_0x85296d[_0xd560f6(0xa5d)](),'supportsContentType':_0x85296d[_0xd560f6(0x3ba)]()['includes'](_0x71eade[_0xd560f6(0x729)]())};}!function(_0x198b29){const _0x502e16=_0x120045;_0x198b29[_0x198b29['Waiting']=0x0]='Waiting',_0x198b29[_0x198b29[_0x502e16(0x53c)]=0x1]='Accepted',_0x198b29[_0x198b29['Rejected']=0x2]='Rejected';}(_0x281c34||(_0x281c34={})),function(_0xc59867){const _0x1bb173=_0x120045;_0xc59867[_0x1bb173(0x979)]='in',_0xc59867[_0x1bb173(0x95d)]=_0x1bb173(0x42f);}(_0x2e9f30||(_0x2e9f30={}));class _0x52277c{[_0x120045(0x314)];[_0x120045(0x382)];constructor(_0x41653d,_0x4ca530){this['callback']=_0x41653d,this['retryCallback']=_0x4ca530;}[_0x120045(0x706)](_0x4c6f43){const _0x2ea8c6=_0x120045;this[_0x2ea8c6(0x314)](_0x4c6f43);}async[_0x120045(0x22c)](){const _0x47d85f=_0x120045;await this[_0x47d85f(0x382)]();}}class _0x1414c2{['callback'];[_0x120045(0x382)];constructor(_0x52ad3b,_0x321cae){const _0x45f1e1=_0x120045;this[_0x45f1e1(0x314)]=_0x52ad3b,this[_0x45f1e1(0x382)]=_0x321cae;}async[_0x120045(0x706)](_0x5a4bf5){const _0x3afc59=_0x120045;await this[_0x3afc59(0x314)](_0x5a4bf5);}async['wait'](){const _0x1a0491=_0x120045;await this[_0x1a0491(0x382)]();}}function _0x45c226(_0x510bc9=()=>{},_0x1646eb=()=>!0x1,_0x3df86b=()=>{}){let _0x5beb30,_0x2d58d4,_0x240b97=0x0;return{get 'size'(){return _0x240b97;},get 'head'(){return _0x5beb30;},get 'tail'(){return _0x2d58d4;},set 'head'(_0x4197c3){_0x5beb30=_0x4197c3;},set 'tail'(_0x114dae){_0x2d58d4=_0x114dae;},'push'(_0x596e0f,_0x2a9e0f=!0x0){const _0x4d1ee9=a0_0x573a,_0x1fed58={'value':_0x596e0f};_0x2a9e0f&&_0x1646eb(_0x1fed58)?_0x510bc9():(_0x2d58d4&&(_0x1fed58[_0x4d1ee9(0x10f)]=_0x2d58d4,_0x2d58d4[_0x4d1ee9(0x666)]=_0x1fed58),_0x2d58d4=_0x1fed58,_0x5beb30||(_0x5beb30=_0x1fed58),_0x240b97+=0x1,_0x2a9e0f&&_0x510bc9());},'pop'(){const _0x163591=a0_0x573a;if(!_0x2d58d4)return;const _0x16727c=_0x2d58d4[_0x163591(0x570)];return _0x2d58d4=_0x2d58d4[_0x163591(0x10f)],_0x2d58d4&&delete _0x2d58d4[_0x163591(0x666)],_0x2d58d4||(_0x5beb30=void 0x0),_0x240b97-=0x1,_0x16727c;},'unshift'(_0x302c0a,_0xa5476c=!0x0){const _0x107909=a0_0x573a,_0x4eea32={'value':_0x302c0a};_0xa5476c&&_0x1646eb(_0x4eea32)?_0x510bc9():(_0x5beb30&&(_0x5beb30['previous']=_0x4eea32,_0x4eea32[_0x107909(0x666)]=_0x5beb30),_0x5beb30=_0x4eea32,_0x2d58d4||(_0x2d58d4=_0x4eea32),_0x240b97+=0x1,_0xa5476c&&_0x510bc9());},'shift'(){const _0x322282=a0_0x573a;if(!_0x5beb30)return;const _0x15054f=_0x5beb30['value'];return _0x5beb30=_0x5beb30[_0x322282(0x666)],_0x5beb30&&delete _0x5beb30[_0x322282(0x10f)],_0x5beb30||(_0x2d58d4=void 0x0),_0x240b97-=0x1,_0x15054f;},'clear'(){_0x3df86b(),_0x5beb30=void 0x0,_0x2d58d4=void 0x0,_0x240b97=0x0;}};}function _0x5e324d(_0x416c79,_0x59b49b=!0x1,_0x26dd0c=()=>{},_0x1b0ed2=()=>!0x1,_0x2f0cdd=()=>{}){let _0x2e3db9=!0x1;const _0x5b6720=_0x45c226(async function(){const _0x385e18=a0_0x573a;if(!_0x2e3db9){for(_0x2e3db9=!0x0;_0x5b6720['head'];){const _0x1058e1=_0x5b6720[_0x385e18(0x9ea)]();if(_0x1058e1)try{_0x416c79 instanceof _0x52277c&&_0x416c79[_0x385e18(0x706)](_0x1058e1),_0x416c79 instanceof _0x1414c2&&await _0x416c79[_0x385e18(0x706)](_0x1058e1),_0x26dd0c(_0x1058e1);}catch(_0x42d42b){_0x59b49b?_0x5b6720[_0x385e18(0xdc)](_0x1058e1,!0x1):_0x5b6720[_0x385e18(0x9b6)](_0x1058e1,!0x1),await _0x416c79[_0x385e18(0x22c)]();}}_0x2e3db9=!0x1;}},_0x1b0ed2,_0x2f0cdd);return _0x5b6720;}class _0x385249 extends _0xc8531f{[_0x120045(0x11b)];[_0x120045(0x7ec)];[_0x120045(0x4cc)]=_0x316889[_0x120045(0xa2a)][_0x120045(0x4d2)];['connectionStateListener']=_0x50ebb3();[_0x120045(0x923)]=_0x29f207();[_0x120045(0x42c)];[_0x120045(0x194)];[_0x120045(0x482)]=_0x5e324d(new _0x1414c2(this[_0x120045(0x8af)]['bind'](this),this[_0x120045(0x965)][_0x120045(0xa66)](this)));[_0x120045(0x8de)];constructor(_0x252e51,_0x8d4804,_0x5dddfa,_0x24bd6f,_0x22298f){const _0x11dffc=_0x120045;super(_0x8d4804,_0x5dddfa,_0x24bd6f),this[_0x11dffc(0x11b)]=_0x252e51,this[_0x11dffc(0x7ec)]=_0x22298f;}async[_0x120045(0x842)](){const _0x1be7b1=_0x120045;try{const _0xf3e18d={'getTokens':async()=>{const _0x16a220=a0_0x573a,_0xbed575=await this[_0x16a220(0x7ec)]['getIdToken']();return{'accessToken':(0x0,_0x29b3b5[_0x16a220(0x1bb)])(_0xbed575),'idToken':(0x0,_0x29b3b5[_0x16a220(0x1bb)])(_0xbed575)};}};_0x2eaa5c['Amplify'][_0x1be7b1(0x4ec)]({'API':{'GraphQL':{'endpoint':_0x4cff37[_0x1be7b1(0x755)][_0x1be7b1(0x892)],'region':_0x4cff37[_0x1be7b1(0x755)][_0x1be7b1(0x540)],'defaultAuthMode':'oidc'}}},{'Auth':{'tokenProvider':_0xf3e18d}});const _0x3cfcdf=(0x0,_0x316889[_0x1be7b1(0x92c)])();this[_0x1be7b1(0x8de)]=_0x3cfcdf,await this[_0x1be7b1(0x8f0)](),this['listenUnsubscriber']=_0x1a872a[_0x1be7b1(0x811)][_0x1be7b1(0x953)](_0x1be7b1(0x7c1),async({payload:_0x346a03})=>{const _0x1681b7=_0x1be7b1;if(_0x346a03[_0x1681b7(0x6ee)]===_0x316889[_0x1681b7(0x617)]){const _0x1966e0=_0x346a03[_0x1681b7(0x7f6)];this['connectionState']=_0x1966e0[_0x1681b7(0x4cc)],this['connectionStateListener'][_0x1681b7(0x552)](_0x1966e0[_0x1681b7(0x4cc)]),this[_0x1681b7(0x4cc)]===_0x316889[_0x1681b7(0xa2a)][_0x1681b7(0x4d2)]?(_0x1b1d61[_0x1681b7(0x525)]('appsync-disconnect',{'clusterId':this[_0x1681b7(0xea)],'nodeId':this[_0x1681b7(0x67f)](),'nodeType':this[_0x1681b7(0x781)]['type']}),this[_0x1681b7(0x1c1)](),this[_0x1681b7(0x842)]()):this['connectionState']===_0x316889[_0x1681b7(0xa2a)]['Connected']?_0x1b1d61[_0x1681b7(0x87e)](_0x1681b7(0x76d),{'clusterId':this[_0x1681b7(0xea)],'nodeId':this['getLocalId'](),'nodeType':this[_0x1681b7(0x781)]['type']}):_0x1b1d61[_0x1681b7(0x87e)]('appsync-statechange',{'clusterId':this[_0x1681b7(0xea)],'nodeId':this[_0x1681b7(0x67f)](),'nodeType':this[_0x1681b7(0x781)][_0x1681b7(0x7f3)],'data':{'state':_0x1966e0[_0x1681b7(0x4cc)]}});}});}catch(_0x4fdf09){_0x1b1d61[_0x1be7b1(0x525)]('appsync-connect-fail',{'clusterId':this[_0x1be7b1(0xea)],'nodeId':this[_0x1be7b1(0x67f)](),'nodeType':this['localNode'][_0x1be7b1(0x7f3)]});}}[_0x120045(0x1c1)](){const _0x4c0550=_0x120045;_0x1b1d61[_0x4c0550(0x87e)]('appsync-close',{'clusterId':this['clusterId'],'nodeId':this[_0x4c0550(0x67f)](),'nodeType':this[_0x4c0550(0x781)][_0x4c0550(0x7f3)]}),this['retryQueue']['clear'](),this['listenUnsubscriber']?.(),this[_0x4c0550(0x42c)]?.[_0x4c0550(0x236)](),delete this[_0x4c0550(0x42c)];}[_0x120045(0x6d4)](){const _0x545db9=_0x120045;return this['connectionState']===_0x316889[_0x545db9(0xa2a)][_0x545db9(0x70a)];}[_0x120045(0x593)](_0x35d3c2){const _0x412735=_0x120045;this[_0x412735(0x482)][_0x412735(0xdc)](_0x35d3c2);}[_0x120045(0x897)](_0x573f2d){const _0x224d91=_0x120045;return this[_0x224d91(0x923)][_0x224d91(0x8f0)](_0x573f2d);}[_0x120045(0x3ba)](){const _0x1aea50=_0x120045;return[_0x4e2564[_0x1aea50(0x8be)][_0x1aea50(0x6ad)]];}async[_0x120045(0x965)](){if(!this['isConnected']())return new Promise(_0xaf7790=>{const _0xb6293e=a0_0x573a,_0x300d3f=this[_0xb6293e(0x714)][_0xb6293e(0x8f0)](_0x38e7c4=>{const _0x298b01=_0xb6293e;_0x38e7c4===_0x316889[_0x298b01(0xa2a)][_0x298b01(0x70a)]&&(_0x300d3f(),_0xaf7790());});});}async['sendAction'](_0x1aba07){const _0x55f70b=_0x120045;if(this[_0x55f70b(0x4cc)]!==_0x316889[_0x55f70b(0xa2a)][_0x55f70b(0x70a)])throw new Error(_0x55f70b(0x7c6));_0x1aba07[_0x55f70b(0x3a4)]&&0x1===_0x1aba07[_0x55f70b(0x3a4)]['length']?await this[_0x55f70b(0x552)](_0x1aba07['destinationIds'][0x0],JSON[_0x55f70b(0x4e9)](_0x1aba07)):_0x1b1d61[_0x55f70b(0x525)](_0x55f70b(0x79c),{'clusterId':this[_0x55f70b(0xea)],'nodeId':this['getLocalId'](),'nodeType':this['localNode'][_0x55f70b(0x7f3)]});}async[_0x120045(0x552)](_0x2721eb,_0x10c9e5){const _0x2a117e=_0x120045;if(!this[_0x2a117e(0x8de)])throw new Error(_0x2a117e(0xf0));_0x1b1d61[_0x2a117e(0xed)](_0x185607[_0x2a117e(0x4a8)],_0x2a117e(0x59c),this[_0x2a117e(0x67f)](),_0x10c9e5),await this[_0x2a117e(0x8de)]['graphql']({'query':_0x2a117e(0x87f),'variables':{'name':await this['getHash'](_0x2721eb),'data':_0x10c9e5}});}async[_0x120045(0x8f0)](){const _0x2696dd=_0x120045;if(this[_0x2696dd(0x42c)])return;if(!this['client'])throw new Error(_0x2696dd(0xf0));_0x1b1d61[_0x2696dd(0xed)](_0x185607[_0x2696dd(0x4a8)],_0x2696dd(0x38d),this['getLocalId']());const _0x146d60=await this['client'][_0x2696dd(0x74f)]({'query':_0x2696dd(0x8d4),'variables':{'name':await this[_0x2696dd(0x5c1)]()},'authToken':await this[_0x2696dd(0x7ec)][_0x2696dd(0x6bd)]()},{'Authorization':await this[_0x2696dd(0x7ec)][_0x2696dd(0x6bd)]()});this[_0x2696dd(0x42c)]=_0x146d60[_0x2696dd(0x8f0)]({'next':({data:_0x4f6758})=>{const _0x5d6789=_0x2696dd,_0x3e640f=JSON[_0x5d6789(0x505)](_0x4f6758[_0x5d6789(0x8f0)][_0x5d6789(0x7f6)]);!_0x59230a(_0x3e640f,this[_0x5d6789(0x67f)]())&&_0x167fe4(_0x3e640f,this['getLocalId']())&&this[_0x5d6789(0x923)][_0x5d6789(0x552)](_0x3e640f);},'error':console[_0x2696dd(0xed)]});}async['getHash'](_0x5df896){const _0x2d4d95=_0x120045,_0x55e18f=await crypto[_0x2d4d95(0x62e)][_0x2d4d95(0x4b3)](_0x2d4d95(0x2a6),new TextEncoder()['encode'](this[_0x2d4d95(0x11b)]+'-'+this[_0x2d4d95(0xea)]+'-'+(_0x5df896??this[_0x2d4d95(0x67f)]())));return Array['from'](new Uint8Array(_0x55e18f))['map'](_0x333d5a=>_0x333d5a[_0x2d4d95(0x5d4)](0x10)[_0x2d4d95(0x850)](0x2,'0'))['join']('');}}!function(_0xb1828f){const _0x219bd8=_0x120045;_0xb1828f[_0xb1828f['Add']=0x0]=_0x219bd8(0x4e2),_0xb1828f[_0xb1828f['Remove']=0x1]=_0x219bd8(0x226),_0xb1828f[_0xb1828f[_0x219bd8(0x1fd)]=0x2]=_0x219bd8(0x1fd),_0xb1828f[_0xb1828f['RemoteAdd']=0x3]=_0x219bd8(0x176),_0xb1828f[_0xb1828f[_0x219bd8(0x183)]=0x4]='RemoteRemove';}(_0x436c52||(_0x436c52={}));const _0x3f1681='0',_0x2f2d7d='chunk',_0x514371=_0x498039,_0x44c6d1=0x60000;class _0x26bcdd{[_0x120045(0xea)];[_0x120045(0x781)];[_0x120045(0x831)];[_0x120045(0x424)];['connectionType'];[_0x120045(0x4d0)];[_0x120045(0x323)];[_0x120045(0x785)];[_0x120045(0x9c4)]=0x1;[_0x120045(0xa45)];[_0x120045(0x43c)]=[];[_0x120045(0x889)]=[];[_0x120045(0x3cb)];constructor(_0x34f767,_0x5b5b3a,_0x35c1ee,_0x292d4f,_0x49ba7c,_0x259b94){const _0x4d46e5=_0x120045;this[_0x4d46e5(0xea)]=_0x34f767,this[_0x4d46e5(0x781)]=_0x5b5b3a,this[_0x4d46e5(0x831)]=_0x35c1ee,this[_0x4d46e5(0x424)]=_0x292d4f,this[_0x4d46e5(0x1f4)]=_0x49ba7c,this[_0x4d46e5(0x4d0)]=_0x259b94,this['connection']=new this['connectionConstructor']({'handshakeServers':this[_0x4d46e5(0x424)]}),this[_0x4d46e5(0x686)]();}['close'](){this['stopConnection']();}['setConnectionType'](_0x279329){const _0x72fe8c=_0x120045;this[_0x72fe8c(0x1f4)]=_0x279329;}async[_0x120045(0x35e)](_0x55e787,_0x5511da){const _0x12b468=_0x120045;if(_0x5511da===this[_0x12b468(0x9c4)])for(const _0x341b61 of _0x55e787){if(!this[_0x12b468(0x323)][_0x12b468(0xfb)])return this['addPendingHandshakeCandidate'](_0x341b61);try{await this[_0x12b468(0x323)]['addCandidate'](_0x341b61);}catch(_0x5a9285){this['addPendingHandshakeCandidate'](_0x341b61);}}}[_0x120045(0x6d4)](){const _0x3ed54b=_0x120045;return this[_0x3ed54b(0x4c0)](),'connected'===this['connection'][_0x3ed54b(0x4cc)]&&[_0x3ed54b(0x57d),_0x3ed54b(0x6f8)][_0x3ed54b(0x82f)](this[_0x3ed54b(0x323)][_0x3ed54b(0x1bd)])&&_0x3ed54b(0x2da)!==this[_0x3ed54b(0x323)][_0x3ed54b(0x2e1)]&&_0x3ed54b(0x69b)===this[_0x3ed54b(0x785)]?.[_0x3ed54b(0xe0)];}[_0x120045(0x67d)](_0x5ae0fc){this['systemTopic']=_0x5ae0fc;}['unregisterSystemPublisher'](){const _0xf3d7f8=_0x120045;delete this[_0xf3d7f8(0xa45)];}[_0x120045(0x195)](_0x5ab2c3){const _0x21022d=_0x120045;this[_0x21022d(0x321)](),this['connection']=new this[(_0x21022d(0x4d0))]({'handshakeServers':this[_0x21022d(0x424)]}),_0x5ab2c3?this[_0x21022d(0x9c4)]=_0x5ab2c3:this[_0x21022d(0x9c4)]+=0x1,this[_0x21022d(0x686)]();}['processPendingHandshakeCandidates'](){const _0xd23f78=_0x120045;this[_0xd23f78(0x889)][_0xd23f78(0x311)](_0x18f7b2=>{const _0x24c52e=_0xd23f78;try{this[_0x24c52e(0x323)][_0x24c52e(0x7ef)](_0x18f7b2);}catch(_0x3f230b){}}),this[_0xd23f78(0x889)]=[];}[_0x120045(0x152)](_0x51d7eb,_0x461cce){const _0x142880=_0x120045;if(!this['systemTopic'])throw new _0x4a916f(_0x4a916f['codes']['MissingSystemTopic'],{'content':_0x51d7eb});const _0x416d9e={'sourceId':this[_0x142880(0x781)][_0x142880(0xd7)](),'destinationIds':[this[_0x142880(0x831)]],'propagate':this[_0x142880(0x1f4)]!==_0x289672[_0x142880(0x976)],'retry':this['connectionType']!==_0x289672[_0x142880(0x976)],'messageType':_0x435438[_0x142880(0x122)],'content':_0x51d7eb};_0x461cce&&(_0x416d9e[_0x142880(0x43f)]=_0x461cce),this[_0x142880(0xa45)][_0x142880(0x552)](_0x416d9e);}[_0x120045(0x686)](){const _0x1646a3=_0x120045;this['connection'][_0x1646a3(0x6de)]=()=>{const _0x5c9b55=_0x1646a3;'complete'===this['connection']['gatheringState']&&this[_0x5c9b55(0x43c)][_0x5c9b55(0x59d)]>0x0&&(this[_0x5c9b55(0x3cb)]&&clearTimeout(this[_0x5c9b55(0x3cb)]),this[_0x5c9b55(0x3cb)]=setTimeout(()=>{const _0x4c4bbd=_0x5c9b55;delete this[_0x4c4bbd(0x3cb)],this['sendIceCandidates'](),this[_0x4c4bbd(0x43c)]=[];},0x1f4));},this[_0x1646a3(0x323)]['onCandidate']=_0x257ccf=>{const _0x367c5c=_0x1646a3;_0x257ccf[_0x367c5c(0x433)]&&this['handshakeCandidates'][_0x367c5c(0xdc)](_0x257ccf[_0x367c5c(0x433)]);};}[_0x120045(0x321)](){const _0x4ed1a5=_0x120045;clearTimeout(this['handshakeDebounce']),delete this['handshakeDebounce'],this[_0x4ed1a5(0x43c)]=[],this['pendingHandshakeCandidates']=[],this[_0x4ed1a5(0x785)]&&(this[_0x4ed1a5(0x785)]['onMessage']=null,this[_0x4ed1a5(0x785)]['onClose']=null,this['dataChannel'][_0x4ed1a5(0x1c1)](),delete this['dataChannel']),this[_0x4ed1a5(0x323)][_0x4ed1a5(0x6de)]=null,this['connection'][_0x4ed1a5(0x441)]=null,this[_0x4ed1a5(0x323)][_0x4ed1a5(0x555)]=null,this[_0x4ed1a5(0x323)][_0x4ed1a5(0x556)]=null,this[_0x4ed1a5(0x323)][_0x4ed1a5(0x86b)]=null,this[_0x4ed1a5(0x323)]['onDataChannel']=null,this['connection']['close']();}[_0x120045(0x834)](_0x372457){const _0x2d2594=_0x120045;this[_0x2d2594(0x889)][_0x2d2594(0xdc)](_0x372457);}[_0x120045(0x4c0)](){const _0xa4aee=_0x120045;_0x1b1d61[_0xa4aee(0xed)](_0x185607['ConnectionState'],_0xa4aee(0x2ab),{'localId':this[_0xa4aee(0x781)][_0xa4aee(0xd7)](),'remoteId':this[_0xa4aee(0x831)],'connectionState':this[_0xa4aee(0x323)]['connectionState'],'handshakeState':this['connection'][_0xa4aee(0x1bd)],'signalingState':this[_0xa4aee(0x323)][_0xa4aee(0x2e1)],'dataChannelState':this[_0xa4aee(0x785)]?.[_0xa4aee(0xe0)]});}}function _0x32f846(_0x76aadd,_0x465dff){_0x465dff['publish']({'sourceId':_0x40bfc5,'messageType':_0x435438['PeerConnection'],'content':_0x76aadd});}class _0x3b4ca9{static [_0x120045(0x115)];[_0x120045(0x8b1)]=[];[_0x120045(0x7d6)];constructor(){setInterval(()=>{const _0x2f8bf6=a0_0x573a;this[_0x2f8bf6(0x8b1)][_0x2f8bf6(0x311)](_0x2ff2b1=>{const _0x251970=_0x2f8bf6;if(Date[_0x251970(0x9e1)]()-_0x2ff2b1['lastExecuted']>_0x2ff2b1['interval']){try{_0x2ff2b1[_0x251970(0x314)]();}catch(_0x2a9cce){}_0x2ff2b1[_0x251970(0x7da)]=Date[_0x251970(0x9e1)]();}});},0x64);}static[_0x120045(0x188)](){const _0x1ca1c2=_0x120045;return _0x3b4ca9['instance']||(_0x3b4ca9['instance']=new _0x3b4ca9()),_0x3b4ca9[_0x1ca1c2(0x115)];}[_0x120045(0x600)](_0x379de3){const _0x4356ed=_0x120045,_0x3eb72c=this[_0x4356ed(0x31d)](_0x379de3),_0x200a90=_0x379de3['createGain']();_0x200a90&&_0x3eb72c&&(_0x200a90[_0x4356ed(0x9fa)][_0x4356ed(0x570)]=0.001,_0x3eb72c['connect'](_0x200a90),_0x200a90[_0x4356ed(0x842)](_0x379de3[_0x4356ed(0x5ce)]),_0x3eb72c[_0x4356ed(0x3c7)]());}['stopNoThrottlingHack'](){const _0x21e725=_0x120045;this[_0x21e725(0x7d6)]&&(this[_0x21e725(0x7d6)][_0x21e725(0x838)](),this[_0x21e725(0x7d6)][_0x21e725(0x5f0)](),this[_0x21e725(0x7d6)]=void 0x0);}[_0x120045(0x22c)](_0x4293f2){return new Promise(_0x44c6bd=>{setTimeout(_0x44c6bd,_0x4293f2);});}[_0x120045(0x40c)](_0x5d44fb,_0x42d169){const _0x3713a1=_0x120045;return this[_0x3713a1(0x8b1)]['push']({'callback':_0x5d44fb,'interval':_0x42d169,'lastExecuted':Date[_0x3713a1(0x9e1)]()}),()=>{const _0x4b813a=_0x3713a1;this[_0x4b813a(0x8b1)]=this[_0x4b813a(0x8b1)][_0x4b813a(0x1e1)](_0x2e0f08=>_0x2e0f08[_0x4b813a(0x314)]!==_0x5d44fb);};}[_0x120045(0x31d)](_0x33424a){const _0x144434=_0x120045;if(_0x33424a[_0x144434(0x31d)])return _0x33424a[_0x144434(0x31d)]();const _0x28303b=_0x33424a[_0x144434(0x357)](),_0x340ae4=_0x33424a[_0x144434(0x6a6)](0x1,0x1,_0x33424a[_0x144434(0x674)]);return _0x340ae4[_0x144434(0x2ca)](0x0)[0x0]=0xa,_0x28303b[_0x144434(0x58c)]=_0x340ae4,_0x28303b[_0x144434(0x36e)]=!0x0,_0x28303b;}}const _0x3da74f=_0x3b4ca9[_0x120045(0x188)]();class _0x176d03 extends _0x26bcdd{[_0x120045(0x654)]=_0x50ebb3();[_0x120045(0x814)]=_0x50ebb3();[_0x120045(0x425)]=_0x50ebb3();[_0x120045(0x81b)]=new Map();[_0x120045(0x7f0)]=new Map();['waitSuccess'];['messagesReceived']=0x0;[_0x120045(0x8df)]={'messages':{'total':0x0}};['bytesReceived']=0x0;[_0x120045(0x550)]=0x0;[_0x120045(0x309)]=_0x4bd61a(_0x120045(0x2f7),_0x185607[_0x120045(0x1bf)]);[_0x120045(0x1c1)](){const _0x15a8fd=_0x120045;this[_0x15a8fd(0x203)](),this['receivers'][_0x15a8fd(0x960)](),super[_0x15a8fd(0x1c1)]();}async[_0x120045(0x561)](_0x29f4d8,_0x42bc47){const _0x340e6b=_0x120045;this[_0x340e6b(0x9c4)]=_0x42bc47,this[_0x340e6b(0x203)]();const _0x163132=await this['connection'][_0x340e6b(0x489)](_0x29f4d8);this[_0x340e6b(0x133)]();const _0x197831=(0x0,_0x233c4d['v4'])();this['publishSystemMessage']({'type':_0x55ce1f[_0x340e6b(0x4ca)],'answer':_0x163132,'version':_0x42bc47,'connectionType':this[_0x340e6b(0x1f4)]},_0x197831),this[_0x340e6b(0x1f4)]===_0x289672[_0x340e6b(0x976)]&&(this['waitSuccess']=_0x3da74f[_0x340e6b(0x40c)](()=>{const _0x500f2d=_0x340e6b;this[_0x500f2d(0x152)]({'type':_0x55ce1f[_0x500f2d(0x4ca)],'answer':_0x163132,'version':_0x42bc47,'connectionType':this[_0x500f2d(0x1f4)]},_0x197831);},0x1388));}['handleSuccess'](){const _0x9d2236=_0x120045;this[_0x9d2236(0x203)]();}[_0x120045(0x826)](_0x5c6a25){const _0x5ec6a2=_0x120045;this[_0x5ec6a2(0x195)](_0x5c6a25),this['publishSystemMessage']({'type':_0x55ce1f[_0x5ec6a2(0x56c)]});}async[_0x120045(0x63e)](){const _0x1cddf9=_0x120045;this[_0x1cddf9(0xa45)]&&(await this[_0x1cddf9(0x323)]['collectReceiversStats'](this[_0x1cddf9(0x81b)],(_0x1596a5,_0x7edee4)=>{const _0x1afab8=_0x1cddf9;_0x32f846({'type':_0x55ce1f[_0x1afab8(0x43b)],'streamId':_0x7edee4,'nodeId':this[_0x1afab8(0x831)],'stats':_0x1596a5},this[_0x1afab8(0xa45)]);}),this[_0x1cddf9(0xa45)][_0x1cddf9(0x552)]({'sourceId':_0x40bfc5,'messageType':_0x435438['PeerConnection'],'content':{'type':_0x55ce1f[_0x1cddf9(0x43b)],'nodeId':this['remoteId'],'stats':{'origin':_0x40fec4['Receiver'],'timestamp':Date['now'](),'messagesReceived':this[_0x1cddf9(0x996)],'bytesReceived':this[_0x1cddf9(0x4ac)],'timeReceiving':this['timeReceiving'],'systemMessages':this['systemMessagesReceived']}}}));}[_0x120045(0x897)](_0x160404){const _0x35f549=_0x120045;return _0x4cff37[_0x35f549(0x42b)]?this[_0x35f549(0x654)][_0x35f549(0x8f0)](_0x160404):this['messageCallback'][_0x35f549(0x8f0)](_0xf375cf=>{const _0x9526d7=_0x35f549;0x0===_0xf375cf[_0x9526d7(0x4d6)]&&_0xf375cf[_0x9526d7(0x5cd)]===_0x435438[_0x9526d7(0x9a6)]&&this[_0x9526d7(0x309)][_0x9526d7(0x9e3)][_0x9526d7(0xed)](_0x9526d7(0x702)+this[_0x9526d7(0x831)],()=>_0x23c0a5(_0xf375cf)),_0x160404(_0xf375cf);});}[_0x120045(0x86b)](_0x2ac645){const _0x1b34d2=_0x120045;return this['trackCallback'][_0x1b34d2(0x8f0)](({track:_0x4020c8,stream:_0x5a1c84})=>_0x2ac645(_0x4020c8,_0x5a1c84));}[_0x120045(0x565)](_0xd5a11){const _0x5d6622=_0x120045;return this[_0x5d6622(0x425)][_0x5d6622(0x8f0)](({track:_0x2a79e3,stream:_0x736d5d})=>_0xd5a11(_0x2a79e3,_0x736d5d));}[_0x120045(0x195)](_0x551758){const _0x5c6b79=_0x120045;this[_0x5c6b79(0x203)](),this[_0x5c6b79(0x81b)][_0x5c6b79(0x311)](_0x167041=>{_0x167041['clear']();}),super[_0x5c6b79(0x195)](_0x551758);}[_0x120045(0xa35)](){const _0x13bca7=_0x120045;this[_0x13bca7(0x152)]({'type':_0x55ce1f[_0x13bca7(0x974)],'candidates':this[_0x13bca7(0x43c)],'origin':_0x40fec4[_0x13bca7(0x74c)],'version':this['currentVersion'],'connectionType':this[_0x13bca7(0x1f4)]});}[_0x120045(0x686)](){const _0x4fb2af=_0x120045;super['setupConnectionEvents'](),this[_0x4fb2af(0x323)]['onTrack']=_0x5f1dde=>{const _0x2fff74=_0x4fb2af;_0x1b1d61[_0x2fff74(0xed)](_0x185607[_0x2fff74(0x2cf)],_0x2fff74(0x41f),this[_0x2fff74(0x781)][_0x2fff74(0xd7)](),_0x5f1dde),_0x5f1dde['streams'][0x0][_0x2fff74(0x2db)]=_0x31f635=>{const _0x203d12=_0x2fff74;this[_0x203d12(0x81b)][_0x203d12(0x7e9)](_0x5f1dde[_0x203d12(0x9aa)][0x0]['id'])?.[_0x203d12(0xa10)](_0x31f635[_0x203d12(0x895)]),0x0===this[_0x203d12(0x81b)]['get'](_0x5f1dde[_0x203d12(0x9aa)][0x0]['id'])?.[_0x203d12(0x625)]&&this[_0x203d12(0x81b)][_0x203d12(0xa10)](_0x5f1dde[_0x203d12(0x9aa)][0x0]['id']),this[_0x203d12(0x425)]['publish']({'track':_0x31f635[_0x203d12(0x895)],'stream':_0x5f1dde[_0x203d12(0x9aa)][0x0]});},this[_0x2fff74(0x81b)]['has'](_0x5f1dde[_0x2fff74(0x9aa)][0x0]['id'])||this[_0x2fff74(0x81b)][_0x2fff74(0x381)](_0x5f1dde[_0x2fff74(0x9aa)][0x0]['id'],new Set()),this[_0x2fff74(0x81b)][_0x2fff74(0x7e9)](_0x5f1dde[_0x2fff74(0x9aa)][0x0]['id'])[_0x2fff74(0x532)](_0x5f1dde['track']),this[_0x2fff74(0x814)][_0x2fff74(0x552)]({'track':_0x5f1dde['track'],'stream':_0x5f1dde[_0x2fff74(0x9aa)][0x0]});},this[_0x4fb2af(0x323)]['onDataChannel']=_0x37772a=>{const _0x4b20da=_0x4fb2af;this['dataChannel']=_0x37772a[_0x4b20da(0x51a)],this['dataChannel'][_0x4b20da(0x897)]=_0xdba609=>{const _0x2b69f6=_0x4b20da;if(_0xdba609[_0x2b69f6(0x7f6)]!==_0x3f1681)this[_0x2b69f6(0xa7b)](_0xdba609[_0x2b69f6(0x7f6)]);else{if(!this[_0x2b69f6(0x785)])return void _0x1b1d61[_0x2b69f6(0x525)]('missing-datachannel',{'clusterId':this['clusterId'],'nodeId':this[_0x2b69f6(0x781)]['getId'](),'nodeType':this[_0x2b69f6(0x781)]['type'],'remoteId':this[_0x2b69f6(0x831)],'data':{'connection':_0x2b69f6(0x442)}});if(_0x2b69f6(0x69b)!==this[_0x2b69f6(0x785)][_0x2b69f6(0xe0)])return;this['dataChannel']['send']('1');}};};}['handleOnMessage'](_0x1141d8){const _0x186e7b=_0x120045;if('string'==typeof _0x1141d8&&_0x1141d8['startsWith'](_0x2f2d7d))return this[_0x186e7b(0x996)]+=0x1,this[_0x186e7b(0x4ac)]+=_0x1141d8[_0x186e7b(0x59d)],this[_0x186e7b(0x8cd)](_0x1141d8);setTimeout(()=>{const _0x2d749f=_0x186e7b,_0x2669a8=Date['now']();let _0x50163a;if((_0x1141d8 instanceof ArrayBuffer||_0x1141d8[_0x2d749f(0x59d)]<=_0x514371)&&(this[_0x2d749f(0x996)]+=0x1,this['bytesReceived']+=_0x1141d8 instanceof ArrayBuffer?_0x1141d8[_0x2d749f(0x3fd)]:_0x1141d8[_0x2d749f(0x59d)]),_0x1141d8 instanceof ArrayBuffer){const [_0x46157d,_0x3adf46]=this['splitParts'](_0x1141d8);_0x50163a=_0x46157d,_0x50163a[_0x2d749f(0x477)][_0x2d749f(0x7f6)]=_0x3adf46;}else _0x50163a=JSON[_0x2d749f(0x505)](_0x1141d8);if(0x0===_0x50163a[_0x2d749f(0x4d6)]){this['systemMessagesReceived'][_0x2d749f(0x72e)][_0x2d749f(0x384)]+=0x1;const {systemMessageType:_0xedfe0d,systemContentMessageType:_0x1e3d28}=_0x23c0a5(_0x50163a);this[_0x2d749f(0x8df)][_0xedfe0d]||(this['systemMessagesReceived'][_0xedfe0d]={[_0x1e3d28]:0x0}),this[_0x2d749f(0x8df)][_0xedfe0d][_0x1e3d28]||(this[_0x2d749f(0x8df)][_0xedfe0d][_0x1e3d28]=0x0),this[_0x2d749f(0x8df)][_0xedfe0d][_0x2d749f(0x384)]||(this[_0x2d749f(0x8df)][_0xedfe0d][_0x2d749f(0x384)]=0x0),this[_0x2d749f(0x8df)][_0xedfe0d][_0x1e3d28]+=0x1,this[_0x2d749f(0x8df)][_0xedfe0d]['total']+=0x1;}this[_0x2d749f(0x654)][_0x2d749f(0x552)](_0x50163a),this[_0x2d749f(0x550)]+=Date[_0x2d749f(0x9e1)]()-_0x2669a8;},0x0);}[_0x120045(0x8cd)](_0xea5806){const _0x18cce5=_0x120045,_0x2b58a7=_0xea5806['split'](';'),_0x4b2300=_0x2b58a7[0x1],_0x5cd0ee=parseInt(_0x2b58a7[0x2],0xa),_0x29e82e=parseInt(_0x2b58a7[0x3],0xa),_0x31b2c7=_0xea5806[_0x18cce5(0x6f2)](_0x2f2d7d+';'+_0x4b2300+';'+_0x5cd0ee+';'+_0x29e82e+';','');this[_0x18cce5(0x7f0)][_0x18cce5(0x5a8)](_0x4b2300)||this[_0x18cce5(0x7f0)]['set'](_0x4b2300,[]);const _0x169467=this[_0x18cce5(0x7f0)]['get'](_0x4b2300);_0x169467[_0x5cd0ee]=_0x31b2c7,_0x169467['length']===_0x29e82e&&(this[_0x18cce5(0xa7b)](_0x169467[_0x18cce5(0x3ec)]('')),this[_0x18cce5(0x7f0)]['delete'](_0x4b2300));}[_0x120045(0x203)](){const _0x42a0c2=_0x120045;this[_0x42a0c2(0x797)]?.(),delete this[_0x42a0c2(0x797)];}[_0x120045(0x8c5)](_0x299a75){const _0x180792=_0x120045,_0x1c9ef1=new TextDecoder()[_0x180792(0x646)](_0x299a75);return JSON[_0x180792(0x505)](_0x1c9ef1);}[_0x120045(0x6cf)](_0x3ef2e9){const _0x542118=_0x120045,_0x553545=new Uint8Array(_0x3ef2e9[_0x542118(0x334)](0x0,0x4)),_0x24f133=new Uint32Array(_0x553545['buffer'])[0x0],_0x41cee1=new Uint8Array(_0x3ef2e9[_0x542118(0x334)](0x4,0x4+_0x24f133)),_0x32ad3f=new Uint8Array(_0x3ef2e9[_0x542118(0x334)](0x4+_0x24f133));return[this['arrayBufferToObject'](_0x41cee1[_0x542118(0x58c)]),_0x32ad3f[_0x542118(0x58c)]];}}const _0x801a23=0xc350;var _0x29e37b,_0x5d00e2;!function(_0x5eddad){const _0x2d5e6e=_0x120045;_0x5eddad[_0x5eddad[_0x2d5e6e(0x8a6)]=0x0]=_0x2d5e6e(0x8a6),_0x5eddad[_0x5eddad[_0x2d5e6e(0x783)]=0x1]='Medium',_0x5eddad[_0x5eddad[_0x2d5e6e(0x10e)]=0x2]=_0x2d5e6e(0x10e);}(_0x29e37b||(_0x29e37b={}));class _0x5f0f55 extends _0x26bcdd{[_0x120045(0x461)];['maxBpp'];['senders']=new Map();['heartbeatUnsubscriber'];[_0x120045(0x316)];[_0x120045(0x2ed)];['isReconnecting']=!0x1;[_0x120045(0xa69)];[_0x120045(0x50c)];[_0x120045(0x802)];[_0x120045(0x482)]=function(e,t=_0x29e37b,s=!0x1){const _0xd17110=_0x120045;let n=!0x1;const i=[];async function a(){const _0x376797=a0_0x573a;if(!n){for(n=!0x0;i[_0x376797(0xf1)](e=>e[_0x376797(0x79f)]);){let t,n=0x0;for(const [e,s]of i['entries']())if(t=s[_0x376797(0x9ea)](),n=e,t)break;if(t)try{if(e instanceof _0x52277c&&e['call'](t),e instanceof _0x1414c2&&await e[_0x376797(0x706)](t),i[_0x376797(0x334)](-0x1)[_0x376797(0xf1)](e=>e[_0x376797(0x79f)]))continue;const s=i[_0x376797(0x59d)]-0x1;n===s&&i[s][_0x376797(0x79f)]&&await _0x3da74f[_0x376797(0x22c)](0x0);}catch(a){s?i[n][_0x376797(0xdc)](t,!0x1):i[n][_0x376797(0x9b6)](t,!0x1),await e[_0x376797(0x22c)]();}}n=!0x1;}}return Object['values'](t)[_0xd17110(0x311)](e=>{const _0x2e3f82=_0xd17110;_0x2e3f82(0x630)!=typeof e&&(i[e]=_0x45c226(a));}),{'queues':i};}(new _0x52277c(this[_0x120045(0x8af)][_0x120045(0xa66)](this),this[_0x120045(0x139)][_0x120045(0xa66)](this)));[_0x120045(0x171)]=0x0;[_0x120045(0x88e)]=0x0;[_0x120045(0xa5c)]=0x0;[_0x120045(0x46b)]=0x0;[_0x120045(0x320)];[_0x120045(0x309)]=_0x4bd61a(_0x120045(0x7c8),_0x185607['SenderSendMessage']);constructor(_0x1ba058,_0x2e78f7,_0x1336da,_0x5ac7a5,_0x4fd819,_0x14da83,_0x2e1e6a,_0x4f5a74){const _0x30a87d=_0x120045;super(_0x1ba058,_0x2e78f7,_0x1336da,_0x5ac7a5,_0x4fd819,_0x4f5a74),this['maxFps']=_0x14da83,this[_0x30a87d(0x3ca)]=_0x2e1e6a;}[_0x120045(0x1c1)](){const _0x2d7e8e=_0x120045;this[_0x2d7e8e(0xf8)](),this['clearHeartbeat'](),delete this[_0x2d7e8e(0x2ed)],this['clearRestartTimeout'](),this['clearConnectionTimeout'](),this['clearWaitAnswer'](),this[_0x2d7e8e(0x77f)][_0x2d7e8e(0x960)](),this['isReconnecting']=!0x1,this[_0x2d7e8e(0x482)][_0x2d7e8e(0x8e5)]['forEach'](_0x43cc9d=>_0x43cc9d['clear']()),this[_0x2d7e8e(0x5c3)](),super['close']();}[_0x120045(0x6d4)](){const _0x1bccdc=_0x120045;return!!this[_0x1bccdc(0x2ed)]&&super['isConnected']()&&Date[_0x1bccdc(0x9e1)]()-this[_0x1bccdc(0x2ed)]<0x3a98;}async['collectStats'](){const _0x1a86aa=_0x120045;this[_0x1a86aa(0xa45)]&&(await this[_0x1a86aa(0x323)][_0x1a86aa(0x2ac)](this['senders'],(_0x57f59b,_0x360806)=>{const _0x191980=_0x1a86aa;_0x32f846({'type':_0x55ce1f[_0x191980(0x43b)],'streamId':_0x360806,'nodeId':this[_0x191980(0x831)],'stats':_0x57f59b},this[_0x191980(0xa45)]);}),this['systemTopic']['publish']({'sourceId':_0x40bfc5,'messageType':_0x435438['PeerConnection'],'content':{'type':_0x55ce1f[_0x1a86aa(0x43b)],'nodeId':this['remoteId'],'stats':{'origin':_0x40fec4[_0x1a86aa(0x9a8)],'timestamp':Date[_0x1a86aa(0x9e1)](),'messagesSent':this[_0x1a86aa(0x171)],'bytesSent':this[_0x1a86aa(0x88e)],'timeSending':this['timeSending'],'roundTripTime':this[_0x1a86aa(0x46b)]}}}));}async[_0x120045(0xf5)](_0x3dfb55){const _0x5e7da7=_0x120045;_0x1b1d61['log'](_0x185607['Connection'],_0x5e7da7(0x566),this[_0x5e7da7(0x781)]['getId'](),this[_0x5e7da7(0x831)]),this['clearRestartTimeout'](),this[_0x5e7da7(0x7f4)](),this[_0x5e7da7(0x362)](),this[_0x5e7da7(0xa69)]=setTimeout(()=>{const _0x189dc0=_0x5e7da7;this[_0x189dc0(0x5c0)]();},0x7530),this[_0x5e7da7(0x785)]||(this[_0x5e7da7(0x785)]=this['connection'][_0x5e7da7(0x612)](_0x5e7da7(0x7f6)),this['dataChannel']['bufferedAmountLowThreshold']=_0x44c6d1,this[_0x5e7da7(0x785)][_0x5e7da7(0x879)]=()=>{const _0xaffc28=_0x5e7da7;this[_0xaffc28(0x320)]=setTimeout(()=>{const _0x280207=_0xaffc28;delete this[_0x280207(0x320)],['connecting',_0x280207(0x69b)]['includes'](this[_0x280207(0x785)]?.[_0x280207(0xe0)]??'')||this[_0x280207(0x5c0)]();},0xfa);});const _0x52f487=await this[_0x5e7da7(0x323)][_0x5e7da7(0xf5)](_0x3dfb55);this[_0x5e7da7(0x2ed)]||(this[_0x5e7da7(0x2ed)]=Date[_0x5e7da7(0x9e1)]());const _0x4385b2=(0x0,_0x233c4d['v4'])();this[_0x5e7da7(0x152)]({'type':_0x55ce1f['Offer'],'offer':_0x52f487,'version':this['currentVersion'],'connectionType':this[_0x5e7da7(0x1f4)]},_0x4385b2),this[_0x5e7da7(0x1f4)]===_0x289672[_0x5e7da7(0x976)]&&(this['waitAnswer']=_0x3da74f[_0x5e7da7(0x40c)](()=>{const _0xe31c5d=_0x5e7da7;this[_0xe31c5d(0x152)]({'type':_0x55ce1f[_0xe31c5d(0x4ab)],'offer':_0x52f487,'version':this[_0xe31c5d(0x9c4)],'connectionType':this[_0xe31c5d(0x1f4)]},_0x4385b2);},0x1388));}async[_0x120045(0x5da)](_0x6564de,_0x4cd7f6){const _0x442bc1=_0x120045;if(_0x4cd7f6===this[_0x442bc1(0x9c4)]){this['clearWaitAnswer']();try{await this['connection']['handleAnswer'](_0x6564de,this[_0x442bc1(0xf5)][_0x442bc1(0xa66)](this)),this[_0x442bc1(0x133)](),this[_0x442bc1(0x7f4)](),this['startHeartbeat']();}catch(_0x1c6349){this[_0x442bc1(0x5c0)]();}}}['send'](_0x22b522){const _0x242632=_0x120045;if(!this[_0x242632(0x785)])throw new _0x4a916f(_0x4a916f[_0x242632(0xa30)][_0x242632(0x9dd)],{'message':_0x242632(0x143),'localId':this[_0x242632(0x781)][_0x242632(0xd7)](),'remoteId':this[_0x242632(0x831)],'eventMessage':_0x22b522});if(_0x242632(0x69b)!==this[_0x242632(0x785)]['state'])throw new _0x4a916f(_0x4a916f[_0x242632(0xa30)][_0x242632(0x9dd)],{'message':_0x242632(0x655),'localId':this['localNode']['getId'](),'remoteId':this[_0x242632(0x831)],'eventMessage':_0x22b522});let _0x4d2281;if(_0x22b522[_0x242632(0x477)]['data']instanceof ArrayBuffer){const _0x385f75=_0x22b522['content'][_0x242632(0x7f6)];_0x22b522={..._0x22b522,'content':{..._0x22b522[_0x242632(0x477)],'data':void 0x0}},_0x4d2281=this[_0x242632(0x856)](_0x22b522,_0x385f75);}else _0x4d2281=JSON[_0x242632(0x4e9)](_0x22b522);if(_0x242632(0x630)==typeof _0x4d2281&&_0x4d2281['length']>_0x514371)return void this[_0x242632(0x376)](_0x22b522,_0x4d2281);0x0===_0x22b522['topicLabel']&&_0x22b522[_0x242632(0x5cd)]===_0x435438[_0x242632(0x9a6)]&&this[_0x242632(0x309)][_0x242632(0x9e3)][_0x242632(0x648)](()=>_0x1b1d61[_0x242632(0xed)](_0x185607[_0x242632(0x527)],_0x242632(0x60d),this[_0x242632(0x831)],_0x23c0a5(_0x22b522)),void 0x0);const _0x43421c=0x0===_0x22b522[_0x242632(0x4d6)]&&[_0x435438[_0x242632(0x9d2)],_0x435438['PeerConnection']][_0x242632(0x82f)](_0x22b522[_0x242632(0x5cd)])?_0x29e37b[_0x242632(0x8a6)]:_0x22b522 instanceof ArrayBuffer?_0x29e37b['Low']:_0x29e37b[_0x242632(0x783)];this[_0x242632(0x8e2)](_0x4d2281,_0x43421c);}['addTrack'](_0x48f834,_0x5f0638,_0x3db2ff,_0x4d3c85){const _0x4228c8=_0x120045,_0x25dbf2=(_0x52eed5=this[_0x4228c8(0x461)],_0x366015=this['maxBpp'],Math[_0x4228c8(0x2f2)](0xe1000*_0x52eed5*_0x366015));var _0x52eed5,_0x366015;const _0x56e19b=this['senders'][_0x4228c8(0x7e9)](_0x5f0638['id'])||{'stream':_0x5f0638,'priority':_0x3db2ff,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x25dbf2,'maxBitrate':_0x25dbf2,'framerate':this[_0x4228c8(0x461)],'maxFramerate':this['maxFps'],'tracks':{},'params':_0x4d3c85},_0xec45f7=_0x56e19b[_0x4228c8(0x68d)][_0x48f834['kind']]||{'track':_0x48f834};if(_0xec45f7[_0x4228c8(0x409)]?(_0xec45f7[_0x4228c8(0x895)]=_0x48f834,this[_0x4228c8(0x323)][_0x4228c8(0xa2f)](_0x48f834,_0xec45f7[_0x4228c8(0x409)])):_0xec45f7[_0x4228c8(0x409)]=this[_0x4228c8(0x323)]['addTrack'](_0x48f834,_0x5f0638),_0x56e19b[_0x4228c8(0x68d)][_0x48f834[_0x4228c8(0x74a)]]=_0xec45f7,_0x4d3c85&&(_0x56e19b[_0x4228c8(0x3a0)]=_0x4d3c85),_0x4d3c85&&_0x4228c8(0x7b7)===_0x4d3c85['kind']&&_0x4d3c85[_0x4228c8(0x85f)]&&_0x4d3c85['maxResolution']&&(_0x56e19b['resolutionScale']=this['getResolutionScale'](_0x4d3c85[_0x4228c8(0x85f)],_0x4d3c85['maxResolution']),_0x56e19b[_0x4228c8(0x10d)]=_0x56e19b['resolutionScale'],_0x56e19b[_0x4228c8(0x68d)][_0x4228c8(0x7b7)]&&_0x56e19b['tracks'][_0x4228c8(0x7b7)][_0x4228c8(0x409)])){const _0x17aaa9=_0x56e19b[_0x4228c8(0x68d)][_0x4228c8(0x7b7)][_0x4228c8(0x409)];this['connection'][_0x4228c8(0x925)](_0x17aaa9,Math[_0x4228c8(0x2f2)](0xa*_0x56e19b[_0x4228c8(0x33f)])/0xa,_0x56e19b[_0x4228c8(0x5b6)],_0x56e19b[_0x4228c8(0x4b7)],_0x56e19b[_0x4228c8(0x716)]);}this['senders'][_0x4228c8(0x381)](_0x5f0638['id'],_0x56e19b);}['setPriority'](_0x52759e,_0x4e2245){const _0xc2a1d=_0x120045,_0x557577=this[_0xc2a1d(0x77f)][_0xc2a1d(0x7e9)](_0x52759e['id']);if(_0x557577&&_0x557577[_0xc2a1d(0x716)]!==_0x4e2245&&(_0x557577['priority']=_0x4e2245,_0x557577['tracks'][_0xc2a1d(0x7b7)]&&_0x557577[_0xc2a1d(0x68d)][_0xc2a1d(0x7b7)]['sender'])){const _0x405a0e=_0x557577[_0xc2a1d(0x68d)][_0xc2a1d(0x7b7)]['sender'];this[_0xc2a1d(0x323)][_0xc2a1d(0x925)](_0x405a0e,Math[_0xc2a1d(0x2f2)](0xa*_0x557577[_0xc2a1d(0x33f)])/0xa,_0x557577['framerate'],_0x557577[_0xc2a1d(0x4b7)],_0x557577[_0xc2a1d(0x716)]);}}['setParams'](_0x49bd57,_0x221b85){const _0x1fead7=_0x120045,_0x311e81=this[_0x1fead7(0x77f)]['get'](_0x49bd57['id']);if(_0x311e81){if(_0x311e81[_0x1fead7(0x3a0)]=_0x221b85,_0x221b85&&'video'===_0x221b85[_0x1fead7(0x74a)]&&_0x221b85[_0x1fead7(0x85f)]&&_0x221b85[_0x1fead7(0x8f3)]){if(_0x311e81[_0x1fead7(0x10d)]=this[_0x1fead7(0x869)](_0x221b85[_0x1fead7(0x85f)],_0x221b85['maxResolution']),_0x311e81[_0x1fead7(0x33f)]<_0x311e81[_0x1fead7(0x10d)]&&(_0x311e81[_0x1fead7(0x33f)]=_0x311e81[_0x1fead7(0x10d)]),_0x311e81[_0x1fead7(0x68d)][_0x1fead7(0x7b7)]&&_0x311e81[_0x1fead7(0x68d)][_0x1fead7(0x7b7)][_0x1fead7(0x409)]){const _0x2693c3=_0x311e81['tracks'][_0x1fead7(0x7b7)][_0x1fead7(0x409)];this[_0x1fead7(0x323)][_0x1fead7(0x925)](_0x2693c3,Math['floor'](0xa*_0x311e81[_0x1fead7(0x33f)])/0xa,_0x311e81['framerate'],_0x311e81[_0x1fead7(0x4b7)],_0x311e81['priority']);}this[_0x1fead7(0xf8)](),this['setUpgradeTimeout']();}this[_0x1fead7(0x77f)][_0x1fead7(0x381)](_0x49bd57['id'],_0x311e81);}}[_0x120045(0x269)](_0x41e62f,_0x3b9564){const _0x51c01a=_0x120045,_0x22e2e6=this['senders']['get'](_0x3b9564['id']);if(_0x22e2e6){const _0x267cf6=_0x22e2e6[_0x51c01a(0x68d)][_0x41e62f[_0x51c01a(0x74a)]];_0x267cf6&&(_0x267cf6[_0x51c01a(0x409)]&&this['connection'][_0x51c01a(0x269)](_0x267cf6['sender']),_0x267cf6[_0x51c01a(0x895)]=void 0x0);}}[_0x120045(0x16a)](_0x5b3f72){const _0xced9cb=_0x120045;this['clearUpgradeTimeout']();const _0x6d9a5c=function(_0x189a2d,_0x569d09){const _0x51edf9=a0_0x573a;return _0x189a2d[_0x51edf9(0x184)]((_0x798dab,_0x13472e)=>_0x569d09[_0x51edf9(0x47d)]===_0x6ff4f0['Downgrade']?_0x13472e[_0x51edf9(0x716)]-_0x798dab['priority']:_0x798dab[_0x51edf9(0x716)]-_0x13472e[_0x51edf9(0x716)])[_0x51edf9(0x999)](_0x45c848=>function(_0x353335,_0x206ca4){const _0x153f57=_0x51edf9;if(_0x206ca4['action']===_0x6ff4f0[_0x153f57(0x99b)]){if(_0x206ca4[_0x153f57(0x571)]===_0x31fca9[_0x153f57(0x668)])return _0x353335['resolutionScale']<0x4||_0x353335[_0x153f57(0xcb)]>0xf;if(_0x206ca4[_0x153f57(0x571)]===_0x31fca9[_0x153f57(0x860)])return _0x353335[_0x153f57(0x443)]>_0x801a23;}return _0x353335[_0x153f57(0x33f)]>_0x353335[_0x153f57(0x10d)]||_0x353335[_0x153f57(0x5b6)]<_0x353335[_0x153f57(0xcb)]||_0x353335[_0x153f57(0x4b7)]<_0x353335[_0x153f57(0x443)];}(_0x45c848,_0x569d09));}(Array[_0xced9cb(0x7f9)](this[_0xced9cb(0x77f)]['values']()),_0x5b3f72);if(_0x6d9a5c&&(function(_0xea0e4d,_0xfb80c5){const _0x219bb0=_0xced9cb;_0xea0e4d[_0x219bb0(0x68d)]['video']&&_0xea0e4d[_0x219bb0(0x68d)][_0x219bb0(0x7b7)][_0x219bb0(0x409)]&&(_0xea0e4d[_0x219bb0(0x33f)]=function(_0x5cc87f,_0x1a7bd,_0x5ec63e){const _0x284667=_0x219bb0;switch(_0x5ec63e[_0x284667(0x47d)]){case _0x6ff4f0[_0x284667(0x99b)]:_0x5ec63e['component']===_0x31fca9[_0x284667(0x668)]&&(_0x5cc87f+=0.5)>0x4&&(_0x5cc87f=0x4);break;case _0x6ff4f0[_0x284667(0x67e)]:(_0x5cc87f-=0.5)<_0x1a7bd&&(_0x5cc87f=_0x1a7bd);}return _0x5cc87f;}(_0xea0e4d[_0x219bb0(0x33f)],_0xea0e4d[_0x219bb0(0x10d)],_0xfb80c5),_0xea0e4d['framerate']=function(_0x2175e5,_0x2fe60b,_0x115d3b){const _0x1266e0=_0x219bb0;switch(_0x115d3b['action']){case _0x6ff4f0[_0x1266e0(0x99b)]:_0x115d3b[_0x1266e0(0x571)]===_0x31fca9[_0x1266e0(0x668)]&&(_0x2175e5-=0x3)<0xf&&(_0x2175e5=0xf);break;case _0x6ff4f0[_0x1266e0(0x67e)]:(_0x2175e5+=0x3)>_0x2fe60b&&(_0x2175e5=_0x2fe60b);}return _0x2175e5;}(_0xea0e4d[_0x219bb0(0x5b6)],_0xea0e4d[_0x219bb0(0xcb)],_0xfb80c5),_0xea0e4d['bitrate']=function(_0x3d29c6,_0x55f334,_0x37bdb3){const _0x591d41=_0x219bb0;switch(_0x37bdb3[_0x591d41(0x47d)]){case _0x6ff4f0[_0x591d41(0x99b)]:_0x37bdb3[_0x591d41(0x571)]===_0x31fca9[_0x591d41(0x860)]&&(_0x3d29c6*=0.75)<_0x801a23&&(_0x3d29c6=_0x801a23);break;case _0x6ff4f0[_0x591d41(0x67e)]:(_0x3d29c6*=1.25)>_0x55f334&&(_0x3d29c6=_0x55f334);}return _0x3d29c6;}(_0xea0e4d[_0x219bb0(0x4b7)],_0xea0e4d[_0x219bb0(0x443)],_0xfb80c5));}(_0x6d9a5c,_0x5b3f72),_0x6d9a5c['tracks'][_0xced9cb(0x7b7)]&&_0x6d9a5c['tracks']['video'][_0xced9cb(0x409)])){const _0x37a25a=_0x6d9a5c[_0xced9cb(0x68d)]['video']['sender'];this[_0xced9cb(0x323)][_0xced9cb(0x925)](_0x37a25a,Math[_0xced9cb(0x2f2)](0xa*_0x6d9a5c[_0xced9cb(0x33f)])/0xa,_0x6d9a5c['framerate'],_0x6d9a5c['bitrate'],_0x6d9a5c[_0xced9cb(0x716)]);}(_0x6d9a5c||_0x5b3f72['action']===_0x6ff4f0[_0xced9cb(0x99b)])&&this[_0xced9cb(0x326)]();}[_0x120045(0x900)](){const _0x2dcad9=_0x120045;return this[_0x2dcad9(0x482)]['queues'][_0x2dcad9(0x181)]((_0x14ab69,_0x1020c6)=>_0x14ab69+_0x1020c6['size'],0x0)*_0x498039;}[_0x120045(0x5b9)](){const _0x4e9a4f=_0x120045;return this[_0x4e9a4f(0x785)]?.[_0x4e9a4f(0x6e7)]??0x0;}['resetConnection'](){const _0x36fe70=_0x120045;super[_0x36fe70(0x195)](),this[_0x36fe70(0x5c3)](),this['clearWaitAnswer'](),this[_0x36fe70(0x77f)][_0x36fe70(0x311)](_0xa3a7d6=>{const _0x1e2ac4=_0x36fe70;_0xa3a7d6[_0x1e2ac4(0x68d)]['video']&&(_0xa3a7d6['tracks']['video'][_0x1e2ac4(0x409)]=void 0x0),_0xa3a7d6[_0x1e2ac4(0x68d)][_0x1e2ac4(0x28e)]&&(_0xa3a7d6[_0x1e2ac4(0x68d)][_0x1e2ac4(0x28e)][_0x1e2ac4(0x409)]=void 0x0);}),this[_0x36fe70(0x5d2)]=!0x0;}async[_0x120045(0x139)](){return new Promise(async _0x25c8d4=>{const _0x1f3c2e=a0_0x573a;if(!this['dataChannel']||'open'!==this[_0x1f3c2e(0x785)]['state'])return await _0x3da74f[_0x1f3c2e(0x22c)](0x64),void _0x25c8d4();this[_0x1f3c2e(0x785)]['bufferedAmount']<_0x44c6d1?_0x25c8d4():this[_0x1f3c2e(0x785)]['onBufferedAmountLow']=()=>{const _0x439abb=_0x1f3c2e;this[_0x439abb(0x785)]&&(this['dataChannel'][_0x439abb(0x271)]=null),_0x25c8d4();};});}async['sendChunked'](_0x1f93cb,_0xb310e7){const _0x59ad70=_0x120045,_0x3e0109=[];for(let _0x187dad=0x0;_0x187dad<_0xb310e7[_0x59ad70(0x59d)];_0x187dad+=_0x514371)_0x3e0109['push'](_0xb310e7[_0x59ad70(0x334)](_0x187dad,_0x187dad+_0x514371));for(const _0x42bfd2 of _0x3e0109){for(;this[_0x59ad70(0x482)][_0x59ad70(0x8e5)][_0x29e37b[_0x59ad70(0x10e)]][_0x59ad70(0x625)]>0x1;)await _0x3da74f[_0x59ad70(0x22c)](0x64);this[_0x59ad70(0x8e2)](_0x2f2d7d+';'+_0x1f93cb['uuid']+';'+_0x3e0109[_0x59ad70(0xe6)](_0x42bfd2)+';'+_0x3e0109[_0x59ad70(0x59d)]+';'+_0x42bfd2,_0x29e37b[_0x59ad70(0x10e)]);}}async[_0x120045(0x8e2)](_0x2a1de4,_0x5112ef){const _0x4f7a80=_0x120045;_0x2a1de4===_0x3f1681?this[_0x4f7a80(0x482)]['queues'][_0x5112ef][_0x4f7a80(0x79f)]?.[_0x4f7a80(0x570)]!==_0x3f1681&&this[_0x4f7a80(0x482)][_0x4f7a80(0x8e5)][_0x5112ef][_0x4f7a80(0x9b6)](_0x2a1de4):this[_0x4f7a80(0x482)][_0x4f7a80(0x8e5)][_0x5112ef][_0x4f7a80(0xdc)](_0x2a1de4);}[_0x120045(0x8af)](_0x57f803){const _0x251cad=_0x120045;if(!this['dataChannel']||_0x251cad(0x69b)!==this[_0x251cad(0x785)]['state'])throw new Error(_0x251cad(0x7be));if(this[_0x251cad(0x785)][_0x251cad(0x6e7)]>=0x600000)throw new Error(_0x251cad(0xfd));const _0x37690e=Date['now']();_0x57f803!==_0x3f1681&&(this[_0x251cad(0x171)]+=0x1,this[_0x251cad(0x88e)]+=_0x57f803 instanceof ArrayBuffer?_0x57f803['byteLength']:_0x57f803['length']);try{ArrayBuffer,this[_0x251cad(0x785)][_0x251cad(0x593)](_0x57f803);}catch(_0x123d7a){throw console[_0x251cad(0x525)]('DataChannel\x20send\x20error',_0x123d7a),_0x123d7a;}this[_0x251cad(0xa5c)]+=Date[_0x251cad(0x9e1)]()-_0x37690e;}[_0x120045(0x9ac)](){const _0x103110=_0x120045;this[_0x103110(0x7db)]&&this[_0x103110(0x614)]();let _0x410eab=!0x0,_0x4c3176=Date[_0x103110(0x9e1)]();this[_0x103110(0x2ed)]=Date[_0x103110(0x9e1)](),this['dataChannel']['onMessage']=_0x4dc9af=>{const _0x2e419e=_0x103110;'1'===_0x4dc9af[_0x2e419e(0x7f6)]&&(this['roundTripTime']=Date[_0x2e419e(0x9e1)]()-_0x4c3176,_0x410eab&&this['publishSystemMessage']({'type':_0x55ce1f[_0x2e419e(0x728)]}),_0x410eab=!0x1,this[_0x2e419e(0x2ed)]=Date[_0x2e419e(0x9e1)](),this[_0x2e419e(0x5d2)]&&(this[_0x2e419e(0x5d2)]=!0x1,this[_0x2e419e(0x6e3)]()));},this[_0x103110(0x7db)]=_0x3da74f['setInterval'](()=>{const _0x594d75=_0x103110;_0x4c3176=Date[_0x594d75(0x9e1)](),this[_0x594d75(0x8e2)](_0x3f1681,_0x29e37b[_0x594d75(0x8a6)]),Date['now']()-this[_0x594d75(0x2ed)]>(_0x410eab?0x15f90:0x3a98)&&this['handleDisconnect']();},0xbb8);}[_0x120045(0x6e3)](){const _0x1dcc6e=_0x120045;this['senders'][_0x1dcc6e(0x311)](_0x19f2e1=>{const _0x3e0e4b=_0x1dcc6e;_0x19f2e1[_0x3e0e4b(0x68d)][_0x3e0e4b(0x7b7)]&&_0x19f2e1[_0x3e0e4b(0x68d)][_0x3e0e4b(0x7b7)]['track']&&!_0x19f2e1[_0x3e0e4b(0x68d)][_0x3e0e4b(0x7b7)][_0x3e0e4b(0x409)]&&(_0x19f2e1[_0x3e0e4b(0x68d)]['video'][_0x3e0e4b(0x409)]=this['connection'][_0x3e0e4b(0x864)](_0x19f2e1[_0x3e0e4b(0x68d)]['video'][_0x3e0e4b(0x895)],_0x19f2e1[_0x3e0e4b(0x815)])),_0x19f2e1[_0x3e0e4b(0x68d)][_0x3e0e4b(0x28e)]&&_0x19f2e1[_0x3e0e4b(0x68d)][_0x3e0e4b(0x28e)][_0x3e0e4b(0x895)]&&!_0x19f2e1[_0x3e0e4b(0x68d)][_0x3e0e4b(0x28e)][_0x3e0e4b(0x409)]&&(_0x19f2e1[_0x3e0e4b(0x68d)][_0x3e0e4b(0x28e)]['sender']=this[_0x3e0e4b(0x323)][_0x3e0e4b(0x864)](_0x19f2e1[_0x3e0e4b(0x68d)][_0x3e0e4b(0x28e)][_0x3e0e4b(0x895)],_0x19f2e1[_0x3e0e4b(0x815)]));});}['sendIceCandidates'](){const _0x4cc118=_0x120045;this[_0x4cc118(0x152)]({'type':_0x55ce1f[_0x4cc118(0x974)],'candidates':this[_0x4cc118(0x43c)],'origin':_0x40fec4['Sender'],'version':this[_0x4cc118(0x9c4)],'connectionType':this['connectionType']});}[_0x120045(0x686)](){const _0x1cb185=_0x120045;super['setupConnectionEvents'](),this[_0x1cb185(0x323)]['onHandshakeStateChange']=()=>{const _0x364af3=_0x1cb185;if(_0x364af3(0x165)===this[_0x364af3(0x323)][_0x364af3(0x1bd)]){_0x1b1d61['log'](_0x185607[_0x364af3(0xa2a)],'iceConnectionState\x20failed',this[_0x364af3(0x781)][_0x364af3(0xd7)](),this[_0x364af3(0x831)]);try{if(this['connection']['canRestartHandshake'])return void this[_0x364af3(0x323)][_0x364af3(0x95a)]();}catch(_0x50b25a){}this['createOffer']({'handshakeRestart':!0x0});}},this['connection'][_0x1cb185(0x556)]=()=>{const _0x4216b4=_0x1cb185;'disconnected'!==this[_0x4216b4(0x323)][_0x4216b4(0x4cc)]&&_0x4216b4(0x165)!==this[_0x4216b4(0x323)]['connectionState']||this[_0x4216b4(0x5c0)]();};}['handleDisconnect'](){const _0x3643e3=_0x120045;this[_0x3643e3(0x614)](),this[_0x3643e3(0x6e5)](),this['clearConnectionTimeout'](),_0x1b1d61[_0x3643e3(0x87e)](_0x3643e3(0x5f0),{'clusterId':this[_0x3643e3(0xea)],'nodeId':this['localNode'][_0x3643e3(0xd7)](),'nodeType':this['localNode'][_0x3643e3(0x7f3)],'remoteId':this['remoteId'],'data':{'connectionType':this[_0x3643e3(0x1f4)],'connectionState':this[_0x3643e3(0x323)][_0x3643e3(0x4cc)],'iceConnectionState':this[_0x3643e3(0x323)][_0x3643e3(0x1bd)],'signalingState':this[_0x3643e3(0x323)][_0x3643e3(0x2e1)],'readyState':this['dataChannel']?.['state']||'','lastHeartbeat':this[_0x3643e3(0x2ed)]?Date['now']()-this[_0x3643e3(0x2ed)]:'','retryQueue':this[_0x3643e3(0x482)]}}),(this[_0x3643e3(0x2ed)]&&Date[_0x3643e3(0x9e1)]()-this[_0x3643e3(0x2ed)]>0xea60)??0x1?this[_0x3643e3(0xa45)][_0x3643e3(0x552)]({'sourceId':this['remoteId'],'destinationIds':[this[_0x3643e3(0x781)][_0x3643e3(0xd7)]()],'messageType':_0x435438['PeerConnection'],'content':{'type':_0x55ce1f[_0x3643e3(0x64b)]}}):(this[_0x3643e3(0x195)](),this['publishSystemMessage']({'type':_0x55ce1f[_0x3643e3(0x830)],'version':this[_0x3643e3(0x9c4)],'connectionType':this[_0x3643e3(0x1f4)]}),this[_0x3643e3(0x50c)]=setTimeout(()=>{const _0x211619=_0x3643e3;this[_0x211619(0x5c0)]();},0x7530));}[_0x120045(0x614)](){const _0x496a25=_0x120045;this['heartbeatUnsubscriber']?.(),delete this[_0x496a25(0x7db)];}[_0x120045(0x7f4)](){const _0x3f6735=_0x120045;this[_0x3f6735(0xa69)]&&(clearTimeout(this[_0x3f6735(0xa69)]),delete this['connectionTimeout']);}[_0x120045(0x6e5)](){const _0x5d25c9=_0x120045;this[_0x5d25c9(0x50c)]&&(clearTimeout(this[_0x5d25c9(0x50c)]),delete this[_0x5d25c9(0x50c)]);}['clearUpgradeTimeout'](){const _0x791fbf=_0x120045;this['upgradeTimeout']&&(clearTimeout(this[_0x791fbf(0x802)]),delete this[_0x791fbf(0x802)]);}[_0x120045(0x326)](){const _0x2be5eb=_0x120045;this[_0x2be5eb(0x802)]=setTimeout(()=>{const _0x308df6=_0x2be5eb;this[_0x308df6(0x16a)]({'type':_0x266f35[_0x308df6(0x8f1)],'action':_0x6ff4f0['Upgrade']});},0x3a98);}['getResolutionScale'](_0x4a91f8,_0x490ca2){const _0x4133ba=_0x120045,_0x41a529=Math[_0x4133ba(0x6db)](_0x4a91f8[_0x4133ba(0x5c6)]/_0x490ca2[_0x4133ba(0x5c6)],_0x4a91f8['height']/_0x490ca2[_0x4133ba(0xa0b)]);return Math[_0x4133ba(0x3ac)](Math['max'](_0x41a529,0x1),0x4);}[_0x120045(0x362)](){const _0x343016=_0x120045;this[_0x343016(0x316)]?.(),delete this[_0x343016(0x316)];}[_0x120045(0x5c3)](){const _0x5414b9=_0x120045;this[_0x5414b9(0x320)]&&(clearTimeout(this[_0x5414b9(0x320)]),delete this[_0x5414b9(0x320)]);}[_0x120045(0x4a6)](_0x64d7b0){const _0x5cd5fd=_0x120045,_0x4df35c=JSON['stringify'](_0x64d7b0);return new TextEncoder()[_0x5cd5fd(0xa74)](_0x4df35c)[_0x5cd5fd(0x58c)];}[_0x120045(0x856)](_0x356b14,_0x5c1844){const _0x2847bb=_0x120045,_0xadd4fe=this['objectToArrayBuffer'](_0x356b14),_0x52b908=new Uint8Array(0x4),_0x2ea1de=new Uint8Array(_0xadd4fe),_0x335949=new Uint8Array(_0x5c1844);_0x52b908['set'](new Uint8Array(new Uint32Array([_0x2ea1de[_0x2847bb(0x59d)]])['buffer']));const _0x2a0b7c=new Uint8Array(0x4+_0x2ea1de['length']+_0x335949['length']);return _0x2a0b7c['set'](_0x52b908),_0x2a0b7c['set'](_0x2ea1de,0x4),_0x2a0b7c[_0x2847bb(0x381)](_0x335949,0x4+_0x2ea1de[_0x2847bb(0x59d)]),_0x2a0b7c['buffer'];}}class _0x5262c4 extends _0xc8531f{[_0x120045(0x424)];[_0x120045(0x1f4)];['maxFps'];[_0x120045(0x3ca)];[_0x120045(0x4d0)];[_0x120045(0x633)];[_0x120045(0x7e0)];[_0x120045(0x7b3)]=[];[_0x120045(0x923)]=_0x29f207();['trackListeners']=_0x29f207();[_0x120045(0x832)]=_0x29f207();[_0x120045(0x28b)]=[];[_0x120045(0xa45)];['dataTopics']=new Map();[_0x120045(0x231)]=new Map();[_0x120045(0xa09)]=new Map();[_0x120045(0x644)]=new Map();['successNotified']=!0x1;constructor(_0x213f83,_0x1215ea,_0x1364d4,_0x5ce657,_0x311370,_0x37f97c,_0xe662c9,_0x152e2a){const _0x37daa3=_0x120045;super(_0x213f83,_0x1215ea,_0x1364d4),this[_0x37daa3(0x424)]=_0x5ce657,this[_0x37daa3(0x1f4)]=_0x311370,this[_0x37daa3(0x461)]=_0x37f97c,this[_0x37daa3(0x3ca)]=_0xe662c9,this['connectionConstructor']=_0x152e2a;}['registerPublisher'](_0x47352b){const _0x213f31=_0x120045;switch(_0x47352b[_0x213f31(0x729)]()){case _0x4e2564['ContentType']['Data']:case _0x4e2564[_0x213f31(0x8be)][_0x213f31(0x348)]:case _0x4e2564[_0x213f31(0x8be)][_0x213f31(0x894)]:case _0x4e2564['ContentType'][_0x213f31(0x8bf)]:case _0x4e2564[_0x213f31(0x8be)][_0x213f31(0x81e)]:case _0x4e2564[_0x213f31(0x8be)]['VectorDatabase']:case _0x4e2564[_0x213f31(0x8be)][_0x213f31(0x803)]:case _0x4e2564['ContentType'][_0x213f31(0x322)]:this[_0x213f31(0xa25)][_0x213f31(0x381)](_0x47352b[_0x213f31(0x8a0)](),_0x47352b);break;case _0x4e2564[_0x213f31(0x8be)][_0x213f31(0x9fc)]:this[_0x213f31(0xa09)][_0x213f31(0x381)](_0x47352b[_0x213f31(0x8a0)](),_0x47352b);}}[_0x120045(0x564)](_0x191db9){const _0x3124a2=_0x120045;switch(_0x191db9['getContentType']()){case _0x4e2564[_0x3124a2(0x8be)]['Data']:case _0x4e2564[_0x3124a2(0x8be)]['PubSub']:case _0x4e2564['ContentType'][_0x3124a2(0x894)]:case _0x4e2564[_0x3124a2(0x8be)][_0x3124a2(0x8bf)]:case _0x4e2564['ContentType']['Job']:case _0x4e2564[_0x3124a2(0x8be)][_0x3124a2(0x76a)]:case _0x4e2564[_0x3124a2(0x8be)][_0x3124a2(0x803)]:case _0x4e2564[_0x3124a2(0x8be)]['ExternalStorage']:this['dataTopics'][_0x3124a2(0xa10)](_0x191db9['getLabel']());break;case _0x4e2564['ContentType'][_0x3124a2(0x9fc)]:this[_0x3124a2(0xa09)][_0x3124a2(0xa10)](_0x191db9['getLabel']());}}[_0x120045(0x353)](_0x347e04){const _0x1c44ac=_0x120045;switch(_0x347e04[_0x1c44ac(0x729)]()){case _0x4e2564[_0x1c44ac(0x8be)][_0x1c44ac(0x6ad)]:case _0x4e2564[_0x1c44ac(0x8be)][_0x1c44ac(0x348)]:case _0x4e2564['ContentType']['ObjectStore']:case _0x4e2564[_0x1c44ac(0x8be)][_0x1c44ac(0x8bf)]:case _0x4e2564[_0x1c44ac(0x8be)][_0x1c44ac(0x81e)]:case _0x4e2564[_0x1c44ac(0x8be)][_0x1c44ac(0x76a)]:case _0x4e2564[_0x1c44ac(0x8be)][_0x1c44ac(0x803)]:case _0x4e2564['ContentType']['ExternalStorage']:{const _0x454054=_0x347e04[_0x1c44ac(0x8f0)](_0x5bb8e6=>{const _0x3feb59=_0x1c44ac;_0x59230a(_0x5bb8e6,this[_0x3feb59(0x67f)]())&&_0x167fe4(_0x5bb8e6,this[_0x3feb59(0x831)])&&this[_0x3feb59(0x593)](_0x5bb8e6);});this[_0x1c44ac(0x231)][_0x1c44ac(0x381)](_0x347e04['getLabel'](),_0x454054);break;}case _0x4e2564[_0x1c44ac(0x8be)][_0x1c44ac(0x9fc)]:{const _0x461af5=_0x347e04[_0x1c44ac(0x8f0)](({content:_0xe9721f})=>{const _0x23d0f0=_0x1c44ac;switch(_0xe9721f[_0x23d0f0(0x47d)]){case _0x436c52[_0x23d0f0(0x4e2)]:this[_0x23d0f0(0x864)](_0xe9721f[_0x23d0f0(0x895)],_0xe9721f[_0x23d0f0(0x815)],_0xe9721f[_0x23d0f0(0x716)],_0xe9721f[_0x23d0f0(0x3a0)]);break;case _0x436c52[_0x23d0f0(0x226)]:this[_0x23d0f0(0x269)](_0xe9721f[_0x23d0f0(0x895)],_0xe9721f[_0x23d0f0(0x815)]);break;case _0x436c52[_0x23d0f0(0x1fd)]:_0xe9721f[_0x23d0f0(0x716)]&&this[_0x23d0f0(0x26c)](_0xe9721f[_0x23d0f0(0x815)],_0xe9721f[_0x23d0f0(0x716)]),_0xe9721f[_0x23d0f0(0x3a0)]&&this[_0x23d0f0(0xa6e)](_0xe9721f[_0x23d0f0(0x815)],_0xe9721f['params']);}});this[_0x1c44ac(0x644)][_0x1c44ac(0x381)](_0x347e04[_0x1c44ac(0x8a0)](),_0x461af5);break;}}}[_0x120045(0x7c9)](_0x864490){const _0x56907b=_0x120045;switch(_0x864490[_0x56907b(0x729)]()){case _0x4e2564[_0x56907b(0x8be)][_0x56907b(0x6ad)]:case _0x4e2564[_0x56907b(0x8be)]['PubSub']:case _0x4e2564[_0x56907b(0x8be)][_0x56907b(0x894)]:case _0x4e2564[_0x56907b(0x8be)]['KeyValueDatabase']:case _0x4e2564[_0x56907b(0x8be)][_0x56907b(0x81e)]:case _0x4e2564[_0x56907b(0x8be)]['VectorDatabase']:case _0x4e2564[_0x56907b(0x8be)][_0x56907b(0x803)]:case _0x4e2564[_0x56907b(0x8be)]['ExternalStorage']:this['dataUnsubscribers'][_0x56907b(0x7e9)](_0x864490[_0x56907b(0x8a0)]())?.(),this[_0x56907b(0x231)][_0x56907b(0xa10)](_0x864490[_0x56907b(0x8a0)]());break;case _0x4e2564[_0x56907b(0x8be)][_0x56907b(0x9fc)]:this[_0x56907b(0x644)]['get'](_0x864490[_0x56907b(0x8a0)]())?.(),this[_0x56907b(0x644)][_0x56907b(0xa10)](_0x864490[_0x56907b(0x8a0)]());}}[_0x120045(0x3ba)](){const _0x1c41d7=_0x120045;return[_0x4e2564[_0x1c41d7(0x8be)][_0x1c41d7(0x6ad)],_0x4e2564[_0x1c41d7(0x8be)][_0x1c41d7(0x9fc)],_0x4e2564['ContentType'][_0x1c41d7(0x348)],_0x4e2564[_0x1c41d7(0x8be)][_0x1c41d7(0x894)],_0x4e2564[_0x1c41d7(0x8be)][_0x1c41d7(0x8bf)],_0x4e2564[_0x1c41d7(0x8be)][_0x1c41d7(0x81e)],_0x4e2564[_0x1c41d7(0x8be)]['VectorDatabase'],_0x4e2564[_0x1c41d7(0x8be)][_0x1c41d7(0x803)],_0x4e2564[_0x1c41d7(0x8be)][_0x1c41d7(0x322)]];}[_0x120045(0x67d)](_0x2a734c){const _0x2f00d3=_0x120045;this[_0x2f00d3(0xa45)]=_0x2a734c;}[_0x120045(0x12a)](){delete this['systemTopic'];}async[_0x120045(0x842)](){const _0x38b87a=_0x120045;this[_0x38b87a(0xdd)](),await this[_0x38b87a(0xf5)]();}['close'](){const _0x563651=_0x120045;this['listenerUnsubscribers'][_0x563651(0x311)](_0x3612aa=>_0x3612aa()),this[_0x563651(0x28b)]=[],this[_0x563651(0x633)]?.[_0x563651(0x12a)](),this[_0x563651(0x633)]?.[_0x563651(0x1c1)](),delete this[_0x563651(0x633)],this[_0x563651(0x7b3)][_0x563651(0x311)](_0x48eb7e=>_0x48eb7e()),this[_0x563651(0x7b3)]=[],this[_0x563651(0x7e0)]?.[_0x563651(0x12a)](),this[_0x563651(0x7e0)]?.[_0x563651(0x1c1)](),delete this[_0x563651(0x7e0)];}['isConnected'](){const _0x92e73a=_0x120045;return this[_0x92e73a(0x633)]?.[_0x92e73a(0x6d4)]()&&this[_0x92e73a(0x7e0)]?.[_0x92e73a(0x6d4)]()||!0x1;}['send'](_0x4da565){const _0x5283e2=_0x120045;if(!this['senderConnection']||!this[_0x5283e2(0x6d4)]())throw new _0x4a916f(_0x4a916f[_0x5283e2(0xa30)][_0x5283e2(0x578)],{'message':_0x5283e2(0x21d),'senderConnected':this[_0x5283e2(0x633)]?.[_0x5283e2(0x6d4)](),'receiverConnected':this['receiverConnection']?.[_0x5283e2(0x6d4)](),'localId':this[_0x5283e2(0x67f)](),'remoteId':this[_0x5283e2(0x831)],'data':_0x4da565});this[_0x5283e2(0x633)]['send'](_0x4da565);}[_0x120045(0x897)](_0x529452){const _0x5d30f2=_0x120045;return this[_0x5d30f2(0x923)][_0x5d30f2(0x8f0)](_0x529452);}['onTrack'](_0x3ede41){const _0x441049=_0x120045;return this[_0x441049(0x207)]['subscribe'](({track:_0x1e73a9,stream:_0x183cc7})=>_0x3ede41(_0x1e73a9,_0x183cc7));}[_0x120045(0x565)](_0x2fdb41){const _0x5efcc2=_0x120045;return this['removeTrackListeners'][_0x5efcc2(0x8f0)](({track:_0x2f145c,stream:_0x5d0a8c})=>_0x2fdb41(_0x2f145c,_0x5d0a8c));}[_0x120045(0x864)](_0x21c0e0,_0x53d5da,_0x119a28,_0x4b611b){const _0x22ecaf=_0x120045;this[_0x22ecaf(0x633)]?.['addTrack'](_0x21c0e0,_0x53d5da,_0x119a28,_0x4b611b);}[_0x120045(0x26c)](_0x26e6b4,_0x54bc39){const _0x50177c=_0x120045;this['senderConnection']?.[_0x50177c(0x26c)](_0x26e6b4,_0x54bc39);}[_0x120045(0xa6e)](_0x4056c0,_0x2f8d0b){const _0x51c0ac=_0x120045;this['senderConnection']?.[_0x51c0ac(0xa6e)](_0x4056c0,_0x2f8d0b);}[_0x120045(0x269)](_0x4389d9,_0x265572){const _0x536b54=_0x120045;this[_0x536b54(0x633)]?.[_0x536b54(0x269)](_0x4389d9,_0x265572);}async[_0x120045(0x2d0)](_0x1af1c5){const _0x3f9b3d=_0x120045;_0x1b1d61[_0x3f9b3d(0xed)](_0x185607['Connection'],_0x3f9b3d(0x7ca),this['getLocalId'](),_0x1af1c5);const {content:_0x235eed}=_0x1af1c5;switch(_0x235eed[_0x3f9b3d(0x7f3)]){case _0x55ce1f['Offer']:await this[_0x3f9b3d(0x561)](_0x235eed);break;case _0x55ce1f[_0x3f9b3d(0x4ca)]:await this[_0x3f9b3d(0x5da)](_0x235eed);break;case _0x55ce1f[_0x3f9b3d(0x728)]:this['handleSuccess']();break;case _0x55ce1f[_0x3f9b3d(0x974)]:await this[_0x3f9b3d(0x78f)](_0x235eed);break;case _0x55ce1f['NeedRestart']:this[_0x3f9b3d(0x826)](_0x235eed);break;case _0x55ce1f[_0x3f9b3d(0x56c)]:await this['createOffer']();}}['handleRemediationSystemEvents'](_0x4ad0c7){const _0x385e26=_0x120045;this[_0x385e26(0x633)]?.[_0x385e26(0x16a)](_0x4ad0c7[_0x385e26(0x477)][_0x385e26(0x7f6)]);}['getConnectionType'](){const _0x4b5f09=_0x120045;return this[_0x4b5f09(0x1f4)];}[_0x120045(0xa47)](_0x240dfe){const _0x488084=_0x120045;this[_0x488084(0x1f4)]=_0x240dfe,this[_0x488084(0x633)]?.[_0x488084(0xa47)](_0x240dfe),this[_0x488084(0x7e0)]?.[_0x488084(0xa47)](_0x240dfe);}async[_0x120045(0x63e)](){const _0x5b0005=_0x120045;await this[_0x5b0005(0x633)]?.[_0x5b0005(0x63e)](),await this['receiverConnection']?.[_0x5b0005(0x63e)]();}[_0x120045(0x900)](){const _0x1a7f05=_0x120045;return this[_0x1a7f05(0x633)]?.['calculateArrayBufferSize']()??0x0;}['getBufferedAmount'](){const _0x25ee47=_0x120045;return this[_0x25ee47(0x633)]?.[_0x25ee47(0x5b9)]()??0x0;}[_0x120045(0xdd)](){const _0x5394f0=_0x120045;this[_0x5394f0(0x28b)][_0x5394f0(0xdc)](this[_0x5394f0(0x897)](_0x4180f5=>{const _0x20b0fa=_0x5394f0;_0x167fe4(_0x4180f5,this['getLocalId']())&&0x0!==_0x4180f5[_0x20b0fa(0x4d6)]&&this[_0x20b0fa(0xa25)][_0x20b0fa(0x7e9)](_0x4180f5['topicLabel'])?.[_0x20b0fa(0x552)](_0x4180f5);})),this[_0x5394f0(0x28b)][_0x5394f0(0xdc)](this[_0x5394f0(0x86b)]((_0x25fdec,_0x7fb354)=>{const _0x252a92=_0x5394f0,_0x490245=_0x2730d6(_0x4e2564[_0x252a92(0x8be)][_0x252a92(0x9fc)],_0x7fb354['id'],this[_0x252a92(0x831)]);this['mediaTopics'][_0x252a92(0x7e9)](_0x490245)?.['publish']({'topicLabel':_0x490245,'sourceId':this[_0x252a92(0x831)],'contentType':_0x4e2564[_0x252a92(0x8be)][_0x252a92(0x9fc)],'content':{'action':_0x436c52['RemoteAdd'],'track':_0x25fdec,'stream':_0x7fb354,'providerId':this[_0x252a92(0x831)]}});})),this['listenerUnsubscribers']['push'](this[_0x5394f0(0x565)]((_0x26fd51,_0x30d907)=>{const _0x1a98c7=_0x5394f0,_0x288059=_0x2730d6(_0x4e2564[_0x1a98c7(0x8be)]['Media'],_0x30d907['id'],this['remoteId']);this[_0x1a98c7(0xa09)][_0x1a98c7(0x7e9)](_0x288059)?.[_0x1a98c7(0x552)]({'topicLabel':_0x288059,'sourceId':this['remoteId'],'contentType':_0x4e2564[_0x1a98c7(0x8be)][_0x1a98c7(0x9fc)],'content':{'action':_0x436c52[_0x1a98c7(0x183)],'track':_0x26fd51,'stream':_0x30d907,'providerId':this['remoteId']}});}));}[_0x120045(0x78f)]({candidates:_0x1f57bd,origin:_0x50ec2a,version:_0x125230}){const _0x292699=_0x120045;return _0x50ec2a===_0x40fec4[_0x292699(0x9a8)]?(this[_0x292699(0x7e0)]||this['createReceiverConnection'](),this[_0x292699(0x7e0)][_0x292699(0x35e)](_0x1f57bd,_0x125230)):this[_0x292699(0x633)][_0x292699(0x35e)](_0x1f57bd,_0x125230);}async[_0x120045(0xf5)](){const _0x5c7abe=_0x120045;this[_0x5c7abe(0x633)]||this[_0x5c7abe(0xa1a)](),await this[_0x5c7abe(0x633)][_0x5c7abe(0xf5)]();}async[_0x120045(0x561)]({offer:_0x42e335,version:_0x51898b}){const _0x509ef5=_0x120045;this['receiverConnection']||this[_0x509ef5(0xa50)](),await this[_0x509ef5(0x7e0)]['handleOffer'](_0x42e335,_0x51898b);}async['handleAnswer']({answer:_0x591ec0,version:_0xf68242}){const _0x231545=_0x120045;if(!this[_0x231545(0x633)])throw new _0x4a916f(_0x4a916f[_0x231545(0xa30)][_0x231545(0x578)],{'message':_0x231545(0x27b),'localId':this[_0x231545(0x67f)](),'remoteId':this[_0x231545(0x831)],'answer':_0x591ec0});await this[_0x231545(0x633)][_0x231545(0x5da)](_0x591ec0,_0xf68242);}[_0x120045(0xd0)](){const _0x101aa8=_0x120045;if(!this[_0x101aa8(0x7e0)])throw new _0x4a916f(_0x4a916f[_0x101aa8(0xa30)][_0x101aa8(0x578)],{'message':_0x101aa8(0x116),'localId':this[_0x101aa8(0x67f)](),'remoteId':this[_0x101aa8(0x831)]});this[_0x101aa8(0x7e0)][_0x101aa8(0xd0)](),this['successNotified']||this[_0x101aa8(0x1f4)]!==_0x289672[_0x101aa8(0x69a)]||(this[_0x101aa8(0x577)]=!0x0,this['systemTopic']?.[_0x101aa8(0x552)]({'sourceId':this[_0x101aa8(0x831)],'destinationIds':[this[_0x101aa8(0x67f)]()],'messageType':_0x435438[_0x101aa8(0x122)],'content':{'type':_0x55ce1f['OptimizationConnectionSuccess']}}));}['handleNeedRestart'](_0x430de4){const _0x169f60=_0x120045;this[_0x169f60(0x7e0)]||this[_0x169f60(0xa50)](),this[_0x169f60(0x7e0)][_0x169f60(0x826)](_0x430de4[_0x169f60(0x51c)]);}[_0x120045(0xa1a)](){const _0x2c29a7=_0x120045;this[_0x2c29a7(0x633)]=new _0x5f0f55(this[_0x2c29a7(0xea)],this[_0x2c29a7(0x781)],this[_0x2c29a7(0x831)],this[_0x2c29a7(0x424)],this[_0x2c29a7(0x1f4)],this[_0x2c29a7(0x461)],this[_0x2c29a7(0x3ca)],this[_0x2c29a7(0x4d0)]),this[_0x2c29a7(0x633)][_0x2c29a7(0x67d)](this[_0x2c29a7(0xa45)]);}[_0x120045(0xa50)](){const _0x1db235=_0x120045;this[_0x1db235(0x7e0)]=new _0x176d03(this[_0x1db235(0xea)],this[_0x1db235(0x781)],this['remoteId'],this[_0x1db235(0x424)],this['connectionType'],this[_0x1db235(0x4d0)]),this[_0x1db235(0x7e0)][_0x1db235(0x67d)](this[_0x1db235(0xa45)]),this[_0x1db235(0x7b3)][_0x1db235(0xdc)](this[_0x1db235(0x7e0)][_0x1db235(0x897)](_0x9e94a=>this[_0x1db235(0x923)]['publish'](_0x9e94a))),this[_0x1db235(0x7b3)][_0x1db235(0xdc)](this[_0x1db235(0x7e0)][_0x1db235(0x86b)]((_0x163d91,_0x40e485)=>this[_0x1db235(0x207)]['publish']({'track':_0x163d91,'stream':_0x40e485}))),this[_0x1db235(0x7b3)]['push'](this[_0x1db235(0x7e0)][_0x1db235(0x565)]((_0xe4582c,_0x591200)=>this[_0x1db235(0x832)][_0x1db235(0x552)]({'track':_0xe4582c,'stream':_0x591200})));}}class _0x42ab50{['localId'];['messageBuffer'];['graphService'];[_0x120045(0x634)]=new Map();['messageListeners']=_0x29f207();[_0x120045(0x483)];[_0x120045(0xa25)]=new Map();[_0x120045(0x231)]=new Map();['retryQueues']=new Map();constructor(_0x34cb3e,_0x516233,_0x532e4b){const _0x5ce17a=_0x120045;this[_0x5ce17a(0x49f)]=_0x34cb3e,this[_0x5ce17a(0x237)]=_0x516233,this['graphService']=_0x532e4b,this[_0x5ce17a(0x483)]=this[_0x5ce17a(0x897)](_0x1f1e31=>{const _0x1cebb2=_0x5ce17a;this[_0x1cebb2(0x237)][_0x1cebb2(0x56a)](_0x1f1e31['uuid'])||(_0x167fe4(_0x1f1e31,this['localId'])&&0x0!==_0x1f1e31[_0x1cebb2(0x4d6)]&&(this['messageBuffer'][_0x1cebb2(0x998)](_0x1f1e31['uuid']),this[_0x1cebb2(0xa25)][_0x1cebb2(0x7e9)](_0x1f1e31['topicLabel'])?.[_0x1cebb2(0x552)](_0x1f1e31)),_0x1f1e31[_0x1cebb2(0x6b1)]&&this['send'](_0x1f1e31));});}[_0x120045(0x1c1)](){this['messageUnsubscriber']?.();}[_0x120045(0x24c)](_0x5b41c9){const _0x2e9e18=_0x120045,_0x3c45bd=_0x5b41c9[_0x2e9e18(0x897)](_0x7d6310=>{const _0x3d0086=_0x2e9e18;this[_0x3d0086(0x923)][_0x3d0086(0x552)](_0x7d6310);});this['connections']['set'](_0x5b41c9,_0x3c45bd),this[_0x2e9e18(0x744)]['set'](_0x5b41c9[_0x2e9e18(0xa5d)](),function(_0x21f41a,_0x1e2028=!0x1){let _0x4d0399=new Map();const _0x37b297=_0x5e324d(_0x21f41a,_0x1e2028,function(_0x483454){const _0x482630=a0_0x573a;_0x517607(_0x483454)&&_0x4d0399['delete'](_0x483454['sourceId']+'-'+(_0x483454[_0x482630(0x3a4)]??[])+'-'+_0x483454[_0x482630(0x5cd)]+'-'+_0x483454[_0x482630(0x477)][_0x482630(0x7f3)]);},function(_0x911db4){return!!function(_0x5395a0){const _0x42b77d=a0_0x573a,_0x1d9f79=_0x5395a0[_0x42b77d(0x570)];if(!_0x517607(_0x1d9f79))return!0x1;const _0x482a2=_0x1d9f79['sourceId']+'-'+(_0x1d9f79[_0x42b77d(0x3a4)]??[])+'-'+_0x1d9f79['messageType']+'-'+_0x1d9f79[_0x42b77d(0x477)]['type'],_0x3d390d={'version':_0x1d9f79['content'][_0x42b77d(0x51c)],'element':_0x5395a0},_0x351e85=_0x4d0399[_0x42b77d(0x7e9)](_0x482a2);return _0x351e85?(_0x351e85['version']>=_0x1d9f79[_0x42b77d(0x477)]['version']||(_0x351e85[_0x42b77d(0x955)][_0x42b77d(0x10f)]&&(_0x351e85[_0x42b77d(0x955)]['previous'][_0x42b77d(0x666)]=_0x5395a0,_0x5395a0['previous']=_0x351e85['element'][_0x42b77d(0x10f)]),_0x351e85[_0x42b77d(0x955)]['next']&&(_0x351e85[_0x42b77d(0x955)][_0x42b77d(0x666)]['previous']=_0x5395a0,_0x5395a0[_0x42b77d(0x666)]=_0x351e85['element'][_0x42b77d(0x666)]),_0x351e85[_0x42b77d(0x955)]===_0x37b297['head']&&(_0x37b297[_0x42b77d(0x79f)]=_0x5395a0),_0x351e85[_0x42b77d(0x955)]===_0x37b297['tail']&&(_0x37b297[_0x42b77d(0xf4)]=_0x5395a0),_0x4d0399[_0x42b77d(0x381)](_0x482a2,_0x3d390d)),!0x0):(_0x4d0399['set'](_0x482a2,_0x3d390d),!0x1);}(_0x911db4);},function(){const _0x780c5e=a0_0x573a;_0x4d0399[_0x780c5e(0x960)]();});function _0x517607(_0x4aeae9){const _0xe438dd=a0_0x573a;if(_0x4aeae9&&_0xe438dd(0x5be)==typeof _0x4aeae9&&_0x4aeae9[_0xe438dd(0x220)]('content')&&_0x4aeae9[_0xe438dd(0x220)](_0xe438dd(0x5cd))&&_0x4aeae9['hasOwnProperty'](_0xe438dd(0x50d))){const _0x2e33c3=_0x4aeae9;if(_0x2e33c3[_0xe438dd(0x477)]&&_0xe438dd(0x5be)==typeof _0x2e33c3[_0xe438dd(0x477)]&&_0x2e33c3[_0xe438dd(0x477)][_0xe438dd(0x220)](_0xe438dd(0x51c))&&_0x2e33c3['content'][_0xe438dd(0x220)](_0xe438dd(0x7f3)))return!0x0;}return!0x1;}return _0x37b297;}(new _0x52277c(_0xe14d1=>_0x5b41c9['send'](_0xe14d1),()=>_0x3da74f[_0x2e9e18(0x22c)](0x64))));}[_0x120045(0xa00)](_0x1a482e){const _0x89a401=_0x120045;this['connections'][_0x89a401(0x7e9)](_0x1a482e)?.(),this[_0x89a401(0x634)][_0x89a401(0xa10)](_0x1a482e),this['retryQueues'][_0x89a401(0x7e9)](_0x1a482e[_0x89a401(0xa5d)]())?.['clear'](),this[_0x89a401(0x744)][_0x89a401(0xa10)](_0x1a482e[_0x89a401(0xa5d)]());}[_0x120045(0x6d4)](_0x56bdd4){const _0x2b015e=_0x120045;return _0x1b1d61[_0x2b015e(0xed)](_0x185607[_0x2b015e(0xa2a)],_0x2b015e(0x949),this['localId'],this[_0x2b015e(0x634)][_0x2b015e(0xca)]()),0x0!==this[_0x2b015e(0x634)][_0x2b015e(0x625)]&&(Array[_0x2b015e(0x7f9)](this[_0x2b015e(0x634)][_0x2b015e(0xca)]())[_0x2b015e(0x999)](_0x55d6c3=>_0x55d6c3[_0x2b015e(0xa5d)]()===_0x56bdd4)?.['isConnected']()??!0x1);}[_0x120045(0x1d7)](_0x4f94ba){const _0x995ac4=_0x120045;this[_0x995ac4(0xa25)]['set'](_0x4f94ba['getLabel'](),_0x4f94ba);}[_0x120045(0x564)](_0x4eb898){const _0x48d373=_0x120045;this[_0x48d373(0xa25)][_0x48d373(0xa10)](_0x4eb898[_0x48d373(0x8a0)]());}['registerSubscriber'](_0x423d7e){const _0x47ff18=_0x120045,_0xa5ca22=_0x423d7e[_0x47ff18(0x8f0)](this[_0x47ff18(0x593)][_0x47ff18(0xa66)](this));this[_0x47ff18(0x231)]['set'](_0x423d7e[_0x47ff18(0x8a0)](),_0xa5ca22);}[_0x120045(0x7c9)](_0x5dd068){const _0xf5a91c=_0x120045;this[_0xf5a91c(0x231)][_0xf5a91c(0x7e9)](_0x5dd068[_0xf5a91c(0x8a0)]())?.(),this['dataUnsubscribers'][_0xf5a91c(0xa10)](_0x5dd068[_0xf5a91c(0x8a0)]());}[_0x120045(0x3ba)](){const _0x43e29f=_0x120045;return[_0x4e2564[_0x43e29f(0x8be)]['Data'],_0x4e2564['ContentType'][_0x43e29f(0x348)],_0x4e2564[_0x43e29f(0x8be)][_0x43e29f(0x894)],_0x4e2564[_0x43e29f(0x8be)][_0x43e29f(0x8bf)],_0x4e2564[_0x43e29f(0x8be)][_0x43e29f(0x81e)],_0x4e2564[_0x43e29f(0x8be)][_0x43e29f(0x76a)],_0x4e2564['ContentType'][_0x43e29f(0x803)],_0x4e2564[_0x43e29f(0x8be)]['ExternalStorage']];}[_0x120045(0x593)](_0x1473cd){const _0x41ab1d=_0x120045;if(!0x1===_0x1473cd[_0x41ab1d(0x53e)]){if(_0x1473cd[_0x41ab1d(0x6b1)]||!_0x1473cd[_0x41ab1d(0x3a4)]||0x1!==_0x1473cd[_0x41ab1d(0x3a4)][_0x41ab1d(0x59d)])throw new _0x4a916f(_0x4a916f['codes'][_0x41ab1d(0x901)],{'message':_0x41ab1d(0x818),'localId':this[_0x41ab1d(0x49f)]});if(!this[_0x41ab1d(0x6d4)](_0x1473cd[_0x41ab1d(0x3a4)][0x0]))throw new _0x602078(_0x41ab1d(0x418));}const _0xf06d35=_0x1473cd['recipients']??[];try{const {filteredDestinationIds:_0x3d9821,extendedRecipients:_0x5a1552}=this[_0x41ab1d(0x873)](_0x1473cd,_0xf06d35);_0x1473cd['destinationIds']=_0x3d9821,_0x1473cd['recipients']=_0x5a1552;}catch(_0xcb9f3b){if(_0xcb9f3b instanceof _0x602078)return void _0x1b1d61['log'](_0x185607[_0x41ab1d(0x2cf)],_0x41ab1d(0x6c7),_0x41ab1d(0x1a0),_0x1473cd,_0xcb9f3b[_0x41ab1d(0x1b4)]);}const _0x161881=this[_0x41ab1d(0x21f)](_0x1473cd);this[_0x41ab1d(0x33d)](_0x1473cd,_0x161881),_0x1473cd[_0x41ab1d(0x6b1)]=_0x161881;const _0x1774a2=this[_0x41ab1d(0x34a)](_0x1473cd,_0xf06d35);for(const _0x22d951 of _0x1774a2){const _0x220ae7=this[_0x41ab1d(0x744)][_0x41ab1d(0x7e9)](_0x22d951[_0x41ab1d(0xa5d)]());if(!_0x220ae7)throw new _0x4a916f(_0x4a916f[_0x41ab1d(0xa30)][_0x41ab1d(0x6a9)],{'message':_0x41ab1d(0x244),'localId':this['localId'],'remoteId':_0x22d951[_0x41ab1d(0xa5d)](),'data':_0x1473cd});_0x220ae7[_0x41ab1d(0xdc)](_0x1473cd);}}[_0x120045(0xa5d)](){return'';}[_0x120045(0x67f)](){return this['localId'];}[_0x120045(0x897)](_0x138469){const _0x57870d=_0x120045;return this[_0x57870d(0x923)][_0x57870d(0x8f0)](_0x138469);}[_0x120045(0x873)](_0x2d81ec,_0x2050c3){const _0x53772f=_0x120045,_0x37fdea={'filteredDestinationIds':_0x2d81ec['destinationIds'],'extendedRecipients':_0x2d81ec['recipients']};if(!_0x2d81ec[_0x53772f(0x6b1)])return _0x37fdea;const _0x3b0e2e=Array['from'](this[_0x53772f(0x634)][_0x53772f(0xca)]())[_0x53772f(0x1e1)](_0x270022=>_0x270022[_0x53772f(0x581)]()===_0x289672['Core']||_0x270022[_0x53772f(0x6d4)]())[_0x53772f(0x760)](_0x3a94e6=>_0x3a94e6[_0x53772f(0xa5d)]());if(_0x3b0e2e['reduce']((_0x88f003,_0x858400)=>_0x88f003&&_0x2d81ec[_0x53772f(0x5ab)][_0x53772f(0x82f)](_0x858400),!0x0))throw new _0x602078(_0x53772f(0x380));if(_0x2d81ec['destinationIds']){const _0x3b1627=_0x2d81ec['destinationIds'][_0x53772f(0x1e1)](_0x331a25=>_0x331a25!==this[_0x53772f(0x49f)]&&!_0x2d81ec[_0x53772f(0x5ab)][_0x53772f(0x82f)](_0x331a25));if(0x0===_0x3b1627['length'])throw new _0x602078('No\x20destinationIds\x20left');_0x37fdea[_0x53772f(0x3e0)]=_0x3b1627;}return _0x37fdea[_0x53772f(0x9b7)]=[...new Set([..._0x2050c3,..._0x3b0e2e,this[_0x53772f(0x49f)]])],_0x37fdea;}[_0x120045(0x33d)](_0x3cd3eb,_0x3cee36=!0x1){const _0x3e7f3a=_0x120045;if(0x0===_0x3cd3eb[_0x3e7f3a(0x4d6)]&&!_0x59230a(_0x3cd3eb,this[_0x3e7f3a(0x49f)])&&_0x3cd3eb[_0x3e7f3a(0x6b1)]){const _0x426c4b=_0x6cdee6(_0x3cd3eb,this[_0x3e7f3a(0x49f)]);_0x1b1d61[_0x3e7f3a(0x541)](_0x185607['System'],_0x3cd3eb['uuid']+_0x3e7f3a(0x3d5)+_0x3cee36+')\x20'+_0x426c4b,_0x3cd3eb,_0x3cee36);}}[_0x120045(0x21f)](_0xa3295){const _0x5974fd=_0x120045;if(_0xa3295['destinationIds']&&_0xa3295[_0x5974fd(0x6b1)]){const _0x439caf=Array['from'](this[_0x5974fd(0x634)]['keys']())[_0x5974fd(0x1e1)](_0x529d00=>_0x529d00[_0x5974fd(0x581)]()===_0x289672[_0x5974fd(0x976)]||_0x529d00[_0x5974fd(0x6d4)]())[_0x5974fd(0x760)](_0x487a87=>_0x487a87['getRemoteId']());return!_0xa3295[_0x5974fd(0x3a4)][_0x5974fd(0x181)]((_0x1df13d,_0x273089)=>_0x1df13d&&_0x439caf[_0x5974fd(0x82f)](_0x273089),!0x0);}return _0xa3295[_0x5974fd(0x6b1)]??!0x1;}[_0x120045(0x34a)](_0x231145,_0x1de13d){const _0x5e9876=_0x120045;if(_0x231145['propagate']&&_0x231145[_0x5e9876(0x3a4)]){const _0x51619c=Array['from'](this[_0x5e9876(0x634)]['keys']())[_0x5e9876(0x1e1)](_0x16c6b6=>_0x16c6b6[_0x5e9876(0x581)]()===_0x289672[_0x5e9876(0x976)]||_0x16c6b6[_0x5e9876(0x6d4)]())[_0x5e9876(0x760)](_0x501cfe=>_0x501cfe[_0x5e9876(0xa5d)]()),_0x37be73=new Set(),_0x4f3c49=_0x231145[_0x5e9876(0x50d)]===this[_0x5e9876(0x49f)]?0x3:0x1;return _0x231145[_0x5e9876(0x3a4)]['forEach'](_0x249b68=>{const _0x36cd9a=_0x5e9876,_0x4fb9a3=this['graphService'][_0x36cd9a(0x973)](_0x51619c,_0x249b68);let _0x35a56e=0x0,_0x3a3236=0x0;_0x4fb9a3[_0x36cd9a(0x311)](_0xeb7f80=>{const _0x5363de=_0x36cd9a;if(_0x35a56e>=_0x4f3c49)return;const _0x4fba64=Array[_0x5363de(0x7f9)](this['connections']['keys']())[_0x5363de(0x999)](_0x160e1a=>_0x160e1a[_0x5363de(0xa5d)]()===_0xeb7f80);if(_0x4fba64){if(_0x4fba64[_0x5363de(0x581)]()===_0x289672[_0x5363de(0x976)]&&_0x3a3236>0x0)return void(_0x3a3236-=0x1);_0x37be73[_0x5363de(0x532)](_0x4fba64),_0x4fba64[_0x5363de(0x581)]()===_0x289672['Optimization']&&(_0x3a3236+=0x1),_0x35a56e+=0x1;}});}),Array[_0x5e9876(0x7f9)](_0x37be73);}return Array[_0x5e9876(0x7f9)](this[_0x5e9876(0x634)][_0x5e9876(0xca)]())[_0x5e9876(0x1e1)](_0x1e5ccb=>{const _0x4cf818=_0x5e9876;return _0xbab09c=_0x1e5ccb[_0x4cf818(0xa5d)](),!_0x1de13d['includes'](_0xbab09c)&&(_0x167fe4(_0x231145,_0xbab09c)||_0x231145[_0x4cf818(0x6b1)])&&(!_0x231145[_0x4cf818(0x6b1)]||_0x1e5ccb[_0x4cf818(0x6d4)]()||_0x1e5ccb[_0x4cf818(0x581)]()===_0x289672[_0x4cf818(0x976)]);var _0xbab09c;});}}class _0x41e662{[_0x120045(0x49f)];[_0x120045(0x237)];[_0x120045(0x634)]=new Map();['systemTopic'];constructor(_0xa5ad2b,_0x243a03){const _0x20dfaa=_0x120045;this[_0x20dfaa(0x49f)]=_0xa5ad2b,this[_0x20dfaa(0x237)]=_0x243a03;}[_0x120045(0x1c1)](){}[_0x120045(0x593)](_0x7df769){const _0x5c4454=_0x120045;for(const _0x3cabeb of this[_0x5c4454(0x634)]['keys']())try{return void _0x3cabeb['send']({'retry':!0x1,..._0x7df769});}catch(_0x2825bf){_0x2825bf instanceof _0x602078||_0x1b1d61[_0x5c4454(0xed)](_0x185607['Pool'],_0x5c4454(0x517)+_0x3cabeb,_0x2825bf,_0x7df769);}_0x1b1d61[_0x5c4454(0xed)](_0x185607[_0x5c4454(0x813)],'No\x20connections\x20available\x20to\x20send\x20message');}[_0x120045(0x24c)](_0x3261ea){const _0x394e75=_0x120045,_0x56d5b2=_0x3261ea[_0x394e75(0x897)](_0x3f0a98=>{const _0x4e08d4=_0x394e75;this[_0x4e08d4(0x237)][_0x4e08d4(0x56a)](_0x3f0a98[_0x4e08d4(0x43f)])||0x0===_0x3f0a98[_0x4e08d4(0x4d6)]&&(this['messageBuffer'][_0x4e08d4(0x998)](_0x3f0a98[_0x4e08d4(0x43f)]),_0x167fe4(_0x3f0a98,this[_0x4e08d4(0x49f)])&&this[_0x4e08d4(0xa45)]?.[_0x4e08d4(0x552)](_0x3f0a98));});this['connections'][_0x394e75(0x381)](_0x3261ea,_0x56d5b2);}[_0x120045(0xa00)](_0x46e6d6){const _0x23eebe=_0x120045;this[_0x23eebe(0x634)][_0x23eebe(0x7e9)](_0x46e6d6)?.(),this[_0x23eebe(0x634)][_0x23eebe(0xa10)](_0x46e6d6);}[_0x120045(0x67f)](){const _0x2acfd=_0x120045;return this[_0x2acfd(0x49f)];}[_0x120045(0xa5d)](){return'';}[_0x120045(0x3ba)](){const _0x4a3d64=_0x120045;return[_0x4e2564[_0x4a3d64(0x8be)][_0x4a3d64(0x6ad)]];}[_0x120045(0x6d4)](){const _0x26be4b=_0x120045;throw new Error(_0x26be4b(0x722));}[_0x120045(0x67d)](_0x59cafd){this['systemTopic']=_0x59cafd;}[_0x120045(0x12a)](){const _0x2d0552=_0x120045;delete this[_0x2d0552(0xa45)];}}class _0x1da66a{[_0x120045(0x58c)]=new Map();[_0x120045(0xa2c)];constructor(){const _0x1c8d2a=_0x120045;this[_0x1c8d2a(0xa2c)]=_0x3da74f[_0x1c8d2a(0x40c)](()=>{const _0x1181f2=_0x1c8d2a;for(const [_0x1d00a1,_0x598f67]of this[_0x1181f2(0x58c)][_0x1181f2(0x471)]())Date[_0x1181f2(0x9e1)]()-_0x598f67>0x124f80&&this['buffer']['delete'](_0x1d00a1);},0x1d4c0);}[_0x120045(0x1c1)](){const _0xb8708c=_0x120045;this[_0xb8708c(0xa2c)]();}[_0x120045(0x998)](_0x24015a){const _0x1fc5e3=_0x120045;this['buffer']['set'](_0x24015a,Date[_0x1fc5e3(0x9e1)]());}[_0x120045(0x56a)](_0x1258fa){const _0x267345=_0x120045;return this[_0x267345(0x58c)][_0x267345(0x5a8)](_0x1258fa);}}class _0x4b4268{[_0x120045(0x22a)];['authService'];[_0x120045(0x424)];[_0x120045(0x58d)];[_0x120045(0x634)]=new Map();['connectionPool'];[_0x120045(0x428)];[_0x120045(0x99d)];[_0x120045(0x237)];constructor(_0xf8d047,_0x13bbab,_0x115167,_0xb300d8,_0x2f0f46){const _0x11fe1c=_0x120045;this[_0x11fe1c(0x22a)]=_0xf8d047,this['authService']=_0x13bbab,this['iceServers']=_0xb300d8,this['options']=_0x2f0f46,this[_0x11fe1c(0x237)]=new _0x1da66a(),this[_0x11fe1c(0x428)]=new _0x42ab50(this['configs'][_0x11fe1c(0x781)][_0x11fe1c(0xd7)](),this[_0x11fe1c(0x237)],_0x115167),this[_0x11fe1c(0x99d)]=new _0x385249(this[_0x11fe1c(0x22a)]['vendorId'],this[_0x11fe1c(0x22a)][_0x11fe1c(0xea)],this[_0x11fe1c(0x22a)][_0x11fe1c(0x781)],_0x11fe1c(0xa6d),this[_0x11fe1c(0x7ec)]),this[_0x11fe1c(0x3f2)]=new _0x41e662(this['configs'][_0x11fe1c(0x781)][_0x11fe1c(0xd7)](),this[_0x11fe1c(0x237)]),this[_0x11fe1c(0x3f2)][_0x11fe1c(0x24c)](this['connectionGroup']),this[_0x11fe1c(0x3f2)]['addConnection'](this[_0x11fe1c(0x99d)]),this[_0x11fe1c(0x22a)]['mediator'][_0x11fe1c(0x1ef)](this['connectionPool']);}[_0x120045(0x1c1)](){const _0x1b8be9=_0x120045;this[_0x1b8be9(0x237)][_0x1b8be9(0x1c1)](),this[_0x1b8be9(0x634)]['forEach']((_0x2eb1a3,_0x1347f8)=>this[_0x1b8be9(0x98e)](_0x1347f8)),this[_0x1b8be9(0x22a)][_0x1b8be9(0x5ba)][_0x1b8be9(0x252)](this['connectionPool']),this['connectionPool'][_0x1b8be9(0xa00)](this['signalingServer']),this[_0x1b8be9(0x3f2)]['removeConnection'](this[_0x1b8be9(0x428)]),this[_0x1b8be9(0x3f2)]['close'](),this[_0x1b8be9(0x99d)]['close'](),this['connectionGroup'][_0x1b8be9(0x1c1)]();}async['initialize'](){const _0x373b6a=_0x120045;await this[_0x373b6a(0x99d)][_0x373b6a(0x842)]();}async[_0x120045(0x8c2)](_0x10ceba,_0x4533c3=_0x289672['Core']){const _0x9d7008=_0x120045;if(this['connections'][_0x9d7008(0x5a8)](_0x10ceba)){if(this['connections'][_0x9d7008(0x7e9)](_0x10ceba)?.['getConnectionType']()===_0x289672[_0x9d7008(0x69a)]&&_0x4533c3===_0x289672[_0x9d7008(0x976)])return void this[_0x9d7008(0x634)][_0x9d7008(0x7e9)](_0x10ceba)?.[_0x9d7008(0xa47)](_0x289672[_0x9d7008(0x976)]);throw new _0x4a916f(_0x4a916f[_0x9d7008(0xa30)][_0x9d7008(0x3c5)],{'localId':this[_0x9d7008(0x22a)]['localNode'][_0x9d7008(0xd7)](),'remoteId':_0x10ceba});}const _0x204faf=new _0x5262c4(this[_0x9d7008(0x22a)][_0x9d7008(0xea)],this[_0x9d7008(0x22a)][_0x9d7008(0x781)],_0x10ceba,this[_0x9d7008(0x424)],_0x4533c3,this['options']['maxFps'],this[_0x9d7008(0x58d)][_0x9d7008(0x3ca)],this[_0x9d7008(0x58d)][_0x9d7008(0x150)]);this[_0x9d7008(0x634)][_0x9d7008(0x381)](_0x10ceba,_0x204faf),this['connectionGroup'][_0x9d7008(0x24c)](_0x204faf),this[_0x9d7008(0x22a)][_0x9d7008(0x5ba)][_0x9d7008(0x1ef)](_0x204faf),this['configs'][_0x9d7008(0x5ba)][_0x9d7008(0x5c7)](_0x10ceba),await _0x204faf[_0x9d7008(0x842)]();}[_0x120045(0x5fb)](){return this['connectionGroup'];}[_0x120045(0x73b)](_0x4f047d){const _0x3d7f08=_0x120045;if(!this['connections'][_0x3d7f08(0x5a8)](_0x4f047d))throw new _0x4a916f(_0x4a916f[_0x3d7f08(0xa30)]['MissingRemoteConnection'],{'localId':this[_0x3d7f08(0x22a)][_0x3d7f08(0x781)]['getId'](),'remoteId':_0x4f047d});return this[_0x3d7f08(0x634)][_0x3d7f08(0x7e9)](_0x4f047d);}[_0x120045(0x533)](_0x2b76b1){const _0xdd9256=_0x120045,_0x4fb31a=Array[_0xdd9256(0x7f9)](this['connections'][_0xdd9256(0x449)]());return _0x2b76b1?_0x4fb31a['filter'](_0x2b76b1):_0x4fb31a;}async['collectStats'](_0x5e181d){const _0x4663d6=_0x120045,_0x558cee=this[_0x4663d6(0x634)][_0x4663d6(0x7e9)](_0x5e181d);_0x558cee&&_0x558cee[_0x4663d6(0x6d4)]()&&await _0x558cee[_0x4663d6(0x63e)]();}[_0x120045(0x845)](_0x54e48e){const _0x599df1=_0x120045;if(_0x54e48e[_0x599df1(0x5cd)]!==_0x435438[_0x599df1(0x122)]||_0x54e48e[_0x599df1(0x6b1)])try{this[_0x599df1(0x428)]['send'](_0x54e48e);}catch(_0x4244d6){if(_0x4244d6 instanceof _0x602078)return;throw _0x4244d6;}else this[_0x599df1(0x3f2)][_0x599df1(0x593)](_0x54e48e);}async[_0x120045(0x2d0)](_0x5a502a){const _0xa4e910=_0x120045;switch(_0x5a502a[_0xa4e910(0x477)]['type']){case _0x55ce1f[_0xa4e910(0x64b)]:case _0x55ce1f[_0xa4e910(0x43b)]:case _0x55ce1f[_0xa4e910(0x76f)]:return;}if(!_0x5a502a[_0xa4e910(0x3a4)]||0x1!==_0x5a502a['destinationIds'][_0xa4e910(0x59d)])throw new _0x4a916f(_0x4a916f[_0xa4e910(0xa30)][_0xa4e910(0x7eb)],{'message':_0xa4e910(0x968),'event':_0x5a502a});if(_0x5a502a[_0xa4e910(0x3a4)][0x0]!==this[_0xa4e910(0x22a)]['localNode'][_0xa4e910(0xd7)]())throw new _0x4a916f(_0x4a916f[_0xa4e910(0xa30)][_0xa4e910(0x7eb)],{'message':'Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','event':_0x5a502a});if(!this[_0xa4e910(0x634)]['has'](_0x5a502a[_0xa4e910(0x50d)])){let _0x150752=_0x289672[_0xa4e910(0x976)];if(!(this[_0xa4e910(0x96f)](_0x5a502a[_0xa4e910(0x477)])||this[_0xa4e910(0x18c)](_0x5a502a['content'])||this[_0xa4e910(0x9d9)](_0x5a502a[_0xa4e910(0x477)])))return;_0x150752=_0x5a502a[_0xa4e910(0x477)][_0xa4e910(0x1f4)],await this[_0xa4e910(0x8c2)](_0x5a502a['sourceId'],_0x150752);}const _0x153aa4=this[_0xa4e910(0x634)][_0xa4e910(0x7e9)](_0x5a502a['sourceId']);await _0x153aa4['handlePeerConnectionSystemEvents'](_0x5a502a);}[_0x120045(0x703)](_0x11cdff){const _0x11f53c=_0x120045;if(_0x11cdff[_0x11f53c(0x477)][_0x11f53c(0x7f3)]===_0x266f35[_0x11f53c(0x8f1)]){if(_0x11cdff[_0x11f53c(0x477)][_0x11f53c(0x12e)]===this[_0x11f53c(0x22a)][_0x11f53c(0x781)][_0x11f53c(0xd7)]())return void this[_0x11f53c(0x634)]['forEach'](_0x2c7d3f=>_0x2c7d3f['handleRemediationSystemEvents'](_0x11cdff));this[_0x11f53c(0x634)][_0x11f53c(0x7e9)](_0x11cdff[_0x11f53c(0x477)][_0x11f53c(0x12e)])?.['handleRemediationSystemEvents'](_0x11cdff);}}[_0x120045(0x1be)]({content:_0x3ae6e5}){const _0x33c056=_0x120045;_0x3ae6e5[_0x33c056(0x7f3)]===_0x57c969[_0x33c056(0x261)]&&this[_0x33c056(0x98e)](_0x3ae6e5['id']);}[_0x120045(0xa17)](){const _0x5e33ef=_0x120045,_0x47f46e=Array[_0x5e33ef(0x7f9)](this[_0x5e33ef(0x634)][_0x5e33ef(0x449)]())['reduce']((_0x4df8a6,_0x11040d)=>_0x4df8a6+_0x11040d['calculateArrayBufferSize'](),0x0);return _0x47f46e<_0x1240a6?Promise['resolve'](_0x47f46e):new Promise(_0x592f3a=>{const _0x4fcccd=setInterval(()=>{const _0x338ef5=a0_0x573a,_0x61a834=Array['from'](this[_0x338ef5(0x634)][_0x338ef5(0x449)]())[_0x338ef5(0x181)]((_0x77f052,_0x261347)=>_0x77f052+_0x261347[_0x338ef5(0x900)](),0x0);_0x61a834<_0x1240a6&&(clearInterval(_0x4fcccd),_0x592f3a(_0x61a834));},0x3e8);});}[_0x120045(0x601)](){const _0x477c65=_0x120045;for(const _0x31d32f of this['connections']['values']())if(_0x31d32f[_0x477c65(0x5b9)]()>0x0||_0x31d32f[_0x477c65(0x900)]()>0x0)return!0x0;return!0x1;}[_0x120045(0x98e)](_0x3267c9){const _0x18c2f8=_0x120045,_0x21b247=this[_0x18c2f8(0x634)][_0x18c2f8(0x7e9)](_0x3267c9);_0x21b247&&(this[_0x18c2f8(0x22a)]['mediator'][_0x18c2f8(0x4d1)](_0x3267c9),this[_0x18c2f8(0x22a)]['mediator'][_0x18c2f8(0x252)](_0x21b247),_0x21b247 instanceof _0x5262c4&&this[_0x18c2f8(0x428)][_0x18c2f8(0xa00)](_0x21b247),_0x21b247[_0x18c2f8(0x1c1)](),this[_0x18c2f8(0x634)][_0x18c2f8(0xa10)](_0x3267c9));}[_0x120045(0x96f)](_0x2c32a3){const _0x185032=_0x120045;return _0x2c32a3[_0x185032(0x7f3)]===_0x55ce1f[_0x185032(0x4ab)];}[_0x120045(0x9d9)](_0x2cb85c){const _0x32946a=_0x120045;return _0x2cb85c['type']===_0x55ce1f[_0x32946a(0x830)];}['isIceCandidate'](_0xa9823a){const _0xf5538b=_0x120045;return _0xa9823a[_0xf5538b(0x7f3)]===_0x55ce1f[_0xf5538b(0x974)];}}!function(_0x3f9661){const _0x55e4b1=_0x120045;_0x3f9661[_0x3f9661[_0x55e4b1(0x628)]=0x0]=_0x55e4b1(0x628),_0x3f9661[_0x3f9661['UpdateMediaStream']=0x1]=_0x55e4b1(0x515),_0x3f9661[_0x3f9661['UnsubscribeMediaStream']=0x2]=_0x55e4b1(0x9a4),_0x3f9661[_0x3f9661['NeedMediaStream']=0x3]='NeedMediaStream',_0x3f9661[_0x3f9661[_0x55e4b1(0x65e)]=0x4]=_0x55e4b1(0x65e),_0x3f9661[_0x3f9661[_0x55e4b1(0x69d)]=0x5]=_0x55e4b1(0x69d),_0x3f9661[_0x3f9661[_0x55e4b1(0x651)]=0x6]=_0x55e4b1(0x651),_0x3f9661[_0x3f9661[_0x55e4b1(0x9af)]=0x7]=_0x55e4b1(0x9af);}(_0x5d00e2||(_0x5d00e2={}));class _0x494c21 extends _0x3ab0ee{[_0x120045(0x781)];['clusterId'];[_0x120045(0x11b)];[_0x120045(0x868)];[_0x120045(0x219)];[_0x120045(0x9f6)]=0x0;[_0x120045(0x4b9)];['eventListener']=_0x29f207();[_0x120045(0x28b)]=new Map();[_0x120045(0x63b)];constructor(_0x4fe05b,_0x6bec13,_0x456d56,_0x501db9,_0x5c1eea){const _0x3f6176=_0x120045;if(_0x3f6176(0x630)!=typeof _0x6bec13)throw new _0x18939c(_0x15d29b[_0x3f6176(0xa4c)],_0x3f6176(0xa54));super(_0x4fe05b,_0x6bec13),this['localNode']=_0x4fe05b,this[_0x3f6176(0xea)]=_0x456d56,this[_0x3f6176(0x11b)]=_0x501db9,this[_0x3f6176(0x868)]=_0x5c1eea,this[_0x3f6176(0x3b4)]();}[_0x120045(0x4d9)](){const _0xe755ba=_0x120045;this[_0xe755ba(0x63b)]?.(),this[_0xe755ba(0x28b)][_0xe755ba(0x311)](_0x45b712=>_0x45b712()),clearTimeout(this[_0xe755ba(0x219)]),delete this[_0xe755ba(0x219)],super[_0xe755ba(0x4d9)]();}[_0x120045(0x2c6)](){const _0x2562cd=_0x120045;this[_0x2562cd(0x3b4)]();}[_0x120045(0x1c1)](){const _0x3293b7=_0x120045;this[_0x3293b7(0xa45)][_0x3293b7(0x552)]({'sourceId':_0x40bfc5,'messageType':_0x435438['Content'],'content':{'type':_0x46be06['CloseExternalStorageConnection'],'label':this[_0x3293b7(0x573)]}});}[_0x120045(0x729)](){const _0x507490=_0x120045;return _0x4e2564[_0x507490(0x8be)][_0x507490(0x322)];}async[_0x120045(0x7e9)](_0x50df69){const _0x444603=_0x120045;if(!this[_0x444603(0x4b9)])throw new _0x18939c(_0x15d29b[_0x444603(0x1af)],'Cannot\x20get\x20file:\x20External\x20Storage\x20not\x20connected');_0x1b1d61[_0x444603(0x7a0)](_0x3baa96[_0x444603(0x322)],{'type':_0x444603(0x7e9),'label':this[_0x444603(0x573)],'nodeId':this['localNode'][_0x444603(0xd7)](),'nodeType':this[_0x444603(0x781)][_0x444603(0x7f3)],'clusterId':this[_0x444603(0xea)],'path':_0x50df69}),this[_0x444603(0x9f6)]+=0x1,this['sendStats']();try{return await this['connector'][_0x444603(0x7e9)](_0x50df69);}catch(_0x5a0f0d){throw new _0x18939c(_0x15d29b[_0x444603(0x142)],_0x444603(0x34b)+_0x50df69);}}async[_0x120045(0x100)](_0x1d1abe,_0x4cd4d0){const _0x29b48c=_0x120045;if(!this['connector'])throw new _0x18939c(_0x15d29b[_0x29b48c(0x1af)],_0x29b48c(0x677));const {recursive:_0x4a8cab=!0x1}=_0x4cd4d0??{};_0x1b1d61['logServiceEvent'](_0x3baa96[_0x29b48c(0x322)],{'type':_0x29b48c(0x100),'label':this[_0x29b48c(0x573)],'nodeId':this[_0x29b48c(0x781)]['getId'](),'nodeType':this[_0x29b48c(0x781)][_0x29b48c(0x7f3)],'clusterId':this[_0x29b48c(0xea)],'path':_0x1d1abe}),this[_0x29b48c(0x9f6)]+=0x1,this[_0x29b48c(0x3b4)]();try{return await this[_0x29b48c(0x4b9)]['list'](_0x1d1abe,_0x4a8cab);}catch(_0x2a7b18){throw new _0x18939c(_0x15d29b['ExternalStorageInvalidPath'],'Cannot\x20list\x20directory:\x20'+_0x1d1abe);}}[_0x120045(0x8f0)](_0x10ea67,_0x307370){const _0x397b4e=_0x120045;if(this['listenerUnsubscribers']['has'](_0x10ea67))throw new _0x18939c(_0x15d29b['ExternalStorageConnectionAlreadySubscribed'],_0x397b4e(0x3ee));this[_0x397b4e(0x28b)][_0x397b4e(0x381)](_0x10ea67,this[_0x397b4e(0x857)][_0x397b4e(0x8f0)](_0x307370));}[_0x120045(0x236)](_0x392088){const _0x188d28=_0x120045;this[_0x188d28(0x28b)][_0x188d28(0x7e9)](_0x392088)?.(),this[_0x188d28(0x28b)]['delete'](_0x392088);}async['open'](){const _0x38bc41=_0x120045,_0x4d17f2=(await(0x0,_0x730305[_0x38bc41(0x6d2)])((0x0,_0x730305[_0x38bc41(0x696)])(_0x2451a5[_0x38bc41(0x368)](),_0x38bc41(0x175)+this[_0x38bc41(0x11b)]+_0x38bc41(0x304)+this[_0x38bc41(0x573)])))[_0x38bc41(0x7f6)]();if(!_0x4d17f2)throw new _0x18939c(_0x15d29b[_0x38bc41(0xa24)],_0x38bc41(0x6d3)+this[_0x38bc41(0x573)]);const {site:_0x280862,drive:_0x1ecc2d}=_0x4d17f2,_0x21badc=(await(0x0,_0x3a9c7d['httpsCallable'])(_0x2451a5[_0x38bc41(0x586)](),'msalGetAccessToken')({'storageId':this[_0x38bc41(0x573)]}))[_0x38bc41(0x7f6)][_0x38bc41(0x1ca)];this['connector']=new this[(_0x38bc41(0x868))](_0x280862['id'],_0x1ecc2d['id'],_0x21badc,async()=>(await(0x0,_0x3a9c7d[_0x38bc41(0x643)])(_0x2451a5[_0x38bc41(0x586)](),_0x38bc41(0x361))({'storageId':this[_0x38bc41(0x573)]}))[_0x38bc41(0x7f6)]['accessToken']),this['trackChanges']();}['sendStats'](){const _0x50dfd0=_0x120045;this['debounceStats']&&clearTimeout(this[_0x50dfd0(0x219)]),this[_0x50dfd0(0x219)]=setTimeout(async()=>{const _0x4bc127=_0x50dfd0;delete this[_0x4bc127(0x219)],this['systemTopic']['publish']({'sourceId':_0x40bfc5,'messageType':_0x435438['Content'],'content':{'type':_0x46be06['ExternalStorageStats'],'label':this[_0x4bc127(0x573)],'stats':{'timestamp':Date[_0x4bc127(0x9e1)](),'storage':0x0,'messagesSent':0x0,'messagesReceived':0x0,'bytesSent':0x0,'bytesReceived':0x0,'writes':0x0,'reads':this['reads'],'prompts':0x0,'tokens':0x0}}});},_0x4e96c3);}async[_0x120045(0xa3c)](){const _0x5e204a=_0x120045;await this['connector']?.['listChanges'](),this['changesUnsubscriber']=_0x3da74f[_0x5e204a(0x40c)](async()=>{const _0x2d15f8=_0x5e204a;try{if(!this['connector'])return;const _0x1a4e34=await this[_0x2d15f8(0x4b9)][_0x2d15f8(0x6b6)]();for(const _0x5356b1 of _0x1a4e34)this['eventListener'][_0x2d15f8(0x552)](_0x5356b1);}catch(_0x29ea17){}},0x493e0);}}const _0x1977f7=require('rxjs');class _0x28cac4 extends _0x3ab0ee{['graphService'];[_0x120045(0x23b)]=new Map();[_0x120045(0x4ae)]=new Map();['jobBids']=new Map();[_0x120045(0xa2c)];constructor(_0x1bd9ed,_0x245a38,_0x2a7dec){const _0x453dd5=_0x120045;super(_0x1bd9ed,_0x245a38),this[_0x453dd5(0x66c)]=_0x2a7dec;}[_0x120045(0x729)](){const _0x206f62=_0x120045;return _0x4e2564['ContentType'][_0x206f62(0x81e)];}[_0x120045(0x69b)](){const _0x7da725=_0x120045;this[_0x7da725(0xa2c)]=this['onMessage']((_0x1ac3ec,_0x4830a3)=>{const _0x405db8=_0x7da725;if(_0x1b1d61[_0x405db8(0xed)](_0x185607[_0x405db8(0x41c)],_0x405db8(0x92a),_0x1ac3ec,_0x4830a3,this[_0x405db8(0x66c)][_0x405db8(0x963)]()),!(_0x4830a3 instanceof File)){if(!_0x4830a3)throw new _0x4a916f(_0x4a916f[_0x405db8(0xa30)][_0x405db8(0x2ce)]);return this[_0x405db8(0xe1)](_0x4830a3)?this[_0x405db8(0xa1f)](_0x1ac3ec,_0x4830a3['id'],_0x4830a3):this[_0x405db8(0x531)](_0x4830a3)?(_0x1b1d61['log'](_0x185607['Jobs'],_0x405db8(0x8d3)+_0x4830a3['id']+_0x405db8(0x61b),_0x4830a3[_0x405db8(0x8ef)]),void this[_0x405db8(0xa05)](_0x4830a3['id'],_0x4830a3)):this[_0x405db8(0x9c5)](_0x4830a3)?(_0x1b1d61[_0x405db8(0xed)](_0x185607[_0x405db8(0x41c)],_0x405db8(0x8d3)+_0x4830a3['id']+_0x405db8(0x444),_0x4830a3[_0x405db8(0x8ef)]),void this[_0x405db8(0x717)](_0x4830a3['id'],_0x4830a3)):void(this[_0x405db8(0xe8)](_0x4830a3)&&this[_0x405db8(0x7d7)](_0x4830a3['id'],_0x4830a3['message']));}});}['reset'](){const _0x4b2134=_0x120045;this[_0x4b2134(0x960)](),this[_0x4b2134(0x69b)]();}[_0x120045(0x4d9)](){const _0x4bdcb0=_0x120045;this[_0x4bdcb0(0x960)](),super[_0x4bdcb0(0x4d9)]();}[_0x120045(0x960)](){const _0x410f49=_0x120045;this[_0x410f49(0x23b)]['clear'](),this[_0x410f49(0xa2c)]&&this[_0x410f49(0xa2c)]();}[_0x120045(0x1c1)](){const _0x1c2b30=_0x120045;this[_0x1c2b30(0xa45)]?.[_0x1c2b30(0x552)]({'sourceId':_0x40bfc5,'messageType':_0x435438[_0x1c2b30(0x9a6)],'content':{'type':_0x46be06['CloseJobDispatcher'],'label':this[_0x1c2b30(0x573)]}});}async['createJob'](_0x172b8f){const _0x451257=_0x120045,{id:_0x27f3aa,parameters:_0x3f2131,jobType:_0x2d4a9f}=_0x172b8f,_0xb8f9ef={'id':_0x27f3aa,'jobType':_0x2d4a9f,'parameters':_0x3f2131,'status':_0x4e2564['JobStatus'][_0x451257(0x539)],'created':new Date(),'updated':new Date()};if(this['jobs']['has'](_0xb8f9ef['id']))throw new _0x18939c(_0x15d29b[_0x451257(0x6e8)],'Job\x20with\x20id\x20'+_0xb8f9ef['id']+_0x451257(0x240));_0xb8f9ef[_0x451257(0x735)]=new Date(),_0xb8f9ef[_0x451257(0x192)]=new Date();const _0x55c19e=new _0x1977f7['Subject']();this[_0x451257(0x23b)]['set'](_0xb8f9ef['id'],_0xb8f9ef),this['jobObservers'][_0x451257(0x381)](_0xb8f9ef['id'],_0x55c19e);try{const _0x47550a={'id':_0xb8f9ef['id'],'jobPhase':_0x43f5a0['Request'],'jobType':_0xb8f9ef[_0x451257(0x80b)]},_0x330c14=0x3;let _0x32c391=0x0;const _0x3105b9=async()=>{const _0x597d8d=_0x451257;_0x32c391+=0x1;try{_0x1b1d61['log'](_0x185607[_0x597d8d(0x41c)],_0x597d8d(0x8d3)+_0xb8f9ef['id']+'\x20sending\x20attempt\x20'+_0x32c391+'.',this[_0x597d8d(0x66c)][_0x597d8d(0x963)]()),await this['send'](_0x47550a),_0xb8f9ef[_0x597d8d(0x192)]=new Date(),this[_0x597d8d(0x23b)][_0x597d8d(0x381)](_0xb8f9ef['id'],_0xb8f9ef),this[_0x597d8d(0x400)](_0xb8f9ef['id']);}catch(_0x574953){_0x32c391<_0x330c14?(_0x1b1d61[_0x597d8d(0x87e)](_0x597d8d(0x317)+_0x32c391+'\x20to\x20send\x20dispatcherJob\x20'+_0xb8f9ef['id']+_0x597d8d(0x328),{'nodeId':this[_0x597d8d(0x185)][_0x597d8d(0xd7)](),'nodeType':this[_0x597d8d(0x185)][_0x597d8d(0x7f3)],'data':{'job':_0xb8f9ef,'attempts':_0x32c391,'maxRetries':_0x330c14}}),setTimeout(_0x3105b9,0x3e8)):(_0xb8f9ef[_0x597d8d(0x129)]=_0x4e2564[_0x597d8d(0x470)]['Failed'],_0xb8f9ef[_0x597d8d(0x192)]=new Date(),this['jobs'][_0x597d8d(0x381)](_0xb8f9ef['id'],_0xb8f9ef),_0x1b1d61[_0x597d8d(0x525)]('Failed\x20to\x20send\x20job\x20'+_0xb8f9ef['id']+_0x597d8d(0x8f4)+_0x330c14+_0x597d8d(0x268),{'nodeId':this[_0x597d8d(0x185)][_0x597d8d(0xd7)](),'nodeType':this[_0x597d8d(0x185)][_0x597d8d(0x7f3)],'data':{'job':_0xb8f9ef,'attempts':_0x32c391,'maxRetries':_0x330c14,'error':_0x574953}}));}};_0x3105b9();const {id:_0x26faf4}=_0xb8f9ef;this[_0x451257(0x7f8)](_0x451257(0x8d3)+_0xb8f9ef['id']+_0x451257(0x890),{'jobId':_0x26faf4}),_0xb8f9ef[_0x451257(0x192)]=new Date();}catch(_0x582dd9){_0xb8f9ef[_0x451257(0x129)]=_0x4e2564[_0x451257(0x470)][_0x451257(0x464)],_0x1b1d61[_0x451257(0x525)](_0x451257(0x97c)+_0xb8f9ef['id']+':',{'nodeId':this[_0x451257(0x185)][_0x451257(0xd7)](),'nodeType':this['owner'][_0x451257(0x7f3)],'data':{'job':_0xb8f9ef,'error':_0x582dd9}});}return _0x55c19e[_0x451257(0x12f)]();}[_0x120045(0x439)](_0x360641){const _0x3854e0=_0x120045,_0x37af63=this[_0x3854e0(0x23b)][_0x3854e0(0x7e9)](_0x360641);if(!_0x37af63)throw new _0x18939c(_0x15d29b[_0x3854e0(0x75d)],_0x3854e0(0x2ae)+_0x360641+'\x20not\x20found.');return{'id':_0x37af63['id'],'jobType':_0x37af63[_0x3854e0(0x80b)],'status':_0x37af63[_0x3854e0(0x129)],'parameters':_0x37af63['parameters']};}['getJobs'](){const _0x4c215e=_0x120045;return Array[_0x4c215e(0x7f9)](this['jobs'][_0x4c215e(0x449)]())['map'](_0x5da02a=>this[_0x4c215e(0x439)](_0x5da02a['id']));}async['updateJob'](_0x3f02b8,_0x113be8){const _0x4d9a2a=_0x120045,_0x427eec=this[_0x4d9a2a(0x23b)]['get'](_0x3f02b8);if(!_0x427eec)throw new _0x18939c(_0x15d29b[_0x4d9a2a(0x75d)],_0x4d9a2a(0x2ae)+_0x3f02b8+_0x4d9a2a(0x365));_0x427eec[_0x4d9a2a(0x8b1)]=_0x113be8,_0x427eec[_0x4d9a2a(0x192)]=new Date(),this[_0x4d9a2a(0x23b)][_0x4d9a2a(0x381)](_0x3f02b8,_0x427eec);}async[_0x120045(0x9be)](_0x232c47){const _0x48d3c2=_0x120045;if(!this[_0x48d3c2(0x23b)]['delete'](_0x232c47))throw new _0x18939c(_0x15d29b['JobDispatcherJobNotFound'],'Job\x20with\x20id\x20'+_0x232c47+'\x20not\x20found.');const _0xeb874=this['jobObservers']['get'](_0x232c47);if(!_0xeb874)throw new _0x4a916f(_0x4a916f['codes']['JobDispatcherObserverNotFound']);_0xeb874[_0x48d3c2(0x63d)](),this[_0x48d3c2(0x4ae)][_0x48d3c2(0xa10)](_0x232c47),_0x1b1d61[_0x48d3c2(0xed)](_0x185607[_0x48d3c2(0x41c)],_0x48d3c2(0x8d3)+_0x232c47+_0x48d3c2(0x3c9));}[_0x120045(0xa1f)](_0x45a7bc,_0x5374f7,_0x32b377){const _0x2262bf=_0x120045,_0xa044b0=this[_0x2262bf(0xa70)][_0x2262bf(0x7e9)](_0x5374f7)??new Map();_0xa044b0['set'](_0x45a7bc,[_0x32b377,Date['now']()]),this[_0x2262bf(0xa70)][_0x2262bf(0x381)](_0x5374f7,_0xa044b0),this[_0x2262bf(0x420)](_0x5374f7);}['startBidResponseHandling'](_0xe3cb){const _0x5bb6da=_0x120045,_0x3f4e4c=this[_0x5bb6da(0x23b)][_0x5bb6da(0x7e9)](_0xe3cb);if(!_0x3f4e4c)throw new _0x4a916f(_0x4a916f[_0x5bb6da(0xa30)][_0x5bb6da(0x75d)]);const _0x25337d=setTimeout(()=>this[_0x5bb6da(0x420)](_0xe3cb,!0x0),0xbb8);_0x3f4e4c['responseTimeout']=_0x25337d,this['jobs'][_0x5bb6da(0x381)](_0x3f4e4c['id'],_0x3f4e4c);}[_0x120045(0x420)](_0x3f8771,_0x12958a=!0x1){const _0x2b201d=_0x120045,_0x12f849=this[_0x2b201d(0x66c)][_0x2b201d(0x963)](),_0x2a307c=Array[_0x2b201d(0x7f9)](_0x12f849[_0x2b201d(0x449)]())[_0x2b201d(0x1e1)](_0x290d5b=>_0x290d5b[_0x2b201d(0x7f3)]===_0x4e2564[_0x2b201d(0x9cd)][_0x2b201d(0x580)]),_0x2635f8=this[_0x2b201d(0xa70)][_0x2b201d(0x7e9)](_0x3f8771)??new Map();if(!_0x12958a&&(!_0x2635f8||_0x2635f8[_0x2b201d(0x625)]<_0x2a307c[_0x2b201d(0x59d)]))return;const _0x18bff9=this[_0x2b201d(0x23b)]['get'](_0x3f8771);if(!_0x18bff9)throw new _0x4a916f(_0x4a916f[_0x2b201d(0xa30)][_0x2b201d(0x75d)]);if(clearTimeout(_0x18bff9['responseTimeout']),_0x1b1d61[_0x2b201d(0xed)](_0x185607[_0x2b201d(0x41c)],_0x2b201d(0x8d3)+_0x18bff9['id']+_0x2b201d(0xfe),_0x2635f8,this[_0x2b201d(0xa70)]),!_0x2635f8||0x0===_0x2635f8[_0x2b201d(0x625)]){_0x18bff9[_0x2b201d(0x129)]=_0x4e2564[_0x2b201d(0x470)][_0x2b201d(0x464)],_0x18bff9[_0x2b201d(0x192)]=new Date(),_0x1b1d61['error'](_0x2b201d(0x8d3)+_0x18bff9['id']+'\x20failed\x20to\x20receive\x20a\x20valid\x20bid\x20responses\x20in\x20time.',{'nodeId':this[_0x2b201d(0x185)][_0x2b201d(0xd7)](),'nodeType':this[_0x2b201d(0x185)]['type'],'data':{'job':_0x18bff9,'responses':_0x2635f8}});const _0x236d1f=this['jobObservers'][_0x2b201d(0x7e9)](_0x3f8771);if(!_0x236d1f)throw new _0x4a916f(_0x4a916f[_0x2b201d(0xa30)][_0x2b201d(0x5db)]);const _0xd726a6=_0x2b201d(0x687),_0x143386={'id':_0x18bff9['id'],'status':_0x18bff9['status'],'message':_0xd726a6};return _0x236d1f[_0x2b201d(0x666)](_0x143386),_0x236d1f[_0x2b201d(0x63d)](),this[_0x2b201d(0x23b)][_0x2b201d(0x381)](_0x18bff9['id'],_0x18bff9),void this[_0x2b201d(0xa70)]['delete'](_0x3f8771);}const {nodeId:_0x3f0188,response:_0x242614}=this[_0x2b201d(0x289)](_0x18bff9['id'],_0x2635f8);_0x18bff9['status']=_0x4e2564['JobStatus'][_0x2b201d(0x59b)],_0x18bff9[_0x2b201d(0x192)]=new Date(),_0x1b1d61['log'](_0x185607['Jobs'],'Job\x20'+_0x18bff9['id']+_0x2b201d(0x9b5)+_0x3f0188+_0x2b201d(0x30b),_0x242614);const _0x2aad75={'id':_0x18bff9['id'],'jobType':_0x18bff9['jobType'],'jobPhase':_0x43f5a0['Attribution'],'parameters':_0x18bff9['parameters']};this[_0x2b201d(0x593)](_0x2aad75,[_0x3f0188]),this['jobs'][_0x2b201d(0x381)](_0x18bff9['id'],_0x18bff9),this[_0x2b201d(0xa70)]['delete'](_0x3f8771);}[_0x120045(0x289)](_0x1f5627,_0x3d5943){const _0x51addf=_0x120045;let _0x52fcb1;const _0x4d6b9b=Array[_0x51addf(0x7f9)](_0x3d5943[_0x51addf(0x471)]())['filter'](([,[_0x2e8298]])=>_0x2e8298[_0x51addf(0x6da)]);if(_0x52fcb1=_0x4d6b9b[_0x51addf(0x59d)]>0x0?Array[_0x51addf(0x7f9)](_0x3d5943[_0x51addf(0x471)]())[_0x51addf(0x184)]((_0x10c24a,_0x90fce2)=>_0x90fce2[0x1][0x0][_0x51addf(0x504)]-_0x10c24a[0x1][0x0][_0x51addf(0x504)]):Array[_0x51addf(0x7f9)](_0x3d5943[_0x51addf(0x471)]())[_0x51addf(0x184)]((_0x1bf577,_0xa5e25f)=>_0x1bf577[0x1][0x0][_0x51addf(0x609)]-_0xa5e25f[0x1][0x0][_0x51addf(0x609)]),0x1===_0x52fcb1[_0x51addf(0x59d)])return{'nodeId':_0x52fcb1[0x0][0x0],'response':_0x52fcb1[0x0][0x1][0x0]};let _0x3d8740;if(_0x3d8740=_0x4d6b9b['length']>0x0?(_0xbc10df=>{const _0x261a6f=_0x51addf,_0x38a7f2=_0xbc10df[0x0][0x1][0x0][_0x261a6f(0x504)];return _0xbc10df[_0x261a6f(0x1e1)](([,[_0x1effc3]])=>_0x1effc3['bid']===_0x38a7f2);})(_0x52fcb1):(_0x145eab=>{const _0x2f7438=_0x51addf,_0x3f5375=_0x145eab[0x0][0x1][0x0][_0x2f7438(0x609)];return _0x145eab[_0x2f7438(0x1e1)](([,[_0x1717ed]])=>_0x1717ed[_0x2f7438(0x609)]===_0x3f5375);})(_0x52fcb1),0x1===_0x3d8740['length'])return{'nodeId':_0x3d8740[0x0][0x0],'response':_0x3d8740[0x0][0x1][0x0]};const _0x42379d=this[_0x51addf(0x23b)][_0x51addf(0x7e9)](_0x1f5627);if(!_0x42379d)throw new _0x4a916f(_0x4a916f[_0x51addf(0xa30)][_0x51addf(0x75d)]);const _0x3809e8=_0x42379d[_0x51addf(0x735)][_0x51addf(0x393)](),_0x3f088d=_0x3d8740[_0x51addf(0x760)](([_0x1c6a61,[,_0x5d9f92]])=>({'nodeId':_0x1c6a61,'rtt':_0x5d9f92-_0x3809e8})),_0x273558=Math[_0x51addf(0x3ac)](..._0x3f088d[_0x51addf(0x760)](({rtt:_0x5681aa})=>_0x5681aa)),_0x380b4c=_0x3f088d[_0x51addf(0x999)](({rtt:_0x479968})=>_0x479968===_0x273558),[,[_0x45e239]]=_0x3d8740[_0x51addf(0x999)](([_0x289697])=>_0x289697===_0x380b4c['nodeId']);return{'nodeId':_0x380b4c[_0x51addf(0x846)],'response':_0x45e239};}[_0x120045(0xa05)](_0x187cee,_0x3d4dc1){const _0x571540=_0x120045,_0x450b70=this[_0x571540(0x23b)]['get'](_0x187cee);if(!_0x450b70)throw new _0x4a916f(_0x4a916f[_0x571540(0xa30)]['JobDispatcherJobNotFound']);const _0x24998e=this['jobObservers']['get'](_0x187cee);if(!_0x24998e)throw new _0x4a916f(_0x4a916f['codes']['JobDispatcherObserverNotFound']);const _0x479f5b={'id':_0x450b70['id'],'status':_0x4e2564[_0x571540(0x470)][_0x571540(0x1f6)],'result':_0x3d4dc1['result']};_0x24998e[_0x571540(0x666)](_0x479f5b);}[_0x120045(0x717)](_0x44fb44,_0x1ad971){const _0x2e6a97=_0x120045,_0x3c02c9=this[_0x2e6a97(0x23b)][_0x2e6a97(0x7e9)](_0x44fb44);if(!_0x3c02c9)throw new _0x4a916f(_0x4a916f[_0x2e6a97(0xa30)][_0x2e6a97(0x75d)]);const _0x1f2ca5=this[_0x2e6a97(0x4ae)][_0x2e6a97(0x7e9)](_0x44fb44);if(!_0x1f2ca5)throw new _0x4a916f(_0x4a916f[_0x2e6a97(0xa30)][_0x2e6a97(0x5db)]);_0x3c02c9[_0x2e6a97(0x129)]=_0x4e2564['JobStatus'][_0x2e6a97(0x481)];const _0x7da406={'id':_0x3c02c9['id'],'status':_0x3c02c9[_0x2e6a97(0x129)],'result':_0x1ad971[_0x2e6a97(0x8ef)]};_0x1f2ca5[_0x2e6a97(0x666)](_0x7da406),_0x1f2ca5[_0x2e6a97(0x63d)](),this['jobObservers'][_0x2e6a97(0xa10)](_0x44fb44),this[_0x2e6a97(0x7f8)](_0x2e6a97(0x8d3)+_0x44fb44+_0x2e6a97(0x93f),{'jobId':_0x44fb44});}['failJob'](_0x127a47,_0x209e0a){const _0x5de7c4=_0x120045,_0x392634=this[_0x5de7c4(0x23b)][_0x5de7c4(0x7e9)](_0x127a47);if(!_0x392634)throw new _0x4a916f(_0x4a916f[_0x5de7c4(0xa30)][_0x5de7c4(0x75d)]);const _0x566abc=this[_0x5de7c4(0x4ae)][_0x5de7c4(0x7e9)](_0x127a47);if(!_0x566abc)throw new _0x4a916f(_0x4a916f['codes']['JobDispatcherObserverNotFound']);_0x392634[_0x5de7c4(0x129)]=_0x4e2564['JobStatus'][_0x5de7c4(0x464)];const _0x202834={'id':_0x392634['id'],'status':_0x392634[_0x5de7c4(0x129)],'message':_0x209e0a};_0x566abc[_0x5de7c4(0x666)](_0x202834),_0x566abc[_0x5de7c4(0x63d)](),this[_0x5de7c4(0x4ae)][_0x5de7c4(0xa10)](_0x127a47),this[_0x5de7c4(0x7f8)](_0x5de7c4(0x8d3)+_0x127a47+_0x5de7c4(0x594),{'jobId':_0x127a47});}[_0x120045(0x7f8)](_0x2d3082,{jobId:_0x1b3d98}){const _0x3317d5=_0x120045,_0x56525b={'jobId':_0x1b3d98,'mistletIds':Array[_0x3317d5(0x7f9)](this[_0x3317d5(0x66c)][_0x3317d5(0x963)]()[_0x3317d5(0x449)]())['filter'](_0xec51d1=>_0xec51d1[_0x3317d5(0x7f3)]===_0x4e2564[_0x3317d5(0x9cd)][_0x3317d5(0x580)])[_0x3317d5(0x760)](_0x138242=>_0x138242[_0x3317d5(0xd7)]())};_0x1b1d61['logEvent'](_0x2d3082,{'nodeId':this['getOwnerId'](),'nodeType':this[_0x3317d5(0x185)][_0x3317d5(0x7f3)],'data':_0x56525b}),_0x1b1d61[_0x3317d5(0xed)](_0x185607[_0x3317d5(0x41c)],_0x2d3082,_0x56525b);}['isBidResponse'](_0x1b3a04){const {jobPhase:_0x532aff,available:_0x41b8d1,bid:_0x59d8c8}=_0x1b3a04;return _0x532aff===_0x43f5a0['Bid']&&void 0x0!==_0x41b8d1&&void 0x0!==_0x59d8c8;}[_0x120045(0x531)](_0x44247e){const {jobPhase:_0x3f6fa0,result:_0x18c436}=_0x44247e;return _0x3f6fa0===_0x43f5a0['PartialResult']&&void 0x0!==_0x18c436;}['isResultResponse'](_0x6744eb){const _0x10db58=_0x120045,{jobPhase:_0x1c5ba8,result:_0x1fcd86}=_0x6744eb;return _0x1c5ba8===_0x43f5a0[_0x10db58(0x6f7)]&&void 0x0!==_0x1fcd86;}[_0x120045(0xe8)](_0x57ade6){const _0x1b1706=_0x120045,{jobPhase:_0x721627,message:_0x51b326}=_0x57ade6;return _0x721627===_0x43f5a0[_0x1b1706(0x464)]&&void 0x0!==_0x51b326&&_0x1b1706(0x630)==typeof _0x51b326;}}var _0x431e3a,_0x2ec795,_0x3dead4,_0x59c578;!function(_0x773022){const _0x188555=_0x120045;_0x773022['ObjectStorage']=_0x188555(0x844),_0x773022[_0x188555(0x322)]=_0x188555(0x774);}(_0x431e3a||(_0x431e3a={})),function(_0x56a6ca){const _0x109d08=_0x120045;_0x56a6ca[_0x109d08(0x580)]=_0x109d08(0xa82),_0x56a6ca['AgentSkill']=_0x109d08(0x7e7),_0x56a6ca[_0x109d08(0x9df)]='router',_0x56a6ca[_0x109d08(0x367)]=_0x109d08(0x57a),_0x56a6ca[_0x109d08(0x22f)]=_0x109d08(0x2c0),_0x56a6ca['Knowledge']='knowledge',_0x56a6ca[_0x109d08(0x190)]='prompt',_0x56a6ca['Answer']='answer',_0x56a6ca['Code']=_0x109d08(0x626),_0x56a6ca[_0x109d08(0x339)]=_0x109d08(0x2de),_0x56a6ca[_0x109d08(0x417)]=_0x109d08(0x9c3),_0x56a6ca[_0x109d08(0x3b1)]='web-scraper',_0x56a6ca[_0x109d08(0x30f)]=_0x109d08(0x704),_0x56a6ca[_0x109d08(0x8ec)]='query-file',_0x56a6ca[_0x109d08(0x9fe)]=_0x109d08(0xa18),_0x56a6ca[_0x109d08(0x5e8)]='chunk-splitter',_0x56a6ca['SentenceSplitter']=_0x109d08(0x4fc),_0x56a6ca['WordSplitter']='word-splitter',_0x56a6ca['DocumentParser']=_0x109d08(0x50b),_0x56a6ca[_0x109d08(0x12b)]=_0x109d08(0x4ed),_0x56a6ca['OutputAudioStream']='output-audio-stream';}(_0x2ec795||(_0x2ec795={})),function(_0x42172c){const _0x5009d5=_0x120045;_0x42172c[_0x5009d5(0x741)]=_0x5009d5(0x9c2),_0x42172c['ExternalStorageUpload']=_0x5009d5(0x3e3),_0x42172c['DocumentParser']='document-parser',_0x42172c[_0x5009d5(0x5e8)]=_0x5009d5(0x512),_0x42172c[_0x5009d5(0xa4b)]='word-splitter',_0x42172c['SentenceSplitter']=_0x5009d5(0x4fc),_0x42172c[_0x5009d5(0x232)]=_0x5009d5(0x613),_0x42172c['EntityExtractor']='entity-extractor',_0x42172c[_0x5009d5(0x3f4)]='reranker',_0x42172c[_0x5009d5(0x2e5)]=_0x5009d5(0x74d),_0x42172c[_0x5009d5(0x580)]=_0x5009d5(0xa82),_0x42172c[_0x5009d5(0x14a)]='object-storage',_0x42172c[_0x5009d5(0x8bf)]='key-value-database',_0x42172c['VectorDatabase']=_0x5009d5(0x67c),_0x42172c[_0x5009d5(0x803)]=_0x5009d5(0x5dc),_0x42172c[_0x5009d5(0x190)]=_0x5009d5(0x1d9),_0x42172c['Context']=_0x5009d5(0x569);}(_0x3dead4||(_0x3dead4={})),function(_0x423abd){const _0x569a71=_0x120045;_0x423abd[_0x569a71(0x622)]=_0x569a71(0xa11),_0x423abd[_0x569a71(0x86f)]=_0x569a71(0x6dc),_0x423abd[_0x569a71(0x8b5)]=_0x569a71(0x7b9),_0x423abd[_0x569a71(0x94b)]=_0x569a71(0x28e),_0x423abd[_0x569a71(0x6ad)]=_0x569a71(0x7f6),_0x423abd[_0x569a71(0x649)]='vector',_0x423abd['Entity']=_0x569a71(0x187),_0x423abd[_0x569a71(0x61d)]=_0x569a71(0x94e),_0x423abd[_0x569a71(0x339)]='search',_0x423abd[_0x569a71(0x9ed)]='index',_0x423abd['Tool']='tool',_0x423abd[_0x569a71(0x7a6)]=_0x569a71(0x569),_0x423abd[_0x569a71(0x52c)]=_0x569a71(0x22c),_0x423abd[_0x569a71(0x259)]='wait-true',_0x423abd[_0x569a71(0x1b6)]=_0x569a71(0x638);}(_0x59c578||(_0x59c578={}));const _0x65d38c=[{'id':_0x120045(0x105),'name':'Conditional\x20Router','description':_0x120045(0x4f5),'modelId':_0x120045(0x2dc),'instructions':_0x120045(0x60e),'grammar':'if_else','temperature':0x0,'maxTokens':0x64}],_0x2cb2cf=[{'id':_0x120045(0x954),'name':'Blank\x20Agent','description':'','modelId':_0x120045(0x2dc),'instructions':'','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x120045(0x312),'name':_0x120045(0x1b7),'description':_0x120045(0x7a5),'modelId':_0x120045(0x2dc),'instructions':'Generic\x20AI\x20Agent\x20is\x20a\x20flexible\x20assistant\x20capable\x20of\x20responding\x20to\x20various\x20queries\x20and\x20tasks.\x0a-\x20It\x20provides\x20informative\x20and\x20concise\x20responses.\x0a-\x20It\x20adapts\x20its\x20tone\x20and\x20depth\x20based\x20on\x20the\x20context\x20of\x20the\x20conversation.\x0a-\x20It\x20ensures\x20clarity\x20and\x20coherence\x20in\x20all\x20interactions.\x0a-\x20It\x20structures\x20responses\x20using\x20Markdown\x20for\x20readability.\x0a-\x20It\x20avoids\x20making\x20assumptions\x20without\x20sufficient\x20context.\x0a-\x20It\x20can\x20summarize,\x20analyze,\x20and\x20generate\x20content\x20as\x20needed.\x0a-\x20It\x20always\x20prioritizes\x20user\x20intent\x20and\x20accuracy.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x120045(0x2aa),'name':_0x120045(0x7d1),'description':_0x120045(0x62b),'modelId':_0x120045(0x2dc),'instructions':_0x120045(0x209),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x120045(0x691),'name':_0x120045(0x99f),'description':_0x120045(0x8fd),'modelId':_0x120045(0x2dc),'instructions':_0x120045(0x59f),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x120045(0x66e),'name':_0x120045(0x51b),'description':'Adapts\x20content\x20based\x20on\x20user\x20learning\x20progress.','modelId':_0x120045(0x2dc),'instructions':'Learning\x20Agent\x20adapts\x20to\x20user\x20learning\x20levels,\x20pace,\x20and\x20preferred\x20format.\x0a-\x20Assesses\x20prior\x20knowledge\x20before\x20beginning\x20lessons.\x0a-\x20Customizes\x20learning\x20paths\x20and\x20adjusts\x20difficulty\x20based\x20on\x20performance.\x0a-\x20Provides\x20step-by-step\x20explanations\x20and\x20real-world\x20examples.\x0a-\x20Uses\x20spaced\x20repetition\x20techniques\x20for\x20reinforcement.\x0a-\x20Lessons\x20are\x20structured\x20with\x20Markdown\x20headers\x20and\x20inline\x20quizzes.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x120045(0x9ae),'name':'Query\x20Generator','description':'Helps\x20users\x20construct\x20optimized\x20SQL\x20or\x20NoSQL\x20queries.','modelId':_0x120045(0x2dc),'instructions':_0x120045(0x929),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x120045(0x39e),'name':_0x120045(0xa1c),'description':_0x120045(0x2b8),'modelId':_0x120045(0x2dc),'instructions':_0x120045(0x1da),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':'strategizing-agent','name':_0x120045(0x47c),'description':_0x120045(0x518),'modelId':_0x120045(0x2dc),'instructions':_0x120045(0x24a),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x120045(0x778),'name':_0x120045(0x388),'description':_0x120045(0x7a1),'modelId':_0x120045(0x2dc),'instructions':_0x120045(0x4f6),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x120045(0x9a7),'name':_0x120045(0x94d),'description':_0x120045(0x5e2),'modelId':_0x120045(0x2dc),'instructions':_0x120045(0x983),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x120045(0x29d),'name':_0x120045(0x58e),'description':_0x120045(0x64d),'modelId':_0x120045(0x2dc),'instructions':'Trend\x20Spotter\x20gathers\x20current\x20market\x20trends\x20from\x20reports,\x20social\x20media,\x20and\x20industry\x20news.\x0a-\x20It\x20identifies\x20the\x20market\x20of\x20interest\x20before\x20conducting\x20a\x20web\x20search.\x0a-\x20Provides\x20an\x20executive\x20summary\x20followed\x20by\x20detailed\x20insights.\x0a-\x20Lists\x20verified\x20statistics\x20and\x20their\x20sources.\x0a-\x20Always\x20states\x20the\x20date\x20of\x20information\x20and\x20suggests\x20verification.\x0a-\x20Summaries\x20are\x20structured\x20under\x20Key\x20Trends,\x20Market\x20Growth,\x20and\x20Consumer\x20Preferences.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x120045(0x284),'name':'Copywriter\x20Agent','description':_0x120045(0x92e),'modelId':'gpt-4o-mini','instructions':_0x120045(0xa0c),'grammar':'','temperature':0.8,'maxTokens':0x3e8}];class _0x5c072c{static [_0x120045(0x115)];constructor(){}static[_0x120045(0x188)](){const _0x27bd87=_0x120045;return _0x5c072c[_0x27bd87(0x115)]||(_0x5c072c['instance']=new _0x5c072c()),_0x5c072c[_0x27bd87(0x115)];}async['getWorkflow'](_0x12e27a,_0x4cb017){const _0x2bc318=_0x120045,_0x2b93a2=await(0x0,_0x730305['getDoc'])((0x0,_0x730305['doc'])(_0x2451a5[_0x2bc318(0x368)](),_0x2bc318(0x175)+_0x12e27a+_0x2bc318(0x6dd)+_0x4cb017)),_0x3a6b1c=await this['getAgents'](_0x12e27a);_0x3a6b1c[_0x2bc318(0xdc)](..._0x65d38c),_0x3a6b1c[_0x2bc318(0xdc)](..._0x2cb2cf);const _0x56854d=await this[_0x2bc318(0x335)](_0x12e27a);if(!_0x2b93a2[_0x2bc318(0x52f)]())throw new _0x4a916f(_0x4a916f[_0x2bc318(0xa30)][_0x2bc318(0x4f4)]);return this[_0x2bc318(0x298)](_0x2b93a2,_0x3a6b1c,_0x56854d);}async[_0x120045(0x145)](_0x403bb5,_0x2dbad9){const _0x2c66b2=_0x120045,_0x1c07fa=await(0x0,_0x730305[_0x2c66b2(0x6d2)])((0x0,_0x730305[_0x2c66b2(0x696)])(_0x2451a5['getFirestore'](),_0x2c66b2(0x175)+_0x403bb5+_0x2c66b2(0x3af)+_0x2dbad9)),_0x59d9b2=await this[_0x2c66b2(0x8fa)](_0x403bb5),_0x4f7027=_0x1c07fa[_0x2c66b2(0x7f6)]();if(!_0x4f7027)throw new _0x4a916f(_0x4a916f[_0x2c66b2(0xa30)][_0x2c66b2(0x85c)]);return{'type':_0x2ec795[_0x2c66b2(0x22f)],'id':_0x2dbad9,'uid':_0x2dbad9,'name':_0x4f7027[_0x2c66b2(0x5eb)],'description':_0x4f7027[_0x2c66b2(0x9fd)],'ingestBlocks':this['parseDataCollectionBlocks'](_0x4f7027[_0x2c66b2(0x87b)],_0x59d9b2),'retrieveBlocks':this[_0x2c66b2(0x1e2)](_0x4f7027[_0x2c66b2(0x680)],_0x59d9b2),'links':[]};}['parseWorkflowDocument'](_0x50a7de,_0xd95811,_0x16a3f0){const _0xda9548=_0x120045,_0x3471b8=_0x50a7de[_0xda9548(0x7f6)]();if(!_0x3471b8)throw new _0x4a916f(_0x4a916f[_0xda9548(0xa30)][_0xda9548(0x4f4)]);const _0x3651f0=this[_0xda9548(0x22e)](_0x3471b8[_0xda9548(0xa68)],_0xd95811,_0x16a3f0);return{'id':_0x50a7de['id'],'blocks':_0x3651f0,'dataBucketIds':this[_0xda9548(0x6ca)](_0x3651f0),'externalStorageConnectionIds':this[_0xda9548(0x82a)](_0x3651f0),'initialPrompt':_0x3471b8[_0xda9548(0x29c)]};}[_0x120045(0x6ca)](_0x23758d){const _0x55057e=_0x120045,_0x425b3b=new Set();for(const _0x25769d of _0x23758d)switch(_0x25769d[_0x55057e(0x7f3)]){case _0x2ec795['Knowledge']:case _0x2ec795[_0x55057e(0x22f)]:for(const _0x5b553e of[..._0x25769d['ingestBlocks'],..._0x25769d[_0x55057e(0x680)]])_0x5b553e[_0x55057e(0x7f3)]===_0x3dead4[_0x55057e(0x741)]&&_0x425b3b[_0x55057e(0x532)](_0x5b553e['id']);}return Array[_0x55057e(0x7f9)](_0x425b3b);}['getWorkflowExternalStorageConnections'](_0x13f8c2){const _0x583b9f=_0x120045,_0x246c3d=new Set();for(const _0x17448f of _0x13f8c2)switch(_0x17448f['type']){case _0x2ec795[_0x583b9f(0x9d8)]:case _0x2ec795['DataCollection']:for(const _0x6ee3ae of[..._0x17448f[_0x583b9f(0x87b)],..._0x17448f[_0x583b9f(0x680)]])_0x6ee3ae[_0x583b9f(0x7f3)]===_0x3dead4[_0x583b9f(0x479)]&&_0x246c3d[_0x583b9f(0x532)](_0x6ee3ae['id']);}return Array[_0x583b9f(0x7f9)](_0x246c3d);}[_0x120045(0x22e)](_0x4e7ad0,_0xac8269,_0x353971){const _0x29e2a1=_0x120045;return _0x4e7ad0[_0x29e2a1(0x760)](_0x28aec5=>{const _0x39c786=_0x29e2a1;switch(_0x28aec5[_0x39c786(0x7f3)]){case _0x2ec795[_0x39c786(0x580)]:case _0x2ec795[_0x39c786(0xd4)]:case _0x2ec795[_0x39c786(0x9df)]:const _0x12328a=_0xac8269[_0x39c786(0x999)](_0x24ade1=>_0x24ade1['id']===_0x28aec5['id']);if(!_0x12328a)throw new _0x4a916f(_0x4a916f[_0x39c786(0xa30)][_0x39c786(0x255)],{'block':_0x28aec5});return{'type':_0x2ec795[_0x39c786(0x580)],'id':_0x12328a['id'],'uid':_0x28aec5[_0x39c786(0x787)],'name':_0x12328a[_0x39c786(0x5eb)],'description':_0x12328a[_0x39c786(0x9fd)],'instructions':(_0x12328a[_0x39c786(0x2b7)]+'\x0a\x0a'+(_0x28aec5[_0x39c786(0xa82)]?.[_0x39c786(0x46d)]??''))['trim'](),'contextOutputVariable':_0x28aec5[_0x39c786(0xa82)]?.[_0x39c786(0x791)],'contextInputVariable':_0x28aec5['agent']?.[_0x39c786(0x886)],'reasoning':_0x28aec5[_0x39c786(0xa82)]?.[_0x39c786(0xda)]??!0x1,'grammar':_0x28aec5[_0x39c786(0xa82)]?.[_0x39c786(0x3d7)]?this[_0x39c786(0x48f)](_0x28aec5[_0x39c786(0xa82)]?.[_0x39c786(0x3d7)]):_0x39c786(0x90d),'temperature':_0x28aec5[_0x39c786(0xa82)]?.['temperature']??0.5,'maxTokens':_0x28aec5[_0x39c786(0xa82)]?.['maxTokens']??0x1f4,'modelId':_0x28aec5['agent']?.[_0x39c786(0x54b)]??'gpt-4o-mini','links':_0x28aec5[_0x39c786(0x310)]};case _0x2ec795[_0x39c786(0x9d8)]:case _0x2ec795['DataCollection']:const _0xd06552=_0x353971[_0x39c786(0x999)](_0x280647=>_0x280647['id']===_0x28aec5['id']);if(!_0xd06552)throw new _0x4a916f(_0x4a916f[_0x39c786(0xa30)][_0x39c786(0x255)],{'block':_0x28aec5});return{'type':_0x28aec5[_0x39c786(0x7f3)],'id':_0xd06552['id'],'uid':_0x28aec5[_0x39c786(0x787)],'name':_0xd06552[_0x39c786(0x5eb)],'description':_0xd06552[_0x39c786(0x9fd)],'ingestBlocks':this[_0x39c786(0x1e2)](_0xd06552[_0x39c786(0x87b)],_0xac8269),'retrieveBlocks':this[_0x39c786(0x1e2)](_0xd06552[_0x39c786(0x680)],_0xac8269),'links':_0x28aec5[_0x39c786(0x310)]};case _0x2ec795[_0x39c786(0x367)]:return{'type':_0x28aec5[_0x39c786(0x7f3)],'id':_0x28aec5['id'],'uid':_0x28aec5['uid'],'name':_0x28aec5[_0x39c786(0x5eb)],'description':_0x28aec5[_0x39c786(0x9fd)],'parameters':_0x28aec5[_0x39c786(0x8b1)],'endpointUrl':_0x28aec5[_0x39c786(0x7b5)],'endpointMethod':_0x28aec5['endpointMethod'],'headers':_0x28aec5[_0x39c786(0xa06)],'queryParameters':_0x28aec5['queryParameters'],'bodyParameters':_0x28aec5[_0x39c786(0x235)],'contextOutputVariable':_0x28aec5['contextOutputVariable'],'waitAsync':_0x28aec5['waitAsync'],'asyncEndpointUrl':_0x28aec5[_0x39c786(0xff)],'asyncEndpointMethod':_0x28aec5[_0x39c786(0x48c)],'asyncHeaders':_0x28aec5['asyncHeaders'],'links':_0x28aec5[_0x39c786(0x310)]};case _0x2ec795[_0x39c786(0x190)]:case _0x2ec795['InputAudioStream']:case _0x2ec795[_0x39c786(0x4ca)]:case _0x2ec795[_0x39c786(0x199)]:case _0x2ec795[_0x39c786(0x28d)]:case _0x2ec795[_0x39c786(0x339)]:case _0x2ec795[_0x39c786(0x417)]:case _0x2ec795[_0x39c786(0x3b1)]:case _0x2ec795['WebScraperRaw']:case _0x2ec795[_0x39c786(0x8ec)]:case _0x2ec795[_0x39c786(0x9fe)]:case _0x2ec795[_0x39c786(0x948)]:case _0x2ec795[_0x39c786(0xe3)]:return{'type':_0x28aec5['type'],'id':_0x28aec5['id'],'uid':_0x28aec5['uid'],'links':_0x28aec5[_0x39c786(0x310)]};case _0x2ec795['ChunkSplitter']:case _0x2ec795[_0x39c786(0xa4b)]:return{'type':_0x28aec5[_0x39c786(0x7f3)],'id':_0x28aec5['id'],'uid':_0x28aec5[_0x39c786(0x787)],'links':_0x28aec5['links'],'attributes':_0x28aec5['attributes']};default:throw new _0x4a916f(_0x4a916f['codes']['WorkflowInvalidBlockType'],{'block':_0x28aec5});}});}[_0x120045(0x1e2)](_0x261f7f,_0x4c91cb){return _0x261f7f?_0x261f7f['map'](_0x51e387=>{const _0x229993=a0_0x573a;switch(_0x51e387[_0x229993(0x7f3)]){case _0x3dead4[_0x229993(0x580)]:const _0x225cb1=_0x4c91cb[_0x229993(0x999)](_0x5216c8=>_0x5216c8['id']===_0x51e387['id']);if(!_0x225cb1)throw new _0x4a916f(_0x4a916f['codes']['WorkflowInvalidBlockType'],{'block':_0x51e387});return{'type':_0x51e387[_0x229993(0x7f3)],'id':_0x51e387['id'],'uid':_0x51e387[_0x229993(0x787)],'description':_0x225cb1[_0x229993(0x9fd)],'instructions':_0x225cb1[_0x229993(0x2b7)],'reasoning':_0x225cb1[_0x229993(0xda)]??!0x1,'grammar':_0x225cb1[_0x229993(0x3d7)],'temperature':_0x225cb1['temperature'],'maxTokens':_0x225cb1['maxTokens'],'modelId':_0x225cb1[_0x229993(0x54b)],'links':_0x51e387[_0x229993(0x310)]};case _0x3dead4[_0x229993(0x803)]:case _0x3dead4[_0x229993(0x76a)]:case _0x3dead4[_0x229993(0xa4b)]:case _0x3dead4[_0x229993(0x5e8)]:case _0x3dead4[_0x229993(0x78e)]:case _0x3dead4[_0x229993(0x3f4)]:return{'type':_0x51e387['type'],'id':_0x51e387['id'],'uid':_0x51e387['uid'],'links':_0x51e387[_0x229993(0x310)],'attributes':_0x51e387[_0x229993(0x15b)]};case _0x3dead4[_0x229993(0x2e5)]:case _0x3dead4[_0x229993(0x14a)]:case _0x3dead4[_0x229993(0x8bf)]:case _0x3dead4[_0x229993(0x232)]:case _0x3dead4['DocumentParser']:case _0x3dead4[_0x229993(0x948)]:case _0x3dead4[_0x229993(0x741)]:case _0x3dead4[_0x229993(0x479)]:case _0x3dead4[_0x229993(0x7a6)]:case _0x3dead4[_0x229993(0x190)]:return{'type':_0x51e387[_0x229993(0x7f3)],'id':_0x51e387['id'],'uid':_0x51e387[_0x229993(0x787)],'links':_0x51e387['links']};default:throw new _0x4a916f(_0x4a916f['codes'][_0x229993(0x255)],{'block':_0x51e387});}}):[];}async[_0x120045(0x8fa)](_0x1c7b9d){const _0x35e587=_0x120045;return(await(0x0,_0x730305[_0x35e587(0x391)])((0x0,_0x730305[_0x35e587(0x942)])(_0x2451a5[_0x35e587(0x368)](),_0x35e587(0x175)+_0x1c7b9d+_0x35e587(0x739))))['docs'][_0x35e587(0x760)](_0xad154e=>{const _0x3837cf=_0x35e587,_0x4aa184=_0xad154e[_0x3837cf(0x7f6)]();return{'type':_0x2ec795[_0x3837cf(0x580)],'id':_0xad154e['id'],'name':_0x4aa184['name'],'description':_0x4aa184[_0x3837cf(0x9fd)],'instructions':_0x4aa184[_0x3837cf(0x2b7)]};});}async[_0x120045(0x335)](_0x57d5a5){const _0x5bc4c0=_0x120045;return(await(0x0,_0x730305[_0x5bc4c0(0x391)])((0x0,_0x730305['collection'])(_0x2451a5[_0x5bc4c0(0x368)](),_0x5bc4c0(0x175)+_0x57d5a5+_0x5bc4c0(0x79a))))[_0x5bc4c0(0x282)][_0x5bc4c0(0x760)](_0x5e7f18=>{const _0x19287b=_0x5bc4c0,_0x3e8829=_0x5e7f18[_0x19287b(0x7f6)]();return{'type':_0x2ec795[_0x19287b(0x22f)],'id':_0x5e7f18['id'],'name':_0x3e8829['name'],'description':_0x3e8829[_0x19287b(0x9fd)],'ingestBlocks':_0x3e8829[_0x19287b(0x87b)],'retrieveBlocks':_0x3e8829['retrieveBlocks']};});}[_0x120045(0x48f)](_0x248234){const _0xf9a72c=_0x120045;return _0xf9a72c(0x90d)===_0x248234?_0xf9a72c(0x90d):'if_else'===_0x248234?_0xf9a72c(0x251):_0x248234;}}const _0x2299da=_0x5c072c[_0x120045(0x188)]();class _0x2b34dd extends _0x28cac4{[_0x120045(0x781)];[_0x120045(0x11b)];[_0x120045(0xa3a)]=0x0;[_0x120045(0x6a8)]=0x0;[_0x120045(0x219)];constructor(_0x4bb409,_0x6f24d0,_0x33b975,_0x1b2a97){const _0xaabf80=_0x120045;super(_0x4bb409,_0x6f24d0,_0x1b2a97),this[_0xaabf80(0x781)]=_0x4bb409,this[_0xaabf80(0x11b)]=_0x33b975,this['sendStats']();}[_0x120045(0x4d9)](){const _0x2c1a3c=_0x120045;this['debounceStats']&&(clearTimeout(this[_0x2c1a3c(0x219)]),delete this['debounceStats']),super[_0x2c1a3c(0x4d9)]();}[_0x120045(0x2c6)](){const _0x1669aa=_0x120045;this[_0x1669aa(0xa3a)]=0x0,this[_0x1669aa(0x6a8)]=0x0,this[_0x1669aa(0x3b4)](),super[_0x1669aa(0x2c6)]();}[_0x120045(0x3a9)](_0x369905){const _0x34be42=_0x120045,_0x5e82c4=_0x34be42(0x25c)+(0x0,_0x233c4d['v4'])();switch(_0x369905['type']){case _0x34be42(0xa1b):{let _0x8849ef=!0x1;const _0x1684bc=()=>{if(_0x8849ef)throw new _0x4a916f(_0x4a916f['codes']['GenerativeAIContextJobAlreadyConsumed']);_0x8849ef=!0x0;};return{'id':_0x5e82c4,..._0x369905,'run':()=>(_0x1684bc(),this['internalJob'](_0x5e82c4,_0x369905))};}case _0x34be42(0x434):{let _0x49000f=!0x1;const _0x278661=()=>{const _0x464316=_0x34be42;if(_0x49000f)throw new _0x4a916f(_0x4a916f[_0x464316(0xa30)]['GenerativeAIContextJobAlreadyConsumed']);_0x49000f=!0x0;};return{'id':_0x5e82c4,..._0x369905,'run':()=>(_0x278661(),this[_0x34be42(0x914)](_0x5e82c4,_0x369905))};}case'collection-query':{let _0x42d1d9=!0x1;const _0x2b752b=()=>{const _0xfe5823=_0x34be42;if(_0x42d1d9)throw new _0x4a916f(_0x4a916f[_0xfe5823(0xa30)][_0xfe5823(0x7d8)]);_0x42d1d9=!0x0;};return{'id':_0x5e82c4,..._0x369905,'run':()=>(_0x2b752b(),this[_0x34be42(0x914)](_0x5e82c4,_0x369905))};}case _0x34be42(0x84c):{let _0x427a0e=!0x1;const _0x534364=()=>{const _0x4d4945=_0x34be42;if(_0x427a0e)throw new _0x4a916f(_0x4a916f[_0x4d4945(0xa30)][_0x4d4945(0x7d8)]);_0x427a0e=!0x0;};return{'id':_0x5e82c4,..._0x369905,'run':()=>(_0x534364(),this[_0x34be42(0x914)](_0x5e82c4,_0x369905))};}case _0x34be42(0x1aa):{let _0x54bc5e=!0x1;const _0x528057=()=>{const _0x8054cf=_0x34be42;if(_0x54bc5e)throw new _0x4a916f(_0x4a916f[_0x8054cf(0xa30)][_0x8054cf(0x7d8)]);_0x54bc5e=!0x0;};return{'id':_0x5e82c4,..._0x369905,'run':()=>(_0x528057(),this['internalJob'](_0x5e82c4,_0x369905))};}case _0x34be42(0x4d3):{let _0x59b444=!0x1;const _0x2eb1bc=()=>{const _0x1a4ff9=_0x34be42;if(_0x59b444)throw new _0x4a916f(_0x4a916f[_0x1a4ff9(0xa30)][_0x1a4ff9(0x7d8)]);_0x59b444=!0x0;};return{'id':_0x5e82c4,..._0x369905,'run':()=>(_0x2eb1bc(),this['internalJob'](_0x5e82c4,_0x369905))};}case _0x34be42(0x230):{let _0x312277=!0x1;const _0x17453f=()=>{const _0x47b306=_0x34be42;if(_0x312277)throw new _0x4a916f(_0x4a916f[_0x47b306(0xa30)][_0x47b306(0x7d8)]);_0x312277=!0x0;};return{'id':_0x5e82c4,..._0x369905,'run':()=>(_0x17453f(),this['internalJob'](_0x5e82c4,_0x369905))};}case _0x34be42(0x650):{let _0x4ff6b0=!0x1;const _0x527053=()=>{const _0x5ca309=_0x34be42;if(_0x4ff6b0)throw new _0x4a916f(_0x4a916f[_0x5ca309(0xa30)][_0x5ca309(0x7d8)]);_0x4ff6b0=!0x0;};return{'id':_0x5e82c4,..._0x369905,'run':()=>(_0x527053(),this['internalJob'](_0x5e82c4,_0x369905))};}case _0x34be42(0x81a):{let _0x104dab=!0x1;const _0x33a16c=()=>{const _0x6cb5ee=_0x34be42;if(_0x104dab)throw new _0x4a916f(_0x4a916f[_0x6cb5ee(0xa30)][_0x6cb5ee(0x7d8)]);_0x104dab=!0x0;};return{'id':_0x5e82c4,..._0x369905,'run':()=>(_0x33a16c(),this[_0x34be42(0x914)](_0x5e82c4,_0x369905))};}case _0x34be42(0x641):{let _0x526e85=!0x1;const _0x195d81=()=>{const _0xf99521=_0x34be42;if(_0x526e85)throw new _0x4a916f(_0x4a916f[_0xf99521(0xa30)][_0xf99521(0x7d8)]);_0x526e85=!0x0;};return{'id':_0x5e82c4,..._0x369905,'run':()=>(_0x195d81(),this['internalJob'](_0x5e82c4,_0x369905))};}case _0x34be42(0x558):{let _0x5e2f7b=!0x1;const _0x5d7874=()=>{const _0x2aa85d=_0x34be42;if(_0x5e2f7b)throw new _0x4a916f(_0x4a916f[_0x2aa85d(0xa30)][_0x2aa85d(0x7d8)]);_0x5e2f7b=!0x0;};return{'id':_0x5e82c4,..._0x369905,'run':()=>(_0x5d7874(),this[_0x34be42(0x914)](_0x5e82c4,_0x369905))};}case _0x34be42(0x4c2):case _0x34be42(0x1d9):let _0x53c551=!0x1;const _0x5c4b06=()=>{const _0x354a1c=_0x34be42;if(_0x53c551)throw new _0x4a916f(_0x4a916f[_0x354a1c(0xa30)][_0x354a1c(0x7d8)]);_0x53c551=!0x0;},_0x5f3708=()=>(_0x5c4b06(),this['run'](_0x5e82c4,_0x369905)),_0x2a8344=()=>(_0x5c4b06(),this['stream'](_0x5e82c4,_0x369905));return{'id':_0x5e82c4,'options':{'threadId':_0x34be42(0xa4e)+(0x0,_0x233c4d['v4'])()},..._0x369905,'run':_0x5f3708,'stream':_0x2a8344};default:throw new Error('Invalid\x20job\x20type');}}async[_0x120045(0x914)](_0x43a889,_0x1f8649){const _0x13535d=_0x120045;if(_0x13535d(0x4c2)===_0x1f8649['type']||'prompt'===_0x1f8649[_0x13535d(0x7f3)])throw new _0x18939c(_0x15d29b[_0x13535d(0x904)],_0x13535d(0x681));const _0x1c5a04={'threadId':_0x13535d(0xa4e)+(0x0,_0x233c4d['v4'])(),..._0x1f8649},_0x46f589=await this[_0x13535d(0x91c)](_0x43a889,_0x4e2564[_0x13535d(0x1e0)][_0x13535d(0x81e)],_0x1c5a04);return new Promise((_0x5c47a7,_0x8ec5a2)=>{const _0x561cf9=_0x13535d;let _0x46d763;const _0x29342a=_0x46f589[_0x561cf9(0x8f0)]({'next':_0x15283c=>{const _0x42a94b=_0x561cf9;switch(_0x15283c[_0x42a94b(0x129)]){case _0x4e2564[_0x42a94b(0x470)][_0x42a94b(0x481)]:clearTimeout(_0x46d763),_0x5c47a7(_0x15283c[_0x42a94b(0x8ef)]),_0x29342a['unsubscribe']();break;case _0x4e2564[_0x42a94b(0x470)][_0x42a94b(0x464)]:clearTimeout(_0x46d763),_0x8ec5a2(new _0x4a916f(_0x4a916f[_0x42a94b(0xa30)][_0x42a94b(0x454)],{'updatedJob':_0x15283c})),_0x29342a[_0x42a94b(0x236)]();}},'error':_0x2ba6d1=>{const _0x1a295d=_0x561cf9;clearTimeout(_0x46d763),_0x8ec5a2(new _0x4a916f(_0x4a916f[_0x1a295d(0xa30)][_0x1a295d(0x454)],{'err':_0x2ba6d1})),_0x29342a[_0x1a295d(0x236)]();}});_0x46d763=setTimeout(()=>{const _0x2cc046=_0x561cf9;_0x8ec5a2(new _0x4a916f(_0x4a916f[_0x2cc046(0xa30)][_0x2cc046(0x71b)])),_0x29342a[_0x2cc046(0x236)]();},_0x12adfe);});}async[_0x120045(0xee)](_0x316f26,_0x35fcdf){const _0x59ffc2=_0x120045,_0x495902=await this[_0x59ffc2(0x91c)](_0x316f26,_0x4e2564[_0x59ffc2(0x1e0)][_0x59ffc2(0x81e)],_0x35fcdf);return new Promise((_0x1f79b5,_0xfb3537)=>{const _0x1a8102=_0x59ffc2;let _0x53b2d6;const _0x2fe1d9=_0x495902[_0x1a8102(0x8f0)]({'next':_0x352396=>{const _0x122629=_0x1a8102;switch(_0x352396[_0x122629(0x129)]){case _0x4e2564[_0x122629(0x470)][_0x122629(0x481)]:if(_0x122629(0x1d9)!==_0x352396[_0x122629(0x8ef)][_0x122629(0x7f3)])return;const _0x5dee84=_0x352396[_0x122629(0x8ef)][_0x122629(0x490)]??0x0;this[_0x122629(0x7a0)](_0x35fcdf[_0x122629(0x1d9)],_0x5dee84),clearTimeout(_0x53b2d6),_0x1f79b5(_0x352396[_0x122629(0x8ef)]),_0x2fe1d9[_0x122629(0x236)](),this[_0x122629(0xa3a)]+=0x1,this['tokens']+=_0x5dee84,this[_0x122629(0x3b4)]();break;case _0x4e2564[_0x122629(0x470)][_0x122629(0x464)]:clearTimeout(_0x53b2d6),_0xfb3537(new _0x4a916f(_0x4a916f['codes']['GenerativeAIContextJobFailed'],{'updatedJob':_0x352396})),_0x2fe1d9[_0x122629(0x236)](),this[_0x122629(0x3b4)]();}},'error':_0x32e044=>{const _0x2c81cf=_0x1a8102;clearTimeout(_0x53b2d6),_0xfb3537(new _0x4a916f(_0x4a916f[_0x2c81cf(0xa30)]['GenerativeAIContextJobFailed'],{'err':_0x32e044})),_0x2fe1d9[_0x2c81cf(0x236)]();}});_0x53b2d6=setTimeout(()=>{const _0x15e1b7=_0x1a8102;_0xfb3537(new _0x4a916f(_0x4a916f[_0x15e1b7(0xa30)][_0x15e1b7(0x71b)])),_0x2fe1d9[_0x15e1b7(0x236)]();},_0x12adfe);});}async*['stream'](_0x406e6b,_0x588bc1){const _0x440c4b=_0x120045,_0x21440d=await this[_0x440c4b(0x91c)](_0x406e6b,_0x4e2564[_0x440c4b(0x1e0)][_0x440c4b(0x554)],_0x588bc1);let _0x5a1260,_0x13a0b7,_0x1a55f1=!0x1,_0x51b96e=0x0;const _0x412988=[],_0x1be7fe=new Map();let _0x3882c9=null;const _0x185a11=()=>{_0x3882c9&&(_0x3882c9(),_0x3882c9=null);},_0xc5958b=_0x178b5c=>{const _0x45379e=_0x440c4b;_0x1a55f1=!0x0,_0x185a11(),_0x9ecbcb[_0x45379e(0x236)](),_0x13a0b7=_0x178b5c;},_0x9ecbcb=_0x21440d[_0x440c4b(0x8f0)]({'next':async _0x43ca93=>{const _0xf9873b=_0x440c4b;switch(_0x43ca93[_0xf9873b(0x129)]){case _0x4e2564[_0xf9873b(0x470)][_0xf9873b(0x1f6)]:if(_0xf9873b(0x1d9)!==_0x43ca93[_0xf9873b(0x8ef)]['type'])return;if(void 0x0!==_0x43ca93[_0xf9873b(0x8ef)][_0xf9873b(0x670)]){if(void 0x0===_0x43ca93[_0xf9873b(0x8ef)]['index'])return void _0xc5958b(_0x4a916f[_0xf9873b(0xa30)][_0xf9873b(0x480)]);_0x51b96e===_0x43ca93[_0xf9873b(0x8ef)][_0xf9873b(0x2a2)]?(_0x412988['push'](_0x43ca93[_0xf9873b(0x8ef)]),_0x51b96e++,((()=>{const _0x3eb993=_0xf9873b;for(;_0x1be7fe[_0x3eb993(0x5a8)](_0x51b96e);)_0x412988[_0x3eb993(0xdc)](_0x1be7fe[_0x3eb993(0x7e9)](_0x412988[_0x3eb993(0x59d)])),_0x1be7fe['delete'](_0x412988[_0x3eb993(0x59d)]),_0x51b96e++;})()),_0x185a11(),_0x44dab7()):_0x1be7fe[_0xf9873b(0x381)](_0x43ca93['result'][_0xf9873b(0x2a2)],_0x43ca93[_0xf9873b(0x8ef)]);}break;case _0x4e2564[_0xf9873b(0x470)][_0xf9873b(0x481)]:if(_0xf9873b(0x1d9)!==_0x43ca93['result']['type'])return;for(;_0x51b96e!==_0x43ca93['result'][_0xf9873b(0x2a2)];)await _0x3da74f[_0xf9873b(0x22c)](0x3e8);const _0x267bcd=_0x43ca93[_0xf9873b(0x8ef)][_0xf9873b(0x490)]??0x0;this[_0xf9873b(0x7a0)](_0x588bc1[_0xf9873b(0x1d9)],_0x267bcd),clearTimeout(_0x5a1260),_0xc5958b(),this['prompts']+=0x1,this[_0xf9873b(0x6a8)]+=_0x267bcd,this['sendStats']();break;case _0x4e2564['JobStatus']['Failed']:clearTimeout(_0x5a1260),_0xc5958b(_0x4a916f[_0xf9873b(0xa30)][_0xf9873b(0x454)]),this[_0xf9873b(0x3b4)]();}},'error':_0x525669=>{const _0x4ce246=_0x440c4b;clearTimeout(_0x5a1260),_0xc5958b(_0x4a916f[_0x4ce246(0xa30)][_0x4ce246(0x454)]);}}),_0x14109e=()=>{const _0x118d09=_0x440c4b;_0xc5958b(_0x4a916f['codes'][_0x118d09(0x71b)]);},_0x44dab7=()=>{clearTimeout(_0x5a1260),_0x5a1260=setTimeout(_0x14109e,_0x12adfe);};for(_0x5a1260=setTimeout(_0x14109e,_0x12adfe);!_0x1a55f1||_0x412988[_0x440c4b(0x59d)]>0x0;)_0x412988[_0x440c4b(0x59d)]>0x0?yield _0x412988[_0x440c4b(0x9ea)]():await new Promise(_0xd607ca=>_0x3882c9=_0xd607ca);if(_0x13a0b7)throw _0x1b1d61[_0x440c4b(0x525)]('GenerativeAIContext\x20stream\x20error',{'nodeId':this[_0x440c4b(0x781)][_0x440c4b(0xd7)](),'nodeType':this[_0x440c4b(0x781)][_0x440c4b(0x7f3)]}),new _0x4a916f(_0x13a0b7);}async[_0x120045(0x4de)](){const _0x5ac633=_0x120045;return(await _0x2299da[_0x5ac633(0x49e)](this[_0x5ac633(0x11b)],this[_0x5ac633(0x573)]))[_0x5ac633(0x4a3)];}[_0x120045(0x7a0)](_0x479279,_0x2942ca){const _0x16e75b=_0x120045,_0x6380dc=this[_0x16e75b(0x573)],_0x1e4952=this[_0x16e75b(0x711)]();_0x1b1d61[_0x16e75b(0x7a0)](_0x3baa96['GenerativeAIContext'],{'topic':_0x6380dc,'prompt':_0x479279,'type':'prompt','nodeId':_0x1e4952,'tokenCount':_0x2942ca});}async[_0x120045(0x91c)](_0x3c3937,_0x360c5d,_0x424144,_0x48eb6f={}){const _0x569be0=_0x120045;let _0x2ed6de;switch(_0x424144[_0x569be0(0x7f3)]){case _0x569be0(0xa1b):case _0x569be0(0x434):case _0x569be0(0x24f):case _0x569be0(0x558):case _0x569be0(0x84c):case _0x569be0(0x1aa):case _0x569be0(0x4d3):case'file-list':case _0x569be0(0x4c2):case'prompt':case _0x569be0(0x650):case _0x569be0(0x81a):case _0x569be0(0x641):_0x2ed6de={'id':_0x3c3937,'jobType':_0x360c5d,'parameters':{..._0x48eb6f,..._0x424144},'status':_0x4e2564[_0x569be0(0x470)][_0x569be0(0x539)]};break;default:throw new Error(_0x569be0(0x681));}return await this[_0x569be0(0xa46)](_0x2ed6de);}[_0x120045(0x3b4)](){const _0x4938f0=_0x120045;this[_0x4938f0(0x219)]&&clearTimeout(this[_0x4938f0(0x219)]),this[_0x4938f0(0x219)]=setTimeout(async()=>{const _0x5e2c9b=_0x4938f0;delete this['debounceStats'],this['systemTopic'][_0x5e2c9b(0x552)]({'sourceId':_0x40bfc5,'messageType':_0x435438[_0x5e2c9b(0x9a6)],'content':{'type':_0x46be06[_0x5e2c9b(0x8bc)],'label':this['label'],'stats':{'timestamp':Date[_0x5e2c9b(0x9e1)](),'storage':0x0,'messagesSent':this[_0x5e2c9b(0x171)],'messagesReceived':this[_0x5e2c9b(0x996)],'bytesSent':this[_0x5e2c9b(0x88e)],'bytesReceived':this[_0x5e2c9b(0x4ac)],'writes':0x0,'reads':0x0,'prompts':this['prompts'],'tokens':this[_0x5e2c9b(0x6a8)]}}});},_0x4e96c3);}}var _0xe68092,_0x3ea1b4,_0x5de0eb,_0x165f57,_0x161eea,_0x34b9b7,_0x4f822c,_0x39c7e0,_0x15420c,_0x1130b4,_0x27185c;!function(_0x993b5f){const _0x35c198=_0x120045;_0x993b5f[_0x35c198(0x422)]='AITrace',_0x993b5f['IngestTrace']=_0x35c198(0x20c),_0x993b5f[_0x35c198(0x1cb)]='RetrieveTrace',_0x993b5f[_0x35c198(0x52d)]='WorkflowTrace';}(_0xe68092||(_0xe68092={})),function(_0x2224d5){const _0x499308=_0x120045;_0x2224d5[_0x499308(0x1c8)]='ModelText',_0x2224d5[_0x499308(0x29a)]=_0x499308(0x29a),_0x2224d5[_0x499308(0x14b)]=_0x499308(0x14b),_0x2224d5[_0x499308(0x78e)]=_0x499308(0x78e),_0x2224d5['GraphSearch']='GraphSearch',_0x2224d5[_0x499308(0x3f4)]='Reranker';}(_0x3ea1b4||(_0x3ea1b4={})),function(_0x46e62d){const _0x1247ec=_0x120045;_0x46e62d[_0x46e62d[_0x1247ec(0x862)]=0x0]='Debug',_0x46e62d[_0x46e62d[_0x1247ec(0x491)]=0x5]=_0x1247ec(0x491),_0x46e62d[_0x46e62d[_0x1247ec(0x591)]=0xa]=_0x1247ec(0x591),_0x46e62d[_0x46e62d['Error']=0xf]=_0x1247ec(0x469);}(_0x5de0eb||(_0x5de0eb={})),function(_0x3be44){const _0x2173da=_0x120045;_0x3be44['Retrieve']=_0x2173da(0x688),_0x3be44[_0x2173da(0x700)]=_0x2173da(0x700),_0x3be44[_0x2173da(0x9d8)]=_0x2173da(0x9d8),_0x3be44[_0x2173da(0x50f)]='Skill',_0x3be44[_0x2173da(0xd6)]='Workflow',_0x3be44[_0x2173da(0x81e)]=_0x2173da(0x81e),_0x3be44['JobContext']=_0x2173da(0x637),_0x3be44['Rating']=_0x2173da(0x611);}(_0x165f57||(_0x165f57={})),function(_0x451952){const _0x5ef9cf=_0x120045;_0x451952[_0x5ef9cf(0x5c5)]=_0x5ef9cf(0x5c5),_0x451952['Completed']=_0x5ef9cf(0x481);}(_0x161eea||(_0x161eea={})),function(_0x47e196){const _0x48ab7c=_0x120045;_0x47e196['InitialPrompt']=_0x48ab7c(0xa3b),_0x47e196[_0x48ab7c(0x595)]=_0x48ab7c(0x595),_0x47e196[_0x48ab7c(0x22f)]=_0x48ab7c(0x22f),_0x47e196[_0x48ab7c(0x1c3)]=_0x48ab7c(0x1c3);}(_0x34b9b7||(_0x34b9b7={})),function(_0x4c6032){const _0x585aec=_0x120045;_0x4c6032[_0x585aec(0x5e8)]=_0x585aec(0x5e8),_0x4c6032['DocumentParser']='DocumentParser',_0x4c6032[_0x585aec(0x78e)]=_0x585aec(0x78e),_0x4c6032[_0x585aec(0x803)]=_0x585aec(0x803),_0x4c6032[_0x585aec(0x580)]=_0x585aec(0x580),_0x4c6032['ModelText']=_0x585aec(0x1c8),_0x4c6032[_0x585aec(0x29a)]=_0x585aec(0x29a),_0x4c6032[_0x585aec(0x232)]=_0x585aec(0x232),_0x4c6032[_0x585aec(0x948)]='SentenceSplitter',_0x4c6032['VectorDatabase']=_0x585aec(0x76a),_0x4c6032[_0x585aec(0xa4b)]=_0x585aec(0xa4b);}(_0x4f822c||(_0x4f822c={})),function(_0xcf447){const _0x30593f=_0x120045;_0xcf447[_0x30593f(0xa60)]=_0x30593f(0xa60),_0xcf447[_0x30593f(0x753)]=_0x30593f(0x753);}(_0x39c7e0||(_0x39c7e0={})),function(_0x106c62){const _0x148161=_0x120045;_0x106c62[_0x148161(0x592)]=_0x148161(0x592),_0x106c62[_0x148161(0x41e)]=_0x148161(0x41e),_0x106c62[_0x148161(0x784)]=_0x148161(0x784),_0x106c62[_0x148161(0x31e)]='SearchPerplexity',_0x106c62['ExecuteAgent']='ExecuteAgent',_0x106c62[_0x148161(0x2f0)]=_0x148161(0x2f0),_0x106c62[_0x148161(0x8ec)]='QueryFile',_0x106c62[_0x148161(0x9fe)]=_0x148161(0x9fe);}(_0x15420c||(_0x15420c={})),function(_0x11d0dd){const _0x2590e2=_0x120045;_0x11d0dd[_0x2590e2(0x9ef)]='LoadKnowledgeFunction',_0x11d0dd[_0x2590e2(0x34d)]=_0x2590e2(0x34d);}(_0x1130b4||(_0x1130b4={})),function(_0x4019ec){const _0x57d58b=_0x120045;_0x4019ec[_0x57d58b(0x597)]=_0x57d58b(0x597);}(_0x27185c||(_0x27185c={}));class _0x290990{static [_0x120045(0x115)]=new _0x290990();[_0x120045(0x618)]=[];[_0x120045(0x748)]=!0x1;constructor(){}static[_0x120045(0x188)](){const _0x333f77=_0x120045;return _0x290990[_0x333f77(0x115)];}get['length'](){return this['jobQueue']['length'];}[_0x120045(0x3ef)](){const _0xc1a2ae=_0x120045;return!this[_0xc1a2ae(0x748)];}['clear'](_0x30bd2f){const _0x52ad21=_0x120045;_0x30bd2f?this[_0x52ad21(0x618)]=this[_0x52ad21(0x618)][_0x52ad21(0x1e1)](_0x2ed044=>_0x2ed044['ownerId']!==_0x30bd2f):(this['jobQueue']=[],this[_0x52ad21(0x748)]=!0x1);}['add'](_0x11b6f4,_0x4e42e4){const _0x1bb29f=_0x120045;this[_0x1bb29f(0x618)]['push']({'callback':_0x4e42e4,'ownerId':_0x11b6f4}),this[_0x1bb29f(0x7ff)]();}async['runJobQueue'](){const _0xc0de3b=_0x120045;if(!this['isRunning']){for(this['isRunning']=!0x0;this[_0xc0de3b(0x618)][_0xc0de3b(0x59d)]>0x0;){const _0x4870d0=this[_0xc0de3b(0x618)][_0xc0de3b(0x9ea)]();if(_0x4870d0)try{console[_0xc0de3b(0x8d2)](_0xc0de3b(0x62f)),await _0x4870d0['callback'](),console[_0xc0de3b(0x8d2)](_0xc0de3b(0x14d));}catch(_0x3404c7){console[_0xc0de3b(0x525)](_0xc0de3b(0x180),_0x3404c7);}}this[_0xc0de3b(0x748)]=!0x1;}}}const _0x4b3f7d=_0x290990[_0x120045(0x188)]();class _0x253ada extends _0x3ab0ee{[_0x120045(0xd9)];[_0x120045(0x3e8)];constructor(_0x1908b7,_0x5d6d79,_0x1e86b8){const _0x33836d=_0x120045;super(_0x1908b7,_0x5d6d79),this[_0x33836d(0xd9)]=_0x1e86b8;}[_0x120045(0x729)](){const _0x489c5b=_0x120045;return _0x4e2564['ContentType'][_0x489c5b(0x81e)];}[_0x120045(0x69b)](){const _0x5ca5f9=_0x120045;this[_0x5ca5f9(0x17d)]();}[_0x120045(0x1c1)](){const _0x55f6cd=_0x120045;this['systemTopic']?.[_0x55f6cd(0x552)]({'sourceId':_0x40bfc5,'messageType':_0x435438['Content'],'content':{'type':_0x46be06[_0x55f6cd(0x733)],'label':this['label']}});}[_0x120045(0x2c6)](){const _0x4433a1=_0x120045;this[_0x4433a1(0x3e8)]?.(),delete this[_0x4433a1(0x3e8)],this[_0x4433a1(0x69b)]();}[_0x120045(0x4d9)](){const _0x40d39b=_0x120045;_0x4b3f7d['clear'](this['label']),this[_0x40d39b(0x3e8)]?.(),delete this[_0x40d39b(0x3e8)],super[_0x40d39b(0x4d9)]();}[_0x120045(0x3ef)](){const _0x16f95d=_0x120045;return _0x4b3f7d[_0x16f95d(0x3ef)]();}['getBid'](){return 0x1;}['compileStats'](_0x24e21f,_0x5220d1,_0x3420ec){}[_0x120045(0x3b0)](_0x26361b,_0x213a8d){return _0x26361b;}async[_0x120045(0x669)](_0x5758e6,_0x2d04a3){const _0x313ec5=_0x120045;console['warn'](_0x313ec5(0x6f4));}async[_0x120045(0x936)](_0x33cf7b,_0x104091){const _0x45078e=_0x120045;console[_0x45078e(0x8d2)](_0x45078e(0x6f4));}['subscribeToJobs'](){const _0xe05d93=_0x120045;this['unsubscribeListener']||(this[_0xe05d93(0x3e8)]=this['onMessage'](async(_0x5989d8,_0x1fd8b7)=>{const _0x34594c=_0xe05d93;if(_0x1b1d61[_0x34594c(0xed)](_0x185607[_0x34594c(0x41c)],_0x34594c(0x6e2),_0x1fd8b7),!(_0x1fd8b7 instanceof File)){if(this[_0x34594c(0x861)](_0x1fd8b7))_0x1b1d61[_0x34594c(0xed)](_0x185607[_0x34594c(0x41c)],_0x34594c(0x32b),_0x1fd8b7),this[_0x34594c(0x3ef)]()?this[_0x34594c(0x898)](_0x1fd8b7['id'],_0x1fd8b7[_0x34594c(0x80b)],_0x5989d8):this[_0x34594c(0x1a7)](_0x1fd8b7['id'],_0x1fd8b7[_0x34594c(0x80b)],_0x5989d8);else{if(this[_0x34594c(0x1d4)](_0x1fd8b7)){_0x1b1d61[_0x34594c(0xed)](_0x185607[_0x34594c(0x41c)],_0x34594c(0x465),_0x1fd8b7);const {id:_0x4d80b1,parameters:_0x25a2cb}=_0x1fd8b7;await this['startTracing'](_0x4d80b1,_0x25a2cb),this['handleJobAttribution'](_0x1fd8b7['id'],_0x1fd8b7,_0x5989d8);}}}}));}[_0x120045(0x898)](_0x1a52b7,_0x2bde94,_0x18a73c){const _0x6f9c7f=_0x120045,_0x217764={'id':_0x1a52b7,'jobType':_0x2bde94,'jobPhase':_0x43f5a0[_0x6f9c7f(0x2e4)],'available':!0x0,'queueLength':_0x4b3f7d[_0x6f9c7f(0x59d)],'bid':this[_0x6f9c7f(0x7cf)]()};_0x1b1d61[_0x6f9c7f(0xed)](_0x185607[_0x6f9c7f(0x41c)],'JobWorker:\x20Sending\x20job\x20bid',_0x217764),this['send'](_0x217764,[_0x18a73c]);}[_0x120045(0x1a7)](_0x5259b3,_0x53e92d,_0x55118a){const _0x41e23a=_0x120045,_0x4f27c8={'id':_0x5259b3,'jobType':_0x53e92d,'jobPhase':_0x43f5a0[_0x41e23a(0x2e4)],'available':!0x1,'queueLength':_0x4b3f7d[_0x41e23a(0x59d)],'bid':0x0};_0x1b1d61['log'](_0x185607[_0x41e23a(0x41c)],_0x41e23a(0x9b3),_0x4f27c8),this[_0x41e23a(0x593)](_0x4f27c8,[_0x55118a]);}async[_0x120045(0x202)](_0x5710a4,_0x2cd8ec,_0x1d72f9){const _0x235f6e=_0x120045;_0x1b1d61[_0x235f6e(0xed)](_0x185607[_0x235f6e(0x41c)],_0x235f6e(0x29b),_0x2cd8ec);const _0x3dd7e9={'id':_0x5710a4,'jobType':_0x2cd8ec[_0x235f6e(0x80b)],'parameters':_0x2cd8ec[_0x235f6e(0x8b1)]};try{switch(_0x2cd8ec[_0x235f6e(0x80b)]){case _0x4e2564['JobType'][_0x235f6e(0x81e)]:await this[_0x235f6e(0x463)](_0x5710a4,_0x2cd8ec,_0x3dd7e9,_0x1d72f9);break;case _0x4e2564[_0x235f6e(0x1e0)]['JobStream']:await this['processJobStream'](_0x5710a4,_0x2cd8ec,_0x3dd7e9,_0x1d72f9);break;default:throw new Error('Unsupported\x20job\x20type');}}catch(_0x2c9ca3){_0x1b1d61['error'](_0x235f6e(0x789),{'nodeId':this[_0x235f6e(0x185)]['getId'](),'nodeType':this[_0x235f6e(0x185)][_0x235f6e(0x7f3)],'data':{'job':_0x3dd7e9}},_0x2c9ca3);const _0x12f8c=_0x2c9ca3 instanceof Error?_0x2c9ca3[_0x235f6e(0x1b4)]:_0x235f6e(0x5a0),_0x1b837f={'id':_0x5710a4,'jobType':_0x2cd8ec[_0x235f6e(0x80b)],'jobPhase':_0x43f5a0[_0x235f6e(0x464)],'message':_0x12f8c};await this[_0x235f6e(0x593)](_0x1b837f,[_0x1d72f9]);}}async[_0x120045(0x463)](_0x31f441,_0x9c7c1e,_0x3236c5,_0x44250f){const _0x31b4ac=_0x120045,_0x57c15a=Date[_0x31b4ac(0x9e1)](),_0x2cad75=await this[_0x31b4ac(0x6c1)](_0x31f441,_0x3236c5['parameters']);this[_0x31b4ac(0x208)](_0x2cad75,_0x57c15a,Date[_0x31b4ac(0x9e1)]());const _0x255505={'id':_0x31f441,'jobType':_0x9c7c1e['jobType'],'jobPhase':_0x43f5a0[_0x31b4ac(0x6f7)],'result':_0x2cad75};_0x1b1d61[_0x31b4ac(0xed)](_0x185607['Jobs'],_0x31b4ac(0x819),_0x255505),await this[_0x31b4ac(0x593)](_0x255505,[_0x44250f]),await this[_0x31b4ac(0x936)](_0x31f441,_0x3236c5[_0x31b4ac(0x8b1)]);}async[_0x120045(0x4e4)](_0x33ba63,_0x49ae26,_0x2db12e,_0x337de6){const _0x28ac97=_0x120045,_0x462eac=Date[_0x28ac97(0x9e1)]();let _0x20676e=0x0,_0x5b8b02={};for await(const _0x44d1e8 of this['internalProcessJobStream'](_0x2db12e['id'],_0x2db12e[_0x28ac97(0x8b1)])){const _0x6ce537={'id':_0x33ba63,'jobType':_0x49ae26[_0x28ac97(0x80b)],'jobPhase':_0x43f5a0[_0x28ac97(0x95c)],'result':{..._0x44d1e8,'index':_0x20676e}};_0x1b1d61[_0x28ac97(0xed)](_0x185607['Jobs'],_0x28ac97(0x179),_0x6ce537),this[_0x28ac97(0x593)](_0x6ce537,[_0x337de6]),_0x5b8b02=this['accumulateResult'](_0x5b8b02,_0x44d1e8),_0x20676e++;}this['compileStats'](_0x5b8b02,_0x462eac,Date[_0x28ac97(0x9e1)]());const _0x3afe0f={'id':_0x33ba63,'jobType':_0x49ae26[_0x28ac97(0x80b)],'jobPhase':_0x43f5a0[_0x28ac97(0x6f7)],'result':{..._0x5b8b02,'index':_0x20676e}};_0x1b1d61[_0x28ac97(0xed)](_0x185607[_0x28ac97(0x41c)],_0x28ac97(0x819),_0x3afe0f),await this['send'](_0x3afe0f,[_0x337de6]),await this['stopTracing'](_0x33ba63,_0x2db12e[_0x28ac97(0x8b1)]);}['isJobRequest'](_0x1e442a){const _0x3f60cc=_0x120045;return _0x1e442a[_0x3f60cc(0x3a2)]===_0x43f5a0['Request'];}[_0x120045(0x1d4)](_0x3721c8){const _0x40be48=_0x120045;return _0x3721c8['jobPhase']===_0x43f5a0[_0x40be48(0x4a1)];}}function _0x343d48(_0x272cea){const _0x1589ae=_0x120045;try{return JSON[_0x1589ae(0x4e9)](_0x272cea);}catch(_0x156caf){return _0x272cea instanceof Error?_0x272cea[_0x1589ae(0x5d4)]():JSON['stringify'](_0x1589ae(0x30d));}}class _0x5101de{static [_0x120045(0x115)];[_0x120045(0xa23)]=_0x5de0eb[_0x120045(0x469)];['commitLevel']=_0x5de0eb[_0x120045(0x491)];[_0x120045(0x520)]=_0x165f57[_0x120045(0x688)];[_0x120045(0x528)]={};static [_0x120045(0x188)]=()=>(_0x5101de[_0x120045(0x115)]||(_0x5101de[_0x120045(0x115)]=new _0x5101de()),_0x5101de[_0x120045(0x115)]);async[_0x120045(0x85e)](_0x11d802,_0x2392dd,_0x1cfb7e,_0x15acfc){const _0x203687=_0x120045;try{if(this[_0x203687(0x528)][_0x2392dd])throw new Error(_0x203687(0x7a4));const _0x345caf={'vendorId':_0x11d802,'workflowId':_0x1cfb7e,'sequence':0x0};return this[_0x203687(0x528)][_0x2392dd]=_0x345caf,!_0x15acfc||!_0x1cfb7e||(await(0x0,_0x730305[_0x203687(0x5a9)])((0x0,_0x730305[_0x203687(0x696)])(_0x2451a5['getFirestore'](),_0x203687(0x28c)+_0x11d802+_0x203687(0x1f7)+_0x1cfb7e+_0x203687(0x4cf),_0x2392dd),{'threadId':_0x15acfc,'startTime':(0x0,_0x730305['serverTimestamp'])()}),!0x0);}catch(_0x5b25e0){return console[_0x203687(0x525)](_0x203687(0x1db),_0x5b25e0),!0x1;}}async[_0x120045(0x6c6)](_0x279dbb){const _0x418a12=_0x120045;try{const _0xdc7841=this['openedTraces'][_0x279dbb[_0x418a12(0x109)]];if(!_0xdc7841)throw new Error(_0x418a12(0x782));_0x279dbb[_0x418a12(0x3f6)]=_0xdc7841[_0x418a12(0x3f6)]++,_0x279dbb[_0x418a12(0x1b5)]>=this[_0x418a12(0xa23)]&&console[_0x418a12(0xed)](JSON[_0x418a12(0x4e9)](_0x279dbb,null,0x2)),await this[_0x418a12(0x745)](_0x279dbb);}catch(_0x127ce3){console[_0x418a12(0x525)](_0x418a12(0x3b2),_0x127ce3);}}async['closeTrace'](_0x19196d,_0x4687de){const _0x38a756=_0x120045;if(!_0x5101de[_0x38a756(0x115)])throw new Error(_0x38a756(0x511));if(!this[_0x38a756(0x528)][_0x19196d])throw new Error(_0x38a756(0x972));if(_0x4687de&&this[_0x38a756(0x528)][_0x19196d][_0x38a756(0x8a4)])try{await(0x0,_0x730305['setDoc'])((0x0,_0x730305[_0x38a756(0x696)])(_0x2451a5[_0x38a756(0x368)](),_0x38a756(0x28c)+this[_0x38a756(0x528)][_0x19196d][_0x38a756(0x11b)]+_0x38a756(0x1f7)+this[_0x38a756(0x528)][_0x19196d][_0x38a756(0x8a4)]+_0x38a756(0x4cf),_0x19196d),{'endTime':(0x0,_0x730305[_0x38a756(0xa58)])()},{'merge':!0x0}),delete this[_0x38a756(0x528)][_0x19196d];}catch(_0xcfe5c8){console[_0x38a756(0x525)](_0x38a756(0x77b),_0xcfe5c8);}else delete this[_0x38a756(0x528)][_0x19196d];}async['commitTrace'](_0x24097e){const _0x53c946=_0x120045;if(_0x24097e[_0x53c946(0x1b5)]<this[_0x53c946(0x7bb)]&&_0x24097e[_0x53c946(0x80b)]!==this[_0x53c946(0x520)])return;if(!this[_0x53c946(0x528)][_0x24097e[_0x53c946(0x109)]])throw new Error(_0x53c946(0x9ff));const _0x57b093=this[_0x53c946(0x528)][_0x24097e[_0x53c946(0x109)]];try{const _0x58f43e=function(_0x11e546){const _0x2d05b2=_0x53c946,_0x98602a=[_0x2d05b2(0xd3),'timestamp',_0x2d05b2(0x80b),_0x2d05b2(0x7f3),'jobId','traceLevel','blockId',_0x2d05b2(0x129),'sequence','errorDetails'],_0x33f416={..._0x11e546};for(const _0x3c03aa of _0x98602a)delete _0x33f416[_0x3c03aa];return{'timestamp':_0x11e546[_0x2d05b2(0x6df)],'jobType':_0x11e546[_0x2d05b2(0x80b)],'type':_0x11e546[_0x2d05b2(0x7f3)],'jobId':_0x11e546[_0x2d05b2(0x109)],'agentId':_0x11e546[_0x2d05b2(0x585)]??'','traceLevel':_0x11e546[_0x2d05b2(0x1b5)],'blockId':_0x11e546[_0x2d05b2(0x6cd)]??'','startTime':_0x11e546['startTime'],'status':_0x11e546[_0x2d05b2(0x129)],'sequence':_0x11e546[_0x2d05b2(0x3f6)]??0x0,'errorDetails':_0x11e546[_0x2d05b2(0x58b)]??'','metadata':_0x343d48(_0x33f416)};}(_0x24097e),_0x4e0822=(0x0,_0x233c4d['v4'])();console[_0x53c946(0xed)](_0x53c946(0x596),_0x58f43e['type']),await(0x0,_0x730305['setDoc'])((0x0,_0x730305[_0x53c946(0x696)])(_0x2451a5['getFirestore'](),_0x53c946(0x28c)+_0x57b093['vendorId']+_0x53c946(0x1f7)+_0x57b093['workflowId']+_0x53c946(0x777)+_0x24097e[_0x53c946(0x109)]+_0x53c946(0x6bc),_0x4e0822),_0x58f43e),_0x24097e[_0x53c946(0x7f3)]===_0x27185c[_0x53c946(0x597)]&&await(0x0,_0x730305[_0x53c946(0x5a9)])((0x0,_0x730305[_0x53c946(0x696)])(_0x2451a5[_0x53c946(0x368)](),_0x53c946(0x28c)+_0x57b093[_0x53c946(0x11b)]+_0x53c946(0x1f7)+_0x57b093[_0x53c946(0x8a4)]+_0x53c946(0x4cf),_0x24097e[_0x53c946(0x109)]),{'rating':_0x24097e['rating']},{'merge':!0x0});}catch(_0x5d1928){console['error'](_0x53c946(0x8dc),_0x5d1928);}}}const _0x207c2c=_0x5101de[_0x120045(0x188)]();async function _0x3d88fc(_0x1c1c4d,_0x35b875,_0xb9d574,_0x58f5d1,_0x20d899,_0x3caeca){const _0x1d7d52=_0x120045,_0x5a4048=Date['now']();if(!_0x3caeca[_0x1d7d52(0xa0d)][_0x1d7d52(0x999)](_0x3ae9ae=>_0x3ae9ae['id']===_0x58f5d1[_0x1d7d52(0x54b)]))throw new Error(_0x1d7d52(0x1ea));const _0x25ce4e=(0x0,_0x233c4d['v4'])(),_0x52df0e=[];_0x52df0e['push']({'role':_0x1d7d52(0x51f),'content':_0x58f5d1[_0x1d7d52(0x2b7)]}),_0x52df0e['push']({'role':'user','content':_0xb9d574});const _0x2b49e9=await fetch(_0x4cff37[_0x1d7d52(0x3aa)]+_0x1d7d52(0x1fa),{'method':_0x1d7d52(0x9a0),'headers':{'Content-Type':'application/json','x-vendor-id':_0x1c1c4d},'body':JSON[_0x1d7d52(0x4e9)]({'model':_0x58f5d1[_0x1d7d52(0x54b)],'messages':_0x52df0e,'max_completion_tokens':_0x58f5d1[_0x1d7d52(0x7a2)],'temperature':_0x58f5d1[_0x1d7d52(0x111)],'threadId':_0x25ce4e})}),_0x50913b=(await _0x2b49e9[_0x1d7d52(0x501)]())[_0x1d7d52(0x924)][0x0][_0x1d7d52(0x1b4)][_0x1d7d52(0x477)];await _0x207c2c[_0x1d7d52(0x6c6)]({'jobType':_0x165f57[_0x1d7d52(0x700)],'type':_0x4f822c['Agent'],'jobId':_0x35b875,'blockId':_0x58f5d1['id'],'traceLevel':_0x5de0eb['Debug'],'timestamp':Date['now'](),'startTime':_0x5a4048,'status':'success','agentId':_0x25ce4e,'content':_0xb9d574,'instructions':_0x58f5d1[_0x1d7d52(0x2b7)],'result':_0x50913b});const _0x3e0a2a=[];if(_0x58f5d1['links']?.[_0x1d7d52(0xf1)](_0x49fecc=>_0x49fecc[_0x1d7d52(0x7f3)]===_0x59c578[_0x1d7d52(0x86f)]))return _0x3e0a2a[_0x1d7d52(0xdc)]({'content':_0x50913b,'start':0x0,'length':_0x50913b[_0x1d7d52(0x59d)]}),await _0x36d2de(_0x1c1c4d,_0x35b875,_0x3e0a2a,_0x58f5d1,_0x20d899,_0x3caeca),void await _0x36d2de(_0x1c1c4d,_0x35b875,_0x50913b,_0x58f5d1,_0x20d899,_0x3caeca);_0x3e0a2a[_0x1d7d52(0xdc)]({'content':_0x50913b,'start':0x0,'length':_0xb9d574[_0x1d7d52(0x59d)]}),await _0x36d2de(_0x1c1c4d,_0x35b875,_0x3e0a2a,_0x58f5d1,_0x20d899,_0x3caeca);}async function _0x4bdf2f(_0x2ab943,_0x45ca9c,_0x5b186b,_0x147ca3,_0x365ef0,_0x3609a6){const _0x196399=_0x120045,_0x866b7b=Date[_0x196399(0x9e1)]();let _0x135885=[];if(_0x5b186b instanceof Array){for(const _0x4b2ef3 of _0x5b186b)_0x135885=_0x135885['concat'](_0x5a1a2b(_0x4b2ef3[_0x196399(0x477)],_0x147ca3,_0x4b2ef3[_0x196399(0x3c7)],_0x4b2ef3['length']));}else _0x135885=_0x5a1a2b(_0x5b186b,_0x147ca3);await _0x207c2c['trace']({'jobType':_0x165f57[_0x196399(0x700)],'type':_0x4f822c[_0x196399(0x5e8)],'traceLevel':_0x5de0eb[_0x196399(0x862)],'jobId':_0x45ca9c,'blockId':_0x147ca3['id'],'startTime':_0x866b7b,'timestamp':Date[_0x196399(0x9e1)](),'status':_0x196399(0x11c),'totalChunks':_0x135885['length'],'chunkSize':_0x147ca3[_0x196399(0x15b)]['size']}),await _0x36d2de(_0x2ab943,_0x45ca9c,_0x135885,_0x147ca3,_0x365ef0,_0x3609a6);}function _0x5a1a2b(_0x41294a,_0x3cad57,_0x1d371f,_0x4db78d){const _0x15dd8a=_0x120045,_0x4087e0=[];for(let _0x5c68f6=0x0;_0x5c68f6<_0x41294a[_0x15dd8a(0x59d)];_0x5c68f6+=_0x3cad57[_0x15dd8a(0x15b)][_0x15dd8a(0x625)]){let _0x2c91b5=_0x5c68f6-_0x3cad57[_0x15dd8a(0x15b)]['overlap'];_0x2c91b5<0x0&&(_0x2c91b5=0x0);let _0xe8980f=_0x5c68f6+_0x3cad57['attributes'][_0x15dd8a(0x625)]+_0x3cad57[_0x15dd8a(0x15b)]['overlap'];_0xe8980f>_0x41294a['length']&&(_0xe8980f=_0x41294a['length']);const _0x4f13d5=_0x41294a[_0x15dd8a(0x1dc)](_0x2c91b5,_0xe8980f);_0x4087e0['push']({'content':_0x4f13d5,'start':_0x1d371f??_0x5c68f6,'length':_0x4db78d??(_0x5c68f6+_0x3cad57[_0x15dd8a(0x15b)][_0x15dd8a(0x625)]>_0x41294a[_0x15dd8a(0x59d)]?_0x41294a[_0x15dd8a(0x59d)]-_0x5c68f6:_0x3cad57[_0x15dd8a(0x15b)][_0x15dd8a(0x625)])});}return _0x4087e0;}async function _0x2a2dbd(_0x555dd2,_0x1a29dd,_0x23de88,_0x149361,_0x52fa10,_0x265469){const _0x21e7f6=_0x120045,_0x4f32a5=Date['now']();let _0x1ed996;if(_0x23de88['file'][_0x21e7f6(0x7f3)][_0x21e7f6(0x1c5)](_0x21e7f6(0x727))||(_0x3d0617=_0x23de88[_0x21e7f6(0xa11)]['name'],_0xd9d1cf[_0x21e7f6(0x82f)]('.'+(_0x3d0617[_0x21e7f6(0x3b5)]('.')[_0x21e7f6(0x87c)]()?.['toLowerCase']()||''))))_0x1ed996=await _0x23de88['file'][_0x21e7f6(0x6dc)]();else{if(!_0x265469[_0x21e7f6(0x3f0)]['supports'](_0x23de88[_0x21e7f6(0xa11)]))throw new Error('Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20'+_0x23de88['file'][_0x21e7f6(0x7f3)]+_0x21e7f6(0x723)+_0x23de88[_0x21e7f6(0xa11)][_0x21e7f6(0x5eb)]);_0x1ed996=await _0x265469[_0x21e7f6(0x3f0)]['parse'](_0x23de88['file']);}var _0x3d0617;await _0x207c2c['trace']({'jobType':_0x165f57[_0x21e7f6(0x700)],'type':_0x4f822c[_0x21e7f6(0xe3)],'traceLevel':_0x5de0eb[_0x21e7f6(0x862)],'blockId':_0x149361['id'],'jobId':_0x1a29dd,'startTime':_0x4f32a5,'timestamp':Date[_0x21e7f6(0x9e1)](),'status':'success','documentType':_0x23de88[_0x21e7f6(0xa11)][_0x21e7f6(0x7f3)],'documentName':_0x23de88[_0x21e7f6(0xa11)][_0x21e7f6(0x5eb)],'extractionMethod':_0x21e7f6(0x72a)}),await _0x36d2de(_0x555dd2,_0x1a29dd,_0x1ed996,_0x149361,_0x52fa10,_0x265469);const _0x16e186=[{'content':_0x1ed996,'start':0x0,'length':_0x1ed996[_0x21e7f6(0x59d)]}];await _0x36d2de(_0x555dd2,_0x1a29dd,_0x16e186,_0x149361,_0x52fa10,_0x265469);}const _0xd9d1cf=['.js','.ts','.py',_0x120045(0x10a),_0x120045(0x918),_0x120045(0x5f8),_0x120045(0x950),_0x120045(0x3df),_0x120045(0x75e),_0x120045(0x590),_0x120045(0x9cb),_0x120045(0x4b2),_0x120045(0x24e),_0x120045(0x37d),_0x120045(0x16b),_0x120045(0x52a),_0x120045(0x1b0),'.rb',_0x120045(0x8d5),_0x120045(0xc9),'.c',_0x120045(0x395),'.cs','.r','.go',_0x120045(0x90e),_0x120045(0x620),_0x120045(0x448),_0x120045(0x679),'.dart',_0x120045(0x73f),'.lua',_0x120045(0x85b),_0x120045(0x8cb),_0x120045(0x1a8),_0x120045(0x67a),'.ex',_0x120045(0x170),_0x120045(0x757),_0x120045(0x5ae),_0x120045(0x13e),'.m','.vbs',_0x120045(0x697),'.rkt',_0x120045(0x2e2),'.ipynb',_0x120045(0x985),_0x120045(0x743),_0x120045(0x5d3),'.erb','.jinja',_0x120045(0x808),_0x120045(0x1d6),_0x120045(0x940),_0x120045(0x61a),'.pug','.liquid',_0x120045(0x33e),_0x120045(0x9bb),_0x120045(0x47e),_0x120045(0x285),'.djt'];async function _0xb6f33(_0x4f5b5a,_0x1de0fe,_0x24f4e8,_0x50bbe6,_0xfd247a,_0x5c1999){const _0x3292ce=_0x120045,_0x222b75=Date[_0x3292ce(0x9e1)](),_0x2baead=new Set();let _0x2f15b6=0x0;for(const _0x429b8e of _0x24f4e8)_0x2f15b6+=_0x429b8e[_0x3292ce(0x477)][_0x3292ce(0x59d)],await _0x311bd1(_0x429b8e[_0x3292ce(0x477)],_0x2baead,_0x50bbe6,_0x5c1999['nlpLibraryConnector']);await _0x207c2c[_0x3292ce(0x6c6)]({'jobType':_0x165f57[_0x3292ce(0x700)],'type':_0x4f822c['EntityExtractor'],'jobId':_0x1de0fe,'blockId':_0x50bbe6['id'],'traceLevel':_0x5de0eb[_0x3292ce(0x862)],'startTime':_0x222b75,'timestamp':Date[_0x3292ce(0x9e1)](),'status':_0x3292ce(0x11c),'contentLength':_0x2f15b6,'totalChunks':_0x24f4e8 instanceof Array?_0x24f4e8[_0x3292ce(0x59d)]:0x1,'entitiesExtracted':_0x2baead,'totalEntities':_0x2baead[_0x3292ce(0x625)]}),await _0x36d2de(_0x4f5b5a,_0x1de0fe,_0x2baead,_0x50bbe6,_0xfd247a,_0x5c1999);}async function _0x311bd1(_0x4f2ebe,_0xdf9384,_0x51968a,_0x56e4f6){const _0x345d82=_0x120045,_0x575755=await _0x56e4f6[_0x345d82(0x6e1)](_0x4f2ebe,{'ner':_0x51968a[_0x345d82(0x15b)]['ner'],'noun':_0x51968a[_0x345d82(0x15b)][_0x345d82(0x941)],'propn':_0x51968a[_0x345d82(0x15b)][_0x345d82(0x63a)],'verb':_0x51968a['attributes']['verb']});for(const _0x56c955 of _0x575755)_0xdf9384[_0x345d82(0x532)](_0x56c955);}async function _0x16437d(_0x287f50,_0x36412f,_0x490377,_0x35cb23,_0x15033d){const _0xb148aa=_0x120045,_0x26e4ff=Date[_0xb148aa(0x9e1)]();if(_0x490377['accumulated']||(_0x490377['accumulated']={}),_0xb148aa(0x630)==typeof _0x36412f?_0x490377[_0xb148aa(0x645)][_0xb148aa(0x477)]=_0x36412f:_0x36412f instanceof Set?_0x490377[_0xb148aa(0x645)][_0xb148aa(0x486)]=_0x36412f:_0x36412f instanceof Map?_0x490377[_0xb148aa(0x645)][_0xb148aa(0x2f8)]=_0x36412f:_0x36412f instanceof Array?_0x490377[_0xb148aa(0x645)][_0xb148aa(0x2a2)]=_0x36412f:_0x490377[_0xb148aa(0x645)][_0xb148aa(0xa11)]=_0x36412f,_0x490377[_0xb148aa(0x7c4)]=_0x490377[_0xb148aa(0x7c4)]?_0x490377[_0xb148aa(0x7c4)]+0x1:0x1,_0x37c6e0(_0x490377,_0x35cb23)>_0x490377[_0xb148aa(0x7c4)])return;if(!(_0x490377['accumulated'][_0xb148aa(0x486)]&&_0x490377[_0xb148aa(0x645)][_0xb148aa(0xa11)]&&_0x490377['accumulated'][_0xb148aa(0x477)]&&_0x490377[_0xb148aa(0x645)]['index']))throw new Error(_0xb148aa(0x8c8));let _0x313beb=0x0;const _0x44b858=_0x15033d[_0xb148aa(0x8d9)]['getGraphDatabase'](_0x490377['id']);for(const _0xce48d0 of _0x490377[_0xb148aa(0x645)][_0xb148aa(0x486)]){let _0x351094=[];_0x351094=_0x490377[_0xb148aa(0x645)][_0xb148aa(0x2a2)]['filter'](_0x3b114c=>_0x3b114c[_0xb148aa(0x477)][_0xb148aa(0x82f)](_0xce48d0));try{_0x44b858['addNode'](_0x490377[_0xb148aa(0x645)][_0xb148aa(0xa11)][_0xb148aa(0x6d0)],_0x490377['accumulated'][_0xb148aa(0x477)],_0x351094,_0xce48d0),_0x313beb+=0x1;}catch(_0x343312){}}if(_0x490377[_0xb148aa(0x645)][_0xb148aa(0x2f8)]){for(const [_0x2663a5,_0xf6543c]of _0x490377[_0xb148aa(0x645)]['relations'])for(const _0x3fdaf2 of _0xf6543c)try{_0x44b858[_0xb148aa(0x4a5)](_0x2663a5,_0x3fdaf2);}catch(_0x45a335){}await _0x207c2c[_0xb148aa(0x6c6)]({'jobType':_0x165f57[_0xb148aa(0x700)],'type':_0x4f822c[_0xb148aa(0x803)],'jobId':_0x287f50,'blockId':_0x490377['id'],'status':_0xb148aa(0x11c),'startTime':_0x26e4ff,'timestamp':Date[_0xb148aa(0x9e1)](),'traceLevel':_0x5de0eb[_0xb148aa(0x862)],'nodesAdded':_0x313beb,'entities':_0x490377[_0xb148aa(0x645)][_0xb148aa(0x486)],'relations':_0x490377[_0xb148aa(0x645)][_0xb148aa(0x2f8)]});}}async function _0x120bfd(_0x5bdc07,_0x461a80,_0xcd7548,_0x49a934,_0x37a67e,_0x459f18){const _0x30b96b=_0x120045,_0x2ddc51=_0x459f18[_0x30b96b(0xa0d)][_0x30b96b(0x999)](_0x29d897=>_0x29d897['id']===_0x49a934['id']);if(!_0x2ddc51)throw new Error(_0x30b96b(0x1ea));switch(_0x2ddc51[_0x30b96b(0x82b)]){case _0x4e2564['GenerativeAIModelOutputType'][_0x30b96b(0x86f)]:if('string'!=typeof _0xcd7548)throw new Error(_0x30b96b(0x8d8));await async function(_0x2c497a,_0x335f76,_0x7c6c8,_0x2501ba,_0x315354,_0xfeab86,_0x3c5966){const _0x4b0ff2=_0x30b96b,_0x27a724=Date['now']();let _0x57a754;const _0x4cc2f4=await fetch(_0x4cff37[_0x4b0ff2(0x3aa)]+_0x4b0ff2(0x1fa),{'method':_0x4b0ff2(0x9a0),'headers':{'Content-Type':_0x4b0ff2(0x36f),'x-vendor-id':_0x2c497a},'body':JSON[_0x4b0ff2(0x4e9)]({'messages':[{'role':_0x4b0ff2(0xa5b),'content':_0x7c6c8}]})});_0x57a754=(await _0x4cc2f4[_0x4b0ff2(0x501)]())[_0x4b0ff2(0x924)][0x0][_0x4b0ff2(0x1b4)]['content'],await _0x207c2c['trace']({'jobType':_0x165f57[_0x4b0ff2(0x700)],'type':_0x4f822c['ModelText'],'jobId':_0x335f76,'blockId':_0x315354['id'],'traceLevel':_0x5de0eb[_0x4b0ff2(0x862)],'timestamp':Date['now'](),'startTime':_0x27a724,'status':_0x4b0ff2(0x11c),'modelName':_0x2501ba['id'],'inputType':_0x2501ba[_0x4b0ff2(0x975)],'outputType':_0x2501ba[_0x4b0ff2(0x82b)],'content':_0x7c6c8,'results':_0x57a754}),await _0x36d2de(_0x2c497a,_0x335f76,_0x57a754,_0x315354,_0xfeab86,_0x3c5966);}(_0x5bdc07,_0x461a80,_0xcd7548,_0x2ddc51,_0x49a934,_0x37a67e,_0x459f18);break;case _0x4e2564[_0x30b96b(0x9f3)][_0x30b96b(0x649)]:if(!(_0xcd7548 instanceof Array))throw new Error(_0x30b96b(0x932));await async function(_0x32ba69,_0x615363,_0x477e30,_0x331c70,_0x58de7c,_0x21aa33,_0x1e907d){const _0x17c3db=_0x30b96b,_0x2259bb=Date[_0x17c3db(0x9e1)](),_0x273b41=await fetch(_0x4cff37['apiUrl']+_0x17c3db(0x7fe),{'method':_0x17c3db(0x9a0),'headers':{'Content-Type':_0x17c3db(0x36f),'x-vendor-id':_0x32ba69},'body':JSON['stringify']({'input':_0x477e30[_0x17c3db(0x760)](_0x1fb0c5=>_0x1fb0c5[_0x17c3db(0x477)])})}),_0x3dcd18=(await _0x273b41[_0x17c3db(0x501)]())[_0x17c3db(0x7f6)]['map'](_0x584314=>_0x584314['embedding']);await _0x207c2c[_0x17c3db(0x6c6)]({'jobType':_0x165f57[_0x17c3db(0x700)],'type':_0x4f822c[_0x17c3db(0x29a)],'jobId':_0x615363,'blockId':_0x58de7c['id'],'traceLevel':_0x5de0eb[_0x17c3db(0x862)],'timestamp':Date[_0x17c3db(0x9e1)](),'startTime':_0x2259bb,'status':_0x17c3db(0x11c),'modelName':_0x331c70['id'],'inputType':_0x331c70['inputType'],'outputType':_0x331c70[_0x17c3db(0x82b)],'totalVectors':_0x3dcd18[_0x17c3db(0x59d)]}),await _0x36d2de(_0x32ba69,_0x615363,_0x3dcd18,_0x58de7c,_0x21aa33,_0x1e907d);}(_0x5bdc07,_0x461a80,_0xcd7548,_0x2ddc51,_0x49a934,_0x37a67e,_0x459f18);}}async function _0x2bb9ff(_0x58def8,_0x21b919,_0xa012ed,_0x3e49cd,_0x599150,_0x2a4320){const _0x44d416=_0x120045,_0x5ebf38=Date[_0x44d416(0x9e1)]();if(_0x3e49cd[_0x44d416(0x645)]||(_0x3e49cd['accumulated']={}),_0xa012ed instanceof Array?_0x3e49cd[_0x44d416(0x645)][_0x44d416(0x2a2)]=_0xa012ed:_0x3e49cd[_0x44d416(0x645)][_0x44d416(0x486)]=_0xa012ed,_0x3e49cd['timesCalled']=_0x3e49cd[_0x44d416(0x7c4)]?_0x3e49cd[_0x44d416(0x7c4)]+0x1:0x1,_0x37c6e0(_0x3e49cd,_0x599150)>_0x3e49cd[_0x44d416(0x7c4)])return;if(!_0x3e49cd['accumulated']['index']||!_0x3e49cd[_0x44d416(0x645)][_0x44d416(0x486)])throw new Error('Relation\x20extractor\x20block\x20is\x20missing\x20required\x20data');const _0xde09ab=new Map();for(const _0x897c8a of _0x3e49cd[_0x44d416(0x645)][_0x44d416(0x2a2)])_0x82125c(_0x897c8a['content'],_0x3e49cd['accumulated']['entities'],_0xde09ab);await _0x207c2c['trace']({'jobType':_0x165f57[_0x44d416(0x700)],'type':_0x4f822c[_0x44d416(0x232)],'jobId':_0x21b919,'blockId':_0x3e49cd['id'],'traceLevel':_0x5de0eb[_0x44d416(0x862)],'timestamp':Date['now'](),'startTime':_0x5ebf38,'status':_0x44d416(0x11c),'entities':_0x3e49cd['accumulated'][_0x44d416(0x486)],'relations':_0xde09ab,'totalRelationsExtracted':_0xde09ab[_0x44d416(0x625)]}),await _0x36d2de(_0x58def8,_0x21b919,_0xde09ab,_0x3e49cd,_0x599150,_0x2a4320);}function _0x82125c(_0x37f240,_0x28d7b4,_0x190d3b){const _0x3942b5=_0x120045;for(const _0x5250c4 of _0x28d7b4)for(const _0x33de43 of _0x28d7b4){if(_0x5250c4===_0x33de43)continue;const _0x28e8e1=_0x37f240[_0x3942b5(0xe6)](_0x5250c4),_0x35deaa=_0x37f240['indexOf'](_0x33de43);-0x1!==_0x28e8e1&&-0x1!==_0x35deaa&&(_0x190d3b['has'](_0x5250c4)||_0x190d3b[_0x3942b5(0x381)](_0x5250c4,new Set()),_0x190d3b[_0x3942b5(0x7e9)](_0x5250c4)[_0x3942b5(0x532)](_0x33de43));}return _0x190d3b;}async function _0x53b403(_0x4f78f3,_0x389114,_0x5b209f,_0xc21c94,_0x4cf36d,_0xd8e7fc){const _0x597e59=_0x120045,_0x357ff9=Date[_0x597e59(0x9e1)]();let _0x304ef8=[];if(_0x5b209f instanceof Array)for(const _0x4e0776 of _0x5b209f){const _0xe31dc=await _0xd8e7fc[_0x597e59(0x120)]['getSentences'](_0x4e0776[_0x597e59(0x477)]);_0x304ef8=_0x304ef8[_0x597e59(0x7fa)](_0xe31dc['map'](_0x25c239=>({'content':_0x25c239,'start':_0x4e0776[_0x597e59(0x3c7)],'length':_0x4e0776[_0x597e59(0x59d)]})));}else _0x304ef8=(await _0xd8e7fc[_0x597e59(0x120)][_0x597e59(0x971)](_0x5b209f))[_0x597e59(0x760)](_0x42183b=>({'content':_0x42183b,'start':_0x5b209f[_0x597e59(0xe6)](_0x42183b),'length':_0x42183b[_0x597e59(0x59d)]}));await _0x207c2c[_0x597e59(0x6c6)]({'jobType':_0x165f57[_0x597e59(0x700)],'type':_0x4f822c[_0x597e59(0x948)],'jobId':_0x389114,'blockId':_0xc21c94['id'],'traceLevel':_0x5de0eb[_0x597e59(0x862)],'startTime':_0x357ff9,'timestamp':Date[_0x597e59(0x9e1)](),'status':_0x597e59(0x11c),'totalSentences':_0x304ef8[_0x597e59(0x59d)],'averageSentenceLength':_0x304ef8[_0x597e59(0x181)]((_0x6340be,_0x43c0a0)=>_0x6340be+_0x43c0a0[_0x597e59(0x59d)],0x0)/_0x304ef8[_0x597e59(0x59d)]}),await _0x36d2de(_0x4f78f3,_0x389114,_0x304ef8,_0xc21c94,_0x4cf36d,_0xd8e7fc);}async function _0x73cbe5(_0xe94a2c,_0x318519,_0x5c6509,_0x5bcc84,_0x2c3333){const _0x1ca468=_0x120045,_0x315baf=Date['now']();var _0x187a02;if(_0x5c6509['accumulated']||(_0x5c6509[_0x1ca468(0x645)]={}),_0x318519 instanceof Array?(_0x187a02=_0x318519)[0x0]instanceof Array&&_0x1ca468(0x2bf)==typeof _0x187a02[0x0]?.[0x0]?_0x5c6509['accumulated'][_0x1ca468(0x742)]=_0x318519:_0x5c6509[_0x1ca468(0x645)][_0x1ca468(0x2a2)]=_0x318519:_0x1ca468(0x630)==typeof _0x318519?_0x5c6509[_0x1ca468(0x645)][_0x1ca468(0x477)]=_0x318519:_0x5c6509[_0x1ca468(0x645)][_0x1ca468(0xa11)]=_0x318519,_0x5c6509['timesCalled']=_0x5c6509[_0x1ca468(0x7c4)]?_0x5c6509[_0x1ca468(0x7c4)]+0x1:0x1,_0x37c6e0(_0x5c6509,_0x5bcc84)>_0x5c6509[_0x1ca468(0x7c4)])return;if(!(_0x5c6509['accumulated'][_0x1ca468(0x477)]&&_0x5c6509[_0x1ca468(0x645)][_0x1ca468(0x2a2)]&&_0x5c6509[_0x1ca468(0x645)][_0x1ca468(0x742)]&&_0x5c6509[_0x1ca468(0x645)][_0x1ca468(0xa11)]))throw new Error('Vector\x20database\x20block\x20is\x20missing\x20required\x20data');const _0x55a230=_0x2c3333[_0x1ca468(0x8d9)][_0x1ca468(0x26d)](_0x5c6509['id']);_0x55a230[_0x1ca468(0xa1e)](_0x5c6509[_0x1ca468(0x645)][_0x1ca468(0xa11)][_0x1ca468(0x6d0)],_0x5c6509[_0x1ca468(0x645)][_0x1ca468(0x477)],_0x5c6509[_0x1ca468(0x645)][_0x1ca468(0x2a2)],_0x5c6509[_0x1ca468(0x645)][_0x1ca468(0x742)]),await _0x207c2c[_0x1ca468(0x6c6)]({'jobType':_0x165f57[_0x1ca468(0x700)],'type':_0x4f822c[_0x1ca468(0x76a)],'jobId':_0xe94a2c,'blockId':_0x5c6509['id'],'traceLevel':_0x5de0eb['Debug'],'startTime':_0x315baf,'timestamp':Date[_0x1ca468(0x9e1)](),'status':_0x1ca468(0x11c),'databaseName':_0x55a230[_0x1ca468(0xd1)](),'vectorsAdded':_0x5c6509['accumulated'][_0x1ca468(0x742)][_0x1ca468(0x59d)],'filePathName':_0x5c6509[_0x1ca468(0x645)][_0x1ca468(0xa11)]['pathName']});}async function _0x131e54(_0x35dcd4,_0x1081fc,_0xf060cc,_0x33c383,_0x51164f,_0x5ceab1){const _0x5963fd=_0x120045,_0x38a3b0=Date[_0x5963fd(0x9e1)]();let _0x512f13=[];if(_0xf060cc instanceof Array){for(const _0x215603 of _0xf060cc)_0x512f13=_0x512f13[_0x5963fd(0x7fa)](_0xabf7b5(_0x215603[_0x5963fd(0x477)],_0x33c383,_0x215603['start'],_0x215603[_0x5963fd(0x59d)]));}else _0x512f13=_0xabf7b5(_0xf060cc,_0x33c383);await _0x207c2c['trace']({'jobType':_0x165f57[_0x5963fd(0x700)],'type':_0x4f822c['WordSplitter'],'jobId':_0x1081fc,'traceLevel':_0x5de0eb[_0x5963fd(0x862)],'blockId':_0x33c383['id'],'startTime':_0x38a3b0,'timestamp':Date[_0x5963fd(0x9e1)](),'status':'success','totalChunks':_0x512f13['length'],'averageChunkLength':_0x512f13[_0x5963fd(0x181)]((_0x190135,_0x5bc6a2)=>_0x190135+_0x5bc6a2[_0x5963fd(0x59d)],0x0)/_0x512f13[_0x5963fd(0x59d)]}),await _0x36d2de(_0x35dcd4,_0x1081fc,_0x512f13,_0x33c383,_0x51164f,_0x5ceab1);}function _0xabf7b5(_0xf3f999,_0x2e3592,_0x1e6ee0,_0x60c4d7){const _0xa4c23b=_0x120045,_0x502df6=[],_0x3db01f=_0xf3f999[_0xa4c23b(0x3b5)]('\x20');let _0x47ffd1='',_0x5ca4cd=-0x1,_0x8b9f78=0x0,_0x4e4ef6=0x0;for(const _0x265414 of _0x3db01f){if(_0x47ffd1['length']+_0x265414[_0xa4c23b(0x59d)]>_0x2e3592[_0xa4c23b(0x15b)][_0xa4c23b(0x625)]){const _0x193b0a=_0x47ffd1['length'];let _0x429f6b=_0x5ca4cd,_0x354cd6='';for(;_0x429f6b>=0x0&&_0x354cd6[_0xa4c23b(0x59d)]+_0x3db01f[_0x429f6b][_0xa4c23b(0x59d)]<_0x2e3592[_0xa4c23b(0x15b)][_0xa4c23b(0x72f)];)_0x354cd6=_0x3db01f[_0x429f6b]+'\x20'+_0x354cd6,_0x429f6b--;let _0x5ad282=_0x8b9f78,_0x41012e='';for(;_0x5ad282<_0x3db01f['length']&&_0x41012e[_0xa4c23b(0x59d)]+_0x3db01f[_0x5ad282][_0xa4c23b(0x59d)]<_0x2e3592[_0xa4c23b(0x15b)][_0xa4c23b(0x72f)];)_0x41012e+=_0x3db01f[_0x5ad282]+'\x20',_0x5ad282++;_0x47ffd1=_0x354cd6+_0x47ffd1+_0x41012e,_0x502df6['push']({'content':_0x47ffd1[_0xa4c23b(0x928)](),'start':_0x1e6ee0??_0x4e4ef6,'length':_0x60c4d7??_0x193b0a}),_0x47ffd1='',_0x5ca4cd=_0x8b9f78-0x1,_0x4e4ef6+=_0x193b0a;}_0x47ffd1+=_0x265414+'\x20',_0x8b9f78++;}if(_0x47ffd1[_0xa4c23b(0x59d)]>0x0){const _0x15eea0=_0x47ffd1[_0xa4c23b(0x59d)];let _0x1170c1=_0x5ca4cd,_0x34ae4f='';for(;_0x1170c1>=0x0&&_0x34ae4f[_0xa4c23b(0x59d)]+_0x3db01f[_0x1170c1][_0xa4c23b(0x59d)]<_0x2e3592[_0xa4c23b(0x15b)]['overlap'];)_0x34ae4f=_0x3db01f[_0x1170c1]+'\x20'+_0x34ae4f,_0x1170c1--;_0x47ffd1=_0x34ae4f+_0x47ffd1,_0x502df6[_0xa4c23b(0xdc)]({'content':_0x47ffd1[_0xa4c23b(0x928)](),'start':_0x1e6ee0??_0x4e4ef6,'length':_0x60c4d7??_0x15eea0});}return _0x502df6;}async function _0x36d2de(_0x3669d5,_0x358fda,_0x3b8689,_0x558ba9,_0x2c57db,_0x122e1c){const _0x260b29=_0x120045;for(const _0x4a2c35 of _0x558ba9[_0x260b29(0x310)]||[]){const _0x3aa627=_0x2c57db[_0x260b29(0x999)](_0x1efd95=>_0x1efd95[_0x260b29(0x787)]===_0x4a2c35[_0x260b29(0x787)]);if(_0x3aa627)switch(_0x3aa627[_0x260b29(0x7f3)]){case _0x3dead4['Agent']:_0x4a2c35[_0x260b29(0x7f3)]===_0x59c578['Text']&&'string'==typeof _0x3b8689&&await _0x3d88fc(_0x3669d5,_0x358fda,_0x3b8689,_0x3aa627,_0x2c57db,_0x122e1c);break;case _0x3dead4[_0x260b29(0x5e8)]:_0x4a2c35[_0x260b29(0x7f3)]===_0x59c578[_0x260b29(0x86f)]&&'string'==typeof _0x3b8689&&await _0x4bdf2f(_0x3669d5,_0x358fda,_0x3b8689,_0x3aa627,_0x2c57db,_0x122e1c),_0x4a2c35[_0x260b29(0x7f3)]===_0x59c578[_0x260b29(0x9ed)]&&_0x3b8689 instanceof Array&&await _0x4bdf2f(_0x3669d5,_0x358fda,_0x3b8689,_0x3aa627,_0x2c57db,_0x122e1c);break;case _0x3dead4[_0x260b29(0xe3)]:_0x4a2c35[_0x260b29(0x7f3)]===_0x59c578['File']&&await _0x2a2dbd(_0x3669d5,_0x358fda,_0x3b8689,_0x3aa627,_0x2c57db,_0x122e1c);break;case _0x3dead4['EntityExtractor']:_0x4a2c35[_0x260b29(0x7f3)]===_0x59c578[_0x260b29(0x9ed)]&&_0x3b8689 instanceof Array&&await _0xb6f33(_0x3669d5,_0x358fda,_0x3b8689,_0x3aa627,_0x2c57db,_0x122e1c);break;case _0x3dead4[_0x260b29(0x803)]:_0x4a2c35[_0x260b29(0x7f3)]===_0x59c578[_0x260b29(0x86f)]&&_0x260b29(0x630)==typeof _0x3b8689&&await _0x16437d(_0x358fda,_0x3b8689,_0x3aa627,_0x2c57db,_0x122e1c),_0x4a2c35[_0x260b29(0x7f3)]===_0x59c578['Index']&&_0x3b8689 instanceof Array&&await _0x16437d(_0x358fda,_0x3b8689,_0x3aa627,_0x2c57db,_0x122e1c),_0x4a2c35[_0x260b29(0x7f3)]===_0x59c578['Entity']&&_0x3b8689 instanceof Set&&await _0x16437d(_0x358fda,_0x3b8689,_0x3aa627,_0x2c57db,_0x122e1c),_0x4a2c35[_0x260b29(0x7f3)]===_0x59c578['Relation']&&_0x3b8689 instanceof Map&&await _0x16437d(_0x358fda,_0x3b8689,_0x3aa627,_0x2c57db,_0x122e1c),_0x4a2c35[_0x260b29(0x7f3)]===_0x59c578[_0x260b29(0x622)]&&await _0x16437d(_0x358fda,_0x3b8689,_0x3aa627,_0x2c57db,_0x122e1c);break;case _0x3dead4[_0x260b29(0x2e5)]:_0x4a2c35['type']===_0x59c578['Text']&&'string'==typeof _0x3b8689&&await _0x120bfd(_0x3669d5,_0x358fda,_0x3b8689,_0x3aa627,_0x2c57db,_0x122e1c),_0x4a2c35[_0x260b29(0x7f3)]===_0x59c578[_0x260b29(0x9ed)]&&_0x3b8689 instanceof Array&&await _0x120bfd(_0x3669d5,_0x358fda,_0x3b8689,_0x3aa627,_0x2c57db,_0x122e1c);break;case _0x3dead4[_0x260b29(0x232)]:_0x4a2c35[_0x260b29(0x7f3)]===_0x59c578[_0x260b29(0x9ed)]&&_0x3b8689 instanceof Array&&await _0x2bb9ff(_0x3669d5,_0x358fda,_0x3b8689,_0x3aa627,_0x2c57db,_0x122e1c),_0x4a2c35[_0x260b29(0x7f3)]===_0x59c578[_0x260b29(0x888)]&&_0x3b8689 instanceof Set&&await _0x2bb9ff(_0x3669d5,_0x358fda,_0x3b8689,_0x3aa627,_0x2c57db,_0x122e1c);break;case _0x3dead4[_0x260b29(0x948)]:_0x4a2c35[_0x260b29(0x7f3)]===_0x59c578[_0x260b29(0x86f)]&&_0x260b29(0x630)==typeof _0x3b8689&&await _0x53b403(_0x3669d5,_0x358fda,_0x3b8689,_0x3aa627,_0x2c57db,_0x122e1c),_0x4a2c35[_0x260b29(0x7f3)]===_0x59c578[_0x260b29(0x9ed)]&&_0x3b8689 instanceof Array&&await _0x53b403(_0x3669d5,_0x358fda,_0x3b8689,_0x3aa627,_0x2c57db,_0x122e1c);break;case _0x3dead4[_0x260b29(0x76a)]:_0x4a2c35[_0x260b29(0x7f3)]===_0x59c578[_0x260b29(0x86f)]&&_0x260b29(0x630)==typeof _0x3b8689&&await _0x73cbe5(_0x358fda,_0x3b8689,_0x3aa627,_0x2c57db,_0x122e1c),_0x4a2c35[_0x260b29(0x7f3)]===_0x59c578[_0x260b29(0x9ed)]&&_0x3b8689 instanceof Array&&await _0x73cbe5(_0x358fda,_0x3b8689,_0x3aa627,_0x2c57db,_0x122e1c),_0x4a2c35[_0x260b29(0x7f3)]===_0x59c578['Vector']&&_0x3b8689 instanceof Array&&await _0x73cbe5(_0x358fda,_0x3b8689,_0x3aa627,_0x2c57db,_0x122e1c),_0x4a2c35[_0x260b29(0x7f3)]===_0x59c578['File']&&await _0x73cbe5(_0x358fda,_0x3b8689,_0x3aa627,_0x2c57db,_0x122e1c);break;case _0x3dead4['WordSplitter']:_0x4a2c35['type']===_0x59c578[_0x260b29(0x86f)]&&_0x260b29(0x630)==typeof _0x3b8689&&await _0x131e54(_0x3669d5,_0x358fda,_0x3b8689,_0x3aa627,_0x2c57db,_0x122e1c),_0x4a2c35['type']===_0x59c578[_0x260b29(0x9ed)]&&_0x3b8689 instanceof Array&&await _0x131e54(_0x3669d5,_0x358fda,_0x3b8689,_0x3aa627,_0x2c57db,_0x122e1c);}}}function _0x37c6e0(_0x2a30c8,_0xfe383c){const _0x32e56a=_0x120045;return _0xfe383c[_0x32e56a(0x1e1)](_0xdf6fed=>_0xdf6fed[_0x32e56a(0x310)]?.['some'](_0x41d3c6=>_0x41d3c6[_0x32e56a(0x787)]===_0x2a30c8[_0x32e56a(0x787)]))[_0x32e56a(0x59d)];}async function _0x209bf4(_0x2dc84f,_0x2f9b97,_0x3ed8d0,_0x7f20f7,_0x59c374,_0x299ce4,_0x53a385,_0x5b2aab){const _0xd70f6a=_0x120045,_0x4d9903=Date[_0xd70f6a(0x9e1)](),_0x50c506=new Set();if(_0x7f20f7 instanceof Array){for(const _0x3e3be9 of _0x7f20f7)await _0x5bfc34(_0x3e3be9[_0xd70f6a(0x477)],_0x299ce4,_0x50c506,_0x5b2aab['nlpLibraryConnector']);}else await _0x5bfc34(_0x7f20f7,_0x299ce4,_0x50c506,_0x5b2aab[_0xd70f6a(0x120)]);await _0x207c2c['trace']({'jobType':_0x165f57['Retrieve'],'type':_0x3ea1b4[_0xd70f6a(0x78e)],'jobId':_0x2f9b97,'threadId':_0x3ed8d0,'blockId':_0x299ce4['id'],'traceLevel':_0x5de0eb[_0xd70f6a(0x862)],'startTime':_0x4d9903,'timestamp':Date[_0xd70f6a(0x9e1)](),'status':_0xd70f6a(0x11c),'content':_0x7f20f7,'entitiesExtracted':Array[_0xd70f6a(0x7f9)](_0x50c506),'totalEntities':_0x50c506[_0xd70f6a(0x625)]}),await _0x3f58a0(_0x2dc84f,_0x2f9b97,_0x3ed8d0,_0x50c506,_0x59c374,_0x299ce4,_0x53a385,_0x5b2aab);}async function _0x5bfc34(_0x36d90b,_0x17fb45,_0x1acdfc,_0x43cdcc){const _0x4790e6=_0x120045,_0x36f86e=await _0x43cdcc[_0x4790e6(0x6e1)](_0x36d90b,{'ner':_0x17fb45[_0x4790e6(0x15b)]['ner'],'noun':_0x17fb45[_0x4790e6(0x15b)][_0x4790e6(0x941)],'propn':_0x17fb45[_0x4790e6(0x15b)][_0x4790e6(0x63a)],'verb':_0x17fb45[_0x4790e6(0x15b)][_0x4790e6(0x726)]});for(const _0x4969ff of _0x36f86e)_0x1acdfc[_0x4790e6(0x532)](_0x4969ff);}async function _0x2255be(_0x140786,_0x3bdd0a,_0x37ab5e,_0x415ce8,_0xf0d879,_0x22f74c,_0x9874c3,_0x1b228c){const _0x10df5f=_0x120045,_0x26319e=Date[_0x10df5f(0x9e1)]();if(_0x22f74c[_0x10df5f(0x645)]||(_0x22f74c['accumulated']={}),_0x415ce8 instanceof Array?(_0x22f74c[_0x10df5f(0x645)]['results']||(_0x22f74c[_0x10df5f(0x645)][_0x10df5f(0x108)]=[]),_0x22f74c[_0x10df5f(0x645)][_0x10df5f(0x108)]['push'](..._0x415ce8)):_0x415ce8 instanceof Set?_0x22f74c[_0x10df5f(0x645)][_0x10df5f(0x486)]=_0x415ce8:_0x22f74c[_0x10df5f(0x645)][_0x10df5f(0x1d9)]=_0x415ce8,_0x22f74c['timesCalled']=_0x22f74c[_0x10df5f(0x7c4)]?_0x22f74c[_0x10df5f(0x7c4)]+0x1:0x1,_0x3ec30e(_0x22f74c,_0x9874c3)>_0x22f74c[_0x10df5f(0x7c4)])return;if(!_0x22f74c[_0x10df5f(0x645)]['prompt']&&!_0x22f74c[_0x10df5f(0x645)][_0x10df5f(0x108)]||!_0x22f74c[_0x10df5f(0x645)][_0x10df5f(0x486)])throw new Error(_0x10df5f(0x8c8));const _0x5df498=_0x1b228c[_0x10df5f(0x8d9)][_0x10df5f(0x38b)](_0x22f74c['id'])['getContent'](Array[_0x10df5f(0x7f9)](_0x22f74c[_0x10df5f(0x645)][_0x10df5f(0x486)]),_0x22f74c['attributes'][_0x10df5f(0x5a2)],_0x22f74c['attributes'][_0x10df5f(0x4c5)]);let _0x30e4fd=[];for(const _0x30b0e0 in _0x5df498){const _0x3f59f7=_0x5df498[_0x30b0e0];for(const _0x1e5b68 of _0x3f59f7){let _0x554bc8=0x0;if(_0x22f74c[_0x10df5f(0x645)][_0x10df5f(0x1d9)]&&(_0x554bc8=await _0x1b228c[_0x10df5f(0x120)][_0x10df5f(0x467)](_0x22f74c[_0x10df5f(0x645)]['prompt'],_0x1e5b68)),_0x22f74c[_0x10df5f(0x645)][_0x10df5f(0x108)]){for(const _0x10aab6 of _0x22f74c[_0x10df5f(0x645)][_0x10df5f(0x108)])_0x554bc8=Math[_0x10df5f(0x6db)](_0x554bc8,await _0x1b228c[_0x10df5f(0x120)][_0x10df5f(0x467)](_0x10aab6['content'],_0x1e5b68));}_0x554bc8<_0x22f74c[_0x10df5f(0x15b)][_0x10df5f(0x342)]||_0x30e4fd[_0x10df5f(0xdc)]({'content':_0x1e5b68,'relevance':_0x554bc8,'pathName':_0x30b0e0});}}_0x30e4fd=_0x30e4fd[_0x10df5f(0x184)]((_0x193981,_0x1efa85)=>_0x1efa85[_0x10df5f(0x432)]-_0x193981[_0x10df5f(0x432)])[_0x10df5f(0x334)](0x0,_0x22f74c[_0x10df5f(0x15b)][_0x10df5f(0x57c)]),await _0x207c2c[_0x10df5f(0x6c6)]({'jobType':_0x165f57['Retrieve'],'type':_0x3ea1b4['GraphSearch'],'jobId':_0x3bdd0a,'threadId':_0x37ab5e,'blockId':_0x22f74c['id'],'traceLevel':_0x5de0eb['Debug'],'timestamp':Date[_0x10df5f(0x9e1)](),'startTime':_0x26319e,'status':'success','content':_0x415ce8,'topResults':_0x30e4fd,'numResults':_0x30e4fd['length']}),await _0x3f58a0(_0x140786,_0x3bdd0a,_0x37ab5e,_0x30e4fd,_0xf0d879,_0x22f74c,_0x9874c3,_0x1b228c);}async function _0x47e4f3(_0x24961d,_0x385478,_0x42636d,_0x152ad9,_0x38a66a,_0x319c54,_0x19eec2,_0x57e655){const _0x48b77b=_0x120045,_0x5616bb=_0x57e655[_0x48b77b(0xa0d)][_0x48b77b(0x999)](_0x2f03fe=>_0x2f03fe['id']===_0x319c54['id']);if(!_0x5616bb)throw new Error(_0x48b77b(0x1ea));let _0x5adaa6='';switch(_0x5adaa6=_0x152ad9 instanceof Array?_0x152ad9[_0x48b77b(0x760)](_0x42b60c=>_0x42b60c[_0x48b77b(0x477)])[_0x48b77b(0x3ec)](',\x20'):_0x152ad9,_0x5616bb['outputType']){case _0x4e2564[_0x48b77b(0x9f3)]['Text']:await async function(_0x61ffc6,_0x42144b,_0x38ca8e,_0x442f0c,_0x997a3f,_0x7654e9,_0x851d5,_0xc07d96,_0x43624c){const _0x465f23=_0x48b77b,_0xe2ccd2=Date[_0x465f23(0x9e1)](),_0x345624=await fetch(_0x4cff37[_0x465f23(0x3aa)]+_0x465f23(0x1fa),{'method':_0x465f23(0x9a0),'headers':{'Content-Type':_0x465f23(0x36f),'x-vendor-id':_0x61ffc6},'body':JSON['stringify']({'messages':[{'role':_0x465f23(0xa5b),'content':_0x442f0c}]})}),_0x5db745=(await _0x345624[_0x465f23(0x501)]())[_0x465f23(0x924)][0x0][_0x465f23(0x1b4)][_0x465f23(0x477)];await _0x207c2c['trace']({'jobType':_0x165f57['Retrieve'],'type':_0x3ea1b4[_0x465f23(0x1c8)],'jobId':_0x42144b,'threadId':_0x38ca8e,'blockId':_0x851d5['id'],'traceLevel':_0x5de0eb[_0x465f23(0x862)],'startTime':_0xe2ccd2,'timestamp':Date[_0x465f23(0x9e1)](),'status':_0x465f23(0x11c),'modelName':_0x7654e9['id'],'content':_0x442f0c,'newPrompt':_0x5db745,'inputType':_0x7654e9[_0x465f23(0x975)],'outputType':_0x7654e9[_0x465f23(0x82b)]}),await _0x3f58a0(_0x61ffc6,_0x42144b,_0x38ca8e,_0x5db745,_0x997a3f,_0x851d5,_0xc07d96,_0x43624c);}(_0x24961d,_0x385478,_0x42636d,_0x5adaa6,_0x38a66a,_0x5616bb,_0x319c54,_0x19eec2,_0x57e655);break;case _0x4e2564[_0x48b77b(0x9f3)][_0x48b77b(0x649)]:await async function(_0x49b9f8,_0x5ee37a,_0x3daae5,_0x5b3e87,_0x42c678,_0x558346,_0x29972f,_0x5d37de,_0x1f7d8e){const _0x3fc64c=_0x48b77b,_0x54b362=Date['now'](),_0xfe3055=await fetch(_0x4cff37[_0x3fc64c(0x3aa)]+_0x3fc64c(0x7fe),{'method':_0x3fc64c(0x9a0),'headers':{'Content-Type':_0x3fc64c(0x36f),'x-vendor-id':_0x49b9f8},'body':JSON['stringify']({'input':_0x5b3e87})}),_0xdc8455=(await _0xfe3055[_0x3fc64c(0x501)]())[_0x3fc64c(0x7f6)][0x0][_0x3fc64c(0x4d5)];await _0x207c2c[_0x3fc64c(0x6c6)]({'jobType':_0x165f57[_0x3fc64c(0x688)],'type':_0x3ea1b4['ModelVector'],'jobId':_0x5ee37a,'threadId':_0x3daae5,'blockId':_0x29972f['id'],'traceLevel':_0x5de0eb[_0x3fc64c(0x862)],'startTime':_0x54b362,'timestamp':Date[_0x3fc64c(0x9e1)](),'status':'success','modelName':_0x558346['id'],'content':_0x5b3e87,'totalVectors':_0xdc8455[_0x3fc64c(0x59d)]}),await _0x3f58a0(_0x49b9f8,_0x5ee37a,_0x3daae5,_0xdc8455,_0x42c678,_0x29972f,_0x5d37de,_0x1f7d8e);}(_0x24961d,_0x385478,_0x42636d,_0x5adaa6,_0x38a66a,_0x5616bb,_0x319c54,_0x19eec2,_0x57e655);}}async function _0x1fba4a(_0x469d29,_0xf22cb5,_0x22a1cf,_0x76d8e,_0x2b1316,_0x1eddf0,_0x3132aa,_0x515693){const _0x5f23ad=_0x120045,_0x9f1b48=Date[_0x5f23ad(0x9e1)]();if(_0x1eddf0[_0x5f23ad(0x645)]||(_0x1eddf0[_0x5f23ad(0x645)]={}),_0x76d8e instanceof Array?(_0x1eddf0['accumulated'][_0x5f23ad(0x108)]||(_0x1eddf0[_0x5f23ad(0x645)][_0x5f23ad(0x108)]=[]),_0x1eddf0[_0x5f23ad(0x645)][_0x5f23ad(0x108)][_0x5f23ad(0xdc)](..._0x76d8e)):_0x1eddf0[_0x5f23ad(0x645)][_0x5f23ad(0x1d9)]=_0x76d8e,_0x1eddf0[_0x5f23ad(0x7c4)]=_0x1eddf0[_0x5f23ad(0x7c4)]?_0x1eddf0[_0x5f23ad(0x7c4)]+0x1:0x1,_0x3ec30e(_0x1eddf0,_0x3132aa)>_0x1eddf0[_0x5f23ad(0x7c4)])return;if(!_0x1eddf0[_0x5f23ad(0x645)]['prompt']||!_0x1eddf0['accumulated']['results'])throw new Error(_0x5f23ad(0x840));for(const _0x326f3b of _0x1eddf0['accumulated'][_0x5f23ad(0x108)])_0x326f3b[_0x5f23ad(0x432)]=await _0x515693['nlpLibraryConnector'][_0x5f23ad(0x467)](_0x1eddf0[_0x5f23ad(0x645)][_0x5f23ad(0x1d9)],_0x326f3b[_0x5f23ad(0x477)]);const _0x508aff=_0x1eddf0[_0x5f23ad(0x645)][_0x5f23ad(0x108)]['filter'](_0x2b7dee=>_0x2b7dee['relevance']>_0x1eddf0[_0x5f23ad(0x15b)]['minRelevance'])['sort']((_0x7f054c,_0x4ba060)=>_0x4ba060[_0x5f23ad(0x432)]-_0x7f054c[_0x5f23ad(0x432)])['slice'](0x0,_0x1eddf0[_0x5f23ad(0x15b)]['topK']);await _0x207c2c[_0x5f23ad(0x6c6)]({'jobType':_0x165f57[_0x5f23ad(0x688)],'type':_0x3ea1b4[_0x5f23ad(0x3f4)],'jobId':_0xf22cb5,'threadId':_0x22a1cf,'blockId':_0x1eddf0['id'],'traceLevel':_0x5de0eb[_0x5f23ad(0x862)],'startTime':_0x9f1b48,'timestamp':Date[_0x5f23ad(0x9e1)](),'status':_0x5f23ad(0x11c),'inputResults':_0x1eddf0['accumulated'][_0x5f23ad(0x108)],'rerankedResults':_0x508aff}),await _0x3f58a0(_0x469d29,_0xf22cb5,_0x22a1cf,_0x508aff,_0x2b1316,_0x1eddf0,_0x3132aa,_0x515693);}async function _0x701b76(_0x2c9f8b,_0x3ec4ad,_0x1f58ef,_0xa00c91,_0x57a745,_0x2a43fa,_0x4f2184,_0x166e0b){const _0x4a700a=_0x120045,_0x504856=Date['now']();if(_0x2a43fa[_0x4a700a(0x645)]||(_0x2a43fa['accumulated']={}),_0xa00c91 instanceof Array?_0x2a43fa['accumulated']['vector']=_0xa00c91:_0x2a43fa[_0x4a700a(0x645)][_0x4a700a(0x477)]=_0xa00c91,_0x2a43fa[_0x4a700a(0x7c4)]=_0x2a43fa[_0x4a700a(0x7c4)]?_0x2a43fa[_0x4a700a(0x7c4)]+0x1:0x1,_0x3ec30e(_0x2a43fa,_0x4f2184)>_0x2a43fa['timesCalled'])return;if(!_0x2a43fa[_0x4a700a(0x645)][_0x4a700a(0x529)]||!_0x2a43fa[_0x4a700a(0x645)][_0x4a700a(0x477)])throw new Error(_0x4a700a(0x91e));const _0x1036cb=await _0x166e0b[_0x4a700a(0x120)][_0x4a700a(0x6e1)](_0x2a43fa[_0x4a700a(0x645)][_0x4a700a(0x477)],{'ner':!0x1,'noun':!0x0,'propn':!0x1,'verb':!0x1}),_0x5028be=_0x166e0b[_0x4a700a(0x8d9)][_0x4a700a(0x26d)](_0x2a43fa['id'])[_0x4a700a(0x2de)](_0x1036cb,_0x2a43fa[_0x4a700a(0x645)][_0x4a700a(0x529)],_0x2a43fa[_0x4a700a(0x15b)]['topK'],_0x2a43fa['attributes'][_0x4a700a(0x342)],_0x2a43fa[_0x4a700a(0x15b)][_0x4a700a(0x4c5)]);await _0x207c2c[_0x4a700a(0x6c6)]({'jobType':_0x165f57[_0x4a700a(0x688)],'type':_0x3ea1b4[_0x4a700a(0x14b)],'jobId':_0x3ec4ad,'threadId':_0x1f58ef,'blockId':_0x2a43fa['id'],'traceLevel':_0x5de0eb[_0x4a700a(0x862)],'startTime':_0x504856,'timestamp':Date['now'](),'status':_0x4a700a(0x11c),'topResults':_0x5028be,'numResults':_0x5028be[_0x4a700a(0x59d)]}),await _0x3f58a0(_0x2c9f8b,_0x3ec4ad,_0x1f58ef,_0x5028be,_0x57a745,_0x2a43fa,_0x4f2184,_0x166e0b);}async function _0x3f58a0(_0x387090,_0x51f367,_0x3efeb5,_0x4e3fdc,_0x7c9f98,_0xfd5769,_0x1e1628,_0x3fdefa){const _0x5807e0=_0x120045;for(const _0x2a7b05 of _0xfd5769[_0x5807e0(0x310)]||[]){const _0x4da10=_0x1e1628['find'](_0x4fb4eb=>_0x4fb4eb['uid']===_0x2a7b05[_0x5807e0(0x787)]);if(_0x4da10)switch(_0x4da10[_0x5807e0(0x7f3)]){case _0x3dead4[_0x5807e0(0x7a6)]:_0x2a7b05[_0x5807e0(0x7f3)]===_0x59c578[_0x5807e0(0x339)]&&_0x4e3fdc instanceof Array&&_0x7c9f98[_0x5807e0(0x569)][_0x5807e0(0xdc)](..._0x4e3fdc);break;case _0x3dead4[_0x5807e0(0x78e)]:_0x2a7b05[_0x5807e0(0x7f3)]===_0x59c578[_0x5807e0(0x86f)]&&_0x5807e0(0x630)==typeof _0x4e3fdc&&await _0x209bf4(_0x387090,_0x51f367,_0x3efeb5,_0x4e3fdc,_0x7c9f98,_0x4da10,_0x1e1628,_0x3fdefa),_0x2a7b05[_0x5807e0(0x7f3)]===_0x59c578[_0x5807e0(0x339)]&&_0x4e3fdc instanceof Array&&await _0x209bf4(_0x387090,_0x51f367,_0x3efeb5,_0x4e3fdc,_0x7c9f98,_0x4da10,_0x1e1628,_0x3fdefa);break;case _0x3dead4['GraphDatabase']:_0x2a7b05[_0x5807e0(0x7f3)]===_0x59c578[_0x5807e0(0x86f)]&&_0x5807e0(0x630)==typeof _0x4e3fdc&&await _0x2255be(_0x387090,_0x51f367,_0x3efeb5,_0x4e3fdc,_0x7c9f98,_0x4da10,_0x1e1628,_0x3fdefa),_0x2a7b05[_0x5807e0(0x7f3)]===_0x59c578[_0x5807e0(0x339)]&&_0x4e3fdc instanceof Array&&await _0x2255be(_0x387090,_0x51f367,_0x3efeb5,_0x4e3fdc,_0x7c9f98,_0x4da10,_0x1e1628,_0x3fdefa),_0x2a7b05[_0x5807e0(0x7f3)]===_0x59c578[_0x5807e0(0x888)]&&_0x4e3fdc instanceof Set&&await _0x2255be(_0x387090,_0x51f367,_0x3efeb5,_0x4e3fdc,_0x7c9f98,_0x4da10,_0x1e1628,_0x3fdefa);break;case _0x3dead4[_0x5807e0(0x2e5)]:_0x2a7b05[_0x5807e0(0x7f3)]===_0x59c578['Text']&&_0x5807e0(0x630)==typeof _0x4e3fdc&&await _0x47e4f3(_0x387090,_0x51f367,_0x3efeb5,_0x4e3fdc,_0x7c9f98,_0x4da10,_0x1e1628,_0x3fdefa),_0x2a7b05['type']===_0x59c578[_0x5807e0(0x339)]&&_0x4e3fdc instanceof Array&&await _0x47e4f3(_0x387090,_0x51f367,_0x3efeb5,_0x4e3fdc,_0x7c9f98,_0x4da10,_0x1e1628,_0x3fdefa);break;case _0x3dead4[_0x5807e0(0x3f4)]:_0x2a7b05[_0x5807e0(0x7f3)]===_0x59c578['Text']&&_0x5807e0(0x630)==typeof _0x4e3fdc&&await _0x1fba4a(_0x387090,_0x51f367,_0x3efeb5,_0x4e3fdc,_0x7c9f98,_0x4da10,_0x1e1628,_0x3fdefa),_0x2a7b05['type']===_0x59c578[_0x5807e0(0x339)]&&_0x4e3fdc instanceof Array&&await _0x1fba4a(_0x387090,_0x51f367,_0x3efeb5,_0x4e3fdc,_0x7c9f98,_0x4da10,_0x1e1628,_0x3fdefa);break;case _0x3dead4[_0x5807e0(0x76a)]:_0x2a7b05[_0x5807e0(0x7f3)]===_0x59c578[_0x5807e0(0x86f)]&&_0x5807e0(0x630)==typeof _0x4e3fdc&&await _0x701b76(_0x387090,_0x51f367,_0x3efeb5,_0x4e3fdc,_0x7c9f98,_0x4da10,_0x1e1628,_0x3fdefa),_0x2a7b05[_0x5807e0(0x7f3)]===_0x59c578['Vector']&&_0x4e3fdc instanceof Array&&await _0x701b76(_0x387090,_0x51f367,_0x3efeb5,_0x4e3fdc,_0x7c9f98,_0x4da10,_0x1e1628,_0x3fdefa);}}}function _0x3ec30e(_0x46367a,_0x4de15a){const _0x2f0fe1=_0x120045;return _0x4de15a[_0x2f0fe1(0x1e1)](_0x22afe9=>_0x22afe9[_0x2f0fe1(0x310)]?.['some'](_0x356a8b=>_0x356a8b[_0x2f0fe1(0x787)]===_0x46367a[_0x2f0fe1(0x787)]))[_0x2f0fe1(0x59d)];}const _0x33e67d=require('rxjs/operators');class _0x1531f3{[_0x120045(0x9ba)];constructor(){const _0x5981d8=_0x120045;this[_0x5981d8(0x9ba)]=new _0x1977f7[(_0x5981d8(0x44a))]();}[_0x120045(0x801)](_0xdb3f48){const _0x5788ee=_0x120045;this[_0x5788ee(0x9ba)][_0x5788ee(0x666)](_0xdb3f48);}async[_0x120045(0xa49)](){const _0x39db7b=_0x120045;return(0x0,_0x1977f7[_0x39db7b(0x3e6)])(this[_0x39db7b(0x9ba)][_0x39db7b(0x386)]((0x0,_0x33e67d['take'])(0x1)));}}async function _0x4f1e3c(_0x28e5df,_0x5f592d,_0x4e918b){const _0x4a38ae=_0x120045;if(0x0===_0x28e5df[_0x4a38ae(0x59d)])return;const _0x4d729f=_0x5f592d[_0x4a38ae(0x37e)]?.['files']?_0x5f592d[_0x4a38ae(0x37e)][_0x4a38ae(0x89e)][_0x4a38ae(0x3b5)](','):[];for(const _0x2f595e of _0x28e5df){const _0x59bfda=await _0x4e918b[_0x4a38ae(0x178)][_0x4a38ae(0x994)](_0x2f595e);_0x4d729f['push'](_0x59bfda);}_0x5f592d[_0x4a38ae(0x37e)]||(_0x5f592d[_0x4a38ae(0x37e)]={}),_0x5f592d['internalContext'][_0x4a38ae(0x89e)]=_0x4d729f['join'](',');}async function _0x58d59c(_0xd1db33,_0x113f40,_0x129078,_0x3701aa,_0x14a71e,_0x1f4989,_0x434076,_0x32dfb6,_0x290621){const _0x460e38=_0x120045;if(_0x1f4989['accumulated']||(_0x1f4989[_0x460e38(0x645)]={}),_0x113f40===_0x59c578[_0x460e38(0x86f)]&&_0x460e38(0x630)==typeof _0x129078&&(_0x1f4989[_0x460e38(0x645)][_0x460e38(0x1d9)]||(_0x1f4989['accumulated'][_0x460e38(0x1d9)]=[]),_0x1f4989[_0x460e38(0x645)][_0x460e38(0x1d9)][_0x460e38(0xdc)](_0x129078)),_0x1f4989[_0x460e38(0x7c4)]=_0x1f4989[_0x460e38(0x7c4)]?_0x1f4989['timesCalled']+0x1:0x1,_0x4bc608(_0x1f4989,_0x434076)>_0x1f4989[_0x460e38(0x7c4)])return;if(_0x1b1d61[_0x460e38(0x390)](_0x460e38(0x71e)+_0x1f4989[_0x460e38(0x5eb)],_0x1f4989[_0x460e38(0x7c4)]),!_0x1f4989[_0x460e38(0x645)][_0x460e38(0x1d9)])throw new Error(_0x460e38(0x9ca)+_0x1f4989[_0x460e38(0x5eb)]);const _0x444586=_0x32dfb6['models'][_0x460e38(0x999)](_0x246c74=>_0x246c74['id']===_0x1f4989[_0x460e38(0x54b)]);if(!_0x444586)throw new Error(_0x460e38(0x307)+_0x1f4989[_0x460e38(0x54b)]);const _0x56834a=Date[_0x460e38(0x9e1)](),_0x15d38c=(0x0,_0x233c4d['v4'])();let _0x3c730e='',_0x3e576c=0x0,_0x11fd2e=0x0;const _0x3f55d1=[],_0x5202a0=function(_0x222664,_0x55a113,_0x4ce486){const _0x2550ed=_0x460e38;if(_0x4ce486[_0x2550ed(0x886)]){const _0x3c2e07=_0x4ce486['contextInputVariable']['split'](',');for(const _0xe9e366 of _0x3c2e07)_0x55a113['internalContext']?.[_0xe9e366]&&(_0x222664='<'+_0xe9e366+'>'+_0x55a113[_0x2550ed(0x37e)][_0xe9e366]+'</'+_0xe9e366+_0x2550ed(0x1e7)+_0x222664);}return _0x222664;}(_0x1f4989[_0x460e38(0x645)][_0x460e38(0x1d9)]['join']('\x0a\x0a'),_0x14a71e,_0x1f4989);let _0x5e44b7=_0x5202a0;if(_0x14a71e[_0x460e38(0x37e)]?.[_0x460e38(0x89e)]){const _0x1703dc=_0x14a71e[_0x460e38(0x37e)]['files'][_0x460e38(0x3b5)](',');_0x5e44b7=[];for(const _0x33b5ae of _0x1703dc)_0x5e44b7['push']({'type':_0x460e38(0xa11),'file':{'file_id':_0x33b5ae}});_0x5e44b7['push']({'type':_0x460e38(0x6dc),'text':_0x5202a0});}if(_0x3f55d1[_0x460e38(0xdc)]({'role':'system','content':_0x8dd93f(_0x3701aa[_0x460e38(0x2b7)]??'',_0x1f4989,_0x444586)}),_0x3f55d1[_0x460e38(0xdc)](..._0x3701aa['history']?.[_0x460e38(0x760)](_0x181123=>({'role':_0x181123[_0x460e38(0x7d6)]===_0x4e2564[_0x460e38(0x19f)][_0x460e38(0x9bd)]?_0x460e38(0xa5b):'assistant','content':_0x181123[_0x460e38(0x1b4)]}))??[]),_0x3f55d1[_0x460e38(0xdc)]({'role':_0x460e38(0xa5b),'content':_0x5e44b7}),_0x290621){const _0x222685=_0x1f4989[_0x460e38(0x310)]?.[_0x460e38(0xf1)](_0x3f69ab=>{const _0x20d9a9=_0x460e38,_0x11748f=_0x434076[_0x20d9a9(0x999)](_0x32ee2e=>_0x32ee2e[_0x20d9a9(0x787)]===_0x3f69ab[_0x20d9a9(0x787)]);return!!_0x11748f&&_0x3f69ab['type']===_0x59c578[_0x20d9a9(0x86f)]&&_0x11748f['type']===_0x2ec795['Answer'];})??!0x1,_0x43a011=_0x434076['filter'](_0xdca4a1=>_0xdca4a1[_0x460e38(0x310)]?.[_0x460e38(0xf1)](_0x24a9f6=>_0x24a9f6[_0x460e38(0x787)]===_0x1f4989[_0x460e38(0x787)]&&_0x24a9f6[_0x460e38(0x7f3)]===_0x59c578['Tool'])),_0x4eef6c=await fetch(_0x4cff37[_0x460e38(0x3aa)]+_0x460e38(0x1fa),{'method':_0x460e38(0x9a0),'headers':{'Accept':_0x460e38(0x623),'Content-Type':'application/json','x-vendor-id':_0x3701aa[_0x460e38(0x11b)]},'body':JSON[_0x460e38(0x4e9)]({'model':_0x1f4989['modelId'],'messages':_0x3f55d1,'max_completion_tokens':_0x1f4989[_0x460e38(0x7a2)],'temperature':_0x1f4989[_0x460e38(0x111)],'stream':!0x0,'stream_options':{'include_usage':!0x0},'tools':_0x43a011[_0x460e38(0x760)](_0x2fe8f8=>({'type':_0x2fe8f8[_0x460e38(0x7f3)],'name':_0x2fe8f8[_0x460e38(0x5eb)]??'','description':_0x2fe8f8[_0x460e38(0x9fd)]??'','parameters':_0x2fe8f8[_0x460e38(0x8b1)]??[],'headers':_0x2fe8f8['headers']??[],'queryParameters':_0x2fe8f8[_0x460e38(0x2a7)]??[],'bodyParameters':_0x2fe8f8[_0x460e38(0x235)]??[],'endpointUrl':_0x2fe8f8[_0x460e38(0x7b5)]??'','endpointMethod':_0x2fe8f8[_0x460e38(0x3cf)]??'','modelId':_0x2fe8f8[_0x460e38(0x74d)]??'','instructions':_0x2fe8f8[_0x460e38(0x2b7)]??'','maxTokens':_0x2fe8f8[_0x460e38(0x7a2)]??0x0,'temperature':_0x2fe8f8[_0x460e38(0x111)]??0x0,'collectionId':_0x2fe8f8[_0x460e38(0x7f3)]===_0x2ec795[_0x460e38(0x22f)]||_0x2fe8f8['type']===_0x2ec795['Knowledge']?_0x2fe8f8['id']:''}))})});if(!_0x4eef6c[_0x460e38(0x451)])throw new Error(_0x460e38(0x498));const _0x5ae0ae=_0x4eef6c[_0x460e38(0x451)][_0x460e38(0xa29)](),_0x1953c6=new TextDecoder();for(;;){const {value:_0x9925c3,done:_0xab1e8f}=await _0x5ae0ae[_0x460e38(0x1f0)]();if(_0xab1e8f)break;const _0x18296e=_0x1953c6[_0x460e38(0x646)](_0x9925c3,{'stream':!0x0});if(_0x460e38(0xa7e)===_0x18296e)break;const _0x35ca84=_0x18296e[_0x460e38(0x3b5)](_0x460e38(0x2d4))[_0x460e38(0x760)](_0x50d479=>_0x50d479['replace'](_0x460e38(0x5f5),'')['trim']())[_0x460e38(0x1e1)](_0x5ee054=>''!==_0x5ee054)[_0x460e38(0x760)](_0x6163a9=>{const _0x5db8b1=_0x460e38;if(_0x5db8b1(0x588)===_0x6163a9)return null;try{return JSON[_0x5db8b1(0x505)](_0x6163a9);}catch(_0x3c054a){return console[_0x5db8b1(0x525)]('Invalid\x20JSON:',_0x6163a9),null;}})[_0x460e38(0x1e1)](_0x46b2c1=>null!==_0x46b2c1);for(const _0x176368 of _0x35ca84)_0x176368['choices']&&_0x176368[_0x460e38(0x924)][0x0]&&(_0x222685&&''!==_0x176368[_0x460e38(0x924)][0x0][_0x460e38(0x39a)][_0x460e38(0x477)]&&(_0x3c730e+=_0x176368['choices'][0x0][_0x460e38(0x39a)][_0x460e38(0x477)]??'',_0x290621[_0x460e38(0x801)]({'output':_0x176368['choices'][0x0][_0x460e38(0x39a)]['content'],'type':_0x460e38(0x1d9)}),await _0x3da74f[_0x460e38(0x22c)](0x1)),_0x3c730e+=_0x176368[_0x460e38(0x924)][0x0][_0x460e38(0x39a)][_0x460e38(0x477)]??'',_0x3e576c=_0x176368[_0x460e38(0x841)]?.[_0x460e38(0x732)]??0x0,_0x11fd2e=_0x176368['usage']?.['completion_tokens']??0x0);}_0x222685||_0x290621['emit']({'output':'','type':_0x460e38(0x1d9)});}else{const _0x52032b=await fetch(_0x4cff37[_0x460e38(0x3aa)]+_0x460e38(0x1fa),{'method':_0x460e38(0x9a0),'headers':{'Content-Type':_0x460e38(0x36f),'x-vendor-id':_0x3701aa['vendorId']},'body':JSON[_0x460e38(0x4e9)]({'model':_0x1f4989[_0x460e38(0x54b)],'messages':_0x3f55d1,'max_completion_tokens':_0x1f4989[_0x460e38(0x7a2)],'temperature':_0x1f4989[_0x460e38(0x111)]})}),_0x4088c2=await _0x52032b[_0x460e38(0x501)]();_0x3c730e=_0x4088c2['choices'][0x0]['message'][_0x460e38(0x477)],_0x3e576c=_0x4088c2[_0x460e38(0x841)][_0x460e38(0x732)],_0x14a71e[_0x460e38(0x9d0)]=_0x4088c2[_0x460e38(0x841)][_0x460e38(0xa07)];}_0x1f4989[_0x460e38(0x791)]&&(_0x14a71e[_0x460e38(0x37e)]||(_0x14a71e[_0x460e38(0x37e)]={}),_0x14a71e['internalContext'][_0x1f4989[_0x460e38(0x791)]]=_0x3c730e),await _0x207c2c[_0x460e38(0x6c6)]({'jobType':_0x165f57[_0x460e38(0xd6)],'type':_0x34b9b7[_0x460e38(0x595)],'jobId':_0xd1db33,'agentId':_0x15d38c,'threadId':_0x3701aa[_0x460e38(0x78c)],'traceLevel':_0x5de0eb[_0x460e38(0x491)],'startTime':_0x56834a,'timestamp':Date[_0x460e38(0x9e1)](),'blockId':_0x1f4989['id'],'status':'success','output':_0x3c730e,'prompt':_0x5202a0,'agentName':_0x1f4989[_0x460e38(0x5eb)],'history':[],'instructions':''+_0x1f4989[_0x460e38(0x2b7)]+(_0x3701aa[_0x460e38(0x2b7)]??''),'ragContext':[],'inputTokens':_0x3e576c??0x0,'outputTokens':_0x11fd2e??0x0}),await _0xebeccb(_0xd1db33,_0x3c730e,_0x3701aa,_0x14a71e,_0x1f4989,_0x434076,_0x32dfb6,_0x290621);}function _0x8dd93f(_0x3917a9,_0x398e9c,_0x13d785){const _0x4e453f=_0x120045;let _0x8c1b8f='';return _0x13d785['knowledgeCutoffDate']&&''!==_0x13d785[_0x4e453f(0xa48)]&&(_0x8c1b8f=_0x4e453f(0x8eb)+_0x13d785[_0x4e453f(0xa48)]+'\x0a\x0a'),_0x8c1b8f=_0x8c1b8f+_0x4e453f(0x253)+new Date()['toLocaleDateString'](void 0x0,{'weekday':_0x4e453f(0x96e),'year':_0x4e453f(0x6eb),'month':_0x4e453f(0x96e),'day':'numeric'})+'\x0a\x0a',''+_0x8c1b8f+_0x398e9c['instructions']+_0x3917a9;}async function _0x236b9f(_0x56f6ce,_0x79c61a,_0x2e793b,_0x138e74,_0x2359f8,_0x3e22ac,_0x3ffb8f,_0x459664){const _0x3e73f3=function(_0x3b8622,_0x5ed90b){const _0x348769=a0_0x573a,_0xf00d1f=[];for(let _0x6daf44=0x0;_0x6daf44<_0x3b8622[_0x348769(0x59d)];_0x6daf44+=_0x5ed90b[_0x348769(0x15b)][_0x348769(0x625)]){let _0x4c65ec=_0x6daf44-_0x5ed90b[_0x348769(0x15b)][_0x348769(0x72f)];_0x4c65ec<0x0&&(_0x4c65ec=0x0);let _0x4a9a80=_0x6daf44+_0x5ed90b[_0x348769(0x15b)]['size']+_0x5ed90b[_0x348769(0x15b)][_0x348769(0x72f)];_0x4a9a80>_0x3b8622[_0x348769(0x59d)]&&(_0x4a9a80=_0x3b8622[_0x348769(0x59d)]),length||(length=_0x6daf44+_0x5ed90b['attributes'][_0x348769(0x625)],length>_0x3b8622[_0x348769(0x59d)]&&(length=_0x3b8622['length'])),_0xf00d1f['push'](_0x3b8622[_0x348769(0x1dc)](_0x4c65ec,_0x4a9a80));}return _0xf00d1f;}(_0x79c61a,_0x2359f8);await _0xebeccb(_0x56f6ce,_0x3e73f3,_0x2e793b,_0x138e74,_0x2359f8,_0x3e22ac,_0x3ffb8f,_0x459664);}async function _0x28c960(_0x57aa68,_0x294668,_0xb2a215,_0x240b05,_0x3d4c52,_0x5c55fc,_0x1297b2,_0xe4d955){const _0x3f61dc=_0x120045;if(_0x3d4c52['accumulated']||(_0x3d4c52[_0x3f61dc(0x645)]={}),_0x3d4c52[_0x3f61dc(0x645)]['queries']||(_0x3d4c52[_0x3f61dc(0x645)]['queries']=[]),_0x294668 instanceof Array?_0x3d4c52[_0x3f61dc(0x645)][_0x3f61dc(0x865)][_0x3f61dc(0xdc)](..._0x294668):_0x3d4c52[_0x3f61dc(0x645)][_0x3f61dc(0x865)][_0x3f61dc(0xdc)](_0x294668),_0x3d4c52[_0x3f61dc(0x7c4)]=_0x3d4c52['timesCalled']?_0x3d4c52[_0x3f61dc(0x7c4)]+0x1:0x1,_0x4bc608(_0x3d4c52,_0x5c55fc)>_0x3d4c52[_0x3f61dc(0x7c4)])return;if(0x0===_0x3d4c52[_0x3f61dc(0x645)][_0x3f61dc(0x865)][_0x3f61dc(0x59d)])throw new Error(_0x3f61dc(0x74e));let _0x58e492=[];const _0x47f3ed=Date[_0x3f61dc(0x9e1)]();try{let _0x588863=0x0,_0x3fd63a=0x0;for(const _0x5260ca of _0x3d4c52[_0x3f61dc(0x645)][_0x3f61dc(0x865)]){const _0x3b9e72=await fetch(_0x4cff37[_0x3f61dc(0x3aa)]+_0x3f61dc(0x8b6)+_0x3d4c52['id']+'/search',{'method':_0x3f61dc(0x9a0),'headers':{'Content-Type':'application/json','x-vendor-id':_0xb2a215[_0x3f61dc(0x11b)]},'body':JSON[_0x3f61dc(0x4e9)]({'query':_0x5260ca})}),_0x5dfe3=((await _0x3b9e72[_0x3f61dc(0x501)]())[_0x3f61dc(0x7f6)]??[])[_0x3f61dc(0x760)](_0x30b87d=>({'pathName':_0x30b87d[_0x3f61dc(0x6c5)],'relevance':_0x30b87d[_0x3f61dc(0x216)],'content':_0x30b87d[_0x3f61dc(0x477)][_0x3f61dc(0x6dc)]}));_0x58e492=Array[_0x3f61dc(0x7f9)](new Set([..._0x58e492,..._0x5dfe3])),_0x588863+=_0x5dfe3[_0x3f61dc(0x490)]??0x0,_0x3fd63a+=_0x5dfe3['outputTokens']??0x0;}_0x240b05[_0x3f61dc(0x490)]+=_0x588863,_0x240b05[_0x3f61dc(0x9d0)]+=_0x3fd63a,_0x240b05[_0x3f61dc(0x569)]=Array[_0x3f61dc(0x7f9)](new Set([..._0x240b05[_0x3f61dc(0x569)],..._0x58e492])),await _0x207c2c[_0x3f61dc(0x6c6)]({'jobType':_0x165f57[_0x3f61dc(0xd6)],'type':_0x34b9b7[_0x3f61dc(0x22f)],'jobId':_0x57aa68,'threadId':_0xb2a215[_0x3f61dc(0x78c)],'traceLevel':_0x5de0eb[_0x3f61dc(0x491)],'startTime':_0x47f3ed,'timestamp':Date[_0x3f61dc(0x9e1)](),'blockId':_0x3d4c52['id'],'status':_0x3f61dc(0x11c),'queries':_0x3d4c52[_0x3f61dc(0x645)][_0x3f61dc(0x865)],'context':_0x58e492,'inputTokens':_0x588863,'outputTokens':_0x3fd63a});}catch(_0x4594ca){console[_0x3f61dc(0x525)](_0x4594ca),await _0x207c2c['trace']({'jobType':_0x165f57['Workflow'],'type':_0x34b9b7[_0x3f61dc(0x22f)],'jobId':_0x57aa68,'threadId':_0xb2a215[_0x3f61dc(0x78c)],'traceLevel':_0x5de0eb['Info'],'startTime':_0x47f3ed,'timestamp':Date[_0x3f61dc(0x9e1)](),'blockId':_0x3d4c52['id'],'status':_0x3f61dc(0x525),'queries':_0x3d4c52[_0x3f61dc(0x645)][_0x3f61dc(0x865)],'context':[],'inputTokens':0x0,'outputTokens':0x0});}await _0xebeccb(_0x57aa68,'',_0xb2a215,_0x240b05,_0x3d4c52,_0x5c55fc,_0x1297b2,_0xe4d955);}async function _0x520707(_0x146613,_0x3fbfde,_0xeb3d38,_0x36d31f,_0x24739e,_0x22f1e2,_0x15dfed,_0x3480d6){const _0x58a6b1=_0x120045,_0x2d8ac5=await _0x15dfed[_0x58a6b1(0x120)][_0x58a6b1(0x971)](_0x3fbfde);await _0xebeccb(_0x146613,_0x2d8ac5,_0xeb3d38,_0x36d31f,_0x24739e,_0x22f1e2,_0x15dfed,_0x3480d6);}async function _0x20a528(_0x1abc6a,_0x1927fc,_0x2961c8,_0x2abf5c,_0x23290,_0x4a034c,_0x5500fd,_0x577676){const _0x21c4f2=function(_0x58d2f0,_0x3fb2a8){const _0x4a9454=a0_0x573a,_0x4e775b=[],_0x1e0fa9=_0x58d2f0['split']('\x20');let _0x54cbd8='',_0x3ca828=0x0,_0x4bbda2=0x0,_0x4bd6f3=0x0;for(const _0x2865be of _0x1e0fa9){if(_0x54cbd8[_0x4a9454(0x59d)]+_0x2865be['length']>_0x3fb2a8[_0x4a9454(0x15b)][_0x4a9454(0x625)]){let _0x2ed81d=_0x3ca828,_0x1f8868='';for(;_0x2ed81d>=0x0&&_0x1f8868['length']+_0x1e0fa9[_0x2ed81d][_0x4a9454(0x59d)]<_0x3fb2a8[_0x4a9454(0x15b)][_0x4a9454(0x72f)];)_0x1f8868=_0x1e0fa9[_0x2ed81d]+'\x20'+_0x1f8868,_0x2ed81d--;let _0x2abe5f=_0x4bbda2,_0x1655f5='';for(;_0x2abe5f<_0x1e0fa9[_0x4a9454(0x59d)]&&_0x1655f5['length']+_0x1e0fa9[_0x2abe5f][_0x4a9454(0x59d)]<_0x3fb2a8[_0x4a9454(0x15b)][_0x4a9454(0x72f)];)_0x1655f5+=_0x1e0fa9[_0x2abe5f]+'\x20',_0x2abe5f++;_0x54cbd8=_0x1f8868+_0x54cbd8+_0x1655f5,_0x4e775b[_0x4a9454(0xdc)](_0x54cbd8[_0x4a9454(0x928)]()),_0x54cbd8='',_0x3ca828=_0x4bbda2;}_0x54cbd8+=_0x2865be+'\x20',_0x4bbda2++,_0x4bd6f3+=_0x2865be[_0x4a9454(0x59d)]+0x1;}if(_0x54cbd8[_0x4a9454(0x59d)]>0x0){let _0x17627f=_0x3ca828,_0x5e05e2='';for(;_0x17627f>=0x0&&_0x5e05e2[_0x4a9454(0x59d)]+_0x1e0fa9[_0x17627f][_0x4a9454(0x59d)]<_0x3fb2a8[_0x4a9454(0x15b)][_0x4a9454(0x72f)];)_0x5e05e2=_0x1e0fa9[_0x17627f]+'\x20'+_0x5e05e2,_0x17627f--;_0x54cbd8=_0x5e05e2+_0x54cbd8,_0x4e775b['push'](_0x54cbd8[_0x4a9454(0x928)]());}return _0x4e775b;}(_0x1927fc,_0x23290);await _0xebeccb(_0x1abc6a,_0x21c4f2,_0x2961c8,_0x2abf5c,_0x23290,_0x4a034c,_0x5500fd,_0x577676);}async function _0xebeccb(_0xbcaaf9,_0x1e17ee,_0x352b96,_0x275494,_0x4d9c84,_0xa9f581,_0x17e18f,_0x4a341b){const _0x166965=_0x120045;if(await _0x3da74f[_0x166965(0x22c)](0x1),_0x4d9c84[_0x166965(0x310)]){for(const _0x7fae6d of _0x4d9c84[_0x166965(0x310)]){if(_0x7fae6d[_0x166965(0x7f3)]===_0x59c578[_0x166965(0x7a6)])continue;const _0x5e5948=_0xa9f581[_0x166965(0x999)](_0x1f31f5=>_0x1f31f5[_0x166965(0x787)]===_0x7fae6d['uid']);if(_0x5e5948)switch(_0x5e5948[_0x166965(0x7f3)]){case _0x2ec795[_0x166965(0x580)]:_0x7fae6d[_0x166965(0x7f3)]!==_0x59c578[_0x166965(0x86f)]&&_0x7fae6d[_0x166965(0x7f3)]!==_0x59c578['Wait']||_0x166965(0x630)!=typeof _0x1e17ee||await _0x58d59c(_0xbcaaf9,_0x7fae6d[_0x166965(0x7f3)],_0x1e17ee,_0x352b96,_0x275494,_0x5e5948,_0xa9f581,_0x17e18f,_0x4a341b),_0x7fae6d[_0x166965(0x7f3)]===_0x59c578[_0x166965(0x259)]&&_0x166965(0x9ab)===_0x1e17ee&&await _0x58d59c(_0xbcaaf9,_0x7fae6d[_0x166965(0x7f3)],_0x1e17ee,_0x352b96,_0x275494,_0x5e5948,_0xa9f581,_0x17e18f,_0x4a341b),_0x7fae6d[_0x166965(0x7f3)]===_0x59c578[_0x166965(0x1b6)]&&'false'===_0x1e17ee&&await _0x58d59c(_0xbcaaf9,_0x7fae6d['type'],_0x1e17ee,_0x352b96,_0x275494,_0x5e5948,_0xa9f581,_0x17e18f,_0x4a341b);break;case _0x2ec795['ChunkSplitter']:_0x7fae6d[_0x166965(0x7f3)]===_0x59c578['Text']&&_0x166965(0x630)==typeof _0x1e17ee&&await _0x236b9f(_0xbcaaf9,_0x1e17ee,_0x352b96,_0x275494,_0x5e5948,_0xa9f581,_0x17e18f,_0x4a341b);break;case _0x2ec795['DataCollection']:_0x7fae6d[_0x166965(0x7f3)]===_0x59c578['Text']&&'string'==typeof _0x1e17ee&&await _0x28c960(_0xbcaaf9,_0x1e17ee,_0x352b96,_0x275494,_0x5e5948,_0xa9f581,_0x17e18f,_0x4a341b),_0x7fae6d[_0x166965(0x7f3)]===_0x59c578[_0x166965(0x86f)]&&_0x1e17ee instanceof Array&&await _0x28c960(_0xbcaaf9,_0x1e17ee,_0x352b96,_0x275494,_0x5e5948,_0xa9f581,_0x17e18f,_0x4a341b);break;case _0x2ec795[_0x166965(0x948)]:_0x7fae6d['type']===_0x59c578[_0x166965(0x86f)]&&'string'==typeof _0x1e17ee&&await _0x520707(_0xbcaaf9,_0x1e17ee,_0x352b96,_0x275494,_0x5e5948,_0xa9f581,_0x17e18f,_0x4a341b);break;case _0x2ec795['WordSplitter']:_0x7fae6d['type']===_0x59c578[_0x166965(0x86f)]&&_0x166965(0x630)==typeof _0x1e17ee&&await _0x20a528(_0xbcaaf9,_0x1e17ee,_0x352b96,_0x275494,_0x5e5948,_0xa9f581,_0x17e18f,_0x4a341b);}}_0x4d9c84[_0x166965(0x7f3)]===_0x2ec795['Prompt']&&_0x4a341b&&_0x4a341b[_0x166965(0x801)](void 0x0);}else _0x4d9c84[_0x166965(0x7f3)]===_0x2ec795[_0x166965(0x190)]&&_0x4a341b&&_0x4a341b[_0x166965(0x801)](void 0x0);}function _0x4bc608(_0x2920f5,_0x5952d7){const _0x357da4=_0x120045;let _0x383434=0x0;for(const _0xf5f817 of _0x5952d7)for(const _0x1c95b3 of _0xf5f817[_0x357da4(0x310)]??[])_0x1c95b3['type']!==_0x59c578[_0x357da4(0x7a6)]&&_0x1c95b3[_0x357da4(0x7f3)]!==_0x59c578[_0x357da4(0xa72)]&&_0x1c95b3[_0x357da4(0x787)]===_0x2920f5[_0x357da4(0x787)]&&_0x383434++;return _0x383434;}async function _0x23fa4c(_0x884644,_0x138294,_0x19c06a,_0x25f125,_0x4b9e13){const _0x2a7093=_0x120045;if(_0x884644[_0x2a7093(0x89e)]&&_0x19c06a[_0x2a7093(0x310)]){const _0x5eb37b=[];for(const _0x33daa9 of _0x884644[_0x2a7093(0x89e)])_0x5eb37b[_0x2a7093(0xdc)](_0x32537e(_0x33daa9));for(const _0x667e71 of _0x19c06a[_0x2a7093(0x310)])if('file'===_0x667e71[_0x2a7093(0x7f3)]){const _0x3e294c=_0x25f125[_0x2a7093(0x999)](_0x586d3a=>_0x586d3a[_0x2a7093(0x787)]===_0x667e71['uid']);if(!_0x3e294c)continue;_0x3e294c[_0x2a7093(0x7f3)]===_0x2ec795['DocumentParser']&&await _0x4f1e3c(_0x5eb37b,_0x138294,_0x4b9e13);}}}function _0x32537e(_0x53316a){const _0x34f946=_0x120045,_0x4f77c5=Uint8Array[_0x34f946(0x7f9)](Buffer['from'](_0x53316a[_0x34f946(0x477)],_0x34f946(0x131))),_0x4f00a6=new Blob([_0x4f77c5],{'type':_0x53316a['type']});return new File([_0x4f00a6],_0x53316a[_0x34f946(0x5eb)],{'type':_0x53316a['type']});}async function _0x48dd76(_0x4a051e,_0xf10c86,_0x1b2651,_0x54305e,_0x5573e9,_0x3e7bd5){const _0x3eccae=_0x120045,_0x35623f=_0x3eccae(0xa65)+_0x54305e[_0x3eccae(0x9fd)]+_0x3eccae(0x1ad),_0x151d8a={'prompt':{'type':_0x4e2564[_0x3eccae(0x296)][_0x3eccae(0xd2)]}};return await _0x207c2c['trace']({'jobType':_0x165f57[_0x3eccae(0x637)],'type':_0x1130b4['LoadSkillFunction'],'jobId':_0x4a051e,'agentId':_0xf10c86,'threadId':_0x1b2651[_0x3eccae(0x78c)],'traceLevel':_0x5de0eb['Info'],'startTime':Date[_0x3eccae(0x9e1)](),'timestamp':Date[_0x3eccae(0x9e1)](),'status':'success','function':_0x15420c[_0x3eccae(0x149)],'params':_0x151d8a,'functionDescription':_0x35623f}),{'description':_0x35623f,'params':_0x151d8a,'callback':async _0x1a66e4=>_0x2d98ce(_0x1b2651[_0x3eccae(0x11b)],_0x54305e,_0x5573e9,_0x1a66e4,_0x4a051e,_0xf10c86,_0x1b2651[_0x3eccae(0x78c)],_0x3e7bd5)};}async function _0x2d98ce(_0x54145c,_0x500ae8,_0x1404c1,_0x349a5e,_0x2afd2e,_0x142d54,_0x12ea20,_0x31a559){const _0x2cbcd1=_0x120045,_0x570f67=Date['now']();try{if('string'!=typeof _0x349a5e?.[_0x2cbcd1(0x1d9)])throw new Error('Prompt\x20is\x20required');if(!_0x1404c1[_0x2cbcd1(0xa0d)][_0x2cbcd1(0x999)](_0x197866=>_0x197866['id']===_0x500ae8[_0x2cbcd1(0x54b)]))throw new Error('Model\x20not\x20found');let _0x209efe='',_0x54dd40=[];if(_0x500ae8[_0x2cbcd1(0x2b7)]&&_0x54dd40[_0x2cbcd1(0xdc)]({'role':_0x2cbcd1(0x51f),'content':_0x500ae8[_0x2cbcd1(0x2b7)]}),_0x54dd40[_0x2cbcd1(0xdc)]({'role':_0x2cbcd1(0xa5b),'content':_0x349a5e[_0x2cbcd1(0x1d9)]}),_0x31a559){const _0x50e832=await fetch(_0x4cff37[_0x2cbcd1(0x3aa)]+_0x2cbcd1(0x1fa),{'method':_0x2cbcd1(0x9a0),'headers':{'Accept':_0x2cbcd1(0x623),'Content-Type':_0x2cbcd1(0x36f),'x-vendor-id':_0x54145c},'body':JSON[_0x2cbcd1(0x4e9)]({'model':_0x500ae8[_0x2cbcd1(0x54b)],'messages':_0x54dd40,'max_completion_tokens':_0x500ae8[_0x2cbcd1(0x7a2)],'temperature':_0x500ae8[_0x2cbcd1(0x111)],'stream':!0x0})});if(!_0x50e832[_0x2cbcd1(0x451)])throw new Error(_0x2cbcd1(0x498));const _0x5008f9=_0x50e832[_0x2cbcd1(0x451)][_0x2cbcd1(0xa29)](),_0x3efe54=new TextDecoder();for(;;){const {value:_0x11ad4a,done:_0x79c655}=await _0x5008f9[_0x2cbcd1(0x1f0)]();if(_0x79c655)break;const _0x553d2a=JSON[_0x2cbcd1(0x505)](_0x3efe54['decode'](_0x11ad4a,{'stream':!0x0}));_0x31a559[_0x2cbcd1(0x801)]({'output':_0x553d2a['choices'][0x0][_0x2cbcd1(0x39a)]['content'],'type':_0x2cbcd1(0x1d9)}),await _0x3da74f[_0x2cbcd1(0x22c)](0x1),_0x209efe=_0x553d2a[_0x2cbcd1(0x924)][0x0][_0x2cbcd1(0x39a)]['content'];}}else{const _0x1cbd7f=await fetch(_0x4cff37[_0x2cbcd1(0x3aa)]+_0x2cbcd1(0x1fa),{'method':_0x2cbcd1(0x9a0),'headers':{'Content-Type':'application/json','x-vendor-id':_0x54145c},'body':JSON[_0x2cbcd1(0x4e9)]({'model':_0x500ae8['modelId'],'messages':_0x54dd40,'max_completion_tokens':_0x500ae8[_0x2cbcd1(0x7a2)],'temperature':_0x500ae8[_0x2cbcd1(0x111)]})});_0x209efe=(await _0x1cbd7f[_0x2cbcd1(0x501)]())[_0x2cbcd1(0x924)][0x0][_0x2cbcd1(0x1b4)]['content'];}if(_0x2cbcd1(0x630)!=typeof _0x209efe)throw new Error(_0x2cbcd1(0x9d7));return _0x2afd2e&&_0x142d54&&_0x12ea20&&await _0x207c2c[_0x2cbcd1(0x6c6)]({'jobType':_0x165f57[_0x2cbcd1(0x50f)],'type':_0x15420c['ExecuteAgent'],'jobId':_0x2afd2e,'blockId':_0x2cbcd1(0xa82),'agentId':_0x142d54,'threadId':_0x12ea20,'traceLevel':_0x5de0eb[_0x2cbcd1(0x491)],'startTime':_0x570f67,'timestamp':Date[_0x2cbcd1(0x9e1)](),'status':_0x2cbcd1(0x11c),'agentName':_0x500ae8['name'],'prompt':_0x349a5e[_0x2cbcd1(0x1d9)],'instructions':_0x500ae8['instructions']??'','result':_0x209efe,'inputTokens':0x0,'outputTokens':0x0}),_0x209efe;}catch(_0x4a6984){return console['error'](_0x4a6984),_0x2afd2e&&_0x142d54&&_0x12ea20&&await _0x207c2c[_0x2cbcd1(0x6c6)]({'jobType':_0x165f57['Skill'],'type':_0x15420c['ExecuteAgent'],'jobId':_0x2afd2e,'blockId':'agent','agentId':_0x142d54,'threadId':_0x12ea20,'traceLevel':_0x5de0eb['Info'],'startTime':_0x570f67,'timestamp':Date['now'](),'status':_0x2cbcd1(0x525),'errorDetails':_0x32b48d(_0x4a6984),'agentName':_0x500ae8[_0x2cbcd1(0x5eb)],'prompt':_0x349a5e?.[_0x2cbcd1(0x1d9)]??'','instructions':_0x500ae8[_0x2cbcd1(0x2b7)]??'','result':'','inputTokens':0x0,'outputTokens':0x0}),_0x4a6984 instanceof Error?_0x4a6984[_0x2cbcd1(0x1b4)]:_0x2cbcd1(0x20b);}}async function _0x7a6e2e(_0x5b2cd1,_0x51c6c3,_0xc39bd1,_0x55459b,_0x3cf8cb){const _0x17a194=_0x120045,_0x2ba365=Date['now']();try{if(!_0x5b2cd1[_0x17a194(0x53b)])throw new Error(_0x17a194(0x83f));if('string'!=typeof _0x51c6c3?.[_0x17a194(0x893)])throw new Error(_0x17a194(0x4f2));const _0x57c61f=await _0x5b2cd1['aiSearchConnector']['search'](_0x51c6c3['query']);return _0xc39bd1&&_0x55459b&&_0x3cf8cb&&await _0x207c2c[_0x17a194(0x6c6)]({'jobType':_0x165f57[_0x17a194(0x50f)],'type':_0x15420c[_0x17a194(0x31e)],'jobId':_0xc39bd1,'agentId':_0x55459b,'threadId':_0x3cf8cb,'blockId':_0x17a194(0x9c3),'traceLevel':_0x5de0eb[_0x17a194(0x491)],'startTime':_0x2ba365,'timestamp':Date[_0x17a194(0x9e1)](),'status':_0x17a194(0x11c),'query':_0x51c6c3['query'],'results':_0x57c61f}),_0x57c61f;}catch(_0x2fbf41){return console[_0x17a194(0x525)](_0x2fbf41),_0xc39bd1&&_0x55459b&&_0x3cf8cb&&await _0x207c2c['trace']({'jobType':_0x165f57[_0x17a194(0x50f)],'type':_0x15420c[_0x17a194(0x31e)],'jobId':_0xc39bd1,'blockId':_0x17a194(0x9c3),'traceLevel':_0x5de0eb['Info'],'startTime':_0x2ba365,'timestamp':Date[_0x17a194(0x9e1)](),'status':'error','errorDetails':_0x32b48d(_0x2fbf41),'agentId':_0x55459b,'threadId':_0x3cf8cb,'query':_0x51c6c3?.['query']??'','results':'Error\x20searching'}),_0x2fbf41 instanceof Error?_0x2fbf41['message']:'Error\x20searching';}}async function _0x600ce8(_0x5aeb9d,_0x25dedf,_0x4a075e,_0x2c4707){const _0x3505d4=_0x120045,_0x26e27b=Date[_0x3505d4(0x9e1)]();try{if(_0x3505d4(0x630)!=typeof _0x5aeb9d?.[_0x3505d4(0x626)])throw new Error(_0x3505d4(0x79d));const _0x403b3f=Function(''+_0x5aeb9d?.['code'])();let _0x5050a0='';try{_0x5050a0=JSON['stringify'](_0x403b3f);}catch{_0x5050a0=_0x403b3f[_0x3505d4(0x5d4)]();}return _0x25dedf&&_0x4a075e&&_0x2c4707&&await _0x207c2c[_0x3505d4(0x6c6)]({'jobType':_0x165f57[_0x3505d4(0x50f)],'type':_0x15420c['ExecuteCode'],'agentId':_0x4a075e,'threadId':_0x2c4707,'jobId':_0x25dedf,'blockId':_0x3505d4(0x626),'traceLevel':_0x5de0eb['Info'],'startTime':_0x26e27b,'timestamp':Date['now'](),'status':_0x3505d4(0x11c),'code':_0x5aeb9d[_0x3505d4(0x626)],'result':_0x5050a0}),_0x403b3f;}catch(_0x4d3d1c){return console[_0x3505d4(0x525)](_0x4d3d1c),_0x25dedf&&_0x4a075e&&_0x2c4707&&await _0x207c2c[_0x3505d4(0x6c6)]({'jobType':_0x165f57[_0x3505d4(0x50f)],'type':_0x15420c['ExecuteCode'],'jobId':_0x25dedf,'blockId':_0x3505d4(0x626),'traceLevel':_0x5de0eb[_0x3505d4(0x491)],'startTime':_0x26e27b,'timestamp':Date['now'](),'status':_0x3505d4(0x525),'errorDetails':_0x32b48d(_0x4d3d1c),'agentId':_0x4a075e,'threadId':_0x2c4707,'code':_0x5aeb9d?.[_0x3505d4(0x626)]??'','result':_0x3505d4(0x394)}),_0x4d3d1c instanceof Error?_0x4d3d1c[_0x3505d4(0x1b4)]:'Error\x20executing\x20code';}}async function _0x5dee6f(_0x56c4ab,_0x5ad343,_0x2fdd4c,_0x40300f,_0x5e3222){const _0x26732f=_0x120045,_0x509f83=_0x26732f(0x762)+_0x5e3222[_0x26732f(0x9fd)]+_0x26732f(0x1c2),_0x1b94fc={'queryOrPrompt':{'type':_0x4e2564['PromptFunctionParamsType'][_0x26732f(0xd2)]}};return await _0x207c2c[_0x26732f(0x6c6)]({'jobType':_0x165f57[_0x26732f(0x637)],'type':_0x1130b4[_0x26732f(0x9ef)],'jobId':_0x56c4ab,'agentId':_0x5ad343,'threadId':_0x2fdd4c['threadId'],'blockId':_0x26732f(0x2c0),'traceLevel':_0x5de0eb[_0x26732f(0x491)],'startTime':Date['now'](),'timestamp':Date[_0x26732f(0x9e1)](),'status':_0x26732f(0x11c),'function':_0x39c7e0[_0x26732f(0xa60)],'params':_0x1b94fc,'functionDescription':_0x509f83}),{'description':_0x509f83,'params':_0x1b94fc,'callback':async _0xc5f7c=>_0x152d12(_0x2fdd4c['vendorId'],_0x5e3222,_0xc5f7c,_0x56c4ab,_0x5ad343,_0x2fdd4c[_0x26732f(0x78c)],_0x40300f)};}async function _0x152d12(_0x52c9a8,_0x557d86,_0x391a21,_0x11a830,_0x365cf6,_0x23d47f,_0x551de1){const _0x2ab1e1=_0x120045,_0x2ce425=Date[_0x2ab1e1(0x9e1)]();try{if('string'!=typeof _0x391a21?.['queryOrPrompt'])throw new Error(_0x2ab1e1(0x4f2));const _0x5e4c57=await fetch(_0x4cff37[_0x2ab1e1(0x3aa)]+_0x2ab1e1(0x8b6)+_0x557d86[_0x2ab1e1(0x124)]+'/search',{'method':_0x2ab1e1(0x9a0),'headers':{'Content-Type':_0x2ab1e1(0x36f),'x-vendor-id':_0x52c9a8},'body':JSON['stringify']({'query':_0x391a21['queryOrPrompt']})}),_0x2d841d=((await _0x5e4c57[_0x2ab1e1(0x501)]())[_0x2ab1e1(0x7f6)]??[])['map'](_0x405f20=>({'pathName':_0x405f20[_0x2ab1e1(0x6c5)],'relevance':_0x405f20[_0x2ab1e1(0x216)],'content':_0x405f20['content'][_0x2ab1e1(0x6dc)]}));return _0x551de1&&(_0x551de1['context']=Array[_0x2ab1e1(0x7f9)](new Set([..._0x551de1[_0x2ab1e1(0x569)]??[],..._0x2d841d]))),_0x11a830&&_0x365cf6&&_0x23d47f&&await _0x207c2c[_0x2ab1e1(0x6c6)]({'jobType':_0x165f57[_0x2ab1e1(0x9d8)],'type':_0x39c7e0[_0x2ab1e1(0x753)],'jobId':_0x11a830,'blockId':_0x2ab1e1(0x2c0),'agentId':_0x365cf6,'threadId':_0x23d47f,'traceLevel':_0x5de0eb[_0x2ab1e1(0x491)],'startTime':_0x2ce425,'timestamp':Date[_0x2ab1e1(0x9e1)](),'status':_0x2ab1e1(0x11c),'query':_0x391a21[_0x2ab1e1(0x1b9)],'context':_0x2d841d[_0x2ab1e1(0x569)]??[],'inputTokens':_0x2d841d['inputTokens']??0x0,'outputTokens':_0x2d841d[_0x2ab1e1(0x9d0)]??0x0}),_0x2d841d[_0x2ab1e1(0x181)]((_0x4e51ba,_0x1a7cc0)=>_0x4e51ba+'\x0a'+_0x1a7cc0[_0x2ab1e1(0x477)],'');}catch(_0xd3b792){return console['error'](_0xd3b792),_0x11a830&&_0x365cf6&&_0x23d47f&&await _0x207c2c['trace']({'jobType':_0x165f57[_0x2ab1e1(0x9d8)],'type':_0x39c7e0[_0x2ab1e1(0x753)],'jobId':_0x11a830,'blockId':_0x2ab1e1(0x2c0),'agentId':_0x365cf6,'threadId':_0x23d47f,'traceLevel':_0x5de0eb['Info'],'startTime':_0x2ce425,'timestamp':Date[_0x2ab1e1(0x9e1)](),'status':_0x2ab1e1(0x525),'errorDetails':_0x32b48d(_0xd3b792),'query':_0x391a21?.[_0x2ab1e1(0x1b9)]??'','context':[],'inputTokens':0x0,'outputTokens':0x0}),_0xd3b792 instanceof Error?_0xd3b792[_0x2ab1e1(0x1b4)]:_0x2ab1e1(0x19d);}}async function _0x5e54c4(_0x2219f7,_0x527ea3,_0x12aa73,_0x96adc0,_0xd8a019){const _0x467503=_0x120045,_0x318e48={};for(const _0x33bc06 of _0xd8a019[_0x467503(0x8b1)]??[])switch(_0x33bc06[_0x467503(0x7f3)]){case _0x467503(0x630):case _0x467503(0x501):_0x318e48[_0x33bc06['name']]={'type':_0x4e2564['PromptFunctionParamsType'][_0x467503(0xd2)]};break;case _0x467503(0x2bf):_0x318e48[_0x33bc06[_0x467503(0x5eb)]]={'type':_0x4e2564[_0x467503(0x296)][_0x467503(0x1cf)]};break;case _0x467503(0x6fe):_0x318e48[_0x33bc06[_0x467503(0x5eb)]]={'type':_0x4e2564[_0x467503(0x296)][_0x467503(0x130)]};}return await _0x207c2c['trace']({'jobType':_0x165f57[_0x467503(0x637)],'type':_0x1130b4[_0x467503(0x34d)],'jobId':_0x2219f7,'agentId':_0x527ea3,'threadId':_0x12aa73,'traceLevel':_0x5de0eb[_0x467503(0x491)],'startTime':Date[_0x467503(0x9e1)](),'timestamp':Date['now'](),'status':_0x467503(0x11c),'function':_0x15420c[_0x467503(0x2f0)],'params':_0x318e48,'functionDescription':_0xd8a019[_0x467503(0x9fd)]??''}),{'description':_0x467503(0x7b8)+_0xd8a019[_0x467503(0x9fd)],'params':_0x318e48,'callback':async _0x3e7525=>_0x524ccf(_0xd8a019,_0x3e7525,_0x2219f7,_0x527ea3,_0x12aa73,_0x96adc0)};}async function _0x524ccf(_0x442a8d,_0x366198,_0x18aa3d,_0x5864f2,_0x2f573c,_0x48a339){const _0x10dc07=_0x120045,_0x15fafe=Date[_0x10dc07(0x9e1)]();try{if(!_0x366198)throw new Error(_0x10dc07(0x440));for(const _0x698b4d of _0x442a8d[_0x10dc07(0x8b1)]??[]){if(void 0x0===_0x366198[_0x698b4d[_0x10dc07(0x5eb)]])throw new Error(_0x10dc07(0x8e7)+_0x698b4d[_0x10dc07(0x5eb)]+_0x10dc07(0x21e));if(_0x10dc07(0x630)===_0x698b4d[_0x10dc07(0x7f3)]&&_0x10dc07(0x630)!=typeof _0x366198[_0x698b4d[_0x10dc07(0x5eb)]])throw new Error(_0x10dc07(0x8e7)+_0x698b4d['name']+_0x10dc07(0x4f0));if(_0x10dc07(0x2bf)===_0x698b4d[_0x10dc07(0x7f3)]&&'number'!=typeof _0x366198[_0x698b4d[_0x10dc07(0x5eb)]])throw new Error(_0x10dc07(0x8e7)+_0x698b4d[_0x10dc07(0x5eb)]+'\x20must\x20be\x20a\x20number');if(_0x10dc07(0x6fe)===_0x698b4d['type']&&_0x10dc07(0x6fe)!=typeof _0x366198[_0x698b4d[_0x10dc07(0x5eb)]])throw new Error(_0x10dc07(0x8e7)+_0x698b4d[_0x10dc07(0x5eb)]+_0x10dc07(0x2c3));if(_0x10dc07(0x501)===_0x698b4d[_0x10dc07(0x7f3)]&&_0x10dc07(0x630)!=typeof _0x366198[_0x698b4d[_0x10dc07(0x5eb)]])throw new Error('Parameter\x20'+_0x698b4d[_0x10dc07(0x5eb)]+_0x10dc07(0x4f0));if('json'===_0x698b4d[_0x10dc07(0x7f3)])try{_0x366198[_0x698b4d[_0x10dc07(0x5eb)]]=JSON[_0x10dc07(0x505)](_0x366198[_0x698b4d['name']]);}catch{throw new Error(_0x10dc07(0x8e7)+_0x698b4d['name']+_0x10dc07(0x466));}}const _0x36ef03={};for(const _0x681eb0 of _0x442a8d[_0x10dc07(0xa06)]??[]){let _0x42aafc=_0x681eb0['value'];_0x42aafc[_0x10dc07(0x3dd)](/\$[a-zA-Z0-9]+/)&&(_0x42aafc=_0x42aafc[_0x10dc07(0x6f2)](/\$[a-zA-Z0-9]+/g,_0x1e1afb=>{const _0x4ffa1c=_0x1e1afb['slice'](0x1);return _0x366198[_0x4ffa1c];})),_0x36ef03[_0x681eb0['name']]=_0x42aafc;}const _0x56233f=new URLSearchParams();for(const _0x4c9f30 of _0x442a8d['queryParameters']??[]){let _0x42e6b4=_0x4c9f30[_0x10dc07(0x570)];if(_0x10dc07(0x630)==typeof _0x42e6b4&&_0x42e6b4[_0x10dc07(0x1c5)]('$')){const _0x48a2d0=_0x42e6b4[_0x10dc07(0x334)](0x1);_0x42e6b4=_0x366198[_0x48a2d0];}if('string'==typeof _0x42e6b4&&_0x42e6b4[_0x10dc07(0x1c5)](_0x10dc07(0x579))){const _0x38b2ed=_0x42e6b4['replace']('@context.','');if(_0x42e6b4=_0x48a339?.[_0x10dc07(0x37e)]?.[_0x38b2ed],'string'==typeof _0x42e6b4&&_0x42e6b4[_0x10dc07(0x1c5)]('{')&&_0x42e6b4['endsWith']('}'))try{_0x42e6b4=JSON[_0x10dc07(0x505)](_0x42e6b4);}catch{}}'string'==typeof _0x42e6b4&&_0x42e6b4['startsWith']('[')&&_0x42e6b4['endsWith'](']')&&(_0x42e6b4=JSON[_0x10dc07(0x505)](_0x42e6b4)),_0x56233f['append'](_0x4c9f30[_0x10dc07(0x5eb)],_0x42e6b4);}let _0x41961b=_0x442a8d[_0x10dc07(0x7b5)]??'';_0x56233f[_0x10dc07(0x625)]>0x0&&(_0x41961b+='?'+_0x56233f[_0x10dc07(0x5d4)]());let _0x38621c={};for(const _0x339a0f of _0x442a8d[_0x10dc07(0x235)]??[]){let _0x34c67f=_0x339a0f[_0x10dc07(0x570)];if('string'==typeof _0x34c67f&&_0x34c67f['startsWith']('$')){const _0x3a13a9=_0x34c67f[_0x10dc07(0x334)](0x1);_0x34c67f=_0x366198[_0x3a13a9];}if('string'==typeof _0x34c67f&&_0x34c67f['startsWith'](_0x10dc07(0x579))){const _0x4da2d7=_0x34c67f[_0x10dc07(0x6f2)](_0x10dc07(0x579),'');if(_0x34c67f=_0x48a339?.[_0x10dc07(0x37e)]?.[_0x4da2d7],_0x10dc07(0x630)==typeof _0x34c67f&&_0x34c67f[_0x10dc07(0x1c5)]('{')&&_0x34c67f[_0x10dc07(0x53a)]('}'))try{_0x34c67f=JSON[_0x10dc07(0x505)](_0x34c67f);}catch{}}if(_0x10dc07(0x630)==typeof _0x34c67f&&_0x34c67f[_0x10dc07(0x1c5)]('[')&&_0x34c67f['endsWith'](']')&&(_0x34c67f=JSON[_0x10dc07(0x505)](_0x34c67f)),_0x10dc07(0x759)===_0x339a0f['name']){const _0x38f6dd=_0x34c67f[_0x10dc07(0x3dd)](/```html(.*)```/s);_0x38f6dd&&(_0x34c67f=_0x38f6dd[0x1]),_0x34c67f=_0x34c67f[_0x10dc07(0x6f2)](/\n/g,''),_0x34c67f=_0x34c67f['replace'](/'/g,'\x22'),_0x38621c=_0x34c67f;break;}if(-0x1===_0x339a0f['name'][_0x10dc07(0xe6)]('.'))_0x38621c[_0x339a0f['name']]=_0x34c67f;else{const [_0xaa0e0a,_0x510827]=_0x339a0f[_0x10dc07(0x5eb)][_0x10dc07(0x3b5)]('.');_0x38621c[_0xaa0e0a]||(_0x38621c[_0xaa0e0a]={}),_0x38621c[_0xaa0e0a][_0x510827]=_0x34c67f;}}console[_0x10dc07(0xed)](_0x10dc07(0x5ef)+_0x442a8d[_0x10dc07(0x5eb)]+_0x10dc07(0x126)+JSON[_0x10dc07(0x4e9)](_0x38621c));const _0x4c4a14=await fetch(_0x41961b,{'method':_0x442a8d[_0x10dc07(0x3cf)],'headers':_0x36ef03,'body':_0x10dc07(0x630)==typeof _0x38621c?_0x38621c:JSON[_0x10dc07(0x4e9)](_0x38621c)});if(_0x4c4a14['ok']){let _0x239e27=await _0x4c4a14[_0x10dc07(0x501)]();return _0x10dc07(0x630)!=typeof _0x239e27&&(_0x239e27=JSON['stringify'](_0x239e27)),_0x18aa3d&&_0x5864f2&&_0x2f573c&&await _0x207c2c[_0x10dc07(0x6c6)]({'jobType':_0x165f57[_0x10dc07(0x50f)],'type':_0x15420c[_0x10dc07(0x2f0)],'jobId':_0x18aa3d,'agentId':_0x5864f2,'threadId':_0x2f573c,'blockId':_0x10dc07(0x57a),'traceLevel':_0x5de0eb[_0x10dc07(0x491)],'startTime':_0x15fafe,'timestamp':Date[_0x10dc07(0x9e1)](),'status':_0x10dc07(0x11c),'skillName':_0x442a8d[_0x10dc07(0x5eb)],'params':_0x366198,'result':_0x239e27}),_0x239e27[_0x10dc07(0x37e)]||(_0x239e27[_0x10dc07(0x37e)]={}),_0x239e27[_0x10dc07(0x37e)]['custom-skill.result']=_0x239e27,_0x239e27;}throw new Error(_0x4c4a14['statusText']);}catch(_0x1ffb4c){console['error'](_0x1ffb4c);const _0x34072d=_0x1ffb4c instanceof Error?_0x1ffb4c[_0x10dc07(0x1b4)]:_0x10dc07(0x1f1);return _0x18aa3d&&_0x5864f2&&_0x2f573c&&await _0x207c2c[_0x10dc07(0x6c6)]({'jobType':_0x165f57[_0x10dc07(0x50f)],'type':_0x15420c[_0x10dc07(0x2f0)],'jobId':_0x18aa3d,'blockId':'custom-skill','threadId':_0x2f573c,'traceLevel':_0x5de0eb[_0x10dc07(0x491)],'startTime':_0x15fafe,'timestamp':Date[_0x10dc07(0x9e1)](),'agentId':_0x5864f2,'status':_0x10dc07(0x525),'skillName':_0x442a8d[_0x10dc07(0x5eb)],'params':_0x366198??{},'result':_0x34072d}),_0x34072d;}}async function _0x7b8df3(_0x1e9c58,_0x5587d6,_0x5a55a3,_0x336f37=!0x0){const _0x32a78b=_0x120045,_0x4ace8d=_0x32a78b(0x8d1),_0x4499b6={'url':{'type':_0x4e2564[_0x32a78b(0x296)]['String']},'page':{'type':_0x4e2564['PromptFunctionParamsType']['Number']}};return await _0x207c2c['trace']({'jobType':_0x165f57['JobContext'],'type':_0x1130b4[_0x32a78b(0x34d)],'jobId':_0x1e9c58,'agentId':_0x5587d6,'threadId':_0x5a55a3,'traceLevel':_0x5de0eb[_0x32a78b(0x491)],'startTime':Date[_0x32a78b(0x9e1)](),'timestamp':Date[_0x32a78b(0x9e1)](),'status':'success','function':_0x15420c[_0x32a78b(0x41e)],'params':_0x4499b6,'functionDescription':_0x4ace8d}),{'description':_0x4ace8d,'params':_0x4499b6,'callback':async _0x27b589=>_0x177f7a(_0x27b589,_0x336f37,_0x1e9c58,_0x5587d6,_0x5a55a3)};}async function _0x177f7a(_0x138d25,_0x55e725=!0x0,_0x1ffb6b,_0x15dd9a,_0x7a6f56){const _0x10b58b=_0x120045,_0x3100e2=Date[_0x10b58b(0x9e1)]();try{if(_0x10b58b(0x630)!=typeof _0x138d25?.['url'])throw new Error(_0x10b58b(0x2a0));const _0x202278=_0x138d25[_0x10b58b(0x812)];if([_0x10b58b(0xe4),_0x10b58b(0x56f),_0x10b58b(0x9a1),_0x10b58b(0x903),_0x10b58b(0x9b2),'.xls',_0x10b58b(0x347)][_0x10b58b(0xf1)](_0x935c0e=>_0x202278[_0x10b58b(0x53a)](_0x935c0e)))throw new Error(_0x10b58b(0x60c));const _0x3a1dac=await fetch(_0x202278),_0x27855a=await _0x3a1dac[_0x10b58b(0x6dc)]();let _0x54cc10=_0x27855a;if(_0x55e725){const _0x48d609=_0x27855a[_0x10b58b(0x3dd)](/<body[^>]*>((.|[\n\r])*)<\/body>/i),_0x29ab6d=_0x48d609?_0x48d609[0x1]:_0x27855a,_0x40db68=_0x29ab6d[_0x10b58b(0x6f2)](/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,'')[_0x10b58b(0x6f2)](/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,'')['replace'](/<br\s*\/?>/gi,'\x20')[_0x10b58b(0x6f2)](/&nbsp;/g,'\x20');_0x54cc10=_0x40db68[_0x10b58b(0x6f2)](/<\/?[^>]+(>|$)/g,'')[_0x10b58b(0x6f2)](/\s\s+/g,'\x20')[_0x10b58b(0x928)]();}const _0x4f6880=_0x10b58b(0x2bf)==typeof _0x138d25['page']?_0x138d25[_0x10b58b(0x238)]:0x1,_0x479815=Math[_0x10b58b(0x17c)](_0x54cc10[_0x10b58b(0x59d)]/_0x19df9d);return _0x54cc10['length']>_0x19df9d&&(_0x54cc10=_0x54cc10[_0x10b58b(0x1dc)]((_0x4f6880-0x1)*_0x19df9d,(_0x4f6880-0x1)*_0x19df9d+_0x19df9d)+_0x10b58b(0x3ae)+(_0x4f6880+0x1)+'.Total\x20pages\x20available:\x20'+_0x479815+'.'),_0x1ffb6b&&_0x15dd9a&&_0x7a6f56&&await _0x207c2c[_0x10b58b(0x6c6)]({'jobType':_0x165f57['Skill'],'type':_0x15420c['FetchUrl'],'jobId':_0x1ffb6b,'agentId':_0x15dd9a,'threadId':_0x7a6f56,'blockId':_0x10b58b(0x6a4),'traceLevel':_0x5de0eb[_0x10b58b(0x491)],'startTime':_0x3100e2,'timestamp':Date['now'](),'status':_0x3a1dac['ok']?_0x10b58b(0x11c):'error','url':_0x138d25['url'],'page':_0x4f6880,'totalPages':_0x479815,'response':_0x54cc10}),_0x54cc10;}catch(_0x2517ce){console[_0x10b58b(0x525)](_0x2517ce);const _0x4d5999=_0x2517ce instanceof Error?_0x2517ce[_0x10b58b(0x1b4)]:_0x10b58b(0x1f1);return _0x1ffb6b&&_0x15dd9a&&_0x7a6f56&&await _0x207c2c[_0x10b58b(0x6c6)]({'jobType':_0x165f57[_0x10b58b(0x50f)],'type':_0x15420c[_0x10b58b(0x41e)],'jobId':_0x1ffb6b,'blockId':_0x10b58b(0x6a4),'threadId':_0x7a6f56,'traceLevel':_0x5de0eb[_0x10b58b(0x491)],'startTime':_0x3100e2,'timestamp':Date['now'](),'agentId':_0x15dd9a,'status':_0x10b58b(0x525),'errorDetails':_0x32b48d(_0x2517ce),'url':_0x138d25?.['url']??'','page':0x0,'totalPages':0x0,'response':_0x4d5999}),_0x4d5999;}}async function _0x134128(_0x137dd3,_0x4b02dc,_0x30416a,_0x4ce538,_0x5a291b){const _0x2f3964=_0x120045,_0x4c34a4=Date['now']();try{if(!_0x137dd3[_0x2f3964(0x4af)])throw new Error(_0x2f3964(0x281));if(_0x2f3964(0x630)!=typeof _0x4b02dc?.[_0x2f3964(0x893)])throw new Error('Query\x20is\x20required');const _0x5c74b4=await _0x137dd3['searchConnector'][_0x2f3964(0x2de)](_0x4b02dc[_0x2f3964(0x893)],_0x4cff37[_0x2f3964(0xa4d)][_0x2f3964(0x3c1)]);let _0x8d5f7='';for(const _0x1552b1 of _0x5c74b4)_0x8d5f7+=_0x1552b1[_0x2f3964(0x82d)]+_0x2f3964(0x723)+_0x1552b1[_0x2f3964(0x812)]+'\x0a'+_0x1552b1[_0x2f3964(0xa63)]+'\x0a\x0a';return _0x30416a&&_0x4ce538&&_0x5a291b&&await _0x207c2c[_0x2f3964(0x6c6)]({'jobType':_0x165f57['Skill'],'type':_0x15420c[_0x2f3964(0x784)],'jobId':_0x30416a,'agentId':_0x4ce538,'threadId':_0x5a291b,'blockId':_0x2f3964(0x2de),'traceLevel':_0x5de0eb[_0x2f3964(0x491)],'startTime':_0x4c34a4,'timestamp':Date[_0x2f3964(0x9e1)](),'status':'success','query':_0x4b02dc[_0x2f3964(0x893)],'results':_0x8d5f7}),_0x8d5f7;}catch(_0x22cfd8){return console[_0x2f3964(0x525)](_0x22cfd8),_0x30416a&&_0x4ce538&&_0x5a291b&&await _0x207c2c[_0x2f3964(0x6c6)]({'jobType':_0x165f57[_0x2f3964(0x50f)],'type':_0x15420c[_0x2f3964(0x784)],'jobId':_0x30416a,'blockId':'search','traceLevel':_0x5de0eb[_0x2f3964(0x491)],'startTime':_0x4c34a4,'timestamp':Date[_0x2f3964(0x9e1)](),'status':_0x2f3964(0x525),'errorDetails':_0x32b48d(_0x22cfd8),'agentId':_0x4ce538,'threadId':_0x5a291b,'query':_0x4b02dc?.[_0x2f3964(0x893)]??'','results':_0x2f3964(0x366)}),_0x22cfd8 instanceof Error?_0x22cfd8[_0x2f3964(0x1b4)]:'Error\x20searching';}}async function _0x12ecd6(_0x11679f,_0x5def1b,_0x4adabe,_0x560e76,_0x22962c,_0x57bbfb,_0x25b949){const _0x5cc131=_0x120045,_0x5cbfc4=new Map();for(const _0x50648b of _0x22962c)_0x50648b[_0x5cc131(0x7f3)]===_0x4e2564[_0x5cc131(0x13f)]['Knowledge']||_0x50648b[_0x5cc131(0x7f3)]===_0x4e2564[_0x5cc131(0x13f)][_0x5cc131(0x22f)]?_0x5cbfc4[_0x5cc131(0x381)](_0x5cc131(0x250)+_0x50648b['name']['replace'](/[^a-zA-Z]/g,''),await _0x5dee6f(_0x11679f,_0x5def1b,_0x4adabe,_0x560e76,_0x50648b)):_0x50648b[_0x5cc131(0x7f3)]===_0x4e2564[_0x5cc131(0x13f)]['AgentSkill']||_0x50648b[_0x5cc131(0x7f3)]===_0x4e2564[_0x5cc131(0x13f)][_0x5cc131(0x580)]?_0x5cbfc4[_0x5cc131(0x381)](_0x5cc131(0x48e)+_0x50648b[_0x5cc131(0x5eb)]['replace'](/[^a-zA-Z]/g,''),await _0x48dd76(_0x11679f,_0x5def1b,_0x4adabe,_0x50648b,_0x57bbfb,_0x25b949)):_0x50648b[_0x5cc131(0x7f3)]===_0x4e2564[_0x5cc131(0x13f)][_0x5cc131(0x367)]?_0x5cbfc4['set'](_0x50648b['name']['replace'](/[^a-zA-Z]/g,''),await _0x5e54c4(_0x11679f,_0x5def1b,_0x4adabe[_0x5cc131(0x78c)],_0x560e76,_0x50648b)):_0x5cbfc4[_0x5cc131(0x381)](_0x58524a(_0x50648b),await _0x2637d5(_0x11679f,_0x5def1b,_0x4adabe[_0x5cc131(0x78c)],_0x560e76,_0x50648b,_0x57bbfb));return _0x5cbfc4;}function _0x58524a(_0x42f2b1){const _0x379079=_0x120045;switch(_0x42f2b1['type']){case _0x4e2564[_0x379079(0x13f)][_0x379079(0x363)]:return _0x379079(0x4fe);case _0x4e2564[_0x379079(0x13f)][_0x379079(0x28d)]:return _0x379079(0x776);case _0x4e2564[_0x379079(0x13f)][_0x379079(0x8ec)]:return _0x379079(0x6c3);case _0x4e2564[_0x379079(0x13f)]['Search']:return _0x379079(0x6b8);case _0x4e2564[_0x379079(0x13f)][_0x379079(0x3b1)]:case _0x4e2564[_0x379079(0x13f)][_0x379079(0x30f)]:return _0x379079(0x340);case _0x4e2564[_0x379079(0x13f)][_0x379079(0x9fe)]:return _0x379079(0x994);}throw new Error(_0x379079(0x3fa));}async function _0x2637d5(_0x528bbc,_0x48549f,_0x1e0058,_0x4a9fd6,_0x29338b,_0x34661d){const _0x234099=_0x120045;switch(_0x29338b[_0x234099(0x7f3)]){case _0x4e2564[_0x234099(0x13f)]['AISearch']:return async function(_0x1553d2,_0x4377a3,_0x46f085,_0x1bc1ea){const _0x313f77=_0x234099,_0x304e27=_0x313f77(0xa4a),_0x201151={'query':{'type':_0x4e2564['PromptFunctionParamsType'][_0x313f77(0xd2)]}};return await _0x207c2c[_0x313f77(0x6c6)]({'jobType':_0x165f57['JobContext'],'type':_0x1130b4[_0x313f77(0x34d)],'jobId':_0x1553d2,'agentId':_0x4377a3,'threadId':_0x46f085,'traceLevel':_0x5de0eb[_0x313f77(0x491)],'startTime':Date[_0x313f77(0x9e1)](),'timestamp':Date['now'](),'status':'success','function':_0x15420c[_0x313f77(0x31e)],'params':_0x201151,'functionDescription':_0x304e27}),{'description':_0x304e27,'params':_0x201151,'callback':async _0x5ea0cb=>_0x7a6e2e(_0x1bc1ea,_0x5ea0cb,_0x1553d2,_0x4377a3,_0x46f085)};}(_0x528bbc,_0x48549f,_0x1e0058,_0x34661d);case _0x4e2564[_0x234099(0x13f)][_0x234099(0x28d)]:return async function(_0x595067,_0x614966,_0x3b41b1){const _0x1090ef=_0x234099,_0x519112=_0x1090ef(0x1e6),_0x54b618={'code':{'type':_0x4e2564[_0x1090ef(0x296)]['String']}};return await _0x207c2c[_0x1090ef(0x6c6)]({'jobType':_0x165f57[_0x1090ef(0x637)],'type':_0x1130b4[_0x1090ef(0x34d)],'jobId':_0x595067,'agentId':_0x614966,'threadId':_0x3b41b1,'traceLevel':_0x5de0eb[_0x1090ef(0x491)],'startTime':Date[_0x1090ef(0x9e1)](),'timestamp':Date[_0x1090ef(0x9e1)](),'status':_0x1090ef(0x11c),'function':_0x15420c[_0x1090ef(0x592)],'params':_0x54b618,'functionDescription':_0x519112}),{'description':_0x519112,'params':_0x54b618,'callback':async _0xf9c686=>_0x600ce8(_0xf9c686,_0x595067,_0x614966,_0x3b41b1)};}(_0x528bbc,_0x48549f,_0x1e0058);case _0x4e2564[_0x234099(0x13f)]['QueryFile']:return async function(_0x313cdc,_0x353c75,_0x567aae,_0x5bc7ea,_0x2539e9){const _0x11a1ab=_0x234099,_0x323be8=[',',';','\x09','|',':'],_0x2cdf00=['\x22','\x27'];let _0x5061a8='';if(_0x11a1ab(0x421)===_0x5bc7ea[_0x11a1ab(0x37e)]?.[_0x11a1ab(0x3d3)]&&_0x5bc7ea[_0x11a1ab(0x37e)]?.['file.content']&&(_0x5061a8=_0x5bc7ea[_0x11a1ab(0x37e)][_0x11a1ab(0x6b0)]),''===_0x5061a8)throw new Error(_0x11a1ab(0x17e));const _0x29d70f=_0x5061a8[_0x11a1ab(0x3b5)]('\x0a')[0x0];let _0x5a2df5=null,_0x405abc=null,_0x232fbe=0x0;for(const _0x1d5b62 of _0x323be8){const _0x2a9266=(_0x29d70f[_0x11a1ab(0x3dd)](new RegExp('\x5c'+_0x1d5b62,'g'))||[])[_0x11a1ab(0x59d)];_0x2a9266>_0x232fbe&&(_0x232fbe=_0x2a9266,_0x5a2df5=_0x1d5b62);}_0x5a2df5||(_0x5a2df5=','),_0x232fbe=0x0;for(const _0x4b8978 of _0x2cdf00){const _0x192498=(_0x29d70f[_0x11a1ab(0x3dd)](new RegExp('\x5c'+_0x4b8978,'g'))||[])[_0x11a1ab(0x59d)];_0x192498>_0x232fbe&&(_0x232fbe=_0x192498,_0x405abc=_0x4b8978);}_0x405abc||(_0x405abc='\x22');const _0x5b208f=_0x11a1ab(0x308)+_0x29d70f[_0x11a1ab(0x3b5)](_0x5a2df5)[_0x11a1ab(0x3ec)](',\x20'),_0x4a2f6a={'query':{'type':_0x4e2564[_0x11a1ab(0x296)][_0x11a1ab(0xd2)]}};return await _0x207c2c[_0x11a1ab(0x6c6)]({'jobType':_0x165f57[_0x11a1ab(0x637)],'type':_0x1130b4[_0x11a1ab(0x34d)],'jobId':_0x313cdc,'agentId':_0x353c75,'threadId':_0x567aae,'traceLevel':_0x5de0eb[_0x11a1ab(0x491)],'startTime':Date[_0x11a1ab(0x9e1)](),'timestamp':Date['now'](),'status':'success','function':_0x15420c[_0x11a1ab(0x8ec)],'params':_0x4a2f6a,'functionDescription':_0x5b208f}),{'description':_0x5b208f,'params':_0x4a2f6a,'callback':async _0x2b30b8=>{const _0xe0e2e4=_0x11a1ab,_0x3d1ae3=Date[_0xe0e2e4(0x9e1)]();try{if(!_0x2539e9['queryFileConnector'])throw new Error(_0xe0e2e4(0x1fe));if(_0xe0e2e4(0x630)!=typeof _0x2b30b8?.['query'])throw new Error(_0xe0e2e4(0x4f2));if(!_0x2b30b8[_0xe0e2e4(0x893)][_0xe0e2e4(0x82f)]('FROM\x20file'))throw new Error('Query\x20must\x20refer\x20to\x20the\x20file\x20table');const _0x5c1da3=await _0x2539e9[_0xe0e2e4(0xfc)]['executeQuery'](_0x5061a8,_0x2b30b8[_0xe0e2e4(0x893)],{'headers':!0x0,'quote':_0x405abc,'separator':_0x5a2df5});await _0x207c2c[_0xe0e2e4(0x6c6)]({'jobType':_0x165f57[_0xe0e2e4(0x50f)],'type':_0x15420c[_0xe0e2e4(0x8ec)],'jobId':_0x313cdc,'agentId':_0x353c75,'threadId':_0x567aae,'blockId':_0xe0e2e4(0x986),'traceLevel':_0x5de0eb['Info'],'startTime':_0x3d1ae3,'timestamp':Date['now'](),'status':_0xe0e2e4(0x11c),'query':_0x2b30b8[_0xe0e2e4(0x893)],'results':_0x5c1da3[_0xe0e2e4(0x1dc)](0x0,0x3e8)});const _0x52e468=JSON['parse'](_0x5c1da3);let _0x4ede91='';if(_0x52e468[_0xe0e2e4(0x59d)]>0x0){const _0x43afab=Object[_0xe0e2e4(0xca)](_0x52e468[0x0]);_0x4ede91=_0x43afab[_0xe0e2e4(0x760)](_0x2088f5=>'\x22'+_0x2088f5+'\x22')['join'](',')+'\x0a';for(const _0x5a6316 of _0x52e468)_0x4ede91+=_0x43afab['map'](_0x3a1a49=>'\x22'+_0x5a6316[_0x3a1a49]+'\x22')['join'](',')+'\x0a';}return _0x5bc7ea['internalContext']||(_0x5bc7ea[_0xe0e2e4(0x37e)]={}),_0x5bc7ea[_0xe0e2e4(0x37e)][_0xe0e2e4(0x6b0)]=_0x4ede91,_0x5bc7ea[_0xe0e2e4(0x37e)][_0xe0e2e4(0x3d3)]=_0xe0e2e4(0x421),_0x5c1da3[_0xe0e2e4(0x1dc)](0x0,0x3e8);}catch(_0x5e298d){return console[_0xe0e2e4(0x525)](_0x5e298d),await _0x207c2c[_0xe0e2e4(0x6c6)]({'jobType':_0x165f57[_0xe0e2e4(0x50f)],'type':_0x15420c[_0xe0e2e4(0x8ec)],'jobId':_0x313cdc,'blockId':'query-file','traceLevel':_0x5de0eb['Info'],'startTime':_0x3d1ae3,'timestamp':Date[_0xe0e2e4(0x9e1)](),'status':_0xe0e2e4(0x525),'errorDetails':_0x32b48d(_0x5e298d),'agentId':_0x353c75,'threadId':_0x567aae,'query':_0x2b30b8?.[_0xe0e2e4(0x893)]??'','results':'Error\x20searching'}),_0x5e298d instanceof Error?_0x5e298d[_0xe0e2e4(0x1b4)]:_0xe0e2e4(0x849);}}};}(_0x528bbc,_0x48549f,_0x1e0058,_0x4a9fd6,_0x34661d);case _0x4e2564[_0x234099(0x13f)][_0x234099(0x339)]:return async function(_0x49069c,_0x501097,_0x3c4673,_0x31fd79){const _0xbbf18c=_0x234099,_0x3f778f=_0xbbf18c(0x5a4),_0x55bbff={'query':{'type':_0x4e2564[_0xbbf18c(0x296)][_0xbbf18c(0xd2)]}};return await _0x207c2c[_0xbbf18c(0x6c6)]({'jobType':_0x165f57[_0xbbf18c(0x637)],'type':_0x1130b4['LoadSkillFunction'],'jobId':_0x49069c,'agentId':_0x501097,'threadId':_0x3c4673,'traceLevel':_0x5de0eb['Info'],'startTime':Date[_0xbbf18c(0x9e1)](),'timestamp':Date['now'](),'status':'success','function':_0x15420c['SearchGoogle'],'params':_0x55bbff,'functionDescription':_0x3f778f}),{'description':_0x3f778f,'params':_0x55bbff,'callback':async _0x3bfc29=>_0x134128(_0x31fd79,_0x3bfc29,_0x49069c,_0x501097,_0x3c4673)};}(_0x528bbc,_0x48549f,_0x1e0058,_0x34661d);case _0x4e2564[_0x234099(0x13f)][_0x234099(0x3b1)]:return _0x7b8df3(_0x528bbc,_0x48549f,_0x1e0058);case _0x4e2564[_0x234099(0x13f)][_0x234099(0x30f)]:return _0x7b8df3(_0x528bbc,_0x48549f,_0x1e0058,!0x1);case _0x4e2564[_0x234099(0x13f)][_0x234099(0x9fe)]:return async function(_0x3339f4,_0x47f758,_0x228904,_0x5555bb){const _0x253bc2=_0x234099,_0x2e0cf2=_0x253bc2(0x8a7),_0x39775c={'text':{'type':_0x4e2564[_0x253bc2(0x296)][_0x253bc2(0xd2)]}};return await _0x207c2c[_0x253bc2(0x6c6)]({'jobType':_0x165f57[_0x253bc2(0x637)],'type':_0x1130b4['LoadSkillFunction'],'jobId':_0x3339f4,'agentId':_0x47f758,'threadId':_0x228904,'traceLevel':_0x5de0eb[_0x253bc2(0x491)],'startTime':Date['now'](),'timestamp':Date[_0x253bc2(0x9e1)](),'status':_0x253bc2(0x11c),'function':_0x15420c[_0x253bc2(0x9fe)],'params':_0x39775c,'functionDescription':_0x2e0cf2}),{'description':_0x2e0cf2,'params':_0x39775c,'callback':async _0x34c6e4=>{const _0x2fd56e=_0x253bc2,_0x425744=Date[_0x2fd56e(0x9e1)]();try{if(_0x2fd56e(0x630)!=typeof _0x34c6e4?.[_0x2fd56e(0x6dc)])throw new Error(_0x2fd56e(0xe9));return await _0x207c2c[_0x2fd56e(0x6c6)]({'jobType':_0x165f57[_0x2fd56e(0x50f)],'type':_0x15420c[_0x2fd56e(0x9fe)],'jobId':_0x3339f4,'agentId':_0x47f758,'threadId':_0x228904,'blockId':_0x2fd56e(0xa18),'traceLevel':_0x5de0eb[_0x2fd56e(0x491)],'startTime':_0x425744,'timestamp':Date[_0x2fd56e(0x9e1)](),'status':_0x2fd56e(0x11c),'content':_0x34c6e4[_0x2fd56e(0x6dc)]}),_0x5555bb[_0x2fd56e(0x37e)]||(_0x5555bb[_0x2fd56e(0x37e)]={}),_0x5555bb[_0x2fd56e(0x37e)][_0x2fd56e(0x6b0)]=_0x34c6e4[_0x2fd56e(0x6dc)],_0x5555bb[_0x2fd56e(0x37e)][_0x2fd56e(0x3d3)]=_0x2fd56e(0x301),_0x2fd56e(0x599);}catch(_0x56112c){return console['error'](_0x56112c),await _0x207c2c[_0x2fd56e(0x6c6)]({'jobType':_0x165f57['Skill'],'type':_0x15420c['WriteFile'],'jobId':_0x3339f4,'blockId':'write-file','traceLevel':_0x5de0eb['Info'],'startTime':_0x425744,'timestamp':Date[_0x2fd56e(0x9e1)](),'status':'error','errorDetails':_0x32b48d(_0x56112c),'agentId':_0x47f758,'threadId':_0x228904,'content':_0x2fd56e(0x630)==typeof _0x34c6e4?.[_0x2fd56e(0x6dc)]?_0x34c6e4[_0x2fd56e(0x6dc)]:''}),_0x56112c instanceof Error?_0x56112c[_0x2fd56e(0x1b4)]:_0x2fd56e(0x82c);}}};}(_0x528bbc,_0x48549f,_0x1e0058,_0x4a9fd6);}throw new Error('Unknown\x20skill\x20type');}function _0x32b48d(_0x10867a){const _0x3e061f=_0x120045;try{return JSON[_0x3e061f(0x4e9)](_0x10867a);}catch(_0x3fa8a9){return _0x10867a instanceof Error?_0x10867a[_0x3e061f(0x5d4)]():'Error\x20fetching\x20context';}}class _0x408742 extends _0x253ada{[_0x120045(0x8d9)];[_0x120045(0x72d)];[_0x120045(0x3f0)];[_0x120045(0x178)];['nlpLibraryConnector'];[_0x120045(0x4af)];[_0x120045(0x53b)];['queryFileConnector'];[_0x120045(0x34c)];[_0x120045(0x9d6)];[_0x120045(0xa19)]=new Map();[_0x120045(0xa0d)]=new Map();[_0x120045(0x219)];[_0x120045(0xa3a)]=0x0;[_0x120045(0x6a8)]=0x0;[_0x120045(0x3ce)]=!0x1;constructor(_0x4f41c4,_0x37710f,_0x443d2d,_0x534a9a,_0xa7cac1,_0x8cd219,_0x525c7b,_0x3a7615,_0x4bde14,_0x41e64e,_0x4fdd79,_0x346dde,_0xea32c){const _0x4f0ec0=_0x120045;super(_0x4f41c4,_0x37710f,_0x443d2d),this['contentMediator']=_0x534a9a,this[_0x4f0ec0(0x72d)]=_0xa7cac1,this[_0x4f0ec0(0x3f0)]=_0x8cd219,this[_0x4f0ec0(0x178)]=_0x525c7b,this[_0x4f0ec0(0x120)]=_0x3a7615,this[_0x4f0ec0(0x4af)]=_0x4bde14,this[_0x4f0ec0(0x53b)]=_0x41e64e,this[_0x4f0ec0(0xfc)]=_0x4fdd79,this['ragConnector']=_0x346dde,this[_0x4f0ec0(0x9d6)]=_0xea32c;}async['destroy'](){const _0x415ebc=_0x120045;for(const _0x4d3990 of this[_0x415ebc(0x72d)])await _0x4d3990[_0x415ebc(0x1c1)]();this['dataStores']['forEach'](_0x21e877=>_0x21e877[_0x415ebc(0x236)](this[_0x415ebc(0x573)])),this['debounceStats']&&(clearTimeout(this['debounceStats']),delete this[_0x415ebc(0x219)]),super[_0x415ebc(0x4d9)]();}async[_0x120045(0x69b)](_0xbfae34=!0x1){const _0x4eb92a=_0x120045;if(this[_0x4eb92a(0x3ce)])super['open']();else{_0x1b1d61[_0x4eb92a(0x390)](_0x4eb92a(0x12d),this[_0x4eb92a(0x573)]),this['models'][_0x4eb92a(0x381)](_0x4eb92a(0x222),{'id':'all-minilm-l12-v2','engineType':_0x4e2564['GenerativeAIEngineType']['Llamacpp'],'taskType':_0x4e2564[_0x4eb92a(0x3bd)][_0x4eb92a(0x214)],'inputType':_0x4e2564[_0x4eb92a(0x631)][_0x4eb92a(0x86f)],'outputType':_0x4e2564[_0x4eb92a(0x9f3)]['Vector'],'sourceUrl':_0x4eb92a(0x56d)}),this['models'][_0x4eb92a(0x381)](_0x4eb92a(0x77d),{'id':_0x4eb92a(0x77d),'engineType':_0x4e2564['GenerativeAIEngineType']['Llamacpp'],'taskType':_0x4e2564[_0x4eb92a(0x3bd)][_0x4eb92a(0x429)],'inputType':_0x4e2564[_0x4eb92a(0x631)][_0x4eb92a(0x86f)],'outputType':_0x4e2564[_0x4eb92a(0x9f3)][_0x4eb92a(0x86f)],'knowledgeCutoffDate':_0x4eb92a(0x989),'sourceUrl':_0x4eb92a(0x8c4)}),this[_0x4eb92a(0xa0d)][_0x4eb92a(0x381)](_0x4eb92a(0x825),{'id':_0x4eb92a(0x825),'engineType':_0x4e2564[_0x4eb92a(0x32f)]['Llamacpp'],'taskType':_0x4e2564[_0x4eb92a(0x3bd)][_0x4eb92a(0x429)],'inputType':_0x4e2564[_0x4eb92a(0x631)][_0x4eb92a(0x86f)],'outputType':_0x4e2564[_0x4eb92a(0x9f3)][_0x4eb92a(0x86f)],'knowledgeCutoffDate':_0x4eb92a(0x989),'sourceUrl':_0x4eb92a(0x695)}),this[_0x4eb92a(0xa0d)][_0x4eb92a(0x381)](_0x4eb92a(0x792),{'id':_0x4eb92a(0x792),'engineType':_0x4e2564[_0x4eb92a(0x32f)][_0x4eb92a(0xec)],'taskType':_0x4e2564['GenerativeAITaskType']['TextGeneration'],'inputType':_0x4e2564[_0x4eb92a(0x631)]['Text'],'outputType':_0x4e2564[_0x4eb92a(0x9f3)]['Text'],'knowledgeCutoffDate':_0x4eb92a(0x8fb),'sourceUrl':'https://huggingface.co/bartowski/phi-4-GGUF/resolve/main/phi-4-Q8_0.gguf'}),this['models'][_0x4eb92a(0x381)](_0x4eb92a(0x796),{'id':_0x4eb92a(0x796),'engineType':_0x4e2564[_0x4eb92a(0x32f)][_0x4eb92a(0x90f)],'taskType':_0x4e2564[_0x4eb92a(0x3bd)][_0x4eb92a(0x429)],'inputType':_0x4e2564[_0x4eb92a(0x631)][_0x4eb92a(0x86f)],'outputType':_0x4e2564[_0x4eb92a(0x9f3)][_0x4eb92a(0x86f)],'knowledgeCutoffDate':_0x4eb92a(0x912),'sourceUrl':''}),this[_0x4eb92a(0xa0d)][_0x4eb92a(0x381)](_0x4eb92a(0x2dc),{'id':_0x4eb92a(0x2dc),'engineType':_0x4e2564[_0x4eb92a(0x32f)][_0x4eb92a(0x90f)],'taskType':_0x4e2564[_0x4eb92a(0x3bd)]['TextGeneration'],'inputType':_0x4e2564['GenerativeAIModelInputType']['Text'],'outputType':_0x4e2564[_0x4eb92a(0x9f3)][_0x4eb92a(0x86f)],'knowledgeCutoffDate':'October\x202023','sourceUrl':''}),this[_0x4eb92a(0xa0d)][_0x4eb92a(0x381)]('o1',{'id':'o1','engineType':_0x4e2564[_0x4eb92a(0x32f)][_0x4eb92a(0x90f)],'taskType':_0x4e2564[_0x4eb92a(0x3bd)][_0x4eb92a(0x429)],'inputType':_0x4e2564[_0x4eb92a(0x631)]['Text'],'outputType':_0x4e2564[_0x4eb92a(0x9f3)][_0x4eb92a(0x86f)],'knowledgeCutoffDate':_0x4eb92a(0x912),'sourceUrl':''}),this[_0x4eb92a(0xa0d)][_0x4eb92a(0x381)](_0x4eb92a(0xa77),{'id':_0x4eb92a(0xa77),'engineType':_0x4e2564[_0x4eb92a(0x32f)]['OpenAI'],'taskType':_0x4e2564[_0x4eb92a(0x3bd)][_0x4eb92a(0x429)],'inputType':_0x4e2564[_0x4eb92a(0x631)][_0x4eb92a(0x86f)],'outputType':_0x4e2564[_0x4eb92a(0x9f3)]['Text'],'knowledgeCutoffDate':_0x4eb92a(0x912),'sourceUrl':''});try{for(const _0x456a4c of this[_0x4eb92a(0x72d)])await _0x456a4c['initialize'](this[_0x4eb92a(0x573)],this['models']);}catch(_0x1a687d){return this[_0x4eb92a(0x69b)](_0xbfae34);}this['isOpened']=!0x0,this[_0x4eb92a(0x3b4)](),super[_0x4eb92a(0x69b)](),_0x1b1d61[_0x4eb92a(0x390)](_0x4eb92a(0x608),this['label']);}}[_0x120045(0x2c6)](){const _0x63fe9a=_0x120045;this[_0x63fe9a(0xa3a)]=0x0,this[_0x63fe9a(0x6a8)]=0x0,this['sendStats'](),super[_0x63fe9a(0x2c6)]();}[_0x120045(0x7cf)](){const _0xe77f3f=_0x120045;return this[_0xe77f3f(0x3b4)](),this[_0xe77f3f(0x553)]();}[_0x120045(0x208)](_0x4a9cf2,_0x22dcb9,_0x561e98){const _0x5b4001=_0x120045,{outputTokens:_0x14435c=0x0,output:_0x5baf01=''}=_0x4a9cf2,_0xcf2d4c=_0x14435c/((_0x561e98-_0x22dcb9)/0x3e8);this[_0x5b4001(0xa3a)]+=0x1,this['tokens']+=_0x14435c,this[_0x5b4001(0x7a0)](_0xcf2d4c,_0x14435c),this['sendStats']();}[_0x120045(0x3b0)](_0x9cf548,_0x40e8e0){const _0x2ac2bc=_0x120045;return _0x9cf548[_0x2ac2bc(0x670)]=_0x9cf548[_0x2ac2bc(0x670)]??'',{'type':_0x2ac2bc(0x1d9),'output':'string'==typeof _0x9cf548[_0x2ac2bc(0x670)]&&'string'==typeof _0x40e8e0['output']?_0x9cf548['output']+_0x40e8e0[_0x2ac2bc(0x670)]:_0x40e8e0[_0x2ac2bc(0x670)],'outputTokens':_0x40e8e0[_0x2ac2bc(0x9d0)]??_0x9cf548[_0x2ac2bc(0x9d0)],'inputTokens':_0x40e8e0[_0x2ac2bc(0x490)]??_0x9cf548[_0x2ac2bc(0x490)]};}async['internalProcessJob'](_0x3dcde0,_0x108701){const _0xf3e27f=_0x120045;if(_0xf3e27f(0x1d9)===_0x108701[_0xf3e27f(0x7f3)]){const _0x17eb9b=await _0x2299da[_0xf3e27f(0x49e)](_0x108701[_0xf3e27f(0x11b)],_0x108701['workflowId']),_0x5a65e2=_0x17eb9b[_0xf3e27f(0xa68)][_0xf3e27f(0x999)](_0x255337=>_0x255337[_0xf3e27f(0x7f3)]===_0x2ec795[_0xf3e27f(0x190)]),_0xcb1bda=await async function(_0x49fb72,_0x3e81ac,_0x5a5093,_0x42474f,_0x48b5cf){const _0x4333d0=_0xf3e27f,_0x153380=(0x0,_0x233c4d['v4'])(),_0x594cfa=Date['now']();await _0x207c2c[_0x4333d0(0x6c6)]({'jobType':_0x165f57[_0x4333d0(0xd6)],'type':_0x34b9b7[_0x4333d0(0xa3b)],'jobId':_0x49fb72,'blockId':_0x5a5093['id'],'agentId':_0x153380,'threadId':_0x3e81ac[_0x4333d0(0x78c)],'traceLevel':_0x5de0eb['Info'],'startTime':Date[_0x4333d0(0x9e1)](),'timestamp':Date[_0x4333d0(0x9e1)](),'status':_0x4333d0(0x11c),'initialPrompt':_0x3e81ac[_0x4333d0(0x1d9)]});const _0x119466={'type':_0x4333d0(0x1d9),'context':[],'inputTokens':0x0,'outputTokens':0x0};_0x3e81ac['internalContext']&&(_0x119466[_0x4333d0(0x37e)]=_0x3e81ac[_0x4333d0(0x37e)]),await _0x23fa4c(_0x3e81ac,_0x119466,_0x5a5093,_0x42474f,_0x48b5cf),await _0xebeccb(_0x49fb72,''+_0x3e81ac[_0x4333d0(0x1d9)],_0x3e81ac,_0x119466,_0x5a5093,_0x42474f,_0x48b5cf);const {inputTokens:_0x53a212=0x0,outputTokens:_0x9f4f8c=0x0,context:_0x3cc6b7=[]}=_0x119466;await _0x207c2c[_0x4333d0(0x6c6)]({'jobType':_0x165f57[_0x4333d0(0xd6)],'type':_0x34b9b7['FinalOutput'],'jobId':_0x49fb72,'agentId':_0x153380,'threadId':_0x3e81ac['threadId'],'traceLevel':_0x5de0eb['Info'],'startTime':_0x594cfa,'timestamp':Date[_0x4333d0(0x9e1)](),'blockId':_0x5a5093['id'],'status':'success','output':_0x119466[_0x4333d0(0x670)]?.[_0x4333d0(0x5d4)]()??'','prompt':_0x3e81ac[_0x4333d0(0x1d9)],'agentName':'','history':_0x3e81ac[_0x4333d0(0x798)]??[],'instructions':''+(_0x3e81ac[_0x4333d0(0x2b7)]??''),'ragContext':_0x3cc6b7,'inputTokens':_0x53a212,'outputTokens':_0x9f4f8c});const _0x2b8859=_0x42474f[_0x4333d0(0x999)](_0x536aed=>_0x536aed[_0x4333d0(0x7f3)]===_0x2ec795[_0x4333d0(0x4ca)]);return{'type':_0x4333d0(0x1d9),'output':_0x119466[_0x4333d0(0x670)],'context':_0x119466[_0x4333d0(0x569)],'internalContext':_0x119466[_0x4333d0(0x37e)],'resultFile':await _0x2b8859?.['accumulated']?.[_0x4333d0(0xa11)]?.['text']()??void 0x0,'inputTokens':_0x119466[_0x4333d0(0x490)]??0x0,'outputTokens':_0x119466[_0x4333d0(0x9d0)]??0x0};}(_0x3dcde0,_0x108701,_0x5a65e2,_0x17eb9b[_0xf3e27f(0xa68)],{'documentParserConnector':this['documentParserConnector'],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this[_0xf3e27f(0x120)],'generativeAIWorkerConnectors':this[_0xf3e27f(0x72d)],'models':Array[_0xf3e27f(0x7f9)](this[_0xf3e27f(0xa0d)]['values']()),'contentMediator':this[_0xf3e27f(0x8d9)],'searchConnector':this[_0xf3e27f(0x4af)],'aiSearchConnector':this[_0xf3e27f(0x53b)],'queryFileConnector':this[_0xf3e27f(0xfc)]});return _0xcb1bda;}if(_0xf3e27f(0x558)===_0x108701[_0xf3e27f(0x7f3)])return await async function(_0x428395,_0x23836d){const _0x440f62=_0xf3e27f,_0x12fb2f={'type':'prompt','inputTokens':0x0,'outputTokens':0x0};return await async function(_0x1cfecf,_0x46a055){const _0x392c65=a0_0x573a,_0xcd33ea=_0x46a055['models'][_0x392c65(0x999)](_0x2e89cb=>_0x2e89cb['id']===_0x1cfecf[_0x392c65(0x74d)]);if(!_0xcd33ea)throw new Error('Model\x20not\x20found');const _0x58f959=_0x46a055[_0x392c65(0x72d)]['find'](_0x568e19=>_0x568e19['getEngineType']()===_0xcd33ea[_0x392c65(0x35c)]);if(!_0x58f959)throw new Error(_0x392c65(0x587));return _0x58f959[_0x392c65(0x463)]({'type':'prompt','prompt':_0x1cfecf[_0x392c65(0x6dc)],'threadId':_0x1cfecf[_0x392c65(0x78c)]},{'model':_0xcd33ea,'sequences':0x1});}(_0x428395,_0x23836d),{'type':_0x440f62(0x1d9),'output':_0x12fb2f[_0x440f62(0x670)],'inputTokens':_0x12fb2f[_0x440f62(0x490)]??0x0,'outputTokens':_0x12fb2f['outputTokens']??0x0};}(_0x108701,{'documentParserConnector':this[_0xf3e27f(0x3f0)],'fileConnector':this[_0xf3e27f(0x178)],'nlpLibraryConnector':this[_0xf3e27f(0x120)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':Array[_0xf3e27f(0x7f9)](this['models'][_0xf3e27f(0x449)]()),'contentMediator':this['contentMediator'],'searchConnector':this[_0xf3e27f(0x4af)],'aiSearchConnector':this[_0xf3e27f(0x53b)],'queryFileConnector':this[_0xf3e27f(0xfc)]});if(_0xf3e27f(0x4c2)===_0x108701['type'])return await async function(_0x13c8a7,_0x4e58a7,_0x198c01){const _0xe0d578=_0xf3e27f,_0x1a639d=(0x0,_0x233c4d['v4'])(),_0x5e29bf={'type':_0xe0d578(0x1d9),'context':[],'internalContext':_0x4e58a7[_0xe0d578(0x37e)]??{},'inputTokens':0x0,'outputTokens':0x0};return await async function(_0x126df8,_0xb22d3b,_0x4eb2db,_0x222441,_0x18b446){const _0x5088df=_0xe0d578,_0x372895=_0x18b446[_0x5088df(0xa0d)][_0x5088df(0x999)](_0x4dc5d5=>_0x4dc5d5['id']===_0x4eb2db[_0x5088df(0x74d)]);if(!_0x372895)throw new Error(_0x5088df(0x1ea));const _0x33db4d=_0x18b446[_0x5088df(0x72d)][_0x5088df(0x999)](_0x3a4627=>_0x3a4627[_0x5088df(0x754)]()===_0x372895[_0x5088df(0x35c)]);if(!_0x33db4d)throw new Error(_0x5088df(0x587));const _0x4997f7=await _0x12ecd6(_0x126df8,_0xb22d3b,_0x4eb2db,_0x222441,_0x4eb2db[_0x5088df(0x4a9)]??[],_0x18b446);return _0x33db4d[_0x5088df(0x463)]({'type':'prompt','prompt':_0x4eb2db[_0x5088df(0x1d9)],'instructions':_0x4eb2db[_0x5088df(0x2b7)],'reasoning':_0x4eb2db['reasoning'],'grammar':_0x4eb2db[_0x5088df(0x3d7)],'temperature':_0x4eb2db[_0x5088df(0x111)],'maxTokens':_0x4eb2db[_0x5088df(0x7a2)],'history':_0x4eb2db['history'],'functions':_0x4997f7,'threadId':_0x4eb2db['threadId']},{'model':_0x372895,'sequences':Array[_0x5088df(0x7f9)](_0x4997f7[_0x5088df(0xca)]())[_0x5088df(0xf1)](_0x5b486f=>_0x5b486f[_0x5088df(0x1c5)](_0x5088df(0x48e)))?0x2:0x1});}(_0x13c8a7,_0x1a639d,_0x4e58a7,_0x5e29bf,_0x198c01),{'type':_0xe0d578(0x1d9),'output':_0x5e29bf['output'],'context':_0x5e29bf[_0xe0d578(0x569)],'internalContext':_0x5e29bf[_0xe0d578(0x37e)]??{},'inputTokens':_0x5e29bf[_0xe0d578(0x490)]??0x0,'outputTokens':_0x5e29bf[_0xe0d578(0x9d0)]??0x0};}(_0x3dcde0,_0x108701,{'documentParserConnector':this[_0xf3e27f(0x3f0)],'fileConnector':this[_0xf3e27f(0x178)],'nlpLibraryConnector':this[_0xf3e27f(0x120)],'generativeAIWorkerConnectors':this[_0xf3e27f(0x72d)],'models':Array[_0xf3e27f(0x7f9)](this[_0xf3e27f(0xa0d)][_0xf3e27f(0x449)]()),'contentMediator':this['contentMediator'],'searchConnector':this[_0xf3e27f(0x4af)],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this['queryFileConnector']});if('rate'===_0x108701[_0xf3e27f(0x7f3)])return await _0x207c2c[_0xf3e27f(0x6c6)]({'jobType':_0x165f57[_0xf3e27f(0x611)],'type':_0x27185c[_0xf3e27f(0x597)],'jobId':_0x108701[_0xf3e27f(0x109)],'threadId':_0x108701[_0xf3e27f(0x78c)],'traceLevel':_0x5de0eb[_0xf3e27f(0x491)],'startTime':Date[_0xf3e27f(0x9e1)](),'timestamp':Date[_0xf3e27f(0x9e1)](),'status':_0xf3e27f(0x11c),'rating':_0x108701[_0xf3e27f(0x26b)],'feedback':_0x108701['feedback']}),{'type':_0xf3e27f(0x650),'status':_0x4e2564['GenerativeAIRatingStatus'][_0xf3e27f(0x728)]};if(_0xf3e27f(0x641)===_0x108701['type']){const _0x58ac5a=await async function(_0xf7487,_0x582dfe){const _0x3b52be=_0xf3e27f;let _0x3830a8='';switch(_0xf7487[_0x3b52be(0x1ab)][_0x3b52be(0x7f3)]){case _0x4e2564['GenerativeAIInferenceToolType'][_0x3b52be(0x580)]:case _0x4e2564[_0x3b52be(0x13f)][_0x3b52be(0xd4)]:_0x3830a8=await _0x2d98ce(_0xf7487[_0x3b52be(0x11b)],_0xf7487[_0x3b52be(0x1ab)],_0x582dfe,_0xf7487[_0x3b52be(0x39d)]);break;case _0x4e2564['GenerativeAIInferenceToolType'][_0x3b52be(0x363)]:_0x3830a8=await _0x7a6e2e(_0x582dfe,_0xf7487['arguments']);break;case _0x4e2564[_0x3b52be(0x13f)][_0x3b52be(0x28d)]:_0x3830a8=await _0x600ce8(_0xf7487[_0x3b52be(0x39d)]);break;case _0x4e2564['GenerativeAIInferenceToolType']['DataCollection']:case _0x4e2564[_0x3b52be(0x13f)][_0x3b52be(0x9d8)]:_0x3830a8=await _0x152d12(_0xf7487[_0x3b52be(0x11b)],_0xf7487[_0x3b52be(0x1ab)],_0xf7487[_0x3b52be(0x39d)]);break;case _0x4e2564[_0x3b52be(0x13f)]['CustomSkill']:_0x3830a8=await _0x524ccf(_0xf7487['tool'],_0xf7487[_0x3b52be(0x39d)]);break;case _0x4e2564[_0x3b52be(0x13f)][_0x3b52be(0x3b1)]:_0x3830a8=await _0x177f7a(_0xf7487[_0x3b52be(0x39d)]);break;case _0x4e2564[_0x3b52be(0x13f)]['WebScraperRaw']:_0x3830a8=await _0x177f7a(_0xf7487['arguments'],!0x1);break;case _0x4e2564[_0x3b52be(0x13f)]['Search']:_0x3830a8=await _0x134128(_0x582dfe,_0xf7487['arguments']);}return{'type':_0x3b52be(0x641),'output':_0x3830a8};}(_0x108701,{'documentParserConnector':this[_0xf3e27f(0x3f0)],'fileConnector':this[_0xf3e27f(0x178)],'nlpLibraryConnector':this[_0xf3e27f(0x120)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':Array['from'](this[_0xf3e27f(0xa0d)][_0xf3e27f(0x449)]()),'contentMediator':this[_0xf3e27f(0x8d9)],'searchConnector':this[_0xf3e27f(0x4af)],'aiSearchConnector':this[_0xf3e27f(0x53b)],'queryFileConnector':this[_0xf3e27f(0xfc)]});return _0x58ac5a;}if(_0xf3e27f(0x81a)===_0x108701[_0xf3e27f(0x7f3)]){const _0x2209f7=await _0x2299da[_0xf3e27f(0x49e)](_0x108701[_0xf3e27f(0x11b)],_0x108701['workflowId']),_0x29b826=_0x2209f7[_0xf3e27f(0xa68)]['find'](_0x32df44=>_0x32df44['type']===_0x2ec795[_0xf3e27f(0x580)]),_0x6555e5=_0x2209f7[_0xf3e27f(0xa68)][_0xf3e27f(0x1e1)](_0xd0b0d1=>_0xd0b0d1[_0xf3e27f(0x310)]?.[_0xf3e27f(0xf1)](_0x58f2f7=>_0x58f2f7['type']===_0x59c578[_0xf3e27f(0xa72)]&&_0x58f2f7['uid']===_0x29b826[_0xf3e27f(0x787)]));return{'type':_0xf3e27f(0x81a),'apiKey':this['openAIKey'],'modelId':_0x29b826['modelId'],'instructions':_0x29b826[_0xf3e27f(0x2b7)],'temperature':_0x29b826[_0xf3e27f(0x111)],'maxTokens':_0x29b826[_0xf3e27f(0x7a2)],'initialPrompt':_0x2209f7[_0xf3e27f(0x29c)],'tools':_0x6555e5[_0xf3e27f(0x760)](_0x1ec69f=>({'type':_0x1ec69f[_0xf3e27f(0x7f3)],'name':this['getToolName'](_0x1ec69f),'description':this[_0xf3e27f(0xa28)](_0x1ec69f),'parameters':this[_0xf3e27f(0x299)](_0x1ec69f),'headers':_0x1ec69f['headers']??[],'queryParameters':_0x1ec69f['queryParameters']??[],'bodyParameters':_0x1ec69f[_0xf3e27f(0x235)]??[],'endpointUrl':_0x1ec69f['endpointUrl']??'','endpointMethod':_0x1ec69f[_0xf3e27f(0x3cf)]??'','modelId':_0x1ec69f[_0xf3e27f(0x74d)]??'','instructions':_0x1ec69f[_0xf3e27f(0x2b7)]??'','maxTokens':_0x1ec69f['maxTokens']??0x0,'temperature':_0x1ec69f['temperature']??0x0,'collectionId':_0x1ec69f[_0xf3e27f(0x7f3)]===_0x2ec795[_0xf3e27f(0x22f)]||_0x1ec69f[_0xf3e27f(0x7f3)]===_0x2ec795[_0xf3e27f(0x9d8)]?_0x1ec69f['id']:''}))};}if(_0xf3e27f(0x84c)===_0x108701[_0xf3e27f(0x7f3)]){const {vendorId:_0x56e9ac,collectionId:_0x14dc19,fileId:_0x4f2313}=_0x108701,_0xcaa032=await _0x2299da[_0xf3e27f(0x145)](_0x56e9ac,_0x14dc19),_0x4cf380=_0xcaa032[_0xf3e27f(0x680)]?.[_0xf3e27f(0x999)](_0x9b5707=>_0x9b5707[_0xf3e27f(0x7f3)]===_0x3dead4[_0xf3e27f(0x190)]);if(!_0x4cf380){if(!this[_0xf3e27f(0x34c)])throw new Error('No\x20RAG\x20connector\x20available');return await this[_0xf3e27f(0x34c)][_0xf3e27f(0x5ec)](_0x14dc19,_0x4f2313),{'type':_0xf3e27f(0x84c)};}return this[_0xf3e27f(0x5e6)](_0xcaa032,_0x4f2313),{'type':_0xf3e27f(0x84c)};}if('file-download'===_0x108701[_0xf3e27f(0x7f3)]){let _0x3f7f62;const _0x3f54a7=this[_0xf3e27f(0xa19)][_0xf3e27f(0xca)]();for(;!_0x3f7f62;){const _0x2a5172=_0x3f54a7[_0xf3e27f(0x666)]()[_0xf3e27f(0x570)];if(!_0x2a5172)throw new Error(_0xf3e27f(0x247));_0x3f7f62=this['dataStores'][_0xf3e27f(0x7e9)](_0x2a5172);try{const _0x12197f=await _0x3f7f62['get'](_0x108701[_0xf3e27f(0x5b2)]);return{'type':_0xf3e27f(0x1aa),'fileName':_0x12197f[_0xf3e27f(0x5eb)],'mimeType':_0x12197f[_0xf3e27f(0x7f3)],'document':await _0x12197f[_0xf3e27f(0x694)]()};}catch(_0x174f8e){continue;}}throw new Error('DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found');}if(_0xf3e27f(0x4d3)===_0x108701[_0xf3e27f(0x7f3)]){const {vendorId:_0x75fddf,collectionId:_0x147447,fileName:_0x1006b5,content:_0x1faf32}=_0x108701,_0x5cefb7=await _0x2299da[_0xf3e27f(0x145)](_0x75fddf,_0x147447),_0x35ec17=_0x5cefb7['retrieveBlocks']?.['find'](_0x3198e6=>_0x3198e6[_0xf3e27f(0x7f3)]===_0x3dead4[_0xf3e27f(0x190)]);if(!_0x35ec17){if(!this['ragConnector'])throw new Error(_0xf3e27f(0x41a));return await this[_0xf3e27f(0x34c)][_0xf3e27f(0x2d1)](_0x147447,_0x1006b5,_0x1faf32),{'type':'file-ingest'};}const _0x17ecac=_0x5cefb7[_0xf3e27f(0x87b)]?.[_0xf3e27f(0x999)](_0x168625=>_0x168625[_0xf3e27f(0x7f3)]===_0x3dead4[_0xf3e27f(0x741)]);if(!_0x17ecac)throw new Error(_0xf3e27f(0x5fd));const _0x3e88be=(0x0,_0x233c4d['v4'])();return _0x207c2c[_0xf3e27f(0x85e)](_0x75fddf,_0x3e88be),await async function(_0x2cb5ef,_0x5bcc31,_0x4e3a73,_0x264c98,_0x34ad52,_0x562d63){const _0x540399=_0xf3e27f;try{let _0x5773da;switch(_0x264c98[_0x540399(0x7f3)]){case _0x3dead4['ObjectStorageUpload']:const _0x1dfe32=_0x562d63['contentMediator'][_0x540399(0x8e9)](_0x264c98['id']);_0x5773da=await _0x1dfe32[_0x540399(0x7e9)](_0x4e3a73);break;case _0x3dead4['ExternalStorageUpload']:const _0x835af5=_0x562d63[_0x540399(0x8d9)][_0x540399(0x472)](_0x264c98['id']);_0x5773da=await _0x835af5[_0x540399(0x7e9)](_0x4e3a73);}if(!_0x5773da)throw new Error('Failed\x20to\x20get\x20file');await _0x36d2de(_0x2cb5ef,_0x5bcc31,{'file':_0x5773da,'pathName':_0x4e3a73},_0x264c98,structuredClone(_0x34ad52),_0x562d63);}catch(_0x21b560){console[_0x540399(0x525)](_0x540399(0x407),_0x21b560);}}(_0x108701[_0xf3e27f(0x11b)],_0x3e88be,'./'+_0x1006b5,_0x17ecac,_0x5cefb7[_0xf3e27f(0x87b)],{'documentParserConnector':this['documentParserConnector'],'fileConnector':this[_0xf3e27f(0x178)],'nlpLibraryConnector':this[_0xf3e27f(0x120)],'generativeAIWorkerConnectors':this[_0xf3e27f(0x72d)],'models':Array['from'](this[_0xf3e27f(0xa0d)][_0xf3e27f(0x449)]()),'contentMediator':this[_0xf3e27f(0x8d9)]}),_0x207c2c[_0xf3e27f(0x64f)](_0x3e88be),{'type':_0xf3e27f(0x4d3)};}if(_0xf3e27f(0x230)===_0x108701['type']){if(!this[_0xf3e27f(0x34c)])throw new Error(_0xf3e27f(0x41a));return{'type':'file-list','files':await this['ragConnector'][_0xf3e27f(0x1a6)](_0x108701[_0xf3e27f(0x124)])};}if(_0xf3e27f(0xa1b)===_0x108701[_0xf3e27f(0x7f3)])return this[_0xf3e27f(0x34c)]?(await this[_0xf3e27f(0x34c)][_0xf3e27f(0x3ea)](_0x108701[_0xf3e27f(0x124)]),{'type':_0xf3e27f(0xa1b)}):{'type':'collection-create'};if('collection-delete'===_0x108701['type'])return this[_0xf3e27f(0x34c)]?(await this[_0xf3e27f(0x34c)][_0xf3e27f(0x763)](_0x108701[_0xf3e27f(0x124)]),{'type':'collection-delete'}):{'type':_0xf3e27f(0x434)};if(_0xf3e27f(0x24f)===_0x108701['type']){const {query:_0x35e3ee,vendorId:_0x59c327,collectionId:_0x47d51a}=_0x108701,_0x3eb34f=await _0x2299da[_0xf3e27f(0x145)](_0x59c327,_0x47d51a),_0x711670=_0x3eb34f['retrieveBlocks']?.[_0xf3e27f(0x999)](_0x49a400=>_0x49a400['type']===_0x3dead4['Prompt']);if(!_0x711670){if(!this[_0xf3e27f(0x34c)])throw new Error(_0xf3e27f(0x41a));return{'type':_0xf3e27f(0x24f),'results':await this[_0xf3e27f(0x34c)][_0xf3e27f(0x385)](_0x47d51a,_0x35e3ee)};}const _0x23146a=await async function(_0x2203f5,_0x2a4d8e,_0xe243a5,_0x4a3bdc,_0x59b91a,_0x2ccbcf,_0x27d20c){const _0x2b6606=_0xf3e27f,_0x48590c={'type':_0x2b6606(0x1d9),'output':'','context':[],'inputTokens':0x0,'outputTokens':0x0};try{let _0x5be803;await _0x3f58a0(_0x2203f5,_0x2a4d8e,'',_0x4a3bdc,_0x48590c,_0x59b91a,structuredClone(_0x2ccbcf),_0x27d20c),_0x48590c[_0x2b6606(0x569)][_0x2b6606(0x181)]((_0x174436,_0x732808)=>_0x174436+_0x732808['content'][_0x2b6606(0x59d)],0x0)>_0x19df9d&&(_0x5be803=Math[_0x2b6606(0x2f2)](_0x19df9d/_0x48590c[_0x2b6606(0x569)][_0x2b6606(0x59d)])),_0x48590c[_0x2b6606(0x670)]=_0x2b6606(0x9f8)+_0x48590c[_0x2b6606(0x569)]['map'](_0x1086da=>'From\x20'+_0x1086da[_0x2b6606(0x6d0)]+':\x20'+_0x1086da['content']['substring'](0x0,_0x5be803))[_0x2b6606(0x3ec)]('\x0a');}catch(_0x13e671){console[_0x2b6606(0x525)](_0x2b6606(0x767),_0x13e671);}return _0x48590c;}(_0x108701['vendorId'],_0x3dcde0,0x0,_0x35e3ee,_0x711670,_0x3eb34f[_0xf3e27f(0x680)],{'documentParserConnector':this['documentParserConnector'],'fileConnector':this[_0xf3e27f(0x178)],'nlpLibraryConnector':this[_0xf3e27f(0x120)],'generativeAIWorkerConnectors':this[_0xf3e27f(0x72d)],'models':Array[_0xf3e27f(0x7f9)](this[_0xf3e27f(0xa0d)][_0xf3e27f(0x449)]()),'contentMediator':this[_0xf3e27f(0x8d9)],'searchConnector':this[_0xf3e27f(0x4af)],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this[_0xf3e27f(0xfc)]});return _0x23146a;}throw new Error(_0xf3e27f(0x90a));}async*['internalProcessJobStream'](_0xd24703,_0x27d002){const _0x4cb98e=_0x120045;if(_0x4cb98e(0x1d9)===_0x27d002[_0x4cb98e(0x7f3)]){const _0x315cf6=await _0x2299da[_0x4cb98e(0x49e)](_0x27d002[_0x4cb98e(0x11b)],_0x27d002['workflowId']),_0x361242=_0x315cf6['blocks'][_0x4cb98e(0x999)](_0x5b8da9=>_0x5b8da9[_0x4cb98e(0x7f3)]===_0x2ec795[_0x4cb98e(0x190)]);for await(const _0x48a595 of async function*(_0x499597,_0x5468ad,_0xd5e303,_0x4535b4,_0x527f49){const _0x1dceff=_0x4cb98e,_0x190dd8=(0x0,_0x233c4d['v4'])(),_0x4b1973=Date[_0x1dceff(0x9e1)]();await _0x207c2c[_0x1dceff(0x6c6)]({'jobType':_0x165f57['Workflow'],'type':_0x34b9b7['InitialPrompt'],'jobId':_0x499597,'agentId':_0x190dd8,'threadId':_0x5468ad[_0x1dceff(0x78c)],'traceLevel':_0x5de0eb[_0x1dceff(0x491)],'startTime':Date[_0x1dceff(0x9e1)](),'timestamp':Date[_0x1dceff(0x9e1)](),'blockId':_0xd5e303['id'],'status':_0x1dceff(0x11c),'initialPrompt':_0x5468ad[_0x1dceff(0x1d9)]});const _0x477fbd={'type':_0x1dceff(0x1d9),'context':[],'inputTokens':0x0,'outputTokens':0x0};_0x5468ad['internalContext']&&(_0x477fbd[_0x1dceff(0x37e)]=_0x5468ad[_0x1dceff(0x37e)]);const _0x37f713=new _0x1531f3();await _0x23fa4c(_0x5468ad,_0x477fbd,_0xd5e303,_0x4535b4,_0x527f49),_0xebeccb(_0x499597,''+_0x5468ad[_0x1dceff(0x1d9)],_0x5468ad,_0x477fbd,_0xd5e303,_0x4535b4,_0x527f49,_0x37f713);let _0x201f5c='',_0x58f329={'type':_0x1dceff(0x1d9)};for(;;){const _0x1032a6=await _0x37f713['once']();if(!_0x1032a6)break;_0x201f5c+=_0x1032a6['output'],_0x58f329={'type':'prompt','output':_0x1032a6['output'],'context':_0x477fbd['context'],'resultFile':void 0x0,'inputTokens':(_0x477fbd[_0x1dceff(0x490)]??0x0)+(_0x1032a6['inputTokens']??0x0),'outputTokens':(_0x477fbd['outputTokens']??0x0)+(_0x1032a6[_0x1dceff(0x9d0)]??0x0)},yield _0x58f329;}const _0x47ac57=_0x4535b4['find'](_0x184638=>_0x184638['type']===_0x2ec795[_0x1dceff(0x4ca)]);yield{..._0x58f329,'output':'','internalContext':_0x477fbd[_0x1dceff(0x37e)],'resultFile':await _0x47ac57?.[_0x1dceff(0x645)]?.[_0x1dceff(0xa11)]?.[_0x1dceff(0x6dc)]()??void 0x0};const {inputTokens:_0x131961=0x0,outputTokens:_0x1a4156=0x0,context:_0x5b3132=[]}=_0x58f329;await _0x207c2c[_0x1dceff(0x6c6)]({'jobType':_0x165f57[_0x1dceff(0xd6)],'type':_0x34b9b7[_0x1dceff(0x1c3)],'jobId':_0x499597,'agentId':_0x190dd8,'threadId':_0x5468ad[_0x1dceff(0x78c)],'traceLevel':_0x5de0eb[_0x1dceff(0x491)],'startTime':_0x4b1973,'timestamp':Date[_0x1dceff(0x9e1)](),'blockId':_0xd5e303['id'],'status':_0x1dceff(0x11c),'output':_0x201f5c,'prompt':_0x5468ad[_0x1dceff(0x1d9)],'agentName':'','history':_0x5468ad['history']??[],'instructions':''+(_0x5468ad[_0x1dceff(0x2b7)]??''),'ragContext':_0x5b3132,'inputTokens':_0x131961,'outputTokens':_0x1a4156});}(_0xd24703,_0x27d002,_0x361242,_0x315cf6[_0x4cb98e(0xa68)],{'documentParserConnector':this['documentParserConnector'],'fileConnector':this[_0x4cb98e(0x178)],'nlpLibraryConnector':this[_0x4cb98e(0x120)],'generativeAIWorkerConnectors':this[_0x4cb98e(0x72d)],'models':Array[_0x4cb98e(0x7f9)](this[_0x4cb98e(0xa0d)][_0x4cb98e(0x449)]()),'contentMediator':this[_0x4cb98e(0x8d9)],'searchConnector':this['searchConnector'],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this[_0x4cb98e(0xfc)]}))yield _0x48a595;}if(_0x4cb98e(0x4c2)===_0x27d002[_0x4cb98e(0x7f3)]){for await(const _0x3b4b9c of async function*(_0x52863e,_0x1e59ae,_0x432468){const _0x5101fe=_0x4cb98e,_0x45f2b4=(0x0,_0x233c4d['v4'])(),_0x49e711={'type':'prompt','context':[],'internalContext':_0x1e59ae[_0x5101fe(0x37e)]??{},'inputTokens':0x0,'outputTokens':0x0},_0x42d8bd=new _0x1531f3();!async function(_0x50c9cd,_0x5aac3e,_0x86c4b1,_0x568cd2,_0x3097cb,_0x1c16f0){const _0x47c65c=_0x5101fe,_0x7c7f9b=_0x1c16f0[_0x47c65c(0xa0d)][_0x47c65c(0x999)](_0x2a1e9f=>_0x2a1e9f['id']===_0x86c4b1[_0x47c65c(0x74d)]);if(!_0x7c7f9b)throw new Error(_0x47c65c(0x1ea));const _0x3b422b=_0x1c16f0['generativeAIWorkerConnectors'][_0x47c65c(0x999)](_0x3f10b8=>_0x3f10b8[_0x47c65c(0x754)]()===_0x7c7f9b['engineType']);if(!_0x3b422b)throw new Error(_0x47c65c(0x587));const _0x1e7547={'type':'prompt','output':''},_0x114e6a=await _0x12ecd6(_0x50c9cd,_0x5aac3e,_0x86c4b1,_0x568cd2,_0x86c4b1['tools']??[],_0x1c16f0,_0x3097cb);for await(const _0x4f2cc6 of _0x3b422b['processJobStream']({'type':_0x47c65c(0x1d9),'prompt':_0x86c4b1['prompt'],'instructions':_0x86c4b1[_0x47c65c(0x2b7)],'reasoning':_0x86c4b1[_0x47c65c(0xda)],'grammar':_0x86c4b1['grammar'],'temperature':_0x86c4b1[_0x47c65c(0x111)],'maxTokens':_0x86c4b1[_0x47c65c(0x7a2)],'history':_0x86c4b1['history'],'functions':_0x114e6a,'threadId':_0x86c4b1['threadId']},{'model':_0x7c7f9b,'sequences':Array[_0x47c65c(0x7f9)](_0x114e6a[_0x47c65c(0xca)]())['some'](_0x973974=>_0x973974[_0x47c65c(0x1c5)]('executeAgent'))?0x2:0x1}))_0x3097cb[_0x47c65c(0x801)](_0x4f2cc6),'string'==typeof _0x1e7547['output']&&_0x47c65c(0x630)==typeof _0x4f2cc6['output']&&(_0x1e7547[_0x47c65c(0x670)]+=_0x4f2cc6[_0x47c65c(0x670)]),_0x1e7547[_0x47c65c(0x490)]=_0x4f2cc6['inputTokens'],_0x1e7547[_0x47c65c(0x9d0)]=_0x4f2cc6[_0x47c65c(0x9d0)];_0x3097cb['emit'](void 0x0);}(_0x52863e,_0x45f2b4,_0x1e59ae,_0x49e711,_0x42d8bd,_0x432468);let _0x25db84='',_0x527392={'type':_0x5101fe(0x1d9)};for(;;){const _0xe147cf=await _0x42d8bd['once']();if(!_0xe147cf)break;_0x25db84+=_0xe147cf['output'],_0x527392={'type':_0x5101fe(0x1d9),'output':_0xe147cf['output'],'context':_0x49e711[_0x5101fe(0x569)],'internalContext':{},'inputTokens':(_0x49e711['inputTokens']??0x0)+(_0xe147cf[_0x5101fe(0x490)]??0x0),'outputTokens':(_0x49e711[_0x5101fe(0x9d0)]??0x0)+(_0xe147cf[_0x5101fe(0x9d0)]??0x0)},yield _0x527392;}yield{..._0x527392,'output':'','internalContext':_0x49e711[_0x5101fe(0x37e)]??{}};}(_0xd24703,_0x27d002,{'documentParserConnector':this['documentParserConnector'],'fileConnector':this[_0x4cb98e(0x178)],'nlpLibraryConnector':this[_0x4cb98e(0x120)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':Array[_0x4cb98e(0x7f9)](this['models']['values']()),'contentMediator':this[_0x4cb98e(0x8d9)],'searchConnector':this[_0x4cb98e(0x4af)],'aiSearchConnector':this[_0x4cb98e(0x53b)],'queryFileConnector':this['queryFileConnector']}))yield _0x3b4b9c;}}async['startTracing'](_0x2a2798,_0x21a60e){const _0x52b9ad=_0x120045;if(_0x52b9ad(0x650)===_0x21a60e[_0x52b9ad(0x7f3)])return _0x2a2798=_0x21a60e['jobId'],void await this['openTrace'](_0x2a2798,_0x21a60e[_0x52b9ad(0x11b)],_0x21a60e[_0x52b9ad(0x8a4)]);await this[_0x52b9ad(0x85e)](_0x2a2798,_0x21a60e[_0x52b9ad(0x11b)],_0x21a60e[_0x52b9ad(0x8a4)],_0x21a60e[_0x52b9ad(0x78c)]),await _0x207c2c[_0x52b9ad(0x6c6)]({'jobType':_0x165f57[_0x52b9ad(0x81e)],'type':_0x161eea[_0x52b9ad(0x5c5)],'traceLevel':_0x5de0eb[_0x52b9ad(0x491)],'jobId':_0x2a2798,'threadId':_0x21a60e[_0x52b9ad(0x78c)],'startTime':Date[_0x52b9ad(0x9e1)](),'timestamp':Date['now'](),'status':_0x52b9ad(0x11c)});}async[_0x120045(0x936)](_0x15a9c5,_0x5bce12){const _0x2ef45c=_0x120045;if(_0x2ef45c(0x650)===_0x5bce12[_0x2ef45c(0x7f3)])return _0x15a9c5=_0x5bce12[_0x2ef45c(0x109)],void await this['closeTrace'](_0x15a9c5);await _0x207c2c['trace']({'jobType':_0x165f57['Job'],'type':_0x161eea[_0x2ef45c(0x481)],'traceLevel':_0x5de0eb['Info'],'jobId':_0x15a9c5,'threadId':_0x5bce12[_0x2ef45c(0x78c)],'startTime':Date[_0x2ef45c(0x9e1)](),'timestamp':Date[_0x2ef45c(0x9e1)](),'status':_0x2ef45c(0x11c)}),await this[_0x2ef45c(0x64f)](_0x15a9c5,_0x5bce12[_0x2ef45c(0x78c)]);}[_0x120045(0x2fb)](_0x2f0f52){const _0x31874d=_0x120045;switch(_0x2f0f52['type']){case _0x2ec795[_0x31874d(0x580)]:case _0x2ec795[_0x31874d(0xd4)]:return _0x31874d(0x48e)+_0x2f0f52[_0x31874d(0x5eb)]['replace'](/[^a-zA-Z]/g,'');case _0x2ec795['DataCollection']:case _0x2ec795[_0x31874d(0x9d8)]:return'searchInDataCollection'+_0x2f0f52[_0x31874d(0x5eb)]['replace'](/[^a-zA-Z]/g,'');case _0x2ec795[_0x31874d(0x367)]:return _0x2f0f52[_0x31874d(0x5eb)][_0x31874d(0x6f2)](/[^a-zA-Z]/g,'');case _0x2ec795[_0x31874d(0x417)]:return'searchOnPerplexity';case _0x2ec795[_0x31874d(0x28d)]:return _0x31874d(0x776);case _0x2ec795[_0x31874d(0x339)]:return _0x31874d(0x6b8);case _0x2ec795[_0x31874d(0x3b1)]:case _0x2ec795[_0x31874d(0x30f)]:return _0x31874d(0x340);default:return'';}}[_0x120045(0xa28)](_0x33a86f){const _0x45fc35=_0x120045;switch(_0x33a86f['type']){case _0x2ec795['Agent']:case _0x2ec795['AgentSkill']:return _0x45fc35(0xa65)+_0x33a86f[_0x45fc35(0x9fd)]+'\x20to\x20generate\x20a\x20response.';case _0x2ec795['DataCollection']:case _0x2ec795[_0x45fc35(0x9d8)]:return'Search\x20in\x20data\x20collection\x20'+_0x33a86f['description']+_0x45fc35(0x1c2);case _0x2ec795[_0x45fc35(0x367)]:return'Execute\x20skill\x20'+_0x33a86f['description'];case _0x2ec795['AiSearch']:return _0x45fc35(0xa4a);case _0x2ec795[_0x45fc35(0x28d)]:return'Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.';case _0x2ec795[_0x45fc35(0x339)]:return'Perform\x20a\x20search\x20on\x20Google\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.';case _0x2ec795[_0x45fc35(0x3b1)]:case _0x2ec795[_0x45fc35(0x30f)]:return _0x45fc35(0x8d1);default:return'';}}[_0x120045(0x299)](_0x20823d){const _0x4f1169=_0x120045;switch(_0x20823d[_0x4f1169(0x7f3)]){case _0x2ec795[_0x4f1169(0x580)]:case _0x2ec795[_0x4f1169(0xd4)]:return[{'name':'prompt','type':_0x4f1169(0x630)}];case _0x2ec795[_0x4f1169(0x22f)]:case _0x2ec795[_0x4f1169(0x9d8)]:return[{'name':_0x4f1169(0x1b9),'type':_0x4f1169(0x630)}];case _0x2ec795[_0x4f1169(0x367)]:return _0x20823d[_0x4f1169(0x8b1)]['map'](_0xcfd74=>({'name':_0xcfd74[_0x4f1169(0x5eb)],'type':_0xcfd74[_0x4f1169(0x7f3)]??_0x4f1169(0x630)}))??[];case _0x2ec795[_0x4f1169(0x417)]:return[{'name':'query','type':_0x4f1169(0x630)}];case _0x2ec795['Code']:return[{'name':_0x4f1169(0x626),'type':_0x4f1169(0x630)}];case _0x2ec795[_0x4f1169(0x339)]:return[{'name':_0x4f1169(0x893),'type':_0x4f1169(0x630)}];case _0x2ec795[_0x4f1169(0x3b1)]:case _0x2ec795[_0x4f1169(0x30f)]:return[{'name':_0x4f1169(0x812),'type':_0x4f1169(0x630)},{'name':'page','type':'number'}];default:return[];}}[_0x120045(0x553)](){const _0x20acf3=_0x120045;try{return this[_0x20acf3(0xd9)]['getCapacityReport']()[_0x20acf3(0x85d)][_0x20acf3(0x2e8)]*(0x1-this['capacityReporter'][_0x20acf3(0x6d6)]()[_0x20acf3(0x85d)][_0x20acf3(0xa2b)]);}catch(_0x321b87){return _0x1b1d61[_0x20acf3(0xed)](_0x185607[_0x20acf3(0x41c)],'JobWorker:\x20Error\x20getting\x20cores\x20from\x20capacity\x20report',_0x321b87),0x0;}}[_0x120045(0x3b4)](){const _0x179c46=_0x120045;this[_0x179c46(0x3ce)]&&(this[_0x179c46(0x219)]&&clearTimeout(this['debounceStats']),this[_0x179c46(0x219)]=setTimeout(async()=>{const _0x3351c6=_0x179c46;delete this[_0x3351c6(0x219)];let _0x21e357=0x0;for(const _0x3f837b of this['dataStores']['values']())_0x21e357+=await _0x3f837b[_0x3351c6(0x356)]();this[_0x3351c6(0xa45)]['publish']({'sourceId':_0x40bfc5,'messageType':_0x435438[_0x3351c6(0x9a6)],'content':{'type':_0x46be06[_0x3351c6(0x773)],'label':this[_0x3351c6(0x573)],'stats':{'timestamp':Date['now'](),'storage':_0x21e357,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x3351c6(0x996)],'bytesSent':this[_0x3351c6(0x88e)],'bytesReceived':this['bytesReceived'],'writes':0x0,'reads':0x0,'prompts':this[_0x3351c6(0xa3a)],'tokens':this['tokens']}}});},_0x4e96c3));}[_0x120045(0x7a0)](_0x12354b,_0x23614f){const _0x31239d=_0x120045,_0x5d8a23=this[_0x31239d(0x573)],_0x172d95=this[_0x31239d(0x711)]();_0x1b1d61[_0x31239d(0x7a0)](_0x3baa96[_0x31239d(0x870)],{'topic':_0x5d8a23,'type':_0x31239d(0xa01),'nodeId':_0x172d95,'tokenCount':_0x23614f,'tokensPerSecond':_0x12354b});}async[_0x120045(0x85e)](_0x56a3bc,_0x49eee9,_0x38cbd7,_0x35e0f0){const _0x1f926d=_0x120045;try{if(!await _0x207c2c[_0x1f926d(0x85e)](_0x49eee9,_0x56a3bc,_0x38cbd7,_0x35e0f0))throw new Error(_0x1f926d(0x19a));return _0x56a3bc;}catch(_0x585a81){return console[_0x1f926d(0x525)](_0x1f926d(0x19a),_0x585a81),'Could\x20not\x20open\x20trace';}}async['closeTrace'](_0x967c3,_0x453923){const _0x4973a0=_0x120045;try{await _0x207c2c[_0x4973a0(0x64f)](_0x967c3,_0x453923);}catch(_0x2ece77){console[_0x4973a0(0x525)](_0x4973a0(0x7cb),{'jobId':_0x967c3,'error':_0x2ece77});}}['processRemoveContent'](_0x3441e1,_0x1b3803){const _0x13d880=_0x120045;for(const _0x3b1574 of _0x3441e1[_0x13d880(0x87b)]??[])_0x3b1574['type']===_0x3dead4[_0x13d880(0x76a)]&&this[_0x13d880(0x8d9)][_0x13d880(0x26d)](_0x3b1574['id'])['remove'](_0x1b3803),_0x3b1574['type']===_0x3dead4[_0x13d880(0x803)]&&this[_0x13d880(0x8d9)][_0x13d880(0x38b)](_0x3b1574['id'])['remove'](_0x1b3803);}}class _0x506213 extends _0x3ab0ee{['localNode'];[_0x120045(0xea)];[_0x120045(0x11b)];['db'];['debounceStats'];[_0x120045(0xcf)]=0x0;[_0x120045(0x9f6)]=0x0;[_0x120045(0x354)]=!0x1;constructor(_0x619ca7,_0x5112c7,_0x3d52b1,_0x9dfb2,_0x10c285){const _0xdcba99=_0x120045;if(_0xdcba99(0x630)!=typeof _0x5112c7)throw new _0x18939c(_0x15d29b[_0xdcba99(0x7f7)],'Cannot\x20create\x20Graph\x20Database:\x20Name\x20must\x20be\x20a\x20string');super(_0x619ca7,_0x5112c7),this[_0xdcba99(0x781)]=_0x619ca7,this[_0xdcba99(0xea)]=_0x3d52b1,this[_0xdcba99(0x11b)]=_0x9dfb2;const _0x53899c=_0xdcba99(0x678)+this['vendorId']+'ccc'+this[_0xdcba99(0xea)]+_0xdcba99(0x678)+this['label'];this['db']=new _0x10c285(_0x53899c),this[_0xdcba99(0x3b4)]();}[_0x120045(0x45d)](){const _0x6213d0=_0x120045;return this[_0x6213d0(0x354)];}['setIsLoaded'](_0x30fc41){const _0x58512f=_0x120045;this[_0x58512f(0x354)]=_0x30fc41;}['destroy'](){const _0x435c56=_0x120045;clearTimeout(this[_0x435c56(0x219)]),delete this[_0x435c56(0x219)],super['destroy']();}['close'](){const _0x4d6064=_0x120045;this['systemTopic'][_0x4d6064(0x552)]({'sourceId':_0x40bfc5,'messageType':_0x435438[_0x4d6064(0x9a6)],'content':{'type':_0x46be06['CloseGraphDatabase'],'label':this[_0x4d6064(0x573)]}});}[_0x120045(0x729)](){const _0x5781ff=_0x120045;return _0x4e2564[_0x5781ff(0x8be)]['GraphDatabase'];}['reset'](){this['sendStats']();}['addNode'](_0x3a4872,_0x12d255,_0x4a9c95,_0x3b7490){const _0x1c97fd=_0x120045;this['db']['addNode'](_0x3a4872,_0x12d255,_0x4a9c95,_0x3b7490),this[_0x1c97fd(0xcf)]+=0x1,this[_0x1c97fd(0x3b4)]();}[_0x120045(0x4a5)](_0xf7dbab,_0x54ab2a){const _0x5374f1=_0x120045;this['db'][_0x5374f1(0x4a5)](_0xf7dbab,_0x54ab2a),this[_0x5374f1(0xcf)]+=0x1,this[_0x5374f1(0x3b4)]();}[_0x120045(0x522)](_0x1dc894,_0x3af50c,_0x54ae03){const _0x4612f7=_0x120045,_0x45c219=this['db'][_0x4612f7(0x522)](_0x1dc894,_0x3af50c,_0x54ae03);return this[_0x4612f7(0x9f6)]+=0x1,_0x1b1d61['logServiceEvent'](_0x3baa96[_0x4612f7(0x803)],{'type':'get-content','label':this[_0x4612f7(0x573)],'nodeId':this[_0x4612f7(0x781)]['getId'](),'nodeType':this['localNode'][_0x4612f7(0x7f3)],'clusterId':this[_0x4612f7(0xea)],'size':0x0}),this['sendStats'](),_0x45c219;}[_0x120045(0x707)](_0xb79f43){const _0x34cf1e=_0x120045;this['db'][_0x34cf1e(0x707)](_0xb79f43),this[_0x34cf1e(0xcf)]+=0x1,this[_0x34cf1e(0x3b4)]();}[_0x120045(0x6ed)](_0x513315){const _0x3086d0=_0x120045;this['db'][_0x3086d0(0x6ed)](_0x513315);}[_0x120045(0x8aa)](_0x28f8b9){this['db']['loadFromDisk'](_0x28f8b9);}[_0x120045(0x3b4)](){const _0xec62c2=_0x120045;this['debounceStats']&&clearTimeout(this[_0xec62c2(0x219)]),this[_0xec62c2(0x219)]=setTimeout(async()=>{const _0x36f242=_0xec62c2;delete this[_0x36f242(0x219)];const _0xb6a4f2=this['db'][_0x36f242(0x356)]();this[_0x36f242(0xa45)][_0x36f242(0x552)]({'sourceId':_0x40bfc5,'messageType':_0x435438[_0x36f242(0x9a6)],'content':{'type':_0x46be06[_0x36f242(0x7e4)],'label':this[_0x36f242(0x573)],'stats':{'timestamp':Date[_0x36f242(0x9e1)](),'storage':_0xb6a4f2,'messagesSent':this[_0x36f242(0x171)],'messagesReceived':this[_0x36f242(0x996)],'bytesSent':this['bytesSent'],'bytesReceived':this['bytesReceived'],'writes':this[_0x36f242(0xcf)],'reads':this[_0x36f242(0x9f6)],'prompts':0x0,'tokens':0x0}}}),_0x1b1d61[_0x36f242(0x6d9)](_0x3baa96['GraphDatabase'],_0x36f242(0x678)+this[_0x36f242(0xea)]+'ccc'+this['label'],_0xb6a4f2);},_0x4e96c3);}}class _0x1851f7 extends _0x268319{[_0x120045(0x829)];constructor(_0x2c0d74,_0x2e13d2,_0x39c36e){const _0x2b4f0f=_0x120045;super(_0x2c0d74,_0x2e13d2),this[_0x2b4f0f(0x829)]=_0x39c36e;}[_0x120045(0x729)](){const _0x111576=_0x120045;return _0x4e2564[_0x111576(0x8be)]['Media'];}['getMediaStream'](){const _0x3db1a5=_0x120045;return this[_0x3db1a5(0x829)];}['getInternalStreamId'](){return this['mediaStream']['id'];}}class _0x40f91b extends _0x1851f7{[_0x120045(0x831)];[_0x120045(0x3a0)];[_0x120045(0x38e)];['unregisterPublisherListener']=_0x50ebb3();constructor(_0x24a18a,_0x11fb21,_0x537d58,_0x335e86,_0x3709d5){const _0x709362=_0x120045;super(_0x24a18a,_0x11fb21,_0x537d58),this[_0x709362(0x831)]=_0x335e86,this[_0x709362(0x3a0)]=_0x3709d5;}['destroy'](){const _0x2422a1=_0x120045;this[_0x2422a1(0x269)](_0x2422a1(0x28e)),this[_0x2422a1(0x269)](_0x2422a1(0x7b7)),super[_0x2422a1(0x4d9)]();}[_0x120045(0x864)](_0x39dd49){const _0x1ca7b4=_0x120045;if(!this['topic'])throw new _0x4a916f(_0x4a916f[_0x1ca7b4(0xa30)]['OutgoingMediaStreamNoTopic'],{'label':this[_0x1ca7b4(0x573)],'ownerId':this[_0x1ca7b4(0x185)][_0x1ca7b4(0xd7)](),'remoteId':this['remoteId']});this['topic'][_0x1ca7b4(0x552)]({'sourceId':this[_0x1ca7b4(0x185)][_0x1ca7b4(0xd7)](),'content':{'action':_0x436c52['Add'],'track':_0x39dd49,'stream':this['mediaStream'],'priority':_0x4e2564[_0x1ca7b4(0x34f)][_0x1ca7b4(0x87a)],'params':this[_0x1ca7b4(0x2ef)](_0x39dd49[_0x1ca7b4(0x74a)],this[_0x1ca7b4(0x3a0)])}});}[_0x120045(0x269)](_0xaf3ff1){const _0x26760a=_0x120045,_0x317d06=this[_0x26760a(0x6a5)](_0xaf3ff1);if(_0x317d06){if(!this[_0x26760a(0x38e)])return null;this[_0x26760a(0x38e)]['publish']({'sourceId':this[_0x26760a(0x185)][_0x26760a(0xd7)](),'content':{'action':_0x436c52[_0x26760a(0x226)],'track':_0x317d06,'stream':this['mediaStream']}});}return _0x317d06;}[_0x120045(0x26c)](_0x23fd6f){const _0x2ad5c1=_0x120045;if(!this['topic'])throw new _0x4a916f(_0x4a916f[_0x2ad5c1(0xa30)]['OutgoingMediaStreamNoTopic'],{'label':this[_0x2ad5c1(0x573)],'ownerId':this[_0x2ad5c1(0x185)][_0x2ad5c1(0xd7)](),'remoteId':this[_0x2ad5c1(0x831)]});this[_0x2ad5c1(0x38e)][_0x2ad5c1(0x552)]({'sourceId':this[_0x2ad5c1(0x185)][_0x2ad5c1(0xd7)](),'content':{'action':_0x436c52[_0x2ad5c1(0x1fd)],'priority':_0x23fd6f,'stream':this[_0x2ad5c1(0x829)]}});}[_0x120045(0x8f0)]({trackKinds:_0x23c70d,params:_0x19ed6e},_0x221c27){const _0x266793=_0x120045;if(!this['topic'])throw new _0x4a916f(_0x4a916f[_0x266793(0xa30)]['OutgoingMediaStreamNoTopic'],{'label':this[_0x266793(0x573)],'ownerId':this['owner']['getId'](),'remoteId':this[_0x266793(0x831)]});for(const _0x212c3c of this[_0x266793(0x829)][_0x266793(0x258)]())_0x23c70d['includes'](_0x212c3c['kind'])&&this[_0x266793(0x38e)][_0x266793(0x552)]({'sourceId':this[_0x266793(0x185)][_0x266793(0xd7)](),'content':{'action':_0x436c52[_0x266793(0x4e2)],'track':_0x212c3c,'stream':this[_0x266793(0x829)],'priority':_0x221c27,'params':this[_0x266793(0x2ef)](_0x212c3c[_0x266793(0x74a)],_0x19ed6e)}});}[_0x120045(0x245)]({params:_0x15d9f8}){const _0x44d926=_0x120045;if(!this[_0x44d926(0x38e)])throw new _0x4a916f(_0x4a916f[_0x44d926(0xa30)][_0x44d926(0x891)],{'label':this[_0x44d926(0x573)],'ownerId':this[_0x44d926(0x185)][_0x44d926(0xd7)](),'remoteId':this[_0x44d926(0x831)]});for(const _0x3ba1dc of this[_0x44d926(0x829)][_0x44d926(0x258)]())this['topic'][_0x44d926(0x552)]({'sourceId':this[_0x44d926(0x185)][_0x44d926(0xd7)](),'content':{'action':_0x436c52[_0x44d926(0x1fd)],'stream':this[_0x44d926(0x829)],'params':this[_0x44d926(0x2ef)](_0x3ba1dc[_0x44d926(0x74a)],_0x15d9f8)}});}[_0x120045(0x236)]({trackKinds:_0x4e2813}){const _0x33bbc4=_0x120045;if(this[_0x33bbc4(0x38e)]){for(const _0x3210a7 of this[_0x33bbc4(0x829)]['getTracks']())_0x4e2813['includes'](_0x3210a7['kind'])&&this[_0x33bbc4(0x38e)][_0x33bbc4(0x552)]({'sourceId':this[_0x33bbc4(0x185)][_0x33bbc4(0xd7)](),'content':{'action':_0x436c52['Remove'],'stream':this['mediaStream'],'track':_0x3210a7}});}}[_0x120045(0x1d7)](_0xfe6e8f){const _0x24546f=_0x120045;this[_0x24546f(0x38e)]=_0xfe6e8f;}[_0x120045(0x564)](_0xac2262){const _0x49b4ca=_0x120045;_0xac2262===this[_0x49b4ca(0x38e)]&&(delete this[_0x49b4ca(0x38e)],this['unregisterPublisherListener'][_0x49b4ca(0x552)]());}[_0x120045(0x98b)](_0xaf8b60){const _0x3b6a3f=_0x120045;return this[_0x3b6a3f(0x4c1)][_0x3b6a3f(0x8f0)](_0xaf8b60);}[_0x120045(0x6a5)](_0x3e4756){const _0x23ea79=_0x120045;return this['mediaStream'][_0x23ea79(0x258)]()[_0x23ea79(0x999)](_0x47882f=>_0x47882f[_0x23ea79(0x74a)]===_0x3e4756)||null;}['getInternalTrackParams'](_0x4ceb9a,_0x519c72){const _0x3b1a7a=_0x120045;let _0x5c8df9;return'video'===_0x4ceb9a&&_0x519c72?.['video']&&_0x3b1a7a(0x6fe)!=typeof _0x519c72['video']&&(_0x5c8df9={'kind':_0x3b1a7a(0x7b7),..._0x519c72[_0x3b1a7a(0x7b7)]},_0x5c8df9['resolution']=this['getResolution']()),_0x3b1a7a(0x28e)===_0x4ceb9a&&_0x519c72?.['audio']&&_0x3b1a7a(0x6fe)!=typeof _0x519c72[_0x3b1a7a(0x28e)]&&(_0x5c8df9={'kind':_0x3b1a7a(0x28e),..._0x519c72[_0x3b1a7a(0x28e)]}),_0x5c8df9;}[_0x120045(0x6e6)](){const _0x509087=_0x120045;let _0x2474ce={'width':0x0,'height':0x0};const _0x596c62=this[_0x509087(0x829)][_0x509087(0xf7)]();if(_0x596c62['length']>0x0){const _0x1aebe8=_0x596c62[0x0]['getSettings']();_0x1aebe8[_0x509087(0x5c6)]&&_0x1aebe8['height']&&(_0x2474ce={'width':_0x1aebe8[_0x509087(0x5c6)],'height':_0x1aebe8[_0x509087(0xa0b)]});}return _0x2474ce;}}class _0x247d8e extends _0x1851f7{['clusterId'];[_0x120045(0x716)]=_0x4e2564[_0x120045(0x34f)][_0x120045(0x87a)];[_0x120045(0xa67)]=new Map();[_0x120045(0x54a)]=new Map();constructor(_0x8ad97c,_0xd96a16,_0x3f628b,_0x57962a){const _0x21bdcd=_0x120045;super(_0x8ad97c,_0xd96a16,_0x3f628b instanceof MediaStream?_0x3f628b:_0x3f628b['srcObject']?_0x3f628b[_0x21bdcd(0x822)]:_0x3f628b[_0x21bdcd(0x49b)]()),this[_0x21bdcd(0xea)]=_0x57962a,this[_0x21bdcd(0x829)][_0x21bdcd(0x258)]()[_0x21bdcd(0x311)](_0x18fdf3=>this['setupTrackEndedListeners'](_0x18fdf3)),_0x1b1d61['logServiceEvent'](_0x3baa96[_0x21bdcd(0x7f1)],{'type':_0x21bdcd(0x552),'label':this[_0x21bdcd(0x573)],'nodeId':this['owner'][_0x21bdcd(0xd7)](),'nodeType':this[_0x21bdcd(0x185)]['type'],'clusterId':this['clusterId'],'streamId':this[_0x21bdcd(0x3d9)](),'trackKinds':this[_0x21bdcd(0x829)][_0x21bdcd(0x258)]()[_0x21bdcd(0x760)](_0x166710=>_0x166710[_0x21bdcd(0x74a)])});}[_0x120045(0x4d9)](){const _0x562a0d=_0x120045;this[_0x562a0d(0x54a)][_0x562a0d(0x625)]>0x0&&(this[_0x562a0d(0x54a)][_0x562a0d(0x311)](_0x14c1bb=>{const _0x30ca62=_0x562a0d;_0x14c1bb[_0x30ca62(0x12a)](),_0x14c1bb[_0x30ca62(0x4d9)]();}),this['outgoingStreams'][_0x562a0d(0x960)]()),this[_0x562a0d(0xa67)][_0x562a0d(0x311)](_0x4ca27c=>_0x4ca27c()),super[_0x562a0d(0x4d9)]();}['publish'](_0x3acb69){const _0x3ed81d=_0x120045;this[_0x3ed81d(0xa45)]['publish']({'sourceId':this[_0x3ed81d(0x185)][_0x3ed81d(0xd7)](),'destinationIds':_0x3acb69?[_0x3acb69]:void 0x0,'propagate':!0x0,'messageType':_0x435438[_0x3ed81d(0x9a6)],'content':{'type':_0x46be06[_0x3ed81d(0x952)],'ownerId':this['owner'][_0x3ed81d(0xd7)](),'label':this[_0x3ed81d(0x573)],'stream':{'streamId':this[_0x3ed81d(0x3d9)](),'availableTrackKinds':this[_0x3ed81d(0x829)][_0x3ed81d(0x258)]()[_0x3ed81d(0x760)](_0x206e29=>_0x206e29[_0x3ed81d(0x74a)])}}});}[_0x120045(0x156)](){const _0x56c3f8=_0x120045;this[_0x56c3f8(0xa45)][_0x56c3f8(0x552)]({'sourceId':this[_0x56c3f8(0x185)][_0x56c3f8(0xd7)](),'propagate':!0x0,'messageType':_0x435438[_0x56c3f8(0x9a6)],'content':{'type':_0x46be06[_0x56c3f8(0x227)],'ownerId':this[_0x56c3f8(0x185)]['getId'](),'label':this['label']}}),this[_0x56c3f8(0xa45)]['publish']({'sourceId':_0x40bfc5,'messageType':_0x435438['Content'],'content':{'type':_0x46be06[_0x56c3f8(0x8f7)],'label':this[_0x56c3f8(0x573)]}}),_0x1b1d61[_0x56c3f8(0x7a0)](_0x3baa96[_0x56c3f8(0x7f1)],{'type':_0x56c3f8(0x156),'label':this[_0x56c3f8(0x573)],'nodeId':this[_0x56c3f8(0x185)][_0x56c3f8(0xd7)](),'nodeType':this[_0x56c3f8(0x185)][_0x56c3f8(0x7f3)],'clusterId':this[_0x56c3f8(0xea)],'streamId':this[_0x56c3f8(0x3d9)]()});}[_0x120045(0x752)](){return this['priority'];}[_0x120045(0x26c)](_0x444c78){const _0xe8f5f3=_0x120045;this[_0xe8f5f3(0x716)]=_0x444c78,this[_0xe8f5f3(0x54a)][_0xe8f5f3(0x311)](_0x3dbe31=>_0x3dbe31[_0xe8f5f3(0x26c)](_0x444c78));}[_0x120045(0x6fc)](_0x37cd94,_0x1990ff){const _0x50be14=_0x120045;if(!this[_0x50be14(0x54a)][_0x50be14(0x5a8)](_0x37cd94)){const _0x5d992d=new _0x40f91b(this[_0x50be14(0x185)],this[_0x50be14(0x573)],this[_0x50be14(0x829)],_0x37cd94,_0x1990ff),_0x1081f1=_0x5d992d[_0x50be14(0x98b)](()=>{const _0x3a4d2a=_0x50be14;_0x1081f1(),this[_0x3a4d2a(0x54a)][_0x3a4d2a(0x7e9)](_0x37cd94)?.[_0x3a4d2a(0x4d9)](),this[_0x3a4d2a(0x54a)]['delete'](_0x37cd94);});this[_0x50be14(0x54a)][_0x50be14(0x381)](_0x37cd94,_0x5d992d),_0x5d992d[_0x50be14(0x67d)](this[_0x50be14(0xa45)]);}return this['outgoingStreams']['get'](_0x37cd94);}[_0x120045(0x23e)](){const _0x52348d=_0x120045;return this[_0x52348d(0x829)]['id'];}['handleLocalTrackFailure'](_0x3fa501){const _0x460fdf=_0x120045;this[_0x460fdf(0xa45)]['publish']({'sourceId':_0x40bfc5,'messageType':_0x435438['Content'],'content':{'type':_0x46be06['LocalMediaStreamTrackFail'],'label':this[_0x460fdf(0x573)],'trackKinds':[_0x3fa501[_0x460fdf(0x74a)]]}});}[_0x120045(0x866)](_0x139d08){const _0xfbeb02=_0x120045,_0x302540=()=>this[_0xfbeb02(0x2f4)](_0x139d08);_0x139d08[_0xfbeb02(0x56b)](_0xfbeb02(0x9fb),_0x302540),_0x139d08[_0xfbeb02(0x56b)](_0xfbeb02(0x560),_0x302540),this['trackEndedListeners'][_0xfbeb02(0x381)](_0x139d08[_0xfbeb02(0x74a)],()=>{const _0x16e295=_0xfbeb02;_0x139d08[_0x16e295(0x114)](_0x16e295(0x9fb),_0x302540),_0x139d08[_0x16e295(0x114)](_0x16e295(0x560),_0x302540),this[_0x16e295(0xa67)][_0x16e295(0xa10)](_0x139d08[_0x16e295(0x74a)]);});}}class _0x3265f2 extends _0x247d8e{[_0x120045(0x5a5)];[_0x120045(0x3a3)]=[];[_0x120045(0x106)];[_0x120045(0x7a7)];[_0x120045(0x5a3)];[_0x120045(0x140)];['canvas'];['context'];[_0x120045(0xa80)];constructor(_0x45ade1,_0x2fc16b,_0x1ddb5f,_0x5e3e63,_0x2329a5,_0x404d1f){const _0x49b32f=_0x120045;if(super(_0x45ade1,_0x2fc16b,_0x1ddb5f,_0x404d1f),this['audioContext']=_0x2329a5,this[_0x49b32f(0x106)]=this[_0x49b32f(0x829)],this[_0x49b32f(0x140)]=document['createElement']('video'),this['sourceVideo'][_0x49b32f(0x624)]=!0x0,this['sourceVideo'][_0x49b32f(0x835)]=!0x0,this['sourceVideo'][_0x49b32f(0x822)]=this[_0x49b32f(0x106)],this['sourceVideo']['load'](),this[_0x49b32f(0x140)]['onloadeddata']=()=>{const _0x56f237=_0x49b32f;this['sourceVideo'][_0x56f237(0x138)]();},this[_0x49b32f(0x4ce)]=document[_0x49b32f(0x5ff)](_0x49b32f(0x4ce)),this[_0x49b32f(0x569)]=this[_0x49b32f(0x4ce)][_0x49b32f(0x89f)]('2d'),this[_0x49b32f(0x829)]=this[_0x49b32f(0x4ce)][_0x49b32f(0x49b)](_0x5e3e63),this[_0x49b32f(0x5a3)]=this['audioContext'][_0x49b32f(0x295)](),this['clientStream'][_0x49b32f(0x6cb)]()[_0x49b32f(0x59d)]>0x0){const _0x287b42=this[_0x49b32f(0x106)][_0x49b32f(0x6cb)]()[0x0];this[_0x49b32f(0x7a7)]=this['audioContext'][_0x49b32f(0xdb)](new MediaStream([_0x287b42])),this[_0x49b32f(0x7a7)][_0x49b32f(0x842)](this[_0x49b32f(0x5a3)]);}const _0xe4d4fd=this[_0x49b32f(0x5a3)][_0x49b32f(0x815)]['getTracks']()[0x0];this['mediaStream']['addTrack'](_0xe4d4fd),this['interval']=setInterval(()=>{const _0x3c8ef9=_0x49b32f;this['canvas'][_0x3c8ef9(0x5c6)]=this[_0x3c8ef9(0x140)][_0x3c8ef9(0x493)],this[_0x3c8ef9(0x4ce)][_0x3c8ef9(0xa0b)]=this[_0x3c8ef9(0x140)][_0x3c8ef9(0x788)],this[_0x3c8ef9(0x140)][_0x3c8ef9(0x493)]?(0x0!==this['clientStream'][_0x3c8ef9(0xf7)]()[_0x3c8ef9(0x59d)]&&this['clientStream'][_0x3c8ef9(0xf7)]()[0x0][_0x3c8ef9(0x14f)]?this[_0x3c8ef9(0x829)][_0x3c8ef9(0xf7)]()[0x0][_0x3c8ef9(0x14f)]=!0x0:this[_0x3c8ef9(0x829)][_0x3c8ef9(0xf7)]()[0x0]['enabled']=!0x1,0x0!==this['clientStream']['getAudioTracks']()[_0x3c8ef9(0x59d)]&&this[_0x3c8ef9(0x106)][_0x3c8ef9(0x6cb)]()[0x0]['enabled']?this['mediaStream']['getAudioTracks']()[0x0]['enabled']=!0x0:this[_0x3c8ef9(0x829)]['getAudioTracks']()[0x0]['enabled']=!0x1,this[_0x3c8ef9(0x569)][_0x3c8ef9(0x36d)](this[_0x3c8ef9(0x140)],0x0,0x0)):this[_0x3c8ef9(0x569)][_0x3c8ef9(0x3ff)](0x0,0x0,this[_0x3c8ef9(0x4ce)][_0x3c8ef9(0x5c6)],this[_0x3c8ef9(0x4ce)]['height']);},0x3e8/_0x5e3e63);}[_0x120045(0x4d9)](){const _0x21ff8b=_0x120045;clearInterval(this[_0x21ff8b(0xa80)]),this[_0x21ff8b(0x140)][_0x21ff8b(0x707)](),this[_0x21ff8b(0x4ce)][_0x21ff8b(0x707)](),this[_0x21ff8b(0x7a7)]?.[_0x21ff8b(0x5f0)](),this[_0x21ff8b(0x5a3)][_0x21ff8b(0x5f0)](),this[_0x21ff8b(0x829)]['getTracks']()[_0x21ff8b(0x311)](_0x2627b7=>{const _0x24fe67=_0x21ff8b;_0x2627b7['stop'](),this[_0x24fe67(0x829)][_0x24fe67(0x269)](_0x2627b7);}),super[_0x21ff8b(0x4d9)]();}[_0x120045(0x864)](_0xbdb2c9){const _0x166811=_0x120045,_0x34e38d=this['getTrack'](_0xbdb2c9[_0x166811(0x74a)]);_0x34e38d&&this['removeTrack'](_0x34e38d),'audio'!==_0xbdb2c9[_0x166811(0x74a)]?(_0x166811(0x7b7)===_0xbdb2c9[_0x166811(0x74a)]&&this[_0x166811(0x43e)](_0xbdb2c9),this[_0x166811(0x866)](_0xbdb2c9)):this[_0x166811(0x513)](_0xbdb2c9);}[_0x120045(0x269)](_0x14b6fe){const _0x55b782=_0x120045,_0x5c82a3=this[_0x55b782(0x885)](_0x14b6fe);return _0x5c82a3&&(_0x55b782(0x28e)===_0x5c82a3[_0x55b782(0x74a)]&&(this[_0x55b782(0x7a7)]?.[_0x55b782(0x5f0)](),this[_0x55b782(0x7a7)]=void 0x0),this[_0x55b782(0xa67)]['get'](_0x5c82a3[_0x55b782(0x74a)])?.(),this[_0x55b782(0x106)][_0x55b782(0x269)](_0x5c82a3)),_0x5c82a3;}[_0x120045(0xa2f)](_0x54ff5c){const _0x5419aa=_0x120045;this[_0x5419aa(0x269)](_0x54ff5c[_0x5419aa(0x74a)]),this[_0x5419aa(0x864)](_0x54ff5c);}['setTransformations'](_0x3ef9d4){const _0x3e8887=_0x120045;this[_0x3e8887(0x3a3)]=_0x3ef9d4;}[_0x120045(0x6a5)](_0x29ce72){const _0x2e113c=_0x120045;return this['clientStream']['getTracks']()['find'](_0x5dab57=>_0x5dab57[_0x2e113c(0x74a)]===_0x29ce72)||null;}[_0x120045(0x885)](_0x1ae4a0){return'string'==typeof _0x1ae4a0?this['getTrack'](_0x1ae4a0):_0x1ae4a0;}[_0x120045(0x513)](_0x2b0ced){const _0x3c5682=_0x120045;_0x3c5682(0x6f6)===this[_0x3c5682(0x5a5)]['state']&&this[_0x3c5682(0x5a5)][_0x3c5682(0x684)](),this[_0x3c5682(0x106)][_0x3c5682(0x864)](_0x2b0ced),this[_0x3c5682(0x7a7)]=this[_0x3c5682(0x5a5)]['createMediaStreamSource'](this[_0x3c5682(0x106)]),this[_0x3c5682(0x7a7)]['connect'](this[_0x3c5682(0x5a3)]);}[_0x120045(0x43e)](_0x56c2a2){const _0x540778=_0x120045;this[_0x540778(0x106)][_0x540778(0x864)](_0x56c2a2),this[_0x540778(0x140)][_0x540778(0xa2b)]();}}class _0x40ed03 extends _0x247d8e{}class _0x4cc5d7 extends _0x3ab0ee{['localNode'];[_0x120045(0xea)];[_0x120045(0x11b)];[_0x120045(0x4e5)];['waitForArrayBufferSize'];['options'];['unsubscribeHandler'];['lastTransactionId'];['pendingSyncTransactions']=new Map();['objectRequests']=new Map();[_0x120045(0x771)]=new Map();[_0x120045(0x78d)]=new Map();['pendingFilesRename']=new Map();[_0x120045(0x31f)]=new Map();[_0x120045(0xa38)];[_0x120045(0x857)]=_0x29f207();[_0x120045(0x28b)]=new Map();[_0x120045(0x219)];[_0x120045(0xcf)]=0x0;['reads']=0x0;[_0x120045(0x8b7)]=!0x0;[_0x120045(0x658)]=!0x0;[_0x120045(0x410)]=0x0;[_0x120045(0x257)]=0x0;constructor(_0x2a8cf0,_0x12fb09,_0x53ba98,_0x4d9541,_0x1da8d9,_0x296c7c,_0x2b16e6,_0x48aa03){const _0x3df769=_0x120045;if('string'!=typeof _0x12fb09)throw new _0x18939c(_0x15d29b[_0x3df769(0x730)],_0x3df769(0x20a));super(_0x2a8cf0,_0x12fb09),this[_0x3df769(0x781)]=_0x2a8cf0,this[_0x3df769(0xea)]=_0x53ba98,this[_0x3df769(0x11b)]=_0x4d9541,this[_0x3df769(0x4e5)]=_0x1da8d9,this['waitForArrayBufferSize']=_0x2b16e6,this[_0x3df769(0x58d)]=_0x48aa03;const _0x22261f=_0x3df769(0x678)+this[_0x3df769(0x11b)]+_0x3df769(0x678)+this[_0x3df769(0xea)]+_0x3df769(0x678)+_0x12fb09;this[_0x3df769(0xa38)]=new _0x296c7c(_0x22261f),this[_0x3df769(0x8b7)]=this[_0x3df769(0x58d)]?.['syncContent']??!0x0,this[_0x3df769(0x58d)]?.[_0x3df769(0x836)]&&(this[_0x3df769(0x8b7)]=!0x1),this[_0x3df769(0x3b4)]();}['reset'](){const _0xef6624=_0x120045;this[_0xef6624(0x3b4)]();}[_0x120045(0x729)](){const _0xd82ca5=_0x120045;return _0x4e2564['ContentType'][_0xd82ca5(0x894)];}async[_0x120045(0x42e)](){const _0x111026=_0x120045;this['isSyncing']=!0x0;try{const _0x4117ed=await this[_0x111026(0xa38)][_0x111026(0x7e9)](_0x49dc0c),_0x248db9=await _0x4117ed[_0x111026(0x6dc)]();this[_0x111026(0x189)]=_0x248db9;}catch(_0x24d41e){}this[_0x111026(0xa2c)]=this[_0x111026(0x897)](async(_0x5e02fe,_0x37fdb1)=>{const _0x2cd9ee=_0x111026;if(!(_0x37fdb1 instanceof File))try{if(_0x37fdb1[_0x2cd9ee(0x6b2)]===_0x466102[_0x2cd9ee(0x5bd)])return void this['handleRequestPayload'](_0x37fdb1);this[_0x2cd9ee(0x1e5)](_0x37fdb1);}catch(_0x5c9b7e){if(_0x5c9b7e instanceof _0x4a916f)throw _0x5c9b7e;throw new _0x4a916f(_0x4a916f[_0x2cd9ee(0xa30)]['ObjectStoreInvalidSyncMessage'],{'payload':_0x37fdb1});}}),await this[_0x111026(0x94c)](),this[_0x111026(0x8b7)]?await this[_0x111026(0x5ad)]():this['completeSync'](),this[_0x111026(0x3b4)]();}['destroy'](){const _0x38f14c=_0x120045;this[_0x38f14c(0xa2c)]?.(),this[_0x38f14c(0x28b)][_0x38f14c(0x311)](_0x54a2d5=>_0x54a2d5()),this[_0x38f14c(0x28b)][_0x38f14c(0x960)](),clearTimeout(this[_0x38f14c(0x219)]),delete this[_0x38f14c(0x219)],super[_0x38f14c(0x4d9)]();}['close'](){const _0x57fa1c=_0x120045;this[_0x57fa1c(0xa45)]?.[_0x57fa1c(0x552)]({'sourceId':_0x40bfc5,'messageType':_0x435438[_0x57fa1c(0x9a6)],'content':{'type':_0x46be06[_0x57fa1c(0x807)],'label':this[_0x57fa1c(0x573)]}});}[_0x120045(0x8f0)](_0x3bf378,_0x2c0362){const _0x418d17=_0x120045;if(this['listenerUnsubscribers'][_0x418d17(0x5a8)](_0x3bf378))throw new _0x18939c(_0x15d29b[_0x418d17(0x97b)],_0x418d17(0x1f8));this['listenerUnsubscribers'][_0x418d17(0x381)](_0x3bf378,this['eventListener'][_0x418d17(0x8f0)](_0x2c0362)),this[_0x418d17(0x658)]||this[_0x418d17(0x857)][_0x418d17(0x552)]({'event':_0x4e2564['StorageEventType']['SyncComplete'],'payload':{'filesSynced':this[_0x418d17(0x410)]}});}[_0x120045(0x236)](_0x50b886){const _0x532644=_0x120045;this['listenerUnsubscribers']['get'](_0x50b886)?.(),this[_0x532644(0x28b)][_0x532644(0xa10)](_0x50b886);}[_0x120045(0x552)](_0xc29505){const _0x294e88=_0x120045;switch(_0xc29505[_0x294e88(0x47d)]){case _0x4e2564[_0x294e88(0x503)]['File']:return this[_0x294e88(0x603)](_0xc29505[_0x294e88(0xa11)],_0xc29505[_0x294e88(0x49a)],_0xc29505[_0x294e88(0x58d)]);case _0x4e2564[_0x294e88(0x503)][_0x294e88(0x859)]:return this[_0x294e88(0x44e)](_0xc29505[_0x294e88(0x49a)]);case _0x4e2564[_0x294e88(0x503)][_0x294e88(0x28f)]:return this[_0x294e88(0x5b1)](_0xc29505[_0x294e88(0x49a)],_0xc29505['newPath']);default:throw new _0x18939c(_0x15d29b[_0x294e88(0x602)],_0x294e88(0x4df)+_0xc29505);}}async['unpublish'](_0x47fbc5){const _0x3b2803=_0x120045;try{const _0x526a5a=(0x0,_0x233c4d['v4'])(),_0x350b9e=this[_0x3b2803(0x189)],_0x288255={'payloadType':_0x466102[_0x3b2803(0x548)],'action':_0x5895f4[_0x3b2803(0xa5a)],'id':_0x526a5a,'parentId':_0x350b9e,'path':_0x47fbc5};await this[_0x3b2803(0x899)](_0x288255);const _0x533af7=await this[_0x3b2803(0x7ea)](_0x47fbc5);!0x0!==this[_0x3b2803(0x58d)]?.[_0x3b2803(0x836)]&&await this[_0x3b2803(0x593)](_0x288255),_0x1b1d61['logServiceEvent'](_0x3baa96[_0x3b2803(0x41d)],{'type':_0x3b2803(0x156),'label':this['label'],'nodeId':this[_0x3b2803(0x781)][_0x3b2803(0xd7)](),'nodeType':this[_0x3b2803(0x781)][_0x3b2803(0x7f3)],'clusterId':this[_0x3b2803(0xea)],'kind':_0x533af7,'path':_0x47fbc5}),this['writes']+=0x1,this['sendStats']();}catch(_0x39a322){if(_0x39a322 instanceof _0x4a916f)throw new _0x18939c(_0x15d29b['ObjectStoreNotInSync'],_0x3b2803(0x60f)+_0x47fbc5+':\x20Object\x20store\x20is\x20not\x20in\x20sync');throw new _0x18939c(_0x15d29b[_0x3b2803(0x292)],_0x3b2803(0x2e7)+_0x47fbc5);}}async['get'](_0x2a5e12,_0x3e3d5e){const _0x3d3209=_0x120045;_0x1b1d61[_0x3d3209(0x7a0)](_0x3baa96[_0x3d3209(0x41d)],{'type':_0x3d3209(0x7e9),'label':this[_0x3d3209(0x573)],'nodeId':this[_0x3d3209(0x781)][_0x3d3209(0xd7)](),'nodeType':this[_0x3d3209(0x781)]['type'],'clusterId':this[_0x3d3209(0xea)],'path':_0x2a5e12}),this['reads']+=0x1,this[_0x3d3209(0x3b4)]();try{return await this[_0x3d3209(0xa38)][_0x3d3209(0x7e9)](_0x2a5e12,_0x3e3d5e);}catch(_0x3c2ac7){try{await this[_0x3d3209(0xa38)]['get'](_0x2a5e12+_0x41db28);}catch(_0x3b5701){throw new _0x18939c(_0x15d29b['ObjectStoreInvalidPath'],_0x3d3209(0x34b)+_0x2a5e12);}throw new _0x18939c(_0x15d29b[_0x3d3209(0x6b9)],_0x3d3209(0x682));}}async[_0x120045(0x100)](_0x2e94fd,_0x5d2b44){const _0x58eee4=_0x120045,{recursive:_0x4cf6af=!0x1,includeSyncingFiles:_0x4fd994=!0x1}=_0x5d2b44??{};_0x1b1d61[_0x58eee4(0x7a0)](_0x3baa96[_0x58eee4(0x41d)],{'type':_0x58eee4(0x100),'label':this[_0x58eee4(0x573)],'nodeId':this['localNode'][_0x58eee4(0xd7)](),'nodeType':this[_0x58eee4(0x781)][_0x58eee4(0x7f3)],'clusterId':this[_0x58eee4(0xea)],'path':_0x2e94fd}),this[_0x58eee4(0x9f6)]+=0x1,this[_0x58eee4(0x3b4)]();try{const _0x4bb665=await this[_0x58eee4(0xa38)][_0x58eee4(0x100)](_0x2e94fd,_0x4cf6af);return this[_0x58eee4(0x3e5)](_0x4bb665,{'recursive':_0x4cf6af,'includeSyncingFiles':_0x4fd994});}catch(_0x21836a){throw new _0x18939c(_0x15d29b[_0x58eee4(0x292)],_0x58eee4(0x731)+_0x2e94fd);}}[_0x120045(0x632)](_0x562191){const _0x15af18=_0x120045;this['nodesConnected']+=0x1;for(const _0x56c5d4 of this[_0x15af18(0xd5)][_0x15af18(0x449)]())this[_0x15af18(0x593)](_0x56c5d4,[_0x562191]);}[_0x120045(0x349)](_0x1e7eb7){const _0x50c6f3=_0x120045;this['nodesConnected']-=0x1;const _0x1df843=this['pendingFilesSyncing']['get'](_0x1e7eb7);if(_0x1df843){for(const [_0xeb3305,_0x3eb6ae]of _0x1df843[_0x50c6f3(0x449)]())this[_0x50c6f3(0x7e2)](_0xeb3305,_0x3eb6ae);this[_0x50c6f3(0x771)][_0x50c6f3(0xa10)](_0x1e7eb7);}}async[_0x120045(0x356)](_0x16b59a='/'){const _0x5cfde5=_0x120045;try{return await this[_0x5cfde5(0xa38)][_0x5cfde5(0x397)](_0x16b59a);}catch(_0x4e0b17){if(_0x4e0b17 instanceof Error&&_0x4e0b17[_0x5cfde5(0x1b4)]['includes'](_0x5cfde5(0x653)))return 0x0;throw new _0x18939c(_0x15d29b[_0x5cfde5(0x292)],_0x5cfde5(0x9b4)+_0x16b59a);}}['completeSync'](){const _0x3de103=_0x120045;this[_0x3de103(0x658)]&&(this[_0x3de103(0x658)]=!0x1,this[_0x3de103(0x857)][_0x3de103(0x552)]({'event':_0x4e2564[_0x3de103(0x7c0)][_0x3de103(0x9e5)],'payload':{'filesSynced':this[_0x3de103(0x410)]}}));}async[_0x120045(0x3e5)](_0x19c187,{includeSyncingFiles:_0xec86c9=!0x1}){const _0xe74249=_0x120045,_0x40ecb5=[];for(const _0x5f1645 of _0x19c187)if(_0x5f1645[_0xe74249(0x74a)]!==_0x4e2564['ObjectKind']['Folder']){if(_0x5f1645[_0xe74249(0x5eb)]!==_0x49dc0c){if(_0x5f1645[_0xe74249(0x5eb)][_0xe74249(0x53a)](_0x41db28)){if(!_0xec86c9)continue;const _0x1ac993=_0x5f1645;if(_0x1ac993[_0xe74249(0x5eb)]=_0x1ac993['name'][_0xe74249(0x6f2)](_0x41db28,''),_0x1ac993[_0xe74249(0x6d0)]=_0x1ac993['pathName'][_0xe74249(0x6f2)](_0x41db28,''),await this['syncedFileExists'](_0x1ac993[_0xe74249(0x6d0)])){_0x19c187[_0xe74249(0x999)](_0x519c2d=>_0x519c2d[_0xe74249(0x6d0)]===_0x1ac993[_0xe74249(0x6d0)])[_0xe74249(0x129)]=_0x4e2564[_0xe74249(0xa3d)][_0xe74249(0x71d)];continue;}_0x1ac993['status']=_0x4e2564[_0xe74249(0xa3d)]['Pending'];}_0x40ecb5[_0xe74249(0xdc)](_0x5f1645);}}else _0x5f1645[_0xe74249(0x471)]=await this[_0xe74249(0x3e5)](_0x5f1645[_0xe74249(0x471)]??[],{'includeSyncingFiles':_0xec86c9}),_0x40ecb5[_0xe74249(0xdc)](_0x5f1645);return _0x40ecb5;}async[_0x120045(0x603)](_0x4d6f4e,_0x301482,_0x4381c3){const _0x5b8392=_0x120045;try{const _0x17ba8b=(0x0,_0x233c4d['v4'])(),_0x29dd50=await _0x27dd2e(_0x4d6f4e),_0x398cc1=_0x1afb3b(_0x301482??'/',_0x4d6f4e[_0x5b8392(0x5eb)]);let _0x3b9ef5=!0x0;const _0x5410bf={'payloadType':_0x466102['Transaction'],'action':_0x5895f4[_0x5b8392(0x4aa)],'id':_0x17ba8b,'parentId':this[_0x5b8392(0x189)],'answererId':this['localNode'][_0x5b8392(0xd7)](),'name':_0x4d6f4e['name'],'type':_0x4d6f4e[_0x5b8392(0x7f3)],'path':_0x301482??'/','skipEncryption':_0x4381c3?.['skipEncryption']??!0x1,'checksum':_0x29dd50};try{if(!_0x4381c3?.[_0x5b8392(0x86a)])throw new Error(_0x5b8392(0x27d));const _0x8e2f63=_0x398cc1+_0x41db28;await this['objectStoreConnector'][_0x5b8392(0x7e9)](_0x8e2f63),_0x3b9ef5=!0x1,await this[_0x5b8392(0xa38)][_0x5b8392(0x7ea)](_0x8e2f63),this['objectRequests'][_0x5b8392(0xa10)](_0x398cc1);}catch(_0x1137d2){await this[_0x5b8392(0x899)](_0x5410bf);}if(this[_0x5b8392(0x8b7)]||this[_0x5b8392(0x58d)]?.[_0x5b8392(0x836)]?await this[_0x5b8392(0x994)](_0x4d6f4e,_0x301482,_0x4381c3):await this[_0x5b8392(0x605)](_0x4d6f4e['name'],_0x301482??'/',{'checksum':_0x29dd50,'skipEncryption':_0x4381c3?.[_0x5b8392(0x174)]??!0x1}),this[_0x5b8392(0x31f)][_0x5b8392(0x5a8)](_0x398cc1)){const [_0x6129a0,_0x32bc14]=this[_0x5b8392(0x31f)][_0x5b8392(0x7e9)](_0x398cc1);this['fileSendingMap'][_0x5b8392(0x381)](_0x398cc1,[!0x0,_0x32bc14]);try{await _0x32bc14;}catch(_0x15966b){}this['fileSendingMap'][_0x5b8392(0xa10)](_0x398cc1);}_0x3b9ef5&&this['nodesConnected']>0x0&&!0x0!==this[_0x5b8392(0x58d)]?.[_0x5b8392(0x836)]&&await this[_0x5b8392(0x2a1)](_0x4d6f4e,_0x5410bf),_0x1b1d61[_0x5b8392(0x7a0)](_0x3baa96['ObjectStorage'],{'type':'publish','label':this['label'],'nodeId':this[_0x5b8392(0x781)][_0x5b8392(0xd7)](),'nodeType':this[_0x5b8392(0x781)][_0x5b8392(0x7f3)],'clusterId':this[_0x5b8392(0xea)],'kind':_0x4e2564[_0x5b8392(0x962)]['File'],'path':_0x301482,'fileName':_0x4d6f4e[_0x5b8392(0x5eb)],'fileType':_0x4d6f4e[_0x5b8392(0x7f3)],'size':_0x4d6f4e[_0x5b8392(0x625)]}),this[_0x5b8392(0xcf)]+=0x1,this[_0x5b8392(0x3b4)]();}catch(_0x591cfc){if(_0x591cfc instanceof _0x4a916f)throw new _0x18939c(_0x15d29b['ObjectStoreNotInSync'],'Object\x20store\x20is\x20not\x20in\x20sync');throw new _0x18939c(_0x15d29b[_0x5b8392(0x292)],'Cannot\x20publish\x20file:\x20'+_0x301482+(_0x301482?.[_0x5b8392(0x53a)]('/')?'':'/')+_0x4d6f4e[_0x5b8392(0x5eb)]);}}async['publishFolder'](_0x551dfa){const _0x4d88a9=_0x120045;try{const _0x4b2ee6=(0x0,_0x233c4d['v4'])(),_0x41e4c6=this[_0x4d88a9(0x189)],_0x495ede={'payloadType':_0x466102[_0x4d88a9(0x548)],'action':_0x5895f4['FolderCreate'],'id':_0x4b2ee6,'parentId':_0x41e4c6,'path':_0x551dfa};await this[_0x4d88a9(0x899)](_0x495ede),await this[_0x4d88a9(0xa38)]['createFolder'](_0x551dfa),!0x0!==this[_0x4d88a9(0x58d)]?.[_0x4d88a9(0x836)]&&await this[_0x4d88a9(0x593)](_0x495ede),_0x1b1d61[_0x4d88a9(0x7a0)](_0x3baa96[_0x4d88a9(0x41d)],{'type':'publish','label':this[_0x4d88a9(0x573)],'nodeId':this['localNode']['getId'](),'nodeType':this[_0x4d88a9(0x781)][_0x4d88a9(0x7f3)],'clusterId':this[_0x4d88a9(0xea)],'kind':_0x4e2564['ObjectKind'][_0x4d88a9(0x859)],'path':_0x551dfa}),this[_0x4d88a9(0xcf)]+=0x1,this['sendStats']();}catch(_0x57f936){if(_0x57f936 instanceof _0x4a916f)throw new _0x18939c(_0x15d29b[_0x4d88a9(0x6b9)],_0x4d88a9(0x682));throw new _0x18939c(_0x15d29b['ObjectStoreInvalidPath'],'Cannot\x20publish\x20folder:\x20'+_0x551dfa);}}async[_0x120045(0x5b1)](_0x165ddc,_0x231a15){const _0x4571d6=_0x120045;try{const _0x6d1a4=(0x0,_0x233c4d['v4'])(),_0x534698=this[_0x4571d6(0x189)],_0x58bae9={'payloadType':_0x466102[_0x4571d6(0x548)],'action':_0x5895f4[_0x4571d6(0x28f)],'id':_0x6d1a4,'parentId':_0x534698,'path':_0x165ddc,'newPath':_0x231a15};await this[_0x4571d6(0x899)](_0x58bae9);const _0x3b1027=await this[_0x4571d6(0x77a)](_0x165ddc,_0x231a15);!0x0!==this['options']?.[_0x4571d6(0x836)]&&await this[_0x4571d6(0x593)](_0x58bae9),_0x1b1d61[_0x4571d6(0x7a0)](_0x3baa96['ObjectStorage'],{'type':_0x4571d6(0x297),'label':this['label'],'nodeId':this[_0x4571d6(0x781)][_0x4571d6(0xd7)](),'nodeType':this[_0x4571d6(0x781)]['type'],'clusterId':this[_0x4571d6(0xea)],'kind':_0x3b1027,'path':_0x165ddc,'newPath':_0x231a15}),this['writes']+=0x1,this[_0x4571d6(0x3b4)]();}catch(_0x2fee2f){if(_0x2fee2f instanceof _0x4a916f)throw new _0x18939c(_0x15d29b['ObjectStoreNotInSync'],'Object\x20store\x20is\x20not\x20in\x20sync');throw new _0x18939c(_0x15d29b['ObjectStoreInvalidPath'],_0x4571d6(0x494)+_0x165ddc);}}async[_0x120045(0x1e5)](_0x35f95e,_0x260ed4=!0x1){const _0x1412d1=_0x120045;if(this[_0x1412d1(0x189)]&&_0x35f95e[_0x1412d1(0x7e8)]!==this[_0x1412d1(0x189)]&&_0x35f95e['id']!==this[_0x1412d1(0x189)]){if(!_0x35f95e[_0x1412d1(0x7e8)])throw new _0x4a916f(_0x4a916f[_0x1412d1(0xa30)][_0x1412d1(0x1e4)]);this[_0x1412d1(0x589)]['set'](_0x35f95e[_0x1412d1(0x7e8)],_0x35f95e);}else{try{await this[_0x1412d1(0x32e)](_0x35f95e,_0x260ed4);}catch(_0x1ca9a1){}await this[_0x1412d1(0x17f)](_0x35f95e['id']),await this[_0x1412d1(0x7ee)](_0x35f95e['id'],_0x260ed4);}}async[_0x120045(0x32e)](_0x1f5336,_0x35b5db=!0x1){const _0x2101b5=_0x120045;switch(_0x1f5336[_0x2101b5(0x47d)]){case _0x5895f4['FileWrite']:await this[_0x2101b5(0x9e6)](_0x1f5336);break;case _0x5895f4[_0x2101b5(0x5b4)]:await this[_0x2101b5(0xa3f)](_0x1f5336);break;case _0x5895f4[_0x2101b5(0x28f)]:await this[_0x2101b5(0x260)](_0x1f5336,_0x35b5db);break;case _0x5895f4[_0x2101b5(0xa5a)]:await this[_0x2101b5(0x958)](_0x1f5336,_0x35b5db);break;default:throw new _0x4a916f(_0x4a916f['codes'][_0x2101b5(0x1e4)],{'payload':_0x1f5336});}}async['processPendingSyncTransactions'](_0x33b45e,_0x46a585=!0x1){const _0x5c701d=_0x120045;if(this[_0x5c701d(0x589)]['has'](_0x33b45e)){const _0x358b78=this[_0x5c701d(0x589)][_0x5c701d(0x7e9)](_0x33b45e);this['pendingSyncTransactions'][_0x5c701d(0xa10)](_0x33b45e),await this[_0x5c701d(0x1e5)](_0x358b78,_0x46a585);}}async[_0x120045(0x9e8)](_0x9a952c){const _0x53332=_0x120045;switch(_0x9a952c[_0x53332(0x47d)]){case _0x5895f4[_0x53332(0x437)]:return this[_0x53332(0x4dd)](_0x9a952c);case _0x5895f4[_0x53332(0x37f)]:return this[_0x53332(0x13c)](_0x9a952c);case _0x5895f4['RequestFileSync']:return this[_0x53332(0x719)](_0x9a952c);case _0x5895f4['RequestFileWrite']:return this[_0x53332(0x9e6)](_0x9a952c);default:throw new _0x4a916f(_0x4a916f['codes']['ObjectStoreInvalidSyncMessage'],{'payload':_0x9a952c});}}async[_0x120045(0x9e6)](_0x21559c,_0x4e4dc7=0x0){const _0x5dc99c=_0x120045,_0x344610=_0x1afb3b(_0x21559c['path'],_0x21559c[_0x5dc99c(0x5eb)]);if(!_0x21559c[_0x5dc99c(0x7f6)]||void 0x0===_0x21559c['index']||!_0x21559c[_0x5dc99c(0x384)])return this[_0x5dc99c(0xa3e)][_0x5dc99c(0xa10)](_0x344610),void await this[_0x5dc99c(0x605)](_0x21559c[_0x5dc99c(0x5eb)],_0x21559c[_0x5dc99c(0x49a)],{'checksum':_0x21559c[_0x5dc99c(0x8ab)],'skipEncryption':_0x21559c[_0x5dc99c(0x174)]});if(this[_0x5dc99c(0xa3e)][_0x5dc99c(0x5a8)](_0x344610)){const _0x503ab6=this[_0x5dc99c(0xa3e)][_0x5dc99c(0x7e9)](_0x344610);_0x503ab6['checksum']!==_0x21559c['checksum']&&(_0x503ab6[_0x5dc99c(0x815)]?.['close'](),this[_0x5dc99c(0xa3e)][_0x5dc99c(0xa10)](_0x344610));}if(!this[_0x5dc99c(0xa3e)][_0x5dc99c(0x5a8)](_0x344610)){try{await this[_0x5dc99c(0xa38)][_0x5dc99c(0x7ea)](_0x344610);}catch(_0x49052b){}try{const _0x2dc0b4=this['syncContent']?await this[_0x5dc99c(0xa38)][_0x5dc99c(0x5e9)](_0x344610,{'skipEncryption':_0x21559c[_0x5dc99c(0x174)]}):void 0x0,_0x3b8efe={'chunksReceived':_0x21559c[_0x5dc99c(0x2fd)]??0x0,'bytesReceived':0x0,'stream':_0x2dc0b4,'checksum':_0x21559c[_0x5dc99c(0x8ab)]};this[_0x5dc99c(0xa3e)][_0x5dc99c(0x381)](_0x344610,_0x3b8efe),await this[_0x5dc99c(0x605)](_0x21559c[_0x5dc99c(0x5eb)],_0x21559c[_0x5dc99c(0x49a)],{'checksum':_0x21559c[_0x5dc99c(0x8ab)],'skipEncryption':_0x21559c['skipEncryption']});}catch(_0x476ee8){}}const _0x3814cc=this['fileChunks']['get'](_0x344610);if(_0x21559c[_0x5dc99c(0x8ab)]!==_0x3814cc['checksum'])return;if(this['setPendingFileSyncingPayload'](_0x21559c,_0x344610),this['syncContent']){if(!_0x3814cc[_0x5dc99c(0x815)])throw new _0x4a916f(_0x4a916f[_0x5dc99c(0xa30)][_0x5dc99c(0x1e4)],{'message':_0x5dc99c(0xa71)});let _0x5894d5=_0x3814cc[_0x5dc99c(0x148)];if(_0x21559c[_0x5dc99c(0x2a2)]!==_0x5894d5){if(_0x5894d5>_0x21559c[_0x5dc99c(0x2a2)])return;const _0x1cd8b0=0x1000;if(_0x21559c[_0x5dc99c(0x2a2)]>_0x5894d5+_0x1cd8b0)return;if(_0x3814cc[_0x5dc99c(0xa73)]||(_0x3814cc[_0x5dc99c(0xa73)]=[]),_0x3814cc[_0x5dc99c(0xa73)][_0x5dc99c(0x59d)]>0x4000)throw this[_0x5dc99c(0xa3e)][_0x5dc99c(0xa10)](_0x344610),new _0x4a916f(_0x4a916f[_0x5dc99c(0xa30)][_0x5dc99c(0x1e4)],{'message':'Buffered\x20chunks\x20are\x20too\x20large'});return void _0x3814cc[_0x5dc99c(0xa73)][_0x5dc99c(0xdc)](_0x21559c);}try{_0x3814cc[_0x5dc99c(0x148)]+=0x1,_0x3814cc[_0x5dc99c(0x4ac)]+=_0x21559c[_0x5dc99c(0x7f6)][_0x5dc99c(0x3fd)],await _0x3814cc[_0x5dc99c(0x815)][_0x5dc99c(0x9f7)](_0x21559c['data']);}catch(_0x100bb3){if(console['error']('Error\x20writing\x20chunk\x20to\x20stream',_0x100bb3),_0x4e4dc7>0x3)throw this['fileChunks'][_0x5dc99c(0xa10)](_0x344610),console['error']('Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream',_0x100bb3),new _0x4a916f(_0x4a916f[_0x5dc99c(0xa30)]['ObjectStoreInvalidSyncMessage'],{'message':_0x5dc99c(0x656)});return this[_0x5dc99c(0x9e6)](_0x21559c,_0x4e4dc7+0x1);}}try{await this[_0x5dc99c(0xfa)](_0x3814cc,_0x21559c[_0x5dc99c(0x2a2)]+0x1);}catch(_0x1ea9ee){throw this['fileChunks'][_0x5dc99c(0xa10)](_0x344610),_0x1ea9ee;}if(this[_0x5dc99c(0xa3e)][_0x5dc99c(0x381)](_0x344610,_0x3814cc),_0x3814cc['chunksReceived']<_0x21559c[_0x5dc99c(0x384)])return;await this['deleteFileChunks'](_0x344610),this[_0x5dc99c(0x8b7)]&&(await this['deletePendingFile'](_0x21559c),_0x1b1d61[_0x5dc99c(0x7a0)](_0x3baa96[_0x5dc99c(0x41d)],{'type':_0x5dc99c(0x42e),'label':this['label'],'nodeId':this[_0x5dc99c(0x781)][_0x5dc99c(0xd7)](),'nodeType':this[_0x5dc99c(0x781)][_0x5dc99c(0x7f3)],'clusterId':this[_0x5dc99c(0xea)],'kind':_0x4e2564[_0x5dc99c(0x962)]['File'],'path':_0x21559c[_0x5dc99c(0x49a)],'fileName':_0x21559c['name'],'fileType':_0x21559c[_0x5dc99c(0x7f3)],'size':_0x3814cc[_0x5dc99c(0x4ac)]}));const _0x181c73=this[_0x5dc99c(0x78d)][_0x5dc99c(0x7e9)](_0x21559c[_0x5dc99c(0x49a)])??[];for(const _0x537d25 of _0x181c73)await this[_0x5dc99c(0x32e)](_0x537d25);this[_0x5dc99c(0x78d)][_0x5dc99c(0xa10)](_0x21559c[_0x5dc99c(0x49a)]),this['eventListener'][_0x5dc99c(0x552)]({'event':_0x4e2564['StorageEventType'][_0x5dc99c(0x4aa)],'payload':{'file':{'kind':_0x4e2564[_0x5dc99c(0x962)][_0x5dc99c(0x622)],'path':_0x21559c[_0x5dc99c(0x49a)],'type':_0x21559c['type'],'size':_0x3814cc[_0x5dc99c(0x4ac)],'name':_0x21559c[_0x5dc99c(0x5eb)],'pathName':_0x344610,'status':this['syncContent']?_0x4e2564[_0x5dc99c(0xa3d)][_0x5dc99c(0x144)]:_0x4e2564['FileStatus'][_0x5dc99c(0x539)]}}}),this['sendStats']();}async[_0x120045(0xfa)](_0x2898ca,_0x1fa9a8){const _0x42e99c=_0x120045,_0x18a6fc=_0x2898ca['stream'];let _0x364684=0x0;for(;_0x2898ca[_0x42e99c(0xa73)]&&_0x2898ca[_0x42e99c(0xa73)][_0x42e99c(0x59d)]>0x0;){const _0x4a15fd=_0x2898ca[_0x42e99c(0xa73)][_0x42e99c(0x999)](_0x5e39fa=>_0x5e39fa['index']===_0x1fa9a8+0x1);if(!_0x4a15fd)break;_0x2898ca[_0x42e99c(0xa73)]=_0x2898ca[_0x42e99c(0xa73)]['filter'](_0x1d4a76=>_0x1d4a76[_0x42e99c(0x2a2)]!==_0x1fa9a8+0x1);try{await _0x18a6fc['write'](_0x4a15fd[_0x42e99c(0x7f6)]),_0x1fa9a8++;}catch(_0x238667){if(console[_0x42e99c(0x525)]('Error\x20writing\x20buffered\x20chunk\x20to\x20stream',_0x238667),_0x364684>0x3)throw console[_0x42e99c(0x525)](_0x42e99c(0x45e),_0x238667),new _0x4a916f(_0x4a916f[_0x42e99c(0xa30)][_0x42e99c(0x1e4)],{'message':_0x42e99c(0x45e)});_0x364684++;continue;}_0x2898ca[_0x42e99c(0x148)]+=0x1,_0x2898ca[_0x42e99c(0x4ac)]+=_0x4a15fd[_0x42e99c(0x7f6)][_0x42e99c(0x3fd)];}}async[_0x120045(0xa3f)](_0x140c20){const _0x143137=_0x120045;await this[_0x143137(0xa38)]['createFolder'](_0x140c20['path']);const [_0x2aa5f6,_0x23e688]=_0x299e66(_0x140c20[_0x143137(0x49a)]);this[_0x143137(0x857)]['publish']({'event':_0x4e2564['StorageEventType'][_0x143137(0x5b4)],'payload':{'folder':{'kind':_0x4e2564[_0x143137(0x962)][_0x143137(0x859)],'name':_0x23e688,'path':_0x2aa5f6,'pathName':_0x140c20['path']}}});}async[_0x120045(0x958)](_0x1878b9,_0x26493f=!0x1){const _0x4d2f92=_0x120045;if(!_0x26493f&&!this[_0x4d2f92(0xa78)](_0x1878b9))return;const _0x1f79d8=await this[_0x4d2f92(0x7ea)](_0x1878b9[_0x4d2f92(0x49a)]),[_0xc935e5,_0xc5f55f]=_0x299e66(_0x1878b9[_0x4d2f92(0x49a)]);this[_0x4d2f92(0x857)][_0x4d2f92(0x552)]({'event':_0x1f79d8===_0x4e2564['ObjectKind'][_0x4d2f92(0x859)]?_0x4e2564[_0x4d2f92(0x7c0)]['FolderDelete']:_0x4e2564[_0x4d2f92(0x7c0)][_0x4d2f92(0x3bf)],'payload':{'name':_0xc5f55f,'path':_0xc935e5,'pathName':_0x1878b9[_0x4d2f92(0x49a)]}}),this['sendStats']();}async[_0x120045(0x260)](_0x5a9449,_0x3116ef=!0x1){const _0x258947=_0x120045;if(!_0x3116ef&&!this[_0x258947(0xa78)](_0x5a9449))return this[_0x258947(0x875)]['set'](_0x5a9449[_0x258947(0x488)],this[_0x258947(0x875)][_0x258947(0x7e9)](_0x5a9449[_0x258947(0x49a)])??_0x5a9449['path']),void this[_0x258947(0x875)][_0x258947(0xa10)](_0x5a9449[_0x258947(0x49a)]);this[_0x258947(0x875)][_0x258947(0xa10)](_0x5a9449[_0x258947(0x49a)]);const _0x1dbd09=await this[_0x258947(0xa38)][_0x258947(0x77a)](_0x5a9449['path'],_0x5a9449[_0x258947(0x488)]),[_0x42b7de,_0xed9cd9]=_0x299e66(_0x5a9449['path']),[_0x145c3b,_0x3fc9b0]=_0x299e66(_0x5a9449[_0x258947(0x488)]);this[_0x258947(0x857)][_0x258947(0x552)]({'event':_0x1dbd09===_0x4e2564['ObjectKind'][_0x258947(0x859)]?_0x4e2564[_0x258947(0x7c0)][_0x258947(0x98c)]:_0x4e2564[_0x258947(0x7c0)][_0x258947(0x65d)],'payload':{'name':_0x3fc9b0,'path':_0x145c3b,'pathName':_0x5a9449[_0x258947(0x488)],'oldName':_0xed9cd9,'oldPath':_0x42b7de,'oldPathName':_0x5a9449[_0x258947(0x49a)]}}),this[_0x258947(0x3b4)]();}['shouldProcessTransaction'](_0x3236a2){const _0x21ddb3=_0x120045,_0x57199e=this[_0x21ddb3(0x875)][_0x21ddb3(0x7e9)](_0x3236a2[_0x21ddb3(0x49a)])??_0x3236a2['path'];let _0x148819=!0x1;for(const _0x3be8a6 of this[_0x21ddb3(0xa3e)][_0x21ddb3(0xca)]())if(_0x3be8a6['startsWith'](_0x57199e)){const _0x1d392a=this['pendingFilesTransactions']['get'](_0x3be8a6)??[];_0x1d392a[_0x21ddb3(0xdc)](_0x3236a2),this[_0x21ddb3(0x78d)][_0x21ddb3(0x381)](_0x3be8a6,_0x1d392a),_0x148819=!0x0;}return!_0x148819;}async['publishTransaction'](_0x554fab){const _0x23d39b=_0x120045;if(!this[_0x23d39b(0x58d)]?.[_0x23d39b(0x836)]){if(!_0x554fab['id'])throw new _0x4a916f(_0x4a916f['codes'][_0x23d39b(0x1e4)],{'message':_0x23d39b(0x36b)});if(_0x554fab[_0x23d39b(0x7e8)]!==this['lastTransactionId'])throw new _0x4a916f(_0x4a916f['codes'][_0x23d39b(0x413)]);await this[_0x23d39b(0x4e5)]['writeTransaction'](_0x554fab,this[_0x23d39b(0x573)]),await this[_0x23d39b(0x17f)](_0x554fab['id']);}}async[_0x120045(0x17f)](_0x2696ea){const _0x4cf9ec=_0x120045;this[_0x4cf9ec(0x189)]=_0x2696ea;const _0x2aa5c2=new File([new Blob([this['lastTransactionId']])],_0x49dc0c,{'type':_0x4cf9ec(0x301)});await this['writeFile'](_0x2aa5c2,'/');}async['handleFileRequest'](_0x40f21d){const _0x2b195b=_0x120045;try{const _0x350f41=await this[_0x2b195b(0x7e9)](_0x40f21d[_0x2b195b(0x49a)]+'/'+_0x40f21d['name'],{'skipEncryption':_0x40f21d[_0x2b195b(0x174)]}),_0x4e0dd1=await _0x27dd2e(_0x350f41);if(''!==_0x40f21d[_0x2b195b(0x8ab)]&&_0x4e0dd1!==_0x40f21d[_0x2b195b(0x8ab)])return;_0x40f21d[_0x2b195b(0x431)]=this['localNode'][_0x2b195b(0xd7)](),_0x40f21d[_0x2b195b(0x47d)]=_0x5895f4[_0x2b195b(0x37f)],await this[_0x2b195b(0x593)](_0x40f21d,[_0x40f21d['sourceId']]);}catch(_0x1b893d){}}async[_0x120045(0x13c)](_0x4c23a6){const _0x4e748c=_0x120045,_0x1e94a4=_0x1afb3b(_0x4c23a6[_0x4e748c(0x49a)],_0x4c23a6[_0x4e748c(0x5eb)]);if(!this[_0x4e748c(0xd5)][_0x4e748c(0x5a8)](_0x1e94a4))return;const _0x5da4de=this[_0x4e748c(0xd5)][_0x4e748c(0x7e9)](_0x1e94a4);_0x5da4de[_0x4e748c(0x47d)]=_0x5895f4[_0x4e748c(0x70f)];const _0x5c03b2=_0x4c23a6[_0x4e748c(0x431)];if(!_0x5c03b2)throw new _0x4a916f(_0x4a916f[_0x4e748c(0xa30)][_0x4e748c(0x1e4)],{'message':_0x4e748c(0x78b)});if(this[_0x4e748c(0xd5)][_0x4e748c(0xa10)](_0x1e94a4),this[_0x4e748c(0x771)]['has'](_0x5c03b2)||this['pendingFilesSyncing'][_0x4e748c(0x381)](_0x5c03b2,new Map()),this[_0x4e748c(0x771)][_0x4e748c(0x7e9)](_0x5c03b2)['set'](_0x1e94a4,[_0x5da4de,this[_0x4e748c(0x1a9)](_0x5c03b2,_0x1e94a4)]),_0x5da4de[_0x4e748c(0x431)]=_0x5c03b2,_0x5da4de[_0x4e748c(0x2fd)]=this[_0x4e748c(0xa3e)][_0x4e748c(0x7e9)](_0x1e94a4)?.[_0x4e748c(0x148)]??0x0,0x0===_0x5da4de[_0x4e748c(0x2fd)])try{const [_0x1e5bf8,_0x442d3c]=await this[_0x4e748c(0x2f6)](_0x4c23a6[_0x4e748c(0x5eb)],_0x4c23a6[_0x4e748c(0x49a)],_0x4c23a6[_0x4e748c(0x8ab)]);_0x1e5bf8&&(_0x5da4de[_0x4e748c(0x2fd)]=_0x442d3c);}catch(_0x5b0cfb){}this[_0x4e748c(0x593)](_0x5da4de,[_0x5c03b2]);}async[_0x120045(0x719)](_0x20ee1f){const _0xce74d2=_0x120045,_0x35269f=_0x1afb3b(_0x20ee1f['path'],_0x20ee1f[_0xce74d2(0x5eb)]),_0x11f89b=await this[_0xce74d2(0x7e9)](_0x35269f,{'skipEncryption':_0x20ee1f[_0xce74d2(0x174)]}),_0xd7c151={..._0x20ee1f,'answererId':this['localNode']['getId'](),'action':_0x5895f4[_0xce74d2(0x549)],'startIndex':_0x20ee1f['startIndex']??0x0};await this[_0xce74d2(0x2a1)](_0x11f89b,_0xd7c151,[_0x20ee1f[_0xce74d2(0x50d)]]);}async[_0x120045(0x2a1)](_0x27ad6e,_0x26fdcf,_0x53c40e){let _0x25511b,_0x384419;const _0x2a22a6=new Promise(async(_0x443f59,_0x338b9e)=>{_0x25511b=_0x443f59,_0x384419=_0x338b9e;});return((async()=>{const _0x512b88=a0_0x573a,_0x135c71=Math[_0x512b88(0x17c)](_0x27ad6e[_0x512b88(0x625)]/_0x498039);let _0x1f0a7c=_0x26fdcf['startIndex']??0x0;const _0x4bb9b7=_0x1afb3b(_0x26fdcf[_0x512b88(0x49a)],_0x26fdcf[_0x512b88(0x5eb)]);this[_0x512b88(0x31f)][_0x512b88(0x381)](_0x4bb9b7,[!0x1,_0x2a22a6]);for await(const _0x17d517 of async function*(_0x418e70,_0x1ade0f=0x0,_0x36a609){for await(const _0x572ac9 of _0x2cad99(_0x418e70,_0x1ade0f,_0x36a609))yield _0x572ac9;}(_0x27ad6e,_0x1f0a7c,this['waitForArrayBufferSize'])){const [_0x45d1db]=this[_0x512b88(0x31f)]['get'](_0x4bb9b7)??[];if(_0x45d1db)return this[_0x512b88(0x31f)][_0x512b88(0xa10)](_0x4bb9b7),void _0x384419(new Error(_0x512b88(0x1eb)));if(this[_0x512b88(0x78d)][_0x512b88(0x5a8)](_0x4bb9b7)){const _0x4d4c21=this[_0x512b88(0x78d)]['get'](_0x4bb9b7);for(const _0x40d675 of _0x4d4c21)if(_0x40d675[_0x512b88(0x47d)]===_0x5895f4[_0x512b88(0x4aa)]||_0x40d675[_0x512b88(0x47d)]===_0x5895f4[_0x512b88(0xa5a)])return;}const _0x65ab76={..._0x26fdcf,'type':_0x27ad6e['type'],'data':_0x17d517,'index':_0x1f0a7c,'total':_0x135c71};this['send'](_0x65ab76,_0x53c40e),_0x1f0a7c++;}const _0x55a5c0=setInterval(async()=>{await this['waitForArrayBufferSize']()>0x0||(clearInterval(_0x55a5c0),_0x25511b());});this[_0x512b88(0x31f)][_0x512b88(0xa10)](_0x4bb9b7);})()),_0x2a22a6;}async[_0x120045(0x47a)](_0x2ca738){const _0x31ab84=_0x120045;try{const _0x34126e=_0x1afb3b(_0x2ca738[_0x31ab84(0x49a)],_0x2ca738['name']),_0x560548=_0x34126e+_0x41db28;await this[_0x31ab84(0x7ea)](_0x560548);const [,_0xefb53c]=this[_0x31ab84(0x771)][_0x31ab84(0x7e9)](_0x2ca738[_0x31ab84(0x431)])?.[_0x31ab84(0x7e9)](_0x34126e)??[];_0xefb53c&&(clearTimeout(_0xefb53c),this['pendingFilesSyncing']['get'](_0x2ca738[_0x31ab84(0x431)])['delete'](_0x34126e));}catch(_0x43f37b){}0x0===this[_0x31ab84(0x771)][_0x31ab84(0x7e9)](_0x2ca738[_0x31ab84(0x431)])?.[_0x31ab84(0x625)]&&this['pendingFilesSyncing'][_0x31ab84(0xa10)](_0x2ca738[_0x31ab84(0x431)]),0x0===this['pendingFilesSyncing'][_0x31ab84(0x625)]&&0x0===this[_0x31ab84(0xd5)][_0x31ab84(0x625)]&&this[_0x31ab84(0x506)]();}async[_0x120045(0x94c)](){const _0x5bdefa=_0x120045;try{const _0x5c62f0=await this['transactionService']['getTransactions'](this[_0x5bdefa(0x573)],this['lastTransactionId']);for(const _0x431cc8 of _0x5c62f0)await this[_0x5bdefa(0x1e5)](_0x431cc8,!0x0);}catch(_0x2719ba){if(_0x2719ba instanceof _0x4a916f&&_0x2719ba[_0x5bdefa(0x626)]===_0x4a916f[_0x5bdefa(0xa30)][_0x5bdefa(0x660)]){await this[_0x5bdefa(0xa38)][_0x5bdefa(0x7ea)](_0x49dc0c),delete this[_0x5bdefa(0x189)];try{const _0x116be2=await this[_0x5bdefa(0xa38)]['list']('/',!0x1);for(const _0x599eec of _0x116be2)await this[_0x5bdefa(0xa38)][_0x5bdefa(0x7ea)](_0x599eec[_0x5bdefa(0x6d0)]);}catch(_0x4188b0){}return await this[_0x5bdefa(0x94c)]();}throw _0x2719ba;}}async[_0x120045(0x5ad)](){const _0x1e7b8a=_0x120045,_0x45db4b=await this[_0x1e7b8a(0x100)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x0}),_0x123c0c=async _0x506a10=>{const _0x1a4bf2=_0x1e7b8a;for(const _0x508a32 of _0x506a10){if(_0x508a32[_0x1a4bf2(0x74a)]===_0x4e2564[_0x1a4bf2(0x962)][_0x1a4bf2(0x859)]){_0x508a32['entries']&&_0x508a32['entries'][_0x1a4bf2(0x59d)]>0x0&&await _0x123c0c(_0x508a32[_0x1a4bf2(0x471)]);continue;}if(_0x508a32[_0x1a4bf2(0x129)]!==_0x4e2564['FileStatus']['Pending'])continue;const _0x2baa5e=await this['get'](_0x508a32[_0x1a4bf2(0x6d0)]+_0x41db28),_0x3526e5=JSON[_0x1a4bf2(0x505)](await _0x2baa5e[_0x1a4bf2(0x6dc)]()),_0x228d84=_0x508a32[_0x1a4bf2(0x5eb)]['replace'](_0x41db28,''),_0x2d31df={'payloadType':_0x466102[_0x1a4bf2(0x5bd)],'action':_0x5895f4['RequestFile'],'sourceId':this[_0x1a4bf2(0x781)][_0x1a4bf2(0xd7)](),'type':'','path':_0x508a32[_0x1a4bf2(0x49a)],'name':_0x228d84,'checksum':_0x3526e5[_0x1a4bf2(0x8ab)],'skipEncryption':_0x3526e5[_0x1a4bf2(0x174)]},_0x4ac9dc=_0x1afb3b(_0x508a32[_0x1a4bf2(0x49a)],_0x228d84);this['objectRequests'][_0x1a4bf2(0x381)](_0x4ac9dc,_0x2d31df);}};await _0x123c0c(_0x45db4b),0x0===this[_0x1e7b8a(0xd5)][_0x1e7b8a(0x625)]&&0x0===this[_0x1e7b8a(0x771)]['size']&&this[_0x1e7b8a(0x506)]();}async[_0x120045(0x605)](_0x2662f3,_0x1eafa6,_0x416d6d){const _0x36641a=_0x120045,_0x39b904=new File([new Blob([JSON[_0x36641a(0x4e9)](_0x416d6d)])],''+_0x2662f3+_0x41db28,{'type':_0x36641a(0x301)});await this[_0x36641a(0x994)](_0x39b904,_0x1eafa6);}async[_0x120045(0x2f6)](_0x8a00fc,_0x1ca52f,_0x5a95cf){const _0x5a2bdb=_0x120045;try{const _0x4e0f4c=_0x1afb3b(_0x1ca52f,_0x8a00fc),_0x58a502=_0x4e0f4c+_0x41db28,_0x2c6e36=await this[_0x5a2bdb(0xa38)][_0x5a2bdb(0x7e9)](_0x58a502),{checksum:_0xa276fd,skipEncryption:_0x512fcb}=JSON['parse'](await _0x2c6e36['text']()),_0x2d1c7a=(await this[_0x5a2bdb(0xa38)]['get'](_0x4e0f4c,{'skipEncryption':_0x512fcb}))[_0x5a2bdb(0x625)];return _0xa276fd===_0x5a95cf&&_0x2d1c7a%_0x498039==0x0?[!0x0,Math[_0x5a2bdb(0x4fd)](_0x2d1c7a/_0x498039)]:(await this[_0x5a2bdb(0xa38)][_0x5a2bdb(0x7ea)](_0x4e0f4c),[!0x1,0x0]);}catch(_0x297c1b){return[!0x1,0x0];}}['getOrResetPendingFileTimeout'](_0x7fd247,_0x53a6c4){const _0x2d4614=_0x120045,[_0x38a637,_0x343cc1]=this[_0x2d4614(0x771)][_0x2d4614(0x7e9)](_0x7fd247)?.[_0x2d4614(0x7e9)](_0x53a6c4)??[];return _0x343cc1&&clearTimeout(_0x343cc1),setTimeout(()=>{const _0x17c869=_0x2d4614,[_0x451bea,_0x3ca161]=this[_0x17c869(0x771)][_0x17c869(0x7e9)](_0x7fd247)[_0x17c869(0x7e9)](_0x53a6c4);this[_0x17c869(0x7e2)](_0x451bea,_0x3ca161);},0x927c0);}async[_0x120045(0x7e2)](_0x368c70,_0x42bf76){const _0xa5808=_0x120045;clearTimeout(_0x42bf76),_0x368c70['action']=_0x5895f4[_0xa5808(0x437)],this[_0xa5808(0xd5)][_0xa5808(0x381)](_0x1afb3b(_0x368c70[_0xa5808(0x49a)],_0x368c70[_0xa5808(0x5eb)]),_0x368c70),this['send'](_0x368c70);}['setPendingFileSyncingPayload'](_0x55e122,_0x34f49a){const _0x4b663b=_0x120045;if(!this['syncContent'])return;this[_0x4b663b(0x771)][_0x4b663b(0x5a8)](_0x55e122[_0x4b663b(0x431)])||this[_0x4b663b(0x771)][_0x4b663b(0x381)](_0x55e122[_0x4b663b(0x431)],new Map());const [_0x5b3d94]=this['pendingFilesSyncing'][_0x4b663b(0x7e9)](_0x55e122[_0x4b663b(0x431)])['get'](_0x34f49a)??[{'payloadType':_0x466102[_0x4b663b(0x5bd)],'action':_0x5895f4['RequestFile'],'sourceId':this['localNode'][_0x4b663b(0xd7)](),'type':_0x55e122[_0x4b663b(0x7f3)],'name':_0x55e122[_0x4b663b(0x5eb)],'path':_0x55e122[_0x4b663b(0x49a)],'skipEncryption':_0x55e122[_0x4b663b(0x174)],'checksum':_0x55e122['checksum'],'answererId':_0x55e122['answererId']}];this[_0x4b663b(0x771)]['get'](_0x55e122[_0x4b663b(0x431)])['set'](_0x34f49a,[_0x5b3d94,this['getOrResetPendingFileTimeout'](_0x55e122[_0x4b663b(0x431)],_0x34f49a)]);}async[_0x120045(0x994)](_0x53adaa,_0x90f75c,_0xd342b5){const _0x30b2ef=_0x120045;this[_0x30b2ef(0x658)]&&(this[_0x30b2ef(0x410)]+=0x1),await this[_0x30b2ef(0xa38)][_0x30b2ef(0x994)](_0x53adaa,_0x90f75c,_0xd342b5);}async[_0x120045(0x7ea)](_0x26f53e){const _0x103b63=_0x120045;try{const _0x230ccc=await this['objectStoreConnector'][_0x103b63(0x7ea)](_0x26f53e);if(!_0x26f53e[_0x103b63(0x53a)](_0x41db28))try{await this[_0x103b63(0xa38)][_0x103b63(0x7ea)](_0x26f53e+_0x41db28);}catch(_0xa7252f){}return this[_0x103b63(0x658)]&&_0x230ccc===_0x4e2564['ObjectKind'][_0x103b63(0x622)]&&(this['filesSynced']+=0x1),_0x230ccc;}catch(_0x413f1a){return await this[_0x103b63(0xa38)]['deleteObject'](_0x26f53e+_0x41db28);}}async['moveObject'](_0x26fc77,_0x241785){const _0x1e7fb5=_0x120045;try{const _0x10fa83=await this['objectStoreConnector'][_0x1e7fb5(0x77a)](_0x26fc77,_0x241785);if(!_0x26fc77[_0x1e7fb5(0x53a)](_0x41db28))try{await this[_0x1e7fb5(0xa38)][_0x1e7fb5(0x77a)](_0x26fc77+_0x41db28,_0x241785+_0x41db28);}catch(_0x15a81e){}return _0x10fa83;}catch(_0x32802a){return await this[_0x1e7fb5(0xa38)]['moveObject'](_0x26fc77+_0x41db28,_0x241785+_0x41db28);}}[_0x120045(0x3b4)](){const _0x17e5f4=_0x120045;this[_0x17e5f4(0x219)]&&clearTimeout(this[_0x17e5f4(0x219)]),this[_0x17e5f4(0x219)]=setTimeout(async()=>{const _0x54f8a8=_0x17e5f4;delete this['debounceStats'];const _0x2222df=await this[_0x54f8a8(0xa38)][_0x54f8a8(0x397)]('/');this[_0x54f8a8(0xa45)]?.['publish']({'sourceId':_0x40bfc5,'messageType':_0x435438[_0x54f8a8(0x9a6)],'content':{'type':_0x46be06[_0x54f8a8(0xa0a)],'label':this['label'],'stats':{'timestamp':Date[_0x54f8a8(0x9e1)](),'storage':_0x2222df,'messagesSent':this[_0x54f8a8(0x171)],'messagesReceived':this[_0x54f8a8(0x996)],'bytesSent':this[_0x54f8a8(0x88e)],'bytesReceived':this['bytesReceived'],'writes':this[_0x54f8a8(0xcf)],'reads':this[_0x54f8a8(0x9f6)],'prompts':0x0,'tokens':0x0}}}),this['syncContent']&&_0x1b1d61[_0x54f8a8(0x6d9)](_0x3baa96[_0x54f8a8(0x41d)],_0x54f8a8(0x678)+this[_0x54f8a8(0xea)]+'ccc'+this[_0x54f8a8(0x573)],_0x2222df);},_0x4e96c3);}async[_0x120045(0x2c1)](_0x5ba4b6){const _0xbd1e6f=_0x120045;try{return await this[_0xbd1e6f(0x7e9)](_0x5ba4b6),!0x0;}catch(_0x185a63){return!0x1;}}async[_0x120045(0x193)](_0x270b48){const _0x5d646d=_0x120045;if(!this['fileChunks']['has'](_0x270b48))return;const _0x15c6d6=this[_0x5d646d(0xa3e)][_0x5d646d(0x7e9)](_0x270b48);if(_0x15c6d6[_0x5d646d(0x815)])try{await _0x15c6d6[_0x5d646d(0x815)][_0x5d646d(0x1c1)]();}catch(_0x6e3646){console[_0x5d646d(0x525)](_0x5d646d(0xa44),_0x6e3646);}this[_0x5d646d(0xa3e)][_0x5d646d(0xa10)](_0x270b48);}}class _0x34d29c extends _0x3ab0ee{[_0x120045(0x781)];[_0x120045(0xea)];[_0x120045(0xa2c)]=new Map();[_0x120045(0x219)];constructor(_0x15f9b4,_0x4b3ffe,_0x220dd7){const _0x48cedd=_0x120045;if(_0x48cedd(0x630)!=typeof _0x4b3ffe)throw new _0x18939c(_0x15d29b[_0x48cedd(0x36a)],_0x48cedd(0x113));super(_0x15f9b4,_0x4b3ffe),this[_0x48cedd(0x781)]=_0x15f9b4,this[_0x48cedd(0xea)]=_0x220dd7,this[_0x48cedd(0x3b4)]();}['reset'](){const _0x378e32=_0x120045;this[_0x378e32(0x3b4)]();}[_0x120045(0x729)](){const _0x32360d=_0x120045;return _0x4e2564[_0x32360d(0x8be)][_0x32360d(0x348)];}[_0x120045(0x552)](_0x40b54a,_0x534193){const _0x274c7c=_0x120045;_0x1b1d61['log'](_0x185607[_0x274c7c(0x348)],_0x274c7c(0x375),this[_0x274c7c(0x781)][_0x274c7c(0xd7)](),_0x40b54a,_0x534193),_0x1b1d61[_0x274c7c(0x7a0)](_0x3baa96[_0x274c7c(0x348)],{'type':_0x274c7c(0x552),'label':this[_0x274c7c(0x573)],'nodeId':this[_0x274c7c(0x781)][_0x274c7c(0xd7)](),'nodeType':this[_0x274c7c(0x781)][_0x274c7c(0x7f3)],'clusterId':this[_0x274c7c(0xea)],'remoteIds':_0x534193??[],'contentType':_0x40b54a instanceof File?_0x4e2564[_0x274c7c(0x8be)]['File']:_0x4e2564[_0x274c7c(0x8be)]['Data'],'size':_0x40b54a instanceof File?_0x40b54a[_0x274c7c(0x625)]:JSON['stringify'](_0x40b54a)['length']}),this[_0x274c7c(0x3b4)](),this[_0x274c7c(0x593)](_0x40b54a,_0x534193);}[_0x120045(0x8f0)](_0x4fc955,_0x1014c7){const _0x12992a=_0x120045;if(this['unsubscribeHandler']['has'](_0x4fc955))throw new _0x18939c(_0x15d29b[_0x12992a(0x303)],_0x12992a(0x750));this['unsubscribeHandler'][_0x12992a(0x381)](_0x4fc955,this[_0x12992a(0x897)]((_0x28fabc,_0x426925)=>{const _0x3c4b8c=_0x12992a;_0x3c4b8c(0x7f6)===_0x4fc955&&_0x426925 instanceof File||!(_0x3c4b8c(0xa11)!==_0x4fc955||_0x426925 instanceof File)||(_0x1b1d61[_0x3c4b8c(0xed)](_0x185607[_0x3c4b8c(0x348)],_0x3c4b8c(0x500),this[_0x3c4b8c(0x781)][_0x3c4b8c(0xd7)](),_0x28fabc,_0x426925),_0x1b1d61['logServiceEvent'](_0x3baa96[_0x3c4b8c(0x348)],{'type':_0x3c4b8c(0x8f0),'label':this['label'],'nodeId':this[_0x3c4b8c(0x781)][_0x3c4b8c(0xd7)](),'nodeType':this[_0x3c4b8c(0x781)][_0x3c4b8c(0x7f3)],'clusterId':this[_0x3c4b8c(0xea)],'remoteId':_0x28fabc,'contentType':_0x4fc955,'size':_0x426925 instanceof File?_0x426925[_0x3c4b8c(0x625)]:JSON[_0x3c4b8c(0x4e9)](_0x426925)[_0x3c4b8c(0x59d)]}),this[_0x3c4b8c(0x3b4)](),_0x1014c7(_0x28fabc,_0x426925));}));}[_0x120045(0x236)](_0x556e1d){const _0x3fec03=_0x120045;this['unsubscribeHandler']['get'](_0x556e1d)?.(),this[_0x3fec03(0xa2c)][_0x3fec03(0xa10)](_0x556e1d);}[_0x120045(0x4d9)](){const _0x42c5ca=_0x120045;this['unsubscribeHandler'][_0x42c5ca(0x311)](_0x56d030=>_0x56d030()),clearTimeout(this['debounceStats']),delete this[_0x42c5ca(0x219)],super[_0x42c5ca(0x4d9)]();}[_0x120045(0x1c1)](){const _0x118bd7=_0x120045;this[_0x118bd7(0xa45)]?.[_0x118bd7(0x552)]({'sourceId':_0x40bfc5,'messageType':_0x435438[_0x118bd7(0x9a6)],'content':{'type':_0x46be06[_0x118bd7(0x2fa)],'label':this[_0x118bd7(0x573)]}});}['sendStats'](){const _0x2c0c62=_0x120045;this[_0x2c0c62(0x219)]&&clearTimeout(this[_0x2c0c62(0x219)]),this[_0x2c0c62(0x219)]=setTimeout(()=>{const _0x242076=_0x2c0c62;this[_0x242076(0xa45)]?.[_0x242076(0x552)]({'sourceId':_0x40bfc5,'messageType':_0x435438[_0x242076(0x9a6)],'content':{'type':_0x46be06[_0x242076(0x8f6)],'label':this['label'],'stats':{'timestamp':Date['now'](),'storage':0x0,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x242076(0x996)],'bytesSent':this[_0x242076(0x88e)],'bytesReceived':this[_0x242076(0x4ac)],'writes':0x0,'reads':0x0,'prompts':0x0,'tokens':0x0}}});},_0x4e96c3);}}class _0x416d87 extends _0x1851f7{['localNode'];[_0x120045(0x96d)];[_0x120045(0x5d6)];[_0x120045(0xea)];['unsubscribeHandler'];[_0x120045(0x3c8)];[_0x120045(0x92f)];['outgoingStreams']=new Map();[_0x120045(0x2b3)];[_0x120045(0x6a2)]=new Set();[_0x120045(0x2a9)];[_0x120045(0x5a7)]=_0x29f207();[_0x120045(0xa67)]=new Map();constructor(_0x44c27a,_0x49cd88,_0x39c19e,_0x3e5471,_0x30838e,_0x33da48){const _0x5939c4=_0x120045;super(_0x49cd88,_0x39c19e,new MediaStream()),this[_0x5939c4(0x781)]=_0x44c27a,this['internalId']=_0x3e5471,this[_0x5939c4(0x5d6)]=_0x30838e,this['clusterId']=_0x33da48,this[_0x5939c4(0x829)][_0x5939c4(0x258)]()[_0x5939c4(0x311)](_0x46b6af=>this['setupTrackEndedListeners'](_0x46b6af));}[_0x120045(0x4d9)](){const _0x4a9462=_0x120045;this[_0x4a9462(0x54a)][_0x4a9462(0x625)]>0x0&&(this[_0x4a9462(0x54a)][_0x4a9462(0x311)](_0x551033=>{const _0x3c4dd9=_0x4a9462;_0x551033[_0x3c4dd9(0x12a)](),_0x551033['destroy']();}),this[_0x4a9462(0x54a)]['clear']()),this[_0x4a9462(0xa67)][_0x4a9462(0x311)](_0x3a6684=>_0x3a6684()),this['mediaStream'][_0x4a9462(0x258)]()[_0x4a9462(0x311)](_0x14043d=>this[_0x4a9462(0x829)][_0x4a9462(0x269)](_0x14043d)),this[_0x4a9462(0x92f)]&&(clearTimeout(this[_0x4a9462(0x92f)]),delete this[_0x4a9462(0x92f)]),this[_0x4a9462(0x3c8)]?.(),super[_0x4a9462(0x4d9)]();}[_0x120045(0x353)](_0x218801){const _0x2b8be4=_0x120045;this[_0x2b8be4(0xa2c)]=_0x218801['subscribe'](({content:_0x5e436a})=>{const _0x58d709=_0x2b8be4;switch(_0x5e436a[_0x58d709(0x47d)]){case _0x436c52[_0x58d709(0x176)]:if(_0x1b1d61['log'](_0x185607['Subscription'],_0x58d709(0x38c),this['localNode']['getId'](),this[_0x58d709(0x2a9)]),_0x5e436a[_0x58d709(0x815)]['id']!==this[_0x58d709(0x96d)]||_0x5e436a[_0x58d709(0x2a9)]!==this[_0x58d709(0x2a9)])return;this[_0x58d709(0x269)](_0x5e436a[_0x58d709(0x895)][_0x58d709(0x74a)]),this[_0x58d709(0x829)]['addTrack'](_0x5e436a[_0x58d709(0x895)]);for(const [_0x3520f4,_0x18abe3]of this[_0x58d709(0x54a)][_0x58d709(0x471)]())try{_0x18abe3[_0x58d709(0x864)](_0x5e436a[_0x58d709(0x895)]);}catch(_0x205135){_0x18abe3[_0x58d709(0x4d9)](),this[_0x58d709(0x54a)][_0x58d709(0xa10)](_0x3520f4);}this[_0x58d709(0x866)](_0x5e436a[_0x58d709(0x895)]),this[_0x58d709(0x4e3)](),'video'===_0x5e436a[_0x58d709(0x895)][_0x58d709(0x74a)]&&this[_0x58d709(0x2b3)]&&(this[_0x58d709(0x829)][_0x58d709(0x495)]?setTimeout(()=>this[_0x58d709(0x2b3)]?.[_0x58d709(0x138)](),0x0):setTimeout(()=>this[_0x58d709(0x2b3)]?.['load'](),0x0),this['setupResizeHandler']());break;case _0x436c52[_0x58d709(0x183)]:if(_0x5e436a[_0x58d709(0x815)]['id']!==this[_0x58d709(0x96d)]||_0x5e436a['providerId']!==this[_0x58d709(0x2a9)])return;this[_0x58d709(0x269)](_0x5e436a[_0x58d709(0x895)][_0x58d709(0x74a)]),this['renderElement']&&_0x58d709(0x7b7)===_0x5e436a[_0x58d709(0x895)][_0x58d709(0x74a)]&&(this['resizeHandler']?.(),this[_0x58d709(0x829)][_0x58d709(0x258)]()[_0x58d709(0x59d)]>0x0?this[_0x58d709(0x2b3)][_0x58d709(0xa2b)]():this[_0x58d709(0x2b3)][_0x58d709(0x822)]=null);}});}[_0x120045(0x7c9)](){const _0x2605d0=_0x120045;this[_0x2605d0(0xa2c)]?.(),this[_0x2605d0(0xa67)][_0x2605d0(0x311)](_0x1f08e6=>_0x1f08e6()),delete this['unsubscribeHandler'];}[_0x120045(0x3d9)](){const _0xa8d82=_0x120045;return this[_0xa8d82(0x96d)];}['setInternalId'](_0x4c3cea){this['internalId']=_0x4c3cea;}[_0x120045(0x853)](){return this['availableTrackKinds'];}[_0x120045(0x97d)](_0x39d945){const _0x593004=_0x120045;for(const _0x2bd814 of _0x39d945||this[_0x593004(0x5d6)])if(!this['mediaStream'][_0x593004(0x258)]()['find'](_0x274b50=>_0x274b50['kind']===_0x2bd814))return!0x1;return!0x0;}[_0x120045(0x6e6)](){const _0xe1dbea=_0x120045;let _0xe6f252={'width':0x0,'height':0x0};const _0x3af32c=this['mediaStream'][_0xe1dbea(0xf7)]();if(_0x3af32c['length']>0x0){const _0x402b8c=_0x3af32c[0x0]['getSettings']();_0x402b8c[_0xe1dbea(0x5c6)]&&_0x402b8c[_0xe1dbea(0xa0b)]&&(_0xe6f252={'width':_0x402b8c['width'],'height':_0x402b8c['height']});}return _0xe6f252;}['isSubscribed'](_0x57f957){const _0x36818d=_0x120045;for(const _0x1bd942 of _0x57f957)if(!this['subscribedTracks'][_0x36818d(0x5a8)](_0x1bd942))return!0x1;return!0x0;}['getShareableStream'](_0x47a73b,_0x121411){const _0x1c224a=_0x120045;if(!this['outgoingStreams']['has'](_0x47a73b)){const _0x37a140=new _0x40f91b(this[_0x1c224a(0x185)],this[_0x1c224a(0x573)],this[_0x1c224a(0x829)],_0x47a73b,_0x121411),_0x346529=_0x37a140[_0x1c224a(0x98b)](()=>{const _0x8a0a08=_0x1c224a;_0x346529(),this[_0x8a0a08(0x54a)][_0x8a0a08(0x7e9)](_0x47a73b)?.['destroy'](),this[_0x8a0a08(0x54a)][_0x8a0a08(0xa10)](_0x47a73b);});this['outgoingStreams'][_0x1c224a(0x381)](_0x47a73b,_0x37a140),_0x37a140[_0x1c224a(0x67d)](this[_0x1c224a(0xa45)]);}return this['outgoingStreams'][_0x1c224a(0x7e9)](_0x47a73b);}[_0x120045(0x23e)](){return this['mediaStream']['id'];}[_0x120045(0x752)](){const _0x4ef5cc=_0x120045;return _0x4e2564[_0x4ef5cc(0x34f)]['Default'];}[_0x120045(0xa1d)](){const _0x295954=_0x120045;return Array[_0x295954(0x7f9)](this['subscribedTracks']);}[_0x120045(0x8f0)](_0x48b873){const _0x4d62e9=_0x120045;let _0x5a6934=[];if(_0x48b873){_0x4d62e9(0x5be)!=typeof _0x48b873[_0x4d62e9(0x7b7)]||_0x48b873[_0x4d62e9(0x7b7)][_0x4d62e9(0x2b3)]instanceof HTMLVideoElement||!this['renderElement']||(_0x48b873['video']={'renderElement':this[_0x4d62e9(0x2b3)]});try{(0x0,_0x4e2564[_0x4d62e9(0x6bb)])(_0x48b873);}catch(_0x22bb41){throw new _0x18939c(_0x15d29b[_0x4d62e9(0x2f1)],_0x4d62e9(0x315));}_0x48b873[_0x4d62e9(0x7b7)]&&(_0x5a6934['push'](_0x4d62e9(0x7b7)),'boolean'!=typeof _0x48b873[_0x4d62e9(0x7b7)]&&_0x48b873[_0x4d62e9(0x7b7)][_0x4d62e9(0x2b3)]&&(this[_0x4d62e9(0x2b3)]=_0x48b873[_0x4d62e9(0x7b7)]['renderElement'],_0x48b873[_0x4d62e9(0x7b7)][_0x4d62e9(0x8f3)]||(_0x48b873['video'][_0x4d62e9(0x8f3)]={'width':this[_0x4d62e9(0x2b3)][_0x4d62e9(0x664)],'height':this['renderElement']['clientHeight']}),delete _0x48b873[_0x4d62e9(0x7b7)][_0x4d62e9(0x2b3)])),_0x48b873[_0x4d62e9(0x28e)]&&_0x5a6934['push'](_0x4d62e9(0x28e));}else _0x5a6934=this[_0x4d62e9(0x853)]();this[_0x4d62e9(0x10b)](_0x5a6934)||(_0x5a6934[_0x4d62e9(0x311)](_0x2573cc=>this[_0x4d62e9(0x6a2)]['add'](_0x2573cc)),this[_0x4d62e9(0xa45)][_0x4d62e9(0x552)]({'sourceId':_0x40bfc5,'messageType':_0x435438[_0x4d62e9(0x9a6)],'content':{'type':_0x46be06['SubscribeMediaStream'],'label':this[_0x4d62e9(0x573)],'ownerId':this[_0x4d62e9(0x185)][_0x4d62e9(0xd7)](),'trackKinds':_0x5a6934,'params':_0x48b873}}),_0x1b1d61[_0x4d62e9(0x7a0)](_0x3baa96[_0x4d62e9(0x7f1)],{'type':_0x4d62e9(0x8f0),'label':this[_0x4d62e9(0x573)],'nodeId':this[_0x4d62e9(0x781)][_0x4d62e9(0xd7)](),'nodeType':this[_0x4d62e9(0x781)][_0x4d62e9(0x7f3)],'clusterId':this[_0x4d62e9(0xea)],'sourceId':this[_0x4d62e9(0x185)][_0x4d62e9(0xd7)](),'streamId':this[_0x4d62e9(0x96d)],'trackKinds':_0x5a6934}));}[_0x120045(0x245)](_0x344a1e){const _0x52ce0c=_0x120045;try{(0x0,_0x4e2564[_0x52ce0c(0x6bb)])(_0x344a1e);}catch(_0x210e13){throw new _0x18939c(_0x15d29b['RemoteMediaStreamInvalidSubscriptionParams'],_0x52ce0c(0x315));}this[_0x52ce0c(0x92f)]&&clearTimeout(this['updateDebounce']),this[_0x52ce0c(0x92f)]=setTimeout(()=>{const _0x34b391=_0x52ce0c;delete this[_0x34b391(0x92f)],this['systemTopic'][_0x34b391(0x552)]({'sourceId':_0x40bfc5,'messageType':_0x435438['Content'],'content':{'type':_0x46be06[_0x34b391(0x515)],'label':this[_0x34b391(0x573)],'ownerId':this['owner'][_0x34b391(0xd7)](),'params':_0x344a1e}});},0x1f4);}[_0x120045(0x236)](_0x407800){const _0x4a68b8=_0x120045;_0x407800||(_0x407800=this[_0x4a68b8(0x853)]()),(_0x407800=Array[_0x4a68b8(0x799)](_0x407800)?_0x407800:[_0x407800])[_0x4a68b8(0x311)](_0x51e91d=>this[_0x4a68b8(0x6a2)][_0x4a68b8(0xa10)](_0x51e91d)),this[_0x4a68b8(0xa45)]['publish']({'sourceId':_0x40bfc5,'messageType':_0x435438['Content'],'content':{'type':_0x46be06[_0x4a68b8(0x9a4)],'label':this[_0x4a68b8(0x573)],'ownerId':this[_0x4a68b8(0x185)][_0x4a68b8(0xd7)](),'trackKinds':_0x407800,'remainingTracks':this['subscribedTracks'][_0x4a68b8(0x625)]}});}['onProviderChange'](_0x24f531){const _0x1c8679=_0x120045;return this['providerListener'][_0x1c8679(0x8f0)](_0x24f531);}[_0x120045(0x756)](){const _0x1ec99d=_0x120045;return this[_0x1ec99d(0x2a9)];}[_0x120045(0x6e0)](_0x3c114d){const _0x3e64bf=_0x120045;this[_0x3e64bf(0x2a9)]!==_0x3c114d&&(this['providerId']=_0x3c114d,this[_0x3e64bf(0x5a7)][_0x3e64bf(0x552)](_0x3c114d));}[_0x120045(0x97f)](_0x3537c9){const _0x5cdc40=_0x120045;this['trackEndedListeners'][_0x5cdc40(0x7e9)](_0x3537c9)?.(),this['trackEndedListeners'][_0x5cdc40(0xa10)](_0x3537c9);}[_0x120045(0x269)](_0x16b6ac){const _0xff633a=_0x120045,_0x546aa3=this[_0xff633a(0x829)]['getTracks']()[_0xff633a(0x999)](_0x325fb6=>_0x325fb6[_0xff633a(0x74a)]===_0x16b6ac);_0x546aa3&&(this[_0xff633a(0x829)][_0xff633a(0x269)](_0x546aa3),this[_0xff633a(0x54a)][_0xff633a(0x311)](_0x4cd8fd=>_0x4cd8fd[_0xff633a(0x269)](_0x16b6ac)),this[_0xff633a(0xa67)][_0xff633a(0x7e9)](_0x16b6ac)?.());}[_0x120045(0x4e3)](){const _0x5d3c64=_0x120045;this[_0x5d3c64(0x2b3)]&&(this[_0x5d3c64(0x2b3)]['srcObject']&&this[_0x5d3c64(0x2b3)][_0x5d3c64(0x822)]===this[_0x5d3c64(0x829)]||(this['renderElement'][_0x5d3c64(0x822)]=this[_0x5d3c64(0x829)]));}[_0x120045(0xa43)](){const _0x1e9b47=_0x120045;if(this[_0x1e9b47(0x2b3)]&&!this[_0x1e9b47(0x3c8)]&&_0x1e9b47(0x2a8)!=typeof ResizeObserver){let _0x43b3c4=this[_0x1e9b47(0x2b3)][_0x1e9b47(0x664)],_0x2d2a1c=this[_0x1e9b47(0x2b3)][_0x1e9b47(0x20d)];const _0x34488e=new ResizeObserver(_0x2590c2=>{const _0x545707=_0x1e9b47,{width:_0x218d77,height:_0x401f96}=_0x2590c2[0x0][_0x545707(0x3b3)];_0x43b3c4===_0x218d77&&_0x2d2a1c===_0x401f96||(_0x43b3c4=Math[_0x545707(0x2f2)](_0x218d77),_0x2d2a1c=Math['floor'](_0x401f96),this[_0x545707(0x245)]({'video':{'maxResolution':{'width':_0x218d77,'height':_0x401f96}}}));});_0x34488e[_0x1e9b47(0x25a)](this[_0x1e9b47(0x2b3)]),this[_0x1e9b47(0x3c8)]=()=>_0x34488e['disconnect']();}}['handleRemoteTrackFailure'](_0x370eb5){const _0x57f8ce=_0x120045,_0x4fa61e=[];for(const _0x1ba7ff of this['subscribedTracks'])this[_0x57f8ce(0x269)](_0x1ba7ff),_0x4fa61e[_0x57f8ce(0xdc)](_0x1ba7ff);this[_0x57f8ce(0x2a9)]&&this[_0x57f8ce(0xa45)][_0x57f8ce(0x552)]({'sourceId':_0x40bfc5,'messageType':_0x435438[_0x57f8ce(0x9a6)],'content':{'type':_0x46be06['RemoteMediaStreamTrackFail'],'label':this[_0x57f8ce(0x573)],'streamId':this[_0x57f8ce(0x96d)],'ownerId':this[_0x57f8ce(0x185)][_0x57f8ce(0xd7)](),'providerId':this[_0x57f8ce(0x2a9)],'trackKinds':_0x4fa61e}});}[_0x120045(0x866)](_0x330912){const _0x3ed4c1=_0x120045,_0x58451d=()=>this[_0x3ed4c1(0x9ec)](_0x330912);_0x330912['addEventListener']('ended',_0x58451d),_0x330912['addEventListener'](_0x3ed4c1(0x560),_0x58451d),this[_0x3ed4c1(0xa67)]['set'](_0x330912[_0x3ed4c1(0x74a)],()=>{const _0x17757a=_0x3ed4c1;_0x330912['removeEventListener'](_0x17757a(0x9fb),_0x58451d),_0x330912['removeEventListener'](_0x17757a(0x560),_0x58451d),this[_0x17757a(0xa67)]['delete'](_0x330912[_0x17757a(0x74a)]);});}}class _0x5d6dc4 extends _0x3ab0ee{['localNode'];['clusterId'];['vendorId'];['db'];[_0x120045(0x219)];[_0x120045(0xcf)]=0x0;['reads']=0x0;[_0x120045(0x354)]=!0x1;constructor(_0x15d7de,_0x2f075b,_0x53c781,_0x4786db,_0x207172){const _0x567a9a=_0x120045;if(_0x567a9a(0x630)!=typeof _0x2f075b)throw new _0x18939c(_0x15d29b[_0x567a9a(0x5e1)],_0x567a9a(0x6ff));super(_0x15d7de,_0x2f075b),this[_0x567a9a(0x781)]=_0x15d7de,this[_0x567a9a(0xea)]=_0x53c781,this['vendorId']=_0x4786db;const _0x3e0487=_0x567a9a(0x678)+this[_0x567a9a(0x11b)]+_0x567a9a(0x678)+this[_0x567a9a(0xea)]+'ccc'+this[_0x567a9a(0x573)];this['db']=new _0x207172(_0x3e0487),this[_0x567a9a(0x3b4)]();}[_0x120045(0x45d)](){const _0x34570c=_0x120045;return this[_0x34570c(0x354)];}['setIsLoaded'](_0x44f39d){const _0x413ca5=_0x120045;this[_0x413ca5(0x354)]=_0x44f39d;}[_0x120045(0x4d9)](){const _0x9d47d3=_0x120045;clearTimeout(this[_0x9d47d3(0x219)]),delete this[_0x9d47d3(0x219)],super[_0x9d47d3(0x4d9)]();}['close'](){const _0x14007e=_0x120045;this[_0x14007e(0xa45)][_0x14007e(0x552)]({'sourceId':_0x40bfc5,'messageType':_0x435438[_0x14007e(0x9a6)],'content':{'type':_0x46be06[_0x14007e(0x14e)],'label':this[_0x14007e(0x573)]}});}['reset'](){const _0x5a8955=_0x120045;this[_0x5a8955(0x3b4)]();}[_0x120045(0x729)](){const _0x111d1e=_0x120045;return _0x4e2564[_0x111d1e(0x8be)][_0x111d1e(0x76a)];}[_0x120045(0x2de)](_0x29748f,_0x5448ae,_0x17fa5a,_0x785e5a,_0x575d3d){const _0x34ede9=_0x120045,_0x4e5d5b=this['db'][_0x34ede9(0x2de)](_0x29748f,_0x5448ae,_0x17fa5a,_0x785e5a,_0x575d3d);return this[_0x34ede9(0x9f6)]+=0x1,_0x1b1d61['logServiceEvent'](_0x3baa96[_0x34ede9(0x76a)],{'type':_0x34ede9(0x2de),'label':this[_0x34ede9(0x573)],'nodeId':this[_0x34ede9(0x781)]['getId'](),'nodeType':this[_0x34ede9(0x781)][_0x34ede9(0x7f3)],'clusterId':this[_0x34ede9(0xea)],'size':0x0}),this[_0x34ede9(0x3b4)](),_0x4e5d5b;}['insert'](_0x1d2cca,_0x43b3d4,_0x13096b,_0x19f2fd){const _0x976b90=_0x120045;this['db'][_0x976b90(0xa1e)](_0x1d2cca,_0x43b3d4,_0x13096b,_0x19f2fd),this[_0x976b90(0xcf)]+=0x1,_0x1b1d61[_0x976b90(0x7a0)](_0x3baa96['VectorDatabase'],{'type':_0x976b90(0xa1e),'label':this['label'],'nodeId':this[_0x976b90(0x781)][_0x976b90(0xd7)](),'nodeType':this[_0x976b90(0x781)][_0x976b90(0x7f3)],'clusterId':this[_0x976b90(0xea)],'size':_0x19f2fd[_0x976b90(0x181)]((_0x271146,_0x41fa34)=>_0x271146+_0x41fa34[_0x976b90(0x59d)],0x0)}),this[_0x976b90(0x3b4)]();}[_0x120045(0x707)](_0x5bfd2c){const _0x4343c3=_0x120045;this['db']['remove'](_0x5bfd2c),this[_0x4343c3(0xcf)]+=0x1,_0x1b1d61['logServiceEvent'](_0x3baa96[_0x4343c3(0x76a)],{'type':'remove','label':this['label'],'nodeId':this[_0x4343c3(0x781)][_0x4343c3(0xd7)](),'nodeType':this['localNode']['type'],'clusterId':this[_0x4343c3(0xea)],'size':0x0}),this['sendStats']();}[_0x120045(0x6ed)](_0xba9bb2){this['db']['saveToDisk'](_0xba9bb2);}['loadFromDisk'](_0x565338){this['db']['loadFromDisk'](_0x565338);}['sendStats'](){const _0x52a84e=_0x120045;this[_0x52a84e(0x219)]&&clearTimeout(this[_0x52a84e(0x219)]),this[_0x52a84e(0x219)]=setTimeout(async()=>{const _0x322b81=_0x52a84e;delete this[_0x322b81(0x219)];const _0x2e1e0b=this['db'][_0x322b81(0x104)]()[_0x322b81(0x3fd)];this[_0x322b81(0xa45)]['publish']({'sourceId':_0x40bfc5,'messageType':_0x435438[_0x322b81(0x9a6)],'content':{'type':_0x46be06[_0x322b81(0x191)],'label':this[_0x322b81(0x573)],'stats':{'timestamp':Date[_0x322b81(0x9e1)](),'storage':_0x2e1e0b,'messagesSent':this['messagesSent'],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x322b81(0x88e)],'bytesReceived':this[_0x322b81(0x4ac)],'writes':this['writes'],'reads':this[_0x322b81(0x9f6)],'prompts':0x0,'tokens':0x0}}}),_0x1b1d61[_0x322b81(0x6d9)](_0x3baa96[_0x322b81(0x76a)],_0x322b81(0x678)+this[_0x322b81(0xea)]+_0x322b81(0x678)+this[_0x322b81(0x573)],_0x2e1e0b);},_0x4e96c3);}}class _0x47a08d{['id'];[_0x120045(0x701)];[_0x120045(0x7c5)];constructor(_0x33d470,_0x471bdf=new Set(),_0x4febfe){const _0x2d0f55=_0x120045;this['id']=_0x33d470,this[_0x2d0f55(0x701)]=_0x471bdf,this[_0x2d0f55(0x7c5)]=_0x4febfe;}[_0x120045(0x1c1)](){const _0x25e71b=_0x120045;this[_0x25e71b(0x7c5)]=void 0x0,this[_0x25e71b(0x701)]['clear']();}[_0x120045(0xd7)](){return this['id'];}[_0x120045(0x1ae)](){const _0x3392d9=_0x120045;return this[_0x3392d9(0x7c5)];}[_0x120045(0x18a)](){const _0x4b4461=_0x120045;return this[_0x4b4461(0x701)];}}class _0x631c8e extends _0x47a08d{['id'];['displayName'];[_0x120045(0xa27)];[_0x120045(0x701)];[_0x120045(0x7c5)];[_0x120045(0x7f3)]=_0x4e2564[_0x120045(0x9cd)][_0x120045(0x4b1)];constructor(_0x60a096,_0x57d872,_0x4adc2b,_0x371bfe=new Set(),_0x3809b9){const _0xd1a7a4=_0x120045;super(_0x60a096,_0x371bfe,_0x3809b9),this['id']=_0x60a096,this[_0xd1a7a4(0x8ff)]=_0x57d872,this[_0xd1a7a4(0xa27)]=_0x4adc2b,this['remoteConnections']=_0x371bfe,this['rank']=_0x3809b9;}[_0x120045(0x665)](){return this['displayName'];}[_0x120045(0x659)](){const _0x1f7cd9=_0x120045;return this[_0x1f7cd9(0xa27)];}}class _0x132231{[_0x120045(0x11b)];['clusterId'];[_0x120045(0x2c9)];constructor(_0x3eccf8,_0x2e1c84){const _0x14a0bb=_0x120045;this['vendorId']=_0x3eccf8,this['clusterId']=_0x2e1c84,this[_0x14a0bb(0x2c9)]=_0x14a0bb(0x678)+this[_0x14a0bb(0x11b)]+'ccc'+this[_0x14a0bb(0xea)];}async[_0x120045(0x19b)](_0x4786d0,_0x3f2099){const _0x28a095=_0x120045,_0x6fbb17=(0x0,_0x4399c2[_0x28a095(0x6f0)])(_0x2451a5['getDatabase'](),_0x28a095(0x22d)+this['clusterKey']+_0x28a095(0x718)+_0x3f2099+_0x28a095(0x93a)+_0x4786d0['id']),_0xa7459=(0x0,_0x4399c2[_0x28a095(0x485)])(_0x6fbb17);_0xa7459[_0x28a095(0x707)](),_0x4786d0[_0x28a095(0x7e8)]||delete _0x4786d0[_0x28a095(0x7e8)];try{await(0x0,_0x4399c2[_0x28a095(0x381)])(_0x6fbb17,_0x4786d0);}catch(_0x4c85de){throw await _0xa7459[_0x28a095(0x689)](),new _0x4a916f(_0x4a916f[_0x28a095(0xa30)]['ObjectStoreCannotWriteTransaction']);}if(!0x1===(await(0x0,_0x4399c2[_0x28a095(0x935)])((0x0,_0x4399c2[_0x28a095(0x6f0)])(_0x2451a5[_0x28a095(0x1c4)](),'clusters/'+this[_0x28a095(0x2c9)]+_0x28a095(0x718)+_0x3f2099+_0x28a095(0xa33)),_0x1e0757=>_0x1e0757?_0x1e0757===_0x4786d0[_0x28a095(0x7e8)]?_0x4786d0['id']:void 0x0:_0x4786d0[_0x28a095(0x7e8)]?_0x4786d0[_0x28a095(0x7e8)]:_0x4786d0['id']))['committed'])throw await(0x0,_0x4399c2[_0x28a095(0x707)])(_0x6fbb17),await _0xa7459[_0x28a095(0x689)](),new _0x4a916f(_0x4a916f[_0x28a095(0xa30)][_0x28a095(0x413)]);await _0xa7459[_0x28a095(0x689)]();}async[_0x120045(0x5cc)](_0x10b76c,_0x5ecd55){const _0x3211af=_0x120045;let _0x540dc9=[];const _0x1a995a=(0x0,_0x4399c2[_0x3211af(0x6f0)])(_0x2451a5[_0x3211af(0x1c4)](),'clusters/'+this[_0x3211af(0x2c9)]+'/objectstores/'+_0x10b76c+_0x3211af(0x874));let _0x3fd3a5=await(0x0,_0x4399c2['get'])((0x0,_0x4399c2[_0x3211af(0x893)])(_0x1a995a,(0x0,_0x4399c2[_0x3211af(0x263)])(0x65),(0x0,_0x4399c2['orderByKey'])()));if(!_0x3fd3a5[_0x3211af(0x52f)]()){if(void 0x0!==_0x5ecd55)throw new _0x4a916f(_0x4a916f[_0x3211af(0xa30)][_0x3211af(0x660)]);return _0x540dc9;}const _0x5bea08=_0x3fd3a5[_0x3211af(0x7cc)]();for(;Object[_0x3211af(0xca)](_0x3fd3a5[_0x3211af(0x7cc)]())[_0x3211af(0x59d)]>0x64;){const _0x298210=Object[_0x3211af(0xca)](_0x3fd3a5['val']()),_0x496925=_0x298210[_0x298210[_0x3211af(0x59d)]-0x1];_0x3fd3a5=await(0x0,_0x4399c2[_0x3211af(0x7e9)])((0x0,_0x4399c2[_0x3211af(0x893)])(_0x1a995a,(0x0,_0x4399c2['limitToFirst'])(0x65),(0x0,_0x4399c2['startAt'])(_0x496925),(0x0,_0x4399c2[_0x3211af(0x2d2)])())),Object['assign'](_0x5bea08,_0x3fd3a5['val']());}if(_0x540dc9=Object['values'](_0x5bea08)[_0x3211af(0x1e1)](_0x4c07d4=>'string'!=typeof _0x4c07d4),0x0===_0x540dc9[_0x3211af(0x59d)]&&void 0x0!==_0x5ecd55)throw new _0x4a916f(_0x4a916f[_0x3211af(0xa30)]['ObjectStoreInvalidState']);if(_0x540dc9['length']>0x0&&void 0x0!==_0x5ecd55&&!_0x540dc9[_0x3211af(0x999)](_0x3f72ef=>_0x3f72ef['id']===_0x5ecd55))throw new _0x4a916f(_0x4a916f[_0x3211af(0xa30)][_0x3211af(0x660)]);const _0x12be31=[];let _0x406176=_0x540dc9[_0x3211af(0x999)](_0x3116b5=>_0x3116b5[_0x3211af(0x7e8)]===_0x5ecd55);for(;_0x406176;)_0x12be31['push'](_0x406176),_0x406176=_0x540dc9['find'](_0x28fb74=>_0x28fb74[_0x3211af(0x7e8)]===_0x406176['id']);return _0x12be31;}}class _0x2ef90e{[_0x120045(0x22a)];[_0x120045(0x58d)];[_0x120045(0x5d5)]=new Map();[_0x120045(0x71f)]=new Map();[_0x120045(0x3fe)]=new Map();[_0x120045(0x1a2)]=new Map();['externalStorageConnections']=new Map();[_0x120045(0x4c8)]=new Map();[_0x120045(0x4a4)]=new Map();[_0x120045(0x7d0)]=new Map();['jobDispatchers']=new Map();[_0x120045(0x25e)]=new Map();[_0x120045(0x4e5)];constructor(_0x2bfd60,_0x35ff0f){const _0x23c66f=_0x120045;this[_0x23c66f(0x22a)]=_0x2bfd60,this[_0x23c66f(0x58d)]=_0x35ff0f,this['transactionService']=new _0x132231(this[_0x23c66f(0x22a)][_0x23c66f(0x11b)],this[_0x23c66f(0x22a)][_0x23c66f(0xea)]);}[_0x120045(0x1c1)](_0x5c3fc4=!0x1){const _0x4e6dff=_0x120045;this[_0x4e6dff(0x71f)][_0x4e6dff(0x311)]((_0x4093d1,_0x469231)=>{const _0x20b19e=_0x4e6dff;_0x4093d1[_0x20b19e(0x311)]((_0x1b19df,_0x14f1f8)=>{const _0x12fe0a=_0x20b19e;this[_0x12fe0a(0x3b6)](_0x469231,_0x14f1f8);});}),_0x5c3fc4||(_0x4b3f7d['clear'](),this[_0x4e6dff(0x5d5)][_0x4e6dff(0x311)]((_0x134319,_0x1f9323)=>{const _0x4a395e=_0x4e6dff;this[_0x4a395e(0x6ea)](_0x1f9323);}),this[_0x4e6dff(0x3fe)][_0x4e6dff(0x311)]((_0x40d3c1,_0x52816f)=>{const _0x90b839=_0x4e6dff;this[_0x90b839(0x3de)](_0x52816f);}),this[_0x4e6dff(0x1a2)][_0x4e6dff(0x311)]((_0x90e5c6,_0x319fa7)=>{const _0x3be3db=_0x4e6dff;this[_0x3be3db(0x402)](_0x319fa7);}),this[_0x4e6dff(0x2d7)][_0x4e6dff(0x311)]((_0x3ef99c,_0x540327)=>{const _0x3bba25=_0x4e6dff;this[_0x3bba25(0x497)](_0x540327);}),this[_0x4e6dff(0x4c8)][_0x4e6dff(0x311)]((_0x52a33e,_0x20cac9)=>{const _0x23b5e3=_0x4e6dff;this[_0x23b5e3(0x926)](_0x20cac9);}),this[_0x4e6dff(0x97a)]['forEach']((_0x27c2b0,_0x3b972f)=>{const _0x2b6afe=_0x4e6dff;this[_0x2b6afe(0xa5f)](_0x3b972f);}),this[_0x4e6dff(0x25e)][_0x4e6dff(0x311)]((_0x531995,_0x2fb7d0)=>{const _0x4f47f0=_0x4e6dff;this[_0x4f47f0(0x9ad)](_0x2fb7d0);}),this[_0x4e6dff(0x4a4)][_0x4e6dff(0x311)]((_0x2a0826,_0x409abe)=>{const _0x502524=_0x4e6dff;this[_0x502524(0x902)](_0x409abe);}),this['graphDatabases']['forEach']((_0x39de3e,_0x10fa9b)=>{const _0x25b4e5=_0x4e6dff;this[_0x25b4e5(0xa13)](_0x10fa9b);}));}['createObjectStoreBucket'](_0x2a808b,_0x17b12f,_0x15e5d0){const _0x3a1015=_0x120045;if(this[_0x3a1015(0x1a2)][_0x3a1015(0x5a8)](_0x2a808b))throw new _0x18939c(_0x15d29b[_0x3a1015(0x215)],_0x3a1015(0x80c));const _0x2f5094=new _0x4cc5d7(this[_0x3a1015(0x22a)]['localNode'],_0x2a808b,this[_0x3a1015(0x22a)]['clusterId'],this[_0x3a1015(0x22a)]['vendorId'],this[_0x3a1015(0x4e5)],_0x17b12f,()=>this[_0x3a1015(0x22a)][_0x3a1015(0x5ba)]['waitForArrayBufferSize'](),_0x15e5d0);return this[_0x3a1015(0x1a2)]['set'](_0x2a808b,_0x2f5094),this[_0x3a1015(0x22a)][_0x3a1015(0x5ba)][_0x3a1015(0x1ef)](_0x2f5094),_0x2f5094;}[_0x120045(0x7f5)](_0x503464,_0x15cf2d){const _0x446262=_0x120045;if(this[_0x446262(0x1a2)]['has'](_0x503464))throw new _0x18939c(_0x15d29b[_0x446262(0x88c)],_0x446262(0x70d));const _0x262b07=new _0x494c21(this[_0x446262(0x22a)][_0x446262(0x781)],_0x503464,this['configs'][_0x446262(0xea)],this[_0x446262(0x22a)][_0x446262(0x11b)],_0x15cf2d);return this['externalStorageConnections'][_0x446262(0x381)](_0x503464,_0x262b07),this[_0x446262(0x22a)][_0x446262(0x5ba)][_0x446262(0x1ef)](_0x262b07),_0x262b07;}async['createKeyValueDatabase'](_0x183bcf,_0x10bff4,_0x7d4817){const _0x912d34=_0x120045;if(this[_0x912d34(0x4c8)]['has'](_0x183bcf))throw new _0x18939c(_0x15d29b[_0x912d34(0x3ab)],_0x912d34(0x23f));try{const _0x180af5=this['configs'][_0x912d34(0x5ba)][_0x912d34(0xa37)][_0x912d34(0xa66)](this[_0x912d34(0x22a)][_0x912d34(0x5ba)]),_0x4898cf=new _0x2cd086(this[_0x912d34(0x22a)][_0x912d34(0x781)],_0x183bcf,this[_0x912d34(0x22a)][_0x912d34(0xea)],this[_0x912d34(0x22a)][_0x912d34(0x11b)],_0x10bff4,_0x7d4817,_0x180af5);return this[_0x912d34(0x4c8)][_0x912d34(0x381)](_0x183bcf,_0x4898cf),this[_0x912d34(0x22a)]['mediator'][_0x912d34(0x1ef)](_0x4898cf),_0x4898cf;}catch(_0x689dab){if(_0x689dab instanceof _0x18939c)throw _0x689dab;throw new _0x4a916f(_0x4a916f[_0x912d34(0xa30)][_0x912d34(0x905)],{'label':_0x183bcf,'clusterId':this[_0x912d34(0x22a)][_0x912d34(0xea)],'vendorId':this[_0x912d34(0x22a)][_0x912d34(0x11b)]});}}async[_0x120045(0x7dd)](_0x5d117b,_0x2d81a3){const _0x349ba9=_0x120045;if(this['jobDispatchers'][_0x349ba9(0x5a8)](_0x5d117b))throw new _0x18939c(_0x15d29b['JobDispatcherAlreadyExists'],_0x349ba9(0x283));try{const _0x2c5e60=new _0x28cac4(this['configs'][_0x349ba9(0x781)],_0x5d117b,_0x2d81a3);return this[_0x349ba9(0x97a)][_0x349ba9(0x381)](_0x5d117b,_0x2c5e60),this[_0x349ba9(0x22a)]['mediator'][_0x349ba9(0x1ef)](_0x2c5e60),_0x2c5e60;}catch(_0x4e258d){if(_0x4e258d instanceof _0x18939c)throw _0x4e258d;throw new _0x4a916f(_0x4a916f['codes']['JobDispatcherCreationFailed'],{'label':_0x5d117b,'clusterId':this['configs'][_0x349ba9(0xea)],'vendorId':this[_0x349ba9(0x22a)][_0x349ba9(0x11b)]});}}async[_0x120045(0x2bc)](_0x2efcc2,_0x51823e){const _0x1cbbbc=_0x120045;if(this[_0x1cbbbc(0x97a)][_0x1cbbbc(0x5a8)](_0x2efcc2))throw new _0x18939c(_0x15d29b[_0x1cbbbc(0x4fb)],_0x1cbbbc(0x54e));if(this[_0x1cbbbc(0x25e)]['has'](_0x2efcc2))throw new _0x18939c(_0x15d29b[_0x1cbbbc(0x280)],'Label\x20already\x20in\x20use\x20by\x20AI\x20Service');try{const _0xb2bfc6=new _0x2b34dd(this['configs'][_0x1cbbbc(0x781)],_0x2efcc2,this['configs'][_0x1cbbbc(0x11b)],_0x51823e);return this[_0x1cbbbc(0x97a)][_0x1cbbbc(0x381)](_0x2efcc2,_0xb2bfc6),this['configs'][_0x1cbbbc(0x5ba)][_0x1cbbbc(0x1ef)](_0xb2bfc6),_0xb2bfc6;}catch(_0x197cca){if(_0x197cca instanceof _0x18939c)throw _0x197cca;throw new _0x4a916f(_0x4a916f[_0x1cbbbc(0xa30)][_0x1cbbbc(0x544)],{'label':_0x2efcc2,'clusterId':this[_0x1cbbbc(0x22a)][_0x1cbbbc(0xea)],'vendorId':this[_0x1cbbbc(0x22a)][_0x1cbbbc(0x11b)]});}}async[_0x120045(0xa36)](_0x26fdcc,_0x243e66,_0x42e9ab,_0x4099da,_0x17a02d,_0x24ccfb,_0x1144d0,_0x1a62f2,_0x34b735,_0x393266,_0x293c71){const _0x5ab124=_0x120045;if(this[_0x5ab124(0x25e)][_0x5ab124(0x5a8)](_0x26fdcc))throw new _0x18939c(_0x15d29b['GenerativeAIWorkerAlreadyExists'],_0x5ab124(0x8b8));if(this['jobDispatchers']['has'](_0x26fdcc))throw new _0x18939c(_0x15d29b[_0x5ab124(0x280)],'Label\x20already\x20in\x20use\x20by\x20AI\x20Service');try{const _0x4a234c=new _0x408742(this[_0x5ab124(0x22a)][_0x5ab124(0x781)],_0x26fdcc,_0x243e66,this,_0x42e9ab,_0x4099da,_0x17a02d,_0x24ccfb,_0x1144d0,_0x1a62f2,_0x34b735,_0x393266,_0x293c71);return this[_0x5ab124(0x25e)]['set'](_0x26fdcc,_0x4a234c),this['configs'][_0x5ab124(0x5ba)][_0x5ab124(0x1ef)](_0x4a234c),_0x4a234c;}catch(_0x5217c8){if(_0x5217c8 instanceof _0x18939c)throw _0x5217c8;throw new _0x4a916f(_0x4a916f[_0x5ab124(0xa30)][_0x5ab124(0x568)],{'label':_0x26fdcc,'clusterId':this['configs']['clusterId'],'vendorId':this[_0x5ab124(0x22a)]['vendorId']});}}[_0x120045(0x360)](_0x42331b,_0x1bbd16){const _0x31eb37=_0x120045;if(this[_0x31eb37(0x7d0)]['has'](_0x42331b))throw new _0x18939c(_0x15d29b['GraphDatabaseAlreadyExists'],_0x31eb37(0x23f));try{const _0x5636a3=new _0x506213(this['configs'][_0x31eb37(0x781)],_0x42331b,this[_0x31eb37(0x22a)][_0x31eb37(0xea)],this[_0x31eb37(0x22a)]['vendorId'],_0x1bbd16);return this['graphDatabases']['set'](_0x42331b,_0x5636a3),this['configs']['mediator'][_0x31eb37(0x1ef)](_0x5636a3),_0x5636a3;}catch(_0x430770){if(_0x430770 instanceof _0x18939c)throw _0x430770;throw new _0x4a916f(_0x4a916f[_0x31eb37(0xa30)][_0x31eb37(0x1b1)],{'label':_0x42331b,'clusterId':this[_0x31eb37(0x22a)][_0x31eb37(0xea)],'vendorId':this['configs']['vendorId']});}}[_0x120045(0x287)](_0x7ac364,_0x5bea7b){const _0x56efc8=_0x120045;if(this[_0x56efc8(0x5d5)][_0x56efc8(0x5a8)](_0x7ac364))throw new _0x18939c(_0x15d29b[_0x56efc8(0xf2)],'Local\x20MediaStream\x20already\x20exists');if(!this['options'][_0x56efc8(0x5a5)])throw new _0x18939c(_0x15d29b[_0x56efc8(0x2b4)],'AudioContext\x20is\x20not\x20available');const _0x2c543e=new _0x3265f2(this[_0x56efc8(0x22a)][_0x56efc8(0x781)],_0x7ac364,_0x5bea7b,this[_0x56efc8(0x58d)]['maxFps'],this[_0x56efc8(0x58d)][_0x56efc8(0x5a5)],this['configs'][_0x56efc8(0xea)]);return this[_0x56efc8(0x5d5)]['set'](_0x7ac364,_0x2c543e),this[_0x56efc8(0x22a)][_0x56efc8(0x5ba)][_0x56efc8(0x1ef)](_0x2c543e),_0x2c543e[_0x56efc8(0x552)](),_0x2c543e;}['createLocalMediaStream'](_0x7334a3,_0x52fad8){const _0x40a2c1=_0x120045;if(this[_0x40a2c1(0x5d5)]['has'](_0x7334a3))throw new _0x18939c(_0x15d29b[_0x40a2c1(0xf2)],_0x40a2c1(0x6b4));const _0x2b7464=new _0x40ed03(this['configs'][_0x40a2c1(0x781)],_0x7334a3,_0x52fad8,this[_0x40a2c1(0x22a)][_0x40a2c1(0xea)]);return this[_0x40a2c1(0x5d5)][_0x40a2c1(0x381)](_0x7334a3,_0x2b7464),this[_0x40a2c1(0x22a)][_0x40a2c1(0x5ba)][_0x40a2c1(0x1ef)](_0x2b7464),_0x2b7464['publish'](),_0x2b7464;}[_0x120045(0x671)](_0x40de81){const _0x100506=_0x120045;if(this[_0x100506(0x3fe)][_0x100506(0x5a8)](_0x40de81))throw new _0x18939c(_0x15d29b['PubSubTopicAlreadyExists'],_0x100506(0x9a9));const _0x5bd85c=new _0x34d29c(this[_0x100506(0x22a)][_0x100506(0x781)],_0x40de81,this[_0x100506(0x22a)][_0x100506(0xea)]);return this[_0x100506(0x3fe)]['set'](_0x40de81,_0x5bd85c),this['configs'][_0x100506(0x5ba)][_0x100506(0x1ef)](_0x5bd85c),_0x5bd85c;}['createRemoteMediaStream'](_0xb54c19,_0x1f4538,_0x35e63a,_0x2a1c63){const _0x48abe4=_0x120045;this[_0x48abe4(0x71f)][_0x48abe4(0x5a8)](_0xb54c19)||this['remoteMediaStreams'][_0x48abe4(0x381)](_0xb54c19,new Map());const _0x53963f=this[_0x48abe4(0x71f)]['get'](_0xb54c19);if(_0x53963f[_0x48abe4(0x5a8)](_0x1f4538))throw new _0x18939c(_0x15d29b[_0x48abe4(0x9d1)],_0x48abe4(0x344));const _0x15c25d=new _0x631c8e(_0xb54c19,'',''),_0x5a0f49=new _0x416d87(this[_0x48abe4(0x22a)][_0x48abe4(0x781)],_0x15c25d,_0x1f4538,_0x35e63a,_0x2a1c63,this['configs']['clusterId']);return _0x53963f[_0x48abe4(0x381)](_0x1f4538,_0x5a0f49),this[_0x48abe4(0x22a)][_0x48abe4(0x5ba)]['registerSystemSource'](_0x5a0f49),_0x5a0f49;}[_0x120045(0x4f7)](_0x162620,_0x46faea){const _0x365ff9=_0x120045;if(this[_0x365ff9(0x4a4)][_0x365ff9(0x5a8)](_0x162620))throw new _0x18939c(_0x15d29b[_0x365ff9(0x9f0)],_0x365ff9(0x23f));try{const _0x4b29d6=new _0x5d6dc4(this['configs'][_0x365ff9(0x781)],_0x162620,this[_0x365ff9(0x22a)][_0x365ff9(0xea)],this[_0x365ff9(0x22a)][_0x365ff9(0x11b)],_0x46faea);return this[_0x365ff9(0x4a4)][_0x365ff9(0x381)](_0x162620,_0x4b29d6),this[_0x365ff9(0x22a)]['mediator']['registerSystemSource'](_0x4b29d6),_0x4b29d6;}catch(_0x258087){if(_0x258087 instanceof _0x18939c)throw _0x258087;throw new _0x4a916f(_0x4a916f[_0x365ff9(0xa30)][_0x365ff9(0x852)],{'label':_0x162620,'clusterId':this[_0x365ff9(0x22a)][_0x365ff9(0xea)],'vendorId':this['configs'][_0x365ff9(0x11b)]});}}[_0x120045(0x327)](_0x29a250){const _0x451de5=_0x120045,_0x3fd717=Array[_0x451de5(0x7f9)](this['objectStores'][_0x451de5(0x449)]());return _0x29a250?_0x3fd717[_0x451de5(0x1e1)](_0x29a250):_0x3fd717;}['getExternalStorageConnections'](_0x414efa){const _0x89e97c=_0x120045,_0xcfb82c=Array[_0x89e97c(0x7f9)](this[_0x89e97c(0x2d7)][_0x89e97c(0x449)]());return _0x414efa?_0xcfb82c[_0x89e97c(0x1e1)](_0x414efa):_0xcfb82c;}[_0x120045(0x5f4)](_0xd72fd6){const _0x46dbfa=_0x120045,_0x21df02=Array[_0x46dbfa(0x7f9)](this[_0x46dbfa(0x4c8)][_0x46dbfa(0x449)]());return _0xd72fd6?_0x21df02['filter'](_0xd72fd6):_0x21df02;}['getJobDispatchers'](_0x1fa7c9){const _0x5aaf67=_0x120045,_0x10462a=Array[_0x5aaf67(0x7f9)](this[_0x5aaf67(0x97a)]['values']());return _0x1fa7c9?_0x10462a['filter'](_0x1fa7c9):_0x10462a;}[_0x120045(0x337)](_0x34d6a3){const _0x263049=_0x120045,_0x4f410a=Array[_0x263049(0x7f9)](this[_0x263049(0x25e)]['values']());return _0x34d6a3?_0x4f410a[_0x263049(0x1e1)](_0x34d6a3):_0x4f410a;}[_0x120045(0x699)](_0x1e5676){const _0x33af18=_0x120045,_0x4580c2=Array['from'](this[_0x33af18(0x97a)]['values']())['filter'](_0x52309d=>_0x52309d instanceof _0x2b34dd);return _0x1e5676?_0x4580c2[_0x33af18(0x1e1)](_0x1e5676):_0x4580c2;}['getGenerativeAIWorkers'](_0x1153f0){const _0x175f6b=_0x120045,_0x52c3a0=Array['from'](this[_0x175f6b(0x25e)][_0x175f6b(0x449)]())['filter'](_0x109b8f=>_0x109b8f instanceof _0x408742);return _0x1153f0?_0x52c3a0[_0x175f6b(0x1e1)](_0x1153f0):_0x52c3a0;}[_0x120045(0x96a)](_0x2facf1){const _0x2a5b99=_0x120045,_0x5a73fe=Array[_0x2a5b99(0x7f9)](this['graphDatabases'][_0x2a5b99(0x449)]());return _0x2facf1?_0x5a73fe[_0x2a5b99(0x1e1)](_0x2facf1):_0x5a73fe;}[_0x120045(0x211)](_0x2f2274){const _0x1d4f0f=_0x120045,_0x490295=Array[_0x1d4f0f(0x7f9)](this[_0x1d4f0f(0x5d5)][_0x1d4f0f(0x449)]());return _0x2f2274?_0x490295['filter'](_0x2f2274):_0x490295;}[_0x120045(0x30c)](_0x16a1a1){const _0x1a3831=_0x120045,_0x12a2ea=Array[_0x1a3831(0x7f9)](this['pubSubTopics'][_0x1a3831(0x449)]());return _0x16a1a1?_0x12a2ea[_0x1a3831(0x1e1)](_0x16a1a1):_0x12a2ea;}['getRemoteMediaStreams'](_0x5661d8){const _0xc7d530=_0x120045,_0x28129f=Array[_0xc7d530(0x7f9)](this[_0xc7d530(0x71f)][_0xc7d530(0x449)]())[_0xc7d530(0x181)]((_0x1700f6,_0x4f0b56)=>[..._0x1700f6,...Array[_0xc7d530(0x7f9)](_0x4f0b56['values']())],[]);return _0x5661d8?_0x28129f[_0xc7d530(0x1e1)](_0x5661d8):_0x28129f;}[_0x120045(0x377)](_0xbba120){const _0xc9cacc=_0x120045,_0x5586ab=Array[_0xc9cacc(0x7f9)](this[_0xc9cacc(0x4a4)][_0xc9cacc(0x449)]());return _0xbba120?_0x5586ab[_0xc9cacc(0x1e1)](_0xbba120):_0x5586ab;}[_0x120045(0x8e9)](_0x427a4d){const _0x2a8c1a=_0x120045,_0x5445e9=this['objectStores'][_0x2a8c1a(0x7e9)](_0x427a4d);if(!_0x5445e9)throw new _0x18939c(_0x15d29b[_0x2a8c1a(0x27e)],'ObjectStore\x20not\x20found');return _0x5445e9;}[_0x120045(0x472)](_0xd84974){const _0x12cd8e=_0x120045,_0x4f3bf6=_0xd84974['split']('-'),_0x22eca3=this[_0x12cd8e(0x2d7)][_0x12cd8e(0x7e9)](_0x4f3bf6[0x1]);if(!_0x22eca3)throw new _0x18939c(_0x15d29b[_0x12cd8e(0xa24)],_0x12cd8e(0x47b));return _0x22eca3;}[_0x120045(0x38b)](_0x13063d){const _0x3fb4f4=_0x120045,_0x54cc4a=this[_0x3fb4f4(0x7d0)]['get'](_0x13063d);if(!_0x54cc4a)throw new _0x18939c(_0x15d29b[_0x3fb4f4(0x4e6)],_0x3fb4f4(0x863));return _0x54cc4a;}[_0x120045(0x931)](_0x8298f){const _0x2b0c81=_0x120045,_0x3e04d9=this[_0x2b0c81(0x4c8)]['get'](_0x8298f);if(!_0x3e04d9)throw new _0x18939c(_0x15d29b[_0x2b0c81(0x218)],_0x2b0c81(0x7c3));return _0x3e04d9;}['getPubSubTopic'](_0x141c14){const _0x4598d0=_0x120045,_0x318fd3=this[_0x4598d0(0x3fe)][_0x4598d0(0x7e9)](_0x141c14);if(!_0x318fd3)throw new _0x18939c(_0x15d29b[_0x4598d0(0x2d3)],_0x4598d0(0x157));return _0x318fd3;}['getVectorDatabase'](_0x2c6beb){const _0x4ce644=_0x120045,_0x26d2d6=this[_0x4ce644(0x4a4)][_0x4ce644(0x7e9)](_0x2c6beb);if(!_0x26d2d6)throw new _0x18939c(_0x15d29b[_0x4ce644(0xe2)],_0x4ce644(0x6ae));return _0x26d2d6;}[_0x120045(0x7b1)](_0x31bf15){const _0x41bda5=_0x120045;switch(_0x31bf15[_0x41bda5(0x477)][_0x41bda5(0x7f3)]){case _0x46be06[_0x41bda5(0x952)]:this['handlePublishMediaStream'](_0x31bf15[_0x41bda5(0x477)]);break;case _0x46be06['UnpublishMediaStream']:this[_0x41bda5(0x663)](_0x31bf15['content']);break;case _0x46be06['CloseJobDispatcher']:this[_0x41bda5(0xa5f)](_0x31bf15[_0x41bda5(0x477)][_0x41bda5(0x573)]);break;case _0x46be06[_0x41bda5(0x733)]:this[_0x41bda5(0x9ad)](_0x31bf15[_0x41bda5(0x477)][_0x41bda5(0x573)]);break;case _0x46be06[_0x41bda5(0x8f7)]:this[_0x41bda5(0x6ea)](_0x31bf15[_0x41bda5(0x477)][_0x41bda5(0x573)]);break;case _0x46be06[_0x41bda5(0x2fa)]:this['removePubSubTopic'](_0x31bf15['content'][_0x41bda5(0x573)]);break;case _0x46be06[_0x41bda5(0x807)]:this[_0x41bda5(0x402)](_0x31bf15[_0x41bda5(0x477)][_0x41bda5(0x573)]);break;case _0x46be06['CloseExternalStorageConnection']:this[_0x41bda5(0x497)](_0x31bf15[_0x41bda5(0x477)]['label']);break;case _0x46be06[_0x41bda5(0xa61)]:this['removeKeyValueDatabase'](_0x31bf15[_0x41bda5(0x477)][_0x41bda5(0x573)]);break;case _0x46be06[_0x41bda5(0x14e)]:this[_0x41bda5(0x902)](_0x31bf15[_0x41bda5(0x477)][_0x41bda5(0x573)]);break;case _0x46be06[_0x41bda5(0x4eb)]:this[_0x41bda5(0xa13)](_0x31bf15[_0x41bda5(0x477)][_0x41bda5(0x573)]);break;case _0x46be06[_0x41bda5(0x9a4)]:this[_0x41bda5(0x374)](_0x31bf15[_0x41bda5(0x477)]);break;case _0x46be06[_0x41bda5(0x243)]:this[_0x41bda5(0x4c8)][_0x41bda5(0x7e9)](_0x31bf15[_0x41bda5(0x477)]['label'])?.[_0x41bda5(0xc8)](_0x31bf15[_0x41bda5(0x50d)],_0x31bf15[_0x41bda5(0x477)]['mmrRoot']);break;case _0x46be06[_0x41bda5(0x415)]:this[_0x41bda5(0x4c8)][_0x41bda5(0x7e9)](_0x31bf15[_0x41bda5(0x477)][_0x41bda5(0x573)])?.[_0x41bda5(0x496)](_0x31bf15[_0x41bda5(0x50d)],_0x31bf15[_0x41bda5(0x477)][_0x41bda5(0x91d)]);break;case _0x46be06[_0x41bda5(0x738)]:this[_0x41bda5(0x4c8)][_0x41bda5(0x7e9)](_0x31bf15['content']['label'])?.[_0x41bda5(0x8c6)](_0x31bf15[_0x41bda5(0x50d)],_0x31bf15[_0x41bda5(0x477)][_0x41bda5(0x86c)]);break;case _0x46be06[_0x41bda5(0x913)]:this[_0x41bda5(0x4c8)]['get'](_0x31bf15['content'][_0x41bda5(0x573)])?.[_0x41bda5(0x9d4)](_0x31bf15[_0x41bda5(0x50d)],_0x31bf15[_0x41bda5(0x477)][_0x41bda5(0x966)]);break;case _0x46be06[_0x41bda5(0x9da)]:this[_0x41bda5(0x4c8)][_0x41bda5(0x7e9)](_0x31bf15[_0x41bda5(0x477)]['label'])?.[_0x41bda5(0x73d)](_0x31bf15[_0x41bda5(0x50d)],_0x31bf15[_0x41bda5(0x477)][_0x41bda5(0x9f9)]);break;case _0x46be06['KeyValueDatabaseSendTransactions']:this[_0x41bda5(0x4c8)][_0x41bda5(0x7e9)](_0x31bf15[_0x41bda5(0x477)][_0x41bda5(0x573)])?.['processReceivedTransactions'](_0x31bf15[_0x41bda5(0x50d)],_0x31bf15[_0x41bda5(0x477)][_0x41bda5(0x8b3)]);break;case _0x46be06[_0x41bda5(0x66d)]:this['configs'][_0x41bda5(0x5ba)]['notifyCluster'](_0x41bda5(0xdf),{'label':_0x31bf15[_0x41bda5(0x477)][_0x41bda5(0x573)],'trackKinds':_0x31bf15['content'][_0x41bda5(0x88d)]});}}[_0x120045(0x1be)]({content:_0x122292}){const _0x55005c=_0x120045;switch(_0x122292['type']){case _0x57c969['NodeJoin']:this[_0x55005c(0x8ba)](_0x122292),this[_0x55005c(0x9e4)](_0x122292);break;case _0x57c969[_0x55005c(0x261)]:this['handleNodeLeave'](_0x122292),this[_0x55005c(0xa04)](_0x122292);}}['handleSubscriptionSystemEvents'](_0x65a4f4){const _0x33c858=_0x120045;switch(_0x65a4f4['content'][_0x33c858(0x7f3)]){case _0x5d00e2[_0x33c858(0x628)]:this[_0x33c858(0x96b)](_0x65a4f4['sourceId'],_0x65a4f4[_0x33c858(0x477)]);break;case _0x5d00e2['UpdateMediaStream']:this[_0x33c858(0x153)](_0x65a4f4['sourceId'],_0x65a4f4[_0x33c858(0x477)]);break;case _0x5d00e2[_0x33c858(0x9a4)]:this[_0x33c858(0x917)](_0x65a4f4['sourceId'],_0x65a4f4['content']);}}[_0x120045(0x374)](_0xd67fb3){const _0x1085be=_0x120045;if(0x0===_0xd67fb3[_0x1085be(0x2fc)])this[_0x1085be(0x71f)][_0x1085be(0x7e9)](_0xd67fb3[_0x1085be(0x4a0)])?.[_0x1085be(0x7e9)](_0xd67fb3[_0x1085be(0x573)])?.['destroy']();else{const _0x3c6fb4=this[_0x1085be(0x71f)][_0x1085be(0x7e9)](_0xd67fb3[_0x1085be(0x4a0)])?.[_0x1085be(0x7e9)](_0xd67fb3[_0x1085be(0x573)]);if(!_0x3c6fb4)return;_0xd67fb3[_0x1085be(0x88d)]['forEach'](_0x357d37=>_0x3c6fb4[_0x1085be(0x97f)](_0x357d37));}}[_0x120045(0x93b)](_0x5dadab){const _0x30e0aa=_0x120045,{label:_0xe07985,ownerId:_0x38c9de,stream:{streamId:_0x46bc8d,availableTrackKinds:_0x1c92d8}}=_0x5dadab;if(this[_0x30e0aa(0x71f)]['get'](_0x38c9de)?.[_0x30e0aa(0x5a8)](_0xe07985))return void _0x1b1d61[_0x30e0aa(0xed)](_0x185607['Content'],_0x30e0aa(0x6b4),_0x46bc8d);const _0x3e4b91=this['createRemoteMediaStream'](_0x38c9de,_0xe07985,_0x46bc8d,_0x1c92d8);this[_0x30e0aa(0x22a)][_0x30e0aa(0x5ba)][_0x30e0aa(0x25f)](_0x30e0aa(0x747),{'ownerId':_0x38c9de,'stream':_0x3e4b91});}['handleUnpublishMediaStream']({ownerId:_0x312041,label:_0x2d3959}){const _0x4778c=_0x120045;this['removeRemoteMediaStream'](_0x312041,_0x2d3959),this[_0x4778c(0x22a)][_0x4778c(0x5ba)][_0x4778c(0x25f)](_0x4778c(0x848),{'ownerId':_0x312041,'label':_0x2d3959});}[_0x120045(0x96b)](_0x144cdc,_0x3e6e5a){const _0x4bda9f=_0x120045,{ownerId:_0x5781da,label:_0x277ff9}=_0x3e6e5a;let _0x1dfd18;_0x1dfd18=_0x5781da!==this[_0x4bda9f(0x22a)][_0x4bda9f(0x781)][_0x4bda9f(0xd7)]()?this[_0x4bda9f(0x71f)][_0x4bda9f(0x7e9)](_0x5781da)['get'](_0x277ff9):this[_0x4bda9f(0x5d5)][_0x4bda9f(0x7e9)](_0x277ff9),_0x1dfd18[_0x4bda9f(0x6fc)](_0x144cdc,_0x3e6e5a[_0x4bda9f(0x3a0)])[_0x4bda9f(0x8f0)](_0x3e6e5a,_0x1dfd18[_0x4bda9f(0x752)]());}[_0x120045(0x153)](_0x25a9f9,_0x32b793){const _0x4b5c04=_0x120045,{ownerId:_0x41337c,label:_0x396861}=_0x32b793;let _0x2a85af;_0x2a85af=_0x41337c!==this[_0x4b5c04(0x22a)][_0x4b5c04(0x781)][_0x4b5c04(0xd7)]()?this['remoteMediaStreams'][_0x4b5c04(0x7e9)](_0x41337c)[_0x4b5c04(0x7e9)](_0x396861):this['localMediaStreams'][_0x4b5c04(0x7e9)](_0x396861),_0x2a85af[_0x4b5c04(0x6fc)](_0x25a9f9,_0x32b793[_0x4b5c04(0x3a0)])['update'](_0x32b793);}['handleUnsubscribeMediaStream'](_0x2b7551,_0x125f6c){const _0x1c840b=_0x120045,{ownerId:_0x24ca73,label:_0x348185}=_0x125f6c;let _0xe67e04;_0xe67e04=_0x24ca73!==this[_0x1c840b(0x22a)][_0x1c840b(0x781)][_0x1c840b(0xd7)]()?this[_0x1c840b(0x71f)]['get'](_0x24ca73)[_0x1c840b(0x7e9)](_0x348185):this[_0x1c840b(0x5d5)][_0x1c840b(0x7e9)](_0x348185),_0xe67e04[_0x1c840b(0x6fc)](_0x2b7551)['unsubscribe'](_0x125f6c);}[_0x120045(0x8ba)]({id:_0x4608ca}){const _0x1e2140=_0x120045;this[_0x1e2140(0x211)]()[_0x1e2140(0x311)](_0x45019e=>{const _0x4ddd5a=_0x1e2140;_0x45019e[_0x4ddd5a(0x552)](_0x4608ca);});}[_0x120045(0x349)]({id:_0x5d0ab9}){const _0x990052=_0x120045;this[_0x990052(0x990)](_0x4f7553=>_0x4f7553[_0x990052(0x711)]()===_0x5d0ab9)[_0x990052(0x311)](_0xd8995a=>{const _0x5b7132=_0x990052;this[_0x5b7132(0x3b6)](_0xd8995a[_0x5b7132(0x711)](),_0xd8995a[_0x5b7132(0x8a0)]());});}[_0x120045(0x9e4)]({id:_0x29116f}){const _0x3c3545=_0x120045;this[_0x3c3545(0x1a2)]['forEach'](_0x2c61d1=>_0x2c61d1[_0x3c3545(0x632)](_0x29116f));}[_0x120045(0xa04)]({id:_0x353469}){const _0x6ac982=_0x120045;this[_0x6ac982(0x1a2)][_0x6ac982(0x311)](_0x42bbfc=>_0x42bbfc[_0x6ac982(0x349)](_0x353469));}['removeJobDispatcher'](_0x3834a1){const _0x11dac8=_0x120045;if(!this['jobDispatchers'][_0x11dac8(0x5a8)](_0x3834a1))throw new _0x18939c(_0x15d29b['JobDispatcherDoesNotExist'],_0x11dac8(0x40e));const _0x4263fd=this[_0x11dac8(0x97a)][_0x11dac8(0x7e9)](_0x3834a1);this['jobDispatchers'][_0x11dac8(0xa10)](_0x3834a1),_0x4263fd[_0x11dac8(0x4d9)](),this['configs'][_0x11dac8(0x5ba)]['unregisterSystemSource'](_0x4263fd);}[_0x120045(0x9ad)](_0x1d70ce){const _0x22a53d=_0x120045;if(!this[_0x22a53d(0x25e)]['has'](_0x1d70ce))throw new _0x18939c(_0x15d29b[_0x22a53d(0x43d)],_0x22a53d(0x459));const _0x44fa47=this[_0x22a53d(0x25e)][_0x22a53d(0x7e9)](_0x1d70ce);this[_0x22a53d(0x25e)][_0x22a53d(0xa10)](_0x1d70ce),_0x44fa47[_0x22a53d(0x4d9)](),this[_0x22a53d(0x22a)][_0x22a53d(0x5ba)][_0x22a53d(0x252)](_0x44fa47);}[_0x120045(0x402)](_0x260dda){const _0x12b0dd=_0x120045;if(!this['objectStores']['has'](_0x260dda))throw new _0x18939c(_0x15d29b[_0x12b0dd(0x27e)],_0x12b0dd(0x751));const _0x2ad80c=this[_0x12b0dd(0x1a2)][_0x12b0dd(0x7e9)](_0x260dda);this['objectStores'][_0x12b0dd(0xa10)](_0x260dda),_0x2ad80c[_0x12b0dd(0x4d9)](),this['configs']['mediator'][_0x12b0dd(0x252)](_0x2ad80c);}[_0x120045(0x497)](_0xbedfdb){const _0x2f7bbf=_0x120045;if(!this[_0x2f7bbf(0x2d7)][_0x2f7bbf(0x5a8)](_0xbedfdb))throw new _0x18939c(_0x15d29b[_0x2f7bbf(0xa24)],_0x2f7bbf(0x3a7));const _0x614498=this[_0x2f7bbf(0x2d7)][_0x2f7bbf(0x7e9)](_0xbedfdb);this[_0x2f7bbf(0x2d7)]['delete'](_0xbedfdb),_0x614498[_0x2f7bbf(0x4d9)](),this[_0x2f7bbf(0x22a)][_0x2f7bbf(0x5ba)][_0x2f7bbf(0x252)](_0x614498);}['removePubSubTopic'](_0x6812f0){const _0x583770=_0x120045;if(!this[_0x583770(0x3fe)][_0x583770(0x5a8)](_0x6812f0))throw new _0x18939c(_0x15d29b[_0x583770(0x2d3)],_0x583770(0x751));const _0x343bfb=this[_0x583770(0x3fe)][_0x583770(0x7e9)](_0x6812f0);this['pubSubTopics'][_0x583770(0xa10)](_0x6812f0),_0x343bfb[_0x583770(0x4d9)](),this['configs'][_0x583770(0x5ba)][_0x583770(0x252)](_0x343bfb);}[_0x120045(0x926)](_0x43f51d){const _0x40139c=_0x120045;if(!this[_0x40139c(0x4c8)]['has'](_0x43f51d))throw new _0x18939c(_0x15d29b['KeyValueDatabaseDoesNotExist'],_0x40139c(0x3fc));const _0x14ce63=this[_0x40139c(0x4c8)][_0x40139c(0x7e9)](_0x43f51d);this[_0x40139c(0x4c8)][_0x40139c(0xa10)](_0x43f51d),_0x14ce63[_0x40139c(0x4d9)](),this['configs'][_0x40139c(0x5ba)][_0x40139c(0x252)](_0x14ce63);}['removeVectorDatabase'](_0x2220dd){const _0x38953c=_0x120045;if(!this[_0x38953c(0x4a4)][_0x38953c(0x5a8)](_0x2220dd))throw new _0x18939c(_0x15d29b[_0x38953c(0xe2)],_0x38953c(0x3fc));const _0x4cd330=this[_0x38953c(0x4a4)][_0x38953c(0x7e9)](_0x2220dd);this[_0x38953c(0x4a4)][_0x38953c(0xa10)](_0x2220dd),_0x4cd330[_0x38953c(0x4d9)](),this[_0x38953c(0x22a)][_0x38953c(0x5ba)][_0x38953c(0x252)](_0x4cd330);}[_0x120045(0xa13)](_0xccc569){const _0x5aa5c0=_0x120045;if(!this[_0x5aa5c0(0x7d0)][_0x5aa5c0(0x5a8)](_0xccc569))throw new _0x18939c(_0x15d29b['GraphDatabaseDoesNotExist'],'Database\x20does\x20not\x20exist');const _0x5596b3=this[_0x5aa5c0(0x7d0)][_0x5aa5c0(0x7e9)](_0xccc569);this[_0x5aa5c0(0x7d0)][_0x5aa5c0(0xa10)](_0xccc569),_0x5596b3[_0x5aa5c0(0x4d9)](),this[_0x5aa5c0(0x22a)][_0x5aa5c0(0x5ba)][_0x5aa5c0(0x252)](_0x5596b3);}['removeLocalMediaStream'](_0x5c4220){const _0xc84c6f=_0x120045;if(!this['localMediaStreams']['has'](_0x5c4220))throw new _0x4a916f(_0x4a916f[_0xc84c6f(0xa30)][_0xc84c6f(0x5c2)],{'label':_0x5c4220,'localId':this['configs'][_0xc84c6f(0x781)][_0xc84c6f(0xd7)]()});const _0x714ed6=this[_0xc84c6f(0x5d5)]['get'](_0x5c4220);this[_0xc84c6f(0x22a)]['mediator']['unregisterSystemSource'](_0x714ed6),_0x714ed6['destroy'](),this[_0xc84c6f(0x5d5)][_0xc84c6f(0xa10)](_0x5c4220);}[_0x120045(0x3b6)](_0x2c9a61,_0x344eeb){const _0x502a30=_0x120045;if(!this[_0x502a30(0x71f)][_0x502a30(0x5a8)](_0x2c9a61))throw new _0x4a916f(_0x4a916f['codes'][_0x502a30(0x67b)],{'nodeId':_0x2c9a61,'localId':this[_0x502a30(0x22a)]['localNode'][_0x502a30(0xd7)]()});const _0x19d26e=this[_0x502a30(0x71f)][_0x502a30(0x7e9)](_0x2c9a61);if(!_0x19d26e[_0x502a30(0x5a8)](_0x344eeb))throw new _0x4a916f(_0x4a916f[_0x502a30(0xa30)][_0x502a30(0x52e)],{'nodeId':_0x2c9a61,'label':_0x344eeb,'localId':this[_0x502a30(0x22a)]['localNode'][_0x502a30(0xd7)]()});const _0x393884=_0x19d26e['get'](_0x344eeb);this[_0x502a30(0x22a)][_0x502a30(0x5ba)][_0x502a30(0x252)](_0x393884),_0x393884[_0x502a30(0x4d9)](),_0x19d26e[_0x502a30(0xa10)](_0x344eeb);}}var _0x5365cd,_0x59ae2e,_0x32854a;!function(_0x338860){const _0x2e0fbf=_0x120045;_0x338860['STVolatility']=_0x2e0fbf(0x1f3),_0x338860[_0x2e0fbf(0x584)]=_0x2e0fbf(0x559),_0x338860[_0x2e0fbf(0xa31)]=_0x2e0fbf(0x908),_0x338860['Bitrate']=_0x2e0fbf(0x4b7),_0x338860[_0x2e0fbf(0x169)]=_0x2e0fbf(0x1e9),_0x338860[_0x2e0fbf(0x198)]=_0x2e0fbf(0x44b),_0x338860[_0x2e0fbf(0xa79)]=_0x2e0fbf(0x66b),_0x338860['AudioVideoDelay']='av_delay';}(_0x5365cd||(_0x5365cd={})),function(_0x3404a6){const _0x29dcc9=_0x120045;_0x3404a6['CPUCycle']=_0x29dcc9(0x7d4),_0x3404a6[_0x29dcc9(0xa31)]=_0x29dcc9(0x2e0),_0x3404a6['AudioVideoDelay']='cpu.av_delay',_0x3404a6[_0x29dcc9(0x198)]=_0x29dcc9(0x736),_0x3404a6[_0x29dcc9(0x860)]=_0x29dcc9(0x278),_0x3404a6[_0x29dcc9(0x169)]=_0x29dcc9(0x604),_0x3404a6[_0x29dcc9(0xa79)]='bandwidth.rtt';}(_0x59ae2e||(_0x59ae2e={})),function(_0x2c5584){const _0x18a2c0=_0x120045;_0x2c5584[_0x2c5584[_0x18a2c0(0x821)]=0x0]=_0x18a2c0(0x821);}(_0x32854a||(_0x32854a={}));const _0x4bfc47=[{'type':_0x5365cd[_0x120045(0xa6c)],'reportMetric':_0x4d6774=>_0x4d6774[_0x120045(0xa6c)],'maxThreshold':2.5},{'type':_0x5365cd[_0x120045(0x584)],'reportMetric':_0x13abe6=>_0x13abe6[_0x120045(0x584)],'maxThreshold':0.5}],_0x4ca66f=[{'type':_0x5365cd['TimePerFrame'],'reportMetric':_0x3b422d=>{const _0x60413d=_0x120045,_0x3490a0=0x3e8/_0x3b422d[_0x60413d(0x32a)];return _0x3b422d[_0x60413d(0xf9)]/_0x3490a0;},'maxThreshold':0.75},{'type':_0x5365cd[_0x120045(0x860)],'reportMetric':_0x46d9f0=>{const _0x4c0b4f=_0x120045,_0x5a3353=_0x46d9f0[_0x4c0b4f(0x32a)]*_0x46d9f0['frameWidth']*_0x46d9f0[_0x4c0b4f(0x112)]*0.12;return _0x46d9f0[_0x4c0b4f(0x4b7)]/_0x5a3353;},'minThreshold':0.25},{'type':_0x5365cd[_0x120045(0x169)],'reportMetric':_0x32d13b=>_0x32d13b['jitter'],'maxThreshold':0.6},{'type':_0x5365cd[_0x120045(0x198)],'reportMetric':_0x3e00cd=>_0x3e00cd[_0x120045(0x32a)],'minThreshold':0xa}],_0x22cf93=[{'type':_0x5365cd[_0x120045(0x169)],'reportMetric':_0x156a0a=>_0x156a0a[_0x120045(0x1e9)],'maxThreshold':0.6}],_0x4b2acb=[{'type':_0x5365cd[_0x120045(0xa79)],'reportMetric':_0x4caa21=>_0x4caa21[_0x120045(0x46b)],'maxThreshold':0x1/0x0}],_0x535921=[{'type':_0x5365cd[_0x120045(0x406)],'reportMetric':_0x301ed0=>_0x301ed0['AudioVideoDelay'],'maxThreshold':0x12c}],_0x5bf52c=[{'type':_0x59ae2e[_0x120045(0x49c)],'issues':[{'type':_0x5365cd[_0x120045(0xa6c)],'threshold':0x5},{'type':_0x5365cd[_0x120045(0x584)],'threshold':0x5}]},{'type':_0x59ae2e[_0x120045(0xa31)],'issues':[{'type':_0x5365cd[_0x120045(0xa31)],'threshold':0x3}]},{'type':_0x59ae2e['AudioVideoDelay'],'issues':[{'type':_0x5365cd[_0x120045(0x406)],'threshold':0x2}]},{'type':_0x59ae2e[_0x120045(0x198)],'issues':[{'type':_0x5365cd[_0x120045(0x198)],'threshold':0x3}]},{'type':_0x59ae2e['Bitrate'],'issues':[{'type':_0x5365cd[_0x120045(0x860)],'threshold':0x3}]},{'type':_0x59ae2e[_0x120045(0x169)],'issues':[{'type':_0x5365cd[_0x120045(0x169)],'threshold':0x3}]},{'type':_0x59ae2e[_0x120045(0xa79)],'issues':[{'type':_0x5365cd[_0x120045(0xa79)],'threshold':0x3}]}];var _0x77cd56,_0x3e60e2;!function(_0xb330c9){const _0x117e8b=_0x120045;_0xb330c9[_0xb330c9[_0x117e8b(0x63c)]=0x0]=_0x117e8b(0x63c),_0xb330c9[_0xb330c9[_0x117e8b(0x33c)]=0x1]=_0x117e8b(0x33c);}(_0x77cd56||(_0x77cd56={}));class _0x147e64{['configs'];[_0x120045(0x81f)]=[];[_0x120045(0xa45)];constructor(_0x1e7ab2){const _0x10a785=_0x120045;this[_0x10a785(0x22a)]=_0x1e7ab2,this[_0x10a785(0x22a)]['mediator'][_0x10a785(0x1ef)](this);}['registerSystemPublisher'](_0x12185c){const _0x11a884=_0x120045;this[_0x11a884(0xa45)]=_0x12185c;}['unregisterSystemPublisher'](){const _0x22e58c=_0x120045;this[_0x22e58c(0xa45)]=void 0x0;}[_0x120045(0x1c1)](){const _0x238a62=_0x120045;this[_0x238a62(0x22a)]['mediator']['unregisterSystemSource'](this),this[_0x238a62(0x81f)]=[];}['handleStatsSystemEvents'](_0x3ad247){const _0xbcbb52=_0x120045;switch(_0x3ad247[_0xbcbb52(0x477)][_0xbcbb52(0x7f3)]){case _0x77cd56[_0xbcbb52(0x33c)]:this[_0xbcbb52(0x91a)](_0x3ad247['content'][_0xbcbb52(0x7f6)]);break;case _0x77cd56[_0xbcbb52(0x63c)]:this[_0xbcbb52(0x9bc)](_0x3ad247[_0xbcbb52(0x477)][_0xbcbb52(0x7f6)]);}}[_0x120045(0x5f3)](_0x6f5267,_0x18dd31,_0x1bc9a4,_0x3fe326){const _0x19fb14=_0x120045,_0x157ca5=_0x5bf52c[_0x19fb14(0x999)](_0x21e122=>_0x21e122[_0x19fb14(0x81f)]['some'](_0x2ffa87=>_0x2ffa87[_0x19fb14(0x7f3)]===_0x6f5267));_0x3fe326>=_0x157ca5[_0x19fb14(0x81f)][_0x19fb14(0x999)](_0x402560=>_0x402560[_0x19fb14(0x7f3)]===_0x6f5267)[_0x19fb14(0x364)]&&(this[_0x19fb14(0x4fa)](_0x157ca5[_0x19fb14(0x7f3)],_0x18dd31,_0x1bc9a4),this[_0x19fb14(0x81f)]=this[_0x19fb14(0x81f)][_0x19fb14(0x1e1)](_0x51ad5d=>!(_0x51ad5d[_0x19fb14(0x7f3)]===_0x6f5267&&_0x51ad5d['nodeId']===_0x18dd31&&_0x51ad5d[_0x19fb14(0x8fc)]===_0x1bc9a4)));}[_0x120045(0x91a)](_0x2b4e06){_0x4bfc47['forEach'](_0xf49a53=>{const _0x5b42c8=a0_0x573a,_0x52ca93=_0xf49a53[_0x5b42c8(0x6b5)](_0x2b4e06);_0xf49a53[_0x5b42c8(0x647)]&&_0x52ca93>_0xf49a53[_0x5b42c8(0x647)]&&this[_0x5b42c8(0x521)](_0xf49a53[_0x5b42c8(0x7f3)],this[_0x5b42c8(0x22a)][_0x5b42c8(0x781)][_0x5b42c8(0xd7)](),_0x40fec4[_0x5b42c8(0x9a8)],_0x52ca93),_0xf49a53['minThreshold']&&_0x52ca93<_0xf49a53[_0x5b42c8(0x887)]&&this[_0x5b42c8(0x521)](_0xf49a53[_0x5b42c8(0x7f3)],this[_0x5b42c8(0x22a)]['localNode'][_0x5b42c8(0xd7)](),_0x40fec4[_0x5b42c8(0x9a8)],_0x52ca93);});}[_0x120045(0x9bc)](_0x3eef99){const _0x1e255d=_0x120045;let _0x20a2e4=[];switch(_0x3eef99[_0x1e255d(0x8fc)]){case _0x40fec4[_0x1e255d(0x9a8)]:_0x20a2e4=_0x4b2acb;break;case _0x40fec4['Receiver']:_0x20a2e4=_0x535921;}_0x3eef99['video']&&this[_0x1e255d(0x4b4)](_0x3eef99[_0x1e255d(0x846)],_0x40fec4[_0x1e255d(0x9a8)],_0x3eef99[_0x1e255d(0x7b7)]),_0x3eef99[_0x1e255d(0x28e)]&&this[_0x1e255d(0x8f9)](_0x3eef99[_0x1e255d(0x846)],_0x40fec4['Sender'],_0x3eef99[_0x1e255d(0x28e)]),_0x20a2e4[_0x1e255d(0x311)](_0x55f7e0=>{const _0x32f094=_0x1e255d,_0x1a9d1b=_0x55f7e0[_0x32f094(0x6b5)](_0x3eef99);_0x55f7e0[_0x32f094(0x647)]&&_0x1a9d1b>_0x55f7e0[_0x32f094(0x647)]&&this[_0x32f094(0x521)](_0x55f7e0[_0x32f094(0x7f3)],_0x3eef99[_0x32f094(0x846)],_0x40fec4[_0x32f094(0x9a8)],_0x1a9d1b),_0x55f7e0['minThreshold']&&_0x1a9d1b<_0x55f7e0[_0x32f094(0x887)]&&this['addIssue'](_0x55f7e0[_0x32f094(0x7f3)],_0x3eef99[_0x32f094(0x846)],_0x40fec4[_0x32f094(0x9a8)],_0x1a9d1b);});}[_0x120045(0x4b4)](_0x116528,_0x1642f7,_0x251b08){const _0x5cc58c=_0x120045;0x0!==_0x251b08[_0x5cc58c(0x4b7)]&&_0x4ca66f[_0x5cc58c(0x311)](_0x3e7354=>{const _0x5f543c=_0x5cc58c,_0x58616d=_0x3e7354[_0x5f543c(0x6b5)](_0x251b08);_0x3e7354[_0x5f543c(0x647)]&&_0x58616d>_0x3e7354['maxThreshold']&&this[_0x5f543c(0x521)](_0x3e7354[_0x5f543c(0x7f3)],_0x116528,_0x1642f7,_0x58616d,_0x5f543c(0x7b7)),_0x3e7354[_0x5f543c(0x887)]&&_0x58616d<_0x3e7354[_0x5f543c(0x887)]&&this[_0x5f543c(0x521)](_0x3e7354[_0x5f543c(0x7f3)],_0x116528,_0x1642f7,_0x58616d,_0x5f543c(0x7b7));});}[_0x120045(0x8f9)](_0x3e01fc,_0x5c3f75,_0x15a1c1){const _0x3bc3cc=_0x120045;0x0!==_0x15a1c1[_0x3bc3cc(0x4b7)]&&_0x22cf93[_0x3bc3cc(0x311)](_0x4e397d=>{const _0x3a4536=_0x3bc3cc,_0x51f9ec=_0x4e397d['reportMetric'](_0x15a1c1);_0x4e397d[_0x3a4536(0x647)]&&_0x51f9ec>_0x4e397d[_0x3a4536(0x647)]&&this[_0x3a4536(0x521)](_0x4e397d[_0x3a4536(0x7f3)],_0x3e01fc,_0x5c3f75,_0x51f9ec,'audio'),_0x4e397d['minThreshold']&&_0x51f9ec<_0x4e397d[_0x3a4536(0x887)]&&this[_0x3a4536(0x521)](_0x4e397d[_0x3a4536(0x7f3)],_0x3e01fc,_0x5c3f75,_0x51f9ec,_0x3a4536(0x28e));});}[_0x120045(0x521)](_0x29719f,_0x16f5b5,_0x2ade94,_0x230e6d,_0x23ef87){const _0x18d8f5=_0x120045;_0x1b1d61[_0x18d8f5(0xed)](_0x185607[_0x18d8f5(0x125)],_0x18d8f5(0x84e)+_0x29719f,_0x29719f,_0x230e6d),_0x1b1d61[_0x18d8f5(0x7f8)](_0x18d8f5(0x212),{'clusterId':this[_0x18d8f5(0x22a)]['clusterId'],'nodeId':this[_0x18d8f5(0x22a)][_0x18d8f5(0x781)]['getId'](),'nodeType':this[_0x18d8f5(0x22a)][_0x18d8f5(0x781)][_0x18d8f5(0x7f3)],'remoteId':_0x16f5b5,'data':{'type':_0x29719f,'value':_0x230e6d,'kind':_0x23ef87}}),this[_0x18d8f5(0x81f)]=this[_0x18d8f5(0x81f)][_0x18d8f5(0x1e1)](_0x1a0b20=>Date['now']()-_0x1a0b20[_0x18d8f5(0x6df)]<0x7530),this['issues']['push']({'timestamp':Date[_0x18d8f5(0x9e1)](),'type':_0x29719f,'nodeId':_0x16f5b5,'origin':_0x2ade94,'value':_0x230e6d,'kind':_0x23ef87});const _0x222c0b=this['issues'][_0x18d8f5(0x1e1)](_0xbca6b6=>_0xbca6b6[_0x18d8f5(0x7f3)]===_0x29719f&&_0xbca6b6[_0x18d8f5(0x846)]===_0x16f5b5&&_0xbca6b6[_0x18d8f5(0x8fc)]===_0x2ade94)[_0x18d8f5(0x59d)];this[_0x18d8f5(0x5f3)](_0x29719f,_0x16f5b5,_0x2ade94,_0x222c0b);}['addProblem'](_0x5c4007,_0x550a71,_0x7c931a){const _0x16a00b=_0x120045;_0x1b1d61['log'](_0x185607[_0x16a00b(0x125)],_0x16a00b(0x1cd)+_0x5c4007),_0x1b1d61[_0x16a00b(0x7f8)](_0x16a00b(0x69e),{'clusterId':this[_0x16a00b(0x22a)]['clusterId'],'nodeId':this[_0x16a00b(0x22a)][_0x16a00b(0x781)]['getId'](),'nodeType':this[_0x16a00b(0x22a)][_0x16a00b(0x781)]['type'],'remoteId':_0x550a71,'data':{'type':_0x5c4007}}),this[_0x16a00b(0xa45)]?.[_0x16a00b(0x552)]({'sourceId':_0x40bfc5,'messageType':_0x435438['Detection'],'content':{'type':_0x32854a[_0x16a00b(0x821)],'data':{'timestamp':Date[_0x16a00b(0x9e1)](),'nodeId':_0x550a71,'origin':_0x40fec4[_0x16a00b(0x9a8)],'type':_0x5c4007}}});}}class _0x24455d extends _0x47a08d{['type']=_0x4e2564[_0x120045(0x9cd)]['Agent'];}class _0x19e08e extends _0x24455d{[_0x120045(0xa45)];['currentVersion']=Date['now']();['updateDebounceTimeout'];[_0x120045(0x15d)];['close'](){const _0x2e457b=_0x120045;this[_0x2e457b(0xa62)]&&(clearTimeout(this['updateDebounceTimeout']),delete this[_0x2e457b(0xa62)]),delete this[_0x2e457b(0x15d)],this[_0x2e457b(0x9c4)]=Date[_0x2e457b(0x9e1)](),super['close']();}[_0x120045(0x67d)](_0x24a542){this['systemTopic']=_0x24a542;}[_0x120045(0x12a)](){const _0x53aa51=_0x120045;delete this[_0x53aa51(0xa45)];}[_0x120045(0x9ce)](_0xf0e5){const _0x54b13f=_0x120045;!this[_0x54b13f(0xa62)]&&this[_0x54b13f(0x7c5)]&&this['systemTopic']['publish']({'sourceId':this['id'],'destinationIds':[_0xf0e5],'propagate':!0x0,'messageType':_0x435438[_0x54b13f(0x9c1)],'content':{'type':_0x57c969[_0x54b13f(0x182)],'id':this['id'],'metaData':{'type':this[_0x54b13f(0x7f3)]},'rank':this[_0x54b13f(0x1ae)](),'remoteConnections':Array[_0x54b13f(0x7f9)](this[_0x54b13f(0x701)]),'version':this[_0x54b13f(0x9c4)]}});}['addRemoteConnection'](_0x4fb54c){const _0x158243=_0x120045;this[_0x158243(0x701)][_0x158243(0x5a8)](_0x4fb54c)||(this[_0x158243(0x701)]['add'](_0x4fb54c),this['incrementVersion'](),this['publishUserUpdate'](!0x0));}[_0x120045(0x426)](_0x302d3c){const _0x502f13=_0x120045;this[_0x502f13(0x701)]['has'](_0x302d3c)&&(this[_0x502f13(0x701)][_0x502f13(0xa10)](_0x302d3c),this[_0x502f13(0x99a)](),this[_0x502f13(0x333)](!0x0));}[_0x120045(0x6d5)](){const _0x42f457=_0x120045;return this[_0x42f457(0x9c4)];}[_0x120045(0x5e4)](_0x380b03,_0x348998=!0x0){const _0x1035e1=_0x120045;this[_0x1035e1(0x7c5)]!==_0x380b03&&(this['rank']=_0x380b03,_0x348998&&(this['incrementVersion'](),this[_0x1035e1(0x333)]()));}[_0x120045(0x99a)](){const _0x1e5ae7=_0x120045;this['currentVersion']=Date[_0x1e5ae7(0x9e1)]();}[_0x120045(0x333)](_0x1de20f=!0x1){const _0x462d8b=_0x120045;if(this['rank']){if(this[_0x462d8b(0x15d)]||(this[_0x462d8b(0x15d)]=Date[_0x462d8b(0x9e1)]()),this[_0x462d8b(0xa62)]){if(Date['now']()-this[_0x462d8b(0x15d)]>0x2328)return;clearTimeout(this[_0x462d8b(0xa62)]);}this[_0x462d8b(0xa62)]=setTimeout(()=>{const _0x83fd31=_0x462d8b;delete this['lastUpdated'],delete this[_0x83fd31(0xa62)],this[_0x83fd31(0xa45)][_0x83fd31(0x552)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x435438[_0x83fd31(0x9c1)],'content':{'type':_0x1de20f?_0x57c969['NodeConnectionsUpdate']:_0x57c969['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0x83fd31(0x7f3)]},'rank':this[_0x83fd31(0x1ae)](),'remoteConnections':Array[_0x83fd31(0x7f9)](this[_0x83fd31(0x701)]),'version':this[_0x83fd31(0x9c4)]}});},0x3e8);}}}class _0xdbafa4 extends _0x631c8e{[_0x120045(0xa45)];[_0x120045(0x9c4)]=Date[_0x120045(0x9e1)]();[_0x120045(0xa62)];[_0x120045(0x15d)];[_0x120045(0x1c1)](){const _0x2d37c8=_0x120045;this[_0x2d37c8(0xa62)]&&(clearTimeout(this[_0x2d37c8(0xa62)]),delete this['updateDebounceTimeout']),delete this[_0x2d37c8(0x15d)],this['currentVersion']=Date[_0x2d37c8(0x9e1)](),super['close']();}[_0x120045(0x67d)](_0x168175){this['systemTopic']=_0x168175;}['unregisterSystemPublisher'](){const _0x749f2=_0x120045;delete this[_0x749f2(0xa45)];}[_0x120045(0x9ce)](_0x1aeca8){const _0x1e6af4=_0x120045;!this[_0x1e6af4(0xa62)]&&this['rank']&&this[_0x1e6af4(0xa45)][_0x1e6af4(0x552)]({'sourceId':this['id'],'destinationIds':[_0x1aeca8],'propagate':!0x0,'messageType':_0x435438[_0x1e6af4(0x9c1)],'content':{'type':_0x57c969[_0x1e6af4(0x182)],'id':this['id'],'metaData':{'type':this[_0x1e6af4(0x7f3)],'displayName':this[_0x1e6af4(0x665)](),'email':this[_0x1e6af4(0x659)]()},'rank':this[_0x1e6af4(0x1ae)](),'remoteConnections':Array[_0x1e6af4(0x7f9)](this[_0x1e6af4(0x701)]),'version':this[_0x1e6af4(0x9c4)]}});}[_0x120045(0xa14)](_0x5b9cce){const _0x58ade1=_0x120045;this[_0x58ade1(0x701)][_0x58ade1(0x5a8)](_0x5b9cce)||(this[_0x58ade1(0x701)]['add'](_0x5b9cce),this['incrementVersion'](),this[_0x58ade1(0x333)](!0x0));}[_0x120045(0x426)](_0x5ec302){const _0x5e4959=_0x120045;this['remoteConnections'][_0x5e4959(0x5a8)](_0x5ec302)&&(this['remoteConnections'][_0x5e4959(0xa10)](_0x5ec302),this['incrementVersion'](),this[_0x5e4959(0x333)](!0x0));}[_0x120045(0x6d5)](){const _0x482da3=_0x120045;return this[_0x482da3(0x9c4)];}[_0x120045(0x8dd)](_0x46ea1c){const _0x400ad8=_0x120045;this[_0x400ad8(0x8ff)]!==_0x46ea1c&&(this['displayName']=_0x46ea1c,this[_0x400ad8(0x99a)](),this[_0x400ad8(0x333)]());}[_0x120045(0x234)](_0x1897de){const _0xefc85d=_0x120045;this[_0xefc85d(0xa27)]!==_0x1897de&&(this[_0xefc85d(0xa27)]=_0x1897de,this['incrementVersion'](),this[_0xefc85d(0x333)]());}[_0x120045(0x5e4)](_0xba7358,_0x3951bc=!0x0){const _0x1cc8db=_0x120045;this[_0x1cc8db(0x7c5)]!==_0xba7358&&(this[_0x1cc8db(0x7c5)]=_0xba7358,_0x3951bc&&(this['incrementVersion'](),this[_0x1cc8db(0x333)]()));}[_0x120045(0x99a)](){const _0x5f2bdd=_0x120045;this[_0x5f2bdd(0x9c4)]=Date[_0x5f2bdd(0x9e1)]();}[_0x120045(0x333)](_0xe2656f=!0x1){const _0x20eead=_0x120045;if(this['rank']){if(this[_0x20eead(0x15d)]||(this[_0x20eead(0x15d)]=Date[_0x20eead(0x9e1)]()),this['updateDebounceTimeout']){if(Date[_0x20eead(0x9e1)]()-this[_0x20eead(0x15d)]>0x2328)return;clearTimeout(this[_0x20eead(0xa62)]);}this[_0x20eead(0xa62)]=setTimeout(()=>{const _0x1c81c8=_0x20eead;delete this[_0x1c81c8(0x15d)],delete this[_0x1c81c8(0xa62)],this[_0x1c81c8(0xa45)][_0x1c81c8(0x552)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x435438[_0x1c81c8(0x9c1)],'content':{'type':_0xe2656f?_0x57c969[_0x1c81c8(0xa34)]:_0x57c969[_0x1c81c8(0x182)],'id':this['id'],'metaData':{'type':this[_0x1c81c8(0x7f3)],'displayName':this[_0x1c81c8(0x665)](),'email':this['getEmail']()},'rank':this[_0x1c81c8(0x1ae)](),'remoteConnections':Array['from'](this[_0x1c81c8(0x701)]),'version':this[_0x1c81c8(0x9c4)]}});},0x3e8);}}}class _0x59c5d6{['id'];['groupId'];[_0x120045(0x11b)];[_0x120045(0x81c)];['type']=_0x4e2564[_0x120045(0x9cd)][_0x120045(0x580)];[_0x120045(0x997)];constructor(_0x207620,_0x2cd59c,_0x2b41df,_0x4cb08b){const _0x2306e7=_0x120045;this['id']=_0x207620,this['groupId']=_0x2cd59c,this[_0x2306e7(0x11b)]=_0x2b41df,this[_0x2306e7(0x81c)]=_0x4cb08b;}[_0x120045(0xd7)](){return this['id'];}['onConfigurationChange'](_0x5333c3){const _0x50a722=_0x120045,_0x3328f6=(0x0,_0x730305[_0x50a722(0x944)])((0x0,_0x730305['doc'])(_0x2451a5[_0x50a722(0x368)](),_0x50a722(0x28c)+this[_0x50a722(0x11b)]+_0x50a722(0x907)+this[_0x50a722(0xa41)]),_0x1f5332=>{const _0x5dd291=_0x50a722;if(_0x1f5332[_0x5dd291(0x52f)]()){const _0x5ae6c6=_0x1f5332[_0x5dd291(0x7f6)]();if(this[_0x5dd291(0x81c)][_0x5dd291(0x6df)][_0x5dd291(0xa51)](_0x5ae6c6[_0x5dd291(0x6df)]))return;_0x1b1d61[_0x5dd291(0xed)](_0x185607[_0x5dd291(0x9c1)],'agent-config-changed',{'agentId':this['id'],'groupId':this['groupId'],'oldConfig':this['agentConfig'],'newConfig':_0x5ae6c6}),this[_0x5dd291(0x81c)]=_0x5ae6c6,_0x5333c3();}});return()=>_0x3328f6();}[_0x120045(0x75c)](_0x26c7ac){const _0x33ab76=_0x120045;return this[_0x33ab76(0x21b)](this[_0x33ab76(0xa41)],_0x26c7ac),_0x3da74f[_0x33ab76(0x40c)](()=>this[_0x33ab76(0x21b)](this['groupId'],_0x26c7ac),0x7530);}[_0x120045(0x6d6)](){const _0x4f98ee=_0x120045;if(!this[_0x4f98ee(0x997)])throw new _0x4a916f(_0x4a916f[_0x4f98ee(0xa30)][_0x4f98ee(0x4c6)]);return this[_0x4f98ee(0x997)];}async[_0x120045(0x21b)](_0xa5483b,_0x3b0b61){const _0x2d27b6=_0x120045,_0x4c9be2=await _0x3b0b61();this[_0x2d27b6(0x997)]=_0x4c9be2,await(0x0,_0x730305[_0x2d27b6(0xa55)])((0x0,_0x730305[_0x2d27b6(0x942)])(_0x2451a5[_0x2d27b6(0x368)](),'developers/'+this[_0x2d27b6(0x11b)]+_0x2d27b6(0x1c6)),{'agentId':this['id'],'groupId':_0xa5483b,'timestamp':(0x0,_0x730305['serverTimestamp'])(),'capacity':_0x4c9be2});}}!function(_0x4d3ec6){const _0x6bc282=_0x120045;_0x4d3ec6[_0x4d3ec6[_0x6bc282(0x7a8)]=0x0]=_0x6bc282(0x7a8),_0x4d3ec6[_0x4d3ec6[_0x6bc282(0x474)]=0x1]=_0x6bc282(0x474);}(_0x3e60e2||(_0x3e60e2={}));class _0x49ebc8 extends _0x24455d{[_0x120045(0x9c4)];[_0x120045(0x129)]=_0x3e60e2[_0x120045(0x7a8)];[_0x120045(0x15d)]=Date[_0x120045(0x9e1)]();constructor(_0x27d3b4,_0x3c57b6=new Set(),_0x5c481a,_0x327a06){const _0x790b99=_0x120045;super(_0x27d3b4,_0x3c57b6,_0x327a06),this[_0x790b99(0x9c4)]=_0x5c481a;}[_0x120045(0x6d5)](){const _0x52ff68=_0x120045;return this[_0x52ff68(0x9c4)];}[_0x120045(0x11d)](){const _0x5b462f=_0x120045;return this[_0x5b462f(0x129)];}['getLastUpdated'](){const _0x18ab9b=_0x120045;return this[_0x18ab9b(0x15d)];}[_0x120045(0x5e4)](_0x2d6bb8){const _0x40e51a=_0x120045;this[_0x40e51a(0x7c5)]!==_0x2d6bb8&&(this[_0x40e51a(0x7c5)]=_0x2d6bb8,this[_0x40e51a(0x87d)]());}[_0x120045(0x33a)](_0x3373e0){const _0x400ee6=_0x120045;let _0x1c9427=!0x1;for(const _0x5c86b5 of this[_0x400ee6(0x701)])_0x3373e0[_0x400ee6(0x82f)](_0x5c86b5)||(_0x1c9427=!0x0,this[_0x400ee6(0x701)][_0x400ee6(0xa10)](_0x5c86b5));for(const _0x220c4b of _0x3373e0)this[_0x400ee6(0x701)][_0x400ee6(0x5a8)](_0x220c4b)||(_0x1c9427=!0x0,this[_0x400ee6(0x701)][_0x400ee6(0x532)](_0x220c4b));_0x1c9427&&this[_0x400ee6(0x87d)]();}[_0x120045(0x42d)](_0x2cd362){const _0x52a919=_0x120045;this[_0x52a919(0x9c4)]!==_0x2cd362&&(this['currentVersion']=_0x2cd362,this[_0x52a919(0x87d)]());}[_0x120045(0x5fa)](_0x493b9e){const _0x1bbcfa=_0x120045;this['status']!==_0x493b9e&&(this[_0x1bbcfa(0x129)]=_0x493b9e,this['updateLastUpdated'](),_0x493b9e===_0x3e60e2[_0x1bbcfa(0x474)]&&this['close']());}[_0x120045(0x87d)](){const _0x366806=_0x120045;this['lastUpdated']=Date[_0x366806(0x9e1)]();}}class _0x53a8cb extends _0x631c8e{[_0x120045(0x9c4)];['status']=_0x3e60e2[_0x120045(0x7a8)];[_0x120045(0x15d)]=Date[_0x120045(0x9e1)]();constructor(_0xa0ef27,_0x2ced11,_0x3021be,_0x1b37c4=new Set(),_0x141fd6,_0x2c70cc){const _0x17da41=_0x120045;super(_0xa0ef27,_0x2ced11,_0x3021be,_0x1b37c4,_0x2c70cc),this[_0x17da41(0x9c4)]=_0x141fd6;}[_0x120045(0x6d5)](){const _0x315144=_0x120045;return this[_0x315144(0x9c4)];}[_0x120045(0x11d)](){const _0x5a05bd=_0x120045;return this[_0x5a05bd(0x129)];}[_0x120045(0x1e3)](){return this['lastUpdated'];}[_0x120045(0x8dd)](_0x29fe07){const _0x38c670=_0x120045;this[_0x38c670(0x8ff)]!==_0x29fe07&&(this[_0x38c670(0x8ff)]=_0x29fe07,this[_0x38c670(0x87d)]());}[_0x120045(0x234)](_0x229b31){const _0x20466f=_0x120045;this[_0x20466f(0xa27)]!==_0x229b31&&(this[_0x20466f(0xa27)]=_0x229b31,this[_0x20466f(0x87d)]());}[_0x120045(0x5e4)](_0x230ad4){const _0x35363e=_0x120045;this[_0x35363e(0x7c5)]!==_0x230ad4&&(this[_0x35363e(0x7c5)]=_0x230ad4,this[_0x35363e(0x87d)]());}[_0x120045(0x33a)](_0x398f4a){const _0x4dbe8c=_0x120045;let _0x5a90af=!0x1;for(const _0x1ce353 of this[_0x4dbe8c(0x701)])_0x398f4a[_0x4dbe8c(0x82f)](_0x1ce353)||(_0x5a90af=!0x0,this[_0x4dbe8c(0x701)]['delete'](_0x1ce353));for(const _0x47c198 of _0x398f4a)this['remoteConnections'][_0x4dbe8c(0x5a8)](_0x47c198)||(_0x5a90af=!0x0,this[_0x4dbe8c(0x701)][_0x4dbe8c(0x532)](_0x47c198));_0x5a90af&&this[_0x4dbe8c(0x87d)]();}[_0x120045(0x42d)](_0x6137bc){const _0x30b670=_0x120045;this[_0x30b670(0x9c4)]!==_0x6137bc&&(this['currentVersion']=_0x6137bc,this['updateLastUpdated']());}['setStatus'](_0x2cf907){const _0x23f2a7=_0x120045;this['status']!==_0x2cf907&&(this[_0x23f2a7(0x129)]=_0x2cf907,this['updateLastUpdated'](),_0x2cf907===_0x3e60e2[_0x23f2a7(0x474)]&&this[_0x23f2a7(0x1c1)]());}[_0x120045(0x87d)](){const _0x4b743f=_0x120045;this[_0x4b743f(0x15d)]=Date['now']();}}class _0x34d993{[_0x120045(0x11b)];[_0x120045(0xea)];['localNode'];['minConnections'];[_0x120045(0x4ea)]=_0x50ebb3();['firebaseUnsubscriber'];[_0x120045(0x8b4)];[_0x120045(0x3be)];[_0x120045(0x57d)]=!0x1;[_0x120045(0x2c9)];[_0x120045(0x56e)];constructor(_0xa87cc1,_0x27814a,_0x45d5d2,_0x177282){const _0x129719=_0x120045;this[_0x129719(0x11b)]=_0xa87cc1,this[_0x129719(0xea)]=_0x27814a,this[_0x129719(0x781)]=_0x45d5d2,this[_0x129719(0x2c7)]=_0x177282,this['clusterKey']=_0x129719(0x678)+this[_0x129719(0x11b)]+'ccc'+this[_0x129719(0xea)],this[_0x129719(0x56e)]=_0x129719(0x678)+this[_0x129719(0x11b)]+_0x129719(0x678)+this[_0x129719(0x781)]['getId'](),this[_0x129719(0x6a3)]=(0x0,_0x4399c2['onValue'])((0x0,_0x4399c2[_0x129719(0x6f0)])(_0x2451a5[_0x129719(0x1c4)](),_0x129719(0x896)),_0xefcfbf=>{const _0x28f9b0=_0x129719;!0x0!==_0xefcfbf[_0x28f9b0(0x7cc)]()?this['connected']&&_0x1b1d61[_0x28f9b0(0x525)](_0x28f9b0(0xcd),{'clusterId':this[_0x28f9b0(0xea)],'nodeId':this[_0x28f9b0(0x781)]['getId'](),'nodeType':this[_0x28f9b0(0x781)][_0x28f9b0(0x7f3)]}):(this[_0x28f9b0(0x57d)]=!0x0,this[_0x28f9b0(0x163)](),_0x1b1d61[_0x28f9b0(0x87e)](_0x28f9b0(0x18b),{'clusterId':this[_0x28f9b0(0xea)],'nodeId':this[_0x28f9b0(0x781)][_0x28f9b0(0xd7)](),'nodeType':this['localNode'][_0x28f9b0(0x7f3)]}));});}async[_0x120045(0x3ec)](){const _0x49145d=_0x120045;await this[_0x49145d(0x79b)]();const _0x3203cb=await this['getAncestors']();return this[_0x49145d(0x8b4)]=(0x0,_0x4399c2[_0x49145d(0x5c9)])((0x0,_0x4399c2['ref'])(_0x2451a5[_0x49145d(0x1c4)](),_0x49145d(0x22d)+this[_0x49145d(0x2c9)]+_0x49145d(0xa40)),_0x11b4c5=>{const _0x34c391=_0x49145d,_0x621281=_0x11b4c5['key'];if(!_0x621281)return;const _0x590c19=_0x621281[_0x34c391(0x6f2)](_0x34c391(0x678)+this[_0x34c391(0x11b)]+_0x34c391(0x678),'');this[_0x34c391(0x4ea)][_0x34c391(0x552)](_0x590c19);}),_0x3203cb;}async['close'](){const _0x1470e0=_0x120045;this[_0x1470e0(0x8b4)]?.(),delete this[_0x1470e0(0x8b4)],this[_0x1470e0(0x3be)]?.[_0x1470e0(0x689)](),delete this[_0x1470e0(0x3be)],this[_0x1470e0(0x6a3)]?.(),delete this[_0x1470e0(0x6a3)],await(0x0,_0x4399c2[_0x1470e0(0x707)])((0x0,_0x4399c2['ref'])(_0x2451a5[_0x1470e0(0x1c4)](),_0x1470e0(0x22d)+this[_0x1470e0(0x2c9)]+_0x1470e0(0x272)+this[_0x1470e0(0x56e)]));}['onNodeDisconnect'](_0x2b7007){const _0x229999=_0x120045;return this[_0x229999(0x4ea)]['subscribe'](_0x2b7007);}async[_0x120045(0x288)](){const _0x34e20a=_0x120045,_0x12fe88=[],_0x4ecbb9=await(0x0,_0x4399c2[_0x34e20a(0x7e9)])((0x0,_0x4399c2[_0x34e20a(0x6f0)])(_0x2451a5[_0x34e20a(0x1c4)](),_0x34e20a(0x22d)+this[_0x34e20a(0x2c9)]+'/nodes')),_0x27592=[];return _0x4ecbb9[_0x34e20a(0x311)](_0x4fd046=>{const _0x5dabf8=_0x34e20a,_0x119217=_0x4fd046[_0x5dabf8(0x4bd)]?.[_0x5dabf8(0x6f2)](_0x5dabf8(0x678)+this['vendorId']+_0x5dabf8(0x678),'');_0x27592['push']({'id':_0x119217,'joinedAt':_0x4fd046[_0x5dabf8(0x7cc)]()['joinedAt'],'priority':_0x4fd046[_0x5dabf8(0x7cc)]()['priority']});}),_0x27592[_0x34e20a(0x184)]((_0x3e3df9,_0x1d3827)=>_0x3e3df9[_0x34e20a(0x7de)]===_0x1d3827[_0x34e20a(0x7de)]?_0x3e3df9[_0x34e20a(0x716)]-_0x1d3827[_0x34e20a(0x716)]:_0x3e3df9[_0x34e20a(0x7de)]-_0x1d3827[_0x34e20a(0x7de)])[_0x34e20a(0x685)](_0x27592[_0x34e20a(0x8ca)](_0x256c21=>_0x256c21['id']===this[_0x34e20a(0x781)][_0x34e20a(0xd7)]())),_0x27592['sort']((_0x27b6eb,_0x1fe245)=>_0x1fe245[_0x34e20a(0x7de)]===_0x27b6eb[_0x34e20a(0x7de)]?_0x1fe245['priority']-_0x27b6eb['priority']:_0x1fe245[_0x34e20a(0x7de)]-_0x27b6eb['joinedAt'])[_0x34e20a(0x311)](_0x53b582=>{const _0x56e3dc=_0x34e20a;_0x12fe88[_0x56e3dc(0x59d)]>=this[_0x56e3dc(0x2c7)]||_0x12fe88[_0x56e3dc(0xdc)](_0x53b582['id']);}),_0x1b1d61[_0x34e20a(0x7f8)]('discover',{'clusterId':this[_0x34e20a(0xea)],'nodeId':this['localNode'][_0x34e20a(0xd7)](),'nodeType':this[_0x34e20a(0x781)][_0x34e20a(0x7f3)],'data':{'ancestorIds':_0x12fe88,'allNodes':_0x27592}}),_0x12fe88;}async[_0x120045(0x79b)](){const _0x57e58d=_0x120045;await(0x0,_0x4399c2[_0x57e58d(0x381)])((0x0,_0x4399c2[_0x57e58d(0x6f0)])(_0x2451a5['getDatabase'](),_0x57e58d(0x22d)+this['clusterKey']+'/nodes/'+this['nodeKey']),{'joinedAt':(0x0,_0x4399c2[_0x57e58d(0xa58)])(),'priority':Math[_0x57e58d(0x6d7)]()});}[_0x120045(0x163)](){const _0x14ddfa=_0x120045;this[_0x14ddfa(0x3be)]&&this[_0x14ddfa(0x3be)][_0x14ddfa(0x689)](),this[_0x14ddfa(0x3be)]=(0x0,_0x4399c2[_0x14ddfa(0x485)])((0x0,_0x4399c2[_0x14ddfa(0x6f0)])(_0x2451a5['getDatabase'](),_0x14ddfa(0x22d)+this[_0x14ddfa(0x2c9)]+_0x14ddfa(0x272)+this[_0x14ddfa(0x56e)])),this[_0x14ddfa(0x3be)]['remove']();}}class _0x2b36f9{['configs'];[_0x120045(0x66c)];[_0x120045(0xe7)];[_0x120045(0xa4f)];['discoveryUnsubscriber'];[_0x120045(0x159)]=[];[_0x120045(0xa45)];[_0x120045(0x427)]=new Map();[_0x120045(0x94a)];[_0x120045(0x737)];['_isReady'];[_0x120045(0x984)];['rejectReady'];[_0x120045(0x9e9)];constructor(_0x3d8c83,_0x4e1f1c){const _0x2f2870=_0x120045;this['configs']=_0x3d8c83,this[_0x2f2870(0x66c)]=_0x4e1f1c,this[_0x2f2870(0x70b)]=new Promise((_0x2852ab,_0xd0db8e)=>{const _0x2f0ece=_0x2f2870;this[_0x2f0ece(0x984)]=_0x2852ab,this[_0x2f0ece(0x8bd)]=_0xd0db8e;}),this['discoveryService']=new _0x34d993(this['configs'][_0x2f2870(0x11b)],this[_0x2f2870(0x22a)][_0x2f2870(0xea)],this[_0x2f2870(0x22a)]['localNode'],this['graphService'][_0x2f2870(0x62c)]()),this['discoveryUnsubscriber']=this[_0x2f2870(0xa4f)][_0x2f2870(0x2f9)](this[_0x2f2870(0x992)][_0x2f2870(0xa66)](this)),this[_0x2f2870(0x22a)]['mediator'][_0x2f2870(0x1ef)](this[_0x2f2870(0x22a)][_0x2f2870(0x781)]),this[_0x2f2870(0x22a)][_0x2f2870(0x5ba)][_0x2f2870(0x1ef)](this),this[_0x2f2870(0xe7)]=_0x3da74f[_0x2f2870(0x40c)](()=>{const _0x41f9c7=_0x2f2870,_0x492578=Date[_0x41f9c7(0x9e1)]();this['graphService'][_0x41f9c7(0x963)]()[_0x41f9c7(0x311)](_0x2150ec=>{const _0x5822e8=_0x41f9c7;_0x2150ec[_0x5822e8(0x11d)]()===_0x3e60e2[_0x5822e8(0x474)]&&_0x2150ec['getLastUpdated']()<_0x492578-0x493e0&&this[_0x5822e8(0x66c)]['deleteRemoteNode'](_0x2150ec[_0x5822e8(0xd7)]());});},0xea60);}async[_0x120045(0x430)](){const _0x27919d=_0x120045;return this[_0x27919d(0x70b)];}async[_0x120045(0xa37)](_0x507b97){return new Promise((_0x41fe6f,_0xd63f69)=>{const _0x27e9a7=a0_0x573a;let _0x373b59;const _0x6c8779=setTimeout(()=>{const _0x1afe71=a0_0x573a;_0x373b59?.(),_0xd63f69(new Error('Node\x20\x27'+_0x507b97+_0x1afe71(0x833)));},0x2710);if(this['graphService'][_0x27e9a7(0x4c4)](_0x507b97))return clearTimeout(_0x6c8779),void _0x41fe6f(!0x0);_0x373b59=this[_0x27e9a7(0x66c)]['onNodeUpdate'](()=>{const _0x441311=_0x27e9a7;this[_0x441311(0x66c)][_0x441311(0x4c4)](_0x507b97)&&(clearTimeout(_0x6c8779),_0x41fe6f(!0x0),_0x373b59?.());});});}[_0x120045(0x67d)](_0x2d03b4){const _0x3bf093=_0x120045;this[_0x3bf093(0xa45)]=_0x2d03b4;}['unregisterSystemPublisher'](){const _0x459a27=_0x120045;delete this[_0x459a27(0xa45)];}[_0x120045(0x1c1)](){const _0x16d8cf=_0x120045;this['debounceProcessRank']&&(clearTimeout(this[_0x16d8cf(0x94a)]),delete this[_0x16d8cf(0x94a)]),delete this['lastProcessRank'],this[_0x16d8cf(0x22a)][_0x16d8cf(0x781)][_0x16d8cf(0x1c1)](),this[_0x16d8cf(0xe7)](),this[_0x16d8cf(0x7e5)](),this[_0x16d8cf(0x22a)][_0x16d8cf(0x5ba)][_0x16d8cf(0x252)](this[_0x16d8cf(0x22a)][_0x16d8cf(0x781)]),this[_0x16d8cf(0x22a)][_0x16d8cf(0x5ba)]['unregisterSystemSource'](this),this[_0x16d8cf(0xa4f)][_0x16d8cf(0x1c1)]();}['getAncestorIds'](){return this['ancestors'];}[_0x120045(0x67f)](){const _0x5a6480=_0x120045;return this[_0x5a6480(0x22a)][_0x5a6480(0x781)][_0x5a6480(0xd7)]();}[_0x120045(0x567)](){const _0x379596=_0x120045;return this[_0x379596(0x22a)]['localNode'];}[_0x120045(0x963)](_0x3f400f){const _0x21a904=_0x120045,_0xad3122=Array[_0x21a904(0x7f9)](this['graphService'][_0x21a904(0x963)]()[_0x21a904(0x449)]())[_0x21a904(0x1e1)](_0x8456fb=>_0x8456fb[_0x21a904(0x11d)]()===_0x3e60e2[_0x21a904(0x7a8)]);return _0x3f400f?_0xad3122[_0x21a904(0x1e1)](_0x3f400f):_0xad3122;}async['discover'](){const _0x37610f=_0x120045;return this[_0x37610f(0x159)]=await this[_0x37610f(0xa4f)][_0x37610f(0x3ec)](),this[_0x37610f(0x159)][_0x37610f(0x59d)]<this[_0x37610f(0x66c)][_0x37610f(0x62c)]()&&(this[_0x37610f(0x22a)]['localNode']['setRank'](this['ancestors'][_0x37610f(0x59d)]+0x1),this[_0x37610f(0x1a1)]()),this[_0x37610f(0x159)];}['getDistance'](_0x3cb58d,_0x5461e3){const _0x373efa=_0x120045,_0x5d0a0e=this[_0x373efa(0x22a)][_0x373efa(0x781)][_0x373efa(0x18a)](),_0x686013=new Set(_0x5d0a0e),_0x4fb533=Array['from'](_0x5d0a0e)[_0x373efa(0x1e1)](_0x2acd9f=>_0x2acd9f!==_0x3cb58d)[_0x373efa(0x760)](_0x3d0b54=>({'id':_0x3d0b54,'distance':0x1}));for(;_0x4fb533[_0x373efa(0x59d)]>0x0;){const _0x42b4f7=_0x4fb533['shift']();if(!_0x42b4f7)continue;if(_0x42b4f7['id']===_0x5461e3)return _0x42b4f7[_0x373efa(0x31a)];const _0x58c5c8=this[_0x373efa(0x66c)][_0x373efa(0x662)](_0x42b4f7['id']);_0x58c5c8&&_0x58c5c8[_0x373efa(0x11d)]()!==_0x3e60e2[_0x373efa(0x474)]&&_0x58c5c8['getRemoteConnections']()[_0x373efa(0x311)](_0x21287=>{const _0x1c70d0=_0x373efa;_0x686013['has'](_0x21287)||(_0x686013[_0x1c70d0(0x532)](_0x21287),_0x4fb533['push']({'id':_0x21287,'distance':_0x42b4f7[_0x1c70d0(0x31a)]+0x1}));});}return-0x1;}[_0x120045(0x1be)](_0x472a6a){const _0x181073=_0x120045;try{switch(_0x472a6a[_0x181073(0x477)]['type']){case _0x57c969[_0x181073(0x182)]:case _0x57c969['NodeConnectionsUpdate']:this[_0x181073(0x945)](_0x472a6a[_0x181073(0x477)]),_0x1b1d61[_0x181073(0xed)](_0x185607[_0x181073(0x9c1)],'NodeManager\x20-\x20NodeUpdate','\x27'+this[_0x181073(0x22a)][_0x181073(0x781)][_0x181073(0xd7)]()+',\x20'+_0x472a6a['sourceId']+'\x27',_0x472a6a,_0x472a6a[_0x181073(0x477)]);break;case _0x57c969[_0x181073(0x261)]:this[_0x181073(0x17b)](_0x472a6a['content']['id']),_0x1b1d61[_0x181073(0xed)](_0x185607['Node'],_0x181073(0x582),'\x27'+this[_0x181073(0x22a)][_0x181073(0x781)][_0x181073(0xd7)]()+',\x20'+_0x472a6a['sourceId']+'\x27',_0x472a6a,_0x472a6a[_0x181073(0x477)]);}}catch(_0x129730){if(_0x129730 instanceof _0x602078)return void _0x1b1d61[_0x181073(0xed)](_0x185607[_0x181073(0x9c1)],_0x129730[_0x181073(0x1b4)]);throw _0x129730;}}[_0x120045(0x2d0)](_0x33dbc5){const _0x2f8815=_0x120045;switch(_0x33dbc5[_0x2f8815(0x477)][_0x2f8815(0x7f3)]){case _0x55ce1f[_0x2f8815(0x728)]:this['handleConnectionSuccess'](_0x33dbc5[_0x2f8815(0x50d)]),_0x1b1d61[_0x2f8815(0xed)](_0x185607[_0x2f8815(0x9c1)],_0x2f8815(0x516),'\x27'+this[_0x2f8815(0x22a)][_0x2f8815(0x781)]['getId']()+',\x20'+_0x33dbc5['sourceId']+'\x27',_0x33dbc5,_0x33dbc5['content']);break;case _0x55ce1f[_0x2f8815(0x64b)]:this['publishNodeLeave'](_0x33dbc5[_0x2f8815(0x50d)]),_0x1b1d61['log'](_0x185607[_0x2f8815(0x9c1)],_0x2f8815(0x95b),this['configs'][_0x2f8815(0x781)][_0x2f8815(0xd7)](),_0x33dbc5,_0x33dbc5[_0x2f8815(0x477)]);}}[_0x120045(0x632)](_0x5f2620){const _0x33b2f6=_0x120045;this[_0x33b2f6(0x1ed)](_0x5f2620),this[_0x33b2f6(0x8d7)](_0x5f2620);}[_0x120045(0x8d7)](_0x752ea1){const _0x33f9a0=_0x120045;this[_0x33f9a0(0x22a)][_0x33f9a0(0x781)]['answerJoin'](_0x752ea1['id']),this[_0x33f9a0(0x98a)](_0x752ea1['id']),this['notifyClusterNodeJoin'](_0x752ea1);}['handleNodeUpdate'](_0x3a241c){const _0x430fc1=_0x120045,{id:_0x41810b,metaData:_0x356282,rank:_0x562a17,remoteConnections:_0x3b324b,version:_0x1a087a}=_0x3a241c,_0x5eb54c=this[_0x430fc1(0x66c)][_0x430fc1(0x662)](_0x41810b);if(_0x5eb54c){if(!(_0x1a087a<=_0x5eb54c['getCurrentVersion']())){if(_0x5eb54c[_0x430fc1(0x33a)](_0x3b324b),_0x5eb54c[_0x430fc1(0x42d)](_0x1a087a),_0x5eb54c[_0x430fc1(0x7f3)]===_0x4e2564[_0x430fc1(0x9cd)]['User']&&_0x356282[_0x430fc1(0x7f3)]===_0x4e2564['NodeType'][_0x430fc1(0x4b1)]&&(_0x5eb54c['setDisplayName'](_0x356282[_0x430fc1(0x8ff)]),_0x5eb54c[_0x430fc1(0x234)](_0x356282[_0x430fc1(0xa27)])),_0x562a17&&_0x5eb54c['setRank'](_0x562a17),this[_0x430fc1(0x77e)](_0x41810b,_0x562a17),_0x5eb54c[_0x430fc1(0x11d)]()===_0x3e60e2[_0x430fc1(0x474)])return _0x5eb54c[_0x430fc1(0x5fa)](_0x3e60e2['Online']),this[_0x430fc1(0x1a1)](),void this['notifyJoin'](_0x3a241c);this[_0x430fc1(0x1a1)](),this[_0x430fc1(0x3da)]({'id':_0x41810b,'metaData':_0x356282,'remoteConnections':_0x3b324b,'version':_0x1a087a});}}else this[_0x430fc1(0x632)](_0x3a241c);}[_0x120045(0x77e)](_0x5a7b03,_0x1faaee){const _0xe155b8=_0x120045;_0x1faaee&&this[_0xe155b8(0x159)][_0xe155b8(0x82f)](_0x5a7b03)&&this[_0xe155b8(0x22a)][_0xe155b8(0x781)][_0xe155b8(0x5e4)](_0x1faaee+this[_0xe155b8(0x159)][_0xe155b8(0xe6)](_0x5a7b03)+0x1);}[_0x120045(0x769)](_0x5899e9){const _0x42bf3f=_0x120045;this[_0x42bf3f(0x22a)][_0x42bf3f(0x781)]['addRemoteConnection'](_0x5899e9);}[_0x120045(0x1ed)]({id:_0x23a7d4,metaData:_0x3339db,rank:_0xc6878e,remoteConnections:_0x4000d0,version:_0x4b86a1}){const _0x478b35=_0x120045;if(this[_0x478b35(0x66c)][_0x478b35(0x4c4)](_0x23a7d4))throw new _0x602078('Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20'+_0x23a7d4);switch(_0x3339db[_0x478b35(0x7f3)]){case _0x4e2564[_0x478b35(0x9cd)][_0x478b35(0x4b1)]:const {displayName:_0x2390fe,email:_0x50cbd8}=_0x3339db;this[_0x478b35(0x66c)]['setRemoteNode'](_0x23a7d4,new _0x53a8cb(_0x23a7d4,_0x2390fe,_0x50cbd8,new Set(_0x4000d0),_0x4b86a1,_0xc6878e));break;case _0x4e2564['NodeType']['Agent']:this['graphService'][_0x478b35(0x186)](_0x23a7d4,new _0x49ebc8(_0x23a7d4,new Set(_0x4000d0),_0x4b86a1,_0xc6878e));}const _0x482e90=this['getRemoteNodes'](),_0x381cb0=new Set(this[_0x478b35(0x159)]);_0x482e90[_0x478b35(0x311)](_0x3c7849=>{const _0x2cc801=_0x478b35;_0x381cb0[_0x2cc801(0x5a8)](_0x3c7849[_0x2cc801(0xd7)]())&&_0x381cb0[_0x2cc801(0xa10)](_0x3c7849[_0x2cc801(0xd7)]());}),0x0===_0x381cb0[_0x478b35(0x625)]&&this[_0x478b35(0x984)]&&(this[_0x478b35(0x9e9)]&&clearTimeout(this[_0x478b35(0x9e9)]),this[_0x478b35(0x9e9)]=setTimeout(()=>{const _0x484be3=_0x478b35;this['resolveReady']?.(!0x0),delete this[_0x484be3(0x984)],delete this[_0x484be3(0x8bd)];},0x7d0)),this[_0x478b35(0x77e)](_0x23a7d4,_0xc6878e),this[_0x478b35(0x1a1)]();}[_0x120045(0x98a)](_0x5523ef){const _0x455c43=_0x120045;this['systemTopic']['publish']({'sourceId':_0x40bfc5,'messageType':_0x435438[_0x455c43(0x9c1)],'content':{'type':_0x57c969[_0x455c43(0x8a8)],'id':_0x5523ef}});}['publishNodeLeave'](_0x380cbb){const _0x53d725=_0x120045;this[_0x53d725(0xa45)]?.[_0x53d725(0x552)]({'sourceId':_0x40bfc5,'messageType':_0x435438[_0x53d725(0x9c1)],'content':{'type':_0x57c969[_0x53d725(0x261)],'id':_0x380cbb}});}[_0x120045(0x992)](_0x45b8d8){const _0x4f5f55=_0x120045;if(_0x45b8d8===this[_0x4f5f55(0x22a)][_0x4f5f55(0x781)]['getId']())return this['configs']['mediator'][_0x4f5f55(0x25f)]('cluster-disconnect',{'id':_0x45b8d8}),this[_0x4f5f55(0x22a)]['mediator'][_0x4f5f55(0x1c1)]({'force':!0x0},!0x0),this[_0x4f5f55(0x22a)][_0x4f5f55(0x5ba)][_0x4f5f55(0x69b)](),void this['configs'][_0x4f5f55(0x5ba)][_0x4f5f55(0x995)]();this[_0x4f5f55(0x526)](_0x45b8d8);}['removeNode'](_0x32ddbc){const _0x451cbf=_0x120045;this[_0x451cbf(0x159)][_0x451cbf(0x82f)](_0x32ddbc)?this['manageAncestor'](_0x32ddbc):this[_0x451cbf(0x22a)][_0x451cbf(0x781)][_0x451cbf(0x18a)]()['has'](_0x32ddbc)&&this[_0x451cbf(0x412)](_0x32ddbc),this[_0x451cbf(0x22a)][_0x451cbf(0x781)][_0x451cbf(0x426)](_0x32ddbc);const _0x3ade79=Array['from'](this[_0x451cbf(0x427)]['entries']())[_0x451cbf(0x999)](([,_0x5d423d])=>_0x5d423d==_0x5d423d);_0x3ade79&&this[_0x451cbf(0x427)][_0x451cbf(0xa10)](_0x3ade79[0x0]);const _0x5b5cb4=this[_0x451cbf(0x66c)][_0x451cbf(0x662)](_0x32ddbc);if(!_0x5b5cb4)return;const _0x2b6fbb=_0x5b5cb4[_0x451cbf(0x1ae)](),_0x54d61e=this[_0x451cbf(0x22a)][_0x451cbf(0x781)][_0x451cbf(0x1ae)]();_0x54d61e&&_0x2b6fbb&&_0x2b6fbb<_0x54d61e&&this[_0x451cbf(0x22a)][_0x451cbf(0x781)][_0x451cbf(0x5e4)](_0x54d61e-0x1,!0x1),Array[_0x451cbf(0x7f9)](this[_0x451cbf(0x66c)]['getRemoteNodes']()[_0x451cbf(0x449)]())['forEach'](_0x2a0a1b=>{const _0x278f71=_0x451cbf,_0x1b7b82=_0x2a0a1b[_0x278f71(0x1ae)]();_0x1b7b82&&_0x2b6fbb&&_0x2b6fbb<_0x1b7b82&&_0x2a0a1b[_0x278f71(0x5e4)](_0x1b7b82-0x1);}),_0x5b5cb4['setStatus'](_0x3e60e2[_0x451cbf(0x474)]),this[_0x451cbf(0x22a)]['mediator'][_0x451cbf(0x25f)](_0x5b5cb4['type']+_0x451cbf(0x8b9),{'id':_0x32ddbc});}[_0x120045(0x42a)]({id:_0x3cbf9d,metaData:_0x24de6c,remoteConnections:_0xa4ed}){const _0xe7c27=_0x120045;switch(_0x24de6c[_0xe7c27(0x7f3)]){case _0x4e2564[_0xe7c27(0x9cd)]['User']:this[_0xe7c27(0x22a)][_0xe7c27(0x5ba)][_0xe7c27(0x25f)]('user-join',{'id':_0x3cbf9d,'metaData':_0x24de6c,'remoteConnections':_0xa4ed});break;case _0x4e2564[_0xe7c27(0x9cd)][_0xe7c27(0x580)]:this['configs']['mediator'][_0xe7c27(0x25f)](_0xe7c27(0x7dc),{'id':_0x3cbf9d,'metaData':_0x24de6c,'remoteConnections':_0xa4ed});}}[_0x120045(0x3da)]({id:_0x58a49d,metaData:_0x506f2f,remoteConnections:_0x2a5ee9}){const _0x39449f=_0x120045;switch(_0x506f2f[_0x39449f(0x7f3)]){case _0x4e2564[_0x39449f(0x9cd)]['User']:this[_0x39449f(0x22a)][_0x39449f(0x5ba)][_0x39449f(0x25f)](_0x39449f(0x457),{'id':_0x58a49d,'metaData':_0x506f2f,'remoteConnections':_0x2a5ee9});break;case _0x4e2564[_0x39449f(0x9cd)][_0x39449f(0x580)]:this[_0x39449f(0x22a)][_0x39449f(0x5ba)][_0x39449f(0x25f)]('agent-update',{'id':_0x58a49d,'metaData':_0x506f2f,'remoteConnections':_0x2a5ee9});}}[_0x120045(0x1a1)](){const _0x250b6f=_0x120045;if(this[_0x250b6f(0x737)]||(this['lastProcessRank']=Date[_0x250b6f(0x9e1)]()),this[_0x250b6f(0x94a)]){if(Date[_0x250b6f(0x9e1)]()-this[_0x250b6f(0x737)]>0x2328)return;clearTimeout(this[_0x250b6f(0x94a)]);}this[_0x250b6f(0x94a)]=setTimeout(async()=>{const _0x469026=_0x250b6f;delete this[_0x469026(0x737)],delete this[_0x469026(0x94a)];const _0x5f2015=this['configs'][_0x469026(0x781)]['getRank']();if(!_0x5f2015)return;const _0x1c89ee=this[_0x469026(0x66c)][_0x469026(0x673)](this[_0x469026(0x66c)][_0x469026(0x963)]()[_0x469026(0x625)]);if(this[_0x469026(0x427)]['size']>=_0x1c89ee)return;let _0x1e4dc3=0x1;for(;this['configs'][_0x469026(0x5ba)][_0x469026(0x533)]()[_0x469026(0x59d)]<this[_0x469026(0x66c)][_0x469026(0x657)]()&&_0x1e4dc3<=_0x1c89ee;){if(this[_0x469026(0x427)][_0x469026(0x5a8)](_0x1e4dc3)){_0x1e4dc3+=0x1;continue;}const _0x27d2fe=this[_0x469026(0x66c)][_0x469026(0x816)](_0x5f2015,_0x1e4dc3),_0x12a3e7=Array[_0x469026(0x7f9)](this[_0x469026(0x66c)]['getRemoteNodes']()['values']())[_0x469026(0x999)](_0x31c5f0=>_0x31c5f0[_0x469026(0x1ae)]()===_0x27d2fe&&_0x31c5f0['getStatus']()===_0x3e60e2[_0x469026(0x7a8)]);if(_0x12a3e7){try{await this[_0x469026(0x22a)][_0x469026(0x5ba)][_0x469026(0x8c2)](_0x12a3e7[_0x469026(0xd7)](),_0x289672[_0x469026(0x69a)]),this['optimizationLayers'][_0x469026(0x381)](_0x1e4dc3,_0x12a3e7[_0x469026(0xd7)]());}catch(_0x3864a2){if(!(_0x3864a2 instanceof _0x4a916f&&_0x3864a2[_0x469026(0x626)]===_0x4a916f['codes'][_0x469026(0x3c5)]))throw _0x3864a2;_0x1b1d61['log'](_0x185607['Node'],this[_0x469026(0x22a)]['localNode'][_0x469026(0xd7)](),_0x12a3e7['getId'](),_0x3864a2[_0x469026(0x1b4)]);}_0x1e4dc3+=0x1;}else _0x1e4dc3+=0x1;}},0x3e8);}async[_0x120045(0x6a1)](_0x33a308){const _0x454406=_0x120045;this[_0x454406(0x159)][_0x454406(0x685)](this['ancestors'][_0x454406(0xe6)](_0x33a308),0x1);const _0x54c068=await this[_0x454406(0xa4f)][_0x454406(0x288)]();for(const _0x280c3f of _0x54c068)if(!this[_0x454406(0x159)][_0x454406(0x82f)](_0x280c3f)){const _0x44a016=Array[_0x454406(0x7f9)](this[_0x454406(0x427)][_0x454406(0x471)]())[_0x454406(0x999)](([,_0x35783e])=>_0x35783e===_0x280c3f);_0x44a016&&this[_0x454406(0x427)][_0x454406(0xa10)](_0x44a016[0x0]),this[_0x454406(0x22a)][_0x454406(0x5ba)][_0x454406(0x8c2)](_0x280c3f,_0x289672[_0x454406(0x976)]);}0x0===_0x54c068[_0x454406(0x59d)]&&this['configs'][_0x454406(0x781)]['setRank'](0x1),this[_0x454406(0x159)]=_0x54c068;}async[_0x120045(0x412)](_0x2b8997){const _0x22fd36=_0x120045,_0x3af8ec=this['configs'][_0x22fd36(0x781)][_0x22fd36(0x1ae)]();if(!_0x3af8ec)return;const _0x9de624=this[_0x22fd36(0x66c)]['getRemoteNode'](_0x2b8997);if(!_0x9de624||_0x9de624['getStatus']()===_0x3e60e2['Offline'])return;const _0x28ac38=_0x9de624[_0x22fd36(0x1ae)]();if(!_0x28ac38||_0x28ac38<_0x3af8ec)return;const _0x5464a7=this['getOutgoingOptimizationConnections'](this[_0x22fd36(0x22a)][_0x22fd36(0x781)][_0x22fd36(0x18a)](),_0x3af8ec),_0x223255=this[_0x22fd36(0x6f1)](_0x9de624[_0x22fd36(0x18a)](),_0x28ac38)[_0x5464a7[_0x22fd36(0x8ca)](([_0x23db6a])=>_0x23db6a===_0x2b8997)];if(!_0x223255||this[_0x22fd36(0x22a)]['localNode']['getRemoteConnections']()['has'](_0x223255[0x0]))return;const _0x379845=this['graphService']['getRemoteNode'](_0x223255[0x0]);if(_0x379845&&_0x379845[_0x22fd36(0x11d)]()!==_0x3e60e2['Offline'])try{await this['configs']['mediator'][_0x22fd36(0x8c2)](_0x223255[0x0],_0x289672[_0x22fd36(0x69a)]);const _0x5a4c8b=Array[_0x22fd36(0x7f9)](this[_0x22fd36(0x427)][_0x22fd36(0x471)]())[_0x22fd36(0x999)](([,_0xc9ca8c])=>_0xc9ca8c===_0x2b8997);_0x5a4c8b&&this['optimizationLayers']['set'](_0x5a4c8b[0x0],_0x223255[0x0]);}catch(_0x15ca99){if(!(_0x15ca99 instanceof _0x4a916f&&_0x15ca99[_0x22fd36(0x626)]===_0x4a916f[_0x22fd36(0xa30)][_0x22fd36(0x3c5)]))throw _0x15ca99;_0x1b1d61[_0x22fd36(0xed)](_0x185607['Node'],this['configs'][_0x22fd36(0x781)][_0x22fd36(0xd7)](),_0x223255[0x0],_0x15ca99['message']);}}['getOutgoingOptimizationConnections'](_0x3c9f5e,_0x1f8f53){const _0x1ea1d6=_0x120045;return Array[_0x1ea1d6(0x7f9)](_0x3c9f5e)['reduce']((_0x326e4f,_0x4aa463)=>{const _0x20850e=_0x1ea1d6,_0xcc69b8=this[_0x20850e(0x66c)][_0x20850e(0x662)](_0x4aa463);if(!_0xcc69b8||_0xcc69b8[_0x20850e(0x11d)]()===_0x3e60e2[_0x20850e(0x474)])return _0x326e4f;const _0x2edd3f=_0xcc69b8['getRank']();if(!_0x2edd3f)return _0x326e4f;const _0x5d6d98=_0x2edd3f-_0x1f8f53;return _0x5d6d98<=this[_0x20850e(0x66c)][_0x20850e(0x62c)]()||_0x326e4f[_0x20850e(0xdc)]([_0x4aa463,_0x5d6d98]),_0x326e4f;},[])['sort'](([,_0x4e3b50],[,_0x367b2d])=>_0x4e3b50-_0x367b2d);}}const _0x372ea9=[{'problemType':_0x59ae2e['CPUCycle'],'remediations':[{'type':_0x266f35['Remediation'],'component':_0x31fca9['Resolution'],'action':_0x6ff4f0[_0x120045(0x99b)]},{'type':_0x266f35[_0x120045(0x93d)],'component':_0x31fca9[_0x120045(0x668)],'action':_0x6ff4f0['Downgrade']}]},{'problemType':_0x59ae2e['TimePerFrame'],'remediations':[{'type':_0x266f35[_0x120045(0x8f1)],'component':_0x31fca9[_0x120045(0x668)],'action':_0x6ff4f0[_0x120045(0x99b)]}]},{'problemType':_0x59ae2e[_0x120045(0x406)],'remediations':[{'type':_0x266f35['Remediation'],'component':_0x31fca9[_0x120045(0x668)],'action':_0x6ff4f0[_0x120045(0x99b)]}]},{'problemType':_0x59ae2e[_0x120045(0x198)],'remediations':[{'type':_0x266f35[_0x120045(0x8f1)],'component':_0x31fca9[_0x120045(0x668)],'action':_0x6ff4f0[_0x120045(0x99b)]}]},{'problemType':_0x59ae2e[_0x120045(0x860)],'remediations':[{'type':_0x266f35[_0x120045(0x8f1)],'component':_0x31fca9[_0x120045(0x860)],'action':_0x6ff4f0[_0x120045(0x99b)]}]},{'problemType':_0x59ae2e[_0x120045(0x169)],'remediations':[{'type':_0x266f35[_0x120045(0x8f1)],'component':_0x31fca9[_0x120045(0x860)],'action':_0x6ff4f0[_0x120045(0x99b)]}]},{'problemType':_0x59ae2e['RoundTripTime'],'remediations':[{'type':_0x266f35[_0x120045(0x8f1)],'component':_0x31fca9['Bitrate'],'action':_0x6ff4f0[_0x120045(0x99b)]}]}];class _0x504987{[_0x120045(0x22a)];['systemTopic'];['lastRemediations']=new Map();constructor(_0xa7539a){const _0x5a8a3d=_0x120045;this[_0x5a8a3d(0x22a)]=_0xa7539a,this[_0x5a8a3d(0x22a)]['mediator'][_0x5a8a3d(0x1ef)](this);}['close'](){const _0x1b595b=_0x120045;this[_0x1b595b(0x22a)][_0x1b595b(0x5ba)][_0x1b595b(0x252)](this);}[_0x120045(0x67d)](_0x39f9e5){const _0x3d60fd=_0x120045;this[_0x3d60fd(0xa45)]=_0x39f9e5;}[_0x120045(0x12a)](){delete this['systemTopic'];}['handleDetectionSystemEvents'](_0x2e4f32){const _0x5a6ee7=_0x120045;_0x2e4f32[_0x5a6ee7(0x477)][_0x5a6ee7(0x7f3)]===_0x32854a[_0x5a6ee7(0x821)]&&this['handleProblem'](_0x2e4f32['content'][_0x5a6ee7(0x7f6)]);}['handleRemediationSystemEvents'](_0x522cbf){const _0x27cb07=_0x120045;_0x522cbf['content'][_0x27cb07(0x7f3)]===_0x266f35[_0x27cb07(0x93d)]&&this['applyRemediation'](_0x522cbf[_0x27cb07(0x50d)],{'type':_0x266f35[_0x27cb07(0x8f1)],'component':_0x522cbf[_0x27cb07(0x477)][_0x27cb07(0x7f6)][_0x27cb07(0x571)],'action':_0x522cbf[_0x27cb07(0x477)]['data'][_0x27cb07(0x47d)]});}[_0x120045(0x4e7)](_0x364183){const _0x4d7da6=_0x120045,_0x24eeb7=_0x372ea9[_0x4d7da6(0x999)](_0x1e0142=>_0x1e0142['problemType']===_0x364183['type']);_0x24eeb7[_0x4d7da6(0x534)]?.[_0x4d7da6(0x311)](_0x275b42=>{const _0x2880b9=_0x4d7da6;this[_0x2880b9(0x16a)](_0x364183[_0x2880b9(0x846)],{'type':_0x364183[_0x2880b9(0x8fc)]===_0x40fec4[_0x2880b9(0x9a8)]?_0x266f35[_0x2880b9(0x8f1)]:_0x266f35[_0x2880b9(0x93d)],'component':_0x275b42['component'],'action':_0x275b42[_0x2880b9(0x47d)]});});}['applyRemediation'](_0x2ab08f,_0x6dda90){const _0x246d72=_0x120045;if(_0x6dda90[_0x246d72(0x7f3)]===_0x266f35[_0x246d72(0x8f1)]){const _0xf84fe3=Date['now'](),_0x46c8bf=this[_0x246d72(0x715)][_0x246d72(0x7e9)](_0x2ab08f);if(_0x46c8bf&&_0xf84fe3-_0x46c8bf<0x1388)return;this['lastRemediations'][_0x246d72(0x381)](_0x2ab08f,_0xf84fe3);}_0x1b1d61[_0x246d72(0xed)](_0x185607[_0x246d72(0x8f1)],_0x246d72(0x49d),_0x6dda90),_0x1b1d61[_0x246d72(0x7f8)]('remediation',{'clusterId':this[_0x246d72(0x22a)][_0x246d72(0xea)],'nodeId':this[_0x246d72(0x22a)][_0x246d72(0x781)][_0x246d72(0xd7)](),'nodeType':this[_0x246d72(0x22a)][_0x246d72(0x781)][_0x246d72(0x7f3)],'remoteId':_0x2ab08f,'data':{'type':_0x6dda90['type'],'component':_0x6dda90['component'],'action':_0x6dda90[_0x246d72(0x47d)]}});let _0x1fa246,_0x2a33d8=_0x40bfc5;_0x6dda90[_0x246d72(0x7f3)]===_0x266f35['RemoteRemediation']&&(_0x2a33d8=this[_0x246d72(0x22a)]['localNode']['getId'](),_0x1fa246=[_0x2ab08f]),this[_0x246d72(0xa45)]['publish']({'sourceId':_0x2a33d8,'destinationIds':_0x1fa246,'messageType':_0x435438['Remediation'],'content':{'type':_0x6dda90[_0x246d72(0x7f3)],'targetId':_0x2ab08f,'data':_0x6dda90}});}}const _0x3c72a2=0x3e8,_0x4a8bbd=0x7530,_0xae4830='outbound-rtp',_0xd9201c=_0x120045(0x2b1),_0x515210=_0x120045(0x982),_0x764642=[_0xae4830,_0xd9201c],_0x3c1219=[_0x515210];class _0x5b2782{[_0x120045(0x46b)]=0x0;[_0x120045(0x9a2)]=0x0;[_0x120045(0x1e9)]=0x0;['packetsLost']=0x0;['packets']=0x0;['currentTimestamp']=0x0;['previousTimestamp']=0x0;['currentBytes']=0x0;[_0x120045(0x343)]=0x0;get[_0x120045(0x4b7)](){const _0x23cc61=_0x120045;return this['currentTimestamp']>0x0&&this['previousTimestamp']>0x0&&Date[_0x23cc61(0x9e1)]()-this[_0x23cc61(0x5e0)]<_0x4a8bbd?(this[_0x23cc61(0xa64)]-this[_0x23cc61(0x343)])/(this[_0x23cc61(0x5e0)]-this[_0x23cc61(0x6f3)])*0x8*0x3e8:0x0;}[_0x120045(0xa08)](_0x596f70){const _0x24bad6=_0x120045;switch(_0x596f70[_0x24bad6(0x7f3)]){case _0x515210:this['processInboundReport'](_0x596f70);break;case _0xae4830:this[_0x24bad6(0x1f5)](_0x596f70);break;case _0xd9201c:this[_0x24bad6(0x8e6)](_0x596f70);}}[_0x120045(0x9db)](){const _0x26a133=_0x120045;return{'bitrate':this[_0x26a133(0x4b7)],'packetsLostPerc':this[_0x26a133(0x200)](),'roundTripTime':this['roundTripTime'],'jitter':this['jitter']};}[_0x120045(0x9dc)](_0x5be387){const _0x3e6dd2=_0x120045;this[_0x3e6dd2(0x4e0)](_0x5be387[_0x3e6dd2(0x4ac)]),this[_0x3e6dd2(0x246)](_0x5be387[_0x3e6dd2(0x6df)]),this[_0x3e6dd2(0x95e)]=_0x5be387[_0x3e6dd2(0x81d)],this['packetsLost']=_0x5be387[_0x3e6dd2(0x3e7)],void 0x0!==_0x5be387[_0x3e6dd2(0x1e9)]?this[_0x3e6dd2(0x1e9)]=_0x5be387[_0x3e6dd2(0x1e9)]:this['jitter']=0x0,void 0x0!==_0x5be387[_0x3e6dd2(0x9a2)]?this['estimatedPlayoutTimestamp']=_0x5be387[_0x3e6dd2(0x9a2)]:this[_0x3e6dd2(0x9a2)]=0x0;}['processOutboundReport'](_0x112058){const _0x5726d1=_0x120045;this['setBytes'](_0x112058['bytesSent']),this[_0x5726d1(0x246)](_0x112058[_0x5726d1(0x6df)]),this['packets']=_0x112058[_0x5726d1(0x2df)];}[_0x120045(0x8e6)](_0x4ceb90){const _0x1b8095=_0x120045;this[_0x1b8095(0x46b)]=0x3e8*_0x4ceb90[_0x1b8095(0x46b)],void 0x0!==_0x4ceb90[_0x1b8095(0x1e9)]?this[_0x1b8095(0x1e9)]=_0x4ceb90[_0x1b8095(0x1e9)]:this[_0x1b8095(0x1e9)]=0x0;}['getPacketsLostPerc'](){const _0x4ec153=_0x120045;return this[_0x4ec153(0x95e)]>0x0?this[_0x4ec153(0x3e7)]/this[_0x4ec153(0x95e)]:0x0;}['setTimestamp'](_0x187fbc){const _0xd447e2=_0x120045;_0x187fbc>this['currentTimestamp']&&(this[_0xd447e2(0x6f3)]=this['currentTimestamp'],this[_0xd447e2(0x5e0)]=_0x187fbc);}[_0x120045(0x4e0)](_0x3efe17){const _0x5e2ded=_0x120045;this[_0x5e2ded(0x343)]=this[_0x5e2ded(0xa64)],this[_0x5e2ded(0xa64)]=_0x3efe17;}}class _0x59ae8a extends _0x5b2782{}class _0x32fdbf extends _0x5b2782{[_0x120045(0x27f)]=0x0;[_0x120045(0x3d0)]=0x0;['frameHeight']=0x0;[_0x120045(0x4bb)]=0x0;[_0x120045(0x3a6)]=0x0;get['fps'](){const _0x409db3=_0x120045;return this[_0x409db3(0x5e0)]>0x0&&this[_0x409db3(0x6f3)]>0x0&&Date[_0x409db3(0x9e1)]()-this['currentTimestamp']<_0x4a8bbd?(this[_0x409db3(0x4bb)]-this[_0x409db3(0x3a6)])/(this[_0x409db3(0x5e0)]-this[_0x409db3(0x6f3)])*0x3e8:0x0;}get[_0x120045(0xf9)](){const _0x5cdfd1=_0x120045;return this[_0x5cdfd1(0x27f)]&&this[_0x5cdfd1(0x4bb)]&&this[_0x5cdfd1(0x4bb)]>0x0?this[_0x5cdfd1(0x27f)]/this[_0x5cdfd1(0x4bb)]:0x0;}set[_0x120045(0x1dd)](_0x418e2b){const _0x353fcd=_0x120045;this['previousFrames']=this[_0x353fcd(0x4bb)],this[_0x353fcd(0x4bb)]=_0x418e2b;}['getReport'](){const _0x1ff2af=_0x120045;return{...super[_0x1ff2af(0x9db)](),'FPS':this['fps'],'timePerFrame':this[_0x1ff2af(0xf9)],'frameWidth':this[_0x1ff2af(0x3d0)],'frameHeight':this['frameHeight']};}['processInboundReport'](_0x542328){const _0x120151=_0x120045;super[_0x120151(0x9dc)](_0x542328),this['frameTime']=_0x542328['totalDecodeTime'],this[_0x120151(0x1dd)]=_0x542328[_0x120151(0x881)],this['frameWidth']=_0x542328[_0x120151(0x3d0)],this[_0x120151(0x112)]=_0x542328[_0x120151(0x112)];}[_0x120045(0x1f5)](_0x153a88){const _0x112aff=_0x120045;super['processOutboundReport'](_0x153a88),this[_0x112aff(0x27f)]=_0x153a88['totalEncodeTime'],this['frames']=_0x153a88[_0x112aff(0x455)],this[_0x112aff(0x3d0)]=_0x153a88[_0x112aff(0x3d0)],this['frameHeight']=_0x153a88['frameHeight'];}}class _0x1825c9{[_0x120045(0x28e)]=new _0x59ae8a();[_0x120045(0x7b7)]=new _0x32fdbf();get[_0x120045(0x4b7)](){const _0x25c187=_0x120045;return this[_0x25c187(0x28e)][_0x25c187(0x4b7)]+this[_0x25c187(0x7b7)][_0x25c187(0x4b7)];}[_0x120045(0x6f5)](_0x1b806c){return _0x1b806c['forEach'](_0x38b8c8=>{const _0x9fd590=a0_0x573a;switch(_0x38b8c8['kind']){case _0x9fd590(0x28e):this[_0x9fd590(0x28e)][_0x9fd590(0xa08)](_0x38b8c8);break;case _0x9fd590(0x7b7):this['video']['processReport'](_0x38b8c8);}}),this['getReport']();}['getReport'](){const _0x4ada17=_0x120045;return{'audio':this[_0x4ada17(0x28e)][_0x4ada17(0x9db)](),'video':this[_0x4ada17(0x7b7)]['getReport'](),'roundTripTime':this[_0x4ada17(0x5ed)](),'AudioVideoDelay':this['getAudioVideoDelay'](),'bitrate':this[_0x4ada17(0x4b7)]};}[_0x120045(0x5ed)](){const _0x4ab036=_0x120045;return Math['floor']((this[_0x4ab036(0x28e)][_0x4ab036(0x46b)]+this['video'][_0x4ab036(0x46b)])/0x2);}['getAudioVideoDelay'](){const _0x435a8a=_0x120045;return this[_0x435a8a(0x28e)][_0x435a8a(0x9a2)]-this[_0x435a8a(0x7b7)][_0x435a8a(0x9a2)];}}class _0x27c51f{[_0x120045(0x336)]=0x0;[_0x120045(0x947)]=0x0;['receiverCurrentTimestamp']=0x0;[_0x120045(0x967)]=0x0;[_0x120045(0x75f)]=0x0;[_0x120045(0x330)]=0x0;['receiverCurrentBytes']=0x0;[_0x120045(0x3e1)]=0x0;[_0x120045(0x4ad)]=0x0;['receiverTotalMessages']=0x0;[_0x120045(0x135)]=0x0;[_0x120045(0x661)]=0x0;[_0x120045(0x46b)]=0x0;get['bitrate'](){const _0x1d71f2=_0x120045;return this[_0x1d71f2(0x3ad)]+this['receiverBitrate'];}get[_0x120045(0x3ad)](){const _0x3a8654=_0x120045;return this[_0x3a8654(0x336)]>0x0&&this[_0x3a8654(0x947)]>0x0&&Date['now']()-this[_0x3a8654(0x336)]<_0x4a8bbd?(this['senderCurrentBytes']-this[_0x3a8654(0x330)])/(this[_0x3a8654(0x336)]-this[_0x3a8654(0x947)])*0x8*0x3e8:0x0;}get[_0x120045(0x933)](){const _0x42c531=_0x120045;return this[_0x42c531(0x3ed)]>0x0&&this['receiverPreviousTimestamp']>0x0&&Date[_0x42c531(0x9e1)]()-this['receiverCurrentTimestamp']<_0x4a8bbd?(this[_0x42c531(0x2b5)]-this[_0x42c531(0x3e1)])/(this[_0x42c531(0x3ed)]-this[_0x42c531(0x967)])*0x8*0x3e8:0x0;}[_0x120045(0xa08)](_0x4b34e6){const _0x5ba8ce=_0x120045;switch(_0x4b34e6[_0x5ba8ce(0x8fc)]){case _0x40fec4[_0x5ba8ce(0x9a8)]:this[_0x5ba8ce(0x93e)](_0x4b34e6);break;case _0x40fec4[_0x5ba8ce(0x74c)]:this[_0x5ba8ce(0x9cc)](_0x4b34e6);}}[_0x120045(0x9db)](){const _0x4197b0=_0x120045;return{'bitrate':this[_0x4197b0(0x4b7)],'senderBitrate':this[_0x4197b0(0x3ad)],'receiverBitrate':this['receiverBitrate'],'totalBytes':this[_0x4197b0(0x2ec)](),'senderTotalBytes':this[_0x4197b0(0x15a)](),'receiverTotalBytes':this[_0x4197b0(0x5d1)](),'totalMessages':this['senderTotalMessages']+this['receiverTotalMessages'],'senderTotalMessages':this['senderTotalMessages'],'receiverTotalMessages':this[_0x4197b0(0x6ef)],'timeProcessing':this[_0x4197b0(0x135)]+this['receiverTimeProcessing'],'senderTimeProcessing':this['senderTimeProcessing'],'receiverTimeProcessing':this['receiverTimeProcessing'],'roundTripTime':this[_0x4197b0(0x46b)]};}[_0x120045(0x2ec)](){const _0x1114d0=_0x120045;return this[_0x1114d0(0x75f)]+this[_0x1114d0(0x2b5)];}[_0x120045(0x15a)](){const _0x50b80f=_0x120045;return this[_0x50b80f(0x75f)];}['getReceiverTotalBytes'](){const _0x19ae88=_0x120045;return this[_0x19ae88(0x2b5)];}[_0x120045(0x93e)](_0x4d320){const _0x18a8af=_0x120045;this['setSenderTimestamp'](_0x4d320['timestamp']),this[_0x18a8af(0x4e0)](_0x4d320[_0x18a8af(0x88e)]),this[_0x18a8af(0x4ad)]=_0x4d320[_0x18a8af(0x171)],this[_0x18a8af(0x135)]=_0x4d320[_0x18a8af(0xa5c)],this['roundTripTime']=_0x4d320[_0x18a8af(0x46b)];}[_0x120045(0x9cc)](_0x491da8){const _0x292ec0=_0x120045;this[_0x292ec0(0x629)](_0x491da8[_0x292ec0(0x6df)]),this[_0x292ec0(0x249)](_0x491da8[_0x292ec0(0x4ac)]),this[_0x292ec0(0x6ef)]=_0x491da8[_0x292ec0(0x996)],this[_0x292ec0(0x661)]=_0x491da8['timeReceiving'];}[_0x120045(0x8e0)](_0x25a360){const _0x360dda=_0x120045;_0x25a360>this[_0x360dda(0x336)]&&(this['senderPreviousTimestamp']=this[_0x360dda(0x336)],this[_0x360dda(0x336)]=_0x25a360);}['setReceiverTimestamp'](_0x3aa0ff){const _0x4707fd=_0x120045;_0x3aa0ff>this[_0x4707fd(0x3ed)]&&(this['receiverPreviousTimestamp']=this['receiverCurrentTimestamp'],this[_0x4707fd(0x3ed)]=_0x3aa0ff);}[_0x120045(0x4e0)](_0xed83e9){const _0x4bd461=_0x120045;this['senderPreviousBytes']=this['senderCurrentBytes'],this[_0x4bd461(0x75f)]=_0xed83e9;}['setReceiverBytes'](_0x2e7314){const _0x4b1a99=_0x120045;this[_0x4b1a99(0x3e1)]=this[_0x4b1a99(0x2b5)],this[_0x4b1a99(0x2b5)]=_0x2e7314;}}class _0x47a8e4{[_0x120045(0x68c)]=new Map();[_0x120045(0x4cd)]=new Map();[_0x120045(0x785)]=new _0x27c51f();get[_0x120045(0x3ad)](){const _0x13eed8=_0x120045;let _0x2e5203=0x0;return this[_0x13eed8(0x68c)][_0x13eed8(0x311)](_0x17ba77=>{_0x2e5203+=_0x17ba77['bitrate'];}),_0x2e5203+=this['dataChannel'][_0x13eed8(0x3ad)],_0x2e5203;}get[_0x120045(0x933)](){const _0x5d950f=_0x120045;let _0x689b4f=0x0;return this[_0x5d950f(0x4cd)]['forEach'](_0x379322=>{const _0x1668dc=_0x5d950f;_0x689b4f+=_0x379322[_0x1668dc(0x4b7)];}),_0x689b4f+=this[_0x5d950f(0x785)]['receiverBitrate'],_0x689b4f;}get[_0x120045(0x4b7)](){return this['senderBitrate']+this['receiverBitrate'];}['processReports'](_0x362e35,_0x1f9690){const _0x4438cd=_0x120045,_0x5649e5=[],_0x3d8473=[];return _0x362e35 instanceof Array?_0x362e35['forEach'](_0xf2298=>{const _0x5a8d48=a0_0x573a;_0xf2298[_0x5a8d48(0x311)](_0x1adadb=>{const _0x3596b6=_0x5a8d48;_0x3c1219[_0x3596b6(0x82f)](_0x1adadb[_0x3596b6(0x7f3)])&&_0x5649e5[_0x3596b6(0xdc)](_0x1adadb),_0x764642[_0x3596b6(0x82f)](_0x1adadb['type'])&&_0x3d8473[_0x3596b6(0xdc)](_0x1adadb);});}):this[_0x4438cd(0x785)][_0x4438cd(0xa08)](_0x362e35),_0x5649e5[_0x4438cd(0x59d)]>0x0&&_0x1f9690?{...this[_0x4438cd(0x88f)](_0x1f9690,_0x5649e5),'origin':_0x40fec4[_0x4438cd(0x74c)],'streamId':_0x1f9690}:_0x3d8473[_0x4438cd(0x59d)]>0x0&&_0x1f9690?{...this[_0x4438cd(0x4a7)](_0x1f9690,_0x3d8473),'origin':_0x40fec4['Sender'],'streamId':_0x1f9690}:void 0x0;}[_0x120045(0x9db)](){const _0x4110f0=_0x120045,_0x84d285={};this['senderStreams'][_0x4110f0(0x311)]((_0x27dd17,_0x9a5841)=>{_0x84d285[_0x9a5841]=_0x27dd17['getReport']();});const _0x5394d4={};return this['receiverStreams']['forEach']((_0x23b85,_0xa89c)=>{const _0x4078fb=_0x4110f0;_0x5394d4[_0xa89c]=_0x23b85[_0x4078fb(0x9db)]();}),{'bitrate':this[_0x4110f0(0x4b7)],'senderBitrate':this[_0x4110f0(0x3ad)],'receiverBitrate':this[_0x4110f0(0x933)],'senderStreams':_0x84d285,'receiverStreams':_0x5394d4,'dataChannel':this[_0x4110f0(0x785)][_0x4110f0(0x9db)]()};}['processInboundReports'](_0x480305,_0x400bdc){const _0xe800c6=_0x120045;return this[_0xe800c6(0x4cd)][_0xe800c6(0x5a8)](_0x480305)||this[_0xe800c6(0x4cd)]['set'](_0x480305,new _0x1825c9()),this[_0xe800c6(0x4cd)][_0xe800c6(0x7e9)](_0x480305)['processReports'](_0x400bdc);}[_0x120045(0x4a7)](_0x55504b,_0x49534a){const _0x157e3c=_0x120045;return this[_0x157e3c(0x68c)]['has'](_0x55504b)||this[_0x157e3c(0x68c)][_0x157e3c(0x381)](_0x55504b,new _0x1825c9()),this[_0x157e3c(0x68c)]['get'](_0x55504b)[_0x157e3c(0x6f5)](_0x49534a);}}class _0x1b1152{[_0x120045(0x1cc)]=new Map();[_0x120045(0x4d8)]=0x0;[_0x120045(0x858)]=0x0;[_0x120045(0x25d)]=new Map();[_0x120045(0x1a2)]=new Map();['keyValueDatabases']=new Map();[_0x120045(0x2bb)]=new Map();[_0x120045(0x5cf)]=new Map();['vectorDatabases']=new Map();['graphDatabases']=new Map();[_0x120045(0x48a)]=new Map();[_0x120045(0x4ad)]=new Map();[_0x120045(0x6ef)]=new Map();[_0x120045(0x135)]=new Map();[_0x120045(0x661)]=new Map();[_0x120045(0x445)]=new Map();[_0x120045(0xa45)];['getReport'](){const _0x77784f=_0x120045,_0x466bc={};this['nodes'][_0x77784f(0x311)]((_0x573a7e,_0x2f179e)=>{const _0x282022=_0x77784f;_0x466bc[_0x2f179e]=_0x573a7e[_0x282022(0x9db)]();});let _0x348490=0x0;this[_0x77784f(0x135)][_0x77784f(0x311)](_0x4b85a3=>{_0x348490+=_0x4b85a3;});let _0x30cb3b=0x0;this[_0x77784f(0x661)][_0x77784f(0x311)](_0x47440f=>{_0x30cb3b+=_0x47440f;});const _0x45ad97=_0x348490+_0x30cb3b;let _0x26bce9={'messages':{'total':0x0}};this['systemMessages']['forEach'](_0x29673c=>{const _0x3da915=_0x77784f;Object[_0x3da915(0xca)](_0x29673c)['forEach'](_0x2cfa9e=>{const _0xcd25ef=_0x3da915;_0x26bce9[_0x2cfa9e]||(_0x26bce9[_0x2cfa9e]={}),Object[_0xcd25ef(0xca)](_0x29673c[_0x2cfa9e])[_0xcd25ef(0x311)](_0x376a4c=>{_0x26bce9[_0x2cfa9e][_0x376a4c]||(_0x26bce9[_0x2cfa9e][_0x376a4c]=0x0),_0x26bce9[_0x2cfa9e][_0x376a4c]+=_0x29673c[_0x2cfa9e][_0x376a4c];});});});let _0xb17fae=0x0,_0x225d63=0x0,_0x3af3b3=0x0,_0x6c5126=0x0,_0x367660=0x0;return this[_0x77784f(0x25d)][_0x77784f(0x311)](_0x11f1b5=>{const _0x188041=_0x77784f;_0x225d63+=_0x11f1b5[_0x188041(0x171)],_0x3af3b3+=_0x11f1b5[_0x188041(0x996)],_0x6c5126+=_0x11f1b5['bytesSent'],_0x367660+=_0x11f1b5[_0x188041(0x4ac)];}),this[_0x77784f(0x1a2)]['forEach'](_0x29133d=>{const _0x348e75=_0x77784f;_0xb17fae+=_0x29133d[_0x348e75(0x16c)],_0x225d63+=_0x29133d[_0x348e75(0x171)],_0x3af3b3+=_0x29133d['messagesReceived'],_0x6c5126+=_0x29133d[_0x348e75(0x88e)],_0x367660+=_0x29133d[_0x348e75(0x4ac)];}),this[_0x77784f(0x4c8)][_0x77784f(0x311)](_0x24c592=>{const _0x1ee6c3=_0x77784f;_0xb17fae+=_0x24c592['storage'],_0x225d63+=_0x24c592[_0x1ee6c3(0x171)],_0x3af3b3+=_0x24c592[_0x1ee6c3(0x996)],_0x6c5126+=_0x24c592[_0x1ee6c3(0x88e)],_0x367660+=_0x24c592['bytesReceived'];}),this[_0x77784f(0x2bb)]['forEach'](_0x28ce7a=>{const _0x5c39ab=_0x77784f;_0xb17fae+=_0x28ce7a[_0x5c39ab(0x16c)],_0x225d63+=_0x28ce7a[_0x5c39ab(0x171)],_0x3af3b3+=_0x28ce7a[_0x5c39ab(0x996)],_0x6c5126+=_0x28ce7a['bytesSent'],_0x367660+=_0x28ce7a[_0x5c39ab(0x4ac)];}),this[_0x77784f(0x5cf)][_0x77784f(0x311)](_0x1059c9=>{const _0x1b20d1=_0x77784f;_0xb17fae+=_0x1059c9[_0x1b20d1(0x16c)],_0x225d63+=_0x1059c9[_0x1b20d1(0x171)],_0x3af3b3+=_0x1059c9[_0x1b20d1(0x996)],_0x6c5126+=_0x1059c9[_0x1b20d1(0x88e)],_0x367660+=_0x1059c9[_0x1b20d1(0x4ac)];}),this[_0x77784f(0x4a4)][_0x77784f(0x311)](_0x582e69=>{const _0x413b34=_0x77784f;_0xb17fae+=_0x582e69['storage'],_0x225d63+=_0x582e69['messagesSent'],_0x3af3b3+=_0x582e69[_0x413b34(0x996)],_0x6c5126+=_0x582e69[_0x413b34(0x88e)],_0x367660+=_0x582e69[_0x413b34(0x4ac)];}),this[_0x77784f(0x7d0)][_0x77784f(0x311)](_0x4fe392=>{const _0x45b50b=_0x77784f;_0xb17fae+=_0x4fe392[_0x45b50b(0x16c)],_0x225d63+=_0x4fe392['messagesSent'],_0x3af3b3+=_0x4fe392[_0x45b50b(0x996)],_0x6c5126+=_0x4fe392[_0x45b50b(0x88e)],_0x367660+=_0x4fe392['bytesReceived'];}),{'STVolatility':this[_0x77784f(0x98d)](),'DTVolatility':this[_0x77784f(0x3f1)](),'bitrate':this[_0x77784f(0x76c)](),'senderBitrate':this[_0x77784f(0x45f)](),'receiverBitrate':this[_0x77784f(0x2bd)](),'totalStorageSize':_0xb17fae,'totalMessages':_0x225d63+_0x3af3b3,'totalMessagesSent':_0x225d63,'totalMessagesReceived':_0x3af3b3,'totalBytes':_0x6c5126+_0x367660,'totalBytesSent':_0x6c5126,'totalBytesReceived':_0x367660,'systemMessages':_0x26bce9,'timeProcessing':_0x45ad97,'nodes':_0x466bc,'pubsubTopics':Object[_0x77784f(0x2d8)](this[_0x77784f(0x25d)]),'objectStores':Object['fromEntries'](this[_0x77784f(0x1a2)]),'keyValueDatabases':Object['fromEntries'](this[_0x77784f(0x4c8)]),'generativeAIContexts':Object[_0x77784f(0x2d8)](this['generativeAIContexts']),'generativeAIWorkers':Object[_0x77784f(0x2d8)](this[_0x77784f(0x5cf)]),'vectorDatabases':Object[_0x77784f(0x2d8)](this['vectorDatabases']),'graphDatabases':Object['fromEntries'](this[_0x77784f(0x7d0)]),'externalStorages':Object[_0x77784f(0x2d8)](this[_0x77784f(0x48a)])};}[_0x120045(0x4f3)](_0x3d587a){const _0x4f484e=_0x120045;this[_0x4f484e(0x1cc)]['set'](_0x3d587a,new _0x47a8e4());}[_0x120045(0x31b)](_0xbdd95){const _0x530cb5=_0x120045;this[_0x530cb5(0x1cc)]['delete'](_0xbdd95);}[_0x120045(0x6f5)](_0x2d4d00,_0x3df72e,_0x2c2023){const _0x2e79e5=_0x120045;_0x3df72e instanceof Array||this[_0x2e79e5(0x9ee)](_0x2d4d00,_0x3df72e);const _0x5d0ffc=this[_0x2e79e5(0x1cc)][_0x2e79e5(0x7e9)](_0x2d4d00)?.[_0x2e79e5(0x6f5)](_0x3df72e,_0x2c2023);_0x5d0ffc&&this[_0x2e79e5(0xa45)][_0x2e79e5(0x552)]({'sourceId':_0x40bfc5,'messageType':_0x435438[_0x2e79e5(0x43b)],'content':{'type':_0x77cd56[_0x2e79e5(0x63c)],'data':{..._0x5d0ffc,'nodeId':_0x2d4d00}}});}[_0x120045(0x6ec)](_0x2b2caa){const _0x5337d7=_0x120045;this['setScheduleTime'](_0x2b2caa['secheduleTime']),this[_0x5337d7(0x915)](_0x2b2caa[_0x5337d7(0x858)]),this[_0x5337d7(0xa45)]['publish']({'sourceId':_0x40bfc5,'messageType':_0x435438[_0x5337d7(0x43b)],'content':{'type':_0x77cd56['LocalReport'],'data':{'STVolatility':this[_0x5337d7(0x98d)](),'DTVolatility':this[_0x5337d7(0x3f1)]()}}});}[_0x120045(0x2dd)](_0x26a7af,_0x5e7221,_0xa0916d){const _0x4d94de=_0x120045;switch(_0x5e7221){case _0x46be06[_0x4d94de(0x8f6)]:this[_0x4d94de(0x25d)]['set'](_0x26a7af,_0xa0916d);break;case _0x46be06['ObjectStoreStats']:this['objectStores'][_0x4d94de(0x381)](_0x26a7af,_0xa0916d);break;case _0x46be06[_0x4d94de(0x213)]:this[_0x4d94de(0x4c8)][_0x4d94de(0x381)](_0x26a7af,_0xa0916d);break;case _0x46be06[_0x4d94de(0x8bc)]:this['generativeAIContexts']['set'](_0x26a7af,_0xa0916d);break;case _0x46be06['GenerativeAIWorkerStats']:this[_0x4d94de(0x5cf)][_0x4d94de(0x381)](_0x26a7af,_0xa0916d);break;case _0x46be06[_0x4d94de(0x191)]:this[_0x4d94de(0x4a4)][_0x4d94de(0x381)](_0x26a7af,_0xa0916d);break;case _0x46be06[_0x4d94de(0x7e4)]:this[_0x4d94de(0x7d0)][_0x4d94de(0x381)](_0x26a7af,_0xa0916d);break;case _0x46be06[_0x4d94de(0x50e)]:this['externalStorages']['set'](_0x26a7af,_0xa0916d);}}['registerSystemPublisher'](_0x3bbae1){const _0x164e28=_0x120045;this[_0x164e28(0xa45)]=_0x3bbae1;}[_0x120045(0x12a)](){const _0x5889b0=_0x120045;delete this[_0x5889b0(0xa45)];}[_0x120045(0x98d)](){const _0x20bbb2=_0x120045;return this[_0x20bbb2(0x4d8)]>0x0&&this[_0x20bbb2(0x4d8)]-_0x3c72a2>0x0?(this[_0x20bbb2(0x4d8)]-_0x3c72a2)/_0x3c72a2:0x0;}[_0x120045(0x3f1)](){const _0x57a308=_0x120045;return this['durationTime']>0x0&&this[_0x57a308(0x858)]-0x64>0x0?(this[_0x57a308(0x858)]-0x64)/0x64:0x0;}[_0x120045(0x45f)](){const _0x1b2639=_0x120045;let _0x235a38=0x0;return this[_0x1b2639(0x1cc)][_0x1b2639(0x311)](_0x497b92=>{_0x235a38+=_0x497b92['senderBitrate'];}),_0x235a38;}[_0x120045(0x2bd)](){const _0x20f5f9=_0x120045;let _0x4f258c=0x0;return this[_0x20f5f9(0x1cc)][_0x20f5f9(0x311)](_0x43d904=>{const _0x401da9=_0x20f5f9;_0x4f258c+=_0x43d904[_0x401da9(0x933)];}),_0x4f258c;}['getBitrate'](){let _0xc61e03=0x0;return this['nodes']['forEach'](_0x4c5070=>{const _0x4c8bd9=a0_0x573a;_0xc61e03+=_0x4c5070[_0x4c8bd9(0x4b7)];}),_0xc61e03;}['setScheduleTime'](_0x479298){this['scheduleTime']=_0x479298;}[_0x120045(0x915)](_0x179393){const _0x33e716=_0x120045;this[_0x33e716(0x858)]=_0x179393;}[_0x120045(0x9ee)](_0x546e27,_0x4afe8f){const _0x3b74d5=_0x120045;switch(_0x4afe8f['origin']){case _0x40fec4['Sender']:this['processSenderReport'](_0x546e27,_0x4afe8f);break;case _0x40fec4[_0x3b74d5(0x74c)]:this[_0x3b74d5(0x9cc)](_0x546e27,_0x4afe8f);}}[_0x120045(0x93e)](_0x49a9ac,_0x1bbf11){const _0x2c4558=_0x120045;this['senderTotalMessages'][_0x2c4558(0x381)](_0x49a9ac,_0x1bbf11[_0x2c4558(0x171)]),this[_0x2c4558(0x135)]['set'](_0x49a9ac,_0x1bbf11[_0x2c4558(0xa5c)]);}[_0x120045(0x9cc)](_0x2bf30f,_0x1b6cb9){const _0x11a9a0=_0x120045;this[_0x11a9a0(0x6ef)][_0x11a9a0(0x381)](_0x2bf30f,_0x1b6cb9[_0x11a9a0(0x996)]),this['receiverTimeProcessing']['set'](_0x2bf30f,_0x1b6cb9['timeReceiving']),this[_0x11a9a0(0x445)][_0x11a9a0(0x381)](_0x2bf30f,_0x1b6cb9['systemMessages']);}}class _0x4e759b{['configs'];[_0x120045(0x88b)]=new Set();[_0x120045(0x14c)];[_0x120045(0xa0f)];[_0x120045(0x9f2)];['statsReport']=new _0x1b1152();constructor(_0x1a9896){const _0x4f2f45=_0x120045;this[_0x4f2f45(0x22a)]=_0x1a9896,this[_0x4f2f45(0x22a)][_0x4f2f45(0x5ba)][_0x4f2f45(0x1ef)](this[_0x4f2f45(0x6c2)]),this[_0x4f2f45(0xa0f)]=this[_0x4f2f45(0x5c8)](),this[_0x4f2f45(0x9f2)]=this[_0x4f2f45(0x5a6)]();}[_0x120045(0x1c1)](){const _0x4aae0f=_0x120045;this[_0x4aae0f(0x22a)]['mediator']['unregisterSystemSource'](this[_0x4aae0f(0x6c2)]),this[_0x4aae0f(0x9f2)](),this['statsCollection']();}[_0x120045(0x4f3)](_0x472fa4){const _0xd7183=_0x120045;this['remoteNodes'][_0xd7183(0x532)](_0x472fa4),this[_0xd7183(0x6c2)][_0xd7183(0x4f3)](_0x472fa4);}[_0x120045(0x31b)](_0x37e924){const _0x47a569=_0x120045;this[_0x47a569(0x88b)][_0x47a569(0xa10)](_0x37e924),this['statsReport']['removeRemoteNode'](_0x37e924);}[_0x120045(0x2d0)](_0x5781dd){const _0x28c857=_0x120045;if(_0x5781dd[_0x28c857(0x477)]['type']===_0x55ce1f[_0x28c857(0x43b)]){const {nodeId:_0x47049d,streamId:_0x548207,stats:_0x129cc8}=_0x5781dd[_0x28c857(0x477)];this['statsReport']['processReports'](_0x47049d,_0x129cc8,_0x548207);}}['handleContentSystemEvents'](_0x4c4d1e){const _0x223262=_0x120045;switch(_0x4c4d1e[_0x223262(0x477)][_0x223262(0x7f3)]){case _0x46be06[_0x223262(0xa0a)]:case _0x46be06[_0x223262(0x213)]:case _0x46be06['PubSubTopicStats']:case _0x46be06['GenerativeAIContextStats']:case _0x46be06[_0x223262(0x773)]:case _0x46be06['VectorDatabaseStats']:case _0x46be06[_0x223262(0x7e4)]:case _0x46be06[_0x223262(0x50e)]:this[_0x223262(0x6c2)][_0x223262(0x2dd)](_0x4c4d1e[_0x223262(0x477)][_0x223262(0x573)],_0x4c4d1e[_0x223262(0x477)][_0x223262(0x7f3)],_0x4c4d1e[_0x223262(0x477)][_0x223262(0x313)]);}}[_0x120045(0x5a6)](){const _0x30982d=_0x120045;return _0x3da74f[_0x30982d(0x40c)](()=>{const _0x14c067=_0x30982d,_0x1ba29b=this[_0x14c067(0x6c2)][_0x14c067(0x9db)]();_0x1b1d61[_0x14c067(0xed)](_0x185607[_0x14c067(0x43b)],_0x14c067(0x73c),_0x1ba29b),(0x0,_0x730305[_0x14c067(0xa55)])((0x0,_0x730305[_0x14c067(0x942)])(_0x2451a5[_0x14c067(0x368)](),_0x14c067(0x28c)+this[_0x14c067(0x22a)]['vendorId']+'/stats'),{'clusterId':this[_0x14c067(0x22a)][_0x14c067(0xea)],'nodeId':this[_0x14c067(0x22a)][_0x14c067(0x781)][_0x14c067(0xd7)](),'nodeType':this['configs'][_0x14c067(0x781)][_0x14c067(0x7f3)],'timestamp':(0x0,_0x730305[_0x14c067(0xa58)])(),'report':_0x1ba29b}),_0x1b1d61[_0x14c067(0x7f8)](_0x14c067(0x313),{'clusterId':this[_0x14c067(0x22a)][_0x14c067(0xea)],'nodeId':this[_0x14c067(0x22a)][_0x14c067(0x781)][_0x14c067(0xd7)](),'nodeType':this[_0x14c067(0x22a)][_0x14c067(0x781)][_0x14c067(0x7f3)],'data':{'report':_0x1ba29b}});},_0x4a8bbd);}[_0x120045(0x5c8)](){const _0x1c2d7e=_0x120045;let _0xcf7e67=!0x1,_0x2d2127=Date['now']();return _0x3da74f[_0x1c2d7e(0x40c)](async()=>{const _0x25e766=_0x1c2d7e;if(_0xcf7e67)return;if(_0xcf7e67=!0x0,0x0===this[_0x25e766(0x88b)]['size'])return delete this['nextNodeId'],void(_0xcf7e67=!0x1);const _0x10caba=Date[_0x25e766(0x9e1)]();this[_0x25e766(0x331)]();try{await this[_0x25e766(0x22a)][_0x25e766(0x5ba)][_0x25e766(0x63e)](this['nextNodeId']);}catch(_0x33197c){}this[_0x25e766(0x6c2)][_0x25e766(0x6ec)]({'secheduleTime':_0x10caba-_0x2d2127,'durationTime':Date['now']()-_0x10caba}),_0x2d2127=_0x10caba,_0xcf7e67=!0x1;},_0x3c72a2);}[_0x120045(0x331)](){const _0x1a98e2=_0x120045;let _0x2a1818,_0x362b42=!0x1;this[_0x1a98e2(0x14c)]&&(this[_0x1a98e2(0x88b)]['has'](this['nextNodeId'])||delete this[_0x1a98e2(0x14c)]);for(const _0x5274af of this['remoteNodes'])if(_0x2a1818||(_0x2a1818=_0x5274af),this['nextNodeId']!==_0x5274af){if(_0x362b42)return void(this['nextNodeId']=_0x5274af);}else _0x362b42=!0x0,delete this['nextNodeId'];this[_0x1a98e2(0x14c)]||(this[_0x1a98e2(0x14c)]=_0x2a1818);}}class _0x80bd67{[_0x120045(0x7d6)];[_0x120045(0x5ce)];[_0x120045(0xa45)];constructor(_0x2e685d,_0xd527da){const _0x1290ee=_0x120045;this['source']=_0x2e685d,this[_0x1290ee(0x5ce)]=_0xd527da;}[_0x120045(0x67d)](_0x18e585){const _0x112d8a=_0x120045;this[_0x112d8a(0xa45)]=_0x18e585;}[_0x120045(0x12a)](){const _0x5cf91f=_0x120045;delete this[_0x5cf91f(0xa45)];}}class _0x39a63e extends _0x80bd67{[_0x120045(0x7d6)];[_0x120045(0x5ce)];['params'];constructor(_0x2140db,_0x7fff8c,_0x4f25c0){const _0x1c592b=_0x120045;super(_0x2140db,_0x7fff8c),this[_0x1c592b(0x7d6)]=_0x2140db,this[_0x1c592b(0x5ce)]=_0x7fff8c,this[_0x1c592b(0x3a0)]=_0x4f25c0;}['subscribe'](_0x2dd153,_0x26632f,_0x3577d5){const _0x3feedb=_0x120045;if(this['destination']['getContentType']()===_0x4e2564[_0x3feedb(0x8be)]['Media']){const _0x1f62b3={'type':_0x5d00e2[_0x3feedb(0x628)],'label':this['destination'][_0x3feedb(0x8a0)](),'ownerId':_0x2dd153,'trackKinds':_0x26632f??this['destination'][_0x3feedb(0x853)](),'params':_0x3577d5};this['systemTopic'][_0x3feedb(0x552)]({'sourceId':this['source'][_0x3feedb(0x67f)](),'destinationIds':[this[_0x3feedb(0x7d6)][_0x3feedb(0xa5d)]()],'messageType':_0x435438['Subscription'],'content':_0x1f62b3}),this[_0x3feedb(0x3a0)]=_0x3577d5;}}[_0x120045(0x245)](_0x36fed4,_0x3fdb78){const _0x6e4417=_0x120045;if(this['destination'][_0x6e4417(0x729)]()===_0x4e2564[_0x6e4417(0x8be)][_0x6e4417(0x9fc)]){const _0x2896ae={'type':_0x5d00e2[_0x6e4417(0x515)],'label':this['destination'][_0x6e4417(0x8a0)](),'ownerId':_0x36fed4,'params':_0x3fdb78};this[_0x6e4417(0xa45)][_0x6e4417(0x552)]({'sourceId':this[_0x6e4417(0x7d6)][_0x6e4417(0x67f)](),'destinationIds':[this[_0x6e4417(0x7d6)]['getRemoteId']()],'messageType':_0x435438[_0x6e4417(0x9d2)],'content':_0x2896ae}),this['params']=_0x3fdb78;}}[_0x120045(0x236)](_0x5370b4,_0x1bb96c,_0x1caac6){const _0x3b12c0=_0x120045;if(this['destination'][_0x3b12c0(0x729)]()===_0x4e2564[_0x3b12c0(0x8be)]['Media']){const _0x3dd954={'type':_0x5d00e2[_0x3b12c0(0x9a4)],'label':this[_0x3b12c0(0x5ce)][_0x3b12c0(0x8a0)](),'ownerId':_0x5370b4,'trackKinds':_0x1caac6??this[_0x3b12c0(0x5ce)][_0x3b12c0(0x853)](),'remainingTracks':_0x1bb96c};this[_0x3b12c0(0xa45)]['publish']({'sourceId':this[_0x3b12c0(0x7d6)][_0x3b12c0(0x67f)](),'destinationIds':[this[_0x3b12c0(0x7d6)][_0x3b12c0(0xa5d)]()],'messageType':_0x435438[_0x3b12c0(0x9d2)],'content':_0x3dd954});}}}class _0x5bf896{['currentDistance'];['maxDistance'];[_0x120045(0x68d)];[_0x120045(0xa45)];[_0x120045(0x6a0)]=new Set();['startTime']=Date[_0x120045(0x9e1)]();['params'];[_0x120045(0x86e)]=0x0;constructor(_0x4b25f4,_0x49ef70,_0x59e8e1,_0x1f9e35){const _0x215845=_0x120045;this[_0x215845(0x65f)]=_0x49ef70,this[_0x215845(0x5ac)]=_0x59e8e1,this[_0x215845(0x68d)]=_0x1f9e35,_0x4b25f4['forEach'](_0x11cee2=>{const _0x3a38be=_0x215845;this[_0x3a38be(0x6a0)][_0x3a38be(0x532)]({'nodeId':_0x11cee2,'type':_0x281c34[_0x3a38be(0x5b3)]});});}['getTracks'](){const _0x3a7542=_0x120045;return this[_0x3a7542(0x68d)];}[_0x120045(0x67d)](_0x548842){const _0x4a94f9=_0x120045;this[_0x4a94f9(0xa45)]=_0x548842;}[_0x120045(0x12a)](){const _0x2fd849=_0x120045;delete this[_0x2fd849(0xa45)];}[_0x120045(0x2c6)](_0x4d4688,_0x327bdf){const _0x41513d=_0x120045;this[_0x41513d(0xd3)]=Date[_0x41513d(0x9e1)](),this[_0x41513d(0x6a0)]['clear'](),_0x4d4688[_0x41513d(0x311)](_0x262cd7=>{const _0x527cb6=_0x41513d;this[_0x527cb6(0x6a0)][_0x527cb6(0x532)]({'nodeId':_0x262cd7,'type':_0x281c34['Waiting']});}),this[_0x41513d(0x86e)]+=0x1,this[_0x41513d(0x65f)]=_0x327bdf;}[_0x120045(0x667)](_0x3d89df,_0x37deef,_0x38f9c8,_0x2ee2c4,_0x33c4b2){const _0x5a4562=_0x120045;if(this['retryCount']>0xa)throw new _0x4a916f(_0x4a916f['codes'][_0x5a4562(0x4a2)],{'answers':Array[_0x5a4562(0x7f9)](this['answers'])[_0x5a4562(0x760)](_0x4df8c6=>({'nodeId':_0x4df8c6[_0x5a4562(0x846)],'type':_0x4df8c6[_0x5a4562(0x7f3)]}))});const _0x56f208=Array[_0x5a4562(0x7f9)](this[_0x5a4562(0x6a0)])[_0x5a4562(0x760)](_0x3f1408=>_0x3f1408[_0x5a4562(0x846)]);this[_0x5a4562(0x3a0)]=_0x33c4b2,this[_0x5a4562(0xa45)][_0x5a4562(0x552)]({'sourceId':_0x3d89df,'destinationIds':_0x56f208,'messageType':_0x435438[_0x5a4562(0x9d2)],'content':{'type':_0x5d00e2['NeedMediaStream'],'label':_0x38f9c8,'ownerId':_0x37deef,'trackKinds':_0x2ee2c4,'params':_0x33c4b2}}),_0x1b1d61[_0x5a4562(0xed)](_0x185607['Subscription'],_0x5a4562(0x359),_0x3d89df,_0x56f208);}[_0x120045(0xa56)](_0xc50126,_0x35eda3){const _0x3f4126=_0x120045;switch(_0x35eda3[_0x3f4126(0x7f3)]){case _0x5d00e2['CanProvideMediaStream']:{const _0x4e0ce1=this[_0x3f4126(0x65f)]>=_0x35eda3[_0x3f4126(0x31a)]&&_0x35eda3[_0x3f4126(0x31a)]<=this[_0x3f4126(0x5ac)],_0x2e024a=Array['from'](this[_0x3f4126(0x6a0)])['find'](_0x26abfb=>_0x26abfb[_0x3f4126(0x846)]===_0xc50126);_0x2e024a[_0x3f4126(0x7f3)]=_0x4e0ce1?_0x281c34[_0x3f4126(0x53c)]:_0x281c34[_0x3f4126(0x538)],_0x2e024a['cost']=_0x35eda3[_0x3f4126(0x65c)],_0x2e024a[_0x3f4126(0x31a)]=_0x35eda3[_0x3f4126(0x31a)],_0x2e024a[_0x3f4126(0x68a)]=_0x35eda3['streamId'],_0x2e024a[_0x3f4126(0x46b)]=Date[_0x3f4126(0x9e1)]()-this[_0x3f4126(0xd3)],_0x2e024a[_0x3f4126(0x3a0)]=this[_0x3f4126(0x3a0)],_0x2e024a[_0x3f4126(0x4a0)]=_0x35eda3['ownerId'],_0x2e024a['trackKinds']=_0x35eda3[_0x3f4126(0x88d)],_0x2e024a['streamLabel']=_0x35eda3[_0x3f4126(0x573)],_0x1b1d61[_0x3f4126(0xed)](_0x185607[_0x3f4126(0x9d2)],(_0x4e0ce1?'Accepted':'Rejected')+'\x20answer',_0x2e024a);break;}case _0x5d00e2[_0x3f4126(0x651)]:{const _0x373330=Array[_0x3f4126(0x7f9)](this[_0x3f4126(0x6a0)])[_0x3f4126(0x999)](_0x42f6d1=>_0x42f6d1[_0x3f4126(0x846)]===_0xc50126);_0x373330[_0x3f4126(0x7f3)]=_0x281c34['Rejected'],_0x1b1d61[_0x3f4126(0xed)](_0x185607[_0x3f4126(0x9d2)],'Rejected\x20answer',_0x373330);break;}}if(this[_0x3f4126(0x6ac)]())return this['chooseAnswer']();}['chooseAnswer'](){const _0x2bfeb2=_0x120045,_0xeecfab=Array[_0x2bfeb2(0x7f9)](this['answers'])[_0x2bfeb2(0x1e1)](_0x38ecdc=>_0x38ecdc['type']===_0x281c34[_0x2bfeb2(0x53c)])[_0x2bfeb2(0x184)]((_0x3909fd,_0x44431b)=>_0x3909fd[_0x2bfeb2(0x65c)]===_0x44431b[_0x2bfeb2(0x65c)]?_0x3909fd[_0x2bfeb2(0x46b)]-_0x44431b[_0x2bfeb2(0x46b)]:_0x3909fd[_0x2bfeb2(0x65c)]-_0x44431b[_0x2bfeb2(0x65c)]);if(0x0===_0xeecfab[_0x2bfeb2(0x59d)])throw new _0x4a916f(_0x4a916f[_0x2bfeb2(0xa30)][_0x2bfeb2(0x4a2)],{'answers':Array[_0x2bfeb2(0x7f9)](this['answers'])[_0x2bfeb2(0x760)](_0x2a1eed=>({'nodeId':_0x2a1eed['nodeId'],'type':_0x2a1eed[_0x2bfeb2(0x7f3)]}))});return _0x1b1d61[_0x2bfeb2(0xed)](_0x185607[_0x2bfeb2(0x9d2)],_0x2bfeb2(0x2f5),_0xeecfab[0x0],this[_0x2bfeb2(0x6a0)]),_0xeecfab[0x0];}[_0x120045(0x6ac)](){const _0x27f72e=_0x120045;for(const _0x217791 of this[_0x27f72e(0x6a0)])if(_0x217791[_0x27f72e(0x7f3)]===_0x281c34[_0x27f72e(0x5b3)])return!0x1;return!0x0;}}class _0x37b5e5{[_0x120045(0x573)];[_0x120045(0x26e)];['listener']=_0x29f207();constructor(_0x30155c,_0x1f8f74){const _0x361300=_0x120045;this[_0x361300(0x573)]=_0x30155c,this[_0x361300(0x26e)]=_0x1f8f74;}['getLabel'](){const _0x463f66=_0x120045;return this[_0x463f66(0x573)];}['getContentType'](){return this['contentType'];}[_0x120045(0x4f1)](_0x5d1182){const _0x552580=_0x120045;_0x5d1182[_0x552580(0x1d7)](this);}[_0x120045(0x3c2)](_0x3661cf){_0x3661cf['registerSubscriber'](this);}[_0x120045(0x552)](_0x584091){const _0x4fe57b=_0x120045;this['listener'][_0x4fe57b(0x552)]({'topicLabel':this[_0x4fe57b(0x573)],'contentType':this[_0x4fe57b(0x26e)],'uuid':(0x0,_0x233c4d['v4'])(),'recipients':[],..._0x584091});}[_0x120045(0x8f0)](_0x107265){const _0x34f687=_0x120045;return this[_0x34f687(0x9cf)][_0x34f687(0x8f0)](_0x107265);}[_0x120045(0x370)](_0x2af1a6){const _0x132fdd=_0x120045;_0x2af1a6[_0x132fdd(0x564)](this);}[_0x120045(0x84a)](_0x1e3bc2){const _0x346381=_0x120045;_0x1e3bc2[_0x346381(0x7c9)](this);}}class _0x25f32b{['maps']={'topics':new Map(),'subscriptions':new Map()};[_0x120045(0x94f)];constructor(_0x4a51fd){const _0x55644=_0x120045;this[_0x55644(0x94f)]=_0x4a51fd;}get['subscriptions'](){const _0x43046c=_0x120045;return this[_0x43046c(0x141)]['subscriptions'];}get[_0x120045(0x168)](){const _0x30d1ec=_0x120045;return this['maps'][_0x30d1ec(0x168)];}[_0x120045(0xa16)](_0x36e412,_0x2ca148){const _0x52c031=_0x120045,_0xf800ca=this[_0x52c031(0x94f)](_0x2ca148),_0x635560=_0x126e37(_0x36e412);if(!_0xf800ca['supportsContentType'])throw new _0x4a916f(_0x4a916f['codes'][_0x52c031(0x877)],{'message':_0x635560+':\x20'+_0xf800ca[_0x52c031(0x831)]+_0x52c031(0xce)+_0xf800ca['contentType'],'subscriptionType':_0x36e412,'subscription':_0x2ca148,'subscriptonParts':_0xf800ca});const _0x2f6e5c=_0x354501(_0x36e412,_0xf800ca);if(this['maps'][_0x52c031(0x35d)]['has'](_0x2f6e5c))throw new _0x4a916f(_0x4a916f[_0x52c031(0xa30)][_0x52c031(0x877)],{'message':_0x635560+':\x20'+_0x2f6e5c+_0x52c031(0x919),'subscriptionType':_0x36e412,'subscription':_0x2ca148,'subscriptonParts':_0xf800ca});this['maps'][_0x52c031(0x35d)][_0x52c031(0x381)](_0x2f6e5c,_0x2ca148),this[_0x52c031(0x492)](_0xf800ca,_0x2ca148);}[_0x120045(0x161)](_0x3f70d2,_0xf41f16){const _0x4df1f=_0x120045,_0x5a1498=_0x354501(_0xf41f16,_0x3f70d2),_0x1a9a21=this['maps'][_0x4df1f(0x35d)][_0x4df1f(0x7e9)](_0x5a1498);if(!_0x1a9a21)throw new _0x4a916f(_0x4a916f[_0x4df1f(0xa30)][_0x4df1f(0x877)],{'message':_0x126e37(_0xf41f16)+':\x20'+_0x5a1498+_0x4df1f(0x8e4),'subscriptionType':_0xf41f16,'subscription':_0x1a9a21,'subscriptonParts':_0x3f70d2});this[_0x4df1f(0x9e2)](_0x1a9a21,_0x5a1498,_0x3f70d2);}[_0x120045(0x9e2)](_0x256e6e,_0x1d1cc0,_0x558bb9){const _0xcfee05=_0x120045;_0x558bb9=_0x558bb9||this[_0xcfee05(0x94f)](_0x256e6e),this[_0xcfee05(0x141)][_0xcfee05(0x35d)][_0xcfee05(0xa10)](_0x1d1cc0),this[_0xcfee05(0x2b2)](_0x558bb9,_0x256e6e);}[_0x120045(0x492)](_0x52bb18,{source:_0x176cdd,destination:_0x2f23d3}){const _0x2fbfa2=_0x120045,{contentType:_0x3cec67,label:_0x48f936,remoteId:_0x42ebbb}=_0x52bb18,_0x34e9a3=_0x2730d6(_0x3cec67,_0x48f936,_0x42ebbb),_0x56755b=new _0x37b5e5(_0x34e9a3,_0x3cec67);_0x56755b[_0x2fbfa2(0x4f1)](_0x176cdd),_0x56755b[_0x2fbfa2(0x3c2)](_0x2f23d3),this[_0x2fbfa2(0x141)][_0x2fbfa2(0x168)]['set'](_0x56755b['getLabel'](),_0x56755b);}[_0x120045(0x2b2)](_0x5224d7,_0xf8d597){const _0x47c4b1=_0x120045,{contentType:_0x33e3dd,label:_0x3a9ed8,remoteId:_0x3d39e3}=_0x5224d7,_0x128110=_0x2730d6(_0x33e3dd,_0x3a9ed8,_0x3d39e3),_0x2d23bd=this['maps']['topics']['get'](_0x128110);_0x2d23bd&&(this['closeTopic'](_0x2d23bd,_0xf8d597),this['maps'][_0x47c4b1(0x168)][_0x47c4b1(0xa10)](_0x128110));}[_0x120045(0x824)](_0x4ba2fd,{source:_0x422742,destination:_0x49da51}){const _0x58bc70=_0x120045;_0x4ba2fd['unregisterSource'](_0x422742),_0x4ba2fd[_0x58bc70(0x84a)](_0x49da51);}[_0x120045(0x40b)](_0x1d9e18){const _0x509f9e=_0x120045;this[_0x509f9e(0x141)][_0x509f9e(0x35d)][_0x509f9e(0x311)]((_0x32057a,_0x108a53)=>{const _0x40dfac=_0x509f9e;_0x108a53['endsWith'](_0x1d9e18)&&this[_0x40dfac(0x9e2)](_0x32057a,_0x108a53);});}}class _0x5c605e{[_0x120045(0x22a)];[_0x120045(0x5ac)];[_0x120045(0x338)]=new Map();[_0x120045(0x4b0)]=_0x5e324d(new _0x52277c(this[_0x120045(0x847)]['bind'](this),()=>_0x3da74f['wait'](0x64)),!0x0);[_0x120045(0x6f9)]=new Map();[_0x120045(0x141)];[_0x120045(0x324)]=new Map();constructor(_0x5a9b2a,_0x569e64){const _0x3a310a=_0x120045;this[_0x3a310a(0x22a)]=_0x5a9b2a,this[_0x3a310a(0x5ac)]=_0x569e64,this[_0x3a310a(0x141)]=new _0x25f32b(({source:_0x10c683,destination:_0x13444b})=>_0x38aca0(_0x13444b,_0x10c683));}[_0x120045(0xa16)](_0x8c9b34,_0x2d47bd){const _0x3dc396=_0x120045,_0x5d4937=this[_0x3dc396(0x1d8)](_0x8c9b34)&&this[_0x3dc396(0xa6f)](_0x2d47bd)?new _0x39a63e(_0x8c9b34,_0x2d47bd):new _0x80bd67(_0x8c9b34,_0x2d47bd);this[_0x3dc396(0x141)]['createSubscription'](_0x2e9f30['Incoming'],_0x5d4937),this[_0x3dc396(0x22a)][_0x3dc396(0x5ba)][_0x3dc396(0x1ef)](_0x5d4937);}[_0x120045(0x161)](_0x58bea4,_0x3e955b,_0x42f19a=''){const _0xf7c085=_0x120045,_0x1cfa2b={'contentType':_0x3e955b,'label':_0x58bea4,'remoteId':_0x42f19a},_0xfa2886=_0x354501(_0x2e9f30[_0xf7c085(0x979)],_0x1cfa2b),_0x44c8dc=this[_0xf7c085(0x141)][_0xf7c085(0x35d)][_0xf7c085(0x7e9)](_0xfa2886);_0x44c8dc&&this[_0xf7c085(0x9e2)](_0x44c8dc,_0xfa2886);}['handleContentUnpublishMediaStream'](_0x1a9dd8){this['removeRemoteStreamSubscription'](_0x1a9dd8);}[_0x120045(0x405)]({label:_0x5dee80,ownerId:_0x24923b,trackKinds:_0x130b42,params:_0x32c721}){this['requestSubscription'](_0x5dee80,_0x24923b,_0x130b42,_0x32c721);}[_0x120045(0x2a4)]({ownerId:_0x248521,label:_0x58aad2,params:_0x2f42e4}){const {subscriptionLabel:_0x55ea9a}=this['getSubscriptionLabel'](_0x58aad2,_0x248521),_0x528c4c=this['getMediaSubscription'](_0x55ea9a);_0x528c4c&&_0x528c4c['update'](_0x248521,_0x2f42e4);}[_0x120045(0x374)]({ownerId:_0x4df529,label:_0x5af13f,trackKinds:_0x591f5b,remainingTracks:_0x46d081}){const _0x457ce2=_0x120045,_0x2686a3=_0x354501(_0x2e9f30[_0x457ce2(0x979)],{'contentType':_0x4e2564[_0x457ce2(0x8be)]['Media'],'label':_0x5af13f,'remoteId':_0x4df529});this[_0x457ce2(0x536)](_0x2686a3);const _0x2c8651=this[_0x457ce2(0x338)][_0x457ce2(0x7e9)](_0x2686a3);_0x2c8651&&(this['configs'][_0x457ce2(0x5ba)][_0x457ce2(0x252)](_0x2c8651),this[_0x457ce2(0x338)][_0x457ce2(0xa10)](_0x2686a3));const {parts:_0x4f64a3,subscriptionLabel:_0x1187fc}=this[_0x457ce2(0x3c0)](_0x5af13f,_0x4df529),_0x7dafa3=this[_0x457ce2(0x2ad)](_0x1187fc);_0x7dafa3&&(_0x7dafa3[_0x457ce2(0x236)](_0x4df529,_0x46d081,_0x591f5b),0x0===_0x46d081&&this[_0x457ce2(0x161)](_0x4f64a3['label'],_0x4f64a3['contentType'],_0x4f64a3[_0x457ce2(0x831)]));}['handleSubscriptionRestartNeedMediaStream'](_0xd4a463,{label:_0x28f31c,ownerId:_0x518cba,trackKinds:_0x556c7b,streamId:_0x437836,params:_0x3b1a0c}){const _0x31f4a6=_0x120045,_0x5f9b20=_0x354501(_0x2e9f30['Incoming'],{'contentType':_0x4e2564[_0x31f4a6(0x8be)]['Media'],'label':_0x437836,'remoteId':_0xd4a463}),_0x168992=this[_0x31f4a6(0x141)][_0x31f4a6(0x35d)][_0x31f4a6(0x7e9)](_0x5f9b20);if(!(_0x168992&&_0x168992 instanceof _0x39a63e))throw new _0x4a916f(_0x4a916f[_0x31f4a6(0xa30)][_0x31f4a6(0x98f)],{'label':_0x5f9b20,'ownerId':_0x518cba});this['closeSubscription'](_0x168992,_0x5f9b20),this['requestSubscription'](_0x28f31c,_0x518cba,_0x556c7b,_0x3b1a0c);}[_0x120045(0x4c9)](_0x254550,_0x142d38){const _0x5f3c20=_0x120045,{label:_0x429a04,ownerId:_0x3a5c87,trackKinds:_0x2347b3,params:_0x4db72c}=_0x142d38,_0x186589=_0x354501(_0x2e9f30[_0x5f3c20(0x979)],{'contentType':_0x4e2564[_0x5f3c20(0x8be)]['Media'],'label':_0x429a04,'remoteId':_0x3a5c87});if(!this[_0x5f3c20(0x338)][_0x5f3c20(0x5a8)](_0x186589))throw new _0x4a916f(_0x4a916f[_0x5f3c20(0xa30)][_0x5f3c20(0x98f)],{'label':_0x186589,'ownerId':_0x3a5c87,'streamId':_0x142d38[_0x5f3c20(0x68a)],'requests':this[_0x5f3c20(0x338)]});const _0x3bbfdc=this[_0x5f3c20(0x338)]['get'](_0x186589);if(_0x2347b3[_0x5f3c20(0x59d)]===_0x3bbfdc[_0x5f3c20(0x258)]()[_0x5f3c20(0x59d)]&&_0x2347b3['every'](_0x409881=>_0x3bbfdc[_0x5f3c20(0x258)]()[_0x5f3c20(0x82f)](_0x409881)))try{const _0x18e8d1=_0x3bbfdc[_0x5f3c20(0xa56)](_0x254550,_0x142d38);if(!_0x18e8d1)return;this[_0x5f3c20(0x8f0)](_0x18e8d1,_0x3a5c87,_0x429a04,_0x186589,_0x2347b3);}catch(_0xd98c63){return void this[_0x5f3c20(0x387)](_0x429a04,_0x3a5c87,_0x2347b3,_0x4db72c);}}[_0x120045(0x6ce)](_0x46c8f2,{label:_0x569be1,ownerId:_0x4d2b13,trackKinds:_0x41252d}){const _0x2e616e=_0x120045,_0xb39900=this['configs'][_0x2e616e(0x5ba)][_0x2e616e(0x8bb)](_0x4d2b13,_0x569be1);if(!_0xb39900)return;const _0x47a949=_0xb39900[_0x2e616e(0x3d9)](),_0x351256=_0xb39900[_0x2e616e(0xa1d)]();_0x351256['some'](_0x4a5f3a=>_0x41252d['includes'](_0x4a5f3a))&&this['findNewMediaSubscription'](_0x46c8f2,_0x569be1,_0x47a949,_0x4d2b13,_0x351256);}[_0x120045(0x166)]({label:_0x375ce6,providerId:_0xdf0886,ownerId:_0x204a6d,streamId:_0x400e12,trackKinds:_0xceea7f}){const _0x28a81c=_0x120045;this[_0x28a81c(0x2be)](_0xdf0886,_0x375ce6,_0x400e12,_0x204a6d,_0xceea7f);}['handleOptimizationConnectionSuccess'](_0x5b6dc0){const _0x3f5a9d=_0x120045;for(const _0x18772e of this[_0x3f5a9d(0x324)][_0x3f5a9d(0x449)]()){const {streamLabel:_0x1839e5,ownerId:_0x18d7d5,trackKinds:_0x3e3a12,params:_0x4cc4d6}=_0x18772e;if(!_0x18d7d5||!_0x3e3a12||!_0x1839e5)return;this[_0x3f5a9d(0x4b0)][_0x3f5a9d(0xdc)]({'label':_0x1839e5,'ownerId':_0x18d7d5,'trackKinds':_0x3e3a12,'params':_0x4cc4d6,'remoteId':_0x5b6dc0});}}[_0x120045(0x40b)](_0x41f828){const _0x53875a=_0x120045;this[_0x53875a(0x141)][_0x53875a(0x35d)][_0x53875a(0x311)]((_0x383080,_0x4660e2)=>{const _0x28c693=_0x53875a;if(_0x4660e2[_0x28c693(0x53a)](_0x41f828)){if(_0x383080[_0x28c693(0x5ce)][_0x28c693(0x729)]()===_0x4e2564['ContentType'][_0x28c693(0x9fc)]){const _0x341bf1=_0x383080['destination'];if(_0x341bf1['getSubscribedTracks']()[_0x28c693(0x59d)]>0x0){const _0x514130={'type':_0x5d00e2[_0x28c693(0x9af)],'label':_0x341bf1[_0x28c693(0x8a0)](),'ownerId':_0x341bf1['getOwnerId'](),'trackKinds':_0x341bf1['getSubscribedTracks']()};return void this[_0x28c693(0x6ce)](_0x41f828,_0x514130);}}this[_0x28c693(0x9e2)](_0x383080,_0x4660e2);}});}[_0x120045(0x1c1)](){const _0x250804=_0x120045;this[_0x250804(0x141)][_0x250804(0x35d)][_0x250804(0x311)](this[_0x250804(0x9e2)][_0x250804(0xa66)](this));}[_0x120045(0x8f0)](_0x2a269f,_0x4a5c4e,_0x200114,_0x5b8f8c,_0x399d38){const _0x375a61=_0x120045,_0x5ac1bd=this[_0x375a61(0x22a)][_0x375a61(0x5ba)][_0x375a61(0x73b)](_0x2a269f[_0x375a61(0x846)]),_0xe07c80=this['configs'][_0x375a61(0x5ba)]['getRemoteMediaStream'](_0x4a5c4e,_0x200114);this[_0x375a61(0x536)](_0x5b8f8c),this[_0x375a61(0x338)][_0x375a61(0x5a8)](_0x5b8f8c)&&(this['configs'][_0x375a61(0x5ba)][_0x375a61(0x252)](this[_0x375a61(0x338)][_0x375a61(0x7e9)](_0x5b8f8c)),this['subscriptionRequests'][_0x375a61(0xa10)](_0x5b8f8c)),this[_0x375a61(0x7c7)](_0x2a269f,_0x4a5c4e,_0x200114,_0xe07c80),_0xe07c80[_0x375a61(0x97e)](_0x2a269f[_0x375a61(0x68a)]),_0xe07c80[_0x375a61(0x6e0)](_0x2a269f[_0x375a61(0x846)]);const _0x49dd38=_0x38aca0(_0xe07c80,_0x5ac1bd),_0x3bb998=_0x354501(_0x2e9f30[_0x375a61(0x979)],_0x49dd38);this['maps'][_0x375a61(0x35d)]['has'](_0x3bb998)||this[_0x375a61(0xa16)](_0x5ac1bd,_0xe07c80);const _0x244f03=this[_0x375a61(0x141)][_0x375a61(0x35d)][_0x375a61(0x7e9)](_0x3bb998);if(!(_0x244f03&&_0x244f03 instanceof _0x39a63e))throw new _0x4a916f(_0x4a916f['codes'][_0x375a61(0x98f)],{'label':_0x5b8f8c,'ownerId':_0x4a5c4e});_0x1b1d61[_0x375a61(0x7f8)](_0x375a61(0x42c),{'clusterId':this['configs']['clusterId'],'nodeId':this[_0x375a61(0x22a)][_0x375a61(0x781)][_0x375a61(0xd7)](),'nodeType':this[_0x375a61(0x22a)]['localNode'][_0x375a61(0x7f3)],'data':{'subscriptionLabel':_0x3bb998,'chosenAnswer':_0x2a269f}}),this['chosenAnswers'][_0x375a61(0x381)](_0x3bb998,_0x2a269f),_0x244f03[_0x375a61(0x8f0)](_0x4a5c4e,_0x399d38,_0x2a269f['params']);}[_0x120045(0x734)]({ownerId:_0x5c1109,label:_0x46f000}){const _0x3935e5=_0x120045,_0x172b56=this[_0x3935e5(0x22a)][_0x3935e5(0x5ba)]['getRemoteMediaStream'](_0x5c1109,_0x46f000),[_0x59022a,_0x1ecd34]=Array[_0x3935e5(0x7f9)](this[_0x3935e5(0x141)]['subscriptions'][_0x3935e5(0x471)]())[_0x3935e5(0x999)](([_0x1e801d,_0x3aad55])=>-0x1!==_0x1e801d[_0x3935e5(0xe6)](_0x172b56[_0x3935e5(0x3d9)]()));return this[_0x3935e5(0x9e2)](_0x1ecd34,_0x59022a);}['closeSubscription'](_0x362b73,_0x34498d){const _0x17a155=_0x120045;this[_0x17a155(0x22a)][_0x17a155(0x5ba)]['unregisterSystemSource'](_0x362b73),this[_0x17a155(0x141)]['closeSubscription'](_0x362b73,_0x34498d);}[_0x120045(0x1d8)](_0x543248){const _0x5a33f7=_0x120045;return _0x543248[_0x5a33f7(0x3ba)]()[_0x5a33f7(0x82f)](_0x4e2564[_0x5a33f7(0x8be)][_0x5a33f7(0x9fc)]);}[_0x120045(0xa6f)](_0x21b456){const _0x1e1c3f=_0x120045;return _0x21b456['getContentType']()===_0x4e2564[_0x1e1c3f(0x8be)][_0x1e1c3f(0x9fc)];}async[_0x120045(0x387)](_0x404c4f,_0x3cb502,_0x584880,_0x1c1ec3){const _0x82015a=_0x120045;await _0x3da74f[_0x82015a(0x22c)](0x3e8);const _0x1201c0=_0x354501(_0x2e9f30['Incoming'],{'contentType':_0x4e2564[_0x82015a(0x8be)][_0x82015a(0x9fc)],'label':_0x404c4f,'remoteId':_0x3cb502});this[_0x82015a(0x536)](_0x1201c0);const _0xfbf121=this['subscriptionRequests'][_0x82015a(0x7e9)](_0x1201c0);if(!_0xfbf121)throw new _0x4a916f(_0x4a916f[_0x82015a(0xa30)]['SubscriptionRequestDoesNotExist'],{'label':_0x1201c0,'ownerId':_0x3cb502});const _0x3cdff9=this[_0x82015a(0x22a)][_0x82015a(0x5ba)][_0x82015a(0x533)](_0x19a9b3=>_0x19a9b3[_0x82015a(0x6d4)]()),_0x29ecd8=this[_0x82015a(0x22a)]['mediator'][_0x82015a(0x749)](this[_0x82015a(0x22a)]['localNode'][_0x82015a(0xd7)](),_0x3cb502);_0xfbf121[_0x82015a(0x2c6)](_0x3cdff9['map'](_0x4ec499=>_0x4ec499[_0x82015a(0xa5d)]()),_0x29ecd8);try{_0xfbf121[_0x82015a(0x667)](this['configs'][_0x82015a(0x781)][_0x82015a(0xd7)](),_0x3cb502,_0x404c4f,_0x584880,_0x1c1ec3),this[_0x82015a(0x2e6)](_0x404c4f,_0x3cb502,_0x584880,_0x1c1ec3,_0x1201c0,_0xfbf121);}catch(_0x3f08bc){this['subscriptionRequestsQueue'][_0x82015a(0xdc)]({'label':_0x404c4f,'ownerId':_0x3cb502,'trackKinds':_0x584880,'params':_0x1c1ec3});}}[_0x120045(0x351)](_0x441cd4,_0xf23a2d,_0x16af9b,_0x83b9fa){const _0x4000b0=_0x120045;this['subscriptionRequestsQueue'][_0x4000b0(0xdc)]({'label':_0x441cd4,'ownerId':_0xf23a2d,'trackKinds':_0x16af9b,'params':_0x83b9fa});}[_0x120045(0x847)]({label:_0x19f4b6,ownerId:_0x4700bb,trackKinds:_0x4e1337,params:_0x16f8f6,remoteId:_0x52e192}){const _0x3afc1f=_0x120045;if(!this[_0x3afc1f(0x22a)][_0x3afc1f(0x5ba)][_0x3afc1f(0x8bb)](_0x4700bb,_0x19f4b6))return;if(!this[_0x3afc1f(0x22a)][_0x3afc1f(0x5ba)]['getLocalNode']()[_0x3afc1f(0x1ae)]())throw new Error(_0x3afc1f(0x80f));if(_0x52e192){const _0x1286fe=this[_0x3afc1f(0x22a)]['mediator'][_0x3afc1f(0x963)]()[_0x3afc1f(0x999)](_0x29c1ce=>_0x29c1ce[_0x3afc1f(0xd7)]()===_0x52e192),_0x4ac749=_0x1286fe?.[_0x3afc1f(0x1ae)]();if(!_0x1286fe||!_0x4ac749)throw new Error('Missing\x20remote\x20node\x20or\x20rank');const _0x25aef8=this[_0x3afc1f(0x22a)][_0x3afc1f(0x5ba)][_0x3afc1f(0x963)]()[_0x3afc1f(0x999)](_0x6a00ec=>_0x6a00ec[_0x3afc1f(0xd7)]()===_0x4700bb),_0x5df4cf=_0x25aef8?.[_0x3afc1f(0x1ae)]();if(!_0x25aef8||!_0x5df4cf)throw new Error('Missing\x20owner\x20node\x20or\x20rank');const _0x4f8737=this['chosenAnswers'][_0x3afc1f(0x7e9)](_0x19f4b6);if(_0x4f8737){const _0x336d55=this[_0x3afc1f(0x22a)][_0x3afc1f(0x5ba)]['getRemoteNodes']()[_0x3afc1f(0x999)](_0x320b97=>_0x320b97[_0x3afc1f(0xd7)]()===_0x4f8737[_0x3afc1f(0x846)]),_0x39f77a=_0x336d55?.[_0x3afc1f(0x1ae)]();if(!_0x336d55||!_0x39f77a)throw new Error(_0x3afc1f(0x103));if(Math[_0x3afc1f(0x3c4)](_0x39f77a-_0x5df4cf)<Math[_0x3afc1f(0x3c4)](_0x4ac749-_0x5df4cf))return;}}const _0x4f4bfd=this[_0x3afc1f(0x22a)]['mediator']['getConnections'](_0xe328d8=>_0xe328d8[_0x3afc1f(0x6d4)]()&&(!_0x52e192||_0xe328d8['getRemoteId']()===_0x52e192));if(!_0x4f4bfd[_0x3afc1f(0x59d)]||0x0===_0x4f4bfd[_0x3afc1f(0x59d)])throw new Error(_0x3afc1f(0x31c));const _0x3130ba=this[_0x3afc1f(0x22a)][_0x3afc1f(0x5ba)][_0x3afc1f(0x749)](this[_0x3afc1f(0x22a)]['localNode']['getId'](),_0x4700bb),_0x1b42ed=_0x354501(_0x2e9f30[_0x3afc1f(0x979)],{'contentType':_0x4e2564[_0x3afc1f(0x8be)][_0x3afc1f(0x9fc)],'label':_0x19f4b6,'remoteId':_0x4700bb});if(this[_0x3afc1f(0x338)][_0x3afc1f(0x5a8)](_0x1b42ed)){if(_0x52e192)throw new Error(_0x3afc1f(0x92b));const _0x5eea74=this[_0x3afc1f(0x338)][_0x3afc1f(0x7e9)](_0x1b42ed)[_0x3afc1f(0x258)]();if(_0x5eea74[_0x3afc1f(0x59d)]===_0x4e1337[_0x3afc1f(0x59d)]&&_0x5eea74[_0x3afc1f(0x221)](_0x2d0e4a=>_0x4e1337[_0x3afc1f(0x82f)](_0x2d0e4a)))return;this[_0x3afc1f(0x22a)][_0x3afc1f(0x5ba)][_0x3afc1f(0x252)](this[_0x3afc1f(0x338)][_0x3afc1f(0x7e9)](_0x1b42ed)),this[_0x3afc1f(0x338)][_0x3afc1f(0xa10)](_0x1b42ed),_0x4e1337=Array['from'](new Set(_0x4e1337[_0x3afc1f(0x7fa)](_0x5eea74))),this[_0x3afc1f(0x536)](_0x1b42ed);}const _0x396475=new _0x5bf896(_0x4f4bfd[_0x3afc1f(0x760)](_0x2d2d55=>_0x2d2d55[_0x3afc1f(0xa5d)]()),_0x3130ba,this[_0x3afc1f(0x5ac)],_0x4e1337);this['configs']['mediator']['registerSystemSource'](_0x396475),this[_0x3afc1f(0x338)][_0x3afc1f(0x381)](_0x1b42ed,_0x396475),_0x396475['sendRequest'](this[_0x3afc1f(0x22a)][_0x3afc1f(0x781)][_0x3afc1f(0xd7)](),_0x4700bb,_0x19f4b6,_0x4e1337,_0x16f8f6),this[_0x3afc1f(0x2e6)](_0x19f4b6,_0x4700bb,_0x4e1337,_0x16f8f6,_0x1b42ed,_0x396475);}[_0x120045(0x536)](_0x596e41){const _0x5bcb91=_0x120045;this[_0x5bcb91(0x6f9)][_0x5bcb91(0x5a8)](_0x596e41)&&(clearTimeout(this[_0x5bcb91(0x6f9)]['get'](_0x596e41)),this[_0x5bcb91(0x6f9)][_0x5bcb91(0xa10)](_0x596e41));}[_0x120045(0x2e6)](_0x387b28,_0x23cac3,_0x31ae36,_0x43e53a,_0xf43d93,_0x592df9){const _0x1e4bfc=_0x120045;this[_0x1e4bfc(0x536)](_0xf43d93),this[_0x1e4bfc(0x6f9)]['set'](_0xf43d93,setTimeout(()=>{const _0x4c00cd=_0x1e4bfc;this[_0x4c00cd(0x6f9)]['delete'](_0xf43d93);try{const _0x31b9b0=_0x592df9[_0x4c00cd(0x510)]();this[_0x4c00cd(0x8f0)](_0x31b9b0,_0x23cac3,_0x387b28,_0xf43d93,_0x31ae36);}catch(_0x42892a){this[_0x4c00cd(0x387)](_0x387b28,_0x23cac3,_0x31ae36,_0x43e53a);}},0x7d0));}[_0x120045(0x2be)](_0x5c1e6b,_0x37d949,_0x1b17d0,_0x10fd2b,_0x5d2bb3){const _0x40e8d0=_0x120045,{subscriptionLabel:_0x4ad621}=this['getSubscriptionLabel'](_0x37d949,_0x10fd2b),_0xf164c1=this[_0x40e8d0(0x2ad)](_0x4ad621),_0x58e79e=_0xf164c1?.[_0x40e8d0(0x3a0)];_0xf164c1&&(_0xf164c1[_0x40e8d0(0x236)](_0x10fd2b,0x0),this[_0x40e8d0(0x161)](_0x1b17d0,_0x4e2564[_0x40e8d0(0x8be)][_0x40e8d0(0x9fc)],_0x5c1e6b)),this['requestSubscription'](_0x37d949,_0x10fd2b,_0x5d2bb3,_0x58e79e);}[_0x120045(0x2ad)](_0xdf11ef){const _0x49b919=_0x120045,_0x1444e5=this[_0x49b919(0x141)][_0x49b919(0x35d)][_0x49b919(0x7e9)](_0xdf11ef);if(_0x1444e5){if(!(_0x1444e5 instanceof _0x39a63e))throw new _0x4a916f(_0x4a916f[_0x49b919(0xa30)][_0x49b919(0x877)],{'label':_0xdf11ef,'subscription':_0x1444e5});return _0x1444e5;}}[_0x120045(0x3c0)](_0xa6a57a,_0x45a0e1){const _0x37cf6a=_0x120045,_0x1bf1cc=this['getPartsForSubscriptionLabel'](_0xa6a57a,_0x45a0e1);return{'parts':_0x1bf1cc,'subscriptionLabel':_0x354501(_0x2e9f30[_0x37cf6a(0x979)],_0x1bf1cc)};}['getPartsForSubscriptionLabel'](_0x467a9a,_0x41a7f2){const _0xdbc9f1=_0x120045,_0x3d2a7e=this['configs'][_0xdbc9f1(0x5ba)]['getRemoteMediaStream'](_0x41a7f2,_0x467a9a),_0x5a2c16=_0x3d2a7e[_0xdbc9f1(0x756)]();if(!_0x5a2c16)throw new _0x4a916f(_0x4a916f[_0xdbc9f1(0xa30)][_0xdbc9f1(0x827)],{'label':_0x467a9a,'streamId':_0x3d2a7e[_0xdbc9f1(0x3d9)](),'ownerId':_0x41a7f2,'localId':this['configs']['localNode']['getId']()});return{'contentType':_0x4e2564[_0xdbc9f1(0x8be)][_0xdbc9f1(0x9fc)],'label':_0x3d2a7e[_0xdbc9f1(0x3d9)](),'remoteId':_0x5a2c16};}[_0x120045(0x7c7)](_0x134518,_0x1cdfdd,_0x425707,_0xece678){const _0x3d300f=_0x120045,_0x1db03a=_0xece678[_0x3d300f(0x756)]();if(_0x1db03a&&_0x1db03a!==_0x134518[_0x3d300f(0x846)]){const {parts:_0x23cba4,subscriptionLabel:_0x40a232}=this[_0x3d300f(0x3c0)](_0x425707,_0x1cdfdd),_0x2a5aba=this[_0x3d300f(0x2ad)](_0x40a232);_0x2a5aba&&(_0x2a5aba[_0x3d300f(0x236)](_0x1cdfdd,0x0),this[_0x3d300f(0x161)](_0x23cba4['label'],_0x23cba4['contentType'],_0x23cba4['remoteId']));}}}class _0x3929db{[_0x120045(0x22a)];[_0x120045(0x5b7)];[_0x120045(0x141)];constructor(_0x21d107,_0x210dcd){const _0x36c8de=_0x120045;this['configs']=_0x21d107,this['maxOutgoingSubscriptions']=_0x210dcd,this[_0x36c8de(0x141)]=new _0x25f32b(({source:_0x35d3e0,destination:_0x3173c2})=>_0x38aca0(_0x35d3e0,_0x3173c2));}['createSubscription'](_0x1becdb,_0x375a0f){const _0x37348d=_0x120045,_0x1336de={'source':_0x1becdb,'destination':_0x375a0f};this[_0x37348d(0x141)][_0x37348d(0xa16)](_0x2e9f30[_0x37348d(0x95d)],_0x1336de);}[_0x120045(0x161)](_0x2b621b,_0x36c024,_0x3b255f=''){const _0x5e6e3c=_0x120045,_0x5c99a0={'contentType':_0x36c024,'label':_0x2b621b,'remoteId':_0x3b255f};this['maps']['removeSubscription'](_0x5c99a0,_0x2e9f30[_0x5e6e3c(0x95d)]);}['handleSubscriptionSubscribeMediaStream'](_0x5c0344,_0x5cce7f){const _0x28bddb=_0x120045;let _0x1f86b3;_0x1f86b3=_0x5cce7f['ownerId']!==this[_0x28bddb(0x22a)][_0x28bddb(0x781)]['getId']()?this[_0x28bddb(0x22a)][_0x28bddb(0x5ba)][_0x28bddb(0x8bb)](_0x5cce7f[_0x28bddb(0x4a0)],_0x5cce7f[_0x28bddb(0x573)]):this['configs']['mediator'][_0x28bddb(0x537)](_0x5cce7f[_0x28bddb(0x573)]);const _0x5d8a1c=_0x354501(_0x2e9f30[_0x28bddb(0x95d)],{'contentType':_0x4e2564[_0x28bddb(0x8be)][_0x28bddb(0x9fc)],'label':_0x1f86b3[_0x28bddb(0x23e)](),'remoteId':_0x5c0344}),_0x4a5773=this[_0x28bddb(0x75b)]();if(!this[_0x28bddb(0x141)][_0x28bddb(0x35d)][_0x28bddb(0x5a8)](_0x5d8a1c)&&_0x4a5773>=this[_0x28bddb(0x5b7)])return{'type':_0x5d00e2[_0x28bddb(0x65e)],'ownerId':_0x5cce7f['ownerId'],'label':_0x5cce7f[_0x28bddb(0x573)],'streamId':_0x1f86b3['getShareableStreamId'](),'trackKinds':_0x5cce7f[_0x28bddb(0x88d)],'params':_0x5cce7f[_0x28bddb(0x3a0)]};_0x1f86b3 instanceof _0x416d87&&!_0x1f86b3[_0x28bddb(0x10b)](_0x5cce7f['trackKinds'])&&_0x1f86b3['subscribe'](_0x5cce7f[_0x28bddb(0x3a0)]),this[_0x28bddb(0x141)][_0x28bddb(0x35d)][_0x28bddb(0x5a8)](_0x5d8a1c)||this['createSubscription'](_0x1f86b3['getShareableStream'](_0x5c0344),this[_0x28bddb(0x22a)][_0x28bddb(0x5ba)]['getConnection'](_0x5c0344));}[_0x120045(0x70e)](_0xd9a2ed,{label:_0x41c417,ownerId:_0x3decb2,remainingTracks:_0xb26a13}){const _0x268f58=_0x120045;if(_0xb26a13>0x0)return;let _0x4ab80c;_0x4ab80c=_0x3decb2!==this['configs']['localNode'][_0x268f58(0xd7)]()?this[_0x268f58(0x22a)][_0x268f58(0x5ba)][_0x268f58(0x8bb)](_0x3decb2,_0x41c417):this['configs'][_0x268f58(0x5ba)][_0x268f58(0x537)](_0x41c417);const _0x2cf2f1=_0x4ab80c[_0x268f58(0x23e)](),_0x15b42a=_0x4e2564['ContentType'][_0x268f58(0x9fc)];this[_0x268f58(0x161)](_0x2cf2f1,_0x15b42a,_0xd9a2ed);}[_0x120045(0x374)](_0x37ae73,{label:_0x5a0634,ownerId:_0x5cd8fc,trackKinds:_0x5e01ed}){const _0x26e7f6=_0x120045;if(_0x37ae73!==_0x40bfc5)return[];let _0x27ac6f=[];for(const _0x1f4fa3 of this[_0x26e7f6(0x141)][_0x26e7f6(0x35d)]){const {source:_0x477288,destination:_0x49ea74}=_0x1f4fa3[0x1];_0x477288['getLabel']()===_0x5a0634&&_0x477288['getOwnerId']()===_0x5cd8fc&&_0x27ac6f[_0x26e7f6(0xdc)]({'sourceId':this[_0x26e7f6(0x22a)][_0x26e7f6(0x781)]['getId'](),'destinationIds':[_0x49ea74[_0x26e7f6(0xa5d)]()],'messageType':_0x435438[_0x26e7f6(0x9d2)],'content':{'type':_0x5d00e2[_0x26e7f6(0x9af)],'label':_0x5a0634,'ownerId':_0x5cd8fc,'trackKinds':_0x5e01ed}});}return _0x27ac6f;}[_0x120045(0x1f9)](_0x41a7fe,_0x27b328){const _0x440297=_0x120045,{label:_0x25e66b,ownerId:_0x8962c7,trackKinds:_0x162a56,params:_0x1f53de}=_0x27b328,{hasTracks:_0x458811,streamId:_0x2412f8,hasResolution:_0x8292f8,distance:_0x11df25,subscriptionLabel:_0xef47fd}=this['getSubscriptionInfo'](_0x41a7fe,_0x27b328);let _0x4b771b=this[_0x440297(0x75b)]()<this['maxOutgoingSubscriptions']&&(_0x458811||_0x11df25>-0x1)?_0x5d00e2[_0x440297(0x69d)]:_0x5d00e2[_0x440297(0x651)];const _0x1ee4ef=_0x11df25<0x0?0xa:_0x11df25;let _0x175fa7=_0x458811?_0x8292f8?_0x1ee4ef:_0x1ee4ef+0x0:_0x1ee4ef+0xa;return _0xef47fd&&this['maps'][_0x440297(0x35d)]['has'](_0xef47fd)&&(_0x458811&&(_0x175fa7=0x0),_0x4b771b=_0x5d00e2[_0x440297(0x69d)]),{'type':_0x4b771b,'cost':_0x175fa7,'distance':_0x11df25,'label':_0x25e66b,'ownerId':_0x8962c7,'streamId':_0x2412f8,'trackKinds':_0x162a56,'params':_0x1f53de};}[_0x120045(0x18f)](_0x1da4b5){const _0x9bc46c=_0x120045,{label:_0x447a31,ownerId:_0x1fe577}=_0x1da4b5,_0x59f0a1=this[_0x9bc46c(0x22a)][_0x9bc46c(0x5ba)][_0x9bc46c(0x8bb)](_0x1fe577,_0x447a31);this[_0x9bc46c(0x141)]['subscriptions'][_0x9bc46c(0x311)](_0x428f17=>{const _0x24ad46=_0x9bc46c;if(_0x428f17[_0x24ad46(0x7d6)][_0x24ad46(0x3d9)]()===_0x59f0a1[_0x24ad46(0x23e)]()){const _0x1fcd33=_0x428f17[_0x24ad46(0x5ce)];this[_0x24ad46(0x161)](_0x59f0a1['getShareableStreamId'](),_0x4e2564['ContentType'][_0x24ad46(0x9fc)],_0x1fcd33['getRemoteId']());}});}[_0x120045(0x7ad)]({label:_0x1143b4}){const _0x44c76b=_0x120045,_0x11abb8=this[_0x44c76b(0x22a)]['mediator']['getLocalMediaStream'](_0x1143b4);this[_0x44c76b(0x141)][_0x44c76b(0x35d)][_0x44c76b(0x311)](_0x3b6ec4=>{const _0x1fa63f=_0x44c76b;if(_0x3b6ec4[_0x1fa63f(0x7d6)][_0x1fa63f(0x3d9)]()===_0x11abb8['getShareableStreamId']()){const _0x42fde0=_0x3b6ec4[_0x1fa63f(0x5ce)];this[_0x1fa63f(0x161)](_0x11abb8[_0x1fa63f(0x23e)](),_0x4e2564['ContentType'][_0x1fa63f(0x9fc)],_0x42fde0[_0x1fa63f(0xa5d)]());}});}['removeSubscriptionsForNode'](_0x5f4fff){const _0x211344=_0x120045;this['maps'][_0x211344(0x40b)](_0x5f4fff);}['close'](){const _0x4ad148=_0x120045;this[_0x4ad148(0x141)]['subscriptions'][_0x4ad148(0x311)](this[_0x4ad148(0x9e2)][_0x4ad148(0xa66)](this));}[_0x120045(0x9e2)](_0x1df31c,_0x262b2e){const _0x35258c=_0x120045;this[_0x35258c(0x141)][_0x35258c(0x9e2)](_0x1df31c,_0x262b2e);}[_0x120045(0xa03)](_0x2c1c8b,{label:_0x15aaa5,ownerId:_0xe0ae90,trackKinds:_0x5bc53c,params:_0x4a198b}){const _0x1a951f=_0x120045;if(_0xe0ae90!==this['configs'][_0x1a951f(0x781)][_0x1a951f(0xd7)]()){const _0x26e16a=this['configs'][_0x1a951f(0x5ba)][_0x1a951f(0x8bb)](_0xe0ae90,_0x15aaa5);return _0x26e16a&&_0x26e16a['getProviderId']()!==_0x2c1c8b?{'hasTracks':_0x26e16a[_0x1a951f(0x97d)](_0x5bc53c),'hasResolution':this['canProvideResolution'](_0x26e16a[_0x1a951f(0x6e6)](),_0x4a198b),'streamId':_0x26e16a[_0x1a951f(0x23e)](),'distance':this[_0x1a951f(0x22a)][_0x1a951f(0x5ba)][_0x1a951f(0x749)](_0x2c1c8b,_0xe0ae90),'subscriptionLabel':_0x354501(_0x2e9f30[_0x1a951f(0x95d)],{'contentType':_0x4e2564[_0x1a951f(0x8be)]['Media'],'label':_0x26e16a['getShareableStreamId'](),'remoteId':_0x2c1c8b})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x334be5=this[_0x1a951f(0x22a)]['mediator'][_0x1a951f(0x537)](_0x15aaa5);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x334be5[_0x1a951f(0x23e)](),'distance':0x0,'subscriptionLabel':_0x354501(_0x2e9f30[_0x1a951f(0x95d)],{'contentType':_0x4e2564[_0x1a951f(0x8be)][_0x1a951f(0x9fc)],'label':_0x334be5[_0x1a951f(0x23e)](),'remoteId':_0x2c1c8b})};}[_0x120045(0x75b)](){const _0x27b797=_0x120045;return Array[_0x27b797(0x7f9)](this[_0x27b797(0x141)]['subscriptions'][_0x27b797(0x471)]())[_0x27b797(0x1e1)](([_0x531f34,{source:_0x1ce48e}])=>_0x531f34[_0x27b797(0x1c5)](_0x2e9f30[_0x27b797(0x95d)])&&_0x1ce48e[_0x27b797(0x729)]()===_0x4e2564[_0x27b797(0x8be)][_0x27b797(0x9fc)])['length'];}['canProvideResolution'](_0x1ecde5,_0x2f15fe){const _0x1f41db=_0x120045;if(!_0x2f15fe||!_0x2f15fe[_0x1f41db(0x7b7)]||_0x1f41db(0x6fe)==typeof _0x2f15fe['video']||!_0x2f15fe[_0x1f41db(0x7b7)][_0x1f41db(0x8f3)])return!0x0;const {width:_0x459ceb,height:_0x4612a3}=_0x2f15fe[_0x1f41db(0x7b7)]['maxResolution'];return _0x1ecde5[_0x1f41db(0x5c6)]>=_0x459ceb&&_0x1ecde5['height']>=_0x4612a3;}}class _0x25debb{[_0x120045(0x22a)];[_0x120045(0x5b7)];['maxDistance'];[_0x120045(0xa45)];[_0x120045(0x2b9)];[_0x120045(0x4bc)];constructor(_0x2d9960,_0x458f4a,_0x365a9b){const _0x2f1cb7=_0x120045;this[_0x2f1cb7(0x22a)]=_0x2d9960,this[_0x2f1cb7(0x5b7)]=_0x458f4a,this[_0x2f1cb7(0x5ac)]=_0x365a9b,this[_0x2f1cb7(0x22a)]['mediator']['registerSystemSource'](this),this[_0x2f1cb7(0x2b9)]=new _0x5c605e(this['configs'],this['maxDistance']),this[_0x2f1cb7(0x4bc)]=new _0x3929db(this['configs'],this[_0x2f1cb7(0x5b7)]);}[_0x120045(0x67d)](_0x54b1e5){this['systemTopic']=_0x54b1e5;}[_0x120045(0x12a)](){const _0x1cf4c5=_0x120045;delete this[_0x1cf4c5(0xa45)];}['close'](){const _0x1b3e5d=_0x120045;this[_0x1b3e5d(0x2b9)][_0x1b3e5d(0x1c1)](),this[_0x1b3e5d(0x4bc)][_0x1b3e5d(0x1c1)](),this[_0x1b3e5d(0x22a)][_0x1b3e5d(0x5ba)][_0x1b3e5d(0x252)](this);}[_0x120045(0x7a3)](_0x366a4d,_0x2ffa39){const _0x5c6355=_0x120045;this[_0x5c6355(0x2b9)][_0x5c6355(0xa16)](_0x366a4d,_0x2ffa39);}[_0x120045(0x39f)](_0x2ead76,_0x80fe0d){const _0xfb40c6=_0x120045;this[_0xfb40c6(0x4bc)]['createSubscription'](_0x2ead76,_0x80fe0d);}[_0x120045(0x793)](_0x3d7b7e,_0x3dae83,_0x5e7f90=''){const _0x571d44=_0x120045;this[_0x571d44(0x2b9)][_0x571d44(0x161)](_0x3d7b7e,_0x3dae83,_0x5e7f90);}[_0x120045(0x2ff)](_0x166471,_0x34c010,_0x1eb333=''){const _0x5ab740=_0x120045;try{this['outgoingManager'][_0x5ab740(0x161)](_0x166471,_0x34c010,_0x1eb333);}catch(_0x2a2752){if(_0x2a2752 instanceof _0x4a916f&&_0x2a2752[_0x5ab740(0x626)]===_0x4a916f[_0x5ab740(0xa30)][_0x5ab740(0x877)])return;}}[_0x120045(0xa56)](_0x4cd9ea){const _0x1e515a=_0x120045;switch(_0x4cd9ea[_0x1e515a(0x477)][_0x1e515a(0x7f3)]){case _0x5d00e2[_0x1e515a(0x628)]:this[_0x1e515a(0x9b8)](_0x4cd9ea[_0x1e515a(0x50d)],_0x4cd9ea[_0x1e515a(0x477)]);break;case _0x5d00e2[_0x1e515a(0x9a4)]:this[_0x1e515a(0x4bc)]['handleSubscriptionUnsubscribeMediaStream'](_0x4cd9ea[_0x1e515a(0x50d)],_0x4cd9ea[_0x1e515a(0x477)]);break;case _0x5d00e2[_0x1e515a(0x293)]:this[_0x1e515a(0x1f9)](_0x4cd9ea[_0x1e515a(0x50d)],_0x4cd9ea[_0x1e515a(0x477)]);break;case _0x5d00e2[_0x1e515a(0x65e)]:this[_0x1e515a(0x2b9)][_0x1e515a(0x80d)](_0x4cd9ea[_0x1e515a(0x50d)],_0x4cd9ea[_0x1e515a(0x477)]);break;case _0x5d00e2[_0x1e515a(0x69d)]:case _0x5d00e2[_0x1e515a(0x651)]:this[_0x1e515a(0x2b9)][_0x1e515a(0x4c9)](_0x4cd9ea[_0x1e515a(0x50d)],_0x4cd9ea[_0x1e515a(0x477)]);break;case _0x5d00e2['MediaStreamUnavailable']:this[_0x1e515a(0x2b9)][_0x1e515a(0x6ce)](_0x4cd9ea['sourceId'],_0x4cd9ea[_0x1e515a(0x477)]);}}[_0x120045(0x7b1)](_0x1994f7){const _0x91945c=_0x120045;switch(_0x1994f7[_0x91945c(0x477)]['type']){case _0x46be06['UnpublishMediaStream']:this['incomingManager'][_0x91945c(0x18f)](_0x1994f7[_0x91945c(0x477)]),this['outgoingManager'][_0x91945c(0x18f)](_0x1994f7[_0x91945c(0x477)]);break;case _0x46be06['SubscribeMediaStream']:this[_0x91945c(0x2b9)][_0x91945c(0x405)](_0x1994f7['content']);break;case _0x46be06[_0x91945c(0x515)]:this[_0x91945c(0x2b9)][_0x91945c(0x2a4)](_0x1994f7[_0x91945c(0x477)]);break;case _0x46be06[_0x91945c(0x9a4)]:this['handleContentUnsubscribeMediaStream'](_0x1994f7[_0x91945c(0x50d)],_0x1994f7['content']);break;case _0x46be06[_0x91945c(0x8f7)]:this[_0x91945c(0x4bc)][_0x91945c(0x7ad)](_0x1994f7[_0x91945c(0x477)]);break;case _0x46be06['ClosePubSubTopic']:this['handleCloseContent'](_0x1994f7['content'][_0x91945c(0x573)],_0x4e2564[_0x91945c(0x8be)][_0x91945c(0x348)]);break;case _0x46be06[_0x91945c(0x807)]:this[_0x91945c(0x3d8)](_0x1994f7[_0x91945c(0x477)]['label'],_0x4e2564[_0x91945c(0x8be)][_0x91945c(0x894)]);break;case _0x46be06[_0x91945c(0xa42)]:this[_0x91945c(0x3d8)](_0x1994f7['content'][_0x91945c(0x573)],_0x4e2564[_0x91945c(0x8be)][_0x91945c(0x322)]);break;case _0x46be06[_0x91945c(0xa61)]:this['handleCloseContent'](_0x1994f7[_0x91945c(0x477)][_0x91945c(0x573)],_0x4e2564[_0x91945c(0x8be)][_0x91945c(0x8bf)]);break;case _0x46be06[_0x91945c(0x14e)]:this['handleCloseContent'](_0x1994f7[_0x91945c(0x477)][_0x91945c(0x573)],_0x4e2564[_0x91945c(0x8be)]['VectorDatabase']);break;case _0x46be06[_0x91945c(0x4eb)]:this[_0x91945c(0x3d8)](_0x1994f7[_0x91945c(0x477)][_0x91945c(0x573)],_0x4e2564['ContentType'][_0x91945c(0x803)]);break;case _0x46be06[_0x91945c(0x5e3)]:case _0x46be06[_0x91945c(0x733)]:this[_0x91945c(0x3d8)](_0x1994f7['content'][_0x91945c(0x573)],_0x4e2564[_0x91945c(0x8be)]['Job']);break;case _0x46be06[_0x91945c(0x77c)]:this[_0x91945c(0x2b9)][_0x91945c(0x166)](_0x1994f7['content']);}}[_0x120045(0x1be)]({content:_0x5c584d}){const _0x4ae319=_0x120045;_0x5c584d[_0x4ae319(0x7f3)]===_0x57c969[_0x4ae319(0x261)]&&this[_0x4ae319(0x40b)](_0x5c584d);}[_0x120045(0x2d0)](_0x5d0800){const _0x5987c3=_0x120045;_0x5d0800[_0x5987c3(0x477)][_0x5987c3(0x7f3)]===_0x55ce1f[_0x5987c3(0x76f)]&&this[_0x5987c3(0x2b9)][_0x5987c3(0x300)](_0x5d0800[_0x5987c3(0x50d)]);}[_0x120045(0x374)](_0x4f543c,_0x4eda19){const _0xedf6c2=_0x120045;this[_0xedf6c2(0x2b9)][_0xedf6c2(0x374)](_0x4eda19),this[_0xedf6c2(0x4bc)][_0xedf6c2(0x374)](_0x4f543c,_0x4eda19)[_0xedf6c2(0x311)](_0x2ead46=>this[_0xedf6c2(0xa45)]['publish'](_0x2ead46));}[_0x120045(0x9b8)](_0x5dd1d0,_0x452b7d){const _0xa11106=_0x120045,_0x4ea7e8=this[_0xa11106(0x4bc)][_0xa11106(0x9b8)](_0x5dd1d0,_0x452b7d);if(_0x4ea7e8&&(this[_0xa11106(0xa45)][_0xa11106(0x552)]({'sourceId':this['configs'][_0xa11106(0x781)][_0xa11106(0xd7)](),'destinationIds':[_0x5dd1d0],'messageType':_0x435438[_0xa11106(0x9d2)],'content':_0x4ea7e8}),_0x4ea7e8[_0xa11106(0x7f3)]===_0x5d00e2[_0xa11106(0x65e)]))throw new _0x602078('Restart\x20NeedMediaStream');}['handleSubscriptionNeedMediaStream'](_0x16be28,_0x4c21f4){const _0x1a50c0=_0x120045,_0x443b77=this[_0x1a50c0(0x4bc)]['handleSubscriptionNeedMediaStream'](_0x16be28,_0x4c21f4);this[_0x1a50c0(0xa45)][_0x1a50c0(0x552)]({'sourceId':this[_0x1a50c0(0x22a)]['localNode']['getId'](),'destinationIds':[_0x16be28],'messageType':_0x435438[_0x1a50c0(0x9d2)],'content':_0x443b77});}[_0x120045(0x3d8)](_0x23874c,_0x20e93b){const _0x5bcbcf=_0x120045;this['removeIncomingSubscription'](_0x23874c,_0x20e93b),this[_0x5bcbcf(0x2ff)](_0x23874c,_0x20e93b);}[_0x120045(0x40b)]({id:_0x29c814}){const _0x5bb850=_0x120045;this['incomingManager'][_0x5bb850(0x40b)](_0x29c814),this[_0x5bb850(0x4bc)][_0x5bb850(0x40b)](_0x29c814);}}class _0x33ebc6{[_0x120045(0x573)];[_0x120045(0x9cf)]=_0x29f207();constructor(){this['label']=0x0;}['getLabel'](){const _0x4f1537=_0x120045;return this[_0x4f1537(0x573)];}[_0x120045(0x729)](){const _0x597774=_0x120045;return _0x4e2564[_0x597774(0x8be)][_0x597774(0x6ad)];}[_0x120045(0x4f1)](_0x331a74){const _0x144c13=_0x120045;_0x331a74[_0x144c13(0x67d)](this);}[_0x120045(0x370)](_0x24e586){const _0x5d7446=_0x120045;_0x24e586[_0x5d7446(0x12a)]();}[_0x120045(0x552)](_0x4cd487){const _0x5f21e5=_0x120045;_0x1b1d61[_0x5f21e5(0xed)](_0x185607[_0x5f21e5(0x279)],'SystemTopic\x20publish',_0x4cd487['sourceId'],_0x4cd487),this[_0x5f21e5(0x9cf)][_0x5f21e5(0x552)]({'topicLabel':this['label'],'contentType':_0x4e2564[_0x5f21e5(0x8be)][_0x5f21e5(0x6ad)],'uuid':_0x4cd487[_0x5f21e5(0x43f)]??(0x0,_0x233c4d['v4'])(),'recipients':_0x4cd487[_0x5f21e5(0x5ab)]??[],..._0x4cd487});}[_0x120045(0x8f0)](_0x19f5da){const _0x308a65=_0x120045;return this[_0x308a65(0x9cf)][_0x308a65(0x8f0)](_0x19f5da);}}class _0x575d01{[_0x120045(0x58d)];[_0x120045(0x473)]=[];[_0x120045(0x229)];['remoteNodes']=new Map();[_0x120045(0x83b)]=_0x29f207();constructor(_0xc4519d){const _0x5fdcee=_0x120045;this[_0x5fdcee(0x58d)]=_0xc4519d,this['maxLayer']=(this['options'][_0x5fdcee(0x2ea)]-0x2*this[_0x5fdcee(0x58d)]['minConnections'])/0x2,this['ranges'][_0x5fdcee(0xdc)]({'start':0x1,'end':this['getNextTargetRank'](0x1,0x1)-0x1});for(let _0x31fd28=0x0;_0x31fd28<this['maxLayer'];++_0x31fd28)this[_0x5fdcee(0x473)][_0x5fdcee(0xdc)]({'start':this['getNextTargetRank'](0x1,_0x31fd28+0x1),'end':this['getNextTargetRank'](0x1,_0x31fd28+0x2)-0x1});}['getNextTargetRank'](_0x4982bb,_0x7d27df=0x1){const _0x1a5467=_0x120045;let _0x104d0c=this[_0x1a5467(0x58d)]['maxDistance']-this[_0x1a5467(0x58d)][_0x1a5467(0x2c7)],_0x409df8=0x1;for(let _0x5859ea=0x1;_0x5859ea<_0x7d27df;++_0x5859ea)_0x104d0c*=this[_0x1a5467(0x58d)][_0x1a5467(0x5ac)]-this[_0x1a5467(0x58d)][_0x1a5467(0x2c7)]-_0x5859ea,_0x409df8*=this[_0x1a5467(0x58d)][_0x1a5467(0x5ac)]-this[_0x1a5467(0x58d)][_0x1a5467(0x2c7)]-_0x5859ea+0x1;return _0x104d0c*this[_0x1a5467(0x58d)]['minConnections']+_0x4982bb-_0x409df8;}['getCurrentMaxLayer'](_0x10b246){const _0x1d4565=_0x120045;let _0x307e74=0x0;for(;this['ranges'][_0x307e74][_0x1d4565(0x837)]<_0x10b246;)_0x307e74+=0x1;return _0x307e74;}[_0x120045(0x62c)](){const _0x571358=_0x120045;return this[_0x571358(0x58d)][_0x571358(0x2c7)];}[_0x120045(0x657)](){const _0x3e9eb2=_0x120045;return this[_0x3e9eb2(0x58d)][_0x3e9eb2(0x2ea)];}[_0x120045(0x57f)](){const _0x49198f=_0x120045;return this[_0x49198f(0x58d)][_0x49198f(0x5ac)];}['getRemoteNodes'](){const _0xdf2b2c=_0x120045;return this[_0xdf2b2c(0x88b)];}[_0x120045(0x186)](_0x59252c,_0x41b489){const _0x3802aa=_0x120045;this[_0x3802aa(0x88b)][_0x3802aa(0x381)](_0x59252c,_0x41b489),this[_0x3802aa(0x83b)][_0x3802aa(0x552)]();}[_0x120045(0x692)](_0x3398b2){const _0x3c595b=_0x120045;this[_0x3c595b(0x88b)]['delete'](_0x3398b2),this[_0x3c595b(0x83b)][_0x3c595b(0x552)]();}[_0x120045(0x4c4)](_0x32f9d6){const _0x15700b=_0x120045;return this[_0x15700b(0x88b)][_0x15700b(0x5a8)](_0x32f9d6);}['getRemoteNode'](_0x5e4d18){const _0xc260b5=_0x120045;return this[_0xc260b5(0x88b)]['get'](_0x5e4d18);}[_0x120045(0x973)](_0x597f50,_0x40ec90){const _0x3932eb=_0x120045,_0x40be57=this[_0x3932eb(0x662)](_0x40ec90)?.[_0x3932eb(0x1ae)]()??0x0;return _0x597f50[_0x3932eb(0x760)](_0x4c0114=>this[_0x3932eb(0x662)](_0x4c0114))['filter'](_0x2a529c=>void 0x0!==_0x2a529c)['sort']((_0x39d4df,_0x279da3)=>Math['abs'](_0x40be57-(_0x39d4df&&_0x39d4df[_0x3932eb(0x1ae)]()||0x1/0x0))-Math[_0x3932eb(0x3c4)](_0x40be57-(_0x279da3&&_0x279da3[_0x3932eb(0x1ae)]()||0x1/0x0)))['map'](_0x2b73d1=>_0x2b73d1[_0x3932eb(0xd7)]());}[_0x120045(0x2d9)](_0x47a4b0){const _0x5f5af3=_0x120045;return this['nodeUpdate'][_0x5f5af3(0x8f0)](_0x47a4b0);}}class _0x43121f{[_0x120045(0x11b)];['clusterId'];[_0x120045(0x9b0)];[_0x120045(0x7ec)];[_0x120045(0x58d)];[_0x120045(0x22a)];[_0x120045(0x5f2)];[_0x120045(0x4cb)];[_0x120045(0x13d)];[_0x120045(0x2f3)];[_0x120045(0x1d1)];[_0x120045(0x82e)];[_0x120045(0xa15)];['nodeManager'];[_0x120045(0x66c)];[_0x120045(0xa45)]=new _0x33ebc6();['systemTopicUnsubscribe'];['localNode'];constructor(_0x29fad7,_0x231a7b,_0x36d946,_0x460c97,_0x13f6fb,_0x30a5be,_0x120436){const _0x5665d7=_0x120045;switch(this[_0x5665d7(0x11b)]=_0x29fad7,this[_0x5665d7(0xea)]=_0x231a7b,this['authNode']=_0x36d946,this[_0x5665d7(0x7ec)]=_0x460c97,this[_0x5665d7(0x58d)]=_0x13f6fb,this[_0x5665d7(0x22a)]=_0x30a5be,this['clusterEventEmitter']=_0x120436,_0x36d946[_0x5665d7(0x7f3)]){case _0x4e2564[_0x5665d7(0x9cd)]['User']:this[_0x5665d7(0x781)]=new _0xdbafa4(_0x36d946[_0x5665d7(0xd7)](),_0x36d946['getDisplayName'](),_0x36d946[_0x5665d7(0x659)]());break;case _0x4e2564[_0x5665d7(0x9cd)][_0x5665d7(0x580)]:default:this[_0x5665d7(0x781)]=new _0x19e08e(_0x36d946[_0x5665d7(0xd7)]());}const _0x1b3a33=this[_0x5665d7(0x242)]();this[_0x5665d7(0x66c)]=new _0x575d01(this[_0x5665d7(0x58d)]),this[_0x5665d7(0x4cb)]=new _0x2ef90e(_0x1b3a33,this[_0x5665d7(0x58d)]),this[_0x5665d7(0x13d)]=new _0x4b4268(_0x1b3a33,this['authService'],this[_0x5665d7(0x66c)],this[_0x5665d7(0x22a)]['iceServers'],this[_0x5665d7(0x58d)]),this['subscriptionManager']=new _0x25debb(_0x1b3a33,this[_0x5665d7(0x58d)][_0x5665d7(0x5b7)],this[_0x5665d7(0x66c)][_0x5665d7(0x57f)]()),this[_0x5665d7(0x1d1)]=new _0x4e759b(_0x1b3a33),this[_0x5665d7(0x82e)]=new _0x147e64(_0x1b3a33),this[_0x5665d7(0xa15)]=new _0x504987(_0x1b3a33),this[_0x5665d7(0x8c7)]=new _0x2b36f9(_0x1b3a33,this[_0x5665d7(0x66c)]),this['systemTopicUnsubscribe']=this[_0x5665d7(0x167)]();}['open'](){const _0x2589f7=_0x120045,_0x3044ae=this[_0x2589f7(0x242)]();this['connectionManager']=new _0x4b4268(_0x3044ae,this[_0x2589f7(0x7ec)],this[_0x2589f7(0x66c)],this[_0x2589f7(0x22a)][_0x2589f7(0x424)],this[_0x2589f7(0x58d)]),this[_0x2589f7(0x2f3)]=new _0x25debb(_0x3044ae,this[_0x2589f7(0x58d)]['maxOutgoingSubscriptions'],this[_0x2589f7(0x66c)][_0x2589f7(0x57f)]()),this[_0x2589f7(0x1d1)]=new _0x4e759b(_0x3044ae),this['detectionManager']=new _0x147e64(_0x3044ae),this[_0x2589f7(0xa15)]=new _0x504987(_0x3044ae),this[_0x2589f7(0x8c7)]=new _0x2b36f9(_0x3044ae,this['graphService']);const _0x457c5c=this['connectionManager'][_0x2589f7(0x5fb)]();this[_0x2589f7(0x4cb)][_0x2589f7(0x30c)]()['forEach'](_0x791822=>{const _0x299772=_0x2589f7;this[_0x299772(0x2f3)][_0x299772(0x39f)](_0x791822,_0x457c5c),this[_0x299772(0x2f3)]['createIncomingSubscription'](_0x457c5c,_0x791822),_0x791822[_0x299772(0x2c6)]();}),this[_0x2589f7(0x4cb)][_0x2589f7(0x327)]()[_0x2589f7(0x311)](_0x11a130=>{const _0x3d9d20=_0x2589f7;this[_0x3d9d20(0x2f3)]['createOutgoingSubscription'](_0x11a130,_0x457c5c),this[_0x3d9d20(0x2f3)]['createIncomingSubscription'](_0x457c5c,_0x11a130),_0x11a130[_0x3d9d20(0x2c6)](),_0x11a130[_0x3d9d20(0x42e)]();}),this[_0x2589f7(0x4cb)]['getKeyValueDatabases']()[_0x2589f7(0x311)](_0x3ef166=>{const _0xcd0609=_0x2589f7;this['subscriptionManager'][_0xcd0609(0x39f)](_0x3ef166,_0x457c5c),this[_0xcd0609(0x2f3)][_0xcd0609(0x7a3)](_0x457c5c,_0x3ef166),_0x3ef166[_0xcd0609(0x2c6)](),this[_0xcd0609(0x7aa)](_0x3ef166);}),this[_0x2589f7(0x4cb)]['getJobDispatchers']()[_0x2589f7(0x311)](_0x1a105d=>{const _0x4c8712=_0x2589f7;this[_0x4c8712(0x2f3)][_0x4c8712(0x39f)](_0x1a105d,_0x457c5c),this['subscriptionManager'][_0x4c8712(0x7a3)](_0x457c5c,_0x1a105d),_0x1a105d[_0x4c8712(0x2c6)]();}),this[_0x2589f7(0x4cb)][_0x2589f7(0x337)]()[_0x2589f7(0x311)](_0x2fe8ce=>{const _0x3ec63b=_0x2589f7;this[_0x3ec63b(0x2f3)][_0x3ec63b(0x39f)](_0x2fe8ce,_0x457c5c),this[_0x3ec63b(0x2f3)][_0x3ec63b(0x7a3)](_0x457c5c,_0x2fe8ce),_0x2fe8ce[_0x3ec63b(0x2c6)]();}),this[_0x2589f7(0x4cb)][_0x2589f7(0x377)]()[_0x2589f7(0x311)](_0x4dba2c=>{const _0x1880df=_0x2589f7;this[_0x1880df(0x2f3)][_0x1880df(0x39f)](_0x4dba2c,_0x457c5c),this[_0x1880df(0x2f3)][_0x1880df(0x7a3)](_0x457c5c,_0x4dba2c),_0x4dba2c[_0x1880df(0x2c6)]();}),this[_0x2589f7(0x4cb)]['getGraphDatabases']()[_0x2589f7(0x311)](_0x30c1d0=>{const _0x35fb3f=_0x2589f7;this['subscriptionManager'][_0x35fb3f(0x39f)](_0x30c1d0,_0x457c5c),this[_0x35fb3f(0x2f3)]['createIncomingSubscription'](_0x457c5c,_0x30c1d0),_0x30c1d0[_0x35fb3f(0x2c6)]();}),this[_0x2589f7(0x12c)]=this[_0x2589f7(0x167)]();}[_0x120045(0x1ef)](_0x25fab5){const _0x27435d=_0x120045;try{this[_0x27435d(0xa45)][_0x27435d(0x4f1)](_0x25fab5);}catch(_0x14b9d1){this[_0x27435d(0x484)](_0x14b9d1,{});}}[_0x120045(0x252)](_0x1132e1){const _0x407411=_0x120045;try{this[_0x407411(0xa45)][_0x407411(0x370)](_0x1132e1);}catch(_0x19a1cf){this[_0x407411(0x484)](_0x19a1cf,{});}}['createConnection'](_0x1e4d4f,_0x222a0a){const _0x420c60=_0x120045;return this[_0x420c60(0x13d)][_0x420c60(0x8c2)](_0x1e4d4f,_0x222a0a);}['getConnection'](_0x525102){const _0x5322d7=_0x120045;try{return this[_0x5322d7(0x13d)][_0x5322d7(0x73b)](_0x525102);}catch(_0x224731){throw this[_0x5322d7(0x484)](_0x224731,{});}}['getConnections'](_0x5d0f54){const _0x256b8e=_0x120045;try{return this[_0x256b8e(0x13d)]['getConnections'](_0x5d0f54);}catch(_0xc440ba){throw this[_0x256b8e(0x484)](_0xc440ba,{});}}[_0x120045(0x8bb)](_0xf84693,_0x2df3e5){const _0x3d33d4=_0x120045;try{return this['contentManager'][_0x3d33d4(0x990)](_0x38fa6c=>_0x38fa6c[_0x3d33d4(0x711)]()===_0xf84693&&_0x38fa6c[_0x3d33d4(0x8a0)]()===_0x2df3e5)[0x0];}catch(_0x3d22c6){throw this[_0x3d33d4(0x484)](_0x3d22c6,{});}}[_0x120045(0x537)](_0x37ef35){const _0x1e49ef=_0x120045;try{return this['contentManager'][_0x1e49ef(0x211)](_0x25cd4f=>_0x25cd4f['getLabel']()===_0x37ef35)[0x0];}catch(_0x56919c){throw this[_0x1e49ef(0x484)](_0x56919c,{});}}[_0x120045(0x25f)]=(..._0x36c8d7)=>{const _0x37287f=_0x120045;try{return this['clusterEventEmitter'][_0x37287f(0x801)](..._0x36c8d7);}catch(_0x1008d5){throw this[_0x37287f(0x484)](_0x1008d5,{});}};[_0x120045(0x5c7)](_0x23ffd0){const _0x584b12=_0x120045;try{this[_0x584b12(0x1d1)][_0x584b12(0x4f3)](_0x23ffd0);}catch(_0x48188d){throw this[_0x584b12(0x484)](_0x48188d,{});}}[_0x120045(0x4d1)](_0x5eae46){const _0xc40940=_0x120045;try{this[_0xc40940(0x1d1)][_0xc40940(0x31b)](_0x5eae46);}catch(_0x6ccbc0){throw this['handleError'](_0x6ccbc0,{});}}[_0x120045(0x63e)](_0x258d99){const _0x5ae26a=_0x120045;return this[_0x5ae26a(0x13d)][_0x5ae26a(0x63e)](_0x258d99);}async[_0x120045(0x995)](){const _0x5839ff=_0x120045;try{await this[_0x5839ff(0x13d)]['initialize']();const _0x3a13ef=await this[_0x5839ff(0x8c7)][_0x5839ff(0x1bc)]();for(const _0x8da7e8 of _0x3a13ef)this[_0x5839ff(0x13d)]['createConnection'](_0x8da7e8);}catch(_0x2a543b){throw this[_0x5839ff(0x484)](_0x2a543b,{});}}['updateUser'](_0x391411){const _0x3f9887=_0x120045;this[_0x3f9887(0x781)]['type']===_0x4e2564[_0x3f9887(0x9cd)]['User']&&(this[_0x3f9887(0x781)][_0x3f9887(0x234)](_0x391411[_0x3f9887(0x659)]()),this[_0x3f9887(0x781)]['setDisplayName'](_0x391411[_0x3f9887(0x665)]()));}[_0x120045(0x1c1)]({force:_0x461c19=!0x1},_0xd3324c=!0x1){const _0x19eeb4=_0x120045;if(_0x1b1d61[_0x19eeb4(0x87e)](_0x19eeb4(0x708),{'clusterId':this[_0x19eeb4(0xea)],'nodeId':this[_0x19eeb4(0x781)][_0x19eeb4(0xd7)](),'nodeType':this[_0x19eeb4(0x781)][_0x19eeb4(0x7f3)]}),!_0x461c19&&this[_0x19eeb4(0x13d)][_0x19eeb4(0x601)]())throw new _0x18939c(_0x15d29b[_0x19eeb4(0x3d6)],'Cannot\x20close\x20the\x20SDK\x20while\x20data\x20is\x20being\x20transferred.\x20Use\x20`force`\x20parameter\x20to\x20interrupt\x20the\x20connection');_0x1b1d61[_0x19eeb4(0x619)](),this[_0x19eeb4(0x12c)](),this[_0x19eeb4(0xa15)][_0x19eeb4(0x1c1)](),this['detectionManager']['close'](),this[_0x19eeb4(0x1d1)][_0x19eeb4(0x1c1)](),this['subscriptionManager'][_0x19eeb4(0x1c1)](),this[_0x19eeb4(0x13d)][_0x19eeb4(0x1c1)](),this[_0x19eeb4(0x4cb)][_0x19eeb4(0x1c1)](_0xd3324c),this[_0x19eeb4(0x8c7)][_0x19eeb4(0x1c1)]();}[_0x120045(0x446)](_0x351346){const _0x189b3a=_0x120045;try{const _0x1b131c=this['contentManager'][_0x189b3a(0x671)](_0x351346),_0x8f66bf=this[_0x189b3a(0x13d)][_0x189b3a(0x5fb)]();return this[_0x189b3a(0x2f3)]['createOutgoingSubscription'](_0x1b131c,_0x8f66bf),this[_0x189b3a(0x2f3)]['createIncomingSubscription'](_0x8f66bf,_0x1b131c),_0x1b131c;}catch(_0x3ea40a){throw this[_0x189b3a(0x484)](_0x3ea40a,{});}}async[_0x120045(0x21a)](_0x364e39,_0x23c6cf){const _0x4e1f98=_0x120045;try{const _0x880215=this['contentManager'][_0x4e1f98(0x3f3)](_0x364e39,this['options'][_0x4e1f98(0xa38)],_0x23c6cf),_0x2599e9=this[_0x4e1f98(0x13d)][_0x4e1f98(0x5fb)]();return this['subscriptionManager'][_0x4e1f98(0x39f)](_0x880215,_0x2599e9),this[_0x4e1f98(0x2f3)][_0x4e1f98(0x7a3)](_0x2599e9,_0x880215),await _0x880215['sync'](),_0x880215;}catch(_0x327773){throw this['handleError'](_0x327773,{});}}async[_0x120045(0x710)](_0x36b575,_0x412aaa){const _0x3b29d1=_0x120045;try{if(!this[_0x3b29d1(0x58d)][_0x3b29d1(0x177)])throw new _0x18939c(_0x15d29b[_0x3b29d1(0x1af)],_0x3b29d1(0x8b0));if(!(this[_0x3b29d1(0x9b0)]instanceof _0x59c5d6))throw new _0x18939c(_0x15d29b[_0x3b29d1(0x9b9)],_0x3b29d1(0x4e1));const _0x382fab=this[_0x3b29d1(0x58d)][_0x3b29d1(0x177)]['get'](_0x412aaa);if(!_0x382fab)throw new _0x18939c(_0x15d29b[_0x3b29d1(0x1af)],_0x3b29d1(0x8b0));const _0x2cd534=this[_0x3b29d1(0x4cb)][_0x3b29d1(0x7f5)](_0x36b575,_0x382fab),_0x590956=this[_0x3b29d1(0x13d)][_0x3b29d1(0x5fb)]();return this[_0x3b29d1(0x2f3)][_0x3b29d1(0x39f)](_0x2cd534,_0x590956),this[_0x3b29d1(0x2f3)]['createIncomingSubscription'](_0x590956,_0x2cd534),await _0x2cd534[_0x3b29d1(0x69b)](),_0x2cd534;}catch(_0x1e3ed3){throw this['handleError'](_0x1e3ed3,{});}}async['openKeyValueDatabase'](_0x5715e5,_0xdf2392,_0x2e644d){const _0x269788=_0x120045;try{_0x2e644d=_0x2e644d||this[_0x269788(0x58d)][_0x269788(0x8a9)];const _0x91c26a=await this[_0x269788(0x4cb)]['createKeyValueDatabase'](_0x5715e5,_0xdf2392,_0x2e644d),_0x1e5709=this[_0x269788(0x13d)][_0x269788(0x5fb)]();return this[_0x269788(0x2f3)][_0x269788(0x39f)](_0x91c26a,_0x1e5709),this['subscriptionManager']['createIncomingSubscription'](_0x1e5709,_0x91c26a),await _0x91c26a['open'](),this['syncKeyValueDatabase'](_0x91c26a),_0x91c26a;}catch(_0x29b98b){throw this[_0x269788(0x484)](_0x29b98b,{});}}async[_0x120045(0x7c2)](_0x3c3d0){const _0x208de6=_0x120045;try{const _0x534372=await this['contentManager'][_0x208de6(0x7dd)](_0x3c3d0,this[_0x208de6(0x66c)]),_0x22969a=this[_0x208de6(0x13d)][_0x208de6(0x5fb)]();return this['subscriptionManager']['createOutgoingSubscription'](_0x534372,_0x22969a),this[_0x208de6(0x2f3)][_0x208de6(0x7a3)](_0x22969a,_0x534372),_0x534372['open'](),_0x534372;}catch(_0x5c4f3e){throw this[_0x208de6(0x484)](_0x5c4f3e,{});}}async['openJobWorker'](_0x2f9ad7){const _0x3cf14e=_0x120045;throw new Error(_0x3cf14e(0x64a));}async[_0x120045(0x951)](_0x24e63a){const _0x2426f9=_0x120045;try{const _0x16ab0d=await this[_0x2426f9(0x4cb)][_0x2426f9(0x2bc)](_0x24e63a,this[_0x2426f9(0x66c)]),_0x43cc9e=this[_0x2426f9(0x13d)][_0x2426f9(0x5fb)]();return this[_0x2426f9(0x2f3)][_0x2426f9(0x39f)](_0x16ab0d,_0x43cc9e),this['subscriptionManager'][_0x2426f9(0x7a3)](_0x43cc9e,_0x16ab0d),_0x16ab0d[_0x2426f9(0x69b)](),_0x16ab0d;}catch(_0x28d4f9){throw console[_0x2426f9(0x525)](_0x28d4f9),this[_0x2426f9(0x484)](_0x28d4f9,{});}}async[_0x120045(0x15e)](_0x14efae){const _0xf9edb7=_0x120045;try{if(!(this[_0xf9edb7(0x58d)][_0xf9edb7(0x72d)]&&this[_0xf9edb7(0x58d)][_0xf9edb7(0x3f0)]&&this['options'][_0xf9edb7(0x178)]&&this[_0xf9edb7(0x58d)][_0xf9edb7(0x120)]))throw new _0x18939c(_0x15d29b[_0xf9edb7(0x9f4)],_0xf9edb7(0x5de));if(!(this[_0xf9edb7(0x9b0)]instanceof _0x59c5d6))throw new _0x18939c(_0x15d29b[_0xf9edb7(0x9b9)],_0xf9edb7(0x4e1));if(!this[_0xf9edb7(0x22a)][_0xf9edb7(0x68b)])throw new _0x18939c(_0x15d29b[_0xf9edb7(0x4d4)],_0xf9edb7(0x392));const _0x34eb03=[];for(const [_0x2d035f,_0xe70d18]of this[_0xf9edb7(0x58d)][_0xf9edb7(0x72d)]){let _0x166763;_0xf9edb7(0x86d)===_0x2d035f&&(_0x166763=this[_0xf9edb7(0x22a)][_0xf9edb7(0x68b)]),_0x34eb03[_0xf9edb7(0xdc)](new _0xe70d18(_0x166763));}const _0xf1cb47=new this[(_0xf9edb7(0x58d))][(_0xf9edb7(0x3f0))](),_0xb7c824=new this[(_0xf9edb7(0x58d))][(_0xf9edb7(0x178))](this[_0xf9edb7(0x22a)]['openaiApiKey']),_0x363f55=new this[(_0xf9edb7(0x58d))][(_0xf9edb7(0x120))]();let _0x4ac016,_0x3f130f,_0x349eeb,_0x2cec73;if(this[_0xf9edb7(0x58d)]['searchConnector']){if(!this[_0xf9edb7(0x22a)][_0xf9edb7(0x28a)])throw new _0x18939c(_0x15d29b[_0xf9edb7(0x4d4)],_0xf9edb7(0x6d1));_0x4ac016=new this[(_0xf9edb7(0x58d))][(_0xf9edb7(0x4af))](this[_0xf9edb7(0x22a)][_0xf9edb7(0x28a)]);}if(this[_0xf9edb7(0x58d)][_0xf9edb7(0x53b)]){if(!this[_0xf9edb7(0x22a)][_0xf9edb7(0x4be)])throw new _0x18939c(_0x15d29b['ApiKeyMissing'],'Missing\x20AI\x20search\x20API\x20key');_0x3f130f=new this[(_0xf9edb7(0x58d))][(_0xf9edb7(0x53b))](this[_0xf9edb7(0x22a)][_0xf9edb7(0x4be)]);}if(this[_0xf9edb7(0x58d)][_0xf9edb7(0xfc)]&&(_0x349eeb=new this[(_0xf9edb7(0x58d))][(_0xf9edb7(0xfc))]()),this['options'][_0xf9edb7(0x34c)]){if(!this[_0xf9edb7(0x22a)][_0xf9edb7(0x712)])throw new _0x18939c(_0x15d29b[_0xf9edb7(0x4d4)],_0xf9edb7(0x7bc));_0x2cec73=new this[(_0xf9edb7(0x58d))][(_0xf9edb7(0x34c))](this[_0xf9edb7(0x22a)][_0xf9edb7(0x712)]);}const _0x25ca5b=await this[_0xf9edb7(0x4cb)]['createGenerativeAIWorker'](_0x14efae,this[_0xf9edb7(0x9b0)],_0x34eb03,_0xf1cb47,_0xb7c824,_0x363f55,_0x4ac016,_0x3f130f,_0x349eeb,_0x2cec73,this['configs'][_0xf9edb7(0x68b)]),_0x21676c=this['connectionManager'][_0xf9edb7(0x5fb)]();this[_0xf9edb7(0x2f3)][_0xf9edb7(0x39f)](_0x25ca5b,_0x21676c),this[_0xf9edb7(0x2f3)]['createIncomingSubscription'](_0x21676c,_0x25ca5b);const _0x4db4ef=this[_0xf9edb7(0x8c7)]['getAncestorIds']();return await _0x25ca5b['open'](0x0===_0x4db4ef['length']||void 0x0),_0x25ca5b;}catch(_0x35b603){throw this['handleError'](_0x35b603,{});}}[_0x120045(0x80e)](_0x29f8f5){const _0x5c98f2=_0x120045;try{if(!this['options']['graphDatabaseConnector'])throw new _0x18939c(_0x15d29b['GraphDatabaseMissingConnector'],_0x5c98f2(0x502));if(!(this[_0x5c98f2(0x9b0)]instanceof _0x59c5d6))throw new _0x18939c(_0x15d29b['NodeInvalidType'],_0x5c98f2(0x4e1));const _0x5e0451=this[_0x5c98f2(0x4cb)][_0x5c98f2(0x360)](_0x29f8f5,this[_0x5c98f2(0x58d)][_0x5c98f2(0x499)]),_0x2e9c71=this[_0x5c98f2(0x13d)][_0x5c98f2(0x5fb)]();return this[_0x5c98f2(0x2f3)][_0x5c98f2(0x39f)](_0x5e0451,_0x2e9c71),this[_0x5c98f2(0x2f3)][_0x5c98f2(0x7a3)](_0x2e9c71,_0x5e0451),_0x5e0451;}catch(_0x17167a){throw this[_0x5c98f2(0x484)](_0x17167a,{});}}[_0x120045(0x4f9)](_0x2e405d){const _0x478e2d=_0x120045;try{if(!this[_0x478e2d(0x58d)][_0x478e2d(0x805)])throw new _0x18939c(_0x15d29b[_0x478e2d(0x88a)],_0x478e2d(0x89c));if(!(this[_0x478e2d(0x9b0)]instanceof _0x59c5d6))throw new _0x18939c(_0x15d29b[_0x478e2d(0x9b9)],_0x478e2d(0x4e1));const _0x2634f7=this['contentManager'][_0x478e2d(0x4f7)](_0x2e405d,this['options']['vectorDatabaseConnector']),_0x28b733=this['connectionManager'][_0x478e2d(0x5fb)]();return this['subscriptionManager'][_0x478e2d(0x39f)](_0x2634f7,_0x28b733),this[_0x478e2d(0x2f3)][_0x478e2d(0x7a3)](_0x28b733,_0x2634f7),_0x2634f7;}catch(_0x5342a9){throw this[_0x478e2d(0x484)](_0x5342a9,{});}}[_0x120045(0x30c)](_0x458737){const _0x3ee33c=_0x120045;try{return this[_0x3ee33c(0x4cb)][_0x3ee33c(0x30c)](_0x458737);}catch(_0x22281b){throw this[_0x3ee33c(0x484)](_0x22281b,{});}}[_0x120045(0x327)](_0x5ec444){const _0x19c1d3=_0x120045;try{return this[_0x19c1d3(0x4cb)][_0x19c1d3(0x327)](_0x5ec444);}catch(_0x51349c){throw this[_0x19c1d3(0x484)](_0x51349c,{});}}[_0x120045(0x53f)](_0x9aa75e){const _0x592d44=_0x120045;try{return this[_0x592d44(0x4cb)]['getExternalStorageConnections'](_0x9aa75e);}catch(_0x3f796d){throw this[_0x592d44(0x484)](_0x3f796d,{});}}[_0x120045(0x5f4)](_0x4fcefe){const _0x2677b8=_0x120045;try{return this[_0x2677b8(0x4cb)]['getKeyValueDatabases'](_0x4fcefe);}catch(_0x260848){throw this[_0x2677b8(0x484)](_0x260848,{});}}[_0x120045(0x699)](_0x4a4b7d){const _0x47b995=_0x120045;try{return this[_0x47b995(0x4cb)]['getGenerativeAIContexts'](_0x4a4b7d);}catch(_0x4effc7){throw this['handleError'](_0x4effc7,{});}}[_0x120045(0x267)](_0x2d79cd){const _0x3a5085=_0x120045;try{return this[_0x3a5085(0x4cb)][_0x3a5085(0x267)](_0x2d79cd);}catch(_0x17d450){throw this[_0x3a5085(0x484)](_0x17d450,{});}}['getGraphDatabases'](_0x370d2c){const _0x15d21e=_0x120045;try{return this[_0x15d21e(0x4cb)]['getGraphDatabases'](_0x370d2c);}catch(_0x40110e){throw this[_0x15d21e(0x484)](_0x40110e,{});}}[_0x120045(0x1d5)](_0x26294b,_0x44c150){const _0x4eeaee=_0x120045;if(!this[_0x4eeaee(0x22a)][_0x4eeaee(0x867)][_0x4eeaee(0x82f)](_0x49c71e[_0x4eeaee(0x7f1)]))throw new _0x18939c(_0x15d29b['FeatureNotEnabled'],'MediaStream\x20feature\x20not\x20enabled');try{return this['contentManager'][_0x4eeaee(0x1d5)](_0x26294b,_0x44c150);}catch(_0x103d41){throw this[_0x4eeaee(0x484)](_0x103d41,{});}}[_0x120045(0x287)](_0x4d0958,_0x5ecd1a){const _0x123983=_0x120045;if(!this['configs'][_0x123983(0x867)]['includes'](_0x49c71e[_0x123983(0x7f1)]))throw new _0x18939c(_0x15d29b[_0x123983(0x508)],_0x123983(0x4b8));try{return this[_0x123983(0x4cb)][_0x123983(0x287)](_0x4d0958,_0x5ecd1a);}catch(_0x1ffb9a){throw this['handleError'](_0x1ffb9a,{});}}[_0x120045(0x211)](_0x16f77c){const _0x55332f=_0x120045;if(!this['configs']['features'][_0x55332f(0x82f)](_0x49c71e[_0x55332f(0x7f1)]))throw new _0x18939c(_0x15d29b['FeatureNotEnabled'],_0x55332f(0x4b8));try{return this[_0x55332f(0x4cb)]['getLocalMediaStreams'](_0x16f77c);}catch(_0x42fd9f){throw this[_0x55332f(0x484)](_0x42fd9f,{});}}[_0x120045(0x990)](_0x47de67){const _0xd8e086=_0x120045;if(!this[_0xd8e086(0x22a)][_0xd8e086(0x867)][_0xd8e086(0x82f)](_0x49c71e[_0xd8e086(0x7f1)]))throw new _0x18939c(_0x15d29b[_0xd8e086(0x508)],_0xd8e086(0x4b8));try{return this[_0xd8e086(0x4cb)][_0xd8e086(0x990)](_0x47de67);}catch(_0x35ac7d){throw this['handleError'](_0x35ac7d,{});}}[_0x120045(0x377)](_0x4d1dae){const _0x3d355e=_0x120045;try{return this[_0x3d355e(0x4cb)][_0x3d355e(0x377)](_0x4d1dae);}catch(_0x219cfb){throw this['handleError'](_0x219cfb,{});}}[_0x120045(0x749)](_0x2e33a8,_0x400505){return this['nodeManager']['getDistance'](_0x2e33a8,_0x400505);}['getLocalNode'](){const _0xf46b84=_0x120045;return this[_0xf46b84(0x8c7)][_0xf46b84(0x567)]();}[_0x120045(0x963)](_0x302b74){const _0x41fe74=_0x120045;try{return this['nodeManager'][_0x41fe74(0x963)](_0x302b74);}catch(_0xacb646){throw this[_0x41fe74(0x484)](_0xacb646,{});}}[_0x120045(0xa17)](){const _0x2de9ae=_0x120045;return this[_0x2de9ae(0x13d)][_0x2de9ae(0xa17)]();}[_0x120045(0xa37)](_0x2f7229){const _0x385219=_0x120045;return this[_0x385219(0x8c7)][_0x385219(0xa37)](_0x2f7229);}async[_0x120045(0x766)](_0x32f2d4){const _0x5acf15=_0x120045;try{if(_0x1b1d61[_0x5acf15(0xed)](_0x185607['Events'],_0x5acf15(0x110),this[_0x5acf15(0x8c7)][_0x5acf15(0x67f)](),_0x32f2d4),_0x59230a(_0x32f2d4,this[_0x5acf15(0x8c7)][_0x5acf15(0x67f)]()))return void this['connectionManager'][_0x5acf15(0x845)](_0x32f2d4);switch(_0x32f2d4[_0x5acf15(0x5cd)]){case _0x435438[_0x5acf15(0x9a6)]:this[_0x5acf15(0x1d1)][_0x5acf15(0x7b1)](_0x32f2d4),this[_0x5acf15(0x2f3)]['handleContentSystemEvents'](_0x32f2d4),this[_0x5acf15(0x4cb)][_0x5acf15(0x7b1)](_0x32f2d4);break;case _0x435438['Node']:this[_0x5acf15(0x2f3)][_0x5acf15(0x1be)](_0x32f2d4),this[_0x5acf15(0x13d)][_0x5acf15(0x1be)](_0x32f2d4),this[_0x5acf15(0x4cb)][_0x5acf15(0x1be)](_0x32f2d4),this[_0x5acf15(0x8c7)][_0x5acf15(0x1be)](_0x32f2d4);break;case _0x435438[_0x5acf15(0x125)]:this['remediationManager']['handleDetectionSystemEvents'](_0x32f2d4);break;case _0x435438[_0x5acf15(0x8f1)]:this[_0x5acf15(0xa15)]['handleRemediationSystemEvents'](_0x32f2d4);break;case _0x435438['Stats']:this[_0x5acf15(0x82e)][_0x5acf15(0x79e)](_0x32f2d4);break;case _0x435438[_0x5acf15(0x9d2)]:_0x32f2d4[_0x5acf15(0x477)][_0x5acf15(0x7f3)]!==_0x5d00e2[_0x5acf15(0x9a4)]?(this[_0x5acf15(0x2f3)]['handleSubscriptionSystemEvents'](_0x32f2d4),this[_0x5acf15(0x4cb)][_0x5acf15(0xa56)](_0x32f2d4)):(this[_0x5acf15(0x4cb)][_0x5acf15(0xa56)](_0x32f2d4),this[_0x5acf15(0x2f3)][_0x5acf15(0xa56)](_0x32f2d4));break;case _0x435438[_0x5acf15(0x122)]:await this[_0x5acf15(0x13d)]['handlePeerConnectionSystemEvents'](_0x32f2d4),this[_0x5acf15(0x1d1)][_0x5acf15(0x2d0)](_0x32f2d4),this[_0x5acf15(0x8c7)][_0x5acf15(0x2d0)](_0x32f2d4),this[_0x5acf15(0x2f3)]['handlePeerConnectionSystemEvents'](_0x32f2d4);}}catch(_0x4bb59f){throw _0x1b1d61[_0x5acf15(0xa39)]('handleSystemEvents',_0x4bb59f),this[_0x5acf15(0x484)](_0x4bb59f,{});}}[_0x120045(0x484)](_0x3fe94a,_0x585a98){const _0x1f7d4f=_0x120045;if(!(_0x3fe94a instanceof _0x602078)){if(_0x3fe94a instanceof _0x18939c)throw _0x3fe94a;if(!(_0x3fe94a instanceof Error))throw new _0x18939c(_0x15d29b[_0x1f7d4f(0x2e9)],_0x1f7d4f(0x1de)+_0x3fe94a);if(!(_0x3fe94a instanceof _0x4a916f))throw new _0x18939c(_0x15d29b[_0x1f7d4f(0x2e9)],_0x1f7d4f(0x305)+_0x3fe94a['message']);switch(_0x3fe94a[_0x1f7d4f(0x626)]){case _0x4a916f[_0x1f7d4f(0xa30)][_0x1f7d4f(0x46f)]:case _0x4a916f[_0x1f7d4f(0xa30)][_0x1f7d4f(0x47f)]:case _0x4a916f[_0x1f7d4f(0xa30)]['PeerConnectionInvalidDestination']:case _0x4a916f['codes'][_0x1f7d4f(0x578)]:case _0x4a916f[_0x1f7d4f(0xa30)][_0x1f7d4f(0x5fc)]:case _0x4a916f['codes'][_0x1f7d4f(0x9dd)]:case _0x4a916f[_0x1f7d4f(0xa30)][_0x1f7d4f(0x4ef)]:case _0x4a916f[_0x1f7d4f(0xa30)][_0x1f7d4f(0x9c8)]:case _0x4a916f['codes'][_0x1f7d4f(0x98f)]:case _0x4a916f[_0x1f7d4f(0xa30)][_0x1f7d4f(0x99e)]:case _0x4a916f[_0x1f7d4f(0xa30)][_0x1f7d4f(0x4a2)]:case _0x4a916f['codes'][_0x1f7d4f(0x877)]:}throw _0x1b1d61[_0x1f7d4f(0x525)](_0x1f7d4f(0x1ec)+_0x3fe94a[_0x1f7d4f(0x1b4)],{'clusterId':this[_0x1f7d4f(0xea)],'nodeId':this[_0x1f7d4f(0x781)]['getId'](),'nodeType':this['localNode'][_0x1f7d4f(0x7f3)]},_0x3fe94a),new _0x18939c(_0x15d29b[_0x1f7d4f(0x2e9)],_0x1f7d4f(0x13b)+_0x3fe94a[_0x1f7d4f(0x1b4)]);}}['getConfigs'](){const _0x5f5b00=_0x120045;return{'mediator':this,'vendorId':this[_0x5f5b00(0x11b)],'clusterId':this[_0x5f5b00(0xea)],'localNode':this[_0x5f5b00(0x781)]};}[_0x120045(0x167)](){const _0x548620=_0x120045;return this['systemTopic'][_0x548620(0x8f0)](_0x4449cb=>{const _0x16cd46=_0x548620,_0x3e2ef4=_0x6cdee6(_0x4449cb,this[_0x16cd46(0x781)][_0x16cd46(0xd7)]()),_0x1880de=_0x4449cb['messageType']===_0x435438[_0x16cd46(0x43b)]||_0x4449cb[_0x16cd46(0x5cd)]===_0x435438[_0x16cd46(0x122)]&&_0x4449cb[_0x16cd46(0x477)]['type']===_0x55ce1f[_0x16cd46(0x43b)]?_0x185607['SystemStats']:_0x185607['System'];_0x1b1d61[_0x16cd46(0x541)](_0x1880de,_0x4449cb[_0x16cd46(0x43f)]+_0x16cd46(0x723)+_0x3e2ef4,_0x4449cb),this[_0x16cd46(0x766)](_0x4449cb)[_0x16cd46(0x6aa)](_0x458864=>{const _0x1378b3=_0x16cd46;console[_0x1378b3(0x525)](_0x458864);});});}async[_0x120045(0x7aa)](_0x5a624c){const _0x42b409=_0x120045,{timingLogger:_0x1b47c8,logger:_0x483590,logBeforeSync:_0x4107b,logAfterSync:_0x282919}=function(_0x3b5840,_0x41eb78){const _0x2c6558=a0_0x573a;if(!_0x1b1d61[_0x2c6558(0xf6)](_0x41eb78))return _0x1b1d61[_0x2c6558(0xa39)](_0x2c6558(0x882)+_0x41eb78),{..._0x4bd61a(_0x3b5840,_0x41eb78),'syncStartTime':0x0,'logBeforeSync':()=>0x0,'logAfterSync':()=>{}};const {timingLogger:_0x2cf692,logger:_0x5e8e60}=_0x4bd61a(_0x3b5840,_0x41eb78);let _0x1b25c5=0x0;return _0x1b25c5=Date[_0x2c6558(0x9e1)](),{'syncStartTime':_0x1b25c5,'timingLogger':_0x2cf692,'logger':_0x5e8e60,'logBeforeSync':()=>(_0x51a940(_0x41eb78,_0x2c6558(0x804)),_0x2cf692[_0x2c6558(0x9e1)]()),'logAfterSync':(_0x482301,_0x587d16)=>{const _0x5c4f49=_0x2c6558,_0x4db068=Date[_0x5c4f49(0x9e1)]();_0x51a940(_0x41eb78,_0x5c4f49(0x9f5)+_0x587d16);const _0xbcbbb1=(_0x4db068-_0x1b25c5)/0x3e8,_0x333ecb=(_0x4db068-_0x482301)/0x3e8;_0x1b1d61['log'](_0x41eb78,'KeyValueDatabase\x20-\x20Sync\x20completed',_0x3b5840,_0x5c4f49(0x7d3)+_0xbcbbb1['toFixed'](0x2)+'\x20seconds','\x0a\x20===\x20Wait\x20Time:\x20'+_0x333ecb[_0x5c4f49(0x45b)](0x3)+_0x5c4f49(0xd8),_0x5c4f49(0x4dc)+((_0x4db068-_0x1b25c5)/0x3e8-_0x333ecb)[_0x5c4f49(0x45b)](0x2)+_0x5c4f49(0xd8));}};}(_0x5a624c[_0x42b409(0x8a0)](),_0x185607[_0x42b409(0x8bf)]);_0x483590[_0x42b409(0xed)](_0x42b409(0x583));const _0x5aa380=this[_0x42b409(0x8c7)][_0x42b409(0x8ae)]()['length']>0x0;if(_0x5aa380){_0x483590[_0x42b409(0xed)](_0x42b409(0x2c2),()=>this[_0x42b409(0x8c7)]['getAncestorIds']()),_0x1b47c8[_0x42b409(0x3c7)](),await Promise[_0x42b409(0x5dd)](this[_0x42b409(0x8c7)]['getAncestorIds']()[_0x42b409(0x760)](async _0x46ffe3=>await this[_0x42b409(0x8c7)]['isNodeReady'](_0x46ffe3)))[_0x42b409(0x6aa)](_0x3cdf77=>_0x1b1d61[_0x42b409(0x87e)](_0x42b409(0x523),{'nodeId':this[_0x42b409(0x781)][_0x42b409(0xd7)](),'nodeType':this['localNode']['type']}));const _0x5368c3=_0x483590[_0x42b409(0x648)](()=>this['nodeManager']['getAncestorIds'](),[]);_0x1b47c8['logWaitTime'](_0x42b409(0x5c4)+_0x5368c3+_0x42b409(0x270));}_0x282919(_0x4107b(),await _0x5a624c['sync'](_0x5aa380,async()=>{const _0x5bca98=_0x42b409;_0x1b47c8['start'](),await this[_0x5bca98(0x8c7)]['isReady'](),_0x1b47c8[_0x5bca98(0x373)](_0x5bca98(0x1e8)),_0x5a624c[_0x5bca98(0x42e)](!0x0,()=>{const _0x20f8b4=_0x5bca98;_0x483590['log'](_0x20f8b4(0x7ab)),_0x5a624c[_0x20f8b4(0x42e)](!0x1);},!0x0);}));}}class _0x4968c3{[_0x120045(0x11b)];[_0x120045(0xea)];[_0x120045(0x9b0)];[_0x120045(0x800)];['orchestrator'];constructor(_0x8e8119,_0x475372,_0x263a5b,_0x3aeadc,_0x3bd7fc,_0x27a6c0,_0x5d22cc=new _0x5d6582()){const _0x582ee2=_0x120045;this[_0x582ee2(0x11b)]=_0x8e8119,this[_0x582ee2(0xea)]=_0x475372,this[_0x582ee2(0x9b0)]=_0x263a5b,this[_0x582ee2(0x800)]=_0x5d22cc,this[_0x582ee2(0x93c)]=new _0x43121f(this[_0x582ee2(0x11b)],this[_0x582ee2(0xea)],_0x263a5b,_0x3aeadc,_0x3bd7fc,_0x27a6c0,this);}async['join'](){const _0x5eab17=_0x120045;await this[_0x5eab17(0x93c)]['initialize'](),this['authNode'][_0x5eab17(0x7f3)]===_0x4e2564['NodeType']['User']&&this[_0x5eab17(0x9b0)][_0x5eab17(0x916)](this[_0x5eab17(0xea)],_0x3dae17=>{const _0xb16ded=_0x5eab17;this[_0xb16ded(0x93c)][_0xb16ded(0x725)](_0x3dae17);});}[_0x120045(0x7fb)](_0x531814={}){const _0x75b9e3=_0x120045;this['orchestrator']['close'](_0x531814),this[_0x75b9e3(0x9b0)][_0x75b9e3(0x7f3)]===_0x4e2564[_0x75b9e3(0x9cd)][_0x75b9e3(0x4b1)]&&this[_0x75b9e3(0x9b0)][_0x75b9e3(0x575)](this[_0x75b9e3(0xea)]),this[_0x75b9e3(0x801)](_0x75b9e3(0x69c),void 0x0);}['openPubSubTopic'](_0x3cd09e){const _0x1a81a7=_0x120045,_0x14a0b1=this[_0x1a81a7(0x93c)][_0x1a81a7(0x446)](_0x3cd09e);return{'getName':_0x14a0b1[_0x1a81a7(0xd1)][_0x1a81a7(0xa66)](_0x14a0b1),'getOwnerId':_0x14a0b1[_0x1a81a7(0x711)][_0x1a81a7(0xa66)](_0x14a0b1),'getContentType':_0x14a0b1[_0x1a81a7(0x729)]['bind'](_0x14a0b1),'publish':_0x14a0b1[_0x1a81a7(0x552)][_0x1a81a7(0xa66)](_0x14a0b1),'subscribe':_0x14a0b1['subscribe']['bind'](_0x14a0b1),'unsubscribe':_0x14a0b1[_0x1a81a7(0x236)][_0x1a81a7(0xa66)](_0x14a0b1),'close':_0x14a0b1[_0x1a81a7(0x1c1)][_0x1a81a7(0xa66)](_0x14a0b1)};}async[_0x120045(0x21a)](_0x17ee1f,_0x3bedfe){const _0x5cc4fc=_0x120045,_0x595e8=await this['orchestrator'][_0x5cc4fc(0x21a)](_0x17ee1f,_0x3bedfe);return{'getName':_0x595e8['getName'][_0x5cc4fc(0xa66)](_0x595e8),'getOwnerId':_0x595e8['getOwnerId'][_0x5cc4fc(0xa66)](_0x595e8),'getContentType':_0x595e8[_0x5cc4fc(0x729)]['bind'](_0x595e8),'publish':_0x595e8[_0x5cc4fc(0x552)]['bind'](_0x595e8),'unpublish':_0x595e8['unpublish'][_0x5cc4fc(0xa66)](_0x595e8),'get':_0x595e8['get'][_0x5cc4fc(0xa66)](_0x595e8),'list':_0x595e8[_0x5cc4fc(0x100)][_0x5cc4fc(0xa66)](_0x595e8),'getSize':_0x595e8[_0x5cc4fc(0x356)]['bind'](_0x595e8),'subscribe':_0x595e8['subscribe']['bind'](_0x595e8),'unsubscribe':_0x595e8['unsubscribe'][_0x5cc4fc(0xa66)](_0x595e8),'close':_0x595e8[_0x5cc4fc(0x1c1)]['bind'](_0x595e8)};}async[_0x120045(0x710)](_0x127b2d,_0x2b9bcd){const _0xe77adc=_0x120045,_0x3e9fa6=await this[_0xe77adc(0x93c)]['openExternalStorageConnection'](_0x127b2d,_0x2b9bcd);return{'getName':_0x3e9fa6[_0xe77adc(0xd1)]['bind'](_0x3e9fa6),'getOwnerId':_0x3e9fa6[_0xe77adc(0x711)][_0xe77adc(0xa66)](_0x3e9fa6),'getContentType':_0x3e9fa6[_0xe77adc(0x729)][_0xe77adc(0xa66)](_0x3e9fa6),'close':_0x3e9fa6[_0xe77adc(0x1c1)][_0xe77adc(0xa66)](_0x3e9fa6),'get':_0x3e9fa6[_0xe77adc(0x7e9)][_0xe77adc(0xa66)](_0x3e9fa6),'list':_0x3e9fa6[_0xe77adc(0x100)][_0xe77adc(0xa66)](_0x3e9fa6),'subscribe':_0x3e9fa6['subscribe']['bind'](_0x3e9fa6),'unsubscribe':_0x3e9fa6[_0xe77adc(0x236)][_0xe77adc(0xa66)](_0x3e9fa6)};}async['openKeyValueDatabase'](_0x5763fb,_0x27d3fb,_0x3b755a){const _0x4cf8a6=_0x120045,_0x2f50d4=await this[_0x4cf8a6(0x93c)]['openKeyValueDatabase'](_0x5763fb,_0x27d3fb,_0x3b755a);return{'getName':_0x2f50d4[_0x4cf8a6(0xd1)][_0x4cf8a6(0xa66)](_0x2f50d4),'getOwnerId':_0x2f50d4[_0x4cf8a6(0x711)][_0x4cf8a6(0xa66)](_0x2f50d4),'getContentType':_0x2f50d4['getContentType'][_0x4cf8a6(0xa66)](_0x2f50d4),'getTable':_0x2f50d4[_0x4cf8a6(0x401)][_0x4cf8a6(0xa66)](_0x2f50d4),'subscribe':_0x2f50d4['subscribe'][_0x4cf8a6(0xa66)](_0x2f50d4),'unsubscribe':_0x2f50d4['unsubscribe'][_0x4cf8a6(0xa66)](_0x2f50d4),'close':_0x2f50d4[_0x4cf8a6(0x1c1)][_0x4cf8a6(0xa66)](_0x2f50d4)};}async['openJobDispatcher'](_0x181890){const _0x3ddb50=_0x120045,_0x52a288=await this[_0x3ddb50(0x93c)]['openJobDispatcher'](_0x181890);return{'getName':_0x52a288[_0x3ddb50(0xd1)][_0x3ddb50(0xa66)](_0x52a288),'getOwnerId':_0x52a288['getOwnerId'][_0x3ddb50(0xa66)](_0x52a288),'getContentType':_0x52a288['getContentType'][_0x3ddb50(0xa66)](_0x52a288),'createJob':_0x52a288[_0x3ddb50(0xa46)]['bind'](_0x52a288),'getJob':_0x52a288[_0x3ddb50(0x439)]['bind'](_0x52a288),'getJobs':_0x52a288[_0x3ddb50(0x8b2)][_0x3ddb50(0xa66)](_0x52a288),'close':_0x52a288[_0x3ddb50(0x1c1)][_0x3ddb50(0xa66)](_0x52a288)};}async[_0x120045(0x76e)](_0x178281){const _0x30f4fb=_0x120045,_0x3bc96d=await this[_0x30f4fb(0x93c)][_0x30f4fb(0x76e)](_0x178281);return{'close':_0x3bc96d[_0x30f4fb(0x1c1)][_0x30f4fb(0xa66)](_0x3bc96d)};}async[_0x120045(0x951)](_0x4d6085){const _0x2ff27a=_0x120045,_0x500d3a=await this[_0x2ff27a(0x93c)][_0x2ff27a(0x951)](_0x4d6085);return{'createAIJob':_0x500d3a[_0x2ff27a(0x3a9)][_0x2ff27a(0xa66)](_0x500d3a),'getDataBucketIds':_0x500d3a[_0x2ff27a(0x4de)][_0x2ff27a(0xa66)](_0x500d3a),'close':_0x500d3a[_0x2ff27a(0x1c1)][_0x2ff27a(0xa66)](_0x500d3a)};}async['openGenerativeAIWorker'](_0x2bbccc){const _0x20aaac=_0x120045,_0x215309=await this[_0x20aaac(0x93c)][_0x20aaac(0x15e)](_0x2bbccc);return{'close':_0x215309[_0x20aaac(0x1c1)][_0x20aaac(0xa66)](_0x215309)};}[_0x120045(0x80e)](_0x5d3baa){const _0x23fd38=_0x120045,_0x1c66bd=this[_0x23fd38(0x93c)][_0x23fd38(0x80e)](_0x5d3baa);return{'getName':_0x1c66bd[_0x23fd38(0xd1)][_0x23fd38(0xa66)](_0x1c66bd),'getOwnerId':_0x1c66bd[_0x23fd38(0x711)][_0x23fd38(0xa66)](_0x1c66bd),'getContentType':_0x1c66bd[_0x23fd38(0x729)][_0x23fd38(0xa66)](_0x1c66bd),'addNode':_0x1c66bd[_0x23fd38(0x378)][_0x23fd38(0xa66)](_0x1c66bd),'addEdge':_0x1c66bd[_0x23fd38(0x4a5)][_0x23fd38(0xa66)](_0x1c66bd),'getContent':_0x1c66bd['getContent']['bind'](_0x1c66bd),'remove':_0x1c66bd[_0x23fd38(0x707)][_0x23fd38(0xa66)](_0x1c66bd),'saveToDisk':_0x1c66bd['saveToDisk'][_0x23fd38(0xa66)](_0x1c66bd),'loadFromDisk':_0x1c66bd[_0x23fd38(0x8aa)][_0x23fd38(0xa66)](_0x1c66bd),'close':_0x1c66bd[_0x23fd38(0x1c1)][_0x23fd38(0xa66)](_0x1c66bd)};}['openVectorDatabase'](_0x28eeac){const _0x53fe55=_0x120045,_0x336063=this['orchestrator'][_0x53fe55(0x4f9)](_0x28eeac);return{'getName':_0x336063[_0x53fe55(0xd1)]['bind'](_0x336063),'getOwnerId':_0x336063['getOwnerId'][_0x53fe55(0xa66)](_0x336063),'getContentType':_0x336063[_0x53fe55(0x729)]['bind'](_0x336063),'search':_0x336063[_0x53fe55(0x2de)]['bind'](_0x336063),'insert':_0x336063[_0x53fe55(0xa1e)][_0x53fe55(0xa66)](_0x336063),'remove':_0x336063[_0x53fe55(0x707)][_0x53fe55(0xa66)](_0x336063),'saveToDisk':_0x336063[_0x53fe55(0x6ed)][_0x53fe55(0xa66)](_0x336063),'loadFromDisk':_0x336063[_0x53fe55(0x8aa)]['bind'](_0x336063),'close':_0x336063[_0x53fe55(0x1c1)][_0x53fe55(0xa66)](_0x336063)};}['getPubSubTopics'](_0x1c1d72){const _0xdf55e0=_0x120045;return this[_0xdf55e0(0x93c)][_0xdf55e0(0x30c)](_0x1c1d72)[_0xdf55e0(0x760)](_0x194dd7=>({'getName':_0x194dd7['getName'][_0xdf55e0(0xa66)](_0x194dd7),'getOwnerId':_0x194dd7[_0xdf55e0(0x711)]['bind'](_0x194dd7),'getContentType':_0x194dd7[_0xdf55e0(0x729)][_0xdf55e0(0xa66)](_0x194dd7),'publish':_0x194dd7[_0xdf55e0(0x552)][_0xdf55e0(0xa66)](_0x194dd7),'subscribe':_0x194dd7[_0xdf55e0(0x8f0)]['bind'](_0x194dd7),'unsubscribe':_0x194dd7[_0xdf55e0(0x236)]['bind'](_0x194dd7),'close':_0x194dd7[_0xdf55e0(0x1c1)][_0xdf55e0(0xa66)](_0x194dd7)}));}['getObjectStoreBuckets'](_0x62ebdf){const _0x1c8b66=_0x120045;return this[_0x1c8b66(0x93c)][_0x1c8b66(0x327)](_0x62ebdf)[_0x1c8b66(0x760)](_0x2ed44c=>({'getName':_0x2ed44c[_0x1c8b66(0xd1)]['bind'](_0x2ed44c),'getOwnerId':_0x2ed44c['getOwnerId']['bind'](_0x2ed44c),'getContentType':_0x2ed44c[_0x1c8b66(0x729)][_0x1c8b66(0xa66)](_0x2ed44c),'publish':_0x2ed44c[_0x1c8b66(0x552)][_0x1c8b66(0xa66)](_0x2ed44c),'unpublish':_0x2ed44c[_0x1c8b66(0x156)][_0x1c8b66(0xa66)](_0x2ed44c),'get':_0x2ed44c[_0x1c8b66(0x7e9)][_0x1c8b66(0xa66)](_0x2ed44c),'list':_0x2ed44c[_0x1c8b66(0x100)][_0x1c8b66(0xa66)](_0x2ed44c),'getSize':_0x2ed44c[_0x1c8b66(0x356)][_0x1c8b66(0xa66)](_0x2ed44c),'subscribe':_0x2ed44c['subscribe'][_0x1c8b66(0xa66)](_0x2ed44c),'unsubscribe':_0x2ed44c['unsubscribe']['bind'](_0x2ed44c),'close':_0x2ed44c[_0x1c8b66(0x1c1)][_0x1c8b66(0xa66)](_0x2ed44c)}));}['getExternalStorageConnections'](_0x2c301b){const _0x600d46=_0x120045;return this[_0x600d46(0x93c)][_0x600d46(0x53f)](_0x2c301b)[_0x600d46(0x760)](_0x4248f2=>({'getName':_0x4248f2[_0x600d46(0xd1)][_0x600d46(0xa66)](_0x4248f2),'getOwnerId':_0x4248f2[_0x600d46(0x711)][_0x600d46(0xa66)](_0x4248f2),'getContentType':_0x4248f2[_0x600d46(0x729)][_0x600d46(0xa66)](_0x4248f2),'close':_0x4248f2[_0x600d46(0x1c1)]['bind'](_0x4248f2),'get':_0x4248f2[_0x600d46(0x7e9)][_0x600d46(0xa66)](_0x4248f2),'list':_0x4248f2[_0x600d46(0x100)][_0x600d46(0xa66)](_0x4248f2),'subscribe':_0x4248f2['subscribe'][_0x600d46(0xa66)](_0x4248f2),'unsubscribe':_0x4248f2[_0x600d46(0x236)][_0x600d46(0xa66)](_0x4248f2)}));}[_0x120045(0x5f4)](_0xc69d6b){const _0x44b62b=_0x120045;return this['orchestrator']['getKeyValueDatabases'](_0xc69d6b)['map'](_0x109e08=>({'getName':_0x109e08['getName'][_0x44b62b(0xa66)](_0x109e08),'getOwnerId':_0x109e08['getOwnerId'][_0x44b62b(0xa66)](_0x109e08),'getContentType':_0x109e08['getContentType'][_0x44b62b(0xa66)](_0x109e08),'getTable':_0x109e08[_0x44b62b(0x401)][_0x44b62b(0xa66)](_0x109e08),'subscribe':_0x109e08['subscribe']['bind'](_0x109e08),'unsubscribe':_0x109e08[_0x44b62b(0x236)][_0x44b62b(0xa66)](_0x109e08),'close':_0x109e08[_0x44b62b(0x1c1)][_0x44b62b(0xa66)](_0x109e08)}));}[_0x120045(0x699)](_0x41fe8c){const _0x41cabb=_0x120045;return this['orchestrator'][_0x41cabb(0x699)](_0x41fe8c)[_0x41cabb(0x760)](_0x452afd=>({'createAIJob':_0x452afd[_0x41cabb(0x3a9)][_0x41cabb(0xa66)](_0x452afd),'getDataBucketIds':_0x452afd[_0x41cabb(0x4de)][_0x41cabb(0xa66)](_0x452afd),'close':_0x452afd['close']['bind'](_0x452afd)}));}['getGenerativeAIWorkers'](_0x1bd631){const _0x19b78a=_0x120045;return this[_0x19b78a(0x93c)][_0x19b78a(0x267)](_0x1bd631)[_0x19b78a(0x760)](_0x101ec5=>({'close':_0x101ec5['close']['bind'](_0x101ec5)}));}[_0x120045(0x50a)](_0x925ba,_0x146fc8){const _0x51a187=_0x120045,_0x525e88=this['orchestrator'][_0x51a187(0x1d5)](_0x925ba,_0x146fc8);return{'getLabel':_0x525e88[_0x51a187(0x8a0)][_0x51a187(0xa66)](_0x525e88),'getOwnerId':_0x525e88[_0x51a187(0x711)][_0x51a187(0xa66)](_0x525e88),'getContentType':_0x525e88[_0x51a187(0x729)][_0x51a187(0xa66)](_0x525e88),'getMediaStream':_0x525e88[_0x51a187(0x4c7)][_0x51a187(0xa66)](_0x525e88),'setPriority':_0x525e88[_0x51a187(0x26c)][_0x51a187(0xa66)](_0x525e88),'unpublish':_0x525e88[_0x51a187(0x156)][_0x51a187(0xa66)](_0x525e88)};}[_0x120045(0x60b)](_0xaed58c,_0x2ad9ab){const _0x10633b=_0x120045,_0x31c89c=this[_0x10633b(0x93c)][_0x10633b(0x287)](_0xaed58c,_0x2ad9ab);return{'getLabel':_0x31c89c[_0x10633b(0x8a0)][_0x10633b(0xa66)](_0x31c89c),'getOwnerId':_0x31c89c[_0x10633b(0x711)][_0x10633b(0xa66)](_0x31c89c),'getContentType':_0x31c89c[_0x10633b(0x729)][_0x10633b(0xa66)](_0x31c89c),'setPriority':_0x31c89c[_0x10633b(0x26c)][_0x10633b(0xa66)](_0x31c89c),'unpublish':_0x31c89c['unpublish']['bind'](_0x31c89c),'getMediaStream':_0x31c89c[_0x10633b(0x4c7)]['bind'](_0x31c89c),'addTrack':_0x31c89c['addTrack'][_0x10633b(0xa66)](_0x31c89c),'removeTrack':_0x31c89c[_0x10633b(0x269)][_0x10633b(0xa66)](_0x31c89c),'replaceTrack':_0x31c89c[_0x10633b(0xa2f)]['bind'](_0x31c89c),'setTransformations':_0x31c89c[_0x10633b(0x32c)]['bind'](_0x31c89c)};}['getLocalMediaStreams'](_0x3c640a){const _0x2d39c3=_0x120045;return this['orchestrator'][_0x2d39c3(0x211)](_0x3c640a)['map'](_0x52d046=>({'getLabel':_0x52d046[_0x2d39c3(0x8a0)]['bind'](_0x52d046),'getOwnerId':_0x52d046['getOwnerId'][_0x2d39c3(0xa66)](_0x52d046),'getContentType':_0x52d046[_0x2d39c3(0x729)]['bind'](_0x52d046),'getMediaStream':_0x52d046['getMediaStream'][_0x2d39c3(0xa66)](_0x52d046),'setPriority':_0x52d046[_0x2d39c3(0x26c)]['bind'](_0x52d046),'unpublish':_0x52d046['unpublish'][_0x2d39c3(0xa66)](_0x52d046)}));}[_0x120045(0x990)](_0xebc92b){const _0x2cd000=_0x120045;return this[_0x2cd000(0x93c)]['getRemoteMediaStreams'](_0xebc92b)[_0x2cd000(0x760)](_0x497ca2=>({'getLabel':_0x497ca2['getLabel']['bind'](_0x497ca2),'getOwnerId':_0x497ca2[_0x2cd000(0x711)]['bind'](_0x497ca2),'getContentType':_0x497ca2[_0x2cd000(0x729)][_0x2cd000(0xa66)](_0x497ca2),'getMediaStream':_0x497ca2[_0x2cd000(0x4c7)][_0x2cd000(0xa66)](_0x497ca2),'subscribe':_0x497ca2[_0x2cd000(0x8f0)]['bind'](_0x497ca2),'unsubscribe':_0x497ca2[_0x2cd000(0x236)][_0x2cd000(0xa66)](_0x497ca2),'getAvailableTrackKinds':_0x497ca2[_0x2cd000(0x853)][_0x2cd000(0xa66)](_0x497ca2),'update':_0x497ca2[_0x2cd000(0x245)][_0x2cd000(0xa66)](_0x497ca2),'onProviderChange':_0x497ca2[_0x2cd000(0x5bf)][_0x2cd000(0xa66)](_0x497ca2)}));}[_0x120045(0x96a)](_0x39e8dd){const _0x42d90f=_0x120045;return this['orchestrator'][_0x42d90f(0x96a)](_0x39e8dd)['map'](_0x2f802c=>({'getName':_0x2f802c[_0x42d90f(0xd1)][_0x42d90f(0xa66)](_0x2f802c),'getOwnerId':_0x2f802c[_0x42d90f(0x711)][_0x42d90f(0xa66)](_0x2f802c),'getContentType':_0x2f802c['getContentType'][_0x42d90f(0xa66)](_0x2f802c),'addNode':_0x2f802c[_0x42d90f(0x378)][_0x42d90f(0xa66)](_0x2f802c),'addEdge':_0x2f802c[_0x42d90f(0x4a5)][_0x42d90f(0xa66)](_0x2f802c),'getContent':_0x2f802c['getContent']['bind'](_0x2f802c),'remove':_0x2f802c[_0x42d90f(0x707)]['bind'](_0x2f802c),'saveToDisk':_0x2f802c[_0x42d90f(0x6ed)][_0x42d90f(0xa66)](_0x2f802c),'loadFromDisk':_0x2f802c[_0x42d90f(0x8aa)][_0x42d90f(0xa66)](_0x2f802c),'close':_0x2f802c[_0x42d90f(0x1c1)][_0x42d90f(0xa66)](_0x2f802c)}));}[_0x120045(0x377)](_0x34c632){const _0x342f90=_0x120045;return this[_0x342f90(0x93c)]['getVectorDatabases'](_0x34c632)[_0x342f90(0x760)](_0x201f90=>({'getName':_0x201f90[_0x342f90(0xd1)][_0x342f90(0xa66)](_0x201f90),'getOwnerId':_0x201f90['getOwnerId'][_0x342f90(0xa66)](_0x201f90),'getContentType':_0x201f90[_0x342f90(0x729)][_0x342f90(0xa66)](_0x201f90),'search':_0x201f90[_0x342f90(0x2de)]['bind'](_0x201f90),'insert':_0x201f90[_0x342f90(0xa1e)][_0x342f90(0xa66)](_0x201f90),'remove':_0x201f90[_0x342f90(0x707)][_0x342f90(0xa66)](_0x201f90),'saveToDisk':_0x201f90['saveToDisk']['bind'](_0x201f90),'loadFromDisk':_0x201f90['loadFromDisk']['bind'](_0x201f90),'close':_0x201f90[_0x342f90(0x1c1)][_0x342f90(0xa66)](_0x201f90)}));}[_0x120045(0x567)](){const _0x2f67b8=_0x120045,_0x53b69a=this['orchestrator'][_0x2f67b8(0x567)]();switch(_0x53b69a['type']){case _0x4e2564[_0x2f67b8(0x9cd)][_0x2f67b8(0x4b1)]:return{'type':_0x4e2564[_0x2f67b8(0x9cd)][_0x2f67b8(0x4b1)],'getId':_0x53b69a[_0x2f67b8(0xd7)][_0x2f67b8(0xa66)](_0x53b69a),'getDisplayName':_0x53b69a[_0x2f67b8(0x665)][_0x2f67b8(0xa66)](_0x53b69a),'getEmail':_0x53b69a[_0x2f67b8(0x659)][_0x2f67b8(0xa66)](_0x53b69a),'getRemoteConnections':_0x53b69a[_0x2f67b8(0x18a)]['bind'](_0x53b69a),'setDisplayName':_0x53b69a[_0x2f67b8(0x8dd)][_0x2f67b8(0xa66)](_0x53b69a),'setEmail':_0x53b69a[_0x2f67b8(0x234)][_0x2f67b8(0xa66)](_0x53b69a)};case _0x4e2564[_0x2f67b8(0x9cd)][_0x2f67b8(0x580)]:default:return{'type':_0x4e2564[_0x2f67b8(0x9cd)]['Agent'],'getId':_0x53b69a['getId'][_0x2f67b8(0xa66)](_0x53b69a),'getRemoteConnections':_0x53b69a[_0x2f67b8(0x18a)][_0x2f67b8(0xa66)](_0x53b69a)};}}['getRemoteNodes'](_0x48881e){const _0x2401bc=_0x120045;return this['orchestrator'][_0x2401bc(0x963)](_0x48881e)[_0x2401bc(0x760)](_0x4614c3=>{const _0x5d9d7c=_0x2401bc;switch(_0x4614c3[_0x5d9d7c(0x7f3)]){case _0x4e2564[_0x5d9d7c(0x9cd)][_0x5d9d7c(0x4b1)]:return{'type':_0x4e2564[_0x5d9d7c(0x9cd)][_0x5d9d7c(0x4b1)],'getId':_0x4614c3[_0x5d9d7c(0xd7)][_0x5d9d7c(0xa66)](_0x4614c3),'getDisplayName':_0x4614c3['getDisplayName'][_0x5d9d7c(0xa66)](_0x4614c3),'getEmail':_0x4614c3['getEmail'][_0x5d9d7c(0xa66)](_0x4614c3),'getRemoteConnections':_0x4614c3[_0x5d9d7c(0x18a)][_0x5d9d7c(0xa66)](_0x4614c3)};case _0x4e2564['NodeType'][_0x5d9d7c(0x580)]:return{'type':_0x4e2564[_0x5d9d7c(0x9cd)]['Agent'],'getId':_0x4614c3[_0x5d9d7c(0xd7)][_0x5d9d7c(0xa66)](_0x4614c3),'getRemoteConnections':_0x4614c3[_0x5d9d7c(0x18a)][_0x5d9d7c(0xa66)](_0x4614c3)};default:throw new _0x18939c(_0x15d29b[_0x5d9d7c(0x9b9)],_0x5d9d7c(0x325));}});}['on']=(..._0xbdfaa)=>{const _0x46f59e=_0x120045;this[_0x46f59e(0x800)]['on'](..._0xbdfaa);};[_0x120045(0x801)]=(..._0x30b208)=>this[_0x120045(0x800)][_0x120045(0x801)](..._0x30b208);[_0x120045(0x959)](..._0x3ca4dd){const _0x198395=_0x120045;this[_0x198395(0x800)]['off'](..._0x3ca4dd);}}class _0x470eb8{['id'];[_0x120045(0x8ff)];[_0x120045(0xa27)];[_0x120045(0x7f3)]=_0x4e2564[_0x120045(0x9cd)][_0x120045(0x4b1)];[_0x120045(0x217)]=new Map();[_0x120045(0x19e)]=_0x29f207();constructor(_0x3245ba,_0x3e63e7,_0x4750e6){const _0x3591b3=_0x120045;this['id']=_0x3245ba,this[_0x3591b3(0x8ff)]=_0x3e63e7,this[_0x3591b3(0xa27)]=_0x4750e6;}[_0x120045(0xd7)](){return this['id'];}[_0x120045(0x665)](){return this['displayName'];}[_0x120045(0x659)](){const _0x57be38=_0x120045;return this[_0x57be38(0xa27)];}[_0x120045(0x8dd)](_0x245b82){const _0x22fce9=_0x120045;this[_0x22fce9(0x8ff)]!==_0x245b82&&(this[_0x22fce9(0x8ff)]=_0x245b82,this[_0x22fce9(0x19e)][_0x22fce9(0x552)](this));}[_0x120045(0x234)](_0x3be526){const _0x3c3b31=_0x120045;this[_0x3c3b31(0xa27)]!==_0x3be526&&(this[_0x3c3b31(0xa27)]=_0x3be526,this['observer'][_0x3c3b31(0x552)](this));}[_0x120045(0x916)](_0x2869ee,_0x200c85){const _0xb32993=_0x120045;if(this[_0xb32993(0x217)][_0xb32993(0x5a8)](_0x2869ee))return;const _0x3d2c41=this[_0xb32993(0x19e)]['subscribe'](_0x200c85);this['joinedClusters']['set'](_0x2869ee,_0x3d2c41);}[_0x120045(0x575)](_0x24b87c){const _0x414fd5=_0x120045;if(!this[_0x414fd5(0x217)]['has'](_0x24b87c))return;const _0x2f8faa=this['joinedClusters'][_0x414fd5(0x7e9)](_0x24b87c);_0x2f8faa&&_0x2f8faa(),this[_0x414fd5(0x217)]['delete'](_0x24b87c);}}class _0x5481e9{[_0x120045(0x11b)];[_0x120045(0xa5b)];constructor(_0x84379a){const _0x5c95f2=_0x120045;this[_0x5c95f2(0x11b)]=_0x84379a;}async[_0x120045(0xa59)](_0x2b49d0){const _0x5a9e24=_0x120045,_0xc0596b=await(0x0,_0x3a9c7d[_0x5a9e24(0x643)])(_0x2451a5['getFunctions'](),_0x5a9e24(0x8cf))({'uid':'ccc'+this['vendorId']+'ccc'+_0x2b49d0['id']}),_0x44b5e2=await(0x0,_0x2fbcef['signInWithCustomToken'])(_0x2451a5[_0x5a9e24(0x8db)](),_0xc0596b[_0x5a9e24(0x7f6)][_0x5a9e24(0x460)]);this[_0x5a9e24(0xa5b)]=_0x44b5e2[_0x5a9e24(0xa5b)];}async[_0x120045(0x286)](){const _0x1da6d6=_0x120045;await(0x0,_0x2fbcef[_0x1da6d6(0x286)])(_0x2451a5[_0x1da6d6(0x8db)]());}[_0x120045(0x6bd)](){const _0x1ec046=_0x120045;return this[_0x1ec046(0xa5b)]?.['getIdToken']()??Promise[_0x1ec046(0x2c5)](_0x1ec046(0x969));}}class _0x4c1ea9{static [_0x120045(0x115)];[_0x120045(0x233)]=[];constructor(){}static[_0x120045(0x188)](){const _0x425122=_0x120045;return _0x4c1ea9['instance']||(_0x4c1ea9['instance']=new _0x4c1ea9()),_0x4c1ea9[_0x425122(0x115)];}[_0x120045(0x995)](){const _0x24f5f2=_0x120045;this[_0x24f5f2(0x319)](),this['checkMediaStream'](),this[_0x24f5f2(0x404)](),this['checkAudioVolume'](),this[_0x24f5f2(0x764)](),this[_0x24f5f2(0x1f2)](),this['checkMediaRecording'](),this[_0x24f5f2(0x920)](),this[_0x24f5f2(0x89a)](),this[_0x24f5f2(0x134)](),_0x1b1d61['log'](_0x185607['Support'],_0x24f5f2(0x274),{'featureSupport':this[_0x24f5f2(0x233)]});}['isFeatureSupported'](_0x4bcf61){const _0x526b2b=_0x120045,_0x5550e3=this['featureSupport'][_0x526b2b(0x999)](_0x292836=>_0x292836[_0x526b2b(0x5eb)]===_0x4bcf61);return!!_0x5550e3&&_0x5550e3['supported'];}['logSupport'](_0x52c6cf){const _0x5a69b4=_0x120045;_0x1b1d61[_0x5a69b4(0x7f8)](_0x5a69b4(0x1fb),{'nodeId':_0x52c6cf[_0x5a69b4(0xd7)](),'nodeType':_0x52c6cf[_0x5a69b4(0x7f3)],'data':{'featureSupport':this[_0x5a69b4(0x233)]}});}[_0x120045(0x319)](){const _0x480b81=_0x120045,_0x12db4b=_0x2087c1[_0x480b81(0x809)];let _0x43f7cc=!0x1;_0x480b81(0x423)==typeof RTCPeerConnection&&_0x480b81(0x423)==typeof RTCIceCandidate&&_0x480b81(0x423)==typeof RTCSessionDescription?_0x43f7cc=!0x0:_0x1b1d61[_0x480b81(0xed)](_0x185607[_0x480b81(0x64c)],_0x480b81(0x164)+_0x12db4b+_0x480b81(0x563)),this[_0x480b81(0x233)][_0x480b81(0xdc)]({'name':_0x12db4b,'supported':_0x43f7cc});}[_0x120045(0x101)](){const _0x231789=_0x120045,_0x503d13=_0x2087c1[_0x231789(0x7f1)];let _0x3cc8e5=!0x1;'function'==typeof MediaStream&&_0x231789(0x423)==typeof MediaStreamTrack&&_0x231789(0x5be)==typeof navigator&&_0x231789(0x5be)==typeof navigator['mediaDevices']&&'function'==typeof navigator[_0x231789(0x302)]['getUserMedia']?_0x3cc8e5=!0x0:_0x1b1d61['log'](_0x185607[_0x231789(0x64c)],_0x231789(0x164)+_0x503d13+_0x231789(0x563)),this[_0x231789(0x233)][_0x231789(0xdc)]({'name':_0x503d13,'supported':_0x3cc8e5});}[_0x120045(0x404)](){const _0x473802=_0x120045,_0x45481d=_0x2087c1[_0x473802(0x3cd)];let _0x13f175=!0x1;_0x473802(0x5be)==typeof navigator&&_0x473802(0x5be)==typeof navigator[_0x473802(0x302)]&&_0x473802(0x423)==typeof navigator['mediaDevices'][_0x473802(0x83a)]?_0x13f175=!0x0:_0x1b1d61[_0x473802(0xed)](_0x185607[_0x473802(0x64c)],_0x473802(0x164)+_0x45481d+'\x20not\x20supported'),this[_0x473802(0x233)][_0x473802(0xdc)]({'name':_0x45481d,'supported':_0x13f175});}[_0x120045(0x201)](){const _0xe7b93c=_0x120045,_0x11502c=_0x2087c1[_0xe7b93c(0x73a)];let _0x2a1219=!0x1;_0xe7b93c(0x423)!=typeof AudioContext||'function'!=typeof ScriptProcessorNode&&_0xe7b93c(0x423)!=typeof AudioWorkletNode||_0xe7b93c(0x423)!=typeof MediaStreamAudioSourceNode?_0x1b1d61[_0xe7b93c(0xed)](_0x185607[_0xe7b93c(0x64c)],_0xe7b93c(0x164)+_0x11502c+_0xe7b93c(0x563)):_0x2a1219=!0x0,this[_0xe7b93c(0x233)]['push']({'name':_0x11502c,'supported':_0x2a1219});}[_0x120045(0x764)](){const _0x224ec3=_0x120045,_0x71b209=_0x2087c1[_0x224ec3(0x779)];let _0x5d6890=!0x1;_0x224ec3(0x5be)==typeof navigator&&_0x224ec3(0x5be)==typeof navigator[_0x224ec3(0x302)]&&_0x224ec3(0x423)==typeof navigator['mediaDevices'][_0x224ec3(0x5f6)]&&_0x224ec3(0x423)==typeof MediaDeviceInfo?_0x5d6890=!0x0:_0x1b1d61[_0x224ec3(0xed)](_0x185607['Support'],_0x224ec3(0x164)+_0x71b209+_0x224ec3(0x563)),this[_0x224ec3(0x233)][_0x224ec3(0xdc)]({'name':_0x71b209,'supported':_0x5d6890});}['checkAudioOutput'](){const _0x3b4a46=_0x120045,_0x3c3441=_0x2087c1[_0x3b4a46(0x911)];let _0x4be3a8=!0x1;_0x3b4a46(0x5be)==typeof document&&_0x3b4a46(0x423)==typeof document[_0x3b4a46(0x5ff)]('video')[_0x3b4a46(0x964)]?_0x4be3a8=!0x0:_0x1b1d61[_0x3b4a46(0xed)](_0x185607[_0x3b4a46(0x64c)],_0x3b4a46(0x164)+_0x3c3441+_0x3b4a46(0x563)),this[_0x3b4a46(0x233)][_0x3b4a46(0xdc)]({'name':_0x3c3441,'supported':_0x4be3a8});}async[_0x120045(0x44d)](){const _0x2119f1=_0x120045,_0xd555ce=_0x2087c1[_0x2119f1(0x65a)];let _0x32f9b7=!0x1;try{const _0x63608f=document[_0x2119f1(0x5ff)](_0x2119f1(0x4ce));if(MediaRecorder&&MediaSource&&_0x63608f['captureStream']){const _0xd83c70=_0x63608f[_0x2119f1(0x49b)](),_0x1ba8ca=new MediaRecorder(_0xd83c70);_0x1ba8ca[_0x2119f1(0x3c7)](),await new Promise(_0x129c75=>setTimeout(_0x129c75,0x7d0)),_0x1ba8ca[_0x2119f1(0x838)](),_0x32f9b7=_0x2119f1(0x19c)===_0x1ba8ca['state'];}}catch(_0x1d9fa4){_0x1b1d61['log'](_0x185607['Support'],_0x2119f1(0x164)+_0xd555ce+_0x2119f1(0x84f),_0x1d9fa4);}this[_0x2119f1(0x233)][_0x2119f1(0xdc)]({'name':_0xd555ce,'supported':_0x32f9b7}),_0x32f9b7||_0x1b1d61['log'](_0x185607[_0x2119f1(0x64c)],_0x2119f1(0x164)+_0xd555ce+_0x2119f1(0x563));}[_0x120045(0x920)](){const _0x307979=_0x120045,_0x53b4fa=_0x2087c1[_0x307979(0x291)];let _0x270b60=!0x1;try{document['createElement'](_0x307979(0x4ce))[_0x307979(0x49b)]&&(_0x270b60=!0x0);}catch(_0x3168b8){_0x1b1d61[_0x307979(0xed)](_0x185607['Support'],_0x307979(0x164)+_0x53b4fa+_0x307979(0x84f),_0x3168b8);}this[_0x307979(0x233)][_0x307979(0xdc)]({'name':_0x53b4fa,'supported':_0x270b60}),_0x270b60||_0x1b1d61[_0x307979(0xed)](_0x185607[_0x307979(0x64c)],'Support:\x20'+_0x53b4fa+_0x307979(0x563));}[_0x120045(0x89a)](){const _0x5de939=_0x120045,_0x517f17=_0x2087c1[_0x5de939(0x930)];let _0x456aaa=!0x1;try{const _0x4c73d8=document['createElement'](_0x5de939(0x4ce));WebGLRenderingContext&&_0x4c73d8['getContext'](_0x5de939(0x4ee))&&(_0x456aaa=!0x0);}catch(_0x122d63){_0x1b1d61['log'](_0x185607[_0x5de939(0x64c)],_0x5de939(0x164)+_0x517f17+_0x5de939(0x84f),_0x122d63);}this[_0x5de939(0x233)][_0x5de939(0xdc)]({'name':_0x517f17,'supported':_0x456aaa}),_0x456aaa||_0x1b1d61[_0x5de939(0xed)](_0x185607[_0x5de939(0x64c)],'Support:\x20'+_0x517f17+_0x5de939(0x563));}[_0x120045(0x134)](){const _0x54cdb1=_0x120045,_0x4aa415=_0x2087c1['AudioContext'];let _0x38286a=!0x1;_0x54cdb1(0x423)==typeof AudioContext?_0x38286a=!0x0:_0x1b1d61[_0x54cdb1(0xed)](_0x185607['Support'],_0x54cdb1(0x164)+_0x4aa415+'\x20not\x20supported'),this['featureSupport']['push']({'name':_0x4aa415,'supported':_0x38286a});}}const _0x369f59=_0x4c1ea9['getInstance']();class _0x337dbc{static [_0x120045(0x115)];static [_0x120045(0x236)];static ['mode'];[_0x120045(0x7ec)];[_0x120045(0x11b)];[_0x120045(0x58d)];['configs'];[_0x120045(0x51d)]=new Map();[_0x120045(0x6fb)];constructor(_0x5ec495,_0x2fb0dd,_0x5cfc2b){const _0x183d80=_0x120045;this[_0x183d80(0x11b)]=_0x5ec495,this['configs']=_0x2fb0dd,this[_0x183d80(0x7ec)]=new _0x5481e9(this[_0x183d80(0x11b)]),_0x369f59[_0x183d80(0x995)](),this['options']={'audioContext':_0x5cfc2b?.[_0x183d80(0x5a5)]??(_0x369f59[_0x183d80(0xa0e)](_0x2087c1[_0x183d80(0x9a3)])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0x5cfc2b?.[_0x183d80(0x5b7)]??0x1,'minConnections':_0x5cfc2b?.[_0x183d80(0x2c7)]??0x3,'maxConnections':_0x5cfc2b?.['maxConnections']??(_0x5cfc2b?.[_0x183d80(0x2c7)]&&0x4*_0x5cfc2b[_0x183d80(0x2c7)])??0xc,'maxDistance':_0x5cfc2b?.[_0x183d80(0x5ac)]??0xa,'maxFps':_0x5cfc2b?.['maxFps']??0x18,'maxBpp':_0x5cfc2b?.[_0x183d80(0x3ca)]??0.12,'objectStoreConnector':_0x5cfc2b?.[_0x183d80(0xa38)]??_0x5e07e2[_0x183d80(0x7df)],'externalStorageConnectors':_0x5cfc2b?.['externalStorageConnectors'],'keyValueDatabaseConnector':_0x5cfc2b?.[_0x183d80(0x8a9)]??_0x5d35fd[_0x183d80(0xde)],'peerConnectionConnector':_0x5cfc2b?.[_0x183d80(0x150)]??_0x42487c[_0x183d80(0x172)],'generativeAIWorkerConnectors':_0x5cfc2b?.[_0x183d80(0x72d)],'vectorDatabaseConnector':_0x5cfc2b?.[_0x183d80(0x805)],'graphDatabaseConnector':_0x5cfc2b?.[_0x183d80(0x499)],'documentParserConnector':_0x5cfc2b?.[_0x183d80(0x3f0)],'fileConnector':_0x5cfc2b?.[_0x183d80(0x178)],'nlpLibraryConnector':_0x5cfc2b?.[_0x183d80(0x120)],'searchConnector':_0x5cfc2b?.[_0x183d80(0x4af)],'aiSearchConnector':_0x5cfc2b?.[_0x183d80(0x53b)],'queryFileConnector':_0x5cfc2b?.[_0x183d80(0xfc)],'ragConnector':_0x5cfc2b?.[_0x183d80(0x34c)]},_0x5cfc2b?.['disableIntervalHack']&&this[_0x183d80(0x58d)][_0x183d80(0x5a5)]&&_0x3da74f['startNoThrottlingHack'](this[_0x183d80(0x58d)][_0x183d80(0x5a5)]),_0x1b1d61[_0x183d80(0x332)](this[_0x183d80(0x11b)]),_0x5cfc2b?.[_0x183d80(0x453)]&&_0x1b1d61[_0x183d80(0x55b)](_0x5cfc2b[_0x183d80(0x453)]);}static async[_0x120045(0x188)](_0x297613,_0x427463,_0x435389,_0x5135cf,_0xc9a8b2){const _0x2f3d4f=_0x120045;this[_0x2f3d4f(0x9c0)]=_0x435389;const _0x22e3b1=await this[_0x2f3d4f(0x7ac)](_0x297613,_0x427463,_0xc9a8b2);return _0x337dbc[_0x2f3d4f(0x115)]||(_0x337dbc['instance']=new _0x337dbc(_0x297613,_0x22e3b1,_0x5135cf)),{'close':_0x337dbc[_0x2f3d4f(0x115)]['close'][_0x2f3d4f(0xa66)](_0x337dbc[_0x2f3d4f(0x115)]),'authenticateUser':_0x337dbc[_0x2f3d4f(0x115)][_0x2f3d4f(0x8a3)]['bind'](_0x337dbc[_0x2f3d4f(0x115)]),'authenticateAgent':_0x337dbc[_0x2f3d4f(0x115)]['authenticateAgent']['bind'](_0x337dbc[_0x2f3d4f(0x115)]),'validateKey':_0x337dbc[_0x2f3d4f(0x115)][_0x2f3d4f(0x761)]['bind'](_0x337dbc['instance']),'joinCluster':_0x337dbc[_0x2f3d4f(0x115)][_0x2f3d4f(0x79b)][_0x2f3d4f(0xa66)](_0x337dbc[_0x2f3d4f(0x115)])};}static async[_0x120045(0x6df)](){return _0x2451a5['getEstimatedTimestamp']();}static[_0x120045(0x42b)](){const _0x5b4d40=_0x120045;return _0x4cff37[_0x5b4d40(0x42b)];}async[_0x120045(0x1c1)](_0x217252){const _0x33fd9d=_0x120045;this['clusters'][_0x33fd9d(0x311)](_0x21ddcc=>{const _0x1c0046=_0x33fd9d;_0x21ddcc['off'](),_0x21ddcc[_0x1c0046(0x7fb)](_0x217252);}),this[_0x33fd9d(0x51d)][_0x33fd9d(0x960)](),this['options'][_0x33fd9d(0x5a5)]&&_0x3da74f[_0x33fd9d(0x29e)](),_0x337dbc[_0x33fd9d(0x236)]?.(),_0x337dbc[_0x33fd9d(0x236)]=void 0x0,this[_0x33fd9d(0x6fb)]=void 0x0,await this[_0x33fd9d(0x7ec)][_0x33fd9d(0x286)](),_0x337dbc[_0x33fd9d(0x115)]=void 0x0;}static async['validateAccess'](_0x5cebe9,_0x2e0d7a,_0x12fd91){const _0x157a7d=_0x120045;if(!this[_0x157a7d(0x9c0)])throw new _0x18939c(_0x15d29b[_0x157a7d(0x44c)],_0x157a7d(0x162));let _0x5ba72d;try{_0x5ba72d=await(0x0,_0x3a9c7d['httpsCallable'])(_0x2451a5[_0x157a7d(0x586)](),'sdkValidateAccess')({'vendorId':_0x5cebe9,'accessToken':_0x2e0d7a,'secretKey':_0x12fd91});}catch(_0x176723){throw new _0x18939c(_0x15d29b['InvalidAccess'],_0x157a7d(0x786));}if(!this['isInternalSDKConfigs'](_0x5ba72d[_0x157a7d(0x7f6)]))throw new _0x18939c(_0x15d29b[_0x157a7d(0x18e)],'Invalid\x20credentials');const _0x343b56=_0x5ba72d[_0x157a7d(0x7f6)];return _0x343b56[_0x157a7d(0x867)]||(_0x343b56['features']=[]),this[_0x157a7d(0x236)]||(this[_0x157a7d(0x236)]=_0x3da74f['setInterval'](async()=>{const _0x2a76d9=_0x157a7d;try{const _0x100a27=await this['validateAccess'](_0x5cebe9,_0x2e0d7a,_0x12fd91);this['mode']===_0x4e2564[_0x2a76d9(0x9cd)][_0x2a76d9(0x580)]&&(_0x100a27[_0x2a76d9(0x424)]=_0x100a27['iceServers']['filter'](_0x5a2ff6=>_0x5a2ff6[_0x2a76d9(0x51e)][_0x2a76d9(0x1c5)](_0x2a76d9(0x9e0)))),_0x343b56[_0x2a76d9(0x424)]=_0x100a27[_0x2a76d9(0x424)];}catch(_0x54742a){}},0x1b7740)),_0x343b56;}async['authenticateUser'](_0x245122){const _0x181a4e=_0x120045;if(_0x337dbc[_0x181a4e(0x9c0)]!==_0x4e2564[_0x181a4e(0x9cd)][_0x181a4e(0x4b1)])throw new _0x18939c(_0x15d29b['NodeInvalidType'],_0x181a4e(0x329));await this[_0x181a4e(0x7ec)][_0x181a4e(0xa59)](_0x245122);const _0x19be3c=new _0x470eb8(_0x245122['id'],_0x245122[_0x181a4e(0x8ff)],_0x245122[_0x181a4e(0xa27)]);return this[_0x181a4e(0x6fb)]={'node':_0x19be3c},_0x369f59[_0x181a4e(0x3b9)](_0x19be3c),{'type':_0x4e2564[_0x181a4e(0x9cd)][_0x181a4e(0x4b1)],'getId':_0x19be3c[_0x181a4e(0xd7)]['bind'](_0x19be3c),'getDisplayName':_0x19be3c[_0x181a4e(0x665)][_0x181a4e(0xa66)](_0x19be3c),'getEmail':_0x19be3c[_0x181a4e(0x659)][_0x181a4e(0xa66)](_0x19be3c),'setDisplayName':_0x19be3c['setDisplayName'][_0x181a4e(0xa66)](_0x19be3c),'setEmail':_0x19be3c[_0x181a4e(0x234)][_0x181a4e(0xa66)](_0x19be3c)};}async[_0x120045(0x16e)](_0x480078){const _0x47de10=_0x120045;if(_0x337dbc[_0x47de10(0x9c0)]!==_0x4e2564[_0x47de10(0x9cd)][_0x47de10(0x580)])throw new _0x18939c(_0x15d29b['NodeInvalidType'],'Node\x20type\x20is\x20invalid');const {id:_0x109853,groupId:_0x390853}=_0x480078,_0x3b6892=await(0x0,_0x730305[_0x47de10(0x6d2)])((0x0,_0x730305[_0x47de10(0x696)])(_0x2451a5['getFirestore'](),_0x47de10(0x28c)+this[_0x47de10(0x11b)]+_0x47de10(0x907)+_0x390853));if(!_0x3b6892[_0x47de10(0x52f)]())throw new _0x18939c(_0x15d29b[_0x47de10(0x2d5)],'Agent\x20group\x20not\x20found');const _0x187f92=_0x3b6892['data']();await this[_0x47de10(0x7ec)][_0x47de10(0xa59)]({'id':_0x109853});const _0x2e4f62=new _0x59c5d6(_0x109853,_0x390853,this[_0x47de10(0x11b)],_0x187f92);return this['authContext']={'node':_0x2e4f62},_0x369f59['logSupport'](_0x2e4f62),this[_0x47de10(0x693)](_0x2e4f62),{'type':_0x4e2564['NodeType'][_0x47de10(0x580)],'getId':_0x2e4f62[_0x47de10(0xd7)][_0x47de10(0xa66)](_0x2e4f62),'onConfigurationChange':_0x2e4f62[_0x47de10(0x294)][_0x47de10(0xa66)](_0x2e4f62),'setReportCapacity':_0x2e4f62[_0x47de10(0x75c)]['bind'](_0x2e4f62)};}async[_0x120045(0x761)](_0x4a536c){const _0x433a31=_0x120045,_0x50becc=await(0x0,_0x730305[_0x433a31(0x6d2)])((0x0,_0x730305[_0x433a31(0x696)])(_0x2451a5['getFirestore'](),'apikeys/'+_0x4a536c));if(!_0x50becc[_0x433a31(0x52f)]())throw new _0x18939c(_0x15d29b[_0x433a31(0x18e)],_0x433a31(0xa7d));return _0x50becc[_0x433a31(0x7f6)]()[_0x433a31(0x11b)];}async[_0x120045(0x79b)](_0x4cc484){const _0x3cac8c=_0x120045;if(!this[_0x3cac8c(0x6fb)])throw new _0x18939c(_0x15d29b[_0x3cac8c(0x2d5)],'Node\x20not\x20authenticated');if(this['authContext'][_0x3cac8c(0xa6a)][_0x3cac8c(0x7f3)]!==_0x4e2564[_0x3cac8c(0x9cd)][_0x3cac8c(0x4b1)])throw new _0x18939c(_0x15d29b[_0x3cac8c(0x38a)],'Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user');if(this['clusters'][_0x3cac8c(0x5a8)](_0x4cc484))throw new _0x18939c(_0x15d29b[_0x3cac8c(0x943)],_0x3cac8c(0x46c));const _0x190a88=new _0x4968c3(this[_0x3cac8c(0x11b)],_0x4cc484,this[_0x3cac8c(0x6fb)][_0x3cac8c(0xa6a)],this[_0x3cac8c(0x7ec)],this[_0x3cac8c(0x58d)],this[_0x3cac8c(0x22a)]);return await _0x190a88['join'](),this[_0x3cac8c(0x59e)](_0x4cc484,_0x190a88),_0x1b1d61[_0x3cac8c(0x7f8)]('join-cluster',{'clusterId':_0x4cc484,'nodeId':this['authContext'][_0x3cac8c(0xa6a)][_0x3cac8c(0xd7)](),'nodeType':this[_0x3cac8c(0x6fb)][_0x3cac8c(0xa6a)][_0x3cac8c(0x7f3)]}),{'leave':_0x190a88[_0x3cac8c(0x7fb)][_0x3cac8c(0xa66)](_0x190a88),'getLocalNode':_0x190a88[_0x3cac8c(0x567)][_0x3cac8c(0xa66)](_0x190a88),'openPubSubTopic':_0x190a88['openPubSubTopic'][_0x3cac8c(0xa66)](_0x190a88),'openObjectStoreBucket':_0x190a88[_0x3cac8c(0x21a)][_0x3cac8c(0xa66)](_0x190a88),'openExternalStorageConnection':_0x190a88[_0x3cac8c(0x710)]['bind'](_0x190a88),'openKeyValueDatabase':_0x190a88[_0x3cac8c(0x55c)][_0x3cac8c(0xa66)](_0x190a88),'openGenerativeAIContext':_0x190a88[_0x3cac8c(0x951)][_0x3cac8c(0xa66)](_0x190a88),'openGenerativeAIWorker':_0x190a88['openGenerativeAIWorker'][_0x3cac8c(0xa66)](_0x190a88),'openGraphDatabase':_0x190a88[_0x3cac8c(0x80e)][_0x3cac8c(0xa66)](_0x190a88),'openVectorDatabase':_0x190a88[_0x3cac8c(0x4f9)][_0x3cac8c(0xa66)](_0x190a88),'publishLocalMediaStream':_0x190a88[_0x3cac8c(0x50a)]['bind'](_0x190a88),'publishLocalDynamicMediaStream':_0x190a88['publishLocalDynamicMediaStream'][_0x3cac8c(0xa66)](_0x190a88),'getPubSubTopics':_0x190a88['getPubSubTopics'][_0x3cac8c(0xa66)](_0x190a88),'getObjectStoreBuckets':_0x190a88[_0x3cac8c(0x327)]['bind'](_0x190a88),'getExternalStorageConnections':_0x190a88[_0x3cac8c(0x53f)][_0x3cac8c(0xa66)](_0x190a88),'getKeyValueDatabases':_0x190a88[_0x3cac8c(0x5f4)][_0x3cac8c(0xa66)](_0x190a88),'getGenerativeAIContexts':_0x190a88['getGenerativeAIContexts'][_0x3cac8c(0xa66)](_0x190a88),'getGenerativeAIWorkers':_0x190a88[_0x3cac8c(0x267)]['bind'](_0x190a88),'getGraphDatabases':_0x190a88['getGraphDatabases'][_0x3cac8c(0xa66)](_0x190a88),'getVectorDatabases':_0x190a88[_0x3cac8c(0x377)][_0x3cac8c(0xa66)](_0x190a88),'getLocalMediaStreams':_0x190a88[_0x3cac8c(0x211)][_0x3cac8c(0xa66)](_0x190a88),'getRemoteMediaStreams':_0x190a88[_0x3cac8c(0x990)]['bind'](_0x190a88),'getRemoteNodes':_0x190a88['getRemoteNodes']['bind'](_0x190a88),'on':_0x190a88['on'][_0x3cac8c(0xa66)](_0x190a88),'off':_0x190a88[_0x3cac8c(0x959)][_0x3cac8c(0xa66)](_0x190a88)};}async[_0x120045(0x693)](_0x9a0150){const _0x35737d=_0x120045,_0x5794ca=new _0x4968c3(this[_0x35737d(0x11b)],_0x35737d(0x154),_0x9a0150,this[_0x35737d(0x7ec)],this[_0x35737d(0x58d)],this[_0x35737d(0x22a)]);await _0x5794ca[_0x35737d(0x3ec)](),this['addCluster'](_0x35737d(0x154),_0x5794ca),_0x1b1d61[_0x35737d(0x390)](_0x35737d(0x11f),_0x35737d(0x154)),await _0x5794ca[_0x35737d(0x15e)]('crewdle'),_0x1b1d61[_0x35737d(0x390)](_0x35737d(0x775),_0x35737d(0x154));}[_0x120045(0x59e)](_0x4c48d6,_0xd74593){const _0x3c0ac2=_0x120045;this[_0x3c0ac2(0x51d)][_0x3c0ac2(0x381)](_0x4c48d6,_0xd74593),_0xd74593['on']('cluster-leave',()=>{const _0x97a36d=_0x3c0ac2;_0xd74593[_0x97a36d(0x959)](),this[_0x97a36d(0x51d)][_0x97a36d(0xa10)](_0x4c48d6);});}static[_0x120045(0x158)](_0x15749d){const _0xbc67d1=_0x120045;return void 0x0!==_0x15749d[_0xbc67d1(0x424)];}}return _0x272513;})())));