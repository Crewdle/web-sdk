function a0_0x51ad(_0x137c21,_0x27de0b){const _0xd1daac=a0_0xd1da();return a0_0x51ad=function(_0x51adff,_0x37590d){_0x51adff=_0x51adff-0x17a;let _0x5cf79b=_0xd1daac[_0x51adff];return _0x5cf79b;},a0_0x51ad(_0x137c21,_0x27de0b);}function a0_0xd1da(){const _0x1f9928=['isAIBidResponse','FileWrite','JobDispatcherObserverNotFound','maxResolution','Update','onNodeDisconnect','getProviderId','processList','parameters','JobDispatcherInvalidJobType','NodeManager\x20-\x20ConnectionSuccess','Channel\x20\x27','onremovetrack','ObjectStoreNotInSync','onConfigurationChange','toLocaleDateString','receiverTotalMessages','addReservedTables','getStatus','connection','/nodes/','propagate','addIssue','getSenderBitrate','catch','ContentType','min','connectionGroup','clearRestartTimeout','createAnswer','getDoc','mediaStream','updateLastTransactionId','OutgoingMediaStreamNoTopic','processInboundReports','data','\x27:\x20missing\x20or\x20invalid\x20keyPath','setOnTableWriteHandler','remote-media-stream-invalid-subscription-params','getTotalBytes','Node\x20not\x20authenticated','contentManager','PubSubTopic\x20onMessage','sender','ConnectionInvalidDataEvent','getMediaStream','getPartsFromSubscription','getMaxDistance','isValidMediaSubscriptionParams','operator','processTransactionsDump','connectionTimeout','maxOutgoingSubscriptions','Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string','systemMessages','sort','addEventListener','handleContentRemoteMediaStreamTrackFail','findIndex','canProvideResolution','removePubSubTopic','startNoThrottlingHack','signalingServer','getLocalMediaStream','dataUnsubscribers','updatePropagationProperties','handleObjectMove','handleLocalTrackFailure','get','detail','list','keys','arrayBuffer','Job','startTime','senderBitrate','pendingFilesSyncing','senderCurrentBytes','localNode','detectVideoIssues','chosenAnswers','Orchestrator\x20handleSystemEvents','chunks','AI\x20worker\x20creation\x20failed.','lastTransactionId','keyValueDatabaseConnector','setInternalId','/resources/agent/items/','minResolutionScale','SyncComplete','jitter','publishLocalMediaStream','G-F7W8KXRKQB','No\x20global\x20object\x20found','\x27\x20to\x20','removeConnection','UpdateMediaStream','36269TXqhTl','filteredDestinationIds','getIdToken','path','getTime','abs','Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20','setTimeout','us-east-1','All','bitrate','Bid','getFunctions','Invalid\x20key\x20\x27','key-value-database-not-open','shouldContinuePropagation','concat','Connection\x20does\x20not\x20exist.','\x20already\x20exists','senderConnection','counter','ended','handleFolderCreate','MistletCapacityReportNotSet','connection-no-retry-queue','ObjectStorage','handshakeState','data-stream','videoHeight','logStorage','setStatus','renderElement','messages','Request','Node','skipEncryption','Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number','findNewMediaSubscription','publish','discover','Offer','dataTopics','resume','RemoteMediaStreamTrackFail','isMediaSource','function','PubSubTopicNameNotString','getMinConnections','setLoggingConnectors','handleOnMessage','RemoteMediaStreamDoesNotExist','cancel','findNextNodeId','signInWithCredential','streams','\x20already\x20exists.','timeSending','failJob','compareTransactions','isSync','clearSyncTimeout','messageListeners','packets','removeKeyValueDatabase','\x20finalized.','Outgoing','setupRenderElement','onDataChannel','getSubscribedTracks','getLabel','buildQuery','statsManager','wait','handleNodeJoin','registerSystemPublisher','open','forEach','handleNodeUpdate','shouldProcessJob','handleContentCloseObjectStore','update','Failed\x20to\x20create\x20AI\x20service','getRoundTripTime','Failed','Syncing','addRemoteNode','Cannot\x20publish\x20move\x20operation:\x20','GenerativeAIContextJobFailed','syncPendingFiles','handlePeerConnectionSystemEvents','addMessage','Disconnect','currentVersion','retryDelay','listenerUnsubscriber','head','digest','Key-value\x20database\x20transaction\x20value\x20not\x20set.','findNextAncestor','pow','shift','Upgrade','syncTransactionsWritten','auth','FileDelete','job-dispatcher-job-not-found','topics','Error\x20committing\x20batch:','nodeId','CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','AudioVideoDelay','active','System','Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string','unsubscribeTrackEndedListener','getCapacityReport','reject','Received\x20track','Recording','FileMove','tableObserver','logEvent','PubSubTopic\x20publish','transactionTable','JobDispatcherJobExists','Invalid\x20job\x20service\x20job\x20type.','Everyone\x20','sendIceCandidates','length','enumerateDevices','\x27\x20payload:','leave','map','RemoteRemediation','autoplay','createOutgoingSubscription','splice','MediaStream','Signaling','setReceiverTimestamp','isWhereValues','evaluateBidsAndAttributeJob','tableLayout','createElement','sourceId','Sending\x20\x27','/documents','connection-state','tableUnsubscriber','handleFileWrite','Folder','generative-ai-context-job-failed','absolutePathName','PubSub','appsync-connect-fail','events','true','audioSource','registeredListeners','Received\x20event\x20on\x20cluster','initializeSystemTopic','STVolatility','subscriptionManager','every','checkAudioContext','\x20failed.','getCoresFromCapacityReport','bufferedAmount','Connection\x20not\x20initialized.','createRemoteNode','end','Pending','getLastUpdated','removeJobWorker','setEncodingParameters','waitForSyncComplete','Count','Remote\x20stream\x20does\x20not\x20exist.','totalEncodeTime','toString','boolean','reduce','uuid','No\x20valid\x20bid\x20responses\x20received\x20in\x20time.','createRemoteMediaStream','Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','createJob','Subscribing\x20to\x20an\x20event:\x20on','getLocalNode','publishTransaction','validateAccess','Invalid\x20data\x20event.','removeTopic','Attribution','previousFrames','clearSubscriptionRequestTimeout','object-store-not-synced','stream','GenerativeAILabelConflict','handleContentCloseMediaStream','handleSubscribeMediaStream','\x20-\x20Sending\x20propagation\x20(','messagesReceived','contentType','GenerativeAIWorkerModelSyncError','audio','isAIFailedResponse','params','string','Cannot\x20publish\x20payload:\x20','removeRemoteConnection','internalId','getNumberOutgoingSubscriptions','Problem\x20detected:\x20','suspended','candidate','Bitrate','getOrResetPendingFileTimeout','handleStatsSystemEvents','CPUCycle','node','disconnectCallback','internal-sdk-error','Missing\x20transaction\x20id','JobWorkerDoesNotExist','getQuery','pendingFilesTransactions','setLocalRank','jobBids','origin','createPubSubTopic','getTableConnector','NodeJoin','eventTarget','cluster-leave','cost','node-invalid-type','Invalid\x20version\x20\x27','frames','getReport','CrewdleSenderConnection\x20createOffer','getTransactions','getSubscriptionInfo','10PZyDaw','getRemoteConnections','clockSkew','framesDecoded','removeRemoteNode','getApp','CloseObjectStoreBucket','warn','dataChannel','newPath','GenerativeAIWorkerCreationFailed','sendChunked','outbound-rtp','completeSync','Job\x20with\x20id\x20','logBatch','handleObjectDelete','user-update','receiverCurrentTimestamp','\x20deleted.','getSTVolatility','SendTransactionsDump','key-value-database-transaction-value-not-set','stats','parentId','Store\x20already\x20exists','Subscription\x20request\x20failed.','loop','consumeBufferedEvents','byteLength','Cluster\x20already\x20joined','__esModule','transactionService','lastCapacityReport','disconnect','unregisterCluster','cpu.cycle','label','job-worker-already-exists','lastRemediations','GenerativeAIContextAlreadyExists','context','Generative\x20AI\x20context\x20invalid\x20partial\x20result.','moveObject','handlePublishMediaStream','sendAction','support','mistlet-capacity-report-not-set','track','Job\x20service\x20job\x20not\x20found.','addCandidate','debugEnabled','NodeType','connectionManager','joinedAt','handleContentUpdateMediaStream','element','onMessage','Events','Invalid\x20object\x20store\x20sync\x20message.','setUpgradeTimeout','send\x20error\x20on\x20','maxDistance','frameWidth','onHandshakeStateChange','OptimizationConnectionSuccess','https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','\x20attributed\x20to\x20','eventEmitter','retryQueues','indexOf','mediator','createObjectStoreBucket','add','Remediation','estimatedPlayoutTimestamp','notifyCluster','ObjectStoreNameNotString','connectAgent','job-worker-invalid-type','batchQueue','exists','next','isAIJobRequest','remoteId','resolutionScale','job-dispatcher-invalid-payload','DataStream','mediaTopics','openJobDispatcher','getGenerativeAIContexts','Failed\x20to\x20create\x20key\x20value\x20database','clusters/','ownerId','message','senderCurrentTimestamp','app','successNotified','connected','logRaw','deleteJob','toStringTag','createDataChannel','InvalidDataChannel','setParams','List','total','httpsCallable','object-store-stream-does-not-exist','delete','subscribedTracks','content-publish-media','issues','email','output','Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27','setCurrentVersion','Missing\x20remote\x20node\x20or\x20rank','crewdle-sdk-logging-','getItem','options','createFolder','currentTimestamp','local-media-stream-track-fail','Resolution','tail','onRemoveTrack','retryCount','Incoming','MissingRemoteConnection','sendReject','result','doc','getInternalTrackParams','checksum','storage','job-dispatcher-invalid-job-type','getGenerativeAIWorkers','NeedRestart','openObjectStoreBucket','timePerFrame','Job\x20','RequestTransactionsValue','addContent','detectionManager','getAncestorIds','handleFileSync','KeyValueDatabaseInvalidValue','dt_volatility','authenticateUser','user','request-accepted','\x20attempts:','entries','invalid-subscription','offset','removeEventListener','match','connection-invalid-data-event','pub-sub-topic-already-exists','generative-ai-context-job-timeout','sendFileRequestPayload','UnsubscribeMediaStream','en-US','subscription-request-does-not-exist','handleCloseObjectStore','agent-config-changed','Missing\x20answerer\x20id\x20on\x20request\x20answer','createGenerativeAIContext','connectionType','serverTimestamp','addRemoteConnection','getShareableStream','handleSuccess','Local\x20node\x20rank\x20is\x20not\x20set','featureSupport','getAncestors','publishFolder','receiverConnection','Invalid\x20params','timestamp','remote-stream-missing-provider-id','\x20created\x20and\x20dispatched.','Invalid\x20layout:\x20','PartialResult','AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','return\x20this','CONNECTION_STATE_CHANGE','handleDetectionSystemEvents','destination','nodeKey','node-not-authenticated','mergeParts','packetsLost','registerSystemSource','file-write','.crewdle-last-transaction','payloadType','getOwnerId','.info/connected','tableName','onValue','subscribeToContent','database','unshift','validateQuery','ConnectionGroup','RestartNeedMediaStream','JobDispatcherCreationFailed','getHash','getAudioTracks','JobWorkerInvalidType','syncTransactions','frameTime','getDistance','Support:\x20','sendBid','reset','key-value-database-table-name-reserved','handleSubscriptionUnsubscribeMediaStream','cpu.fps','CannotProvideMediaStream','mediaDevices','connect','Result','createLocalDynamicMediaStream','writeTransaction','feature-not-enabled','clientWidth','reportCapacity','bytesReceived','setTransformations','DEBUG\x20-\x20','getRank','listenUnsubscriber','undefined','responseTimeout','extendedRecipients','cleanOldSubscription','ref','unsubscribe','1336767TflOsi','registerCluster','RemoteMediaStreamMissingProviderId','removeTrack','ObjectStoreInvalidSyncMessage','\x20jobs\x20are\x20supported\x20by\x20this\x20worker','getAvailableTrackKinds','action','Media','isOffer','providerId','setDurationTime','load','Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number','receiver','isIceCandidate','/logs','Agent\x20group\x20not\x20found','nodeManager','receiverBitrate','resetConnection','JobWorker:\x20Sending\x20AI\x20job\x20bid','Object\x20store\x20data\x20stream\x20is\x20not\x20in\x20sync','amd','Subscription','\x20received\x20result:','streamId','includes','prototype','peerConnectionConnector','Hub','ObjectStore','evaluateProccessedAIJob','removeContent','find','NodeInvalidType','subscription-request-no-answer','messageBuffer','CrewdleConnectionGroup','loadExistingContent','GenerativeAIContextDoesNotExist','enabledChannels','GenerativeAIContextCreationFailed','clearWaitSuccess','outgoingManager','systemTopic','Method\x20not\x20implemented.','Generative\x20AI\x20context\x20job\x20failed.','connectionPool','Object\x20store\x20is\x20not\x20in\x20sync','sdkCreateToken','LocalMediaStreamAlreadyExists','threshold','getTable','contentRect','setInterval','retryLimit','createBufferSource','sampleRate','setTimestamp','st_volatility','endsWith','Jobs','AudioContext','currentFrames','key-value-database-index-not-found','Job\x20Dispatcher\x20does\x20not\x20exist','subscriptionRequestsQueue','authNode','createMediaStreamDestination','logPropagateSystemEvent','RequestSyncKeyValueDatabase','messageType','Job\x20type\x20','capacityReporter','createPendingFileWrite','from','durationTime','processPendingHandshakeCandidates','invalid-publisher','handleDisconnect','nodes','LoggingService:\x20logging\x20enabled\x20for','systemMessagesReceived','text','out','PeerConnectionInvalidDestination','incrementVersion','DTVolatility','gatheringState','Remove','\x20check\x20failed','maxConnections','Table\x20not\x20found','Stats:\x20report','Downgrade','NodeTypeNotSupported','instantiateTransactionTable','listen','isWhereValue','callback','agentConfig','assign','addTrack','syncedFileExists','size','processReports','notifyObjectStoreOfNodeLeave','set','setEmail','close','Content','invalid-subscriber','key-value-database-does-not-exist','getContentType','version','Database\x20not\x20open','transformations','processReceiverReport','getEstimatedTimestamp','captureStream','waitAnswer','transactionsToSync','Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string','asc','bid','notifyJoin','ranges','functionsRegion','mute','chunk','applyRemediation','inbound-rtp','Rejected\x20answer','maxBpp','processRank','pubsub','notifyClusterNodeUpdate','CrewdleReceiverConnection\x20ontrack','\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','generative-ai-label-conflict','node-type-not-supported','trackCallback','Receiving\x20\x27','fromEntries','debounceProcessRank','getSupportedContentTypes','Early\x20return','3370tSruEW','priority','RequestFile','answererId','/nodes','remediationManager','split','Cluster','File','getClosestNodes','ObjectStoreCannotWriteTransaction','JobWorker:\x20Error\x20getting\x20cores\x20from\x20capacity\x20report','removeRemoteStreamSubscription','signaling','roundTripTime','destinationIds','hasOwnProperty','306801ATvUWo','createConstantSource','processOutboundReport','manageOptimization','join-cluster','key-value-database-table-does-not-exist','MediaStreamUnavailable','canChooseAnswer','frameHeight','/transactions','LocalReport','remoteUnsubscriber','replace','state','retryCallback','KeyValueDatabaseNotOpen','handleFileRequest','RoundTripTime','Disconnected','senderPreviousBytes','getDTVolatility','closeTopic','PubSubTopicAlreadyExists','getNextTargetRank','registerSource','jobDispatchers','NodeManager\x20-\x20NodeUpdate','padStart','\x20does\x20not\x20support\x20content\x20type\x20','setBytes','query-helper-invalid-argument','receiverTimeProcessing','between','deleteObject','handleClosePubSubTopic','Pool','getFirestore','unregisterDestination','AppSync\x20publish','User\x20not\x20signed\x20in','vendorId','splitParts','isRunning','\x20not\x20found.','getVideoTracks','writes','replaceTrack','framesEncoded','sdkValidateAccess','request','Operations:','count','handshakeCandidates','loggingConnectors','ObjectStoreInvalidPayload','sendWithRetry','Internal\x20unknown\x20error:\x20','discoveryService','getPartsForSubscriptionLabel','DeviceConfig','JobWorker:\x20Sending\x20AI\x20job\x20partial\x20result','bandwidth.bitrate','localId','JobDispatcherInvalidPayload','getEmail','requestSubscriptionAction','Failed\x20to\x20create\x20AI\x20worker','NodeManager\x20-\x20PublishNodeLeave','onDisconnectHandler','getDisplayMedia','https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','clearUpgradeTimeout','defineProperty','subscriptionRequests','node-does-not-exist','7916200mMHWtZ','evaluatePartialAIJob','checkScreenSharing','Early\x20return:\x20','subscriptions','getPubSubTopics','sendRequest','firebaseUnsubscriber','generative-ai-worker-missing-connectors','incomingManager','pubsubTopics','\x27\x20reserved','openKeyValueDatabase','RemoteMediaStreamInvalidSubscriptionParams','trackKinds','signOut','CrewdleConnection\x20handlePeerConnectionSystemEvents','LocalMediaStreamTrackFail','stop','Stats','getSettings','getMediaSubscription','sync','checkAudioVolume','supportsContentType','checkWebRTC','isSubscribed','0.2.7','disconnected','move','component','Internal\x20event\x20\x27','timeoutValue','logConnectionState','hasTable','DataStream\x20onMessage','FileStatus','Invalid\x20table\x20name\x20\x27','handleContentSubscribeMediaStream','answers','log','removeIncomingSubscription','content','ConnectionState','TimePerFrame','handleCloseKeyValueDatabase','setupResizeHandler','70BmsrYe','layout','play','sdk-internal-error:\x20','prompt','ObjectStoreAlreadySubscribed','SubscriptionRequestDoesNotExist','Job\x20Worker\x20already\x20exists','Problem','start','FeatureNotEnabled','bufferedEvents','updateUser','processOutboundReports','publishUserUpdate','initializeApp','updated','Chosen\x20answer','handleAnswer','Missing\x20owner\x20node\x20or\x20rank','observer','secheduleTime','receiverPreviousTimestamp','remove','WebRTC','text/plain','job-','registerRemoteNode','NodeUpdate','detectProblems','getAudioVideoDelay','getConnectionDestinations','where','crewdle-sdk-stg.firebaseapp.com','some','unregisterSystemPublisher','setupStatsReporting','Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.','handleMissingSenders','5542884BGeHCj','warning','getResolutionScale','operations','addPendingHandshakeCandidate','Job\x20Dispatcher\x20already\x20exists','handleIceCandidates','\x20received\x20partial\x20result:','JobDispatcherDoesNotExist','pendingHandshakeCandidates','request-file-sync','connecting','jobPhase','downgrade','Mistlet\x20capacity\x20report\x20not\x20set.','objectStore','unregisterSource','removeItem','createGenerativeAIWorker','interval','getCurrentMaxLayer','handleContentCloseJob','recipients','packetsSent','11964hKGIdJ','system-stats','setRank','sendTransactionsDump','ai-worker-','DataStream\x20send','unregisterPublisherListener','handleContentUnpublishMediaStream','syncTimeout','WebRTCBrowserPeerConnectionConnector','UnpublishMediaStream','detection','isEqual','unsubscribeListener','Move','setupListeners','logServiceEvent','event','sendTransactionsValue','lastUpdated','name','senderTotalMessages','Offline','previousTimestamp','LocalMediaStreamDoesNotExist','statsReporting','getBitrate','Answer','getConfigs','pubSubTopics','handleRemoteTrackFailure','firebase-disconnect','RemoteMediaStreamAlreadyExists','job-dispatcher-creation-failed','cpu.time_per_frame','connectionConstructor','handleCloseJobWorker','instance','1:519415702791:web:5dd39042f881cfde3251a2','configs','iceServers','graphql','\x0aAdditional\x20data:\x20','pendingFilesRename','handleSubscriptionMediaStreamUnavailable','Key-value\x20database\x20creation\x20failed.','InvalidSubscriber','optimizationLayers','QueryBuilderInvalidArgument','setItem','High','/models','ScreenSharing','JobWorker:\x20Handling\x20AI\x20job\x20attribution','canvas','createOffer','handleSubscriptionRestartNeedMediaStream','childRemovedUnsubscriber','bind','key-value-database-invalid-value','subscription','3570581iQDpnw','clearHeartbeat','exports','northamerica-northeast1','Cannot\x20publish\x20file:\x20','publishMove','restartTimeout','rtt','InternalSDKError','handleFileRequestAnswer','nextNodeId','created','::￿','local-stream-does-not-exist','handleUnpublishMediaStream','file','createGain','Failed\x20to\x20send\x20job\x20','JobWorker:\x20Received\x20AI\x20job\x20request','\x27\x20in\x20layout','waitSendBuffer','vectorDatabaseConnector','appsync-disconnect','validateValue','openJobWorker','key-value-database-creation-failed','createConnection','height','KeyValueDatabaseNameNotString','bufferEvent','getTrackFromParam','unsubscribeHandler','DataChannel\x20is\x20not\x20initialized.','onClose','removeNode','availableTrackKinds','publishSyncCompleted','Core','We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set','setConnectionType','webgl','outgoingStreams','handleCloseMediaStream','checkDeviceConfig','getOutgoingOptimizationConnections','KeyValueDatabaseInvalidQuery','Invalid\x20peer\x20connection\x20event\x20destination.','topic','notifyObjectStoreOfNodeJoin','orchestrator','objectToArrayBuffer','handleHandshake','createReceiverConnection','KeyValueDatabaseAlreadyExists','reportMetric','getDatabase','\x20sending\x20attempt\x20','Medium','JobWorker:\x20Received\x20AI\x20job\x20attribution','Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user','getJobWorkers','handleNodeDisconnect','\x20not\x20supported','hasTracks','collectReceiversStats','KeyValueDatabaseInvalidLayout','sendFile','KeyValueDatabaseTableNotFound','functions','answerJoin','key-value-database-already-exists','Invalid\x20where\x20clause','RequestFileWrite','MediaStream\x20feature\x20not\x20enabled','getTransactionFromTableWriteEvent','getConnectionType','createTopic','handleSubscriptionSubscribeMediaStream','onGatheringStateChange','getChannelData','pub-sub-topic-already-subscribed','removeListener','heartbeatUnsubscriber','remainingTracks','setSubscriptionRequestTimeout','encode','SubscribeMediaStream','waitSuccess','Job\x20worker\x20creation\x20failed.','publishNodeLeave','user-join','createSubscription','all','remote-media-stream-already-exists','onTrack','handleContentUnsubscribeMediaStream','minThreshold','updateDebounce','error','CloseKeyValueDatabase','maps','lastHeartbeat','ObjectStoreStats','audioDestination','bytesSent','registerDestination','ConnectionNotinitialized','deleteRemoteNode','remote-connection-exists','NodeConnectionsUpdate','Amplify','senderStreams','scheduleTime','onSnapshot','getUserMedia','Default','onProviderChange','handleContentCloseKeyValueDatabase','collection','transactions','ccc','Rejected','indexes','time_per_frame','incomingTopic','invalid-data-chanel','statsReport','distance','pendingSyncTransactions','object-store-invalid-payload','Node\x20already\x20exists.','trackEndedListeners','Label\x20already\x20in\x20use\x20by\x20AI\x20Service','decode','FPS','setSinkId','Handshake','handleSystemEvents','key-value-database-invalid-layout','currentBatch','handleUpdateMediaStream','getPacketsLostPerc','Internal\x20SDK\x20Error:\x20','getLayout','missing-datachannel','closeConnection','RemoteRemove','retry','.info/serverTimeOffset','peer-connection','clear','generative-ai-context-creation-failed','Invalid\x20subscription.','lastProcessRank','MissingSystemTopic','ClusterAlreadyJoined','Connection','setupTrackEndedListeners','job-dispatcher-observer-not-found','agent-join','addAudioTrack','unregisterSystemSource','JobWorker:\x20Error\x20processing\x20job','AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','\x20with\x20response:','8LuzcgJ','KeyValueDatabaseStats','key','getId','tables','handleTransactionPayload','parse','connections','enabled','Remote\x20connection\x20already\x20exists.','processJob','Transaction','getRemoteMediaStreams','ancestors','getSubscriptionLabel','PubSubTopicAlreadySubscribed','IDBDatabaseConnector','value','answer','Invalid\x20index\x20key:\x20must\x20be\x20a\x20string','clusterEventEmitter','handleSubscriptionNeedMediaStream','senderPreviousTimestamp','subscribe','Agent','processReport','getInternalStreamId','remote-stream-does-not-exist','direction','object-store-cannot-write-transaction','cluster-disconnect','removeSubscription','isAIPartialResultResponse','handleNoAnswer','videoWidth','No\x20connections\x20available\x20to\x20send\x20subscription\x20request','hasMessage','receiverCurrentBytes','disableIntervalHack','updateLastUpdated','receiverUnsubscribers','emit','setDisplayName','handleOffer','RemoteAdd','dispatchEvent','notifyClusterNodeJoin','developers/','CanProvideMediaStream','peer-connection-invalid-destination','random','limit','outgoingTopic','removeJobDispatcher','authContext','messageUnsubscriber','User','checkMediaStream','Delete','topicLabel','setProviderId','Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.','GenerativeAIWorkerAlreadyExists','Local\x20stream\x20does\x20not\x20exist.','setRemoteNode','/objectstores/','fileChunks','debounceStats','ObjectStoreAlreadyExists','connection-not-connected','\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','firebaseConfig','waitConnected','NodeAlreadyExist','PeerConnection','Waiting','remediation','initialize','gpu','mediaUnsubscribers','issue','payload','KeyValueDatabaseTransactionValueNotSet','ConnectionNotConnected','Sender','Restart','currentBytes','Emitting\x20event\x20on\x20local\x20cluster','2-digit','NodeLeave','off','remoteNodes','createMediaStreamSource','CloseJobDispatcher','maxFramerate','observe','query','send','addVideoTrack','crewdleSDKLoggingChannels','generative-ai-context-invalid-partial-result','setRemoteConnections','writeFile','rank','getConnection','createNewBatch','maxBitrate','call','getRemoteNode','has','SubscriptionRequestNoAnswer','Error\x20encountered\x20while\x20opening\x20database','status','displayName','isMediaDestination','deletePendingFile','createJobWorker','\x20failed\x20to\x20receive\x20a\x20valid\x20bid\x20responses\x20in\x20time.','resizeHandler','joinedClusters','isProduction','clearRect','signalingState','generativeAIWorkerConnector','Subject','syncResolve','resolution','getShareableStreamId','deleteTransactionsForTable','getJobs','Cannot\x20publish\x20folder:\x20','addDoc','getMaxConnections','Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20','getJob','openGenerativeAIContext','generative-ai-context-already-exists','closeSubscription','RequestAccepted','clientHeight','remoteConnections','handleNodeLeave','createKeyValueDatabase','getInstance','asObservable','Local\x20MediaStream\x20already\x20exists','Stream\x20does\x20not\x20exist','trackListeners','Online','InvalidSubscription','stringify','removeOutgoingSubscription','now','unregisterSubscriber','.crewdle-transactions','upgrade','Missing\x20AI\x20worker\x20connectors','crewdle-sdk-stg','appsync-close','handleNodeSystemEvents','NodeNotAuthenticated','Failed\x20to\x20create\x20job\x20service','senderTimeProcessing','objectStores','checkWebGL','client','AudioOutput','queues','publishNodeJoin','Add','InvalidPublisher','subscribeToJobs','KeyValueDatabase','publishSyncCompletedAfterWrites','JobWorkerCreationFailed','CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','JobStatus','\x20not\x20supported.','jobWorkers','removeTrackCallback','processSenderReport','Data','listenerUnsubscribers','connector','/transactions/','generativeAIContexts','Cannot\x20unpublish\x20object:\x20','420235181083','handleNeedRestart','Invalid\x20index\x20in\x20table\x20\x27','agent-update','\x20received\x20responses:','generative-ai-context-does-not-exist','targetId','receivers','cpu.av_delay','Get','CloseJobWorker','handleJobAttribution','key-value-database','Model\x20not\x20found','\x20does\x20not\x20exists','shouldProcessTransaction','GenerativeAIContextInvalidPartialResult','Subscription\x20request\x20has\x20not\x20been\x20answered.','Restart\x20NeedMediaStream','getModel','object','messagesSent','handleSubscriptionSystemEvents','Support','sendStats','endpoint','setReceiverBytes','clearWaitAnswer','isAIJobAttribution','handleOutgoingSystemEvents','reads','getAuth','\x27\x20from\x20','isAvailable','key-value-database-transaction-table-not-initialized','PublishMediaStream','addBidResponse','processRemoteInboundReport','publishSystemMessage','arrayBufferToObject','createIncomingSubscription','unpublish','clearConnectionTimeout','onloadeddata','providerListener','Send\x20request','openPubSubTopic','onUnregisterPublisher','timeReceiving','Receiver','Invalid\x20job\x20worker\x20type.','PubSubTopicStats','CloseMediaStream','handleProblem','committed','JobWorker:\x20Received\x20job','checkAudioOutput','width','crewdle-sdk.firebaseapp.com','stopNoThrottlingHack','All\x20recipients\x20already\x20received','listener','getDisplayName','StreamReport','retryQueue','subscriptionRequestTimeouts','lastExecuted','publishFile','connectionState','previous','audioContext','onCandidate','startBidResponseHandling','floor','failed','handleCloseJobDispatcher','getLocalId','authService','Module','createJobDispatcher','TestPage','RemoteConnectionExists','loadEnabledChannels','setScheduleTime','jobType','jobs','OutgoingSubscription','globalObject','removeTrackListeners','\x20-\x20','clusterKey','srcObject','setOnMessageHandler','MediaStreamPriority','No\x20connections\x20available\x20to\x20send\x20message','collectStats','handleUnsubscribeMediaStream','NodeManager\x20-\x20NodeLeave','Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank','getEnabledChannels','getReceiverTotalBytes','JobWorkerAlreadyExists','checkBackgrounds','senders','isArray','https://crewdle-sdk-default-rtdb.firebaseio.com','startHeartbeat','clusters','The\x20system\x20topic\x20has\x20not\x20been\x20registered.','appsync-connect','Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','systemTopicUnsubscribe','Invalid\x20query','RequestFileSync','detectStreamIssues','KeyValueDatabaseDoesNotExist','handleConnectionSuccess','getResolution','pub-sub-topic-does-not-exist','clearOncloseTimeout','getSenderTotalBytes','isSyncing','table','JobDispatcherAlreadyExists','JobType','problem','oidc','job-worker-creation-failed','Issue\x20detected:\x20','registerPublisher','KeyValueDatabaseTransactionTableNotInitialized','unregisterRemoteNode','setVendorId','onDisconnect','KeyValueDatabaseTableDoesNotExist','addConnection','code','PayloadAction','keyPath','addCluster','processTransactionPayload','handleContentSystemEvents','decodeJWT','totalDecodeTime','ConnectionNoRetryQueue','authenticateAgent','dbKey','Connected','publishLocalDynamicMediaStream','1:420235181083:web:4eff6062bd845cb0748cbe','Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc','values','content-unpublish-media','handleRemediationSystemEvents','index','Backgrounds','setupStatsCollection','evaluateBids','Partial','orderBy','getRemoteMediaStream','previousBytes','ClosePubSubTopic','crewdle-sdk-stg.appspot.com','type','Internal\x20error:\x20','firestore','getTracks','Sender\x20connection\x20is\x20not\x20initialized.','framerate','region','SubscriptionRequestInProgress','ObjectKind','\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.','chooseAnswer','startsWith','buffer','NeedMediaStream','Success','eventListener','getConnectionGroup','getRemoteId','inactive','getName','\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number','processServiceReport','processLocalReport','objectStorage','ObjectStoreInvalidPath','object-store-invalid-sync-message','bandwidth.jitter','val','jobObservers','receiverPreviousBytes','Connection\x20not\x20connected.','getPriority','addProblem','complete','slice','setupConnectionEvents','calculateSize','Accepted','updateDebounceTimeout','handleSubscriptionProvideMediaStream','JobDispatcherJobNotFound','detectAudioIssues','setOnDisconnectHandler','SubscriptionRequestFailed','joinCluster','isConnected','isAIResultResponse','getObjectStoreBuckets','clientStream','Jitter','commitBatch','Optimization','iceConnectionState\x20failed','-leave','number','objectStoreConnector','owner','Database\x20already\x20exists','onBufferedAmountLow','video','maxLayer','GenerativeAIContextJobTimeout','closed','discoveryUnsubscriber','handleContentClosePubSubTopic','AppSync\x20subscribe','getContext','processBatch','registerSubscriber','Internal\x20SDK\x20error:\x20','Database\x20does\x20not\x20exist','processInboundReport','getConnections','GenerativeAIWorkerMissingConnectors','Data\x20cluster\x20is\x20not\x20open.','Invalid\x20job\x20service\x20payload.','writeBatch','.crewdle-layout','Key-value\x20database\x20transaction\x20table\x20not\x20initialized.','syncContent','createSenderConnection','push','manageAncestor','StorageEventType','Remote\x20MediaStream\x20already\x20exists','pub-sub-topic-name-not-string','openGenerativeAIWorker','localMediaStreams','stopConnection','logSupport','checkSyncComplete','SystemStats','filter','currentDistance','handleError','setPendingFileSyncingPayload','canRestartHandshake','getLocalMediaStreams','syncKeyValueDatabase','setPriority','source','batchTimeout','FramePerSecond','getCurrentVersion','maxThreshold','crewdle-sdk.appspot.com','Detection','LocalMediaStreamNoAudioContext','handshakeDebounce','isInternalLoggingConnector','Invalid\x20value.\x20Property\x20\x27','fps','join','features','FolderCreate','clusterId','getKeyValueDatabases','isWhereBetween','api','detectLocalIssues','requestSubscription','codes','SystemTopic\x20publish','minConnections','getBid','Low','firebase-connect','connectionStateListener','KeyValueDatabaseTableNameReserved','createBuffer','graphService','remoteMediaStreams','configure','sourceVideo','getJobDispatchers','removeSubscriptionsForNode','KeyValueDatabaseCreationFailed','hasRemoteNode','statsCollection','upgradeTimeout','getTrack','object-store-name-not-string','messageCallback','AppSync\x20client\x20not\x20ready','FolderMove','isReconnecting','Attempt\x20','destroy','receiverStreams','unregisterPublisher','groupId','getReceiverBitrate','AudioVolume','buildTableEvent','pathName','processPendingSyncTransactions','request-file-write','kind','maxFps','getRemoteNodes','Cannot\x20get\x20file:\x20','removeRemoteMediaStream','keyValueDatabase','object-store-not-in-sync','keyValueDatabases','Node\x20does\x20not\x20exist.','\x27\x20in\x20table\x20\x27','Completed','ObjectStoreNotSynced','\x20with\x20\x27','oncloseTimeout','createLocalMediaStream','WebGL','outgoing-stream-no-topic','objectRequests','tracks','timeoutCallback','Apply\x20remediation','batchSize','Stream\x20already\x20exists'];a0_0xd1da=function(){return _0x1f9928;};return a0_0xd1da();}(function(_0x2176da,_0x58d2f8){const _0x30558a=a0_0x51ad,_0x4931ab=_0x2176da();while(!![]){try{const _0xc6ca38=-parseInt(_0x30558a(0x7b5))/0x1*(parseInt(_0x30558a(0x210))/0x2)+-parseInt(_0x30558a(0x301))/0x3*(-parseInt(_0x30558a(0x541))/0x4)+-parseInt(_0x30558a(0x395))/0x5*(-parseInt(_0x30558a(0x45f))/0x6)+parseInt(_0x30558a(0x49c))/0x7+-parseInt(_0x30558a(0x3f1))/0x8+-parseInt(_0x30558a(0x447))/0x9+parseInt(_0x30558a(0x420))/0xa*(-parseInt(_0x30558a(0x3a6))/0xb);if(_0xc6ca38===_0x58d2f8)break;else _0x4931ab['push'](_0x4931ab['shift']());}catch(_0x287933){_0x4931ab['push'](_0x4931ab['shift']());}}}(a0_0xd1da,0xba562),!function(_0xfc946f,_0x1821c6){const _0x17dd47=a0_0x51ad;if(_0x17dd47(0x610)==typeof exports&&'object'==typeof module)module['exports']=_0x1821c6();else{if(_0x17dd47(0x7e2)==typeof define&&define[_0x17dd47(0x318)])define([],_0x1821c6);else{var _0x29a590=_0x1821c6();for(var _0x18cdbc in _0x29a590)(_0x17dd47(0x610)==typeof exports?exports:_0xfc946f)[_0x18cdbc]=_0x29a590[_0x18cdbc];}}}(this,()=>((()=>{'use strict';const _0x1d9efe=a0_0x51ad;var _0x4681d8={0x14d:(_0x526c00,_0x482cbd,_0x54a44e)=>{const _0x2838cf=a0_0x51ad;_0x54a44e['d'](_0x482cbd,{'O':()=>_0x59d1ea});const _0x59d1ea={'version':_0x2838cf(0x40c),'isProduction':!0x1,'firebaseConfig':{'apiKey':_0x2838cf(0x2c9),'authDomain':_0x2838cf(0x441),'databaseURL':'https://crewdle-sdk-stg-default-rtdb.firebaseio.com','projectId':_0x2838cf(0x5de),'storageBucket':_0x2838cf(0x69f),'appId':_0x2838cf(0x485),'functionsRegion':_0x2838cf(0x49f)},'aws':{'endpoint':_0x2838cf(0x3ec),'region':_0x2838cf(0x7bd)}};},0x33b:(_0xa7225f,_0x2ab300,_0x22d63d)=>{_0x22d63d['d'](_0x2ab300,{'O':()=>_0x3f1677});const _0x3f1677={};},0x3e6:(_0x4b483f,_0x50596d,_0x517e74)=>{const _0x45ac83=a0_0x51ad;_0x517e74['d'](_0x50596d,{'O':()=>_0x45f6ec});const _0x45f6ec={'isProduction':!0x0,'firebaseConfig':{'apiKey':_0x45ac83(0x53f),'authDomain':_0x45ac83(0x636),'databaseURL':_0x45ac83(0x665),'projectId':'crewdle-sdk','storageBucket':_0x45ac83(0x709),'messagingSenderId':_0x45ac83(0x5fc),'appId':_0x45ac83(0x691),'measurementId':_0x45ac83(0x7b0)},'aws':{'endpoint':_0x45ac83(0x252),'region':_0x45ac83(0x7bd)}};},0x20:(_0x5946bc,_0xc389fc,_0x2d603f)=>{_0x2d603f['d'](_0xc389fc,{'O':()=>_0x4774c8});const _0x4774c8={};}},_0x2e3e69={};function _0x5a3c9b(_0x1e77f4){const _0x2cf531=a0_0x51ad;var _0x1a92e0=_0x2e3e69[_0x1e77f4];if(void 0x0!==_0x1a92e0)return _0x1a92e0[_0x2cf531(0x49e)];var _0x16e628=_0x2e3e69[_0x1e77f4]={'exports':{}};return _0x4681d8[_0x1e77f4](_0x16e628,_0x16e628[_0x2cf531(0x49e)],_0x5a3c9b),_0x16e628[_0x2cf531(0x49e)];}_0x5a3c9b['d']=(_0x100313,_0x2336ef)=>{const _0x3d168c=a0_0x51ad;for(var _0x1dd160 in _0x2336ef)_0x5a3c9b['o'](_0x2336ef,_0x1dd160)&&!_0x5a3c9b['o'](_0x100313,_0x1dd160)&&Object[_0x3d168c(0x3ee)](_0x100313,_0x1dd160,{'enumerable':!0x0,'get':_0x2336ef[_0x1dd160]});},_0x5a3c9b['g']=(function(){const _0x42fae6=a0_0x51ad;if(_0x42fae6(0x610)==typeof globalThis)return globalThis;try{return this||new Function(_0x42fae6(0x2ca))();}catch(_0x8092c8){if(_0x42fae6(0x610)==typeof window)return window;}}()),_0x5a3c9b['o']=(_0x1d7038,_0x1f55de)=>Object[_0x1d9efe(0x31d)][_0x1d9efe(0x3a5)][_0x1d9efe(0x5ac)](_0x1d7038,_0x1f55de),_0x5a3c9b['r']=_0x1df656=>{const _0x210882=_0x1d9efe;_0x210882(0x2fb)!=typeof Symbol&&Symbol[_0x210882(0x275)]&&Object['defineProperty'](_0x1df656,Symbol['toStringTag'],{'value':_0x210882(0x64a)}),Object[_0x210882(0x3ee)](_0x1df656,_0x210882(0x22f),{'value':!0x0});};var _0x540988={};return((()=>{const _0x32ddeb=_0x1d9efe;var _0x2379f6,_0x3e806f,_0x459921;_0x5a3c9b['r'](_0x540988),_0x5a3c9b['d'](_0x540988,{'KeyValueDatabase':()=>_0x25bc34,'LayoutBuilder':()=>_0x5c981a,'LoggingChannels':()=>_0x459921,'QueryBuilder':()=>_0x331ec9,'SDK':()=>_0x31568a,'SDKClientErrorCodes':()=>_0x2379f6,'TableBuilder':()=>_0x57ad02,'logger':()=>_0x1709c0}),function(_0x9ec8ef){const _0xa479e0=a0_0x51ad;_0x9ec8ef[_0xa479e0(0x537)]='cluster-already-joined',_0x9ec8ef['FeatureNotEnabled']=_0xa479e0(0x2f3),_0x9ec8ef[_0xa479e0(0x238)]=_0xa479e0(0x5c9),_0x9ec8ef[_0xa479e0(0x329)]=_0xa479e0(0x601),_0x9ec8ef[_0xa479e0(0x1e3)]=_0xa479e0(0x38d),_0x9ec8ef[_0xa479e0(0x57f)]='generative-ai-worker-already-exists',_0x9ec8ef[_0xa479e0(0x6e9)]=_0xa479e0(0x3f9),_0x9ec8ef[_0xa479e0(0x1e9)]='generative-ai-worker-model-sync-error',_0x9ec8ef[_0xa479e0(0x677)]='job-dispatcher-already-exists',_0x9ec8ef['JobDispatcherDoesNotExist']='job-dispatcher-does-not-exist',_0x9ec8ef[_0xa479e0(0x199)]='job-dispatcher-job-exists',_0x9ec8ef[_0xa479e0(0x6c8)]=_0xa479e0(0x186),_0x9ec8ef[_0xa479e0(0x75d)]=_0xa479e0(0x298),_0x9ec8ef[_0xa479e0(0x661)]=_0xa479e0(0x236),_0x9ec8ef['JobWorkerDoesNotExist']='job-worker-does-not-exist',_0x9ec8ef[_0xa479e0(0x2e3)]=_0xa479e0(0x25f),_0x9ec8ef[_0xa479e0(0x585)]='object-store-already-exists',_0x9ec8ef[_0xa479e0(0x425)]='object-store-already-subscribed',_0x9ec8ef['ObjectStoreDoesNotExist']=_0xa479e0(0x27c),_0x9ec8ef[_0xa479e0(0x25d)]=_0xa479e0(0x72d),_0x9ec8ef[_0xa479e0(0x3dc)]=_0xa479e0(0x51d),_0x9ec8ef['ObjectStoreInvalidPath']='object-store-invalid-path',_0x9ec8ef['ObjectStoreNotInSync']=_0xa479e0(0x743),_0x9ec8ef[_0xa479e0(0x4a4)]=_0xa479e0(0x1fb),_0x9ec8ef[_0xa479e0(0x4d1)]=_0xa479e0(0x4e2),_0x9ec8ef[_0xa479e0(0x66f)]=_0xa479e0(0x372),_0x9ec8ef['KeyValueDatabaseIndexNotFound']=_0xa479e0(0x342),_0x9ec8ef['KeyValueDatabaseInvalidQuery']='key-value-database-invalid-query',_0x9ec8ef['KeyValueDatabaseInvalidValue']=_0xa479e0(0x49a),_0x9ec8ef[_0xa479e0(0x4b8)]='key-value-database-name-not-string',_0x9ec8ef[_0xa479e0(0x3b5)]=_0xa479e0(0x7c3),_0x9ec8ef[_0xa479e0(0x720)]=_0xa479e0(0x2ea),_0x9ec8ef[_0xa479e0(0x4df)]='key-value-database-table-not-found',_0x9ec8ef[_0xa479e0(0x4dd)]=_0xa479e0(0x526),_0x9ec8ef[_0xa479e0(0x334)]='local-media-stream-already-exists',_0x9ec8ef[_0xa479e0(0x70b)]='local-media-stream-no-audio-context',_0x9ec8ef[_0xa479e0(0x3bc)]=_0xa479e0(0x2af),_0x9ec8ef['PubSubTopicDoesNotExist']=_0xa479e0(0x672),_0x9ec8ef[_0xa479e0(0x7e3)]=_0xa479e0(0x6f5),_0x9ec8ef[_0xa479e0(0x550)]=_0xa479e0(0x4ec),_0x9ec8ef['QueryBuilderInvalidArgument']=_0xa479e0(0x3c4),_0x9ec8ef[_0xa479e0(0x47f)]=_0xa479e0(0x4f9),_0x9ec8ef[_0xa479e0(0x3fe)]=_0xa479e0(0x77a),_0x9ec8ef[_0xa479e0(0x6a7)]='subscription-request-in-progress',_0x9ec8ef[_0xa479e0(0x5e1)]=_0xa479e0(0x2cf),_0x9ec8ef[_0xa479e0(0x324)]=_0xa479e0(0x209),_0x9ec8ef[_0xa479e0(0x361)]=_0xa479e0(0x38e);}(_0x2379f6||(_0x2379f6={}));class _0x56574a extends Error{['code'];constructor(_0x2731e2,_0x2474a1){const _0xbbb9be=a0_0x51ad;super(_0x2474a1),this[_0xbbb9be(0x684)]=_0x2731e2;}}!function(_0x1ca2da){const _0x461412=a0_0x51ad;_0x1ca2da[_0x461412(0x1b6)]=_0x461412(0x389),_0x1ca2da[_0x461412(0x7ce)]='object-storage',_0x1ca2da[_0x461412(0x5ed)]=_0x461412(0x608),_0x1ca2da['MediaStream']='media-stream';}(_0x3e806f||(_0x3e806f={})),function(_0x25ce4e){const _0x9a9a1f=a0_0x51ad;_0x25ce4e['All']=_0x9a9a1f(0x4f8),_0x25ce4e['Default']='default',_0x25ce4e['Connection']=_0x9a9a1f(0x767),_0x25ce4e[_0x9a9a1f(0x41c)]=_0x9a9a1f(0x1b0),_0x25ce4e[_0x9a9a1f(0x39c)]='cluster',_0x25ce4e[_0x9a9a1f(0x370)]=_0x9a9a1f(0x41b),_0x25ce4e[_0x9a9a1f(0x267)]=_0x9a9a1f(0x7d0),_0x25ce4e[_0x9a9a1f(0x70a)]=_0x9a9a1f(0x46a),_0x25ce4e['Events']=_0x9a9a1f(0x1b8),_0x25ce4e['Error']=_0x9a9a1f(0x4fe),_0x25ce4e['Jobs']=_0x9a9a1f(0x651),_0x25ce4e[_0x9a9a1f(0x7d7)]=_0x9a9a1f(0x1f9),_0x25ce4e[_0x9a9a1f(0x3c9)]='pool',_0x25ce4e['PubSub']=_0x9a9a1f(0x389),_0x25ce4e[_0x9a9a1f(0x25a)]='remediation',_0x25ce4e[_0x9a9a1f(0x1a7)]=_0x9a9a1f(0x3a2),_0x25ce4e[_0x9a9a1f(0x404)]='stats',_0x25ce4e['Subscription']=_0x9a9a1f(0x49b),_0x25ce4e[_0x9a9a1f(0x613)]='support',_0x25ce4e[_0x9a9a1f(0x18d)]='system',_0x25ce4e[_0x9a9a1f(0x6fb)]=_0x9a9a1f(0x460),_0x25ce4e[_0x9a9a1f(0x64c)]='test-page',_0x25ce4e[_0x9a9a1f(0x58b)]=_0x9a9a1f(0x531);}(_0x459921||(_0x459921={}));const _0x16caec=require('@crewdle/web-sdk-types');class _0x331ec9{[_0x32ddeb(0x5a1)];constructor(_0x115d87){const _0x3a9bcc=_0x32ddeb;this[_0x3a9bcc(0x5a1)]={'orderBy':{'key':_0x115d87,'direction':_0x3a9bcc(0x37d)}};}static['index'](_0x72b48a){const _0x142240=_0x32ddeb;if(_0x142240(0x1ed)!=typeof _0x72b48a||0x0===_0x72b48a[_0x142240(0x19d)])throw new _0x56574a(_0x2379f6['QueryBuilderInvalidArgument'],_0x142240(0x554));return new _0x331ec9(_0x72b48a);}static[_0x32ddeb(0x2dd)](_0xa9401e){const _0x30b0ff=_0x32ddeb;try{return _0x331ec9[_0x30b0ff(0x7fb)](_0xa9401e),!0x0;}catch(_0x2f50c5){return!0x1;}}static['buildQuery'](_0x176fe4){const _0x5a29fb=_0x32ddeb,_0x5f4c8f=_0x331ec9[_0x5a29fb(0x696)](_0x176fe4[_0x5a29fb(0x69b)]?.[_0x5a29fb(0x543)]??_0x176fe4[_0x5a29fb(0x440)]?.['key']??'');if(_0x176fe4[_0x5a29fb(0x440)]){const _0x39a3ac=_0x176fe4[_0x5a29fb(0x440)];if((_0x331ec9[_0x5a29fb(0x364)](_0x39a3ac)||_0x331ec9[_0x5a29fb(0x1a9)](_0x39a3ac)||_0x331ec9[_0x5a29fb(0x715)](_0x39a3ac))&&_0x5f4c8f['where'](_0x39a3ac[_0x5a29fb(0x785)],_0x39a3ac['value']),_0x176fe4[_0x5a29fb(0x69b)]?.[_0x5a29fb(0x543)]&&_0x176fe4[_0x5a29fb(0x69b)]?.[_0x5a29fb(0x543)]!==_0x176fe4[_0x5a29fb(0x440)][_0x5a29fb(0x543)])throw new _0x56574a(_0x2379f6[_0x5a29fb(0x48f)],'Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key');}return _0x176fe4[_0x5a29fb(0x69b)]&&_0x5f4c8f['orderBy'](_0x176fe4[_0x5a29fb(0x69b)][_0x5a29fb(0x55d)]),_0x176fe4['limit']&&_0x5f4c8f['limit'](_0x176fe4[_0x5a29fb(0x574)]),_0x176fe4['offset']&&_0x5f4c8f[_0x5a29fb(0x2ab)](_0x176fe4[_0x5a29fb(0x2ab)]),_0x5f4c8f;}[_0x32ddeb(0x1fe)](){const _0xc995dc=_0x32ddeb;return{...this[_0xc995dc(0x5a1)]};}[_0x32ddeb(0x440)](_0x473f3b,_0x1f5ed5){const _0x3c8ae3=_0x32ddeb,_0x230bb7={'key':this[_0x3c8ae3(0x5a1)][_0x3c8ae3(0x69b)][_0x3c8ae3(0x543)],'operator':_0x473f3b,'value':_0x1f5ed5};if(!_0x331ec9['isWhereValue'](_0x230bb7)&&!_0x331ec9['isWhereValues'](_0x230bb7)&&!_0x331ec9[_0x3c8ae3(0x715)](_0x230bb7))throw new _0x56574a(_0x2379f6[_0x3c8ae3(0x48f)],_0x3c8ae3(0x4e3));return this[_0x3c8ae3(0x5a1)]['where']=_0x230bb7,this;}[_0x32ddeb(0x69b)](_0x2efc61){const _0x74cb49=_0x32ddeb;if(_0x74cb49(0x37d)!==_0x2efc61&&'desc'!==_0x2efc61)throw new _0x56574a(_0x2379f6[_0x74cb49(0x48f)],_0x74cb49(0x692));return this[_0x74cb49(0x5a1)][_0x74cb49(0x69b)][_0x74cb49(0x55d)]=_0x2efc61,this;}[_0x32ddeb(0x574)](_0x166fbd){const _0x8894b1=_0x32ddeb;if(_0x8894b1(0x6d6)!=typeof _0x166fbd||_0x166fbd<0x0)throw new _0x56574a(_0x2379f6['QueryBuilderInvalidArgument'],_0x8894b1(0x30e));return this[_0x8894b1(0x5a1)]['limit']=_0x166fbd,this;}['offset'](_0xd086ff){const _0x5d44b2=_0x32ddeb;if(_0x5d44b2(0x6d6)!=typeof _0xd086ff||_0xd086ff<0x0)throw new _0x56574a(_0x2379f6[_0x5d44b2(0x48f)],_0x5d44b2(0x7d9));return this[_0x5d44b2(0x5a1)][_0x5d44b2(0x2ab)]=_0xd086ff,this;}static[_0x32ddeb(0x364)](_0x4daa06){const _0x4b458b=_0x32ddeb;if(!(_0x4daa06&&'object'==typeof _0x4daa06&&_0x4b458b(0x785)in _0x4daa06&&'value'in _0x4daa06))return!0x1;const {operator:_0x5cf9af,value:_0x15d3e8}=_0x4daa06;return!(!['==','!=','>','<','<=','>='][_0x4b458b(0x31c)](_0x5cf9af)||Array['isArray'](_0x15d3e8));}static[_0x32ddeb(0x1a9)](_0x24a9f6){const _0x486b27=_0x32ddeb;if(!(_0x24a9f6&&_0x486b27(0x610)==typeof _0x24a9f6&&'operator'in _0x24a9f6&&'value'in _0x24a9f6))return!0x1;const {operator:_0x1d7508,value:_0x528489}=_0x24a9f6;return!(!['in','not-in'][_0x486b27(0x31c)](_0x1d7508)||!Array['isArray'](_0x528489));}static[_0x32ddeb(0x715)](_0x4bf6d3){const _0x1c741a=_0x32ddeb;if(!(_0x4bf6d3&&'object'==typeof _0x4bf6d3&&'operator'in _0x4bf6d3&&_0x1c741a(0x552)in _0x4bf6d3))return!0x1;const {operator:_0xe4d94d,value:_0x1eecaa}=_0x4bf6d3;return!(_0x1c741a(0x3c6)!==_0xe4d94d||!Array['isArray'](_0x1eecaa)||0x2!==_0x1eecaa[_0x1c741a(0x19d)]);}}class _0x5c981a{['layout'];constructor(_0x9af25f){const _0x1d9130=_0x32ddeb;this[_0x1d9130(0x421)]={'tables':{},'version':_0x9af25f};}static['validateLayout'](_0x448965){const _0x125d8d=_0x32ddeb;for(const _0x14634c in _0x448965){if('version'!==_0x14634c&&'tables'!==_0x14634c)return[!0x1,_0x125d8d(0x7c2)+_0x14634c+_0x125d8d(0x4af)];if(_0x125d8d(0x545)===_0x14634c)for(const _0x3d2a78 in _0x448965[_0x125d8d(0x545)]){if(_0x125d8d(0x1ed)!=typeof _0x3d2a78)return[!0x1,_0x125d8d(0x416)+_0x3d2a78+'\x27'];for(const _0x7e0f81 in _0x448965[_0x125d8d(0x545)][_0x3d2a78]){if(_0x125d8d(0x516)!==_0x7e0f81)return[!0x1,_0x125d8d(0x7c2)+_0x7e0f81+_0x125d8d(0x746)+_0x3d2a78+'\x27'];const _0x1b65c6=_0x448965['tables'][_0x3d2a78][_0x7e0f81]??[];for(const _0x5c213e of _0x1b65c6)if(void 0x0===_0x5c213e[_0x125d8d(0x686)]||_0x125d8d(0x1ed)!=typeof _0x5c213e['keyPath'])return[!0x1,_0x125d8d(0x5fe)+_0x3d2a78+_0x125d8d(0x778)];}}else{if(_0x125d8d(0x374)===_0x14634c&&'number'!=typeof _0x448965[_0x14634c])return[!0x1,_0x125d8d(0x20a)+_0x448965[_0x14634c]+_0x125d8d(0x6b4)];}}return[!0x0,'Valid\x20layout'];}static[_0x32ddeb(0x421)](_0x1036ac){const _0x4c0977=_0x32ddeb,_0xe29270=new _0x5c981a(_0x1036ac);return _0xe29270['layout'][_0x4c0977(0x374)]=_0x1036ac,_0xe29270;}[_0x32ddeb(0x676)](_0x3d621c){const _0x52cbe5=_0x32ddeb;return this['layout'][_0x52cbe5(0x545)][_0x3d621c]={},new _0x57ad02(this[_0x52cbe5(0x421)][_0x52cbe5(0x545)][_0x3d621c]);}['getLayout'](){const _0x25a5e5=_0x32ddeb;return this[_0x25a5e5(0x421)];}}class _0x57ad02{[_0x32ddeb(0x1ab)];constructor(_0x255319){this['tableLayout']=_0x255319;}[_0x32ddeb(0x696)](_0x28895){const _0x29b169=_0x32ddeb;return this[_0x29b169(0x1ab)][_0x29b169(0x516)]=this['tableLayout']['indexes']??[],this[_0x29b169(0x1ab)][_0x29b169(0x516)]['push']({'keyPath':_0x28895}),this;}}const _0x39b198=0x3f800,_0x3bdcb4=_0x32ddeb(0x2d4),_0x288b3b='.crewdle-pending',_0x23f8e5=_0x32ddeb(0x5db),_0x26dec4=_0x32ddeb(0x6ed),_0x1fc73b=0x7530,_0x514c9c='internal';var _0x362539;!function(_0x494162){const _0x458309=_0x32ddeb;_0x494162['ConnectionNotinitialized']='connection-not-initialized',_0x494162[_0x458309(0x594)]=_0x458309(0x586),_0x494162['ConnectionNoRetryQueue']=_0x458309(0x7cd),_0x494162[_0x458309(0x780)]=_0x458309(0x2ae),_0x494162[_0x458309(0x32b)]=_0x458309(0x533),_0x494162[_0x458309(0x80c)]=_0x458309(0x1b4),_0x494162[_0x458309(0x6dd)]=_0x458309(0x2b0),_0x494162['GenerativeAIContextInvalidPartialResult']=_0x458309(0x5a5),_0x494162[_0x458309(0x21a)]='generative-ai-worker-creation-failed',_0x494162[_0x458309(0x277)]=_0x458309(0x519),_0x494162[_0x458309(0x5eb)]=_0x458309(0x350),_0x494162['InvalidSubscriber']=_0x458309(0x371),_0x494162[_0x458309(0x5d6)]=_0x458309(0x2aa),_0x494162[_0x458309(0x2e0)]=_0x458309(0x480),_0x494162[_0x458309(0x3e5)]=_0x458309(0x266),_0x494162[_0x458309(0x75d)]=_0x458309(0x298),_0x494162[_0x458309(0x6c8)]=_0x458309(0x186),_0x494162[_0x458309(0x756)]=_0x458309(0x53a),_0x494162[_0x458309(0x5ef)]=_0x458309(0x67b),_0x494162[_0x458309(0x2e3)]=_0x458309(0x25f),_0x494162['KeyValueDatabaseCreationFailed']=_0x458309(0x4b5),_0x494162['KeyValueDatabaseTableDoesNotExist']=_0x458309(0x3ab),_0x494162[_0x458309(0x67e)]=_0x458309(0x61e),_0x494162[_0x458309(0x593)]=_0x458309(0x226),_0x494162['LocalMediaStreamDoesNotExist']=_0x458309(0x4a9),_0x494162[_0x458309(0x291)]='missing-incoming-connection',_0x494162[_0x458309(0x536)]='missing-system-topic',_0x494162[_0x458309(0x7cc)]=_0x458309(0x23f),_0x494162[_0x458309(0x39f)]=_0x458309(0x55e),_0x494162[_0x458309(0x305)]=_0x458309(0x6b9),_0x494162[_0x458309(0x748)]=_0x458309(0x1e1),_0x494162['OutgoingMediaStreamNoTopic']=_0x458309(0x74d),_0x494162['RemoteMediaStreamDoesNotExist']=_0x458309(0x55c),_0x494162[_0x458309(0x303)]=_0x458309(0x2c5),_0x494162[_0x458309(0x64d)]=_0x458309(0x508),_0x494162['SubscriptionRequestDoesNotExist']=_0x458309(0x2b4),_0x494162[_0x458309(0x6cb)]='subscription-request-failed',_0x494162[_0x458309(0x5af)]=_0x458309(0x325),_0x494162['NodeDoesNotExist']=_0x458309(0x3f0),_0x494162[_0x458309(0x58a)]='node-already-exist',_0x494162[_0x458309(0x357)]=_0x458309(0x572);}(_0x362539||(_0x362539={}));const _0x5b0909=new Map([[_0x362539[_0x32ddeb(0x506)],_0x32ddeb(0x1c5)],[_0x362539['ConnectionNotConnected'],_0x32ddeb(0x6be)],[_0x362539[_0x32ddeb(0x68c)],_0x32ddeb(0x57e)],[_0x362539[_0x32ddeb(0x780)],_0x32ddeb(0x1dc)],[_0x362539[_0x32ddeb(0x32b)],'Generative\x20AI\x20context\x20creation\x20failed.'],[_0x362539[_0x32ddeb(0x80c)],_0x32ddeb(0x330)],[_0x362539[_0x32ddeb(0x6dd)],'Generative\x20AI\x20context\x20job\x20timeout.'],[_0x362539[_0x32ddeb(0x60c)],_0x32ddeb(0x23a)],[_0x362539[_0x32ddeb(0x21a)],_0x32ddeb(0x7a7)],[_0x362539[_0x32ddeb(0x277)],'Invalid\x20data\x20channel.'],[_0x362539[_0x32ddeb(0x5eb)],'Invalid\x20publisher.'],[_0x362539[_0x32ddeb(0x48d)],'Invalid\x20subscriber.'],[_0x362539[_0x32ddeb(0x5d6)],_0x32ddeb(0x534)],[_0x362539[_0x32ddeb(0x2e0)],'Job\x20service\x20creation\x20failed.'],[_0x362539[_0x32ddeb(0x3e5)],_0x32ddeb(0x6eb)],[_0x362539[_0x32ddeb(0x75d)],_0x32ddeb(0x19a)],[_0x362539[_0x32ddeb(0x6c8)],_0x32ddeb(0x241)],[_0x362539['JobDispatcherObserverNotFound'],'Job\x20service\x20observer\x20not\x20found.'],[_0x362539[_0x32ddeb(0x5ef)],_0x32ddeb(0x4f4)],[_0x362539['JobWorkerInvalidType'],_0x32ddeb(0x62e)],[_0x362539[_0x32ddeb(0x728)],_0x32ddeb(0x48c)],[_0x362539['KeyValueDatabaseTableDoesNotExist'],'Key-value\x20database\x20table\x20does\x20not\x20exist.'],[_0x362539['KeyValueDatabaseTransactionTableNotInitialized'],_0x32ddeb(0x6ee)],[_0x362539[_0x32ddeb(0x593)],_0x32ddeb(0x17e)],[_0x362539['LocalMediaStreamDoesNotExist'],_0x32ddeb(0x580)],[_0x362539[_0x32ddeb(0x291)],_0x32ddeb(0x7c6)],[_0x362539[_0x32ddeb(0x536)],_0x32ddeb(0x668)],[_0x362539[_0x32ddeb(0x7cc)],_0x32ddeb(0x455)],[_0x362539[_0x32ddeb(0x39f)],'Cannot\x20write\x20transaction.'],[_0x362539['ObjectStoreInvalidSyncMessage'],_0x32ddeb(0x24b)],[_0x362539[_0x32ddeb(0x748)],'Object\x20store\x20not\x20synced.'],[_0x362539[_0x32ddeb(0x775)],'Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.'],[_0x362539['RemoteMediaStreamDoesNotExist'],_0x32ddeb(0x1ce)],[_0x362539[_0x32ddeb(0x303)],_0x32ddeb(0x445)],[_0x362539['RemoteConnectionExists'],_0x32ddeb(0x54a)],[_0x362539[_0x32ddeb(0x426)],'Subscription\x20request\x20does\x20not\x20exist.'],[_0x362539['SubscriptionRequestFailed'],_0x32ddeb(0x22a)],[_0x362539[_0x32ddeb(0x5af)],_0x32ddeb(0x60d)],[_0x362539['NodeDoesNotExist'],_0x32ddeb(0x745)],[_0x362539['NodeAlreadyExist'],_0x32ddeb(0x51e)],[_0x362539[_0x32ddeb(0x357)],_0x32ddeb(0x4ca)]]);class _0x4daf03 extends Error{[_0x32ddeb(0x684)];static [_0x32ddeb(0x719)]=_0x362539;[_0x32ddeb(0x777)];constructor(_0x501f39,_0x5f148d){const _0x2976e5=_0x32ddeb;super(_0x2976e5(0x52a)+_0x501f39+':\x20'+_0x5b0909[_0x2976e5(0x798)](_0x501f39)+_0x2976e5(0x489)+JSON[_0x2976e5(0x5d7)](_0x5f148d)),this[_0x2976e5(0x684)]=_0x501f39,this[_0x2976e5(0x777)]=_0x5f148d||{};}}var _0x36fe9a,_0x2f047a,_0x8ba912,_0x5dac14,_0x620343,_0x252dbf,_0x16f8c2;!function(_0x405554){const _0x3336f6=_0x32ddeb;_0x405554[_0x405554[_0x3336f6(0x61f)]=0x0]='PublishMediaStream',_0x405554[_0x405554[_0x3336f6(0x469)]=0x1]='UnpublishMediaStream',_0x405554[_0x405554[_0x3336f6(0x4f2)]=0x2]=_0x3336f6(0x4f2),_0x405554[_0x405554[_0x3336f6(0x7b4)]=0x3]='UpdateMediaStream',_0x405554[_0x405554['UnsubscribeMediaStream']=0x4]=_0x3336f6(0x2b2),_0x405554[_0x405554[_0x3336f6(0x59e)]=0x5]=_0x3336f6(0x59e),_0x405554[_0x405554[_0x3336f6(0x606)]=0x6]=_0x3336f6(0x606),_0x405554[_0x405554[_0x3336f6(0x216)]=0x7]=_0x3336f6(0x216),_0x405554[_0x405554[_0x3336f6(0x4ff)]=0x8]=_0x3336f6(0x4ff),_0x405554[_0x405554[_0x3336f6(0x69e)]=0x9]='ClosePubSubTopic',_0x405554[_0x405554[_0x3336f6(0x630)]=0xa]=_0x3336f6(0x630),_0x405554[_0x405554[_0x3336f6(0x402)]=0xb]=_0x3336f6(0x402),_0x405554[_0x405554['RemoteMediaStreamTrackFail']=0xc]=_0x3336f6(0x7e0),_0x405554[_0x405554[_0x3336f6(0x348)]=0xd]=_0x3336f6(0x348),_0x405554[_0x405554[_0x3336f6(0x225)]=0xe]=_0x3336f6(0x225),_0x405554[_0x405554[_0x3336f6(0x29e)]=0xf]=_0x3336f6(0x29e),_0x405554[_0x405554['PubSubTopicStats']=0x10]=_0x3336f6(0x62f),_0x405554[_0x405554[_0x3336f6(0x502)]=0x11]=_0x3336f6(0x502),_0x405554[_0x405554[_0x3336f6(0x542)]=0x12]=_0x3336f6(0x542);}(_0x36fe9a||(_0x36fe9a={})),function(_0x44571e){const _0x55fcb2=_0x32ddeb;_0x44571e[_0x55fcb2(0x755)]=_0x55fcb2(0x2d3),_0x44571e['FolderCreate']='folder-create',_0x44571e[_0x55fcb2(0x57b)]=_0x55fcb2(0x27d),_0x44571e[_0x55fcb2(0x46d)]='move',_0x44571e[_0x55fcb2(0x397)]='request-file',_0x44571e['RequestAccepted']=_0x55fcb2(0x2a7),_0x44571e[_0x55fcb2(0x66d)]=_0x55fcb2(0x451),_0x44571e[_0x55fcb2(0x4e4)]=_0x55fcb2(0x73c);}(_0x2f047a||(_0x2f047a={})),function(_0x28c7db){const _0x3e6905=_0x32ddeb;_0x28c7db[_0x3e6905(0x7d6)]=_0x3e6905(0x3d7),_0x28c7db['Transaction']='transaction';}(_0x8ba912||(_0x8ba912={})),function(_0x3a7abf){const _0x4d8c80=_0x32ddeb;_0x3a7abf[_0x4d8c80(0x5ea)]='add',_0x3a7abf[_0x4d8c80(0x758)]=_0x4d8c80(0x805),_0x3a7abf[_0x4d8c80(0x57b)]='delete';}(_0x5dac14||(_0x5dac14={})),function(_0x1f9cbe){const _0x3f7e06=_0x32ddeb;_0x1f9cbe[_0x3f7e06(0x605)]=_0x3f7e06(0x798),_0x1f9cbe[_0x3f7e06(0x279)]=_0x3f7e06(0x79a),_0x1f9cbe['Count']='count';}(_0x620343||(_0x620343={})),function(_0x18ef75){const _0x144149=_0x32ddeb;_0x18ef75[_0x18ef75[_0x144149(0x7d6)]=0x0]=_0x144149(0x7d6),_0x18ef75[_0x18ef75[_0x144149(0x7c0)]=0x1]=_0x144149(0x7c0),_0x18ef75[_0x18ef75[_0x144149(0x1de)]=0x2]=_0x144149(0x1de),_0x18ef75[_0x18ef75['PartialResult']=0x3]='PartialResult',_0x18ef75[_0x18ef75['Result']=0x4]=_0x144149(0x2f0),_0x18ef75[_0x18ef75[_0x144149(0x808)]=0x5]=_0x144149(0x808);}(_0x252dbf||(_0x252dbf={})),function(_0x263642){const _0x1e5fba=_0x32ddeb;_0x263642[_0x263642['PeerConnection']=0x0]=_0x1e5fba(0x58b),_0x263642[_0x263642[_0x1e5fba(0x7d7)]=0x1]=_0x1e5fba(0x7d7),_0x263642[_0x263642['Content']=0x2]=_0x1e5fba(0x370),_0x263642[_0x263642['Subscription']=0x3]=_0x1e5fba(0x319),_0x263642[_0x263642['Stats']=0x4]=_0x1e5fba(0x404),_0x263642[_0x263642[_0x1e5fba(0x70a)]=0x5]='Detection',_0x263642[_0x263642[_0x1e5fba(0x25a)]=0x6]=_0x1e5fba(0x25a);}(_0x16f8c2||(_0x16f8c2={}));class _0x5cc783{[_0x32ddeb(0x6d8)];[_0x32ddeb(0x235)];[_0x32ddeb(0x32e)];constructor(_0x57137c,_0x139435){const _0x52e5e8=_0x32ddeb;this['owner']=_0x57137c,this[_0x52e5e8(0x235)]=_0x139435;}[_0x32ddeb(0x7fa)](){const _0x114e93=_0x32ddeb;return this[_0x114e93(0x235)];}['getOwnerId'](){const _0x351148=_0x32ddeb;return this[_0x351148(0x6d8)][_0x351148(0x544)]();}[_0x32ddeb(0x733)](){}[_0x32ddeb(0x7ff)](_0x452401){const _0x4c12c1=_0x32ddeb;this[_0x4c12c1(0x32e)]=_0x452401;}[_0x32ddeb(0x443)](){const _0x2bff45=_0x32ddeb;delete this[_0x2bff45(0x32e)];}}const _0x3ef15c=require('firebase/firestore');let _0x53108e=_0x5a3c9b(0x14d)['O'];function _0x275d3a(_0x26d152){const _0x1f6d53=_0x32ddeb;return!(!_0x26d152||_0x1f6d53(0x610)!=typeof _0x26d152||Array[_0x1f6d53(0x664)](_0x26d152));}_0x53108e=function _0x564e90(_0x3729df,..._0x31edb6){const _0x381b92=_0x32ddeb;if(!Array[_0x381b92(0x664)](_0x31edb6)||0x0===_0x31edb6['length'])return _0x3729df;const _0x369283=_0x31edb6[_0x381b92(0x181)]();if(_0x275d3a(_0x3729df)&&_0x275d3a(_0x369283)){for(const _0x5aafb6 in _0x369283)_0x275d3a(_0x369283[_0x5aafb6])?(_0x3729df[_0x5aafb6]||Object[_0x381b92(0x367)](_0x3729df,{[_0x5aafb6]:{}}),_0x564e90(_0x3729df[_0x5aafb6],_0x369283[_0x5aafb6])):Object[_0x381b92(0x367)](_0x3729df,{[_0x5aafb6]:_0x369283[_0x5aafb6]});}return _0x564e90(_0x3729df,..._0x31edb6);}(_0x53108e,_0x5a3c9b(0x3e6)['O']);const _0x2a4dc1=_0x53108e,_0x58f3fc=require('firebase/app'),_0x1ac969=require('firebase/auth'),_0x5776b7=require('firebase/database'),_0x192331=require('firebase/functions');class _0x2828b9{static ['instance'];[_0x32ddeb(0x270)];[_0x32ddeb(0x184)];[_0x32ddeb(0x4e0)];['database'];['firestore'];[_0x32ddeb(0x212)];constructor(){}static[_0x32ddeb(0x5d0)](){const _0x26a896=_0x32ddeb;return _0x2828b9['instance']||(_0x2828b9[_0x26a896(0x484)]=new _0x2828b9()),_0x2828b9[_0x26a896(0x484)];}['getApp'](){const _0x5b7af3=_0x32ddeb;return this['app']||(this[_0x5b7af3(0x270)]=(0x0,_0x58f3fc[_0x5b7af3(0x42f)])(_0x2a4dc1[_0x5b7af3(0x588)])),this[_0x5b7af3(0x270)];}[_0x32ddeb(0x61b)](){const _0x55fe4c=_0x32ddeb;return this['auth']||(this['auth']=(0x0,_0x1ac969['getAuth'])(this[_0x55fe4c(0x215)]())),this[_0x55fe4c(0x184)];}['getFunctions'](){const _0x1b2828=_0x32ddeb;return this[_0x1b2828(0x4e0)]||(this[_0x1b2828(0x4e0)]=(0x0,_0x192331[_0x1b2828(0x7c1)])(this[_0x1b2828(0x215)](),_0x2a4dc1[_0x1b2828(0x588)][_0x1b2828(0x381)])),this[_0x1b2828(0x4e0)];}[_0x32ddeb(0x4d3)](){const _0x68a443=_0x32ddeb;return this[_0x68a443(0x2db)]||(this['database']=(0x0,_0x5776b7[_0x68a443(0x4d3)])(this[_0x68a443(0x215)]())),this[_0x68a443(0x2db)];}[_0x32ddeb(0x3ca)](){const _0x43c59a=_0x32ddeb;return this[_0x43c59a(0x6a2)]||(this[_0x43c59a(0x6a2)]=(0x0,_0x3ef15c[_0x43c59a(0x3ca)])(this['getApp']())),this['firestore'];}async[_0x32ddeb(0x378)](){const _0x2b10a8=_0x32ddeb;if(this[_0x2b10a8(0x212)])return Date[_0x2b10a8(0x5d9)]()+this[_0x2b10a8(0x212)];const _0x586adb=this[_0x2b10a8(0x4d3)](),_0x204fbd=(0x0,_0x5776b7['ref'])(_0x586adb,'.info/connected'),_0x13b81a=(0x0,_0x5776b7[_0x2b10a8(0x2d9)])(_0x204fbd,_0x504b11=>{const _0x2a3fef=_0x2b10a8;!0x1===_0x504b11[_0x2a3fef(0x6bb)]()&&(_0x13b81a(),delete this[_0x2a3fef(0x212)]);}),_0x2abc07=(0x0,_0x5776b7[_0x2b10a8(0x2ff)])(_0x586adb,_0x2b10a8(0x530));return new Promise(_0xa71839=>{(0x0,_0x5776b7['onValue'])(_0x2abc07,_0x2837a5=>{const _0x4c998e=a0_0x51ad;(0x0,_0x5776b7['off'])(_0x2abc07),this[_0x4c998e(0x212)]=_0x2837a5[_0x4c998e(0x6bb)](),_0xa71839(Date[_0x4c998e(0x5d9)]()+(this[_0x4c998e(0x212)]??0x0));});});}}const _0x194e5e=_0x2828b9[_0x32ddeb(0x5d0)]();class _0xcfc713{static [_0x32ddeb(0x484)];[_0x32ddeb(0x32a)]=[_0x459921[_0x32ddeb(0x50f)]];[_0x32ddeb(0x243)]=!0x0;[_0x32ddeb(0x3db)];[_0x32ddeb(0x3ce)]='';[_0x32ddeb(0x653)];['batchQueue']=[];['currentBatch']=this[_0x32ddeb(0x5aa)]();[_0x32ddeb(0x705)];['retryLimit']=0xa;[_0x32ddeb(0x17a)]=0x1f4;[_0x32ddeb(0x752)]=0x1c2;[_0x32ddeb(0x411)]=0x3e8;constructor(){const _0x58aaba=_0x32ddeb;if(_0x58aaba(0x2fb)!=typeof window)this[_0x58aaba(0x653)]=window;else{if(void 0x0===_0x5a3c9b['g'])throw new Error(_0x58aaba(0x7b1));this[_0x58aaba(0x653)]=_0x5a3c9b['g'];}this[_0x58aaba(0x64e)](),this[_0x58aaba(0x653)]['crewdleSDKEnableLogging']=_0x2d1d2f=>{const _0x5837ea=_0x58aaba;if(_0x2d1d2f===_0x459921[_0x5837ea(0x7be)])return this[_0x5837ea(0x32a)]=Object[_0x5837ea(0x79b)](_0x459921)[_0x5837ea(0x1a1)](_0x20067b=>_0x459921[_0x20067b]),void Object[_0x5837ea(0x79b)](_0x459921)[_0x5837ea(0x801)](_0x28ed30=>{const _0xcec25e=_0x5837ea,_0x190e6f=_0x28ed30;localStorage[_0xcec25e(0x490)](_0xcec25e(0x286)+_0x459921[_0x190e6f],_0xcec25e(0x1b9));});this[_0x5837ea(0x32a)][_0x5837ea(0x31c)](_0x2d1d2f)||(this[_0x5837ea(0x32a)]['push'](_0x2d1d2f),localStorage[_0x5837ea(0x490)](_0x5837ea(0x286)+_0x2d1d2f,'true'));},this[_0x58aaba(0x653)]['crewdleSDKDisableLogging']=_0x599a60=>{const _0x1aeec3=_0x58aaba;if(!_0x599a60||_0x599a60===_0x459921[_0x1aeec3(0x7be)])return this['enabledChannels']=[],void Object['keys'](_0x459921)[_0x1aeec3(0x801)](_0x3500d7=>{const _0x54f539=_0x3500d7;localStorage['removeItem']('crewdle-sdk-logging-'+_0x459921[_0x54f539]);});this['enabledChannels'][_0x1aeec3(0x31c)](_0x599a60)&&(this['enabledChannels']=this[_0x1aeec3(0x32a)][_0x1aeec3(0x6fc)](_0x3c7d4b=>_0x3c7d4b!==_0x599a60),localStorage[_0x1aeec3(0x458)](_0x1aeec3(0x286)+_0x599a60));},this['globalObject'][_0x58aaba(0x5a4)]=_0x459921;}static[_0x32ddeb(0x5d0)](){const _0x103ce5=_0x32ddeb;try{return _0xcfc713['instance']||(_0xcfc713[_0x103ce5(0x484)]=new _0xcfc713()),_0xcfc713['instance'];}catch(_0x21f612){return console[_0x103ce5(0x4fe)]('Logger.getInstance',_0x21f612),{'log':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1};}}[_0x32ddeb(0x680)](_0x1b57c7){const _0x27e0f7=_0x32ddeb;this[_0x27e0f7(0x3ce)]=_0x1b57c7;}['setLoggingConnectors'](_0x6b7153){const _0x5b1183=_0x32ddeb;this[_0x5b1183(0x3db)]=_0x6b7153;}['debug'](_0x55eac1,..._0x57e938){const _0x73fe19=_0x32ddeb;this[_0x73fe19(0x243)]&&this[_0x73fe19(0x419)](_0x459921['Default'],_0x73fe19(0x2f8)+_0x55eac1,..._0x57e938);}[_0x32ddeb(0x419)](_0x3d30d1,_0x3eaffd,..._0x127d33){const _0x58d29e=_0x32ddeb;_0x2a4dc1[_0x58d29e(0x5b9)]||(this[_0x58d29e(0x32a)][_0x58d29e(0x31c)](_0x3d30d1)&&console[_0x58d29e(0x419)](_0x58d29e(0x75f)+_0x3d30d1+'\x27\x0a',new Date()+'\x0a',_0x3eaffd,..._0x127d33),this[_0x58d29e(0x3db)]&&this[_0x58d29e(0x3db)][_0x58d29e(0x801)](_0x26373c=>{const _0x4d0367=_0x58d29e;this[_0x4d0367(0x70d)](_0x26373c)&&_0x26373c[_0x4d0367(0x65f)]()[_0x4d0367(0x31c)](_0x3d30d1)&&_0x26373c[_0x4d0367(0x419)](_0x3eaffd,{'vendorId':this[_0x4d0367(0x3ce)],'nodeId':'','nodeType':'','data':{'channel':_0x3d30d1,..._0x127d33}});}));}['logRaw'](_0x5a08b6,_0x462d64,..._0x5d9fce){const _0x41954e=_0x32ddeb;_0x2a4dc1[_0x41954e(0x5b9)]||(this[_0x41954e(0x32a)]['includes'](_0x5a08b6)&&console[_0x41954e(0x419)](_0x462d64,..._0x5d9fce),this[_0x41954e(0x3db)]&&this[_0x41954e(0x3db)]['forEach'](_0x41ceba=>{const _0x15096d=_0x41954e;this['isInternalLoggingConnector'](_0x41ceba)&&_0x41ceba[_0x15096d(0x65f)]()['includes'](_0x5a08b6)&&_0x41ceba[_0x15096d(0x419)](_0x462d64,{'vendorId':this[_0x15096d(0x3ce)],'nodeId':'','nodeType':'','data':{'channel':_0x5a08b6,..._0x5d9fce}});}));}[_0x32ddeb(0x196)](_0x2e00b1,_0x3d53b3){const _0x5a46e2=_0x32ddeb;if(!this[_0x5a46e2(0x3db)])return;const _0x5c4efa={'vendorId':this[_0x5a46e2(0x3ce)],..._0x3d53b3};this['loggingConnectors'][_0x5a46e2(0x801)](_0x5768b5=>{const _0x33b5c3=_0x5a46e2;_0x5768b5[_0x33b5c3(0x419)](_0x2e00b1,_0x5c4efa);});}[_0x32ddeb(0x46f)](_0x4cb2b5,_0x4e0ce5){const _0x31b0de=_0x32ddeb,_0x278309=(0x0,_0x3ef15c[_0x31b0de(0x294)])((0x0,_0x3ef15c[_0x31b0de(0x512)])(_0x194e5e[_0x31b0de(0x3ca)](),_0x31b0de(0x570)+this[_0x31b0de(0x3ce)]+_0x31b0de(0x311)));this[_0x31b0de(0x527)]['batch'][_0x31b0de(0x36d)](_0x278309,{..._0x4e0ce5,'service':_0x4cb2b5,'timestamp':(0x0,_0x3ef15c['serverTimestamp'])()}),this[_0x31b0de(0x527)][_0x31b0de(0x44a)]['push']({'type':_0x31b0de(0x36d),'ref':_0x278309[_0x31b0de(0x7b8)],'data':_0x4e0ce5}),this['logBatch']();}['logStorage'](_0x2a0e14,_0x5b1496,_0x255849){const _0x173251=_0x32ddeb;(0x0,_0x3ef15c['setDoc'])((0x0,_0x3ef15c[_0x173251(0x294)])(_0x194e5e[_0x173251(0x3ca)](),_0x173251(0x570)+this[_0x173251(0x3ce)]+'/'+_0x2a0e14+'/'+_0x5b1496),{'storage':_0x255849,'timestamp':(0x0,_0x3ef15c[_0x173251(0x2ba)])()});}[_0x32ddeb(0x21f)](){const _0x27f3b7=_0x32ddeb;this[_0x27f3b7(0x527)]['counter']++,this[_0x27f3b7(0x527)][_0x27f3b7(0x7c9)]===this[_0x27f3b7(0x752)]?this['processBatch']():this[_0x27f3b7(0x705)]||(this[_0x27f3b7(0x705)]=this[_0x27f3b7(0x653)][_0x27f3b7(0x7bc)](()=>this['processBatch'](),this[_0x27f3b7(0x411)]));}async[_0x32ddeb(0x6e3)](){const _0x211e5e=_0x32ddeb;for(this[_0x211e5e(0x260)][_0x211e5e(0x6f1)](this[_0x211e5e(0x527)]),this[_0x211e5e(0x527)]=this['createNewBatch']();this[_0x211e5e(0x260)][_0x211e5e(0x19d)]>0x0;){const _0x21af37=this['batchQueue'][_0x211e5e(0x181)]();if(!await this[_0x211e5e(0x6d2)](_0x21af37,0x0))break;}clearTimeout(this[_0x211e5e(0x705)]),this[_0x211e5e(0x705)]=void 0x0;}async['commitBatch'](_0x1ff7c4,_0x35c7c4){const _0x3e372b=_0x32ddeb;if(_0x1ff7c4[_0x3e372b(0x7c9)]>0x0)try{return await _0x1ff7c4['batch']['commit'](),!0x0;}catch(_0x471212){if(console[_0x3e372b(0x4fe)](_0x3e372b(0x188),_0x471212,_0x3e372b(0x3d8),_0x1ff7c4[_0x3e372b(0x44a)]),!(_0x35c7c4<this[_0x3e372b(0x339)])){const {nodeId:_0x453d99='',nodeType:_0x25378a='',clusterId:_0x1f582e=''}=_0x1ff7c4['operations'][0x0]['data'],_0xc579c={'nodeId':_0x453d99,'nodeType':_0x25378a,'clusterId':_0x1f582e,'data':{'operations':_0x1ff7c4[_0x3e372b(0x44a)],'error':_0x471212}};return this['error']('Failed\x20to\x20commit\x20batch\x20after\x20retries:',_0xc579c),!0x1;}setTimeout(()=>this[_0x3e372b(0x6d2)](_0x1ff7c4,_0x35c7c4+0x1),this[_0x3e372b(0x17a)]*Math[_0x3e372b(0x180)](0x2,_0x35c7c4));}}[_0x32ddeb(0x4fe)](_0x34711a,_0x473ab9,..._0x30307f){const _0x9b9b61=_0x32ddeb;if(console['error'](new Date(),_0x34711a,_0x473ab9,..._0x30307f),this[_0x9b9b61(0x3db)]){const _0x4b3223={'vendorId':this[_0x9b9b61(0x3ce)],..._0x473ab9};this[_0x9b9b61(0x3db)][_0x9b9b61(0x801)](_0x3f5c2f=>{const _0x87131c=_0x9b9b61;_0x3f5c2f[_0x87131c(0x4fe)](_0x34711a,_0x4b3223);});}}[_0x32ddeb(0x448)](_0x13d08e,_0x48994f,..._0x57eea4){const _0x956d88=_0x32ddeb;if(console[_0x956d88(0x217)](new Date(),_0x13d08e,_0x48994f,_0x57eea4),this[_0x956d88(0x3db)]){const _0x326d12={'vendorId':this[_0x956d88(0x3ce)],..._0x48994f};this[_0x956d88(0x3db)]['forEach'](_0x62bdea=>{_0x62bdea['warn'](_0x13d08e,_0x326d12);});}}['isChannelEnabled'](_0x33a478){const _0x1abd68=_0x32ddeb;return this[_0x1abd68(0x32a)][_0x1abd68(0x31c)](_0x33a478);}[_0x32ddeb(0x64e)](){const _0x14efa4=_0x32ddeb;try{Object[_0x14efa4(0x79b)](_0x459921)['forEach'](_0x59e430=>{const _0x52703b=_0x14efa4,_0x4ffe54=_0x59e430;localStorage[_0x52703b(0x287)](_0x52703b(0x286)+_0x459921[_0x4ffe54])&&(console['log'](_0x52703b(0x353),_0x459921[_0x4ffe54]),this['enabledChannels'][_0x52703b(0x6f1)](_0x459921[_0x4ffe54]));});}catch(_0x22d173){}}[_0x32ddeb(0x70d)](_0x438f0e){return void 0x0!==_0x438f0e['getEnabledChannels'];}[_0x32ddeb(0x5aa)](){const _0x46e4bb=_0x32ddeb;return{'batch':(0x0,_0x3ef15c[_0x46e4bb(0x6ec)])(_0x194e5e[_0x46e4bb(0x3ca)]()),'operations':[],'counter':0x0};}}const _0x1709c0=_0xcfc713[_0x32ddeb(0x5d0)]();function _0x1c156a(_0x4f470a,_0x35d446){return'/'===_0x4f470a?_0x4f470a+_0x35d446:_0x4f470a+'/'+_0x35d446;}function _0x201aac(_0x3bb5aa){const _0x48afe8=_0x32ddeb,_0xe20d85=function(_0x203db8){const _0x4227ec=a0_0x51ad;return _0x203db8[_0x4227ec(0x39b)]('/')['filter'](_0x2efdce=>_0x2efdce[_0x4227ec(0x19d)]>0x0);}(_0x3bb5aa),_0x414b38=_0xe20d85['pop']()||'',_0x539c84=_0xe20d85['join']('/');return[0x0===_0x539c84[_0x48afe8(0x19d)]?'/':_0x539c84,_0x414b38];}async function _0x3cbb1e(_0x5a96bc){const _0x3a3bf9=_0x32ddeb;let _0x1e7e9a=0x0;for(let _0x1dd639=0x0;_0x1dd639<_0x5a96bc[_0x3a3bf9(0x36a)];_0x1dd639+=_0x39b198){const _0x1a7534=_0x5a96bc[_0x3a3bf9(0x6c2)](_0x1dd639,_0x1dd639+_0x39b198),_0x2409b5=await _0x1a7534['arrayBuffer'](),_0x1ecf6f=new Uint8Array(_0x2409b5);for(const _0x4ba6a1 of _0x1ecf6f)_0x1e7e9a+=_0x4ba6a1;}return _0x1e7e9a[_0x3a3bf9(0x1d0)]();}function _0x1ce271(_0x156d2d){return new Promise((_0x465be1,_0x389791)=>{!function(_0x45f030,_0x2aee08,_0x571637){let _0x21d30a=0x0;const _0x142d55=[],_0x151db4=async()=>{const _0x1ac0b4=a0_0x51ad;let _0x4b1423=_0x21d30a+_0x39b198;_0x4b1423>_0x45f030[_0x1ac0b4(0x36a)]&&(_0x4b1423=_0x45f030[_0x1ac0b4(0x36a)]);let _0xfa2927=_0x45f030[_0x1ac0b4(0x6c2)](_0x21d30a,_0x4b1423);const _0x1382b4=await _0xfa2927[_0x1ac0b4(0x79c)]();_0x142d55[_0x1ac0b4(0x6f1)](_0x1382b4),_0x21d30a=_0x4b1423,_0x21d30a<_0x45f030[_0x1ac0b4(0x36a)]?_0x151db4():_0x2aee08(_0x142d55);};_0x151db4();}(_0x156d2d,_0x465be1);});}function _0x111b82(_0x4dc1e4,_0x765b9,_0x39b97d){return new File(_0x4dc1e4,_0x765b9,{'type':_0x39b97d});}class _0x590966 extends _0x5cc783{['outgoingTopic'];[_0x32ddeb(0x518)];[_0x32ddeb(0x583)]=new Map();[_0x32ddeb(0x611)]=0x0;['messagesReceived']=0x0;[_0x32ddeb(0x504)]=0x0;['bytesReceived']=0x0;constructor(_0xcc3397,_0x2a4b90){super(_0xcc3397,_0x2a4b90);}['getLabel'](){const _0x5bb897=_0x32ddeb;return this[_0x5bb897(0x235)];}['getName'](){const _0x473a8d=_0x32ddeb;return this[_0x473a8d(0x235)];}[_0x32ddeb(0x373)](){const _0x3ccec5=_0x32ddeb;return _0x16caec[_0x3ccec5(0x76d)][_0x3ccec5(0x5f6)];}[_0x32ddeb(0x55b)](){return this['label'];}[_0x32ddeb(0x67d)](_0x46b33c){const _0x4d2162=_0x32ddeb;if(this['outgoingTopic'])throw new _0x4daf03(_0x4daf03[_0x4d2162(0x719)][_0x4d2162(0x5eb)],{'message':_0x4d2162(0x5c6)+this['owner']['getId']()+_0x4d2162(0x655)+this[_0x4d2162(0x235)],'topic':this[_0x4d2162(0x575)]});this[_0x4d2162(0x575)]=_0x46b33c;}[_0x32ddeb(0x6e4)](_0x399ee0){const _0x2fb1cc=_0x32ddeb;if(this[_0x2fb1cc(0x518)])throw new _0x4daf03(_0x4daf03['codes'][_0x2fb1cc(0x48d)],{'message':'Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20'+this[_0x2fb1cc(0x6d8)][_0x2fb1cc(0x544)]()+_0x2fb1cc(0x655)+this[_0x2fb1cc(0x235)],'topic':this[_0x2fb1cc(0x518)]});this[_0x2fb1cc(0x518)]=_0x399ee0;}[_0x32ddeb(0x735)](){const _0x3f0438=_0x32ddeb;delete this[_0x3f0438(0x575)];}[_0x32ddeb(0x5da)](){const _0x29cc94=_0x32ddeb;delete this[_0x29cc94(0x518)];}async[_0x32ddeb(0x5a2)](_0x3a0201,_0x51f15f){const _0x3f625e=_0x32ddeb;if(_0x1709c0['log'](_0x459921['DataStream'],_0x3f625e(0x464),this[_0x3f625e(0x6d8)][_0x3f625e(0x544)](),_0x3a0201,_0x51f15f),this['messagesSent']+=0x1,_0x3a0201 instanceof File){const _0x53ba8e=await _0x1ce271(_0x3a0201);return this[_0x3f625e(0x504)]+=_0x53ba8e[_0x3f625e(0x1d2)]((_0x54c358,_0x15fb03)=>_0x54c358+_0x15fb03[_0x3f625e(0x22d)],0x0),void _0x53ba8e['forEach']((_0x10d5c6,_0x305b5d)=>{const _0x47c2d5=_0x3f625e;this[_0x47c2d5(0x575)][_0x47c2d5(0x7db)]({'sourceId':this[_0x47c2d5(0x6d8)][_0x47c2d5(0x544)](),'destinationIds':_0x51f15f,'propagate':!0x0,'contentType':_0x16caec[_0x47c2d5(0x76d)][_0x47c2d5(0x39d)],'content':{'name':_0x3a0201[_0x47c2d5(0x473)],'type':_0x3a0201['type'],'data':_0x10d5c6,'index':_0x305b5d,'total':_0x53ba8e[_0x47c2d5(0x19d)]}});});}this[_0x3f625e(0x504)]+=JSON[_0x3f625e(0x5d7)](_0x3a0201)[_0x3f625e(0x19d)],this[_0x3f625e(0x575)][_0x3f625e(0x7db)]({'sourceId':this[_0x3f625e(0x6d8)][_0x3f625e(0x544)](),'destinationIds':_0x51f15f,'propagate':!0x0,'contentType':_0x16caec[_0x3f625e(0x76d)][_0x3f625e(0x5f6)],'content':_0x3a0201});}['onMessage'](_0x1caa2a){const _0x2f6369=_0x32ddeb;return this['incomingTopic'][_0x2f6369(0x558)](_0x28565a=>{const _0x247e12=_0x2f6369;switch(_0x1709c0[_0x247e12(0x419)](_0x459921[_0x247e12(0x267)],_0x247e12(0x414),this[_0x247e12(0x6d8)][_0x247e12(0x544)](),_0x28565a),_0x28565a[_0x247e12(0x1e8)]){case _0x16caec[_0x247e12(0x76d)][_0x247e12(0x5f6)]:this['messagesReceived']+=0x1,this[_0x247e12(0x2f6)]+=JSON[_0x247e12(0x5d7)](_0x28565a[_0x247e12(0x41b)])[_0x247e12(0x19d)],_0x1caa2a(_0x28565a['sourceId'],_0x28565a['content']);break;case _0x16caec[_0x247e12(0x76d)][_0x247e12(0x39d)]:this['fileChunks'][_0x247e12(0x5ae)](_0x28565a[_0x247e12(0x41b)][_0x247e12(0x473)])||this[_0x247e12(0x583)][_0x247e12(0x36d)](_0x28565a[_0x247e12(0x41b)][_0x247e12(0x473)],[]);const _0x69e451=this['fileChunks'][_0x247e12(0x798)](_0x28565a['content'][_0x247e12(0x473)]);_0x69e451[_0x28565a[_0x247e12(0x41b)][_0x247e12(0x696)]]=_0x28565a[_0x247e12(0x41b)][_0x247e12(0x777)],_0x69e451[_0x247e12(0x19d)]===_0x28565a['content'][_0x247e12(0x27a)]&&(this[_0x247e12(0x1e7)]+=0x1,this[_0x247e12(0x2f6)]+=_0x69e451['reduce']((_0x5e0eeb,_0x594f8c)=>_0x5e0eeb+_0x594f8c[_0x247e12(0x22d)],0x0),_0x1caa2a(_0x28565a[_0x247e12(0x1ad)],_0x111b82(_0x69e451,_0x28565a[_0x247e12(0x41b)][_0x247e12(0x473)],_0x28565a[_0x247e12(0x41b)]['type'])),this['fileChunks'][_0x247e12(0x27d)](_0x28565a[_0x247e12(0x41b)][_0x247e12(0x473)]));}});}}function _0x1f49a7(){const _0x385797=_0x32ddeb;let _0x67efba=[];return{'subscribe':_0x573f9a=>(_0x67efba[_0x385797(0x6f1)](_0x573f9a),()=>{_0x67efba=_0x67efba['filter'](_0xfb424=>_0xfb424!==_0x573f9a);}),'publish':_0xea0669=>{const _0x297b8c=_0x385797;_0x67efba[_0x297b8c(0x801)](_0x1d397f=>_0x1d397f(_0xea0669));}};}function _0x70c74f(){let _0x275ab1;return{'subscribe':_0x5b4d24=>(_0x275ab1=_0x5b4d24,()=>{_0x275ab1=void 0x0;}),'publish':_0x55aa3a=>{_0x275ab1&&_0x275ab1(_0x55aa3a);}};}class _0x503c08{[_0x32ddeb(0x5f8)];[_0x32ddeb(0x2d8)];[_0x32ddeb(0x195)];['eventListener']=_0x70c74f();['listenerUnsubscriber'];constructor(_0x12a3c3,_0x347df9,_0x150478){const _0x5d41e9=_0x32ddeb;this[_0x5d41e9(0x5f8)]=_0x12a3c3,this[_0x5d41e9(0x2d8)]=_0x347df9,this[_0x5d41e9(0x195)]=_0x150478;}[_0x32ddeb(0x733)](){const _0x418118=_0x32ddeb;this[_0x418118(0x17b)]?.();}async['get'](_0x370fb1){const _0x531f90=_0x32ddeb,_0x57b3ef={'key':_0x370fb1,'tableName':this['tableName'],'action':_0x620343[_0x531f90(0x605)]};return this[_0x531f90(0x195)]['publish'](_0x57b3ef),this[_0x531f90(0x5f8)][_0x531f90(0x798)](_0x370fb1);}async['set'](_0x5cd2db,_0x448303,_0x33bd42=!0x0){const _0x157b1f=_0x32ddeb;this['validateValue'](_0x448303);const _0x2971c6=await this[_0x157b1f(0x5f8)][_0x157b1f(0x798)](_0x5cd2db),_0x63fe8b=await this[_0x157b1f(0x5f8)][_0x157b1f(0x36d)](_0x5cd2db,_0x448303),_0x40c158=_0x2971c6?_0x5dac14['Update']:_0x5dac14[_0x157b1f(0x5ea)];if(this[_0x157b1f(0x7db)](_0x40c158,_0x63fe8b),!_0x33bd42)return _0x63fe8b;const _0x114275={'key':_0x5cd2db,'tableName':this[_0x157b1f(0x2d8)],'action':_0x40c158,'value':_0x63fe8b};return this[_0x157b1f(0x195)]['publish'](_0x114275),_0x63fe8b;}async[_0x32ddeb(0x259)](_0x969603){const _0x5a7f68=_0x32ddeb;this[_0x5a7f68(0x4b3)](_0x969603);const _0x4ee8e9=await this['connector'][_0x5a7f68(0x259)](_0x969603),_0x395b65={'key':_0x4ee8e9['id'],'tableName':this['tableName'],'action':_0x5dac14['Add'],'value':_0x4ee8e9};return this[_0x5a7f68(0x195)]['publish'](_0x395b65),this[_0x5a7f68(0x7db)](_0x395b65['action'],_0x4ee8e9),_0x4ee8e9;}async[_0x32ddeb(0x27d)](_0x4a9585,_0xfd5907=!0x0){const _0x5d5e5a=_0x32ddeb,_0x222b4d=await this[_0x5d5e5a(0x5f8)][_0x5d5e5a(0x798)](_0x4a9585);if(!_0x222b4d)return;await this[_0x5d5e5a(0x5f8)][_0x5d5e5a(0x27d)](_0x4a9585);const _0x558a5c=_0x5dac14[_0x5d5e5a(0x57b)];if(this[_0x5d5e5a(0x7db)](_0x558a5c,_0x222b4d),!_0xfd5907)return;const _0x5b3703={'key':_0x4a9585,'tableName':this[_0x5d5e5a(0x2d8)],'action':_0x558a5c,'value':_0x222b4d};this[_0x5d5e5a(0x195)][_0x5d5e5a(0x7db)](_0x5b3703);}async[_0x32ddeb(0x532)](){const _0x2f0234=_0x32ddeb,_0x1d5b97=await this[_0x2f0234(0x79a)]();for(const _0x2056f2 of _0x1d5b97){const _0x24c60e=_0x5dac14['Delete'];this[_0x2f0234(0x7db)](_0x24c60e,_0x2056f2);const _0x357bda={'key':_0x2056f2['id'],'tableName':this['tableName'],'action':_0x24c60e,'value':_0x2056f2};this[_0x2f0234(0x195)][_0x2f0234(0x7db)](_0x357bda);}return this[_0x2f0234(0x5f8)][_0x2f0234(0x532)]();}async[_0x32ddeb(0x79a)](_0x41c688){const _0x5c4172=_0x32ddeb,_0xd53a8={'key':'','tableName':this['tableName'],'action':_0x620343[_0x5c4172(0x279)]};this[_0x5c4172(0x195)][_0x5c4172(0x7db)](_0xd53a8);try{_0x41c688&&(_0x41c688=_0x41c688 instanceof _0x331ec9?_0x41c688[_0x5c4172(0x1fe)]():_0x331ec9['buildQuery'](_0x41c688)[_0x5c4172(0x1fe)]());}catch(_0x178360){throw new _0x56574a(_0x2379f6[_0x5c4172(0x4c9)],_0x5c4172(0x66c));}try{return await this[_0x5c4172(0x5f8)][_0x5c4172(0x79a)](_0x41c688);}catch(_0x3a8a4e){let _0x362499=_0x5c4172(0x66c);throw _0x3a8a4e instanceof Error&&(_0x362499=_0x3a8a4e['message']),new _0x56574a(_0x2379f6['KeyValueDatabaseInvalidQuery'],_0x362499);}}async[_0x32ddeb(0x3d9)](_0x2cc588){const _0x2861a0=_0x32ddeb,_0x5ef3dc={'key':'','tableName':this[_0x2861a0(0x2d8)],'action':_0x620343['Count']};this[_0x2861a0(0x195)]['publish'](_0x5ef3dc);try{_0x2cc588&&(_0x2cc588=_0x2cc588 instanceof _0x331ec9?_0x2cc588['getQuery']():_0x331ec9[_0x2861a0(0x7fb)](_0x2cc588)['getQuery']());}catch(_0x304ae4){throw new _0x56574a(_0x2379f6[_0x2861a0(0x4c9)],_0x2861a0(0x66c));}try{return await this[_0x2861a0(0x5f8)][_0x2861a0(0x3d9)](_0x2cc588);}catch(_0x10ef8b){let _0x44a5ee=_0x2861a0(0x66c);throw _0x10ef8b instanceof Error&&(_0x44a5ee=_0x10ef8b['message']),new _0x56574a(_0x2379f6[_0x2861a0(0x4c9)],_0x44a5ee);}}[_0x32ddeb(0x6c4)](){const _0xf79c92=_0x32ddeb;return this[_0xf79c92(0x5f8)][_0xf79c92(0x6c4)]();}['subscribe'](_0x144d1d){const _0x4e9691=_0x32ddeb;this[_0x4e9691(0x17b)]=this['eventListener'][_0x4e9691(0x558)](_0x144d1d);}[_0x32ddeb(0x300)](){const _0x5bb856=_0x32ddeb;this[_0x5bb856(0x17b)]?.();}[_0x32ddeb(0x7db)](_0x5e4915,_0x5208bc){const _0x1941c9=_0x32ddeb,_0x2aef26=this[_0x1941c9(0x739)](_0x5e4915,_0x5208bc);this['eventListener'][_0x1941c9(0x7db)](_0x2aef26);}[_0x32ddeb(0x739)](_0x5e22dc,_0x8b7145){const _0xf223ec=_0x32ddeb;let _0x69a18b;switch(_0x5e22dc){case _0x5dac14['Add']:_0x69a18b=_0xf223ec(0x259);break;case _0x5dac14['Update']:_0x69a18b=_0xf223ec(0x805);break;case _0x5dac14[_0xf223ec(0x57b)]:_0x69a18b=_0xf223ec(0x27d);}return{'action':_0x69a18b,'value':_0x8b7145};}[_0x32ddeb(0x4b3)](_0x62533f){const _0x5529be=_0x32ddeb;if(_0x5529be(0x610)!=typeof _0x62533f||null===_0x62533f)throw new _0x56574a(_0x2379f6[_0x5529be(0x2a3)],'Invalid\x20value.\x20Must\x20be\x20an\x20object.');for(const _0x4f4ece in _0x62533f){const _0x444733=_0x62533f[_0x4f4ece];if(_0x5529be(0x610)!=typeof _0x444733||_0x444733 instanceof Date){if(![_0x5529be(0x1ed),'number',_0x5529be(0x1d1)]['includes'](typeof _0x444733))throw new _0x56574a(_0x2379f6['KeyValueDatabaseInvalidValue'],_0x5529be(0x70e)+_0x4f4ece+_0x5529be(0x6a9));}else this['validateValue'](_0x444733);}}}class _0x25bc34 extends _0x590966{[_0x32ddeb(0x7a2)];[_0x32ddeb(0x713)];['vendorId'];['db'];[_0x32ddeb(0x68e)];[_0x32ddeb(0x545)]=new Map();[_0x32ddeb(0x195)];[_0x32ddeb(0x198)];['tableUnsubscriber'];[_0x32ddeb(0x7f0)];[_0x32ddeb(0x5be)];[_0x32ddeb(0x37b)]=[];['timeoutCallback']=()=>{};[_0x32ddeb(0x467)];[_0x32ddeb(0x6af)]=_0x70c74f();['listenerUnsubscriber'];['syncTransactionsWritten']=[];[_0x32ddeb(0x421)];[_0x32ddeb(0x584)];[_0x32ddeb(0x3d3)]=0x0;[_0x32ddeb(0x61a)]=0x0;constructor(_0x374780,_0xec2668,_0x35d223,_0x4aeb13,_0x298bf8,_0x40c4c2){const _0x21f65f=_0x32ddeb;if(_0x21f65f(0x1ed)!=typeof _0xec2668)throw new _0x56574a(_0x2379f6[_0x21f65f(0x4b8)],_0x21f65f(0x789));if(super(_0x374780,_0xec2668),this[_0x21f65f(0x7a2)]=_0x374780,this[_0x21f65f(0x713)]=_0x35d223,this[_0x21f65f(0x3ce)]=_0x4aeb13,this['dbKey']=_0x21f65f(0x514)+this[_0x21f65f(0x3ce)]+_0x21f65f(0x514)+this[_0x21f65f(0x713)]+_0x21f65f(0x514)+this[_0x21f65f(0x235)],this[_0x21f65f(0x195)]=_0x70c74f(),this[_0x21f65f(0x7f0)]=new Promise(_0x543c89=>{const _0x52ef55=_0x21f65f;this[_0x52ef55(0x5be)]=_0x543c89;}),_0x298bf8 instanceof _0x5c981a)this[_0x21f65f(0x421)]=_0x298bf8[_0x21f65f(0x52b)]();else{const [_0x52dd5e,_0x4bc42d]=_0x5c981a['validateLayout'](_0x298bf8);if(!_0x52dd5e)throw new _0x56574a(_0x2379f6[_0x21f65f(0x4dd)],_0x21f65f(0x2c7)+_0x4bc42d);this[_0x21f65f(0x421)]=_0x298bf8;}this['addReservedTables'](this['layout']),this['db']=new _0x40c4c2(this['dbKey'],this[_0x21f65f(0x421)]),this[_0x21f65f(0x614)]();}[_0x32ddeb(0x2e9)](){const _0x56a660=_0x32ddeb;this[_0x56a660(0x614)]();}['getContentType'](){const _0xc96ec0=_0x32ddeb;return _0x16caec[_0xc96ec0(0x76d)]['KeyValueDatabase'];}[_0x32ddeb(0x733)](){const _0x32d578=_0x32ddeb;this['db'][_0x32d578(0x36f)](),this[_0x32d578(0x1b1)]?.(),clearTimeout(this[_0x32d578(0x584)]),delete this['debounceStats'],super[_0x32d578(0x733)]();}[_0x32ddeb(0x36f)](){const _0x7c837d=_0x32ddeb;this[_0x7c837d(0x32e)][_0x7c837d(0x7db)]({'sourceId':_0x514c9c,'messageType':_0x16f8c2[_0x7c837d(0x370)],'content':{'type':_0x36fe9a[_0x7c837d(0x4ff)],'label':this[_0x7c837d(0x235)]}});}[_0x32ddeb(0x336)](_0x5e7d36){const _0x5665e0=_0x32ddeb,_0x53d374=this['tables'][_0x5665e0(0x798)](_0x5e7d36);if(_0x53d374)return _0x53d374;try{if(!this['db'][_0x5665e0(0x413)](_0x5e7d36))throw new _0x56574a(_0x2379f6[_0x5665e0(0x4df)],_0x5665e0(0x35e));const _0x488efe=new _0x503c08(this['db'][_0x5665e0(0x204)](_0x5e7d36),_0x5e7d36,this[_0x5665e0(0x195)]);return this[_0x5665e0(0x545)][_0x5665e0(0x36d)](_0x5e7d36,_0x488efe),{'get':_0x488efe['get'][_0x5665e0(0x499)](_0x488efe),'set':_0x488efe[_0x5665e0(0x36d)][_0x5665e0(0x499)](_0x488efe),'add':_0x488efe[_0x5665e0(0x259)][_0x5665e0(0x499)](_0x488efe),'delete':_0x488efe[_0x5665e0(0x27d)][_0x5665e0(0x499)](_0x488efe),'clear':_0x488efe['clear'][_0x5665e0(0x499)](_0x488efe),'list':_0x488efe[_0x5665e0(0x79a)]['bind'](_0x488efe),'count':_0x488efe['count'][_0x5665e0(0x499)](_0x488efe),'subscribe':_0x488efe['subscribe'][_0x5665e0(0x499)](_0x488efe),'unsubscribe':_0x488efe[_0x5665e0(0x300)][_0x5665e0(0x499)](_0x488efe)};}catch(_0x403688){throw new _0x56574a(_0x2379f6[_0x5665e0(0x3b5)],_0x5665e0(0x375));}}['subscribe'](_0x187506){const _0x3fc37f=_0x32ddeb;this[_0x3fc37f(0x17b)]=this[_0x3fc37f(0x6af)][_0x3fc37f(0x558)](_0x187506);}['unsubscribe'](){const _0x2128a9=_0x32ddeb;this[_0x2128a9(0x17b)]?.(),this[_0x2128a9(0x17b)]=void 0x0;}async[_0x32ddeb(0x800)](){const _0x4570c9=_0x32ddeb,_0x5d6af4=[_0x23f8e5,_0x26dec4],_0x55e652=[];try{await this['db'][_0x4570c9(0x800)]();const _0x522a3f=this['db'][_0x4570c9(0x204)](_0x26dec4),_0x78b459=await _0x522a3f[_0x4570c9(0x79a)](),{id:_0x3a1a08,layout:_0x163bce}=_0x78b459[0x0]??{};if(_0x163bce){for(const _0x5b9a88 in _0x163bce)_0x5d6af4[_0x4570c9(0x31c)](_0x5b9a88)||this['db'][_0x4570c9(0x413)](_0x5b9a88)||_0x55e652['push'](_0x5b9a88);_0x522a3f[_0x4570c9(0x36d)](_0x3a1a08,{'layout':this[_0x4570c9(0x421)]});}else _0x522a3f[_0x4570c9(0x259)]({'layout':this[_0x4570c9(0x421)]});}catch(_0x17ae67){throw new _0x56574a(_0x2379f6[_0x4570c9(0x3b5)],_0x17ae67[_0x4570c9(0x26e)]||_0x4570c9(0x5b0));}this[_0x4570c9(0x362)](),this[_0x4570c9(0x658)](),this['setOnTableWriteHandler'](),_0x55e652['forEach'](_0x446f90=>this[_0x4570c9(0x5c1)](_0x446f90));}async[_0x32ddeb(0x407)](_0x8cda93,_0x363921){const _0x13bd98=_0x32ddeb;_0x8cda93?(this[_0x13bd98(0x750)]=_0x363921,this['syncTimeout']=setTimeout(_0x363921,_0x1fc73b),this[_0x13bd98(0x32e)][_0x13bd98(0x7db)]({'sourceId':this['localNode'][_0x13bd98(0x544)](),'destinationIds':[_0x8cda93],'messageType':_0x16f8c2[_0x13bd98(0x370)],'content':{'type':_0x36fe9a['RequestSyncKeyValueDatabase'],'label':this[_0x13bd98(0x235)]}}),await this[_0x13bd98(0x7f0)]):setTimeout(()=>{this['clearSyncTimeout'](),this['publishSyncCompleted']();},0x0);}async['sendTransactionsDump'](_0x4acbf3){const _0x241390=_0x32ddeb;if(!this[_0x241390(0x198)])throw new _0x4daf03(_0x4daf03[_0x241390(0x719)][_0x241390(0x67e)]);await this[_0x241390(0x7f0)];const _0x3bb736=await this[_0x241390(0x198)][_0x241390(0x79a)]();this[_0x241390(0x32e)][_0x241390(0x7db)]({'sourceId':this[_0x241390(0x7a2)][_0x241390(0x544)](),'destinationIds':[_0x4acbf3],'messageType':_0x16f8c2['Content'],'content':{'type':_0x36fe9a[_0x241390(0x225)],'label':this[_0x241390(0x235)],'transactions':_0x3bb736}});}async[_0x32ddeb(0x786)](_0x548de7,_0x1665ae){const _0x111ab7=_0x32ddeb;if(!this[_0x111ab7(0x198)])throw new _0x4daf03(_0x4daf03[_0x111ab7(0x719)][_0x111ab7(0x67e)]);this['clearSyncTimeout']();const _0x90bd1f=await this[_0x111ab7(0x198)][_0x111ab7(0x79a)]();for(const _0x215c24 of _0x90bd1f){const _0x5b33a1=_0x1665ae[_0x111ab7(0x323)](_0x518931=>_0x518931['id']===_0x215c24['id']);if(_0x5b33a1&&this['compareTransactions'](_0x215c24,_0x5b33a1)<=0x0)continue;const [_0x1dc127,_0x15eb2f]=_0x215c24['id'][_0x111ab7(0x39b)]('::'),_0x3cf371=this[_0x111ab7(0x545)][_0x111ab7(0x798)](_0x1dc127),_0x10b844=await _0x3cf371?.[_0x111ab7(0x798)](_0x15eb2f);_0x215c24[_0x111ab7(0x552)]=_0x10b844,this[_0x111ab7(0x5a2)](_0x215c24);}for(const _0x21fe1e of _0x1665ae){const _0x336291=await this[_0x111ab7(0x198)][_0x111ab7(0x798)](_0x21fe1e['id']);if(!(_0x336291&&this[_0x111ab7(0x7ef)](_0x21fe1e,_0x336291)<=0x0)){if(_0x21fe1e[_0x111ab7(0x308)]===_0x5dac14[_0x111ab7(0x57b)]){const [_0x3a1920,_0x2541e1]=_0x21fe1e['id'][_0x111ab7(0x39b)]('::'),_0x3e5358=this[_0x111ab7(0x545)]['get'](_0x3a1920);await _0x3e5358?.[_0x111ab7(0x27d)](_0x2541e1,!0x1);}else this[_0x111ab7(0x37b)][_0x111ab7(0x6f1)](_0x21fe1e['id']);}}if(0x0===this[_0x111ab7(0x37b)][_0x111ab7(0x19d)])return this[_0x111ab7(0x7f1)](),void this['publishSyncCompleted']();this[_0x111ab7(0x467)]=setTimeout(this['timeoutCallback'],_0x1fc73b),this[_0x111ab7(0x32e)][_0x111ab7(0x7db)]({'sourceId':this[_0x111ab7(0x7a2)][_0x111ab7(0x544)](),'destinationIds':[_0x548de7],'messageType':_0x16f8c2[_0x111ab7(0x370)],'content':{'type':_0x36fe9a[_0x111ab7(0x29e)],'label':this['label'],'transactionIds':this['transactionsToSync']}});}async[_0x32ddeb(0x471)](_0x3638f4,_0x272355){const _0x5a74d7=_0x32ddeb;if(!this[_0x5a74d7(0x198)])throw new _0x4daf03(_0x4daf03[_0x5a74d7(0x719)]['KeyValueDatabaseTransactionTableNotInitialized']);for(const _0x16e7a7 of _0x272355){const _0x1a5e1b=await this['transactionTable'][_0x5a74d7(0x798)](_0x16e7a7);if(!_0x1a5e1b)continue;const [_0x4e9b04,_0x4ad7c5]=_0x16e7a7[_0x5a74d7(0x39b)]('::'),_0x54eefe=this['tables'][_0x5a74d7(0x798)](_0x4e9b04),_0x318b85=await _0x54eefe?.[_0x5a74d7(0x798)](_0x4ad7c5);_0x1a5e1b[_0x5a74d7(0x552)]=_0x318b85,this['send'](_0x1a5e1b,[_0x3638f4]);}}async[_0x32ddeb(0x2f2)](_0x437022){const _0x20fd07=_0x32ddeb;if(!this['transactionTable'])throw new _0x4daf03(_0x4daf03[_0x20fd07(0x719)]['KeyValueDatabaseTransactionTableNotInitialized']);const _0x2b8ca0=await this['transactionTable'][_0x20fd07(0x798)](_0x437022['id']);if(_0x2b8ca0&&this[_0x20fd07(0x7ef)](_0x437022,_0x2b8ca0)<=0x0)return;const _0x3981a1={..._0x437022};return delete _0x3981a1[_0x20fd07(0x552)],await this[_0x20fd07(0x198)][_0x20fd07(0x36d)](_0x437022['id'],_0x3981a1),_0x437022;}[_0x32ddeb(0x7ef)](_0x2fcefe,_0x1c6c17){const _0xfff229=_0x32ddeb;return _0x2fcefe[_0xfff229(0x2c4)]<_0x1c6c17[_0xfff229(0x2c4)]?-0x1:_0x2fcefe['timestamp']>_0x1c6c17['timestamp']?0x1:_0x2fcefe['priority']-_0x1c6c17[_0xfff229(0x396)];}async[_0x32ddeb(0x4e6)](_0x36f060){const _0x465fc4=_0x32ddeb;if(!this['transactionTable'])throw new _0x4daf03(_0x4daf03[_0x465fc4(0x719)]['KeyValueDatabaseTransactionTableNotInitialized']);const _0x2909ad=_0x36f060[_0x465fc4(0x2d8)]+'::'+_0x36f060[_0x465fc4(0x543)],_0x3be6c0=await _0x194e5e[_0x465fc4(0x378)](),_0x2a1869={'id':_0x2909ad,'priority':Math[_0x465fc4(0x573)](),'timestamp':_0x3be6c0,'action':_0x36f060[_0x465fc4(0x308)]};if(await this[_0x465fc4(0x2f2)](_0x2a1869))return _0x2a1869;}async[_0x32ddeb(0x5c1)](_0x244c05){const _0x4f18d5=_0x32ddeb;if(!this[_0x4f18d5(0x198)])throw new _0x4daf03(_0x4daf03['codes'][_0x4f18d5(0x67e)]);const _0xf71409=_0x331ec9[_0x4f18d5(0x696)]('id')[_0x4f18d5(0x440)]('between',[_0x244c05+'::',_0x244c05+_0x4f18d5(0x4a8)]),_0x1e062f=await this[_0x4f18d5(0x198)][_0x4f18d5(0x79a)](_0xf71409['getQuery']());for(const _0x379498 of _0x1e062f)await this['transactionTable'][_0x4f18d5(0x27d)](_0x379498['id']);}['setOnMessageHandler'](){const _0x426ec1=_0x32ddeb;this[_0x426ec1(0x249)](async(_0x4fcca6,_0x30ecba)=>{const _0x42001b=_0x426ec1;if(_0x30ecba instanceof File)return;if(!await this[_0x42001b(0x2f2)](_0x30ecba))return void this[_0x42001b(0x6fa)](_0x30ecba);if(!_0x30ecba['value'])throw new _0x4daf03(_0x4daf03['codes'][_0x42001b(0x593)]);const [_0x1e4570,_0x4b6ca9]=_0x30ecba['id'][_0x42001b(0x39b)]('::'),_0x50c9cd=this[_0x42001b(0x545)][_0x42001b(0x798)](_0x1e4570);if(!_0x50c9cd)throw new _0x4daf03(_0x4daf03['codes'][_0x42001b(0x682)],{'table':_0x50c9cd});let _0x7e7f4c=0x0;switch(_0x30ecba[_0x42001b(0x308)]){case _0x5dac14['Add']:case _0x5dac14['Update']:{const _0x593910=_0x50c9cd[_0x42001b(0x36d)](_0x4b6ca9,_0x30ecba['value'],!0x1);_0x7e7f4c=JSON['stringify'](_0x30ecba[_0x42001b(0x552)])[_0x42001b(0x19d)],this[_0x42001b(0x37b)][_0x42001b(0x31c)](_0x30ecba['id'])&&this['syncTransactionsWritten'][_0x42001b(0x6f1)](_0x593910);break;}case _0x5dac14['Delete']:{const _0x526034=_0x50c9cd[_0x42001b(0x27d)](_0x4b6ca9,!0x1);this[_0x42001b(0x37b)][_0x42001b(0x31c)](_0x30ecba['id'])&&this[_0x42001b(0x183)][_0x42001b(0x6f1)](_0x526034);break;}}_0x1709c0['logServiceEvent'](_0x3e806f[_0x42001b(0x5ed)],{'type':'sync','label':this[_0x42001b(0x235)],'nodeId':this[_0x42001b(0x7a2)][_0x42001b(0x544)](),'nodeType':this[_0x42001b(0x7a2)][_0x42001b(0x6a0)],'clusterId':this[_0x42001b(0x713)],'tableName':_0x1e4570,'key':_0x4b6ca9,'size':_0x7e7f4c}),this['checkSyncComplete'](_0x30ecba);});}[_0x32ddeb(0x779)](){const _0x3f1d38=_0x32ddeb;this[_0x3f1d38(0x1b1)]=this[_0x3f1d38(0x195)]['subscribe'](async _0x4d37bb=>{const _0x58ad0c=_0x3f1d38;let _0x2257ce=0x0;switch(_0x4d37bb[_0x58ad0c(0x308)]){case _0x5dac14[_0x58ad0c(0x5ea)]:case _0x5dac14[_0x58ad0c(0x758)]:case _0x5dac14[_0x58ad0c(0x57b)]:{const _0x146b40=await this[_0x58ad0c(0x4e6)](_0x4d37bb);if(!_0x146b40)return;_0x146b40['value']=_0x4d37bb['value'],this['send'](_0x146b40),_0x2257ce=JSON[_0x58ad0c(0x5d7)](_0x4d37bb['value'])[_0x58ad0c(0x19d)],this[_0x58ad0c(0x3d3)]+=0x1;break;}case _0x620343[_0x58ad0c(0x605)]:case _0x620343[_0x58ad0c(0x279)]:case _0x620343[_0x58ad0c(0x1cd)]:this['reads']+=0x1;}_0x1709c0[_0x58ad0c(0x46f)](_0x3e806f[_0x58ad0c(0x5ed)],{'type':_0x4d37bb[_0x58ad0c(0x308)],'label':this[_0x58ad0c(0x235)],'nodeId':this[_0x58ad0c(0x7a2)][_0x58ad0c(0x544)](),'nodeType':this[_0x58ad0c(0x7a2)]['type'],'clusterId':this['clusterId'],'tableName':_0x4d37bb[_0x58ad0c(0x2d8)],'key':_0x4d37bb[_0x58ad0c(0x543)],'size':_0x2257ce}),this[_0x58ad0c(0x614)]();});}[_0x32ddeb(0x362)](){const _0x310706=_0x32ddeb;this['db']&&(this[_0x310706(0x198)]||(this[_0x310706(0x198)]=this['db']['getTableConnector'](_0x23f8e5)));}[_0x32ddeb(0x7f1)](){const _0x51a666=_0x32ddeb;this[_0x51a666(0x467)]&&(clearTimeout(this[_0x51a666(0x467)]),delete this[_0x51a666(0x467)]);}[_0x32ddeb(0x4c0)](){const _0x4d6b76=_0x32ddeb;this[_0x4d6b76(0x6af)]['publish']({'event':_0x16caec['DatabaseEvent'][_0x4d6b76(0x7ad)]}),this[_0x4d6b76(0x5be)]?.(!0x0),delete this[_0x4d6b76(0x5be)],this[_0x4d6b76(0x614)]();}async[_0x32ddeb(0x5ee)](){const _0x47f890=_0x32ddeb;await Promise['all'](this[_0x47f890(0x183)]),this[_0x47f890(0x4c0)]();}[_0x32ddeb(0x6fa)](_0x2201d1){const _0x20cedc=_0x32ddeb;this[_0x20cedc(0x37b)]['includes'](_0x2201d1['id'])&&(this[_0x20cedc(0x7f1)](),this[_0x20cedc(0x37b)]=this['transactionsToSync'][_0x20cedc(0x6fc)](_0x483316=>_0x483316!==_0x2201d1['id']),0x0!==this[_0x20cedc(0x37b)][_0x20cedc(0x19d)]?this['syncTimeout']=setTimeout(this['timeoutCallback'],_0x1fc73b):this[_0x20cedc(0x5ee)]());}[_0x32ddeb(0x614)](){const _0x454ece=_0x32ddeb;this[_0x454ece(0x584)]&&clearTimeout(this['debounceStats']),this[_0x454ece(0x584)]=setTimeout(async()=>{const _0x22d9a7=_0x454ece;delete this[_0x22d9a7(0x584)];let _0x59fe50=0x0;for(const _0x305a3c of this[_0x22d9a7(0x545)][_0x22d9a7(0x693)]())_0x59fe50+=await _0x305a3c['calculateSize']();this[_0x22d9a7(0x32e)][_0x22d9a7(0x7db)]({'sourceId':_0x514c9c,'messageType':_0x16f8c2[_0x22d9a7(0x370)],'content':{'type':_0x36fe9a[_0x22d9a7(0x542)],'label':this[_0x22d9a7(0x235)],'stats':{'timestamp':Date[_0x22d9a7(0x5d9)](),'storage':_0x59fe50,'messagesSent':this[_0x22d9a7(0x611)],'messagesReceived':this[_0x22d9a7(0x1e7)],'bytesSent':this[_0x22d9a7(0x504)],'bytesReceived':this['bytesReceived'],'writes':this[_0x22d9a7(0x3d3)],'reads':this[_0x22d9a7(0x61a)]}}}),_0x1709c0['logStorage'](_0x3e806f[_0x22d9a7(0x5ed)],'ccc'+this[_0x22d9a7(0x713)]+'ccc'+this[_0x22d9a7(0x235)],_0x59fe50);},0x1388);}[_0x32ddeb(0x765)](_0x291e49){const _0x36fcba=_0x32ddeb;if(_0x291e49[_0x36fcba(0x545)][_0x23f8e5])throw new _0x56574a(_0x2379f6['KeyValueDatabaseTableNameReserved'],_0x36fcba(0x283)+_0x23f8e5+_0x36fcba(0x3fc));if(_0x291e49[_0x36fcba(0x545)][_0x26dec4])throw new _0x56574a(_0x2379f6[_0x36fcba(0x720)],_0x36fcba(0x283)+_0x26dec4+_0x36fcba(0x3fc));_0x291e49[_0x36fcba(0x545)][_0x23f8e5]={'indexes':[]},_0x291e49[_0x36fcba(0x545)][_0x26dec4]={'indexes':[]};}}const _0x32c278=require('@crewdle/mist-connector-opfs'),_0x50b960=require('@crewdle/mist-connector-indexed-db'),_0x428a7a=require('@crewdle/mist-connector-webrtc-browser');var _0x262cd6,_0x35e181,_0x11c283,_0x66da55,_0x4c6381,_0x3f3eb0,_0x410246,_0x5eddc8,_0x314273;!function(_0xa85d06){const _0x42c083=_0x32ddeb;_0xa85d06[_0x42c083(0x340)]=_0x42c083(0x340),_0xa85d06[_0x42c083(0x5e7)]=_0x42c083(0x5e7),_0xa85d06[_0x42c083(0x738)]='AudioVolume',_0xa85d06[_0x42c083(0x697)]=_0x42c083(0x697),_0xa85d06[_0x42c083(0x3e1)]=_0x42c083(0x3e1),_0xa85d06[_0x42c083(0x1a6)]=_0x42c083(0x1a6),_0xa85d06[_0x42c083(0x193)]=_0x42c083(0x193),_0xa85d06[_0x42c083(0x493)]=_0x42c083(0x493),_0xa85d06['WebGL']=_0x42c083(0x74c),_0xa85d06['WebRTC']=_0x42c083(0x438);}(_0x262cd6||(_0x262cd6={}));class _0x3c617c{[_0x32ddeb(0x1bb)];[_0x32ddeb(0x42b)];[_0x32ddeb(0x206)];constructor(_0x4b9d06=new Map(),_0x2ea490=new Map(),_0x58fdd4=new EventTarget()){const _0x420f1e=_0x32ddeb;this['registeredListeners']=_0x4b9d06,this['bufferedEvents']=_0x2ea490,this[_0x420f1e(0x206)]=_0x58fdd4;}[_0x32ddeb(0x56a)]=(_0x3b5623,_0x398c7e)=>this[_0x32ddeb(0x1bb)][_0x32ddeb(0x5ae)](_0x3b5623)?(_0x1709c0['log'](_0x459921[_0x32ddeb(0x24a)],_0x32ddeb(0x598),{'event':_0x3b5623,'data':_0x398c7e}),this['eventTarget']['dispatchEvent'](new CustomEvent(_0x3b5623,{'detail':_0x398c7e})),!0x0):(this[_0x32ddeb(0x4b9)](_0x3b5623,_0x398c7e),!0x1);['on']=(_0x29f443,_0x1aef13)=>{const _0x9e4128=_0x32ddeb,_0x47bb25=_0x176f96=>{const _0x3decf2=a0_0x51ad;_0x1709c0[_0x3decf2(0x419)](_0x459921[_0x3decf2(0x24a)],_0x3decf2(0x1bc),_0x176f96['type'],_0x176f96[_0x3decf2(0x799)]),_0x1aef13(_0x176f96[_0x3decf2(0x799)]);};return this[_0x9e4128(0x1bb)]['set'](_0x29f443,_0x47bb25),this[_0x9e4128(0x206)][_0x9e4128(0x78c)](_0x29f443,_0x47bb25),_0x1709c0[_0x9e4128(0x419)](_0x459921[_0x9e4128(0x39c)],_0x9e4128(0x1d8),_0x29f443,_0x1aef13),this[_0x9e4128(0x22c)](_0x29f443),this;};[_0x32ddeb(0x59b)](_0x1fbd71){const _0x240be4=_0x32ddeb;if(!_0x1fbd71)return this[_0x240be4(0x1bb)][_0x240be4(0x801)]((_0x2819ed,_0xf6cd63)=>{const _0x2620ce=_0x240be4;this[_0x2620ce(0x206)][_0x2620ce(0x2ac)](_0xf6cd63,_0x2819ed);}),void this['registeredListeners'][_0x240be4(0x532)]();_0x240be4(0x1ed)==typeof _0x1fbd71&&this[_0x240be4(0x4ed)](_0x1fbd71),Array[_0x240be4(0x664)](_0x1fbd71)&&_0x1fbd71['forEach'](_0x5da30e=>{this['removeListener'](_0x5da30e);});}[_0x32ddeb(0x4ed)](_0x508c77){const _0x29ea4f=_0x32ddeb,_0x237807=this[_0x29ea4f(0x1bb)][_0x29ea4f(0x798)](_0x508c77);_0x237807&&(this[_0x29ea4f(0x206)][_0x29ea4f(0x2ac)](_0x508c77,_0x237807),this[_0x29ea4f(0x1bb)]['delete'](_0x508c77));}[_0x32ddeb(0x4b9)](_0x3ddc1c,_0x20e583){const _0xac4671=_0x32ddeb;_0x1709c0[_0xac4671(0x419)](_0x459921[_0xac4671(0x24a)],'Buffering\x20event',{'event':_0x3ddc1c,'data':_0x20e583});const _0x5b17b1=this[_0xac4671(0x42b)][_0xac4671(0x798)](_0x3ddc1c)||[];this[_0xac4671(0x42b)][_0xac4671(0x36d)](_0x3ddc1c,[..._0x5b17b1,_0x20e583]);}[_0x32ddeb(0x22c)](_0x2ea1b5){const _0x525f71=_0x32ddeb,_0x179f35=this['bufferedEvents'][_0x525f71(0x798)](_0x2ea1b5);_0x179f35&&(_0x179f35[_0x525f71(0x801)](_0x2fde7c=>{const _0xc156b4=_0x525f71;_0x1709c0['log'](_0x459921[_0xc156b4(0x24a)],'Consuming\x20buffered\x20event',{'event':_0x2ea1b5,'data':_0x2fde7c}),this[_0xc156b4(0x206)][_0xc156b4(0x56e)](new CustomEvent(_0x2ea1b5,{'detail':_0x2fde7c}));}),this[_0x525f71(0x42b)][_0x525f71(0x27d)](_0x2ea1b5));}}class _0x3041bf extends Error{constructor(_0x9c0f13){const _0x4c5fa4=_0x32ddeb;super(_0x4c5fa4(0x3f4)+_0x9c0f13);}}!function(_0x385b49){const _0x13da9e=_0x32ddeb;_0x385b49[_0x385b49['Core']=0x0]=_0x13da9e(0x4c1),_0x385b49[_0x385b49['Optimization']=0x1]=_0x13da9e(0x6d3);}(_0x35e181||(_0x35e181={})),function(_0x311e29){const _0x31c8b2=_0x32ddeb;_0x311e29[_0x311e29[_0x31c8b2(0x7dd)]=0x0]=_0x31c8b2(0x7dd),_0x311e29[_0x311e29[_0x31c8b2(0x47a)]=0x1]=_0x31c8b2(0x47a),_0x311e29[_0x311e29[_0x31c8b2(0x524)]=0x2]=_0x31c8b2(0x524),_0x311e29[_0x311e29[_0x31c8b2(0x6ae)]=0x3]=_0x31c8b2(0x6ae),_0x311e29[_0x311e29[_0x31c8b2(0x29a)]=0x4]='NeedRestart',_0x311e29[_0x311e29['Restart']=0x5]='Restart',_0x311e29[_0x311e29[_0x31c8b2(0x810)]=0x6]=_0x31c8b2(0x810),_0x311e29[_0x311e29[_0x31c8b2(0x404)]=0x7]=_0x31c8b2(0x404),_0x311e29[_0x311e29['OptimizationConnectionSuccess']=0x8]=_0x31c8b2(0x251);}(_0x11c283||(_0x11c283={})),function(_0x5f25cb){const _0x4854c6=_0x32ddeb;_0x5f25cb[_0x5f25cb['Sender']=0x0]=_0x4854c6(0x595),_0x5f25cb[_0x5f25cb[_0x4854c6(0x62d)]=0x1]='Receiver';}(_0x66da55||(_0x66da55={})),function(_0x85ab22){const _0x34b7e3=_0x32ddeb;_0x85ab22[_0x34b7e3(0x1a6)]='media-stream';}(_0x4c6381||(_0x4c6381={})),function(_0x777bf9){const _0x22d604=_0x32ddeb;_0x777bf9[_0x777bf9[_0x22d604(0x205)]=0x0]=_0x22d604(0x205),_0x777bf9[_0x777bf9[_0x22d604(0x43c)]=0x1]=_0x22d604(0x43c),_0x777bf9[_0x777bf9[_0x22d604(0x509)]=0x2]=_0x22d604(0x509),_0x777bf9[_0x777bf9[_0x22d604(0x59a)]=0x3]=_0x22d604(0x59a);}(_0x3f3eb0||(_0x3f3eb0={})),function(_0x4f0418){const _0x1c85a1=_0x32ddeb;_0x4f0418[_0x4f0418['Remediation']=0x0]=_0x1c85a1(0x25a),_0x4f0418[_0x4f0418[_0x1c85a1(0x1a2)]=0x1]=_0x1c85a1(0x1a2);}(_0x410246||(_0x410246={})),function(_0x3f45ad){const _0x19a5b0=_0x32ddeb;_0x3f45ad[_0x19a5b0(0x182)]=_0x19a5b0(0x5dc),_0x3f45ad[_0x19a5b0(0x360)]=_0x19a5b0(0x454);}(_0x5eddc8||(_0x5eddc8={})),function(_0x5127ed){const _0x192740=_0x32ddeb;_0x5127ed[_0x192740(0x28c)]=_0x192740(0x5bf),_0x5127ed['Bitrate']=_0x192740(0x7bf);}(_0x314273||(_0x314273={}));const _0x574a60=require('aws-amplify'),_0x5f45cd=require('aws-amplify/utils'),_0x8aa848=require('@aws-amplify/api'),_0x32fe12=require('@aws-amplify/core');class _0x4e3029{['clusterId'];[_0x32ddeb(0x7a2)];['remoteId'];constructor(_0xcb5f6d,_0x138edf,_0x211cf1){const _0x1835e6=_0x32ddeb;this[_0x1835e6(0x713)]=_0xcb5f6d,this['localNode']=_0x138edf,this[_0x1835e6(0x264)]=_0x211cf1;}[_0x32ddeb(0x648)](){const _0x5578e0=_0x32ddeb;return this[_0x5578e0(0x7a2)]['getId']();}[_0x32ddeb(0x6b1)](){const _0x3b9d9f=_0x32ddeb;return this[_0x3b9d9f(0x264)];}}var _0x478c8c,_0x16af09,_0x5b14c9;function _0x104628(_0x37a733,_0x274b00){const _0x5a702f=_0x32ddeb;return _0x37a733[_0x5a702f(0x1ad)]===_0x274b00;}function _0x93c6c4(_0x1f35ed,_0x56d8b0){const _0x7f2437=_0x32ddeb;return _0x1f35ed[_0x7f2437(0x3a4)]?.[_0x7f2437(0x31c)](_0x56d8b0)??function(_0x2deac7){const _0x423ee2=_0x7f2437;return void 0x0===_0x2deac7[_0x423ee2(0x3a4)];}(_0x1f35ed);}function _0x10e6d5(_0x48a59e,{contentType:_0x22b9f6,label:_0x2cabd5,remoteId:_0x10053c}){return _0x48a59e+'-'+_0x22b9f6+'-'+_0x2cabd5+'-'+_0x10053c;}function _0x58e1c4(_0x5a2059,_0x1fcea4,_0x30e61c){return''+_0x5a2059+_0x1fcea4+_0x30e61c;}function _0x3c1dd3(_0xc0565f){const _0x5c6aad=_0x32ddeb;return _0xc0565f===_0x16af09[_0x5c6aad(0x290)]?'IncomingSubscription':_0x5c6aad(0x652);}function _0x551e24(_0x5d304c,_0x289713){const _0x30daed=_0x32ddeb;return{'label':_0x5d304c[_0x30daed(0x55b)](),'contentType':_0x5d304c[_0x30daed(0x373)](),'remoteId':_0x289713[_0x30daed(0x6b1)](),'supportsContentType':_0x289713[_0x30daed(0x393)]()['includes'](_0x5d304c[_0x30daed(0x373)]())};}!function(_0x121d19){const _0x5ddb33=_0x32ddeb;_0x121d19[_0x121d19['Waiting']=0x0]='Waiting',_0x121d19[_0x121d19['Accepted']=0x1]='Accepted',_0x121d19[_0x121d19['Rejected']=0x2]=_0x5ddb33(0x515);}(_0x478c8c||(_0x478c8c={})),function(_0x4416bc){const _0x4d597c=_0x32ddeb;_0x4416bc[_0x4d597c(0x290)]='in',_0x4416bc[_0x4d597c(0x7f6)]=_0x4d597c(0x356);}(_0x16af09||(_0x16af09={}));class _0x4381c5{[_0x32ddeb(0x365)];[_0x32ddeb(0x3b4)];constructor(_0x2efbce,_0xd8bd89){const _0x14ee80=_0x32ddeb;this[_0x14ee80(0x365)]=_0x2efbce,this['retryCallback']=_0xd8bd89;}[_0x32ddeb(0x5ac)](_0x58792b){const _0x34cf48=_0x32ddeb;this[_0x34cf48(0x365)](_0x58792b);}async[_0x32ddeb(0x7fd)](){const _0x108485=_0x32ddeb;await this[_0x108485(0x3b4)]();}}class _0x22b166{[_0x32ddeb(0x365)];[_0x32ddeb(0x3b4)];constructor(_0x29b083,_0x296816){const _0x4be666=_0x32ddeb;this['callback']=_0x29b083,this[_0x4be666(0x3b4)]=_0x296816;}async[_0x32ddeb(0x5ac)](_0x17648a){const _0x20af1a=_0x32ddeb;await this[_0x20af1a(0x365)](_0x17648a);}async['wait'](){await this['retryCallback']();}}function _0x46125a(_0x51fd9=()=>{},_0x1396c4=()=>!0x1,_0x35cdee=()=>{}){let _0x42c3da,_0x5dea41,_0x2655e3=0x0;return{get 'size'(){return _0x2655e3;},get 'head'(){return _0x42c3da;},get 'tail'(){return _0x5dea41;},set 'head'(_0x66452){_0x42c3da=_0x66452;},set 'tail'(_0x1c9012){_0x5dea41=_0x1c9012;},'push'(_0x4ad126,_0xa29d5b=!0x0){const _0x1d22c8=a0_0x51ad,_0x2f5e8e={'value':_0x4ad126};_0xa29d5b&&_0x1396c4(_0x2f5e8e)?_0x51fd9():(_0x5dea41&&(_0x2f5e8e[_0x1d22c8(0x641)]=_0x5dea41,_0x5dea41[_0x1d22c8(0x262)]=_0x2f5e8e),_0x5dea41=_0x2f5e8e,_0x42c3da||(_0x42c3da=_0x2f5e8e),_0x2655e3+=0x1,_0xa29d5b&&_0x51fd9());},'pop'(){const _0x559845=a0_0x51ad;if(!_0x5dea41)return;const _0x383d03=_0x5dea41[_0x559845(0x552)];return _0x5dea41=_0x5dea41[_0x559845(0x641)],_0x5dea41&&delete _0x5dea41['next'],_0x5dea41||(_0x42c3da=void 0x0),_0x2655e3-=0x1,_0x383d03;},'unshift'(_0x2f84f3,_0x306df9=!0x0){const _0x55fc1d={'value':_0x2f84f3};_0x306df9&&_0x1396c4(_0x55fc1d)?_0x51fd9():(_0x42c3da&&(_0x42c3da['previous']=_0x55fc1d,_0x55fc1d['next']=_0x42c3da),_0x42c3da=_0x55fc1d,_0x5dea41||(_0x5dea41=_0x55fc1d),_0x2655e3+=0x1,_0x306df9&&_0x51fd9());},'shift'(){const _0x2ade24=a0_0x51ad;if(!_0x42c3da)return;const _0x748ff4=_0x42c3da[_0x2ade24(0x552)];return _0x42c3da=_0x42c3da[_0x2ade24(0x262)],_0x42c3da&&delete _0x42c3da[_0x2ade24(0x641)],_0x42c3da||(_0x5dea41=void 0x0),_0x2655e3-=0x1,_0x748ff4;},'clear'(){_0x35cdee(),_0x42c3da=void 0x0,_0x5dea41=void 0x0,_0x2655e3=0x0;}};}function _0x5ab2b5(_0x286445,_0x33dcac=!0x1,_0x4dc7fa=()=>{},_0x4179a6=()=>!0x1,_0x5e172a=()=>{}){let _0x2384de=!0x1;const _0x9fa65f=_0x46125a(async function(){const _0x6e93a4=a0_0x51ad;if(!_0x2384de){for(_0x2384de=!0x0;_0x9fa65f[_0x6e93a4(0x17c)];){const _0x27d086=_0x9fa65f['shift']();if(_0x27d086)try{_0x286445 instanceof _0x4381c5&&_0x286445['call'](_0x27d086),_0x286445 instanceof _0x22b166&&await _0x286445[_0x6e93a4(0x5ac)](_0x27d086),_0x4dc7fa(_0x27d086);}catch(_0xcbeef9){_0x33dcac?_0x9fa65f['push'](_0x27d086,!0x1):_0x9fa65f[_0x6e93a4(0x2dc)](_0x27d086,!0x1),await _0x286445[_0x6e93a4(0x7fd)]();}}_0x2384de=!0x1;}},_0x4179a6,_0x5e172a);return _0x9fa65f;}class _0x3cce7b extends _0x4e3029{['vendorId'];[_0x32ddeb(0x649)];['connectionState']=_0x8aa848['ConnectionState'][_0x32ddeb(0x3b8)];[_0x32ddeb(0x71f)]=_0x70c74f();[_0x32ddeb(0x7f2)]=_0x1f49a7();['subscription'];[_0x32ddeb(0x2fa)];['retryQueue']=_0x5ab2b5(new _0x22b166(this['sendAction'][_0x32ddeb(0x499)](this),this['waitConnected'][_0x32ddeb(0x499)](this)));[_0x32ddeb(0x5e6)];constructor(_0x5f2000,_0x3e98ef,_0x49e785,_0x5493ea,_0xf27f3f){const _0x4d2313=_0x32ddeb;super(_0x3e98ef,_0x49e785,_0x5493ea),this[_0x4d2313(0x3ce)]=_0x5f2000,this[_0x4d2313(0x649)]=_0xf27f3f;}async['connect'](){const _0x58d31f=_0x32ddeb;try{const _0x46713d={'getTokens':async()=>{const _0x13fa40=a0_0x51ad,_0x331d35=await this[_0x13fa40(0x649)][_0x13fa40(0x7b7)]();return{'accessToken':(0x0,_0x32fe12['decodeJWT'])(_0x331d35),'idToken':(0x0,_0x32fe12[_0x13fa40(0x68a)])(_0x331d35)};}};_0x574a60[_0x58d31f(0x50a)][_0x58d31f(0x724)]({'API':{'GraphQL':{'endpoint':_0x2a4dc1['aws'][_0x58d31f(0x615)],'region':_0x2a4dc1['aws'][_0x58d31f(0x6a6)],'defaultAuthMode':_0x58d31f(0x67a)}}},{'Auth':{'tokenProvider':_0x46713d}}),this['client']=(0x0,_0x8aa848['generateClient'])(),await this[_0x58d31f(0x558)](),this[_0x58d31f(0x2fa)]=_0x5f45cd[_0x58d31f(0x31f)][_0x58d31f(0x363)](_0x58d31f(0x716),async({payload:_0x158ea2})=>{const _0x53a0ca=_0x58d31f;if(_0x158ea2['event']===_0x8aa848[_0x53a0ca(0x2cb)]){const _0x3a8605=_0x158ea2[_0x53a0ca(0x777)];this[_0x53a0ca(0x640)]=_0x3a8605['connectionState'],this[_0x53a0ca(0x71f)][_0x53a0ca(0x7db)](_0x3a8605['connectionState']),this[_0x53a0ca(0x640)]===_0x8aa848[_0x53a0ca(0x41c)][_0x53a0ca(0x3b8)]&&_0x1709c0[_0x53a0ca(0x4fe)](_0x53a0ca(0x4b2),{'clusterId':this[_0x53a0ca(0x713)],'nodeId':this[_0x53a0ca(0x648)](),'nodeType':this[_0x53a0ca(0x7a2)]['type']}),this[_0x53a0ca(0x640)]===_0x8aa848['ConnectionState'][_0x53a0ca(0x68f)]&&_0x1709c0[_0x53a0ca(0x448)](_0x53a0ca(0x669),{'clusterId':this[_0x53a0ca(0x713)],'nodeId':this[_0x53a0ca(0x648)](),'nodeType':this[_0x53a0ca(0x7a2)][_0x53a0ca(0x6a0)]});}});}catch(_0x578647){_0x1709c0[_0x58d31f(0x4fe)](_0x58d31f(0x1b7),{'clusterId':this[_0x58d31f(0x713)],'nodeId':this[_0x58d31f(0x648)](),'nodeType':this[_0x58d31f(0x7a2)][_0x58d31f(0x6a0)]});}}['close'](){const _0x3ece96=_0x32ddeb;_0x1709c0[_0x3ece96(0x448)](_0x3ece96(0x5df),{'clusterId':this[_0x3ece96(0x713)],'nodeId':this[_0x3ece96(0x648)](),'nodeType':this[_0x3ece96(0x7a2)][_0x3ece96(0x6a0)]}),this[_0x3ece96(0x63c)][_0x3ece96(0x532)](),this[_0x3ece96(0x2fa)]?.(),this['subscription']?.[_0x3ece96(0x300)](),delete this[_0x3ece96(0x49b)];}[_0x32ddeb(0x6cd)](){const _0x5c5ced=_0x32ddeb;return this[_0x5c5ced(0x640)]===_0x8aa848['ConnectionState'][_0x5c5ced(0x68f)];}[_0x32ddeb(0x5a2)](_0x419fff){const _0x1ec164=_0x32ddeb;this['retryQueue'][_0x1ec164(0x6f1)](_0x419fff);}['onMessage'](_0x935f5f){const _0x2c6043=_0x32ddeb;return this[_0x2c6043(0x7f2)]['subscribe'](_0x935f5f);}[_0x32ddeb(0x393)](){const _0x25893b=_0x32ddeb;return[_0x16caec[_0x25893b(0x76d)]['Data']];}async[_0x32ddeb(0x589)](){const _0x3ab137=_0x32ddeb;if(!this[_0x3ab137(0x6cd)]())return new Promise(_0x552556=>{const _0x467be4=_0x3ab137,_0x554f5e=this[_0x467be4(0x71f)][_0x467be4(0x558)](_0x3ae9de=>{const _0x564d04=_0x467be4;_0x3ae9de===_0x8aa848[_0x564d04(0x41c)][_0x564d04(0x68f)]&&(_0x554f5e(),_0x552556());});});}async[_0x32ddeb(0x23d)](_0x21fd84){const _0x15dbc0=_0x32ddeb;if(this[_0x15dbc0(0x640)]!==_0x8aa848[_0x15dbc0(0x41c)][_0x15dbc0(0x68f)])throw new Error('AppSync\x20connection\x20not\x20ready');_0x21fd84[_0x15dbc0(0x3a4)]&&0x1===_0x21fd84[_0x15dbc0(0x3a4)][_0x15dbc0(0x19d)]?await this[_0x15dbc0(0x7db)](_0x21fd84[_0x15dbc0(0x3a4)][0x0],JSON['stringify'](_0x21fd84)):_0x1709c0[_0x15dbc0(0x4fe)]('appsync-no-destination',{'clusterId':this[_0x15dbc0(0x713)],'nodeId':this[_0x15dbc0(0x648)](),'nodeType':this[_0x15dbc0(0x7a2)]['type']});}async[_0x32ddeb(0x7db)](_0x5ad771,_0x5d903a){const _0x39664b=_0x32ddeb;if(!this[_0x39664b(0x5e6)])throw new Error(_0x39664b(0x72f));_0x1709c0[_0x39664b(0x419)](_0x459921[_0x39664b(0x1a7)],_0x39664b(0x3cc),this[_0x39664b(0x648)](),_0x5d903a),await this['client']['graphql']({'query':_0x39664b(0x38c),'variables':{'name':await this[_0x39664b(0x2e1)](_0x5ad771),'data':_0x5d903a}});}async[_0x32ddeb(0x558)](){const _0x4c78e7=_0x32ddeb;if(this['subscription'])return;if(!this['client'])throw new Error(_0x4c78e7(0x72f));_0x1709c0[_0x4c78e7(0x419)](_0x459921[_0x4c78e7(0x1a7)],_0x4c78e7(0x6e1),this['getLocalId']());const _0x196330=await this['client'][_0x4c78e7(0x488)]({'query':_0x4c78e7(0x587),'variables':{'name':await this[_0x4c78e7(0x2e1)]()},'authToken':await this[_0x4c78e7(0x649)][_0x4c78e7(0x7b7)]()},{'Authorization':await this['authService'][_0x4c78e7(0x7b7)]()});this[_0x4c78e7(0x49b)]=_0x196330[_0x4c78e7(0x558)]({'next':({data:_0x1e8abe})=>{const _0x16db22=_0x4c78e7,_0x2ed6ac=JSON['parse'](_0x1e8abe[_0x16db22(0x558)][_0x16db22(0x777)]);!_0x104628(_0x2ed6ac,this[_0x16db22(0x648)]())&&_0x93c6c4(_0x2ed6ac,this[_0x16db22(0x648)]())&&this[_0x16db22(0x7f2)]['publish'](_0x2ed6ac);},'error':console[_0x4c78e7(0x419)]});}async[_0x32ddeb(0x2e1)](_0x1daf08){const _0xa1531b=_0x32ddeb,_0x208250=await crypto['subtle'][_0xa1531b(0x17d)]('SHA-1',new TextEncoder()[_0xa1531b(0x4f1)](this[_0xa1531b(0x3ce)]+'-'+this[_0xa1531b(0x713)]+'-'+(_0x1daf08??this['getLocalId']())));return Array[_0xa1531b(0x34d)](new Uint8Array(_0x208250))[_0xa1531b(0x1a1)](_0x4c50e3=>_0x4c50e3['toString'](0x10)[_0xa1531b(0x3c1)](0x2,'0'))[_0xa1531b(0x710)]('');}}!function(_0x232f98){const _0x160d77=_0x32ddeb;_0x232f98[_0x232f98[_0x160d77(0x5ea)]=0x0]=_0x160d77(0x5ea),_0x232f98[_0x232f98[_0x160d77(0x35b)]=0x1]='Remove',_0x232f98[_0x232f98[_0x160d77(0x758)]=0x2]='Update',_0x232f98[_0x232f98[_0x160d77(0x56d)]=0x3]=_0x160d77(0x56d),_0x232f98[_0x232f98[_0x160d77(0x52e)]=0x4]=_0x160d77(0x52e);}(_0x5b14c9||(_0x5b14c9={}));const _0x3b9a63=require('uuid'),_0xe03cfd='0',_0x43db46=_0x32ddeb(0x383),_0x4291db=0x3fc00;class _0x9aa356{[_0x32ddeb(0x713)];[_0x32ddeb(0x7a2)];[_0x32ddeb(0x264)];[_0x32ddeb(0x487)];[_0x32ddeb(0x2b9)];[_0x32ddeb(0x482)];[_0x32ddeb(0x767)];['dataChannel'];['currentVersion']=0x1;[_0x32ddeb(0x32e)];[_0x32ddeb(0x3da)]=[];[_0x32ddeb(0x450)]=[];[_0x32ddeb(0x70c)];constructor(_0x5c4d25,_0xb46057,_0x2d3ad8,_0x2048df,_0xcd31,_0x597001){const _0x1ec84b=_0x32ddeb;this[_0x1ec84b(0x713)]=_0x5c4d25,this[_0x1ec84b(0x7a2)]=_0xb46057,this[_0x1ec84b(0x264)]=_0x2d3ad8,this[_0x1ec84b(0x487)]=_0x2048df,this[_0x1ec84b(0x2b9)]=_0xcd31,this[_0x1ec84b(0x482)]=_0x597001,this[_0x1ec84b(0x767)]=new this['connectionConstructor']({'handshakeServers':this['iceServers']}),this[_0x1ec84b(0x6c3)]();}[_0x32ddeb(0x36f)](){const _0x8bc32b=_0x32ddeb;this[_0x8bc32b(0x6f8)]();}['setConnectionType'](_0x1b2f10){this['connectionType']=_0x1b2f10;}async[_0x32ddeb(0x4cf)](_0x39dfef,_0x366d8e){const _0x1f7032=_0x32ddeb;if(_0x366d8e===this[_0x1f7032(0x811)])for(const _0x497d13 of _0x39dfef){if(!this[_0x1f7032(0x767)]['canAddCandidates'])return this['addPendingHandshakeCandidate'](_0x497d13);await this['connection']['addCandidate'](_0x497d13);}}[_0x32ddeb(0x6cd)](){const _0x1fef4c=_0x32ddeb;return this['logConnectionState'](),'connected'===this[_0x1fef4c(0x767)][_0x1fef4c(0x640)]&&['connected','completed'][_0x1fef4c(0x31c)](this[_0x1fef4c(0x767)][_0x1fef4c(0x7cf)])&&_0x1fef4c(0x6de)!==this[_0x1fef4c(0x767)]['signalingState']&&_0x1fef4c(0x800)===this[_0x1fef4c(0x218)]?.['state'];}[_0x32ddeb(0x7ff)](_0x316231){const _0x1f4a49=_0x32ddeb;this[_0x1f4a49(0x32e)]=_0x316231;}[_0x32ddeb(0x443)](){delete this['systemTopic'];}[_0x32ddeb(0x315)](_0x28e718){const _0x29ffd9=_0x32ddeb;this['stopConnection'](),this[_0x29ffd9(0x767)]=new this[(_0x29ffd9(0x482))]({'handshakeServers':this[_0x29ffd9(0x487)]}),_0x28e718?this['currentVersion']=_0x28e718:this['currentVersion']+=0x1,this['setupConnectionEvents']();}[_0x32ddeb(0x34f)](){const _0x532425=_0x32ddeb;this['pendingHandshakeCandidates'][_0x532425(0x801)](_0x179c2a=>this['connection'][_0x532425(0x242)](_0x179c2a)),this['pendingHandshakeCandidates']=[];}[_0x32ddeb(0x622)](_0x208408,_0x1b0bac){const _0x1584b0=_0x32ddeb;if(!this['systemTopic'])throw new _0x4daf03(_0x4daf03[_0x1584b0(0x719)]['MissingSystemTopic'],{'content':_0x208408});const _0x19e012={'sourceId':this[_0x1584b0(0x7a2)][_0x1584b0(0x544)](),'destinationIds':[this[_0x1584b0(0x264)]],'propagate':this['connectionType']!==_0x35e181[_0x1584b0(0x4c1)],'retry':this['connectionType']!==_0x35e181['Core'],'messageType':_0x16f8c2[_0x1584b0(0x58b)],'content':_0x208408};_0x1b0bac&&(_0x19e012[_0x1584b0(0x1d3)]=_0x1b0bac),this['systemTopic']['publish'](_0x19e012);}['setupConnectionEvents'](){const _0x5bae94=_0x32ddeb;this['connection'][_0x5bae94(0x4ea)]=()=>{const _0x9ada2e=_0x5bae94;_0x9ada2e(0x6c1)===this[_0x9ada2e(0x767)][_0x9ada2e(0x35a)]&&this['handshakeCandidates'][_0x9ada2e(0x19d)]>0x0&&(this[_0x9ada2e(0x70c)]&&clearTimeout(this[_0x9ada2e(0x70c)]),this[_0x9ada2e(0x70c)]=setTimeout(()=>{const _0x5b5708=_0x9ada2e;delete this[_0x5b5708(0x70c)],this['sendIceCandidates'](),this[_0x5b5708(0x3da)]=[];},0x1f4));},this[_0x5bae94(0x767)]['onCandidate']=_0x55f137=>{const _0x39d714=_0x5bae94;_0x55f137[_0x39d714(0x1f4)]&&this[_0x39d714(0x3da)][_0x39d714(0x6f1)](_0x55f137[_0x39d714(0x1f4)]);};}[_0x32ddeb(0x6f8)](){const _0x2769bb=_0x32ddeb;clearTimeout(this[_0x2769bb(0x70c)]),delete this[_0x2769bb(0x70c)],this[_0x2769bb(0x3da)]=[],this[_0x2769bb(0x450)]=[],this['dataChannel']&&(this[_0x2769bb(0x218)][_0x2769bb(0x249)]=null,this[_0x2769bb(0x218)][_0x2769bb(0x4bd)]=null,this[_0x2769bb(0x218)][_0x2769bb(0x36f)](),delete this['dataChannel']),this[_0x2769bb(0x767)][_0x2769bb(0x4ea)]=null,this[_0x2769bb(0x767)][_0x2769bb(0x643)]=null,this[_0x2769bb(0x767)][_0x2769bb(0x250)]=null,this['connection']['onConnectionStateChange']=null,this[_0x2769bb(0x767)][_0x2769bb(0x4fa)]=null,this[_0x2769bb(0x767)][_0x2769bb(0x7f8)]=null,this['connection']['close']();}[_0x32ddeb(0x44b)](_0x4c4cea){const _0x517c09=_0x32ddeb;this[_0x517c09(0x450)][_0x517c09(0x6f1)](_0x4c4cea);}[_0x32ddeb(0x412)](){const _0x22d56c=_0x32ddeb;_0x1709c0[_0x22d56c(0x419)](_0x459921[_0x22d56c(0x41c)],'Base\x20Peer\x20Connection',{'localId':this['localNode'][_0x22d56c(0x544)](),'remoteId':this[_0x22d56c(0x264)],'connectionState':this['connection'][_0x22d56c(0x640)],'handshakeState':this[_0x22d56c(0x767)][_0x22d56c(0x7cf)],'signalingState':this[_0x22d56c(0x767)][_0x22d56c(0x5bb)],'dataChannelState':this[_0x22d56c(0x218)]?.[_0x22d56c(0x3b3)]});}}function _0x10c705(_0x348cff,_0x34de41){const _0x450ada=_0x32ddeb;_0x34de41[_0x450ada(0x7db)]({'sourceId':_0x514c9c,'messageType':_0x16f8c2['PeerConnection'],'content':_0x348cff});}class _0x8e25da{static ['instance'];[_0x32ddeb(0x75c)]=[];['source'];constructor(){setInterval(()=>{const _0x4a03eb=a0_0x51ad;this[_0x4a03eb(0x75c)]['forEach'](_0x1c43a6=>{const _0x197c76=_0x4a03eb;if(Date[_0x197c76(0x5d9)]()-_0x1c43a6[_0x197c76(0x63e)]>_0x1c43a6[_0x197c76(0x45a)]){try{_0x1c43a6['callback']();}catch(_0x4e21b3){}_0x1c43a6['lastExecuted']=Date[_0x197c76(0x5d9)]();}});},0x64);}static[_0x32ddeb(0x5d0)](){const _0x2da7fc=_0x32ddeb;return _0x8e25da[_0x2da7fc(0x484)]||(_0x8e25da[_0x2da7fc(0x484)]=new _0x8e25da()),_0x8e25da['instance'];}['startNoThrottlingHack'](_0x1ed107){const _0xda71f=_0x32ddeb,_0x2f27de=this[_0xda71f(0x3a7)](_0x1ed107),_0xaa8475=_0x1ed107[_0xda71f(0x4ac)]();_0xaa8475&&_0x2f27de&&(_0xaa8475['gain'][_0xda71f(0x552)]=0.001,_0x2f27de[_0xda71f(0x2ef)](_0xaa8475),_0xaa8475[_0xda71f(0x2ef)](_0x1ed107[_0xda71f(0x2cd)]),_0x2f27de[_0xda71f(0x429)]());}[_0x32ddeb(0x637)](){const _0x10bbea=_0x32ddeb;this[_0x10bbea(0x704)]&&(this['source'][_0x10bbea(0x403)](),this[_0x10bbea(0x704)][_0x10bbea(0x232)](),this[_0x10bbea(0x704)]=void 0x0);}['wait'](_0x9e639b){return new Promise(_0x3768fb=>{setTimeout(_0x3768fb,_0x9e639b);});}[_0x32ddeb(0x338)](_0x81c119,_0x488a0b){const _0x1de951=_0x32ddeb;return this['parameters'][_0x1de951(0x6f1)]({'callback':_0x81c119,'interval':_0x488a0b,'lastExecuted':Date[_0x1de951(0x5d9)]()}),()=>{const _0x15032d=_0x1de951;this['parameters']=this[_0x15032d(0x75c)][_0x15032d(0x6fc)](_0x24689a=>_0x24689a[_0x15032d(0x365)]!==_0x81c119);};}['createConstantSource'](_0x5e748a){const _0x1ad4d0=_0x32ddeb;if(_0x5e748a[_0x1ad4d0(0x3a7)])return _0x5e748a[_0x1ad4d0(0x3a7)]();const _0x46f25b=_0x5e748a[_0x1ad4d0(0x33a)](),_0x51fa20=_0x5e748a[_0x1ad4d0(0x721)](0x1,0x1,_0x5e748a[_0x1ad4d0(0x33b)]);return _0x51fa20[_0x1ad4d0(0x4eb)](0x0)[0x0]=0xa,_0x46f25b[_0x1ad4d0(0x6ac)]=_0x51fa20,_0x46f25b[_0x1ad4d0(0x22b)]=!0x0,_0x46f25b;}}const _0x43cca0=_0x8e25da[_0x32ddeb(0x5d0)](),_0x1d9b48=[_0x32ddeb(0x58b),_0x32ddeb(0x7d7),_0x32ddeb(0x370),'Subscription',_0x32ddeb(0x404),_0x32ddeb(0x70a),_0x32ddeb(0x25a)],_0x294ad6=[[_0x32ddeb(0x7dd),'Answer',_0x32ddeb(0x524),_0x32ddeb(0x6ae),_0x32ddeb(0x29a),_0x32ddeb(0x596),_0x32ddeb(0x810),_0x32ddeb(0x404),_0x32ddeb(0x251)],[_0x32ddeb(0x205),'NodeUpdate',_0x32ddeb(0x509),_0x32ddeb(0x59a)],['PublishMediaStream',_0x32ddeb(0x469),_0x32ddeb(0x4f2),_0x32ddeb(0x7b4),_0x32ddeb(0x2b2),_0x32ddeb(0x59e),_0x32ddeb(0x606),_0x32ddeb(0x216),_0x32ddeb(0x4ff),_0x32ddeb(0x69e),_0x32ddeb(0x630),_0x32ddeb(0x402),'RemoteMediaStreamTrackFail',_0x32ddeb(0x348),_0x32ddeb(0x225),_0x32ddeb(0x29e),_0x32ddeb(0x502),_0x32ddeb(0x542)],[_0x32ddeb(0x4f2),_0x32ddeb(0x7b4),'UnsubscribeMediaStream',_0x32ddeb(0x6ad),_0x32ddeb(0x2df),'CanProvideMediaStream','CannotProvideMediaStream',_0x32ddeb(0x3ac)],[_0x32ddeb(0x63b),'LocalReport'],[_0x32ddeb(0x428)],['Remediation',_0x32ddeb(0x1a2)]];function _0x3b9903(_0x5b5b64){const _0x1d61c0=_0x32ddeb;return{..._0x5b5b64,'systemMessageType':_0x1d9b48[_0x5b5b64[_0x1d61c0(0x349)]],'systemContentMessageType':_0x294ad6[_0x5b5b64[_0x1d61c0(0x349)]][_0x5b5b64[_0x1d61c0(0x41b)][_0x1d61c0(0x6a0)]]};}const _0x2905e1={'hour':_0x32ddeb(0x599),'minute':'2-digit','second':_0x32ddeb(0x599)};function _0x540f48(_0x285a7d,_0x37a5e9){const _0x222a40=_0x32ddeb,_0x280887=(function(){const _0x3d7044=a0_0x51ad,_0x10fbcb=new Date(),_0x4026fa=_0x10fbcb['getMilliseconds'](),_0x4cd640=_0x10fbcb[_0x3d7044(0x763)](_0x3d7044(0x2b3),_0x2905e1)[_0x3d7044(0x2ad)](/\d\d:\d\d:\d\d/)?.[0x0];return _0x4cd640+'.'+(_0x4026fa>0x64?''+_0x4026fa:_0x4026fa>0xa?'0'+_0x4026fa:'00'+_0x4026fa);}()),{sourceId:_0x5d4c20,destinationIds:_0x953366,systemMessageType:_0xa224d0,systemContentMessageType:_0x5afab9}=_0x3b9903(_0x285a7d);return _0x280887+_0x222a40(0x655)+_0x37a5e9+_0x222a40(0x655)+(_0x5d4c20===_0x37a5e9?_0x222a40(0x1ae)+_0xa224d0+_0x222a40(0x7b2)+(_0x953366?''+_0x953366:'everyone'):_0x285a7d[_0x222a40(0x1ad)]===_0x514c9c?_0x222a40(0x410)+_0xa224d0+'\x27':(_0x953366?'':_0x222a40(0x19b))+_0x222a40(0x390)+_0xa224d0+_0x222a40(0x61c)+_0x5d4c20)+_0x222a40(0x749)+_0x5afab9+_0x222a40(0x19f);}class _0xb21ece extends _0x9aa356{[_0x32ddeb(0x72e)]=_0x70c74f();['trackCallback']=_0x70c74f();['removeTrackCallback']=_0x70c74f();[_0x32ddeb(0x603)]=new Map();[_0x32ddeb(0x7a6)]=new Map();[_0x32ddeb(0x4f3)];['messagesReceived']=0x0;[_0x32ddeb(0x354)]={'messages':{'total':0x0}};[_0x32ddeb(0x2f6)]=0x0;['timeReceiving']=0x0;['close'](){const _0x5ac179=_0x32ddeb;this[_0x5ac179(0x32c)](),this['receivers'][_0x5ac179(0x532)](),super[_0x5ac179(0x36f)]();}async['handleOffer'](_0x1f96ab,_0x4e5c07){const _0x2cf9de=_0x32ddeb;this[_0x2cf9de(0x811)]=_0x4e5c07,this[_0x2cf9de(0x32c)]();const _0x8cf109=await this['connection'][_0x2cf9de(0x771)](_0x1f96ab);this[_0x2cf9de(0x34f)]();const _0x3a8d6b=(0x0,_0x3b9a63['v4'])();this[_0x2cf9de(0x622)]({'type':_0x11c283[_0x2cf9de(0x47a)],'answer':_0x8cf109,'version':_0x4e5c07,'connectionType':this[_0x2cf9de(0x2b9)]},_0x3a8d6b),this[_0x2cf9de(0x2b9)]===_0x35e181['Core']&&(this['waitSuccess']=_0x43cca0[_0x2cf9de(0x338)](()=>{const _0x22c4d9=_0x2cf9de;this['publishSystemMessage']({'type':_0x11c283['Answer'],'answer':_0x8cf109,'version':_0x4e5c07,'connectionType':this[_0x22c4d9(0x2b9)]},_0x3a8d6b);},0x1388));}[_0x32ddeb(0x2bd)](){const _0x37bf59=_0x32ddeb;this[_0x37bf59(0x32c)]();}['handleNeedRestart'](_0x26d6cd){const _0x483283=_0x32ddeb;this[_0x483283(0x315)](_0x26d6cd),this[_0x483283(0x622)]({'type':_0x11c283['Restart']});}async[_0x32ddeb(0x65b)](){const _0x4e5c0d=_0x32ddeb;this[_0x4e5c0d(0x32e)]&&(await this[_0x4e5c0d(0x767)][_0x4e5c0d(0x4dc)](this[_0x4e5c0d(0x603)],(_0x21393b,_0x2d87b1)=>{const _0x212a5e=_0x4e5c0d;_0x10c705({'type':_0x11c283[_0x212a5e(0x404)],'streamId':_0x2d87b1,'nodeId':this[_0x212a5e(0x264)],'stats':_0x21393b},this[_0x212a5e(0x32e)]);}),this[_0x4e5c0d(0x32e)]['publish']({'sourceId':_0x514c9c,'messageType':_0x16f8c2[_0x4e5c0d(0x58b)],'content':{'type':_0x11c283[_0x4e5c0d(0x404)],'nodeId':this[_0x4e5c0d(0x264)],'stats':{'origin':_0x66da55['Receiver'],'timestamp':Date['now'](),'messagesReceived':this['messagesReceived'],'bytesReceived':this[_0x4e5c0d(0x2f6)],'timeReceiving':this[_0x4e5c0d(0x62c)],'systemMessages':this[_0x4e5c0d(0x354)]}}}));}[_0x32ddeb(0x249)](_0x103d47){const _0xd4259c=_0x32ddeb;return this[_0xd4259c(0x72e)]['subscribe'](_0x103d47);}[_0x32ddeb(0x4fa)](_0x2412b3){const _0x4a9cbb=_0x32ddeb;return this[_0x4a9cbb(0x38f)]['subscribe'](({track:_0x26bd7a,stream:_0x356c23})=>_0x2412b3(_0x26bd7a,_0x356c23));}[_0x32ddeb(0x28e)](_0x12e65a){const _0x5f2e4b=_0x32ddeb;return this[_0x5f2e4b(0x5f4)][_0x5f2e4b(0x558)](({track:_0x585b3e,stream:_0x408281})=>_0x12e65a(_0x585b3e,_0x408281));}[_0x32ddeb(0x315)](_0x44155c){const _0xc38718=_0x32ddeb;this[_0xc38718(0x32c)](),this['receivers'][_0xc38718(0x801)](_0xfd2b14=>{const _0x52a46a=_0xc38718;_0xfd2b14[_0x52a46a(0x532)]();}),super[_0xc38718(0x315)](_0x44155c);}[_0x32ddeb(0x19c)](){const _0x122e17=_0x32ddeb;this[_0x122e17(0x622)]({'type':_0x11c283[_0x122e17(0x524)],'candidates':this[_0x122e17(0x3da)],'origin':_0x66da55[_0x122e17(0x62d)],'version':this[_0x122e17(0x811)],'connectionType':this[_0x122e17(0x2b9)]});}['setupConnectionEvents'](){const _0x2f1846=_0x32ddeb;super[_0x2f1846(0x6c3)](),this[_0x2f1846(0x767)][_0x2f1846(0x4fa)]=_0x9abc50=>{const _0x6c4486=_0x2f1846;_0x1709c0[_0x6c4486(0x419)](_0x459921['Connection'],_0x6c4486(0x38b),this[_0x6c4486(0x7a2)][_0x6c4486(0x544)](),_0x9abc50),_0x9abc50[_0x6c4486(0x7eb)][0x0][_0x6c4486(0x760)]=_0xe148c9=>{const _0x5612a7=_0x6c4486;this[_0x5612a7(0x603)][_0x5612a7(0x798)](_0x9abc50[_0x5612a7(0x7eb)][0x0]['id'])?.[_0x5612a7(0x27d)](_0xe148c9[_0x5612a7(0x240)]),0x0===this[_0x5612a7(0x603)]['get'](_0x9abc50[_0x5612a7(0x7eb)][0x0]['id'])?.[_0x5612a7(0x36a)]&&this[_0x5612a7(0x603)][_0x5612a7(0x27d)](_0x9abc50['streams'][0x0]['id']),this[_0x5612a7(0x5f4)][_0x5612a7(0x7db)]({'track':_0xe148c9[_0x5612a7(0x240)],'stream':_0x9abc50[_0x5612a7(0x7eb)][0x0]});},this[_0x6c4486(0x603)][_0x6c4486(0x5ae)](_0x9abc50[_0x6c4486(0x7eb)][0x0]['id'])||this[_0x6c4486(0x603)][_0x6c4486(0x36d)](_0x9abc50[_0x6c4486(0x7eb)][0x0]['id'],new Set()),this[_0x6c4486(0x603)]['get'](_0x9abc50['streams'][0x0]['id'])[_0x6c4486(0x259)](_0x9abc50[_0x6c4486(0x240)]),this['trackCallback'][_0x6c4486(0x7db)]({'track':_0x9abc50[_0x6c4486(0x240)],'stream':_0x9abc50[_0x6c4486(0x7eb)][0x0]});},this[_0x2f1846(0x767)][_0x2f1846(0x7f8)]=_0x172a86=>{const _0x40771d=_0x2f1846;this['dataChannel']=_0x172a86['channel'],this[_0x40771d(0x218)][_0x40771d(0x249)]=_0x3314ee=>{const _0x23cd2b=_0x40771d;if(_0x3314ee[_0x23cd2b(0x777)]!==_0xe03cfd)this[_0x23cd2b(0x7e6)](_0x3314ee['data']);else{if(!this[_0x23cd2b(0x218)])return void _0x1709c0[_0x23cd2b(0x4fe)](_0x23cd2b(0x52c),{'clusterId':this['clusterId'],'nodeId':this[_0x23cd2b(0x7a2)]['getId'](),'nodeType':this[_0x23cd2b(0x7a2)][_0x23cd2b(0x6a0)],'remoteId':this[_0x23cd2b(0x264)],'data':{'connection':_0x23cd2b(0x30f)}});if(_0x23cd2b(0x800)!==this[_0x23cd2b(0x218)][_0x23cd2b(0x3b3)])return;this[_0x23cd2b(0x218)]['send']('1');}};};}['handleOnMessage'](_0x20f974){const _0x41f661=_0x32ddeb;if(_0x41f661(0x1ed)==typeof _0x20f974&&_0x20f974[_0x41f661(0x6ab)](_0x43db46))return this[_0x41f661(0x1e7)]+=0x1,this['bytesReceived']+=_0x20f974['length'],this['handleChunkMessage'](_0x20f974);setTimeout(()=>{const _0x1c9420=_0x41f661,_0x2171d1=Date[_0x1c9420(0x5d9)]();let _0x193bb4;if((_0x20f974 instanceof ArrayBuffer||_0x20f974[_0x1c9420(0x19d)]<=_0x4291db)&&(this[_0x1c9420(0x1e7)]+=0x1,this['bytesReceived']+=_0x20f974 instanceof ArrayBuffer?_0x20f974[_0x1c9420(0x22d)]:_0x20f974['length']),_0x20f974 instanceof ArrayBuffer){const [_0x568a12,_0x40dce1]=this[_0x1c9420(0x3cf)](_0x20f974);_0x193bb4=_0x568a12,_0x193bb4[_0x1c9420(0x41b)][_0x1c9420(0x777)]=_0x40dce1;}else _0x193bb4=JSON[_0x1c9420(0x547)](_0x20f974);if(0x0===_0x193bb4[_0x1c9420(0x57c)]){this[_0x1c9420(0x354)][_0x1c9420(0x7d5)][_0x1c9420(0x27a)]+=0x1;const {systemMessageType:_0x228ed6,systemContentMessageType:_0x5ad8c3}=_0x3b9903(_0x193bb4);this[_0x1c9420(0x354)][_0x228ed6]||(this[_0x1c9420(0x354)][_0x228ed6]={[_0x5ad8c3]:0x0}),this[_0x1c9420(0x354)][_0x228ed6][_0x5ad8c3]||(this['systemMessagesReceived'][_0x228ed6][_0x5ad8c3]=0x0),this[_0x1c9420(0x354)][_0x228ed6][_0x1c9420(0x27a)]||(this['systemMessagesReceived'][_0x228ed6][_0x1c9420(0x27a)]=0x0),this[_0x1c9420(0x354)][_0x228ed6][_0x5ad8c3]+=0x1,this[_0x1c9420(0x354)][_0x228ed6][_0x1c9420(0x27a)]+=0x1;}this[_0x1c9420(0x72e)][_0x1c9420(0x7db)](_0x193bb4),this['timeReceiving']+=Date[_0x1c9420(0x5d9)]()-_0x2171d1;},0x0);}['handleChunkMessage'](_0x3d9dbf){const _0x4ffb14=_0x32ddeb,_0x336aee=_0x3d9dbf['split'](';'),_0x22d245=_0x336aee[0x1],_0x5bc957=parseInt(_0x336aee[0x2],0xa),_0x29f54f=parseInt(_0x336aee[0x3],0xa),_0x2cc0f1=_0x3d9dbf['replace'](_0x43db46+';'+_0x22d245+';'+_0x5bc957+';'+_0x29f54f+';','');this['chunks']['has'](_0x22d245)||this[_0x4ffb14(0x7a6)]['set'](_0x22d245,[]);const _0x44e8ae=this[_0x4ffb14(0x7a6)][_0x4ffb14(0x798)](_0x22d245);_0x44e8ae[_0x5bc957]=_0x2cc0f1,_0x44e8ae[_0x4ffb14(0x19d)]===_0x29f54f&&(this[_0x4ffb14(0x7e6)](_0x44e8ae[_0x4ffb14(0x710)]('')),this[_0x4ffb14(0x7a6)][_0x4ffb14(0x27d)](_0x22d245));}[_0x32ddeb(0x32c)](){const _0x145f3e=_0x32ddeb;this[_0x145f3e(0x4f3)]?.(),delete this[_0x145f3e(0x4f3)];}[_0x32ddeb(0x623)](_0x18bb2c){const _0x3d3fe4=_0x32ddeb,_0x5ae83a=new TextDecoder()[_0x3d3fe4(0x521)](_0x18bb2c);return JSON[_0x3d3fe4(0x547)](_0x5ae83a);}[_0x32ddeb(0x3cf)](_0x2d5718){const _0x4bd1a5=_0x32ddeb,_0x2309fb=new Uint8Array(_0x2d5718[_0x4bd1a5(0x6c2)](0x0,0x4)),_0x112214=new Uint32Array(_0x2309fb[_0x4bd1a5(0x6ac)])[0x0],_0x3de973=new Uint8Array(_0x2d5718[_0x4bd1a5(0x6c2)](0x4,0x4+_0x112214)),_0x5e3c8b=new Uint8Array(_0x2d5718[_0x4bd1a5(0x6c2)](0x4+_0x112214));return[this[_0x4bd1a5(0x623)](_0x3de973['buffer']),_0x5e3c8b[_0x4bd1a5(0x6ac)]];}}const _0x175742=0xc350;var _0x5d5fb3,_0x1152b3;!function(_0x134f4a){const _0xd81342=_0x32ddeb;_0x134f4a[_0x134f4a[_0xd81342(0x491)]=0x0]='High',_0x134f4a[_0x134f4a[_0xd81342(0x4d5)]=0x1]=_0xd81342(0x4d5),_0x134f4a[_0x134f4a[_0xd81342(0x71d)]=0x2]=_0xd81342(0x71d);}(_0x5d5fb3||(_0x5d5fb3={}));class _0x18a6a0 extends _0x9aa356{[_0x32ddeb(0x73e)];[_0x32ddeb(0x387)];[_0x32ddeb(0x663)]=new Map();[_0x32ddeb(0x4ee)];[_0x32ddeb(0x37a)];['lastHeartbeat'];['isReconnecting']=!0x1;['connectionTimeout'];[_0x32ddeb(0x4a2)];[_0x32ddeb(0x72b)];[_0x32ddeb(0x63c)]=function(e,t=_0x5d5fb3,s=!0x1){const _0x4f6c92=_0x32ddeb;let i=!0x1;const n=[];async function o(){const _0xc389fb=a0_0x51ad;if(!i){for(i=!0x0;n[_0xc389fb(0x442)](e=>e[_0xc389fb(0x17c)]);){let t,i=0x0;for(const [e,s]of n['entries']())if(t=s['shift'](),i=e,t)break;if(t)try{if(e instanceof _0x4381c5&&e['call'](t),e instanceof _0x22b166&&await e[_0xc389fb(0x5ac)](t),n['slice'](-0x1)['some'](e=>e[_0xc389fb(0x17c)]))continue;const s=n[_0xc389fb(0x19d)]-0x1;i===s&&n[s][_0xc389fb(0x17c)]&&await _0x43cca0['wait'](0x0);}catch(o){s?n[i][_0xc389fb(0x6f1)](t,!0x1):n[i][_0xc389fb(0x2dc)](t,!0x1),await e['wait']();}}i=!0x1;}}return Object[_0x4f6c92(0x693)](t)[_0x4f6c92(0x801)](e=>{const _0x2b7a6e=_0x4f6c92;_0x2b7a6e(0x1ed)!=typeof e&&(n[e]=_0x46125a(o));}),{'queues':n};}(new _0x4381c5(this[_0x32ddeb(0x23d)][_0x32ddeb(0x499)](this),this[_0x32ddeb(0x4b0)][_0x32ddeb(0x499)](this)));[_0x32ddeb(0x611)]=0x0;[_0x32ddeb(0x504)]=0x0;['timeSending']=0x0;[_0x32ddeb(0x3a3)]=0x0;[_0x32ddeb(0x74a)];constructor(_0x3ae58a,_0x33a9da,_0x447d1d,_0x17e41b,_0x1afb3a,_0x35a209,_0x5ac949,_0x33a1e){const _0x36bcf4=_0x32ddeb;super(_0x3ae58a,_0x33a9da,_0x447d1d,_0x17e41b,_0x1afb3a,_0x33a1e),this[_0x36bcf4(0x73e)]=_0x35a209,this[_0x36bcf4(0x387)]=_0x5ac949;}[_0x32ddeb(0x36f)](){const _0x438fd1=_0x32ddeb;this['clearUpgradeTimeout'](),this[_0x438fd1(0x49d)](),delete this['lastHeartbeat'],this[_0x438fd1(0x770)](),this['clearConnectionTimeout'](),this['clearWaitAnswer'](),this[_0x438fd1(0x663)][_0x438fd1(0x532)](),this[_0x438fd1(0x731)]=!0x1,this[_0x438fd1(0x63c)][_0x438fd1(0x5e8)][_0x438fd1(0x801)](_0x20b3b2=>_0x20b3b2[_0x438fd1(0x532)]()),this[_0x438fd1(0x673)](),super[_0x438fd1(0x36f)]();}[_0x32ddeb(0x6cd)](){const _0x436a1e=_0x32ddeb;return!!this[_0x436a1e(0x501)]&&super[_0x436a1e(0x6cd)]()&&Date[_0x436a1e(0x5d9)]()-this[_0x436a1e(0x501)]<0x3a98;}async[_0x32ddeb(0x65b)](){const _0x1fe850=_0x32ddeb;this[_0x1fe850(0x32e)]&&(await this[_0x1fe850(0x767)]['collectSendersStats'](this[_0x1fe850(0x663)],(_0x4d5a2c,_0x449779)=>{const _0x2218cd=_0x1fe850;_0x10c705({'type':_0x11c283[_0x2218cd(0x404)],'streamId':_0x449779,'nodeId':this[_0x2218cd(0x264)],'stats':_0x4d5a2c},this[_0x2218cd(0x32e)]);}),this[_0x1fe850(0x32e)][_0x1fe850(0x7db)]({'sourceId':_0x514c9c,'messageType':_0x16f8c2[_0x1fe850(0x58b)],'content':{'type':_0x11c283['Stats'],'nodeId':this[_0x1fe850(0x264)],'stats':{'origin':_0x66da55[_0x1fe850(0x595)],'timestamp':Date[_0x1fe850(0x5d9)](),'messagesSent':this[_0x1fe850(0x611)],'bytesSent':this[_0x1fe850(0x504)],'timeSending':this[_0x1fe850(0x7ed)],'roundTripTime':this[_0x1fe850(0x3a3)]}}}));}async[_0x32ddeb(0x496)](_0xeee771){const _0x314dbd=_0x32ddeb;_0x1709c0[_0x314dbd(0x419)](_0x459921[_0x314dbd(0x538)],_0x314dbd(0x20d),this[_0x314dbd(0x7a2)]['getId'](),this['remoteId']),this[_0x314dbd(0x770)](),this[_0x314dbd(0x626)](),this[_0x314dbd(0x617)](),this[_0x314dbd(0x787)]=setTimeout(()=>{const _0x5307f9=_0x314dbd;this[_0x5307f9(0x351)]();},0x7530),this[_0x314dbd(0x218)]||(this[_0x314dbd(0x218)]=this[_0x314dbd(0x767)][_0x314dbd(0x276)]('data'),this[_0x314dbd(0x218)]['bufferedAmountLowThreshold']=0x10000,this['dataChannel'][_0x314dbd(0x4bd)]=()=>{const _0x2fad82=_0x314dbd;this[_0x2fad82(0x74a)]=setTimeout(()=>{const _0x424cd3=_0x2fad82;delete this[_0x424cd3(0x74a)],[_0x424cd3(0x452),_0x424cd3(0x800)][_0x424cd3(0x31c)](this[_0x424cd3(0x218)]?.[_0x424cd3(0x3b3)]??'')||this[_0x424cd3(0x351)]();},0xfa);});const _0x1acf2f=await this[_0x314dbd(0x767)][_0x314dbd(0x496)](_0xeee771);this[_0x314dbd(0x501)]||(this['lastHeartbeat']=Date['now']());const _0x90924c=(0x0,_0x3b9a63['v4'])();this[_0x314dbd(0x622)]({'type':_0x11c283[_0x314dbd(0x7dd)],'offer':_0x1acf2f,'version':this[_0x314dbd(0x811)],'connectionType':this[_0x314dbd(0x2b9)]},_0x90924c),this[_0x314dbd(0x2b9)]===_0x35e181['Core']&&(this['waitAnswer']=_0x43cca0[_0x314dbd(0x338)](()=>{const _0x28b9c5=_0x314dbd;this['publishSystemMessage']({'type':_0x11c283['Offer'],'offer':_0x1acf2f,'version':this[_0x28b9c5(0x811)],'connectionType':this[_0x28b9c5(0x2b9)]},_0x90924c);},0x1388));}async[_0x32ddeb(0x432)](_0x20d215,_0x28d4d9){const _0x217402=_0x32ddeb;if(_0x28d4d9===this[_0x217402(0x811)]){this[_0x217402(0x617)]();try{await this['connection'][_0x217402(0x432)](_0x20d215,this['createOffer'][_0x217402(0x499)](this)),this[_0x217402(0x34f)](),this[_0x217402(0x626)](),this[_0x217402(0x666)]();}catch(_0x50de9b){this[_0x217402(0x351)]();}}}[_0x32ddeb(0x5a2)](_0x4199e0){const _0x3073aa=_0x32ddeb;if(!this['dataChannel'])throw new _0x4daf03(_0x4daf03['codes'][_0x3073aa(0x277)],{'message':_0x3073aa(0x4bc),'localId':this[_0x3073aa(0x7a2)][_0x3073aa(0x544)](),'remoteId':this['remoteId'],'eventMessage':_0x4199e0});if(_0x3073aa(0x800)!==this[_0x3073aa(0x218)][_0x3073aa(0x3b3)])throw new _0x4daf03(_0x4daf03[_0x3073aa(0x719)][_0x3073aa(0x277)],{'message':_0x3073aa(0x6ea),'localId':this[_0x3073aa(0x7a2)][_0x3073aa(0x544)](),'remoteId':this[_0x3073aa(0x264)],'eventMessage':_0x4199e0});let _0x311e2a;if(_0x4199e0[_0x3073aa(0x41b)][_0x3073aa(0x777)]instanceof ArrayBuffer){const _0x289d39=_0x4199e0[_0x3073aa(0x41b)][_0x3073aa(0x777)];delete _0x4199e0['content'][_0x3073aa(0x777)],_0x311e2a=this[_0x3073aa(0x2d0)](_0x4199e0,_0x289d39);}else _0x311e2a=JSON['stringify'](_0x4199e0);if(_0x3073aa(0x1ed)==typeof _0x311e2a&&_0x311e2a[_0x3073aa(0x19d)]>_0x4291db)return this['sendChunked'](_0x4199e0,_0x311e2a);const _0x47ff33=0x0===_0x4199e0[_0x3073aa(0x57c)]&&[_0x16f8c2[_0x3073aa(0x319)],_0x16f8c2[_0x3073aa(0x58b)]][_0x3073aa(0x31c)](_0x4199e0[_0x3073aa(0x349)])?_0x5d5fb3[_0x3073aa(0x491)]:_0x4199e0 instanceof ArrayBuffer?_0x5d5fb3['Low']:_0x5d5fb3[_0x3073aa(0x4d5)];this[_0x3073aa(0x3dd)](_0x311e2a,_0x47ff33);}[_0x32ddeb(0x368)](_0x29cb77,_0x2ad660,_0x5c9dff,_0x261708){const _0x2f78d2=_0x32ddeb,_0x1714fa=(_0x318eca=this[_0x2f78d2(0x73e)],_0x30afa1=this[_0x2f78d2(0x387)],Math[_0x2f78d2(0x645)](0xe1000*_0x318eca*_0x30afa1));var _0x318eca,_0x30afa1;const _0xb3ea33=this[_0x2f78d2(0x663)][_0x2f78d2(0x798)](_0x2ad660['id'])||{'stream':_0x2ad660,'priority':_0x5c9dff,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x1714fa,'maxBitrate':_0x1714fa,'framerate':this['maxFps'],'maxFramerate':this[_0x2f78d2(0x73e)],'tracks':{},'params':_0x261708},_0x1934d5=_0xb3ea33[_0x2f78d2(0x74f)][_0x29cb77[_0x2f78d2(0x73d)]]||{'track':_0x29cb77};if(_0x1934d5[_0x2f78d2(0x77f)]?(_0x1934d5['track']=_0x29cb77,this[_0x2f78d2(0x767)][_0x2f78d2(0x3d4)](_0x29cb77,_0x1934d5['sender'])):_0x1934d5[_0x2f78d2(0x77f)]=this[_0x2f78d2(0x767)][_0x2f78d2(0x368)](_0x29cb77,_0x2ad660),_0xb3ea33['tracks'][_0x29cb77[_0x2f78d2(0x73d)]]=_0x1934d5,_0x261708&&(_0xb3ea33[_0x2f78d2(0x1ec)]=_0x261708),_0x261708&&_0x2f78d2(0x6db)===_0x261708[_0x2f78d2(0x73d)]&&_0x261708[_0x2f78d2(0x5bf)]&&_0x261708[_0x2f78d2(0x757)]&&(_0xb3ea33['resolutionScale']=this[_0x2f78d2(0x449)](_0x261708[_0x2f78d2(0x5bf)],_0x261708[_0x2f78d2(0x757)]),_0xb3ea33[_0x2f78d2(0x7ac)]=_0xb3ea33[_0x2f78d2(0x265)],_0xb3ea33['tracks'][_0x2f78d2(0x6db)]&&_0xb3ea33['tracks'][_0x2f78d2(0x6db)]['sender'])){const _0x5885aa=_0xb3ea33['tracks']['video'][_0x2f78d2(0x77f)];this['connection'][_0x2f78d2(0x1cb)](_0x5885aa,Math[_0x2f78d2(0x645)](0xa*_0xb3ea33['resolutionScale'])/0xa,_0xb3ea33[_0x2f78d2(0x6a5)],_0xb3ea33[_0x2f78d2(0x7bf)],_0xb3ea33[_0x2f78d2(0x396)]);}this['senders']['set'](_0x2ad660['id'],_0xb3ea33);}['setPriority'](_0x2d1ff3,_0x4dbf56){const _0x3626d7=_0x32ddeb,_0x12819f=this[_0x3626d7(0x663)][_0x3626d7(0x798)](_0x2d1ff3['id']);if(_0x12819f&&_0x12819f[_0x3626d7(0x396)]!==_0x4dbf56&&(_0x12819f[_0x3626d7(0x396)]=_0x4dbf56,_0x12819f[_0x3626d7(0x74f)][_0x3626d7(0x6db)]&&_0x12819f[_0x3626d7(0x74f)][_0x3626d7(0x6db)][_0x3626d7(0x77f)])){const _0x51cf77=_0x12819f[_0x3626d7(0x74f)][_0x3626d7(0x6db)][_0x3626d7(0x77f)];this[_0x3626d7(0x767)][_0x3626d7(0x1cb)](_0x51cf77,Math['floor'](0xa*_0x12819f[_0x3626d7(0x265)])/0xa,_0x12819f[_0x3626d7(0x6a5)],_0x12819f['bitrate'],_0x12819f[_0x3626d7(0x396)]);}}[_0x32ddeb(0x278)](_0x562399,_0x5bd4aa){const _0x47320a=_0x32ddeb,_0x2c436e=this[_0x47320a(0x663)][_0x47320a(0x798)](_0x562399['id']);if(_0x2c436e){if(_0x2c436e[_0x47320a(0x1ec)]=_0x5bd4aa,_0x5bd4aa&&_0x47320a(0x6db)===_0x5bd4aa[_0x47320a(0x73d)]&&_0x5bd4aa[_0x47320a(0x5bf)]&&_0x5bd4aa['maxResolution']){if(_0x2c436e[_0x47320a(0x7ac)]=this[_0x47320a(0x449)](_0x5bd4aa[_0x47320a(0x5bf)],_0x5bd4aa[_0x47320a(0x757)]),_0x2c436e[_0x47320a(0x265)]<_0x2c436e[_0x47320a(0x7ac)]&&(_0x2c436e[_0x47320a(0x265)]=_0x2c436e[_0x47320a(0x7ac)]),_0x2c436e[_0x47320a(0x74f)][_0x47320a(0x6db)]&&_0x2c436e['tracks']['video']['sender']){const _0x4947d3=_0x2c436e[_0x47320a(0x74f)][_0x47320a(0x6db)]['sender'];this['connection'][_0x47320a(0x1cb)](_0x4947d3,Math['floor'](0xa*_0x2c436e['resolutionScale'])/0xa,_0x2c436e['framerate'],_0x2c436e[_0x47320a(0x7bf)],_0x2c436e[_0x47320a(0x396)]);}this[_0x47320a(0x3ed)](),this['setUpgradeTimeout']();}this[_0x47320a(0x663)]['set'](_0x562399['id'],_0x2c436e);}}[_0x32ddeb(0x304)](_0x3d9b2d,_0x6a8668){const _0x5ac193=_0x32ddeb,_0x3909f0=this['senders'][_0x5ac193(0x798)](_0x6a8668['id']);if(_0x3909f0){const _0x5e338d=_0x3909f0[_0x5ac193(0x74f)][_0x3d9b2d[_0x5ac193(0x73d)]];_0x5e338d&&(_0x5e338d[_0x5ac193(0x77f)]&&this[_0x5ac193(0x767)]['removeTrack'](_0x5e338d[_0x5ac193(0x77f)]),_0x5e338d[_0x5ac193(0x240)]=void 0x0);}}[_0x32ddeb(0x384)](_0x505ad7){const _0x491127=_0x32ddeb;this[_0x491127(0x3ed)]();const _0x16cfa4=function(_0x4e33d8,_0x348aab){const _0x45fa4d=_0x491127;return _0x4e33d8[_0x45fa4d(0x78b)]((_0x476013,_0x957b08)=>_0x348aab[_0x45fa4d(0x308)]===_0x5eddc8[_0x45fa4d(0x360)]?_0x957b08[_0x45fa4d(0x396)]-_0x476013['priority']:_0x476013[_0x45fa4d(0x396)]-_0x957b08[_0x45fa4d(0x396)])[_0x45fa4d(0x323)](_0x512f66=>function(_0x13015b,_0x370532){const _0x17ce6a=_0x45fa4d;if(_0x370532[_0x17ce6a(0x308)]===_0x5eddc8[_0x17ce6a(0x360)]){if(_0x370532[_0x17ce6a(0x40f)]===_0x314273[_0x17ce6a(0x28c)])return _0x13015b['resolutionScale']<0x4||_0x13015b['maxFramerate']>0xf;if(_0x370532[_0x17ce6a(0x40f)]===_0x314273[_0x17ce6a(0x1f5)])return _0x13015b['maxBitrate']>_0x175742;}return _0x13015b[_0x17ce6a(0x265)]>_0x13015b[_0x17ce6a(0x7ac)]||_0x13015b[_0x17ce6a(0x6a5)]<_0x13015b[_0x17ce6a(0x59f)]||_0x13015b['bitrate']<_0x13015b[_0x17ce6a(0x5ab)];}(_0x512f66,_0x348aab));}(Array[_0x491127(0x34d)](this['senders']['values']()),_0x505ad7);if(_0x16cfa4&&(function(_0x402a59,_0x411962){const _0x25e9db=_0x491127;_0x402a59[_0x25e9db(0x74f)][_0x25e9db(0x6db)]&&_0x402a59['tracks'][_0x25e9db(0x6db)][_0x25e9db(0x77f)]&&(_0x402a59[_0x25e9db(0x265)]=function(_0x3d245b,_0xfde49,_0x47dd04){const _0x4a966b=_0x25e9db;switch(_0x47dd04[_0x4a966b(0x308)]){case _0x5eddc8['Downgrade']:_0x47dd04[_0x4a966b(0x40f)]===_0x314273[_0x4a966b(0x28c)]&&(_0x3d245b+=0.5)>0x4&&(_0x3d245b=0x4);break;case _0x5eddc8[_0x4a966b(0x182)]:(_0x3d245b-=0.5)<_0xfde49&&(_0x3d245b=_0xfde49);}return _0x3d245b;}(_0x402a59[_0x25e9db(0x265)],_0x402a59[_0x25e9db(0x7ac)],_0x411962),_0x402a59[_0x25e9db(0x6a5)]=function(_0x44b563,_0x384828,_0xdac85){const _0x11f9a3=_0x25e9db;switch(_0xdac85[_0x11f9a3(0x308)]){case _0x5eddc8[_0x11f9a3(0x360)]:_0xdac85['component']===_0x314273[_0x11f9a3(0x28c)]&&(_0x44b563-=0x3)<0xf&&(_0x44b563=0xf);break;case _0x5eddc8[_0x11f9a3(0x182)]:(_0x44b563+=0x3)>_0x384828&&(_0x44b563=_0x384828);}return _0x44b563;}(_0x402a59['framerate'],_0x402a59[_0x25e9db(0x59f)],_0x411962),_0x402a59[_0x25e9db(0x7bf)]=function(_0x7b7e29,_0x42e6aa,_0x5986d9){const _0x4ab78e=_0x25e9db;switch(_0x5986d9[_0x4ab78e(0x308)]){case _0x5eddc8[_0x4ab78e(0x360)]:_0x5986d9[_0x4ab78e(0x40f)]===_0x314273[_0x4ab78e(0x1f5)]&&(_0x7b7e29*=0.75)<_0x175742&&(_0x7b7e29=_0x175742);break;case _0x5eddc8[_0x4ab78e(0x182)]:(_0x7b7e29*=1.25)>_0x42e6aa&&(_0x7b7e29=_0x42e6aa);}return _0x7b7e29;}(_0x402a59[_0x25e9db(0x7bf)],_0x402a59[_0x25e9db(0x5ab)],_0x411962));}(_0x16cfa4,_0x505ad7),_0x16cfa4[_0x491127(0x74f)][_0x491127(0x6db)]&&_0x16cfa4['tracks']['video']['sender'])){const _0x26b3ac=_0x16cfa4[_0x491127(0x74f)][_0x491127(0x6db)][_0x491127(0x77f)];this['connection'][_0x491127(0x1cb)](_0x26b3ac,Math[_0x491127(0x645)](0xa*_0x16cfa4[_0x491127(0x265)])/0xa,_0x16cfa4['framerate'],_0x16cfa4[_0x491127(0x7bf)],_0x16cfa4[_0x491127(0x396)]);}(_0x16cfa4||_0x505ad7[_0x491127(0x308)]===_0x5eddc8[_0x491127(0x360)])&&this['setUpgradeTimeout']();}['resetConnection'](){const _0x1811bc=_0x32ddeb;super[_0x1811bc(0x315)](),this[_0x1811bc(0x673)](),this[_0x1811bc(0x617)](),this[_0x1811bc(0x663)]['forEach'](_0x2e4175=>{const _0x528f5b=_0x1811bc;_0x2e4175[_0x528f5b(0x74f)][_0x528f5b(0x6db)]&&(_0x2e4175[_0x528f5b(0x74f)][_0x528f5b(0x6db)][_0x528f5b(0x77f)]=void 0x0),_0x2e4175[_0x528f5b(0x74f)][_0x528f5b(0x1ea)]&&(_0x2e4175[_0x528f5b(0x74f)][_0x528f5b(0x1ea)][_0x528f5b(0x77f)]=void 0x0);}),this[_0x1811bc(0x731)]=!0x0;}async['waitSendBuffer'](){return new Promise(async _0x3f35b6=>{const _0x239201=a0_0x51ad;if(!this['dataChannel']||_0x239201(0x800)!==this[_0x239201(0x218)][_0x239201(0x3b3)])return await _0x43cca0['wait'](0x64),void _0x3f35b6();this['dataChannel'][_0x239201(0x1c4)]<0x10000?_0x3f35b6():this[_0x239201(0x218)][_0x239201(0x6da)]=()=>{const _0x3089ee=_0x239201;this[_0x3089ee(0x218)]&&(this[_0x3089ee(0x218)][_0x3089ee(0x6da)]=null),_0x3f35b6();};});}[_0x32ddeb(0x21b)](_0x101b95,_0x2808e0){const _0x516e33=_0x32ddeb,_0x422304=[];for(let _0x24e60f=0x0;_0x24e60f<_0x2808e0['length'];_0x24e60f+=_0x4291db)_0x422304[_0x516e33(0x6f1)](_0x2808e0[_0x516e33(0x6c2)](_0x24e60f,_0x24e60f+_0x4291db));for(const _0x193f9d of _0x422304)this[_0x516e33(0x3dd)](_0x43db46+';'+_0x101b95[_0x516e33(0x1d3)]+';'+_0x422304[_0x516e33(0x256)](_0x193f9d)+';'+_0x422304[_0x516e33(0x19d)]+';'+_0x193f9d,_0x5d5fb3[_0x516e33(0x71d)]);}async[_0x32ddeb(0x3dd)](_0x13d72b,_0x275d43){const _0x10ea17=_0x32ddeb;_0x13d72b===_0xe03cfd?this[_0x10ea17(0x63c)][_0x10ea17(0x5e8)][_0x275d43][_0x10ea17(0x17c)]?.[_0x10ea17(0x552)]!==_0xe03cfd&&this[_0x10ea17(0x63c)][_0x10ea17(0x5e8)][_0x275d43][_0x10ea17(0x2dc)](_0x13d72b):this[_0x10ea17(0x63c)]['queues'][_0x275d43][_0x10ea17(0x6f1)](_0x13d72b);}['sendAction'](_0x2a0dcc){const _0x38aa3a=_0x32ddeb;if(!this[_0x38aa3a(0x218)]||_0x38aa3a(0x800)!==this[_0x38aa3a(0x218)]['state'])throw new Error('DataChannel\x20is\x20not\x20open.');const _0x6cb469=Date['now']();_0x2a0dcc!==_0xe03cfd&&(this[_0x38aa3a(0x611)]+=0x1,this[_0x38aa3a(0x504)]+=_0x2a0dcc instanceof ArrayBuffer?_0x2a0dcc[_0x38aa3a(0x22d)]:_0x2a0dcc['length']),ArrayBuffer,this[_0x38aa3a(0x218)]['send'](_0x2a0dcc),this[_0x38aa3a(0x7ed)]+=Date['now']()-_0x6cb469;}[_0x32ddeb(0x666)](){const _0x4ca731=_0x32ddeb;this[_0x4ca731(0x4ee)]&&this['clearHeartbeat']();let _0xb4aa54=!0x0,_0x4556f6=Date['now']();this[_0x4ca731(0x501)]=Date[_0x4ca731(0x5d9)](),this[_0x4ca731(0x218)][_0x4ca731(0x249)]=_0x516688=>{const _0x1bb1d2=_0x4ca731;'1'===_0x516688[_0x1bb1d2(0x777)]&&(this[_0x1bb1d2(0x3a3)]=Date[_0x1bb1d2(0x5d9)]()-_0x4556f6,_0xb4aa54&&this[_0x1bb1d2(0x622)]({'type':_0x11c283['Success']}),_0xb4aa54=!0x1,this[_0x1bb1d2(0x501)]=Date[_0x1bb1d2(0x5d9)](),this[_0x1bb1d2(0x731)]&&(this['isReconnecting']=!0x1,this[_0x1bb1d2(0x446)]()));},this[_0x4ca731(0x4ee)]=_0x43cca0[_0x4ca731(0x338)](()=>{const _0x558089=_0x4ca731;_0x4556f6=Date[_0x558089(0x5d9)](),this[_0x558089(0x3dd)](_0xe03cfd,_0x5d5fb3[_0x558089(0x491)]),Date[_0x558089(0x5d9)]()-this['lastHeartbeat']>(_0xb4aa54?0x15f90:0x3a98)&&this['handleDisconnect']();},0xbb8);}[_0x32ddeb(0x446)](){const _0xf20873=_0x32ddeb;this[_0xf20873(0x663)][_0xf20873(0x801)](_0x42c83a=>{const _0x76776a=_0xf20873;_0x42c83a[_0x76776a(0x74f)][_0x76776a(0x6db)]&&_0x42c83a[_0x76776a(0x74f)][_0x76776a(0x6db)][_0x76776a(0x240)]&&!_0x42c83a[_0x76776a(0x74f)][_0x76776a(0x6db)][_0x76776a(0x77f)]&&(_0x42c83a['tracks'][_0x76776a(0x6db)][_0x76776a(0x77f)]=this['connection'][_0x76776a(0x368)](_0x42c83a[_0x76776a(0x74f)][_0x76776a(0x6db)][_0x76776a(0x240)],_0x42c83a['stream'])),_0x42c83a[_0x76776a(0x74f)][_0x76776a(0x1ea)]&&_0x42c83a[_0x76776a(0x74f)]['audio']['track']&&!_0x42c83a[_0x76776a(0x74f)][_0x76776a(0x1ea)][_0x76776a(0x77f)]&&(_0x42c83a[_0x76776a(0x74f)][_0x76776a(0x1ea)][_0x76776a(0x77f)]=this[_0x76776a(0x767)]['addTrack'](_0x42c83a[_0x76776a(0x74f)]['audio']['track'],_0x42c83a[_0x76776a(0x1e2)]));});}[_0x32ddeb(0x19c)](){const _0x31e037=_0x32ddeb;this[_0x31e037(0x622)]({'type':_0x11c283[_0x31e037(0x524)],'candidates':this[_0x31e037(0x3da)],'origin':_0x66da55['Sender'],'version':this[_0x31e037(0x811)],'connectionType':this[_0x31e037(0x2b9)]});}[_0x32ddeb(0x6c3)](){const _0x3d78c7=_0x32ddeb;super[_0x3d78c7(0x6c3)](),this[_0x3d78c7(0x767)][_0x3d78c7(0x250)]=()=>{const _0x5eb73c=_0x3d78c7;if(_0x5eb73c(0x646)===this[_0x5eb73c(0x767)][_0x5eb73c(0x7cf)]){_0x1709c0[_0x5eb73c(0x419)](_0x459921[_0x5eb73c(0x41c)],_0x5eb73c(0x6d4),this[_0x5eb73c(0x7a2)]['getId'](),this[_0x5eb73c(0x264)]);try{if(this['connection'][_0x5eb73c(0x700)])return void this[_0x5eb73c(0x767)]['restartHandshake']();}catch(_0x4bacef){}this[_0x5eb73c(0x496)]({'handshakeRestart':!0x0});}},this[_0x3d78c7(0x767)]['onConnectionStateChange']=()=>{const _0x1cc638=_0x3d78c7;_0x1cc638(0x40d)!==this[_0x1cc638(0x767)][_0x1cc638(0x640)]&&_0x1cc638(0x646)!==this[_0x1cc638(0x767)][_0x1cc638(0x640)]||this[_0x1cc638(0x351)]();};}[_0x32ddeb(0x351)](){const _0x3e70b8=_0x32ddeb;this['clearHeartbeat'](),this['clearRestartTimeout'](),this[_0x3e70b8(0x626)](),_0x1709c0[_0x3e70b8(0x448)](_0x3e70b8(0x232),{'clusterId':this[_0x3e70b8(0x713)],'nodeId':this[_0x3e70b8(0x7a2)][_0x3e70b8(0x544)](),'nodeType':this[_0x3e70b8(0x7a2)][_0x3e70b8(0x6a0)],'remoteId':this[_0x3e70b8(0x264)],'data':{'connectionType':this[_0x3e70b8(0x2b9)],'connectionState':this[_0x3e70b8(0x767)]['connectionState'],'iceConnectionState':this[_0x3e70b8(0x767)][_0x3e70b8(0x7cf)],'signalingState':this['connection'][_0x3e70b8(0x5bb)],'readyState':this[_0x3e70b8(0x218)]?.['state']||'','lastHeartbeat':this[_0x3e70b8(0x501)]?Date['now']()-this[_0x3e70b8(0x501)]:'','retryQueue':this['retryQueue']}}),(this[_0x3e70b8(0x501)]&&Date[_0x3e70b8(0x5d9)]()-this[_0x3e70b8(0x501)]>0xea60)??0x1?this[_0x3e70b8(0x32e)]['publish']({'sourceId':this[_0x3e70b8(0x264)],'destinationIds':[this[_0x3e70b8(0x7a2)]['getId']()],'messageType':_0x16f8c2[_0x3e70b8(0x58b)],'content':{'type':_0x11c283['Disconnect']}}):(this[_0x3e70b8(0x315)](),this[_0x3e70b8(0x622)]({'type':_0x11c283['NeedRestart'],'version':this[_0x3e70b8(0x811)],'connectionType':this[_0x3e70b8(0x2b9)]}),this[_0x3e70b8(0x4a2)]=setTimeout(()=>{const _0x4ac802=_0x3e70b8;this[_0x4ac802(0x351)]();},0x7530));}[_0x32ddeb(0x49d)](){const _0x3682c3=_0x32ddeb;this[_0x3682c3(0x4ee)]?.(),delete this[_0x3682c3(0x4ee)];}[_0x32ddeb(0x626)](){const _0x1d8b6e=_0x32ddeb;this[_0x1d8b6e(0x787)]&&(clearTimeout(this[_0x1d8b6e(0x787)]),delete this[_0x1d8b6e(0x787)]);}[_0x32ddeb(0x770)](){const _0x13f6af=_0x32ddeb;this[_0x13f6af(0x4a2)]&&(clearTimeout(this[_0x13f6af(0x4a2)]),delete this['restartTimeout']);}[_0x32ddeb(0x3ed)](){const _0x95d3c5=_0x32ddeb;this['upgradeTimeout']&&(clearTimeout(this[_0x95d3c5(0x72b)]),delete this[_0x95d3c5(0x72b)]);}[_0x32ddeb(0x24c)](){const _0x50e788=_0x32ddeb;this[_0x50e788(0x72b)]=setTimeout(()=>{const _0x97119c=_0x50e788;this[_0x97119c(0x384)]({'type':_0x410246[_0x97119c(0x25a)],'action':_0x5eddc8[_0x97119c(0x182)]});},0x3a98);}[_0x32ddeb(0x449)](_0x4bbca9,_0x12551a){const _0x2210ae=_0x32ddeb,_0x3a586a=Math['max'](_0x4bbca9[_0x2210ae(0x635)]/_0x12551a[_0x2210ae(0x635)],_0x4bbca9[_0x2210ae(0x4b7)]/_0x12551a[_0x2210ae(0x4b7)]);return Math['min'](Math['max'](_0x3a586a,0x1),0x4);}['clearWaitAnswer'](){const _0x2e4c1d=_0x32ddeb;this[_0x2e4c1d(0x37a)]?.(),delete this[_0x2e4c1d(0x37a)];}[_0x32ddeb(0x673)](){const _0x410536=_0x32ddeb;this[_0x410536(0x74a)]&&(clearTimeout(this['oncloseTimeout']),delete this[_0x410536(0x74a)]);}['objectToArrayBuffer'](_0xaacb01){const _0x96cf9=_0x32ddeb,_0x22f7f9=JSON[_0x96cf9(0x5d7)](_0xaacb01);return new TextEncoder()[_0x96cf9(0x4f1)](_0x22f7f9)[_0x96cf9(0x6ac)];}[_0x32ddeb(0x2d0)](_0x10c0a3,_0x2a1ebd){const _0x51fb05=_0x32ddeb,_0xe69a5=this[_0x51fb05(0x4ce)](_0x10c0a3),_0x3de488=new Uint8Array(0x4),_0x4d487f=new Uint8Array(_0xe69a5),_0x23d248=new Uint8Array(_0x2a1ebd);_0x3de488['set'](new Uint8Array(new Uint32Array([_0x4d487f[_0x51fb05(0x19d)]])[_0x51fb05(0x6ac)]));const _0x5305cb=new Uint8Array(0x4+_0x4d487f[_0x51fb05(0x19d)]+_0x23d248['length']);return _0x5305cb[_0x51fb05(0x36d)](_0x3de488),_0x5305cb['set'](_0x4d487f,0x4),_0x5305cb['set'](_0x23d248,0x4+_0x4d487f[_0x51fb05(0x19d)]),_0x5305cb[_0x51fb05(0x6ac)];}}class _0x1e5d40 extends _0x4e3029{[_0x32ddeb(0x487)];[_0x32ddeb(0x2b9)];['maxFps'];['maxBpp'];[_0x32ddeb(0x482)];[_0x32ddeb(0x7c8)];[_0x32ddeb(0x2c2)];[_0x32ddeb(0x569)]=[];[_0x32ddeb(0x7f2)]=_0x1f49a7();[_0x32ddeb(0x5d4)]=_0x1f49a7();['removeTrackListeners']=_0x1f49a7();['listenerUnsubscribers']=[];['systemTopic'];['dataTopics']=new Map();[_0x32ddeb(0x794)]=new Map();['mediaTopics']=new Map();[_0x32ddeb(0x590)]=new Map();[_0x32ddeb(0x271)]=!0x1;constructor(_0x32bcd8,_0x214774,_0x452af4,_0x3e5624,_0x43badc,_0x431820,_0x324615,_0x134984){const _0x281434=_0x32ddeb;super(_0x32bcd8,_0x214774,_0x452af4),this[_0x281434(0x487)]=_0x3e5624,this[_0x281434(0x2b9)]=_0x43badc,this[_0x281434(0x73e)]=_0x431820,this[_0x281434(0x387)]=_0x324615,this[_0x281434(0x482)]=_0x134984;}[_0x32ddeb(0x67d)](_0x42d1bb){const _0x3691ff=_0x32ddeb;switch(_0x42d1bb[_0x3691ff(0x373)]()){case _0x16caec[_0x3691ff(0x76d)]['Data']:case _0x16caec[_0x3691ff(0x76d)][_0x3691ff(0x1b6)]:case _0x16caec['ContentType']['ObjectStore']:case _0x16caec['ContentType'][_0x3691ff(0x5ed)]:case _0x16caec[_0x3691ff(0x76d)][_0x3691ff(0x79d)]:this[_0x3691ff(0x7de)]['set'](_0x42d1bb['getLabel'](),_0x42d1bb);break;case _0x16caec[_0x3691ff(0x76d)][_0x3691ff(0x309)]:this[_0x3691ff(0x268)]['set'](_0x42d1bb['getLabel'](),_0x42d1bb);}}['unregisterPublisher'](_0x496177){const _0x4df706=_0x32ddeb;switch(_0x496177['getContentType']()){case _0x16caec[_0x4df706(0x76d)]['Data']:case _0x16caec[_0x4df706(0x76d)]['PubSub']:case _0x16caec[_0x4df706(0x76d)][_0x4df706(0x320)]:case _0x16caec[_0x4df706(0x76d)][_0x4df706(0x5ed)]:case _0x16caec[_0x4df706(0x76d)]['Job']:this[_0x4df706(0x7de)][_0x4df706(0x27d)](_0x496177[_0x4df706(0x7fa)]());break;case _0x16caec[_0x4df706(0x76d)][_0x4df706(0x309)]:this[_0x4df706(0x268)][_0x4df706(0x27d)](_0x496177['getLabel']());}}['registerSubscriber'](_0x2fd465){const _0x4603e7=_0x32ddeb;switch(_0x2fd465[_0x4603e7(0x373)]()){case _0x16caec[_0x4603e7(0x76d)]['Data']:case _0x16caec['ContentType'][_0x4603e7(0x1b6)]:case _0x16caec[_0x4603e7(0x76d)][_0x4603e7(0x320)]:case _0x16caec[_0x4603e7(0x76d)][_0x4603e7(0x5ed)]:case _0x16caec[_0x4603e7(0x76d)][_0x4603e7(0x79d)]:{const _0x19948d=_0x2fd465[_0x4603e7(0x558)](_0x48bcc7=>{const _0x103e9a=_0x4603e7;_0x104628(_0x48bcc7,this[_0x103e9a(0x648)]())&&_0x93c6c4(_0x48bcc7,this[_0x103e9a(0x264)])&&this[_0x103e9a(0x5a2)](_0x48bcc7);});this[_0x4603e7(0x794)][_0x4603e7(0x36d)](_0x2fd465['getLabel'](),_0x19948d);break;}case _0x16caec[_0x4603e7(0x76d)][_0x4603e7(0x309)]:{const _0x3347af=_0x2fd465['subscribe'](({content:_0x3198a8})=>{const _0x445aa2=_0x4603e7;switch(_0x3198a8[_0x445aa2(0x308)]){case _0x5b14c9[_0x445aa2(0x5ea)]:this[_0x445aa2(0x368)](_0x3198a8[_0x445aa2(0x240)],_0x3198a8['stream'],_0x3198a8[_0x445aa2(0x396)],_0x3198a8[_0x445aa2(0x1ec)]);break;case _0x5b14c9[_0x445aa2(0x35b)]:this[_0x445aa2(0x304)](_0x3198a8[_0x445aa2(0x240)],_0x3198a8[_0x445aa2(0x1e2)]);break;case _0x5b14c9['Update']:_0x3198a8[_0x445aa2(0x396)]&&this[_0x445aa2(0x703)](_0x3198a8[_0x445aa2(0x1e2)],_0x3198a8['priority']),_0x3198a8[_0x445aa2(0x1ec)]&&this[_0x445aa2(0x278)](_0x3198a8['stream'],_0x3198a8[_0x445aa2(0x1ec)]);}});this[_0x4603e7(0x590)][_0x4603e7(0x36d)](_0x2fd465[_0x4603e7(0x7fa)](),_0x3347af);break;}}}[_0x32ddeb(0x5da)](_0x590d46){const _0x1b35da=_0x32ddeb;switch(_0x590d46[_0x1b35da(0x373)]()){case _0x16caec[_0x1b35da(0x76d)][_0x1b35da(0x5f6)]:case _0x16caec[_0x1b35da(0x76d)][_0x1b35da(0x1b6)]:case _0x16caec[_0x1b35da(0x76d)]['ObjectStore']:case _0x16caec[_0x1b35da(0x76d)][_0x1b35da(0x5ed)]:case _0x16caec[_0x1b35da(0x76d)][_0x1b35da(0x79d)]:this[_0x1b35da(0x794)]['get'](_0x590d46[_0x1b35da(0x7fa)]())?.(),this[_0x1b35da(0x794)][_0x1b35da(0x27d)](_0x590d46[_0x1b35da(0x7fa)]());break;case _0x16caec['ContentType'][_0x1b35da(0x309)]:this['mediaUnsubscribers'][_0x1b35da(0x798)](_0x590d46[_0x1b35da(0x7fa)]())?.(),this['mediaUnsubscribers']['delete'](_0x590d46[_0x1b35da(0x7fa)]());}}[_0x32ddeb(0x393)](){const _0x1f2563=_0x32ddeb;return[_0x16caec[_0x1f2563(0x76d)][_0x1f2563(0x5f6)],_0x16caec[_0x1f2563(0x76d)][_0x1f2563(0x1b6)],_0x16caec[_0x1f2563(0x76d)][_0x1f2563(0x320)],_0x16caec[_0x1f2563(0x76d)][_0x1f2563(0x5ed)],_0x16caec[_0x1f2563(0x76d)][_0x1f2563(0x79d)]];}[_0x32ddeb(0x7ff)](_0x3fbbb1){const _0x14cb02=_0x32ddeb;this[_0x14cb02(0x32e)]=_0x3fbbb1;}[_0x32ddeb(0x443)](){const _0xfa6478=_0x32ddeb;delete this[_0xfa6478(0x32e)];}async[_0x32ddeb(0x2ef)](){const _0x3ec9a1=_0x32ddeb;this[_0x3ec9a1(0x46e)](),await this[_0x3ec9a1(0x496)]();}[_0x32ddeb(0x36f)](){const _0x305441=_0x32ddeb;this[_0x305441(0x5f7)]['forEach'](_0x291c70=>_0x291c70()),this[_0x305441(0x5f7)]=[],this[_0x305441(0x7c8)]?.[_0x305441(0x443)](),this[_0x305441(0x7c8)]?.[_0x305441(0x36f)](),delete this['senderConnection'],this[_0x305441(0x569)][_0x305441(0x801)](_0x100d87=>_0x100d87()),this[_0x305441(0x569)]=[],this[_0x305441(0x2c2)]?.[_0x305441(0x443)](),this['receiverConnection']?.[_0x305441(0x36f)](),delete this[_0x305441(0x2c2)];}[_0x32ddeb(0x6cd)](){const _0x5d3d23=_0x32ddeb;return this[_0x5d3d23(0x7c8)]?.[_0x5d3d23(0x6cd)]()&&this[_0x5d3d23(0x2c2)]?.[_0x5d3d23(0x6cd)]()||!0x1;}['send'](_0x1f5403){const _0x563ffc=_0x32ddeb;if(!this[_0x563ffc(0x7c8)]||!this[_0x563ffc(0x6cd)]())throw new _0x4daf03(_0x4daf03[_0x563ffc(0x719)]['ConnectionNotinitialized'],{'message':'Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','senderConnected':this[_0x563ffc(0x7c8)]?.[_0x563ffc(0x6cd)](),'receiverConnected':this[_0x563ffc(0x2c2)]?.[_0x563ffc(0x6cd)](),'localId':this[_0x563ffc(0x648)](),'remoteId':this[_0x563ffc(0x264)],'data':_0x1f5403});this[_0x563ffc(0x7c8)][_0x563ffc(0x5a2)](_0x1f5403);}[_0x32ddeb(0x249)](_0x42e666){const _0x2c8cbf=_0x32ddeb;return this[_0x2c8cbf(0x7f2)][_0x2c8cbf(0x558)](_0x42e666);}[_0x32ddeb(0x4fa)](_0x48b2d3){const _0x48b3cd=_0x32ddeb;return this[_0x48b3cd(0x5d4)][_0x48b3cd(0x558)](({track:_0x4599f9,stream:_0x521e7e})=>_0x48b2d3(_0x4599f9,_0x521e7e));}['onRemoveTrack'](_0x36820c){const _0x371646=_0x32ddeb;return this[_0x371646(0x654)]['subscribe'](({track:_0x18e92e,stream:_0x46d916})=>_0x36820c(_0x18e92e,_0x46d916));}[_0x32ddeb(0x368)](_0x35a377,_0x706f63,_0x9321aa,_0x2e7d74){const _0x1ac350=_0x32ddeb;this[_0x1ac350(0x7c8)]?.[_0x1ac350(0x368)](_0x35a377,_0x706f63,_0x9321aa,_0x2e7d74);}[_0x32ddeb(0x703)](_0x961d8a,_0x4bcd1a){const _0xd96d77=_0x32ddeb;this[_0xd96d77(0x7c8)]?.[_0xd96d77(0x703)](_0x961d8a,_0x4bcd1a);}['setParams'](_0x19577e,_0x10e774){const _0x151a7b=_0x32ddeb;this[_0x151a7b(0x7c8)]?.[_0x151a7b(0x278)](_0x19577e,_0x10e774);}[_0x32ddeb(0x304)](_0x4d6097,_0x2269a2){const _0x50382b=_0x32ddeb;this[_0x50382b(0x7c8)]?.[_0x50382b(0x304)](_0x4d6097,_0x2269a2);}async[_0x32ddeb(0x80e)](_0x2969eb){const _0x33292f=_0x32ddeb;_0x1709c0[_0x33292f(0x419)](_0x459921[_0x33292f(0x538)],_0x33292f(0x401),this['getLocalId'](),_0x2969eb);const {content:_0x4d7875}=_0x2969eb;switch(_0x4d7875[_0x33292f(0x6a0)]){case _0x11c283[_0x33292f(0x7dd)]:await this['handleOffer'](_0x4d7875);break;case _0x11c283[_0x33292f(0x47a)]:await this['handleAnswer'](_0x4d7875);break;case _0x11c283[_0x33292f(0x6ae)]:this[_0x33292f(0x2bd)]();break;case _0x11c283[_0x33292f(0x524)]:await this[_0x33292f(0x44d)](_0x4d7875);break;case _0x11c283[_0x33292f(0x29a)]:this[_0x33292f(0x5fd)](_0x4d7875);break;case _0x11c283[_0x33292f(0x596)]:await this[_0x33292f(0x496)]();}}['handleRemediationSystemEvents'](_0x4871ad){const _0x2927b1=_0x32ddeb;this['senderConnection']?.[_0x2927b1(0x384)](_0x4871ad[_0x2927b1(0x41b)][_0x2927b1(0x777)]);}[_0x32ddeb(0x4e7)](){const _0x1013fd=_0x32ddeb;return this[_0x1013fd(0x2b9)];}[_0x32ddeb(0x4c3)](_0x17b161){const _0x433d5f=_0x32ddeb;this[_0x433d5f(0x2b9)]=_0x17b161,this[_0x433d5f(0x7c8)]?.['setConnectionType'](_0x17b161),this[_0x433d5f(0x2c2)]?.['setConnectionType'](_0x17b161);}async['collectStats'](){const _0x3122df=_0x32ddeb;await this[_0x3122df(0x7c8)]?.[_0x3122df(0x65b)](),await this[_0x3122df(0x2c2)]?.[_0x3122df(0x65b)]();}[_0x32ddeb(0x46e)](){const _0x65517e=_0x32ddeb;this[_0x65517e(0x5f7)][_0x65517e(0x6f1)](this[_0x65517e(0x249)](_0x59e7b8=>{const _0x35d5df=_0x65517e;_0x93c6c4(_0x59e7b8,this['getLocalId']())&&0x0!==_0x59e7b8[_0x35d5df(0x57c)]&&this[_0x35d5df(0x7de)][_0x35d5df(0x798)](_0x59e7b8[_0x35d5df(0x57c)])?.[_0x35d5df(0x7db)](_0x59e7b8);})),this[_0x65517e(0x5f7)][_0x65517e(0x6f1)](this['onTrack']((_0x1ecfbc,_0x588078)=>{const _0x51e5ec=_0x65517e,_0x104ecc=_0x58e1c4(_0x16caec[_0x51e5ec(0x76d)]['Media'],_0x588078['id'],this[_0x51e5ec(0x264)]);this[_0x51e5ec(0x268)][_0x51e5ec(0x798)](_0x104ecc)?.['publish']({'topicLabel':_0x104ecc,'sourceId':this[_0x51e5ec(0x264)],'contentType':_0x16caec['ContentType'][_0x51e5ec(0x309)],'content':{'action':_0x5b14c9[_0x51e5ec(0x56d)],'track':_0x1ecfbc,'stream':_0x588078,'providerId':this[_0x51e5ec(0x264)]}});})),this[_0x65517e(0x5f7)][_0x65517e(0x6f1)](this['onRemoveTrack']((_0x21e45f,_0x3e1c44)=>{const _0x43880b=_0x65517e,_0xc45034=_0x58e1c4(_0x16caec[_0x43880b(0x76d)][_0x43880b(0x309)],_0x3e1c44['id'],this[_0x43880b(0x264)]);this[_0x43880b(0x268)][_0x43880b(0x798)](_0xc45034)?.[_0x43880b(0x7db)]({'topicLabel':_0xc45034,'sourceId':this[_0x43880b(0x264)],'contentType':_0x16caec['ContentType'][_0x43880b(0x309)],'content':{'action':_0x5b14c9[_0x43880b(0x52e)],'track':_0x21e45f,'stream':_0x3e1c44,'providerId':this['remoteId']}});}));}[_0x32ddeb(0x44d)]({candidates:_0x560a0f,origin:_0x195d27,version:_0xa10b55}){const _0x5cfca1=_0x32ddeb;return _0x195d27===_0x66da55['Sender']?(this[_0x5cfca1(0x2c2)]||this[_0x5cfca1(0x4d0)](),this['receiverConnection'][_0x5cfca1(0x4cf)](_0x560a0f,_0xa10b55)):this[_0x5cfca1(0x7c8)]['handleHandshake'](_0x560a0f,_0xa10b55);}async['createOffer'](){const _0x427908=_0x32ddeb;this['senderConnection']||this[_0x427908(0x6f0)](),await this[_0x427908(0x7c8)][_0x427908(0x496)]();}async['handleOffer']({offer:_0x2b193f,version:_0x110e6d}){const _0x567ae7=_0x32ddeb;this['receiverConnection']||this[_0x567ae7(0x4d0)](),await this[_0x567ae7(0x2c2)][_0x567ae7(0x56c)](_0x2b193f,_0x110e6d);}async[_0x32ddeb(0x432)]({answer:_0x3a37ff,version:_0xd068e6}){const _0x28b8d5=_0x32ddeb;if(!this['senderConnection'])throw new _0x4daf03(_0x4daf03[_0x28b8d5(0x719)][_0x28b8d5(0x506)],{'message':_0x28b8d5(0x6a4),'localId':this[_0x28b8d5(0x648)](),'remoteId':this[_0x28b8d5(0x264)],'answer':_0x3a37ff});await this['senderConnection'][_0x28b8d5(0x432)](_0x3a37ff,_0xd068e6);}[_0x32ddeb(0x2bd)](){const _0x2970d7=_0x32ddeb;if(!this[_0x2970d7(0x2c2)])throw new _0x4daf03(_0x4daf03[_0x2970d7(0x719)][_0x2970d7(0x506)],{'message':'Receiver\x20connection\x20is\x20not\x20initialized.','localId':this[_0x2970d7(0x648)](),'remoteId':this['remoteId']});this[_0x2970d7(0x2c2)][_0x2970d7(0x2bd)](),this[_0x2970d7(0x271)]||this['connectionType']!==_0x35e181[_0x2970d7(0x6d3)]||(this[_0x2970d7(0x271)]=!0x0,this[_0x2970d7(0x32e)]?.['publish']({'sourceId':this[_0x2970d7(0x264)],'destinationIds':[this[_0x2970d7(0x648)]()],'messageType':_0x16f8c2[_0x2970d7(0x58b)],'content':{'type':_0x11c283[_0x2970d7(0x251)]}}));}[_0x32ddeb(0x5fd)](_0x59d79a){const _0x15c81f=_0x32ddeb;this[_0x15c81f(0x2c2)]||this[_0x15c81f(0x4d0)](),this[_0x15c81f(0x2c2)][_0x15c81f(0x5fd)](_0x59d79a[_0x15c81f(0x374)]);}[_0x32ddeb(0x6f0)](){const _0x3b3f6c=_0x32ddeb;this[_0x3b3f6c(0x7c8)]=new _0x18a6a0(this[_0x3b3f6c(0x713)],this[_0x3b3f6c(0x7a2)],this[_0x3b3f6c(0x264)],this[_0x3b3f6c(0x487)],this[_0x3b3f6c(0x2b9)],this[_0x3b3f6c(0x73e)],this[_0x3b3f6c(0x387)],this[_0x3b3f6c(0x482)]),this[_0x3b3f6c(0x7c8)]['registerSystemPublisher'](this[_0x3b3f6c(0x32e)]);}[_0x32ddeb(0x4d0)](){const _0x355eab=_0x32ddeb;this[_0x355eab(0x2c2)]=new _0xb21ece(this[_0x355eab(0x713)],this['localNode'],this['remoteId'],this['iceServers'],this[_0x355eab(0x2b9)],this[_0x355eab(0x482)]),this[_0x355eab(0x2c2)][_0x355eab(0x7ff)](this[_0x355eab(0x32e)]),this[_0x355eab(0x569)]['push'](this[_0x355eab(0x2c2)][_0x355eab(0x249)](_0x126aab=>this['messageListeners'][_0x355eab(0x7db)](_0x126aab))),this[_0x355eab(0x569)][_0x355eab(0x6f1)](this[_0x355eab(0x2c2)][_0x355eab(0x4fa)]((_0x4f700a,_0x3142e8)=>this[_0x355eab(0x5d4)][_0x355eab(0x7db)]({'track':_0x4f700a,'stream':_0x3142e8}))),this[_0x355eab(0x569)][_0x355eab(0x6f1)](this[_0x355eab(0x2c2)][_0x355eab(0x28e)]((_0xbe02d2,_0x46c54b)=>this['removeTrackListeners']['publish']({'track':_0xbe02d2,'stream':_0x46c54b})));}}class _0x443b05{['localId'];['messageBuffer'];[_0x32ddeb(0x722)];[_0x32ddeb(0x548)]=new Map();[_0x32ddeb(0x7f2)]=_0x1f49a7();[_0x32ddeb(0x578)];[_0x32ddeb(0x7de)]=new Map();[_0x32ddeb(0x794)]=new Map();[_0x32ddeb(0x255)]=new Map();constructor(_0x279bf5,_0x38fa3d,_0x326fe6){const _0x3f5750=_0x32ddeb;this[_0x3f5750(0x3e4)]=_0x279bf5,this[_0x3f5750(0x326)]=_0x38fa3d,this[_0x3f5750(0x722)]=_0x326fe6,this['messageUnsubscriber']=this[_0x3f5750(0x249)](_0x49a018=>{const _0x56b3f0=_0x3f5750;this['messageBuffer'][_0x56b3f0(0x565)](_0x49a018[_0x56b3f0(0x1d3)])||(_0x93c6c4(_0x49a018,this['localId'])&&0x0!==_0x49a018[_0x56b3f0(0x57c)]&&(this['messageBuffer']['addMessage'](_0x49a018[_0x56b3f0(0x1d3)]),this[_0x56b3f0(0x7de)][_0x56b3f0(0x798)](_0x49a018['topicLabel'])?.[_0x56b3f0(0x7db)](_0x49a018)),_0x49a018[_0x56b3f0(0x769)]&&this['send'](_0x49a018));});}['close'](){const _0x52fb07=_0x32ddeb;this[_0x52fb07(0x578)]?.();}[_0x32ddeb(0x683)](_0x15474a){const _0x312743=_0x32ddeb,_0x4e0cd3=_0x15474a[_0x312743(0x249)](_0x50de3c=>{const _0xde79eb=_0x312743;this[_0xde79eb(0x7f2)][_0xde79eb(0x7db)](_0x50de3c);});this['connections']['set'](_0x15474a,_0x4e0cd3),this[_0x312743(0x255)][_0x312743(0x36d)](_0x15474a[_0x312743(0x6b1)](),function(_0x157030,_0x5221d6=!0x1){let _0x19f0ea=new Map();const _0x4d4a77=_0x5ab2b5(_0x157030,_0x5221d6,function(_0x220746){const _0x402f14=a0_0x51ad;_0x3294e2(_0x220746)&&_0x19f0ea[_0x402f14(0x27d)](_0x220746['sourceId']+'-'+(_0x220746[_0x402f14(0x3a4)]??[])+'-'+_0x220746[_0x402f14(0x349)]+'-'+_0x220746['content'][_0x402f14(0x6a0)]);},function(_0x2485c3){return!!function(_0x3c4784){const _0x952679=a0_0x51ad,_0x320a7f=_0x3c4784[_0x952679(0x552)];if(!_0x3294e2(_0x320a7f))return!0x1;const _0x2b9408=_0x320a7f['sourceId']+'-'+(_0x320a7f['destinationIds']??[])+'-'+_0x320a7f['messageType']+'-'+_0x320a7f[_0x952679(0x41b)][_0x952679(0x6a0)],_0x5d4df3={'version':_0x320a7f['content'][_0x952679(0x374)],'element':_0x3c4784},_0x43ad56=_0x19f0ea[_0x952679(0x798)](_0x2b9408);return _0x43ad56?(_0x43ad56[_0x952679(0x374)]>=_0x320a7f[_0x952679(0x41b)][_0x952679(0x374)]||(_0x43ad56['element'][_0x952679(0x641)]&&(_0x43ad56[_0x952679(0x248)][_0x952679(0x641)]['next']=_0x3c4784,_0x3c4784['previous']=_0x43ad56[_0x952679(0x248)][_0x952679(0x641)]),_0x43ad56[_0x952679(0x248)][_0x952679(0x262)]&&(_0x43ad56[_0x952679(0x248)][_0x952679(0x262)][_0x952679(0x641)]=_0x3c4784,_0x3c4784[_0x952679(0x262)]=_0x43ad56[_0x952679(0x248)][_0x952679(0x262)]),_0x43ad56['element']===_0x4d4a77[_0x952679(0x17c)]&&(_0x4d4a77[_0x952679(0x17c)]=_0x3c4784),_0x43ad56['element']===_0x4d4a77[_0x952679(0x28d)]&&(_0x4d4a77[_0x952679(0x28d)]=_0x3c4784),_0x19f0ea[_0x952679(0x36d)](_0x2b9408,_0x5d4df3)),!0x0):(_0x19f0ea['set'](_0x2b9408,_0x5d4df3),!0x1);}(_0x2485c3);},function(){const _0x48300d=a0_0x51ad;_0x19f0ea[_0x48300d(0x532)]();});function _0x3294e2(_0x1ec18a){const _0x358b2a=a0_0x51ad;if(_0x1ec18a&&_0x358b2a(0x610)==typeof _0x1ec18a&&_0x1ec18a['hasOwnProperty'](_0x358b2a(0x41b))&&_0x1ec18a[_0x358b2a(0x3a5)](_0x358b2a(0x349))&&_0x1ec18a[_0x358b2a(0x3a5)](_0x358b2a(0x1ad))){const _0x3c593a=_0x1ec18a;if(_0x3c593a[_0x358b2a(0x41b)]&&'object'==typeof _0x3c593a[_0x358b2a(0x41b)]&&_0x3c593a[_0x358b2a(0x41b)][_0x358b2a(0x3a5)](_0x358b2a(0x374))&&_0x3c593a['content']['hasOwnProperty'](_0x358b2a(0x6a0)))return!0x0;}return!0x1;}return _0x4d4a77;}(new _0x4381c5(_0x40c384=>_0x15474a['send'](_0x40c384),()=>_0x43cca0[_0x312743(0x7fd)](0x64))));}['removeConnection'](_0x24db32){const _0x3c600d=_0x32ddeb;this[_0x3c600d(0x548)]['get'](_0x24db32)?.(),this[_0x3c600d(0x548)]['delete'](_0x24db32),this[_0x3c600d(0x255)]['get'](_0x24db32['getRemoteId']())?.[_0x3c600d(0x532)](),this[_0x3c600d(0x255)]['delete'](_0x24db32[_0x3c600d(0x6b1)]());}[_0x32ddeb(0x6cd)](_0x5c4faa){const _0x21fb78=_0x32ddeb;return _0x1709c0[_0x21fb78(0x419)](_0x459921[_0x21fb78(0x41c)],_0x21fb78(0x2de),this['localId'],this[_0x21fb78(0x548)][_0x21fb78(0x79b)]()),0x0!==this[_0x21fb78(0x548)]['size']&&(Array[_0x21fb78(0x34d)](this['connections'][_0x21fb78(0x79b)]())[_0x21fb78(0x323)](_0x316721=>_0x316721['getRemoteId']()===_0x5c4faa)?.[_0x21fb78(0x6cd)]()??!0x1);}[_0x32ddeb(0x67d)](_0x16bfa8){const _0x4726bc=_0x32ddeb;this[_0x4726bc(0x7de)][_0x4726bc(0x36d)](_0x16bfa8[_0x4726bc(0x7fa)](),_0x16bfa8);}[_0x32ddeb(0x735)](_0x210326){const _0x426111=_0x32ddeb;this['dataTopics'][_0x426111(0x27d)](_0x210326[_0x426111(0x7fa)]());}['registerSubscriber'](_0x1516f1){const _0x48ca0a=_0x32ddeb,_0x3cc12c=_0x1516f1['subscribe'](this[_0x48ca0a(0x5a2)][_0x48ca0a(0x499)](this));this[_0x48ca0a(0x794)]['set'](_0x1516f1[_0x48ca0a(0x7fa)](),_0x3cc12c);}[_0x32ddeb(0x5da)](_0x31aed5){const _0x4ee2ed=_0x32ddeb;this[_0x4ee2ed(0x794)]['get'](_0x31aed5[_0x4ee2ed(0x7fa)]())?.(),this[_0x4ee2ed(0x794)][_0x4ee2ed(0x27d)](_0x31aed5['getLabel']());}[_0x32ddeb(0x393)](){const _0x43f168=_0x32ddeb;return[_0x16caec[_0x43f168(0x76d)][_0x43f168(0x5f6)],_0x16caec['ContentType']['PubSub'],_0x16caec[_0x43f168(0x76d)][_0x43f168(0x320)],_0x16caec['ContentType'][_0x43f168(0x5ed)],_0x16caec['ContentType'][_0x43f168(0x79d)]];}['send'](_0x27396f){const _0x3e42cc=_0x32ddeb;if(!0x1===_0x27396f[_0x3e42cc(0x52f)]){if(_0x27396f['propagate']||!_0x27396f[_0x3e42cc(0x3a4)]||0x1!==_0x27396f[_0x3e42cc(0x3a4)]['length'])throw new _0x4daf03(_0x4daf03[_0x3e42cc(0x719)][_0x3e42cc(0x780)],{'message':_0x3e42cc(0x18a),'localId':this[_0x3e42cc(0x3e4)]});if(!this['isConnected'](_0x27396f[_0x3e42cc(0x3a4)][0x0]))throw new _0x3041bf(_0x3e42cc(0x66a));}const _0x257967=_0x27396f['recipients']??[];try{const {filteredDestinationIds:_0x53b8c0,extendedRecipients:_0x247b3d}=this['updatePropagationProperties'](_0x27396f,_0x257967);_0x27396f[_0x3e42cc(0x3a4)]=_0x53b8c0,_0x27396f[_0x3e42cc(0x45d)]=_0x247b3d;}catch(_0x332067){if(_0x332067 instanceof _0x3041bf)return void _0x1709c0[_0x3e42cc(0x419)](_0x459921[_0x3e42cc(0x538)],_0x3e42cc(0x327),_0x3e42cc(0x394),_0x27396f,_0x332067[_0x3e42cc(0x26e)]);}const _0x4cc9cb=this[_0x3e42cc(0x7c4)](_0x27396f);this['logPropagateSystemEvent'](_0x27396f,_0x4cc9cb),_0x27396f[_0x3e42cc(0x769)]=_0x4cc9cb;const _0x239e5f=this[_0x3e42cc(0x43f)](_0x27396f,_0x257967);for(const _0x4623ad of _0x239e5f){const _0x5de726=this[_0x3e42cc(0x255)][_0x3e42cc(0x798)](_0x4623ad[_0x3e42cc(0x6b1)]());if(!_0x5de726)throw new _0x4daf03(_0x4daf03[_0x3e42cc(0x719)][_0x3e42cc(0x68c)],{'message':_0x3e42cc(0x5f0),'localId':this['localId'],'remoteId':_0x4623ad['getRemoteId'](),'data':_0x27396f});_0x5de726[_0x3e42cc(0x6f1)](_0x27396f);}}[_0x32ddeb(0x6b1)](){return'';}[_0x32ddeb(0x648)](){const _0x20f936=_0x32ddeb;return this[_0x20f936(0x3e4)];}['onMessage'](_0x4e2f66){const _0x4be518=_0x32ddeb;return this[_0x4be518(0x7f2)][_0x4be518(0x558)](_0x4e2f66);}[_0x32ddeb(0x795)](_0x3d1628,_0x300443){const _0x2b21ae=_0x32ddeb,_0x247923={'filteredDestinationIds':_0x3d1628['destinationIds'],'extendedRecipients':_0x3d1628[_0x2b21ae(0x45d)]};if(!_0x3d1628[_0x2b21ae(0x769)])return _0x247923;const _0x1ad7cf=Array['from'](this[_0x2b21ae(0x548)][_0x2b21ae(0x79b)]())['filter'](_0x324a85=>_0x324a85['getConnectionType']()===_0x35e181[_0x2b21ae(0x4c1)]||_0x324a85[_0x2b21ae(0x6cd)]())[_0x2b21ae(0x1a1)](_0x5df1be=>_0x5df1be['getRemoteId']());if(_0x1ad7cf[_0x2b21ae(0x1d2)]((_0x52a3cd,_0x33c9d4)=>_0x52a3cd&&_0x3d1628[_0x2b21ae(0x45d)][_0x2b21ae(0x31c)](_0x33c9d4),!0x0))throw new _0x3041bf(_0x2b21ae(0x638));if(_0x3d1628['destinationIds']){const _0x21786b=_0x3d1628['destinationIds'][_0x2b21ae(0x6fc)](_0x44fea2=>_0x44fea2!==this['localId']&&!_0x3d1628['recipients'][_0x2b21ae(0x31c)](_0x44fea2));if(0x0===_0x21786b[_0x2b21ae(0x19d)])throw new _0x3041bf('No\x20destinationIds\x20left');_0x247923[_0x2b21ae(0x7b6)]=_0x21786b;}return _0x247923[_0x2b21ae(0x2fd)]=[...new Set([..._0x300443,..._0x1ad7cf,this[_0x2b21ae(0x3e4)]])],_0x247923;}[_0x32ddeb(0x347)](_0x4e53e3,_0x302671=!0x1){const _0x3b031f=_0x32ddeb;if(0x0===_0x4e53e3[_0x3b031f(0x57c)]&&!_0x104628(_0x4e53e3,this[_0x3b031f(0x3e4)])&&_0x4e53e3[_0x3b031f(0x769)]){const _0x10d4f9=_0x540f48(_0x4e53e3,this[_0x3b031f(0x3e4)]);_0x1709c0[_0x3b031f(0x273)](_0x459921[_0x3b031f(0x18d)],_0x4e53e3['uuid']+_0x3b031f(0x1e6)+_0x302671+')\x20'+_0x10d4f9,_0x4e53e3,_0x302671);}}[_0x32ddeb(0x7c4)](_0x1d76c8){const _0x85ed78=_0x32ddeb;if(_0x1d76c8[_0x85ed78(0x3a4)]&&_0x1d76c8[_0x85ed78(0x769)]){const _0x39674b=Array[_0x85ed78(0x34d)](this['connections'][_0x85ed78(0x79b)]())['filter'](_0x22a7ce=>_0x22a7ce[_0x85ed78(0x4e7)]()===_0x35e181['Core']||_0x22a7ce[_0x85ed78(0x6cd)]())[_0x85ed78(0x1a1)](_0x270ca5=>_0x270ca5['getRemoteId']());return!_0x1d76c8['destinationIds'][_0x85ed78(0x1d2)]((_0x31eb50,_0x963eb7)=>_0x31eb50&&_0x39674b[_0x85ed78(0x31c)](_0x963eb7),!0x0);}return _0x1d76c8['propagate']??!0x1;}[_0x32ddeb(0x43f)](_0x468e14,_0x57081f){const _0x21b9ae=_0x32ddeb;if(_0x468e14[_0x21b9ae(0x769)]&&_0x468e14[_0x21b9ae(0x3a4)]){const _0x4a2f0c=Array[_0x21b9ae(0x34d)](this[_0x21b9ae(0x548)]['keys']())[_0x21b9ae(0x6fc)](_0x3de5cc=>_0x3de5cc[_0x21b9ae(0x4e7)]()===_0x35e181['Core']||_0x3de5cc[_0x21b9ae(0x6cd)]())[_0x21b9ae(0x1a1)](_0x262e4a=>_0x262e4a[_0x21b9ae(0x6b1)]()),_0x1b106f=new Set(),_0x183292=_0x468e14[_0x21b9ae(0x1ad)]===this[_0x21b9ae(0x3e4)]?0x3:0x1;return _0x468e14['destinationIds'][_0x21b9ae(0x801)](_0x4d15e8=>{const _0x4e54ee=_0x21b9ae,_0x1f4800=this[_0x4e54ee(0x722)][_0x4e54ee(0x39e)](_0x4a2f0c,_0x4d15e8);let _0x15b15f=0x0,_0x57a432=0x0;_0x1f4800['forEach'](_0x249a41=>{const _0x13a6a6=_0x4e54ee;if(_0x15b15f>=_0x183292)return;const _0x23e6d7=Array['from'](this[_0x13a6a6(0x548)]['keys']())[_0x13a6a6(0x323)](_0x2fef19=>_0x2fef19[_0x13a6a6(0x6b1)]()===_0x249a41);if(_0x23e6d7){if(_0x23e6d7[_0x13a6a6(0x4e7)]()===_0x35e181['Core']&&_0x57a432>0x0)return void(_0x57a432-=0x1);_0x1b106f[_0x13a6a6(0x259)](_0x23e6d7),_0x23e6d7['getConnectionType']()===_0x35e181[_0x13a6a6(0x6d3)]&&(_0x57a432+=0x1),_0x15b15f+=0x1;}});}),Array['from'](_0x1b106f);}return Array[_0x21b9ae(0x34d)](this[_0x21b9ae(0x548)][_0x21b9ae(0x79b)]())[_0x21b9ae(0x6fc)](_0x43f26e=>{const _0x2724dd=_0x21b9ae;return _0x56fda6=_0x43f26e['getRemoteId'](),!_0x57081f[_0x2724dd(0x31c)](_0x56fda6)&&(_0x93c6c4(_0x468e14,_0x56fda6)||_0x468e14[_0x2724dd(0x769)])&&(!_0x468e14[_0x2724dd(0x769)]||_0x43f26e['isConnected']()||_0x43f26e['getConnectionType']()===_0x35e181['Core']);var _0x56fda6;});}}class _0x4fefcd{[_0x32ddeb(0x3e4)];[_0x32ddeb(0x326)];[_0x32ddeb(0x548)]=new Map();[_0x32ddeb(0x32e)];constructor(_0x4c698a,_0x3b7449){const _0x507442=_0x32ddeb;this[_0x507442(0x3e4)]=_0x4c698a,this[_0x507442(0x326)]=_0x3b7449;}[_0x32ddeb(0x36f)](){}['send'](_0x5b56e6){const _0x2e4223=_0x32ddeb;for(const _0x8ad0c8 of this[_0x2e4223(0x548)][_0x2e4223(0x79b)]())try{return void _0x8ad0c8[_0x2e4223(0x5a2)]({'retry':!0x1,..._0x5b56e6});}catch(_0x22b72a){_0x22b72a instanceof _0x3041bf||_0x1709c0[_0x2e4223(0x419)](_0x459921[_0x2e4223(0x3c9)],_0x2e4223(0x24d)+_0x8ad0c8,_0x22b72a,_0x5b56e6);}_0x1709c0[_0x2e4223(0x419)](_0x459921[_0x2e4223(0x3c9)],_0x2e4223(0x65a));}[_0x32ddeb(0x683)](_0x1f409e){const _0x3f6cc6=_0x32ddeb,_0x3b6cbc=_0x1f409e[_0x3f6cc6(0x249)](_0x1840f4=>{const _0x2f26d3=_0x3f6cc6;this[_0x2f26d3(0x326)][_0x2f26d3(0x565)](_0x1840f4[_0x2f26d3(0x1d3)])||0x0===_0x1840f4[_0x2f26d3(0x57c)]&&(this[_0x2f26d3(0x326)]['addMessage'](_0x1840f4[_0x2f26d3(0x1d3)]),_0x93c6c4(_0x1840f4,this[_0x2f26d3(0x3e4)])&&this[_0x2f26d3(0x32e)]?.[_0x2f26d3(0x7db)](_0x1840f4));});this[_0x3f6cc6(0x548)][_0x3f6cc6(0x36d)](_0x1f409e,_0x3b6cbc);}[_0x32ddeb(0x7b3)](_0x1ff812){const _0x11fa59=_0x32ddeb;this[_0x11fa59(0x548)][_0x11fa59(0x798)](_0x1ff812)?.(),this[_0x11fa59(0x548)][_0x11fa59(0x27d)](_0x1ff812);}[_0x32ddeb(0x648)](){return this['localId'];}['getRemoteId'](){return'';}[_0x32ddeb(0x393)](){const _0x40968d=_0x32ddeb;return[_0x16caec[_0x40968d(0x76d)][_0x40968d(0x5f6)]];}[_0x32ddeb(0x6cd)](){const _0xcfdd7c=_0x32ddeb;throw new Error(_0xcfdd7c(0x32f));}[_0x32ddeb(0x7ff)](_0x415bf0){const _0x581eac=_0x32ddeb;this[_0x581eac(0x32e)]=_0x415bf0;}['unregisterSystemPublisher'](){const _0x469498=_0x32ddeb;delete this[_0x469498(0x32e)];}}class _0x633766{[_0x32ddeb(0x6ac)]=new Map();[_0x32ddeb(0x4bb)];constructor(){const _0x2d6fa4=_0x32ddeb;this[_0x2d6fa4(0x4bb)]=_0x43cca0[_0x2d6fa4(0x338)](()=>{const _0x3b01f9=_0x2d6fa4;for(const [_0x42d148,_0xaee1d8]of this['buffer'][_0x3b01f9(0x2a9)]())Date[_0x3b01f9(0x5d9)]()-_0xaee1d8>0x124f80&&this[_0x3b01f9(0x6ac)][_0x3b01f9(0x27d)](_0x42d148);},0x1d4c0);}[_0x32ddeb(0x36f)](){const _0x513030=_0x32ddeb;this[_0x513030(0x4bb)]();}[_0x32ddeb(0x80f)](_0x5af431){const _0x35562=_0x32ddeb;this['buffer'][_0x35562(0x36d)](_0x5af431,Date[_0x35562(0x5d9)]());}['hasMessage'](_0x3cfe92){const _0x5f139e=_0x32ddeb;return this[_0x5f139e(0x6ac)][_0x5f139e(0x5ae)](_0x3cfe92);}}class _0xcd26e8{[_0x32ddeb(0x486)];['authService'];['iceServers'];['maxFps'];[_0x32ddeb(0x387)];[_0x32ddeb(0x482)];[_0x32ddeb(0x548)]=new Map();[_0x32ddeb(0x331)];[_0x32ddeb(0x76f)];['signalingServer'];[_0x32ddeb(0x326)];constructor(_0x334b9a,_0x476f19,_0x54dd6a,_0x38993c,_0x5780f8,_0x28cc3a,_0xbff009){const _0x273cf4=_0x32ddeb;this[_0x273cf4(0x486)]=_0x334b9a,this[_0x273cf4(0x649)]=_0x476f19,this[_0x273cf4(0x487)]=_0x54dd6a,this[_0x273cf4(0x73e)]=_0x38993c,this['maxBpp']=_0x5780f8,this[_0x273cf4(0x482)]=_0xbff009,this['messageBuffer']=new _0x633766(),this[_0x273cf4(0x76f)]=new _0x443b05(this[_0x273cf4(0x486)][_0x273cf4(0x7a2)][_0x273cf4(0x544)](),this['messageBuffer'],_0x28cc3a),this[_0x273cf4(0x792)]=new _0x3cce7b(this[_0x273cf4(0x486)][_0x273cf4(0x3ce)],this['configs'][_0x273cf4(0x713)],this[_0x273cf4(0x486)][_0x273cf4(0x7a2)],'server',this[_0x273cf4(0x649)]),this[_0x273cf4(0x331)]=new _0x4fefcd(this[_0x273cf4(0x486)]['localNode'][_0x273cf4(0x544)](),this[_0x273cf4(0x326)]),this[_0x273cf4(0x331)][_0x273cf4(0x683)](this[_0x273cf4(0x76f)]),this[_0x273cf4(0x331)][_0x273cf4(0x683)](this[_0x273cf4(0x792)]),this[_0x273cf4(0x486)][_0x273cf4(0x257)][_0x273cf4(0x2d2)](this[_0x273cf4(0x331)]);}['close'](){const _0x4ea572=_0x32ddeb;this['messageBuffer'][_0x4ea572(0x36f)](),this['connections']['forEach']((_0x398d2a,_0x3660b4)=>this['closeConnection'](_0x3660b4)),this[_0x4ea572(0x486)][_0x4ea572(0x257)][_0x4ea572(0x53d)](this[_0x4ea572(0x331)]),this[_0x4ea572(0x331)][_0x4ea572(0x7b3)](this['signalingServer']),this[_0x4ea572(0x331)]['removeConnection'](this[_0x4ea572(0x76f)]),this[_0x4ea572(0x331)][_0x4ea572(0x36f)](),this[_0x4ea572(0x792)][_0x4ea572(0x36f)](),this[_0x4ea572(0x76f)][_0x4ea572(0x36f)]();}async[_0x32ddeb(0x58e)](){const _0x5f4030=_0x32ddeb;await this['signalingServer'][_0x5f4030(0x2ef)]();}async['createConnection'](_0x22808c,_0x21f367=_0x35e181[_0x32ddeb(0x4c1)]){const _0x5f40c7=_0x32ddeb;if(this['connections'][_0x5f40c7(0x5ae)](_0x22808c)){if(this[_0x5f40c7(0x548)][_0x5f40c7(0x798)](_0x22808c)?.[_0x5f40c7(0x4e7)]()===_0x35e181[_0x5f40c7(0x6d3)]&&_0x21f367===_0x35e181[_0x5f40c7(0x4c1)])return void this[_0x5f40c7(0x548)][_0x5f40c7(0x798)](_0x22808c)?.[_0x5f40c7(0x4c3)](_0x35e181[_0x5f40c7(0x4c1)]);throw new _0x4daf03(_0x4daf03['codes'][_0x5f40c7(0x64d)],{'localId':this['configs'][_0x5f40c7(0x7a2)][_0x5f40c7(0x544)](),'remoteId':_0x22808c});}const _0x325516=new _0x1e5d40(this['configs'][_0x5f40c7(0x713)],this['configs'][_0x5f40c7(0x7a2)],_0x22808c,this[_0x5f40c7(0x487)],_0x21f367,this[_0x5f40c7(0x73e)],this[_0x5f40c7(0x387)],this[_0x5f40c7(0x482)]);this[_0x5f40c7(0x548)][_0x5f40c7(0x36d)](_0x22808c,_0x325516),this[_0x5f40c7(0x76f)][_0x5f40c7(0x683)](_0x325516),this[_0x5f40c7(0x486)][_0x5f40c7(0x257)][_0x5f40c7(0x2d2)](_0x325516),this[_0x5f40c7(0x486)][_0x5f40c7(0x257)][_0x5f40c7(0x43b)](_0x22808c),await _0x325516['connect']();}['getConnectionGroup'](){const _0xde1776=_0x32ddeb;return this[_0xde1776(0x76f)];}[_0x32ddeb(0x5a9)](_0x3f0c2e){const _0x3af966=_0x32ddeb;if(!this[_0x3af966(0x548)]['has'](_0x3f0c2e))throw new _0x4daf03(_0x4daf03[_0x3af966(0x719)][_0x3af966(0x291)],{'localId':this[_0x3af966(0x486)][_0x3af966(0x7a2)][_0x3af966(0x544)](),'remoteId':_0x3f0c2e});return this[_0x3af966(0x548)][_0x3af966(0x798)](_0x3f0c2e);}[_0x32ddeb(0x6e8)](_0x5a1434){const _0x46498b=_0x32ddeb,_0x2a8ebc=Array['from'](this['connections'][_0x46498b(0x693)]());return _0x5a1434?_0x2a8ebc['filter'](_0x5a1434):_0x2a8ebc;}async[_0x32ddeb(0x65b)](_0x5407da){const _0xac8d3b=_0x32ddeb,_0xae7c23=this[_0xac8d3b(0x548)]['get'](_0x5407da);_0xae7c23&&_0xae7c23[_0xac8d3b(0x6cd)]()&&await _0xae7c23[_0xac8d3b(0x65b)]();}['handleOutgoingSystemEvents'](_0x26bf13){const _0x5e165e=_0x32ddeb;if(_0x26bf13[_0x5e165e(0x349)]!==_0x16f8c2[_0x5e165e(0x58b)]||_0x26bf13['propagate'])try{this[_0x5e165e(0x76f)][_0x5e165e(0x5a2)](_0x26bf13);}catch(_0x5a1ac8){if(_0x5a1ac8 instanceof _0x3041bf)return;throw _0x5a1ac8;}else this[_0x5e165e(0x331)][_0x5e165e(0x5a2)](_0x26bf13);}async[_0x32ddeb(0x80e)](_0x53fb8f){const _0x21ebcb=_0x32ddeb;switch(_0x53fb8f[_0x21ebcb(0x41b)]['type']){case _0x11c283['Disconnect']:case _0x11c283[_0x21ebcb(0x404)]:case _0x11c283[_0x21ebcb(0x251)]:return;}if(!_0x53fb8f[_0x21ebcb(0x3a4)]||0x1!==_0x53fb8f[_0x21ebcb(0x3a4)][_0x21ebcb(0x19d)])throw new _0x4daf03(_0x4daf03[_0x21ebcb(0x719)]['PeerConnectionInvalidDestination'],{'message':'Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','event':_0x53fb8f});if(_0x53fb8f[_0x21ebcb(0x3a4)][0x0]!==this[_0x21ebcb(0x486)][_0x21ebcb(0x7a2)][_0x21ebcb(0x544)]())throw new _0x4daf03(_0x4daf03[_0x21ebcb(0x719)][_0x21ebcb(0x357)],{'message':_0x21ebcb(0x1d6),'event':_0x53fb8f});if(!this['connections'][_0x21ebcb(0x5ae)](_0x53fb8f[_0x21ebcb(0x1ad)])){let _0x2ffbad=_0x35e181[_0x21ebcb(0x4c1)];if(!(this[_0x21ebcb(0x30a)](_0x53fb8f[_0x21ebcb(0x41b)])||this[_0x21ebcb(0x310)](_0x53fb8f[_0x21ebcb(0x41b)])||this['isNeedRestart'](_0x53fb8f['content'])))return;_0x2ffbad=_0x53fb8f[_0x21ebcb(0x41b)][_0x21ebcb(0x2b9)],await this[_0x21ebcb(0x4b6)](_0x53fb8f['sourceId'],_0x2ffbad);}const _0x311fb7=this[_0x21ebcb(0x548)][_0x21ebcb(0x798)](_0x53fb8f[_0x21ebcb(0x1ad)]);await _0x311fb7['handlePeerConnectionSystemEvents'](_0x53fb8f);}[_0x32ddeb(0x695)](_0x5bc310){const _0x51e933=_0x32ddeb;if(_0x5bc310['content'][_0x51e933(0x6a0)]===_0x410246['Remediation']){if(_0x5bc310[_0x51e933(0x41b)][_0x51e933(0x602)]===this['configs'][_0x51e933(0x7a2)][_0x51e933(0x544)]())return void this[_0x51e933(0x548)][_0x51e933(0x801)](_0xdf5507=>_0xdf5507[_0x51e933(0x695)](_0x5bc310));this['connections']['get'](_0x5bc310[_0x51e933(0x41b)][_0x51e933(0x602)])?.[_0x51e933(0x695)](_0x5bc310);}}[_0x32ddeb(0x5e0)]({content:_0x4cbb65}){const _0x2783e9=_0x32ddeb;_0x4cbb65[_0x2783e9(0x6a0)]===_0x3f3eb0['NodeLeave']&&this[_0x2783e9(0x52d)](_0x4cbb65['id']);}[_0x32ddeb(0x52d)](_0x18b55d){const _0x465d30=_0x32ddeb,_0x5a4ee5=this['connections'][_0x465d30(0x798)](_0x18b55d);_0x5a4ee5&&(this[_0x465d30(0x486)][_0x465d30(0x257)][_0x465d30(0x67f)](_0x18b55d),this[_0x465d30(0x486)][_0x465d30(0x257)][_0x465d30(0x53d)](_0x5a4ee5),_0x5a4ee5 instanceof _0x1e5d40&&this['connectionGroup'][_0x465d30(0x7b3)](_0x5a4ee5),_0x5a4ee5['close'](),this['connections'][_0x465d30(0x27d)](_0x18b55d));}[_0x32ddeb(0x30a)](_0x20d706){const _0x9093e0=_0x32ddeb;return _0x20d706[_0x9093e0(0x6a0)]===_0x11c283[_0x9093e0(0x7dd)];}['isNeedRestart'](_0x1ae520){const _0x6a4274=_0x32ddeb;return _0x1ae520[_0x6a4274(0x6a0)]===_0x11c283[_0x6a4274(0x29a)];}[_0x32ddeb(0x310)](_0x22cf1a){const _0x34d9cb=_0x32ddeb;return _0x22cf1a[_0x34d9cb(0x6a0)]===_0x11c283[_0x34d9cb(0x524)];}}!function(_0x426c72){const _0x13f073=_0x32ddeb;_0x426c72[_0x426c72[_0x13f073(0x4f2)]=0x0]=_0x13f073(0x4f2),_0x426c72[_0x426c72['UpdateMediaStream']=0x1]=_0x13f073(0x7b4),_0x426c72[_0x426c72[_0x13f073(0x2b2)]=0x2]=_0x13f073(0x2b2),_0x426c72[_0x426c72[_0x13f073(0x6ad)]=0x3]=_0x13f073(0x6ad),_0x426c72[_0x426c72[_0x13f073(0x2df)]=0x4]='RestartNeedMediaStream',_0x426c72[_0x426c72['CanProvideMediaStream']=0x5]=_0x13f073(0x571),_0x426c72[_0x426c72[_0x13f073(0x2ed)]=0x6]='CannotProvideMediaStream',_0x426c72[_0x426c72[_0x13f073(0x3ac)]=0x7]=_0x13f073(0x3ac);}(_0x1152b3||(_0x1152b3={}));const _0x20c813=require('rxjs');class _0x44ee66 extends _0x590966{['graphService'];[_0x32ddeb(0x651)]=new Map();[_0x32ddeb(0x6bc)]=new Map();['jobBids']=new Map();['unsubscribeHandler'];constructor(_0x157068,_0x36b06d,_0x448cd0){const _0x395348=_0x32ddeb;super(_0x157068,_0x36b06d),this[_0x395348(0x722)]=_0x448cd0;}[_0x32ddeb(0x373)](){const _0x3fd2d7=_0x32ddeb;return _0x16caec[_0x3fd2d7(0x76d)][_0x3fd2d7(0x79d)];}['open'](){const _0x5c8bfb=_0x32ddeb;this['unsubscribeHandler']=this[_0x5c8bfb(0x249)]((_0x2b585f,_0x1b1eec)=>{const _0x59e6f4=_0x5c8bfb;if(_0x1709c0[_0x59e6f4(0x419)](_0x459921[_0x59e6f4(0x33f)],'JobDispatcher:\x20Received\x20job',_0x2b585f,_0x1b1eec,this[_0x59e6f4(0x722)][_0x59e6f4(0x73f)]()),!(_0x1b1eec instanceof File)){if(!_0x1b1eec[_0x59e6f4(0x592)])throw new _0x4daf03(_0x4daf03[_0x59e6f4(0x719)][_0x59e6f4(0x3e5)]);return this[_0x59e6f4(0x754)](_0x1b1eec['payload'])?this[_0x59e6f4(0x620)](_0x2b585f,_0x1b1eec['id'],_0x1b1eec['payload']):this['isAIPartialResultResponse'](_0x1b1eec[_0x59e6f4(0x592)])?(_0x1709c0['log'](_0x459921[_0x59e6f4(0x33f)],_0x59e6f4(0x29d)+_0x1b1eec['id']+_0x59e6f4(0x44e),_0x1b1eec['payload']['answer']),void this['evaluatePartialAIJob'](_0x1b1eec['id'],_0x1b1eec[_0x59e6f4(0x592)])):this[_0x59e6f4(0x6ce)](_0x1b1eec[_0x59e6f4(0x592)])?(_0x1709c0[_0x59e6f4(0x419)](_0x459921[_0x59e6f4(0x33f)],_0x59e6f4(0x29d)+_0x1b1eec['id']+_0x59e6f4(0x31a),_0x1b1eec[_0x59e6f4(0x592)][_0x59e6f4(0x553)]),void this[_0x59e6f4(0x321)](_0x1b1eec['id'],_0x1b1eec[_0x59e6f4(0x592)])):void(this['isAIFailedResponse'](_0x1b1eec[_0x59e6f4(0x592)])&&this[_0x59e6f4(0x7ee)](_0x1b1eec['id'],_0x1b1eec[_0x59e6f4(0x592)][_0x59e6f4(0x26e)]));}});}[_0x32ddeb(0x2e9)](){const _0x86a27c=_0x32ddeb;this[_0x86a27c(0x532)](),this[_0x86a27c(0x800)]();}[_0x32ddeb(0x733)](){const _0x160abe=_0x32ddeb;this[_0x160abe(0x532)](),super[_0x160abe(0x733)]();}['clear'](){const _0x14dd6d=_0x32ddeb;this[_0x14dd6d(0x651)][_0x14dd6d(0x532)](),this[_0x14dd6d(0x4bb)]&&this[_0x14dd6d(0x4bb)]();}[_0x32ddeb(0x36f)](){const _0x577a17=_0x32ddeb;this[_0x577a17(0x32e)]?.['publish']({'sourceId':_0x514c9c,'messageType':_0x16f8c2[_0x577a17(0x370)],'content':{'type':_0x36fe9a['CloseJobDispatcher'],'label':this['label']}});}async[_0x32ddeb(0x1d7)](_0x5c38af){const _0x144efa=_0x32ddeb,{id:_0x2df9d1,parameters:{jobType:_0x1e71e9,prompt:_0x5cf5fa}}=_0x5c38af;if(_0x1e71e9!==_0x16caec[_0x144efa(0x678)]['AI'])throw new _0x56574a(_0x2379f6['JobDispatcherInvalidJobType'],'Only\x20AI\x20jobs\x20are\x20supported\x20by\x20this\x20dispatcher.');const _0x3896bc={'id':_0x2df9d1,'data':{'jobType':_0x1e71e9,'prompt':_0x5cf5fa},'status':_0x16caec[_0x144efa(0x5f1)][_0x144efa(0x1c8)],'created':new Date(),'updated':new Date()};if(this[_0x144efa(0x651)]['has'](_0x3896bc['id']))throw new _0x56574a(_0x2379f6[_0x144efa(0x199)],'Job\x20with\x20id\x20'+_0x3896bc['id']+_0x144efa(0x7ec));_0x3896bc[_0x144efa(0x4a7)]=new Date(),_0x3896bc['updated']=new Date();const _0x142f20=new _0x20c813[(_0x144efa(0x5bd))]();this[_0x144efa(0x651)][_0x144efa(0x36d)](_0x3896bc['id'],_0x3896bc),this[_0x144efa(0x6bc)]['set'](_0x3896bc['id'],_0x142f20);try{const _0x298074={'id':_0x3896bc['id'],'jobType':_0x3896bc[_0x144efa(0x777)][_0x144efa(0x650)],'payload':{'jobPhase':_0x252dbf['Request']}},_0x2a6a36=0x3;let _0x51c355=0x0;const _0x5af84c=async()=>{const _0x303c25=_0x144efa;_0x51c355+=0x1;try{_0x1709c0[_0x303c25(0x419)](_0x459921[_0x303c25(0x33f)],_0x303c25(0x29d)+_0x3896bc['id']+_0x303c25(0x4d4)+_0x51c355+'.',this[_0x303c25(0x722)][_0x303c25(0x73f)]()),await this[_0x303c25(0x5a2)](_0x298074),_0x3896bc[_0x303c25(0x430)]=new Date(),this[_0x303c25(0x651)][_0x303c25(0x36d)](_0x3896bc['id'],_0x3896bc),this[_0x303c25(0x644)](_0x3896bc['id']);}catch(_0x5396f1){_0x51c355<_0x2a6a36?(_0x1709c0[_0x303c25(0x448)](_0x303c25(0x732)+_0x51c355+'\x20to\x20send\x20dispatcherJob\x20'+_0x3896bc['id']+'\x20failed.\x20Retrying...',{'nodeId':this['owner'][_0x303c25(0x544)](),'nodeType':this['owner'][_0x303c25(0x6a0)],'data':{'job':_0x3896bc,'attempts':_0x51c355,'maxRetries':_0x2a6a36}}),setTimeout(_0x5af84c,0x3e8)):(_0x3896bc[_0x303c25(0x5b1)]=_0x16caec[_0x303c25(0x5f1)][_0x303c25(0x808)],_0x3896bc[_0x303c25(0x430)]=new Date(),this[_0x303c25(0x651)][_0x303c25(0x36d)](_0x3896bc['id'],_0x3896bc),_0x1709c0[_0x303c25(0x4fe)](_0x303c25(0x4ad)+_0x3896bc['id']+'\x20after\x20'+_0x2a6a36+_0x303c25(0x2a8),{'nodeId':this[_0x303c25(0x6d8)]['getId'](),'nodeType':this[_0x303c25(0x6d8)][_0x303c25(0x6a0)],'data':{'job':_0x3896bc,'attempts':_0x51c355,'maxRetries':_0x2a6a36,'error':_0x5396f1}}));}};_0x5af84c();const {id:_0xd79b99,data:{jobType:_0x46b702}}=_0x3896bc;this[_0x144efa(0x196)](_0x144efa(0x29d)+_0x3896bc['id']+_0x144efa(0x2c6),{'jobId':_0xd79b99,'jobType':_0x46b702}),_0x3896bc[_0x144efa(0x430)]=new Date();}catch(_0x81ec97){_0x3896bc[_0x144efa(0x5b1)]=_0x16caec['JobStatus']['Failed'],_0x1709c0['error'](_0x144efa(0x4ad)+_0x3896bc['id']+':',{'nodeId':this[_0x144efa(0x6d8)][_0x144efa(0x544)](),'nodeType':this[_0x144efa(0x6d8)][_0x144efa(0x6a0)],'data':{'job':_0x3896bc,'error':_0x81ec97}});}return _0x142f20[_0x144efa(0x5d1)]();}[_0x32ddeb(0x5c7)](_0x50a7ff){const _0x3baa56=_0x32ddeb,_0x247a1b=this['jobs'][_0x3baa56(0x798)](_0x50a7ff);if(!_0x247a1b)throw new _0x56574a(_0x2379f6[_0x3baa56(0x6c8)],_0x3baa56(0x21e)+_0x50a7ff+_0x3baa56(0x3d1));if(_0x247a1b[_0x3baa56(0x777)]['jobType']!==_0x16caec[_0x3baa56(0x678)]['AI'])throw new _0x56574a(_0x2379f6[_0x3baa56(0x75d)],_0x3baa56(0x34a)+_0x247a1b[_0x3baa56(0x777)][_0x3baa56(0x650)]+_0x3baa56(0x5f2));return{'id':_0x247a1b['id'],'status':_0x247a1b[_0x3baa56(0x5b1)],'parameters':{'jobType':_0x247a1b['data'][_0x3baa56(0x650)],'prompt':_0x247a1b[_0x3baa56(0x777)]['prompt']}};}[_0x32ddeb(0x5c2)](){const _0x4132d3=_0x32ddeb;return Array[_0x4132d3(0x34d)](this[_0x4132d3(0x651)][_0x4132d3(0x693)]())[_0x4132d3(0x1a1)](_0x3bb5f6=>this[_0x4132d3(0x5c7)](_0x3bb5f6['id']));}async['updateJob'](_0x552c5a,_0x3158b9){const _0x4d2628=_0x32ddeb,_0x223d92=this[_0x4d2628(0x651)]['get'](_0x552c5a);if(!_0x223d92)throw new _0x56574a(_0x2379f6[_0x4d2628(0x6c8)],_0x4d2628(0x21e)+_0x552c5a+_0x4d2628(0x3d1));if(_0x3158b9[_0x4d2628(0x650)]!==_0x16caec[_0x4d2628(0x678)]['AI'])throw new _0x56574a(_0x2379f6['JobDispatcherInvalidJobType'],_0x4d2628(0x34a)+_0x3158b9[_0x4d2628(0x650)]+'\x20not\x20supported.');_0x223d92[_0x4d2628(0x777)]={'jobType':_0x3158b9[_0x4d2628(0x650)],'prompt':_0x3158b9[_0x4d2628(0x424)]},_0x223d92[_0x4d2628(0x430)]=new Date(),this[_0x4d2628(0x651)][_0x4d2628(0x36d)](_0x552c5a,_0x223d92);}async[_0x32ddeb(0x274)](_0x1ee2e8){const _0x1bddc4=_0x32ddeb;if(!this[_0x1bddc4(0x651)]['delete'](_0x1ee2e8))throw new _0x56574a(_0x2379f6[_0x1bddc4(0x6c8)],_0x1bddc4(0x21e)+_0x1ee2e8+'\x20not\x20found.');const _0x367e3a=this[_0x1bddc4(0x6bc)][_0x1bddc4(0x798)](_0x1ee2e8);if(!_0x367e3a)throw new _0x4daf03(_0x4daf03[_0x1bddc4(0x719)][_0x1bddc4(0x756)]);_0x367e3a[_0x1bddc4(0x6c1)](),this[_0x1bddc4(0x6bc)]['delete'](_0x1ee2e8),_0x1709c0['log'](_0x459921[_0x1bddc4(0x33f)],_0x1bddc4(0x29d)+_0x1ee2e8+_0x1bddc4(0x223));}['addBidResponse'](_0xcad33a,_0x4a359f,_0xc25179){const _0x5af0dc=_0x32ddeb,_0x236ce=this[_0x5af0dc(0x201)][_0x5af0dc(0x798)](_0x4a359f)??new Map();_0x236ce[_0x5af0dc(0x36d)](_0xcad33a,[_0xc25179,Date[_0x5af0dc(0x5d9)]()]),this[_0x5af0dc(0x201)][_0x5af0dc(0x36d)](_0x4a359f,_0x236ce),this[_0x5af0dc(0x1aa)](_0x4a359f);}['startBidResponseHandling'](_0x20f05c){const _0x1dfd6e=_0x32ddeb,_0x14369b=this[_0x1dfd6e(0x651)][_0x1dfd6e(0x798)](_0x20f05c);if(!_0x14369b)throw new _0x4daf03(_0x4daf03[_0x1dfd6e(0x719)][_0x1dfd6e(0x6c8)]);const _0x4d8977=setTimeout(()=>this[_0x1dfd6e(0x1aa)](_0x20f05c,!0x0),0xbb8);_0x14369b[_0x1dfd6e(0x2fc)]=_0x4d8977,this[_0x1dfd6e(0x651)]['set'](_0x14369b['id'],_0x14369b);}[_0x32ddeb(0x1aa)](_0x4f2491,_0x21ef91=!0x1){const _0x5b43b7=_0x32ddeb,_0x345c9f=this[_0x5b43b7(0x722)][_0x5b43b7(0x73f)](),_0x3f830c=Array[_0x5b43b7(0x34d)](_0x345c9f[_0x5b43b7(0x693)]())[_0x5b43b7(0x6fc)](_0x1b2cd1=>_0x1b2cd1[_0x5b43b7(0x6a0)]===_0x16caec['NodeType'][_0x5b43b7(0x559)]),_0x3c2206=this[_0x5b43b7(0x201)]['get'](_0x4f2491);if(!_0x21ef91&&(!_0x3c2206||_0x3c2206[_0x5b43b7(0x36a)]<_0x3f830c['length']))return;const _0x108b64=this[_0x5b43b7(0x651)]['get'](_0x4f2491);if(!_0x108b64)throw new _0x4daf03(_0x4daf03['codes'][_0x5b43b7(0x6c8)]);clearTimeout(_0x108b64[_0x5b43b7(0x2fc)]),_0x1709c0[_0x5b43b7(0x419)](_0x459921['Jobs'],_0x5b43b7(0x29d)+_0x108b64['id']+_0x5b43b7(0x600),_0x3c2206,this['jobBids']);const _0x32f264=Array['from'](_0x3c2206[_0x5b43b7(0x2a9)]())[_0x5b43b7(0x6fc)](([_0x1c3a26,[_0x5ccce3]])=>_0x5ccce3['available']);if(!_0x3c2206||0x0===_0x3c2206[_0x5b43b7(0x36a)]||0x0===_0x32f264[_0x5b43b7(0x19d)]){_0x108b64[_0x5b43b7(0x5b1)]=_0x16caec[_0x5b43b7(0x5f1)][_0x5b43b7(0x808)],_0x108b64[_0x5b43b7(0x430)]=new Date(),_0x1709c0[_0x5b43b7(0x4fe)]('Job\x20'+_0x108b64['id']+_0x5b43b7(0x5b6),{'nodeId':this['owner'][_0x5b43b7(0x544)](),'nodeType':this[_0x5b43b7(0x6d8)][_0x5b43b7(0x6a0)],'data':{'job':_0x108b64,'responses':_0x3c2206}});const _0x5cbae2=this[_0x5b43b7(0x6bc)][_0x5b43b7(0x798)](_0x4f2491);if(!_0x5cbae2)throw new _0x4daf03(_0x4daf03['codes'][_0x5b43b7(0x756)]);const _0x380ed1=_0x5b43b7(0x1d4),_0x37c078={'id':_0x108b64['id'],'status':_0x108b64[_0x5b43b7(0x5b1)],'result':{'jobType':_0x108b64[_0x5b43b7(0x777)]['jobType'],'output':_0x380ed1}};return _0x5cbae2[_0x5b43b7(0x262)](_0x37c078),_0x5cbae2[_0x5b43b7(0x6c1)](),this[_0x5b43b7(0x651)]['set'](_0x108b64['id'],_0x108b64),void this[_0x5b43b7(0x201)]['delete'](_0x4f2491);}const {nodeId:_0x5c3b02,response:_0x265528}=this[_0x5b43b7(0x699)](_0x108b64['id'],_0x3c2206);_0x108b64[_0x5b43b7(0x5b1)]=_0x16caec[_0x5b43b7(0x5f1)]['Processing'],_0x108b64['updated']=new Date(),_0x1709c0[_0x5b43b7(0x419)](_0x459921[_0x5b43b7(0x33f)],'Job\x20'+_0x108b64['id']+_0x5b43b7(0x253)+_0x5c3b02+_0x5b43b7(0x540),_0x265528);const _0x4320da={'id':_0x108b64['id'],'jobType':_0x16caec[_0x5b43b7(0x678)]['AI'],'payload':{'jobPhase':_0x252dbf[_0x5b43b7(0x1de)],'prompt':_0x108b64['data'][_0x5b43b7(0x424)]}};this[_0x5b43b7(0x5a2)](_0x4320da,[_0x5c3b02]),this['jobs'][_0x5b43b7(0x36d)](_0x108b64['id'],_0x108b64),this[_0x5b43b7(0x201)][_0x5b43b7(0x27d)](_0x4f2491);}[_0x32ddeb(0x699)](_0x136588,_0x455652){const _0x59efd5=_0x32ddeb,_0x36d471=Array['from'](_0x455652[_0x59efd5(0x2a9)]())[_0x59efd5(0x78b)]((_0x53b2fa,_0x2081ff)=>_0x2081ff[0x1][0x0][_0x59efd5(0x37e)]-_0x53b2fa[0x1][0x0][_0x59efd5(0x37e)]);if(0x1===_0x36d471['length'])return{'nodeId':_0x36d471[0x0][0x0],'response':_0x36d471[0x0][0x1][0x0]};const _0x572a60=(_0x4d738b=>{const _0x37a037=_0x59efd5,_0x59cbbc=_0x4d738b[0x0][0x1][0x0][_0x37a037(0x37e)];return _0x4d738b[_0x37a037(0x6fc)](([,[_0x57d12f]])=>_0x57d12f[_0x37a037(0x37e)]===_0x59cbbc);})(_0x36d471);if(0x1===_0x572a60['length'])return{'nodeId':_0x572a60[0x0][0x0],'response':_0x572a60[0x0][0x1][0x0]};const _0x15ba0c=this[_0x59efd5(0x651)][_0x59efd5(0x798)](_0x136588);if(!_0x15ba0c)throw new _0x4daf03(_0x4daf03[_0x59efd5(0x719)][_0x59efd5(0x6c8)]);const _0x368c70=_0x15ba0c[_0x59efd5(0x4a7)][_0x59efd5(0x7b9)](),_0x4068bb=_0x572a60[_0x59efd5(0x1a1)](([_0x3982c3,[,_0x3f0894]])=>({'nodeId':_0x3982c3,'rtt':_0x3f0894-_0x368c70})),_0x3192a6=Math[_0x59efd5(0x76e)](..._0x4068bb[_0x59efd5(0x1a1)](({rtt:_0x29f427})=>_0x29f427)),_0x5c77e7=_0x4068bb[_0x59efd5(0x323)](({rtt:_0x3482cb})=>_0x3482cb===_0x3192a6),[,[_0x532f67]]=_0x572a60[_0x59efd5(0x323)](([_0x212f4a])=>_0x212f4a===_0x5c77e7[_0x59efd5(0x189)]);return{'nodeId':_0x5c77e7['nodeId'],'response':_0x532f67};}[_0x32ddeb(0x3f2)](_0x514a83,_0x435663){const _0x1f585e=_0x32ddeb,_0xf19c0e=this['jobs']['get'](_0x514a83);if(!_0xf19c0e)throw new _0x4daf03(_0x4daf03[_0x1f585e(0x719)]['JobDispatcherJobNotFound']);if(_0xf19c0e['data'][_0x1f585e(0x650)]!==_0x16caec[_0x1f585e(0x678)]['AI'])throw new _0x4daf03(_0x4daf03['codes'][_0x1f585e(0x75d)]);const _0x3acb6b=this[_0x1f585e(0x6bc)][_0x1f585e(0x798)](_0x514a83);if(!_0x3acb6b)throw new _0x4daf03(_0x4daf03[_0x1f585e(0x719)][_0x1f585e(0x756)]);const _0x57751e={'id':_0xf19c0e['id'],'status':_0x16caec[_0x1f585e(0x5f1)][_0x1f585e(0x69a)],'result':{'jobType':_0xf19c0e['data']['jobType'],'output':_0x435663[_0x1f585e(0x553)],'index':_0x435663[_0x1f585e(0x696)]}};_0x3acb6b[_0x1f585e(0x262)](_0x57751e);}[_0x32ddeb(0x321)](_0x2f3693,_0xb9486c){const _0xed0d68=_0x32ddeb,_0x39e0c9=this[_0xed0d68(0x651)][_0xed0d68(0x798)](_0x2f3693);if(!_0x39e0c9)throw new _0x4daf03(_0x4daf03[_0xed0d68(0x719)]['JobDispatcherJobNotFound']);if(_0x39e0c9[_0xed0d68(0x777)][_0xed0d68(0x650)]!==_0x16caec[_0xed0d68(0x678)]['AI'])throw new _0x4daf03(_0x4daf03['codes'][_0xed0d68(0x75d)]);const _0x358241=this[_0xed0d68(0x6bc)][_0xed0d68(0x798)](_0x2f3693);if(!_0x358241)throw new _0x4daf03(_0x4daf03['codes'][_0xed0d68(0x756)]);_0x39e0c9[_0xed0d68(0x5b1)]=_0x16caec[_0xed0d68(0x5f1)][_0xed0d68(0x747)];const _0x14580f={'id':_0x39e0c9['id'],'status':_0x39e0c9['status'],'result':{'jobType':_0x39e0c9['data'][_0xed0d68(0x650)],'output':_0xb9486c[_0xed0d68(0x553)]}};_0x358241[_0xed0d68(0x262)](_0x14580f),_0x358241[_0xed0d68(0x6c1)](),this[_0xed0d68(0x6bc)][_0xed0d68(0x27d)](_0x2f3693);const {data:{jobType:_0x2a4280}}=_0x39e0c9;this[_0xed0d68(0x196)](_0xed0d68(0x29d)+_0x2f3693+_0xed0d68(0x7f5),{'jobId':_0x2f3693,'jobType':_0x2a4280});}['failJob'](_0x1c1293,_0xc67134){const _0x3e3884=_0x32ddeb,_0x3aa0d5=this['jobs'][_0x3e3884(0x798)](_0x1c1293);if(!_0x3aa0d5)throw new _0x4daf03(_0x4daf03['codes']['JobDispatcherJobNotFound']);if(_0x3aa0d5['data'][_0x3e3884(0x650)]!==_0x16caec[_0x3e3884(0x678)]['AI'])throw new _0x4daf03(_0x4daf03['codes'][_0x3e3884(0x75d)]);const _0x3bfc14=this['jobObservers']['get'](_0x1c1293);if(!_0x3bfc14)throw new _0x4daf03(_0x4daf03[_0x3e3884(0x719)][_0x3e3884(0x756)]);_0x3aa0d5[_0x3e3884(0x5b1)]=_0x16caec[_0x3e3884(0x5f1)][_0x3e3884(0x808)];const _0x4a3362={'id':_0x3aa0d5['id'],'status':_0x3aa0d5[_0x3e3884(0x5b1)],'result':{'jobType':_0x3aa0d5[_0x3e3884(0x777)]['jobType'],'output':_0xc67134}};_0x3bfc14[_0x3e3884(0x262)](_0x4a3362),_0x3bfc14[_0x3e3884(0x6c1)](),this[_0x3e3884(0x6bc)][_0x3e3884(0x27d)](_0x1c1293);const {data:{jobType:_0x15003a}}=_0x3aa0d5;this[_0x3e3884(0x196)](_0x3e3884(0x29d)+_0x1c1293+_0x3e3884(0x1c2),{'jobId':_0x1c1293,'jobType':_0x15003a});}[_0x32ddeb(0x196)](_0x1897aa,{jobId:_0x1bbbbc,jobType:_0x8ffc92}){const _0x7ff94e=_0x32ddeb,_0x96b31f={'jobId':_0x1bbbbc,'jobType':_0x8ffc92,'mistletIds':Array[_0x7ff94e(0x34d)](this[_0x7ff94e(0x722)]['getRemoteNodes']()[_0x7ff94e(0x693)]())['filter'](_0x3de0c6=>_0x3de0c6[_0x7ff94e(0x6a0)]===_0x16caec[_0x7ff94e(0x244)]['Agent'])[_0x7ff94e(0x1a1)](_0x3ce520=>_0x3ce520[_0x7ff94e(0x544)]())};_0x1709c0[_0x7ff94e(0x196)](_0x1897aa,{'nodeId':this[_0x7ff94e(0x2d6)](),'nodeType':this[_0x7ff94e(0x6d8)][_0x7ff94e(0x6a0)],'data':_0x96b31f}),_0x1709c0[_0x7ff94e(0x419)](_0x459921[_0x7ff94e(0x33f)],_0x1897aa,_0x96b31f);}[_0x32ddeb(0x754)](_0x143ac7){const _0x49f112=_0x32ddeb,{jobPhase:_0x24c7f8,available:_0x43cb79,bid:_0x559896}=_0x143ac7;return _0x24c7f8===_0x252dbf[_0x49f112(0x7c0)]&&void 0x0!==_0x43cb79&&void 0x0!==_0x559896;}[_0x32ddeb(0x561)](_0xb28b27){const _0x5ce827=_0x32ddeb,{jobPhase:_0x5ce984,answer:_0x4407c5,index:_0x23f3ff}=_0xb28b27;return _0x5ce984===_0x252dbf[_0x5ce827(0x2c8)]&&void 0x0!==_0x4407c5&&void 0x0!==_0x23f3ff&&_0x5ce827(0x1ed)==typeof _0x4407c5&&_0x5ce827(0x6d6)==typeof _0x23f3ff;}[_0x32ddeb(0x6ce)](_0x6da6c6){const _0x52b87a=_0x32ddeb,{jobPhase:_0x5e2f21,answer:_0x111ada}=_0x6da6c6;return _0x5e2f21===_0x252dbf[_0x52b87a(0x2f0)]&&void 0x0!==_0x111ada&&_0x52b87a(0x1ed)==typeof _0x111ada;}[_0x32ddeb(0x1eb)](_0x1f18bd){const _0x5a4a13=_0x32ddeb,{jobPhase:_0x3f550d,message:_0x1988de}=_0x1f18bd;return _0x3f550d===_0x252dbf[_0x5a4a13(0x808)]&&void 0x0!==_0x1988de&&_0x5a4a13(0x1ed)==typeof _0x1988de;}}class _0x20a7e8 extends _0x44ee66{constructor(_0x594916,_0x245c57,_0x3ff6f4){super(_0x594916,_0x245c57,_0x3ff6f4);}async*[_0x32ddeb(0x424)](_0x234ca1){const _0x17b099=_0x32ddeb,_0x249ab2={'id':_0x17b099(0x43a)+(0x0,_0x3b9a63['v4'])(),'parameters':{'jobType':_0x16caec[_0x17b099(0x678)]['AI'],'prompt':_0x234ca1},'status':_0x16caec['JobStatus'][_0x17b099(0x1c8)]},_0x3512b8=await this[_0x17b099(0x1d7)](_0x249ab2);let _0xb6f9ea,_0x170f65=!0x1,_0x1af803=0x0;const _0x1866c3=[],_0x1a5d0f=new Map();let _0x31e5f8=null;const _0x16b48d=()=>{_0x31e5f8&&(_0x31e5f8(),_0x31e5f8=null);},_0x1a48cb=()=>{_0x170f65=!0x0,_0x16b48d(),_0x140778['unsubscribe']();},_0x140778=_0x3512b8[_0x17b099(0x558)]({'next':_0x304248=>{const _0xf5d2d8=_0x17b099;switch(_0x304248['status']){case _0x16caec[_0xf5d2d8(0x5f1)]['Partial']:if(_0x304248[_0xf5d2d8(0x293)]&&_0x304248[_0xf5d2d8(0x293)][_0xf5d2d8(0x282)]){if(void 0x0===_0x304248[_0xf5d2d8(0x293)][_0xf5d2d8(0x696)])throw _0x1a48cb(),new _0x4daf03(_0x4daf03['codes']['GenerativeAIContextInvalidPartialResult'],{'updatedJob':_0x304248});_0x1af803===_0x304248[_0xf5d2d8(0x293)][_0xf5d2d8(0x696)]?(_0x1866c3[_0xf5d2d8(0x6f1)](_0x304248['result']['output']),_0x1af803++,((()=>{const _0x58ced2=_0xf5d2d8;for(;_0x1a5d0f[_0x58ced2(0x5ae)](_0x1af803);)_0x1866c3['push'](_0x1a5d0f['get'](_0x1866c3[_0x58ced2(0x19d)])),_0x1a5d0f[_0x58ced2(0x27d)](_0x1866c3[_0x58ced2(0x19d)]),_0x1af803++;})()),_0x16b48d(),_0x488c9a()):_0x1a5d0f[_0xf5d2d8(0x36d)](_0x304248[_0xf5d2d8(0x293)][_0xf5d2d8(0x696)],_0x304248[_0xf5d2d8(0x293)][_0xf5d2d8(0x282)]);}break;case _0x16caec['JobStatus'][_0xf5d2d8(0x747)]:clearTimeout(_0xb6f9ea),_0x1a48cb();break;case _0x16caec[_0xf5d2d8(0x5f1)][_0xf5d2d8(0x808)]:throw clearTimeout(_0xb6f9ea),_0x1a48cb(),new _0x4daf03(_0x4daf03[_0xf5d2d8(0x719)][_0xf5d2d8(0x80c)],{'updatedJob':_0x304248});}},'error':_0x1be88a=>{throw clearTimeout(_0xb6f9ea),_0x1a48cb(),new _0x4daf03(_0x4daf03['codes']['GenerativeAIContextJobFailed'],{'err':_0x1be88a});}}),_0xd91098=()=>{const _0x2389c7=_0x17b099;throw _0x1a48cb(),new _0x4daf03(_0x4daf03[_0x2389c7(0x719)]['GenerativeAIContextJobTimeout']);},_0x488c9a=()=>{clearTimeout(_0xb6f9ea),_0xb6f9ea=setTimeout(_0xd91098,0x7530);};for(_0xb6f9ea=setTimeout(_0xd91098,0x7530);!_0x170f65||_0x1866c3[_0x17b099(0x19d)]>0x0;)_0x1866c3[_0x17b099(0x19d)]>0x0?yield _0x1866c3[_0x17b099(0x181)]():await new Promise(_0x1764bb=>_0x31e5f8=_0x1764bb);}}class _0x4859d7 extends _0x590966{[_0x32ddeb(0x34b)];['jobWorkerConnector'];['jobType'];['unsubscribeListener'];[_0x32ddeb(0x3d0)]=!0x1;constructor(_0x576681,_0x567d54,_0x4c7335,_0x59ee43,_0x1953d6=_0x16caec[_0x32ddeb(0x678)]['Other']){const _0x40a913=_0x32ddeb;super(_0x576681,_0x567d54),this[_0x40a913(0x34b)]=_0x4c7335,this['jobWorkerConnector']=_0x59ee43,this[_0x40a913(0x650)]=_0x1953d6;}['getContentType'](){const _0xccea4d=_0x32ddeb;return _0x16caec[_0xccea4d(0x76d)][_0xccea4d(0x79d)];}[_0x32ddeb(0x800)](){this['subscribeToJobs']();}['close'](){const _0x51c575=_0x32ddeb;this['systemTopic']?.[_0x51c575(0x7db)]({'sourceId':_0x514c9c,'messageType':_0x16f8c2[_0x51c575(0x370)],'content':{'type':_0x36fe9a[_0x51c575(0x606)],'label':this['label']}});}[_0x32ddeb(0x2e9)](){const _0x4c8aa4=_0x32ddeb;this['unsubscribeListener']?.(),this[_0x4c8aa4(0x800)]();}[_0x32ddeb(0x733)](){const _0x6ef7ce=_0x32ddeb;this[_0x6ef7ce(0x46c)]?.(),super[_0x6ef7ce(0x733)]();}['shouldProcessJob'](_0x2f291e){return _0x2f291e===this['jobType'];}[_0x32ddeb(0x61d)](){const _0x46a164=_0x32ddeb;return!this[_0x46a164(0x3d0)];}['getBid'](){return 0x1;}[_0x32ddeb(0x5ec)](){const _0xc7d74a=_0x32ddeb;this[_0xc7d74a(0x46c)]=this[_0xc7d74a(0x249)]((_0x3ab3f6,_0x3881fe)=>{const _0x5b5425=_0xc7d74a;if(_0x1709c0['log'](_0x459921['Jobs'],_0x5b5425(0x633),_0x3881fe),!(_0x3881fe instanceof File)){if(!this['shouldProcessJob'](_0x3881fe[_0x5b5425(0x650)]))throw new _0x56574a(_0x2379f6[_0x5b5425(0x2e3)],'Only\x20'+this['jobType']+_0x5b5425(0x306));this[_0x5b5425(0x263)](_0x3881fe[_0x5b5425(0x592)])?(_0x1709c0[_0x5b5425(0x419)](_0x459921[_0x5b5425(0x33f)],_0x5b5425(0x4ae),_0x3881fe),this[_0x5b5425(0x61d)]()?this['sendBid'](_0x3881fe['id'],_0x3ab3f6):this[_0x5b5425(0x292)](_0x3881fe['id'],_0x3ab3f6)):this[_0x5b5425(0x618)](_0x3881fe[_0x5b5425(0x592)])&&(_0x1709c0[_0x5b5425(0x419)](_0x459921[_0x5b5425(0x33f)],_0x5b5425(0x4d6),_0x3881fe),this[_0x5b5425(0x607)](_0x3881fe['id'],_0x3881fe[_0x5b5425(0x592)],_0x3ab3f6));}});}[_0x32ddeb(0x2e8)](_0x548b71,_0x32fb02){const _0x19fb6d=_0x32ddeb,_0x4c73c8={'jobPhase':_0x252dbf[_0x19fb6d(0x7c0)],'available':!0x0,'bid':this[_0x19fb6d(0x71c)]()},_0x28da38={'id':_0x548b71,'jobType':this['jobType'],'payload':_0x4c73c8};_0x1709c0[_0x19fb6d(0x419)](_0x459921[_0x19fb6d(0x33f)],_0x19fb6d(0x316),_0x28da38),this['send'](_0x28da38,[_0x32fb02]);}[_0x32ddeb(0x292)](_0x46ca7b,_0x15cffb){const _0x287788=_0x32ddeb,_0x4bb466={'id':_0x46ca7b,'jobType':_0x16caec[_0x287788(0x678)]['AI'],'payload':{'jobPhase':_0x252dbf['Bid'],'available':!0x1,'bid':0x0}};this['send'](_0x4bb466,[_0x15cffb]);}async['handleJobAttribution'](_0x4f2078,_0x19fc57,_0x2f4a68){const _0x4e164f=_0x32ddeb;_0x1709c0['log'](_0x459921[_0x4e164f(0x33f)],_0x4e164f(0x494),_0x19fc57);const _0x240623={'id':_0x4f2078,'parameters':{'jobType':_0x16caec[_0x4e164f(0x678)]['AI'],'prompt':_0x19fc57[_0x4e164f(0x424)]}};try{this['isRunning']=!0x0;let _0x556753=0x0,_0x597de0='';for await(const _0x4daafb of this['jobWorkerConnector'][_0x4e164f(0x54b)](_0x240623)){const _0xe79192={'id':_0x4f2078,'jobType':_0x16caec['JobType']['AI'],'payload':{'jobPhase':_0x252dbf[_0x4e164f(0x2c8)],'answer':_0x4daafb['result'][_0x4e164f(0x282)],'index':_0x556753}};_0x1709c0[_0x4e164f(0x419)](_0x459921[_0x4e164f(0x33f)],_0x4e164f(0x3e2),_0xe79192),this['send'](_0xe79192,[_0x2f4a68]),_0x597de0+=_0x4daafb[_0x4e164f(0x293)][_0x4e164f(0x282)],_0x556753++;}if(!this[_0x4e164f(0x803)](_0x16caec[_0x4e164f(0x678)]['AI']))throw new _0x4daf03(_0x4daf03[_0x4e164f(0x719)]['JobWorkerInvalidType']);const _0x146277={'jobPhase':_0x252dbf[_0x4e164f(0x2f0)],'answer':_0x597de0},_0x5bc4cd={'id':_0x4f2078,'jobType':_0x16caec[_0x4e164f(0x678)]['AI'],'payload':_0x146277};_0x1709c0[_0x4e164f(0x419)](_0x459921[_0x4e164f(0x33f)],'JobWorker:\x20Sending\x20AI\x20job\x20result',_0x5bc4cd),await this['send'](_0x5bc4cd,[_0x2f4a68]);}catch(_0x981a60){_0x1709c0['error'](_0x4e164f(0x53e),{'nodeId':this[_0x4e164f(0x6d8)][_0x4e164f(0x544)](),'nodeType':this['owner'][_0x4e164f(0x6a0)],'data':{'job':_0x240623}},_0x981a60);const _0x15729f=_0x981a60 instanceof Error?_0x981a60[_0x4e164f(0x26e)]:'An\x20error\x20occurred',_0x298678={'id':_0x4f2078,'jobType':this['jobType'],'payload':{'jobPhase':_0x252dbf[_0x4e164f(0x808)],'message':_0x15729f}};await this['send'](_0x298678,[_0x2f4a68]);}finally{this['isRunning']=!0x1;}}[_0x32ddeb(0x263)](_0x4fdf90){const _0x197b57=_0x32ddeb;return _0x4fdf90[_0x197b57(0x453)]===_0x252dbf[_0x197b57(0x7d6)];}[_0x32ddeb(0x618)](_0x4a22e5){const _0x16d092=_0x32ddeb,_0x3e99d8=_0x4a22e5;return _0x3e99d8[_0x16d092(0x453)]===_0x252dbf[_0x16d092(0x1de)]&&void 0x0!==_0x3e99d8[_0x16d092(0x424)];}}class _0x1be5a1 extends _0x4859d7{[_0x32ddeb(0x5bc)];[_0x32ddeb(0x456)];constructor(_0x1c91aa,_0x1f98cd,_0x334941,_0x1c5b9f,_0x20d852){const _0x47c63d=_0x32ddeb;super(_0x1c91aa,_0x1f98cd,_0x334941,_0x1c5b9f,_0x16caec[_0x47c63d(0x678)]['AI']),this[_0x47c63d(0x5bc)]=_0x1c5b9f,this['objectStore']=_0x20d852;}['destroy'](){const _0x1e69ca=_0x32ddeb;this[_0x1e69ca(0x456)][_0x1e69ca(0x300)](),this[_0x1e69ca(0x456)][_0x1e69ca(0x36f)](),super[_0x1e69ca(0x733)]();}async['open'](){const _0x524a7a=_0x32ddeb;await this[_0x524a7a(0x1cc)](),await this[_0x524a7a(0x5bc)][_0x524a7a(0x58e)](),await this['loadExistingContent'](),this[_0x524a7a(0x2da)](),super[_0x524a7a(0x800)]();}[_0x32ddeb(0x71c)](){const _0x54de7b=_0x32ddeb;return this[_0x54de7b(0x1c3)]();}async[_0x32ddeb(0x1cc)](){await new Promise(_0x53359b=>{const _0x1cc7ab=a0_0x51ad;this[_0x1cc7ab(0x456)][_0x1cc7ab(0x558)](async _0x10abe5=>{const _0x560fb8=_0x1cc7ab;_0x10abe5[_0x560fb8(0x470)]===_0x16caec[_0x560fb8(0x6f3)][_0x560fb8(0x7ad)]&&(this[_0x560fb8(0x456)][_0x560fb8(0x300)](),_0x53359b());});});}async[_0x32ddeb(0x60f)](_0x3130af){const _0x5aebce=_0x32ddeb;try{const _0x232517=await this[_0x5aebce(0x456)][_0x5aebce(0x79a)](_0x5aebce(0x492));for(const _0x4ace48 of _0x232517)if(_0x4ace48[_0x5aebce(0x73d)]===_0x16caec[_0x5aebce(0x6a8)]['File']&&_0x4ace48[_0x5aebce(0x73a)]===_0x3130af)return _0x4ace48[_0x5aebce(0x1b5)]??_0x4ace48['pathName'];throw new Error(_0x5aebce(0x609));}catch(_0x82200d){return new Promise(_0x1d1964=>{const _0x5741ca=_0x5aebce;this[_0x5741ca(0x456)][_0x5741ca(0x558)](async _0x727ce6=>{const _0x45d857=_0x5741ca;_0x727ce6[_0x45d857(0x470)]===_0x16caec[_0x45d857(0x6f3)][_0x45d857(0x755)]&&_0x727ce6[_0x45d857(0x592)][_0x45d857(0x4ab)][_0x45d857(0x473)]===_0x3130af&&(this[_0x45d857(0x456)][_0x45d857(0x300)](),_0x1d1964(_0x727ce6[_0x45d857(0x592)]['file'][_0x45d857(0x1b5)]??_0x727ce6[_0x45d857(0x592)][_0x45d857(0x4ab)]['pathName']));});});}}async[_0x32ddeb(0x328)](){const _0x180f2f=_0x32ddeb;try{const _0x39819b=await this['objectStore'][_0x180f2f(0x79a)](_0x180f2f(0x1af));for(const _0x47e112 of _0x39819b)'file'===_0x47e112['kind']&&await this[_0x180f2f(0x29f)](_0x47e112[_0x180f2f(0x473)],_0x47e112[_0x180f2f(0x73a)]);}catch(_0x2690d8){}}[_0x32ddeb(0x2da)](){const _0x5bb5a9=_0x32ddeb;this[_0x5bb5a9(0x456)][_0x5bb5a9(0x558)](async _0x221fe4=>{const _0x133d68=_0x5bb5a9;switch(_0x221fe4[_0x133d68(0x470)]){case _0x16caec[_0x133d68(0x6f3)]['FileWrite']:_0x221fe4['payload'][_0x133d68(0x4ab)][_0x133d68(0x73a)][_0x133d68(0x6ab)](_0x133d68(0x1af))&&await this[_0x133d68(0x29f)](_0x221fe4[_0x133d68(0x592)][_0x133d68(0x4ab)][_0x133d68(0x473)],_0x221fe4['payload']['file'][_0x133d68(0x73a)]);break;case _0x16caec['StorageEventType'][_0x133d68(0x185)]:_0x221fe4[_0x133d68(0x592)]['pathName'][_0x133d68(0x6ab)]('/documents')&&this[_0x133d68(0x322)](_0x221fe4[_0x133d68(0x592)][_0x133d68(0x473)]);}});}async[_0x32ddeb(0x29f)](_0x522a81,_0x32b9cc){const _0x3414fd=_0x32ddeb,_0x408ee7=await this[_0x3414fd(0x456)]['get'](_0x32b9cc);await this[_0x3414fd(0x5bc)][_0x3414fd(0x29f)](_0x522a81,await _0x408ee7[_0x3414fd(0x355)]());}[_0x32ddeb(0x322)](_0x35b30e){const _0x29b013=_0x32ddeb;this[_0x29b013(0x5bc)][_0x29b013(0x322)](_0x35b30e);}[_0x32ddeb(0x1c3)](){const _0x1d1402=_0x32ddeb;try{return this[_0x1d1402(0x34b)][_0x1d1402(0x190)]()[_0x1d1402(0x58f)]['cores']*(0x1-this['capacityReporter'][_0x1d1402(0x190)]()[_0x1d1402(0x58f)][_0x1d1402(0x30d)]);}catch(_0x514873){return _0x1709c0[_0x1d1402(0x419)](_0x459921['Jobs'],_0x1d1402(0x3a0),_0x514873),0x0;}}}class _0x155584 extends _0x5cc783{[_0x32ddeb(0x773)];constructor(_0x2137b1,_0x5d36b7,_0x6cace0){super(_0x2137b1,_0x5d36b7),this['mediaStream']=_0x6cace0;}['getContentType'](){const _0x2f68b7=_0x32ddeb;return _0x16caec[_0x2f68b7(0x76d)][_0x2f68b7(0x309)];}[_0x32ddeb(0x781)](){const _0x29ff73=_0x32ddeb;return this[_0x29ff73(0x773)];}[_0x32ddeb(0x55b)](){const _0x20e71c=_0x32ddeb;return this[_0x20e71c(0x773)]['id'];}}class _0x4a52a6 extends _0x155584{[_0x32ddeb(0x264)];[_0x32ddeb(0x1ec)];['topic'];['unregisterPublisherListener']=_0x70c74f();constructor(_0x2c77d2,_0x118eda,_0x38fbe0,_0x46a9fa,_0xd2f889){const _0x16ea6a=_0x32ddeb;super(_0x2c77d2,_0x118eda,_0x38fbe0),this[_0x16ea6a(0x264)]=_0x46a9fa,this['params']=_0xd2f889;}[_0x32ddeb(0x733)](){const _0x2cf2d7=_0x32ddeb;this[_0x2cf2d7(0x304)](_0x2cf2d7(0x1ea)),this[_0x2cf2d7(0x304)]('video'),super[_0x2cf2d7(0x733)]();}[_0x32ddeb(0x368)](_0x2f54e2){const _0x5a93c5=_0x32ddeb;if(!this[_0x5a93c5(0x4cb)])throw new _0x4daf03(_0x4daf03[_0x5a93c5(0x719)][_0x5a93c5(0x775)],{'label':this[_0x5a93c5(0x235)],'ownerId':this[_0x5a93c5(0x6d8)][_0x5a93c5(0x544)](),'remoteId':this[_0x5a93c5(0x264)]});this[_0x5a93c5(0x4cb)]['publish']({'sourceId':this[_0x5a93c5(0x6d8)][_0x5a93c5(0x544)](),'content':{'action':_0x5b14c9[_0x5a93c5(0x5ea)],'track':_0x2f54e2,'stream':this['mediaStream'],'priority':_0x16caec['MediaStreamPriority']['Default'],'params':this[_0x5a93c5(0x295)](_0x2f54e2[_0x5a93c5(0x73d)],this[_0x5a93c5(0x1ec)])}});}[_0x32ddeb(0x304)](_0x4c5313){const _0x5e89b=_0x32ddeb,_0x36c067=this[_0x5e89b(0x72c)](_0x4c5313);if(_0x36c067){if(!this[_0x5e89b(0x4cb)])return null;this[_0x5e89b(0x4cb)]['publish']({'sourceId':this[_0x5e89b(0x6d8)][_0x5e89b(0x544)](),'content':{'action':_0x5b14c9['Remove'],'track':_0x36c067,'stream':this[_0x5e89b(0x773)]}});}return _0x36c067;}[_0x32ddeb(0x703)](_0x1bef46){const _0xb5754c=_0x32ddeb;if(!this['topic'])throw new _0x4daf03(_0x4daf03[_0xb5754c(0x719)]['OutgoingMediaStreamNoTopic'],{'label':this[_0xb5754c(0x235)],'ownerId':this[_0xb5754c(0x6d8)]['getId'](),'remoteId':this[_0xb5754c(0x264)]});this['topic'][_0xb5754c(0x7db)]({'sourceId':this[_0xb5754c(0x6d8)][_0xb5754c(0x544)](),'content':{'action':_0x5b14c9[_0xb5754c(0x758)],'priority':_0x1bef46,'stream':this['mediaStream']}});}[_0x32ddeb(0x558)]({trackKinds:_0xb62490,params:_0x5d50d6},_0x49f5f5){const _0x57dbd1=_0x32ddeb;if(!this[_0x57dbd1(0x4cb)])throw new _0x4daf03(_0x4daf03[_0x57dbd1(0x719)][_0x57dbd1(0x775)],{'label':this[_0x57dbd1(0x235)],'ownerId':this['owner'][_0x57dbd1(0x544)](),'remoteId':this[_0x57dbd1(0x264)]});for(const _0x218fcc of this[_0x57dbd1(0x773)]['getTracks']())_0xb62490[_0x57dbd1(0x31c)](_0x218fcc[_0x57dbd1(0x73d)])&&this['topic'][_0x57dbd1(0x7db)]({'sourceId':this[_0x57dbd1(0x6d8)][_0x57dbd1(0x544)](),'content':{'action':_0x5b14c9[_0x57dbd1(0x5ea)],'track':_0x218fcc,'stream':this[_0x57dbd1(0x773)],'priority':_0x49f5f5,'params':this[_0x57dbd1(0x295)](_0x218fcc[_0x57dbd1(0x73d)],_0x5d50d6)}});}[_0x32ddeb(0x805)]({params:_0x9002d}){const _0xf520c9=_0x32ddeb;if(!this[_0xf520c9(0x4cb)])throw new _0x4daf03(_0x4daf03['codes'][_0xf520c9(0x775)],{'label':this[_0xf520c9(0x235)],'ownerId':this[_0xf520c9(0x6d8)][_0xf520c9(0x544)](),'remoteId':this['remoteId']});for(const _0x107fb3 of this[_0xf520c9(0x773)][_0xf520c9(0x6a3)]())this[_0xf520c9(0x4cb)][_0xf520c9(0x7db)]({'sourceId':this['owner'][_0xf520c9(0x544)](),'content':{'action':_0x5b14c9[_0xf520c9(0x758)],'stream':this[_0xf520c9(0x773)],'params':this[_0xf520c9(0x295)](_0x107fb3[_0xf520c9(0x73d)],_0x9002d)}});}[_0x32ddeb(0x300)]({trackKinds:_0x5d022e}){const _0x31281e=_0x32ddeb;if(this['topic']){for(const _0x15691b of this[_0x31281e(0x773)][_0x31281e(0x6a3)]())_0x5d022e['includes'](_0x15691b[_0x31281e(0x73d)])&&this[_0x31281e(0x4cb)][_0x31281e(0x7db)]({'sourceId':this[_0x31281e(0x6d8)]['getId'](),'content':{'action':_0x5b14c9[_0x31281e(0x35b)],'stream':this[_0x31281e(0x773)],'track':_0x15691b}});}}['registerPublisher'](_0x3fc9ad){const _0x390eca=_0x32ddeb;this[_0x390eca(0x4cb)]=_0x3fc9ad;}[_0x32ddeb(0x735)](_0x50110a){const _0x46f7f5=_0x32ddeb;_0x50110a===this[_0x46f7f5(0x4cb)]&&(delete this[_0x46f7f5(0x4cb)],this[_0x46f7f5(0x465)][_0x46f7f5(0x7db)]());}[_0x32ddeb(0x62b)](_0x1827e2){const _0x4b8a96=_0x32ddeb;return this[_0x4b8a96(0x465)][_0x4b8a96(0x558)](_0x1827e2);}['getTrack'](_0x2d5cd4){const _0x3fa8e4=_0x32ddeb;return this['mediaStream'][_0x3fa8e4(0x6a3)]()['find'](_0x373033=>_0x373033[_0x3fa8e4(0x73d)]===_0x2d5cd4)||null;}[_0x32ddeb(0x295)](_0x50ee4a,_0x44a383){const _0x12bf54=_0x32ddeb;let _0x272931;return'video'===_0x50ee4a&&_0x44a383?.['video']&&_0x12bf54(0x1d1)!=typeof _0x44a383[_0x12bf54(0x6db)]&&(_0x272931={'kind':'video',..._0x44a383['video']},_0x272931[_0x12bf54(0x5bf)]=this[_0x12bf54(0x671)]()),_0x12bf54(0x1ea)===_0x50ee4a&&_0x44a383?.[_0x12bf54(0x1ea)]&&_0x12bf54(0x1d1)!=typeof _0x44a383[_0x12bf54(0x1ea)]&&(_0x272931={'kind':_0x12bf54(0x1ea),..._0x44a383[_0x12bf54(0x1ea)]}),_0x272931;}[_0x32ddeb(0x671)](){const _0x1023ff=_0x32ddeb;let _0xdc566d={'width':0x0,'height':0x0};const _0x3096b9=this[_0x1023ff(0x773)][_0x1023ff(0x3d2)]();if(_0x3096b9[_0x1023ff(0x19d)]>0x0){const _0x5a105b=_0x3096b9[0x0][_0x1023ff(0x405)]();_0x5a105b[_0x1023ff(0x635)]&&_0x5a105b[_0x1023ff(0x4b7)]&&(_0xdc566d={'width':_0x5a105b['width'],'height':_0x5a105b[_0x1023ff(0x4b7)]});}return _0xdc566d;}}class _0x35e991 extends _0x155584{[_0x32ddeb(0x713)];[_0x32ddeb(0x396)]=_0x16caec['MediaStreamPriority']['Default'];[_0x32ddeb(0x51f)]=new Map();[_0x32ddeb(0x4c5)]=new Map();constructor(_0xec2b57,_0x3085de,_0x112160,_0x2c0191){const _0x30605f=_0x32ddeb;super(_0xec2b57,_0x3085de,_0x112160 instanceof MediaStream?_0x112160:_0x112160['srcObject']?_0x112160[_0x30605f(0x657)]:_0x112160['captureStream']()),this[_0x30605f(0x713)]=_0x2c0191,this['mediaStream'][_0x30605f(0x6a3)]()[_0x30605f(0x801)](_0xc6fc30=>this[_0x30605f(0x539)](_0xc6fc30)),_0x1709c0[_0x30605f(0x46f)](_0x3e806f['MediaStream'],{'type':_0x30605f(0x7db),'label':this[_0x30605f(0x235)],'nodeId':this[_0x30605f(0x6d8)][_0x30605f(0x544)](),'nodeType':this['owner']['type'],'clusterId':this[_0x30605f(0x713)],'streamId':this['getInternalStreamId'](),'trackKinds':this[_0x30605f(0x773)][_0x30605f(0x6a3)]()[_0x30605f(0x1a1)](_0x2f49c1=>_0x2f49c1[_0x30605f(0x73d)])});}[_0x32ddeb(0x733)](){const _0x338f15=_0x32ddeb;this[_0x338f15(0x4c5)][_0x338f15(0x36a)]>0x0&&(this[_0x338f15(0x4c5)][_0x338f15(0x801)](_0x46bee2=>{const _0x1e7597=_0x338f15;_0x46bee2[_0x1e7597(0x443)](),_0x46bee2['destroy']();}),this['outgoingStreams'][_0x338f15(0x532)]()),this[_0x338f15(0x51f)][_0x338f15(0x801)](_0x38b304=>_0x38b304()),super[_0x338f15(0x733)]();}[_0x32ddeb(0x7db)](_0x166e2f){const _0xfbf40b=_0x32ddeb;this[_0xfbf40b(0x32e)][_0xfbf40b(0x7db)]({'sourceId':this[_0xfbf40b(0x6d8)]['getId'](),'destinationIds':_0x166e2f?[_0x166e2f]:void 0x0,'propagate':!0x0,'messageType':_0x16f8c2[_0xfbf40b(0x370)],'content':{'type':_0x36fe9a['PublishMediaStream'],'ownerId':this[_0xfbf40b(0x6d8)][_0xfbf40b(0x544)](),'label':this[_0xfbf40b(0x235)],'stream':{'streamId':this[_0xfbf40b(0x55b)](),'availableTrackKinds':this[_0xfbf40b(0x773)][_0xfbf40b(0x6a3)]()[_0xfbf40b(0x1a1)](_0x1fb631=>_0x1fb631[_0xfbf40b(0x73d)])}}});}[_0x32ddeb(0x625)](){const _0x3d4c98=_0x32ddeb;this['systemTopic'][_0x3d4c98(0x7db)]({'sourceId':this['owner'][_0x3d4c98(0x544)](),'propagate':!0x0,'messageType':_0x16f8c2['Content'],'content':{'type':_0x36fe9a[_0x3d4c98(0x469)],'ownerId':this[_0x3d4c98(0x6d8)][_0x3d4c98(0x544)](),'label':this['label']}}),this[_0x3d4c98(0x32e)]['publish']({'sourceId':_0x514c9c,'messageType':_0x16f8c2[_0x3d4c98(0x370)],'content':{'type':_0x36fe9a[_0x3d4c98(0x630)],'label':this[_0x3d4c98(0x235)]}}),_0x1709c0[_0x3d4c98(0x46f)](_0x3e806f[_0x3d4c98(0x1a6)],{'type':_0x3d4c98(0x625),'label':this[_0x3d4c98(0x235)],'nodeId':this[_0x3d4c98(0x6d8)][_0x3d4c98(0x544)](),'nodeType':this[_0x3d4c98(0x6d8)][_0x3d4c98(0x6a0)],'clusterId':this[_0x3d4c98(0x713)],'streamId':this[_0x3d4c98(0x55b)]()});}[_0x32ddeb(0x6bf)](){const _0x3f3da9=_0x32ddeb;return this[_0x3f3da9(0x396)];}['setPriority'](_0x22cc3e){const _0x5bab38=_0x32ddeb;this['priority']=_0x22cc3e,this[_0x5bab38(0x4c5)][_0x5bab38(0x801)](_0x5597b4=>_0x5597b4[_0x5bab38(0x703)](_0x22cc3e));}[_0x32ddeb(0x2bc)](_0x1303f2,_0xa49241){const _0x47998a=_0x32ddeb;if(!this['outgoingStreams'][_0x47998a(0x5ae)](_0x1303f2)){const _0x1ebdce=new _0x4a52a6(this[_0x47998a(0x6d8)],this[_0x47998a(0x235)],this[_0x47998a(0x773)],_0x1303f2,_0xa49241),_0x2555b2=_0x1ebdce[_0x47998a(0x62b)](()=>{const _0x4e98a9=_0x47998a;_0x2555b2(),this['outgoingStreams'][_0x4e98a9(0x798)](_0x1303f2)?.[_0x4e98a9(0x733)](),this[_0x4e98a9(0x4c5)][_0x4e98a9(0x27d)](_0x1303f2);});this['outgoingStreams'][_0x47998a(0x36d)](_0x1303f2,_0x1ebdce),_0x1ebdce[_0x47998a(0x7ff)](this[_0x47998a(0x32e)]);}return this['outgoingStreams'][_0x47998a(0x798)](_0x1303f2);}['getShareableStreamId'](){const _0x4313c1=_0x32ddeb;return this[_0x4313c1(0x773)]['id'];}[_0x32ddeb(0x797)](_0x2d4cfa){const _0x2bd0db=_0x32ddeb;this[_0x2bd0db(0x32e)][_0x2bd0db(0x7db)]({'sourceId':_0x514c9c,'messageType':_0x16f8c2[_0x2bd0db(0x370)],'content':{'type':_0x36fe9a[_0x2bd0db(0x402)],'label':this['label'],'trackKinds':[_0x2d4cfa['kind']]}});}[_0x32ddeb(0x539)](_0x30e3ec){const _0x17c9e9=_0x32ddeb,_0x595b65=()=>this[_0x17c9e9(0x797)](_0x30e3ec);_0x30e3ec[_0x17c9e9(0x78c)](_0x17c9e9(0x7ca),_0x595b65),_0x30e3ec[_0x17c9e9(0x78c)]('mute',_0x595b65),this[_0x17c9e9(0x51f)][_0x17c9e9(0x36d)](_0x30e3ec[_0x17c9e9(0x73d)],()=>{const _0x10a028=_0x17c9e9;_0x30e3ec[_0x10a028(0x2ac)](_0x10a028(0x7ca),_0x595b65),_0x30e3ec[_0x10a028(0x2ac)](_0x10a028(0x382),_0x595b65),this[_0x10a028(0x51f)]['delete'](_0x30e3ec[_0x10a028(0x73d)]);});}}class _0x1ac278 extends _0x35e991{[_0x32ddeb(0x642)];[_0x32ddeb(0x376)]=[];[_0x32ddeb(0x6d0)];[_0x32ddeb(0x1ba)];['audioDestination'];[_0x32ddeb(0x725)];['canvas'];[_0x32ddeb(0x239)];[_0x32ddeb(0x45a)];constructor(_0x228180,_0x1d26ed,_0x11b6b3,_0x28f1bf,_0x447aa9,_0x5003e3){const _0x1ae077=_0x32ddeb;if(super(_0x228180,_0x1d26ed,_0x11b6b3,_0x5003e3),this[_0x1ae077(0x642)]=_0x447aa9,this[_0x1ae077(0x6d0)]=this[_0x1ae077(0x773)],this[_0x1ae077(0x725)]=document[_0x1ae077(0x1ac)]('video'),this[_0x1ae077(0x725)][_0x1ae077(0x1a3)]=!0x0,this['sourceVideo']['muted']=!0x0,this[_0x1ae077(0x725)][_0x1ae077(0x657)]=this['clientStream'],this['sourceVideo'][_0x1ae077(0x30d)](),this['sourceVideo'][_0x1ae077(0x627)]=()=>{const _0x1a6c41=_0x1ae077;this[_0x1a6c41(0x725)][_0x1a6c41(0x422)]();},this[_0x1ae077(0x495)]=document['createElement']('canvas'),this[_0x1ae077(0x239)]=this['canvas'][_0x1ae077(0x6e2)]('2d'),this[_0x1ae077(0x773)]=this[_0x1ae077(0x495)][_0x1ae077(0x379)](_0x28f1bf),this[_0x1ae077(0x503)]=this['audioContext'][_0x1ae077(0x346)](),this[_0x1ae077(0x6d0)][_0x1ae077(0x2e2)]()[_0x1ae077(0x19d)]>0x0){const _0x32eac9=this['clientStream'][_0x1ae077(0x2e2)]()[0x0];this['audioSource']=this[_0x1ae077(0x642)][_0x1ae077(0x59d)](new MediaStream([_0x32eac9])),this[_0x1ae077(0x1ba)][_0x1ae077(0x2ef)](this[_0x1ae077(0x503)]);}const _0x16f008=this[_0x1ae077(0x503)][_0x1ae077(0x1e2)][_0x1ae077(0x6a3)]()[0x0];this[_0x1ae077(0x773)][_0x1ae077(0x368)](_0x16f008),this[_0x1ae077(0x45a)]=setInterval(()=>{const _0x4482fa=_0x1ae077;this[_0x4482fa(0x495)][_0x4482fa(0x635)]=this['sourceVideo'][_0x4482fa(0x563)],this[_0x4482fa(0x495)]['height']=this[_0x4482fa(0x725)][_0x4482fa(0x7d1)],this['sourceVideo'][_0x4482fa(0x563)]?(0x0!==this[_0x4482fa(0x6d0)][_0x4482fa(0x3d2)]()[_0x4482fa(0x19d)]&&this[_0x4482fa(0x6d0)][_0x4482fa(0x3d2)]()[0x0][_0x4482fa(0x549)]?this['mediaStream'][_0x4482fa(0x3d2)]()[0x0][_0x4482fa(0x549)]=!0x0:this[_0x4482fa(0x773)][_0x4482fa(0x3d2)]()[0x0]['enabled']=!0x1,0x0!==this['clientStream'][_0x4482fa(0x2e2)]()[_0x4482fa(0x19d)]&&this[_0x4482fa(0x6d0)][_0x4482fa(0x2e2)]()[0x0]['enabled']?this[_0x4482fa(0x773)][_0x4482fa(0x2e2)]()[0x0]['enabled']=!0x0:this[_0x4482fa(0x773)][_0x4482fa(0x2e2)]()[0x0][_0x4482fa(0x549)]=!0x1,this[_0x4482fa(0x239)]['drawImage'](this['sourceVideo'],0x0,0x0)):this[_0x4482fa(0x239)][_0x4482fa(0x5ba)](0x0,0x0,this[_0x4482fa(0x495)]['width'],this['canvas'][_0x4482fa(0x4b7)]);},0x3e8/_0x28f1bf);}['destroy'](){const _0x42fd22=_0x32ddeb;clearInterval(this[_0x42fd22(0x45a)]),this[_0x42fd22(0x725)][_0x42fd22(0x437)](),this[_0x42fd22(0x495)][_0x42fd22(0x437)](),this[_0x42fd22(0x1ba)]?.['disconnect'](),this[_0x42fd22(0x503)][_0x42fd22(0x232)](),this[_0x42fd22(0x773)][_0x42fd22(0x6a3)]()[_0x42fd22(0x801)](_0x4944d1=>{const _0x3c66f9=_0x42fd22;_0x4944d1[_0x3c66f9(0x403)](),this[_0x3c66f9(0x773)]['removeTrack'](_0x4944d1);}),super[_0x42fd22(0x733)]();}[_0x32ddeb(0x368)](_0x7f0d35){const _0x4af3a9=_0x32ddeb,_0x375f0c=this[_0x4af3a9(0x72c)](_0x7f0d35[_0x4af3a9(0x73d)]);_0x375f0c&&this[_0x4af3a9(0x304)](_0x375f0c),'audio'!==_0x7f0d35[_0x4af3a9(0x73d)]?(_0x4af3a9(0x6db)===_0x7f0d35[_0x4af3a9(0x73d)]&&this[_0x4af3a9(0x5a3)](_0x7f0d35),this[_0x4af3a9(0x539)](_0x7f0d35)):this[_0x4af3a9(0x53c)](_0x7f0d35);}[_0x32ddeb(0x304)](_0x469910){const _0x598d9c=_0x32ddeb,_0x3f58b7=this[_0x598d9c(0x4ba)](_0x469910);return _0x3f58b7&&(_0x598d9c(0x1ea)===_0x3f58b7[_0x598d9c(0x73d)]&&(this[_0x598d9c(0x1ba)]?.[_0x598d9c(0x232)](),this[_0x598d9c(0x1ba)]=void 0x0),this[_0x598d9c(0x51f)][_0x598d9c(0x798)](_0x3f58b7[_0x598d9c(0x73d)])?.(),this[_0x598d9c(0x6d0)][_0x598d9c(0x304)](_0x3f58b7)),_0x3f58b7;}[_0x32ddeb(0x3d4)](_0x20c34b){const _0x41075c=_0x32ddeb;this['removeTrack'](_0x20c34b[_0x41075c(0x73d)]),this['addTrack'](_0x20c34b);}[_0x32ddeb(0x2f7)](_0x2b8ef4){this['transformations']=_0x2b8ef4;}[_0x32ddeb(0x72c)](_0x1dda6f){const _0x2a1a8e=_0x32ddeb;return this[_0x2a1a8e(0x6d0)][_0x2a1a8e(0x6a3)]()[_0x2a1a8e(0x323)](_0xef2a3a=>_0xef2a3a[_0x2a1a8e(0x73d)]===_0x1dda6f)||null;}[_0x32ddeb(0x4ba)](_0x4e7c3b){const _0x22bbfc=_0x32ddeb;return'string'==typeof _0x4e7c3b?this[_0x22bbfc(0x72c)](_0x4e7c3b):_0x4e7c3b;}[_0x32ddeb(0x53c)](_0xf7758f){const _0x3e7a21=_0x32ddeb;_0x3e7a21(0x1f3)===this[_0x3e7a21(0x642)][_0x3e7a21(0x3b3)]&&this[_0x3e7a21(0x642)][_0x3e7a21(0x7df)](),this[_0x3e7a21(0x6d0)][_0x3e7a21(0x368)](_0xf7758f),this[_0x3e7a21(0x1ba)]=this[_0x3e7a21(0x642)][_0x3e7a21(0x59d)](this[_0x3e7a21(0x6d0)]),this[_0x3e7a21(0x1ba)]['connect'](this[_0x3e7a21(0x503)]);}['addVideoTrack'](_0x29b9c1){const _0x5dd3fd=_0x32ddeb;this[_0x5dd3fd(0x6d0)]['addTrack'](_0x29b9c1),this[_0x5dd3fd(0x725)][_0x5dd3fd(0x30d)]();}}class _0x22fd5c extends _0x35e991{}class _0xd7a7a6 extends _0x590966{['localNode'];[_0x32ddeb(0x713)];[_0x32ddeb(0x3ce)];[_0x32ddeb(0x230)];[_0x32ddeb(0x4bb)];['lastTransactionId'];[_0x32ddeb(0x51c)]=new Map();['objectRequests']=new Map();[_0x32ddeb(0x7a0)]=new Map();['pendingFilesTransactions']=new Map();[_0x32ddeb(0x48a)]=new Map();[_0x32ddeb(0x6d7)];['eventListener']=_0x70c74f();[_0x32ddeb(0x17b)];[_0x32ddeb(0x584)];[_0x32ddeb(0x3d3)]=0x0;[_0x32ddeb(0x61a)]=0x0;[_0x32ddeb(0x6ef)]=!0x1;[_0x32ddeb(0x675)]=!0x0;constructor(_0x4d5830,_0x5b057e,_0x234c63,_0x3f4fcb,_0x30cf0b,_0x370c6a){const _0x4e706a=_0x32ddeb;if('string'!=typeof _0x5b057e)throw new _0x56574a(_0x2379f6['ObjectStoreNameNotString'],_0x4e706a(0x18e));super(_0x4d5830,_0x5b057e),this[_0x4e706a(0x7a2)]=_0x4d5830,this[_0x4e706a(0x713)]=_0x234c63,this[_0x4e706a(0x3ce)]=_0x3f4fcb,this['transactionService']=_0x30cf0b;const _0x3fdf42=_0x4e706a(0x514)+this[_0x4e706a(0x3ce)]+_0x4e706a(0x514)+this[_0x4e706a(0x713)]+_0x4e706a(0x514)+_0x5b057e;this[_0x4e706a(0x6d7)]=new _0x370c6a(_0x3fdf42),this['sendStats']();}[_0x32ddeb(0x2e9)](){this['sendStats']();}[_0x32ddeb(0x373)](){const _0x3a9ba2=_0x32ddeb;return _0x16caec['ContentType'][_0x3a9ba2(0x320)];}async[_0x32ddeb(0x407)](_0x485b3d){const _0x73644d=_0x32ddeb;_0x485b3d&&(this[_0x73644d(0x6ef)]=_0x485b3d),this[_0x73644d(0x675)]=!0x0;try{const _0x593fa3=await this[_0x73644d(0x6d7)][_0x73644d(0x798)](_0x3bdcb4),_0x223dbc=await _0x593fa3[_0x73644d(0x355)]();this[_0x73644d(0x7a8)]=_0x223dbc;}catch(_0x4931fe){}this[_0x73644d(0x4bb)]=this[_0x73644d(0x249)](async(_0x8eb30e,_0x7537a5)=>{const _0x130206=_0x73644d;if(!(_0x7537a5 instanceof File))try{if(_0x7537a5[_0x130206(0x2d5)]===_0x8ba912['Request'])return void this['handleRequestPayload'](_0x7537a5);this[_0x130206(0x546)](_0x7537a5);}catch(_0x4d4a9c){if(_0x4d4a9c instanceof _0x4daf03)throw _0x4d4a9c;throw new _0x4daf03(_0x4daf03[_0x130206(0x719)][_0x130206(0x305)],{'payload':_0x7537a5});}}),await this[_0x73644d(0x2e4)](),_0x485b3d?await this[_0x73644d(0x80d)]():this['completeSync'](),this[_0x73644d(0x614)]();}['destroy'](){const _0x5858ac=_0x32ddeb;this[_0x5858ac(0x4bb)]?.(),clearTimeout(this[_0x5858ac(0x584)]),delete this['debounceStats'],super['destroy']();}['close'](){const _0xf57a74=_0x32ddeb;this[_0xf57a74(0x32e)]?.[_0xf57a74(0x7db)]({'sourceId':_0x514c9c,'messageType':_0x16f8c2[_0xf57a74(0x370)],'content':{'type':_0x36fe9a[_0xf57a74(0x216)],'label':this[_0xf57a74(0x235)]}});}[_0x32ddeb(0x558)](_0x47bedc){const _0x4a503b=_0x32ddeb;if(this[_0x4a503b(0x17b)])throw new _0x56574a(_0x2379f6[_0x4a503b(0x425)],'Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed');this[_0x4a503b(0x17b)]=this['eventListener'][_0x4a503b(0x558)](_0x47bedc),this['isSyncing']||this[_0x4a503b(0x6af)]['publish']({'event':_0x16caec[_0x4a503b(0x6f3)]['SyncComplete'],'payload':null});}['unsubscribe'](){const _0x551491=_0x32ddeb;this['listenerUnsubscriber']?.(),this[_0x551491(0x17b)]=void 0x0;}[_0x32ddeb(0x7db)](_0x20fa53){const _0x33b60c=_0x32ddeb;switch(_0x20fa53[_0x33b60c(0x308)]){case _0x16caec['PayloadAction']['File']:return this[_0x33b60c(0x63f)](_0x20fa53[_0x33b60c(0x4ab)],_0x20fa53['path'],_0x20fa53['skipEncryption']);case _0x16caec['PayloadAction'][_0x33b60c(0x1b3)]:return this[_0x33b60c(0x2c1)](_0x20fa53['path']);case _0x16caec[_0x33b60c(0x685)][_0x33b60c(0x46d)]:return this[_0x33b60c(0x4a1)](_0x20fa53[_0x33b60c(0x7b8)],_0x20fa53['newPath']);default:throw new _0x56574a(_0x2379f6[_0x33b60c(0x3dc)],_0x33b60c(0x1ee)+_0x20fa53);}}async[_0x32ddeb(0x625)](_0x4f7c9e){const _0x188b9c=_0x32ddeb;try{const _0x5529fe=(0x0,_0x3b9a63['v4'])(),_0x50e15b=this[_0x188b9c(0x7a8)],_0x46a155={'payloadType':_0x8ba912[_0x188b9c(0x54c)],'action':_0x2f047a[_0x188b9c(0x57b)],'id':_0x5529fe,'parentId':_0x50e15b,'path':_0x4f7c9e};await this[_0x188b9c(0x1da)](_0x46a155);const _0x49ed11=await this[_0x188b9c(0x3c7)](_0x4f7c9e);await this['send'](_0x46a155),_0x1709c0[_0x188b9c(0x46f)](_0x3e806f['ObjectStorage'],{'type':_0x188b9c(0x625),'label':this['label'],'nodeId':this[_0x188b9c(0x7a2)][_0x188b9c(0x544)](),'nodeType':this['localNode'][_0x188b9c(0x6a0)],'clusterId':this['clusterId'],'kind':_0x49ed11,'path':_0x4f7c9e}),this['writes']+=0x1,this[_0x188b9c(0x614)]();}catch(_0x221e78){if(_0x221e78 instanceof _0x4daf03)throw new _0x56574a(_0x2379f6[_0x188b9c(0x761)],_0x188b9c(0x317));throw new _0x56574a(_0x2379f6[_0x188b9c(0x6b8)],_0x188b9c(0x5fb)+_0x4f7c9e);}}async['get'](_0x45f4da){const _0x56de7=_0x32ddeb;_0x1709c0[_0x56de7(0x46f)](_0x3e806f[_0x56de7(0x7ce)],{'type':_0x56de7(0x798),'label':this[_0x56de7(0x235)],'nodeId':this[_0x56de7(0x7a2)][_0x56de7(0x544)](),'nodeType':this[_0x56de7(0x7a2)][_0x56de7(0x6a0)],'clusterId':this[_0x56de7(0x713)],'path':_0x45f4da}),this['reads']+=0x1,this[_0x56de7(0x614)]();try{return await this['objectStoreConnector'][_0x56de7(0x798)](_0x45f4da);}catch(_0x3711bf){try{await this[_0x56de7(0x6d7)][_0x56de7(0x798)](_0x45f4da+_0x288b3b);}catch(_0x4431fa){throw new _0x56574a(_0x2379f6[_0x56de7(0x6b8)],_0x56de7(0x740)+_0x45f4da);}throw new _0x56574a(_0x2379f6[_0x56de7(0x761)],_0x56de7(0x332));}}async[_0x32ddeb(0x79a)](_0x95188,_0x240a25){const _0x277c59=_0x32ddeb,{recursive:_0x11cd02=!0x1,includeSyncingFiles:_0x56e9aa=!0x1}=_0x240a25??{};_0x1709c0['logServiceEvent'](_0x3e806f[_0x277c59(0x7ce)],{'type':_0x277c59(0x79a),'label':this[_0x277c59(0x235)],'nodeId':this[_0x277c59(0x7a2)][_0x277c59(0x544)](),'nodeType':this[_0x277c59(0x7a2)][_0x277c59(0x6a0)],'clusterId':this[_0x277c59(0x713)],'path':_0x95188}),this[_0x277c59(0x61a)]+=0x1,this['sendStats']();try{const _0x2fb191=await this[_0x277c59(0x6d7)][_0x277c59(0x79a)](_0x95188,_0x11cd02);return this['processList'](_0x2fb191,{'recursive':_0x11cd02,'includeSyncingFiles':_0x56e9aa});}catch(_0x48f7d1){throw new _0x56574a(_0x2379f6[_0x277c59(0x6b8)],'Cannot\x20list\x20directory:\x20'+_0x95188);}}[_0x32ddeb(0x7fe)](_0x166972){const _0x3cff87=_0x32ddeb;for(const _0x16347f of this[_0x3cff87(0x74e)][_0x3cff87(0x693)]())this['send'](_0x16347f,[_0x166972]);}[_0x32ddeb(0x5ce)](_0x1d0f28){const _0x41a7a2=_0x32ddeb,_0xd933fd=this['pendingFilesSyncing'][_0x41a7a2(0x798)](_0x1d0f28);if(_0xd933fd){for(const [_0x18bf73,_0x5800a0]of _0xd933fd['values']())this[_0x41a7a2(0x2b1)](_0x18bf73,_0x5800a0);this[_0x41a7a2(0x7a0)][_0x41a7a2(0x27d)](_0x1d0f28);}}['completeSync'](){const _0x379fea=_0x32ddeb;this['isSyncing']&&(this[_0x379fea(0x675)]=!0x1,this['eventListener'][_0x379fea(0x7db)]({'event':_0x16caec[_0x379fea(0x6f3)][_0x379fea(0x7ad)],'payload':null}));}async[_0x32ddeb(0x75b)](_0x5ff1dc,{includeSyncingFiles:_0x2ebea9=!0x1}){const _0x573a21=_0x32ddeb;for(const _0x92c457 of _0x5ff1dc)if(_0x92c457['kind']===_0x16caec[_0x573a21(0x6a8)][_0x573a21(0x1b3)]&&(_0x92c457[_0x573a21(0x2a9)]=await this[_0x573a21(0x75b)](_0x92c457[_0x573a21(0x2a9)]??[],{'includeSyncingFiles':_0x2ebea9})),_0x92c457[_0x573a21(0x473)]!==_0x3bdcb4){if(_0x92c457[_0x573a21(0x473)][_0x573a21(0x33e)](_0x288b3b)){if(!_0x2ebea9){_0x5ff1dc[_0x573a21(0x1a5)](_0x5ff1dc[_0x573a21(0x256)](_0x92c457),0x1);continue;}const _0x48212c=_0x92c457;if(_0x48212c[_0x573a21(0x473)]=_0x48212c['name'][_0x573a21(0x3b2)](_0x288b3b,''),_0x48212c[_0x573a21(0x73a)]=_0x48212c[_0x573a21(0x473)]['replace'](_0x288b3b,''),await this['syncedFileExists'](_0x48212c[_0x573a21(0x73a)])){_0x5ff1dc['splice'](_0x5ff1dc[_0x573a21(0x256)](_0x92c457),0x1),_0x5ff1dc[_0x573a21(0x323)](_0x2543ce=>_0x2543ce[_0x573a21(0x73a)]===_0x48212c[_0x573a21(0x73a)])[_0x573a21(0x5b1)]=_0x16caec[_0x573a21(0x415)][_0x573a21(0x809)];continue;}_0x48212c[_0x573a21(0x5b1)]=_0x16caec[_0x573a21(0x415)][_0x573a21(0x1c8)];}}else _0x5ff1dc[_0x573a21(0x1a5)](_0x5ff1dc[_0x573a21(0x256)](_0x92c457),0x1);return _0x5ff1dc;}async[_0x32ddeb(0x63f)](_0x3d9baf,_0x353c5f,_0x5b53cb=!0x1){const _0x414178=_0x32ddeb;try{const _0x58a2a8=(0x0,_0x3b9a63['v4'])(),_0x1b1886=await _0x3cbb1e(_0x3d9baf),_0x177145={'payloadType':_0x8ba912['Transaction'],'action':_0x2f047a[_0x414178(0x755)],'id':_0x58a2a8,'parentId':this[_0x414178(0x7a8)],'answererId':this[_0x414178(0x7a2)]['getId'](),'name':_0x3d9baf[_0x414178(0x473)],'type':_0x3d9baf[_0x414178(0x6a0)],'path':_0x353c5f??'/','skipEncryption':_0x5b53cb,'checksum':_0x1b1886};await this[_0x414178(0x1da)](_0x177145),this['syncContent']?await this[_0x414178(0x5a7)](_0x3d9baf,_0x353c5f,_0x5b53cb):await this[_0x414178(0x34c)](_0x3d9baf[_0x414178(0x473)],_0x353c5f??'/',{'checksum':_0x1b1886,'skipEncryption':_0x5b53cb}),await this[_0x414178(0x4de)](_0x3d9baf,_0x177145),_0x1709c0[_0x414178(0x46f)](_0x3e806f[_0x414178(0x7ce)],{'type':'publish','label':this[_0x414178(0x235)],'nodeId':this['localNode'][_0x414178(0x544)](),'nodeType':this[_0x414178(0x7a2)][_0x414178(0x6a0)],'clusterId':this[_0x414178(0x713)],'kind':_0x16caec[_0x414178(0x6a8)]['File'],'path':_0x353c5f,'fileName':_0x3d9baf['name'],'fileType':_0x3d9baf[_0x414178(0x6a0)],'size':_0x3d9baf[_0x414178(0x36a)]}),this[_0x414178(0x3d3)]+=0x1,this[_0x414178(0x614)]();}catch(_0x3675ee){if(_0x3675ee instanceof _0x4daf03)throw new _0x56574a(_0x2379f6['ObjectStoreNotInSync'],_0x414178(0x332));throw new _0x56574a(_0x2379f6[_0x414178(0x6b8)],_0x414178(0x4a0)+_0x353c5f);}}async[_0x32ddeb(0x2c1)](_0x502dca){const _0x5b588a=_0x32ddeb;try{const _0x5e9f37=(0x0,_0x3b9a63['v4'])(),_0x5755c0=this[_0x5b588a(0x7a8)],_0x4b538f={'payloadType':_0x8ba912[_0x5b588a(0x54c)],'action':_0x2f047a[_0x5b588a(0x712)],'id':_0x5e9f37,'parentId':_0x5755c0,'path':_0x502dca};await this[_0x5b588a(0x1da)](_0x4b538f),await this['objectStoreConnector']['createFolder'](_0x502dca),await this['send'](_0x4b538f),_0x1709c0[_0x5b588a(0x46f)](_0x3e806f[_0x5b588a(0x7ce)],{'type':_0x5b588a(0x7db),'label':this['label'],'nodeId':this[_0x5b588a(0x7a2)]['getId'](),'nodeType':this[_0x5b588a(0x7a2)]['type'],'clusterId':this[_0x5b588a(0x713)],'kind':_0x16caec[_0x5b588a(0x6a8)]['Folder'],'path':_0x502dca}),this['writes']+=0x1,this['sendStats']();}catch(_0x41ef48){if(_0x41ef48 instanceof _0x4daf03)throw new _0x56574a(_0x2379f6['ObjectStoreNotInSync'],'Object\x20store\x20is\x20not\x20in\x20sync');throw new _0x56574a(_0x2379f6[_0x5b588a(0x6b8)],_0x5b588a(0x5c3)+_0x502dca);}}async[_0x32ddeb(0x4a1)](_0x3ba5c4,_0x2f3681){const _0x4ce8fd=_0x32ddeb;try{const _0x59f868=(0x0,_0x3b9a63['v4'])(),_0x594419=this[_0x4ce8fd(0x7a8)],_0x1fe782={'payloadType':_0x8ba912[_0x4ce8fd(0x54c)],'action':_0x2f047a[_0x4ce8fd(0x46d)],'id':_0x59f868,'parentId':_0x594419,'path':_0x3ba5c4,'newPath':_0x2f3681};await this[_0x4ce8fd(0x1da)](_0x1fe782);const _0x31fb07=await this['moveObject'](_0x3ba5c4,_0x2f3681);await this[_0x4ce8fd(0x5a2)](_0x1fe782),_0x1709c0['logServiceEvent'](_0x3e806f[_0x4ce8fd(0x7ce)],{'type':_0x4ce8fd(0x40e),'label':this[_0x4ce8fd(0x235)],'nodeId':this[_0x4ce8fd(0x7a2)]['getId'](),'nodeType':this[_0x4ce8fd(0x7a2)][_0x4ce8fd(0x6a0)],'clusterId':this[_0x4ce8fd(0x713)],'kind':_0x31fb07,'path':_0x3ba5c4,'newPath':_0x2f3681}),this[_0x4ce8fd(0x3d3)]+=0x1,this[_0x4ce8fd(0x614)]();}catch(_0x1d2a0f){if(_0x1d2a0f instanceof _0x4daf03)throw new _0x56574a(_0x2379f6[_0x4ce8fd(0x761)],'Object\x20store\x20is\x20not\x20in\x20sync');throw new _0x56574a(_0x2379f6[_0x4ce8fd(0x6b8)],_0x4ce8fd(0x80b)+_0x3ba5c4);}}async[_0x32ddeb(0x546)](_0x452aad,_0x1c3537=!0x1){const _0x4e19bf=_0x32ddeb;if(this[_0x4e19bf(0x7a8)]&&_0x452aad[_0x4e19bf(0x228)]!==this[_0x4e19bf(0x7a8)]&&_0x452aad['id']!==this[_0x4e19bf(0x7a8)]){if(!_0x452aad['parentId'])throw new _0x4daf03(_0x4daf03[_0x4e19bf(0x719)]['ObjectStoreInvalidSyncMessage']);this[_0x4e19bf(0x51c)][_0x4e19bf(0x36d)](_0x452aad[_0x4e19bf(0x228)],_0x452aad);}else{try{await this[_0x4e19bf(0x688)](_0x452aad,_0x1c3537);}catch(_0x105102){}await this[_0x4e19bf(0x774)](_0x452aad['id']),await this[_0x4e19bf(0x73b)](_0x452aad['id'],_0x1c3537);}}async[_0x32ddeb(0x688)](_0x3cc439,_0x341ba8=!0x1){const _0x1961c0=_0x32ddeb;switch(_0x3cc439[_0x1961c0(0x308)]){case _0x2f047a[_0x1961c0(0x755)]:await this[_0x1961c0(0x1b2)](_0x3cc439);break;case _0x2f047a[_0x1961c0(0x712)]:await this[_0x1961c0(0x7cb)](_0x3cc439);break;case _0x2f047a['Move']:await this['handleObjectMove'](_0x3cc439,_0x341ba8);break;case _0x2f047a['Delete']:await this[_0x1961c0(0x220)](_0x3cc439,_0x341ba8);break;default:throw new _0x4daf03(_0x4daf03[_0x1961c0(0x719)]['ObjectStoreInvalidSyncMessage'],{'payload':_0x3cc439});}}async[_0x32ddeb(0x73b)](_0x452870,_0x54ef55=!0x1){const _0xa96e42=_0x32ddeb;if(this['pendingSyncTransactions']['has'](_0x452870)){const _0x3134ed=this[_0xa96e42(0x51c)][_0xa96e42(0x798)](_0x452870);this[_0xa96e42(0x51c)]['delete'](_0x452870),await this[_0xa96e42(0x546)](_0x3134ed,_0x54ef55);}}async['handleRequestPayload'](_0x59f829){const _0x5031b6=_0x32ddeb;switch(_0x59f829['action']){case _0x2f047a[_0x5031b6(0x397)]:return this[_0x5031b6(0x3b6)](_0x59f829);case _0x2f047a[_0x5031b6(0x5cb)]:return this[_0x5031b6(0x4a5)](_0x59f829);case _0x2f047a[_0x5031b6(0x66d)]:return this[_0x5031b6(0x2a2)](_0x59f829);case _0x2f047a[_0x5031b6(0x4e4)]:return this[_0x5031b6(0x1b2)](_0x59f829);default:throw new _0x4daf03(_0x4daf03['codes']['ObjectStoreInvalidSyncMessage'],{'payload':_0x59f829});}}async[_0x32ddeb(0x1b2)](_0x3f11bf){const _0x528cf8=_0x32ddeb;if(!_0x3f11bf[_0x528cf8(0x777)]||void 0x0===_0x3f11bf[_0x528cf8(0x696)]||!_0x3f11bf['total'])return void await this[_0x528cf8(0x34c)](_0x3f11bf['name'],_0x3f11bf[_0x528cf8(0x7b8)],{'checksum':_0x3f11bf['checksum'],'skipEncryption':_0x3f11bf[_0x528cf8(0x7d8)]});const _0x361ea4=_0x1c156a(_0x3f11bf['path'],_0x3f11bf[_0x528cf8(0x473)]);this[_0x528cf8(0x583)][_0x528cf8(0x5ae)](_0x361ea4)||(this[_0x528cf8(0x583)][_0x528cf8(0x36d)](_0x361ea4,[]),await this['createPendingFileWrite'](_0x3f11bf['name'],_0x3f11bf[_0x528cf8(0x7b8)],{'checksum':_0x3f11bf[_0x528cf8(0x296)],'skipEncryption':_0x3f11bf['skipEncryption']})),this[_0x528cf8(0x6ff)](_0x3f11bf,_0x361ea4);const _0xebe6c=this[_0x528cf8(0x583)][_0x528cf8(0x798)](_0x361ea4);if(_0xebe6c[_0x3f11bf[_0x528cf8(0x696)]]=_0x3f11bf['data'],_0xebe6c['filter'](_0x642ca9=>_0x642ca9)['length']<_0x3f11bf[_0x528cf8(0x27a)])return;const _0x415269=_0x111b82(_0xebe6c,_0x3f11bf['name'],_0x3f11bf[_0x528cf8(0x6a0)]);this['syncContent']&&(await this['writeFile'](_0x415269,_0x3f11bf[_0x528cf8(0x7b8)],_0x3f11bf[_0x528cf8(0x7d8)]),await this[_0x528cf8(0x5b4)](_0x3f11bf),_0x1709c0[_0x528cf8(0x46f)](_0x3e806f[_0x528cf8(0x7ce)],{'type':_0x528cf8(0x407),'label':this[_0x528cf8(0x235)],'nodeId':this[_0x528cf8(0x7a2)][_0x528cf8(0x544)](),'nodeType':this['localNode']['type'],'clusterId':this['clusterId'],'kind':_0x16caec['ObjectKind'][_0x528cf8(0x39d)],'path':_0x3f11bf[_0x528cf8(0x7b8)],'fileName':_0x3f11bf[_0x528cf8(0x473)],'fileType':_0x3f11bf[_0x528cf8(0x6a0)],'size':_0x415269[_0x528cf8(0x36a)]})),this[_0x528cf8(0x583)][_0x528cf8(0x27d)](_0x361ea4);const _0x26ed61=this[_0x528cf8(0x1ff)][_0x528cf8(0x798)](_0x3f11bf[_0x528cf8(0x7b8)])??[];for(const _0x468117 of _0x26ed61)await this['processTransactionPayload'](_0x468117);this[_0x528cf8(0x1ff)][_0x528cf8(0x27d)](_0x3f11bf[_0x528cf8(0x7b8)]),this[_0x528cf8(0x6af)][_0x528cf8(0x7db)]({'event':_0x16caec[_0x528cf8(0x6f3)]['FileWrite'],'payload':{'file':{'kind':_0x16caec[_0x528cf8(0x6a8)][_0x528cf8(0x39d)],'path':_0x3f11bf[_0x528cf8(0x7b8)],'type':_0x415269[_0x528cf8(0x6a0)],'size':_0x415269[_0x528cf8(0x36a)],'name':_0x3f11bf[_0x528cf8(0x473)],'pathName':_0x361ea4,'status':_0x16caec['FileStatus']['Synced']}}});}async[_0x32ddeb(0x7cb)](_0x4e7369){const _0x5a5170=_0x32ddeb;await this['objectStoreConnector'][_0x5a5170(0x289)](_0x4e7369[_0x5a5170(0x7b8)]);const [_0x585ec9,_0x185c95]=_0x201aac(_0x4e7369[_0x5a5170(0x7b8)]);this[_0x5a5170(0x6af)]['publish']({'event':_0x16caec['StorageEventType']['FolderCreate'],'payload':{'folder':{'kind':_0x16caec[_0x5a5170(0x6a8)][_0x5a5170(0x1b3)],'name':_0x185c95,'path':_0x585ec9,'pathName':_0x4e7369['path']}}});}async[_0x32ddeb(0x220)](_0x42b307,_0xff1834=!0x1){const _0x3ec066=_0x32ddeb;if(!_0xff1834&&!this[_0x3ec066(0x60b)](_0x42b307))return;const _0x3f7b90=await this[_0x3ec066(0x3c7)](_0x42b307[_0x3ec066(0x7b8)]),[_0xdedf7e,_0x120c2d]=_0x201aac(_0x42b307['path']);this[_0x3ec066(0x6af)][_0x3ec066(0x7db)]({'event':_0x3f7b90===_0x16caec[_0x3ec066(0x6a8)][_0x3ec066(0x1b3)]?_0x16caec[_0x3ec066(0x6f3)]['FolderDelete']:_0x16caec[_0x3ec066(0x6f3)][_0x3ec066(0x185)],'payload':{'name':_0x120c2d,'path':_0xdedf7e,'pathName':_0x42b307[_0x3ec066(0x7b8)]}});}async[_0x32ddeb(0x796)](_0x5f1afc,_0x65b464=!0x1){const _0x3e7844=_0x32ddeb;if(!_0x65b464&&!this[_0x3e7844(0x60b)](_0x5f1afc))return this[_0x3e7844(0x48a)][_0x3e7844(0x36d)](_0x5f1afc[_0x3e7844(0x219)],this[_0x3e7844(0x48a)][_0x3e7844(0x798)](_0x5f1afc[_0x3e7844(0x7b8)])??_0x5f1afc[_0x3e7844(0x7b8)]),void this[_0x3e7844(0x48a)][_0x3e7844(0x27d)](_0x5f1afc[_0x3e7844(0x7b8)]);this[_0x3e7844(0x48a)]['delete'](_0x5f1afc['path']);const _0x22910e=await this[_0x3e7844(0x6d7)][_0x3e7844(0x23b)](_0x5f1afc['path'],_0x5f1afc[_0x3e7844(0x219)]),[_0x541fe0,_0x4a8060]=_0x201aac(_0x5f1afc['path']),[_0x5beb58,_0x5d97bd]=_0x201aac(_0x5f1afc[_0x3e7844(0x219)]);this[_0x3e7844(0x6af)]['publish']({'event':_0x22910e===_0x16caec[_0x3e7844(0x6a8)]['Folder']?_0x16caec[_0x3e7844(0x6f3)][_0x3e7844(0x730)]:_0x16caec[_0x3e7844(0x6f3)][_0x3e7844(0x194)],'payload':{'name':_0x5d97bd,'path':_0x5beb58,'pathName':_0x5f1afc[_0x3e7844(0x219)],'oldName':_0x4a8060,'oldPath':_0x541fe0,'oldPathName':_0x5f1afc['path']}});}[_0x32ddeb(0x60b)](_0x244b81){const _0x4d263b=_0x32ddeb,_0x45d6a7=this[_0x4d263b(0x48a)][_0x4d263b(0x798)](_0x244b81[_0x4d263b(0x7b8)])??_0x244b81[_0x4d263b(0x7b8)];let _0x219b91=!0x1;for(const _0x2f2560 of this['fileChunks'][_0x4d263b(0x79b)]())if(_0x2f2560[_0x4d263b(0x6ab)](_0x45d6a7)){const _0x11b553=this[_0x4d263b(0x1ff)]['get'](_0x2f2560)??[];_0x11b553[_0x4d263b(0x6f1)](_0x244b81),this[_0x4d263b(0x1ff)][_0x4d263b(0x36d)](_0x2f2560,_0x11b553),_0x219b91=!0x0;}return!_0x219b91;}async['publishTransaction'](_0x1d4b0a){const _0x36c225=_0x32ddeb;if(!_0x1d4b0a['id'])throw new _0x4daf03(_0x4daf03['codes'][_0x36c225(0x305)],{'message':_0x36c225(0x1fc)});await this[_0x36c225(0x230)][_0x36c225(0x2f2)](_0x1d4b0a,this[_0x36c225(0x235)],this[_0x36c225(0x7a8)]),await this[_0x36c225(0x774)](_0x1d4b0a['id']);}async[_0x32ddeb(0x774)](_0x4613b2){const _0x24fa2f=_0x32ddeb;this[_0x24fa2f(0x7a8)]=_0x4613b2;const _0x35a568=new File([new Blob([this[_0x24fa2f(0x7a8)]])],_0x3bdcb4,{'type':'text/plain'});await this[_0x24fa2f(0x5a7)](_0x35a568,'/');}async['handleFileRequest'](_0x175b31){const _0x3e96f2=_0x32ddeb;try{const _0x5f4a55=await this[_0x3e96f2(0x798)](_0x175b31[_0x3e96f2(0x7b8)]+'/'+_0x175b31[_0x3e96f2(0x473)]);if(await _0x3cbb1e(_0x5f4a55)!==_0x175b31[_0x3e96f2(0x296)])return;_0x175b31['answererId']=this[_0x3e96f2(0x7a2)][_0x3e96f2(0x544)](),_0x175b31[_0x3e96f2(0x308)]=_0x2f047a[_0x3e96f2(0x5cb)],await this['send'](_0x175b31,[_0x175b31[_0x3e96f2(0x1ad)]]);}catch(_0x12a9fe){}}async[_0x32ddeb(0x4a5)](_0x5677a9){const _0x1b3171=_0x32ddeb,_0x213550=_0x1c156a(_0x5677a9[_0x1b3171(0x7b8)],_0x5677a9['name']);if(!this[_0x1b3171(0x74e)]['has'](_0x213550))return;const _0x710e9=this['objectRequests'][_0x1b3171(0x798)](_0x213550);_0x710e9['action']=_0x2f047a[_0x1b3171(0x66d)];const _0x33d5f3=_0x5677a9['answererId'];if(!_0x33d5f3)throw new _0x4daf03(_0x4daf03['codes'][_0x1b3171(0x305)],{'message':_0x1b3171(0x2b7)});this[_0x1b3171(0x74e)][_0x1b3171(0x27d)](_0x213550),this[_0x1b3171(0x7a0)][_0x1b3171(0x5ae)](_0x33d5f3)||this['pendingFilesSyncing'][_0x1b3171(0x36d)](_0x33d5f3,new Map()),this['pendingFilesSyncing']['get'](_0x33d5f3)[_0x1b3171(0x36d)](_0x213550,[_0x710e9,this['getOrResetPendingFileTimeout'](_0x33d5f3,_0x213550)]),_0x710e9['answererId']=_0x33d5f3,this[_0x1b3171(0x5a2)](_0x710e9,[_0x33d5f3]);}async['handleFileSync'](_0x4e0e83){const _0x5f2b39=_0x32ddeb,_0x2f53cb=_0x1c156a(_0x4e0e83['path'],_0x4e0e83['name']),_0x5e6b0a=await this[_0x5f2b39(0x798)](_0x2f53cb),_0x570c2e={..._0x4e0e83,'answererId':this[_0x5f2b39(0x7a2)][_0x5f2b39(0x544)](),'action':_0x2f047a[_0x5f2b39(0x4e4)]};await this[_0x5f2b39(0x4de)](_0x5e6b0a,_0x570c2e,[_0x4e0e83[_0x5f2b39(0x1ad)]]);}async[_0x32ddeb(0x4de)](_0x5b760a,_0x5d6548,_0x4503be){const _0x42d41e=_0x32ddeb,_0x19921a=await _0x1ce271(_0x5b760a);for(const [_0x5182ff,_0x5daa19]of _0x19921a[_0x42d41e(0x2a9)]()){const _0x27c7a9={..._0x5d6548,'type':_0x5b760a[_0x42d41e(0x6a0)],'data':_0x5daa19,'index':_0x5182ff,'total':_0x19921a[_0x42d41e(0x19d)]};this['send'](_0x27c7a9,_0x4503be);}}async[_0x32ddeb(0x5b4)](_0x133b86){const _0xcd06f4=_0x32ddeb;try{const _0x2ed29b=_0x1c156a(_0x133b86['path'],_0x133b86['name']),_0x3d61e9=_0x2ed29b+_0x288b3b;await this[_0xcd06f4(0x3c7)](_0x3d61e9);const [,_0x5517e0]=this[_0xcd06f4(0x7a0)][_0xcd06f4(0x798)](_0x133b86[_0xcd06f4(0x398)])?.[_0xcd06f4(0x798)](_0x2ed29b)??[];_0x5517e0&&(clearTimeout(_0x5517e0),this[_0xcd06f4(0x7a0)][_0xcd06f4(0x798)](_0x133b86['answererId'])['delete'](_0x2ed29b));}catch(_0x162474){}0x0===this[_0xcd06f4(0x7a0)][_0xcd06f4(0x798)](_0x133b86[_0xcd06f4(0x398)])?.[_0xcd06f4(0x36a)]&&this[_0xcd06f4(0x7a0)][_0xcd06f4(0x27d)](_0x133b86[_0xcd06f4(0x398)]),0x0===this[_0xcd06f4(0x7a0)]['size']&&0x0===this['objectRequests']['size']&&this[_0xcd06f4(0x21d)]();}async[_0x32ddeb(0x2e4)](){const _0x50dc89=_0x32ddeb,_0x5ff38e=await this[_0x50dc89(0x230)][_0x50dc89(0x20e)](this[_0x50dc89(0x235)],this[_0x50dc89(0x7a8)]);for(const _0x3cab4e of _0x5ff38e)await this['handleTransactionPayload'](_0x3cab4e,!0x0);}async[_0x32ddeb(0x80d)](){const _0x1a670e=_0x32ddeb,_0x4b0ff2=await this[_0x1a670e(0x79a)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x0}),_0x353684=async _0x5afe17=>{const _0x33e1e2=_0x1a670e;for(const _0x29c74f of _0x5afe17){if(_0x29c74f[_0x33e1e2(0x73d)]===_0x16caec[_0x33e1e2(0x6a8)]['Folder']){_0x29c74f[_0x33e1e2(0x2a9)]&&_0x29c74f[_0x33e1e2(0x2a9)][_0x33e1e2(0x19d)]>0x0&&await _0x353684(_0x29c74f[_0x33e1e2(0x2a9)]);continue;}if(!_0x29c74f['name'][_0x33e1e2(0x33e)](_0x288b3b))continue;const _0x18696f=await this[_0x33e1e2(0x798)](_0x29c74f[_0x33e1e2(0x73a)]),_0x3b6ac4=JSON[_0x33e1e2(0x547)](await _0x18696f['text']()),_0x3c7f89=_0x29c74f[_0x33e1e2(0x473)][_0x33e1e2(0x3b2)](_0x288b3b,''),_0x4e88b4={'payloadType':_0x8ba912[_0x33e1e2(0x7d6)],'action':_0x2f047a['RequestFile'],'sourceId':this[_0x33e1e2(0x7a2)][_0x33e1e2(0x544)](),'type':'','path':_0x29c74f[_0x33e1e2(0x7b8)],'name':_0x3c7f89,'checksum':_0x3b6ac4[_0x33e1e2(0x296)],'skipEncryption':_0x3b6ac4['skipEncryption']},_0x31aea4=_0x1c156a(_0x29c74f[_0x33e1e2(0x7b8)],_0x3c7f89);this[_0x33e1e2(0x74e)][_0x33e1e2(0x36d)](_0x31aea4,_0x4e88b4);}};await _0x353684(_0x4b0ff2),0x0===this[_0x1a670e(0x74e)][_0x1a670e(0x36a)]&&0x0===this['pendingFilesSyncing'][_0x1a670e(0x36a)]&&this[_0x1a670e(0x21d)]();}async[_0x32ddeb(0x34c)](_0x2ab325,_0x3b5c84,_0x54b2ea){const _0x6bff00=_0x32ddeb,_0x21f620=new File([new Blob([JSON[_0x6bff00(0x5d7)](_0x54b2ea)])],''+_0x2ab325+_0x288b3b,{'type':_0x6bff00(0x439)});await this[_0x6bff00(0x5a7)](_0x21f620,_0x3b5c84);}[_0x32ddeb(0x1f6)](_0x2907eb,_0x30494d){const _0x578397=_0x32ddeb,[_0x49a800,_0x1c369b]=this[_0x578397(0x7a0)][_0x578397(0x798)](_0x2907eb)?.[_0x578397(0x798)](_0x30494d)??[];return _0x1c369b&&clearTimeout(_0x1c369b),setTimeout(()=>{const _0x3f8ca7=_0x578397,[_0x3aa019,_0x1cae5c]=this[_0x3f8ca7(0x7a0)][_0x3f8ca7(0x798)](_0x2907eb)[_0x3f8ca7(0x798)](_0x30494d);this[_0x3f8ca7(0x2b1)](_0x3aa019,_0x1cae5c);},0xea60);}async[_0x32ddeb(0x2b1)](_0x5680db,_0x47e104){const _0x1e937b=_0x32ddeb;clearTimeout(_0x47e104),_0x5680db[_0x1e937b(0x308)]=_0x2f047a[_0x1e937b(0x397)],this[_0x1e937b(0x74e)][_0x1e937b(0x36d)](_0x1c156a(_0x5680db[_0x1e937b(0x7b8)],_0x5680db[_0x1e937b(0x473)]),_0x5680db),this[_0x1e937b(0x5a2)](_0x5680db);}[_0x32ddeb(0x6ff)](_0xe607b0,_0x244ee7){const _0xa6717c=_0x32ddeb;if(!this['syncContent'])return;this['pendingFilesSyncing'][_0xa6717c(0x5ae)](_0xe607b0[_0xa6717c(0x398)])||this['pendingFilesSyncing'][_0xa6717c(0x36d)](_0xe607b0[_0xa6717c(0x398)],new Map());const [_0x251818]=this[_0xa6717c(0x7a0)][_0xa6717c(0x798)](_0xe607b0['answererId'])[_0xa6717c(0x798)](_0x244ee7)??[{'payloadType':_0x8ba912[_0xa6717c(0x7d6)],'action':_0x2f047a[_0xa6717c(0x397)],'sourceId':this[_0xa6717c(0x7a2)]['getId'](),'type':_0xe607b0[_0xa6717c(0x6a0)],'name':_0xe607b0['name'],'path':_0xe607b0[_0xa6717c(0x7b8)],'skipEncryption':_0xe607b0['skipEncryption'],'checksum':_0xe607b0['checksum'],'answererId':_0xe607b0[_0xa6717c(0x398)]}];this[_0xa6717c(0x7a0)][_0xa6717c(0x798)](_0xe607b0[_0xa6717c(0x398)])[_0xa6717c(0x36d)](_0x244ee7,[_0x251818,this['getOrResetPendingFileTimeout'](_0xe607b0[_0xa6717c(0x398)],_0x244ee7)]);}async['writeFile'](_0x59bca7,_0x5b50d5,_0x10c121){const _0x2281e2=_0x32ddeb;await this[_0x2281e2(0x6d7)][_0x2281e2(0x5a7)](_0x59bca7,_0x5b50d5,_0x10c121);}async[_0x32ddeb(0x3c7)](_0x4aaadd){const _0x498fe0=_0x32ddeb;try{return await this['objectStoreConnector'][_0x498fe0(0x3c7)](_0x4aaadd);}catch(_0x3d2b5d){return await this[_0x498fe0(0x6d7)][_0x498fe0(0x3c7)](_0x4aaadd+_0x288b3b);}}async[_0x32ddeb(0x23b)](_0x16ab3c,_0x5ac5b4){const _0x555050=_0x32ddeb;try{return await this[_0x555050(0x6d7)][_0x555050(0x23b)](_0x16ab3c,_0x5ac5b4);}catch(_0x1e4585){return await this['objectStoreConnector'][_0x555050(0x23b)](_0x16ab3c+_0x288b3b,_0x5ac5b4+_0x288b3b);}}[_0x32ddeb(0x614)](){const _0x3117fb=_0x32ddeb;this[_0x3117fb(0x584)]&&clearTimeout(this[_0x3117fb(0x584)]),this[_0x3117fb(0x584)]=setTimeout(async()=>{const _0x51bda4=_0x3117fb;delete this[_0x51bda4(0x584)];const _0x2fe567=await this['objectStoreConnector'][_0x51bda4(0x6c4)]('/');this[_0x51bda4(0x32e)]?.['publish']({'sourceId':_0x514c9c,'messageType':_0x16f8c2[_0x51bda4(0x370)],'content':{'type':_0x36fe9a[_0x51bda4(0x502)],'label':this[_0x51bda4(0x235)],'stats':{'timestamp':Date['now'](),'storage':_0x2fe567,'messagesSent':this['messagesSent'],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x51bda4(0x504)],'bytesReceived':this[_0x51bda4(0x2f6)],'writes':this[_0x51bda4(0x3d3)],'reads':this['reads']}}}),_0x1709c0[_0x51bda4(0x7d2)](_0x3e806f['ObjectStorage'],'ccc'+this[_0x51bda4(0x713)]+_0x51bda4(0x514)+this[_0x51bda4(0x235)],_0x2fe567);},0x1388);}async[_0x32ddeb(0x369)](_0x4cf448){const _0x1cc56a=_0x32ddeb;try{return await this[_0x1cc56a(0x798)](_0x4cf448),!0x0;}catch(_0x102041){return!0x1;}}}class _0x2f67fc extends _0x590966{[_0x32ddeb(0x7a2)];[_0x32ddeb(0x713)];['unsubscribeHandler']=new Map();[_0x32ddeb(0x584)];constructor(_0x14bdee,_0x382caf,_0x5c3d19){const _0x25d230=_0x32ddeb;if(_0x25d230(0x1ed)!=typeof _0x382caf)throw new _0x56574a(_0x2379f6[_0x25d230(0x7e3)],_0x25d230(0x37c));super(_0x14bdee,_0x382caf),this[_0x25d230(0x7a2)]=_0x14bdee,this[_0x25d230(0x713)]=_0x5c3d19,this[_0x25d230(0x614)]();}[_0x32ddeb(0x2e9)](){const _0x593ba3=_0x32ddeb;this[_0x593ba3(0x614)]();}[_0x32ddeb(0x373)](){const _0x24440d=_0x32ddeb;return _0x16caec['ContentType'][_0x24440d(0x1b6)];}[_0x32ddeb(0x7db)](_0x2bcde0,_0x3be157){const _0x1e8c9c=_0x32ddeb;_0x1709c0[_0x1e8c9c(0x419)](_0x459921['PubSub'],_0x1e8c9c(0x197),this['localNode'][_0x1e8c9c(0x544)](),_0x2bcde0,_0x3be157),_0x1709c0['logServiceEvent'](_0x3e806f[_0x1e8c9c(0x1b6)],{'type':_0x1e8c9c(0x7db),'label':this[_0x1e8c9c(0x235)],'nodeId':this[_0x1e8c9c(0x7a2)][_0x1e8c9c(0x544)](),'nodeType':this['localNode'][_0x1e8c9c(0x6a0)],'clusterId':this[_0x1e8c9c(0x713)],'remoteIds':_0x3be157??[],'contentType':_0x2bcde0 instanceof File?_0x16caec[_0x1e8c9c(0x76d)][_0x1e8c9c(0x39d)]:_0x16caec[_0x1e8c9c(0x76d)][_0x1e8c9c(0x5f6)],'size':_0x2bcde0 instanceof File?_0x2bcde0[_0x1e8c9c(0x36a)]:JSON[_0x1e8c9c(0x5d7)](_0x2bcde0)[_0x1e8c9c(0x19d)]}),this['sendStats'](),this[_0x1e8c9c(0x5a2)](_0x2bcde0,_0x3be157);}[_0x32ddeb(0x558)](_0x539428,_0x52e6b5){const _0x2ce8ed=_0x32ddeb;if(this[_0x2ce8ed(0x4bb)][_0x2ce8ed(0x5ae)](_0x539428))throw new _0x56574a(_0x2379f6['PubSubTopicAlreadySubscribed'],'Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed');this[_0x2ce8ed(0x4bb)][_0x2ce8ed(0x36d)](_0x539428,this['onMessage']((_0x16d277,_0x10eeae)=>{const _0x2d1883=_0x2ce8ed;_0x2d1883(0x777)===_0x539428&&_0x10eeae instanceof File||!(_0x2d1883(0x4ab)!==_0x539428||_0x10eeae instanceof File)||(_0x1709c0['log'](_0x459921[_0x2d1883(0x1b6)],_0x2d1883(0x77e),this[_0x2d1883(0x7a2)][_0x2d1883(0x544)](),_0x16d277,_0x10eeae),_0x1709c0['logServiceEvent'](_0x3e806f[_0x2d1883(0x1b6)],{'type':_0x2d1883(0x558),'label':this['label'],'nodeId':this[_0x2d1883(0x7a2)][_0x2d1883(0x544)](),'nodeType':this[_0x2d1883(0x7a2)][_0x2d1883(0x6a0)],'clusterId':this['clusterId'],'remoteId':_0x16d277,'contentType':_0x539428,'size':_0x10eeae instanceof File?_0x10eeae[_0x2d1883(0x36a)]:JSON[_0x2d1883(0x5d7)](_0x10eeae)[_0x2d1883(0x19d)]}),this[_0x2d1883(0x614)](),_0x52e6b5(_0x16d277,_0x10eeae));}));}['unsubscribe'](_0xad1c14){const _0x4afefb=_0x32ddeb;this[_0x4afefb(0x4bb)]['get'](_0xad1c14)?.(),this[_0x4afefb(0x4bb)][_0x4afefb(0x27d)](_0xad1c14);}[_0x32ddeb(0x733)](){const _0x32ea65=_0x32ddeb;this['unsubscribeHandler'][_0x32ea65(0x801)](_0x1dbf16=>_0x1dbf16()),clearTimeout(this[_0x32ea65(0x584)]),delete this[_0x32ea65(0x584)],super['destroy']();}[_0x32ddeb(0x36f)](){const _0x26ae06=_0x32ddeb;this[_0x26ae06(0x32e)]?.[_0x26ae06(0x7db)]({'sourceId':_0x514c9c,'messageType':_0x16f8c2[_0x26ae06(0x370)],'content':{'type':_0x36fe9a[_0x26ae06(0x69e)],'label':this[_0x26ae06(0x235)]}});}[_0x32ddeb(0x614)](){const _0x2b1903=_0x32ddeb;this[_0x2b1903(0x584)]&&clearTimeout(this[_0x2b1903(0x584)]),this[_0x2b1903(0x584)]=setTimeout(()=>{const _0x5126f1=_0x2b1903;this[_0x5126f1(0x32e)]?.[_0x5126f1(0x7db)]({'sourceId':_0x514c9c,'messageType':_0x16f8c2[_0x5126f1(0x370)],'content':{'type':_0x36fe9a[_0x5126f1(0x62f)],'label':this[_0x5126f1(0x235)],'stats':{'timestamp':Date[_0x5126f1(0x5d9)](),'storage':0x0,'messagesSent':this[_0x5126f1(0x611)],'messagesReceived':this[_0x5126f1(0x1e7)],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x5126f1(0x2f6)],'writes':0x0,'reads':0x0}}});},0x1388);}}class _0x3d7e59 extends _0x155584{[_0x32ddeb(0x7a2)];[_0x32ddeb(0x1f0)];['availableTrackKinds'];[_0x32ddeb(0x713)];[_0x32ddeb(0x4bb)];[_0x32ddeb(0x5b7)];['updateDebounce'];[_0x32ddeb(0x4c5)]=new Map();[_0x32ddeb(0x7d4)];[_0x32ddeb(0x27e)]=new Set();['providerId'];['providerListener']=_0x1f49a7();[_0x32ddeb(0x51f)]=new Map();constructor(_0x51f110,_0x273bf8,_0x3ddb60,_0x396f7c,_0x1c55af,_0x4fdc3b){const _0x369a1b=_0x32ddeb;super(_0x273bf8,_0x3ddb60,new MediaStream()),this[_0x369a1b(0x7a2)]=_0x51f110,this['internalId']=_0x396f7c,this[_0x369a1b(0x4bf)]=_0x1c55af,this[_0x369a1b(0x713)]=_0x4fdc3b,this[_0x369a1b(0x773)]['getTracks']()[_0x369a1b(0x801)](_0x4a0b58=>this[_0x369a1b(0x539)](_0x4a0b58));}['destroy'](){const _0x5da501=_0x32ddeb;this['outgoingStreams'][_0x5da501(0x36a)]>0x0&&(this[_0x5da501(0x4c5)][_0x5da501(0x801)](_0x8328d5=>{const _0x44dfe9=_0x5da501;_0x8328d5['unregisterSystemPublisher'](),_0x8328d5[_0x44dfe9(0x733)]();}),this['outgoingStreams'][_0x5da501(0x532)]()),this[_0x5da501(0x51f)][_0x5da501(0x801)](_0x2c03e2=>_0x2c03e2()),this[_0x5da501(0x773)][_0x5da501(0x6a3)]()['forEach'](_0x3bbc50=>this['mediaStream'][_0x5da501(0x304)](_0x3bbc50)),this['updateDebounce']&&(clearTimeout(this[_0x5da501(0x4fd)]),delete this[_0x5da501(0x4fd)]),this[_0x5da501(0x5b7)]?.(),super[_0x5da501(0x733)]();}[_0x32ddeb(0x6e4)](_0x47d8c1){const _0x502f69=_0x32ddeb;this['unsubscribeHandler']=_0x47d8c1[_0x502f69(0x558)](({content:_0x3426a7})=>{const _0x5a9dec=_0x502f69;switch(_0x3426a7[_0x5a9dec(0x308)]){case _0x5b14c9[_0x5a9dec(0x56d)]:if(_0x1709c0['log'](_0x459921[_0x5a9dec(0x319)],_0x5a9dec(0x192),this[_0x5a9dec(0x7a2)]['getId'](),this[_0x5a9dec(0x30b)]),_0x3426a7[_0x5a9dec(0x1e2)]['id']!==this[_0x5a9dec(0x1f0)]||_0x3426a7[_0x5a9dec(0x30b)]!==this['providerId'])return;this[_0x5a9dec(0x304)](_0x3426a7[_0x5a9dec(0x240)][_0x5a9dec(0x73d)]),this[_0x5a9dec(0x773)]['addTrack'](_0x3426a7[_0x5a9dec(0x240)]);for(const [_0x423320,_0x562bfa]of this[_0x5a9dec(0x4c5)][_0x5a9dec(0x2a9)]())try{_0x562bfa['addTrack'](_0x3426a7[_0x5a9dec(0x240)]);}catch(_0x35d241){_0x562bfa[_0x5a9dec(0x733)](),this[_0x5a9dec(0x4c5)][_0x5a9dec(0x27d)](_0x423320);}this[_0x5a9dec(0x539)](_0x3426a7['track']),this[_0x5a9dec(0x7f7)](),_0x5a9dec(0x6db)===_0x3426a7[_0x5a9dec(0x240)][_0x5a9dec(0x73d)]&&this[_0x5a9dec(0x7d4)]&&(this['mediaStream'][_0x5a9dec(0x18c)]?setTimeout(()=>this[_0x5a9dec(0x7d4)]?.['play'](),0x0):setTimeout(()=>this[_0x5a9dec(0x7d4)]?.[_0x5a9dec(0x30d)](),0x0),this[_0x5a9dec(0x41f)]());break;case _0x5b14c9[_0x5a9dec(0x52e)]:if(_0x3426a7[_0x5a9dec(0x1e2)]['id']!==this[_0x5a9dec(0x1f0)]||_0x3426a7[_0x5a9dec(0x30b)]!==this[_0x5a9dec(0x30b)])return;this[_0x5a9dec(0x304)](_0x3426a7[_0x5a9dec(0x240)][_0x5a9dec(0x73d)]),this[_0x5a9dec(0x7d4)]&&_0x5a9dec(0x6db)===_0x3426a7[_0x5a9dec(0x240)][_0x5a9dec(0x73d)]&&(this[_0x5a9dec(0x5b7)]?.(),this[_0x5a9dec(0x773)][_0x5a9dec(0x6a3)]()[_0x5a9dec(0x19d)]>0x0?this[_0x5a9dec(0x7d4)]['load']():this[_0x5a9dec(0x7d4)][_0x5a9dec(0x657)]=null);}});}[_0x32ddeb(0x5da)](){const _0x1fb17a=_0x32ddeb;this[_0x1fb17a(0x4bb)]?.(),this[_0x1fb17a(0x51f)][_0x1fb17a(0x801)](_0x38986d=>_0x38986d()),delete this[_0x1fb17a(0x4bb)];}[_0x32ddeb(0x55b)](){const _0x2651dd=_0x32ddeb;return this[_0x2651dd(0x1f0)];}[_0x32ddeb(0x7aa)](_0x36ba0f){const _0x3c0e60=_0x32ddeb;this[_0x3c0e60(0x1f0)]=_0x36ba0f;}[_0x32ddeb(0x307)](){const _0x4de388=_0x32ddeb;return this[_0x4de388(0x4bf)];}[_0x32ddeb(0x4db)](_0x1cd558){const _0x287de2=_0x32ddeb;for(const _0x386e05 of _0x1cd558||this[_0x287de2(0x4bf)])if(!this[_0x287de2(0x773)][_0x287de2(0x6a3)]()['find'](_0x104207=>_0x104207['kind']===_0x386e05))return!0x1;return!0x0;}['getResolution'](){const _0x3f807b=_0x32ddeb;let _0x3a5244={'width':0x0,'height':0x0};const _0x46e03a=this[_0x3f807b(0x773)]['getVideoTracks']();if(_0x46e03a[_0x3f807b(0x19d)]>0x0){const _0x241eb0=_0x46e03a[0x0][_0x3f807b(0x405)]();_0x241eb0[_0x3f807b(0x635)]&&_0x241eb0[_0x3f807b(0x4b7)]&&(_0x3a5244={'width':_0x241eb0['width'],'height':_0x241eb0[_0x3f807b(0x4b7)]});}return _0x3a5244;}['isSubscribed'](_0x59ce38){const _0x7e0b39=_0x32ddeb;for(const _0x3d0422 of _0x59ce38)if(!this[_0x7e0b39(0x27e)][_0x7e0b39(0x5ae)](_0x3d0422))return!0x1;return!0x0;}['getShareableStream'](_0x4f89f3,_0x112638){const _0x1b1b76=_0x32ddeb;if(!this[_0x1b1b76(0x4c5)][_0x1b1b76(0x5ae)](_0x4f89f3)){const _0x5c772a=new _0x4a52a6(this[_0x1b1b76(0x6d8)],this[_0x1b1b76(0x235)],this['mediaStream'],_0x4f89f3,_0x112638),_0x16bb3c=_0x5c772a['onUnregisterPublisher'](()=>{const _0x58d7cd=_0x1b1b76;_0x16bb3c(),this[_0x58d7cd(0x4c5)][_0x58d7cd(0x798)](_0x4f89f3)?.[_0x58d7cd(0x733)](),this[_0x58d7cd(0x4c5)][_0x58d7cd(0x27d)](_0x4f89f3);});this[_0x1b1b76(0x4c5)][_0x1b1b76(0x36d)](_0x4f89f3,_0x5c772a),_0x5c772a[_0x1b1b76(0x7ff)](this[_0x1b1b76(0x32e)]);}return this[_0x1b1b76(0x4c5)][_0x1b1b76(0x798)](_0x4f89f3);}[_0x32ddeb(0x5c0)](){const _0x2672ce=_0x32ddeb;return this[_0x2672ce(0x773)]['id'];}['getPriority'](){const _0x2b8a31=_0x32ddeb;return _0x16caec[_0x2b8a31(0x659)]['Default'];}[_0x32ddeb(0x7f9)](){const _0x255ee2=_0x32ddeb;return Array['from'](this[_0x255ee2(0x27e)]);}[_0x32ddeb(0x558)](_0x590840){const _0x4f5cdb=_0x32ddeb;let _0x14e36b=[];if(_0x590840){'object'!=typeof _0x590840[_0x4f5cdb(0x6db)]||_0x590840['video'][_0x4f5cdb(0x7d4)]instanceof HTMLVideoElement||!this[_0x4f5cdb(0x7d4)]||(_0x590840[_0x4f5cdb(0x6db)]={'renderElement':this[_0x4f5cdb(0x7d4)]});try{(0x0,_0x16caec[_0x4f5cdb(0x784)])(_0x590840);}catch(_0x34416a){throw new _0x56574a(_0x2379f6[_0x4f5cdb(0x3fe)],_0x4f5cdb(0x2c3));}_0x590840[_0x4f5cdb(0x6db)]&&(_0x14e36b[_0x4f5cdb(0x6f1)](_0x4f5cdb(0x6db)),_0x4f5cdb(0x1d1)!=typeof _0x590840[_0x4f5cdb(0x6db)]&&_0x590840[_0x4f5cdb(0x6db)]['renderElement']&&(this[_0x4f5cdb(0x7d4)]=_0x590840[_0x4f5cdb(0x6db)][_0x4f5cdb(0x7d4)],_0x590840['video'][_0x4f5cdb(0x757)]||(_0x590840[_0x4f5cdb(0x6db)][_0x4f5cdb(0x757)]={'width':this[_0x4f5cdb(0x7d4)][_0x4f5cdb(0x2f4)],'height':this[_0x4f5cdb(0x7d4)]['clientHeight']}),delete _0x590840[_0x4f5cdb(0x6db)][_0x4f5cdb(0x7d4)])),_0x590840[_0x4f5cdb(0x1ea)]&&_0x14e36b['push']('audio');}else _0x14e36b=this[_0x4f5cdb(0x307)]();this[_0x4f5cdb(0x40b)](_0x14e36b)||(_0x14e36b[_0x4f5cdb(0x801)](_0x6c2b48=>this[_0x4f5cdb(0x27e)][_0x4f5cdb(0x259)](_0x6c2b48)),this[_0x4f5cdb(0x32e)][_0x4f5cdb(0x7db)]({'sourceId':_0x514c9c,'messageType':_0x16f8c2['Content'],'content':{'type':_0x36fe9a[_0x4f5cdb(0x4f2)],'label':this[_0x4f5cdb(0x235)],'ownerId':this[_0x4f5cdb(0x6d8)][_0x4f5cdb(0x544)](),'trackKinds':_0x14e36b,'params':_0x590840}}),_0x1709c0['logServiceEvent'](_0x3e806f['MediaStream'],{'type':_0x4f5cdb(0x558),'label':this[_0x4f5cdb(0x235)],'nodeId':this[_0x4f5cdb(0x7a2)][_0x4f5cdb(0x544)](),'nodeType':this[_0x4f5cdb(0x7a2)][_0x4f5cdb(0x6a0)],'clusterId':this[_0x4f5cdb(0x713)],'sourceId':this[_0x4f5cdb(0x6d8)][_0x4f5cdb(0x544)](),'streamId':this['internalId'],'trackKinds':_0x14e36b}));}[_0x32ddeb(0x805)](_0xf63e0b){const _0x5e6395=_0x32ddeb;try{(0x0,_0x16caec[_0x5e6395(0x784)])(_0xf63e0b);}catch(_0x41977a){throw new _0x56574a(_0x2379f6[_0x5e6395(0x3fe)],_0x5e6395(0x2c3));}this[_0x5e6395(0x4fd)]&&clearTimeout(this[_0x5e6395(0x4fd)]),this[_0x5e6395(0x4fd)]=setTimeout(()=>{const _0x46030e=_0x5e6395;delete this[_0x46030e(0x4fd)],this[_0x46030e(0x32e)]['publish']({'sourceId':_0x514c9c,'messageType':_0x16f8c2[_0x46030e(0x370)],'content':{'type':_0x36fe9a[_0x46030e(0x7b4)],'label':this[_0x46030e(0x235)],'ownerId':this['owner'][_0x46030e(0x544)](),'params':_0xf63e0b}});},0x1f4);}[_0x32ddeb(0x300)](_0xa2a24b){const _0x58aa7f=_0x32ddeb;_0xa2a24b||(_0xa2a24b=this[_0x58aa7f(0x307)]()),(_0xa2a24b=Array[_0x58aa7f(0x664)](_0xa2a24b)?_0xa2a24b:[_0xa2a24b])[_0x58aa7f(0x801)](_0x1db4db=>this[_0x58aa7f(0x27e)][_0x58aa7f(0x27d)](_0x1db4db)),this['systemTopic'][_0x58aa7f(0x7db)]({'sourceId':_0x514c9c,'messageType':_0x16f8c2[_0x58aa7f(0x370)],'content':{'type':_0x36fe9a[_0x58aa7f(0x2b2)],'label':this['label'],'ownerId':this[_0x58aa7f(0x6d8)]['getId'](),'trackKinds':_0xa2a24b,'remainingTracks':this[_0x58aa7f(0x27e)][_0x58aa7f(0x36a)]}});}[_0x32ddeb(0x510)](_0x3469e3){return this['providerListener']['subscribe'](_0x3469e3);}[_0x32ddeb(0x75a)](){const _0x46ff66=_0x32ddeb;return this[_0x46ff66(0x30b)];}[_0x32ddeb(0x57d)](_0x4e33d5){const _0x1b595f=_0x32ddeb;this[_0x1b595f(0x30b)]!==_0x4e33d5&&(this[_0x1b595f(0x30b)]=_0x4e33d5,this[_0x1b595f(0x628)][_0x1b595f(0x7db)](_0x4e33d5));}[_0x32ddeb(0x18f)](_0xd535f3){const _0x38190d=_0x32ddeb;this[_0x38190d(0x51f)][_0x38190d(0x798)](_0xd535f3)?.(),this[_0x38190d(0x51f)][_0x38190d(0x27d)](_0xd535f3);}[_0x32ddeb(0x304)](_0x5e650b){const _0x513d17=_0x32ddeb,_0x2b0171=this['mediaStream'][_0x513d17(0x6a3)]()[_0x513d17(0x323)](_0x4ca2e9=>_0x4ca2e9[_0x513d17(0x73d)]===_0x5e650b);_0x2b0171&&(this[_0x513d17(0x773)][_0x513d17(0x304)](_0x2b0171),this[_0x513d17(0x4c5)]['forEach'](_0x251ed6=>_0x251ed6[_0x513d17(0x304)](_0x5e650b)),this[_0x513d17(0x51f)][_0x513d17(0x798)](_0x5e650b)?.());}[_0x32ddeb(0x7f7)](){const _0x369892=_0x32ddeb;this[_0x369892(0x7d4)]&&(this['renderElement'][_0x369892(0x657)]&&this[_0x369892(0x7d4)][_0x369892(0x657)]===this['mediaStream']||(this[_0x369892(0x7d4)]['srcObject']=this[_0x369892(0x773)]));}['setupResizeHandler'](){const _0x71eb78=_0x32ddeb;if(this['renderElement']&&!this['resizeHandler']&&_0x71eb78(0x2fb)!=typeof ResizeObserver){let _0x1c9eaa=this[_0x71eb78(0x7d4)][_0x71eb78(0x2f4)],_0x33ea0f=this[_0x71eb78(0x7d4)][_0x71eb78(0x5cc)];const _0x165ea1=new ResizeObserver(_0x51c8d8=>{const _0x2cb7d8=_0x71eb78,{width:_0x162bf3,height:_0xdc7f0c}=_0x51c8d8[0x0][_0x2cb7d8(0x337)];_0x1c9eaa===_0x162bf3&&_0x33ea0f===_0xdc7f0c||(_0x1c9eaa=Math['floor'](_0x162bf3),_0x33ea0f=Math[_0x2cb7d8(0x645)](_0xdc7f0c),this[_0x2cb7d8(0x805)]({'video':{'maxResolution':{'width':_0x162bf3,'height':_0xdc7f0c}}}));});_0x165ea1[_0x71eb78(0x5a0)](this[_0x71eb78(0x7d4)]),this['resizeHandler']=()=>_0x165ea1[_0x71eb78(0x232)]();}}['handleRemoteTrackFailure'](_0x5749dd){const _0x1dbe2a=_0x32ddeb,_0x544790=[];for(const _0x3df27c of this[_0x1dbe2a(0x27e)])this[_0x1dbe2a(0x304)](_0x3df27c),_0x544790[_0x1dbe2a(0x6f1)](_0x3df27c);this[_0x1dbe2a(0x30b)]&&this[_0x1dbe2a(0x32e)][_0x1dbe2a(0x7db)]({'sourceId':_0x514c9c,'messageType':_0x16f8c2[_0x1dbe2a(0x370)],'content':{'type':_0x36fe9a[_0x1dbe2a(0x7e0)],'label':this[_0x1dbe2a(0x235)],'streamId':this['internalId'],'ownerId':this[_0x1dbe2a(0x6d8)][_0x1dbe2a(0x544)](),'providerId':this[_0x1dbe2a(0x30b)],'trackKinds':_0x544790}});}[_0x32ddeb(0x539)](_0x514a7a){const _0x1253a7=_0x32ddeb,_0x167ea9=()=>this[_0x1253a7(0x47d)](_0x514a7a);_0x514a7a[_0x1253a7(0x78c)](_0x1253a7(0x7ca),_0x167ea9),_0x514a7a[_0x1253a7(0x78c)](_0x1253a7(0x382),_0x167ea9),this[_0x1253a7(0x51f)][_0x1253a7(0x36d)](_0x514a7a[_0x1253a7(0x73d)],()=>{const _0x234b65=_0x1253a7;_0x514a7a['removeEventListener'](_0x234b65(0x7ca),_0x167ea9),_0x514a7a[_0x234b65(0x2ac)]('mute',_0x167ea9),this[_0x234b65(0x51f)][_0x234b65(0x27d)](_0x514a7a['kind']);});}}class _0x53edcc{['id'];[_0x32ddeb(0x5cd)];[_0x32ddeb(0x5a8)];constructor(_0x4292f0,_0x31739b=new Set(),_0x406bc1){this['id']=_0x4292f0,this['remoteConnections']=_0x31739b,this['rank']=_0x406bc1;}[_0x32ddeb(0x36f)](){const _0x5c0ebd=_0x32ddeb;this[_0x5c0ebd(0x5a8)]=void 0x0,this['remoteConnections']['clear']();}['getId'](){return this['id'];}['getRank'](){const _0x595c32=_0x32ddeb;return this[_0x595c32(0x5a8)];}[_0x32ddeb(0x211)](){return this['remoteConnections'];}}class _0x453244 extends _0x53edcc{['id'];[_0x32ddeb(0x5b2)];[_0x32ddeb(0x281)];[_0x32ddeb(0x5cd)];[_0x32ddeb(0x5a8)];['type']=_0x16caec[_0x32ddeb(0x244)][_0x32ddeb(0x579)];constructor(_0x581cef,_0x2a4be8,_0x36e203,_0x2a2528=new Set(),_0x2a7810){const _0x215046=_0x32ddeb;super(_0x581cef,_0x2a2528,_0x2a7810),this['id']=_0x581cef,this[_0x215046(0x5b2)]=_0x2a4be8,this['email']=_0x36e203,this[_0x215046(0x5cd)]=_0x2a2528,this[_0x215046(0x5a8)]=_0x2a7810;}[_0x32ddeb(0x63a)](){const _0x1c8485=_0x32ddeb;return this[_0x1c8485(0x5b2)];}[_0x32ddeb(0x3e6)](){const _0x4f4de8=_0x32ddeb;return this[_0x4f4de8(0x281)];}}class _0x4f2ff9{['vendorId'];[_0x32ddeb(0x713)];[_0x32ddeb(0x656)];constructor(_0x565f0b,_0x1c69a6){const _0xc22908=_0x32ddeb;this[_0xc22908(0x3ce)]=_0x565f0b,this['clusterId']=_0x1c69a6,this['clusterKey']=_0xc22908(0x514)+this[_0xc22908(0x3ce)]+_0xc22908(0x514)+this[_0xc22908(0x713)];}async['writeTransaction'](_0x13b853,_0x5b6d1e,_0x348dde){const _0x46919f=_0x32ddeb;if(!0x1===(await(0x0,_0x5776b7['runTransaction'])((0x0,_0x5776b7[_0x46919f(0x2ff)])(_0x194e5e[_0x46919f(0x4d3)](),_0x46919f(0x26c)+this[_0x46919f(0x656)]+_0x46919f(0x582)+_0x5b6d1e+'/transactions/lastTransaction'),_0x45f35b=>{const _0x507c88=_0x46919f;if(!_0x45f35b)return _0x13b853['id'];if(_0x45f35b!==_0x348dde)throw new _0x4daf03(_0x4daf03['codes'][_0x507c88(0x748)]);return _0x13b853['id'];}))[_0x46919f(0x632)])throw new _0x4daf03(_0x4daf03[_0x46919f(0x719)][_0x46919f(0x39f)]);_0x13b853[_0x46919f(0x228)]||delete _0x13b853['parentId'],await(0x0,_0x5776b7[_0x46919f(0x36d)])((0x0,_0x5776b7[_0x46919f(0x2ff)])(_0x194e5e[_0x46919f(0x4d3)](),_0x46919f(0x26c)+this['clusterKey']+'/objectstores/'+_0x5b6d1e+_0x46919f(0x5f9)+_0x13b853['id']),_0x13b853);}async['getTransactions'](_0x542d46,_0x3d879a){const _0x2fbd1c=_0x32ddeb;let _0x177bc3=[];const _0x3012f5=await(0x0,_0x5776b7['get'])((0x0,_0x5776b7['ref'])(_0x194e5e[_0x2fbd1c(0x4d3)](),_0x2fbd1c(0x26c)+this[_0x2fbd1c(0x656)]+_0x2fbd1c(0x582)+_0x542d46+_0x2fbd1c(0x3af)));if(!_0x3012f5[_0x2fbd1c(0x261)]())return _0x177bc3;const _0x2c361d=_0x3012f5['val']();_0x177bc3=Object['values'](_0x2c361d)[_0x2fbd1c(0x6fc)](_0x2b940c=>_0x2fbd1c(0x1ed)!=typeof _0x2b940c);const _0x3375cc=[];let _0x595ee1=_0x177bc3[_0x2fbd1c(0x323)](_0x3c7a45=>_0x3c7a45['parentId']===_0x3d879a);for(;_0x595ee1;)_0x3375cc[_0x2fbd1c(0x6f1)](_0x595ee1),_0x595ee1=_0x177bc3[_0x2fbd1c(0x323)](_0x43728a=>_0x43728a['parentId']===_0x595ee1['id']);return _0x3375cc;}}class _0x3552a6{['configs'];[_0x32ddeb(0x73e)];[_0x32ddeb(0x642)];[_0x32ddeb(0x6f7)]=new Map();['remoteMediaStreams']=new Map();[_0x32ddeb(0x47c)]=new Map();['objectStores']=new Map();[_0x32ddeb(0x744)]=new Map();[_0x32ddeb(0x3bf)]=new Map();[_0x32ddeb(0x5f3)]=new Map();[_0x32ddeb(0x230)];constructor(_0x91862d,_0x1fae9c,_0x1698a7){const _0x2bb94b=_0x32ddeb;this[_0x2bb94b(0x486)]=_0x91862d,this[_0x2bb94b(0x73e)]=_0x1fae9c,this[_0x2bb94b(0x642)]=_0x1698a7,this['transactionService']=new _0x4f2ff9(this['configs'][_0x2bb94b(0x3ce)],this[_0x2bb94b(0x486)]['clusterId']);}['close'](_0x35c3fe=!0x1){const _0x3f33e4=_0x32ddeb;this['remoteMediaStreams'][_0x3f33e4(0x801)]((_0x157d54,_0x2f9a3c)=>{const _0xac3728=_0x3f33e4;_0x157d54[_0xac3728(0x801)]((_0x4760d0,_0x35ca22)=>{const _0x1b5192=_0xac3728;this[_0x1b5192(0x741)](_0x2f9a3c,_0x35ca22);});}),_0x35c3fe||(this[_0x3f33e4(0x6f7)]['forEach']((_0x3978ac,_0x2d5cd9)=>{this['removeLocalMediaStream'](_0x2d5cd9);}),this[_0x3f33e4(0x47c)][_0x3f33e4(0x801)]((_0x59ea2a,_0x46a1e3)=>{const _0x1b8fe9=_0x3f33e4;this[_0x1b8fe9(0x790)](_0x46a1e3);}),this[_0x3f33e4(0x5e4)]['forEach']((_0x3b6f67,_0x454a6a)=>{this['removeObjectStore'](_0x454a6a);}),this[_0x3f33e4(0x744)]['forEach']((_0x4dff54,_0x745d2d)=>{this['removeKeyValueDatabase'](_0x745d2d);}),this[_0x3f33e4(0x3bf)][_0x3f33e4(0x801)]((_0x55582a,_0x535c0a)=>{const _0x40eade=_0x3f33e4;this[_0x40eade(0x576)](_0x535c0a);}),this[_0x3f33e4(0x5f3)][_0x3f33e4(0x801)]((_0x55cf59,_0x9004af)=>{const _0x2e293d=_0x3f33e4;this[_0x2e293d(0x1ca)](_0x9004af);}));}[_0x32ddeb(0x258)](_0x1ebbff,_0x2696a2){const _0x1a39a4=_0x32ddeb;if(this[_0x1a39a4(0x5e4)]['has'](_0x1ebbff))throw new _0x56574a(_0x2379f6[_0x1a39a4(0x585)],_0x1a39a4(0x229));const _0x37407d=new _0xd7a7a6(this[_0x1a39a4(0x486)][_0x1a39a4(0x7a2)],_0x1ebbff,this[_0x1a39a4(0x486)][_0x1a39a4(0x713)],this[_0x1a39a4(0x486)][_0x1a39a4(0x3ce)],this[_0x1a39a4(0x230)],_0x2696a2);return this['objectStores']['set'](_0x1ebbff,_0x37407d),this[_0x1a39a4(0x486)]['mediator'][_0x1a39a4(0x2d2)](_0x37407d),_0x37407d;}async[_0x32ddeb(0x5cf)](_0x35f354,_0x47a06c,_0x46bce2){const _0x116adb=_0x32ddeb;if(this[_0x116adb(0x744)][_0x116adb(0x5ae)](_0x35f354))throw new _0x56574a(_0x2379f6[_0x116adb(0x4d1)],_0x116adb(0x6d9));try{const _0xedf7b4=new _0x25bc34(this[_0x116adb(0x486)][_0x116adb(0x7a2)],_0x35f354,this['configs'][_0x116adb(0x713)],this[_0x116adb(0x486)]['vendorId'],_0x47a06c,_0x46bce2);return this[_0x116adb(0x744)]['set'](_0x35f354,_0xedf7b4),this[_0x116adb(0x486)]['mediator'][_0x116adb(0x2d2)](_0xedf7b4),_0xedf7b4;}catch(_0x3bf5c3){if(_0x3bf5c3 instanceof _0x56574a)throw _0x3bf5c3;throw console['warn'](_0x116adb(0x26b),_0x3bf5c3),new _0x4daf03(_0x4daf03['codes'][_0x116adb(0x728)],{'label':_0x35f354,'clusterId':this['configs'][_0x116adb(0x713)],'vendorId':this[_0x116adb(0x486)][_0x116adb(0x3ce)]});}}async['createJobDispatcher'](_0x48e533,_0x19c3a2){const _0x2c08cb=_0x32ddeb;if(this[_0x2c08cb(0x3bf)][_0x2c08cb(0x5ae)](_0x48e533))throw new _0x56574a(_0x2379f6[_0x2c08cb(0x677)],_0x2c08cb(0x44c));try{const _0x35f130=new _0x44ee66(this['configs'][_0x2c08cb(0x7a2)],_0x48e533,_0x19c3a2);return this[_0x2c08cb(0x3bf)][_0x2c08cb(0x36d)](_0x48e533,_0x35f130),this[_0x2c08cb(0x486)][_0x2c08cb(0x257)][_0x2c08cb(0x2d2)](_0x35f130),_0x35f130;}catch(_0x5e342a){if(_0x5e342a instanceof _0x56574a)throw _0x5e342a;throw console[_0x2c08cb(0x217)](_0x2c08cb(0x5e2),_0x5e342a),new _0x4daf03(_0x4daf03[_0x2c08cb(0x719)][_0x2c08cb(0x2e0)],{'label':_0x48e533,'clusterId':this['configs'][_0x2c08cb(0x713)],'vendorId':this[_0x2c08cb(0x486)][_0x2c08cb(0x3ce)]});}}async[_0x32ddeb(0x5b5)](_0x2e7bed,_0x59bf0b,_0x385388,_0x4d2be5=_0x16caec[_0x32ddeb(0x678)]['AI']){const _0x40aa23=_0x32ddeb;if(this[_0x40aa23(0x5f3)][_0x40aa23(0x5ae)](_0x2e7bed))throw new _0x56574a(_0x2379f6['JobWorkerAlreadyExists'],_0x40aa23(0x427));try{const _0x2bcf95=new _0x4859d7(this[_0x40aa23(0x486)][_0x40aa23(0x7a2)],_0x2e7bed,_0x59bf0b,_0x385388);return this['jobWorkers'][_0x40aa23(0x36d)](_0x2e7bed,_0x2bcf95),this[_0x40aa23(0x486)]['mediator'][_0x40aa23(0x2d2)](_0x2bcf95),_0x2bcf95;}catch(_0x56e5cd){if(_0x56e5cd instanceof _0x56574a)throw _0x56e5cd;throw console[_0x40aa23(0x217)]('Failed\x20to\x20create\x20job\x20service',_0x56e5cd),new _0x4daf03(_0x4daf03[_0x40aa23(0x719)][_0x40aa23(0x5ef)],{'label':_0x2e7bed,'clusterId':this[_0x40aa23(0x486)][_0x40aa23(0x713)],'vendorId':this[_0x40aa23(0x486)][_0x40aa23(0x3ce)]});}}async[_0x32ddeb(0x2b8)](_0x44d080,_0x29796d){const _0x5bf5f5=_0x32ddeb;if(this['jobDispatchers'][_0x5bf5f5(0x5ae)](_0x44d080))throw new _0x56574a(_0x2379f6['GenerativeAIContextAlreadyExists'],'AI\x20Service\x20already\x20exists');if(this['jobWorkers'][_0x5bf5f5(0x5ae)](_0x44d080))throw new _0x56574a(_0x2379f6['GenerativeAILabelConflict'],'Label\x20already\x20in\x20use\x20by\x20AI\x20Service');try{const _0x26fa0f=new _0x20a7e8(this[_0x5bf5f5(0x486)][_0x5bf5f5(0x7a2)],_0x44d080,_0x29796d);return this[_0x5bf5f5(0x3bf)][_0x5bf5f5(0x36d)](_0x44d080,_0x26fa0f),this[_0x5bf5f5(0x486)][_0x5bf5f5(0x257)][_0x5bf5f5(0x2d2)](_0x26fa0f),_0x26fa0f;}catch(_0x2bb52e){if(_0x2bb52e instanceof _0x56574a)throw _0x2bb52e;throw console['warn'](_0x5bf5f5(0x806),_0x2bb52e),new _0x4daf03(_0x4daf03[_0x5bf5f5(0x719)][_0x5bf5f5(0x32b)],{'label':_0x44d080,'clusterId':this[_0x5bf5f5(0x486)][_0x5bf5f5(0x713)],'vendorId':this['configs'][_0x5bf5f5(0x3ce)]});}}async[_0x32ddeb(0x459)](_0x3e1a7c,_0x438f0d,_0x5ac3d1,_0x203f02){const _0x59c478=_0x32ddeb;if(this['jobWorkers']['has'](_0x3e1a7c))throw new _0x56574a(_0x2379f6[_0x59c478(0x57f)],'AI\x20Worker\x20already\x20exists');if(this[_0x59c478(0x3bf)][_0x59c478(0x5ae)](_0x3e1a7c))throw new _0x56574a(_0x2379f6[_0x59c478(0x1e3)],_0x59c478(0x520));try{const _0x37438c=new _0x1be5a1(this[_0x59c478(0x486)][_0x59c478(0x7a2)],_0x3e1a7c,_0x438f0d,_0x5ac3d1,_0x203f02);return this[_0x59c478(0x5f3)][_0x59c478(0x36d)](_0x3e1a7c,_0x37438c),this[_0x59c478(0x486)][_0x59c478(0x257)][_0x59c478(0x2d2)](_0x37438c),_0x37438c;}catch(_0x216fc2){if(_0x216fc2 instanceof _0x56574a)throw _0x216fc2;throw console[_0x59c478(0x217)](_0x59c478(0x3e8),_0x216fc2),new _0x4daf03(_0x4daf03['codes'][_0x59c478(0x21a)],{'label':_0x3e1a7c,'clusterId':this['configs'][_0x59c478(0x713)],'vendorId':this[_0x59c478(0x486)][_0x59c478(0x3ce)]});}}[_0x32ddeb(0x2f1)](_0x3551f8,_0x59762c){const _0x2ca4d0=_0x32ddeb;if(this['localMediaStreams']['has'](_0x3551f8))throw new _0x56574a(_0x2379f6[_0x2ca4d0(0x334)],_0x2ca4d0(0x5d2));if(!this[_0x2ca4d0(0x642)])throw new _0x56574a(_0x2379f6[_0x2ca4d0(0x70b)],'AudioContext\x20is\x20not\x20available');const _0x2be357=new _0x1ac278(this[_0x2ca4d0(0x486)][_0x2ca4d0(0x7a2)],_0x3551f8,_0x59762c,this[_0x2ca4d0(0x73e)],this[_0x2ca4d0(0x642)],this[_0x2ca4d0(0x486)][_0x2ca4d0(0x713)]);return this[_0x2ca4d0(0x6f7)][_0x2ca4d0(0x36d)](_0x3551f8,_0x2be357),this[_0x2ca4d0(0x486)]['mediator'][_0x2ca4d0(0x2d2)](_0x2be357),_0x2be357[_0x2ca4d0(0x7db)](),_0x2be357;}[_0x32ddeb(0x74b)](_0x186165,_0x1e7540){const _0x18d436=_0x32ddeb;if(this[_0x18d436(0x6f7)]['has'](_0x186165))throw new _0x56574a(_0x2379f6['LocalMediaStreamAlreadyExists'],'Stream\x20already\x20exists');const _0x951bf1=new _0x22fd5c(this[_0x18d436(0x486)][_0x18d436(0x7a2)],_0x186165,_0x1e7540,this[_0x18d436(0x486)][_0x18d436(0x713)]);return this['localMediaStreams'][_0x18d436(0x36d)](_0x186165,_0x951bf1),this['configs']['mediator'][_0x18d436(0x2d2)](_0x951bf1),_0x951bf1[_0x18d436(0x7db)](),_0x951bf1;}[_0x32ddeb(0x203)](_0x3f3404){const _0x2f79fb=_0x32ddeb;if(this['pubSubTopics']['has'](_0x3f3404))throw new _0x56574a(_0x2379f6['PubSubTopicAlreadyExists'],'PubSub\x20already\x20exists');const _0x1d104f=new _0x2f67fc(this[_0x2f79fb(0x486)][_0x2f79fb(0x7a2)],_0x3f3404,this[_0x2f79fb(0x486)][_0x2f79fb(0x713)]);return this[_0x2f79fb(0x47c)]['set'](_0x3f3404,_0x1d104f),this[_0x2f79fb(0x486)][_0x2f79fb(0x257)][_0x2f79fb(0x2d2)](_0x1d104f),_0x1d104f;}[_0x32ddeb(0x1d5)](_0x51e98a,_0x53fdf4,_0x5af0bc,_0x52c68b){const _0x36f831=_0x32ddeb;this[_0x36f831(0x723)][_0x36f831(0x5ae)](_0x51e98a)||this[_0x36f831(0x723)]['set'](_0x51e98a,new Map());const _0x24f79c=this[_0x36f831(0x723)][_0x36f831(0x798)](_0x51e98a);if(_0x24f79c[_0x36f831(0x5ae)](_0x53fdf4))throw new _0x56574a(_0x2379f6['RemoteMediaStreamAlreadyExists'],_0x36f831(0x6f4));const _0x5ec9ee=new _0x453244(_0x51e98a,'',''),_0x24a7ca=new _0x3d7e59(this[_0x36f831(0x486)]['localNode'],_0x5ec9ee,_0x53fdf4,_0x5af0bc,_0x52c68b,this[_0x36f831(0x486)][_0x36f831(0x713)]);return _0x24f79c[_0x36f831(0x36d)](_0x53fdf4,_0x24a7ca),this[_0x36f831(0x486)][_0x36f831(0x257)]['registerSystemSource'](_0x24a7ca),_0x24a7ca;}['getObjectStoreBuckets'](_0x21d5ec){const _0x4ea704=_0x32ddeb,_0x3f55c1=Array[_0x4ea704(0x34d)](this[_0x4ea704(0x5e4)][_0x4ea704(0x693)]());return _0x21d5ec?_0x3f55c1[_0x4ea704(0x6fc)](_0x21d5ec):_0x3f55c1;}[_0x32ddeb(0x714)](_0xbb8bb1){const _0x4f70b9=_0x32ddeb,_0x407618=Array['from'](this[_0x4f70b9(0x744)][_0x4f70b9(0x693)]());return _0xbb8bb1?_0x407618[_0x4f70b9(0x6fc)](_0xbb8bb1):_0x407618;}[_0x32ddeb(0x726)](_0x1422cf){const _0x54a182=_0x32ddeb,_0x538c45=Array['from'](this[_0x54a182(0x3bf)][_0x54a182(0x693)]());return _0x1422cf?_0x538c45[_0x54a182(0x6fc)](_0x1422cf):_0x538c45;}[_0x32ddeb(0x4d8)](_0x59425e){const _0x9d42f1=_0x32ddeb,_0x4e69d5=Array[_0x9d42f1(0x34d)](this[_0x9d42f1(0x5f3)][_0x9d42f1(0x693)]());return _0x59425e?_0x4e69d5[_0x9d42f1(0x6fc)](_0x59425e):_0x4e69d5;}[_0x32ddeb(0x26a)](_0x13520b){const _0x528677=_0x32ddeb,_0x25b5b3=Array['from'](this[_0x528677(0x3bf)][_0x528677(0x693)]())[_0x528677(0x6fc)](_0xa74596=>_0xa74596 instanceof _0x20a7e8);return _0x13520b?_0x25b5b3['filter'](_0x13520b):_0x25b5b3;}[_0x32ddeb(0x299)](_0x427509){const _0x2d6f85=_0x32ddeb,_0x1aeea2=Array[_0x2d6f85(0x34d)](this['jobWorkers'][_0x2d6f85(0x693)]())[_0x2d6f85(0x6fc)](_0x1e7eb7=>_0x1e7eb7 instanceof _0x1be5a1);return _0x427509?_0x1aeea2[_0x2d6f85(0x6fc)](_0x427509):_0x1aeea2;}[_0x32ddeb(0x701)](_0x46023e){const _0x5527a2=_0x32ddeb,_0x33b62c=Array[_0x5527a2(0x34d)](this[_0x5527a2(0x6f7)][_0x5527a2(0x693)]());return _0x46023e?_0x33b62c[_0x5527a2(0x6fc)](_0x46023e):_0x33b62c;}['getPubSubTopics'](_0x53a315){const _0x48e931=_0x32ddeb,_0x4b77ed=Array['from'](this[_0x48e931(0x47c)][_0x48e931(0x693)]());return _0x53a315?_0x4b77ed[_0x48e931(0x6fc)](_0x53a315):_0x4b77ed;}[_0x32ddeb(0x54d)](_0x33f39c){const _0x14da89=_0x32ddeb,_0x445b44=Array[_0x14da89(0x34d)](this['remoteMediaStreams']['values']())['reduce']((_0x4924e3,_0x1c24d6)=>[..._0x4924e3,...Array[_0x14da89(0x34d)](_0x1c24d6['values']())],[]);return _0x33f39c?_0x445b44[_0x14da89(0x6fc)](_0x33f39c):_0x445b44;}[_0x32ddeb(0x689)](_0x2a92ca){const _0x1a2bde=_0x32ddeb;switch(_0x2a92ca[_0x1a2bde(0x41b)]['type']){case _0x36fe9a[_0x1a2bde(0x61f)]:this['handlePublishMediaStream'](_0x2a92ca['content']);break;case _0x36fe9a['UnpublishMediaStream']:this[_0x1a2bde(0x4aa)](_0x2a92ca[_0x1a2bde(0x41b)]);break;case _0x36fe9a[_0x1a2bde(0x59e)]:this[_0x1a2bde(0x647)](_0x2a92ca[_0x1a2bde(0x41b)]);break;case _0x36fe9a[_0x1a2bde(0x606)]:this[_0x1a2bde(0x483)](_0x2a92ca[_0x1a2bde(0x41b)]);break;case _0x36fe9a[_0x1a2bde(0x630)]:this[_0x1a2bde(0x4c6)](_0x2a92ca['content']);break;case _0x36fe9a['ClosePubSubTopic']:this[_0x1a2bde(0x3c8)](_0x2a92ca[_0x1a2bde(0x41b)]);break;case _0x36fe9a[_0x1a2bde(0x216)]:this['handleCloseObjectStore'](_0x2a92ca[_0x1a2bde(0x41b)]);break;case _0x36fe9a[_0x1a2bde(0x4ff)]:this['handleCloseKeyValueDatabase'](_0x2a92ca[_0x1a2bde(0x41b)]);break;case _0x36fe9a[_0x1a2bde(0x2b2)]:this[_0x1a2bde(0x4fb)](_0x2a92ca[_0x1a2bde(0x41b)]);break;case _0x36fe9a[_0x1a2bde(0x348)]:this['keyValueDatabases'][_0x1a2bde(0x798)](_0x2a92ca[_0x1a2bde(0x41b)]['label'])?.[_0x1a2bde(0x462)](_0x2a92ca[_0x1a2bde(0x1ad)]);break;case _0x36fe9a[_0x1a2bde(0x225)]:this[_0x1a2bde(0x744)][_0x1a2bde(0x798)](_0x2a92ca[_0x1a2bde(0x41b)][_0x1a2bde(0x235)])?.['processTransactionsDump'](_0x2a92ca[_0x1a2bde(0x1ad)],_0x2a92ca[_0x1a2bde(0x41b)][_0x1a2bde(0x513)]);break;case _0x36fe9a[_0x1a2bde(0x29e)]:this[_0x1a2bde(0x744)]['get'](_0x2a92ca['content'][_0x1a2bde(0x235)])?.[_0x1a2bde(0x471)](_0x2a92ca['sourceId'],_0x2a92ca[_0x1a2bde(0x41b)]['transactionIds']);break;case _0x36fe9a[_0x1a2bde(0x402)]:this[_0x1a2bde(0x486)][_0x1a2bde(0x257)][_0x1a2bde(0x25c)](_0x1a2bde(0x28b),{'label':_0x2a92ca[_0x1a2bde(0x41b)][_0x1a2bde(0x235)],'trackKinds':_0x2a92ca[_0x1a2bde(0x41b)][_0x1a2bde(0x3ff)]});}}[_0x32ddeb(0x5e0)]({content:_0x2e0d71}){const _0x40109f=_0x32ddeb;switch(_0x2e0d71['type']){case _0x3f3eb0[_0x40109f(0x205)]:this['handleNodeJoinNeedPublishedStream'](_0x2e0d71),this[_0x40109f(0x4cc)](_0x2e0d71);break;case _0x3f3eb0[_0x40109f(0x59a)]:this[_0x40109f(0x5ce)](_0x2e0d71),this['notifyObjectStoreOfNodeLeave'](_0x2e0d71);}}[_0x32ddeb(0x612)](_0xe9a333){const _0x2e35b5=_0x32ddeb;switch(_0xe9a333['content']['type']){case _0x1152b3[_0x2e35b5(0x4f2)]:this[_0x2e35b5(0x1e5)](_0xe9a333[_0x2e35b5(0x1ad)],_0xe9a333[_0x2e35b5(0x41b)]);break;case _0x1152b3[_0x2e35b5(0x7b4)]:this[_0x2e35b5(0x528)](_0xe9a333[_0x2e35b5(0x1ad)],_0xe9a333[_0x2e35b5(0x41b)]);break;case _0x1152b3['UnsubscribeMediaStream']:this['handleUnsubscribeMediaStream'](_0xe9a333['sourceId'],_0xe9a333[_0x2e35b5(0x41b)]);}}[_0x32ddeb(0x4fb)](_0x10e3f4){const _0x3a2f42=_0x32ddeb;if(0x0===_0x10e3f4[_0x3a2f42(0x4ef)])this['remoteMediaStreams'][_0x3a2f42(0x798)](_0x10e3f4[_0x3a2f42(0x26d)])?.[_0x3a2f42(0x798)](_0x10e3f4[_0x3a2f42(0x235)])?.[_0x3a2f42(0x733)]();else{const _0x1d99dc=this[_0x3a2f42(0x723)]['get'](_0x10e3f4[_0x3a2f42(0x26d)])?.[_0x3a2f42(0x798)](_0x10e3f4[_0x3a2f42(0x235)]);if(!_0x1d99dc)return;_0x10e3f4[_0x3a2f42(0x3ff)][_0x3a2f42(0x801)](_0x3fb489=>_0x1d99dc['unsubscribeTrackEndedListener'](_0x3fb489));}}[_0x32ddeb(0x23c)](_0x5e7899){const _0x18c1fb=_0x32ddeb,{label:_0x297b8e,ownerId:_0x5373ce,stream:{streamId:_0x34392b,availableTrackKinds:_0x24d1fc}}=_0x5e7899;if(this[_0x18c1fb(0x723)][_0x18c1fb(0x798)](_0x5373ce)?.[_0x18c1fb(0x5ae)](_0x297b8e))return void _0x1709c0['log'](_0x459921['Content'],_0x18c1fb(0x753),_0x34392b);const _0x79e3e8=this[_0x18c1fb(0x1d5)](_0x5373ce,_0x297b8e,_0x34392b,_0x24d1fc);this[_0x18c1fb(0x486)][_0x18c1fb(0x257)][_0x18c1fb(0x25c)](_0x18c1fb(0x27f),{'ownerId':_0x5373ce,'stream':_0x79e3e8});}[_0x32ddeb(0x4aa)]({ownerId:_0x26c422,label:_0x59623d}){const _0x38e572=_0x32ddeb;this[_0x38e572(0x741)](_0x26c422,_0x59623d),this[_0x38e572(0x486)][_0x38e572(0x257)][_0x38e572(0x25c)](_0x38e572(0x694),{'ownerId':_0x26c422,'label':_0x59623d});}[_0x32ddeb(0x4c6)](_0x189650){const _0xc7a334=_0x32ddeb;this['removeLocalMediaStream'](_0x189650[_0xc7a334(0x235)]);}[_0x32ddeb(0x647)](_0x23c485){const _0x5c5d42=_0x32ddeb;this[_0x5c5d42(0x576)](_0x23c485[_0x5c5d42(0x235)]);}[_0x32ddeb(0x483)](_0x3dd521){const _0x5247e4=_0x32ddeb;this[_0x5247e4(0x1ca)](_0x3dd521[_0x5247e4(0x235)]);}[_0x32ddeb(0x2b5)](_0x3a111d){this['removeObjectStore'](_0x3a111d['label']);}[_0x32ddeb(0x3c8)](_0x45b893){const _0xaaa621=_0x32ddeb;this[_0xaaa621(0x790)](_0x45b893[_0xaaa621(0x235)]);}[_0x32ddeb(0x41e)](_0x5da65c){const _0x31f685=_0x32ddeb;this['removeKeyValueDatabase'](_0x5da65c[_0x31f685(0x235)]);}[_0x32ddeb(0x1e5)](_0x454ec1,_0x2205bd){const _0x55b3ca=_0x32ddeb,{ownerId:_0x33dbe4,label:_0x8a91a}=_0x2205bd;let _0x39f595;_0x39f595=_0x33dbe4!==this[_0x55b3ca(0x486)]['localNode']['getId']()?this[_0x55b3ca(0x723)][_0x55b3ca(0x798)](_0x33dbe4)[_0x55b3ca(0x798)](_0x8a91a):this[_0x55b3ca(0x6f7)][_0x55b3ca(0x798)](_0x8a91a),_0x39f595[_0x55b3ca(0x2bc)](_0x454ec1,_0x2205bd['params'])[_0x55b3ca(0x558)](_0x2205bd,_0x39f595['getPriority']());}[_0x32ddeb(0x528)](_0x1712d8,_0x57d160){const _0xb25c7d=_0x32ddeb,{ownerId:_0x4051c8,label:_0x1e9c52}=_0x57d160;let _0x5b0a73;_0x5b0a73=_0x4051c8!==this[_0xb25c7d(0x486)][_0xb25c7d(0x7a2)][_0xb25c7d(0x544)]()?this[_0xb25c7d(0x723)][_0xb25c7d(0x798)](_0x4051c8)[_0xb25c7d(0x798)](_0x1e9c52):this[_0xb25c7d(0x6f7)][_0xb25c7d(0x798)](_0x1e9c52),_0x5b0a73['getShareableStream'](_0x1712d8,_0x57d160[_0xb25c7d(0x1ec)])['update'](_0x57d160);}[_0x32ddeb(0x65c)](_0x1ba16b,_0x45355d){const _0x23f28b=_0x32ddeb,{ownerId:_0x44dbc5,label:_0x566a4e}=_0x45355d;let _0x1cceb9;_0x1cceb9=_0x44dbc5!==this['configs'][_0x23f28b(0x7a2)][_0x23f28b(0x544)]()?this[_0x23f28b(0x723)]['get'](_0x44dbc5)[_0x23f28b(0x798)](_0x566a4e):this[_0x23f28b(0x6f7)][_0x23f28b(0x798)](_0x566a4e),_0x1cceb9[_0x23f28b(0x2bc)](_0x1ba16b)[_0x23f28b(0x300)](_0x45355d);}['handleNodeJoinNeedPublishedStream']({id:_0x317596}){const _0x2f0f0b=_0x32ddeb;this[_0x2f0f0b(0x701)]()[_0x2f0f0b(0x801)](_0xc5e529=>{const _0x21cf24=_0x2f0f0b;_0xc5e529[_0x21cf24(0x7db)](_0x317596);});}['handleNodeLeave']({id:_0x1c3a52}){const _0x3ef823=_0x32ddeb;this[_0x3ef823(0x54d)](_0x539506=>_0x539506[_0x3ef823(0x2d6)]()===_0x1c3a52)['forEach'](_0x152565=>{this['removeRemoteMediaStream'](_0x152565['getOwnerId'](),_0x152565['getLabel']());});}[_0x32ddeb(0x4cc)]({id:_0x2806ff}){const _0x2584e8=_0x32ddeb;this[_0x2584e8(0x5e4)][_0x2584e8(0x801)](_0x438b81=>_0x438b81[_0x2584e8(0x7fe)](_0x2806ff));}[_0x32ddeb(0x36c)]({id:_0x16a892}){const _0x4523ad=_0x32ddeb;this[_0x4523ad(0x5e4)]['forEach'](_0x984199=>_0x984199[_0x4523ad(0x5ce)](_0x16a892));}[_0x32ddeb(0x576)](_0x4a7df1){const _0x5d3d8a=_0x32ddeb;if(!this[_0x5d3d8a(0x3bf)][_0x5d3d8a(0x5ae)](_0x4a7df1))throw new _0x56574a(_0x2379f6[_0x5d3d8a(0x44f)],_0x5d3d8a(0x343));const _0x5b5cdf=this[_0x5d3d8a(0x3bf)]['get'](_0x4a7df1);this['jobDispatchers'][_0x5d3d8a(0x27d)](_0x4a7df1),_0x5b5cdf[_0x5d3d8a(0x733)](),this[_0x5d3d8a(0x486)]['mediator']['unregisterSystemSource'](_0x5b5cdf);}['removeJobWorker'](_0x4918db){const _0x374204=_0x32ddeb;if(!this[_0x374204(0x5f3)][_0x374204(0x5ae)](_0x4918db))throw new _0x56574a(_0x2379f6[_0x374204(0x1fd)],'Job\x20Worker\x20does\x20not\x20exist');const _0x337145=this[_0x374204(0x5f3)]['get'](_0x4918db);this[_0x374204(0x5f3)][_0x374204(0x27d)](_0x4918db),_0x337145[_0x374204(0x733)](),this['configs']['mediator'][_0x374204(0x53d)](_0x337145);}['removeObjectStore'](_0x56b5fe){const _0x29547e=_0x32ddeb;if(!this['objectStores'][_0x29547e(0x5ae)](_0x56b5fe))throw new _0x56574a(_0x2379f6['ObjectStoreDoesNotExist'],_0x29547e(0x5d3));const _0x13db80=this[_0x29547e(0x5e4)]['get'](_0x56b5fe);this[_0x29547e(0x5e4)][_0x29547e(0x27d)](_0x56b5fe),_0x13db80[_0x29547e(0x733)](),this[_0x29547e(0x486)][_0x29547e(0x257)][_0x29547e(0x53d)](_0x13db80);}[_0x32ddeb(0x790)](_0x21a401){const _0x9fbc9c=_0x32ddeb;if(!this[_0x9fbc9c(0x47c)][_0x9fbc9c(0x5ae)](_0x21a401))throw new _0x56574a(_0x2379f6['PubSubTopicDoesNotExist'],_0x9fbc9c(0x5d3));const _0x1162f5=this[_0x9fbc9c(0x47c)]['get'](_0x21a401);this[_0x9fbc9c(0x47c)][_0x9fbc9c(0x27d)](_0x21a401),_0x1162f5[_0x9fbc9c(0x733)](),this['configs'][_0x9fbc9c(0x257)][_0x9fbc9c(0x53d)](_0x1162f5);}[_0x32ddeb(0x7f4)](_0x5d0607){const _0x46eced=_0x32ddeb;if(!this[_0x46eced(0x744)]['has'](_0x5d0607))throw new _0x56574a(_0x2379f6[_0x46eced(0x66f)],_0x46eced(0x6e6));const _0x415e19=this[_0x46eced(0x744)][_0x46eced(0x798)](_0x5d0607);this[_0x46eced(0x744)][_0x46eced(0x27d)](_0x5d0607),_0x415e19[_0x46eced(0x733)](),this['configs'][_0x46eced(0x257)][_0x46eced(0x53d)](_0x415e19);}['removeLocalMediaStream'](_0x55eb0c){const _0x287afa=_0x32ddeb;if(!this['localMediaStreams'][_0x287afa(0x5ae)](_0x55eb0c))throw new _0x4daf03(_0x4daf03['codes'][_0x287afa(0x477)],{'label':_0x55eb0c,'localId':this['configs'][_0x287afa(0x7a2)][_0x287afa(0x544)]()});const _0x3d81ec=this[_0x287afa(0x6f7)][_0x287afa(0x798)](_0x55eb0c);this[_0x287afa(0x486)][_0x287afa(0x257)][_0x287afa(0x53d)](_0x3d81ec),_0x3d81ec[_0x287afa(0x733)](),this[_0x287afa(0x6f7)][_0x287afa(0x27d)](_0x55eb0c);}[_0x32ddeb(0x741)](_0xb7d117,_0x36225b){const _0x132954=_0x32ddeb;if(!this[_0x132954(0x723)][_0x132954(0x5ae)](_0xb7d117))throw new _0x4daf03(_0x4daf03['codes']['NodeDoesNotExist'],{'nodeId':_0xb7d117,'localId':this[_0x132954(0x486)][_0x132954(0x7a2)]['getId']()});const _0x335f27=this[_0x132954(0x723)]['get'](_0xb7d117);if(!_0x335f27[_0x132954(0x5ae)](_0x36225b))throw new _0x4daf03(_0x4daf03['codes'][_0x132954(0x7e7)],{'nodeId':_0xb7d117,'label':_0x36225b,'localId':this[_0x132954(0x486)][_0x132954(0x7a2)][_0x132954(0x544)]()});const _0x124be6=_0x335f27['get'](_0x36225b);this[_0x132954(0x486)][_0x132954(0x257)][_0x132954(0x53d)](_0x124be6),_0x124be6[_0x132954(0x733)](),_0x335f27[_0x132954(0x27d)](_0x36225b);}}var _0x4136c2,_0x35a742,_0x1f47d5;!function(_0x231473){const _0x1b361a=_0x32ddeb;_0x231473[_0x1b361a(0x1be)]=_0x1b361a(0x33d),_0x231473['DTVolatility']=_0x1b361a(0x2a4),_0x231473[_0x1b361a(0x41d)]=_0x1b361a(0x517),_0x231473['Bitrate']=_0x1b361a(0x7bf),_0x231473[_0x1b361a(0x6d1)]=_0x1b361a(0x7ae),_0x231473[_0x1b361a(0x706)]=_0x1b361a(0x70f),_0x231473['RoundTripTime']=_0x1b361a(0x4a3),_0x231473[_0x1b361a(0x18b)]='av_delay';}(_0x4136c2||(_0x4136c2={})),function(_0x2676b0){const _0x53fac5=_0x32ddeb;_0x2676b0['CPUCycle']=_0x53fac5(0x234),_0x2676b0[_0x53fac5(0x41d)]=_0x53fac5(0x481),_0x2676b0[_0x53fac5(0x18b)]=_0x53fac5(0x604),_0x2676b0[_0x53fac5(0x706)]=_0x53fac5(0x2ec),_0x2676b0[_0x53fac5(0x1f5)]=_0x53fac5(0x3e3),_0x2676b0[_0x53fac5(0x6d1)]=_0x53fac5(0x6ba),_0x2676b0[_0x53fac5(0x3b7)]='bandwidth.rtt';}(_0x35a742||(_0x35a742={})),function(_0x542416){const _0x1294f5=_0x32ddeb;_0x542416[_0x542416[_0x1294f5(0x428)]=0x0]=_0x1294f5(0x428);}(_0x1f47d5||(_0x1f47d5={}));const _0x253df8=[{'type':_0x4136c2['STVolatility'],'reportMetric':_0x15ca4c=>_0x15ca4c['STVolatility'],'maxThreshold':2.5},{'type':_0x4136c2[_0x32ddeb(0x359)],'reportMetric':_0x558358=>_0x558358[_0x32ddeb(0x359)],'maxThreshold':0.5}],_0x1abe3a=[{'type':_0x4136c2[_0x32ddeb(0x41d)],'reportMetric':_0x5ef04=>{const _0x48ed93=_0x32ddeb,_0x3eb262=0x3e8/_0x5ef04[_0x48ed93(0x522)];return _0x5ef04[_0x48ed93(0x29c)]/_0x3eb262;},'maxThreshold':0.75},{'type':_0x4136c2['Bitrate'],'reportMetric':_0x3bac5f=>{const _0x14f7fb=_0x32ddeb,_0x572c1c=_0x3bac5f[_0x14f7fb(0x522)]*_0x3bac5f[_0x14f7fb(0x24f)]*_0x3bac5f[_0x14f7fb(0x3ae)]*0.12;return _0x3bac5f[_0x14f7fb(0x7bf)]/_0x572c1c;},'minThreshold':0.25},{'type':_0x4136c2[_0x32ddeb(0x6d1)],'reportMetric':_0x13b69c=>_0x13b69c[_0x32ddeb(0x7ae)],'maxThreshold':0.6},{'type':_0x4136c2[_0x32ddeb(0x706)],'reportMetric':_0x5cb924=>_0x5cb924['FPS'],'minThreshold':0xa}],_0x3b0bc9=[{'type':_0x4136c2[_0x32ddeb(0x6d1)],'reportMetric':_0xafb43c=>_0xafb43c[_0x32ddeb(0x7ae)],'maxThreshold':0.6}],_0x515bd5=[{'type':_0x4136c2['RoundTripTime'],'reportMetric':_0x5e3b70=>_0x5e3b70['roundTripTime'],'maxThreshold':0x1/0x0}],_0x58d812=[{'type':_0x4136c2[_0x32ddeb(0x18b)],'reportMetric':_0x230cf6=>_0x230cf6[_0x32ddeb(0x18b)],'maxThreshold':0x12c}],_0x77d9a3=[{'type':_0x35a742['CPUCycle'],'issues':[{'type':_0x4136c2[_0x32ddeb(0x1be)],'threshold':0x5},{'type':_0x4136c2[_0x32ddeb(0x359)],'threshold':0x5}]},{'type':_0x35a742[_0x32ddeb(0x41d)],'issues':[{'type':_0x4136c2[_0x32ddeb(0x41d)],'threshold':0x3}]},{'type':_0x35a742['AudioVideoDelay'],'issues':[{'type':_0x4136c2[_0x32ddeb(0x18b)],'threshold':0x2}]},{'type':_0x35a742[_0x32ddeb(0x706)],'issues':[{'type':_0x4136c2[_0x32ddeb(0x706)],'threshold':0x3}]},{'type':_0x35a742[_0x32ddeb(0x1f5)],'issues':[{'type':_0x4136c2[_0x32ddeb(0x1f5)],'threshold':0x3}]},{'type':_0x35a742[_0x32ddeb(0x6d1)],'issues':[{'type':_0x4136c2[_0x32ddeb(0x6d1)],'threshold':0x3}]},{'type':_0x35a742[_0x32ddeb(0x3b7)],'issues':[{'type':_0x4136c2['RoundTripTime'],'threshold':0x3}]}];var _0x237744,_0x134c61;!function(_0x4f188b){const _0x3c086d=_0x32ddeb;_0x4f188b[_0x4f188b[_0x3c086d(0x63b)]=0x0]='StreamReport',_0x4f188b[_0x4f188b[_0x3c086d(0x3b0)]=0x1]='LocalReport';}(_0x237744||(_0x237744={}));class _0x50d77a{[_0x32ddeb(0x486)];[_0x32ddeb(0x280)]=[];['systemTopic'];constructor(_0x1484e2){const _0x1e6a09=_0x32ddeb;this[_0x1e6a09(0x486)]=_0x1484e2,this[_0x1e6a09(0x486)]['mediator'][_0x1e6a09(0x2d2)](this);}['registerSystemPublisher'](_0xf23662){const _0x5e12e8=_0x32ddeb;this[_0x5e12e8(0x32e)]=_0xf23662;}[_0x32ddeb(0x443)](){const _0x4319f6=_0x32ddeb;this[_0x4319f6(0x32e)]=void 0x0;}[_0x32ddeb(0x36f)](){const _0x31f9d6=_0x32ddeb;this[_0x31f9d6(0x486)]['mediator'][_0x31f9d6(0x53d)](this),this[_0x31f9d6(0x280)]=[];}[_0x32ddeb(0x1f7)](_0x22d1d6){const _0x40c36d=_0x32ddeb;switch(_0x22d1d6[_0x40c36d(0x41b)][_0x40c36d(0x6a0)]){case _0x237744[_0x40c36d(0x3b0)]:this[_0x40c36d(0x717)](_0x22d1d6['content'][_0x40c36d(0x777)]);break;case _0x237744[_0x40c36d(0x63b)]:this['detectStreamIssues'](_0x22d1d6['content'][_0x40c36d(0x777)]);}}[_0x32ddeb(0x43d)](_0x502210,_0x315735,_0x28c69e,_0x3bf88c){const _0x373c1e=_0x32ddeb,_0x46e33a=_0x77d9a3[_0x373c1e(0x323)](_0x1ee618=>_0x1ee618[_0x373c1e(0x280)]['some'](_0x1fe62d=>_0x1fe62d['type']===_0x502210));_0x3bf88c>=_0x46e33a[_0x373c1e(0x280)]['find'](_0x4dd7ea=>_0x4dd7ea['type']===_0x502210)[_0x373c1e(0x335)]&&(this[_0x373c1e(0x6c0)](_0x46e33a[_0x373c1e(0x6a0)],_0x315735,_0x28c69e),this[_0x373c1e(0x280)]=this['issues']['filter'](_0x1c6493=>!(_0x1c6493['type']===_0x502210&&_0x1c6493[_0x373c1e(0x189)]===_0x315735&&_0x1c6493[_0x373c1e(0x202)]===_0x28c69e)));}[_0x32ddeb(0x717)](_0x1c08b2){_0x253df8['forEach'](_0x2af74a=>{const _0x34605c=a0_0x51ad,_0x6d58a0=_0x2af74a['reportMetric'](_0x1c08b2);_0x2af74a[_0x34605c(0x708)]&&_0x6d58a0>_0x2af74a[_0x34605c(0x708)]&&this['addIssue'](_0x2af74a['type'],this['configs'][_0x34605c(0x7a2)]['getId'](),_0x66da55[_0x34605c(0x595)],_0x6d58a0),_0x2af74a[_0x34605c(0x4fc)]&&_0x6d58a0<_0x2af74a['minThreshold']&&this[_0x34605c(0x76a)](_0x2af74a[_0x34605c(0x6a0)],this[_0x34605c(0x486)][_0x34605c(0x7a2)]['getId'](),_0x66da55['Sender'],_0x6d58a0);});}[_0x32ddeb(0x66e)](_0x87579d){const _0x3261da=_0x32ddeb;let _0x469bc1=[];switch(_0x87579d[_0x3261da(0x202)]){case _0x66da55[_0x3261da(0x595)]:_0x469bc1=_0x515bd5;break;case _0x66da55['Receiver']:_0x469bc1=_0x58d812;}_0x87579d[_0x3261da(0x6db)]&&this[_0x3261da(0x7a3)](_0x87579d[_0x3261da(0x189)],_0x66da55[_0x3261da(0x595)],_0x87579d[_0x3261da(0x6db)]),_0x87579d[_0x3261da(0x1ea)]&&this['detectAudioIssues'](_0x87579d[_0x3261da(0x189)],_0x66da55['Sender'],_0x87579d[_0x3261da(0x1ea)]),_0x469bc1[_0x3261da(0x801)](_0x866e78=>{const _0x3ceb0e=_0x3261da,_0x365a60=_0x866e78['reportMetric'](_0x87579d);_0x866e78['maxThreshold']&&_0x365a60>_0x866e78[_0x3ceb0e(0x708)]&&this[_0x3ceb0e(0x76a)](_0x866e78[_0x3ceb0e(0x6a0)],_0x87579d['nodeId'],_0x66da55[_0x3ceb0e(0x595)],_0x365a60),_0x866e78[_0x3ceb0e(0x4fc)]&&_0x365a60<_0x866e78[_0x3ceb0e(0x4fc)]&&this[_0x3ceb0e(0x76a)](_0x866e78[_0x3ceb0e(0x6a0)],_0x87579d[_0x3ceb0e(0x189)],_0x66da55[_0x3ceb0e(0x595)],_0x365a60);});}['detectVideoIssues'](_0x255927,_0x345104,_0x16609a){const _0x1fa6ca=_0x32ddeb;0x0!==_0x16609a[_0x1fa6ca(0x7bf)]&&_0x1abe3a[_0x1fa6ca(0x801)](_0x3255d8=>{const _0x29811a=_0x1fa6ca,_0x3b89aa=_0x3255d8[_0x29811a(0x4d2)](_0x16609a);_0x3255d8['maxThreshold']&&_0x3b89aa>_0x3255d8['maxThreshold']&&this[_0x29811a(0x76a)](_0x3255d8[_0x29811a(0x6a0)],_0x255927,_0x345104,_0x3b89aa,_0x29811a(0x6db)),_0x3255d8[_0x29811a(0x4fc)]&&_0x3b89aa<_0x3255d8['minThreshold']&&this[_0x29811a(0x76a)](_0x3255d8[_0x29811a(0x6a0)],_0x255927,_0x345104,_0x3b89aa,_0x29811a(0x6db));});}[_0x32ddeb(0x6c9)](_0x2cc7bd,_0xee21fe,_0x13d8f4){const _0x5a3d62=_0x32ddeb;0x0!==_0x13d8f4[_0x5a3d62(0x7bf)]&&_0x3b0bc9[_0x5a3d62(0x801)](_0x1a22a2=>{const _0x192a4b=_0x5a3d62,_0x3134b9=_0x1a22a2[_0x192a4b(0x4d2)](_0x13d8f4);_0x1a22a2['maxThreshold']&&_0x3134b9>_0x1a22a2[_0x192a4b(0x708)]&&this[_0x192a4b(0x76a)](_0x1a22a2[_0x192a4b(0x6a0)],_0x2cc7bd,_0xee21fe,_0x3134b9,_0x192a4b(0x1ea)),_0x1a22a2[_0x192a4b(0x4fc)]&&_0x3134b9<_0x1a22a2[_0x192a4b(0x4fc)]&&this['addIssue'](_0x1a22a2[_0x192a4b(0x6a0)],_0x2cc7bd,_0xee21fe,_0x3134b9,_0x192a4b(0x1ea));});}[_0x32ddeb(0x76a)](_0x104fe5,_0x3de87b,_0x5c9030,_0x4e2efe,_0x5eb5a1){const _0x4ce3dc=_0x32ddeb;_0x1709c0[_0x4ce3dc(0x419)](_0x459921['Detection'],_0x4ce3dc(0x67c)+_0x104fe5,_0x104fe5,_0x4e2efe),_0x1709c0[_0x4ce3dc(0x196)](_0x4ce3dc(0x591),{'clusterId':this[_0x4ce3dc(0x486)][_0x4ce3dc(0x713)],'nodeId':this[_0x4ce3dc(0x486)][_0x4ce3dc(0x7a2)][_0x4ce3dc(0x544)](),'nodeType':this[_0x4ce3dc(0x486)]['localNode'][_0x4ce3dc(0x6a0)],'remoteId':_0x3de87b,'data':{'type':_0x104fe5,'value':_0x4e2efe,'kind':_0x5eb5a1}}),this[_0x4ce3dc(0x280)]=this[_0x4ce3dc(0x280)][_0x4ce3dc(0x6fc)](_0xc72fe1=>Date[_0x4ce3dc(0x5d9)]()-_0xc72fe1['timestamp']<0x7530),this[_0x4ce3dc(0x280)][_0x4ce3dc(0x6f1)]({'timestamp':Date['now'](),'type':_0x104fe5,'nodeId':_0x3de87b,'origin':_0x5c9030,'value':_0x4e2efe,'kind':_0x5eb5a1});const _0xadf1e9=this[_0x4ce3dc(0x280)][_0x4ce3dc(0x6fc)](_0x3baf70=>_0x3baf70['type']===_0x104fe5&&_0x3baf70['nodeId']===_0x3de87b&&_0x3baf70[_0x4ce3dc(0x202)]===_0x5c9030)['length'];this[_0x4ce3dc(0x43d)](_0x104fe5,_0x3de87b,_0x5c9030,_0xadf1e9);}[_0x32ddeb(0x6c0)](_0x348489,_0x2fa156,_0x444056){const _0x411869=_0x32ddeb;_0x1709c0[_0x411869(0x419)](_0x459921[_0x411869(0x70a)],_0x411869(0x1f2)+_0x348489),_0x1709c0[_0x411869(0x196)](_0x411869(0x679),{'clusterId':this['configs'][_0x411869(0x713)],'nodeId':this[_0x411869(0x486)][_0x411869(0x7a2)][_0x411869(0x544)](),'nodeType':this[_0x411869(0x486)][_0x411869(0x7a2)][_0x411869(0x6a0)],'remoteId':_0x2fa156,'data':{'type':_0x348489}}),this[_0x411869(0x32e)]?.['publish']({'sourceId':_0x514c9c,'messageType':_0x16f8c2['Detection'],'content':{'type':_0x1f47d5[_0x411869(0x428)],'data':{'timestamp':Date[_0x411869(0x5d9)](),'nodeId':_0x2fa156,'origin':_0x66da55[_0x411869(0x595)],'type':_0x348489}}});}}class _0x380bcd extends _0x53edcc{['type']=_0x16caec[_0x32ddeb(0x244)][_0x32ddeb(0x559)];}class _0x5292f5 extends _0x380bcd{[_0x32ddeb(0x32e)];[_0x32ddeb(0x811)]=Date[_0x32ddeb(0x5d9)]();['updateDebounceTimeout'];[_0x32ddeb(0x472)];['close'](){const _0x49e156=_0x32ddeb;this[_0x49e156(0x6c6)]&&(clearTimeout(this[_0x49e156(0x6c6)]),delete this[_0x49e156(0x6c6)]),delete this[_0x49e156(0x472)],this['currentVersion']=Date['now'](),super['close']();}['registerSystemPublisher'](_0xf339db){this['systemTopic']=_0xf339db;}[_0x32ddeb(0x443)](){const _0xc8bd00=_0x32ddeb;delete this[_0xc8bd00(0x32e)];}['answerJoin'](_0x57b9ea){const _0x4bdb10=_0x32ddeb;!this['updateDebounceTimeout']&&this[_0x4bdb10(0x5a8)]&&this['systemTopic'][_0x4bdb10(0x7db)]({'sourceId':this['id'],'destinationIds':[_0x57b9ea],'propagate':!0x0,'messageType':_0x16f8c2['Node'],'content':{'type':_0x3f3eb0[_0x4bdb10(0x43c)],'id':this['id'],'metaData':{'type':this[_0x4bdb10(0x6a0)]},'rank':this[_0x4bdb10(0x2f9)](),'remoteConnections':Array[_0x4bdb10(0x34d)](this[_0x4bdb10(0x5cd)]),'version':this[_0x4bdb10(0x811)]}});}[_0x32ddeb(0x2bb)](_0x3c9480){const _0x37345a=_0x32ddeb;this[_0x37345a(0x5cd)]['has'](_0x3c9480)||(this[_0x37345a(0x5cd)][_0x37345a(0x259)](_0x3c9480),this[_0x37345a(0x358)](),this[_0x37345a(0x42e)](!0x0));}[_0x32ddeb(0x1ef)](_0x3f9083){const _0x28ca16=_0x32ddeb;this['remoteConnections'][_0x28ca16(0x5ae)](_0x3f9083)&&(this[_0x28ca16(0x5cd)][_0x28ca16(0x27d)](_0x3f9083),this[_0x28ca16(0x358)](),this['publishUserUpdate'](!0x0));}[_0x32ddeb(0x707)](){return this['currentVersion'];}[_0x32ddeb(0x461)](_0x4d00bb,_0x52bc9c=!0x0){const _0x58c03d=_0x32ddeb;this[_0x58c03d(0x5a8)]!==_0x4d00bb&&(this[_0x58c03d(0x5a8)]=_0x4d00bb,_0x52bc9c&&(this['incrementVersion'](),this[_0x58c03d(0x42e)]()));}['incrementVersion'](){const _0x2f7ecd=_0x32ddeb;this['currentVersion']=Date[_0x2f7ecd(0x5d9)]();}[_0x32ddeb(0x42e)](_0x105ca5=!0x1){const _0x30b1b4=_0x32ddeb;if(this[_0x30b1b4(0x5a8)]){if(this['lastUpdated']||(this[_0x30b1b4(0x472)]=Date[_0x30b1b4(0x5d9)]()),this['updateDebounceTimeout']){if(Date[_0x30b1b4(0x5d9)]()-this[_0x30b1b4(0x472)]>0x2328)return;clearTimeout(this['updateDebounceTimeout']);}this[_0x30b1b4(0x6c6)]=setTimeout(()=>{const _0x577b4b=_0x30b1b4;delete this[_0x577b4b(0x472)],delete this['updateDebounceTimeout'],this[_0x577b4b(0x32e)]['publish']({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x16f8c2['Node'],'content':{'type':_0x105ca5?_0x3f3eb0[_0x577b4b(0x509)]:_0x3f3eb0['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0x577b4b(0x6a0)]},'rank':this[_0x577b4b(0x2f9)](),'remoteConnections':Array[_0x577b4b(0x34d)](this['remoteConnections']),'version':this[_0x577b4b(0x811)]}});},0x3e8);}}}class _0xfd225d extends _0x453244{['systemTopic'];['currentVersion']=Date['now']();[_0x32ddeb(0x6c6)];[_0x32ddeb(0x472)];[_0x32ddeb(0x36f)](){const _0x2095d9=_0x32ddeb;this[_0x2095d9(0x6c6)]&&(clearTimeout(this['updateDebounceTimeout']),delete this['updateDebounceTimeout']),delete this[_0x2095d9(0x472)],this[_0x2095d9(0x811)]=Date[_0x2095d9(0x5d9)](),super[_0x2095d9(0x36f)]();}[_0x32ddeb(0x7ff)](_0x1e636c){const _0x558f1e=_0x32ddeb;this[_0x558f1e(0x32e)]=_0x1e636c;}[_0x32ddeb(0x443)](){const _0x3c44ad=_0x32ddeb;delete this[_0x3c44ad(0x32e)];}['answerJoin'](_0x11a71e){const _0x2d823b=_0x32ddeb;!this['updateDebounceTimeout']&&this['rank']&&this['systemTopic'][_0x2d823b(0x7db)]({'sourceId':this['id'],'destinationIds':[_0x11a71e],'propagate':!0x0,'messageType':_0x16f8c2[_0x2d823b(0x7d7)],'content':{'type':_0x3f3eb0[_0x2d823b(0x43c)],'id':this['id'],'metaData':{'type':this[_0x2d823b(0x6a0)],'displayName':this[_0x2d823b(0x63a)](),'email':this[_0x2d823b(0x3e6)]()},'rank':this[_0x2d823b(0x2f9)](),'remoteConnections':Array[_0x2d823b(0x34d)](this['remoteConnections']),'version':this['currentVersion']}});}[_0x32ddeb(0x2bb)](_0x1b175e){const _0x42952c=_0x32ddeb;this['remoteConnections'][_0x42952c(0x5ae)](_0x1b175e)||(this['remoteConnections'][_0x42952c(0x259)](_0x1b175e),this['incrementVersion'](),this[_0x42952c(0x42e)](!0x0));}[_0x32ddeb(0x1ef)](_0x857b7a){const _0x4fa365=_0x32ddeb;this[_0x4fa365(0x5cd)][_0x4fa365(0x5ae)](_0x857b7a)&&(this['remoteConnections']['delete'](_0x857b7a),this[_0x4fa365(0x358)](),this[_0x4fa365(0x42e)](!0x0));}[_0x32ddeb(0x707)](){return this['currentVersion'];}[_0x32ddeb(0x56b)](_0x12b40d){const _0x18baa7=_0x32ddeb;this[_0x18baa7(0x5b2)]!==_0x12b40d&&(this[_0x18baa7(0x5b2)]=_0x12b40d,this[_0x18baa7(0x358)](),this['publishUserUpdate']());}[_0x32ddeb(0x36e)](_0x43059d){const _0x42fac6=_0x32ddeb;this[_0x42fac6(0x281)]!==_0x43059d&&(this[_0x42fac6(0x281)]=_0x43059d,this[_0x42fac6(0x358)](),this[_0x42fac6(0x42e)]());}['setRank'](_0x422504,_0x100061=!0x0){const _0x371815=_0x32ddeb;this[_0x371815(0x5a8)]!==_0x422504&&(this[_0x371815(0x5a8)]=_0x422504,_0x100061&&(this[_0x371815(0x358)](),this['publishUserUpdate']()));}['incrementVersion'](){const _0x158d1e=_0x32ddeb;this[_0x158d1e(0x811)]=Date[_0x158d1e(0x5d9)]();}[_0x32ddeb(0x42e)](_0x22e67f=!0x1){const _0x15e936=_0x32ddeb;if(this['rank']){if(this[_0x15e936(0x472)]||(this[_0x15e936(0x472)]=Date[_0x15e936(0x5d9)]()),this['updateDebounceTimeout']){if(Date[_0x15e936(0x5d9)]()-this[_0x15e936(0x472)]>0x2328)return;clearTimeout(this[_0x15e936(0x6c6)]);}this['updateDebounceTimeout']=setTimeout(()=>{const _0x3848b5=_0x15e936;delete this[_0x3848b5(0x472)],delete this[_0x3848b5(0x6c6)],this[_0x3848b5(0x32e)][_0x3848b5(0x7db)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x16f8c2[_0x3848b5(0x7d7)],'content':{'type':_0x22e67f?_0x3f3eb0[_0x3848b5(0x509)]:_0x3f3eb0[_0x3848b5(0x43c)],'id':this['id'],'metaData':{'type':this['type'],'displayName':this[_0x3848b5(0x63a)](),'email':this['getEmail']()},'rank':this[_0x3848b5(0x2f9)](),'remoteConnections':Array[_0x3848b5(0x34d)](this[_0x3848b5(0x5cd)]),'version':this[_0x3848b5(0x811)]}});},0x3e8);}}}class _0x5d3d22{['id'];['groupId'];[_0x32ddeb(0x3ce)];[_0x32ddeb(0x366)];['type']=_0x16caec[_0x32ddeb(0x244)][_0x32ddeb(0x559)];[_0x32ddeb(0x231)];constructor(_0x279be1,_0x5aaac3,_0x3bc600,_0x5cb033){const _0x54187d=_0x32ddeb;this['id']=_0x279be1,this[_0x54187d(0x736)]=_0x5aaac3,this[_0x54187d(0x3ce)]=_0x3bc600,this[_0x54187d(0x366)]=_0x5cb033;}[_0x32ddeb(0x544)](){return this['id'];}[_0x32ddeb(0x762)](_0x32bb75){const _0x37a042=_0x32ddeb,_0x369d28=(0x0,_0x3ef15c[_0x37a042(0x50d)])((0x0,_0x3ef15c['doc'])(_0x194e5e['getFirestore'](),_0x37a042(0x570)+this['vendorId']+_0x37a042(0x7ab)+this[_0x37a042(0x736)]),_0x3fb88a=>{const _0x67b2d4=_0x37a042;if(_0x3fb88a[_0x67b2d4(0x261)]()){const _0x69daff=_0x3fb88a[_0x67b2d4(0x777)]();if(this[_0x67b2d4(0x366)][_0x67b2d4(0x2c4)][_0x67b2d4(0x46b)](_0x69daff[_0x67b2d4(0x2c4)]))return;_0x1709c0[_0x67b2d4(0x419)](_0x459921[_0x67b2d4(0x7d7)],_0x67b2d4(0x2b6),{'agentId':this['id'],'groupId':this[_0x67b2d4(0x736)],'oldConfig':this[_0x67b2d4(0x366)],'newConfig':_0x69daff}),this[_0x67b2d4(0x366)]=_0x69daff,_0x32bb75();}});return()=>_0x369d28();}['setReportCapacity'](_0x4aab5a){const _0x352ceb=_0x32ddeb;return this[_0x352ceb(0x2f5)](this[_0x352ceb(0x736)],_0x4aab5a),_0x43cca0['setInterval'](()=>this[_0x352ceb(0x2f5)](this['groupId'],_0x4aab5a),0x493e0);}['getCapacityReport'](){const _0x34f7ee=_0x32ddeb;if(!this[_0x34f7ee(0x231)])throw new _0x4daf03(_0x4daf03['codes'][_0x34f7ee(0x7cc)]);return this[_0x34f7ee(0x231)];}async[_0x32ddeb(0x2f5)](_0x2a9362,_0x54a746){const _0x318e8f=_0x32ddeb,_0x995ab0=await _0x54a746();this[_0x318e8f(0x231)]=_0x995ab0,await(0x0,_0x3ef15c[_0x318e8f(0x5c4)])((0x0,_0x3ef15c[_0x318e8f(0x512)])(_0x194e5e[_0x318e8f(0x3ca)](),_0x318e8f(0x570)+this['vendorId']+'/capacities'),{'agentId':this['id'],'groupId':_0x2a9362,'timestamp':(0x0,_0x3ef15c['serverTimestamp'])(),'capacity':_0x995ab0});}}!function(_0x33177a){const _0x514b8a=_0x32ddeb;_0x33177a[_0x33177a[_0x514b8a(0x5d5)]=0x0]=_0x514b8a(0x5d5),_0x33177a[_0x33177a[_0x514b8a(0x475)]=0x1]=_0x514b8a(0x475);}(_0x134c61||(_0x134c61={}));class _0x5d407c extends _0x380bcd{[_0x32ddeb(0x811)];['status']=_0x134c61[_0x32ddeb(0x5d5)];[_0x32ddeb(0x472)]=Date[_0x32ddeb(0x5d9)]();constructor(_0x3b9476,_0x40394e=new Set(),_0x399760,_0x420a99){const _0x234bf5=_0x32ddeb;super(_0x3b9476,_0x40394e,_0x420a99),this[_0x234bf5(0x811)]=_0x399760;}['getCurrentVersion'](){const _0x502214=_0x32ddeb;return this[_0x502214(0x811)];}[_0x32ddeb(0x766)](){const _0x464936=_0x32ddeb;return this[_0x464936(0x5b1)];}[_0x32ddeb(0x1c9)](){const _0xf8fb29=_0x32ddeb;return this[_0xf8fb29(0x472)];}['setRank'](_0x277268){const _0x3a3398=_0x32ddeb;this[_0x3a3398(0x5a8)]!==_0x277268&&(this[_0x3a3398(0x5a8)]=_0x277268,this[_0x3a3398(0x568)]());}[_0x32ddeb(0x5a6)](_0x3e3264){const _0x39b837=_0x32ddeb;let _0x5e2e69=!0x1;for(const _0x41a67e of this[_0x39b837(0x5cd)])_0x3e3264[_0x39b837(0x31c)](_0x41a67e)||(_0x5e2e69=!0x0,this[_0x39b837(0x5cd)][_0x39b837(0x27d)](_0x41a67e));for(const _0x165bad of _0x3e3264)this['remoteConnections'][_0x39b837(0x5ae)](_0x165bad)||(_0x5e2e69=!0x0,this[_0x39b837(0x5cd)][_0x39b837(0x259)](_0x165bad));_0x5e2e69&&this[_0x39b837(0x568)]();}['setCurrentVersion'](_0x1d8ca5){const _0x39480d=_0x32ddeb;this[_0x39480d(0x811)]!==_0x1d8ca5&&(this[_0x39480d(0x811)]=_0x1d8ca5,this[_0x39480d(0x568)]());}[_0x32ddeb(0x7d3)](_0x257418){const _0x1fb84c=_0x32ddeb;this['status']!==_0x257418&&(this['status']=_0x257418,this[_0x1fb84c(0x568)](),_0x257418===_0x134c61[_0x1fb84c(0x475)]&&this[_0x1fb84c(0x36f)]());}[_0x32ddeb(0x568)](){const _0x317d29=_0x32ddeb;this['lastUpdated']=Date[_0x317d29(0x5d9)]();}}class _0x5e4473 extends _0x453244{['currentVersion'];[_0x32ddeb(0x5b1)]=_0x134c61['Online'];[_0x32ddeb(0x472)]=Date[_0x32ddeb(0x5d9)]();constructor(_0x47d160,_0x4a7846,_0x267edd,_0x43106e=new Set(),_0x52bbf2,_0x431817){const _0x3a774e=_0x32ddeb;super(_0x47d160,_0x4a7846,_0x267edd,_0x43106e,_0x431817),this[_0x3a774e(0x811)]=_0x52bbf2;}[_0x32ddeb(0x707)](){const _0x3d3659=_0x32ddeb;return this[_0x3d3659(0x811)];}[_0x32ddeb(0x766)](){return this['status'];}[_0x32ddeb(0x1c9)](){return this['lastUpdated'];}['setDisplayName'](_0x215192){const _0x542eaf=_0x32ddeb;this[_0x542eaf(0x5b2)]!==_0x215192&&(this[_0x542eaf(0x5b2)]=_0x215192,this[_0x542eaf(0x568)]());}[_0x32ddeb(0x36e)](_0x3319ff){const _0x31cc90=_0x32ddeb;this[_0x31cc90(0x281)]!==_0x3319ff&&(this[_0x31cc90(0x281)]=_0x3319ff,this[_0x31cc90(0x568)]());}['setRank'](_0x14e9fa){const _0x3906b9=_0x32ddeb;this[_0x3906b9(0x5a8)]!==_0x14e9fa&&(this['rank']=_0x14e9fa,this[_0x3906b9(0x568)]());}[_0x32ddeb(0x5a6)](_0x42ee76){const _0x41cb92=_0x32ddeb;let _0x18152a=!0x1;for(const _0x240c8a of this[_0x41cb92(0x5cd)])_0x42ee76[_0x41cb92(0x31c)](_0x240c8a)||(_0x18152a=!0x0,this[_0x41cb92(0x5cd)][_0x41cb92(0x27d)](_0x240c8a));for(const _0x235ae0 of _0x42ee76)this['remoteConnections'][_0x41cb92(0x5ae)](_0x235ae0)||(_0x18152a=!0x0,this[_0x41cb92(0x5cd)]['add'](_0x235ae0));_0x18152a&&this[_0x41cb92(0x568)]();}[_0x32ddeb(0x284)](_0x11dd86){const _0x358580=_0x32ddeb;this['currentVersion']!==_0x11dd86&&(this[_0x358580(0x811)]=_0x11dd86,this[_0x358580(0x568)]());}['setStatus'](_0x101e61){const _0x1a87f0=_0x32ddeb;this[_0x1a87f0(0x5b1)]!==_0x101e61&&(this[_0x1a87f0(0x5b1)]=_0x101e61,this[_0x1a87f0(0x568)](),_0x101e61===_0x134c61[_0x1a87f0(0x475)]&&this[_0x1a87f0(0x36f)]());}[_0x32ddeb(0x568)](){const _0x4c501d=_0x32ddeb;this[_0x4c501d(0x472)]=Date['now']();}}class _0x2360b7{[_0x32ddeb(0x3ce)];[_0x32ddeb(0x713)];[_0x32ddeb(0x7a2)];['minConnections'];[_0x32ddeb(0x1fa)]=_0x70c74f();[_0x32ddeb(0x3f8)];['childRemovedUnsubscriber'];[_0x32ddeb(0x3ea)];[_0x32ddeb(0x272)]=!0x1;['clusterKey'];[_0x32ddeb(0x2ce)];constructor(_0x26e768,_0x2b8f55,_0xed3bf7,_0x5f379d){const _0x1cc003=_0x32ddeb;this[_0x1cc003(0x3ce)]=_0x26e768,this['clusterId']=_0x2b8f55,this[_0x1cc003(0x7a2)]=_0xed3bf7,this[_0x1cc003(0x71b)]=_0x5f379d,this[_0x1cc003(0x656)]='ccc'+this[_0x1cc003(0x3ce)]+_0x1cc003(0x514)+this[_0x1cc003(0x713)],this[_0x1cc003(0x2ce)]=_0x1cc003(0x514)+this[_0x1cc003(0x3ce)]+_0x1cc003(0x514)+this[_0x1cc003(0x7a2)][_0x1cc003(0x544)](),this[_0x1cc003(0x3f8)]=(0x0,_0x5776b7['onValue'])((0x0,_0x5776b7[_0x1cc003(0x2ff)])(_0x194e5e['getDatabase'](),_0x1cc003(0x2d7)),_0x1377ec=>{const _0x2a941a=_0x1cc003;!0x0!==_0x1377ec[_0x2a941a(0x6bb)]()?this[_0x2a941a(0x272)]&&_0x1709c0[_0x2a941a(0x4fe)](_0x2a941a(0x47e),{'clusterId':this[_0x2a941a(0x713)],'nodeId':this[_0x2a941a(0x7a2)][_0x2a941a(0x544)](),'nodeType':this[_0x2a941a(0x7a2)][_0x2a941a(0x6a0)]}):(this['connected']=!0x0,this[_0x2a941a(0x6ca)](),_0x1709c0[_0x2a941a(0x448)](_0x2a941a(0x71e),{'clusterId':this[_0x2a941a(0x713)],'nodeId':this[_0x2a941a(0x7a2)]['getId'](),'nodeType':this[_0x2a941a(0x7a2)]['type']}));});}async[_0x32ddeb(0x710)](){const _0x1f42eb=_0x32ddeb;await this[_0x1f42eb(0x6cc)]();const _0x20b8dc=await this[_0x1f42eb(0x2c0)]();return this[_0x1f42eb(0x498)]=(0x0,_0x5776b7['onChildRemoved'])((0x0,_0x5776b7['ref'])(_0x194e5e[_0x1f42eb(0x4d3)](),_0x1f42eb(0x26c)+this[_0x1f42eb(0x656)]+_0x1f42eb(0x399)),_0x4b352c=>{const _0x5c7e45=_0x1f42eb,_0x39d5cd=_0x4b352c[_0x5c7e45(0x543)];if(!_0x39d5cd)return;const _0x1bedeb=_0x39d5cd['replace'](_0x5c7e45(0x514)+this[_0x5c7e45(0x3ce)]+_0x5c7e45(0x514),'');this[_0x5c7e45(0x1fa)][_0x5c7e45(0x7db)](_0x1bedeb);}),_0x20b8dc;}async[_0x32ddeb(0x36f)](){const _0x498bf6=_0x32ddeb;this['childRemovedUnsubscriber']?.(),delete this[_0x498bf6(0x498)],this[_0x498bf6(0x3ea)]?.[_0x498bf6(0x7e8)](),delete this['onDisconnectHandler'],this[_0x498bf6(0x3f8)]?.(),delete this[_0x498bf6(0x3f8)],await(0x0,_0x5776b7['remove'])((0x0,_0x5776b7[_0x498bf6(0x2ff)])(_0x194e5e[_0x498bf6(0x4d3)](),_0x498bf6(0x26c)+this[_0x498bf6(0x656)]+_0x498bf6(0x768)+this[_0x498bf6(0x2ce)]));}[_0x32ddeb(0x759)](_0x59e9fc){const _0x56fb0a=_0x32ddeb;return this[_0x56fb0a(0x1fa)]['subscribe'](_0x59e9fc);}async['getAncestors'](){const _0x2e12c8=_0x32ddeb,_0x36a855=[],_0x1fd3e9=await(0x0,_0x5776b7[_0x2e12c8(0x798)])((0x0,_0x5776b7[_0x2e12c8(0x2ff)])(_0x194e5e['getDatabase'](),_0x2e12c8(0x26c)+this[_0x2e12c8(0x656)]+_0x2e12c8(0x399))),_0x1bf5d9=[];return _0x1fd3e9[_0x2e12c8(0x801)](_0x59392b=>{const _0x24dc20=_0x2e12c8,_0x2ca26b=_0x59392b[_0x24dc20(0x543)]?.[_0x24dc20(0x3b2)](_0x24dc20(0x514)+this[_0x24dc20(0x3ce)]+_0x24dc20(0x514),'');_0x1bf5d9['push']({'id':_0x2ca26b,'joinedAt':_0x59392b[_0x24dc20(0x6bb)]()['joinedAt'],'priority':_0x59392b[_0x24dc20(0x6bb)]()[_0x24dc20(0x396)]});}),_0x1bf5d9[_0x2e12c8(0x78b)]((_0xc5918,_0x10f8e9)=>_0xc5918[_0x2e12c8(0x246)]===_0x10f8e9[_0x2e12c8(0x246)]?_0xc5918['priority']-_0x10f8e9[_0x2e12c8(0x396)]:_0xc5918[_0x2e12c8(0x246)]-_0x10f8e9[_0x2e12c8(0x246)])[_0x2e12c8(0x1a5)](_0x1bf5d9[_0x2e12c8(0x78e)](_0x55ab07=>_0x55ab07['id']===this['localNode'][_0x2e12c8(0x544)]())),_0x1bf5d9['sort']((_0x54105d,_0x302aa1)=>_0x302aa1['joinedAt']===_0x54105d['joinedAt']?_0x302aa1[_0x2e12c8(0x396)]-_0x54105d['priority']:_0x302aa1[_0x2e12c8(0x246)]-_0x54105d[_0x2e12c8(0x246)])[_0x2e12c8(0x801)](_0x1d0dfa=>{const _0x22193a=_0x2e12c8;_0x36a855['length']>=this[_0x22193a(0x71b)]||_0x36a855[_0x22193a(0x6f1)](_0x1d0dfa['id']);}),_0x1709c0['logEvent'](_0x2e12c8(0x7dc),{'clusterId':this['clusterId'],'nodeId':this[_0x2e12c8(0x7a2)][_0x2e12c8(0x544)](),'nodeType':this[_0x2e12c8(0x7a2)][_0x2e12c8(0x6a0)],'data':{'ancestorIds':_0x36a855,'allNodes':_0x1bf5d9}}),_0x36a855;}async[_0x32ddeb(0x6cc)](){const _0x33834d=_0x32ddeb;await(0x0,_0x5776b7['set'])((0x0,_0x5776b7['ref'])(_0x194e5e[_0x33834d(0x4d3)](),'clusters/'+this[_0x33834d(0x656)]+_0x33834d(0x768)+this[_0x33834d(0x2ce)]),{'joinedAt':(0x0,_0x5776b7[_0x33834d(0x2ba)])(),'priority':Math[_0x33834d(0x573)]()});}[_0x32ddeb(0x6ca)](){const _0x43cba8=_0x32ddeb;this[_0x43cba8(0x3ea)]&&this[_0x43cba8(0x3ea)][_0x43cba8(0x7e8)](),this['onDisconnectHandler']=(0x0,_0x5776b7[_0x43cba8(0x681)])((0x0,_0x5776b7[_0x43cba8(0x2ff)])(_0x194e5e[_0x43cba8(0x4d3)](),'clusters/'+this['clusterKey']+'/nodes/'+this[_0x43cba8(0x2ce)])),this[_0x43cba8(0x3ea)][_0x43cba8(0x437)]();}}class _0x31402d{[_0x32ddeb(0x486)];['graphService'];['localNode'];['remoteUnsubscriber'];[_0x32ddeb(0x3df)];[_0x32ddeb(0x6df)];[_0x32ddeb(0x54e)]=[];[_0x32ddeb(0x32e)];['optimizationLayers']=new Map();[_0x32ddeb(0x392)];['lastProcessRank'];constructor(_0x5ba1d2,_0x2bd0e6,_0x4181fa){const _0x5e2185=_0x32ddeb;this[_0x5e2185(0x486)]=_0x5ba1d2,this[_0x5e2185(0x722)]=_0x2bd0e6,this['localNode']=_0x4181fa,this['discoveryService']=new _0x2360b7(this[_0x5e2185(0x486)][_0x5e2185(0x3ce)],this['configs'][_0x5e2185(0x713)],this[_0x5e2185(0x7a2)],this[_0x5e2185(0x722)]['getMinConnections']()),this[_0x5e2185(0x6df)]=this[_0x5e2185(0x3df)][_0x5e2185(0x759)](this[_0x5e2185(0x4d9)]['bind'](this)),this[_0x5e2185(0x486)][_0x5e2185(0x257)][_0x5e2185(0x2d2)](this[_0x5e2185(0x7a2)]),this['configs']['mediator'][_0x5e2185(0x2d2)](this),this[_0x5e2185(0x3b1)]=_0x43cca0[_0x5e2185(0x338)](()=>{const _0x2c187c=_0x5e2185,_0x44a91b=Date['now']();this[_0x2c187c(0x722)][_0x2c187c(0x73f)]()['forEach'](_0x56d029=>{const _0x7a98cf=_0x2c187c;_0x56d029[_0x7a98cf(0x766)]()===_0x134c61['Offline']&&_0x56d029[_0x7a98cf(0x1c9)]()<_0x44a91b-0x493e0&&this['graphService'][_0x7a98cf(0x507)](_0x56d029[_0x7a98cf(0x544)]());});},0xea60);}['registerSystemPublisher'](_0x23a62c){const _0x2941bb=_0x32ddeb;this[_0x2941bb(0x32e)]=_0x23a62c;}[_0x32ddeb(0x443)](){const _0x34a663=_0x32ddeb;delete this[_0x34a663(0x32e)];}['close'](){const _0x3fcace=_0x32ddeb;this[_0x3fcace(0x392)]&&(clearTimeout(this[_0x3fcace(0x392)]),delete this[_0x3fcace(0x392)]),delete this[_0x3fcace(0x535)],this[_0x3fcace(0x7a2)][_0x3fcace(0x36f)](),this[_0x3fcace(0x3b1)](),this[_0x3fcace(0x6df)](),this[_0x3fcace(0x486)]['mediator'][_0x3fcace(0x53d)](this['localNode']),this[_0x3fcace(0x486)]['mediator'][_0x3fcace(0x53d)](this),this[_0x3fcace(0x3df)]['close']();}[_0x32ddeb(0x2a1)](){const _0x45c772=_0x32ddeb;return this[_0x45c772(0x54e)];}[_0x32ddeb(0x648)](){const _0x5e8569=_0x32ddeb;return this[_0x5e8569(0x7a2)][_0x5e8569(0x544)]();}[_0x32ddeb(0x1d9)](){const _0x3e7e25=_0x32ddeb;return this[_0x3e7e25(0x7a2)];}[_0x32ddeb(0x73f)](_0x1a7f14){const _0x10756d=_0x32ddeb,_0xf108da=Array['from'](this[_0x10756d(0x722)][_0x10756d(0x73f)]()[_0x10756d(0x693)]())[_0x10756d(0x6fc)](_0x5daef8=>_0x5daef8[_0x10756d(0x766)]()===_0x134c61[_0x10756d(0x5d5)]);return _0x1a7f14?_0xf108da[_0x10756d(0x6fc)](_0x1a7f14):_0xf108da;}async[_0x32ddeb(0x7dc)](){const _0x64c4d6=_0x32ddeb;return this[_0x64c4d6(0x54e)]=await this['discoveryService'][_0x64c4d6(0x710)](),this['ancestors'][_0x64c4d6(0x19d)]<this['graphService']['getMinConnections']()&&(this[_0x64c4d6(0x7a2)][_0x64c4d6(0x461)](this[_0x64c4d6(0x54e)][_0x64c4d6(0x19d)]+0x1),this[_0x64c4d6(0x388)]()),this[_0x64c4d6(0x54e)];}[_0x32ddeb(0x2e6)](_0x317d10,_0x22424e){const _0x525295=_0x32ddeb,_0x14a14c=this[_0x525295(0x7a2)]['getRemoteConnections'](),_0x1959c7=new Set(_0x14a14c),_0x18b302=Array[_0x525295(0x34d)](_0x14a14c)['filter'](_0x243222=>_0x243222!==_0x317d10)[_0x525295(0x1a1)](_0x8bb4eb=>({'id':_0x8bb4eb,'distance':0x1}));for(;_0x18b302[_0x525295(0x19d)]>0x0;){const _0x5b606c=_0x18b302[_0x525295(0x181)]();if(!_0x5b606c)continue;if(_0x5b606c['id']===_0x22424e)return _0x5b606c['distance'];const _0x2cec44=this['graphService'][_0x525295(0x5ad)](_0x5b606c['id']);_0x2cec44&&_0x2cec44[_0x525295(0x766)]()!==_0x134c61['Offline']&&_0x2cec44[_0x525295(0x211)]()[_0x525295(0x801)](_0x1ad9aa=>{const _0x4352f1=_0x525295;_0x1959c7['has'](_0x1ad9aa)||(_0x1959c7[_0x4352f1(0x259)](_0x1ad9aa),_0x18b302['push']({'id':_0x1ad9aa,'distance':_0x5b606c[_0x4352f1(0x51b)]+0x1}));});}return-0x1;}['handleNodeSystemEvents'](_0x5a40d2){const _0x130a14=_0x32ddeb;try{switch(_0x5a40d2[_0x130a14(0x41b)]['type']){case _0x3f3eb0[_0x130a14(0x43c)]:case _0x3f3eb0['NodeConnectionsUpdate']:this[_0x130a14(0x802)](_0x5a40d2[_0x130a14(0x41b)]),_0x1709c0[_0x130a14(0x419)](_0x459921['Node'],_0x130a14(0x3c0),'\x27'+this[_0x130a14(0x7a2)]['getId']()+',\x20'+_0x5a40d2[_0x130a14(0x1ad)]+'\x27',_0x5a40d2,_0x5a40d2['content']);break;case _0x3f3eb0[_0x130a14(0x59a)]:this[_0x130a14(0x4be)](_0x5a40d2[_0x130a14(0x41b)]['id']),_0x1709c0['log'](_0x459921[_0x130a14(0x7d7)],_0x130a14(0x65d),'\x27'+this[_0x130a14(0x7a2)]['getId']()+',\x20'+_0x5a40d2[_0x130a14(0x1ad)]+'\x27',_0x5a40d2,_0x5a40d2[_0x130a14(0x41b)]);}}catch(_0x5c3e83){if(_0x5c3e83 instanceof _0x3041bf)return void _0x1709c0[_0x130a14(0x419)](_0x459921['Node'],_0x5c3e83[_0x130a14(0x26e)]);throw _0x5c3e83;}}[_0x32ddeb(0x80e)](_0x163264){const _0x5704de=_0x32ddeb;switch(_0x163264[_0x5704de(0x41b)]['type']){case _0x11c283[_0x5704de(0x6ae)]:this[_0x5704de(0x670)](_0x163264[_0x5704de(0x1ad)]),_0x1709c0[_0x5704de(0x419)](_0x459921[_0x5704de(0x7d7)],_0x5704de(0x75e),'\x27'+this['localNode']['getId']()+',\x20'+_0x163264['sourceId']+'\x27',_0x163264,_0x163264[_0x5704de(0x41b)]);break;case _0x11c283['Disconnect']:this['publishNodeLeave'](_0x163264[_0x5704de(0x1ad)]),_0x1709c0[_0x5704de(0x419)](_0x459921[_0x5704de(0x7d7)],_0x5704de(0x3e9),this['localNode']['getId'](),_0x163264,_0x163264['content']);}}[_0x32ddeb(0x7fe)](_0x238104){const _0x50f5b2=_0x32ddeb;this[_0x50f5b2(0x1c6)](_0x238104),this[_0x50f5b2(0x37f)](_0x238104);}['notifyJoin'](_0xdd9808){const _0x26da02=_0x32ddeb;this[_0x26da02(0x7a2)][_0x26da02(0x4e1)](_0xdd9808['id']),this[_0x26da02(0x5e9)](_0xdd9808['id']),this['notifyClusterNodeJoin'](_0xdd9808);}[_0x32ddeb(0x802)](_0x2e3b2e){const _0x1dd2c4=_0x32ddeb,{id:_0x1e6c2c,metaData:_0x5882aa,rank:_0x37c019,remoteConnections:_0x31d0bc,version:_0x106395}=_0x2e3b2e,_0x16230a=this[_0x1dd2c4(0x722)][_0x1dd2c4(0x5ad)](_0x1e6c2c);if(_0x16230a){if(!(_0x106395<=_0x16230a[_0x1dd2c4(0x707)]())){if(_0x16230a[_0x1dd2c4(0x5a6)](_0x31d0bc),_0x16230a[_0x1dd2c4(0x284)](_0x106395),_0x16230a[_0x1dd2c4(0x6a0)]===_0x16caec[_0x1dd2c4(0x244)][_0x1dd2c4(0x579)]&&_0x5882aa[_0x1dd2c4(0x6a0)]===_0x16caec[_0x1dd2c4(0x244)][_0x1dd2c4(0x579)]&&(_0x16230a[_0x1dd2c4(0x56b)](_0x5882aa['displayName']),_0x16230a[_0x1dd2c4(0x36e)](_0x5882aa[_0x1dd2c4(0x281)])),_0x37c019&&_0x16230a['setRank'](_0x37c019),this[_0x1dd2c4(0x200)](_0x1e6c2c,_0x37c019),_0x16230a[_0x1dd2c4(0x766)]()===_0x134c61[_0x1dd2c4(0x475)])return _0x16230a['setStatus'](_0x134c61['Online']),this[_0x1dd2c4(0x388)](),void this[_0x1dd2c4(0x37f)](_0x2e3b2e);this['processRank'](),this[_0x1dd2c4(0x38a)]({'id':_0x1e6c2c,'metaData':_0x5882aa,'remoteConnections':_0x31d0bc,'version':_0x106395});}}else this['handleNodeJoin'](_0x2e3b2e);}[_0x32ddeb(0x200)](_0x171917,_0x10c681){const _0x144344=_0x32ddeb;_0x10c681&&this[_0x144344(0x54e)][_0x144344(0x31c)](_0x171917)&&this['localNode'][_0x144344(0x461)](_0x10c681+this[_0x144344(0x54e)][_0x144344(0x256)](_0x171917)+0x1);}[_0x32ddeb(0x670)](_0x202f29){const _0x3783e3=_0x32ddeb;this[_0x3783e3(0x7a2)][_0x3783e3(0x2bb)](_0x202f29);}['createRemoteNode']({id:_0x555a60,metaData:_0x553e3e,rank:_0x4882c0,remoteConnections:_0x1afe9b,version:_0x45bb90}){const _0x4973ef=_0x32ddeb;if(this[_0x4973ef(0x722)][_0x4973ef(0x729)](_0x555a60))throw new _0x3041bf(_0x4973ef(0x7bb)+_0x555a60);switch(_0x553e3e[_0x4973ef(0x6a0)]){case _0x16caec[_0x4973ef(0x244)][_0x4973ef(0x579)]:const {displayName:_0x549b26,email:_0x445637}=_0x553e3e;this[_0x4973ef(0x722)][_0x4973ef(0x581)](_0x555a60,new _0x5e4473(_0x555a60,_0x549b26,_0x445637,new Set(_0x1afe9b),_0x45bb90,_0x4882c0));break;case _0x16caec[_0x4973ef(0x244)]['Agent']:this[_0x4973ef(0x722)][_0x4973ef(0x581)](_0x555a60,new _0x5d407c(_0x555a60,new Set(_0x1afe9b),_0x45bb90,_0x4882c0));}this['setLocalRank'](_0x555a60,_0x4882c0),this[_0x4973ef(0x388)]();}[_0x32ddeb(0x5e9)](_0xae38f6){const _0x504c7c=_0x32ddeb;this[_0x504c7c(0x32e)][_0x504c7c(0x7db)]({'sourceId':_0x514c9c,'messageType':_0x16f8c2[_0x504c7c(0x7d7)],'content':{'type':_0x3f3eb0[_0x504c7c(0x205)],'id':_0xae38f6}});}[_0x32ddeb(0x4f5)](_0x37671d){const _0x133354=_0x32ddeb;this[_0x133354(0x32e)]?.[_0x133354(0x7db)]({'sourceId':_0x514c9c,'messageType':_0x16f8c2[_0x133354(0x7d7)],'content':{'type':_0x3f3eb0[_0x133354(0x59a)],'id':_0x37671d}});}['handleNodeDisconnect'](_0x5ea283){const _0x454fa0=_0x32ddeb;if(_0x5ea283===this[_0x454fa0(0x7a2)][_0x454fa0(0x544)]())return this['configs'][_0x454fa0(0x257)][_0x454fa0(0x25c)](_0x454fa0(0x55f),{'id':_0x5ea283}),this[_0x454fa0(0x486)][_0x454fa0(0x257)]['close'](!0x0),this[_0x454fa0(0x486)]['mediator'][_0x454fa0(0x800)](),void this[_0x454fa0(0x486)][_0x454fa0(0x257)]['initialize']();this[_0x454fa0(0x4f5)](_0x5ea283);}[_0x32ddeb(0x4be)](_0x9d77ed){const _0x2ffbaf=_0x32ddeb;this[_0x2ffbaf(0x54e)][_0x2ffbaf(0x31c)](_0x9d77ed)?this[_0x2ffbaf(0x6f2)](_0x9d77ed):this[_0x2ffbaf(0x7a2)]['getRemoteConnections']()[_0x2ffbaf(0x5ae)](_0x9d77ed)&&this['manageOptimization'](_0x9d77ed),this[_0x2ffbaf(0x7a2)][_0x2ffbaf(0x1ef)](_0x9d77ed);const _0x3a8b40=Array[_0x2ffbaf(0x34d)](this[_0x2ffbaf(0x48e)][_0x2ffbaf(0x2a9)]())[_0x2ffbaf(0x323)](([,_0x32d880])=>_0x32d880==_0x32d880);_0x3a8b40&&this[_0x2ffbaf(0x48e)][_0x2ffbaf(0x27d)](_0x3a8b40[0x0]);const _0x9ae8f6=this[_0x2ffbaf(0x722)][_0x2ffbaf(0x5ad)](_0x9d77ed);if(!_0x9ae8f6)return;const _0x7b2c58=_0x9ae8f6[_0x2ffbaf(0x2f9)](),_0x27f554=this[_0x2ffbaf(0x7a2)]['getRank']();_0x27f554&&_0x7b2c58&&_0x7b2c58<_0x27f554&&this[_0x2ffbaf(0x7a2)][_0x2ffbaf(0x461)](_0x27f554-0x1,!0x1),Array[_0x2ffbaf(0x34d)](this[_0x2ffbaf(0x722)][_0x2ffbaf(0x73f)]()[_0x2ffbaf(0x693)]())['forEach'](_0x343f41=>{const _0x18e4b4=_0x2ffbaf,_0xb2cdec=_0x343f41[_0x18e4b4(0x2f9)]();_0xb2cdec&&_0x7b2c58&&_0x7b2c58<_0xb2cdec&&_0x343f41['setRank'](_0xb2cdec-0x1);}),_0x9ae8f6[_0x2ffbaf(0x7d3)](_0x134c61['Offline']),this[_0x2ffbaf(0x486)]['mediator'][_0x2ffbaf(0x25c)](_0x9ae8f6['type']+_0x2ffbaf(0x6d5),{'id':_0x9d77ed});}[_0x32ddeb(0x56f)]({id:_0x20b1a1,metaData:_0xa07e13,remoteConnections:_0x5df3f1}){const _0x667052=_0x32ddeb;switch(_0xa07e13[_0x667052(0x6a0)]){case _0x16caec[_0x667052(0x244)][_0x667052(0x579)]:this['configs'][_0x667052(0x257)][_0x667052(0x25c)](_0x667052(0x4f6),{'id':_0x20b1a1,'metaData':_0xa07e13,'remoteConnections':_0x5df3f1});break;case _0x16caec[_0x667052(0x244)]['Agent']:this['configs']['mediator'][_0x667052(0x25c)](_0x667052(0x53b),{'id':_0x20b1a1,'metaData':_0xa07e13,'remoteConnections':_0x5df3f1});}}['notifyClusterNodeUpdate']({id:_0x4b0597,metaData:_0x55de65,remoteConnections:_0x5122e9}){const _0x533553=_0x32ddeb;switch(_0x55de65[_0x533553(0x6a0)]){case _0x16caec[_0x533553(0x244)][_0x533553(0x579)]:this[_0x533553(0x486)]['mediator']['notifyCluster'](_0x533553(0x221),{'id':_0x4b0597,'metaData':_0x55de65,'remoteConnections':_0x5122e9});break;case _0x16caec[_0x533553(0x244)][_0x533553(0x559)]:this[_0x533553(0x486)][_0x533553(0x257)][_0x533553(0x25c)](_0x533553(0x5ff),{'id':_0x4b0597,'metaData':_0x55de65,'remoteConnections':_0x5122e9});}}[_0x32ddeb(0x388)](){const _0x29b78a=_0x32ddeb;if(this[_0x29b78a(0x535)]||(this[_0x29b78a(0x535)]=Date[_0x29b78a(0x5d9)]()),this[_0x29b78a(0x392)]){if(Date[_0x29b78a(0x5d9)]()-this[_0x29b78a(0x535)]>0x2328)return;clearTimeout(this[_0x29b78a(0x392)]);}this[_0x29b78a(0x392)]=setTimeout(async()=>{const _0x553a2d=_0x29b78a;delete this[_0x553a2d(0x535)],delete this[_0x553a2d(0x392)];const _0x3f9fa3=this[_0x553a2d(0x7a2)][_0x553a2d(0x2f9)]();if(!_0x3f9fa3)return;const _0x1a33a1=this[_0x553a2d(0x722)]['getCurrentMaxLayer'](this['graphService'][_0x553a2d(0x73f)]()['size']);if(this['optimizationLayers'][_0x553a2d(0x36a)]>=_0x1a33a1)return;let _0x44c1d7=0x1;for(;this[_0x553a2d(0x486)][_0x553a2d(0x257)]['getConnections']()[_0x553a2d(0x19d)]<this[_0x553a2d(0x722)][_0x553a2d(0x5c5)]()&&_0x44c1d7<=_0x1a33a1;){if(this['optimizationLayers'][_0x553a2d(0x5ae)](_0x44c1d7)){_0x44c1d7+=0x1;continue;}const _0x474436=this[_0x553a2d(0x722)]['getNextTargetRank'](_0x3f9fa3,_0x44c1d7),_0xa6ce81=Array['from'](this['graphService'][_0x553a2d(0x73f)]()[_0x553a2d(0x693)]())[_0x553a2d(0x323)](_0x4448a0=>_0x4448a0[_0x553a2d(0x2f9)]()===_0x474436&&_0x4448a0[_0x553a2d(0x766)]()===_0x134c61[_0x553a2d(0x5d5)]);if(_0xa6ce81){try{await this[_0x553a2d(0x486)][_0x553a2d(0x257)][_0x553a2d(0x4b6)](_0xa6ce81[_0x553a2d(0x544)](),_0x35e181['Optimization']),this['optimizationLayers'][_0x553a2d(0x36d)](_0x44c1d7,_0xa6ce81[_0x553a2d(0x544)]());}catch(_0x32f100){if(!(_0x32f100 instanceof _0x4daf03&&_0x32f100[_0x553a2d(0x684)]===_0x4daf03[_0x553a2d(0x719)][_0x553a2d(0x64d)]))throw _0x32f100;_0x1709c0[_0x553a2d(0x419)](_0x459921['Node'],this[_0x553a2d(0x7a2)][_0x553a2d(0x544)](),_0xa6ce81[_0x553a2d(0x544)](),_0x32f100[_0x553a2d(0x26e)]);}_0x44c1d7+=0x1;}else _0x44c1d7+=0x1;}},0x3e8);}async[_0x32ddeb(0x6f2)](_0x4e0f04){const _0x4de064=_0x32ddeb;this['ancestors']['splice'](this['ancestors'][_0x4de064(0x256)](_0x4e0f04),0x1);const _0x4b3ffb=await this[_0x4de064(0x3df)][_0x4de064(0x2c0)]();for(const _0xb9635f of _0x4b3ffb)if(!this[_0x4de064(0x54e)][_0x4de064(0x31c)](_0xb9635f)){const _0xeedbfc=Array[_0x4de064(0x34d)](this['optimizationLayers'][_0x4de064(0x2a9)]())[_0x4de064(0x323)](([,_0x3e4819])=>_0x3e4819===_0xb9635f);_0xeedbfc&&this[_0x4de064(0x48e)][_0x4de064(0x27d)](_0xeedbfc[0x0]),this[_0x4de064(0x486)][_0x4de064(0x257)][_0x4de064(0x4b6)](_0xb9635f,_0x35e181[_0x4de064(0x4c1)]);}0x0===_0x4b3ffb[_0x4de064(0x19d)]&&this['localNode'][_0x4de064(0x461)](0x1),this['ancestors']=_0x4b3ffb;}async[_0x32ddeb(0x3a9)](_0x5567d6){const _0x4f526e=_0x32ddeb,_0x1b4e3a=this[_0x4f526e(0x7a2)][_0x4f526e(0x2f9)]();if(!_0x1b4e3a)return;const _0x24b836=this[_0x4f526e(0x722)][_0x4f526e(0x5ad)](_0x5567d6);if(!_0x24b836||_0x24b836[_0x4f526e(0x766)]()===_0x134c61[_0x4f526e(0x475)])return;const _0x15e247=_0x24b836[_0x4f526e(0x2f9)]();if(!_0x15e247||_0x15e247<_0x1b4e3a)return;const _0x245fbc=this['getOutgoingOptimizationConnections'](this[_0x4f526e(0x7a2)][_0x4f526e(0x211)](),_0x1b4e3a),_0x1f3a6f=this['getOutgoingOptimizationConnections'](_0x24b836[_0x4f526e(0x211)](),_0x15e247)[_0x245fbc[_0x4f526e(0x78e)](([_0x46cd99])=>_0x46cd99===_0x5567d6)];if(!_0x1f3a6f||this[_0x4f526e(0x7a2)][_0x4f526e(0x211)]()[_0x4f526e(0x5ae)](_0x1f3a6f[0x0]))return;const _0x3bbd56=this[_0x4f526e(0x722)][_0x4f526e(0x5ad)](_0x1f3a6f[0x0]);if(_0x3bbd56&&_0x3bbd56['getStatus']()!==_0x134c61['Offline'])try{await this[_0x4f526e(0x486)][_0x4f526e(0x257)][_0x4f526e(0x4b6)](_0x1f3a6f[0x0],_0x35e181['Optimization']);const _0x18e9d8=Array[_0x4f526e(0x34d)](this[_0x4f526e(0x48e)][_0x4f526e(0x2a9)]())['find'](([,_0x5dd19c])=>_0x5dd19c===_0x5567d6);_0x18e9d8&&this[_0x4f526e(0x48e)][_0x4f526e(0x36d)](_0x18e9d8[0x0],_0x1f3a6f[0x0]);}catch(_0x1f217c){if(!(_0x1f217c instanceof _0x4daf03&&_0x1f217c[_0x4f526e(0x684)]===_0x4daf03[_0x4f526e(0x719)][_0x4f526e(0x64d)]))throw _0x1f217c;_0x1709c0[_0x4f526e(0x419)](_0x459921[_0x4f526e(0x7d7)],this[_0x4f526e(0x7a2)][_0x4f526e(0x544)](),_0x1f3a6f[0x0],_0x1f217c[_0x4f526e(0x26e)]);}}[_0x32ddeb(0x4c8)](_0x4d9524,_0x5238e1){const _0x4b4317=_0x32ddeb;return Array[_0x4b4317(0x34d)](_0x4d9524)[_0x4b4317(0x1d2)]((_0x1f09a8,_0x3da029)=>{const _0x217427=_0x4b4317,_0x375e57=this[_0x217427(0x722)][_0x217427(0x5ad)](_0x3da029);if(!_0x375e57||_0x375e57[_0x217427(0x766)]()===_0x134c61[_0x217427(0x475)])return _0x1f09a8;const _0xd19890=_0x375e57[_0x217427(0x2f9)]();if(!_0xd19890)return _0x1f09a8;const _0x24401e=_0xd19890-_0x5238e1;return _0x24401e<=this[_0x217427(0x722)][_0x217427(0x7e4)]()||_0x1f09a8[_0x217427(0x6f1)]([_0x3da029,_0x24401e]),_0x1f09a8;},[])['sort'](([,_0x1d3cb8],[,_0x495ff8])=>_0x1d3cb8-_0x495ff8);}}const _0x5bcbfd=[{'problemType':_0x35a742[_0x32ddeb(0x1f8)],'remediations':[{'type':_0x410246[_0x32ddeb(0x25a)],'component':_0x314273['Resolution'],'action':_0x5eddc8[_0x32ddeb(0x360)]},{'type':_0x410246['RemoteRemediation'],'component':_0x314273[_0x32ddeb(0x28c)],'action':_0x5eddc8[_0x32ddeb(0x360)]}]},{'problemType':_0x35a742['TimePerFrame'],'remediations':[{'type':_0x410246[_0x32ddeb(0x25a)],'component':_0x314273['Resolution'],'action':_0x5eddc8[_0x32ddeb(0x360)]}]},{'problemType':_0x35a742[_0x32ddeb(0x18b)],'remediations':[{'type':_0x410246['Remediation'],'component':_0x314273[_0x32ddeb(0x28c)],'action':_0x5eddc8['Downgrade']}]},{'problemType':_0x35a742[_0x32ddeb(0x706)],'remediations':[{'type':_0x410246[_0x32ddeb(0x25a)],'component':_0x314273[_0x32ddeb(0x28c)],'action':_0x5eddc8[_0x32ddeb(0x360)]}]},{'problemType':_0x35a742[_0x32ddeb(0x1f5)],'remediations':[{'type':_0x410246[_0x32ddeb(0x25a)],'component':_0x314273[_0x32ddeb(0x1f5)],'action':_0x5eddc8['Downgrade']}]},{'problemType':_0x35a742[_0x32ddeb(0x6d1)],'remediations':[{'type':_0x410246[_0x32ddeb(0x25a)],'component':_0x314273[_0x32ddeb(0x1f5)],'action':_0x5eddc8[_0x32ddeb(0x360)]}]},{'problemType':_0x35a742['RoundTripTime'],'remediations':[{'type':_0x410246[_0x32ddeb(0x25a)],'component':_0x314273[_0x32ddeb(0x1f5)],'action':_0x5eddc8[_0x32ddeb(0x360)]}]}];class _0x1b5c63{[_0x32ddeb(0x486)];[_0x32ddeb(0x32e)];[_0x32ddeb(0x237)]=new Map();constructor(_0x1696a1){const _0x5804e7=_0x32ddeb;this['configs']=_0x1696a1,this['configs'][_0x5804e7(0x257)]['registerSystemSource'](this);}[_0x32ddeb(0x36f)](){const _0x4b5068=_0x32ddeb;this['configs'][_0x4b5068(0x257)][_0x4b5068(0x53d)](this);}[_0x32ddeb(0x7ff)](_0x2ac7a0){this['systemTopic']=_0x2ac7a0;}[_0x32ddeb(0x443)](){delete this['systemTopic'];}[_0x32ddeb(0x2cc)](_0xd8b7c4){const _0xcec13f=_0x32ddeb;_0xd8b7c4['content'][_0xcec13f(0x6a0)]===_0x1f47d5[_0xcec13f(0x428)]&&this[_0xcec13f(0x631)](_0xd8b7c4['content']['data']);}[_0x32ddeb(0x695)](_0x439962){const _0x23b599=_0x32ddeb;_0x439962[_0x23b599(0x41b)][_0x23b599(0x6a0)]===_0x410246[_0x23b599(0x1a2)]&&this['applyRemediation'](_0x439962[_0x23b599(0x1ad)],{'type':_0x410246[_0x23b599(0x25a)],'component':_0x439962[_0x23b599(0x41b)][_0x23b599(0x777)][_0x23b599(0x40f)],'action':_0x439962[_0x23b599(0x41b)][_0x23b599(0x777)][_0x23b599(0x308)]});}[_0x32ddeb(0x631)](_0x388830){const _0x754947=_0x32ddeb,_0x4d1fb2=_0x5bcbfd[_0x754947(0x323)](_0x4b5fde=>_0x4b5fde['problemType']===_0x388830['type']);_0x4d1fb2['remediations']?.[_0x754947(0x801)](_0x3e0fae=>{const _0x12e6b5=_0x754947;this['applyRemediation'](_0x388830['nodeId'],{'type':_0x388830[_0x12e6b5(0x202)]===_0x66da55[_0x12e6b5(0x595)]?_0x410246[_0x12e6b5(0x25a)]:_0x410246[_0x12e6b5(0x1a2)],'component':_0x3e0fae['component'],'action':_0x3e0fae[_0x12e6b5(0x308)]});});}[_0x32ddeb(0x384)](_0x27f718,_0x14a179){const _0x233bd3=_0x32ddeb;if(_0x14a179[_0x233bd3(0x6a0)]===_0x410246[_0x233bd3(0x25a)]){const _0x4f747d=Date[_0x233bd3(0x5d9)](),_0x1bbe74=this['lastRemediations']['get'](_0x27f718);if(_0x1bbe74&&_0x4f747d-_0x1bbe74<0x1388)return;this['lastRemediations'][_0x233bd3(0x36d)](_0x27f718,_0x4f747d);}_0x1709c0[_0x233bd3(0x419)](_0x459921[_0x233bd3(0x25a)],_0x233bd3(0x751),_0x14a179),_0x1709c0[_0x233bd3(0x196)](_0x233bd3(0x58d),{'clusterId':this[_0x233bd3(0x486)]['clusterId'],'nodeId':this[_0x233bd3(0x486)][_0x233bd3(0x7a2)]['getId'](),'nodeType':this['configs'][_0x233bd3(0x7a2)][_0x233bd3(0x6a0)],'remoteId':_0x27f718,'data':{'type':_0x14a179[_0x233bd3(0x6a0)],'component':_0x14a179[_0x233bd3(0x40f)],'action':_0x14a179['action']}});let _0x4b2c67,_0xbe7fec=_0x514c9c;_0x14a179[_0x233bd3(0x6a0)]===_0x410246[_0x233bd3(0x1a2)]&&(_0xbe7fec=this[_0x233bd3(0x486)][_0x233bd3(0x7a2)][_0x233bd3(0x544)](),_0x4b2c67=[_0x27f718]),this[_0x233bd3(0x32e)][_0x233bd3(0x7db)]({'sourceId':_0xbe7fec,'destinationIds':_0x4b2c67,'messageType':_0x16f8c2['Remediation'],'content':{'type':_0x14a179[_0x233bd3(0x6a0)],'targetId':_0x27f718,'data':_0x14a179}});}}const _0x304ce1=0x3e8,_0x3d4d87=0x7530,_0x20a938=_0x32ddeb(0x21c),_0x2f4e99='remote-inbound-rtp',_0x3160ff=_0x32ddeb(0x385),_0xde3a6b=[_0x20a938,_0x2f4e99],_0x48dde8=[_0x3160ff];class _0xa94e61{[_0x32ddeb(0x3a3)]=0x0;[_0x32ddeb(0x25b)]=0x0;[_0x32ddeb(0x7ae)]=0x0;['packetsLost']=0x0;[_0x32ddeb(0x7f3)]=0x0;[_0x32ddeb(0x28a)]=0x0;[_0x32ddeb(0x476)]=0x0;[_0x32ddeb(0x597)]=0x0;['previousBytes']=0x0;get[_0x32ddeb(0x7bf)](){const _0x3f515c=_0x32ddeb;return this[_0x3f515c(0x28a)]>0x0&&this['previousTimestamp']>0x0&&Date[_0x3f515c(0x5d9)]()-this[_0x3f515c(0x28a)]<_0x3d4d87?(this[_0x3f515c(0x597)]-this[_0x3f515c(0x69d)])/(this['currentTimestamp']-this[_0x3f515c(0x476)])*0x8*0x3e8:0x0;}[_0x32ddeb(0x55a)](_0xb9117d){const _0x12180d=_0x32ddeb;switch(_0xb9117d[_0x12180d(0x6a0)]){case _0x3160ff:this[_0x12180d(0x6e7)](_0xb9117d);break;case _0x20a938:this[_0x12180d(0x3a8)](_0xb9117d);break;case _0x2f4e99:this['processRemoteInboundReport'](_0xb9117d);}}[_0x32ddeb(0x20c)](){const _0x37b4ee=_0x32ddeb;return{'bitrate':this[_0x37b4ee(0x7bf)],'packetsLostPerc':this[_0x37b4ee(0x529)](),'roundTripTime':this[_0x37b4ee(0x3a3)],'jitter':this[_0x37b4ee(0x7ae)]};}[_0x32ddeb(0x6e7)](_0x321f5d){const _0x14929f=_0x32ddeb;this[_0x14929f(0x3c3)](_0x321f5d[_0x14929f(0x2f6)]),this[_0x14929f(0x33c)](_0x321f5d[_0x14929f(0x2c4)]),this[_0x14929f(0x7f3)]=_0x321f5d['packetsReceived'],this[_0x14929f(0x2d1)]=_0x321f5d['packetsLost'],void 0x0!==_0x321f5d[_0x14929f(0x7ae)]?this['jitter']=_0x321f5d['jitter']:this[_0x14929f(0x7ae)]=0x0,void 0x0!==_0x321f5d[_0x14929f(0x25b)]?this[_0x14929f(0x25b)]=_0x321f5d[_0x14929f(0x25b)]:this[_0x14929f(0x25b)]=0x0;}[_0x32ddeb(0x3a8)](_0x5b3b62){const _0x5c1057=_0x32ddeb;this[_0x5c1057(0x3c3)](_0x5b3b62['bytesSent']),this[_0x5c1057(0x33c)](_0x5b3b62[_0x5c1057(0x2c4)]),this[_0x5c1057(0x7f3)]=_0x5b3b62[_0x5c1057(0x45e)];}[_0x32ddeb(0x621)](_0x5a7126){const _0x2dae99=_0x32ddeb;this[_0x2dae99(0x3a3)]=0x3e8*_0x5a7126[_0x2dae99(0x3a3)],void 0x0!==_0x5a7126['jitter']?this['jitter']=_0x5a7126['jitter']:this[_0x2dae99(0x7ae)]=0x0;}[_0x32ddeb(0x529)](){const _0x52a5b1=_0x32ddeb;return this[_0x52a5b1(0x7f3)]>0x0?this[_0x52a5b1(0x2d1)]/this[_0x52a5b1(0x7f3)]:0x0;}[_0x32ddeb(0x33c)](_0x448dd8){const _0x1b2142=_0x32ddeb;_0x448dd8>this[_0x1b2142(0x28a)]&&(this['previousTimestamp']=this[_0x1b2142(0x28a)],this[_0x1b2142(0x28a)]=_0x448dd8);}[_0x32ddeb(0x3c3)](_0xdb932c){const _0x1c3200=_0x32ddeb;this[_0x1c3200(0x69d)]=this['currentBytes'],this[_0x1c3200(0x597)]=_0xdb932c;}}class _0x521125 extends _0xa94e61{}class _0x50496c extends _0xa94e61{[_0x32ddeb(0x2e5)]=0x0;[_0x32ddeb(0x24f)]=0x0;[_0x32ddeb(0x3ae)]=0x0;['currentFrames']=0x0;[_0x32ddeb(0x1df)]=0x0;get['fps'](){const _0x4dbb50=_0x32ddeb;return this[_0x4dbb50(0x28a)]>0x0&&this['previousTimestamp']>0x0&&Date[_0x4dbb50(0x5d9)]()-this[_0x4dbb50(0x28a)]<_0x3d4d87?(this['currentFrames']-this[_0x4dbb50(0x1df)])/(this[_0x4dbb50(0x28a)]-this[_0x4dbb50(0x476)])*0x3e8:0x0;}get['timePerFrame'](){const _0x2c94c7=_0x32ddeb;return this[_0x2c94c7(0x2e5)]&&this[_0x2c94c7(0x341)]&&this[_0x2c94c7(0x341)]>0x0?this['frameTime']/this[_0x2c94c7(0x341)]:0x0;}set[_0x32ddeb(0x20b)](_0x306426){const _0x1ed726=_0x32ddeb;this['previousFrames']=this['currentFrames'],this[_0x1ed726(0x341)]=_0x306426;}[_0x32ddeb(0x20c)](){const _0x3abc9b=_0x32ddeb;return{...super[_0x3abc9b(0x20c)](),'FPS':this[_0x3abc9b(0x70f)],'timePerFrame':this[_0x3abc9b(0x29c)],'frameWidth':this[_0x3abc9b(0x24f)],'frameHeight':this['frameHeight']};}[_0x32ddeb(0x6e7)](_0x2727e9){const _0x56887e=_0x32ddeb;super['processInboundReport'](_0x2727e9),this[_0x56887e(0x2e5)]=_0x2727e9[_0x56887e(0x68b)],this[_0x56887e(0x20b)]=_0x2727e9[_0x56887e(0x213)],this[_0x56887e(0x24f)]=_0x2727e9[_0x56887e(0x24f)],this[_0x56887e(0x3ae)]=_0x2727e9[_0x56887e(0x3ae)];}[_0x32ddeb(0x3a8)](_0x1fb4d7){const _0x2fd7de=_0x32ddeb;super[_0x2fd7de(0x3a8)](_0x1fb4d7),this['frameTime']=_0x1fb4d7[_0x2fd7de(0x1cf)],this['frames']=_0x1fb4d7[_0x2fd7de(0x3d5)],this[_0x2fd7de(0x24f)]=_0x1fb4d7[_0x2fd7de(0x24f)],this[_0x2fd7de(0x3ae)]=_0x1fb4d7[_0x2fd7de(0x3ae)];}}class _0x11c7b2{['audio']=new _0x521125();[_0x32ddeb(0x6db)]=new _0x50496c();get[_0x32ddeb(0x7bf)](){const _0x4f07c7=_0x32ddeb;return this[_0x4f07c7(0x1ea)]['bitrate']+this[_0x4f07c7(0x6db)][_0x4f07c7(0x7bf)];}[_0x32ddeb(0x36b)](_0xb12f5c){const _0x1ecea3=_0x32ddeb;return _0xb12f5c[_0x1ecea3(0x801)](_0x25a22e=>{const _0x4cfea5=_0x1ecea3;switch(_0x25a22e[_0x4cfea5(0x73d)]){case'audio':this[_0x4cfea5(0x1ea)][_0x4cfea5(0x55a)](_0x25a22e);break;case _0x4cfea5(0x6db):this['video']['processReport'](_0x25a22e);}}),this[_0x1ecea3(0x20c)]();}[_0x32ddeb(0x20c)](){const _0x37dadf=_0x32ddeb;return{'audio':this[_0x37dadf(0x1ea)][_0x37dadf(0x20c)](),'video':this['video'][_0x37dadf(0x20c)](),'roundTripTime':this[_0x37dadf(0x807)](),'AudioVideoDelay':this['getAudioVideoDelay'](),'bitrate':this[_0x37dadf(0x7bf)]};}[_0x32ddeb(0x807)](){const _0x589075=_0x32ddeb;return Math['floor']((this['audio']['roundTripTime']+this[_0x589075(0x6db)][_0x589075(0x3a3)])/0x2);}[_0x32ddeb(0x43e)](){const _0x366633=_0x32ddeb;return this[_0x366633(0x1ea)][_0x366633(0x25b)]-this[_0x366633(0x6db)]['estimatedPlayoutTimestamp'];}}class _0x4a0177{[_0x32ddeb(0x26f)]=0x0;[_0x32ddeb(0x557)]=0x0;['receiverCurrentTimestamp']=0x0;[_0x32ddeb(0x436)]=0x0;[_0x32ddeb(0x7a1)]=0x0;['senderPreviousBytes']=0x0;[_0x32ddeb(0x566)]=0x0;[_0x32ddeb(0x6bd)]=0x0;[_0x32ddeb(0x474)]=0x0;[_0x32ddeb(0x764)]=0x0;[_0x32ddeb(0x5e3)]=0x0;[_0x32ddeb(0x3c5)]=0x0;[_0x32ddeb(0x3a3)]=0x0;get['bitrate'](){const _0x564dd1=_0x32ddeb;return this[_0x564dd1(0x79f)]+this[_0x564dd1(0x314)];}get[_0x32ddeb(0x79f)](){const _0x35185a=_0x32ddeb;return this[_0x35185a(0x26f)]>0x0&&this[_0x35185a(0x557)]>0x0&&Date['now']()-this[_0x35185a(0x26f)]<_0x3d4d87?(this[_0x35185a(0x7a1)]-this[_0x35185a(0x3b9)])/(this[_0x35185a(0x26f)]-this['senderPreviousTimestamp'])*0x8*0x3e8:0x0;}get[_0x32ddeb(0x314)](){const _0x48c6e2=_0x32ddeb;return this[_0x48c6e2(0x222)]>0x0&&this[_0x48c6e2(0x436)]>0x0&&Date[_0x48c6e2(0x5d9)]()-this[_0x48c6e2(0x222)]<_0x3d4d87?(this[_0x48c6e2(0x566)]-this[_0x48c6e2(0x6bd)])/(this[_0x48c6e2(0x222)]-this[_0x48c6e2(0x436)])*0x8*0x3e8:0x0;}['processReport'](_0x18d6d1){const _0x5abf8d=_0x32ddeb;switch(_0x18d6d1[_0x5abf8d(0x202)]){case _0x66da55[_0x5abf8d(0x595)]:this['processSenderReport'](_0x18d6d1);break;case _0x66da55['Receiver']:this[_0x5abf8d(0x377)](_0x18d6d1);}}[_0x32ddeb(0x20c)](){const _0x6068e2=_0x32ddeb;return{'bitrate':this[_0x6068e2(0x7bf)],'senderBitrate':this[_0x6068e2(0x79f)],'receiverBitrate':this[_0x6068e2(0x314)],'totalBytes':this[_0x6068e2(0x77b)](),'senderTotalBytes':this[_0x6068e2(0x674)](),'receiverTotalBytes':this[_0x6068e2(0x660)](),'totalMessages':this[_0x6068e2(0x474)]+this[_0x6068e2(0x764)],'senderTotalMessages':this[_0x6068e2(0x474)],'receiverTotalMessages':this['receiverTotalMessages'],'timeProcessing':this['senderTimeProcessing']+this[_0x6068e2(0x3c5)],'senderTimeProcessing':this['senderTimeProcessing'],'receiverTimeProcessing':this[_0x6068e2(0x3c5)],'roundTripTime':this[_0x6068e2(0x3a3)]};}['getTotalBytes'](){const _0x43a246=_0x32ddeb;return this[_0x43a246(0x7a1)]+this[_0x43a246(0x566)];}[_0x32ddeb(0x674)](){const _0x56274b=_0x32ddeb;return this[_0x56274b(0x7a1)];}[_0x32ddeb(0x660)](){return this['receiverCurrentBytes'];}[_0x32ddeb(0x5f5)](_0x14503e){const _0xec62d0=_0x32ddeb;this['setSenderTimestamp'](_0x14503e[_0xec62d0(0x2c4)]),this[_0xec62d0(0x3c3)](_0x14503e[_0xec62d0(0x504)]),this[_0xec62d0(0x474)]=_0x14503e['messagesSent'],this[_0xec62d0(0x5e3)]=_0x14503e[_0xec62d0(0x7ed)],this[_0xec62d0(0x3a3)]=_0x14503e[_0xec62d0(0x3a3)];}[_0x32ddeb(0x377)](_0x162503){const _0x316ba3=_0x32ddeb;this['setReceiverTimestamp'](_0x162503[_0x316ba3(0x2c4)]),this['setReceiverBytes'](_0x162503[_0x316ba3(0x2f6)]),this[_0x316ba3(0x764)]=_0x162503[_0x316ba3(0x1e7)],this[_0x316ba3(0x3c5)]=_0x162503[_0x316ba3(0x62c)];}['setSenderTimestamp'](_0x4f5c45){const _0xb1ffd3=_0x32ddeb;_0x4f5c45>this[_0xb1ffd3(0x26f)]&&(this[_0xb1ffd3(0x557)]=this[_0xb1ffd3(0x26f)],this[_0xb1ffd3(0x26f)]=_0x4f5c45);}[_0x32ddeb(0x1a8)](_0x30eee5){const _0x42d2c7=_0x32ddeb;_0x30eee5>this[_0x42d2c7(0x222)]&&(this[_0x42d2c7(0x436)]=this['receiverCurrentTimestamp'],this[_0x42d2c7(0x222)]=_0x30eee5);}[_0x32ddeb(0x3c3)](_0x19b85c){const _0x287b0a=_0x32ddeb;this[_0x287b0a(0x3b9)]=this[_0x287b0a(0x7a1)],this[_0x287b0a(0x7a1)]=_0x19b85c;}[_0x32ddeb(0x616)](_0x825d5a){const _0x323de7=_0x32ddeb;this[_0x323de7(0x6bd)]=this[_0x323de7(0x566)],this['receiverCurrentBytes']=_0x825d5a;}}class _0x1b5dbb{['senderStreams']=new Map();[_0x32ddeb(0x734)]=new Map();[_0x32ddeb(0x218)]=new _0x4a0177();get['senderBitrate'](){const _0x51cc6e=_0x32ddeb;let _0x5e3239=0x0;return this[_0x51cc6e(0x50b)][_0x51cc6e(0x801)](_0x38bb46=>{_0x5e3239+=_0x38bb46['bitrate'];}),_0x5e3239+=this[_0x51cc6e(0x218)][_0x51cc6e(0x79f)],_0x5e3239;}get[_0x32ddeb(0x314)](){const _0x503e76=_0x32ddeb;let _0x296fa3=0x0;return this[_0x503e76(0x734)][_0x503e76(0x801)](_0x3c6ed0=>{const _0x38013a=_0x503e76;_0x296fa3+=_0x3c6ed0[_0x38013a(0x7bf)];}),_0x296fa3+=this[_0x503e76(0x218)][_0x503e76(0x314)],_0x296fa3;}get[_0x32ddeb(0x7bf)](){const _0x1d110a=_0x32ddeb;return this[_0x1d110a(0x79f)]+this['receiverBitrate'];}['processReports'](_0x52bbc6,_0x435f5d){const _0x434c0a=_0x32ddeb,_0x2100fc=[],_0x23ade2=[];return _0x52bbc6 instanceof Array?_0x52bbc6[_0x434c0a(0x801)](_0x4d3b0c=>{_0x4d3b0c['forEach'](_0xb86f4f=>{const _0x273f34=a0_0x51ad;_0x48dde8['includes'](_0xb86f4f[_0x273f34(0x6a0)])&&_0x2100fc[_0x273f34(0x6f1)](_0xb86f4f),_0xde3a6b['includes'](_0xb86f4f[_0x273f34(0x6a0)])&&_0x23ade2[_0x273f34(0x6f1)](_0xb86f4f);});}):this['dataChannel'][_0x434c0a(0x55a)](_0x52bbc6),_0x2100fc[_0x434c0a(0x19d)]>0x0&&_0x435f5d?{...this[_0x434c0a(0x776)](_0x435f5d,_0x2100fc),'origin':_0x66da55[_0x434c0a(0x62d)],'streamId':_0x435f5d}:_0x23ade2[_0x434c0a(0x19d)]>0x0&&_0x435f5d?{...this[_0x434c0a(0x42d)](_0x435f5d,_0x23ade2),'origin':_0x66da55[_0x434c0a(0x595)],'streamId':_0x435f5d}:void 0x0;}[_0x32ddeb(0x20c)](){const _0xbc65e=_0x32ddeb,_0x59dac6={};this[_0xbc65e(0x50b)][_0xbc65e(0x801)]((_0x4ee775,_0x205346)=>{const _0x4bcfe3=_0xbc65e;_0x59dac6[_0x205346]=_0x4ee775[_0x4bcfe3(0x20c)]();});const _0x3b7b67={};return this['receiverStreams']['forEach']((_0x41b48f,_0x55e2f0)=>{_0x3b7b67[_0x55e2f0]=_0x41b48f['getReport']();}),{'bitrate':this['bitrate'],'senderBitrate':this[_0xbc65e(0x79f)],'receiverBitrate':this[_0xbc65e(0x314)],'senderStreams':_0x59dac6,'receiverStreams':_0x3b7b67,'dataChannel':this['dataChannel'][_0xbc65e(0x20c)]()};}['processInboundReports'](_0x58c1a1,_0x97715){const _0x4c1fb1=_0x32ddeb;return this['receiverStreams'][_0x4c1fb1(0x5ae)](_0x58c1a1)||this['receiverStreams']['set'](_0x58c1a1,new _0x11c7b2()),this[_0x4c1fb1(0x734)][_0x4c1fb1(0x798)](_0x58c1a1)[_0x4c1fb1(0x36b)](_0x97715);}['processOutboundReports'](_0x27be7b,_0xda687e){const _0x5b1333=_0x32ddeb;return this[_0x5b1333(0x50b)][_0x5b1333(0x5ae)](_0x27be7b)||this[_0x5b1333(0x50b)]['set'](_0x27be7b,new _0x11c7b2()),this[_0x5b1333(0x50b)][_0x5b1333(0x798)](_0x27be7b)[_0x5b1333(0x36b)](_0xda687e);}}class _0x984cd6{[_0x32ddeb(0x352)]=new Map();['scheduleTime']=0x0;[_0x32ddeb(0x34e)]=0x0;['pubsubTopics']=new Map();['objectStores']=new Map();[_0x32ddeb(0x744)]=new Map();[_0x32ddeb(0x474)]=new Map();['receiverTotalMessages']=new Map();['senderTimeProcessing']=new Map();[_0x32ddeb(0x3c5)]=new Map();[_0x32ddeb(0x78a)]=new Map();[_0x32ddeb(0x32e)];[_0x32ddeb(0x20c)](){const _0x51648a=_0x32ddeb,_0x527013={};this[_0x51648a(0x352)][_0x51648a(0x801)]((_0x221d6f,_0x260ac8)=>{const _0x5a74e5=_0x51648a;_0x527013[_0x260ac8]=_0x221d6f[_0x5a74e5(0x20c)]();});let _0x2724d5=0x0;this['senderTimeProcessing'][_0x51648a(0x801)](_0x7f8a98=>{_0x2724d5+=_0x7f8a98;});let _0x24e176=0x0;this['receiverTimeProcessing'][_0x51648a(0x801)](_0x2d8ce2=>{_0x24e176+=_0x2d8ce2;});const _0x504c2e=_0x2724d5+_0x24e176;let _0x415b7f={'messages':{'total':0x0}};this[_0x51648a(0x78a)][_0x51648a(0x801)](_0x24d145=>{const _0x56a40d=_0x51648a;Object[_0x56a40d(0x79b)](_0x24d145)[_0x56a40d(0x801)](_0x516b8b=>{const _0x37ff3f=_0x56a40d;_0x415b7f[_0x516b8b]||(_0x415b7f[_0x516b8b]={}),Object[_0x37ff3f(0x79b)](_0x24d145[_0x516b8b])[_0x37ff3f(0x801)](_0x4e0fd3=>{_0x415b7f[_0x516b8b][_0x4e0fd3]||(_0x415b7f[_0x516b8b][_0x4e0fd3]=0x0),_0x415b7f[_0x516b8b][_0x4e0fd3]+=_0x24d145[_0x516b8b][_0x4e0fd3];});});});let _0x2865ca=0x0,_0x141417=0x0,_0x368f0c=0x0,_0x751abe=0x0,_0x1886d5=0x0;return this[_0x51648a(0x3fb)][_0x51648a(0x801)](_0x151b16=>{const _0x4c3072=_0x51648a;_0x141417+=_0x151b16[_0x4c3072(0x611)],_0x368f0c+=_0x151b16[_0x4c3072(0x1e7)],_0x751abe+=_0x151b16[_0x4c3072(0x504)],_0x1886d5+=_0x151b16[_0x4c3072(0x2f6)];}),this[_0x51648a(0x5e4)][_0x51648a(0x801)](_0x3d8e7c=>{const _0x243d16=_0x51648a;_0x2865ca+=_0x3d8e7c[_0x243d16(0x297)],_0x141417+=_0x3d8e7c[_0x243d16(0x611)],_0x368f0c+=_0x3d8e7c[_0x243d16(0x1e7)],_0x751abe+=_0x3d8e7c['bytesSent'],_0x1886d5+=_0x3d8e7c['bytesReceived'];}),this[_0x51648a(0x744)][_0x51648a(0x801)](_0x38a61f=>{const _0x5f18ed=_0x51648a;_0x2865ca+=_0x38a61f['storage'],_0x141417+=_0x38a61f[_0x5f18ed(0x611)],_0x368f0c+=_0x38a61f[_0x5f18ed(0x1e7)],_0x751abe+=_0x38a61f['bytesSent'],_0x1886d5+=_0x38a61f[_0x5f18ed(0x2f6)];}),{'STVolatility':this[_0x51648a(0x224)](),'DTVolatility':this[_0x51648a(0x3ba)](),'bitrate':this[_0x51648a(0x479)](),'senderBitrate':this[_0x51648a(0x76b)](),'receiverBitrate':this['getReceiverBitrate'](),'totalStorageSize':_0x2865ca,'totalMessages':_0x141417+_0x368f0c,'totalMessagesSent':_0x141417,'totalMessagesReceived':_0x368f0c,'totalBytes':_0x751abe+_0x1886d5,'totalBytesSent':_0x751abe,'totalBytesReceived':_0x1886d5,'systemMessages':_0x415b7f,'timeProcessing':_0x504c2e,'nodes':_0x527013,'pubsubTopics':Object[_0x51648a(0x391)](this[_0x51648a(0x3fb)]),'objectStores':Object[_0x51648a(0x391)](this[_0x51648a(0x5e4)]),'keyValueDatabases':Object[_0x51648a(0x391)](this['keyValueDatabases'])};}[_0x32ddeb(0x80a)](_0x3fc916){const _0x293275=_0x32ddeb;this[_0x293275(0x352)][_0x293275(0x36d)](_0x3fc916,new _0x1b5dbb());}[_0x32ddeb(0x214)](_0x4fed76){this['nodes']['delete'](_0x4fed76);}[_0x32ddeb(0x36b)](_0x44ef59,_0x3fbec6,_0x44987d){const _0x5a3da0=_0x32ddeb;_0x3fbec6 instanceof Array||this['processDataChannelReport'](_0x44ef59,_0x3fbec6);const _0x54953f=this[_0x5a3da0(0x352)][_0x5a3da0(0x798)](_0x44ef59)?.['processReports'](_0x3fbec6,_0x44987d);_0x54953f&&this[_0x5a3da0(0x32e)]['publish']({'sourceId':_0x514c9c,'messageType':_0x16f8c2[_0x5a3da0(0x404)],'content':{'type':_0x237744[_0x5a3da0(0x63b)],'data':{..._0x54953f,'nodeId':_0x44ef59}}});}[_0x32ddeb(0x6b6)](_0x1e018e){const _0x3cf9ed=_0x32ddeb;this[_0x3cf9ed(0x64f)](_0x1e018e[_0x3cf9ed(0x435)]),this[_0x3cf9ed(0x30c)](_0x1e018e['durationTime']),this[_0x3cf9ed(0x32e)][_0x3cf9ed(0x7db)]({'sourceId':_0x514c9c,'messageType':_0x16f8c2[_0x3cf9ed(0x404)],'content':{'type':_0x237744[_0x3cf9ed(0x3b0)],'data':{'STVolatility':this[_0x3cf9ed(0x224)](),'DTVolatility':this[_0x3cf9ed(0x3ba)]()}}});}[_0x32ddeb(0x6b5)](_0x52c515,_0x46710f,_0x5965a3){const _0x5f3727=_0x32ddeb;switch(_0x46710f){case _0x36fe9a[_0x5f3727(0x62f)]:this[_0x5f3727(0x3fb)][_0x5f3727(0x36d)](_0x52c515,_0x5965a3);break;case _0x36fe9a[_0x5f3727(0x502)]:this[_0x5f3727(0x5e4)][_0x5f3727(0x36d)](_0x52c515,_0x5965a3);break;case _0x36fe9a['KeyValueDatabaseStats']:this['keyValueDatabases'][_0x5f3727(0x36d)](_0x52c515,_0x5965a3);}}['registerSystemPublisher'](_0xd374a1){const _0x2bac60=_0x32ddeb;this[_0x2bac60(0x32e)]=_0xd374a1;}[_0x32ddeb(0x443)](){const _0x3e75fa=_0x32ddeb;delete this[_0x3e75fa(0x32e)];}[_0x32ddeb(0x224)](){const _0x2fe8d1=_0x32ddeb;return this['scheduleTime']>0x0&&this[_0x2fe8d1(0x50c)]-_0x304ce1>0x0?(this[_0x2fe8d1(0x50c)]-_0x304ce1)/_0x304ce1:0x0;}[_0x32ddeb(0x3ba)](){const _0x1e5492=_0x32ddeb;return this[_0x1e5492(0x34e)]>0x0&&this[_0x1e5492(0x34e)]-0x64>0x0?(this['durationTime']-0x64)/0x64:0x0;}[_0x32ddeb(0x76b)](){const _0x32d195=_0x32ddeb;let _0x2ed3e8=0x0;return this[_0x32d195(0x352)]['forEach'](_0x288776=>{const _0x5549fe=_0x32d195;_0x2ed3e8+=_0x288776[_0x5549fe(0x79f)];}),_0x2ed3e8;}[_0x32ddeb(0x737)](){const _0x30421f=_0x32ddeb;let _0x185b5d=0x0;return this[_0x30421f(0x352)][_0x30421f(0x801)](_0x491b8e=>{_0x185b5d+=_0x491b8e['receiverBitrate'];}),_0x185b5d;}[_0x32ddeb(0x479)](){const _0x832047=_0x32ddeb;let _0x5d50a9=0x0;return this[_0x832047(0x352)][_0x832047(0x801)](_0x12fc19=>{const _0x5b91fa=_0x832047;_0x5d50a9+=_0x12fc19[_0x5b91fa(0x7bf)];}),_0x5d50a9;}[_0x32ddeb(0x64f)](_0x2eea10){this['scheduleTime']=_0x2eea10;}[_0x32ddeb(0x30c)](_0x2fc53a){const _0x5bbc1b=_0x32ddeb;this[_0x5bbc1b(0x34e)]=_0x2fc53a;}['processDataChannelReport'](_0x5b5189,_0x5b81c3){const _0x55fc54=_0x32ddeb;switch(_0x5b81c3['origin']){case _0x66da55[_0x55fc54(0x595)]:this['processSenderReport'](_0x5b5189,_0x5b81c3);break;case _0x66da55[_0x55fc54(0x62d)]:this[_0x55fc54(0x377)](_0x5b5189,_0x5b81c3);}}[_0x32ddeb(0x5f5)](_0x22fb82,_0x472202){const _0x165cb7=_0x32ddeb;this['senderTotalMessages'][_0x165cb7(0x36d)](_0x22fb82,_0x472202[_0x165cb7(0x611)]),this['senderTimeProcessing']['set'](_0x22fb82,_0x472202[_0x165cb7(0x7ed)]);}[_0x32ddeb(0x377)](_0x4ff0f5,_0x1c64e5){const _0x1ecc6d=_0x32ddeb;this[_0x1ecc6d(0x764)][_0x1ecc6d(0x36d)](_0x4ff0f5,_0x1c64e5['messagesReceived']),this[_0x1ecc6d(0x3c5)][_0x1ecc6d(0x36d)](_0x4ff0f5,_0x1c64e5[_0x1ecc6d(0x62c)]),this[_0x1ecc6d(0x78a)]['set'](_0x4ff0f5,_0x1c64e5[_0x1ecc6d(0x78a)]);}}class _0x26bdbd{[_0x32ddeb(0x486)];[_0x32ddeb(0x59c)]=new Set();['nextNodeId'];[_0x32ddeb(0x72a)];['statsReporting'];[_0x32ddeb(0x51a)]=new _0x984cd6();constructor(_0x5978e3){const _0x1b84d1=_0x32ddeb;this[_0x1b84d1(0x486)]=_0x5978e3,this[_0x1b84d1(0x486)]['mediator']['registerSystemSource'](this['statsReport']),this['statsCollection']=this[_0x1b84d1(0x698)](),this[_0x1b84d1(0x478)]=this[_0x1b84d1(0x444)]();}[_0x32ddeb(0x36f)](){const _0x308020=_0x32ddeb;this[_0x308020(0x486)][_0x308020(0x257)]['unregisterSystemSource'](this[_0x308020(0x51a)]),this[_0x308020(0x478)](),this[_0x308020(0x72a)]();}[_0x32ddeb(0x80a)](_0x310eb3){const _0x274beb=_0x32ddeb;this[_0x274beb(0x59c)][_0x274beb(0x259)](_0x310eb3),this[_0x274beb(0x51a)][_0x274beb(0x80a)](_0x310eb3);}['removeRemoteNode'](_0x397dbd){const _0x360c12=_0x32ddeb;this['remoteNodes'][_0x360c12(0x27d)](_0x397dbd),this['statsReport']['removeRemoteNode'](_0x397dbd);}[_0x32ddeb(0x80e)](_0x33a8b1){const _0x2f47f9=_0x32ddeb;if(_0x33a8b1[_0x2f47f9(0x41b)]['type']===_0x11c283[_0x2f47f9(0x404)]){const {nodeId:_0xade792,streamId:_0x233718,stats:_0x10fef6}=_0x33a8b1[_0x2f47f9(0x41b)];this[_0x2f47f9(0x51a)][_0x2f47f9(0x36b)](_0xade792,_0x10fef6,_0x233718);}}['handleContentSystemEvents'](_0x449ebc){const _0x27f950=_0x32ddeb;switch(_0x449ebc[_0x27f950(0x41b)][_0x27f950(0x6a0)]){case _0x36fe9a[_0x27f950(0x502)]:case _0x36fe9a['KeyValueDatabaseStats']:case _0x36fe9a[_0x27f950(0x62f)]:this[_0x27f950(0x51a)][_0x27f950(0x6b5)](_0x449ebc['content'][_0x27f950(0x235)],_0x449ebc[_0x27f950(0x41b)]['type'],_0x449ebc[_0x27f950(0x41b)][_0x27f950(0x227)]);}}[_0x32ddeb(0x444)](){return _0x43cca0['setInterval'](()=>{const _0x3f8067=a0_0x51ad,_0x589911=this['statsReport'][_0x3f8067(0x20c)]();_0x1709c0['log'](_0x459921['Stats'],_0x3f8067(0x35f),_0x589911),(0x0,_0x3ef15c[_0x3f8067(0x5c4)])((0x0,_0x3ef15c[_0x3f8067(0x512)])(_0x194e5e[_0x3f8067(0x3ca)](),_0x3f8067(0x570)+this[_0x3f8067(0x486)][_0x3f8067(0x3ce)]+'/stats'),{'clusterId':this[_0x3f8067(0x486)][_0x3f8067(0x713)],'nodeId':this[_0x3f8067(0x486)][_0x3f8067(0x7a2)][_0x3f8067(0x544)](),'nodeType':this[_0x3f8067(0x486)][_0x3f8067(0x7a2)][_0x3f8067(0x6a0)],'timestamp':(0x0,_0x3ef15c['serverTimestamp'])(),'report':_0x589911}),_0x1709c0[_0x3f8067(0x196)](_0x3f8067(0x227),{'clusterId':this['configs'][_0x3f8067(0x713)],'nodeId':this[_0x3f8067(0x486)][_0x3f8067(0x7a2)][_0x3f8067(0x544)](),'nodeType':this[_0x3f8067(0x486)][_0x3f8067(0x7a2)][_0x3f8067(0x6a0)],'data':{'report':_0x589911}});},_0x3d4d87);}[_0x32ddeb(0x698)](){const _0x33a5a1=_0x32ddeb;let _0x32c98c=!0x1,_0xdd160f=Date[_0x33a5a1(0x5d9)]();return _0x43cca0['setInterval'](async()=>{const _0x1256eb=_0x33a5a1;if(_0x32c98c)return;if(_0x32c98c=!0x0,0x0===this[_0x1256eb(0x59c)][_0x1256eb(0x36a)])return delete this['nextNodeId'],void(_0x32c98c=!0x1);const _0x3cc499=Date[_0x1256eb(0x5d9)]();this['findNextNodeId']();try{await this[_0x1256eb(0x486)][_0x1256eb(0x257)][_0x1256eb(0x65b)](this[_0x1256eb(0x4a6)]);}catch(_0x338085){}this['statsReport']['processLocalReport']({'secheduleTime':_0x3cc499-_0xdd160f,'durationTime':Date['now']()-_0x3cc499}),_0xdd160f=_0x3cc499,_0x32c98c=!0x1;},_0x304ce1);}[_0x32ddeb(0x7e9)](){const _0x3b85f0=_0x32ddeb;let _0x46dc8d,_0x48615e=!0x1;this[_0x3b85f0(0x4a6)]&&(this['remoteNodes']['has'](this[_0x3b85f0(0x4a6)])||delete this[_0x3b85f0(0x4a6)]);for(const _0x437bea of this[_0x3b85f0(0x59c)])if(_0x46dc8d||(_0x46dc8d=_0x437bea),this[_0x3b85f0(0x4a6)]!==_0x437bea){if(_0x48615e)return void(this[_0x3b85f0(0x4a6)]=_0x437bea);}else _0x48615e=!0x0,delete this[_0x3b85f0(0x4a6)];this['nextNodeId']||(this[_0x3b85f0(0x4a6)]=_0x46dc8d);}}class _0x5c6bec{[_0x32ddeb(0x704)];[_0x32ddeb(0x2cd)];[_0x32ddeb(0x32e)];constructor(_0x3d193d,_0xe435ef){const _0x197f47=_0x32ddeb;this[_0x197f47(0x704)]=_0x3d193d,this['destination']=_0xe435ef;}[_0x32ddeb(0x7ff)](_0x406831){const _0x47eb91=_0x32ddeb;this[_0x47eb91(0x32e)]=_0x406831;}[_0x32ddeb(0x443)](){const _0x5713bd=_0x32ddeb;delete this[_0x5713bd(0x32e)];}}class _0x4d6226 extends _0x5c6bec{[_0x32ddeb(0x704)];[_0x32ddeb(0x2cd)];[_0x32ddeb(0x1ec)];constructor(_0x59360d,_0x23739d,_0x3ee021){const _0x54280c=_0x32ddeb;super(_0x59360d,_0x23739d),this[_0x54280c(0x704)]=_0x59360d,this[_0x54280c(0x2cd)]=_0x23739d,this[_0x54280c(0x1ec)]=_0x3ee021;}[_0x32ddeb(0x558)](_0x4e97db,_0x270c0c,_0x37c2ea){const _0x22e802=_0x32ddeb;if(this[_0x22e802(0x2cd)][_0x22e802(0x373)]()===_0x16caec[_0x22e802(0x76d)]['Media']){const _0x32da51={'type':_0x1152b3[_0x22e802(0x4f2)],'label':this[_0x22e802(0x2cd)][_0x22e802(0x7fa)](),'ownerId':_0x4e97db,'trackKinds':_0x270c0c??this[_0x22e802(0x2cd)][_0x22e802(0x307)](),'params':_0x37c2ea};this[_0x22e802(0x32e)][_0x22e802(0x7db)]({'sourceId':this[_0x22e802(0x704)][_0x22e802(0x648)](),'destinationIds':[this[_0x22e802(0x704)][_0x22e802(0x6b1)]()],'messageType':_0x16f8c2['Subscription'],'content':_0x32da51}),this[_0x22e802(0x1ec)]=_0x37c2ea;}}[_0x32ddeb(0x805)](_0x602bc7,_0x1454b6){const _0x9d39ea=_0x32ddeb;if(this[_0x9d39ea(0x2cd)][_0x9d39ea(0x373)]()===_0x16caec[_0x9d39ea(0x76d)][_0x9d39ea(0x309)]){const _0x2a9ce0={'type':_0x1152b3[_0x9d39ea(0x7b4)],'label':this[_0x9d39ea(0x2cd)]['getLabel'](),'ownerId':_0x602bc7,'params':_0x1454b6};this[_0x9d39ea(0x32e)]['publish']({'sourceId':this['source']['getLocalId'](),'destinationIds':[this[_0x9d39ea(0x704)][_0x9d39ea(0x6b1)]()],'messageType':_0x16f8c2['Subscription'],'content':_0x2a9ce0}),this[_0x9d39ea(0x1ec)]=_0x1454b6;}}[_0x32ddeb(0x300)](_0xe51205,_0xeda686,_0x40d2dc){const _0x85473a=_0x32ddeb;if(this['destination'][_0x85473a(0x373)]()===_0x16caec[_0x85473a(0x76d)][_0x85473a(0x309)]){const _0x529f49={'type':_0x1152b3[_0x85473a(0x2b2)],'label':this[_0x85473a(0x2cd)][_0x85473a(0x7fa)](),'ownerId':_0xe51205,'trackKinds':_0x40d2dc??this['destination'][_0x85473a(0x307)](),'remainingTracks':_0xeda686};this[_0x85473a(0x32e)][_0x85473a(0x7db)]({'sourceId':this[_0x85473a(0x704)][_0x85473a(0x648)](),'destinationIds':[this[_0x85473a(0x704)]['getRemoteId']()],'messageType':_0x16f8c2['Subscription'],'content':_0x529f49});}}}class _0x336e11{[_0x32ddeb(0x6fd)];['maxDistance'];[_0x32ddeb(0x74f)];[_0x32ddeb(0x32e)];[_0x32ddeb(0x418)]=new Set();[_0x32ddeb(0x79e)]=Date['now']();['params'];[_0x32ddeb(0x28f)]=0x0;constructor(_0x273291,_0x1498db,_0x1566d4,_0x2392ac){const _0x285db3=_0x32ddeb;this[_0x285db3(0x6fd)]=_0x1498db,this[_0x285db3(0x24e)]=_0x1566d4,this['tracks']=_0x2392ac,_0x273291[_0x285db3(0x801)](_0x238c5e=>{const _0x1ff53a=_0x285db3;this[_0x1ff53a(0x418)][_0x1ff53a(0x259)]({'nodeId':_0x238c5e,'type':_0x478c8c['Waiting']});});}[_0x32ddeb(0x6a3)](){const _0x2f896c=_0x32ddeb;return this[_0x2f896c(0x74f)];}['registerSystemPublisher'](_0x52ba64){const _0x46d398=_0x32ddeb;this[_0x46d398(0x32e)]=_0x52ba64;}['unregisterSystemPublisher'](){const _0x595467=_0x32ddeb;delete this[_0x595467(0x32e)];}[_0x32ddeb(0x2e9)](_0x4359aa,_0x52f0c6){const _0x446d6c=_0x32ddeb;this[_0x446d6c(0x79e)]=Date[_0x446d6c(0x5d9)](),this[_0x446d6c(0x418)][_0x446d6c(0x532)](),_0x4359aa[_0x446d6c(0x801)](_0x3a2038=>{const _0x430c17=_0x446d6c;this[_0x430c17(0x418)]['add']({'nodeId':_0x3a2038,'type':_0x478c8c['Waiting']});}),this[_0x446d6c(0x28f)]+=0x1,this[_0x446d6c(0x6fd)]=_0x52f0c6;}[_0x32ddeb(0x3f7)](_0x55a6df,_0x5c8302,_0xdf0300,_0x4ac5c1,_0x27eeaf){const _0x182f14=_0x32ddeb;if(this[_0x182f14(0x28f)]>0xa)throw new _0x4daf03(_0x4daf03[_0x182f14(0x719)][_0x182f14(0x5af)],{'answers':Array[_0x182f14(0x34d)](this[_0x182f14(0x418)])['map'](_0x2c4969=>({'nodeId':_0x2c4969[_0x182f14(0x189)],'type':_0x2c4969[_0x182f14(0x6a0)]}))});const _0x18d711=Array[_0x182f14(0x34d)](this[_0x182f14(0x418)])[_0x182f14(0x1a1)](_0xd1bd3c=>_0xd1bd3c[_0x182f14(0x189)]);this[_0x182f14(0x1ec)]=_0x27eeaf,this[_0x182f14(0x32e)][_0x182f14(0x7db)]({'sourceId':_0x55a6df,'destinationIds':_0x18d711,'messageType':_0x16f8c2[_0x182f14(0x319)],'content':{'type':_0x1152b3[_0x182f14(0x6ad)],'label':_0xdf0300,'ownerId':_0x5c8302,'trackKinds':_0x4ac5c1,'params':_0x27eeaf}}),_0x1709c0[_0x182f14(0x419)](_0x459921[_0x182f14(0x319)],_0x182f14(0x629),_0x55a6df,_0x18d711);}[_0x32ddeb(0x612)](_0xe22a74,_0x3f107b){const _0x56b841=_0x32ddeb;switch(_0x3f107b[_0x56b841(0x6a0)]){case _0x1152b3['CanProvideMediaStream']:{const _0x595c79=this[_0x56b841(0x6fd)]>=_0x3f107b[_0x56b841(0x51b)]&&_0x3f107b['distance']<=this[_0x56b841(0x24e)],_0x14a530=Array[_0x56b841(0x34d)](this['answers'])[_0x56b841(0x323)](_0x213f7c=>_0x213f7c[_0x56b841(0x189)]===_0xe22a74);_0x14a530[_0x56b841(0x6a0)]=_0x595c79?_0x478c8c[_0x56b841(0x6c5)]:_0x478c8c[_0x56b841(0x515)],_0x14a530[_0x56b841(0x208)]=_0x3f107b[_0x56b841(0x208)],_0x14a530['distance']=_0x3f107b[_0x56b841(0x51b)],_0x14a530[_0x56b841(0x31b)]=_0x3f107b['streamId'],_0x14a530[_0x56b841(0x3a3)]=Date[_0x56b841(0x5d9)]()-this[_0x56b841(0x79e)],_0x14a530[_0x56b841(0x1ec)]=this[_0x56b841(0x1ec)],_0x14a530[_0x56b841(0x26d)]=_0x3f107b[_0x56b841(0x26d)],_0x14a530['trackKinds']=_0x3f107b['trackKinds'],_0x14a530['streamLabel']=_0x3f107b[_0x56b841(0x235)],_0x1709c0[_0x56b841(0x419)](_0x459921[_0x56b841(0x319)],(_0x595c79?'Accepted':_0x56b841(0x515))+'\x20answer',_0x14a530);break;}case _0x1152b3[_0x56b841(0x2ed)]:{const _0x4263cd=Array[_0x56b841(0x34d)](this[_0x56b841(0x418)])[_0x56b841(0x323)](_0xab2c8e=>_0xab2c8e[_0x56b841(0x189)]===_0xe22a74);_0x4263cd['type']=_0x478c8c[_0x56b841(0x515)],_0x1709c0[_0x56b841(0x419)](_0x459921['Subscription'],_0x56b841(0x386),_0x4263cd);break;}}if(this[_0x56b841(0x3ad)]())return this[_0x56b841(0x6aa)]();}['chooseAnswer'](){const _0x3cf412=_0x32ddeb,_0x23abee=Array[_0x3cf412(0x34d)](this['answers'])[_0x3cf412(0x6fc)](_0x4973d1=>_0x4973d1[_0x3cf412(0x6a0)]===_0x478c8c[_0x3cf412(0x6c5)])[_0x3cf412(0x78b)]((_0x5eca76,_0x527bd6)=>_0x5eca76[_0x3cf412(0x208)]===_0x527bd6[_0x3cf412(0x208)]?_0x5eca76['roundTripTime']-_0x527bd6[_0x3cf412(0x3a3)]:_0x5eca76[_0x3cf412(0x208)]-_0x527bd6[_0x3cf412(0x208)]);if(0x0===_0x23abee[_0x3cf412(0x19d)])throw new _0x4daf03(_0x4daf03['codes'][_0x3cf412(0x5af)],{'answers':Array[_0x3cf412(0x34d)](this['answers'])[_0x3cf412(0x1a1)](_0x22e77c=>({'nodeId':_0x22e77c['nodeId'],'type':_0x22e77c[_0x3cf412(0x6a0)]}))});return _0x1709c0[_0x3cf412(0x419)](_0x459921[_0x3cf412(0x319)],_0x3cf412(0x431),_0x23abee[0x0],this[_0x3cf412(0x418)]),_0x23abee[0x0];}['canChooseAnswer'](){const _0x217277=_0x32ddeb;for(const _0x3266c6 of this['answers'])if(_0x3266c6[_0x217277(0x6a0)]===_0x478c8c[_0x217277(0x58c)])return!0x1;return!0x0;}}class _0x1199f6{['label'];[_0x32ddeb(0x1e8)];[_0x32ddeb(0x639)]=_0x1f49a7();constructor(_0x5596d2,_0x20b74f){const _0x52662b=_0x32ddeb;this['label']=_0x5596d2,this[_0x52662b(0x1e8)]=_0x20b74f;}[_0x32ddeb(0x7fa)](){const _0x1cf6df=_0x32ddeb;return this[_0x1cf6df(0x235)];}['getContentType'](){return this['contentType'];}[_0x32ddeb(0x3be)](_0x426b59){_0x426b59['registerPublisher'](this);}['registerDestination'](_0x579001){const _0x6acf38=_0x32ddeb;_0x579001[_0x6acf38(0x6e4)](this);}['publish'](_0x37fc88){const _0xf220f7=_0x32ddeb;this[_0xf220f7(0x639)][_0xf220f7(0x7db)]({'topicLabel':this['label'],'contentType':this['contentType'],'uuid':(0x0,_0x3b9a63['v4'])(),'recipients':[],..._0x37fc88});}['subscribe'](_0x1f4535){const _0x10ee0c=_0x32ddeb;return this[_0x10ee0c(0x639)][_0x10ee0c(0x558)](_0x1f4535);}[_0x32ddeb(0x457)](_0x1ba37b){const _0x3b7984=_0x32ddeb;_0x1ba37b[_0x3b7984(0x735)](this);}['unregisterDestination'](_0x3f8410){const _0x1851ff=_0x32ddeb;_0x3f8410[_0x1851ff(0x5da)](this);}}class _0x3c9c37{[_0x32ddeb(0x500)]={'topics':new Map(),'subscriptions':new Map()};[_0x32ddeb(0x782)];constructor(_0x46c74a){const _0x4056b0=_0x32ddeb;this[_0x4056b0(0x782)]=_0x46c74a;}get[_0x32ddeb(0x3f5)](){const _0x59cc52=_0x32ddeb;return this[_0x59cc52(0x500)]['subscriptions'];}get[_0x32ddeb(0x187)](){const _0x10d2ce=_0x32ddeb;return this[_0x10d2ce(0x500)]['topics'];}[_0x32ddeb(0x4f7)](_0x3961b5,_0x316e29){const _0x5b2bc2=_0x32ddeb,_0x32deb2=this[_0x5b2bc2(0x782)](_0x316e29),_0x432866=_0x3c1dd3(_0x3961b5);if(!_0x32deb2[_0x5b2bc2(0x409)])throw new _0x4daf03(_0x4daf03[_0x5b2bc2(0x719)][_0x5b2bc2(0x5d6)],{'message':_0x432866+':\x20'+_0x32deb2[_0x5b2bc2(0x264)]+_0x5b2bc2(0x3c2)+_0x32deb2['contentType'],'subscriptionType':_0x3961b5,'subscription':_0x316e29,'subscriptonParts':_0x32deb2});const _0x4cce68=_0x10e6d5(_0x3961b5,_0x32deb2);if(this[_0x5b2bc2(0x500)][_0x5b2bc2(0x3f5)]['has'](_0x4cce68))throw new _0x4daf03(_0x4daf03[_0x5b2bc2(0x719)][_0x5b2bc2(0x5d6)],{'message':_0x432866+':\x20'+_0x4cce68+_0x5b2bc2(0x7c7),'subscriptionType':_0x3961b5,'subscription':_0x316e29,'subscriptonParts':_0x32deb2});this[_0x5b2bc2(0x500)][_0x5b2bc2(0x3f5)][_0x5b2bc2(0x36d)](_0x4cce68,_0x316e29),this[_0x5b2bc2(0x4e8)](_0x32deb2,_0x316e29);}[_0x32ddeb(0x560)](_0x57af8d,_0x311150){const _0x5d5044=_0x32ddeb,_0x2b46e0=_0x10e6d5(_0x311150,_0x57af8d),_0x23a8fb=this[_0x5d5044(0x500)][_0x5d5044(0x3f5)][_0x5d5044(0x798)](_0x2b46e0);if(!_0x23a8fb)throw new _0x4daf03(_0x4daf03[_0x5d5044(0x719)][_0x5d5044(0x5d6)],{'message':_0x3c1dd3(_0x311150)+':\x20'+_0x2b46e0+_0x5d5044(0x60a),'subscriptionType':_0x311150,'subscription':_0x23a8fb,'subscriptonParts':_0x57af8d});this['closeSubscription'](_0x23a8fb,_0x2b46e0,_0x57af8d);}[_0x32ddeb(0x5ca)](_0x21e883,_0x3eb413,_0x236842){const _0x7e2f76=_0x32ddeb;_0x236842=_0x236842||this['getPartsFromSubscription'](_0x21e883),this[_0x7e2f76(0x500)][_0x7e2f76(0x3f5)]['delete'](_0x3eb413),this[_0x7e2f76(0x1dd)](_0x236842,_0x21e883);}[_0x32ddeb(0x4e8)](_0x14bb45,{source:_0x2db2a5,destination:_0x7cacbb}){const _0x536b8a=_0x32ddeb,{contentType:_0x35b62e,label:_0x47e904,remoteId:_0x31e6e2}=_0x14bb45,_0xbc0e89=_0x58e1c4(_0x35b62e,_0x47e904,_0x31e6e2),_0x5da6a5=new _0x1199f6(_0xbc0e89,_0x35b62e);_0x5da6a5[_0x536b8a(0x3be)](_0x2db2a5),_0x5da6a5[_0x536b8a(0x505)](_0x7cacbb),this[_0x536b8a(0x500)][_0x536b8a(0x187)]['set'](_0x5da6a5[_0x536b8a(0x7fa)](),_0x5da6a5);}[_0x32ddeb(0x1dd)](_0x317edb,_0x497fb6){const _0x5457a4=_0x32ddeb,{contentType:_0x104657,label:_0x1fbbd3,remoteId:_0xf80e8e}=_0x317edb,_0x3d7368=_0x58e1c4(_0x104657,_0x1fbbd3,_0xf80e8e),_0x3ae2c1=this[_0x5457a4(0x500)][_0x5457a4(0x187)][_0x5457a4(0x798)](_0x3d7368);_0x3ae2c1&&(this[_0x5457a4(0x3bb)](_0x3ae2c1,_0x497fb6),this[_0x5457a4(0x500)][_0x5457a4(0x187)][_0x5457a4(0x27d)](_0x3d7368));}[_0x32ddeb(0x3bb)](_0x2db5fd,{source:_0x243bac,destination:_0x21dfc9}){const _0x1f8cfd=_0x32ddeb;_0x2db5fd[_0x1f8cfd(0x457)](_0x243bac),_0x2db5fd[_0x1f8cfd(0x3cb)](_0x21dfc9);}['removeSubscriptionsForNode'](_0x572008){const _0x2df904=_0x32ddeb;this[_0x2df904(0x500)]['subscriptions']['forEach']((_0x236a98,_0x50b62a)=>{const _0x32f6a9=_0x2df904;_0x50b62a[_0x32f6a9(0x33e)](_0x572008)&&this[_0x32f6a9(0x5ca)](_0x236a98,_0x50b62a);});}}class _0x11205d{['configs'];[_0x32ddeb(0x24e)];[_0x32ddeb(0x3ef)]=new Map();[_0x32ddeb(0x344)]=_0x5ab2b5(new _0x4381c5(this[_0x32ddeb(0x3e7)][_0x32ddeb(0x499)](this),()=>_0x43cca0[_0x32ddeb(0x7fd)](0x64)),!0x0);[_0x32ddeb(0x63d)]=new Map();[_0x32ddeb(0x500)];['chosenAnswers']=new Map();constructor(_0x8dbf11,_0x4418b3){const _0x42671f=_0x32ddeb;this[_0x42671f(0x486)]=_0x8dbf11,this['maxDistance']=_0x4418b3,this['maps']=new _0x3c9c37(({source:_0x49b8a0,destination:_0x157811})=>_0x551e24(_0x157811,_0x49b8a0));}[_0x32ddeb(0x4f7)](_0x494e52,_0x53d3f5){const _0x290c37=_0x32ddeb,_0x3813df=this[_0x290c37(0x7e1)](_0x494e52)&&this['isMediaDestination'](_0x53d3f5)?new _0x4d6226(_0x494e52,_0x53d3f5):new _0x5c6bec(_0x494e52,_0x53d3f5);this[_0x290c37(0x500)][_0x290c37(0x4f7)](_0x16af09[_0x290c37(0x290)],_0x3813df),this[_0x290c37(0x486)][_0x290c37(0x257)][_0x290c37(0x2d2)](_0x3813df);}[_0x32ddeb(0x560)](_0x2a4d7f,_0x5ea17a,_0x109735=''){const _0x185dda=_0x32ddeb,_0x3c6998={'contentType':_0x5ea17a,'label':_0x2a4d7f,'remoteId':_0x109735},_0x5a3b3c=_0x10e6d5(_0x16af09[_0x185dda(0x290)],_0x3c6998),_0x116ec9=this[_0x185dda(0x500)][_0x185dda(0x3f5)]['get'](_0x5a3b3c);_0x116ec9&&this[_0x185dda(0x5ca)](_0x116ec9,_0x5a3b3c);}[_0x32ddeb(0x466)](_0x10d6a5){const _0x424336=_0x32ddeb;this[_0x424336(0x3a1)](_0x10d6a5);}[_0x32ddeb(0x417)]({label:_0x194efc,ownerId:_0x139ca3,trackKinds:_0x374367,params:_0x209ea4}){this['requestSubscription'](_0x194efc,_0x139ca3,_0x374367,_0x209ea4);}[_0x32ddeb(0x247)]({ownerId:_0x64c026,label:_0x58467c,params:_0x38adf0}){const _0xa636d8=_0x32ddeb,{subscriptionLabel:_0x1b4b98}=this['getSubscriptionLabel'](_0x58467c,_0x64c026),_0x5c0174=this['getMediaSubscription'](_0x1b4b98);_0x5c0174&&_0x5c0174[_0xa636d8(0x805)](_0x64c026,_0x38adf0);}[_0x32ddeb(0x4fb)]({ownerId:_0x19bd7d,label:_0x523ad3,trackKinds:_0x2c656b,remainingTracks:_0x593dfd}){const _0x3f8f6f=_0x32ddeb,_0x24f892=_0x10e6d5(_0x16af09[_0x3f8f6f(0x290)],{'contentType':_0x16caec[_0x3f8f6f(0x76d)][_0x3f8f6f(0x309)],'label':_0x523ad3,'remoteId':_0x19bd7d});this['clearSubscriptionRequestTimeout'](_0x24f892);const _0x3ad7c3=this[_0x3f8f6f(0x3ef)]['get'](_0x24f892);_0x3ad7c3&&(this[_0x3f8f6f(0x486)]['mediator'][_0x3f8f6f(0x53d)](_0x3ad7c3),this['subscriptionRequests'][_0x3f8f6f(0x27d)](_0x24f892));const {parts:_0x860f94,subscriptionLabel:_0x24d0b}=this[_0x3f8f6f(0x54f)](_0x523ad3,_0x19bd7d),_0x3f45d0=this['getMediaSubscription'](_0x24d0b);_0x3f45d0&&(_0x3f45d0['unsubscribe'](_0x19bd7d,_0x593dfd,_0x2c656b),0x0===_0x593dfd&&this[_0x3f8f6f(0x560)](_0x860f94['label'],_0x860f94[_0x3f8f6f(0x1e8)],_0x860f94[_0x3f8f6f(0x264)]));}[_0x32ddeb(0x497)](_0x280361,{label:_0x4b8a54,ownerId:_0x68ebca,trackKinds:_0x11b021,streamId:_0x15dc81,params:_0x1a4838}){const _0x1eddae=_0x32ddeb,_0x1b5c50=_0x10e6d5(_0x16af09['Incoming'],{'contentType':_0x16caec[_0x1eddae(0x76d)][_0x1eddae(0x309)],'label':_0x15dc81,'remoteId':_0x280361}),_0xfa38a3=this[_0x1eddae(0x500)]['subscriptions']['get'](_0x1b5c50);if(!(_0xfa38a3&&_0xfa38a3 instanceof _0x4d6226))throw new _0x4daf03(_0x4daf03[_0x1eddae(0x719)][_0x1eddae(0x426)],{'label':_0x1b5c50,'ownerId':_0x68ebca});this[_0x1eddae(0x5ca)](_0xfa38a3,_0x1b5c50),this['requestSubscription'](_0x4b8a54,_0x68ebca,_0x11b021,_0x1a4838);}[_0x32ddeb(0x6c7)](_0xa229cd,_0x157454){const _0x12110c=_0x32ddeb,{label:_0x273eef,ownerId:_0x1d04ed,trackKinds:_0x226e83,params:_0x13ae18}=_0x157454,_0x1597dd=_0x10e6d5(_0x16af09[_0x12110c(0x290)],{'contentType':_0x16caec[_0x12110c(0x76d)][_0x12110c(0x309)],'label':_0x273eef,'remoteId':_0x1d04ed});if(!this['subscriptionRequests'][_0x12110c(0x5ae)](_0x1597dd))throw new _0x4daf03(_0x4daf03[_0x12110c(0x719)][_0x12110c(0x426)],{'label':_0x1597dd,'ownerId':_0x1d04ed,'streamId':_0x157454['streamId'],'requests':this[_0x12110c(0x3ef)]});const _0x577cb8=this[_0x12110c(0x3ef)][_0x12110c(0x798)](_0x1597dd);if(_0x226e83[_0x12110c(0x19d)]===_0x577cb8[_0x12110c(0x6a3)]()[_0x12110c(0x19d)]&&_0x226e83[_0x12110c(0x1c0)](_0x506ab2=>_0x577cb8[_0x12110c(0x6a3)]()[_0x12110c(0x31c)](_0x506ab2)))try{const _0x2e3954=_0x577cb8[_0x12110c(0x612)](_0xa229cd,_0x157454);if(!_0x2e3954)return;this[_0x12110c(0x558)](_0x2e3954,_0x1d04ed,_0x273eef,_0x1597dd,_0x226e83);}catch(_0x591467){return void this[_0x12110c(0x562)](_0x273eef,_0x1d04ed,_0x226e83,_0x13ae18);}}[_0x32ddeb(0x48b)](_0x160c7a,{label:_0x4bbcad,ownerId:_0x7cdc1f,trackKinds:_0x4bab85}){const _0x515db0=_0x32ddeb,_0x3ec760=this[_0x515db0(0x486)][_0x515db0(0x257)]['getRemoteMediaStream'](_0x7cdc1f,_0x4bbcad);if(!_0x3ec760)return;const _0x1bc822=_0x3ec760[_0x515db0(0x55b)](),_0x3acd72=_0x3ec760[_0x515db0(0x7f9)]();_0x3acd72[_0x515db0(0x442)](_0x3078de=>_0x4bab85[_0x515db0(0x31c)](_0x3078de))&&this[_0x515db0(0x7da)](_0x160c7a,_0x4bbcad,_0x1bc822,_0x7cdc1f,_0x3acd72);}[_0x32ddeb(0x78d)]({label:_0x3fc3db,providerId:_0x275439,ownerId:_0x5ade3b,streamId:_0x392e24,trackKinds:_0x21d5f8}){this['findNewMediaSubscription'](_0x275439,_0x3fc3db,_0x392e24,_0x5ade3b,_0x21d5f8);}['handleOptimizationConnectionSuccess'](_0x4869f3){const _0xf8d984=_0x32ddeb;for(const _0xf3a5ff of this[_0xf8d984(0x7a4)]['values']()){const {streamLabel:_0x1a7c9d,ownerId:_0x180633,trackKinds:_0x471dd4,params:_0x25e76d}=_0xf3a5ff;if(!_0x180633||!_0x471dd4||!_0x1a7c9d)return;this[_0xf8d984(0x344)][_0xf8d984(0x6f1)]({'label':_0x1a7c9d,'ownerId':_0x180633,'trackKinds':_0x471dd4,'params':_0x25e76d,'remoteId':_0x4869f3});}}[_0x32ddeb(0x727)](_0x577ece){const _0x464aac=_0x32ddeb;this[_0x464aac(0x500)]['subscriptions'][_0x464aac(0x801)]((_0x18082d,_0x1a7b40)=>{const _0x21f68c=_0x464aac;if(_0x1a7b40[_0x21f68c(0x33e)](_0x577ece)){if(_0x18082d[_0x21f68c(0x2cd)][_0x21f68c(0x373)]()===_0x16caec['ContentType'][_0x21f68c(0x309)]){const _0x1494b1=_0x18082d[_0x21f68c(0x2cd)];if(_0x1494b1[_0x21f68c(0x7f9)]()['length']>0x0){const _0x5ca7d2={'type':_0x1152b3['MediaStreamUnavailable'],'label':_0x1494b1[_0x21f68c(0x7fa)](),'ownerId':_0x1494b1[_0x21f68c(0x2d6)](),'trackKinds':_0x1494b1[_0x21f68c(0x7f9)]()};return void this[_0x21f68c(0x48b)](_0x577ece,_0x5ca7d2);}}this['closeSubscription'](_0x18082d,_0x1a7b40);}});}[_0x32ddeb(0x36f)](){const _0x42579=_0x32ddeb;this[_0x42579(0x500)][_0x42579(0x3f5)][_0x42579(0x801)](this['closeSubscription']['bind'](this));}[_0x32ddeb(0x558)](_0x3aa9cf,_0x1cd5ec,_0x3f0067,_0x605cf8,_0x43763e){const _0x446772=_0x32ddeb,_0x340f95=this[_0x446772(0x486)]['mediator'][_0x446772(0x5a9)](_0x3aa9cf['nodeId']),_0x5eab76=this['configs'][_0x446772(0x257)][_0x446772(0x69c)](_0x1cd5ec,_0x3f0067);this[_0x446772(0x1e0)](_0x605cf8),this['subscriptionRequests']['has'](_0x605cf8)&&(this[_0x446772(0x486)][_0x446772(0x257)][_0x446772(0x53d)](this[_0x446772(0x3ef)][_0x446772(0x798)](_0x605cf8)),this[_0x446772(0x3ef)]['delete'](_0x605cf8)),this[_0x446772(0x2fe)](_0x3aa9cf,_0x1cd5ec,_0x3f0067,_0x5eab76),_0x5eab76['setInternalId'](_0x3aa9cf[_0x446772(0x31b)]),_0x5eab76[_0x446772(0x57d)](_0x3aa9cf['nodeId']);const _0x5a2517=_0x551e24(_0x5eab76,_0x340f95),_0xa1ee13=_0x10e6d5(_0x16af09[_0x446772(0x290)],_0x5a2517);this[_0x446772(0x500)][_0x446772(0x3f5)][_0x446772(0x5ae)](_0xa1ee13)||this[_0x446772(0x4f7)](_0x340f95,_0x5eab76);const _0x17a759=this[_0x446772(0x500)][_0x446772(0x3f5)][_0x446772(0x798)](_0xa1ee13);if(!(_0x17a759&&_0x17a759 instanceof _0x4d6226))throw new _0x4daf03(_0x4daf03[_0x446772(0x719)][_0x446772(0x426)],{'label':_0x605cf8,'ownerId':_0x1cd5ec});_0x1709c0[_0x446772(0x196)](_0x446772(0x49b),{'clusterId':this[_0x446772(0x486)][_0x446772(0x713)],'nodeId':this['configs'][_0x446772(0x7a2)][_0x446772(0x544)](),'nodeType':this[_0x446772(0x486)][_0x446772(0x7a2)][_0x446772(0x6a0)],'data':{'subscriptionLabel':_0xa1ee13,'chosenAnswer':_0x3aa9cf}}),this['chosenAnswers'][_0x446772(0x36d)](_0xa1ee13,_0x3aa9cf),_0x17a759[_0x446772(0x558)](_0x1cd5ec,_0x43763e,_0x3aa9cf['params']);}[_0x32ddeb(0x3a1)]({ownerId:_0x19b8a7,label:_0x52518c}){const _0x5b4eac=_0x32ddeb,_0x227159=this[_0x5b4eac(0x486)][_0x5b4eac(0x257)]['getRemoteMediaStream'](_0x19b8a7,_0x52518c),[_0x16b965,_0x4c397a]=Array[_0x5b4eac(0x34d)](this['maps'][_0x5b4eac(0x3f5)][_0x5b4eac(0x2a9)]())[_0x5b4eac(0x323)](([_0x23797b,_0x354640])=>-0x1!==_0x23797b[_0x5b4eac(0x256)](_0x227159['getInternalStreamId']()));return this['closeSubscription'](_0x4c397a,_0x16b965);}[_0x32ddeb(0x5ca)](_0x109e77,_0x189300){const _0x42f9e4=_0x32ddeb;this[_0x42f9e4(0x486)][_0x42f9e4(0x257)][_0x42f9e4(0x53d)](_0x109e77),this[_0x42f9e4(0x500)][_0x42f9e4(0x5ca)](_0x109e77,_0x189300);}[_0x32ddeb(0x7e1)](_0x2dba7a){const _0x3ac7b2=_0x32ddeb;return _0x2dba7a[_0x3ac7b2(0x393)]()['includes'](_0x16caec[_0x3ac7b2(0x76d)][_0x3ac7b2(0x309)]);}[_0x32ddeb(0x5b3)](_0x3d9b83){const _0x140445=_0x32ddeb;return _0x3d9b83[_0x140445(0x373)]()===_0x16caec[_0x140445(0x76d)][_0x140445(0x309)];}async[_0x32ddeb(0x562)](_0x44853c,_0x5c78fd,_0x459771,_0x54c34a){const _0x201624=_0x32ddeb;await _0x43cca0[_0x201624(0x7fd)](0x3e8);const _0x8702b8=_0x10e6d5(_0x16af09[_0x201624(0x290)],{'contentType':_0x16caec[_0x201624(0x76d)][_0x201624(0x309)],'label':_0x44853c,'remoteId':_0x5c78fd});this[_0x201624(0x1e0)](_0x8702b8);const _0x549ace=this[_0x201624(0x3ef)][_0x201624(0x798)](_0x8702b8);if(!_0x549ace)throw new _0x4daf03(_0x4daf03[_0x201624(0x719)][_0x201624(0x426)],{'label':_0x8702b8,'ownerId':_0x5c78fd});const _0x587f07=this[_0x201624(0x486)][_0x201624(0x257)][_0x201624(0x6e8)](_0x56b512=>_0x56b512[_0x201624(0x6cd)]()),_0xb6d346=this['configs'][_0x201624(0x257)][_0x201624(0x2e6)](this[_0x201624(0x486)]['localNode'][_0x201624(0x544)](),_0x5c78fd);_0x549ace[_0x201624(0x2e9)](_0x587f07['map'](_0x5ca109=>_0x5ca109[_0x201624(0x6b1)]()),_0xb6d346);try{_0x549ace[_0x201624(0x3f7)](this[_0x201624(0x486)]['localNode'][_0x201624(0x544)](),_0x5c78fd,_0x44853c,_0x459771,_0x54c34a),this[_0x201624(0x4f0)](_0x44853c,_0x5c78fd,_0x459771,_0x54c34a,_0x8702b8,_0x549ace);}catch(_0x3297b7){this[_0x201624(0x344)][_0x201624(0x6f1)]({'label':_0x44853c,'ownerId':_0x5c78fd,'trackKinds':_0x459771,'params':_0x54c34a});}}[_0x32ddeb(0x718)](_0x1c424f,_0x210a32,_0x399f26,_0x4c4530){const _0x5c9e22=_0x32ddeb;this[_0x5c9e22(0x344)][_0x5c9e22(0x6f1)]({'label':_0x1c424f,'ownerId':_0x210a32,'trackKinds':_0x399f26,'params':_0x4c4530});}['requestSubscriptionAction']({label:_0x304bd1,ownerId:_0x32d094,trackKinds:_0x1e8fb5,params:_0x1bfcb0,remoteId:_0x4bc7dd}){const _0x5a692f=_0x32ddeb;if(!this[_0x5a692f(0x486)][_0x5a692f(0x257)]['getRemoteMediaStream'](_0x32d094,_0x304bd1))return;if(!this['configs'][_0x5a692f(0x257)]['getLocalNode']()[_0x5a692f(0x2f9)]())throw new Error(_0x5a692f(0x2be));if(_0x4bc7dd){const _0x5ec906=this[_0x5a692f(0x486)][_0x5a692f(0x257)]['getRemoteNodes']()[_0x5a692f(0x323)](_0x53066b=>_0x53066b[_0x5a692f(0x544)]()===_0x4bc7dd),_0x2024ef=_0x5ec906?.[_0x5a692f(0x2f9)]();if(!_0x5ec906||!_0x2024ef)throw new Error(_0x5a692f(0x285));const _0x2fe25e=this['configs']['mediator'][_0x5a692f(0x73f)]()[_0x5a692f(0x323)](_0x1dafe0=>_0x1dafe0[_0x5a692f(0x544)]()===_0x32d094),_0x38923e=_0x2fe25e?.['getRank']();if(!_0x2fe25e||!_0x38923e)throw new Error(_0x5a692f(0x433));const _0xe2e29c=this['chosenAnswers']['get'](_0x304bd1);if(_0xe2e29c){const _0x4d0d1b=this[_0x5a692f(0x486)][_0x5a692f(0x257)][_0x5a692f(0x73f)]()[_0x5a692f(0x323)](_0x15195e=>_0x15195e[_0x5a692f(0x544)]()===_0xe2e29c[_0x5a692f(0x189)]),_0x264587=_0x4d0d1b?.[_0x5a692f(0x2f9)]();if(!_0x4d0d1b||!_0x264587)throw new Error(_0x5a692f(0x65e));if(Math[_0x5a692f(0x7ba)](_0x264587-_0x38923e)<Math[_0x5a692f(0x7ba)](_0x2024ef-_0x38923e))return;}}const _0x1d4264=this[_0x5a692f(0x486)][_0x5a692f(0x257)][_0x5a692f(0x6e8)](_0x50f4f9=>_0x50f4f9['isConnected']()&&(!_0x4bc7dd||_0x50f4f9[_0x5a692f(0x6b1)]()===_0x4bc7dd));if(!_0x1d4264[_0x5a692f(0x19d)]||0x0===_0x1d4264[_0x5a692f(0x19d)])throw new Error(_0x5a692f(0x564));const _0x4f168a=this[_0x5a692f(0x486)][_0x5a692f(0x257)]['getDistance'](this[_0x5a692f(0x486)]['localNode'][_0x5a692f(0x544)](),_0x32d094),_0x2d698a=_0x10e6d5(_0x16af09['Incoming'],{'contentType':_0x16caec[_0x5a692f(0x76d)][_0x5a692f(0x309)],'label':_0x304bd1,'remoteId':_0x32d094});if(this[_0x5a692f(0x3ef)][_0x5a692f(0x5ae)](_0x2d698a)){if(_0x4bc7dd)throw new Error(_0x5a692f(0x4c2));const _0x1313a6=this[_0x5a692f(0x3ef)][_0x5a692f(0x798)](_0x2d698a)[_0x5a692f(0x6a3)]();if(_0x1313a6[_0x5a692f(0x19d)]===_0x1e8fb5[_0x5a692f(0x19d)]&&_0x1313a6[_0x5a692f(0x1c0)](_0x60cb8a=>_0x1e8fb5[_0x5a692f(0x31c)](_0x60cb8a)))return;this[_0x5a692f(0x486)][_0x5a692f(0x257)]['unregisterSystemSource'](this[_0x5a692f(0x3ef)][_0x5a692f(0x798)](_0x2d698a)),this[_0x5a692f(0x3ef)][_0x5a692f(0x27d)](_0x2d698a),_0x1e8fb5=Array['from'](new Set(_0x1e8fb5[_0x5a692f(0x7c5)](_0x1313a6))),this['clearSubscriptionRequestTimeout'](_0x2d698a);}const _0x394740=new _0x336e11(_0x1d4264[_0x5a692f(0x1a1)](_0x26441a=>_0x26441a[_0x5a692f(0x6b1)]()),_0x4f168a,this[_0x5a692f(0x24e)],_0x1e8fb5);this[_0x5a692f(0x486)]['mediator'][_0x5a692f(0x2d2)](_0x394740),this['subscriptionRequests']['set'](_0x2d698a,_0x394740),_0x394740[_0x5a692f(0x3f7)](this[_0x5a692f(0x486)][_0x5a692f(0x7a2)][_0x5a692f(0x544)](),_0x32d094,_0x304bd1,_0x1e8fb5,_0x1bfcb0),this[_0x5a692f(0x4f0)](_0x304bd1,_0x32d094,_0x1e8fb5,_0x1bfcb0,_0x2d698a,_0x394740);}['clearSubscriptionRequestTimeout'](_0x7f7ca0){const _0x3697b6=_0x32ddeb;this[_0x3697b6(0x63d)][_0x3697b6(0x5ae)](_0x7f7ca0)&&(clearTimeout(this['subscriptionRequestTimeouts'][_0x3697b6(0x798)](_0x7f7ca0)),this['subscriptionRequestTimeouts'][_0x3697b6(0x27d)](_0x7f7ca0));}[_0x32ddeb(0x4f0)](_0x101e97,_0xeb9c6d,_0x149155,_0x9a600a,_0x3efcd8,_0x57fc4d){const _0x634556=_0x32ddeb;this[_0x634556(0x1e0)](_0x3efcd8),this[_0x634556(0x63d)][_0x634556(0x36d)](_0x3efcd8,setTimeout(()=>{const _0x44bb4b=_0x634556;this[_0x44bb4b(0x63d)][_0x44bb4b(0x27d)](_0x3efcd8);try{const _0x548b13=_0x57fc4d[_0x44bb4b(0x6aa)]();this['subscribe'](_0x548b13,_0xeb9c6d,_0x101e97,_0x3efcd8,_0x149155);}catch(_0x2335ea){this['handleNoAnswer'](_0x101e97,_0xeb9c6d,_0x149155,_0x9a600a);}},0x7d0));}[_0x32ddeb(0x7da)](_0x591195,_0x4aa194,_0x2cca5b,_0xa97174,_0x27a71e){const _0x245fed=_0x32ddeb,{subscriptionLabel:_0x4d6fdb}=this['getSubscriptionLabel'](_0x4aa194,_0xa97174),_0x99af00=this['getMediaSubscription'](_0x4d6fdb),_0xa0f124=_0x99af00?.[_0x245fed(0x1ec)];_0x99af00&&(_0x99af00['unsubscribe'](_0xa97174,0x0),this['removeSubscription'](_0x2cca5b,_0x16caec[_0x245fed(0x76d)][_0x245fed(0x309)],_0x591195)),this[_0x245fed(0x718)](_0x4aa194,_0xa97174,_0x27a71e,_0xa0f124);}[_0x32ddeb(0x406)](_0x5efb1a){const _0x26eb10=_0x32ddeb,_0x418cb2=this[_0x26eb10(0x500)][_0x26eb10(0x3f5)][_0x26eb10(0x798)](_0x5efb1a);if(_0x418cb2){if(!(_0x418cb2 instanceof _0x4d6226))throw new _0x4daf03(_0x4daf03[_0x26eb10(0x719)][_0x26eb10(0x5d6)],{'label':_0x5efb1a,'subscription':_0x418cb2});return _0x418cb2;}}[_0x32ddeb(0x54f)](_0xb6bb15,_0x5a7083){const _0x5a7ae0=_0x32ddeb,_0x92056a=this[_0x5a7ae0(0x3e0)](_0xb6bb15,_0x5a7083);return{'parts':_0x92056a,'subscriptionLabel':_0x10e6d5(_0x16af09[_0x5a7ae0(0x290)],_0x92056a)};}['getPartsForSubscriptionLabel'](_0x1b1567,_0x184f28){const _0x3b0ed8=_0x32ddeb,_0xa831bb=this[_0x3b0ed8(0x486)]['mediator'][_0x3b0ed8(0x69c)](_0x184f28,_0x1b1567),_0xd830b7=_0xa831bb[_0x3b0ed8(0x75a)]();if(!_0xd830b7)throw new _0x4daf03(_0x4daf03[_0x3b0ed8(0x719)][_0x3b0ed8(0x303)],{'label':_0x1b1567,'streamId':_0xa831bb[_0x3b0ed8(0x55b)](),'ownerId':_0x184f28,'localId':this[_0x3b0ed8(0x486)][_0x3b0ed8(0x7a2)][_0x3b0ed8(0x544)]()});return{'contentType':_0x16caec[_0x3b0ed8(0x76d)][_0x3b0ed8(0x309)],'label':_0xa831bb['getInternalStreamId'](),'remoteId':_0xd830b7};}[_0x32ddeb(0x2fe)](_0x281f12,_0x2289cd,_0x14d98d,_0x1d54d7){const _0x4edd96=_0x32ddeb,_0x4bc115=_0x1d54d7[_0x4edd96(0x75a)]();if(_0x4bc115&&_0x4bc115!==_0x281f12[_0x4edd96(0x189)]){const {parts:_0x2215e4,subscriptionLabel:_0x1a2c76}=this['getSubscriptionLabel'](_0x14d98d,_0x2289cd),_0x19bc59=this[_0x4edd96(0x406)](_0x1a2c76);_0x19bc59&&(_0x19bc59['unsubscribe'](_0x2289cd,0x0),this[_0x4edd96(0x560)](_0x2215e4['label'],_0x2215e4[_0x4edd96(0x1e8)],_0x2215e4[_0x4edd96(0x264)]));}}}class _0x5a63db{[_0x32ddeb(0x486)];[_0x32ddeb(0x788)];['maps'];constructor(_0x1720b0,_0x2369a6){const _0x5b45f3=_0x32ddeb;this[_0x5b45f3(0x486)]=_0x1720b0,this['maxOutgoingSubscriptions']=_0x2369a6,this[_0x5b45f3(0x500)]=new _0x3c9c37(({source:_0x267757,destination:_0x29c673})=>_0x551e24(_0x267757,_0x29c673));}[_0x32ddeb(0x4f7)](_0x38f2da,_0x1087be){const _0x3e2371=_0x32ddeb,_0x446240={'source':_0x38f2da,'destination':_0x1087be};this['maps'][_0x3e2371(0x4f7)](_0x16af09[_0x3e2371(0x7f6)],_0x446240);}[_0x32ddeb(0x560)](_0x36f802,_0xa85425,_0x165f76=''){const _0x49c659=_0x32ddeb,_0x1071de={'contentType':_0xa85425,'label':_0x36f802,'remoteId':_0x165f76};this[_0x49c659(0x500)][_0x49c659(0x560)](_0x1071de,_0x16af09[_0x49c659(0x7f6)]);}[_0x32ddeb(0x4e9)](_0x2feed7,_0x58c514){const _0x321151=_0x32ddeb;let _0x2871d9;_0x2871d9=_0x58c514[_0x321151(0x26d)]!==this[_0x321151(0x486)]['localNode']['getId']()?this[_0x321151(0x486)]['mediator'][_0x321151(0x69c)](_0x58c514[_0x321151(0x26d)],_0x58c514['label']):this[_0x321151(0x486)][_0x321151(0x257)][_0x321151(0x793)](_0x58c514['label']);const _0x89f5c7=_0x10e6d5(_0x16af09[_0x321151(0x7f6)],{'contentType':_0x16caec['ContentType'][_0x321151(0x309)],'label':_0x2871d9['getShareableStreamId'](),'remoteId':_0x2feed7}),_0x9977a0=this[_0x321151(0x1f1)]();if(!this[_0x321151(0x500)][_0x321151(0x3f5)][_0x321151(0x5ae)](_0x89f5c7)&&_0x9977a0>=this[_0x321151(0x788)])return{'type':_0x1152b3['RestartNeedMediaStream'],'ownerId':_0x58c514[_0x321151(0x26d)],'label':_0x58c514[_0x321151(0x235)],'streamId':_0x2871d9[_0x321151(0x5c0)](),'trackKinds':_0x58c514[_0x321151(0x3ff)],'params':_0x58c514[_0x321151(0x1ec)]};_0x2871d9 instanceof _0x3d7e59&&!_0x2871d9['isSubscribed'](_0x58c514[_0x321151(0x3ff)])&&_0x2871d9['subscribe'](_0x58c514[_0x321151(0x1ec)]),this[_0x321151(0x500)][_0x321151(0x3f5)][_0x321151(0x5ae)](_0x89f5c7)||this[_0x321151(0x4f7)](_0x2871d9[_0x321151(0x2bc)](_0x2feed7),this[_0x321151(0x486)][_0x321151(0x257)][_0x321151(0x5a9)](_0x2feed7));}['handleSubscriptionUnsubscribeMediaStream'](_0xcadc52,{label:_0x4f8816,ownerId:_0xc4448c,remainingTracks:_0x10b278}){const _0x187d69=_0x32ddeb;if(_0x10b278>0x0)return;let _0x37acf3;_0x37acf3=_0xc4448c!==this[_0x187d69(0x486)][_0x187d69(0x7a2)]['getId']()?this[_0x187d69(0x486)][_0x187d69(0x257)][_0x187d69(0x69c)](_0xc4448c,_0x4f8816):this['configs']['mediator'][_0x187d69(0x793)](_0x4f8816);const _0x14c877=_0x37acf3[_0x187d69(0x5c0)](),_0x2aac03=_0x16caec[_0x187d69(0x76d)][_0x187d69(0x309)];this['removeSubscription'](_0x14c877,_0x2aac03,_0xcadc52);}[_0x32ddeb(0x4fb)](_0x371629,{label:_0x59220f,ownerId:_0x33606d,trackKinds:_0xb950fe}){const _0x15fbb1=_0x32ddeb;if(_0x371629!==_0x514c9c)return[];let _0x2fa66c=[];for(const _0x3198cc of this[_0x15fbb1(0x500)][_0x15fbb1(0x3f5)]){const {source:_0x29d222,destination:_0x44985b}=_0x3198cc[0x1];_0x29d222[_0x15fbb1(0x7fa)]()===_0x59220f&&_0x29d222[_0x15fbb1(0x2d6)]()===_0x33606d&&_0x2fa66c['push']({'sourceId':this[_0x15fbb1(0x486)][_0x15fbb1(0x7a2)]['getId'](),'destinationIds':[_0x44985b[_0x15fbb1(0x6b1)]()],'messageType':_0x16f8c2[_0x15fbb1(0x319)],'content':{'type':_0x1152b3['MediaStreamUnavailable'],'label':_0x59220f,'ownerId':_0x33606d,'trackKinds':_0xb950fe}});}return _0x2fa66c;}['handleSubscriptionNeedMediaStream'](_0x60764b,_0x57761f){const _0x7a2863=_0x32ddeb,{label:_0x5665fa,ownerId:_0x4b6118,trackKinds:_0x50e69c,params:_0xabfde8}=_0x57761f,{hasTracks:_0x3cfe2a,streamId:_0x9f3ab7,hasResolution:_0x5732e1,distance:_0x271c92,subscriptionLabel:_0x560f48}=this[_0x7a2863(0x20f)](_0x60764b,_0x57761f);let _0x17b03a=this[_0x7a2863(0x1f1)]()<this[_0x7a2863(0x788)]&&(_0x3cfe2a||_0x271c92>-0x1)?_0x1152b3[_0x7a2863(0x571)]:_0x1152b3[_0x7a2863(0x2ed)];const _0x9df718=_0x271c92<0x0?0xa:_0x271c92;let _0x2b96e0=_0x3cfe2a?_0x5732e1?_0x9df718:_0x9df718+0x0:_0x9df718+0xa;return _0x560f48&&this[_0x7a2863(0x500)][_0x7a2863(0x3f5)]['has'](_0x560f48)&&(_0x3cfe2a&&(_0x2b96e0=0x0),_0x17b03a=_0x1152b3[_0x7a2863(0x571)]),{'type':_0x17b03a,'cost':_0x2b96e0,'distance':_0x271c92,'label':_0x5665fa,'ownerId':_0x4b6118,'streamId':_0x9f3ab7,'trackKinds':_0x50e69c,'params':_0xabfde8};}['handleContentUnpublishMediaStream'](_0x6b50e4){const _0x259e2d=_0x32ddeb,{label:_0x264157,ownerId:_0x2022f9}=_0x6b50e4,_0x3580a6=this['configs'][_0x259e2d(0x257)]['getRemoteMediaStream'](_0x2022f9,_0x264157);this['maps'][_0x259e2d(0x3f5)]['forEach'](_0x189694=>{const _0x5e71a2=_0x259e2d;if(_0x189694[_0x5e71a2(0x704)]['getInternalStreamId']()===_0x3580a6[_0x5e71a2(0x5c0)]()){const _0xaa9857=_0x189694[_0x5e71a2(0x2cd)];this[_0x5e71a2(0x560)](_0x3580a6[_0x5e71a2(0x5c0)](),_0x16caec[_0x5e71a2(0x76d)][_0x5e71a2(0x309)],_0xaa9857[_0x5e71a2(0x6b1)]());}});}[_0x32ddeb(0x1e4)]({label:_0x58794a}){const _0x4e92dd=_0x32ddeb,_0x3274a1=this[_0x4e92dd(0x486)]['mediator']['getLocalMediaStream'](_0x58794a);this['maps'][_0x4e92dd(0x3f5)][_0x4e92dd(0x801)](_0xd3b5e9=>{const _0x4d9141=_0x4e92dd;if(_0xd3b5e9['source'][_0x4d9141(0x55b)]()===_0x3274a1['getShareableStreamId']()){const _0x581cfb=_0xd3b5e9['destination'];this['removeSubscription'](_0x3274a1[_0x4d9141(0x5c0)](),_0x16caec[_0x4d9141(0x76d)]['Media'],_0x581cfb[_0x4d9141(0x6b1)]());}});}[_0x32ddeb(0x727)](_0x5dfe33){const _0x357919=_0x32ddeb;this[_0x357919(0x500)][_0x357919(0x727)](_0x5dfe33);}[_0x32ddeb(0x36f)](){const _0x34116a=_0x32ddeb;this[_0x34116a(0x500)][_0x34116a(0x3f5)][_0x34116a(0x801)](this[_0x34116a(0x5ca)]['bind'](this));}['closeSubscription'](_0x1f2755,_0x13a1fc){const _0x3bac52=_0x32ddeb;this[_0x3bac52(0x500)][_0x3bac52(0x5ca)](_0x1f2755,_0x13a1fc);}[_0x32ddeb(0x20f)](_0x31fe03,{label:_0x31978b,ownerId:_0x369193,trackKinds:_0x46aa18,params:_0x38d994}){const _0x2face3=_0x32ddeb;if(_0x369193!==this[_0x2face3(0x486)][_0x2face3(0x7a2)]['getId']()){const _0x40554c=this[_0x2face3(0x486)][_0x2face3(0x257)][_0x2face3(0x69c)](_0x369193,_0x31978b);return _0x40554c&&_0x40554c['getProviderId']()!==_0x31fe03?{'hasTracks':_0x40554c[_0x2face3(0x4db)](_0x46aa18),'hasResolution':this['canProvideResolution'](_0x40554c[_0x2face3(0x671)](),_0x38d994),'streamId':_0x40554c[_0x2face3(0x5c0)](),'distance':this[_0x2face3(0x486)][_0x2face3(0x257)]['getDistance'](_0x31fe03,_0x369193),'subscriptionLabel':_0x10e6d5(_0x16af09['Outgoing'],{'contentType':_0x16caec[_0x2face3(0x76d)][_0x2face3(0x309)],'label':_0x40554c[_0x2face3(0x5c0)](),'remoteId':_0x31fe03})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x1425cd=this['configs']['mediator'][_0x2face3(0x793)](_0x31978b);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x1425cd[_0x2face3(0x5c0)](),'distance':0x0,'subscriptionLabel':_0x10e6d5(_0x16af09['Outgoing'],{'contentType':_0x16caec[_0x2face3(0x76d)][_0x2face3(0x309)],'label':_0x1425cd[_0x2face3(0x5c0)](),'remoteId':_0x31fe03})};}[_0x32ddeb(0x1f1)](){const _0xc58842=_0x32ddeb;return Array[_0xc58842(0x34d)](this[_0xc58842(0x500)][_0xc58842(0x3f5)]['entries']())['filter'](([_0x62475b,{source:_0x33cf5a}])=>_0x62475b['startsWith'](_0x16af09['Outgoing'])&&_0x33cf5a[_0xc58842(0x373)]()===_0x16caec[_0xc58842(0x76d)][_0xc58842(0x309)])[_0xc58842(0x19d)];}[_0x32ddeb(0x78f)](_0x5140fa,_0x731927){const _0x5c2339=_0x32ddeb;if(!_0x731927||!_0x731927[_0x5c2339(0x6db)]||_0x5c2339(0x1d1)==typeof _0x731927[_0x5c2339(0x6db)]||!_0x731927[_0x5c2339(0x6db)][_0x5c2339(0x757)])return!0x0;const {width:_0x46bd70,height:_0x182b93}=_0x731927[_0x5c2339(0x6db)]['maxResolution'];return _0x5140fa[_0x5c2339(0x635)]>=_0x46bd70&&_0x5140fa[_0x5c2339(0x4b7)]>=_0x182b93;}}class _0xf24c5{[_0x32ddeb(0x486)];[_0x32ddeb(0x788)];[_0x32ddeb(0x24e)];[_0x32ddeb(0x32e)];[_0x32ddeb(0x3fa)];[_0x32ddeb(0x32d)];constructor(_0x312aee,_0x550f86,_0x34dc1a){const _0x444df5=_0x32ddeb;this['configs']=_0x312aee,this[_0x444df5(0x788)]=_0x550f86,this[_0x444df5(0x24e)]=_0x34dc1a,this[_0x444df5(0x486)][_0x444df5(0x257)][_0x444df5(0x2d2)](this),this[_0x444df5(0x3fa)]=new _0x11205d(this[_0x444df5(0x486)],this[_0x444df5(0x24e)]),this[_0x444df5(0x32d)]=new _0x5a63db(this['configs'],this[_0x444df5(0x788)]);}[_0x32ddeb(0x7ff)](_0x49a2be){const _0x3c395f=_0x32ddeb;this[_0x3c395f(0x32e)]=_0x49a2be;}['unregisterSystemPublisher'](){const _0x2b162d=_0x32ddeb;delete this[_0x2b162d(0x32e)];}[_0x32ddeb(0x36f)](){const _0x257640=_0x32ddeb;this[_0x257640(0x3fa)][_0x257640(0x36f)](),this['outgoingManager']['close'](),this[_0x257640(0x486)][_0x257640(0x257)][_0x257640(0x53d)](this);}[_0x32ddeb(0x624)](_0x4c3ca9,_0x5d7565){this['incomingManager']['createSubscription'](_0x4c3ca9,_0x5d7565);}[_0x32ddeb(0x1a4)](_0x480e16,_0x5ef65f){const _0x452e56=_0x32ddeb;this[_0x452e56(0x32d)]['createSubscription'](_0x480e16,_0x5ef65f);}['removeIncomingSubscription'](_0x5d1153,_0x17c5cc,_0x7db8ab=''){const _0x10d07f=_0x32ddeb;this[_0x10d07f(0x3fa)][_0x10d07f(0x560)](_0x5d1153,_0x17c5cc,_0x7db8ab);}[_0x32ddeb(0x5d8)](_0x48c3d4,_0x99cf0,_0x457539=''){const _0x17b7f6=_0x32ddeb;try{this[_0x17b7f6(0x32d)][_0x17b7f6(0x560)](_0x48c3d4,_0x99cf0,_0x457539);}catch(_0x7986ef){if(_0x7986ef instanceof _0x4daf03&&_0x7986ef[_0x17b7f6(0x684)]===_0x4daf03[_0x17b7f6(0x719)][_0x17b7f6(0x5d6)])return;}}['handleSubscriptionSystemEvents'](_0x43b845){const _0x54e8a3=_0x32ddeb;switch(_0x43b845[_0x54e8a3(0x41b)][_0x54e8a3(0x6a0)]){case _0x1152b3['SubscribeMediaStream']:this[_0x54e8a3(0x4e9)](_0x43b845['sourceId'],_0x43b845['content']);break;case _0x1152b3['UnsubscribeMediaStream']:this[_0x54e8a3(0x32d)][_0x54e8a3(0x2eb)](_0x43b845[_0x54e8a3(0x1ad)],_0x43b845[_0x54e8a3(0x41b)]);break;case _0x1152b3[_0x54e8a3(0x6ad)]:this[_0x54e8a3(0x556)](_0x43b845[_0x54e8a3(0x1ad)],_0x43b845[_0x54e8a3(0x41b)]);break;case _0x1152b3[_0x54e8a3(0x2df)]:this[_0x54e8a3(0x3fa)]['handleSubscriptionRestartNeedMediaStream'](_0x43b845[_0x54e8a3(0x1ad)],_0x43b845[_0x54e8a3(0x41b)]);break;case _0x1152b3['CanProvideMediaStream']:case _0x1152b3[_0x54e8a3(0x2ed)]:this[_0x54e8a3(0x3fa)][_0x54e8a3(0x6c7)](_0x43b845['sourceId'],_0x43b845[_0x54e8a3(0x41b)]);break;case _0x1152b3[_0x54e8a3(0x3ac)]:this['incomingManager'][_0x54e8a3(0x48b)](_0x43b845[_0x54e8a3(0x1ad)],_0x43b845[_0x54e8a3(0x41b)]);}}[_0x32ddeb(0x689)](_0x2db4e2){const _0x4ed4a6=_0x32ddeb;switch(_0x2db4e2[_0x4ed4a6(0x41b)][_0x4ed4a6(0x6a0)]){case _0x36fe9a[_0x4ed4a6(0x469)]:this['incomingManager'][_0x4ed4a6(0x466)](_0x2db4e2[_0x4ed4a6(0x41b)]),this[_0x4ed4a6(0x32d)][_0x4ed4a6(0x466)](_0x2db4e2[_0x4ed4a6(0x41b)]);break;case _0x36fe9a[_0x4ed4a6(0x4f2)]:this[_0x4ed4a6(0x3fa)]['handleContentSubscribeMediaStream'](_0x2db4e2[_0x4ed4a6(0x41b)]);break;case _0x36fe9a[_0x4ed4a6(0x7b4)]:this[_0x4ed4a6(0x3fa)][_0x4ed4a6(0x247)](_0x2db4e2['content']);break;case _0x36fe9a['UnsubscribeMediaStream']:this[_0x4ed4a6(0x4fb)](_0x2db4e2[_0x4ed4a6(0x1ad)],_0x2db4e2[_0x4ed4a6(0x41b)]);break;case _0x36fe9a[_0x4ed4a6(0x630)]:this[_0x4ed4a6(0x32d)][_0x4ed4a6(0x1e4)](_0x2db4e2[_0x4ed4a6(0x41b)]);break;case _0x36fe9a[_0x4ed4a6(0x69e)]:this[_0x4ed4a6(0x6e0)](_0x2db4e2[_0x4ed4a6(0x41b)]);break;case _0x36fe9a['CloseObjectStoreBucket']:this[_0x4ed4a6(0x804)](_0x2db4e2[_0x4ed4a6(0x41b)]);break;case _0x36fe9a[_0x4ed4a6(0x4ff)]:this[_0x4ed4a6(0x511)](_0x2db4e2[_0x4ed4a6(0x41b)]);break;case _0x36fe9a[_0x4ed4a6(0x59e)]:case _0x36fe9a[_0x4ed4a6(0x606)]:this[_0x4ed4a6(0x45c)](_0x2db4e2['content']);break;case _0x36fe9a[_0x4ed4a6(0x7e0)]:this[_0x4ed4a6(0x3fa)][_0x4ed4a6(0x78d)](_0x2db4e2[_0x4ed4a6(0x41b)]);}}['handleNodeSystemEvents']({content:_0x80958d}){const _0x269683=_0x32ddeb;_0x80958d[_0x269683(0x6a0)]===_0x3f3eb0['NodeLeave']&&this[_0x269683(0x727)](_0x80958d);}[_0x32ddeb(0x80e)](_0x230b8c){const _0x6c3579=_0x32ddeb;_0x230b8c[_0x6c3579(0x41b)][_0x6c3579(0x6a0)]===_0x11c283[_0x6c3579(0x251)]&&this['incomingManager']['handleOptimizationConnectionSuccess'](_0x230b8c[_0x6c3579(0x1ad)]);}[_0x32ddeb(0x4fb)](_0xcfa19f,_0x46d3b1){const _0xb9603=_0x32ddeb;this[_0xb9603(0x3fa)][_0xb9603(0x4fb)](_0x46d3b1),this[_0xb9603(0x32d)][_0xb9603(0x4fb)](_0xcfa19f,_0x46d3b1)['forEach'](_0x4413ca=>this[_0xb9603(0x32e)][_0xb9603(0x7db)](_0x4413ca));}[_0x32ddeb(0x4e9)](_0x14907f,_0x265855){const _0x2ec1a9=_0x32ddeb,_0x48a2bb=this[_0x2ec1a9(0x32d)][_0x2ec1a9(0x4e9)](_0x14907f,_0x265855);if(_0x48a2bb&&(this['systemTopic']['publish']({'sourceId':this['configs'][_0x2ec1a9(0x7a2)][_0x2ec1a9(0x544)](),'destinationIds':[_0x14907f],'messageType':_0x16f8c2[_0x2ec1a9(0x319)],'content':_0x48a2bb}),_0x48a2bb[_0x2ec1a9(0x6a0)]===_0x1152b3[_0x2ec1a9(0x2df)]))throw new _0x3041bf(_0x2ec1a9(0x60e));}[_0x32ddeb(0x556)](_0x2b23b4,_0x69bdfa){const _0x45d4c3=_0x32ddeb,_0x268765=this[_0x45d4c3(0x32d)][_0x45d4c3(0x556)](_0x2b23b4,_0x69bdfa);this[_0x45d4c3(0x32e)]['publish']({'sourceId':this['configs'][_0x45d4c3(0x7a2)][_0x45d4c3(0x544)](),'destinationIds':[_0x2b23b4],'messageType':_0x16f8c2[_0x45d4c3(0x319)],'content':_0x268765});}[_0x32ddeb(0x804)]({label:_0x252047}){const _0x2ef60d=_0x32ddeb;this[_0x2ef60d(0x41a)](_0x252047,_0x16caec[_0x2ef60d(0x76d)][_0x2ef60d(0x320)]),this[_0x2ef60d(0x5d8)](_0x252047,_0x16caec['ContentType'][_0x2ef60d(0x320)]);}[_0x32ddeb(0x511)]({label:_0x5edb9e}){const _0xdec9c3=_0x32ddeb;this[_0xdec9c3(0x41a)](_0x5edb9e,_0x16caec['ContentType'][_0xdec9c3(0x5ed)]),this[_0xdec9c3(0x5d8)](_0x5edb9e,_0x16caec[_0xdec9c3(0x76d)][_0xdec9c3(0x5ed)]);}[_0x32ddeb(0x6e0)]({label:_0x2340c5}){const _0xc3f91=_0x32ddeb;this[_0xc3f91(0x41a)](_0x2340c5,_0x16caec[_0xc3f91(0x76d)][_0xc3f91(0x1b6)]),this[_0xc3f91(0x5d8)](_0x2340c5,_0x16caec[_0xc3f91(0x76d)][_0xc3f91(0x1b6)]);}['handleContentCloseJob']({label:_0x7c0e9}){const _0x10b34a=_0x32ddeb;this['removeIncomingSubscription'](_0x7c0e9,_0x16caec['ContentType']['Job']),this[_0x10b34a(0x5d8)](_0x7c0e9,_0x16caec[_0x10b34a(0x76d)][_0x10b34a(0x79d)]);}[_0x32ddeb(0x727)]({id:_0x14f73f}){const _0x4ddde6=_0x32ddeb;this[_0x4ddde6(0x3fa)][_0x4ddde6(0x727)](_0x14f73f),this[_0x4ddde6(0x32d)][_0x4ddde6(0x727)](_0x14f73f);}}class _0x4b54f4{['label'];['listener']=_0x1f49a7();constructor(){const _0x86fe7f=_0x32ddeb;this[_0x86fe7f(0x235)]=0x0;}[_0x32ddeb(0x7fa)](){return this['label'];}['getContentType'](){return _0x16caec['ContentType']['Data'];}['registerSource'](_0x13465c){_0x13465c['registerSystemPublisher'](this);}['unregisterSource'](_0x285fbd){_0x285fbd['unregisterSystemPublisher']();}[_0x32ddeb(0x7db)](_0x553c62){const _0x5c126e=_0x32ddeb;_0x1709c0[_0x5c126e(0x419)](_0x459921['Events'],_0x5c126e(0x71a),_0x553c62[_0x5c126e(0x1ad)],_0x553c62),this[_0x5c126e(0x639)][_0x5c126e(0x7db)]({'topicLabel':this[_0x5c126e(0x235)],'contentType':_0x16caec[_0x5c126e(0x76d)][_0x5c126e(0x5f6)],'uuid':_0x553c62[_0x5c126e(0x1d3)]??(0x0,_0x3b9a63['v4'])(),'recipients':_0x553c62[_0x5c126e(0x45d)]??[],..._0x553c62});}[_0x32ddeb(0x558)](_0x48220e){const _0x392469=_0x32ddeb;return this[_0x392469(0x639)][_0x392469(0x558)](_0x48220e);}}class _0x56be2f{[_0x32ddeb(0x71b)];[_0x32ddeb(0x35d)];[_0x32ddeb(0x24e)];[_0x32ddeb(0x380)]=[];[_0x32ddeb(0x6dc)];['remoteNodes']=new Map();constructor(_0x3bdf81,_0xc56966,_0x1ed1c8){const _0x3f3e7e=_0x32ddeb;this['minConnections']=_0x3bdf81,this['maxConnections']=_0xc56966,this[_0x3f3e7e(0x24e)]=_0x1ed1c8,this['maxLayer']=(this[_0x3f3e7e(0x35d)]-0x2*this[_0x3f3e7e(0x71b)])/0x2,this[_0x3f3e7e(0x380)][_0x3f3e7e(0x6f1)]({'start':0x1,'end':this[_0x3f3e7e(0x3bd)](0x1,0x1)-0x1});for(let _0xc3bd56=0x0;_0xc3bd56<this['maxLayer'];++_0xc3bd56)this['ranges'][_0x3f3e7e(0x6f1)]({'start':this['getNextTargetRank'](0x1,_0xc3bd56+0x1),'end':this['getNextTargetRank'](0x1,_0xc3bd56+0x2)-0x1});}[_0x32ddeb(0x3bd)](_0x2207b0,_0x3293db=0x1){const _0x3cd4cc=_0x32ddeb;let _0x161b42=this['maxDistance']-this[_0x3cd4cc(0x71b)],_0x34337f=0x1;for(let _0x579f48=0x1;_0x579f48<_0x3293db;++_0x579f48)_0x161b42*=this[_0x3cd4cc(0x24e)]-this['minConnections']-_0x579f48,_0x34337f*=this[_0x3cd4cc(0x24e)]-this['minConnections']-_0x579f48+0x1;return _0x161b42*this[_0x3cd4cc(0x71b)]+_0x2207b0-_0x34337f;}[_0x32ddeb(0x45b)](_0x5cc66d){const _0x3f77e1=_0x32ddeb;let _0x121937=0x0;for(;this[_0x3f77e1(0x380)][_0x121937][_0x3f77e1(0x1c7)]<_0x5cc66d;)_0x121937+=0x1;return _0x121937;}['getMinConnections'](){const _0xed09b1=_0x32ddeb;return this[_0xed09b1(0x71b)];}['getMaxConnections'](){return this['maxConnections'];}[_0x32ddeb(0x783)](){const _0x2f6868=_0x32ddeb;return this[_0x2f6868(0x24e)];}[_0x32ddeb(0x73f)](){const _0x41cff9=_0x32ddeb;return this[_0x41cff9(0x59c)];}[_0x32ddeb(0x581)](_0x2ba4a5,_0x5b8cdb){const _0x5604e5=_0x32ddeb;this['remoteNodes'][_0x5604e5(0x36d)](_0x2ba4a5,_0x5b8cdb);}['hasRemoteNode'](_0x5f5cc7){const _0x111e46=_0x32ddeb;return this[_0x111e46(0x59c)][_0x111e46(0x5ae)](_0x5f5cc7);}[_0x32ddeb(0x5ad)](_0x2b9dfd){const _0x22ffcd=_0x32ddeb;return this['remoteNodes'][_0x22ffcd(0x798)](_0x2b9dfd);}['deleteRemoteNode'](_0xeb0f4e){this['remoteNodes']['delete'](_0xeb0f4e);}['getClosestNodes'](_0x31e8dc,_0x535de3){const _0x365968=_0x32ddeb,_0x10b0de=this[_0x365968(0x5ad)](_0x535de3)?.['getRank']()??0x0;return _0x31e8dc['map'](_0x30f3c6=>this[_0x365968(0x5ad)](_0x30f3c6))['filter'](_0x5bf11a=>void 0x0!==_0x5bf11a)[_0x365968(0x78b)]((_0x38ad03,_0x415691)=>Math[_0x365968(0x7ba)](_0x10b0de-(_0x38ad03&&_0x38ad03['getRank']()||0x1/0x0))-Math[_0x365968(0x7ba)](_0x10b0de-(_0x415691&&_0x415691[_0x365968(0x2f9)]()||0x1/0x0)))[_0x365968(0x1a1)](_0x55ec35=>_0x55ec35[_0x365968(0x544)]());}}class _0x4e9a8c{[_0x32ddeb(0x3ce)];['clusterId'];['authNode'];['authService'];[_0x32ddeb(0x288)];['configs'];[_0x32ddeb(0x555)];['contentManager'];['connectionManager'];[_0x32ddeb(0x1bf)];['statsManager'];[_0x32ddeb(0x2a0)];['remediationManager'];[_0x32ddeb(0x313)];['graphService'];['systemTopic']=new _0x4b54f4();[_0x32ddeb(0x66b)];[_0x32ddeb(0x7a2)];constructor(_0x37b097,_0x59a169,_0x557e9b,_0x16f1ed,_0x220ae5,_0x1ecee0,_0x458322){const _0xaf17ff=_0x32ddeb;switch(this['vendorId']=_0x37b097,this[_0xaf17ff(0x713)]=_0x59a169,this[_0xaf17ff(0x345)]=_0x557e9b,this[_0xaf17ff(0x649)]=_0x16f1ed,this[_0xaf17ff(0x288)]=_0x220ae5,this[_0xaf17ff(0x486)]=_0x1ecee0,this[_0xaf17ff(0x555)]=_0x458322,_0x557e9b[_0xaf17ff(0x6a0)]){case _0x16caec['NodeType'][_0xaf17ff(0x579)]:this[_0xaf17ff(0x7a2)]=new _0xfd225d(_0x557e9b[_0xaf17ff(0x544)](),_0x557e9b[_0xaf17ff(0x63a)](),_0x557e9b[_0xaf17ff(0x3e6)]());break;case _0x16caec[_0xaf17ff(0x244)][_0xaf17ff(0x559)]:default:this[_0xaf17ff(0x7a2)]=new _0x5292f5(_0x557e9b[_0xaf17ff(0x544)]());}const _0x1294a9=this[_0xaf17ff(0x47b)]();this[_0xaf17ff(0x722)]=new _0x56be2f(this['options']['minConnections'],this['options']['maxConnections'],this[_0xaf17ff(0x288)][_0xaf17ff(0x24e)]),this[_0xaf17ff(0x77d)]=new _0x3552a6(_0x1294a9,this[_0xaf17ff(0x288)][_0xaf17ff(0x73e)],this['options'][_0xaf17ff(0x642)]),this['connectionManager']=new _0xcd26e8(_0x1294a9,this[_0xaf17ff(0x649)],this[_0xaf17ff(0x486)][_0xaf17ff(0x487)],this['options'][_0xaf17ff(0x73e)],this['options'][_0xaf17ff(0x387)],this[_0xaf17ff(0x722)],this['options'][_0xaf17ff(0x31e)]),this['subscriptionManager']=new _0xf24c5(_0x1294a9,this['options'][_0xaf17ff(0x788)],this[_0xaf17ff(0x722)][_0xaf17ff(0x783)]()),this[_0xaf17ff(0x7fc)]=new _0x26bdbd(_0x1294a9),this[_0xaf17ff(0x2a0)]=new _0x50d77a(_0x1294a9),this[_0xaf17ff(0x39a)]=new _0x1b5c63(_0x1294a9),this[_0xaf17ff(0x313)]=new _0x31402d(_0x1294a9,this[_0xaf17ff(0x722)],this[_0xaf17ff(0x7a2)]),this[_0xaf17ff(0x66b)]=this[_0xaf17ff(0x1bd)]();}['open'](){const _0x3e82cc=_0x32ddeb,_0x40b3df=this[_0x3e82cc(0x47b)]();this[_0x3e82cc(0x245)]=new _0xcd26e8(_0x40b3df,this['authService'],this[_0x3e82cc(0x486)][_0x3e82cc(0x487)],this[_0x3e82cc(0x288)][_0x3e82cc(0x73e)],this[_0x3e82cc(0x288)][_0x3e82cc(0x387)],this[_0x3e82cc(0x722)],this[_0x3e82cc(0x288)][_0x3e82cc(0x31e)]),this[_0x3e82cc(0x1bf)]=new _0xf24c5(_0x40b3df,this[_0x3e82cc(0x288)][_0x3e82cc(0x788)],this[_0x3e82cc(0x722)][_0x3e82cc(0x783)]()),this[_0x3e82cc(0x7fc)]=new _0x26bdbd(_0x40b3df),this[_0x3e82cc(0x2a0)]=new _0x50d77a(_0x40b3df),this[_0x3e82cc(0x39a)]=new _0x1b5c63(_0x40b3df),this[_0x3e82cc(0x313)]=new _0x31402d(_0x40b3df,this[_0x3e82cc(0x722)],this['localNode']);const _0x36a8c8=this[_0x3e82cc(0x245)][_0x3e82cc(0x6b0)]();this['contentManager']['getPubSubTopics']()['forEach'](_0x14e1a3=>{const _0x5dd2b0=_0x3e82cc;this['subscriptionManager'][_0x5dd2b0(0x1a4)](_0x14e1a3,_0x36a8c8),this['subscriptionManager'][_0x5dd2b0(0x624)](_0x36a8c8,_0x14e1a3),_0x14e1a3[_0x5dd2b0(0x2e9)]();}),this[_0x3e82cc(0x77d)]['getObjectStoreBuckets']()[_0x3e82cc(0x801)](_0x3e33d9=>{const _0x43c435=_0x3e82cc;this[_0x43c435(0x1bf)][_0x43c435(0x1a4)](_0x3e33d9,_0x36a8c8),this[_0x43c435(0x1bf)]['createIncomingSubscription'](_0x36a8c8,_0x3e33d9),_0x3e33d9[_0x43c435(0x2e9)](),_0x3e33d9['sync']();}),this[_0x3e82cc(0x77d)]['getKeyValueDatabases']()[_0x3e82cc(0x801)](_0x1e8200=>{const _0x49a1c4=_0x3e82cc;this[_0x49a1c4(0x1bf)][_0x49a1c4(0x1a4)](_0x1e8200,_0x36a8c8),this[_0x49a1c4(0x1bf)][_0x49a1c4(0x624)](_0x36a8c8,_0x1e8200),_0x1e8200['reset'](),this[_0x49a1c4(0x702)](_0x1e8200);}),this[_0x3e82cc(0x77d)]['getJobDispatchers']()[_0x3e82cc(0x801)](_0x2eb910=>{const _0x1693fb=_0x3e82cc;this[_0x1693fb(0x1bf)][_0x1693fb(0x1a4)](_0x2eb910,_0x36a8c8),this['subscriptionManager'][_0x1693fb(0x624)](_0x36a8c8,_0x2eb910),_0x2eb910[_0x1693fb(0x2e9)]();}),this[_0x3e82cc(0x77d)][_0x3e82cc(0x4d8)]()['forEach'](_0x1f0b7f=>{const _0x3cc2c4=_0x3e82cc;this['subscriptionManager']['createOutgoingSubscription'](_0x1f0b7f,_0x36a8c8),this[_0x3cc2c4(0x1bf)]['createIncomingSubscription'](_0x36a8c8,_0x1f0b7f),_0x1f0b7f[_0x3cc2c4(0x2e9)]();}),this[_0x3e82cc(0x66b)]=this[_0x3e82cc(0x1bd)]();}['registerSystemSource'](_0x142e87){const _0x49674b=_0x32ddeb;try{this[_0x49674b(0x32e)][_0x49674b(0x3be)](_0x142e87);}catch(_0x5d936d){this[_0x49674b(0x6fe)](_0x5d936d,{});}}[_0x32ddeb(0x53d)](_0xb99aad){const _0x4066d4=_0x32ddeb;try{this[_0x4066d4(0x32e)][_0x4066d4(0x457)](_0xb99aad);}catch(_0x325ed7){this[_0x4066d4(0x6fe)](_0x325ed7,{});}}[_0x32ddeb(0x4b6)](_0x1f4f23,_0x24a440){const _0x2a128a=_0x32ddeb;return this['connectionManager'][_0x2a128a(0x4b6)](_0x1f4f23,_0x24a440);}['getConnection'](_0x26e076){const _0x49286e=_0x32ddeb;try{return this[_0x49286e(0x245)][_0x49286e(0x5a9)](_0x26e076);}catch(_0x25e590){throw this[_0x49286e(0x6fe)](_0x25e590,{});}}[_0x32ddeb(0x6e8)](_0x5d5be7){const _0x284dbb=_0x32ddeb;try{return this['connectionManager'][_0x284dbb(0x6e8)](_0x5d5be7);}catch(_0x5a255b){throw this[_0x284dbb(0x6fe)](_0x5a255b,{});}}[_0x32ddeb(0x69c)](_0x3c438f,_0x4f61e3){const _0x3d89e5=_0x32ddeb;try{return this[_0x3d89e5(0x77d)][_0x3d89e5(0x54d)](_0x185796=>_0x185796[_0x3d89e5(0x2d6)]()===_0x3c438f&&_0x185796[_0x3d89e5(0x7fa)]()===_0x4f61e3)[0x0];}catch(_0x51ee1e){throw this[_0x3d89e5(0x6fe)](_0x51ee1e,{});}}['getLocalMediaStream'](_0x571f25){const _0x4a2678=_0x32ddeb;try{return this[_0x4a2678(0x77d)][_0x4a2678(0x701)](_0x5ca610=>_0x5ca610[_0x4a2678(0x7fa)]()===_0x571f25)[0x0];}catch(_0x59ccc8){throw this[_0x4a2678(0x6fe)](_0x59ccc8,{});}}[_0x32ddeb(0x25c)]=(..._0x366693)=>{const _0x40a8fc=_0x32ddeb;try{return this[_0x40a8fc(0x555)][_0x40a8fc(0x56a)](..._0x366693);}catch(_0x49ee17){throw this[_0x40a8fc(0x6fe)](_0x49ee17,{});}};[_0x32ddeb(0x43b)](_0x3a7f04){const _0x592fc2=_0x32ddeb;try{this['statsManager'][_0x592fc2(0x80a)](_0x3a7f04);}catch(_0x49cb8f){throw this[_0x592fc2(0x6fe)](_0x49cb8f,{});}}[_0x32ddeb(0x67f)](_0x58f3f8){const _0x2a063a=_0x32ddeb;try{this['statsManager']['removeRemoteNode'](_0x58f3f8);}catch(_0x3b65a1){throw this[_0x2a063a(0x6fe)](_0x3b65a1,{});}}[_0x32ddeb(0x65b)](_0x1f0829){const _0x1276f1=_0x32ddeb;return this[_0x1276f1(0x245)]['collectStats'](_0x1f0829);}async[_0x32ddeb(0x58e)](){const _0x5569c2=_0x32ddeb;try{await this['connectionManager'][_0x5569c2(0x58e)]();const _0x14bef0=await this['nodeManager'][_0x5569c2(0x7dc)]();for(const _0x3e70b2 of _0x14bef0)this[_0x5569c2(0x245)][_0x5569c2(0x4b6)](_0x3e70b2);}catch(_0x2e1561){throw this[_0x5569c2(0x6fe)](_0x2e1561,{});}}['updateUser'](_0x514a19){const _0x1802f5=_0x32ddeb;this[_0x1802f5(0x7a2)][_0x1802f5(0x6a0)]===_0x16caec['NodeType']['User']&&(this[_0x1802f5(0x7a2)][_0x1802f5(0x36e)](_0x514a19['getEmail']()),this['localNode']['setDisplayName'](_0x514a19['getDisplayName']()));}[_0x32ddeb(0x36f)](_0x486082=!0x1){const _0x5cdf26=_0x32ddeb;_0x1709c0[_0x5cdf26(0x448)]('orchestrator-close',{'clusterId':this[_0x5cdf26(0x713)],'nodeId':this['localNode'][_0x5cdf26(0x544)](),'nodeType':this['localNode'][_0x5cdf26(0x6a0)]}),this[_0x5cdf26(0x66b)](),this['remediationManager'][_0x5cdf26(0x36f)](),this[_0x5cdf26(0x2a0)][_0x5cdf26(0x36f)](),this[_0x5cdf26(0x7fc)]['close'](),this[_0x5cdf26(0x1bf)][_0x5cdf26(0x36f)](),this[_0x5cdf26(0x245)][_0x5cdf26(0x36f)](),this['contentManager'][_0x5cdf26(0x36f)](_0x486082),this[_0x5cdf26(0x313)][_0x5cdf26(0x36f)]();}['openPubSubTopic'](_0x39aabc){const _0x3c2cec=_0x32ddeb;try{const _0x29e169=this[_0x3c2cec(0x77d)][_0x3c2cec(0x203)](_0x39aabc),_0x1d42c5=this[_0x3c2cec(0x245)]['getConnectionGroup']();return this['subscriptionManager'][_0x3c2cec(0x1a4)](_0x29e169,_0x1d42c5),this['subscriptionManager'][_0x3c2cec(0x624)](_0x1d42c5,_0x29e169),_0x29e169;}catch(_0xdc7f1){throw this[_0x3c2cec(0x6fe)](_0xdc7f1,{});}}async[_0x32ddeb(0x29b)](_0x5a4114,_0x327193){const _0x108fa3=_0x32ddeb;try{const _0x4b1db2=this[_0x108fa3(0x77d)][_0x108fa3(0x258)](_0x5a4114,this[_0x108fa3(0x288)][_0x108fa3(0x6d7)]),_0x4ebaeb=this[_0x108fa3(0x245)][_0x108fa3(0x6b0)]();return this[_0x108fa3(0x1bf)]['createOutgoingSubscription'](_0x4b1db2,_0x4ebaeb),this[_0x108fa3(0x1bf)][_0x108fa3(0x624)](_0x4ebaeb,_0x4b1db2),await _0x4b1db2[_0x108fa3(0x407)](_0x327193?.[_0x108fa3(0x6ef)]??!0x0),_0x4b1db2;}catch(_0x46f150){throw this[_0x108fa3(0x6fe)](_0x46f150,{});}}async[_0x32ddeb(0x3fd)](_0x1c619b,_0x3d3989){const _0x359a19=_0x32ddeb;try{const _0x4c733b=await this[_0x359a19(0x77d)][_0x359a19(0x5cf)](_0x1c619b,_0x3d3989,this['options'][_0x359a19(0x7a9)]),_0x2b0bff=this['connectionManager'][_0x359a19(0x6b0)]();return this[_0x359a19(0x1bf)][_0x359a19(0x1a4)](_0x4c733b,_0x2b0bff),this[_0x359a19(0x1bf)][_0x359a19(0x624)](_0x2b0bff,_0x4c733b),await _0x4c733b['open'](),this[_0x359a19(0x702)](_0x4c733b),_0x4c733b;}catch(_0x4723bb){throw this[_0x359a19(0x6fe)](_0x4723bb,{});}}async[_0x32ddeb(0x269)](_0x459bce){const _0x36cdfc=_0x32ddeb;try{const _0x465666=await this[_0x36cdfc(0x77d)][_0x36cdfc(0x64b)](_0x459bce,this['graphService']),_0x4bd61b=this[_0x36cdfc(0x245)][_0x36cdfc(0x6b0)]();return this[_0x36cdfc(0x1bf)][_0x36cdfc(0x1a4)](_0x465666,_0x4bd61b),this[_0x36cdfc(0x1bf)][_0x36cdfc(0x624)](_0x4bd61b,_0x465666),_0x465666[_0x36cdfc(0x800)](),_0x465666;}catch(_0x318987){throw this[_0x36cdfc(0x6fe)](_0x318987,{});}}async[_0x32ddeb(0x4b4)](_0x43120f){throw new Error('Method\x20not\x20supported');}async[_0x32ddeb(0x5c8)](_0x4e1a3b){const _0x1d853a=_0x32ddeb;try{const _0xb91dfe=await this[_0x1d853a(0x77d)][_0x1d853a(0x2b8)](_0x4e1a3b,this[_0x1d853a(0x722)]),_0x1e5560=this['connectionManager']['getConnectionGroup']();return this[_0x1d853a(0x1bf)][_0x1d853a(0x1a4)](_0xb91dfe,_0x1e5560),this['subscriptionManager']['createIncomingSubscription'](_0x1e5560,_0xb91dfe),await _0xb91dfe[_0x1d853a(0x800)](),_0xb91dfe;}catch(_0x7aefae){throw console[_0x1d853a(0x4fe)](_0x7aefae),this[_0x1d853a(0x6fe)](_0x7aefae,{});}}async[_0x32ddeb(0x6f6)](_0x51f285){const _0x364c85=_0x32ddeb;try{if(!this[_0x364c85(0x288)][_0x364c85(0x5bc)]||!this['options'][_0x364c85(0x4b1)])throw new _0x56574a(_0x2379f6['GenerativeAIWorkerMissingConnectors'],_0x364c85(0x5dd));if(!(this[_0x364c85(0x345)]instanceof _0x5d3d22))throw new _0x56574a(_0x2379f6['NodeInvalidType'],'Node\x20is\x20not\x20an\x20agent');const _0x22c37f=await this[_0x364c85(0x29b)](_0x364c85(0x463)+_0x51f285),_0x475ad0=new this[(_0x364c85(0x288))][(_0x364c85(0x5bc))](this['options'][_0x364c85(0x4b1)]),_0x4abb37=await this['contentManager'][_0x364c85(0x459)](_0x51f285,this[_0x364c85(0x345)],_0x475ad0,_0x22c37f),_0x45e7b7=this[_0x364c85(0x245)][_0x364c85(0x6b0)]();return this[_0x364c85(0x1bf)][_0x364c85(0x1a4)](_0x4abb37,_0x45e7b7),this[_0x364c85(0x1bf)][_0x364c85(0x624)](_0x45e7b7,_0x4abb37),_0x4abb37[_0x364c85(0x800)](),_0x4abb37;}catch(_0x16f5c5){throw this[_0x364c85(0x6fe)](_0x16f5c5,{});}}[_0x32ddeb(0x3f6)](_0x2f08dc){const _0x5951e3=_0x32ddeb;try{return this[_0x5951e3(0x77d)][_0x5951e3(0x3f6)](_0x2f08dc);}catch(_0x3a3189){throw this['handleError'](_0x3a3189,{});}}[_0x32ddeb(0x6cf)](_0x57d355){const _0x814e4d=_0x32ddeb;try{return this['contentManager'][_0x814e4d(0x6cf)](_0x57d355);}catch(_0x5874ed){throw this['handleError'](_0x5874ed,{});}}['getKeyValueDatabases'](_0x4fb880){const _0x20ef7c=_0x32ddeb;try{return this[_0x20ef7c(0x77d)][_0x20ef7c(0x714)](_0x4fb880);}catch(_0x301659){throw this[_0x20ef7c(0x6fe)](_0x301659,{});}}[_0x32ddeb(0x26a)](_0x43813f){const _0x56cf7c=_0x32ddeb;try{return this[_0x56cf7c(0x77d)][_0x56cf7c(0x26a)](_0x43813f);}catch(_0x492dc9){throw this[_0x56cf7c(0x6fe)](_0x492dc9,{});}}[_0x32ddeb(0x299)](_0xe99682){const _0x71c67=_0x32ddeb;try{return this[_0x71c67(0x77d)][_0x71c67(0x299)](_0xe99682);}catch(_0x16c30b){throw this[_0x71c67(0x6fe)](_0x16c30b,{});}}[_0x32ddeb(0x74b)](_0x1ae889,_0x34ac2b){const _0x24359f=_0x32ddeb;if(!this[_0x24359f(0x486)][_0x24359f(0x711)]['includes'](_0x4c6381[_0x24359f(0x1a6)]))throw new _0x56574a(_0x2379f6['FeatureNotEnabled'],_0x24359f(0x4e5));try{return this['contentManager'][_0x24359f(0x74b)](_0x1ae889,_0x34ac2b);}catch(_0x367dc5){throw this[_0x24359f(0x6fe)](_0x367dc5,{});}}[_0x32ddeb(0x2f1)](_0xb50b2a,_0x2b1672){const _0x2dea4d=_0x32ddeb;if(!this[_0x2dea4d(0x486)][_0x2dea4d(0x711)][_0x2dea4d(0x31c)](_0x4c6381[_0x2dea4d(0x1a6)]))throw new _0x56574a(_0x2379f6[_0x2dea4d(0x42a)],_0x2dea4d(0x4e5));try{return this[_0x2dea4d(0x77d)]['createLocalDynamicMediaStream'](_0xb50b2a,_0x2b1672);}catch(_0x47eb8c){throw this['handleError'](_0x47eb8c,{});}}[_0x32ddeb(0x701)](_0x5c03d3){const _0x36e2e7=_0x32ddeb;if(!this[_0x36e2e7(0x486)]['features'][_0x36e2e7(0x31c)](_0x4c6381[_0x36e2e7(0x1a6)]))throw new _0x56574a(_0x2379f6[_0x36e2e7(0x42a)],_0x36e2e7(0x4e5));try{return this[_0x36e2e7(0x77d)][_0x36e2e7(0x701)](_0x5c03d3);}catch(_0x439932){throw this[_0x36e2e7(0x6fe)](_0x439932,{});}}['getRemoteMediaStreams'](_0x35786c){const _0x22f6f3=_0x32ddeb;if(!this[_0x22f6f3(0x486)][_0x22f6f3(0x711)][_0x22f6f3(0x31c)](_0x4c6381['MediaStream']))throw new _0x56574a(_0x2379f6['FeatureNotEnabled'],_0x22f6f3(0x4e5));try{return this[_0x22f6f3(0x77d)][_0x22f6f3(0x54d)](_0x35786c);}catch(_0x5cbb1a){throw this[_0x22f6f3(0x6fe)](_0x5cbb1a,{});}}[_0x32ddeb(0x2e6)](_0x34ad0c,_0x2e268f){const _0xfd7bcb=_0x32ddeb;return this['nodeManager'][_0xfd7bcb(0x2e6)](_0x34ad0c,_0x2e268f);}['getLocalNode'](){const _0x9542ec=_0x32ddeb;return this[_0x9542ec(0x313)][_0x9542ec(0x1d9)]();}['getRemoteNodes'](_0x173231){const _0x725d7=_0x32ddeb;try{return this[_0x725d7(0x313)][_0x725d7(0x73f)](_0x173231);}catch(_0x1fb9c6){throw this[_0x725d7(0x6fe)](_0x1fb9c6,{});}}async[_0x32ddeb(0x525)](_0x48d6b3){const _0x255385=_0x32ddeb;try{if(_0x1709c0[_0x255385(0x419)](_0x459921['Events'],_0x255385(0x7a5),this[_0x255385(0x313)]['getLocalId'](),_0x48d6b3),_0x104628(_0x48d6b3,this[_0x255385(0x313)][_0x255385(0x648)]()))return void this['connectionManager'][_0x255385(0x619)](_0x48d6b3);switch(_0x48d6b3[_0x255385(0x349)]){case _0x16f8c2[_0x255385(0x370)]:this[_0x255385(0x7fc)][_0x255385(0x689)](_0x48d6b3),this['subscriptionManager'][_0x255385(0x689)](_0x48d6b3),this[_0x255385(0x77d)][_0x255385(0x689)](_0x48d6b3);break;case _0x16f8c2[_0x255385(0x7d7)]:this['subscriptionManager'][_0x255385(0x5e0)](_0x48d6b3),this['connectionManager']['handleNodeSystemEvents'](_0x48d6b3),this[_0x255385(0x77d)][_0x255385(0x5e0)](_0x48d6b3),this['nodeManager'][_0x255385(0x5e0)](_0x48d6b3);break;case _0x16f8c2['Detection']:this[_0x255385(0x39a)]['handleDetectionSystemEvents'](_0x48d6b3);break;case _0x16f8c2[_0x255385(0x25a)]:this[_0x255385(0x39a)][_0x255385(0x695)](_0x48d6b3);break;case _0x16f8c2['Stats']:this[_0x255385(0x2a0)][_0x255385(0x1f7)](_0x48d6b3);break;case _0x16f8c2['Subscription']:_0x48d6b3[_0x255385(0x41b)]['type']!==_0x1152b3[_0x255385(0x2b2)]?(this['subscriptionManager'][_0x255385(0x612)](_0x48d6b3),this[_0x255385(0x77d)][_0x255385(0x612)](_0x48d6b3)):(this[_0x255385(0x77d)]['handleSubscriptionSystemEvents'](_0x48d6b3),this[_0x255385(0x1bf)][_0x255385(0x612)](_0x48d6b3));break;case _0x16f8c2[_0x255385(0x58b)]:await this[_0x255385(0x245)][_0x255385(0x80e)](_0x48d6b3),this['statsManager'][_0x255385(0x80e)](_0x48d6b3),this['nodeManager'][_0x255385(0x80e)](_0x48d6b3),this[_0x255385(0x1bf)][_0x255385(0x80e)](_0x48d6b3);}}catch(_0xd6ee4e){throw this[_0x255385(0x6fe)](_0xd6ee4e,{});}}[_0x32ddeb(0x6fe)](_0x5d294f,_0x4729c0){const _0x3aaef0=_0x32ddeb;if(!(_0x5d294f instanceof _0x3041bf)){if(_0x5d294f instanceof _0x56574a)throw _0x5d294f;if(!(_0x5d294f instanceof Error))throw new _0x56574a(_0x2379f6['InternalSDKError'],_0x3aaef0(0x3de)+_0x5d294f);if(!(_0x5d294f instanceof _0x4daf03))throw new _0x56574a(_0x2379f6[_0x3aaef0(0x4a4)],_0x3aaef0(0x6a1)+_0x5d294f[_0x3aaef0(0x26e)]);switch(_0x5d294f[_0x3aaef0(0x684)]){case _0x4daf03[_0x3aaef0(0x719)][_0x3aaef0(0x536)]:case _0x4daf03[_0x3aaef0(0x719)][_0x3aaef0(0x291)]:case _0x4daf03['codes'][_0x3aaef0(0x357)]:case _0x4daf03['codes'][_0x3aaef0(0x506)]:case _0x4daf03['codes'][_0x3aaef0(0x594)]:case _0x4daf03['codes'][_0x3aaef0(0x277)]:case _0x4daf03[_0x3aaef0(0x719)][_0x3aaef0(0x5eb)]:case _0x4daf03[_0x3aaef0(0x719)][_0x3aaef0(0x48d)]:case _0x4daf03[_0x3aaef0(0x719)]['SubscriptionRequestDoesNotExist']:case _0x4daf03[_0x3aaef0(0x719)][_0x3aaef0(0x6cb)]:case _0x4daf03[_0x3aaef0(0x719)][_0x3aaef0(0x5af)]:case _0x4daf03['codes'][_0x3aaef0(0x5d6)]:}throw _0x1709c0[_0x3aaef0(0x4fe)](_0x3aaef0(0x423)+_0x5d294f[_0x3aaef0(0x26e)],{'clusterId':this[_0x3aaef0(0x713)],'nodeId':this['localNode'][_0x3aaef0(0x544)](),'nodeType':this['localNode'][_0x3aaef0(0x6a0)]},_0x5d294f),new _0x56574a(_0x2379f6[_0x3aaef0(0x4a4)],_0x3aaef0(0x6e5)+_0x5d294f['message']);}}[_0x32ddeb(0x47b)](){const _0x5274eb=_0x32ddeb;return{'mediator':this,'vendorId':this['vendorId'],'clusterId':this[_0x5274eb(0x713)],'localNode':this[_0x5274eb(0x7a2)]};}[_0x32ddeb(0x1bd)](){const _0x2c3e42=_0x32ddeb;return this[_0x2c3e42(0x32e)][_0x2c3e42(0x558)](_0x1b0bab=>{const _0x57a5e9=_0x2c3e42,_0x40b537=_0x540f48(_0x1b0bab,this[_0x57a5e9(0x7a2)]['getId']()),_0x558c4f=_0x1b0bab[_0x57a5e9(0x349)]===_0x16f8c2['Stats']||_0x1b0bab[_0x57a5e9(0x349)]===_0x16f8c2[_0x57a5e9(0x58b)]&&_0x1b0bab['content']['type']===_0x11c283[_0x57a5e9(0x404)]?_0x459921[_0x57a5e9(0x6fb)]:_0x459921[_0x57a5e9(0x18d)];_0x1709c0['logRaw'](_0x558c4f,_0x1b0bab['uuid']+'\x20-\x20'+_0x40b537,_0x1b0bab),this[_0x57a5e9(0x525)](_0x1b0bab)[_0x57a5e9(0x76c)](_0x4c3c1d=>{const _0x506c09=_0x57a5e9;console[_0x506c09(0x4fe)](_0x4c3c1d);});});}async['syncKeyValueDatabase'](_0x382140,_0x4c6d58){const _0x32c935=_0x32ddeb;_0x4c6d58=this[_0x32c935(0x17f)](_0x4c6d58),await _0x382140[_0x32c935(0x407)](_0x4c6d58,()=>this[_0x32c935(0x702)](_0x382140,_0x4c6d58));}[_0x32ddeb(0x17f)](_0x3cebc3){const _0x56ff2f=_0x32ddeb,_0x3e0fd8=this['nodeManager'][_0x56ff2f(0x2a1)]();if(!_0x3cebc3)return _0x3e0fd8[0x0];const _0x2a95c0=_0x3e0fd8['findIndex'](_0x1960bd=>_0x3cebc3===_0x1960bd),_0x323bbc=_0x3e0fd8[_0x2a95c0+0x1];return _0x3e0fd8[_0x56ff2f(0x19d)]>0x0&&!_0x323bbc?_0x3cebc3[0x0]:_0x323bbc;}}class _0xb61ed3{['vendorId'];[_0x32ddeb(0x713)];['authNode'];[_0x32ddeb(0x254)];['orchestrator'];constructor(_0x59103c,_0x5dc8f8,_0x139bcf,_0x513627,_0x5a41db,_0x3ca821,_0x22b2f4=new _0x3c617c()){const _0x561b51=_0x32ddeb;this['vendorId']=_0x59103c,this[_0x561b51(0x713)]=_0x5dc8f8,this[_0x561b51(0x345)]=_0x139bcf,this[_0x561b51(0x254)]=_0x22b2f4,this['orchestrator']=new _0x4e9a8c(this[_0x561b51(0x3ce)],this[_0x561b51(0x713)],_0x139bcf,_0x513627,_0x5a41db,_0x3ca821,this);}async['join'](){const _0x53650d=_0x32ddeb;await this[_0x53650d(0x4cd)][_0x53650d(0x58e)](),this[_0x53650d(0x345)][_0x53650d(0x6a0)]===_0x16caec[_0x53650d(0x244)][_0x53650d(0x579)]&&this[_0x53650d(0x345)][_0x53650d(0x302)](this['clusterId'],_0x20527a=>{const _0x57f0ef=_0x53650d;this[_0x57f0ef(0x4cd)][_0x57f0ef(0x42c)](_0x20527a);});}[_0x32ddeb(0x1a0)](){const _0x14bb06=_0x32ddeb;this[_0x14bb06(0x4cd)][_0x14bb06(0x36f)](),this['authNode'][_0x14bb06(0x6a0)]===_0x16caec[_0x14bb06(0x244)][_0x14bb06(0x579)]&&this[_0x14bb06(0x345)][_0x14bb06(0x233)](this['clusterId']),this['emit']('cluster-leave',void 0x0);}['openPubSubTopic'](_0x1a92ed){const _0x2c941b=_0x32ddeb,_0x59b7f2=this[_0x2c941b(0x4cd)][_0x2c941b(0x62a)](_0x1a92ed);return{'getName':_0x59b7f2[_0x2c941b(0x6b3)][_0x2c941b(0x499)](_0x59b7f2),'getOwnerId':_0x59b7f2['getOwnerId'][_0x2c941b(0x499)](_0x59b7f2),'getContentType':_0x59b7f2[_0x2c941b(0x373)][_0x2c941b(0x499)](_0x59b7f2),'publish':_0x59b7f2['publish'][_0x2c941b(0x499)](_0x59b7f2),'subscribe':_0x59b7f2[_0x2c941b(0x558)][_0x2c941b(0x499)](_0x59b7f2),'unsubscribe':_0x59b7f2[_0x2c941b(0x300)][_0x2c941b(0x499)](_0x59b7f2),'close':_0x59b7f2[_0x2c941b(0x36f)][_0x2c941b(0x499)](_0x59b7f2)};}async[_0x32ddeb(0x29b)](_0xe0d05,_0x794be9){const _0xcd7a3a=_0x32ddeb,_0x3c934b=await this['orchestrator'][_0xcd7a3a(0x29b)](_0xe0d05,_0x794be9);return{'getName':_0x3c934b[_0xcd7a3a(0x6b3)][_0xcd7a3a(0x499)](_0x3c934b),'getOwnerId':_0x3c934b['getOwnerId'][_0xcd7a3a(0x499)](_0x3c934b),'getContentType':_0x3c934b[_0xcd7a3a(0x373)][_0xcd7a3a(0x499)](_0x3c934b),'publish':_0x3c934b[_0xcd7a3a(0x7db)][_0xcd7a3a(0x499)](_0x3c934b),'unpublish':_0x3c934b[_0xcd7a3a(0x625)][_0xcd7a3a(0x499)](_0x3c934b),'get':_0x3c934b[_0xcd7a3a(0x798)][_0xcd7a3a(0x499)](_0x3c934b),'list':_0x3c934b[_0xcd7a3a(0x79a)][_0xcd7a3a(0x499)](_0x3c934b),'subscribe':_0x3c934b[_0xcd7a3a(0x558)][_0xcd7a3a(0x499)](_0x3c934b),'unsubscribe':_0x3c934b[_0xcd7a3a(0x300)][_0xcd7a3a(0x499)](_0x3c934b),'close':_0x3c934b[_0xcd7a3a(0x36f)][_0xcd7a3a(0x499)](_0x3c934b)};}async['openKeyValueDatabase'](_0x4b7bcd,_0x5ed9e4){const _0x3517ad=_0x32ddeb,_0xa43515=await this[_0x3517ad(0x4cd)][_0x3517ad(0x3fd)](_0x4b7bcd,_0x5ed9e4);return{'getName':_0xa43515[_0x3517ad(0x6b3)][_0x3517ad(0x499)](_0xa43515),'getOwnerId':_0xa43515['getOwnerId'][_0x3517ad(0x499)](_0xa43515),'getContentType':_0xa43515[_0x3517ad(0x373)][_0x3517ad(0x499)](_0xa43515),'getTable':_0xa43515['getTable'][_0x3517ad(0x499)](_0xa43515),'subscribe':_0xa43515['subscribe']['bind'](_0xa43515),'unsubscribe':_0xa43515[_0x3517ad(0x300)][_0x3517ad(0x499)](_0xa43515),'close':_0xa43515[_0x3517ad(0x36f)][_0x3517ad(0x499)](_0xa43515)};}async[_0x32ddeb(0x269)](_0x3aea5d){const _0x190e16=_0x32ddeb,_0xc0d44a=await this[_0x190e16(0x4cd)]['openJobDispatcher'](_0x3aea5d);return{'getName':_0xc0d44a[_0x190e16(0x6b3)][_0x190e16(0x499)](_0xc0d44a),'getOwnerId':_0xc0d44a[_0x190e16(0x2d6)][_0x190e16(0x499)](_0xc0d44a),'getContentType':_0xc0d44a[_0x190e16(0x373)][_0x190e16(0x499)](_0xc0d44a),'createJob':_0xc0d44a[_0x190e16(0x1d7)][_0x190e16(0x499)](_0xc0d44a),'getJob':_0xc0d44a[_0x190e16(0x5c7)][_0x190e16(0x499)](_0xc0d44a),'getJobs':_0xc0d44a[_0x190e16(0x5c2)][_0x190e16(0x499)](_0xc0d44a),'close':_0xc0d44a[_0x190e16(0x36f)][_0x190e16(0x499)](_0xc0d44a)};}async['openJobWorker'](_0x141328){const _0x17866e=_0x32ddeb,_0x381a04=await this[_0x17866e(0x4cd)][_0x17866e(0x4b4)](_0x141328);return{'close':_0x381a04[_0x17866e(0x36f)]['bind'](_0x381a04)};}async[_0x32ddeb(0x5c8)](_0x367440){const _0x1a88c5=_0x32ddeb,_0x462baa=await this[_0x1a88c5(0x4cd)][_0x1a88c5(0x5c8)](_0x367440);return{'prompt':_0x462baa['prompt'][_0x1a88c5(0x499)](_0x462baa),'close':_0x462baa[_0x1a88c5(0x36f)]['bind'](_0x462baa)};}async[_0x32ddeb(0x6f6)](_0x51d0c8){const _0x353dac=_0x32ddeb,_0x106731=await this['orchestrator'][_0x353dac(0x6f6)](_0x51d0c8);return{'close':_0x106731['close'][_0x353dac(0x499)](_0x106731)};}[_0x32ddeb(0x3f6)](_0x4c6979){const _0x2f5a50=_0x32ddeb;return this['orchestrator'][_0x2f5a50(0x3f6)](_0x4c6979)[_0x2f5a50(0x1a1)](_0x3893ef=>({'getName':_0x3893ef[_0x2f5a50(0x6b3)]['bind'](_0x3893ef),'getOwnerId':_0x3893ef[_0x2f5a50(0x2d6)][_0x2f5a50(0x499)](_0x3893ef),'getContentType':_0x3893ef[_0x2f5a50(0x373)][_0x2f5a50(0x499)](_0x3893ef),'publish':_0x3893ef[_0x2f5a50(0x7db)][_0x2f5a50(0x499)](_0x3893ef),'subscribe':_0x3893ef[_0x2f5a50(0x558)][_0x2f5a50(0x499)](_0x3893ef),'unsubscribe':_0x3893ef[_0x2f5a50(0x300)][_0x2f5a50(0x499)](_0x3893ef),'close':_0x3893ef[_0x2f5a50(0x36f)][_0x2f5a50(0x499)](_0x3893ef)}));}[_0x32ddeb(0x6cf)](_0x4f3e31){const _0x204620=_0x32ddeb;return this[_0x204620(0x4cd)][_0x204620(0x6cf)](_0x4f3e31)['map'](_0x8d28a=>({'getName':_0x8d28a['getName'][_0x204620(0x499)](_0x8d28a),'getOwnerId':_0x8d28a[_0x204620(0x2d6)][_0x204620(0x499)](_0x8d28a),'getContentType':_0x8d28a[_0x204620(0x373)]['bind'](_0x8d28a),'publish':_0x8d28a['publish']['bind'](_0x8d28a),'unpublish':_0x8d28a[_0x204620(0x625)][_0x204620(0x499)](_0x8d28a),'get':_0x8d28a[_0x204620(0x798)][_0x204620(0x499)](_0x8d28a),'list':_0x8d28a[_0x204620(0x79a)][_0x204620(0x499)](_0x8d28a),'subscribe':_0x8d28a[_0x204620(0x558)][_0x204620(0x499)](_0x8d28a),'unsubscribe':_0x8d28a[_0x204620(0x300)]['bind'](_0x8d28a),'close':_0x8d28a[_0x204620(0x36f)]['bind'](_0x8d28a)}));}[_0x32ddeb(0x714)](_0x4acad2){const _0x23fcb8=_0x32ddeb;return this[_0x23fcb8(0x4cd)]['getKeyValueDatabases'](_0x4acad2)[_0x23fcb8(0x1a1)](_0x4bce86=>({'getName':_0x4bce86[_0x23fcb8(0x6b3)][_0x23fcb8(0x499)](_0x4bce86),'getOwnerId':_0x4bce86[_0x23fcb8(0x2d6)][_0x23fcb8(0x499)](_0x4bce86),'getContentType':_0x4bce86[_0x23fcb8(0x373)][_0x23fcb8(0x499)](_0x4bce86),'getTable':_0x4bce86[_0x23fcb8(0x336)][_0x23fcb8(0x499)](_0x4bce86),'subscribe':_0x4bce86[_0x23fcb8(0x558)][_0x23fcb8(0x499)](_0x4bce86),'unsubscribe':_0x4bce86[_0x23fcb8(0x300)][_0x23fcb8(0x499)](_0x4bce86),'close':_0x4bce86['close'][_0x23fcb8(0x499)](_0x4bce86)}));}['getGenerativeAIContexts'](_0x472107){const _0x3062c6=_0x32ddeb;return this[_0x3062c6(0x4cd)][_0x3062c6(0x26a)](_0x472107)[_0x3062c6(0x1a1)](_0x1bd4a1=>({'prompt':_0x1bd4a1['prompt']['bind'](_0x1bd4a1),'close':_0x1bd4a1[_0x3062c6(0x36f)]['bind'](_0x1bd4a1)}));}['getGenerativeAIWorkers'](_0x5cd557){const _0x1724e3=_0x32ddeb;return this[_0x1724e3(0x4cd)]['getGenerativeAIWorkers'](_0x5cd557)[_0x1724e3(0x1a1)](_0x32d40d=>({'close':_0x32d40d['close']['bind'](_0x32d40d)}));}[_0x32ddeb(0x7af)](_0x19e5d4,_0x1af40e){const _0x45c0e2=_0x32ddeb,_0x5585b4=this['orchestrator']['createLocalMediaStream'](_0x19e5d4,_0x1af40e);return{'getLabel':_0x5585b4[_0x45c0e2(0x7fa)][_0x45c0e2(0x499)](_0x5585b4),'getOwnerId':_0x5585b4[_0x45c0e2(0x2d6)][_0x45c0e2(0x499)](_0x5585b4),'getContentType':_0x5585b4[_0x45c0e2(0x373)][_0x45c0e2(0x499)](_0x5585b4),'getMediaStream':_0x5585b4[_0x45c0e2(0x781)]['bind'](_0x5585b4),'setPriority':_0x5585b4[_0x45c0e2(0x703)]['bind'](_0x5585b4),'unpublish':_0x5585b4['unpublish'][_0x45c0e2(0x499)](_0x5585b4)};}[_0x32ddeb(0x690)](_0x19958d,_0x1acabf){const _0x5d6183=_0x32ddeb,_0x38217b=this[_0x5d6183(0x4cd)][_0x5d6183(0x2f1)](_0x19958d,_0x1acabf);return{'getLabel':_0x38217b[_0x5d6183(0x7fa)][_0x5d6183(0x499)](_0x38217b),'getOwnerId':_0x38217b[_0x5d6183(0x2d6)][_0x5d6183(0x499)](_0x38217b),'getContentType':_0x38217b[_0x5d6183(0x373)][_0x5d6183(0x499)](_0x38217b),'setPriority':_0x38217b[_0x5d6183(0x703)][_0x5d6183(0x499)](_0x38217b),'unpublish':_0x38217b[_0x5d6183(0x625)][_0x5d6183(0x499)](_0x38217b),'getMediaStream':_0x38217b[_0x5d6183(0x781)][_0x5d6183(0x499)](_0x38217b),'addTrack':_0x38217b[_0x5d6183(0x368)][_0x5d6183(0x499)](_0x38217b),'removeTrack':_0x38217b['removeTrack'][_0x5d6183(0x499)](_0x38217b),'replaceTrack':_0x38217b['replaceTrack'][_0x5d6183(0x499)](_0x38217b),'setTransformations':_0x38217b[_0x5d6183(0x2f7)][_0x5d6183(0x499)](_0x38217b)};}[_0x32ddeb(0x701)](_0x55ffad){const _0x534627=_0x32ddeb;return this[_0x534627(0x4cd)][_0x534627(0x701)](_0x55ffad)['map'](_0x3f6e96=>({'getLabel':_0x3f6e96[_0x534627(0x7fa)]['bind'](_0x3f6e96),'getOwnerId':_0x3f6e96['getOwnerId']['bind'](_0x3f6e96),'getContentType':_0x3f6e96[_0x534627(0x373)][_0x534627(0x499)](_0x3f6e96),'getMediaStream':_0x3f6e96[_0x534627(0x781)][_0x534627(0x499)](_0x3f6e96),'setPriority':_0x3f6e96[_0x534627(0x703)][_0x534627(0x499)](_0x3f6e96),'unpublish':_0x3f6e96['unpublish'][_0x534627(0x499)](_0x3f6e96)}));}['getRemoteMediaStreams'](_0xb310aa){const _0x1bb840=_0x32ddeb;return this[_0x1bb840(0x4cd)]['getRemoteMediaStreams'](_0xb310aa)[_0x1bb840(0x1a1)](_0x489b39=>({'getLabel':_0x489b39[_0x1bb840(0x7fa)][_0x1bb840(0x499)](_0x489b39),'getOwnerId':_0x489b39[_0x1bb840(0x2d6)][_0x1bb840(0x499)](_0x489b39),'getContentType':_0x489b39[_0x1bb840(0x373)]['bind'](_0x489b39),'getMediaStream':_0x489b39['getMediaStream'][_0x1bb840(0x499)](_0x489b39),'subscribe':_0x489b39[_0x1bb840(0x558)][_0x1bb840(0x499)](_0x489b39),'unsubscribe':_0x489b39[_0x1bb840(0x300)][_0x1bb840(0x499)](_0x489b39),'getAvailableTrackKinds':_0x489b39[_0x1bb840(0x307)][_0x1bb840(0x499)](_0x489b39),'update':_0x489b39[_0x1bb840(0x805)]['bind'](_0x489b39),'onProviderChange':_0x489b39['onProviderChange'][_0x1bb840(0x499)](_0x489b39)}));}[_0x32ddeb(0x1d9)](){const _0x36bc61=_0x32ddeb,_0x3f1ff7=this['orchestrator'][_0x36bc61(0x1d9)]();switch(_0x3f1ff7[_0x36bc61(0x6a0)]){case _0x16caec[_0x36bc61(0x244)][_0x36bc61(0x579)]:return{'type':_0x16caec['NodeType'][_0x36bc61(0x579)],'getId':_0x3f1ff7[_0x36bc61(0x544)][_0x36bc61(0x499)](_0x3f1ff7),'getDisplayName':_0x3f1ff7['getDisplayName'][_0x36bc61(0x499)](_0x3f1ff7),'getEmail':_0x3f1ff7[_0x36bc61(0x3e6)][_0x36bc61(0x499)](_0x3f1ff7),'getRemoteConnections':_0x3f1ff7['getRemoteConnections']['bind'](_0x3f1ff7),'setDisplayName':_0x3f1ff7[_0x36bc61(0x56b)][_0x36bc61(0x499)](_0x3f1ff7),'setEmail':_0x3f1ff7[_0x36bc61(0x36e)][_0x36bc61(0x499)](_0x3f1ff7)};case _0x16caec[_0x36bc61(0x244)][_0x36bc61(0x559)]:default:return{'type':_0x16caec['NodeType'][_0x36bc61(0x559)],'getId':_0x3f1ff7[_0x36bc61(0x544)]['bind'](_0x3f1ff7),'getRemoteConnections':_0x3f1ff7[_0x36bc61(0x211)][_0x36bc61(0x499)](_0x3f1ff7)};}}['getRemoteNodes'](_0x5f1244){const _0xd0c2dd=_0x32ddeb;return this[_0xd0c2dd(0x4cd)][_0xd0c2dd(0x73f)](_0x5f1244)[_0xd0c2dd(0x1a1)](_0x4f905d=>{const _0xa3cb5f=_0xd0c2dd;switch(_0x4f905d[_0xa3cb5f(0x6a0)]){case _0x16caec['NodeType'][_0xa3cb5f(0x579)]:return{'type':_0x16caec['NodeType'][_0xa3cb5f(0x579)],'getId':_0x4f905d[_0xa3cb5f(0x544)]['bind'](_0x4f905d),'getDisplayName':_0x4f905d[_0xa3cb5f(0x63a)][_0xa3cb5f(0x499)](_0x4f905d),'getEmail':_0x4f905d[_0xa3cb5f(0x3e6)][_0xa3cb5f(0x499)](_0x4f905d),'getRemoteConnections':_0x4f905d['getRemoteConnections']['bind'](_0x4f905d)};case _0x16caec[_0xa3cb5f(0x244)][_0xa3cb5f(0x559)]:return{'type':_0x16caec['NodeType'][_0xa3cb5f(0x559)],'getId':_0x4f905d[_0xa3cb5f(0x544)][_0xa3cb5f(0x499)](_0x4f905d),'getRemoteConnections':_0x4f905d[_0xa3cb5f(0x211)][_0xa3cb5f(0x499)](_0x4f905d)};default:throw new _0x56574a(_0x2379f6['NodeInvalidType'],'Invalid\x20node\x20type');}});}['on']=(..._0x2ca3a5)=>{this['eventEmitter']['on'](..._0x2ca3a5);};[_0x32ddeb(0x56a)]=(..._0x3f07ec)=>this['eventEmitter'][_0x32ddeb(0x56a)](..._0x3f07ec);[_0x32ddeb(0x59b)](..._0x418864){const _0x9b5e6=_0x32ddeb;this[_0x9b5e6(0x254)][_0x9b5e6(0x59b)](..._0x418864);}}class _0x3dd098{['id'];['displayName'];[_0x32ddeb(0x281)];[_0x32ddeb(0x6a0)]=_0x16caec[_0x32ddeb(0x244)]['User'];['joinedClusters']=new Map();[_0x32ddeb(0x434)]=_0x1f49a7();constructor(_0x465264,_0x3e0ff7,_0x21084f){const _0x56f413=_0x32ddeb;this['id']=_0x465264,this['displayName']=_0x3e0ff7,this[_0x56f413(0x281)]=_0x21084f;}[_0x32ddeb(0x544)](){return this['id'];}[_0x32ddeb(0x63a)](){return this['displayName'];}[_0x32ddeb(0x3e6)](){const _0x2646bd=_0x32ddeb;return this[_0x2646bd(0x281)];}[_0x32ddeb(0x56b)](_0x37906c){const _0x3e79da=_0x32ddeb;this['displayName']!==_0x37906c&&(this['displayName']=_0x37906c,this[_0x3e79da(0x434)]['publish'](this));}[_0x32ddeb(0x36e)](_0xf97953){const _0x4a6b54=_0x32ddeb;this[_0x4a6b54(0x281)]!==_0xf97953&&(this[_0x4a6b54(0x281)]=_0xf97953,this[_0x4a6b54(0x434)][_0x4a6b54(0x7db)](this));}[_0x32ddeb(0x302)](_0x4f733d,_0x2c2e31){const _0x1c2fea=_0x32ddeb;if(this[_0x1c2fea(0x5b8)][_0x1c2fea(0x5ae)](_0x4f733d))return;const _0x11aa3f=this[_0x1c2fea(0x434)][_0x1c2fea(0x558)](_0x2c2e31);this[_0x1c2fea(0x5b8)][_0x1c2fea(0x36d)](_0x4f733d,_0x11aa3f);}[_0x32ddeb(0x233)](_0x4c1376){const _0x5abfdd=_0x32ddeb;if(!this['joinedClusters']['has'](_0x4c1376))return;const _0x2227ef=this[_0x5abfdd(0x5b8)][_0x5abfdd(0x798)](_0x4c1376);_0x2227ef&&_0x2227ef(),this[_0x5abfdd(0x5b8)][_0x5abfdd(0x27d)](_0x4c1376);}}class _0x1f1ddf{[_0x32ddeb(0x3ce)];[_0x32ddeb(0x2a6)];constructor(_0x3bf56c){const _0x37d2f6=_0x32ddeb;this[_0x37d2f6(0x3ce)]=_0x3bf56c;}async[_0x32ddeb(0x7ea)](_0x20abe2){const _0x39b03f=_0x32ddeb,_0x538212=await(0x0,_0x192331['httpsCallable'])(_0x194e5e[_0x39b03f(0x7c1)](),_0x39b03f(0x333))({'uid':_0x39b03f(0x514)+this['vendorId']+_0x39b03f(0x514)+_0x20abe2['id']}),_0x55ac44=await(0x0,_0x1ac969['signInWithCustomToken'])(_0x194e5e[_0x39b03f(0x61b)](),_0x538212['data']['token']);this['user']=_0x55ac44['user'];}async['signOut'](){const _0x39cd1b=_0x32ddeb;await(0x0,_0x1ac969[_0x39cd1b(0x400)])(_0x194e5e[_0x39cd1b(0x61b)]());}['getIdToken'](){const _0x1e77e0=_0x32ddeb;return this[_0x1e77e0(0x2a6)]?.['getIdToken']()??Promise[_0x1e77e0(0x191)](_0x1e77e0(0x3cd));}}class _0x1406f6{static [_0x32ddeb(0x484)];[_0x32ddeb(0x2bf)]=[];constructor(){}static['getInstance'](){const _0x54f981=_0x32ddeb;return _0x1406f6[_0x54f981(0x484)]||(_0x1406f6[_0x54f981(0x484)]=new _0x1406f6()),_0x1406f6[_0x54f981(0x484)];}[_0x32ddeb(0x58e)](){const _0x3d7b45=_0x32ddeb;this[_0x3d7b45(0x40a)](),this[_0x3d7b45(0x57a)](),this[_0x3d7b45(0x3f3)](),this[_0x3d7b45(0x408)](),this['checkDeviceConfig'](),this[_0x3d7b45(0x634)](),this['checkMediaRecording'](),this[_0x3d7b45(0x662)](),this[_0x3d7b45(0x5e5)](),this['checkAudioContext'](),_0x1709c0[_0x3d7b45(0x419)](_0x459921[_0x3d7b45(0x613)],'Support:\x20current\x20config',{'featureSupport':this['featureSupport']});}['isFeatureSupported'](_0x408e4e){const _0x42f105=_0x32ddeb,_0xcb953=this[_0x42f105(0x2bf)][_0x42f105(0x323)](_0x4758e9=>_0x4758e9[_0x42f105(0x473)]===_0x408e4e);return!!_0xcb953&&_0xcb953['supported'];}[_0x32ddeb(0x6f9)](_0x1dd8ac){const _0x585169=_0x32ddeb;_0x1709c0[_0x585169(0x196)](_0x585169(0x23e),{'nodeId':_0x1dd8ac[_0x585169(0x544)](),'nodeType':_0x1dd8ac[_0x585169(0x6a0)],'data':{'featureSupport':this[_0x585169(0x2bf)]}});}[_0x32ddeb(0x40a)](){const _0x22851b=_0x32ddeb,_0x485fae=_0x262cd6[_0x22851b(0x438)];let _0x4b74d9=!0x1;_0x22851b(0x7e2)==typeof RTCPeerConnection&&_0x22851b(0x7e2)==typeof RTCIceCandidate&&'function'==typeof RTCSessionDescription?_0x4b74d9=!0x0:_0x1709c0[_0x22851b(0x419)](_0x459921[_0x22851b(0x613)],_0x22851b(0x2e7)+_0x485fae+_0x22851b(0x4da)),this['featureSupport'][_0x22851b(0x6f1)]({'name':_0x485fae,'supported':_0x4b74d9});}[_0x32ddeb(0x57a)](){const _0x3d763e=_0x32ddeb,_0x30ac8e=_0x262cd6['MediaStream'];let _0x577bec=!0x1;_0x3d763e(0x7e2)==typeof MediaStream&&_0x3d763e(0x7e2)==typeof MediaStreamTrack&&_0x3d763e(0x610)==typeof navigator&&'object'==typeof navigator[_0x3d763e(0x2ee)]&&_0x3d763e(0x7e2)==typeof navigator[_0x3d763e(0x2ee)][_0x3d763e(0x50e)]?_0x577bec=!0x0:_0x1709c0[_0x3d763e(0x419)](_0x459921[_0x3d763e(0x613)],_0x3d763e(0x2e7)+_0x30ac8e+_0x3d763e(0x4da)),this[_0x3d763e(0x2bf)]['push']({'name':_0x30ac8e,'supported':_0x577bec});}[_0x32ddeb(0x3f3)](){const _0x5a5985=_0x32ddeb,_0x3708e8=_0x262cd6[_0x5a5985(0x493)];let _0xe32a22=!0x1;'object'==typeof navigator&&_0x5a5985(0x610)==typeof navigator[_0x5a5985(0x2ee)]&&_0x5a5985(0x7e2)==typeof navigator['mediaDevices'][_0x5a5985(0x3eb)]?_0xe32a22=!0x0:_0x1709c0[_0x5a5985(0x419)](_0x459921[_0x5a5985(0x613)],_0x5a5985(0x2e7)+_0x3708e8+_0x5a5985(0x4da)),this[_0x5a5985(0x2bf)][_0x5a5985(0x6f1)]({'name':_0x3708e8,'supported':_0xe32a22});}[_0x32ddeb(0x408)](){const _0x2777aa=_0x32ddeb,_0x46cdb0=_0x262cd6['AudioVolume'];let _0x5586d6=!0x1;_0x2777aa(0x7e2)!=typeof AudioContext||_0x2777aa(0x7e2)!=typeof ScriptProcessorNode&&'function'!=typeof AudioWorkletNode||_0x2777aa(0x7e2)!=typeof MediaStreamAudioSourceNode?_0x1709c0['log'](_0x459921[_0x2777aa(0x613)],'Support:\x20'+_0x46cdb0+'\x20not\x20supported'):_0x5586d6=!0x0,this['featureSupport']['push']({'name':_0x46cdb0,'supported':_0x5586d6});}[_0x32ddeb(0x4c7)](){const _0x43968c=_0x32ddeb,_0x535305=_0x262cd6['DeviceConfig'];let _0x33fe24=!0x1;'object'==typeof navigator&&_0x43968c(0x610)==typeof navigator[_0x43968c(0x2ee)]&&_0x43968c(0x7e2)==typeof navigator[_0x43968c(0x2ee)][_0x43968c(0x19e)]&&_0x43968c(0x7e2)==typeof MediaDeviceInfo?_0x33fe24=!0x0:_0x1709c0[_0x43968c(0x419)](_0x459921['Support'],'Support:\x20'+_0x535305+'\x20not\x20supported'),this[_0x43968c(0x2bf)]['push']({'name':_0x535305,'supported':_0x33fe24});}['checkAudioOutput'](){const _0x2fbe6a=_0x32ddeb,_0x5290d3=_0x262cd6[_0x2fbe6a(0x5e7)];let _0x2243e9=!0x1;_0x2fbe6a(0x610)==typeof document&&_0x2fbe6a(0x7e2)==typeof document[_0x2fbe6a(0x1ac)]('video')[_0x2fbe6a(0x523)]?_0x2243e9=!0x0:_0x1709c0['log'](_0x459921[_0x2fbe6a(0x613)],_0x2fbe6a(0x2e7)+_0x5290d3+'\x20not\x20supported'),this[_0x2fbe6a(0x2bf)]['push']({'name':_0x5290d3,'supported':_0x2243e9});}async['checkMediaRecording'](){const _0x5891e3=_0x32ddeb,_0x428422=_0x262cd6[_0x5891e3(0x193)];let _0x22af23=!0x1;try{const _0x20a5b7=document['createElement']('canvas');if(MediaRecorder&&MediaSource&&_0x20a5b7[_0x5891e3(0x379)]){const _0x4502b0=_0x20a5b7['captureStream'](),_0x140a05=new MediaRecorder(_0x4502b0);_0x140a05[_0x5891e3(0x429)](),await new Promise(_0x829971=>setTimeout(_0x829971,0x7d0)),_0x140a05[_0x5891e3(0x403)](),_0x22af23=_0x5891e3(0x6b2)===_0x140a05[_0x5891e3(0x3b3)];}}catch(_0x94b8c){_0x1709c0['log'](_0x459921[_0x5891e3(0x613)],'Support:\x20'+_0x428422+'\x20check\x20failed',_0x94b8c);}this['featureSupport']['push']({'name':_0x428422,'supported':_0x22af23}),_0x22af23||_0x1709c0[_0x5891e3(0x419)](_0x459921[_0x5891e3(0x613)],_0x5891e3(0x2e7)+_0x428422+_0x5891e3(0x4da));}['checkBackgrounds'](){const _0x2f2e94=_0x32ddeb,_0x2414e2=_0x262cd6['Backgrounds'];let _0x57d5e4=!0x1;try{document[_0x2f2e94(0x1ac)]('canvas')[_0x2f2e94(0x379)]&&(_0x57d5e4=!0x0);}catch(_0x444aa7){_0x1709c0[_0x2f2e94(0x419)](_0x459921[_0x2f2e94(0x613)],_0x2f2e94(0x2e7)+_0x2414e2+_0x2f2e94(0x35c),_0x444aa7);}this[_0x2f2e94(0x2bf)][_0x2f2e94(0x6f1)]({'name':_0x2414e2,'supported':_0x57d5e4}),_0x57d5e4||_0x1709c0[_0x2f2e94(0x419)](_0x459921['Support'],_0x2f2e94(0x2e7)+_0x2414e2+_0x2f2e94(0x4da));}[_0x32ddeb(0x5e5)](){const _0xe5dae=_0x32ddeb,_0x3c14f4=_0x262cd6[_0xe5dae(0x74c)];let _0x347289=!0x1;try{const _0x389e99=document[_0xe5dae(0x1ac)](_0xe5dae(0x495));WebGLRenderingContext&&_0x389e99[_0xe5dae(0x6e2)](_0xe5dae(0x4c4))&&(_0x347289=!0x0);}catch(_0x1143d6){_0x1709c0[_0xe5dae(0x419)](_0x459921[_0xe5dae(0x613)],_0xe5dae(0x2e7)+_0x3c14f4+_0xe5dae(0x35c),_0x1143d6);}this['featureSupport'][_0xe5dae(0x6f1)]({'name':_0x3c14f4,'supported':_0x347289}),_0x347289||_0x1709c0[_0xe5dae(0x419)](_0x459921[_0xe5dae(0x613)],'Support:\x20'+_0x3c14f4+_0xe5dae(0x4da));}[_0x32ddeb(0x1c1)](){const _0x42893e=_0x32ddeb,_0x2273dd=_0x262cd6[_0x42893e(0x340)];let _0x4021c0=!0x1;_0x42893e(0x7e2)==typeof AudioContext?_0x4021c0=!0x0:_0x1709c0[_0x42893e(0x419)](_0x459921['Support'],_0x42893e(0x2e7)+_0x2273dd+_0x42893e(0x4da)),this[_0x42893e(0x2bf)]['push']({'name':_0x2273dd,'supported':_0x4021c0});}}const _0x394cfa=_0x1406f6['getInstance']();class _0x31568a{static [_0x32ddeb(0x484)];[_0x32ddeb(0x649)];[_0x32ddeb(0x3ce)];[_0x32ddeb(0x288)];['configs'];[_0x32ddeb(0x667)]=new Map();[_0x32ddeb(0x577)];[_0x32ddeb(0x300)];constructor(_0x594f10,_0x4d5534,_0x9b4027){const _0x582f8f=_0x32ddeb;this[_0x582f8f(0x3ce)]=_0x594f10,this[_0x582f8f(0x486)]=_0x4d5534,this[_0x582f8f(0x649)]=new _0x1f1ddf(this['vendorId']),_0x394cfa[_0x582f8f(0x58e)](),this['options']={'audioContext':_0x9b4027?.[_0x582f8f(0x642)]??(_0x394cfa['isFeatureSupported'](_0x262cd6['AudioContext'])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0x9b4027?.['maxOutgoingSubscriptions']??0x1,'minConnections':_0x9b4027?.['minConnections']??0x3,'maxConnections':_0x9b4027?.[_0x582f8f(0x35d)]??(_0x9b4027?.[_0x582f8f(0x71b)]&&0x4*_0x9b4027['minConnections'])??0xc,'maxDistance':_0x9b4027?.['maxDistance']??0xa,'maxFps':_0x9b4027?.[_0x582f8f(0x73e)]??0x18,'maxBpp':_0x9b4027?.[_0x582f8f(0x387)]??0.12,'objectStoreConnector':_0x9b4027?.[_0x582f8f(0x6d7)]??_0x32c278['OPFSObjectStoreConnector'],'keyValueDatabaseConnector':_0x9b4027?.['keyValueDatabaseConnector']??_0x50b960[_0x582f8f(0x551)],'peerConnectionConnector':_0x9b4027?.['peerConnectionConnector']??_0x428a7a[_0x582f8f(0x468)],'generativeAIWorkerConnector':_0x9b4027?.[_0x582f8f(0x5bc)],'vectorDatabaseConnector':_0x9b4027?.[_0x582f8f(0x4b1)]},_0x9b4027?.[_0x582f8f(0x567)]&&this[_0x582f8f(0x288)][_0x582f8f(0x642)]&&_0x43cca0[_0x582f8f(0x791)](this['options'][_0x582f8f(0x642)]),_0x1709c0[_0x582f8f(0x680)](this[_0x582f8f(0x3ce)]),_0x9b4027?.[_0x582f8f(0x3db)]&&_0x1709c0[_0x582f8f(0x7e5)](_0x9b4027[_0x582f8f(0x3db)]);}static async[_0x32ddeb(0x5d0)](_0x441abc,_0x13362b,_0x557f0b,_0x1e5ee6){const _0xf19094=_0x32ddeb,_0x27a638=await this[_0xf19094(0x1db)](_0x441abc,_0x13362b,_0x1e5ee6);return _0x31568a[_0xf19094(0x484)]||(_0x31568a[_0xf19094(0x484)]=new _0x31568a(_0x441abc,_0x27a638,_0x557f0b)),{'close':_0x31568a['instance'][_0xf19094(0x36f)][_0xf19094(0x499)](_0x31568a[_0xf19094(0x484)]),'authenticateUser':_0x31568a[_0xf19094(0x484)]['authenticateUser']['bind'](_0x31568a[_0xf19094(0x484)]),'authenticateAgent':_0x31568a[_0xf19094(0x484)][_0xf19094(0x68d)][_0xf19094(0x499)](_0x31568a[_0xf19094(0x484)]),'joinCluster':_0x31568a[_0xf19094(0x484)][_0xf19094(0x6cc)][_0xf19094(0x499)](_0x31568a[_0xf19094(0x484)])};}static async['timestamp'](){return _0x194e5e['getEstimatedTimestamp']();}static[_0x32ddeb(0x5b9)](){const _0x2d7c2f=_0x32ddeb;return _0x2a4dc1[_0x2d7c2f(0x5b9)];}async[_0x32ddeb(0x36f)](){const _0x5ce2a7=_0x32ddeb;this['clusters'][_0x5ce2a7(0x801)](_0x3e4326=>{_0x3e4326['off'](),_0x3e4326['leave']();}),this['clusters'][_0x5ce2a7(0x532)](),this[_0x5ce2a7(0x288)][_0x5ce2a7(0x642)]&&_0x43cca0[_0x5ce2a7(0x637)](),this['unsubscribe']?.(),this[_0x5ce2a7(0x577)]=void 0x0,await this['authService'][_0x5ce2a7(0x400)](),_0x31568a[_0x5ce2a7(0x484)]=void 0x0;}static async['validateAccess'](_0x20c601,_0x51e1e2,_0x301035){const _0x2dfc15=_0x32ddeb,_0x4ee289=(await(0x0,_0x192331[_0x2dfc15(0x27b)])(_0x194e5e['getFunctions'](),_0x2dfc15(0x3d6))({'vendorId':_0x20c601,'accessToken':_0x51e1e2,'secretKey':_0x301035}))[_0x2dfc15(0x777)];return _0x4ee289[_0x2dfc15(0x711)]||(_0x4ee289[_0x2dfc15(0x711)]=[]),_0x4ee289;}async[_0x32ddeb(0x2a5)](_0x3f7096){const _0x5b810e=_0x32ddeb;await this[_0x5b810e(0x649)]['signInWithCredential'](_0x3f7096);const _0x55e303=new _0x3dd098(_0x3f7096['id'],_0x3f7096[_0x5b810e(0x5b2)],_0x3f7096[_0x5b810e(0x281)]);return this[_0x5b810e(0x577)]={'node':_0x55e303},_0x394cfa[_0x5b810e(0x6f9)](_0x55e303),{'type':_0x16caec['NodeType'][_0x5b810e(0x579)],'getId':_0x55e303[_0x5b810e(0x544)]['bind'](_0x55e303),'getDisplayName':_0x55e303[_0x5b810e(0x63a)][_0x5b810e(0x499)](_0x55e303),'getEmail':_0x55e303[_0x5b810e(0x3e6)][_0x5b810e(0x499)](_0x55e303),'setDisplayName':_0x55e303[_0x5b810e(0x56b)][_0x5b810e(0x499)](_0x55e303),'setEmail':_0x55e303[_0x5b810e(0x36e)][_0x5b810e(0x499)](_0x55e303)};}async['authenticateAgent'](_0x3a7bb4){const _0x3745ef=_0x32ddeb,{id:_0x53481f,groupId:_0x15217c}=_0x3a7bb4,_0xb2b43c=await(0x0,_0x3ef15c[_0x3745ef(0x772)])((0x0,_0x3ef15c[_0x3745ef(0x294)])(_0x194e5e[_0x3745ef(0x3ca)](),_0x3745ef(0x570)+this['vendorId']+_0x3745ef(0x7ab)+_0x15217c));if(!_0xb2b43c['exists']())throw new _0x56574a(_0x2379f6[_0x3745ef(0x5e1)],_0x3745ef(0x312));const _0x3b8556=_0xb2b43c['data']();await this[_0x3745ef(0x649)][_0x3745ef(0x7ea)]({'id':_0x53481f});const _0x240671=new _0x5d3d22(_0x53481f,_0x15217c,this[_0x3745ef(0x3ce)],_0x3b8556);return this['authContext']={'node':_0x240671},_0x394cfa[_0x3745ef(0x6f9)](_0x240671),await this[_0x3745ef(0x25e)](_0x240671),{'type':_0x16caec[_0x3745ef(0x244)][_0x3745ef(0x559)],'getId':_0x240671[_0x3745ef(0x544)][_0x3745ef(0x499)](_0x240671),'onConfigurationChange':_0x240671[_0x3745ef(0x762)][_0x3745ef(0x499)](_0x240671),'setReportCapacity':_0x240671['setReportCapacity'][_0x3745ef(0x499)](_0x240671)};}async[_0x32ddeb(0x6cc)](_0x252c0d){const _0x4de9ac=_0x32ddeb;if(!this[_0x4de9ac(0x577)])throw new _0x56574a(_0x2379f6[_0x4de9ac(0x5e1)],_0x4de9ac(0x77c));if(this[_0x4de9ac(0x577)]['node'][_0x4de9ac(0x6a0)]!==_0x16caec[_0x4de9ac(0x244)][_0x4de9ac(0x579)])throw new _0x56574a(_0x2379f6[_0x4de9ac(0x361)],_0x4de9ac(0x4d7));if(this['clusters'][_0x4de9ac(0x5ae)](_0x252c0d))throw new _0x56574a(_0x2379f6[_0x4de9ac(0x537)],_0x4de9ac(0x22e));const _0x219bd3=new _0xb61ed3(this[_0x4de9ac(0x3ce)],_0x252c0d,this['authContext'][_0x4de9ac(0x1f9)],this['authService'],this[_0x4de9ac(0x288)],this['configs']);return await _0x219bd3[_0x4de9ac(0x710)](),this['addCluster'](_0x252c0d,_0x219bd3),_0x1709c0[_0x4de9ac(0x196)](_0x4de9ac(0x3aa),{'clusterId':_0x252c0d,'nodeId':this[_0x4de9ac(0x577)][_0x4de9ac(0x1f9)][_0x4de9ac(0x544)](),'nodeType':this[_0x4de9ac(0x577)]['node']['type']}),{'leave':_0x219bd3['leave'][_0x4de9ac(0x499)](_0x219bd3),'getLocalNode':_0x219bd3[_0x4de9ac(0x1d9)][_0x4de9ac(0x499)](_0x219bd3),'openPubSubTopic':_0x219bd3[_0x4de9ac(0x62a)]['bind'](_0x219bd3),'openObjectStoreBucket':_0x219bd3[_0x4de9ac(0x29b)][_0x4de9ac(0x499)](_0x219bd3),'openKeyValueDatabase':_0x219bd3[_0x4de9ac(0x3fd)]['bind'](_0x219bd3),'openGenerativeAIContext':_0x219bd3['openGenerativeAIContext'][_0x4de9ac(0x499)](_0x219bd3),'openGenerativeAIWorker':_0x219bd3[_0x4de9ac(0x6f6)][_0x4de9ac(0x499)](_0x219bd3),'publishLocalMediaStream':_0x219bd3[_0x4de9ac(0x7af)][_0x4de9ac(0x499)](_0x219bd3),'publishLocalDynamicMediaStream':_0x219bd3[_0x4de9ac(0x690)][_0x4de9ac(0x499)](_0x219bd3),'getPubSubTopics':_0x219bd3[_0x4de9ac(0x3f6)][_0x4de9ac(0x499)](_0x219bd3),'getObjectStoreBuckets':_0x219bd3[_0x4de9ac(0x6cf)][_0x4de9ac(0x499)](_0x219bd3),'getKeyValueDatabases':_0x219bd3['getKeyValueDatabases']['bind'](_0x219bd3),'getGenerativeAIContexts':_0x219bd3[_0x4de9ac(0x26a)][_0x4de9ac(0x499)](_0x219bd3),'getGenerativeAIWorkers':_0x219bd3[_0x4de9ac(0x299)][_0x4de9ac(0x499)](_0x219bd3),'getLocalMediaStreams':_0x219bd3[_0x4de9ac(0x701)][_0x4de9ac(0x499)](_0x219bd3),'getRemoteMediaStreams':_0x219bd3[_0x4de9ac(0x54d)][_0x4de9ac(0x499)](_0x219bd3),'getRemoteNodes':_0x219bd3[_0x4de9ac(0x73f)][_0x4de9ac(0x499)](_0x219bd3),'on':_0x219bd3['on'][_0x4de9ac(0x499)](_0x219bd3),'off':_0x219bd3[_0x4de9ac(0x59b)][_0x4de9ac(0x499)](_0x219bd3)};}async[_0x32ddeb(0x25e)](_0xc22c2f){const _0xf80c4a=_0x32ddeb;for(const _0xc9f822 of _0xc22c2f['agentConfig'][_0xf80c4a(0x667)]){const _0x45e21c=new _0xb61ed3(this[_0xf80c4a(0x3ce)],_0xc9f822['id'],_0xc22c2f,this['authService'],this[_0xf80c4a(0x288)],this[_0xf80c4a(0x486)]);await _0x45e21c[_0xf80c4a(0x710)](),this[_0xf80c4a(0x687)](_0xc9f822['id'],_0x45e21c);for(const _0x188b6e of _0xc9f822[_0xf80c4a(0x389)])_0x45e21c['openPubSubTopic'](_0x188b6e);for(const _0x40ccf7 of _0xc9f822[_0xf80c4a(0x6b7)])await _0x45e21c[_0xf80c4a(0x29b)](_0x40ccf7);for(const _0x1e0ba2 of _0xc9f822[_0xf80c4a(0x742)])await _0x45e21c[_0xf80c4a(0x3fd)](_0x1e0ba2,{'version':0x1,'tables':{}});for(const _0x5efec7 of _0xc9f822[_0xf80c4a(0x5fa)])await _0x45e21c['openGenerativeAIWorker'](_0x5efec7);}}[_0x32ddeb(0x687)](_0x265d6c,_0x21aa16){const _0x4043c3=_0x32ddeb;this['clusters'][_0x4043c3(0x36d)](_0x265d6c,_0x21aa16),_0x21aa16['on'](_0x4043c3(0x207),()=>{const _0x3fb80c=_0x4043c3;_0x21aa16['off'](),this[_0x3fb80c(0x667)]['delete'](_0x265d6c);});}}})()),_0x540988;})())));