function a0_0x395e(_0x34e5b4,_0x29c53c){const _0x5ad557=a0_0x5ad5();return a0_0x395e=function(_0x395ea1,_0x563ad6){_0x395ea1=_0x395ea1-0x69;let _0x26df7a=_0x5ad557[_0x395ea1];return _0x26df7a;},a0_0x395e(_0x34e5b4,_0x29c53c);}function a0_0x5ad5(){const _0x21f452=['unregisterSystemSource','VectorDatabaseCreationFailed','outputType','leave','Pool','answerJoin','Monitors\x20competitors\x20and\x20provides\x20insights\x20on\x20their\x20products,\x20pricing,\x20and\x20updates.','ObjectStorageBucket','Default','text/csv','.vb','resolve','Feedback\x20Agent','.crewdle-last-transaction','getReader','Code\x20is\x20required','web-scraper','inference','JobWorker:\x20Error\x20processing\x20job','combinePeaks','authService','eventTarget','file-write','query-helper-invalid-argument','getSubscriptionLabel','AiSearch','Jobs','long','getDoc','fps','setReceiverBytes','\x20transactions\x20from\x20node\x20','onDisconnectHandler','retry','close','getResolution','removeListener','table','GenerativeAIContext','mediaUnsubscribers','queries','collection','disableIntervalHack','llama-3.2-3b','NodeAlreadyExist','internalProcessJob','Disconnect','listChanges','Delete','requestSubscription','createIncomingSubscription','Internal\x20SDK\x20Error:\x20','handleFolderCreate','topic','writeTransaction','compileStats','Additional\x20context:\x0a','remoteConnections','publishNodeLeave','getShareableStreamId','ExecuteCode','CloseJobWorker','Subscription\x20request\x20does\x20not\x20exist.','getTransactionFromTableWriteEvent','Buffered\x20chunks\x20are\x20too\x20large','getStatus','GenerativeAIModelOutputType','sendBid','User','PubSub\x20already\x20exists','ExternalStorageNameNotString','FormSkill','connectionStateListener','collection-query','Hub','createNewBatch','File','handleUnsubscribeMediaStream','FramePerSecond','head','loggingCycle','GraphDatabaseStats','GraphDatabaseMissingConnector','minThreshold','/search','GenerativeAITracing\x20-\x20Error\x20while\x20opening\x20trace.','toFixed','getCoresFromCapacityReport','Agent\x20group\x20not\x20found','handleContentUnsubscribeMediaStream','notifyClusterNodeJoin','createCollection','nlpLibraryConnector','isSubscribed','pendingHandshakeCandidates','results','getEngineType','toLowerCase','Error\x20querying\x20file','isPartialResultResponse','getFirestore','fileChunks','label','layout','audio','getLocalMediaStreams','timeoutValue','Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank','pop','providerListener','generative-ai-context-job-invalid-type','checkAudioVolume','signOut','getDTVolatility','getItem','Medium','subscription','standalone','generative-ai-context-does-not-exist','retryQueues','openaiApiKey','file.type','firestore','syncKeyValueDatabase\x20-\x20Retrying\x20sync\x20in\x20broadcast\x20mode.\x20Waited\x20for\x20cluster\x20readiness\x20for:','write-file','tableUnsubscriber','JobDispatcherAlreadyExists','Store\x20already\x20exists','\x20must\x20be\x20a\x20string','handleRemoteTrackFailure','claude-3-5-sonnet-latest','CloseMediaStream','stream','listen','compareTransactions','connect','subscription-request-does-not-exist','Received\x20event\x20on\x20cluster','sender','UnsubscribeMediaStream','detail','handshakeDebounce','outgoingStreams','RemoteMediaStreamDoesNotExist','KeyValueDatabase\x20-\x20Assuming\x20no\x20nodes\x20available\x20to\x20sync.\x20Completing\x20sync.','isJobRequest','Error\x20processing\x20ingest','RemoteMediaStreamTrackFail','readyResolve','ccc','receivers','dataTopics','logEvent','workflowId','pendingSyncTransactions','.tsx','Model\x20not\x20found\x20','cpu.av_delay','enabled','FormSkillGetQuestion','TestPage','resolveReady','maps','syncTransactionsWritten','KeyValueDatabaseTableNotFound','Gathers\x20structured\x20user\x20feedback\x20and\x20compiles\x20reports.','DataCollection','removeTrackListeners','Stats','incomingManager','PubSubTopicNameNotString','\x20when\x20you\x20need\x20contextual\x20data\x20to\x20inform\x20your\x20response.','KeyValueDatabaseSendTransactions','data-stream','messagesSent','isFailedResponse','GenerativeAIContext\x20stream\x20error','logRaw','Count','between','arrayBufferToObject','sendWithRetry','.vbs','Error\x20writing\x20chunk\x20to\x20stream','WebScraper','maxThreshold','emit','unregisterSubscriber','setStatus','LocalMediaStreamNoAudioContext','replace','fetchContentFromUrl','every','Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.','KeyValueDatabaseAlreadyExists','RemoteConnectionExists','tables','framesDecoded','July\x202024','crewdle','addIssue','receiverTotalMessages','processInboundReport','Memory\x20Usage\x20at\x20','transactionService','Query\x20Generator','handleMissingSenders','Invalid\x20JSON:','base64','knowledge','PubSubTopicStats','Query\x20file\x20connector\x20not\x20set','CrewdleReceiverConnection\x20ontrack','grammar','getTableConnector','all-minilm-l12-v2','st_volatility','GraphDatabaseAlreadyExists','srcObject','.crewdle-pending','peaks','crewdle-sdk-stg.firebaseapp.com','getSubscribedTracks','\x0a\x20===\x20Total\x20Nodes:','nodeKey','handleStatsSystemEvents','ClosePubSubTopic','workflow-invalid-block-type','InvalidAccess','mmrRoot','ai-search','consumeBufferedEvents','NodeJoin','Stream\x20already\x20exists','counter','processOutboundReport','numeric','byteLength','getInternalStreamId','documentParserConnector','search','audioDestination','InitialPrompt','join','RoundTripTime','vectors','Received\x20track','debugEnabled','getConnection','No\x20destinationIds\x20left','GenerativeAITracing\x20-\x20trace\x20job\x20id\x20does\x20not\x20match','recipients','After\x20Synchronization\x20-\x20Is\x20Database\x20sync?\x20','QueryFile','checkExistingPendingFileContent','lastUpdated','Backgrounds','/transactions/','removeJobDispatcher','delete','handleSubscriptionSubscribeMediaStream','WorkflowTool','isEqual','createRemoteMediaStream','/resources/generative-ai-workflow/items','stopConnection','urls','addNode','clearSubscriptionRequestTimeout','pubsubTopics','firebaseUnsubscriber','createLocalMediaStream','Failed','aiSearchConnector','removeRemoteStreamSubscription','reset','inactive','mode','internalId','transactionHashMap','addCandidate','file','northamerica-northeast1','Retrieves\x20historical\x20data\x20from\x20online\x20archives.','clusterId','debounceRebuildMMR','logInitialMMR','discover','Missing\x20external\x20storage\x20connector','debounceReady','createRemoteNode','keyValueDatabases','TimePerFrame','generative-ai-context-job-already-consumed','checkWebRTC','answers','__esModule','chooseAnswer','handleContentSystemEvents','job-dispatcher-invalid-payload','getWorkflowObjectStorageBuckets','Receiving\x20\x27','insert','PartialResult','object-store-already-subscribed','loadEnabledChannels','Missing\x20OpenAI\x20API\x20key','previousTimestamp','codes','code','handleObjectDelete','getPacketsLostPerc','Text\x20is\x20required','logConnectionState','Cannot\x20find\x20External\x20Storage\x20connection:\x20','Cannot\x20list\x20directory:\x20External\x20Storage\x20not\x20connected','createBatch','ConnectionInvalidDataEvent','object-storage-upload','DataChannel\x20is\x20not\x20open.','createConnection','bytesSent','connection-no-retry-queue','destroy','133698KLMYka','streamLabel','connected','getKeyValueDatabases','Cannot\x20subscribe\x20to\x20ExternalStorage:\x20Already\x20subscribed','senderPreviousBytes','setSenderTimestamp','retrieveBlocks','systemTopic','OutgoingMediaStreamNoTopic','Write\x20text\x20data\x20to\x20a\x20file.','features','JobDispatcherObserverNotFound','object-store-stream-does-not-exist','once','135820yzHNEb','deleteCollection','logMMRRebuild','Label\x20already\x20in\x20use\x20by\x20AI\x20Service','Info','pow','custom-skill','bandwidth.bitrate','Error\x20opening\x20trace','getContext','match','ingestFile','attributes','substring','JobDispatcherCreationFailed','removeEventListener','search-agent','Submit\x20the\x20form.','Cannot\x20get\x20size\x20of\x20path:\x20','isValidMediaSubscriptionParams','heartbeatUnsubscriber','reduce','onProviderChange','key-value-database-table-name-reserved','KeyValueDatabaseInvalidLayout','muted','add','iceConnectionState\x20failed','NodeTypeNotSupported','getBid','generative-ai-label-conflict','messageCallback','getDataBucketIds','InvalidSubscriber','.ps1','graphService','transactions','confirmSynchronization','ExternalStorageConnection\x20not\x20found','verb','queryOrPrompt','isResultResponse','\x20answer','createObjectStoreBucket','AudioOutput','Error\x20closing\x20writable\x20stream','SubscribeMediaStream','.ppt','.twig','warn','dedicated','externalStorages','Crewdle','handleSubscriptionMediaStreamUnavailable','setProviderId','manageBufferedChunks','setReceiverTimestamp','body','getTable','Syncing','Rejected\x20answer','logSupport','syncResolve','SentenceSplitter','ObjectStoreCannotWriteTransaction','createOffer','420235181083','getMediaSubscription','validateKey','FeatureNotEnabled','Module','handshakeCandidates','Core','getId','workflow','handleProblem','\x0a\x20\x20===\x20Initial\x20MMR\x20Root:\x20','getSubscriptionInfo','RequestFileWrite','createElement','addTrack','.sh','ConnectionNotConnected','errorDetails','database','onDisconnect','payloadType','strategizing-agent','CREWDLE_WEB_SDK','searchEngineId','distance','System','subscriptionRequestsQueue','An\x20error\x20occurred','forEach','contentType','Signaling','1:420235181083:web:4eff6062bd845cb0748cbe','LocalReport','Orchestrator\x20handleSystemEvents','hosting','subtle','https://crewdle-sdk-default-rtdb.firebaseio.com','key-value-database','buffer','Buffering\x20event','contentManager','QueryBuilderInvalidArgument','KeyValueDatabasePeakNotFound','processInboundReports','registerCluster','inputTokens','stringify','connecting','addVideoTrack','getAudioTracks','LoadSkillFunction','isReconnecting','RemoteMediaStreamInvalidSubscriptionParams','getOrResetPendingFileTimeout','gpt-4o-mini','searchOnGoogle','now','Error\x20resolving\x20readyPromises:','fetch-url','Consuming\x20buffered\x20event','setPendingFileSyncingPayload','currentFrames','handleNeedRestart','stun:','subscriptionManager','Human','publishLocalMediaStream','getVectorDatabases','\x20to\x20generate\x20a\x20response.','GraphDatabaseNameNotString','Database\x20Opened','subject','max','Receiver','external-storage-connectors-missing','handleFileWrite','SubscriptionRequestInProgress','notifyCluster','Cannot\x20fetch\x20content\x20from\x20this\x20type\x20of\x20file','completeSync','updateJob','CrewdleConnectionGroup','TextGeneration','node-invalid-type','connection-state','getGraphDatabases','data-collection','ExternalStorageConnectorsMissing','ner','email','webgl','\x20does\x20not\x20exists','AppSync\x20subscribe','Reranker','frameWidth','warning','copywriter-agent','moveObject','object-store-not-in-sync','doc','PeerConnectionInvalidDestination','reportCapacity','isJobAttribution','connection','createReceiverConnection','systemTopicUnsubscribe','blockId','Cannot\x20create\x20External\x20Storage:\x20Name\x20must\x20be\x20a\x20string','addDoc','Object\x20store\x20is\x20not\x20in\x20sync','Key-value\x20database\x20peak\x20not\x20found.','AppSync\x20client\x20not\x20ready','AppSync\x20publish','currentBatch','removeTrackCallback','Invalid\x20node\x20type','exports','No\x20connector\x20found\x20for\x20model','clusterKey','Invalid\x20object\x20store\x20state.','2667824DmLHeK','Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed','OPFSObjectStoreConnector','createGain','.Total\x20pages\x20available:\x20','action','getWorkflowExternalStorageConnections','incrementVersion','uuid','Error\x20processing\x20retrieve','.pdf','getConfigs','maxTokens','isSync','getHash','sort','\x20finalized.','.\x20Confirmation?\x20','RemoteRemove','pathName','Job\x20','getIsLoaded','boolean','maxBpp','NodeType','ObjectStore','maxConnections','Content','isProduction','NodeInvalidType','.java','.jinja2','processReport','answerContentAvailable','StreamReport','incomingTopic','responseTimeout','JobDispatcherDoesNotExist','\x0a\x20===\x20Total\x20Time:\x20','isAvailable','listener','ContentType','tableObserver','trend-spotter','/embeddings','FormSkillSubmitForm','packetsReceived','KeyValueDatabaseTransactionTableNotInitialized','JobStatus','auth','traceLevel','SyncComplete','filesSynced','ExternalStorageConnectionAlreadyExists','crewdleSDKDisableLogging','additionnalInstructions','121UQEjzH','missing-datachannel','Object\x20store\x20not\x20synced.','sdkCreateToken','setupResizeHandler','Anthropic','getAudioVideoDelay','Support:\x20current\x20config','No\x20connections\x20available\x20to\x20send\x20message','then','timeReceiving','GenerativeAITracing\x20-\x20Trace\x20job\x20id\x20does\x20not\x20exist','direction','queues','job-dispatcher-observer-not-found','changesUnsubscriber','exists','ObjectStoreNotSynced','currentDistance','searchOnPerplexity','object-store-cannot-write-transaction','min','getContentType','processOutboundReports','createFolder','remote-media-stream-already-exists','Cannot\x20unpublish\x20object:\x20','unregisterSystemPublisher','NeedMediaStream','generative-ai-worker-creation-failed','ownerId','RemoteMediaStreamMissingProviderId','handleFileRequestAnswer','random','getToolName','read','tail','.cpp','maxDistance','setTimestamp','extendedRecipients','Query\x20is\x20required','priority','Reranker\x20block\x20is\x20missing\x20required\x20data','I\x20have\x20finished\x20executing\x20my\x20task.','objectToArrayBuffer','GenerativeAITracing\x20-\x20job\x20id\x20is\x20already\x20set','publishTransaction','.tcl','isWhereBetween','commit','GraphDatabase','\x20attributed\x20to\x20','syncedFileExists','registeredListeners','completed','prompt','InvalidDataChannel','FolderCreate','vector-database-already-exists','source','assign','rootComputationPromise','anthropicApiKey','question','handleNodeSystemEvents','isOpened','https://huggingface.co/bartowski/Llama-3.2-3B-Instruct-GGUF/resolve/main/Llama-3.2-3B-Instruct-Q8_0.gguf','aws','noun','reranker','transactionQueue','ObjectStorageUpload','startBidResponseHandling','setInternalId','sendFile','\x27\x20reserved','Early\x20return:\x20','Invalid\x20job\x20type','handleContentRemoteMediaStreamTrackFail','bufferedAmount','.ts','transactionsToAppend','Cannot\x20create\x20Graph\x20Database:\x20Name\x20must\x20be\x20a\x20string','stats','JobWorker:\x20Sending\x20job\x20reject','links','ended','component','Retrieve','27ojIfYM','appsync-connect','::￿','addMessage','onloadeddata','assistant','Cannot\x20get\x20file:\x20','embedding','senderPreviousTimestamp','bandwidth.rtt','transaction','handlePublishMediaStream','validation','getIdToken','Ingest','origin','generativeAIWorkers','feedback','User\x20not\x20signed\x20in','statsReporting','initializeSystemTopic','getLayout','https://huggingface.co/leliuga/all-MiniLM-L12-v2-GGUF/resolve/main/all-MiniLM-L12-v2.F16.gguf','api-key-missing','agent-config-changed','vendorId','instance','WaitFalse','from','startNoThrottlingHack','updatePropagationProperties','splice','onConfigurationChange','https://api.crewdle.ai','outputTokens','pool','data:\x20[DONE]\x0a\x0a','Cannot\x20publish\x20file:\x20','Move','remoteId','external-storage','logDataSent','crewdle-sdk-stg.appspot.com','groupId','handleTransactionPayload','token','Low','Prompt','getAgents','arrayBuffer','job-dispatcher-does-not-exist','openedTraces','generative-ai-context-job-timeout','Found\x20','parseDataCollectionBlocks','\x20already\x20exists','FileMove','batch','remove','storage','cleanOldSubscription','CONNECTION_STATE_CHANGE','Missing\x20remote\x20node\x20or\x20rank','Data','jobPhase','setRemoteConnections','canChooseAnswer','logDataReceived','ConnectionState','jobDispatchers','JobWorker:\x20Sending\x20job\x20partial\x20result','setDurationTime','ExecuteCustomSkill','Coordinator\x20Agent\x20manages\x20the\x20flow\x20of\x20tasks\x20and\x20ensures\x20the\x20successful\x20execution\x20of\x20workflows\x20to\x20fulfill\x20the\x20user\x27s\x20request.\x0a-\x20Interpret\x20the\x20user’s\x20request\x20to\x20break\x20it\x20down\x20into\x20a\x20sequence\x20of\x20tasks,\x20identifying\x20any\x20dependencies\x20between\x20them.\x0a-\x20Assign\x20each\x20task\x20to\x20the\x20most\x20appropriate\x20tool\x20based\x20on\x20its\x20capabilities.\x0a-\x20Track\x20the\x20progress\x20of\x20all\x20active\x20tasks\x20and\x20ensure\x20they\x20complete\x20as\x20expected.\x0a-\x20Share\x20regular\x20updates\x20with\x20the\x20user\x20about\x20task\x20progress\x20and\x20any\x20significant\x20changes.\x0a-\x20Only\x20respond\x20to\x20the\x20user\x20after\x20reviewing\x20and\x20interpreting\x20the\x20results\x20returned\x20by\x20tools.\x0a-\x20Do\x20not\x20answer\x20user\x20questions\x20directly\x20—\x20focus\x20on\x20managing\x20the\x20process\x20and\x20enabling\x20the\x20right\x20tools\x20to\x20respond.\x0a-\x20Communicate\x20clearly\x20using\x20Markdown\x20to\x20structure\x20updates.\x0a-\x20Understand\x20the\x20strengths\x20and\x20limits\x20of\x20each\x20available\x20tool\x20to\x20make\x20informed\x20decisions.\x0a-\x20Decide\x20whether\x20tasks\x20can\x20run\x20in\x20parallel\x20or\x20must\x20be\x20executed\x20sequentially\x20based\x20on\x20their\x20dependencies.\x0a-\x20If\x20a\x20tool\x20fails\x20or\x20returns\x20an\x20error,\x20evaluate\x20alternatives,\x20reassign\x20the\x20task\x20as\x20needed,\x20and\x20inform\x20the\x20user\x20of\x20the\x20adjustment.','VectorDatabaseStats','KeyValueDatabaseTableNameReserved','isPromiseResolved','Data\x20Sent','file-ingest','key-value-database-table-does-not-exist','sendIceCandidates','Invalid\x20data\x20event.','FolderDelete','PromptFunctionParamsType','sync','\x20not\x20found.','cost','handleUnpublishMediaStream','minConnections','topK','true','registerPublisher','connectAgent','endsWith','getRemoteNode','Answer\x20is\x20required\x20and\x20must\x20be\x20a\x20string','VectorDatabaseAlreadyExists','mediaStream','SenderPeerConnection.send','batchQueue','handleContentSubscribeMediaStream','data','Data\x20collection\x20does\x20not\x20exist.','startsWith','authNode','firstValueFrom','job-worker-already-exists','getLastUpdated','lastProcessRank','Failed\x20to\x20send\x20job\x20','CloseKeyValueDatabase','NodeTypeRequired','startLoggingCycle','clear','lastClockUpdate','nodeUpdate','logWaitTime','getTotalBytes','hasTable','issues','transformations','form-skill','Coordinator\x20Agent','JobDispatcherInvalidJobType','text','claude-3-opus-latest','createKeyValueDatabase','No\x20more\x20questions\x20available,\x20call\x20submitForm\x20to\x20submit\x20the\x20form','output_tokens','internalProcessJobStream','handleSubscriptionUnsubscribeMediaStream','removeItem','trackChanges','getJobDispatchers','CloseVectorDatabase','ModelVector','logStorage','Job\x20Dispatcher\x20does\x20not\x20exist','DatabaseEvent','registerDestination','\x20failed.','.rkt','Summary\x20Generator\x20extracts\x20key\x20points,\x20action\x20items,\x20and\x20critical\x20insights\x20from\x20emails\x20and\x20documents.\x0a-\x20Identifies\x20the\x20document\x20type\x20(e.g.,\x20report,\x20legal\x20contract,\x20meeting\x20notes).\x0a-\x20Highlights\x20action\x20items\x20and\x20distills\x20the\x20main\x20takeaways\x20concisely.\x0a-\x20Provides\x20bullet-point\x20executive\x20summaries.\x0a-\x20Uses\x20Markdown\x20for\x20structured\x20formatting\x20with\x20a\x20Summary\x20and\x20Next\x20Steps\x20section.','Invalid\x20where\x20clause','prompt_tokens','Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string','frameTime','outbound-rtp','Vector','ConnectionBufferNotEmpty','onValue','page','Node\x20type\x20is\x20invalid','key-value-database-index-not-found','log','headers','setupConnectionEvents','GenerativeAIContextJobAlreadyConsumed','getMediaStream','Cannot\x20write\x20transaction.','.xlsx','Generic\x20AI\x20Agent','key','isConnected','cachedRoot','KeyValueDatabaseRequestTransactionsValue','\x27\x20in\x20layout','RAG\x20connector\x20is\x20not\x20available','parameters','generic-agent','queryFileConnector','getTracks','utf8','handleError','endpoint','CloseJobDispatcher','authContext','cluster-disconnect','Helps\x20businesses\x20analyze\x20options\x20and\x20make\x20strategic\x20decisions.','.go','authenticateUser','internalContext','removeVectorDatabase','Attribution','onHandshakeStateChange','createJobDispatcher','get','Data\x20cluster\x20is\x20not\x20open.','PubSubTopic\x20onMessage','map','getSettings','framesEncoded','vector','Shared','Id\x20is\x20not\x20valid,\x20call\x20getQuestion\x20first\x20to\x20get\x20the\x20question\x20id','handleConnectionSuccess','totalDecodeTime','write','PromptSource','clusters','Cannot\x20list\x20directory:\x20','ReceiverPeerConnection\x20onMessage\x27\x20-\x20Remote:\x20','options','VectorDatabaseMissingConnector','support','CloseObjectStoreBucket','maxLayer','getTrack','NodeDoesNotExist','tableLayout','Missing\x20index','checkSyncComplete','Error\x20retrieving\x20context','lastCapacityReport','transactionTable','UnpublishMediaStream','next','syncTransactions','sendFileRequestPayload','memoryUsage','UnsubscribeMediaStreamdiaStream','interval','claude-3-5-haiku-latest','removeTopic','start','frameHeight','getCurrentVersion','retryCount','getBuffer','setTransformations','senderTotalMessages','/resources/external-storage/items/','High','Media','hashPeakHashes','Error\x20fetching\x20URL','key-value-database-transaction-value-not-set','aiSearchApiKey','Learning\x20Agent','maxDepth','ClusterAlreadyJoined','sdkValidateAccess','globalObject','failed','SearchPerplexity','addRemoteConnection','addRemoteNode','collectTransactionsFromNode','validateLayout','timesCalled','vector-database-missing-connector','shouldContinuePropagation','async',':\x20Object\x20store\x20is\x20not\x20in\x20sync','No\x20RAG\x20connector\x20available','functions','data:\x20','channel','local-stream-does-not-exist','GenerativeAIWorkerAlreadyExists','.scala','publishSyncCompletedAfterWrites\x20-\x20','capacityReporter','prompts','events','\x20not\x20supported','InputAudioStream','getContent','amd','sendRequest','tableName','remediationManager','Processing','registerSubscriber','ragConnectors','handleSubscriptionProvideMediaStream','roundTripTime','MediaStreamPriority','KeyValueDatabaseNotOpen','accumulated','remoteUnsubscriber','handleRequestPayload','senderBitrate','lastHeartbeat','remediation','PublishMediaStream','onNodeUpdate','createBufferSource','split','1:519415702791:web:5dd39042f881cfde3251a2','getConnectionDestinations','Perform\x20a\x20search\x20on\x20Perplexity\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','getRank','av_delay','setCurrentVersion','SubscriptionRequestFailed','Data\x20collection\x20block\x20is\x20missing\x20required\x20data','JobWorker:\x20Sending\x20job\x20bid','removeRemoteConnection','messagesReceived','DataStream\x20onMessage','Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20','handleUpdateMediaStream','maxResolution','bind','nextNodeId','Request','executeQuery','All','media-stream','optimizationLayers','processPendingSyncTransactions','Handshake','right','model','Remove','getMaxDistance','onMessage','maxFramerate','getNumberOutgoingSubscriptions','generative-ai-context-already-exists','GenerativeAIEngineType','/resources/generative-ai-collection/items','gatheringState','relations','connectionState','CustomSkill','initializeApp','getExternalStorageConnections','query','tracks','setLoggingConnectors','setUpgradeTimeout','/nodes/','NodeManager\x20-\x20NodeUpdate','ObjectStoreStats','1.0.32','getChannelData','ObjectStoreNameNotString','toLocaleDateString','hasOwnProperty','Waiting','FileWrite','issue','logBatch','candidate','Key-value\x20database\x20transaction\x20table\x20not\x20initialized.','Resolution','CanProvideMediaStream','transactionIds','getTransactions','Problem','.html','iceServers','graph-database-already-exists','bufferedChunks','retryCallback','Missing\x20answerer\x20id\x20on\x20request\x20answer','Job\x20service\x20observer\x20not\x20found.','.conf','DataStream','Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.','\x20attempts:','outgoingManager','1RbNUNb','STVolatility','error','eventEmitter','prototype','deleteJob','slice','OfficeParser','990950sOrjEx','height','Execute\x20a\x20SQL\x20query\x20on\x20a\x20file\x20to\x20retrieve\x20data.\x20The\x20query\x20should\x20be\x20designed\x20to\x20extract\x20relevant\x20information\x20from\x20the\x20file.\x20Available\x20table\x20is\x20file\x20and\x20columns\x20are:\x20','object-store-invalid-sync-message','set','handlePeerConnectionSystemEvents','GenerativeAIModelInputType','unsubscribe','getGenerativeAIWorkers','Folder','sendReject','subscriptionRequestTimeouts','debounceProcessRank','onUnregisterPublisher','startHeartbeat','audioSource','enabledChannels','AI\x20Worker\x20already\x20exists','openPubSubTopic','getPartsForSubscriptionLabel','signaling','KeyValueDatabaseContentSynchronized','restartTimeout','Execute\x20skill\x20','checkBackgrounds','Connected','processBatch','operator','hashTransaction','\x20seconds','problem','ExternalStorageStats','renderElement','GraphDatabaseDoesNotExist','contentRequestSent','usage','JobWorkerAlreadyExists','/workflows/','listenUnsubscriber','addBatchOperation','No\x20valid\x20bid\x20responses\x20received\x20in\x20time.','Connection\x20not\x20connected.','WebGL','getEmail','RemoteAdd','statsCollection','question-','openKeyValueDatabase','getQuery','overlap','PubSubTopicAlreadyExists','owner','publishLocalDynamicMediaStream','application/json','bid','image','Queued','Missing\x20AI\x20worker\x20connector','getObjectStoreBuckets','setOnMessageHandler','removeSubscriptionsForNode','content','messageBuffer','Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.','getCurrentMaxLayer','processContentSynchronized','createTopic','getAncestorIds','Disconnected','checkScreenSharing','totalEncodeTime','trackKinds','val','graphDatabases','hasMessage','llama-3.1-8b','enumerateDevices','createSubscription','NodeLeave','threshold','completion_tokens','getOutgoingOptimizationConnections','AISearch','Received\x20content\x20available\x20from\x20node','validateQuery','getShareableStream','retryLimit','getQuestion','getSentences','functionsRegion','getWorkflows','getExternalStorageConnection','getPriority','ready','Competitive\x20Analysis\x20Agent','currentVersion','findNextNodeId','updateLastUpdated','ref','Invalid\x20object\x20store\x20sync\x20message.','addEdge','shouldEmit','delta','evaluatePartialJob','debounceLogTimeout','SenderSendMessage','handleSubscriptionSystemEvents','fromEntries','No\x20global\x20object\x20found','setDisplayName','competitive-agent','engineType','tool-call','Node\x20\x27','/chat/completions','Graph\x20database\x20block\x20is\x20missing\x20required\x20data','removeTrack','registerSystemSource','submitForm','bufferedEvents','lastRemediations','jobId','GenerativeAIContextDoesNotExist','notifyObjectStoreOfNodeLeave','getLabel','Database\x20not\x20open','orchestrator','ObjectStoreInvalidPayload','requestSubscriptionAction','receiverTimeProcessing','onConnectionStateChange','runTransaction','removePubSubTopic','isInternalLoggingConnector','Support:\x20','createBuffer','onChildRemoved','Invalid\x20query','listFiles','.djt','answer','receiverPreviousBytes','GetContextResult','ObjectStoreInvalidPath','mediator','Missing\x20graph\x20database\x20connector','handleContentUnpublishMediaStream','childRemovedUnsubscriber','readyDebounce','Cannot\x20close\x20the\x20SDK\x20while\x20data\x20is\x20being\x20transferred.\x20Use\x20`force`\x20parameter\x20to\x20interrupt\x20the\x20connection','false','accessToken','bufferEvent','handleNodeJoin','timeSending','MerkleMountainRange\x20-\x20appendTransaction\x20-\x20Completed.\x20Root:','Invalid\x20version\x20\x27','DEBUG\x20-\x20','GenerativeAIWorker:\x20Opened','No\x20connections\x20available\x20to\x20send\x20subscription\x20request','Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string','File\x20sending\x20interrupted','clientWidth','receiver-on-message','Error\x20encountered\x20while\x20opening\x20database','GenerativeAIContextCreationFailed','evaluateBidsAndAttributeJob','Archival\x20Search\x20Agent\x20retrieves\x20historical\x20records,\x20archives,\x20and\x20academic\x20sources.\x0a-\x20Identifies\x20the\x20time\x20period\x20and\x20event\x20of\x20interest\x20before\x20searching.\x0a-\x20Searches\x20historical\x20databases,\x20digital\x20libraries,\x20and\x20archives.\x0a-\x20Prioritizes\x20academic,\x20governmental,\x20and\x20reputable\x20historical\x20sources.\x0a-\x20Provides\x20contextual\x20insights\x20linking\x20historical\x20events\x20to\x20modern\x20interpretations.\x0a-\x20Summaries\x20include\x20timeframes,\x20key\x20figures,\x20and\x20events,\x20with\x20a\x20References\x20section.','word-splitter','isNodeReady','limit','mute','Cluster\x20already\x20joined','SearchGoogle','Channel\x20\x27','openExternalStorageConnection','operations','160PeRpTV','getLocalId','getSenderTotalBytes','Tool','onRemoveTrack','scheduleTime','Upgrade','Detection','/resources/generative-ai-workflow/items/','Optimization','writeBatch','node-type-required','Online','.awk','hasRemoteNode','getDatabase','Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream','createAnswer','\x20-\x20Sending\x20propagation\x20(','CloseExternalStorageConnection','GenerativeAIContextJobInvalidType','hashNodes','index','Local\x20MediaStream\x20already\x20exists','createOutgoingSubscription','publish','ObjectKind','openVectorDatabase','audioContext','parseWorkflowBlocks','undefined','logger','configs','addBidResponse','NodeManager\x20-\x20ConnectionSuccess','queryCollection','InvalidPublisher','local-media-stream-no-audio-context','/objectstores/','input-audio-stream','name','unsubscribeTrackEndedListener','discoveryService','getWorkflow','/vector_stores/','nodes','Copywriter\x20Agent\x20creates\x20engaging,\x20high-quality\x20written\x20content\x20for\x20marketing,\x20blogs,\x20and\x20advertisements.\x0a-\x20Identifies\x20the\x20purpose\x20and\x20audience\x20before\x20generating\x20text.\x0a-\x20Follows\x20brand\x20tone\x20and\x20voice\x20guidelines\x20if\x20provided.\x0a-\x20Generates\x20SEO-optimized\x20and\x20persuasive\x20content\x20for\x20different\x20formats.\x0a-\x20Ensures\x20all\x20writing\x20is\x20original\x20and\x20avoids\x20generic\x20phrases.\x0a-\x20Structures\x20blog\x20articles\x20with\x20headers,\x20ad\x20copy\x20with\x20a\x20headline-body-CTA\x20format.','feedback-agent','ConnectionNotinitialized','\x0a\x20\x20===\x20MMR\x20Computation\x20Time:\x20','object-storage','batchSize','Node\x20not\x20authenticated','document-parser','files','totalNodes','output-audio-stream','Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream','handleRemediationSystemEvents','accumulateResult','entity-extractor','concat','Offer','graph-database-creation-failed','limitToFirst','waitSendBuffer','rank','supported','Recording','output','senderCurrentTimestamp','kind','\x0a\x0adata:\x20','Invalid\x20data\x20channel.','Early\x20return','KeyValueDatabaseInvalidQuery','Update','topicLabel','getName','logLevel','AgentSkill','displayName','Error\x20closing\x20trace','load','isMediaSource','GetContextQuery','videoHeight','21a9d78dee97f487b','estimatedPlayoutTimestamp','dataUnsubscribers','>\x0a\x0a','Parameter\x20','has','Account','KeyValueDatabaseStats','messageUnsubscriber','text/','getDisplayName','getBitrate','run','AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','update','getGenerativeAIContexts','Amplify','processRank','MediaStream','Job\x20service\x20creation\x20failed.','tools','getLocalMediaStream','removeIncomingSubscription','MediaStream\x20feature\x20not\x20enabled','agent-skill','workflow-does-not-exist','ConnectionGroup','jobBids','detectionManager','Restart\x20NeedMediaStream','summary-generator','searchConnector','WordSplitter','chunk-splitter','some','Invalid\x20credentials','senderTimeProcessing','timeoutCallback','JobWorkerCreationFailed','setVendorId','StorageEventType','deletePendingFile','\x20created\x20and\x20dispatched.','reads','SystemTopic\x20publish','ChunkSplitter','relation-extractor','createWritableStream','upgrade','List','request-file','\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.','\x20after\x20','Model\x20output\x20type\x20is\x20vector\x20but\x20input\x20is\x20not\x20an\x20index','Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key','Transaction','modelId','Invalid\x20job\x20worker\x20type.','.info/connected','invalid-subscriber','publishSystemMessage','sendPeakTransactions','@context.','Base\x20Peer\x20Connection','sentence-splitter','Missing\x20AI\x20search\x20API\x20key','handleSystemEvents','object-store-invalid-state','getRoundTripTime','jobQueue','.cs','_isReady','Database\x20does\x20not\x20exist','temperature','2-digit','waitForArrayBufferSize','contextInputVariable','Unsupported\x20job\x20type','handleContentUpdateMediaStream',',\x20Transactions:\x20','Received\x20ContentSynchronized\x20from\x20','ExecuteAgent','setupListeners','pub-sub-topic-already-subscribed','syncContent','Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','FormSubmitForm','sourceVideo','object-store-not-synced','buildInitialMMR','tokens','Remote\x20connection\x20already\x20exists.','missing-system-topic','https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','Trend\x20Spotter','object-store-name-not-string','.clj','Bid','captureStream','Blank\x20Agent','handleHandshake','Invalid\x20key\x20\x27','senderCurrentBytes','invalid-access','processLocalReport','Boolean','startTime','Error\x20committing\x20batch:','ModelText','trackCallback','ObjectStoreDoesNotExist','getVectorDatabase','nodesConnected','keys','object','connection-invalid-data-event','key-value-database-invalid-layout','thread-','setBytes','minResolutionScale','isWhereValue','upgradeTimeout','0\x20B','processSenderReport','receiverCurrentBytes','element','JobQueueService:\x20Running\x20job','nodeId','\x20with\x20','VectorDatabaseDoesNotExist','getSTVolatility','objectStores','Processing\x20agent\x20block:\x20','downgrade','path','manageAncestor','senderConnection','.js','vector-database-does-not-exist','GenerativeAILabelConflict','parseWorkflowDocument','updated','processReceivedTransactions','processJobStream','currentTimestamp','createSenderConnection','toStringTag','return\x20this','text-embedding-3-small','/logs','createGenerativeAIContext','generativeAIContexts','observer','notifyClusterNodeUpdate','handleNodeDisconnect','JobWorkerInvalidType','length','executeJavascriptCodeSnippet','graph-database-name-not-string','job-worker-does-not-exist','account','/resources/generative-ai-collection/items/','clusterEventEmitter','complete','ReadableStream\x20is\x20not\x20supported','key-value-database-not-open','vectorDatabases','\x20sending\x20attempt\x20','generative-ai-worker-model-sync-error','canRestartHandshake','transactionsToSync','destinationIds','queryFile','JobWorker:\x20Tracing\x20not\x20implemented','Form\x20is\x20not\x20completed,\x20call\x20setAnswer\x20first','Execute\x20the\x20agent\x20','GraphDatabase\x20not\x20found','test-page','crewdle-sdk.appspot.com','setLocalRank','/capacities','ragApiKey','GenerativeAIContextAlreadyExists','getAncestors','addProblem','ranges','getConnectionType','active','addCluster','params','Cannot\x20create\x20Vector\x20Database:\x20Name\x20must\x20be\x20a\x20string','handleSubscribeMediaStream','RequestFile','handleObjectMove','score','initialize','\x0a\x20\x20===\x20New\x20MMR\x20Root:\x20','ApiKeyMissing','WebScraperRaw','openObjectStoreBucket','cancel','models','createJob','addPendingHandshakeCandidate','LocalMediaStreamAlreadyExists','move','setPriority','KeyValueDatabaseTransactionValueNotSet','getAvailableTrackKinds','WebRTC','Generative\x20AI\x20context\x20creation\x20failed.','retryQueue','Key-Value\x20Database\x20-\x20Sync\x20Completed','dispatchEvent','MissingRemoteConnection','clearOncloseTimeout','clearSyncTimeout','getSimilarity','The\x20system\x20topic\x20has\x20not\x20been\x20registered.','\x27\x20in\x20table\x20\x27','pubSubTopics','supports','getDataLogged','GraphSearch','OptimizationConnectionSuccess','Logger.getInstance','sourceId','trace','AudioContext\x20is\x20not\x20available','GraphDatabaseCreationFailed','default','Downgrade','Key-value\x20database\x20creation\x20failed.','startTracing','detectLocalIssues','eventListener','Interviewer\x20Agent','addEventListener','Llamacpp','Remote\x20stream\x20does\x20not\x20exist.','JobWorkerDoesNotExist','streamId','format','getLocalNode','KeyValueDatabaseTableDoesNotExist','.dart','\x20to\x20send\x20dispatcherJob\x20','onNodeDisconnect','vector-database','setEmail','pub-sub-topic-does-not-exist','remote-stream-missing-provider-id','outgoingTopic','PayloadAction','.xls','91tdLfWx','handleNoAnswer','getReceiverTotalBytes','status','checksum','reasoning','Restart','featureSupport','handleFileSync','propagate','agentId','Outgoing','mergeParts','Competitive\x20Analysis\x20Agent\x20tracks\x20competitors\x27\x20products,\x20pricing,\x20and\x20market\x20strategies.\x0a-\x20It\x20first\x20identifies\x20competitors\x20and\x20analysis\x20aspects\x20(e.g.,\x20pricing,\x20features,\x20marketing).\x0a-\x20Collects\x20insights\x20from\x20public\x20reports,\x20websites,\x20and\x20customer\x20reviews.\x0a-\x20Provides\x20a\x20structured\x20comparison\x20highlighting\x20strengths,\x20weaknesses,\x20and\x20differentiators.\x0a-\x20Uses\x20a\x20SWOT\x20analysis\x20format\x20when\x20applicable.\x0a-\x20Presents\x20competitor\x20data\x20in\x20tables\x20with\x20a\x20Data\x20Source\x20&\x20Timestamp\x20section.','folder-create','Failed\x20to\x20get\x20file','SyncKeyValueDatabasse\x20-\x20Waiting\x20for\x20ancestors','createMediaStreamSource','uid','JobWorker:\x20Error\x20getting\x20cores\x20from\x20capacity\x20report','Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','debounceReadyTimeout','\x20-\x20','JobContext','file-download','JobWorker:\x20Received\x20job\x20request','isChannelEnabled','Goal:\x20Fill\x20out\x20the\x20form\x20using\x20only\x20the\x20provided\x20tools.\x0a\x0aRules:\x0a-\x20Always\x20call\x20getQuestion\x20to\x20retrieve\x20the\x20current\x20question\x27s\x20details.\x0a-\x20Only\x20ask\x20what\x20getQuestion\x20returns\x20you\x20—\x20no\x20guessing,\x20no\x20extras.\x0a-\x20Use\x20the\x20question\x27s\x20details\x20to\x20ask\x20a\x20clear,\x20human\x20question.\x0a-\x20Do\x20not\x20mention\x20formatting\x20or\x20validation\x20rules.\x0a-\x20Ask\x20only\x20one\x20question\x20at\x20a\x20time.\x0a-\x20Always\x20validate\x20the\x20answer\x20using\x20the\x20current\x20question\x27s\x20details\x20from\x20getQuestion.\x0a-\x20If\x20the\x20answer\x20is\x20valid\x20or\x20can\x20be\x20auto-corrected\x20(e.g.\x20trim,\x20format),\x20call\x20setAnswer(questionId,\x20value).\x0a-\x20If\x20the\x20answer\x20is\x20not\x20valid,\x20gently\x20ask\x20the\x20user\x20to\x20try\x20again\x20—\x20no\x20tech\x20talk,\x20no\x20rule\x20references.\x0a-\x20Call\x20submitForm\x20when\x20getQuestion\x20returns\x20\x22No\x20more\x20questions\x20available\x22.\x0a-\x20Never\x20call\x20more\x20than\x20one\x20tool\x20at\x20a\x20time.\x0a\x0aAvailable\x20Tools:\x0a-\x20getQuestion:\x20to\x20retrieve\x20the\x20current\x20question\x27s\x20details.\x0a-\x20setAnswer:\x20to\x20set\x20the\x20answer\x20to\x20the\x20current\x20question\x20and\x20move\x20to\x20the\x20next\x20question.\x0a-\x20submitForm:\x20to\x20submit\x20the\x20form\x20when\x20all\x20answers\x20have\x20been\x20answered.','collection-create','Agent\x20block\x20is\x20missing\x20required\x20data:\x20','ReceiverOnMessage','DataChannel\x20send\x20error','Generative\x20AI\x20context\x20invalid\x20partial\x20result.','clusters/','GenerativeAIContextInvalidPartialResult','tool','setDoc','GenerativeAIWorkerMissingConnector','Strategizing\x20Agent','peer-connection-invalid-destination','processContentAvailable\x20-\x20Peak\x20comparison:','onTrack','notifyObjectStoreOfNodeJoin','remote-stream-does-not-exist','resetConnection','getBufferedAmount','unpublish','Model\x20not\x20found','handleNodeLeave','title','createPendingFileWrite','indexOf','version','SubscriptionRequestDoesNotExist','SenderPeerConnection\x20send','Generative\x20AI\x20context\x20job\x20already\x20consumed.','ObjectStoreNotInSync','Collects\x20and\x20summarizes\x20market\x20trends\x20from\x20various\x20sources.','realtime-session-create','NodeManager\x20-\x20PublishNodeLeave','notifyJoin','GenerativeAITracing\x20-\x20Error\x20while\x20closing\x20trace','Rejected','setOnTableWriteHandler','createGenerativeAIWorker','registerSource','isSyncing','closed','crewdleSDKLoggingChannels','gpu','sendTransactionsValue','replaceTrack','MissingSystemTopic','setSinkId','debounceAppendLog','KeyValueDatabaseInvalidValue','Database\x20already\x20exists','processList','Invalid\x20value.\x20Property\x20\x27','generative-ai-context-invalid-partial-result','handleNodeJoinNeedPublishedStream','gpt-4o','user-join','ExternalStorageInvalidPath','setAnswer','ingestBlocks','Wait','Execute\x20the\x20workflow\x20','writeFile','receiverCurrentTimestamp','defineProperty','setParams','FinalOutput','Cluster','canvas','text/plain','key-value-database-invalid-value','RequestAccepted','threadId','ObjectStoreAlreadySubscribed','JobDispatcherJobExists','getPeaks','router','\x20is\x20required','Before\x20Synchronization','web-scraper-raw','request-file-sync','out','From\x20','.exs','ExternalStorage','getOwnerId','Unknown\x20skill\x20type','deleteObject','PromptRating','PeerConnection','startIndex','if_else','getCapacityReport','gain','registerSystemPublisher','evaluateProccessedJob','handleAnswer','trackListeners','crewdle-sdk.firebaseapp.com','filter','parentId','.crewdle-layout','shared','connectionManager','Text','RemoteRemediation','external-storage-connection-does-not-exist','More\x20content\x20available\x20on\x20page\x20','packetsSent','Executes\x20precise\x20and\x20efficient\x20searches\x20using\x20available\x20tools\x20to\x20retrieve\x20relevant\x20information.','publishUserUpdate','ExecuteWorkflow','handleSubscriptionRestartNeedMediaStream','InternalSDKError','GenerativeAIWorker:\x20CollectionDelete\x20failed','GenerativeAIContextJobFailed','updateUser','.ejs','generative-ai-worker-already-exists','KeyValueDatabase\x20not\x20found','us-east-1','commitTrace','collection-delete','pendingFilesRename','bitrate','Internal\x20error:\x20','searchApiKey','getRemoteMediaStreams','getEstimatedTimestamp','ragConnector','client','LocalMediaStreamDoesNotExist','Summary\x20Generator','.hbs','November\x202024','agent-update','appendTransactionAndUpdateHashMap','clearUpgradeTimeout','Model\x20ID\x20is\x20required\x20for\x20Embed\x20block','SHA-1','WriteFile','Set\x20the\x20answer\x20to\x20the\x20current\x20question.','send','Received\x20request\x20for\x20transactions\x20value.\x20Sending\x20','Pending','Issue\x20detected:\x20','parse','createVectorDatabase','Opened\x20generative\x20AI\x20worker','external-storage-upload','Connection\x20already\x20exists','stop','comparePeaks','unsubscribeHandler','query-generator','graph-database','Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed','generativeAIWorkerConnectors','request-accepted','en-US','FPS','handleContentCloseMediaStream','ObjectStoreAlreadyExists','openGenerativeAIWorker','CPUCycle','connectionTimeout','\x27\x20is\x20not\x20ready','digest','Relation\x20extractor\x20block\x20is\x20missing\x20required\x20data','Invalid\x20key','oidc','fileConnector','POST','publishMove','httpsCallable','ancestors','Remediation','decode','DataChannel\x20buffer\x20is\x20full.','setConnectionType','\x20must\x20be\x20a\x20boolean','writes','addAudioTrack','subscribedTracks','Local\x20node\x20rank\x20is\x20not\x20set','receiverUnsubscribers','contentRect','entries','Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20','clearConnectionTimeout','Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27','createConstantSource','time','committed','AudioVideoDelay','streams','Offline','job-dispatcher-job-not-found','getRemoteConnections','file.content','getFunctions','Coordinates\x20and\x20orchestrates\x20the\x20execution\x20of\x20tasks\x20and\x20workflows.','queryParameters','endpointUrl','\x20does\x20not\x20support\x20content\x20type\x20','GenerativeAIContextStats','push','Id\x20is\x20required\x20and\x20must\x20be\x20a\x20string,\x20call\x20getQuestion\x20first\x20to\x20get\x20the\x20question\x20id','hasTracks','ObjectStorage','localMediaStreams','receiverBitrate','KeyValueDatabaseCreationFailed','workflow-tool','getTransactionByHash','PubSubTopicDoesNotExist','Entity','syncKeyValueDatabase','JobWorker:\x20Received\x20job\x20attribution','framerate','Invalid\x20value.\x20Must\x20be\x20an\x20object.','JobDispatcherInvalidPayload','.tpl','json','indexes','firebaseConfig','Workflow\x20output\x20is\x20not\x20a\x20string','getJobWorkers','getSupportedContentTypes','systemMessages','Synced','/resources/generative-ai-agent/items','CloseGraphDatabase','Missing\x20transaction\x20id','openJobWorker','retryDelay','Completed','Perform\x20a\x20search\x20on\x20Google\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','SubscriptionRequestNoAnswer','removeRemoteMediaStream','serverTimestamp','UpdateMediaStream','cpu.time_per_frame','Send\x20request','Subscription','createPubSubTopic','.py','job-dispatcher-job-exists','IntermediateOutput','checkWebGL','processDataChannelReport','Copywriter\x20Agent','setupRenderElement','arguments','setEncodingParameters','Invalid\x20params','Feedback\x20Agent\x20specializes\x20in\x20collecting\x20structured\x20feedback\x20through\x20dynamic\x20Q&A\x20interactions.\x0a-\x20It\x20identifies\x20the\x20type\x20of\x20feedback\x20needed\x20(e.g.,\x20product\x20experience,\x20service\x20quality,\x20event\x20review).\x0a-\x20It\x20asks\x20specific,\x20unbiased,\x20and\x20concise\x20questions\x20sequentially.\x0a-\x20Adjusts\x20follow-up\x20questions\x20dynamically\x20based\x20on\x20responses.\x0a-\x20Categorizes\x20responses\x20into\x20themes\x20if\x20applicable.\x0a-\x20Provides\x20a\x20structured\x20summary\x20at\x20the\x20end.\x0a-\x20Never\x20asks\x20leading\x20or\x20suggestive\x20questions.\x0a-\x20Uses\x20Markdown\x20formatting\x20for\x20clarity.','send\x20error\x20on\x20','Retrieve\x20the\x20current\x20question\x20from\x20the\x20form.','generative-ai','GenerativeAIRatingStatus','apiUrl','commitLevel','sendChunked','handleFileRequest','processTransactionsToComputeMMR\x20-\x20All\x20transactions\x20are\x20appendable.\x20Append:\x20','Cannot\x20publish\x20folder:\x20','external-storage-name-not-string','remote-media-stream-invalid-subscription-params','GenerativeAITracing\x20-\x20trace\x20is\x20not\x20open','getTotalNodes','isMediaDestination','jobType','GenerativeAIRagType','decodeJWT','ceil','localNode','getGraphDatabase','call','targetId','getEnabledChannels','shift','cluster-leave','getObjectStoreBucket','isLoaded',',\x20Total\x20Nodes:','Analyze\x20the\x20following\x20input\x20and\x20only\x20output\x20a\x20JSON\x20object\x20with\x20key\x20\x22condition_result\x22\x20(true\x20or\x20false).\x0a-\x20No\x20text\x20other\x20than\x20the\x20JSON\x20object.\x0a\x0aExample\x20Output:\x0a{\x0a\x20\x20\x22condition_result\x22:\x20true\x0a}','vectorDatabaseConnector','getConnectionGroup','openGenerativeAIContext','GenerativeAIInferenceToolType','asc','agentConfig','resizeHandler','removeRemoteNode','localId','getRoot','setOnDisconnectHandler','signalingServer','.info/serverTimeOffset','play','Generates\x20marketing\x20copy,\x20blog\x20articles,\x20and\x20ad\x20content.','connections','registerRemoteNode','list','handleOnMessage','.lua','Invalid\x20subscriber.','\x0a</','.ipynb','GenerativeAIWorker:\x20FileDelete\x20failed','content-publish-media','setIsLoaded','append','FS\x20connector\x20is\x20not\x20available','total','pendingFilesTransactions','senderStreams','currentBytes','WorkflowDoesNotExist','frames','connectionType','Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.','Key-value\x20database\x20transaction\x20value\x20not\x20set.','mediaTopics','getJobObservable','isComputingMMR','previous','rebuildMMR','successNotified','commitBatch','sendAction','InvalidSubscription','closeTrace','developers/','KeyValueDatabaseNameNotString','objectRequests','createMediaStreamDestination','created','jobWorkers','job-dispatcher-invalid-job-type','isOffer','processContentAvailable','appsync-disconnect','remoteNodes','MistletCapacityReportNotSet','Node\x20type\x20is\x20required','SyncKeyValueDatabase\x20-\x20Ancestors\x20','deleteFileChunks','.groovy','Get','includes','October\x202023','externalStorageConnections','result','Subject','\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number','packets','blocks','Stream\x20does\x20not\x20exist','NodeConnectionsUpdate','stopTracing','minRelevance','file-delete','trackEndedListeners','https://api.stg.crewdle.ai','getMaxConnections','closeConnection','GenerativeAIWorkerCreationFailed','handleCloseContent','learn-agent','RequestFileSync','handshakeState','timestamp','peakHeights','setReportCapacity','Accepted','.jinja','DTVolatility','Everyone\x20','graphql','generative-ai-context-job-failed','maxBitrate','ExternalStorageUpload','durationTime','catch','removeKeyValueDatabase','signInWithCredential','.bat','dbKey','padStart','Cannot\x20unpublish\x20object\x20at\x20','abs','invalid-publisher','ObjectStoreInvalidState','previousBytes','maxOutgoingSubscriptions','\x20with\x20response:','handleDetectionSystemEvents','fetchUrl','app','Error\x20reading\x20file\x20chunk\x20after\x20','setupTrackEndedListeners','.hs','\x20received\x20responses:','RemoteMediaStreamAlreadyExists','.php','searchInDataCollection','getReceiverBitrate','Writable\x20stream\x20is\x20missing','Subscription\x20request\x20has\x20not\x20been\x20answered.','Logging\x20not\x20enabled\x20for\x20channel\x20','handleLocalTrackFailure','onGatheringStateChange','Workflow','RelationExtractor','chunksReceived','updateLastTransactionId','detectStreamIssues','appendTransaction','sequence','systemMessagesReceived','/developers/','processPendingHandshakeCandidates','CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','isWhereValues','values','job-dispatcher-already-exists','_ready','AI\x20Service\x20already\x20exists','getJobs','loggingConnectors','Invalid\x20layout:\x20','required','callback','receiverConnection','GenerativeAITracing\x20-\x20Error\x20while\x20committing\x20trace','embed','OutputAudioStream','text-embedding-3-large','text/event-stream','Job\x20Dispatcher\x20already\x20exists','JobType','pubsub','removeLocalMediaStream','AudioContext','instructions','Error\x20executing\x20agent','publishNodeJoin','Method\x20not\x20supported','instantiateTransactionTable','executeAgent','subscriptionRequests','DeviceConfig','query-file','updateDebounce','getVideoTracks','getJob','appsync-close','Support','docs','FROM\x20file','buildQuery','JobWorker:\x20Handling\x20job\x20attribution','Index','senders','clearWaitAnswer','KeyValueDatabaseRequestPeakTransactions','FolderMove','statsManager','peer-connection','FileStatus','.css','publishSyncCompleted','discoveryUnsubscriber','handleSubscriptionNeedMediaStream','GenerativeAITaskType','off','removeNode','Search\x20Agent','chosenAnswers','choices','getPartsFromSubscription','problemType','connectorConstructor','updateDebounceTimeout','554962lBKmEZ','findIndex','Add','closeSubscription','user','state','Invalid\x20subscription.','AI\x20worker\x20creation\x20failed.','not-resolved','Number','NodeNotAuthenticated','processReceiverReport','Sender','https://crewdle-sdk-stg-default-rtdb.firebaseio.com','topics','getRemoteNodes','26541264VgEUJq','hash','\x27\x20from\x20','AI\x20Search\x20connector\x20not\x20set','pendingFilesSyncing','Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user','/transactions/lastTransaction','getDistance','If\x20you\x20know\x20the\x20answer,\x20call\x20setAnswer\x20to\x20set\x20the\x20answer','Object\x20store\x20connector\x20is\x20not\x20available','Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number','debounceRebuildMMRWithTransaction','inbound-rtp','clientStream','Warning','Upload','IngestTrace','Conducts\x20interviews\x20and\x20gathers\x20information\x20based\x20on\x20the\x20form\x20tools.','logServiceEvent','Invalid\x20job\x20service\x20payload.','processTransactionsToComputeMMR','Could\x20not\x20open\x20trace','Search\x20in\x20data\x20collection\x20','track','signInWithCustomToken','Method\x20not\x20implemented.','objectStoreConnector','type','success','description','getMinConnections','job-','recomputeRoot','handleJobAttribution','trim','PubSubTopic\x20publish','Invalid\x20table\x20name\x20\x27','Received\x20sync\x20required.\x20Database\x20available:\x20Checking\x20synchronization','joinedAt','WebRTCBrowserPeerConnectionConnector','KeyValueDatabase\x20-\x20Sync\x20completed','Apply\x20remediation','getDocs','LoadKnowledgeFunction','addConnection','RestartNeedMediaStream','detectProblems','lastExecuted','Node','cluster-already-joined','executeWorkflow','node','JobStream','dataChannel','propn','deleteTransactionsForTable','April\x202024','KeyValueDatabase','timePerFrame','listenerUnsubscriber','GenerativeAIContextJobTimeout','video','authenticateAgent','Events','debounceStats','sendStats','\x20failed.\x20Retrying...','getTrackFromParam','Operations:','availableTrackKinds','connectionPool','Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20','keyPath','toString','publishFolder','getInternalTrackParams','/jobs','messageListeners','getInstance','offset','validateAccess','GenerativeAIWorkerStats','input_tokens','system-stats','object-store-invalid-path','getNextTargetRank','disconnect','Initial\x20MMR\x20built\x20with','VectorDatabaseNameNotString','user-update','OpenAI','setItem','calculateSize','peerConnectionConnector','mediaDevices','removeConnection','rejectReady','Job\x20service\x20job\x20not\x20found.','Debug','history','connection-not-initialized','.swift','width','getRemoteId','removeOutgoingSubscription','DocumentParser','String','jobObservers','destination','FormSkillSetAnswer','entities','isNeedRestart','disconnected','file-list','resolutionScale','queueLength','handleChunkMessage','Incoming','findNewMediaSubscription','setRemoteNode','AppSync\x20connection\x20not\x20ready','crewdleSDKEnableLogging','removeSubscription','openJobDispatcher','CannotProvideMediaStream','DataStream\x20send','Knowledge','GenerativeAITracing\x20-\x20job\x20id\x20not\x20found','handleOutgoingSystemEvents','AudioVolume','bodyParameters','Result','commitType','DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found','Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20','previousFrames','Cannot\x20get\x20file:\x20External\x20Storage\x20not\x20connected','ENOENT','agent','getPubSubTopics','unregisterCluster','messageType','collectStats','Vector\x20database\x20creation\x20failed.','\x0a\x20===\x20Synchronization\x20Time:\x20','unregisterSource','Invalid\x20peer\x20connection\x20event\x20destination.','relevance','dataStores','filename','Success','isBidResponse','external-storage-connection-already-exists','internalJob','.sql','\x20must\x20be\x20a\x20valid\x20JSON\x20string','FormSetAnswer','clockSkew','buildTableEvent','subscriptions','key-value-database-creation-failed','Agent','object-store-invalid-payload','.vue','inputType','msalRefreshToken','Chosen\x20answer','June\x202024','Pinecone','o3-mini','endpointMethod','waitConnected','unregisterRemoteNode','isRunning','\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','forceLog','Embeddings','1119351hVacym','Sending\x20\x27','FetchUrl','size','fileSendingMap','orderByKey','knowledgeCutoffDate','Error\x20executing\x20code','1.0.32.0','/nodes','take','AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','videoWidth','deleteRemoteNode','ExternalStorageConnectionAlreadySubscribed','find','\x20completed.','closeTopic','Model','chunks','checkMediaRecording','WaitTrue','request-file-write','getConnections','number','KeyValueDatabaseIndexNotFound','publishFile','api','setupStatsCollection','Node\x20is\x20not\x20an\x20agent','NeedRestart','system','handleOptimizationConnectionSuccess','connectionConstructor','request','Received\x20request\x20for\x20peak\x20transactions.\x20Sending\x20Transactions.','setupStatsReporting','getDataCollections','subscribe','key-value-database-does-not-exist','signalingState','ScreenSharing','Routes\x20messages\x20based\x20on\x20conditional\x20logic.','Job','Code','connectionGroup','DataCollectionDoesNotExist','left','handleSuccess','receiver','contentMediator','Knowledge\x20Cutoff\x20Date:\x20','count','canProvideResolution','contextOutputVariable','open','node-not-authenticated','openTrace','.json','waitAnswer','VectorSearch','\x20MB','value','loadFromDisk','/resources/agent/items/','manageOptimization','nodeManager','Vector\x20database\x20block\x20is\x20missing\x20required\x20data','openGraphDatabase','mmr','processTransactionPayload','cpu.fps','createAIJob','filteredDestinationIds','getEntities','message','bytesReceived','maxFps','oncloseTimeout','clearWaitSuccess','.mustache','removeExternalStorageConnection','validateValue','statsReport','all','RetrieveTrace','handleOffer','drawImage','encode','Workflow\x20does\x20not\x20exist.','removeGraphDatabase','vector-database-creation-failed','JobDispatcherJobNotFound','where','Failed\x20to\x20commit\x20batch\x20after\x20retries:','ConnectionNoRetryQueue','\x0a\x20===\x20Total\x20Data\x20Received:\x20','loop','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process\x20with\x20not\x20all\x20ancestors\x20connected.','processJob','Answer','KeyValueDatabaseSyncRequired','Embed','getPeakNode','isArray','getDataCollection','\x20failed\x20to\x20receive\x20a\x20valid\x20bid\x20responses\x20in\x20time.','openAIKey','handleDisconnect','getUserMedia','computeHash','answer-','Helps\x20users\x20construct\x20optimized\x20SQL\x20or\x20NoSQL\x20queries.','graph-database-does-not-exist','\x20with\x20\x27','All\x20recipients\x20already\x20received','wait','Sync\x20completed','getProviderId','reportMetric','connection-not-connected','Query\x20must\x20refer\x20to\x20the\x20file\x20table','https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','disconnectCallback','keyValueDatabaseConnector','floor','url','orderBy','/jobs/','\x20must\x20be\x20a\x20number','node-already-exist','Extracts\x20key\x20points\x20from\x20long\x20documents\x20and\x20emails.','processReports','join-cluster','flatMap','hasBufferedData','Bitrate','.txt','Missing\x20vector\x20database\x20connector','Invalid\x20content\x20type','unregisterPublisherListener','logSyncMetrics','logPropagateSystemEvent','calculateArrayBufferSize','unsubscribeListener','removeJobWorker','collectionId','statusText','checkAudioContext','Remote\x20MediaStream\x20already\x20exists','newPath','.jsx','ObjectStoreInvalidSyncMessage','publishSyncCompletedAfterWrites','stopNoThrottlingHack','Error\x20searching','pub-sub-topic-name-not-string','createLocalDynamicMediaStream','setRank','batchTimeout','Connection','OutgoingSubscription','Jitter','Search','\x27\x20payload:','getRemoteMediaStream','rate','expectedTransactions','createGraphDatabase','ExternalStorageConnectionDoesNotExist','Receiver\x20connection\x20is\x20not\x20initialized.','if-else-router','getAuth','externalStorageConnectors','Partial','Dedicated','receiverPreviousTimestamp','unregisterPublisher','string','saveToDisk','getApp','receiverStreams','answererId','graph-database-missing-connector','applyRemediation','Model\x20output\x20type\x20is\x20text\x20but\x20input\x20is\x20not\x20text','performCalculation','cpu.cycle','key-value-database-transaction-table-not-initialized','appsync-connect-fail','packetsLost','storageType','everyone','listenerUnsubscribers','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process','EntityExtractor','PubSub','runJobQueue','Context','failJob','mistlet-capacity-report-not-set','New\x20MMR\x20Root:\x20','Rating','Internal\x20unknown\x20error:\x20','subscription-request-failed','We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set','FormGetQuestion','MediaStreamUnavailable','KeyValueDatabaseContentAvailable','Router','JobWorker:\x20Sending\x20job\x20result','WorkflowInvalidBlockType','isReady','addReservedTables','Job\x20with\x20id\x20','collectReceiversStats','invalid-subscription','suspended','VectorDatabase','setScheduleTime','secheduleTime','Table\x20not\x20found','syncTimeout','VectorDatabase\x20not\x20found','[DONE]','function','debug','lastTransactionId','LocalMediaStreamTrackFail','jitter','Trend\x20Spotter\x20gathers\x20current\x20market\x20trends\x20from\x20reports,\x20social\x20media,\x20and\x20industry\x20news.\x0a-\x20It\x20identifies\x20the\x20market\x20of\x20interest\x20before\x20conducting\x20a\x20web\x20search.\x0a-\x20Provides\x20an\x20executive\x20summary\x20followed\x20by\x20detailed\x20insights.\x0a-\x20Lists\x20verified\x20statistics\x20and\x20their\x20sources.\x0a-\x20Always\x20states\x20the\x20date\x20of\x20information\x20and\x20suggests\x20verification.\x0a-\x20Summaries\x20are\x20structured\x20under\x20Key\x20Trends,\x20Market\x20Growth,\x20and\x20Consumer\x20Preferences.','jobs','clearRestartTimeout','No\x20parameters\x20provided','WorkflowTrace','KeyValueDatabaseDoesNotExist','NodeUpdate','getDisplayMedia','.crewdle-transactions','questions','data-collection-does-not-exist','server','onCandidate','getResolutionScale','rating','local-media-stream-already-exists','context','joinCluster','createBatchOperation','Error','.liquid','createExternalStorageConnection','IncomingSubscription','joinedClusters','waitSuccess','external-storage-invalid-path','removeObjectStore','Attempt\x20','subscribeToJobs','connector','URL\x20is\x20required','generative-ai-context-creation-failed','missing-incoming-connection','resolution','crewdle-sdk-logging-','readyPromises','providerId','-leave','graphDatabaseConnector','skipEncryption','Skill','setInterval','onDataChannel','getSize','clearHeartbeat','checkMediaStream','getReport','remoteMediaStreams','ReceiverPeerConnection.onMessage'];a0_0x5ad5=function(){return _0x21f452;};return a0_0x5ad5();}(function(_0x57335f,_0x3a6a41){const _0x435b4b=a0_0x395e,_0x456418=_0x57335f();while(!![]){try{const _0x29911f=parseInt(_0x435b4b(0x2a7))/0x1*(parseInt(_0x435b4b(0x6b6))/0x2)+-parseInt(_0x435b4b(0x777))/0x3+parseInt(_0x435b4b(0x9e1))/0x4*(parseInt(_0x435b4b(0x360))/0x5)+parseInt(_0x435b4b(0x9d2))/0x6*(-parseInt(_0x435b4b(0x4b6))/0x7)+-parseInt(_0x435b4b(0xa9))/0x8*(-parseInt(_0x435b4b(0x13b))/0x9)+-parseInt(_0x435b4b(0x2af))/0xa*(-parseInt(_0x435b4b(0xe1))/0xb)+-parseInt(_0x435b4b(0x6c6))/0xc;if(_0x29911f===_0x3a6a41)break;else _0x456418['push'](_0x456418['shift']());}catch(_0x217e52){_0x456418['push'](_0x456418['shift']());}}}(a0_0x5ad5,0x8d970),!function(_0x5a5ea2,_0x983106){const _0x23158f=a0_0x395e;if('object'==typeof exports&&_0x23158f(0x429)==typeof module)module[_0x23158f(0xa5)]=_0x983106();else{if(_0x23158f(0x858)==typeof define&&define[_0x23158f(0x247)])define([],_0x983106);else{var _0x2bbf2c=_0x983106();for(var _0x23fa69 in _0x2bbf2c)(_0x23158f(0x429)==typeof exports?exports:_0x5a5ea2)[_0x23fa69]=_0x2bbf2c[_0x23fa69];}}}(this,()=>((()=>{'use strict';const _0x45ef94=a0_0x395e;var _0x5030a5={0x14d:(_0x14e11e,_0x10d4bd,_0x151750)=>{const _0x43c4d5=a0_0x395e;_0x151750['d'](_0x10d4bd,{'O':()=>_0x5de339});const _0x5de339={'version':_0x43c4d5(0x77f),'isProduction':!0x1,'firebaseConfig':{'apiKey':_0x43c4d5(0x3c4),'authDomain':_0x43c4d5(0x96b),'databaseURL':_0x43c4d5(0x6c3),'projectId':'crewdle-sdk-stg','storageBucket':_0x43c4d5(0x165),'appId':_0x43c4d5(0x25c),'functionsRegion':_0x43c4d5(0x9a8)},'apiUrl':_0x43c4d5(0x63d),'google':{'searchEngineId':_0x43c4d5(0x3b7)},'aws':{'endpoint':_0x43c4d5(0x7f1),'region':'us-east-1'}};},0x33b:(_0x3f0025,_0x4ad80d,_0x417071)=>{_0x417071['d'](_0x4ad80d,{'O':()=>_0x22b2aa});const _0x22b2aa={};},0x3e6:(_0x388b9f,_0x28b73d,_0x262e55)=>{const _0x50fc82=a0_0x395e;_0x262e55['d'](_0x28b73d,{'O':()=>_0x56e690});const _0x56e690={'version':_0x50fc82(0x28b),'isProduction':!0x0,'firebaseConfig':{'apiKey':_0x50fc82(0x782),'authDomain':_0x50fc82(0x532),'databaseURL':_0x50fc82(0xa47),'projectId':'crewdle-sdk','storageBucket':_0x50fc82(0x469),'messagingSenderId':_0x50fc82(0xa23),'appId':_0x50fc82(0xa42),'measurementId':'G-F7W8KXRKQB'},'apiUrl':_0x50fc82(0x15c),'aws':{'endpoint':_0x50fc82(0x414),'region':_0x50fc82(0x548)}};},0x20:(_0x581224,_0x1350af,_0x4286d7)=>{_0x4286d7['d'](_0x1350af,{'O':()=>_0x375192});const _0x375192={};}},_0x23356a={};function _0x28a86e(_0x493535){const _0x8f86d3=a0_0x395e;var _0x2490b9=_0x23356a[_0x493535];if(void 0x0!==_0x2490b9)return _0x2490b9[_0x8f86d3(0xa5)];var _0x54d716=_0x23356a[_0x493535]={'exports':{}};return _0x5030a5[_0x493535](_0x54d716,_0x54d716['exports'],_0x28a86e),_0x54d716['exports'];}_0x28a86e['d']=(_0x5cc351,_0x3a001e)=>{const _0x4ead95=a0_0x395e;for(var _0x5acf11 in _0x3a001e)_0x28a86e['o'](_0x3a001e,_0x5acf11)&&!_0x28a86e['o'](_0x5cc351,_0x5acf11)&&Object[_0x4ead95(0x510)](_0x5cc351,_0x5acf11,{'enumerable':!0x0,'get':_0x3a001e[_0x5acf11]});},_0x28a86e['g']=(function(){const _0x289ea2=a0_0x395e;if(_0x289ea2(0x429)==typeof globalThis)return globalThis;try{return this||new Function(_0x289ea2(0x44a))();}catch(_0x4d6542){if(_0x289ea2(0x429)==typeof window)return window;}}()),_0x28a86e['o']=(_0x4f2887,_0x351989)=>Object[_0x45ef94(0x2ab)][_0x45ef94(0x28f)][_0x45ef94(0x5e6)](_0x4f2887,_0x351989),_0x28a86e['r']=_0x392a67=>{const _0x2b49dd=_0x45ef94;'undefined'!=typeof Symbol&&Symbol['toStringTag']&&Object[_0x2b49dd(0x510)](_0x392a67,Symbol[_0x2b49dd(0x449)],{'value':_0x2b49dd(0xa27)}),Object[_0x2b49dd(0x510)](_0x392a67,_0x2b49dd(0x9b6),{'value':!0x0});};var _0x1dd92b,_0x230988,_0x3e3f45,_0x187adb={};_0x28a86e['r'](_0x187adb),_0x28a86e['d'](_0x187adb,{'KeyValueDatabase':()=>_0x46bf33,'LayoutBuilder':()=>_0x2f33b1,'LoggingChannels':()=>_0x3e3f45,'QueryBuilder':()=>_0x5002a5,'SDK':()=>_0x5ae708,'SDKClientErrorCodes':()=>_0x1dd92b,'TableBuilder':()=>_0x50cf29,'logger':()=>_0x301706}),function(_0x246265){const _0x137ff2=_0x45ef94;_0x246265[_0x137ff2(0x47c)]=_0x137ff2(0x152),_0x246265[_0x137ff2(0x1d0)]='connection-buffer-not-empty',_0x246265[_0x137ff2(0x22b)]=_0x137ff2(0x6f7),_0x246265[_0x137ff2(0xde)]=_0x137ff2(0x75e),_0x246265[_0x137ff2(0x785)]='external-storage-connection-already-subscribed',_0x246265[_0x137ff2(0x820)]=_0x137ff2(0x53a),_0x246265[_0x137ff2(0x88)]=_0x137ff2(0x7b),_0x246265[_0x137ff2(0x509)]=_0x137ff2(0x876),_0x246265[_0x137ff2(0x8d4)]=_0x137ff2(0x5db),_0x246265['FeatureNotEnabled']='feature-not-enabled',_0x246265['GenerativeAIContextAlreadyExists']=_0x137ff2(0x27b),_0x246265[_0x137ff2(0x329)]=_0x137ff2(0x904),_0x246265['GenerativeAIContextJobMissingThreadId']='generative-ai-context-job-missing-thread-id',_0x246265[_0x137ff2(0x374)]=_0x137ff2(0x8fc),_0x246265['GenerativeAILabelConflict']=_0x137ff2(0x9ff),_0x246265[_0x137ff2(0x23e)]=_0x137ff2(0x546),_0x246265['GenerativeAIWorkerMissingConnector']='generative-ai-worker-missing-connector',_0x246265['GenerativeAIWorkerModelSyncError']=_0x137ff2(0x45f),_0x246265[_0x137ff2(0x967)]=_0x137ff2(0x29d),_0x246265['GraphDatabaseDoesNotExist']=_0x137ff2(0x7e8),_0x246265[_0x137ff2(0x8e0)]=_0x137ff2(0x82e),_0x246265[_0x137ff2(0x76)]=_0x137ff2(0x455),_0x246265[_0x137ff2(0x90c)]=_0x137ff2(0x67b),_0x246265[_0x137ff2(0xce)]=_0x137ff2(0x16d),_0x246265['JobDispatcherJobExists']=_0x137ff2(0x5c7),_0x246265[_0x137ff2(0x7d3)]=_0x137ff2(0x595),_0x246265[_0x137ff2(0x1b6)]=_0x137ff2(0x624),_0x246265[_0x137ff2(0x2d3)]=_0x137ff2(0x1a5),_0x246265[_0x137ff2(0x4a7)]=_0x137ff2(0x456),_0x246265[_0x137ff2(0x572)]='object-store-already-exists',_0x246265[_0x137ff2(0x519)]=_0x137ff2(0x9be),_0x246265['ObjectStoreDoesNotExist']=_0x137ff2(0x9df),_0x246265[_0x137ff2(0x28d)]=_0x137ff2(0x416),_0x246265[_0x137ff2(0x32e)]=_0x137ff2(0x768),_0x246265[_0x137ff2(0x33e)]=_0x137ff2(0x71a),_0x246265[_0x137ff2(0x4ee)]=_0x137ff2(0x93),_0x246265[_0x137ff2(0x541)]='internal-sdk-error',_0x246265[_0x137ff2(0x972)]=_0x137ff2(0x41e),_0x246265['KeyValueDatabaseAlreadyExists']='key-value-database-already-exists',_0x246265[_0x137ff2(0x862)]=_0x137ff2(0x79e),_0x246265[_0x137ff2(0x790)]=_0x137ff2(0x1d4),_0x246265[_0x137ff2(0x3ab)]='key-value-database-invalid-query',_0x246265[_0x137ff2(0x501)]=_0x137ff2(0x516),_0x246265[_0x137ff2(0x61f)]='key-value-database-name-not-string',_0x246265[_0x137ff2(0x251)]=_0x137ff2(0x45c),_0x246265[_0x137ff2(0x186)]=_0x137ff2(0x9f8),_0x246265['KeyValueDatabaseTableNotFound']='key-value-database-table-not-found',_0x246265['KeyValueDatabaseInvalidLayout']=_0x137ff2(0x42b),_0x246265['LocalMediaStreamAlreadyExists']=_0x137ff2(0x86c),_0x246265[_0x137ff2(0x94b)]=_0x137ff2(0x385),_0x246265[_0x137ff2(0x2e1)]='pub-sub-topic-already-exists',_0x246265['PubSubTopicDoesNotExist']=_0x137ff2(0x4b1),_0x246265[_0x137ff2(0x938)]=_0x137ff2(0x813),_0x246265['PubSubTopicAlreadySubscribed']=_0x137ff2(0x40a),_0x246265[_0x137ff2(0xa4c)]=_0x137ff2(0x8a5),_0x246265['RemoteMediaStreamAlreadyExists']=_0x137ff2(0xfa),_0x246265['RemoteMediaStreamInvalidSubscriptionParams']=_0x137ff2(0x5dc),_0x246265[_0x137ff2(0x7d)]='subscription-request-in-progress',_0x246265[_0x137ff2(0x6c0)]=_0x137ff2(0x7af),_0x246265[_0x137ff2(0xc6)]=_0x137ff2(0x84),_0x246265[_0x137ff2(0x9fd)]='node-type-not-supported',_0x246265[_0x137ff2(0x1aa)]=_0x137ff2(0x36b),_0x246265[_0x137ff2(0x19b)]=_0x137ff2(0x11c),_0x246265[_0x137ff2(0x438)]=_0x137ff2(0x441),_0x246265['VectorDatabaseMissingConnector']=_0x137ff2(0x235),_0x246265[_0x137ff2(0x71e)]='vector-database-name-not-string';}(_0x1dd92b||(_0x1dd92b={}));class _0x54ac69 extends Error{[_0x45ef94(0x9c3)];constructor(_0x1c3c3b,_0x23275e){super(_0x23275e),this['code']=_0x1c3c3b;}}!function(_0x59b881){const _0x487e87=_0x45ef94;_0x59b881[_0x487e87(0x83b)]='pubsub',_0x59b881['ObjectStorage']=_0x487e87(0x392),_0x59b881[_0x487e87(0x6ff)]='key-value-database',_0x59b881[_0x487e87(0x851)]=_0x487e87(0x4af),_0x59b881[_0x487e87(0x114)]=_0x487e87(0x56b),_0x59b881[_0x487e87(0x524)]=_0x487e87(0x163),_0x59b881[_0x487e87(0x3c9)]=_0x487e87(0x270),_0x59b881[_0x487e87(0x8b4)]=_0x487e87(0x5d3);}(_0x230988||(_0x230988={})),function(_0x549e5c){const _0x502087=_0x45ef94;_0x549e5c[_0x502087(0x26f)]=_0x502087(0x7cb),_0x549e5c[_0x502087(0x896)]=_0x502087(0x49d),_0x549e5c[_0x502087(0x817)]=_0x502087(0x98),_0x549e5c[_0x502087(0x17f)]=_0x502087(0x85),_0x549e5c['Cluster']='cluster',_0x549e5c['Content']=_0x502087(0x2ec),_0x549e5c[_0x502087(0x2a3)]=_0x502087(0x93b),_0x549e5c[_0x502087(0x367)]='detection',_0x549e5c['Events']=_0x502087(0x243),_0x549e5c['Error']=_0x502087(0x2a9),_0x549e5c[_0x502087(0x8a8)]='jobs',_0x549e5c['KeyValueDatabase']='key-value-database',_0x549e5c['Node']=_0x502087(0x6f9),_0x549e5c[_0x502087(0x892)]=_0x502087(0x15e),_0x549e5c['PubSub']=_0x502087(0x68b),_0x549e5c[_0x502087(0x4d4)]=_0x502087(0x352),_0x549e5c[_0x502087(0x580)]=_0x502087(0x257),_0x549e5c[_0x502087(0x318)]='sender-send-message',_0x549e5c[_0x502087(0xa41)]=_0x502087(0x2c3),_0x549e5c['Stats']=_0x502087(0x135),_0x549e5c[_0x502087(0x5c4)]='subscription',_0x549e5c[_0x502087(0x69b)]=_0x502087(0x207),_0x549e5c['System']=_0x502087(0x796),_0x549e5c['SystemStats']=_0x502087(0x719),_0x549e5c[_0x502087(0x92e)]=_0x502087(0x468),_0x549e5c[_0x502087(0x529)]=_0x502087(0x6a6);}(_0x3e3f45||(_0x3e3f45={}));const _0x29184c=require('@crewdle/web-sdk-types');class _0x5002a5{['query'];constructor(_0x441085){const _0x4a109b=_0x45ef94;this[_0x4a109b(0x284)]={'orderBy':{'key':_0x441085,'direction':_0x4a109b(0x5f3)}};}static[_0x45ef94(0x376)](_0x1b3c21){const _0x1edd89=_0x45ef94;if(_0x1edd89(0x829)!=typeof _0x1b3c21||0x0===_0x1b3c21[_0x1edd89(0x453)])throw new _0x54ac69(_0x1dd92b[_0x1edd89(0xa4c)],'Invalid\x20index\x20key:\x20must\x20be\x20a\x20string');return new _0x5002a5(_0x1b3c21);}static[_0x45ef94(0x303)](_0x48ca56){const _0x30a2cb=_0x45ef94;try{return _0x5002a5[_0x30a2cb(0x69e)](_0x48ca56),!0x0;}catch(_0x743e42){return!0x1;}}static[_0x45ef94(0x69e)](_0x716728){const _0x4a4840=_0x45ef94,_0x9fbdde=_0x5002a5[_0x4a4840(0x376)](_0x716728['orderBy']?.[_0x4a4840(0x1dd)]??_0x716728[_0x4a4840(0x7d4)]?.[_0x4a4840(0x1dd)]??'');if(_0x716728[_0x4a4840(0x7d4)]){const _0x4d4a16=_0x716728[_0x4a4840(0x7d4)];if((_0x5002a5[_0x4a4840(0x42f)](_0x4d4a16)||_0x5002a5[_0x4a4840(0x679)](_0x4d4a16)||_0x5002a5[_0x4a4840(0x112)](_0x4d4a16))&&_0x9fbdde['where'](_0x4d4a16['operator'],_0x4d4a16[_0x4a4840(0x7b5)]),_0x716728[_0x4a4840(0x7f6)]?.[_0x4a4840(0x1dd)]&&_0x716728[_0x4a4840(0x7f6)]?.[_0x4a4840(0x1dd)]!==_0x716728[_0x4a4840(0x7d4)][_0x4a4840(0x1dd)])throw new _0x54ac69(_0x1dd92b[_0x4a4840(0xa4c)],_0x4a4840(0x3ed));}return _0x716728[_0x4a4840(0x7f6)]&&_0x9fbdde[_0x4a4840(0x7f6)](_0x716728[_0x4a4840(0x7f6)][_0x4a4840(0xed)]),_0x716728[_0x4a4840(0x359)]&&_0x9fbdde['limit'](_0x716728['limit']),_0x716728[_0x4a4840(0x715)]&&_0x9fbdde[_0x4a4840(0x715)](_0x716728[_0x4a4840(0x715)]),_0x9fbdde;}[_0x45ef94(0x2df)](){const _0x4ed082=_0x45ef94;return{...this[_0x4ed082(0x284)]};}[_0x45ef94(0x7d4)](_0x996243,_0x27c527){const _0x33af70=_0x45ef94,_0x321954={'key':this[_0x33af70(0x284)]['orderBy']['key'],'operator':_0x996243,'value':_0x27c527};if(!_0x5002a5[_0x33af70(0x42f)](_0x321954)&&!_0x5002a5[_0x33af70(0x679)](_0x321954)&&!_0x5002a5[_0x33af70(0x112)](_0x321954))throw new _0x54ac69(_0x1dd92b['QueryBuilderInvalidArgument'],_0x33af70(0x1ca));return this['query'][_0x33af70(0x7d4)]=_0x321954,this;}[_0x45ef94(0x7f6)](_0x49dc63){const _0x54ea8c=_0x45ef94;if(_0x54ea8c(0x5f3)!==_0x49dc63&&'desc'!==_0x49dc63)throw new _0x54ac69(_0x1dd92b[_0x54ea8c(0xa4c)],'Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc');return this[_0x54ea8c(0x284)][_0x54ea8c(0x7f6)][_0x54ea8c(0xed)]=_0x49dc63,this;}['limit'](_0x54f11e){const _0x7df40c=_0x45ef94;if(_0x7df40c(0x78f)!=typeof _0x54f11e||_0x54f11e<0x0)throw new _0x54ac69(_0x1dd92b['QueryBuilderInvalidArgument'],_0x7df40c(0x6d0));return this[_0x7df40c(0x284)][_0x7df40c(0x359)]=_0x54f11e,this;}[_0x45ef94(0x715)](_0x222769){const _0xf06002=_0x45ef94;if(_0xf06002(0x78f)!=typeof _0x222769||_0x222769<0x0)throw new _0x54ac69(_0x1dd92b[_0xf06002(0xa4c)],'Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number');return this['query'][_0xf06002(0x715)]=_0x222769,this;}static['isWhereValue'](_0x30a8ae){const _0x5bfc52=_0x45ef94;if(!(_0x30a8ae&&'object'==typeof _0x30a8ae&&_0x5bfc52(0x2ca)in _0x30a8ae&&_0x5bfc52(0x7b5)in _0x30a8ae))return!0x1;const {operator:_0x30f8f1,value:_0x13924d}=_0x30a8ae;return!(!['==','!=','>','<','<=','>=']['includes'](_0x30f8f1)||Array[_0x5bfc52(0x7df)](_0x13924d));}static[_0x45ef94(0x679)](_0x11b43d){const _0x42a704=_0x45ef94;if(!(_0x11b43d&&_0x42a704(0x429)==typeof _0x11b43d&&'operator'in _0x11b43d&&_0x42a704(0x7b5)in _0x11b43d))return!0x1;const {operator:_0x1fca21,value:_0x3a6c3d}=_0x11b43d;return!(!['in','not-in'][_0x42a704(0x62f)](_0x1fca21)||!Array[_0x42a704(0x7df)](_0x3a6c3d));}static[_0x45ef94(0x112)](_0x4069b4){const _0x1b2636=_0x45ef94;if(!(_0x4069b4&&_0x1b2636(0x429)==typeof _0x4069b4&&'operator'in _0x4069b4&&_0x1b2636(0x7b5)in _0x4069b4))return!0x1;const {operator:_0x3ac35f,value:_0x1a7f79}=_0x4069b4;return!('between'!==_0x3ac35f||!Array['isArray'](_0x1a7f79)||0x2!==_0x1a7f79[_0x1b2636(0x453)]);}}class _0x2f33b1{[_0x45ef94(0x8f5)];constructor(_0x158de0){const _0x18129c=_0x45ef94;this[_0x18129c(0x8f5)]={'tables':{},'version':_0x158de0};}static['validateLayout'](_0x7335ca){const _0x14a35b=_0x45ef94;for(const _0x2634b9 in _0x7335ca){if(_0x14a35b(0x4ea)!==_0x2634b9&&'tables'!==_0x2634b9)return[!0x1,_0x14a35b(0x41c)+_0x2634b9+_0x14a35b(0x1e1)];if('tables'===_0x2634b9)for(const _0x4dfdc2 in _0x7335ca[_0x14a35b(0x952)]){if(_0x14a35b(0x829)!=typeof _0x4dfdc2)return[!0x1,_0x14a35b(0x6ea)+_0x4dfdc2+'\x27'];for(const _0x510be4 in _0x7335ca[_0x14a35b(0x952)][_0x4dfdc2]){if(_0x14a35b(0x5b0)!==_0x510be4)return[!0x1,'Invalid\x20key\x20\x27'+_0x510be4+_0x14a35b(0x492)+_0x4dfdc2+'\x27'];const _0x2c1808=_0x7335ca[_0x14a35b(0x952)][_0x4dfdc2][_0x510be4]??[];for(const _0x1eb06e of _0x2c1808)if(void 0x0===_0x1eb06e[_0x14a35b(0x70e)]||_0x14a35b(0x829)!=typeof _0x1eb06e[_0x14a35b(0x70e)])return[!0x1,'Invalid\x20index\x20in\x20table\x20\x27'+_0x4dfdc2+'\x27:\x20missing\x20or\x20invalid\x20keyPath'];}}else{if(_0x14a35b(0x4ea)===_0x2634b9&&_0x14a35b(0x78f)!=typeof _0x7335ca[_0x2634b9])return[!0x1,_0x14a35b(0x34b)+_0x7335ca[_0x2634b9]+_0x14a35b(0x634)];}}return[!0x0,'Valid\x20layout'];}static['layout'](_0x2f5992){const _0x4a33bc=_0x45ef94,_0x41648c=new _0x2f33b1(_0x2f5992);return _0x41648c['layout'][_0x4a33bc(0x4ea)]=_0x2f5992,_0x41648c;}[_0x45ef94(0x8b3)](_0x512296){const _0x57a1ab=_0x45ef94;return this[_0x57a1ab(0x8f5)]['tables'][_0x512296]={},new _0x50cf29(this[_0x57a1ab(0x8f5)][_0x57a1ab(0x952)][_0x512296]);}['getLayout'](){const _0x4c8c92=_0x45ef94;return this[_0x4c8c92(0x8f5)];}}class _0x50cf29{[_0x45ef94(0x20c)];constructor(_0x5a610d){const _0x376fce=_0x45ef94;this[_0x376fce(0x20c)]=_0x5a610d;}[_0x45ef94(0x376)](_0x141b8c){const _0x2b946e=_0x45ef94;return this[_0x2b946e(0x20c)][_0x2b946e(0x5b0)]=this[_0x2b946e(0x20c)][_0x2b946e(0x5b0)]??[],this['tableLayout']['indexes'][_0x2b946e(0x59e)]({'keyPath':_0x141b8c}),this;}}const _0x15b99a=0x40000,_0x3f1e13=0x20000,_0x4032ce=0x1388,_0x5c52ec=_0x45ef94(0x89b),_0x40704b=_0x45ef94(0x969),_0x33c2da=_0x45ef94(0x865),_0x6102af=_0x45ef94(0x535),_0x120934=0xdbba0,_0x9820d3=0x61a8,_0x17190e='internal';var _0x2f2c12;!function(_0x40371f){const _0x1d0363=_0x45ef94;_0x40371f[_0x1d0363(0x390)]=_0x1d0363(0x72a),_0x40371f[_0x1d0363(0xa33)]=_0x1d0363(0x7ef),_0x40371f[_0x1d0363(0x7d6)]=_0x1d0363(0x9d0),_0x40371f[_0x1d0363(0x9cb)]=_0x1d0363(0x42a),_0x40371f[_0x1d0363(0x7a5)]=_0x1d0363(0x867),_0x40371f[_0x1d0363(0x354)]=_0x1d0363(0x87c),_0x40371f[_0x1d0363(0x4d8)]=_0x1d0363(0x505),_0x40371f['GenerativeAIContextJobAlreadyConsumed']=_0x1d0363(0x9b3),_0x40371f[_0x1d0363(0x543)]=_0x1d0363(0x64d),_0x40371f[_0x1d0363(0x702)]=_0x1d0363(0x16f),_0x40371f['GenerativeAIWorkerCreationFailed']=_0x1d0363(0xfe),_0x40371f[_0x1d0363(0x49c)]=_0x1d0363(0x39f),_0x40371f[_0x1d0363(0x11a)]='invalid-data-chanel',_0x40371f[_0x1d0363(0x384)]=_0x1d0363(0x659),_0x40371f[_0x1d0363(0xa02)]=_0x1d0363(0x3f2),_0x40371f[_0x1d0363(0x61c)]=_0x1d0363(0x84f),_0x40371f['JobDispatcherCreationFailed']='job-dispatcher-creation-failed',_0x40371f[_0x1d0363(0x5ad)]=_0x1d0363(0x9b9),_0x40371f['JobDispatcherJobNotFound']=_0x1d0363(0x595),_0x40371f[_0x1d0363(0x9de)]=_0x1d0363(0xef),_0x40371f[_0x1d0363(0x3dd)]='job-worker-creation-failed',_0x40371f[_0x1d0363(0x452)]='job-worker-invalid-type',_0x40371f[_0x1d0363(0x5a4)]=_0x1d0363(0x766),_0x40371f[_0x1d0363(0xa4d)]='key-value-database-peak-not-found',_0x40371f['KeyValueDatabaseTableDoesNotExist']=_0x1d0363(0x18a),_0x40371f['KeyValueDatabaseTransactionTableNotInitialized']=_0x1d0363(0x833),_0x40371f[_0x1d0363(0x486)]=_0x1d0363(0x227),_0x40371f[_0x1d0363(0x553)]=_0x1d0363(0x23d),_0x40371f[_0x1d0363(0x48d)]=_0x1d0363(0x87d),_0x40371f[_0x1d0363(0x4fe)]=_0x1d0363(0x413),_0x40371f[_0x1d0363(0x629)]=_0x1d0363(0x83f),_0x40371f[_0x1d0363(0xa21)]=_0x1d0363(0xf5),_0x40371f[_0x1d0363(0x65a)]=_0x1d0363(0x3fa),_0x40371f['ObjectStoreInvalidSyncMessage']=_0x1d0363(0x2b2),_0x40371f['ObjectStoreNotSynced']=_0x1d0363(0x40f),_0x40371f['OutgoingMediaStreamNoTopic']='outgoing-stream-no-topic',_0x40371f['RemoteMediaStreamDoesNotExist']=_0x1d0363(0x4e1),_0x40371f[_0x1d0363(0x100)]=_0x1d0363(0x4b2),_0x40371f[_0x1d0363(0x951)]='remote-connection-exists',_0x40371f[_0x1d0363(0x4eb)]=_0x1d0363(0x916),_0x40371f[_0x1d0363(0x262)]=_0x1d0363(0x843),_0x40371f['SubscriptionRequestNoAnswer']='subscription-request-no-answer',_0x40371f[_0x1d0363(0x20b)]='node-does-not-exist',_0x40371f[_0x1d0363(0x8ba)]=_0x1d0363(0x7f9),_0x40371f[_0x1d0363(0x95)]=_0x1d0363(0x4dd),_0x40371f[_0x1d0363(0x88f)]=_0x1d0363(0x7d2),_0x40371f[_0x1d0363(0x60f)]=_0x1d0363(0x3d0),_0x40371f['WorkflowInvalidBlockType']=_0x1d0363(0x971);}(_0x2f2c12||(_0x2f2c12={}));const _0x34fc21=new Map([[_0x2f2c12[_0x45ef94(0x390)],'Connection\x20not\x20initialized.'],[_0x2f2c12[_0x45ef94(0xa33)],_0x45ef94(0x2d8)],[_0x2f2c12[_0x45ef94(0x7d6)],_0x45ef94(0x612)],[_0x2f2c12['ConnectionInvalidDataEvent'],_0x45ef94(0x18c)],[_0x2f2c12['DataCollectionDoesNotExist'],_0x45ef94(0x1a1)],[_0x2f2c12[_0x45ef94(0x354)],_0x45ef94(0x489)],[_0x2f2c12[_0x45ef94(0x4d8)],_0x45ef94(0x4d6)],[_0x2f2c12['GenerativeAIContextJobAlreadyConsumed'],_0x45ef94(0x4ed)],[_0x2f2c12[_0x45ef94(0x543)],'Generative\x20AI\x20context\x20job\x20failed.'],[_0x2f2c12[_0x45ef94(0x702)],'Generative\x20AI\x20context\x20job\x20timeout.'],[_0x2f2c12[_0x45ef94(0x640)],_0x45ef94(0x6bd)],[_0x2f2c12[_0x45ef94(0x49c)],'Graph\x20database\x20creation\x20failed.'],[_0x2f2c12['InvalidDataChannel'],_0x45ef94(0x3a9)],[_0x2f2c12[_0x45ef94(0x384)],'Invalid\x20publisher.'],[_0x2f2c12[_0x45ef94(0xa02)],_0x45ef94(0x603)],[_0x2f2c12[_0x45ef94(0x61c)],_0x45ef94(0x6bc)],[_0x2f2c12[_0x45ef94(0x9ef)],_0x45ef94(0x3ca)],[_0x2f2c12[_0x45ef94(0x5ad)],_0x45ef94(0x6d9)],[_0x2f2c12[_0x45ef94(0x7d3)],_0x45ef94(0x727)],[_0x2f2c12[_0x45ef94(0x9de)],_0x45ef94(0x2a1)],[_0x2f2c12[_0x45ef94(0x3dd)],'Job\x20worker\x20creation\x20failed.'],[_0x2f2c12[_0x45ef94(0x452)],_0x45ef94(0x3f0)],[_0x2f2c12[_0x45ef94(0x5a4)],_0x45ef94(0x49f)],[_0x2f2c12[_0x45ef94(0xa4d)],_0x45ef94(0x9f)],[_0x2f2c12[_0x45ef94(0x4ab)],'Key-value\x20database\x20table\x20does\x20not\x20exist.'],[_0x2f2c12[_0x45ef94(0xd8)],_0x45ef94(0x295)],[_0x2f2c12[_0x45ef94(0x486)],_0x45ef94(0x613)],[_0x2f2c12[_0x45ef94(0x553)],'Local\x20stream\x20does\x20not\x20exist.'],[_0x2f2c12[_0x45ef94(0x48d)],'Connection\x20does\x20not\x20exist.'],[_0x2f2c12[_0x45ef94(0x4fe)],_0x45ef94(0x491)],[_0x2f2c12[_0x45ef94(0x629)],'Mistlet\x20capacity\x20report\x20not\x20set.'],[_0x2f2c12[_0x45ef94(0xa21)],_0x45ef94(0x1da)],[_0x2f2c12[_0x45ef94(0x80f)],_0x45ef94(0x312)],[_0x2f2c12[_0x45ef94(0x65a)],_0x45ef94(0xa8)],[_0x2f2c12[_0x45ef94(0xf2)],_0x45ef94(0xe3)],[_0x2f2c12[_0x45ef94(0x9db)],'Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.'],[_0x2f2c12[_0x45ef94(0x91d)],_0x45ef94(0x4a6)],[_0x2f2c12[_0x45ef94(0x100)],_0x45ef94(0x2a4)],[_0x2f2c12[_0x45ef94(0x951)],_0x45ef94(0x412)],[_0x2f2c12[_0x45ef94(0x4eb)],_0x45ef94(0x8cc)],[_0x2f2c12[_0x45ef94(0x262)],'Subscription\x20request\x20failed.'],[_0x2f2c12[_0x45ef94(0x5be)],_0x45ef94(0x66a)],[_0x2f2c12['NodeDoesNotExist'],'Node\x20does\x20not\x20exist.'],[_0x2f2c12[_0x45ef94(0x8ba)],'Node\x20already\x20exists.'],[_0x2f2c12[_0x45ef94(0x95)],_0x45ef94(0x758)],[_0x2f2c12[_0x45ef94(0x88f)],_0x45ef94(0x755)],[_0x2f2c12[_0x45ef94(0x60f)],_0x45ef94(0x7d0)],[_0x2f2c12[_0x45ef94(0x84a)],'Invalid\x20workflow\x20block\x20type.']]);class _0x279d71 extends Error{[_0x45ef94(0x9c3)];static [_0x45ef94(0x9c2)]=_0x2f2c12;[_0x45ef94(0x1a0)];constructor(_0x1d2610,_0xaa0528){const _0x2d6a61=_0x45ef94;super(_0x2d6a61(0x8c1)+_0x1d2610+':\x20'+_0x34fc21[_0x2d6a61(0x1f5)](_0x1d2610)+'\x0aAdditional\x20data:\x20'+JSON[_0x2d6a61(0xa51)](_0xaa0528)),this['code']=_0x1d2610,this[_0x2d6a61(0x1a0)]=_0xaa0528||{};}}var _0x292504,_0x245bc1,_0x4598d0,_0x4f5686,_0x270cec,_0x44ee1d,_0x43910d;!function(_0x3c434c){const _0x239572=_0x45ef94;_0x3c434c[_0x3c434c['CloseGraphDatabase']=0x0]=_0x239572(0x5b8),_0x3c434c[_0x3c434c[_0x239572(0x1ea)]=0x1]=_0x239572(0x1ea),_0x3c434c[_0x3c434c[_0x239572(0x8cb)]=0x2]='CloseJobWorker',_0x3c434c[_0x3c434c[_0x239572(0x373)]=0x3]='CloseExternalStorageConnection',_0x3c434c[_0x3c434c[_0x239572(0x1a9)]=0x4]=_0x239572(0x1a9),_0x3c434c[_0x3c434c[_0x239572(0x911)]=0x5]=_0x239572(0x911),_0x3c434c[_0x3c434c[_0x239572(0x208)]=0x6]=_0x239572(0x208),_0x3c434c[_0x3c434c['ClosePubSubTopic']=0x7]=_0x239572(0x970),_0x3c434c[_0x3c434c['CloseVectorDatabase']=0x8]='CloseVectorDatabase',_0x3c434c[_0x3c434c[_0x239572(0x2ce)]=0x9]=_0x239572(0x2ce),_0x3c434c[_0x3c434c['GenerativeAIContextStats']=0xa]=_0x239572(0x59d),_0x3c434c[_0x3c434c[_0x239572(0x717)]=0xb]=_0x239572(0x717),_0x3c434c[_0x3c434c[_0x239572(0x8df)]=0xc]=_0x239572(0x8df),_0x3c434c[_0x3c434c[_0x239572(0x847)]=0xd]=_0x239572(0x847),_0x3c434c[_0x3c434c[_0x239572(0x2c4)]=0xe]=_0x239572(0x2c4),_0x3c434c[_0x3c434c[_0x239572(0x6a3)]=0xf]=_0x239572(0x6a3),_0x3c434c[_0x3c434c[_0x239572(0x1e0)]=0x10]='KeyValueDatabaseRequestTransactionsValue',_0x3c434c[_0x3c434c['KeyValueDatabaseSendTransactions']=0x11]=_0x239572(0x93a),_0x3c434c[_0x3c434c[_0x239572(0x3be)]=0x12]=_0x239572(0x3be),_0x3c434c[_0x3c434c['KeyValueDatabaseSyncRequired']=0x13]='KeyValueDatabaseSyncRequired',_0x3c434c[_0x3c434c[_0x239572(0x85b)]=0x14]=_0x239572(0x85b),_0x3c434c[_0x3c434c[_0x239572(0x28a)]=0x15]=_0x239572(0x28a),_0x3c434c[_0x3c434c[_0x239572(0x960)]=0x16]=_0x239572(0x960),_0x3c434c[_0x3c434c[_0x239572(0x258)]=0x17]=_0x239572(0x258),_0x3c434c[_0x3c434c[_0x239572(0x921)]=0x18]=_0x239572(0x921),_0x3c434c[_0x3c434c[_0x239572(0xa0f)]=0x19]=_0x239572(0xa0f),_0x3c434c[_0x3c434c[_0x239572(0x212)]=0x1a]='UnpublishMediaStream',_0x3c434c[_0x3c434c[_0x239572(0x919)]=0x1b]='UnsubscribeMediaStream',_0x3c434c[_0x3c434c[_0x239572(0x5c1)]=0x1c]=_0x239572(0x5c1),_0x3c434c[_0x3c434c[_0x239572(0x185)]=0x1d]='VectorDatabaseStats';}(_0x292504||(_0x292504={})),function(_0x2e215f){const _0x28d446=_0x45ef94;_0x2e215f[_0x28d446(0x291)]=_0x28d446(0x8a4),_0x2e215f[_0x28d446(0x11b)]=_0x28d446(0x4c4),_0x2e215f[_0x28d446(0x8be)]=_0x28d446(0x991),_0x2e215f[_0x28d446(0x161)]=_0x28d446(0x484),_0x2e215f[_0x28d446(0x477)]=_0x28d446(0x3e9),_0x2e215f[_0x28d446(0x517)]=_0x28d446(0x56e),_0x2e215f[_0x28d446(0x643)]=_0x28d446(0x520),_0x2e215f[_0x28d446(0xa2f)]=_0x28d446(0x78d);}(_0x245bc1||(_0x245bc1={})),function(_0x140df9){const _0x216c09=_0x45ef94;_0x140df9[_0x216c09(0x26d)]=_0x216c09(0x799),_0x140df9['Transaction']=_0x216c09(0x145);}(_0x4598d0||(_0x4598d0={})),function(_0x3b9ded){const _0x16a76e=_0x45ef94;_0x3b9ded['Add']=_0x16a76e(0x9fb),_0x3b9ded['Update']=_0x16a76e(0x3c5),_0x3b9ded[_0x16a76e(0x8be)]=_0x16a76e(0x991);}(_0x4f5686||(_0x4f5686={})),function(_0x395fa9){const _0x424abf=_0x45ef94;_0x395fa9[_0x424abf(0x62e)]=_0x424abf(0x1f5),_0x395fa9['List']=_0x424abf(0x600),_0x395fa9['Count']=_0x424abf(0x7ab);}(_0x270cec||(_0x270cec={})),function(_0x49d3fa){const _0x675d69=_0x45ef94;_0x49d3fa[_0x49d3fa[_0x675d69(0x26d)]=0x0]=_0x675d69(0x26d),_0x49d3fa[_0x49d3fa[_0x675d69(0x418)]=0x1]='Bid',_0x49d3fa[_0x49d3fa['Attribution']=0x2]=_0x675d69(0x1f2),_0x49d3fa[_0x49d3fa['PartialResult']=0x3]=_0x675d69(0x9bd),_0x49d3fa[_0x49d3fa[_0x675d69(0x749)]=0x4]=_0x675d69(0x749),_0x49d3fa[_0x49d3fa[_0x675d69(0x99e)]=0x5]='Failed';}(_0x44ee1d||(_0x44ee1d={})),function(_0x17c8c9){const _0x46b818=_0x45ef94;_0x17c8c9[_0x17c8c9[_0x46b818(0x529)]=0x0]=_0x46b818(0x529),_0x17c8c9[_0x17c8c9['Node']=0x1]=_0x46b818(0x6f6),_0x17c8c9[_0x17c8c9[_0x46b818(0xc4)]=0x2]=_0x46b818(0xc4),_0x17c8c9[_0x17c8c9[_0x46b818(0x5c4)]=0x3]=_0x46b818(0x5c4),_0x17c8c9[_0x17c8c9[_0x46b818(0x936)]=0x4]=_0x46b818(0x936),_0x17c8c9[_0x17c8c9[_0x46b818(0x367)]=0x5]=_0x46b818(0x367),_0x17c8c9[_0x17c8c9[_0x46b818(0x580)]=0x6]=_0x46b818(0x580);}(_0x43910d||(_0x43910d={}));class _0x39d1fe{[_0x45ef94(0x2e2)];['label'];['systemTopic'];constructor(_0x381d45,_0x418872){const _0x4645c7=_0x45ef94;this['owner']=_0x381d45,this[_0x4645c7(0x8f4)]=_0x418872;}[_0x45ef94(0x32b)](){const _0x25bc53=_0x45ef94;return this[_0x25bc53(0x8f4)];}[_0x45ef94(0x525)](){const _0x58cf0c=_0x45ef94;return this[_0x58cf0c(0x2e2)][_0x58cf0c(0xa2a)]();}[_0x45ef94(0x9d1)](){}[_0x45ef94(0x52e)](_0x164edc){const _0x5afece=_0x45ef94;this[_0x5afece(0x9da)]=_0x164edc;}[_0x45ef94(0xfc)](){delete this['systemTopic'];}}const _0x2a769c=require('firebase/firestore');let _0x165473=_0x28a86e(0x14d)['O'];function _0x3ca0e7(_0x57af53){const _0x3a37b9=_0x45ef94;return!(!_0x57af53||'object'!=typeof _0x57af53||Array[_0x3a37b9(0x7df)](_0x57af53));}_0x165473=function _0x25b624(_0x4ecf6b,..._0x211afc){const _0x3f4a42=_0x45ef94;if(!Array[_0x3f4a42(0x7df)](_0x211afc)||0x0===_0x211afc['length'])return _0x4ecf6b;const _0xa6dcfe=_0x211afc['shift']();if(_0x3ca0e7(_0x4ecf6b)&&_0x3ca0e7(_0xa6dcfe)){for(const _0x1ca87a in _0xa6dcfe)_0x3ca0e7(_0xa6dcfe[_0x1ca87a])?(_0x4ecf6b[_0x1ca87a]||Object['assign'](_0x4ecf6b,{[_0x1ca87a]:{}}),_0x25b624(_0x4ecf6b[_0x1ca87a],_0xa6dcfe[_0x1ca87a])):Object[_0x3f4a42(0x11e)](_0x4ecf6b,{[_0x1ca87a]:_0xa6dcfe[_0x1ca87a]});}return _0x25b624(_0x4ecf6b,..._0x211afc);}(_0x165473,_0x28a86e(0x3e6)['O']);const _0x25dcd9=_0x165473,_0x4f80c1=require('firebase/app'),_0x5dc519=require('firebase/auth'),_0x1fdb8e=require('firebase/database'),_0x3c2d83=require('firebase/functions'),_0xa305bc=require('uuid'),_0x3636a2=_0x45ef94(0xa39);class _0x489112{static [_0x45ef94(0x155)];[_0x45ef94(0x660)];[_0x45ef94(0xda)];['functions'];[_0x45ef94(0xa35)];[_0x45ef94(0x908)];[_0x45ef94(0x763)];[_0x45ef94(0x1ad)];constructor(){this['getApp']();}static[_0x45ef94(0x714)](){const _0x48ae4a=_0x45ef94;return _0x489112[_0x48ae4a(0x155)]||(_0x489112[_0x48ae4a(0x155)]=new _0x489112()),_0x489112['instance'];}[_0x45ef94(0x82b)](){const _0x4823b7=_0x45ef94;if(!this[_0x4823b7(0x660)]){let _0x3267a2=_0x3636a2;_0x4823b7(0x37e)!=typeof window&&(_0x3267a2=_0x3636a2+'-'+(0x0,_0xa305bc['v4'])()),this['app']=(0x0,_0x4f80c1[_0x4823b7(0x282)])(_0x25dcd9['firebaseConfig'],''+_0x3267a2);}return this[_0x4823b7(0x660)];}[_0x45ef94(0x823)](){const _0x587d17=_0x45ef94;return this[_0x587d17(0xda)]||(this[_0x587d17(0xda)]=(0x0,_0x5dc519['getAuth'])(this[_0x587d17(0x82b)]())),this['auth'];}[_0x45ef94(0x598)](){const _0x225303=_0x45ef94;return this[_0x225303(0x23a)]||(this[_0x225303(0x23a)]=(0x0,_0x3c2d83[_0x225303(0x598)])(this[_0x225303(0x82b)](),_0x25dcd9[_0x225303(0x5b1)][_0x225303(0x308)])),this['functions'];}['getDatabase'](){const _0x1e3fa2=_0x45ef94;return this['database']||(this['database']=(0x0,_0x1fdb8e['getDatabase'])(this[_0x1e3fa2(0x82b)]())),this[_0x1e3fa2(0xa35)];}[_0x45ef94(0x8f2)](){const _0x3407d5=_0x45ef94;return this[_0x3407d5(0x908)]||(this['firestore']=(0x0,_0x2a769c[_0x3407d5(0x8f2)])(this[_0x3407d5(0x82b)]())),this[_0x3407d5(0x908)];}async[_0x45ef94(0x550)](){const _0x300772=_0x45ef94;if(this[_0x300772(0x763)]&&this[_0x300772(0x1ad)]&&Date[_0x300772(0x69)]()-this[_0x300772(0x1ad)]<0x493e0)return Date[_0x300772(0x69)]()+this['clockSkew'];const _0x22201f=this[_0x300772(0x36f)](),_0x6db4b7=(0x0,_0x1fdb8e[_0x300772(0x311)])(_0x22201f,_0x300772(0x5fb));return new Promise(_0xdfc998=>{const _0x42c1c6=_0x300772;(0x0,_0x1fdb8e[_0x42c1c6(0x1d1)])(_0x6db4b7,_0x2079a1=>{const _0x5d2cce=_0x42c1c6;(0x0,_0x1fdb8e[_0x5d2cce(0x6ad)])(_0x6db4b7),this['clockSkew']=_0x2079a1['val'](),this[_0x5d2cce(0x1ad)]=Date['now'](),_0xdfc998(Date[_0x5d2cce(0x69)]()+(this[_0x5d2cce(0x763)]??0x0));});});}}const _0x5e415d=_0x489112[_0x45ef94(0x714)]();class _0x451b65{static [_0x45ef94(0x155)];[_0x45ef94(0x2bf)]=[_0x3e3f45[_0x45ef94(0x896)]];[_0x45ef94(0x985)]=!0x1;[_0x45ef94(0x67f)];[_0x45ef94(0x154)]='';['globalObject'];[_0x45ef94(0x19e)]=[];['currentBatch'];[_0x45ef94(0x816)];[_0x45ef94(0x305)]=0xa;[_0x45ef94(0x5bb)]=0x1f4;['batchSize']=0x1c2;[_0x45ef94(0x8f8)]=0x3e8;constructor(){const _0x81cc50=_0x45ef94;if(_0x81cc50(0x37e)!=typeof window)this['globalObject']=window;else{if(void 0x0===_0x28a86e['g'])throw new Error(_0x81cc50(0x31b));this[_0x81cc50(0x22d)]=_0x28a86e['g'];}this[_0x81cc50(0x9bf)](),this[_0x81cc50(0x22d)][_0x81cc50(0x73f)]=_0x422d7d=>{const _0x558c07=_0x81cc50;if(_0x422d7d===_0x3e3f45[_0x558c07(0x26f)])return this['enabledChannels']=Object['keys'](_0x3e3f45)[_0x558c07(0x1f8)](_0x4bbb4f=>_0x3e3f45[_0x4bbb4f]),void Object[_0x558c07(0x428)](_0x3e3f45)['forEach'](_0x518601=>{const _0x28fc88=_0x558c07,_0x24dfde=_0x518601;localStorage['setItem'](_0x28fc88(0x87f)+_0x3e3f45[_0x24dfde],'true');});this[_0x558c07(0x2bf)][_0x558c07(0x62f)](_0x422d7d)||(this[_0x558c07(0x2bf)][_0x558c07(0x59e)](_0x422d7d),localStorage[_0x558c07(0x721)]('crewdle-sdk-logging-'+_0x422d7d,_0x558c07(0x195)));},this[_0x81cc50(0x22d)][_0x81cc50(0xdf)]=_0x81b8f1=>{const _0x37476b=_0x81cc50;if(!_0x81b8f1||_0x81b8f1===_0x3e3f45['All'])return this['enabledChannels']=[],void Object[_0x37476b(0x428)](_0x3e3f45)['forEach'](_0x118658=>{const _0x36e2c6=_0x37476b,_0x40ad21=_0x118658;localStorage['removeItem'](_0x36e2c6(0x87f)+_0x3e3f45[_0x40ad21]);});this[_0x37476b(0x2bf)][_0x37476b(0x62f)](_0x81b8f1)&&(this[_0x37476b(0x2bf)]=this[_0x37476b(0x2bf)][_0x37476b(0x533)](_0x5b2ba1=>_0x5b2ba1!==_0x81b8f1),localStorage[_0x37476b(0x1be)](_0x37476b(0x87f)+_0x81b8f1));},this[_0x81cc50(0x22d)][_0x81cc50(0x4fa)]=_0x3e3f45;}static[_0x45ef94(0x714)](){const _0x17bf19=_0x45ef94;try{return _0x451b65[_0x17bf19(0x155)]||(_0x451b65[_0x17bf19(0x155)]=new _0x451b65()),_0x451b65[_0x17bf19(0x155)];}catch(_0x56d572){return console[_0x17bf19(0x2a9)](_0x17bf19(0x498),_0x56d572),{'log':()=>{},'forceLog':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1,'processBatch':()=>{}};}}[_0x45ef94(0x3de)](_0x54e96c){const _0x3ac1c8=_0x45ef94;this[_0x3ac1c8(0x154)]=_0x54e96c,this['batchQueue']=[],this[_0x3ac1c8(0xa2)]=this[_0x3ac1c8(0x8d9)](),this[_0x3ac1c8(0x816)]&&(clearTimeout(this[_0x3ac1c8(0x816)]),this[_0x3ac1c8(0x816)]=void 0x0);}[_0x45ef94(0x286)](_0x21d3ae){this['loggingConnectors']=_0x21d3ae;}[_0x45ef94(0x859)](_0x1bf284,..._0xee7472){const _0x245df2=_0x45ef94;this[_0x245df2(0x985)]&&this[_0x245df2(0x1d5)](_0x3e3f45[_0x245df2(0x896)],_0x245df2(0x34c)+_0x1bf284,..._0xee7472);}['forceLog'](_0x26ecaf,..._0x3345ae){const _0x2c0139=_0x45ef94;console[_0x2c0139(0x1d5)](_0x26ecaf,..._0x3345ae),this['loggingConnectors']&&this['loggingConnectors'][_0x2c0139(0xa3f)](_0x489ba3=>{const _0x119a83=_0x2c0139;_0x489ba3[_0x119a83(0x1d5)](_0x26ecaf,{'vendorId':this[_0x119a83(0x154)],'nodeId':'','nodeType':'','data':{..._0x3345ae}});});}['log'](_0xd9815d,_0x557262,..._0x591f1e){const _0x178269=_0x45ef94;_0x25dcd9[_0x178269(0xc5)]||(this['enabledChannels']['includes'](_0xd9815d)&&console[_0x178269(0x1d5)](_0x178269(0x35d)+_0xd9815d+'\x27\x0a',new Date()+'\x0a',_0x557262,..._0x591f1e),this[_0x178269(0x67f)]&&this[_0x178269(0x67f)][_0x178269(0xa3f)](_0x5c9bb1=>{const _0x321359=_0x178269;this[_0x321359(0x334)](_0x5c9bb1)&&_0x5c9bb1[_0x321359(0x5e8)]()[_0x321359(0x62f)](_0xd9815d)&&_0x5c9bb1[_0x321359(0x1d5)](_0x557262,{'vendorId':this[_0x321359(0x154)],'nodeId':'','nodeType':'','data':{'channel':_0xd9815d,..._0x591f1e}});}));}['logRaw'](_0x476b88,_0x3063f4,..._0x120ecf){const _0x325a7c=_0x45ef94;_0x25dcd9[_0x325a7c(0xc5)]||(this[_0x325a7c(0x2bf)][_0x325a7c(0x62f)](_0x476b88)&&console[_0x325a7c(0x1d5)](_0x3063f4,..._0x120ecf),this[_0x325a7c(0x67f)]&&this[_0x325a7c(0x67f)][_0x325a7c(0xa3f)](_0x3c0d2d=>{const _0x481b99=_0x325a7c;this[_0x481b99(0x334)](_0x3c0d2d)&&_0x3c0d2d[_0x481b99(0x5e8)]()[_0x481b99(0x62f)](_0x476b88)&&_0x3c0d2d[_0x481b99(0x1d5)](_0x3063f4,{'vendorId':this[_0x481b99(0x154)],'nodeId':'','nodeType':'','data':{'channel':_0x476b88,..._0x120ecf}});}));}[_0x45ef94(0x926)](_0x100f6e,_0x2ae730){const _0x40a9cb=_0x45ef94;if(!this['loggingConnectors'])return;const _0x3aded2={'vendorId':this[_0x40a9cb(0x154)],..._0x2ae730};this[_0x40a9cb(0x67f)][_0x40a9cb(0xa3f)](_0x222dcf=>{const _0x54198f=_0x40a9cb;_0x222dcf[_0x54198f(0x1d5)](_0x100f6e,_0x3aded2);});}['logServiceEvent'](_0xa328a6,_0x59b885){const _0x54fbec=_0x45ef94;this[_0x54fbec(0x86f)](_0xa328a6,_0x59b885),this[_0x54fbec(0x293)]();}[_0x45ef94(0x1c3)](_0x20006b,_0x5c2e54,_0x1dbf78){const _0x574100=_0x45ef94;(0x0,_0x2a769c[_0x574100(0x4da)])((0x0,_0x2a769c[_0x574100(0x94)])(_0x5e415d[_0x574100(0x8f2)](),_0x574100(0x61e)+this['vendorId']+'/'+_0x20006b+'/'+_0x5c2e54),{'storage':_0x1dbf78,'timestamp':(0x0,_0x2a769c['serverTimestamp'])()});}[_0x45ef94(0x293)](){const _0x5bc7d3=_0x45ef94;this[_0x5bc7d3(0xa2)]&&(this[_0x5bc7d3(0xa2)][_0x5bc7d3(0x978)]+=0x1,this[_0x5bc7d3(0xa2)][_0x5bc7d3(0x978)]===this[_0x5bc7d3(0x393)]?this[_0x5bc7d3(0x2c9)]():this['batchTimeout']||(this[_0x5bc7d3(0x816)]=this[_0x5bc7d3(0x22d)]['setTimeout'](()=>this[_0x5bc7d3(0x2c9)](),this[_0x5bc7d3(0x8f8)])));}async[_0x45ef94(0x2c9)](){const _0x2e3408=_0x45ef94;if(this[_0x2e3408(0xa2)]){for(this['batchQueue'][_0x2e3408(0x59e)](this[_0x2e3408(0xa2)]),this[_0x2e3408(0xa2)]=this[_0x2e3408(0x8d9)]();this[_0x2e3408(0x19e)][_0x2e3408(0x453)]>0x0;){const _0x44278d=this[_0x2e3408(0x19e)][_0x2e3408(0x5e9)]();if(!await this[_0x2e3408(0x61a)](_0x44278d))break;}clearTimeout(this[_0x2e3408(0x816)]),this[_0x2e3408(0x816)]=void 0x0;}}[_0x45ef94(0x2a9)](_0x1054a8,_0x11b0fd,..._0x46ad6a){const _0x4aa179=_0x45ef94;if(console[_0x4aa179(0x2a9)](new Date(),_0x1054a8,_0x11b0fd,..._0x46ad6a),this['loggingConnectors']){const _0x33a145={'vendorId':this[_0x4aa179(0x154)],..._0x11b0fd};this[_0x4aa179(0x67f)][_0x4aa179(0xa3f)](_0x5a4f63=>{const _0xcb0fbe=_0x4aa179;_0x5a4f63[_0xcb0fbe(0x2a9)](_0x1054a8,_0x33a145);});}}[_0x45ef94(0x90)](_0x5ef8c0,_0x22338d,..._0x328188){const _0xf05d7a=_0x45ef94;if(console[_0xf05d7a(0xa12)](new Date(),_0x5ef8c0,_0x22338d,_0x328188),this['loggingConnectors']){const _0xf147b4={'vendorId':this[_0xf05d7a(0x154)],..._0x22338d};this[_0xf05d7a(0x67f)]['forEach'](_0xb67a3f=>{const _0x3d9387=_0xf05d7a;_0xb67a3f[_0x3d9387(0xa12)](_0x5ef8c0,_0xf147b4);});}}[_0x45ef94(0x4d0)](_0x155a18){const _0x1dbad5=_0x45ef94;return this[_0x1dbad5(0x2bf)][_0x1dbad5(0x62f)](_0x155a18);}async[_0x45ef94(0x61a)](_0x3aa602,_0x5cd751=0x0){const _0x598aa0=_0x45ef94;if(_0x3aa602['counter']>0x0)try{return await _0x3aa602[_0x598aa0(0x174)][_0x598aa0(0x113)](),!0x0;}catch(_0x3119cc){if(console['error'](_0x598aa0(0x422),_0x3119cc,_0x598aa0(0x70a),_0x3aa602[_0x598aa0(0x35f)]),!(_0x5cd751<this[_0x598aa0(0x305)])){const {nodeId:_0x39a1f7='',nodeType:_0xa1887='',clusterId:_0x5ea693=''}=_0x3aa602[_0x598aa0(0x35f)][0x0][_0x598aa0(0x1a0)],_0xc0be59={'nodeId':_0x39a1f7,'nodeType':_0xa1887,'clusterId':_0x5ea693,'data':{'operations':_0x3aa602[_0x598aa0(0x35f)],'error':_0x3119cc}};return this[_0x598aa0(0x2a9)](_0x598aa0(0x7d5),_0xc0be59),!0x1;}{const _0x4e8268=this[_0x598aa0(0x9ca)](_0x3aa602[_0x598aa0(0x35f)]);setTimeout(()=>this[_0x598aa0(0x61a)](_0x4e8268,_0x5cd751+0x1),this[_0x598aa0(0x5bb)]*Math['pow'](0x2,_0x5cd751));}}}[_0x45ef94(0x9bf)](){const _0x11aae4=_0x45ef94;try{Object[_0x11aae4(0x428)](_0x3e3f45)[_0x11aae4(0xa3f)](_0x4c1f0f=>{const _0x511705=_0x11aae4,_0x3213a0=_0x4c1f0f;localStorage[_0x511705(0x900)](_0x511705(0x87f)+_0x3e3f45[_0x3213a0])&&(console[_0x511705(0x1d5)]('LoggingService:\x20logging\x20enabled\x20for',_0x3e3f45[_0x3213a0]),this['enabledChannels'][_0x511705(0x59e)](_0x3e3f45[_0x3213a0]));});}catch(_0x61138a){}}[_0x45ef94(0x334)](_0x46263e){const _0x5ef41f=_0x45ef94;return void 0x0!==_0x46263e[_0x5ef41f(0x5e8)];}['createNewBatch'](){const _0x252eb5=_0x45ef94;return{'batch':(0x0,_0x2a769c[_0x252eb5(0x36a)])(_0x5e415d['getFirestore']()),'operations':[],'counter':0x0};}[_0x45ef94(0x9ca)](_0x338814){const _0x94ae2=_0x45ef94,_0x5b2de9=(0x0,_0x2a769c[_0x94ae2(0x36a)])(_0x5e415d[_0x94ae2(0x8f2)]());return _0x338814[_0x94ae2(0xa3f)](_0x7c772b=>this[_0x94ae2(0x2d6)](_0x5b2de9,_0x7c772b)),{'batch':_0x5b2de9,'operations':_0x338814,'counter':_0x338814['length']};}['addBatchOperation'](_0x17e3a9,_0x22ea9e){const _0x2320cf=_0x45ef94;switch(_0x22ea9e[_0x2320cf(0x6e1)]){case _0x2320cf(0x2b3):_0x17e3a9['set'](_0x22ea9e[_0x2320cf(0x311)],_0x22ea9e['data']);break;case _0x2320cf(0x3c5):_0x17e3a9['update'](_0x22ea9e[_0x2320cf(0x311)],_0x22ea9e[_0x2320cf(0x1a0)]);break;case'delete':_0x17e3a9[_0x2320cf(0x991)](_0x22ea9e['ref']);}}[_0x45ef94(0x86f)](_0x669f1c,_0x42daa2){const _0x59950d=_0x45ef94;this[_0x59950d(0xa2)]||(this['currentBatch']=this['createNewBatch']());const _0x1a5b3d=(0x0,_0x2a769c['doc'])((0x0,_0x2a769c['collection'])(_0x5e415d[_0x59950d(0x8f2)](),'developers/'+this[_0x59950d(0x154)]+_0x59950d(0x44c))),_0x4974ad={..._0x42daa2,'service':_0x669f1c,'timestamp':(0x0,_0x2a769c['serverTimestamp'])()},_0x433461={'type':_0x59950d(0x2b3),'path':_0x1a5b3d['path'],'ref':_0x1a5b3d,'data':_0x4974ad};return this[_0x59950d(0xa2)]['operations']['push'](_0x433461),this[_0x59950d(0x2d6)](this['currentBatch'][_0x59950d(0x174)],_0x433461),_0x1a5b3d;}}const _0x301706=_0x451b65[_0x45ef94(0x714)]();function _0x35b848(_0x103b80,_0x12c093){return'/'===_0x103b80?_0x103b80+_0x12c093:_0x103b80+'/'+_0x12c093;}function _0x75791d(_0x28c534){const _0x3c2ba5=_0x45ef94,_0x486308=function(_0x13ba7b){const _0x33b61a=a0_0x395e;return _0x13ba7b[_0x33b61a(0x25b)]('/')[_0x33b61a(0x533)](_0x12b829=>_0x12b829['length']>0x0);}(_0x28c534),_0x49aa56=_0x486308[_0x3c2ba5(0x8fa)]()||'',_0x3b84f1=_0x486308['join']('/');return[0x0===_0x3b84f1['length']?'/':_0x3b84f1,_0x49aa56];}async function _0x1341b5(_0x3189b9){const _0xa113ad=_0x45ef94;let _0x7754ea;const _0x3d53e8=_0x3189b9[_0xa113ad(0x77a)]/0x100000;_0x7754ea=_0x3d53e8<=0xa?0x1:_0x3d53e8<=0x64?0.5:_0x3d53e8<=0x1f4?0.1:0.05;const _0x4739ff=Math[_0xa113ad(0x5e3)](_0x3189b9['size']/_0x15b99a),_0x28fd3e=Math[_0xa113ad(0x5e3)](_0x4739ff*_0x7754ea);let _0x3dbe58=new Uint8Array();for(let _0x1a0834=0x0;_0x1a0834<_0x28fd3e;_0x1a0834++){const _0x232d7f=Math[_0xa113ad(0x7f4)](_0x1a0834/_0x28fd3e*_0x3189b9[_0xa113ad(0x77a)]);let _0x9067c5=_0x232d7f+_0x15b99a;_0x9067c5>_0x3189b9[_0xa113ad(0x77a)]&&(_0x9067c5=_0x3189b9[_0xa113ad(0x77a)]);const _0x2b11b5=_0x3189b9[_0xa113ad(0x2ad)](_0x232d7f,_0x9067c5),_0x105176=await _0x2b11b5[_0xa113ad(0x16c)](),_0x12a05f=new Uint8Array([..._0x3dbe58,...new Uint8Array(_0x105176)]);_0x3dbe58=new Uint8Array(await crypto[_0xa113ad(0xa46)][_0xa113ad(0x577)]('SHA-256',_0x12a05f));}return Array[_0xa113ad(0x157)](new Uint8Array(_0x3dbe58))[_0xa113ad(0x1f8)](_0x2e96c8=>_0x2e96c8['toString'](0x10)[_0xa113ad(0x656)](0x2,'0'))[_0xa113ad(0x981)]('');}async function*_0x14740b(_0x44bb46,_0x2e56fd=0x0,_0x1fb7d6){const _0x49a9aa=_0x45ef94;let _0x5cb183=_0x2e56fd*_0x3f1e13,_0x274b87=_0x44bb46;for(;_0x5cb183<_0x274b87[_0x49a9aa(0x77a)];){let _0x215774=_0x5cb183+_0x3f1e13;_0x215774>_0x274b87[_0x49a9aa(0x77a)]&&(_0x215774=_0x274b87[_0x49a9aa(0x77a)]);let _0x14ede6=0x0;for(;_0x14ede6<0x14;)try{await _0x1fb7d6?.();const _0x458818=_0x274b87[_0x49a9aa(0x2ad)](_0x5cb183,_0x215774,'application/octet-stream'),_0x3b577f=await _0x458818['arrayBuffer']();yield _0x3b577f,_0x5cb183=_0x215774,await new Promise(_0x1ff610=>setTimeout(_0x1ff610,0x0));break;}catch(_0x5dd367){if(console[_0x49a9aa(0x2a9)](_0x49a9aa(0x661)+(_0x14ede6+0x1)+_0x49a9aa(0x2a5),_0x5dd367),_0x14ede6++,_0x14ede6>0x14)throw _0x5dd367;let _0x3d4e3e=0x3e8*Math[_0x49a9aa(0x9e6)](0x2,_0x14ede6);_0x3d4e3e>0x7530&&(_0x3d4e3e=0x7530),await new Promise(_0x30efbb=>setTimeout(_0x30efbb,_0x3d4e3e));}}}class _0x267a55 extends _0x39d1fe{[_0x45ef94(0x4b3)];[_0x45ef94(0xcc)];['fileChunks']=new Map();[_0x45ef94(0x93c)]=0x0;[_0x45ef94(0x266)]=0x0;['bytesSent']=0x0;[_0x45ef94(0x7c3)]=0x0;constructor(_0x2dd6ea,_0x2ec279){super(_0x2dd6ea,_0x2ec279);}[_0x45ef94(0x32b)](){const _0x572188=_0x45ef94;return this[_0x572188(0x8f4)];}['getName'](){const _0x557c49=_0x45ef94;return this[_0x557c49(0x8f4)];}[_0x45ef94(0xf7)](){const _0x442109=_0x45ef94;return _0x29184c['ContentType'][_0x442109(0x17a)];}[_0x45ef94(0x97c)](){const _0x26d268=_0x45ef94;return this[_0x26d268(0x8f4)];}[_0x45ef94(0x196)](_0x2494df){const _0x494df9=_0x45ef94;if(this[_0x494df9(0x4b3)])throw new _0x279d71(_0x279d71[_0x494df9(0x9c2)][_0x494df9(0x384)],{'message':_0x494df9(0x74c)+this[_0x494df9(0x2e2)][_0x494df9(0xa2a)]()+_0x494df9(0x4cc)+this[_0x494df9(0x8f4)],'topic':this['outgoingTopic']});this[_0x494df9(0x4b3)]=_0x2494df;}[_0x45ef94(0x24c)](_0xba237a){const _0x438e9c=_0x45ef94;if(this[_0x438e9c(0xcc)])throw new _0x279d71(_0x279d71[_0x438e9c(0x9c2)]['InvalidSubscriber'],{'message':_0x438e9c(0x70d)+this[_0x438e9c(0x2e2)][_0x438e9c(0xa2a)]()+_0x438e9c(0x4cc)+this['label'],'topic':this[_0x438e9c(0xcc)]});this['incomingTopic']=_0xba237a;}[_0x45ef94(0x828)](){const _0x466eaf=_0x45ef94;delete this[_0x466eaf(0x4b3)];}[_0x45ef94(0x949)](){const _0x5d3fdc=_0x45ef94;delete this[_0x5d3fdc(0xcc)];}async['send'](_0x416250,_0x37a9f8){const _0x3c22e5=_0x45ef94;if(_0x301706['log'](_0x3e3f45['DataStream'],_0x3c22e5(0x743),this[_0x3c22e5(0x2e2)][_0x3c22e5(0xa2a)](),_0x416250,_0x37a9f8),this[_0x3c22e5(0x93c)]+=0x1,_0x416250 instanceof File){const _0x120d4e=await async function(_0x73ffb1){const _0x6b57eb=_0x3c22e5,_0x484d90=[];for await(const _0x3c32d0 of _0x14740b(_0x73ffb1))_0x484d90[_0x6b57eb(0x59e)](_0x3c32d0);return _0x484d90;}(_0x416250);return this[_0x3c22e5(0x9cf)]+=_0x120d4e[_0x3c22e5(0x9f6)]((_0x2d9df3,_0x4e6845)=>_0x2d9df3+_0x4e6845[_0x3c22e5(0x97b)],0x0),void _0x120d4e[_0x3c22e5(0xa3f)]((_0x36b0de,_0x180939)=>{const _0x33b45d=_0x3c22e5;this[_0x33b45d(0x4b3)][_0x33b45d(0x379)]({'sourceId':this[_0x33b45d(0x2e2)]['getId'](),'destinationIds':_0x37a9f8,'propagate':!0x0,'contentType':_0x29184c[_0x33b45d(0xd2)][_0x33b45d(0x8da)],'content':{'name':_0x416250[_0x33b45d(0x388)],'type':_0x416250[_0x33b45d(0x6e1)],'data':_0x36b0de,'index':_0x180939,'total':_0x120d4e[_0x33b45d(0x453)]}});});}this['bytesSent']+=JSON[_0x3c22e5(0xa51)](_0x416250)[_0x3c22e5(0x453)],this[_0x3c22e5(0x4b3)][_0x3c22e5(0x379)]({'sourceId':this[_0x3c22e5(0x2e2)][_0x3c22e5(0xa2a)](),'destinationIds':_0x37a9f8,'propagate':!0x0,'contentType':_0x29184c[_0x3c22e5(0xd2)]['Data'],'content':_0x416250});}[_0x45ef94(0x278)](_0x26a0c4){const _0x11a0a4=_0x45ef94;return this[_0x11a0a4(0xcc)][_0x11a0a4(0x79d)](_0x50fc6b=>{const _0x4c1720=_0x11a0a4;switch(_0x301706[_0x4c1720(0x1d5)](_0x3e3f45[_0x4c1720(0x2a3)],_0x4c1720(0x267),this['owner'][_0x4c1720(0xa2a)](),_0x50fc6b),_0x50fc6b[_0x4c1720(0xa40)]){case _0x29184c[_0x4c1720(0xd2)][_0x4c1720(0x17a)]:this[_0x4c1720(0x266)]+=0x1,this[_0x4c1720(0x7c3)]+=JSON[_0x4c1720(0xa51)](_0x50fc6b['content'])['length'],_0x26a0c4(_0x50fc6b[_0x4c1720(0x499)],_0x50fc6b[_0x4c1720(0x2ec)]);break;case _0x29184c[_0x4c1720(0xd2)]['File']:this[_0x4c1720(0x8f3)][_0x4c1720(0x3bc)](_0x50fc6b[_0x4c1720(0x2ec)]['name'])||this[_0x4c1720(0x8f3)][_0x4c1720(0x2b3)](_0x50fc6b['content'][_0x4c1720(0x388)],{'chunksReceived':0x0,'bytesReceived':0x0,'checksum':'','content':[]});const _0x357ec5=this['fileChunks'][_0x4c1720(0x1f5)](_0x50fc6b[_0x4c1720(0x2ec)][_0x4c1720(0x388)]);if(_0x357ec5[_0x4c1720(0x670)]+=0x1,_0x357ec5[_0x4c1720(0x7c3)]+=_0x50fc6b[_0x4c1720(0x2ec)][_0x4c1720(0x1a0)][_0x4c1720(0x97b)],_0x357ec5[_0x4c1720(0x2ec)]&&(_0x357ec5[_0x4c1720(0x2ec)][_0x50fc6b[_0x4c1720(0x2ec)][_0x4c1720(0x376)]]=_0x50fc6b[_0x4c1720(0x2ec)]['data']),this[_0x4c1720(0x8f3)]['set'](_0x50fc6b['content'][_0x4c1720(0x388)],_0x357ec5),_0x357ec5['chunksReceived']+0x1<_0x50fc6b[_0x4c1720(0x2ec)]['total'])return;this[_0x4c1720(0x266)]+=0x1,this[_0x4c1720(0x7c3)]+=_0x357ec5[_0x4c1720(0x7c3)],_0x357ec5[_0x4c1720(0x2ec)]&&_0x26a0c4(_0x50fc6b[_0x4c1720(0x499)],(_0x56830b=_0x357ec5[_0x4c1720(0x2ec)],_0x58ad62=_0x50fc6b['content'][_0x4c1720(0x388)],_0x4b834b=_0x50fc6b[_0x4c1720(0x2ec)][_0x4c1720(0x6e1)],new File(_0x56830b,_0x58ad62,{'type':_0x4b834b}))),this[_0x4c1720(0x8f3)][_0x4c1720(0x991)](_0x50fc6b[_0x4c1720(0x2ec)]['name']);}var _0x56830b,_0x58ad62,_0x4b834b;});}}function _0x16e686(){const _0x98232b=_0x45ef94;let _0x301f39=[];return{'subscribe':_0x2505f=>(_0x301f39[_0x98232b(0x59e)](_0x2505f),()=>{const _0x150bd9=_0x98232b;_0x301f39=_0x301f39[_0x150bd9(0x533)](_0x4545dc=>_0x4545dc!==_0x2505f);}),'publish':_0x157176=>{_0x301f39['forEach'](_0x575f19=>_0x575f19(_0x157176));}};}function _0x5ad34d(){let _0x26c213;return{'subscribe':_0x232d4c=>(_0x26c213=_0x232d4c,()=>{_0x26c213=void 0x0;}),'publish':_0x385ac6=>{_0x26c213&&_0x26c213(_0x385ac6);}};}class _0x4249ea{['connector'];['tableName'];['tableObserver'];['eventListener']=_0x5ad34d();[_0x45ef94(0x701)];constructor(_0x8f3292,_0x2c488e,_0x2cb565){const _0x1de094=_0x45ef94;this[_0x1de094(0x87a)]=_0x8f3292,this['tableName']=_0x2c488e,this[_0x1de094(0xd3)]=_0x2cb565;}[_0x45ef94(0x9d1)](){this['listenerUnsubscriber']?.();}async[_0x45ef94(0x1f5)](_0x51488c){const _0x1b16f1=_0x45ef94,_0x76d708={'key':_0x51488c,'tableName':this[_0x1b16f1(0x249)],'action':_0x270cec[_0x1b16f1(0x62e)]};return this[_0x1b16f1(0xd3)][_0x1b16f1(0x379)](_0x76d708),this['connector'][_0x1b16f1(0x1f5)](_0x51488c);}async[_0x45ef94(0x2b3)](_0x5e37b4,_0x1ab1db,_0x21e6fd=!0x0){const _0x542afe=_0x45ef94;this[_0x542afe(0x7c9)](_0x1ab1db);const _0x41324a=await this['connector'][_0x542afe(0x1f5)](_0x5e37b4),_0x2e0e94=await this[_0x542afe(0x87a)]['set'](_0x5e37b4,_0x1ab1db),_0x5cddb3=_0x41324a?_0x4f5686[_0x542afe(0x3ac)]:_0x4f5686[_0x542afe(0x6b8)];if(this[_0x542afe(0x379)](_0x5cddb3,_0x2e0e94),!_0x21e6fd)return _0x2e0e94;const _0x48e2a9={'key':_0x5e37b4,'tableName':this[_0x542afe(0x249)],'action':_0x5cddb3,'value':_0x2e0e94};return this[_0x542afe(0xd3)]['publish'](_0x48e2a9),_0x2e0e94;}async[_0x45ef94(0x9fb)](_0x390549){const _0xbc4008=_0x45ef94;this['validateValue'](_0x390549);const _0x2cbfe5=await this[_0xbc4008(0x87a)][_0xbc4008(0x9fb)](_0x390549),_0x4ba35e={'key':_0x2cbfe5['id'],'tableName':this['tableName'],'action':_0x4f5686[_0xbc4008(0x6b8)],'value':_0x2cbfe5};return this[_0xbc4008(0xd3)][_0xbc4008(0x379)](_0x4ba35e),this['publish'](_0x4ba35e[_0xbc4008(0xae)],_0x2cbfe5),_0x2cbfe5;}async[_0x45ef94(0x991)](_0x36e5f6,_0x331db7=!0x0){const _0x4a61b1=_0x45ef94,_0x5f1ab1=await this[_0x4a61b1(0x87a)]['get'](_0x36e5f6);if(!_0x5f1ab1)return;await this[_0x4a61b1(0x87a)][_0x4a61b1(0x991)](_0x36e5f6);const _0x2c486e=_0x4f5686[_0x4a61b1(0x8be)];if(this[_0x4a61b1(0x379)](_0x2c486e,_0x5f1ab1),!_0x331db7)return;const _0x5d3f23={'key':_0x36e5f6,'tableName':this[_0x4a61b1(0x249)],'action':_0x2c486e,'value':_0x5f1ab1};this[_0x4a61b1(0xd3)][_0x4a61b1(0x379)](_0x5d3f23);}async[_0x45ef94(0x1ac)](){const _0x5e5b5a=_0x45ef94,_0x212936=await this[_0x5e5b5a(0x600)]();for(const _0x5bb495 of _0x212936){const _0x2c1f4e=_0x4f5686[_0x5e5b5a(0x8be)];this['publish'](_0x2c1f4e,_0x5bb495);const _0x561ee2={'key':_0x5bb495['id'],'tableName':this[_0x5e5b5a(0x249)],'action':_0x2c1f4e,'value':_0x5bb495};this['tableObserver'][_0x5e5b5a(0x379)](_0x561ee2);}return this[_0x5e5b5a(0x87a)]['clear']();}async[_0x45ef94(0x600)](_0x53d6e3){const _0x3aa4af=_0x45ef94,_0x317bc0={'key':'','tableName':this[_0x3aa4af(0x249)],'action':_0x270cec[_0x3aa4af(0x3e8)]};this[_0x3aa4af(0xd3)][_0x3aa4af(0x379)](_0x317bc0);try{_0x53d6e3&&(_0x53d6e3=_0x53d6e3 instanceof _0x5002a5?_0x53d6e3[_0x3aa4af(0x2df)]():_0x5002a5['buildQuery'](_0x53d6e3)['getQuery']());}catch(_0x3fce7e){throw new _0x54ac69(_0x1dd92b[_0x3aa4af(0x3ab)],_0x3aa4af(0x338));}try{return await this[_0x3aa4af(0x87a)]['list'](_0x53d6e3);}catch(_0xe086c5){let _0x3d4daf=_0x3aa4af(0x338);throw _0xe086c5 instanceof Error&&(_0x3d4daf=_0xe086c5[_0x3aa4af(0x7c2)]),new _0x54ac69(_0x1dd92b[_0x3aa4af(0x3ab)],_0x3d4daf);}}async[_0x45ef94(0x7ab)](_0x4fdaaf){const _0x220a18=_0x45ef94,_0xd39b8f={'key':'','tableName':this['tableName'],'action':_0x270cec[_0x220a18(0x940)]};this['tableObserver'][_0x220a18(0x379)](_0xd39b8f);try{_0x4fdaaf&&(_0x4fdaaf=_0x4fdaaf instanceof _0x5002a5?_0x4fdaaf[_0x220a18(0x2df)]():_0x5002a5[_0x220a18(0x69e)](_0x4fdaaf)[_0x220a18(0x2df)]());}catch(_0x473f13){throw new _0x54ac69(_0x1dd92b[_0x220a18(0x3ab)],_0x220a18(0x338));}try{return await this[_0x220a18(0x87a)][_0x220a18(0x7ab)](_0x4fdaaf);}catch(_0x348dad){let _0xb008c4=_0x220a18(0x338);throw _0x348dad instanceof Error&&(_0xb008c4=_0x348dad[_0x220a18(0x7c2)]),new _0x54ac69(_0x1dd92b['KeyValueDatabaseInvalidQuery'],_0xb008c4);}}[_0x45ef94(0x722)](){const _0x5151b1=_0x45ef94;return this[_0x5151b1(0x87a)]['calculateSize']();}[_0x45ef94(0x79d)](_0x508523){const _0x538889=_0x45ef94;this[_0x538889(0x701)]=this[_0x538889(0x4a2)]['subscribe'](_0x508523);}[_0x45ef94(0x2b6)](){const _0x3ec846=_0x45ef94;this[_0x3ec846(0x701)]?.();}[_0x45ef94(0x379)](_0x9adf27,_0x54ad82){const _0x222ef0=_0x45ef94,_0x35462c=this['buildTableEvent'](_0x9adf27,_0x54ad82);this[_0x222ef0(0x4a2)][_0x222ef0(0x379)](_0x35462c);}[_0x45ef94(0x764)](_0xf681fb,_0x5eb7eb){const _0x1f14c4=_0x45ef94;let _0x20062c;switch(_0xf681fb){case _0x4f5686[_0x1f14c4(0x6b8)]:_0x20062c=_0x1f14c4(0x9fb);break;case _0x4f5686[_0x1f14c4(0x3ac)]:_0x20062c=_0x1f14c4(0x3c5);break;case _0x4f5686[_0x1f14c4(0x8be)]:_0x20062c='delete';}return{'action':_0x20062c,'value':_0x5eb7eb};}[_0x45ef94(0x7c9)](_0xe30f42){const _0x112a55=_0x45ef94;if(_0x112a55(0x429)!=typeof _0xe30f42||null===_0xe30f42)throw new _0x54ac69(_0x1dd92b['KeyValueDatabaseInvalidValue'],_0x112a55(0x5ac));for(const _0x193d3e in _0xe30f42){const _0x1705d1=_0xe30f42[_0x193d3e];if(_0x112a55(0x429)!=typeof _0x1705d1||_0x1705d1 instanceof Date){if(![_0x112a55(0x829),_0x112a55(0x78f),'boolean'][_0x112a55(0x62f)](typeof _0x1705d1))throw new _0x54ac69(_0x1dd92b[_0x112a55(0x501)],_0x112a55(0x504)+_0x193d3e+_0x112a55(0x3ea));}else this[_0x112a55(0x7c9)](_0x1705d1);}}}class _0x10838d{['peaks']=[];['totalNodes']=0x0;['transactionQueue']=[];[_0x45ef94(0x616)]=!0x1;[_0x45ef94(0x1df)]=null;[_0x45ef94(0x11f)]=null;[_0x45ef94(0x317)];[_0x45ef94(0x922)]=null;['readyPromises']=[];[_0x45ef94(0x4cb)];['_ready']=Promise[_0x45ef94(0x899)]();[_0x45ef94(0x81e)]=0x0;constructor(){}get['ready'](){const _0x1a9e66=_0x45ef94;return this[_0x1a9e66(0x67c)];}async[_0x45ef94(0x673)](_0x437b48,_0x55405e=0x0){const _0x52fdc3=_0x45ef94;this[_0x52fdc3(0x922)]||(this[_0x52fdc3(0x67c)]=new Promise(_0x9a5ce1=>{const _0x19a2cd=_0x52fdc3;this[_0x19a2cd(0x922)]=_0x9a5ce1;}),this[_0x52fdc3(0x81e)]=_0x55405e);const _0x52f1c7=Date['now']();if(this[_0x52fdc3(0x616)])return void this[_0x52fdc3(0x128)][_0x52fdc3(0x59e)](_0x437b48);this['isComputingMMR']=!0x0;let _0x15878e={'hash':await this[_0x52fdc3(0x2cb)](_0x437b48),'height':0x0};const _0xba6f7a=this[_0x52fdc3(0x8a1)](_0x15878e);this['readyPromises'][_0x52fdc3(0x59e)](_0xba6f7a),await _0xba6f7a,this['totalNodes']+=0x1;const _0x51f939=this[_0x52fdc3(0x128)]['length'];for(;this[_0x52fdc3(0x128)][_0x52fdc3(0x453)]>0x0;){const _0x51504b=this[_0x52fdc3(0x128)][_0x52fdc3(0x5e9)]();await this[_0x52fdc3(0x673)](_0x51504b);}this[_0x52fdc3(0x9af)](),await this[_0x52fdc3(0x30c)],this[_0x52fdc3(0x500)](_0x52f1c7,_0x51f939);}async[_0x45ef94(0x5f8)](){const _0x37aa77=_0x45ef94;return await this[_0x37aa77(0x67c)],this[_0x37aa77(0x616)]?(this['rootComputationPromise']||(this[_0x37aa77(0x11f)]=this['recomputeRoot']()),await this[_0x37aa77(0x11f)]):this[_0x37aa77(0x1df)];}['getPeaks'](){const _0x55c052=_0x45ef94;return this[_0x55c052(0x96a)][_0x55c052(0x1f8)](({hash:_0x5f0fc1,height:_0x48da1a})=>({'hash':_0x5f0fc1,'height':_0x48da1a}));}['getTotalNodes'](){const _0x3a8ab9=_0x45ef94;return this[_0x3a8ab9(0x397)];}[_0x45ef94(0x7de)](_0x206071){const _0x10510a=_0x45ef94;return this['peaks'][_0x10510a(0x786)](_0x40d79b=>_0x40d79b[_0x10510a(0x2b0)]===_0x206071);}async['hashNodes'](_0x3ae8fd,_0x155f96){const _0xe90a5a=_0x45ef94;return await this[_0xe90a5a(0x7e5)](_0x3ae8fd+_0x155f96);}async['hashTransaction'](_0x16357e){const _0x337e7d=_0x45ef94;return await this[_0x337e7d(0x7e5)](JSON[_0x337e7d(0xa51)](_0x16357e));}[_0x45ef94(0x568)](_0x5d732d){const _0x2d6938=_0x45ef94,_0x48bdc0=this[_0x2d6938(0x51b)](),_0x42d8f8=[],_0x8f74e1=[],_0x3da324=[];for(const _0x2708a1 of _0x48bdc0){const _0x1d09ba=_0x5d732d['find'](_0x5d5e64=>_0x5d5e64[_0x2d6938(0x2b0)]===_0x2708a1[_0x2d6938(0x2b0)]);_0x1d09ba?_0x2708a1[_0x2d6938(0x6c7)]!==_0x1d09ba[_0x2d6938(0x6c7)]&&_0x42d8f8[_0x2d6938(0x59e)]({'height':_0x2708a1[_0x2d6938(0x2b0)],'localPeak':_0x2708a1,'remotePeak':_0x1d09ba}):_0x8f74e1[_0x2d6938(0x59e)](_0x2708a1);}for(const _0x500c13 of _0x5d732d)_0x48bdc0['find'](_0x3dad0f=>_0x3dad0f[_0x2d6938(0x2b0)]===_0x500c13['height'])||_0x3da324['push'](_0x500c13);return{'differingPeaks':_0x42d8f8,'peaksMissingInRemote':_0x8f74e1,'peaksMissingInLocal':_0x3da324};}async[_0x45ef94(0x6e6)](){const _0x5dfcd8=_0x45ef94;this[_0x5dfcd8(0x616)]=!0x0;const _0x1ddeb5=this[_0x5dfcd8(0x96a)]['map'](_0x3abcee=>_0x3abcee['hash']);return this[_0x5dfcd8(0x1df)]=await this[_0x5dfcd8(0x225)](_0x1ddeb5),this[_0x5dfcd8(0x616)]=!0x1,this[_0x5dfcd8(0x11f)]=null,this[_0x5dfcd8(0x9af)](),this[_0x5dfcd8(0x1df)];}async['computeHash'](_0x1b3c50){const _0x1d4e68=_0x45ef94;try{const _0x123c80=new TextEncoder()[_0x1d4e68(0x7cf)](_0x1b3c50),_0x3bfea7=await crypto['subtle'][_0x1d4e68(0x577)]('SHA-256',_0x123c80);return Array[_0x1d4e68(0x157)](new Uint8Array(_0x3bfea7))[_0x1d4e68(0x1f8)](_0x3b0b41=>_0x3b0b41['toString'](0x10)['padStart'](0x2,'0'))['join']('');}catch(_0x11c7ed){return console[_0x1d4e68(0x2a9)]('Hash\x20computation\x20failed,\x20retrying...',_0x11c7ed),this[_0x1d4e68(0x7e5)](_0x1b3c50);}}async[_0x45ef94(0x225)](_0x15abc1){const _0xb9048b=_0x45ef94;return await this[_0xb9048b(0x7e5)](_0x15abc1[_0xb9048b(0x981)](''));}async['combinePeaks'](_0x54e1fb){const _0x8b8551=_0x45ef94;for(;this['peaks'][_0x8b8551(0x453)]>0x0&&this[_0x8b8551(0x96a)][this[_0x8b8551(0x96a)][_0x8b8551(0x453)]-0x1][_0x8b8551(0x2b0)]===_0x54e1fb[_0x8b8551(0x2b0)];){const _0x38bcfb=this[_0x8b8551(0x96a)][_0x8b8551(0x8fa)]();_0x54e1fb={'hash':await this[_0x8b8551(0x375)](_0x38bcfb[_0x8b8551(0x6c7)],_0x54e1fb[_0x8b8551(0x6c7)]),'left':_0x38bcfb,'right':_0x54e1fb,'height':_0x54e1fb[_0x8b8551(0x2b0)]+0x1};}this[_0x8b8551(0x96a)][_0x8b8551(0x59e)](_0x54e1fb),await this[_0x8b8551(0x6e6)]();}['debounceAppendLog'](_0x561eb4,_0x3bce63){const _0xeab26c=_0x45ef94;if(!_0x301706[_0xeab26c(0x4d0)](_0x3e3f45['KeyValueDatabase']))return;this[_0xeab26c(0x317)]&&clearTimeout(this[_0xeab26c(0x317)]);const _0x29a4df=Date[_0xeab26c(0x69)]();this[_0xeab26c(0x317)]=setTimeout(()=>_0x301706['log'](_0x3e3f45[_0xeab26c(0x6ff)],_0xeab26c(0x34a),this[_0xeab26c(0x1df)],_0xeab26c(0x38d),this[_0xeab26c(0x5de)](),_0xeab26c(0x739),_0x3bce63,_0xeab26c(0x590),_0x29a4df-_0x561eb4),0x7d0);}[_0x45ef94(0x9af)](){const _0x12f9e3=_0x45ef94;this[_0x12f9e3(0x4cb)]&&clearTimeout(this['debounceReadyTimeout']),this[_0x12f9e3(0x4cb)]=setTimeout(async()=>{const _0x2e7dee=_0x12f9e3;try{const _0x11fa8d=this[_0x2e7dee(0x880)];if(this[_0x2e7dee(0x880)]=[],await Promise['all'](_0x11fa8d),this[_0x2e7dee(0x81e)]-=_0x11fa8d['length'],this[_0x2e7dee(0x880)][_0x2e7dee(0x453)]>0x0||this[_0x2e7dee(0x81e)]>0x0)return this[_0x2e7dee(0x9af)]();this[_0x2e7dee(0x922)]&&(this[_0x2e7dee(0x922)](),this[_0x2e7dee(0x922)]=null),this[_0x2e7dee(0x67c)]=Promise[_0x2e7dee(0x899)](),this[_0x2e7dee(0x616)]=!0x1;}catch(_0x51d755){console[_0x2e7dee(0x2a9)](_0x2e7dee(0x6a),_0x51d755);}},0xa);}}const _0x256814=[_0x45ef94(0x529),'Node','Content',_0x45ef94(0x5c4),_0x45ef94(0x936),'Detection','Remediation'],_0x70ce4a=[['Offer',_0x45ef94(0x7db),_0x45ef94(0x273),_0x45ef94(0x75c),_0x45ef94(0x795),'Restart',_0x45ef94(0x8bc),_0x45ef94(0x936),_0x45ef94(0x497)],[_0x45ef94(0x976),'NodeUpdate','NodeConnectionsUpdate',_0x45ef94(0x2fd)],[_0x45ef94(0x5b8),_0x45ef94(0x1ea),_0x45ef94(0x8cb),'CloseExternalStorageConnection',_0x45ef94(0x1a9),_0x45ef94(0x911),'CloseObjectStoreBucket',_0x45ef94(0x970),_0x45ef94(0x1c1),_0x45ef94(0x2ce),_0x45ef94(0x59d),'GenerativeAIWorkerStats','GraphDatabaseStats',_0x45ef94(0x847),_0x45ef94(0x2c4),_0x45ef94(0x6a3),_0x45ef94(0x1e0),'KeyValueDatabaseSendTransactions',_0x45ef94(0x3be),_0x45ef94(0x7dc),_0x45ef94(0x85b),_0x45ef94(0x28a),_0x45ef94(0x960),_0x45ef94(0x258),_0x45ef94(0x921),_0x45ef94(0xa0f),_0x45ef94(0x212),_0x45ef94(0x919),_0x45ef94(0x5c1),_0x45ef94(0x185)],[_0x45ef94(0xa0f),_0x45ef94(0x5c1),_0x45ef94(0x217),_0x45ef94(0x297),'CannotProvideMediaStream',_0x45ef94(0x846)],['StreamReport','LocalReport'],[_0x45ef94(0x29a)],[_0x45ef94(0x580),_0x45ef94(0x539)]];function _0x4e0d4f(_0x1cd5f6){const _0xf5bfac=_0x45ef94;return{..._0x1cd5f6,'systemMessageType':_0x256814[_0x1cd5f6[_0xf5bfac(0x753)]],'systemContentMessageType':_0x70ce4a[_0x1cd5f6[_0xf5bfac(0x753)]][_0x1cd5f6[_0xf5bfac(0x2ec)][_0xf5bfac(0x6e1)]]};}const _0x18e6c8={'hour':_0x45ef94(0x401),'minute':_0x45ef94(0x401),'second':_0x45ef94(0x401)};function _0x4f155b(_0x388157,_0x24f707){const _0x23da91=_0x45ef94,_0x7e04b6=(function(){const _0x5dfdf3=a0_0x395e,_0x590f27=new Date(),_0x27f806=_0x590f27['getMilliseconds'](),_0x199d66=_0x590f27[_0x5dfdf3(0x28e)](_0x5dfdf3(0x56f),_0x18e6c8)['match'](/\d\d:\d\d:\d\d/)?.[0x0];return _0x199d66+'.'+(_0x27f806>0x64?''+_0x27f806:_0x27f806>0xa?'0'+_0x27f806:'00'+_0x27f806);}()),{sourceId:_0x996a05,destinationIds:_0x514c54,systemMessageType:_0x28c856,systemContentMessageType:_0x3f9557}=_0x4e0d4f(_0x388157);return _0x7e04b6+_0x23da91(0x4cc)+_0x24f707+_0x23da91(0x4cc)+(_0x996a05===_0x24f707?_0x23da91(0x778)+_0x28c856+'\x27\x20to\x20'+(_0x514c54?''+_0x514c54:_0x23da91(0x837)):_0x388157[_0x23da91(0x499)]===_0x17190e?'Internal\x20event\x20\x27'+_0x28c856+'\x27':(_0x514c54?'':_0x23da91(0x64b))+_0x23da91(0x9bb)+_0x28c856+_0x23da91(0x6c8)+_0x996a05)+_0x23da91(0x7e9)+_0x3f9557+_0x23da91(0x81b);}function _0x264e87(_0x15f37e,_0x2e926d){const _0x3106c5=_0x45ef94;if(!_0x301706[_0x3106c5(0x4d0)](_0x15f37e))return;if(_0x25dcd9[_0x3106c5(0xc5)])return;if(_0x3106c5(0x37e)==typeof process)return;const _0x243a1d=process[_0x3106c5(0x216)]();console[_0x3106c5(0x1d5)](_0x3106c5(0x959)+_0x2e926d+':');for(const _0x101145 in _0x243a1d)console[_0x3106c5(0x1d5)]('\x20\x20'+_0x101145+':\x20'+(_0x243a1d[_0x101145]/0x400/0x400)[_0x3106c5(0x8e4)](0x2)+_0x3106c5(0x7b4));}function _0x45df3d(_0x3660ed,_0x252203){const _0x40fa01=_0x45ef94;if(!_0x301706[_0x40fa01(0x4d0)](_0x252203))return _0x301706['debug']('Logging\x20not\x20enabled\x20for\x20channel\x20'+_0x252203),{'timingLogger':{'start':()=>{},'now':()=>0x0,'logWaitTime':()=>{}},'logger':{'log':()=>{},'performCalculation':(_0x23d06a,_0x3285ab)=>_0x3285ab}};let _0x453ec4=0x0;return{'timingLogger':((()=>{const _0x496cd8=_0x40fa01;let _0x8b8032=Date[_0x496cd8(0x69)]();return{'start':()=>{const _0x18713a=_0x496cd8;_0x8b8032=Date[_0x18713a(0x69)]();},'now':()=>Date['now'](),'logWaitTime':_0x34f1bf=>{const _0x343700=_0x496cd8;_0x453ec4+=Date[_0x343700(0x69)]()-_0x8b8032,_0x301706[_0x343700(0x1d5)](_0x252203,_0x34f1bf,_0x453ec4+'ms',_0x3660ed);}};})()),'logger':{'log':(_0x24b4a8,_0x1eba7f=()=>{})=>{const _0x2ec15e=_0x40fa01,_0x1612e6=_0x1eba7f();_0x1612e6?_0x301706[_0x2ec15e(0x1d5)](_0x252203,_0x24b4a8,_0x1612e6,_0x3660ed):_0x301706[_0x2ec15e(0x1d5)](_0x252203,_0x24b4a8,_0x3660ed);},'performCalculation':(_0x24b36b,_0x3bc7e3)=>_0x24b36b()}};}function _0x3a4065(_0x5eaf18){const _0x5d31c6=_0x45ef94;return'undefined'==typeof Buffer?0x0:Buffer[_0x5d31c6(0x97b)](JSON[_0x5d31c6(0xa51)](_0x5eaf18),_0x5d31c6(0x1e7));}function _0x17da4c(_0xcfe227){const _0x170494=_0x45ef94;if(0x0===_0xcfe227)return'0\x20B';const _0x3347ed=Math['floor'](Math[_0x170494(0x1d5)](_0xcfe227)/Math[_0x170494(0x1d5)](0x400));return parseFloat((_0xcfe227/Math['pow'](0x400,_0x3347ed))[_0x170494(0x8e4)](0x2))+'\x20'+['B','KB','MB','GB','TB'][_0x3347ed];}class _0x46bf33 extends _0x267a55{[_0x45ef94(0x5e4)];[_0x45ef94(0x9aa)];['vendorId'];[_0x45ef94(0x358)];['db'];['dbKey'];[_0x45ef94(0x952)]=new Map();[_0x45ef94(0xd3)];[_0x45ef94(0x211)];['tableUnsubscriber'];[_0x45ef94(0xb6)];[_0x45ef94(0xa1f)];[_0x45ef94(0x461)]=[];[_0x45ef94(0x3dc)]=()=>{};[_0x45ef94(0x855)];['eventListener']=_0x5ad34d();[_0x45ef94(0x701)];[_0x45ef94(0x931)]=[];[_0x45ef94(0x8f5)];['debounceStats'];[_0x45ef94(0x585)]=0x0;[_0x45ef94(0x3e2)]=0x0;[_0x45ef94(0x2d1)]=!0x1;['mmr']=new _0x10838d();[_0x45ef94(0x9a5)]=new Map();[_0x45ef94(0xa05)]=[];[_0x45ef94(0x9ab)];[_0x45ef94(0x133)]=[];['loggingCycle'];constructor(_0x4cedab,_0x359b48,_0x11a6bf,_0x419c19,_0x564032,_0x1309ba,_0x3dfbdc){const _0x1722bf=_0x45ef94;if(_0x1722bf(0x829)!=typeof _0x359b48)throw new _0x54ac69(_0x1dd92b[_0x1722bf(0x61f)],_0x1722bf(0x34f));if(super(_0x4cedab,_0x359b48),this[_0x1722bf(0x5e4)]=_0x4cedab,this[_0x1722bf(0x9aa)]=_0x11a6bf,this[_0x1722bf(0x154)]=_0x419c19,this[_0x1722bf(0x358)]=_0x3dfbdc,this[_0x1722bf(0x655)]=_0x1722bf(0x923)+this[_0x1722bf(0x154)]+'ccc'+this[_0x1722bf(0x9aa)]+_0x1722bf(0x923)+this[_0x1722bf(0x8f4)],this[_0x1722bf(0xd3)]=_0x5ad34d(),this[_0x1722bf(0x8de)]=function(_0x5784cb,_0x4ab008){const _0x258a31=_0x1722bf;if(!_0x301706[_0x258a31(0x4d0)](_0x4ab008))return _0x301706[_0x258a31(0x859)](_0x258a31(0x66b)+_0x4ab008),{..._0x45df3d(_0x5784cb,_0x4ab008),'logDataSent':()=>0x0,'logDataReceived':()=>0x0,'getDataLogged':()=>({'dataSent':'0\x20B','dataReceived':_0x258a31(0x431)})};const {timingLogger:_0x1cf97c,logger:_0x5a5aed}=_0x45df3d(_0x5784cb,_0x4ab008);let _0x3725a9=0x0,_0x503cc7=0x0;return{'timingLogger':_0x1cf97c,'logger':_0x5a5aed,'logDataSent':(_0x4a584d,_0x349389=!0x1)=>{const _0x287c88=_0x258a31,_0x164514=_0x3a4065(_0x4a584d);return _0x349389&&_0x301706[_0x287c88(0x1d5)](_0x4ab008,_0x287c88(0x188),_0x5784cb,_0x164514),_0x3725a9+=_0x164514,_0x164514;},'logDataReceived':(_0x515262,_0x5d2b00=!0x1)=>{const _0x3143d7=_0x258a31,_0x257eab=_0x3a4065(_0x515262);return _0x5d2b00&&_0x301706[_0x3143d7(0x1d5)](_0x4ab008,'Data\x20Received',_0x5784cb,_0x257eab),_0x503cc7+=_0x257eab,_0x257eab;},'getDataLogged':()=>({'dataSent':_0x17da4c(_0x3725a9),'dataReceived':_0x17da4c(_0x503cc7)})};}(this[_0x1722bf(0x8f4)],_0x3e3f45[_0x1722bf(0x6ff)]),this['isSync']=new Promise(_0x2804b2=>{const _0x443656=_0x1722bf;this[_0x443656(0xa1f)]=_0x2804b2;}),_0x564032 instanceof _0x2f33b1)this[_0x1722bf(0x8f5)]=_0x564032[_0x1722bf(0x150)]();else{const [_0x1c6091,_0x2a32e8]=_0x2f33b1[_0x1722bf(0x233)](_0x564032);if(!_0x1c6091)throw new _0x54ac69(_0x1dd92b[_0x1722bf(0x9f9)],_0x1722bf(0x680)+_0x2a32e8);this['layout']=structuredClone(_0x564032);}this[_0x1722bf(0x84c)](this[_0x1722bf(0x8f5)]),this['db']=new _0x1309ba(this[_0x1722bf(0x655)],this[_0x1722bf(0x8f5)]),this[_0x1722bf(0x707)]();}async[_0x45ef94(0xca)](_0x119840,_0xe6ee11){const _0x3744dc=_0x45ef94;if(_0x301706[_0x3744dc(0x1d5)](_0x3e3f45[_0x3744dc(0x6ff)],_0x3744dc(0x6eb),this[_0x3744dc(0x8f4)]),!this[_0x3744dc(0x211)])throw new _0x279d71(_0x279d71[_0x3744dc(0x9c2)]['KeyValueDatabaseTransactionTableNotInitialized']);if(await this[_0x3744dc(0xb6)],await this[_0x3744dc(0x358)](_0x119840),await this[_0x3744dc(0x7bc)][_0x3744dc(0x5f8)]()===_0xe6ee11){const _0x4b04b5={'sourceId':this[_0x3744dc(0x5e4)][_0x3744dc(0xa2a)](),'destinationIds':[_0x119840],'propagate':!0x0,'messageType':_0x43910d[_0x3744dc(0xc4)],'content':{'type':_0x292504[_0x3744dc(0x2c4)],'label':this[_0x3744dc(0x8f4)],'mmrRoot':_0xe6ee11}};return this['loggingCycle'][_0x3744dc(0x164)](_0x4b04b5),void this[_0x3744dc(0x9da)][_0x3744dc(0x379)](_0x4b04b5);}const _0x479353=this[_0x3744dc(0x7bc)][_0x3744dc(0x51b)](),_0x4e1ae2={'sourceId':this[_0x3744dc(0x5e4)][_0x3744dc(0xa2a)](),'destinationIds':[_0x119840],'propagate':!0x0,'messageType':_0x43910d[_0x3744dc(0xc4)],'content':{'type':_0x292504[_0x3744dc(0x847)],'label':this[_0x3744dc(0x8f4)],'peaks':_0x479353}};this[_0x3744dc(0x8de)][_0x3744dc(0x164)](_0x4e1ae2),this['systemTopic']['publish'](_0x4e1ae2);}async[_0x45ef94(0x2f0)](_0xf6e94b,_0xfabcf1){const _0x3959fc=_0x45ef94,_0x35090c=await this[_0x3959fc(0x7bc)][_0x3959fc(0x5f8)](),_0x4f022c=_0x35090c===_0xfabcf1;if(_0x301706[_0x3959fc(0x1d5)](_0x3e3f45[_0x3959fc(0x6ff)],_0x3959fc(0x407)+_0xf6e94b+_0x3959fc(0xba)+_0x4f022c,this[_0x3959fc(0x8f4)]),_0x4f022c)return this[_0x3959fc(0x48f)](),void this['publishSyncCompleted']();_0x301706['log'](_0x3e3f45['KeyValueDatabase'],'ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.',_0x35090c,_0xfabcf1),_0x301706[_0x3959fc(0x90)]('ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.',{'nodeId':this['localNode'][_0x3959fc(0xa2a)](),'nodeType':this[_0x3959fc(0x5e4)]['type'],'remoteId':_0xf6e94b,'data':{'localMMRRoot':_0x35090c,'remoteMMRRoot':_0xfabcf1}});const _0x3a4ba8={'sourceId':this[_0x3959fc(0x5e4)][_0x3959fc(0xa2a)](),'messageType':_0x43910d[_0x3959fc(0xc4)],'propagate':!0x0,'content':{'type':_0x292504[_0x3959fc(0x7dc)],'label':this['label'],'mmrRoot':_0x35090c}};this['systemTopic'][_0x3959fc(0x379)](_0x3a4ba8);}async[_0x45ef94(0x626)](_0x16f80a,_0x4b52ec){const _0xcbb53d=_0x45ef94;if(_0x301706[_0xcbb53d(0x1d5)](_0x3e3f45[_0xcbb53d(0x6ff)],_0xcbb53d(0x302),_0x16f80a,_0xcbb53d(0x8f4),this[_0xcbb53d(0x8f4)],_0xcbb53d(0x96a),_0x4b52ec),this[_0xcbb53d(0x2d1)])return;this[_0xcbb53d(0x2d1)]=!0x0,this['clearSyncTimeout']();const {differingPeaks:_0x42f96b,peaksMissingInLocal:_0x781076,peaksMissingInRemote:_0x4b9458}=this[_0xcbb53d(0x7bc)][_0xcbb53d(0x568)](_0x4b52ec);_0x301706[_0xcbb53d(0x1d5)](_0x3e3f45[_0xcbb53d(0x6ff)],_0xcbb53d(0x4de),{'differingPeaks':_0x42f96b,'peaksMissingInLocal':_0x781076,'peaksMissingInRemote':_0x4b9458});const _0x3f9267={'sourceId':this[_0xcbb53d(0x5e4)][_0xcbb53d(0xa2a)](),'destinationIds':[_0x16f80a],'propagate':!0x0,'messageType':_0x43910d['Content'],'content':{'type':_0x292504[_0xcbb53d(0x6a3)],'label':this[_0xcbb53d(0x8f4)],'peakHeights':_0x781076[_0xcbb53d(0x1f8)](_0x287b4a=>_0x287b4a[_0xcbb53d(0x2b0)])[_0xcbb53d(0x39d)](_0x42f96b[_0xcbb53d(0x1f8)](_0x15fd06=>_0x15fd06[_0xcbb53d(0x2b0)]))}};if(this[_0xcbb53d(0x9da)][_0xcbb53d(0x379)](_0x3f9267),_0x42f96b[_0xcbb53d(0x453)]>0x0||_0x4b9458[_0xcbb53d(0x453)]>0x0){const _0x57ebff=_0x4b9458[_0xcbb53d(0x1f8)](_0x3f3981=>_0x3f3981[_0xcbb53d(0x2b0)])['concat'](_0x42f96b[_0xcbb53d(0x1f8)](_0x48e80b=>_0x48e80b[_0xcbb53d(0x2b0)]));await this[_0xcbb53d(0x3f4)](_0x16f80a,_0x57ebff,!0x0);}}async['sendPeakTransactions'](_0x423447,_0xf1df4f,_0x322e94=!0x1){const _0x4fac9d=_0x45ef94;_0x301706[_0x4fac9d(0x1d5)](_0x3e3f45[_0x4fac9d(0x6ff)],_0x4fac9d(0x79a),this[_0x4fac9d(0x8f4)]);const _0x5e3cb4=_0xf1df4f[_0x4fac9d(0x1f8)](_0x55a73d=>this[_0x4fac9d(0x7bc)][_0x4fac9d(0x7de)](_0x55a73d))['filter'](Boolean);if(!_0x5e3cb4[_0x4fac9d(0x453)]||_0xf1df4f['length']!==_0x5e3cb4[_0x4fac9d(0x453)])throw new _0x279d71(_0x279d71[_0x4fac9d(0x9c2)][_0x4fac9d(0xa4d)],{'message':'Peaks\x20requested\x20were\x20not\x20found\x20in\x20local\x20MMR','peakHeights':_0xf1df4f,'peaks':_0x5e3cb4[_0x4fac9d(0x1f8)](_0x45c2b5=>_0x45c2b5[_0x4fac9d(0x2b0)]),'nodeId':_0x423447});const _0x2f1523=[];for(const _0x4e9d8c of _0x5e3cb4)this[_0x4fac9d(0x232)](_0x4e9d8c,_0x2f1523);const _0x2a34b5=_0x322e94?void 0x0:[_0x423447],_0x262da1={'sourceId':this[_0x4fac9d(0x5e4)][_0x4fac9d(0xa2a)](),'destinationIds':_0x2a34b5,'messageType':_0x43910d['Content'],'propagate':!0x0,'content':{'type':_0x292504['KeyValueDatabaseSendTransactions'],'label':this['label'],'transactions':_0x2f1523}};this[_0x4fac9d(0x8de)][_0x4fac9d(0x164)](_0x262da1),this[_0x4fac9d(0x9da)]['publish'](_0x262da1);}async[_0x45ef94(0x445)](_0x46c5f2,_0x273a68){const _0x53fa2e=_0x45ef94;_0x301706['log'](_0x3e3f45[_0x53fa2e(0x6ff)],'Received\x20'+_0x273a68[_0x53fa2e(0x453)]+_0x53fa2e(0x8ad)+_0x46c5f2+_0x53fa2e(0x4cc)+this[_0x53fa2e(0x8f4)]);for(const _0x5887d1 of _0x273a68){const _0x2e3b2e=await this[_0x53fa2e(0x211)][_0x53fa2e(0x1f5)](_0x5887d1['id']);if(!(_0x2e3b2e&&this['compareTransactions'](_0x2e3b2e,_0x5887d1)>=0x0)){if(_0x5887d1[_0x53fa2e(0xae)]===_0x4f5686[_0x53fa2e(0x8be)]){const [_0x5d4c11,_0x4e472d]=_0x5887d1['id'][_0x53fa2e(0x25b)]('::'),_0x6d928e=this['getTable'](_0x5d4c11);await _0x6d928e['delete'](_0x4e472d);}else this[_0x53fa2e(0x461)][_0x53fa2e(0x59e)](_0x5887d1['id']);}}if(_0x301706[_0x53fa2e(0x1d5)](_0x3e3f45[_0x53fa2e(0x6ff)],_0x53fa2e(0x170)+this['transactionsToSync']['length']+'\x20new\x20transactions',this[_0x53fa2e(0x8f4)]),this[_0x53fa2e(0x461)][_0x53fa2e(0x453)]>0x0){const _0x3e8cdd={'sourceId':this[_0x53fa2e(0x5e4)][_0x53fa2e(0xa2a)](),'destinationIds':[_0x46c5f2],'messageType':_0x43910d[_0x53fa2e(0xc4)],'propagate':!0x0,'content':{'type':_0x292504['KeyValueDatabaseRequestTransactionsValue'],'label':this[_0x53fa2e(0x8f4)],'transactionIds':this['transactionsToSync']}};this[_0x53fa2e(0x8de)]['logDataSent'](_0x3e8cdd),this[_0x53fa2e(0x9da)][_0x53fa2e(0x379)](_0x3e8cdd);}}[_0x45ef94(0x9a1)](){const _0x46a5e6=_0x45ef94;this[_0x46a5e6(0x707)]();}['getContentType'](){const _0x38bd20=_0x45ef94;return _0x29184c['ContentType'][_0x38bd20(0x6ff)];}[_0x45ef94(0x9d1)](){const _0x126189=_0x45ef94;this['db'][_0x126189(0x8b0)](),this[_0x126189(0x90b)]?.(),clearTimeout(this[_0x126189(0x706)]),delete this['debounceStats'],super[_0x126189(0x9d1)]();}['close'](){const _0x33e998=_0x45ef94;this['clearSyncTimeout'](),this['systemTopic'][_0x33e998(0x379)]({'sourceId':_0x17190e,'messageType':_0x43910d[_0x33e998(0xc4)],'content':{'type':_0x292504[_0x33e998(0x1a9)],'label':this[_0x33e998(0x8f4)]}});}['getTable'](_0x268e09){const _0x58dc86=_0x45ef94,_0x5f34ce=this[_0x58dc86(0x952)]['get'](_0x268e09);if(_0x5f34ce)return _0x5f34ce;try{if(!this['db']['hasTable'](_0x268e09))throw new _0x54ac69(_0x1dd92b[_0x58dc86(0x932)],_0x58dc86(0x854));const _0x3e3b0b=new _0x4249ea(this['db']['getTableConnector'](_0x268e09),_0x268e09,this[_0x58dc86(0xd3)]);return this['tables'][_0x58dc86(0x2b3)](_0x268e09,_0x3e3b0b),{'get':_0x3e3b0b[_0x58dc86(0x1f5)][_0x58dc86(0x26b)](_0x3e3b0b),'set':_0x3e3b0b[_0x58dc86(0x2b3)][_0x58dc86(0x26b)](_0x3e3b0b),'add':_0x3e3b0b[_0x58dc86(0x9fb)][_0x58dc86(0x26b)](_0x3e3b0b),'delete':_0x3e3b0b[_0x58dc86(0x991)][_0x58dc86(0x26b)](_0x3e3b0b),'clear':_0x3e3b0b[_0x58dc86(0x1ac)][_0x58dc86(0x26b)](_0x3e3b0b),'list':_0x3e3b0b[_0x58dc86(0x600)][_0x58dc86(0x26b)](_0x3e3b0b),'count':_0x3e3b0b['count'][_0x58dc86(0x26b)](_0x3e3b0b),'subscribe':_0x3e3b0b[_0x58dc86(0x79d)][_0x58dc86(0x26b)](_0x3e3b0b),'unsubscribe':_0x3e3b0b[_0x58dc86(0x2b6)][_0x58dc86(0x26b)](_0x3e3b0b)};}catch(_0x27003f){if(_0x27003f instanceof _0x54ac69)throw _0x27003f;throw new _0x54ac69(_0x1dd92b[_0x58dc86(0x251)],_0x58dc86(0x32c));}}[_0x45ef94(0x79d)](_0x111765){const _0x41b1ac=_0x45ef94;this[_0x41b1ac(0x701)]=this[_0x41b1ac(0x4a2)]['subscribe'](_0x111765),this[_0x41b1ac(0x187)](this['isSync'])[_0x41b1ac(0xea)](_0x2532e2=>{const _0x33ae7b=_0x41b1ac;_0x2532e2&&this[_0x33ae7b(0x4a2)][_0x33ae7b(0x379)]({'event':_0x29184c[_0x33ae7b(0x1c5)][_0x33ae7b(0xdc)]});});}[_0x45ef94(0x2b6)](){this['listenerUnsubscriber']?.(),this['listenerUnsubscriber']=void 0x0;}async[_0x45ef94(0x7ae)](){const _0x5cc0f8=_0x45ef94;_0x264e87(_0x3e3f45[_0x5cc0f8(0x6ff)],_0x5cc0f8(0x77));const _0x486aa1=[_0x33c2da,_0x6102af],_0x2c49d4=[];try{await this['db'][_0x5cc0f8(0x7ae)]();const _0x65adfb=this['db'][_0x5cc0f8(0x964)](_0x6102af),_0x53c599=await _0x65adfb[_0x5cc0f8(0x600)](),{id:_0x226197,layout:_0x21b627}=_0x53c599[0x0]??{};if(_0x21b627){for(const _0xc481fa in _0x21b627)_0x486aa1[_0x5cc0f8(0x62f)](_0xc481fa)||this['db'][_0x5cc0f8(0x1b1)](_0xc481fa)||_0x2c49d4[_0x5cc0f8(0x59e)](_0xc481fa);await _0x65adfb['set'](_0x226197,{'layout':this[_0x5cc0f8(0x8f5)]});}else await _0x65adfb[_0x5cc0f8(0x9fb)]({'layout':this[_0x5cc0f8(0x8f5)]});}catch(_0x54a45b){throw new _0x54ac69(_0x1dd92b['KeyValueDatabaseNotOpen'],_0x54a45b[_0x5cc0f8(0x7c2)]||_0x5cc0f8(0x353));}this['instantiateTransactionTable'](),await this[_0x5cc0f8(0x410)](),this[_0x5cc0f8(0x2ea)](),this[_0x5cc0f8(0x4f5)](),_0x2c49d4[_0x5cc0f8(0xa3f)](_0x5e511f=>this[_0x5cc0f8(0x6fd)](_0x5e511f));}async[_0x45ef94(0x18f)](_0x351450,_0xb2dbde=()=>{},_0x240bed=!0x1){const _0x5e9cf2=_0x45ef94;if(!_0x351450)return setTimeout(()=>{const _0x5f3568=a0_0x395e;this[_0x5f3568(0x48f)](),this['publishSyncCompleted']();},0x0),!0x0;if(this[_0x5e9cf2(0x2d1)]=!0x1,this[_0x5e9cf2(0x3dc)]=_0xb2dbde,this[_0x5e9cf2(0x855)]=setTimeout(_0xb2dbde,0x7d0),!this[_0x5e9cf2(0x9da)])throw new _0x279d71(_0x279d71[_0x5e9cf2(0x9c2)]['MissingSystemTopic']);const _0xdc48b6=await this[_0x5e9cf2(0x7bc)][_0x5e9cf2(0x5f8)](),_0x3cbb71={'sourceId':this['localNode'][_0x5e9cf2(0xa2a)](),'messageType':_0x43910d['Content'],'propagate':_0x240bed,'content':{'type':_0x292504['KeyValueDatabaseSyncRequired'],'label':this[_0x5e9cf2(0x8f4)],'mmrRoot':_0xdc48b6}};return this[_0x5e9cf2(0x8de)][_0x5e9cf2(0x164)](_0x3cbb71),this['systemTopic']['publish'](_0x3cbb71),this['isSync'];}async['sendTransactionsValue'](_0x31004a,_0x410d42){const _0x51e0e4=_0x45ef94;if(_0x301706[_0x51e0e4(0x1d5)](_0x3e3f45[_0x51e0e4(0x6ff)],_0x51e0e4(0x55f)+_0x410d42[_0x51e0e4(0x453)],this[_0x51e0e4(0x8f4)]),!this['transactionTable'])throw new _0x279d71(_0x279d71[_0x51e0e4(0x9c2)][_0x51e0e4(0xd8)]);for(const _0x60e662 of _0x410d42){const _0x1ab0ff=await this['transactionTable'][_0x51e0e4(0x1f5)](_0x60e662);if(!_0x1ab0ff)continue;const [_0x3bdb99,_0x406c74]=_0x60e662[_0x51e0e4(0x25b)]('::'),_0x3b9a96=this[_0x51e0e4(0xa1b)](_0x3bdb99),_0x512d01=await _0x3b9a96[_0x51e0e4(0x1f5)](_0x406c74);_0x512d01?(_0x1ab0ff[_0x51e0e4(0x7b5)]=_0x512d01,this[_0x51e0e4(0x55e)](_0x1ab0ff,[_0x31004a])):_0x301706[_0x51e0e4(0x90)]('sendTransactionsValue\x20-\x20value\x20not\x20found',{'nodeId':this[_0x51e0e4(0x5e4)][_0x51e0e4(0xa2a)](),'nodeType':this[_0x51e0e4(0x5e4)][_0x51e0e4(0x6e1)],'remoteId':_0x31004a,'data':{'tableKeys':Object[_0x51e0e4(0x428)](this[_0x51e0e4(0x952)]),'transactionId':_0x60e662,'transactions':this[_0x51e0e4(0x461)],'tableName':_0x3bdb99,'key':_0x406c74}});}}async[_0x45ef94(0x8c4)](_0x4180d){const _0x3ede43=_0x45ef94;if(!this['transactionTable'])throw new _0x279d71(_0x279d71[_0x3ede43(0x9c2)][_0x3ede43(0xd8)]);const _0x52bb34=await this[_0x3ede43(0x7bc)][_0x3ede43(0x2cb)](_0x4180d),_0x512f0d=this[_0x3ede43(0x9a5)][_0x3ede43(0x1f5)](_0x52bb34);if(_0x512f0d&&this[_0x3ede43(0x914)](_0x4180d,_0x512f0d)<=0x0)return void _0x301706['log'](_0x3e3f45[_0x3ede43(0x6ff)],'writeTransaction\x20-\x20transaction\x20already\x20exists',_0x4180d);const _0x183b24={..._0x4180d};return delete _0x183b24[_0x3ede43(0x7b5)],this[_0x3ede43(0x6d1)](_0x183b24),await this[_0x3ede43(0x211)][_0x3ede43(0x2b3)](_0x4180d['id'],_0x183b24),_0x4180d;}[_0x45ef94(0x914)](_0x264951,_0x5d45eb){const _0x50c6f5=_0x45ef94;return _0x264951[_0x50c6f5(0x645)]!==_0x5d45eb[_0x50c6f5(0x645)]?_0x264951[_0x50c6f5(0x645)]-_0x5d45eb[_0x50c6f5(0x645)]:_0x264951['priority']-_0x5d45eb['priority'];}async[_0x45ef94(0x8cd)](_0x20ccf0){const _0x3f67a7=_0x45ef94;if(!this[_0x3f67a7(0x211)])throw new _0x279d71(_0x279d71[_0x3f67a7(0x9c2)][_0x3f67a7(0xd8)]);const _0x4d5c11=_0x20ccf0[_0x3f67a7(0x249)]+'::'+_0x20ccf0[_0x3f67a7(0x1dd)],_0x253c42=await _0x5e415d[_0x3f67a7(0x550)](),_0x4f12e3={'id':_0x4d5c11,'priority':Math['random'](),'timestamp':_0x253c42,'action':_0x20ccf0['action']};if(await this['writeTransaction'](_0x4f12e3))return _0x4f12e3;}async[_0x45ef94(0x6fd)](_0x56b508){const _0x20b6e5=_0x45ef94;if(!this[_0x20b6e5(0x211)])throw new _0x279d71(_0x279d71['codes'][_0x20b6e5(0xd8)]);const _0x639b2f=_0x5002a5[_0x20b6e5(0x376)]('id')['where'](_0x20b6e5(0x941),[_0x56b508+'::',_0x56b508+_0x20b6e5(0x13d)]),_0x569aa7=await this[_0x20b6e5(0x211)][_0x20b6e5(0x600)](_0x639b2f[_0x20b6e5(0x2df)]());for(const _0x57af55 of _0x569aa7)await this['transactionTable']['delete'](_0x57af55['id']);}['setOnMessageHandler'](){this['onMessage'](async(_0x372b94,_0x2c1177)=>{const _0x51ec3f=a0_0x395e;if(_0x2c1177 instanceof File)return;if(this['loggingCycle'][_0x51ec3f(0x17e)](_0x2c1177),!await this['writeTransaction'](_0x2c1177))return void this['checkSyncComplete'](_0x372b94,_0x2c1177);if(!_0x2c1177[_0x51ec3f(0x7b5)])throw new _0x279d71(_0x279d71[_0x51ec3f(0x9c2)][_0x51ec3f(0x486)]);const [_0x230317,_0x46189e]=_0x2c1177['id'][_0x51ec3f(0x25b)]('::'),_0x4ab04a=this[_0x51ec3f(0xa1b)](_0x230317);if(!_0x4ab04a)throw new _0x279d71(_0x279d71[_0x51ec3f(0x9c2)][_0x51ec3f(0x4ab)],{'table':_0x4ab04a});let _0x371b9b=0x0;switch(_0x2c1177[_0x51ec3f(0xae)]){case _0x4f5686[_0x51ec3f(0x6b8)]:case _0x4f5686[_0x51ec3f(0x3ac)]:{const _0x102756=_0x4ab04a[_0x51ec3f(0x2b3)](_0x46189e,_0x2c1177[_0x51ec3f(0x7b5)],!0x1);_0x371b9b=JSON[_0x51ec3f(0xa51)](_0x2c1177[_0x51ec3f(0x7b5)])[_0x51ec3f(0x453)],this[_0x51ec3f(0x461)][_0x51ec3f(0x62f)](_0x2c1177['id'])&&this[_0x51ec3f(0x931)]['push'](_0x102756);break;}case _0x4f5686[_0x51ec3f(0x8be)]:{const _0x37369f=_0x4ab04a['delete'](_0x46189e,!0x1);this[_0x51ec3f(0x461)]['includes'](_0x2c1177['id'])&&this[_0x51ec3f(0x931)][_0x51ec3f(0x59e)](_0x37369f);break;}}_0x301706[_0x51ec3f(0x6d8)](_0x230988[_0x51ec3f(0x6ff)],{'type':_0x51ec3f(0x18f),'label':this[_0x51ec3f(0x8f4)],'nodeId':this[_0x51ec3f(0x5e4)]['getId'](),'nodeType':this[_0x51ec3f(0x5e4)][_0x51ec3f(0x6e1)],'clusterId':this[_0x51ec3f(0x9aa)],'tableName':_0x230317,'key':_0x46189e,'size':_0x371b9b}),this[_0x51ec3f(0x20e)](_0x372b94,_0x2c1177);});}['setOnTableWriteHandler'](){const _0x1fbeed=_0x45ef94;this[_0x1fbeed(0x90b)]=this[_0x1fbeed(0xd3)][_0x1fbeed(0x79d)](async _0x1ffafa=>{const _0x3a070b=_0x1fbeed;let _0x350fa9=0x0;switch(_0x1ffafa['action']){case _0x4f5686[_0x3a070b(0x6b8)]:case _0x4f5686[_0x3a070b(0x3ac)]:case _0x4f5686[_0x3a070b(0x8be)]:{const _0x204b9c=await this[_0x3a070b(0x8cd)](_0x1ffafa);if(!_0x204b9c)return;_0x204b9c['value']=_0x1ffafa[_0x3a070b(0x7b5)],this[_0x3a070b(0x55e)](_0x204b9c),_0x350fa9=JSON[_0x3a070b(0xa51)](_0x1ffafa[_0x3a070b(0x7b5)])[_0x3a070b(0x453)],this[_0x3a070b(0x585)]+=0x1;break;}case _0x270cec[_0x3a070b(0x62e)]:case _0x270cec[_0x3a070b(0x3e8)]:case _0x270cec[_0x3a070b(0x940)]:this[_0x3a070b(0x3e2)]+=0x1;}_0x301706[_0x3a070b(0x6d8)](_0x230988[_0x3a070b(0x6ff)],{'type':_0x1ffafa[_0x3a070b(0xae)],'label':this[_0x3a070b(0x8f4)],'nodeId':this[_0x3a070b(0x5e4)]['getId'](),'nodeType':this[_0x3a070b(0x5e4)][_0x3a070b(0x6e1)],'clusterId':this[_0x3a070b(0x9aa)],'tableName':_0x1ffafa['tableName'],'key':_0x1ffafa[_0x3a070b(0x1dd)],'size':_0x350fa9}),this['sendStats']();});}[_0x45ef94(0x692)](){const _0x3fd3d6=_0x45ef94;this['db']&&(this[_0x3fd3d6(0x211)]||(this[_0x3fd3d6(0x211)]=this['db'][_0x3fd3d6(0x964)](_0x33c2da)));}[_0x45ef94(0x48f)](){const _0x18bcad=_0x45ef94;this['syncTimeout']&&(clearTimeout(this[_0x18bcad(0x855)]),delete this[_0x18bcad(0x855)]);}async[_0x45ef94(0x6a9)](){const _0x40ef79=_0x45ef94;await this[_0x40ef79(0x7bc)]['ready'],this['logSyncMetrics'](),this[_0x40ef79(0x4a2)]['publish']({'event':_0x29184c[_0x40ef79(0x1c5)][_0x40ef79(0xdc)]}),this[_0x40ef79(0xa1f)]?.(!0x0),delete this['syncResolve'],this[_0x40ef79(0x707)](),_0x301706['log'](_0x3e3f45['KeyValueDatabase'],_0x40ef79(0x7ec),this[_0x40ef79(0x8f4)]);}async[_0x45ef94(0x810)](_0x1dcf2a){const _0x2dbd09=_0x45ef94;await Promise[_0x2dbd09(0x7cb)](this[_0x2dbd09(0x931)]),_0x301706[_0x2dbd09(0x1d5)](_0x3e3f45['KeyValueDatabase'],_0x2dbd09(0x240)+this['syncTransactionsWritten']['length']+'\x20writes\x20from\x20'+_0x1dcf2a+_0x2dbd09(0x787),this['label']),await this[_0x2dbd09(0x7bc)][_0x2dbd09(0x30c)],await this[_0x2dbd09(0xa06)](_0x1dcf2a),await this[_0x2dbd09(0x6a9)]();}[_0x45ef94(0x20e)](_0x5128bb,_0x4ef266){const _0x22752c=_0x45ef94;this['transactionsToSync'][_0x22752c(0x62f)](_0x4ef266['id'])&&(this['clearSyncTimeout'](),this['transactionsToSync']=this[_0x22752c(0x461)][_0x22752c(0x533)](_0x2cb033=>_0x2cb033!==_0x4ef266['id']),0x0!==this[_0x22752c(0x461)][_0x22752c(0x453)]?this[_0x22752c(0x855)]=setTimeout(this[_0x22752c(0x3dc)],0x7d0):this[_0x22752c(0x810)](_0x5128bb));}['sendStats'](){const _0x45ec83=_0x45ef94;this['debounceStats']&&clearTimeout(this[_0x45ec83(0x706)]),this[_0x45ec83(0x706)]=setTimeout(async()=>{const _0x486a7d=_0x45ec83;delete this[_0x486a7d(0x706)];let _0x12cae7=0x0;for(const _0x42f7b8 of this['tables'][_0x486a7d(0x67a)]())_0x12cae7+=await _0x42f7b8[_0x486a7d(0x722)]();this['systemTopic']['publish']({'sourceId':_0x17190e,'messageType':_0x43910d['Content'],'content':{'type':_0x292504[_0x486a7d(0x3be)],'label':this['label'],'stats':{'timestamp':Date[_0x486a7d(0x69)](),'storage':_0x12cae7,'messagesSent':this[_0x486a7d(0x93c)],'messagesReceived':this[_0x486a7d(0x266)],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x486a7d(0x7c3)],'writes':this[_0x486a7d(0x585)],'reads':this[_0x486a7d(0x3e2)],'prompts':0x0,'tokens':0x0}}}),_0x301706[_0x486a7d(0x1c3)](_0x230988['KeyValueDatabase'],_0x486a7d(0x923)+this[_0x486a7d(0x9aa)]+_0x486a7d(0x923)+this[_0x486a7d(0x8f4)],_0x12cae7);},_0x4032ce);}['addReservedTables'](_0x22f2e9){const _0x5bc8d4=_0x45ef94;if(_0x22f2e9['tables'][_0x33c2da])throw new _0x54ac69(_0x1dd92b[_0x5bc8d4(0x186)],'Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27'+_0x33c2da+_0x5bc8d4(0x12d));if(_0x22f2e9['tables'][_0x6102af])throw new _0x54ac69(_0x1dd92b['KeyValueDatabaseTableNameReserved'],_0x5bc8d4(0x58e)+_0x6102af+'\x27\x20reserved');_0x22f2e9[_0x5bc8d4(0x952)][_0x33c2da]={'indexes':[]},_0x22f2e9[_0x5bc8d4(0x952)][_0x6102af]={'indexes':[]};}async[_0x45ef94(0x187)](_0x3b44a0){const _0x2a3c32=_0x45ef94;return Promise['race']([_0x3b44a0,Promise[_0x2a3c32(0x899)](_0x2a3c32(0x6be))])['then'](_0x2d057b=>'not-resolved'!==_0x2d057b);}async[_0x45ef94(0xa06)](_0x5932d8){const _0x390659=_0x45ef94;await this[_0x390659(0x6da)]();const _0x79167c=await this['mmr'][_0x390659(0x5f8)](),_0x3dbcbd={'sourceId':this[_0x390659(0x5e4)][_0x390659(0xa2a)](),'destinationIds':[_0x5932d8],'propagate':!0x0,'messageType':_0x43910d[_0x390659(0xc4)],'content':{'type':_0x292504[_0x390659(0x2c4)],'label':this[_0x390659(0x8f4)],'mmrRoot':_0x79167c}};this[_0x390659(0x9da)][_0x390659(0x379)](_0x3dbcbd);}async['buildInitialMMR'](){const _0x3bed6b=_0x45ef94;if(!this['transactionTable'])throw new _0x279d71(_0x279d71['codes'][_0x3bed6b(0xd8)]);this[_0x3bed6b(0xa05)]=await this[_0x3bed6b(0x211)][_0x3bed6b(0x600)](),this[_0x3bed6b(0xa05)][_0x3bed6b(0xb8)](this[_0x3bed6b(0x914)]),this[_0x3bed6b(0x7bc)]=new _0x10838d(),this[_0x3bed6b(0x9a5)]=new Map();for(const _0x4fd171 of this[_0x3bed6b(0xa05)])this[_0x3bed6b(0x558)](_0x4fd171,this[_0x3bed6b(0xa05)][_0x3bed6b(0x453)]);this[_0x3bed6b(0x9ac)]();}async[_0x45ef94(0x558)](_0x4d13ae,_0x3d4ce7){const _0x23fd9c=_0x45ef94,_0xaca7eb={..._0x4d13ae};delete _0xaca7eb['value'],await this[_0x23fd9c(0x7bc)]['appendTransaction'](_0xaca7eb,_0x3d4ce7);const _0x5ed1e6=await this['mmr'][_0x23fd9c(0x2cb)](_0xaca7eb);this[_0x23fd9c(0x9a5)][_0x23fd9c(0x2b3)](_0x5ed1e6,_0x4d13ae);}[_0x45ef94(0x5a6)](_0x37f350){const _0x3ded84=_0x45ef94;return this[_0x3ded84(0x9a5)][_0x3ded84(0x1f5)](_0x37f350);}['collectTransactionsFromNode'](_0x51e6d0,_0x53e1d7){const _0x379a24=_0x45ef94;if(0x0!==_0x51e6d0[_0x379a24(0x2b0)])_0x51e6d0[_0x379a24(0x7a6)]&&this[_0x379a24(0x232)](_0x51e6d0['left'],_0x53e1d7),_0x51e6d0[_0x379a24(0x274)]&&this[_0x379a24(0x232)](_0x51e6d0[_0x379a24(0x274)],_0x53e1d7);else{const _0x26b5c7=this[_0x379a24(0x5a6)](_0x51e6d0['hash']);_0x26b5c7&&_0x53e1d7[_0x379a24(0x59e)](_0x26b5c7);}}async[_0x45ef94(0x618)](){const _0x3750b1=_0x45ef94;this[_0x3750b1(0x9ab)]&&(clearTimeout(this['debounceRebuildMMR']),delete this[_0x3750b1(0x9ab)],this['transactionsToAppend'][_0x3750b1(0x453)]>0x0&&(this[_0x3750b1(0xa05)]['push'](...this[_0x3750b1(0x133)]['sort'](this[_0x3750b1(0x914)])),this[_0x3750b1(0x133)]=[]));const _0x47262d=this['startLoggingCycle']();this[_0x3750b1(0x7bc)]=new _0x10838d(),this['transactionHashMap']['clear'](),this[_0x3750b1(0xa05)][_0x3750b1(0xb8)](this[_0x3750b1(0x914)]);for(const _0x43d32a of this['transactions'])this['appendTransactionAndUpdateHashMap'](_0x43d32a,this[_0x3750b1(0xa05)][_0x3750b1(0x453)]);await this[_0x3750b1(0x7bc)]['ready'],this['logMMRRebuild'](_0x47262d);}[_0x45ef94(0x1ab)](){const _0x47cd18=_0x45ef94;return this[_0x47cd18(0x8de)][_0x47cd18(0x37f)][_0x47cd18(0x831)](async()=>{const _0x5894ea=_0x47cd18,_0x5ab15b=await this[_0x5894ea(0x7bc)][_0x5894ea(0x5f8)]();return{'startTime':Date['now'](),'initialRoot':_0x5ab15b};},Promise['resolve']({'startTime':0x0,'initialRoot':''}));}async[_0x45ef94(0x9e3)](_0x52f9d0){const _0x3582dc=_0x45ef94;try{const {startTime:_0x280d71,initialRoot:_0x364573}=await _0x52f9d0,_0x5247b4=await this[_0x3582dc(0x7bc)]['getRoot'](),_0x464560=['RebuildMMR\x20-\x20MMR\x20Root\x20changed?\x20'+(_0x364573!==_0x5247b4),_0x3582dc(0xa2d)+_0x364573,_0x3582dc(0x47b)+_0x5247b4,'\x0a\x20\x20===\x20Total\x20Nodes:\x20'+this['mmr'][_0x3582dc(0x5de)](),_0x3582dc(0x391)+(Date[_0x3582dc(0x69)]()-_0x280d71)+'\x20ms\x0a'][_0x3582dc(0x981)]('\x20');this[_0x3582dc(0x8de)]['logger']['log']('',()=>_0x464560);}catch(_0x322637){console['error']('Error\x20during\x20MMR\x20rebuild\x20logging:',_0x322637);}}['debounceRebuildMMRWithTransaction'](_0x2c2510){const _0x32aae1=_0x45ef94;this[_0x32aae1(0x133)]['push'](_0x2c2510),this[_0x32aae1(0x9ab)]&&(clearTimeout(this[_0x32aae1(0x9ab)]),delete this[_0x32aae1(0x9ab)]),this[_0x32aae1(0x9ab)]=setTimeout(()=>{const _0x4bb6eb=_0x32aae1;this[_0x4bb6eb(0x6da)]();},0x3e8);}async[_0x45ef94(0x6da)](){const _0x128ce6=_0x45ef94;if(this[_0x128ce6(0x9ab)]&&(clearTimeout(this[_0x128ce6(0x9ab)]),delete this[_0x128ce6(0x9ab)]),0x0!==this[_0x128ce6(0x133)]['length']){if(0x0===this[_0x128ce6(0xa05)][_0x128ce6(0x453)])return this[_0x128ce6(0xa05)]=this[_0x128ce6(0x133)],this[_0x128ce6(0x133)]=[],await this[_0x128ce6(0x618)]();if(this[_0x128ce6(0x133)][_0x128ce6(0xb8)](this[_0x128ce6(0x914)]),this[_0x128ce6(0x914)](this['transactionsToAppend'][0x0],this[_0x128ce6(0xa05)][this['transactions']['length']-0x1])>0x0){this[_0x128ce6(0x8de)][_0x128ce6(0x37f)][_0x128ce6(0x1d5)](_0x128ce6(0x5d9)+this[_0x128ce6(0x133)][_0x128ce6(0x453)]+_0x128ce6(0x406)+this[_0x128ce6(0xa05)][_0x128ce6(0x453)]);for(const _0x13efac of this['transactionsToAppend'])this[_0x128ce6(0xa05)][_0x128ce6(0x59e)](_0x13efac),this['appendTransactionAndUpdateHashMap'](_0x13efac,this[_0x128ce6(0x133)][_0x128ce6(0x453)]);return this[_0x128ce6(0x133)]=[],void this[_0x128ce6(0x8de)]['logger'][_0x128ce6(0x1d5)]('processTransactionsToComputeMMR\x20-\x20Transactions\x20appended\x20-',async()=>_0x128ce6(0x840)+await this[_0x128ce6(0x7bc)]['getRoot']()+_0x128ce6(0x5ed)+this['mmr']['getTotalNodes']());}this[_0x128ce6(0x8de)][_0x128ce6(0x37f)]['log']('processTransactionsToComputeMMR\x20-\x20Requires\x20a\x20rebuild.\x20Append:\x20'+this[_0x128ce6(0x133)][_0x128ce6(0x453)]+_0x128ce6(0x406)+this[_0x128ce6(0xa05)]['length']),this[_0x128ce6(0xa05)][_0x128ce6(0x59e)](...this[_0x128ce6(0x133)]),this[_0x128ce6(0x133)]=[],this['rebuildMMR']();}}async[_0x45ef94(0x804)](){const _0x5076d8=_0x45ef94;if(!_0x301706[_0x5076d8(0x4d0)](_0x3e3f45['KeyValueDatabase']))return;await this[_0x5076d8(0x7bc)][_0x5076d8(0x30c)];const {dataSent:_0x18637f,dataReceived:_0x435a24}=this[_0x5076d8(0x8de)][_0x5076d8(0x495)]();_0x301706[_0x5076d8(0x1d5)](_0x3e3f45[_0x5076d8(0x6ff)],_0x5076d8(0x48b),this[_0x5076d8(0x8f4)],'\x0a\x20===\x20Total\x20Data\x20Sent:\x20'+_0x18637f,_0x5076d8(0x7d7)+_0x435a24,'\x0a\x20===\x20Current\x20MMR\x20Root',await this[_0x5076d8(0x7bc)][_0x5076d8(0x5f8)](),_0x5076d8(0x96d),this[_0x5076d8(0x7bc)]['getTotalNodes']());}async[_0x45ef94(0x9ac)](){const _0x49944a=_0x45ef94;if(!_0x301706['isChannelEnabled'](_0x3e3f45['KeyValueDatabase']))return;const _0x8afe8c=this[_0x49944a(0x7bc)][_0x49944a(0x51b)](),_0x412b07=_0x8afe8c['map'](_0x3ae2c9=>_0x3ae2c9[_0x49944a(0x2b0)]),_0x492bfd=await this['mmr'][_0x49944a(0x5f8)]();_0x301706[_0x49944a(0x1d5)](_0x3e3f45[_0x49944a(0x6ff)],_0x49944a(0x71d),this[_0x49944a(0xa05)][_0x49944a(0x453)],_0x49944a(0xa05),this['mmr'][_0x49944a(0x5de)](),_0x49944a(0x397),_0x8afe8c[_0x49944a(0x453)],_0x49944a(0x96a),_0x412b07,'root\x20hash:\x20',_0x492bfd);}}const _0x3dc9ec=require('@crewdle/mist-connector-opfs'),_0x517b74=require('@crewdle/mist-connector-indexed-db'),_0x5d3550=require('@crewdle/mist-connector-webrtc-browser'),_0x2d6bee=0x10000000;var _0x1abd35,_0x3fe73d,_0x565f29,_0x44c0fa,_0xb0d358,_0x3b4c4a,_0x53dfe9,_0x568622,_0x3d3be7;!function(_0x733d33){const _0x2a5638=_0x45ef94;_0x733d33[_0x2a5638(0x68d)]=_0x2a5638(0x68d),_0x733d33[_0x2a5638(0xa0d)]=_0x2a5638(0xa0d),_0x733d33[_0x2a5638(0x747)]='AudioVolume',_0x733d33[_0x2a5638(0x98e)]=_0x2a5638(0x98e),_0x733d33['DeviceConfig']=_0x2a5638(0x695),_0x733d33['MediaStream']=_0x2a5638(0x3c9),_0x733d33[_0x2a5638(0x3a4)]=_0x2a5638(0x3a4),_0x733d33[_0x2a5638(0x7a0)]=_0x2a5638(0x7a0),_0x733d33[_0x2a5638(0x2d9)]=_0x2a5638(0x2d9),_0x733d33['WebRTC']=_0x2a5638(0x488);}(_0x1abd35||(_0x1abd35={}));class _0x453ad7{[_0x45ef94(0x117)];['bufferedEvents'];[_0x45ef94(0x8a3)];constructor(_0xfeb1ff=new Map(),_0x5229a0=new Map(),_0x56613f=new EventTarget()){const _0x2399b=_0x45ef94;this['registeredListeners']=_0xfeb1ff,this[_0x2399b(0x326)]=_0x5229a0,this[_0x2399b(0x8a3)]=_0x56613f;}[_0x45ef94(0x948)]=(_0x3b976c,_0x514087)=>this[_0x45ef94(0x117)]['has'](_0x3b976c)?(_0x301706[_0x45ef94(0x1d5)](_0x3e3f45[_0x45ef94(0x705)],'Emitting\x20event\x20on\x20local\x20cluster',{'event':_0x3b976c,'data':_0x514087}),this['eventTarget'][_0x45ef94(0x48c)](new CustomEvent(_0x3b976c,{'detail':_0x514087})),!0x0):(this['bufferEvent'](_0x3b976c,_0x514087),!0x1);['on']=(_0x7e16a8,_0x2cbeb9)=>{const _0x5a51c4=_0x45ef94,_0x4e8c24=_0x260441=>{const _0x10f7ff=a0_0x395e;_0x301706[_0x10f7ff(0x1d5)](_0x3e3f45[_0x10f7ff(0x705)],_0x10f7ff(0x917),_0x260441[_0x10f7ff(0x6e1)],_0x260441[_0x10f7ff(0x91a)]),_0x2cbeb9(_0x260441[_0x10f7ff(0x91a)]);};return this['registeredListeners'][_0x5a51c4(0x2b3)](_0x7e16a8,_0x4e8c24),this['eventTarget'][_0x5a51c4(0x4a4)](_0x7e16a8,_0x4e8c24),_0x301706[_0x5a51c4(0x1d5)](_0x3e3f45[_0x5a51c4(0x513)],'Subscribing\x20to\x20an\x20event:\x20on',_0x7e16a8,_0x2cbeb9),this['consumeBufferedEvents'](_0x7e16a8),this;};['off'](_0x14ea27){const _0x3d188b=_0x45ef94;if(!_0x14ea27)return this[_0x3d188b(0x117)][_0x3d188b(0xa3f)]((_0x3a024b,_0x329bb7)=>{const _0x316caa=_0x3d188b;this[_0x316caa(0x8a3)][_0x316caa(0x9f0)](_0x329bb7,_0x3a024b);}),void this[_0x3d188b(0x117)]['clear']();_0x3d188b(0x829)==typeof _0x14ea27&&this[_0x3d188b(0x8b2)](_0x14ea27),Array[_0x3d188b(0x7df)](_0x14ea27)&&_0x14ea27[_0x3d188b(0xa3f)](_0x5be287=>{const _0x21fd72=_0x3d188b;this[_0x21fd72(0x8b2)](_0x5be287);});}[_0x45ef94(0x8b2)](_0x56da40){const _0x32accb=_0x45ef94,_0x6ba836=this[_0x32accb(0x117)]['get'](_0x56da40);_0x6ba836&&(this[_0x32accb(0x8a3)][_0x32accb(0x9f0)](_0x56da40,_0x6ba836),this[_0x32accb(0x117)][_0x32accb(0x991)](_0x56da40));}[_0x45ef94(0x347)](_0x4868c1,_0x435b54){const _0x127edc=_0x45ef94;_0x301706[_0x127edc(0x1d5)](_0x3e3f45[_0x127edc(0x705)],_0x127edc(0xa4a),{'event':_0x4868c1,'data':_0x435b54});const _0x420de7=this['bufferedEvents'][_0x127edc(0x1f5)](_0x4868c1)||[];this[_0x127edc(0x326)]['set'](_0x4868c1,[..._0x420de7,_0x435b54]);}[_0x45ef94(0x975)](_0x45f0dc){const _0x141123=_0x45ef94,_0x55a6a1=this[_0x141123(0x326)]['get'](_0x45f0dc);_0x55a6a1&&(_0x55a6a1[_0x141123(0xa3f)](_0x5eb37e=>{const _0x571b98=_0x141123;_0x301706[_0x571b98(0x1d5)](_0x3e3f45[_0x571b98(0x705)],_0x571b98(0x6c),{'event':_0x45f0dc,'data':_0x5eb37e}),this['eventTarget'][_0x571b98(0x48c)](new CustomEvent(_0x45f0dc,{'detail':_0x5eb37e}));}),this[_0x141123(0x326)]['delete'](_0x45f0dc));}}class _0x3851a6 extends Error{constructor(_0x142686){const _0x501c3e=_0x45ef94;super(_0x501c3e(0x12e)+_0x142686);}}!function(_0x320271){const _0x3754dc=_0x45ef94;_0x320271[_0x320271[_0x3754dc(0xa29)]=0x0]=_0x3754dc(0xa29),_0x320271[_0x320271[_0x3754dc(0x369)]=0x1]=_0x3754dc(0x369);}(_0x3fe73d||(_0x3fe73d={})),function(_0x5eb152){const _0x2ebce3=_0x45ef94;_0x5eb152[_0x5eb152[_0x2ebce3(0x39e)]=0x0]='Offer',_0x5eb152[_0x5eb152[_0x2ebce3(0x7db)]=0x1]='Answer',_0x5eb152[_0x5eb152['Handshake']=0x2]=_0x2ebce3(0x273),_0x5eb152[_0x5eb152[_0x2ebce3(0x75c)]=0x3]=_0x2ebce3(0x75c),_0x5eb152[_0x5eb152[_0x2ebce3(0x795)]=0x4]=_0x2ebce3(0x795),_0x5eb152[_0x5eb152[_0x2ebce3(0x4bc)]=0x5]=_0x2ebce3(0x4bc),_0x5eb152[_0x5eb152[_0x2ebce3(0x8bc)]=0x6]=_0x2ebce3(0x8bc),_0x5eb152[_0x5eb152[_0x2ebce3(0x936)]=0x7]=_0x2ebce3(0x936),_0x5eb152[_0x5eb152['OptimizationConnectionSuccess']=0x8]=_0x2ebce3(0x497);}(_0x565f29||(_0x565f29={})),function(_0x172966){const _0x53f959=_0x45ef94;_0x172966[_0x172966[_0x53f959(0x6c2)]=0x0]=_0x53f959(0x6c2),_0x172966[_0x172966[_0x53f959(0x7a)]=0x1]=_0x53f959(0x7a);}(_0x44c0fa||(_0x44c0fa={})),function(_0x3b2e82){const _0x292fcb=_0x45ef94;_0x3b2e82[_0x292fcb(0x3c9)]=_0x292fcb(0x270);}(_0xb0d358||(_0xb0d358={})),function(_0x254935){const _0x19fb64=_0x45ef94;_0x254935[_0x254935[_0x19fb64(0x976)]=0x0]=_0x19fb64(0x976),_0x254935[_0x254935['NodeUpdate']=0x1]=_0x19fb64(0x863),_0x254935[_0x254935[_0x19fb64(0x638)]=0x2]=_0x19fb64(0x638),_0x254935[_0x254935[_0x19fb64(0x2fd)]=0x3]=_0x19fb64(0x2fd);}(_0x3b4c4a||(_0x3b4c4a={})),function(_0x3e09e5){const _0x324557=_0x45ef94;_0x3e09e5[_0x3e09e5[_0x324557(0x580)]=0x0]=_0x324557(0x580),_0x3e09e5[_0x3e09e5[_0x324557(0x539)]=0x1]=_0x324557(0x539);}(_0x53dfe9||(_0x53dfe9={})),function(_0x163383){const _0x1d820e=_0x45ef94;_0x163383[_0x1d820e(0x366)]=_0x1d820e(0x3e7),_0x163383['Downgrade']=_0x1d820e(0x43c);}(_0x568622||(_0x568622={})),function(_0x27f298){const _0x5204c6=_0x45ef94;_0x27f298['Resolution']=_0x5204c6(0x87e),_0x27f298['Bitrate']='bitrate';}(_0x3d3be7||(_0x3d3be7={}));const _0x35d7e9=require('aws-amplify'),_0xb3e332=require('aws-amplify/utils'),_0x2d8523=require('@aws-amplify/api'),_0x1d8e7e=require('@aws-amplify/core');class _0x2df81b{['clusterId'];[_0x45ef94(0x5e4)];[_0x45ef94(0x162)];constructor(_0x4bed91,_0x5ac452,_0x441ffd){const _0xe8b45e=_0x45ef94;this[_0xe8b45e(0x9aa)]=_0x4bed91,this[_0xe8b45e(0x5e4)]=_0x5ac452,this[_0xe8b45e(0x162)]=_0x441ffd;}[_0x45ef94(0x361)](){const _0x1d1343=_0x45ef94;return this[_0x1d1343(0x5e4)][_0x1d1343(0xa2a)]();}[_0x45ef94(0x72d)](){const _0x4c5524=_0x45ef94;return this[_0x4c5524(0x162)];}}var _0x25109d,_0x59b1fe,_0x1deabc;function _0x598ca3(_0x367137,_0x48ddc4){const _0x4f2e3d=_0x45ef94;return _0x367137[_0x4f2e3d(0x499)]===_0x48ddc4;}function _0x48c540(_0x1eb098,_0x1c025f){const _0x4a5540=_0x45ef94;return _0x1eb098[_0x4a5540(0x462)]?.['includes'](_0x1c025f)??function(_0x10b361){return void 0x0===_0x10b361['destinationIds'];}(_0x1eb098);}function _0x310c25(_0x3018c3,{contentType:_0xabed99,label:_0x46738a,remoteId:_0x17a774}){return _0x3018c3+'-'+_0xabed99+'-'+_0x46738a+'-'+_0x17a774;}function _0x24e08a(_0x3366bc,_0x222648,_0x3e333b){return''+_0x3366bc+_0x222648+_0x3e333b;}function _0x4e1053(_0x25e316){const _0x36d697=_0x45ef94;return _0x25e316===_0x59b1fe[_0x36d697(0x73b)]?_0x36d697(0x873):_0x36d697(0x818);}function _0x5360c0(_0x55d617,_0x3a5cee){const _0xd3cbbc=_0x45ef94;return{'label':_0x55d617[_0xd3cbbc(0x97c)](),'contentType':_0x55d617[_0xd3cbbc(0xf7)](),'remoteId':_0x3a5cee['getRemoteId'](),'supportsContentType':_0x3a5cee['getSupportedContentTypes']()[_0xd3cbbc(0x62f)](_0x55d617[_0xd3cbbc(0xf7)]())};}!function(_0x2c258b){const _0x449d66=_0x45ef94;_0x2c258b[_0x2c258b['Waiting']=0x0]=_0x449d66(0x290),_0x2c258b[_0x2c258b[_0x449d66(0x648)]=0x1]=_0x449d66(0x648),_0x2c258b[_0x2c258b[_0x449d66(0x4f4)]=0x2]=_0x449d66(0x4f4);}(_0x25109d||(_0x25109d={})),function(_0x1de2bb){const _0x212bd4=_0x45ef94;_0x1de2bb[_0x212bd4(0x73b)]='in',_0x1de2bb[_0x212bd4(0x4c1)]=_0x212bd4(0x521);}(_0x59b1fe||(_0x59b1fe={}));class _0x16dc1e{[_0x45ef94(0x682)];[_0x45ef94(0x29f)];constructor(_0x4830bb,_0x5203ad){const _0x5621ca=_0x45ef94;this[_0x5621ca(0x682)]=_0x4830bb,this[_0x5621ca(0x29f)]=_0x5203ad;}[_0x45ef94(0x5e6)](_0x3a03a0){const _0x54c65d=_0x45ef94;this[_0x54c65d(0x682)](_0x3a03a0);}async['wait'](){const _0x8d8870=_0x45ef94;await this[_0x8d8870(0x29f)]();}}class _0x5e964b{[_0x45ef94(0x682)];[_0x45ef94(0x29f)];constructor(_0x32b4b0,_0x33b2e1){const _0x2130e8=_0x45ef94;this[_0x2130e8(0x682)]=_0x32b4b0,this[_0x2130e8(0x29f)]=_0x33b2e1;}async[_0x45ef94(0x5e6)](_0x3977ad){const _0x5ab6ff=_0x45ef94;await this[_0x5ab6ff(0x682)](_0x3977ad);}async['wait'](){const _0x49c2bd=_0x45ef94;await this[_0x49c2bd(0x29f)]();}}function _0x2b180a(_0x21e850=()=>{},_0x332f66=()=>!0x1,_0x518c32=()=>{}){let _0x113c5b,_0x594502,_0x3fab84=0x0;return{get 'size'(){return _0x3fab84;},get 'head'(){return _0x113c5b;},get 'tail'(){return _0x594502;},set 'head'(_0x393219){_0x113c5b=_0x393219;},set 'tail'(_0xf1bb34){_0x594502=_0xf1bb34;},'push'(_0x57ca63,_0x17d145=!0x0){const _0x214c3d=a0_0x395e,_0x45ff32={'value':_0x57ca63};_0x17d145&&_0x332f66(_0x45ff32)?_0x21e850():(_0x594502&&(_0x45ff32[_0x214c3d(0x617)]=_0x594502,_0x594502[_0x214c3d(0x213)]=_0x45ff32),_0x594502=_0x45ff32,_0x113c5b||(_0x113c5b=_0x45ff32),_0x3fab84+=0x1,_0x17d145&&_0x21e850());},'pop'(){const _0xff476b=a0_0x395e;if(!_0x594502)return;const _0x4a9aa5=_0x594502[_0xff476b(0x7b5)];return _0x594502=_0x594502[_0xff476b(0x617)],_0x594502&&delete _0x594502[_0xff476b(0x213)],_0x594502||(_0x113c5b=void 0x0),_0x3fab84-=0x1,_0x4a9aa5;},'unshift'(_0x20514e,_0x321db2=!0x0){const _0x52f740=a0_0x395e,_0x6d0141={'value':_0x20514e};_0x321db2&&_0x332f66(_0x6d0141)?_0x21e850():(_0x113c5b&&(_0x113c5b[_0x52f740(0x617)]=_0x6d0141,_0x6d0141['next']=_0x113c5b),_0x113c5b=_0x6d0141,_0x594502||(_0x594502=_0x6d0141),_0x3fab84+=0x1,_0x321db2&&_0x21e850());},'shift'(){const _0x5bff0e=a0_0x395e;if(!_0x113c5b)return;const _0x45e209=_0x113c5b[_0x5bff0e(0x7b5)];return _0x113c5b=_0x113c5b['next'],_0x113c5b&&delete _0x113c5b[_0x5bff0e(0x617)],_0x113c5b||(_0x594502=void 0x0),_0x3fab84-=0x1,_0x45e209;},'clear'(){_0x518c32(),_0x113c5b=void 0x0,_0x594502=void 0x0,_0x3fab84=0x0;}};}function _0xe4e73b(_0x318a13,_0x5728f8=!0x1,_0x11dc87=()=>{},_0x48e61e=()=>!0x1,_0x560fb5=()=>{}){let _0x51d078=!0x1;const _0x1c46b9=_0x2b180a(async function(){const _0x353968=a0_0x395e;if(!_0x51d078){for(_0x51d078=!0x0;_0x1c46b9[_0x353968(0x8dd)];){const _0x38da98=_0x1c46b9[_0x353968(0x5e9)]();if(_0x38da98)try{_0x318a13 instanceof _0x16dc1e&&_0x318a13['call'](_0x38da98),_0x318a13 instanceof _0x5e964b&&await _0x318a13['call'](_0x38da98),_0x11dc87(_0x38da98);}catch(_0x39b7be){_0x5728f8?_0x1c46b9['push'](_0x38da98,!0x1):_0x1c46b9['unshift'](_0x38da98,!0x1),await _0x318a13['wait']();}}_0x51d078=!0x1;}},_0x48e61e,_0x560fb5);return _0x1c46b9;}class _0x1992e4 extends _0x2df81b{[_0x45ef94(0x154)];[_0x45ef94(0x8a2)];[_0x45ef94(0x280)]=_0x2d8523[_0x45ef94(0x17f)][_0x45ef94(0x2f3)];[_0x45ef94(0x8d6)]=_0x5ad34d();[_0x45ef94(0x713)]=_0x16e686();[_0x45ef94(0x902)];[_0x45ef94(0x2d5)];[_0x45ef94(0x48a)]=_0xe4e73b(new _0x5e964b(this[_0x45ef94(0x61b)][_0x45ef94(0x26b)](this),this[_0x45ef94(0x771)][_0x45ef94(0x26b)](this)));[_0x45ef94(0x552)];constructor(_0x553dab,_0x68e886,_0x2fe163,_0xbb2625,_0x2d027e){const _0x54227f=_0x45ef94;super(_0x68e886,_0x2fe163,_0xbb2625),this[_0x54227f(0x154)]=_0x553dab,this[_0x54227f(0x8a2)]=_0x2d027e;}async[_0x45ef94(0x915)](){const _0x2b96df=_0x45ef94;try{const _0x5b7596={'getTokens':async()=>{const _0x4e6803=a0_0x395e,_0x237f70=await this['authService']['getIdToken']();return{'accessToken':(0x0,_0x1d8e7e['decodeJWT'])(_0x237f70),'idToken':(0x0,_0x1d8e7e[_0x4e6803(0x5e2)])(_0x237f70)};}};_0x35d7e9[_0x2b96df(0x3c7)]['configure']({'API':{'GraphQL':{'endpoint':_0x25dcd9[_0x2b96df(0x125)][_0x2b96df(0x1e9)],'region':_0x25dcd9['aws']['region'],'defaultAuthMode':_0x2b96df(0x57a)}}},{'Auth':{'tokenProvider':_0x5b7596}});const _0x7237cb=(0x0,_0x2d8523['generateClient'])();this[_0x2b96df(0x552)]=_0x7237cb,await this[_0x2b96df(0x79d)](),this[_0x2b96df(0x2d5)]=_0xb3e332[_0x2b96df(0x8d8)][_0x2b96df(0x913)](_0x2b96df(0x792),async({payload:_0x45db75})=>{const _0x303a28=_0x2b96df;if(_0x45db75['event']===_0x2d8523[_0x303a28(0x178)]){const _0x1d524d=_0x45db75[_0x303a28(0x1a0)];this[_0x303a28(0x280)]=_0x1d524d[_0x303a28(0x280)],this[_0x303a28(0x8d6)][_0x303a28(0x379)](_0x1d524d[_0x303a28(0x280)]),this[_0x303a28(0x280)]===_0x2d8523['ConnectionState'][_0x303a28(0x2f3)]?(_0x301706[_0x303a28(0x2a9)](_0x303a28(0x627),{'clusterId':this[_0x303a28(0x9aa)],'nodeId':this[_0x303a28(0x361)](),'nodeType':this[_0x303a28(0x5e4)]['type']}),this[_0x303a28(0x8b0)](),this[_0x303a28(0x915)]()):this[_0x303a28(0x280)]===_0x2d8523['ConnectionState']['Connected']?_0x301706[_0x303a28(0x90)](_0x303a28(0x13c),{'clusterId':this[_0x303a28(0x9aa)],'nodeId':this[_0x303a28(0x361)](),'nodeType':this[_0x303a28(0x5e4)]['type']}):_0x301706[_0x303a28(0x90)]('appsync-statechange',{'clusterId':this[_0x303a28(0x9aa)],'nodeId':this['getLocalId'](),'nodeType':this['localNode'][_0x303a28(0x6e1)],'data':{'state':_0x1d524d[_0x303a28(0x280)]}});}});}catch(_0x43a6c1){_0x301706[_0x2b96df(0x2a9)](_0x2b96df(0x834),{'clusterId':this[_0x2b96df(0x9aa)],'nodeId':this['getLocalId'](),'nodeType':this[_0x2b96df(0x5e4)][_0x2b96df(0x6e1)]});}}[_0x45ef94(0x8b0)](){const _0x1de502=_0x45ef94;_0x301706['warning'](_0x1de502(0x69a),{'clusterId':this[_0x1de502(0x9aa)],'nodeId':this[_0x1de502(0x361)](),'nodeType':this[_0x1de502(0x5e4)]['type']}),this[_0x1de502(0x48a)][_0x1de502(0x1ac)](),this[_0x1de502(0x2d5)]?.(),this['subscription']?.[_0x1de502(0x2b6)](),delete this['subscription'];}[_0x45ef94(0x1de)](){const _0x574cc3=_0x45ef94;return this['connectionState']===_0x2d8523[_0x574cc3(0x17f)][_0x574cc3(0x2c8)];}[_0x45ef94(0x55e)](_0x3a6e5d){const _0x175066=_0x45ef94;this[_0x175066(0x48a)][_0x175066(0x59e)](_0x3a6e5d);}[_0x45ef94(0x278)](_0x19e25b){const _0x4ce44d=_0x45ef94;return this[_0x4ce44d(0x713)]['subscribe'](_0x19e25b);}[_0x45ef94(0x5b4)](){const _0x202a0d=_0x45ef94;return[_0x29184c[_0x202a0d(0xd2)][_0x202a0d(0x17a)]];}async[_0x45ef94(0x771)](){if(!this['isConnected']())return new Promise(_0x523684=>{const _0x36e7c0=a0_0x395e,_0x27e5b3=this[_0x36e7c0(0x8d6)][_0x36e7c0(0x79d)](_0xfab1f8=>{const _0x1197ea=_0x36e7c0;_0xfab1f8===_0x2d8523[_0x1197ea(0x17f)][_0x1197ea(0x2c8)]&&(_0x27e5b3(),_0x523684());});});}async[_0x45ef94(0x61b)](_0x18b183){const _0x18a803=_0x45ef94;if(this[_0x18a803(0x280)]!==_0x2d8523[_0x18a803(0x17f)][_0x18a803(0x2c8)])throw new Error(_0x18a803(0x73e));_0x18b183[_0x18a803(0x462)]&&0x1===_0x18b183[_0x18a803(0x462)][_0x18a803(0x453)]?await this[_0x18a803(0x379)](_0x18b183['destinationIds'][0x0],JSON[_0x18a803(0xa51)](_0x18b183)):_0x301706[_0x18a803(0x2a9)]('appsync-no-destination',{'clusterId':this[_0x18a803(0x9aa)],'nodeId':this[_0x18a803(0x361)](),'nodeType':this['localNode'][_0x18a803(0x6e1)]});}async[_0x45ef94(0x379)](_0x4ae1b9,_0xd5186f){const _0x4cb66f=_0x45ef94;if(!this['client'])throw new Error(_0x4cb66f(0xa0));_0x301706[_0x4cb66f(0x1d5)](_0x3e3f45['Signaling'],_0x4cb66f(0xa1),this[_0x4cb66f(0x361)](),_0xd5186f),await this[_0x4cb66f(0x552)][_0x4cb66f(0x64c)]({'query':'\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','variables':{'name':await this[_0x4cb66f(0xb7)](_0x4ae1b9),'data':_0xd5186f}});}async['subscribe'](){const _0x4acb98=_0x45ef94;if(this['subscription'])return;if(!this[_0x4acb98(0x552)])throw new Error(_0x4acb98(0xa0));_0x301706[_0x4acb98(0x1d5)](_0x3e3f45[_0x4acb98(0xa41)],_0x4acb98(0x8d),this[_0x4acb98(0x361)]());const _0xf383ce=await this[_0x4acb98(0x552)]['graphql']({'query':_0x4acb98(0x774),'variables':{'name':await this[_0x4acb98(0xb7)]()},'authToken':await this['authService'][_0x4acb98(0x148)]()},{'Authorization':await this[_0x4acb98(0x8a2)][_0x4acb98(0x148)]()});this[_0x4acb98(0x902)]=_0xf383ce[_0x4acb98(0x79d)]({'next':({data:_0x1a06ed})=>{const _0x377c82=_0x4acb98,_0x3ad95c=JSON[_0x377c82(0x562)](_0x1a06ed[_0x377c82(0x79d)][_0x377c82(0x1a0)]);!_0x598ca3(_0x3ad95c,this['getLocalId']())&&_0x48c540(_0x3ad95c,this[_0x377c82(0x361)]())&&this['messageListeners']['publish'](_0x3ad95c);},'error':console[_0x4acb98(0x1d5)]});}async[_0x45ef94(0xb7)](_0x4a67e3){const _0x2c1760=_0x45ef94,_0x5b3c00=await crypto[_0x2c1760(0xa46)]['digest'](_0x2c1760(0x55b),new TextEncoder()['encode'](this[_0x2c1760(0x154)]+'-'+this[_0x2c1760(0x9aa)]+'-'+(_0x4a67e3??this['getLocalId']())));return Array['from'](new Uint8Array(_0x5b3c00))[_0x2c1760(0x1f8)](_0x5900f5=>_0x5900f5[_0x2c1760(0x70f)](0x10)[_0x2c1760(0x656)](0x2,'0'))[_0x2c1760(0x981)]('');}}!function(_0x49cd84){const _0x1a2780=_0x45ef94;_0x49cd84[_0x49cd84[_0x1a2780(0x6b8)]=0x0]=_0x1a2780(0x6b8),_0x49cd84[_0x49cd84[_0x1a2780(0x276)]=0x1]=_0x1a2780(0x276),_0x49cd84[_0x49cd84['Update']=0x2]='Update',_0x49cd84[_0x49cd84[_0x1a2780(0x2db)]=0x3]=_0x1a2780(0x2db),_0x49cd84[_0x49cd84[_0x1a2780(0xbb)]=0x4]=_0x1a2780(0xbb);}(_0x1deabc||(_0x1deabc={}));const _0x2ce69d='0',_0x3e157c='chunk',_0x17176e=_0x3f1e13,_0x4829db=0x60000;class _0x310dbd{[_0x45ef94(0x9aa)];[_0x45ef94(0x5e4)];['remoteId'];[_0x45ef94(0x29c)];[_0x45ef94(0x611)];[_0x45ef94(0x798)];['connection'];[_0x45ef94(0x6fb)];[_0x45ef94(0x30e)]=0x1;[_0x45ef94(0x9da)];[_0x45ef94(0xa28)]=[];['pendingHandshakeCandidates']=[];[_0x45ef94(0x91b)];constructor(_0x181894,_0x48996d,_0x5b529d,_0x7f7527,_0x531a04,_0x1054f6){const _0x1e54ba=_0x45ef94;this[_0x1e54ba(0x9aa)]=_0x181894,this[_0x1e54ba(0x5e4)]=_0x48996d,this[_0x1e54ba(0x162)]=_0x5b529d,this['iceServers']=_0x7f7527,this[_0x1e54ba(0x611)]=_0x531a04,this['connectionConstructor']=_0x1054f6,this[_0x1e54ba(0x98)]=new this[(_0x1e54ba(0x798))]({'handshakeServers':this[_0x1e54ba(0x29c)]}),this[_0x1e54ba(0x1d7)]();}[_0x45ef94(0x8b0)](){const _0x406b80=_0x45ef94;this[_0x406b80(0x997)]();}[_0x45ef94(0x583)](_0x4bd2a7){const _0x4729e2=_0x45ef94;this[_0x4729e2(0x611)]=_0x4bd2a7;}async['handleHandshake'](_0x4fcbbc,_0xf4a071){const _0x50dc96=_0x45ef94;if(_0xf4a071===this['currentVersion'])for(const _0x452c81 of _0x4fcbbc){if(!this[_0x50dc96(0x98)]['canAddCandidates'])return this['addPendingHandshakeCandidate'](_0x452c81);try{await this[_0x50dc96(0x98)][_0x50dc96(0x9a6)](_0x452c81);}catch(_0x426daf){this[_0x50dc96(0x482)](_0x452c81);}}}[_0x45ef94(0x1de)](){const _0x121e3d=_0x45ef94;return this[_0x121e3d(0x9c7)](),_0x121e3d(0x9d4)===this[_0x121e3d(0x98)][_0x121e3d(0x280)]&&[_0x121e3d(0x9d4),_0x121e3d(0x118)][_0x121e3d(0x62f)](this[_0x121e3d(0x98)][_0x121e3d(0x644)])&&_0x121e3d(0x4f9)!==this[_0x121e3d(0x98)][_0x121e3d(0x79f)]&&'open'===this[_0x121e3d(0x6fb)]?.['state'];}['registerSystemPublisher'](_0xb15619){const _0x2418a3=_0x45ef94;this[_0x2418a3(0x9da)]=_0xb15619;}[_0x45ef94(0xfc)](){const _0x38c54f=_0x45ef94;delete this[_0x38c54f(0x9da)];}['resetConnection'](_0x2b8ddc){const _0x4b3ebd=_0x45ef94;this['stopConnection'](),this[_0x4b3ebd(0x98)]=new this[(_0x4b3ebd(0x798))]({'handshakeServers':this[_0x4b3ebd(0x29c)]}),_0x2b8ddc?this['currentVersion']=_0x2b8ddc:this[_0x4b3ebd(0x30e)]+=0x1,this[_0x4b3ebd(0x1d7)]();}[_0x45ef94(0x677)](){const _0x42a7d7=_0x45ef94;this[_0x42a7d7(0x8ec)][_0x42a7d7(0xa3f)](_0x22ffa3=>{const _0x48741f=_0x42a7d7;try{this['connection'][_0x48741f(0x9a6)](_0x22ffa3);}catch(_0x2637dc){}}),this[_0x42a7d7(0x8ec)]=[];}['publishSystemMessage'](_0x130777,_0x3d3096){const _0x447be5=_0x45ef94;if(!this[_0x447be5(0x9da)])throw new _0x279d71(_0x279d71[_0x447be5(0x9c2)][_0x447be5(0x4fe)],{'content':_0x130777});const _0xf29225={'sourceId':this[_0x447be5(0x5e4)]['getId'](),'destinationIds':[this[_0x447be5(0x162)]],'propagate':this['connectionType']!==_0x3fe73d['Core'],'retry':this[_0x447be5(0x611)]!==_0x3fe73d['Core'],'messageType':_0x43910d['PeerConnection'],'content':_0x130777};_0x3d3096&&(_0xf29225[_0x447be5(0xb1)]=_0x3d3096),this['systemTopic']['publish'](_0xf29225);}[_0x45ef94(0x1d7)](){const _0x33ff13=_0x45ef94;this[_0x33ff13(0x98)][_0x33ff13(0x66d)]=()=>{const _0x460136=_0x33ff13;_0x460136(0x45a)===this[_0x460136(0x98)][_0x460136(0x27e)]&&this[_0x460136(0xa28)]['length']>0x0&&(this[_0x460136(0x91b)]&&clearTimeout(this[_0x460136(0x91b)]),this[_0x460136(0x91b)]=setTimeout(()=>{const _0x585b2a=_0x460136;delete this['handshakeDebounce'],this[_0x585b2a(0x18b)](),this[_0x585b2a(0xa28)]=[];},0x1f4));},this[_0x33ff13(0x98)][_0x33ff13(0x869)]=_0x3c7cdd=>{const _0x286461=_0x33ff13;_0x3c7cdd[_0x286461(0x294)]&&this[_0x286461(0xa28)][_0x286461(0x59e)](_0x3c7cdd[_0x286461(0x294)]);};}[_0x45ef94(0x997)](){const _0x177f99=_0x45ef94;clearTimeout(this[_0x177f99(0x91b)]),delete this[_0x177f99(0x91b)],this['handshakeCandidates']=[],this['pendingHandshakeCandidates']=[],this['dataChannel']&&(this[_0x177f99(0x6fb)][_0x177f99(0x278)]=null,this[_0x177f99(0x6fb)]['onClose']=null,this['dataChannel']['close'](),delete this[_0x177f99(0x6fb)]),this['connection'][_0x177f99(0x66d)]=null,this[_0x177f99(0x98)][_0x177f99(0x869)]=null,this[_0x177f99(0x98)]['onHandshakeStateChange']=null,this[_0x177f99(0x98)][_0x177f99(0x331)]=null,this[_0x177f99(0x98)]['onTrack']=null,this['connection'][_0x177f99(0x887)]=null,this[_0x177f99(0x98)]['close']();}[_0x45ef94(0x482)](_0x52fa72){this['pendingHandshakeCandidates']['push'](_0x52fa72);}[_0x45ef94(0x9c7)](){const _0x1e6cf7=_0x45ef94;_0x301706[_0x1e6cf7(0x1d5)](_0x3e3f45[_0x1e6cf7(0x17f)],_0x1e6cf7(0x3f6),{'localId':this[_0x1e6cf7(0x5e4)][_0x1e6cf7(0xa2a)](),'remoteId':this[_0x1e6cf7(0x162)],'connectionState':this[_0x1e6cf7(0x98)][_0x1e6cf7(0x280)],'handshakeState':this['connection'][_0x1e6cf7(0x644)],'signalingState':this[_0x1e6cf7(0x98)][_0x1e6cf7(0x79f)],'dataChannelState':this[_0x1e6cf7(0x6fb)]?.[_0x1e6cf7(0x6bb)]});}}function _0x5a69d4(_0x4b9332,_0x35dd82){const _0x505b72=_0x45ef94;_0x35dd82[_0x505b72(0x379)]({'sourceId':_0x17190e,'messageType':_0x43910d['PeerConnection'],'content':_0x4b9332});}class _0x56301a{static [_0x45ef94(0x155)];[_0x45ef94(0x1e3)]=[];[_0x45ef94(0x11d)];constructor(){setInterval(()=>{const _0x55dcc2=a0_0x395e;this[_0x55dcc2(0x1e3)][_0x55dcc2(0xa3f)](_0x444672=>{const _0x332527=_0x55dcc2;if(Date[_0x332527(0x69)]()-_0x444672['lastExecuted']>_0x444672[_0x332527(0x218)]){try{_0x444672[_0x332527(0x682)]();}catch(_0xa9fcfc){}_0x444672[_0x332527(0x6f5)]=Date[_0x332527(0x69)]();}});},0x64);}static[_0x45ef94(0x714)](){const _0x54fa65=_0x45ef94;return _0x56301a['instance']||(_0x56301a[_0x54fa65(0x155)]=new _0x56301a()),_0x56301a['instance'];}[_0x45ef94(0x158)](_0x2624f2){const _0x3c5c42=_0x45ef94,_0xca647b=this[_0x3c5c42(0x58f)](_0x2624f2),_0x418383=_0x2624f2[_0x3c5c42(0xac)]();_0x418383&&_0xca647b&&(_0x418383[_0x3c5c42(0x52d)][_0x3c5c42(0x7b5)]=0.001,_0xca647b[_0x3c5c42(0x915)](_0x418383),_0x418383['connect'](_0x2624f2[_0x3c5c42(0x732)]),_0xca647b[_0x3c5c42(0x21b)]());}[_0x45ef94(0x811)](){const _0x43c6e2=_0x45ef94;this[_0x43c6e2(0x11d)]&&(this[_0x43c6e2(0x11d)][_0x43c6e2(0x567)](),this[_0x43c6e2(0x11d)]['disconnect'](),this[_0x43c6e2(0x11d)]=void 0x0);}[_0x45ef94(0x7eb)](_0x462060){return new Promise(_0x1071b2=>{setTimeout(_0x1071b2,_0x462060);});}['setInterval'](_0x515d46,_0x5ef5f9){const _0x10f79e=_0x45ef94;return this[_0x10f79e(0x1e3)]['push']({'callback':_0x515d46,'interval':_0x5ef5f9,'lastExecuted':Date[_0x10f79e(0x69)]()}),()=>{const _0x440f07=_0x10f79e;this['parameters']=this[_0x440f07(0x1e3)][_0x440f07(0x533)](_0x3c1939=>_0x3c1939[_0x440f07(0x682)]!==_0x515d46);};}[_0x45ef94(0x58f)](_0xe00d69){const _0x248f90=_0x45ef94;if(_0xe00d69['createConstantSource'])return _0xe00d69[_0x248f90(0x58f)]();const _0x5f3d79=_0xe00d69[_0x248f90(0x25a)](),_0x3f19cd=_0xe00d69[_0x248f90(0x336)](0x1,0x1,_0xe00d69['sampleRate']);return _0x3f19cd[_0x248f90(0x28c)](0x0)[0x0]=0xa,_0x5f3d79[_0x248f90(0xa49)]=_0x3f19cd,_0x5f3d79[_0x248f90(0x7d8)]=!0x0,_0x5f3d79;}}const _0x4f43db=_0x56301a['getInstance']();class _0xbf0d11 extends _0x310dbd{[_0x45ef94(0xa00)]=_0x5ad34d();[_0x45ef94(0x424)]=_0x5ad34d();[_0x45ef94(0xa3)]=_0x5ad34d();['receivers']=new Map();[_0x45ef94(0x78a)]=new Map();['waitSuccess'];[_0x45ef94(0x266)]=0x0;['systemMessagesReceived']={'messages':{'total':0x0}};[_0x45ef94(0x7c3)]=0x0;[_0x45ef94(0xeb)]=0x0;['loggingCycle']=_0x45df3d(_0x45ef94(0x88d),_0x3e3f45[_0x45ef94(0x4d4)]);[_0x45ef94(0x8b0)](){const _0x302949=_0x45ef94;this[_0x302949(0x7c6)](),this[_0x302949(0x924)][_0x302949(0x1ac)](),super['close']();}async[_0x45ef94(0x7cd)](_0x4a88de,_0x2ff2df){const _0x5df466=_0x45ef94;this['currentVersion']=_0x2ff2df,this[_0x5df466(0x7c6)]();const _0x3dfc56=await this[_0x5df466(0x98)][_0x5df466(0x371)](_0x4a88de);this[_0x5df466(0x677)]();const _0x40f071=(0x0,_0xa305bc['v4'])();this[_0x5df466(0x3f3)]({'type':_0x565f29[_0x5df466(0x7db)],'answer':_0x3dfc56,'version':_0x2ff2df,'connectionType':this[_0x5df466(0x611)]},_0x40f071),this[_0x5df466(0x611)]===_0x3fe73d[_0x5df466(0xa29)]&&(this[_0x5df466(0x875)]=_0x4f43db[_0x5df466(0x886)](()=>{const _0x330c82=_0x5df466;this[_0x330c82(0x3f3)]({'type':_0x565f29[_0x330c82(0x7db)],'answer':_0x3dfc56,'version':_0x2ff2df,'connectionType':this['connectionType']},_0x40f071);},0x1388));}['handleSuccess'](){const _0x2d7cbe=_0x45ef94;this[_0x2d7cbe(0x7c6)]();}[_0x45ef94(0x6f)](_0x52cb93){const _0x42822a=_0x45ef94;this[_0x42822a(0x4e2)](_0x52cb93),this[_0x42822a(0x3f3)]({'type':_0x565f29[_0x42822a(0x4bc)]});}async['collectStats'](){const _0x5a7771=_0x45ef94;this[_0x5a7771(0x9da)]&&(await this[_0x5a7771(0x98)][_0x5a7771(0x84e)](this['receivers'],(_0x402b87,_0x572336)=>{const _0x4cf6d9=_0x5a7771;_0x5a69d4({'type':_0x565f29[_0x4cf6d9(0x936)],'streamId':_0x572336,'nodeId':this['remoteId'],'stats':_0x402b87},this[_0x4cf6d9(0x9da)]);}),this[_0x5a7771(0x9da)]['publish']({'sourceId':_0x17190e,'messageType':_0x43910d[_0x5a7771(0x529)],'content':{'type':_0x565f29[_0x5a7771(0x936)],'nodeId':this[_0x5a7771(0x162)],'stats':{'origin':_0x44c0fa[_0x5a7771(0x7a)],'timestamp':Date[_0x5a7771(0x69)](),'messagesReceived':this[_0x5a7771(0x266)],'bytesReceived':this[_0x5a7771(0x7c3)],'timeReceiving':this[_0x5a7771(0xeb)],'systemMessages':this[_0x5a7771(0x675)]}}}));}[_0x45ef94(0x278)](_0x59f8ed){const _0x4b7e9a=_0x45ef94;return _0x25dcd9[_0x4b7e9a(0xc5)]?this[_0x4b7e9a(0xa00)][_0x4b7e9a(0x79d)](_0x59f8ed):this[_0x4b7e9a(0xa00)][_0x4b7e9a(0x79d)](_0x142b19=>{const _0xadc110=_0x4b7e9a;0x0===_0x142b19[_0xadc110(0x3ad)]&&_0x142b19['messageType']===_0x43910d[_0xadc110(0xc4)]&&this[_0xadc110(0x8de)][_0xadc110(0x37f)][_0xadc110(0x1d5)](_0xadc110(0x204)+this[_0xadc110(0x162)],()=>_0x4e0d4f(_0x142b19)),_0x59f8ed(_0x142b19);});}[_0x45ef94(0x4df)](_0x40df90){const _0x5c9953=_0x45ef94;return this[_0x5c9953(0x424)]['subscribe'](({track:_0x388fe2,stream:_0x3f1b4a})=>_0x40df90(_0x388fe2,_0x3f1b4a));}[_0x45ef94(0x364)](_0x392545){const _0x36e76b=_0x45ef94;return this[_0x36e76b(0xa3)][_0x36e76b(0x79d)](({track:_0x3a3fde,stream:_0x4916a9})=>_0x392545(_0x3a3fde,_0x4916a9));}[_0x45ef94(0x4e2)](_0x49db11){const _0x28c790=_0x45ef94;this[_0x28c790(0x7c6)](),this[_0x28c790(0x924)][_0x28c790(0xa3f)](_0x133316=>{_0x133316['clear']();}),super[_0x28c790(0x4e2)](_0x49db11);}['sendIceCandidates'](){const _0x3bb938=_0x45ef94;this['publishSystemMessage']({'type':_0x565f29[_0x3bb938(0x273)],'candidates':this['handshakeCandidates'],'origin':_0x44c0fa['Receiver'],'version':this[_0x3bb938(0x30e)],'connectionType':this['connectionType']});}[_0x45ef94(0x1d7)](){const _0x98be1c=_0x45ef94;super[_0x98be1c(0x1d7)](),this[_0x98be1c(0x98)][_0x98be1c(0x4df)]=_0xa6794f=>{const _0x4dfb21=_0x98be1c;_0x301706[_0x4dfb21(0x1d5)](_0x3e3f45[_0x4dfb21(0x817)],_0x4dfb21(0x962),this[_0x4dfb21(0x5e4)][_0x4dfb21(0xa2a)](),_0xa6794f),_0xa6794f[_0x4dfb21(0x593)][0x0]['onremovetrack']=_0x18df0b=>{const _0x20cd1f=_0x4dfb21;this[_0x20cd1f(0x924)][_0x20cd1f(0x1f5)](_0xa6794f['streams'][0x0]['id'])?.[_0x20cd1f(0x991)](_0x18df0b['track']),0x0===this[_0x20cd1f(0x924)][_0x20cd1f(0x1f5)](_0xa6794f[_0x20cd1f(0x593)][0x0]['id'])?.[_0x20cd1f(0x77a)]&&this[_0x20cd1f(0x924)]['delete'](_0xa6794f[_0x20cd1f(0x593)][0x0]['id']),this[_0x20cd1f(0xa3)][_0x20cd1f(0x379)]({'track':_0x18df0b[_0x20cd1f(0x6dd)],'stream':_0xa6794f[_0x20cd1f(0x593)][0x0]});},this['receivers'][_0x4dfb21(0x3bc)](_0xa6794f[_0x4dfb21(0x593)][0x0]['id'])||this[_0x4dfb21(0x924)]['set'](_0xa6794f[_0x4dfb21(0x593)][0x0]['id'],new Set()),this['receivers'][_0x4dfb21(0x1f5)](_0xa6794f[_0x4dfb21(0x593)][0x0]['id'])[_0x4dfb21(0x9fb)](_0xa6794f[_0x4dfb21(0x6dd)]),this[_0x4dfb21(0x424)]['publish']({'track':_0xa6794f['track'],'stream':_0xa6794f[_0x4dfb21(0x593)][0x0]});},this['connection'][_0x98be1c(0x887)]=_0x519134=>{const _0x299a25=_0x98be1c;this[_0x299a25(0x6fb)]=_0x519134[_0x299a25(0x23c)],this[_0x299a25(0x6fb)][_0x299a25(0x278)]=_0x4f275a=>{const _0x3c87e6=_0x299a25;if(_0x4f275a['data']!==_0x2ce69d)this[_0x3c87e6(0x601)](_0x4f275a[_0x3c87e6(0x1a0)]);else{if(!this[_0x3c87e6(0x6fb)])return void _0x301706[_0x3c87e6(0x2a9)](_0x3c87e6(0xe2),{'clusterId':this[_0x3c87e6(0x9aa)],'nodeId':this[_0x3c87e6(0x5e4)]['getId'](),'nodeType':this[_0x3c87e6(0x5e4)]['type'],'remoteId':this[_0x3c87e6(0x162)],'data':{'connection':_0x3c87e6(0x7a8)}});if('open'!==this['dataChannel'][_0x3c87e6(0x6bb)])return;this[_0x3c87e6(0x6fb)][_0x3c87e6(0x55e)]('1');}};};}[_0x45ef94(0x601)](_0x6c5c62){const _0xa84dad=_0x45ef94;if('string'==typeof _0x6c5c62&&_0x6c5c62[_0xa84dad(0x1a2)](_0x3e157c))return this[_0xa84dad(0x266)]+=0x1,this['bytesReceived']+=_0x6c5c62['length'],this[_0xa84dad(0x73a)](_0x6c5c62);setTimeout(()=>{const _0x1e7b5e=_0xa84dad,_0x494af9=Date[_0x1e7b5e(0x69)]();let _0x568d11;if((_0x6c5c62 instanceof ArrayBuffer||_0x6c5c62[_0x1e7b5e(0x453)]<=_0x17176e)&&(this[_0x1e7b5e(0x266)]+=0x1,this['bytesReceived']+=_0x6c5c62 instanceof ArrayBuffer?_0x6c5c62[_0x1e7b5e(0x97b)]:_0x6c5c62[_0x1e7b5e(0x453)]),_0x6c5c62 instanceof ArrayBuffer){const [_0x481ebd,_0x534451]=this['splitParts'](_0x6c5c62);_0x568d11=_0x481ebd,_0x568d11[_0x1e7b5e(0x2ec)]['data']=_0x534451;}else _0x568d11=JSON[_0x1e7b5e(0x562)](_0x6c5c62);if(0x0===_0x568d11[_0x1e7b5e(0x3ad)]){this['systemMessagesReceived']['messages'][_0x1e7b5e(0x60b)]+=0x1;const {systemMessageType:_0xf1c107,systemContentMessageType:_0x203275}=_0x4e0d4f(_0x568d11);this['systemMessagesReceived'][_0xf1c107]||(this[_0x1e7b5e(0x675)][_0xf1c107]={[_0x203275]:0x0}),this[_0x1e7b5e(0x675)][_0xf1c107][_0x203275]||(this[_0x1e7b5e(0x675)][_0xf1c107][_0x203275]=0x0),this['systemMessagesReceived'][_0xf1c107]['total']||(this[_0x1e7b5e(0x675)][_0xf1c107][_0x1e7b5e(0x60b)]=0x0),this[_0x1e7b5e(0x675)][_0xf1c107][_0x203275]+=0x1,this[_0x1e7b5e(0x675)][_0xf1c107][_0x1e7b5e(0x60b)]+=0x1;}this[_0x1e7b5e(0xa00)]['publish'](_0x568d11),this[_0x1e7b5e(0xeb)]+=Date[_0x1e7b5e(0x69)]()-_0x494af9;},0x0);}[_0x45ef94(0x73a)](_0x47e821){const _0x393a83=_0x45ef94,_0x2dcf83=_0x47e821[_0x393a83(0x25b)](';'),_0xd75b12=_0x2dcf83[0x1],_0x38728f=parseInt(_0x2dcf83[0x2],0xa),_0x185a6a=parseInt(_0x2dcf83[0x3],0xa),_0x624b0c=_0x47e821[_0x393a83(0x94c)](_0x3e157c+';'+_0xd75b12+';'+_0x38728f+';'+_0x185a6a+';','');this[_0x393a83(0x78a)]['has'](_0xd75b12)||this[_0x393a83(0x78a)]['set'](_0xd75b12,[]);const _0x52ffea=this[_0x393a83(0x78a)]['get'](_0xd75b12);_0x52ffea[_0x38728f]=_0x624b0c,_0x52ffea[_0x393a83(0x453)]===_0x185a6a&&(this[_0x393a83(0x601)](_0x52ffea['join']('')),this[_0x393a83(0x78a)][_0x393a83(0x991)](_0xd75b12));}[_0x45ef94(0x7c6)](){const _0x47a3f2=_0x45ef94;this[_0x47a3f2(0x875)]?.(),delete this['waitSuccess'];}['arrayBufferToObject'](_0x158316){const _0x3d8e1a=_0x45ef94,_0x25a828=new TextDecoder()[_0x3d8e1a(0x581)](_0x158316);return JSON[_0x3d8e1a(0x562)](_0x25a828);}['splitParts'](_0x2c4e2d){const _0x58fc3e=_0x45ef94,_0x30aca9=new Uint8Array(_0x2c4e2d[_0x58fc3e(0x2ad)](0x0,0x4)),_0x4fb991=new Uint32Array(_0x30aca9['buffer'])[0x0],_0x12b851=new Uint8Array(_0x2c4e2d[_0x58fc3e(0x2ad)](0x4,0x4+_0x4fb991)),_0x1dd813=new Uint8Array(_0x2c4e2d[_0x58fc3e(0x2ad)](0x4+_0x4fb991));return[this[_0x58fc3e(0x942)](_0x12b851[_0x58fc3e(0xa49)]),_0x1dd813['buffer']];}}const _0x317780=0xc350;var _0xd141e0,_0x3d7bb7;!function(_0x3a014b){const _0x32a657=_0x45ef94;_0x3a014b[_0x3a014b[_0x32a657(0x223)]=0x0]=_0x32a657(0x223),_0x3a014b[_0x3a014b[_0x32a657(0x901)]=0x1]=_0x32a657(0x901),_0x3a014b[_0x3a014b[_0x32a657(0x169)]=0x2]=_0x32a657(0x169);}(_0xd141e0||(_0xd141e0={}));class _0x3272da extends _0x310dbd{[_0x45ef94(0x7c4)];[_0x45ef94(0xc0)];[_0x45ef94(0x6a1)]=new Map();[_0x45ef94(0x9f5)];['waitAnswer'];[_0x45ef94(0x256)];['isReconnecting']=!0x1;[_0x45ef94(0x575)];['restartTimeout'];[_0x45ef94(0x430)];['retryQueue']=function(e,t=_0xd141e0,s=!0x1){const _0x12abae=_0x45ef94;let n=!0x1;const i=[];async function o(){const _0x2f9f20=a0_0x395e;if(!n){for(n=!0x0;i[_0x2f9f20(0x3d9)](e=>e[_0x2f9f20(0x8dd)]);){let t,n=0x0;for(const [e,s]of i[_0x2f9f20(0x58b)]())if(t=s[_0x2f9f20(0x5e9)](),n=e,t)break;if(t)try{if(e instanceof _0x16dc1e&&e[_0x2f9f20(0x5e6)](t),e instanceof _0x5e964b&&await e[_0x2f9f20(0x5e6)](t),i[_0x2f9f20(0x2ad)](-0x1)[_0x2f9f20(0x3d9)](e=>e['head']))continue;const s=i['length']-0x1;n===s&&i[s][_0x2f9f20(0x8dd)]&&await _0x4f43db[_0x2f9f20(0x7eb)](0x0);}catch(o){s?i[n][_0x2f9f20(0x59e)](t,!0x1):i[n]['unshift'](t,!0x1),await e[_0x2f9f20(0x7eb)]();}}n=!0x1;}}return Object[_0x12abae(0x67a)](t)[_0x12abae(0xa3f)](e=>{const _0x12c989=_0x12abae;_0x12c989(0x829)!=typeof e&&(i[e]=_0x2b180a(o));}),{'queues':i};}(new _0x16dc1e(this['sendAction']['bind'](this),this['waitSendBuffer'][_0x45ef94(0x26b)](this)));[_0x45ef94(0x93c)]=0x0;['bytesSent']=0x0;['timeSending']=0x0;[_0x45ef94(0x24f)]=0x0;[_0x45ef94(0x7c5)];['loggingCycle']=_0x45df3d(_0x45ef94(0x19d),_0x3e3f45[_0x45ef94(0x318)]);constructor(_0x4712dd,_0x5403da,_0x1648ef,_0x5071ef,_0x548f7a,_0xbe7492,_0x147052,_0x299afc){const _0x41bd9c=_0x45ef94;super(_0x4712dd,_0x5403da,_0x1648ef,_0x5071ef,_0x548f7a,_0x299afc),this[_0x41bd9c(0x7c4)]=_0xbe7492,this[_0x41bd9c(0xc0)]=_0x147052;}['close'](){const _0x3db501=_0x45ef94;this[_0x3db501(0x559)](),this[_0x3db501(0x889)](),delete this['lastHeartbeat'],this[_0x3db501(0x85f)](),this['clearConnectionTimeout'](),this['clearWaitAnswer'](),this[_0x3db501(0x6a1)][_0x3db501(0x1ac)](),this['isReconnecting']=!0x1,this[_0x3db501(0x48a)]['queues'][_0x3db501(0xa3f)](_0x4f887c=>_0x4f887c['clear']()),this[_0x3db501(0x48e)](),super[_0x3db501(0x8b0)]();}[_0x45ef94(0x1de)](){const _0x385294=_0x45ef94;return!!this[_0x385294(0x256)]&&super[_0x385294(0x1de)]()&&Date['now']()-this[_0x385294(0x256)]<0x3a98;}async[_0x45ef94(0x754)](){const _0x47513b=_0x45ef94;this[_0x47513b(0x9da)]&&(await this['connection']['collectSendersStats'](this[_0x47513b(0x6a1)],(_0x17bf31,_0x48dc9b)=>{const _0x19e1ec=_0x47513b;_0x5a69d4({'type':_0x565f29[_0x19e1ec(0x936)],'streamId':_0x48dc9b,'nodeId':this[_0x19e1ec(0x162)],'stats':_0x17bf31},this[_0x19e1ec(0x9da)]);}),this[_0x47513b(0x9da)][_0x47513b(0x379)]({'sourceId':_0x17190e,'messageType':_0x43910d[_0x47513b(0x529)],'content':{'type':_0x565f29['Stats'],'nodeId':this[_0x47513b(0x162)],'stats':{'origin':_0x44c0fa[_0x47513b(0x6c2)],'timestamp':Date[_0x47513b(0x69)](),'messagesSent':this[_0x47513b(0x93c)],'bytesSent':this[_0x47513b(0x9cf)],'timeSending':this[_0x47513b(0x349)],'roundTripTime':this[_0x47513b(0x24f)]}}}));}async[_0x45ef94(0xa22)](_0x2d3b84){const _0x1dbbc3=_0x45ef94;_0x301706[_0x1dbbc3(0x1d5)](_0x3e3f45[_0x1dbbc3(0x817)],'CrewdleSenderConnection\x20createOffer',this[_0x1dbbc3(0x5e4)][_0x1dbbc3(0xa2a)](),this[_0x1dbbc3(0x162)]),this[_0x1dbbc3(0x85f)](),this['clearConnectionTimeout'](),this[_0x1dbbc3(0x6a2)](),this[_0x1dbbc3(0x575)]=setTimeout(()=>{const _0x28160a=_0x1dbbc3;this[_0x28160a(0x7e3)]();},0x7530),this[_0x1dbbc3(0x6fb)]||(this[_0x1dbbc3(0x6fb)]=this[_0x1dbbc3(0x98)]['createDataChannel'](_0x1dbbc3(0x1a0)),this['dataChannel']['bufferedAmountLowThreshold']=_0x4829db,this[_0x1dbbc3(0x6fb)]['onClose']=()=>{const _0x56234f=_0x1dbbc3;this[_0x56234f(0x7c5)]=setTimeout(()=>{const _0x50940b=_0x56234f;delete this[_0x50940b(0x7c5)],[_0x50940b(0xa52),'open'][_0x50940b(0x62f)](this[_0x50940b(0x6fb)]?.['state']??'')||this['handleDisconnect']();},0xfa);});const _0x313da1=await this[_0x1dbbc3(0x98)][_0x1dbbc3(0xa22)](_0x2d3b84);this['lastHeartbeat']||(this[_0x1dbbc3(0x256)]=Date[_0x1dbbc3(0x69)]());const _0x49f1a7=(0x0,_0xa305bc['v4'])();this[_0x1dbbc3(0x3f3)]({'type':_0x565f29['Offer'],'offer':_0x313da1,'version':this['currentVersion'],'connectionType':this[_0x1dbbc3(0x611)]},_0x49f1a7),this[_0x1dbbc3(0x611)]===_0x3fe73d[_0x1dbbc3(0xa29)]&&(this['waitAnswer']=_0x4f43db['setInterval'](()=>{const _0x281fd1=_0x1dbbc3;this[_0x281fd1(0x3f3)]({'type':_0x565f29[_0x281fd1(0x39e)],'offer':_0x313da1,'version':this[_0x281fd1(0x30e)],'connectionType':this[_0x281fd1(0x611)]},_0x49f1a7);},0x1388));}async[_0x45ef94(0x530)](_0x763a05,_0x46db0d){const _0x25d647=_0x45ef94;if(_0x46db0d===this[_0x25d647(0x30e)]){this['clearWaitAnswer']();try{await this[_0x25d647(0x98)][_0x25d647(0x530)](_0x763a05,this[_0x25d647(0xa22)]['bind'](this)),this[_0x25d647(0x677)](),this[_0x25d647(0x58d)](),this[_0x25d647(0x2bd)]();}catch(_0x56f774){this[_0x25d647(0x7e3)]();}}}[_0x45ef94(0x55e)](_0x5961af){const _0x2d0702=_0x45ef94;if(!this['dataChannel'])throw new _0x279d71(_0x279d71[_0x2d0702(0x9c2)]['InvalidDataChannel'],{'message':'DataChannel\x20is\x20not\x20initialized.','localId':this[_0x2d0702(0x5e4)]['getId'](),'remoteId':this[_0x2d0702(0x162)],'eventMessage':_0x5961af});if(_0x2d0702(0x7ae)!==this[_0x2d0702(0x6fb)][_0x2d0702(0x6bb)])throw new _0x279d71(_0x279d71['codes'][_0x2d0702(0x11a)],{'message':_0x2d0702(0x1f6),'localId':this[_0x2d0702(0x5e4)][_0x2d0702(0xa2a)](),'remoteId':this['remoteId'],'eventMessage':_0x5961af});let _0x500b11;if(_0x5961af['content'][_0x2d0702(0x1a0)]instanceof ArrayBuffer){const _0x4f4eb3=_0x5961af[_0x2d0702(0x2ec)][_0x2d0702(0x1a0)];_0x5961af={..._0x5961af,'content':{..._0x5961af[_0x2d0702(0x2ec)],'data':void 0x0}},_0x500b11=this['mergeParts'](_0x5961af,_0x4f4eb3);}else _0x500b11=JSON[_0x2d0702(0xa51)](_0x5961af);if(_0x2d0702(0x829)==typeof _0x500b11&&_0x500b11['length']>_0x17176e)return void this['sendChunked'](_0x5961af,_0x500b11);0x0===_0x5961af[_0x2d0702(0x3ad)]&&_0x5961af[_0x2d0702(0x753)]===_0x43910d[_0x2d0702(0xc4)]&&this['loggingCycle']['logger'][_0x2d0702(0x831)](()=>_0x301706[_0x2d0702(0x1d5)](_0x3e3f45[_0x2d0702(0x318)],_0x2d0702(0x4ec),this['remoteId'],_0x4e0d4f(_0x5961af)),void 0x0);const _0x289227=0x0===_0x5961af[_0x2d0702(0x3ad)]&&[_0x43910d[_0x2d0702(0x5c4)],_0x43910d[_0x2d0702(0x529)]][_0x2d0702(0x62f)](_0x5961af[_0x2d0702(0x753)])?_0xd141e0[_0x2d0702(0x223)]:_0x5961af instanceof ArrayBuffer?_0xd141e0[_0x2d0702(0x169)]:_0xd141e0[_0x2d0702(0x901)];this[_0x2d0702(0x943)](_0x500b11,_0x289227);}['addTrack'](_0x32b5c8,_0x20e85e,_0x320da2,_0x522e9e){const _0x523e47=_0x45ef94,_0x2467d4=(_0x3d18b7=this['maxFps'],_0x3ec707=this[_0x523e47(0xc0)],Math[_0x523e47(0x7f4)](0xe1000*_0x3d18b7*_0x3ec707));var _0x3d18b7,_0x3ec707;const _0x389f64=this[_0x523e47(0x6a1)][_0x523e47(0x1f5)](_0x20e85e['id'])||{'stream':_0x20e85e,'priority':_0x320da2,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x2467d4,'maxBitrate':_0x2467d4,'framerate':this[_0x523e47(0x7c4)],'maxFramerate':this['maxFps'],'tracks':{},'params':_0x522e9e},_0x5e64ed=_0x389f64[_0x523e47(0x285)][_0x32b5c8[_0x523e47(0x3a7)]]||{'track':_0x32b5c8};if(_0x5e64ed[_0x523e47(0x918)]?(_0x5e64ed[_0x523e47(0x6dd)]=_0x32b5c8,this['connection']['replaceTrack'](_0x32b5c8,_0x5e64ed[_0x523e47(0x918)])):_0x5e64ed[_0x523e47(0x918)]=this[_0x523e47(0x98)]['addTrack'](_0x32b5c8,_0x20e85e),_0x389f64[_0x523e47(0x285)][_0x32b5c8[_0x523e47(0x3a7)]]=_0x5e64ed,_0x522e9e&&(_0x389f64[_0x523e47(0x474)]=_0x522e9e),_0x522e9e&&'video'===_0x522e9e[_0x523e47(0x3a7)]&&_0x522e9e[_0x523e47(0x87e)]&&_0x522e9e[_0x523e47(0x26a)]&&(_0x389f64['resolutionScale']=this[_0x523e47(0x86a)](_0x522e9e[_0x523e47(0x87e)],_0x522e9e[_0x523e47(0x26a)]),_0x389f64['minResolutionScale']=_0x389f64[_0x523e47(0x738)],_0x389f64[_0x523e47(0x285)][_0x523e47(0x703)]&&_0x389f64[_0x523e47(0x285)][_0x523e47(0x703)][_0x523e47(0x918)])){const _0xec631e=_0x389f64[_0x523e47(0x285)][_0x523e47(0x703)]['sender'];this[_0x523e47(0x98)][_0x523e47(0x5ce)](_0xec631e,Math[_0x523e47(0x7f4)](0xa*_0x389f64[_0x523e47(0x738)])/0xa,_0x389f64[_0x523e47(0x5ab)],_0x389f64[_0x523e47(0x54c)],_0x389f64[_0x523e47(0x10b)]);}this['senders'][_0x523e47(0x2b3)](_0x20e85e['id'],_0x389f64);}[_0x45ef94(0x485)](_0x46035a,_0x33c215){const _0xbe6848=_0x45ef94,_0x395bd3=this[_0xbe6848(0x6a1)][_0xbe6848(0x1f5)](_0x46035a['id']);if(_0x395bd3&&_0x395bd3[_0xbe6848(0x10b)]!==_0x33c215&&(_0x395bd3[_0xbe6848(0x10b)]=_0x33c215,_0x395bd3[_0xbe6848(0x285)][_0xbe6848(0x703)]&&_0x395bd3[_0xbe6848(0x285)][_0xbe6848(0x703)][_0xbe6848(0x918)])){const _0x54c285=_0x395bd3[_0xbe6848(0x285)]['video'][_0xbe6848(0x918)];this[_0xbe6848(0x98)][_0xbe6848(0x5ce)](_0x54c285,Math[_0xbe6848(0x7f4)](0xa*_0x395bd3['resolutionScale'])/0xa,_0x395bd3['framerate'],_0x395bd3[_0xbe6848(0x54c)],_0x395bd3[_0xbe6848(0x10b)]);}}[_0x45ef94(0x511)](_0x8c5d3a,_0x5af1c9){const _0x278803=_0x45ef94,_0x83392a=this['senders']['get'](_0x8c5d3a['id']);if(_0x83392a){if(_0x83392a[_0x278803(0x474)]=_0x5af1c9,_0x5af1c9&&'video'===_0x5af1c9['kind']&&_0x5af1c9[_0x278803(0x87e)]&&_0x5af1c9['maxResolution']){if(_0x83392a[_0x278803(0x42e)]=this[_0x278803(0x86a)](_0x5af1c9[_0x278803(0x87e)],_0x5af1c9[_0x278803(0x26a)]),_0x83392a[_0x278803(0x738)]<_0x83392a[_0x278803(0x42e)]&&(_0x83392a[_0x278803(0x738)]=_0x83392a[_0x278803(0x42e)]),_0x83392a['tracks'][_0x278803(0x703)]&&_0x83392a[_0x278803(0x285)][_0x278803(0x703)][_0x278803(0x918)]){const _0x3e67ab=_0x83392a['tracks'][_0x278803(0x703)][_0x278803(0x918)];this[_0x278803(0x98)]['setEncodingParameters'](_0x3e67ab,Math[_0x278803(0x7f4)](0xa*_0x83392a[_0x278803(0x738)])/0xa,_0x83392a[_0x278803(0x5ab)],_0x83392a[_0x278803(0x54c)],_0x83392a[_0x278803(0x10b)]);}this[_0x278803(0x559)](),this['setUpgradeTimeout']();}this[_0x278803(0x6a1)][_0x278803(0x2b3)](_0x8c5d3a['id'],_0x83392a);}}[_0x45ef94(0x323)](_0x3bd447,_0x2820ec){const _0x12c882=_0x45ef94,_0x5ae2e3=this[_0x12c882(0x6a1)][_0x12c882(0x1f5)](_0x2820ec['id']);if(_0x5ae2e3){const _0x39b873=_0x5ae2e3[_0x12c882(0x285)][_0x3bd447[_0x12c882(0x3a7)]];_0x39b873&&(_0x39b873[_0x12c882(0x918)]&&this['connection'][_0x12c882(0x323)](_0x39b873[_0x12c882(0x918)]),_0x39b873[_0x12c882(0x6dd)]=void 0x0);}}['applyRemediation'](_0x42908f){const _0x52107f=_0x45ef94;this['clearUpgradeTimeout']();const _0x15ed24=function(_0x188ba5,_0x476a58){const _0x351a50=a0_0x395e;return _0x188ba5[_0x351a50(0xb8)]((_0x21068c,_0x2e69aa)=>_0x476a58[_0x351a50(0xae)]===_0x568622['Downgrade']?_0x2e69aa[_0x351a50(0x10b)]-_0x21068c[_0x351a50(0x10b)]:_0x21068c[_0x351a50(0x10b)]-_0x2e69aa[_0x351a50(0x10b)])[_0x351a50(0x786)](_0x270f7a=>function(_0x1fab77,_0x27e540){const _0x5bba9d=_0x351a50;if(_0x27e540['action']===_0x568622[_0x5bba9d(0x49e)]){if(_0x27e540[_0x5bba9d(0x139)]===_0x3d3be7[_0x5bba9d(0x296)])return _0x1fab77[_0x5bba9d(0x738)]<0x4||_0x1fab77[_0x5bba9d(0x279)]>0xf;if(_0x27e540[_0x5bba9d(0x139)]===_0x3d3be7[_0x5bba9d(0x7ff)])return _0x1fab77[_0x5bba9d(0x64e)]>_0x317780;}return _0x1fab77[_0x5bba9d(0x738)]>_0x1fab77[_0x5bba9d(0x42e)]||_0x1fab77[_0x5bba9d(0x5ab)]<_0x1fab77[_0x5bba9d(0x279)]||_0x1fab77[_0x5bba9d(0x54c)]<_0x1fab77[_0x5bba9d(0x64e)];}(_0x270f7a,_0x476a58));}(Array[_0x52107f(0x157)](this[_0x52107f(0x6a1)]['values']()),_0x42908f);if(_0x15ed24&&(function(_0x8a4401,_0x55427d){const _0x1782a6=_0x52107f;_0x8a4401['tracks'][_0x1782a6(0x703)]&&_0x8a4401[_0x1782a6(0x285)][_0x1782a6(0x703)][_0x1782a6(0x918)]&&(_0x8a4401[_0x1782a6(0x738)]=function(_0x23f163,_0x1f26d4,_0x46ae02){const _0x40ac8d=_0x1782a6;switch(_0x46ae02[_0x40ac8d(0xae)]){case _0x568622['Downgrade']:_0x46ae02['component']===_0x3d3be7[_0x40ac8d(0x296)]&&(_0x23f163+=0.5)>0x4&&(_0x23f163=0x4);break;case _0x568622[_0x40ac8d(0x366)]:(_0x23f163-=0.5)<_0x1f26d4&&(_0x23f163=_0x1f26d4);}return _0x23f163;}(_0x8a4401['resolutionScale'],_0x8a4401[_0x1782a6(0x42e)],_0x55427d),_0x8a4401[_0x1782a6(0x5ab)]=function(_0x11ad4b,_0x3ee318,_0x441e8a){const _0x4b2902=_0x1782a6;switch(_0x441e8a['action']){case _0x568622[_0x4b2902(0x49e)]:_0x441e8a[_0x4b2902(0x139)]===_0x3d3be7['Resolution']&&(_0x11ad4b-=0x3)<0xf&&(_0x11ad4b=0xf);break;case _0x568622[_0x4b2902(0x366)]:(_0x11ad4b+=0x3)>_0x3ee318&&(_0x11ad4b=_0x3ee318);}return _0x11ad4b;}(_0x8a4401[_0x1782a6(0x5ab)],_0x8a4401['maxFramerate'],_0x55427d),_0x8a4401[_0x1782a6(0x54c)]=function(_0x36c077,_0x48c9ba,_0x10829f){const _0x4ccd55=_0x1782a6;switch(_0x10829f[_0x4ccd55(0xae)]){case _0x568622[_0x4ccd55(0x49e)]:_0x10829f[_0x4ccd55(0x139)]===_0x3d3be7[_0x4ccd55(0x7ff)]&&(_0x36c077*=0.75)<_0x317780&&(_0x36c077=_0x317780);break;case _0x568622[_0x4ccd55(0x366)]:(_0x36c077*=1.25)>_0x48c9ba&&(_0x36c077=_0x48c9ba);}return _0x36c077;}(_0x8a4401[_0x1782a6(0x54c)],_0x8a4401[_0x1782a6(0x64e)],_0x55427d));}(_0x15ed24,_0x42908f),_0x15ed24[_0x52107f(0x285)][_0x52107f(0x703)]&&_0x15ed24[_0x52107f(0x285)][_0x52107f(0x703)][_0x52107f(0x918)])){const _0x59f462=_0x15ed24[_0x52107f(0x285)][_0x52107f(0x703)]['sender'];this[_0x52107f(0x98)]['setEncodingParameters'](_0x59f462,Math[_0x52107f(0x7f4)](0xa*_0x15ed24[_0x52107f(0x738)])/0xa,_0x15ed24[_0x52107f(0x5ab)],_0x15ed24[_0x52107f(0x54c)],_0x15ed24[_0x52107f(0x10b)]);}(_0x15ed24||_0x42908f[_0x52107f(0xae)]===_0x568622['Downgrade'])&&this[_0x52107f(0x287)]();}['calculateArrayBufferSize'](){const _0x106716=_0x45ef94;return this['retryQueue']['queues'][_0x106716(0x9f6)]((_0x113909,_0xe0173e)=>_0x113909+_0xe0173e[_0x106716(0x77a)],0x0)*_0x3f1e13;}['getBufferedAmount'](){const _0x5eb4d3=_0x45ef94;return this[_0x5eb4d3(0x6fb)]?.[_0x5eb4d3(0x131)]??0x0;}[_0x45ef94(0x4e2)](){const _0x1fa171=_0x45ef94;super[_0x1fa171(0x4e2)](),this['clearOncloseTimeout'](),this[_0x1fa171(0x6a2)](),this[_0x1fa171(0x6a1)]['forEach'](_0x36e91b=>{const _0x4e7431=_0x1fa171;_0x36e91b[_0x4e7431(0x285)]['video']&&(_0x36e91b[_0x4e7431(0x285)]['video'][_0x4e7431(0x918)]=void 0x0),_0x36e91b['tracks'][_0x4e7431(0x8f6)]&&(_0x36e91b[_0x4e7431(0x285)][_0x4e7431(0x8f6)][_0x4e7431(0x918)]=void 0x0);}),this['isReconnecting']=!0x0;}async[_0x45ef94(0x3a1)](){return new Promise(async _0x102efa=>{const _0x38f4c9=a0_0x395e;if(!this['dataChannel']||_0x38f4c9(0x7ae)!==this[_0x38f4c9(0x6fb)][_0x38f4c9(0x6bb)])return await _0x4f43db[_0x38f4c9(0x7eb)](0x64),void _0x102efa();this[_0x38f4c9(0x6fb)][_0x38f4c9(0x131)]<_0x4829db?_0x102efa():this[_0x38f4c9(0x6fb)]['onBufferedAmountLow']=()=>{const _0x11c948=_0x38f4c9;this[_0x11c948(0x6fb)]&&(this['dataChannel']['onBufferedAmountLow']=null),_0x102efa();};});}async[_0x45ef94(0x5d7)](_0x4f9139,_0x1efc9a){const _0xf7702d=_0x45ef94,_0x45a7b6=[];for(let _0x40681b=0x0;_0x40681b<_0x1efc9a[_0xf7702d(0x453)];_0x40681b+=_0x17176e)_0x45a7b6[_0xf7702d(0x59e)](_0x1efc9a[_0xf7702d(0x2ad)](_0x40681b,_0x40681b+_0x17176e));for(const _0x46c194 of _0x45a7b6){for(;this[_0xf7702d(0x48a)][_0xf7702d(0xee)][_0xd141e0[_0xf7702d(0x169)]][_0xf7702d(0x77a)]>0x1;)await _0x4f43db['wait'](0x64);this['sendWithRetry'](_0x3e157c+';'+_0x4f9139['uuid']+';'+_0x45a7b6[_0xf7702d(0x4e9)](_0x46c194)+';'+_0x45a7b6['length']+';'+_0x46c194,_0xd141e0['Low']);}}async[_0x45ef94(0x943)](_0x444458,_0x594e11){const _0x5b4083=_0x45ef94;_0x444458===_0x2ce69d?this['retryQueue']['queues'][_0x594e11]['head']?.[_0x5b4083(0x7b5)]!==_0x2ce69d&&this['retryQueue'][_0x5b4083(0xee)][_0x594e11]['unshift'](_0x444458):this[_0x5b4083(0x48a)][_0x5b4083(0xee)][_0x594e11]['push'](_0x444458);}[_0x45ef94(0x61b)](_0x2efd79){const _0x1fa2fe=_0x45ef94;if(!this[_0x1fa2fe(0x6fb)]||'open'!==this[_0x1fa2fe(0x6fb)][_0x1fa2fe(0x6bb)])throw new Error(_0x1fa2fe(0x9cd));if(this['dataChannel'][_0x1fa2fe(0x131)]>=0x600000)throw new Error(_0x1fa2fe(0x582));const _0x43632b=Date[_0x1fa2fe(0x69)]();_0x2efd79!==_0x2ce69d&&(this[_0x1fa2fe(0x93c)]+=0x1,this['bytesSent']+=_0x2efd79 instanceof ArrayBuffer?_0x2efd79['byteLength']:_0x2efd79[_0x1fa2fe(0x453)]);try{ArrayBuffer,this[_0x1fa2fe(0x6fb)][_0x1fa2fe(0x55e)](_0x2efd79);}catch(_0x5d1a1a){throw console[_0x1fa2fe(0x2a9)](_0x1fa2fe(0x4d5),_0x5d1a1a),_0x5d1a1a;}this[_0x1fa2fe(0x349)]+=Date[_0x1fa2fe(0x69)]()-_0x43632b;}[_0x45ef94(0x2bd)](){const _0x2e59d6=_0x45ef94;this['heartbeatUnsubscriber']&&this[_0x2e59d6(0x889)]();let _0x41d67f=!0x0,_0x3fa765=Date['now']();this[_0x2e59d6(0x256)]=Date[_0x2e59d6(0x69)](),this[_0x2e59d6(0x6fb)][_0x2e59d6(0x278)]=_0x4a16ec=>{const _0x3cac6e=_0x2e59d6;'1'===_0x4a16ec['data']&&(this[_0x3cac6e(0x24f)]=Date[_0x3cac6e(0x69)]()-_0x3fa765,_0x41d67f&&this[_0x3cac6e(0x3f3)]({'type':_0x565f29[_0x3cac6e(0x75c)]}),_0x41d67f=!0x1,this[_0x3cac6e(0x256)]=Date[_0x3cac6e(0x69)](),this[_0x3cac6e(0xa56)]&&(this[_0x3cac6e(0xa56)]=!0x1,this[_0x3cac6e(0x95c)]()));},this[_0x2e59d6(0x9f5)]=_0x4f43db[_0x2e59d6(0x886)](()=>{const _0x809c72=_0x2e59d6;_0x3fa765=Date['now'](),this[_0x809c72(0x943)](_0x2ce69d,_0xd141e0[_0x809c72(0x223)]),Date[_0x809c72(0x69)]()-this[_0x809c72(0x256)]>(_0x41d67f?0x15f90:0x3a98)&&this[_0x809c72(0x7e3)]();},0xbb8);}['handleMissingSenders'](){const _0x54dd9b=_0x45ef94;this[_0x54dd9b(0x6a1)][_0x54dd9b(0xa3f)](_0x57fc68=>{const _0x1965a1=_0x54dd9b;_0x57fc68[_0x1965a1(0x285)]['video']&&_0x57fc68[_0x1965a1(0x285)]['video'][_0x1965a1(0x6dd)]&&!_0x57fc68[_0x1965a1(0x285)][_0x1965a1(0x703)][_0x1965a1(0x918)]&&(_0x57fc68[_0x1965a1(0x285)][_0x1965a1(0x703)][_0x1965a1(0x918)]=this[_0x1965a1(0x98)][_0x1965a1(0xa31)](_0x57fc68[_0x1965a1(0x285)][_0x1965a1(0x703)]['track'],_0x57fc68['stream'])),_0x57fc68[_0x1965a1(0x285)]['audio']&&_0x57fc68['tracks'][_0x1965a1(0x8f6)][_0x1965a1(0x6dd)]&&!_0x57fc68['tracks'][_0x1965a1(0x8f6)][_0x1965a1(0x918)]&&(_0x57fc68[_0x1965a1(0x285)][_0x1965a1(0x8f6)]['sender']=this[_0x1965a1(0x98)][_0x1965a1(0xa31)](_0x57fc68['tracks'][_0x1965a1(0x8f6)][_0x1965a1(0x6dd)],_0x57fc68[_0x1965a1(0x912)]));});}[_0x45ef94(0x18b)](){const _0x59597a=_0x45ef94;this[_0x59597a(0x3f3)]({'type':_0x565f29['Handshake'],'candidates':this[_0x59597a(0xa28)],'origin':_0x44c0fa['Sender'],'version':this[_0x59597a(0x30e)],'connectionType':this[_0x59597a(0x611)]});}[_0x45ef94(0x1d7)](){const _0x40d301=_0x45ef94;super[_0x40d301(0x1d7)](),this[_0x40d301(0x98)][_0x40d301(0x1f3)]=()=>{const _0x4d1a0e=_0x40d301;if(_0x4d1a0e(0x22e)===this[_0x4d1a0e(0x98)]['handshakeState']){_0x301706['log'](_0x3e3f45[_0x4d1a0e(0x17f)],_0x4d1a0e(0x9fc),this[_0x4d1a0e(0x5e4)]['getId'](),this[_0x4d1a0e(0x162)]);try{if(this[_0x4d1a0e(0x98)][_0x4d1a0e(0x460)])return void this[_0x4d1a0e(0x98)]['restartHandshake']();}catch(_0x51b36a){}this['createOffer']({'handshakeRestart':!0x0});}},this[_0x40d301(0x98)][_0x40d301(0x331)]=()=>{const _0x43cadc=_0x40d301;_0x43cadc(0x736)!==this[_0x43cadc(0x98)][_0x43cadc(0x280)]&&_0x43cadc(0x22e)!==this['connection'][_0x43cadc(0x280)]||this[_0x43cadc(0x7e3)]();};}['handleDisconnect'](){const _0x1c4cfd=_0x45ef94;this['clearHeartbeat'](),this[_0x1c4cfd(0x85f)](),this[_0x1c4cfd(0x58d)](),_0x301706[_0x1c4cfd(0x90)](_0x1c4cfd(0x71c),{'clusterId':this['clusterId'],'nodeId':this[_0x1c4cfd(0x5e4)][_0x1c4cfd(0xa2a)](),'nodeType':this[_0x1c4cfd(0x5e4)]['type'],'remoteId':this[_0x1c4cfd(0x162)],'data':{'connectionType':this[_0x1c4cfd(0x611)],'connectionState':this[_0x1c4cfd(0x98)][_0x1c4cfd(0x280)],'iceConnectionState':this['connection'][_0x1c4cfd(0x644)],'signalingState':this[_0x1c4cfd(0x98)][_0x1c4cfd(0x79f)],'readyState':this[_0x1c4cfd(0x6fb)]?.[_0x1c4cfd(0x6bb)]||'','lastHeartbeat':this[_0x1c4cfd(0x256)]?Date['now']()-this[_0x1c4cfd(0x256)]:'','retryQueue':this[_0x1c4cfd(0x48a)]}}),(this[_0x1c4cfd(0x256)]&&Date[_0x1c4cfd(0x69)]()-this[_0x1c4cfd(0x256)]>0xea60)??0x1?this[_0x1c4cfd(0x9da)]['publish']({'sourceId':this['remoteId'],'destinationIds':[this[_0x1c4cfd(0x5e4)][_0x1c4cfd(0xa2a)]()],'messageType':_0x43910d[_0x1c4cfd(0x529)],'content':{'type':_0x565f29[_0x1c4cfd(0x8bc)]}}):(this[_0x1c4cfd(0x4e2)](),this[_0x1c4cfd(0x3f3)]({'type':_0x565f29[_0x1c4cfd(0x795)],'version':this['currentVersion'],'connectionType':this[_0x1c4cfd(0x611)]}),this['restartTimeout']=setTimeout(()=>{const _0x439e1a=_0x1c4cfd;this[_0x439e1a(0x7e3)]();},0x7530));}[_0x45ef94(0x889)](){const _0x122d1b=_0x45ef94;this['heartbeatUnsubscriber']?.(),delete this[_0x122d1b(0x9f5)];}[_0x45ef94(0x58d)](){const _0x257841=_0x45ef94;this['connectionTimeout']&&(clearTimeout(this[_0x257841(0x575)]),delete this[_0x257841(0x575)]);}[_0x45ef94(0x85f)](){const _0x2b88a0=_0x45ef94;this[_0x2b88a0(0x2c5)]&&(clearTimeout(this[_0x2b88a0(0x2c5)]),delete this[_0x2b88a0(0x2c5)]);}[_0x45ef94(0x559)](){const _0x833f0b=_0x45ef94;this[_0x833f0b(0x430)]&&(clearTimeout(this[_0x833f0b(0x430)]),delete this['upgradeTimeout']);}[_0x45ef94(0x287)](){this['upgradeTimeout']=setTimeout(()=>{const _0x1706ae=a0_0x395e;this[_0x1706ae(0x82f)]({'type':_0x53dfe9['Remediation'],'action':_0x568622[_0x1706ae(0x366)]});},0x3a98);}['getResolutionScale'](_0x438463,_0x592a79){const _0x59d1de=_0x45ef94,_0x1e2654=Math[_0x59d1de(0x79)](_0x438463[_0x59d1de(0x72c)]/_0x592a79[_0x59d1de(0x72c)],_0x438463[_0x59d1de(0x2b0)]/_0x592a79['height']);return Math['min'](Math[_0x59d1de(0x79)](_0x1e2654,0x1),0x4);}[_0x45ef94(0x6a2)](){const _0x506475=_0x45ef94;this[_0x506475(0x7b2)]?.(),delete this[_0x506475(0x7b2)];}['clearOncloseTimeout'](){const _0x14115a=_0x45ef94;this[_0x14115a(0x7c5)]&&(clearTimeout(this[_0x14115a(0x7c5)]),delete this[_0x14115a(0x7c5)]);}['objectToArrayBuffer'](_0xaf1d9e){const _0x34dd58=_0x45ef94,_0x16e5a5=JSON[_0x34dd58(0xa51)](_0xaf1d9e);return new TextEncoder()['encode'](_0x16e5a5)[_0x34dd58(0xa49)];}[_0x45ef94(0x4c2)](_0x50be1f,_0x2fb387){const _0x525312=_0x45ef94,_0x59fb6f=this[_0x525312(0x10e)](_0x50be1f),_0x216239=new Uint8Array(0x4),_0xe701a8=new Uint8Array(_0x59fb6f),_0x3d2498=new Uint8Array(_0x2fb387);_0x216239[_0x525312(0x2b3)](new Uint8Array(new Uint32Array([_0xe701a8[_0x525312(0x453)]])[_0x525312(0xa49)]));const _0x32484f=new Uint8Array(0x4+_0xe701a8[_0x525312(0x453)]+_0x3d2498[_0x525312(0x453)]);return _0x32484f[_0x525312(0x2b3)](_0x216239),_0x32484f['set'](_0xe701a8,0x4),_0x32484f['set'](_0x3d2498,0x4+_0xe701a8[_0x525312(0x453)]),_0x32484f[_0x525312(0xa49)];}}class _0x5b56d8 extends _0x2df81b{[_0x45ef94(0x29c)];[_0x45ef94(0x611)];[_0x45ef94(0x7c4)];[_0x45ef94(0xc0)];['connectionConstructor'];['senderConnection'];['receiverConnection'];[_0x45ef94(0x589)]=[];[_0x45ef94(0x713)]=_0x16e686();['trackListeners']=_0x16e686();['removeTrackListeners']=_0x16e686();['listenerUnsubscribers']=[];[_0x45ef94(0x9da)];[_0x45ef94(0x925)]=new Map();['dataUnsubscribers']=new Map();[_0x45ef94(0x614)]=new Map();['mediaUnsubscribers']=new Map();['successNotified']=!0x1;constructor(_0x49445f,_0x367abb,_0x50cea5,_0x210cff,_0x1a41b0,_0x493cab,_0x4d9ebe,_0x2f7950){const _0x216f89=_0x45ef94;super(_0x49445f,_0x367abb,_0x50cea5),this[_0x216f89(0x29c)]=_0x210cff,this[_0x216f89(0x611)]=_0x1a41b0,this[_0x216f89(0x7c4)]=_0x493cab,this[_0x216f89(0xc0)]=_0x4d9ebe,this[_0x216f89(0x798)]=_0x2f7950;}[_0x45ef94(0x196)](_0x1f69a6){const _0x2f7dff=_0x45ef94;switch(_0x1f69a6[_0x2f7dff(0xf7)]()){case _0x29184c[_0x2f7dff(0xd2)]['Data']:case _0x29184c[_0x2f7dff(0xd2)]['PubSub']:case _0x29184c[_0x2f7dff(0xd2)][_0x2f7dff(0xc2)]:case _0x29184c[_0x2f7dff(0xd2)]['KeyValueDatabase']:case _0x29184c[_0x2f7dff(0xd2)][_0x2f7dff(0x7a2)]:case _0x29184c[_0x2f7dff(0xd2)][_0x2f7dff(0x851)]:case _0x29184c['ContentType'][_0x2f7dff(0x114)]:case _0x29184c[_0x2f7dff(0xd2)][_0x2f7dff(0x524)]:this['dataTopics'][_0x2f7dff(0x2b3)](_0x1f69a6['getLabel'](),_0x1f69a6);break;case _0x29184c[_0x2f7dff(0xd2)][_0x2f7dff(0x224)]:this[_0x2f7dff(0x614)]['set'](_0x1f69a6['getLabel'](),_0x1f69a6);}}[_0x45ef94(0x828)](_0x4de845){const _0x9728a8=_0x45ef94;switch(_0x4de845[_0x9728a8(0xf7)]()){case _0x29184c['ContentType']['Data']:case _0x29184c[_0x9728a8(0xd2)][_0x9728a8(0x83b)]:case _0x29184c['ContentType'][_0x9728a8(0xc2)]:case _0x29184c[_0x9728a8(0xd2)][_0x9728a8(0x6ff)]:case _0x29184c['ContentType']['Job']:case _0x29184c[_0x9728a8(0xd2)][_0x9728a8(0x851)]:case _0x29184c[_0x9728a8(0xd2)]['GraphDatabase']:case _0x29184c['ContentType']['ExternalStorage']:this['dataTopics'][_0x9728a8(0x991)](_0x4de845['getLabel']());break;case _0x29184c[_0x9728a8(0xd2)]['Media']:this[_0x9728a8(0x614)][_0x9728a8(0x991)](_0x4de845[_0x9728a8(0x32b)]());}}[_0x45ef94(0x24c)](_0x1a58ae){const _0x397c8b=_0x45ef94;switch(_0x1a58ae[_0x397c8b(0xf7)]()){case _0x29184c[_0x397c8b(0xd2)]['Data']:case _0x29184c['ContentType']['PubSub']:case _0x29184c[_0x397c8b(0xd2)]['ObjectStore']:case _0x29184c['ContentType']['KeyValueDatabase']:case _0x29184c[_0x397c8b(0xd2)]['Job']:case _0x29184c[_0x397c8b(0xd2)]['VectorDatabase']:case _0x29184c[_0x397c8b(0xd2)][_0x397c8b(0x114)]:case _0x29184c[_0x397c8b(0xd2)][_0x397c8b(0x524)]:{const _0x561c5d=_0x1a58ae[_0x397c8b(0x79d)](_0x56505f=>{const _0x24e0ee=_0x397c8b;_0x598ca3(_0x56505f,this['getLocalId']())&&_0x48c540(_0x56505f,this[_0x24e0ee(0x162)])&&this['send'](_0x56505f);});this[_0x397c8b(0x3b9)]['set'](_0x1a58ae[_0x397c8b(0x32b)](),_0x561c5d);break;}case _0x29184c[_0x397c8b(0xd2)][_0x397c8b(0x224)]:{const _0x552479=_0x1a58ae['subscribe'](({content:_0x585658})=>{const _0x32bc85=_0x397c8b;switch(_0x585658['action']){case _0x1deabc[_0x32bc85(0x6b8)]:this['addTrack'](_0x585658[_0x32bc85(0x6dd)],_0x585658[_0x32bc85(0x912)],_0x585658['priority'],_0x585658[_0x32bc85(0x474)]);break;case _0x1deabc[_0x32bc85(0x276)]:this[_0x32bc85(0x323)](_0x585658[_0x32bc85(0x6dd)],_0x585658[_0x32bc85(0x912)]);break;case _0x1deabc[_0x32bc85(0x3ac)]:_0x585658[_0x32bc85(0x10b)]&&this[_0x32bc85(0x485)](_0x585658[_0x32bc85(0x912)],_0x585658[_0x32bc85(0x10b)]),_0x585658[_0x32bc85(0x474)]&&this[_0x32bc85(0x511)](_0x585658['stream'],_0x585658[_0x32bc85(0x474)]);}});this['mediaUnsubscribers'][_0x397c8b(0x2b3)](_0x1a58ae['getLabel'](),_0x552479);break;}}}[_0x45ef94(0x949)](_0x3d989b){const _0x4d315e=_0x45ef94;switch(_0x3d989b[_0x4d315e(0xf7)]()){case _0x29184c[_0x4d315e(0xd2)]['Data']:case _0x29184c[_0x4d315e(0xd2)][_0x4d315e(0x83b)]:case _0x29184c[_0x4d315e(0xd2)][_0x4d315e(0xc2)]:case _0x29184c[_0x4d315e(0xd2)][_0x4d315e(0x6ff)]:case _0x29184c[_0x4d315e(0xd2)][_0x4d315e(0x7a2)]:case _0x29184c[_0x4d315e(0xd2)][_0x4d315e(0x851)]:case _0x29184c[_0x4d315e(0xd2)][_0x4d315e(0x114)]:case _0x29184c[_0x4d315e(0xd2)][_0x4d315e(0x524)]:this[_0x4d315e(0x3b9)]['get'](_0x3d989b[_0x4d315e(0x32b)]())?.(),this['dataUnsubscribers']['delete'](_0x3d989b[_0x4d315e(0x32b)]());break;case _0x29184c[_0x4d315e(0xd2)][_0x4d315e(0x224)]:this[_0x4d315e(0x8b5)][_0x4d315e(0x1f5)](_0x3d989b[_0x4d315e(0x32b)]())?.(),this[_0x4d315e(0x8b5)]['delete'](_0x3d989b[_0x4d315e(0x32b)]());}}[_0x45ef94(0x5b4)](){const _0x24e012=_0x45ef94;return[_0x29184c[_0x24e012(0xd2)][_0x24e012(0x17a)],_0x29184c[_0x24e012(0xd2)]['Media'],_0x29184c[_0x24e012(0xd2)]['PubSub'],_0x29184c[_0x24e012(0xd2)]['ObjectStore'],_0x29184c[_0x24e012(0xd2)]['KeyValueDatabase'],_0x29184c['ContentType'][_0x24e012(0x7a2)],_0x29184c[_0x24e012(0xd2)][_0x24e012(0x851)],_0x29184c['ContentType'][_0x24e012(0x114)],_0x29184c['ContentType']['ExternalStorage']];}[_0x45ef94(0x52e)](_0x599e22){this['systemTopic']=_0x599e22;}[_0x45ef94(0xfc)](){const _0x45fb38=_0x45ef94;delete this[_0x45fb38(0x9da)];}async['connect'](){const _0x476852=_0x45ef94;this[_0x476852(0x409)](),await this['createOffer']();}[_0x45ef94(0x8b0)](){const _0x4d6adf=_0x45ef94;this[_0x4d6adf(0x838)][_0x4d6adf(0xa3f)](_0xa58336=>_0xa58336()),this[_0x4d6adf(0x838)]=[],this[_0x4d6adf(0x43f)]?.[_0x4d6adf(0xfc)](),this[_0x4d6adf(0x43f)]?.['close'](),delete this[_0x4d6adf(0x43f)],this['receiverUnsubscribers'][_0x4d6adf(0xa3f)](_0x288a2a=>_0x288a2a()),this[_0x4d6adf(0x589)]=[],this[_0x4d6adf(0x683)]?.[_0x4d6adf(0xfc)](),this[_0x4d6adf(0x683)]?.[_0x4d6adf(0x8b0)](),delete this[_0x4d6adf(0x683)];}[_0x45ef94(0x1de)](){const _0x1cb0ad=_0x45ef94;return this[_0x1cb0ad(0x43f)]?.['isConnected']()&&this[_0x1cb0ad(0x683)]?.[_0x1cb0ad(0x1de)]()||!0x1;}[_0x45ef94(0x55e)](_0x59bce4){const _0x554874=_0x45ef94;if(!this[_0x554874(0x43f)]||!this['isConnected']())throw new _0x279d71(_0x279d71[_0x554874(0x9c2)]['ConnectionNotinitialized'],{'message':'Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','senderConnected':this[_0x554874(0x43f)]?.[_0x554874(0x1de)](),'receiverConnected':this[_0x554874(0x683)]?.[_0x554874(0x1de)](),'localId':this[_0x554874(0x361)](),'remoteId':this[_0x554874(0x162)],'data':_0x59bce4});this[_0x554874(0x43f)][_0x554874(0x55e)](_0x59bce4);}[_0x45ef94(0x278)](_0x4025dd){const _0x4514ef=_0x45ef94;return this[_0x4514ef(0x713)][_0x4514ef(0x79d)](_0x4025dd);}['onTrack'](_0x33d929){const _0x53dab1=_0x45ef94;return this[_0x53dab1(0x531)]['subscribe'](({track:_0x479526,stream:_0x5d5689})=>_0x33d929(_0x479526,_0x5d5689));}[_0x45ef94(0x364)](_0x37402a){const _0x5399e8=_0x45ef94;return this[_0x5399e8(0x935)]['subscribe'](({track:_0x182e75,stream:_0x519083})=>_0x37402a(_0x182e75,_0x519083));}[_0x45ef94(0xa31)](_0x1038d9,_0x103e95,_0x17e049,_0x3f65b9){const _0x36a060=_0x45ef94;this[_0x36a060(0x43f)]?.[_0x36a060(0xa31)](_0x1038d9,_0x103e95,_0x17e049,_0x3f65b9);}[_0x45ef94(0x485)](_0x49f5e0,_0xd277b0){const _0x314e68=_0x45ef94;this[_0x314e68(0x43f)]?.[_0x314e68(0x485)](_0x49f5e0,_0xd277b0);}['setParams'](_0x3fb5c0,_0x335b3b){const _0x25a935=_0x45ef94;this[_0x25a935(0x43f)]?.[_0x25a935(0x511)](_0x3fb5c0,_0x335b3b);}[_0x45ef94(0x323)](_0x5deab7,_0x486b6e){const _0xe0bf3f=_0x45ef94;this[_0xe0bf3f(0x43f)]?.[_0xe0bf3f(0x323)](_0x5deab7,_0x486b6e);}async[_0x45ef94(0x2b4)](_0x3e0ecb){const _0x5d9d25=_0x45ef94;_0x301706[_0x5d9d25(0x1d5)](_0x3e3f45[_0x5d9d25(0x817)],'CrewdleConnection\x20handlePeerConnectionSystemEvents',this[_0x5d9d25(0x361)](),_0x3e0ecb);const {content:_0x215c1f}=_0x3e0ecb;switch(_0x215c1f[_0x5d9d25(0x6e1)]){case _0x565f29[_0x5d9d25(0x39e)]:await this['handleOffer'](_0x215c1f);break;case _0x565f29[_0x5d9d25(0x7db)]:await this[_0x5d9d25(0x530)](_0x215c1f);break;case _0x565f29[_0x5d9d25(0x75c)]:this[_0x5d9d25(0x7a7)]();break;case _0x565f29[_0x5d9d25(0x273)]:await this['handleIceCandidates'](_0x215c1f);break;case _0x565f29['NeedRestart']:this[_0x5d9d25(0x6f)](_0x215c1f);break;case _0x565f29[_0x5d9d25(0x4bc)]:await this[_0x5d9d25(0xa22)]();}}[_0x45ef94(0x39a)](_0x1b87b){const _0x259b7c=_0x45ef94;this[_0x259b7c(0x43f)]?.[_0x259b7c(0x82f)](_0x1b87b['content'][_0x259b7c(0x1a0)]);}[_0x45ef94(0x471)](){return this['connectionType'];}[_0x45ef94(0x583)](_0x397f46){const _0x45806f=_0x45ef94;this[_0x45806f(0x611)]=_0x397f46,this[_0x45806f(0x43f)]?.[_0x45806f(0x583)](_0x397f46),this['receiverConnection']?.[_0x45806f(0x583)](_0x397f46);}async[_0x45ef94(0x754)](){const _0x3bc433=_0x45ef94;await this['senderConnection']?.[_0x3bc433(0x754)](),await this['receiverConnection']?.[_0x3bc433(0x754)]();}['calculateArrayBufferSize'](){const _0x33611b=_0x45ef94;return this[_0x33611b(0x43f)]?.[_0x33611b(0x806)]()??0x0;}['getBufferedAmount'](){const _0x1c67ae=_0x45ef94;return this[_0x1c67ae(0x43f)]?.[_0x1c67ae(0x4e3)]()??0x0;}[_0x45ef94(0x409)](){const _0x252961=_0x45ef94;this[_0x252961(0x838)][_0x252961(0x59e)](this[_0x252961(0x278)](_0x574119=>{const _0x13ee06=_0x252961;_0x48c540(_0x574119,this[_0x13ee06(0x361)]())&&0x0!==_0x574119[_0x13ee06(0x3ad)]&&this[_0x13ee06(0x925)][_0x13ee06(0x1f5)](_0x574119[_0x13ee06(0x3ad)])?.[_0x13ee06(0x379)](_0x574119);})),this[_0x252961(0x838)][_0x252961(0x59e)](this[_0x252961(0x4df)]((_0xc3425b,_0x9b7804)=>{const _0x496ea5=_0x252961,_0x4d89d3=_0x24e08a(_0x29184c[_0x496ea5(0xd2)][_0x496ea5(0x224)],_0x9b7804['id'],this['remoteId']);this['mediaTopics'][_0x496ea5(0x1f5)](_0x4d89d3)?.[_0x496ea5(0x379)]({'topicLabel':_0x4d89d3,'sourceId':this[_0x496ea5(0x162)],'contentType':_0x29184c[_0x496ea5(0xd2)][_0x496ea5(0x224)],'content':{'action':_0x1deabc[_0x496ea5(0x2db)],'track':_0xc3425b,'stream':_0x9b7804,'providerId':this['remoteId']}});})),this[_0x252961(0x838)][_0x252961(0x59e)](this[_0x252961(0x364)]((_0x486a01,_0x59a469)=>{const _0x6b799c=_0x252961,_0x580f4e=_0x24e08a(_0x29184c[_0x6b799c(0xd2)][_0x6b799c(0x224)],_0x59a469['id'],this[_0x6b799c(0x162)]);this[_0x6b799c(0x614)][_0x6b799c(0x1f5)](_0x580f4e)?.['publish']({'topicLabel':_0x580f4e,'sourceId':this[_0x6b799c(0x162)],'contentType':_0x29184c['ContentType'][_0x6b799c(0x224)],'content':{'action':_0x1deabc[_0x6b799c(0xbb)],'track':_0x486a01,'stream':_0x59a469,'providerId':this[_0x6b799c(0x162)]}});}));}['handleIceCandidates']({candidates:_0x3faf0a,origin:_0x56e8c2,version:_0x35b596}){const _0x186829=_0x45ef94;return _0x56e8c2===_0x44c0fa['Sender']?(this[_0x186829(0x683)]||this[_0x186829(0x99)](),this[_0x186829(0x683)][_0x186829(0x41b)](_0x3faf0a,_0x35b596)):this[_0x186829(0x43f)][_0x186829(0x41b)](_0x3faf0a,_0x35b596);}async[_0x45ef94(0xa22)](){const _0x33a3d1=_0x45ef94;this[_0x33a3d1(0x43f)]||this['createSenderConnection'](),await this[_0x33a3d1(0x43f)][_0x33a3d1(0xa22)]();}async['handleOffer']({offer:_0x4110ad,version:_0xb74916}){const _0x597ba6=_0x45ef94;this[_0x597ba6(0x683)]||this[_0x597ba6(0x99)](),await this[_0x597ba6(0x683)][_0x597ba6(0x7cd)](_0x4110ad,_0xb74916);}async[_0x45ef94(0x530)]({answer:_0x230b73,version:_0x1cf747}){const _0x5dd688=_0x45ef94;if(!this[_0x5dd688(0x43f)])throw new _0x279d71(_0x279d71[_0x5dd688(0x9c2)][_0x5dd688(0x390)],{'message':'Sender\x20connection\x20is\x20not\x20initialized.','localId':this['getLocalId'](),'remoteId':this[_0x5dd688(0x162)],'answer':_0x230b73});await this[_0x5dd688(0x43f)][_0x5dd688(0x530)](_0x230b73,_0x1cf747);}[_0x45ef94(0x7a7)](){const _0xdc7091=_0x45ef94;if(!this[_0xdc7091(0x683)])throw new _0x279d71(_0x279d71[_0xdc7091(0x9c2)]['ConnectionNotinitialized'],{'message':_0xdc7091(0x821),'localId':this[_0xdc7091(0x361)](),'remoteId':this['remoteId']});this[_0xdc7091(0x683)][_0xdc7091(0x7a7)](),this[_0xdc7091(0x619)]||this['connectionType']!==_0x3fe73d[_0xdc7091(0x369)]||(this[_0xdc7091(0x619)]=!0x0,this['systemTopic']?.[_0xdc7091(0x379)]({'sourceId':this[_0xdc7091(0x162)],'destinationIds':[this[_0xdc7091(0x361)]()],'messageType':_0x43910d[_0xdc7091(0x529)],'content':{'type':_0x565f29[_0xdc7091(0x497)]}}));}[_0x45ef94(0x6f)](_0x450a93){const _0x213684=_0x45ef94;this[_0x213684(0x683)]||this[_0x213684(0x99)](),this[_0x213684(0x683)][_0x213684(0x6f)](_0x450a93[_0x213684(0x4ea)]);}[_0x45ef94(0x448)](){const _0x3e36b6=_0x45ef94;this[_0x3e36b6(0x43f)]=new _0x3272da(this[_0x3e36b6(0x9aa)],this[_0x3e36b6(0x5e4)],this['remoteId'],this[_0x3e36b6(0x29c)],this['connectionType'],this['maxFps'],this[_0x3e36b6(0xc0)],this[_0x3e36b6(0x798)]),this['senderConnection']['registerSystemPublisher'](this[_0x3e36b6(0x9da)]);}[_0x45ef94(0x99)](){const _0x10db58=_0x45ef94;this[_0x10db58(0x683)]=new _0xbf0d11(this[_0x10db58(0x9aa)],this[_0x10db58(0x5e4)],this['remoteId'],this[_0x10db58(0x29c)],this[_0x10db58(0x611)],this[_0x10db58(0x798)]),this[_0x10db58(0x683)][_0x10db58(0x52e)](this[_0x10db58(0x9da)]),this[_0x10db58(0x589)][_0x10db58(0x59e)](this['receiverConnection'][_0x10db58(0x278)](_0x3e6a10=>this[_0x10db58(0x713)][_0x10db58(0x379)](_0x3e6a10))),this[_0x10db58(0x589)][_0x10db58(0x59e)](this[_0x10db58(0x683)][_0x10db58(0x4df)]((_0x15b415,_0x234bb0)=>this[_0x10db58(0x531)][_0x10db58(0x379)]({'track':_0x15b415,'stream':_0x234bb0}))),this[_0x10db58(0x589)][_0x10db58(0x59e)](this[_0x10db58(0x683)]['onRemoveTrack']((_0x5cb222,_0x308e53)=>this['removeTrackListeners']['publish']({'track':_0x5cb222,'stream':_0x308e53})));}}class _0x219ff5{['localId'];['messageBuffer'];[_0x45ef94(0xa04)];['connections']=new Map();[_0x45ef94(0x713)]=_0x16e686();[_0x45ef94(0x3bf)];['dataTopics']=new Map();[_0x45ef94(0x3b9)]=new Map();[_0x45ef94(0x905)]=new Map();constructor(_0x34aea3,_0x14cf90,_0x58b4ea){this['localId']=_0x34aea3,this['messageBuffer']=_0x14cf90,this['graphService']=_0x58b4ea,this['messageUnsubscriber']=this['onMessage'](_0x564bb7=>{const _0xff8bb0=a0_0x395e;this[_0xff8bb0(0x2ed)][_0xff8bb0(0x2f9)](_0x564bb7[_0xff8bb0(0xb1)])||(_0x48c540(_0x564bb7,this[_0xff8bb0(0x5f7)])&&0x0!==_0x564bb7[_0xff8bb0(0x3ad)]&&(this[_0xff8bb0(0x2ed)][_0xff8bb0(0x13e)](_0x564bb7['uuid']),this[_0xff8bb0(0x925)][_0xff8bb0(0x1f5)](_0x564bb7[_0xff8bb0(0x3ad)])?.[_0xff8bb0(0x379)](_0x564bb7)),_0x564bb7[_0xff8bb0(0x4bf)]&&this[_0xff8bb0(0x55e)](_0x564bb7));});}[_0x45ef94(0x8b0)](){this['messageUnsubscriber']?.();}[_0x45ef94(0x6f2)](_0x569f54){const _0x176c6c=_0x45ef94,_0x1171ab=_0x569f54[_0x176c6c(0x278)](_0x1b31a5=>{const _0x272838=_0x176c6c;this['messageListeners'][_0x272838(0x379)](_0x1b31a5);});this[_0x176c6c(0x5fe)]['set'](_0x569f54,_0x1171ab),this[_0x176c6c(0x905)][_0x176c6c(0x2b3)](_0x569f54['getRemoteId'](),function(_0x5a9463,_0x298234=!0x1){let _0x55aa74=new Map();const _0x543c32=_0xe4e73b(_0x5a9463,_0x298234,function(_0x15294a){const _0x45bc36=a0_0x395e;_0x3fd70d(_0x15294a)&&_0x55aa74[_0x45bc36(0x991)](_0x15294a['sourceId']+'-'+(_0x15294a[_0x45bc36(0x462)]??[])+'-'+_0x15294a['messageType']+'-'+_0x15294a['content'][_0x45bc36(0x6e1)]);},function(_0x3eff63){return!!function(_0xb658db){const _0x28520d=a0_0x395e,_0x183afc=_0xb658db[_0x28520d(0x7b5)];if(!_0x3fd70d(_0x183afc))return!0x1;const _0x387341=_0x183afc['sourceId']+'-'+(_0x183afc[_0x28520d(0x462)]??[])+'-'+_0x183afc['messageType']+'-'+_0x183afc[_0x28520d(0x2ec)][_0x28520d(0x6e1)],_0x4793b1={'version':_0x183afc[_0x28520d(0x2ec)][_0x28520d(0x4ea)],'element':_0xb658db},_0x7b4594=_0x55aa74[_0x28520d(0x1f5)](_0x387341);return _0x7b4594?(_0x7b4594[_0x28520d(0x4ea)]>=_0x183afc[_0x28520d(0x2ec)][_0x28520d(0x4ea)]||(_0x7b4594[_0x28520d(0x434)][_0x28520d(0x617)]&&(_0x7b4594[_0x28520d(0x434)][_0x28520d(0x617)][_0x28520d(0x213)]=_0xb658db,_0xb658db[_0x28520d(0x617)]=_0x7b4594[_0x28520d(0x434)][_0x28520d(0x617)]),_0x7b4594['element'][_0x28520d(0x213)]&&(_0x7b4594['element'][_0x28520d(0x213)]['previous']=_0xb658db,_0xb658db['next']=_0x7b4594[_0x28520d(0x434)]['next']),_0x7b4594[_0x28520d(0x434)]===_0x543c32[_0x28520d(0x8dd)]&&(_0x543c32['head']=_0xb658db),_0x7b4594['element']===_0x543c32[_0x28520d(0x105)]&&(_0x543c32[_0x28520d(0x105)]=_0xb658db),_0x55aa74[_0x28520d(0x2b3)](_0x387341,_0x4793b1)),!0x0):(_0x55aa74['set'](_0x387341,_0x4793b1),!0x1);}(_0x3eff63);},function(){const _0x538264=a0_0x395e;_0x55aa74[_0x538264(0x1ac)]();});function _0x3fd70d(_0x4ea04b){const _0x14799a=a0_0x395e;if(_0x4ea04b&&_0x14799a(0x429)==typeof _0x4ea04b&&_0x4ea04b[_0x14799a(0x28f)](_0x14799a(0x2ec))&&_0x4ea04b[_0x14799a(0x28f)](_0x14799a(0x753))&&_0x4ea04b[_0x14799a(0x28f)]('sourceId')){const _0x4cf67a=_0x4ea04b;if(_0x4cf67a['content']&&'object'==typeof _0x4cf67a[_0x14799a(0x2ec)]&&_0x4cf67a['content'][_0x14799a(0x28f)](_0x14799a(0x4ea))&&_0x4cf67a[_0x14799a(0x2ec)]['hasOwnProperty'](_0x14799a(0x6e1)))return!0x0;}return!0x1;}return _0x543c32;}(new _0x16dc1e(_0x24a22a=>_0x569f54['send'](_0x24a22a),()=>_0x4f43db[_0x176c6c(0x7eb)](0x64))));}[_0x45ef94(0x725)](_0x759717){const _0x558079=_0x45ef94;this['connections']['get'](_0x759717)?.(),this[_0x558079(0x5fe)][_0x558079(0x991)](_0x759717),this[_0x558079(0x905)][_0x558079(0x1f5)](_0x759717[_0x558079(0x72d)]())?.['clear'](),this[_0x558079(0x905)][_0x558079(0x991)](_0x759717[_0x558079(0x72d)]());}['isConnected'](_0x1aceab){const _0x5bc668=_0x45ef94;return _0x301706[_0x5bc668(0x1d5)](_0x3e3f45[_0x5bc668(0x17f)],_0x5bc668(0x3d1),this[_0x5bc668(0x5f7)],this['connections'][_0x5bc668(0x428)]()),0x0!==this[_0x5bc668(0x5fe)]['size']&&(Array[_0x5bc668(0x157)](this['connections'][_0x5bc668(0x428)]())['find'](_0x54915c=>_0x54915c[_0x5bc668(0x72d)]()===_0x1aceab)?.[_0x5bc668(0x1de)]()??!0x1);}[_0x45ef94(0x196)](_0x4b4ad2){const _0x5a3bf6=_0x45ef94;this[_0x5a3bf6(0x925)][_0x5a3bf6(0x2b3)](_0x4b4ad2[_0x5a3bf6(0x32b)](),_0x4b4ad2);}[_0x45ef94(0x828)](_0x560bf5){const _0x4187c0=_0x45ef94;this[_0x4187c0(0x925)]['delete'](_0x560bf5[_0x4187c0(0x32b)]());}[_0x45ef94(0x24c)](_0x41d51f){const _0x5c34b7=_0x45ef94,_0x53a717=_0x41d51f[_0x5c34b7(0x79d)](this['send'][_0x5c34b7(0x26b)](this));this[_0x5c34b7(0x3b9)][_0x5c34b7(0x2b3)](_0x41d51f[_0x5c34b7(0x32b)](),_0x53a717);}[_0x45ef94(0x949)](_0x107cca){const _0x3b62b7=_0x45ef94;this[_0x3b62b7(0x3b9)]['get'](_0x107cca[_0x3b62b7(0x32b)]())?.(),this[_0x3b62b7(0x3b9)][_0x3b62b7(0x991)](_0x107cca[_0x3b62b7(0x32b)]());}[_0x45ef94(0x5b4)](){const _0x18328b=_0x45ef94;return[_0x29184c[_0x18328b(0xd2)][_0x18328b(0x17a)],_0x29184c[_0x18328b(0xd2)]['PubSub'],_0x29184c[_0x18328b(0xd2)]['ObjectStore'],_0x29184c[_0x18328b(0xd2)][_0x18328b(0x6ff)],_0x29184c['ContentType']['Job'],_0x29184c['ContentType'][_0x18328b(0x851)],_0x29184c[_0x18328b(0xd2)][_0x18328b(0x114)],_0x29184c[_0x18328b(0xd2)][_0x18328b(0x524)]];}[_0x45ef94(0x55e)](_0x5a2b52){const _0x591d9e=_0x45ef94;if(!0x1===_0x5a2b52[_0x591d9e(0x8af)]){if(_0x5a2b52[_0x591d9e(0x4bf)]||!_0x5a2b52[_0x591d9e(0x462)]||0x1!==_0x5a2b52[_0x591d9e(0x462)][_0x591d9e(0x453)])throw new _0x279d71(_0x279d71[_0x591d9e(0x9c2)][_0x591d9e(0x9cb)],{'message':_0x591d9e(0x678),'localId':this['localId']});if(!this[_0x591d9e(0x1de)](_0x5a2b52[_0x591d9e(0x462)][0x0]))throw new _0x3851a6(_0x591d9e(0x40c));}const _0x1555b2=_0x5a2b52[_0x591d9e(0x989)]??[];try{const {filteredDestinationIds:_0x14dbe8,extendedRecipients:_0x2129a4}=this[_0x591d9e(0x159)](_0x5a2b52,_0x1555b2);_0x5a2b52[_0x591d9e(0x462)]=_0x14dbe8,_0x5a2b52[_0x591d9e(0x989)]=_0x2129a4;}catch(_0x518b53){if(_0x518b53 instanceof _0x3851a6)return void _0x301706[_0x591d9e(0x1d5)](_0x3e3f45['Connection'],_0x591d9e(0x82),_0x591d9e(0x3aa),_0x5a2b52,_0x518b53['message']);}const _0x1dee88=this[_0x591d9e(0x236)](_0x5a2b52);this[_0x591d9e(0x805)](_0x5a2b52,_0x1dee88),_0x5a2b52['propagate']=_0x1dee88;const _0x51e745=this['getConnectionDestinations'](_0x5a2b52,_0x1555b2);for(const _0x36d769 of _0x51e745){const _0x39d1ba=this[_0x591d9e(0x905)][_0x591d9e(0x1f5)](_0x36d769['getRemoteId']());if(!_0x39d1ba)throw new _0x279d71(_0x279d71['codes']['ConnectionNoRetryQueue'],{'message':'CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','localId':this['localId'],'remoteId':_0x36d769[_0x591d9e(0x72d)](),'data':_0x5a2b52});_0x39d1ba[_0x591d9e(0x59e)](_0x5a2b52);}}[_0x45ef94(0x72d)](){return'';}['getLocalId'](){const _0x93446c=_0x45ef94;return this[_0x93446c(0x5f7)];}[_0x45ef94(0x278)](_0x83b312){const _0x530ebb=_0x45ef94;return this[_0x530ebb(0x713)]['subscribe'](_0x83b312);}[_0x45ef94(0x159)](_0x551c10,_0x454fe5){const _0x206c52=_0x45ef94,_0x5180b8={'filteredDestinationIds':_0x551c10[_0x206c52(0x462)],'extendedRecipients':_0x551c10['recipients']};if(!_0x551c10[_0x206c52(0x4bf)])return _0x5180b8;const _0x1e017f=Array[_0x206c52(0x157)](this[_0x206c52(0x5fe)]['keys']())[_0x206c52(0x533)](_0x218502=>_0x218502[_0x206c52(0x471)]()===_0x3fe73d[_0x206c52(0xa29)]||_0x218502[_0x206c52(0x1de)]())[_0x206c52(0x1f8)](_0x9619e7=>_0x9619e7[_0x206c52(0x72d)]());if(_0x1e017f[_0x206c52(0x9f6)]((_0x1a7101,_0x4347e1)=>_0x1a7101&&_0x551c10[_0x206c52(0x989)][_0x206c52(0x62f)](_0x4347e1),!0x0))throw new _0x3851a6(_0x206c52(0x7ea));if(_0x551c10[_0x206c52(0x462)]){const _0x2a40fd=_0x551c10[_0x206c52(0x462)][_0x206c52(0x533)](_0x6583e6=>_0x6583e6!==this[_0x206c52(0x5f7)]&&!_0x551c10[_0x206c52(0x989)][_0x206c52(0x62f)](_0x6583e6));if(0x0===_0x2a40fd['length'])throw new _0x3851a6(_0x206c52(0x987));_0x5180b8[_0x206c52(0x7c0)]=_0x2a40fd;}return _0x5180b8[_0x206c52(0x109)]=[...new Set([..._0x454fe5,..._0x1e017f,this[_0x206c52(0x5f7)]])],_0x5180b8;}[_0x45ef94(0x805)](_0x27b870,_0xc5ba9e=!0x1){const _0x567338=_0x45ef94;if(0x0===_0x27b870['topicLabel']&&!_0x598ca3(_0x27b870,this[_0x567338(0x5f7)])&&_0x27b870[_0x567338(0x4bf)]){const _0x5e301e=_0x4f155b(_0x27b870,this[_0x567338(0x5f7)]);_0x301706[_0x567338(0x93f)](_0x3e3f45[_0x567338(0xa3c)],_0x27b870[_0x567338(0xb1)]+_0x567338(0x372)+_0xc5ba9e+')\x20'+_0x5e301e,_0x27b870,_0xc5ba9e);}}['shouldContinuePropagation'](_0x3cf951){const _0x147f82=_0x45ef94;if(_0x3cf951['destinationIds']&&_0x3cf951[_0x147f82(0x4bf)]){const _0x2c0968=Array['from'](this['connections']['keys']())[_0x147f82(0x533)](_0xd5f676=>_0xd5f676[_0x147f82(0x471)]()===_0x3fe73d['Core']||_0xd5f676[_0x147f82(0x1de)]())[_0x147f82(0x1f8)](_0x369e90=>_0x369e90[_0x147f82(0x72d)]());return!_0x3cf951[_0x147f82(0x462)][_0x147f82(0x9f6)]((_0x21d9c5,_0x4dac3c)=>_0x21d9c5&&_0x2c0968[_0x147f82(0x62f)](_0x4dac3c),!0x0);}return _0x3cf951[_0x147f82(0x4bf)]??!0x1;}[_0x45ef94(0x25d)](_0x3aac02,_0x48dd2a){const _0x4fb451=_0x45ef94;if(_0x3aac02[_0x4fb451(0x4bf)]&&_0x3aac02[_0x4fb451(0x462)]){const _0x17369e=Array[_0x4fb451(0x157)](this[_0x4fb451(0x5fe)][_0x4fb451(0x428)]())['filter'](_0x4272da=>_0x4272da[_0x4fb451(0x471)]()===_0x3fe73d[_0x4fb451(0xa29)]||_0x4272da[_0x4fb451(0x1de)]())['map'](_0xcf9062=>_0xcf9062[_0x4fb451(0x72d)]()),_0x45f874=new Set(),_0x34adb6=_0x3aac02[_0x4fb451(0x499)]===this[_0x4fb451(0x5f7)]?0x3:0x1;return _0x3aac02[_0x4fb451(0x462)][_0x4fb451(0xa3f)](_0x2faa5e=>{const _0x2faeeb=_0x4fb451,_0x56604f=this[_0x2faeeb(0xa04)]['getClosestNodes'](_0x17369e,_0x2faa5e);let _0x29234b=0x0,_0x4ad0ce=0x0;_0x56604f[_0x2faeeb(0xa3f)](_0x42bd71=>{const _0x1dd6e6=_0x2faeeb;if(_0x29234b>=_0x34adb6)return;const _0x4eac80=Array[_0x1dd6e6(0x157)](this[_0x1dd6e6(0x5fe)][_0x1dd6e6(0x428)]())[_0x1dd6e6(0x786)](_0x5c0c1e=>_0x5c0c1e[_0x1dd6e6(0x72d)]()===_0x42bd71);if(_0x4eac80){if(_0x4eac80[_0x1dd6e6(0x471)]()===_0x3fe73d[_0x1dd6e6(0xa29)]&&_0x4ad0ce>0x0)return void(_0x4ad0ce-=0x1);_0x45f874[_0x1dd6e6(0x9fb)](_0x4eac80),_0x4eac80[_0x1dd6e6(0x471)]()===_0x3fe73d[_0x1dd6e6(0x369)]&&(_0x4ad0ce+=0x1),_0x29234b+=0x1;}});}),Array[_0x4fb451(0x157)](_0x45f874);}return Array[_0x4fb451(0x157)](this[_0x4fb451(0x5fe)]['keys']())[_0x4fb451(0x533)](_0x42dad2=>{const _0x9a840=_0x4fb451;return _0x232621=_0x42dad2[_0x9a840(0x72d)](),!_0x48dd2a['includes'](_0x232621)&&(_0x48c540(_0x3aac02,_0x232621)||_0x3aac02[_0x9a840(0x4bf)])&&(!_0x3aac02[_0x9a840(0x4bf)]||_0x42dad2[_0x9a840(0x1de)]()||_0x42dad2[_0x9a840(0x471)]()===_0x3fe73d['Core']);var _0x232621;});}}class _0x5e7d2f{['localId'];[_0x45ef94(0x2ed)];['connections']=new Map();[_0x45ef94(0x9da)];constructor(_0x3b99b5,_0x5487ac){const _0x1f557d=_0x45ef94;this[_0x1f557d(0x5f7)]=_0x3b99b5,this[_0x1f557d(0x2ed)]=_0x5487ac;}[_0x45ef94(0x8b0)](){}[_0x45ef94(0x55e)](_0x72af2f){const _0x112435=_0x45ef94;for(const _0x21fea0 of this[_0x112435(0x5fe)]['keys']())try{return void _0x21fea0[_0x112435(0x55e)]({'retry':!0x1,..._0x72af2f});}catch(_0x1bdf90){_0x1bdf90 instanceof _0x3851a6||_0x301706['log'](_0x3e3f45['Pool'],_0x112435(0x5d1)+_0x21fea0,_0x1bdf90,_0x72af2f);}_0x301706[_0x112435(0x1d5)](_0x3e3f45[_0x112435(0x892)],_0x112435(0xe9));}['addConnection'](_0x31115e){const _0x5730c6=_0x45ef94,_0x554a43=_0x31115e[_0x5730c6(0x278)](_0x30dde5=>{const _0x302613=_0x5730c6;this['messageBuffer'][_0x302613(0x2f9)](_0x30dde5[_0x302613(0xb1)])||0x0===_0x30dde5[_0x302613(0x3ad)]&&(this[_0x302613(0x2ed)][_0x302613(0x13e)](_0x30dde5['uuid']),_0x48c540(_0x30dde5,this[_0x302613(0x5f7)])&&this[_0x302613(0x9da)]?.[_0x302613(0x379)](_0x30dde5));});this[_0x5730c6(0x5fe)][_0x5730c6(0x2b3)](_0x31115e,_0x554a43);}[_0x45ef94(0x725)](_0x3579c0){const _0x21c4f5=_0x45ef94;this[_0x21c4f5(0x5fe)][_0x21c4f5(0x1f5)](_0x3579c0)?.(),this[_0x21c4f5(0x5fe)][_0x21c4f5(0x991)](_0x3579c0);}[_0x45ef94(0x361)](){const _0x1ebf13=_0x45ef94;return this[_0x1ebf13(0x5f7)];}[_0x45ef94(0x72d)](){return'';}[_0x45ef94(0x5b4)](){const _0x5d2199=_0x45ef94;return[_0x29184c[_0x5d2199(0xd2)][_0x5d2199(0x17a)]];}[_0x45ef94(0x1de)](){const _0xc9f6=_0x45ef94;throw new Error(_0xc9f6(0x6df));}[_0x45ef94(0x52e)](_0x13d930){const _0x27c977=_0x45ef94;this[_0x27c977(0x9da)]=_0x13d930;}['unregisterSystemPublisher'](){delete this['systemTopic'];}}class _0x304ee0{['buffer']=new Map();[_0x45ef94(0x569)];constructor(){const _0x3c126b=_0x45ef94;this[_0x3c126b(0x569)]=_0x4f43db[_0x3c126b(0x886)](()=>{const _0x14ed48=_0x3c126b;for(const [_0x122af6,_0x384165]of this[_0x14ed48(0xa49)][_0x14ed48(0x58b)]())Date[_0x14ed48(0x69)]()-_0x384165>0x124f80&&this[_0x14ed48(0xa49)][_0x14ed48(0x991)](_0x122af6);},0x1d4c0);}[_0x45ef94(0x8b0)](){const _0x5a4ce0=_0x45ef94;this[_0x5a4ce0(0x569)]();}[_0x45ef94(0x13e)](_0x29d22f){const _0x4b9eb5=_0x45ef94;this[_0x4b9eb5(0xa49)][_0x4b9eb5(0x2b3)](_0x29d22f,Date[_0x4b9eb5(0x69)]());}[_0x45ef94(0x2f9)](_0x2652a7){const _0x27f052=_0x45ef94;return this[_0x27f052(0xa49)][_0x27f052(0x3bc)](_0x2652a7);}}class _0x19047d{[_0x45ef94(0x380)];['authService'];[_0x45ef94(0x29c)];[_0x45ef94(0x205)];[_0x45ef94(0x5fe)]=new Map();[_0x45ef94(0x70c)];[_0x45ef94(0x7a4)];[_0x45ef94(0x5fa)];[_0x45ef94(0x2ed)];constructor(_0x572779,_0x472cd7,_0x33570c,_0x1a5131,_0x328d41){const _0x561aa9=_0x45ef94;this['configs']=_0x572779,this[_0x561aa9(0x8a2)]=_0x472cd7,this[_0x561aa9(0x29c)]=_0x1a5131,this[_0x561aa9(0x205)]=_0x328d41,this[_0x561aa9(0x2ed)]=new _0x304ee0(),this[_0x561aa9(0x7a4)]=new _0x219ff5(this['configs'][_0x561aa9(0x5e4)][_0x561aa9(0xa2a)](),this[_0x561aa9(0x2ed)],_0x33570c),this['signalingServer']=new _0x1992e4(this['configs'][_0x561aa9(0x154)],this[_0x561aa9(0x380)][_0x561aa9(0x9aa)],this[_0x561aa9(0x380)]['localNode'],_0x561aa9(0x868),this[_0x561aa9(0x8a2)]),this[_0x561aa9(0x70c)]=new _0x5e7d2f(this[_0x561aa9(0x380)][_0x561aa9(0x5e4)]['getId'](),this[_0x561aa9(0x2ed)]),this[_0x561aa9(0x70c)][_0x561aa9(0x6f2)](this[_0x561aa9(0x7a4)]),this[_0x561aa9(0x70c)]['addConnection'](this[_0x561aa9(0x5fa)]),this['configs'][_0x561aa9(0x33f)][_0x561aa9(0x324)](this[_0x561aa9(0x70c)]);}['close'](){const _0x42a9e3=_0x45ef94;this[_0x42a9e3(0x2ed)][_0x42a9e3(0x8b0)](),this[_0x42a9e3(0x5fe)][_0x42a9e3(0xa3f)]((_0x54a15a,_0x2e9814)=>this[_0x42a9e3(0x63f)](_0x2e9814)),this['configs'][_0x42a9e3(0x33f)]['unregisterSystemSource'](this[_0x42a9e3(0x70c)]),this[_0x42a9e3(0x70c)]['removeConnection'](this[_0x42a9e3(0x5fa)]),this[_0x42a9e3(0x70c)][_0x42a9e3(0x725)](this[_0x42a9e3(0x7a4)]),this[_0x42a9e3(0x70c)][_0x42a9e3(0x8b0)](),this[_0x42a9e3(0x5fa)][_0x42a9e3(0x8b0)](),this[_0x42a9e3(0x7a4)][_0x42a9e3(0x8b0)]();}async[_0x45ef94(0x47a)](){const _0x1f0693=_0x45ef94;await this[_0x1f0693(0x5fa)][_0x1f0693(0x915)]();}async[_0x45ef94(0x9ce)](_0x445a6a,_0x5aab2c=_0x3fe73d[_0x45ef94(0xa29)]){const _0x5a48d2=_0x45ef94;if(this['connections'][_0x5a48d2(0x3bc)](_0x445a6a)){if(this['connections'][_0x5a48d2(0x1f5)](_0x445a6a)?.[_0x5a48d2(0x471)]()===_0x3fe73d['Optimization']&&_0x5aab2c===_0x3fe73d[_0x5a48d2(0xa29)])return void this['connections']['get'](_0x445a6a)?.['setConnectionType'](_0x3fe73d[_0x5a48d2(0xa29)]);throw new _0x279d71(_0x279d71[_0x5a48d2(0x9c2)][_0x5a48d2(0x951)],{'localId':this[_0x5a48d2(0x380)][_0x5a48d2(0x5e4)][_0x5a48d2(0xa2a)](),'remoteId':_0x445a6a});}const _0x48bc19=new _0x5b56d8(this[_0x5a48d2(0x380)][_0x5a48d2(0x9aa)],this['configs'][_0x5a48d2(0x5e4)],_0x445a6a,this['iceServers'],_0x5aab2c,this[_0x5a48d2(0x205)][_0x5a48d2(0x7c4)],this[_0x5a48d2(0x205)]['maxBpp'],this[_0x5a48d2(0x205)][_0x5a48d2(0x723)]);this[_0x5a48d2(0x5fe)][_0x5a48d2(0x2b3)](_0x445a6a,_0x48bc19),this[_0x5a48d2(0x7a4)][_0x5a48d2(0x6f2)](_0x48bc19),this[_0x5a48d2(0x380)][_0x5a48d2(0x33f)][_0x5a48d2(0x324)](_0x48bc19),this[_0x5a48d2(0x380)][_0x5a48d2(0x33f)]['registerRemoteNode'](_0x445a6a),await _0x48bc19[_0x5a48d2(0x915)]();}[_0x45ef94(0x5f0)](){const _0x3b95d0=_0x45ef94;return this[_0x3b95d0(0x7a4)];}['getConnection'](_0x1e0ce6){const _0x5813de=_0x45ef94;if(!this[_0x5813de(0x5fe)]['has'](_0x1e0ce6))throw new _0x279d71(_0x279d71[_0x5813de(0x9c2)][_0x5813de(0x48d)],{'localId':this[_0x5813de(0x380)]['localNode'][_0x5813de(0xa2a)](),'remoteId':_0x1e0ce6});return this[_0x5813de(0x5fe)][_0x5813de(0x1f5)](_0x1e0ce6);}[_0x45ef94(0x78e)](_0x31c803){const _0x48e840=_0x45ef94,_0x2a9b6b=Array['from'](this['connections']['values']());return _0x31c803?_0x2a9b6b[_0x48e840(0x533)](_0x31c803):_0x2a9b6b;}async['collectStats'](_0x4c76a7){const _0x108041=_0x45ef94,_0x3dd30e=this['connections'][_0x108041(0x1f5)](_0x4c76a7);_0x3dd30e&&_0x3dd30e[_0x108041(0x1de)]()&&await _0x3dd30e[_0x108041(0x754)]();}[_0x45ef94(0x746)](_0x229d98){const _0x36995f=_0x45ef94;if(_0x229d98[_0x36995f(0x753)]!==_0x43910d[_0x36995f(0x529)]||_0x229d98[_0x36995f(0x4bf)])try{this[_0x36995f(0x7a4)][_0x36995f(0x55e)](_0x229d98);}catch(_0x5b61f6){if(_0x5b61f6 instanceof _0x3851a6)return;throw _0x5b61f6;}else this[_0x36995f(0x70c)][_0x36995f(0x55e)](_0x229d98);}async[_0x45ef94(0x2b4)](_0x373038){const _0x441b59=_0x45ef94;switch(_0x373038[_0x441b59(0x2ec)]['type']){case _0x565f29['Disconnect']:case _0x565f29[_0x441b59(0x936)]:case _0x565f29[_0x441b59(0x497)]:return;}if(!_0x373038[_0x441b59(0x462)]||0x1!==_0x373038[_0x441b59(0x462)]['length'])throw new _0x279d71(_0x279d71[_0x441b59(0x9c2)][_0x441b59(0x95)],{'message':_0x441b59(0x4ca),'event':_0x373038});if(_0x373038[_0x441b59(0x462)][0x0]!==this['configs'][_0x441b59(0x5e4)][_0x441b59(0xa2a)]())throw new _0x279d71(_0x279d71[_0x441b59(0x9c2)][_0x441b59(0x95)],{'message':'Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','event':_0x373038});if(!this[_0x441b59(0x5fe)][_0x441b59(0x3bc)](_0x373038[_0x441b59(0x499)])){let _0x45a72f=_0x3fe73d[_0x441b59(0xa29)];if(!(this[_0x441b59(0x625)](_0x373038['content'])||this['isIceCandidate'](_0x373038['content'])||this[_0x441b59(0x735)](_0x373038[_0x441b59(0x2ec)])))return;_0x45a72f=_0x373038[_0x441b59(0x2ec)][_0x441b59(0x611)],await this['createConnection'](_0x373038[_0x441b59(0x499)],_0x45a72f);}const _0x4dfeb7=this[_0x441b59(0x5fe)][_0x441b59(0x1f5)](_0x373038[_0x441b59(0x499)]);await _0x4dfeb7['handlePeerConnectionSystemEvents'](_0x373038);}[_0x45ef94(0x39a)](_0x1048f3){const _0x4dafe7=_0x45ef94;if(_0x1048f3[_0x4dafe7(0x2ec)]['type']===_0x53dfe9['Remediation']){if(_0x1048f3[_0x4dafe7(0x2ec)][_0x4dafe7(0x5e7)]===this['configs'][_0x4dafe7(0x5e4)][_0x4dafe7(0xa2a)]())return void this[_0x4dafe7(0x5fe)][_0x4dafe7(0xa3f)](_0x37bcdb=>_0x37bcdb[_0x4dafe7(0x39a)](_0x1048f3));this[_0x4dafe7(0x5fe)][_0x4dafe7(0x1f5)](_0x1048f3['content']['targetId'])?.[_0x4dafe7(0x39a)](_0x1048f3);}}['handleNodeSystemEvents']({content:_0x18c533}){const _0x4e4038=_0x45ef94;_0x18c533[_0x4e4038(0x6e1)]===_0x3b4c4a['NodeLeave']&&this[_0x4e4038(0x63f)](_0x18c533['id']);}[_0x45ef94(0x402)](){const _0x19f3c2=_0x45ef94,_0x1c0401=Array[_0x19f3c2(0x157)](this['connections'][_0x19f3c2(0x67a)]())[_0x19f3c2(0x9f6)]((_0x4b8fc6,_0x2845b0)=>_0x4b8fc6+_0x2845b0['calculateArrayBufferSize'](),0x0);return _0x1c0401<_0x2d6bee?Promise[_0x19f3c2(0x899)](_0x1c0401):new Promise(_0x5885f5=>{const _0x52074b=setInterval(()=>{const _0x22d221=a0_0x395e,_0x3f0ac2=Array[_0x22d221(0x157)](this[_0x22d221(0x5fe)][_0x22d221(0x67a)]())[_0x22d221(0x9f6)]((_0x427c0b,_0x34ec53)=>_0x427c0b+_0x34ec53['calculateArrayBufferSize'](),0x0);_0x3f0ac2<_0x2d6bee&&(clearInterval(_0x52074b),_0x5885f5(_0x3f0ac2));},0x3e8);});}['hasBufferedData'](){const _0x28431a=_0x45ef94;for(const _0x1a5d73 of this[_0x28431a(0x5fe)]['values']())if(_0x1a5d73[_0x28431a(0x4e3)]()>0x0||_0x1a5d73[_0x28431a(0x806)]()>0x0)return!0x0;return!0x1;}[_0x45ef94(0x63f)](_0x55df00){const _0x5498d6=_0x45ef94,_0x248ced=this[_0x5498d6(0x5fe)][_0x5498d6(0x1f5)](_0x55df00);_0x248ced&&(this['configs'][_0x5498d6(0x33f)]['unregisterRemoteNode'](_0x55df00),this['configs']['mediator'][_0x5498d6(0x88e)](_0x248ced),_0x248ced instanceof _0x5b56d8&&this[_0x5498d6(0x7a4)]['removeConnection'](_0x248ced),_0x248ced['close'](),this[_0x5498d6(0x5fe)]['delete'](_0x55df00));}[_0x45ef94(0x625)](_0x411e33){const _0x1c40c5=_0x45ef94;return _0x411e33[_0x1c40c5(0x6e1)]===_0x565f29[_0x1c40c5(0x39e)];}[_0x45ef94(0x735)](_0x1e2a68){const _0x4f022f=_0x45ef94;return _0x1e2a68['type']===_0x565f29[_0x4f022f(0x795)];}['isIceCandidate'](_0x13f954){const _0x518db9=_0x45ef94;return _0x13f954[_0x518db9(0x6e1)]===_0x565f29[_0x518db9(0x273)];}}!function(_0x4f74be){const _0x4e4eae=_0x45ef94;_0x4f74be[_0x4f74be[_0x4e4eae(0xa0f)]=0x0]=_0x4e4eae(0xa0f),_0x4f74be[_0x4f74be['UpdateMediaStream']=0x1]=_0x4e4eae(0x5c1),_0x4f74be[_0x4f74be['UnsubscribeMediaStream']=0x2]=_0x4e4eae(0x919),_0x4f74be[_0x4f74be['NeedMediaStream']=0x3]=_0x4e4eae(0xfd),_0x4f74be[_0x4f74be['RestartNeedMediaStream']=0x4]=_0x4e4eae(0x6f3),_0x4f74be[_0x4f74be['CanProvideMediaStream']=0x5]=_0x4e4eae(0x297),_0x4f74be[_0x4f74be['CannotProvideMediaStream']=0x6]=_0x4e4eae(0x742),_0x4f74be[_0x4f74be[_0x4e4eae(0x846)]=0x7]='MediaStreamUnavailable';}(_0x3d7bb7||(_0x3d7bb7={}));class _0x1e5fb5 extends _0x267a55{[_0x45ef94(0x5e4)];['clusterId'];[_0x45ef94(0x154)];[_0x45ef94(0x6b4)];[_0x45ef94(0x706)];[_0x45ef94(0x3e2)]=0x0;[_0x45ef94(0x87a)];['eventListener']=_0x16e686();[_0x45ef94(0x838)]=new Map();[_0x45ef94(0xf0)];constructor(_0x39ba53,_0x908158,_0x4080b2,_0x2c05cd,_0x509c7b){const _0x315133=_0x45ef94;if(_0x315133(0x829)!=typeof _0x908158)throw new _0x54ac69(_0x1dd92b[_0x315133(0x8d4)],_0x315133(0x9c));super(_0x39ba53,_0x908158),this['localNode']=_0x39ba53,this[_0x315133(0x9aa)]=_0x4080b2,this[_0x315133(0x154)]=_0x2c05cd,this[_0x315133(0x6b4)]=_0x509c7b,this[_0x315133(0x707)]();}[_0x45ef94(0x9d1)](){const _0x3d88a8=_0x45ef94;this[_0x3d88a8(0xf0)]?.(),this[_0x3d88a8(0x838)][_0x3d88a8(0xa3f)](_0x12fc99=>_0x12fc99()),clearTimeout(this[_0x3d88a8(0x706)]),delete this[_0x3d88a8(0x706)],super[_0x3d88a8(0x9d1)]();}[_0x45ef94(0x9a1)](){const _0x5e42f9=_0x45ef94;this[_0x5e42f9(0x707)]();}[_0x45ef94(0x8b0)](){const _0x41563b=_0x45ef94;this[_0x41563b(0x9da)]['publish']({'sourceId':_0x17190e,'messageType':_0x43910d[_0x41563b(0xc4)],'content':{'type':_0x292504['CloseExternalStorageConnection'],'label':this[_0x41563b(0x8f4)]}});}[_0x45ef94(0xf7)](){const _0x592c57=_0x45ef94;return _0x29184c[_0x592c57(0xd2)][_0x592c57(0x524)];}async[_0x45ef94(0x1f5)](_0x62be9c){const _0x41df39=_0x45ef94;if(!this['connector'])throw new _0x54ac69(_0x1dd92b[_0x41df39(0x88)],_0x41df39(0x74e));_0x301706[_0x41df39(0x6d8)](_0x230988[_0x41df39(0x524)],{'type':_0x41df39(0x1f5),'label':this[_0x41df39(0x8f4)],'nodeId':this[_0x41df39(0x5e4)]['getId'](),'nodeType':this[_0x41df39(0x5e4)][_0x41df39(0x6e1)],'clusterId':this[_0x41df39(0x9aa)],'path':_0x62be9c}),this[_0x41df39(0x3e2)]+=0x1,this['sendStats']();try{return await this[_0x41df39(0x87a)][_0x41df39(0x1f5)](_0x62be9c);}catch(_0x24dca0){throw new _0x54ac69(_0x1dd92b[_0x41df39(0x509)],_0x41df39(0x141)+_0x62be9c);}}async['list'](_0x2011fa,_0x2ea240){const _0x7c6e1=_0x45ef94;if(!this[_0x7c6e1(0x87a)])throw new _0x54ac69(_0x1dd92b['ExternalStorageConnectorsMissing'],_0x7c6e1(0x9c9));const {recursive:_0x3f4bcb=!0x1}=_0x2ea240??{};_0x301706[_0x7c6e1(0x6d8)](_0x230988[_0x7c6e1(0x524)],{'type':_0x7c6e1(0x600),'label':this['label'],'nodeId':this[_0x7c6e1(0x5e4)][_0x7c6e1(0xa2a)](),'nodeType':this[_0x7c6e1(0x5e4)]['type'],'clusterId':this[_0x7c6e1(0x9aa)],'path':_0x2011fa}),this['reads']+=0x1,this['sendStats']();try{return await this['connector'][_0x7c6e1(0x600)](_0x2011fa,_0x3f4bcb);}catch(_0x24fe5b){throw new _0x54ac69(_0x1dd92b[_0x7c6e1(0x509)],_0x7c6e1(0x203)+_0x2011fa);}}['subscribe'](_0x485c33,_0x17efac){const _0x3dda29=_0x45ef94;if(this[_0x3dda29(0x838)][_0x3dda29(0x3bc)](_0x485c33))throw new _0x54ac69(_0x1dd92b[_0x3dda29(0x785)],_0x3dda29(0x9d6));this['listenerUnsubscribers'][_0x3dda29(0x2b3)](_0x485c33,this['eventListener'][_0x3dda29(0x79d)](_0x17efac));}[_0x45ef94(0x2b6)](_0x2d7a8f){const _0x6aa8b5=_0x45ef94;this[_0x6aa8b5(0x838)][_0x6aa8b5(0x1f5)](_0x2d7a8f)?.(),this[_0x6aa8b5(0x838)][_0x6aa8b5(0x991)](_0x2d7a8f);}async[_0x45ef94(0x7ae)](){const _0x5c99b0=_0x45ef94,_0x56110c=(await(0x0,_0x2a769c[_0x5c99b0(0x8aa)])((0x0,_0x2a769c['doc'])(_0x5e415d[_0x5c99b0(0x8f2)](),_0x5c99b0(0x676)+this['vendorId']+_0x5c99b0(0x222)+this[_0x5c99b0(0x8f4)])))[_0x5c99b0(0x1a0)]();if(!_0x56110c)throw new _0x54ac69(_0x1dd92b[_0x5c99b0(0x820)],_0x5c99b0(0x9c8)+this[_0x5c99b0(0x8f4)]);const {site:_0x593878,drive:_0x5ba544}=_0x56110c,_0x40e93b=(await(0x0,_0x3c2d83[_0x5c99b0(0x57e)])(_0x5e415d['getFunctions'](),'msalGetAccessToken')({'storageId':this[_0x5c99b0(0x8f4)]}))[_0x5c99b0(0x1a0)][_0x5c99b0(0x346)];this[_0x5c99b0(0x87a)]=new this[(_0x5c99b0(0x6b4))](_0x593878['id'],_0x5ba544['id'],_0x40e93b,async()=>(await(0x0,_0x3c2d83[_0x5c99b0(0x57e)])(_0x5e415d[_0x5c99b0(0x598)](),_0x5c99b0(0x76b))({'storageId':this[_0x5c99b0(0x8f4)]}))[_0x5c99b0(0x1a0)][_0x5c99b0(0x346)]),this[_0x5c99b0(0x1bf)]();}['sendStats'](){const _0x1e684f=_0x45ef94;this[_0x1e684f(0x706)]&&clearTimeout(this['debounceStats']),this['debounceStats']=setTimeout(async()=>{const _0x4e6e2d=_0x1e684f;delete this['debounceStats'],this[_0x4e6e2d(0x9da)][_0x4e6e2d(0x379)]({'sourceId':_0x17190e,'messageType':_0x43910d[_0x4e6e2d(0xc4)],'content':{'type':_0x292504[_0x4e6e2d(0x2ce)],'label':this[_0x4e6e2d(0x8f4)],'stats':{'timestamp':Date[_0x4e6e2d(0x69)](),'storage':0x0,'messagesSent':0x0,'messagesReceived':0x0,'bytesSent':0x0,'bytesReceived':0x0,'writes':0x0,'reads':this['reads'],'prompts':0x0,'tokens':0x0}}});},_0x4032ce);}async[_0x45ef94(0x1bf)](){const _0x54203b=_0x45ef94;await this['connector']?.[_0x54203b(0x8bd)](),this[_0x54203b(0xf0)]=_0x4f43db[_0x54203b(0x886)](async()=>{const _0xd60b47=_0x54203b;try{if(!this[_0xd60b47(0x87a)])return;const _0x5eeba3=await this[_0xd60b47(0x87a)]['listChanges']();for(const _0xcf27b4 of _0x5eeba3)this['eventListener']['publish'](_0xcf27b4);}catch(_0x5c286d){}},0x493e0);}}const _0x1e2755=require('rxjs');class _0x880be4 extends _0x267a55{[_0x45ef94(0xa04)];['jobs']=new Map();[_0x45ef94(0x731)]=new Map();['jobBids']=new Map();['unsubscribeHandler'];constructor(_0x4be820,_0x547195,_0x1c6773){const _0x4ab17f=_0x45ef94;super(_0x4be820,_0x547195),this[_0x4ab17f(0xa04)]=_0x1c6773;}[_0x45ef94(0xf7)](){const _0x2fa488=_0x45ef94;return _0x29184c[_0x2fa488(0xd2)][_0x2fa488(0x7a2)];}['open'](){const _0x282b77=_0x45ef94;this[_0x282b77(0x569)]=this['onMessage']((_0xb1950a,_0x1bac6c)=>{const _0x5015ad=_0x282b77;if(_0x301706[_0x5015ad(0x1d5)](_0x3e3f45[_0x5015ad(0x8a8)],'JobDispatcher:\x20Received\x20job',_0xb1950a,_0x1bac6c,this['graphService'][_0x5015ad(0x6c5)]()),!(_0x1bac6c instanceof File)){if(!_0x1bac6c)throw new _0x279d71(_0x279d71[_0x5015ad(0x9c2)][_0x5015ad(0x5ad)]);return this[_0x5015ad(0x75d)](_0x1bac6c)?this['addBidResponse'](_0xb1950a,_0x1bac6c['id'],_0x1bac6c):this['isPartialResultResponse'](_0x1bac6c)?(_0x301706['log'](_0x3e3f45['Jobs'],'Job\x20'+_0x1bac6c['id']+'\x20received\x20partial\x20result:',_0x1bac6c[_0x5015ad(0x632)]),void this[_0x5015ad(0x316)](_0x1bac6c['id'],_0x1bac6c)):this[_0x5015ad(0xa0a)](_0x1bac6c)?(_0x301706[_0x5015ad(0x1d5)](_0x3e3f45[_0x5015ad(0x8a8)],'Job\x20'+_0x1bac6c['id']+'\x20received\x20result:',_0x1bac6c[_0x5015ad(0x632)]),void this[_0x5015ad(0x52f)](_0x1bac6c['id'],_0x1bac6c)):void(this[_0x5015ad(0x93d)](_0x1bac6c)&&this['failJob'](_0x1bac6c['id'],_0x1bac6c['message']));}});}[_0x45ef94(0x9a1)](){const _0x36ad19=_0x45ef94;this[_0x36ad19(0x1ac)](),this['open']();}[_0x45ef94(0x9d1)](){const _0x302f9f=_0x45ef94;this[_0x302f9f(0x1ac)](),super[_0x302f9f(0x9d1)]();}['clear'](){const _0x24dcb9=_0x45ef94;this['jobs'][_0x24dcb9(0x1ac)](),this['unsubscribeHandler']&&this[_0x24dcb9(0x569)]();}[_0x45ef94(0x8b0)](){const _0x260ae0=_0x45ef94;this[_0x260ae0(0x9da)]?.[_0x260ae0(0x379)]({'sourceId':_0x17190e,'messageType':_0x43910d[_0x260ae0(0xc4)],'content':{'type':_0x292504[_0x260ae0(0x1ea)],'label':this['label']}});}async['createJob'](_0xed930){const _0x22e5ee=_0x45ef94,{id:_0x4d8967,parameters:_0x4b1698,jobType:_0x1eb253}=_0xed930,_0x2bdf16={'id':_0x4d8967,'jobType':_0x1eb253,'parameters':_0x4b1698,'status':_0x29184c[_0x22e5ee(0xd9)]['Pending'],'created':new Date(),'updated':new Date()};if(this['jobs'][_0x22e5ee(0x3bc)](_0x2bdf16['id']))throw new _0x54ac69(_0x1dd92b[_0x22e5ee(0x51a)],_0x22e5ee(0x84d)+_0x2bdf16['id']+'\x20already\x20exists.');_0x2bdf16[_0x22e5ee(0x622)]=new Date(),_0x2bdf16[_0x22e5ee(0x444)]=new Date();const _0x218b15=new _0x1e2755[(_0x22e5ee(0x633))]();this[_0x22e5ee(0x85e)][_0x22e5ee(0x2b3)](_0x2bdf16['id'],_0x2bdf16),this[_0x22e5ee(0x731)][_0x22e5ee(0x2b3)](_0x2bdf16['id'],_0x218b15);try{const _0xcc84ce={'id':_0x2bdf16['id'],'jobPhase':_0x44ee1d['Request'],'jobType':_0x2bdf16['jobType']},_0x449061=0x3;let _0xa9b073=0x0;const _0x849e20=async()=>{const _0x4287ac=_0x22e5ee;_0xa9b073+=0x1;try{_0x301706[_0x4287ac(0x1d5)](_0x3e3f45[_0x4287ac(0x8a8)],_0x4287ac(0xbd)+_0x2bdf16['id']+_0x4287ac(0x45e)+_0xa9b073+'.',this['graphService'][_0x4287ac(0x6c5)]()),await this[_0x4287ac(0x55e)](_0xcc84ce),_0x2bdf16[_0x4287ac(0x444)]=new Date(),this[_0x4287ac(0x85e)][_0x4287ac(0x2b3)](_0x2bdf16['id'],_0x2bdf16),this[_0x4287ac(0x12a)](_0x2bdf16['id']);}catch(_0x2d7491){_0xa9b073<_0x449061?(_0x301706[_0x4287ac(0x90)](_0x4287ac(0x878)+_0xa9b073+_0x4287ac(0x4ad)+_0x2bdf16['id']+_0x4287ac(0x708),{'nodeId':this[_0x4287ac(0x2e2)]['getId'](),'nodeType':this[_0x4287ac(0x2e2)][_0x4287ac(0x6e1)],'data':{'job':_0x2bdf16,'attempts':_0xa9b073,'maxRetries':_0x449061}}),setTimeout(_0x849e20,0x3e8)):(_0x2bdf16[_0x4287ac(0x4b9)]=_0x29184c['JobStatus'][_0x4287ac(0x99e)],_0x2bdf16['updated']=new Date(),this['jobs'][_0x4287ac(0x2b3)](_0x2bdf16['id'],_0x2bdf16),_0x301706[_0x4287ac(0x2a9)](_0x4287ac(0x1a8)+_0x2bdf16['id']+_0x4287ac(0x3eb)+_0x449061+'\x20attempts:',{'nodeId':this[_0x4287ac(0x2e2)][_0x4287ac(0xa2a)](),'nodeType':this[_0x4287ac(0x2e2)][_0x4287ac(0x6e1)],'data':{'job':_0x2bdf16,'attempts':_0xa9b073,'maxRetries':_0x449061,'error':_0x2d7491}}));}};_0x849e20();const {id:_0x26b511}=_0x2bdf16;this[_0x22e5ee(0x926)](_0x22e5ee(0xbd)+_0x2bdf16['id']+_0x22e5ee(0x3e1),{'jobId':_0x26b511}),_0x2bdf16[_0x22e5ee(0x444)]=new Date();}catch(_0x25d22e){_0x2bdf16[_0x22e5ee(0x4b9)]=_0x29184c[_0x22e5ee(0xd9)]['Failed'],_0x301706[_0x22e5ee(0x2a9)]('Failed\x20to\x20send\x20job\x20'+_0x2bdf16['id']+':',{'nodeId':this[_0x22e5ee(0x2e2)][_0x22e5ee(0xa2a)](),'nodeType':this[_0x22e5ee(0x2e2)]['type'],'data':{'job':_0x2bdf16,'error':_0x25d22e}});}return _0x218b15['asObservable']();}[_0x45ef94(0x699)](_0x399598){const _0x58dd6b=_0x45ef94,_0x263e0b=this[_0x58dd6b(0x85e)][_0x58dd6b(0x1f5)](_0x399598);if(!_0x263e0b)throw new _0x54ac69(_0x1dd92b[_0x58dd6b(0x7d3)],'Job\x20with\x20id\x20'+_0x399598+_0x58dd6b(0x190));return{'id':_0x263e0b['id'],'jobType':_0x263e0b[_0x58dd6b(0x5e0)],'status':_0x263e0b[_0x58dd6b(0x4b9)],'parameters':_0x263e0b[_0x58dd6b(0x1e3)]};}[_0x45ef94(0x67e)](){const _0x3a7cb8=_0x45ef94;return Array[_0x3a7cb8(0x157)](this['jobs'][_0x3a7cb8(0x67a)]())[_0x3a7cb8(0x1f8)](_0x321028=>this[_0x3a7cb8(0x699)](_0x321028['id']));}async[_0x45ef94(0x81)](_0x47ca46,_0x439f6b){const _0x59fcf1=_0x45ef94,_0x585ef7=this[_0x59fcf1(0x85e)][_0x59fcf1(0x1f5)](_0x47ca46);if(!_0x585ef7)throw new _0x54ac69(_0x1dd92b[_0x59fcf1(0x7d3)],'Job\x20with\x20id\x20'+_0x47ca46+_0x59fcf1(0x190));_0x585ef7[_0x59fcf1(0x1e3)]=_0x439f6b,_0x585ef7[_0x59fcf1(0x444)]=new Date(),this[_0x59fcf1(0x85e)][_0x59fcf1(0x2b3)](_0x47ca46,_0x585ef7);}async[_0x45ef94(0x2ac)](_0x43b96b){const _0x3dfa87=_0x45ef94;if(!this[_0x3dfa87(0x85e)][_0x3dfa87(0x991)](_0x43b96b))throw new _0x54ac69(_0x1dd92b[_0x3dfa87(0x7d3)],_0x3dfa87(0x84d)+_0x43b96b+_0x3dfa87(0x190));const _0x37ce20=this['jobObservers'][_0x3dfa87(0x1f5)](_0x43b96b);if(!_0x37ce20)throw new _0x279d71(_0x279d71[_0x3dfa87(0x9c2)][_0x3dfa87(0x9de)]);_0x37ce20[_0x3dfa87(0x45a)](),this[_0x3dfa87(0x731)][_0x3dfa87(0x991)](_0x43b96b),_0x301706[_0x3dfa87(0x1d5)](_0x3e3f45['Jobs'],_0x3dfa87(0xbd)+_0x43b96b+'\x20deleted.');}[_0x45ef94(0x381)](_0x279b36,_0x155bd9,_0x5c6729){const _0x35102f=_0x45ef94,_0x38ff89=this[_0x35102f(0x3d2)][_0x35102f(0x1f5)](_0x155bd9)??new Map();_0x38ff89[_0x35102f(0x2b3)](_0x279b36,[_0x5c6729,Date[_0x35102f(0x69)]()]),this[_0x35102f(0x3d2)][_0x35102f(0x2b3)](_0x155bd9,_0x38ff89),this[_0x35102f(0x355)](_0x155bd9);}['startBidResponseHandling'](_0x10803b){const _0x33c1a8=_0x45ef94,_0x3a8ecb=this[_0x33c1a8(0x85e)][_0x33c1a8(0x1f5)](_0x10803b);if(!_0x3a8ecb)throw new _0x279d71(_0x279d71[_0x33c1a8(0x9c2)][_0x33c1a8(0x7d3)]);const _0x646aa7=setTimeout(()=>this[_0x33c1a8(0x355)](_0x10803b,!0x0),0xbb8);_0x3a8ecb[_0x33c1a8(0xcd)]=_0x646aa7,this['jobs'][_0x33c1a8(0x2b3)](_0x3a8ecb['id'],_0x3a8ecb);}[_0x45ef94(0x355)](_0x397aa3,_0x5c56c0=!0x1){const _0x1b6808=_0x45ef94,_0x27e8f6=this[_0x1b6808(0xa04)][_0x1b6808(0x6c5)](),_0x38dd3f=Array['from'](_0x27e8f6[_0x1b6808(0x67a)]())['filter'](_0x1df374=>_0x1df374[_0x1b6808(0x6e1)]===_0x29184c[_0x1b6808(0xc1)][_0x1b6808(0x767)]),_0x2c1fb5=this[_0x1b6808(0x3d2)][_0x1b6808(0x1f5)](_0x397aa3)??new Map();if(!_0x5c56c0&&(!_0x2c1fb5||_0x2c1fb5[_0x1b6808(0x77a)]<_0x38dd3f['length']))return;const _0x447971=this[_0x1b6808(0x85e)][_0x1b6808(0x1f5)](_0x397aa3);if(!_0x447971)throw new _0x279d71(_0x279d71[_0x1b6808(0x9c2)][_0x1b6808(0x7d3)]);if(clearTimeout(_0x447971['responseTimeout']),_0x301706[_0x1b6808(0x1d5)](_0x3e3f45[_0x1b6808(0x8a8)],_0x1b6808(0xbd)+_0x447971['id']+_0x1b6808(0x664),_0x2c1fb5,this[_0x1b6808(0x3d2)]),!_0x2c1fb5||0x0===_0x2c1fb5[_0x1b6808(0x77a)]){_0x447971[_0x1b6808(0x4b9)]=_0x29184c['JobStatus'][_0x1b6808(0x99e)],_0x447971[_0x1b6808(0x444)]=new Date(),_0x301706['error'](_0x1b6808(0xbd)+_0x447971['id']+_0x1b6808(0x7e1),{'nodeId':this[_0x1b6808(0x2e2)][_0x1b6808(0xa2a)](),'nodeType':this[_0x1b6808(0x2e2)][_0x1b6808(0x6e1)],'data':{'job':_0x447971,'responses':_0x2c1fb5}});const _0x431147=this['jobObservers'][_0x1b6808(0x1f5)](_0x397aa3);if(!_0x431147)throw new _0x279d71(_0x279d71[_0x1b6808(0x9c2)][_0x1b6808(0x9de)]);const _0x159b28=_0x1b6808(0x2d7),_0x23d1cb={'id':_0x447971['id'],'status':_0x447971['status'],'message':_0x159b28};return _0x431147[_0x1b6808(0x213)](_0x23d1cb),_0x431147['complete'](),this[_0x1b6808(0x85e)][_0x1b6808(0x2b3)](_0x447971['id'],_0x447971),void this[_0x1b6808(0x3d2)][_0x1b6808(0x991)](_0x397aa3);}const {nodeId:_0x853732,response:_0x48e4af}=this['evaluateBids'](_0x447971['id'],_0x2c1fb5);_0x447971[_0x1b6808(0x4b9)]=_0x29184c[_0x1b6808(0xd9)][_0x1b6808(0x24b)],_0x447971[_0x1b6808(0x444)]=new Date(),_0x301706[_0x1b6808(0x1d5)](_0x3e3f45[_0x1b6808(0x8a8)],'Job\x20'+_0x447971['id']+_0x1b6808(0x115)+_0x853732+_0x1b6808(0x65d),_0x48e4af);const _0x221c60={'id':_0x447971['id'],'jobType':_0x447971['jobType'],'jobPhase':_0x44ee1d[_0x1b6808(0x1f2)],'parameters':_0x447971['parameters']};this[_0x1b6808(0x55e)](_0x221c60,[_0x853732]),this[_0x1b6808(0x85e)][_0x1b6808(0x2b3)](_0x447971['id'],_0x447971),this[_0x1b6808(0x3d2)]['delete'](_0x397aa3);}['evaluateBids'](_0x53c457,_0x10efdf){const _0x40c1f9=_0x45ef94;let _0x547fde;const _0x3ad3a9=Array[_0x40c1f9(0x157)](_0x10efdf[_0x40c1f9(0x58b)]())[_0x40c1f9(0x533)](([,[_0x169573]])=>_0x169573['available']);if(_0x547fde=_0x3ad3a9['length']>0x0?Array[_0x40c1f9(0x157)](_0x10efdf[_0x40c1f9(0x58b)]())['sort']((_0x329842,_0x247196)=>_0x247196[0x1][0x0]['bid']-_0x329842[0x1][0x0][_0x40c1f9(0x2e5)]):Array[_0x40c1f9(0x157)](_0x10efdf[_0x40c1f9(0x58b)]())['sort']((_0x253a7d,_0x374ed4)=>_0x253a7d[0x1][0x0][_0x40c1f9(0x739)]-_0x374ed4[0x1][0x0][_0x40c1f9(0x739)]),0x1===_0x547fde[_0x40c1f9(0x453)])return{'nodeId':_0x547fde[0x0][0x0],'response':_0x547fde[0x0][0x1][0x0]};let _0x5e7415;if(_0x5e7415=_0x3ad3a9['length']>0x0?(_0xae0134=>{const _0x118515=_0x40c1f9,_0x3fc370=_0xae0134[0x0][0x1][0x0][_0x118515(0x2e5)];return _0xae0134[_0x118515(0x533)](([,[_0x3f7424]])=>_0x3f7424[_0x118515(0x2e5)]===_0x3fc370);})(_0x547fde):(_0x95e74=>{const _0x5c01ed=_0x40c1f9,_0x496363=_0x95e74[0x0][0x1][0x0][_0x5c01ed(0x739)];return _0x95e74['filter'](([,[_0x38f776]])=>_0x38f776['queueLength']===_0x496363);})(_0x547fde),0x1===_0x5e7415[_0x40c1f9(0x453)])return{'nodeId':_0x5e7415[0x0][0x0],'response':_0x5e7415[0x0][0x1][0x0]};const _0x432db4=this[_0x40c1f9(0x85e)]['get'](_0x53c457);if(!_0x432db4)throw new _0x279d71(_0x279d71[_0x40c1f9(0x9c2)][_0x40c1f9(0x7d3)]);const _0x309170=_0x432db4['created']['getTime'](),_0x5d1938=_0x5e7415[_0x40c1f9(0x1f8)](([_0x11eebe,[,_0x4b6fef]])=>({'nodeId':_0x11eebe,'rtt':_0x4b6fef-_0x309170})),_0x3f89b8=Math[_0x40c1f9(0xf6)](..._0x5d1938['map'](({rtt:_0x4ccd9e})=>_0x4ccd9e)),_0x7828fb=_0x5d1938[_0x40c1f9(0x786)](({rtt:_0x18e36b})=>_0x18e36b===_0x3f89b8),[,[_0x464007]]=_0x5e7415[_0x40c1f9(0x786)](([_0x462ea8])=>_0x462ea8===_0x7828fb[_0x40c1f9(0x436)]);return{'nodeId':_0x7828fb['nodeId'],'response':_0x464007};}[_0x45ef94(0x316)](_0x386750,_0x471fd2){const _0x571f37=_0x45ef94,_0x1f6f3c=this['jobs']['get'](_0x386750);if(!_0x1f6f3c)throw new _0x279d71(_0x279d71[_0x571f37(0x9c2)][_0x571f37(0x7d3)]);const _0xbb2ee8=this[_0x571f37(0x731)][_0x571f37(0x1f5)](_0x386750);if(!_0xbb2ee8)throw new _0x279d71(_0x279d71[_0x571f37(0x9c2)]['JobDispatcherObserverNotFound']);const _0x24d538={'id':_0x1f6f3c['id'],'status':_0x29184c[_0x571f37(0xd9)][_0x571f37(0x825)],'result':_0x471fd2[_0x571f37(0x632)]};_0xbb2ee8[_0x571f37(0x213)](_0x24d538);}[_0x45ef94(0x52f)](_0x13cb4c,_0x41065d){const _0x510e60=_0x45ef94,_0x27ed07=this[_0x510e60(0x85e)]['get'](_0x13cb4c);if(!_0x27ed07)throw new _0x279d71(_0x279d71[_0x510e60(0x9c2)][_0x510e60(0x7d3)]);const _0x439a3a=this['jobObservers'][_0x510e60(0x1f5)](_0x13cb4c);if(!_0x439a3a)throw new _0x279d71(_0x279d71[_0x510e60(0x9c2)]['JobDispatcherObserverNotFound']);_0x27ed07['status']=_0x29184c['JobStatus']['Completed'];const _0x46689a={'id':_0x27ed07['id'],'status':_0x27ed07[_0x510e60(0x4b9)],'result':_0x41065d[_0x510e60(0x632)]};_0x439a3a[_0x510e60(0x213)](_0x46689a),_0x439a3a[_0x510e60(0x45a)](),this[_0x510e60(0x731)][_0x510e60(0x991)](_0x13cb4c),this['logEvent'](_0x510e60(0xbd)+_0x13cb4c+_0x510e60(0xb9),{'jobId':_0x13cb4c});}[_0x45ef94(0x83e)](_0x26ef17,_0x51e8d0){const _0x2091b3=_0x45ef94,_0x5990a2=this['jobs'][_0x2091b3(0x1f5)](_0x26ef17);if(!_0x5990a2)throw new _0x279d71(_0x279d71['codes'][_0x2091b3(0x7d3)]);const _0x284e12=this[_0x2091b3(0x731)][_0x2091b3(0x1f5)](_0x26ef17);if(!_0x284e12)throw new _0x279d71(_0x279d71['codes'][_0x2091b3(0x9de)]);_0x5990a2[_0x2091b3(0x4b9)]=_0x29184c[_0x2091b3(0xd9)][_0x2091b3(0x99e)];const _0x1d52d1={'id':_0x5990a2['id'],'status':_0x5990a2[_0x2091b3(0x4b9)],'message':_0x51e8d0};_0x284e12[_0x2091b3(0x213)](_0x1d52d1),_0x284e12[_0x2091b3(0x45a)](),this[_0x2091b3(0x731)][_0x2091b3(0x991)](_0x26ef17),this['logEvent'](_0x2091b3(0xbd)+_0x26ef17+_0x2091b3(0x1c7),{'jobId':_0x26ef17});}[_0x45ef94(0x926)](_0x2f7a70,{jobId:_0x8c8fa5}){const _0x259b18=_0x45ef94,_0x315082={'jobId':_0x8c8fa5,'mistletIds':Array['from'](this[_0x259b18(0xa04)][_0x259b18(0x6c5)]()[_0x259b18(0x67a)]())[_0x259b18(0x533)](_0x1f9ad8=>_0x1f9ad8['type']===_0x29184c[_0x259b18(0xc1)][_0x259b18(0x767)])['map'](_0x44e3ac=>_0x44e3ac[_0x259b18(0xa2a)]())};_0x301706['logEvent'](_0x2f7a70,{'nodeId':this['getOwnerId'](),'nodeType':this[_0x259b18(0x2e2)][_0x259b18(0x6e1)],'data':_0x315082}),_0x301706['log'](_0x3e3f45[_0x259b18(0x8a8)],_0x2f7a70,_0x315082);}[_0x45ef94(0x75d)](_0x473f08){const _0x5a291b=_0x45ef94,{jobPhase:_0x4294ee,available:_0x286b56,bid:_0xb4f85a}=_0x473f08;return _0x4294ee===_0x44ee1d[_0x5a291b(0x418)]&&void 0x0!==_0x286b56&&void 0x0!==_0xb4f85a;}[_0x45ef94(0x8f1)](_0x51bc04){const _0x174151=_0x45ef94,{jobPhase:_0xde8020,result:_0x36b7ba}=_0x51bc04;return _0xde8020===_0x44ee1d[_0x174151(0x9bd)]&&void 0x0!==_0x36b7ba;}[_0x45ef94(0xa0a)](_0x205eff){const _0x4548d9=_0x45ef94,{jobPhase:_0x22d9c2,result:_0x37cc48}=_0x205eff;return _0x22d9c2===_0x44ee1d[_0x4548d9(0x749)]&&void 0x0!==_0x37cc48;}[_0x45ef94(0x93d)](_0x4836c){const _0x4f0f52=_0x45ef94,{jobPhase:_0x503fe1,message:_0x18a3e4}=_0x4836c;return _0x503fe1===_0x44ee1d[_0x4f0f52(0x99e)]&&void 0x0!==_0x18a3e4&&_0x4f0f52(0x829)==typeof _0x18a3e4;}}var _0x1eb646,_0x108ef7,_0x33a97f,_0x26e9fd,_0x1b074b;!function(_0x4a620e){const _0x3daefe=_0x45ef94;_0x4a620e['ObjectStorage']=_0x3daefe(0x392),_0x4a620e[_0x3daefe(0x524)]='external-storage';}(_0x1eb646||(_0x1eb646={})),function(_0x3cfb8d){const _0x5afe18=_0x45ef94;_0x3cfb8d[_0x5afe18(0x767)]='agent',_0x3cfb8d['AgentSkill']=_0x5afe18(0x3cf),_0x3cfb8d['Router']=_0x5afe18(0x51c),_0x3cfb8d['CustomSkill']=_0x5afe18(0x9e7),_0x3cfb8d['DataCollection']=_0x5afe18(0x87),_0x3cfb8d[_0x5afe18(0x744)]=_0x5afe18(0x95f),_0x3cfb8d['Prompt']=_0x5afe18(0x119),_0x3cfb8d[_0x5afe18(0x7db)]=_0x5afe18(0x33b),_0x3cfb8d['Code']='code',_0x3cfb8d[_0x5afe18(0x8d5)]=_0x5afe18(0x1b4),_0x3cfb8d['Search']=_0x5afe18(0x97e),_0x3cfb8d['AiSearch']=_0x5afe18(0x974),_0x3cfb8d[_0x5afe18(0x946)]=_0x5afe18(0x89e),_0x3cfb8d[_0x5afe18(0x47d)]=_0x5afe18(0x51f),_0x3cfb8d['QueryFile']='query-file',_0x3cfb8d[_0x5afe18(0x55c)]='write-file',_0x3cfb8d[_0x5afe18(0x3e4)]=_0x5afe18(0x3d8),_0x3cfb8d[_0x5afe18(0xa20)]=_0x5afe18(0x3f7),_0x3cfb8d[_0x5afe18(0x3d7)]=_0x5afe18(0x357),_0x3cfb8d['DocumentParser']='document-parser',_0x3cfb8d['InputAudioStream']=_0x5afe18(0x387),_0x3cfb8d[_0x5afe18(0x686)]=_0x5afe18(0x398),_0x3cfb8d[_0x5afe18(0x993)]=_0x5afe18(0x5a5);}(_0x108ef7||(_0x108ef7={})),function(_0x4d58dc){const _0x323a1f=_0x45ef94;_0x4d58dc[_0x323a1f(0x129)]=_0x323a1f(0x9cc),_0x4d58dc[_0x323a1f(0x64f)]=_0x323a1f(0x565),_0x4d58dc[_0x323a1f(0x72f)]=_0x323a1f(0x395),_0x4d58dc[_0x323a1f(0x3e4)]=_0x323a1f(0x3d8),_0x4d58dc[_0x323a1f(0x3d7)]=_0x323a1f(0x357),_0x4d58dc['SentenceSplitter']=_0x323a1f(0x3f7),_0x4d58dc[_0x323a1f(0x66f)]=_0x323a1f(0x3e5),_0x4d58dc[_0x323a1f(0x83a)]=_0x323a1f(0x39c),_0x4d58dc[_0x323a1f(0x8e)]=_0x323a1f(0x127),_0x4d58dc[_0x323a1f(0x789)]='model',_0x4d58dc[_0x323a1f(0x767)]=_0x323a1f(0x750),_0x4d58dc[_0x323a1f(0x895)]=_0x323a1f(0x392),_0x4d58dc['KeyValueDatabase']=_0x323a1f(0xa48),_0x4d58dc['VectorDatabase']=_0x323a1f(0x4af),_0x4d58dc[_0x323a1f(0x114)]=_0x323a1f(0x56b),_0x4d58dc[_0x323a1f(0x16a)]='prompt',_0x4d58dc['Context']='context',_0x4d58dc[_0x323a1f(0x6d5)]='upload',_0x4d58dc[_0x323a1f(0x7dd)]=_0x323a1f(0x685);}(_0x33a97f||(_0x33a97f={})),function(_0x1bab02){const _0x29ebd6=_0x45ef94;_0x1bab02[_0x29ebd6(0x8da)]=_0x29ebd6(0x9a7),_0x1bab02[_0x29ebd6(0x538)]='text',_0x1bab02['Image']=_0x29ebd6(0x2e6),_0x1bab02['Audio']=_0x29ebd6(0x8f6),_0x1bab02[_0x29ebd6(0x17a)]=_0x29ebd6(0x1a0),_0x1bab02['Vector']=_0x29ebd6(0x1fb),_0x1bab02[_0x29ebd6(0x5a8)]='entity',_0x1bab02['Relation']='relation',_0x1bab02[_0x29ebd6(0x81a)]=_0x29ebd6(0x97e),_0x1bab02[_0x29ebd6(0x6a0)]=_0x29ebd6(0x376),_0x1bab02['Tool']=_0x29ebd6(0x4d9),_0x1bab02[_0x29ebd6(0x83d)]=_0x29ebd6(0x86d),_0x1bab02[_0x29ebd6(0x50c)]='wait',_0x1bab02[_0x29ebd6(0x78c)]='wait-true',_0x1bab02['WaitFalse']='wait-false';}(_0x26e9fd||(_0x26e9fd={})),function(_0x57f44e){const _0x2ceaab=_0x45ef94;_0x57f44e[_0x2ceaab(0x1fc)]=_0x2ceaab(0x536),_0x57f44e[_0x2ceaab(0x3bd)]=_0x2ceaab(0x457),_0x57f44e[_0x2ceaab(0x826)]=_0x2ceaab(0xa13);}(_0x1b074b||(_0x1b074b={}));const _0x43dabe=[{'type':_0x108ef7[_0x45ef94(0x848)],'id':_0x45ef94(0x822),'name':'Conditional\x20Router','description':_0x45ef94(0x7a1),'modelId':'gpt-4o-mini','instructions':_0x45ef94(0x5ee),'grammar':_0x45ef94(0x52b),'temperature':0x0,'maxTokens':0x64}],_0xa5c684=[{'type':_0x108ef7['Agent'],'id':'blank-agent','name':_0x45ef94(0x41a),'description':'','modelId':_0x45ef94(0xa59),'instructions':'','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x108ef7[_0x45ef94(0x767)],'id':_0x45ef94(0x1e4),'name':_0x45ef94(0x1dc),'description':'A\x20versatile\x20AI\x20assistant\x20designed\x20to\x20handle\x20a\x20wide\x20range\x20of\x20tasks\x20and\x20inquiries.','modelId':'gpt-4o-mini','instructions':'Generic\x20AI\x20Agent\x20is\x20a\x20flexible\x20assistant\x20capable\x20of\x20responding\x20to\x20various\x20queries\x20and\x20tasks.\x0a-\x20It\x20provides\x20informative\x20and\x20concise\x20responses.\x0a-\x20It\x20adapts\x20its\x20tone\x20and\x20depth\x20based\x20on\x20the\x20context\x20of\x20the\x20conversation.\x0a-\x20It\x20ensures\x20clarity\x20and\x20coherence\x20in\x20all\x20interactions.\x0a-\x20It\x20structures\x20responses\x20using\x20Markdown\x20for\x20readability.\x0a-\x20It\x20avoids\x20making\x20assumptions\x20without\x20sufficient\x20context.\x0a-\x20It\x20can\x20summarize,\x20analyze,\x20and\x20generate\x20content\x20as\x20needed.\x0a-\x20It\x20always\x20prioritizes\x20user\x20intent\x20and\x20accuracy.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x108ef7['Agent'],'id':_0x45ef94(0x9f1),'name':_0x45ef94(0x6af),'description':_0x45ef94(0x53d),'modelId':_0x45ef94(0xa59),'instructions':'Search\x20Agent\x20specializes\x20in\x20retrieving\x20accurate\x20and\x20relevant\x20information\x20using\x20available\x20tools.\x0a-\x20It\x20determines\x20the\x20best\x20search\x20approach\x20based\x20on\x20the\x20user\x20query.\x0a-\x20It\x20uses\x20structured\x20queries\x20to\x20gather\x20precise\x20results.\x0a-\x20It\x20filters\x20out\x20irrelevant\x20or\x20outdated\x20information.\x0a-\x20It\x20summarizes\x20findings\x20clearly\x20and\x20concisely.\x0a-\x20It\x20provides\x20sources\x20or\x20references\x20when\x20applicable.\x0a-\x20It\x20ensures\x20responses\x20are\x20up-to-date\x20and\x20fact-based.\x0a-\x20It\x20structures\x20results\x20in\x20Markdown\x20format\x20for\x20readability.\x0a-\x20It\x20avoids\x20speculation\x20and\x20only\x20returns\x20verified\x20information.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x108ef7[_0x45ef94(0x767)],'id':_0x45ef94(0x38f),'name':_0x45ef94(0x89a),'description':_0x45ef94(0x933),'modelId':_0x45ef94(0xa59),'instructions':_0x45ef94(0x5d0),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x108ef7[_0x45ef94(0x767)],'id':_0x45ef94(0x642),'name':_0x45ef94(0x229),'description':'Adapts\x20content\x20based\x20on\x20user\x20learning\x20progress.','modelId':'gpt-4o-mini','instructions':'Learning\x20Agent\x20adapts\x20to\x20user\x20learning\x20levels,\x20pace,\x20and\x20preferred\x20format.\x0a-\x20Assesses\x20prior\x20knowledge\x20before\x20beginning\x20lessons.\x0a-\x20Customizes\x20learning\x20paths\x20and\x20adjusts\x20difficulty\x20based\x20on\x20performance.\x0a-\x20Provides\x20step-by-step\x20explanations\x20and\x20real-world\x20examples.\x0a-\x20Uses\x20spaced\x20repetition\x20techniques\x20for\x20reinforcement.\x0a-\x20Lessons\x20are\x20structured\x20with\x20Markdown\x20headers\x20and\x20inline\x20quizzes.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x108ef7[_0x45ef94(0x767)],'id':_0x45ef94(0x56a),'name':_0x45ef94(0x95b),'description':_0x45ef94(0x7e7),'modelId':'gpt-4o-mini','instructions':'Query\x20Generator\x20constructs\x20optimized\x20SQL\x20and\x20NoSQL\x20queries.\x0a-\x20Clarifies\x20database\x20type\x20(MySQL,\x20PostgreSQL,\x20MongoDB,\x20etc.)\x20before\x20generating\x20queries.\x0a-\x20Follows\x20best\x20practices\x20for\x20efficiency\x20and\x20readability.\x0a-\x20Explains\x20each\x20part\x20of\x20the\x20query\x20for\x20user\x20understanding.\x0a-\x20Checks\x20for\x20potential\x20performance\x20optimizations.\x0a-\x20Provides\x20queries\x20in\x20code\x20blocks\x20and\x20bullet-point\x20explanations.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x108ef7['Agent'],'id':_0x45ef94(0x31d),'name':_0x45ef94(0x30d),'description':_0x45ef94(0x894),'modelId':'gpt-4o-mini','instructions':_0x45ef94(0x4c3),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x108ef7['Agent'],'id':_0x45ef94(0xa38),'name':_0x45ef94(0x4dc),'description':_0x45ef94(0x1ed),'modelId':_0x45ef94(0xa59),'instructions':'Strategizing\x20Agent\x20helps\x20businesses\x20evaluate\x20strategies,\x20analyze\x20market\x20conditions,\x20and\x20optimize\x20decision-making.\x0a-\x20Identifies\x20the\x20business\x20goal\x20or\x20challenge\x20before\x20providing\x20recommendations.\x0a-\x20Provides\x20data-driven\x20insights\x20referencing\x20industry\x20benchmarks\x20and\x20trends.\x0a-\x20Uses\x20logical\x20frameworks\x20such\x20as\x20SWOT\x20Analysis,\x20Risk\x20Assessment,\x20and\x20Strategic\x20Roadmaps.\x0a-\x20Presents\x20recommendations\x20objectively,\x20listing\x20advantages\x20and\x20disadvantages.\x0a-\x20Uses\x20structured\x20formatting\x20with\x20bullet\x20points\x20and\x20comparison\x20tables.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x108ef7[_0x45ef94(0x767)],'id':_0x45ef94(0x3d5),'name':_0x45ef94(0x554),'description':_0x45ef94(0x7fa),'modelId':_0x45ef94(0xa59),'instructions':_0x45ef94(0x1c9),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x108ef7[_0x45ef94(0x767)],'id':'archival-search','name':'Archival\x20Search\x20Agent','description':_0x45ef94(0x9a9),'modelId':_0x45ef94(0xa59),'instructions':_0x45ef94(0x356),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x108ef7['Agent'],'id':_0x45ef94(0xd4),'name':_0x45ef94(0x415),'description':_0x45ef94(0x4ef),'modelId':_0x45ef94(0xa59),'instructions':_0x45ef94(0x85d),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x108ef7[_0x45ef94(0x767)],'id':_0x45ef94(0x91),'name':_0x45ef94(0x5cb),'description':_0x45ef94(0x5fd),'modelId':'gpt-4o-mini','instructions':_0x45ef94(0x38e),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':'coordinator-agent','name':_0x45ef94(0x1b5),'description':_0x45ef94(0x599),'modelId':_0x45ef94(0xa59),'instructions':_0x45ef94(0x184),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':'interview-agent','name':_0x45ef94(0x4a3),'description':_0x45ef94(0x6d7),'modelId':'gpt-4o-mini','instructions':_0x45ef94(0x4d1),'grammar':'','temperature':0.8,'maxTokens':0x3e8}];class _0x503584{static [_0x45ef94(0x155)];constructor(){}static['getInstance'](){const _0x58e1c6=_0x45ef94;return _0x503584[_0x58e1c6(0x155)]||(_0x503584[_0x58e1c6(0x155)]=new _0x503584()),_0x503584['instance'];}async[_0x45ef94(0x38b)](_0x5bfbcf,_0x2c98e0){const _0x319d81=_0x45ef94,_0x3d4786=await(0x0,_0x2a769c['getDoc'])((0x0,_0x2a769c['doc'])(_0x5e415d[_0x319d81(0x8f2)](),_0x319d81(0x676)+_0x5bfbcf+_0x319d81(0x368)+_0x2c98e0)),_0x33a77c=await this[_0x319d81(0x16b)](_0x5bfbcf),_0x18c9a4=await this[_0x319d81(0x309)](_0x5bfbcf),_0x405087=await this[_0x319d81(0x79c)](_0x5bfbcf);if(!_0x3d4786[_0x319d81(0xf1)]())throw new _0x279d71(_0x279d71[_0x319d81(0x9c2)][_0x319d81(0x60f)]);return this[_0x319d81(0x443)](_0x3d4786,_0x33a77c,_0x18c9a4,_0x405087);}async['getDataCollections'](_0x2189a4){const _0x57323d=_0x45ef94;return(await(0x0,_0x2a769c[_0x57323d(0x6f0)])((0x0,_0x2a769c[_0x57323d(0x8b7)])(_0x5e415d[_0x57323d(0x8f2)](),_0x57323d(0x676)+_0x2189a4+_0x57323d(0x27d))))['docs']['map'](_0x4efdca=>{const _0x35e9bb=_0x57323d,_0x5276a3=_0x4efdca[_0x35e9bb(0x1a0)]();return{'type':_0x108ef7[_0x35e9bb(0x934)],'id':_0x4efdca['id'],'name':_0x5276a3[_0x35e9bb(0x388)],'description':_0x5276a3['description'],'storageType':_0x5276a3[_0x35e9bb(0x836)]??_0x29184c[_0x35e9bb(0x5e1)][_0x35e9bb(0x76e)],'hosting':_0x5276a3[_0x35e9bb(0xa45)]??_0x1b074b['Dedicated'],'modelId':_0x5276a3[_0x35e9bb(0x3ef)]??_0x35e9bb(0x44b),'ingestBlocks':_0x5276a3[_0x35e9bb(0x50b)],'retrieveBlocks':_0x5276a3[_0x35e9bb(0x9d9)]};});}async[_0x45ef94(0x7e0)](_0x38a6f0,_0x153ece){const _0x57268e=_0x45ef94,_0x44c3f6=await(0x0,_0x2a769c['getDoc'])((0x0,_0x2a769c[_0x57268e(0x94)])(_0x5e415d[_0x57268e(0x8f2)](),_0x57268e(0x676)+_0x38a6f0+_0x57268e(0x458)+_0x153ece)),_0x430cb5=await this[_0x57268e(0x16b)](_0x38a6f0),_0x5bf78c=_0x44c3f6[_0x57268e(0x1a0)]();if(!_0x5bf78c)throw new _0x279d71(_0x279d71[_0x57268e(0x9c2)][_0x57268e(0x7a5)]);return{'type':_0x108ef7[_0x57268e(0x934)],'id':_0x153ece,'uid':_0x153ece,'name':_0x5bf78c[_0x57268e(0x388)],'description':_0x5bf78c[_0x57268e(0x6e3)],'storageType':_0x5bf78c['storageType']??_0x29184c['GenerativeAIRagType'][_0x57268e(0x76e)],'hosting':_0x5bf78c[_0x57268e(0xa45)]??_0x1b074b[_0x57268e(0x826)],'modelId':_0x5bf78c[_0x57268e(0x3ef)]??_0x57268e(0x44b),'ingestBlocks':this[_0x57268e(0x171)](_0x5bf78c[_0x57268e(0x50b)],_0x430cb5),'retrieveBlocks':this[_0x57268e(0x171)](_0x5bf78c[_0x57268e(0x9d9)],_0x430cb5),'links':[]};}[_0x45ef94(0x443)](_0x5baffb,_0x4bd11c,_0x3c86c9,_0x50d88d){const _0x486c0e=_0x45ef94,_0x559311=_0x5baffb[_0x486c0e(0x1a0)]();if(!_0x559311)throw new _0x279d71(_0x279d71[_0x486c0e(0x9c2)][_0x486c0e(0x60f)]);const _0x2441c4=this['parseWorkflowBlocks'](_0x559311[_0x486c0e(0x636)],_0x4bd11c,_0x3c86c9,_0x50d88d);return{'id':_0x5baffb['id'],'name':_0x559311['name'],'description':_0x559311[_0x486c0e(0x6e3)],'blocks':_0x2441c4,'dataBucketIds':this[_0x486c0e(0x9ba)](_0x2441c4),'externalStorageConnectionIds':this[_0x486c0e(0xaf)](_0x2441c4),'initialPrompt':_0x559311['initialPrompt']};}[_0x45ef94(0x9ba)](_0x249d63){const _0x54f98=_0x45ef94,_0x292290=new Set();for(const _0x14bb2c of _0x249d63)switch(_0x14bb2c[_0x54f98(0x6e1)]){case _0x108ef7[_0x54f98(0x744)]:case _0x108ef7[_0x54f98(0x934)]:for(const _0x5c0963 of[..._0x14bb2c[_0x54f98(0x50b)],..._0x14bb2c['retrieveBlocks']])_0x5c0963[_0x54f98(0x6e1)]===_0x33a97f[_0x54f98(0x129)]&&_0x292290[_0x54f98(0x9fb)](_0x5c0963['id']);}return Array[_0x54f98(0x157)](_0x292290);}[_0x45ef94(0xaf)](_0x5479b6){const _0x3d879d=_0x45ef94,_0x2740cf=new Set();for(const _0x16fce7 of _0x5479b6)switch(_0x16fce7[_0x3d879d(0x6e1)]){case _0x108ef7['Knowledge']:case _0x108ef7[_0x3d879d(0x934)]:for(const _0x20c879 of[..._0x16fce7[_0x3d879d(0x50b)],..._0x16fce7[_0x3d879d(0x9d9)]])_0x20c879[_0x3d879d(0x6e1)]===_0x33a97f[_0x3d879d(0x64f)]&&_0x2740cf[_0x3d879d(0x9fb)](_0x20c879['id']);}return Array[_0x3d879d(0x157)](_0x2740cf);}[_0x45ef94(0x37d)](_0x7c5612,_0x2621e5,_0x1385ef,_0x5497c5){return _0x7c5612['map'](_0x5b0a6b=>{const _0x557d13=a0_0x395e;switch(_0x5b0a6b['type']){case _0x108ef7[_0x557d13(0x767)]:case _0x108ef7[_0x557d13(0x3b0)]:case _0x108ef7[_0x557d13(0x848)]:const _0x5cd883=_0x2621e5[_0x557d13(0x786)](_0x126b1b=>_0x126b1b['id']===_0x5b0a6b['id']);if(!_0x5cd883)throw new _0x279d71(_0x279d71[_0x557d13(0x9c2)][_0x557d13(0x84a)],{'block':_0x5b0a6b});return{'type':_0x108ef7[_0x557d13(0x767)],'id':_0x5cd883['id'],'uid':_0x5b0a6b[_0x557d13(0x4c8)],'name':_0x5cd883[_0x557d13(0x388)],'description':_0x5cd883[_0x557d13(0x6e3)],'instructions':(_0x5cd883[_0x557d13(0x68e)]+'\x0a\x0a'+(_0x5b0a6b['agent']?.[_0x557d13(0xe0)]??''))[_0x557d13(0x6e8)](),'contextOutputVariable':_0x5b0a6b['agent']?.[_0x557d13(0x7ad)],'contextInputVariable':_0x5b0a6b[_0x557d13(0x750)]?.[_0x557d13(0x403)],'reasoning':_0x5b0a6b[_0x557d13(0x750)]?.[_0x557d13(0x4bb)]??!0x1,'grammar':_0x5b0a6b[_0x557d13(0x750)]?.[_0x557d13(0x963)]??_0x557d13(0x49d),'temperature':_0x5b0a6b['agent']?.[_0x557d13(0x400)]??0.5,'maxTokens':_0x5b0a6b[_0x557d13(0x750)]?.[_0x557d13(0xb5)]??0x1f4,'modelId':_0x5b0a6b[_0x557d13(0x750)]?.[_0x557d13(0x3ef)]??'gpt-4o-mini','links':_0x5b0a6b[_0x557d13(0x137)]};case _0x108ef7['Knowledge']:case _0x108ef7[_0x557d13(0x934)]:const _0x31f721=_0x5497c5[_0x557d13(0x786)](_0x3571b0=>_0x3571b0['id']===_0x5b0a6b['id']);if(!_0x31f721)throw new _0x279d71(_0x279d71['codes']['WorkflowInvalidBlockType'],{'block':_0x5b0a6b});return{'type':_0x5b0a6b[_0x557d13(0x6e1)],'id':_0x31f721['id'],'uid':_0x5b0a6b[_0x557d13(0x4c8)],'name':_0x31f721[_0x557d13(0x388)],'description':_0x31f721[_0x557d13(0x6e3)],'ingestBlocks':this[_0x557d13(0x171)](_0x31f721['ingestBlocks'],_0x2621e5),'retrieveBlocks':this['parseDataCollectionBlocks'](_0x31f721[_0x557d13(0x9d9)],_0x2621e5),'links':_0x5b0a6b[_0x557d13(0x137)]};case _0x108ef7['CustomSkill']:return{'type':_0x5b0a6b[_0x557d13(0x6e1)],'id':_0x5b0a6b['id'],'uid':_0x5b0a6b[_0x557d13(0x4c8)],'name':_0x5b0a6b[_0x557d13(0x4d9)][_0x557d13(0x388)],'description':_0x5b0a6b[_0x557d13(0x4d9)]['description'],'parameters':_0x5b0a6b[_0x557d13(0x4d9)][_0x557d13(0x1e3)],'endpointUrl':_0x5b0a6b[_0x557d13(0x4d9)]['endpointUrl'],'endpointMethod':_0x5b0a6b[_0x557d13(0x4d9)][_0x557d13(0x770)],'headers':_0x5b0a6b['tool'][_0x557d13(0x1d6)],'queryParameters':_0x5b0a6b[_0x557d13(0x4d9)]['queryParameters'],'bodyParameters':_0x5b0a6b['tool'][_0x557d13(0x748)],'contextOutputVariable':_0x5b0a6b[_0x557d13(0x4d9)]['contextOutputVariable'],'links':_0x5b0a6b[_0x557d13(0x137)]};case _0x108ef7['FormSkill']:return{'type':_0x5b0a6b[_0x557d13(0x6e1)],'id':_0x5b0a6b['id'],'uid':_0x5b0a6b[_0x557d13(0x4c8)],'name':_0x5b0a6b[_0x557d13(0x4d9)][_0x557d13(0x388)],'description':_0x5b0a6b[_0x557d13(0x4d9)][_0x557d13(0x6e3)],'questions':_0x5b0a6b[_0x557d13(0x4d9)][_0x557d13(0x866)][_0x557d13(0x1f8)](_0x665960=>({'id':_0x665960['id'],'question':_0x665960[_0x557d13(0x388)],'validation':_0x665960[_0x557d13(0x7b5)],'required':_0x557d13(0x195)===_0x665960[_0x557d13(0x681)],'format':_0x665960[_0x557d13(0x4a9)]})),'contextOutputVariable':_0x5b0a6b['tool'][_0x557d13(0x7ad)],'links':_0x5b0a6b[_0x557d13(0x137)]};case _0x108ef7[_0x557d13(0x8a7)]:return{'type':_0x5b0a6b[_0x557d13(0x6e1)],'id':_0x5b0a6b['id'],'uid':_0x5b0a6b[_0x557d13(0x4c8)],'modelId':_0x5b0a6b[_0x557d13(0x4d9)]['modelId']??'sonar','links':_0x5b0a6b[_0x557d13(0x137)]};case _0x108ef7['WorkflowTool']:const _0x3272bf=_0x1385ef['find'](_0x8650cd=>_0x8650cd['id']===_0x5b0a6b['id']);if(!_0x3272bf)throw new _0x279d71(_0x279d71[_0x557d13(0x9c2)][_0x557d13(0x84a)],{'block':_0x5b0a6b});return{'type':_0x5b0a6b[_0x557d13(0x6e1)],'id':_0x5b0a6b['id'],'uid':_0x5b0a6b['uid'],'name':_0x3272bf[_0x557d13(0x388)],'description':_0x3272bf['description'],'workflowId':_0x3272bf['id'],'async':_0x5b0a6b[_0x557d13(0x4d9)][_0x557d13(0x237)],'contextOutputVariable':_0x5b0a6b[_0x557d13(0x4d9)][_0x557d13(0x7ad)],'contextInputVariable':_0x5b0a6b['tool'][_0x557d13(0x403)],'links':_0x5b0a6b[_0x557d13(0x137)]};case _0x108ef7[_0x557d13(0x16a)]:case _0x108ef7[_0x557d13(0x245)]:case _0x108ef7[_0x557d13(0x7db)]:case _0x108ef7[_0x557d13(0x686)]:case _0x108ef7[_0x557d13(0x7a3)]:case _0x108ef7[_0x557d13(0x81a)]:case _0x108ef7[_0x557d13(0x946)]:case _0x108ef7['WebScraperRaw']:case _0x108ef7['QueryFile']:case _0x108ef7[_0x557d13(0x55c)]:case _0x108ef7[_0x557d13(0xa20)]:case _0x108ef7['DocumentParser']:return{'type':_0x5b0a6b['type'],'id':_0x5b0a6b['id'],'uid':_0x5b0a6b[_0x557d13(0x4c8)],'links':_0x5b0a6b['links']};case _0x108ef7['ChunkSplitter']:case _0x108ef7[_0x557d13(0x3d7)]:return{'type':_0x5b0a6b['type'],'id':_0x5b0a6b['id'],'uid':_0x5b0a6b[_0x557d13(0x4c8)],'links':_0x5b0a6b[_0x557d13(0x137)],'attributes':_0x5b0a6b['attributes']};default:throw new _0x279d71(_0x279d71[_0x557d13(0x9c2)][_0x557d13(0x84a)],{'block':_0x5b0a6b});}});}[_0x45ef94(0x171)](_0x2d5411,_0xdee1e0){const _0x2e3036=_0x45ef94;return _0x2d5411?_0x2d5411[_0x2e3036(0x1f8)](_0x23feef=>{const _0x136c57=_0x2e3036;switch(_0x23feef[_0x136c57(0x6e1)]){case _0x33a97f[_0x136c57(0x767)]:const _0x27f44c=_0xdee1e0['find'](_0x679a54=>_0x679a54['id']===_0x23feef['id']);if(!_0x27f44c)throw new _0x279d71(_0x279d71[_0x136c57(0x9c2)][_0x136c57(0x84a)],{'block':_0x23feef});return{'type':_0x23feef[_0x136c57(0x6e1)],'id':_0x23feef['id'],'uid':_0x23feef[_0x136c57(0x4c8)],'description':_0x27f44c[_0x136c57(0x6e3)],'instructions':(_0x27f44c[_0x136c57(0x68e)]+'\x0a\x0a'+(_0x23feef['agent']?.[_0x136c57(0xe0)]??''))[_0x136c57(0x6e8)](),'contextOutputVariable':_0x23feef[_0x136c57(0x750)]?.[_0x136c57(0x7ad)],'contextInputVariable':_0x23feef[_0x136c57(0x750)]?.['contextInputVariable'],'reasoning':_0x23feef[_0x136c57(0x750)]?.[_0x136c57(0x4bb)]??!0x1,'grammar':_0x23feef[_0x136c57(0x750)]?.[_0x136c57(0x963)]??_0x136c57(0x49d),'temperature':_0x23feef['agent']?.[_0x136c57(0x400)]??0.5,'maxTokens':_0x23feef[_0x136c57(0x750)]?.[_0x136c57(0xb5)]??0x1f4,'modelId':_0x23feef[_0x136c57(0x750)]?.[_0x136c57(0x3ef)]??_0x136c57(0xa59),'links':_0x23feef[_0x136c57(0x137)]};case _0x33a97f[_0x136c57(0x114)]:case _0x33a97f['VectorDatabase']:case _0x33a97f[_0x136c57(0x3d7)]:case _0x33a97f[_0x136c57(0x3e4)]:case _0x33a97f[_0x136c57(0x83a)]:case _0x33a97f['Reranker']:return{'type':_0x23feef[_0x136c57(0x6e1)],'id':_0x23feef['id'],'uid':_0x23feef[_0x136c57(0x4c8)],'links':_0x23feef[_0x136c57(0x137)],'attributes':_0x23feef[_0x136c57(0x9ed)]};case _0x33a97f['Model']:case _0x33a97f[_0x136c57(0x895)]:case _0x33a97f['KeyValueDatabase']:case _0x33a97f[_0x136c57(0x66f)]:case _0x33a97f[_0x136c57(0x72f)]:case _0x33a97f[_0x136c57(0xa20)]:case _0x33a97f[_0x136c57(0x129)]:case _0x33a97f[_0x136c57(0x64f)]:case _0x33a97f[_0x136c57(0x83d)]:case _0x33a97f[_0x136c57(0x16a)]:case _0x33a97f[_0x136c57(0x6d5)]:case _0x33a97f[_0x136c57(0x7dd)]:return{'type':_0x23feef[_0x136c57(0x6e1)],'id':_0x23feef['id'],'uid':_0x23feef[_0x136c57(0x4c8)],'links':_0x23feef[_0x136c57(0x137)]};default:throw new _0x279d71(_0x279d71['codes'][_0x136c57(0x84a)],{'block':_0x23feef});}}):[];}async[_0x45ef94(0x16b)](_0x17074b){const _0x4e88ed=_0x45ef94,_0x2e5df5=(await(0x0,_0x2a769c[_0x4e88ed(0x6f0)])((0x0,_0x2a769c[_0x4e88ed(0x8b7)])(_0x5e415d[_0x4e88ed(0x8f2)](),'/developers/'+_0x17074b+_0x4e88ed(0x5b7))))[_0x4e88ed(0x69c)]['map'](_0x571898=>{const _0xa618c7=_0x4e88ed,_0x4a73d0=_0x571898['data']();return{'type':_0x108ef7['Agent'],'id':_0x571898['id'],'name':_0x4a73d0[_0xa618c7(0x388)],'description':_0x4a73d0['description'],'instructions':_0x4a73d0[_0xa618c7(0x68e)]};});return _0x2e5df5[_0x4e88ed(0x59e)](..._0x43dabe),_0x2e5df5['push'](..._0xa5c684),_0x2e5df5;}async['getWorkflows'](_0x23e7fa){const _0x46df18=_0x45ef94;return(await(0x0,_0x2a769c[_0x46df18(0x6f0)])((0x0,_0x2a769c[_0x46df18(0x8b7)])(_0x5e415d[_0x46df18(0x8f2)](),_0x46df18(0x676)+_0x23e7fa+_0x46df18(0x996))))[_0x46df18(0x69c)][_0x46df18(0x1f8)](_0x1eef6c=>{const _0x48958d=_0x46df18,_0x426d57=_0x1eef6c['data']();return{'id':_0x1eef6c['id'],'name':_0x426d57[_0x48958d(0x388)],'description':_0x426d57['description']};});}}const _0x3e9180=_0x503584[_0x45ef94(0x714)]();class _0x2102f0 extends _0x880be4{[_0x45ef94(0x5e4)];[_0x45ef94(0x154)];['prompts']=0x0;[_0x45ef94(0x411)]=0x0;[_0x45ef94(0x706)];constructor(_0x151787,_0x2964a5,_0x27d5e,_0x323023){const _0x1c08f7=_0x45ef94;super(_0x151787,_0x2964a5,_0x323023),this[_0x1c08f7(0x5e4)]=_0x151787,this[_0x1c08f7(0x154)]=_0x27d5e,this[_0x1c08f7(0x707)]();}['destroy'](){const _0x85822e=_0x45ef94;this['debounceStats']&&(clearTimeout(this[_0x85822e(0x706)]),delete this[_0x85822e(0x706)]),super[_0x85822e(0x9d1)]();}[_0x45ef94(0x9a1)](){const _0x3aa175=_0x45ef94;this['prompts']=0x0,this[_0x3aa175(0x411)]=0x0,this['sendStats'](),super[_0x3aa175(0x9a1)]();}['createAIJob'](_0x2ebde2){const _0x5b5ad7=_0x45ef94,_0x3874c2=_0x5b5ad7(0x6e5)+(0x0,_0xa305bc['v4'])();switch(_0x2ebde2[_0x5b5ad7(0x6e1)]){case _0x5b5ad7(0x4d2):{let _0x25d9d3=!0x1;const _0x1b5957=()=>{const _0x14e395=_0x5b5ad7;if(_0x25d9d3)throw new _0x279d71(_0x279d71[_0x14e395(0x9c2)][_0x14e395(0x1d8)]);_0x25d9d3=!0x0;};return{'id':_0x3874c2,..._0x2ebde2,'run':()=>(_0x1b5957(),this[_0x5b5ad7(0x75f)](_0x3874c2,_0x2ebde2))};}case'collection-delete':{let _0x9f3261=!0x1;const _0x2d6317=()=>{const _0x13e815=_0x5b5ad7;if(_0x9f3261)throw new _0x279d71(_0x279d71[_0x13e815(0x9c2)]['GenerativeAIContextJobAlreadyConsumed']);_0x9f3261=!0x0;};return{'id':_0x3874c2,..._0x2ebde2,'run':()=>(_0x2d6317(),this[_0x5b5ad7(0x75f)](_0x3874c2,_0x2ebde2))};}case _0x5b5ad7(0x8d7):{let _0x4252f3=!0x1;const _0xf41a4c=()=>{const _0x125677=_0x5b5ad7;if(_0x4252f3)throw new _0x279d71(_0x279d71[_0x125677(0x9c2)][_0x125677(0x1d8)]);_0x4252f3=!0x0;};return{'id':_0x3874c2,..._0x2ebde2,'run':()=>(_0xf41a4c(),this[_0x5b5ad7(0x75f)](_0x3874c2,_0x2ebde2))};}case'file-delete':{let _0x509b29=!0x1;const _0x556b7a=()=>{const _0x1ff988=_0x5b5ad7;if(_0x509b29)throw new _0x279d71(_0x279d71[_0x1ff988(0x9c2)]['GenerativeAIContextJobAlreadyConsumed']);_0x509b29=!0x0;};return{'id':_0x3874c2,..._0x2ebde2,'run':()=>(_0x556b7a(),this['internalJob'](_0x3874c2,_0x2ebde2))};}case'file-download':{let _0x44e81e=!0x1;const _0x9737a1=()=>{const _0x3e81b1=_0x5b5ad7;if(_0x44e81e)throw new _0x279d71(_0x279d71[_0x3e81b1(0x9c2)][_0x3e81b1(0x1d8)]);_0x44e81e=!0x0;};return{'id':_0x3874c2,..._0x2ebde2,'run':()=>(_0x9737a1(),this['internalJob'](_0x3874c2,_0x2ebde2))};}case'file-ingest':{let _0x4d65ea=!0x1;const _0x20c530=()=>{const _0x5aaa64=_0x5b5ad7;if(_0x4d65ea)throw new _0x279d71(_0x279d71[_0x5aaa64(0x9c2)][_0x5aaa64(0x1d8)]);_0x4d65ea=!0x0;};return{'id':_0x3874c2,..._0x2ebde2,'run':()=>(_0x20c530(),this[_0x5b5ad7(0x75f)](_0x3874c2,_0x2ebde2))};}case _0x5b5ad7(0x737):{let _0x4de7d4=!0x1;const _0x187ccf=()=>{const _0x3b7711=_0x5b5ad7;if(_0x4de7d4)throw new _0x279d71(_0x279d71[_0x3b7711(0x9c2)][_0x3b7711(0x1d8)]);_0x4de7d4=!0x0;};return{'id':_0x3874c2,..._0x2ebde2,'run':()=>(_0x187ccf(),this[_0x5b5ad7(0x75f)](_0x3874c2,_0x2ebde2))};}case'rate':{let _0x2c45e3=!0x1;const _0x4baae6=()=>{const _0x387156=_0x5b5ad7;if(_0x2c45e3)throw new _0x279d71(_0x279d71[_0x387156(0x9c2)][_0x387156(0x1d8)]);_0x2c45e3=!0x0;};return{'id':_0x3874c2,..._0x2ebde2,'run':()=>(_0x4baae6(),this[_0x5b5ad7(0x75f)](_0x3874c2,_0x2ebde2))};}case'realtime-session-create':{let _0x27e22a=!0x1;const _0x3c5362=()=>{const _0x4cd334=_0x5b5ad7;if(_0x27e22a)throw new _0x279d71(_0x279d71[_0x4cd334(0x9c2)][_0x4cd334(0x1d8)]);_0x27e22a=!0x0;};return{'id':_0x3874c2,..._0x2ebde2,'run':()=>(_0x3c5362(),this[_0x5b5ad7(0x75f)](_0x3874c2,_0x2ebde2))};}case _0x5b5ad7(0x31f):{let _0x330f20=!0x1;const _0x41b57f=()=>{const _0x24febd=_0x5b5ad7;if(_0x330f20)throw new _0x279d71(_0x279d71[_0x24febd(0x9c2)][_0x24febd(0x1d8)]);_0x330f20=!0x0;};return{'id':_0x3874c2,..._0x2ebde2,'run':()=>(_0x41b57f(),this[_0x5b5ad7(0x75f)](_0x3874c2,_0x2ebde2))};}case _0x5b5ad7(0x685):{let _0x4e54a0=!0x1;const _0x28c42f=()=>{if(_0x4e54a0)throw new _0x279d71(_0x279d71['codes']['GenerativeAIContextJobAlreadyConsumed']);_0x4e54a0=!0x0;};return{'id':_0x3874c2,..._0x2ebde2,'run':()=>(_0x28c42f(),this[_0x5b5ad7(0x75f)](_0x3874c2,_0x2ebde2))};}case _0x5b5ad7(0x89f):case _0x5b5ad7(0x119):let _0x95cc54=!0x1;const _0x599360=()=>{const _0x1de82d=_0x5b5ad7;if(_0x95cc54)throw new _0x279d71(_0x279d71['codes'][_0x1de82d(0x1d8)]);_0x95cc54=!0x0;},_0x1dd75a=()=>(_0x599360(),this['run'](_0x3874c2,_0x2ebde2)),_0xcbdda9=()=>(_0x599360(),this[_0x5b5ad7(0x912)](_0x3874c2,_0x2ebde2));return{'id':_0x3874c2,'options':{'threadId':'thread-'+(0x0,_0xa305bc['v4'])()},..._0x2ebde2,'run':_0x1dd75a,'stream':_0xcbdda9};default:throw new Error(_0x5b5ad7(0x12f));}}async[_0x45ef94(0x75f)](_0x5a1298,_0xcfd17d){const _0x506f29=_0x45ef94;if(_0x506f29(0x89f)===_0xcfd17d[_0x506f29(0x6e1)]||_0x506f29(0x119)===_0xcfd17d[_0x506f29(0x6e1)])throw new _0x54ac69(_0x1dd92b[_0x506f29(0x374)],_0x506f29(0x12f));const _0x4c7aee={'threadId':_0x506f29(0x42c)+(0x0,_0xa305bc['v4'])(),..._0xcfd17d},_0x4a5625=await this[_0x506f29(0x615)](_0x5a1298,_0x29184c[_0x506f29(0x68a)]['Job'],_0x4c7aee);return new Promise((_0x1a00aa,_0x89bd94)=>{const _0x128d63=_0x506f29;let _0x1a9d7e;const _0x4f49b1=_0x4a5625[_0x128d63(0x79d)]({'next':_0x5eecb9=>{const _0x3aef28=_0x128d63;switch(_0x5eecb9[_0x3aef28(0x4b9)]){case _0x29184c[_0x3aef28(0xd9)][_0x3aef28(0x5bc)]:clearTimeout(_0x1a9d7e),_0x1a00aa(_0x5eecb9[_0x3aef28(0x632)]),_0x4f49b1[_0x3aef28(0x2b6)]();break;case _0x29184c[_0x3aef28(0xd9)][_0x3aef28(0x99e)]:clearTimeout(_0x1a9d7e),_0x89bd94(new _0x279d71(_0x279d71[_0x3aef28(0x9c2)][_0x3aef28(0x543)],{'updatedJob':_0x5eecb9})),_0x4f49b1[_0x3aef28(0x2b6)]();}},'error':_0x201cff=>{const _0x472e0a=_0x128d63;clearTimeout(_0x1a9d7e),_0x89bd94(new _0x279d71(_0x279d71['codes'][_0x472e0a(0x543)],{'err':_0x201cff})),_0x4f49b1[_0x472e0a(0x2b6)]();}});_0x1a9d7e=setTimeout(()=>{const _0x437da5=_0x128d63;_0x89bd94(new _0x279d71(_0x279d71['codes'][_0x437da5(0x702)])),_0x4f49b1['unsubscribe']();},_0x120934);});}async[_0x45ef94(0x3c3)](_0x11c2fb,_0x48c152){const _0x309994=_0x45ef94,_0x5de401=await this[_0x309994(0x615)](_0x11c2fb,_0x29184c['JobType']['Job'],_0x48c152);return new Promise((_0x2986a7,_0x41d0fb)=>{let _0x1bc4f0;const _0x315e74=_0x5de401['subscribe']({'next':_0x63ec56=>{const _0x1d7992=a0_0x395e;switch(_0x63ec56[_0x1d7992(0x4b9)]){case _0x29184c[_0x1d7992(0xd9)][_0x1d7992(0x5bc)]:if('prompt'!==_0x63ec56[_0x1d7992(0x632)][_0x1d7992(0x6e1)])return;const _0x14bd27=_0x63ec56[_0x1d7992(0x632)][_0x1d7992(0xa50)]??0x0;this[_0x1d7992(0x6d8)](_0x48c152['prompt'],_0x14bd27),clearTimeout(_0x1bc4f0),_0x2986a7(_0x63ec56[_0x1d7992(0x632)]),_0x315e74[_0x1d7992(0x2b6)](),this[_0x1d7992(0x242)]+=0x1,this[_0x1d7992(0x411)]+=_0x14bd27,this[_0x1d7992(0x707)]();break;case _0x29184c[_0x1d7992(0xd9)][_0x1d7992(0x99e)]:clearTimeout(_0x1bc4f0),_0x41d0fb(new _0x279d71(_0x279d71[_0x1d7992(0x9c2)][_0x1d7992(0x543)],{'updatedJob':_0x63ec56})),_0x315e74['unsubscribe'](),this['sendStats']();}},'error':_0x21bd0=>{const _0x576a5b=a0_0x395e;clearTimeout(_0x1bc4f0),_0x41d0fb(new _0x279d71(_0x279d71['codes']['GenerativeAIContextJobFailed'],{'err':_0x21bd0})),_0x315e74[_0x576a5b(0x2b6)]();}});_0x1bc4f0=setTimeout(()=>{const _0x184783=a0_0x395e;_0x41d0fb(new _0x279d71(_0x279d71[_0x184783(0x9c2)]['GenerativeAIContextJobTimeout'])),_0x315e74[_0x184783(0x2b6)]();},_0x120934);});}async*[_0x45ef94(0x912)](_0xf7fbcb,_0x299076){const _0x47d048=_0x45ef94,_0x472787=await this['getJobObservable'](_0xf7fbcb,_0x29184c['JobType']['JobStream'],_0x299076);let _0x27cc79,_0x453ef1,_0x9ce9b5=!0x1,_0x2be40c=0x0;const _0x2ab943=[],_0x4cf660=new Map();let _0xf33b73=null;const _0x70fd62=()=>{_0xf33b73&&(_0xf33b73(),_0xf33b73=null);},_0x357c94=_0x203a0b=>{_0x9ce9b5=!0x0,_0x70fd62(),_0xa32773['unsubscribe'](),_0x453ef1=_0x203a0b;},_0xa32773=_0x472787[_0x47d048(0x79d)]({'next':async _0x585673=>{const _0x4c82aa=_0x47d048;switch(_0x585673['status']){case _0x29184c[_0x4c82aa(0xd9)][_0x4c82aa(0x825)]:if(_0x4c82aa(0x119)!==_0x585673[_0x4c82aa(0x632)][_0x4c82aa(0x6e1)])return;if(void 0x0!==_0x585673[_0x4c82aa(0x632)]['output']){if(void 0x0===_0x585673['result'][_0x4c82aa(0x376)])return void _0x357c94(_0x279d71[_0x4c82aa(0x9c2)][_0x4c82aa(0x4d8)]);_0x2be40c===_0x585673[_0x4c82aa(0x632)]['index']?(_0x2ab943[_0x4c82aa(0x59e)](_0x585673[_0x4c82aa(0x632)]),_0x2be40c++,((()=>{const _0x295301=_0x4c82aa;for(;_0x4cf660[_0x295301(0x3bc)](_0x2be40c);)_0x2ab943[_0x295301(0x59e)](_0x4cf660[_0x295301(0x1f5)](_0x2ab943['length'])),_0x4cf660[_0x295301(0x991)](_0x2ab943[_0x295301(0x453)]),_0x2be40c++;})()),_0x70fd62(),_0x2b09fb()):_0x4cf660[_0x4c82aa(0x2b3)](_0x585673['result']['index'],_0x585673[_0x4c82aa(0x632)]);}break;case _0x29184c[_0x4c82aa(0xd9)][_0x4c82aa(0x5bc)]:if(_0x4c82aa(0x119)!==_0x585673[_0x4c82aa(0x632)][_0x4c82aa(0x6e1)])return;for(;_0x2be40c!==_0x585673[_0x4c82aa(0x632)][_0x4c82aa(0x376)];)await _0x4f43db[_0x4c82aa(0x7eb)](0x3e8);const _0x28b439=_0x585673['result'][_0x4c82aa(0xa50)]??0x0;this[_0x4c82aa(0x6d8)](_0x299076['prompt'],_0x28b439),clearTimeout(_0x27cc79),_0x357c94(),this['prompts']+=0x1,this[_0x4c82aa(0x411)]+=_0x28b439,this[_0x4c82aa(0x707)]();break;case _0x29184c[_0x4c82aa(0xd9)][_0x4c82aa(0x99e)]:clearTimeout(_0x27cc79),_0x357c94(_0x279d71[_0x4c82aa(0x9c2)][_0x4c82aa(0x543)]),this[_0x4c82aa(0x707)]();}},'error':_0x34a62a=>{const _0x3018bb=_0x47d048;clearTimeout(_0x27cc79),_0x357c94(_0x279d71[_0x3018bb(0x9c2)]['GenerativeAIContextJobFailed']);}}),_0x4d2b59=()=>{const _0x37e3c6=_0x47d048;_0x357c94(_0x279d71['codes'][_0x37e3c6(0x702)]);},_0x2b09fb=()=>{clearTimeout(_0x27cc79),_0x27cc79=setTimeout(_0x4d2b59,_0x120934);};for(_0x27cc79=setTimeout(_0x4d2b59,_0x120934);!_0x9ce9b5||_0x2ab943[_0x47d048(0x453)]>0x0;)_0x2ab943[_0x47d048(0x453)]>0x0?yield _0x2ab943[_0x47d048(0x5e9)]():await new Promise(_0x5f2845=>_0xf33b73=_0x5f2845);if(_0x453ef1)throw _0x301706['error'](_0x47d048(0x93e),{'nodeId':this[_0x47d048(0x5e4)][_0x47d048(0xa2a)](),'nodeType':this[_0x47d048(0x5e4)][_0x47d048(0x6e1)]}),new _0x279d71(_0x453ef1);}async[_0x45ef94(0xa01)](){const _0x226f63=_0x45ef94;return(await _0x3e9180['getWorkflow'](this[_0x226f63(0x154)],this[_0x226f63(0x8f4)]))['dataBucketIds'];}['logServiceEvent'](_0x20e2f5,_0x34bb18){const _0x303bd5=_0x45ef94,_0x1f9f93=this[_0x303bd5(0x8f4)],_0x4d5413=this[_0x303bd5(0x525)]();_0x301706[_0x303bd5(0x6d8)](_0x230988[_0x303bd5(0x8b4)],{'topic':_0x1f9f93,'prompt':_0x20e2f5,'type':'prompt','nodeId':_0x4d5413,'tokenCount':_0x34bb18});}async[_0x45ef94(0x615)](_0x44909a,_0x40d9fc,_0x345d6,_0x2f810b={}){const _0x32c6da=_0x45ef94;let _0x507872;switch(_0x345d6[_0x32c6da(0x6e1)]){case _0x32c6da(0x4d2):case _0x32c6da(0x54a):case _0x32c6da(0x8d7):case'embed':case _0x32c6da(0x63b):case _0x32c6da(0x4ce):case'file-ingest':case _0x32c6da(0x737):case _0x32c6da(0x89f):case'prompt':case _0x32c6da(0x81d):case _0x32c6da(0x4f0):case _0x32c6da(0x31f):_0x507872={'id':_0x44909a,'jobType':_0x40d9fc,'parameters':{..._0x2f810b,..._0x345d6},'status':_0x29184c['JobStatus'][_0x32c6da(0x560)]};break;default:throw new Error(_0x32c6da(0x12f));}return await this[_0x32c6da(0x481)](_0x507872);}[_0x45ef94(0x707)](){const _0x18dbc0=_0x45ef94;this[_0x18dbc0(0x706)]&&clearTimeout(this[_0x18dbc0(0x706)]),this[_0x18dbc0(0x706)]=setTimeout(async()=>{const _0x48a239=_0x18dbc0;delete this[_0x48a239(0x706)],this[_0x48a239(0x9da)][_0x48a239(0x379)]({'sourceId':_0x17190e,'messageType':_0x43910d[_0x48a239(0xc4)],'content':{'type':_0x292504[_0x48a239(0x59d)],'label':this[_0x48a239(0x8f4)],'stats':{'timestamp':Date['now'](),'storage':0x0,'messagesSent':this[_0x48a239(0x93c)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x48a239(0x9cf)],'bytesReceived':this[_0x48a239(0x7c3)],'writes':0x0,'reads':0x0,'prompts':this[_0x48a239(0x242)],'tokens':this[_0x48a239(0x411)]}}});},_0x4032ce);}}var _0x2b21b7,_0x38bcb9,_0x4b3539,_0x1b7d31,_0x4ee3af,_0x463099,_0x129d86,_0xbfc7fd,_0x6f355d,_0x13077b,_0x2542f3;!function(_0x432f7c){const _0xe9fab6=_0x45ef94;_0x432f7c['AITrace']='AITrace',_0x432f7c[_0xe9fab6(0x6d6)]=_0xe9fab6(0x6d6),_0x432f7c[_0xe9fab6(0x7cc)]='RetrieveTrace',_0x432f7c['WorkflowTrace']=_0xe9fab6(0x861);}(_0x2b21b7||(_0x2b21b7={})),function(_0x271385){const _0xbf289c=_0x45ef94;_0x271385[_0xbf289c(0x423)]=_0xbf289c(0x423),_0x271385[_0xbf289c(0x1c2)]='ModelVector',_0x271385[_0xbf289c(0x7b3)]=_0xbf289c(0x7b3),_0x271385[_0xbf289c(0x83a)]='EntityExtractor',_0x271385[_0xbf289c(0x496)]=_0xbf289c(0x496),_0x271385[_0xbf289c(0x8e)]=_0xbf289c(0x8e);}(_0x38bcb9||(_0x38bcb9={})),function(_0x2b5afd){const _0x583707=_0x45ef94;_0x2b5afd[_0x2b5afd[_0x583707(0x728)]=0x0]='Debug',_0x2b5afd[_0x2b5afd['Info']=0x5]=_0x583707(0x9e5),_0x2b5afd[_0x2b5afd['Warning']=0xa]=_0x583707(0x6d4),_0x2b5afd[_0x2b5afd[_0x583707(0x870)]=0xf]=_0x583707(0x870);}(_0x4b3539||(_0x4b3539={})),function(_0x5711cd){const _0x1e54a1=_0x45ef94;_0x5711cd[_0x1e54a1(0x13a)]=_0x1e54a1(0x13a),_0x5711cd[_0x1e54a1(0x149)]=_0x1e54a1(0x149),_0x5711cd[_0x1e54a1(0x744)]=_0x1e54a1(0x744),_0x5711cd[_0x1e54a1(0x885)]=_0x1e54a1(0x885),_0x5711cd['Workflow']=_0x1e54a1(0x66e),_0x5711cd['Job']=_0x1e54a1(0x7a2),_0x5711cd[_0x1e54a1(0x4cd)]=_0x1e54a1(0x4cd),_0x5711cd[_0x1e54a1(0x841)]=_0x1e54a1(0x841);}(_0x1b7d31||(_0x1b7d31={})),function(_0x26423d){const _0x4f5ebd=_0x45ef94;_0x26423d['Queued']=_0x4f5ebd(0x2e7),_0x26423d[_0x4f5ebd(0x5bc)]=_0x4f5ebd(0x5bc);}(_0x4ee3af||(_0x4ee3af={})),function(_0x32841b){const _0x22789b=_0x45ef94;_0x32841b['InitialPrompt']=_0x22789b(0x980),_0x32841b['IntermediateOutput']=_0x22789b(0x5c8),_0x32841b[_0x22789b(0x934)]=_0x22789b(0x934),_0x32841b['FinalOutput']=_0x22789b(0x512);}(_0x463099||(_0x463099={})),function(_0x5c5039){const _0x51c3df=_0x45ef94;_0x5c5039[_0x51c3df(0x3e4)]=_0x51c3df(0x3e4),_0x5c5039[_0x51c3df(0x72f)]='DocumentParser',_0x5c5039[_0x51c3df(0x83a)]=_0x51c3df(0x83a),_0x5c5039['GraphDatabase']=_0x51c3df(0x114),_0x5c5039[_0x51c3df(0x767)]=_0x51c3df(0x767),_0x5c5039['ModelText']=_0x51c3df(0x423),_0x5c5039[_0x51c3df(0x1c2)]='ModelVector',_0x5c5039['RelationExtractor']='RelationExtractor',_0x5c5039[_0x51c3df(0xa20)]='SentenceSplitter',_0x5c5039[_0x51c3df(0x851)]=_0x51c3df(0x851),_0x5c5039['WordSplitter']=_0x51c3df(0x3d7);}(_0x129d86||(_0x129d86={})),function(_0x40914e){const _0x138724=_0x45ef94;_0x40914e['GetContextQuery']='GetContextQuery',_0x40914e[_0x138724(0x33d)]=_0x138724(0x33d);}(_0xbfc7fd||(_0xbfc7fd={})),function(_0x246d0a){const _0x4fb23a=_0x45ef94;_0x246d0a[_0x4fb23a(0x8ca)]=_0x4fb23a(0x8ca),_0x246d0a[_0x4fb23a(0x779)]=_0x4fb23a(0x779),_0x246d0a[_0x4fb23a(0x35c)]=_0x4fb23a(0x35c),_0x246d0a[_0x4fb23a(0x22f)]='SearchPerplexity',_0x246d0a[_0x4fb23a(0x408)]='ExecuteAgent',_0x246d0a[_0x4fb23a(0x183)]='ExecuteCustomSkill',_0x246d0a[_0x4fb23a(0x98b)]='QueryFile',_0x246d0a[_0x4fb23a(0x55c)]=_0x4fb23a(0x55c),_0x246d0a[_0x4fb23a(0x53f)]='ExecuteWorkflow',_0x246d0a[_0x4fb23a(0x845)]=_0x4fb23a(0x845),_0x246d0a[_0x4fb23a(0x762)]=_0x4fb23a(0x762),_0x246d0a[_0x4fb23a(0x40d)]=_0x4fb23a(0x40d);}(_0x6f355d||(_0x6f355d={})),function(_0x5a7b29){const _0x45c8f7=_0x45ef94;_0x5a7b29[_0x45c8f7(0x6f1)]='LoadKnowledgeFunction',_0x5a7b29[_0x45c8f7(0xa55)]='LoadSkillFunction';}(_0x13077b||(_0x13077b={})),function(_0x4cc10c){const _0x23fcd7=_0x45ef94;_0x4cc10c[_0x23fcd7(0x528)]=_0x23fcd7(0x528);}(_0x2542f3||(_0x2542f3={}));class _0x2bc390{static [_0x45ef94(0x155)]=new _0x2bc390();['jobQueue']=[];[_0x45ef94(0x773)]=!0x1;constructor(){}static[_0x45ef94(0x714)](){const _0x4dc554=_0x45ef94;return _0x2bc390[_0x4dc554(0x155)];}get[_0x45ef94(0x453)](){const _0x48b0d9=_0x45ef94;return this[_0x48b0d9(0x3fc)][_0x48b0d9(0x453)];}[_0x45ef94(0xd0)](){const _0x5c9379=_0x45ef94;return!this[_0x5c9379(0x773)];}[_0x45ef94(0x1ac)](_0x29892a){const _0x2b076f=_0x45ef94;_0x29892a?this[_0x2b076f(0x3fc)]=this[_0x2b076f(0x3fc)][_0x2b076f(0x533)](_0x273150=>_0x273150[_0x2b076f(0xff)]!==_0x29892a):(this[_0x2b076f(0x3fc)]=[],this[_0x2b076f(0x773)]=!0x1);}[_0x45ef94(0x9fb)](_0x3fe1ec,_0x5df7ca){const _0x39243c=_0x45ef94;this[_0x39243c(0x3fc)]['push']({'callback':_0x5df7ca,'ownerId':_0x3fe1ec}),this[_0x39243c(0x83c)]();}async[_0x45ef94(0x83c)](){const _0x5d25bb=_0x45ef94;if(!this[_0x5d25bb(0x773)]){for(this[_0x5d25bb(0x773)]=!0x0;this[_0x5d25bb(0x3fc)][_0x5d25bb(0x453)]>0x0;){const _0x18ca26=this['jobQueue']['shift']();if(_0x18ca26)try{console[_0x5d25bb(0xa12)](_0x5d25bb(0x435)),await _0x18ca26['callback'](),console[_0x5d25bb(0xa12)]('JobQueueService:\x20Job\x20completed');}catch(_0x433844){console[_0x5d25bb(0x2a9)]('JobQueueService:\x20Error\x20running\x20job',_0x433844);}}this[_0x5d25bb(0x773)]=!0x1;}}}const _0x7d5314=_0x2bc390[_0x45ef94(0x714)]();class _0x18b6e4 extends _0x267a55{[_0x45ef94(0x241)];[_0x45ef94(0x807)];constructor(_0x116860,_0x3c3237,_0x139bae){const _0x1fb104=_0x45ef94;super(_0x116860,_0x3c3237),this[_0x1fb104(0x241)]=_0x139bae;}[_0x45ef94(0xf7)](){const _0x453ebc=_0x45ef94;return _0x29184c[_0x453ebc(0xd2)][_0x453ebc(0x7a2)];}[_0x45ef94(0x7ae)](){this['subscribeToJobs']();}['close'](){const _0x37340c=_0x45ef94;this[_0x37340c(0x9da)]?.[_0x37340c(0x379)]({'sourceId':_0x17190e,'messageType':_0x43910d[_0x37340c(0xc4)],'content':{'type':_0x292504[_0x37340c(0x8cb)],'label':this[_0x37340c(0x8f4)]}});}[_0x45ef94(0x9a1)](){const _0x421fee=_0x45ef94;this[_0x421fee(0x807)]?.(),delete this['unsubscribeListener'],this[_0x421fee(0x7ae)]();}[_0x45ef94(0x9d1)](){const _0x44eb79=_0x45ef94;_0x7d5314[_0x44eb79(0x1ac)](this[_0x44eb79(0x8f4)]),this['unsubscribeListener']?.(),delete this[_0x44eb79(0x807)],super[_0x44eb79(0x9d1)]();}[_0x45ef94(0xd0)](){const _0x4bba9d=_0x45ef94;return _0x7d5314[_0x4bba9d(0xd0)]();}[_0x45ef94(0x9fe)](){return 0x1;}[_0x45ef94(0x8c5)](_0x3cee9a,_0x19ed79,_0x525b3a){}[_0x45ef94(0x39b)](_0x413b52,_0x18b509){return _0x413b52;}async[_0x45ef94(0x4a0)](_0x33a947,_0x25d045){const _0x50036d=_0x45ef94;console[_0x50036d(0xa12)](_0x50036d(0x464));}async[_0x45ef94(0x639)](_0x581618,_0xf6575d){const _0x5263f8=_0x45ef94;console[_0x5263f8(0xa12)](_0x5263f8(0x464));}[_0x45ef94(0x879)](){const _0x34fd6e=_0x45ef94;this[_0x34fd6e(0x807)]||(this[_0x34fd6e(0x807)]=this[_0x34fd6e(0x278)](async(_0x32f226,_0x467f73)=>{const _0x6b3fb4=_0x34fd6e;if(_0x301706[_0x6b3fb4(0x1d5)](_0x3e3f45[_0x6b3fb4(0x8a8)],'JobWorker:\x20Received\x20job',_0x467f73),!(_0x467f73 instanceof File)){if(this[_0x6b3fb4(0x91f)](_0x467f73))_0x301706['log'](_0x3e3f45[_0x6b3fb4(0x8a8)],_0x6b3fb4(0x4cf),_0x467f73),this['isAvailable']()?this['sendBid'](_0x467f73['id'],_0x467f73[_0x6b3fb4(0x5e0)],_0x32f226):this[_0x6b3fb4(0x2b9)](_0x467f73['id'],_0x467f73[_0x6b3fb4(0x5e0)],_0x32f226);else{if(this[_0x6b3fb4(0x97)](_0x467f73)){_0x301706[_0x6b3fb4(0x1d5)](_0x3e3f45[_0x6b3fb4(0x8a8)],_0x6b3fb4(0x5aa),_0x467f73);const {id:_0x27b293,parameters:_0x164e51}=_0x467f73;await this[_0x6b3fb4(0x4a0)](_0x27b293,_0x164e51),this[_0x6b3fb4(0x6e7)](_0x467f73['id'],_0x467f73,_0x32f226);}}}}));}[_0x45ef94(0x8d1)](_0x145bc8,_0x40d049,_0x381470){const _0x37311b=_0x45ef94,_0x315a28={'id':_0x145bc8,'jobType':_0x40d049,'jobPhase':_0x44ee1d[_0x37311b(0x418)],'available':!0x0,'queueLength':_0x7d5314[_0x37311b(0x453)],'bid':this['getBid']()};_0x301706[_0x37311b(0x1d5)](_0x3e3f45[_0x37311b(0x8a8)],_0x37311b(0x264),_0x315a28),this[_0x37311b(0x55e)](_0x315a28,[_0x381470]);}[_0x45ef94(0x2b9)](_0x2fc970,_0xdcbf78,_0x27484b){const _0x40993e=_0x45ef94,_0x437575={'id':_0x2fc970,'jobType':_0xdcbf78,'jobPhase':_0x44ee1d[_0x40993e(0x418)],'available':!0x1,'queueLength':_0x7d5314[_0x40993e(0x453)],'bid':0x0};_0x301706[_0x40993e(0x1d5)](_0x3e3f45[_0x40993e(0x8a8)],_0x40993e(0x136),_0x437575),this[_0x40993e(0x55e)](_0x437575,[_0x27484b]);}async[_0x45ef94(0x6e7)](_0x482c47,_0x1977cc,_0x5ef85e){const _0x1bb53e=_0x45ef94;_0x301706['log'](_0x3e3f45[_0x1bb53e(0x8a8)],_0x1bb53e(0x69f),_0x1977cc);const _0x169d05={'id':_0x482c47,'jobType':_0x1977cc[_0x1bb53e(0x5e0)],'parameters':_0x1977cc['parameters']};try{switch(_0x1977cc[_0x1bb53e(0x5e0)]){case _0x29184c[_0x1bb53e(0x68a)][_0x1bb53e(0x7a2)]:await this[_0x1bb53e(0x7da)](_0x482c47,_0x1977cc,_0x169d05,_0x5ef85e);break;case _0x29184c['JobType'][_0x1bb53e(0x6fa)]:await this[_0x1bb53e(0x446)](_0x482c47,_0x1977cc,_0x169d05,_0x5ef85e);break;default:throw new Error(_0x1bb53e(0x404));}}catch(_0x23ef99){_0x301706[_0x1bb53e(0x2a9)](_0x1bb53e(0x8a0),{'nodeId':this[_0x1bb53e(0x2e2)][_0x1bb53e(0xa2a)](),'nodeType':this[_0x1bb53e(0x2e2)]['type'],'data':{'job':_0x169d05}},_0x23ef99);const _0x1fd60d=_0x23ef99 instanceof Error?_0x23ef99[_0x1bb53e(0x7c2)]:_0x1bb53e(0xa3e),_0x3dfa2b={'id':_0x482c47,'jobType':_0x1977cc[_0x1bb53e(0x5e0)],'jobPhase':_0x44ee1d[_0x1bb53e(0x99e)],'message':_0x1fd60d};await this[_0x1bb53e(0x55e)](_0x3dfa2b,[_0x5ef85e]);}}async[_0x45ef94(0x7da)](_0x548d07,_0x5c8c1e,_0x571dfe,_0x1b704b){const _0x394e1b=_0x45ef94,_0x474743=Date[_0x394e1b(0x69)](),_0x47f4c4=await this[_0x394e1b(0x8bb)](_0x548d07,_0x571dfe[_0x394e1b(0x1e3)]);this['compileStats'](_0x47f4c4,_0x474743,Date['now']());const _0x3fd48e={'id':_0x548d07,'jobType':_0x5c8c1e['jobType'],'jobPhase':_0x44ee1d[_0x394e1b(0x749)],'result':_0x47f4c4};_0x301706['log'](_0x3e3f45[_0x394e1b(0x8a8)],'JobWorker:\x20Sending\x20job\x20result',_0x3fd48e),await this[_0x394e1b(0x55e)](_0x3fd48e,[_0x1b704b]),await this[_0x394e1b(0x639)](_0x548d07,_0x571dfe['parameters']);}async[_0x45ef94(0x446)](_0x4b0425,_0x4cf467,_0x168bfa,_0x5337b2){const _0x30db87=_0x45ef94,_0x2ce3a3=Date[_0x30db87(0x69)]();let _0x31663b=0x0,_0xfaca1={};for await(const _0x40d23f of this[_0x30db87(0x1bc)](_0x168bfa['id'],_0x168bfa[_0x30db87(0x1e3)])){const _0x4d409d={'id':_0x4b0425,'jobType':_0x4cf467[_0x30db87(0x5e0)],'jobPhase':_0x44ee1d[_0x30db87(0x9bd)],'result':{..._0x40d23f,'index':_0x31663b}};_0x301706['log'](_0x3e3f45[_0x30db87(0x8a8)],_0x30db87(0x181),_0x4d409d),this[_0x30db87(0x55e)](_0x4d409d,[_0x5337b2]),_0xfaca1=this['accumulateResult'](_0xfaca1,_0x40d23f),_0x31663b++;}this[_0x30db87(0x8c5)](_0xfaca1,_0x2ce3a3,Date[_0x30db87(0x69)]());const _0x28a866={'id':_0x4b0425,'jobType':_0x4cf467['jobType'],'jobPhase':_0x44ee1d[_0x30db87(0x749)],'result':{..._0xfaca1,'index':_0x31663b}};_0x301706[_0x30db87(0x1d5)](_0x3e3f45[_0x30db87(0x8a8)],_0x30db87(0x849),_0x28a866),await this[_0x30db87(0x55e)](_0x28a866,[_0x5337b2]),await this[_0x30db87(0x639)](_0x4b0425,_0x168bfa[_0x30db87(0x1e3)]);}['isJobRequest'](_0x4b3aa5){const _0x23bcf0=_0x45ef94;return _0x4b3aa5[_0x23bcf0(0x17b)]===_0x44ee1d[_0x23bcf0(0x26d)];}[_0x45ef94(0x97)](_0x2a100a){const _0x18a28c=_0x45ef94;return _0x2a100a[_0x18a28c(0x17b)]===_0x44ee1d['Attribution'];}}const _0x1d30a1=require('rxjs/operators');class _0x7be525{[_0x45ef94(0x78)];constructor(){const _0x2bbd12=_0x45ef94;this[_0x2bbd12(0x78)]=new _0x1e2755[(_0x2bbd12(0x633))]();}[_0x45ef94(0x948)](_0x2caa7b){const _0x4be569=_0x45ef94;this[_0x4be569(0x78)][_0x4be569(0x213)](_0x2caa7b);}async['once'](){const _0x19bb6d=_0x45ef94;return(0x0,_0x1e2755[_0x19bb6d(0x1a4)])(this[_0x19bb6d(0x78)]['pipe']((0x0,_0x1d30a1[_0x19bb6d(0x781)])(0x1)));}}function _0x11b25e(_0x1b52da){const _0x2b5379=_0x45ef94;try{return JSON['stringify'](_0x1b52da);}catch(_0x1002b4){return _0x1b52da instanceof Error?_0x1b52da[_0x2b5379(0x70f)]():JSON['stringify']('Error\x20stringifying\x20object');}}class _0x361de4{static [_0x45ef94(0x155)];['logLevel']=_0x4b3539[_0x45ef94(0x870)];['commitLevel']=_0x4b3539['Info'];['commitType']=_0x1b7d31['Retrieve'];['openedTraces']={};static [_0x45ef94(0x714)]=()=>(_0x361de4[_0x45ef94(0x155)]||(_0x361de4['instance']=new _0x361de4()),_0x361de4[_0x45ef94(0x155)]);async[_0x45ef94(0x7b0)](_0x477fad,_0x215c7f,_0x20f4b3,_0x4deccf){const _0x3d8873=_0x45ef94;try{if(this[_0x3d8873(0x16e)][_0x215c7f])throw new Error(_0x3d8873(0x10f));const _0x29f2ee={'vendorId':_0x477fad,'workflowId':_0x20f4b3,'sequence':0x0};return this[_0x3d8873(0x16e)][_0x215c7f]=_0x29f2ee,!_0x4deccf||!_0x20f4b3||(await(0x0,_0x2a769c[_0x3d8873(0x4da)])((0x0,_0x2a769c[_0x3d8873(0x94)])(_0x5e415d[_0x3d8873(0x8f2)](),_0x3d8873(0x61e)+_0x477fad+_0x3d8873(0x2d4)+_0x20f4b3+'/jobs',_0x215c7f),{'threadId':_0x4deccf,'startTime':(0x0,_0x2a769c[_0x3d8873(0x5c0)])()}),!0x0);}catch(_0x51dd42){return console[_0x3d8873(0x2a9)](_0x3d8873(0x8e3),_0x51dd42),!0x1;}}async[_0x45ef94(0x49a)](_0x202fc0){const _0x54354f=_0x45ef94;try{const _0x52f51d=this[_0x54354f(0x16e)][_0x202fc0[_0x54354f(0x328)]];if(!_0x52f51d)throw new Error(_0x54354f(0x745));_0x202fc0['sequence']=_0x52f51d[_0x54354f(0x674)]++,_0x202fc0['traceLevel']>=this[_0x54354f(0x3af)]&&console['log'](JSON[_0x54354f(0xa51)](_0x202fc0,null,0x2)),await this[_0x54354f(0x549)](_0x202fc0);}catch(_0x4e3277){console[_0x54354f(0x2a9)]('GenerativeAITracing\x20-\x20Error\x20while\x20tracing',_0x4e3277);}}async[_0x45ef94(0x61d)](_0x53ed64,_0x19d601){const _0xfa5510=_0x45ef94;if(!_0x361de4['instance'])throw new Error(_0xfa5510(0x5dd));if(!this['openedTraces'][_0x53ed64])throw new Error(_0xfa5510(0x988));if(_0x19d601&&this[_0xfa5510(0x16e)][_0x53ed64][_0xfa5510(0x927)])try{await(0x0,_0x2a769c[_0xfa5510(0x4da)])((0x0,_0x2a769c[_0xfa5510(0x94)])(_0x5e415d[_0xfa5510(0x8f2)](),'developers/'+this[_0xfa5510(0x16e)][_0x53ed64]['vendorId']+_0xfa5510(0x2d4)+this['openedTraces'][_0x53ed64][_0xfa5510(0x927)]+'/jobs',_0x53ed64),{'endTime':(0x0,_0x2a769c['serverTimestamp'])()},{'merge':!0x0}),delete this[_0xfa5510(0x16e)][_0x53ed64];}catch(_0x5d5ba1){console[_0xfa5510(0x2a9)](_0xfa5510(0x4f3),_0x5d5ba1);}else delete this[_0xfa5510(0x16e)][_0x53ed64];}async[_0x45ef94(0x549)](_0x55a780){const _0x39d7eb=_0x45ef94;if(_0x55a780['traceLevel']<this[_0x39d7eb(0x5d6)]&&_0x55a780['jobType']!==this[_0x39d7eb(0x74a)])return;if(!this[_0x39d7eb(0x16e)][_0x55a780['jobId']])throw new Error(_0x39d7eb(0xec));const _0xa11223=this[_0x39d7eb(0x16e)][_0x55a780[_0x39d7eb(0x328)]];try{const _0x2ab46a=function(_0x23a917){const _0xfc939=_0x39d7eb,_0x18a830=[_0xfc939(0x421),_0xfc939(0x645),_0xfc939(0x5e0),_0xfc939(0x6e1),_0xfc939(0x328),_0xfc939(0xdb),_0xfc939(0x9b),_0xfc939(0x4b9),_0xfc939(0x674),_0xfc939(0xa34)],_0x5e6907={..._0x23a917};for(const _0x3f253c of _0x18a830)delete _0x5e6907[_0x3f253c];return{'timestamp':_0x23a917['timestamp'],'jobType':_0x23a917[_0xfc939(0x5e0)],'type':_0x23a917[_0xfc939(0x6e1)],'jobId':_0x23a917[_0xfc939(0x328)],'agentId':_0x23a917[_0xfc939(0x4c0)]??'','traceLevel':_0x23a917[_0xfc939(0xdb)],'blockId':_0x23a917[_0xfc939(0x9b)]??'','startTime':_0x23a917[_0xfc939(0x421)],'status':_0x23a917[_0xfc939(0x4b9)],'sequence':_0x23a917[_0xfc939(0x674)]??0x0,'errorDetails':_0x23a917['errorDetails']??'','metadata':_0x11b25e(_0x5e6907)};}(_0x55a780),_0x4e8b33=(0x0,_0xa305bc['v4'])();console['log']('Logging\x20trace',_0x2ab46a[_0x39d7eb(0x6e1)]),await(0x0,_0x2a769c[_0x39d7eb(0x4da)])((0x0,_0x2a769c[_0x39d7eb(0x94)])(_0x5e415d[_0x39d7eb(0x8f2)](),_0x39d7eb(0x61e)+_0xa11223[_0x39d7eb(0x154)]+'/workflows/'+_0xa11223['workflowId']+_0x39d7eb(0x7f7)+_0x55a780['jobId']+'/traces',_0x4e8b33),_0x2ab46a),_0x55a780[_0x39d7eb(0x6e1)]===_0x2542f3[_0x39d7eb(0x528)]&&await(0x0,_0x2a769c[_0x39d7eb(0x4da)])((0x0,_0x2a769c[_0x39d7eb(0x94)])(_0x5e415d[_0x39d7eb(0x8f2)](),_0x39d7eb(0x61e)+_0xa11223['vendorId']+_0x39d7eb(0x2d4)+_0xa11223[_0x39d7eb(0x927)]+_0x39d7eb(0x712),_0x55a780[_0x39d7eb(0x328)]),{'rating':_0x55a780[_0x39d7eb(0x86b)]},{'merge':!0x0});}catch(_0x21b1a7){console[_0x39d7eb(0x2a9)](_0x39d7eb(0x684),_0x21b1a7);}}}const _0x3396a6=_0x361de4[_0x45ef94(0x714)]();async function _0x386571(_0x4ad814,_0x5bd971,_0x1c8d83,_0x3ad9e9,_0x1cad0f,_0x2c882f,_0x24c4d9,_0x23545d){const _0x23a949=function(_0x4842b0,_0x16ca58){const _0x391667=a0_0x395e,_0x58baff=[];for(let _0x38ce27=0x0;_0x38ce27<_0x4842b0['length'];_0x38ce27+=_0x16ca58[_0x391667(0x9ed)][_0x391667(0x77a)]){let _0x4afcab=_0x38ce27-_0x16ca58['attributes']['overlap'];_0x4afcab<0x0&&(_0x4afcab=0x0);let _0x30a698=_0x38ce27+_0x16ca58[_0x391667(0x9ed)][_0x391667(0x77a)]+_0x16ca58[_0x391667(0x9ed)][_0x391667(0x2e0)];_0x30a698>_0x4842b0[_0x391667(0x453)]&&(_0x30a698=_0x4842b0['length']),length||(length=_0x38ce27+_0x16ca58[_0x391667(0x9ed)]['size'],length>_0x4842b0[_0x391667(0x453)]&&(length=_0x4842b0['length'])),_0x58baff[_0x391667(0x59e)](_0x4842b0['substring'](_0x4afcab,_0x30a698));}return _0x58baff;}(_0x5bd971,_0x1cad0f);await _0x502388(_0x4ad814,_0x23a949,_0x1c8d83,_0x3ad9e9,_0x1cad0f,_0x2c882f,_0x24c4d9,_0x23545d);}async function _0x4e1f82(_0x3a05b5,_0x2471d5,_0x3b94b5,_0x57c5b9,_0x53e15c,_0x378490,_0x2dbabb,_0x447860){const _0x517418=_0x45ef94;if(_0x53e15c['accumulated']||(_0x53e15c[_0x517418(0x252)]={}),_0x53e15c[_0x517418(0x252)][_0x517418(0x8b6)]||(_0x53e15c['accumulated'][_0x517418(0x8b6)]=[]),_0x2471d5 instanceof Array?_0x53e15c['accumulated'][_0x517418(0x8b6)][_0x517418(0x59e)](..._0x2471d5):_0x53e15c[_0x517418(0x252)]['queries'][_0x517418(0x59e)](_0x2471d5),_0x53e15c[_0x517418(0x234)]=_0x53e15c[_0x517418(0x234)]?_0x53e15c[_0x517418(0x234)]+0x1:0x1,_0x51a0c0(_0x53e15c,_0x378490)>_0x53e15c[_0x517418(0x234)])return;if(0x0===_0x53e15c[_0x517418(0x252)][_0x517418(0x8b6)][_0x517418(0x453)])throw new Error(_0x517418(0x263));let _0x87604b=[];const _0x9fd6bb=Date['now']();try{let _0x5c1e78=0x0,_0x2113c9=0x0;for(const _0xf2cc9c of _0x53e15c[_0x517418(0x252)][_0x517418(0x8b6)]){const _0x4d0daf=await fetch(_0x25dcd9['apiUrl']+_0x517418(0x38c)+_0x53e15c['id']+_0x517418(0x8e2),{'method':_0x517418(0x57c),'headers':{'Content-Type':_0x517418(0x2e4),'x-vendor-id':_0x3b94b5['vendorId']},'body':JSON[_0x517418(0xa51)]({'query':_0xf2cc9c})}),_0x11d770=((await _0x4d0daf[_0x517418(0x5af)]())[_0x517418(0x1a0)]??[])[_0x517418(0x1f8)](_0x1d2370=>({'pathName':_0x1d2370['filename'],'relevance':_0x1d2370[_0x517418(0x479)],'content':_0x1d2370[_0x517418(0x2ec)][_0x517418(0x1b7)]}));_0x87604b=Array['from'](new Set([..._0x87604b,..._0x11d770])),_0x5c1e78+=_0x11d770['inputTokens']??0x0,_0x2113c9+=_0x11d770[_0x517418(0x15d)]??0x0;}_0x57c5b9[_0x517418(0xa50)]+=_0x5c1e78,_0x57c5b9[_0x517418(0x15d)]+=_0x2113c9,_0x57c5b9['context']=Array[_0x517418(0x157)](new Set([..._0x57c5b9['context'],..._0x87604b])),await _0x3396a6[_0x517418(0x49a)]({'jobType':_0x1b7d31[_0x517418(0x66e)],'type':_0x463099['DataCollection'],'jobId':_0x3a05b5,'threadId':_0x3b94b5['threadId'],'traceLevel':_0x4b3539[_0x517418(0x9e5)],'startTime':_0x9fd6bb,'timestamp':Date['now'](),'blockId':_0x53e15c['id'],'status':_0x517418(0x6e2),'queries':_0x53e15c[_0x517418(0x252)][_0x517418(0x8b6)],'context':_0x87604b,'inputTokens':_0x5c1e78,'outputTokens':_0x2113c9});}catch(_0x4c09d4){console[_0x517418(0x2a9)](_0x4c09d4),await _0x3396a6['trace']({'jobType':_0x1b7d31[_0x517418(0x66e)],'type':_0x463099[_0x517418(0x934)],'jobId':_0x3a05b5,'threadId':_0x3b94b5[_0x517418(0x518)],'traceLevel':_0x4b3539[_0x517418(0x9e5)],'startTime':_0x9fd6bb,'timestamp':Date[_0x517418(0x69)](),'blockId':_0x53e15c['id'],'status':'error','queries':_0x53e15c['accumulated'][_0x517418(0x8b6)],'context':[],'inputTokens':0x0,'outputTokens':0x0});}await _0x502388(_0x3a05b5,'',_0x3b94b5,_0x57c5b9,_0x53e15c,_0x378490,_0x2dbabb,_0x447860);}async function _0x2297cd(_0x4877ba,_0x1424d4,_0x4155cd,_0x5340fd,_0x45d71f,_0x2c5b78,_0x2c4c22,_0x349195){const _0xab382=_0x45ef94,_0x4151b8=await _0x2c4c22['nlpLibraryConnector'][_0xab382(0x307)](_0x1424d4);await _0x502388(_0x4877ba,_0x4151b8,_0x4155cd,_0x5340fd,_0x45d71f,_0x2c5b78,_0x2c4c22,_0x349195);}async function _0x5043b6(_0x56552f,_0x10da49,_0x34ffa,_0x11ef38,_0x21078c,_0x4f413d,_0x47aea6,_0xa517f8){const _0x55a85f=function(_0xe8ba2b,_0x3ba702){const _0x9209f=a0_0x395e,_0x48266b=[],_0x1de22e=_0xe8ba2b[_0x9209f(0x25b)]('\x20');let _0x2bad26='',_0x82768=0x0,_0x511f22=0x0,_0x4d0441=0x0;for(const _0x37c010 of _0x1de22e){if(_0x2bad26[_0x9209f(0x453)]+_0x37c010[_0x9209f(0x453)]>_0x3ba702[_0x9209f(0x9ed)]['size']){let _0x315922=_0x82768,_0x575afa='';for(;_0x315922>=0x0&&_0x575afa[_0x9209f(0x453)]+_0x1de22e[_0x315922][_0x9209f(0x453)]<_0x3ba702[_0x9209f(0x9ed)][_0x9209f(0x2e0)];)_0x575afa=_0x1de22e[_0x315922]+'\x20'+_0x575afa,_0x315922--;let _0x279290=_0x511f22,_0x35f218='';for(;_0x279290<_0x1de22e[_0x9209f(0x453)]&&_0x35f218[_0x9209f(0x453)]+_0x1de22e[_0x279290][_0x9209f(0x453)]<_0x3ba702[_0x9209f(0x9ed)][_0x9209f(0x2e0)];)_0x35f218+=_0x1de22e[_0x279290]+'\x20',_0x279290++;_0x2bad26=_0x575afa+_0x2bad26+_0x35f218,_0x48266b[_0x9209f(0x59e)](_0x2bad26[_0x9209f(0x6e8)]()),_0x2bad26='',_0x82768=_0x511f22;}_0x2bad26+=_0x37c010+'\x20',_0x511f22++,_0x4d0441+=_0x37c010[_0x9209f(0x453)]+0x1;}if(_0x2bad26['length']>0x0){let _0x1a973f=_0x82768,_0x1b66a9='';for(;_0x1a973f>=0x0&&_0x1b66a9[_0x9209f(0x453)]+_0x1de22e[_0x1a973f]['length']<_0x3ba702[_0x9209f(0x9ed)]['overlap'];)_0x1b66a9=_0x1de22e[_0x1a973f]+'\x20'+_0x1b66a9,_0x1a973f--;_0x2bad26=_0x1b66a9+_0x2bad26,_0x48266b[_0x9209f(0x59e)](_0x2bad26[_0x9209f(0x6e8)]());}return _0x48266b;}(_0x10da49,_0x21078c);await _0x502388(_0x56552f,_0x55a85f,_0x34ffa,_0x11ef38,_0x21078c,_0x4f413d,_0x47aea6,_0xa517f8);}async function _0x502388(_0x26440c,_0x58462e,_0x2861b1,_0x2e272a,_0x1f794d,_0x940657,_0x21858a,_0x3a2ece){const _0x5b6d7c=_0x45ef94;if(await _0x4f43db[_0x5b6d7c(0x7eb)](0x1),_0x1f794d[_0x5b6d7c(0x137)]){for(const _0x49cbab of _0x1f794d[_0x5b6d7c(0x137)]){if(_0x49cbab['type']===_0x26e9fd[_0x5b6d7c(0x83d)])continue;const _0x3fc6a5=_0x940657[_0x5b6d7c(0x786)](_0x3f8d98=>_0x3f8d98['uid']===_0x49cbab[_0x5b6d7c(0x4c8)]);if(_0x3fc6a5)switch(_0x3fc6a5[_0x5b6d7c(0x6e1)]){case _0x108ef7[_0x5b6d7c(0x767)]:_0x49cbab['type']!==_0x26e9fd[_0x5b6d7c(0x538)]&&_0x49cbab[_0x5b6d7c(0x6e1)]!==_0x26e9fd[_0x5b6d7c(0x50c)]||_0x5b6d7c(0x829)!=typeof _0x58462e||await _0xfd54dc(_0x26440c,_0x49cbab['type'],_0x58462e,_0x2861b1,_0x2e272a,_0x3fc6a5,_0x940657,_0x21858a,_0x3a2ece),_0x49cbab[_0x5b6d7c(0x6e1)]===_0x26e9fd['WaitTrue']&&'true'===_0x58462e&&await _0xfd54dc(_0x26440c,_0x49cbab[_0x5b6d7c(0x6e1)],_0x58462e,_0x2861b1,_0x2e272a,_0x3fc6a5,_0x940657,_0x21858a,_0x3a2ece),_0x49cbab['type']===_0x26e9fd[_0x5b6d7c(0x156)]&&_0x5b6d7c(0x345)===_0x58462e&&await _0xfd54dc(_0x26440c,_0x49cbab[_0x5b6d7c(0x6e1)],_0x58462e,_0x2861b1,_0x2e272a,_0x3fc6a5,_0x940657,_0x21858a,_0x3a2ece);break;case _0x108ef7['ChunkSplitter']:_0x49cbab[_0x5b6d7c(0x6e1)]===_0x26e9fd['Text']&&_0x5b6d7c(0x829)==typeof _0x58462e&&await _0x386571(_0x26440c,_0x58462e,_0x2861b1,_0x2e272a,_0x3fc6a5,_0x940657,_0x21858a,_0x3a2ece);break;case _0x108ef7[_0x5b6d7c(0x934)]:_0x49cbab['type']===_0x26e9fd[_0x5b6d7c(0x538)]&&_0x5b6d7c(0x829)==typeof _0x58462e&&await _0x4e1f82(_0x26440c,_0x58462e,_0x2861b1,_0x2e272a,_0x3fc6a5,_0x940657,_0x21858a,_0x3a2ece),_0x49cbab[_0x5b6d7c(0x6e1)]===_0x26e9fd[_0x5b6d7c(0x538)]&&_0x58462e instanceof Array&&await _0x4e1f82(_0x26440c,_0x58462e,_0x2861b1,_0x2e272a,_0x3fc6a5,_0x940657,_0x21858a,_0x3a2ece);break;case _0x108ef7[_0x5b6d7c(0xa20)]:_0x49cbab[_0x5b6d7c(0x6e1)]===_0x26e9fd[_0x5b6d7c(0x538)]&&_0x5b6d7c(0x829)==typeof _0x58462e&&await _0x2297cd(_0x26440c,_0x58462e,_0x2861b1,_0x2e272a,_0x3fc6a5,_0x940657,_0x21858a,_0x3a2ece);break;case _0x108ef7[_0x5b6d7c(0x3d7)]:_0x49cbab['type']===_0x26e9fd['Text']&&_0x5b6d7c(0x829)==typeof _0x58462e&&await _0x5043b6(_0x26440c,_0x58462e,_0x2861b1,_0x2e272a,_0x3fc6a5,_0x940657,_0x21858a,_0x3a2ece);}}_0x1f794d[_0x5b6d7c(0x6e1)]===_0x108ef7[_0x5b6d7c(0x16a)]&&_0x3a2ece&&_0x3a2ece[_0x5b6d7c(0x948)](void 0x0);}else _0x1f794d[_0x5b6d7c(0x6e1)]===_0x108ef7[_0x5b6d7c(0x16a)]&&_0x3a2ece&&_0x3a2ece[_0x5b6d7c(0x948)](void 0x0);}function _0x51a0c0(_0xda4af6,_0x5228b0){const _0x1c4224=_0x45ef94;let _0x51b69f=0x0;for(const _0x49b21a of _0x5228b0)for(const _0x54bce3 of _0x49b21a[_0x1c4224(0x137)]??[])_0x54bce3[_0x1c4224(0x6e1)]!==_0x26e9fd[_0x1c4224(0x83d)]&&_0x54bce3[_0x1c4224(0x6e1)]!==_0x26e9fd[_0x1c4224(0x363)]&&_0x54bce3[_0x1c4224(0x4c8)]===_0xda4af6['uid']&&_0x51b69f++;return _0x51b69f;}function _0x3d1027(_0x14a6d3,_0x7a80c){const _0x16291e=_0x45ef94,_0x26b9cb={'type':_0x14a6d3['type'],'name':_0x14a6d3[_0x16291e(0x388)]??'','description':_0x14a6d3[_0x16291e(0x6e3)]??'','parameters':_0x14a6d3['parameters']??[],'headers':_0x14a6d3['headers']??[],'queryParameters':_0x14a6d3[_0x16291e(0x59a)]??[],'bodyParameters':_0x14a6d3[_0x16291e(0x748)]??[],'endpointUrl':_0x14a6d3[_0x16291e(0x59b)]??'','endpointMethod':_0x14a6d3[_0x16291e(0x770)]??'','contextOutputVariable':_0x14a6d3[_0x16291e(0x7ad)]??'','modelId':_0x14a6d3[_0x16291e(0x3ef)]??'','workflowId':_0x14a6d3[_0x16291e(0x927)]??'','async':_0x14a6d3[_0x16291e(0x237)]??!0x1,'instructions':_0x14a6d3[_0x16291e(0x68e)]??'','maxTokens':_0x14a6d3[_0x16291e(0xb5)]??0x0,'temperature':_0x14a6d3[_0x16291e(0x400)]??0x0,'grammar':_0x14a6d3[_0x16291e(0x963)]??_0x16291e(0x49d),'collectionId':_0x14a6d3['type']===_0x108ef7[_0x16291e(0x934)]||_0x14a6d3[_0x16291e(0x6e1)]===_0x108ef7['Knowledge']?_0x14a6d3['id']:'','shouldEmit':_0x14a6d3[_0x16291e(0x137)]?.[_0x16291e(0x3d9)](_0x127f48=>_0x127f48[_0x16291e(0x6e1)]===_0x26e9fd[_0x16291e(0x538)]&&_0x7a80c['find'](_0x5736ef=>_0x5736ef['uid']===_0x127f48['uid'])?.[_0x16291e(0x6e1)]===_0x108ef7[_0x16291e(0x7db)])??!0x1};if(_0x14a6d3[_0x16291e(0x6e1)]===_0x108ef7[_0x16291e(0x8d5)])return[{..._0x26b9cb,'type':_0x29184c['GenerativeAIInferenceToolType'][_0x16291e(0x92d)],'questions':_0x14a6d3[_0x16291e(0x866)]??[]},{..._0x26b9cb,'type':_0x29184c[_0x16291e(0x5f2)][_0x16291e(0x733)],'questions':_0x14a6d3[_0x16291e(0x866)]??[]},{..._0x26b9cb,'type':_0x29184c['GenerativeAIInferenceToolType']['FormSkillSubmitForm'],'questions':_0x14a6d3[_0x16291e(0x866)]??[]}];if(_0x14a6d3[_0x16291e(0x6e1)]===_0x108ef7[_0x16291e(0x767)]||_0x14a6d3[_0x16291e(0x6e1)]===_0x108ef7[_0x16291e(0x3b0)]||_0x14a6d3[_0x16291e(0x6e1)]===_0x108ef7['Router']){const _0x30130b=_0x7a80c[_0x16291e(0x533)](_0x5c9930=>_0x5c9930[_0x16291e(0x137)]?.['some'](_0x4a632a=>_0x4a632a[_0x16291e(0x4c8)]===_0x14a6d3['uid']&&_0x4a632a[_0x16291e(0x6e1)]===_0x26e9fd[_0x16291e(0x363)]));if(_0x30130b[_0x16291e(0x453)]>0x0)return{..._0x26b9cb,'tools':_0x30130b[_0x16291e(0x7fd)](_0x267422=>_0x3d1027(_0x267422,_0x7a80c))};}return _0x26b9cb;}async function _0xfd54dc(_0x1e25e3,_0x2f3aa5,_0x5b6c01,_0x1a532d,_0x5550b7,_0x195228,_0x5b82d0,_0x4d6fb4,_0x3879a0){const _0xfdc0c9=_0x45ef94;if(_0x195228[_0xfdc0c9(0x252)]||(_0x195228[_0xfdc0c9(0x252)]={}),_0x2f3aa5===_0x26e9fd[_0xfdc0c9(0x538)]&&_0xfdc0c9(0x829)==typeof _0x5b6c01&&(_0x195228['accumulated'][_0xfdc0c9(0x119)]||(_0x195228['accumulated'][_0xfdc0c9(0x119)]=[]),_0x195228['accumulated']['prompt'][_0xfdc0c9(0x59e)](_0x5b6c01)),_0x195228[_0xfdc0c9(0x234)]=_0x195228[_0xfdc0c9(0x234)]?_0x195228['timesCalled']+0x1:0x1,_0x51a0c0(_0x195228,_0x5b82d0)>_0x195228[_0xfdc0c9(0x234)])return;if(_0x301706[_0xfdc0c9(0x775)](_0xfdc0c9(0x43b)+_0x195228[_0xfdc0c9(0x388)],_0x195228[_0xfdc0c9(0x234)]),!_0x195228['accumulated'][_0xfdc0c9(0x119)])throw new Error(_0xfdc0c9(0x4d3)+_0x195228[_0xfdc0c9(0x388)]);const _0x65967e=_0x4d6fb4[_0xfdc0c9(0x480)][_0xfdc0c9(0x786)](_0x149d73=>_0x149d73['id']===_0x195228[_0xfdc0c9(0x3ef)]);if(!_0x65967e)throw new Error(_0xfdc0c9(0x92a)+_0x195228[_0xfdc0c9(0x3ef)]);const _0x85f3e=Date[_0xfdc0c9(0x69)](),_0x460205=(0x0,_0xa305bc['v4'])();let _0x4726e0='',_0xfc3e89=0x0,_0x52fc81=0x0;const _0x2acf20=[],_0x17ee62=function(_0x483954,_0x3c3de1,_0x54af2b){const _0x10013e=_0xfdc0c9;if(_0x54af2b['contextInputVariable']){const _0x2b1ef8=_0x54af2b['contextInputVariable'][_0x10013e(0x25b)](',');for(const _0xced3f0 of _0x2b1ef8)'files'!==_0xced3f0&&_0x3c3de1['internalContext']?.[_0xced3f0]&&(_0x483954='<'+_0xced3f0+'>'+_0x3c3de1[_0x10013e(0x1f0)][_0xced3f0]+'</'+_0xced3f0+'>\x0a\x0a'+_0x483954);}return _0x483954;}(_0x195228[_0xfdc0c9(0x252)]['prompt'][_0xfdc0c9(0x981)]('\x0a\x0a'),_0x5550b7,_0x195228);let _0xd1fd09=_0x17ee62;const _0x41a277=_0x195228[_0xfdc0c9(0x403)]?.[_0xfdc0c9(0x25b)](',');if(_0x5550b7[_0xfdc0c9(0x1f0)]?.['files']&&_0x41a277?.[_0xfdc0c9(0x62f)]('files')){const _0x994efb=_0x5550b7[_0xfdc0c9(0x1f0)][_0xfdc0c9(0x396)][_0xfdc0c9(0x25b)](',');_0xd1fd09=[];for(const _0x2e3243 of _0x994efb)_0xd1fd09[_0xfdc0c9(0x59e)]({'type':'file','file':{'file_id':_0x2e3243}});_0xd1fd09['push']({'type':_0xfdc0c9(0x1b7),'text':_0x17ee62});}_0x2acf20[_0xfdc0c9(0x59e)]({'role':_0xfdc0c9(0x796),'content':_0x25755d(_0x1a532d[_0xfdc0c9(0x68e)]??'',_0x195228,_0x65967e)}),_0x2acf20[_0xfdc0c9(0x59e)](..._0x1a532d['history']?.[_0xfdc0c9(0x1f8)](_0x5455a5=>({'role':_0x5455a5['source']===_0x29184c[_0xfdc0c9(0x201)][_0xfdc0c9(0x72)]?_0xfdc0c9(0x6ba):_0xfdc0c9(0x140),'content':_0x5455a5['message']}))??[]),_0x2acf20[_0xfdc0c9(0x59e)]({'role':_0xfdc0c9(0x6ba),'content':_0xd1fd09});const _0x41089a=_0x5b82d0[_0xfdc0c9(0x533)](_0x195447=>_0x195447[_0xfdc0c9(0x137)]?.[_0xfdc0c9(0x3d9)](_0x5a828e=>_0x5a828e['uid']===_0x195228[_0xfdc0c9(0x4c8)]&&_0x5a828e[_0xfdc0c9(0x6e1)]===_0x26e9fd['Tool']))['flatMap'](_0x4096c2=>_0x3d1027(_0x4096c2,_0x5b82d0));if(_0x3879a0){const _0x40e48e=_0x195228[_0xfdc0c9(0x137)]?.[_0xfdc0c9(0x3d9)](_0x123c74=>_0x123c74[_0xfdc0c9(0x6e1)]===_0x26e9fd['Text']&&_0x5b82d0[_0xfdc0c9(0x786)](_0x162613=>_0x162613[_0xfdc0c9(0x4c8)]===_0x123c74[_0xfdc0c9(0x4c8)])?.[_0xfdc0c9(0x6e1)]===_0x108ef7[_0xfdc0c9(0x7db)])??!0x1,_0x7f159f=await fetch(_0x25dcd9['apiUrl']+'/chat/completions',{'method':_0xfdc0c9(0x57c),'headers':{'Accept':_0xfdc0c9(0x688),'Content-Type':_0xfdc0c9(0x2e4),'x-vendor-id':_0x1a532d[_0xfdc0c9(0x154)]},'body':JSON[_0xfdc0c9(0xa51)]({'model':_0x195228[_0xfdc0c9(0x3ef)],'messages':_0x2acf20,'max_completion_tokens':_0x195228[_0xfdc0c9(0xb5)],'temperature':_0x195228['temperature'],'metadata':{'threadId':_0x1a532d['threadId'],'agentId':_0x460205,'jobId':_0x1e25e3,'context':_0x5550b7[_0xfdc0c9(0x1f0)]??{}},'structured_output':_0x195228[_0xfdc0c9(0x963)],'tools':_0x41089a,'stream':!0x0,'stream_options':{'include_usage':!0x0}})});if(!_0x7f159f['ok']||!_0x7f159f['body'])throw new Error('ReadableStream\x20is\x20not\x20supported');const _0x366a89=_0x7f159f['body'][_0xfdc0c9(0x89c)](),_0x50cae1=new TextDecoder();for(;;){const {value:_0x33f29f,done:_0x10f76b}=await _0x366a89['read']();if(_0x10f76b)break;const _0x17b6f8=_0x50cae1[_0xfdc0c9(0x581)](_0x33f29f,{'stream':!0x0});if(_0xfdc0c9(0x15f)===_0x17b6f8)break;const _0x3f06d4=_0x31bb24(_0x17b6f8);for(const _0x55b51c of _0x3f06d4)_0x55b51c[_0xfdc0c9(0x6b1)]&&_0x55b51c[_0xfdc0c9(0x6b1)][0x0]&&(_0x40e48e&&(_0x3879a0[_0xfdc0c9(0x948)]({'output':_0x55b51c[_0xfdc0c9(0x6b1)][0x0][_0xfdc0c9(0x315)]['content'],'type':_0xfdc0c9(0x119)}),await _0x4f43db[_0xfdc0c9(0x7eb)](0x1)),_0x4726e0+=_0x55b51c[_0xfdc0c9(0x6b1)][0x0][_0xfdc0c9(0x315)]['content']??'',_0xfc3e89=_0x55b51c[_0xfdc0c9(0x2d2)]?.[_0xfdc0c9(0x1cb)]??0x0,_0x52fc81=_0x55b51c[_0xfdc0c9(0x2d2)]?.[_0xfdc0c9(0x2ff)]??0x0,_0x5550b7['internalContext']={..._0x5550b7[_0xfdc0c9(0x1f0)],..._0x55b51c[_0xfdc0c9(0x86d)]});}_0x5550b7[_0xfdc0c9(0x15d)]=(_0x5550b7['outputTokens']??0x0)+_0x52fc81,_0x5550b7[_0xfdc0c9(0xa50)]=(_0x5550b7[_0xfdc0c9(0xa50)]??0x0)+_0xfc3e89,_0x40e48e||_0x3879a0[_0xfdc0c9(0x948)]({'output':'','type':_0xfdc0c9(0x119)});}else{const _0x4805fd=await fetch(_0x25dcd9[_0xfdc0c9(0x5d5)]+_0xfdc0c9(0x321),{'method':_0xfdc0c9(0x57c),'headers':{'Content-Type':_0xfdc0c9(0x2e4),'x-vendor-id':_0x1a532d[_0xfdc0c9(0x154)]},'body':JSON[_0xfdc0c9(0xa51)]({'model':_0x195228[_0xfdc0c9(0x3ef)],'messages':_0x2acf20,'max_completion_tokens':_0x195228['maxTokens'],'temperature':_0x195228[_0xfdc0c9(0x400)],'metadata':{'threadId':_0x1a532d[_0xfdc0c9(0x518)],'agentId':_0x460205,'jobId':_0x1e25e3,'context':_0x5550b7[_0xfdc0c9(0x1f0)]??{}},'structured_output':_0x195228['grammar'],'tools':_0x41089a})}),_0x456b12=await _0x4805fd[_0xfdc0c9(0x5af)]();_0x4726e0=_0x456b12[_0xfdc0c9(0x6b1)][0x0][_0xfdc0c9(0x7c2)][_0xfdc0c9(0x2ec)],_0xfc3e89=_0x456b12[_0xfdc0c9(0x2d2)]['prompt_tokens'],_0x52fc81=_0x456b12['usage']['completion_tokens'],_0x5550b7['output']=_0x4726e0,_0x5550b7[_0xfdc0c9(0x1f0)]={..._0x5550b7[_0xfdc0c9(0x1f0)],..._0x456b12['context']},_0x5550b7[_0xfdc0c9(0x15d)]=(_0x5550b7[_0xfdc0c9(0x15d)]??0x0)+_0x52fc81,_0x5550b7[_0xfdc0c9(0xa50)]=(_0x5550b7[_0xfdc0c9(0xa50)]??0x0)+_0xfc3e89;}if(_0x195228['contextOutputVariable']&&(_0x5550b7[_0xfdc0c9(0x1f0)]||(_0x5550b7[_0xfdc0c9(0x1f0)]={}),_0x5550b7['internalContext'][_0x195228[_0xfdc0c9(0x7ad)]]=_0x4726e0),await _0x3396a6[_0xfdc0c9(0x49a)]({'jobType':_0x1b7d31['Workflow'],'type':_0x463099[_0xfdc0c9(0x5c8)],'jobId':_0x1e25e3,'agentId':_0x460205,'threadId':_0x1a532d[_0xfdc0c9(0x518)],'traceLevel':_0x4b3539[_0xfdc0c9(0x9e5)],'startTime':_0x85f3e,'timestamp':Date['now'](),'blockId':_0x195228['id'],'status':'success','output':_0x4726e0,'prompt':_0x17ee62,'agentName':_0x195228[_0xfdc0c9(0x388)],'history':[],'instructions':''+_0x195228['instructions']+(_0x1a532d[_0xfdc0c9(0x68e)]??''),'ragContext':[],'inputTokens':_0xfc3e89??0x0,'outputTokens':_0x52fc81??0x0}),_0xfdc0c9(0x52b)===_0x195228[_0xfdc0c9(0x963)])try{_0x4726e0=JSON[_0xfdc0c9(0x562)](_0x4726e0)['condition_result']?'true':'false';}catch(_0xfbc579){console[_0xfdc0c9(0x2a9)]('Error\x20parsing\x20JSON:',_0x4726e0),_0x4726e0=_0xfdc0c9(0x345);}await _0x502388(_0x1e25e3,_0x4726e0,_0x1a532d,_0x5550b7,_0x195228,_0x5b82d0,_0x4d6fb4,_0x3879a0);}function _0x25755d(_0x4bdbfb,_0x29eaf5,_0x1560de){const _0x5761d2=_0x45ef94;let _0x520cb3='';return _0x1560de[_0x5761d2(0x77d)]&&''!==_0x1560de[_0x5761d2(0x77d)]&&(_0x520cb3=_0x5761d2(0x7aa)+_0x1560de[_0x5761d2(0x77d)]+'\x0a\x0a'),_0x520cb3=_0x520cb3+'Today\x20Date:\x20'+new Date()['toLocaleDateString'](void 0x0,{'weekday':_0x5761d2(0x8a9),'year':_0x5761d2(0x97a),'month':_0x5761d2(0x8a9),'day':_0x5761d2(0x97a)})+'\x0a\x0a',''+_0x520cb3+_0x29eaf5[_0x5761d2(0x68e)]+_0x4bdbfb;}function _0x31bb24(_0x2cd68c){const _0x3c6761=_0x45ef94;return _0x2cd68c['split'](_0x3c6761(0x3a8))[_0x3c6761(0x1f8)](_0x162c07=>_0x162c07[_0x3c6761(0x94c)](_0x3c6761(0x23b),'')['trim']())[_0x3c6761(0x533)](_0x3e80b5=>''!==_0x3e80b5)['map'](_0x5e69f8=>{const _0x5e48d0=_0x3c6761;if(_0x5e48d0(0x857)===_0x5e69f8)return null;try{return JSON['parse'](_0x5e69f8);}catch(_0x4832a6){return console['error'](_0x5e48d0(0x95d),_0x5e69f8),null;}})[_0x3c6761(0x533)](_0xe6cdaf=>null!==_0xe6cdaf);}async function _0x3d65ae(_0x5057bd,_0x33b517,_0x1b94f9,_0x4b3e65,_0x313bb5,_0xf50a49,_0x218062){const _0x400aaf=_0x45ef94,_0x59db3b=_0x400aaf(0x466)+_0x313bb5['description']+_0x400aaf(0x75),_0x30de91={'prompt':{'type':_0x29184c[_0x400aaf(0x18e)][_0x400aaf(0x730)]}};return await _0x3396a6[_0x400aaf(0x49a)]({'jobType':_0x1b7d31[_0x400aaf(0x4cd)],'type':_0x13077b['LoadSkillFunction'],'jobId':_0x5057bd,'agentId':_0x33b517,'threadId':_0x1b94f9[_0x400aaf(0x518)],'traceLevel':_0x4b3539[_0x400aaf(0x9e5)],'startTime':Date['now'](),'timestamp':Date[_0x400aaf(0x69)](),'status':_0x400aaf(0x6e2),'function':_0x6f355d[_0x400aaf(0x408)],'params':_0x30de91,'functionDescription':_0x59db3b}),{'description':_0x59db3b,'params':_0x30de91,'callback':async _0x1451c0=>_0x352649(_0x1b94f9[_0x400aaf(0x154)],_0x313bb5,_0xf50a49,_0x1451c0,_0x4b3e65,_0x5057bd,_0x33b517,_0x1b94f9[_0x400aaf(0x518)],_0x218062)};}async function _0x352649(_0x4e2e33,_0x52eb9c,_0x2e6712,_0x10fa1c,_0x50023a,_0xfc96e6,_0x3e7c54,_0x487087,_0x5ab299){const _0xa533b1=_0x45ef94,_0x463ea5=Date[_0xa533b1(0x69)]();try{if(_0xa533b1(0x829)!=typeof _0x10fa1c?.['prompt'])throw new Error('Prompt\x20is\x20required');if(!_0x2e6712[_0xa533b1(0x480)][_0xa533b1(0x786)](_0xf88411=>_0xf88411['id']===_0x52eb9c[_0xa533b1(0x3ef)]))throw new Error('Model\x20not\x20found');let _0x14cb36='',_0x13aa20=[];if(_0x52eb9c[_0xa533b1(0x68e)]&&_0x13aa20['push']({'role':_0xa533b1(0x796),'content':_0x52eb9c['instructions']}),_0x13aa20['push']({'role':_0xa533b1(0x6ba),'content':_0x10fa1c['prompt']}),_0x5ab299&&_0x52eb9c[_0xa533b1(0x314)]){const _0x3301f1=await fetch(_0x25dcd9['apiUrl']+'/chat/completions',{'method':_0xa533b1(0x57c),'headers':{'Accept':_0xa533b1(0x688),'Content-Type':'application/json','x-vendor-id':_0x4e2e33},'body':JSON[_0xa533b1(0xa51)]({'model':_0x52eb9c['modelId'],'messages':_0x13aa20,'max_completion_tokens':_0x52eb9c[_0xa533b1(0xb5)],'temperature':_0x52eb9c[_0xa533b1(0x400)],'tools':_0x52eb9c[_0xa533b1(0x3cb)],'structured_output':_0x52eb9c['grammar'],'metadata':{'threadId':_0x487087,'jobId':_0xfc96e6,'agentId':_0x3e7c54,'context':_0x50023a?.[_0xa533b1(0x1f0)]??{}},'stream':!0x0,'stream_options':{'include_usage':!0x0}})});if(!_0x3301f1['ok']||!_0x3301f1[_0xa533b1(0xa1a)])throw new Error(_0xa533b1(0x45b));const _0x4c8794=_0x3301f1[_0xa533b1(0xa1a)][_0xa533b1(0x89c)](),_0x495116=new TextDecoder();let _0x9c8340=0x0,_0x27c4ef=0x0,_0x12dff2='';for(;;){const {value:_0x445a55,done:_0x3b31a7}=await _0x4c8794['read']();if(_0x3b31a7)break;const _0x525529=_0x495116[_0xa533b1(0x581)](_0x445a55,{'stream':!0x0});if(_0xa533b1(0x15f)===_0x525529)break;const _0x3b4c03=_0x31bb24(_0x525529);for(const _0x3e6818 of _0x3b4c03)_0x3e6818[_0xa533b1(0x6b1)]&&_0x3e6818[_0xa533b1(0x6b1)][0x0]&&(_0x12dff2+=_0x3e6818[_0xa533b1(0x6b1)][0x0][_0xa533b1(0x315)][_0xa533b1(0x2ec)],_0x9c8340+=_0x3e6818[_0xa533b1(0x2d2)]?.[_0xa533b1(0x718)]??0x0,_0x27c4ef+=_0x3e6818['usage']?.[_0xa533b1(0x1bb)]??0x0,_0x50023a&&(_0x50023a['internalContext']={..._0x50023a[_0xa533b1(0x1f0)],..._0x3e6818['context']}),_0x5ab299[_0xa533b1(0x948)]({'output':_0x3e6818[_0xa533b1(0x6b1)][0x0][_0xa533b1(0x315)][_0xa533b1(0x2ec)],'type':_0xa533b1(0x119)}),await _0x4f43db[_0xa533b1(0x7eb)](0x1));}_0x50023a&&(_0x50023a[_0xa533b1(0x15d)]=(_0x50023a[_0xa533b1(0x15d)]??0x0)+_0x27c4ef,_0x50023a[_0xa533b1(0xa50)]=(_0x50023a[_0xa533b1(0xa50)]??0x0)+_0x9c8340,_0x52eb9c['contextOutputVariable']&&(_0x50023a[_0xa533b1(0x1f0)]||(_0x50023a[_0xa533b1(0x1f0)]={}),_0x50023a['internalContext'][_0x52eb9c[_0xa533b1(0x7ad)]]=_0x12dff2)),_0x5ab299[_0xa533b1(0x948)]({'output':'\x0a\x0a','type':_0xa533b1(0x119)}),await _0x4f43db[_0xa533b1(0x7eb)](0x1),_0x14cb36='I\x20have\x20finished\x20executing\x20my\x20task.';}else{const _0x39e81e=await fetch(_0x25dcd9[_0xa533b1(0x5d5)]+_0xa533b1(0x321),{'method':'POST','headers':{'Content-Type':_0xa533b1(0x2e4),'x-vendor-id':_0x4e2e33},'body':JSON[_0xa533b1(0xa51)]({'model':_0x52eb9c[_0xa533b1(0x3ef)],'messages':_0x13aa20,'max_completion_tokens':_0x52eb9c[_0xa533b1(0xb5)],'temperature':_0x52eb9c[_0xa533b1(0x400)],'tools':_0x52eb9c[_0xa533b1(0x3cb)],'structured_output':_0x52eb9c[_0xa533b1(0x963)],'metadata':{'threadId':_0x487087,'jobId':_0xfc96e6,'agentId':_0x3e7c54,'context':_0x50023a?.[_0xa533b1(0x1f0)]??{}}})}),_0x1e6b48=await _0x39e81e['json']();_0x14cb36=_0x1e6b48['choices'][0x0][_0xa533b1(0x7c2)][_0xa533b1(0x2ec)],_0x50023a&&(_0x50023a[_0xa533b1(0x1f0)]={..._0x50023a[_0xa533b1(0x1f0)],..._0x1e6b48[_0xa533b1(0x86d)]},_0x50023a[_0xa533b1(0x15d)]=(_0x50023a[_0xa533b1(0x15d)]??0x0)+_0x1e6b48[_0xa533b1(0x2d2)][_0xa533b1(0x2ff)],_0x50023a[_0xa533b1(0xa50)]=(_0x50023a[_0xa533b1(0xa50)]??0x0)+_0x1e6b48[_0xa533b1(0x2d2)][_0xa533b1(0x1cb)],_0x52eb9c[_0xa533b1(0x7ad)]&&(_0x50023a['internalContext']||(_0x50023a['internalContext']={}),_0x50023a[_0xa533b1(0x1f0)][_0x52eb9c['contextOutputVariable']]=_0x14cb36));}if(_0xa533b1(0x829)!=typeof _0x14cb36)throw new Error('Agent\x20output\x20is\x20not\x20a\x20string');return _0xfc96e6&&_0x3e7c54&&_0x487087&&await _0x3396a6[_0xa533b1(0x49a)]({'jobType':_0x1b7d31[_0xa533b1(0x885)],'type':_0x6f355d['ExecuteAgent'],'jobId':_0xfc96e6,'blockId':_0xa533b1(0x750),'agentId':_0x3e7c54,'threadId':_0x487087,'traceLevel':_0x4b3539[_0xa533b1(0x9e5)],'startTime':_0x463ea5,'timestamp':Date[_0xa533b1(0x69)](),'status':'success','agentName':_0x52eb9c[_0xa533b1(0x388)],'prompt':_0x10fa1c[_0xa533b1(0x119)],'instructions':_0x52eb9c['instructions']??'','result':_0x14cb36,'inputTokens':0x0,'outputTokens':0x0}),_0x14cb36;}catch(_0x3bc190){return console['error'](_0x3bc190),_0xfc96e6&&_0x3e7c54&&_0x487087&&await _0x3396a6[_0xa533b1(0x49a)]({'jobType':_0x1b7d31['Skill'],'type':_0x6f355d['ExecuteAgent'],'jobId':_0xfc96e6,'blockId':_0xa533b1(0x750),'agentId':_0x3e7c54,'threadId':_0x487087,'traceLevel':_0x4b3539['Info'],'startTime':_0x463ea5,'timestamp':Date[_0xa533b1(0x69)](),'status':_0xa533b1(0x2a9),'errorDetails':_0x107c9a(_0x3bc190),'agentName':_0x52eb9c[_0xa533b1(0x388)],'prompt':_0x10fa1c?.[_0xa533b1(0x119)]??'','instructions':_0x52eb9c[_0xa533b1(0x68e)]??'','result':'','inputTokens':0x0,'outputTokens':0x0}),_0x3bc190 instanceof Error?_0x3bc190[_0xa533b1(0x7c2)]:_0xa533b1(0x68f);}}async function _0x21a60f(_0xfcb011,_0x3ca89a,_0x58181c,_0x46d92d,_0x417f1b,_0x5b5b7b){const _0x4b4156=_0x45ef94,_0x124ddc=Date[_0x4b4156(0x69)]();try{if(!_0x3ca89a[_0x4b4156(0x99f)])throw new Error(_0x4b4156(0x6c9));if(!_0xfcb011[_0x4b4156(0x3ef)])throw new Error('Model\x20ID\x20is\x20required');if(_0x4b4156(0x829)!=typeof _0x58181c?.['query'])throw new Error(_0x4b4156(0x10a));const _0x3879ce=await _0x3ca89a['aiSearchConnector'][_0x4b4156(0x97e)](_0x58181c[_0x4b4156(0x284)],_0xfcb011[_0x4b4156(0x3ef)]);return _0x46d92d&&_0x417f1b&&_0x5b5b7b&&await _0x3396a6[_0x4b4156(0x49a)]({'jobType':_0x1b7d31[_0x4b4156(0x885)],'type':_0x6f355d[_0x4b4156(0x22f)],'jobId':_0x46d92d,'agentId':_0x417f1b,'threadId':_0x5b5b7b,'blockId':_0x4b4156(0x974),'traceLevel':_0x4b3539[_0x4b4156(0x9e5)],'startTime':_0x124ddc,'timestamp':Date[_0x4b4156(0x69)](),'status':_0x4b4156(0x6e2),'query':_0x58181c[_0x4b4156(0x284)],'results':_0x3879ce}),_0x3879ce;}catch(_0x4b7d79){return console['error'](_0x4b7d79),_0x46d92d&&_0x417f1b&&_0x5b5b7b&&await _0x3396a6['trace']({'jobType':_0x1b7d31['Skill'],'type':_0x6f355d[_0x4b4156(0x22f)],'jobId':_0x46d92d,'blockId':'ai-search','traceLevel':_0x4b3539[_0x4b4156(0x9e5)],'startTime':_0x124ddc,'timestamp':Date[_0x4b4156(0x69)](),'status':_0x4b4156(0x2a9),'errorDetails':_0x107c9a(_0x4b7d79),'agentId':_0x417f1b,'threadId':_0x5b5b7b,'query':_0x58181c?.[_0x4b4156(0x284)]??'','results':_0x4b4156(0x812)}),_0x4b7d79 instanceof Error?_0x4b7d79[_0x4b4156(0x7c2)]:_0x4b4156(0x812);}}async function _0x4e729f(_0x5a26ea,_0x1545ce,_0x337b5a,_0x364518){const _0x3efc02=_0x45ef94,_0x2c01af=Date[_0x3efc02(0x69)]();try{if(_0x3efc02(0x829)!=typeof _0x5a26ea?.[_0x3efc02(0x9c3)])throw new Error(_0x3efc02(0x89d));const _0xe47295=Function(''+_0x5a26ea?.[_0x3efc02(0x9c3)])();let _0x486ce3='';try{_0x486ce3=JSON[_0x3efc02(0xa51)](_0xe47295);}catch{_0x486ce3=_0xe47295[_0x3efc02(0x70f)]();}return _0x1545ce&&_0x337b5a&&_0x364518&&await _0x3396a6['trace']({'jobType':_0x1b7d31[_0x3efc02(0x885)],'type':_0x6f355d['ExecuteCode'],'agentId':_0x337b5a,'threadId':_0x364518,'jobId':_0x1545ce,'blockId':_0x3efc02(0x9c3),'traceLevel':_0x4b3539[_0x3efc02(0x9e5)],'startTime':_0x2c01af,'timestamp':Date[_0x3efc02(0x69)](),'status':_0x3efc02(0x6e2),'code':_0x5a26ea['code'],'result':_0x486ce3}),_0xe47295;}catch(_0x8c74fe){return console[_0x3efc02(0x2a9)](_0x8c74fe),_0x1545ce&&_0x337b5a&&_0x364518&&await _0x3396a6[_0x3efc02(0x49a)]({'jobType':_0x1b7d31[_0x3efc02(0x885)],'type':_0x6f355d['ExecuteCode'],'jobId':_0x1545ce,'blockId':_0x3efc02(0x9c3),'traceLevel':_0x4b3539['Info'],'startTime':_0x2c01af,'timestamp':Date[_0x3efc02(0x69)](),'status':'error','errorDetails':_0x107c9a(_0x8c74fe),'agentId':_0x337b5a,'threadId':_0x364518,'code':_0x5a26ea?.[_0x3efc02(0x9c3)]??'','result':'Error\x20executing\x20code'}),_0x8c74fe instanceof Error?_0x8c74fe[_0x3efc02(0x7c2)]:_0x3efc02(0x77e);}}async function _0x4e512d(_0x2be9f5,_0x1cf9a1,_0xcba112,_0x1181a9,_0x3e701f){const _0x43193b=_0x45ef94,_0x17c4e7=_0x43193b(0x6dc)+_0x3e701f['description']+_0x43193b(0x939),_0x2b13ee={'queryOrPrompt':{'type':_0x29184c[_0x43193b(0x18e)][_0x43193b(0x730)]}};return await _0x3396a6['trace']({'jobType':_0x1b7d31[_0x43193b(0x4cd)],'type':_0x13077b[_0x43193b(0x6f1)],'jobId':_0x2be9f5,'agentId':_0x1cf9a1,'threadId':_0xcba112[_0x43193b(0x518)],'blockId':'data-collection','traceLevel':_0x4b3539[_0x43193b(0x9e5)],'startTime':Date[_0x43193b(0x69)](),'timestamp':Date['now'](),'status':_0x43193b(0x6e2),'function':_0xbfc7fd[_0x43193b(0x3b5)],'params':_0x2b13ee,'functionDescription':_0x17c4e7}),{'description':_0x17c4e7,'params':_0x2b13ee,'callback':async _0x3dfb5c=>_0x2e51d6(_0xcba112[_0x43193b(0x154)],_0x3e701f,_0x3dfb5c,_0x1181a9,_0x2be9f5,_0x1cf9a1,_0xcba112[_0x43193b(0x518)])};}async function _0x2e51d6(_0x1e1bf8,_0x4f59d1,_0x542c60,_0x566420,_0x37eaeb,_0x27d733,_0x416d41){const _0x2c4656=_0x45ef94,_0x18acd5=Date[_0x2c4656(0x69)]();try{if(_0x2c4656(0x829)!=typeof _0x542c60?.[_0x2c4656(0xa09)])throw new Error(_0x2c4656(0x10a));const _0xa51862=await fetch(_0x25dcd9[_0x2c4656(0x5d5)]+_0x2c4656(0x38c)+_0x4f59d1[_0x2c4656(0x809)]+_0x2c4656(0x8e2),{'method':_0x2c4656(0x57c),'headers':{'Content-Type':_0x2c4656(0x2e4),'x-vendor-id':_0x1e1bf8},'body':JSON[_0x2c4656(0xa51)]({'query':_0x542c60[_0x2c4656(0xa09)]})}),_0x36317f=((await _0xa51862['json']())[_0x2c4656(0x1a0)]??[])[_0x2c4656(0x1f8)](_0x592dbd=>({'pathName':_0x592dbd[_0x2c4656(0x75b)],'relevance':_0x592dbd[_0x2c4656(0x479)],'content':_0x592dbd[_0x2c4656(0x2ec)][_0x2c4656(0x1b7)]}));return _0x566420&&(_0x566420[_0x2c4656(0x86d)]=Array['from'](new Set([..._0x566420[_0x2c4656(0x86d)]??[],..._0x36317f]))),_0x37eaeb&&_0x27d733&&_0x416d41&&await _0x3396a6['trace']({'jobType':_0x1b7d31[_0x2c4656(0x744)],'type':_0xbfc7fd[_0x2c4656(0x33d)],'jobId':_0x37eaeb,'blockId':_0x2c4656(0x87),'agentId':_0x27d733,'threadId':_0x416d41,'traceLevel':_0x4b3539[_0x2c4656(0x9e5)],'startTime':_0x18acd5,'timestamp':Date[_0x2c4656(0x69)](),'status':_0x2c4656(0x6e2),'query':_0x542c60['queryOrPrompt'],'context':_0x36317f??[],'inputTokens':0x0,'outputTokens':0x0}),_0x36317f[_0x2c4656(0x9f6)]((_0x26ebd1,_0x6063c8)=>_0x26ebd1+'\x0a'+_0x6063c8[_0x2c4656(0x2ec)],'');}catch(_0x184879){return console[_0x2c4656(0x2a9)](_0x184879),_0x37eaeb&&_0x27d733&&_0x416d41&&await _0x3396a6[_0x2c4656(0x49a)]({'jobType':_0x1b7d31[_0x2c4656(0x744)],'type':_0xbfc7fd[_0x2c4656(0x33d)],'jobId':_0x37eaeb,'blockId':_0x2c4656(0x87),'agentId':_0x27d733,'threadId':_0x416d41,'traceLevel':_0x4b3539[_0x2c4656(0x9e5)],'startTime':_0x18acd5,'timestamp':Date[_0x2c4656(0x69)](),'status':_0x2c4656(0x2a9),'errorDetails':_0x107c9a(_0x184879),'query':_0x542c60?.[_0x2c4656(0xa09)]??'','context':[],'inputTokens':0x0,'outputTokens':0x0}),_0x184879 instanceof Error?_0x184879['message']:_0x2c4656(0x20f);}}async function _0x1a3c01(_0x41cf9e,_0x208453,_0x4960e3,_0xe431ab,_0x42c8fd){const _0x2e05a0=_0x45ef94,_0x46a641={};for(const _0x5a99e4 of _0x42c8fd[_0x2e05a0(0x1e3)]??[])switch(_0x5a99e4['type']){case'string':case _0x2e05a0(0x5af):_0x46a641[_0x5a99e4['name']]={'type':_0x29184c[_0x2e05a0(0x18e)][_0x2e05a0(0x730)]};break;case _0x2e05a0(0x78f):_0x46a641[_0x5a99e4[_0x2e05a0(0x388)]]={'type':_0x29184c[_0x2e05a0(0x18e)]['Number']};break;case _0x2e05a0(0xbf):_0x46a641[_0x5a99e4[_0x2e05a0(0x388)]]={'type':_0x29184c[_0x2e05a0(0x18e)][_0x2e05a0(0x420)]};}return await _0x3396a6[_0x2e05a0(0x49a)]({'jobType':_0x1b7d31['JobContext'],'type':_0x13077b['LoadSkillFunction'],'jobId':_0x41cf9e,'agentId':_0x208453,'threadId':_0x4960e3,'traceLevel':_0x4b3539['Info'],'startTime':Date['now'](),'timestamp':Date['now'](),'status':_0x2e05a0(0x6e2),'function':_0x6f355d['ExecuteCustomSkill'],'params':_0x46a641,'functionDescription':_0x42c8fd[_0x2e05a0(0x6e3)]??''}),{'description':_0x2e05a0(0x2c6)+_0x42c8fd[_0x2e05a0(0x6e3)],'params':_0x46a641,'callback':async _0x236659=>_0x364946(_0x42c8fd,_0x236659,_0xe431ab,_0x41cf9e,_0x208453,_0x4960e3)};}async function _0x364946(_0xe5aa7e,_0x4bcf3c,_0x2e650d,_0x4ca27e,_0x51537c,_0x4f2e79){const _0x4f4179=_0x45ef94,_0xcecb5b=Date[_0x4f4179(0x69)]();try{if(!_0x4bcf3c)throw new Error(_0x4f4179(0x860));for(const _0x568ab2 of _0xe5aa7e[_0x4f4179(0x1e3)]??[]){if(void 0x0===_0x4bcf3c[_0x568ab2[_0x4f4179(0x388)]])throw new Error(_0x4f4179(0x3bb)+_0x568ab2[_0x4f4179(0x388)]+_0x4f4179(0x51d));if(_0x4f4179(0x829)===_0x568ab2['type']&&_0x4f4179(0x829)!=typeof _0x4bcf3c[_0x568ab2['name']])throw new Error('Parameter\x20'+_0x568ab2['name']+_0x4f4179(0x90e));if(_0x4f4179(0x78f)===_0x568ab2['type']&&_0x4f4179(0x78f)!=typeof _0x4bcf3c[_0x568ab2[_0x4f4179(0x388)]])throw new Error(_0x4f4179(0x3bb)+_0x568ab2[_0x4f4179(0x388)]+_0x4f4179(0x7f8));if(_0x4f4179(0xbf)===_0x568ab2[_0x4f4179(0x6e1)]&&'boolean'!=typeof _0x4bcf3c[_0x568ab2[_0x4f4179(0x388)]])throw new Error(_0x4f4179(0x3bb)+_0x568ab2[_0x4f4179(0x388)]+_0x4f4179(0x584));if(_0x4f4179(0x5af)===_0x568ab2['type']&&'string'!=typeof _0x4bcf3c[_0x568ab2[_0x4f4179(0x388)]])throw new Error(_0x4f4179(0x3bb)+_0x568ab2['name']+'\x20must\x20be\x20a\x20string');if('json'===_0x568ab2[_0x4f4179(0x6e1)])try{_0x4bcf3c[_0x568ab2[_0x4f4179(0x388)]]=JSON['parse'](_0x4bcf3c[_0x568ab2[_0x4f4179(0x388)]]);}catch{throw new Error(_0x4f4179(0x3bb)+_0x568ab2[_0x4f4179(0x388)]+_0x4f4179(0x761));}}const _0x2a7ec5={};for(const _0xdf48cc of _0xe5aa7e[_0x4f4179(0x1d6)]??[]){let _0x30ea3e=_0xdf48cc[_0x4f4179(0x7b5)];_0x30ea3e[_0x4f4179(0x9eb)](/\$[a-zA-Z0-9]+/)&&(_0x30ea3e=_0x30ea3e[_0x4f4179(0x94c)](/\$[a-zA-Z0-9]+/g,_0x3202d8=>{const _0x53817c=_0x3202d8['slice'](0x1);return _0x4bcf3c[_0x53817c];})),_0x2a7ec5[_0xdf48cc[_0x4f4179(0x388)]]=_0x30ea3e;}const _0x358165=new URLSearchParams();for(const _0x67581 of _0xe5aa7e[_0x4f4179(0x59a)]??[]){let _0x20523c=_0x67581[_0x4f4179(0x7b5)];if('string'==typeof _0x20523c&&_0x20523c[_0x4f4179(0x1a2)]('$')){const _0x18f3b4=_0x20523c[_0x4f4179(0x2ad)](0x1);_0x20523c=_0x4bcf3c[_0x18f3b4];}if('string'==typeof _0x20523c&&_0x20523c['startsWith'](_0x4f4179(0x3f5))){const _0x456661=_0x20523c[_0x4f4179(0x94c)](_0x4f4179(0x3f5),'');if(_0x20523c=_0x2e650d?.[_0x4f4179(0x1f0)]?.[_0x456661],_0x4f4179(0x829)==typeof _0x20523c&&_0x20523c[_0x4f4179(0x1a2)]('{')&&_0x20523c[_0x4f4179(0x198)]('}'))try{_0x20523c=JSON[_0x4f4179(0x562)](_0x20523c);}catch{}}_0x4f4179(0x829)==typeof _0x20523c&&_0x20523c[_0x4f4179(0x1a2)]('[')&&_0x20523c[_0x4f4179(0x198)](']')&&(_0x20523c=JSON[_0x4f4179(0x562)](_0x20523c)),_0x358165[_0x4f4179(0x609)](_0x67581['name'],_0x20523c);}let _0x70372,_0x596541=_0xe5aa7e['endpointUrl']??'';_0x358165['size']>0x0&&(_0x596541+='?'+_0x358165[_0x4f4179(0x70f)]());for(const _0x392856 of _0xe5aa7e['bodyParameters']??[]){void 0x0===_0x70372&&(_0x70372={});let _0x26a4fe=_0x392856['value'];if(_0x4f4179(0x829)==typeof _0x26a4fe&&_0x26a4fe[_0x4f4179(0x1a2)]('$')){const _0x33d377=_0x26a4fe[_0x4f4179(0x2ad)](0x1);_0x26a4fe=_0x4bcf3c[_0x33d377];}if(_0x4f4179(0x829)==typeof _0x26a4fe&&_0x26a4fe[_0x4f4179(0x1a2)](_0x4f4179(0x3f5))){const _0x5dfd7c=_0x26a4fe[_0x4f4179(0x94c)](_0x4f4179(0x3f5),'');if(_0x26a4fe=_0x2e650d?.[_0x4f4179(0x1f0)]?.[_0x5dfd7c],_0x4f4179(0x829)==typeof _0x26a4fe&&_0x26a4fe[_0x4f4179(0x1a2)]('{')&&_0x26a4fe['endsWith']('}'))try{_0x26a4fe=JSON[_0x4f4179(0x562)](_0x26a4fe);}catch{}}if(_0x4f4179(0x829)==typeof _0x26a4fe&&_0x26a4fe[_0x4f4179(0x1a2)]('[')&&_0x26a4fe[_0x4f4179(0x198)](']')&&(_0x26a4fe=JSON[_0x4f4179(0x562)](_0x26a4fe)),'@root'===_0x392856['name']){const _0x330b87=_0x26a4fe['match'](/```html(.*)```/s);_0x330b87&&(_0x26a4fe=_0x330b87[0x1]),_0x26a4fe=_0x26a4fe[_0x4f4179(0x94c)](/\n/g,''),_0x26a4fe=_0x26a4fe[_0x4f4179(0x94c)](/'/g,'\x22'),_0x70372=_0x26a4fe;break;}if(-0x1===_0x392856['name'][_0x4f4179(0x4e9)]('.'))_0x70372[_0x392856[_0x4f4179(0x388)]]=_0x26a4fe;else{const [_0x2e457d,_0x17634d]=_0x392856[_0x4f4179(0x388)][_0x4f4179(0x25b)]('.');_0x70372[_0x2e457d]||(_0x70372[_0x2e457d]={}),_0x70372[_0x2e457d][_0x17634d]=_0x26a4fe;}}console[_0x4f4179(0x1d5)]('Executing\x20custom\x20skill:\x20'+_0xe5aa7e[_0x4f4179(0x388)]+_0x4f4179(0x437)+JSON[_0x4f4179(0xa51)](_0x70372));const _0x2092d2=await fetch(_0x596541,{'method':_0xe5aa7e[_0x4f4179(0x770)],'headers':_0x2a7ec5,'body':void 0x0===_0x70372?void 0x0:_0x4f4179(0x829)==typeof _0x70372?_0x70372:JSON[_0x4f4179(0xa51)](_0x70372)});if(_0x2092d2['ok']){let _0x224a04=await _0x2092d2[_0x4f4179(0x5af)]();return _0x4f4179(0x829)!=typeof _0x224a04&&(_0x224a04=JSON['stringify'](_0x224a04)),_0x4ca27e&&_0x51537c&&_0x4f2e79&&await _0x3396a6[_0x4f4179(0x49a)]({'jobType':_0x1b7d31['Skill'],'type':_0x6f355d[_0x4f4179(0x183)],'jobId':_0x4ca27e,'agentId':_0x51537c,'threadId':_0x4f2e79,'blockId':_0x4f4179(0x9e7),'traceLevel':_0x4b3539[_0x4f4179(0x9e5)],'startTime':_0xcecb5b,'timestamp':Date[_0x4f4179(0x69)](),'status':_0x4f4179(0x6e2),'skillName':_0xe5aa7e['name'],'params':_0x4bcf3c,'result':_0x224a04}),_0x2e650d&&_0xe5aa7e['contextOutputVariable']&&''!==_0xe5aa7e[_0x4f4179(0x7ad)]&&(_0x2e650d[_0x4f4179(0x1f0)]||(_0x2e650d[_0x4f4179(0x1f0)]={}),_0x2e650d[_0x4f4179(0x1f0)][_0xe5aa7e[_0x4f4179(0x7ad)]]=_0x224a04),_0x224a04;}throw new Error(_0x2092d2[_0x4f4179(0x80a)]);}catch(_0x96f11e){console[_0x4f4179(0x2a9)](_0x96f11e);const _0x3e4b5a=_0x96f11e instanceof Error?_0x96f11e[_0x4f4179(0x7c2)]:_0x4f4179(0x226);return _0x4ca27e&&_0x51537c&&_0x4f2e79&&await _0x3396a6[_0x4f4179(0x49a)]({'jobType':_0x1b7d31[_0x4f4179(0x885)],'type':_0x6f355d[_0x4f4179(0x183)],'jobId':_0x4ca27e,'blockId':_0x4f4179(0x9e7),'threadId':_0x4f2e79,'traceLevel':_0x4b3539[_0x4f4179(0x9e5)],'startTime':_0xcecb5b,'timestamp':Date['now'](),'agentId':_0x51537c,'status':'error','skillName':_0xe5aa7e[_0x4f4179(0x388)],'params':_0x4bcf3c??{},'result':_0x3e4b5a}),_0x3e4b5a;}}async function _0x551867(_0x542e29,_0x36aaee,_0x1e80d9,_0x5ce0ea=!0x0){const _0x2246b3=_0x45ef94,_0x40bd1a=_0x2246b3(0x2ee),_0x2894bf={'url':{'type':_0x29184c[_0x2246b3(0x18e)][_0x2246b3(0x730)]},'page':{'type':_0x29184c[_0x2246b3(0x18e)][_0x2246b3(0x6bf)]}};return await _0x3396a6[_0x2246b3(0x49a)]({'jobType':_0x1b7d31[_0x2246b3(0x4cd)],'type':_0x13077b[_0x2246b3(0xa55)],'jobId':_0x542e29,'agentId':_0x36aaee,'threadId':_0x1e80d9,'traceLevel':_0x4b3539[_0x2246b3(0x9e5)],'startTime':Date['now'](),'timestamp':Date[_0x2246b3(0x69)](),'status':_0x2246b3(0x6e2),'function':_0x6f355d[_0x2246b3(0x779)],'params':_0x2894bf,'functionDescription':_0x40bd1a}),{'description':_0x40bd1a,'params':_0x2894bf,'callback':async _0x17e768=>_0x2c71a5(_0x17e768,_0x5ce0ea,_0x542e29,_0x36aaee,_0x1e80d9)};}async function _0x2c71a5(_0x23d388,_0x29fa9f=!0x0,_0x39470e,_0x4ac3c0,_0x54857b){const _0xeab9b7=_0x45ef94,_0x230561=Date['now']();try{if('string'!=typeof _0x23d388?.[_0xeab9b7(0x7f5)])throw new Error(_0xeab9b7(0x87b));const _0x312775=_0x23d388[_0xeab9b7(0x7f5)];if([_0xeab9b7(0xb3),'.doc','.docx',_0xeab9b7(0xa10),'.pptx',_0xeab9b7(0x4b5),_0xeab9b7(0x1db)][_0xeab9b7(0x3d9)](_0xaa6eef=>_0x312775[_0xeab9b7(0x198)](_0xaa6eef)))throw new Error(_0xeab9b7(0x7f));const _0x2e5f7f=await fetch(_0x312775),_0x358b1a=await _0x2e5f7f[_0xeab9b7(0x1b7)]();let _0x278347=_0x358b1a;if(_0x29fa9f){const _0x5e8638=_0x358b1a['match'](/<body[^>]*>((.|[\n\r])*)<\/body>/i),_0x20939b=_0x5e8638?_0x5e8638[0x1]:_0x358b1a,_0x1127a4=_0x20939b[_0xeab9b7(0x94c)](/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,'')[_0xeab9b7(0x94c)](/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,'')[_0xeab9b7(0x94c)](/<br\s*\/?>/gi,'\x20')['replace'](/&nbsp;/g,'\x20');_0x278347=_0x1127a4['replace'](/<\/?[^>]+(>|$)/g,'')[_0xeab9b7(0x94c)](/\s\s+/g,'\x20')[_0xeab9b7(0x6e8)]();}const _0xf76769='number'==typeof _0x23d388[_0xeab9b7(0x1d2)]?_0x23d388['page']:0x1,_0x13c05c=Math[_0xeab9b7(0x5e3)](_0x278347[_0xeab9b7(0x453)]/_0x9820d3);return _0x278347[_0xeab9b7(0x453)]>_0x9820d3&&(_0x278347=_0x278347[_0xeab9b7(0x9ee)]((_0xf76769-0x1)*_0x9820d3,(_0xf76769-0x1)*_0x9820d3+_0x9820d3)+_0xeab9b7(0x53b)+(_0xf76769+0x1)+_0xeab9b7(0xad)+_0x13c05c+'.'),_0x39470e&&_0x4ac3c0&&_0x54857b&&await _0x3396a6['trace']({'jobType':_0x1b7d31['Skill'],'type':_0x6f355d[_0xeab9b7(0x779)],'jobId':_0x39470e,'agentId':_0x4ac3c0,'threadId':_0x54857b,'blockId':_0xeab9b7(0x6b),'traceLevel':_0x4b3539['Info'],'startTime':_0x230561,'timestamp':Date[_0xeab9b7(0x69)](),'status':_0x2e5f7f['ok']?'success':_0xeab9b7(0x2a9),'url':_0x23d388[_0xeab9b7(0x7f5)],'page':_0xf76769,'totalPages':_0x13c05c,'response':_0x278347}),_0x278347;}catch(_0x233bea){console['error'](_0x233bea);const _0x4c07ac=_0x233bea instanceof Error?_0x233bea[_0xeab9b7(0x7c2)]:'Error\x20fetching\x20URL';return _0x39470e&&_0x4ac3c0&&_0x54857b&&await _0x3396a6[_0xeab9b7(0x49a)]({'jobType':_0x1b7d31[_0xeab9b7(0x885)],'type':_0x6f355d[_0xeab9b7(0x779)],'jobId':_0x39470e,'blockId':_0xeab9b7(0x6b),'threadId':_0x54857b,'traceLevel':_0x4b3539[_0xeab9b7(0x9e5)],'startTime':_0x230561,'timestamp':Date[_0xeab9b7(0x69)](),'agentId':_0x4ac3c0,'status':_0xeab9b7(0x2a9),'errorDetails':_0x107c9a(_0x233bea),'url':_0x23d388?.[_0xeab9b7(0x7f5)]??'','page':0x0,'totalPages':0x0,'response':_0x4c07ac}),_0x4c07ac;}}async function _0xbd5434(_0x597bf9,_0x47cb1,_0x22ad17,_0x4d8bb3,_0x45d8d4){const _0x15964a=_0x45ef94,_0x383c4d=Date[_0x15964a(0x69)]();try{if(!_0x597bf9[_0x15964a(0x3d6)])throw new Error('Search\x20connector\x20not\x20set');if(_0x15964a(0x829)!=typeof _0x47cb1?.[_0x15964a(0x284)])throw new Error(_0x15964a(0x10a));const _0x3275bb=await _0x597bf9[_0x15964a(0x3d6)]['search'](_0x47cb1[_0x15964a(0x284)],_0x25dcd9['google'][_0x15964a(0xa3a)]);let _0x30d77f='';for(const _0x220d88 of _0x3275bb)_0x30d77f+=_0x220d88[_0x15964a(0x4e7)]+_0x15964a(0x4cc)+_0x220d88['url']+'\x0a'+_0x220d88['snippet']+'\x0a\x0a';return _0x22ad17&&_0x4d8bb3&&_0x45d8d4&&await _0x3396a6['trace']({'jobType':_0x1b7d31[_0x15964a(0x885)],'type':_0x6f355d[_0x15964a(0x35c)],'jobId':_0x22ad17,'agentId':_0x4d8bb3,'threadId':_0x45d8d4,'blockId':_0x15964a(0x97e),'traceLevel':_0x4b3539[_0x15964a(0x9e5)],'startTime':_0x383c4d,'timestamp':Date[_0x15964a(0x69)](),'status':_0x15964a(0x6e2),'query':_0x47cb1[_0x15964a(0x284)],'results':_0x30d77f}),_0x30d77f;}catch(_0x315554){return console[_0x15964a(0x2a9)](_0x315554),_0x22ad17&&_0x4d8bb3&&_0x45d8d4&&await _0x3396a6[_0x15964a(0x49a)]({'jobType':_0x1b7d31[_0x15964a(0x885)],'type':_0x6f355d[_0x15964a(0x35c)],'jobId':_0x22ad17,'blockId':_0x15964a(0x97e),'traceLevel':_0x4b3539['Info'],'startTime':_0x383c4d,'timestamp':Date[_0x15964a(0x69)](),'status':_0x15964a(0x2a9),'errorDetails':_0x107c9a(_0x315554),'agentId':_0x4d8bb3,'threadId':_0x45d8d4,'query':_0x47cb1?.[_0x15964a(0x284)]??'','results':_0x15964a(0x812)}),_0x315554 instanceof Error?_0x315554[_0x15964a(0x7c2)]:_0x15964a(0x812);}}async function _0x4dcc56(_0xd37185,_0x544446,_0x468c06,_0x3afe04,_0x588b91,_0x5105f4){const _0x5a0ece=_0x45ef94,_0x2c43c2='Execute\x20the\x20workflow\x20'+_0x588b91['description']+'\x20to\x20generate\x20a\x20response.',_0x479cf8={'prompt':{'type':_0x29184c[_0x5a0ece(0x18e)][_0x5a0ece(0x730)]}};return await _0x3396a6[_0x5a0ece(0x49a)]({'jobType':_0x1b7d31[_0x5a0ece(0x4cd)],'type':_0x13077b[_0x5a0ece(0xa55)],'jobId':_0xd37185,'agentId':_0x544446,'threadId':_0x468c06[_0x5a0ece(0x518)],'traceLevel':_0x4b3539['Info'],'startTime':Date[_0x5a0ece(0x69)](),'timestamp':Date[_0x5a0ece(0x69)](),'status':_0x5a0ece(0x6e2),'function':_0x6f355d[_0x5a0ece(0x53f)],'params':_0x479cf8,'functionDescription':_0x2c43c2}),{'description':_0x2c43c2,'params':_0x479cf8,'callback':async _0xffc607=>_0x1ae8a0(_0x468c06['vendorId'],_0x588b91,_0xffc607,_0x3afe04,_0xd37185,_0x544446,_0x468c06[_0x5a0ece(0x518)],_0x5105f4)};}async function _0x1ae8a0(_0xb29e92,_0x214ca0,_0x18a32f,_0x48e27a,_0x95f7a0,_0x119d9c,_0x4d74b5,_0x449a4e){const _0x4877d0=_0x45ef94,_0x5c5df7=Date[_0x4877d0(0x69)]();try{if(_0x4877d0(0x829)!=typeof _0x18a32f?.[_0x4877d0(0x119)])throw new Error('Prompt\x20is\x20required');let _0x53dcfa='';const _0x2808fe=_0x214ca0['contextInputVariable']?.[_0x4877d0(0x25b)](',')??[];let _0x55ee80=_0x18a32f[_0x4877d0(0x119)];for(const _0x1d951a of _0x2808fe){const _0x50c8c6=_0x48e27a?.[_0x4877d0(0x1f0)]?.[_0x1d951a];_0x50c8c6&&(_0x55ee80='<'+_0x1d951a+'>\x0a'+_0x50c8c6+_0x4877d0(0x604)+_0x1d951a+_0x4877d0(0x3ba)+_0x55ee80);}let _0x34a91c=[{'role':_0x4877d0(0x6ba),'content':_0x55ee80}];if(_0x449a4e&&_0x214ca0['shouldEmit']){const _0x41da79=await fetch(_0x25dcd9['apiUrl']+_0x4877d0(0x2d4)+_0x214ca0['workflowId']+_0x4877d0(0x321),{'method':_0x4877d0(0x57c),'headers':{'Accept':_0x4877d0(0x688),'Content-Type':_0x4877d0(0x2e4),'x-vendor-id':_0xb29e92},'body':JSON[_0x4877d0(0xa51)]({'model':_0x214ca0[_0x4877d0(0x3ef)],'messages':_0x34a91c,'max_completion_tokens':_0x214ca0['maxTokens'],'temperature':_0x214ca0['temperature'],'tools':_0x214ca0[_0x4877d0(0x3cb)],'structured_output':_0x214ca0[_0x4877d0(0x963)],'metadata':{'threadId':_0x4d74b5,'jobId':_0x95f7a0,'agentId':_0x119d9c,'context':{}},'stream':!0x0,'stream_options':{'include_usage':!0x0}})});if(!_0x41da79['ok']||!_0x41da79[_0x4877d0(0xa1a)])throw new Error('ReadableStream\x20is\x20not\x20supported');const _0x44ce5a=_0x41da79['body'][_0x4877d0(0x89c)](),_0x45c12f=new TextDecoder();let _0x40bed2=0x0,_0x3dd3dc=0x0,_0x13fba5='';for(;;){const {value:_0xe88423,done:_0x501494}=await _0x44ce5a[_0x4877d0(0x104)]();if(_0x501494)break;const _0x31f373=_0x45c12f[_0x4877d0(0x581)](_0xe88423,{'stream':!0x0});if(_0x4877d0(0x15f)===_0x31f373)break;const _0x285053=_0x31bb24(_0x31f373);for(const _0x18af5b of _0x285053)_0x18af5b[_0x4877d0(0x6b1)]&&_0x18af5b['choices'][0x0]&&(_0x13fba5+=_0x18af5b[_0x4877d0(0x6b1)][0x0][_0x4877d0(0x315)][_0x4877d0(0x2ec)],_0x40bed2+=_0x18af5b[_0x4877d0(0x2d2)]?.[_0x4877d0(0x718)]??0x0,_0x3dd3dc+=_0x18af5b[_0x4877d0(0x2d2)]?.[_0x4877d0(0x1bb)]??0x0,_0x48e27a&&(_0x48e27a[_0x4877d0(0x1f0)]={..._0x48e27a[_0x4877d0(0x1f0)],..._0x18af5b[_0x4877d0(0x86d)]}),_0x449a4e[_0x4877d0(0x948)]({'output':_0x18af5b[_0x4877d0(0x6b1)][0x0][_0x4877d0(0x315)]['content'],'type':'prompt'}),await _0x4f43db[_0x4877d0(0x7eb)](0x1));}_0x48e27a&&(_0x48e27a[_0x4877d0(0x15d)]=(_0x48e27a[_0x4877d0(0x15d)]??0x0)+_0x3dd3dc,_0x48e27a['inputTokens']=(_0x48e27a['inputTokens']??0x0)+_0x40bed2,_0x214ca0['contextOutputVariable']&&(_0x48e27a[_0x4877d0(0x1f0)]||(_0x48e27a[_0x4877d0(0x1f0)]={}),_0x48e27a[_0x4877d0(0x1f0)][_0x214ca0[_0x4877d0(0x7ad)]]=_0x13fba5)),_0x449a4e[_0x4877d0(0x948)]({'output':'\x0a\x0a','type':'prompt'}),await _0x4f43db[_0x4877d0(0x7eb)](0x1),_0x53dcfa=_0x4877d0(0x10d);}else{const _0x1041fd=fetch(_0x25dcd9[_0x4877d0(0x5d5)]+_0x4877d0(0x2d4)+_0x214ca0[_0x4877d0(0x927)]+_0x4877d0(0x321),{'method':_0x4877d0(0x57c),'headers':{'Content-Type':_0x4877d0(0x2e4),'x-vendor-id':_0xb29e92},'body':JSON[_0x4877d0(0xa51)]({'model':_0x214ca0[_0x4877d0(0x3ef)],'messages':_0x34a91c,'max_completion_tokens':_0x214ca0['maxTokens'],'temperature':_0x214ca0[_0x4877d0(0x400)],'tools':_0x214ca0['tools'],'structured_output':_0x214ca0['grammar'],'metadata':{'threadId':_0x4d74b5,'jobId':_0x95f7a0,'agentId':_0x119d9c,'context':{}}})});if(_0x214ca0[_0x4877d0(0x237)])return _0x4877d0(0x10d);const _0x25d904=await _0x1041fd,_0xd54ab3=await _0x25d904[_0x4877d0(0x5af)]();_0x53dcfa=_0xd54ab3[_0x4877d0(0x6b1)][0x0]['message'][_0x4877d0(0x2ec)],_0x48e27a&&(_0x48e27a['internalContext']={..._0x48e27a[_0x4877d0(0x1f0)],..._0xd54ab3[_0x4877d0(0x86d)]},_0x48e27a[_0x4877d0(0x15d)]=(_0x48e27a['outputTokens']??0x0)+_0xd54ab3['usage'][_0x4877d0(0x2ff)],_0x48e27a['inputTokens']=(_0x48e27a[_0x4877d0(0xa50)]??0x0)+_0xd54ab3[_0x4877d0(0x2d2)][_0x4877d0(0x1cb)],_0x214ca0[_0x4877d0(0x7ad)]&&(_0x48e27a[_0x4877d0(0x1f0)]||(_0x48e27a[_0x4877d0(0x1f0)]={}),_0x48e27a[_0x4877d0(0x1f0)][_0x214ca0[_0x4877d0(0x7ad)]]=_0x53dcfa));}if(_0x4877d0(0x829)!=typeof _0x53dcfa)throw new Error(_0x4877d0(0x5b2));return _0x95f7a0&&_0x119d9c&&_0x4d74b5&&await _0x3396a6[_0x4877d0(0x49a)]({'jobType':_0x1b7d31[_0x4877d0(0x885)],'type':_0x6f355d[_0x4877d0(0x53f)],'jobId':_0x95f7a0,'blockId':'workflow','agentId':_0x119d9c,'threadId':_0x4d74b5,'traceLevel':_0x4b3539[_0x4877d0(0x9e5)],'startTime':_0x5c5df7,'timestamp':Date[_0x4877d0(0x69)](),'status':_0x4877d0(0x6e2),'workflowName':_0x214ca0['name'],'prompt':_0x18a32f[_0x4877d0(0x119)],'result':_0x53dcfa,'inputTokens':0x0,'outputTokens':0x0}),_0x53dcfa;}catch(_0x4df1f8){if(console[_0x4877d0(0x2a9)](_0x4df1f8),_0x95f7a0&&_0x119d9c&&_0x4d74b5&&await _0x3396a6[_0x4877d0(0x49a)]({'jobType':_0x1b7d31[_0x4877d0(0x885)],'type':_0x6f355d[_0x4877d0(0x53f)],'jobId':_0x95f7a0,'blockId':_0x4877d0(0xa2b),'agentId':_0x119d9c,'threadId':_0x4d74b5,'traceLevel':_0x4b3539[_0x4877d0(0x9e5)],'startTime':_0x5c5df7,'timestamp':Date[_0x4877d0(0x69)](),'status':_0x4877d0(0x2a9),'errorDetails':_0x107c9a(_0x4df1f8),'workflowName':_0x214ca0[_0x4877d0(0x388)],'prompt':_0x18a32f?.['prompt']??'','result':'','inputTokens':0x0,'outputTokens':0x0}),_0x4df1f8 instanceof Error)throw _0x4df1f8;throw new Error('Unknown\x20error\x20occurred\x20while\x20executing\x20workflow');}}async function _0x3e6588(_0x18c67d,_0x4b5478,_0x41e99a,_0x33cea7,_0x765eef){const _0x4ec31b=_0x45ef94;return await _0x3396a6[_0x4ec31b(0x49a)]({'jobType':_0x1b7d31[_0x4ec31b(0x4cd)],'type':_0x13077b[_0x4ec31b(0xa55)],'jobId':_0x18c67d,'agentId':_0x4b5478,'threadId':_0x41e99a,'traceLevel':_0x4b3539[_0x4ec31b(0x9e5)],'startTime':Date['now'](),'timestamp':Date[_0x4ec31b(0x69)](),'status':_0x4ec31b(0x6e2),'function':_0x6f355d[_0x4ec31b(0x845)],'params':{},'functionDescription':_0x4ec31b(0x5d2)}),{'description':'Retrieve\x20the\x20current\x20question\x20from\x20the\x20form.','params':{},'callback':async()=>_0x1420f9(_0x765eef,_0x33cea7,_0x18c67d,_0x4b5478,_0x41e99a)};}async function _0x1420f9(_0x2815fd,_0x1abc14,_0x3f0732,_0x1ec14f,_0x2b80c0){const _0x21b017=_0x45ef94,_0x5b1846=Date[_0x21b017(0x69)]();let _0x25e4b2=_0x2815fd[_0x21b017(0x388)][_0x21b017(0x94c)](/[^a-zA-Z]/g,'');_0x25e4b2[_0x21b017(0x1a2)](_0x21b017(0x306))&&(_0x25e4b2=_0x25e4b2[_0x21b017(0x94c)]('getQuestion',''));const _0x445510='question-'+_0x25e4b2;let _0x50cf5d=0x0;_0x1abc14&&(_0x50cf5d=parseInt(_0x1abc14['internalContext']?.[_0x445510]??'0'));const _0x1e170a=_0x2815fd[_0x21b017(0x866)]||[];if(_0x50cf5d>=_0x1e170a['length'])return JSON[_0x21b017(0xa51)]({'error':_0x21b017(0x1ba)});const _0x29a0d8=_0x1e170a[_0x50cf5d];return _0x3f0732&&_0x1ec14f&&_0x2b80c0&&await _0x3396a6[_0x21b017(0x49a)]({'jobType':_0x1b7d31[_0x21b017(0x885)],'type':_0x6f355d['FormGetQuestion'],'jobId':_0x3f0732,'agentId':_0x1ec14f,'threadId':_0x2b80c0,'blockId':'form-skill-get-question','traceLevel':_0x4b3539[_0x21b017(0x9e5)],'startTime':_0x5b1846,'timestamp':Date[_0x21b017(0x69)](),'status':'success','question':_0x29a0d8[_0x21b017(0x121)],'currentQuestionIndex':_0x50cf5d,'questions':_0x1e170a['map'](_0x466595=>_0x466595[_0x21b017(0x121)])}),JSON[_0x21b017(0xa51)]({'id':_0x29a0d8['id'],'question':_0x29a0d8[_0x21b017(0x121)],'validation':_0x29a0d8[_0x21b017(0x147)],'required':_0x29a0d8[_0x21b017(0x681)],'format':_0x29a0d8[_0x21b017(0x4a9)],'action':_0x21b017(0x6ce)});}async function _0x502720(_0x3c2de1,_0x1c8858,_0x4e00f6,_0xe103a2,_0x3df758){const _0x4e2065=_0x45ef94;return await _0x3396a6[_0x4e2065(0x49a)]({'jobType':_0x1b7d31['JobContext'],'type':_0x13077b['LoadSkillFunction'],'jobId':_0x3c2de1,'agentId':_0x1c8858,'threadId':_0x4e00f6,'traceLevel':_0x4b3539[_0x4e2065(0x9e5)],'startTime':Date[_0x4e2065(0x69)](),'timestamp':Date[_0x4e2065(0x69)](),'status':'success','function':_0x6f355d[_0x4e2065(0x762)],'params':{},'functionDescription':_0x4e2065(0x55d)}),{'description':_0x4e2065(0x55d),'params':{'id':{'type':_0x29184c[_0x4e2065(0x18e)][_0x4e2065(0x730)]},'answer':{'type':_0x29184c['PromptFunctionParamsType'][_0x4e2065(0x730)]}},'callback':async _0x3177dd=>_0x4a3769(_0x3df758,_0x3177dd,_0xe103a2,_0x3c2de1,_0x1c8858,_0x4e00f6)};}async function _0x4a3769(_0x3c7c38,_0x479f93,_0x3fb379,_0x480c32,_0x11d4dc,_0x4112e4){const _0x32e8a8=_0x45ef94,_0x3583ca=Date[_0x32e8a8(0x69)]();let _0x3dd39e=_0x3c7c38[_0x32e8a8(0x388)]['replace'](/[^a-zA-Z]/g,'');_0x3dd39e[_0x32e8a8(0x1a2)]('setAnswer')&&(_0x3dd39e=_0x3dd39e['replace'](_0x32e8a8(0x50a),''));const _0xeeffdb=_0x32e8a8(0x2dd)+_0x3dd39e,_0x566b09=_0x3c7c38[_0x32e8a8(0x866)]||[];let _0x3f1251=0x0;if(_0x3fb379&&(_0x3f1251=parseInt(_0x3fb379[_0x32e8a8(0x1f0)]?.[_0xeeffdb]??'0')),!_0x479f93?.['id']||_0x32e8a8(0x829)!=typeof _0x479f93['id'])return JSON[_0x32e8a8(0xa51)]({'error':_0x32e8a8(0x59f)});const _0x41ca89=_0x566b09[_0x32e8a8(0x786)](_0x1484de=>_0x1484de['id']===_0x479f93['id']);if(!_0x41ca89)return JSON['stringify']({'error':_0x32e8a8(0x1fd)});if(!_0x479f93?.['answer']||_0x32e8a8(0x829)!=typeof _0x479f93[_0x32e8a8(0x33b)])return JSON[_0x32e8a8(0xa51)]({'error':_0x32e8a8(0x19a)});if(_0x3fb379){_0x3fb379['internalContext']||(_0x3fb379[_0x32e8a8(0x1f0)]={});const _0x24c46e=_0x32e8a8(0x7e6)+_0x3dd39e,_0x1741af=_0x24c46e+'-'+_0x479f93['id'];_0x3fb379[_0x32e8a8(0x1f0)][_0x1741af]=_0x479f93['answer'];for(let _0x25253e=0x0;_0x25253e<_0x566b09[_0x32e8a8(0x453)];_0x25253e++){const _0xf7931e=_0x3fb379['internalContext']?.[_0x24c46e+'-'+_0x566b09[_0x25253e]['id']];if(_0x25253e!==_0x3f1251&&!_0xf7931e){_0x3f1251=_0x25253e;break;}}_0x3fb379[_0x32e8a8(0x1f0)][_0xeeffdb]=_0x3f1251[_0x32e8a8(0x70f)]();}return _0x480c32&&_0x11d4dc&&_0x4112e4&&await _0x3396a6[_0x32e8a8(0x49a)]({'jobType':_0x1b7d31[_0x32e8a8(0x885)],'type':_0x6f355d[_0x32e8a8(0x762)],'jobId':_0x480c32,'agentId':_0x11d4dc,'threadId':_0x4112e4,'blockId':'form-skill-set-answer','traceLevel':_0x4b3539['Info'],'startTime':_0x3583ca,'timestamp':Date[_0x32e8a8(0x69)](),'status':'success','question':_0x41ca89[_0x32e8a8(0x121)],'answer':_0x479f93[_0x32e8a8(0x33b)],'currentQuestionIndex':_0x3f1251,'questions':_0x566b09[_0x32e8a8(0x1f8)](_0x401cf7=>_0x401cf7[_0x32e8a8(0x121)])}),JSON['stringify']({'success':'Call\x20getQuestion\x20to\x20get\x20the\x20next\x20question'});}async function _0x8d6428(_0x1c957f,_0x5624f3,_0x12bce6,_0x2c7123,_0x5b0244){const _0x49817d=_0x45ef94,_0x37c7be=_0x49817d(0x9f2);return await _0x3396a6[_0x49817d(0x49a)]({'jobType':_0x1b7d31[_0x49817d(0x4cd)],'type':_0x13077b[_0x49817d(0xa55)],'jobId':_0x1c957f,'agentId':_0x5624f3,'threadId':_0x12bce6,'traceLevel':_0x4b3539[_0x49817d(0x9e5)],'startTime':Date[_0x49817d(0x69)](),'timestamp':Date[_0x49817d(0x69)](),'status':'success','function':_0x6f355d[_0x49817d(0x40d)],'params':{},'functionDescription':_0x37c7be}),{'description':_0x37c7be,'params':{},'callback':async()=>_0x5f4249(_0x5b0244,_0x2c7123,_0x1c957f,_0x5624f3,_0x12bce6)};}async function _0x5f4249(_0x44801b,_0x4a55ce,_0x5b685c,_0x3b5cf1,_0x49330c){const _0x2b62bc=_0x45ef94;let _0x8a5e1b=_0x44801b['name'][_0x2b62bc(0x94c)](/[^a-zA-Z]/g,'');_0x8a5e1b[_0x2b62bc(0x1a2)](_0x2b62bc(0x325))&&(_0x8a5e1b=_0x8a5e1b['replace'](_0x2b62bc(0x325),''));const _0x439c77=_0x44801b[_0x2b62bc(0x866)]||[],_0x2abc34={};if(!_0x4a55ce)return JSON['stringify']({'error':_0x2b62bc(0x465)});for(let _0x3b909f=0x0;_0x3b909f<_0x439c77[_0x2b62bc(0x453)];_0x3b909f++){const _0x38b48b=_0x4a55ce[_0x2b62bc(0x1f0)]?.[_0x2b62bc(0x7e6)+_0x8a5e1b+'-'+_0x439c77[_0x3b909f]['id']];if(_0x439c77[_0x3b909f]['required']&&!_0x38b48b)return JSON[_0x2b62bc(0xa51)]({'error':'Form\x20is\x20not\x20completed,\x20call\x20setAnswer\x20first'});_0x2abc34[_0x439c77[_0x3b909f]['id']]=_0x38b48b;}return _0x4a55ce&&_0x44801b[_0x2b62bc(0x7ad)]&&(_0x4a55ce['internalContext']||(_0x4a55ce[_0x2b62bc(0x1f0)]={}),_0x4a55ce['internalContext'][_0x44801b[_0x2b62bc(0x7ad)]]=JSON[_0x2b62bc(0xa51)](_0x2abc34)),_0x5b685c&&_0x3b5cf1&&_0x49330c&&await _0x3396a6['trace']({'jobType':_0x1b7d31[_0x2b62bc(0x885)],'type':_0x6f355d[_0x2b62bc(0x40d)],'jobId':_0x5b685c,'agentId':_0x3b5cf1,'threadId':_0x49330c,'blockId':'form-skill-submit-form','traceLevel':_0x4b3539[_0x2b62bc(0x9e5)],'startTime':Date['now'](),'timestamp':Date[_0x2b62bc(0x69)](),'status':_0x2b62bc(0x6e2),'answers':_0x2abc34}),JSON[_0x2b62bc(0xa51)]({'success':!0x0});}async function _0x439447(_0x49052a,_0x598730,_0x1de24a,_0x31b198,_0xb0f21b,_0x58a50a,_0x35016c){const _0x5732e3=_0x45ef94,_0x12cefc=new Map();for(const _0x21dcba of _0xb0f21b)_0x21dcba['type']===_0x29184c[_0x5732e3(0x5f2)][_0x5732e3(0x744)]||_0x21dcba['type']===_0x29184c[_0x5732e3(0x5f2)][_0x5732e3(0x934)]?_0x12cefc['set'](_0x5732e3(0x667)+_0x21dcba[_0x5732e3(0x388)][_0x5732e3(0x94c)](/[^a-zA-Z]/g,''),await _0x4e512d(_0x49052a,_0x598730,_0x1de24a,_0x31b198,_0x21dcba)):_0x21dcba['type']===_0x29184c[_0x5732e3(0x5f2)]['AgentSkill']||_0x21dcba[_0x5732e3(0x6e1)]===_0x29184c['GenerativeAIInferenceToolType'][_0x5732e3(0x767)]?_0x12cefc[_0x5732e3(0x2b3)](_0x5732e3(0x693)+_0x21dcba['name'][_0x5732e3(0x94c)](/[^a-zA-Z]/g,''),await _0x3d65ae(_0x49052a,_0x598730,_0x1de24a,_0x31b198,_0x21dcba,_0x58a50a,_0x35016c)):_0x21dcba['type']===_0x29184c[_0x5732e3(0x5f2)][_0x5732e3(0x993)]?_0x12cefc[_0x5732e3(0x2b3)](_0x5732e3(0x6f8)+_0x21dcba[_0x5732e3(0x388)][_0x5732e3(0x94c)](/[^a-zA-Z]/g,''),await _0x4dcc56(_0x49052a,_0x598730,_0x1de24a,_0x31b198,_0x21dcba,_0x35016c)):_0x21dcba[_0x5732e3(0x6e1)]===_0x29184c[_0x5732e3(0x5f2)][_0x5732e3(0x281)]?_0x12cefc[_0x5732e3(0x2b3)](_0x21dcba[_0x5732e3(0x388)][_0x5732e3(0x94c)](/[^a-zA-Z]/g,''),await _0x1a3c01(_0x49052a,_0x598730,_0x1de24a[_0x5732e3(0x518)],_0x31b198,_0x21dcba)):_0x21dcba[_0x5732e3(0x6e1)]===_0x29184c['GenerativeAIInferenceToolType'][_0x5732e3(0x92d)]?_0x12cefc['set'](_0x5732e3(0x306)+_0x21dcba[_0x5732e3(0x388)][_0x5732e3(0x94c)](/[^a-zA-Z]/g,''),await _0x3e6588(_0x49052a,_0x598730,_0x1de24a[_0x5732e3(0x518)],_0x31b198,_0x21dcba)):_0x21dcba[_0x5732e3(0x6e1)]===_0x29184c[_0x5732e3(0x5f2)][_0x5732e3(0x733)]?_0x12cefc['set'](_0x5732e3(0x50a)+_0x21dcba[_0x5732e3(0x388)][_0x5732e3(0x94c)](/[^a-zA-Z]/g,''),await _0x502720(_0x49052a,_0x598730,_0x1de24a[_0x5732e3(0x518)],_0x31b198,_0x21dcba)):_0x21dcba[_0x5732e3(0x6e1)]===_0x29184c[_0x5732e3(0x5f2)][_0x5732e3(0xd6)]?_0x12cefc[_0x5732e3(0x2b3)](_0x5732e3(0x325)+_0x21dcba[_0x5732e3(0x388)][_0x5732e3(0x94c)](/[^a-zA-Z]/g,''),await _0x8d6428(_0x49052a,_0x598730,_0x1de24a[_0x5732e3(0x518)],_0x31b198,_0x21dcba)):_0x12cefc[_0x5732e3(0x2b3)](_0x36f465(_0x21dcba),await _0x16753a(_0x49052a,_0x598730,_0x1de24a[_0x5732e3(0x518)],_0x31b198,_0x21dcba,_0x58a50a));return _0x12cefc;}function _0x36f465(_0x4ca736){const _0x5f4ceb=_0x45ef94;switch(_0x4ca736['type']){case _0x29184c['GenerativeAIInferenceToolType']['AISearch']:return _0x5f4ceb(0xf4);case _0x29184c['GenerativeAIInferenceToolType'][_0x5f4ceb(0x7a3)]:return _0x5f4ceb(0x454);case _0x29184c[_0x5f4ceb(0x5f2)]['QueryFile']:return _0x5f4ceb(0x463);case _0x29184c[_0x5f4ceb(0x5f2)][_0x5f4ceb(0x81a)]:return _0x5f4ceb(0xa5a);case _0x29184c['GenerativeAIInferenceToolType'][_0x5f4ceb(0x946)]:case _0x29184c[_0x5f4ceb(0x5f2)]['WebScraperRaw']:return _0x5f4ceb(0x94d);case _0x29184c[_0x5f4ceb(0x5f2)][_0x5f4ceb(0x55c)]:return _0x5f4ceb(0x50e);}throw new Error('Unknown\x20skill\x20type');}async function _0x16753a(_0x25d2f6,_0x224dc7,_0x328c05,_0x628ad3,_0x19fa94,_0x165f6b){const _0x33a8e5=_0x45ef94;switch(_0x19fa94[_0x33a8e5(0x6e1)]){case _0x29184c['GenerativeAIInferenceToolType']['AISearch']:return async function(_0x1bb0b6,_0x48f4a1,_0x17b13c,_0x47a620,_0x1ae825){const _0xcd043f=_0x33a8e5,_0x4f4923=_0xcd043f(0x25e),_0x2fcf64={'query':{'type':_0x29184c[_0xcd043f(0x18e)][_0xcd043f(0x730)]}};return await _0x3396a6['trace']({'jobType':_0x1b7d31['JobContext'],'type':_0x13077b['LoadSkillFunction'],'jobId':_0x1bb0b6,'agentId':_0x48f4a1,'threadId':_0x17b13c,'traceLevel':_0x4b3539[_0xcd043f(0x9e5)],'startTime':Date[_0xcd043f(0x69)](),'timestamp':Date[_0xcd043f(0x69)](),'status':_0xcd043f(0x6e2),'function':_0x6f355d[_0xcd043f(0x22f)],'params':_0x2fcf64,'functionDescription':_0x4f4923}),{'description':_0x4f4923,'params':_0x2fcf64,'callback':async _0x4360b6=>_0x21a60f(_0x47a620,_0x1ae825,_0x4360b6,_0x1bb0b6,_0x48f4a1,_0x17b13c)};}(_0x25d2f6,_0x224dc7,_0x328c05,_0x19fa94,_0x165f6b);case _0x29184c['GenerativeAIInferenceToolType'][_0x33a8e5(0x7a3)]:return async function(_0x1a9d68,_0x2365a7,_0xc6934c){const _0x1e1e99=_0x33a8e5,_0xeb1f1a=_0x1e1e99(0x94f),_0x314d83={'code':{'type':_0x29184c[_0x1e1e99(0x18e)][_0x1e1e99(0x730)]}};return await _0x3396a6[_0x1e1e99(0x49a)]({'jobType':_0x1b7d31[_0x1e1e99(0x4cd)],'type':_0x13077b[_0x1e1e99(0xa55)],'jobId':_0x1a9d68,'agentId':_0x2365a7,'threadId':_0xc6934c,'traceLevel':_0x4b3539['Info'],'startTime':Date[_0x1e1e99(0x69)](),'timestamp':Date[_0x1e1e99(0x69)](),'status':_0x1e1e99(0x6e2),'function':_0x6f355d[_0x1e1e99(0x8ca)],'params':_0x314d83,'functionDescription':_0xeb1f1a}),{'description':_0xeb1f1a,'params':_0x314d83,'callback':async _0x501133=>_0x4e729f(_0x501133,_0x1a9d68,_0x2365a7,_0xc6934c)};}(_0x25d2f6,_0x224dc7,_0x328c05);case _0x29184c[_0x33a8e5(0x5f2)][_0x33a8e5(0x98b)]:return async function(_0x5b7a89,_0x62ab27,_0x463be5,_0x390517,_0x77647c){const _0x1d11f0=_0x33a8e5,_0x1a874e=[',',';','\x09','|',':'],_0x37671b=['\x22','\x27'];let _0x366323='';if('text/csv'===_0x390517[_0x1d11f0(0x1f0)]?.[_0x1d11f0(0x907)]&&_0x390517[_0x1d11f0(0x1f0)]?.['file.content']&&(_0x366323=_0x390517['internalContext'][_0x1d11f0(0x597)]),''===_0x366323)throw new Error('No\x20file\x20content\x20found');const _0x4bea11=_0x366323[_0x1d11f0(0x25b)]('\x0a')[0x0];let _0x4adcf9=null,_0x59414c=null,_0x1bb5ef=0x0;for(const _0xbc61a6 of _0x1a874e){const _0x1adb5e=(_0x4bea11[_0x1d11f0(0x9eb)](new RegExp('\x5c'+_0xbc61a6,'g'))||[])['length'];_0x1adb5e>_0x1bb5ef&&(_0x1bb5ef=_0x1adb5e,_0x4adcf9=_0xbc61a6);}_0x4adcf9||(_0x4adcf9=','),_0x1bb5ef=0x0;for(const _0x5c25f5 of _0x37671b){const _0x7cfc2c=(_0x4bea11[_0x1d11f0(0x9eb)](new RegExp('\x5c'+_0x5c25f5,'g'))||[])[_0x1d11f0(0x453)];_0x7cfc2c>_0x1bb5ef&&(_0x1bb5ef=_0x7cfc2c,_0x59414c=_0x5c25f5);}_0x59414c||(_0x59414c='\x22');const _0x5c4d3c=_0x1d11f0(0x2b1)+_0x4bea11[_0x1d11f0(0x25b)](_0x4adcf9)[_0x1d11f0(0x981)](',\x20'),_0x2b00f9={'query':{'type':_0x29184c['PromptFunctionParamsType'][_0x1d11f0(0x730)]}};return await _0x3396a6[_0x1d11f0(0x49a)]({'jobType':_0x1b7d31[_0x1d11f0(0x4cd)],'type':_0x13077b[_0x1d11f0(0xa55)],'jobId':_0x5b7a89,'agentId':_0x62ab27,'threadId':_0x463be5,'traceLevel':_0x4b3539['Info'],'startTime':Date[_0x1d11f0(0x69)](),'timestamp':Date[_0x1d11f0(0x69)](),'status':_0x1d11f0(0x6e2),'function':_0x6f355d['QueryFile'],'params':_0x2b00f9,'functionDescription':_0x5c4d3c}),{'description':_0x5c4d3c,'params':_0x2b00f9,'callback':async _0x836e19=>{const _0x4f1608=_0x1d11f0,_0x4dc0d7=Date[_0x4f1608(0x69)]();try{if(!_0x77647c[_0x4f1608(0x1e5)])throw new Error(_0x4f1608(0x961));if(_0x4f1608(0x829)!=typeof _0x836e19?.[_0x4f1608(0x284)])throw new Error('Query\x20is\x20required');if(!_0x836e19[_0x4f1608(0x284)][_0x4f1608(0x62f)](_0x4f1608(0x69d)))throw new Error(_0x4f1608(0x7f0));const _0x59f352=await _0x77647c[_0x4f1608(0x1e5)][_0x4f1608(0x26e)](_0x366323,_0x836e19[_0x4f1608(0x284)],{'headers':!0x0,'quote':_0x59414c,'separator':_0x4adcf9});await _0x3396a6['trace']({'jobType':_0x1b7d31[_0x4f1608(0x885)],'type':_0x6f355d[_0x4f1608(0x98b)],'jobId':_0x5b7a89,'agentId':_0x62ab27,'threadId':_0x463be5,'blockId':_0x4f1608(0x696),'traceLevel':_0x4b3539[_0x4f1608(0x9e5)],'startTime':_0x4dc0d7,'timestamp':Date[_0x4f1608(0x69)](),'status':_0x4f1608(0x6e2),'query':_0x836e19[_0x4f1608(0x284)],'results':_0x59f352[_0x4f1608(0x9ee)](0x0,0x3e8)});const _0x9d78f4=JSON[_0x4f1608(0x562)](_0x59f352);let _0x242d92='';if(_0x9d78f4[_0x4f1608(0x453)]>0x0){const _0x5e77e6=Object['keys'](_0x9d78f4[0x0]);_0x242d92=_0x5e77e6['map'](_0x5f01ca=>'\x22'+_0x5f01ca+'\x22')['join'](',')+'\x0a';for(const _0x571b12 of _0x9d78f4)_0x242d92+=_0x5e77e6[_0x4f1608(0x1f8)](_0xfd5f89=>'\x22'+_0x571b12[_0xfd5f89]+'\x22')[_0x4f1608(0x981)](',')+'\x0a';}return _0x390517[_0x4f1608(0x1f0)]||(_0x390517[_0x4f1608(0x1f0)]={}),_0x390517[_0x4f1608(0x1f0)][_0x4f1608(0x597)]=_0x242d92,_0x390517['internalContext'][_0x4f1608(0x907)]=_0x4f1608(0x897),_0x59f352['substring'](0x0,0x3e8);}catch(_0x2b7a88){return console[_0x4f1608(0x2a9)](_0x2b7a88),await _0x3396a6['trace']({'jobType':_0x1b7d31[_0x4f1608(0x885)],'type':_0x6f355d[_0x4f1608(0x98b)],'jobId':_0x5b7a89,'blockId':_0x4f1608(0x696),'traceLevel':_0x4b3539[_0x4f1608(0x9e5)],'startTime':_0x4dc0d7,'timestamp':Date[_0x4f1608(0x69)](),'status':_0x4f1608(0x2a9),'errorDetails':_0x107c9a(_0x2b7a88),'agentId':_0x62ab27,'threadId':_0x463be5,'query':_0x836e19?.[_0x4f1608(0x284)]??'','results':_0x4f1608(0x812)}),_0x2b7a88 instanceof Error?_0x2b7a88[_0x4f1608(0x7c2)]:_0x4f1608(0x8f0);}}};}(_0x25d2f6,_0x224dc7,_0x328c05,_0x628ad3,_0x165f6b);case _0x29184c[_0x33a8e5(0x5f2)][_0x33a8e5(0x81a)]:return async function(_0x17fcec,_0x2134c9,_0xa71617,_0x34ef89){const _0x5724a1=_0x33a8e5,_0x389ff7=_0x5724a1(0x5bd),_0x4b106a={'query':{'type':_0x29184c[_0x5724a1(0x18e)]['String']}};return await _0x3396a6[_0x5724a1(0x49a)]({'jobType':_0x1b7d31[_0x5724a1(0x4cd)],'type':_0x13077b['LoadSkillFunction'],'jobId':_0x17fcec,'agentId':_0x2134c9,'threadId':_0xa71617,'traceLevel':_0x4b3539[_0x5724a1(0x9e5)],'startTime':Date['now'](),'timestamp':Date['now'](),'status':'success','function':_0x6f355d[_0x5724a1(0x35c)],'params':_0x4b106a,'functionDescription':_0x389ff7}),{'description':_0x389ff7,'params':_0x4b106a,'callback':async _0x5aefed=>_0xbd5434(_0x34ef89,_0x5aefed,_0x17fcec,_0x2134c9,_0xa71617)};}(_0x25d2f6,_0x224dc7,_0x328c05,_0x165f6b);case _0x29184c[_0x33a8e5(0x5f2)]['WebScraper']:return _0x551867(_0x25d2f6,_0x224dc7,_0x328c05);case _0x29184c[_0x33a8e5(0x5f2)][_0x33a8e5(0x47d)]:return _0x551867(_0x25d2f6,_0x224dc7,_0x328c05,!0x1);case _0x29184c[_0x33a8e5(0x5f2)][_0x33a8e5(0x55c)]:return async function(_0x694a73,_0x1a1f0a,_0x353668,_0x5cc990){const _0x19afb4=_0x33a8e5,_0x5047ff=_0x19afb4(0x9dc),_0x307955={'text':{'type':_0x29184c['PromptFunctionParamsType']['String']}};return await _0x3396a6[_0x19afb4(0x49a)]({'jobType':_0x1b7d31[_0x19afb4(0x4cd)],'type':_0x13077b['LoadSkillFunction'],'jobId':_0x694a73,'agentId':_0x1a1f0a,'threadId':_0x353668,'traceLevel':_0x4b3539[_0x19afb4(0x9e5)],'startTime':Date[_0x19afb4(0x69)](),'timestamp':Date[_0x19afb4(0x69)](),'status':_0x19afb4(0x6e2),'function':_0x6f355d['WriteFile'],'params':_0x307955,'functionDescription':_0x5047ff}),{'description':_0x5047ff,'params':_0x307955,'callback':async _0x500b05=>{const _0x414c40=_0x19afb4,_0x1341bc=Date['now']();try{if('string'!=typeof _0x500b05?.[_0x414c40(0x1b7)])throw new Error(_0x414c40(0x9c6));return await _0x3396a6[_0x414c40(0x49a)]({'jobType':_0x1b7d31[_0x414c40(0x885)],'type':_0x6f355d[_0x414c40(0x55c)],'jobId':_0x694a73,'agentId':_0x1a1f0a,'threadId':_0x353668,'blockId':_0x414c40(0x90a),'traceLevel':_0x4b3539[_0x414c40(0x9e5)],'startTime':_0x1341bc,'timestamp':Date['now'](),'status':_0x414c40(0x6e2),'content':_0x500b05['text']}),_0x5cc990[_0x414c40(0x1f0)]||(_0x5cc990['internalContext']={}),_0x5cc990[_0x414c40(0x1f0)][_0x414c40(0x597)]=_0x500b05[_0x414c40(0x1b7)],_0x5cc990[_0x414c40(0x1f0)][_0x414c40(0x907)]=_0x414c40(0x515),'Done';}catch(_0x24e7d7){return console[_0x414c40(0x2a9)](_0x24e7d7),await _0x3396a6['trace']({'jobType':_0x1b7d31[_0x414c40(0x885)],'type':_0x6f355d['WriteFile'],'jobId':_0x694a73,'blockId':_0x414c40(0x90a),'traceLevel':_0x4b3539[_0x414c40(0x9e5)],'startTime':_0x1341bc,'timestamp':Date[_0x414c40(0x69)](),'status':_0x414c40(0x2a9),'errorDetails':_0x107c9a(_0x24e7d7),'agentId':_0x1a1f0a,'threadId':_0x353668,'content':_0x414c40(0x829)==typeof _0x500b05?.[_0x414c40(0x1b7)]?_0x500b05['text']:''}),_0x24e7d7 instanceof Error?_0x24e7d7['message']:'Error\x20writing\x20file';}}};}(_0x25d2f6,_0x224dc7,_0x328c05,_0x628ad3);}throw new Error(_0x33a8e5(0x526));}function _0x107c9a(_0x199de1){const _0x3be08f=_0x45ef94;try{return JSON[_0x3be08f(0xa51)](_0x199de1);}catch(_0x12f72e){return _0x199de1 instanceof Error?_0x199de1[_0x3be08f(0x70f)]():'Error\x20fetching\x20context';}}async function _0x45b598(_0x4926c5,_0x36bf5c,_0xe70255,_0x338e95,_0x29e1f7,_0x5d28a4){const _0x30f62e=_0x45ef94,_0x55c9da=Date['now']();if(!_0x5d28a4[_0x30f62e(0x480)][_0x30f62e(0x786)](_0x1c2dad=>_0x1c2dad['id']===_0x338e95[_0x30f62e(0x3ef)]))throw new Error(_0x30f62e(0x4e5));const _0x2b76d7=(0x0,_0xa305bc['v4'])(),_0x462ac0=[];_0x462ac0[_0x30f62e(0x59e)]({'role':_0x30f62e(0x796),'content':_0x338e95['instructions']}),_0x462ac0[_0x30f62e(0x59e)]({'role':_0x30f62e(0x6ba),'content':_0xe70255});const _0x9daf2a=await fetch(_0x25dcd9['apiUrl']+_0x30f62e(0x321),{'method':_0x30f62e(0x57c),'headers':{'Content-Type':_0x30f62e(0x2e4),'x-vendor-id':_0x4926c5},'body':JSON[_0x30f62e(0xa51)]({'model':_0x338e95['modelId'],'messages':_0x462ac0,'max_completion_tokens':_0x338e95['maxTokens'],'temperature':_0x338e95[_0x30f62e(0x400)],'threadId':_0x2b76d7})}),_0x402fc4=(await _0x9daf2a[_0x30f62e(0x5af)]())[_0x30f62e(0x6b1)][0x0][_0x30f62e(0x7c2)]['content'];await _0x3396a6['trace']({'jobType':_0x1b7d31[_0x30f62e(0x149)],'type':_0x129d86[_0x30f62e(0x767)],'jobId':_0x36bf5c,'blockId':_0x338e95['id'],'traceLevel':_0x4b3539[_0x30f62e(0x728)],'timestamp':Date[_0x30f62e(0x69)](),'startTime':_0x55c9da,'status':_0x30f62e(0x6e2),'agentId':_0x2b76d7,'content':_0xe70255,'instructions':_0x338e95[_0x30f62e(0x68e)],'result':_0x402fc4});const _0x179d3b=[];if(_0x338e95[_0x30f62e(0x137)]?.[_0x30f62e(0x3d9)](_0x5c5364=>_0x5c5364[_0x30f62e(0x6e1)]===_0x26e9fd[_0x30f62e(0x538)]))return _0x179d3b[_0x30f62e(0x59e)]({'content':_0x402fc4,'start':0x0,'length':_0x402fc4[_0x30f62e(0x453)]}),await _0x32ed9e(_0x4926c5,_0x36bf5c,_0x179d3b,_0x338e95,_0x29e1f7,_0x5d28a4),void await _0x32ed9e(_0x4926c5,_0x36bf5c,_0x402fc4,_0x338e95,_0x29e1f7,_0x5d28a4);_0x179d3b[_0x30f62e(0x59e)]({'content':_0x402fc4,'start':0x0,'length':_0xe70255[_0x30f62e(0x453)]}),await _0x32ed9e(_0x4926c5,_0x36bf5c,_0x179d3b,_0x338e95,_0x29e1f7,_0x5d28a4);}async function _0x2c003e(_0x4ad88b,_0x4c0688,_0x4b8a44,_0x13cab0,_0x2a7e10,_0xb3cd30){const _0x228d8f=_0x45ef94,_0x202610=Date['now']();let _0x478c21=[];if(_0x4b8a44 instanceof Array)for(const _0xabfb82 of _0x4b8a44){if(_0x228d8f(0x829)!=typeof _0xabfb82['content'])throw new Error('Invalid\x20content\x20type');_0x478c21=_0x478c21[_0x228d8f(0x39d)](_0x20e16e(_0xabfb82[_0x228d8f(0x2ec)],_0x13cab0,_0xabfb82['start'],_0xabfb82[_0x228d8f(0x453)]));}else _0x478c21=_0x20e16e(_0x4b8a44,_0x13cab0);await _0x3396a6[_0x228d8f(0x49a)]({'jobType':_0x1b7d31[_0x228d8f(0x149)],'type':_0x129d86[_0x228d8f(0x3e4)],'traceLevel':_0x4b3539[_0x228d8f(0x728)],'jobId':_0x4c0688,'blockId':_0x13cab0['id'],'startTime':_0x202610,'timestamp':Date[_0x228d8f(0x69)](),'status':_0x228d8f(0x6e2),'totalChunks':_0x478c21[_0x228d8f(0x453)],'chunkSize':_0x13cab0['attributes'][_0x228d8f(0x77a)]}),await _0x32ed9e(_0x4ad88b,_0x4c0688,_0x478c21,_0x13cab0,_0x2a7e10,_0xb3cd30);}function _0x20e16e(_0x1218dc,_0x3f1e9f,_0x15bb19,_0xe28ddf){const _0xabda4c=_0x45ef94,_0x3e5170=[];for(let _0x1a4707=0x0;_0x1a4707<_0x1218dc[_0xabda4c(0x453)];_0x1a4707+=_0x3f1e9f[_0xabda4c(0x9ed)][_0xabda4c(0x77a)]){let _0x217425=_0x1a4707-_0x3f1e9f[_0xabda4c(0x9ed)][_0xabda4c(0x2e0)];_0x217425<0x0&&(_0x217425=0x0);let _0x496ba2=_0x1a4707+_0x3f1e9f[_0xabda4c(0x9ed)]['size']+_0x3f1e9f[_0xabda4c(0x9ed)][_0xabda4c(0x2e0)];_0x496ba2>_0x1218dc[_0xabda4c(0x453)]&&(_0x496ba2=_0x1218dc[_0xabda4c(0x453)]);const _0x2863ae=_0x1218dc['substring'](_0x217425,_0x496ba2);_0x3e5170[_0xabda4c(0x59e)]({'content':_0x2863ae,'start':_0x15bb19??_0x1a4707,'length':_0xe28ddf??(_0x1a4707+_0x3f1e9f[_0xabda4c(0x9ed)][_0xabda4c(0x77a)]>_0x1218dc['length']?_0x1218dc[_0xabda4c(0x453)]-_0x1a4707:_0x3f1e9f['attributes'][_0xabda4c(0x77a)])});}return _0x3e5170;}async function _0x305a62(_0x1236ed,_0x18ee1e,_0x190f75,_0x513433,_0x115b74,_0xd2b55d){const _0x51db9a=_0x45ef94,_0x5d25a2=Date[_0x51db9a(0x69)]();let _0x3241b2;if(_0x190f75[_0x51db9a(0x9a7)][_0x51db9a(0x6e1)][_0x51db9a(0x1a2)](_0x51db9a(0x3c0))||_0x48e720(_0x190f75[_0x51db9a(0x9a7)][_0x51db9a(0x388)],_0x369f85))_0x3241b2=await _0x190f75[_0x51db9a(0x9a7)][_0x51db9a(0x1b7)]();else{if(!_0xd2b55d['documentParserConnector'][_0x51db9a(0x494)](_0x190f75[_0x51db9a(0x9a7)]))throw new Error('Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20'+_0x190f75[_0x51db9a(0x9a7)][_0x51db9a(0x6e1)]+'\x20-\x20'+_0x190f75[_0x51db9a(0x9a7)][_0x51db9a(0x388)]);_0x3241b2=await _0xd2b55d[_0x51db9a(0x97d)][_0x51db9a(0x562)](_0x190f75[_0x51db9a(0x9a7)]);}await _0x3396a6['trace']({'jobType':_0x1b7d31[_0x51db9a(0x149)],'type':_0x129d86[_0x51db9a(0x72f)],'traceLevel':_0x4b3539['Debug'],'blockId':_0x513433['id'],'jobId':_0x18ee1e,'startTime':_0x5d25a2,'timestamp':Date['now'](),'status':_0x51db9a(0x6e2),'documentType':_0x190f75[_0x51db9a(0x9a7)][_0x51db9a(0x6e1)],'documentName':_0x190f75[_0x51db9a(0x9a7)][_0x51db9a(0x388)],'extractionMethod':_0x51db9a(0x2ae)}),await _0x32ed9e(_0x1236ed,_0x18ee1e,_0x3241b2,_0x513433,_0x115b74,_0xd2b55d);const _0x3aa6e4=[{'content':_0x3241b2,'start':0x0,'length':_0x3241b2['length']}];await _0x32ed9e(_0x1236ed,_0x18ee1e,_0x3aa6e4,_0x513433,_0x115b74,_0xd2b55d);}const _0x369f85=[_0x45ef94(0x440),_0x45ef94(0x132),_0x45ef94(0x5c6),_0x45ef94(0x7b1),_0x45ef94(0x800),_0x45ef94(0x29b),_0x45ef94(0x6a8),'.xml','.md','.yml','.yaml',_0x45ef94(0xa32),_0x45ef94(0x654),'.ini','.cfg',_0x45ef94(0x2a2),_0x45ef94(0x760),'.rb',_0x45ef94(0x666),_0x45ef94(0xc7),'.c',_0x45ef94(0x106),_0x45ef94(0x3fd),'.r',_0x45ef94(0x1ee),_0x45ef94(0x72b),_0x45ef94(0x23f),'.kt','.rs',_0x45ef94(0x4ac),'.pl',_0x45ef94(0x602),_0x45ef94(0x663),_0x45ef94(0x417),_0x45ef94(0x62d),'.erl','.ex',_0x45ef94(0x523),_0x45ef94(0x898),_0x45ef94(0xa03),_0x45ef94(0x111),'.m',_0x45ef94(0x944),_0x45ef94(0x36d),_0x45ef94(0x1c8),'.jl',_0x45ef94(0x605),_0x45ef94(0x80e),_0x45ef94(0x929),_0x45ef94(0x769),'.erb',_0x45ef94(0x649),_0x45ef94(0xc8),_0x45ef94(0x555),'.handlebars',_0x45ef94(0x545),'.pug',_0x45ef94(0x871),_0x45ef94(0x7c7),_0x45ef94(0x5ae),_0x45ef94(0xa11),'.j2',_0x45ef94(0x33a)];function _0x48e720(_0x346fda,_0x32a6e7){const _0x2a6aff=_0x45ef94;return _0x32a6e7['includes']('.'+(_0x346fda[_0x2a6aff(0x25b)]('.')[_0x2a6aff(0x8fa)]()?.[_0x2a6aff(0x8ef)]()||''));}async function _0x30b317(_0x1cd73f,_0x4c7094,_0x4f02ee,_0x453136,_0x8f92a9,_0x1c7a21){const _0x10abdd=_0x45ef94,_0x311a9f=Date['now'](),_0x3766f4=new Set();let _0x1dc837=0x0;for(const _0x5b5473 of _0x4f02ee){if(_0x10abdd(0x829)!=typeof _0x5b5473['content'])throw new Error('Invalid\x20content\x20type');_0x1dc837+=_0x5b5473['content'][_0x10abdd(0x453)],await _0x3431e5(_0x5b5473[_0x10abdd(0x2ec)],_0x3766f4,_0x453136,_0x1c7a21['nlpLibraryConnector']);}await _0x3396a6[_0x10abdd(0x49a)]({'jobType':_0x1b7d31['Ingest'],'type':_0x129d86['EntityExtractor'],'jobId':_0x4c7094,'blockId':_0x453136['id'],'traceLevel':_0x4b3539['Debug'],'startTime':_0x311a9f,'timestamp':Date[_0x10abdd(0x69)](),'status':_0x10abdd(0x6e2),'contentLength':_0x1dc837,'totalChunks':_0x4f02ee instanceof Array?_0x4f02ee['length']:0x1,'entitiesExtracted':_0x3766f4,'totalEntities':_0x3766f4['size']}),await _0x32ed9e(_0x1cd73f,_0x4c7094,_0x3766f4,_0x453136,_0x8f92a9,_0x1c7a21);}async function _0x3431e5(_0x486e57,_0x5aa59a,_0x4a80ae,_0x207600){const _0x2f03ec=_0x45ef94,_0x9286db=await _0x207600['getEntities'](_0x486e57,{'ner':_0x4a80ae[_0x2f03ec(0x9ed)][_0x2f03ec(0x89)],'noun':_0x4a80ae[_0x2f03ec(0x9ed)]['noun'],'propn':_0x4a80ae[_0x2f03ec(0x9ed)][_0x2f03ec(0x6fc)],'verb':_0x4a80ae[_0x2f03ec(0x9ed)][_0x2f03ec(0xa08)]});for(const _0x1451d0 of _0x9286db)_0x5aa59a['add'](_0x1451d0);}async function _0x261b0e(_0x432e64,_0xbe737c,_0x395774,_0x342611,_0x1259ac){const _0xdbae5b=_0x45ef94,_0x1c4e8e=Date[_0xdbae5b(0x69)]();if(_0x395774[_0xdbae5b(0x252)]||(_0x395774['accumulated']={}),'string'==typeof _0xbe737c?_0x395774[_0xdbae5b(0x252)]['content']=_0xbe737c:_0xbe737c instanceof Set?_0x395774[_0xdbae5b(0x252)]['entities']=_0xbe737c:_0xbe737c instanceof Map?_0x395774['accumulated'][_0xdbae5b(0x27f)]=_0xbe737c:_0xbe737c instanceof Array?_0x395774[_0xdbae5b(0x252)][_0xdbae5b(0x376)]=_0xbe737c:_0x395774[_0xdbae5b(0x252)]['file']=_0xbe737c,_0x395774['timesCalled']=_0x395774[_0xdbae5b(0x234)]?_0x395774[_0xdbae5b(0x234)]+0x1:0x1,_0x7c7ef0(_0x395774,_0x342611[_0xdbae5b(0x50b)])>_0x395774['timesCalled'])return;if(!(_0x395774[_0xdbae5b(0x252)][_0xdbae5b(0x734)]&&_0x395774[_0xdbae5b(0x252)]['file']&&_0x395774['accumulated'][_0xdbae5b(0x2ec)]&&_0x395774['accumulated'][_0xdbae5b(0x376)]))throw new Error(_0xdbae5b(0x322));let _0x2c6506=0x0;const _0x1bf68a=_0x1259ac[_0xdbae5b(0x7a9)]['getGraphDatabase'](_0x395774['id']);for(const _0x17c8bd of _0x395774[_0xdbae5b(0x252)][_0xdbae5b(0x734)]){let _0x595124=[];_0x595124=_0x395774[_0xdbae5b(0x252)][_0xdbae5b(0x376)][_0xdbae5b(0x533)](_0x26ea62=>_0xdbae5b(0x829)==typeof _0x26ea62['content']&&_0x26ea62[_0xdbae5b(0x2ec)]['includes'](_0x17c8bd));try{_0x1bf68a[_0xdbae5b(0x999)](_0x395774[_0xdbae5b(0x252)][_0xdbae5b(0x9a7)]['pathName'],_0x395774[_0xdbae5b(0x252)][_0xdbae5b(0x2ec)],_0x595124,_0x17c8bd),_0x2c6506+=0x1;}catch(_0x55f2ee){}}if(_0x395774['accumulated']['relations']){for(const [_0x2c5afe,_0x45a071]of _0x395774[_0xdbae5b(0x252)]['relations'])for(const _0x4df438 of _0x45a071)try{_0x1bf68a[_0xdbae5b(0x313)](_0x2c5afe,_0x4df438);}catch(_0x2ee74c){}await _0x3396a6[_0xdbae5b(0x49a)]({'jobType':_0x1b7d31['Ingest'],'type':_0x129d86['GraphDatabase'],'jobId':_0x432e64,'blockId':_0x395774['id'],'status':'success','startTime':_0x1c4e8e,'timestamp':Date[_0xdbae5b(0x69)](),'traceLevel':_0x4b3539['Debug'],'nodesAdded':_0x2c6506,'entities':_0x395774['accumulated'][_0xdbae5b(0x734)],'relations':_0x395774[_0xdbae5b(0x252)]['relations']});}}async function _0x24c668(_0x5ed972,_0x318885,_0x35cc5b,_0x4d93c5,_0x272637,_0x40c271){const _0x42127d=_0x45ef94,_0x267457=_0x40c271['models']['find'](_0xce42cb=>_0xce42cb['id']===_0x4d93c5['id']);if(!_0x267457)throw new Error('Model\x20not\x20found');switch(_0x267457[_0x42127d(0x890)]){case _0x29184c[_0x42127d(0x8d0)][_0x42127d(0x538)]:if(_0x42127d(0x829)!=typeof _0x35cc5b)throw new Error(_0x42127d(0x830));await async function(_0x227d43,_0xe2738e,_0x2832b4,_0x2f830c,_0x29f259,_0x1ba2aa,_0x30e0a6){const _0x268003=_0x42127d,_0x5267a0=Date['now']();let _0x3bc825;const _0x44b9ab=await fetch(_0x25dcd9[_0x268003(0x5d5)]+'/chat/completions',{'method':_0x268003(0x57c),'headers':{'Content-Type':'application/json','x-vendor-id':_0x227d43},'body':JSON['stringify']({'messages':[{'role':'user','content':_0x2832b4}],'model':_0x2f830c['id']})});_0x3bc825=(await _0x44b9ab[_0x268003(0x5af)]())['choices'][0x0][_0x268003(0x7c2)]['content'],await _0x3396a6['trace']({'jobType':_0x1b7d31[_0x268003(0x149)],'type':_0x129d86[_0x268003(0x423)],'jobId':_0xe2738e,'blockId':_0x29f259['id'],'traceLevel':_0x4b3539[_0x268003(0x728)],'timestamp':Date[_0x268003(0x69)](),'startTime':_0x5267a0,'status':_0x268003(0x6e2),'modelName':_0x2f830c['id'],'inputType':_0x2f830c[_0x268003(0x76a)],'outputType':_0x2f830c[_0x268003(0x890)],'content':_0x2832b4,'results':_0x3bc825}),await _0x32ed9e(_0x227d43,_0xe2738e,_0x3bc825,_0x29f259,_0x1ba2aa,_0x30e0a6);}(_0x5ed972,_0x318885,_0x35cc5b,_0x267457,_0x4d93c5,_0x272637,_0x40c271);break;case _0x29184c[_0x42127d(0x8d0)][_0x42127d(0x1cf)]:if(!(_0x35cc5b instanceof Array))throw new Error(_0x42127d(0x3ec));await async function(_0x2aaa98,_0x1015de,_0x21e987,_0x575dcc,_0x3a7d0e,_0x395a11,_0x25ac96){const _0x1ed28a=_0x42127d,_0x1f7202=Date['now'](),_0x3b789f=await fetch(_0x25dcd9[_0x1ed28a(0x5d5)]+_0x1ed28a(0xd5),{'method':_0x1ed28a(0x57c),'headers':{'Content-Type':_0x1ed28a(0x2e4),'x-vendor-id':_0x2aaa98},'body':JSON[_0x1ed28a(0xa51)]({'input':_0x21e987[_0x1ed28a(0x1f8)](_0x3083b7=>_0x3083b7['content']),'model':_0x575dcc['id']})}),_0x3620fc=(await _0x3b789f[_0x1ed28a(0x5af)]())[_0x1ed28a(0x1a0)][_0x1ed28a(0x1f8)](_0x2c6b21=>_0x2c6b21[_0x1ed28a(0x142)]);await _0x3396a6[_0x1ed28a(0x49a)]({'jobType':_0x1b7d31[_0x1ed28a(0x149)],'type':_0x129d86[_0x1ed28a(0x1c2)],'jobId':_0x1015de,'blockId':_0x3a7d0e['id'],'traceLevel':_0x4b3539[_0x1ed28a(0x728)],'timestamp':Date['now'](),'startTime':_0x1f7202,'status':_0x1ed28a(0x6e2),'modelName':_0x575dcc['id'],'inputType':_0x575dcc[_0x1ed28a(0x76a)],'outputType':_0x575dcc[_0x1ed28a(0x890)],'totalVectors':_0x3620fc['length']}),await _0x32ed9e(_0x2aaa98,_0x1015de,_0x3620fc,_0x3a7d0e,_0x395a11,_0x25ac96);}(_0x5ed972,_0x318885,_0x35cc5b,_0x267457,_0x4d93c5,_0x272637,_0x40c271);}}async function _0x199399(_0x22a9bd,_0x34d881,_0x328ed9,_0xa5b10e,_0x3b1714,_0x49ba08){const _0x1f1ca9=_0x45ef94,_0x26d895=Date[_0x1f1ca9(0x69)]();if(_0xa5b10e[_0x1f1ca9(0x252)]||(_0xa5b10e[_0x1f1ca9(0x252)]={}),_0x328ed9 instanceof Array?_0xa5b10e[_0x1f1ca9(0x252)][_0x1f1ca9(0x376)]=_0x328ed9:_0xa5b10e[_0x1f1ca9(0x252)][_0x1f1ca9(0x734)]=_0x328ed9,_0xa5b10e[_0x1f1ca9(0x234)]=_0xa5b10e[_0x1f1ca9(0x234)]?_0xa5b10e['timesCalled']+0x1:0x1,_0x7c7ef0(_0xa5b10e,_0x3b1714[_0x1f1ca9(0x50b)])>_0xa5b10e[_0x1f1ca9(0x234)])return;if(!_0xa5b10e[_0x1f1ca9(0x252)][_0x1f1ca9(0x376)]||!_0xa5b10e[_0x1f1ca9(0x252)][_0x1f1ca9(0x734)])throw new Error(_0x1f1ca9(0x578));const _0x4b6b0c=new Map();for(const _0xda67c7 of _0xa5b10e[_0x1f1ca9(0x252)]['index']){if(_0x1f1ca9(0x829)!=typeof _0xda67c7[_0x1f1ca9(0x2ec)])throw new Error(_0x1f1ca9(0x802));_0x450fd5(_0xda67c7[_0x1f1ca9(0x2ec)],_0xa5b10e[_0x1f1ca9(0x252)][_0x1f1ca9(0x734)],_0x4b6b0c);}await _0x3396a6[_0x1f1ca9(0x49a)]({'jobType':_0x1b7d31[_0x1f1ca9(0x149)],'type':_0x129d86[_0x1f1ca9(0x66f)],'jobId':_0x34d881,'blockId':_0xa5b10e['id'],'traceLevel':_0x4b3539[_0x1f1ca9(0x728)],'timestamp':Date['now'](),'startTime':_0x26d895,'status':_0x1f1ca9(0x6e2),'entities':_0xa5b10e[_0x1f1ca9(0x252)][_0x1f1ca9(0x734)],'relations':_0x4b6b0c,'totalRelationsExtracted':_0x4b6b0c[_0x1f1ca9(0x77a)]}),await _0x32ed9e(_0x22a9bd,_0x34d881,_0x4b6b0c,_0xa5b10e,_0x3b1714,_0x49ba08);}function _0x450fd5(_0x4bde40,_0x2738ec,_0x4570c9){const _0x580a84=_0x45ef94;for(const _0x487148 of _0x2738ec)for(const _0x1d00d4 of _0x2738ec){if(_0x487148===_0x1d00d4)continue;const _0x31e725=_0x4bde40[_0x580a84(0x4e9)](_0x487148),_0x4be2a7=_0x4bde40[_0x580a84(0x4e9)](_0x1d00d4);-0x1!==_0x31e725&&-0x1!==_0x4be2a7&&(_0x4570c9['has'](_0x487148)||_0x4570c9['set'](_0x487148,new Set()),_0x4570c9[_0x580a84(0x1f5)](_0x487148)[_0x580a84(0x9fb)](_0x1d00d4));}return _0x4570c9;}async function _0xe2c950(_0x1d879b,_0x26162c,_0x13c21e,_0x3fa0c4,_0xbb7d6d,_0xb65210){const _0x4c7265=_0x45ef94,_0x81cabe=Date[_0x4c7265(0x69)]();let _0x4fa398=[];if(_0x13c21e instanceof Array)for(const _0x548601 of _0x13c21e){if(_0x4c7265(0x829)!=typeof _0x548601['content'])throw new Error(_0x4c7265(0x802));const _0x478d28=await _0xb65210[_0x4c7265(0x8ea)]['getSentences'](_0x548601['content']);_0x4fa398=_0x4fa398[_0x4c7265(0x39d)](_0x478d28['map'](_0x44d9e2=>({'content':_0x44d9e2,'start':_0x548601['start'],'length':_0x548601[_0x4c7265(0x453)]})));}else _0x4fa398=(await _0xb65210['nlpLibraryConnector'][_0x4c7265(0x307)](_0x13c21e))[_0x4c7265(0x1f8)](_0x2dbf34=>({'content':_0x2dbf34,'start':_0x13c21e[_0x4c7265(0x4e9)](_0x2dbf34),'length':_0x2dbf34['length']}));await _0x3396a6[_0x4c7265(0x49a)]({'jobType':_0x1b7d31[_0x4c7265(0x149)],'type':_0x129d86['SentenceSplitter'],'jobId':_0x26162c,'blockId':_0x3fa0c4['id'],'traceLevel':_0x4b3539[_0x4c7265(0x728)],'startTime':_0x81cabe,'timestamp':Date[_0x4c7265(0x69)](),'status':_0x4c7265(0x6e2),'totalSentences':_0x4fa398['length'],'averageSentenceLength':_0x4fa398['reduce']((_0x86d3e2,_0x224111)=>_0x86d3e2+_0x224111[_0x4c7265(0x453)],0x0)/_0x4fa398[_0x4c7265(0x453)]}),await _0x32ed9e(_0x1d879b,_0x26162c,_0x4fa398,_0x3fa0c4,_0xbb7d6d,_0xb65210);}async function _0x4423ca(_0x238a45,_0x5eef97,_0x4d3190){const _0x395199=_0x45ef94;if(0x0===_0x238a45[_0x395199(0x453)])return;const _0x45e423=_0x5eef97[_0x395199(0x1f0)]?.[_0x395199(0x396)]?_0x5eef97[_0x395199(0x1f0)][_0x395199(0x396)][_0x395199(0x25b)](','):[];for(const _0x3d2ea6 of _0x238a45){const _0x3e56ea=await _0x4d3190[_0x395199(0x57b)]['writeFile'](_0x3d2ea6);_0x45e423[_0x395199(0x59e)](_0x3e56ea);}_0x5eef97[_0x395199(0x1f0)]||(_0x5eef97['internalContext']={}),_0x5eef97[_0x395199(0x1f0)][_0x395199(0x396)]=_0x45e423[_0x395199(0x981)](',');}async function _0x4fc683(_0x3139e9,_0x103507,_0x157868,_0x3eac81,_0x21262b){const _0x4649e7=_0x45ef94;if(_0x3139e9['files']&&_0x157868[_0x4649e7(0x137)]){const _0x5eff7f=[];for(const _0x546bde of _0x3139e9[_0x4649e7(0x396)])_0x5eff7f['push'](_0xf23441(_0x546bde));for(const _0x4c3467 of _0x157868['links'])if(_0x4649e7(0x9a7)===_0x4c3467['type']){const _0x15754c=_0x3eac81[_0x4649e7(0x786)](_0x495ffc=>_0x495ffc[_0x4649e7(0x4c8)]===_0x4c3467['uid']);if(!_0x15754c)continue;_0x15754c[_0x4649e7(0x6e1)]===_0x108ef7[_0x4649e7(0x72f)]&&await _0x4423ca(_0x5eff7f,_0x103507,_0x21262b);}}}function _0xf23441(_0x19b46e){const _0x3f86e3=_0x45ef94,_0x29ac3d=Uint8Array[_0x3f86e3(0x157)](Buffer[_0x3f86e3(0x157)](_0x19b46e[_0x3f86e3(0x2ec)],_0x3f86e3(0x95e))),_0x2189c9=new Blob([_0x29ac3d],{'type':_0x19b46e[_0x3f86e3(0x6e1)]});return new File([_0x2189c9],_0x19b46e[_0x3f86e3(0x388)],{'type':_0x19b46e[_0x3f86e3(0x6e1)]});}function _0x5960c9(_0x495b1b,_0x231b60){const _0x154e24=_0x45ef94;switch(_0x231b60['hosting']){case _0x1b074b[_0x154e24(0x1fc)]:return _0x154e24(0x955);case _0x1b074b[_0x154e24(0x3bd)]:return _0x495b1b;case _0x1b074b[_0x154e24(0x826)]:default:return _0x231b60['id'];}}async function _0x47140f(_0x315032,_0x349733,_0x3838d5,_0x24b883,_0x284f30,_0x189494){const _0x3c1261=_0x45ef94,_0x5a69ee=Date[_0x3c1261(0x69)]();var _0x4718b7;if(_0x24b883[_0x3c1261(0x252)]||(_0x24b883[_0x3c1261(0x252)]={}),_0x3838d5 instanceof Array?(_0x4718b7=_0x3838d5)[0x0]instanceof Array&&_0x3c1261(0x78f)==typeof _0x4718b7[0x0]?.[0x0]?_0x24b883['accumulated']['vectors']=_0x3838d5:_0x24b883[_0x3c1261(0x252)][_0x3c1261(0x376)]=_0x3838d5:_0x3c1261(0x829)==typeof _0x3838d5?_0x24b883[_0x3c1261(0x252)][_0x3c1261(0x2ec)]=_0x3838d5:_0x24b883[_0x3c1261(0x252)][_0x3c1261(0x9a7)]=_0x3838d5,_0x24b883[_0x3c1261(0x234)]=_0x24b883[_0x3c1261(0x234)]?_0x24b883[_0x3c1261(0x234)]+0x1:0x1,!(_0x7c7ef0(_0x24b883,_0x284f30[_0x3c1261(0x50b)])>_0x24b883[_0x3c1261(0x234)])){if(_0x3c1261(0x4af)===_0x24b883['id']){if(!_0x24b883['accumulated'][_0x3c1261(0x376)]||!_0x24b883[_0x3c1261(0x252)][_0x3c1261(0x983)]||!_0x24b883[_0x3c1261(0x252)][_0x3c1261(0x9a7)])throw new Error(_0x3c1261(0x7ba));if(!_0x189494[_0x3c1261(0x551)])throw new Error(_0x3c1261(0x1e2));const _0x21f1cf=[];for(let _0x4bf39c=0x0;_0x4bf39c<_0x24b883[_0x3c1261(0x252)][_0x3c1261(0x376)]['length'];_0x4bf39c++){const _0x4020d4=_0x24b883['accumulated'][_0x3c1261(0x983)][_0x4bf39c],_0x739313=_0x24b883[_0x3c1261(0x252)]['index'][_0x4bf39c];_0x21f1cf['push']({'content':_0x4020d4,'start':_0x739313['start'],'length':_0x739313[_0x3c1261(0x453)]});}const _0x548efe=_0x5960c9(_0x315032,_0x284f30);await _0x189494[_0x3c1261(0x551)][_0x3c1261(0x9ec)](_0x548efe,_0x284f30['id'],_0x24b883[_0x3c1261(0x252)][_0x3c1261(0x9a7)][_0x3c1261(0xbc)],_0x21f1cf);}else{if(!(_0x24b883['accumulated']['content']&&_0x24b883[_0x3c1261(0x252)][_0x3c1261(0x376)]&&_0x24b883['accumulated'][_0x3c1261(0x983)]&&_0x24b883[_0x3c1261(0x252)][_0x3c1261(0x9a7)]))throw new Error(_0x3c1261(0x7ba));const _0xacfdd7=_0x189494[_0x3c1261(0x7a9)][_0x3c1261(0x426)](_0x24b883['id']);_0xacfdd7[_0x3c1261(0x9bc)](_0x24b883[_0x3c1261(0x252)][_0x3c1261(0x9a7)]['pathName'],_0x24b883[_0x3c1261(0x252)][_0x3c1261(0x2ec)],_0x24b883[_0x3c1261(0x252)]['index'],_0x24b883[_0x3c1261(0x252)][_0x3c1261(0x983)]),await _0x3396a6[_0x3c1261(0x49a)]({'jobType':_0x1b7d31[_0x3c1261(0x149)],'type':_0x129d86[_0x3c1261(0x851)],'jobId':_0x349733,'blockId':_0x24b883['id'],'traceLevel':_0x4b3539[_0x3c1261(0x728)],'startTime':_0x5a69ee,'timestamp':Date[_0x3c1261(0x69)](),'status':_0x3c1261(0x6e2),'databaseName':_0xacfdd7[_0x3c1261(0x3ae)](),'vectorsAdded':_0x24b883['accumulated'][_0x3c1261(0x983)][_0x3c1261(0x453)],'filePathName':_0x24b883[_0x3c1261(0x252)][_0x3c1261(0x9a7)][_0x3c1261(0xbc)]});}}}async function _0x43f9b4(_0x262302,_0x2a270c,_0x2cf9ea,_0x475ced,_0xd3e3f1,_0x1a59e6){const _0x22f5c9=_0x45ef94,_0xfd3ed1=Date['now']();let _0xfa22ca=[];if(_0x2cf9ea instanceof Array)for(const _0x7bf5d2 of _0x2cf9ea){if(_0x22f5c9(0x829)!=typeof _0x7bf5d2[_0x22f5c9(0x2ec)])throw new Error(_0x22f5c9(0x802));_0xfa22ca=_0xfa22ca[_0x22f5c9(0x39d)](_0x513385(_0x7bf5d2['content'],_0x475ced,_0x7bf5d2[_0x22f5c9(0x21b)],_0x7bf5d2[_0x22f5c9(0x453)]));}else _0xfa22ca=_0x513385(_0x2cf9ea,_0x475ced);await _0x3396a6[_0x22f5c9(0x49a)]({'jobType':_0x1b7d31[_0x22f5c9(0x149)],'type':_0x129d86[_0x22f5c9(0x3d7)],'jobId':_0x2a270c,'traceLevel':_0x4b3539[_0x22f5c9(0x728)],'blockId':_0x475ced['id'],'startTime':_0xfd3ed1,'timestamp':Date[_0x22f5c9(0x69)](),'status':_0x22f5c9(0x6e2),'totalChunks':_0xfa22ca[_0x22f5c9(0x453)],'averageChunkLength':_0xfa22ca[_0x22f5c9(0x9f6)]((_0x5d60b3,_0x4ab43d)=>_0x5d60b3+_0x4ab43d[_0x22f5c9(0x453)],0x0)/_0xfa22ca['length']}),await _0x32ed9e(_0x262302,_0x2a270c,_0xfa22ca,_0x475ced,_0xd3e3f1,_0x1a59e6);}function _0x513385(_0x576a99,_0x4e1973,_0x4a627e,_0x57772e){const _0x477f12=_0x45ef94,_0xdab55=[],_0x40b928=_0x576a99[_0x477f12(0x25b)]('\x20');let _0x29e552='',_0x42fb76=-0x1,_0x35db55=0x0,_0x106ccd=0x0;for(const _0x19da66 of _0x40b928){if(_0x29e552[_0x477f12(0x453)]+_0x19da66[_0x477f12(0x453)]>_0x4e1973[_0x477f12(0x9ed)][_0x477f12(0x77a)]){const _0x3c5c3a=_0x29e552[_0x477f12(0x453)];let _0x1eb7e9=_0x42fb76,_0x5d62f4='';for(;_0x1eb7e9>=0x0&&_0x5d62f4[_0x477f12(0x453)]+_0x40b928[_0x1eb7e9][_0x477f12(0x453)]<_0x4e1973[_0x477f12(0x9ed)][_0x477f12(0x2e0)];)_0x5d62f4=_0x40b928[_0x1eb7e9]+'\x20'+_0x5d62f4,_0x1eb7e9--;let _0x38ae68=_0x35db55,_0x4552fd='';for(;_0x38ae68<_0x40b928[_0x477f12(0x453)]&&_0x4552fd[_0x477f12(0x453)]+_0x40b928[_0x38ae68][_0x477f12(0x453)]<_0x4e1973[_0x477f12(0x9ed)][_0x477f12(0x2e0)];)_0x4552fd+=_0x40b928[_0x38ae68]+'\x20',_0x38ae68++;_0x29e552=_0x5d62f4+_0x29e552+_0x4552fd,_0xdab55['push']({'content':_0x29e552[_0x477f12(0x6e8)](),'start':_0x4a627e??_0x106ccd,'length':_0x57772e??_0x3c5c3a}),_0x29e552='',_0x42fb76=_0x35db55-0x1,_0x106ccd+=_0x3c5c3a;}_0x29e552+=_0x19da66+'\x20',_0x35db55++;}if(_0x29e552['length']>0x0){const _0x42a62a=_0x29e552[_0x477f12(0x453)];let _0x50927b=_0x42fb76,_0x1bc05d='';for(;_0x50927b>=0x0&&_0x1bc05d[_0x477f12(0x453)]+_0x40b928[_0x50927b][_0x477f12(0x453)]<_0x4e1973[_0x477f12(0x9ed)][_0x477f12(0x2e0)];)_0x1bc05d=_0x40b928[_0x50927b]+'\x20'+_0x1bc05d,_0x50927b--;_0x29e552=_0x1bc05d+_0x29e552,_0xdab55[_0x477f12(0x59e)]({'content':_0x29e552[_0x477f12(0x6e8)](),'start':_0x4a627e??_0x106ccd,'length':_0x57772e??_0x42a62a});}return _0xdab55;}async function _0x32ed9e(_0x3953b8,_0x40c877,_0x13b63f,_0x2bfc27,_0x1c7aee,_0x5b3923){const _0x7661b8=_0x45ef94;for(const _0x426099 of _0x2bfc27[_0x7661b8(0x137)]||[]){const _0x11de5a=_0x1c7aee[_0x7661b8(0x50b)][_0x7661b8(0x786)](_0xa885ac=>_0xa885ac[_0x7661b8(0x4c8)]===_0x426099[_0x7661b8(0x4c8)]);if(_0x11de5a)switch(_0x11de5a[_0x7661b8(0x6e1)]){case _0x33a97f[_0x7661b8(0x767)]:_0x426099[_0x7661b8(0x6e1)]===_0x26e9fd[_0x7661b8(0x538)]&&'string'==typeof _0x13b63f&&await _0x45b598(_0x3953b8,_0x40c877,_0x13b63f,_0x11de5a,_0x1c7aee,_0x5b3923);break;case _0x33a97f[_0x7661b8(0x3e4)]:_0x426099[_0x7661b8(0x6e1)]===_0x26e9fd[_0x7661b8(0x538)]&&_0x7661b8(0x829)==typeof _0x13b63f&&await _0x2c003e(_0x3953b8,_0x40c877,_0x13b63f,_0x11de5a,_0x1c7aee,_0x5b3923),_0x426099[_0x7661b8(0x6e1)]===_0x26e9fd[_0x7661b8(0x6a0)]&&_0x13b63f instanceof Array&&await _0x2c003e(_0x3953b8,_0x40c877,_0x13b63f,_0x11de5a,_0x1c7aee,_0x5b3923);break;case _0x33a97f[_0x7661b8(0x72f)]:_0x426099[_0x7661b8(0x6e1)]===_0x26e9fd[_0x7661b8(0x8da)]&&await _0x305a62(_0x3953b8,_0x40c877,_0x13b63f,_0x11de5a,_0x1c7aee,_0x5b3923);break;case _0x33a97f[_0x7661b8(0x7dd)]:if(_0x426099[_0x7661b8(0x6e1)]===_0x26e9fd['Index']&&_0x13b63f instanceof Array){if(!_0x1c7aee['modelId'])throw new Error(_0x7661b8(0x55a));const _0x51219c={'type':_0x33a97f[_0x7661b8(0x789)],'id':_0x1c7aee[_0x7661b8(0x3ef)],'uid':(0x0,_0xa305bc['v4'])(),'links':_0x11de5a[_0x7661b8(0x137)]};await _0x24c668(_0x3953b8,_0x40c877,_0x13b63f,_0x51219c,_0x1c7aee,_0x5b3923);}break;case _0x33a97f['EntityExtractor']:_0x426099['type']===_0x26e9fd[_0x7661b8(0x6a0)]&&_0x13b63f instanceof Array&&await _0x30b317(_0x3953b8,_0x40c877,_0x13b63f,_0x11de5a,_0x1c7aee,_0x5b3923);break;case _0x33a97f['GraphDatabase']:_0x426099['type']===_0x26e9fd[_0x7661b8(0x538)]&&_0x7661b8(0x829)==typeof _0x13b63f&&await _0x261b0e(_0x40c877,_0x13b63f,_0x11de5a,_0x1c7aee,_0x5b3923),_0x426099[_0x7661b8(0x6e1)]===_0x26e9fd['Index']&&_0x13b63f instanceof Array&&await _0x261b0e(_0x40c877,_0x13b63f,_0x11de5a,_0x1c7aee,_0x5b3923),_0x426099[_0x7661b8(0x6e1)]===_0x26e9fd[_0x7661b8(0x5a8)]&&_0x13b63f instanceof Set&&await _0x261b0e(_0x40c877,_0x13b63f,_0x11de5a,_0x1c7aee,_0x5b3923),_0x426099[_0x7661b8(0x6e1)]===_0x26e9fd['Relation']&&_0x13b63f instanceof Map&&await _0x261b0e(_0x40c877,_0x13b63f,_0x11de5a,_0x1c7aee,_0x5b3923),_0x426099['type']===_0x26e9fd[_0x7661b8(0x8da)]&&await _0x261b0e(_0x40c877,_0x13b63f,_0x11de5a,_0x1c7aee,_0x5b3923);break;case _0x33a97f[_0x7661b8(0x789)]:_0x426099[_0x7661b8(0x6e1)]===_0x26e9fd['Text']&&_0x7661b8(0x829)==typeof _0x13b63f&&await _0x24c668(_0x3953b8,_0x40c877,_0x13b63f,_0x11de5a,_0x1c7aee,_0x5b3923),_0x426099['type']===_0x26e9fd[_0x7661b8(0x6a0)]&&_0x13b63f instanceof Array&&await _0x24c668(_0x3953b8,_0x40c877,_0x13b63f,_0x11de5a,_0x1c7aee,_0x5b3923);break;case _0x33a97f[_0x7661b8(0x66f)]:_0x426099[_0x7661b8(0x6e1)]===_0x26e9fd['Index']&&_0x13b63f instanceof Array&&await _0x199399(_0x3953b8,_0x40c877,_0x13b63f,_0x11de5a,_0x1c7aee,_0x5b3923),_0x426099[_0x7661b8(0x6e1)]===_0x26e9fd[_0x7661b8(0x5a8)]&&_0x13b63f instanceof Set&&await _0x199399(_0x3953b8,_0x40c877,_0x13b63f,_0x11de5a,_0x1c7aee,_0x5b3923);break;case _0x33a97f[_0x7661b8(0xa20)]:_0x426099[_0x7661b8(0x6e1)]===_0x26e9fd[_0x7661b8(0x538)]&&'string'==typeof _0x13b63f&&await _0xe2c950(_0x3953b8,_0x40c877,_0x13b63f,_0x11de5a,_0x1c7aee,_0x5b3923),_0x426099[_0x7661b8(0x6e1)]===_0x26e9fd[_0x7661b8(0x6a0)]&&_0x13b63f instanceof Array&&await _0xe2c950(_0x3953b8,_0x40c877,_0x13b63f,_0x11de5a,_0x1c7aee,_0x5b3923);break;case _0x33a97f[_0x7661b8(0x851)]:_0x426099[_0x7661b8(0x6e1)]===_0x26e9fd['Text']&&_0x7661b8(0x829)==typeof _0x13b63f&&await _0x47140f(_0x3953b8,_0x40c877,_0x13b63f,_0x11de5a,_0x1c7aee,_0x5b3923),_0x426099[_0x7661b8(0x6e1)]===_0x26e9fd[_0x7661b8(0x6a0)]&&_0x13b63f instanceof Array&&await _0x47140f(_0x3953b8,_0x40c877,_0x13b63f,_0x11de5a,_0x1c7aee,_0x5b3923),_0x426099[_0x7661b8(0x6e1)]===_0x26e9fd[_0x7661b8(0x1cf)]&&_0x13b63f instanceof Array&&await _0x47140f(_0x3953b8,_0x40c877,_0x13b63f,_0x11de5a,_0x1c7aee,_0x5b3923),_0x426099[_0x7661b8(0x6e1)]===_0x26e9fd['File']&&await _0x47140f(_0x3953b8,_0x40c877,_0x13b63f,_0x11de5a,_0x1c7aee,_0x5b3923);break;case _0x33a97f[_0x7661b8(0x3d7)]:_0x426099['type']===_0x26e9fd[_0x7661b8(0x538)]&&_0x7661b8(0x829)==typeof _0x13b63f&&await _0x43f9b4(_0x3953b8,_0x40c877,_0x13b63f,_0x11de5a,_0x1c7aee,_0x5b3923),_0x426099['type']===_0x26e9fd[_0x7661b8(0x6a0)]&&_0x13b63f instanceof Array&&await _0x43f9b4(_0x3953b8,_0x40c877,_0x13b63f,_0x11de5a,_0x1c7aee,_0x5b3923);}}}function _0x7c7ef0(_0x564fa5,_0x4385cb){const _0x59b216=_0x45ef94;return _0x4385cb['filter'](_0x356bdb=>_0x356bdb[_0x59b216(0x137)]?.['some'](_0x347bc2=>_0x347bc2[_0x59b216(0x4c8)]===_0x564fa5[_0x59b216(0x4c8)]))['length'];}async function _0x55aa89(_0x41ae53,_0x3358b6,_0x5d765a,_0x163c0f,_0xf78dc1,_0x2cdf02,_0x5b4f89,_0xca7ff1){const _0x544441=_0x45ef94,_0xebfa55=Date[_0x544441(0x69)](),_0x354354=new Set();if(_0x163c0f instanceof Array){for(const _0x26f7cb of _0x163c0f)await _0x1848a5(_0x26f7cb[_0x544441(0x2ec)],_0x2cdf02,_0x354354,_0xca7ff1[_0x544441(0x8ea)]);}else await _0x1848a5(_0x163c0f,_0x2cdf02,_0x354354,_0xca7ff1[_0x544441(0x8ea)]);await _0x3396a6[_0x544441(0x49a)]({'jobType':_0x1b7d31[_0x544441(0x13a)],'type':_0x38bcb9[_0x544441(0x83a)],'jobId':_0x3358b6,'threadId':_0x5d765a,'blockId':_0x2cdf02['id'],'traceLevel':_0x4b3539['Debug'],'startTime':_0xebfa55,'timestamp':Date['now'](),'status':_0x544441(0x6e2),'content':_0x163c0f,'entitiesExtracted':Array[_0x544441(0x157)](_0x354354),'totalEntities':_0x354354[_0x544441(0x77a)]}),await _0xbf57a9(_0x41ae53,_0x3358b6,_0x5d765a,_0x354354,_0xf78dc1,_0x2cdf02,_0x5b4f89,_0xca7ff1);}async function _0x1848a5(_0x2256a9,_0x53c7a4,_0x3f2dd6,_0x4974bc){const _0x4e08fd=_0x45ef94,_0x25e758=await _0x4974bc[_0x4e08fd(0x7c1)](_0x2256a9,{'ner':_0x53c7a4[_0x4e08fd(0x9ed)][_0x4e08fd(0x89)],'noun':_0x53c7a4[_0x4e08fd(0x9ed)][_0x4e08fd(0x126)],'propn':_0x53c7a4['attributes'][_0x4e08fd(0x6fc)],'verb':_0x53c7a4[_0x4e08fd(0x9ed)][_0x4e08fd(0xa08)]});for(const _0x5a0968 of _0x25e758)_0x3f2dd6[_0x4e08fd(0x9fb)](_0x5a0968);}async function _0x33a62c(_0x14e771,_0x35eee5,_0x49cf9a,_0x1d64cb,_0x370629,_0x1a1d99,_0x534f09,_0x41afbe){const _0x503971=_0x45ef94,_0x5b3e95=Date[_0x503971(0x69)]();if(_0x1a1d99['accumulated']||(_0x1a1d99[_0x503971(0x252)]={}),_0x1d64cb instanceof Array?(_0x1a1d99[_0x503971(0x252)]['results']||(_0x1a1d99[_0x503971(0x252)][_0x503971(0x8ed)]=[]),_0x1a1d99['accumulated'][_0x503971(0x8ed)][_0x503971(0x59e)](..._0x1d64cb)):_0x1d64cb instanceof Set?_0x1a1d99['accumulated'][_0x503971(0x734)]=_0x1d64cb:_0x1a1d99[_0x503971(0x252)][_0x503971(0x119)]=_0x1d64cb,_0x1a1d99['timesCalled']=_0x1a1d99[_0x503971(0x234)]?_0x1a1d99['timesCalled']+0x1:0x1,_0x38c2c6(_0x1a1d99,_0x534f09[_0x503971(0x9d9)])>_0x1a1d99['timesCalled'])return;if(!_0x1a1d99[_0x503971(0x252)][_0x503971(0x119)]&&!_0x1a1d99[_0x503971(0x252)][_0x503971(0x8ed)]||!_0x1a1d99[_0x503971(0x252)]['entities'])throw new Error(_0x503971(0x322));const _0x4f71a4=_0x41afbe['contentMediator'][_0x503971(0x5e5)](_0x1a1d99['id'])[_0x503971(0x246)](Array[_0x503971(0x157)](_0x1a1d99[_0x503971(0x252)][_0x503971(0x734)]),_0x1a1d99['attributes'][_0x503971(0x22a)],_0x1a1d99[_0x503971(0x9ed)]['contentSize']);let _0x231b3c=[];for(const _0x56a439 in _0x4f71a4){const _0x58e79a=_0x4f71a4[_0x56a439];for(const _0x1aa7e5 of _0x58e79a){let _0xe9e31=0x0;if(_0x1a1d99['accumulated'][_0x503971(0x119)]&&(_0xe9e31=await _0x41afbe['nlpLibraryConnector'][_0x503971(0x490)](_0x1a1d99[_0x503971(0x252)]['prompt'],_0x1aa7e5)),_0x1a1d99[_0x503971(0x252)][_0x503971(0x8ed)]){for(const _0x3ea144 of _0x1a1d99[_0x503971(0x252)]['results'])_0xe9e31=Math[_0x503971(0x79)](_0xe9e31,await _0x41afbe['nlpLibraryConnector'][_0x503971(0x490)](_0x3ea144[_0x503971(0x2ec)],_0x1aa7e5));}_0xe9e31<_0x1a1d99[_0x503971(0x9ed)]['minRelevance']||_0x231b3c[_0x503971(0x59e)]({'content':_0x1aa7e5,'relevance':_0xe9e31,'pathName':_0x56a439});}}_0x231b3c=_0x231b3c[_0x503971(0xb8)]((_0x312719,_0x5c9c57)=>_0x5c9c57[_0x503971(0x759)]-_0x312719['relevance'])['slice'](0x0,_0x1a1d99[_0x503971(0x9ed)][_0x503971(0x194)]),await _0x3396a6[_0x503971(0x49a)]({'jobType':_0x1b7d31[_0x503971(0x13a)],'type':_0x38bcb9[_0x503971(0x496)],'jobId':_0x35eee5,'threadId':_0x49cf9a,'blockId':_0x1a1d99['id'],'traceLevel':_0x4b3539[_0x503971(0x728)],'timestamp':Date[_0x503971(0x69)](),'startTime':_0x5b3e95,'status':'success','content':_0x1d64cb,'topResults':_0x231b3c,'numResults':_0x231b3c['length']}),await _0xbf57a9(_0x14e771,_0x35eee5,_0x49cf9a,_0x231b3c,_0x370629,_0x1a1d99,_0x534f09,_0x41afbe);}async function _0x14f0f9(_0x397455,_0xf7fcc7,_0x10cd56,_0x310468,_0x3a487f,_0x27d1d0,_0x5df344,_0x5cabe5){const _0x3d43df=_0x45ef94,_0x578606=_0x5cabe5[_0x3d43df(0x480)]['find'](_0x5b78bf=>_0x5b78bf['id']===_0x27d1d0['id']);if(!_0x578606)throw new Error('Model\x20not\x20found');let _0x3ad962='';switch(_0x3ad962=_0x310468 instanceof Array?_0x310468[_0x3d43df(0x1f8)](_0x56470b=>_0x56470b[_0x3d43df(0x2ec)])['join'](',\x20'):_0x310468,_0x578606[_0x3d43df(0x890)]){case _0x29184c['GenerativeAIModelOutputType'][_0x3d43df(0x538)]:await async function(_0x53e6b2,_0x2eccdb,_0x3e68f9,_0x3ed995,_0x47e7da,_0x36220c,_0x534e7b,_0x175bb5,_0x5ab48a){const _0x30d66a=_0x3d43df,_0x50038f=Date[_0x30d66a(0x69)](),_0x34ce6d=await fetch(_0x25dcd9[_0x30d66a(0x5d5)]+_0x30d66a(0x321),{'method':_0x30d66a(0x57c),'headers':{'Content-Type':_0x30d66a(0x2e4),'x-vendor-id':_0x53e6b2},'body':JSON['stringify']({'messages':[{'role':'user','content':_0x3ed995}],'model':_0x36220c['id']})}),_0x573dd8=(await _0x34ce6d['json']())[_0x30d66a(0x6b1)][0x0][_0x30d66a(0x7c2)]['content'];await _0x3396a6[_0x30d66a(0x49a)]({'jobType':_0x1b7d31['Retrieve'],'type':_0x38bcb9[_0x30d66a(0x423)],'jobId':_0x2eccdb,'threadId':_0x3e68f9,'blockId':_0x534e7b['id'],'traceLevel':_0x4b3539[_0x30d66a(0x728)],'startTime':_0x50038f,'timestamp':Date['now'](),'status':_0x30d66a(0x6e2),'modelName':_0x36220c['id'],'content':_0x3ed995,'newPrompt':_0x573dd8,'inputType':_0x36220c[_0x30d66a(0x76a)],'outputType':_0x36220c['outputType']}),await _0xbf57a9(_0x53e6b2,_0x2eccdb,_0x3e68f9,_0x573dd8,_0x47e7da,_0x534e7b,_0x175bb5,_0x5ab48a);}(_0x397455,_0xf7fcc7,_0x10cd56,_0x3ad962,_0x3a487f,_0x578606,_0x27d1d0,_0x5df344,_0x5cabe5);break;case _0x29184c['GenerativeAIModelOutputType'][_0x3d43df(0x1cf)]:await async function(_0x32d04d,_0x5be726,_0x14c21a,_0xaa7539,_0x27479a,_0x45680a,_0x45f116,_0x253837,_0x58aedc){const _0x5deb4e=_0x3d43df,_0x28e2b8=Date[_0x5deb4e(0x69)](),_0x14e3da=await fetch(_0x25dcd9[_0x5deb4e(0x5d5)]+_0x5deb4e(0xd5),{'method':'POST','headers':{'Content-Type':_0x5deb4e(0x2e4),'x-vendor-id':_0x32d04d},'body':JSON[_0x5deb4e(0xa51)]({'input':_0xaa7539,'model':_0x45680a['id']})}),_0x93f789=(await _0x14e3da[_0x5deb4e(0x5af)]())[_0x5deb4e(0x1a0)][0x0][_0x5deb4e(0x142)];await _0x3396a6['trace']({'jobType':_0x1b7d31[_0x5deb4e(0x13a)],'type':_0x38bcb9[_0x5deb4e(0x1c2)],'jobId':_0x5be726,'threadId':_0x14c21a,'blockId':_0x45f116['id'],'traceLevel':_0x4b3539[_0x5deb4e(0x728)],'startTime':_0x28e2b8,'timestamp':Date[_0x5deb4e(0x69)](),'status':'success','modelName':_0x45680a['id'],'content':_0xaa7539,'totalVectors':_0x93f789[_0x5deb4e(0x453)]}),await _0xbf57a9(_0x32d04d,_0x5be726,_0x14c21a,_0x93f789,_0x27479a,_0x45f116,_0x253837,_0x58aedc);}(_0x397455,_0xf7fcc7,_0x10cd56,_0x3ad962,_0x3a487f,_0x578606,_0x27d1d0,_0x5df344,_0x5cabe5);}}async function _0x516e3e(_0x68ae60,_0x1c5497,_0xc8e464,_0x27d315,_0x3b74ee,_0x222e1b,_0x1b0ec7,_0x3dbe29){const _0x540294=_0x45ef94,_0x487cec=Date[_0x540294(0x69)]();if(_0x222e1b['accumulated']||(_0x222e1b[_0x540294(0x252)]={}),_0x27d315 instanceof Array?(_0x222e1b[_0x540294(0x252)][_0x540294(0x8ed)]||(_0x222e1b[_0x540294(0x252)][_0x540294(0x8ed)]=[]),_0x222e1b[_0x540294(0x252)][_0x540294(0x8ed)][_0x540294(0x59e)](..._0x27d315)):_0x222e1b['accumulated']['prompt']=_0x27d315,_0x222e1b[_0x540294(0x234)]=_0x222e1b['timesCalled']?_0x222e1b[_0x540294(0x234)]+0x1:0x1,_0x38c2c6(_0x222e1b,_0x1b0ec7[_0x540294(0x9d9)])>_0x222e1b[_0x540294(0x234)])return;if(!_0x222e1b[_0x540294(0x252)]['prompt']||!_0x222e1b[_0x540294(0x252)][_0x540294(0x8ed)])throw new Error(_0x540294(0x10c));for(const _0x4a7a45 of _0x222e1b['accumulated'][_0x540294(0x8ed)])_0x4a7a45['relevance']=await _0x3dbe29[_0x540294(0x8ea)][_0x540294(0x490)](_0x222e1b[_0x540294(0x252)][_0x540294(0x119)],_0x4a7a45[_0x540294(0x2ec)]);const _0x2c6e1a=_0x222e1b[_0x540294(0x252)][_0x540294(0x8ed)]['filter'](_0x5336ca=>_0x5336ca[_0x540294(0x759)]>_0x222e1b['attributes'][_0x540294(0x63a)])[_0x540294(0xb8)]((_0x4875aa,_0x1ea344)=>_0x1ea344['relevance']-_0x4875aa['relevance'])[_0x540294(0x2ad)](0x0,_0x222e1b[_0x540294(0x9ed)][_0x540294(0x194)]);await _0x3396a6[_0x540294(0x49a)]({'jobType':_0x1b7d31[_0x540294(0x13a)],'type':_0x38bcb9[_0x540294(0x8e)],'jobId':_0x1c5497,'threadId':_0xc8e464,'blockId':_0x222e1b['id'],'traceLevel':_0x4b3539[_0x540294(0x728)],'startTime':_0x487cec,'timestamp':Date[_0x540294(0x69)](),'status':_0x540294(0x6e2),'inputResults':_0x222e1b['accumulated'][_0x540294(0x8ed)],'rerankedResults':_0x2c6e1a}),await _0xbf57a9(_0x68ae60,_0x1c5497,_0xc8e464,_0x2c6e1a,_0x3b74ee,_0x222e1b,_0x1b0ec7,_0x3dbe29);}async function _0x151ec9(_0x4e790b,_0x463e22,_0x2c505e,_0x5a6af2,_0x202a6a,_0x45992c,_0x57bcd4,_0x149f30){const _0x51331c=_0x45ef94,_0x49627c=Date['now']();if(_0x45992c[_0x51331c(0x252)]||(_0x45992c[_0x51331c(0x252)]={}),_0x5a6af2 instanceof Array?_0x45992c[_0x51331c(0x252)]['vector']=_0x5a6af2:_0x45992c[_0x51331c(0x252)]['content']=_0x5a6af2,_0x45992c['timesCalled']=_0x45992c[_0x51331c(0x234)]?_0x45992c[_0x51331c(0x234)]+0x1:0x1,!(_0x38c2c6(_0x45992c,_0x57bcd4['retrieveBlocks'])>_0x45992c['timesCalled'])){if('vector-database'===_0x45992c['id']){if(!_0x45992c['accumulated'][_0x51331c(0x1fb)])throw new Error(_0x51331c(0x7ba));if(!_0x149f30[_0x51331c(0x551)])throw new Error(_0x51331c(0x1e2));const _0x24da25=_0x5960c9(_0x4e790b,_0x57bcd4);let _0x2fcfee=await _0x149f30[_0x51331c(0x551)]?.[_0x51331c(0x383)](_0x24da25,_0x57bcd4['id'],_0x45992c['accumulated'][_0x51331c(0x1fb)],_0x45992c[_0x51331c(0x9ed)][_0x51331c(0x194)]);_0x2fcfee=_0x2fcfee[_0x51331c(0x533)](_0x3958c5=>_0x3958c5[_0x51331c(0x759)]>_0x45992c[_0x51331c(0x9ed)]['minRelevance'])||[];const _0x44b542=[];for(const _0x4fbf64 of _0x2fcfee){if(!_0x149f30[_0x51331c(0x6e0)])throw new Error(_0x51331c(0x6cf));if(void 0x0===_0x4fbf64[_0x51331c(0x21b)]||void 0x0===_0x4fbf64['length'])throw new Error(_0x51331c(0x20d));const _0x4ad6cb=await _0x149f30[_0x51331c(0x6e0)][_0x51331c(0x1f5)](_0x4fbf64['pathName']);let _0x427e1c='';if(_0x4ad6cb['type'][_0x51331c(0x1a2)](_0x51331c(0x3c0))||_0x48e720(_0x4ad6cb[_0x51331c(0x388)],_0x369f85))_0x427e1c=await _0x4ad6cb[_0x51331c(0x1b7)]();else{if(!_0x149f30[_0x51331c(0x97d)][_0x51331c(0x494)](_0x4ad6cb))throw new Error(_0x51331c(0x268)+_0x4ad6cb[_0x51331c(0x6e1)]+_0x51331c(0x4cc)+_0x4ad6cb[_0x51331c(0x388)]);_0x427e1c=await _0x149f30[_0x51331c(0x97d)][_0x51331c(0x562)](_0x4ad6cb);}_0x44b542[_0x51331c(0x59e)]({'pathName':_0x4fbf64[_0x51331c(0xbc)],'content':_0x427e1c['substring'](_0x4fbf64[_0x51331c(0x21b)],_0x4fbf64[_0x51331c(0x21b)]+_0x4fbf64['length']),'relevance':_0x4fbf64[_0x51331c(0x759)]});}await _0xbf57a9(_0x4e790b,_0x463e22,_0x2c505e,_0x44b542,_0x202a6a,_0x45992c,_0x57bcd4,_0x149f30);}else{if(!_0x45992c[_0x51331c(0x252)][_0x51331c(0x1fb)]||!_0x45992c[_0x51331c(0x252)][_0x51331c(0x2ec)])throw new Error(_0x51331c(0x7ba));const _0xb48abb=await _0x149f30[_0x51331c(0x8ea)][_0x51331c(0x7c1)](_0x45992c[_0x51331c(0x252)][_0x51331c(0x2ec)],{'ner':!0x1,'noun':!0x0,'propn':!0x1,'verb':!0x1}),_0x284ebb=_0x149f30['contentMediator'][_0x51331c(0x426)](_0x45992c['id'])[_0x51331c(0x97e)](_0xb48abb,_0x45992c[_0x51331c(0x252)][_0x51331c(0x1fb)],_0x45992c[_0x51331c(0x9ed)][_0x51331c(0x194)],_0x45992c[_0x51331c(0x9ed)][_0x51331c(0x63a)],_0x45992c[_0x51331c(0x9ed)]['contentSize']);await _0x3396a6[_0x51331c(0x49a)]({'jobType':_0x1b7d31['Retrieve'],'type':_0x38bcb9['VectorSearch'],'jobId':_0x463e22,'threadId':_0x2c505e,'blockId':_0x45992c['id'],'traceLevel':_0x4b3539[_0x51331c(0x728)],'startTime':_0x49627c,'timestamp':Date[_0x51331c(0x69)](),'status':_0x51331c(0x6e2),'topResults':_0x284ebb,'numResults':_0x284ebb[_0x51331c(0x453)]}),await _0xbf57a9(_0x4e790b,_0x463e22,_0x2c505e,_0x284ebb,_0x202a6a,_0x45992c,_0x57bcd4,_0x149f30);}}}async function _0xbf57a9(_0x2506c3,_0x591d09,_0x20b753,_0x21634d,_0x9228b7,_0x5a0e38,_0x28a86f,_0x3dab65){const _0x5da0a3=_0x45ef94;for(const _0x596dd8 of _0x5a0e38[_0x5da0a3(0x137)]||[]){const _0x14bbca=_0x28a86f[_0x5da0a3(0x9d9)][_0x5da0a3(0x786)](_0x4f4183=>_0x4f4183['uid']===_0x596dd8['uid']);if(_0x14bbca)switch(_0x14bbca[_0x5da0a3(0x6e1)]){case _0x33a97f[_0x5da0a3(0x83d)]:_0x596dd8[_0x5da0a3(0x6e1)]===_0x26e9fd[_0x5da0a3(0x81a)]&&_0x21634d instanceof Array&&_0x9228b7['context'][_0x5da0a3(0x59e)](..._0x21634d);break;case _0x33a97f[_0x5da0a3(0x7dd)]:if(_0x596dd8[_0x5da0a3(0x6e1)]===_0x26e9fd[_0x5da0a3(0x538)]&&_0x5da0a3(0x829)==typeof _0x21634d){if(!_0x28a86f[_0x5da0a3(0x3ef)])throw new Error('Model\x20ID\x20is\x20required\x20for\x20Embed\x20block');const _0x5981fc={'type':_0x33a97f[_0x5da0a3(0x789)],'id':_0x28a86f['modelId'],'uid':(0x0,_0xa305bc['v4'])(),'links':_0x14bbca[_0x5da0a3(0x137)]};await _0x14f0f9(_0x2506c3,_0x591d09,_0x20b753,_0x21634d,_0x9228b7,_0x5981fc,_0x28a86f,_0x3dab65);}break;case _0x33a97f[_0x5da0a3(0x83a)]:_0x596dd8[_0x5da0a3(0x6e1)]===_0x26e9fd[_0x5da0a3(0x538)]&&_0x5da0a3(0x829)==typeof _0x21634d&&await _0x55aa89(_0x2506c3,_0x591d09,_0x20b753,_0x21634d,_0x9228b7,_0x14bbca,_0x28a86f,_0x3dab65),_0x596dd8['type']===_0x26e9fd[_0x5da0a3(0x81a)]&&_0x21634d instanceof Array&&await _0x55aa89(_0x2506c3,_0x591d09,_0x20b753,_0x21634d,_0x9228b7,_0x14bbca,_0x28a86f,_0x3dab65);break;case _0x33a97f['GraphDatabase']:_0x596dd8['type']===_0x26e9fd[_0x5da0a3(0x538)]&&_0x5da0a3(0x829)==typeof _0x21634d&&await _0x33a62c(_0x2506c3,_0x591d09,_0x20b753,_0x21634d,_0x9228b7,_0x14bbca,_0x28a86f,_0x3dab65),_0x596dd8['type']===_0x26e9fd['Search']&&_0x21634d instanceof Array&&await _0x33a62c(_0x2506c3,_0x591d09,_0x20b753,_0x21634d,_0x9228b7,_0x14bbca,_0x28a86f,_0x3dab65),_0x596dd8[_0x5da0a3(0x6e1)]===_0x26e9fd[_0x5da0a3(0x5a8)]&&_0x21634d instanceof Set&&await _0x33a62c(_0x2506c3,_0x591d09,_0x20b753,_0x21634d,_0x9228b7,_0x14bbca,_0x28a86f,_0x3dab65);break;case _0x33a97f[_0x5da0a3(0x789)]:_0x596dd8[_0x5da0a3(0x6e1)]===_0x26e9fd[_0x5da0a3(0x538)]&&_0x5da0a3(0x829)==typeof _0x21634d&&await _0x14f0f9(_0x2506c3,_0x591d09,_0x20b753,_0x21634d,_0x9228b7,_0x14bbca,_0x28a86f,_0x3dab65),_0x596dd8['type']===_0x26e9fd[_0x5da0a3(0x81a)]&&_0x21634d instanceof Array&&await _0x14f0f9(_0x2506c3,_0x591d09,_0x20b753,_0x21634d,_0x9228b7,_0x14bbca,_0x28a86f,_0x3dab65);break;case _0x33a97f[_0x5da0a3(0x8e)]:_0x596dd8['type']===_0x26e9fd[_0x5da0a3(0x538)]&&'string'==typeof _0x21634d&&await _0x516e3e(_0x2506c3,_0x591d09,_0x20b753,_0x21634d,_0x9228b7,_0x14bbca,_0x28a86f,_0x3dab65),_0x596dd8[_0x5da0a3(0x6e1)]===_0x26e9fd['Search']&&_0x21634d instanceof Array&&await _0x516e3e(_0x2506c3,_0x591d09,_0x20b753,_0x21634d,_0x9228b7,_0x14bbca,_0x28a86f,_0x3dab65);break;case _0x33a97f[_0x5da0a3(0x851)]:_0x596dd8[_0x5da0a3(0x6e1)]===_0x26e9fd['Text']&&_0x5da0a3(0x829)==typeof _0x21634d&&await _0x151ec9(_0x2506c3,_0x591d09,_0x20b753,_0x21634d,_0x9228b7,_0x14bbca,_0x28a86f,_0x3dab65),_0x596dd8[_0x5da0a3(0x6e1)]===_0x26e9fd[_0x5da0a3(0x1cf)]&&_0x21634d instanceof Array&&await _0x151ec9(_0x2506c3,_0x591d09,_0x20b753,_0x21634d,_0x9228b7,_0x14bbca,_0x28a86f,_0x3dab65);}}}function _0x38c2c6(_0x47556f,_0x5a0898){const _0x2d6d08=_0x45ef94;return _0x5a0898[_0x2d6d08(0x533)](_0x50c67e=>_0x50c67e['links']?.[_0x2d6d08(0x3d9)](_0xc7714b=>_0xc7714b[_0x2d6d08(0x4c8)]===_0x47556f[_0x2d6d08(0x4c8)]))[_0x2d6d08(0x453)];}class _0x38cdf1 extends _0x18b6e4{[_0x45ef94(0x7a9)];[_0x45ef94(0x56d)];[_0x45ef94(0x6e0)];[_0x45ef94(0x97d)];['fileConnector'];[_0x45ef94(0x8ea)];[_0x45ef94(0x3d6)];[_0x45ef94(0x99f)];[_0x45ef94(0x1e5)];[_0x45ef94(0x24d)];[_0x45ef94(0x7e2)];[_0x45ef94(0x75a)]=new Map();['models']=new Map();[_0x45ef94(0x706)];[_0x45ef94(0x242)]=0x0;[_0x45ef94(0x411)]=0x0;[_0x45ef94(0x123)]=!0x1;constructor(_0x147397,_0x1d19db,_0x136a69,_0x14d42e,_0xa01d20,_0x5d1183,_0x29ed6d,_0x5597b6,_0x1a3d11,_0x4e9d73,_0x2404f4,_0x5d0c55,_0x41d4b9,_0x432f5d){const _0x12e68c=_0x45ef94;super(_0x147397,_0x1d19db,_0x136a69),this[_0x12e68c(0x7a9)]=_0x14d42e,this['generativeAIWorkerConnectors']=_0xa01d20,this[_0x12e68c(0x6e0)]=_0x5d1183,this[_0x12e68c(0x97d)]=_0x29ed6d,this['fileConnector']=_0x5597b6,this[_0x12e68c(0x8ea)]=_0x1a3d11,this[_0x12e68c(0x3d6)]=_0x4e9d73,this[_0x12e68c(0x99f)]=_0x2404f4,this[_0x12e68c(0x1e5)]=_0x5d0c55,this['ragConnectors']=_0x41d4b9,this[_0x12e68c(0x7e2)]=_0x432f5d;}async[_0x45ef94(0x9d1)](){const _0x3e7549=_0x45ef94;for(const _0x44fa4f of this[_0x3e7549(0x56d)])await _0x44fa4f[_0x3e7549(0x8b0)]();this[_0x3e7549(0x75a)]['forEach'](_0x35ab43=>_0x35ab43[_0x3e7549(0x2b6)](this[_0x3e7549(0x8f4)])),this[_0x3e7549(0x706)]&&(clearTimeout(this[_0x3e7549(0x706)]),delete this[_0x3e7549(0x706)]),super[_0x3e7549(0x9d1)]();}async[_0x45ef94(0x7ae)](_0x330795=!0x1){const _0x421082=_0x45ef94;if(this[_0x421082(0x123)])super[_0x421082(0x7ae)]();else{_0x301706[_0x421082(0x775)]('GenerativeAIWorker:\x20Opening',this[_0x421082(0x8f4)]),this[_0x421082(0x480)]['set'](_0x421082(0x965),{'id':'all-minilm-l12-v2','engineType':_0x29184c[_0x421082(0x27c)][_0x421082(0x4a5)],'taskType':_0x29184c[_0x421082(0x6ac)][_0x421082(0x776)],'inputType':_0x29184c[_0x421082(0x2b5)][_0x421082(0x538)],'outputType':_0x29184c[_0x421082(0x8d0)][_0x421082(0x1cf)],'sourceUrl':_0x421082(0x151)}),this[_0x421082(0x480)]['set'](_0x421082(0x44b),{'id':_0x421082(0x44b),'engineType':_0x29184c[_0x421082(0x27c)][_0x421082(0x720)],'taskType':_0x29184c[_0x421082(0x6ac)][_0x421082(0x776)],'inputType':_0x29184c[_0x421082(0x2b5)][_0x421082(0x538)],'outputType':_0x29184c[_0x421082(0x8d0)][_0x421082(0x1cf)],'sourceUrl':''}),this[_0x421082(0x480)][_0x421082(0x2b3)](_0x421082(0x687),{'id':_0x421082(0x687),'engineType':_0x29184c[_0x421082(0x27c)][_0x421082(0x720)],'taskType':_0x29184c[_0x421082(0x6ac)][_0x421082(0x776)],'inputType':_0x29184c[_0x421082(0x2b5)][_0x421082(0x538)],'outputType':_0x29184c[_0x421082(0x8d0)]['Vector'],'sourceUrl':''}),this[_0x421082(0x480)][_0x421082(0x2b3)](_0x421082(0x2fa),{'id':_0x421082(0x2fa),'engineType':_0x29184c[_0x421082(0x27c)][_0x421082(0x4a5)],'taskType':_0x29184c[_0x421082(0x6ac)][_0x421082(0x83)],'inputType':_0x29184c[_0x421082(0x2b5)][_0x421082(0x538)],'outputType':_0x29184c[_0x421082(0x8d0)]['Text'],'knowledgeCutoffDate':'December\x202023','sourceUrl':'https://huggingface.co/bartowski/Meta-Llama-3.1-8B-Instruct-GGUF/resolve/main/Meta-Llama-3.1-8B-Instruct-Q8_0.gguf'}),this[_0x421082(0x480)][_0x421082(0x2b3)]('llama-3.2-3b',{'id':_0x421082(0x8b9),'engineType':_0x29184c[_0x421082(0x27c)]['Llamacpp'],'taskType':_0x29184c[_0x421082(0x6ac)][_0x421082(0x83)],'inputType':_0x29184c[_0x421082(0x2b5)][_0x421082(0x538)],'outputType':_0x29184c[_0x421082(0x8d0)][_0x421082(0x538)],'knowledgeCutoffDate':'December\x202023','sourceUrl':_0x421082(0x124)}),this[_0x421082(0x480)]['set']('phi-4-14b',{'id':'phi-4-14b','engineType':_0x29184c[_0x421082(0x27c)][_0x421082(0x4a5)],'taskType':_0x29184c['GenerativeAITaskType']['TextGeneration'],'inputType':_0x29184c[_0x421082(0x2b5)]['Text'],'outputType':_0x29184c[_0x421082(0x8d0)][_0x421082(0x538)],'knowledgeCutoffDate':_0x421082(0x76d),'sourceUrl':'https://huggingface.co/bartowski/phi-4-GGUF/resolve/main/phi-4-Q8_0.gguf'}),this[_0x421082(0x480)][_0x421082(0x2b3)](_0x421082(0x507),{'id':'gpt-4o','engineType':_0x29184c[_0x421082(0x27c)][_0x421082(0x720)],'taskType':_0x29184c['GenerativeAITaskType']['TextGeneration'],'inputType':_0x29184c[_0x421082(0x2b5)][_0x421082(0x538)],'outputType':_0x29184c[_0x421082(0x8d0)][_0x421082(0x538)],'knowledgeCutoffDate':_0x421082(0x630),'sourceUrl':''}),this[_0x421082(0x480)][_0x421082(0x2b3)](_0x421082(0xa59),{'id':'gpt-4o-mini','engineType':_0x29184c[_0x421082(0x27c)][_0x421082(0x720)],'taskType':_0x29184c['GenerativeAITaskType'][_0x421082(0x83)],'inputType':_0x29184c['GenerativeAIModelInputType'][_0x421082(0x538)],'outputType':_0x29184c[_0x421082(0x8d0)][_0x421082(0x538)],'knowledgeCutoffDate':_0x421082(0x630),'sourceUrl':''}),this[_0x421082(0x480)][_0x421082(0x2b3)]('o1',{'id':'o1','engineType':_0x29184c['GenerativeAIEngineType'][_0x421082(0x720)],'taskType':_0x29184c[_0x421082(0x6ac)][_0x421082(0x83)],'inputType':_0x29184c[_0x421082(0x2b5)][_0x421082(0x538)],'outputType':_0x29184c[_0x421082(0x8d0)][_0x421082(0x538)],'knowledgeCutoffDate':'October\x202023','sourceUrl':''}),this[_0x421082(0x480)]['set'](_0x421082(0x76f),{'id':_0x421082(0x76f),'engineType':_0x29184c[_0x421082(0x27c)]['OpenAI'],'taskType':_0x29184c[_0x421082(0x6ac)][_0x421082(0x83)],'inputType':_0x29184c[_0x421082(0x2b5)][_0x421082(0x538)],'outputType':_0x29184c['GenerativeAIModelOutputType']['Text'],'knowledgeCutoffDate':_0x421082(0x630),'sourceUrl':''}),this['models'][_0x421082(0x2b3)]('claude-3-7-sonnet-latest',{'id':'claude-3-7-sonnet-latest','engineType':_0x29184c['GenerativeAIEngineType'][_0x421082(0xe6)],'taskType':_0x29184c[_0x421082(0x6ac)]['TextGeneration'],'inputType':_0x29184c[_0x421082(0x2b5)]['Text'],'outputType':_0x29184c['GenerativeAIModelOutputType']['Text'],'knowledgeCutoffDate':_0x421082(0x556),'sourceUrl':''}),this[_0x421082(0x480)][_0x421082(0x2b3)]('claude-3-5-haiku-latest',{'id':_0x421082(0x219),'engineType':_0x29184c['GenerativeAIEngineType'][_0x421082(0xe6)],'taskType':_0x29184c['GenerativeAITaskType'][_0x421082(0x83)],'inputType':_0x29184c['GenerativeAIModelInputType']['Text'],'outputType':_0x29184c[_0x421082(0x8d0)][_0x421082(0x538)],'knowledgeCutoffDate':_0x421082(0x6fe),'sourceUrl':''}),this['models'][_0x421082(0x2b3)](_0x421082(0x910),{'id':_0x421082(0x910),'engineType':_0x29184c['GenerativeAIEngineType'][_0x421082(0xe6)],'taskType':_0x29184c['GenerativeAITaskType'][_0x421082(0x83)],'inputType':_0x29184c[_0x421082(0x2b5)]['Text'],'outputType':_0x29184c[_0x421082(0x8d0)]['Text'],'knowledgeCutoffDate':_0x421082(0x954),'sourceUrl':''}),this['models'][_0x421082(0x2b3)]('claude-3-opus-latest',{'id':_0x421082(0x1b8),'engineType':_0x29184c[_0x421082(0x27c)][_0x421082(0xe6)],'taskType':_0x29184c[_0x421082(0x6ac)][_0x421082(0x83)],'inputType':_0x29184c[_0x421082(0x2b5)][_0x421082(0x538)],'outputType':_0x29184c[_0x421082(0x8d0)]['Text'],'knowledgeCutoffDate':'August\x202023','sourceUrl':''});try{for(const _0x3f6554 of this[_0x421082(0x56d)])await _0x3f6554[_0x421082(0x47a)](this[_0x421082(0x8f4)],this[_0x421082(0x480)]);}catch(_0x468724){return this[_0x421082(0x7ae)](_0x330795);}this[_0x421082(0x123)]=!0x0,this[_0x421082(0x707)](),super[_0x421082(0x7ae)](),_0x301706[_0x421082(0x775)](_0x421082(0x34d),this[_0x421082(0x8f4)]);}}[_0x45ef94(0x9a1)](){const _0x3ec33c=_0x45ef94;this[_0x3ec33c(0x242)]=0x0,this['tokens']=0x0,this[_0x3ec33c(0x707)](),super['reset']();}[_0x45ef94(0x9fe)](){return this['sendStats'](),this['getCoresFromCapacityReport']();}[_0x45ef94(0x8c5)](_0x5eb3dd,_0x531538,_0x93068a){const _0x5cd2b2=_0x45ef94,{outputTokens:_0x7c2e17=0x0,output:_0x375c18=''}=_0x5eb3dd,_0x39c9cd=_0x7c2e17/((_0x93068a-_0x531538)/0x3e8);this[_0x5cd2b2(0x242)]+=0x1,this[_0x5cd2b2(0x411)]+=_0x7c2e17,this['logServiceEvent'](_0x39c9cd,_0x7c2e17),this['sendStats']();}[_0x45ef94(0x39b)](_0x4de0c2,_0xf2babb){const _0x2314de=_0x45ef94;return _0x4de0c2['output']=_0x4de0c2[_0x2314de(0x3a5)]??'',{'type':'prompt','output':_0x2314de(0x829)==typeof _0x4de0c2['output']&&_0x2314de(0x829)==typeof _0xf2babb[_0x2314de(0x3a5)]?_0x4de0c2[_0x2314de(0x3a5)]+_0xf2babb[_0x2314de(0x3a5)]:_0xf2babb[_0x2314de(0x3a5)],'outputTokens':_0xf2babb[_0x2314de(0x15d)]??_0x4de0c2['outputTokens'],'inputTokens':_0xf2babb['inputTokens']??_0x4de0c2[_0x2314de(0xa50)]};}async['internalProcessJob'](_0x8c7be0,_0x4ebb27){const _0x4c5a4a=_0x45ef94;if(_0x4c5a4a(0x119)===_0x4ebb27['type']){const _0x13458f=await _0x3e9180[_0x4c5a4a(0x38b)](_0x4ebb27[_0x4c5a4a(0x154)],_0x4ebb27[_0x4c5a4a(0x927)]),_0x18a17b=_0x13458f[_0x4c5a4a(0x636)]['find'](_0x1fb74d=>_0x1fb74d[_0x4c5a4a(0x6e1)]===_0x108ef7[_0x4c5a4a(0x16a)]),_0x2d53a5=await async function(_0x33e6c0,_0x1a532e,_0x216734,_0x55c1aa,_0x2b9648){const _0x4e0c2e=_0x4c5a4a,_0x21567a=_0x1a532e[_0x4e0c2e(0x4c0)]??(0x0,_0xa305bc['v4'])(),_0x2f025c=Date[_0x4e0c2e(0x69)]();await _0x3396a6[_0x4e0c2e(0x49a)]({'jobType':_0x1b7d31[_0x4e0c2e(0x66e)],'type':_0x463099['InitialPrompt'],'jobId':_0x33e6c0,'blockId':_0x216734['id'],'agentId':_0x21567a,'threadId':_0x1a532e[_0x4e0c2e(0x518)],'traceLevel':_0x4b3539[_0x4e0c2e(0x9e5)],'startTime':Date[_0x4e0c2e(0x69)](),'timestamp':Date['now'](),'status':_0x4e0c2e(0x6e2),'initialPrompt':_0x1a532e[_0x4e0c2e(0x119)]});const _0x5c0a43={'type':'prompt','context':[],'inputTokens':0x0,'outputTokens':0x0};_0x1a532e[_0x4e0c2e(0x1f0)]&&(_0x5c0a43[_0x4e0c2e(0x1f0)]=_0x1a532e[_0x4e0c2e(0x1f0)]),await _0x4fc683(_0x1a532e,_0x5c0a43,_0x216734,_0x55c1aa,_0x2b9648),await _0x502388(_0x33e6c0,''+_0x1a532e[_0x4e0c2e(0x119)],_0x1a532e,_0x5c0a43,_0x216734,_0x55c1aa,_0x2b9648);const {inputTokens:_0x248d41=0x0,outputTokens:_0x126070=0x0,context:_0x13e264=[]}=_0x5c0a43;await _0x3396a6[_0x4e0c2e(0x49a)]({'jobType':_0x1b7d31[_0x4e0c2e(0x66e)],'type':_0x463099[_0x4e0c2e(0x512)],'jobId':_0x33e6c0,'agentId':_0x21567a,'threadId':_0x1a532e[_0x4e0c2e(0x518)],'traceLevel':_0x4b3539[_0x4e0c2e(0x9e5)],'startTime':_0x2f025c,'timestamp':Date['now'](),'blockId':_0x216734['id'],'status':_0x4e0c2e(0x6e2),'output':_0x5c0a43['output']?.[_0x4e0c2e(0x70f)]()??'','prompt':_0x1a532e[_0x4e0c2e(0x119)],'agentName':'','history':_0x1a532e[_0x4e0c2e(0x729)]??[],'instructions':''+(_0x1a532e[_0x4e0c2e(0x68e)]??''),'ragContext':_0x13e264,'inputTokens':_0x248d41,'outputTokens':_0x126070});const _0x35d6a8=_0x55c1aa['find'](_0x4896c9=>_0x4896c9['type']===_0x108ef7[_0x4e0c2e(0x7db)]);return{'type':_0x4e0c2e(0x119),'output':_0x5c0a43[_0x4e0c2e(0x3a5)],'context':_0x5c0a43[_0x4e0c2e(0x86d)],'internalContext':_0x5c0a43[_0x4e0c2e(0x1f0)],'resultFile':await _0x35d6a8?.[_0x4e0c2e(0x252)]?.['file']?.[_0x4e0c2e(0x1b7)]()??void 0x0,'inputTokens':_0x5c0a43['inputTokens']??0x0,'outputTokens':_0x5c0a43[_0x4e0c2e(0x15d)]??0x0};}(_0x4ebb27[_0x4c5a4a(0x328)]??_0x8c7be0,_0x4ebb27,_0x18a17b,_0x13458f[_0x4c5a4a(0x636)],{'documentParserConnector':this[_0x4c5a4a(0x97d)],'fileConnector':this[_0x4c5a4a(0x57b)],'nlpLibraryConnector':this[_0x4c5a4a(0x8ea)],'generativeAIWorkerConnectors':this[_0x4c5a4a(0x56d)],'models':Array[_0x4c5a4a(0x157)](this[_0x4c5a4a(0x480)][_0x4c5a4a(0x67a)]()),'contentMediator':this[_0x4c5a4a(0x7a9)],'searchConnector':this[_0x4c5a4a(0x3d6)],'aiSearchConnector':this[_0x4c5a4a(0x99f)],'queryFileConnector':this[_0x4c5a4a(0x1e5)]});return _0x2d53a5;}if(_0x4c5a4a(0x685)===_0x4ebb27[_0x4c5a4a(0x6e1)])return await async function(_0x40dbbc,_0x50e4e3){const _0x1aa53d=_0x4c5a4a,_0x5eb7ee=await async function(_0x17645d,_0x1ef336){const _0x5efcd7=a0_0x395e,_0x59797e=_0x1ef336[_0x5efcd7(0x480)][_0x5efcd7(0x786)](_0x52de34=>_0x52de34['id']===_0x17645d[_0x5efcd7(0x275)]);if(!_0x59797e)throw new Error(_0x5efcd7(0x4e5));const _0x4f4831=_0x1ef336[_0x5efcd7(0x56d)]['find'](_0x4d6790=>_0x4d6790[_0x5efcd7(0x8ee)]()===_0x59797e[_0x5efcd7(0x31e)]);if(!_0x4f4831)throw new Error('No\x20connector\x20found\x20for\x20model');return _0x4f4831[_0x5efcd7(0x7da)]({'type':_0x5efcd7(0x119),'prompt':_0x17645d['text'],'threadId':_0x17645d[_0x5efcd7(0x518)]},{'model':_0x59797e,'sequences':0x1});}(_0x40dbbc,_0x50e4e3);return{'type':_0x1aa53d(0x119),'output':_0x5eb7ee[_0x1aa53d(0x3a5)],'inputTokens':_0x5eb7ee[_0x1aa53d(0xa50)]??0x0,'outputTokens':_0x5eb7ee[_0x1aa53d(0x15d)]??0x0};}(_0x4ebb27,{'documentParserConnector':this[_0x4c5a4a(0x97d)],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this[_0x4c5a4a(0x8ea)],'generativeAIWorkerConnectors':this[_0x4c5a4a(0x56d)],'models':Array[_0x4c5a4a(0x157)](this['models']['values']()),'contentMediator':this[_0x4c5a4a(0x7a9)],'searchConnector':this[_0x4c5a4a(0x3d6)],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this[_0x4c5a4a(0x1e5)]});if(_0x4c5a4a(0x89f)===_0x4ebb27[_0x4c5a4a(0x6e1)])return await async function(_0x350395,_0x330d89,_0x1896d7){const _0x4ee518=_0x4c5a4a,_0x1f856a=_0x330d89[_0x4ee518(0x4c0)]??(0x0,_0xa305bc['v4'])(),_0x319ae9={'type':'prompt','context':[],'internalContext':_0x330d89[_0x4ee518(0x1f0)]??{},'inputTokens':0x0,'outputTokens':0x0},_0x520dbe=await async function(_0xee429a,_0x28c87e,_0x57c9a0,_0x4edad5,_0x3842d8){const _0x2ab1a1=_0x4ee518,_0x29a9a6=_0x3842d8[_0x2ab1a1(0x480)][_0x2ab1a1(0x786)](_0x359edb=>_0x359edb['id']===_0x57c9a0[_0x2ab1a1(0x275)]);if(!_0x29a9a6)throw new Error(_0x2ab1a1(0x4e5));const _0xb28126=_0x3842d8[_0x2ab1a1(0x56d)]['find'](_0x161578=>_0x161578[_0x2ab1a1(0x8ee)]()===_0x29a9a6[_0x2ab1a1(0x31e)]);if(!_0xb28126)throw new Error(_0x2ab1a1(0xa6));const _0xb709b3=await _0x439447(_0xee429a,_0x28c87e,_0x57c9a0,_0x4edad5,_0x57c9a0['tools']??[],_0x3842d8);return _0xb28126[_0x2ab1a1(0x7da)]({'type':_0x2ab1a1(0x119),'prompt':_0x57c9a0['prompt'],'instructions':_0x57c9a0[_0x2ab1a1(0x68e)],'reasoning':_0x57c9a0[_0x2ab1a1(0x4bb)],'grammar':_0x57c9a0[_0x2ab1a1(0x963)],'temperature':_0x57c9a0[_0x2ab1a1(0x400)],'maxTokens':_0x57c9a0[_0x2ab1a1(0xb5)],'history':_0x57c9a0['history'],'functions':_0xb709b3,'threadId':_0x57c9a0['threadId']},{'model':_0x29a9a6,'sequences':Array['from'](_0xb709b3[_0x2ab1a1(0x428)]())[_0x2ab1a1(0x3d9)](_0x26d765=>_0x26d765[_0x2ab1a1(0x1a2)](_0x2ab1a1(0x693)))?0x2:0x1});}(_0x350395,_0x1f856a,_0x330d89,_0x319ae9,_0x1896d7);return{'type':_0x4ee518(0x119),'output':_0x520dbe['output'],'context':_0x319ae9[_0x4ee518(0x86d)],'internalContext':_0x319ae9[_0x4ee518(0x1f0)]??{},'inputTokens':_0x520dbe[_0x4ee518(0xa50)]??0x0,'outputTokens':_0x520dbe[_0x4ee518(0x15d)]??0x0};}(_0x4ebb27[_0x4c5a4a(0x328)]??_0x8c7be0,_0x4ebb27,{'documentParserConnector':this[_0x4c5a4a(0x97d)],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this[_0x4c5a4a(0x8ea)],'generativeAIWorkerConnectors':this[_0x4c5a4a(0x56d)],'models':Array[_0x4c5a4a(0x157)](this['models'][_0x4c5a4a(0x67a)]()),'contentMediator':this[_0x4c5a4a(0x7a9)],'searchConnector':this[_0x4c5a4a(0x3d6)],'aiSearchConnector':this[_0x4c5a4a(0x99f)],'queryFileConnector':this[_0x4c5a4a(0x1e5)]});if(_0x4c5a4a(0x81d)===_0x4ebb27[_0x4c5a4a(0x6e1)])return await _0x3396a6[_0x4c5a4a(0x49a)]({'jobType':_0x1b7d31['Rating'],'type':_0x2542f3[_0x4c5a4a(0x528)],'jobId':_0x4ebb27[_0x4c5a4a(0x328)],'threadId':_0x4ebb27[_0x4c5a4a(0x518)],'traceLevel':_0x4b3539[_0x4c5a4a(0x9e5)],'startTime':Date['now'](),'timestamp':Date[_0x4c5a4a(0x69)](),'status':_0x4c5a4a(0x6e2),'rating':_0x4ebb27[_0x4c5a4a(0x86b)],'feedback':_0x4ebb27[_0x4c5a4a(0x14c)]}),{'type':_0x4c5a4a(0x81d),'status':_0x29184c[_0x4c5a4a(0x5d4)][_0x4c5a4a(0x75c)]};if(_0x4c5a4a(0x31f)===_0x4ebb27[_0x4c5a4a(0x6e1)]){const _0x43febd=await async function(_0x4dd6aa,_0x39aeda){const _0x5b3209=_0x4c5a4a;let _0x2533d2='',_0x2a31d4={'type':_0x5b3209(0x119),'internalContext':_0x4dd6aa[_0x5b3209(0x1f0)]??{}};switch(_0x4dd6aa[_0x5b3209(0x4d9)][_0x5b3209(0x6e1)]){case _0x29184c[_0x5b3209(0x5f2)][_0x5b3209(0x767)]:case _0x29184c[_0x5b3209(0x5f2)][_0x5b3209(0x3b0)]:_0x2533d2=await _0x352649(_0x4dd6aa[_0x5b3209(0x154)],_0x4dd6aa[_0x5b3209(0x4d9)],_0x39aeda,_0x4dd6aa['arguments'],_0x2a31d4);break;case _0x29184c[_0x5b3209(0x5f2)][_0x5b3209(0x301)]:_0x2533d2=await _0x21a60f(_0x4dd6aa[_0x5b3209(0x4d9)],_0x39aeda,_0x4dd6aa['arguments']);break;case _0x29184c[_0x5b3209(0x5f2)][_0x5b3209(0x7a3)]:_0x2533d2=await _0x4e729f(_0x4dd6aa['arguments']);break;case _0x29184c[_0x5b3209(0x5f2)][_0x5b3209(0x934)]:case _0x29184c[_0x5b3209(0x5f2)][_0x5b3209(0x744)]:_0x2533d2=await _0x2e51d6(_0x4dd6aa['vendorId'],_0x4dd6aa[_0x5b3209(0x4d9)],_0x4dd6aa['arguments'],_0x2a31d4);break;case _0x29184c[_0x5b3209(0x5f2)]['CustomSkill']:_0x2533d2=await _0x364946(_0x4dd6aa[_0x5b3209(0x4d9)],_0x4dd6aa[_0x5b3209(0x5cd)],_0x2a31d4);break;case _0x29184c[_0x5b3209(0x5f2)][_0x5b3209(0x946)]:_0x2533d2=await _0x2c71a5(_0x4dd6aa[_0x5b3209(0x5cd)]);break;case _0x29184c[_0x5b3209(0x5f2)][_0x5b3209(0x47d)]:_0x2533d2=await _0x2c71a5(_0x4dd6aa[_0x5b3209(0x5cd)],!0x1);break;case _0x29184c[_0x5b3209(0x5f2)][_0x5b3209(0x81a)]:_0x2533d2=await _0xbd5434(_0x39aeda,_0x4dd6aa[_0x5b3209(0x5cd)]);break;case _0x29184c[_0x5b3209(0x5f2)][_0x5b3209(0x92d)]:_0x2533d2=await _0x1420f9(_0x4dd6aa[_0x5b3209(0x4d9)],_0x2a31d4);break;case _0x29184c[_0x5b3209(0x5f2)]['FormSkillSetAnswer']:_0x2533d2=await _0x4a3769(_0x4dd6aa['tool'],_0x4dd6aa[_0x5b3209(0x5cd)],_0x2a31d4);break;case _0x29184c['GenerativeAIInferenceToolType'][_0x5b3209(0xd6)]:_0x2533d2=await _0x5f4249(_0x4dd6aa[_0x5b3209(0x4d9)],_0x2a31d4);break;case _0x29184c[_0x5b3209(0x5f2)][_0x5b3209(0x993)]:_0x4dd6aa[_0x5b3209(0x4d9)]['async']?_0x2533d2=await _0x1ae8a0(_0x4dd6aa[_0x5b3209(0x154)],_0x4dd6aa[_0x5b3209(0x4d9)],_0x4dd6aa[_0x5b3209(0x5cd)],_0x2a31d4):(_0x1ae8a0(_0x4dd6aa[_0x5b3209(0x154)],_0x4dd6aa[_0x5b3209(0x4d9)],_0x4dd6aa[_0x5b3209(0x5cd)],_0x2a31d4),_0x2533d2=_0x5b3209(0x10d));}return{'type':_0x5b3209(0x31f),'output':_0x2533d2,'internalContext':_0x2a31d4[_0x5b3209(0x1f0)]??{}};}(_0x4ebb27,{'documentParserConnector':this[_0x4c5a4a(0x97d)],'fileConnector':this[_0x4c5a4a(0x57b)],'nlpLibraryConnector':this[_0x4c5a4a(0x8ea)],'generativeAIWorkerConnectors':this[_0x4c5a4a(0x56d)],'models':Array['from'](this[_0x4c5a4a(0x480)]['values']()),'contentMediator':this[_0x4c5a4a(0x7a9)],'searchConnector':this['searchConnector'],'aiSearchConnector':this[_0x4c5a4a(0x99f)],'queryFileConnector':this[_0x4c5a4a(0x1e5)]});return _0x43febd;}if(_0x4c5a4a(0x4f0)===_0x4ebb27[_0x4c5a4a(0x6e1)]){const _0x560ec4=await _0x3e9180['getWorkflow'](_0x4ebb27[_0x4c5a4a(0x154)],_0x4ebb27[_0x4c5a4a(0x927)]),_0x1ba96d=_0x560ec4['blocks'][_0x4c5a4a(0x786)](_0x165fe9=>_0x165fe9[_0x4c5a4a(0x6e1)]===_0x108ef7['Agent']),_0x278096=_0x560ec4[_0x4c5a4a(0x636)][_0x4c5a4a(0x533)](_0x32ddc3=>_0x32ddc3[_0x4c5a4a(0x137)]?.[_0x4c5a4a(0x3d9)](_0x2e6d65=>_0x2e6d65['type']===_0x26e9fd[_0x4c5a4a(0x363)]&&_0x2e6d65['uid']===_0x1ba96d[_0x4c5a4a(0x4c8)]))['flatMap'](_0x2117c8=>_0x3d1027(_0x2117c8,_0x560ec4[_0x4c5a4a(0x636)]));return{'type':_0x4c5a4a(0x4f0),'apiKey':this[_0x4c5a4a(0x7e2)],'modelId':_0x1ba96d['modelId'],'instructions':_0x1ba96d['instructions'],'temperature':_0x1ba96d[_0x4c5a4a(0x400)],'maxTokens':_0x1ba96d[_0x4c5a4a(0xb5)],'initialPrompt':_0x560ec4['initialPrompt'],'tools':_0x278096[_0x4c5a4a(0x1f8)](_0x59e911=>({..._0x59e911,'name':this[_0x4c5a4a(0x103)](_0x59e911),'description':this['getToolDescription'](_0x59e911),'parameters':this['getToolParams'](_0x59e911)}))};}if('file-delete'===_0x4ebb27[_0x4c5a4a(0x6e1)]){const {vendorId:_0x2dc6e9,collectionId:_0x21a65e,fileId:_0x4b287f}=_0x4ebb27,_0x30eab8=await _0x3e9180[_0x4c5a4a(0x7e0)](_0x2dc6e9,_0x21a65e),_0x1d84a0=this[_0x4c5a4a(0x24d)]?.[_0x4c5a4a(0x1f5)](_0x30eab8[_0x4c5a4a(0x836)]);if(!_0x1d84a0)throw new Error(_0x4c5a4a(0x239));const _0x11c43f=_0x5960c9(_0x2dc6e9,_0x30eab8);if(_0x30eab8[_0x4c5a4a(0x836)]===_0x29184c[_0x4c5a4a(0x5e1)][_0x4c5a4a(0xa15)])try{await _0x1d84a0['deleteFile'](_0x11c43f,_0x21a65e,'/'+_0x2dc6e9+'/'+_0x21a65e+'/'+_0x4b287f),await this['objectStoreConnector']['deleteObject']('/'+_0x2dc6e9+'/'+_0x21a65e+'/'+_0x4b287f);}catch(_0x502771){_0x301706[_0x4c5a4a(0x2a9)]('GenerativeAIWorker:\x20FileDelete\x20failed',_0x502771);}else try{await _0x1d84a0['deleteFile'](_0x11c43f,_0x21a65e,_0x4b287f);}catch(_0x286d39){_0x301706[_0x4c5a4a(0x2a9)](_0x4c5a4a(0x606),_0x286d39);}return{'type':_0x4c5a4a(0x63b)};}if(_0x4c5a4a(0x4ce)===_0x4ebb27[_0x4c5a4a(0x6e1)]){let _0x43bcf4;const _0x31953d=this[_0x4c5a4a(0x75a)]['keys']();for(;!_0x43bcf4;){const _0x44db4f=_0x31953d[_0x4c5a4a(0x213)]()[_0x4c5a4a(0x7b5)];if(!_0x44db4f)throw new Error(_0x4c5a4a(0x74b));_0x43bcf4=this['dataStores'][_0x4c5a4a(0x1f5)](_0x44db4f);try{const _0x169071=await _0x43bcf4['get'](_0x4ebb27['documentPath']);return{'type':_0x4c5a4a(0x4ce),'fileName':_0x169071['name'],'mimeType':_0x169071['type'],'document':await _0x169071[_0x4c5a4a(0x16c)]()};}catch(_0x4f97a8){continue;}}throw new Error(_0x4c5a4a(0x74b));}if('file-ingest'===_0x4ebb27[_0x4c5a4a(0x6e1)]){const {vendorId:_0x124a2e,collectionId:_0x180e5f,fileName:_0x35360a,content:_0x4dc92b}=_0x4ebb27,_0x15cc1e=await _0x3e9180[_0x4c5a4a(0x7e0)](_0x124a2e,_0x180e5f);if(_0x15cc1e[_0x4c5a4a(0x836)]!==_0x29184c[_0x4c5a4a(0x5e1)][_0x4c5a4a(0xa15)]){const _0x1d5872=this['ragConnectors']?.[_0x4c5a4a(0x1f5)](_0x15cc1e[_0x4c5a4a(0x836)]);if(!_0x1d5872)throw new Error('No\x20RAG\x20connector\x20available');const _0x1d8d72=_0x5960c9(_0x124a2e,_0x15cc1e);return await _0x1d5872[_0x4c5a4a(0x9ec)](_0x1d8d72,_0x180e5f,_0x35360a,_0x4dc92b),{'type':_0x4c5a4a(0x189)};}const _0x513eb4=_0x15cc1e['ingestBlocks']?.[_0x4c5a4a(0x786)](_0x537737=>_0x537737[_0x4c5a4a(0x6e1)]===_0x33a97f['Upload']);if(!_0x513eb4)throw new Error('No\x20start\x20block\x20found');const _0x475aae=(0x0,_0xa305bc['v4'])();return _0x3396a6[_0x4c5a4a(0x7b0)](_0x124a2e,_0x475aae),await async function(_0x3502e3,_0x52309f,_0x352d2d,_0x2fa1db,_0x3d3133,_0x4b414c,_0x436934){const _0x5555e7=_0x4c5a4a;try{let _0x52dada;switch(_0x3d3133[_0x5555e7(0x6e1)]){case _0x33a97f[_0x5555e7(0x129)]:const _0x536978=_0x436934[_0x5555e7(0x7a9)][_0x5555e7(0x5eb)](_0x3d3133['id']);_0x52dada=await _0x536978[_0x5555e7(0x1f5)](_0x352d2d);break;case _0x33a97f[_0x5555e7(0x64f)]:const _0x24a0ae=_0x436934[_0x5555e7(0x7a9)][_0x5555e7(0x30a)](_0x3d3133['id']);_0x52dada=await _0x24a0ae[_0x5555e7(0x1f5)](_0x352d2d);case _0x33a97f['Upload']:const _0x3ace83=_0x352d2d['split']('/')[_0x5555e7(0x8fa)]();if(!_0x3ace83)throw new Error('Failed\x20to\x20get\x20filename');const _0x2cebdf=_0x352d2d[_0x5555e7(0x94c)](_0x3ace83,''),_0x43338e=Buffer['from'](_0x2fa1db,'base64');if(_0x52dada=new File([_0x43338e],_0x3ace83),!_0x436934[_0x5555e7(0x6e0)])throw new Error(_0x5555e7(0x60a));await _0x436934[_0x5555e7(0x6e0)][_0x5555e7(0x50e)](_0x52dada,_0x2cebdf);}if(!_0x52dada)throw new Error(_0x5555e7(0x4c5));await _0x32ed9e(_0x3502e3,_0x52309f,{'file':_0x52dada,'pathName':_0x352d2d},_0x3d3133,structuredClone(_0x4b414c),_0x436934);}catch(_0x2220f6){console[_0x5555e7(0x2a9)](_0x5555e7(0x920),_0x2220f6);}}(_0x4ebb27['vendorId'],_0x475aae,'/'+_0x124a2e+'/'+_0x180e5f+'/'+_0x35360a,_0x4dc92b,_0x513eb4,_0x15cc1e,{'objectStoreConnector':this['objectStoreConnector'],'ragConnector':this['ragConnectors']?.['get'](_0x29184c[_0x4c5a4a(0x5e1)]['Crewdle']),'documentParserConnector':this[_0x4c5a4a(0x97d)],'fileConnector':this[_0x4c5a4a(0x57b)],'nlpLibraryConnector':this[_0x4c5a4a(0x8ea)],'generativeAIWorkerConnectors':this[_0x4c5a4a(0x56d)],'models':Array[_0x4c5a4a(0x157)](this['models'][_0x4c5a4a(0x67a)]()),'contentMediator':this['contentMediator']}),_0x3396a6[_0x4c5a4a(0x61d)](_0x475aae),{'type':'file-ingest'};}if('file-list'===_0x4ebb27[_0x4c5a4a(0x6e1)]){const {vendorId:_0x2e99de,collectionId:_0x3ad1db}=_0x4ebb27,_0x272fef=await _0x3e9180[_0x4c5a4a(0x7e0)](_0x2e99de,_0x3ad1db);if(_0x272fef[_0x4c5a4a(0x836)]!==_0x29184c[_0x4c5a4a(0x5e1)][_0x4c5a4a(0xa15)]){const _0x4a4e34=this[_0x4c5a4a(0x24d)]?.[_0x4c5a4a(0x1f5)](_0x272fef[_0x4c5a4a(0x836)]);if(!_0x4a4e34)throw new Error(_0x4c5a4a(0x239));const _0x427e0e=_0x5960c9(_0x2e99de,_0x272fef);return{'type':_0x4c5a4a(0x737),'files':await _0x4a4e34[_0x4c5a4a(0x339)](_0x427e0e,_0x3ad1db)};}try{return{'type':_0x4c5a4a(0x737),'files':(await this[_0x4c5a4a(0x6e0)][_0x4c5a4a(0x600)]('/'+_0x2e99de+'/'+_0x3ad1db,!0x1))[_0x4c5a4a(0x1f8)](_0x52a01d=>({'name':_0x52a01d[_0x4c5a4a(0x388)],'id':_0x52a01d[_0x4c5a4a(0x388)],'status':'ready'}))};}catch(_0x5f3877){return{'type':_0x4c5a4a(0x737),'files':[]};}}if(_0x4c5a4a(0x4d2)===_0x4ebb27[_0x4c5a4a(0x6e1)]){const {vendorId:_0x9331af,collectionId:_0x47104b}=_0x4ebb27,_0x12ad93=await _0x3e9180[_0x4c5a4a(0x7e0)](_0x9331af,_0x47104b),_0x5a7efd=this[_0x4c5a4a(0x24d)]?.[_0x4c5a4a(0x1f5)](_0x12ad93[_0x4c5a4a(0x836)]);if(!_0x5a7efd)return{'type':_0x4c5a4a(0x4d2)};const _0x3f2516=_0x5960c9(_0x9331af,_0x12ad93);return await _0x5a7efd[_0x4c5a4a(0x8e9)](_0x3f2516,_0x47104b),{'type':_0x4c5a4a(0x4d2)};}if(_0x4c5a4a(0x54a)===_0x4ebb27['type']){const {vendorId:_0x3416b9,collectionId:_0x435251}=_0x4ebb27,_0x205e25=await _0x3e9180[_0x4c5a4a(0x7e0)](_0x3416b9,_0x435251),_0x578925=this[_0x4c5a4a(0x24d)]?.['get'](_0x205e25[_0x4c5a4a(0x836)]);if(!_0x578925)return{'type':'collection-delete'};const _0x13204c=_0x5960c9(_0x3416b9,_0x205e25);let _0x4d5fc5=!0x1;if(_0x205e25[_0x4c5a4a(0xa45)]===_0x1b074b['Dedicated']&&(_0x4d5fc5=!0x0),_0x205e25[_0x4c5a4a(0xa45)]===_0x1b074b['Account']){_0x4d5fc5=!0x0;const _0xc89e52=await _0x3e9180[_0x4c5a4a(0x79c)](_0x3416b9);for(const _0x50d534 of _0xc89e52)if(_0x50d534['storageType']===_0x205e25[_0x4c5a4a(0x836)]&&_0x50d534[_0x4c5a4a(0xa45)]===_0x1b074b['Account']&&_0x50d534['id']!==_0x205e25['id']){_0x4d5fc5=!0x1;break;}}try{await _0x578925[_0x4c5a4a(0x9e2)](_0x13204c,_0x435251,_0x4d5fc5);}catch(_0x38eeda){_0x301706[_0x4c5a4a(0x2a9)](_0x4c5a4a(0x542),_0x38eeda);}return{'type':_0x4c5a4a(0x54a)};}if('collection-query'===_0x4ebb27[_0x4c5a4a(0x6e1)]){const {query:_0x2fa1f5,vendorId:_0x3b2b81,collectionId:_0x4824d5}=_0x4ebb27,_0x2fb1a0=await _0x3e9180[_0x4c5a4a(0x7e0)](_0x3b2b81,_0x4824d5);if(_0x2fb1a0[_0x4c5a4a(0x836)]!==_0x29184c[_0x4c5a4a(0x5e1)][_0x4c5a4a(0xa15)]){const _0x3e14a3=this[_0x4c5a4a(0x24d)]?.[_0x4c5a4a(0x1f5)](_0x2fb1a0[_0x4c5a4a(0x836)]);if(!_0x3e14a3)throw new Error(_0x4c5a4a(0x239));const _0x21dd13=_0x5960c9(_0x3b2b81,_0x2fb1a0);return{'type':'collection-query','results':await _0x3e14a3['queryCollection'](_0x21dd13,_0x4824d5,_0x2fa1f5,0x1)};}const _0x3a2ca8=_0x2fb1a0[_0x4c5a4a(0x9d9)]?.[_0x4c5a4a(0x786)](_0x1a4cbf=>_0x1a4cbf['type']===_0x33a97f[_0x4c5a4a(0x16a)]),_0x2fb60a=await async function(_0x12c4b0,_0x82dd91,_0x1036b0,_0x4137ae,_0x30e402,_0x3b6d7c,_0x324550){const _0x4e52bd=_0x4c5a4a,_0x1ea0c1={'type':_0x4e52bd(0x119),'output':'','context':[],'inputTokens':0x0,'outputTokens':0x0};try{let _0x1b3983;await _0xbf57a9(_0x12c4b0,_0x82dd91,'',_0x4137ae,_0x1ea0c1,_0x30e402,structuredClone(_0x3b6d7c),_0x324550),_0x1ea0c1['context'][_0x4e52bd(0x9f6)]((_0x5ce4fa,_0x5452ca)=>_0x5ce4fa+_0x5452ca[_0x4e52bd(0x2ec)][_0x4e52bd(0x453)],0x0)>_0x9820d3&&(_0x1b3983=Math[_0x4e52bd(0x7f4)](_0x9820d3/_0x1ea0c1[_0x4e52bd(0x86d)][_0x4e52bd(0x453)])),_0x1ea0c1[_0x4e52bd(0x3a5)]=_0x4e52bd(0x8c6)+_0x1ea0c1[_0x4e52bd(0x86d)][_0x4e52bd(0x1f8)](_0x314602=>_0x4e52bd(0x522)+_0x314602[_0x4e52bd(0xbc)]+':\x20'+_0x314602[_0x4e52bd(0x2ec)][_0x4e52bd(0x9ee)](0x0,_0x1b3983))[_0x4e52bd(0x981)]('\x0a');}catch(_0x3bd0d5){console[_0x4e52bd(0x2a9)](_0x4e52bd(0xb2),_0x3bd0d5);}return _0x1ea0c1;}(_0x4ebb27[_0x4c5a4a(0x154)],_0x8c7be0,0x0,_0x2fa1f5,_0x3a2ca8,_0x2fb1a0,{'objectStoreConnector':this['objectStoreConnector'],'ragConnector':this[_0x4c5a4a(0x24d)]?.[_0x4c5a4a(0x1f5)](_0x29184c[_0x4c5a4a(0x5e1)]['Crewdle']),'documentParserConnector':this[_0x4c5a4a(0x97d)],'fileConnector':this[_0x4c5a4a(0x57b)],'nlpLibraryConnector':this[_0x4c5a4a(0x8ea)],'generativeAIWorkerConnectors':this[_0x4c5a4a(0x56d)],'models':Array[_0x4c5a4a(0x157)](this[_0x4c5a4a(0x480)][_0x4c5a4a(0x67a)]()),'contentMediator':this[_0x4c5a4a(0x7a9)],'searchConnector':this['searchConnector'],'aiSearchConnector':this[_0x4c5a4a(0x99f)],'queryFileConnector':this[_0x4c5a4a(0x1e5)]});return{'type':_0x4c5a4a(0x8d7),'results':_0x2fb60a[_0x4c5a4a(0x86d)]??[]};}throw new Error('Unsupported\x20job\x20type');}async*[_0x45ef94(0x1bc)](_0x346873,_0x3df312){const _0x8218c8=_0x45ef94;if('prompt'===_0x3df312[_0x8218c8(0x6e1)]){const _0x32af30=await _0x3e9180['getWorkflow'](_0x3df312['vendorId'],_0x3df312[_0x8218c8(0x927)]),_0x8d2076=_0x32af30[_0x8218c8(0x636)][_0x8218c8(0x786)](_0x3a248f=>_0x3a248f[_0x8218c8(0x6e1)]===_0x108ef7['Prompt']);for await(const _0x50f0f7 of async function*(_0x10c6d9,_0x48a22e,_0x37c76d,_0xf20d73,_0x22e6f9){const _0x1b0bd1=_0x8218c8,_0x20138e=_0x48a22e[_0x1b0bd1(0x4c0)]??(0x0,_0xa305bc['v4'])(),_0x50f3f7=Date['now']();await _0x3396a6[_0x1b0bd1(0x49a)]({'jobType':_0x1b7d31[_0x1b0bd1(0x66e)],'type':_0x463099[_0x1b0bd1(0x980)],'jobId':_0x10c6d9,'agentId':_0x20138e,'threadId':_0x48a22e['threadId'],'traceLevel':_0x4b3539[_0x1b0bd1(0x9e5)],'startTime':Date[_0x1b0bd1(0x69)](),'timestamp':Date[_0x1b0bd1(0x69)](),'blockId':_0x37c76d['id'],'status':_0x1b0bd1(0x6e2),'initialPrompt':_0x48a22e[_0x1b0bd1(0x119)]});const _0x162869={'type':_0x1b0bd1(0x119),'context':[],'inputTokens':0x0,'outputTokens':0x0};_0x48a22e[_0x1b0bd1(0x1f0)]&&(_0x162869[_0x1b0bd1(0x1f0)]=_0x48a22e[_0x1b0bd1(0x1f0)]);const _0xb7295c=new _0x7be525();await _0x4fc683(_0x48a22e,_0x162869,_0x37c76d,_0xf20d73,_0x22e6f9),_0x502388(_0x10c6d9,''+_0x48a22e['prompt'],_0x48a22e,_0x162869,_0x37c76d,_0xf20d73,_0x22e6f9,_0xb7295c);let _0xc88c49='',_0x411ec6={'type':'prompt'};for(;;){const _0x55738f=await _0xb7295c[_0x1b0bd1(0x9e0)]();if(!_0x55738f)break;_0xc88c49+=_0x55738f[_0x1b0bd1(0x3a5)],_0x411ec6={'type':_0x1b0bd1(0x119),'output':_0x55738f[_0x1b0bd1(0x3a5)],'context':_0x162869[_0x1b0bd1(0x86d)],'resultFile':void 0x0,'inputTokens':(_0x162869['inputTokens']??0x0)+(_0x55738f[_0x1b0bd1(0xa50)]??0x0),'outputTokens':(_0x162869[_0x1b0bd1(0x15d)]??0x0)+(_0x55738f[_0x1b0bd1(0x15d)]??0x0)},yield _0x411ec6;}const _0x337fcb=_0xf20d73[_0x1b0bd1(0x786)](_0x1fc407=>_0x1fc407[_0x1b0bd1(0x6e1)]===_0x108ef7[_0x1b0bd1(0x7db)]);yield{..._0x411ec6,'output':'','internalContext':_0x162869['internalContext'],'resultFile':await _0x337fcb?.['accumulated']?.[_0x1b0bd1(0x9a7)]?.['text']()??void 0x0};const {inputTokens:_0x315423=0x0,outputTokens:_0xf04d55=0x0,context:_0x2cd389=[]}=_0x411ec6;await _0x3396a6[_0x1b0bd1(0x49a)]({'jobType':_0x1b7d31[_0x1b0bd1(0x66e)],'type':_0x463099[_0x1b0bd1(0x512)],'jobId':_0x10c6d9,'agentId':_0x20138e,'threadId':_0x48a22e[_0x1b0bd1(0x518)],'traceLevel':_0x4b3539['Info'],'startTime':_0x50f3f7,'timestamp':Date['now'](),'blockId':_0x37c76d['id'],'status':_0x1b0bd1(0x6e2),'output':_0xc88c49,'prompt':_0x48a22e[_0x1b0bd1(0x119)],'agentName':'','history':_0x48a22e['history']??[],'instructions':''+(_0x48a22e[_0x1b0bd1(0x68e)]??''),'ragContext':_0x2cd389,'inputTokens':_0x315423,'outputTokens':_0xf04d55});}(_0x3df312[_0x8218c8(0x328)]??_0x346873,_0x3df312,_0x8d2076,_0x32af30[_0x8218c8(0x636)],{'documentParserConnector':this[_0x8218c8(0x97d)],'fileConnector':this[_0x8218c8(0x57b)],'nlpLibraryConnector':this[_0x8218c8(0x8ea)],'generativeAIWorkerConnectors':this[_0x8218c8(0x56d)],'models':Array[_0x8218c8(0x157)](this[_0x8218c8(0x480)]['values']()),'contentMediator':this['contentMediator'],'searchConnector':this[_0x8218c8(0x3d6)],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this['queryFileConnector']}))yield _0x50f0f7;}if(_0x8218c8(0x89f)===_0x3df312['type']){for await(const _0x24a77d of async function*(_0x3c2260,_0xa67afb,_0x3454a3){const _0x1a2c92=_0x8218c8,_0x3fa90a=_0xa67afb['agentId']??(0x0,_0xa305bc['v4'])(),_0x2f9fa1={'type':_0x1a2c92(0x119),'context':[],'internalContext':_0xa67afb['internalContext']??{},'inputTokens':0x0,'outputTokens':0x0},_0x4c502f=new _0x7be525();!async function(_0x40d5e4,_0x3ce598,_0x3385c0,_0x4f7dfd,_0x24c0f2,_0x3072cf){const _0x47da3f=_0x1a2c92,_0x5d41b3=_0x3072cf['models'][_0x47da3f(0x786)](_0x31c631=>_0x31c631['id']===_0x3385c0[_0x47da3f(0x275)]);if(!_0x5d41b3)throw new Error(_0x47da3f(0x4e5));const _0xbc875=_0x3072cf['generativeAIWorkerConnectors'][_0x47da3f(0x786)](_0x145eb1=>_0x145eb1[_0x47da3f(0x8ee)]()===_0x5d41b3[_0x47da3f(0x31e)]);if(!_0xbc875)throw new Error(_0x47da3f(0xa6));const _0x37e4c4={'type':_0x47da3f(0x119),'output':''},_0x57d659=await _0x439447(_0x40d5e4,_0x3ce598,_0x3385c0,_0x4f7dfd,_0x3385c0[_0x47da3f(0x3cb)]??[],_0x3072cf,_0x24c0f2);for await(const _0x4cc101 of _0xbc875[_0x47da3f(0x446)]({'type':_0x47da3f(0x119),'prompt':_0x3385c0[_0x47da3f(0x119)],'instructions':_0x3385c0[_0x47da3f(0x68e)],'reasoning':_0x3385c0[_0x47da3f(0x4bb)],'grammar':_0x3385c0[_0x47da3f(0x963)],'temperature':_0x3385c0[_0x47da3f(0x400)],'maxTokens':_0x3385c0[_0x47da3f(0xb5)],'history':_0x3385c0[_0x47da3f(0x729)],'functions':_0x57d659,'threadId':_0x3385c0[_0x47da3f(0x518)]},{'model':_0x5d41b3,'sequences':Array['from'](_0x57d659[_0x47da3f(0x428)]())[_0x47da3f(0x3d9)](_0xeb3d37=>_0xeb3d37[_0x47da3f(0x1a2)](_0x47da3f(0x693)))?0x2:0x1}))_0x24c0f2[_0x47da3f(0x948)](_0x4cc101),_0x47da3f(0x829)==typeof _0x37e4c4['output']&&_0x47da3f(0x829)==typeof _0x4cc101['output']&&(_0x37e4c4[_0x47da3f(0x3a5)]+=_0x4cc101[_0x47da3f(0x3a5)]),_0x37e4c4[_0x47da3f(0xa50)]=_0x4cc101[_0x47da3f(0xa50)],_0x37e4c4[_0x47da3f(0x15d)]=_0x4cc101[_0x47da3f(0x15d)];await _0x4f43db[_0x47da3f(0x7eb)](0x1),_0x24c0f2['emit'](void 0x0);}(_0x3c2260,_0x3fa90a,_0xa67afb,_0x2f9fa1,_0x4c502f,_0x3454a3);let _0xdbefac='',_0x24dd88={'type':_0x1a2c92(0x119)};for(;;){const _0x2207c3=await _0x4c502f[_0x1a2c92(0x9e0)]();if(!_0x2207c3)break;_0xdbefac+=_0x2207c3[_0x1a2c92(0x3a5)],_0x24dd88={'type':_0x1a2c92(0x119),'output':_0x2207c3['output'],'context':_0x2f9fa1[_0x1a2c92(0x86d)],'internalContext':{},'inputTokens':(_0x2f9fa1[_0x1a2c92(0xa50)]??0x0)+(_0x2207c3['inputTokens']??0x0),'outputTokens':(_0x2f9fa1['outputTokens']??0x0)+(_0x2207c3[_0x1a2c92(0x15d)]??0x0)},yield _0x24dd88;}yield{..._0x24dd88,'output':'','internalContext':_0x2f9fa1[_0x1a2c92(0x1f0)]??{}};}(_0x3df312[_0x8218c8(0x328)]??_0x346873,_0x3df312,{'documentParserConnector':this[_0x8218c8(0x97d)],'fileConnector':this[_0x8218c8(0x57b)],'nlpLibraryConnector':this[_0x8218c8(0x8ea)],'generativeAIWorkerConnectors':this[_0x8218c8(0x56d)],'models':Array[_0x8218c8(0x157)](this[_0x8218c8(0x480)]['values']()),'contentMediator':this[_0x8218c8(0x7a9)],'searchConnector':this['searchConnector'],'aiSearchConnector':this[_0x8218c8(0x99f)],'queryFileConnector':this[_0x8218c8(0x1e5)]}))yield _0x24a77d;}}async[_0x45ef94(0x4a0)](_0x101735,_0x1ff508){const _0x214378=_0x45ef94;if(_0x214378(0x81d)===_0x1ff508[_0x214378(0x6e1)])return _0x101735=_0x1ff508[_0x214378(0x328)],void await this[_0x214378(0x7b0)](_0x101735,_0x1ff508[_0x214378(0x154)],_0x1ff508[_0x214378(0x927)]);await this[_0x214378(0x7b0)](_0x101735,_0x1ff508[_0x214378(0x154)],_0x1ff508['workflowId'],_0x1ff508[_0x214378(0x518)]),await _0x3396a6[_0x214378(0x49a)]({'jobType':_0x1b7d31['Job'],'type':_0x4ee3af['Queued'],'traceLevel':_0x4b3539[_0x214378(0x9e5)],'jobId':_0x101735,'threadId':_0x1ff508[_0x214378(0x518)],'startTime':Date[_0x214378(0x69)](),'timestamp':Date[_0x214378(0x69)](),'status':_0x214378(0x6e2)});}async['stopTracing'](_0x206d0d,_0x1044aa){const _0x2bb9a4=_0x45ef94;if('rate'===_0x1044aa[_0x2bb9a4(0x6e1)])return _0x206d0d=_0x1044aa[_0x2bb9a4(0x328)],void await this[_0x2bb9a4(0x61d)](_0x206d0d);await _0x3396a6[_0x2bb9a4(0x49a)]({'jobType':_0x1b7d31[_0x2bb9a4(0x7a2)],'type':_0x4ee3af[_0x2bb9a4(0x5bc)],'traceLevel':_0x4b3539[_0x2bb9a4(0x9e5)],'jobId':_0x206d0d,'threadId':_0x1044aa[_0x2bb9a4(0x518)],'startTime':Date['now'](),'timestamp':Date['now'](),'status':_0x2bb9a4(0x6e2)}),await this[_0x2bb9a4(0x61d)](_0x206d0d,_0x1044aa[_0x2bb9a4(0x518)]);}['getToolName'](_0x30a153){const _0x418b38=_0x45ef94;switch(_0x30a153[_0x418b38(0x6e1)]){case _0x108ef7[_0x418b38(0x767)]:case _0x108ef7[_0x418b38(0x3b0)]:return'executeAgent'+_0x30a153['name']['replace'](/[^a-zA-Z]/g,'');case _0x108ef7[_0x418b38(0x993)]:return _0x418b38(0x6f8)+_0x30a153['name'][_0x418b38(0x94c)](/[^a-zA-Z]/g,'');case _0x108ef7[_0x418b38(0x934)]:case _0x108ef7[_0x418b38(0x744)]:return _0x418b38(0x667)+_0x30a153['name']['replace'](/[^a-zA-Z]/g,'');case _0x108ef7[_0x418b38(0x281)]:return _0x30a153[_0x418b38(0x388)]['replace'](/[^a-zA-Z]/g,'');case _0x108ef7[_0x418b38(0x8a7)]:return _0x418b38(0xf4);case _0x108ef7['Code']:return _0x418b38(0x454);case _0x108ef7['Search']:return _0x418b38(0xa5a);case _0x108ef7[_0x418b38(0x946)]:case _0x108ef7[_0x418b38(0x47d)]:return'fetchContentFromUrl';case _0x29184c[_0x418b38(0x5f2)][_0x418b38(0x92d)]:return _0x418b38(0x306)+_0x30a153[_0x418b38(0x388)][_0x418b38(0x94c)](/[^a-zA-Z]/g,'');case _0x29184c[_0x418b38(0x5f2)][_0x418b38(0x733)]:return _0x418b38(0x50a)+_0x30a153[_0x418b38(0x388)][_0x418b38(0x94c)](/[^a-zA-Z]/g,'');case _0x29184c[_0x418b38(0x5f2)][_0x418b38(0xd6)]:return'submitForm'+_0x30a153[_0x418b38(0x388)][_0x418b38(0x94c)](/[^a-zA-Z]/g,'');default:return'';}}['getToolDescription'](_0x565875){const _0x41e7ff=_0x45ef94;switch(_0x565875['type']){case _0x108ef7[_0x41e7ff(0x767)]:case _0x108ef7[_0x41e7ff(0x3b0)]:return _0x41e7ff(0x466)+_0x565875['description']+_0x41e7ff(0x75);case _0x108ef7['WorkflowTool']:return _0x41e7ff(0x50d)+_0x565875[_0x41e7ff(0x6e3)]+_0x41e7ff(0x75);case _0x108ef7[_0x41e7ff(0x934)]:case _0x108ef7[_0x41e7ff(0x744)]:return _0x41e7ff(0x6dc)+_0x565875[_0x41e7ff(0x6e3)]+_0x41e7ff(0x939);case _0x108ef7[_0x41e7ff(0x281)]:return _0x41e7ff(0x2c6)+_0x565875[_0x41e7ff(0x6e3)];case _0x108ef7[_0x41e7ff(0x8a7)]:return _0x41e7ff(0x25e);case _0x108ef7[_0x41e7ff(0x7a3)]:return _0x41e7ff(0x94f);case _0x108ef7['Search']:return _0x41e7ff(0x5bd);case _0x108ef7[_0x41e7ff(0x946)]:case _0x108ef7[_0x41e7ff(0x47d)]:return _0x41e7ff(0x2ee);case _0x29184c[_0x41e7ff(0x5f2)][_0x41e7ff(0x92d)]:return _0x41e7ff(0x5d2);case _0x29184c[_0x41e7ff(0x5f2)][_0x41e7ff(0x733)]:return'Set\x20the\x20answer\x20to\x20the\x20current\x20question.';case _0x29184c[_0x41e7ff(0x5f2)][_0x41e7ff(0xd6)]:return _0x41e7ff(0x9f2);default:return'';}}['getToolParams'](_0x203f34){const _0xb536fa=_0x45ef94;switch(_0x203f34[_0xb536fa(0x6e1)]){case _0x108ef7[_0xb536fa(0x767)]:case _0x108ef7['AgentSkill']:case _0x108ef7[_0xb536fa(0x993)]:return[{'name':_0xb536fa(0x119),'type':_0xb536fa(0x829)}];case _0x108ef7[_0xb536fa(0x934)]:case _0x108ef7['Knowledge']:return[{'name':_0xb536fa(0xa09),'type':_0xb536fa(0x829)}];case _0x108ef7[_0xb536fa(0x281)]:return _0x203f34['parameters'][_0xb536fa(0x1f8)](_0x5cbdb4=>({'name':_0x5cbdb4[_0xb536fa(0x388)],'type':_0x5cbdb4['type']??_0xb536fa(0x829)}))??[];case _0x108ef7['AiSearch']:return[{'name':_0xb536fa(0x284),'type':_0xb536fa(0x829)}];case _0x108ef7[_0xb536fa(0x7a3)]:return[{'name':_0xb536fa(0x9c3),'type':_0xb536fa(0x829)}];case _0x108ef7[_0xb536fa(0x81a)]:return[{'name':'query','type':_0xb536fa(0x829)}];case _0x108ef7['WebScraper']:case _0x108ef7[_0xb536fa(0x47d)]:return[{'name':_0xb536fa(0x7f5),'type':'string'},{'name':_0xb536fa(0x1d2),'type':_0xb536fa(0x78f)}];case _0x29184c[_0xb536fa(0x5f2)][_0xb536fa(0x92d)]:return[];case _0x29184c[_0xb536fa(0x5f2)]['FormSkillSetAnswer']:return[{'name':'id','type':_0xb536fa(0x829)},{'name':_0xb536fa(0x33b),'type':_0xb536fa(0x829)}];case _0x29184c[_0xb536fa(0x5f2)][_0xb536fa(0xd6)]:default:return[];}}[_0x45ef94(0x8e5)](){const _0x10352b=_0x45ef94;try{return this[_0x10352b(0x241)][_0x10352b(0x52c)]()['gpu']['cores']*(0x1-this[_0x10352b(0x241)][_0x10352b(0x52c)]()[_0x10352b(0x4fb)][_0x10352b(0x3b3)]);}catch(_0xea429c){return _0x301706[_0x10352b(0x1d5)](_0x3e3f45['Jobs'],_0x10352b(0x4c9),_0xea429c),0x0;}}[_0x45ef94(0x707)](){const _0x20c09b=_0x45ef94;this[_0x20c09b(0x123)]&&(this[_0x20c09b(0x706)]&&clearTimeout(this[_0x20c09b(0x706)]),this[_0x20c09b(0x706)]=setTimeout(async()=>{const _0x60d73e=_0x20c09b;delete this[_0x60d73e(0x706)];let _0x137975=0x0;for(const _0x59bdd8 of this[_0x60d73e(0x75a)][_0x60d73e(0x67a)]())_0x137975+=await _0x59bdd8[_0x60d73e(0x888)]();this[_0x60d73e(0x9da)]['publish']({'sourceId':_0x17190e,'messageType':_0x43910d[_0x60d73e(0xc4)],'content':{'type':_0x292504[_0x60d73e(0x717)],'label':this[_0x60d73e(0x8f4)],'stats':{'timestamp':Date[_0x60d73e(0x69)](),'storage':_0x137975,'messagesSent':this[_0x60d73e(0x93c)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x60d73e(0x9cf)],'bytesReceived':this[_0x60d73e(0x7c3)],'writes':0x0,'reads':0x0,'prompts':this[_0x60d73e(0x242)],'tokens':this[_0x60d73e(0x411)]}}});},_0x4032ce));}[_0x45ef94(0x6d8)](_0x38fbc9,_0x474645){const _0x5f5d4e=_0x45ef94,_0x496a49=this[_0x5f5d4e(0x8f4)],_0x37da74=this['getOwnerId']();_0x301706[_0x5f5d4e(0x6d8)](_0x230988[_0x5f5d4e(0x8b4)],{'topic':_0x496a49,'type':_0x5f5d4e(0x33b),'nodeId':_0x37da74,'tokenCount':_0x474645,'tokensPerSecond':_0x38fbc9});}async['openTrace'](_0x17a8f9,_0x29ab2c,_0x5d77fe,_0x5cfd97){const _0x1756cd=_0x45ef94;try{if(!await _0x3396a6['openTrace'](_0x29ab2c,_0x17a8f9,_0x5d77fe,_0x5cfd97))throw new Error(_0x1756cd(0x9e9));return _0x17a8f9;}catch(_0x3b4143){return console[_0x1756cd(0x2a9)]('Error\x20opening\x20trace',_0x3b4143),_0x1756cd(0x6db);}}async[_0x45ef94(0x61d)](_0x175573,_0x36483e){const _0x1d9a4e=_0x45ef94;try{await _0x3396a6[_0x1d9a4e(0x61d)](_0x175573,_0x36483e);}catch(_0x3914c7){console[_0x1d9a4e(0x2a9)](_0x1d9a4e(0x3b2),{'jobId':_0x175573,'error':_0x3914c7});}}}class _0x73e146 extends _0x267a55{[_0x45ef94(0x5e4)];[_0x45ef94(0x9aa)];[_0x45ef94(0x154)];['db'];[_0x45ef94(0x706)];['writes']=0x0;[_0x45ef94(0x3e2)]=0x0;[_0x45ef94(0x5ec)]=!0x1;constructor(_0x55198c,_0x333d4d,_0x2e9d49,_0xd8b75f,_0x1e8d8f){const _0x48eee8=_0x45ef94;if(_0x48eee8(0x829)!=typeof _0x333d4d)throw new _0x54ac69(_0x1dd92b[_0x48eee8(0x76)],_0x48eee8(0x134));super(_0x55198c,_0x333d4d),this[_0x48eee8(0x5e4)]=_0x55198c,this[_0x48eee8(0x9aa)]=_0x2e9d49,this[_0x48eee8(0x154)]=_0xd8b75f;const _0x2fb19b='ccc'+this[_0x48eee8(0x154)]+_0x48eee8(0x923)+this[_0x48eee8(0x9aa)]+_0x48eee8(0x923)+this[_0x48eee8(0x8f4)];this['db']=new _0x1e8d8f(_0x2fb19b),this[_0x48eee8(0x707)]();}['getIsLoaded'](){const _0x3f0cc0=_0x45ef94;return this[_0x3f0cc0(0x5ec)];}[_0x45ef94(0x608)](_0x138f11){const _0x38f20b=_0x45ef94;this[_0x38f20b(0x5ec)]=_0x138f11;}[_0x45ef94(0x9d1)](){const _0x32cf52=_0x45ef94;clearTimeout(this[_0x32cf52(0x706)]),delete this[_0x32cf52(0x706)],super[_0x32cf52(0x9d1)]();}['close'](){const _0x388e2e=_0x45ef94;this['systemTopic'][_0x388e2e(0x379)]({'sourceId':_0x17190e,'messageType':_0x43910d[_0x388e2e(0xc4)],'content':{'type':_0x292504[_0x388e2e(0x5b8)],'label':this['label']}});}[_0x45ef94(0xf7)](){const _0x5ec822=_0x45ef94;return _0x29184c[_0x5ec822(0xd2)][_0x5ec822(0x114)];}[_0x45ef94(0x9a1)](){const _0x49419f=_0x45ef94;this[_0x49419f(0x707)]();}[_0x45ef94(0x999)](_0x364da1,_0x17bccf,_0x90c3c5,_0x50d670){const _0x2408de=_0x45ef94;this['db'][_0x2408de(0x999)](_0x364da1,_0x17bccf,_0x90c3c5,_0x50d670),this[_0x2408de(0x585)]+=0x1,this[_0x2408de(0x707)]();}[_0x45ef94(0x313)](_0x493810,_0x4556fd){const _0x43fe80=_0x45ef94;this['db'][_0x43fe80(0x313)](_0x493810,_0x4556fd),this[_0x43fe80(0x585)]+=0x1,this[_0x43fe80(0x707)]();}[_0x45ef94(0x246)](_0x50f642,_0x3c1389,_0xe00f8c){const _0xb83b34=_0x45ef94,_0x24d04b=this['db'][_0xb83b34(0x246)](_0x50f642,_0x3c1389,_0xe00f8c);return this[_0xb83b34(0x3e2)]+=0x1,_0x301706[_0xb83b34(0x6d8)](_0x230988[_0xb83b34(0x114)],{'type':'get-content','label':this[_0xb83b34(0x8f4)],'nodeId':this[_0xb83b34(0x5e4)][_0xb83b34(0xa2a)](),'nodeType':this[_0xb83b34(0x5e4)][_0xb83b34(0x6e1)],'clusterId':this[_0xb83b34(0x9aa)],'size':0x0}),this['sendStats'](),_0x24d04b;}['remove'](_0x68273f){const _0x7332be=_0x45ef94;this['db'][_0x7332be(0x175)](_0x68273f),this[_0x7332be(0x585)]+=0x1,this[_0x7332be(0x707)]();}[_0x45ef94(0x82a)](_0x43da0c){const _0xdda4d0=_0x45ef94;this['db'][_0xdda4d0(0x82a)](_0x43da0c);}[_0x45ef94(0x7b6)](_0x22a36b){const _0x3b51ea=_0x45ef94;this['db'][_0x3b51ea(0x7b6)](_0x22a36b);}[_0x45ef94(0x707)](){const _0x3a6856=_0x45ef94;this[_0x3a6856(0x706)]&&clearTimeout(this[_0x3a6856(0x706)]),this['debounceStats']=setTimeout(async()=>{const _0x3f22c1=_0x3a6856;delete this[_0x3f22c1(0x706)];const _0xa2ee21=this['db']['getSize']();this[_0x3f22c1(0x9da)][_0x3f22c1(0x379)]({'sourceId':_0x17190e,'messageType':_0x43910d[_0x3f22c1(0xc4)],'content':{'type':_0x292504[_0x3f22c1(0x8df)],'label':this[_0x3f22c1(0x8f4)],'stats':{'timestamp':Date['now'](),'storage':_0xa2ee21,'messagesSent':this[_0x3f22c1(0x93c)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x3f22c1(0x9cf)],'bytesReceived':this[_0x3f22c1(0x7c3)],'writes':this[_0x3f22c1(0x585)],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),_0x301706['logStorage'](_0x230988[_0x3f22c1(0x114)],_0x3f22c1(0x923)+this['clusterId']+_0x3f22c1(0x923)+this[_0x3f22c1(0x8f4)],_0xa2ee21);},_0x4032ce);}}class _0x26815d extends _0x39d1fe{[_0x45ef94(0x19c)];constructor(_0x5292c2,_0x4a5d2d,_0x3936da){const _0x2aee46=_0x45ef94;super(_0x5292c2,_0x4a5d2d),this[_0x2aee46(0x19c)]=_0x3936da;}[_0x45ef94(0xf7)](){const _0x517e7b=_0x45ef94;return _0x29184c[_0x517e7b(0xd2)][_0x517e7b(0x224)];}['getMediaStream'](){return this['mediaStream'];}['getInternalStreamId'](){return this['mediaStream']['id'];}}class _0x2ddbb0 extends _0x26815d{[_0x45ef94(0x162)];['params'];[_0x45ef94(0x8c3)];[_0x45ef94(0x803)]=_0x5ad34d();constructor(_0x473356,_0x1d33ac,_0x28cc11,_0x42ffcb,_0x4b40cf){const _0x18896d=_0x45ef94;super(_0x473356,_0x1d33ac,_0x28cc11),this[_0x18896d(0x162)]=_0x42ffcb,this[_0x18896d(0x474)]=_0x4b40cf;}[_0x45ef94(0x9d1)](){const _0x5eabb2=_0x45ef94;this[_0x5eabb2(0x323)]('audio'),this[_0x5eabb2(0x323)](_0x5eabb2(0x703)),super[_0x5eabb2(0x9d1)]();}['addTrack'](_0x288876){const _0x53fc2a=_0x45ef94;if(!this['topic'])throw new _0x279d71(_0x279d71[_0x53fc2a(0x9c2)]['OutgoingMediaStreamNoTopic'],{'label':this[_0x53fc2a(0x8f4)],'ownerId':this[_0x53fc2a(0x2e2)]['getId'](),'remoteId':this[_0x53fc2a(0x162)]});this['topic']['publish']({'sourceId':this['owner']['getId'](),'content':{'action':_0x1deabc['Add'],'track':_0x288876,'stream':this[_0x53fc2a(0x19c)],'priority':_0x29184c[_0x53fc2a(0x250)]['Default'],'params':this[_0x53fc2a(0x711)](_0x288876[_0x53fc2a(0x3a7)],this[_0x53fc2a(0x474)])}});}[_0x45ef94(0x323)](_0x5f1d91){const _0x821c0=_0x45ef94,_0x1c1a84=this['getTrack'](_0x5f1d91);if(_0x1c1a84){if(!this['topic'])return null;this[_0x821c0(0x8c3)][_0x821c0(0x379)]({'sourceId':this[_0x821c0(0x2e2)]['getId'](),'content':{'action':_0x1deabc[_0x821c0(0x276)],'track':_0x1c1a84,'stream':this[_0x821c0(0x19c)]}});}return _0x1c1a84;}[_0x45ef94(0x485)](_0x14273b){const _0x41e812=_0x45ef94;if(!this[_0x41e812(0x8c3)])throw new _0x279d71(_0x279d71['codes'][_0x41e812(0x9db)],{'label':this[_0x41e812(0x8f4)],'ownerId':this[_0x41e812(0x2e2)]['getId'](),'remoteId':this[_0x41e812(0x162)]});this[_0x41e812(0x8c3)][_0x41e812(0x379)]({'sourceId':this[_0x41e812(0x2e2)][_0x41e812(0xa2a)](),'content':{'action':_0x1deabc[_0x41e812(0x3ac)],'priority':_0x14273b,'stream':this[_0x41e812(0x19c)]}});}[_0x45ef94(0x79d)]({trackKinds:_0x2a134e,params:_0x555991},_0x5e0fbc){const _0x25b205=_0x45ef94;if(!this[_0x25b205(0x8c3)])throw new _0x279d71(_0x279d71['codes'][_0x25b205(0x9db)],{'label':this['label'],'ownerId':this[_0x25b205(0x2e2)]['getId'](),'remoteId':this['remoteId']});for(const _0x186e6f of this[_0x25b205(0x19c)][_0x25b205(0x1e6)]())_0x2a134e[_0x25b205(0x62f)](_0x186e6f['kind'])&&this['topic']['publish']({'sourceId':this['owner'][_0x25b205(0xa2a)](),'content':{'action':_0x1deabc[_0x25b205(0x6b8)],'track':_0x186e6f,'stream':this[_0x25b205(0x19c)],'priority':_0x5e0fbc,'params':this[_0x25b205(0x711)](_0x186e6f['kind'],_0x555991)}});}[_0x45ef94(0x3c5)]({params:_0x32754a}){const _0x101537=_0x45ef94;if(!this[_0x101537(0x8c3)])throw new _0x279d71(_0x279d71[_0x101537(0x9c2)]['OutgoingMediaStreamNoTopic'],{'label':this[_0x101537(0x8f4)],'ownerId':this[_0x101537(0x2e2)][_0x101537(0xa2a)](),'remoteId':this['remoteId']});for(const _0x394f18 of this[_0x101537(0x19c)]['getTracks']())this[_0x101537(0x8c3)][_0x101537(0x379)]({'sourceId':this[_0x101537(0x2e2)][_0x101537(0xa2a)](),'content':{'action':_0x1deabc[_0x101537(0x3ac)],'stream':this[_0x101537(0x19c)],'params':this[_0x101537(0x711)](_0x394f18[_0x101537(0x3a7)],_0x32754a)}});}[_0x45ef94(0x2b6)]({trackKinds:_0x4c0c88}){const _0x4a3795=_0x45ef94;if(this[_0x4a3795(0x8c3)]){for(const _0x13abf8 of this[_0x4a3795(0x19c)]['getTracks']())_0x4c0c88[_0x4a3795(0x62f)](_0x13abf8[_0x4a3795(0x3a7)])&&this[_0x4a3795(0x8c3)][_0x4a3795(0x379)]({'sourceId':this[_0x4a3795(0x2e2)][_0x4a3795(0xa2a)](),'content':{'action':_0x1deabc['Remove'],'stream':this[_0x4a3795(0x19c)],'track':_0x13abf8}});}}[_0x45ef94(0x196)](_0x3027c7){const _0x5565be=_0x45ef94;this[_0x5565be(0x8c3)]=_0x3027c7;}[_0x45ef94(0x828)](_0x502698){const _0x35bf21=_0x45ef94;_0x502698===this[_0x35bf21(0x8c3)]&&(delete this[_0x35bf21(0x8c3)],this[_0x35bf21(0x803)][_0x35bf21(0x379)]());}[_0x45ef94(0x2bc)](_0x21e924){const _0x40f535=_0x45ef94;return this[_0x40f535(0x803)][_0x40f535(0x79d)](_0x21e924);}[_0x45ef94(0x20a)](_0x32bd0b){const _0x2f7cba=_0x45ef94;return this[_0x2f7cba(0x19c)][_0x2f7cba(0x1e6)]()[_0x2f7cba(0x786)](_0x2088ce=>_0x2088ce['kind']===_0x32bd0b)||null;}[_0x45ef94(0x711)](_0x33b159,_0x5b4660){const _0x2e8cce=_0x45ef94;let _0x2eed46;return _0x2e8cce(0x703)===_0x33b159&&_0x5b4660?.['video']&&'boolean'!=typeof _0x5b4660[_0x2e8cce(0x703)]&&(_0x2eed46={'kind':_0x2e8cce(0x703),..._0x5b4660[_0x2e8cce(0x703)]},_0x2eed46[_0x2e8cce(0x87e)]=this['getResolution']()),_0x2e8cce(0x8f6)===_0x33b159&&_0x5b4660?.[_0x2e8cce(0x8f6)]&&'boolean'!=typeof _0x5b4660[_0x2e8cce(0x8f6)]&&(_0x2eed46={'kind':_0x2e8cce(0x8f6),..._0x5b4660[_0x2e8cce(0x8f6)]}),_0x2eed46;}[_0x45ef94(0x8b1)](){const _0x238043=_0x45ef94;let _0x2eb030={'width':0x0,'height':0x0};const _0x5df4d9=this[_0x238043(0x19c)]['getVideoTracks']();if(_0x5df4d9[_0x238043(0x453)]>0x0){const _0x4c238b=_0x5df4d9[0x0][_0x238043(0x1f9)]();_0x4c238b[_0x238043(0x72c)]&&_0x4c238b[_0x238043(0x2b0)]&&(_0x2eb030={'width':_0x4c238b['width'],'height':_0x4c238b['height']});}return _0x2eb030;}}class _0x1495c9 extends _0x26815d{['clusterId'];[_0x45ef94(0x10b)]=_0x29184c[_0x45ef94(0x250)][_0x45ef94(0x896)];[_0x45ef94(0x63c)]=new Map();[_0x45ef94(0x91c)]=new Map();constructor(_0x1e57a9,_0x456c53,_0x17188a,_0x4495d7){const _0x347033=_0x45ef94;super(_0x1e57a9,_0x456c53,_0x17188a instanceof MediaStream?_0x17188a:_0x17188a['srcObject']?_0x17188a[_0x347033(0x968)]:_0x17188a[_0x347033(0x419)]()),this[_0x347033(0x9aa)]=_0x4495d7,this[_0x347033(0x19c)][_0x347033(0x1e6)]()['forEach'](_0x24549a=>this[_0x347033(0x662)](_0x24549a)),_0x301706[_0x347033(0x6d8)](_0x230988[_0x347033(0x3c9)],{'type':_0x347033(0x379),'label':this[_0x347033(0x8f4)],'nodeId':this['owner']['getId'](),'nodeType':this['owner'][_0x347033(0x6e1)],'clusterId':this[_0x347033(0x9aa)],'streamId':this['getInternalStreamId'](),'trackKinds':this[_0x347033(0x19c)]['getTracks']()['map'](_0x42d629=>_0x42d629['kind'])});}[_0x45ef94(0x9d1)](){const _0x7c0d52=_0x45ef94;this[_0x7c0d52(0x91c)]['size']>0x0&&(this[_0x7c0d52(0x91c)][_0x7c0d52(0xa3f)](_0x1a9ab5=>{const _0xbcd766=_0x7c0d52;_0x1a9ab5[_0xbcd766(0xfc)](),_0x1a9ab5[_0xbcd766(0x9d1)]();}),this['outgoingStreams'][_0x7c0d52(0x1ac)]()),this['trackEndedListeners'][_0x7c0d52(0xa3f)](_0x215bb1=>_0x215bb1()),super[_0x7c0d52(0x9d1)]();}[_0x45ef94(0x379)](_0x442e3d){const _0x3e59e1=_0x45ef94;this[_0x3e59e1(0x9da)][_0x3e59e1(0x379)]({'sourceId':this[_0x3e59e1(0x2e2)][_0x3e59e1(0xa2a)](),'destinationIds':_0x442e3d?[_0x442e3d]:void 0x0,'propagate':!0x0,'messageType':_0x43910d[_0x3e59e1(0xc4)],'content':{'type':_0x292504[_0x3e59e1(0x258)],'ownerId':this[_0x3e59e1(0x2e2)][_0x3e59e1(0xa2a)](),'label':this[_0x3e59e1(0x8f4)],'stream':{'streamId':this[_0x3e59e1(0x97c)](),'availableTrackKinds':this['mediaStream'][_0x3e59e1(0x1e6)]()['map'](_0x142884=>_0x142884[_0x3e59e1(0x3a7)])}}});}[_0x45ef94(0x4e4)](){const _0x27c171=_0x45ef94;this['systemTopic']['publish']({'sourceId':this[_0x27c171(0x2e2)]['getId'](),'propagate':!0x0,'messageType':_0x43910d[_0x27c171(0xc4)],'content':{'type':_0x292504[_0x27c171(0x212)],'ownerId':this[_0x27c171(0x2e2)][_0x27c171(0xa2a)](),'label':this['label']}}),this[_0x27c171(0x9da)][_0x27c171(0x379)]({'sourceId':_0x17190e,'messageType':_0x43910d[_0x27c171(0xc4)],'content':{'type':_0x292504['CloseMediaStream'],'label':this[_0x27c171(0x8f4)]}}),_0x301706['logServiceEvent'](_0x230988[_0x27c171(0x3c9)],{'type':_0x27c171(0x4e4),'label':this[_0x27c171(0x8f4)],'nodeId':this[_0x27c171(0x2e2)]['getId'](),'nodeType':this[_0x27c171(0x2e2)]['type'],'clusterId':this[_0x27c171(0x9aa)],'streamId':this['getInternalStreamId']()});}[_0x45ef94(0x30b)](){return this['priority'];}[_0x45ef94(0x485)](_0x1a33ee){const _0x3fb82e=_0x45ef94;this[_0x3fb82e(0x10b)]=_0x1a33ee,this['outgoingStreams'][_0x3fb82e(0xa3f)](_0x7d5e58=>_0x7d5e58[_0x3fb82e(0x485)](_0x1a33ee));}[_0x45ef94(0x304)](_0x318730,_0x59f8b2){const _0x4db71f=_0x45ef94;if(!this['outgoingStreams'][_0x4db71f(0x3bc)](_0x318730)){const _0x52655a=new _0x2ddbb0(this[_0x4db71f(0x2e2)],this[_0x4db71f(0x8f4)],this[_0x4db71f(0x19c)],_0x318730,_0x59f8b2),_0x4de8b3=_0x52655a['onUnregisterPublisher'](()=>{const _0x4f9806=_0x4db71f;_0x4de8b3(),this[_0x4f9806(0x91c)][_0x4f9806(0x1f5)](_0x318730)?.[_0x4f9806(0x9d1)](),this[_0x4f9806(0x91c)][_0x4f9806(0x991)](_0x318730);});this['outgoingStreams'][_0x4db71f(0x2b3)](_0x318730,_0x52655a),_0x52655a[_0x4db71f(0x52e)](this[_0x4db71f(0x9da)]);}return this[_0x4db71f(0x91c)]['get'](_0x318730);}[_0x45ef94(0x8c9)](){return this['mediaStream']['id'];}[_0x45ef94(0x66c)](_0x125444){const _0x90ed3b=_0x45ef94;this[_0x90ed3b(0x9da)][_0x90ed3b(0x379)]({'sourceId':_0x17190e,'messageType':_0x43910d[_0x90ed3b(0xc4)],'content':{'type':_0x292504[_0x90ed3b(0x85b)],'label':this['label'],'trackKinds':[_0x125444[_0x90ed3b(0x3a7)]]}});}[_0x45ef94(0x662)](_0x2e6780){const _0x431461=_0x45ef94,_0x23b32a=()=>this[_0x431461(0x66c)](_0x2e6780);_0x2e6780[_0x431461(0x4a4)](_0x431461(0x138),_0x23b32a),_0x2e6780[_0x431461(0x4a4)](_0x431461(0x35a),_0x23b32a),this['trackEndedListeners'][_0x431461(0x2b3)](_0x2e6780[_0x431461(0x3a7)],()=>{const _0x3cd6f0=_0x431461;_0x2e6780[_0x3cd6f0(0x9f0)]('ended',_0x23b32a),_0x2e6780[_0x3cd6f0(0x9f0)]('mute',_0x23b32a),this[_0x3cd6f0(0x63c)][_0x3cd6f0(0x991)](_0x2e6780[_0x3cd6f0(0x3a7)]);});}}class _0x196cb9 extends _0x1495c9{[_0x45ef94(0x37c)];[_0x45ef94(0x1b3)]=[];['clientStream'];[_0x45ef94(0x2be)];[_0x45ef94(0x97f)];['sourceVideo'];['canvas'];[_0x45ef94(0x86d)];[_0x45ef94(0x218)];constructor(_0x2889a6,_0x2110f9,_0x57310f,_0x1a005c,_0x59e18c,_0x458696){const _0xcf336e=_0x45ef94;if(super(_0x2889a6,_0x2110f9,_0x57310f,_0x458696),this['audioContext']=_0x59e18c,this[_0xcf336e(0x6d3)]=this[_0xcf336e(0x19c)],this[_0xcf336e(0x40e)]=document[_0xcf336e(0xa30)](_0xcf336e(0x703)),this[_0xcf336e(0x40e)]['autoplay']=!0x0,this[_0xcf336e(0x40e)][_0xcf336e(0x9fa)]=!0x0,this[_0xcf336e(0x40e)][_0xcf336e(0x968)]=this['clientStream'],this[_0xcf336e(0x40e)][_0xcf336e(0x3b3)](),this['sourceVideo'][_0xcf336e(0x13f)]=()=>{const _0x7671bc=_0xcf336e;this[_0x7671bc(0x40e)][_0x7671bc(0x5fc)]();},this[_0xcf336e(0x514)]=document[_0xcf336e(0xa30)](_0xcf336e(0x514)),this['context']=this[_0xcf336e(0x514)][_0xcf336e(0x9ea)]('2d'),this['mediaStream']=this[_0xcf336e(0x514)][_0xcf336e(0x419)](_0x1a005c),this[_0xcf336e(0x97f)]=this[_0xcf336e(0x37c)][_0xcf336e(0x621)](),this[_0xcf336e(0x6d3)][_0xcf336e(0xa54)]()[_0xcf336e(0x453)]>0x0){const _0x303d20=this[_0xcf336e(0x6d3)]['getAudioTracks']()[0x0];this[_0xcf336e(0x2be)]=this[_0xcf336e(0x37c)][_0xcf336e(0x4c7)](new MediaStream([_0x303d20])),this[_0xcf336e(0x2be)][_0xcf336e(0x915)](this[_0xcf336e(0x97f)]);}const _0x20ffb5=this['audioDestination'][_0xcf336e(0x912)][_0xcf336e(0x1e6)]()[0x0];this[_0xcf336e(0x19c)][_0xcf336e(0xa31)](_0x20ffb5),this[_0xcf336e(0x218)]=setInterval(()=>{const _0xe499aa=_0xcf336e;this[_0xe499aa(0x514)][_0xe499aa(0x72c)]=this[_0xe499aa(0x40e)][_0xe499aa(0x783)],this[_0xe499aa(0x514)][_0xe499aa(0x2b0)]=this['sourceVideo'][_0xe499aa(0x3b6)],this[_0xe499aa(0x40e)][_0xe499aa(0x783)]?(0x0!==this[_0xe499aa(0x6d3)][_0xe499aa(0x698)]()[_0xe499aa(0x453)]&&this[_0xe499aa(0x6d3)]['getVideoTracks']()[0x0]['enabled']?this[_0xe499aa(0x19c)]['getVideoTracks']()[0x0][_0xe499aa(0x92c)]=!0x0:this[_0xe499aa(0x19c)][_0xe499aa(0x698)]()[0x0][_0xe499aa(0x92c)]=!0x1,0x0!==this[_0xe499aa(0x6d3)][_0xe499aa(0xa54)]()[_0xe499aa(0x453)]&&this[_0xe499aa(0x6d3)][_0xe499aa(0xa54)]()[0x0][_0xe499aa(0x92c)]?this['mediaStream'][_0xe499aa(0xa54)]()[0x0][_0xe499aa(0x92c)]=!0x0:this['mediaStream']['getAudioTracks']()[0x0][_0xe499aa(0x92c)]=!0x1,this[_0xe499aa(0x86d)][_0xe499aa(0x7ce)](this[_0xe499aa(0x40e)],0x0,0x0)):this[_0xe499aa(0x86d)]['clearRect'](0x0,0x0,this['canvas'][_0xe499aa(0x72c)],this['canvas'][_0xe499aa(0x2b0)]);},0x3e8/_0x1a005c);}[_0x45ef94(0x9d1)](){const _0x5795f8=_0x45ef94;clearInterval(this['interval']),this['sourceVideo'][_0x5795f8(0x175)](),this[_0x5795f8(0x514)][_0x5795f8(0x175)](),this['audioSource']?.[_0x5795f8(0x71c)](),this[_0x5795f8(0x97f)][_0x5795f8(0x71c)](),this[_0x5795f8(0x19c)]['getTracks']()[_0x5795f8(0xa3f)](_0x545ecb=>{const _0x20d2a6=_0x5795f8;_0x545ecb[_0x20d2a6(0x567)](),this[_0x20d2a6(0x19c)]['removeTrack'](_0x545ecb);}),super[_0x5795f8(0x9d1)]();}[_0x45ef94(0xa31)](_0x342fa9){const _0x171d39=_0x45ef94,_0x3e3e18=this[_0x171d39(0x20a)](_0x342fa9[_0x171d39(0x3a7)]);_0x3e3e18&&this[_0x171d39(0x323)](_0x3e3e18),'audio'!==_0x342fa9[_0x171d39(0x3a7)]?(_0x171d39(0x703)===_0x342fa9[_0x171d39(0x3a7)]&&this[_0x171d39(0xa53)](_0x342fa9),this[_0x171d39(0x662)](_0x342fa9)):this[_0x171d39(0x586)](_0x342fa9);}['removeTrack'](_0x16a6b2){const _0x1c39e8=_0x45ef94,_0x24ff31=this['getTrackFromParam'](_0x16a6b2);return _0x24ff31&&('audio'===_0x24ff31['kind']&&(this[_0x1c39e8(0x2be)]?.[_0x1c39e8(0x71c)](),this[_0x1c39e8(0x2be)]=void 0x0),this['trackEndedListeners'][_0x1c39e8(0x1f5)](_0x24ff31[_0x1c39e8(0x3a7)])?.(),this['clientStream'][_0x1c39e8(0x323)](_0x24ff31)),_0x24ff31;}['replaceTrack'](_0x241dae){const _0x2aa991=_0x45ef94;this[_0x2aa991(0x323)](_0x241dae[_0x2aa991(0x3a7)]),this[_0x2aa991(0xa31)](_0x241dae);}[_0x45ef94(0x220)](_0x4f35ed){this['transformations']=_0x4f35ed;}[_0x45ef94(0x20a)](_0x5951e5){const _0x349732=_0x45ef94;return this['clientStream'][_0x349732(0x1e6)]()[_0x349732(0x786)](_0x3d529b=>_0x3d529b['kind']===_0x5951e5)||null;}[_0x45ef94(0x709)](_0x298e53){const _0x3e8639=_0x45ef94;return'string'==typeof _0x298e53?this[_0x3e8639(0x20a)](_0x298e53):_0x298e53;}[_0x45ef94(0x586)](_0x2b2fff){const _0x20baa7=_0x45ef94;_0x20baa7(0x850)===this['audioContext']['state']&&this[_0x20baa7(0x37c)]['resume'](),this[_0x20baa7(0x6d3)][_0x20baa7(0xa31)](_0x2b2fff),this[_0x20baa7(0x2be)]=this[_0x20baa7(0x37c)]['createMediaStreamSource'](this[_0x20baa7(0x6d3)]),this[_0x20baa7(0x2be)][_0x20baa7(0x915)](this[_0x20baa7(0x97f)]);}[_0x45ef94(0xa53)](_0x39d498){const _0x26a394=_0x45ef94;this[_0x26a394(0x6d3)][_0x26a394(0xa31)](_0x39d498),this['sourceVideo'][_0x26a394(0x3b3)]();}}class _0x4de2b4 extends _0x1495c9{}class _0x455af1 extends _0x267a55{[_0x45ef94(0x5e4)];[_0x45ef94(0x9aa)];[_0x45ef94(0x154)];[_0x45ef94(0x95a)];['waitForArrayBufferSize'];[_0x45ef94(0x205)];[_0x45ef94(0x569)];[_0x45ef94(0x85a)];[_0x45ef94(0x928)]=new Map();[_0x45ef94(0x620)]=new Map();[_0x45ef94(0x6ca)]=new Map();['pendingFilesTransactions']=new Map();[_0x45ef94(0x54b)]=new Map();[_0x45ef94(0x77b)]=new Map();[_0x45ef94(0x6e0)];[_0x45ef94(0x4a2)]=_0x16e686();['listenerUnsubscribers']=new Map();[_0x45ef94(0x706)];[_0x45ef94(0x585)]=0x0;[_0x45ef94(0x3e2)]=0x0;['syncContent']=!0x0;[_0x45ef94(0x4f8)]=!0x0;['filesSynced']=0x0;[_0x45ef94(0x427)]=0x0;constructor(_0x3dce5d,_0x3a1bfc,_0x2c1a55,_0x54314c,_0x5d3e3d,_0x44f7ec,_0x206341,_0x1e8976){const _0x16b16f=_0x45ef94;if(_0x16b16f(0x829)!=typeof _0x3a1bfc)throw new _0x54ac69(_0x1dd92b[_0x16b16f(0x28d)],'Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string');super(_0x3dce5d,_0x3a1bfc),this[_0x16b16f(0x5e4)]=_0x3dce5d,this['clusterId']=_0x2c1a55,this[_0x16b16f(0x154)]=_0x54314c,this[_0x16b16f(0x95a)]=_0x5d3e3d,this['waitForArrayBufferSize']=_0x206341,this[_0x16b16f(0x205)]=_0x1e8976;const _0x519b50='ccc'+this['vendorId']+'ccc'+this[_0x16b16f(0x9aa)]+_0x16b16f(0x923)+_0x3a1bfc;this['objectStoreConnector']=new _0x44f7ec(_0x519b50),this[_0x16b16f(0x40b)]=this['options']?.[_0x16b16f(0x40b)]??!0x0,this['options']?.[_0x16b16f(0x903)]&&(this[_0x16b16f(0x40b)]=!0x1),this['sendStats']();}[_0x45ef94(0x9a1)](){this['sendStats']();}[_0x45ef94(0xf7)](){const _0x6bd1ac=_0x45ef94;return _0x29184c[_0x6bd1ac(0xd2)][_0x6bd1ac(0xc2)];}async['sync'](){const _0x1dcfff=_0x45ef94;this['isSyncing']=!0x0;try{const _0x3641a7=await this[_0x1dcfff(0x6e0)][_0x1dcfff(0x1f5)](_0x5c52ec),_0x478aaf=await _0x3641a7[_0x1dcfff(0x1b7)]();this[_0x1dcfff(0x85a)]=_0x478aaf;}catch(_0x2afaa7){}this[_0x1dcfff(0x569)]=this[_0x1dcfff(0x278)](async(_0x205269,_0x1e8633)=>{const _0x341bcf=_0x1dcfff;if(!(_0x1e8633 instanceof File))try{if(_0x1e8633[_0x341bcf(0xa37)]===_0x4598d0['Request'])return void this[_0x341bcf(0x254)](_0x1e8633);this['handleTransactionPayload'](_0x1e8633);}catch(_0x435ea8){if(_0x435ea8 instanceof _0x279d71)throw _0x435ea8;throw new _0x279d71(_0x279d71['codes'][_0x341bcf(0x80f)],{'payload':_0x1e8633});}}),await this['syncTransactions'](),this[_0x1dcfff(0x40b)]?await this['syncPendingFiles']():this[_0x1dcfff(0x80)](),this['sendStats']();}[_0x45ef94(0x9d1)](){const _0x5b5a72=_0x45ef94;this[_0x5b5a72(0x569)]?.(),this['listenerUnsubscribers'][_0x5b5a72(0xa3f)](_0x46ae95=>_0x46ae95()),this[_0x5b5a72(0x838)][_0x5b5a72(0x1ac)](),clearTimeout(this[_0x5b5a72(0x706)]),delete this['debounceStats'],super[_0x5b5a72(0x9d1)]();}[_0x45ef94(0x8b0)](){const _0x1c423a=_0x45ef94;this[_0x1c423a(0x9da)]?.[_0x1c423a(0x379)]({'sourceId':_0x17190e,'messageType':_0x43910d[_0x1c423a(0xc4)],'content':{'type':_0x292504[_0x1c423a(0x208)],'label':this[_0x1c423a(0x8f4)]}});}[_0x45ef94(0x79d)](_0x35474e,_0x1b27cf){const _0x54732d=_0x45ef94;if(this['listenerUnsubscribers'][_0x54732d(0x3bc)](_0x35474e))throw new _0x54ac69(_0x1dd92b[_0x54732d(0x519)],_0x54732d(0x56c));this[_0x54732d(0x838)][_0x54732d(0x2b3)](_0x35474e,this[_0x54732d(0x4a2)]['subscribe'](_0x1b27cf)),this[_0x54732d(0x4f8)]||this[_0x54732d(0x4a2)]['publish']({'event':_0x29184c[_0x54732d(0x3df)][_0x54732d(0xdc)],'payload':{'filesSynced':this['filesSynced']}});}['unsubscribe'](_0xc0d269){const _0x42c73a=_0x45ef94;this[_0x42c73a(0x838)][_0x42c73a(0x1f5)](_0xc0d269)?.(),this['listenerUnsubscribers']['delete'](_0xc0d269);}['publish'](_0x55a4e6){const _0x43c3cf=_0x45ef94;switch(_0x55a4e6[_0x43c3cf(0xae)]){case _0x29184c[_0x43c3cf(0x4b4)][_0x43c3cf(0x8da)]:return this[_0x43c3cf(0x791)](_0x55a4e6['file'],_0x55a4e6[_0x43c3cf(0x43d)],_0x55a4e6['options']);case _0x29184c[_0x43c3cf(0x4b4)][_0x43c3cf(0x2b8)]:return this[_0x43c3cf(0x710)](_0x55a4e6['path']);case _0x29184c[_0x43c3cf(0x4b4)]['Move']:return this['publishMove'](_0x55a4e6[_0x43c3cf(0x43d)],_0x55a4e6['newPath']);default:throw new _0x54ac69(_0x1dd92b[_0x43c3cf(0x32e)],'Cannot\x20publish\x20payload:\x20'+_0x55a4e6);}}async[_0x45ef94(0x4e4)](_0x96d65b){const _0x2955e1=_0x45ef94;try{const _0x3cb378=(0x0,_0xa305bc['v4'])(),_0x440b13=this[_0x2955e1(0x85a)],_0x53c454={'payloadType':_0x4598d0[_0x2955e1(0x3ee)],'action':_0x245bc1[_0x2955e1(0x8be)],'id':_0x3cb378,'parentId':_0x440b13,'path':_0x96d65b};await this['publishTransaction'](_0x53c454);const _0x41ad50=await this['deleteObject'](_0x96d65b);!0x0!==this['options']?.['standalone']&&await this[_0x2955e1(0x55e)](_0x53c454),_0x301706[_0x2955e1(0x6d8)](_0x230988[_0x2955e1(0x5a1)],{'type':_0x2955e1(0x4e4),'label':this['label'],'nodeId':this[_0x2955e1(0x5e4)][_0x2955e1(0xa2a)](),'nodeType':this[_0x2955e1(0x5e4)][_0x2955e1(0x6e1)],'clusterId':this['clusterId'],'kind':_0x41ad50,'path':_0x96d65b}),this[_0x2955e1(0x585)]+=0x1,this['sendStats']();}catch(_0x14637f){if(_0x14637f instanceof _0x279d71)throw new _0x54ac69(_0x1dd92b['ObjectStoreNotInSync'],_0x2955e1(0x657)+_0x96d65b+_0x2955e1(0x238));throw new _0x54ac69(_0x1dd92b[_0x2955e1(0x33e)],_0x2955e1(0xfb)+_0x96d65b);}}async[_0x45ef94(0x1f5)](_0x134320,_0x534972){const _0xe456ff=_0x45ef94;_0x301706[_0xe456ff(0x6d8)](_0x230988[_0xe456ff(0x5a1)],{'type':_0xe456ff(0x1f5),'label':this[_0xe456ff(0x8f4)],'nodeId':this['localNode'][_0xe456ff(0xa2a)](),'nodeType':this[_0xe456ff(0x5e4)][_0xe456ff(0x6e1)],'clusterId':this['clusterId'],'path':_0x134320}),this[_0xe456ff(0x3e2)]+=0x1,this['sendStats']();try{return await this[_0xe456ff(0x6e0)][_0xe456ff(0x1f5)](_0x134320,_0x534972);}catch(_0x2ef753){try{await this['objectStoreConnector'][_0xe456ff(0x1f5)](_0x134320+_0x40704b);}catch(_0x1f41de){throw new _0x54ac69(_0x1dd92b[_0xe456ff(0x33e)],'Cannot\x20get\x20file:\x20'+_0x134320);}throw new _0x54ac69(_0x1dd92b['ObjectStoreNotInSync'],_0xe456ff(0x9e));}}async[_0x45ef94(0x600)](_0x2b0939,_0x5a5863){const _0x165f08=_0x45ef94,{recursive:_0x49a0a7=!0x1,includeSyncingFiles:_0x29f13b=!0x1}=_0x5a5863??{};_0x301706[_0x165f08(0x6d8)](_0x230988[_0x165f08(0x5a1)],{'type':'list','label':this[_0x165f08(0x8f4)],'nodeId':this['localNode']['getId'](),'nodeType':this[_0x165f08(0x5e4)][_0x165f08(0x6e1)],'clusterId':this['clusterId'],'path':_0x2b0939}),this['reads']+=0x1,this[_0x165f08(0x707)]();try{const _0x4ef829=await this[_0x165f08(0x6e0)][_0x165f08(0x600)](_0x2b0939,_0x49a0a7);return this['processList'](_0x4ef829,{'recursive':_0x49a0a7,'includeSyncingFiles':_0x29f13b});}catch(_0x50a647){throw new _0x54ac69(_0x1dd92b[_0x165f08(0x33e)],_0x165f08(0x203)+_0x2b0939);}}['handleNodeJoin'](_0x254fa9){const _0x5a1918=_0x45ef94;this['nodesConnected']+=0x1;for(const _0x394d71 of this[_0x5a1918(0x620)][_0x5a1918(0x67a)]())this[_0x5a1918(0x55e)](_0x394d71,[_0x254fa9]);}[_0x45ef94(0x4e6)](_0x33d566){const _0x14570b=_0x45ef94;this['nodesConnected']-=0x1;const _0x194740=this[_0x14570b(0x6ca)][_0x14570b(0x1f5)](_0x33d566);if(_0x194740){for(const [_0x2710d9,_0x505e9b]of _0x194740[_0x14570b(0x67a)]())this[_0x14570b(0x215)](_0x2710d9,_0x505e9b);this[_0x14570b(0x6ca)][_0x14570b(0x991)](_0x33d566);}}async[_0x45ef94(0x888)](_0xa87c43='/'){const _0x57bd79=_0x45ef94;try{return await this[_0x57bd79(0x6e0)][_0x57bd79(0x722)](_0xa87c43);}catch(_0xd894b3){if(_0xd894b3 instanceof Error&&_0xd894b3[_0x57bd79(0x7c2)][_0x57bd79(0x62f)](_0x57bd79(0x74f)))return 0x0;throw new _0x54ac69(_0x1dd92b['ObjectStoreInvalidPath'],_0x57bd79(0x9f3)+_0xa87c43);}}[_0x45ef94(0x80)](){const _0x307000=_0x45ef94;this[_0x307000(0x4f8)]&&(this[_0x307000(0x4f8)]=!0x1,this[_0x307000(0x4a2)][_0x307000(0x379)]({'event':_0x29184c[_0x307000(0x3df)][_0x307000(0xdc)],'payload':{'filesSynced':this[_0x307000(0xdd)]}}));}async['processList'](_0x1264bc,{includeSyncingFiles:_0x40d35e=!0x1}){const _0x365fbd=_0x45ef94,_0x169823=[];for(const _0x31556a of _0x1264bc)if(_0x31556a[_0x365fbd(0x3a7)]!==_0x29184c[_0x365fbd(0x37a)]['Folder']){if(_0x31556a['name']!==_0x5c52ec){if(_0x31556a[_0x365fbd(0x388)][_0x365fbd(0x198)](_0x40704b)){if(!_0x40d35e)continue;const _0x5b5d06=_0x31556a;if(_0x5b5d06[_0x365fbd(0x388)]=_0x5b5d06[_0x365fbd(0x388)][_0x365fbd(0x94c)](_0x40704b,''),_0x5b5d06[_0x365fbd(0xbc)]=_0x5b5d06['pathName']['replace'](_0x40704b,''),await this[_0x365fbd(0x116)](_0x5b5d06[_0x365fbd(0xbc)])){_0x1264bc[_0x365fbd(0x786)](_0x5149a5=>_0x5149a5[_0x365fbd(0xbc)]===_0x5b5d06[_0x365fbd(0xbc)])[_0x365fbd(0x4b9)]=_0x29184c['FileStatus'][_0x365fbd(0xa1c)];continue;}_0x5b5d06['status']=_0x29184c['FileStatus'][_0x365fbd(0x560)];}_0x169823[_0x365fbd(0x59e)](_0x31556a);}}else _0x31556a[_0x365fbd(0x58b)]=await this[_0x365fbd(0x503)](_0x31556a[_0x365fbd(0x58b)]??[],{'includeSyncingFiles':_0x40d35e}),_0x169823[_0x365fbd(0x59e)](_0x31556a);return _0x169823;}async[_0x45ef94(0x791)](_0x4c6991,_0x2d428c,_0x2e98a9){const _0x208452=_0x45ef94;try{const _0x12500f=(0x0,_0xa305bc['v4'])(),_0x166cea=await _0x1341b5(_0x4c6991),_0x23dcf2=_0x35b848(_0x2d428c??'/',_0x4c6991['name']);let _0x436328=!0x0;const _0x501bdc={'payloadType':_0x4598d0[_0x208452(0x3ee)],'action':_0x245bc1[_0x208452(0x291)],'id':_0x12500f,'parentId':this[_0x208452(0x85a)],'answererId':this['localNode'][_0x208452(0xa2a)](),'name':_0x4c6991[_0x208452(0x388)],'type':_0x4c6991['type'],'path':_0x2d428c??'/','skipEncryption':_0x2e98a9?.[_0x208452(0x884)]??!0x1,'checksum':_0x166cea};try{if(!_0x2e98a9?.[_0x208452(0x65f)])throw new Error('Publish\x20the\x20transaction');const _0x40fc43=_0x23dcf2+_0x40704b;await this[_0x208452(0x6e0)][_0x208452(0x1f5)](_0x40fc43),_0x436328=!0x1,await this[_0x208452(0x6e0)][_0x208452(0x527)](_0x40fc43),this[_0x208452(0x620)][_0x208452(0x991)](_0x23dcf2);}catch(_0x3a2fd6){await this[_0x208452(0x110)](_0x501bdc);}if(this['syncContent']||this[_0x208452(0x205)]?.['standalone']?await this[_0x208452(0x50e)](_0x4c6991,_0x2d428c,_0x2e98a9):await this[_0x208452(0x4e8)](_0x4c6991[_0x208452(0x388)],_0x2d428c??'/',{'checksum':_0x166cea,'skipEncryption':_0x2e98a9?.[_0x208452(0x884)]??!0x1}),this['fileSendingMap']['has'](_0x23dcf2)){const [_0x2b4289,_0x2b2838]=this[_0x208452(0x77b)][_0x208452(0x1f5)](_0x23dcf2);this[_0x208452(0x77b)][_0x208452(0x2b3)](_0x23dcf2,[!0x0,_0x2b2838]);try{await _0x2b2838;}catch(_0x6acaa3){}this[_0x208452(0x77b)]['delete'](_0x23dcf2);}_0x436328&&this[_0x208452(0x427)]>0x0&&!0x0!==this[_0x208452(0x205)]?.[_0x208452(0x903)]&&await this[_0x208452(0x12c)](_0x4c6991,_0x501bdc),_0x301706[_0x208452(0x6d8)](_0x230988[_0x208452(0x5a1)],{'type':_0x208452(0x379),'label':this[_0x208452(0x8f4)],'nodeId':this[_0x208452(0x5e4)][_0x208452(0xa2a)](),'nodeType':this['localNode'][_0x208452(0x6e1)],'clusterId':this[_0x208452(0x9aa)],'kind':_0x29184c[_0x208452(0x37a)][_0x208452(0x8da)],'path':_0x2d428c,'fileName':_0x4c6991[_0x208452(0x388)],'fileType':_0x4c6991['type'],'size':_0x4c6991[_0x208452(0x77a)]}),this['writes']+=0x1,this['sendStats']();}catch(_0x119623){if(_0x119623 instanceof _0x279d71)throw new _0x54ac69(_0x1dd92b[_0x208452(0x4ee)],'Object\x20store\x20is\x20not\x20in\x20sync');throw new _0x54ac69(_0x1dd92b[_0x208452(0x33e)],_0x208452(0x160)+_0x2d428c+(_0x2d428c?.['endsWith']('/')?'':'/')+_0x4c6991[_0x208452(0x388)]);}}async[_0x45ef94(0x710)](_0x1d40c7){const _0x3eeea8=_0x45ef94;try{const _0x1727d2=(0x0,_0xa305bc['v4'])(),_0x4d68fc=this[_0x3eeea8(0x85a)],_0x1bf22c={'payloadType':_0x4598d0[_0x3eeea8(0x3ee)],'action':_0x245bc1[_0x3eeea8(0x11b)],'id':_0x1727d2,'parentId':_0x4d68fc,'path':_0x1d40c7};await this[_0x3eeea8(0x110)](_0x1bf22c),await this[_0x3eeea8(0x6e0)][_0x3eeea8(0xf9)](_0x1d40c7),!0x0!==this['options']?.[_0x3eeea8(0x903)]&&await this[_0x3eeea8(0x55e)](_0x1bf22c),_0x301706['logServiceEvent'](_0x230988[_0x3eeea8(0x5a1)],{'type':'publish','label':this['label'],'nodeId':this[_0x3eeea8(0x5e4)]['getId'](),'nodeType':this[_0x3eeea8(0x5e4)][_0x3eeea8(0x6e1)],'clusterId':this[_0x3eeea8(0x9aa)],'kind':_0x29184c[_0x3eeea8(0x37a)]['Folder'],'path':_0x1d40c7}),this[_0x3eeea8(0x585)]+=0x1,this['sendStats']();}catch(_0x19a321){if(_0x19a321 instanceof _0x279d71)throw new _0x54ac69(_0x1dd92b[_0x3eeea8(0x4ee)],_0x3eeea8(0x9e));throw new _0x54ac69(_0x1dd92b[_0x3eeea8(0x33e)],_0x3eeea8(0x5da)+_0x1d40c7);}}async[_0x45ef94(0x57d)](_0x1eb782,_0x3da778){const _0x486125=_0x45ef94;try{const _0x98cd2=(0x0,_0xa305bc['v4'])(),_0x59c92a=this['lastTransactionId'],_0x1c808b={'payloadType':_0x4598d0['Transaction'],'action':_0x245bc1[_0x486125(0x161)],'id':_0x98cd2,'parentId':_0x59c92a,'path':_0x1eb782,'newPath':_0x3da778};await this[_0x486125(0x110)](_0x1c808b);const _0x4195b2=await this['moveObject'](_0x1eb782,_0x3da778);!0x0!==this[_0x486125(0x205)]?.[_0x486125(0x903)]&&await this[_0x486125(0x55e)](_0x1c808b),_0x301706[_0x486125(0x6d8)](_0x230988[_0x486125(0x5a1)],{'type':'move','label':this['label'],'nodeId':this['localNode'][_0x486125(0xa2a)](),'nodeType':this['localNode'][_0x486125(0x6e1)],'clusterId':this[_0x486125(0x9aa)],'kind':_0x4195b2,'path':_0x1eb782,'newPath':_0x3da778}),this[_0x486125(0x585)]+=0x1,this[_0x486125(0x707)]();}catch(_0x3ad676){if(_0x3ad676 instanceof _0x279d71)throw new _0x54ac69(_0x1dd92b[_0x486125(0x4ee)],'Object\x20store\x20is\x20not\x20in\x20sync');throw new _0x54ac69(_0x1dd92b['ObjectStoreInvalidPath'],'Cannot\x20publish\x20move\x20operation:\x20'+_0x1eb782);}}async['handleTransactionPayload'](_0xe45ae5,_0x20723a=!0x1){const _0x2bc4c3=_0x45ef94;if(this[_0x2bc4c3(0x85a)]&&_0xe45ae5[_0x2bc4c3(0x534)]!==this[_0x2bc4c3(0x85a)]&&_0xe45ae5['id']!==this[_0x2bc4c3(0x85a)]){if(!_0xe45ae5[_0x2bc4c3(0x534)])throw new _0x279d71(_0x279d71[_0x2bc4c3(0x9c2)][_0x2bc4c3(0x80f)]);this[_0x2bc4c3(0x928)][_0x2bc4c3(0x2b3)](_0xe45ae5[_0x2bc4c3(0x534)],_0xe45ae5);}else{try{await this['processTransactionPayload'](_0xe45ae5,_0x20723a);}catch(_0x5e005e){}await this[_0x2bc4c3(0x671)](_0xe45ae5['id']),await this[_0x2bc4c3(0x272)](_0xe45ae5['id'],_0x20723a);}}async[_0x45ef94(0x7bd)](_0x413fb4,_0x518e20=!0x1){const _0x33a501=_0x45ef94;switch(_0x413fb4[_0x33a501(0xae)]){case _0x245bc1[_0x33a501(0x291)]:await this[_0x33a501(0x7c)](_0x413fb4);break;case _0x245bc1[_0x33a501(0x11b)]:await this[_0x33a501(0x8c2)](_0x413fb4);break;case _0x245bc1[_0x33a501(0x161)]:await this['handleObjectMove'](_0x413fb4,_0x518e20);break;case _0x245bc1[_0x33a501(0x8be)]:await this[_0x33a501(0x9c4)](_0x413fb4,_0x518e20);break;default:throw new _0x279d71(_0x279d71[_0x33a501(0x9c2)][_0x33a501(0x80f)],{'payload':_0x413fb4});}}async[_0x45ef94(0x272)](_0x5b530f,_0x112a1c=!0x1){const _0x583571=_0x45ef94;if(this['pendingSyncTransactions'][_0x583571(0x3bc)](_0x5b530f)){const _0x350132=this[_0x583571(0x928)]['get'](_0x5b530f);this['pendingSyncTransactions'][_0x583571(0x991)](_0x5b530f),await this[_0x583571(0x167)](_0x350132,_0x112a1c);}}async[_0x45ef94(0x254)](_0x93a393){const _0x1b0c2e=_0x45ef94;switch(_0x93a393[_0x1b0c2e(0xae)]){case _0x245bc1[_0x1b0c2e(0x477)]:return this[_0x1b0c2e(0x5d8)](_0x93a393);case _0x245bc1[_0x1b0c2e(0x517)]:return this[_0x1b0c2e(0x101)](_0x93a393);case _0x245bc1[_0x1b0c2e(0x643)]:return this['handleFileSync'](_0x93a393);case _0x245bc1[_0x1b0c2e(0xa2f)]:return this[_0x1b0c2e(0x7c)](_0x93a393);default:throw new _0x279d71(_0x279d71[_0x1b0c2e(0x9c2)][_0x1b0c2e(0x80f)],{'payload':_0x93a393});}}async[_0x45ef94(0x7c)](_0xc2633d,_0x4aa36e=0x0){const _0xe6265d=_0x45ef94,_0x514b2a=_0x35b848(_0xc2633d[_0xe6265d(0x43d)],_0xc2633d[_0xe6265d(0x388)]);if(!_0xc2633d['data']||void 0x0===_0xc2633d['index']||!_0xc2633d[_0xe6265d(0x60b)])return this['fileChunks'][_0xe6265d(0x991)](_0x514b2a),void await this['createPendingFileWrite'](_0xc2633d[_0xe6265d(0x388)],_0xc2633d[_0xe6265d(0x43d)],{'checksum':_0xc2633d[_0xe6265d(0x4ba)],'skipEncryption':_0xc2633d[_0xe6265d(0x884)]});if(this[_0xe6265d(0x8f3)][_0xe6265d(0x3bc)](_0x514b2a)){const _0x18069e=this['fileChunks'][_0xe6265d(0x1f5)](_0x514b2a);_0x18069e[_0xe6265d(0x4ba)]!==_0xc2633d[_0xe6265d(0x4ba)]&&(_0x18069e['stream']?.[_0xe6265d(0x8b0)](),this[_0xe6265d(0x8f3)][_0xe6265d(0x991)](_0x514b2a));}if(!this[_0xe6265d(0x8f3)]['has'](_0x514b2a)){try{await this[_0xe6265d(0x6e0)]['deleteObject'](_0x514b2a);}catch(_0x493e85){}try{const _0x36609c=this['syncContent']?await this[_0xe6265d(0x6e0)][_0xe6265d(0x3e6)](_0x514b2a,{'skipEncryption':_0xc2633d[_0xe6265d(0x884)]}):void 0x0,_0x46e11b={'chunksReceived':_0xc2633d[_0xe6265d(0x52a)]??0x0,'bytesReceived':0x0,'stream':_0x36609c,'checksum':_0xc2633d['checksum']};this[_0xe6265d(0x8f3)][_0xe6265d(0x2b3)](_0x514b2a,_0x46e11b),await this[_0xe6265d(0x4e8)](_0xc2633d[_0xe6265d(0x388)],_0xc2633d[_0xe6265d(0x43d)],{'checksum':_0xc2633d[_0xe6265d(0x4ba)],'skipEncryption':_0xc2633d[_0xe6265d(0x884)]});}catch(_0x45b79f){}}const _0x50fe49=this[_0xe6265d(0x8f3)][_0xe6265d(0x1f5)](_0x514b2a);if(_0xc2633d['checksum']!==_0x50fe49[_0xe6265d(0x4ba)])return;if(this['setPendingFileSyncingPayload'](_0xc2633d,_0x514b2a),this['syncContent']){if(!_0x50fe49['stream'])throw new _0x279d71(_0x279d71[_0xe6265d(0x9c2)][_0xe6265d(0x80f)],{'message':_0xe6265d(0x669)});let _0xbb202e=_0x50fe49[_0xe6265d(0x670)];if(_0xc2633d[_0xe6265d(0x376)]!==_0xbb202e){if(_0xbb202e>_0xc2633d[_0xe6265d(0x376)])return;const _0x1a73ea=0x1000;if(_0xc2633d[_0xe6265d(0x376)]>_0xbb202e+_0x1a73ea)return;if(_0x50fe49[_0xe6265d(0x29e)]||(_0x50fe49[_0xe6265d(0x29e)]=[]),_0x50fe49[_0xe6265d(0x29e)][_0xe6265d(0x453)]>0x4000)throw this['fileChunks']['delete'](_0x514b2a),new _0x279d71(_0x279d71[_0xe6265d(0x9c2)][_0xe6265d(0x80f)],{'message':_0xe6265d(0x8ce)});return void _0x50fe49[_0xe6265d(0x29e)][_0xe6265d(0x59e)](_0xc2633d);}try{_0x50fe49['chunksReceived']+=0x1,_0x50fe49[_0xe6265d(0x7c3)]+=_0xc2633d[_0xe6265d(0x1a0)][_0xe6265d(0x97b)],await _0x50fe49['stream'][_0xe6265d(0x200)](_0xc2633d['data']);}catch(_0x296af7){if(console['error'](_0xe6265d(0x945),_0x296af7),_0x4aa36e>0x3)throw this[_0xe6265d(0x8f3)][_0xe6265d(0x991)](_0x514b2a),console[_0xe6265d(0x2a9)](_0xe6265d(0x399),_0x296af7),new _0x279d71(_0x279d71[_0xe6265d(0x9c2)][_0xe6265d(0x80f)],{'message':_0xe6265d(0x399)});return this[_0xe6265d(0x7c)](_0xc2633d,_0x4aa36e+0x1);}}try{await this['manageBufferedChunks'](_0x50fe49,_0xc2633d[_0xe6265d(0x376)]+0x1);}catch(_0x4a79ac){throw this['fileChunks']['delete'](_0x514b2a),_0x4a79ac;}if(this[_0xe6265d(0x8f3)][_0xe6265d(0x2b3)](_0x514b2a,_0x50fe49),_0x50fe49[_0xe6265d(0x670)]<_0xc2633d[_0xe6265d(0x60b)])return;await this[_0xe6265d(0x62c)](_0x514b2a),this[_0xe6265d(0x40b)]&&(await this[_0xe6265d(0x3e0)](_0xc2633d),_0x301706[_0xe6265d(0x6d8)](_0x230988[_0xe6265d(0x5a1)],{'type':'sync','label':this[_0xe6265d(0x8f4)],'nodeId':this[_0xe6265d(0x5e4)][_0xe6265d(0xa2a)](),'nodeType':this['localNode'][_0xe6265d(0x6e1)],'clusterId':this[_0xe6265d(0x9aa)],'kind':_0x29184c['ObjectKind'][_0xe6265d(0x8da)],'path':_0xc2633d['path'],'fileName':_0xc2633d[_0xe6265d(0x388)],'fileType':_0xc2633d['type'],'size':_0x50fe49[_0xe6265d(0x7c3)]}));const _0x482761=this['pendingFilesTransactions']['get'](_0xc2633d['path'])??[];for(const _0x5800bc of _0x482761)await this[_0xe6265d(0x7bd)](_0x5800bc);this[_0xe6265d(0x60c)][_0xe6265d(0x991)](_0xc2633d[_0xe6265d(0x43d)]),this[_0xe6265d(0x4a2)][_0xe6265d(0x379)]({'event':_0x29184c[_0xe6265d(0x3df)][_0xe6265d(0x291)],'payload':{'file':{'kind':_0x29184c[_0xe6265d(0x37a)][_0xe6265d(0x8da)],'path':_0xc2633d[_0xe6265d(0x43d)],'type':_0xc2633d[_0xe6265d(0x6e1)],'size':_0x50fe49[_0xe6265d(0x7c3)],'name':_0xc2633d['name'],'pathName':_0x514b2a,'status':this[_0xe6265d(0x40b)]?_0x29184c[_0xe6265d(0x6a7)][_0xe6265d(0x5b6)]:_0x29184c[_0xe6265d(0x6a7)][_0xe6265d(0x560)]}}}),this[_0xe6265d(0x707)]();}async[_0x45ef94(0xa18)](_0x5353c5,_0x493def){const _0x247722=_0x45ef94,_0x5d2829=_0x5353c5[_0x247722(0x912)];let _0x76af6c=0x0;for(;_0x5353c5[_0x247722(0x29e)]&&_0x5353c5[_0x247722(0x29e)][_0x247722(0x453)]>0x0;){const _0xa8cd6d=_0x5353c5[_0x247722(0x29e)][_0x247722(0x786)](_0x2aec58=>_0x2aec58[_0x247722(0x376)]===_0x493def+0x1);if(!_0xa8cd6d)break;_0x5353c5[_0x247722(0x29e)]=_0x5353c5[_0x247722(0x29e)][_0x247722(0x533)](_0x47d8bf=>_0x47d8bf[_0x247722(0x376)]!==_0x493def+0x1);try{await _0x5d2829['write'](_0xa8cd6d[_0x247722(0x1a0)]),_0x493def++;}catch(_0x327d88){if(console[_0x247722(0x2a9)]('Error\x20writing\x20buffered\x20chunk\x20to\x20stream',_0x327d88),_0x76af6c>0x3)throw console['error'](_0x247722(0x370),_0x327d88),new _0x279d71(_0x279d71[_0x247722(0x9c2)][_0x247722(0x80f)],{'message':_0x247722(0x370)});_0x76af6c++;continue;}_0x5353c5['chunksReceived']+=0x1,_0x5353c5[_0x247722(0x7c3)]+=_0xa8cd6d[_0x247722(0x1a0)][_0x247722(0x97b)];}}async['handleFolderCreate'](_0x281b7b){const _0x25c7b1=_0x45ef94;await this[_0x25c7b1(0x6e0)][_0x25c7b1(0xf9)](_0x281b7b[_0x25c7b1(0x43d)]);const [_0x4c711a,_0x1c66c9]=_0x75791d(_0x281b7b[_0x25c7b1(0x43d)]);this['eventListener'][_0x25c7b1(0x379)]({'event':_0x29184c[_0x25c7b1(0x3df)][_0x25c7b1(0x11b)],'payload':{'folder':{'kind':_0x29184c[_0x25c7b1(0x37a)][_0x25c7b1(0x2b8)],'name':_0x1c66c9,'path':_0x4c711a,'pathName':_0x281b7b['path']}}});}async[_0x45ef94(0x9c4)](_0x4a0716,_0x348a6f=!0x1){const _0x567e73=_0x45ef94;if(!_0x348a6f&&!this['shouldProcessTransaction'](_0x4a0716))return;const _0x48554a=await this[_0x567e73(0x527)](_0x4a0716['path']),[_0x551628,_0x4d7ded]=_0x75791d(_0x4a0716['path']);this[_0x567e73(0x4a2)][_0x567e73(0x379)]({'event':_0x48554a===_0x29184c['ObjectKind']['Folder']?_0x29184c['StorageEventType'][_0x567e73(0x18d)]:_0x29184c['StorageEventType']['FileDelete'],'payload':{'name':_0x4d7ded,'path':_0x551628,'pathName':_0x4a0716[_0x567e73(0x43d)]}}),this[_0x567e73(0x707)]();}async[_0x45ef94(0x478)](_0x1fc95d,_0x3f74cd=!0x1){const _0x4aea20=_0x45ef94;if(!_0x3f74cd&&!this['shouldProcessTransaction'](_0x1fc95d))return this[_0x4aea20(0x54b)][_0x4aea20(0x2b3)](_0x1fc95d[_0x4aea20(0x80d)],this['pendingFilesRename']['get'](_0x1fc95d[_0x4aea20(0x43d)])??_0x1fc95d[_0x4aea20(0x43d)]),void this[_0x4aea20(0x54b)][_0x4aea20(0x991)](_0x1fc95d['path']);this[_0x4aea20(0x54b)][_0x4aea20(0x991)](_0x1fc95d[_0x4aea20(0x43d)]);const _0x7af925=await this[_0x4aea20(0x6e0)][_0x4aea20(0x92)](_0x1fc95d[_0x4aea20(0x43d)],_0x1fc95d['newPath']),[_0x723906,_0x37b115]=_0x75791d(_0x1fc95d[_0x4aea20(0x43d)]),[_0x357504,_0x49fa15]=_0x75791d(_0x1fc95d[_0x4aea20(0x80d)]);this[_0x4aea20(0x4a2)]['publish']({'event':_0x7af925===_0x29184c[_0x4aea20(0x37a)][_0x4aea20(0x2b8)]?_0x29184c[_0x4aea20(0x3df)][_0x4aea20(0x6a4)]:_0x29184c['StorageEventType'][_0x4aea20(0x173)],'payload':{'name':_0x49fa15,'path':_0x357504,'pathName':_0x1fc95d[_0x4aea20(0x80d)],'oldName':_0x37b115,'oldPath':_0x723906,'oldPathName':_0x1fc95d[_0x4aea20(0x43d)]}}),this['sendStats']();}['shouldProcessTransaction'](_0x2160dd){const _0x2979ae=_0x45ef94,_0x37ebb6=this[_0x2979ae(0x54b)]['get'](_0x2160dd[_0x2979ae(0x43d)])??_0x2160dd[_0x2979ae(0x43d)];let _0x2346ce=!0x1;for(const _0x4a52f0 of this[_0x2979ae(0x8f3)][_0x2979ae(0x428)]())if(_0x4a52f0[_0x2979ae(0x1a2)](_0x37ebb6)){const _0x495044=this[_0x2979ae(0x60c)][_0x2979ae(0x1f5)](_0x4a52f0)??[];_0x495044[_0x2979ae(0x59e)](_0x2160dd),this[_0x2979ae(0x60c)][_0x2979ae(0x2b3)](_0x4a52f0,_0x495044),_0x2346ce=!0x0;}return!_0x2346ce;}async[_0x45ef94(0x110)](_0x372791){const _0x81ee1e=_0x45ef94;if(!this[_0x81ee1e(0x205)]?.[_0x81ee1e(0x903)]){if(!_0x372791['id'])throw new _0x279d71(_0x279d71[_0x81ee1e(0x9c2)][_0x81ee1e(0x80f)],{'message':_0x81ee1e(0x5b9)});if(_0x372791[_0x81ee1e(0x534)]!==this[_0x81ee1e(0x85a)])throw new _0x279d71(_0x279d71[_0x81ee1e(0x9c2)][_0x81ee1e(0xf2)]);await this[_0x81ee1e(0x95a)][_0x81ee1e(0x8c4)](_0x372791,this[_0x81ee1e(0x8f4)]),await this[_0x81ee1e(0x671)](_0x372791['id']);}}async[_0x45ef94(0x671)](_0x176a93){const _0x485d2c=_0x45ef94;this['lastTransactionId']=_0x176a93;const _0x255f62=new File([new Blob([this[_0x485d2c(0x85a)]])],_0x5c52ec,{'type':_0x485d2c(0x515)});await this['writeFile'](_0x255f62,'/');}async[_0x45ef94(0x5d8)](_0x4eda7c){const _0x2737dc=_0x45ef94;try{const _0x24e34c=await this['get'](_0x4eda7c[_0x2737dc(0x43d)]+'/'+_0x4eda7c[_0x2737dc(0x388)],{'skipEncryption':_0x4eda7c['skipEncryption']}),_0x49d1ba=await _0x1341b5(_0x24e34c);if(''!==_0x4eda7c['checksum']&&_0x49d1ba!==_0x4eda7c[_0x2737dc(0x4ba)])return;_0x4eda7c[_0x2737dc(0x82d)]=this[_0x2737dc(0x5e4)][_0x2737dc(0xa2a)](),_0x4eda7c[_0x2737dc(0xae)]=_0x245bc1['RequestAccepted'],await this[_0x2737dc(0x55e)](_0x4eda7c,[_0x4eda7c[_0x2737dc(0x499)]]);}catch(_0x140c4d){}}async['handleFileRequestAnswer'](_0x38aed6){const _0xb4bb9f=_0x45ef94,_0xada54a=_0x35b848(_0x38aed6['path'],_0x38aed6[_0xb4bb9f(0x388)]);if(!this[_0xb4bb9f(0x620)][_0xb4bb9f(0x3bc)](_0xada54a))return;const _0xc6508e=this[_0xb4bb9f(0x620)][_0xb4bb9f(0x1f5)](_0xada54a);_0xc6508e[_0xb4bb9f(0xae)]=_0x245bc1[_0xb4bb9f(0x643)];const _0x1668d3=_0x38aed6[_0xb4bb9f(0x82d)];if(!_0x1668d3)throw new _0x279d71(_0x279d71[_0xb4bb9f(0x9c2)][_0xb4bb9f(0x80f)],{'message':_0xb4bb9f(0x2a0)});if(this[_0xb4bb9f(0x620)][_0xb4bb9f(0x991)](_0xada54a),this[_0xb4bb9f(0x6ca)][_0xb4bb9f(0x3bc)](_0x1668d3)||this[_0xb4bb9f(0x6ca)][_0xb4bb9f(0x2b3)](_0x1668d3,new Map()),this[_0xb4bb9f(0x6ca)][_0xb4bb9f(0x1f5)](_0x1668d3)['set'](_0xada54a,[_0xc6508e,this[_0xb4bb9f(0xa58)](_0x1668d3,_0xada54a)]),_0xc6508e[_0xb4bb9f(0x82d)]=_0x1668d3,_0xc6508e[_0xb4bb9f(0x52a)]=this['fileChunks'][_0xb4bb9f(0x1f5)](_0xada54a)?.['chunksReceived']??0x0,0x0===_0xc6508e[_0xb4bb9f(0x52a)])try{const [_0x3697f7,_0x4c5bf5]=await this[_0xb4bb9f(0x98c)](_0x38aed6['name'],_0x38aed6[_0xb4bb9f(0x43d)],_0x38aed6[_0xb4bb9f(0x4ba)]);_0x3697f7&&(_0xc6508e['startIndex']=_0x4c5bf5);}catch(_0x5a33fb){}this[_0xb4bb9f(0x55e)](_0xc6508e,[_0x1668d3]);}async[_0x45ef94(0x4be)](_0x151c32){const _0x15f7d1=_0x45ef94,_0x46f2e2=_0x35b848(_0x151c32[_0x15f7d1(0x43d)],_0x151c32[_0x15f7d1(0x388)]),_0x5a6e29=await this[_0x15f7d1(0x1f5)](_0x46f2e2,{'skipEncryption':_0x151c32[_0x15f7d1(0x884)]}),_0xdb1e7e={..._0x151c32,'answererId':this[_0x15f7d1(0x5e4)][_0x15f7d1(0xa2a)](),'action':_0x245bc1[_0x15f7d1(0xa2f)],'startIndex':_0x151c32[_0x15f7d1(0x52a)]??0x0};await this[_0x15f7d1(0x12c)](_0x5a6e29,_0xdb1e7e,[_0x151c32[_0x15f7d1(0x499)]]);}async[_0x45ef94(0x12c)](_0x1f145a,_0xd4afa4,_0x2276f0){let _0x2037d9,_0x5e0b8d;const _0x48722f=new Promise(async(_0x2f1905,_0x79f7eb)=>{_0x2037d9=_0x2f1905,_0x5e0b8d=_0x79f7eb;});return((async()=>{const _0x262b44=a0_0x395e,_0x24efba=Math['ceil'](_0x1f145a[_0x262b44(0x77a)]/_0x3f1e13);let _0x563b14=_0xd4afa4['startIndex']??0x0;const _0x1a1355=_0x35b848(_0xd4afa4[_0x262b44(0x43d)],_0xd4afa4[_0x262b44(0x388)]);this[_0x262b44(0x77b)][_0x262b44(0x2b3)](_0x1a1355,[!0x1,_0x48722f]);for await(const _0x46ed09 of async function*(_0x12e8a,_0x4c0d47=0x0,_0x26b46d){for await(const _0x45196a of _0x14740b(_0x12e8a,_0x4c0d47,_0x26b46d))yield _0x45196a;}(_0x1f145a,_0x563b14,this[_0x262b44(0x402)])){const [_0x43c234]=this[_0x262b44(0x77b)][_0x262b44(0x1f5)](_0x1a1355)??[];if(_0x43c234)return this[_0x262b44(0x77b)][_0x262b44(0x991)](_0x1a1355),void _0x5e0b8d(new Error(_0x262b44(0x350)));if(this[_0x262b44(0x60c)][_0x262b44(0x3bc)](_0x1a1355)){const _0x1a5ce0=this[_0x262b44(0x60c)][_0x262b44(0x1f5)](_0x1a1355);for(const _0x4e78dc of _0x1a5ce0)if(_0x4e78dc[_0x262b44(0xae)]===_0x245bc1[_0x262b44(0x291)]||_0x4e78dc[_0x262b44(0xae)]===_0x245bc1[_0x262b44(0x8be)])return;}const _0x5358f4={..._0xd4afa4,'type':_0x1f145a[_0x262b44(0x6e1)],'data':_0x46ed09,'index':_0x563b14,'total':_0x24efba};this['send'](_0x5358f4,_0x2276f0),_0x563b14++;}const _0x12ff6e=setInterval(async()=>{await this['waitForArrayBufferSize']()>0x0||(clearInterval(_0x12ff6e),_0x2037d9());});this[_0x262b44(0x77b)][_0x262b44(0x991)](_0x1a1355);})()),_0x48722f;}async[_0x45ef94(0x3e0)](_0x2fb73a){const _0x330cf4=_0x45ef94;try{const _0xbe91ab=_0x35b848(_0x2fb73a[_0x330cf4(0x43d)],_0x2fb73a['name']),_0x2efa77=_0xbe91ab+_0x40704b;await this['deleteObject'](_0x2efa77);const [,_0x40bc5b]=this['pendingFilesSyncing']['get'](_0x2fb73a['answererId'])?.[_0x330cf4(0x1f5)](_0xbe91ab)??[];_0x40bc5b&&(clearTimeout(_0x40bc5b),this[_0x330cf4(0x6ca)]['get'](_0x2fb73a[_0x330cf4(0x82d)])['delete'](_0xbe91ab));}catch(_0x4b37c6){}0x0===this['pendingFilesSyncing'][_0x330cf4(0x1f5)](_0x2fb73a['answererId'])?.['size']&&this[_0x330cf4(0x6ca)]['delete'](_0x2fb73a[_0x330cf4(0x82d)]),0x0===this[_0x330cf4(0x6ca)][_0x330cf4(0x77a)]&&0x0===this[_0x330cf4(0x620)][_0x330cf4(0x77a)]&&this[_0x330cf4(0x80)]();}async[_0x45ef94(0x214)](){const _0x504360=_0x45ef94;try{const _0x434b03=await this[_0x504360(0x95a)]['getTransactions'](this[_0x504360(0x8f4)],this[_0x504360(0x85a)]);for(const _0x221362 of _0x434b03)await this[_0x504360(0x167)](_0x221362,!0x0);}catch(_0x461100){if(_0x461100 instanceof _0x279d71&&_0x461100[_0x504360(0x9c3)]===_0x279d71['codes'][_0x504360(0x65a)]){await this[_0x504360(0x6e0)][_0x504360(0x527)](_0x5c52ec),delete this[_0x504360(0x85a)];try{const _0x3e404e=await this[_0x504360(0x6e0)][_0x504360(0x600)]('/',!0x1);for(const _0x31f32c of _0x3e404e)await this[_0x504360(0x6e0)][_0x504360(0x527)](_0x31f32c[_0x504360(0xbc)]);}catch(_0x12d73c){}return await this[_0x504360(0x214)]();}throw _0x461100;}}async['syncPendingFiles'](){const _0x4fd726=_0x45ef94,_0x3a4e0c=await this['list']('/',{'recursive':!0x0,'includeSyncingFiles':!0x0}),_0xbaadfb=async _0x191161=>{const _0x445418=a0_0x395e;for(const _0x1700e8 of _0x191161){if(_0x1700e8['kind']===_0x29184c['ObjectKind']['Folder']){_0x1700e8[_0x445418(0x58b)]&&_0x1700e8[_0x445418(0x58b)]['length']>0x0&&await _0xbaadfb(_0x1700e8[_0x445418(0x58b)]);continue;}if(_0x1700e8[_0x445418(0x4b9)]!==_0x29184c[_0x445418(0x6a7)][_0x445418(0x560)])continue;const _0x33159e=await this['get'](_0x1700e8[_0x445418(0xbc)]+_0x40704b),_0x515cda=JSON[_0x445418(0x562)](await _0x33159e[_0x445418(0x1b7)]()),_0x1bd8ad=_0x1700e8[_0x445418(0x388)][_0x445418(0x94c)](_0x40704b,''),_0x2380e2={'payloadType':_0x4598d0['Request'],'action':_0x245bc1[_0x445418(0x477)],'sourceId':this[_0x445418(0x5e4)][_0x445418(0xa2a)](),'type':'','path':_0x1700e8[_0x445418(0x43d)],'name':_0x1bd8ad,'checksum':_0x515cda[_0x445418(0x4ba)],'skipEncryption':_0x515cda[_0x445418(0x884)]},_0x3d65bf=_0x35b848(_0x1700e8[_0x445418(0x43d)],_0x1bd8ad);this[_0x445418(0x620)][_0x445418(0x2b3)](_0x3d65bf,_0x2380e2);}};await _0xbaadfb(_0x3a4e0c),0x0===this['objectRequests'][_0x4fd726(0x77a)]&&0x0===this[_0x4fd726(0x6ca)][_0x4fd726(0x77a)]&&this[_0x4fd726(0x80)]();}async[_0x45ef94(0x4e8)](_0x594f6f,_0x1227b8,_0x505eac){const _0x1f2b9d=_0x45ef94,_0x515a01=new File([new Blob([JSON[_0x1f2b9d(0xa51)](_0x505eac)])],''+_0x594f6f+_0x40704b,{'type':_0x1f2b9d(0x515)});await this[_0x1f2b9d(0x50e)](_0x515a01,_0x1227b8);}async[_0x45ef94(0x98c)](_0x1b556a,_0x27e57e,_0x2d41e1){const _0x2e3bd1=_0x45ef94;try{const _0x42d75d=_0x35b848(_0x27e57e,_0x1b556a),_0x4edbe9=_0x42d75d+_0x40704b,_0x570c4a=await this['objectStoreConnector'][_0x2e3bd1(0x1f5)](_0x4edbe9),{checksum:_0x226c77,skipEncryption:_0x40d5dc}=JSON[_0x2e3bd1(0x562)](await _0x570c4a[_0x2e3bd1(0x1b7)]()),_0x204fc6=(await this[_0x2e3bd1(0x6e0)][_0x2e3bd1(0x1f5)](_0x42d75d,{'skipEncryption':_0x40d5dc}))[_0x2e3bd1(0x77a)];return _0x226c77===_0x2d41e1&&_0x204fc6%_0x3f1e13==0x0?[!0x0,Math['round'](_0x204fc6/_0x3f1e13)]:(await this[_0x2e3bd1(0x6e0)][_0x2e3bd1(0x527)](_0x42d75d),[!0x1,0x0]);}catch(_0x53b1d3){return[!0x1,0x0];}}['getOrResetPendingFileTimeout'](_0x31f28d,_0x647886){const _0x259ce9=_0x45ef94,[_0x365bca,_0x47f07c]=this[_0x259ce9(0x6ca)]['get'](_0x31f28d)?.['get'](_0x647886)??[];return _0x47f07c&&clearTimeout(_0x47f07c),setTimeout(()=>{const _0xc115af=_0x259ce9,[_0x285780,_0x1bacd1]=this[_0xc115af(0x6ca)][_0xc115af(0x1f5)](_0x31f28d)['get'](_0x647886);this[_0xc115af(0x215)](_0x285780,_0x1bacd1);},0x927c0);}async[_0x45ef94(0x215)](_0x2c2f16,_0x1accbb){const _0x19b39e=_0x45ef94;clearTimeout(_0x1accbb),_0x2c2f16[_0x19b39e(0xae)]=_0x245bc1[_0x19b39e(0x477)],this[_0x19b39e(0x620)]['set'](_0x35b848(_0x2c2f16['path'],_0x2c2f16['name']),_0x2c2f16),this[_0x19b39e(0x55e)](_0x2c2f16);}[_0x45ef94(0x6d)](_0x45c570,_0x51d5fb){const _0x42e7e8=_0x45ef94;if(!this[_0x42e7e8(0x40b)])return;this[_0x42e7e8(0x6ca)][_0x42e7e8(0x3bc)](_0x45c570[_0x42e7e8(0x82d)])||this['pendingFilesSyncing'][_0x42e7e8(0x2b3)](_0x45c570['answererId'],new Map());const [_0x3ccebc]=this[_0x42e7e8(0x6ca)][_0x42e7e8(0x1f5)](_0x45c570[_0x42e7e8(0x82d)])['get'](_0x51d5fb)??[{'payloadType':_0x4598d0[_0x42e7e8(0x26d)],'action':_0x245bc1[_0x42e7e8(0x477)],'sourceId':this['localNode'][_0x42e7e8(0xa2a)](),'type':_0x45c570[_0x42e7e8(0x6e1)],'name':_0x45c570[_0x42e7e8(0x388)],'path':_0x45c570[_0x42e7e8(0x43d)],'skipEncryption':_0x45c570[_0x42e7e8(0x884)],'checksum':_0x45c570[_0x42e7e8(0x4ba)],'answererId':_0x45c570[_0x42e7e8(0x82d)]}];this[_0x42e7e8(0x6ca)][_0x42e7e8(0x1f5)](_0x45c570[_0x42e7e8(0x82d)])[_0x42e7e8(0x2b3)](_0x51d5fb,[_0x3ccebc,this['getOrResetPendingFileTimeout'](_0x45c570[_0x42e7e8(0x82d)],_0x51d5fb)]);}async[_0x45ef94(0x50e)](_0x4b055f,_0x2af7e1,_0xfffb9b){const _0x1af07f=_0x45ef94;this[_0x1af07f(0x4f8)]&&(this[_0x1af07f(0xdd)]+=0x1),await this[_0x1af07f(0x6e0)][_0x1af07f(0x50e)](_0x4b055f,_0x2af7e1,_0xfffb9b);}async[_0x45ef94(0x527)](_0x37620e){const _0x2cbaf9=_0x45ef94;try{const _0x3a1946=await this['objectStoreConnector']['deleteObject'](_0x37620e);if(!_0x37620e[_0x2cbaf9(0x198)](_0x40704b))try{await this[_0x2cbaf9(0x6e0)]['deleteObject'](_0x37620e+_0x40704b);}catch(_0x1c673e){}return this['isSyncing']&&_0x3a1946===_0x29184c['ObjectKind'][_0x2cbaf9(0x8da)]&&(this[_0x2cbaf9(0xdd)]+=0x1),_0x3a1946;}catch(_0x27e312){return await this[_0x2cbaf9(0x6e0)][_0x2cbaf9(0x527)](_0x37620e+_0x40704b);}}async['moveObject'](_0x35cbda,_0x5cd9c8){const _0x1bc02=_0x45ef94;try{const _0x48fbfc=await this[_0x1bc02(0x6e0)]['moveObject'](_0x35cbda,_0x5cd9c8);if(!_0x35cbda['endsWith'](_0x40704b))try{await this[_0x1bc02(0x6e0)][_0x1bc02(0x92)](_0x35cbda+_0x40704b,_0x5cd9c8+_0x40704b);}catch(_0x54a0d2){}return _0x48fbfc;}catch(_0x4dd064){return await this[_0x1bc02(0x6e0)][_0x1bc02(0x92)](_0x35cbda+_0x40704b,_0x5cd9c8+_0x40704b);}}['sendStats'](){const _0x25ba76=_0x45ef94;this['debounceStats']&&clearTimeout(this[_0x25ba76(0x706)]),this[_0x25ba76(0x706)]=setTimeout(async()=>{const _0x5e7968=_0x25ba76;delete this[_0x5e7968(0x706)];const _0x5a1cec=await this['objectStoreConnector']['calculateSize']('/');this[_0x5e7968(0x9da)]?.['publish']({'sourceId':_0x17190e,'messageType':_0x43910d[_0x5e7968(0xc4)],'content':{'type':_0x292504[_0x5e7968(0x28a)],'label':this[_0x5e7968(0x8f4)],'stats':{'timestamp':Date['now'](),'storage':_0x5a1cec,'messagesSent':this[_0x5e7968(0x93c)],'messagesReceived':this[_0x5e7968(0x266)],'bytesSent':this[_0x5e7968(0x9cf)],'bytesReceived':this[_0x5e7968(0x7c3)],'writes':this[_0x5e7968(0x585)],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),this[_0x5e7968(0x40b)]&&_0x301706['logStorage'](_0x230988[_0x5e7968(0x5a1)],_0x5e7968(0x923)+this['clusterId']+'ccc'+this['label'],_0x5a1cec);},_0x4032ce);}async[_0x45ef94(0x116)](_0x129794){const _0x585c3c=_0x45ef94;try{return await this[_0x585c3c(0x1f5)](_0x129794),!0x0;}catch(_0x1ca251){return!0x1;}}async[_0x45ef94(0x62c)](_0x560486){const _0x4eca5e=_0x45ef94;if(!this[_0x4eca5e(0x8f3)][_0x4eca5e(0x3bc)](_0x560486))return;const _0x204f46=this['fileChunks'][_0x4eca5e(0x1f5)](_0x560486);if(_0x204f46[_0x4eca5e(0x912)])try{await _0x204f46[_0x4eca5e(0x912)][_0x4eca5e(0x8b0)]();}catch(_0x242c6d){console[_0x4eca5e(0x2a9)](_0x4eca5e(0xa0e),_0x242c6d);}this[_0x4eca5e(0x8f3)]['delete'](_0x560486);}}class _0x457944 extends _0x267a55{['localNode'];[_0x45ef94(0x9aa)];['unsubscribeHandler']=new Map();[_0x45ef94(0x706)];constructor(_0x12991a,_0x33f8e6,_0x1ec054){const _0x2b1fc8=_0x45ef94;if(_0x2b1fc8(0x829)!=typeof _0x33f8e6)throw new _0x54ac69(_0x1dd92b[_0x2b1fc8(0x938)],_0x2b1fc8(0x1cc));super(_0x12991a,_0x33f8e6),this[_0x2b1fc8(0x5e4)]=_0x12991a,this['clusterId']=_0x1ec054,this[_0x2b1fc8(0x707)]();}[_0x45ef94(0x9a1)](){this['sendStats']();}[_0x45ef94(0xf7)](){const _0x36f8e8=_0x45ef94;return _0x29184c[_0x36f8e8(0xd2)][_0x36f8e8(0x83b)];}['publish'](_0xe7edde,_0x4cde82){const _0x42909f=_0x45ef94;_0x301706['log'](_0x3e3f45[_0x42909f(0x83b)],_0x42909f(0x6e9),this[_0x42909f(0x5e4)][_0x42909f(0xa2a)](),_0xe7edde,_0x4cde82),_0x301706[_0x42909f(0x6d8)](_0x230988[_0x42909f(0x83b)],{'type':_0x42909f(0x379),'label':this['label'],'nodeId':this[_0x42909f(0x5e4)][_0x42909f(0xa2a)](),'nodeType':this[_0x42909f(0x5e4)]['type'],'clusterId':this[_0x42909f(0x9aa)],'remoteIds':_0x4cde82??[],'contentType':_0xe7edde instanceof File?_0x29184c['ContentType'][_0x42909f(0x8da)]:_0x29184c['ContentType']['Data'],'size':_0xe7edde instanceof File?_0xe7edde[_0x42909f(0x77a)]:JSON['stringify'](_0xe7edde)[_0x42909f(0x453)]}),this[_0x42909f(0x707)](),this['send'](_0xe7edde,_0x4cde82);}[_0x45ef94(0x79d)](_0x378426,_0xf8dc09){const _0x50054d=_0x45ef94;if(this[_0x50054d(0x569)]['has'](_0x378426))throw new _0x54ac69(_0x1dd92b['PubSubTopicAlreadySubscribed'],_0x50054d(0xaa));this['unsubscribeHandler']['set'](_0x378426,this['onMessage']((_0x206535,_0x17d91c)=>{const _0x4c7161=_0x50054d;_0x4c7161(0x1a0)===_0x378426&&_0x17d91c instanceof File||!('file'!==_0x378426||_0x17d91c instanceof File)||(_0x301706['log'](_0x3e3f45['PubSub'],_0x4c7161(0x1f7),this['localNode'][_0x4c7161(0xa2a)](),_0x206535,_0x17d91c),_0x301706[_0x4c7161(0x6d8)](_0x230988[_0x4c7161(0x83b)],{'type':_0x4c7161(0x79d),'label':this[_0x4c7161(0x8f4)],'nodeId':this[_0x4c7161(0x5e4)]['getId'](),'nodeType':this[_0x4c7161(0x5e4)][_0x4c7161(0x6e1)],'clusterId':this[_0x4c7161(0x9aa)],'remoteId':_0x206535,'contentType':_0x378426,'size':_0x17d91c instanceof File?_0x17d91c[_0x4c7161(0x77a)]:JSON['stringify'](_0x17d91c)['length']}),this[_0x4c7161(0x707)](),_0xf8dc09(_0x206535,_0x17d91c));}));}[_0x45ef94(0x2b6)](_0x55b69c){const _0x4d2e1f=_0x45ef94;this[_0x4d2e1f(0x569)][_0x4d2e1f(0x1f5)](_0x55b69c)?.(),this[_0x4d2e1f(0x569)][_0x4d2e1f(0x991)](_0x55b69c);}[_0x45ef94(0x9d1)](){const _0x2386bd=_0x45ef94;this['unsubscribeHandler'][_0x2386bd(0xa3f)](_0x409a96=>_0x409a96()),clearTimeout(this[_0x2386bd(0x706)]),delete this[_0x2386bd(0x706)],super[_0x2386bd(0x9d1)]();}[_0x45ef94(0x8b0)](){const _0x365f02=_0x45ef94;this[_0x365f02(0x9da)]?.[_0x365f02(0x379)]({'sourceId':_0x17190e,'messageType':_0x43910d['Content'],'content':{'type':_0x292504[_0x365f02(0x970)],'label':this[_0x365f02(0x8f4)]}});}['sendStats'](){const _0x67c593=_0x45ef94;this[_0x67c593(0x706)]&&clearTimeout(this[_0x67c593(0x706)]),this[_0x67c593(0x706)]=setTimeout(()=>{const _0x5e52d3=_0x67c593;this[_0x5e52d3(0x9da)]?.[_0x5e52d3(0x379)]({'sourceId':_0x17190e,'messageType':_0x43910d[_0x5e52d3(0xc4)],'content':{'type':_0x292504['PubSubTopicStats'],'label':this[_0x5e52d3(0x8f4)],'stats':{'timestamp':Date[_0x5e52d3(0x69)](),'storage':0x0,'messagesSent':this[_0x5e52d3(0x93c)],'messagesReceived':this[_0x5e52d3(0x266)],'bytesSent':this['bytesSent'],'bytesReceived':this['bytesReceived'],'writes':0x0,'reads':0x0,'prompts':0x0,'tokens':0x0}}});},_0x4032ce);}}class _0x422986 extends _0x26815d{[_0x45ef94(0x5e4)];[_0x45ef94(0x9a4)];[_0x45ef94(0x70b)];['clusterId'];[_0x45ef94(0x569)];[_0x45ef94(0x5f5)];[_0x45ef94(0x697)];[_0x45ef94(0x91c)]=new Map();[_0x45ef94(0x2cf)];[_0x45ef94(0x587)]=new Set();[_0x45ef94(0x881)];[_0x45ef94(0x8fb)]=_0x16e686();[_0x45ef94(0x63c)]=new Map();constructor(_0x35f54b,_0x1066e3,_0x347f0c,_0x9c0176,_0x3f8abb,_0xa759a5){const _0x1010e5=_0x45ef94;super(_0x1066e3,_0x347f0c,new MediaStream()),this[_0x1010e5(0x5e4)]=_0x35f54b,this['internalId']=_0x9c0176,this[_0x1010e5(0x70b)]=_0x3f8abb,this[_0x1010e5(0x9aa)]=_0xa759a5,this[_0x1010e5(0x19c)][_0x1010e5(0x1e6)]()['forEach'](_0x4bc0ef=>this['setupTrackEndedListeners'](_0x4bc0ef));}[_0x45ef94(0x9d1)](){const _0x518f94=_0x45ef94;this[_0x518f94(0x91c)]['size']>0x0&&(this[_0x518f94(0x91c)][_0x518f94(0xa3f)](_0x3cfd70=>{const _0x42386f=_0x518f94;_0x3cfd70[_0x42386f(0xfc)](),_0x3cfd70['destroy']();}),this[_0x518f94(0x91c)][_0x518f94(0x1ac)]()),this['trackEndedListeners']['forEach'](_0x4c9ef1=>_0x4c9ef1()),this[_0x518f94(0x19c)][_0x518f94(0x1e6)]()['forEach'](_0x440832=>this[_0x518f94(0x19c)][_0x518f94(0x323)](_0x440832)),this[_0x518f94(0x697)]&&(clearTimeout(this['updateDebounce']),delete this[_0x518f94(0x697)]),this['resizeHandler']?.(),super['destroy']();}['registerSubscriber'](_0x914255){const _0x339700=_0x45ef94;this[_0x339700(0x569)]=_0x914255[_0x339700(0x79d)](({content:_0x59f6a5})=>{const _0x19f238=_0x339700;switch(_0x59f6a5[_0x19f238(0xae)]){case _0x1deabc['RemoteAdd']:if(_0x301706[_0x19f238(0x1d5)](_0x3e3f45[_0x19f238(0x5c4)],_0x19f238(0x984),this[_0x19f238(0x5e4)][_0x19f238(0xa2a)](),this[_0x19f238(0x881)]),_0x59f6a5[_0x19f238(0x912)]['id']!==this['internalId']||_0x59f6a5[_0x19f238(0x881)]!==this[_0x19f238(0x881)])return;this['removeTrack'](_0x59f6a5[_0x19f238(0x6dd)][_0x19f238(0x3a7)]),this[_0x19f238(0x19c)]['addTrack'](_0x59f6a5['track']);for(const [_0x42a6e8,_0x238822]of this['outgoingStreams'][_0x19f238(0x58b)]())try{_0x238822[_0x19f238(0xa31)](_0x59f6a5[_0x19f238(0x6dd)]);}catch(_0x2a23c0){_0x238822['destroy'](),this[_0x19f238(0x91c)][_0x19f238(0x991)](_0x42a6e8);}this[_0x19f238(0x662)](_0x59f6a5['track']),this[_0x19f238(0x5cc)](),_0x19f238(0x703)===_0x59f6a5[_0x19f238(0x6dd)][_0x19f238(0x3a7)]&&this[_0x19f238(0x2cf)]&&(this['mediaStream'][_0x19f238(0x472)]?setTimeout(()=>this[_0x19f238(0x2cf)]?.[_0x19f238(0x5fc)](),0x0):setTimeout(()=>this[_0x19f238(0x2cf)]?.[_0x19f238(0x3b3)](),0x0),this[_0x19f238(0xe5)]());break;case _0x1deabc[_0x19f238(0xbb)]:if(_0x59f6a5['stream']['id']!==this['internalId']||_0x59f6a5[_0x19f238(0x881)]!==this[_0x19f238(0x881)])return;this[_0x19f238(0x323)](_0x59f6a5['track']['kind']),this[_0x19f238(0x2cf)]&&_0x19f238(0x703)===_0x59f6a5['track'][_0x19f238(0x3a7)]&&(this[_0x19f238(0x5f5)]?.(),this[_0x19f238(0x19c)]['getTracks']()[_0x19f238(0x453)]>0x0?this[_0x19f238(0x2cf)][_0x19f238(0x3b3)]():this['renderElement'][_0x19f238(0x968)]=null);}});}['unregisterSubscriber'](){const _0x181265=_0x45ef94;this['unsubscribeHandler']?.(),this[_0x181265(0x63c)][_0x181265(0xa3f)](_0x14945d=>_0x14945d()),delete this[_0x181265(0x569)];}[_0x45ef94(0x97c)](){const _0xff5137=_0x45ef94;return this[_0xff5137(0x9a4)];}['setInternalId'](_0x31b3f4){const _0x42a2d2=_0x45ef94;this[_0x42a2d2(0x9a4)]=_0x31b3f4;}[_0x45ef94(0x487)](){const _0x80a19f=_0x45ef94;return this[_0x80a19f(0x70b)];}[_0x45ef94(0x5a0)](_0x5638d7){const _0x1df300=_0x45ef94;for(const _0xeca5e9 of _0x5638d7||this['availableTrackKinds'])if(!this[_0x1df300(0x19c)][_0x1df300(0x1e6)]()[_0x1df300(0x786)](_0x301dbf=>_0x301dbf[_0x1df300(0x3a7)]===_0xeca5e9))return!0x1;return!0x0;}[_0x45ef94(0x8b1)](){const _0xae6dc6=_0x45ef94;let _0xd2f9b9={'width':0x0,'height':0x0};const _0x5a8d1d=this[_0xae6dc6(0x19c)][_0xae6dc6(0x698)]();if(_0x5a8d1d['length']>0x0){const _0x236b33=_0x5a8d1d[0x0][_0xae6dc6(0x1f9)]();_0x236b33[_0xae6dc6(0x72c)]&&_0x236b33[_0xae6dc6(0x2b0)]&&(_0xd2f9b9={'width':_0x236b33['width'],'height':_0x236b33['height']});}return _0xd2f9b9;}[_0x45ef94(0x8eb)](_0x44bac8){for(const _0x2de771 of _0x44bac8)if(!this['subscribedTracks']['has'](_0x2de771))return!0x1;return!0x0;}[_0x45ef94(0x304)](_0x134cec,_0x3a2892){const _0x2e8614=_0x45ef94;if(!this['outgoingStreams'][_0x2e8614(0x3bc)](_0x134cec)){const _0x1fcff9=new _0x2ddbb0(this[_0x2e8614(0x2e2)],this[_0x2e8614(0x8f4)],this[_0x2e8614(0x19c)],_0x134cec,_0x3a2892),_0x5c4000=_0x1fcff9[_0x2e8614(0x2bc)](()=>{const _0x3c9ff6=_0x2e8614;_0x5c4000(),this['outgoingStreams']['get'](_0x134cec)?.[_0x3c9ff6(0x9d1)](),this[_0x3c9ff6(0x91c)][_0x3c9ff6(0x991)](_0x134cec);});this[_0x2e8614(0x91c)]['set'](_0x134cec,_0x1fcff9),_0x1fcff9[_0x2e8614(0x52e)](this[_0x2e8614(0x9da)]);}return this[_0x2e8614(0x91c)][_0x2e8614(0x1f5)](_0x134cec);}[_0x45ef94(0x8c9)](){return this['mediaStream']['id'];}[_0x45ef94(0x30b)](){const _0x2cdf0f=_0x45ef94;return _0x29184c['MediaStreamPriority'][_0x2cdf0f(0x896)];}['getSubscribedTracks'](){const _0x49773d=_0x45ef94;return Array[_0x49773d(0x157)](this[_0x49773d(0x587)]);}[_0x45ef94(0x79d)](_0x5c263d){const _0x116fc4=_0x45ef94;let _0x2cbc04=[];if(_0x5c263d){_0x116fc4(0x429)!=typeof _0x5c263d[_0x116fc4(0x703)]||_0x5c263d['video'][_0x116fc4(0x2cf)]instanceof HTMLVideoElement||!this['renderElement']||(_0x5c263d[_0x116fc4(0x703)]={'renderElement':this[_0x116fc4(0x2cf)]});try{(0x0,_0x29184c[_0x116fc4(0x9f4)])(_0x5c263d);}catch(_0x2e80cf){throw new _0x54ac69(_0x1dd92b[_0x116fc4(0xa57)],_0x116fc4(0x5cf));}_0x5c263d[_0x116fc4(0x703)]&&(_0x2cbc04[_0x116fc4(0x59e)]('video'),_0x116fc4(0xbf)!=typeof _0x5c263d[_0x116fc4(0x703)]&&_0x5c263d['video']['renderElement']&&(this[_0x116fc4(0x2cf)]=_0x5c263d[_0x116fc4(0x703)][_0x116fc4(0x2cf)],_0x5c263d['video']['maxResolution']||(_0x5c263d['video'][_0x116fc4(0x26a)]={'width':this['renderElement']['clientWidth'],'height':this[_0x116fc4(0x2cf)]['clientHeight']}),delete _0x5c263d[_0x116fc4(0x703)][_0x116fc4(0x2cf)])),_0x5c263d[_0x116fc4(0x8f6)]&&_0x2cbc04[_0x116fc4(0x59e)](_0x116fc4(0x8f6));}else _0x2cbc04=this[_0x116fc4(0x487)]();this['isSubscribed'](_0x2cbc04)||(_0x2cbc04['forEach'](_0x3c822b=>this[_0x116fc4(0x587)][_0x116fc4(0x9fb)](_0x3c822b)),this[_0x116fc4(0x9da)][_0x116fc4(0x379)]({'sourceId':_0x17190e,'messageType':_0x43910d[_0x116fc4(0xc4)],'content':{'type':_0x292504[_0x116fc4(0xa0f)],'label':this['label'],'ownerId':this[_0x116fc4(0x2e2)][_0x116fc4(0xa2a)](),'trackKinds':_0x2cbc04,'params':_0x5c263d}}),_0x301706['logServiceEvent'](_0x230988[_0x116fc4(0x3c9)],{'type':_0x116fc4(0x79d),'label':this[_0x116fc4(0x8f4)],'nodeId':this[_0x116fc4(0x5e4)]['getId'](),'nodeType':this['localNode'][_0x116fc4(0x6e1)],'clusterId':this[_0x116fc4(0x9aa)],'sourceId':this[_0x116fc4(0x2e2)]['getId'](),'streamId':this[_0x116fc4(0x9a4)],'trackKinds':_0x2cbc04}));}['update'](_0xd8c22b){const _0x4e5be3=_0x45ef94;try{(0x0,_0x29184c['isValidMediaSubscriptionParams'])(_0xd8c22b);}catch(_0xdce863){throw new _0x54ac69(_0x1dd92b['RemoteMediaStreamInvalidSubscriptionParams'],_0x4e5be3(0x5cf));}this[_0x4e5be3(0x697)]&&clearTimeout(this['updateDebounce']),this[_0x4e5be3(0x697)]=setTimeout(()=>{const _0x4a658c=_0x4e5be3;delete this[_0x4a658c(0x697)],this[_0x4a658c(0x9da)]['publish']({'sourceId':_0x17190e,'messageType':_0x43910d[_0x4a658c(0xc4)],'content':{'type':_0x292504['UpdateMediaStream'],'label':this[_0x4a658c(0x8f4)],'ownerId':this[_0x4a658c(0x2e2)][_0x4a658c(0xa2a)](),'params':_0xd8c22b}});},0x1f4);}['unsubscribe'](_0x6ec944){const _0x34d1b6=_0x45ef94;_0x6ec944||(_0x6ec944=this['getAvailableTrackKinds']()),(_0x6ec944=Array['isArray'](_0x6ec944)?_0x6ec944:[_0x6ec944])[_0x34d1b6(0xa3f)](_0xdec67c=>this[_0x34d1b6(0x587)][_0x34d1b6(0x991)](_0xdec67c)),this['systemTopic'][_0x34d1b6(0x379)]({'sourceId':_0x17190e,'messageType':_0x43910d[_0x34d1b6(0xc4)],'content':{'type':_0x292504[_0x34d1b6(0x919)],'label':this['label'],'ownerId':this[_0x34d1b6(0x2e2)][_0x34d1b6(0xa2a)](),'trackKinds':_0x6ec944,'remainingTracks':this[_0x34d1b6(0x587)][_0x34d1b6(0x77a)]}});}[_0x45ef94(0x9f7)](_0x4af5b0){const _0x1c46d4=_0x45ef94;return this[_0x1c46d4(0x8fb)]['subscribe'](_0x4af5b0);}[_0x45ef94(0x7ed)](){const _0x5f0a50=_0x45ef94;return this[_0x5f0a50(0x881)];}[_0x45ef94(0xa17)](_0x147266){const _0x399dc5=_0x45ef94;this[_0x399dc5(0x881)]!==_0x147266&&(this[_0x399dc5(0x881)]=_0x147266,this[_0x399dc5(0x8fb)][_0x399dc5(0x379)](_0x147266));}[_0x45ef94(0x389)](_0x47d356){const _0x241964=_0x45ef94;this[_0x241964(0x63c)][_0x241964(0x1f5)](_0x47d356)?.(),this[_0x241964(0x63c)][_0x241964(0x991)](_0x47d356);}[_0x45ef94(0x323)](_0x8b6b66){const _0x10d6fd=_0x45ef94,_0x3b4a03=this['mediaStream'][_0x10d6fd(0x1e6)]()[_0x10d6fd(0x786)](_0x43121b=>_0x43121b[_0x10d6fd(0x3a7)]===_0x8b6b66);_0x3b4a03&&(this[_0x10d6fd(0x19c)][_0x10d6fd(0x323)](_0x3b4a03),this[_0x10d6fd(0x91c)]['forEach'](_0x3a4a8f=>_0x3a4a8f[_0x10d6fd(0x323)](_0x8b6b66)),this['trackEndedListeners'][_0x10d6fd(0x1f5)](_0x8b6b66)?.());}[_0x45ef94(0x5cc)](){const _0x439691=_0x45ef94;this['renderElement']&&(this['renderElement']['srcObject']&&this['renderElement']['srcObject']===this['mediaStream']||(this[_0x439691(0x2cf)][_0x439691(0x968)]=this[_0x439691(0x19c)]));}[_0x45ef94(0xe5)](){const _0x4ca37b=_0x45ef94;if(this[_0x4ca37b(0x2cf)]&&!this[_0x4ca37b(0x5f5)]&&'undefined'!=typeof ResizeObserver){let _0x50814b=this['renderElement'][_0x4ca37b(0x351)],_0x4f3d5a=this[_0x4ca37b(0x2cf)]['clientHeight'];const _0x316252=new ResizeObserver(_0x4527be=>{const _0x3aded8=_0x4ca37b,{width:_0x5e3bad,height:_0x5d7875}=_0x4527be[0x0][_0x3aded8(0x58a)];_0x50814b===_0x5e3bad&&_0x4f3d5a===_0x5d7875||(_0x50814b=Math[_0x3aded8(0x7f4)](_0x5e3bad),_0x4f3d5a=Math[_0x3aded8(0x7f4)](_0x5d7875),this[_0x3aded8(0x3c5)]({'video':{'maxResolution':{'width':_0x5e3bad,'height':_0x5d7875}}}));});_0x316252['observe'](this[_0x4ca37b(0x2cf)]),this[_0x4ca37b(0x5f5)]=()=>_0x316252['disconnect']();}}[_0x45ef94(0x90f)](_0x27e498){const _0x54f037=_0x45ef94,_0x1d5d4b=[];for(const _0x5705a8 of this['subscribedTracks'])this[_0x54f037(0x323)](_0x5705a8),_0x1d5d4b[_0x54f037(0x59e)](_0x5705a8);this['providerId']&&this[_0x54f037(0x9da)]['publish']({'sourceId':_0x17190e,'messageType':_0x43910d['Content'],'content':{'type':_0x292504[_0x54f037(0x921)],'label':this[_0x54f037(0x8f4)],'streamId':this[_0x54f037(0x9a4)],'ownerId':this[_0x54f037(0x2e2)][_0x54f037(0xa2a)](),'providerId':this[_0x54f037(0x881)],'trackKinds':_0x1d5d4b}});}[_0x45ef94(0x662)](_0x15b751){const _0x56622a=_0x45ef94,_0x48d13d=()=>this[_0x56622a(0x90f)](_0x15b751);_0x15b751[_0x56622a(0x4a4)](_0x56622a(0x138),_0x48d13d),_0x15b751[_0x56622a(0x4a4)](_0x56622a(0x35a),_0x48d13d),this[_0x56622a(0x63c)][_0x56622a(0x2b3)](_0x15b751[_0x56622a(0x3a7)],()=>{const _0x277eb7=_0x56622a;_0x15b751[_0x277eb7(0x9f0)](_0x277eb7(0x138),_0x48d13d),_0x15b751[_0x277eb7(0x9f0)]('mute',_0x48d13d),this[_0x277eb7(0x63c)][_0x277eb7(0x991)](_0x15b751['kind']);});}}class _0xf3adbd extends _0x267a55{[_0x45ef94(0x5e4)];[_0x45ef94(0x9aa)];[_0x45ef94(0x154)];['db'];[_0x45ef94(0x706)];[_0x45ef94(0x585)]=0x0;[_0x45ef94(0x3e2)]=0x0;[_0x45ef94(0x5ec)]=!0x1;constructor(_0xc35891,_0x225c25,_0x3acf3c,_0x502d42,_0x283390){const _0x496904=_0x45ef94;if(_0x496904(0x829)!=typeof _0x225c25)throw new _0x54ac69(_0x1dd92b['VectorDatabaseNameNotString'],_0x496904(0x475));super(_0xc35891,_0x225c25),this[_0x496904(0x5e4)]=_0xc35891,this[_0x496904(0x9aa)]=_0x3acf3c,this[_0x496904(0x154)]=_0x502d42;const _0x370bb7='ccc'+this[_0x496904(0x154)]+_0x496904(0x923)+this['clusterId']+'ccc'+this['label'];this['db']=new _0x283390(_0x370bb7),this[_0x496904(0x707)]();}[_0x45ef94(0xbe)](){return this['isLoaded'];}[_0x45ef94(0x608)](_0x1f6beb){const _0x978b59=_0x45ef94;this[_0x978b59(0x5ec)]=_0x1f6beb;}[_0x45ef94(0x9d1)](){const _0xc719af=_0x45ef94;clearTimeout(this[_0xc719af(0x706)]),delete this[_0xc719af(0x706)],super[_0xc719af(0x9d1)]();}[_0x45ef94(0x8b0)](){const _0x1fbcc4=_0x45ef94;this['systemTopic'][_0x1fbcc4(0x379)]({'sourceId':_0x17190e,'messageType':_0x43910d['Content'],'content':{'type':_0x292504[_0x1fbcc4(0x1c1)],'label':this[_0x1fbcc4(0x8f4)]}});}[_0x45ef94(0x9a1)](){const _0x22b3c9=_0x45ef94;this[_0x22b3c9(0x707)]();}['getContentType'](){const _0x370022=_0x45ef94;return _0x29184c[_0x370022(0xd2)][_0x370022(0x851)];}[_0x45ef94(0x97e)](_0x4b02ab,_0x3b7276,_0x3bb5b8,_0x3f4de2,_0x5b1ff8){const _0x162f53=_0x45ef94,_0x5e0f58=this['db']['search'](_0x4b02ab,_0x3b7276,_0x3bb5b8,_0x3f4de2,_0x5b1ff8);return this[_0x162f53(0x3e2)]+=0x1,_0x301706['logServiceEvent'](_0x230988['VectorDatabase'],{'type':_0x162f53(0x97e),'label':this[_0x162f53(0x8f4)],'nodeId':this['localNode'][_0x162f53(0xa2a)](),'nodeType':this[_0x162f53(0x5e4)]['type'],'clusterId':this[_0x162f53(0x9aa)],'size':0x0}),this['sendStats'](),_0x5e0f58;}['insert'](_0x237509,_0x222b76,_0x30e44d,_0x45df6e){const _0x2af8a8=_0x45ef94;this['db'][_0x2af8a8(0x9bc)](_0x237509,_0x222b76,_0x30e44d,_0x45df6e),this[_0x2af8a8(0x585)]+=0x1,_0x301706[_0x2af8a8(0x6d8)](_0x230988[_0x2af8a8(0x851)],{'type':'insert','label':this['label'],'nodeId':this[_0x2af8a8(0x5e4)][_0x2af8a8(0xa2a)](),'nodeType':this[_0x2af8a8(0x5e4)]['type'],'clusterId':this['clusterId'],'size':_0x45df6e[_0x2af8a8(0x9f6)]((_0x5b8cc2,_0x156d1c)=>_0x5b8cc2+_0x156d1c['length'],0x0)}),this['sendStats']();}[_0x45ef94(0x175)](_0x40bbb2){const _0x96df0c=_0x45ef94;this['db'][_0x96df0c(0x175)](_0x40bbb2),this[_0x96df0c(0x585)]+=0x1,_0x301706[_0x96df0c(0x6d8)](_0x230988[_0x96df0c(0x851)],{'type':'remove','label':this[_0x96df0c(0x8f4)],'nodeId':this[_0x96df0c(0x5e4)][_0x96df0c(0xa2a)](),'nodeType':this[_0x96df0c(0x5e4)][_0x96df0c(0x6e1)],'clusterId':this[_0x96df0c(0x9aa)],'size':0x0}),this[_0x96df0c(0x707)]();}[_0x45ef94(0x82a)](_0x4da212){const _0x3ad82a=_0x45ef94;this['db'][_0x3ad82a(0x82a)](_0x4da212);}[_0x45ef94(0x7b6)](_0x34c231){const _0x205df8=_0x45ef94;this['db'][_0x205df8(0x7b6)](_0x34c231);}['sendStats'](){const _0x489309=_0x45ef94;this[_0x489309(0x706)]&&clearTimeout(this[_0x489309(0x706)]),this['debounceStats']=setTimeout(async()=>{const _0x4b370a=_0x489309;delete this[_0x4b370a(0x706)];const _0x2fe818=this['db'][_0x4b370a(0x21f)]()[_0x4b370a(0x97b)];this[_0x4b370a(0x9da)][_0x4b370a(0x379)]({'sourceId':_0x17190e,'messageType':_0x43910d[_0x4b370a(0xc4)],'content':{'type':_0x292504['VectorDatabaseStats'],'label':this[_0x4b370a(0x8f4)],'stats':{'timestamp':Date[_0x4b370a(0x69)](),'storage':_0x2fe818,'messagesSent':this[_0x4b370a(0x93c)],'messagesReceived':this[_0x4b370a(0x266)],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x4b370a(0x7c3)],'writes':this[_0x4b370a(0x585)],'reads':this[_0x4b370a(0x3e2)],'prompts':0x0,'tokens':0x0}}}),_0x301706[_0x4b370a(0x1c3)](_0x230988[_0x4b370a(0x851)],_0x4b370a(0x923)+this[_0x4b370a(0x9aa)]+'ccc'+this['label'],_0x2fe818);},_0x4032ce);}}class _0x382780{['id'];[_0x45ef94(0x8c7)];[_0x45ef94(0x3a2)];constructor(_0x2dbd68,_0x1ac6ba=new Set(),_0x425b2c){const _0xde360c=_0x45ef94;this['id']=_0x2dbd68,this[_0xde360c(0x8c7)]=_0x1ac6ba,this['rank']=_0x425b2c;}[_0x45ef94(0x8b0)](){const _0x4ec23f=_0x45ef94;this[_0x4ec23f(0x3a2)]=void 0x0,this['remoteConnections'][_0x4ec23f(0x1ac)]();}[_0x45ef94(0xa2a)](){return this['id'];}[_0x45ef94(0x25f)](){const _0x2466bb=_0x45ef94;return this[_0x2466bb(0x3a2)];}[_0x45ef94(0x596)](){const _0x70b816=_0x45ef94;return this[_0x70b816(0x8c7)];}}class _0x1b8f7f extends _0x382780{['id'];[_0x45ef94(0x3b1)];[_0x45ef94(0x8a)];[_0x45ef94(0x8c7)];[_0x45ef94(0x3a2)];[_0x45ef94(0x6e1)]=_0x29184c['NodeType']['User'];constructor(_0x4f8653,_0x5dff81,_0x43f666,_0x4ed972=new Set(),_0x5c90e3){const _0x35eb8c=_0x45ef94;super(_0x4f8653,_0x4ed972,_0x5c90e3),this['id']=_0x4f8653,this[_0x35eb8c(0x3b1)]=_0x5dff81,this['email']=_0x43f666,this['remoteConnections']=_0x4ed972,this['rank']=_0x5c90e3;}['getDisplayName'](){const _0x1663b6=_0x45ef94;return this[_0x1663b6(0x3b1)];}['getEmail'](){return this['email'];}}class _0x2d6972{['vendorId'];['clusterId'];[_0x45ef94(0xa7)];constructor(_0x3facaf,_0x23bfb8){const _0xe22523=_0x45ef94;this[_0xe22523(0x154)]=_0x3facaf,this[_0xe22523(0x9aa)]=_0x23bfb8,this['clusterKey']=_0xe22523(0x923)+this[_0xe22523(0x154)]+_0xe22523(0x923)+this[_0xe22523(0x9aa)];}async['writeTransaction'](_0x53c473,_0x6aae6b){const _0x188dbc=_0x45ef94,_0x3263db=(0x0,_0x1fdb8e[_0x188dbc(0x311)])(_0x5e415d[_0x188dbc(0x36f)](),_0x188dbc(0x4d7)+this[_0x188dbc(0xa7)]+'/objectstores/'+_0x6aae6b+_0x188dbc(0x98f)+_0x53c473['id']),_0x38eb91=(0x0,_0x1fdb8e[_0x188dbc(0xa36)])(_0x3263db);_0x38eb91[_0x188dbc(0x175)](),_0x53c473[_0x188dbc(0x534)]||delete _0x53c473[_0x188dbc(0x534)];try{await(0x0,_0x1fdb8e[_0x188dbc(0x2b3)])(_0x3263db,_0x53c473);}catch(_0x339d1e){throw await _0x38eb91[_0x188dbc(0x47f)](),new _0x279d71(_0x279d71['codes'][_0x188dbc(0xa21)]);}if(!0x1===(await(0x0,_0x1fdb8e[_0x188dbc(0x332)])((0x0,_0x1fdb8e[_0x188dbc(0x311)])(_0x5e415d[_0x188dbc(0x36f)](),'clusters/'+this[_0x188dbc(0xa7)]+_0x188dbc(0x386)+_0x6aae6b+_0x188dbc(0x6cc)),_0x2738f3=>_0x2738f3?_0x2738f3===_0x53c473[_0x188dbc(0x534)]?_0x53c473['id']:void 0x0:_0x53c473[_0x188dbc(0x534)]?_0x53c473[_0x188dbc(0x534)]:_0x53c473['id']))[_0x188dbc(0x591)])throw await(0x0,_0x1fdb8e[_0x188dbc(0x175)])(_0x3263db),await _0x38eb91[_0x188dbc(0x47f)](),new _0x279d71(_0x279d71['codes'][_0x188dbc(0xf2)]);await _0x38eb91['cancel']();}async[_0x45ef94(0x299)](_0x51beee,_0x88065c){const _0x3a6923=_0x45ef94;let _0x5d0447=[];const _0x5bd7af=(0x0,_0x1fdb8e['ref'])(_0x5e415d[_0x3a6923(0x36f)](),_0x3a6923(0x4d7)+this['clusterKey']+'/objectstores/'+_0x51beee+'/transactions');let _0x2d2bf7=await(0x0,_0x1fdb8e[_0x3a6923(0x1f5)])((0x0,_0x1fdb8e[_0x3a6923(0x284)])(_0x5bd7af,(0x0,_0x1fdb8e[_0x3a6923(0x3a0)])(0x65),(0x0,_0x1fdb8e[_0x3a6923(0x77c)])()));if(!_0x2d2bf7[_0x3a6923(0xf1)]()){if(void 0x0!==_0x88065c)throw new _0x279d71(_0x279d71[_0x3a6923(0x9c2)]['ObjectStoreInvalidState']);return _0x5d0447;}const _0x242f39=_0x2d2bf7[_0x3a6923(0x2f7)]();for(;Object['keys'](_0x2d2bf7[_0x3a6923(0x2f7)]())[_0x3a6923(0x453)]>0x64;){const _0x52fc07=Object[_0x3a6923(0x428)](_0x2d2bf7[_0x3a6923(0x2f7)]()),_0x4c0d82=_0x52fc07[_0x52fc07[_0x3a6923(0x453)]-0x1];_0x2d2bf7=await(0x0,_0x1fdb8e[_0x3a6923(0x1f5)])((0x0,_0x1fdb8e[_0x3a6923(0x284)])(_0x5bd7af,(0x0,_0x1fdb8e['limitToFirst'])(0x65),(0x0,_0x1fdb8e['startAt'])(_0x4c0d82),(0x0,_0x1fdb8e[_0x3a6923(0x77c)])())),Object[_0x3a6923(0x11e)](_0x242f39,_0x2d2bf7[_0x3a6923(0x2f7)]());}if(_0x5d0447=Object[_0x3a6923(0x67a)](_0x242f39)[_0x3a6923(0x533)](_0x385826=>_0x3a6923(0x829)!=typeof _0x385826),0x0===_0x5d0447[_0x3a6923(0x453)]&&void 0x0!==_0x88065c)throw new _0x279d71(_0x279d71[_0x3a6923(0x9c2)]['ObjectStoreInvalidState']);if(_0x5d0447['length']>0x0&&void 0x0!==_0x88065c&&!_0x5d0447[_0x3a6923(0x786)](_0x4fcde3=>_0x4fcde3['id']===_0x88065c))throw new _0x279d71(_0x279d71[_0x3a6923(0x9c2)][_0x3a6923(0x65a)]);const _0x4c0d99=[];let _0x4d9817=_0x5d0447[_0x3a6923(0x786)](_0x1900f1=>_0x1900f1[_0x3a6923(0x534)]===_0x88065c);for(;_0x4d9817;)_0x4c0d99[_0x3a6923(0x59e)](_0x4d9817),_0x4d9817=_0x5d0447[_0x3a6923(0x786)](_0x672d30=>_0x672d30[_0x3a6923(0x534)]===_0x4d9817['id']);return _0x4c0d99;}}class _0x1e8dca{[_0x45ef94(0x380)];['options'];[_0x45ef94(0x5a2)]=new Map();[_0x45ef94(0x88c)]=new Map();[_0x45ef94(0x493)]=new Map();[_0x45ef94(0x43a)]=new Map();[_0x45ef94(0x631)]=new Map();['keyValueDatabases']=new Map();['vectorDatabases']=new Map();[_0x45ef94(0x2f8)]=new Map();[_0x45ef94(0x180)]=new Map();[_0x45ef94(0x623)]=new Map();[_0x45ef94(0x95a)];constructor(_0x28aa4c,_0x23e907){const _0x5c511f=_0x45ef94;this[_0x5c511f(0x380)]=_0x28aa4c,this[_0x5c511f(0x205)]=_0x23e907,this['transactionService']=new _0x2d6972(this[_0x5c511f(0x380)]['vendorId'],this[_0x5c511f(0x380)]['clusterId']);}[_0x45ef94(0x8b0)](_0x24d480=!0x1){const _0x1ecc40=_0x45ef94;this[_0x1ecc40(0x88c)]['forEach']((_0x5aed4e,_0x2e86bc)=>{_0x5aed4e['forEach']((_0x2ecbdd,_0x4aca80)=>{const _0x598f16=a0_0x395e;this[_0x598f16(0x5bf)](_0x2e86bc,_0x4aca80);});}),_0x24d480||(_0x7d5314[_0x1ecc40(0x1ac)](),this['localMediaStreams']['forEach']((_0x1a7fd2,_0x17414d)=>{const _0x35bfb9=_0x1ecc40;this[_0x35bfb9(0x68c)](_0x17414d);}),this[_0x1ecc40(0x493)][_0x1ecc40(0xa3f)]((_0x7d6cd3,_0x3c8d65)=>{const _0x475b92=_0x1ecc40;this[_0x475b92(0x333)](_0x3c8d65);}),this['objectStores']['forEach']((_0x73c1a8,_0x5e2425)=>{const _0x41600e=_0x1ecc40;this[_0x41600e(0x877)](_0x5e2425);}),this[_0x1ecc40(0x631)][_0x1ecc40(0xa3f)]((_0x47d844,_0x40fece)=>{this['removeExternalStorageConnection'](_0x40fece);}),this['keyValueDatabases'][_0x1ecc40(0xa3f)]((_0x149161,_0x23a8c6)=>{const _0x581f6a=_0x1ecc40;this[_0x581f6a(0x652)](_0x23a8c6);}),this[_0x1ecc40(0x180)]['forEach']((_0x48f74c,_0x228595)=>{this['removeJobDispatcher'](_0x228595);}),this[_0x1ecc40(0x623)][_0x1ecc40(0xa3f)]((_0x334048,_0x1ba946)=>{const _0x4bdd93=_0x1ecc40;this[_0x4bdd93(0x808)](_0x1ba946);}),this[_0x1ecc40(0x45d)]['forEach']((_0x19d6fd,_0x44f6df)=>{const _0x4062c0=_0x1ecc40;this[_0x4062c0(0x1f1)](_0x44f6df);}),this[_0x1ecc40(0x2f8)][_0x1ecc40(0xa3f)]((_0x343766,_0x303168)=>{const _0x4464bb=_0x1ecc40;this[_0x4464bb(0x7d1)](_0x303168);}));}[_0x45ef94(0xa0c)](_0x5f349f,_0x35fe6e,_0x50b5eb){const _0x3476ab=_0x45ef94;if(this[_0x3476ab(0x43a)][_0x3476ab(0x3bc)](_0x5f349f))throw new _0x54ac69(_0x1dd92b[_0x3476ab(0x572)],_0x3476ab(0x90d));const _0x33a4c6=new _0x455af1(this['configs'][_0x3476ab(0x5e4)],_0x5f349f,this['configs'][_0x3476ab(0x9aa)],this['configs'][_0x3476ab(0x154)],this['transactionService'],_0x35fe6e,()=>this[_0x3476ab(0x380)][_0x3476ab(0x33f)][_0x3476ab(0x402)](),_0x50b5eb);return this[_0x3476ab(0x43a)][_0x3476ab(0x2b3)](_0x5f349f,_0x33a4c6),this[_0x3476ab(0x380)][_0x3476ab(0x33f)][_0x3476ab(0x324)](_0x33a4c6),_0x33a4c6;}[_0x45ef94(0x872)](_0x960c49,_0x220bed){const _0x520ae1=_0x45ef94;if(this[_0x520ae1(0x43a)][_0x520ae1(0x3bc)](_0x960c49))throw new _0x54ac69(_0x1dd92b[_0x520ae1(0xde)],_0x520ae1(0x566));const _0x54935e=new _0x1e5fb5(this[_0x520ae1(0x380)][_0x520ae1(0x5e4)],_0x960c49,this['configs'][_0x520ae1(0x9aa)],this[_0x520ae1(0x380)][_0x520ae1(0x154)],_0x220bed);return this['externalStorageConnections'][_0x520ae1(0x2b3)](_0x960c49,_0x54935e),this['configs'][_0x520ae1(0x33f)][_0x520ae1(0x324)](_0x54935e),_0x54935e;}async[_0x45ef94(0x1b9)](_0x29f08d,_0x3fb1a2,_0x28c862){const _0x117bbd=_0x45ef94;if(this[_0x117bbd(0x9b1)][_0x117bbd(0x3bc)](_0x29f08d))throw new _0x54ac69(_0x1dd92b[_0x117bbd(0x950)],_0x117bbd(0x502));try{const _0x2e18f6=this[_0x117bbd(0x380)][_0x117bbd(0x33f)][_0x117bbd(0x358)][_0x117bbd(0x26b)](this['configs'][_0x117bbd(0x33f)]),_0x25d22c=new _0x46bf33(this[_0x117bbd(0x380)][_0x117bbd(0x5e4)],_0x29f08d,this['configs'][_0x117bbd(0x9aa)],this['configs']['vendorId'],_0x3fb1a2,_0x28c862,_0x2e18f6);return this['keyValueDatabases'][_0x117bbd(0x2b3)](_0x29f08d,_0x25d22c),this[_0x117bbd(0x380)][_0x117bbd(0x33f)]['registerSystemSource'](_0x25d22c),_0x25d22c;}catch(_0x2a65a8){if(_0x2a65a8 instanceof _0x54ac69)throw _0x2a65a8;throw new _0x279d71(_0x279d71[_0x117bbd(0x9c2)][_0x117bbd(0x5a4)],{'label':_0x29f08d,'clusterId':this[_0x117bbd(0x380)][_0x117bbd(0x9aa)],'vendorId':this[_0x117bbd(0x380)][_0x117bbd(0x154)]});}}async[_0x45ef94(0x1f4)](_0x543b95,_0x5a533f){const _0xee3fa4=_0x45ef94;if(this[_0xee3fa4(0x180)][_0xee3fa4(0x3bc)](_0x543b95))throw new _0x54ac69(_0x1dd92b['JobDispatcherAlreadyExists'],_0xee3fa4(0x689));try{const _0x48b4ac=new _0x880be4(this[_0xee3fa4(0x380)][_0xee3fa4(0x5e4)],_0x543b95,_0x5a533f);return this[_0xee3fa4(0x180)][_0xee3fa4(0x2b3)](_0x543b95,_0x48b4ac),this[_0xee3fa4(0x380)][_0xee3fa4(0x33f)][_0xee3fa4(0x324)](_0x48b4ac),_0x48b4ac;}catch(_0x421b47){if(_0x421b47 instanceof _0x54ac69)throw _0x421b47;throw new _0x279d71(_0x279d71['codes'][_0xee3fa4(0x9ef)],{'label':_0x543b95,'clusterId':this[_0xee3fa4(0x380)][_0xee3fa4(0x9aa)],'vendorId':this[_0xee3fa4(0x380)][_0xee3fa4(0x154)]});}}async['createGenerativeAIContext'](_0x4af610,_0x372e45){const _0x3f62d2=_0x45ef94;if(this['jobDispatchers'][_0x3f62d2(0x3bc)](_0x4af610))throw new _0x54ac69(_0x1dd92b[_0x3f62d2(0x46d)],_0x3f62d2(0x67d));if(this['jobWorkers'][_0x3f62d2(0x3bc)](_0x4af610))throw new _0x54ac69(_0x1dd92b['GenerativeAILabelConflict'],_0x3f62d2(0x9e4));try{const _0x5e314c=new _0x2102f0(this[_0x3f62d2(0x380)][_0x3f62d2(0x5e4)],_0x4af610,this[_0x3f62d2(0x380)][_0x3f62d2(0x154)],_0x372e45);return this[_0x3f62d2(0x180)]['set'](_0x4af610,_0x5e314c),this['configs'][_0x3f62d2(0x33f)][_0x3f62d2(0x324)](_0x5e314c),_0x5e314c;}catch(_0x488de6){if(_0x488de6 instanceof _0x54ac69)throw _0x488de6;throw new _0x279d71(_0x279d71['codes'][_0x3f62d2(0x354)],{'label':_0x4af610,'clusterId':this['configs']['clusterId'],'vendorId':this['configs'][_0x3f62d2(0x154)]});}}async[_0x45ef94(0x4f6)](_0x20c49b,_0x2a2450,_0x1d8325,_0x74cf3f,_0x22f36e,_0xab0f2d,_0x3544f9,_0x538a6f,_0x4ce10f,_0x3cc7e7,_0x3a1f7f,_0x512bee){const _0x2a060b=_0x45ef94;if(this['jobWorkers'][_0x2a060b(0x3bc)](_0x20c49b))throw new _0x54ac69(_0x1dd92b[_0x2a060b(0x23e)],_0x2a060b(0x2c0));if(this[_0x2a060b(0x180)][_0x2a060b(0x3bc)](_0x20c49b))throw new _0x54ac69(_0x1dd92b[_0x2a060b(0x442)],'Label\x20already\x20in\x20use\x20by\x20AI\x20Service');try{const _0x3f003d=new _0x38cdf1(this[_0x2a060b(0x380)][_0x2a060b(0x5e4)],_0x20c49b,_0x2a2450,this,_0x1d8325,_0x74cf3f,_0x22f36e,_0xab0f2d,_0x3544f9,_0x538a6f,_0x4ce10f,_0x3cc7e7,_0x3a1f7f,_0x512bee);return this[_0x2a060b(0x623)][_0x2a060b(0x2b3)](_0x20c49b,_0x3f003d),this['configs'][_0x2a060b(0x33f)][_0x2a060b(0x324)](_0x3f003d),_0x3f003d;}catch(_0x2b0fed){if(_0x2b0fed instanceof _0x54ac69)throw _0x2b0fed;throw new _0x279d71(_0x279d71[_0x2a060b(0x9c2)]['GenerativeAIWorkerCreationFailed'],{'label':_0x20c49b,'clusterId':this[_0x2a060b(0x380)]['clusterId'],'vendorId':this[_0x2a060b(0x380)][_0x2a060b(0x154)]});}}[_0x45ef94(0x81f)](_0x31bb58,_0x2f8b14){const _0x4814d7=_0x45ef94;if(this[_0x4814d7(0x2f8)]['has'](_0x31bb58))throw new _0x54ac69(_0x1dd92b[_0x4814d7(0x967)],'Database\x20already\x20exists');try{const _0x11527d=new _0x73e146(this['configs'][_0x4814d7(0x5e4)],_0x31bb58,this[_0x4814d7(0x380)][_0x4814d7(0x9aa)],this['configs']['vendorId'],_0x2f8b14);return this[_0x4814d7(0x2f8)][_0x4814d7(0x2b3)](_0x31bb58,_0x11527d),this[_0x4814d7(0x380)][_0x4814d7(0x33f)][_0x4814d7(0x324)](_0x11527d),_0x11527d;}catch(_0x56ca04){if(_0x56ca04 instanceof _0x54ac69)throw _0x56ca04;throw new _0x279d71(_0x279d71[_0x4814d7(0x9c2)][_0x4814d7(0x49c)],{'label':_0x31bb58,'clusterId':this['configs']['clusterId'],'vendorId':this['configs'][_0x4814d7(0x154)]});}}['createLocalDynamicMediaStream'](_0x596644,_0x29c2db){const _0x71efee=_0x45ef94;if(this[_0x71efee(0x5a2)][_0x71efee(0x3bc)](_0x596644))throw new _0x54ac69(_0x1dd92b['LocalMediaStreamAlreadyExists'],_0x71efee(0x377));if(!this[_0x71efee(0x205)][_0x71efee(0x37c)])throw new _0x54ac69(_0x1dd92b[_0x71efee(0x94b)],_0x71efee(0x49b));const _0x583f0c=new _0x196cb9(this['configs'][_0x71efee(0x5e4)],_0x596644,_0x29c2db,this[_0x71efee(0x205)][_0x71efee(0x7c4)],this[_0x71efee(0x205)][_0x71efee(0x37c)],this[_0x71efee(0x380)][_0x71efee(0x9aa)]);return this[_0x71efee(0x5a2)][_0x71efee(0x2b3)](_0x596644,_0x583f0c),this[_0x71efee(0x380)][_0x71efee(0x33f)][_0x71efee(0x324)](_0x583f0c),_0x583f0c[_0x71efee(0x379)](),_0x583f0c;}[_0x45ef94(0x99d)](_0x18590c,_0x6c72cd){const _0x2d3d9b=_0x45ef94;if(this[_0x2d3d9b(0x5a2)][_0x2d3d9b(0x3bc)](_0x18590c))throw new _0x54ac69(_0x1dd92b[_0x2d3d9b(0x483)],_0x2d3d9b(0x977));const _0x545826=new _0x4de2b4(this[_0x2d3d9b(0x380)][_0x2d3d9b(0x5e4)],_0x18590c,_0x6c72cd,this[_0x2d3d9b(0x380)]['clusterId']);return this[_0x2d3d9b(0x5a2)][_0x2d3d9b(0x2b3)](_0x18590c,_0x545826),this[_0x2d3d9b(0x380)][_0x2d3d9b(0x33f)][_0x2d3d9b(0x324)](_0x545826),_0x545826[_0x2d3d9b(0x379)](),_0x545826;}[_0x45ef94(0x5c5)](_0x5cc84a){const _0x438e4d=_0x45ef94;if(this[_0x438e4d(0x493)][_0x438e4d(0x3bc)](_0x5cc84a))throw new _0x54ac69(_0x1dd92b[_0x438e4d(0x2e1)],_0x438e4d(0x8d3));const _0x13ac23=new _0x457944(this[_0x438e4d(0x380)][_0x438e4d(0x5e4)],_0x5cc84a,this[_0x438e4d(0x380)][_0x438e4d(0x9aa)]);return this[_0x438e4d(0x493)][_0x438e4d(0x2b3)](_0x5cc84a,_0x13ac23),this['configs'][_0x438e4d(0x33f)][_0x438e4d(0x324)](_0x13ac23),_0x13ac23;}['createRemoteMediaStream'](_0x3a5efb,_0x363f06,_0x4c6af9,_0x93c7da){const _0x20adcb=_0x45ef94;this['remoteMediaStreams'][_0x20adcb(0x3bc)](_0x3a5efb)||this[_0x20adcb(0x88c)]['set'](_0x3a5efb,new Map());const _0x19e2c5=this['remoteMediaStreams'][_0x20adcb(0x1f5)](_0x3a5efb);if(_0x19e2c5[_0x20adcb(0x3bc)](_0x363f06))throw new _0x54ac69(_0x1dd92b[_0x20adcb(0x665)],_0x20adcb(0x80c));const _0x3d3d8f=new _0x1b8f7f(_0x3a5efb,'',''),_0xafec8=new _0x422986(this[_0x20adcb(0x380)][_0x20adcb(0x5e4)],_0x3d3d8f,_0x363f06,_0x4c6af9,_0x93c7da,this[_0x20adcb(0x380)][_0x20adcb(0x9aa)]);return _0x19e2c5[_0x20adcb(0x2b3)](_0x363f06,_0xafec8),this[_0x20adcb(0x380)][_0x20adcb(0x33f)][_0x20adcb(0x324)](_0xafec8),_0xafec8;}[_0x45ef94(0x563)](_0x2dc60c,_0x516c77){const _0x2de94d=_0x45ef94;if(this[_0x2de94d(0x45d)][_0x2de94d(0x3bc)](_0x2dc60c))throw new _0x54ac69(_0x1dd92b[_0x2de94d(0x19b)],_0x2de94d(0x502));try{const _0x76a8d3=new _0xf3adbd(this[_0x2de94d(0x380)][_0x2de94d(0x5e4)],_0x2dc60c,this['configs']['clusterId'],this[_0x2de94d(0x380)]['vendorId'],_0x516c77);return this['vectorDatabases']['set'](_0x2dc60c,_0x76a8d3),this[_0x2de94d(0x380)]['mediator']['registerSystemSource'](_0x76a8d3),_0x76a8d3;}catch(_0x333e35){if(_0x333e35 instanceof _0x54ac69)throw _0x333e35;throw new _0x279d71(_0x279d71['codes'][_0x2de94d(0x88f)],{'label':_0x2dc60c,'clusterId':this[_0x2de94d(0x380)][_0x2de94d(0x9aa)],'vendorId':this[_0x2de94d(0x380)][_0x2de94d(0x154)]});}}[_0x45ef94(0x2e9)](_0x149c4e){const _0x42ea09=_0x45ef94,_0x4eb15e=Array['from'](this[_0x42ea09(0x43a)][_0x42ea09(0x67a)]());return _0x149c4e?_0x4eb15e[_0x42ea09(0x533)](_0x149c4e):_0x4eb15e;}[_0x45ef94(0x283)](_0x342813){const _0x336a8d=_0x45ef94,_0x430285=Array[_0x336a8d(0x157)](this['externalStorageConnections'][_0x336a8d(0x67a)]());return _0x342813?_0x430285[_0x336a8d(0x533)](_0x342813):_0x430285;}[_0x45ef94(0x9d5)](_0x37b1a7){const _0x130406=_0x45ef94,_0x7e4ebd=Array[_0x130406(0x157)](this[_0x130406(0x9b1)]['values']());return _0x37b1a7?_0x7e4ebd[_0x130406(0x533)](_0x37b1a7):_0x7e4ebd;}[_0x45ef94(0x1c0)](_0x50e883){const _0xc81b13=_0x45ef94,_0x3ca0d0=Array[_0xc81b13(0x157)](this[_0xc81b13(0x180)][_0xc81b13(0x67a)]());return _0x50e883?_0x3ca0d0[_0xc81b13(0x533)](_0x50e883):_0x3ca0d0;}[_0x45ef94(0x5b3)](_0x149569){const _0x8de499=_0x45ef94,_0x4943f5=Array[_0x8de499(0x157)](this[_0x8de499(0x623)][_0x8de499(0x67a)]());return _0x149569?_0x4943f5[_0x8de499(0x533)](_0x149569):_0x4943f5;}[_0x45ef94(0x3c6)](_0x56c77c){const _0x532ded=_0x45ef94,_0x50370f=Array['from'](this[_0x532ded(0x180)]['values']())[_0x532ded(0x533)](_0x4d0d1d=>_0x4d0d1d instanceof _0x2102f0);return _0x56c77c?_0x50370f[_0x532ded(0x533)](_0x56c77c):_0x50370f;}[_0x45ef94(0x2b7)](_0xb0628a){const _0x1872f6=_0x45ef94,_0x263f53=Array['from'](this[_0x1872f6(0x623)][_0x1872f6(0x67a)]())[_0x1872f6(0x533)](_0x3efc8f=>_0x3efc8f instanceof _0x38cdf1);return _0xb0628a?_0x263f53[_0x1872f6(0x533)](_0xb0628a):_0x263f53;}[_0x45ef94(0x86)](_0x368293){const _0x383e8e=_0x45ef94,_0x53d9f0=Array[_0x383e8e(0x157)](this[_0x383e8e(0x2f8)]['values']());return _0x368293?_0x53d9f0['filter'](_0x368293):_0x53d9f0;}[_0x45ef94(0x8f7)](_0x24a00c){const _0x546fe3=_0x45ef94,_0x5247e7=Array[_0x546fe3(0x157)](this[_0x546fe3(0x5a2)][_0x546fe3(0x67a)]());return _0x24a00c?_0x5247e7[_0x546fe3(0x533)](_0x24a00c):_0x5247e7;}['getPubSubTopics'](_0x5262d0){const _0x1dd365=_0x45ef94,_0x5a0403=Array[_0x1dd365(0x157)](this[_0x1dd365(0x493)][_0x1dd365(0x67a)]());return _0x5262d0?_0x5a0403[_0x1dd365(0x533)](_0x5262d0):_0x5a0403;}[_0x45ef94(0x54f)](_0x3658f4){const _0x52f913=_0x45ef94,_0x48d4f4=Array[_0x52f913(0x157)](this[_0x52f913(0x88c)]['values']())['reduce']((_0x555cb1,_0x4bb4b5)=>[..._0x555cb1,...Array[_0x52f913(0x157)](_0x4bb4b5['values']())],[]);return _0x3658f4?_0x48d4f4[_0x52f913(0x533)](_0x3658f4):_0x48d4f4;}[_0x45ef94(0x74)](_0x589e54){const _0x512477=_0x45ef94,_0xe2ce06=Array[_0x512477(0x157)](this[_0x512477(0x45d)]['values']());return _0x589e54?_0xe2ce06[_0x512477(0x533)](_0x589e54):_0xe2ce06;}[_0x45ef94(0x5eb)](_0x16a077){const _0x29387e=_0x45ef94,_0x5ba910=this[_0x29387e(0x43a)][_0x29387e(0x1f5)](_0x16a077);if(!_0x5ba910)throw new _0x54ac69(_0x1dd92b['ObjectStoreDoesNotExist'],'ObjectStore\x20not\x20found');return _0x5ba910;}[_0x45ef94(0x30a)](_0x15fde1){const _0x1ba5d5=_0x45ef94,_0x4f651d=_0x15fde1[_0x1ba5d5(0x25b)]('-'),_0x3d150b=this[_0x1ba5d5(0x631)]['get'](_0x4f651d[0x1]);if(!_0x3d150b)throw new _0x54ac69(_0x1dd92b[_0x1ba5d5(0x820)],_0x1ba5d5(0xa07));return _0x3d150b;}[_0x45ef94(0x5e5)](_0x4b3fd5){const _0x11ffbb=_0x45ef94,_0x608f84=this[_0x11ffbb(0x2f8)][_0x11ffbb(0x1f5)](_0x4b3fd5);if(!_0x608f84)throw new _0x54ac69(_0x1dd92b[_0x11ffbb(0x2d0)],_0x11ffbb(0x467));return _0x608f84;}['getKeyValueDatabase'](_0x5a8aa0){const _0x376cf7=_0x45ef94,_0x5784f9=this[_0x376cf7(0x9b1)][_0x376cf7(0x1f5)](_0x5a8aa0);if(!_0x5784f9)throw new _0x54ac69(_0x1dd92b[_0x376cf7(0x862)],_0x376cf7(0x547));return _0x5784f9;}['getPubSubTopic'](_0x389f03){const _0x5297a6=_0x45ef94,_0x49b8be=this[_0x5297a6(0x493)]['get'](_0x389f03);if(!_0x49b8be)throw new _0x54ac69(_0x1dd92b[_0x5297a6(0x5a7)],'PubSubTopic\x20not\x20found');return _0x49b8be;}['getVectorDatabase'](_0x1d040e){const _0x2023e7=_0x45ef94,_0x5b72ea=this[_0x2023e7(0x45d)][_0x2023e7(0x1f5)](_0x1d040e);if(!_0x5b72ea)throw new _0x54ac69(_0x1dd92b['VectorDatabaseDoesNotExist'],_0x2023e7(0x856));return _0x5b72ea;}['handleContentSystemEvents'](_0x3fc9af){const _0x2accbc=_0x45ef94;switch(_0x3fc9af[_0x2accbc(0x2ec)]['type']){case _0x292504[_0x2accbc(0x258)]:this['handlePublishMediaStream'](_0x3fc9af[_0x2accbc(0x2ec)]);break;case _0x292504[_0x2accbc(0x212)]:this['handleUnpublishMediaStream'](_0x3fc9af[_0x2accbc(0x2ec)]);break;case _0x292504[_0x2accbc(0x1ea)]:this[_0x2accbc(0x990)](_0x3fc9af[_0x2accbc(0x2ec)]['label']);break;case _0x292504[_0x2accbc(0x8cb)]:this[_0x2accbc(0x808)](_0x3fc9af[_0x2accbc(0x2ec)][_0x2accbc(0x8f4)]);break;case _0x292504[_0x2accbc(0x911)]:this[_0x2accbc(0x68c)](_0x3fc9af[_0x2accbc(0x2ec)][_0x2accbc(0x8f4)]);break;case _0x292504[_0x2accbc(0x970)]:this[_0x2accbc(0x333)](_0x3fc9af['content'][_0x2accbc(0x8f4)]);break;case _0x292504['CloseObjectStoreBucket']:this[_0x2accbc(0x877)](_0x3fc9af[_0x2accbc(0x2ec)][_0x2accbc(0x8f4)]);break;case _0x292504[_0x2accbc(0x373)]:this['removeExternalStorageConnection'](_0x3fc9af[_0x2accbc(0x2ec)][_0x2accbc(0x8f4)]);break;case _0x292504[_0x2accbc(0x1a9)]:this['removeKeyValueDatabase'](_0x3fc9af['content'][_0x2accbc(0x8f4)]);break;case _0x292504[_0x2accbc(0x1c1)]:this['removeVectorDatabase'](_0x3fc9af['content'][_0x2accbc(0x8f4)]);break;case _0x292504[_0x2accbc(0x5b8)]:this[_0x2accbc(0x7d1)](_0x3fc9af[_0x2accbc(0x2ec)]['label']);break;case _0x292504[_0x2accbc(0x919)]:this['handleContentUnsubscribeMediaStream'](_0x3fc9af[_0x2accbc(0x2ec)]);break;case _0x292504[_0x2accbc(0x7dc)]:this[_0x2accbc(0x9b1)][_0x2accbc(0x1f5)](_0x3fc9af['content'][_0x2accbc(0x8f4)])?.[_0x2accbc(0xca)](_0x3fc9af[_0x2accbc(0x499)],_0x3fc9af[_0x2accbc(0x2ec)][_0x2accbc(0x973)]);break;case _0x292504[_0x2accbc(0x2c4)]:this[_0x2accbc(0x9b1)]['get'](_0x3fc9af['content']['label'])?.[_0x2accbc(0x2f0)](_0x3fc9af['sourceId'],_0x3fc9af['content'][_0x2accbc(0x973)]);break;case _0x292504[_0x2accbc(0x847)]:this[_0x2accbc(0x9b1)][_0x2accbc(0x1f5)](_0x3fc9af['content'][_0x2accbc(0x8f4)])?.[_0x2accbc(0x626)](_0x3fc9af[_0x2accbc(0x499)],_0x3fc9af[_0x2accbc(0x2ec)][_0x2accbc(0x96a)]);break;case _0x292504['KeyValueDatabaseRequestPeakTransactions']:this[_0x2accbc(0x9b1)][_0x2accbc(0x1f5)](_0x3fc9af[_0x2accbc(0x2ec)]['label'])?.['sendPeakTransactions'](_0x3fc9af[_0x2accbc(0x499)],_0x3fc9af[_0x2accbc(0x2ec)][_0x2accbc(0x646)]);break;case _0x292504[_0x2accbc(0x1e0)]:this[_0x2accbc(0x9b1)][_0x2accbc(0x1f5)](_0x3fc9af[_0x2accbc(0x2ec)][_0x2accbc(0x8f4)])?.[_0x2accbc(0x4fc)](_0x3fc9af['sourceId'],_0x3fc9af[_0x2accbc(0x2ec)][_0x2accbc(0x298)]);break;case _0x292504['KeyValueDatabaseSendTransactions']:this['keyValueDatabases'][_0x2accbc(0x1f5)](_0x3fc9af[_0x2accbc(0x2ec)][_0x2accbc(0x8f4)])?.['processReceivedTransactions'](_0x3fc9af['sourceId'],_0x3fc9af[_0x2accbc(0x2ec)][_0x2accbc(0xa05)]);break;case _0x292504[_0x2accbc(0x85b)]:this[_0x2accbc(0x380)][_0x2accbc(0x33f)][_0x2accbc(0x7e)]('local-media-stream-track-fail',{'label':_0x3fc9af[_0x2accbc(0x2ec)][_0x2accbc(0x8f4)],'trackKinds':_0x3fc9af[_0x2accbc(0x2ec)][_0x2accbc(0x2f6)]});}}['handleNodeSystemEvents']({content:_0x2be38a}){const _0x163160=_0x45ef94;switch(_0x2be38a['type']){case _0x3b4c4a[_0x163160(0x976)]:this['handleNodeJoinNeedPublishedStream'](_0x2be38a),this['notifyObjectStoreOfNodeJoin'](_0x2be38a);break;case _0x3b4c4a[_0x163160(0x2fd)]:this['handleNodeLeave'](_0x2be38a),this[_0x163160(0x32a)](_0x2be38a);}}[_0x45ef94(0x319)](_0x1949f1){const _0x4614cb=_0x45ef94;switch(_0x1949f1[_0x4614cb(0x2ec)][_0x4614cb(0x6e1)]){case _0x3d7bb7[_0x4614cb(0xa0f)]:this['handleSubscribeMediaStream'](_0x1949f1[_0x4614cb(0x499)],_0x1949f1['content']);break;case _0x3d7bb7['UpdateMediaStream']:this[_0x4614cb(0x269)](_0x1949f1[_0x4614cb(0x499)],_0x1949f1[_0x4614cb(0x2ec)]);break;case _0x3d7bb7[_0x4614cb(0x919)]:this[_0x4614cb(0x8db)](_0x1949f1[_0x4614cb(0x499)],_0x1949f1[_0x4614cb(0x2ec)]);}}[_0x45ef94(0x8e7)](_0x259972){const _0x1c76a7=_0x45ef94;if(0x0===_0x259972['remainingTracks'])this[_0x1c76a7(0x88c)][_0x1c76a7(0x1f5)](_0x259972[_0x1c76a7(0xff)])?.[_0x1c76a7(0x1f5)](_0x259972['label'])?.[_0x1c76a7(0x9d1)]();else{const _0x513251=this['remoteMediaStreams']['get'](_0x259972[_0x1c76a7(0xff)])?.[_0x1c76a7(0x1f5)](_0x259972['label']);if(!_0x513251)return;_0x259972[_0x1c76a7(0x2f6)][_0x1c76a7(0xa3f)](_0x518955=>_0x513251[_0x1c76a7(0x389)](_0x518955));}}[_0x45ef94(0x146)](_0x5adec9){const _0x56d1fc=_0x45ef94,{label:_0x126cce,ownerId:_0x195d84,stream:{streamId:_0x7a0aa,availableTrackKinds:_0x3d1abb}}=_0x5adec9;if(this[_0x56d1fc(0x88c)][_0x56d1fc(0x1f5)](_0x195d84)?.['has'](_0x126cce))return void _0x301706['log'](_0x3e3f45['Content'],'Stream\x20already\x20exists',_0x7a0aa);const _0x3e2d38=this[_0x56d1fc(0x995)](_0x195d84,_0x126cce,_0x7a0aa,_0x3d1abb);this[_0x56d1fc(0x380)][_0x56d1fc(0x33f)][_0x56d1fc(0x7e)](_0x56d1fc(0x607),{'ownerId':_0x195d84,'stream':_0x3e2d38});}[_0x45ef94(0x192)]({ownerId:_0x2e4320,label:_0x3fd9c6}){const _0x45f745=_0x45ef94;this[_0x45f745(0x5bf)](_0x2e4320,_0x3fd9c6),this['configs']['mediator'][_0x45f745(0x7e)]('content-unpublish-media',{'ownerId':_0x2e4320,'label':_0x3fd9c6});}[_0x45ef94(0x476)](_0x4c3748,_0x5f7be0){const _0x52bb50=_0x45ef94,{ownerId:_0x3fa96e,label:_0x1deef2}=_0x5f7be0;let _0x21e511;_0x21e511=_0x3fa96e!==this[_0x52bb50(0x380)][_0x52bb50(0x5e4)][_0x52bb50(0xa2a)]()?this[_0x52bb50(0x88c)][_0x52bb50(0x1f5)](_0x3fa96e)[_0x52bb50(0x1f5)](_0x1deef2):this[_0x52bb50(0x5a2)][_0x52bb50(0x1f5)](_0x1deef2),_0x21e511['getShareableStream'](_0x4c3748,_0x5f7be0['params'])['subscribe'](_0x5f7be0,_0x21e511[_0x52bb50(0x30b)]());}[_0x45ef94(0x269)](_0x37aad0,_0x1b499){const _0x45d39c=_0x45ef94,{ownerId:_0x4b7f9a,label:_0x37c5d5}=_0x1b499;let _0x529d40;_0x529d40=_0x4b7f9a!==this['configs'][_0x45d39c(0x5e4)][_0x45d39c(0xa2a)]()?this['remoteMediaStreams'][_0x45d39c(0x1f5)](_0x4b7f9a)[_0x45d39c(0x1f5)](_0x37c5d5):this['localMediaStreams']['get'](_0x37c5d5),_0x529d40[_0x45d39c(0x304)](_0x37aad0,_0x1b499[_0x45d39c(0x474)])['update'](_0x1b499);}[_0x45ef94(0x8db)](_0x178062,_0xbc610b){const _0x18c273=_0x45ef94,{ownerId:_0x2aaced,label:_0x41b1ee}=_0xbc610b;let _0xe01311;_0xe01311=_0x2aaced!==this['configs'][_0x18c273(0x5e4)][_0x18c273(0xa2a)]()?this[_0x18c273(0x88c)][_0x18c273(0x1f5)](_0x2aaced)['get'](_0x41b1ee):this[_0x18c273(0x5a2)][_0x18c273(0x1f5)](_0x41b1ee),_0xe01311['getShareableStream'](_0x178062)[_0x18c273(0x2b6)](_0xbc610b);}[_0x45ef94(0x506)]({id:_0x10da80}){const _0x1aee45=_0x45ef94;this[_0x1aee45(0x8f7)]()[_0x1aee45(0xa3f)](_0x3398b2=>{const _0x49d1aa=_0x1aee45;_0x3398b2[_0x49d1aa(0x379)](_0x10da80);});}['handleNodeLeave']({id:_0x38cd1e}){const _0x4dc168=_0x45ef94;this[_0x4dc168(0x54f)](_0x1cb804=>_0x1cb804['getOwnerId']()===_0x38cd1e)[_0x4dc168(0xa3f)](_0x1ec044=>{const _0x5f3f4b=_0x4dc168;this[_0x5f3f4b(0x5bf)](_0x1ec044[_0x5f3f4b(0x525)](),_0x1ec044[_0x5f3f4b(0x32b)]());});}[_0x45ef94(0x4e0)]({id:_0x27a348}){const _0x51b71d=_0x45ef94;this[_0x51b71d(0x43a)]['forEach'](_0x4b3ed6=>_0x4b3ed6[_0x51b71d(0x348)](_0x27a348));}[_0x45ef94(0x32a)]({id:_0x428d19}){const _0x13d57d=_0x45ef94;this[_0x13d57d(0x43a)][_0x13d57d(0xa3f)](_0x5bfddf=>_0x5bfddf['handleNodeLeave'](_0x428d19));}[_0x45ef94(0x990)](_0x45cce9){const _0x440137=_0x45ef94;if(!this[_0x440137(0x180)][_0x440137(0x3bc)](_0x45cce9))throw new _0x54ac69(_0x1dd92b[_0x440137(0xce)],_0x440137(0x1c4));const _0x1affb6=this[_0x440137(0x180)][_0x440137(0x1f5)](_0x45cce9);this[_0x440137(0x180)][_0x440137(0x991)](_0x45cce9),_0x1affb6[_0x440137(0x9d1)](),this[_0x440137(0x380)][_0x440137(0x33f)][_0x440137(0x88e)](_0x1affb6);}[_0x45ef94(0x808)](_0x4f3104){const _0xb00e13=_0x45ef94;if(!this[_0xb00e13(0x623)][_0xb00e13(0x3bc)](_0x4f3104))throw new _0x54ac69(_0x1dd92b[_0xb00e13(0x4a7)],'Job\x20Worker\x20does\x20not\x20exist');const _0x4ab55b=this[_0xb00e13(0x623)][_0xb00e13(0x1f5)](_0x4f3104);this['jobWorkers'][_0xb00e13(0x991)](_0x4f3104),_0x4ab55b[_0xb00e13(0x9d1)](),this[_0xb00e13(0x380)][_0xb00e13(0x33f)][_0xb00e13(0x88e)](_0x4ab55b);}[_0x45ef94(0x877)](_0x30fa89){const _0x571959=_0x45ef94;if(!this[_0x571959(0x43a)][_0x571959(0x3bc)](_0x30fa89))throw new _0x54ac69(_0x1dd92b[_0x571959(0x425)],'Stream\x20does\x20not\x20exist');const _0x587b5f=this[_0x571959(0x43a)]['get'](_0x30fa89);this[_0x571959(0x43a)][_0x571959(0x991)](_0x30fa89),_0x587b5f[_0x571959(0x9d1)](),this[_0x571959(0x380)][_0x571959(0x33f)][_0x571959(0x88e)](_0x587b5f);}[_0x45ef94(0x7c8)](_0x23bbbe){const _0x50999b=_0x45ef94;if(!this[_0x50999b(0x631)][_0x50999b(0x3bc)](_0x23bbbe))throw new _0x54ac69(_0x1dd92b[_0x50999b(0x820)],'Connection\x20does\x20not\x20exist');const _0x3b763c=this[_0x50999b(0x631)][_0x50999b(0x1f5)](_0x23bbbe);this[_0x50999b(0x631)][_0x50999b(0x991)](_0x23bbbe),_0x3b763c['destroy'](),this[_0x50999b(0x380)]['mediator'][_0x50999b(0x88e)](_0x3b763c);}[_0x45ef94(0x333)](_0x1407af){const _0x5bf23c=_0x45ef94;if(!this['pubSubTopics'][_0x5bf23c(0x3bc)](_0x1407af))throw new _0x54ac69(_0x1dd92b[_0x5bf23c(0x5a7)],_0x5bf23c(0x637));const _0x26729c=this['pubSubTopics'][_0x5bf23c(0x1f5)](_0x1407af);this['pubSubTopics']['delete'](_0x1407af),_0x26729c['destroy'](),this[_0x5bf23c(0x380)][_0x5bf23c(0x33f)][_0x5bf23c(0x88e)](_0x26729c);}[_0x45ef94(0x652)](_0x4de426){const _0xf71a15=_0x45ef94;if(!this[_0xf71a15(0x9b1)][_0xf71a15(0x3bc)](_0x4de426))throw new _0x54ac69(_0x1dd92b['KeyValueDatabaseDoesNotExist'],'Database\x20does\x20not\x20exist');const _0x5928ac=this['keyValueDatabases'][_0xf71a15(0x1f5)](_0x4de426);this[_0xf71a15(0x9b1)][_0xf71a15(0x991)](_0x4de426),_0x5928ac[_0xf71a15(0x9d1)](),this[_0xf71a15(0x380)][_0xf71a15(0x33f)][_0xf71a15(0x88e)](_0x5928ac);}[_0x45ef94(0x1f1)](_0x1be7bb){const _0x45bd4d=_0x45ef94;if(!this[_0x45bd4d(0x45d)][_0x45bd4d(0x3bc)](_0x1be7bb))throw new _0x54ac69(_0x1dd92b[_0x45bd4d(0x438)],_0x45bd4d(0x3ff));const _0x3f8971=this['vectorDatabases'][_0x45bd4d(0x1f5)](_0x1be7bb);this[_0x45bd4d(0x45d)]['delete'](_0x1be7bb),_0x3f8971[_0x45bd4d(0x9d1)](),this[_0x45bd4d(0x380)][_0x45bd4d(0x33f)]['unregisterSystemSource'](_0x3f8971);}[_0x45ef94(0x7d1)](_0x360f44){const _0x270f61=_0x45ef94;if(!this[_0x270f61(0x2f8)][_0x270f61(0x3bc)](_0x360f44))throw new _0x54ac69(_0x1dd92b[_0x270f61(0x2d0)],_0x270f61(0x3ff));const _0x3e1d60=this['graphDatabases']['get'](_0x360f44);this[_0x270f61(0x2f8)][_0x270f61(0x991)](_0x360f44),_0x3e1d60['destroy'](),this[_0x270f61(0x380)][_0x270f61(0x33f)]['unregisterSystemSource'](_0x3e1d60);}[_0x45ef94(0x68c)](_0x9a4721){const _0x12109c=_0x45ef94;if(!this[_0x12109c(0x5a2)][_0x12109c(0x3bc)](_0x9a4721))throw new _0x279d71(_0x279d71[_0x12109c(0x9c2)][_0x12109c(0x553)],{'label':_0x9a4721,'localId':this['configs'][_0x12109c(0x5e4)][_0x12109c(0xa2a)]()});const _0x3de526=this[_0x12109c(0x5a2)][_0x12109c(0x1f5)](_0x9a4721);this[_0x12109c(0x380)]['mediator'][_0x12109c(0x88e)](_0x3de526),_0x3de526[_0x12109c(0x9d1)](),this[_0x12109c(0x5a2)][_0x12109c(0x991)](_0x9a4721);}['removeRemoteMediaStream'](_0x3bdad5,_0xefbba0){const _0x365f98=_0x45ef94;if(!this[_0x365f98(0x88c)][_0x365f98(0x3bc)](_0x3bdad5))throw new _0x279d71(_0x279d71[_0x365f98(0x9c2)][_0x365f98(0x20b)],{'nodeId':_0x3bdad5,'localId':this[_0x365f98(0x380)][_0x365f98(0x5e4)][_0x365f98(0xa2a)]()});const _0x24af2e=this['remoteMediaStreams']['get'](_0x3bdad5);if(!_0x24af2e[_0x365f98(0x3bc)](_0xefbba0))throw new _0x279d71(_0x279d71[_0x365f98(0x9c2)][_0x365f98(0x91d)],{'nodeId':_0x3bdad5,'label':_0xefbba0,'localId':this[_0x365f98(0x380)][_0x365f98(0x5e4)][_0x365f98(0xa2a)]()});const _0x4b61ec=_0x24af2e[_0x365f98(0x1f5)](_0xefbba0);this[_0x365f98(0x380)]['mediator'][_0x365f98(0x88e)](_0x4b61ec),_0x4b61ec[_0x365f98(0x9d1)](),_0x24af2e[_0x365f98(0x991)](_0xefbba0);}}var _0x38de5e,_0x8c9c38,_0x4d53ee;!function(_0x1f87a7){const _0x2938a6=_0x45ef94;_0x1f87a7['STVolatility']=_0x2938a6(0x966),_0x1f87a7[_0x2938a6(0x64a)]='dt_volatility',_0x1f87a7['TimePerFrame']='time_per_frame',_0x1f87a7[_0x2938a6(0x7ff)]=_0x2938a6(0x54c),_0x1f87a7[_0x2938a6(0x819)]=_0x2938a6(0x85c),_0x1f87a7[_0x2938a6(0x8dc)]=_0x2938a6(0x8ab),_0x1f87a7[_0x2938a6(0x982)]='rtt',_0x1f87a7[_0x2938a6(0x592)]=_0x2938a6(0x260);}(_0x38de5e||(_0x38de5e={})),function(_0x1bda18){const _0x3fc9ab=_0x45ef94;_0x1bda18['CPUCycle']=_0x3fc9ab(0x832),_0x1bda18[_0x3fc9ab(0x9b2)]=_0x3fc9ab(0x5c2),_0x1bda18[_0x3fc9ab(0x592)]=_0x3fc9ab(0x92b),_0x1bda18[_0x3fc9ab(0x8dc)]=_0x3fc9ab(0x7be),_0x1bda18[_0x3fc9ab(0x7ff)]=_0x3fc9ab(0x9e8),_0x1bda18['Jitter']='bandwidth.jitter',_0x1bda18[_0x3fc9ab(0x982)]=_0x3fc9ab(0x144);}(_0x8c9c38||(_0x8c9c38={})),function(_0x212a99){const _0x52c669=_0x45ef94;_0x212a99[_0x212a99[_0x52c669(0x29a)]=0x0]=_0x52c669(0x29a);}(_0x4d53ee||(_0x4d53ee={}));const _0x1d171c=[{'type':_0x38de5e[_0x45ef94(0x2a8)],'reportMetric':_0x59d30a=>_0x59d30a[_0x45ef94(0x2a8)],'maxThreshold':2.5},{'type':_0x38de5e[_0x45ef94(0x64a)],'reportMetric':_0x10a117=>_0x10a117[_0x45ef94(0x64a)],'maxThreshold':0.5}],_0x117064=[{'type':_0x38de5e[_0x45ef94(0x9b2)],'reportMetric':_0x26bb04=>{const _0x12b6e1=_0x45ef94,_0xf2857a=0x3e8/_0x26bb04['FPS'];return _0x26bb04[_0x12b6e1(0x700)]/_0xf2857a;},'maxThreshold':0.75},{'type':_0x38de5e[_0x45ef94(0x7ff)],'reportMetric':_0x116a8e=>{const _0x591421=_0x45ef94,_0x3bf51e=_0x116a8e[_0x591421(0x570)]*_0x116a8e['frameWidth']*_0x116a8e['frameHeight']*0.12;return _0x116a8e[_0x591421(0x54c)]/_0x3bf51e;},'minThreshold':0.25},{'type':_0x38de5e[_0x45ef94(0x819)],'reportMetric':_0x56886b=>_0x56886b[_0x45ef94(0x85c)],'maxThreshold':0.6},{'type':_0x38de5e['FramePerSecond'],'reportMetric':_0x17d183=>_0x17d183[_0x45ef94(0x570)],'minThreshold':0xa}],_0x5c2f7b=[{'type':_0x38de5e[_0x45ef94(0x819)],'reportMetric':_0x591d38=>_0x591d38[_0x45ef94(0x85c)],'maxThreshold':0.6}],_0x380361=[{'type':_0x38de5e[_0x45ef94(0x982)],'reportMetric':_0x456fc0=>_0x456fc0[_0x45ef94(0x24f)],'maxThreshold':0x1/0x0}],_0x1add69=[{'type':_0x38de5e[_0x45ef94(0x592)],'reportMetric':_0x268831=>_0x268831[_0x45ef94(0x592)],'maxThreshold':0x12c}],_0x185c08=[{'type':_0x8c9c38['CPUCycle'],'issues':[{'type':_0x38de5e[_0x45ef94(0x2a8)],'threshold':0x5},{'type':_0x38de5e[_0x45ef94(0x64a)],'threshold':0x5}]},{'type':_0x8c9c38[_0x45ef94(0x9b2)],'issues':[{'type':_0x38de5e['TimePerFrame'],'threshold':0x3}]},{'type':_0x8c9c38['AudioVideoDelay'],'issues':[{'type':_0x38de5e['AudioVideoDelay'],'threshold':0x2}]},{'type':_0x8c9c38['FramePerSecond'],'issues':[{'type':_0x38de5e[_0x45ef94(0x8dc)],'threshold':0x3}]},{'type':_0x8c9c38[_0x45ef94(0x7ff)],'issues':[{'type':_0x38de5e['Bitrate'],'threshold':0x3}]},{'type':_0x8c9c38[_0x45ef94(0x819)],'issues':[{'type':_0x38de5e[_0x45ef94(0x819)],'threshold':0x3}]},{'type':_0x8c9c38[_0x45ef94(0x982)],'issues':[{'type':_0x38de5e[_0x45ef94(0x982)],'threshold':0x3}]}];var _0x5c2976,_0x5d5e0a;!function(_0x482d1a){const _0x1995f9=_0x45ef94;_0x482d1a[_0x482d1a[_0x1995f9(0xcb)]=0x0]=_0x1995f9(0xcb),_0x482d1a[_0x482d1a['LocalReport']=0x1]=_0x1995f9(0xa43);}(_0x5c2976||(_0x5c2976={}));class _0x16dcb2{['configs'];[_0x45ef94(0x1b2)]=[];['systemTopic'];constructor(_0x1ddaa2){const _0x357f21=_0x45ef94;this[_0x357f21(0x380)]=_0x1ddaa2,this['configs'][_0x357f21(0x33f)][_0x357f21(0x324)](this);}[_0x45ef94(0x52e)](_0x485e41){const _0x5735d8=_0x45ef94;this[_0x5735d8(0x9da)]=_0x485e41;}[_0x45ef94(0xfc)](){this['systemTopic']=void 0x0;}[_0x45ef94(0x8b0)](){const _0x1761ce=_0x45ef94;this[_0x1761ce(0x380)][_0x1761ce(0x33f)][_0x1761ce(0x88e)](this),this['issues']=[];}['handleStatsSystemEvents'](_0x49ef43){const _0x1f60a3=_0x45ef94;switch(_0x49ef43[_0x1f60a3(0x2ec)][_0x1f60a3(0x6e1)]){case _0x5c2976[_0x1f60a3(0xa43)]:this[_0x1f60a3(0x4a1)](_0x49ef43[_0x1f60a3(0x2ec)][_0x1f60a3(0x1a0)]);break;case _0x5c2976[_0x1f60a3(0xcb)]:this['detectStreamIssues'](_0x49ef43[_0x1f60a3(0x2ec)]['data']);}}[_0x45ef94(0x6f4)](_0x4ab912,_0x4914de,_0x7ec1f3,_0x732f5a){const _0x5c51f7=_0x45ef94,_0x22cec5=_0x185c08[_0x5c51f7(0x786)](_0xe22f30=>_0xe22f30[_0x5c51f7(0x1b2)]['some'](_0x3da751=>_0x3da751['type']===_0x4ab912));_0x732f5a>=_0x22cec5['issues']['find'](_0x45c2ae=>_0x45c2ae[_0x5c51f7(0x6e1)]===_0x4ab912)[_0x5c51f7(0x2fe)]&&(this[_0x5c51f7(0x46f)](_0x22cec5[_0x5c51f7(0x6e1)],_0x4914de,_0x7ec1f3),this['issues']=this[_0x5c51f7(0x1b2)][_0x5c51f7(0x533)](_0x3c7a4d=>!(_0x3c7a4d[_0x5c51f7(0x6e1)]===_0x4ab912&&_0x3c7a4d[_0x5c51f7(0x436)]===_0x4914de&&_0x3c7a4d[_0x5c51f7(0x14a)]===_0x7ec1f3)));}[_0x45ef94(0x4a1)](_0xf0db41){_0x1d171c['forEach'](_0x13689f=>{const _0x2207a9=a0_0x395e,_0x1b59b7=_0x13689f[_0x2207a9(0x7ee)](_0xf0db41);_0x13689f['maxThreshold']&&_0x1b59b7>_0x13689f[_0x2207a9(0x947)]&&this[_0x2207a9(0x956)](_0x13689f['type'],this['configs']['localNode'][_0x2207a9(0xa2a)](),_0x44c0fa['Sender'],_0x1b59b7),_0x13689f[_0x2207a9(0x8e1)]&&_0x1b59b7<_0x13689f['minThreshold']&&this[_0x2207a9(0x956)](_0x13689f['type'],this[_0x2207a9(0x380)][_0x2207a9(0x5e4)][_0x2207a9(0xa2a)](),_0x44c0fa[_0x2207a9(0x6c2)],_0x1b59b7);});}[_0x45ef94(0x672)](_0x2cb649){const _0xe4fe2f=_0x45ef94;let _0xb0411=[];switch(_0x2cb649['origin']){case _0x44c0fa[_0xe4fe2f(0x6c2)]:_0xb0411=_0x380361;break;case _0x44c0fa[_0xe4fe2f(0x7a)]:_0xb0411=_0x1add69;}_0x2cb649[_0xe4fe2f(0x703)]&&this['detectVideoIssues'](_0x2cb649['nodeId'],_0x44c0fa[_0xe4fe2f(0x6c2)],_0x2cb649['video']),_0x2cb649[_0xe4fe2f(0x8f6)]&&this['detectAudioIssues'](_0x2cb649[_0xe4fe2f(0x436)],_0x44c0fa[_0xe4fe2f(0x6c2)],_0x2cb649[_0xe4fe2f(0x8f6)]),_0xb0411[_0xe4fe2f(0xa3f)](_0xa3020c=>{const _0x1e5e20=_0xe4fe2f,_0x4d0c05=_0xa3020c[_0x1e5e20(0x7ee)](_0x2cb649);_0xa3020c[_0x1e5e20(0x947)]&&_0x4d0c05>_0xa3020c[_0x1e5e20(0x947)]&&this[_0x1e5e20(0x956)](_0xa3020c[_0x1e5e20(0x6e1)],_0x2cb649[_0x1e5e20(0x436)],_0x44c0fa[_0x1e5e20(0x6c2)],_0x4d0c05),_0xa3020c[_0x1e5e20(0x8e1)]&&_0x4d0c05<_0xa3020c[_0x1e5e20(0x8e1)]&&this[_0x1e5e20(0x956)](_0xa3020c[_0x1e5e20(0x6e1)],_0x2cb649[_0x1e5e20(0x436)],_0x44c0fa[_0x1e5e20(0x6c2)],_0x4d0c05);});}['detectVideoIssues'](_0x49308d,_0x504528,_0x24301b){const _0x26452e=_0x45ef94;0x0!==_0x24301b[_0x26452e(0x54c)]&&_0x117064[_0x26452e(0xa3f)](_0x32ce19=>{const _0x4805a7=_0x26452e,_0x5a8b28=_0x32ce19[_0x4805a7(0x7ee)](_0x24301b);_0x32ce19[_0x4805a7(0x947)]&&_0x5a8b28>_0x32ce19['maxThreshold']&&this['addIssue'](_0x32ce19[_0x4805a7(0x6e1)],_0x49308d,_0x504528,_0x5a8b28,_0x4805a7(0x703)),_0x32ce19['minThreshold']&&_0x5a8b28<_0x32ce19['minThreshold']&&this['addIssue'](_0x32ce19['type'],_0x49308d,_0x504528,_0x5a8b28,'video');});}['detectAudioIssues'](_0x1fcd8f,_0x4b6dd1,_0x451cd2){const _0x117426=_0x45ef94;0x0!==_0x451cd2[_0x117426(0x54c)]&&_0x5c2f7b[_0x117426(0xa3f)](_0x6c2b44=>{const _0x4a9956=_0x117426,_0x2fc23e=_0x6c2b44[_0x4a9956(0x7ee)](_0x451cd2);_0x6c2b44['maxThreshold']&&_0x2fc23e>_0x6c2b44[_0x4a9956(0x947)]&&this[_0x4a9956(0x956)](_0x6c2b44[_0x4a9956(0x6e1)],_0x1fcd8f,_0x4b6dd1,_0x2fc23e,_0x4a9956(0x8f6)),_0x6c2b44[_0x4a9956(0x8e1)]&&_0x2fc23e<_0x6c2b44[_0x4a9956(0x8e1)]&&this['addIssue'](_0x6c2b44[_0x4a9956(0x6e1)],_0x1fcd8f,_0x4b6dd1,_0x2fc23e,_0x4a9956(0x8f6));});}[_0x45ef94(0x956)](_0x4d263d,_0x29b439,_0x53e303,_0x15ca03,_0x5b6ff6){const _0x40abcd=_0x45ef94;_0x301706[_0x40abcd(0x1d5)](_0x3e3f45[_0x40abcd(0x367)],_0x40abcd(0x561)+_0x4d263d,_0x4d263d,_0x15ca03),_0x301706[_0x40abcd(0x926)](_0x40abcd(0x292),{'clusterId':this[_0x40abcd(0x380)]['clusterId'],'nodeId':this[_0x40abcd(0x380)][_0x40abcd(0x5e4)]['getId'](),'nodeType':this[_0x40abcd(0x380)]['localNode'][_0x40abcd(0x6e1)],'remoteId':_0x29b439,'data':{'type':_0x4d263d,'value':_0x15ca03,'kind':_0x5b6ff6}}),this[_0x40abcd(0x1b2)]=this[_0x40abcd(0x1b2)][_0x40abcd(0x533)](_0x47aec1=>Date[_0x40abcd(0x69)]()-_0x47aec1[_0x40abcd(0x645)]<0x7530),this['issues'][_0x40abcd(0x59e)]({'timestamp':Date[_0x40abcd(0x69)](),'type':_0x4d263d,'nodeId':_0x29b439,'origin':_0x53e303,'value':_0x15ca03,'kind':_0x5b6ff6});const _0x1c35d1=this[_0x40abcd(0x1b2)][_0x40abcd(0x533)](_0x1384c2=>_0x1384c2['type']===_0x4d263d&&_0x1384c2['nodeId']===_0x29b439&&_0x1384c2['origin']===_0x53e303)[_0x40abcd(0x453)];this[_0x40abcd(0x6f4)](_0x4d263d,_0x29b439,_0x53e303,_0x1c35d1);}[_0x45ef94(0x46f)](_0x58b4dd,_0x3157f5,_0x5362e7){const _0x4c3317=_0x45ef94;_0x301706['log'](_0x3e3f45[_0x4c3317(0x367)],'Problem\x20detected:\x20'+_0x58b4dd),_0x301706[_0x4c3317(0x926)](_0x4c3317(0x2cd),{'clusterId':this[_0x4c3317(0x380)]['clusterId'],'nodeId':this[_0x4c3317(0x380)][_0x4c3317(0x5e4)][_0x4c3317(0xa2a)](),'nodeType':this[_0x4c3317(0x380)][_0x4c3317(0x5e4)][_0x4c3317(0x6e1)],'remoteId':_0x3157f5,'data':{'type':_0x58b4dd}}),this[_0x4c3317(0x9da)]?.[_0x4c3317(0x379)]({'sourceId':_0x17190e,'messageType':_0x43910d['Detection'],'content':{'type':_0x4d53ee['Problem'],'data':{'timestamp':Date[_0x4c3317(0x69)](),'nodeId':_0x3157f5,'origin':_0x44c0fa['Sender'],'type':_0x58b4dd}}});}}class _0x4d7456 extends _0x382780{['type']=_0x29184c[_0x45ef94(0xc1)][_0x45ef94(0x767)];}class _0x3dc56e extends _0x4d7456{[_0x45ef94(0x9da)];[_0x45ef94(0x30e)]=Date[_0x45ef94(0x69)]();[_0x45ef94(0x6b5)];[_0x45ef94(0x98d)];['close'](){const _0xe2d6f2=_0x45ef94;this[_0xe2d6f2(0x6b5)]&&(clearTimeout(this['updateDebounceTimeout']),delete this[_0xe2d6f2(0x6b5)]),delete this[_0xe2d6f2(0x98d)],this['currentVersion']=Date[_0xe2d6f2(0x69)](),super[_0xe2d6f2(0x8b0)]();}['registerSystemPublisher'](_0x281fb7){this['systemTopic']=_0x281fb7;}['unregisterSystemPublisher'](){const _0x70220b=_0x45ef94;delete this[_0x70220b(0x9da)];}[_0x45ef94(0x893)](_0x51a8a5){const _0x144ab2=_0x45ef94;!this[_0x144ab2(0x6b5)]&&this[_0x144ab2(0x3a2)]&&this[_0x144ab2(0x9da)][_0x144ab2(0x379)]({'sourceId':this['id'],'destinationIds':[_0x51a8a5],'propagate':!0x0,'messageType':_0x43910d[_0x144ab2(0x6f6)],'content':{'type':_0x3b4c4a[_0x144ab2(0x863)],'id':this['id'],'metaData':{'type':this[_0x144ab2(0x6e1)]},'rank':this[_0x144ab2(0x25f)](),'remoteConnections':Array['from'](this[_0x144ab2(0x8c7)]),'version':this[_0x144ab2(0x30e)]}});}[_0x45ef94(0x230)](_0x530de8){const _0x233d39=_0x45ef94;this[_0x233d39(0x8c7)][_0x233d39(0x3bc)](_0x530de8)||(this[_0x233d39(0x8c7)][_0x233d39(0x9fb)](_0x530de8),this[_0x233d39(0xb0)](),this['publishUserUpdate'](!0x0));}[_0x45ef94(0x265)](_0x2d118f){const _0x47a9ef=_0x45ef94;this[_0x47a9ef(0x8c7)][_0x47a9ef(0x3bc)](_0x2d118f)&&(this[_0x47a9ef(0x8c7)][_0x47a9ef(0x991)](_0x2d118f),this['incrementVersion'](),this[_0x47a9ef(0x53e)](!0x0));}[_0x45ef94(0x21d)](){const _0x355e09=_0x45ef94;return this[_0x355e09(0x30e)];}[_0x45ef94(0x815)](_0x2ae4f0,_0x23d723=!0x0){const _0xf19024=_0x45ef94;this['rank']!==_0x2ae4f0&&(this[_0xf19024(0x3a2)]=_0x2ae4f0,_0x23d723&&(this[_0xf19024(0xb0)](),this[_0xf19024(0x53e)]()));}[_0x45ef94(0xb0)](){const _0x5a420d=_0x45ef94;this[_0x5a420d(0x30e)]=Date['now']();}[_0x45ef94(0x53e)](_0x3c6382=!0x1){const _0x2e68dd=_0x45ef94;if(this[_0x2e68dd(0x3a2)]){if(this[_0x2e68dd(0x98d)]||(this[_0x2e68dd(0x98d)]=Date[_0x2e68dd(0x69)]()),this[_0x2e68dd(0x6b5)]){if(Date['now']()-this[_0x2e68dd(0x98d)]>0x2328)return;clearTimeout(this['updateDebounceTimeout']);}this[_0x2e68dd(0x6b5)]=setTimeout(()=>{const _0x3c41a6=_0x2e68dd;delete this[_0x3c41a6(0x98d)],delete this['updateDebounceTimeout'],this[_0x3c41a6(0x9da)][_0x3c41a6(0x379)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x43910d[_0x3c41a6(0x6f6)],'content':{'type':_0x3c6382?_0x3b4c4a[_0x3c41a6(0x638)]:_0x3b4c4a[_0x3c41a6(0x863)],'id':this['id'],'metaData':{'type':this[_0x3c41a6(0x6e1)]},'rank':this[_0x3c41a6(0x25f)](),'remoteConnections':Array[_0x3c41a6(0x157)](this['remoteConnections']),'version':this[_0x3c41a6(0x30e)]}});},0x3e8);}}}class _0x1eef83 extends _0x1b8f7f{[_0x45ef94(0x9da)];[_0x45ef94(0x30e)]=Date[_0x45ef94(0x69)]();['updateDebounceTimeout'];[_0x45ef94(0x98d)];[_0x45ef94(0x8b0)](){const _0x4338f6=_0x45ef94;this[_0x4338f6(0x6b5)]&&(clearTimeout(this['updateDebounceTimeout']),delete this[_0x4338f6(0x6b5)]),delete this['lastUpdated'],this[_0x4338f6(0x30e)]=Date[_0x4338f6(0x69)](),super[_0x4338f6(0x8b0)]();}[_0x45ef94(0x52e)](_0x53f0cc){this['systemTopic']=_0x53f0cc;}[_0x45ef94(0xfc)](){const _0x299106=_0x45ef94;delete this[_0x299106(0x9da)];}['answerJoin'](_0x1293b9){const _0x3cae11=_0x45ef94;!this['updateDebounceTimeout']&&this[_0x3cae11(0x3a2)]&&this[_0x3cae11(0x9da)][_0x3cae11(0x379)]({'sourceId':this['id'],'destinationIds':[_0x1293b9],'propagate':!0x0,'messageType':_0x43910d['Node'],'content':{'type':_0x3b4c4a['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0x3cae11(0x6e1)],'displayName':this[_0x3cae11(0x3c1)](),'email':this[_0x3cae11(0x2da)]()},'rank':this[_0x3cae11(0x25f)](),'remoteConnections':Array[_0x3cae11(0x157)](this[_0x3cae11(0x8c7)]),'version':this['currentVersion']}});}[_0x45ef94(0x230)](_0x45958a){const _0x4561f5=_0x45ef94;this[_0x4561f5(0x8c7)][_0x4561f5(0x3bc)](_0x45958a)||(this[_0x4561f5(0x8c7)][_0x4561f5(0x9fb)](_0x45958a),this[_0x4561f5(0xb0)](),this['publishUserUpdate'](!0x0));}['removeRemoteConnection'](_0x31697e){const _0x3165f5=_0x45ef94;this[_0x3165f5(0x8c7)][_0x3165f5(0x3bc)](_0x31697e)&&(this[_0x3165f5(0x8c7)][_0x3165f5(0x991)](_0x31697e),this['incrementVersion'](),this['publishUserUpdate'](!0x0));}[_0x45ef94(0x21d)](){const _0x55e9bc=_0x45ef94;return this[_0x55e9bc(0x30e)];}[_0x45ef94(0x31c)](_0x22fcd4){const _0x270735=_0x45ef94;this[_0x270735(0x3b1)]!==_0x22fcd4&&(this[_0x270735(0x3b1)]=_0x22fcd4,this[_0x270735(0xb0)](),this[_0x270735(0x53e)]());}[_0x45ef94(0x4b0)](_0x2e263f){const _0x4760fd=_0x45ef94;this['email']!==_0x2e263f&&(this[_0x4760fd(0x8a)]=_0x2e263f,this[_0x4760fd(0xb0)](),this[_0x4760fd(0x53e)]());}[_0x45ef94(0x815)](_0x2a1a71,_0x13b636=!0x0){const _0x4c9dbb=_0x45ef94;this[_0x4c9dbb(0x3a2)]!==_0x2a1a71&&(this['rank']=_0x2a1a71,_0x13b636&&(this[_0x4c9dbb(0xb0)](),this['publishUserUpdate']()));}[_0x45ef94(0xb0)](){const _0x9d7f0a=_0x45ef94;this[_0x9d7f0a(0x30e)]=Date['now']();}[_0x45ef94(0x53e)](_0xff142d=!0x1){const _0x314efc=_0x45ef94;if(this[_0x314efc(0x3a2)]){if(this[_0x314efc(0x98d)]||(this[_0x314efc(0x98d)]=Date[_0x314efc(0x69)]()),this['updateDebounceTimeout']){if(Date['now']()-this[_0x314efc(0x98d)]>0x2328)return;clearTimeout(this[_0x314efc(0x6b5)]);}this[_0x314efc(0x6b5)]=setTimeout(()=>{const _0x7ba4aa=_0x314efc;delete this['lastUpdated'],delete this['updateDebounceTimeout'],this[_0x7ba4aa(0x9da)]['publish']({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x43910d['Node'],'content':{'type':_0xff142d?_0x3b4c4a[_0x7ba4aa(0x638)]:_0x3b4c4a[_0x7ba4aa(0x863)],'id':this['id'],'metaData':{'type':this[_0x7ba4aa(0x6e1)],'displayName':this[_0x7ba4aa(0x3c1)](),'email':this[_0x7ba4aa(0x2da)]()},'rank':this['getRank'](),'remoteConnections':Array[_0x7ba4aa(0x157)](this[_0x7ba4aa(0x8c7)]),'version':this[_0x7ba4aa(0x30e)]}});},0x3e8);}}}class _0x3f41e0{['id'];[_0x45ef94(0x166)];[_0x45ef94(0x154)];[_0x45ef94(0x5f4)];[_0x45ef94(0x6e1)]=_0x29184c[_0x45ef94(0xc1)][_0x45ef94(0x767)];[_0x45ef94(0x210)];constructor(_0x2d54cb,_0x56faa8,_0x4d6994,_0x535d4b){const _0x1d7b34=_0x45ef94;this['id']=_0x2d54cb,this[_0x1d7b34(0x166)]=_0x56faa8,this[_0x1d7b34(0x154)]=_0x4d6994,this[_0x1d7b34(0x5f4)]=_0x535d4b;}[_0x45ef94(0xa2a)](){return this['id'];}[_0x45ef94(0x15b)](_0x1310e7){const _0xfc86f8=_0x45ef94,_0x186534=(0x0,_0x2a769c['onSnapshot'])((0x0,_0x2a769c['doc'])(_0x5e415d[_0xfc86f8(0x8f2)](),_0xfc86f8(0x61e)+this[_0xfc86f8(0x154)]+_0xfc86f8(0x7b7)+this['groupId']),_0x3a86cf=>{const _0x4c1d3e=_0xfc86f8;if(_0x3a86cf['exists']()){const _0x5d19da=_0x3a86cf[_0x4c1d3e(0x1a0)]();if(this[_0x4c1d3e(0x5f4)][_0x4c1d3e(0x645)][_0x4c1d3e(0x994)](_0x5d19da[_0x4c1d3e(0x645)]))return;_0x301706[_0x4c1d3e(0x1d5)](_0x3e3f45[_0x4c1d3e(0x6f6)],_0x4c1d3e(0x153),{'agentId':this['id'],'groupId':this[_0x4c1d3e(0x166)],'oldConfig':this[_0x4c1d3e(0x5f4)],'newConfig':_0x5d19da}),this[_0x4c1d3e(0x5f4)]=_0x5d19da,_0x1310e7();}});return()=>_0x186534();}['setReportCapacity'](_0x34ca97){const _0x4a94a8=_0x45ef94;return this[_0x4a94a8(0x96)](this[_0x4a94a8(0x166)],_0x34ca97),_0x4f43db['setInterval'](()=>this['reportCapacity'](this[_0x4a94a8(0x166)],_0x34ca97),0x7530);}[_0x45ef94(0x52c)](){const _0x47c944=_0x45ef94;if(!this[_0x47c944(0x210)])throw new _0x279d71(_0x279d71[_0x47c944(0x9c2)]['MistletCapacityReportNotSet']);return this[_0x47c944(0x210)];}async['reportCapacity'](_0x31d0e9,_0x4ed758){const _0x5296b9=_0x45ef94,_0x10e55c=await _0x4ed758();this[_0x5296b9(0x210)]=_0x10e55c,await(0x0,_0x2a769c['addDoc'])((0x0,_0x2a769c[_0x5296b9(0x8b7)])(_0x5e415d[_0x5296b9(0x8f2)](),_0x5296b9(0x61e)+this[_0x5296b9(0x154)]+_0x5296b9(0x46b)),{'agentId':this['id'],'groupId':_0x31d0e9,'timestamp':(0x0,_0x2a769c[_0x5296b9(0x5c0)])(),'capacity':_0x10e55c});}}!function(_0x4396b3){const _0x265948=_0x45ef94;_0x4396b3[_0x4396b3[_0x265948(0x36c)]=0x0]=_0x265948(0x36c),_0x4396b3[_0x4396b3[_0x265948(0x594)]=0x1]=_0x265948(0x594);}(_0x5d5e0a||(_0x5d5e0a={}));class _0x47f947 extends _0x4d7456{['currentVersion'];['status']=_0x5d5e0a['Online'];[_0x45ef94(0x98d)]=Date[_0x45ef94(0x69)]();constructor(_0x2f8c16,_0x2d6231=new Set(),_0x1f5ddb,_0x4b18c7){const _0x1ee922=_0x45ef94;super(_0x2f8c16,_0x2d6231,_0x4b18c7),this[_0x1ee922(0x30e)]=_0x1f5ddb;}[_0x45ef94(0x21d)](){return this['currentVersion'];}[_0x45ef94(0x8cf)](){return this['status'];}['getLastUpdated'](){const _0x297f97=_0x45ef94;return this[_0x297f97(0x98d)];}['setRank'](_0x3d0ce2){const _0x1da203=_0x45ef94;this[_0x1da203(0x3a2)]!==_0x3d0ce2&&(this[_0x1da203(0x3a2)]=_0x3d0ce2,this[_0x1da203(0x310)]());}['setRemoteConnections'](_0x5397a1){const _0x4cb3bb=_0x45ef94;let _0x4de7ca=!0x1;for(const _0x5f3856 of this['remoteConnections'])_0x5397a1[_0x4cb3bb(0x62f)](_0x5f3856)||(_0x4de7ca=!0x0,this['remoteConnections'][_0x4cb3bb(0x991)](_0x5f3856));for(const _0x1b5231 of _0x5397a1)this[_0x4cb3bb(0x8c7)][_0x4cb3bb(0x3bc)](_0x1b5231)||(_0x4de7ca=!0x0,this[_0x4cb3bb(0x8c7)]['add'](_0x1b5231));_0x4de7ca&&this[_0x4cb3bb(0x310)]();}[_0x45ef94(0x261)](_0x181740){const _0x537af1=_0x45ef94;this['currentVersion']!==_0x181740&&(this[_0x537af1(0x30e)]=_0x181740,this['updateLastUpdated']());}['setStatus'](_0x5a269e){const _0x5e66cc=_0x45ef94;this[_0x5e66cc(0x4b9)]!==_0x5a269e&&(this['status']=_0x5a269e,this['updateLastUpdated'](),_0x5a269e===_0x5d5e0a[_0x5e66cc(0x594)]&&this[_0x5e66cc(0x8b0)]());}['updateLastUpdated'](){const _0x402c0f=_0x45ef94;this[_0x402c0f(0x98d)]=Date[_0x402c0f(0x69)]();}}class _0xf9e020 extends _0x1b8f7f{[_0x45ef94(0x30e)];[_0x45ef94(0x4b9)]=_0x5d5e0a[_0x45ef94(0x36c)];[_0x45ef94(0x98d)]=Date[_0x45ef94(0x69)]();constructor(_0x29eb53,_0x1258d9,_0x5d8eb5,_0x3fd735=new Set(),_0x389282,_0x2ba436){const _0x3d50f9=_0x45ef94;super(_0x29eb53,_0x1258d9,_0x5d8eb5,_0x3fd735,_0x2ba436),this[_0x3d50f9(0x30e)]=_0x389282;}['getCurrentVersion'](){const _0x125714=_0x45ef94;return this[_0x125714(0x30e)];}['getStatus'](){const _0x585c66=_0x45ef94;return this[_0x585c66(0x4b9)];}[_0x45ef94(0x1a6)](){return this['lastUpdated'];}[_0x45ef94(0x31c)](_0x35a391){this['displayName']!==_0x35a391&&(this['displayName']=_0x35a391,this['updateLastUpdated']());}['setEmail'](_0xbff239){const _0x4fe86a=_0x45ef94;this['email']!==_0xbff239&&(this[_0x4fe86a(0x8a)]=_0xbff239,this[_0x4fe86a(0x310)]());}[_0x45ef94(0x815)](_0xd169e8){const _0x236d80=_0x45ef94;this['rank']!==_0xd169e8&&(this[_0x236d80(0x3a2)]=_0xd169e8,this['updateLastUpdated']());}[_0x45ef94(0x17c)](_0x927ec0){const _0x285243=_0x45ef94;let _0x412304=!0x1;for(const _0x362078 of this[_0x285243(0x8c7)])_0x927ec0[_0x285243(0x62f)](_0x362078)||(_0x412304=!0x0,this[_0x285243(0x8c7)][_0x285243(0x991)](_0x362078));for(const _0x55bf5a of _0x927ec0)this[_0x285243(0x8c7)][_0x285243(0x3bc)](_0x55bf5a)||(_0x412304=!0x0,this[_0x285243(0x8c7)]['add'](_0x55bf5a));_0x412304&&this[_0x285243(0x310)]();}[_0x45ef94(0x261)](_0x55c581){const _0x9b471a=_0x45ef94;this[_0x9b471a(0x30e)]!==_0x55c581&&(this[_0x9b471a(0x30e)]=_0x55c581,this['updateLastUpdated']());}[_0x45ef94(0x94a)](_0x105322){const _0x3a8980=_0x45ef94;this[_0x3a8980(0x4b9)]!==_0x105322&&(this[_0x3a8980(0x4b9)]=_0x105322,this[_0x3a8980(0x310)](),_0x105322===_0x5d5e0a['Offline']&&this['close']());}['updateLastUpdated'](){const _0x261776=_0x45ef94;this[_0x261776(0x98d)]=Date[_0x261776(0x69)]();}}class _0x16ab38{['vendorId'];[_0x45ef94(0x9aa)];[_0x45ef94(0x5e4)];[_0x45ef94(0x193)];[_0x45ef94(0x7f2)]=_0x5ad34d();[_0x45ef94(0x99c)];[_0x45ef94(0x342)];[_0x45ef94(0x8ae)];[_0x45ef94(0x9d4)]=!0x1;[_0x45ef94(0xa7)];['nodeKey'];constructor(_0xf9d013,_0x4a8a1e,_0x549c1b,_0x447f77){const _0x9da447=_0x45ef94;this['vendorId']=_0xf9d013,this[_0x9da447(0x9aa)]=_0x4a8a1e,this[_0x9da447(0x5e4)]=_0x549c1b,this[_0x9da447(0x193)]=_0x447f77,this[_0x9da447(0xa7)]=_0x9da447(0x923)+this[_0x9da447(0x154)]+_0x9da447(0x923)+this[_0x9da447(0x9aa)],this[_0x9da447(0x96e)]=_0x9da447(0x923)+this[_0x9da447(0x154)]+'ccc'+this['localNode']['getId'](),this[_0x9da447(0x99c)]=(0x0,_0x1fdb8e[_0x9da447(0x1d1)])((0x0,_0x1fdb8e['ref'])(_0x5e415d[_0x9da447(0x36f)](),_0x9da447(0x3f1)),_0x161641=>{const _0x461528=_0x9da447;!0x0!==_0x161641[_0x461528(0x2f7)]()?this[_0x461528(0x9d4)]&&_0x301706[_0x461528(0x2a9)]('firebase-disconnect',{'clusterId':this['clusterId'],'nodeId':this['localNode'][_0x461528(0xa2a)](),'nodeType':this['localNode'][_0x461528(0x6e1)]}):(this[_0x461528(0x9d4)]=!0x0,this[_0x461528(0x5f9)](),_0x301706[_0x461528(0x90)]('firebase-connect',{'clusterId':this[_0x461528(0x9aa)],'nodeId':this['localNode']['getId'](),'nodeType':this['localNode'][_0x461528(0x6e1)]}));});}async[_0x45ef94(0x981)](){const _0x3405bd=_0x45ef94;await this[_0x3405bd(0x86e)]();const _0x34f13b=await this[_0x3405bd(0x46e)]();return this[_0x3405bd(0x342)]=(0x0,_0x1fdb8e[_0x3405bd(0x337)])((0x0,_0x1fdb8e[_0x3405bd(0x311)])(_0x5e415d[_0x3405bd(0x36f)](),_0x3405bd(0x4d7)+this['clusterKey']+'/nodes'),_0x286bfa=>{const _0x546e03=_0x3405bd,_0x3e2508=_0x286bfa['key'];if(!_0x3e2508)return;const _0x2984e1=_0x3e2508['replace'](_0x546e03(0x923)+this[_0x546e03(0x154)]+_0x546e03(0x923),'');this['disconnectCallback'][_0x546e03(0x379)](_0x2984e1);}),_0x34f13b;}async[_0x45ef94(0x8b0)](){const _0x13a45a=_0x45ef94;this[_0x13a45a(0x342)]?.(),delete this[_0x13a45a(0x342)],this[_0x13a45a(0x8ae)]?.[_0x13a45a(0x47f)](),delete this[_0x13a45a(0x8ae)],this['firebaseUnsubscriber']?.(),delete this[_0x13a45a(0x99c)],await(0x0,_0x1fdb8e[_0x13a45a(0x175)])((0x0,_0x1fdb8e['ref'])(_0x5e415d[_0x13a45a(0x36f)](),_0x13a45a(0x4d7)+this['clusterKey']+_0x13a45a(0x288)+this[_0x13a45a(0x96e)]));}[_0x45ef94(0x4ae)](_0x4fe090){const _0x86bcba=_0x45ef94;return this[_0x86bcba(0x7f2)][_0x86bcba(0x79d)](_0x4fe090);}async['getAncestors'](){const _0x311391=_0x45ef94,_0x4c300a=[],_0x56bb23=await(0x0,_0x1fdb8e['get'])((0x0,_0x1fdb8e[_0x311391(0x311)])(_0x5e415d[_0x311391(0x36f)](),_0x311391(0x4d7)+this[_0x311391(0xa7)]+_0x311391(0x780))),_0x18b283=[];return _0x56bb23[_0x311391(0xa3f)](_0x249ef7=>{const _0x427150=_0x311391,_0x24507a=_0x249ef7[_0x427150(0x1dd)]?.['replace'](_0x427150(0x923)+this[_0x427150(0x154)]+'ccc','');_0x18b283[_0x427150(0x59e)]({'id':_0x24507a,'joinedAt':_0x249ef7['val']()[_0x427150(0x6ec)],'priority':_0x249ef7[_0x427150(0x2f7)]()[_0x427150(0x10b)]});}),_0x18b283[_0x311391(0xb8)]((_0x495024,_0xe2dd74)=>_0x495024[_0x311391(0x6ec)]===_0xe2dd74['joinedAt']?_0x495024[_0x311391(0x10b)]-_0xe2dd74[_0x311391(0x10b)]:_0x495024[_0x311391(0x6ec)]-_0xe2dd74[_0x311391(0x6ec)])['splice'](_0x18b283[_0x311391(0x6b7)](_0x2f492f=>_0x2f492f['id']===this[_0x311391(0x5e4)][_0x311391(0xa2a)]())),_0x18b283[_0x311391(0xb8)]((_0x25adba,_0x4391af)=>_0x4391af[_0x311391(0x6ec)]===_0x25adba[_0x311391(0x6ec)]?_0x4391af[_0x311391(0x10b)]-_0x25adba['priority']:_0x4391af[_0x311391(0x6ec)]-_0x25adba['joinedAt'])[_0x311391(0xa3f)](_0x3a71fe=>{const _0x47e59c=_0x311391;_0x4c300a[_0x47e59c(0x453)]>=this[_0x47e59c(0x193)]||_0x4c300a['push'](_0x3a71fe['id']);}),_0x301706[_0x311391(0x926)](_0x311391(0x9ad),{'clusterId':this[_0x311391(0x9aa)],'nodeId':this['localNode']['getId'](),'nodeType':this['localNode'][_0x311391(0x6e1)],'data':{'ancestorIds':_0x4c300a,'allNodes':_0x18b283}}),_0x4c300a;}async['joinCluster'](){const _0x5110bd=_0x45ef94;await(0x0,_0x1fdb8e[_0x5110bd(0x2b3)])((0x0,_0x1fdb8e[_0x5110bd(0x311)])(_0x5e415d[_0x5110bd(0x36f)](),_0x5110bd(0x4d7)+this['clusterKey']+_0x5110bd(0x288)+this[_0x5110bd(0x96e)]),{'joinedAt':(0x0,_0x1fdb8e[_0x5110bd(0x5c0)])(),'priority':Math[_0x5110bd(0x102)]()});}[_0x45ef94(0x5f9)](){const _0x2b13be=_0x45ef94;this[_0x2b13be(0x8ae)]&&this[_0x2b13be(0x8ae)][_0x2b13be(0x47f)](),this['onDisconnectHandler']=(0x0,_0x1fdb8e[_0x2b13be(0xa36)])((0x0,_0x1fdb8e['ref'])(_0x5e415d[_0x2b13be(0x36f)](),'clusters/'+this[_0x2b13be(0xa7)]+_0x2b13be(0x288)+this[_0x2b13be(0x96e)])),this['onDisconnectHandler'][_0x2b13be(0x175)]();}}class _0x26035a{[_0x45ef94(0x380)];[_0x45ef94(0xa04)];['remoteUnsubscriber'];[_0x45ef94(0x38a)];[_0x45ef94(0x6aa)];[_0x45ef94(0x57f)]=[];[_0x45ef94(0x9da)];[_0x45ef94(0x271)]=new Map();[_0x45ef94(0x2bb)];[_0x45ef94(0x1a7)];['_isReady'];[_0x45ef94(0x92f)];[_0x45ef94(0x726)];['readyDebounce'];constructor(_0x240b0b,_0x358640){const _0x8d4331=_0x45ef94;this[_0x8d4331(0x380)]=_0x240b0b,this[_0x8d4331(0xa04)]=_0x358640,this[_0x8d4331(0x3fe)]=new Promise((_0x556abb,_0x5789b2)=>{this['resolveReady']=_0x556abb,this['rejectReady']=_0x5789b2;}),this[_0x8d4331(0x38a)]=new _0x16ab38(this[_0x8d4331(0x380)][_0x8d4331(0x154)],this[_0x8d4331(0x380)]['clusterId'],this[_0x8d4331(0x380)]['localNode'],this[_0x8d4331(0xa04)][_0x8d4331(0x6e4)]()),this[_0x8d4331(0x6aa)]=this['discoveryService'][_0x8d4331(0x4ae)](this[_0x8d4331(0x451)]['bind'](this)),this[_0x8d4331(0x380)]['mediator'][_0x8d4331(0x324)](this['configs'][_0x8d4331(0x5e4)]),this[_0x8d4331(0x380)]['mediator'][_0x8d4331(0x324)](this),this[_0x8d4331(0x253)]=_0x4f43db[_0x8d4331(0x886)](()=>{const _0x2d792d=_0x8d4331,_0xc1f493=Date[_0x2d792d(0x69)]();this[_0x2d792d(0xa04)][_0x2d792d(0x6c5)]()['forEach'](_0xa4543b=>{const _0x54d6d9=_0x2d792d;_0xa4543b[_0x54d6d9(0x8cf)]()===_0x5d5e0a['Offline']&&_0xa4543b['getLastUpdated']()<_0xc1f493-0x493e0&&this['graphService'][_0x54d6d9(0x784)](_0xa4543b['getId']());});},0xea60);}async[_0x45ef94(0x84b)](){const _0x3b8dee=_0x45ef94;return this[_0x3b8dee(0x3fe)];}async[_0x45ef94(0x358)](_0x18e9ba){return new Promise((_0x1c18e4,_0x3f4a19)=>{const _0x163c1a=a0_0x395e;let _0x241838;const _0x497731=setTimeout(()=>{const _0x1caf9c=a0_0x395e;_0x241838?.(),_0x3f4a19(new Error(_0x1caf9c(0x320)+_0x18e9ba+_0x1caf9c(0x576)));},0x2710);if(this['graphService']['hasRemoteNode'](_0x18e9ba))return clearTimeout(_0x497731),void _0x1c18e4(!0x0);_0x241838=this['graphService'][_0x163c1a(0x259)](()=>{const _0x57e453=_0x163c1a;this['graphService'][_0x57e453(0x36e)](_0x18e9ba)&&(clearTimeout(_0x497731),_0x1c18e4(!0x0),_0x241838?.());});});}[_0x45ef94(0x52e)](_0x2ba87e){const _0x2da85a=_0x45ef94;this[_0x2da85a(0x9da)]=_0x2ba87e;}[_0x45ef94(0xfc)](){const _0x581708=_0x45ef94;delete this[_0x581708(0x9da)];}[_0x45ef94(0x8b0)](){const _0xad198d=_0x45ef94;this['debounceProcessRank']&&(clearTimeout(this[_0xad198d(0x2bb)]),delete this[_0xad198d(0x2bb)]),delete this[_0xad198d(0x1a7)],this[_0xad198d(0x380)][_0xad198d(0x5e4)][_0xad198d(0x8b0)](),this[_0xad198d(0x253)](),this[_0xad198d(0x6aa)](),this[_0xad198d(0x380)][_0xad198d(0x33f)]['unregisterSystemSource'](this[_0xad198d(0x380)]['localNode']),this[_0xad198d(0x380)][_0xad198d(0x33f)][_0xad198d(0x88e)](this),this[_0xad198d(0x38a)][_0xad198d(0x8b0)]();}['getAncestorIds'](){const _0x5b7674=_0x45ef94;return this[_0x5b7674(0x57f)];}[_0x45ef94(0x361)](){const _0x4791b6=_0x45ef94;return this[_0x4791b6(0x380)]['localNode']['getId']();}[_0x45ef94(0x4aa)](){const _0xd53cf4=_0x45ef94;return this[_0xd53cf4(0x380)][_0xd53cf4(0x5e4)];}[_0x45ef94(0x6c5)](_0x49f59f){const _0x21e62c=_0x45ef94,_0x5b8db7=Array[_0x21e62c(0x157)](this[_0x21e62c(0xa04)][_0x21e62c(0x6c5)]()[_0x21e62c(0x67a)]())['filter'](_0x161755=>_0x161755[_0x21e62c(0x8cf)]()===_0x5d5e0a[_0x21e62c(0x36c)]);return _0x49f59f?_0x5b8db7[_0x21e62c(0x533)](_0x49f59f):_0x5b8db7;}async['discover'](){const _0x6d6570=_0x45ef94;return this[_0x6d6570(0x57f)]=await this[_0x6d6570(0x38a)][_0x6d6570(0x981)](),this[_0x6d6570(0x57f)][_0x6d6570(0x453)]<this['graphService'][_0x6d6570(0x6e4)]()&&(this[_0x6d6570(0x380)]['localNode'][_0x6d6570(0x815)](this[_0x6d6570(0x57f)][_0x6d6570(0x453)]+0x1),this['processRank']()),this[_0x6d6570(0x57f)];}['getDistance'](_0x3286b4,_0x276c17){const _0x45badf=_0x45ef94,_0x5432bb=this[_0x45badf(0x380)][_0x45badf(0x5e4)]['getRemoteConnections'](),_0x567229=new Set(_0x5432bb),_0x3e0c78=Array[_0x45badf(0x157)](_0x5432bb)['filter'](_0x13e9cd=>_0x13e9cd!==_0x3286b4)[_0x45badf(0x1f8)](_0x22ced5=>({'id':_0x22ced5,'distance':0x1}));for(;_0x3e0c78[_0x45badf(0x453)]>0x0;){const _0x350c86=_0x3e0c78[_0x45badf(0x5e9)]();if(!_0x350c86)continue;if(_0x350c86['id']===_0x276c17)return _0x350c86[_0x45badf(0xa3b)];const _0x1c40d0=this['graphService'][_0x45badf(0x199)](_0x350c86['id']);_0x1c40d0&&_0x1c40d0[_0x45badf(0x8cf)]()!==_0x5d5e0a[_0x45badf(0x594)]&&_0x1c40d0[_0x45badf(0x596)]()['forEach'](_0x4416ec=>{const _0x14afec=_0x45badf;_0x567229['has'](_0x4416ec)||(_0x567229[_0x14afec(0x9fb)](_0x4416ec),_0x3e0c78[_0x14afec(0x59e)]({'id':_0x4416ec,'distance':_0x350c86['distance']+0x1}));});}return-0x1;}[_0x45ef94(0x122)](_0x5d57a0){const _0x4fe7ff=_0x45ef94;try{switch(_0x5d57a0[_0x4fe7ff(0x2ec)]['type']){case _0x3b4c4a[_0x4fe7ff(0x863)]:case _0x3b4c4a[_0x4fe7ff(0x638)]:this['handleNodeUpdate'](_0x5d57a0[_0x4fe7ff(0x2ec)]),_0x301706[_0x4fe7ff(0x1d5)](_0x3e3f45[_0x4fe7ff(0x6f6)],_0x4fe7ff(0x289),'\x27'+this[_0x4fe7ff(0x380)]['localNode'][_0x4fe7ff(0xa2a)]()+',\x20'+_0x5d57a0[_0x4fe7ff(0x499)]+'\x27',_0x5d57a0,_0x5d57a0[_0x4fe7ff(0x2ec)]);break;case _0x3b4c4a[_0x4fe7ff(0x2fd)]:this['removeNode'](_0x5d57a0[_0x4fe7ff(0x2ec)]['id']),_0x301706[_0x4fe7ff(0x1d5)](_0x3e3f45['Node'],'NodeManager\x20-\x20NodeLeave','\x27'+this[_0x4fe7ff(0x380)][_0x4fe7ff(0x5e4)]['getId']()+',\x20'+_0x5d57a0['sourceId']+'\x27',_0x5d57a0,_0x5d57a0['content']);}}catch(_0x3cf3f0){if(_0x3cf3f0 instanceof _0x3851a6)return void _0x301706[_0x4fe7ff(0x1d5)](_0x3e3f45[_0x4fe7ff(0x6f6)],_0x3cf3f0[_0x4fe7ff(0x7c2)]);throw _0x3cf3f0;}}['handlePeerConnectionSystemEvents'](_0x25a711){const _0x58bef6=_0x45ef94;switch(_0x25a711[_0x58bef6(0x2ec)][_0x58bef6(0x6e1)]){case _0x565f29['Success']:this['handleConnectionSuccess'](_0x25a711[_0x58bef6(0x499)]),_0x301706[_0x58bef6(0x1d5)](_0x3e3f45[_0x58bef6(0x6f6)],_0x58bef6(0x382),'\x27'+this[_0x58bef6(0x380)][_0x58bef6(0x5e4)][_0x58bef6(0xa2a)]()+',\x20'+_0x25a711[_0x58bef6(0x499)]+'\x27',_0x25a711,_0x25a711[_0x58bef6(0x2ec)]);break;case _0x565f29[_0x58bef6(0x8bc)]:this[_0x58bef6(0x8c8)](_0x25a711[_0x58bef6(0x499)]),_0x301706[_0x58bef6(0x1d5)](_0x3e3f45['Node'],_0x58bef6(0x4f1),this[_0x58bef6(0x380)][_0x58bef6(0x5e4)][_0x58bef6(0xa2a)](),_0x25a711,_0x25a711[_0x58bef6(0x2ec)]);}}['handleNodeJoin'](_0x211c2b){const _0x32314e=_0x45ef94;this[_0x32314e(0x9b0)](_0x211c2b),this[_0x32314e(0x4f2)](_0x211c2b);}[_0x45ef94(0x4f2)](_0x5f17cb){const _0x29d3cf=_0x45ef94;this['configs'][_0x29d3cf(0x5e4)][_0x29d3cf(0x893)](_0x5f17cb['id']),this[_0x29d3cf(0x690)](_0x5f17cb['id']),this[_0x29d3cf(0x8e8)](_0x5f17cb);}['handleNodeUpdate'](_0x2044c4){const _0x1e9f70=_0x45ef94,{id:_0x3b1aa9,metaData:_0x266883,rank:_0x57b2cd,remoteConnections:_0xb44934,version:_0x1e781b}=_0x2044c4,_0x434a99=this[_0x1e9f70(0xa04)][_0x1e9f70(0x199)](_0x3b1aa9);if(_0x434a99){if(!(_0x1e781b<=_0x434a99[_0x1e9f70(0x21d)]())){if(_0x434a99[_0x1e9f70(0x17c)](_0xb44934),_0x434a99[_0x1e9f70(0x261)](_0x1e781b),_0x434a99[_0x1e9f70(0x6e1)]===_0x29184c[_0x1e9f70(0xc1)][_0x1e9f70(0x8d2)]&&_0x266883[_0x1e9f70(0x6e1)]===_0x29184c[_0x1e9f70(0xc1)][_0x1e9f70(0x8d2)]&&(_0x434a99[_0x1e9f70(0x31c)](_0x266883['displayName']),_0x434a99[_0x1e9f70(0x4b0)](_0x266883['email'])),_0x57b2cd&&_0x434a99[_0x1e9f70(0x815)](_0x57b2cd),this[_0x1e9f70(0x46a)](_0x3b1aa9,_0x57b2cd),_0x434a99[_0x1e9f70(0x8cf)]()===_0x5d5e0a[_0x1e9f70(0x594)])return _0x434a99[_0x1e9f70(0x94a)](_0x5d5e0a[_0x1e9f70(0x36c)]),this[_0x1e9f70(0x3c8)](),void this[_0x1e9f70(0x4f2)](_0x2044c4);this[_0x1e9f70(0x3c8)](),this[_0x1e9f70(0x450)]({'id':_0x3b1aa9,'metaData':_0x266883,'remoteConnections':_0xb44934,'version':_0x1e781b});}}else this[_0x1e9f70(0x348)](_0x2044c4);}['setLocalRank'](_0x128335,_0x187471){const _0x1b2b80=_0x45ef94;_0x187471&&this[_0x1b2b80(0x57f)][_0x1b2b80(0x62f)](_0x128335)&&this[_0x1b2b80(0x380)][_0x1b2b80(0x5e4)][_0x1b2b80(0x815)](_0x187471+this['ancestors'][_0x1b2b80(0x4e9)](_0x128335)+0x1);}[_0x45ef94(0x1fe)](_0x49e042){const _0x1e8534=_0x45ef94;this[_0x1e8534(0x380)][_0x1e8534(0x5e4)]['addRemoteConnection'](_0x49e042);}['createRemoteNode']({id:_0x4a9cd3,metaData:_0x193f30,rank:_0x97b7a8,remoteConnections:_0x2cadda,version:_0x16cf8f}){const _0x50ab9b=_0x45ef94;if(this['graphService'][_0x50ab9b(0x36e)](_0x4a9cd3))throw new _0x3851a6(_0x50ab9b(0x58c)+_0x4a9cd3);switch(_0x193f30[_0x50ab9b(0x6e1)]){case _0x29184c[_0x50ab9b(0xc1)][_0x50ab9b(0x8d2)]:const {displayName:_0x454ccc,email:_0x189367}=_0x193f30;this[_0x50ab9b(0xa04)]['setRemoteNode'](_0x4a9cd3,new _0xf9e020(_0x4a9cd3,_0x454ccc,_0x189367,new Set(_0x2cadda),_0x16cf8f,_0x97b7a8));break;case _0x29184c[_0x50ab9b(0xc1)]['Agent']:this[_0x50ab9b(0xa04)][_0x50ab9b(0x73d)](_0x4a9cd3,new _0x47f947(_0x4a9cd3,new Set(_0x2cadda),_0x16cf8f,_0x97b7a8));}const _0x571cb7=this[_0x50ab9b(0x6c5)](),_0x2ee53e=new Set(this[_0x50ab9b(0x57f)]);_0x571cb7[_0x50ab9b(0xa3f)](_0x23198c=>{const _0x5233af=_0x50ab9b;_0x2ee53e[_0x5233af(0x3bc)](_0x23198c['getId']())&&_0x2ee53e[_0x5233af(0x991)](_0x23198c[_0x5233af(0xa2a)]());}),0x0===_0x2ee53e[_0x50ab9b(0x77a)]&&this['resolveReady']&&(this['readyDebounce']&&clearTimeout(this[_0x50ab9b(0x343)]),this['readyDebounce']=setTimeout(()=>{const _0x1436ce=_0x50ab9b;this['resolveReady']?.(!0x0),delete this[_0x1436ce(0x92f)],delete this[_0x1436ce(0x726)];},0x7d0)),this[_0x50ab9b(0x46a)](_0x4a9cd3,_0x97b7a8),this[_0x50ab9b(0x3c8)]();}[_0x45ef94(0x690)](_0x33a088){const _0x1066f6=_0x45ef94;this[_0x1066f6(0x9da)][_0x1066f6(0x379)]({'sourceId':_0x17190e,'messageType':_0x43910d[_0x1066f6(0x6f6)],'content':{'type':_0x3b4c4a['NodeJoin'],'id':_0x33a088}});}['publishNodeLeave'](_0x16147b){const _0x412c98=_0x45ef94;this[_0x412c98(0x9da)]?.[_0x412c98(0x379)]({'sourceId':_0x17190e,'messageType':_0x43910d[_0x412c98(0x6f6)],'content':{'type':_0x3b4c4a[_0x412c98(0x2fd)],'id':_0x16147b}});}['handleNodeDisconnect'](_0x15548e){const _0x1adac3=_0x45ef94;if(_0x15548e===this[_0x1adac3(0x380)][_0x1adac3(0x5e4)][_0x1adac3(0xa2a)]())return this[_0x1adac3(0x380)][_0x1adac3(0x33f)][_0x1adac3(0x7e)](_0x1adac3(0x1ec),{'id':_0x15548e}),this['configs']['mediator'][_0x1adac3(0x8b0)]({'force':!0x0},!0x0),this[_0x1adac3(0x380)]['mediator']['open'](),void this['configs'][_0x1adac3(0x33f)][_0x1adac3(0x47a)]();this[_0x1adac3(0x8c8)](_0x15548e);}[_0x45ef94(0x6ae)](_0x243b50){const _0x5942ef=_0x45ef94;this[_0x5942ef(0x57f)][_0x5942ef(0x62f)](_0x243b50)?this[_0x5942ef(0x43e)](_0x243b50):this[_0x5942ef(0x380)][_0x5942ef(0x5e4)]['getRemoteConnections']()[_0x5942ef(0x3bc)](_0x243b50)&&this[_0x5942ef(0x7b8)](_0x243b50),this[_0x5942ef(0x380)]['localNode']['removeRemoteConnection'](_0x243b50);const _0x378af8=Array['from'](this[_0x5942ef(0x271)][_0x5942ef(0x58b)]())['find'](([,_0x6a1d8d])=>_0x6a1d8d==_0x6a1d8d);_0x378af8&&this[_0x5942ef(0x271)][_0x5942ef(0x991)](_0x378af8[0x0]);const _0x1b5b2a=this['graphService']['getRemoteNode'](_0x243b50);if(!_0x1b5b2a)return;const _0x6bc0c8=_0x1b5b2a[_0x5942ef(0x25f)](),_0x3eda3f=this[_0x5942ef(0x380)][_0x5942ef(0x5e4)][_0x5942ef(0x25f)]();_0x3eda3f&&_0x6bc0c8&&_0x6bc0c8<_0x3eda3f&&this['configs'][_0x5942ef(0x5e4)][_0x5942ef(0x815)](_0x3eda3f-0x1,!0x1),Array[_0x5942ef(0x157)](this['graphService'][_0x5942ef(0x6c5)]()['values']())['forEach'](_0x170c0e=>{const _0x21007d=_0x5942ef,_0x460bd2=_0x170c0e[_0x21007d(0x25f)]();_0x460bd2&&_0x6bc0c8&&_0x6bc0c8<_0x460bd2&&_0x170c0e['setRank'](_0x460bd2-0x1);}),_0x1b5b2a['setStatus'](_0x5d5e0a[_0x5942ef(0x594)]),this['configs'][_0x5942ef(0x33f)][_0x5942ef(0x7e)](_0x1b5b2a[_0x5942ef(0x6e1)]+_0x5942ef(0x882),{'id':_0x243b50});}[_0x45ef94(0x8e8)]({id:_0xe79e22,metaData:_0x45eeb7,remoteConnections:_0x5c5f6d}){const _0x2ba389=_0x45ef94;switch(_0x45eeb7[_0x2ba389(0x6e1)]){case _0x29184c[_0x2ba389(0xc1)][_0x2ba389(0x8d2)]:this['configs'][_0x2ba389(0x33f)]['notifyCluster'](_0x2ba389(0x508),{'id':_0xe79e22,'metaData':_0x45eeb7,'remoteConnections':_0x5c5f6d});break;case _0x29184c[_0x2ba389(0xc1)][_0x2ba389(0x767)]:this['configs'][_0x2ba389(0x33f)][_0x2ba389(0x7e)]('agent-join',{'id':_0xe79e22,'metaData':_0x45eeb7,'remoteConnections':_0x5c5f6d});}}['notifyClusterNodeUpdate']({id:_0xf0709,metaData:_0x14d08e,remoteConnections:_0x136dc8}){const _0x3a0664=_0x45ef94;switch(_0x14d08e[_0x3a0664(0x6e1)]){case _0x29184c['NodeType']['User']:this['configs'][_0x3a0664(0x33f)][_0x3a0664(0x7e)](_0x3a0664(0x71f),{'id':_0xf0709,'metaData':_0x14d08e,'remoteConnections':_0x136dc8});break;case _0x29184c[_0x3a0664(0xc1)][_0x3a0664(0x767)]:this[_0x3a0664(0x380)][_0x3a0664(0x33f)]['notifyCluster'](_0x3a0664(0x557),{'id':_0xf0709,'metaData':_0x14d08e,'remoteConnections':_0x136dc8});}}['processRank'](){const _0x438aa4=_0x45ef94;if(this[_0x438aa4(0x1a7)]||(this['lastProcessRank']=Date[_0x438aa4(0x69)]()),this[_0x438aa4(0x2bb)]){if(Date[_0x438aa4(0x69)]()-this['lastProcessRank']>0x2328)return;clearTimeout(this[_0x438aa4(0x2bb)]);}this[_0x438aa4(0x2bb)]=setTimeout(async()=>{const _0x1e7501=_0x438aa4;delete this[_0x1e7501(0x1a7)],delete this[_0x1e7501(0x2bb)];const _0xbd9f73=this[_0x1e7501(0x380)][_0x1e7501(0x5e4)]['getRank']();if(!_0xbd9f73)return;const _0x4bcdcb=this[_0x1e7501(0xa04)][_0x1e7501(0x2ef)](this[_0x1e7501(0xa04)][_0x1e7501(0x6c5)]()[_0x1e7501(0x77a)]);if(this['optimizationLayers']['size']>=_0x4bcdcb)return;let _0x29e15c=0x1;for(;this['configs'][_0x1e7501(0x33f)][_0x1e7501(0x78e)]()[_0x1e7501(0x453)]<this['graphService'][_0x1e7501(0x63e)]()&&_0x29e15c<=_0x4bcdcb;){if(this[_0x1e7501(0x271)]['has'](_0x29e15c)){_0x29e15c+=0x1;continue;}const _0x21a5b1=this['graphService'][_0x1e7501(0x71b)](_0xbd9f73,_0x29e15c),_0x68e7c9=Array[_0x1e7501(0x157)](this[_0x1e7501(0xa04)]['getRemoteNodes']()[_0x1e7501(0x67a)]())['find'](_0x31e493=>_0x31e493[_0x1e7501(0x25f)]()===_0x21a5b1&&_0x31e493[_0x1e7501(0x8cf)]()===_0x5d5e0a[_0x1e7501(0x36c)]);if(_0x68e7c9){try{await this[_0x1e7501(0x380)][_0x1e7501(0x33f)][_0x1e7501(0x9ce)](_0x68e7c9['getId'](),_0x3fe73d[_0x1e7501(0x369)]),this[_0x1e7501(0x271)]['set'](_0x29e15c,_0x68e7c9[_0x1e7501(0xa2a)]());}catch(_0x4223de){if(!(_0x4223de instanceof _0x279d71&&_0x4223de['code']===_0x279d71['codes'][_0x1e7501(0x951)]))throw _0x4223de;_0x301706[_0x1e7501(0x1d5)](_0x3e3f45[_0x1e7501(0x6f6)],this['configs'][_0x1e7501(0x5e4)]['getId'](),_0x68e7c9[_0x1e7501(0xa2a)](),_0x4223de['message']);}_0x29e15c+=0x1;}else _0x29e15c+=0x1;}},0x3e8);}async[_0x45ef94(0x43e)](_0x5f4eaf){const _0x190594=_0x45ef94;this[_0x190594(0x57f)][_0x190594(0x15a)](this[_0x190594(0x57f)][_0x190594(0x4e9)](_0x5f4eaf),0x1);const _0x2f0c26=await this[_0x190594(0x38a)]['getAncestors']();for(const _0x228f74 of _0x2f0c26)if(!this[_0x190594(0x57f)]['includes'](_0x228f74)){const _0x3c0715=Array['from'](this[_0x190594(0x271)][_0x190594(0x58b)]())['find'](([,_0x790ba])=>_0x790ba===_0x228f74);_0x3c0715&&this[_0x190594(0x271)][_0x190594(0x991)](_0x3c0715[0x0]),this[_0x190594(0x380)][_0x190594(0x33f)][_0x190594(0x9ce)](_0x228f74,_0x3fe73d['Core']);}0x0===_0x2f0c26[_0x190594(0x453)]&&this[_0x190594(0x380)]['localNode'][_0x190594(0x815)](0x1),this['ancestors']=_0x2f0c26;}async[_0x45ef94(0x7b8)](_0x5e62e9){const _0x4a0a0d=_0x45ef94,_0x1f70dc=this[_0x4a0a0d(0x380)]['localNode'][_0x4a0a0d(0x25f)]();if(!_0x1f70dc)return;const _0xeb9f4d=this[_0x4a0a0d(0xa04)][_0x4a0a0d(0x199)](_0x5e62e9);if(!_0xeb9f4d||_0xeb9f4d['getStatus']()===_0x5d5e0a[_0x4a0a0d(0x594)])return;const _0x49b90b=_0xeb9f4d[_0x4a0a0d(0x25f)]();if(!_0x49b90b||_0x49b90b<_0x1f70dc)return;const _0xa3a4f4=this[_0x4a0a0d(0x300)](this[_0x4a0a0d(0x380)]['localNode'][_0x4a0a0d(0x596)](),_0x1f70dc),_0x41b0a6=this[_0x4a0a0d(0x300)](_0xeb9f4d['getRemoteConnections'](),_0x49b90b)[_0xa3a4f4['findIndex'](([_0x1ad6c7])=>_0x1ad6c7===_0x5e62e9)];if(!_0x41b0a6||this[_0x4a0a0d(0x380)][_0x4a0a0d(0x5e4)][_0x4a0a0d(0x596)]()[_0x4a0a0d(0x3bc)](_0x41b0a6[0x0]))return;const _0x48034e=this['graphService'][_0x4a0a0d(0x199)](_0x41b0a6[0x0]);if(_0x48034e&&_0x48034e[_0x4a0a0d(0x8cf)]()!==_0x5d5e0a[_0x4a0a0d(0x594)])try{await this[_0x4a0a0d(0x380)][_0x4a0a0d(0x33f)][_0x4a0a0d(0x9ce)](_0x41b0a6[0x0],_0x3fe73d[_0x4a0a0d(0x369)]);const _0x231901=Array['from'](this['optimizationLayers']['entries']())['find'](([,_0x4ad7a3])=>_0x4ad7a3===_0x5e62e9);_0x231901&&this[_0x4a0a0d(0x271)][_0x4a0a0d(0x2b3)](_0x231901[0x0],_0x41b0a6[0x0]);}catch(_0x56dd23){if(!(_0x56dd23 instanceof _0x279d71&&_0x56dd23['code']===_0x279d71[_0x4a0a0d(0x9c2)][_0x4a0a0d(0x951)]))throw _0x56dd23;_0x301706[_0x4a0a0d(0x1d5)](_0x3e3f45[_0x4a0a0d(0x6f6)],this['configs']['localNode'][_0x4a0a0d(0xa2a)](),_0x41b0a6[0x0],_0x56dd23[_0x4a0a0d(0x7c2)]);}}[_0x45ef94(0x300)](_0x277224,_0x570711){const _0xb33d33=_0x45ef94;return Array[_0xb33d33(0x157)](_0x277224)[_0xb33d33(0x9f6)]((_0x4d74f3,_0x4d4586)=>{const _0x31a487=_0xb33d33,_0xf62e45=this[_0x31a487(0xa04)]['getRemoteNode'](_0x4d4586);if(!_0xf62e45||_0xf62e45[_0x31a487(0x8cf)]()===_0x5d5e0a[_0x31a487(0x594)])return _0x4d74f3;const _0x440730=_0xf62e45[_0x31a487(0x25f)]();if(!_0x440730)return _0x4d74f3;const _0x5e3a88=_0x440730-_0x570711;return _0x5e3a88<=this[_0x31a487(0xa04)]['getMinConnections']()||_0x4d74f3[_0x31a487(0x59e)]([_0x4d4586,_0x5e3a88]),_0x4d74f3;},[])[_0xb33d33(0xb8)](([,_0x30dd06],[,_0xce877e])=>_0x30dd06-_0xce877e);}}const _0x59db81=[{'problemType':_0x8c9c38[_0x45ef94(0x574)],'remediations':[{'type':_0x53dfe9[_0x45ef94(0x580)],'component':_0x3d3be7[_0x45ef94(0x296)],'action':_0x568622['Downgrade']},{'type':_0x53dfe9['RemoteRemediation'],'component':_0x3d3be7[_0x45ef94(0x296)],'action':_0x568622[_0x45ef94(0x49e)]}]},{'problemType':_0x8c9c38['TimePerFrame'],'remediations':[{'type':_0x53dfe9[_0x45ef94(0x580)],'component':_0x3d3be7[_0x45ef94(0x296)],'action':_0x568622['Downgrade']}]},{'problemType':_0x8c9c38[_0x45ef94(0x592)],'remediations':[{'type':_0x53dfe9[_0x45ef94(0x580)],'component':_0x3d3be7['Resolution'],'action':_0x568622['Downgrade']}]},{'problemType':_0x8c9c38[_0x45ef94(0x8dc)],'remediations':[{'type':_0x53dfe9[_0x45ef94(0x580)],'component':_0x3d3be7['Resolution'],'action':_0x568622['Downgrade']}]},{'problemType':_0x8c9c38[_0x45ef94(0x7ff)],'remediations':[{'type':_0x53dfe9['Remediation'],'component':_0x3d3be7[_0x45ef94(0x7ff)],'action':_0x568622[_0x45ef94(0x49e)]}]},{'problemType':_0x8c9c38[_0x45ef94(0x819)],'remediations':[{'type':_0x53dfe9['Remediation'],'component':_0x3d3be7['Bitrate'],'action':_0x568622[_0x45ef94(0x49e)]}]},{'problemType':_0x8c9c38[_0x45ef94(0x982)],'remediations':[{'type':_0x53dfe9[_0x45ef94(0x580)],'component':_0x3d3be7['Bitrate'],'action':_0x568622[_0x45ef94(0x49e)]}]}];class _0x372188{[_0x45ef94(0x380)];['systemTopic'];[_0x45ef94(0x327)]=new Map();constructor(_0x2d05ae){const _0x1ebf82=_0x45ef94;this[_0x1ebf82(0x380)]=_0x2d05ae,this[_0x1ebf82(0x380)][_0x1ebf82(0x33f)][_0x1ebf82(0x324)](this);}[_0x45ef94(0x8b0)](){const _0x2e631f=_0x45ef94;this[_0x2e631f(0x380)][_0x2e631f(0x33f)][_0x2e631f(0x88e)](this);}[_0x45ef94(0x52e)](_0x504f18){const _0xa44848=_0x45ef94;this[_0xa44848(0x9da)]=_0x504f18;}[_0x45ef94(0xfc)](){const _0x14ba7d=_0x45ef94;delete this[_0x14ba7d(0x9da)];}['handleDetectionSystemEvents'](_0x40746c){const _0x386325=_0x45ef94;_0x40746c[_0x386325(0x2ec)][_0x386325(0x6e1)]===_0x4d53ee[_0x386325(0x29a)]&&this[_0x386325(0xa2c)](_0x40746c[_0x386325(0x2ec)][_0x386325(0x1a0)]);}[_0x45ef94(0x39a)](_0x173807){const _0x3e2f9a=_0x45ef94;_0x173807[_0x3e2f9a(0x2ec)]['type']===_0x53dfe9[_0x3e2f9a(0x539)]&&this[_0x3e2f9a(0x82f)](_0x173807['sourceId'],{'type':_0x53dfe9[_0x3e2f9a(0x580)],'component':_0x173807[_0x3e2f9a(0x2ec)][_0x3e2f9a(0x1a0)]['component'],'action':_0x173807[_0x3e2f9a(0x2ec)]['data']['action']});}[_0x45ef94(0xa2c)](_0x5a97d5){const _0x335361=_0x45ef94,_0x24e13e=_0x59db81[_0x335361(0x786)](_0x18a2b0=>_0x18a2b0[_0x335361(0x6b3)]===_0x5a97d5[_0x335361(0x6e1)]);_0x24e13e['remediations']?.[_0x335361(0xa3f)](_0x1da8e4=>{const _0x30e3d2=_0x335361;this[_0x30e3d2(0x82f)](_0x5a97d5[_0x30e3d2(0x436)],{'type':_0x5a97d5[_0x30e3d2(0x14a)]===_0x44c0fa['Sender']?_0x53dfe9['Remediation']:_0x53dfe9[_0x30e3d2(0x539)],'component':_0x1da8e4['component'],'action':_0x1da8e4[_0x30e3d2(0xae)]});});}[_0x45ef94(0x82f)](_0x3ac9c8,_0x65ef1b){const _0x183bfa=_0x45ef94;if(_0x65ef1b[_0x183bfa(0x6e1)]===_0x53dfe9[_0x183bfa(0x580)]){const _0x10c69a=Date[_0x183bfa(0x69)](),_0x4bc931=this['lastRemediations']['get'](_0x3ac9c8);if(_0x4bc931&&_0x10c69a-_0x4bc931<0x1388)return;this[_0x183bfa(0x327)][_0x183bfa(0x2b3)](_0x3ac9c8,_0x10c69a);}_0x301706[_0x183bfa(0x1d5)](_0x3e3f45[_0x183bfa(0x580)],_0x183bfa(0x6ef),_0x65ef1b),_0x301706[_0x183bfa(0x926)](_0x183bfa(0x257),{'clusterId':this[_0x183bfa(0x380)]['clusterId'],'nodeId':this[_0x183bfa(0x380)][_0x183bfa(0x5e4)][_0x183bfa(0xa2a)](),'nodeType':this['configs'][_0x183bfa(0x5e4)][_0x183bfa(0x6e1)],'remoteId':_0x3ac9c8,'data':{'type':_0x65ef1b[_0x183bfa(0x6e1)],'component':_0x65ef1b[_0x183bfa(0x139)],'action':_0x65ef1b[_0x183bfa(0xae)]}});let _0x77a1a5,_0x4e3ce8=_0x17190e;_0x65ef1b['type']===_0x53dfe9[_0x183bfa(0x539)]&&(_0x4e3ce8=this[_0x183bfa(0x380)][_0x183bfa(0x5e4)][_0x183bfa(0xa2a)](),_0x77a1a5=[_0x3ac9c8]),this['systemTopic']['publish']({'sourceId':_0x4e3ce8,'destinationIds':_0x77a1a5,'messageType':_0x43910d[_0x183bfa(0x580)],'content':{'type':_0x65ef1b[_0x183bfa(0x6e1)],'targetId':_0x3ac9c8,'data':_0x65ef1b}});}}const _0x59052c=0x3e8,_0x1d0054=0x7530,_0x294f6c=_0x45ef94(0x1ce),_0x32f235='remote-inbound-rtp',_0x393ec7=_0x45ef94(0x6d2),_0xecde65=[_0x294f6c,_0x32f235],_0x4c355e=[_0x393ec7];class _0x49dc77{[_0x45ef94(0x24f)]=0x0;[_0x45ef94(0x3b8)]=0x0;[_0x45ef94(0x85c)]=0x0;[_0x45ef94(0x835)]=0x0;[_0x45ef94(0x635)]=0x0;[_0x45ef94(0x447)]=0x0;[_0x45ef94(0x9c1)]=0x0;['currentBytes']=0x0;[_0x45ef94(0x65b)]=0x0;get['bitrate'](){const _0x1da5e1=_0x45ef94;return this[_0x1da5e1(0x447)]>0x0&&this['previousTimestamp']>0x0&&Date[_0x1da5e1(0x69)]()-this[_0x1da5e1(0x447)]<_0x1d0054?(this[_0x1da5e1(0x60e)]-this[_0x1da5e1(0x65b)])/(this[_0x1da5e1(0x447)]-this[_0x1da5e1(0x9c1)])*0x8*0x3e8:0x0;}['processReport'](_0x2b1b3d){const _0x400197=_0x45ef94;switch(_0x2b1b3d[_0x400197(0x6e1)]){case _0x393ec7:this[_0x400197(0x958)](_0x2b1b3d);break;case _0x294f6c:this['processOutboundReport'](_0x2b1b3d);break;case _0x32f235:this['processRemoteInboundReport'](_0x2b1b3d);}}[_0x45ef94(0x88b)](){const _0x3993d2=_0x45ef94;return{'bitrate':this[_0x3993d2(0x54c)],'packetsLostPerc':this[_0x3993d2(0x9c5)](),'roundTripTime':this[_0x3993d2(0x24f)],'jitter':this[_0x3993d2(0x85c)]};}[_0x45ef94(0x958)](_0x941e56){const _0x3adc8e=_0x45ef94;this[_0x3adc8e(0x42d)](_0x941e56[_0x3adc8e(0x7c3)]),this[_0x3adc8e(0x108)](_0x941e56[_0x3adc8e(0x645)]),this['packets']=_0x941e56[_0x3adc8e(0xd7)],this[_0x3adc8e(0x835)]=_0x941e56['packetsLost'],void 0x0!==_0x941e56[_0x3adc8e(0x85c)]?this['jitter']=_0x941e56['jitter']:this[_0x3adc8e(0x85c)]=0x0,void 0x0!==_0x941e56[_0x3adc8e(0x3b8)]?this[_0x3adc8e(0x3b8)]=_0x941e56[_0x3adc8e(0x3b8)]:this['estimatedPlayoutTimestamp']=0x0;}[_0x45ef94(0x979)](_0x3b30f9){const _0x4e3379=_0x45ef94;this[_0x4e3379(0x42d)](_0x3b30f9[_0x4e3379(0x9cf)]),this[_0x4e3379(0x108)](_0x3b30f9[_0x4e3379(0x645)]),this[_0x4e3379(0x635)]=_0x3b30f9[_0x4e3379(0x53c)];}['processRemoteInboundReport'](_0x1fd3bc){const _0x30bcf5=_0x45ef94;this[_0x30bcf5(0x24f)]=0x3e8*_0x1fd3bc['roundTripTime'],void 0x0!==_0x1fd3bc['jitter']?this['jitter']=_0x1fd3bc[_0x30bcf5(0x85c)]:this[_0x30bcf5(0x85c)]=0x0;}[_0x45ef94(0x9c5)](){const _0x27da3a=_0x45ef94;return this['packets']>0x0?this[_0x27da3a(0x835)]/this['packets']:0x0;}['setTimestamp'](_0x43425f){const _0x474d04=_0x45ef94;_0x43425f>this['currentTimestamp']&&(this[_0x474d04(0x9c1)]=this[_0x474d04(0x447)],this[_0x474d04(0x447)]=_0x43425f);}[_0x45ef94(0x42d)](_0x46f75e){const _0x252ea1=_0x45ef94;this[_0x252ea1(0x65b)]=this[_0x252ea1(0x60e)],this[_0x252ea1(0x60e)]=_0x46f75e;}}class _0x48843c extends _0x49dc77{}class _0xdd3ec1 extends _0x49dc77{[_0x45ef94(0x1cd)]=0x0;[_0x45ef94(0x8f)]=0x0;['frameHeight']=0x0;[_0x45ef94(0x6e)]=0x0;[_0x45ef94(0x74d)]=0x0;get[_0x45ef94(0x8ab)](){const _0x3070fe=_0x45ef94;return this[_0x3070fe(0x447)]>0x0&&this['previousTimestamp']>0x0&&Date[_0x3070fe(0x69)]()-this['currentTimestamp']<_0x1d0054?(this[_0x3070fe(0x6e)]-this[_0x3070fe(0x74d)])/(this[_0x3070fe(0x447)]-this['previousTimestamp'])*0x3e8:0x0;}get[_0x45ef94(0x700)](){const _0x5a92da=_0x45ef94;return this[_0x5a92da(0x1cd)]&&this[_0x5a92da(0x6e)]&&this[_0x5a92da(0x6e)]>0x0?this['frameTime']/this[_0x5a92da(0x6e)]:0x0;}set['frames'](_0x1dff3b){const _0x45f1b2=_0x45ef94;this[_0x45f1b2(0x74d)]=this[_0x45f1b2(0x6e)],this[_0x45f1b2(0x6e)]=_0x1dff3b;}[_0x45ef94(0x88b)](){const _0x21b71a=_0x45ef94;return{...super[_0x21b71a(0x88b)](),'FPS':this[_0x21b71a(0x8ab)],'timePerFrame':this['timePerFrame'],'frameWidth':this[_0x21b71a(0x8f)],'frameHeight':this['frameHeight']};}[_0x45ef94(0x958)](_0x582330){const _0x2a1d2e=_0x45ef94;super[_0x2a1d2e(0x958)](_0x582330),this[_0x2a1d2e(0x1cd)]=_0x582330[_0x2a1d2e(0x1ff)],this['frames']=_0x582330[_0x2a1d2e(0x953)],this[_0x2a1d2e(0x8f)]=_0x582330[_0x2a1d2e(0x8f)],this[_0x2a1d2e(0x21c)]=_0x582330[_0x2a1d2e(0x21c)];}['processOutboundReport'](_0x57f141){const _0x3b0d60=_0x45ef94;super[_0x3b0d60(0x979)](_0x57f141),this[_0x3b0d60(0x1cd)]=_0x57f141[_0x3b0d60(0x2f5)],this[_0x3b0d60(0x610)]=_0x57f141[_0x3b0d60(0x1fa)],this[_0x3b0d60(0x8f)]=_0x57f141[_0x3b0d60(0x8f)],this[_0x3b0d60(0x21c)]=_0x57f141['frameHeight'];}}class _0x4f6c99{[_0x45ef94(0x8f6)]=new _0x48843c();[_0x45ef94(0x703)]=new _0xdd3ec1();get[_0x45ef94(0x54c)](){const _0x2939a5=_0x45ef94;return this[_0x2939a5(0x8f6)][_0x2939a5(0x54c)]+this[_0x2939a5(0x703)]['bitrate'];}[_0x45ef94(0x7fb)](_0x484324){const _0x4153fd=_0x45ef94;return _0x484324[_0x4153fd(0xa3f)](_0x41d61e=>{const _0x4dd5c4=_0x4153fd;switch(_0x41d61e['kind']){case _0x4dd5c4(0x8f6):this[_0x4dd5c4(0x8f6)]['processReport'](_0x41d61e);break;case _0x4dd5c4(0x703):this['video'][_0x4dd5c4(0xc9)](_0x41d61e);}}),this[_0x4153fd(0x88b)]();}['getReport'](){const _0x3c4b0b=_0x45ef94;return{'audio':this[_0x3c4b0b(0x8f6)]['getReport'](),'video':this[_0x3c4b0b(0x703)][_0x3c4b0b(0x88b)](),'roundTripTime':this[_0x3c4b0b(0x3fb)](),'AudioVideoDelay':this['getAudioVideoDelay'](),'bitrate':this[_0x3c4b0b(0x54c)]};}[_0x45ef94(0x3fb)](){const _0x423af3=_0x45ef94;return Math[_0x423af3(0x7f4)]((this[_0x423af3(0x8f6)]['roundTripTime']+this[_0x423af3(0x703)][_0x423af3(0x24f)])/0x2);}[_0x45ef94(0xe7)](){const _0x54b3b8=_0x45ef94;return this['audio'][_0x54b3b8(0x3b8)]-this['video']['estimatedPlayoutTimestamp'];}}class _0xda7908{['senderCurrentTimestamp']=0x0;['senderPreviousTimestamp']=0x0;['receiverCurrentTimestamp']=0x0;[_0x45ef94(0x827)]=0x0;[_0x45ef94(0x41d)]=0x0;[_0x45ef94(0x9d7)]=0x0;[_0x45ef94(0x433)]=0x0;[_0x45ef94(0x33c)]=0x0;[_0x45ef94(0x221)]=0x0;[_0x45ef94(0x957)]=0x0;['senderTimeProcessing']=0x0;['receiverTimeProcessing']=0x0;[_0x45ef94(0x24f)]=0x0;get['bitrate'](){const _0xdc4f2a=_0x45ef94;return this['senderBitrate']+this[_0xdc4f2a(0x5a3)];}get[_0x45ef94(0x255)](){const _0xec4b6f=_0x45ef94;return this[_0xec4b6f(0x3a6)]>0x0&&this[_0xec4b6f(0x143)]>0x0&&Date['now']()-this['senderCurrentTimestamp']<_0x1d0054?(this[_0xec4b6f(0x41d)]-this[_0xec4b6f(0x9d7)])/(this[_0xec4b6f(0x3a6)]-this[_0xec4b6f(0x143)])*0x8*0x3e8:0x0;}get['receiverBitrate'](){const _0x1ead18=_0x45ef94;return this[_0x1ead18(0x50f)]>0x0&&this[_0x1ead18(0x827)]>0x0&&Date['now']()-this[_0x1ead18(0x50f)]<_0x1d0054?(this['receiverCurrentBytes']-this[_0x1ead18(0x33c)])/(this[_0x1ead18(0x50f)]-this['receiverPreviousTimestamp'])*0x8*0x3e8:0x0;}['processReport'](_0x1a01f5){const _0x27af8c=_0x45ef94;switch(_0x1a01f5['origin']){case _0x44c0fa[_0x27af8c(0x6c2)]:this['processSenderReport'](_0x1a01f5);break;case _0x44c0fa[_0x27af8c(0x7a)]:this['processReceiverReport'](_0x1a01f5);}}[_0x45ef94(0x88b)](){const _0x4569ed=_0x45ef94;return{'bitrate':this[_0x4569ed(0x54c)],'senderBitrate':this[_0x4569ed(0x255)],'receiverBitrate':this[_0x4569ed(0x5a3)],'totalBytes':this['getTotalBytes'](),'senderTotalBytes':this[_0x4569ed(0x362)](),'receiverTotalBytes':this[_0x4569ed(0x4b8)](),'totalMessages':this['senderTotalMessages']+this[_0x4569ed(0x957)],'senderTotalMessages':this[_0x4569ed(0x221)],'receiverTotalMessages':this['receiverTotalMessages'],'timeProcessing':this[_0x4569ed(0x3db)]+this['receiverTimeProcessing'],'senderTimeProcessing':this[_0x4569ed(0x3db)],'receiverTimeProcessing':this[_0x4569ed(0x330)],'roundTripTime':this[_0x4569ed(0x24f)]};}[_0x45ef94(0x1b0)](){const _0x2aa8ec=_0x45ef94;return this[_0x2aa8ec(0x41d)]+this[_0x2aa8ec(0x433)];}[_0x45ef94(0x362)](){const _0x4d1b3=_0x45ef94;return this[_0x4d1b3(0x41d)];}[_0x45ef94(0x4b8)](){const _0x205129=_0x45ef94;return this[_0x205129(0x433)];}[_0x45ef94(0x432)](_0x4453d6){const _0x4cd7d8=_0x45ef94;this[_0x4cd7d8(0x9d8)](_0x4453d6['timestamp']),this[_0x4cd7d8(0x42d)](_0x4453d6[_0x4cd7d8(0x9cf)]),this[_0x4cd7d8(0x221)]=_0x4453d6[_0x4cd7d8(0x93c)],this['senderTimeProcessing']=_0x4453d6['timeSending'],this[_0x4cd7d8(0x24f)]=_0x4453d6[_0x4cd7d8(0x24f)];}[_0x45ef94(0x6c1)](_0x20a069){const _0x2550ea=_0x45ef94;this[_0x2550ea(0xa19)](_0x20a069[_0x2550ea(0x645)]),this[_0x2550ea(0x8ac)](_0x20a069['bytesReceived']),this[_0x2550ea(0x957)]=_0x20a069[_0x2550ea(0x266)],this['receiverTimeProcessing']=_0x20a069[_0x2550ea(0xeb)];}['setSenderTimestamp'](_0x416894){const _0x30ebf5=_0x45ef94;_0x416894>this[_0x30ebf5(0x3a6)]&&(this['senderPreviousTimestamp']=this[_0x30ebf5(0x3a6)],this[_0x30ebf5(0x3a6)]=_0x416894);}[_0x45ef94(0xa19)](_0xac919e){const _0x10749e=_0x45ef94;_0xac919e>this[_0x10749e(0x50f)]&&(this[_0x10749e(0x827)]=this[_0x10749e(0x50f)],this[_0x10749e(0x50f)]=_0xac919e);}[_0x45ef94(0x42d)](_0x254a75){const _0x108531=_0x45ef94;this[_0x108531(0x9d7)]=this['senderCurrentBytes'],this['senderCurrentBytes']=_0x254a75;}[_0x45ef94(0x8ac)](_0x1f8c39){const _0x4bd8c5=_0x45ef94;this[_0x4bd8c5(0x33c)]=this[_0x4bd8c5(0x433)],this[_0x4bd8c5(0x433)]=_0x1f8c39;}}class _0x4c172d{[_0x45ef94(0x60d)]=new Map();['receiverStreams']=new Map();[_0x45ef94(0x6fb)]=new _0xda7908();get[_0x45ef94(0x255)](){const _0x4a697a=_0x45ef94;let _0x14cd75=0x0;return this[_0x4a697a(0x60d)]['forEach'](_0x28bffa=>{const _0x280287=_0x4a697a;_0x14cd75+=_0x28bffa[_0x280287(0x54c)];}),_0x14cd75+=this[_0x4a697a(0x6fb)]['senderBitrate'],_0x14cd75;}get['receiverBitrate'](){const _0x1ff4a8=_0x45ef94;let _0x45520a=0x0;return this[_0x1ff4a8(0x82c)][_0x1ff4a8(0xa3f)](_0x1060e3=>{const _0xf3cf54=_0x1ff4a8;_0x45520a+=_0x1060e3[_0xf3cf54(0x54c)];}),_0x45520a+=this[_0x1ff4a8(0x6fb)][_0x1ff4a8(0x5a3)],_0x45520a;}get[_0x45ef94(0x54c)](){const _0x1f28c3=_0x45ef94;return this[_0x1f28c3(0x255)]+this[_0x1f28c3(0x5a3)];}[_0x45ef94(0x7fb)](_0x33d7e2,_0x28cf9c){const _0x580dfd=_0x45ef94,_0x5622d1=[],_0x19adc8=[];return _0x33d7e2 instanceof Array?_0x33d7e2[_0x580dfd(0xa3f)](_0x12fb2e=>{const _0x5aafb4=_0x580dfd;_0x12fb2e[_0x5aafb4(0xa3f)](_0x332e4b=>{const _0x8c5015=_0x5aafb4;_0x4c355e[_0x8c5015(0x62f)](_0x332e4b[_0x8c5015(0x6e1)])&&_0x5622d1[_0x8c5015(0x59e)](_0x332e4b),_0xecde65[_0x8c5015(0x62f)](_0x332e4b[_0x8c5015(0x6e1)])&&_0x19adc8[_0x8c5015(0x59e)](_0x332e4b);});}):this['dataChannel']['processReport'](_0x33d7e2),_0x5622d1['length']>0x0&&_0x28cf9c?{...this[_0x580dfd(0xa4e)](_0x28cf9c,_0x5622d1),'origin':_0x44c0fa['Receiver'],'streamId':_0x28cf9c}:_0x19adc8[_0x580dfd(0x453)]>0x0&&_0x28cf9c?{...this[_0x580dfd(0xf8)](_0x28cf9c,_0x19adc8),'origin':_0x44c0fa[_0x580dfd(0x6c2)],'streamId':_0x28cf9c}:void 0x0;}[_0x45ef94(0x88b)](){const _0x28f0bf=_0x45ef94,_0x1109d3={};this[_0x28f0bf(0x60d)][_0x28f0bf(0xa3f)]((_0x536404,_0x599fae)=>{_0x1109d3[_0x599fae]=_0x536404['getReport']();});const _0x35b587={};return this['receiverStreams'][_0x28f0bf(0xa3f)]((_0x48c083,_0x2d3967)=>{const _0x7509d5=_0x28f0bf;_0x35b587[_0x2d3967]=_0x48c083[_0x7509d5(0x88b)]();}),{'bitrate':this[_0x28f0bf(0x54c)],'senderBitrate':this[_0x28f0bf(0x255)],'receiverBitrate':this[_0x28f0bf(0x5a3)],'senderStreams':_0x1109d3,'receiverStreams':_0x35b587,'dataChannel':this[_0x28f0bf(0x6fb)][_0x28f0bf(0x88b)]()};}[_0x45ef94(0xa4e)](_0x4f1424,_0x223ad9){const _0x587509=_0x45ef94;return this[_0x587509(0x82c)][_0x587509(0x3bc)](_0x4f1424)||this[_0x587509(0x82c)]['set'](_0x4f1424,new _0x4f6c99()),this[_0x587509(0x82c)][_0x587509(0x1f5)](_0x4f1424)[_0x587509(0x7fb)](_0x223ad9);}[_0x45ef94(0xf8)](_0x416212,_0x45d11c){const _0x395133=_0x45ef94;return this[_0x395133(0x60d)][_0x395133(0x3bc)](_0x416212)||this['senderStreams'][_0x395133(0x2b3)](_0x416212,new _0x4f6c99()),this['senderStreams'][_0x395133(0x1f5)](_0x416212)[_0x395133(0x7fb)](_0x45d11c);}}class _0x1a0108{[_0x45ef94(0x38d)]=new Map();[_0x45ef94(0x365)]=0x0;[_0x45ef94(0x650)]=0x0;[_0x45ef94(0x99b)]=new Map();[_0x45ef94(0x43a)]=new Map();['keyValueDatabases']=new Map();['generativeAIContexts']=new Map();[_0x45ef94(0x14b)]=new Map();[_0x45ef94(0x45d)]=new Map();[_0x45ef94(0x2f8)]=new Map();[_0x45ef94(0xa14)]=new Map();[_0x45ef94(0x221)]=new Map();[_0x45ef94(0x957)]=new Map();[_0x45ef94(0x3db)]=new Map();[_0x45ef94(0x330)]=new Map();[_0x45ef94(0x5b5)]=new Map();[_0x45ef94(0x9da)];['getReport'](){const _0x3676fa=_0x45ef94,_0x215681={};this[_0x3676fa(0x38d)]['forEach']((_0x59deb8,_0x1bed49)=>{_0x215681[_0x1bed49]=_0x59deb8['getReport']();});let _0x51a9de=0x0;this['senderTimeProcessing'][_0x3676fa(0xa3f)](_0xf4bc78=>{_0x51a9de+=_0xf4bc78;});let _0x1d7475=0x0;this[_0x3676fa(0x330)]['forEach'](_0x28a63a=>{_0x1d7475+=_0x28a63a;});const _0x4ae00a=_0x51a9de+_0x1d7475;let _0x160893={'messages':{'total':0x0}};this[_0x3676fa(0x5b5)][_0x3676fa(0xa3f)](_0x59dcc8=>{const _0x180e17=_0x3676fa;Object[_0x180e17(0x428)](_0x59dcc8)[_0x180e17(0xa3f)](_0x5a97e3=>{const _0x5773ff=_0x180e17;_0x160893[_0x5a97e3]||(_0x160893[_0x5a97e3]={}),Object[_0x5773ff(0x428)](_0x59dcc8[_0x5a97e3])[_0x5773ff(0xa3f)](_0x4e17e3=>{_0x160893[_0x5a97e3][_0x4e17e3]||(_0x160893[_0x5a97e3][_0x4e17e3]=0x0),_0x160893[_0x5a97e3][_0x4e17e3]+=_0x59dcc8[_0x5a97e3][_0x4e17e3];});});});let _0x35f4e6=0x0,_0x4300a1=0x0,_0x10e3f3=0x0,_0x382207=0x0,_0x2c77fe=0x0;return this[_0x3676fa(0x99b)][_0x3676fa(0xa3f)](_0x3ac773=>{const _0x2a41d8=_0x3676fa;_0x4300a1+=_0x3ac773[_0x2a41d8(0x93c)],_0x10e3f3+=_0x3ac773[_0x2a41d8(0x266)],_0x382207+=_0x3ac773['bytesSent'],_0x2c77fe+=_0x3ac773['bytesReceived'];}),this[_0x3676fa(0x43a)][_0x3676fa(0xa3f)](_0xceaa90=>{const _0x16eecf=_0x3676fa;_0x35f4e6+=_0xceaa90[_0x16eecf(0x176)],_0x4300a1+=_0xceaa90['messagesSent'],_0x10e3f3+=_0xceaa90[_0x16eecf(0x266)],_0x382207+=_0xceaa90[_0x16eecf(0x9cf)],_0x2c77fe+=_0xceaa90[_0x16eecf(0x7c3)];}),this['keyValueDatabases'][_0x3676fa(0xa3f)](_0x29ade0=>{const _0xe2af4b=_0x3676fa;_0x35f4e6+=_0x29ade0['storage'],_0x4300a1+=_0x29ade0[_0xe2af4b(0x93c)],_0x10e3f3+=_0x29ade0[_0xe2af4b(0x266)],_0x382207+=_0x29ade0[_0xe2af4b(0x9cf)],_0x2c77fe+=_0x29ade0[_0xe2af4b(0x7c3)];}),this[_0x3676fa(0x44e)][_0x3676fa(0xa3f)](_0xec5591=>{const _0x148405=_0x3676fa;_0x35f4e6+=_0xec5591['storage'],_0x4300a1+=_0xec5591[_0x148405(0x93c)],_0x10e3f3+=_0xec5591[_0x148405(0x266)],_0x382207+=_0xec5591[_0x148405(0x9cf)],_0x2c77fe+=_0xec5591[_0x148405(0x7c3)];}),this[_0x3676fa(0x14b)]['forEach'](_0x508c2e=>{const _0x354fd4=_0x3676fa;_0x35f4e6+=_0x508c2e[_0x354fd4(0x176)],_0x4300a1+=_0x508c2e[_0x354fd4(0x93c)],_0x10e3f3+=_0x508c2e[_0x354fd4(0x266)],_0x382207+=_0x508c2e[_0x354fd4(0x9cf)],_0x2c77fe+=_0x508c2e[_0x354fd4(0x7c3)];}),this['vectorDatabases'][_0x3676fa(0xa3f)](_0x174c3d=>{const _0x23b914=_0x3676fa;_0x35f4e6+=_0x174c3d['storage'],_0x4300a1+=_0x174c3d[_0x23b914(0x93c)],_0x10e3f3+=_0x174c3d['messagesReceived'],_0x382207+=_0x174c3d['bytesSent'],_0x2c77fe+=_0x174c3d[_0x23b914(0x7c3)];}),this[_0x3676fa(0x2f8)][_0x3676fa(0xa3f)](_0x52cfa6=>{const _0x5852cb=_0x3676fa;_0x35f4e6+=_0x52cfa6[_0x5852cb(0x176)],_0x4300a1+=_0x52cfa6['messagesSent'],_0x10e3f3+=_0x52cfa6['messagesReceived'],_0x382207+=_0x52cfa6[_0x5852cb(0x9cf)],_0x2c77fe+=_0x52cfa6['bytesReceived'];}),{'STVolatility':this[_0x3676fa(0x439)](),'DTVolatility':this[_0x3676fa(0x8ff)](),'bitrate':this[_0x3676fa(0x3c2)](),'senderBitrate':this['getSenderBitrate'](),'receiverBitrate':this[_0x3676fa(0x668)](),'totalStorageSize':_0x35f4e6,'totalMessages':_0x4300a1+_0x10e3f3,'totalMessagesSent':_0x4300a1,'totalMessagesReceived':_0x10e3f3,'totalBytes':_0x382207+_0x2c77fe,'totalBytesSent':_0x382207,'totalBytesReceived':_0x2c77fe,'systemMessages':_0x160893,'timeProcessing':_0x4ae00a,'nodes':_0x215681,'pubsubTopics':Object[_0x3676fa(0x31a)](this[_0x3676fa(0x99b)]),'objectStores':Object[_0x3676fa(0x31a)](this[_0x3676fa(0x43a)]),'keyValueDatabases':Object[_0x3676fa(0x31a)](this[_0x3676fa(0x9b1)]),'generativeAIContexts':Object[_0x3676fa(0x31a)](this['generativeAIContexts']),'generativeAIWorkers':Object[_0x3676fa(0x31a)](this[_0x3676fa(0x14b)]),'vectorDatabases':Object[_0x3676fa(0x31a)](this[_0x3676fa(0x45d)]),'graphDatabases':Object['fromEntries'](this[_0x3676fa(0x2f8)]),'externalStorages':Object[_0x3676fa(0x31a)](this[_0x3676fa(0xa14)])};}[_0x45ef94(0x231)](_0x3b429e){const _0x2a17d1=_0x45ef94;this[_0x2a17d1(0x38d)]['set'](_0x3b429e,new _0x4c172d());}['removeRemoteNode'](_0x388e1a){const _0x24c30e=_0x45ef94;this[_0x24c30e(0x38d)]['delete'](_0x388e1a);}[_0x45ef94(0x7fb)](_0xcdbe3,_0x370505,_0x983914){const _0x594f5f=_0x45ef94;_0x370505 instanceof Array||this[_0x594f5f(0x5ca)](_0xcdbe3,_0x370505);const _0x5c2015=this[_0x594f5f(0x38d)]['get'](_0xcdbe3)?.[_0x594f5f(0x7fb)](_0x370505,_0x983914);_0x5c2015&&this[_0x594f5f(0x9da)][_0x594f5f(0x379)]({'sourceId':_0x17190e,'messageType':_0x43910d['Stats'],'content':{'type':_0x5c2976[_0x594f5f(0xcb)],'data':{..._0x5c2015,'nodeId':_0xcdbe3}}});}[_0x45ef94(0x41f)](_0x354249){const _0x5b1026=_0x45ef94;this[_0x5b1026(0x852)](_0x354249[_0x5b1026(0x853)]),this[_0x5b1026(0x182)](_0x354249['durationTime']),this[_0x5b1026(0x9da)]['publish']({'sourceId':_0x17190e,'messageType':_0x43910d[_0x5b1026(0x936)],'content':{'type':_0x5c2976[_0x5b1026(0xa43)],'data':{'STVolatility':this[_0x5b1026(0x439)](),'DTVolatility':this[_0x5b1026(0x8ff)]()}}});}['processServiceReport'](_0x407301,_0x2eafe4,_0x5b361e){const _0x591172=_0x45ef94;switch(_0x2eafe4){case _0x292504[_0x591172(0x960)]:this[_0x591172(0x99b)][_0x591172(0x2b3)](_0x407301,_0x5b361e);break;case _0x292504['ObjectStoreStats']:this[_0x591172(0x43a)]['set'](_0x407301,_0x5b361e);break;case _0x292504['KeyValueDatabaseStats']:this[_0x591172(0x9b1)][_0x591172(0x2b3)](_0x407301,_0x5b361e);break;case _0x292504[_0x591172(0x59d)]:this[_0x591172(0x44e)][_0x591172(0x2b3)](_0x407301,_0x5b361e);break;case _0x292504['GenerativeAIWorkerStats']:this[_0x591172(0x14b)][_0x591172(0x2b3)](_0x407301,_0x5b361e);break;case _0x292504[_0x591172(0x185)]:this[_0x591172(0x45d)][_0x591172(0x2b3)](_0x407301,_0x5b361e);break;case _0x292504[_0x591172(0x8df)]:this[_0x591172(0x2f8)]['set'](_0x407301,_0x5b361e);break;case _0x292504[_0x591172(0x2ce)]:this['externalStorages'][_0x591172(0x2b3)](_0x407301,_0x5b361e);}}['registerSystemPublisher'](_0x51cd37){const _0x4c5fc2=_0x45ef94;this[_0x4c5fc2(0x9da)]=_0x51cd37;}[_0x45ef94(0xfc)](){delete this['systemTopic'];}[_0x45ef94(0x439)](){const _0x42cd30=_0x45ef94;return this[_0x42cd30(0x365)]>0x0&&this['scheduleTime']-_0x59052c>0x0?(this[_0x42cd30(0x365)]-_0x59052c)/_0x59052c:0x0;}[_0x45ef94(0x8ff)](){const _0x20c290=_0x45ef94;return this[_0x20c290(0x650)]>0x0&&this[_0x20c290(0x650)]-0x64>0x0?(this[_0x20c290(0x650)]-0x64)/0x64:0x0;}['getSenderBitrate'](){let _0x25c87c=0x0;return this['nodes']['forEach'](_0x3b0592=>{const _0x16fd5b=a0_0x395e;_0x25c87c+=_0x3b0592[_0x16fd5b(0x255)];}),_0x25c87c;}[_0x45ef94(0x668)](){const _0x2b941e=_0x45ef94;let _0x4f94c7=0x0;return this['nodes'][_0x2b941e(0xa3f)](_0x19f13b=>{_0x4f94c7+=_0x19f13b['receiverBitrate'];}),_0x4f94c7;}[_0x45ef94(0x3c2)](){const _0x3ec199=_0x45ef94;let _0x794af6=0x0;return this[_0x3ec199(0x38d)][_0x3ec199(0xa3f)](_0x4aa97d=>{const _0xf56b91=_0x3ec199;_0x794af6+=_0x4aa97d[_0xf56b91(0x54c)];}),_0x794af6;}[_0x45ef94(0x852)](_0x8fc94f){const _0x1a7dde=_0x45ef94;this[_0x1a7dde(0x365)]=_0x8fc94f;}['setDurationTime'](_0x4f5a61){const _0x3959d2=_0x45ef94;this[_0x3959d2(0x650)]=_0x4f5a61;}[_0x45ef94(0x5ca)](_0x2e7730,_0x430444){const _0xb0ddab=_0x45ef94;switch(_0x430444[_0xb0ddab(0x14a)]){case _0x44c0fa[_0xb0ddab(0x6c2)]:this[_0xb0ddab(0x432)](_0x2e7730,_0x430444);break;case _0x44c0fa[_0xb0ddab(0x7a)]:this['processReceiverReport'](_0x2e7730,_0x430444);}}[_0x45ef94(0x432)](_0x4651ce,_0x2d472d){const _0x1830ad=_0x45ef94;this[_0x1830ad(0x221)]['set'](_0x4651ce,_0x2d472d[_0x1830ad(0x93c)]),this[_0x1830ad(0x3db)]['set'](_0x4651ce,_0x2d472d[_0x1830ad(0x349)]);}['processReceiverReport'](_0x2e61fd,_0x19a528){const _0x339c16=_0x45ef94;this[_0x339c16(0x957)][_0x339c16(0x2b3)](_0x2e61fd,_0x19a528[_0x339c16(0x266)]),this[_0x339c16(0x330)][_0x339c16(0x2b3)](_0x2e61fd,_0x19a528[_0x339c16(0xeb)]),this[_0x339c16(0x5b5)]['set'](_0x2e61fd,_0x19a528[_0x339c16(0x5b5)]);}}class _0x1ebcd2{[_0x45ef94(0x380)];[_0x45ef94(0x628)]=new Set();['nextNodeId'];[_0x45ef94(0x2dc)];[_0x45ef94(0x14e)];[_0x45ef94(0x7ca)]=new _0x1a0108();constructor(_0x568756){const _0x317e37=_0x45ef94;this[_0x317e37(0x380)]=_0x568756,this[_0x317e37(0x380)][_0x317e37(0x33f)][_0x317e37(0x324)](this['statsReport']),this['statsCollection']=this[_0x317e37(0x793)](),this[_0x317e37(0x14e)]=this['setupStatsReporting']();}['close'](){const _0x48b484=_0x45ef94;this[_0x48b484(0x380)][_0x48b484(0x33f)][_0x48b484(0x88e)](this['statsReport']),this[_0x48b484(0x14e)](),this[_0x48b484(0x2dc)]();}[_0x45ef94(0x231)](_0x3d7feb){const _0x177935=_0x45ef94;this[_0x177935(0x628)][_0x177935(0x9fb)](_0x3d7feb),this[_0x177935(0x7ca)][_0x177935(0x231)](_0x3d7feb);}[_0x45ef94(0x5f6)](_0x569ca2){const _0xbd624e=_0x45ef94;this['remoteNodes'][_0xbd624e(0x991)](_0x569ca2),this['statsReport'][_0xbd624e(0x5f6)](_0x569ca2);}[_0x45ef94(0x2b4)](_0x201199){const _0xa7d5d4=_0x45ef94;if(_0x201199['content']['type']===_0x565f29['Stats']){const {nodeId:_0x5cb0d1,streamId:_0x29bffe,stats:_0xdb51e9}=_0x201199[_0xa7d5d4(0x2ec)];this['statsReport']['processReports'](_0x5cb0d1,_0xdb51e9,_0x29bffe);}}['handleContentSystemEvents'](_0x45edce){const _0x1197fa=_0x45ef94;switch(_0x45edce['content'][_0x1197fa(0x6e1)]){case _0x292504[_0x1197fa(0x28a)]:case _0x292504[_0x1197fa(0x3be)]:case _0x292504[_0x1197fa(0x960)]:case _0x292504[_0x1197fa(0x59d)]:case _0x292504['GenerativeAIWorkerStats']:case _0x292504[_0x1197fa(0x185)]:case _0x292504[_0x1197fa(0x8df)]:case _0x292504[_0x1197fa(0x2ce)]:this[_0x1197fa(0x7ca)]['processServiceReport'](_0x45edce[_0x1197fa(0x2ec)][_0x1197fa(0x8f4)],_0x45edce[_0x1197fa(0x2ec)][_0x1197fa(0x6e1)],_0x45edce[_0x1197fa(0x2ec)]['stats']);}}[_0x45ef94(0x79b)](){const _0x4c2aed=_0x45ef94;return _0x4f43db[_0x4c2aed(0x886)](()=>{const _0x2c2200=_0x4c2aed,_0x46cd0f=this[_0x2c2200(0x7ca)][_0x2c2200(0x88b)]();_0x301706[_0x2c2200(0x1d5)](_0x3e3f45['Stats'],'Stats:\x20report',_0x46cd0f),(0x0,_0x2a769c[_0x2c2200(0x9d)])((0x0,_0x2a769c[_0x2c2200(0x8b7)])(_0x5e415d[_0x2c2200(0x8f2)](),_0x2c2200(0x61e)+this[_0x2c2200(0x380)]['vendorId']+'/stats'),{'clusterId':this['configs'][_0x2c2200(0x9aa)],'nodeId':this['configs']['localNode'][_0x2c2200(0xa2a)](),'nodeType':this['configs'][_0x2c2200(0x5e4)]['type'],'timestamp':(0x0,_0x2a769c['serverTimestamp'])(),'report':_0x46cd0f}),_0x301706[_0x2c2200(0x926)](_0x2c2200(0x135),{'clusterId':this[_0x2c2200(0x380)][_0x2c2200(0x9aa)],'nodeId':this[_0x2c2200(0x380)][_0x2c2200(0x5e4)][_0x2c2200(0xa2a)](),'nodeType':this[_0x2c2200(0x380)]['localNode'][_0x2c2200(0x6e1)],'data':{'report':_0x46cd0f}});},_0x1d0054);}[_0x45ef94(0x793)](){const _0x2b59cd=_0x45ef94;let _0x1cb1bb=!0x1,_0xbc3956=Date[_0x2b59cd(0x69)]();return _0x4f43db[_0x2b59cd(0x886)](async()=>{const _0x99af40=_0x2b59cd;if(_0x1cb1bb)return;if(_0x1cb1bb=!0x0,0x0===this[_0x99af40(0x628)][_0x99af40(0x77a)])return delete this[_0x99af40(0x26c)],void(_0x1cb1bb=!0x1);const _0xa8ff78=Date[_0x99af40(0x69)]();this[_0x99af40(0x30f)]();try{await this[_0x99af40(0x380)][_0x99af40(0x33f)][_0x99af40(0x754)](this[_0x99af40(0x26c)]);}catch(_0x4691f6){}this['statsReport'][_0x99af40(0x41f)]({'secheduleTime':_0xa8ff78-_0xbc3956,'durationTime':Date['now']()-_0xa8ff78}),_0xbc3956=_0xa8ff78,_0x1cb1bb=!0x1;},_0x59052c);}[_0x45ef94(0x30f)](){const _0x2dc69d=_0x45ef94;let _0x26ba93,_0x12e451=!0x1;this[_0x2dc69d(0x26c)]&&(this[_0x2dc69d(0x628)][_0x2dc69d(0x3bc)](this[_0x2dc69d(0x26c)])||delete this[_0x2dc69d(0x26c)]);for(const _0x3d7cbf of this['remoteNodes'])if(_0x26ba93||(_0x26ba93=_0x3d7cbf),this[_0x2dc69d(0x26c)]!==_0x3d7cbf){if(_0x12e451)return void(this[_0x2dc69d(0x26c)]=_0x3d7cbf);}else _0x12e451=!0x0,delete this[_0x2dc69d(0x26c)];this[_0x2dc69d(0x26c)]||(this[_0x2dc69d(0x26c)]=_0x26ba93);}}class _0x4ac1dc{['source'];[_0x45ef94(0x732)];['systemTopic'];constructor(_0x206412,_0x573ca4){const _0x2e63c5=_0x45ef94;this[_0x2e63c5(0x11d)]=_0x206412,this['destination']=_0x573ca4;}['registerSystemPublisher'](_0x318eef){const _0x2fd457=_0x45ef94;this[_0x2fd457(0x9da)]=_0x318eef;}[_0x45ef94(0xfc)](){const _0x40e179=_0x45ef94;delete this[_0x40e179(0x9da)];}}class _0x3693c9 extends _0x4ac1dc{['source'];[_0x45ef94(0x732)];[_0x45ef94(0x474)];constructor(_0x387fbc,_0x5aeab3,_0x66f13a){const _0x52892c=_0x45ef94;super(_0x387fbc,_0x5aeab3),this[_0x52892c(0x11d)]=_0x387fbc,this[_0x52892c(0x732)]=_0x5aeab3,this[_0x52892c(0x474)]=_0x66f13a;}[_0x45ef94(0x79d)](_0xb12945,_0x469839,_0x451eb1){const _0x1d871a=_0x45ef94;if(this[_0x1d871a(0x732)][_0x1d871a(0xf7)]()===_0x29184c[_0x1d871a(0xd2)][_0x1d871a(0x224)]){const _0x145d93={'type':_0x3d7bb7['SubscribeMediaStream'],'label':this['destination'][_0x1d871a(0x32b)](),'ownerId':_0xb12945,'trackKinds':_0x469839??this[_0x1d871a(0x732)][_0x1d871a(0x487)](),'params':_0x451eb1};this[_0x1d871a(0x9da)][_0x1d871a(0x379)]({'sourceId':this[_0x1d871a(0x11d)][_0x1d871a(0x361)](),'destinationIds':[this[_0x1d871a(0x11d)]['getRemoteId']()],'messageType':_0x43910d[_0x1d871a(0x5c4)],'content':_0x145d93}),this[_0x1d871a(0x474)]=_0x451eb1;}}[_0x45ef94(0x3c5)](_0x1a35b9,_0x1758e2){const _0x2e727f=_0x45ef94;if(this[_0x2e727f(0x732)]['getContentType']()===_0x29184c[_0x2e727f(0xd2)][_0x2e727f(0x224)]){const _0x4e3d3a={'type':_0x3d7bb7[_0x2e727f(0x5c1)],'label':this['destination'][_0x2e727f(0x32b)](),'ownerId':_0x1a35b9,'params':_0x1758e2};this[_0x2e727f(0x9da)][_0x2e727f(0x379)]({'sourceId':this[_0x2e727f(0x11d)]['getLocalId'](),'destinationIds':[this[_0x2e727f(0x11d)][_0x2e727f(0x72d)]()],'messageType':_0x43910d[_0x2e727f(0x5c4)],'content':_0x4e3d3a}),this[_0x2e727f(0x474)]=_0x1758e2;}}[_0x45ef94(0x2b6)](_0x4e94cc,_0x3b92ba,_0x3fc1fd){const _0x5208c2=_0x45ef94;if(this[_0x5208c2(0x732)][_0x5208c2(0xf7)]()===_0x29184c[_0x5208c2(0xd2)][_0x5208c2(0x224)]){const _0x2d7dd0={'type':_0x3d7bb7[_0x5208c2(0x919)],'label':this[_0x5208c2(0x732)]['getLabel'](),'ownerId':_0x4e94cc,'trackKinds':_0x3fc1fd??this['destination'][_0x5208c2(0x487)](),'remainingTracks':_0x3b92ba};this[_0x5208c2(0x9da)][_0x5208c2(0x379)]({'sourceId':this['source'][_0x5208c2(0x361)](),'destinationIds':[this[_0x5208c2(0x11d)]['getRemoteId']()],'messageType':_0x43910d['Subscription'],'content':_0x2d7dd0});}}}class _0x54de3a{['currentDistance'];[_0x45ef94(0x107)];['tracks'];[_0x45ef94(0x9da)];['answers']=new Set();[_0x45ef94(0x421)]=Date[_0x45ef94(0x69)]();[_0x45ef94(0x474)];[_0x45ef94(0x21e)]=0x0;constructor(_0x485e57,_0x3fedc4,_0xcca38e,_0x4ecdb7){const _0x130cc8=_0x45ef94;this[_0x130cc8(0xf3)]=_0x3fedc4,this[_0x130cc8(0x107)]=_0xcca38e,this[_0x130cc8(0x285)]=_0x4ecdb7,_0x485e57[_0x130cc8(0xa3f)](_0x3aaf8c=>{const _0x476755=_0x130cc8;this[_0x476755(0x9b5)]['add']({'nodeId':_0x3aaf8c,'type':_0x25109d[_0x476755(0x290)]});});}[_0x45ef94(0x1e6)](){return this['tracks'];}[_0x45ef94(0x52e)](_0x19a91d){this['systemTopic']=_0x19a91d;}['unregisterSystemPublisher'](){const _0x42dc72=_0x45ef94;delete this[_0x42dc72(0x9da)];}[_0x45ef94(0x9a1)](_0x330675,_0xe0165){const _0x428083=_0x45ef94;this[_0x428083(0x421)]=Date[_0x428083(0x69)](),this[_0x428083(0x9b5)][_0x428083(0x1ac)](),_0x330675[_0x428083(0xa3f)](_0x195f2c=>{const _0x56aff7=_0x428083;this['answers'][_0x56aff7(0x9fb)]({'nodeId':_0x195f2c,'type':_0x25109d[_0x56aff7(0x290)]});}),this[_0x428083(0x21e)]+=0x1,this[_0x428083(0xf3)]=_0xe0165;}[_0x45ef94(0x248)](_0x1c1be6,_0x1fe0d2,_0x207234,_0x5a457e,_0x199dc8){const _0x29a281=_0x45ef94;if(this[_0x29a281(0x21e)]>0xa)throw new _0x279d71(_0x279d71[_0x29a281(0x9c2)][_0x29a281(0x5be)],{'answers':Array['from'](this[_0x29a281(0x9b5)])[_0x29a281(0x1f8)](_0x921eed=>({'nodeId':_0x921eed[_0x29a281(0x436)],'type':_0x921eed['type']}))});const _0x1eac71=Array[_0x29a281(0x157)](this['answers'])['map'](_0x20cc70=>_0x20cc70[_0x29a281(0x436)]);this[_0x29a281(0x474)]=_0x199dc8,this[_0x29a281(0x9da)][_0x29a281(0x379)]({'sourceId':_0x1c1be6,'destinationIds':_0x1eac71,'messageType':_0x43910d[_0x29a281(0x5c4)],'content':{'type':_0x3d7bb7[_0x29a281(0xfd)],'label':_0x207234,'ownerId':_0x1fe0d2,'trackKinds':_0x5a457e,'params':_0x199dc8}}),_0x301706[_0x29a281(0x1d5)](_0x3e3f45[_0x29a281(0x5c4)],_0x29a281(0x5c3),_0x1c1be6,_0x1eac71);}['handleSubscriptionSystemEvents'](_0x539aff,_0x35638f){const _0x3c9f37=_0x45ef94;switch(_0x35638f[_0x3c9f37(0x6e1)]){case _0x3d7bb7['CanProvideMediaStream']:{const _0x23bff4=this[_0x3c9f37(0xf3)]>=_0x35638f[_0x3c9f37(0xa3b)]&&_0x35638f[_0x3c9f37(0xa3b)]<=this[_0x3c9f37(0x107)],_0x2fbd5e=Array[_0x3c9f37(0x157)](this['answers'])[_0x3c9f37(0x786)](_0x2e1eda=>_0x2e1eda['nodeId']===_0x539aff);_0x2fbd5e[_0x3c9f37(0x6e1)]=_0x23bff4?_0x25109d[_0x3c9f37(0x648)]:_0x25109d['Rejected'],_0x2fbd5e[_0x3c9f37(0x191)]=_0x35638f[_0x3c9f37(0x191)],_0x2fbd5e[_0x3c9f37(0xa3b)]=_0x35638f['distance'],_0x2fbd5e[_0x3c9f37(0x4a8)]=_0x35638f['streamId'],_0x2fbd5e[_0x3c9f37(0x24f)]=Date[_0x3c9f37(0x69)]()-this[_0x3c9f37(0x421)],_0x2fbd5e['params']=this['params'],_0x2fbd5e[_0x3c9f37(0xff)]=_0x35638f[_0x3c9f37(0xff)],_0x2fbd5e[_0x3c9f37(0x2f6)]=_0x35638f[_0x3c9f37(0x2f6)],_0x2fbd5e[_0x3c9f37(0x9d3)]=_0x35638f[_0x3c9f37(0x8f4)],_0x301706[_0x3c9f37(0x1d5)](_0x3e3f45['Subscription'],(_0x23bff4?_0x3c9f37(0x648):_0x3c9f37(0x4f4))+_0x3c9f37(0xa0b),_0x2fbd5e);break;}case _0x3d7bb7[_0x3c9f37(0x742)]:{const _0x221924=Array[_0x3c9f37(0x157)](this[_0x3c9f37(0x9b5)])['find'](_0x30ec30=>_0x30ec30[_0x3c9f37(0x436)]===_0x539aff);_0x221924['type']=_0x25109d[_0x3c9f37(0x4f4)],_0x301706[_0x3c9f37(0x1d5)](_0x3e3f45[_0x3c9f37(0x5c4)],_0x3c9f37(0xa1d),_0x221924);break;}}if(this[_0x3c9f37(0x17d)]())return this['chooseAnswer']();}[_0x45ef94(0x9b7)](){const _0x8ca221=_0x45ef94,_0x8090c7=Array[_0x8ca221(0x157)](this['answers'])['filter'](_0x55ef34=>_0x55ef34[_0x8ca221(0x6e1)]===_0x25109d[_0x8ca221(0x648)])['sort']((_0x54e527,_0x3e472a)=>_0x54e527[_0x8ca221(0x191)]===_0x3e472a[_0x8ca221(0x191)]?_0x54e527[_0x8ca221(0x24f)]-_0x3e472a[_0x8ca221(0x24f)]:_0x54e527['cost']-_0x3e472a['cost']);if(0x0===_0x8090c7[_0x8ca221(0x453)])throw new _0x279d71(_0x279d71[_0x8ca221(0x9c2)][_0x8ca221(0x5be)],{'answers':Array[_0x8ca221(0x157)](this[_0x8ca221(0x9b5)])[_0x8ca221(0x1f8)](_0x45564b=>({'nodeId':_0x45564b[_0x8ca221(0x436)],'type':_0x45564b[_0x8ca221(0x6e1)]}))});return _0x301706[_0x8ca221(0x1d5)](_0x3e3f45['Subscription'],_0x8ca221(0x76c),_0x8090c7[0x0],this[_0x8ca221(0x9b5)]),_0x8090c7[0x0];}[_0x45ef94(0x17d)](){const _0x3c348c=_0x45ef94;for(const _0x1752be of this['answers'])if(_0x1752be['type']===_0x25109d[_0x3c348c(0x290)])return!0x1;return!0x0;}}class _0x27d3c9{['label'];[_0x45ef94(0xa40)];[_0x45ef94(0xd1)]=_0x16e686();constructor(_0x46a7d4,_0xe2216d){const _0x2e00e3=_0x45ef94;this[_0x2e00e3(0x8f4)]=_0x46a7d4,this['contentType']=_0xe2216d;}[_0x45ef94(0x32b)](){return this['label'];}[_0x45ef94(0xf7)](){return this['contentType'];}['registerSource'](_0x2ba942){const _0x504548=_0x45ef94;_0x2ba942[_0x504548(0x196)](this);}['registerDestination'](_0x15d286){_0x15d286['registerSubscriber'](this);}['publish'](_0x27dab9){const _0x26e62f=_0x45ef94;this[_0x26e62f(0xd1)][_0x26e62f(0x379)]({'topicLabel':this[_0x26e62f(0x8f4)],'contentType':this[_0x26e62f(0xa40)],'uuid':(0x0,_0xa305bc['v4'])(),'recipients':[],..._0x27dab9});}[_0x45ef94(0x79d)](_0x19d524){const _0x2c5a8d=_0x45ef94;return this['listener'][_0x2c5a8d(0x79d)](_0x19d524);}[_0x45ef94(0x757)](_0x5989fd){const _0x471864=_0x45ef94;_0x5989fd[_0x471864(0x828)](this);}['unregisterDestination'](_0xfe26f8){_0xfe26f8['unregisterSubscriber'](this);}}class _0x5a9d56{[_0x45ef94(0x930)]={'topics':new Map(),'subscriptions':new Map()};[_0x45ef94(0x6b2)];constructor(_0x12d027){const _0x3ea266=_0x45ef94;this[_0x3ea266(0x6b2)]=_0x12d027;}get['subscriptions'](){const _0x14969b=_0x45ef94;return this[_0x14969b(0x930)][_0x14969b(0x765)];}get[_0x45ef94(0x6c4)](){const _0x1d7849=_0x45ef94;return this[_0x1d7849(0x930)]['topics'];}[_0x45ef94(0x2fc)](_0x4b4917,_0x1e4de4){const _0x33f5a5=_0x45ef94,_0x11a08a=this[_0x33f5a5(0x6b2)](_0x1e4de4),_0x7cb06c=_0x4e1053(_0x4b4917);if(!_0x11a08a['supportsContentType'])throw new _0x279d71(_0x279d71[_0x33f5a5(0x9c2)]['InvalidSubscription'],{'message':_0x7cb06c+':\x20'+_0x11a08a['remoteId']+_0x33f5a5(0x59c)+_0x11a08a[_0x33f5a5(0xa40)],'subscriptionType':_0x4b4917,'subscription':_0x1e4de4,'subscriptonParts':_0x11a08a});const _0x4841f2=_0x310c25(_0x4b4917,_0x11a08a);if(this['maps'][_0x33f5a5(0x765)][_0x33f5a5(0x3bc)](_0x4841f2))throw new _0x279d71(_0x279d71[_0x33f5a5(0x9c2)]['InvalidSubscription'],{'message':_0x7cb06c+':\x20'+_0x4841f2+_0x33f5a5(0x172),'subscriptionType':_0x4b4917,'subscription':_0x1e4de4,'subscriptonParts':_0x11a08a});this[_0x33f5a5(0x930)][_0x33f5a5(0x765)][_0x33f5a5(0x2b3)](_0x4841f2,_0x1e4de4),this[_0x33f5a5(0x2f1)](_0x11a08a,_0x1e4de4);}[_0x45ef94(0x740)](_0x3ac2f1,_0x62ca14){const _0x53c65c=_0x45ef94,_0x520243=_0x310c25(_0x62ca14,_0x3ac2f1),_0x5bebcb=this[_0x53c65c(0x930)][_0x53c65c(0x765)][_0x53c65c(0x1f5)](_0x520243);if(!_0x5bebcb)throw new _0x279d71(_0x279d71[_0x53c65c(0x9c2)][_0x53c65c(0x61c)],{'message':_0x4e1053(_0x62ca14)+':\x20'+_0x520243+_0x53c65c(0x8c),'subscriptionType':_0x62ca14,'subscription':_0x5bebcb,'subscriptonParts':_0x3ac2f1});this['closeSubscription'](_0x5bebcb,_0x520243,_0x3ac2f1);}[_0x45ef94(0x6b9)](_0x3cec3e,_0x5a30fa,_0x1c7cdd){const _0x36d58b=_0x45ef94;_0x1c7cdd=_0x1c7cdd||this[_0x36d58b(0x6b2)](_0x3cec3e),this['maps'][_0x36d58b(0x765)][_0x36d58b(0x991)](_0x5a30fa),this['removeTopic'](_0x1c7cdd,_0x3cec3e);}[_0x45ef94(0x2f1)](_0x20ba71,{source:_0x2a3746,destination:_0x11c14d}){const _0x3daa7a=_0x45ef94,{contentType:_0x3b113a,label:_0x1cf83a,remoteId:_0x38faf1}=_0x20ba71,_0x94c2a7=_0x24e08a(_0x3b113a,_0x1cf83a,_0x38faf1),_0x2ff5fe=new _0x27d3c9(_0x94c2a7,_0x3b113a);_0x2ff5fe['registerSource'](_0x2a3746),_0x2ff5fe[_0x3daa7a(0x1c6)](_0x11c14d),this['maps']['topics']['set'](_0x2ff5fe[_0x3daa7a(0x32b)](),_0x2ff5fe);}[_0x45ef94(0x21a)](_0x1481aa,_0x28549d){const _0x5aef4b=_0x45ef94,{contentType:_0x20830b,label:_0x5393c1,remoteId:_0x5c610e}=_0x1481aa,_0x70a87e=_0x24e08a(_0x20830b,_0x5393c1,_0x5c610e),_0x5820a2=this[_0x5aef4b(0x930)][_0x5aef4b(0x6c4)]['get'](_0x70a87e);_0x5820a2&&(this[_0x5aef4b(0x788)](_0x5820a2,_0x28549d),this[_0x5aef4b(0x930)][_0x5aef4b(0x6c4)]['delete'](_0x70a87e));}[_0x45ef94(0x788)](_0x557d35,{source:_0x15b2e2,destination:_0x4bcb0e}){const _0x415180=_0x45ef94;_0x557d35[_0x415180(0x757)](_0x15b2e2),_0x557d35['unregisterDestination'](_0x4bcb0e);}[_0x45ef94(0x2eb)](_0x359c5d){const _0x2d7722=_0x45ef94;this[_0x2d7722(0x930)][_0x2d7722(0x765)][_0x2d7722(0xa3f)]((_0x5d5dfd,_0x2955a8)=>{const _0x5d503f=_0x2d7722;_0x2955a8[_0x5d503f(0x198)](_0x359c5d)&&this[_0x5d503f(0x6b9)](_0x5d5dfd,_0x2955a8);});}}class _0x3d2241{[_0x45ef94(0x380)];[_0x45ef94(0x107)];[_0x45ef94(0x694)]=new Map();[_0x45ef94(0xa3d)]=_0xe4e73b(new _0x16dc1e(this[_0x45ef94(0x32f)]['bind'](this),()=>_0x4f43db[_0x45ef94(0x7eb)](0x64)),!0x0);[_0x45ef94(0x2ba)]=new Map();['maps'];[_0x45ef94(0x6b0)]=new Map();constructor(_0x1ad7b1,_0x12e5ea){const _0x1e1eae=_0x45ef94;this['configs']=_0x1ad7b1,this[_0x1e1eae(0x107)]=_0x12e5ea,this[_0x1e1eae(0x930)]=new _0x5a9d56(({source:_0x3785a8,destination:_0xb94cb7})=>_0x5360c0(_0xb94cb7,_0x3785a8));}[_0x45ef94(0x2fc)](_0x17ae22,_0x108227){const _0x47778e=_0x45ef94,_0x23df32=this[_0x47778e(0x3b4)](_0x17ae22)&&this['isMediaDestination'](_0x108227)?new _0x3693c9(_0x17ae22,_0x108227):new _0x4ac1dc(_0x17ae22,_0x108227);this['maps'][_0x47778e(0x2fc)](_0x59b1fe[_0x47778e(0x73b)],_0x23df32),this[_0x47778e(0x380)][_0x47778e(0x33f)][_0x47778e(0x324)](_0x23df32);}[_0x45ef94(0x740)](_0x58cab3,_0x5ff2d4,_0x338650=''){const _0x16979f=_0x45ef94,_0x3690bb={'contentType':_0x5ff2d4,'label':_0x58cab3,'remoteId':_0x338650},_0x4bc48a=_0x310c25(_0x59b1fe[_0x16979f(0x73b)],_0x3690bb),_0x510821=this[_0x16979f(0x930)][_0x16979f(0x765)][_0x16979f(0x1f5)](_0x4bc48a);_0x510821&&this[_0x16979f(0x6b9)](_0x510821,_0x4bc48a);}[_0x45ef94(0x341)](_0x3b6c8d){const _0x17ea07=_0x45ef94;this[_0x17ea07(0x9a0)](_0x3b6c8d);}[_0x45ef94(0x19f)]({label:_0x37d035,ownerId:_0x1be552,trackKinds:_0x38d242,params:_0x33eeca}){const _0x488d1e=_0x45ef94;this[_0x488d1e(0x8bf)](_0x37d035,_0x1be552,_0x38d242,_0x33eeca);}[_0x45ef94(0x405)]({ownerId:_0x6b0fd7,label:_0x1ff88d,params:_0x2e44af}){const _0x1f7a7f=_0x45ef94,{subscriptionLabel:_0x263392}=this[_0x1f7a7f(0x8a6)](_0x1ff88d,_0x6b0fd7),_0x2f5f3f=this[_0x1f7a7f(0xa24)](_0x263392);_0x2f5f3f&&_0x2f5f3f['update'](_0x6b0fd7,_0x2e44af);}['handleContentUnsubscribeMediaStream']({ownerId:_0x57f2eb,label:_0x3ccbfa,trackKinds:_0x493813,remainingTracks:_0x1d867b}){const _0x1589a6=_0x45ef94,_0x2e77d2=_0x310c25(_0x59b1fe[_0x1589a6(0x73b)],{'contentType':_0x29184c[_0x1589a6(0xd2)][_0x1589a6(0x224)],'label':_0x3ccbfa,'remoteId':_0x57f2eb});this[_0x1589a6(0x99a)](_0x2e77d2);const _0x4ea4e3=this['subscriptionRequests'][_0x1589a6(0x1f5)](_0x2e77d2);_0x4ea4e3&&(this[_0x1589a6(0x380)][_0x1589a6(0x33f)][_0x1589a6(0x88e)](_0x4ea4e3),this[_0x1589a6(0x694)][_0x1589a6(0x991)](_0x2e77d2));const {parts:_0x559f5c,subscriptionLabel:_0x55f023}=this['getSubscriptionLabel'](_0x3ccbfa,_0x57f2eb),_0x145595=this[_0x1589a6(0xa24)](_0x55f023);_0x145595&&(_0x145595[_0x1589a6(0x2b6)](_0x57f2eb,_0x1d867b,_0x493813),0x0===_0x1d867b&&this[_0x1589a6(0x740)](_0x559f5c[_0x1589a6(0x8f4)],_0x559f5c[_0x1589a6(0xa40)],_0x559f5c[_0x1589a6(0x162)]));}[_0x45ef94(0x540)](_0x21f9cf,{label:_0xe4484b,ownerId:_0x28e00a,trackKinds:_0x22af6a,streamId:_0x13ae5c,params:_0x5b012e}){const _0x36bffe=_0x45ef94,_0x52263a=_0x310c25(_0x59b1fe[_0x36bffe(0x73b)],{'contentType':_0x29184c['ContentType']['Media'],'label':_0x13ae5c,'remoteId':_0x21f9cf}),_0x52ec4d=this[_0x36bffe(0x930)][_0x36bffe(0x765)]['get'](_0x52263a);if(!(_0x52ec4d&&_0x52ec4d instanceof _0x3693c9))throw new _0x279d71(_0x279d71[_0x36bffe(0x9c2)][_0x36bffe(0x4eb)],{'label':_0x52263a,'ownerId':_0x28e00a});this[_0x36bffe(0x6b9)](_0x52ec4d,_0x52263a),this[_0x36bffe(0x8bf)](_0xe4484b,_0x28e00a,_0x22af6a,_0x5b012e);}['handleSubscriptionProvideMediaStream'](_0x3135ae,_0x513baa){const _0x31776e=_0x45ef94,{label:_0x3b265c,ownerId:_0xfafda0,trackKinds:_0x47accd,params:_0x181d07}=_0x513baa,_0x3d2956=_0x310c25(_0x59b1fe['Incoming'],{'contentType':_0x29184c[_0x31776e(0xd2)][_0x31776e(0x224)],'label':_0x3b265c,'remoteId':_0xfafda0});if(!this['subscriptionRequests']['has'](_0x3d2956))throw new _0x279d71(_0x279d71[_0x31776e(0x9c2)]['SubscriptionRequestDoesNotExist'],{'label':_0x3d2956,'ownerId':_0xfafda0,'streamId':_0x513baa['streamId'],'requests':this[_0x31776e(0x694)]});const _0x4f4569=this['subscriptionRequests']['get'](_0x3d2956);if(_0x47accd[_0x31776e(0x453)]===_0x4f4569[_0x31776e(0x1e6)]()[_0x31776e(0x453)]&&_0x47accd[_0x31776e(0x94e)](_0x3ab320=>_0x4f4569[_0x31776e(0x1e6)]()[_0x31776e(0x62f)](_0x3ab320)))try{const _0x57a2fe=_0x4f4569[_0x31776e(0x319)](_0x3135ae,_0x513baa);if(!_0x57a2fe)return;this[_0x31776e(0x79d)](_0x57a2fe,_0xfafda0,_0x3b265c,_0x3d2956,_0x47accd);}catch(_0x513d0d){return void this['handleNoAnswer'](_0x3b265c,_0xfafda0,_0x47accd,_0x181d07);}}[_0x45ef94(0xa16)](_0xab7afc,{label:_0x313fe7,ownerId:_0x3034b2,trackKinds:_0x38d003}){const _0x2a8508=_0x45ef94,_0x6c1a55=this[_0x2a8508(0x380)]['mediator']['getRemoteMediaStream'](_0x3034b2,_0x313fe7);if(!_0x6c1a55)return;const _0x126b54=_0x6c1a55[_0x2a8508(0x97c)](),_0x411f58=_0x6c1a55['getSubscribedTracks']();_0x411f58[_0x2a8508(0x3d9)](_0x47d04f=>_0x38d003['includes'](_0x47d04f))&&this[_0x2a8508(0x73c)](_0xab7afc,_0x313fe7,_0x126b54,_0x3034b2,_0x411f58);}['handleContentRemoteMediaStreamTrackFail']({label:_0x483892,providerId:_0x5ae58c,ownerId:_0x5c0e42,streamId:_0x117e0d,trackKinds:_0x966902}){const _0xa96155=_0x45ef94;this[_0xa96155(0x73c)](_0x5ae58c,_0x483892,_0x117e0d,_0x5c0e42,_0x966902);}[_0x45ef94(0x797)](_0x47771a){const _0x4f2cfc=_0x45ef94;for(const _0x4edff9 of this[_0x4f2cfc(0x6b0)]['values']()){const {streamLabel:_0x3e7cd3,ownerId:_0x2a4a26,trackKinds:_0x1cdd51,params:_0x11a068}=_0x4edff9;if(!_0x2a4a26||!_0x1cdd51||!_0x3e7cd3)return;this[_0x4f2cfc(0xa3d)][_0x4f2cfc(0x59e)]({'label':_0x3e7cd3,'ownerId':_0x2a4a26,'trackKinds':_0x1cdd51,'params':_0x11a068,'remoteId':_0x47771a});}}['removeSubscriptionsForNode'](_0x23cd94){const _0x438ece=_0x45ef94;this[_0x438ece(0x930)]['subscriptions'][_0x438ece(0xa3f)]((_0x4e942e,_0x4913e8)=>{const _0x2ae248=_0x438ece;if(_0x4913e8[_0x2ae248(0x198)](_0x23cd94)){if(_0x4e942e['destination'][_0x2ae248(0xf7)]()===_0x29184c['ContentType'][_0x2ae248(0x224)]){const _0x63370b=_0x4e942e[_0x2ae248(0x732)];if(_0x63370b['getSubscribedTracks']()[_0x2ae248(0x453)]>0x0){const _0x574cb2={'type':_0x3d7bb7[_0x2ae248(0x846)],'label':_0x63370b[_0x2ae248(0x32b)](),'ownerId':_0x63370b[_0x2ae248(0x525)](),'trackKinds':_0x63370b[_0x2ae248(0x96c)]()};return void this[_0x2ae248(0xa16)](_0x23cd94,_0x574cb2);}}this[_0x2ae248(0x6b9)](_0x4e942e,_0x4913e8);}});}[_0x45ef94(0x8b0)](){const _0x224477=_0x45ef94;this[_0x224477(0x930)][_0x224477(0x765)][_0x224477(0xa3f)](this[_0x224477(0x6b9)]['bind'](this));}[_0x45ef94(0x79d)](_0x2d747c,_0x21c3e8,_0x2a8c95,_0x1c91cf,_0x4ac338){const _0x176835=_0x45ef94,_0x56a2a9=this['configs'][_0x176835(0x33f)][_0x176835(0x986)](_0x2d747c[_0x176835(0x436)]),_0x12e70b=this[_0x176835(0x380)]['mediator'][_0x176835(0x81c)](_0x21c3e8,_0x2a8c95);this[_0x176835(0x99a)](_0x1c91cf),this[_0x176835(0x694)]['has'](_0x1c91cf)&&(this['configs'][_0x176835(0x33f)][_0x176835(0x88e)](this[_0x176835(0x694)][_0x176835(0x1f5)](_0x1c91cf)),this['subscriptionRequests']['delete'](_0x1c91cf)),this[_0x176835(0x177)](_0x2d747c,_0x21c3e8,_0x2a8c95,_0x12e70b),_0x12e70b[_0x176835(0x12b)](_0x2d747c[_0x176835(0x4a8)]),_0x12e70b[_0x176835(0xa17)](_0x2d747c['nodeId']);const _0x3d8697=_0x5360c0(_0x12e70b,_0x56a2a9),_0x594daf=_0x310c25(_0x59b1fe[_0x176835(0x73b)],_0x3d8697);this[_0x176835(0x930)][_0x176835(0x765)]['has'](_0x594daf)||this[_0x176835(0x2fc)](_0x56a2a9,_0x12e70b);const _0x5a653e=this['maps'][_0x176835(0x765)][_0x176835(0x1f5)](_0x594daf);if(!(_0x5a653e&&_0x5a653e instanceof _0x3693c9))throw new _0x279d71(_0x279d71[_0x176835(0x9c2)]['SubscriptionRequestDoesNotExist'],{'label':_0x1c91cf,'ownerId':_0x21c3e8});_0x301706['logEvent']('subscription',{'clusterId':this['configs']['clusterId'],'nodeId':this[_0x176835(0x380)]['localNode'][_0x176835(0xa2a)](),'nodeType':this[_0x176835(0x380)]['localNode'][_0x176835(0x6e1)],'data':{'subscriptionLabel':_0x594daf,'chosenAnswer':_0x2d747c}}),this[_0x176835(0x6b0)][_0x176835(0x2b3)](_0x594daf,_0x2d747c),_0x5a653e[_0x176835(0x79d)](_0x21c3e8,_0x4ac338,_0x2d747c[_0x176835(0x474)]);}[_0x45ef94(0x9a0)]({ownerId:_0x4be765,label:_0x3a4e45}){const _0x31d072=_0x45ef94,_0x38e422=this[_0x31d072(0x380)][_0x31d072(0x33f)][_0x31d072(0x81c)](_0x4be765,_0x3a4e45),[_0x1ce72e,_0xb005e9]=Array[_0x31d072(0x157)](this['maps'][_0x31d072(0x765)][_0x31d072(0x58b)]())[_0x31d072(0x786)](([_0x4eee90,_0x9c948b])=>-0x1!==_0x4eee90[_0x31d072(0x4e9)](_0x38e422[_0x31d072(0x97c)]()));return this['closeSubscription'](_0xb005e9,_0x1ce72e);}['closeSubscription'](_0x445749,_0x48781d){const _0x54e004=_0x45ef94;this[_0x54e004(0x380)][_0x54e004(0x33f)]['unregisterSystemSource'](_0x445749),this[_0x54e004(0x930)][_0x54e004(0x6b9)](_0x445749,_0x48781d);}['isMediaSource'](_0x54c5ed){const _0x3e3d29=_0x45ef94;return _0x54c5ed[_0x3e3d29(0x5b4)]()[_0x3e3d29(0x62f)](_0x29184c[_0x3e3d29(0xd2)]['Media']);}[_0x45ef94(0x5df)](_0x5193d9){const _0x4ee3ee=_0x45ef94;return _0x5193d9['getContentType']()===_0x29184c['ContentType'][_0x4ee3ee(0x224)];}async[_0x45ef94(0x4b7)](_0x54bc61,_0x3ab5ef,_0x462630,_0x90a504){const _0x34f251=_0x45ef94;await _0x4f43db['wait'](0x3e8);const _0x53cc24=_0x310c25(_0x59b1fe[_0x34f251(0x73b)],{'contentType':_0x29184c[_0x34f251(0xd2)][_0x34f251(0x224)],'label':_0x54bc61,'remoteId':_0x3ab5ef});this[_0x34f251(0x99a)](_0x53cc24);const _0x1a513b=this[_0x34f251(0x694)][_0x34f251(0x1f5)](_0x53cc24);if(!_0x1a513b)throw new _0x279d71(_0x279d71[_0x34f251(0x9c2)][_0x34f251(0x4eb)],{'label':_0x53cc24,'ownerId':_0x3ab5ef});const _0x41939a=this[_0x34f251(0x380)][_0x34f251(0x33f)]['getConnections'](_0x1fd290=>_0x1fd290['isConnected']()),_0xbae19c=this[_0x34f251(0x380)][_0x34f251(0x33f)][_0x34f251(0x6cd)](this[_0x34f251(0x380)][_0x34f251(0x5e4)]['getId'](),_0x3ab5ef);_0x1a513b[_0x34f251(0x9a1)](_0x41939a['map'](_0x49859f=>_0x49859f[_0x34f251(0x72d)]()),_0xbae19c);try{_0x1a513b[_0x34f251(0x248)](this['configs']['localNode'][_0x34f251(0xa2a)](),_0x3ab5ef,_0x54bc61,_0x462630,_0x90a504),this['setSubscriptionRequestTimeout'](_0x54bc61,_0x3ab5ef,_0x462630,_0x90a504,_0x53cc24,_0x1a513b);}catch(_0x3ee633){this[_0x34f251(0xa3d)][_0x34f251(0x59e)]({'label':_0x54bc61,'ownerId':_0x3ab5ef,'trackKinds':_0x462630,'params':_0x90a504});}}[_0x45ef94(0x8bf)](_0x23b43d,_0x1d5b9e,_0x4d8dee,_0x26b613){const _0x159678=_0x45ef94;this[_0x159678(0xa3d)][_0x159678(0x59e)]({'label':_0x23b43d,'ownerId':_0x1d5b9e,'trackKinds':_0x4d8dee,'params':_0x26b613});}[_0x45ef94(0x32f)]({label:_0x45fb44,ownerId:_0x40d386,trackKinds:_0x515dc8,params:_0x3f70cc,remoteId:_0x21ca95}){const _0x26ed33=_0x45ef94;if(!this[_0x26ed33(0x380)][_0x26ed33(0x33f)][_0x26ed33(0x81c)](_0x40d386,_0x45fb44))return;if(!this[_0x26ed33(0x380)]['mediator'][_0x26ed33(0x4aa)]()[_0x26ed33(0x25f)]())throw new Error(_0x26ed33(0x588));if(_0x21ca95){const _0x2e0e36=this[_0x26ed33(0x380)][_0x26ed33(0x33f)][_0x26ed33(0x6c5)]()['find'](_0x3ed076=>_0x3ed076[_0x26ed33(0xa2a)]()===_0x21ca95),_0x54c028=_0x2e0e36?.['getRank']();if(!_0x2e0e36||!_0x54c028)throw new Error(_0x26ed33(0x179));const _0x4cb1af=this['configs'][_0x26ed33(0x33f)][_0x26ed33(0x6c5)]()[_0x26ed33(0x786)](_0x15b7fb=>_0x15b7fb[_0x26ed33(0xa2a)]()===_0x40d386),_0x94589b=_0x4cb1af?.[_0x26ed33(0x25f)]();if(!_0x4cb1af||!_0x94589b)throw new Error('Missing\x20owner\x20node\x20or\x20rank');const _0x34e1f5=this[_0x26ed33(0x6b0)][_0x26ed33(0x1f5)](_0x45fb44);if(_0x34e1f5){const _0x17ad99=this[_0x26ed33(0x380)][_0x26ed33(0x33f)][_0x26ed33(0x6c5)]()[_0x26ed33(0x786)](_0x4d9fd2=>_0x4d9fd2[_0x26ed33(0xa2a)]()===_0x34e1f5[_0x26ed33(0x436)]),_0x2e06ba=_0x17ad99?.['getRank']();if(!_0x17ad99||!_0x2e06ba)throw new Error(_0x26ed33(0x8f9));if(Math[_0x26ed33(0x658)](_0x2e06ba-_0x94589b)<Math[_0x26ed33(0x658)](_0x54c028-_0x94589b))return;}}const _0x17d739=this[_0x26ed33(0x380)]['mediator']['getConnections'](_0x177d35=>_0x177d35[_0x26ed33(0x1de)]()&&(!_0x21ca95||_0x177d35['getRemoteId']()===_0x21ca95));if(!_0x17d739[_0x26ed33(0x453)]||0x0===_0x17d739[_0x26ed33(0x453)])throw new Error(_0x26ed33(0x34e));const _0x3eb461=this[_0x26ed33(0x380)]['mediator'][_0x26ed33(0x6cd)](this['configs']['localNode'][_0x26ed33(0xa2a)](),_0x40d386),_0x3fefc4=_0x310c25(_0x59b1fe[_0x26ed33(0x73b)],{'contentType':_0x29184c[_0x26ed33(0xd2)][_0x26ed33(0x224)],'label':_0x45fb44,'remoteId':_0x40d386});if(this[_0x26ed33(0x694)][_0x26ed33(0x3bc)](_0x3fefc4)){if(_0x21ca95)throw new Error(_0x26ed33(0x844));const _0x70df56=this['subscriptionRequests'][_0x26ed33(0x1f5)](_0x3fefc4)[_0x26ed33(0x1e6)]();if(_0x70df56[_0x26ed33(0x453)]===_0x515dc8['length']&&_0x70df56[_0x26ed33(0x94e)](_0x4ff23d=>_0x515dc8[_0x26ed33(0x62f)](_0x4ff23d)))return;this[_0x26ed33(0x380)][_0x26ed33(0x33f)]['unregisterSystemSource'](this[_0x26ed33(0x694)]['get'](_0x3fefc4)),this[_0x26ed33(0x694)][_0x26ed33(0x991)](_0x3fefc4),_0x515dc8=Array['from'](new Set(_0x515dc8[_0x26ed33(0x39d)](_0x70df56))),this[_0x26ed33(0x99a)](_0x3fefc4);}const _0x7aaee9=new _0x54de3a(_0x17d739['map'](_0x1cd452=>_0x1cd452[_0x26ed33(0x72d)]()),_0x3eb461,this[_0x26ed33(0x107)],_0x515dc8);this['configs'][_0x26ed33(0x33f)]['registerSystemSource'](_0x7aaee9),this[_0x26ed33(0x694)][_0x26ed33(0x2b3)](_0x3fefc4,_0x7aaee9),_0x7aaee9[_0x26ed33(0x248)](this['configs'][_0x26ed33(0x5e4)][_0x26ed33(0xa2a)](),_0x40d386,_0x45fb44,_0x515dc8,_0x3f70cc),this['setSubscriptionRequestTimeout'](_0x45fb44,_0x40d386,_0x515dc8,_0x3f70cc,_0x3fefc4,_0x7aaee9);}[_0x45ef94(0x99a)](_0x4cae20){const _0x265260=_0x45ef94;this[_0x265260(0x2ba)][_0x265260(0x3bc)](_0x4cae20)&&(clearTimeout(this[_0x265260(0x2ba)][_0x265260(0x1f5)](_0x4cae20)),this[_0x265260(0x2ba)]['delete'](_0x4cae20));}['setSubscriptionRequestTimeout'](_0x3084b7,_0x13ce03,_0x11b7e2,_0x2350ac,_0x50ba6a,_0x1eba76){const _0x2eb3e0=_0x45ef94;this[_0x2eb3e0(0x99a)](_0x50ba6a),this[_0x2eb3e0(0x2ba)][_0x2eb3e0(0x2b3)](_0x50ba6a,setTimeout(()=>{const _0x542479=_0x2eb3e0;this[_0x542479(0x2ba)]['delete'](_0x50ba6a);try{const _0x5d0645=_0x1eba76['chooseAnswer']();this[_0x542479(0x79d)](_0x5d0645,_0x13ce03,_0x3084b7,_0x50ba6a,_0x11b7e2);}catch(_0x460e51){this[_0x542479(0x4b7)](_0x3084b7,_0x13ce03,_0x11b7e2,_0x2350ac);}},0x7d0));}['findNewMediaSubscription'](_0x55022d,_0x220c96,_0x37821d,_0x29685a,_0x10fddd){const _0x18c97e=_0x45ef94,{subscriptionLabel:_0x57e036}=this[_0x18c97e(0x8a6)](_0x220c96,_0x29685a),_0x4ee329=this['getMediaSubscription'](_0x57e036),_0x24bedd=_0x4ee329?.[_0x18c97e(0x474)];_0x4ee329&&(_0x4ee329['unsubscribe'](_0x29685a,0x0),this[_0x18c97e(0x740)](_0x37821d,_0x29184c[_0x18c97e(0xd2)]['Media'],_0x55022d)),this['requestSubscription'](_0x220c96,_0x29685a,_0x10fddd,_0x24bedd);}[_0x45ef94(0xa24)](_0x1fc933){const _0x1281fc=_0x45ef94,_0x437d14=this[_0x1281fc(0x930)][_0x1281fc(0x765)][_0x1281fc(0x1f5)](_0x1fc933);if(_0x437d14){if(!(_0x437d14 instanceof _0x3693c9))throw new _0x279d71(_0x279d71[_0x1281fc(0x9c2)][_0x1281fc(0x61c)],{'label':_0x1fc933,'subscription':_0x437d14});return _0x437d14;}}[_0x45ef94(0x8a6)](_0x125eac,_0x538c04){const _0x7bc6dd=_0x45ef94,_0x53c92a=this[_0x7bc6dd(0x2c2)](_0x125eac,_0x538c04);return{'parts':_0x53c92a,'subscriptionLabel':_0x310c25(_0x59b1fe[_0x7bc6dd(0x73b)],_0x53c92a)};}[_0x45ef94(0x2c2)](_0x1aefd4,_0x71014d){const _0x10cbb2=_0x45ef94,_0x187c8d=this[_0x10cbb2(0x380)][_0x10cbb2(0x33f)][_0x10cbb2(0x81c)](_0x71014d,_0x1aefd4),_0xeef0ea=_0x187c8d[_0x10cbb2(0x7ed)]();if(!_0xeef0ea)throw new _0x279d71(_0x279d71['codes'][_0x10cbb2(0x100)],{'label':_0x1aefd4,'streamId':_0x187c8d['getInternalStreamId'](),'ownerId':_0x71014d,'localId':this[_0x10cbb2(0x380)]['localNode']['getId']()});return{'contentType':_0x29184c[_0x10cbb2(0xd2)]['Media'],'label':_0x187c8d[_0x10cbb2(0x97c)](),'remoteId':_0xeef0ea};}[_0x45ef94(0x177)](_0x576668,_0x4c0208,_0xcaef45,_0x4c81e8){const _0x1a3f73=_0x45ef94,_0x25d943=_0x4c81e8[_0x1a3f73(0x7ed)]();if(_0x25d943&&_0x25d943!==_0x576668[_0x1a3f73(0x436)]){const {parts:_0x329bc1,subscriptionLabel:_0xad5736}=this[_0x1a3f73(0x8a6)](_0xcaef45,_0x4c0208),_0x550ddb=this[_0x1a3f73(0xa24)](_0xad5736);_0x550ddb&&(_0x550ddb['unsubscribe'](_0x4c0208,0x0),this[_0x1a3f73(0x740)](_0x329bc1[_0x1a3f73(0x8f4)],_0x329bc1[_0x1a3f73(0xa40)],_0x329bc1[_0x1a3f73(0x162)]));}}}class _0x2add81{['configs'];[_0x45ef94(0x65c)];[_0x45ef94(0x930)];constructor(_0x38c53b,_0x4ac910){const _0x59bf89=_0x45ef94;this[_0x59bf89(0x380)]=_0x38c53b,this[_0x59bf89(0x65c)]=_0x4ac910,this[_0x59bf89(0x930)]=new _0x5a9d56(({source:_0x2347f2,destination:_0x1971a2})=>_0x5360c0(_0x2347f2,_0x1971a2));}['createSubscription'](_0x174ada,_0xfa8bee){const _0x5ec142=_0x45ef94,_0x26edfb={'source':_0x174ada,'destination':_0xfa8bee};this[_0x5ec142(0x930)]['createSubscription'](_0x59b1fe['Outgoing'],_0x26edfb);}[_0x45ef94(0x740)](_0x4d619b,_0x1f5c82,_0x597418=''){const _0x53e073=_0x45ef94,_0x53f8d6={'contentType':_0x1f5c82,'label':_0x4d619b,'remoteId':_0x597418};this[_0x53e073(0x930)][_0x53e073(0x740)](_0x53f8d6,_0x59b1fe[_0x53e073(0x4c1)]);}[_0x45ef94(0x992)](_0x3a8646,_0x59a615){const _0x4699b2=_0x45ef94;let _0x4634ed;_0x4634ed=_0x59a615[_0x4699b2(0xff)]!==this['configs'][_0x4699b2(0x5e4)]['getId']()?this[_0x4699b2(0x380)][_0x4699b2(0x33f)][_0x4699b2(0x81c)](_0x59a615['ownerId'],_0x59a615[_0x4699b2(0x8f4)]):this[_0x4699b2(0x380)][_0x4699b2(0x33f)][_0x4699b2(0x3cc)](_0x59a615['label']);const _0x4bf82f=_0x310c25(_0x59b1fe[_0x4699b2(0x4c1)],{'contentType':_0x29184c['ContentType'][_0x4699b2(0x224)],'label':_0x4634ed['getShareableStreamId'](),'remoteId':_0x3a8646}),_0x2c79b6=this[_0x4699b2(0x27a)]();if(!this[_0x4699b2(0x930)][_0x4699b2(0x765)][_0x4699b2(0x3bc)](_0x4bf82f)&&_0x2c79b6>=this['maxOutgoingSubscriptions'])return{'type':_0x3d7bb7['RestartNeedMediaStream'],'ownerId':_0x59a615[_0x4699b2(0xff)],'label':_0x59a615['label'],'streamId':_0x4634ed[_0x4699b2(0x8c9)](),'trackKinds':_0x59a615[_0x4699b2(0x2f6)],'params':_0x59a615[_0x4699b2(0x474)]};_0x4634ed instanceof _0x422986&&!_0x4634ed['isSubscribed'](_0x59a615[_0x4699b2(0x2f6)])&&_0x4634ed['subscribe'](_0x59a615['params']),this[_0x4699b2(0x930)][_0x4699b2(0x765)][_0x4699b2(0x3bc)](_0x4bf82f)||this[_0x4699b2(0x2fc)](_0x4634ed[_0x4699b2(0x304)](_0x3a8646),this['configs']['mediator'][_0x4699b2(0x986)](_0x3a8646));}[_0x45ef94(0x1bd)](_0x72af4d,{label:_0x54e872,ownerId:_0x4c62a3,remainingTracks:_0x519174}){const _0x37819b=_0x45ef94;if(_0x519174>0x0)return;let _0x5308d9;_0x5308d9=_0x4c62a3!==this[_0x37819b(0x380)]['localNode'][_0x37819b(0xa2a)]()?this[_0x37819b(0x380)][_0x37819b(0x33f)][_0x37819b(0x81c)](_0x4c62a3,_0x54e872):this['configs'][_0x37819b(0x33f)]['getLocalMediaStream'](_0x54e872);const _0x41001f=_0x5308d9[_0x37819b(0x8c9)](),_0x4c7ef6=_0x29184c[_0x37819b(0xd2)][_0x37819b(0x224)];this[_0x37819b(0x740)](_0x41001f,_0x4c7ef6,_0x72af4d);}[_0x45ef94(0x8e7)](_0x56dd84,{label:_0x2806e1,ownerId:_0xb29a95,trackKinds:_0xe35233}){const _0x44dfb3=_0x45ef94;if(_0x56dd84!==_0x17190e)return[];let _0x150b35=[];for(const _0x1e696d of this[_0x44dfb3(0x930)][_0x44dfb3(0x765)]){const {source:_0x3c038b,destination:_0x44e3ba}=_0x1e696d[0x1];_0x3c038b['getLabel']()===_0x2806e1&&_0x3c038b[_0x44dfb3(0x525)]()===_0xb29a95&&_0x150b35[_0x44dfb3(0x59e)]({'sourceId':this['configs'][_0x44dfb3(0x5e4)][_0x44dfb3(0xa2a)](),'destinationIds':[_0x44e3ba[_0x44dfb3(0x72d)]()],'messageType':_0x43910d['Subscription'],'content':{'type':_0x3d7bb7[_0x44dfb3(0x846)],'label':_0x2806e1,'ownerId':_0xb29a95,'trackKinds':_0xe35233}});}return _0x150b35;}[_0x45ef94(0x6ab)](_0x3c37ad,_0x2d12a4){const _0x2ffdfb=_0x45ef94,{label:_0x32aa3c,ownerId:_0x1a16f0,trackKinds:_0x515ab9,params:_0x5e6afe}=_0x2d12a4,{hasTracks:_0x9e7f8a,streamId:_0x3c74b6,hasResolution:_0xf807aa,distance:_0x1c9b48,subscriptionLabel:_0x470632}=this[_0x2ffdfb(0xa2e)](_0x3c37ad,_0x2d12a4);let _0x17cab1=this[_0x2ffdfb(0x27a)]()<this['maxOutgoingSubscriptions']&&(_0x9e7f8a||_0x1c9b48>-0x1)?_0x3d7bb7[_0x2ffdfb(0x297)]:_0x3d7bb7[_0x2ffdfb(0x742)];const _0x19f495=_0x1c9b48<0x0?0xa:_0x1c9b48;let _0x274187=_0x9e7f8a?_0xf807aa?_0x19f495:_0x19f495+0x0:_0x19f495+0xa;return _0x470632&&this[_0x2ffdfb(0x930)]['subscriptions'][_0x2ffdfb(0x3bc)](_0x470632)&&(_0x9e7f8a&&(_0x274187=0x0),_0x17cab1=_0x3d7bb7['CanProvideMediaStream']),{'type':_0x17cab1,'cost':_0x274187,'distance':_0x1c9b48,'label':_0x32aa3c,'ownerId':_0x1a16f0,'streamId':_0x3c74b6,'trackKinds':_0x515ab9,'params':_0x5e6afe};}[_0x45ef94(0x341)](_0x477b1b){const _0x98abef=_0x45ef94,{label:_0x5cdac1,ownerId:_0x551dde}=_0x477b1b,_0x431b0d=this[_0x98abef(0x380)][_0x98abef(0x33f)]['getRemoteMediaStream'](_0x551dde,_0x5cdac1);this[_0x98abef(0x930)][_0x98abef(0x765)][_0x98abef(0xa3f)](_0xe9797f=>{const _0x97c5b7=_0x98abef;if(_0xe9797f[_0x97c5b7(0x11d)][_0x97c5b7(0x97c)]()===_0x431b0d[_0x97c5b7(0x8c9)]()){const _0x4be68f=_0xe9797f[_0x97c5b7(0x732)];this[_0x97c5b7(0x740)](_0x431b0d['getShareableStreamId'](),_0x29184c[_0x97c5b7(0xd2)][_0x97c5b7(0x224)],_0x4be68f['getRemoteId']());}});}['handleContentCloseMediaStream']({label:_0x3f5207}){const _0x1bfee9=_0x45ef94,_0x3afb0c=this[_0x1bfee9(0x380)]['mediator']['getLocalMediaStream'](_0x3f5207);this[_0x1bfee9(0x930)]['subscriptions'][_0x1bfee9(0xa3f)](_0x4828c2=>{const _0x200408=_0x1bfee9;if(_0x4828c2[_0x200408(0x11d)][_0x200408(0x97c)]()===_0x3afb0c[_0x200408(0x8c9)]()){const _0x12a53f=_0x4828c2[_0x200408(0x732)];this[_0x200408(0x740)](_0x3afb0c['getShareableStreamId'](),_0x29184c['ContentType'][_0x200408(0x224)],_0x12a53f[_0x200408(0x72d)]());}});}['removeSubscriptionsForNode'](_0x5118c7){const _0x262247=_0x45ef94;this[_0x262247(0x930)][_0x262247(0x2eb)](_0x5118c7);}[_0x45ef94(0x8b0)](){const _0x8b5d60=_0x45ef94;this[_0x8b5d60(0x930)]['subscriptions']['forEach'](this[_0x8b5d60(0x6b9)]['bind'](this));}[_0x45ef94(0x6b9)](_0x26664b,_0x4103d6){const _0x28b428=_0x45ef94;this[_0x28b428(0x930)][_0x28b428(0x6b9)](_0x26664b,_0x4103d6);}[_0x45ef94(0xa2e)](_0x35e908,{label:_0xf41e33,ownerId:_0x16d841,trackKinds:_0x49ed95,params:_0x2c2039}){const _0x410c7a=_0x45ef94;if(_0x16d841!==this[_0x410c7a(0x380)][_0x410c7a(0x5e4)]['getId']()){const _0x3661b9=this['configs'][_0x410c7a(0x33f)][_0x410c7a(0x81c)](_0x16d841,_0xf41e33);return _0x3661b9&&_0x3661b9['getProviderId']()!==_0x35e908?{'hasTracks':_0x3661b9[_0x410c7a(0x5a0)](_0x49ed95),'hasResolution':this[_0x410c7a(0x7ac)](_0x3661b9['getResolution'](),_0x2c2039),'streamId':_0x3661b9[_0x410c7a(0x8c9)](),'distance':this['configs'][_0x410c7a(0x33f)][_0x410c7a(0x6cd)](_0x35e908,_0x16d841),'subscriptionLabel':_0x310c25(_0x59b1fe[_0x410c7a(0x4c1)],{'contentType':_0x29184c[_0x410c7a(0xd2)][_0x410c7a(0x224)],'label':_0x3661b9[_0x410c7a(0x8c9)](),'remoteId':_0x35e908})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x2992b0=this[_0x410c7a(0x380)][_0x410c7a(0x33f)][_0x410c7a(0x3cc)](_0xf41e33);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x2992b0['getShareableStreamId'](),'distance':0x0,'subscriptionLabel':_0x310c25(_0x59b1fe[_0x410c7a(0x4c1)],{'contentType':_0x29184c[_0x410c7a(0xd2)]['Media'],'label':_0x2992b0['getShareableStreamId'](),'remoteId':_0x35e908})};}['getNumberOutgoingSubscriptions'](){const _0x4693b6=_0x45ef94;return Array['from'](this[_0x4693b6(0x930)]['subscriptions'][_0x4693b6(0x58b)]())[_0x4693b6(0x533)](([_0x81f98f,{source:_0x21d271}])=>_0x81f98f[_0x4693b6(0x1a2)](_0x59b1fe[_0x4693b6(0x4c1)])&&_0x21d271[_0x4693b6(0xf7)]()===_0x29184c[_0x4693b6(0xd2)][_0x4693b6(0x224)])[_0x4693b6(0x453)];}['canProvideResolution'](_0x3a2bc1,_0x13b0ae){const _0x4a8a56=_0x45ef94;if(!_0x13b0ae||!_0x13b0ae[_0x4a8a56(0x703)]||_0x4a8a56(0xbf)==typeof _0x13b0ae[_0x4a8a56(0x703)]||!_0x13b0ae[_0x4a8a56(0x703)][_0x4a8a56(0x26a)])return!0x0;const {width:_0x201131,height:_0x2ccf64}=_0x13b0ae[_0x4a8a56(0x703)][_0x4a8a56(0x26a)];return _0x3a2bc1[_0x4a8a56(0x72c)]>=_0x201131&&_0x3a2bc1[_0x4a8a56(0x2b0)]>=_0x2ccf64;}}class _0x9caec9{['configs'];['maxOutgoingSubscriptions'];['maxDistance'];['systemTopic'];[_0x45ef94(0x937)];['outgoingManager'];constructor(_0x1c96b7,_0x54fefd,_0x18e406){const _0x2f730a=_0x45ef94;this[_0x2f730a(0x380)]=_0x1c96b7,this['maxOutgoingSubscriptions']=_0x54fefd,this[_0x2f730a(0x107)]=_0x18e406,this[_0x2f730a(0x380)][_0x2f730a(0x33f)][_0x2f730a(0x324)](this),this['incomingManager']=new _0x3d2241(this['configs'],this[_0x2f730a(0x107)]),this[_0x2f730a(0x2a6)]=new _0x2add81(this['configs'],this[_0x2f730a(0x65c)]);}['registerSystemPublisher'](_0x57fe2c){const _0x3b0c0a=_0x45ef94;this[_0x3b0c0a(0x9da)]=_0x57fe2c;}[_0x45ef94(0xfc)](){const _0x19cee2=_0x45ef94;delete this[_0x19cee2(0x9da)];}[_0x45ef94(0x8b0)](){const _0x500eeb=_0x45ef94;this[_0x500eeb(0x937)][_0x500eeb(0x8b0)](),this['outgoingManager']['close'](),this[_0x500eeb(0x380)][_0x500eeb(0x33f)][_0x500eeb(0x88e)](this);}[_0x45ef94(0x8c0)](_0x480ed4,_0x46d936){const _0x243685=_0x45ef94;this['incomingManager'][_0x243685(0x2fc)](_0x480ed4,_0x46d936);}[_0x45ef94(0x378)](_0x2e0bc9,_0x3f4e26){const _0x2b46cf=_0x45ef94;this[_0x2b46cf(0x2a6)][_0x2b46cf(0x2fc)](_0x2e0bc9,_0x3f4e26);}[_0x45ef94(0x3cd)](_0x131e14,_0x59a43a,_0x59c58a=''){const _0x3094f0=_0x45ef94;this[_0x3094f0(0x937)]['removeSubscription'](_0x131e14,_0x59a43a,_0x59c58a);}[_0x45ef94(0x72e)](_0x3ef667,_0x45f866,_0x320502=''){const _0x1c3668=_0x45ef94;try{this[_0x1c3668(0x2a6)][_0x1c3668(0x740)](_0x3ef667,_0x45f866,_0x320502);}catch(_0x55c1a2){if(_0x55c1a2 instanceof _0x279d71&&_0x55c1a2[_0x1c3668(0x9c3)]===_0x279d71['codes'][_0x1c3668(0x61c)])return;}}[_0x45ef94(0x319)](_0x3776e7){const _0x24795e=_0x45ef94;switch(_0x3776e7[_0x24795e(0x2ec)][_0x24795e(0x6e1)]){case _0x3d7bb7['SubscribeMediaStream']:this[_0x24795e(0x992)](_0x3776e7[_0x24795e(0x499)],_0x3776e7[_0x24795e(0x2ec)]);break;case _0x3d7bb7[_0x24795e(0x919)]:this[_0x24795e(0x2a6)][_0x24795e(0x1bd)](_0x3776e7[_0x24795e(0x499)],_0x3776e7[_0x24795e(0x2ec)]);break;case _0x3d7bb7[_0x24795e(0xfd)]:this[_0x24795e(0x6ab)](_0x3776e7[_0x24795e(0x499)],_0x3776e7['content']);break;case _0x3d7bb7[_0x24795e(0x6f3)]:this[_0x24795e(0x937)][_0x24795e(0x540)](_0x3776e7[_0x24795e(0x499)],_0x3776e7[_0x24795e(0x2ec)]);break;case _0x3d7bb7['CanProvideMediaStream']:case _0x3d7bb7[_0x24795e(0x742)]:this[_0x24795e(0x937)][_0x24795e(0x24e)](_0x3776e7[_0x24795e(0x499)],_0x3776e7[_0x24795e(0x2ec)]);break;case _0x3d7bb7['MediaStreamUnavailable']:this[_0x24795e(0x937)]['handleSubscriptionMediaStreamUnavailable'](_0x3776e7['sourceId'],_0x3776e7[_0x24795e(0x2ec)]);}}['handleContentSystemEvents'](_0x414a88){const _0x2b6945=_0x45ef94;switch(_0x414a88[_0x2b6945(0x2ec)]['type']){case _0x292504[_0x2b6945(0x212)]:this[_0x2b6945(0x937)]['handleContentUnpublishMediaStream'](_0x414a88[_0x2b6945(0x2ec)]),this[_0x2b6945(0x2a6)][_0x2b6945(0x341)](_0x414a88[_0x2b6945(0x2ec)]);break;case _0x292504[_0x2b6945(0xa0f)]:this['incomingManager'][_0x2b6945(0x19f)](_0x414a88[_0x2b6945(0x2ec)]);break;case _0x292504[_0x2b6945(0x5c1)]:this[_0x2b6945(0x937)][_0x2b6945(0x405)](_0x414a88[_0x2b6945(0x2ec)]);break;case _0x292504[_0x2b6945(0x919)]:this[_0x2b6945(0x8e7)](_0x414a88[_0x2b6945(0x499)],_0x414a88[_0x2b6945(0x2ec)]);break;case _0x292504['CloseMediaStream']:this[_0x2b6945(0x2a6)][_0x2b6945(0x571)](_0x414a88[_0x2b6945(0x2ec)]);break;case _0x292504[_0x2b6945(0x970)]:this[_0x2b6945(0x641)](_0x414a88[_0x2b6945(0x2ec)][_0x2b6945(0x8f4)],_0x29184c[_0x2b6945(0xd2)][_0x2b6945(0x83b)]);break;case _0x292504[_0x2b6945(0x208)]:this[_0x2b6945(0x641)](_0x414a88['content']['label'],_0x29184c[_0x2b6945(0xd2)][_0x2b6945(0xc2)]);break;case _0x292504[_0x2b6945(0x373)]:this['handleCloseContent'](_0x414a88[_0x2b6945(0x2ec)]['label'],_0x29184c[_0x2b6945(0xd2)]['ExternalStorage']);break;case _0x292504[_0x2b6945(0x1a9)]:this[_0x2b6945(0x641)](_0x414a88[_0x2b6945(0x2ec)]['label'],_0x29184c[_0x2b6945(0xd2)][_0x2b6945(0x6ff)]);break;case _0x292504['CloseVectorDatabase']:this[_0x2b6945(0x641)](_0x414a88[_0x2b6945(0x2ec)][_0x2b6945(0x8f4)],_0x29184c[_0x2b6945(0xd2)][_0x2b6945(0x851)]);break;case _0x292504[_0x2b6945(0x5b8)]:this[_0x2b6945(0x641)](_0x414a88[_0x2b6945(0x2ec)][_0x2b6945(0x8f4)],_0x29184c[_0x2b6945(0xd2)][_0x2b6945(0x114)]);break;case _0x292504[_0x2b6945(0x1ea)]:case _0x292504[_0x2b6945(0x8cb)]:this['handleCloseContent'](_0x414a88['content'][_0x2b6945(0x8f4)],_0x29184c[_0x2b6945(0xd2)][_0x2b6945(0x7a2)]);break;case _0x292504[_0x2b6945(0x921)]:this[_0x2b6945(0x937)][_0x2b6945(0x130)](_0x414a88[_0x2b6945(0x2ec)]);}}[_0x45ef94(0x122)]({content:_0x58cf5b}){const _0x5032f2=_0x45ef94;_0x58cf5b[_0x5032f2(0x6e1)]===_0x3b4c4a[_0x5032f2(0x2fd)]&&this[_0x5032f2(0x2eb)](_0x58cf5b);}[_0x45ef94(0x2b4)](_0x1275aa){const _0x1fb875=_0x45ef94;_0x1275aa[_0x1fb875(0x2ec)][_0x1fb875(0x6e1)]===_0x565f29[_0x1fb875(0x497)]&&this['incomingManager'][_0x1fb875(0x797)](_0x1275aa[_0x1fb875(0x499)]);}[_0x45ef94(0x8e7)](_0x5b3bc4,_0x56950f){const _0x3312d1=_0x45ef94;this[_0x3312d1(0x937)][_0x3312d1(0x8e7)](_0x56950f),this['outgoingManager'][_0x3312d1(0x8e7)](_0x5b3bc4,_0x56950f)[_0x3312d1(0xa3f)](_0x5dd71f=>this['systemTopic']['publish'](_0x5dd71f));}['handleSubscriptionSubscribeMediaStream'](_0x389014,_0x49392e){const _0x260f65=_0x45ef94,_0x38394b=this[_0x260f65(0x2a6)]['handleSubscriptionSubscribeMediaStream'](_0x389014,_0x49392e);if(_0x38394b&&(this[_0x260f65(0x9da)][_0x260f65(0x379)]({'sourceId':this[_0x260f65(0x380)]['localNode'][_0x260f65(0xa2a)](),'destinationIds':[_0x389014],'messageType':_0x43910d['Subscription'],'content':_0x38394b}),_0x38394b[_0x260f65(0x6e1)]===_0x3d7bb7[_0x260f65(0x6f3)]))throw new _0x3851a6(_0x260f65(0x3d4));}[_0x45ef94(0x6ab)](_0x231eb3,_0x13af7c){const _0x533d02=_0x45ef94,_0x46b72a=this['outgoingManager']['handleSubscriptionNeedMediaStream'](_0x231eb3,_0x13af7c);this[_0x533d02(0x9da)][_0x533d02(0x379)]({'sourceId':this[_0x533d02(0x380)]['localNode'][_0x533d02(0xa2a)](),'destinationIds':[_0x231eb3],'messageType':_0x43910d[_0x533d02(0x5c4)],'content':_0x46b72a});}[_0x45ef94(0x641)](_0x32c554,_0x1733f2){const _0x43d336=_0x45ef94;this[_0x43d336(0x3cd)](_0x32c554,_0x1733f2),this['removeOutgoingSubscription'](_0x32c554,_0x1733f2);}[_0x45ef94(0x2eb)]({id:_0x511777}){const _0x64ea95=_0x45ef94;this['incomingManager'][_0x64ea95(0x2eb)](_0x511777),this[_0x64ea95(0x2a6)][_0x64ea95(0x2eb)](_0x511777);}}class _0x90a294{[_0x45ef94(0x8f4)];[_0x45ef94(0xd1)]=_0x16e686();constructor(){const _0x4db612=_0x45ef94;this[_0x4db612(0x8f4)]=0x0;}[_0x45ef94(0x32b)](){return this['label'];}['getContentType'](){const _0x36e430=_0x45ef94;return _0x29184c[_0x36e430(0xd2)][_0x36e430(0x17a)];}['registerSource'](_0x147b0f){const _0x2e9b97=_0x45ef94;_0x147b0f[_0x2e9b97(0x52e)](this);}[_0x45ef94(0x757)](_0x1f1a9c){const _0x2012eb=_0x45ef94;_0x1f1a9c[_0x2012eb(0xfc)]();}['publish'](_0x2243ba){const _0x5ded87=_0x45ef94;_0x301706['log'](_0x3e3f45[_0x5ded87(0x705)],_0x5ded87(0x3e3),_0x2243ba['sourceId'],_0x2243ba),this[_0x5ded87(0xd1)][_0x5ded87(0x379)]({'topicLabel':this['label'],'contentType':_0x29184c[_0x5ded87(0xd2)]['Data'],'uuid':_0x2243ba['uuid']??(0x0,_0xa305bc['v4'])(),'recipients':_0x2243ba['recipients']??[],..._0x2243ba});}[_0x45ef94(0x79d)](_0x4528b3){const _0x2b3c87=_0x45ef94;return this['listener'][_0x2b3c87(0x79d)](_0x4528b3);}}class _0x47ea72{['options'];[_0x45ef94(0x470)]=[];[_0x45ef94(0x209)];[_0x45ef94(0x628)]=new Map();[_0x45ef94(0x1ae)]=_0x16e686();constructor(_0x846646){const _0x530250=_0x45ef94;this[_0x530250(0x205)]=_0x846646,this[_0x530250(0x209)]=(this[_0x530250(0x205)][_0x530250(0xc3)]-0x2*this[_0x530250(0x205)][_0x530250(0x193)])/0x2,this[_0x530250(0x470)]['push']({'start':0x1,'end':this[_0x530250(0x71b)](0x1,0x1)-0x1});for(let _0x11ba64=0x0;_0x11ba64<this[_0x530250(0x209)];++_0x11ba64)this[_0x530250(0x470)]['push']({'start':this[_0x530250(0x71b)](0x1,_0x11ba64+0x1),'end':this[_0x530250(0x71b)](0x1,_0x11ba64+0x2)-0x1});}[_0x45ef94(0x71b)](_0x100449,_0x5080b0=0x1){const _0x5c4d14=_0x45ef94;let _0x1faa0d=this['options'][_0x5c4d14(0x107)]-this[_0x5c4d14(0x205)][_0x5c4d14(0x193)],_0x208046=0x1;for(let _0xd52454=0x1;_0xd52454<_0x5080b0;++_0xd52454)_0x1faa0d*=this[_0x5c4d14(0x205)][_0x5c4d14(0x107)]-this['options'][_0x5c4d14(0x193)]-_0xd52454,_0x208046*=this[_0x5c4d14(0x205)]['maxDistance']-this[_0x5c4d14(0x205)][_0x5c4d14(0x193)]-_0xd52454+0x1;return _0x1faa0d*this[_0x5c4d14(0x205)][_0x5c4d14(0x193)]+_0x100449-_0x208046;}['getCurrentMaxLayer'](_0x303f3b){const _0x16b9ba=_0x45ef94;let _0x471cc5=0x0;for(;this[_0x16b9ba(0x470)][_0x471cc5]['end']<_0x303f3b;)_0x471cc5+=0x1;return _0x471cc5;}[_0x45ef94(0x6e4)](){const _0x1d6bb8=_0x45ef94;return this[_0x1d6bb8(0x205)][_0x1d6bb8(0x193)];}['getMaxConnections'](){const _0x3fbaab=_0x45ef94;return this[_0x3fbaab(0x205)][_0x3fbaab(0xc3)];}[_0x45ef94(0x277)](){const _0x4a8f83=_0x45ef94;return this[_0x4a8f83(0x205)][_0x4a8f83(0x107)];}[_0x45ef94(0x6c5)](){const _0x600872=_0x45ef94;return this[_0x600872(0x628)];}[_0x45ef94(0x73d)](_0x19942e,_0x4044f3){const _0x56e1c1=_0x45ef94;this[_0x56e1c1(0x628)][_0x56e1c1(0x2b3)](_0x19942e,_0x4044f3),this[_0x56e1c1(0x1ae)][_0x56e1c1(0x379)]();}[_0x45ef94(0x784)](_0x5edcbd){const _0x4e15c9=_0x45ef94;this[_0x4e15c9(0x628)][_0x4e15c9(0x991)](_0x5edcbd),this[_0x4e15c9(0x1ae)]['publish']();}[_0x45ef94(0x36e)](_0x1c1ab8){const _0x652c06=_0x45ef94;return this[_0x652c06(0x628)][_0x652c06(0x3bc)](_0x1c1ab8);}[_0x45ef94(0x199)](_0x21f3c4){const _0x16d900=_0x45ef94;return this[_0x16d900(0x628)][_0x16d900(0x1f5)](_0x21f3c4);}['getClosestNodes'](_0x2b9efa,_0xf928e8){const _0x34a3ed=_0x45ef94,_0xacedce=this[_0x34a3ed(0x199)](_0xf928e8)?.[_0x34a3ed(0x25f)]()??0x0;return _0x2b9efa[_0x34a3ed(0x1f8)](_0x363312=>this['getRemoteNode'](_0x363312))['filter'](_0x48a36b=>void 0x0!==_0x48a36b)['sort']((_0x36e76a,_0x39ae26)=>Math[_0x34a3ed(0x658)](_0xacedce-(_0x36e76a&&_0x36e76a[_0x34a3ed(0x25f)]()||0x1/0x0))-Math['abs'](_0xacedce-(_0x39ae26&&_0x39ae26['getRank']()||0x1/0x0)))[_0x34a3ed(0x1f8)](_0x349320=>_0x349320['getId']());}[_0x45ef94(0x259)](_0x4c5380){const _0xdc90b7=_0x45ef94;return this[_0xdc90b7(0x1ae)][_0xdc90b7(0x79d)](_0x4c5380);}}class _0x26527c{[_0x45ef94(0x154)];[_0x45ef94(0x9aa)];[_0x45ef94(0x1a3)];[_0x45ef94(0x8a2)];[_0x45ef94(0x205)];['configs'];[_0x45ef94(0x459)];[_0x45ef94(0xa4b)];['connectionManager'];['subscriptionManager'];['statsManager'];[_0x45ef94(0x3d3)];[_0x45ef94(0x24a)];[_0x45ef94(0x7b9)];[_0x45ef94(0xa04)];[_0x45ef94(0x9da)]=new _0x90a294();[_0x45ef94(0x9a)];['localNode'];constructor(_0x2d6f2f,_0x3fbe87,_0x365c57,_0xa8d1f3,_0xd2afeb,_0x43d7e0,_0x420cd9){const _0x3f4c55=_0x45ef94;switch(this['vendorId']=_0x2d6f2f,this[_0x3f4c55(0x9aa)]=_0x3fbe87,this[_0x3f4c55(0x1a3)]=_0x365c57,this['authService']=_0xa8d1f3,this['options']=_0xd2afeb,this[_0x3f4c55(0x380)]=_0x43d7e0,this['clusterEventEmitter']=_0x420cd9,_0x365c57['type']){case _0x29184c[_0x3f4c55(0xc1)][_0x3f4c55(0x8d2)]:this[_0x3f4c55(0x5e4)]=new _0x1eef83(_0x365c57[_0x3f4c55(0xa2a)](),_0x365c57[_0x3f4c55(0x3c1)](),_0x365c57[_0x3f4c55(0x2da)]());break;case _0x29184c[_0x3f4c55(0xc1)][_0x3f4c55(0x767)]:default:this[_0x3f4c55(0x5e4)]=new _0x3dc56e(_0x365c57[_0x3f4c55(0xa2a)]());}const _0x5c160e=this['getConfigs']();this[_0x3f4c55(0xa04)]=new _0x47ea72(this['options']),this[_0x3f4c55(0xa4b)]=new _0x1e8dca(_0x5c160e,this[_0x3f4c55(0x205)]),this['connectionManager']=new _0x19047d(_0x5c160e,this['authService'],this[_0x3f4c55(0xa04)],this[_0x3f4c55(0x380)]['iceServers'],this[_0x3f4c55(0x205)]),this['subscriptionManager']=new _0x9caec9(_0x5c160e,this['options'][_0x3f4c55(0x65c)],this[_0x3f4c55(0xa04)]['getMaxDistance']()),this[_0x3f4c55(0x6a5)]=new _0x1ebcd2(_0x5c160e),this[_0x3f4c55(0x3d3)]=new _0x16dcb2(_0x5c160e),this[_0x3f4c55(0x24a)]=new _0x372188(_0x5c160e),this['nodeManager']=new _0x26035a(_0x5c160e,this['graphService']),this[_0x3f4c55(0x9a)]=this[_0x3f4c55(0x14f)]();}[_0x45ef94(0x7ae)](){const _0x494233=_0x45ef94,_0x3b37de=this[_0x494233(0xb4)]();this[_0x494233(0x537)]=new _0x19047d(_0x3b37de,this[_0x494233(0x8a2)],this[_0x494233(0xa04)],this[_0x494233(0x380)][_0x494233(0x29c)],this['options']),this['subscriptionManager']=new _0x9caec9(_0x3b37de,this[_0x494233(0x205)]['maxOutgoingSubscriptions'],this[_0x494233(0xa04)][_0x494233(0x277)]()),this[_0x494233(0x6a5)]=new _0x1ebcd2(_0x3b37de),this[_0x494233(0x3d3)]=new _0x16dcb2(_0x3b37de),this['remediationManager']=new _0x372188(_0x3b37de),this[_0x494233(0x7b9)]=new _0x26035a(_0x3b37de,this[_0x494233(0xa04)]);const _0xac43f9=this[_0x494233(0x537)][_0x494233(0x5f0)]();this[_0x494233(0xa4b)][_0x494233(0x751)]()[_0x494233(0xa3f)](_0x247f94=>{const _0x3c3c5a=_0x494233;this['subscriptionManager'][_0x3c3c5a(0x378)](_0x247f94,_0xac43f9),this['subscriptionManager']['createIncomingSubscription'](_0xac43f9,_0x247f94),_0x247f94[_0x3c3c5a(0x9a1)]();}),this['contentManager']['getObjectStoreBuckets']()[_0x494233(0xa3f)](_0x1733a9=>{const _0x173f3f=_0x494233;this['subscriptionManager'][_0x173f3f(0x378)](_0x1733a9,_0xac43f9),this[_0x173f3f(0x71)][_0x173f3f(0x8c0)](_0xac43f9,_0x1733a9),_0x1733a9[_0x173f3f(0x9a1)](),_0x1733a9[_0x173f3f(0x18f)]();}),this[_0x494233(0xa4b)][_0x494233(0x9d5)]()[_0x494233(0xa3f)](_0x354cde=>{const _0x1e18ff=_0x494233;this[_0x1e18ff(0x71)][_0x1e18ff(0x378)](_0x354cde,_0xac43f9),this[_0x1e18ff(0x71)][_0x1e18ff(0x8c0)](_0xac43f9,_0x354cde),_0x354cde['reset'](),this['syncKeyValueDatabase'](_0x354cde);}),this[_0x494233(0xa4b)][_0x494233(0x1c0)]()[_0x494233(0xa3f)](_0x170b45=>{const _0x6cd68=_0x494233;this[_0x6cd68(0x71)][_0x6cd68(0x378)](_0x170b45,_0xac43f9),this[_0x6cd68(0x71)][_0x6cd68(0x8c0)](_0xac43f9,_0x170b45),_0x170b45[_0x6cd68(0x9a1)]();}),this[_0x494233(0xa4b)]['getJobWorkers']()[_0x494233(0xa3f)](_0x228030=>{const _0x297545=_0x494233;this['subscriptionManager'][_0x297545(0x378)](_0x228030,_0xac43f9),this[_0x297545(0x71)][_0x297545(0x8c0)](_0xac43f9,_0x228030),_0x228030[_0x297545(0x9a1)]();}),this[_0x494233(0xa4b)][_0x494233(0x74)]()[_0x494233(0xa3f)](_0x59ae95=>{const _0x1f48f6=_0x494233;this[_0x1f48f6(0x71)]['createOutgoingSubscription'](_0x59ae95,_0xac43f9),this[_0x1f48f6(0x71)][_0x1f48f6(0x8c0)](_0xac43f9,_0x59ae95),_0x59ae95[_0x1f48f6(0x9a1)]();}),this[_0x494233(0xa4b)][_0x494233(0x86)]()['forEach'](_0x55915f=>{const _0x1c1638=_0x494233;this[_0x1c1638(0x71)]['createOutgoingSubscription'](_0x55915f,_0xac43f9),this[_0x1c1638(0x71)][_0x1c1638(0x8c0)](_0xac43f9,_0x55915f),_0x55915f[_0x1c1638(0x9a1)]();}),this[_0x494233(0x9a)]=this['initializeSystemTopic']();}[_0x45ef94(0x324)](_0x528a16){const _0x5bef2e=_0x45ef94;try{this[_0x5bef2e(0x9da)][_0x5bef2e(0x4f7)](_0x528a16);}catch(_0x44dd51){this[_0x5bef2e(0x1e8)](_0x44dd51,{});}}['unregisterSystemSource'](_0x133fbd){try{this['systemTopic']['unregisterSource'](_0x133fbd);}catch(_0x10dcf8){this['handleError'](_0x10dcf8,{});}}['createConnection'](_0x2ee000,_0x344867){const _0x4f6395=_0x45ef94;return this[_0x4f6395(0x537)][_0x4f6395(0x9ce)](_0x2ee000,_0x344867);}[_0x45ef94(0x986)](_0x59f181){const _0x2a2bc8=_0x45ef94;try{return this[_0x2a2bc8(0x537)][_0x2a2bc8(0x986)](_0x59f181);}catch(_0x245142){throw this['handleError'](_0x245142,{});}}[_0x45ef94(0x78e)](_0xfe226c){const _0x432814=_0x45ef94;try{return this[_0x432814(0x537)][_0x432814(0x78e)](_0xfe226c);}catch(_0x5d35a3){throw this[_0x432814(0x1e8)](_0x5d35a3,{});}}['getRemoteMediaStream'](_0x530607,_0xf85b0b){const _0x447e2b=_0x45ef94;try{return this['contentManager']['getRemoteMediaStreams'](_0x1e0410=>_0x1e0410[_0x447e2b(0x525)]()===_0x530607&&_0x1e0410[_0x447e2b(0x32b)]()===_0xf85b0b)[0x0];}catch(_0x20b4c8){throw this[_0x447e2b(0x1e8)](_0x20b4c8,{});}}['getLocalMediaStream'](_0x1f65fd){const _0x3881d6=_0x45ef94;try{return this['contentManager'][_0x3881d6(0x8f7)](_0x5c1b87=>_0x5c1b87[_0x3881d6(0x32b)]()===_0x1f65fd)[0x0];}catch(_0x1a5973){throw this[_0x3881d6(0x1e8)](_0x1a5973,{});}}['notifyCluster']=(..._0x7f606a)=>{const _0x4d8e12=_0x45ef94;try{return this[_0x4d8e12(0x459)]['emit'](..._0x7f606a);}catch(_0x442dfa){throw this[_0x4d8e12(0x1e8)](_0x442dfa,{});}};[_0x45ef94(0x5ff)](_0xca2206){const _0x1e2465=_0x45ef94;try{this['statsManager'][_0x1e2465(0x231)](_0xca2206);}catch(_0x1c660b){throw this['handleError'](_0x1c660b,{});}}[_0x45ef94(0x772)](_0x1d7ed0){const _0x339366=_0x45ef94;try{this[_0x339366(0x6a5)][_0x339366(0x5f6)](_0x1d7ed0);}catch(_0x3583fb){throw this[_0x339366(0x1e8)](_0x3583fb,{});}}[_0x45ef94(0x754)](_0x3c971f){const _0x9fd267=_0x45ef94;return this[_0x9fd267(0x537)][_0x9fd267(0x754)](_0x3c971f);}async[_0x45ef94(0x47a)](){const _0x462dfb=_0x45ef94;try{await this[_0x462dfb(0x537)]['initialize']();const _0x3117ab=await this[_0x462dfb(0x7b9)][_0x462dfb(0x9ad)]();for(const _0x4257d9 of _0x3117ab)this[_0x462dfb(0x537)][_0x462dfb(0x9ce)](_0x4257d9);}catch(_0x20f5c9){throw this[_0x462dfb(0x1e8)](_0x20f5c9,{});}}[_0x45ef94(0x544)](_0x59fb43){const _0x166176=_0x45ef94;this[_0x166176(0x5e4)][_0x166176(0x6e1)]===_0x29184c[_0x166176(0xc1)][_0x166176(0x8d2)]&&(this['localNode']['setEmail'](_0x59fb43[_0x166176(0x2da)]()),this[_0x166176(0x5e4)][_0x166176(0x31c)](_0x59fb43[_0x166176(0x3c1)]()));}[_0x45ef94(0x8b0)]({force:_0x2f0166=!0x1},_0xce8469=!0x1){const _0x1ece92=_0x45ef94;if(_0x301706[_0x1ece92(0x90)]('orchestrator-close',{'clusterId':this['clusterId'],'nodeId':this[_0x1ece92(0x5e4)]['getId'](),'nodeType':this[_0x1ece92(0x5e4)][_0x1ece92(0x6e1)]}),!_0x2f0166&&this['connectionManager'][_0x1ece92(0x7fe)]())throw new _0x54ac69(_0x1dd92b['ConnectionBufferNotEmpty'],_0x1ece92(0x344));_0x301706[_0x1ece92(0x2c9)](),this[_0x1ece92(0x9a)](),this[_0x1ece92(0x24a)][_0x1ece92(0x8b0)](),this[_0x1ece92(0x3d3)][_0x1ece92(0x8b0)](),this[_0x1ece92(0x6a5)][_0x1ece92(0x8b0)](),this[_0x1ece92(0x71)][_0x1ece92(0x8b0)](),this[_0x1ece92(0x537)]['close'](),this[_0x1ece92(0xa4b)][_0x1ece92(0x8b0)](_0xce8469),this[_0x1ece92(0x7b9)]['close']();}[_0x45ef94(0x2c1)](_0x22ddb2){const _0x141f7c=_0x45ef94;try{const _0xa14365=this['contentManager'][_0x141f7c(0x5c5)](_0x22ddb2),_0x40c863=this[_0x141f7c(0x537)][_0x141f7c(0x5f0)]();return this[_0x141f7c(0x71)]['createOutgoingSubscription'](_0xa14365,_0x40c863),this[_0x141f7c(0x71)]['createIncomingSubscription'](_0x40c863,_0xa14365),_0xa14365;}catch(_0x37b9e5){throw this[_0x141f7c(0x1e8)](_0x37b9e5,{});}}async[_0x45ef94(0x47e)](_0x2b933a,_0x380b1c){const _0x4b19da=_0x45ef94;try{const _0x244df0=this['contentManager'][_0x4b19da(0xa0c)](_0x2b933a,this[_0x4b19da(0x205)][_0x4b19da(0x6e0)],_0x380b1c),_0x6b1307=this[_0x4b19da(0x537)][_0x4b19da(0x5f0)]();return this[_0x4b19da(0x71)][_0x4b19da(0x378)](_0x244df0,_0x6b1307),this[_0x4b19da(0x71)][_0x4b19da(0x8c0)](_0x6b1307,_0x244df0),await _0x244df0[_0x4b19da(0x18f)](),_0x244df0;}catch(_0x154d68){throw this[_0x4b19da(0x1e8)](_0x154d68,{});}}async[_0x45ef94(0x35e)](_0x9a9933,_0x5b6958){const _0xdbb12a=_0x45ef94;try{if(!this[_0xdbb12a(0x205)]['externalStorageConnectors'])throw new _0x54ac69(_0x1dd92b[_0xdbb12a(0x88)],_0xdbb12a(0x9ae));if(!(this[_0xdbb12a(0x1a3)]instanceof _0x3f41e0))throw new _0x54ac69(_0x1dd92b['NodeInvalidType'],_0xdbb12a(0x794));const _0x238031=this[_0xdbb12a(0x205)]['externalStorageConnectors']['get'](_0x5b6958);if(!_0x238031)throw new _0x54ac69(_0x1dd92b[_0xdbb12a(0x88)],_0xdbb12a(0x9ae));const _0x5b8a5f=this[_0xdbb12a(0xa4b)][_0xdbb12a(0x872)](_0x9a9933,_0x238031),_0x3d7bdf=this[_0xdbb12a(0x537)]['getConnectionGroup']();return this[_0xdbb12a(0x71)][_0xdbb12a(0x378)](_0x5b8a5f,_0x3d7bdf),this['subscriptionManager'][_0xdbb12a(0x8c0)](_0x3d7bdf,_0x5b8a5f),await _0x5b8a5f[_0xdbb12a(0x7ae)](),_0x5b8a5f;}catch(_0x2ec39a){throw this[_0xdbb12a(0x1e8)](_0x2ec39a,{});}}async[_0x45ef94(0x2de)](_0x3435bb,_0x4671df,_0x202066){const _0x15cfb6=_0x45ef94;try{_0x202066=_0x202066||this[_0x15cfb6(0x205)]['keyValueDatabaseConnector'];const _0x4d971c=await this['contentManager']['createKeyValueDatabase'](_0x3435bb,_0x4671df,_0x202066),_0x1e20ae=this['connectionManager']['getConnectionGroup']();return this['subscriptionManager']['createOutgoingSubscription'](_0x4d971c,_0x1e20ae),this[_0x15cfb6(0x71)][_0x15cfb6(0x8c0)](_0x1e20ae,_0x4d971c),await _0x4d971c['open'](),this[_0x15cfb6(0x5a9)](_0x4d971c),_0x4d971c;}catch(_0x50e2b0){throw this[_0x15cfb6(0x1e8)](_0x50e2b0,{});}}async['openJobDispatcher'](_0x395c01){const _0x218dcc=_0x45ef94;try{const _0x31ac3b=await this[_0x218dcc(0xa4b)][_0x218dcc(0x1f4)](_0x395c01,this[_0x218dcc(0xa04)]),_0x3fe037=this[_0x218dcc(0x537)][_0x218dcc(0x5f0)]();return this[_0x218dcc(0x71)][_0x218dcc(0x378)](_0x31ac3b,_0x3fe037),this['subscriptionManager']['createIncomingSubscription'](_0x3fe037,_0x31ac3b),_0x31ac3b[_0x218dcc(0x7ae)](),_0x31ac3b;}catch(_0x4aa256){throw this[_0x218dcc(0x1e8)](_0x4aa256,{});}}async[_0x45ef94(0x5ba)](_0x10b5a0){const _0x23300f=_0x45ef94;throw new Error(_0x23300f(0x691));}async[_0x45ef94(0x5f1)](_0x2faeb9){const _0x171b88=_0x45ef94;try{const _0x5c49bf=await this[_0x171b88(0xa4b)][_0x171b88(0x44d)](_0x2faeb9,this[_0x171b88(0xa04)]),_0x1843c2=this['connectionManager'][_0x171b88(0x5f0)]();return this['subscriptionManager'][_0x171b88(0x378)](_0x5c49bf,_0x1843c2),this[_0x171b88(0x71)][_0x171b88(0x8c0)](_0x1843c2,_0x5c49bf),_0x5c49bf[_0x171b88(0x7ae)](),_0x5c49bf;}catch(_0x105fc1){throw console[_0x171b88(0x2a9)](_0x105fc1),this[_0x171b88(0x1e8)](_0x105fc1,{});}}async[_0x45ef94(0x573)](_0x2387be){const _0x547164=_0x45ef94;try{if(!(this[_0x547164(0x205)][_0x547164(0x56d)]&&this['options']['documentParserConnector']&&this[_0x547164(0x205)][_0x547164(0x57b)]&&this[_0x547164(0x205)][_0x547164(0x8ea)]))throw new _0x54ac69(_0x1dd92b[_0x547164(0x4db)],_0x547164(0x2e8));if(!(this['authNode']instanceof _0x3f41e0))throw new _0x54ac69(_0x1dd92b[_0x547164(0xc6)],_0x547164(0x794));if(!this[_0x547164(0x380)][_0x547164(0x906)])throw new _0x54ac69(_0x1dd92b[_0x547164(0x47c)],_0x547164(0x9c0));const _0x5b9629=[];for(const [_0x1e37b3,_0x5ec9d7]of this[_0x547164(0x205)][_0x547164(0x56d)]){let _0x5b6381;_0x1e37b3===_0x29184c['GenerativeAIEngineType'][_0x547164(0x720)]&&(_0x5b6381=this[_0x547164(0x380)][_0x547164(0x906)]),_0x1e37b3===_0x29184c[_0x547164(0x27c)]['Anthropic']&&(_0x5b6381=this[_0x547164(0x380)][_0x547164(0x120)]),_0x5b9629['push'](new _0x5ec9d7(_0x5b6381));}const _0x4ad231=new this[(_0x547164(0x205))][(_0x547164(0x6e0))](_0x547164(0x955)),_0x67b4c1=new this[(_0x547164(0x205))]['documentParserConnector'](),_0x3a9c34=new this[(_0x547164(0x205))][(_0x547164(0x57b))](this[_0x547164(0x380)][_0x547164(0x906)]),_0x301d50=new this['options']['nlpLibraryConnector']();let _0x3437a9,_0x478b0b,_0x4d2b14,_0x4b8715;if(this[_0x547164(0x205)][_0x547164(0x3d6)]){if(!this[_0x547164(0x380)][_0x547164(0x54e)])throw new _0x54ac69(_0x1dd92b[_0x547164(0x47c)],'Missing\x20search\x20API\x20key');_0x3437a9=new this['options']['searchConnector'](this['configs']['searchApiKey']);}if(this[_0x547164(0x205)][_0x547164(0x99f)]){if(!this[_0x547164(0x380)][_0x547164(0x228)])throw new _0x54ac69(_0x1dd92b['ApiKeyMissing'],_0x547164(0x3f8));_0x478b0b=new this[(_0x547164(0x205))][(_0x547164(0x99f))](this[_0x547164(0x380)][_0x547164(0x228)]);}if(this[_0x547164(0x205)]['queryFileConnector']&&(_0x4d2b14=new this[(_0x547164(0x205))][(_0x547164(0x1e5))]()),this[_0x547164(0x205)][_0x547164(0x24d)]){if(!this['configs'][_0x547164(0x46c)])throw new _0x54ac69(_0x1dd92b[_0x547164(0x47c)],'Missing\x20RAG\x20API\x20key');_0x4b8715=new Map();for(const [_0x80c7ba,_0xaae55]of this[_0x547164(0x205)][_0x547164(0x24d)])_0x4b8715['set'](_0x80c7ba,new _0xaae55(this['configs'][_0x547164(0x46c)]));}const _0x5ddde5=await this['contentManager']['createGenerativeAIWorker'](_0x2387be,this[_0x547164(0x1a3)],_0x5b9629,_0x4ad231,_0x67b4c1,_0x3a9c34,_0x301d50,_0x3437a9,_0x478b0b,_0x4d2b14,_0x4b8715,this[_0x547164(0x380)][_0x547164(0x906)]),_0x2cd325=this[_0x547164(0x537)][_0x547164(0x5f0)]();this[_0x547164(0x71)]['createOutgoingSubscription'](_0x5ddde5,_0x2cd325),this[_0x547164(0x71)][_0x547164(0x8c0)](_0x2cd325,_0x5ddde5);const _0xc3fa74=this['nodeManager']['getAncestorIds']();return await _0x5ddde5[_0x547164(0x7ae)](0x0===_0xc3fa74[_0x547164(0x453)]||void 0x0),_0x5ddde5;}catch(_0x2c9235){throw this[_0x547164(0x1e8)](_0x2c9235,{});}}[_0x45ef94(0x7bb)](_0x2ee404){const _0xd7d65e=_0x45ef94;try{if(!this[_0xd7d65e(0x205)]['graphDatabaseConnector'])throw new _0x54ac69(_0x1dd92b[_0xd7d65e(0x8e0)],_0xd7d65e(0x340));if(!(this[_0xd7d65e(0x1a3)]instanceof _0x3f41e0))throw new _0x54ac69(_0x1dd92b[_0xd7d65e(0xc6)],'Node\x20is\x20not\x20an\x20agent');const _0x5c6a77=this[_0xd7d65e(0xa4b)][_0xd7d65e(0x81f)](_0x2ee404,this[_0xd7d65e(0x205)]['graphDatabaseConnector']),_0x85700f=this['connectionManager']['getConnectionGroup']();return this[_0xd7d65e(0x71)][_0xd7d65e(0x378)](_0x5c6a77,_0x85700f),this['subscriptionManager']['createIncomingSubscription'](_0x85700f,_0x5c6a77),_0x5c6a77;}catch(_0x290b40){throw this[_0xd7d65e(0x1e8)](_0x290b40,{});}}[_0x45ef94(0x37b)](_0x496ffd){const _0x263c1f=_0x45ef94;try{if(!this[_0x263c1f(0x205)][_0x263c1f(0x5ef)])throw new _0x54ac69(_0x1dd92b[_0x263c1f(0x206)],_0x263c1f(0x801));if(!(this[_0x263c1f(0x1a3)]instanceof _0x3f41e0))throw new _0x54ac69(_0x1dd92b['NodeInvalidType'],_0x263c1f(0x794));const _0x39abb7=this[_0x263c1f(0xa4b)]['createVectorDatabase'](_0x496ffd,this[_0x263c1f(0x205)][_0x263c1f(0x5ef)]),_0x571364=this[_0x263c1f(0x537)][_0x263c1f(0x5f0)]();return this['subscriptionManager']['createOutgoingSubscription'](_0x39abb7,_0x571364),this['subscriptionManager'][_0x263c1f(0x8c0)](_0x571364,_0x39abb7),_0x39abb7;}catch(_0x25c0b4){throw this[_0x263c1f(0x1e8)](_0x25c0b4,{});}}['getPubSubTopics'](_0x2b4741){const _0x3835d6=_0x45ef94;try{return this[_0x3835d6(0xa4b)]['getPubSubTopics'](_0x2b4741);}catch(_0x2463d4){throw this['handleError'](_0x2463d4,{});}}['getObjectStoreBuckets'](_0x2c31a6){const _0x6ff9e=_0x45ef94;try{return this[_0x6ff9e(0xa4b)][_0x6ff9e(0x2e9)](_0x2c31a6);}catch(_0x58976e){throw this[_0x6ff9e(0x1e8)](_0x58976e,{});}}[_0x45ef94(0x283)](_0x47a594){const _0x238c51=_0x45ef94;try{return this[_0x238c51(0xa4b)][_0x238c51(0x283)](_0x47a594);}catch(_0x2cd226){throw this[_0x238c51(0x1e8)](_0x2cd226,{});}}[_0x45ef94(0x9d5)](_0x2a0dbb){const _0x496018=_0x45ef94;try{return this[_0x496018(0xa4b)]['getKeyValueDatabases'](_0x2a0dbb);}catch(_0x15c0a0){throw this['handleError'](_0x15c0a0,{});}}[_0x45ef94(0x3c6)](_0x464b34){const _0x10d98f=_0x45ef94;try{return this[_0x10d98f(0xa4b)]['getGenerativeAIContexts'](_0x464b34);}catch(_0x3acb2c){throw this[_0x10d98f(0x1e8)](_0x3acb2c,{});}}[_0x45ef94(0x2b7)](_0x3f66db){const _0x441529=_0x45ef94;try{return this[_0x441529(0xa4b)][_0x441529(0x2b7)](_0x3f66db);}catch(_0x1e3623){throw this['handleError'](_0x1e3623,{});}}[_0x45ef94(0x86)](_0x19a274){const _0x560b11=_0x45ef94;try{return this[_0x560b11(0xa4b)]['getGraphDatabases'](_0x19a274);}catch(_0x319a26){throw this[_0x560b11(0x1e8)](_0x319a26,{});}}['createLocalMediaStream'](_0x2c871e,_0x357c6a){const _0x25740b=_0x45ef94;if(!this[_0x25740b(0x380)]['features'][_0x25740b(0x62f)](_0xb0d358[_0x25740b(0x3c9)]))throw new _0x54ac69(_0x1dd92b[_0x25740b(0xa26)],_0x25740b(0x3ce));try{return this[_0x25740b(0xa4b)][_0x25740b(0x99d)](_0x2c871e,_0x357c6a);}catch(_0x45aca2){throw this[_0x25740b(0x1e8)](_0x45aca2,{});}}[_0x45ef94(0x814)](_0x305c0f,_0x7c6c92){const _0xcafaae=_0x45ef94;if(!this[_0xcafaae(0x380)][_0xcafaae(0x9dd)][_0xcafaae(0x62f)](_0xb0d358['MediaStream']))throw new _0x54ac69(_0x1dd92b[_0xcafaae(0xa26)],_0xcafaae(0x3ce));try{return this[_0xcafaae(0xa4b)][_0xcafaae(0x814)](_0x305c0f,_0x7c6c92);}catch(_0x5d43da){throw this[_0xcafaae(0x1e8)](_0x5d43da,{});}}[_0x45ef94(0x8f7)](_0xf1acfe){const _0x1430c4=_0x45ef94;if(!this[_0x1430c4(0x380)]['features'][_0x1430c4(0x62f)](_0xb0d358['MediaStream']))throw new _0x54ac69(_0x1dd92b[_0x1430c4(0xa26)],_0x1430c4(0x3ce));try{return this[_0x1430c4(0xa4b)]['getLocalMediaStreams'](_0xf1acfe);}catch(_0x11bea2){throw this['handleError'](_0x11bea2,{});}}[_0x45ef94(0x54f)](_0x5c45c9){const _0x213b2d=_0x45ef94;if(!this[_0x213b2d(0x380)][_0x213b2d(0x9dd)][_0x213b2d(0x62f)](_0xb0d358[_0x213b2d(0x3c9)]))throw new _0x54ac69(_0x1dd92b[_0x213b2d(0xa26)],'MediaStream\x20feature\x20not\x20enabled');try{return this[_0x213b2d(0xa4b)][_0x213b2d(0x54f)](_0x5c45c9);}catch(_0x31acef){throw this[_0x213b2d(0x1e8)](_0x31acef,{});}}[_0x45ef94(0x74)](_0xa4d98f){const _0x4977e8=_0x45ef94;try{return this[_0x4977e8(0xa4b)][_0x4977e8(0x74)](_0xa4d98f);}catch(_0x2a06a3){throw this[_0x4977e8(0x1e8)](_0x2a06a3,{});}}[_0x45ef94(0x6cd)](_0x124019,_0x2bce0c){const _0x3f25f2=_0x45ef94;return this[_0x3f25f2(0x7b9)][_0x3f25f2(0x6cd)](_0x124019,_0x2bce0c);}['getLocalNode'](){const _0x272875=_0x45ef94;return this['nodeManager'][_0x272875(0x4aa)]();}['getRemoteNodes'](_0x4386bf){const _0x19cc13=_0x45ef94;try{return this[_0x19cc13(0x7b9)][_0x19cc13(0x6c5)](_0x4386bf);}catch(_0x1b85be){throw this[_0x19cc13(0x1e8)](_0x1b85be,{});}}[_0x45ef94(0x402)](){const _0x20402f=_0x45ef94;return this[_0x20402f(0x537)][_0x20402f(0x402)]();}['isNodeReady'](_0x252be0){const _0x59b2fa=_0x45ef94;return this['nodeManager'][_0x59b2fa(0x358)](_0x252be0);}async[_0x45ef94(0x3f9)](_0x4f3219){const _0x2b8543=_0x45ef94;try{if(_0x301706[_0x2b8543(0x1d5)](_0x3e3f45['Events'],_0x2b8543(0xa44),this[_0x2b8543(0x7b9)][_0x2b8543(0x361)](),_0x4f3219),_0x598ca3(_0x4f3219,this[_0x2b8543(0x7b9)]['getLocalId']()))return void this['connectionManager'][_0x2b8543(0x746)](_0x4f3219);switch(_0x4f3219[_0x2b8543(0x753)]){case _0x43910d[_0x2b8543(0xc4)]:this[_0x2b8543(0x6a5)]['handleContentSystemEvents'](_0x4f3219),this[_0x2b8543(0x71)][_0x2b8543(0x9b8)](_0x4f3219),this[_0x2b8543(0xa4b)]['handleContentSystemEvents'](_0x4f3219);break;case _0x43910d[_0x2b8543(0x6f6)]:this[_0x2b8543(0x71)][_0x2b8543(0x122)](_0x4f3219),this[_0x2b8543(0x537)][_0x2b8543(0x122)](_0x4f3219),this['contentManager'][_0x2b8543(0x122)](_0x4f3219),this[_0x2b8543(0x7b9)][_0x2b8543(0x122)](_0x4f3219);break;case _0x43910d[_0x2b8543(0x367)]:this[_0x2b8543(0x24a)][_0x2b8543(0x65e)](_0x4f3219);break;case _0x43910d[_0x2b8543(0x580)]:this[_0x2b8543(0x24a)][_0x2b8543(0x39a)](_0x4f3219);break;case _0x43910d[_0x2b8543(0x936)]:this[_0x2b8543(0x3d3)][_0x2b8543(0x96f)](_0x4f3219);break;case _0x43910d[_0x2b8543(0x5c4)]:_0x4f3219[_0x2b8543(0x2ec)][_0x2b8543(0x6e1)]!==_0x3d7bb7[_0x2b8543(0x919)]?(this[_0x2b8543(0x71)][_0x2b8543(0x319)](_0x4f3219),this[_0x2b8543(0xa4b)][_0x2b8543(0x319)](_0x4f3219)):(this[_0x2b8543(0xa4b)][_0x2b8543(0x319)](_0x4f3219),this[_0x2b8543(0x71)][_0x2b8543(0x319)](_0x4f3219));break;case _0x43910d[_0x2b8543(0x529)]:await this['connectionManager'][_0x2b8543(0x2b4)](_0x4f3219),this[_0x2b8543(0x6a5)][_0x2b8543(0x2b4)](_0x4f3219),this[_0x2b8543(0x7b9)][_0x2b8543(0x2b4)](_0x4f3219),this[_0x2b8543(0x71)][_0x2b8543(0x2b4)](_0x4f3219);}}catch(_0x437551){throw _0x301706['debug'](_0x2b8543(0x3f9),_0x437551),this['handleError'](_0x437551,{});}}[_0x45ef94(0x1e8)](_0x53faf5,_0x29793f){const _0x430448=_0x45ef94;if(!(_0x53faf5 instanceof _0x3851a6)){if(_0x53faf5 instanceof _0x54ac69)throw _0x53faf5;if(!(_0x53faf5 instanceof Error))throw new _0x54ac69(_0x1dd92b[_0x430448(0x541)],_0x430448(0x842)+_0x53faf5);if(!(_0x53faf5 instanceof _0x279d71))throw new _0x54ac69(_0x1dd92b[_0x430448(0x541)],_0x430448(0x54d)+_0x53faf5[_0x430448(0x7c2)]);switch(_0x53faf5['code']){case _0x279d71['codes']['MissingSystemTopic']:case _0x279d71['codes'][_0x430448(0x48d)]:case _0x279d71[_0x430448(0x9c2)]['PeerConnectionInvalidDestination']:case _0x279d71[_0x430448(0x9c2)]['ConnectionNotinitialized']:case _0x279d71[_0x430448(0x9c2)]['ConnectionNotConnected']:case _0x279d71[_0x430448(0x9c2)]['InvalidDataChannel']:case _0x279d71['codes'][_0x430448(0x384)]:case _0x279d71['codes']['InvalidSubscriber']:case _0x279d71[_0x430448(0x9c2)]['SubscriptionRequestDoesNotExist']:case _0x279d71[_0x430448(0x9c2)]['SubscriptionRequestFailed']:case _0x279d71[_0x430448(0x9c2)][_0x430448(0x5be)]:case _0x279d71[_0x430448(0x9c2)][_0x430448(0x61c)]:}throw _0x301706[_0x430448(0x2a9)]('sdk-internal-error:\x20'+_0x53faf5['message'],{'clusterId':this[_0x430448(0x9aa)],'nodeId':this[_0x430448(0x5e4)]['getId'](),'nodeType':this['localNode'][_0x430448(0x6e1)]},_0x53faf5),new _0x54ac69(_0x1dd92b[_0x430448(0x541)],'Internal\x20SDK\x20error:\x20'+_0x53faf5[_0x430448(0x7c2)]);}}[_0x45ef94(0xb4)](){const _0x58ac8c=_0x45ef94;return{'mediator':this,'vendorId':this['vendorId'],'clusterId':this[_0x58ac8c(0x9aa)],'localNode':this[_0x58ac8c(0x5e4)]};}[_0x45ef94(0x14f)](){const _0xc99f42=_0x45ef94;return this[_0xc99f42(0x9da)]['subscribe'](_0x1f6030=>{const _0x5a7a80=_0xc99f42,_0x1d0123=_0x4f155b(_0x1f6030,this[_0x5a7a80(0x5e4)][_0x5a7a80(0xa2a)]()),_0x590d7d=_0x1f6030[_0x5a7a80(0x753)]===_0x43910d[_0x5a7a80(0x936)]||_0x1f6030[_0x5a7a80(0x753)]===_0x43910d[_0x5a7a80(0x529)]&&_0x1f6030['content']['type']===_0x565f29['Stats']?_0x3e3f45['SystemStats']:_0x3e3f45[_0x5a7a80(0xa3c)];_0x301706[_0x5a7a80(0x93f)](_0x590d7d,_0x1f6030[_0x5a7a80(0xb1)]+_0x5a7a80(0x4cc)+_0x1d0123,_0x1f6030),this[_0x5a7a80(0x3f9)](_0x1f6030)[_0x5a7a80(0x651)](_0x3f096c=>{const _0x12c7d1=_0x5a7a80;console[_0x12c7d1(0x2a9)](_0x3f096c);});});}async['syncKeyValueDatabase'](_0x340a7c){const _0x5732a7=_0x45ef94,{timingLogger:_0x2733ce,logger:_0x3367bf,logBeforeSync:_0x4e9493,logAfterSync:_0x1eebe9}=function(_0x40fcfe,_0x70c244){const _0x22f729=a0_0x395e;if(!_0x301706[_0x22f729(0x4d0)](_0x70c244))return _0x301706['debug']('Logging\x20not\x20enabled\x20for\x20channel\x20'+_0x70c244),{..._0x45df3d(_0x40fcfe,_0x70c244),'syncStartTime':0x0,'logBeforeSync':()=>0x0,'logAfterSync':()=>{}};const {timingLogger:_0x1d2184,logger:_0x57c02e}=_0x45df3d(_0x40fcfe,_0x70c244);let _0x8e9296=0x0;return _0x8e9296=Date[_0x22f729(0x69)](),{'syncStartTime':_0x8e9296,'timingLogger':_0x1d2184,'logger':_0x57c02e,'logBeforeSync':()=>(_0x264e87(_0x70c244,_0x22f729(0x51e)),_0x1d2184[_0x22f729(0x69)]()),'logAfterSync':(_0x49a288,_0x30ddbb)=>{const _0x5b6fcf=_0x22f729,_0x457687=Date['now']();_0x264e87(_0x70c244,_0x5b6fcf(0x98a)+_0x30ddbb);const _0x71989b=(_0x457687-_0x8e9296)/0x3e8,_0x2d2e72=(_0x457687-_0x49a288)/0x3e8;_0x301706[_0x5b6fcf(0x1d5)](_0x70c244,_0x5b6fcf(0x6ee),_0x40fcfe,_0x5b6fcf(0xcf)+_0x71989b[_0x5b6fcf(0x8e4)](0x2)+'\x20seconds','\x0a\x20===\x20Wait\x20Time:\x20'+_0x2d2e72[_0x5b6fcf(0x8e4)](0x3)+_0x5b6fcf(0x2cc),_0x5b6fcf(0x756)+((_0x457687-_0x8e9296)/0x3e8-_0x2d2e72)[_0x5b6fcf(0x8e4)](0x2)+_0x5b6fcf(0x2cc));}};}(_0x340a7c['getLabel'](),_0x3e3f45['KeyValueDatabase']);_0x3367bf[_0x5732a7(0x1d5)](_0x5732a7(0x839));const _0x428a08=this[_0x5732a7(0x7b9)][_0x5732a7(0x2f2)]()['length']>0x0;if(_0x428a08){_0x3367bf[_0x5732a7(0x1d5)](_0x5732a7(0x4c6),()=>this['nodeManager'][_0x5732a7(0x2f2)]()),_0x2733ce[_0x5732a7(0x21b)](),await Promise[_0x5732a7(0x7cb)](this[_0x5732a7(0x7b9)][_0x5732a7(0x2f2)]()[_0x5732a7(0x1f8)](async _0x1c7b6a=>await this[_0x5732a7(0x7b9)][_0x5732a7(0x358)](_0x1c7b6a)))[_0x5732a7(0x651)](_0x2c03bc=>_0x301706[_0x5732a7(0x90)](_0x5732a7(0x7d9),{'nodeId':this['localNode'][_0x5732a7(0xa2a)](),'nodeType':this[_0x5732a7(0x5e4)][_0x5732a7(0x6e1)]}));const _0x5ef25c=_0x3367bf['performCalculation'](()=>this['nodeManager'][_0x5732a7(0x2f2)](),[]);_0x2733ce[_0x5732a7(0x1af)](_0x5732a7(0x62b)+_0x5ef25c+'\x20were\x20ready\x20in');}_0x1eebe9(_0x4e9493(),await _0x340a7c[_0x5732a7(0x18f)](_0x428a08,async()=>{const _0xec906f=_0x5732a7;_0x2733ce[_0xec906f(0x21b)](),await this[_0xec906f(0x7b9)][_0xec906f(0x84b)](),_0x2733ce[_0xec906f(0x1af)](_0xec906f(0x909)),_0x340a7c[_0xec906f(0x18f)](!0x0,()=>{const _0x3b9585=_0xec906f;_0x3367bf['log'](_0x3b9585(0x91e)),_0x340a7c[_0x3b9585(0x18f)](!0x1);},!0x0);}));}}class _0x4b8912{[_0x45ef94(0x154)];[_0x45ef94(0x9aa)];['authNode'];[_0x45ef94(0x2aa)];[_0x45ef94(0x32d)];constructor(_0x738920,_0x3a6a82,_0xd584c0,_0x48acb2,_0x589c66,_0x260ec3,_0x20910b=new _0x453ad7()){const _0x4977f4=_0x45ef94;this[_0x4977f4(0x154)]=_0x738920,this[_0x4977f4(0x9aa)]=_0x3a6a82,this['authNode']=_0xd584c0,this['eventEmitter']=_0x20910b,this['orchestrator']=new _0x26527c(this['vendorId'],this[_0x4977f4(0x9aa)],_0xd584c0,_0x48acb2,_0x589c66,_0x260ec3,this);}async[_0x45ef94(0x981)](){const _0x5dce06=_0x45ef94;await this[_0x5dce06(0x32d)][_0x5dce06(0x47a)](),this[_0x5dce06(0x1a3)][_0x5dce06(0x6e1)]===_0x29184c[_0x5dce06(0xc1)][_0x5dce06(0x8d2)]&&this['authNode'][_0x5dce06(0xa4f)](this[_0x5dce06(0x9aa)],_0x3ce434=>{const _0x435fd4=_0x5dce06;this['orchestrator'][_0x435fd4(0x544)](_0x3ce434);});}[_0x45ef94(0x891)](_0x24aea1={}){const _0x18a3e6=_0x45ef94;this[_0x18a3e6(0x32d)]['close'](_0x24aea1),this[_0x18a3e6(0x1a3)][_0x18a3e6(0x6e1)]===_0x29184c[_0x18a3e6(0xc1)][_0x18a3e6(0x8d2)]&&this['authNode'][_0x18a3e6(0x752)](this[_0x18a3e6(0x9aa)]),this[_0x18a3e6(0x948)]('cluster-leave',void 0x0);}['openPubSubTopic'](_0x161df8){const _0xae1108=_0x45ef94,_0x4104cd=this[_0xae1108(0x32d)][_0xae1108(0x2c1)](_0x161df8);return{'getName':_0x4104cd[_0xae1108(0x3ae)][_0xae1108(0x26b)](_0x4104cd),'getOwnerId':_0x4104cd[_0xae1108(0x525)]['bind'](_0x4104cd),'getContentType':_0x4104cd[_0xae1108(0xf7)][_0xae1108(0x26b)](_0x4104cd),'publish':_0x4104cd[_0xae1108(0x379)][_0xae1108(0x26b)](_0x4104cd),'subscribe':_0x4104cd[_0xae1108(0x79d)][_0xae1108(0x26b)](_0x4104cd),'unsubscribe':_0x4104cd[_0xae1108(0x2b6)][_0xae1108(0x26b)](_0x4104cd),'close':_0x4104cd['close'][_0xae1108(0x26b)](_0x4104cd)};}async[_0x45ef94(0x47e)](_0x23c9bc,_0x477734){const _0x34269a=_0x45ef94,_0x6169c8=await this['orchestrator']['openObjectStoreBucket'](_0x23c9bc,_0x477734);return{'getName':_0x6169c8['getName'][_0x34269a(0x26b)](_0x6169c8),'getOwnerId':_0x6169c8[_0x34269a(0x525)][_0x34269a(0x26b)](_0x6169c8),'getContentType':_0x6169c8[_0x34269a(0xf7)][_0x34269a(0x26b)](_0x6169c8),'publish':_0x6169c8['publish'][_0x34269a(0x26b)](_0x6169c8),'unpublish':_0x6169c8['unpublish'][_0x34269a(0x26b)](_0x6169c8),'get':_0x6169c8['get'][_0x34269a(0x26b)](_0x6169c8),'list':_0x6169c8[_0x34269a(0x600)]['bind'](_0x6169c8),'getSize':_0x6169c8[_0x34269a(0x888)][_0x34269a(0x26b)](_0x6169c8),'subscribe':_0x6169c8[_0x34269a(0x79d)]['bind'](_0x6169c8),'unsubscribe':_0x6169c8[_0x34269a(0x2b6)][_0x34269a(0x26b)](_0x6169c8),'close':_0x6169c8[_0x34269a(0x8b0)][_0x34269a(0x26b)](_0x6169c8)};}async[_0x45ef94(0x35e)](_0x2b56d6,_0x19b2a1){const _0x563651=_0x45ef94,_0x50942a=await this['orchestrator'][_0x563651(0x35e)](_0x2b56d6,_0x19b2a1);return{'getName':_0x50942a[_0x563651(0x3ae)]['bind'](_0x50942a),'getOwnerId':_0x50942a[_0x563651(0x525)][_0x563651(0x26b)](_0x50942a),'getContentType':_0x50942a[_0x563651(0xf7)][_0x563651(0x26b)](_0x50942a),'close':_0x50942a[_0x563651(0x8b0)][_0x563651(0x26b)](_0x50942a),'get':_0x50942a[_0x563651(0x1f5)][_0x563651(0x26b)](_0x50942a),'list':_0x50942a[_0x563651(0x600)][_0x563651(0x26b)](_0x50942a),'subscribe':_0x50942a[_0x563651(0x79d)]['bind'](_0x50942a),'unsubscribe':_0x50942a[_0x563651(0x2b6)][_0x563651(0x26b)](_0x50942a)};}async[_0x45ef94(0x2de)](_0x4cb428,_0x73a859,_0x105010){const _0x1b7f06=_0x45ef94,_0x2090da=await this[_0x1b7f06(0x32d)]['openKeyValueDatabase'](_0x4cb428,_0x73a859,_0x105010);return{'getName':_0x2090da[_0x1b7f06(0x3ae)][_0x1b7f06(0x26b)](_0x2090da),'getOwnerId':_0x2090da['getOwnerId'][_0x1b7f06(0x26b)](_0x2090da),'getContentType':_0x2090da['getContentType'][_0x1b7f06(0x26b)](_0x2090da),'getTable':_0x2090da[_0x1b7f06(0xa1b)]['bind'](_0x2090da),'subscribe':_0x2090da['subscribe']['bind'](_0x2090da),'unsubscribe':_0x2090da[_0x1b7f06(0x2b6)][_0x1b7f06(0x26b)](_0x2090da),'close':_0x2090da[_0x1b7f06(0x8b0)]['bind'](_0x2090da)};}async[_0x45ef94(0x741)](_0x2817c0){const _0x214337=_0x45ef94,_0x200dc2=await this[_0x214337(0x32d)]['openJobDispatcher'](_0x2817c0);return{'getName':_0x200dc2[_0x214337(0x3ae)]['bind'](_0x200dc2),'getOwnerId':_0x200dc2[_0x214337(0x525)][_0x214337(0x26b)](_0x200dc2),'getContentType':_0x200dc2[_0x214337(0xf7)][_0x214337(0x26b)](_0x200dc2),'createJob':_0x200dc2[_0x214337(0x481)]['bind'](_0x200dc2),'getJob':_0x200dc2[_0x214337(0x699)][_0x214337(0x26b)](_0x200dc2),'getJobs':_0x200dc2['getJobs'][_0x214337(0x26b)](_0x200dc2),'close':_0x200dc2[_0x214337(0x8b0)][_0x214337(0x26b)](_0x200dc2)};}async['openJobWorker'](_0x182388){const _0x2bbbba=_0x45ef94,_0x2b8a0d=await this[_0x2bbbba(0x32d)][_0x2bbbba(0x5ba)](_0x182388);return{'close':_0x2b8a0d['close'][_0x2bbbba(0x26b)](_0x2b8a0d)};}async['openGenerativeAIContext'](_0x4d4e0a){const _0x5783ef=_0x45ef94,_0x7ae590=await this[_0x5783ef(0x32d)]['openGenerativeAIContext'](_0x4d4e0a);return{'createAIJob':_0x7ae590[_0x5783ef(0x7bf)]['bind'](_0x7ae590),'getDataBucketIds':_0x7ae590[_0x5783ef(0xa01)][_0x5783ef(0x26b)](_0x7ae590),'close':_0x7ae590[_0x5783ef(0x8b0)][_0x5783ef(0x26b)](_0x7ae590)};}async['openGenerativeAIWorker'](_0x43738d){const _0x3bb3ae=_0x45ef94,_0x26a0f1=await this['orchestrator'][_0x3bb3ae(0x573)](_0x43738d);return{'close':_0x26a0f1[_0x3bb3ae(0x8b0)][_0x3bb3ae(0x26b)](_0x26a0f1)};}[_0x45ef94(0x7bb)](_0x5c7d77){const _0x4a8d39=_0x45ef94,_0x52ae38=this[_0x4a8d39(0x32d)][_0x4a8d39(0x7bb)](_0x5c7d77);return{'getName':_0x52ae38[_0x4a8d39(0x3ae)][_0x4a8d39(0x26b)](_0x52ae38),'getOwnerId':_0x52ae38[_0x4a8d39(0x525)][_0x4a8d39(0x26b)](_0x52ae38),'getContentType':_0x52ae38[_0x4a8d39(0xf7)]['bind'](_0x52ae38),'addNode':_0x52ae38[_0x4a8d39(0x999)]['bind'](_0x52ae38),'addEdge':_0x52ae38['addEdge'][_0x4a8d39(0x26b)](_0x52ae38),'getContent':_0x52ae38[_0x4a8d39(0x246)][_0x4a8d39(0x26b)](_0x52ae38),'remove':_0x52ae38[_0x4a8d39(0x175)][_0x4a8d39(0x26b)](_0x52ae38),'saveToDisk':_0x52ae38['saveToDisk']['bind'](_0x52ae38),'loadFromDisk':_0x52ae38[_0x4a8d39(0x7b6)][_0x4a8d39(0x26b)](_0x52ae38),'close':_0x52ae38[_0x4a8d39(0x8b0)]['bind'](_0x52ae38)};}[_0x45ef94(0x37b)](_0x262479){const _0x4a60c2=_0x45ef94,_0x1c5234=this[_0x4a60c2(0x32d)][_0x4a60c2(0x37b)](_0x262479);return{'getName':_0x1c5234[_0x4a60c2(0x3ae)]['bind'](_0x1c5234),'getOwnerId':_0x1c5234[_0x4a60c2(0x525)][_0x4a60c2(0x26b)](_0x1c5234),'getContentType':_0x1c5234[_0x4a60c2(0xf7)][_0x4a60c2(0x26b)](_0x1c5234),'search':_0x1c5234[_0x4a60c2(0x97e)][_0x4a60c2(0x26b)](_0x1c5234),'insert':_0x1c5234[_0x4a60c2(0x9bc)]['bind'](_0x1c5234),'remove':_0x1c5234['remove'][_0x4a60c2(0x26b)](_0x1c5234),'saveToDisk':_0x1c5234[_0x4a60c2(0x82a)][_0x4a60c2(0x26b)](_0x1c5234),'loadFromDisk':_0x1c5234[_0x4a60c2(0x7b6)][_0x4a60c2(0x26b)](_0x1c5234),'close':_0x1c5234['close'][_0x4a60c2(0x26b)](_0x1c5234)};}[_0x45ef94(0x751)](_0x5167c6){const _0x373273=_0x45ef94;return this[_0x373273(0x32d)][_0x373273(0x751)](_0x5167c6)[_0x373273(0x1f8)](_0x375fcc=>({'getName':_0x375fcc[_0x373273(0x3ae)][_0x373273(0x26b)](_0x375fcc),'getOwnerId':_0x375fcc[_0x373273(0x525)][_0x373273(0x26b)](_0x375fcc),'getContentType':_0x375fcc[_0x373273(0xf7)][_0x373273(0x26b)](_0x375fcc),'publish':_0x375fcc[_0x373273(0x379)][_0x373273(0x26b)](_0x375fcc),'subscribe':_0x375fcc[_0x373273(0x79d)][_0x373273(0x26b)](_0x375fcc),'unsubscribe':_0x375fcc[_0x373273(0x2b6)][_0x373273(0x26b)](_0x375fcc),'close':_0x375fcc[_0x373273(0x8b0)][_0x373273(0x26b)](_0x375fcc)}));}[_0x45ef94(0x2e9)](_0x13af3f){const _0x2fe8ad=_0x45ef94;return this['orchestrator']['getObjectStoreBuckets'](_0x13af3f)[_0x2fe8ad(0x1f8)](_0x5f449c=>({'getName':_0x5f449c[_0x2fe8ad(0x3ae)][_0x2fe8ad(0x26b)](_0x5f449c),'getOwnerId':_0x5f449c[_0x2fe8ad(0x525)][_0x2fe8ad(0x26b)](_0x5f449c),'getContentType':_0x5f449c[_0x2fe8ad(0xf7)][_0x2fe8ad(0x26b)](_0x5f449c),'publish':_0x5f449c[_0x2fe8ad(0x379)][_0x2fe8ad(0x26b)](_0x5f449c),'unpublish':_0x5f449c[_0x2fe8ad(0x4e4)][_0x2fe8ad(0x26b)](_0x5f449c),'get':_0x5f449c['get'][_0x2fe8ad(0x26b)](_0x5f449c),'list':_0x5f449c[_0x2fe8ad(0x600)][_0x2fe8ad(0x26b)](_0x5f449c),'getSize':_0x5f449c[_0x2fe8ad(0x888)][_0x2fe8ad(0x26b)](_0x5f449c),'subscribe':_0x5f449c['subscribe'][_0x2fe8ad(0x26b)](_0x5f449c),'unsubscribe':_0x5f449c['unsubscribe'][_0x2fe8ad(0x26b)](_0x5f449c),'close':_0x5f449c[_0x2fe8ad(0x8b0)]['bind'](_0x5f449c)}));}[_0x45ef94(0x283)](_0x599e2e){const _0x43406b=_0x45ef94;return this[_0x43406b(0x32d)][_0x43406b(0x283)](_0x599e2e)[_0x43406b(0x1f8)](_0x365498=>({'getName':_0x365498[_0x43406b(0x3ae)][_0x43406b(0x26b)](_0x365498),'getOwnerId':_0x365498[_0x43406b(0x525)]['bind'](_0x365498),'getContentType':_0x365498['getContentType'][_0x43406b(0x26b)](_0x365498),'close':_0x365498['close'][_0x43406b(0x26b)](_0x365498),'get':_0x365498[_0x43406b(0x1f5)][_0x43406b(0x26b)](_0x365498),'list':_0x365498[_0x43406b(0x600)][_0x43406b(0x26b)](_0x365498),'subscribe':_0x365498[_0x43406b(0x79d)][_0x43406b(0x26b)](_0x365498),'unsubscribe':_0x365498[_0x43406b(0x2b6)][_0x43406b(0x26b)](_0x365498)}));}[_0x45ef94(0x9d5)](_0x42a4dc){const _0x1797ca=_0x45ef94;return this['orchestrator'][_0x1797ca(0x9d5)](_0x42a4dc)['map'](_0x1bfb7f=>({'getName':_0x1bfb7f[_0x1797ca(0x3ae)]['bind'](_0x1bfb7f),'getOwnerId':_0x1bfb7f['getOwnerId'][_0x1797ca(0x26b)](_0x1bfb7f),'getContentType':_0x1bfb7f[_0x1797ca(0xf7)][_0x1797ca(0x26b)](_0x1bfb7f),'getTable':_0x1bfb7f[_0x1797ca(0xa1b)]['bind'](_0x1bfb7f),'subscribe':_0x1bfb7f[_0x1797ca(0x79d)][_0x1797ca(0x26b)](_0x1bfb7f),'unsubscribe':_0x1bfb7f[_0x1797ca(0x2b6)][_0x1797ca(0x26b)](_0x1bfb7f),'close':_0x1bfb7f[_0x1797ca(0x8b0)][_0x1797ca(0x26b)](_0x1bfb7f)}));}[_0x45ef94(0x3c6)](_0x2ffa46){const _0x289e78=_0x45ef94;return this['orchestrator'][_0x289e78(0x3c6)](_0x2ffa46)[_0x289e78(0x1f8)](_0x177393=>({'createAIJob':_0x177393[_0x289e78(0x7bf)][_0x289e78(0x26b)](_0x177393),'getDataBucketIds':_0x177393[_0x289e78(0xa01)][_0x289e78(0x26b)](_0x177393),'close':_0x177393['close'][_0x289e78(0x26b)](_0x177393)}));}[_0x45ef94(0x2b7)](_0x23b59e){const _0xc98418=_0x45ef94;return this['orchestrator'][_0xc98418(0x2b7)](_0x23b59e)['map'](_0x3ddb62=>({'close':_0x3ddb62[_0xc98418(0x8b0)]['bind'](_0x3ddb62)}));}[_0x45ef94(0x73)](_0x5427cd,_0x1dd022){const _0x18302c=_0x45ef94,_0x2b5223=this[_0x18302c(0x32d)][_0x18302c(0x99d)](_0x5427cd,_0x1dd022);return{'getLabel':_0x2b5223[_0x18302c(0x32b)][_0x18302c(0x26b)](_0x2b5223),'getOwnerId':_0x2b5223[_0x18302c(0x525)]['bind'](_0x2b5223),'getContentType':_0x2b5223['getContentType'][_0x18302c(0x26b)](_0x2b5223),'getMediaStream':_0x2b5223[_0x18302c(0x1d9)][_0x18302c(0x26b)](_0x2b5223),'setPriority':_0x2b5223[_0x18302c(0x485)][_0x18302c(0x26b)](_0x2b5223),'unpublish':_0x2b5223[_0x18302c(0x4e4)][_0x18302c(0x26b)](_0x2b5223)};}[_0x45ef94(0x2e3)](_0x364af0,_0x3ae6a6){const _0x15ee9e=_0x45ef94,_0x9011e=this[_0x15ee9e(0x32d)][_0x15ee9e(0x814)](_0x364af0,_0x3ae6a6);return{'getLabel':_0x9011e[_0x15ee9e(0x32b)][_0x15ee9e(0x26b)](_0x9011e),'getOwnerId':_0x9011e[_0x15ee9e(0x525)]['bind'](_0x9011e),'getContentType':_0x9011e[_0x15ee9e(0xf7)][_0x15ee9e(0x26b)](_0x9011e),'setPriority':_0x9011e[_0x15ee9e(0x485)][_0x15ee9e(0x26b)](_0x9011e),'unpublish':_0x9011e[_0x15ee9e(0x4e4)][_0x15ee9e(0x26b)](_0x9011e),'getMediaStream':_0x9011e[_0x15ee9e(0x1d9)][_0x15ee9e(0x26b)](_0x9011e),'addTrack':_0x9011e[_0x15ee9e(0xa31)][_0x15ee9e(0x26b)](_0x9011e),'removeTrack':_0x9011e[_0x15ee9e(0x323)][_0x15ee9e(0x26b)](_0x9011e),'replaceTrack':_0x9011e[_0x15ee9e(0x4fd)]['bind'](_0x9011e),'setTransformations':_0x9011e[_0x15ee9e(0x220)][_0x15ee9e(0x26b)](_0x9011e)};}[_0x45ef94(0x8f7)](_0x44922a){const _0x593f70=_0x45ef94;return this[_0x593f70(0x32d)][_0x593f70(0x8f7)](_0x44922a)[_0x593f70(0x1f8)](_0x17e1ce=>({'getLabel':_0x17e1ce[_0x593f70(0x32b)]['bind'](_0x17e1ce),'getOwnerId':_0x17e1ce[_0x593f70(0x525)][_0x593f70(0x26b)](_0x17e1ce),'getContentType':_0x17e1ce[_0x593f70(0xf7)][_0x593f70(0x26b)](_0x17e1ce),'getMediaStream':_0x17e1ce[_0x593f70(0x1d9)][_0x593f70(0x26b)](_0x17e1ce),'setPriority':_0x17e1ce['setPriority'][_0x593f70(0x26b)](_0x17e1ce),'unpublish':_0x17e1ce[_0x593f70(0x4e4)]['bind'](_0x17e1ce)}));}[_0x45ef94(0x54f)](_0x4755bd){const _0x2b1344=_0x45ef94;return this[_0x2b1344(0x32d)][_0x2b1344(0x54f)](_0x4755bd)[_0x2b1344(0x1f8)](_0x1a498d=>({'getLabel':_0x1a498d[_0x2b1344(0x32b)][_0x2b1344(0x26b)](_0x1a498d),'getOwnerId':_0x1a498d['getOwnerId'][_0x2b1344(0x26b)](_0x1a498d),'getContentType':_0x1a498d[_0x2b1344(0xf7)]['bind'](_0x1a498d),'getMediaStream':_0x1a498d[_0x2b1344(0x1d9)][_0x2b1344(0x26b)](_0x1a498d),'subscribe':_0x1a498d[_0x2b1344(0x79d)][_0x2b1344(0x26b)](_0x1a498d),'unsubscribe':_0x1a498d[_0x2b1344(0x2b6)][_0x2b1344(0x26b)](_0x1a498d),'getAvailableTrackKinds':_0x1a498d[_0x2b1344(0x487)][_0x2b1344(0x26b)](_0x1a498d),'update':_0x1a498d[_0x2b1344(0x3c5)][_0x2b1344(0x26b)](_0x1a498d),'onProviderChange':_0x1a498d[_0x2b1344(0x9f7)][_0x2b1344(0x26b)](_0x1a498d)}));}[_0x45ef94(0x86)](_0x37960e){const _0x2ca645=_0x45ef94;return this[_0x2ca645(0x32d)][_0x2ca645(0x86)](_0x37960e)[_0x2ca645(0x1f8)](_0x1b0150=>({'getName':_0x1b0150['getName'][_0x2ca645(0x26b)](_0x1b0150),'getOwnerId':_0x1b0150['getOwnerId'][_0x2ca645(0x26b)](_0x1b0150),'getContentType':_0x1b0150['getContentType']['bind'](_0x1b0150),'addNode':_0x1b0150[_0x2ca645(0x999)][_0x2ca645(0x26b)](_0x1b0150),'addEdge':_0x1b0150[_0x2ca645(0x313)][_0x2ca645(0x26b)](_0x1b0150),'getContent':_0x1b0150[_0x2ca645(0x246)]['bind'](_0x1b0150),'remove':_0x1b0150[_0x2ca645(0x175)][_0x2ca645(0x26b)](_0x1b0150),'saveToDisk':_0x1b0150['saveToDisk'][_0x2ca645(0x26b)](_0x1b0150),'loadFromDisk':_0x1b0150[_0x2ca645(0x7b6)][_0x2ca645(0x26b)](_0x1b0150),'close':_0x1b0150[_0x2ca645(0x8b0)][_0x2ca645(0x26b)](_0x1b0150)}));}[_0x45ef94(0x74)](_0x5f2e61){const _0x426add=_0x45ef94;return this['orchestrator'][_0x426add(0x74)](_0x5f2e61)[_0x426add(0x1f8)](_0x2d0da9=>({'getName':_0x2d0da9[_0x426add(0x3ae)][_0x426add(0x26b)](_0x2d0da9),'getOwnerId':_0x2d0da9[_0x426add(0x525)][_0x426add(0x26b)](_0x2d0da9),'getContentType':_0x2d0da9[_0x426add(0xf7)][_0x426add(0x26b)](_0x2d0da9),'search':_0x2d0da9[_0x426add(0x97e)][_0x426add(0x26b)](_0x2d0da9),'insert':_0x2d0da9[_0x426add(0x9bc)][_0x426add(0x26b)](_0x2d0da9),'remove':_0x2d0da9[_0x426add(0x175)]['bind'](_0x2d0da9),'saveToDisk':_0x2d0da9[_0x426add(0x82a)]['bind'](_0x2d0da9),'loadFromDisk':_0x2d0da9['loadFromDisk'][_0x426add(0x26b)](_0x2d0da9),'close':_0x2d0da9['close'][_0x426add(0x26b)](_0x2d0da9)}));}[_0x45ef94(0x4aa)](){const _0x360034=_0x45ef94,_0x6a123a=this[_0x360034(0x32d)][_0x360034(0x4aa)]();switch(_0x6a123a[_0x360034(0x6e1)]){case _0x29184c[_0x360034(0xc1)][_0x360034(0x8d2)]:return{'type':_0x29184c[_0x360034(0xc1)][_0x360034(0x8d2)],'getId':_0x6a123a['getId'][_0x360034(0x26b)](_0x6a123a),'getDisplayName':_0x6a123a['getDisplayName'][_0x360034(0x26b)](_0x6a123a),'getEmail':_0x6a123a[_0x360034(0x2da)][_0x360034(0x26b)](_0x6a123a),'getRemoteConnections':_0x6a123a[_0x360034(0x596)][_0x360034(0x26b)](_0x6a123a),'setDisplayName':_0x6a123a[_0x360034(0x31c)]['bind'](_0x6a123a),'setEmail':_0x6a123a[_0x360034(0x4b0)][_0x360034(0x26b)](_0x6a123a)};case _0x29184c[_0x360034(0xc1)][_0x360034(0x767)]:default:return{'type':_0x29184c[_0x360034(0xc1)][_0x360034(0x767)],'getId':_0x6a123a['getId'][_0x360034(0x26b)](_0x6a123a),'getRemoteConnections':_0x6a123a[_0x360034(0x596)][_0x360034(0x26b)](_0x6a123a)};}}[_0x45ef94(0x6c5)](_0x1244dd){const _0x3dc634=_0x45ef94;return this[_0x3dc634(0x32d)][_0x3dc634(0x6c5)](_0x1244dd)[_0x3dc634(0x1f8)](_0x143566=>{const _0x5524fa=_0x3dc634;switch(_0x143566[_0x5524fa(0x6e1)]){case _0x29184c[_0x5524fa(0xc1)][_0x5524fa(0x8d2)]:return{'type':_0x29184c[_0x5524fa(0xc1)][_0x5524fa(0x8d2)],'getId':_0x143566['getId'][_0x5524fa(0x26b)](_0x143566),'getDisplayName':_0x143566[_0x5524fa(0x3c1)]['bind'](_0x143566),'getEmail':_0x143566[_0x5524fa(0x2da)]['bind'](_0x143566),'getRemoteConnections':_0x143566[_0x5524fa(0x596)][_0x5524fa(0x26b)](_0x143566)};case _0x29184c['NodeType'][_0x5524fa(0x767)]:return{'type':_0x29184c[_0x5524fa(0xc1)][_0x5524fa(0x767)],'getId':_0x143566['getId'][_0x5524fa(0x26b)](_0x143566),'getRemoteConnections':_0x143566['getRemoteConnections'][_0x5524fa(0x26b)](_0x143566)};default:throw new _0x54ac69(_0x1dd92b[_0x5524fa(0xc6)],_0x5524fa(0xa4));}});}['on']=(..._0x3e2ec7)=>{const _0x3cae3e=_0x45ef94;this[_0x3cae3e(0x2aa)]['on'](..._0x3e2ec7);};['emit']=(..._0x1391ab)=>this[_0x45ef94(0x2aa)]['emit'](..._0x1391ab);['off'](..._0x23bd6b){const _0x4c6c33=_0x45ef94;this[_0x4c6c33(0x2aa)][_0x4c6c33(0x6ad)](..._0x23bd6b);}}class _0xa008c6{['id'];['displayName'];[_0x45ef94(0x8a)];[_0x45ef94(0x6e1)]=_0x29184c[_0x45ef94(0xc1)]['User'];[_0x45ef94(0x874)]=new Map();[_0x45ef94(0x44f)]=_0x16e686();constructor(_0x22882e,_0x40185b,_0x453962){const _0x197745=_0x45ef94;this['id']=_0x22882e,this[_0x197745(0x3b1)]=_0x40185b,this['email']=_0x453962;}[_0x45ef94(0xa2a)](){return this['id'];}[_0x45ef94(0x3c1)](){const _0x74a7=_0x45ef94;return this[_0x74a7(0x3b1)];}[_0x45ef94(0x2da)](){const _0x1c85ab=_0x45ef94;return this[_0x1c85ab(0x8a)];}[_0x45ef94(0x31c)](_0x2ba7ec){const _0x98586=_0x45ef94;this['displayName']!==_0x2ba7ec&&(this[_0x98586(0x3b1)]=_0x2ba7ec,this[_0x98586(0x44f)]['publish'](this));}[_0x45ef94(0x4b0)](_0x179d7b){const _0x5a773c=_0x45ef94;this[_0x5a773c(0x8a)]!==_0x179d7b&&(this['email']=_0x179d7b,this[_0x5a773c(0x44f)][_0x5a773c(0x379)](this));}['registerCluster'](_0x59bfee,_0x5f0d40){const _0x248b33=_0x45ef94;if(this['joinedClusters'][_0x248b33(0x3bc)](_0x59bfee))return;const _0x1fc0ae=this[_0x248b33(0x44f)][_0x248b33(0x79d)](_0x5f0d40);this[_0x248b33(0x874)]['set'](_0x59bfee,_0x1fc0ae);}[_0x45ef94(0x752)](_0x4c1eb8){const _0x30d82d=_0x45ef94;if(!this[_0x30d82d(0x874)][_0x30d82d(0x3bc)](_0x4c1eb8))return;const _0x4b5822=this[_0x30d82d(0x874)]['get'](_0x4c1eb8);_0x4b5822&&_0x4b5822(),this[_0x30d82d(0x874)][_0x30d82d(0x991)](_0x4c1eb8);}}class _0x10af4c{[_0x45ef94(0x154)];[_0x45ef94(0x6ba)];constructor(_0x57a7f9){const _0x235e79=_0x45ef94;this[_0x235e79(0x154)]=_0x57a7f9;}async[_0x45ef94(0x653)](_0x764aaa){const _0x2d6c6a=_0x45ef94,_0xd5a455=await(0x0,_0x3c2d83['httpsCallable'])(_0x5e415d['getFunctions'](),_0x2d6c6a(0xe4))({'uid':_0x2d6c6a(0x923)+this[_0x2d6c6a(0x154)]+_0x2d6c6a(0x923)+_0x764aaa['id']}),_0x120873=await(0x0,_0x5dc519[_0x2d6c6a(0x6de)])(_0x5e415d[_0x2d6c6a(0x823)](),_0xd5a455[_0x2d6c6a(0x1a0)][_0x2d6c6a(0x168)]);this['user']=_0x120873[_0x2d6c6a(0x6ba)];}async['signOut'](){const _0x13f149=_0x45ef94;await(0x0,_0x5dc519[_0x13f149(0x8fe)])(_0x5e415d[_0x13f149(0x823)]());}['getIdToken'](){const _0x21370a=_0x45ef94;return this[_0x21370a(0x6ba)]?.[_0x21370a(0x148)]()??Promise['reject'](_0x21370a(0x14d));}}class _0x33a522{static ['instance'];[_0x45ef94(0x4bd)]=[];constructor(){}static[_0x45ef94(0x714)](){const _0x2a1a43=_0x45ef94;return _0x33a522['instance']||(_0x33a522[_0x2a1a43(0x155)]=new _0x33a522()),_0x33a522[_0x2a1a43(0x155)];}[_0x45ef94(0x47a)](){const _0x2b9a08=_0x45ef94;this[_0x2b9a08(0x9b4)](),this['checkMediaStream'](),this[_0x2b9a08(0x2f4)](),this[_0x2b9a08(0x8fd)](),this['checkDeviceConfig'](),this['checkAudioOutput'](),this[_0x2b9a08(0x78b)](),this['checkBackgrounds'](),this['checkWebGL'](),this[_0x2b9a08(0x80b)](),_0x301706['log'](_0x3e3f45[_0x2b9a08(0x69b)],_0x2b9a08(0xe8),{'featureSupport':this[_0x2b9a08(0x4bd)]});}['isFeatureSupported'](_0x5a8e6e){const _0x58db55=_0x45ef94,_0x49fc74=this[_0x58db55(0x4bd)]['find'](_0x6cdc8a=>_0x6cdc8a[_0x58db55(0x388)]===_0x5a8e6e);return!!_0x49fc74&&_0x49fc74[_0x58db55(0x3a3)];}['logSupport'](_0x16820c){const _0x34fc68=_0x45ef94;_0x301706[_0x34fc68(0x926)](_0x34fc68(0x207),{'nodeId':_0x16820c['getId'](),'nodeType':_0x16820c[_0x34fc68(0x6e1)],'data':{'featureSupport':this['featureSupport']}});}[_0x45ef94(0x9b4)](){const _0x2fed6e=_0x45ef94,_0x4134c3=_0x1abd35[_0x2fed6e(0x488)];let _0x4357f7=!0x1;'function'==typeof RTCPeerConnection&&'function'==typeof RTCIceCandidate&&'function'==typeof RTCSessionDescription?_0x4357f7=!0x0:_0x301706['log'](_0x3e3f45[_0x2fed6e(0x69b)],_0x2fed6e(0x335)+_0x4134c3+_0x2fed6e(0x244)),this[_0x2fed6e(0x4bd)][_0x2fed6e(0x59e)]({'name':_0x4134c3,'supported':_0x4357f7});}[_0x45ef94(0x88a)](){const _0x2b180e=_0x45ef94,_0x54a249=_0x1abd35[_0x2b180e(0x3c9)];let _0x4aec40=!0x1;'function'==typeof MediaStream&&_0x2b180e(0x858)==typeof MediaStreamTrack&&_0x2b180e(0x429)==typeof navigator&&_0x2b180e(0x429)==typeof navigator[_0x2b180e(0x724)]&&_0x2b180e(0x858)==typeof navigator['mediaDevices'][_0x2b180e(0x7e4)]?_0x4aec40=!0x0:_0x301706[_0x2b180e(0x1d5)](_0x3e3f45[_0x2b180e(0x69b)],_0x2b180e(0x335)+_0x54a249+_0x2b180e(0x244)),this[_0x2b180e(0x4bd)][_0x2b180e(0x59e)]({'name':_0x54a249,'supported':_0x4aec40});}[_0x45ef94(0x2f4)](){const _0x588ebd=_0x45ef94,_0x2108ba=_0x1abd35[_0x588ebd(0x7a0)];let _0x414bda=!0x1;_0x588ebd(0x429)==typeof navigator&&_0x588ebd(0x429)==typeof navigator['mediaDevices']&&_0x588ebd(0x858)==typeof navigator['mediaDevices'][_0x588ebd(0x864)]?_0x414bda=!0x0:_0x301706[_0x588ebd(0x1d5)](_0x3e3f45['Support'],_0x588ebd(0x335)+_0x2108ba+_0x588ebd(0x244)),this['featureSupport'][_0x588ebd(0x59e)]({'name':_0x2108ba,'supported':_0x414bda});}['checkAudioVolume'](){const _0x453d87=_0x45ef94,_0x9332a1=_0x1abd35['AudioVolume'];let _0x46fd7b=!0x1;_0x453d87(0x858)!=typeof AudioContext||_0x453d87(0x858)!=typeof ScriptProcessorNode&&_0x453d87(0x858)!=typeof AudioWorkletNode||'function'!=typeof MediaStreamAudioSourceNode?_0x301706[_0x453d87(0x1d5)](_0x3e3f45[_0x453d87(0x69b)],_0x453d87(0x335)+_0x9332a1+_0x453d87(0x244)):_0x46fd7b=!0x0,this['featureSupport'][_0x453d87(0x59e)]({'name':_0x9332a1,'supported':_0x46fd7b});}['checkDeviceConfig'](){const _0x31f5f4=_0x45ef94,_0xea31c9=_0x1abd35[_0x31f5f4(0x695)];let _0x46cb1b=!0x1;'object'==typeof navigator&&_0x31f5f4(0x429)==typeof navigator[_0x31f5f4(0x724)]&&_0x31f5f4(0x858)==typeof navigator[_0x31f5f4(0x724)][_0x31f5f4(0x2fb)]&&_0x31f5f4(0x858)==typeof MediaDeviceInfo?_0x46cb1b=!0x0:_0x301706[_0x31f5f4(0x1d5)](_0x3e3f45[_0x31f5f4(0x69b)],_0x31f5f4(0x335)+_0xea31c9+_0x31f5f4(0x244)),this[_0x31f5f4(0x4bd)][_0x31f5f4(0x59e)]({'name':_0xea31c9,'supported':_0x46cb1b});}['checkAudioOutput'](){const _0x460c57=_0x45ef94,_0xb157d4=_0x1abd35[_0x460c57(0xa0d)];let _0x5c0475=!0x1;_0x460c57(0x429)==typeof document&&'function'==typeof document['createElement'](_0x460c57(0x703))[_0x460c57(0x4ff)]?_0x5c0475=!0x0:_0x301706[_0x460c57(0x1d5)](_0x3e3f45[_0x460c57(0x69b)],'Support:\x20'+_0xb157d4+_0x460c57(0x244)),this[_0x460c57(0x4bd)][_0x460c57(0x59e)]({'name':_0xb157d4,'supported':_0x5c0475});}async[_0x45ef94(0x78b)](){const _0x31d41f=_0x45ef94,_0x2f7430=_0x1abd35[_0x31d41f(0x3a4)];let _0x269096=!0x1;try{const _0x554d29=document[_0x31d41f(0xa30)](_0x31d41f(0x514));if(MediaRecorder&&MediaSource&&_0x554d29[_0x31d41f(0x419)]){const _0x3bb6f4=_0x554d29[_0x31d41f(0x419)](),_0x1cd0ff=new MediaRecorder(_0x3bb6f4);_0x1cd0ff[_0x31d41f(0x21b)](),await new Promise(_0x4af076=>setTimeout(_0x4af076,0x7d0)),_0x1cd0ff[_0x31d41f(0x567)](),_0x269096=_0x31d41f(0x9a2)===_0x1cd0ff[_0x31d41f(0x6bb)];}}catch(_0x3d575){_0x301706[_0x31d41f(0x1d5)](_0x3e3f45['Support'],_0x31d41f(0x335)+_0x2f7430+'\x20check\x20failed',_0x3d575);}this[_0x31d41f(0x4bd)]['push']({'name':_0x2f7430,'supported':_0x269096}),_0x269096||_0x301706[_0x31d41f(0x1d5)](_0x3e3f45['Support'],'Support:\x20'+_0x2f7430+_0x31d41f(0x244));}[_0x45ef94(0x2c7)](){const _0x53c0f3=_0x45ef94,_0x37fcc8=_0x1abd35[_0x53c0f3(0x98e)];let _0x4157d0=!0x1;try{document['createElement'](_0x53c0f3(0x514))['captureStream']&&(_0x4157d0=!0x0);}catch(_0x401b08){_0x301706[_0x53c0f3(0x1d5)](_0x3e3f45['Support'],_0x53c0f3(0x335)+_0x37fcc8+'\x20check\x20failed',_0x401b08);}this[_0x53c0f3(0x4bd)][_0x53c0f3(0x59e)]({'name':_0x37fcc8,'supported':_0x4157d0}),_0x4157d0||_0x301706[_0x53c0f3(0x1d5)](_0x3e3f45[_0x53c0f3(0x69b)],'Support:\x20'+_0x37fcc8+_0x53c0f3(0x244));}[_0x45ef94(0x5c9)](){const _0x424c2b=_0x45ef94,_0x3639ef=_0x1abd35['WebGL'];let _0x383d17=!0x1;try{const _0x333e16=document[_0x424c2b(0xa30)](_0x424c2b(0x514));WebGLRenderingContext&&_0x333e16[_0x424c2b(0x9ea)](_0x424c2b(0x8b))&&(_0x383d17=!0x0);}catch(_0xfa9e2d){_0x301706['log'](_0x3e3f45[_0x424c2b(0x69b)],'Support:\x20'+_0x3639ef+'\x20check\x20failed',_0xfa9e2d);}this[_0x424c2b(0x4bd)][_0x424c2b(0x59e)]({'name':_0x3639ef,'supported':_0x383d17}),_0x383d17||_0x301706[_0x424c2b(0x1d5)](_0x3e3f45['Support'],_0x424c2b(0x335)+_0x3639ef+_0x424c2b(0x244));}[_0x45ef94(0x80b)](){const _0x4ae1a3=_0x45ef94,_0x1bf951=_0x1abd35[_0x4ae1a3(0x68d)];let _0x459b93=!0x1;_0x4ae1a3(0x858)==typeof AudioContext?_0x459b93=!0x0:_0x301706[_0x4ae1a3(0x1d5)](_0x3e3f45[_0x4ae1a3(0x69b)],'Support:\x20'+_0x1bf951+_0x4ae1a3(0x244)),this[_0x4ae1a3(0x4bd)][_0x4ae1a3(0x59e)]({'name':_0x1bf951,'supported':_0x459b93});}}const _0x577a2f=_0x33a522[_0x45ef94(0x714)]();class _0x5ae708{static [_0x45ef94(0x155)];static [_0x45ef94(0x2b6)];static [_0x45ef94(0x9a3)];['authService'];[_0x45ef94(0x154)];[_0x45ef94(0x205)];['configs'];[_0x45ef94(0x202)]=new Map();[_0x45ef94(0x1eb)];constructor(_0x1c5558,_0x4060a4,_0x5e3d5e){const _0x53d39a=_0x45ef94;this['vendorId']=_0x1c5558,this[_0x53d39a(0x380)]=_0x4060a4,this[_0x53d39a(0x8a2)]=new _0x10af4c(this['vendorId']),_0x577a2f[_0x53d39a(0x47a)](),this[_0x53d39a(0x205)]={'audioContext':_0x5e3d5e?.[_0x53d39a(0x37c)]??(_0x577a2f['isFeatureSupported'](_0x1abd35[_0x53d39a(0x68d)])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0x5e3d5e?.[_0x53d39a(0x65c)]??0x1,'minConnections':_0x5e3d5e?.[_0x53d39a(0x193)]??0x3,'maxConnections':_0x5e3d5e?.[_0x53d39a(0xc3)]??(_0x5e3d5e?.['minConnections']&&0x4*_0x5e3d5e[_0x53d39a(0x193)])??0xc,'maxDistance':_0x5e3d5e?.[_0x53d39a(0x107)]??0xa,'maxFps':_0x5e3d5e?.[_0x53d39a(0x7c4)]??0x18,'maxBpp':_0x5e3d5e?.[_0x53d39a(0xc0)]??0.12,'objectStoreConnector':_0x5e3d5e?.['objectStoreConnector']??_0x3dc9ec[_0x53d39a(0xab)],'externalStorageConnectors':_0x5e3d5e?.[_0x53d39a(0x824)],'keyValueDatabaseConnector':_0x5e3d5e?.[_0x53d39a(0x7f3)]??_0x517b74['IDBDatabaseConnector'],'peerConnectionConnector':_0x5e3d5e?.['peerConnectionConnector']??_0x5d3550[_0x53d39a(0x6ed)],'generativeAIWorkerConnectors':_0x5e3d5e?.['generativeAIWorkerConnectors'],'vectorDatabaseConnector':_0x5e3d5e?.['vectorDatabaseConnector'],'graphDatabaseConnector':_0x5e3d5e?.[_0x53d39a(0x883)],'documentParserConnector':_0x5e3d5e?.[_0x53d39a(0x97d)],'fileConnector':_0x5e3d5e?.[_0x53d39a(0x57b)],'nlpLibraryConnector':_0x5e3d5e?.[_0x53d39a(0x8ea)],'searchConnector':_0x5e3d5e?.[_0x53d39a(0x3d6)],'aiSearchConnector':_0x5e3d5e?.['aiSearchConnector'],'queryFileConnector':_0x5e3d5e?.[_0x53d39a(0x1e5)],'ragConnectors':_0x5e3d5e?.[_0x53d39a(0x24d)]},_0x5e3d5e?.[_0x53d39a(0x8b8)]&&this[_0x53d39a(0x205)][_0x53d39a(0x37c)]&&_0x4f43db['startNoThrottlingHack'](this[_0x53d39a(0x205)][_0x53d39a(0x37c)]),_0x301706[_0x53d39a(0x3de)](this[_0x53d39a(0x154)]),_0x5e3d5e?.[_0x53d39a(0x67f)]&&_0x301706[_0x53d39a(0x286)](_0x5e3d5e[_0x53d39a(0x67f)]);}static async[_0x45ef94(0x714)](_0x504344,_0x50d1c4,_0x20c4ee,_0x65a6d5,_0x1e90a0){const _0x352061=_0x45ef94;this['mode']=_0x20c4ee;const _0x2b2591=await this[_0x352061(0x716)](_0x504344,_0x50d1c4,_0x1e90a0);return _0x5ae708['instance']||(_0x5ae708[_0x352061(0x155)]=new _0x5ae708(_0x504344,_0x2b2591,_0x65a6d5)),{'close':_0x5ae708[_0x352061(0x155)][_0x352061(0x8b0)][_0x352061(0x26b)](_0x5ae708['instance']),'authenticateUser':_0x5ae708[_0x352061(0x155)][_0x352061(0x1ef)]['bind'](_0x5ae708[_0x352061(0x155)]),'authenticateAgent':_0x5ae708[_0x352061(0x155)][_0x352061(0x704)][_0x352061(0x26b)](_0x5ae708[_0x352061(0x155)]),'validateKey':_0x5ae708[_0x352061(0x155)][_0x352061(0xa25)]['bind'](_0x5ae708['instance']),'joinCluster':_0x5ae708[_0x352061(0x155)]['joinCluster'][_0x352061(0x26b)](_0x5ae708[_0x352061(0x155)])};}static async[_0x45ef94(0x645)](){const _0x1085b0=_0x45ef94;return _0x5e415d[_0x1085b0(0x550)]();}static[_0x45ef94(0xc5)](){const _0x20b0e2=_0x45ef94;return _0x25dcd9[_0x20b0e2(0xc5)];}async[_0x45ef94(0x8b0)](_0x41b2bd){const _0x18c3ef=_0x45ef94;this['clusters'][_0x18c3ef(0xa3f)](_0x2baa65=>{const _0xb7f42e=_0x18c3ef;_0x2baa65[_0xb7f42e(0x6ad)](),_0x2baa65[_0xb7f42e(0x891)](_0x41b2bd);}),this['clusters'][_0x18c3ef(0x1ac)](),this['options'][_0x18c3ef(0x37c)]&&_0x4f43db[_0x18c3ef(0x811)](),_0x5ae708[_0x18c3ef(0x2b6)]?.(),_0x5ae708[_0x18c3ef(0x2b6)]=void 0x0,this[_0x18c3ef(0x1eb)]=void 0x0,await this[_0x18c3ef(0x8a2)]['signOut'](),_0x5ae708[_0x18c3ef(0x155)]=void 0x0;}static async[_0x45ef94(0x716)](_0x53c55f,_0x3f67e0,_0xdfb296){const _0xc9cfdf=_0x45ef94;if(!this['mode'])throw new _0x54ac69(_0x1dd92b['NodeTypeRequired'],_0xc9cfdf(0x62a));let _0x31cd0a;try{_0x31cd0a=await(0x0,_0x3c2d83[_0xc9cfdf(0x57e)])(_0x5e415d[_0xc9cfdf(0x598)](),_0xc9cfdf(0x22c))({'vendorId':_0x53c55f,'accessToken':_0x3f67e0,'secretKey':_0xdfb296});}catch(_0x6f2641){throw new _0x54ac69(_0x1dd92b[_0xc9cfdf(0x972)],_0xc9cfdf(0x3da));}if(!this['isInternalSDKConfigs'](_0x31cd0a[_0xc9cfdf(0x1a0)]))throw new _0x54ac69(_0x1dd92b[_0xc9cfdf(0x972)],'Invalid\x20credentials');const _0x4e8dea=_0x31cd0a[_0xc9cfdf(0x1a0)];return _0x4e8dea[_0xc9cfdf(0x9dd)]||(_0x4e8dea[_0xc9cfdf(0x9dd)]=[]),this[_0xc9cfdf(0x2b6)]||(this[_0xc9cfdf(0x2b6)]=_0x4f43db['setInterval'](async()=>{const _0x465d59=_0xc9cfdf;try{const _0x40da4e=await this[_0x465d59(0x716)](_0x53c55f,_0x3f67e0,_0xdfb296);this[_0x465d59(0x9a3)]===_0x29184c[_0x465d59(0xc1)][_0x465d59(0x767)]&&(_0x40da4e[_0x465d59(0x29c)]=_0x40da4e[_0x465d59(0x29c)][_0x465d59(0x533)](_0x5631f2=>_0x5631f2[_0x465d59(0x998)][_0x465d59(0x1a2)](_0x465d59(0x70)))),_0x4e8dea['iceServers']=_0x40da4e[_0x465d59(0x29c)];}catch(_0x13c78d){}},0x1b7740)),_0x4e8dea;}async[_0x45ef94(0x1ef)](_0x545171){const _0x18aa63=_0x45ef94;if(_0x5ae708[_0x18aa63(0x9a3)]!==_0x29184c[_0x18aa63(0xc1)]['User'])throw new _0x54ac69(_0x1dd92b[_0x18aa63(0xc6)],_0x18aa63(0x1d3));await this[_0x18aa63(0x8a2)][_0x18aa63(0x653)](_0x545171);const _0x1ce9c2=new _0xa008c6(_0x545171['id'],_0x545171['displayName'],_0x545171[_0x18aa63(0x8a)]);return this['authContext']={'node':_0x1ce9c2},_0x577a2f[_0x18aa63(0xa1e)](_0x1ce9c2),{'type':_0x29184c[_0x18aa63(0xc1)]['User'],'getId':_0x1ce9c2[_0x18aa63(0xa2a)]['bind'](_0x1ce9c2),'getDisplayName':_0x1ce9c2[_0x18aa63(0x3c1)][_0x18aa63(0x26b)](_0x1ce9c2),'getEmail':_0x1ce9c2[_0x18aa63(0x2da)]['bind'](_0x1ce9c2),'setDisplayName':_0x1ce9c2['setDisplayName'][_0x18aa63(0x26b)](_0x1ce9c2),'setEmail':_0x1ce9c2[_0x18aa63(0x4b0)]['bind'](_0x1ce9c2)};}async[_0x45ef94(0x704)](_0x174602){const _0x2d7608=_0x45ef94;if(_0x5ae708[_0x2d7608(0x9a3)]!==_0x29184c[_0x2d7608(0xc1)][_0x2d7608(0x767)])throw new _0x54ac69(_0x1dd92b[_0x2d7608(0xc6)],'Node\x20type\x20is\x20invalid');const {id:_0x2a5b0c,groupId:_0x38bdd8}=_0x174602,_0x3db48d=await(0x0,_0x2a769c['getDoc'])((0x0,_0x2a769c[_0x2d7608(0x94)])(_0x5e415d[_0x2d7608(0x8f2)](),_0x2d7608(0x61e)+this[_0x2d7608(0x154)]+_0x2d7608(0x7b7)+_0x38bdd8));if(!_0x3db48d[_0x2d7608(0xf1)]())throw new _0x54ac69(_0x1dd92b['NodeNotAuthenticated'],_0x2d7608(0x8e6));const _0x555e91=_0x3db48d[_0x2d7608(0x1a0)]();await this['authService']['signInWithCredential']({'id':_0x2a5b0c});const _0x2de332=new _0x3f41e0(_0x2a5b0c,_0x38bdd8,this[_0x2d7608(0x154)],_0x555e91);return this[_0x2d7608(0x1eb)]={'node':_0x2de332},_0x577a2f['logSupport'](_0x2de332),this[_0x2d7608(0x197)](_0x2de332),{'type':_0x29184c[_0x2d7608(0xc1)][_0x2d7608(0x767)],'getId':_0x2de332['getId'][_0x2d7608(0x26b)](_0x2de332),'onConfigurationChange':_0x2de332[_0x2d7608(0x15b)][_0x2d7608(0x26b)](_0x2de332),'setReportCapacity':_0x2de332[_0x2d7608(0x647)]['bind'](_0x2de332)};}async[_0x45ef94(0xa25)](_0x1a17c3,_0x6e51a8){const _0x3152b0=_0x45ef94,_0x56829b=await(0x0,_0x2a769c[_0x3152b0(0x8aa)])((0x0,_0x2a769c[_0x3152b0(0x94)])(_0x5e415d[_0x3152b0(0x8f2)](),'apikeys/'+_0x1a17c3));if(!_0x56829b[_0x3152b0(0xf1)]()){const _0x592d31=atob(_0x1a17c3)[_0x3152b0(0x25b)](':'),_0x52f664=_0x592d31['shift'](),_0x86d53b=_0x592d31[_0x3152b0(0x981)](':');if(!_0x52f664||!_0x86d53b)throw new _0x54ac69(_0x1dd92b[_0x3152b0(0x972)],'Invalid\x20key');try{return await(0x0,_0x3c2d83['httpsCallable'])(_0x5e415d['getFunctions'](),_0x3152b0(0x22c))({'vendorId':_0x52f664,'accessToken':_0x86d53b,'origin':_0x6e51a8}),_0x52f664;}catch(_0x836246){throw new _0x54ac69(_0x1dd92b[_0x3152b0(0x972)],_0x3152b0(0x579));}}return _0x56829b['data']()[_0x3152b0(0x154)];}async['joinCluster'](_0x197e47){const _0x2d4f12=_0x45ef94;if(!this['authContext'])throw new _0x54ac69(_0x1dd92b['NodeNotAuthenticated'],_0x2d4f12(0x394));if(this[_0x2d4f12(0x1eb)][_0x2d4f12(0x6f9)][_0x2d4f12(0x6e1)]!==_0x29184c[_0x2d4f12(0xc1)][_0x2d4f12(0x8d2)])throw new _0x54ac69(_0x1dd92b[_0x2d4f12(0x9fd)],_0x2d4f12(0x6cb));if(this[_0x2d4f12(0x202)][_0x2d4f12(0x3bc)](_0x197e47))throw new _0x54ac69(_0x1dd92b['ClusterAlreadyJoined'],_0x2d4f12(0x35b));const _0x315fca=new _0x4b8912(this['vendorId'],_0x197e47,this[_0x2d4f12(0x1eb)][_0x2d4f12(0x6f9)],this[_0x2d4f12(0x8a2)],this[_0x2d4f12(0x205)],this[_0x2d4f12(0x380)]);return await _0x315fca[_0x2d4f12(0x981)](),this[_0x2d4f12(0x473)](_0x197e47,_0x315fca),_0x301706[_0x2d4f12(0x926)](_0x2d4f12(0x7fc),{'clusterId':_0x197e47,'nodeId':this[_0x2d4f12(0x1eb)][_0x2d4f12(0x6f9)]['getId'](),'nodeType':this[_0x2d4f12(0x1eb)][_0x2d4f12(0x6f9)][_0x2d4f12(0x6e1)]}),{'leave':_0x315fca[_0x2d4f12(0x891)][_0x2d4f12(0x26b)](_0x315fca),'getLocalNode':_0x315fca[_0x2d4f12(0x4aa)][_0x2d4f12(0x26b)](_0x315fca),'openPubSubTopic':_0x315fca[_0x2d4f12(0x2c1)][_0x2d4f12(0x26b)](_0x315fca),'openObjectStoreBucket':_0x315fca[_0x2d4f12(0x47e)][_0x2d4f12(0x26b)](_0x315fca),'openExternalStorageConnection':_0x315fca[_0x2d4f12(0x35e)][_0x2d4f12(0x26b)](_0x315fca),'openKeyValueDatabase':_0x315fca['openKeyValueDatabase'][_0x2d4f12(0x26b)](_0x315fca),'openGenerativeAIContext':_0x315fca[_0x2d4f12(0x5f1)][_0x2d4f12(0x26b)](_0x315fca),'openGenerativeAIWorker':_0x315fca['openGenerativeAIWorker'][_0x2d4f12(0x26b)](_0x315fca),'openGraphDatabase':_0x315fca[_0x2d4f12(0x7bb)][_0x2d4f12(0x26b)](_0x315fca),'openVectorDatabase':_0x315fca[_0x2d4f12(0x37b)][_0x2d4f12(0x26b)](_0x315fca),'publishLocalMediaStream':_0x315fca[_0x2d4f12(0x73)][_0x2d4f12(0x26b)](_0x315fca),'publishLocalDynamicMediaStream':_0x315fca[_0x2d4f12(0x2e3)][_0x2d4f12(0x26b)](_0x315fca),'getPubSubTopics':_0x315fca[_0x2d4f12(0x751)][_0x2d4f12(0x26b)](_0x315fca),'getObjectStoreBuckets':_0x315fca[_0x2d4f12(0x2e9)]['bind'](_0x315fca),'getExternalStorageConnections':_0x315fca['getExternalStorageConnections'][_0x2d4f12(0x26b)](_0x315fca),'getKeyValueDatabases':_0x315fca[_0x2d4f12(0x9d5)][_0x2d4f12(0x26b)](_0x315fca),'getGenerativeAIContexts':_0x315fca['getGenerativeAIContexts'][_0x2d4f12(0x26b)](_0x315fca),'getGenerativeAIWorkers':_0x315fca[_0x2d4f12(0x2b7)]['bind'](_0x315fca),'getGraphDatabases':_0x315fca[_0x2d4f12(0x86)][_0x2d4f12(0x26b)](_0x315fca),'getVectorDatabases':_0x315fca[_0x2d4f12(0x74)][_0x2d4f12(0x26b)](_0x315fca),'getLocalMediaStreams':_0x315fca[_0x2d4f12(0x8f7)][_0x2d4f12(0x26b)](_0x315fca),'getRemoteMediaStreams':_0x315fca[_0x2d4f12(0x54f)][_0x2d4f12(0x26b)](_0x315fca),'getRemoteNodes':_0x315fca['getRemoteNodes']['bind'](_0x315fca),'on':_0x315fca['on'][_0x2d4f12(0x26b)](_0x315fca),'off':_0x315fca[_0x2d4f12(0x6ad)][_0x2d4f12(0x26b)](_0x315fca)};}async[_0x45ef94(0x197)](_0x1c0630){const _0x2aae26=_0x45ef94,_0xec5fed=new _0x4b8912(this[_0x2aae26(0x154)],_0x2aae26(0x955),_0x1c0630,this['authService'],this[_0x2aae26(0x205)],this['configs']);await _0xec5fed[_0x2aae26(0x981)](),this['addCluster'](_0x2aae26(0x955),_0xec5fed),_0x301706['forceLog']('Joined\x20cluster','crewdle'),await _0xec5fed[_0x2aae26(0x573)](_0x2aae26(0x955)),_0x301706['forceLog'](_0x2aae26(0x564),'crewdle');}[_0x45ef94(0x473)](_0x2fb066,_0x3800ba){const _0x46b70a=_0x45ef94;this['clusters'][_0x46b70a(0x2b3)](_0x2fb066,_0x3800ba),_0x3800ba['on'](_0x46b70a(0x5ea),()=>{const _0xdf8b5d=_0x46b70a;_0x3800ba[_0xdf8b5d(0x6ad)](),this['clusters'][_0xdf8b5d(0x991)](_0x2fb066);});}static['isInternalSDKConfigs'](_0x830cbd){return void 0x0!==_0x830cbd['iceServers'];}}return _0x187adb;})())));