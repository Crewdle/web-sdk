function a0_0xaf41(_0x306b9f,_0x44412c){const _0x30eb2a=a0_0x30eb();return a0_0xaf41=function(_0xaf41d1,_0x468aca){_0xaf41d1=_0xaf41d1-0xe3;let _0x4b40fd=_0x30eb2a[_0xaf41d1];return _0x4b40fd;},a0_0xaf41(_0x306b9f,_0x44412c);}function a0_0x30eb(){const _0x4c6bf6=['entity','webgl','Bitrate','instance','Object\x20store\x20is\x20not\x20in\x20sync','clusters/','PubSubTopicAlreadyExists','hashNodes','createConnection','av_delay','SentenceSplitter','CONNECTION_STATE_CHANGE','Partial','getSubscriptionInfo','getSkills','getTable','receiverTimeProcessing','handleFileWrite','sendChunked','status','not-resolved','providerListener','RemoteRemove','reads','standalone','nodeManager','successNotified','appsync-connect-fail','getLabel','Received\x20event\x20on\x20cluster','0\x20B','out','UnsubscribeMediaStream','senderStreams','checkAudioVolume','crewdle-sdk.appspot.com','executeJavascriptCodeSnippet','remote-connection-exists','ObjectStoreCannotWriteTransaction','google','hashPeakHashes','Result','frameTime','JobStatus','listenUnsubscriber','vector-database-creation-failed','Failed','isSync','/resources/generative-ai-model/items','Invalid\x20params','maxOutgoingSubscriptions','Receiver','getGenerativeAIContexts','interval','Node\x20type\x20is\x20required','GenerativeAIModelOutputType','Invalid\x20object\x20store\x20state.','delete','getWorkflowModels','SenderPeerConnection.send','JobWorker:\x20Sending\x20job\x20reject','onDisconnectHandler','internalProcessJob','threshold','NodeConnectionsUpdate','isJobRequest','CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','11809940AQvLgn','Missing\x20answerer\x20id\x20on\x20request\x20answer','remoteConnections','.bat','.jinja2','Logger.getInstance','appsync-no-destination','sendRequest','getId','\x20new\x20transactions','enabledChannels','unshift','getContentType','CloseObjectStoreBucket','Error\x20reading\x20file\x20chunk\x20after\x20','timestamp','stopConnection','JobWorker:\x20Received\x20job\x20attribution','GenerativeAIWorkerStats','getGraphDatabase','Cluster\x20already\x20joined','agentConfig','No\x20parameters\x20provided','invalid-subscriber','receiverCurrentTimestamp','decodeJWT','handleSystemEvents','maxResolution','has','setProviderId','Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','Generative\x20AI\x20context\x20creation\x20failed.','Setting\x20context\x20for\x20agent\x20skill\x20block','vendorId','GenerativeAITracing\x20-\x20job\x20id\x20is\x20already\x20set','ObjectStoreAlreadySubscribed','renderElement','setReportCapacity','handleNodeSystemEvents','receiverConnection','crewdleSDKLoggingChannels','Invalid\x20layout:\x20','streams','.html','ExecuteCustomSkill','.crewdle-pending','drawImage','removeExternalStorageConnection','objectStores','url','getKeyValueDatabase','New\x20MMR\x20Root:\x20','handleObjectMove','FolderDelete','cpu.cycle','clientWidth','answer','transactionQueue','Search\x20in\x20data\x20collection\x20','sendPeakTransactions','evaluateBidsAndAttributeJob','Processing\x20agent\x20block:\x20','handleDisconnect','setCurrentVersion','Today\x20Date:\x20','ExternalStorageStats','detection','workflow','close','destinationIds','outgoingTopic','authContext','checkMediaRecording','AppSync\x20publish','handleSubscriptionSystemEvents','NodeTypeRequired','result','Text\x20is\x20required','resume','statsCollection','logWaitTime','number','Handshake','waitAsync','The\x20system\x20topic\x20has\x20not\x20been\x20registered.','update','No\x20connections\x20available\x20to\x20send\x20subscription\x20request','isSyncing','RemoteMediaStreamMissingProviderId','contextOutputVariable','CloseJobDispatcher','key-value-database-already-exists','sampleRate','transaction','warning','Mistlet\x20capacity\x20report\x20not\x20set.','handleFolderCreate','videoWidth','peer-connection','openTrace','No\x20connections\x20available\x20to\x20send\x20message','processInboundReports','restartHandshake','outgoingStreams','/nodes','removeJobWorker','expectedTransactions','Unknown\x20skill\x20type','get-content','InvalidPublisher','remote-stream-does-not-exist','content-publish-media','subscribeToJobs','UnpublishMediaStream','Error\x20processing\x20retrieve','query-file','noun','openGenerativeAIWorker','api','retryDelay','isSubscribed','processTransactionsToComputeMMR\x20-\x20Transactions\x20appended\x20-','graph-database-name-not-string','getSentences','getPubSubTopics','Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','.hbs','messageUnsubscriber','senderCurrentBytes','.js','hasBufferedData','getLocalMediaStream','Perform\x20a\x20search\x20on\x20Google\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','engineType','ModelText','Cannot\x20unpublish\x20object:\x20','Backgrounds','writeTransaction\x20-\x20transaction\x20already\x20exists','WebRTCBrowserPeerConnectionConnector','GenerativeAIContextCreationFailed','loadEnabledChannels','blockId','registerDestination','receiverBitrate','CloseVectorDatabase','detectProblems','removeTrackCallback','slice','logDataReceived','\x20to\x20send\x20dispatcherJob\x20','getConnectionDestinations','\x20MB','asObservable','handleNodeJoinNeedPublishedStream','createLocalMediaStream','append','getEngineType','Writable\x20stream\x20is\x20missing','web-scraper-raw','contentQueue','Connection\x20does\x20not\x20exist','keyPath','srcObject','ChunkSplitter','handleNodeDisconnect','Node\x20is\x20not\x20an\x20agent','processSenderReport','isAvailable','Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user','ExternalStorageNameNotString','ended','gain','processReports','endpointUrl','connectionPool','onProviderChange','syncedFileExists','JobType','JobDispatcherDoesNotExist','currentBatch','subscribedTracks','InvalidAccess','height','Missing\x20AI\x20worker\x20connector','JobWorker:\x20Sending\x20job\x20partial\x20result','3856563tbRpsK','createSenderConnection','KeyValueDatabaseStats','getLastUpdated','object-store-cannot-write-transaction','ObjectStorage','toStringTag','isWhereValue','getShareableStreamId','availableTrackKinds','getRemoteMediaStream','LocalMediaStreamDoesNotExist','headers','addBatchOperation','setupTrackEndedListeners','\x0aAdditional\x20data:\x20','subscriptionRequestTimeouts','currentFrames','reset','auth','options','getCurrentMaxLayer','mediator','WriteFile','absolutePathName','getDistance','deleteJob','handleNodeJoin','\x20does\x20not\x20support\x20content\x20type\x20','\x20must\x20be\x20a\x20valid\x20JSON\x20string','getDocs','Agent\x20group\x20not\x20found','authenticateUser','createRemoteMediaStream','getPubSubTopic','messagesReceived','.awk','key-value-database-table-not-found','ObjectStoreDoesNotExist','success',':\x20Object\x20store\x20is\x20not\x20in\x20sync','IncomingSubscription','channel','where','handleHandshake','objectRequests','handleSubscriptionMediaStreamUnavailable','key-value-database-table-name-reserved','JobQueueService:\x20Error\x20running\x20job','currentDistance','Stream\x20already\x20exists','queries','results.txt','node-not-authenticated','detectionManager','minConnections','.vb','bufferedAmount','\x0a\x0a`Executing\x20agent\x20','resolve','senderCurrentTimestamp','Core','Received\x20track','removeKeyValueDatabase','appendTransaction','rebuildMMR','ObjectStoreInvalidPath','Workflow\x20does\x20not\x20exist.','compileStats','json_arr','roundTripTime','1:420235181083:web:4eff6062bd845cb0748cbe','Send\x20request','sendStats','commit','generative-ai-worker-already-exists','search','Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','subscribe','comparePeaks','getExternalStorageConnections','Node\x20not\x20authenticated','CPUCycle','getAncestorIds','minResolutionScale','registerSource','PubSubTopicDoesNotExist','processJobStream','ObjectStoreStats','Downgrade','sendReject','handleContentRemoteMediaStreamTrackFail','syncResolve','ENOENT','maxFps','Disconnect','subscription-request-in-progress','writes','PeerConnection','sender','syncFolder','senderBitrate','getConnections','jobType','setDisplayName','getHash','getJobs','onConnectionStateChange','getCoresFromCapacityReport','.xlsx','WebRTC','queryParameters','mmr','`\x0a\x0a','WebGL','AudioContext','createPubSubTopic','AppSync\x20subscribe','publishUserUpdate','appsync-connect','KeyValueDatabaseTableDoesNotExist','onGatheringStateChange','processBatch','GetContextResult','size','queryFileConnector','external-storage-connection-already-subscribed','onRemoveTrack','SystemStats','object-storage-upload','Error\x20during\x20MMR\x20rebuild\x20logging:','NeedMediaStream','We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set','GenerativeAIWorker:\x20Models','KeyValueDatabaseContentAvailable','wait','.ipynb','recomputeRoot','startTime','ccc','Received\x20sync\x20required.\x20Database\x20available:\x20Checking\x20synchronization','connectionConstructor','reranker','some','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process','updateLastTransactionId','captureStream','connectionState','GraphDatabaseDoesNotExist','No\x20connector\x20found\x20for\x20model','entries','Signaling','ObjectStoreInvalidSyncMessage','subscription','addVideoTrack','loadExternalContent','model','job-dispatcher-observer-not-found','NodeTypeNotSupported','Events','Ingest','removeSubscription','Given\x20','queueLength','internalRatePrompt','jobId','Code','checkSyncComplete','getRemoteNodes','onConfigurationChange','Generative\x20AI\x20context\x20invalid\x20partial\x20result.','clear','createSubscription','email','calculateArrayBufferSize','Cannot\x20create\x20Vector\x20Database:\x20Name\x20must\x20be\x20a\x20string','createGain','rejectReady','getResolutionScale','lastClockUpdate','handleFileSync','handleSubscriptionUnsubscribeMediaStream','processAddContent','OutgoingMediaStreamNoTopic','toString','manageAncestor','ref','PubSubTopicAlreadySubscribed','getDTVolatility','Hub','signInWithCustomToken','Relation','loggingDatabaseConnector','Initial\x20MMR\x20built\x20with','isOpened','evaluateProccessedJob','label','createOffer','sequence','maxDistance','Perform\x20a\x20search\x20on\x20Perplexity\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','Knowledge','.ini','getRoot','documentPath','call','getDataCollections','connectorConstructor','forceLog','maxFramerate','\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number','\x0a\x20===\x20Total\x20Data\x20Received:\x20','iceConnectionState\x20failed','\x20check\x20failed','nlpLibraryConnector','Outgoing','processRemoteInboundReport','internal-sdk-error','.exs','getApp','JobDispatcherJobNotFound','getContext','VectorDatabase\x20not\x20found','arrayBufferToObject','internal','externalStorageConnectionIds','true','clearRect','subscription-request-no-answer','getProviderId','isChannelEnabled','notifyCluster','calculateSize','NodeType','pub-sub-topic-does-not-exist','Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string','isConnected','debounceStats','replaceTrack','readyPromises','sourceVideo','KeyValueDatabaseTransactionTableNotInitialized','Connection\x20not\x20connected.','removeRemoteConnection','autoplay','next','Folder','remediations','CrewdleReceiverConnection\x20ontrack','deleteFileChunks','Error\x20fetching\x20context','Failed\x20to\x20commit\x20batch\x20after\x20retries:','addContent','sendWithRetry','JobWorkerDoesNotExist','Support:\x20current\x20config','Accepted','openPubSubTopic','RequestFileWrite','getIsLoaded','/transactions','AI\x20Service\x20already\x20exists','tableLayout','\x20after\x20','GraphDatabaseCreationFailed','bind','answerContentAvailable','connection','KeyValueDatabaseDoesNotExist','createGraphDatabase','from','clientHeight','3446177lJWsxh','graphql','canAddCandidates','listen','supported','handleSubscribeMediaStream','ConnectionBufferNotEmpty','estimatedPlayoutTimestamp','messageCallback','Cannot\x20close\x20the\x20SDK\x20while\x20data\x20is\x20being\x20transferred.\x20Use\x20`force`\x20parameter\x20to\x20interrupt\x20the\x20connection','maxTokens','handleOffer','dataBucketIds','.djt','Cannot\x20get\x20file:\x20External\x20Storage\x20not\x20connected','getExternalStorageConnection','closeSubscription','updatePropagationProperties','AudioOutput','Invalid\x20index\x20in\x20table\x20\x27','systemMessages','lastCapacityReport','models','\x20must\x20be\x20a\x20string','transactionService','connection-no-retry-queue','JobWorkerInvalidType','getModel','dataStores','scheduleTime','Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27','log','Sender','logSupport','getCurrentVersion','logInitialMMR','outgoingManager','streamLabel','\x20is\x20required','digest','authenticateAgent','bucketId','setConnectionType','Remote\x20connection\x20already\x20exists.','Internal\x20unknown\x20error:\x20','System','receiverTotalMessages','Execute\x20the\x20agent\x20','remediationManager','.py','connection-not-connected','LoadSkillFunction','Connection\x20does\x20not\x20exist.','dbKey','clockSkew','DataStream','processContentQueue','getWorkflow','getPacketsLostPerc','ContentType','accumulated','code','Received\x20request\x20for\x20transactions\x20value.\x20Sending\x20','RequestAccepted','max','node','AgentSkill','setStatus','FeatureNotEnabled','contentQueueRunning','isResultResponse','Found\x20','AiSearch','rate','substring','nodeKey','system','resizeHandler','NodeLeave','getTotalNodes','sendFile','removeObjectStore','GenerativeAIContextJobAlreadyConsumed','json','chunk','getNextTargetRank','getOutgoingOptimizationConnections','FileDelete','Internal\x20error:\x20','ObjectStore','getSubscriptionLabel','/resources/generative-ai-collection/items','KeyValueDatabaseContentSynchronized','getTableConnector','available','orderByKey','deleteObject','.xls','jobWorkers','objectToArrayBuffer','addBidResponse','Opened\x20key\x20value\x20database','contentRect','Delete','Received\x20','operator','addEdge','.txt','Invalid\x20value.\x20Must\x20be\x20an\x20object.','Failed\x20to\x20send\x20job\x20','KeyValueDatabaseCreationFailed','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process\x20with\x20not\x20all\x20ancestors\x20connected.','transactions','overlap','ExternalStorageInvalidPath','root\x20hash:\x20','sort','setEmail','detail','Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string','createBatchOperation','KeyValueDatabaseNotOpen','Disconnected','CrewdleConnectionGroup','GenerativeAIContextJobFailed','pub-sub-topic-already-exists','getConnectionType','publishSyncCompletedAfterWrites','messageBuffer','unsubscribeListener','\x20received\x20responses:','index','notifyObjectStoreOfNodeJoin','graph-database','closeConnection','entity-extractor','.erb','KeyValueDatabaseTableNameReserved','GenerativeAITracing\x20-\x20trace\x20job\x20id\x20does\x20not\x20match','addEventListener','createMediaStreamSource','getFirestore','CustomSkill','\x20attempts:','.cpp','generativeAIWorkers','RelationExtractor','pow','removeRemoteNode','mediaDevices','AudioVolume','validateValue','writeTransaction','Pool','getGraphDatabases','getPeakNode','media-stream','ConnectionGroup','remoteUnsubscriber','getTransactionFromTableWriteEvent','.tpl','RemoteConnectionExists','AudioContext\x20is\x20not\x20available','getDisplayMedia','Stream\x20does\x20not\x20exist','GenerativeAIContextJobMissingThreadId','AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','addDoc','peerConnectionConnector','path','remove','1:519415702791:web:5dd39042f881cfde3251a2','offset','setInterval','getRemoteMediaStreams','nodeId','includes','registerPublisher','getWorkflowObjectStorageBuckets','https://crewdle-sdk-stg-default-rtdb.firebaseio.com','syncPendingFiles','CannotProvideMediaStream','now','handleSubscriptionNeedMediaStream','Invalid\x20version\x20\x27','GenerativeAIContextAlreadyExists','createGenerativeAIWorker','Table\x20not\x20found','Job\x20','Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream','document-parser','getStatus','createBuffer','JobWorker:\x20Error\x20processing\x20job','relations','object-store-invalid-sync-message','disconnectCallback','updated','trackCallback','addCandidate','\x20failed.','Unsupported\x20job\x20type','upgradeTimeout','StorageEventType','remoteId','file-upload','Stats:\x20report','audioDestination','startIndex','exists','Model','numeric','CREWDLE_WEB_SDK','ExternalStorageConnectionAlreadyExists','handleProblem','processList','version','setLoggingConnectors','getResolution','undefined','retryLimit','writeBatch','transactionHashMap','FileWrite','\x0a\x20===\x20Total\x20Time:\x20','VectorDatabase','syncKeyValueDatabase','Key-value\x20database\x20transaction\x20table\x20not\x20initialized.','generative-ai','getLocalNode','.liquid','parameters',',\x20Transactions:\x20','All','callback','video','ObjectStoreInvalidPayload','onUnregisterPublisher','traceLevel','transactionTable','KeyValueDatabase','publishNodeJoin','Job\x20Dispatcher\x20does\x20not\x20exist','clusterId','key-value-database-invalid-layout','Cannot\x20get\x20size\x20of\x20path:\x20','isIceCandidate','retryCount','streamId','getTotalBytes','getPeaks','\x0a\x20\x20===\x20Initial\x20MMR\x20Root:\x20','commitLevel','add','AppSync\x20client\x20not\x20ready','2-digit','Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.','.scala','signaling','openJobWorker','ObjectStore\x20not\x20found','OptimizationConnectionSuccess','messages','checkBackgrounds','supports','GenerativeAIContextInvalidPartialResult','WebScraper','createJob','firebase-disconnect','relevance','clearWaitSuccess','incomingTopic','clearSyncTimeout','vector-database-already-exists','/transactions/','node-type-not-supported','statsManager','setTimestamp','getClosestNodes','registeredListeners','420235181083','pubsubTopics','applyRemediation','FileMove','committed','Offline','subscriptions','NodeNotAuthenticated','Job\x20Dispatcher\x20already\x20exists','Executing\x20custom\x20skill:\x20','\x20completed.','isWhereValues','appsync-close','between','GenerativeAIWorkerAlreadyExists','.gguf','updateDebounce','checkDeviceConfig','RoundTripTime','Synced','GraphDatabaseNameNotString','VectorDatabaseMissingConnector','Debug','\x27\x20payload:','getTracks','PubSubTopicStats','currentBytes','Low','Error\x20fetching\x20URL','setupStatsCollection','.conf','asyncEndpointMethod','time','jitter','getMaxDistance','processContentAvailable','query-helper-invalid-argument','Problem','engine','\x20for\x20','handleOutgoingSystemEvents','Invalid\x20key\x20\x27','RemoteAdd','connectionType','createFolder','Error\x20retrieving\x20context','docs','Syncing','Cannot\x20publish\x20file:\x20','\x20writes\x20from\x20','Cannot\x20get\x20file:\x20','getMediaStream','.jsx','isBidResponse','cluster-leave','Error\x20executing\x20agent','getAuth','getSettings','createAnswer','resetConnection','send\x20error\x20on\x20','suspended','timePerFrame','.css','doc','request-file-write','handleUnpublishMediaStream','modelStore','modelName','messageListeners','InitialPrompt','internalSearch','Processing','processLocalReport','endsWith','connection-not-initialized','Error\x20processing\x20content\x20queue','issue','handleNodeLeave','fileSendingMap','app','Early\x20return:\x20','\x20already\x20exists.','Node\x20does\x20not\x20exist.','logLevel','Module','Amplify','JobWorker:\x20Sending\x20job\x20result','discover','contentMediator','handleIceCandidates','every','observer','IntermediateOutput','setBytes','catch','::ï¿¿','GenerativeAIContextStats','Key-value\x20database\x20table\x20does\x20not\x20exist.','isInternalSDKConfigs','fps','Consuming\x20buffered\x20event','KeyValueDatabaseAlreadyExists','vectors','problem','setScheduleTime','folder-create','getMediaSubscription','Job','openKeyValueDatabase','Invalid\x20value.\x20Property\x20\x27','FPS','GraphDatabaseAlreadyExists','isComputingMMR','handleLocalTrackFailure','timeReceiving','logPropagateSystemEvent','InvalidDataChannel','\x27\x20dabatase\x20id.','output','support','history','SyncKeyValueDatabasse\x20-\x20Waiting\x20for\x20ancestors','inputTokens','handleAnswer','handleFileRequest','vector-database-name-not-string','batch','Error\x20resolving\x20readyPromises:','childRemovedUnsubscriber','.java','getRank','removeTopic','newPath','Jobs','getContent','Database\x20not\x20open','open','payload','signalingServer','\x20deleted.','getAvailableTrackKinds','\x20not\x20found.','PartialResult','generative-ai-context-invalid-partial-result','handleJobAttribution','saveToDisk','getEnabledChannels','TestPage','Publish\x20the\x20transaction','setParams','Error\x20encountered\x20while\x20opening\x20database','GraphDatabase\x20not\x20found','Error\x20executing\x20code','pendingFilesRename','bandwidth.bitrate','crewdle-sdk','handleCloseContent','Subscription\x20request\x20has\x20not\x20been\x20answered.','.cs','processOutboundReport','Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc','generativeAIWorkerConnectors','verb','Cannot\x20create\x20External\x20Storage:\x20Name\x20must\x20be\x20a\x20string','write','head','removeListener','minRelevance','Node\x20type\x20is\x20invalid','subscriptionRequestsQueue','job-worker-invalid-type','confirmSynchronization','unsubscribeHandler','getItem','Unexpected\x20output\x20type','startAt','getVectorDatabase','getOrResetPendingFileTimeout','bufferedEvents','bufferEvent','8DuRHHD','getRemoteConnections','handleNeedRestart','SubscriptionRequestFailed','removeTrack','queryOrPrompt','GenerativeAIModelInputType','disconnect','key-value-database-name-not-string','results.csv','@id','readyDebounce','systemTopic','limitToFirst','CrewdleConnection\x20handlePeerConnectionSystemEvents','sourceUrl','Vector','Database\x20Opened','statsReport','createWritableStream','eventTarget','remoteMediaStreams','createAIJob','signOut','\x0a\x0a`Executing\x20code\x20snippet`\x0a\x0a','storageType','asc','contentRequestSent','maxBitrate','job-','notifyJoin','KeyValueDatabaseRequestTransactionsValue','UnsubscribeMediaStreamdiaStream','createBatch','statsReporting','isRunning','GenerativeAIWorkerCreationFailed','unpublish','pubSubTopics','getConnection','handshakeDebounce','forEach','desc','manageBufferedChunks','.crewdle-transactions','startTracing','.j2','charCodeAt','batchTimeout','\x0a\x0a`Writing\x20file`\x0a\x0a','String','unregisterSystemSource','debounceReadyTimeout','collectionId','objectStoreId','upgrade','File\x20sending\x20interrupted','processTransactionsToComputeMMR\x20-\x20All\x20transactions\x20are\x20appendable.\x20Append:\x20','graphService','featureSupport','Default','getInternalStreamId','RequestFileSync','getEstimatedTimestamp','parseDataCollectionBlocks','openJobDispatcher','element','uid','Job\x20worker\x20creation\x20failed.','decode','Valid\x20layout','CrewdleSenderConnection\x20createOffer','getChannelData','cpu.fps','Context','connection-invalid-data-event','handleContentUnpublishMediaStream','From\x20','debug','.rs','searchApiKey','checkScreenSharing','mediaStream','mistlet-capacity-report-not-set','stream','externalStorageConnectors','serverTimestamp','getSubscribedTracks','DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found','createReceiverConnection','VectorDatabaseAlreadyExists','clearUpgradeTimeout','instantiateTransactionTable','peakHeights','filesSynced','recipients','setOnTableWriteHandler','signalingState','updateUser','generative-ai-label-conflict','logMMRRebuild','maxThreshold','word-splitter','checkAudioContext','File','Rejected\x20answer','trim','shouldProcessTransaction','commitTrace','httpsCallable','waitConnected','job-worker-already-exists','reportCapacity','All\x20recipients\x20already\x20received','getDatabase','Opened\x20pubsub\x20topic','en-US','handleStatsSystemEvents','\x0a\x0a`Executing\x20custom\x20skill\x20','CanProvideMediaStream','\x0a\x20\x20===\x20New\x20MMR\x20Root:\x20','AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','removeRemoteStreamSubscription','retryQueue','checkAudioOutput','DataStream\x20onMessage','GenerativeAIRatingStatus','relation','161250RrHKDs','createExternalStorageConnection','setupRenderElement','DatabaseEvent','Skill','\x0a\x0a`Searching\x20in\x20data\x20collection\x20','layout','createBufferSource','handleNoAnswer','graph-database-creation-failed','\x0a</','nodesConnected','shift','canvas','retryCallback','handleNodeUpdate','developers/','muted','.sql','/developers/','getVideoTracks','1.0.22.0','server','CloseExternalStorageConnection','.json','getTransactions','CloseJobWorker','.yaml','job-dispatcher-job-not-found','removeJobDispatcher','getPriority','searchOnPerplexity','ClusterAlreadyJoined','graphDatabases','crewdle-sdk-stg.firebaseapp.com','Generative\x20AI\x20context\x20job\x20timeout.','Execute\x20a\x20SQL\x20query\x20on\x20a\x20file\x20to\x20retrieve\x20data.\x20The\x20query\x20should\x20be\x20designed\x20to\x20extract\x20relevant\x20information\x20from\x20the\x20file.\x20Available\x20table\x20is\x20file\x20and\x20columns\x20are:\x20','removeIncomingSubscription','createVectorDatabase','waitSendBuffer','Resolution','Connection','openGraphDatabase','generative-ai-context-job-failed','Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream','random','joinedClusters','requestSubscriptionAction','keyValueDatabases','NodeJoin','tables','DataChannel\x20buffer\x20is\x20full.','Error\x20initializing\x20logging\x20database\x20with\x20\x27','generative-ai-context-does-not-exist','key','ready','Wait','Subscribing\x20to\x20an\x20event:\x20on','DataChannel\x20send\x20error','Count','.yml','JobDispatcherObserverNotFound','PayloadAction','remainingTracks','setReceiverTimestamp','failed','removeEventListener','isFailedResponse','limit','dataTopics','receiverPreviousTimestamp','list','logConnectionState','removeVectorDatabase','Rating','owner','push','Pending','discoveryService','function','local-stream-does-not-exist','subtle','.Total\x20pages\x20available:\x20','removePubSubTopic','Reranker','AI\x20Search\x20connector\x20not\x20set','SenderSendMessage','clearConnectionTimeout','Job\x20with\x20id\x20','capacityReporter','getBid','.jl','isLoaded','missing-datachannel','action','/capacities','unregisterPublisher','\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.','publish','graphDatabaseConnector','isWhereBetween','GenerativeAIContextJobTimeout','joinedAt','boolean','object-store-invalid-state','removeGraphDatabase','Issue\x20detected:\x20','\x0a\x20\x20===\x20Total\x20Nodes:\x20','subscribeToExternalContent','Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.','GraphSearch','syncTransactionsWritten','sdk-internal-error:\x20','messageType','getSimilarity','JobContext','content','DocumentParser','.vue','test-page','aiSearchConnector','getLocalId','createJobDispatcher','.clj','KeyValueDatabaseInvalidValue','processTransactionsToComputeMMR\x20-\x20Requires\x20a\x20rebuild.\x20Append:\x20','stopTracing','handleContentUpdateMediaStream','Problem\x20detected:\x20','RemoteMediaStreamTrackFail','counter','blocks','clearRestartTimeout','contextInputVariable','created','stopNoThrottlingHack','registerSystemPublisher','GenerativeAITracing\x20-\x20Error\x20while\x20tracing','checksum','Job\x20service\x20job\x20not\x20found.','isPartialResultResponse','senderTimeProcessing','DeviceConfig','race','.jinja','PubSubTopic\x20not\x20found','NodeManager\x20-\x20ConnectionSuccess','https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','handleDetectionSystemEvents','handleMissingSenders','responseTimeout','getLocalMediaStreams','Received\x20request\x20for\x20peak\x20transactions.\x20Sending\x20Transactions.','Receiver\x20connection\x20is\x20not\x20initialized.','generative-ai-context-already-exists','WorkflowTrace','closeTopic','onValue','Rejected','downgrade','SubscriptionRequestNoAnswer','answerJoin','Reranker\x20block\x20is\x20missing\x20required\x20data','pendingFilesTransactions','feedback','jobs','min','ai-search','tracks','skill','getSenderTotalBytes','system-stats','stop','Cannot\x20fetch\x20content\x20from\x20this\x20type\x20of\x20file','workflow-does-not-exist','answererId','text/csv','connecting','senderConnection','KeyValueDatabasePeakNotFound','Start\x20Ingestion','Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number','/resources/external-storage/items/','Logging\x20not\x20enabled\x20for\x20channel\x20','receivers','RemoteMediaStreamDoesNotExist','floor','sync','PubSub','currentVersion','createOutgoingSubscription','\x27\x20in\x20table\x20\x27','getWorkflowExternalStorageConnections','providerId','.pl','G-F7W8KXRKQB','getRoundTripTime','type','name','changesUnsubscriber','long','isPromiseResolved','asyncEndpointUrl','generative-ai-worker-missing-connector','onClose','Job\x20service\x20creation\x20failed.','Data\x20collection\x20block\x20is\x20missing\x20required\x20data','UpdateMediaStream','.xml','configs','toFixed','/nodes/','SHA-256','maxConnections','table','getTrackFromParam','initialize','ObjectKind','skipEncryption','cachedRoot','unregisterSystemPublisher','Invalid\x20workflow\x20block\x20type.','handleSubscriptionRestartNeedMediaStream','receiverStreams','unregisterRemoteNode','Node\x20\x27','threadId','start','ObjectStoreAlreadyExists','us-east-1','lastHeartbeat','notifyObjectStoreOfNodeLeave','logRaw','\x20were\x20ready\x20in','object-store-invalid-path','getJobDispatchers','.ts','firestore','connectionStateListener','audioContext','retrieveBlocks','\x20with\x20\x27','endpointMethod','setSubscriptionRequestTimeout','RemoteMediaStreamInvalidSubscriptionParams','clearOncloseTimeout','canProvideResolution','removeRemoteMediaStream','entities','handleContentCloseMediaStream','JobDispatcherInvalidJobType','subscription-request-failed','byteLength','getJobWorkers','pubsub','topicLabel','\x20created\x20and\x20dispatched.','bufferedChunks','Receiving\x20\x27','graph-database-already-exists','validateAccess','getBitrate','\x27\x20from\x20','Missing\x20remote\x20node\x20or\x20rank','Query\x20is\x20required','object-store-already-exists','complete','Before\x20Synchronization','checkWebGL','externalStorageConnections','user-update','token','Error','Remote\x20stream\x20does\x20not\x20exist.','peaks','getUserMedia','left','receiver-on-message','findNewMediaSubscription','isProduction','leave','handleSubscriptionSubscribeMediaStream','answers','internalContext','downloadDocument','registerCluster','application/octet-stream','720232BMGrkF','topic','openVectorDatabase','iceServers','Queued','syncContent','ownerId','Chosen\x20answer','generative-ai-context-job-missing-thread-id','restartTimeout','signInWithCredential','SearchGoogle','Setting\x20context\x20for\x20custom\x20skill\x20block','getAudioTracks','pendingSyncTransactions','waitSuccess','processReport','.twig','loadLocalContent','CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','openedTraces','chunk-splitter','KeyValueDatabaseInvalidLayout','Audio','\x20sending\x20attempt\x20','SearchPerplexity','Invalid\x20credentials','ExternalStorageConnectionDoesNotExist','parseWorkflowDocument','handlePublishMediaStream','\x27:\x20missing\x20or\x20invalid\x20keyPath','key-value-database-table-does-not-exist','receiverCurrentBytes','removeOutgoingSubscription','\x27\x20is\x20not\x20ready','graph-database-does-not-exist','Joined\x20cluster','ConnectionNotinitialized','detectAudioIssues','isReady','debounceReady','transactionsToSync','isInternalLoggingConnector','750vwNkbJ','processDataChannelReport','Connected','Error\x20writing\x20chunk\x20to\x20stream','all','lastUpdated','JobDispatcherInvalidPayload','publishTransaction','object','clearSubscriptionRequestTimeout','.hs','collectSendersStats','\x0a\x20===\x20Synchronization\x20Time:\x20','VectorDatabaseNameNotString','Request','topK','key-value-database-not-open','collection','_isReady','Model\x20store\x20not\x20initialized','getBuffer','string','.php','\x0a\x20\x20===\x20MMR\x20Computation\x20Time:\x20','LocalMediaStreamNoAudioContext','VectorSearch','reportMetric','send','Optimization','features','startsWith','observe','combinePeaks','load','accumulateResult','DataStream\x20send','isMediaSource','sendIceCandidates','.ejs','region','Update','getJobObservable','getInternalTrackParams','ObjectStorageBucket','PubSubTopicNameNotString','Entity','Model\x20output\x20type\x20is\x20vector\x20but\x20input\x20is\x20not\x20an\x20index','readyResolve','Additional\x20context:\x0a','PromptRating','handleRequestPayload','executeAgent','28ghKiWu','onremovetrack','Cannot\x20write\x20transaction.','createLocalDynamicMediaStream','Relation\x20extractor\x20block\x20is\x20missing\x20required\x20data','text/plain','waitAnswer','LocalMediaStreamTrackFail','toLocaleDateString','retryQueues','MissingRemoteConnection','source','chunksReceived','object-store-already-subscribed','setIsLoaded','CloseGraphDatabase','defineProperty','Get','Label\x20already\x20in\x20use\x20by\x20AI\x20Service','remote-media-stream-invalid-subscription-params','connection-buffer-not-empty','GenerativeAIContext\x20stream\x20error','Data\x20cluster\x20is\x20not\x20open.','Opened\x20generative\x20AI\x20worker','receiverUnsubscribers','contentType','SubscriptionRequestDoesNotExist','listenerUnsubscriber','handleUpdateMediaStream','bytesSent','Cannot\x20publish\x20move\x20operation:\x20','onNodeUpdate','msalGetAccessToken','uuid','Attribution','setDoc','systemMessagesReceived','width','getBufferedAmount','joinCluster','initializeLoggingDatabase','getCapacityReport','videoHeight','propagate','setRank','Buffered\x20chunks\x20are\x20too\x20large','framerate','GenerativeAIContextDoesNotExist','\x20not\x20supported','FramePerSecond','shouldContinuePropagation','KeyValueDatabaseSendTransactions','/transactions/lastTransaction','batchSize','.pdf','total','externalStores','destroy','senderTotalMessages','getSupportedContentTypes','getIdToken','Error\x20fetching\x20file','NodeUpdate','maxLayer','Operations:','isNodeReady','handleRemoteTrackFailure','Invalid\x20subscriber.','then','connector','Content','count','QueryBuilderInvalidArgument','User','direction','processTransactionsToComputeMMR','tokens','senderPreviousBytes','addNode','move','Error\x20searching','jobBids','bid','sendTransactionsValue','ner','text','addTrack','NodeAlreadyExist','completeSync','sendBid','Error\x20loading\x20existing\x20content','isJobAttribution','GenerativeAIContext','senders','appsync-statechange','.dart','GenerativeAITracing\x20-\x20Cannot\x20commit\x20trace,\x20database\x20is\x20not\x20set','NodeInvalidType','getRemoteId','loggingCycle','Logging\x20database\x20not\x20initialized','sendFileRequestPayload','external-storage-connection-does-not-exist','.rkt','deleteTransactionsForTable','compareTransactions','unregisterDestination','rtt','key-value-database-does-not-exist','nodes','\x20with\x20','failJob','vector-database','processPendingSyncTransactions','Logging\x20trace','VectorDatabaseStats','statusText','Attempt\x20','invalid-subscription','buildInitialMMR','Opened\x20external\x20storage\x20connection','.lua','modelId','handshakeCandidates','I\x20am\x20done','evaluateBids','ModelVector','parseWorkflowBlocks','Opened\x20graph\x20database','authService','sdkValidateAccess','onHandshakeStateChange','Opened\x20object\x20store\x20bucket','DataChannel\x20is\x20not\x20open.','Agent','initializeSystemTopic','addProblem','ceil','An\x20error\x20occurred','vector','evaluatePartialJob','resolutionScale','KeyValueDatabaseInvalidQuery','Loaded\x20from\x20disk','LoadKnowledgeFunction','operations','.ex','client','files','vector-database-missing-connector','outgoing-stream-no-topic','logger','Data','handleError','Cannot\x20list\x20directory:\x20','setInternalId','cleanOldSubscription','logStorage','Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.','GenerativeAILabelConflict','incomingManager','QueryFile','GenerativeAIWorkerMissingConnector','createPendingFileWrite','listChanges','Offer','end','_ready','enabled','generative-ai-context-job-timeout','loop','Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20','internalProcessJobStream','download','maxDepth','jobPhase','inbound-rtp','trackKinds','dispatchEvent','createIncomingSubscription','setPriority','updateDebounceTimeout','SubscriptionRequestInProgress','distance','ReceiverOnMessage','registerSubscriber','GraphDatabaseMissingConnector','crewdleSDKEnableLogging','RetrieveTrace','closeTrace','senderPreviousTimestamp','.sh','Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed','processInboundReport','No\x20destinationIds\x20left','\x20-\x20','Cannot\x20publish\x20folder:\x20','firstValueFrom','onDataChannel','durationTime','instructions','filteredDestinationIds','Database\x20already\x20exists','/resources/generative-ai-skill/items','off','nodeUpdate','onTrack','trackListeners','publishNodeLeave','Error\x20committing\x20batch:','ObjectStoreNotSynced','addReservedTables','file','logSyncMetrics','getVectorDatabases','setOnMessageHandler','Recording','\x27\x20to\x20','openExternalStorageConnection','orchestrator','clientStream','mediaTopics','Search\x20connector\x20not\x20set','previousTimestamp','setRemoteConnections','syncTimeout','origin','getSTVolatility','aws','Graph\x20database\x20block\x20is\x20missing\x20required\x20data','hasRemoteNode','listenerUnsubscribers','sdkCreateToken','functions','SyncComplete','trackEndedListeners','temperature','computeHash','inputType','getAncestors','ConnectionNotConnected','event','\x0a\x20===\x20Current\x20MMR\x20Root','canChooseAnswer','processContentAvailable\x20-\x20Peak\x20comparison:','documentParserConnector','runJobQueue','tableObserver','SyncKeyValueDatabase\x20-\x20Ancestors\x20','setSinkId','splitParts','connectionTimeout','getDoc','pendingFilesSyncing','getAgents','.info/serverTimeOffset','indexes','component','setOnDisconnectHandler','Node\x20already\x20exists.','GenerativeAITracing\x20-\x20Cannot\x20commit\x20trace,\x20logging\x20table\x20is\x20not\x20set','active','isNeedRestart','Connection\x20not\x20initialized.','Index','connectAgent','clusters','resolution','exports','onNodeDisconnect','targetId','cores','Bid','node-already-exist','ranges','agentId','bandwidth.jitter','outputTokens','debounceLogTimeout','invalid-data-chanel','NodeManager\x20-\x20NodeUpdate','https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','isReconnecting','WorkflowDoesNotExist','logServiceEvent','accessToken','rating','connection-state','keyValueDatabaseConnector','logs','unregisterSubscriber','clusterEventEmitter','Subscription','No\x20valid\x20bid\x20responses\x20received\x20in\x20time.','insert','contentManager','Model\x20output\x20type\x20is\x20text\x20but\x20input\x20is\x20not\x20text','handshakeState','jobObservers','framesEncoded','bitrate','handlePeerConnectionSystemEvents','startBidResponseHandling','debugEnabled','AITrace','getModels','connectionGroup','GetContextQuery','params','subscribeToLocalContent','arrayBuffer','query','connected','Invalid\x20job\x20worker\x20type.','receiverPreviousBytes','clearWaitAnswer','consumeBufferedEvents','publishMove','timeoutCallback','logBatch','job-dispatcher-creation-failed','notifyClusterNodeUpdate','cluster-disconnect','external-storage','canRestartHandshake','NodeManager\x20-\x20PublishNodeLeave','links','InvalidSubscription','MediaStreamPriority','val','setUpgradeTimeout','KeyValueDatabase\x20not\x20found','Info','processTransactionPayload','stringify','lastProcessRank','localNode','.go','getDataBucketIds','pathName','registerRemoteNode','setupResizeHandler','syncTransactions','handleFileRequestAnswer','cluster','moveObject','fromEntries','taskType','frameWidth','onCandidate','Node','Agent\x20output\x20is\x20not\x20a\x20string','getPartsForSubscriptionLabel','systemTopicUnsubscribe','priority','11230MzOIhN','ObjectStoreInvalidState','createGenerativeAIContext','sendAction','collectStats','GenerativeAIWorker:\x20Opening','Write\x20text\x20data\x20to\x20a\x20file.','msalRefreshToken','initializeApp','dataChannel','onBufferedAmountLow','createKeyValueDatabase','getSize','getConnectionGroup','previousFrames','Could\x20not\x20open\x20trace','Invalid\x20data\x20channel.','Model\x20not\x20found','Key-value\x20database\x20transaction\x20value\x20not\x20set.','optimizationLayers','JobWorker:\x20Received\x20job\x20request','timesCalled','InvalidSubscriber','packets','Support:\x20','bodyParameters','searchEngineId','searchConnector','gpu','crewdle-sdk.firebaseapp.com','ConnectionInvalidDataEvent','external-storage-upload','oidc','getReceiverBitrate','handleContentUnsubscribeMediaStream','After\x20Synchronization\x20-\x20Is\x20Database\x20sync?\x20','Transaction','Buffering\x20event','getEntities','onSnapshot','getEmail','MediaStream\x20feature\x20not\x20enabled','object-storage','openObjectStoreBucket','FROM\x20file','/logs','loggingDb','object-store-name-not-string','buildTableEvent','Waiting','Invalid\x20data\x20event.','commitBatch','completed','getMaxConnections','agent','/resources/generative-ai-grammar/items','detectLocalIssues','memoryUsage','21a9d78dee97f487b','Restart\x20NeedMediaStream','transactionsToAppend','JobDispatcherAlreadyExists','ConnectionNoRetryQueue','getRemoteNode','hasMessage','getPartsFromSubscription','Error\x20processing\x20ingest','LocalReport','Media','getInstance','lastTransactionId','ExternalStorage','splice','Done','RestartNeedMediaStream','ratePrompt','createRemoteNode','Job\x20Worker\x20does\x20not\x20exist','Subscription\x20request\x20failed.','toLowerCase','eventListener','ingestBlocks','totalEncodeTime','fetchContentFromUrl','detectStreamIssues','.handlebars','FinalOutput','discoveryUnsubscriber','logEvent','crewdle-sdk-stg','WorkflowInvalidBlockType','updateLastUpdated','1.0.22','mmrRoot','jobQueue','MediaStream','JobWorker:\x20Tracing\x20not\x20implemented','JobDispatcherCreationFailed','handleContentSubscribeMediaStream','No\x20global\x20object\x20found','\x20seconds','CloseKeyValueDatabase','\x20with\x20response:','KeyValueDatabaseRequestPeakTransactions','setItem','maxBpp','/objectstores/','tableName','Code\x20is\x20required','.swift','queues','PublishMediaStream','ObjectStoreNameNotString','debounceRebuildMMRWithTransaction','generativeAIContexts','SubscribeMediaStream','trackChanges','pop','packetsLost','openGenerativeAIContext','previous','subject','hasOwnProperty','vectorDatabases','Online','abs','internalId','isValidMediaSubscriptionParams','handleOnMessage','getReport','removeContent','Setting\x20context\x20for\x20agent\x20block','Completed','-leave','More\x20content\x20available\x20on\x20page\x20','Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key','remoteNodes','chooseAnswer','firebaseUnsubscriber','getTrack','getNumberOutgoingSubscriptions','addMessage','getAudioVideoDelay','AudioVideoDelay','crewdle-sdk-logging-','Memory\x20Usage\x20at\x20','getJob','Restart','unregisterCluster','codes','searchOnGoogle','setPendingFileSyncingPayload','processServiceReport','Invalid\x20index\x20key:\x20must\x20be\x20a\x20string','.\x20Confirmation?\x20','versions','ConnectionState','external-storage-name-not-string','asyncHeaders','get','\x27\x20in\x20layout','setRemoteNode','removeNode','getKeyValueDatabases','MissingSystemTopic','nextNodeId','getGenerativeAIWorkers','jobDispatchers','mode','attributes','@context.','agent-skill','Prompt','connect','SystemTopic\x20publish','getSenderBitrate','EntityExtractor','length','buildQuery','/stats','findNextNodeId','eventEmitter','Text','loadFromDisk','logging-db-','.crewdle-layout','publishFile','InternalSDKError','aiSearchApiKey','right','ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.','\x20answer','Detection','MistletCapacityReportNotSet','handleSuccess','lastExecuted','encode','graph-database-missing-connector','addPendingHandshakeCandidate','requestSubscription','addConnection','currentTimestamp','https://crewdle-sdk-default-rtdb.firebaseio.com','dataUnsubscribers','connections','ClosePubSubTopic','FileStatus','ObjectStoreNotInSync','RebuildMMR\x20-\x20MMR\x20Root\x20changed?\x20','Answer','RequestFile','value','removeTrackListeners','ExecuteCode','publishLocalMediaStream','\x0a\x20===\x20Total\x20Data\x20Sent:\x20','padStart','VectorDatabaseDoesNotExist','Error\x20stringifying\x20object','ObjectStorageUpload','writeFile','removeConnection','.doc','lastRemediations','st_volatility','frameHeight','notifyClusterNodeJoin','remediation','Error\x20writing\x20buffered\x20chunk\x20to\x20stream','fileChunks','.md','startLoggingCycle','removeSubscriptionsForNode','Invalid\x20subscription.','Search','once','VectorDatabaseCreationFailed','ReceiverPeerConnection.onMessage','Medium','createConstantSource','GenerativeAIEngineType','not-in','grammar','getShareableStream','heartbeatUnsubscriber','\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','clusterKey','CloseMediaStream','.crewdle-last-transaction','resolveReady','Move','removeItem','getFunctions','Incoming','Remove','detectVideoIssues','parentId','contentSize','JobQueueService:\x20Job\x20completed','getObjectStoreBucket','SHA-1','.groovy','appendTransactionAndUpdateHashMap','Cluster','LocalMediaStreamAlreadyExists','JobDispatcherJobExists','ReceiverPeerConnection\x20onMessage\x27\x20-\x20Remote:\x20','/resources/generative-ai-agent/items','stats','createNewBatch','firebase-connect','manageOptimization','getReceiverTotalBytes','return\x20this','setupStatsReporting','crewdleSDKDisableLogging','\x20must\x20be\x20a\x20number','processRank','default','.pug','PromptFunctionParamsType','\x0a\x20===\x20Total\x20Nodes:','orderBy','unsubscribeTrackEndedListener','Invalid\x20peer\x20connection\x20event\x20destination.','stun:','mergeParts','rank','deletePendingFile','Multiple\x20files\x20found','cost','replace','ExternalStorageConnectionAlreadySubscribed','getObjectStoreBuckets','emit','framesDecoded','PeerConnectionInvalidDestination','onloadeddata','AI\x20worker\x20creation\x20failed.','Invalid\x20job\x20service\x20payload.','Error\x20closing\x20writable\x20stream','checkExistingPendingFileContent','warn','handleContentSystemEvents','StreamReport','Error\x20opening\x20trace','data-collection','connectionManager','mediaUnsubscribers','Success','searchInDataCollection','messagesSent','keys','object-store-stream-does-not-exist','clearHeartbeat','Internal\x20SDK\x20error:\x20','hash','Invalid\x20publisher.','vectorDatabaseConnector','handleUnsubscribeMediaStream','match','DTVolatility','Key-Value\x20Database\x20-\x20Sync\x20Completed','Boolean','setLocalRank','globalObject','publishSystemMessage','play','Error\x20closing\x20trace','tableUnsubscriber','publishFolder','bytesReceived','ExternalStorageUpload','agent-join','outputType','isArray','Connection\x20already\x20exists','High','getOwnerId','onDisconnect','1866786rPeHpw','concat','sendTransactionsValue\x20-\x20value\x20not\x20found','externalStorages','Jitter','destination','publishSyncCompleted','split','handleTransactionPayload','firebaseConfig','publishSyncCompletedAfterWrites\x20-\x20','setupConnectionEvents','\x0a\x0a`Searching\x20on\x20Perplexity\x20for\x20','registerSystemSource','parse','createObjectStoreBucket','handleRemediationSystemEvents','map','setEncodingParameters','TimePerFrame','Workflow\x20not\x20initialized','localId','/resources/generative-ai-workflow/items/','indexOf','Setting\x20context\x20for\x20answer\x20block','RemoteMediaStreamAlreadyExists','pendingHandshakeCandidates','batchQueue','processPendingHandshakeCandidates','chunks','addIssue','hasTable','incrementVersion','filter','pipe','reduce','disableIntervalHack','\x20does\x20not\x20exists','values','crewdle-sdk-stg.appspot.com','results','Sender\x20connection\x20is\x20not\x20initialized.','oncloseTimeout','node-does-not-exist','GraphDatabaseStats','ScreenSharing','prompts','closed','find','.tcl','key-value-database',',\x20Total\x20Nodes:','state','join','Add','frames','isMediaDestination','Channel\x20\x27','packetsSent','Emitting\x20event\x20on\x20local\x20cluster','NeedRestart','key-value-database-transaction-value-not-set','object-store-not-in-sync','Early\x20return','Opened\x20logging\x20database','audioSource','getName','message','handleChunkMessage','debounceRebuildMMR','task','isEqual','Method\x20not\x20implemented.','JobWorker:\x20Received\x20job','audio','timeSending','subscriptionRequests','deleteRemoteNode','secheduleTime','bandwidth.rtt','.pptx','description','JobStream','processJob','checkMediaStream','key-value-database-creation-failed','startNoThrottlingHack','job-dispatcher-job-exists','KeyValueDatabaseNameNotString','chosenAnswers','NodeDoesNotExist','set','ancestors','Invalid\x20query','handleConnectionSuccess','prompt','Parameter\x20','STVolatility','Remediation','KeyValueDatabaseTransactionValueNotSet','groupId','objectStoreConnector','sourceId','Upgrade','sentence-splitter','Cannot\x20find\x20External\x20Storage\x20connection:\x20','hashTransaction','.info/connected','performCalculation','time_per_frame','Image','Support','request-accepted','addRemoteNode','FolderCreate','kind','handleSubscriptionProvideMediaStream','minThreshold','GraphDatabase','.rb','cpu.av_delay','authNode','Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20','WebScraperRaw','onMessage','assign','request-file-sync','storage','invalid-publisher','ExternalStorageConnectorsMissing','cancel','Cannot\x20create\x20Graph\x20Database:\x20Name\x20must\x20be\x20a\x20string','listener','loggingConnectors','waitForArrayBufferSize','processReceivedTransactions','track','pub-sub-topic-name-not-string','topics','processOutboundReports','image','getLayout','DataCollection','List','Object\x20store\x20not\x20synced.','trace','WordSplitter','FetchUrl','logDataSent','MediaStreamUnavailable','maps','issues','text/','getTransactionByHash','Number','Database\x20does\x20not\x20exist','Model\x20not\x20found:\x20','GenerativeAITracing\x20-\x20Error\x20while\x20opening\x20trace.\x20Retrying:\x20\x27','addAudioTrack','Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20','content-unpublish-media','setupListeners','processReceiverReport','addRemoteConnection','totalNodes','getTime','AppSync\x20connection\x20not\x20ready','Query\x20file\x20connector\x20not\x20set','findIndex','JobWorker:\x20Sending\x20job\x20bid','Agent\x20block\x20is\x20missing\x20required\x20data','gatheringState','Workflow','knowledgeCutoffDate','rootComputationPromise','removeLocalMediaStream','thread-','JobWorkerCreationFailed','commitType','getQuery','unregisterSource','localMediaStreams','mute','onChildRemoved','subscriptionManager','key-value-database-peak-not-found','isOffer','data','buffer','getDisplayName','Missing\x20external\x20storage\x20connector','JobDispatcher:\x20Received\x20job',':\x0a\x0a','debounceProcessRank','startHeartbeat','handleOptimizationConnectionSuccess','error','createElement','unsubscribe','Stats','collectTransactionsFromNode','database','receiver','transformations','processRemoveContent','KeyValueDatabaseSyncRequired','ExecuteAgent','previousBytes','context','displayName','.kt','.erl','remote-stream-missing-provider-id','user','<uploaded-files>','candidate','amd','getConfigs','cluster-already-joined','getMinConnections','setVendorId','hasTracks','PubSubTopic\x20onMessage','publishLocalDynamicMediaStream','/resources/agent/items/','RemoteRemediation','createTopic','missing-system-topic','key-value-database-invalid-query','addCluster','Retrieve','isFeatureSupported','Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed'];a0_0x30eb=function(){return _0x4c6bf6;};return a0_0x30eb();}(function(_0x97f0b2,_0x4530c0){const _0xb9439d=a0_0xaf41,_0x3b9b9e=_0x97f0b2();while(!![]){try{const _0x4d378f=-parseInt(_0xb9439d(0x4a9))/0x1+-parseInt(_0xb9439d(0x7bf))/0x2+parseInt(_0xb9439d(0x38a))/0x3*(parseInt(_0xb9439d(0x508))/0x4)+parseInt(_0xb9439d(0x66b))/0x5*(-parseInt(_0xb9439d(0x4d4))/0x6)+-parseInt(_0xb9439d(0x13d))/0x7*(-parseInt(_0xb9439d(0x30a))/0x8)+parseInt(_0xb9439d(0x9a4))/0x9+parseInt(_0xb9439d(0x8eb))/0xa;if(_0x4d378f===_0x4530c0)break;else _0x3b9b9e['push'](_0x3b9b9e['shift']());}catch(_0x3620dd){_0x3b9b9e['push'](_0x3b9b9e['shift']());}}}(a0_0x30eb,0x84bc7),!function(_0x195938,_0x8ff608){const _0x3359b1=a0_0xaf41;if(_0x3359b1(0x4dc)==typeof exports&&_0x3359b1(0x4dc)==typeof module)module[_0x3359b1(0x614)]=_0x8ff608();else{if(_0x3359b1(0x3d9)==typeof define&&define[_0x3359b1(0x897)])define([],_0x8ff608);else{var _0x63f87a=_0x8ff608();for(var _0x456821 in _0x63f87a)(_0x3359b1(0x4dc)==typeof exports?exports:_0x195938)[_0x456821]=_0x63f87a[_0x456821];}}}(this,()=>((()=>{'use strict';const _0x1af94f=a0_0xaf41;var _0x332a83={0x14d:(_0x3aaf9d,_0x4a5fc9,_0x452475)=>{const _0x475343=a0_0xaf41;_0x452475['d'](_0x4a5fc9,{'O':()=>_0x5a9d27});const _0x5a9d27={'version':_0x475343(0x39f),'isProduction':!0x1,'firebaseConfig':{'apiKey':_0x475343(0x383),'authDomain':_0x475343(0x3ac),'databaseURL':_0x475343(0x1f0),'projectId':_0x475343(0x6c4),'storageBucket':_0x475343(0x7e6),'appId':_0x475343(0x1e8),'functionsRegion':'northamerica-northeast1'},'google':{'searchEngineId':_0x475343(0x6a5)},'aws':{'endpoint':_0x475343(0x41d),'region':_0x475343(0x46f)}};},0x33b:(_0x1c55f4,_0xf837c5,_0x327789)=>{_0x327789['d'](_0xf837c5,{'O':()=>_0x2aea33});const _0x2aea33={};},0x3e6:(_0x4c8959,_0x351ebb,_0x1e75d9)=>{const _0x9b807d=a0_0xaf41;_0x1e75d9['d'](_0x351ebb,{'O':()=>_0x5c6b49});const _0x5c6b49={'version':_0x9b807d(0x6c7),'isProduction':!0x0,'firebaseConfig':{'apiKey':_0x9b807d(0x1e3),'authDomain':_0x9b807d(0x688),'databaseURL':_0x9b807d(0x735),'projectId':_0x9b807d(0x2f1),'storageBucket':_0x9b807d(0x8cb),'messagingSenderId':_0x9b807d(0x255),'appId':_0x9b807d(0x9eb),'measurementId':_0x9b807d(0x44d)},'aws':{'endpoint':_0x9b807d(0x621),'region':_0x9b807d(0x46f)}};},0x20:(_0xf00f43,_0x308278,_0x49fddc)=>{_0x49fddc['d'](_0x308278,{'O':()=>_0x3f3b5c});const _0x3f3b5c={};}},_0x440be0={};function _0xf7de80(_0x5548df){const _0xa762e7=a0_0xaf41;var _0x3c837a=_0x440be0[_0x5548df];if(void 0x0!==_0x3c837a)return _0x3c837a[_0xa762e7(0x614)];var _0x31f1ff=_0x440be0[_0x5548df]={'exports':{}};return _0x332a83[_0x5548df](_0x31f1ff,_0x31f1ff[_0xa762e7(0x614)],_0xf7de80),_0x31f1ff[_0xa762e7(0x614)];}_0xf7de80['d']=(_0x516428,_0x293d95)=>{const _0x33edcc=a0_0xaf41;for(var _0x4b034e in _0x293d95)_0xf7de80['o'](_0x293d95,_0x4b034e)&&!_0xf7de80['o'](_0x516428,_0x4b034e)&&Object[_0x33edcc(0x518)](_0x516428,_0x4b034e,{'enumerable':!0x0,'get':_0x293d95[_0x4b034e]});},_0xf7de80['g']=(function(){const _0x5b406b=a0_0xaf41;if(_0x5b406b(0x4dc)==typeof globalThis)return globalThis;try{return this||new Function(_0x5b406b(0x77c))();}catch(_0x2e924c){if('object'==typeof window)return window;}}()),_0xf7de80['o']=(_0x330068,_0x34c7b2)=>Object['prototype'][_0x1af94f(0x6e5)][_0x1af94f(0xfa)](_0x330068,_0x34c7b2),_0xf7de80['r']=_0x1ed618=>{const _0x1158bf=_0x1af94f;_0x1158bf(0x218)!=typeof Symbol&&Symbol[_0x1158bf(0x9aa)]&&Object['defineProperty'](_0x1ed618,Symbol['toStringTag'],{'value':_0x1158bf(0x2aa)}),Object[_0x1158bf(0x518)](_0x1ed618,'__esModule',{'value':!0x0});};var _0x56d472,_0x53b20f,_0x53526a,_0xe2d335={};_0xf7de80['r'](_0xe2d335),_0xf7de80['d'](_0xe2d335,{'KeyValueDatabase':()=>_0x3c1b25,'LayoutBuilder':()=>_0x17021b,'LoggingChannels':()=>_0x53526a,'QueryBuilder':()=>_0x309310,'SDK':()=>_0x4f9691,'SDKClientErrorCodes':()=>_0x56d472,'TableBuilder':()=>_0x6a2dfd,'logger':()=>_0x5999e0}),function(_0x4bf4e6){const _0x1f261e=_0x1af94f;_0x4bf4e6[_0x1f261e(0x143)]=_0x1f261e(0x51c),_0x4bf4e6[_0x1f261e(0x3aa)]=_0x1f261e(0x899),_0x4bf4e6[_0x1f261e(0x212)]='external-storage-connection-already-exists',_0x4bf4e6[_0x1f261e(0x78f)]=_0x1f261e(0xa22),_0x4bf4e6[_0x1f261e(0x4c4)]=_0x1f261e(0x56e),_0x4bf4e6[_0x1f261e(0x840)]='external-storage-connectors-missing',_0x4bf4e6[_0x1f261e(0x1af)]='external-storage-invalid-path',_0x4bf4e6[_0x1f261e(0x994)]=_0x1f261e(0x708),_0x4bf4e6[_0x1f261e(0x181)]='feature-not-enabled',_0x4bf4e6[_0x1f261e(0x1f6)]=_0x1f261e(0x424),_0x4bf4e6[_0x1f261e(0x537)]=_0x1f261e(0x3bf),_0x4bf4e6[_0x1f261e(0x1e2)]=_0x1f261e(0x4b1),_0x4bf4e6[_0x1f261e(0x5a7)]=_0x1f261e(0x36d),_0x4bf4e6[_0x1f261e(0x263)]=_0x1f261e(0x9ef),_0x4bf4e6['GenerativeAIWorkerMissingConnector']=_0x1f261e(0x455),_0x4bf4e6['GenerativeAIWorkerModelSyncError']='generative-ai-worker-model-sync-error',_0x4bf4e6[_0x1f261e(0x2c5)]=_0x1f261e(0x48d),_0x4bf4e6[_0x1f261e(0xa38)]=_0x1f261e(0x4cc),_0x4bf4e6[_0x1f261e(0x5c2)]=_0x1f261e(0x730),_0x4bf4e6[_0x1f261e(0x269)]=_0x1f261e(0x965),_0x4bf4e6[_0x1f261e(0x6a8)]='job-dispatcher-already-exists',_0x4bf4e6['JobDispatcherDoesNotExist']='job-dispatcher-does-not-exist',_0x4bf4e6[_0x1f261e(0x774)]=_0x1f261e(0x816),_0x4bf4e6[_0x1f261e(0x109)]='job-dispatcher-job-not-found',_0x4bf4e6[_0x1f261e(0x484)]='job-dispatcher-invalid-job-type',_0x4bf4e6['JobWorkerAlreadyExists']=_0x1f261e(0x379),_0x4bf4e6[_0x1f261e(0x12b)]='job-worker-does-not-exist',_0x4bf4e6[_0x1f261e(0x46e)]=_0x1f261e(0x493),_0x4bf4e6['ObjectStoreAlreadySubscribed']=_0x1f261e(0x515),_0x4bf4e6[_0x1f261e(0x9ca)]=_0x1f261e(0x7a4),_0x4bf4e6[_0x1f261e(0x6db)]=_0x1f261e(0x69a),_0x4bf4e6[_0x1f261e(0x229)]='object-store-invalid-payload',_0x4bf4e6['ObjectStoreInvalidPath']=_0x1f261e(0x474),_0x4bf4e6[_0x1f261e(0x73a)]=_0x1f261e(0x7fd),_0x4bf4e6['InternalSDKError']=_0x1f261e(0x106),_0x4bf4e6[_0x1f261e(0x9a0)]='invalid-access',_0x4bf4e6[_0x1f261e(0x2bb)]=_0x1f261e(0x946),_0x4bf4e6[_0x1f261e(0x139)]=_0x1f261e(0x574),_0x4bf4e6['KeyValueDatabaseIndexNotFound']='key-value-database-index-not-found',_0x4bf4e6[_0x1f261e(0x596)]=_0x1f261e(0x8a3),_0x4bf4e6[_0x1f261e(0x406)]='key-value-database-invalid-value',_0x4bf4e6['KeyValueDatabaseNameNotString']=_0x1f261e(0x312),_0x4bf4e6['KeyValueDatabaseNotOpen']=_0x1f261e(0x4e4),_0x4bf4e6[_0x1f261e(0x1c6)]=_0x1f261e(0x9d3),_0x4bf4e6['KeyValueDatabaseTableNotFound']=_0x1f261e(0x9c9),_0x4bf4e6[_0x1f261e(0x4bf)]=_0x1f261e(0x231),_0x4bf4e6[_0x1f261e(0x773)]='local-media-stream-already-exists',_0x4bf4e6[_0x1f261e(0x4ec)]='local-media-stream-no-audio-context',_0x4bf4e6[_0x1f261e(0x8ae)]=_0x1f261e(0x1ba),_0x4bf4e6['PubSubTopicDoesNotExist']=_0x1f261e(0x117),_0x4bf4e6[_0x1f261e(0x500)]=_0x1f261e(0x848),_0x4bf4e6[_0x1f261e(0xe8)]='pub-sub-topic-already-subscribed',_0x4bf4e6['QueryBuilderInvalidArgument']=_0x1f261e(0x279),_0x4bf4e6[_0x1f261e(0x7d8)]='remote-media-stream-already-exists',_0x4bf4e6['RemoteMediaStreamInvalidSubscriptionParams']=_0x1f261e(0x51b),_0x4bf4e6[_0x1f261e(0x5be)]=_0x1f261e(0xa04),_0x4bf4e6[_0x1f261e(0x25c)]=_0x1f261e(0x9d9),_0x4bf4e6[_0x1f261e(0x569)]='node-invalid-type',_0x4bf4e6[_0x1f261e(0xa42)]=_0x1f261e(0x250),_0x4bf4e6['NodeTypeRequired']='node-type-required',_0x4bf4e6[_0x1f261e(0x364)]=_0x1f261e(0x24e),_0x4bf4e6[_0x1f261e(0x744)]='vector-database-does-not-exist',_0x4bf4e6['VectorDatabaseMissingConnector']=_0x1f261e(0x59d),_0x4bf4e6['VectorDatabaseNameNotString']=_0x1f261e(0x2d3);}(_0x56d472||(_0x56d472={}));class _0x3b3113 extends Error{[_0x1af94f(0x17a)];constructor(_0x2fdcb3,_0x51b695){const _0x3f6847=_0x1af94f;super(_0x51b695),this[_0x3f6847(0x17a)]=_0x2fdcb3;}}!function(_0x35ff29){const _0x315320=_0x1af94f;_0x35ff29['PubSub']=_0x315320(0x488),_0x35ff29['ObjectStorage']='object-storage',_0x35ff29[_0x315320(0x22d)]=_0x315320(0x7f1),_0x35ff29['VectorDatabase']=_0x315320(0x578),_0x35ff29[_0x315320(0x835)]='graph-database',_0x35ff29['ExternalStorage']=_0x315320(0x64b),_0x35ff29['MediaStream']=_0x315320(0x1d9),_0x35ff29[_0x315320(0x564)]=_0x315320(0x221);}(_0x53b20f||(_0x53b20f={})),function(_0xdaab5){const _0x401edd=_0x1af94f;_0xdaab5[_0x401edd(0x226)]=_0x401edd(0x4d8),_0xdaab5[_0x401edd(0x346)]=_0x401edd(0x781),_0xdaab5['Connection']=_0x401edd(0x138),_0xdaab5[_0x401edd(0x707)]=_0x401edd(0x627),_0xdaab5[_0x401edd(0x772)]=_0x401edd(0x660),_0xdaab5[_0x401edd(0x54e)]=_0x401edd(0x3fe),_0xdaab5[_0x401edd(0x174)]='data-stream',_0xdaab5[_0x401edd(0x72b)]=_0x401edd(0x92d),_0xdaab5[_0x401edd(0xa43)]='events',_0xdaab5[_0x401edd(0x49a)]=_0x401edd(0x883),_0xdaab5[_0x401edd(0x2db)]=_0x401edd(0x42f),_0xdaab5[_0x401edd(0x22d)]=_0x401edd(0x7f1),_0xdaab5[_0x401edd(0x666)]=_0x401edd(0x17e),_0xdaab5[_0x401edd(0x1d6)]='pool',_0xdaab5[_0x401edd(0x446)]='pubsub',_0xdaab5[_0x401edd(0x5c0)]=_0x401edd(0x49f),_0xdaab5['Remediation']=_0x401edd(0x74e),_0xdaab5[_0x401edd(0x3e0)]='sender-send-message',_0xdaab5[_0x401edd(0xa3b)]=_0x401edd(0x23f),_0xdaab5['Stats']=_0x401edd(0x777),_0xdaab5['Subscription']=_0x401edd(0xa3d),_0xdaab5[_0x401edd(0x82e)]=_0x401edd(0x2cd),_0xdaab5[_0x401edd(0x16a)]=_0x401edd(0x189),_0xdaab5[_0x401edd(0xa24)]=_0x401edd(0x435),_0xdaab5[_0x401edd(0x2e9)]=_0x401edd(0x401),_0xdaab5[_0x401edd(0xa06)]=_0x401edd(0x94d);}(_0x53526a||(_0x53526a={}));const _0xb0907f=require('@crewdle/web-sdk-types');class _0x309310{[_0x1af94f(0x63f)];constructor(_0x49c241){const _0x8887a0=_0x1af94f;this['query']={'orderBy':{'key':_0x49c241,'direction':_0x8887a0(0x324)}};}static[_0x1af94f(0x1c0)](_0x5eaa06){const _0x4367eb=_0x1af94f;if('string'!=typeof _0x5eaa06||0x0===_0x5eaa06[_0x4367eb(0x71c)])throw new _0x3b3113(_0x56d472[_0x4367eb(0x550)],_0x4367eb(0x704));return new _0x309310(_0x5eaa06);}static['validateQuery'](_0x21bad8){const _0x2a5602=_0x1af94f;try{return _0x309310[_0x2a5602(0x71d)](_0x21bad8),!0x0;}catch(_0x597ee3){return!0x1;}}static[_0x1af94f(0x71d)](_0x1b4aa2){const _0x967e0=_0x1af94f,_0x992d6c=_0x309310[_0x967e0(0x1c0)](_0x1b4aa2[_0x967e0(0x785)]?.[_0x967e0(0x3c0)]??_0x1b4aa2[_0x967e0(0x9cf)]?.[_0x967e0(0x3c0)]??'');if(_0x1b4aa2[_0x967e0(0x9cf)]){const _0x4eee5e=_0x1b4aa2[_0x967e0(0x9cf)];if((_0x309310[_0x967e0(0x9ab)](_0x4eee5e)||_0x309310[_0x967e0(0x260)](_0x4eee5e)||_0x309310[_0x967e0(0x3ee)](_0x4eee5e))&&_0x992d6c['where'](_0x4eee5e[_0x967e0(0x1a6)],_0x4eee5e[_0x967e0(0x73e)]),_0x1b4aa2['orderBy']?.[_0x967e0(0x3c0)]&&_0x1b4aa2[_0x967e0(0x785)]?.[_0x967e0(0x3c0)]!==_0x1b4aa2[_0x967e0(0x9cf)]['key'])throw new _0x3b3113(_0x56d472[_0x967e0(0x550)],_0x967e0(0x6f2));}return _0x1b4aa2[_0x967e0(0x785)]&&_0x992d6c[_0x967e0(0x785)](_0x1b4aa2[_0x967e0(0x785)]['direction']),_0x1b4aa2[_0x967e0(0x3ce)]&&_0x992d6c[_0x967e0(0x3ce)](_0x1b4aa2[_0x967e0(0x3ce)]),_0x1b4aa2[_0x967e0(0x1e9)]&&_0x992d6c[_0x967e0(0x1e9)](_0x1b4aa2[_0x967e0(0x1e9)]),_0x992d6c;}[_0x1af94f(0x872)](){const _0xb5605a=_0x1af94f;return{...this[_0xb5605a(0x63f)]};}['where'](_0x2386f0,_0x2d99b4){const _0x4c7dd8=_0x1af94f,_0x5717ff={'key':this[_0x4c7dd8(0x63f)][_0x4c7dd8(0x785)][_0x4c7dd8(0x3c0)],'operator':_0x2386f0,'value':_0x2d99b4};if(!_0x309310['isWhereValue'](_0x5717ff)&&!_0x309310[_0x4c7dd8(0x260)](_0x5717ff)&&!_0x309310[_0x4c7dd8(0x3ee)](_0x5717ff))throw new _0x3b3113(_0x56d472[_0x4c7dd8(0x550)],'Invalid\x20where\x20clause');return this[_0x4c7dd8(0x63f)]['where']=_0x5717ff,this;}[_0x1af94f(0x785)](_0x197665){const _0xdf1558=_0x1af94f;if(_0xdf1558(0x324)!==_0x197665&&_0xdf1558(0x334)!==_0x197665)throw new _0x3b3113(_0x56d472[_0xdf1558(0x550)],_0xdf1558(0x2f6));return this[_0xdf1558(0x63f)]['orderBy'][_0xdf1558(0x552)]=_0x197665,this;}[_0x1af94f(0x3ce)](_0x44185f){const _0x2c9f46=_0x1af94f;if(_0x2c9f46(0x93c)!=typeof _0x44185f||_0x44185f<0x0)throw new _0x3b3113(_0x56d472[_0x2c9f46(0x550)],'Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number');return this[_0x2c9f46(0x63f)][_0x2c9f46(0x3ce)]=_0x44185f,this;}['offset'](_0x40315e){const _0x209d4f=_0x1af94f;if('number'!=typeof _0x40315e||_0x40315e<0x0)throw new _0x3b3113(_0x56d472[_0x209d4f(0x550)],_0x209d4f(0x43f));return this[_0x209d4f(0x63f)][_0x209d4f(0x1e9)]=_0x40315e,this;}static[_0x1af94f(0x9ab)](_0x163fd8){const _0x39eb0d=_0x1af94f;if(!(_0x163fd8&&'object'==typeof _0x163fd8&&_0x39eb0d(0x1a6)in _0x163fd8&&_0x39eb0d(0x73e)in _0x163fd8))return!0x1;const {operator:_0x5e4b84,value:_0x43299e}=_0x163fd8;return!(!['==','!=','>','<','<=','>=']['includes'](_0x5e4b84)||Array[_0x39eb0d(0x7ba)](_0x43299e));}static[_0x1af94f(0x260)](_0x4d808a){const _0x12d5c4=_0x1af94f;if(!(_0x4d808a&&_0x12d5c4(0x4dc)==typeof _0x4d808a&&'operator'in _0x4d808a&&_0x12d5c4(0x73e)in _0x4d808a))return!0x1;const {operator:_0x4ddbdd,value:_0xbb2e86}=_0x4d808a;return!(!['in',_0x12d5c4(0x75c)][_0x12d5c4(0x1ed)](_0x4ddbdd)||!Array['isArray'](_0xbb2e86));}static[_0x1af94f(0x3ee)](_0x2c58b5){const _0x1deadc=_0x1af94f;if(!(_0x2c58b5&&_0x1deadc(0x4dc)==typeof _0x2c58b5&&_0x1deadc(0x1a6)in _0x2c58b5&&_0x1deadc(0x73e)in _0x2c58b5))return!0x1;const {operator:_0x323306,value:_0x2bac70}=_0x2c58b5;return!(_0x1deadc(0x262)!==_0x323306||!Array[_0x1deadc(0x7ba)](_0x2bac70)||0x2!==_0x2bac70[_0x1deadc(0x71c)]);}}class _0x17021b{[_0x1af94f(0x390)];constructor(_0x119a6c){const _0x13d65e=_0x1af94f;this[_0x13d65e(0x390)]={'tables':{},'version':_0x119a6c};}static['validateLayout'](_0x5274ce){const _0x5c04d6=_0x1af94f;for(const _0x23d4db in _0x5274ce){if(_0x5c04d6(0x215)!==_0x23d4db&&_0x5c04d6(0x3bc)!==_0x23d4db)return[!0x1,_0x5c04d6(0x27e)+_0x23d4db+_0x5c04d6(0x70b)];if(_0x5c04d6(0x3bc)===_0x23d4db)for(const _0x50456d in _0x5274ce[_0x5c04d6(0x3bc)]){if(_0x5c04d6(0x4e9)!=typeof _0x50456d)return[!0x1,'Invalid\x20table\x20name\x20\x27'+_0x50456d+'\x27'];for(const _0x2622cf in _0x5274ce[_0x5c04d6(0x3bc)][_0x50456d]){if(_0x5c04d6(0x608)!==_0x2622cf)return[!0x1,_0x5c04d6(0x27e)+_0x2622cf+_0x5c04d6(0x449)+_0x50456d+'\x27'];const _0x11086c=_0x5274ce['tables'][_0x50456d][_0x2622cf]??[];for(const _0x1e8dfb of _0x11086c)if(void 0x0===_0x1e8dfb['keyPath']||_0x5c04d6(0x4e9)!=typeof _0x1e8dfb[_0x5c04d6(0x98c)])return[!0x1,_0x5c04d6(0x150)+_0x50456d+_0x5c04d6(0x4c7)];}}else{if(_0x5c04d6(0x215)===_0x23d4db&&'number'!=typeof _0x5274ce[_0x23d4db])return[!0x1,_0x5c04d6(0x1f5)+_0x5274ce[_0x23d4db]+_0x5c04d6(0xff)];}}return[!0x0,_0x5c04d6(0x350)];}static[_0x1af94f(0x390)](_0x13245b){const _0x8d913=_0x1af94f,_0x44916e=new _0x17021b(_0x13245b);return _0x44916e['layout'][_0x8d913(0x215)]=_0x13245b,_0x44916e;}[_0x1af94f(0x460)](_0xa4ed60){const _0x47fa2f=_0x1af94f;return this[_0x47fa2f(0x390)]['tables'][_0xa4ed60]={},new _0x6a2dfd(this['layout'][_0x47fa2f(0x3bc)][_0xa4ed60]);}['getLayout'](){const _0x562861=_0x1af94f;return this[_0x562861(0x390)];}}class _0x6a2dfd{[_0x1af94f(0x133)];constructor(_0x1ac042){const _0x318d8b=_0x1af94f;this[_0x318d8b(0x133)]=_0x1ac042;}['index'](_0x1ed31e){const _0x4f36e9=_0x1af94f;return this[_0x4f36e9(0x133)][_0x4f36e9(0x608)]=this[_0x4f36e9(0x133)][_0x4f36e9(0x608)]??[],this['tableLayout'][_0x4f36e9(0x608)]['push']({'keyPath':_0x1ed31e}),this;}}const _0x117062=0x40000,_0x57efb0=0x20000,_0x33f6e5=0x1388,_0x19621c=_0x1af94f(0x763),_0x32b883=_0x1af94f(0x918),_0x4caa30=_0x1af94f(0x336),_0x7849f=_0x1af94f(0x724),_0x5e39b7=0xdbba0,_0x2f8ad8=_0x1af94f(0x264),_0x44caca=0x61a8,_0x5efbe6=0x7530,_0x50bf9f=_0x1af94f(0x10d);var _0x3d6742;!function(_0x5ca169){const _0x1db436=_0x1af94f;_0x5ca169[_0x1db436(0x4ce)]=_0x1db436(0x2a0),_0x5ca169[_0x1db436(0x5f8)]=_0x1db436(0x16f),_0x5ca169[_0x1db436(0x6a9)]=_0x1db436(0x156),_0x5ca169['ConnectionInvalidDataEvent']=_0x1db436(0x355),_0x5ca169[_0x1db436(0x976)]='generative-ai-context-creation-failed',_0x5ca169['GenerativeAIContextInvalidPartialResult']=_0x1db436(0x2e5),_0x5ca169[_0x1db436(0x18f)]='generative-ai-context-job-already-consumed',_0x5ca169['GenerativeAIContextJobFailed']=_0x1db436(0x3b5),_0x5ca169['GenerativeAIContextJobTimeout']=_0x1db436(0x5b1),_0x5ca169[_0x1db436(0x32e)]='generative-ai-worker-creation-failed',_0x5ca169[_0x1db436(0x135)]=_0x1db436(0x393),_0x5ca169['InvalidDataChannel']=_0x1db436(0x61f),_0x5ca169[_0x1db436(0x958)]=_0x1db436(0x83f),_0x5ca169[_0x1db436(0x681)]=_0x1db436(0x902),_0x5ca169['InvalidSubscription']=_0x1db436(0x57e),_0x5ca169[_0x1db436(0x6cc)]=_0x1db436(0x648),_0x5ca169[_0x1db436(0x4da)]='job-dispatcher-invalid-payload',_0x5ca169[_0x1db436(0x109)]=_0x1db436(0x3a6),_0x5ca169[_0x1db436(0x3c7)]=_0x1db436(0xa41),_0x5ca169['JobWorkerCreationFailed']='job-worker-creation-failed',_0x5ca169[_0x1db436(0x157)]=_0x1db436(0x300),_0x5ca169[_0x1db436(0x1ab)]=_0x1db436(0x814),_0x5ca169[_0x1db436(0x43d)]=_0x1db436(0x878),_0x5ca169[_0x1db436(0xa1c)]=_0x1db436(0x4c8),_0x5ca169[_0x1db436(0x11e)]='key-value-database-transaction-table-not-initialized',_0x5ca169[_0x1db436(0x822)]=_0x1db436(0x7fc),_0x5ca169[_0x1db436(0x9af)]=_0x1db436(0x3da),_0x5ca169[_0x1db436(0x512)]='missing-incoming-connection',_0x5ca169['MissingSystemTopic']=_0x1db436(0x8a2),_0x5ca169[_0x1db436(0x72c)]=_0x1db436(0x35d),_0x5ca169['ObjectStoreCannotWriteTransaction']=_0x1db436(0x9a8),_0x5ca169[_0x1db436(0x66c)]=_0x1db436(0x3f2),_0x5ca169[_0x1db436(0xa3c)]=_0x1db436(0x200),_0x5ca169[_0x1db436(0x5da)]='object-store-not-synced',_0x5ca169[_0x1db436(0xe4)]=_0x1db436(0x59e),_0x5ca169['RemoteMediaStreamDoesNotExist']=_0x1db436(0x959),_0x5ca169['RemoteMediaStreamMissingProviderId']=_0x1db436(0x893),_0x5ca169[_0x1db436(0x1de)]=_0x1db436(0x8cd),_0x5ca169[_0x1db436(0x522)]='subscription-request-does-not-exist',_0x5ca169['SubscriptionRequestFailed']=_0x1db436(0x485),_0x5ca169[_0x1db436(0x42a)]=_0x1db436(0x111),_0x5ca169[_0x1db436(0x819)]=_0x1db436(0x7ea),_0x5ca169[_0x1db436(0x55f)]=_0x1db436(0x619),_0x5ca169['PeerConnectionInvalidDestination']='peer-connection-invalid-destination',_0x5ca169['VectorDatabaseCreationFailed']=_0x1db436(0x8d5),_0x5ca169[_0x1db436(0x623)]=_0x1db436(0x438),_0x5ca169['WorkflowInvalidBlockType']='workflow-invalid-block-type';}(_0x3d6742||(_0x3d6742={}));const _0x44a7de=new Map([[_0x3d6742[_0x1af94f(0x4ce)],_0x1af94f(0x60f)],[_0x3d6742[_0x1af94f(0x5f8)],_0x1af94f(0x11f)],[_0x3d6742[_0x1af94f(0x6a9)],'Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.'],[_0x3d6742[_0x1af94f(0x689)],_0x1af94f(0x69d)],[_0x3d6742[_0x1af94f(0x976)],_0x1af94f(0x90a)],[_0x3d6742[_0x1af94f(0x246)],_0x1af94f(0xa4e)],[_0x3d6742[_0x1af94f(0x18f)],'Generative\x20AI\x20context\x20job\x20already\x20consumed.'],[_0x3d6742[_0x1af94f(0x1b9)],'Generative\x20AI\x20context\x20job\x20failed.'],[_0x3d6742[_0x1af94f(0x3ef)],_0x1af94f(0x3ad)],[_0x3d6742[_0x1af94f(0x32e)],_0x1af94f(0x795)],[_0x3d6742[_0x1af94f(0x135)],'Graph\x20database\x20creation\x20failed.'],[_0x3d6742[_0x1af94f(0x2ca)],_0x1af94f(0x67b)],[_0x3d6742[_0x1af94f(0x958)],_0x1af94f(0x7a8)],[_0x3d6742[_0x1af94f(0x681)],_0x1af94f(0x54b)],[_0x3d6742[_0x1af94f(0x64f)],_0x1af94f(0x754)],[_0x3d6742[_0x1af94f(0x6cc)],_0x1af94f(0x457)],[_0x3d6742[_0x1af94f(0x4da)],_0x1af94f(0x796)],[_0x3d6742[_0x1af94f(0x109)],_0x1af94f(0x415)],[_0x3d6742[_0x1af94f(0x3c7)],'Job\x20service\x20observer\x20not\x20found.'],[_0x3d6742[_0x1af94f(0x870)],_0x1af94f(0x34e)],[_0x3d6742[_0x1af94f(0x157)],_0x1af94f(0x641)],[_0x3d6742['KeyValueDatabaseCreationFailed'],'Key-value\x20database\x20creation\x20failed.'],[_0x3d6742[_0x1af94f(0x43d)],'Key-value\x20database\x20peak\x20not\x20found.'],[_0x3d6742['KeyValueDatabaseTableDoesNotExist'],_0x1af94f(0x2b7)],[_0x3d6742[_0x1af94f(0x11e)],_0x1af94f(0x220)],[_0x3d6742['KeyValueDatabaseTransactionValueNotSet'],_0x1af94f(0x67d)],[_0x3d6742[_0x1af94f(0x9af)],'Local\x20stream\x20does\x20not\x20exist.'],[_0x3d6742[_0x1af94f(0x512)],_0x1af94f(0x171)],[_0x3d6742[_0x1af94f(0x70f)],_0x1af94f(0x93f)],[_0x3d6742[_0x1af94f(0x72c)],_0x1af94f(0x94a)],[_0x3d6742[_0x1af94f(0x8ce)],_0x1af94f(0x50a)],[_0x3d6742[_0x1af94f(0xa3c)],'Invalid\x20object\x20store\x20sync\x20message.'],[_0x3d6742[_0x1af94f(0x66c)],_0x1af94f(0x8e0)],[_0x3d6742['ObjectStoreNotSynced'],_0x1af94f(0x84f)],[_0x3d6742[_0x1af94f(0xe4)],_0x1af94f(0x5a6)],[_0x3d6742[_0x1af94f(0x443)],_0x1af94f(0x49b)],[_0x3d6742[_0x1af94f(0x943)],'Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.'],[_0x3d6742[_0x1af94f(0x1de)],_0x1af94f(0x168)],[_0x3d6742[_0x1af94f(0x522)],'Subscription\x20request\x20does\x20not\x20exist.'],[_0x3d6742[_0x1af94f(0x30d)],_0x1af94f(0x6b9)],[_0x3d6742[_0x1af94f(0x42a)],_0x1af94f(0x2f3)],[_0x3d6742['NodeDoesNotExist'],_0x1af94f(0x2a8)],[_0x3d6742[_0x1af94f(0x55f)],_0x1af94f(0x60b)],[_0x3d6742[_0x1af94f(0x793)],_0x1af94f(0x787)],[_0x3d6742[_0x1af94f(0x757)],'Vector\x20database\x20creation\x20failed.'],[_0x3d6742[_0x1af94f(0x623)],_0x1af94f(0x9e7)],[_0x3d6742[_0x1af94f(0x6c5)],_0x1af94f(0x467)]]);class _0x3c8547 extends Error{[_0x1af94f(0x17a)];static [_0x1af94f(0x700)]=_0x3d6742;[_0x1af94f(0x87a)];constructor(_0x3aab38,_0x15fd2c){const _0x141637=_0x1af94f;super('Internal\x20SDK\x20Error:\x20'+_0x3aab38+':\x20'+_0x44a7de[_0x141637(0x70a)](_0x3aab38)+_0x141637(0x9b3)+JSON[_0x141637(0x656)](_0x15fd2c)),this['code']=_0x3aab38,this[_0x141637(0x87a)]=_0x15fd2c||{};}}var _0x20f4a0,_0x47fac3,_0x172358,_0x372c00,_0x5464ac,_0x57938f,_0x502914;!function(_0x22bf44){const _0x4bf2be=_0x1af94f;_0x22bf44[_0x22bf44['CloseGraphDatabase']=0x0]=_0x4bf2be(0x517),_0x22bf44[_0x22bf44[_0x4bf2be(0x945)]=0x1]=_0x4bf2be(0x945),_0x22bf44[_0x22bf44[_0x4bf2be(0x3a4)]=0x2]=_0x4bf2be(0x3a4),_0x22bf44[_0x22bf44[_0x4bf2be(0x3a1)]=0x3]=_0x4bf2be(0x3a1),_0x22bf44[_0x22bf44['CloseKeyValueDatabase']=0x4]=_0x4bf2be(0x6d0),_0x22bf44[_0x22bf44[_0x4bf2be(0x762)]=0x5]=_0x4bf2be(0x762),_0x22bf44[_0x22bf44[_0x4bf2be(0x8f8)]=0x6]='CloseObjectStoreBucket',_0x22bf44[_0x22bf44[_0x4bf2be(0x738)]=0x7]='ClosePubSubTopic',_0x22bf44[_0x22bf44[_0x4bf2be(0x97b)]=0x8]=_0x4bf2be(0x97b),_0x22bf44[_0x22bf44['ExternalStorageStats']=0x9]='ExternalStorageStats',_0x22bf44[_0x22bf44[_0x4bf2be(0x2b6)]=0xa]=_0x4bf2be(0x2b6),_0x22bf44[_0x22bf44[_0x4bf2be(0x8fd)]=0xb]=_0x4bf2be(0x8fd),_0x22bf44[_0x22bf44[_0x4bf2be(0x7eb)]=0xc]=_0x4bf2be(0x7eb),_0x22bf44[_0x22bf44[_0x4bf2be(0xa2a)]=0xd]='KeyValueDatabaseContentAvailable',_0x22bf44[_0x22bf44['KeyValueDatabaseContentSynchronized']=0xe]=_0x4bf2be(0x199),_0x22bf44[_0x22bf44['KeyValueDatabaseRequestPeakTransactions']=0xf]=_0x4bf2be(0x6d2),_0x22bf44[_0x22bf44[_0x4bf2be(0x329)]=0x10]='KeyValueDatabaseRequestTransactionsValue',_0x22bf44[_0x22bf44[_0x4bf2be(0x53b)]=0x11]=_0x4bf2be(0x53b),_0x22bf44[_0x22bf44[_0x4bf2be(0x9a6)]=0x12]=_0x4bf2be(0x9a6),_0x22bf44[_0x22bf44[_0x4bf2be(0x88c)]=0x13]=_0x4bf2be(0x88c),_0x22bf44[_0x22bf44[_0x4bf2be(0x50f)]=0x14]=_0x4bf2be(0x50f),_0x22bf44[_0x22bf44[_0x4bf2be(0x9fc)]=0x15]=_0x4bf2be(0x9fc),_0x22bf44[_0x22bf44[_0x4bf2be(0x26e)]=0x16]=_0x4bf2be(0x26e),_0x22bf44[_0x22bf44[_0x4bf2be(0x6da)]=0x17]='PublishMediaStream',_0x22bf44[_0x22bf44[_0x4bf2be(0x40b)]=0x18]=_0x4bf2be(0x40b),_0x22bf44[_0x22bf44[_0x4bf2be(0x6de)]=0x19]=_0x4bf2be(0x6de),_0x22bf44[_0x22bf44[_0x4bf2be(0x95c)]=0x1a]=_0x4bf2be(0x95c),_0x22bf44[_0x22bf44[_0x4bf2be(0x8c8)]=0x1b]=_0x4bf2be(0x8c8),_0x22bf44[_0x22bf44[_0x4bf2be(0x459)]=0x1c]=_0x4bf2be(0x459),_0x22bf44[_0x22bf44[_0x4bf2be(0x57b)]=0x1d]=_0x4bf2be(0x57b);}(_0x20f4a0||(_0x20f4a0={})),function(_0x4726d5){const _0x86ee9b=_0x1af94f;_0x4726d5[_0x86ee9b(0x21c)]='file-write',_0x4726d5[_0x86ee9b(0x831)]=_0x86ee9b(0x2bf),_0x4726d5[_0x86ee9b(0x1a4)]=_0x86ee9b(0x8e1),_0x4726d5[_0x86ee9b(0x765)]=_0x86ee9b(0x557),_0x4726d5[_0x86ee9b(0x73d)]='request-file',_0x4726d5['RequestAccepted']=_0x86ee9b(0x82f),_0x4726d5[_0x86ee9b(0x348)]=_0x86ee9b(0x83d),_0x4726d5['RequestFileWrite']=_0x86ee9b(0x296);}(_0x47fac3||(_0x47fac3={})),function(_0x1989cd){const _0x5eb764=_0x1af94f;_0x1989cd[_0x5eb764(0x4e2)]='request',_0x1989cd[_0x5eb764(0x68f)]=_0x5eb764(0x948);}(_0x172358||(_0x172358={})),function(_0x4a1d72){const _0xe3af91=_0x1af94f;_0x4a1d72[_0xe3af91(0x7f5)]=_0xe3af91(0x23a),_0x4a1d72[_0xe3af91(0x4fc)]=_0xe3af91(0x940),_0x4a1d72[_0xe3af91(0x1a4)]=_0xe3af91(0x8e1);}(_0x372c00||(_0x372c00={})),function(_0x40d977){const _0x202999=_0x1af94f;_0x40d977[_0x202999(0x519)]=_0x202999(0x70a),_0x40d977[_0x202999(0x84e)]=_0x202999(0x3d1),_0x40d977[_0x202999(0x3c5)]=_0x202999(0x54f);}(_0x5464ac||(_0x5464ac={})),function(_0x3230c8){const _0x5bcc91=_0x1af94f;_0x3230c8[_0x3230c8[_0x5bcc91(0x4e2)]=0x0]=_0x5bcc91(0x4e2),_0x3230c8[_0x3230c8['Bid']=0x1]=_0x5bcc91(0x618),_0x3230c8[_0x3230c8[_0x5bcc91(0x52a)]=0x2]=_0x5bcc91(0x52a),_0x3230c8[_0x3230c8[_0x5bcc91(0x2e4)]=0x3]='PartialResult',_0x3230c8[_0x3230c8['Result']=0x4]='Result',_0x3230c8[_0x3230c8[_0x5bcc91(0x8d6)]=0x5]=_0x5bcc91(0x8d6);}(_0x57938f||(_0x57938f={})),function(_0x5605bf){const _0x4e5626=_0x1af94f;_0x5605bf[_0x5605bf[_0x4e5626(0xa06)]=0x0]='PeerConnection',_0x5605bf[_0x5605bf[_0x4e5626(0x666)]=0x1]=_0x4e5626(0x666),_0x5605bf[_0x5605bf['Content']=0x2]='Content',_0x5605bf[_0x5605bf['Subscription']=0x3]=_0x4e5626(0x62c),_0x5605bf[_0x5605bf[_0x4e5626(0x886)]=0x4]=_0x4e5626(0x886),_0x5605bf[_0x5605bf[_0x4e5626(0x72b)]=0x5]=_0x4e5626(0x72b),_0x5605bf[_0x5605bf[_0x4e5626(0x821)]=0x6]='Remediation';}(_0x502914||(_0x502914={}));class _0x1fbec9{[_0x1af94f(0x3d5)];[_0x1af94f(0xf1)];[_0x1af94f(0x316)];constructor(_0x5708ab,_0x109c58){const _0x4207c6=_0x1af94f;this[_0x4207c6(0x3d5)]=_0x5708ab,this[_0x4207c6(0xf1)]=_0x109c58;}[_0x1af94f(0x8c4)](){return this['label'];}[_0x1af94f(0x7bd)](){const _0x2b095d=_0x1af94f;return this[_0x2b095d(0x3d5)][_0x2b095d(0x8f3)]();}[_0x1af94f(0x541)](){}['registerSystemPublisher'](_0x573fa5){const _0x521e2c=_0x1af94f;this[_0x521e2c(0x316)]=_0x573fa5;}[_0x1af94f(0x466)](){delete this['systemTopic'];}}const _0x36eea4=require('firebase/firestore');let _0x582ba0=_0xf7de80(0x14d)['O'];function _0x341b70(_0x423c21){const _0x27aa26=_0x1af94f;return!(!_0x423c21||_0x27aa26(0x4dc)!=typeof _0x423c21||Array[_0x27aa26(0x7ba)](_0x423c21));}_0x582ba0=function _0x3f42b3(_0x20daf7,..._0x565f67){const _0x2b60f4=_0x1af94f;if(!Array[_0x2b60f4(0x7ba)](_0x565f67)||0x0===_0x565f67[_0x2b60f4(0x71c)])return _0x20daf7;const _0x492355=_0x565f67[_0x2b60f4(0x396)]();if(_0x341b70(_0x20daf7)&&_0x341b70(_0x492355)){for(const _0x51ad17 in _0x492355)_0x341b70(_0x492355[_0x51ad17])?(_0x20daf7[_0x51ad17]||Object[_0x2b60f4(0x83c)](_0x20daf7,{[_0x51ad17]:{}}),_0x3f42b3(_0x20daf7[_0x51ad17],_0x492355[_0x51ad17])):Object[_0x2b60f4(0x83c)](_0x20daf7,{[_0x51ad17]:_0x492355[_0x51ad17]});}return _0x3f42b3(_0x20daf7,..._0x565f67);}(_0x582ba0,_0xf7de80(0x3e6)['O']);const _0x4f7736=_0x582ba0,_0x23dcf7=require('firebase/app'),_0x2c5109=require('firebase/auth'),_0x13f063=require('firebase/database'),_0x52a505=require('firebase/functions'),_0x2a820b=require('uuid'),_0x259b97=_0x1af94f(0x211);class _0x530b1c{static ['instance'];[_0x1af94f(0x2a5)];[_0x1af94f(0x9b7)];[_0x1af94f(0x5f1)];[_0x1af94f(0x888)];[_0x1af94f(0x477)];[_0x1af94f(0x173)];[_0x1af94f(0xa57)];constructor(){const _0x1d525d=_0x1af94f;this[_0x1d525d(0x108)]();}static[_0x1af94f(0x6b0)](){const _0x3319b0=_0x1af94f;return _0x530b1c[_0x3319b0(0x8ab)]||(_0x530b1c[_0x3319b0(0x8ab)]=new _0x530b1c()),_0x530b1c[_0x3319b0(0x8ab)];}[_0x1af94f(0x108)](){const _0x592066=_0x1af94f;if(!this['app']){let _0x2b4459=_0x259b97;_0x592066(0x218)!=typeof window&&(_0x2b4459=_0x259b97+'-'+(0x0,_0x2a820b['v4'])()),this['app']=(0x0,_0x23dcf7[_0x592066(0x673)])(_0x4f7736[_0x592066(0x7c8)],''+_0x2b4459);}return this[_0x592066(0x2a5)];}['getAuth'](){const _0x37b7f4=_0x1af94f;return this[_0x37b7f4(0x9b7)]||(this['auth']=(0x0,_0x2c5109[_0x37b7f4(0x28d)])(this['getApp']())),this[_0x37b7f4(0x9b7)];}['getFunctions'](){const _0x4abaa0=_0x1af94f;return this[_0x4abaa0(0x5f1)]||(this[_0x4abaa0(0x5f1)]=(0x0,_0x52a505[_0x4abaa0(0x767)])(this[_0x4abaa0(0x108)](),_0x4f7736['firebaseConfig']['functionsRegion'])),this['functions'];}[_0x1af94f(0x37c)](){const _0x153086=_0x1af94f;return this[_0x153086(0x888)]||(this['database']=(0x0,_0x13f063[_0x153086(0x37c)])(this['getApp']())),this[_0x153086(0x888)];}[_0x1af94f(0x1ca)](){const _0x22aacc=_0x1af94f;return this['firestore']||(this[_0x22aacc(0x477)]=(0x0,_0x36eea4[_0x22aacc(0x1ca)])(this[_0x22aacc(0x108)]())),this['firestore'];}async[_0x1af94f(0x349)](){const _0x29149c=_0x1af94f;if(this['clockSkew']&&this[_0x29149c(0xa57)]&&Date[_0x29149c(0x1f3)]()-this[_0x29149c(0xa57)]<0x493e0)return Date[_0x29149c(0x1f3)]()+this['clockSkew'];const _0x2fd60e=this[_0x29149c(0x37c)](),_0x542a05=(0x0,_0x13f063[_0x29149c(0xe7)])(_0x2fd60e,_0x29149c(0x607));return new Promise(_0x2ebd0a=>{const _0x3f387e=_0x29149c;(0x0,_0x13f063[_0x3f387e(0x427)])(_0x542a05,_0x367187=>{const _0x423357=_0x3f387e;(0x0,_0x13f063[_0x423357(0x5d4)])(_0x542a05),this['clockSkew']=_0x367187[_0x423357(0x651)](),this[_0x423357(0xa57)]=Date['now'](),_0x2ebd0a(Date[_0x423357(0x1f3)]()+(this[_0x423357(0x173)]??0x0));});});}}const _0xa01105=_0x530b1c[_0x1af94f(0x6b0)]();class _0x38a202{static [_0x1af94f(0x8ab)];[_0x1af94f(0x8f5)]=[_0x53526a[_0x1af94f(0x346)]];[_0x1af94f(0x637)]=!0x1;[_0x1af94f(0x844)];[_0x1af94f(0x90c)]='';[_0x1af94f(0x7b0)];['batchQueue']=[];[_0x1af94f(0x99e)];[_0x1af94f(0x33a)];['retryLimit']=0xa;[_0x1af94f(0x962)]=0x1f4;[_0x1af94f(0x53d)]=0x1c2;['timeoutValue']=0x3e8;constructor(){const _0x5b3b1e=_0x1af94f;if(_0x5b3b1e(0x218)!=typeof window)this[_0x5b3b1e(0x7b0)]=window;else{if(void 0x0===_0xf7de80['g'])throw new Error(_0x5b3b1e(0x6ce));this[_0x5b3b1e(0x7b0)]=_0xf7de80['g'];}this['loadEnabledChannels'](),this[_0x5b3b1e(0x7b0)][_0x5b3b1e(0x5c3)]=_0x967b41=>{const _0x2539dd=_0x5b3b1e;if(_0x967b41===_0x53526a[_0x2539dd(0x226)])return this[_0x2539dd(0x8f5)]=Object['keys'](_0x53526a)[_0x2539dd(0x7d0)](_0x27a1ea=>_0x53526a[_0x27a1ea]),void Object[_0x2539dd(0x7a3)](_0x53526a)[_0x2539dd(0x333)](_0x8e4c96=>{const _0x2e4b1e=_0x2539dd,_0x5dd164=_0x8e4c96;localStorage[_0x2e4b1e(0x6d3)]('crewdle-sdk-logging-'+_0x53526a[_0x5dd164],_0x2e4b1e(0x10f));});this[_0x2539dd(0x8f5)][_0x2539dd(0x1ed)](_0x967b41)||(this[_0x2539dd(0x8f5)][_0x2539dd(0x3d6)](_0x967b41),localStorage[_0x2539dd(0x6d3)](_0x2539dd(0x6fb)+_0x967b41,_0x2539dd(0x10f)));},this[_0x5b3b1e(0x7b0)][_0x5b3b1e(0x77e)]=_0x4c07be=>{const _0x4288dc=_0x5b3b1e;if(!_0x4c07be||_0x4c07be===_0x53526a[_0x4288dc(0x226)])return this['enabledChannels']=[],void Object[_0x4288dc(0x7a3)](_0x53526a)[_0x4288dc(0x333)](_0x37ffce=>{const _0x5ba3a9=_0x4288dc,_0x51c3b7=_0x37ffce;localStorage[_0x5ba3a9(0x766)](_0x5ba3a9(0x6fb)+_0x53526a[_0x51c3b7]);});this[_0x4288dc(0x8f5)][_0x4288dc(0x1ed)](_0x4c07be)&&(this[_0x4288dc(0x8f5)]=this[_0x4288dc(0x8f5)][_0x4288dc(0x7e0)](_0x5919fd=>_0x5919fd!==_0x4c07be),localStorage[_0x4288dc(0x766)](_0x4288dc(0x6fb)+_0x4c07be));},this[_0x5b3b1e(0x7b0)][_0x5b3b1e(0x913)]=_0x53526a;}static['getInstance'](){const _0x41d42e=_0x1af94f;try{return _0x38a202[_0x41d42e(0x8ab)]||(_0x38a202[_0x41d42e(0x8ab)]=new _0x38a202()),_0x38a202[_0x41d42e(0x8ab)];}catch(_0x4fa46c){return console[_0x41d42e(0x883)](_0x41d42e(0x8f0),_0x4fa46c),{'log':()=>{},'forceLog':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1,'processBatch':()=>{}};}}[_0x1af94f(0x89b)](_0x1672f6){const _0x1a6ded=_0x1af94f;this[_0x1a6ded(0x90c)]=_0x1672f6,this['batchQueue']=[],this['currentBatch']=this[_0x1a6ded(0x778)](),this['batchTimeout']&&(clearTimeout(this[_0x1a6ded(0x33a)]),this[_0x1a6ded(0x33a)]=void 0x0);}[_0x1af94f(0x216)](_0x2cfe72){const _0x1193e2=_0x1af94f;this[_0x1193e2(0x844)]=_0x2cfe72;}[_0x1af94f(0x358)](_0x19884e,..._0x27ff11){const _0x42c9a7=_0x1af94f;this['debugEnabled']&&this[_0x42c9a7(0x15c)](_0x53526a[_0x42c9a7(0x346)],'DEBUG\x20-\x20'+_0x19884e,..._0x27ff11);}['forceLog'](_0x5ac1eb,..._0x3f89be){const _0x1b88ab=_0x1af94f;console[_0x1b88ab(0x15c)](_0x5ac1eb,..._0x3f89be),this[_0x1b88ab(0x844)]&&this[_0x1b88ab(0x844)][_0x1b88ab(0x333)](_0x489487=>{const _0x6e52fc=_0x1b88ab;_0x489487[_0x6e52fc(0x15c)](_0x5ac1eb,{'vendorId':this['vendorId'],'nodeId':'','nodeType':'','data':{..._0x3f89be}});});}[_0x1af94f(0x15c)](_0xebfba8,_0x3b871f,..._0x143e5f){const _0x3f47f9=_0x1af94f;_0x4f7736['isProduction']||(this[_0x3f47f9(0x8f5)][_0x3f47f9(0x1ed)](_0xebfba8)&&console[_0x3f47f9(0x15c)](_0x3f47f9(0x7f8)+_0xebfba8+'\x27\x0a',new Date()+'\x0a',_0x3b871f,..._0x143e5f),this[_0x3f47f9(0x844)]&&this[_0x3f47f9(0x844)][_0x3f47f9(0x333)](_0x42eeea=>{const _0x168da6=_0x3f47f9;this['isInternalLoggingConnector'](_0x42eeea)&&_0x42eeea[_0x168da6(0x2e8)]()[_0x168da6(0x1ed)](_0xebfba8)&&_0x42eeea[_0x168da6(0x15c)](_0x3b871f,{'vendorId':this['vendorId'],'nodeId':'','nodeType':'','data':{'channel':_0xebfba8,..._0x143e5f}});}));}[_0x1af94f(0x472)](_0xa49ee3,_0x3778e6,..._0x43be38){const _0x15a9c1=_0x1af94f;_0x4f7736[_0x15a9c1(0x4a1)]||(this[_0x15a9c1(0x8f5)]['includes'](_0xa49ee3)&&console[_0x15a9c1(0x15c)](_0x3778e6,..._0x43be38),this[_0x15a9c1(0x844)]&&this[_0x15a9c1(0x844)][_0x15a9c1(0x333)](_0xf3c247=>{const _0xa45453=_0x15a9c1;this[_0xa45453(0x4d3)](_0xf3c247)&&_0xf3c247[_0xa45453(0x2e8)]()['includes'](_0xa49ee3)&&_0xf3c247[_0xa45453(0x15c)](_0x3778e6,{'vendorId':this[_0xa45453(0x90c)],'nodeId':'','nodeType':'','data':{'channel':_0xa49ee3,..._0x43be38}});}));}[_0x1af94f(0x6c3)](_0x416c36,_0x4a7f02){const _0x5da6b8=_0x1af94f;if(!this[_0x5da6b8(0x844)])return;const _0x58e937={'vendorId':this[_0x5da6b8(0x90c)],..._0x4a7f02};this[_0x5da6b8(0x844)]['forEach'](_0x1e692d=>{const _0xf59ff=_0x5da6b8;_0x1e692d[_0xf59ff(0x15c)](_0x416c36,_0x58e937);});}[_0x1af94f(0x624)](_0x562c5d,_0x25123d){const _0x4c2227=_0x1af94f;this[_0x4c2227(0x1b5)](_0x562c5d,_0x25123d),this['logBatch']();}[_0x1af94f(0x5a5)](_0x49a283,_0x5c7e01,_0x54df2b){const _0x460ce0=_0x1af94f;(0x0,_0x36eea4[_0x460ce0(0x52b)])((0x0,_0x36eea4['doc'])(_0xa01105[_0x460ce0(0x1ca)](),_0x460ce0(0x39a)+this['vendorId']+'/'+_0x49a283+'/'+_0x5c7e01),{'storage':_0x54df2b,'timestamp':(0x0,_0x36eea4[_0x460ce0(0x360)])()});}[_0x1af94f(0x647)](){const _0x474ef2=_0x1af94f;this['currentBatch']&&(this[_0x474ef2(0x99e)][_0x474ef2(0x40c)]+=0x1,this[_0x474ef2(0x99e)][_0x474ef2(0x40c)]===this[_0x474ef2(0x53d)]?this['processBatch']():this[_0x474ef2(0x33a)]||(this[_0x474ef2(0x33a)]=this[_0x474ef2(0x7b0)]['setTimeout'](()=>this[_0x474ef2(0xa1e)](),this['timeoutValue'])));}async[_0x1af94f(0xa1e)](){const _0x2522e0=_0x1af94f;if(this[_0x2522e0(0x99e)]){for(this['batchQueue']['push'](this[_0x2522e0(0x99e)]),this[_0x2522e0(0x99e)]=this[_0x2522e0(0x778)]();this[_0x2522e0(0x7da)][_0x2522e0(0x71c)]>0x0;){const _0x1c032d=this[_0x2522e0(0x7da)][_0x2522e0(0x396)]();if(!await this[_0x2522e0(0x69e)](_0x1c032d))break;}clearTimeout(this[_0x2522e0(0x33a)]),this['batchTimeout']=void 0x0;}}[_0x1af94f(0x883)](_0x584981,_0x299962,..._0xb9278e){const _0x19ef74=_0x1af94f;if(console[_0x19ef74(0x883)](new Date(),_0x584981,_0x299962,..._0xb9278e),this[_0x19ef74(0x844)]){const _0x5a99cc={'vendorId':this['vendorId'],..._0x299962};this[_0x19ef74(0x844)][_0x19ef74(0x333)](_0x3b5cc8=>{const _0x2970a7=_0x19ef74;_0x3b5cc8[_0x2970a7(0x883)](_0x584981,_0x5a99cc);});}}['warning'](_0x599512,_0x186f20,..._0x37329e){const _0x28af13=_0x1af94f;if(console[_0x28af13(0x799)](new Date(),_0x599512,_0x186f20,_0x37329e),this[_0x28af13(0x844)]){const _0x1e6235={'vendorId':this[_0x28af13(0x90c)],..._0x186f20};this[_0x28af13(0x844)][_0x28af13(0x333)](_0x25a838=>{_0x25a838['warn'](_0x599512,_0x1e6235);});}}[_0x1af94f(0x113)](_0x415ecb){const _0x517bbb=_0x1af94f;return this[_0x517bbb(0x8f5)][_0x517bbb(0x1ed)](_0x415ecb);}async[_0x1af94f(0x69e)](_0x15372a,_0x2371bc=0x0){const _0x597fd1=_0x1af94f;if(_0x15372a[_0x597fd1(0x40c)]>0x0)try{return await _0x15372a['batch'][_0x597fd1(0x9ee)](),!0x0;}catch(_0x1d1150){if(console['error'](_0x597fd1(0x5d9),_0x1d1150,_0x597fd1(0x548),_0x15372a[_0x597fd1(0x599)]),!(_0x2371bc<this[_0x597fd1(0x219)])){const {nodeId:_0x39d5ae='',nodeType:_0x13ecc4='',clusterId:_0x29ff3a=''}=_0x15372a['operations'][0x0][_0x597fd1(0x87a)],_0x512c0f={'nodeId':_0x39d5ae,'nodeType':_0x13ecc4,'clusterId':_0x29ff3a,'data':{'operations':_0x15372a[_0x597fd1(0x599)],'error':_0x1d1150}};return this[_0x597fd1(0x883)](_0x597fd1(0x128),_0x512c0f),!0x1;}{const _0x562de2=this['createBatch'](_0x15372a[_0x597fd1(0x599)]);setTimeout(()=>this[_0x597fd1(0x69e)](_0x562de2,_0x2371bc+0x1),this[_0x597fd1(0x962)]*Math[_0x597fd1(0x1d0)](0x2,_0x2371bc));}}}[_0x1af94f(0x977)](){const _0x2a09f7=_0x1af94f;try{Object[_0x2a09f7(0x7a3)](_0x53526a)['forEach'](_0x3690f1=>{const _0x48a554=_0x2a09f7,_0x4ca1c5=_0x3690f1;localStorage[_0x48a554(0x303)]('crewdle-sdk-logging-'+_0x53526a[_0x4ca1c5])&&(console[_0x48a554(0x15c)]('LoggingService:\x20logging\x20enabled\x20for',_0x53526a[_0x4ca1c5]),this[_0x48a554(0x8f5)][_0x48a554(0x3d6)](_0x53526a[_0x4ca1c5]));});}catch(_0x4ff264){}}[_0x1af94f(0x4d3)](_0x4a0716){const _0x26efe6=_0x1af94f;return void 0x0!==_0x4a0716[_0x26efe6(0x2e8)];}['createNewBatch'](){const _0x391eff=_0x1af94f;return{'batch':(0x0,_0x36eea4[_0x391eff(0x21a)])(_0xa01105[_0x391eff(0x1ca)]()),'operations':[],'counter':0x0};}[_0x1af94f(0x32b)](_0x55328b){const _0x5d4958=_0x1af94f,_0x37fd72=(0x0,_0x36eea4[_0x5d4958(0x21a)])(_0xa01105[_0x5d4958(0x1ca)]());return _0x55328b[_0x5d4958(0x333)](_0x16bb07=>this[_0x5d4958(0x9b1)](_0x37fd72,_0x16bb07)),{'batch':_0x37fd72,'operations':_0x55328b,'counter':_0x55328b[_0x5d4958(0x71c)]};}[_0x1af94f(0x9b1)](_0x2a8d40,_0x3001a9){const _0x528198=_0x1af94f;switch(_0x3001a9[_0x528198(0x44f)]){case'set':_0x2a8d40[_0x528198(0x81a)](_0x3001a9[_0x528198(0xe7)],_0x3001a9[_0x528198(0x87a)]);break;case _0x528198(0x940):_0x2a8d40[_0x528198(0x940)](_0x3001a9[_0x528198(0xe7)],_0x3001a9[_0x528198(0x87a)]);break;case _0x528198(0x8e1):_0x2a8d40[_0x528198(0x8e1)](_0x3001a9['ref']);}}[_0x1af94f(0x1b5)](_0xb0170f,_0x50b263){const _0x4bdd64=_0x1af94f;this[_0x4bdd64(0x99e)]||(this[_0x4bdd64(0x99e)]=this[_0x4bdd64(0x778)]());const _0x4a7ccb=(0x0,_0x36eea4[_0x4bdd64(0x295)])((0x0,_0x36eea4[_0x4bdd64(0x4e5)])(_0xa01105[_0x4bdd64(0x1ca)](),_0x4bdd64(0x39a)+this['vendorId']+_0x4bdd64(0x698))),_0x4c69ff={..._0x50b263,'service':_0xb0170f,'timestamp':(0x0,_0x36eea4[_0x4bdd64(0x360)])()},_0x30cd7d={'type':_0x4bdd64(0x81a),'path':_0x4a7ccb[_0x4bdd64(0x1e6)],'ref':_0x4a7ccb,'data':_0x4c69ff};return this[_0x4bdd64(0x99e)]['operations']['push'](_0x30cd7d),this[_0x4bdd64(0x9b1)](this[_0x4bdd64(0x99e)][_0x4bdd64(0x2d4)],_0x30cd7d),_0x4a7ccb;}}const _0x5999e0=_0x38a202[_0x1af94f(0x6b0)]();function _0x555f0d(_0x2697a5,_0x55ba59){return'/'===_0x2697a5?_0x2697a5+_0x55ba59:_0x2697a5+'/'+_0x55ba59;}function _0x54ca92(_0x507e39){const _0x45fd3d=_0x1af94f,_0x5cc296=function(_0x2abd63){const _0x20cff4=a0_0xaf41;return _0x2abd63['split']('/')[_0x20cff4(0x7e0)](_0x5d3148=>_0x5d3148[_0x20cff4(0x71c)]>0x0);}(_0x507e39),_0x474b82=_0x5cc296[_0x45fd3d(0x6e0)]()||'',_0x2453db=_0x5cc296[_0x45fd3d(0x7f4)]('/');return[0x0===_0x2453db[_0x45fd3d(0x71c)]?'/':_0x2453db,_0x474b82];}async function _0x1ba4cd(_0x4288f3){const _0x6f2e28=_0x1af94f;let _0x336541;const _0x3ce064=_0x4288f3['size']/0x100000;_0x336541=_0x3ce064<=0xa?0x1:_0x3ce064<=0x64?0.5:_0x3ce064<=0x1f4?0.1:0.05;const _0x288c59=Math[_0x6f2e28(0x591)](_0x4288f3[_0x6f2e28(0xa20)]/_0x117062),_0x21e7bf=Math[_0x6f2e28(0x591)](_0x288c59*_0x336541);let _0x577acd=new Uint8Array();for(let _0x4fc395=0x0;_0x4fc395<_0x21e7bf;_0x4fc395++){const _0x9e56e1=Math[_0x6f2e28(0x444)](_0x4fc395/_0x21e7bf*_0x4288f3[_0x6f2e28(0xa20)]);let _0x392395=_0x9e56e1+_0x117062;_0x392395>_0x4288f3[_0x6f2e28(0xa20)]&&(_0x392395=_0x4288f3[_0x6f2e28(0xa20)]);const _0x36fa58=_0x4288f3[_0x6f2e28(0x97e)](_0x9e56e1,_0x392395),_0x23a906=await _0x36fa58[_0x6f2e28(0x63e)](),_0x9c4f9b=new Uint8Array([..._0x577acd,...new Uint8Array(_0x23a906)]);_0x577acd=new Uint8Array(await crypto[_0x6f2e28(0x3db)][_0x6f2e28(0x164)](_0x6f2e28(0x45e),_0x9c4f9b));}return Array[_0x6f2e28(0x13b)](new Uint8Array(_0x577acd))[_0x6f2e28(0x7d0)](_0x4f5b46=>_0x4f5b46['toString'](0x10)[_0x6f2e28(0x743)](0x2,'0'))[_0x6f2e28(0x7f4)]('');}async function*_0x16a13f(_0x3d06ab,_0x536b12=0x0,_0x289db1){const _0x59acf6=_0x1af94f;let _0x2cdc6d=_0x536b12*_0x57efb0,_0x463cc3=_0x3d06ab;for(;_0x2cdc6d<_0x463cc3[_0x59acf6(0xa20)];){let _0x57e4e3=_0x2cdc6d+_0x57efb0;_0x57e4e3>_0x463cc3['size']&&(_0x57e4e3=_0x463cc3['size']);let _0x2206a5=0x0;for(;_0x2206a5<0x14;)try{await _0x289db1?.();const _0x462133=_0x463cc3[_0x59acf6(0x97e)](_0x2cdc6d,_0x57e4e3,_0x59acf6(0x4a8)),_0x2f4607=await _0x462133[_0x59acf6(0x63e)]();yield _0x2f4607,_0x2cdc6d=_0x57e4e3,await new Promise(_0x380224=>setTimeout(_0x380224,0x0));break;}catch(_0x29b0f0){if(console[_0x59acf6(0x883)](_0x59acf6(0x8f9)+(_0x2206a5+0x1)+_0x59acf6(0x1cc),_0x29b0f0),_0x2206a5++,_0x2206a5>0x14)throw _0x29b0f0;let _0x216065=0x3e8*Math[_0x59acf6(0x1d0)](0x2,_0x2206a5);_0x216065>0x7530&&(_0x216065=0x7530),await new Promise(_0x2e90d0=>setTimeout(_0x2e90d0,_0x216065));}}}class _0x1eef03 extends _0x1fbec9{[_0x1af94f(0x931)];[_0x1af94f(0x24c)];['fileChunks']=new Map();[_0x1af94f(0x7a2)]=0x0;[_0x1af94f(0x9c7)]=0x0;[_0x1af94f(0x525)]=0x0;['bytesReceived']=0x0;constructor(_0x2b9233,_0x58494a){super(_0x2b9233,_0x58494a);}[_0x1af94f(0x8c4)](){return this['label'];}[_0x1af94f(0x801)](){const _0x475129=_0x1af94f;return this[_0x475129(0xf1)];}[_0x1af94f(0x8f7)](){const _0x279096=_0x1af94f;return _0xb0907f[_0x279096(0x178)]['Data'];}['getInternalStreamId'](){const _0x1fd176=_0x1af94f;return this[_0x1fd176(0xf1)];}[_0x1af94f(0x1ee)](_0x2f8780){const _0x4bf84c=_0x1af94f;if(this[_0x4bf84c(0x931)])throw new _0x3c8547(_0x3c8547[_0x4bf84c(0x700)]['InvalidPublisher'],{'message':'Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20'+this[_0x4bf84c(0x3d5)][_0x4bf84c(0x8f3)]()+_0x4bf84c(0x5cb)+this[_0x4bf84c(0xf1)],'topic':this[_0x4bf84c(0x931)]});this[_0x4bf84c(0x931)]=_0x2f8780;}[_0x1af94f(0x5c1)](_0x2085d7){const _0x14cf34=_0x1af94f;if(this['incomingTopic'])throw new _0x3c8547(_0x3c8547[_0x14cf34(0x700)][_0x14cf34(0x681)],{'message':_0x14cf34(0x839)+this[_0x14cf34(0x3d5)][_0x14cf34(0x8f3)]()+'\x20-\x20'+this[_0x14cf34(0xf1)],'topic':this['incomingTopic']});this['incomingTopic']=_0x2085d7;}[_0x1af94f(0x3ea)](){delete this['outgoingTopic'];}[_0x1af94f(0x62a)](){delete this['incomingTopic'];}async['send'](_0x18b0f5,_0x37e7af){const _0x4b717c=_0x1af94f;if(_0x5999e0[_0x4b717c(0x15c)](_0x53526a['DataStream'],_0x4b717c(0x4f7),this[_0x4b717c(0x3d5)][_0x4b717c(0x8f3)](),_0x18b0f5,_0x37e7af),this[_0x4b717c(0x7a2)]+=0x1,_0x18b0f5 instanceof File){const _0x3c6eda=await async function(_0x18fc42){const _0x593830=_0x4b717c,_0x12e43b=[];for await(const _0x34452d of _0x16a13f(_0x18fc42))_0x12e43b[_0x593830(0x3d6)](_0x34452d);return _0x12e43b;}(_0x18b0f5);return this['bytesSent']+=_0x3c6eda[_0x4b717c(0x7e2)]((_0x228c2f,_0x34bcd8)=>_0x228c2f+_0x34bcd8[_0x4b717c(0x486)],0x0),void _0x3c6eda[_0x4b717c(0x333)]((_0x331efd,_0x2e3cbc)=>{const _0x5c22ad=_0x4b717c;this[_0x5c22ad(0x931)][_0x5c22ad(0x3ec)]({'sourceId':this[_0x5c22ad(0x3d5)][_0x5c22ad(0x8f3)](),'destinationIds':_0x37e7af,'propagate':!0x0,'contentType':_0xb0907f[_0x5c22ad(0x178)]['File'],'content':{'name':_0x18b0f5[_0x5c22ad(0x450)],'type':_0x18b0f5['type'],'data':_0x331efd,'index':_0x2e3cbc,'total':_0x3c6eda['length']}});});}this[_0x4b717c(0x525)]+=JSON[_0x4b717c(0x656)](_0x18b0f5)[_0x4b717c(0x71c)],this[_0x4b717c(0x931)]['publish']({'sourceId':this[_0x4b717c(0x3d5)][_0x4b717c(0x8f3)](),'destinationIds':_0x37e7af,'propagate':!0x0,'contentType':_0xb0907f['ContentType'][_0x4b717c(0x5a0)],'content':_0x18b0f5});}[_0x1af94f(0x83b)](_0x59806a){return this['incomingTopic']['subscribe'](_0x1954a0=>{const _0x239532=a0_0xaf41;switch(_0x5999e0[_0x239532(0x15c)](_0x53526a['DataStream'],_0x239532(0x387),this[_0x239532(0x3d5)]['getId'](),_0x1954a0),_0x1954a0['contentType']){case _0xb0907f[_0x239532(0x178)]['Data']:this['messagesReceived']+=0x1,this[_0x239532(0x7b6)]+=JSON['stringify'](_0x1954a0[_0x239532(0x3fe)])['length'],_0x59806a(_0x1954a0[_0x239532(0x825)],_0x1954a0[_0x239532(0x3fe)]);break;case _0xb0907f['ContentType'][_0x239532(0x372)]:this[_0x239532(0x750)][_0x239532(0x907)](_0x1954a0[_0x239532(0x3fe)][_0x239532(0x450)])||this[_0x239532(0x750)]['set'](_0x1954a0[_0x239532(0x3fe)][_0x239532(0x450)],{'chunksReceived':0x0,'bytesReceived':0x0,'checksum':'','content':[]});const _0x345c62=this[_0x239532(0x750)]['get'](_0x1954a0[_0x239532(0x3fe)][_0x239532(0x450)]);if(_0x345c62[_0x239532(0x514)]+=0x1,_0x345c62[_0x239532(0x7b6)]+=_0x1954a0[_0x239532(0x3fe)]['data'][_0x239532(0x486)],_0x345c62[_0x239532(0x3fe)]&&(_0x345c62[_0x239532(0x3fe)][_0x1954a0['content']['index']]=_0x1954a0[_0x239532(0x3fe)][_0x239532(0x87a)]),this[_0x239532(0x750)][_0x239532(0x81a)](_0x1954a0[_0x239532(0x3fe)][_0x239532(0x450)],_0x345c62),_0x345c62[_0x239532(0x514)]+0x1<_0x1954a0[_0x239532(0x3fe)]['total'])return;this['messagesReceived']+=0x1,this[_0x239532(0x7b6)]+=_0x345c62[_0x239532(0x7b6)],_0x345c62['content']&&_0x59806a(_0x1954a0[_0x239532(0x825)],(_0x291a76=_0x345c62[_0x239532(0x3fe)],_0x323dc0=_0x1954a0[_0x239532(0x3fe)][_0x239532(0x450)],_0x48dc27=_0x1954a0[_0x239532(0x3fe)]['type'],new File(_0x291a76,_0x323dc0,{'type':_0x48dc27}))),this[_0x239532(0x750)][_0x239532(0x8e1)](_0x1954a0[_0x239532(0x3fe)][_0x239532(0x450)]);}var _0x291a76,_0x323dc0,_0x48dc27;});}}function _0x69b7e5(){let _0x4b8cac=[];return{'subscribe':_0x5c764e=>(_0x4b8cac['push'](_0x5c764e),()=>{_0x4b8cac=_0x4b8cac['filter'](_0x1c49cb=>_0x1c49cb!==_0x5c764e);}),'publish':_0x4dc33b=>{const _0x33442a=a0_0xaf41;_0x4b8cac[_0x33442a(0x333)](_0x1d7223=>_0x1d7223(_0x4dc33b));}};}function _0x34d40a(){let _0x12e411;return{'subscribe':_0x4de6a8=>(_0x12e411=_0x4de6a8,()=>{_0x12e411=void 0x0;}),'publish':_0x59cbda=>{_0x12e411&&_0x12e411(_0x59cbda);}};}class _0x2892a0{[_0x1af94f(0x54d)];[_0x1af94f(0x6d6)];[_0x1af94f(0x5ff)];[_0x1af94f(0x6bb)]=_0x34d40a();['listenerUnsubscriber'];constructor(_0xd99633,_0x76026c,_0x9ebb32){const _0x17f919=_0x1af94f;this[_0x17f919(0x54d)]=_0xd99633,this[_0x17f919(0x6d6)]=_0x76026c,this[_0x17f919(0x5ff)]=_0x9ebb32;}['destroy'](){const _0x29d60d=_0x1af94f;this[_0x29d60d(0x523)]?.();}async[_0x1af94f(0x70a)](_0x268641){const _0x4140df=_0x1af94f,_0x1bc49d={'key':_0x268641,'tableName':this['tableName'],'action':_0x5464ac[_0x4140df(0x519)]};return this[_0x4140df(0x5ff)]['publish'](_0x1bc49d),this['connector']['get'](_0x268641);}async[_0x1af94f(0x81a)](_0x2cf544,_0x775957,_0x1f59d0=!0x0){const _0x195f7e=_0x1af94f;this[_0x195f7e(0x1d4)](_0x775957);const _0x42b783=await this[_0x195f7e(0x54d)][_0x195f7e(0x70a)](_0x2cf544),_0x286a99=await this[_0x195f7e(0x54d)][_0x195f7e(0x81a)](_0x2cf544,_0x775957),_0x471925=_0x42b783?_0x372c00['Update']:_0x372c00[_0x195f7e(0x7f5)];if(this['publish'](_0x471925,_0x286a99),!_0x1f59d0)return _0x286a99;const _0x4159f9={'key':_0x2cf544,'tableName':this[_0x195f7e(0x6d6)],'action':_0x471925,'value':_0x286a99};return this['tableObserver'][_0x195f7e(0x3ec)](_0x4159f9),_0x286a99;}async[_0x1af94f(0x23a)](_0x369add){const _0x234a0d=_0x1af94f;this['validateValue'](_0x369add);const _0x469955=await this[_0x234a0d(0x54d)]['add'](_0x369add),_0x17e754={'key':_0x469955['id'],'tableName':this[_0x234a0d(0x6d6)],'action':_0x372c00[_0x234a0d(0x7f5)],'value':_0x469955};return this[_0x234a0d(0x5ff)][_0x234a0d(0x3ec)](_0x17e754),this[_0x234a0d(0x3ec)](_0x17e754[_0x234a0d(0x3e8)],_0x469955),_0x469955;}async[_0x1af94f(0x8e1)](_0x4711d0,_0x11c300=!0x0){const _0x58e87b=_0x1af94f,_0x358988=await this[_0x58e87b(0x54d)][_0x58e87b(0x70a)](_0x4711d0);if(!_0x358988)return;await this[_0x58e87b(0x54d)]['delete'](_0x4711d0);const _0x3a5fe2=_0x372c00[_0x58e87b(0x1a4)];if(this[_0x58e87b(0x3ec)](_0x3a5fe2,_0x358988),!_0x11c300)return;const _0x18de53={'key':_0x4711d0,'tableName':this[_0x58e87b(0x6d6)],'action':_0x3a5fe2,'value':_0x358988};this[_0x58e87b(0x5ff)][_0x58e87b(0x3ec)](_0x18de53);}async[_0x1af94f(0xa4f)](){const _0x502d08=_0x1af94f,_0xbfde3=await this['list']();for(const _0x44d71d of _0xbfde3){const _0x57a3ce=_0x372c00[_0x502d08(0x1a4)];this[_0x502d08(0x3ec)](_0x57a3ce,_0x44d71d);const _0x2b3596={'key':_0x44d71d['id'],'tableName':this[_0x502d08(0x6d6)],'action':_0x57a3ce,'value':_0x44d71d};this[_0x502d08(0x5ff)][_0x502d08(0x3ec)](_0x2b3596);}return this[_0x502d08(0x54d)][_0x502d08(0xa4f)]();}async['list'](_0x10c3a7){const _0x36a62b=_0x1af94f,_0xd5119c={'key':'','tableName':this[_0x36a62b(0x6d6)],'action':_0x5464ac['List']};this[_0x36a62b(0x5ff)][_0x36a62b(0x3ec)](_0xd5119c);try{_0x10c3a7&&(_0x10c3a7=_0x10c3a7 instanceof _0x309310?_0x10c3a7[_0x36a62b(0x872)]():_0x309310['buildQuery'](_0x10c3a7)[_0x36a62b(0x872)]());}catch(_0x2ad28d){throw new _0x3b3113(_0x56d472['KeyValueDatabaseInvalidQuery'],_0x36a62b(0x81c));}try{return await this[_0x36a62b(0x54d)]['list'](_0x10c3a7);}catch(_0x316134){let _0x4a52c0=_0x36a62b(0x81c);throw _0x316134 instanceof Error&&(_0x4a52c0=_0x316134['message']),new _0x3b3113(_0x56d472[_0x36a62b(0x596)],_0x4a52c0);}}async[_0x1af94f(0x54f)](_0x5ac615){const _0x4220bb=_0x1af94f,_0x152e74={'key':'','tableName':this['tableName'],'action':_0x5464ac[_0x4220bb(0x3c5)]};this['tableObserver'][_0x4220bb(0x3ec)](_0x152e74);try{_0x5ac615&&(_0x5ac615=_0x5ac615 instanceof _0x309310?_0x5ac615['getQuery']():_0x309310[_0x4220bb(0x71d)](_0x5ac615)[_0x4220bb(0x872)]());}catch(_0x2c6208){throw new _0x3b3113(_0x56d472[_0x4220bb(0x596)],_0x4220bb(0x81c));}try{return await this[_0x4220bb(0x54d)][_0x4220bb(0x54f)](_0x5ac615);}catch(_0x33434c){let _0x10eb0b='Invalid\x20query';throw _0x33434c instanceof Error&&(_0x10eb0b=_0x33434c['message']),new _0x3b3113(_0x56d472[_0x4220bb(0x596)],_0x10eb0b);}}['calculateSize'](){const _0x22b09a=_0x1af94f;return this['connector'][_0x22b09a(0x115)]();}[_0x1af94f(0x9f2)](_0x14c8fd){this['listenerUnsubscriber']=this['eventListener']['subscribe'](_0x14c8fd);}[_0x1af94f(0x885)](){const _0x34165f=_0x1af94f;this[_0x34165f(0x523)]?.();}[_0x1af94f(0x3ec)](_0x4f18d6,_0x4a7e89){const _0x39f67f=_0x1af94f,_0x5699f8=this[_0x39f67f(0x69b)](_0x4f18d6,_0x4a7e89);this['eventListener'][_0x39f67f(0x3ec)](_0x5699f8);}['buildTableEvent'](_0xd092d,_0x32dbe1){const _0x187552=_0x1af94f;let _0xe922db;switch(_0xd092d){case _0x372c00[_0x187552(0x7f5)]:_0xe922db=_0x187552(0x23a);break;case _0x372c00[_0x187552(0x4fc)]:_0xe922db='update';break;case _0x372c00['Delete']:_0xe922db=_0x187552(0x8e1);}return{'action':_0xe922db,'value':_0x32dbe1};}[_0x1af94f(0x1d4)](_0x4ed4e1){const _0x1c05c9=_0x1af94f;if(_0x1c05c9(0x4dc)!=typeof _0x4ed4e1||null===_0x4ed4e1)throw new _0x3b3113(_0x56d472[_0x1c05c9(0x406)],_0x1c05c9(0x1a9));for(const _0x2890e7 in _0x4ed4e1){const _0xa9eb35=_0x4ed4e1[_0x2890e7];if(_0x1c05c9(0x4dc)!=typeof _0xa9eb35||_0xa9eb35 instanceof Date){if(![_0x1c05c9(0x4e9),_0x1c05c9(0x93c),_0x1c05c9(0x3f1)][_0x1c05c9(0x1ed)](typeof _0xa9eb35))throw new _0x3b3113(_0x56d472[_0x1c05c9(0x406)],_0x1c05c9(0x2c3)+_0x2890e7+_0x1c05c9(0x3eb));}else this[_0x1c05c9(0x1d4)](_0xa9eb35);}}}class _0x304bfd{[_0x1af94f(0x49c)]=[];[_0x1af94f(0x863)]=0x0;['transactionQueue']=[];['isComputingMMR']=!0x1;[_0x1af94f(0x465)]=null;[_0x1af94f(0x86d)]=null;[_0x1af94f(0x61e)];[_0x1af94f(0x503)]=null;[_0x1af94f(0x11c)]=[];[_0x1af94f(0x33e)];['_ready']=Promise[_0x1af94f(0x9df)]();[_0x1af94f(0x955)]=0x0;constructor(){}get[_0x1af94f(0x3c1)](){const _0x16ed66=_0x1af94f;return this[_0x16ed66(0x5af)];}async[_0x1af94f(0x9e4)](_0x6ccbfb,_0xc60df4=0x0){const _0x479c20=_0x1af94f;this[_0x479c20(0x503)]||(this[_0x479c20(0x5af)]=new Promise(_0x297d6a=>{const _0x2ee2ec=_0x479c20;this[_0x2ee2ec(0x503)]=_0x297d6a;}),this[_0x479c20(0x955)]=_0xc60df4);const _0x328ffa=Date[_0x479c20(0x1f3)]();if(this['isComputingMMR'])return void this['transactionQueue'][_0x479c20(0x3d6)](_0x6ccbfb);this[_0x479c20(0x2c6)]=!0x0;let _0x5bd9c8={'hash':await this['hashTransaction'](_0x6ccbfb),'height':0x0};const _0x9313f7=this[_0x479c20(0x4f4)](_0x5bd9c8);this[_0x479c20(0x11c)]['push'](_0x9313f7),await _0x9313f7,this[_0x479c20(0x863)]+=0x1;const _0x4c6feb=this[_0x479c20(0x924)]['length'];for(;this[_0x479c20(0x924)][_0x479c20(0x71c)]>0x0;){const _0x1a6eb1=this['transactionQueue'][_0x479c20(0x396)]();await this[_0x479c20(0x9e4)](_0x1a6eb1);}this[_0x479c20(0x4d1)](),await this[_0x479c20(0x3c1)],this['debounceAppendLog'](_0x328ffa,_0x4c6feb);}async[_0x1af94f(0xf8)](){const _0x12b2d0=_0x1af94f;return await this[_0x12b2d0(0x5af)],this[_0x12b2d0(0x2c6)]?(this[_0x12b2d0(0x86d)]||(this['rootComputationPromise']=this['recomputeRoot']()),await this[_0x12b2d0(0x86d)]):this[_0x12b2d0(0x465)];}[_0x1af94f(0x237)](){const _0x3cc318=_0x1af94f;return this[_0x3cc318(0x49c)][_0x3cc318(0x7d0)](({hash:_0x478031,height:_0x2c2521})=>({'hash':_0x478031,'height':_0x2c2521}));}[_0x1af94f(0x18c)](){const _0x1370ae=_0x1af94f;return this[_0x1370ae(0x863)];}[_0x1af94f(0x1d8)](_0x591e9e){const _0x4c2b5f=_0x1af94f;return this['peaks'][_0x4c2b5f(0x7ef)](_0x580b49=>_0x580b49[_0x4c2b5f(0x9a1)]===_0x591e9e);}async[_0x1af94f(0x8af)](_0x3c7936,_0x4c6350){return await this['computeHash'](_0x3c7936+_0x4c6350);}async[_0x1af94f(0x829)](_0x3eb221){const _0x921d5c=_0x1af94f;return await this[_0x921d5c(0x5f5)](JSON[_0x921d5c(0x656)](_0x3eb221));}[_0x1af94f(0x9f3)](_0x40cb89){const _0x3b9ff3=_0x1af94f,_0x3ade3b=this[_0x3b9ff3(0x237)](),_0x22f91d=[],_0x5561ac=[],_0x29303b=[];for(const _0x4aa0f6 of _0x3ade3b){const _0x1c1e1d=_0x40cb89['find'](_0x54599b=>_0x54599b[_0x3b9ff3(0x9a1)]===_0x4aa0f6[_0x3b9ff3(0x9a1)]);_0x1c1e1d?_0x4aa0f6[_0x3b9ff3(0x7a7)]!==_0x1c1e1d[_0x3b9ff3(0x7a7)]&&_0x22f91d['push']({'height':_0x4aa0f6[_0x3b9ff3(0x9a1)],'localPeak':_0x4aa0f6,'remotePeak':_0x1c1e1d}):_0x5561ac[_0x3b9ff3(0x3d6)](_0x4aa0f6);}for(const _0x6dc243 of _0x40cb89)_0x3ade3b[_0x3b9ff3(0x7ef)](_0x3e2300=>_0x3e2300[_0x3b9ff3(0x9a1)]===_0x6dc243[_0x3b9ff3(0x9a1)])||_0x29303b['push'](_0x6dc243);return{'differingPeaks':_0x22f91d,'peaksMissingInRemote':_0x5561ac,'peaksMissingInLocal':_0x29303b};}async[_0x1af94f(0xa2d)](){const _0x2d1fd1=_0x1af94f;this[_0x2d1fd1(0x2c6)]=!0x0;const _0x52c19d=this['peaks'][_0x2d1fd1(0x7d0)](_0x47864e=>_0x47864e['hash']);return this['cachedRoot']=await this[_0x2d1fd1(0x8d0)](_0x52c19d),this[_0x2d1fd1(0x2c6)]=!0x1,this[_0x2d1fd1(0x86d)]=null,this['debounceReady'](),this[_0x2d1fd1(0x465)];}async['computeHash'](_0x331074){const _0x1fb90e=_0x1af94f;try{const _0x2b862e=new TextEncoder()[_0x1fb90e(0x72f)](_0x331074),_0x22a038=await crypto['subtle'][_0x1fb90e(0x164)](_0x1fb90e(0x45e),_0x2b862e);return Array[_0x1fb90e(0x13b)](new Uint8Array(_0x22a038))[_0x1fb90e(0x7d0)](_0x2d6ec7=>_0x2d6ec7[_0x1fb90e(0xe5)](0x10)[_0x1fb90e(0x743)](0x2,'0'))[_0x1fb90e(0x7f4)]('');}catch(_0x2b321d){return console['error']('Hash\x20computation\x20failed,\x20retrying...',_0x2b321d),this['computeHash'](_0x331074);}}async[_0x1af94f(0x8d0)](_0x2a85b3){const _0x39d460=_0x1af94f;return await this['computeHash'](_0x2a85b3[_0x39d460(0x7f4)](''));}async['combinePeaks'](_0x4c4500){const _0x18ff8e=_0x1af94f;for(;this[_0x18ff8e(0x49c)][_0x18ff8e(0x71c)]>0x0&&this[_0x18ff8e(0x49c)][this['peaks']['length']-0x1][_0x18ff8e(0x9a1)]===_0x4c4500[_0x18ff8e(0x9a1)];){const _0x37396f=this['peaks'][_0x18ff8e(0x6e0)]();_0x4c4500={'hash':await this['hashNodes'](_0x37396f['hash'],_0x4c4500[_0x18ff8e(0x7a7)]),'left':_0x37396f,'right':_0x4c4500,'height':_0x4c4500[_0x18ff8e(0x9a1)]+0x1};}this[_0x18ff8e(0x49c)]['push'](_0x4c4500),await this[_0x18ff8e(0xa2d)]();}['debounceAppendLog'](_0x4bc414,_0x47357a){const _0x4215a4=_0x1af94f;if(!_0x5999e0['isChannelEnabled'](_0x53526a['KeyValueDatabase']))return;this[_0x4215a4(0x61e)]&&clearTimeout(this[_0x4215a4(0x61e)]);const _0x18dc5c=Date[_0x4215a4(0x1f3)]();this[_0x4215a4(0x61e)]=setTimeout(()=>_0x5999e0[_0x4215a4(0x15c)](_0x53526a[_0x4215a4(0x22d)],'MerkleMountainRange\x20-\x20appendTransaction\x20-\x20Completed.\x20Root:',this[_0x4215a4(0x465)],_0x4215a4(0x575),this[_0x4215a4(0x18c)](),_0x4215a4(0xa47),_0x47357a,_0x4215a4(0x275),_0x18dc5c-_0x4bc414),0x7d0);}[_0x1af94f(0x4d1)](){const _0xfc4fb5=_0x1af94f;this[_0xfc4fb5(0x33e)]&&clearTimeout(this['debounceReadyTimeout']),this['debounceReadyTimeout']=setTimeout(async()=>{const _0xd52015=_0xfc4fb5;try{const _0x5c9c72=this['readyPromises'];if(this[_0xd52015(0x11c)]=[],await Promise[_0xd52015(0x4d8)](_0x5c9c72),this[_0xd52015(0x955)]-=_0x5c9c72['length'],this['readyPromises'][_0xd52015(0x71c)]>0x0||this['expectedTransactions']>0x0)return this[_0xd52015(0x4d1)]();this[_0xd52015(0x503)]&&(this[_0xd52015(0x503)](),this['readyResolve']=null),this['_ready']=Promise[_0xd52015(0x9df)](),this[_0xd52015(0x2c6)]=!0x1;}catch(_0x3d5f8b){console[_0xd52015(0x883)](_0xd52015(0x2d5),_0x3d5f8b);}},0xa);}}const _0x523411=[_0x1af94f(0xa06),_0x1af94f(0x666),'Content',_0x1af94f(0x62c),'Stats',_0x1af94f(0x72b),_0x1af94f(0x821)],_0x86ec05=[[_0x1af94f(0x5ad),_0x1af94f(0x73c),'Handshake',_0x1af94f(0x7a0),_0x1af94f(0x7fb),_0x1af94f(0x6fe),_0x1af94f(0xa03),_0x1af94f(0x886),_0x1af94f(0x242)],[_0x1af94f(0x3bb),_0x1af94f(0x546),_0x1af94f(0x8e8),_0x1af94f(0x18b)],[_0x1af94f(0x517),_0x1af94f(0x945),_0x1af94f(0x3a4),_0x1af94f(0x3a1),_0x1af94f(0x6d0),'CloseMediaStream','CloseObjectStoreBucket',_0x1af94f(0x738),'CloseVectorDatabase',_0x1af94f(0x92c),_0x1af94f(0x2b6),_0x1af94f(0x8fd),_0x1af94f(0x7eb),_0x1af94f(0xa2a),'KeyValueDatabaseContentSynchronized',_0x1af94f(0x6d2),_0x1af94f(0x329),_0x1af94f(0x53b),_0x1af94f(0x9a6),_0x1af94f(0x88c),_0x1af94f(0x50f),'ObjectStoreStats',_0x1af94f(0x26e),_0x1af94f(0x6da),'RemoteMediaStreamTrackFail','SubscribeMediaStream',_0x1af94f(0x95c),_0x1af94f(0x8c8),_0x1af94f(0x459),_0x1af94f(0x57b)],[_0x1af94f(0x6de),_0x1af94f(0x459),_0x1af94f(0x32a),_0x1af94f(0x381),_0x1af94f(0x1f2),'MediaStreamUnavailable'],['StreamReport',_0x1af94f(0x6ae)],['Problem'],[_0x1af94f(0x821),'RemoteRemediation']];function _0x1b9581(_0x43ca9e){const _0x32073d=_0x1af94f;return{..._0x43ca9e,'systemMessageType':_0x523411[_0x43ca9e['messageType']],'systemContentMessageType':_0x86ec05[_0x43ca9e[_0x32073d(0x3fb)]][_0x43ca9e[_0x32073d(0x3fe)][_0x32073d(0x44f)]]};}const _0x3d00f4={'hour':_0x1af94f(0x23c),'minute':_0x1af94f(0x23c),'second':_0x1af94f(0x23c)};function _0x373153(_0x14cda7,_0x5058d6){const _0x4806dd=_0x1af94f,_0x5d508c=(function(){const _0x324e3f=a0_0xaf41,_0x21186e=new Date(),_0x4fb98e=_0x21186e['getMilliseconds'](),_0x2caee3=_0x21186e['toLocaleDateString'](_0x324e3f(0x37e),_0x3d00f4)[_0x324e3f(0x7ab)](/\d\d:\d\d:\d\d/)?.[0x0];return _0x2caee3+'.'+(_0x4fb98e>0x64?''+_0x4fb98e:_0x4fb98e>0xa?'0'+_0x4fb98e:'00'+_0x4fb98e);}()),{sourceId:_0x2021ce,destinationIds:_0x1743c0,systemMessageType:_0x21414c,systemContentMessageType:_0x1ca8e9}=_0x1b9581(_0x14cda7);return _0x5d508c+_0x4806dd(0x5cb)+_0x5058d6+'\x20-\x20'+(_0x2021ce===_0x5058d6?'Sending\x20\x27'+_0x21414c+_0x4806dd(0x5e1)+(_0x1743c0?''+_0x1743c0:'everyone'):_0x14cda7[_0x4806dd(0x825)]===_0x50bf9f?'Internal\x20event\x20\x27'+_0x21414c+'\x27':(_0x1743c0?'':'Everyone\x20')+_0x4806dd(0x48c)+_0x21414c+_0x4806dd(0x490)+_0x2021ce)+_0x4806dd(0x47b)+_0x1ca8e9+_0x4806dd(0x26c);}function _0x1a6c3f(_0x5ddbd1,_0x4d0f2a){const _0x5932ed=_0x1af94f;if(!_0x5999e0[_0x5932ed(0x113)](_0x5ddbd1))return;if(_0x4f7736['isProduction'])return;if(_0x5932ed(0x218)==typeof process)return;const _0xe8f376=process[_0x5932ed(0x6a4)]();console[_0x5932ed(0x15c)](_0x5932ed(0x6fc)+_0x4d0f2a+':');for(const _0x299200 in _0xe8f376)console[_0x5932ed(0x15c)]('\x20\x20'+_0x299200+':\x20'+(_0xe8f376[_0x299200]/0x400/0x400)[_0x5932ed(0x45c)](0x2)+_0x5932ed(0x982));}function _0x549516(_0x19c1d3,_0x271a11){const _0x402c60=_0x1af94f;if(!_0x5999e0[_0x402c60(0x113)](_0x271a11))return _0x5999e0['debug'](_0x402c60(0x441)+_0x271a11),{'timingLogger':{'start':()=>{},'now':()=>0x0,'logWaitTime':()=>{}},'logger':{'log':()=>{},'performCalculation':(_0xc87a29,_0x5c7a69)=>_0x5c7a69}};let _0x67b6a=0x0;return{'timingLogger':((()=>{const _0x253560=_0x402c60;let _0x28adec=Date[_0x253560(0x1f3)]();return{'start':()=>{const _0x1bd461=_0x253560;_0x28adec=Date[_0x1bd461(0x1f3)]();},'now':()=>Date[_0x253560(0x1f3)](),'logWaitTime':_0x435ffb=>{const _0x9a7afa=_0x253560;_0x67b6a+=Date[_0x9a7afa(0x1f3)]()-_0x28adec,_0x5999e0[_0x9a7afa(0x15c)](_0x271a11,_0x435ffb,_0x67b6a+'ms',_0x19c1d3);}};})()),'logger':{'log':(_0x2f7863,_0x491003=()=>{})=>{const _0x435b0f=_0x402c60,_0x441210=_0x491003();_0x441210?_0x5999e0['log'](_0x271a11,_0x2f7863,_0x441210,_0x19c1d3):_0x5999e0[_0x435b0f(0x15c)](_0x271a11,_0x2f7863,_0x19c1d3);},'performCalculation':(_0x30449f,_0x278e84)=>_0x30449f()}};}function _0xf31aa2(_0x29d453){const _0x33658f=_0x1af94f;return'undefined'==typeof Buffer?0x0:Buffer[_0x33658f(0x486)](JSON[_0x33658f(0x656)](_0x29d453),'utf8');}function _0x4b7ce1(_0x5ba92c){const _0x43aeb5=_0x1af94f;if(0x0===_0x5ba92c)return _0x43aeb5(0x8c6);const _0x53a3ab=Math[_0x43aeb5(0x444)](Math[_0x43aeb5(0x15c)](_0x5ba92c)/Math['log'](0x400));return parseFloat((_0x5ba92c/Math[_0x43aeb5(0x1d0)](0x400,_0x53a3ab))[_0x43aeb5(0x45c)](0x2))+'\x20'+['B','KB','MB','GB','TB'][_0x53a3ab];}class _0x3c1b25 extends _0x1eef03{[_0x1af94f(0x658)];['clusterId'];['vendorId'];['isNodeReady'];['db'];[_0x1af94f(0x172)];[_0x1af94f(0x3bc)]=new Map();[_0x1af94f(0x5ff)];[_0x1af94f(0x22c)];[_0x1af94f(0x7b4)];[_0x1af94f(0x8d7)];[_0x1af94f(0xa00)];['transactionsToSync']=[];[_0x1af94f(0x646)]=()=>{};[_0x1af94f(0x5e9)];[_0x1af94f(0x6bb)]=_0x34d40a();[_0x1af94f(0x523)];['syncTransactionsWritten']=[];[_0x1af94f(0x390)];[_0x1af94f(0x11a)];[_0x1af94f(0xa05)]=0x0;[_0x1af94f(0x8bf)]=0x0;[_0x1af94f(0x325)]=!0x1;[_0x1af94f(0xa14)]=new _0x304bfd();[_0x1af94f(0x21b)]=new Map();['transactions']=[];[_0x1af94f(0x804)];[_0x1af94f(0x6a7)]=[];[_0x1af94f(0x56b)];constructor(_0x21e719,_0x6c89b6,_0x36fe58,_0x501ca3,_0x3f72d4,_0x5a2580,_0x305222){const _0xfa112a=_0x1af94f;if(_0xfa112a(0x4e9)!=typeof _0x6c89b6)throw new _0x3b3113(_0x56d472[_0xfa112a(0x817)],_0xfa112a(0x1b4));if(super(_0x21e719,_0x6c89b6),this['localNode']=_0x21e719,this[_0xfa112a(0x230)]=_0x36fe58,this[_0xfa112a(0x90c)]=_0x501ca3,this[_0xfa112a(0x549)]=_0x305222,this['dbKey']=_0xfa112a(0xa2f)+this[_0xfa112a(0x90c)]+_0xfa112a(0xa2f)+this[_0xfa112a(0x230)]+'ccc'+this[_0xfa112a(0xf1)],this['tableObserver']=_0x34d40a(),this[_0xfa112a(0x56b)]=function(_0x4e369f,_0x34a485){const _0x6f62f6=_0xfa112a;if(!_0x5999e0['isChannelEnabled'](_0x34a485))return _0x5999e0[_0x6f62f6(0x358)]('Logging\x20not\x20enabled\x20for\x20channel\x20'+_0x34a485),{..._0x549516(_0x4e369f,_0x34a485),'logDataSent':()=>0x0,'logDataReceived':()=>0x0,'getDataLogged':()=>({'dataSent':'0\x20B','dataReceived':_0x6f62f6(0x8c6)})};const {timingLogger:_0x521e72,logger:_0x1e75ee}=_0x549516(_0x4e369f,_0x34a485);let _0x35644e=0x0,_0xe42a77=0x0;return{'timingLogger':_0x521e72,'logger':_0x1e75ee,'logDataSent':(_0x23f834,_0x2275e8=!0x1)=>{const _0x4e6c51=_0x6f62f6,_0x531f15=_0xf31aa2(_0x23f834);return _0x2275e8&&_0x5999e0[_0x4e6c51(0x15c)](_0x34a485,'Data\x20Sent',_0x4e369f,_0x531f15),_0x35644e+=_0x531f15,_0x531f15;},'logDataReceived':(_0x59157c,_0x2ba10d=!0x1)=>{const _0x327170=_0xf31aa2(_0x59157c);return _0x2ba10d&&_0x5999e0['log'](_0x34a485,'Data\x20Received',_0x4e369f,_0x327170),_0xe42a77+=_0x327170,_0x327170;},'getDataLogged':()=>({'dataSent':_0x4b7ce1(_0x35644e),'dataReceived':_0x4b7ce1(_0xe42a77)})};}(this[_0xfa112a(0xf1)],_0x53526a[_0xfa112a(0x22d)]),this[_0xfa112a(0x8d7)]=new Promise(_0x38bda5=>{const _0x52a634=_0xfa112a;this[_0x52a634(0xa00)]=_0x38bda5;}),_0x3f72d4 instanceof _0x17021b)this['layout']=_0x3f72d4[_0xfa112a(0x84c)]();else{const [_0x348b62,_0x368c72]=_0x17021b['validateLayout'](_0x3f72d4);if(!_0x348b62)throw new _0x3b3113(_0x56d472[_0xfa112a(0x4bf)],_0xfa112a(0x914)+_0x368c72);this[_0xfa112a(0x390)]=structuredClone(_0x3f72d4);}this[_0xfa112a(0x5db)](this['layout']),this['db']=new _0x5a2580(this[_0xfa112a(0x172)],this['layout']),this['sendStats']();}async[_0x1af94f(0x137)](_0x5a2795,_0x385555){const _0x2485c6=_0x1af94f;if(_0x5999e0[_0x2485c6(0x15c)](_0x53526a[_0x2485c6(0x22d)],_0x2485c6(0xa30),this[_0x2485c6(0xf1)]),!this[_0x2485c6(0x22c)])throw new _0x3c8547(_0x3c8547[_0x2485c6(0x700)]['KeyValueDatabaseTransactionTableNotInitialized']);if(await this[_0x2485c6(0x8d7)],await this['isNodeReady'](_0x5a2795),await this[_0x2485c6(0xa14)][_0x2485c6(0xf8)]()===_0x385555){const _0x2dfb2a={'sourceId':this[_0x2485c6(0x658)]['getId'](),'destinationIds':[_0x5a2795],'propagate':!0x0,'messageType':_0x502914[_0x2485c6(0x54e)],'content':{'type':_0x20f4a0[_0x2485c6(0x199)],'label':this[_0x2485c6(0xf1)],'mmrRoot':_0x385555}};return this['loggingCycle']['logDataSent'](_0x2dfb2a),void this['systemTopic'][_0x2485c6(0x3ec)](_0x2dfb2a);}const _0x495cd5=this['mmr'][_0x2485c6(0x237)](),_0x32ac8e={'sourceId':this[_0x2485c6(0x658)]['getId'](),'destinationIds':[_0x5a2795],'propagate':!0x0,'messageType':_0x502914['Content'],'content':{'type':_0x20f4a0['KeyValueDatabaseContentAvailable'],'label':this['label'],'peaks':_0x495cd5}};this[_0x2485c6(0x56b)]['logDataSent'](_0x32ac8e),this[_0x2485c6(0x316)][_0x2485c6(0x3ec)](_0x32ac8e);}async['processContentSynchronized'](_0x5f3f3d,_0x52e439){const _0x36e595=_0x1af94f,_0x568870=await this[_0x36e595(0xa14)][_0x36e595(0xf8)](),_0x9352d8=_0x568870===_0x52e439;if(_0x5999e0[_0x36e595(0x15c)](_0x53526a[_0x36e595(0x22d)],'Received\x20ContentSynchronized\x20from\x20'+_0x5f3f3d+_0x36e595(0x705)+_0x9352d8,this[_0x36e595(0xf1)]),_0x9352d8)return this['clearSyncTimeout'](),void this[_0x36e595(0x7c5)]();_0x5999e0[_0x36e595(0x15c)](_0x53526a['KeyValueDatabase'],_0x36e595(0x729),_0x568870,_0x52e439),_0x5999e0['warning'](_0x36e595(0x729),{'nodeId':this['localNode'][_0x36e595(0x8f3)](),'nodeType':this[_0x36e595(0x658)]['type'],'remoteId':_0x5f3f3d,'data':{'localMMRRoot':_0x568870,'remoteMMRRoot':_0x52e439}});const _0x362018={'sourceId':this[_0x36e595(0x658)][_0x36e595(0x8f3)](),'messageType':_0x502914['Content'],'propagate':!0x0,'content':{'type':_0x20f4a0[_0x36e595(0x88c)],'label':this[_0x36e595(0xf1)],'mmrRoot':_0x568870}};this[_0x36e595(0x316)][_0x36e595(0x3ec)](_0x362018);}async['processContentAvailable'](_0x30b517,_0x7edfe0){const _0x4ecb57=_0x1af94f;if(_0x5999e0['log'](_0x53526a[_0x4ecb57(0x22d)],'Received\x20content\x20available\x20from\x20node',_0x30b517,_0x4ecb57(0xf1),this[_0x4ecb57(0xf1)],'peaks',_0x7edfe0),this[_0x4ecb57(0x325)])return;this[_0x4ecb57(0x325)]=!0x0,this[_0x4ecb57(0x24d)]();const {differingPeaks:_0x49bb48,peaksMissingInLocal:_0x5f56eb,peaksMissingInRemote:_0x3dbc8a}=this[_0x4ecb57(0xa14)][_0x4ecb57(0x9f3)](_0x7edfe0);_0x5999e0[_0x4ecb57(0x15c)](_0x53526a[_0x4ecb57(0x22d)],_0x4ecb57(0x5fc),{'differingPeaks':_0x49bb48,'peaksMissingInLocal':_0x5f56eb,'peaksMissingInRemote':_0x3dbc8a});const _0x28b4b3={'sourceId':this[_0x4ecb57(0x658)]['getId'](),'destinationIds':[_0x30b517],'propagate':!0x0,'messageType':_0x502914['Content'],'content':{'type':_0x20f4a0[_0x4ecb57(0x6d2)],'label':this['label'],'peakHeights':_0x5f56eb[_0x4ecb57(0x7d0)](_0x51babc=>_0x51babc[_0x4ecb57(0x9a1)])[_0x4ecb57(0x7c0)](_0x49bb48[_0x4ecb57(0x7d0)](_0x3cd753=>_0x3cd753['height']))}};if(this[_0x4ecb57(0x316)][_0x4ecb57(0x3ec)](_0x28b4b3),_0x49bb48[_0x4ecb57(0x71c)]>0x0||_0x3dbc8a[_0x4ecb57(0x71c)]>0x0){const _0x317175=_0x3dbc8a[_0x4ecb57(0x7d0)](_0x3fb54e=>_0x3fb54e[_0x4ecb57(0x9a1)])[_0x4ecb57(0x7c0)](_0x49bb48[_0x4ecb57(0x7d0)](_0x1965fc=>_0x1965fc['height']));await this[_0x4ecb57(0x926)](_0x30b517,_0x317175,!0x0);}}async[_0x1af94f(0x926)](_0x4f535f,_0x2f768f,_0x427ac=!0x1){const _0x8435bd=_0x1af94f;_0x5999e0[_0x8435bd(0x15c)](_0x53526a[_0x8435bd(0x22d)],_0x8435bd(0x422),this[_0x8435bd(0xf1)]);const _0x1deba0=_0x2f768f[_0x8435bd(0x7d0)](_0xbab8fc=>this[_0x8435bd(0xa14)][_0x8435bd(0x1d8)](_0xbab8fc))[_0x8435bd(0x7e0)](Boolean);if(!_0x1deba0[_0x8435bd(0x71c)]||_0x2f768f[_0x8435bd(0x71c)]!==_0x1deba0[_0x8435bd(0x71c)])throw new _0x3c8547(_0x3c8547[_0x8435bd(0x700)]['KeyValueDatabasePeakNotFound'],{'message':'Peaks\x20requested\x20were\x20not\x20found\x20in\x20local\x20MMR','peakHeights':_0x2f768f,'peaks':_0x1deba0[_0x8435bd(0x7d0)](_0x53f918=>_0x53f918[_0x8435bd(0x9a1)]),'nodeId':_0x4f535f});const _0x380944=[];for(const _0x4c91d1 of _0x1deba0)this['collectTransactionsFromNode'](_0x4c91d1,_0x380944);const _0x1d1db1=_0x427ac?void 0x0:[_0x4f535f],_0x4ab48f={'sourceId':this['localNode'][_0x8435bd(0x8f3)](),'destinationIds':_0x1d1db1,'messageType':_0x502914['Content'],'propagate':!0x0,'content':{'type':_0x20f4a0[_0x8435bd(0x53b)],'label':this['label'],'transactions':_0x380944}};this[_0x8435bd(0x56b)][_0x8435bd(0x853)](_0x4ab48f),this['systemTopic']['publish'](_0x4ab48f);}async[_0x1af94f(0x846)](_0x255bc8,_0x4d014f){const _0xf18401=_0x1af94f;_0x5999e0[_0xf18401(0x15c)](_0x53526a['KeyValueDatabase'],_0xf18401(0x1a5)+_0x4d014f[_0xf18401(0x71c)]+'\x20transactions\x20from\x20node\x20'+_0x255bc8+_0xf18401(0x5cb)+this[_0xf18401(0xf1)]);for(const _0x41d988 of _0x4d014f){const _0x45c61e=await this[_0xf18401(0x22c)]['get'](_0x41d988['id']);if(!(_0x45c61e&&this[_0xf18401(0x571)](_0x45c61e,_0x41d988)>=0x0)){if(_0x41d988['action']===_0x372c00['Delete']){const [_0x573520,_0x31d39b]=_0x41d988['id'][_0xf18401(0x7c6)]('::'),_0x38cfa1=this[_0xf18401(0x8b7)](_0x573520);await _0x38cfa1['delete'](_0x31d39b);}else this[_0xf18401(0x4d2)][_0xf18401(0x3d6)](_0x41d988['id']);}}if(_0x5999e0['log'](_0x53526a[_0xf18401(0x22d)],_0xf18401(0x184)+this[_0xf18401(0x4d2)][_0xf18401(0x71c)]+_0xf18401(0x8f4),this[_0xf18401(0xf1)]),this[_0xf18401(0x4d2)][_0xf18401(0x71c)]>0x0){const _0x47288a={'sourceId':this[_0xf18401(0x658)][_0xf18401(0x8f3)](),'destinationIds':[_0x255bc8],'messageType':_0x502914[_0xf18401(0x54e)],'propagate':!0x0,'content':{'type':_0x20f4a0[_0xf18401(0x329)],'label':this[_0xf18401(0xf1)],'transactionIds':this['transactionsToSync']}};this[_0xf18401(0x56b)][_0xf18401(0x853)](_0x47288a),this['systemTopic'][_0xf18401(0x3ec)](_0x47288a);}}['reset'](){const _0x260d5f=_0x1af94f;this[_0x260d5f(0x9ed)]();}['getContentType'](){const _0x405609=_0x1af94f;return _0xb0907f[_0x405609(0x178)][_0x405609(0x22d)];}['destroy'](){const _0x4c311e=_0x1af94f;this['db'][_0x4c311e(0x92f)](),this[_0x4c311e(0x7b4)]?.(),clearTimeout(this[_0x4c311e(0x11a)]),delete this['debounceStats'],super[_0x4c311e(0x541)]();}[_0x1af94f(0x92f)](){const _0x528316=_0x1af94f;this['clearSyncTimeout'](),this[_0x528316(0x316)][_0x528316(0x3ec)]({'sourceId':_0x50bf9f,'messageType':_0x502914['Content'],'content':{'type':_0x20f4a0['CloseKeyValueDatabase'],'label':this[_0x528316(0xf1)]}});}[_0x1af94f(0x8b7)](_0x2cd246){const _0x2c38ed=_0x1af94f,_0x271eaf=this[_0x2c38ed(0x3bc)][_0x2c38ed(0x70a)](_0x2cd246);if(_0x271eaf)return _0x271eaf;try{if(!this['db'][_0x2c38ed(0x7de)](_0x2cd246))throw new _0x3b3113(_0x56d472['KeyValueDatabaseTableNotFound'],_0x2c38ed(0x1f8));const _0x2bed25=new _0x2892a0(this['db'][_0x2c38ed(0x19a)](_0x2cd246),_0x2cd246,this['tableObserver']);return this['tables'][_0x2c38ed(0x81a)](_0x2cd246,_0x2bed25),{'get':_0x2bed25[_0x2c38ed(0x70a)][_0x2c38ed(0x136)](_0x2bed25),'set':_0x2bed25[_0x2c38ed(0x81a)][_0x2c38ed(0x136)](_0x2bed25),'add':_0x2bed25['add'][_0x2c38ed(0x136)](_0x2bed25),'delete':_0x2bed25[_0x2c38ed(0x8e1)][_0x2c38ed(0x136)](_0x2bed25),'clear':_0x2bed25['clear'][_0x2c38ed(0x136)](_0x2bed25),'list':_0x2bed25['list']['bind'](_0x2bed25),'count':_0x2bed25[_0x2c38ed(0x54f)][_0x2c38ed(0x136)](_0x2bed25),'subscribe':_0x2bed25[_0x2c38ed(0x9f2)][_0x2c38ed(0x136)](_0x2bed25),'unsubscribe':_0x2bed25[_0x2c38ed(0x885)][_0x2c38ed(0x136)](_0x2bed25)};}catch(_0x13aeed){if(_0x13aeed instanceof _0x3b3113)throw _0x13aeed;throw new _0x3b3113(_0x56d472[_0x2c38ed(0x1b6)],_0x2c38ed(0x2dd));}}[_0x1af94f(0x9f2)](_0x16152f){const _0x43c638=_0x1af94f;this[_0x43c638(0x523)]=this[_0x43c638(0x6bb)][_0x43c638(0x9f2)](_0x16152f),this['isPromiseResolved'](this['isSync'])[_0x43c638(0x54c)](_0x718e13=>{const _0x3b3fe7=_0x43c638;_0x718e13&&this[_0x3b3fe7(0x6bb)][_0x3b3fe7(0x3ec)]({'event':_0xb0907f[_0x3b3fe7(0x38d)][_0x3b3fe7(0x5f2)]});});}['unsubscribe'](){this['listenerUnsubscriber']?.(),this['listenerUnsubscriber']=void 0x0;}async[_0x1af94f(0x2de)](){const _0x315b22=_0x1af94f;_0x1a6c3f(_0x53526a[_0x315b22(0x22d)],_0x315b22(0x31b));const _0x403bfc=[_0x4caa30,_0x7849f],_0x223368=[];try{await this['db']['open']();const _0x36c1bb=this['db'][_0x315b22(0x19a)](_0x7849f),_0x22b244=await _0x36c1bb[_0x315b22(0x3d1)](),{id:_0x2c1e8d,layout:_0x41ce6e}=_0x22b244[0x0]??{};if(_0x41ce6e){for(const _0x5bc764 in _0x41ce6e)_0x403bfc['includes'](_0x5bc764)||this['db'][_0x315b22(0x7de)](_0x5bc764)||_0x223368[_0x315b22(0x3d6)](_0x5bc764);await _0x36c1bb[_0x315b22(0x81a)](_0x2c1e8d,{'layout':this[_0x315b22(0x390)]});}else await _0x36c1bb[_0x315b22(0x23a)]({'layout':this['layout']});}catch(_0x26b99e){throw new _0x3b3113(_0x56d472[_0x315b22(0x1b6)],_0x26b99e[_0x315b22(0x802)]||_0x315b22(0x2ec));}this[_0x315b22(0x366)](),await this[_0x315b22(0x57f)](),this['setOnMessageHandler'](),this[_0x315b22(0x36a)](),_0x223368[_0x315b22(0x333)](_0x13704d=>this[_0x315b22(0x570)](_0x13704d));}async[_0x1af94f(0x445)](_0x4804e7,_0x22e25b=()=>{},_0x768435=!0x1){const _0x5198b6=_0x1af94f;if(!_0x4804e7)return setTimeout(()=>{const _0x1ed37c=a0_0xaf41;this[_0x1ed37c(0x24d)](),this[_0x1ed37c(0x7c5)]();},0x0),!0x0;if(this[_0x5198b6(0x325)]=!0x1,this[_0x5198b6(0x646)]=_0x22e25b,this['syncTimeout']=setTimeout(_0x22e25b,0x7d0),!this[_0x5198b6(0x316)])throw new _0x3c8547(_0x3c8547[_0x5198b6(0x700)][_0x5198b6(0x70f)]);const _0x261258=await this['mmr'][_0x5198b6(0xf8)](),_0x5e6142={'sourceId':this[_0x5198b6(0x658)][_0x5198b6(0x8f3)](),'messageType':_0x502914[_0x5198b6(0x54e)],'propagate':_0x768435,'content':{'type':_0x20f4a0[_0x5198b6(0x88c)],'label':this[_0x5198b6(0xf1)],'mmrRoot':_0x261258}};return this['loggingCycle'][_0x5198b6(0x853)](_0x5e6142),this[_0x5198b6(0x316)][_0x5198b6(0x3ec)](_0x5e6142),this[_0x5198b6(0x8d7)];}async[_0x1af94f(0x55b)](_0x396592,_0x527b3f){const _0x5e3162=_0x1af94f;if(_0x5999e0[_0x5e3162(0x15c)](_0x53526a[_0x5e3162(0x22d)],_0x5e3162(0x17b)+_0x527b3f[_0x5e3162(0x71c)],this['label']),!this[_0x5e3162(0x22c)])throw new _0x3c8547(_0x3c8547[_0x5e3162(0x700)][_0x5e3162(0x11e)]);for(const _0x1739a8 of _0x527b3f){const _0x5438af=await this['transactionTable'][_0x5e3162(0x70a)](_0x1739a8);if(!_0x5438af)continue;const [_0x2a0785,_0xf15e94]=_0x1739a8[_0x5e3162(0x7c6)]('::'),_0x4c3105=this[_0x5e3162(0x8b7)](_0x2a0785),_0x2bb261=await _0x4c3105['get'](_0xf15e94);_0x2bb261?(_0x5438af[_0x5e3162(0x73e)]=_0x2bb261,this[_0x5e3162(0x4ef)](_0x5438af,[_0x396592])):_0x5999e0[_0x5e3162(0x949)](_0x5e3162(0x7c1),{'nodeId':this['localNode'][_0x5e3162(0x8f3)](),'nodeType':this['localNode'][_0x5e3162(0x44f)],'remoteId':_0x396592,'data':{'tableKeys':Object[_0x5e3162(0x7a3)](this[_0x5e3162(0x3bc)]),'transactionId':_0x1739a8,'transactions':this[_0x5e3162(0x4d2)],'tableName':_0x2a0785,'key':_0xf15e94}});}}async[_0x1af94f(0x1d5)](_0x2dcb4d){const _0x2d8afc=_0x1af94f;if(!this[_0x2d8afc(0x22c)])throw new _0x3c8547(_0x3c8547['codes'][_0x2d8afc(0x11e)]);const _0x39cd89=await this[_0x2d8afc(0xa14)][_0x2d8afc(0x829)](_0x2dcb4d),_0x5cf545=this['transactionHashMap'][_0x2d8afc(0x70a)](_0x39cd89);if(_0x5cf545&&this[_0x2d8afc(0x571)](_0x2dcb4d,_0x5cf545)<=0x0)return void _0x5999e0[_0x2d8afc(0x15c)](_0x53526a['KeyValueDatabase'],_0x2d8afc(0x974),_0x2dcb4d);const _0x56ab48={..._0x2dcb4d};return delete _0x56ab48[_0x2d8afc(0x73e)],this[_0x2d8afc(0x6dc)](_0x56ab48),await this[_0x2d8afc(0x22c)][_0x2d8afc(0x81a)](_0x2dcb4d['id'],_0x56ab48),_0x2dcb4d;}[_0x1af94f(0x571)](_0x60eab5,_0x395100){const _0x4b09d3=_0x1af94f;return _0x60eab5[_0x4b09d3(0x8fa)]!==_0x395100[_0x4b09d3(0x8fa)]?_0x60eab5['timestamp']-_0x395100[_0x4b09d3(0x8fa)]:_0x60eab5[_0x4b09d3(0x66a)]-_0x395100[_0x4b09d3(0x66a)];}async[_0x1af94f(0x1dc)](_0x16240e){const _0x2498a3=_0x1af94f;if(!this[_0x2498a3(0x22c)])throw new _0x3c8547(_0x3c8547[_0x2498a3(0x700)][_0x2498a3(0x11e)]);const _0x4dc48a=_0x16240e[_0x2498a3(0x6d6)]+'::'+_0x16240e[_0x2498a3(0x3c0)],_0x2747f6=await _0xa01105['getEstimatedTimestamp'](),_0x5f4248={'id':_0x4dc48a,'priority':Math[_0x2498a3(0x3b7)](),'timestamp':_0x2747f6,'action':_0x16240e['action']};if(await this[_0x2498a3(0x1d5)](_0x5f4248))return _0x5f4248;}async[_0x1af94f(0x570)](_0x20279b){const _0x4eb23e=_0x1af94f;if(!this['transactionTable'])throw new _0x3c8547(_0x3c8547[_0x4eb23e(0x700)][_0x4eb23e(0x11e)]);const _0x211ecc=_0x309310['index']('id')['where'](_0x4eb23e(0x262),[_0x20279b+'::',_0x20279b+_0x4eb23e(0x2b5)]),_0x5aabf7=await this[_0x4eb23e(0x22c)][_0x4eb23e(0x3d1)](_0x211ecc['getQuery']());for(const _0xf83c2d of _0x5aabf7)await this['transactionTable'][_0x4eb23e(0x8e1)](_0xf83c2d['id']);}[_0x1af94f(0x5df)](){const _0x208b12=_0x1af94f;this[_0x208b12(0x83b)](async(_0x2f69c8,_0x548a9b)=>{const _0x296819=_0x208b12;if(_0x548a9b instanceof File)return;if(this[_0x296819(0x56b)][_0x296819(0x97f)](_0x548a9b),!await this[_0x296819(0x1d5)](_0x548a9b))return void this[_0x296819(0xa4b)](_0x2f69c8,_0x548a9b);if(!_0x548a9b[_0x296819(0x73e)])throw new _0x3c8547(_0x3c8547[_0x296819(0x700)][_0x296819(0x822)]);const [_0x254eb8,_0x2ef7b3]=_0x548a9b['id'][_0x296819(0x7c6)]('::'),_0x2c9807=this['getTable'](_0x254eb8);if(!_0x2c9807)throw new _0x3c8547(_0x3c8547[_0x296819(0x700)]['KeyValueDatabaseTableDoesNotExist'],{'table':_0x2c9807});let _0x2cdd0e=0x0;switch(_0x548a9b['action']){case _0x372c00[_0x296819(0x7f5)]:case _0x372c00[_0x296819(0x4fc)]:{const _0x442224=_0x2c9807[_0x296819(0x81a)](_0x2ef7b3,_0x548a9b[_0x296819(0x73e)],!0x1);_0x2cdd0e=JSON[_0x296819(0x656)](_0x548a9b[_0x296819(0x73e)])[_0x296819(0x71c)],this['transactionsToSync']['includes'](_0x548a9b['id'])&&this['syncTransactionsWritten'][_0x296819(0x3d6)](_0x442224);break;}case _0x372c00['Delete']:{const _0x46bf87=_0x2c9807[_0x296819(0x8e1)](_0x2ef7b3,!0x1);this[_0x296819(0x4d2)][_0x296819(0x1ed)](_0x548a9b['id'])&&this['syncTransactionsWritten']['push'](_0x46bf87);break;}}_0x5999e0[_0x296819(0x624)](_0x53b20f[_0x296819(0x22d)],{'type':_0x296819(0x445),'label':this[_0x296819(0xf1)],'nodeId':this[_0x296819(0x658)]['getId'](),'nodeType':this[_0x296819(0x658)]['type'],'clusterId':this[_0x296819(0x230)],'tableName':_0x254eb8,'key':_0x2ef7b3,'size':_0x2cdd0e}),this[_0x296819(0xa4b)](_0x2f69c8,_0x548a9b);});}['setOnTableWriteHandler'](){const _0x45922f=_0x1af94f;this[_0x45922f(0x7b4)]=this[_0x45922f(0x5ff)]['subscribe'](async _0xba6d72=>{const _0xdd7ce4=_0x45922f;let _0x576766=0x0;switch(_0xba6d72[_0xdd7ce4(0x3e8)]){case _0x372c00[_0xdd7ce4(0x7f5)]:case _0x372c00[_0xdd7ce4(0x4fc)]:case _0x372c00[_0xdd7ce4(0x1a4)]:{const _0x1ea989=await this[_0xdd7ce4(0x1dc)](_0xba6d72);if(!_0x1ea989)return;_0x1ea989[_0xdd7ce4(0x73e)]=_0xba6d72[_0xdd7ce4(0x73e)],this['send'](_0x1ea989),_0x576766=JSON[_0xdd7ce4(0x656)](_0xba6d72[_0xdd7ce4(0x73e)])[_0xdd7ce4(0x71c)],this[_0xdd7ce4(0xa05)]+=0x1;break;}case _0x5464ac[_0xdd7ce4(0x519)]:case _0x5464ac[_0xdd7ce4(0x84e)]:case _0x5464ac[_0xdd7ce4(0x3c5)]:this[_0xdd7ce4(0x8bf)]+=0x1;}_0x5999e0['logServiceEvent'](_0x53b20f[_0xdd7ce4(0x22d)],{'type':_0xba6d72[_0xdd7ce4(0x3e8)],'label':this[_0xdd7ce4(0xf1)],'nodeId':this[_0xdd7ce4(0x658)][_0xdd7ce4(0x8f3)](),'nodeType':this['localNode']['type'],'clusterId':this[_0xdd7ce4(0x230)],'tableName':_0xba6d72['tableName'],'key':_0xba6d72['key'],'size':_0x576766}),this[_0xdd7ce4(0x9ed)]();});}['instantiateTransactionTable'](){const _0x1cf799=_0x1af94f;this['db']&&(this[_0x1cf799(0x22c)]||(this[_0x1cf799(0x22c)]=this['db'][_0x1cf799(0x19a)](_0x4caa30)));}[_0x1af94f(0x24d)](){const _0x19361d=_0x1af94f;this['syncTimeout']&&(clearTimeout(this[_0x19361d(0x5e9)]),delete this[_0x19361d(0x5e9)]);}async[_0x1af94f(0x7c5)](){const _0x20d556=_0x1af94f;await this[_0x20d556(0xa14)][_0x20d556(0x3c1)],this[_0x20d556(0x5dd)](),this[_0x20d556(0x6bb)]['publish']({'event':_0xb0907f[_0x20d556(0x38d)][_0x20d556(0x5f2)]}),this[_0x20d556(0xa00)]?.(!0x0),delete this[_0x20d556(0xa00)],this[_0x20d556(0x9ed)](),_0x5999e0[_0x20d556(0x15c)](_0x53526a['KeyValueDatabase'],'Sync\x20completed',this[_0x20d556(0xf1)]);}async[_0x1af94f(0x1bc)](_0x261789){const _0x54412e=_0x1af94f;await Promise[_0x54412e(0x4d8)](this[_0x54412e(0x3f9)]),_0x5999e0[_0x54412e(0x15c)](_0x53526a[_0x54412e(0x22d)],_0x54412e(0x7c9)+this['syncTransactionsWritten']['length']+_0x54412e(0x286)+_0x261789+_0x54412e(0x25f),this[_0x54412e(0xf1)]),await this['mmr']['ready'],await this['confirmSynchronization'](_0x261789),await this['publishSyncCompleted']();}[_0x1af94f(0xa4b)](_0x111ad3,_0x554eed){const _0x145a38=_0x1af94f;this[_0x145a38(0x4d2)][_0x145a38(0x1ed)](_0x554eed['id'])&&(this[_0x145a38(0x24d)](),this['transactionsToSync']=this[_0x145a38(0x4d2)]['filter'](_0x30dd42=>_0x30dd42!==_0x554eed['id']),0x0!==this[_0x145a38(0x4d2)][_0x145a38(0x71c)]?this['syncTimeout']=setTimeout(this[_0x145a38(0x646)],0x7d0):this[_0x145a38(0x1bc)](_0x111ad3));}['sendStats'](){this['debounceStats']&&clearTimeout(this['debounceStats']),this['debounceStats']=setTimeout(async()=>{const _0xc0b4b9=a0_0xaf41;delete this[_0xc0b4b9(0x11a)];let _0xa96599=0x0;for(const _0x33a388 of this[_0xc0b4b9(0x3bc)]['values']())_0xa96599+=await _0x33a388[_0xc0b4b9(0x115)]();this[_0xc0b4b9(0x316)][_0xc0b4b9(0x3ec)]({'sourceId':_0x50bf9f,'messageType':_0x502914[_0xc0b4b9(0x54e)],'content':{'type':_0x20f4a0['KeyValueDatabaseStats'],'label':this[_0xc0b4b9(0xf1)],'stats':{'timestamp':Date[_0xc0b4b9(0x1f3)](),'storage':_0xa96599,'messagesSent':this[_0xc0b4b9(0x7a2)],'messagesReceived':this[_0xc0b4b9(0x9c7)],'bytesSent':this['bytesSent'],'bytesReceived':this[_0xc0b4b9(0x7b6)],'writes':this[_0xc0b4b9(0xa05)],'reads':this[_0xc0b4b9(0x8bf)],'prompts':0x0,'tokens':0x0}}}),_0x5999e0[_0xc0b4b9(0x5a5)](_0x53b20f['KeyValueDatabase'],_0xc0b4b9(0xa2f)+this[_0xc0b4b9(0x230)]+_0xc0b4b9(0xa2f)+this[_0xc0b4b9(0xf1)],_0xa96599);},_0x33f6e5);}[_0x1af94f(0x5db)](_0x486065){const _0x4094fe=_0x1af94f;if(_0x486065[_0x4094fe(0x3bc)][_0x4caa30])throw new _0x3b3113(_0x56d472['KeyValueDatabaseTableNameReserved'],_0x4094fe(0x15b)+_0x4caa30+'\x27\x20reserved');if(_0x486065['tables'][_0x7849f])throw new _0x3b3113(_0x56d472['KeyValueDatabaseTableNameReserved'],_0x4094fe(0x15b)+_0x7849f+'\x27\x20reserved');_0x486065[_0x4094fe(0x3bc)][_0x4caa30]={'indexes':[]},_0x486065[_0x4094fe(0x3bc)][_0x7849f]={'indexes':[]};}async[_0x1af94f(0x453)](_0x263173){const _0x32e28f=_0x1af94f;return Promise[_0x32e28f(0x419)]([_0x263173,Promise[_0x32e28f(0x9df)](_0x32e28f(0x8bc))])[_0x32e28f(0x54c)](_0x20e05d=>_0x32e28f(0x8bc)!==_0x20e05d);}async[_0x1af94f(0x301)](_0x10bdc2){const _0xfdee74=_0x1af94f;await this[_0xfdee74(0x553)]();const _0x484f6e=await this['mmr'][_0xfdee74(0xf8)](),_0x4060a0={'sourceId':this[_0xfdee74(0x658)][_0xfdee74(0x8f3)](),'destinationIds':[_0x10bdc2],'propagate':!0x0,'messageType':_0x502914['Content'],'content':{'type':_0x20f4a0['KeyValueDatabaseContentSynchronized'],'label':this[_0xfdee74(0xf1)],'mmrRoot':_0x484f6e}};this['systemTopic'][_0xfdee74(0x3ec)](_0x4060a0);}async[_0x1af94f(0x57f)](){const _0x1ce90d=_0x1af94f;if(!this[_0x1ce90d(0x22c)])throw new _0x3c8547(_0x3c8547[_0x1ce90d(0x700)][_0x1ce90d(0x11e)]);this[_0x1ce90d(0x1ad)]=await this[_0x1ce90d(0x22c)][_0x1ce90d(0x3d1)](),this[_0x1ce90d(0x1ad)][_0x1ce90d(0x1b1)](this['compareTransactions']),this[_0x1ce90d(0xa14)]=new _0x304bfd(),this[_0x1ce90d(0x21b)]=new Map();for(const _0x5e4142 of this[_0x1ce90d(0x1ad)])this[_0x1ce90d(0x771)](_0x5e4142,this['transactions']['length']);this[_0x1ce90d(0x160)]();}async['appendTransactionAndUpdateHashMap'](_0x3a83ba,_0x440768){const _0x529ee9=_0x1af94f,_0x272e32={..._0x3a83ba};delete _0x272e32['value'],await this['mmr']['appendTransaction'](_0x272e32,_0x440768);const _0x1bfa1b=await this[_0x529ee9(0xa14)][_0x529ee9(0x829)](_0x272e32);this['transactionHashMap'][_0x529ee9(0x81a)](_0x1bfa1b,_0x3a83ba);}['getTransactionByHash'](_0x491e04){const _0x15eaea=_0x1af94f;return this[_0x15eaea(0x21b)]['get'](_0x491e04);}[_0x1af94f(0x887)](_0x541894,_0x24b3b4){const _0x84e583=_0x1af94f;if(0x0!==_0x541894[_0x84e583(0x9a1)])_0x541894[_0x84e583(0x49e)]&&this[_0x84e583(0x887)](_0x541894[_0x84e583(0x49e)],_0x24b3b4),_0x541894[_0x84e583(0x728)]&&this['collectTransactionsFromNode'](_0x541894[_0x84e583(0x728)],_0x24b3b4);else{const _0x368bda=this[_0x84e583(0x858)](_0x541894[_0x84e583(0x7a7)]);_0x368bda&&_0x24b3b4['push'](_0x368bda);}}async[_0x1af94f(0x9e5)](){const _0x4cecf6=_0x1af94f;this['debounceRebuildMMR']&&(clearTimeout(this[_0x4cecf6(0x804)]),delete this[_0x4cecf6(0x804)],this['transactionsToAppend']['length']>0x0&&(this['transactions'][_0x4cecf6(0x3d6)](...this['transactionsToAppend'][_0x4cecf6(0x1b1)](this['compareTransactions'])),this[_0x4cecf6(0x6a7)]=[]));const _0x10e87f=this[_0x4cecf6(0x752)]();this[_0x4cecf6(0xa14)]=new _0x304bfd(),this[_0x4cecf6(0x21b)][_0x4cecf6(0xa4f)](),this[_0x4cecf6(0x1ad)]['sort'](this[_0x4cecf6(0x571)]);for(const _0x5973cb of this[_0x4cecf6(0x1ad)])this[_0x4cecf6(0x771)](_0x5973cb,this[_0x4cecf6(0x1ad)][_0x4cecf6(0x71c)]);await this['mmr']['ready'],this[_0x4cecf6(0x36e)](_0x10e87f);}[_0x1af94f(0x752)](){const _0x136251=_0x1af94f;return this[_0x136251(0x56b)][_0x136251(0x59f)][_0x136251(0x82b)](async()=>{const _0x6e84b2=_0x136251,_0x25ae09=await this[_0x6e84b2(0xa14)][_0x6e84b2(0xf8)]();return{'startTime':Date['now'](),'initialRoot':_0x25ae09};},Promise[_0x136251(0x9df)]({'startTime':0x0,'initialRoot':''}));}async[_0x1af94f(0x36e)](_0xce6529){const _0x5548eb=_0x1af94f;try{const {startTime:_0x104ee5,initialRoot:_0x514a99}=await _0xce6529,_0x586bde=await this[_0x5548eb(0xa14)]['getRoot'](),_0x57cd9e=[_0x5548eb(0x73b)+(_0x514a99!==_0x586bde),_0x5548eb(0x238)+_0x514a99,_0x5548eb(0x382)+_0x586bde,_0x5548eb(0x3f5)+this[_0x5548eb(0xa14)][_0x5548eb(0x18c)](),_0x5548eb(0x4eb)+(Date[_0x5548eb(0x1f3)]()-_0x104ee5)+'\x20ms\x0a'][_0x5548eb(0x7f4)]('\x20');this['loggingCycle'][_0x5548eb(0x59f)]['log']('',()=>_0x57cd9e);}catch(_0x314de0){console[_0x5548eb(0x883)](_0x5548eb(0xa26),_0x314de0);}}[_0x1af94f(0x6dc)](_0xf7fa11){const _0x3f1148=_0x1af94f;this[_0x3f1148(0x6a7)][_0x3f1148(0x3d6)](_0xf7fa11),this['debounceRebuildMMR']&&(clearTimeout(this[_0x3f1148(0x804)]),delete this[_0x3f1148(0x804)]),this[_0x3f1148(0x804)]=setTimeout(()=>{const _0x57739c=_0x3f1148;this[_0x57739c(0x553)]();},0x3e8);}async['processTransactionsToComputeMMR'](){const _0x43eaea=_0x1af94f;if(this[_0x43eaea(0x804)]&&(clearTimeout(this[_0x43eaea(0x804)]),delete this[_0x43eaea(0x804)]),0x0!==this['transactionsToAppend']['length']){if(0x0===this[_0x43eaea(0x1ad)][_0x43eaea(0x71c)])return this[_0x43eaea(0x1ad)]=this['transactionsToAppend'],this[_0x43eaea(0x6a7)]=[],await this['rebuildMMR']();if(this[_0x43eaea(0x6a7)][_0x43eaea(0x1b1)](this[_0x43eaea(0x571)]),this['compareTransactions'](this[_0x43eaea(0x6a7)][0x0],this[_0x43eaea(0x1ad)][this[_0x43eaea(0x1ad)][_0x43eaea(0x71c)]-0x1])>0x0){this['loggingCycle'][_0x43eaea(0x59f)][_0x43eaea(0x15c)](_0x43eaea(0x343)+this[_0x43eaea(0x6a7)][_0x43eaea(0x71c)]+_0x43eaea(0x225)+this[_0x43eaea(0x1ad)][_0x43eaea(0x71c)]);for(const _0x48fb1c of this[_0x43eaea(0x6a7)])this[_0x43eaea(0x1ad)][_0x43eaea(0x3d6)](_0x48fb1c),this[_0x43eaea(0x771)](_0x48fb1c,this['transactionsToAppend'][_0x43eaea(0x71c)]);return this[_0x43eaea(0x6a7)]=[],void this[_0x43eaea(0x56b)][_0x43eaea(0x59f)][_0x43eaea(0x15c)](_0x43eaea(0x964),async()=>_0x43eaea(0x91e)+await this[_0x43eaea(0xa14)][_0x43eaea(0xf8)]()+_0x43eaea(0x7f2)+this[_0x43eaea(0xa14)][_0x43eaea(0x18c)]());}this[_0x43eaea(0x56b)][_0x43eaea(0x59f)][_0x43eaea(0x15c)](_0x43eaea(0x407)+this[_0x43eaea(0x6a7)][_0x43eaea(0x71c)]+',\x20Transactions:\x20'+this['transactions'][_0x43eaea(0x71c)]),this[_0x43eaea(0x1ad)][_0x43eaea(0x3d6)](...this[_0x43eaea(0x6a7)]),this[_0x43eaea(0x6a7)]=[],this['rebuildMMR']();}}async[_0x1af94f(0x5dd)](){const _0x3222c4=_0x1af94f;if(!_0x5999e0[_0x3222c4(0x113)](_0x53526a['KeyValueDatabase']))return;await this[_0x3222c4(0xa14)][_0x3222c4(0x3c1)];const {dataSent:_0x3b55ca,dataReceived:_0x36aff9}=this[_0x3222c4(0x56b)]['getDataLogged']();_0x5999e0['log'](_0x53526a['KeyValueDatabase'],_0x3222c4(0x7ad),this[_0x3222c4(0xf1)],_0x3222c4(0x742)+_0x3b55ca,_0x3222c4(0x100)+_0x36aff9,_0x3222c4(0x5fa),await this[_0x3222c4(0xa14)]['getRoot'](),_0x3222c4(0x784),this[_0x3222c4(0xa14)][_0x3222c4(0x18c)]());}async[_0x1af94f(0x160)](){const _0x371984=_0x1af94f;if(!_0x5999e0['isChannelEnabled'](_0x53526a[_0x371984(0x22d)]))return;const _0x39c019=this['mmr'][_0x371984(0x237)](),_0xb0217b=_0x39c019[_0x371984(0x7d0)](_0x5ca6f1=>_0x5ca6f1[_0x371984(0x9a1)]),_0x2db311=await this['mmr'][_0x371984(0xf8)]();_0x5999e0[_0x371984(0x15c)](_0x53526a[_0x371984(0x22d)],_0x371984(0xee),this[_0x371984(0x1ad)][_0x371984(0x71c)],_0x371984(0x1ad),this[_0x371984(0xa14)][_0x371984(0x18c)](),_0x371984(0x863),_0x39c019[_0x371984(0x71c)],_0x371984(0x49c),_0xb0217b,_0x371984(0x1b0),_0x2db311);}}const _0x42ae7b=require('@crewdle/mist-connector-opfs'),_0x30d131=require('@crewdle/mist-connector-indexed-db'),_0x547833=require('@crewdle/mist-connector-webrtc-browser'),_0xc272a2=0x10000000;var _0x59fdfa,_0x852eca,_0xba45aa,_0x37701b,_0x5806ff,_0x4f0fdf,_0x3a5409,_0x168519,_0xc8d133;!function(_0xef78a4){const _0x34f039=_0x1af94f;_0xef78a4[_0x34f039(0xa17)]='AudioContext',_0xef78a4['AudioOutput']=_0x34f039(0x14f),_0xef78a4['AudioVolume']=_0x34f039(0x1d3),_0xef78a4[_0x34f039(0x973)]=_0x34f039(0x973),_0xef78a4[_0x34f039(0x418)]='DeviceConfig',_0xef78a4[_0x34f039(0x6ca)]='MediaStream',_0xef78a4['Recording']=_0x34f039(0x5e0),_0xef78a4[_0x34f039(0x7ec)]=_0x34f039(0x7ec),_0xef78a4[_0x34f039(0xa16)]='WebGL',_0xef78a4[_0x34f039(0xa12)]='WebRTC';}(_0x59fdfa||(_0x59fdfa={}));class _0x42b323{['registeredListeners'];[_0x1af94f(0x308)];[_0x1af94f(0x31e)];constructor(_0x514556=new Map(),_0x4a260d=new Map(),_0x43923d=new EventTarget()){const _0x5f1497=_0x1af94f;this[_0x5f1497(0x254)]=_0x514556,this[_0x5f1497(0x308)]=_0x4a260d,this[_0x5f1497(0x31e)]=_0x43923d;}['emit']=(_0x3b2b47,_0x540edd)=>this['registeredListeners'][_0x1af94f(0x907)](_0x3b2b47)?(_0x5999e0[_0x1af94f(0x15c)](_0x53526a[_0x1af94f(0xa43)],_0x1af94f(0x7fa),{'event':_0x3b2b47,'data':_0x540edd}),this[_0x1af94f(0x31e)]['dispatchEvent'](new CustomEvent(_0x3b2b47,{'detail':_0x540edd})),!0x0):(this[_0x1af94f(0x309)](_0x3b2b47,_0x540edd),!0x1);['on']=(_0x3731c3,_0x5a8972)=>{const _0x263238=_0x1af94f,_0x52ab5c=_0x3bc3ac=>{const _0x5c2dc2=a0_0xaf41;_0x5999e0[_0x5c2dc2(0x15c)](_0x53526a[_0x5c2dc2(0xa43)],_0x5c2dc2(0x8c5),_0x3bc3ac[_0x5c2dc2(0x44f)],_0x3bc3ac[_0x5c2dc2(0x1b3)]),_0x5a8972(_0x3bc3ac[_0x5c2dc2(0x1b3)]);};return this[_0x263238(0x254)][_0x263238(0x81a)](_0x3731c3,_0x52ab5c),this[_0x263238(0x31e)][_0x263238(0x1c8)](_0x3731c3,_0x52ab5c),_0x5999e0[_0x263238(0x15c)](_0x53526a[_0x263238(0x772)],_0x263238(0x3c3),_0x3731c3,_0x5a8972),this[_0x263238(0x644)](_0x3731c3),this;};[_0x1af94f(0x5d4)](_0x8dbacd){const _0x1683bf=_0x1af94f;if(!_0x8dbacd)return this[_0x1683bf(0x254)][_0x1683bf(0x333)]((_0x3d04db,_0xc593ee)=>{const _0x319ca2=_0x1683bf;this[_0x319ca2(0x31e)][_0x319ca2(0x3cc)](_0xc593ee,_0x3d04db);}),void this['registeredListeners'][_0x1683bf(0xa4f)]();_0x1683bf(0x4e9)==typeof _0x8dbacd&&this[_0x1683bf(0x2fc)](_0x8dbacd),Array[_0x1683bf(0x7ba)](_0x8dbacd)&&_0x8dbacd['forEach'](_0x2916bd=>{this['removeListener'](_0x2916bd);});}[_0x1af94f(0x2fc)](_0x2ac674){const _0x517efe=_0x1af94f,_0x2db7ea=this['registeredListeners'][_0x517efe(0x70a)](_0x2ac674);_0x2db7ea&&(this[_0x517efe(0x31e)][_0x517efe(0x3cc)](_0x2ac674,_0x2db7ea),this[_0x517efe(0x254)][_0x517efe(0x8e1)](_0x2ac674));}['bufferEvent'](_0x34426e,_0x4f52c0){const _0x5587c0=_0x1af94f;_0x5999e0[_0x5587c0(0x15c)](_0x53526a[_0x5587c0(0xa43)],_0x5587c0(0x690),{'event':_0x34426e,'data':_0x4f52c0});const _0x230a9c=this[_0x5587c0(0x308)][_0x5587c0(0x70a)](_0x34426e)||[];this[_0x5587c0(0x308)][_0x5587c0(0x81a)](_0x34426e,[..._0x230a9c,_0x4f52c0]);}[_0x1af94f(0x644)](_0x6c2090){const _0x6d3d8d=_0x1af94f,_0x2fcdd1=this[_0x6d3d8d(0x308)][_0x6d3d8d(0x70a)](_0x6c2090);_0x2fcdd1&&(_0x2fcdd1[_0x6d3d8d(0x333)](_0xe7049b=>{const _0x3f84d0=_0x6d3d8d;_0x5999e0[_0x3f84d0(0x15c)](_0x53526a[_0x3f84d0(0xa43)],_0x3f84d0(0x2ba),{'event':_0x6c2090,'data':_0xe7049b}),this[_0x3f84d0(0x31e)][_0x3f84d0(0x5ba)](new CustomEvent(_0x6c2090,{'detail':_0xe7049b}));}),this[_0x6d3d8d(0x308)][_0x6d3d8d(0x8e1)](_0x6c2090));}}class _0x446b55 extends Error{constructor(_0x1f1b01){const _0x2e5560=_0x1af94f;super(_0x2e5560(0x2a6)+_0x1f1b01);}}!function(_0x23ce26){const _0x30c4ae=_0x1af94f;_0x23ce26[_0x23ce26['Core']=0x0]=_0x30c4ae(0x9e1),_0x23ce26[_0x23ce26[_0x30c4ae(0x4f0)]=0x1]=_0x30c4ae(0x4f0);}(_0x852eca||(_0x852eca={})),function(_0x33e66c){const _0x4a26cd=_0x1af94f;_0x33e66c[_0x33e66c[_0x4a26cd(0x5ad)]=0x0]=_0x4a26cd(0x5ad),_0x33e66c[_0x33e66c[_0x4a26cd(0x73c)]=0x1]=_0x4a26cd(0x73c),_0x33e66c[_0x33e66c[_0x4a26cd(0x93d)]=0x2]='Handshake',_0x33e66c[_0x33e66c[_0x4a26cd(0x7a0)]=0x3]=_0x4a26cd(0x7a0),_0x33e66c[_0x33e66c['NeedRestart']=0x4]=_0x4a26cd(0x7fb),_0x33e66c[_0x33e66c[_0x4a26cd(0x6fe)]=0x5]=_0x4a26cd(0x6fe),_0x33e66c[_0x33e66c[_0x4a26cd(0xa03)]=0x6]=_0x4a26cd(0xa03),_0x33e66c[_0x33e66c[_0x4a26cd(0x886)]=0x7]=_0x4a26cd(0x886),_0x33e66c[_0x33e66c[_0x4a26cd(0x242)]=0x8]='OptimizationConnectionSuccess';}(_0xba45aa||(_0xba45aa={})),function(_0x4da312){const _0x1cb207=_0x1af94f;_0x4da312[_0x4da312[_0x1cb207(0x15d)]=0x0]='Sender',_0x4da312[_0x4da312[_0x1cb207(0x8db)]=0x1]=_0x1cb207(0x8db);}(_0x37701b||(_0x37701b={})),function(_0x4e718e){const _0x5db00f=_0x1af94f;_0x4e718e[_0x5db00f(0x6ca)]=_0x5db00f(0x1d9);}(_0x5806ff||(_0x5806ff={})),function(_0x20e11d){const _0x2ba0b5=_0x1af94f;_0x20e11d[_0x20e11d[_0x2ba0b5(0x3bb)]=0x0]=_0x2ba0b5(0x3bb),_0x20e11d[_0x20e11d[_0x2ba0b5(0x546)]=0x1]='NodeUpdate',_0x20e11d[_0x20e11d[_0x2ba0b5(0x8e8)]=0x2]=_0x2ba0b5(0x8e8),_0x20e11d[_0x20e11d[_0x2ba0b5(0x18b)]=0x3]=_0x2ba0b5(0x18b);}(_0x4f0fdf||(_0x4f0fdf={})),function(_0x230b0d){const _0x1cc02b=_0x1af94f;_0x230b0d[_0x230b0d[_0x1cc02b(0x821)]=0x0]=_0x1cc02b(0x821),_0x230b0d[_0x230b0d[_0x1cc02b(0x8a0)]=0x1]=_0x1cc02b(0x8a0);}(_0x3a5409||(_0x3a5409={})),function(_0x4a4f9b){const _0x26eebd=_0x1af94f;_0x4a4f9b['Upgrade']=_0x26eebd(0x341),_0x4a4f9b[_0x26eebd(0x9fd)]=_0x26eebd(0x429);}(_0x168519||(_0x168519={})),function(_0x2bc74e){const _0x32914a=_0x1af94f;_0x2bc74e['Resolution']='resolution',_0x2bc74e['Bitrate']=_0x32914a(0x634);}(_0xc8d133||(_0xc8d133={}));const _0x39cb28=require('aws-amplify'),_0xc33333=require('aws-amplify/utils'),_0x1eee18=require('@aws-amplify/api'),_0x780512=require('@aws-amplify/core');class _0x5aa0e8{[_0x1af94f(0x230)];[_0x1af94f(0x658)];[_0x1af94f(0x209)];constructor(_0x57bce1,_0x4d5c1e,_0x20fde0){const _0x4978f8=_0x1af94f;this[_0x4978f8(0x230)]=_0x57bce1,this[_0x4978f8(0x658)]=_0x4d5c1e,this[_0x4978f8(0x209)]=_0x20fde0;}[_0x1af94f(0x403)](){const _0x78eb79=_0x1af94f;return this[_0x78eb79(0x658)]['getId']();}[_0x1af94f(0x56a)](){return this['remoteId'];}}var _0x327890,_0x291d7e,_0x28c078;function _0x5a41e3(_0x375cf9,_0x2ff7e3){const _0x3ff9b6=_0x1af94f;return _0x375cf9[_0x3ff9b6(0x825)]===_0x2ff7e3;}function _0x17df7b(_0x139e0a,_0x2d245f){const _0x2c191f=_0x1af94f;return _0x139e0a[_0x2c191f(0x930)]?.['includes'](_0x2d245f)??function(_0x4a5f2b){return void 0x0===_0x4a5f2b['destinationIds'];}(_0x139e0a);}function _0xa14b59(_0x35d1ae,{contentType:_0x17468f,label:_0x15ff26,remoteId:_0x302357}){return _0x35d1ae+'-'+_0x17468f+'-'+_0x15ff26+'-'+_0x302357;}function _0x2760a4(_0x1b7986,_0x278d9a,_0x1f604d){return''+_0x1b7986+_0x278d9a+_0x1f604d;}function _0x31cc2f(_0x35ea01){const _0x3fd4a3=_0x1af94f;return _0x35ea01===_0x291d7e[_0x3fd4a3(0x768)]?_0x3fd4a3(0x9cd):'OutgoingSubscription';}function _0x3c147a(_0x83ac43,_0x3c8c33){const _0x3edf37=_0x1af94f;return{'label':_0x83ac43[_0x3edf37(0x347)](),'contentType':_0x83ac43['getContentType'](),'remoteId':_0x3c8c33[_0x3edf37(0x56a)](),'supportsContentType':_0x3c8c33[_0x3edf37(0x543)]()[_0x3edf37(0x1ed)](_0x83ac43[_0x3edf37(0x8f7)]())};}!function(_0x568342){const _0x521bad=_0x1af94f;_0x568342[_0x568342[_0x521bad(0x69c)]=0x0]='Waiting',_0x568342[_0x568342[_0x521bad(0x12d)]=0x1]='Accepted',_0x568342[_0x568342[_0x521bad(0x428)]=0x2]=_0x521bad(0x428);}(_0x327890||(_0x327890={})),function(_0x1eba26){const _0x188f74=_0x1af94f;_0x1eba26[_0x188f74(0x768)]='in',_0x1eba26['Outgoing']=_0x188f74(0x8c7);}(_0x291d7e||(_0x291d7e={}));class _0x12526c{[_0x1af94f(0x227)];[_0x1af94f(0x398)];constructor(_0xdcf736,_0x5132cb){const _0x41b684=_0x1af94f;this[_0x41b684(0x227)]=_0xdcf736,this['retryCallback']=_0x5132cb;}[_0x1af94f(0xfa)](_0x461e45){const _0x47ce19=_0x1af94f;this[_0x47ce19(0x227)](_0x461e45);}async['wait'](){const _0x15b9dd=_0x1af94f;await this[_0x15b9dd(0x398)]();}}class _0x55aef8{['callback'];[_0x1af94f(0x398)];constructor(_0x2d759f,_0x4d3e0b){const _0x765921=_0x1af94f;this[_0x765921(0x227)]=_0x2d759f,this[_0x765921(0x398)]=_0x4d3e0b;}async[_0x1af94f(0xfa)](_0x44356a){const _0x20baa5=_0x1af94f;await this[_0x20baa5(0x227)](_0x44356a);}async['wait'](){const _0x294cfc=_0x1af94f;await this[_0x294cfc(0x398)]();}}function _0x514a55(_0x4fbb52=()=>{},_0x301a46=()=>!0x1,_0x142a76=()=>{}){let _0x270002,_0x217cf0,_0x1939fb=0x0;return{get 'size'(){return _0x1939fb;},get 'head'(){return _0x270002;},get 'tail'(){return _0x217cf0;},set 'head'(_0x853f61){_0x270002=_0x853f61;},set 'tail'(_0x19c269){_0x217cf0=_0x19c269;},'push'(_0x5961ca,_0x448d2e=!0x0){const _0x4ad19e=a0_0xaf41,_0x144aa8={'value':_0x5961ca};_0x448d2e&&_0x301a46(_0x144aa8)?_0x4fbb52():(_0x217cf0&&(_0x144aa8[_0x4ad19e(0x6e3)]=_0x217cf0,_0x217cf0[_0x4ad19e(0x122)]=_0x144aa8),_0x217cf0=_0x144aa8,_0x270002||(_0x270002=_0x144aa8),_0x1939fb+=0x1,_0x448d2e&&_0x4fbb52());},'pop'(){const _0x326d67=a0_0xaf41;if(!_0x217cf0)return;const _0x3af39e=_0x217cf0['value'];return _0x217cf0=_0x217cf0[_0x326d67(0x6e3)],_0x217cf0&&delete _0x217cf0[_0x326d67(0x122)],_0x217cf0||(_0x270002=void 0x0),_0x1939fb-=0x1,_0x3af39e;},'unshift'(_0x92a7d5,_0x1b1a1f=!0x0){const _0x3ff255=a0_0xaf41,_0x4d5a7d={'value':_0x92a7d5};_0x1b1a1f&&_0x301a46(_0x4d5a7d)?_0x4fbb52():(_0x270002&&(_0x270002['previous']=_0x4d5a7d,_0x4d5a7d[_0x3ff255(0x122)]=_0x270002),_0x270002=_0x4d5a7d,_0x217cf0||(_0x217cf0=_0x4d5a7d),_0x1939fb+=0x1,_0x1b1a1f&&_0x4fbb52());},'shift'(){const _0x49c68a=a0_0xaf41;if(!_0x270002)return;const _0x58e4ca=_0x270002['value'];return _0x270002=_0x270002['next'],_0x270002&&delete _0x270002[_0x49c68a(0x6e3)],_0x270002||(_0x217cf0=void 0x0),_0x1939fb-=0x1,_0x58e4ca;},'clear'(){_0x142a76(),_0x270002=void 0x0,_0x217cf0=void 0x0,_0x1939fb=0x0;}};}function _0x38e48d(_0x4392a7,_0x19c42d=!0x1,_0x99593a=()=>{},_0x498200=()=>!0x1,_0x319b01=()=>{}){let _0x15a590=!0x1;const _0x387b2a=_0x514a55(async function(){const _0x11212d=a0_0xaf41;if(!_0x15a590){for(_0x15a590=!0x0;_0x387b2a[_0x11212d(0x2fb)];){const _0x1ea3c0=_0x387b2a['shift']();if(_0x1ea3c0)try{_0x4392a7 instanceof _0x12526c&&_0x4392a7['call'](_0x1ea3c0),_0x4392a7 instanceof _0x55aef8&&await _0x4392a7['call'](_0x1ea3c0),_0x99593a(_0x1ea3c0);}catch(_0x2aaef2){_0x19c42d?_0x387b2a[_0x11212d(0x3d6)](_0x1ea3c0,!0x1):_0x387b2a[_0x11212d(0x8f6)](_0x1ea3c0,!0x1),await _0x4392a7['wait']();}}_0x15a590=!0x1;}},_0x498200,_0x319b01);return _0x387b2a;}class _0x169379 extends _0x5aa0e8{['vendorId'];[_0x1af94f(0x589)];[_0x1af94f(0xa37)]=_0x1eee18[_0x1af94f(0x707)]['Disconnected'];[_0x1af94f(0x478)]=_0x34d40a();['messageListeners']=_0x69b7e5();['subscription'];['listenUnsubscriber'];[_0x1af94f(0x385)]=_0x38e48d(new _0x55aef8(this[_0x1af94f(0x66e)]['bind'](this),this[_0x1af94f(0x378)][_0x1af94f(0x136)](this)));[_0x1af94f(0x59b)];constructor(_0x37aa8,_0x5599fb,_0x206c18,_0x79907f,_0x3c0853){const _0x836fdb=_0x1af94f;super(_0x5599fb,_0x206c18,_0x79907f),this['vendorId']=_0x37aa8,this[_0x836fdb(0x589)]=_0x3c0853;}async[_0x1af94f(0x718)](){const _0x384e62=_0x1af94f;try{const _0x428441={'getTokens':async()=>{const _0x18b570=a0_0xaf41,_0x2c72cf=await this[_0x18b570(0x589)][_0x18b570(0x544)]();return{'accessToken':(0x0,_0x780512[_0x18b570(0x904)])(_0x2c72cf),'idToken':(0x0,_0x780512['decodeJWT'])(_0x2c72cf)};}};_0x39cb28[_0x384e62(0x2ab)]['configure']({'API':{'GraphQL':{'endpoint':_0x4f7736['aws']['endpoint'],'region':_0x4f7736[_0x384e62(0x5ec)][_0x384e62(0x4fb)],'defaultAuthMode':_0x384e62(0x68b)}}},{'Auth':{'tokenProvider':_0x428441}});const _0x25a344=(0x0,_0x1eee18['generateClient'])();this[_0x384e62(0x59b)]=_0x25a344,await this[_0x384e62(0x9f2)](),this[_0x384e62(0x8d4)]=_0xc33333[_0x384e62(0xea)][_0x384e62(0x140)](_0x384e62(0x961),async({payload:_0x49ad77})=>{const _0x1f7903=_0x384e62;if(_0x49ad77[_0x1f7903(0x5f9)]===_0x1eee18[_0x1f7903(0x8b3)]){const _0x38346f=_0x49ad77['data'];this[_0x1f7903(0xa37)]=_0x38346f[_0x1f7903(0xa37)],this[_0x1f7903(0x478)][_0x1f7903(0x3ec)](_0x38346f[_0x1f7903(0xa37)]),this[_0x1f7903(0xa37)]===_0x1eee18[_0x1f7903(0x707)][_0x1f7903(0x1b7)]?(_0x5999e0[_0x1f7903(0x883)]('appsync-disconnect',{'clusterId':this[_0x1f7903(0x230)],'nodeId':this[_0x1f7903(0x403)](),'nodeType':this['localNode'][_0x1f7903(0x44f)]}),this[_0x1f7903(0x92f)](),this[_0x1f7903(0x718)]()):this[_0x1f7903(0xa37)]===_0x1eee18[_0x1f7903(0x707)][_0x1f7903(0x4d6)]?_0x5999e0[_0x1f7903(0x949)](_0x1f7903(0xa1b),{'clusterId':this['clusterId'],'nodeId':this[_0x1f7903(0x403)](),'nodeType':this[_0x1f7903(0x658)]['type']}):_0x5999e0[_0x1f7903(0x949)](_0x1f7903(0x566),{'clusterId':this[_0x1f7903(0x230)],'nodeId':this[_0x1f7903(0x403)](),'nodeType':this[_0x1f7903(0x658)]['type'],'data':{'state':_0x38346f[_0x1f7903(0xa37)]}});}});}catch(_0x4ce214){_0x5999e0['error'](_0x384e62(0x8c3),{'clusterId':this['clusterId'],'nodeId':this[_0x384e62(0x403)](),'nodeType':this['localNode'][_0x384e62(0x44f)]});}}[_0x1af94f(0x92f)](){const _0x79b4b5=_0x1af94f;_0x5999e0[_0x79b4b5(0x949)](_0x79b4b5(0x261),{'clusterId':this[_0x79b4b5(0x230)],'nodeId':this[_0x79b4b5(0x403)](),'nodeType':this[_0x79b4b5(0x658)][_0x79b4b5(0x44f)]}),this[_0x79b4b5(0x385)][_0x79b4b5(0xa4f)](),this['listenUnsubscriber']?.(),this[_0x79b4b5(0xa3d)]?.[_0x79b4b5(0x885)](),delete this[_0x79b4b5(0xa3d)];}[_0x1af94f(0x119)](){const _0x3710ad=_0x1af94f;return this[_0x3710ad(0xa37)]===_0x1eee18[_0x3710ad(0x707)][_0x3710ad(0x4d6)];}[_0x1af94f(0x4ef)](_0x48ad57){const _0xc7121b=_0x1af94f;this[_0xc7121b(0x385)][_0xc7121b(0x3d6)](_0x48ad57);}[_0x1af94f(0x83b)](_0x386693){const _0x2e5ee3=_0x1af94f;return this[_0x2e5ee3(0x29a)][_0x2e5ee3(0x9f2)](_0x386693);}[_0x1af94f(0x543)](){const _0x421583=_0x1af94f;return[_0xb0907f[_0x421583(0x178)]['Data']];}async[_0x1af94f(0x378)](){const _0x112f98=_0x1af94f;if(!this[_0x112f98(0x119)]())return new Promise(_0x105cf9=>{const _0x173244=_0x112f98,_0xda613e=this[_0x173244(0x478)][_0x173244(0x9f2)](_0x2ce071=>{const _0x2619e7=_0x173244;_0x2ce071===_0x1eee18[_0x2619e7(0x707)][_0x2619e7(0x4d6)]&&(_0xda613e(),_0x105cf9());});});}async['sendAction'](_0x221336){const _0x1015fb=_0x1af94f;if(this[_0x1015fb(0xa37)]!==_0x1eee18[_0x1015fb(0x707)]['Connected'])throw new Error(_0x1015fb(0x865));_0x221336[_0x1015fb(0x930)]&&0x1===_0x221336[_0x1015fb(0x930)][_0x1015fb(0x71c)]?await this[_0x1015fb(0x3ec)](_0x221336[_0x1015fb(0x930)][0x0],JSON[_0x1015fb(0x656)](_0x221336)):_0x5999e0[_0x1015fb(0x883)](_0x1015fb(0x8f1),{'clusterId':this[_0x1015fb(0x230)],'nodeId':this[_0x1015fb(0x403)](),'nodeType':this[_0x1015fb(0x658)][_0x1015fb(0x44f)]});}async['publish'](_0x207bb6,_0x381b7a){const _0x3eb68a=_0x1af94f;if(!this[_0x3eb68a(0x59b)])throw new Error(_0x3eb68a(0x23b));_0x5999e0[_0x3eb68a(0x15c)](_0x53526a['Signaling'],_0x3eb68a(0x934),this['getLocalId'](),_0x381b7a),await this[_0x3eb68a(0x59b)][_0x3eb68a(0x13e)]({'query':_0x3eb68a(0x760),'variables':{'name':await this[_0x3eb68a(0xa0d)](_0x207bb6),'data':_0x381b7a}});}async['subscribe'](){const _0x5237e4=_0x1af94f;if(this['subscription'])return;if(!this[_0x5237e4(0x59b)])throw new Error(_0x5237e4(0x23b));_0x5999e0[_0x5237e4(0x15c)](_0x53526a[_0x5237e4(0xa3b)],_0x5237e4(0xa19),this['getLocalId']());const _0x5bde05=await this[_0x5237e4(0x59b)]['graphql']({'query':'\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','variables':{'name':await this[_0x5237e4(0xa0d)]()},'authToken':await this['authService']['getIdToken']()},{'Authorization':await this[_0x5237e4(0x589)][_0x5237e4(0x544)]()});this[_0x5237e4(0xa3d)]=_0x5bde05['subscribe']({'next':({data:_0x2fa186})=>{const _0x24213a=_0x5237e4,_0x270b41=JSON[_0x24213a(0x7cd)](_0x2fa186['subscribe'][_0x24213a(0x87a)]);!_0x5a41e3(_0x270b41,this[_0x24213a(0x403)]())&&_0x17df7b(_0x270b41,this[_0x24213a(0x403)]())&&this[_0x24213a(0x29a)][_0x24213a(0x3ec)](_0x270b41);},'error':console[_0x5237e4(0x15c)]});}async['getHash'](_0x408a33){const _0x344f3e=_0x1af94f,_0x1c3590=await crypto[_0x344f3e(0x3db)][_0x344f3e(0x164)](_0x344f3e(0x76f),new TextEncoder()['encode'](this[_0x344f3e(0x90c)]+'-'+this[_0x344f3e(0x230)]+'-'+(_0x408a33??this[_0x344f3e(0x403)]())));return Array[_0x344f3e(0x13b)](new Uint8Array(_0x1c3590))[_0x344f3e(0x7d0)](_0x407fa4=>_0x407fa4[_0x344f3e(0xe5)](0x10)[_0x344f3e(0x743)](0x2,'0'))['join']('');}}!function(_0x2a71bb){const _0x5b7d30=_0x1af94f;_0x2a71bb[_0x2a71bb['Add']=0x0]='Add',_0x2a71bb[_0x2a71bb[_0x5b7d30(0x769)]=0x1]=_0x5b7d30(0x769),_0x2a71bb[_0x2a71bb['Update']=0x2]=_0x5b7d30(0x4fc),_0x2a71bb[_0x2a71bb[_0x5b7d30(0x27f)]=0x3]=_0x5b7d30(0x27f),_0x2a71bb[_0x2a71bb['RemoteRemove']=0x4]='RemoteRemove';}(_0x28c078||(_0x28c078={}));const _0x326790='0',_0x557787=_0x1af94f(0x191),_0x3b98ef=_0x57efb0,_0x5c593c=0x60000;class _0x5bf87b{[_0x1af94f(0x230)];[_0x1af94f(0x658)];['remoteId'];[_0x1af94f(0x4ac)];[_0x1af94f(0x280)];[_0x1af94f(0xa31)];[_0x1af94f(0x138)];[_0x1af94f(0x674)];['currentVersion']=0x1;[_0x1af94f(0x316)];[_0x1af94f(0x583)]=[];[_0x1af94f(0x7d9)]=[];[_0x1af94f(0x332)];constructor(_0x5a3f65,_0xea2035,_0x285a71,_0x4bf17a,_0x47294f,_0x443ec9){const _0x4bdb15=_0x1af94f;this['clusterId']=_0x5a3f65,this[_0x4bdb15(0x658)]=_0xea2035,this['remoteId']=_0x285a71,this[_0x4bdb15(0x4ac)]=_0x4bf17a,this[_0x4bdb15(0x280)]=_0x47294f,this['connectionConstructor']=_0x443ec9,this['connection']=new this[(_0x4bdb15(0xa31))]({'handshakeServers':this[_0x4bdb15(0x4ac)]}),this[_0x4bdb15(0x7ca)]();}[_0x1af94f(0x92f)](){const _0x5a0dbc=_0x1af94f;this[_0x5a0dbc(0x8fb)]();}[_0x1af94f(0x167)](_0x25444c){const _0x1635bd=_0x1af94f;this[_0x1635bd(0x280)]=_0x25444c;}async['handleHandshake'](_0x4cfa27,_0x3d9e27){const _0x3dd1b9=_0x1af94f;if(_0x3d9e27===this[_0x3dd1b9(0x447)])for(const _0x28bc48 of _0x4cfa27){if(!this[_0x3dd1b9(0x138)][_0x3dd1b9(0x13f)])return this['addPendingHandshakeCandidate'](_0x28bc48);try{await this[_0x3dd1b9(0x138)][_0x3dd1b9(0x204)](_0x28bc48);}catch(_0x38bc94){this[_0x3dd1b9(0x731)](_0x28bc48);}}}[_0x1af94f(0x119)](){const _0x34dd0b=_0x1af94f;return this['logConnectionState'](),_0x34dd0b(0x640)===this[_0x34dd0b(0x138)][_0x34dd0b(0xa37)]&&[_0x34dd0b(0x640),_0x34dd0b(0x69f)]['includes'](this[_0x34dd0b(0x138)]['handshakeState'])&&_0x34dd0b(0x7ee)!==this['connection'][_0x34dd0b(0x36b)]&&_0x34dd0b(0x2de)===this[_0x34dd0b(0x674)]?.[_0x34dd0b(0x7f3)];}[_0x1af94f(0x412)](_0x3579fa){const _0x58044c=_0x1af94f;this[_0x58044c(0x316)]=_0x3579fa;}[_0x1af94f(0x466)](){const _0x2924b4=_0x1af94f;delete this[_0x2924b4(0x316)];}['resetConnection'](_0x36b18e){const _0x285898=_0x1af94f;this['stopConnection'](),this[_0x285898(0x138)]=new this[(_0x285898(0xa31))]({'handshakeServers':this[_0x285898(0x4ac)]}),_0x36b18e?this[_0x285898(0x447)]=_0x36b18e:this[_0x285898(0x447)]+=0x1,this['setupConnectionEvents']();}[_0x1af94f(0x7db)](){const _0x1c5a88=_0x1af94f;this[_0x1c5a88(0x7d9)][_0x1c5a88(0x333)](_0x134c76=>{const _0xd237eb=_0x1c5a88;try{this[_0xd237eb(0x138)][_0xd237eb(0x204)](_0x134c76);}catch(_0x319a55){}}),this['pendingHandshakeCandidates']=[];}[_0x1af94f(0x7b1)](_0xea8fe3,_0x13f060){const _0x1d2a91=_0x1af94f;if(!this[_0x1d2a91(0x316)])throw new _0x3c8547(_0x3c8547[_0x1d2a91(0x700)]['MissingSystemTopic'],{'content':_0xea8fe3});const _0x59359d={'sourceId':this[_0x1d2a91(0x658)][_0x1d2a91(0x8f3)](),'destinationIds':[this['remoteId']],'propagate':this[_0x1d2a91(0x280)]!==_0x852eca['Core'],'retry':this[_0x1d2a91(0x280)]!==_0x852eca[_0x1d2a91(0x9e1)],'messageType':_0x502914[_0x1d2a91(0xa06)],'content':_0xea8fe3};_0x13f060&&(_0x59359d['uuid']=_0x13f060),this[_0x1d2a91(0x316)][_0x1d2a91(0x3ec)](_0x59359d);}[_0x1af94f(0x7ca)](){const _0xe09bc8=_0x1af94f;this['connection'][_0xe09bc8(0xa1d)]=()=>{const _0x1b5939=_0xe09bc8;'complete'===this['connection'][_0x1b5939(0x86a)]&&this[_0x1b5939(0x583)]['length']>0x0&&(this['handshakeDebounce']&&clearTimeout(this[_0x1b5939(0x332)]),this[_0x1b5939(0x332)]=setTimeout(()=>{const _0x55679e=_0x1b5939;delete this['handshakeDebounce'],this[_0x55679e(0x4f9)](),this['handshakeCandidates']=[];},0x1f4));},this[_0xe09bc8(0x138)]['onCandidate']=_0x550a82=>{const _0x91ef44=_0xe09bc8;_0x550a82[_0x91ef44(0x896)]&&this[_0x91ef44(0x583)][_0x91ef44(0x3d6)](_0x550a82[_0x91ef44(0x896)]);};}['stopConnection'](){const _0x3e3e8a=_0x1af94f;clearTimeout(this[_0x3e3e8a(0x332)]),delete this[_0x3e3e8a(0x332)],this[_0x3e3e8a(0x583)]=[],this['pendingHandshakeCandidates']=[],this[_0x3e3e8a(0x674)]&&(this['dataChannel'][_0x3e3e8a(0x83b)]=null,this[_0x3e3e8a(0x674)][_0x3e3e8a(0x456)]=null,this[_0x3e3e8a(0x674)]['close'](),delete this['dataChannel']),this['connection'][_0x3e3e8a(0xa1d)]=null,this['connection'][_0x3e3e8a(0x665)]=null,this['connection'][_0x3e3e8a(0x58b)]=null,this[_0x3e3e8a(0x138)][_0x3e3e8a(0xa0f)]=null,this[_0x3e3e8a(0x138)][_0x3e3e8a(0x5d6)]=null,this[_0x3e3e8a(0x138)][_0x3e3e8a(0x5ce)]=null,this[_0x3e3e8a(0x138)][_0x3e3e8a(0x92f)]();}[_0x1af94f(0x731)](_0x2f7ee9){const _0xdc703f=_0x1af94f;this['pendingHandshakeCandidates'][_0xdc703f(0x3d6)](_0x2f7ee9);}[_0x1af94f(0x3d2)](){const _0x55d2c8=_0x1af94f;_0x5999e0[_0x55d2c8(0x15c)](_0x53526a[_0x55d2c8(0x707)],'Base\x20Peer\x20Connection',{'localId':this['localNode'][_0x55d2c8(0x8f3)](),'remoteId':this[_0x55d2c8(0x209)],'connectionState':this['connection']['connectionState'],'handshakeState':this['connection'][_0x55d2c8(0x631)],'signalingState':this[_0x55d2c8(0x138)][_0x55d2c8(0x36b)],'dataChannelState':this[_0x55d2c8(0x674)]?.[_0x55d2c8(0x7f3)]});}}function _0x4f9e49(_0xad356a,_0x3c72a9){const _0x354517=_0x1af94f;_0x3c72a9[_0x354517(0x3ec)]({'sourceId':_0x50bf9f,'messageType':_0x502914[_0x354517(0xa06)],'content':_0xad356a});}class _0x3f61ab{static [_0x1af94f(0x8ab)];[_0x1af94f(0x224)]=[];['source'];constructor(){setInterval(()=>{const _0x42252b=a0_0xaf41;this[_0x42252b(0x224)]['forEach'](_0x308982=>{const _0x2ec5a7=_0x42252b;if(Date[_0x2ec5a7(0x1f3)]()-_0x308982[_0x2ec5a7(0x72e)]>_0x308982[_0x2ec5a7(0x8dd)]){try{_0x308982[_0x2ec5a7(0x227)]();}catch(_0xa57075){}_0x308982[_0x2ec5a7(0x72e)]=Date[_0x2ec5a7(0x1f3)]();}});},0x64);}static['getInstance'](){const _0x19be41=_0x1af94f;return _0x3f61ab['instance']||(_0x3f61ab[_0x19be41(0x8ab)]=new _0x3f61ab()),_0x3f61ab[_0x19be41(0x8ab)];}[_0x1af94f(0x815)](_0x4b805d){const _0x41be91=_0x1af94f,_0x1b5870=this[_0x41be91(0x75a)](_0x4b805d),_0x360237=_0x4b805d[_0x41be91(0xa54)]();_0x360237&&_0x1b5870&&(_0x360237[_0x41be91(0x996)][_0x41be91(0x73e)]=0.001,_0x1b5870[_0x41be91(0x718)](_0x360237),_0x360237['connect'](_0x4b805d[_0x41be91(0x7c4)]),_0x1b5870[_0x41be91(0x46d)]());}[_0x1af94f(0x411)](){const _0x578493=_0x1af94f;this['source']&&(this[_0x578493(0x513)][_0x578493(0x436)](),this[_0x578493(0x513)][_0x578493(0x311)](),this[_0x578493(0x513)]=void 0x0);}[_0x1af94f(0xa2b)](_0x2344f5){return new Promise(_0x42e3a5=>{setTimeout(_0x42e3a5,_0x2344f5);});}['setInterval'](_0x56dfa3,_0x55addb){const _0xb72ddf=_0x1af94f;return this['parameters'][_0xb72ddf(0x3d6)]({'callback':_0x56dfa3,'interval':_0x55addb,'lastExecuted':Date[_0xb72ddf(0x1f3)]()}),()=>{const _0x41f468=_0xb72ddf;this['parameters']=this[_0x41f468(0x224)][_0x41f468(0x7e0)](_0x42e94a=>_0x42e94a[_0x41f468(0x227)]!==_0x56dfa3);};}['createConstantSource'](_0x1d501f){const _0x18d503=_0x1af94f;if(_0x1d501f[_0x18d503(0x75a)])return _0x1d501f['createConstantSource']();const _0x50b0d5=_0x1d501f[_0x18d503(0x391)](),_0x4b30aa=_0x1d501f[_0x18d503(0x1fd)](0x1,0x1,_0x1d501f[_0x18d503(0x947)]);return _0x4b30aa[_0x18d503(0x352)](0x0)[0x0]=0xa,_0x50b0d5[_0x18d503(0x87b)]=_0x4b30aa,_0x50b0d5[_0x18d503(0x5b2)]=!0x0,_0x50b0d5;}}const _0xdf6e0c=_0x3f61ab[_0x1af94f(0x6b0)]();class _0x52eb74 extends _0x5bf87b{[_0x1af94f(0x145)]=_0x34d40a();[_0x1af94f(0x203)]=_0x34d40a();[_0x1af94f(0x97d)]=_0x34d40a();['receivers']=new Map();[_0x1af94f(0x7dc)]=new Map();['waitSuccess'];[_0x1af94f(0x9c7)]=0x0;['systemMessagesReceived']={'messages':{'total':0x0}};['bytesReceived']=0x0;[_0x1af94f(0x2c8)]=0x0;['loggingCycle']=_0x549516(_0x1af94f(0x758),_0x53526a['ReceiverOnMessage']);[_0x1af94f(0x92f)](){const _0x1815eb=_0x1af94f;this[_0x1815eb(0x24b)](),this['receivers'][_0x1815eb(0xa4f)](),super['close']();}async['handleOffer'](_0x33493b,_0x49db23){const _0x23a65a=_0x1af94f;this[_0x23a65a(0x447)]=_0x49db23,this[_0x23a65a(0x24b)]();const _0x2f8dca=await this[_0x23a65a(0x138)][_0x23a65a(0x28f)](_0x33493b);this['processPendingHandshakeCandidates']();const _0x14fe83=(0x0,_0x2a820b['v4'])();this[_0x23a65a(0x7b1)]({'type':_0xba45aa[_0x23a65a(0x73c)],'answer':_0x2f8dca,'version':_0x49db23,'connectionType':this[_0x23a65a(0x280)]},_0x14fe83),this[_0x23a65a(0x280)]===_0x852eca[_0x23a65a(0x9e1)]&&(this[_0x23a65a(0x4b8)]=_0xdf6e0c[_0x23a65a(0x1ea)](()=>{const _0x5c95c3=_0x23a65a;this[_0x5c95c3(0x7b1)]({'type':_0xba45aa[_0x5c95c3(0x73c)],'answer':_0x2f8dca,'version':_0x49db23,'connectionType':this[_0x5c95c3(0x280)]},_0x14fe83);},0x1388));}['handleSuccess'](){const _0x23e6ca=_0x1af94f;this[_0x23e6ca(0x24b)]();}[_0x1af94f(0x30c)](_0x4195e8){const _0x5c9496=_0x1af94f;this[_0x5c9496(0x290)](_0x4195e8),this['publishSystemMessage']({'type':_0xba45aa[_0x5c9496(0x6fe)]});}async[_0x1af94f(0x66f)](){const _0x2324e2=_0x1af94f;this[_0x2324e2(0x316)]&&(await this[_0x2324e2(0x138)]['collectReceiversStats'](this[_0x2324e2(0x442)],(_0x5ddd02,_0x1fa23f)=>{const _0x4db198=_0x2324e2;_0x4f9e49({'type':_0xba45aa[_0x4db198(0x886)],'streamId':_0x1fa23f,'nodeId':this[_0x4db198(0x209)],'stats':_0x5ddd02},this['systemTopic']);}),this['systemTopic'][_0x2324e2(0x3ec)]({'sourceId':_0x50bf9f,'messageType':_0x502914[_0x2324e2(0xa06)],'content':{'type':_0xba45aa['Stats'],'nodeId':this['remoteId'],'stats':{'origin':_0x37701b[_0x2324e2(0x8db)],'timestamp':Date[_0x2324e2(0x1f3)](),'messagesReceived':this[_0x2324e2(0x9c7)],'bytesReceived':this[_0x2324e2(0x7b6)],'timeReceiving':this[_0x2324e2(0x2c8)],'systemMessages':this[_0x2324e2(0x52c)]}}}));}['onMessage'](_0x27876d){const _0xe0ba79=_0x1af94f;return _0x4f7736[_0xe0ba79(0x4a1)]?this[_0xe0ba79(0x145)][_0xe0ba79(0x9f2)](_0x27876d):this['messageCallback'][_0xe0ba79(0x9f2)](_0x113521=>{const _0x1e2091=_0xe0ba79;0x0===_0x113521[_0x1e2091(0x489)]&&_0x113521[_0x1e2091(0x3fb)]===_0x502914[_0x1e2091(0x54e)]&&this[_0x1e2091(0x56b)][_0x1e2091(0x59f)][_0x1e2091(0x15c)](_0x1e2091(0x775)+this[_0x1e2091(0x209)],()=>_0x1b9581(_0x113521)),_0x27876d(_0x113521);});}[_0x1af94f(0x5d6)](_0x2baebf){const _0x8b45e4=_0x1af94f;return this[_0x8b45e4(0x203)][_0x8b45e4(0x9f2)](({track:_0x25256d,stream:_0x108d38})=>_0x2baebf(_0x25256d,_0x108d38));}['onRemoveTrack'](_0x54d1e3){const _0x1b84c9=_0x1af94f;return this[_0x1b84c9(0x97d)]['subscribe'](({track:_0x36645a,stream:_0x337147})=>_0x54d1e3(_0x36645a,_0x337147));}[_0x1af94f(0x290)](_0x350b70){const _0x51bec9=_0x1af94f;this['clearWaitSuccess'](),this[_0x51bec9(0x442)][_0x51bec9(0x333)](_0xeca3e5=>{_0xeca3e5['clear']();}),super[_0x51bec9(0x290)](_0x350b70);}[_0x1af94f(0x4f9)](){const _0xfbe843=_0x1af94f;this[_0xfbe843(0x7b1)]({'type':_0xba45aa[_0xfbe843(0x93d)],'candidates':this[_0xfbe843(0x583)],'origin':_0x37701b[_0xfbe843(0x8db)],'version':this['currentVersion'],'connectionType':this['connectionType']});}[_0x1af94f(0x7ca)](){const _0x5159dc=_0x1af94f;super[_0x5159dc(0x7ca)](),this['connection'][_0x5159dc(0x5d6)]=_0x3e1d47=>{const _0x55e6be=_0x5159dc;_0x5999e0[_0x55e6be(0x15c)](_0x53526a[_0x55e6be(0x3b3)],_0x55e6be(0x125),this[_0x55e6be(0x658)][_0x55e6be(0x8f3)](),_0x3e1d47),_0x3e1d47[_0x55e6be(0x915)][0x0][_0x55e6be(0x509)]=_0x3423b6=>{const _0x1b279b=_0x55e6be;this[_0x1b279b(0x442)][_0x1b279b(0x70a)](_0x3e1d47[_0x1b279b(0x915)][0x0]['id'])?.[_0x1b279b(0x8e1)](_0x3423b6[_0x1b279b(0x847)]),0x0===this[_0x1b279b(0x442)]['get'](_0x3e1d47['streams'][0x0]['id'])?.[_0x1b279b(0xa20)]&&this['receivers'][_0x1b279b(0x8e1)](_0x3e1d47['streams'][0x0]['id']),this['removeTrackCallback'][_0x1b279b(0x3ec)]({'track':_0x3423b6[_0x1b279b(0x847)],'stream':_0x3e1d47[_0x1b279b(0x915)][0x0]});},this['receivers'][_0x55e6be(0x907)](_0x3e1d47[_0x55e6be(0x915)][0x0]['id'])||this[_0x55e6be(0x442)][_0x55e6be(0x81a)](_0x3e1d47['streams'][0x0]['id'],new Set()),this[_0x55e6be(0x442)]['get'](_0x3e1d47[_0x55e6be(0x915)][0x0]['id'])['add'](_0x3e1d47[_0x55e6be(0x847)]),this[_0x55e6be(0x203)][_0x55e6be(0x3ec)]({'track':_0x3e1d47[_0x55e6be(0x847)],'stream':_0x3e1d47[_0x55e6be(0x915)][0x0]});},this[_0x5159dc(0x138)][_0x5159dc(0x5ce)]=_0x1b59eb=>{const _0x5a53e0=_0x5159dc;this[_0x5a53e0(0x674)]=_0x1b59eb[_0x5a53e0(0x9ce)],this[_0x5a53e0(0x674)][_0x5a53e0(0x83b)]=_0x375600=>{const _0x56689a=_0x5a53e0;if(_0x375600[_0x56689a(0x87a)]!==_0x326790)this[_0x56689a(0x6eb)](_0x375600['data']);else{if(!this[_0x56689a(0x674)])return void _0x5999e0[_0x56689a(0x883)](_0x56689a(0x3e7),{'clusterId':this[_0x56689a(0x230)],'nodeId':this['localNode'][_0x56689a(0x8f3)](),'nodeType':this[_0x56689a(0x658)][_0x56689a(0x44f)],'remoteId':this[_0x56689a(0x209)],'data':{'connection':_0x56689a(0x889)}});if('open'!==this[_0x56689a(0x674)]['state'])return;this['dataChannel'][_0x56689a(0x4ef)]('1');}};};}[_0x1af94f(0x6eb)](_0x32504b){const _0x1faf18=_0x1af94f;if('string'==typeof _0x32504b&&_0x32504b[_0x1faf18(0x4f2)](_0x557787))return this[_0x1faf18(0x9c7)]+=0x1,this[_0x1faf18(0x7b6)]+=_0x32504b['length'],this[_0x1faf18(0x803)](_0x32504b);setTimeout(()=>{const _0xaa1ada=_0x1faf18,_0x390b4c=Date[_0xaa1ada(0x1f3)]();let _0xe2f6f;if((_0x32504b instanceof ArrayBuffer||_0x32504b['length']<=_0x3b98ef)&&(this['messagesReceived']+=0x1,this[_0xaa1ada(0x7b6)]+=_0x32504b instanceof ArrayBuffer?_0x32504b[_0xaa1ada(0x486)]:_0x32504b[_0xaa1ada(0x71c)]),_0x32504b instanceof ArrayBuffer){const [_0x555132,_0x2ace4e]=this[_0xaa1ada(0x602)](_0x32504b);_0xe2f6f=_0x555132,_0xe2f6f[_0xaa1ada(0x3fe)][_0xaa1ada(0x87a)]=_0x2ace4e;}else _0xe2f6f=JSON[_0xaa1ada(0x7cd)](_0x32504b);if(0x0===_0xe2f6f[_0xaa1ada(0x489)]){this[_0xaa1ada(0x52c)][_0xaa1ada(0x243)][_0xaa1ada(0x53f)]+=0x1;const {systemMessageType:_0x428bf7,systemContentMessageType:_0x4e2049}=_0x1b9581(_0xe2f6f);this[_0xaa1ada(0x52c)][_0x428bf7]||(this['systemMessagesReceived'][_0x428bf7]={[_0x4e2049]:0x0}),this['systemMessagesReceived'][_0x428bf7][_0x4e2049]||(this[_0xaa1ada(0x52c)][_0x428bf7][_0x4e2049]=0x0),this[_0xaa1ada(0x52c)][_0x428bf7][_0xaa1ada(0x53f)]||(this['systemMessagesReceived'][_0x428bf7]['total']=0x0),this[_0xaa1ada(0x52c)][_0x428bf7][_0x4e2049]+=0x1,this['systemMessagesReceived'][_0x428bf7][_0xaa1ada(0x53f)]+=0x1;}this[_0xaa1ada(0x145)][_0xaa1ada(0x3ec)](_0xe2f6f),this[_0xaa1ada(0x2c8)]+=Date[_0xaa1ada(0x1f3)]()-_0x390b4c;},0x0);}['handleChunkMessage'](_0x37f150){const _0x332051=_0x1af94f,_0x1d0d37=_0x37f150[_0x332051(0x7c6)](';'),_0x3b78c0=_0x1d0d37[0x1],_0x3c61a5=parseInt(_0x1d0d37[0x2],0xa),_0x37b11b=parseInt(_0x1d0d37[0x3],0xa),_0x3c4106=_0x37f150[_0x332051(0x78e)](_0x557787+';'+_0x3b78c0+';'+_0x3c61a5+';'+_0x37b11b+';','');this[_0x332051(0x7dc)][_0x332051(0x907)](_0x3b78c0)||this['chunks'][_0x332051(0x81a)](_0x3b78c0,[]);const _0x71d9eb=this['chunks'][_0x332051(0x70a)](_0x3b78c0);_0x71d9eb[_0x3c61a5]=_0x3c4106,_0x71d9eb[_0x332051(0x71c)]===_0x37b11b&&(this[_0x332051(0x6eb)](_0x71d9eb[_0x332051(0x7f4)]('')),this[_0x332051(0x7dc)][_0x332051(0x8e1)](_0x3b78c0));}[_0x1af94f(0x24b)](){const _0x455b2e=_0x1af94f;this['waitSuccess']?.(),delete this[_0x455b2e(0x4b8)];}[_0x1af94f(0x10c)](_0x25be1f){const _0x4e2210=_0x1af94f,_0xf9db12=new TextDecoder()[_0x4e2210(0x34f)](_0x25be1f);return JSON[_0x4e2210(0x7cd)](_0xf9db12);}[_0x1af94f(0x602)](_0xe9826a){const _0x289075=_0x1af94f,_0x2074c=new Uint8Array(_0xe9826a[_0x289075(0x97e)](0x0,0x4)),_0x54bded=new Uint32Array(_0x2074c[_0x289075(0x87b)])[0x0],_0x31fa16=new Uint8Array(_0xe9826a[_0x289075(0x97e)](0x4,0x4+_0x54bded)),_0x52e76c=new Uint8Array(_0xe9826a[_0x289075(0x97e)](0x4+_0x54bded));return[this['arrayBufferToObject'](_0x31fa16[_0x289075(0x87b)]),_0x52e76c[_0x289075(0x87b)]];}}const _0x24e0fa=0xc350;var _0xe4db21,_0x5f1baf;!function(_0x793fc9){const _0x2fc173=_0x1af94f;_0x793fc9[_0x793fc9[_0x2fc173(0x7bc)]=0x0]=_0x2fc173(0x7bc),_0x793fc9[_0x793fc9[_0x2fc173(0x759)]=0x1]=_0x2fc173(0x759),_0x793fc9[_0x793fc9[_0x2fc173(0x270)]=0x2]=_0x2fc173(0x270);}(_0xe4db21||(_0xe4db21={}));class _0x4a56d4 extends _0x5bf87b{[_0x1af94f(0xa02)];[_0x1af94f(0x6d4)];['senders']=new Map();[_0x1af94f(0x75f)];[_0x1af94f(0x50e)];[_0x1af94f(0x470)];[_0x1af94f(0x622)]=!0x1;['connectionTimeout'];[_0x1af94f(0x4b2)];[_0x1af94f(0x207)];[_0x1af94f(0x385)]=function(e,t=_0xe4db21,s=!0x1){const _0x1c9494=_0x1af94f;let n=!0x1;const i=[];async function o(){const _0x497ba6=a0_0xaf41;if(!n){for(n=!0x0;i[_0x497ba6(0xa33)](e=>e[_0x497ba6(0x2fb)]);){let t,n=0x0;for(const [e,s]of i[_0x497ba6(0xa3a)]())if(t=s[_0x497ba6(0x396)](),n=e,t)break;if(t)try{if(e instanceof _0x12526c&&e[_0x497ba6(0xfa)](t),e instanceof _0x55aef8&&await e[_0x497ba6(0xfa)](t),i['slice'](-0x1)[_0x497ba6(0xa33)](e=>e['head']))continue;const s=i[_0x497ba6(0x71c)]-0x1;n===s&&i[s]['head']&&await _0xdf6e0c['wait'](0x0);}catch(o){s?i[n][_0x497ba6(0x3d6)](t,!0x1):i[n][_0x497ba6(0x8f6)](t,!0x1),await e[_0x497ba6(0xa2b)]();}}n=!0x1;}}return Object[_0x1c9494(0x7e5)](t)[_0x1c9494(0x333)](e=>{'string'!=typeof e&&(i[e]=_0x514a55(o));}),{'queues':i};}(new _0x12526c(this['sendAction'][_0x1af94f(0x136)](this),this[_0x1af94f(0x3b1)][_0x1af94f(0x136)](this)));[_0x1af94f(0x7a2)]=0x0;[_0x1af94f(0x525)]=0x0;[_0x1af94f(0x80a)]=0x0;[_0x1af94f(0x9ea)]=0x0;[_0x1af94f(0x7e9)];[_0x1af94f(0x56b)]=_0x549516(_0x1af94f(0x8e3),_0x53526a['SenderSendMessage']);constructor(_0xefc684,_0x157579,_0x3c2ed2,_0x51bb7f,_0x4a329e,_0xdb9f53,_0x34abea,_0x40a3c5){const _0x3b868c=_0x1af94f;super(_0xefc684,_0x157579,_0x3c2ed2,_0x51bb7f,_0x4a329e,_0x40a3c5),this[_0x3b868c(0xa02)]=_0xdb9f53,this[_0x3b868c(0x6d4)]=_0x34abea;}['close'](){const _0x3552f7=_0x1af94f;this[_0x3552f7(0x365)](),this[_0x3552f7(0x7a5)](),delete this[_0x3552f7(0x470)],this['clearRestartTimeout'](),this[_0x3552f7(0x3e1)](),this[_0x3552f7(0x643)](),this[_0x3552f7(0x565)][_0x3552f7(0xa4f)](),this[_0x3552f7(0x622)]=!0x1,this['retryQueue'][_0x3552f7(0x6d9)][_0x3552f7(0x333)](_0x80f6bd=>_0x80f6bd['clear']()),this[_0x3552f7(0x47f)](),super[_0x3552f7(0x92f)]();}[_0x1af94f(0x119)](){const _0x26f035=_0x1af94f;return!!this[_0x26f035(0x470)]&&super[_0x26f035(0x119)]()&&Date[_0x26f035(0x1f3)]()-this[_0x26f035(0x470)]<0x3a98;}async['collectStats'](){const _0xbee9a5=_0x1af94f;this[_0xbee9a5(0x316)]&&(await this[_0xbee9a5(0x138)][_0xbee9a5(0x4df)](this['senders'],(_0x486df7,_0x7f221d)=>{const _0x460af4=_0xbee9a5;_0x4f9e49({'type':_0xba45aa['Stats'],'streamId':_0x7f221d,'nodeId':this['remoteId'],'stats':_0x486df7},this[_0x460af4(0x316)]);}),this[_0xbee9a5(0x316)][_0xbee9a5(0x3ec)]({'sourceId':_0x50bf9f,'messageType':_0x502914[_0xbee9a5(0xa06)],'content':{'type':_0xba45aa[_0xbee9a5(0x886)],'nodeId':this[_0xbee9a5(0x209)],'stats':{'origin':_0x37701b[_0xbee9a5(0x15d)],'timestamp':Date['now'](),'messagesSent':this[_0xbee9a5(0x7a2)],'bytesSent':this[_0xbee9a5(0x525)],'timeSending':this['timeSending'],'roundTripTime':this[_0xbee9a5(0x9ea)]}}}));}async['createOffer'](_0xf49d76){const _0x50c164=_0x1af94f;_0x5999e0[_0x50c164(0x15c)](_0x53526a[_0x50c164(0x3b3)],_0x50c164(0x351),this['localNode'][_0x50c164(0x8f3)](),this[_0x50c164(0x209)]),this[_0x50c164(0x40e)](),this[_0x50c164(0x3e1)](),this[_0x50c164(0x643)](),this[_0x50c164(0x603)]=setTimeout(()=>{this['handleDisconnect']();},0x7530),this[_0x50c164(0x674)]||(this[_0x50c164(0x674)]=this[_0x50c164(0x138)]['createDataChannel'](_0x50c164(0x87a)),this[_0x50c164(0x674)]['bufferedAmountLowThreshold']=_0x5c593c,this[_0x50c164(0x674)]['onClose']=()=>{this['oncloseTimeout']=setTimeout(()=>{const _0x4443a3=a0_0xaf41;delete this[_0x4443a3(0x7e9)],[_0x4443a3(0x43b),'open']['includes'](this[_0x4443a3(0x674)]?.[_0x4443a3(0x7f3)]??'')||this['handleDisconnect']();},0xfa);});const _0x2b3b31=await this['connection'][_0x50c164(0xf2)](_0xf49d76);this[_0x50c164(0x470)]||(this[_0x50c164(0x470)]=Date[_0x50c164(0x1f3)]());const _0x574fdf=(0x0,_0x2a820b['v4'])();this[_0x50c164(0x7b1)]({'type':_0xba45aa[_0x50c164(0x5ad)],'offer':_0x2b3b31,'version':this[_0x50c164(0x447)],'connectionType':this[_0x50c164(0x280)]},_0x574fdf),this[_0x50c164(0x280)]===_0x852eca[_0x50c164(0x9e1)]&&(this[_0x50c164(0x50e)]=_0xdf6e0c[_0x50c164(0x1ea)](()=>{const _0x1ae4a7=_0x50c164;this[_0x1ae4a7(0x7b1)]({'type':_0xba45aa[_0x1ae4a7(0x5ad)],'offer':_0x2b3b31,'version':this[_0x1ae4a7(0x447)],'connectionType':this[_0x1ae4a7(0x280)]},_0x574fdf);},0x1388));}async[_0x1af94f(0x2d1)](_0x406e40,_0xc7406d){const _0x4ebb76=_0x1af94f;if(_0xc7406d===this[_0x4ebb76(0x447)]){this['clearWaitAnswer']();try{await this['connection'][_0x4ebb76(0x2d1)](_0x406e40,this[_0x4ebb76(0xf2)][_0x4ebb76(0x136)](this)),this[_0x4ebb76(0x7db)](),this[_0x4ebb76(0x3e1)](),this[_0x4ebb76(0x881)]();}catch(_0x2bbf4f){this['handleDisconnect']();}}}['send'](_0x5817b2){const _0x3209a6=_0x1af94f;if(!this[_0x3209a6(0x674)])throw new _0x3c8547(_0x3c8547[_0x3209a6(0x700)]['InvalidDataChannel'],{'message':'DataChannel\x20is\x20not\x20initialized.','localId':this[_0x3209a6(0x658)][_0x3209a6(0x8f3)](),'remoteId':this[_0x3209a6(0x209)],'eventMessage':_0x5817b2});if('open'!==this[_0x3209a6(0x674)]['state'])throw new _0x3c8547(_0x3c8547[_0x3209a6(0x700)][_0x3209a6(0x2ca)],{'message':_0x3209a6(0x51e),'localId':this[_0x3209a6(0x658)][_0x3209a6(0x8f3)](),'remoteId':this[_0x3209a6(0x209)],'eventMessage':_0x5817b2});let _0x232064;if(_0x5817b2['content'][_0x3209a6(0x87a)]instanceof ArrayBuffer){const _0x153c95=_0x5817b2['content'][_0x3209a6(0x87a)];_0x5817b2={..._0x5817b2,'content':{..._0x5817b2['content'],'data':void 0x0}},_0x232064=this[_0x3209a6(0x789)](_0x5817b2,_0x153c95);}else _0x232064=JSON[_0x3209a6(0x656)](_0x5817b2);if(_0x3209a6(0x4e9)==typeof _0x232064&&_0x232064[_0x3209a6(0x71c)]>_0x3b98ef)return void this[_0x3209a6(0x8ba)](_0x5817b2,_0x232064);0x0===_0x5817b2[_0x3209a6(0x489)]&&_0x5817b2[_0x3209a6(0x3fb)]===_0x502914[_0x3209a6(0x54e)]&&this[_0x3209a6(0x56b)][_0x3209a6(0x59f)][_0x3209a6(0x82b)](()=>_0x5999e0[_0x3209a6(0x15c)](_0x53526a[_0x3209a6(0x3e0)],'SenderPeerConnection\x20send',this[_0x3209a6(0x209)],_0x1b9581(_0x5817b2)),void 0x0);const _0x532e85=0x0===_0x5817b2[_0x3209a6(0x489)]&&[_0x502914[_0x3209a6(0x62c)],_0x502914[_0x3209a6(0xa06)]][_0x3209a6(0x1ed)](_0x5817b2[_0x3209a6(0x3fb)])?_0xe4db21[_0x3209a6(0x7bc)]:_0x5817b2 instanceof ArrayBuffer?_0xe4db21[_0x3209a6(0x270)]:_0xe4db21[_0x3209a6(0x759)];this[_0x3209a6(0x12a)](_0x232064,_0x532e85);}[_0x1af94f(0x55e)](_0x241516,_0x54a2a8,_0xd47e60,_0x401f4e){const _0x477901=_0x1af94f,_0x3c2010=(_0x2e5285=this[_0x477901(0xa02)],_0xd7f67a=this['maxBpp'],Math[_0x477901(0x444)](0xe1000*_0x2e5285*_0xd7f67a));var _0x2e5285,_0xd7f67a;const _0x4bf596=this['senders']['get'](_0x54a2a8['id'])||{'stream':_0x54a2a8,'priority':_0xd47e60,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x3c2010,'maxBitrate':_0x3c2010,'framerate':this['maxFps'],'maxFramerate':this[_0x477901(0xa02)],'tracks':{},'params':_0x401f4e},_0x5ad4cd=_0x4bf596[_0x477901(0x432)][_0x241516[_0x477901(0x832)]]||{'track':_0x241516};if(_0x5ad4cd['sender']?(_0x5ad4cd[_0x477901(0x847)]=_0x241516,this[_0x477901(0x138)][_0x477901(0x11b)](_0x241516,_0x5ad4cd[_0x477901(0xa07)])):_0x5ad4cd['sender']=this[_0x477901(0x138)][_0x477901(0x55e)](_0x241516,_0x54a2a8),_0x4bf596[_0x477901(0x432)][_0x241516['kind']]=_0x5ad4cd,_0x401f4e&&(_0x4bf596[_0x477901(0x63c)]=_0x401f4e),_0x401f4e&&'video'===_0x401f4e[_0x477901(0x832)]&&_0x401f4e[_0x477901(0x613)]&&_0x401f4e[_0x477901(0x906)]&&(_0x4bf596[_0x477901(0x595)]=this['getResolutionScale'](_0x401f4e['resolution'],_0x401f4e[_0x477901(0x906)]),_0x4bf596[_0x477901(0x9f8)]=_0x4bf596[_0x477901(0x595)],_0x4bf596[_0x477901(0x432)]['video']&&_0x4bf596[_0x477901(0x432)]['video'][_0x477901(0xa07)])){const _0x354c22=_0x4bf596['tracks'][_0x477901(0x228)][_0x477901(0xa07)];this[_0x477901(0x138)][_0x477901(0x7d1)](_0x354c22,Math[_0x477901(0x444)](0xa*_0x4bf596[_0x477901(0x595)])/0xa,_0x4bf596[_0x477901(0x536)],_0x4bf596[_0x477901(0x634)],_0x4bf596['priority']);}this[_0x477901(0x565)][_0x477901(0x81a)](_0x54a2a8['id'],_0x4bf596);}[_0x1af94f(0x5bc)](_0x1cb135,_0x117cb){const _0x2559df=_0x1af94f,_0x3ba2d6=this[_0x2559df(0x565)][_0x2559df(0x70a)](_0x1cb135['id']);if(_0x3ba2d6&&_0x3ba2d6[_0x2559df(0x66a)]!==_0x117cb&&(_0x3ba2d6[_0x2559df(0x66a)]=_0x117cb,_0x3ba2d6['tracks'][_0x2559df(0x228)]&&_0x3ba2d6[_0x2559df(0x432)][_0x2559df(0x228)][_0x2559df(0xa07)])){const _0xf9afea=_0x3ba2d6['tracks']['video']['sender'];this[_0x2559df(0x138)][_0x2559df(0x7d1)](_0xf9afea,Math[_0x2559df(0x444)](0xa*_0x3ba2d6['resolutionScale'])/0xa,_0x3ba2d6[_0x2559df(0x536)],_0x3ba2d6[_0x2559df(0x634)],_0x3ba2d6[_0x2559df(0x66a)]);}}[_0x1af94f(0x2eb)](_0x2aef55,_0x466ad1){const _0x286d0b=_0x1af94f,_0x3db0c0=this['senders'][_0x286d0b(0x70a)](_0x2aef55['id']);if(_0x3db0c0){if(_0x3db0c0[_0x286d0b(0x63c)]=_0x466ad1,_0x466ad1&&'video'===_0x466ad1[_0x286d0b(0x832)]&&_0x466ad1[_0x286d0b(0x613)]&&_0x466ad1[_0x286d0b(0x906)]){if(_0x3db0c0['minResolutionScale']=this[_0x286d0b(0xa56)](_0x466ad1[_0x286d0b(0x613)],_0x466ad1[_0x286d0b(0x906)]),_0x3db0c0[_0x286d0b(0x595)]<_0x3db0c0['minResolutionScale']&&(_0x3db0c0[_0x286d0b(0x595)]=_0x3db0c0[_0x286d0b(0x9f8)]),_0x3db0c0[_0x286d0b(0x432)][_0x286d0b(0x228)]&&_0x3db0c0[_0x286d0b(0x432)][_0x286d0b(0x228)][_0x286d0b(0xa07)]){const _0x26e9f=_0x3db0c0[_0x286d0b(0x432)][_0x286d0b(0x228)][_0x286d0b(0xa07)];this[_0x286d0b(0x138)]['setEncodingParameters'](_0x26e9f,Math['floor'](0xa*_0x3db0c0[_0x286d0b(0x595)])/0xa,_0x3db0c0[_0x286d0b(0x536)],_0x3db0c0[_0x286d0b(0x634)],_0x3db0c0[_0x286d0b(0x66a)]);}this[_0x286d0b(0x365)](),this['setUpgradeTimeout']();}this[_0x286d0b(0x565)][_0x286d0b(0x81a)](_0x2aef55['id'],_0x3db0c0);}}['removeTrack'](_0x5af64b,_0x57eb26){const _0x2cdff9=_0x1af94f,_0x1ecd6c=this['senders'][_0x2cdff9(0x70a)](_0x57eb26['id']);if(_0x1ecd6c){const _0x35170a=_0x1ecd6c[_0x2cdff9(0x432)][_0x5af64b[_0x2cdff9(0x832)]];_0x35170a&&(_0x35170a[_0x2cdff9(0xa07)]&&this['connection'][_0x2cdff9(0x30e)](_0x35170a['sender']),_0x35170a[_0x2cdff9(0x847)]=void 0x0);}}['applyRemediation'](_0x17ec22){const _0x2401e4=_0x1af94f;this[_0x2401e4(0x365)]();const _0x8e8f98=function(_0x73d39,_0x1c740e){const _0x4dcb45=_0x2401e4;return _0x73d39[_0x4dcb45(0x1b1)]((_0x6e77a7,_0x1fada1)=>_0x1c740e[_0x4dcb45(0x3e8)]===_0x168519[_0x4dcb45(0x9fd)]?_0x1fada1[_0x4dcb45(0x66a)]-_0x6e77a7[_0x4dcb45(0x66a)]:_0x6e77a7[_0x4dcb45(0x66a)]-_0x1fada1[_0x4dcb45(0x66a)])[_0x4dcb45(0x7ef)](_0x17fb7e=>function(_0x3438d1,_0x50f788){const _0x48bdb3=_0x4dcb45;if(_0x50f788['action']===_0x168519[_0x48bdb3(0x9fd)]){if(_0x50f788[_0x48bdb3(0x609)]===_0xc8d133[_0x48bdb3(0x3b2)])return _0x3438d1[_0x48bdb3(0x595)]<0x4||_0x3438d1['maxFramerate']>0xf;if(_0x50f788[_0x48bdb3(0x609)]===_0xc8d133[_0x48bdb3(0x8aa)])return _0x3438d1[_0x48bdb3(0x326)]>_0x24e0fa;}return _0x3438d1['resolutionScale']>_0x3438d1[_0x48bdb3(0x9f8)]||_0x3438d1[_0x48bdb3(0x536)]<_0x3438d1[_0x48bdb3(0xfe)]||_0x3438d1[_0x48bdb3(0x634)]<_0x3438d1[_0x48bdb3(0x326)];}(_0x17fb7e,_0x1c740e));}(Array[_0x2401e4(0x13b)](this['senders'][_0x2401e4(0x7e5)]()),_0x17ec22);if(_0x8e8f98&&(function(_0x5bd5ee,_0x4e0d22){const _0x4ab3a0=_0x2401e4;_0x5bd5ee[_0x4ab3a0(0x432)][_0x4ab3a0(0x228)]&&_0x5bd5ee['tracks'][_0x4ab3a0(0x228)][_0x4ab3a0(0xa07)]&&(_0x5bd5ee[_0x4ab3a0(0x595)]=function(_0x54563d,_0x33f173,_0x2e5e5b){const _0x8eddbf=_0x4ab3a0;switch(_0x2e5e5b[_0x8eddbf(0x3e8)]){case _0x168519['Downgrade']:_0x2e5e5b[_0x8eddbf(0x609)]===_0xc8d133['Resolution']&&(_0x54563d+=0.5)>0x4&&(_0x54563d=0x4);break;case _0x168519[_0x8eddbf(0x826)]:(_0x54563d-=0.5)<_0x33f173&&(_0x54563d=_0x33f173);}return _0x54563d;}(_0x5bd5ee['resolutionScale'],_0x5bd5ee[_0x4ab3a0(0x9f8)],_0x4e0d22),_0x5bd5ee['framerate']=function(_0x4083dd,_0x47c095,_0x22808a){const _0x11a766=_0x4ab3a0;switch(_0x22808a[_0x11a766(0x3e8)]){case _0x168519[_0x11a766(0x9fd)]:_0x22808a[_0x11a766(0x609)]===_0xc8d133['Resolution']&&(_0x4083dd-=0x3)<0xf&&(_0x4083dd=0xf);break;case _0x168519[_0x11a766(0x826)]:(_0x4083dd+=0x3)>_0x47c095&&(_0x4083dd=_0x47c095);}return _0x4083dd;}(_0x5bd5ee[_0x4ab3a0(0x536)],_0x5bd5ee[_0x4ab3a0(0xfe)],_0x4e0d22),_0x5bd5ee[_0x4ab3a0(0x634)]=function(_0x12dffc,_0x44e5e3,_0x14ebe1){const _0x2bb2b4=_0x4ab3a0;switch(_0x14ebe1['action']){case _0x168519[_0x2bb2b4(0x9fd)]:_0x14ebe1['component']===_0xc8d133[_0x2bb2b4(0x8aa)]&&(_0x12dffc*=0.75)<_0x24e0fa&&(_0x12dffc=_0x24e0fa);break;case _0x168519[_0x2bb2b4(0x826)]:(_0x12dffc*=1.25)>_0x44e5e3&&(_0x12dffc=_0x44e5e3);}return _0x12dffc;}(_0x5bd5ee[_0x4ab3a0(0x634)],_0x5bd5ee[_0x4ab3a0(0x326)],_0x4e0d22));}(_0x8e8f98,_0x17ec22),_0x8e8f98['tracks'][_0x2401e4(0x228)]&&_0x8e8f98[_0x2401e4(0x432)][_0x2401e4(0x228)][_0x2401e4(0xa07)])){const _0x287380=_0x8e8f98[_0x2401e4(0x432)][_0x2401e4(0x228)][_0x2401e4(0xa07)];this[_0x2401e4(0x138)][_0x2401e4(0x7d1)](_0x287380,Math[_0x2401e4(0x444)](0xa*_0x8e8f98[_0x2401e4(0x595)])/0xa,_0x8e8f98[_0x2401e4(0x536)],_0x8e8f98[_0x2401e4(0x634)],_0x8e8f98['priority']);}(_0x8e8f98||_0x17ec22[_0x2401e4(0x3e8)]===_0x168519['Downgrade'])&&this['setUpgradeTimeout']();}['calculateArrayBufferSize'](){const _0x1c439d=_0x1af94f;return this['retryQueue']['queues'][_0x1c439d(0x7e2)]((_0x476776,_0x6c875c)=>_0x476776+_0x6c875c[_0x1c439d(0xa20)],0x0)*_0x57efb0;}['getBufferedAmount'](){const _0x48afb5=_0x1af94f;return this[_0x48afb5(0x674)]?.[_0x48afb5(0x9dd)]??0x0;}['resetConnection'](){const _0x3e320a=_0x1af94f;super[_0x3e320a(0x290)](),this[_0x3e320a(0x47f)](),this[_0x3e320a(0x643)](),this[_0x3e320a(0x565)][_0x3e320a(0x333)](_0x8cf1df=>{const _0xe88193=_0x3e320a;_0x8cf1df[_0xe88193(0x432)][_0xe88193(0x228)]&&(_0x8cf1df[_0xe88193(0x432)][_0xe88193(0x228)]['sender']=void 0x0),_0x8cf1df['tracks'][_0xe88193(0x809)]&&(_0x8cf1df[_0xe88193(0x432)][_0xe88193(0x809)][_0xe88193(0xa07)]=void 0x0);}),this[_0x3e320a(0x622)]=!0x0;}async[_0x1af94f(0x3b1)](){return new Promise(async _0x3483fa=>{const _0x28db06=a0_0xaf41;if(!this['dataChannel']||_0x28db06(0x2de)!==this['dataChannel'][_0x28db06(0x7f3)])return await _0xdf6e0c[_0x28db06(0xa2b)](0x64),void _0x3483fa();this[_0x28db06(0x674)][_0x28db06(0x9dd)]<_0x5c593c?_0x3483fa():this['dataChannel'][_0x28db06(0x675)]=()=>{const _0xba6e0=_0x28db06;this['dataChannel']&&(this[_0xba6e0(0x674)][_0xba6e0(0x675)]=null),_0x3483fa();};});}async[_0x1af94f(0x8ba)](_0x580f05,_0x9f0428){const _0x3c8b92=_0x1af94f,_0x4bd6a5=[];for(let _0x1f8c61=0x0;_0x1f8c61<_0x9f0428[_0x3c8b92(0x71c)];_0x1f8c61+=_0x3b98ef)_0x4bd6a5[_0x3c8b92(0x3d6)](_0x9f0428[_0x3c8b92(0x97e)](_0x1f8c61,_0x1f8c61+_0x3b98ef));for(const _0x36bdf0 of _0x4bd6a5){for(;this['retryQueue'][_0x3c8b92(0x6d9)][_0xe4db21[_0x3c8b92(0x270)]][_0x3c8b92(0xa20)]>0x1;)await _0xdf6e0c[_0x3c8b92(0xa2b)](0x64);this[_0x3c8b92(0x12a)](_0x557787+';'+_0x580f05[_0x3c8b92(0x529)]+';'+_0x4bd6a5[_0x3c8b92(0x7d6)](_0x36bdf0)+';'+_0x4bd6a5[_0x3c8b92(0x71c)]+';'+_0x36bdf0,_0xe4db21[_0x3c8b92(0x270)]);}}async['sendWithRetry'](_0x354468,_0x283e0f){const _0x5e6111=_0x1af94f;_0x354468===_0x326790?this[_0x5e6111(0x385)]['queues'][_0x283e0f][_0x5e6111(0x2fb)]?.[_0x5e6111(0x73e)]!==_0x326790&&this[_0x5e6111(0x385)]['queues'][_0x283e0f][_0x5e6111(0x8f6)](_0x354468):this[_0x5e6111(0x385)][_0x5e6111(0x6d9)][_0x283e0f]['push'](_0x354468);}[_0x1af94f(0x66e)](_0x31335e){const _0x28bae5=_0x1af94f;if(!this[_0x28bae5(0x674)]||_0x28bae5(0x2de)!==this['dataChannel'][_0x28bae5(0x7f3)])throw new Error(_0x28bae5(0x58d));if(this[_0x28bae5(0x674)]['bufferedAmount']>=0x600000)throw new Error(_0x28bae5(0x3bd));const _0x42fc20=Date[_0x28bae5(0x1f3)]();_0x31335e!==_0x326790&&(this['messagesSent']+=0x1,this[_0x28bae5(0x525)]+=_0x31335e instanceof ArrayBuffer?_0x31335e[_0x28bae5(0x486)]:_0x31335e[_0x28bae5(0x71c)]);try{ArrayBuffer,this[_0x28bae5(0x674)]['send'](_0x31335e);}catch(_0x26fdb9){throw console['error'](_0x28bae5(0x3c4),_0x26fdb9),_0x26fdb9;}this[_0x28bae5(0x80a)]+=Date[_0x28bae5(0x1f3)]()-_0x42fc20;}[_0x1af94f(0x881)](){const _0xc5aba4=_0x1af94f;this[_0xc5aba4(0x75f)]&&this[_0xc5aba4(0x7a5)]();let _0x377c37=!0x0,_0x2609fe=Date[_0xc5aba4(0x1f3)]();this[_0xc5aba4(0x470)]=Date[_0xc5aba4(0x1f3)](),this[_0xc5aba4(0x674)][_0xc5aba4(0x83b)]=_0x160cca=>{const _0x220e5f=_0xc5aba4;'1'===_0x160cca['data']&&(this[_0x220e5f(0x9ea)]=Date[_0x220e5f(0x1f3)]()-_0x2609fe,_0x377c37&&this[_0x220e5f(0x7b1)]({'type':_0xba45aa[_0x220e5f(0x7a0)]}),_0x377c37=!0x1,this[_0x220e5f(0x470)]=Date[_0x220e5f(0x1f3)](),this[_0x220e5f(0x622)]&&(this[_0x220e5f(0x622)]=!0x1,this[_0x220e5f(0x41f)]()));},this[_0xc5aba4(0x75f)]=_0xdf6e0c[_0xc5aba4(0x1ea)](()=>{const _0x5a4a6d=_0xc5aba4;_0x2609fe=Date[_0x5a4a6d(0x1f3)](),this[_0x5a4a6d(0x12a)](_0x326790,_0xe4db21['High']),Date['now']()-this[_0x5a4a6d(0x470)]>(_0x377c37?0x15f90:0x3a98)&&this[_0x5a4a6d(0x929)]();},0xbb8);}[_0x1af94f(0x41f)](){const _0x4932dc=_0x1af94f;this['senders'][_0x4932dc(0x333)](_0x19b455=>{const _0x2daed8=_0x4932dc;_0x19b455['tracks'][_0x2daed8(0x228)]&&_0x19b455[_0x2daed8(0x432)][_0x2daed8(0x228)][_0x2daed8(0x847)]&&!_0x19b455['tracks']['video']['sender']&&(_0x19b455[_0x2daed8(0x432)][_0x2daed8(0x228)][_0x2daed8(0xa07)]=this[_0x2daed8(0x138)]['addTrack'](_0x19b455[_0x2daed8(0x432)][_0x2daed8(0x228)]['track'],_0x19b455[_0x2daed8(0x35e)])),_0x19b455['tracks'][_0x2daed8(0x809)]&&_0x19b455['tracks']['audio'][_0x2daed8(0x847)]&&!_0x19b455[_0x2daed8(0x432)][_0x2daed8(0x809)][_0x2daed8(0xa07)]&&(_0x19b455[_0x2daed8(0x432)][_0x2daed8(0x809)][_0x2daed8(0xa07)]=this[_0x2daed8(0x138)]['addTrack'](_0x19b455['tracks'][_0x2daed8(0x809)][_0x2daed8(0x847)],_0x19b455[_0x2daed8(0x35e)]));});}[_0x1af94f(0x4f9)](){const _0x26821=_0x1af94f;this[_0x26821(0x7b1)]({'type':_0xba45aa[_0x26821(0x93d)],'candidates':this[_0x26821(0x583)],'origin':_0x37701b[_0x26821(0x15d)],'version':this[_0x26821(0x447)],'connectionType':this['connectionType']});}[_0x1af94f(0x7ca)](){const _0x49d590=_0x1af94f;super[_0x49d590(0x7ca)](),this[_0x49d590(0x138)][_0x49d590(0x58b)]=()=>{const _0x574d7a=_0x49d590;if(_0x574d7a(0x3cb)===this['connection']['handshakeState']){_0x5999e0[_0x574d7a(0x15c)](_0x53526a[_0x574d7a(0x707)],_0x574d7a(0x101),this[_0x574d7a(0x658)]['getId'](),this[_0x574d7a(0x209)]);try{if(this[_0x574d7a(0x138)][_0x574d7a(0x64c)])return void this[_0x574d7a(0x138)][_0x574d7a(0x951)]();}catch(_0x994df7){}this[_0x574d7a(0xf2)]({'handshakeRestart':!0x0});}},this[_0x49d590(0x138)][_0x49d590(0xa0f)]=()=>{const _0x167c10=_0x49d590;'disconnected'!==this['connection'][_0x167c10(0xa37)]&&'failed'!==this[_0x167c10(0x138)][_0x167c10(0xa37)]||this[_0x167c10(0x929)]();};}['handleDisconnect'](){const _0x527e59=_0x1af94f;this[_0x527e59(0x7a5)](),this[_0x527e59(0x40e)](),this['clearConnectionTimeout'](),_0x5999e0[_0x527e59(0x949)](_0x527e59(0x311),{'clusterId':this['clusterId'],'nodeId':this[_0x527e59(0x658)][_0x527e59(0x8f3)](),'nodeType':this[_0x527e59(0x658)][_0x527e59(0x44f)],'remoteId':this[_0x527e59(0x209)],'data':{'connectionType':this[_0x527e59(0x280)],'connectionState':this[_0x527e59(0x138)][_0x527e59(0xa37)],'iceConnectionState':this[_0x527e59(0x138)][_0x527e59(0x631)],'signalingState':this[_0x527e59(0x138)][_0x527e59(0x36b)],'readyState':this['dataChannel']?.['state']||'','lastHeartbeat':this[_0x527e59(0x470)]?Date['now']()-this[_0x527e59(0x470)]:'','retryQueue':this[_0x527e59(0x385)]}}),(this['lastHeartbeat']&&Date[_0x527e59(0x1f3)]()-this[_0x527e59(0x470)]>0xea60)??0x1?this[_0x527e59(0x316)][_0x527e59(0x3ec)]({'sourceId':this[_0x527e59(0x209)],'destinationIds':[this['localNode']['getId']()],'messageType':_0x502914[_0x527e59(0xa06)],'content':{'type':_0xba45aa[_0x527e59(0xa03)]}}):(this[_0x527e59(0x290)](),this[_0x527e59(0x7b1)]({'type':_0xba45aa['NeedRestart'],'version':this['currentVersion'],'connectionType':this['connectionType']}),this[_0x527e59(0x4b2)]=setTimeout(()=>{const _0x137ca2=_0x527e59;this[_0x137ca2(0x929)]();},0x7530));}[_0x1af94f(0x7a5)](){const _0xf7d4fd=_0x1af94f;this[_0xf7d4fd(0x75f)]?.(),delete this[_0xf7d4fd(0x75f)];}['clearConnectionTimeout'](){const _0x9eb7d=_0x1af94f;this[_0x9eb7d(0x603)]&&(clearTimeout(this['connectionTimeout']),delete this['connectionTimeout']);}[_0x1af94f(0x40e)](){const _0x20199f=_0x1af94f;this[_0x20199f(0x4b2)]&&(clearTimeout(this['restartTimeout']),delete this[_0x20199f(0x4b2)]);}['clearUpgradeTimeout'](){const _0x296cad=_0x1af94f;this[_0x296cad(0x207)]&&(clearTimeout(this[_0x296cad(0x207)]),delete this['upgradeTimeout']);}[_0x1af94f(0x652)](){this['upgradeTimeout']=setTimeout(()=>{const _0x5b75c8=a0_0xaf41;this[_0x5b75c8(0x257)]({'type':_0x3a5409[_0x5b75c8(0x821)],'action':_0x168519[_0x5b75c8(0x826)]});},0x3a98);}[_0x1af94f(0xa56)](_0x37017e,_0x2a2f14){const _0x34b389=_0x1af94f,_0x3b9752=Math['max'](_0x37017e[_0x34b389(0x52d)]/_0x2a2f14[_0x34b389(0x52d)],_0x37017e[_0x34b389(0x9a1)]/_0x2a2f14[_0x34b389(0x9a1)]);return Math[_0x34b389(0x430)](Math[_0x34b389(0x17d)](_0x3b9752,0x1),0x4);}[_0x1af94f(0x643)](){const _0x2ae0c9=_0x1af94f;this[_0x2ae0c9(0x50e)]?.(),delete this[_0x2ae0c9(0x50e)];}['clearOncloseTimeout'](){const _0xcfc75e=_0x1af94f;this[_0xcfc75e(0x7e9)]&&(clearTimeout(this[_0xcfc75e(0x7e9)]),delete this[_0xcfc75e(0x7e9)]);}[_0x1af94f(0x1a0)](_0x5b7de7){const _0x2f5707=_0x1af94f,_0x4767f6=JSON[_0x2f5707(0x656)](_0x5b7de7);return new TextEncoder()[_0x2f5707(0x72f)](_0x4767f6)[_0x2f5707(0x87b)];}[_0x1af94f(0x789)](_0xeea0ed,_0xd9c48e){const _0x12259e=_0x1af94f,_0x3b2eca=this['objectToArrayBuffer'](_0xeea0ed),_0x30db40=new Uint8Array(0x4),_0x4525c6=new Uint8Array(_0x3b2eca),_0x258639=new Uint8Array(_0xd9c48e);_0x30db40['set'](new Uint8Array(new Uint32Array([_0x4525c6[_0x12259e(0x71c)]])[_0x12259e(0x87b)]));const _0x14fe6e=new Uint8Array(0x4+_0x4525c6['length']+_0x258639[_0x12259e(0x71c)]);return _0x14fe6e['set'](_0x30db40),_0x14fe6e['set'](_0x4525c6,0x4),_0x14fe6e[_0x12259e(0x81a)](_0x258639,0x4+_0x4525c6[_0x12259e(0x71c)]),_0x14fe6e[_0x12259e(0x87b)];}}class _0x35b0bb extends _0x5aa0e8{[_0x1af94f(0x4ac)];[_0x1af94f(0x280)];[_0x1af94f(0xa02)];[_0x1af94f(0x6d4)];[_0x1af94f(0xa31)];[_0x1af94f(0x43c)];[_0x1af94f(0x912)];[_0x1af94f(0x520)]=[];['messageListeners']=_0x69b7e5();[_0x1af94f(0x5d7)]=_0x69b7e5();['removeTrackListeners']=_0x69b7e5();['listenerUnsubscribers']=[];[_0x1af94f(0x316)];['dataTopics']=new Map();[_0x1af94f(0x736)]=new Map();[_0x1af94f(0x5e5)]=new Map();['mediaUnsubscribers']=new Map();[_0x1af94f(0x8c2)]=!0x1;constructor(_0x3ac70b,_0x8e2c91,_0x2fc583,_0x302862,_0x264926,_0x51bf50,_0x2792fe,_0x257a38){const _0x4d0da9=_0x1af94f;super(_0x3ac70b,_0x8e2c91,_0x2fc583),this[_0x4d0da9(0x4ac)]=_0x302862,this['connectionType']=_0x264926,this[_0x4d0da9(0xa02)]=_0x51bf50,this['maxBpp']=_0x2792fe,this['connectionConstructor']=_0x257a38;}[_0x1af94f(0x1ee)](_0x28e21b){const _0x509adc=_0x1af94f;switch(_0x28e21b[_0x509adc(0x8f7)]()){case _0xb0907f[_0x509adc(0x178)]['Data']:case _0xb0907f['ContentType']['PubSub']:case _0xb0907f[_0x509adc(0x178)][_0x509adc(0x196)]:case _0xb0907f[_0x509adc(0x178)][_0x509adc(0x22d)]:case _0xb0907f['ContentType'][_0x509adc(0x2c1)]:case _0xb0907f['ContentType']['VectorDatabase']:case _0xb0907f[_0x509adc(0x178)][_0x509adc(0x835)]:case _0xb0907f[_0x509adc(0x178)]['ExternalStorage']:this[_0x509adc(0x3cf)]['set'](_0x28e21b[_0x509adc(0x8c4)](),_0x28e21b);break;case _0xb0907f[_0x509adc(0x178)][_0x509adc(0x6af)]:this[_0x509adc(0x5e5)][_0x509adc(0x81a)](_0x28e21b[_0x509adc(0x8c4)](),_0x28e21b);}}[_0x1af94f(0x3ea)](_0x27c533){const _0x57b30d=_0x1af94f;switch(_0x27c533[_0x57b30d(0x8f7)]()){case _0xb0907f[_0x57b30d(0x178)][_0x57b30d(0x5a0)]:case _0xb0907f[_0x57b30d(0x178)][_0x57b30d(0x446)]:case _0xb0907f[_0x57b30d(0x178)][_0x57b30d(0x196)]:case _0xb0907f[_0x57b30d(0x178)][_0x57b30d(0x22d)]:case _0xb0907f['ContentType'][_0x57b30d(0x2c1)]:case _0xb0907f[_0x57b30d(0x178)][_0x57b30d(0x21e)]:case _0xb0907f[_0x57b30d(0x178)][_0x57b30d(0x835)]:case _0xb0907f[_0x57b30d(0x178)][_0x57b30d(0x6b2)]:this['dataTopics'][_0x57b30d(0x8e1)](_0x27c533[_0x57b30d(0x8c4)]());break;case _0xb0907f['ContentType'][_0x57b30d(0x6af)]:this[_0x57b30d(0x5e5)][_0x57b30d(0x8e1)](_0x27c533[_0x57b30d(0x8c4)]());}}[_0x1af94f(0x5c1)](_0x5426e1){const _0xbdde1c=_0x1af94f;switch(_0x5426e1[_0xbdde1c(0x8f7)]()){case _0xb0907f[_0xbdde1c(0x178)][_0xbdde1c(0x5a0)]:case _0xb0907f[_0xbdde1c(0x178)][_0xbdde1c(0x446)]:case _0xb0907f[_0xbdde1c(0x178)]['ObjectStore']:case _0xb0907f[_0xbdde1c(0x178)]['KeyValueDatabase']:case _0xb0907f['ContentType'][_0xbdde1c(0x2c1)]:case _0xb0907f['ContentType'][_0xbdde1c(0x21e)]:case _0xb0907f['ContentType'][_0xbdde1c(0x835)]:case _0xb0907f[_0xbdde1c(0x178)][_0xbdde1c(0x6b2)]:{const _0x3700d2=_0x5426e1[_0xbdde1c(0x9f2)](_0x5c0d86=>{const _0x51cec8=_0xbdde1c;_0x5a41e3(_0x5c0d86,this[_0x51cec8(0x403)]())&&_0x17df7b(_0x5c0d86,this['remoteId'])&&this[_0x51cec8(0x4ef)](_0x5c0d86);});this['dataUnsubscribers'][_0xbdde1c(0x81a)](_0x5426e1[_0xbdde1c(0x8c4)](),_0x3700d2);break;}case _0xb0907f[_0xbdde1c(0x178)][_0xbdde1c(0x6af)]:{const _0x2fee84=_0x5426e1[_0xbdde1c(0x9f2)](({content:_0x23812b})=>{const _0x1939a3=_0xbdde1c;switch(_0x23812b[_0x1939a3(0x3e8)]){case _0x28c078[_0x1939a3(0x7f5)]:this['addTrack'](_0x23812b[_0x1939a3(0x847)],_0x23812b[_0x1939a3(0x35e)],_0x23812b[_0x1939a3(0x66a)],_0x23812b[_0x1939a3(0x63c)]);break;case _0x28c078[_0x1939a3(0x769)]:this[_0x1939a3(0x30e)](_0x23812b[_0x1939a3(0x847)],_0x23812b[_0x1939a3(0x35e)]);break;case _0x28c078[_0x1939a3(0x4fc)]:_0x23812b['priority']&&this[_0x1939a3(0x5bc)](_0x23812b[_0x1939a3(0x35e)],_0x23812b['priority']),_0x23812b[_0x1939a3(0x63c)]&&this[_0x1939a3(0x2eb)](_0x23812b[_0x1939a3(0x35e)],_0x23812b['params']);}});this[_0xbdde1c(0x79f)][_0xbdde1c(0x81a)](_0x5426e1[_0xbdde1c(0x8c4)](),_0x2fee84);break;}}}[_0x1af94f(0x62a)](_0x5b7b7a){const _0x137df2=_0x1af94f;switch(_0x5b7b7a[_0x137df2(0x8f7)]()){case _0xb0907f[_0x137df2(0x178)][_0x137df2(0x5a0)]:case _0xb0907f['ContentType'][_0x137df2(0x446)]:case _0xb0907f[_0x137df2(0x178)][_0x137df2(0x196)]:case _0xb0907f[_0x137df2(0x178)][_0x137df2(0x22d)]:case _0xb0907f[_0x137df2(0x178)][_0x137df2(0x2c1)]:case _0xb0907f[_0x137df2(0x178)]['VectorDatabase']:case _0xb0907f[_0x137df2(0x178)][_0x137df2(0x835)]:case _0xb0907f[_0x137df2(0x178)][_0x137df2(0x6b2)]:this[_0x137df2(0x736)]['get'](_0x5b7b7a[_0x137df2(0x8c4)]())?.(),this[_0x137df2(0x736)][_0x137df2(0x8e1)](_0x5b7b7a[_0x137df2(0x8c4)]());break;case _0xb0907f[_0x137df2(0x178)][_0x137df2(0x6af)]:this[_0x137df2(0x79f)][_0x137df2(0x70a)](_0x5b7b7a[_0x137df2(0x8c4)]())?.(),this[_0x137df2(0x79f)][_0x137df2(0x8e1)](_0x5b7b7a['getLabel']());}}['getSupportedContentTypes'](){const _0x3e2df7=_0x1af94f;return[_0xb0907f[_0x3e2df7(0x178)][_0x3e2df7(0x5a0)],_0xb0907f['ContentType'][_0x3e2df7(0x6af)],_0xb0907f[_0x3e2df7(0x178)][_0x3e2df7(0x446)],_0xb0907f[_0x3e2df7(0x178)][_0x3e2df7(0x196)],_0xb0907f[_0x3e2df7(0x178)][_0x3e2df7(0x22d)],_0xb0907f[_0x3e2df7(0x178)][_0x3e2df7(0x2c1)],_0xb0907f[_0x3e2df7(0x178)][_0x3e2df7(0x21e)],_0xb0907f[_0x3e2df7(0x178)][_0x3e2df7(0x835)],_0xb0907f[_0x3e2df7(0x178)][_0x3e2df7(0x6b2)]];}[_0x1af94f(0x412)](_0x4446db){const _0x3c1d7a=_0x1af94f;this[_0x3c1d7a(0x316)]=_0x4446db;}[_0x1af94f(0x466)](){const _0x40f4a2=_0x1af94f;delete this[_0x40f4a2(0x316)];}async[_0x1af94f(0x718)](){const _0x3c5f06=_0x1af94f;this['setupListeners'](),await this[_0x3c5f06(0xf2)]();}[_0x1af94f(0x92f)](){const _0x584f13=_0x1af94f;this['listenerUnsubscribers'][_0x584f13(0x333)](_0x3de2e0=>_0x3de2e0()),this['listenerUnsubscribers']=[],this['senderConnection']?.[_0x584f13(0x466)](),this[_0x584f13(0x43c)]?.['close'](),delete this[_0x584f13(0x43c)],this[_0x584f13(0x520)][_0x584f13(0x333)](_0x91dd11=>_0x91dd11()),this[_0x584f13(0x520)]=[],this[_0x584f13(0x912)]?.[_0x584f13(0x466)](),this[_0x584f13(0x912)]?.[_0x584f13(0x92f)](),delete this[_0x584f13(0x912)];}[_0x1af94f(0x119)](){const _0x342fbb=_0x1af94f;return this[_0x342fbb(0x43c)]?.['isConnected']()&&this[_0x342fbb(0x912)]?.[_0x342fbb(0x119)]()||!0x1;}[_0x1af94f(0x4ef)](_0x7469d0){const _0x183287=_0x1af94f;if(!this[_0x183287(0x43c)]||!this['isConnected']())throw new _0x3c8547(_0x3c8547[_0x183287(0x700)][_0x183287(0x4ce)],{'message':_0x183287(0x909),'senderConnected':this[_0x183287(0x43c)]?.['isConnected'](),'receiverConnected':this['receiverConnection']?.[_0x183287(0x119)](),'localId':this[_0x183287(0x403)](),'remoteId':this['remoteId'],'data':_0x7469d0});this[_0x183287(0x43c)][_0x183287(0x4ef)](_0x7469d0);}[_0x1af94f(0x83b)](_0x103eaa){const _0x4e3693=_0x1af94f;return this[_0x4e3693(0x29a)][_0x4e3693(0x9f2)](_0x103eaa);}[_0x1af94f(0x5d6)](_0xd560a6){const _0x259b2c=_0x1af94f;return this[_0x259b2c(0x5d7)][_0x259b2c(0x9f2)](({track:_0x2243df,stream:_0x34e8f2})=>_0xd560a6(_0x2243df,_0x34e8f2));}[_0x1af94f(0xa23)](_0x171a57){const _0x38dbdf=_0x1af94f;return this[_0x38dbdf(0x73f)]['subscribe'](({track:_0x2a6fc1,stream:_0x4f3597})=>_0x171a57(_0x2a6fc1,_0x4f3597));}[_0x1af94f(0x55e)](_0x53cbbf,_0x56ca36,_0x3f5fd1,_0x4e7e9f){const _0x3b23d7=_0x1af94f;this[_0x3b23d7(0x43c)]?.[_0x3b23d7(0x55e)](_0x53cbbf,_0x56ca36,_0x3f5fd1,_0x4e7e9f);}[_0x1af94f(0x5bc)](_0x235fcc,_0x32db41){const _0x356556=_0x1af94f;this[_0x356556(0x43c)]?.[_0x356556(0x5bc)](_0x235fcc,_0x32db41);}[_0x1af94f(0x2eb)](_0x2ff52a,_0x2f1aa6){const _0x4ad252=_0x1af94f;this[_0x4ad252(0x43c)]?.['setParams'](_0x2ff52a,_0x2f1aa6);}[_0x1af94f(0x30e)](_0x482fb6,_0x4f655e){const _0x4ad349=_0x1af94f;this['senderConnection']?.[_0x4ad349(0x30e)](_0x482fb6,_0x4f655e);}async[_0x1af94f(0x635)](_0x53d1bc){const _0x1a8e49=_0x1af94f;_0x5999e0[_0x1a8e49(0x15c)](_0x53526a[_0x1a8e49(0x3b3)],_0x1a8e49(0x318),this[_0x1a8e49(0x403)](),_0x53d1bc);const {content:_0x5ab1b0}=_0x53d1bc;switch(_0x5ab1b0['type']){case _0xba45aa['Offer']:await this[_0x1a8e49(0x148)](_0x5ab1b0);break;case _0xba45aa[_0x1a8e49(0x73c)]:await this[_0x1a8e49(0x2d1)](_0x5ab1b0);break;case _0xba45aa[_0x1a8e49(0x7a0)]:this['handleSuccess']();break;case _0xba45aa[_0x1a8e49(0x93d)]:await this[_0x1a8e49(0x2af)](_0x5ab1b0);break;case _0xba45aa[_0x1a8e49(0x7fb)]:this['handleNeedRestart'](_0x5ab1b0);break;case _0xba45aa[_0x1a8e49(0x6fe)]:await this[_0x1a8e49(0xf2)]();}}[_0x1af94f(0x7cf)](_0x514899){const _0x8a55cd=_0x1af94f;this[_0x8a55cd(0x43c)]?.[_0x8a55cd(0x257)](_0x514899[_0x8a55cd(0x3fe)][_0x8a55cd(0x87a)]);}[_0x1af94f(0x1bb)](){const _0xd8a5b9=_0x1af94f;return this[_0xd8a5b9(0x280)];}[_0x1af94f(0x167)](_0x4007aa){const _0x44fc74=_0x1af94f;this[_0x44fc74(0x280)]=_0x4007aa,this['senderConnection']?.[_0x44fc74(0x167)](_0x4007aa),this[_0x44fc74(0x912)]?.[_0x44fc74(0x167)](_0x4007aa);}async[_0x1af94f(0x66f)](){const _0x4c84b1=_0x1af94f;await this[_0x4c84b1(0x43c)]?.[_0x4c84b1(0x66f)](),await this[_0x4c84b1(0x912)]?.[_0x4c84b1(0x66f)]();}[_0x1af94f(0xa52)](){const _0x179b16=_0x1af94f;return this[_0x179b16(0x43c)]?.[_0x179b16(0xa52)]()??0x0;}[_0x1af94f(0x52e)](){const _0x75dadd=_0x1af94f;return this[_0x75dadd(0x43c)]?.[_0x75dadd(0x52e)]()??0x0;}[_0x1af94f(0x860)](){const _0x3d1d89=_0x1af94f;this['listenerUnsubscribers'][_0x3d1d89(0x3d6)](this[_0x3d1d89(0x83b)](_0x44d73e=>{const _0x1fe56e=_0x3d1d89;_0x17df7b(_0x44d73e,this[_0x1fe56e(0x403)]())&&0x0!==_0x44d73e[_0x1fe56e(0x489)]&&this['dataTopics'][_0x1fe56e(0x70a)](_0x44d73e['topicLabel'])?.['publish'](_0x44d73e);})),this[_0x3d1d89(0x5ef)][_0x3d1d89(0x3d6)](this['onTrack']((_0x44f32d,_0x31ac1b)=>{const _0x464193=_0x3d1d89,_0x2a6bc4=_0x2760a4(_0xb0907f[_0x464193(0x178)]['Media'],_0x31ac1b['id'],this['remoteId']);this['mediaTopics']['get'](_0x2a6bc4)?.[_0x464193(0x3ec)]({'topicLabel':_0x2a6bc4,'sourceId':this['remoteId'],'contentType':_0xb0907f[_0x464193(0x178)]['Media'],'content':{'action':_0x28c078[_0x464193(0x27f)],'track':_0x44f32d,'stream':_0x31ac1b,'providerId':this['remoteId']}});})),this[_0x3d1d89(0x5ef)]['push'](this[_0x3d1d89(0xa23)]((_0x491da8,_0x441db8)=>{const _0x52deca=_0x3d1d89,_0x3c02c4=_0x2760a4(_0xb0907f[_0x52deca(0x178)][_0x52deca(0x6af)],_0x441db8['id'],this[_0x52deca(0x209)]);this[_0x52deca(0x5e5)]['get'](_0x3c02c4)?.[_0x52deca(0x3ec)]({'topicLabel':_0x3c02c4,'sourceId':this[_0x52deca(0x209)],'contentType':_0xb0907f[_0x52deca(0x178)][_0x52deca(0x6af)],'content':{'action':_0x28c078[_0x52deca(0x8be)],'track':_0x491da8,'stream':_0x441db8,'providerId':this[_0x52deca(0x209)]}});}));}[_0x1af94f(0x2af)]({candidates:_0x53a652,origin:_0x25c8f2,version:_0x4ab09d}){const _0x2822e9=_0x1af94f;return _0x25c8f2===_0x37701b[_0x2822e9(0x15d)]?(this[_0x2822e9(0x912)]||this[_0x2822e9(0x363)](),this['receiverConnection'][_0x2822e9(0x9d0)](_0x53a652,_0x4ab09d)):this[_0x2822e9(0x43c)]['handleHandshake'](_0x53a652,_0x4ab09d);}async[_0x1af94f(0xf2)](){const _0x1b6ae3=_0x1af94f;this[_0x1b6ae3(0x43c)]||this[_0x1b6ae3(0x9a5)](),await this['senderConnection']['createOffer']();}async[_0x1af94f(0x148)]({offer:_0x4551cb,version:_0x572217}){const _0x9f7498=_0x1af94f;this[_0x9f7498(0x912)]||this[_0x9f7498(0x363)](),await this['receiverConnection'][_0x9f7498(0x148)](_0x4551cb,_0x572217);}async[_0x1af94f(0x2d1)]({answer:_0xfd6dc5,version:_0x3e7f88}){const _0x157b87=_0x1af94f;if(!this[_0x157b87(0x43c)])throw new _0x3c8547(_0x3c8547[_0x157b87(0x700)][_0x157b87(0x4ce)],{'message':_0x157b87(0x7e8),'localId':this['getLocalId'](),'remoteId':this[_0x157b87(0x209)],'answer':_0xfd6dc5});await this['senderConnection'][_0x157b87(0x2d1)](_0xfd6dc5,_0x3e7f88);}[_0x1af94f(0x72d)](){const _0x35140d=_0x1af94f;if(!this['receiverConnection'])throw new _0x3c8547(_0x3c8547[_0x35140d(0x700)][_0x35140d(0x4ce)],{'message':_0x35140d(0x423),'localId':this[_0x35140d(0x403)](),'remoteId':this[_0x35140d(0x209)]});this[_0x35140d(0x912)][_0x35140d(0x72d)](),this[_0x35140d(0x8c2)]||this[_0x35140d(0x280)]!==_0x852eca[_0x35140d(0x4f0)]||(this[_0x35140d(0x8c2)]=!0x0,this['systemTopic']?.['publish']({'sourceId':this[_0x35140d(0x209)],'destinationIds':[this[_0x35140d(0x403)]()],'messageType':_0x502914[_0x35140d(0xa06)],'content':{'type':_0xba45aa['OptimizationConnectionSuccess']}}));}[_0x1af94f(0x30c)](_0x3e5b8f){const _0x28c104=_0x1af94f;this[_0x28c104(0x912)]||this[_0x28c104(0x363)](),this['receiverConnection'][_0x28c104(0x30c)](_0x3e5b8f['version']);}[_0x1af94f(0x9a5)](){const _0x324e4f=_0x1af94f;this[_0x324e4f(0x43c)]=new _0x4a56d4(this[_0x324e4f(0x230)],this[_0x324e4f(0x658)],this[_0x324e4f(0x209)],this[_0x324e4f(0x4ac)],this[_0x324e4f(0x280)],this['maxFps'],this[_0x324e4f(0x6d4)],this[_0x324e4f(0xa31)]),this[_0x324e4f(0x43c)]['registerSystemPublisher'](this['systemTopic']);}['createReceiverConnection'](){const _0x40564e=_0x1af94f;this[_0x40564e(0x912)]=new _0x52eb74(this[_0x40564e(0x230)],this[_0x40564e(0x658)],this[_0x40564e(0x209)],this[_0x40564e(0x4ac)],this[_0x40564e(0x280)],this[_0x40564e(0xa31)]),this['receiverConnection']['registerSystemPublisher'](this['systemTopic']),this[_0x40564e(0x520)][_0x40564e(0x3d6)](this['receiverConnection'][_0x40564e(0x83b)](_0x3f8862=>this[_0x40564e(0x29a)][_0x40564e(0x3ec)](_0x3f8862))),this['receiverUnsubscribers'][_0x40564e(0x3d6)](this[_0x40564e(0x912)][_0x40564e(0x5d6)]((_0x25744e,_0x4acaf2)=>this[_0x40564e(0x5d7)]['publish']({'track':_0x25744e,'stream':_0x4acaf2}))),this[_0x40564e(0x520)][_0x40564e(0x3d6)](this[_0x40564e(0x912)][_0x40564e(0xa23)]((_0x2a6675,_0xf8d433)=>this[_0x40564e(0x73f)][_0x40564e(0x3ec)]({'track':_0x2a6675,'stream':_0xf8d433})));}}class _0x583198{['localId'];[_0x1af94f(0x1bd)];[_0x1af94f(0x344)];['connections']=new Map();[_0x1af94f(0x29a)]=_0x69b7e5();['messageUnsubscriber'];[_0x1af94f(0x3cf)]=new Map();[_0x1af94f(0x736)]=new Map();[_0x1af94f(0x511)]=new Map();constructor(_0x38fa1b,_0x23bda4,_0x380723){const _0x5aec5d=_0x1af94f;this[_0x5aec5d(0x7d4)]=_0x38fa1b,this[_0x5aec5d(0x1bd)]=_0x23bda4,this[_0x5aec5d(0x344)]=_0x380723,this[_0x5aec5d(0x96a)]=this[_0x5aec5d(0x83b)](_0x5590c0=>{const _0x593b6d=_0x5aec5d;this[_0x593b6d(0x1bd)][_0x593b6d(0x6ab)](_0x5590c0[_0x593b6d(0x529)])||(_0x17df7b(_0x5590c0,this[_0x593b6d(0x7d4)])&&0x0!==_0x5590c0[_0x593b6d(0x489)]&&(this['messageBuffer'][_0x593b6d(0x6f8)](_0x5590c0['uuid']),this[_0x593b6d(0x3cf)][_0x593b6d(0x70a)](_0x5590c0[_0x593b6d(0x489)])?.[_0x593b6d(0x3ec)](_0x5590c0)),_0x5590c0[_0x593b6d(0x533)]&&this[_0x593b6d(0x4ef)](_0x5590c0));});}[_0x1af94f(0x92f)](){const _0x1be83e=_0x1af94f;this[_0x1be83e(0x96a)]?.();}['addConnection'](_0x1fe9da){const _0x32fd5d=_0x1af94f,_0x3f09c8=_0x1fe9da['onMessage'](_0x57b971=>{const _0x48e1b2=a0_0xaf41;this['messageListeners'][_0x48e1b2(0x3ec)](_0x57b971);});this['connections'][_0x32fd5d(0x81a)](_0x1fe9da,_0x3f09c8),this['retryQueues']['set'](_0x1fe9da[_0x32fd5d(0x56a)](),function(_0x1ad14a,_0x4fb334=!0x1){let _0x5bb26d=new Map();const _0x361ff9=_0x38e48d(_0x1ad14a,_0x4fb334,function(_0x3c6442){const _0x1043d4=a0_0xaf41;_0x10e9bd(_0x3c6442)&&_0x5bb26d[_0x1043d4(0x8e1)](_0x3c6442['sourceId']+'-'+(_0x3c6442[_0x1043d4(0x930)]??[])+'-'+_0x3c6442['messageType']+'-'+_0x3c6442[_0x1043d4(0x3fe)][_0x1043d4(0x44f)]);},function(_0x1c1cb0){return!!function(_0x39b848){const _0x3106b2=a0_0xaf41,_0x4a4b4e=_0x39b848[_0x3106b2(0x73e)];if(!_0x10e9bd(_0x4a4b4e))return!0x1;const _0x440156=_0x4a4b4e[_0x3106b2(0x825)]+'-'+(_0x4a4b4e[_0x3106b2(0x930)]??[])+'-'+_0x4a4b4e[_0x3106b2(0x3fb)]+'-'+_0x4a4b4e[_0x3106b2(0x3fe)][_0x3106b2(0x44f)],_0x5a4c0f={'version':_0x4a4b4e[_0x3106b2(0x3fe)][_0x3106b2(0x215)],'element':_0x39b848},_0x102e2d=_0x5bb26d[_0x3106b2(0x70a)](_0x440156);return _0x102e2d?(_0x102e2d['version']>=_0x4a4b4e[_0x3106b2(0x3fe)][_0x3106b2(0x215)]||(_0x102e2d[_0x3106b2(0x34c)][_0x3106b2(0x6e3)]&&(_0x102e2d[_0x3106b2(0x34c)]['previous'][_0x3106b2(0x122)]=_0x39b848,_0x39b848['previous']=_0x102e2d['element'][_0x3106b2(0x6e3)]),_0x102e2d[_0x3106b2(0x34c)][_0x3106b2(0x122)]&&(_0x102e2d[_0x3106b2(0x34c)]['next']['previous']=_0x39b848,_0x39b848['next']=_0x102e2d[_0x3106b2(0x34c)][_0x3106b2(0x122)]),_0x102e2d['element']===_0x361ff9['head']&&(_0x361ff9[_0x3106b2(0x2fb)]=_0x39b848),_0x102e2d[_0x3106b2(0x34c)]===_0x361ff9['tail']&&(_0x361ff9['tail']=_0x39b848),_0x5bb26d[_0x3106b2(0x81a)](_0x440156,_0x5a4c0f)),!0x0):(_0x5bb26d[_0x3106b2(0x81a)](_0x440156,_0x5a4c0f),!0x1);}(_0x1c1cb0);},function(){const _0xc61b49=a0_0xaf41;_0x5bb26d[_0xc61b49(0xa4f)]();});function _0x10e9bd(_0x38ed52){const _0x233660=a0_0xaf41;if(_0x38ed52&&_0x233660(0x4dc)==typeof _0x38ed52&&_0x38ed52['hasOwnProperty']('content')&&_0x38ed52['hasOwnProperty']('messageType')&&_0x38ed52[_0x233660(0x6e5)](_0x233660(0x825))){const _0x18e186=_0x38ed52;if(_0x18e186[_0x233660(0x3fe)]&&_0x233660(0x4dc)==typeof _0x18e186[_0x233660(0x3fe)]&&_0x18e186[_0x233660(0x3fe)]['hasOwnProperty'](_0x233660(0x215))&&_0x18e186[_0x233660(0x3fe)][_0x233660(0x6e5)]('type'))return!0x0;}return!0x1;}return _0x361ff9;}(new _0x12526c(_0x47e235=>_0x1fe9da[_0x32fd5d(0x4ef)](_0x47e235),()=>_0xdf6e0c[_0x32fd5d(0xa2b)](0x64))));}['removeConnection'](_0x3fc7d0){const _0x1edc42=_0x1af94f;this[_0x1edc42(0x737)]['get'](_0x3fc7d0)?.(),this[_0x1edc42(0x737)][_0x1edc42(0x8e1)](_0x3fc7d0),this[_0x1edc42(0x511)][_0x1edc42(0x70a)](_0x3fc7d0[_0x1edc42(0x56a)]())?.[_0x1edc42(0xa4f)](),this['retryQueues'][_0x1edc42(0x8e1)](_0x3fc7d0[_0x1edc42(0x56a)]());}[_0x1af94f(0x119)](_0x3eee80){const _0x56e2a6=_0x1af94f;return _0x5999e0[_0x56e2a6(0x15c)](_0x53526a[_0x56e2a6(0x707)],_0x56e2a6(0x1da),this[_0x56e2a6(0x7d4)],this[_0x56e2a6(0x737)][_0x56e2a6(0x7a3)]()),0x0!==this[_0x56e2a6(0x737)][_0x56e2a6(0xa20)]&&(Array['from'](this[_0x56e2a6(0x737)][_0x56e2a6(0x7a3)]())[_0x56e2a6(0x7ef)](_0x4c6a5d=>_0x4c6a5d['getRemoteId']()===_0x3eee80)?.[_0x56e2a6(0x119)]()??!0x1);}['registerPublisher'](_0x1fdac1){const _0x250376=_0x1af94f;this[_0x250376(0x3cf)]['set'](_0x1fdac1['getLabel'](),_0x1fdac1);}[_0x1af94f(0x3ea)](_0x39db7){const _0x228c3d=_0x1af94f;this[_0x228c3d(0x3cf)][_0x228c3d(0x8e1)](_0x39db7[_0x228c3d(0x8c4)]());}[_0x1af94f(0x5c1)](_0x54f6a4){const _0x104b75=_0x1af94f,_0x4e30d6=_0x54f6a4['subscribe'](this[_0x104b75(0x4ef)][_0x104b75(0x136)](this));this[_0x104b75(0x736)][_0x104b75(0x81a)](_0x54f6a4['getLabel'](),_0x4e30d6);}[_0x1af94f(0x62a)](_0x3eb87f){const _0x3ff35a=_0x1af94f;this[_0x3ff35a(0x736)]['get'](_0x3eb87f[_0x3ff35a(0x8c4)]())?.(),this[_0x3ff35a(0x736)][_0x3ff35a(0x8e1)](_0x3eb87f[_0x3ff35a(0x8c4)]());}['getSupportedContentTypes'](){const _0xb8b830=_0x1af94f;return[_0xb0907f['ContentType'][_0xb8b830(0x5a0)],_0xb0907f[_0xb8b830(0x178)]['PubSub'],_0xb0907f[_0xb8b830(0x178)]['ObjectStore'],_0xb0907f[_0xb8b830(0x178)]['KeyValueDatabase'],_0xb0907f[_0xb8b830(0x178)][_0xb8b830(0x2c1)],_0xb0907f[_0xb8b830(0x178)][_0xb8b830(0x21e)],_0xb0907f[_0xb8b830(0x178)]['GraphDatabase'],_0xb0907f[_0xb8b830(0x178)]['ExternalStorage']];}[_0x1af94f(0x4ef)](_0x489972){const _0x14a32=_0x1af94f;if(!0x1===_0x489972['retry']){if(_0x489972[_0x14a32(0x533)]||!_0x489972[_0x14a32(0x930)]||0x1!==_0x489972['destinationIds'][_0x14a32(0x71c)])throw new _0x3c8547(_0x3c8547[_0x14a32(0x700)][_0x14a32(0x689)],{'message':_0x14a32(0x8ea),'localId':this['localId']});if(!this[_0x14a32(0x119)](_0x489972['destinationIds'][0x0]))throw new _0x446b55(_0x14a32(0x968));}const _0x37d377=_0x489972[_0x14a32(0x369)]??[];try{const {filteredDestinationIds:_0x387a1a,extendedRecipients:_0x4b1efd}=this[_0x14a32(0x14e)](_0x489972,_0x37d377);_0x489972[_0x14a32(0x930)]=_0x387a1a,_0x489972[_0x14a32(0x369)]=_0x4b1efd;}catch(_0x40eba2){if(_0x40eba2 instanceof _0x446b55)return void _0x5999e0['log'](_0x53526a['Connection'],_0x14a32(0x1b8),_0x14a32(0x7fe),_0x489972,_0x40eba2[_0x14a32(0x802)]);}const _0x336988=this[_0x14a32(0x53a)](_0x489972);this[_0x14a32(0x2c9)](_0x489972,_0x336988),_0x489972[_0x14a32(0x533)]=_0x336988;const _0x169ce0=this[_0x14a32(0x981)](_0x489972,_0x37d377);for(const _0x5eb23b of _0x169ce0){const _0x2f096f=this[_0x14a32(0x511)][_0x14a32(0x70a)](_0x5eb23b[_0x14a32(0x56a)]());if(!_0x2f096f)throw new _0x3c8547(_0x3c8547['codes'][_0x14a32(0x6a9)],{'message':_0x14a32(0x4bc),'localId':this[_0x14a32(0x7d4)],'remoteId':_0x5eb23b['getRemoteId'](),'data':_0x489972});_0x2f096f[_0x14a32(0x3d6)](_0x489972);}}[_0x1af94f(0x56a)](){return'';}[_0x1af94f(0x403)](){const _0x3665cc=_0x1af94f;return this[_0x3665cc(0x7d4)];}[_0x1af94f(0x83b)](_0x140ddd){const _0x1be941=_0x1af94f;return this[_0x1be941(0x29a)][_0x1be941(0x9f2)](_0x140ddd);}['updatePropagationProperties'](_0x198fc6,_0x9bd85d){const _0x50c9fc=_0x1af94f,_0x2fca19={'filteredDestinationIds':_0x198fc6[_0x50c9fc(0x930)],'extendedRecipients':_0x198fc6[_0x50c9fc(0x369)]};if(!_0x198fc6[_0x50c9fc(0x533)])return _0x2fca19;const _0x13ed31=Array[_0x50c9fc(0x13b)](this['connections'][_0x50c9fc(0x7a3)]())['filter'](_0x113948=>_0x113948[_0x50c9fc(0x1bb)]()===_0x852eca[_0x50c9fc(0x9e1)]||_0x113948[_0x50c9fc(0x119)]())[_0x50c9fc(0x7d0)](_0x51f2e3=>_0x51f2e3[_0x50c9fc(0x56a)]());if(_0x13ed31[_0x50c9fc(0x7e2)]((_0x4bfd82,_0x26b2ea)=>_0x4bfd82&&_0x198fc6[_0x50c9fc(0x369)][_0x50c9fc(0x1ed)](_0x26b2ea),!0x0))throw new _0x446b55(_0x50c9fc(0x37b));if(_0x198fc6[_0x50c9fc(0x930)]){const _0x52717d=_0x198fc6[_0x50c9fc(0x930)][_0x50c9fc(0x7e0)](_0x81e3cd=>_0x81e3cd!==this['localId']&&!_0x198fc6[_0x50c9fc(0x369)][_0x50c9fc(0x1ed)](_0x81e3cd));if(0x0===_0x52717d[_0x50c9fc(0x71c)])throw new _0x446b55(_0x50c9fc(0x5ca));_0x2fca19[_0x50c9fc(0x5d1)]=_0x52717d;}return _0x2fca19['extendedRecipients']=[...new Set([..._0x9bd85d,..._0x13ed31,this[_0x50c9fc(0x7d4)]])],_0x2fca19;}['logPropagateSystemEvent'](_0x1118d6,_0x1deeb9=!0x1){const _0x18e315=_0x1af94f;if(0x0===_0x1118d6[_0x18e315(0x489)]&&!_0x5a41e3(_0x1118d6,this[_0x18e315(0x7d4)])&&_0x1118d6[_0x18e315(0x533)]){const _0x2acfb0=_0x373153(_0x1118d6,this[_0x18e315(0x7d4)]);_0x5999e0[_0x18e315(0x472)](_0x53526a[_0x18e315(0x16a)],_0x1118d6[_0x18e315(0x529)]+'\x20-\x20Sending\x20propagation\x20('+_0x1deeb9+')\x20'+_0x2acfb0,_0x1118d6,_0x1deeb9);}}[_0x1af94f(0x53a)](_0x22349b){const _0x7e68e1=_0x1af94f;if(_0x22349b['destinationIds']&&_0x22349b['propagate']){const _0x4c791a=Array[_0x7e68e1(0x13b)](this[_0x7e68e1(0x737)][_0x7e68e1(0x7a3)]())[_0x7e68e1(0x7e0)](_0x4386b2=>_0x4386b2[_0x7e68e1(0x1bb)]()===_0x852eca['Core']||_0x4386b2['isConnected']())[_0x7e68e1(0x7d0)](_0x26711d=>_0x26711d[_0x7e68e1(0x56a)]());return!_0x22349b[_0x7e68e1(0x930)]['reduce']((_0x57f947,_0x290a40)=>_0x57f947&&_0x4c791a[_0x7e68e1(0x1ed)](_0x290a40),!0x0);}return _0x22349b[_0x7e68e1(0x533)]??!0x1;}['getConnectionDestinations'](_0x562806,_0x359251){const _0x1b3ca0=_0x1af94f;if(_0x562806['propagate']&&_0x562806[_0x1b3ca0(0x930)]){const _0x3e9c7b=Array['from'](this[_0x1b3ca0(0x737)]['keys']())[_0x1b3ca0(0x7e0)](_0x128877=>_0x128877['getConnectionType']()===_0x852eca[_0x1b3ca0(0x9e1)]||_0x128877[_0x1b3ca0(0x119)]())[_0x1b3ca0(0x7d0)](_0x1745e4=>_0x1745e4[_0x1b3ca0(0x56a)]()),_0x3162fb=new Set(),_0x1982f0=_0x562806[_0x1b3ca0(0x825)]===this[_0x1b3ca0(0x7d4)]?0x3:0x1;return _0x562806[_0x1b3ca0(0x930)][_0x1b3ca0(0x333)](_0x2d84c0=>{const _0x1c5aff=_0x1b3ca0,_0x52422c=this[_0x1c5aff(0x344)][_0x1c5aff(0x253)](_0x3e9c7b,_0x2d84c0);let _0x2b14a3=0x0,_0x331cf7=0x0;_0x52422c[_0x1c5aff(0x333)](_0x5600ad=>{const _0x7a1235=_0x1c5aff;if(_0x2b14a3>=_0x1982f0)return;const _0x31926f=Array['from'](this[_0x7a1235(0x737)][_0x7a1235(0x7a3)]())[_0x7a1235(0x7ef)](_0x5e9f5a=>_0x5e9f5a[_0x7a1235(0x56a)]()===_0x5600ad);if(_0x31926f){if(_0x31926f['getConnectionType']()===_0x852eca[_0x7a1235(0x9e1)]&&_0x331cf7>0x0)return void(_0x331cf7-=0x1);_0x3162fb[_0x7a1235(0x23a)](_0x31926f),_0x31926f[_0x7a1235(0x1bb)]()===_0x852eca[_0x7a1235(0x4f0)]&&(_0x331cf7+=0x1),_0x2b14a3+=0x1;}});}),Array['from'](_0x3162fb);}return Array[_0x1b3ca0(0x13b)](this[_0x1b3ca0(0x737)][_0x1b3ca0(0x7a3)]())['filter'](_0x13e5ef=>{const _0x592eee=_0x1b3ca0;return _0x3eca5f=_0x13e5ef[_0x592eee(0x56a)](),!_0x359251['includes'](_0x3eca5f)&&(_0x17df7b(_0x562806,_0x3eca5f)||_0x562806[_0x592eee(0x533)])&&(!_0x562806[_0x592eee(0x533)]||_0x13e5ef['isConnected']()||_0x13e5ef[_0x592eee(0x1bb)]()===_0x852eca['Core']);var _0x3eca5f;});}}class _0x358eec{[_0x1af94f(0x7d4)];['messageBuffer'];['connections']=new Map();['systemTopic'];constructor(_0x557cae,_0x1a69b6){const _0x31636a=_0x1af94f;this[_0x31636a(0x7d4)]=_0x557cae,this[_0x31636a(0x1bd)]=_0x1a69b6;}[_0x1af94f(0x92f)](){}[_0x1af94f(0x4ef)](_0x2ee8a6){const _0x42311c=_0x1af94f;for(const _0x200ccc of this['connections']['keys']())try{return void _0x200ccc[_0x42311c(0x4ef)]({'retry':!0x1,..._0x2ee8a6});}catch(_0x1c3f49){_0x1c3f49 instanceof _0x446b55||_0x5999e0[_0x42311c(0x15c)](_0x53526a[_0x42311c(0x1d6)],_0x42311c(0x291)+_0x200ccc,_0x1c3f49,_0x2ee8a6);}_0x5999e0[_0x42311c(0x15c)](_0x53526a[_0x42311c(0x1d6)],_0x42311c(0x94f));}[_0x1af94f(0x733)](_0x303b08){const _0x287281=_0x1af94f,_0x2da952=_0x303b08[_0x287281(0x83b)](_0x21d3ad=>{const _0x1da0cd=_0x287281;this[_0x1da0cd(0x1bd)]['hasMessage'](_0x21d3ad['uuid'])||0x0===_0x21d3ad['topicLabel']&&(this[_0x1da0cd(0x1bd)][_0x1da0cd(0x6f8)](_0x21d3ad['uuid']),_0x17df7b(_0x21d3ad,this[_0x1da0cd(0x7d4)])&&this[_0x1da0cd(0x316)]?.[_0x1da0cd(0x3ec)](_0x21d3ad));});this['connections'][_0x287281(0x81a)](_0x303b08,_0x2da952);}[_0x1af94f(0x748)](_0x359864){const _0x5565c9=_0x1af94f;this['connections'][_0x5565c9(0x70a)](_0x359864)?.(),this[_0x5565c9(0x737)][_0x5565c9(0x8e1)](_0x359864);}[_0x1af94f(0x403)](){const _0x57560d=_0x1af94f;return this[_0x57560d(0x7d4)];}[_0x1af94f(0x56a)](){return'';}[_0x1af94f(0x543)](){const _0x34fbfa=_0x1af94f;return[_0xb0907f[_0x34fbfa(0x178)][_0x34fbfa(0x5a0)]];}[_0x1af94f(0x119)](){const _0x58419c=_0x1af94f;throw new Error(_0x58419c(0x807));}[_0x1af94f(0x412)](_0x4d1b50){const _0x239146=_0x1af94f;this[_0x239146(0x316)]=_0x4d1b50;}[_0x1af94f(0x466)](){const _0x58643c=_0x1af94f;delete this[_0x58643c(0x316)];}}class _0x3fbc74{[_0x1af94f(0x87b)]=new Map();['unsubscribeHandler'];constructor(){const _0x549a80=_0x1af94f;this[_0x549a80(0x302)]=_0xdf6e0c[_0x549a80(0x1ea)](()=>{const _0xad35f0=_0x549a80;for(const [_0x1b59e3,_0x546d57]of this[_0xad35f0(0x87b)][_0xad35f0(0xa3a)]())Date['now']()-_0x546d57>0x124f80&&this[_0xad35f0(0x87b)][_0xad35f0(0x8e1)](_0x1b59e3);},0x1d4c0);}[_0x1af94f(0x92f)](){const _0x2d3334=_0x1af94f;this[_0x2d3334(0x302)]();}[_0x1af94f(0x6f8)](_0x3ab6fc){const _0x2e46cc=_0x1af94f;this[_0x2e46cc(0x87b)][_0x2e46cc(0x81a)](_0x3ab6fc,Date[_0x2e46cc(0x1f3)]());}[_0x1af94f(0x6ab)](_0x153374){const _0x348409=_0x1af94f;return this[_0x348409(0x87b)][_0x348409(0x907)](_0x153374);}}class _0x323384{[_0x1af94f(0x45b)];[_0x1af94f(0x589)];[_0x1af94f(0x4ac)];[_0x1af94f(0x9b8)];['connections']=new Map();[_0x1af94f(0x999)];[_0x1af94f(0x63a)];[_0x1af94f(0x2e0)];[_0x1af94f(0x1bd)];constructor(_0x37ba50,_0x3c0cee,_0x22b23e,_0x3f822c,_0x3b9cf8){const _0x38ad4e=_0x1af94f;this[_0x38ad4e(0x45b)]=_0x37ba50,this['authService']=_0x3c0cee,this['iceServers']=_0x3f822c,this[_0x38ad4e(0x9b8)]=_0x3b9cf8,this[_0x38ad4e(0x1bd)]=new _0x3fbc74(),this[_0x38ad4e(0x63a)]=new _0x583198(this['configs'][_0x38ad4e(0x658)][_0x38ad4e(0x8f3)](),this[_0x38ad4e(0x1bd)],_0x22b23e),this['signalingServer']=new _0x169379(this[_0x38ad4e(0x45b)][_0x38ad4e(0x90c)],this[_0x38ad4e(0x45b)][_0x38ad4e(0x230)],this['configs']['localNode'],_0x38ad4e(0x3a0),this['authService']),this[_0x38ad4e(0x999)]=new _0x358eec(this[_0x38ad4e(0x45b)][_0x38ad4e(0x658)][_0x38ad4e(0x8f3)](),this['messageBuffer']),this[_0x38ad4e(0x999)][_0x38ad4e(0x733)](this[_0x38ad4e(0x63a)]),this[_0x38ad4e(0x999)]['addConnection'](this[_0x38ad4e(0x2e0)]),this[_0x38ad4e(0x45b)][_0x38ad4e(0x9ba)]['registerSystemSource'](this['connectionPool']);}['close'](){const _0xd93b42=_0x1af94f;this[_0xd93b42(0x1bd)]['close'](),this[_0xd93b42(0x737)]['forEach']((_0x3b6a64,_0x147e6a)=>this[_0xd93b42(0x1c3)](_0x147e6a)),this[_0xd93b42(0x45b)]['mediator'][_0xd93b42(0x33d)](this[_0xd93b42(0x999)]),this[_0xd93b42(0x999)][_0xd93b42(0x748)](this['signalingServer']),this[_0xd93b42(0x999)][_0xd93b42(0x748)](this['connectionGroup']),this[_0xd93b42(0x999)][_0xd93b42(0x92f)](),this['signalingServer'][_0xd93b42(0x92f)](),this[_0xd93b42(0x63a)]['close']();}async[_0x1af94f(0x462)](){const _0x16f4b9=_0x1af94f;await this[_0x16f4b9(0x2e0)][_0x16f4b9(0x718)]();}async['createConnection'](_0x421324,_0x23a842=_0x852eca[_0x1af94f(0x9e1)]){const _0x3bc4e1=_0x1af94f;if(this['connections'][_0x3bc4e1(0x907)](_0x421324)){if(this[_0x3bc4e1(0x737)][_0x3bc4e1(0x70a)](_0x421324)?.[_0x3bc4e1(0x1bb)]()===_0x852eca[_0x3bc4e1(0x4f0)]&&_0x23a842===_0x852eca[_0x3bc4e1(0x9e1)])return void this['connections'][_0x3bc4e1(0x70a)](_0x421324)?.[_0x3bc4e1(0x167)](_0x852eca['Core']);throw new _0x3c8547(_0x3c8547[_0x3bc4e1(0x700)][_0x3bc4e1(0x1de)],{'localId':this[_0x3bc4e1(0x45b)][_0x3bc4e1(0x658)][_0x3bc4e1(0x8f3)](),'remoteId':_0x421324});}const _0x1e698a=new _0x35b0bb(this[_0x3bc4e1(0x45b)][_0x3bc4e1(0x230)],this[_0x3bc4e1(0x45b)][_0x3bc4e1(0x658)],_0x421324,this[_0x3bc4e1(0x4ac)],_0x23a842,this['options']['maxFps'],this[_0x3bc4e1(0x9b8)][_0x3bc4e1(0x6d4)],this[_0x3bc4e1(0x9b8)][_0x3bc4e1(0x1e5)]);this[_0x3bc4e1(0x737)][_0x3bc4e1(0x81a)](_0x421324,_0x1e698a),this[_0x3bc4e1(0x63a)][_0x3bc4e1(0x733)](_0x1e698a),this[_0x3bc4e1(0x45b)][_0x3bc4e1(0x9ba)][_0x3bc4e1(0x7cc)](_0x1e698a),this[_0x3bc4e1(0x45b)][_0x3bc4e1(0x9ba)][_0x3bc4e1(0x65c)](_0x421324),await _0x1e698a[_0x3bc4e1(0x718)]();}['getConnectionGroup'](){const _0x32c7cc=_0x1af94f;return this[_0x32c7cc(0x63a)];}[_0x1af94f(0x331)](_0x521994){const _0x4e39b0=_0x1af94f;if(!this['connections'][_0x4e39b0(0x907)](_0x521994))throw new _0x3c8547(_0x3c8547[_0x4e39b0(0x700)][_0x4e39b0(0x512)],{'localId':this[_0x4e39b0(0x45b)]['localNode']['getId'](),'remoteId':_0x521994});return this[_0x4e39b0(0x737)]['get'](_0x521994);}['getConnections'](_0x54d9b2){const _0x2f8393=_0x1af94f,_0xc252a5=Array[_0x2f8393(0x13b)](this['connections'][_0x2f8393(0x7e5)]());return _0x54d9b2?_0xc252a5[_0x2f8393(0x7e0)](_0x54d9b2):_0xc252a5;}async[_0x1af94f(0x66f)](_0x519c50){const _0x5b4a39=_0x1af94f,_0x240b09=this[_0x5b4a39(0x737)][_0x5b4a39(0x70a)](_0x519c50);_0x240b09&&_0x240b09[_0x5b4a39(0x119)]()&&await _0x240b09[_0x5b4a39(0x66f)]();}[_0x1af94f(0x27d)](_0x3fa7fe){const _0x54f2f8=_0x1af94f;if(_0x3fa7fe['messageType']!==_0x502914[_0x54f2f8(0xa06)]||_0x3fa7fe['propagate'])try{this['connectionGroup'][_0x54f2f8(0x4ef)](_0x3fa7fe);}catch(_0x56a4b2){if(_0x56a4b2 instanceof _0x446b55)return;throw _0x56a4b2;}else this[_0x54f2f8(0x999)]['send'](_0x3fa7fe);}async[_0x1af94f(0x635)](_0x368eac){const _0x59ac61=_0x1af94f;switch(_0x368eac['content'][_0x59ac61(0x44f)]){case _0xba45aa[_0x59ac61(0xa03)]:case _0xba45aa['Stats']:case _0xba45aa['OptimizationConnectionSuccess']:return;}if(!_0x368eac[_0x59ac61(0x930)]||0x1!==_0x368eac[_0x59ac61(0x930)]['length'])throw new _0x3c8547(_0x3c8547[_0x59ac61(0x700)][_0x59ac61(0x793)],{'message':_0x59ac61(0x9f1),'event':_0x368eac});if(_0x368eac[_0x59ac61(0x930)][0x0]!==this[_0x59ac61(0x45b)][_0x59ac61(0x658)][_0x59ac61(0x8f3)]())throw new _0x3c8547(_0x3c8547[_0x59ac61(0x700)][_0x59ac61(0x793)],{'message':'Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','event':_0x368eac});if(!this[_0x59ac61(0x737)][_0x59ac61(0x907)](_0x368eac[_0x59ac61(0x825)])){let _0x10ab10=_0x852eca[_0x59ac61(0x9e1)];if(!(this['isOffer'](_0x368eac[_0x59ac61(0x3fe)])||this[_0x59ac61(0x233)](_0x368eac[_0x59ac61(0x3fe)])||this['isNeedRestart'](_0x368eac[_0x59ac61(0x3fe)])))return;_0x10ab10=_0x368eac[_0x59ac61(0x3fe)][_0x59ac61(0x280)],await this[_0x59ac61(0x8b0)](_0x368eac['sourceId'],_0x10ab10);}const _0x14de8f=this[_0x59ac61(0x737)]['get'](_0x368eac[_0x59ac61(0x825)]);await _0x14de8f[_0x59ac61(0x635)](_0x368eac);}['handleRemediationSystemEvents'](_0x468544){const _0x51103e=_0x1af94f;if(_0x468544[_0x51103e(0x3fe)]['type']===_0x3a5409['Remediation']){if(_0x468544[_0x51103e(0x3fe)][_0x51103e(0x616)]===this[_0x51103e(0x45b)][_0x51103e(0x658)]['getId']())return void this[_0x51103e(0x737)][_0x51103e(0x333)](_0x2f7016=>_0x2f7016['handleRemediationSystemEvents'](_0x468544));this[_0x51103e(0x737)]['get'](_0x468544[_0x51103e(0x3fe)][_0x51103e(0x616)])?.[_0x51103e(0x7cf)](_0x468544);}}['handleNodeSystemEvents']({content:_0x3f633a}){const _0x26cb2c=_0x1af94f;_0x3f633a[_0x26cb2c(0x44f)]===_0x4f0fdf[_0x26cb2c(0x18b)]&&this['closeConnection'](_0x3f633a['id']);}[_0x1af94f(0x845)](){const _0x10178e=_0x1af94f,_0x49aee5=Array[_0x10178e(0x13b)](this[_0x10178e(0x737)][_0x10178e(0x7e5)]())[_0x10178e(0x7e2)]((_0x54f61b,_0x23e16c)=>_0x54f61b+_0x23e16c[_0x10178e(0xa52)](),0x0);return _0x49aee5<_0xc272a2?Promise['resolve'](_0x49aee5):new Promise(_0x38111c=>{const _0x2e1230=setInterval(()=>{const _0x27687d=a0_0xaf41,_0x34bfbe=Array[_0x27687d(0x13b)](this['connections'][_0x27687d(0x7e5)]())[_0x27687d(0x7e2)]((_0x4318a6,_0x528afb)=>_0x4318a6+_0x528afb[_0x27687d(0xa52)](),0x0);_0x34bfbe<_0xc272a2&&(clearInterval(_0x2e1230),_0x38111c(_0x34bfbe));},0x3e8);});}[_0x1af94f(0x96d)](){const _0x4cd3a6=_0x1af94f;for(const _0x518af1 of this[_0x4cd3a6(0x737)][_0x4cd3a6(0x7e5)]())if(_0x518af1['getBufferedAmount']()>0x0||_0x518af1[_0x4cd3a6(0xa52)]()>0x0)return!0x0;return!0x1;}[_0x1af94f(0x1c3)](_0x1fbd5c){const _0x500397=_0x1af94f,_0x5d9de6=this[_0x500397(0x737)]['get'](_0x1fbd5c);_0x5d9de6&&(this[_0x500397(0x45b)][_0x500397(0x9ba)][_0x500397(0x46a)](_0x1fbd5c),this[_0x500397(0x45b)][_0x500397(0x9ba)]['unregisterSystemSource'](_0x5d9de6),_0x5d9de6 instanceof _0x35b0bb&&this[_0x500397(0x63a)]['removeConnection'](_0x5d9de6),_0x5d9de6['close'](),this[_0x500397(0x737)][_0x500397(0x8e1)](_0x1fbd5c));}[_0x1af94f(0x879)](_0x32a3f4){const _0x5a1908=_0x1af94f;return _0x32a3f4[_0x5a1908(0x44f)]===_0xba45aa[_0x5a1908(0x5ad)];}[_0x1af94f(0x60e)](_0x5f5d07){const _0x7c6504=_0x1af94f;return _0x5f5d07[_0x7c6504(0x44f)]===_0xba45aa[_0x7c6504(0x7fb)];}[_0x1af94f(0x233)](_0x4c2285){const _0x2f0b12=_0x1af94f;return _0x4c2285[_0x2f0b12(0x44f)]===_0xba45aa[_0x2f0b12(0x93d)];}}!function(_0x38c3d3){const _0x411bd5=_0x1af94f;_0x38c3d3[_0x38c3d3[_0x411bd5(0x6de)]=0x0]=_0x411bd5(0x6de),_0x38c3d3[_0x38c3d3[_0x411bd5(0x459)]=0x1]=_0x411bd5(0x459),_0x38c3d3[_0x38c3d3['UnsubscribeMediaStream']=0x2]='UnsubscribeMediaStream',_0x38c3d3[_0x38c3d3['NeedMediaStream']=0x3]=_0x411bd5(0xa27),_0x38c3d3[_0x38c3d3[_0x411bd5(0x6b5)]=0x4]=_0x411bd5(0x6b5),_0x38c3d3[_0x38c3d3[_0x411bd5(0x381)]=0x5]=_0x411bd5(0x381),_0x38c3d3[_0x38c3d3[_0x411bd5(0x1f2)]=0x6]=_0x411bd5(0x1f2),_0x38c3d3[_0x38c3d3['MediaStreamUnavailable']=0x7]=_0x411bd5(0x854);}(_0x5f1baf||(_0x5f1baf={}));class _0x45f0d7 extends _0x1eef03{[_0x1af94f(0x658)];[_0x1af94f(0x230)];[_0x1af94f(0x90c)];[_0x1af94f(0xfc)];[_0x1af94f(0x11a)];[_0x1af94f(0x8bf)]=0x0;[_0x1af94f(0x54d)];[_0x1af94f(0x6bb)]=_0x69b7e5();['listenerUnsubscribers']=new Map();[_0x1af94f(0x451)];constructor(_0x52e754,_0x59273e,_0x5e50db,_0x4a7b2b,_0xb4bc7c){const _0x33358f=_0x1af94f;if(_0x33358f(0x4e9)!=typeof _0x59273e)throw new _0x3b3113(_0x56d472['ExternalStorageNameNotString'],_0x33358f(0x2f9));super(_0x52e754,_0x59273e),this[_0x33358f(0x658)]=_0x52e754,this[_0x33358f(0x230)]=_0x5e50db,this[_0x33358f(0x90c)]=_0x4a7b2b,this[_0x33358f(0xfc)]=_0xb4bc7c,this[_0x33358f(0x9ed)]();}[_0x1af94f(0x541)](){const _0x340286=_0x1af94f;this[_0x340286(0x451)]?.(),this[_0x340286(0x5ef)][_0x340286(0x333)](_0x495b74=>_0x495b74()),clearTimeout(this[_0x340286(0x11a)]),delete this['debounceStats'],super['destroy']();}[_0x1af94f(0x9b6)](){const _0x5e63b8=_0x1af94f;this[_0x5e63b8(0x9ed)]();}[_0x1af94f(0x92f)](){const _0x39df8b=_0x1af94f;this['systemTopic']['publish']({'sourceId':_0x50bf9f,'messageType':_0x502914[_0x39df8b(0x54e)],'content':{'type':_0x20f4a0[_0x39df8b(0x3a1)],'label':this[_0x39df8b(0xf1)]}});}[_0x1af94f(0x8f7)](){const _0x10e11e=_0x1af94f;return _0xb0907f['ContentType'][_0x10e11e(0x6b2)];}async[_0x1af94f(0x70a)](_0x32e4ef){const _0xb43759=_0x1af94f;if(!this[_0xb43759(0x54d)])throw new _0x3b3113(_0x56d472[_0xb43759(0x840)],_0xb43759(0x14b));_0x5999e0[_0xb43759(0x624)](_0x53b20f[_0xb43759(0x6b2)],{'type':_0xb43759(0x70a),'label':this[_0xb43759(0xf1)],'nodeId':this[_0xb43759(0x658)][_0xb43759(0x8f3)](),'nodeType':this['localNode'][_0xb43759(0x44f)],'clusterId':this[_0xb43759(0x230)],'path':_0x32e4ef}),this[_0xb43759(0x8bf)]+=0x1,this['sendStats']();try{return await this['connector'][_0xb43759(0x70a)](_0x32e4ef);}catch(_0x1491c5){throw new _0x3b3113(_0x56d472[_0xb43759(0x1af)],_0xb43759(0x287)+_0x32e4ef);}}async[_0x1af94f(0x3d1)](_0x40ee57,_0x492929){const _0x195fd0=_0x1af94f;if(!this[_0x195fd0(0x54d)])throw new _0x3b3113(_0x56d472['ExternalStorageConnectorsMissing'],'Cannot\x20list\x20directory:\x20External\x20Storage\x20not\x20connected');const {recursive:_0x5757aa=!0x1}=_0x492929??{};_0x5999e0[_0x195fd0(0x624)](_0x53b20f['ExternalStorage'],{'type':_0x195fd0(0x3d1),'label':this[_0x195fd0(0xf1)],'nodeId':this[_0x195fd0(0x658)]['getId'](),'nodeType':this[_0x195fd0(0x658)][_0x195fd0(0x44f)],'clusterId':this[_0x195fd0(0x230)],'path':_0x40ee57}),this[_0x195fd0(0x8bf)]+=0x1,this['sendStats']();try{return await this[_0x195fd0(0x54d)][_0x195fd0(0x3d1)](_0x40ee57,_0x5757aa);}catch(_0x4f0355){throw new _0x3b3113(_0x56d472[_0x195fd0(0x1af)],'Cannot\x20list\x20directory:\x20'+_0x40ee57);}}['subscribe'](_0x4e7ad0,_0x47f251){const _0x1886ba=_0x1af94f;if(this[_0x1886ba(0x5ef)][_0x1886ba(0x907)](_0x4e7ad0))throw new _0x3b3113(_0x56d472[_0x1886ba(0x78f)],'Cannot\x20subscribe\x20to\x20ExternalStorage:\x20Already\x20subscribed');this[_0x1886ba(0x5ef)][_0x1886ba(0x81a)](_0x4e7ad0,this['eventListener'][_0x1886ba(0x9f2)](_0x47f251));}[_0x1af94f(0x885)](_0x146256){const _0x29445b=_0x1af94f;this[_0x29445b(0x5ef)][_0x29445b(0x70a)](_0x146256)?.(),this['listenerUnsubscribers']['delete'](_0x146256);}async[_0x1af94f(0x2de)](){const _0x5dac9a=_0x1af94f,_0x4786b9=(await(0x0,_0x36eea4[_0x5dac9a(0x604)])((0x0,_0x36eea4[_0x5dac9a(0x295)])(_0xa01105[_0x5dac9a(0x1ca)](),'/developers/'+this[_0x5dac9a(0x90c)]+_0x5dac9a(0x440)+this[_0x5dac9a(0xf1)])))['data']();if(!_0x4786b9)throw new _0x3b3113(_0x56d472[_0x5dac9a(0x4c4)],_0x5dac9a(0x828)+this[_0x5dac9a(0xf1)]);const {site:_0x1aa433,drive:_0x21bbe0}=_0x4786b9,_0x3dc1e9=(await(0x0,_0x52a505[_0x5dac9a(0x377)])(_0xa01105[_0x5dac9a(0x767)](),_0x5dac9a(0x528))({'storageId':this[_0x5dac9a(0xf1)]}))[_0x5dac9a(0x87a)][_0x5dac9a(0x625)];this[_0x5dac9a(0x54d)]=new this['connectorConstructor'](_0x1aa433['id'],_0x21bbe0['id'],_0x3dc1e9,async()=>(await(0x0,_0x52a505[_0x5dac9a(0x377)])(_0xa01105[_0x5dac9a(0x767)](),_0x5dac9a(0x672))({'storageId':this[_0x5dac9a(0xf1)]}))[_0x5dac9a(0x87a)][_0x5dac9a(0x625)]),this['trackChanges']();}[_0x1af94f(0x9ed)](){const _0x13beb8=_0x1af94f;this[_0x13beb8(0x11a)]&&clearTimeout(this['debounceStats']),this['debounceStats']=setTimeout(async()=>{const _0x57633a=_0x13beb8;delete this[_0x57633a(0x11a)],this[_0x57633a(0x316)][_0x57633a(0x3ec)]({'sourceId':_0x50bf9f,'messageType':_0x502914[_0x57633a(0x54e)],'content':{'type':_0x20f4a0['ExternalStorageStats'],'label':this['label'],'stats':{'timestamp':Date[_0x57633a(0x1f3)](),'storage':0x0,'messagesSent':0x0,'messagesReceived':0x0,'bytesSent':0x0,'bytesReceived':0x0,'writes':0x0,'reads':this[_0x57633a(0x8bf)],'prompts':0x0,'tokens':0x0}}});},_0x33f6e5);}async[_0x1af94f(0x6df)](){const _0x61a233=_0x1af94f;await this['connector']?.[_0x61a233(0x5ac)](),this['changesUnsubscriber']=_0xdf6e0c[_0x61a233(0x1ea)](async()=>{const _0x4b9e40=_0x61a233;try{if(!this[_0x4b9e40(0x54d)])return;const _0x8db156=await this[_0x4b9e40(0x54d)]['listChanges']();for(const _0x2cb3c3 of _0x8db156)this[_0x4b9e40(0x6bb)][_0x4b9e40(0x3ec)](_0x2cb3c3);}catch(_0xb31c82){}},0x493e0);}}const _0x42082d=require('rxjs');class _0x1fda06 extends _0x1eef03{[_0x1af94f(0x344)];['jobs']=new Map();[_0x1af94f(0x632)]=new Map();[_0x1af94f(0x559)]=new Map();[_0x1af94f(0x302)];constructor(_0x30449b,_0x17aa0e,_0x3051cc){const _0x5249f9=_0x1af94f;super(_0x30449b,_0x17aa0e),this[_0x5249f9(0x344)]=_0x3051cc;}[_0x1af94f(0x8f7)](){const _0xd71749=_0x1af94f;return _0xb0907f[_0xd71749(0x178)]['Job'];}[_0x1af94f(0x2de)](){const _0x491e5e=_0x1af94f;this['unsubscribeHandler']=this[_0x491e5e(0x83b)]((_0x533aef,_0x48df25)=>{const _0x4e0b26=_0x491e5e;if(_0x5999e0[_0x4e0b26(0x15c)](_0x53526a[_0x4e0b26(0x2db)],_0x4e0b26(0x87e),_0x533aef,_0x48df25,this[_0x4e0b26(0x344)]['getRemoteNodes']()),!(_0x48df25 instanceof File)){if(!_0x48df25)throw new _0x3c8547(_0x3c8547['codes'][_0x4e0b26(0x4da)]);return this[_0x4e0b26(0x28a)](_0x48df25)?this['addBidResponse'](_0x533aef,_0x48df25['id'],_0x48df25):this[_0x4e0b26(0x416)](_0x48df25)?(_0x5999e0[_0x4e0b26(0x15c)](_0x53526a[_0x4e0b26(0x2db)],_0x4e0b26(0x1f9)+_0x48df25['id']+'\x20received\x20partial\x20result:',_0x48df25['result']),void this[_0x4e0b26(0x594)](_0x48df25['id'],_0x48df25)):this['isResultResponse'](_0x48df25)?(_0x5999e0[_0x4e0b26(0x15c)](_0x53526a['Jobs'],'Job\x20'+_0x48df25['id']+'\x20received\x20result:',_0x48df25[_0x4e0b26(0x937)]),void this['evaluateProccessedJob'](_0x48df25['id'],_0x48df25)):void(this[_0x4e0b26(0x3cd)](_0x48df25)&&this[_0x4e0b26(0x577)](_0x48df25['id'],_0x48df25[_0x4e0b26(0x802)]));}});}[_0x1af94f(0x9b6)](){this['clear'](),this['open']();}[_0x1af94f(0x541)](){const _0x3179a1=_0x1af94f;this['clear'](),super[_0x3179a1(0x541)]();}[_0x1af94f(0xa4f)](){const _0x42dc52=_0x1af94f;this['jobs'][_0x42dc52(0xa4f)](),this[_0x42dc52(0x302)]&&this[_0x42dc52(0x302)]();}[_0x1af94f(0x92f)](){const _0xbc044f=_0x1af94f;this['systemTopic']?.[_0xbc044f(0x3ec)]({'sourceId':_0x50bf9f,'messageType':_0x502914[_0xbc044f(0x54e)],'content':{'type':_0x20f4a0['CloseJobDispatcher'],'label':this[_0xbc044f(0xf1)]}});}async[_0x1af94f(0x248)](_0x24ded6){const _0x15beeb=_0x1af94f,{id:_0x30ea14,parameters:_0x5a146e,jobType:_0x28dbbb}=_0x24ded6,_0x51a0f0={'id':_0x30ea14,'jobType':_0x28dbbb,'parameters':_0x5a146e,'status':_0xb0907f[_0x15beeb(0x8d3)][_0x15beeb(0x3d7)],'created':new Date(),'updated':new Date()};if(this['jobs']['has'](_0x51a0f0['id']))throw new _0x3b3113(_0x56d472[_0x15beeb(0x774)],_0x15beeb(0x3e2)+_0x51a0f0['id']+_0x15beeb(0x2a7));_0x51a0f0[_0x15beeb(0x410)]=new Date(),_0x51a0f0['updated']=new Date();const _0x58bdf5=new _0x42082d['Subject']();this[_0x15beeb(0x42f)][_0x15beeb(0x81a)](_0x51a0f0['id'],_0x51a0f0),this[_0x15beeb(0x632)]['set'](_0x51a0f0['id'],_0x58bdf5);try{const _0x26ccbd={'id':_0x51a0f0['id'],'jobPhase':_0x57938f[_0x15beeb(0x4e2)],'jobType':_0x51a0f0[_0x15beeb(0xa0b)]},_0x58a824=0x3;let _0x48157e=0x0;const _0x563353=async()=>{const _0x5f25b1=_0x15beeb;_0x48157e+=0x1;try{_0x5999e0['log'](_0x53526a[_0x5f25b1(0x2db)],_0x5f25b1(0x1f9)+_0x51a0f0['id']+_0x5f25b1(0x4c1)+_0x48157e+'.',this['graphService'][_0x5f25b1(0xa4c)]()),await this[_0x5f25b1(0x4ef)](_0x26ccbd),_0x51a0f0[_0x5f25b1(0x202)]=new Date(),this['jobs'][_0x5f25b1(0x81a)](_0x51a0f0['id'],_0x51a0f0),this['startBidResponseHandling'](_0x51a0f0['id']);}catch(_0x411b99){_0x48157e<_0x58a824?(_0x5999e0[_0x5f25b1(0x949)](_0x5f25b1(0x57d)+_0x48157e+_0x5f25b1(0x980)+_0x51a0f0['id']+'\x20failed.\x20Retrying...',{'nodeId':this[_0x5f25b1(0x3d5)][_0x5f25b1(0x8f3)](),'nodeType':this[_0x5f25b1(0x3d5)]['type'],'data':{'job':_0x51a0f0,'attempts':_0x48157e,'maxRetries':_0x58a824}}),setTimeout(_0x563353,0x3e8)):(_0x51a0f0[_0x5f25b1(0x8bb)]=_0xb0907f[_0x5f25b1(0x8d3)][_0x5f25b1(0x8d6)],_0x51a0f0[_0x5f25b1(0x202)]=new Date(),this['jobs'][_0x5f25b1(0x81a)](_0x51a0f0['id'],_0x51a0f0),_0x5999e0[_0x5f25b1(0x883)]('Failed\x20to\x20send\x20job\x20'+_0x51a0f0['id']+_0x5f25b1(0x134)+_0x58a824+'\x20attempts:',{'nodeId':this['owner'][_0x5f25b1(0x8f3)](),'nodeType':this['owner'][_0x5f25b1(0x44f)],'data':{'job':_0x51a0f0,'attempts':_0x48157e,'maxRetries':_0x58a824,'error':_0x411b99}}));}};_0x563353();const {id:_0x2340aa}=_0x51a0f0;this[_0x15beeb(0x6c3)]('Job\x20'+_0x51a0f0['id']+_0x15beeb(0x48a),{'jobId':_0x2340aa}),_0x51a0f0[_0x15beeb(0x202)]=new Date();}catch(_0x5cfacf){_0x51a0f0['status']=_0xb0907f['JobStatus'][_0x15beeb(0x8d6)],_0x5999e0[_0x15beeb(0x883)](_0x15beeb(0x1aa)+_0x51a0f0['id']+':',{'nodeId':this[_0x15beeb(0x3d5)][_0x15beeb(0x8f3)](),'nodeType':this[_0x15beeb(0x3d5)][_0x15beeb(0x44f)],'data':{'job':_0x51a0f0,'error':_0x5cfacf}});}return _0x58bdf5[_0x15beeb(0x983)]();}['getJob'](_0x5865a3){const _0x3097ca=_0x1af94f,_0x4f39a3=this['jobs'][_0x3097ca(0x70a)](_0x5865a3);if(!_0x4f39a3)throw new _0x3b3113(_0x56d472['JobDispatcherJobNotFound'],_0x3097ca(0x3e2)+_0x5865a3+_0x3097ca(0x2e3));return{'id':_0x4f39a3['id'],'jobType':_0x4f39a3[_0x3097ca(0xa0b)],'status':_0x4f39a3[_0x3097ca(0x8bb)],'parameters':_0x4f39a3[_0x3097ca(0x224)]};}[_0x1af94f(0xa0e)](){const _0xd593cf=_0x1af94f;return Array[_0xd593cf(0x13b)](this['jobs'][_0xd593cf(0x7e5)]())[_0xd593cf(0x7d0)](_0x562786=>this[_0xd593cf(0x6fd)](_0x562786['id']));}async['updateJob'](_0x21a995,_0x7ae92){const _0x349e57=_0x1af94f,_0x225ef2=this[_0x349e57(0x42f)]['get'](_0x21a995);if(!_0x225ef2)throw new _0x3b3113(_0x56d472[_0x349e57(0x109)],_0x349e57(0x3e2)+_0x21a995+_0x349e57(0x2e3));_0x225ef2[_0x349e57(0x224)]=_0x7ae92,_0x225ef2['updated']=new Date(),this['jobs'][_0x349e57(0x81a)](_0x21a995,_0x225ef2);}async[_0x1af94f(0x9be)](_0x36236c){const _0x7823d8=_0x1af94f;if(!this[_0x7823d8(0x42f)][_0x7823d8(0x8e1)](_0x36236c))throw new _0x3b3113(_0x56d472[_0x7823d8(0x109)],'Job\x20with\x20id\x20'+_0x36236c+_0x7823d8(0x2e3));const _0x56fd59=this['jobObservers'][_0x7823d8(0x70a)](_0x36236c);if(!_0x56fd59)throw new _0x3c8547(_0x3c8547['codes'][_0x7823d8(0x3c7)]);_0x56fd59[_0x7823d8(0x494)](),this['jobObservers'][_0x7823d8(0x8e1)](_0x36236c),_0x5999e0['log'](_0x53526a[_0x7823d8(0x2db)],_0x7823d8(0x1f9)+_0x36236c+_0x7823d8(0x2e1));}[_0x1af94f(0x1a1)](_0x53572e,_0x35d7ed,_0x5d7517){const _0x2936ed=_0x1af94f,_0x5ba957=this[_0x2936ed(0x559)][_0x2936ed(0x70a)](_0x35d7ed)??new Map();_0x5ba957[_0x2936ed(0x81a)](_0x53572e,[_0x5d7517,Date[_0x2936ed(0x1f3)]()]),this[_0x2936ed(0x559)]['set'](_0x35d7ed,_0x5ba957),this[_0x2936ed(0x927)](_0x35d7ed);}[_0x1af94f(0x636)](_0x277b3f){const _0x5b7dcb=_0x1af94f,_0xe5c446=this[_0x5b7dcb(0x42f)]['get'](_0x277b3f);if(!_0xe5c446)throw new _0x3c8547(_0x3c8547[_0x5b7dcb(0x700)][_0x5b7dcb(0x109)]);const _0x18465b=setTimeout(()=>this[_0x5b7dcb(0x927)](_0x277b3f,!0x0),0xbb8);_0xe5c446[_0x5b7dcb(0x420)]=_0x18465b,this['jobs'][_0x5b7dcb(0x81a)](_0xe5c446['id'],_0xe5c446);}[_0x1af94f(0x927)](_0xdf85bf,_0xe26804=!0x1){const _0x38cf37=_0x1af94f,_0x5364ab=this[_0x38cf37(0x344)]['getRemoteNodes'](),_0x1c33a9=Array[_0x38cf37(0x13b)](_0x5364ab['values']())['filter'](_0x16d7be=>_0x16d7be[_0x38cf37(0x44f)]===_0xb0907f['NodeType'][_0x38cf37(0x58e)]),_0x33915d=this['jobBids'][_0x38cf37(0x70a)](_0xdf85bf)??new Map();if(!_0xe26804&&(!_0x33915d||_0x33915d['size']<_0x1c33a9[_0x38cf37(0x71c)]))return;const _0x409795=this['jobs'][_0x38cf37(0x70a)](_0xdf85bf);if(!_0x409795)throw new _0x3c8547(_0x3c8547['codes'][_0x38cf37(0x109)]);if(clearTimeout(_0x409795['responseTimeout']),_0x5999e0['log'](_0x53526a[_0x38cf37(0x2db)],_0x38cf37(0x1f9)+_0x409795['id']+_0x38cf37(0x1bf),_0x33915d,this[_0x38cf37(0x559)]),!_0x33915d||0x0===_0x33915d[_0x38cf37(0xa20)]){_0x409795[_0x38cf37(0x8bb)]=_0xb0907f[_0x38cf37(0x8d3)][_0x38cf37(0x8d6)],_0x409795['updated']=new Date(),_0x5999e0[_0x38cf37(0x883)](_0x38cf37(0x1f9)+_0x409795['id']+'\x20failed\x20to\x20receive\x20a\x20valid\x20bid\x20responses\x20in\x20time.',{'nodeId':this[_0x38cf37(0x3d5)][_0x38cf37(0x8f3)](),'nodeType':this[_0x38cf37(0x3d5)][_0x38cf37(0x44f)],'data':{'job':_0x409795,'responses':_0x33915d}});const _0x294f3f=this[_0x38cf37(0x632)][_0x38cf37(0x70a)](_0xdf85bf);if(!_0x294f3f)throw new _0x3c8547(_0x3c8547[_0x38cf37(0x700)][_0x38cf37(0x3c7)]);const _0x399b61=_0x38cf37(0x62d),_0x1ee181={'id':_0x409795['id'],'status':_0x409795[_0x38cf37(0x8bb)],'message':_0x399b61};return _0x294f3f['next'](_0x1ee181),_0x294f3f[_0x38cf37(0x494)](),this[_0x38cf37(0x42f)]['set'](_0x409795['id'],_0x409795),void this[_0x38cf37(0x559)][_0x38cf37(0x8e1)](_0xdf85bf);}const {nodeId:_0x399206,response:_0x57e85c}=this[_0x38cf37(0x585)](_0x409795['id'],_0x33915d);_0x409795[_0x38cf37(0x8bb)]=_0xb0907f[_0x38cf37(0x8d3)][_0x38cf37(0x29d)],_0x409795[_0x38cf37(0x202)]=new Date(),_0x5999e0[_0x38cf37(0x15c)](_0x53526a[_0x38cf37(0x2db)],'Job\x20'+_0x409795['id']+'\x20attributed\x20to\x20'+_0x399206+_0x38cf37(0x6d1),_0x57e85c);const _0x169813={'id':_0x409795['id'],'jobType':_0x409795['jobType'],'jobPhase':_0x57938f[_0x38cf37(0x52a)],'parameters':_0x409795[_0x38cf37(0x224)]};this['send'](_0x169813,[_0x399206]),this['jobs'][_0x38cf37(0x81a)](_0x409795['id'],_0x409795),this['jobBids'][_0x38cf37(0x8e1)](_0xdf85bf);}['evaluateBids'](_0x560a32,_0x41363c){const _0x13d24e=_0x1af94f;let _0x529d5c;const _0x4fc2d1=Array[_0x13d24e(0x13b)](_0x41363c[_0x13d24e(0xa3a)]())[_0x13d24e(0x7e0)](([,[_0x4e4d17]])=>_0x4e4d17[_0x13d24e(0x19b)]);if(_0x529d5c=_0x4fc2d1[_0x13d24e(0x71c)]>0x0?Array[_0x13d24e(0x13b)](_0x41363c[_0x13d24e(0xa3a)]())[_0x13d24e(0x1b1)]((_0xbd1e24,_0xcaa0e7)=>_0xcaa0e7[0x1][0x0][_0x13d24e(0x55a)]-_0xbd1e24[0x1][0x0][_0x13d24e(0x55a)]):Array['from'](_0x41363c[_0x13d24e(0xa3a)]())[_0x13d24e(0x1b1)]((_0x1ece7b,_0x3fe84b)=>_0x1ece7b[0x1][0x0][_0x13d24e(0xa47)]-_0x3fe84b[0x1][0x0][_0x13d24e(0xa47)]),0x1===_0x529d5c['length'])return{'nodeId':_0x529d5c[0x0][0x0],'response':_0x529d5c[0x0][0x1][0x0]};let _0x4f8c51;if(_0x4f8c51=_0x4fc2d1['length']>0x0?(_0x248bf7=>{const _0x3fde4f=_0x13d24e,_0x187fc8=_0x248bf7[0x0][0x1][0x0][_0x3fde4f(0x55a)];return _0x248bf7[_0x3fde4f(0x7e0)](([,[_0x2e0cdb]])=>_0x2e0cdb['bid']===_0x187fc8);})(_0x529d5c):(_0x2b72aa=>{const _0x526107=_0x13d24e,_0x2de14a=_0x2b72aa[0x0][0x1][0x0][_0x526107(0xa47)];return _0x2b72aa[_0x526107(0x7e0)](([,[_0x14a0e9]])=>_0x14a0e9[_0x526107(0xa47)]===_0x2de14a);})(_0x529d5c),0x1===_0x4f8c51['length'])return{'nodeId':_0x4f8c51[0x0][0x0],'response':_0x4f8c51[0x0][0x1][0x0]};const _0x4b497a=this['jobs']['get'](_0x560a32);if(!_0x4b497a)throw new _0x3c8547(_0x3c8547[_0x13d24e(0x700)]['JobDispatcherJobNotFound']);const _0x3a7cdd=_0x4b497a['created'][_0x13d24e(0x864)](),_0x417ac7=_0x4f8c51['map'](([_0x2116d7,[,_0x42d4fb]])=>({'nodeId':_0x2116d7,'rtt':_0x42d4fb-_0x3a7cdd})),_0x76b3d=Math[_0x13d24e(0x430)](..._0x417ac7['map'](({rtt:_0x3c7cf5})=>_0x3c7cf5)),_0x5ef374=_0x417ac7[_0x13d24e(0x7ef)](({rtt:_0x1ce7fb})=>_0x1ce7fb===_0x76b3d),[,[_0x508984]]=_0x4f8c51[_0x13d24e(0x7ef)](([_0x50ec75])=>_0x50ec75===_0x5ef374[_0x13d24e(0x1ec)]);return{'nodeId':_0x5ef374[_0x13d24e(0x1ec)],'response':_0x508984};}['evaluatePartialJob'](_0x28f7b9,_0x3b2d64){const _0x801a35=_0x1af94f,_0x1b9614=this[_0x801a35(0x42f)]['get'](_0x28f7b9);if(!_0x1b9614)throw new _0x3c8547(_0x3c8547[_0x801a35(0x700)][_0x801a35(0x109)]);const _0x3fc4c1=this[_0x801a35(0x632)][_0x801a35(0x70a)](_0x28f7b9);if(!_0x3fc4c1)throw new _0x3c8547(_0x3c8547[_0x801a35(0x700)][_0x801a35(0x3c7)]);const _0x3b23f3={'id':_0x1b9614['id'],'status':_0xb0907f['JobStatus'][_0x801a35(0x8b4)],'result':_0x3b2d64[_0x801a35(0x937)]};_0x3fc4c1[_0x801a35(0x122)](_0x3b23f3);}[_0x1af94f(0xf0)](_0x3814be,_0x378d48){const _0x3d1c07=_0x1af94f,_0x214c0b=this[_0x3d1c07(0x42f)][_0x3d1c07(0x70a)](_0x3814be);if(!_0x214c0b)throw new _0x3c8547(_0x3c8547[_0x3d1c07(0x700)][_0x3d1c07(0x109)]);const _0xc4500f=this['jobObservers'][_0x3d1c07(0x70a)](_0x3814be);if(!_0xc4500f)throw new _0x3c8547(_0x3c8547['codes'][_0x3d1c07(0x3c7)]);_0x214c0b[_0x3d1c07(0x8bb)]=_0xb0907f['JobStatus']['Completed'];const _0x595355={'id':_0x214c0b['id'],'status':_0x214c0b[_0x3d1c07(0x8bb)],'result':_0x378d48[_0x3d1c07(0x937)]};_0xc4500f[_0x3d1c07(0x122)](_0x595355),_0xc4500f[_0x3d1c07(0x494)](),this[_0x3d1c07(0x632)]['delete'](_0x3814be),this[_0x3d1c07(0x6c3)]('Job\x20'+_0x3814be+'\x20finalized.',{'jobId':_0x3814be});}['failJob'](_0x6c8071,_0x4615a9){const _0x197d7a=_0x1af94f,_0x45fd65=this[_0x197d7a(0x42f)]['get'](_0x6c8071);if(!_0x45fd65)throw new _0x3c8547(_0x3c8547[_0x197d7a(0x700)][_0x197d7a(0x109)]);const _0x408814=this[_0x197d7a(0x632)][_0x197d7a(0x70a)](_0x6c8071);if(!_0x408814)throw new _0x3c8547(_0x3c8547[_0x197d7a(0x700)][_0x197d7a(0x3c7)]);_0x45fd65[_0x197d7a(0x8bb)]=_0xb0907f[_0x197d7a(0x8d3)][_0x197d7a(0x8d6)];const _0x453f80={'id':_0x45fd65['id'],'status':_0x45fd65[_0x197d7a(0x8bb)],'message':_0x4615a9};_0x408814[_0x197d7a(0x122)](_0x453f80),_0x408814[_0x197d7a(0x494)](),this[_0x197d7a(0x632)][_0x197d7a(0x8e1)](_0x6c8071),this[_0x197d7a(0x6c3)]('Job\x20'+_0x6c8071+_0x197d7a(0x205),{'jobId':_0x6c8071});}[_0x1af94f(0x6c3)](_0x566a4f,{jobId:_0x5942eb}){const _0x27c7e4=_0x1af94f,_0x26c3c0={'jobId':_0x5942eb,'mistletIds':Array['from'](this[_0x27c7e4(0x344)][_0x27c7e4(0xa4c)]()[_0x27c7e4(0x7e5)]())[_0x27c7e4(0x7e0)](_0x3fd605=>_0x3fd605[_0x27c7e4(0x44f)]===_0xb0907f[_0x27c7e4(0x116)][_0x27c7e4(0x58e)])['map'](_0x2bb068=>_0x2bb068['getId']())};_0x5999e0[_0x27c7e4(0x6c3)](_0x566a4f,{'nodeId':this[_0x27c7e4(0x7bd)](),'nodeType':this['owner'][_0x27c7e4(0x44f)],'data':_0x26c3c0}),_0x5999e0[_0x27c7e4(0x15c)](_0x53526a[_0x27c7e4(0x2db)],_0x566a4f,_0x26c3c0);}['isBidResponse'](_0x487161){const _0x46f2b3=_0x1af94f,{jobPhase:_0x590119,available:_0xe81345,bid:_0x390f94}=_0x487161;return _0x590119===_0x57938f[_0x46f2b3(0x618)]&&void 0x0!==_0xe81345&&void 0x0!==_0x390f94;}[_0x1af94f(0x416)](_0x5dbd13){const {jobPhase:_0xe20f0d,result:_0x291b11}=_0x5dbd13;return _0xe20f0d===_0x57938f['PartialResult']&&void 0x0!==_0x291b11;}[_0x1af94f(0x183)](_0x4129bb){const _0xc74666=_0x1af94f,{jobPhase:_0x528536,result:_0x128e6f}=_0x4129bb;return _0x528536===_0x57938f[_0xc74666(0x8d1)]&&void 0x0!==_0x128e6f;}[_0x1af94f(0x3cd)](_0x170c1d){const _0x140a27=_0x1af94f,{jobPhase:_0x265711,message:_0x884a64}=_0x170c1d;return _0x265711===_0x57938f['Failed']&&void 0x0!==_0x884a64&&_0x140a27(0x4e9)==typeof _0x884a64;}}var _0x4f68a0,_0x4e856e,_0x4bf4d9,_0x3f481;!function(_0xb4d828){const _0x36d892=_0x1af94f;_0xb4d828[_0x36d892(0x9a9)]=_0x36d892(0x695),_0xb4d828[_0x36d892(0x6b2)]=_0x36d892(0x64b);}(_0x4f68a0||(_0x4f68a0={})),function(_0xc0e251){const _0x49acad=_0x1af94f;_0xc0e251[_0x49acad(0x58e)]=_0x49acad(0x6a1),_0xc0e251[_0x49acad(0x17f)]=_0x49acad(0x716),_0xc0e251[_0x49acad(0x1cb)]='custom-skill',_0xc0e251[_0x49acad(0x84d)]=_0x49acad(0x79d),_0xc0e251[_0x49acad(0xf6)]='knowledge',_0xc0e251[_0x49acad(0x717)]=_0x49acad(0x81e),_0xc0e251[_0x49acad(0x73c)]=_0x49acad(0x923),_0xc0e251['Code']=_0x49acad(0x17a),_0xc0e251[_0x49acad(0x755)]=_0x49acad(0x9f0),_0xc0e251['AiSearch']=_0x49acad(0x431),_0xc0e251[_0x49acad(0x247)]='web-scraper',_0xc0e251[_0x49acad(0x83a)]=_0x49acad(0x989),_0xc0e251[_0x49acad(0x5a9)]=_0x49acad(0x95e),_0xc0e251[_0x49acad(0x9bb)]='write-file',_0xc0e251[_0x49acad(0x98e)]='chunk-splitter',_0xc0e251[_0x49acad(0x8b2)]='sentence-splitter',_0xc0e251[_0x49acad(0x851)]='word-splitter',_0xc0e251[_0x49acad(0x3ff)]='document-parser';}(_0x4e856e||(_0x4e856e={})),function(_0x506ef2){const _0x2daf32=_0x1af94f;_0x506ef2[_0x2daf32(0x746)]=_0x2daf32(0xa25),_0x506ef2[_0x2daf32(0x7b7)]=_0x2daf32(0x68a),_0x506ef2[_0x2daf32(0x3ff)]=_0x2daf32(0x1fb),_0x506ef2[_0x2daf32(0x98e)]=_0x2daf32(0x4be),_0x506ef2[_0x2daf32(0x851)]=_0x2daf32(0x370),_0x506ef2[_0x2daf32(0x8b2)]=_0x2daf32(0x827),_0x506ef2['RelationExtractor']='relation-extractor',_0x506ef2['EntityExtractor']=_0x2daf32(0x1c4),_0x506ef2['Reranker']=_0x2daf32(0xa32),_0x506ef2[_0x2daf32(0x20f)]=_0x2daf32(0xa40),_0x506ef2['Agent']='agent',_0x506ef2[_0x2daf32(0x4ff)]=_0x2daf32(0x695),_0x506ef2[_0x2daf32(0x22d)]=_0x2daf32(0x7f1),_0x506ef2[_0x2daf32(0x21e)]='vector-database',_0x506ef2[_0x2daf32(0x835)]=_0x2daf32(0x1c2),_0x506ef2[_0x2daf32(0x717)]='prompt',_0x506ef2[_0x2daf32(0x354)]=_0x2daf32(0x88f);}(_0x4bf4d9||(_0x4bf4d9={})),function(_0x1bb9de){const _0x4e1130=_0x1af94f;_0x1bb9de[_0x4e1130(0x372)]=_0x4e1130(0x5dc),_0x1bb9de[_0x4e1130(0x721)]=_0x4e1130(0x55d),_0x1bb9de[_0x4e1130(0x82d)]=_0x4e1130(0x84b),_0x1bb9de[_0x4e1130(0x4c0)]=_0x4e1130(0x809),_0x1bb9de[_0x4e1130(0x5a0)]=_0x4e1130(0x87a),_0x1bb9de[_0x4e1130(0x31a)]='vector',_0x1bb9de[_0x4e1130(0x501)]=_0x4e1130(0x8a8),_0x1bb9de[_0x4e1130(0xec)]=_0x4e1130(0x389),_0x1bb9de[_0x4e1130(0x755)]=_0x4e1130(0x9f0),_0x1bb9de['Index']=_0x4e1130(0x1c0),_0x1bb9de[_0x4e1130(0xf6)]='knowledge',_0x1bb9de[_0x4e1130(0x38e)]=_0x4e1130(0x433),_0x1bb9de['Context']=_0x4e1130(0x88f),_0x1bb9de[_0x4e1130(0x3c2)]=_0x4e1130(0xa2b);}(_0x3f481||(_0x3f481={}));class _0xbdf129{static ['instance'];constructor(){}static['getInstance'](){const _0x120a2b=_0x1af94f;return _0xbdf129[_0x120a2b(0x8ab)]||(_0xbdf129[_0x120a2b(0x8ab)]=new _0xbdf129()),_0xbdf129['instance'];}async[_0x1af94f(0x176)](_0x5b67ab,_0x49ff61){const _0xd8e40d=_0x1af94f,_0x17821f=await(0x0,_0x36eea4['getDoc'])((0x0,_0x36eea4['doc'])(_0xa01105['getFirestore'](),_0xd8e40d(0x39d)+_0x5b67ab+_0xd8e40d(0x7d5)+_0x49ff61)),_0x447c8f=await this[_0xd8e40d(0x606)](_0x5b67ab),_0x358578=await this[_0xd8e40d(0xfb)](_0x5b67ab),_0x12092f=await this[_0xd8e40d(0x8b6)](_0x5b67ab),_0x9cc7e8=await this[_0xd8e40d(0x639)](_0x5b67ab),_0x16f783=await this['getGrammars'](_0x5b67ab);if(!_0x17821f[_0xd8e40d(0x20e)]())throw new _0x3c8547(_0x3c8547['codes']['WorkflowDoesNotExist']);return this[_0xd8e40d(0x4c5)](_0x17821f,_0x447c8f,_0x358578,_0x12092f,_0x9cc7e8,_0x16f783);}['parseWorkflowDocument'](_0x38df03,_0x22549c,_0xeb30cc,_0x575cf9,_0x445cb9,_0x2cb5fa){const _0x55b43c=_0x1af94f,_0x49a953=_0x38df03['data']();if(!_0x49a953)throw new _0x3c8547(_0x3c8547[_0x55b43c(0x700)][_0x55b43c(0x623)]);const _0x443cb5=_0x49a953['deployedVersion']&&_0x49a953['versions']?_0x49a953[_0x55b43c(0x706)][_0x49a953['deployedVersion']-0x1]:_0x49a953,_0x2206ee=this[_0x55b43c(0x587)](_0x443cb5['blocks'],_0x22549c,_0xeb30cc,_0x575cf9,_0x2cb5fa);return{'id':_0x38df03['id'],'modelsBucketId':_0x49a953[_0x55b43c(0x166)],'blocks':_0x2206ee,'models':this[_0x55b43c(0x8e2)](_0x2206ee,_0x445cb9),'dataBucketIds':this[_0x55b43c(0x1ef)](_0x2206ee),'externalStorageConnectionIds':this[_0x55b43c(0x44a)](_0x2206ee)};}[_0x1af94f(0x8e2)](_0x2249da,_0x1e271f){const _0x4a0e86=_0x1af94f,_0xaaf1c0=new Set();for(const _0x64a58e of _0x2249da)if(_0x64a58e[_0x4a0e86(0x44f)]!==_0x4e856e[_0x4a0e86(0x58e)]&&_0x64a58e[_0x4a0e86(0x44f)]!==_0x4e856e[_0x4a0e86(0x17f)]||_0xaaf1c0[_0x4a0e86(0x23a)](_0x64a58e['modelId']),_0x64a58e['type']===_0x4e856e[_0x4a0e86(0xf6)]||_0x64a58e[_0x4a0e86(0x44f)]===_0x4e856e[_0x4a0e86(0x84d)]){for(const _0x1f4d1d of[..._0x64a58e[_0x4a0e86(0x6bc)],..._0x64a58e['retrieveBlocks']])_0x1f4d1d[_0x4a0e86(0x44f)]===_0x4bf4d9[_0x4a0e86(0x20f)]&&_0xaaf1c0['add'](_0x1f4d1d['id']),_0x1f4d1d[_0x4a0e86(0x44f)]===_0x4bf4d9['Agent']&&_0xaaf1c0['add'](_0x1f4d1d[_0x4a0e86(0x582)]);}return Array['from'](_0xaaf1c0)[_0x4a0e86(0x7d0)](_0x282e46=>{const _0xfe6bc6=_0x4a0e86,{id:_0x514c59,engineType:_0x1eff15,taskType:_0x4d1821,knowledgeCutoffDate:_0x336f0c,inputType:_0x4332cd,outputType:_0x1c837d,sourceUrl:_0xe6db5b}=_0x1e271f[_0xfe6bc6(0x7ef)](_0x33e3fc=>_0x33e3fc['id']===_0x282e46);return{'id':_0x514c59,'engineType':_0x1eff15,'taskType':_0x4d1821,'knowledgeCutoffDate':_0x336f0c,'inputType':_0x4332cd,'outputType':_0x1c837d,'sourceUrl':_0xe6db5b};});}[_0x1af94f(0x1ef)](_0x4940fd){const _0x50b0c7=_0x1af94f,_0x1c5f97=new Set();for(const _0x4b4dcd of _0x4940fd)switch(_0x4b4dcd[_0x50b0c7(0x44f)]){case _0x4e856e[_0x50b0c7(0xf6)]:case _0x4e856e[_0x50b0c7(0x84d)]:for(const _0x301eaa of[..._0x4b4dcd['ingestBlocks'],..._0x4b4dcd['retrieveBlocks']])_0x301eaa[_0x50b0c7(0x44f)]===_0x4bf4d9[_0x50b0c7(0x746)]&&_0x1c5f97[_0x50b0c7(0x23a)](_0x301eaa['id']);}return Array['from'](_0x1c5f97);}[_0x1af94f(0x44a)](_0x293782){const _0x1285d6=_0x1af94f,_0x595e0c=new Set();for(const _0x31da7c of _0x293782)switch(_0x31da7c[_0x1285d6(0x44f)]){case _0x4e856e['Knowledge']:case _0x4e856e[_0x1285d6(0x84d)]:for(const _0x3635c8 of[..._0x31da7c['ingestBlocks'],..._0x31da7c['retrieveBlocks']])_0x3635c8['type']===_0x4bf4d9[_0x1285d6(0x7b7)]&&_0x595e0c['add'](_0x3635c8['id']);}return Array[_0x1285d6(0x13b)](_0x595e0c);}['parseWorkflowBlocks'](_0x4622fd,_0x7d0638,_0x132c45,_0x1b7bf2,_0x2d35d5){const _0x30751e=_0x1af94f;return _0x4622fd[_0x30751e(0x7d0)](_0xc54687=>{const _0xd31ec9=_0x30751e;switch(_0xc54687[_0xd31ec9(0x44f)]){case _0x4e856e['Agent']:case _0x4e856e['AgentSkill']:const _0x48ea63=_0x7d0638[_0xd31ec9(0x7ef)](_0x147eaf=>_0x147eaf['id']===_0xc54687['id']);if(!_0x48ea63)throw new _0x3c8547(_0x3c8547[_0xd31ec9(0x700)]['WorkflowInvalidBlockType'],{'block':_0xc54687});const _0x3d8373=_0xc54687[_0xd31ec9(0x215)]&&_0x48ea63['versions']?_0x48ea63[_0xd31ec9(0x706)][_0xc54687['version']-0x1]:_0x48ea63;return{'type':_0x48ea63['type'],'id':_0x48ea63['id'],'uid':_0xc54687[_0xd31ec9(0x34d)],'name':_0x3d8373[_0xd31ec9(0x450)],'description':_0x3d8373[_0xd31ec9(0x810)],'instructions':_0x3d8373[_0xd31ec9(0x5d0)],'contextOutputVariable':_0x3d8373[_0xd31ec9(0x944)],'contextInputVariable':_0x3d8373[_0xd31ec9(0x40f)],'grammar':['default',_0xd31ec9(0x190),_0xd31ec9(0x9e9)]['includes'](_0x3d8373[_0xd31ec9(0x75d)])?_0x3d8373[_0xd31ec9(0x75d)]:_0x2d35d5[_0xd31ec9(0x7ef)](_0x4142c1=>_0x4142c1['id']===_0x3d8373[_0xd31ec9(0x75d)])[_0xd31ec9(0x3fe)],'temperature':_0x3d8373[_0xd31ec9(0x5f4)],'maxTokens':_0x3d8373['maxTokens'],'modelId':_0x3d8373[_0xd31ec9(0x582)],'links':_0xc54687[_0xd31ec9(0x64e)],'version':_0xc54687['version']};case _0x4e856e[_0xd31ec9(0xf6)]:case _0x4e856e[_0xd31ec9(0x84d)]:const _0x30b91b=_0x132c45[_0xd31ec9(0x7ef)](_0x27d92e=>_0x27d92e['id']===_0xc54687['id']);if(!_0x30b91b)throw new _0x3c8547(_0x3c8547[_0xd31ec9(0x700)][_0xd31ec9(0x6c5)],{'block':_0xc54687});const _0x41b1c2=_0xc54687['version']&&_0x30b91b[_0xd31ec9(0x706)]?_0x30b91b[_0xd31ec9(0x706)][_0xc54687['version']-0x1]:_0x30b91b;return{'type':_0xc54687[_0xd31ec9(0x44f)],'id':_0x30b91b['id'],'uid':_0xc54687[_0xd31ec9(0x34d)],'name':_0x41b1c2[_0xd31ec9(0x450)],'description':_0x41b1c2[_0xd31ec9(0x810)],'ingestBlocks':this[_0xd31ec9(0x34a)](_0x41b1c2[_0xd31ec9(0x6bc)],_0x7d0638),'retrieveBlocks':this[_0xd31ec9(0x34a)](_0x41b1c2['retrieveBlocks'],_0x7d0638),'links':_0xc54687[_0xd31ec9(0x64e)],'version':_0xc54687[_0xd31ec9(0x215)]};case _0x4e856e['CustomSkill']:const _0x4ccf95=_0x1b7bf2['find'](_0x376650=>_0x376650['id']===_0xc54687['id']);if(!_0x4ccf95)throw new _0x3c8547(_0x3c8547['codes'][_0xd31ec9(0x6c5)],{'block':_0xc54687});return{'type':_0xc54687[_0xd31ec9(0x44f)],'id':_0x4ccf95['id'],'uid':_0xc54687[_0xd31ec9(0x34d)],'name':_0x4ccf95[_0xd31ec9(0x450)],'description':_0x4ccf95['description'],'parameters':_0x4ccf95[_0xd31ec9(0x224)],'endpointUrl':_0x4ccf95[_0xd31ec9(0x998)],'endpointMethod':_0x4ccf95[_0xd31ec9(0x47c)],'headers':_0x4ccf95[_0xd31ec9(0x9b0)],'queryParameters':_0x4ccf95[_0xd31ec9(0xa13)],'bodyParameters':_0x4ccf95['bodyParameters'],'contextOutputVariable':_0x4ccf95[_0xd31ec9(0x944)],'waitAsync':_0x4ccf95[_0xd31ec9(0x93e)],'asyncEndpointUrl':_0x4ccf95[_0xd31ec9(0x454)],'asyncEndpointMethod':_0x4ccf95[_0xd31ec9(0x274)],'asyncHeaders':_0x4ccf95['asyncHeaders'],'links':_0xc54687[_0xd31ec9(0x64e)]};case _0x4e856e[_0xd31ec9(0x717)]:case _0x4e856e['Answer']:case _0x4e856e[_0xd31ec9(0xa4a)]:case _0x4e856e['Search']:case _0x4e856e[_0xd31ec9(0x185)]:case _0x4e856e['WebScraper']:case _0x4e856e[_0xd31ec9(0x83a)]:case _0x4e856e[_0xd31ec9(0x5a9)]:case _0x4e856e[_0xd31ec9(0x9bb)]:case _0x4e856e[_0xd31ec9(0x8b2)]:case _0x4e856e['DocumentParser']:return{'type':_0xc54687[_0xd31ec9(0x44f)],'id':_0xc54687['id'],'uid':_0xc54687['uid'],'links':_0xc54687[_0xd31ec9(0x64e)]};case _0x4e856e[_0xd31ec9(0x98e)]:case _0x4e856e[_0xd31ec9(0x851)]:return{'type':_0xc54687[_0xd31ec9(0x44f)],'id':_0xc54687['id'],'uid':_0xc54687['uid'],'links':_0xc54687[_0xd31ec9(0x64e)],'attributes':_0xc54687[_0xd31ec9(0x714)]};default:throw new _0x3c8547(_0x3c8547[_0xd31ec9(0x700)][_0xd31ec9(0x6c5)],{'block':_0xc54687});}});}[_0x1af94f(0x34a)](_0x23699e,_0x562a86){const _0x595f98=_0x1af94f;return _0x23699e[_0x595f98(0x7d0)](_0x4b105a=>{const _0x146e03=_0x595f98;switch(_0x4b105a[_0x146e03(0x44f)]){case _0x4bf4d9[_0x146e03(0x58e)]:const _0x29103d=_0x562a86['find'](_0x5e97eb=>_0x5e97eb['id']===_0x4b105a['id']);if(!_0x29103d)throw new _0x3c8547(_0x3c8547[_0x146e03(0x700)][_0x146e03(0x6c5)],{'block':_0x4b105a});const _0x152085=_0x4b105a[_0x146e03(0x215)]&&_0x29103d[_0x146e03(0x706)]?_0x29103d[_0x146e03(0x706)][_0x4b105a['version']-0x1]:_0x29103d;return{'type':_0x4b105a[_0x146e03(0x44f)],'id':_0x4b105a['id'],'uid':_0x4b105a[_0x146e03(0x34d)],'description':_0x152085[_0x146e03(0x810)],'instructions':_0x152085['instructions'],'grammar':_0x152085[_0x146e03(0x75d)],'temperature':_0x152085['temperature'],'maxTokens':_0x152085[_0x146e03(0x147)],'modelId':_0x152085[_0x146e03(0x582)],'links':_0x4b105a[_0x146e03(0x64e)],'version':_0x4b105a['version']};case _0x4bf4d9[_0x146e03(0x835)]:case _0x4bf4d9[_0x146e03(0x21e)]:case _0x4bf4d9[_0x146e03(0x851)]:case _0x4bf4d9['ChunkSplitter']:case _0x4bf4d9[_0x146e03(0x71b)]:case _0x4bf4d9[_0x146e03(0x3de)]:return{'type':_0x4b105a[_0x146e03(0x44f)],'id':_0x4b105a['id'],'uid':_0x4b105a[_0x146e03(0x34d)],'links':_0x4b105a[_0x146e03(0x64e)],'attributes':_0x4b105a[_0x146e03(0x714)]};case _0x4bf4d9['Model']:case _0x4bf4d9[_0x146e03(0x4ff)]:case _0x4bf4d9[_0x146e03(0x22d)]:case _0x4bf4d9[_0x146e03(0x1cf)]:case _0x4bf4d9[_0x146e03(0x3ff)]:case _0x4bf4d9[_0x146e03(0x8b2)]:case _0x4bf4d9[_0x146e03(0x746)]:case _0x4bf4d9[_0x146e03(0x7b7)]:case _0x4bf4d9['Context']:case _0x4bf4d9[_0x146e03(0x717)]:return{'type':_0x4b105a[_0x146e03(0x44f)],'id':_0x4b105a['id'],'uid':_0x4b105a[_0x146e03(0x34d)],'links':_0x4b105a[_0x146e03(0x64e)]};default:throw new _0x3c8547(_0x3c8547[_0x146e03(0x700)][_0x146e03(0x6c5)],{'block':_0x4b105a});}});}async[_0x1af94f(0x606)](_0xd8de98){const _0x203dca=_0x1af94f;return(await(0x0,_0x36eea4[_0x203dca(0x9c2)])((0x0,_0x36eea4[_0x203dca(0x4e5)])(_0xa01105[_0x203dca(0x1ca)](),_0x203dca(0x39d)+_0xd8de98+_0x203dca(0x776))))[_0x203dca(0x283)][_0x203dca(0x7d0)](_0x5b03e5=>{const _0x5b7d78=_0x203dca,_0x185e79=_0x5b03e5[_0x5b7d78(0x87a)]();return{'type':_0x4e856e[_0x5b7d78(0x58e)],'id':_0x5b03e5['id'],'name':_0x185e79['name'],'description':_0x185e79[_0x5b7d78(0x810)],'instructions':_0x185e79['instructions'],'contextOutputVariable':_0x185e79[_0x5b7d78(0x944)],'contextInputVariable':_0x185e79['contextInputVariable'],'grammar':_0x185e79[_0x5b7d78(0x75d)]??'default','temperature':_0x185e79[_0x5b7d78(0x5f4)],'maxTokens':_0x185e79[_0x5b7d78(0x147)],'modelId':_0x185e79[_0x5b7d78(0x582)],'versions':_0x185e79['versions']};});}async[_0x1af94f(0xfb)](_0x1fe2a4){const _0x1501e1=_0x1af94f;return(await(0x0,_0x36eea4[_0x1501e1(0x9c2)])((0x0,_0x36eea4['collection'])(_0xa01105[_0x1501e1(0x1ca)](),_0x1501e1(0x39d)+_0x1fe2a4+_0x1501e1(0x198))))[_0x1501e1(0x283)][_0x1501e1(0x7d0)](_0xfc539d=>{const _0x480e2f=_0x1501e1,_0x434f82=_0xfc539d[_0x480e2f(0x87a)]();return{'type':_0x4e856e[_0x480e2f(0x84d)],'id':_0xfc539d['id'],'name':_0x434f82[_0x480e2f(0x450)],'description':_0x434f82[_0x480e2f(0x810)],'ingestBlocks':_0x434f82[_0x480e2f(0x6bc)],'retrieveBlocks':_0x434f82[_0x480e2f(0x47a)],'versions':_0x434f82[_0x480e2f(0x706)]};});}async[_0x1af94f(0x8b6)](_0x3a7ff0){const _0x2d2026=_0x1af94f;return(await(0x0,_0x36eea4[_0x2d2026(0x9c2)])((0x0,_0x36eea4[_0x2d2026(0x4e5)])(_0xa01105[_0x2d2026(0x1ca)](),_0x2d2026(0x39d)+_0x3a7ff0+_0x2d2026(0x5d3))))[_0x2d2026(0x283)][_0x2d2026(0x7d0)](_0x54306c=>{const _0x48597b=_0x2d2026,_0x589b6e=_0x54306c[_0x48597b(0x87a)]();return{'type':_0x4e856e[_0x48597b(0x1cb)],'id':_0x54306c['id'],'name':_0x589b6e[_0x48597b(0x450)],'description':_0x589b6e[_0x48597b(0x810)],'parameters':_0x589b6e[_0x48597b(0x224)],'endpointUrl':_0x589b6e['endpointUrl'],'endpointMethod':_0x589b6e[_0x48597b(0x47c)],'headers':_0x589b6e[_0x48597b(0x9b0)],'queryParameters':_0x589b6e[_0x48597b(0xa13)],'bodyParameters':_0x589b6e[_0x48597b(0x684)],'contextOutputVariable':_0x589b6e[_0x48597b(0x944)],'waitAsync':_0x589b6e['waitAsync']??!0x1,'asyncEndpointUrl':_0x589b6e['asyncEndpointUrl'],'asyncEndpointMethod':_0x589b6e[_0x48597b(0x274)],'asyncHeaders':_0x589b6e[_0x48597b(0x709)]};});}async['getGrammars'](_0x12ed27){const _0x25a23d=_0x1af94f;return(await(0x0,_0x36eea4[_0x25a23d(0x9c2)])((0x0,_0x36eea4[_0x25a23d(0x4e5)])(_0xa01105[_0x25a23d(0x1ca)](),'/developers/'+_0x12ed27+_0x25a23d(0x6a2))))['docs'][_0x25a23d(0x7d0)](_0x418a70=>{const _0x19c52e=_0x25a23d,_0x195613=_0x418a70[_0x19c52e(0x87a)]();return{'id':_0x418a70['id'],'name':_0x195613['name'],'description':_0x195613[_0x19c52e(0x810)],'content':_0x195613[_0x19c52e(0x3fe)]};});}async[_0x1af94f(0x639)](_0x4d96f8){const _0x2a238d=_0x1af94f;return(await(0x0,_0x36eea4[_0x2a238d(0x9c2)])((0x0,_0x36eea4[_0x2a238d(0x4e5)])(_0xa01105[_0x2a238d(0x1ca)](),'/developers/'+_0x4d96f8+_0x2a238d(0x8d8))))[_0x2a238d(0x283)]['map'](_0x2bef7f=>{const _0x34a405=_0x2a238d,_0x463763=_0x2bef7f['data']();return{'id':_0x2bef7f['id'],'modelName':_0x463763[_0x34a405(0x299)],'engineType':_0x463763[_0x34a405(0x27b)],'taskType':_0x463763[_0x34a405(0x805)],'knowledgeCutoffDate':_0x463763[_0x34a405(0x86c)],'inputType':_0x463763['inputType']??_0xb0907f[_0x34a405(0x310)][_0x34a405(0x721)],'outputType':_0x463763['outputType']??_0xb0907f[_0x34a405(0x8df)]['Text'],'sourceUrl':_0x463763[_0x34a405(0x91c)]};});}}const _0x101df8=_0xbdf129[_0x1af94f(0x6b0)]();class _0x1c2dce extends _0x1fda06{[_0x1af94f(0x658)];[_0x1af94f(0x90c)];[_0x1af94f(0x7ed)]=0x0;['tokens']=0x0;[_0x1af94f(0x11a)];constructor(_0x5a2386,_0x3b3d98,_0x2271ec,_0x38b708){const _0x4a3279=_0x1af94f;super(_0x5a2386,_0x3b3d98,_0x38b708),this[_0x4a3279(0x658)]=_0x5a2386,this[_0x4a3279(0x90c)]=_0x2271ec,this[_0x4a3279(0x9ed)]();}[_0x1af94f(0x541)](){const _0x3da46b=_0x1af94f;this[_0x3da46b(0x11a)]&&(clearTimeout(this['debounceStats']),delete this['debounceStats']),super[_0x3da46b(0x541)]();}[_0x1af94f(0x9b6)](){const _0x2d35e7=_0x1af94f;this[_0x2d35e7(0x7ed)]=0x0,this[_0x2d35e7(0x554)]=0x0,this[_0x2d35e7(0x9ed)](),super[_0x2d35e7(0x9b6)]();}[_0x1af94f(0x320)](_0x12a38c){const _0x527ffc=_0x1af94f,_0x17ba53=_0x527ffc(0x327)+(0x0,_0x2a820b['v4'])();switch(_0x12a38c[_0x527ffc(0x44f)]){case'prompt':let _0x3bc242=!0x1;const _0x2f357a=()=>{const _0x2fe38b=_0x527ffc;if(_0x3bc242)throw new _0x3c8547(_0x3c8547[_0x2fe38b(0x700)][_0x2fe38b(0x18f)]);_0x3bc242=!0x0;},_0xd03845=()=>(_0x2f357a(),this[_0x527ffc(0x81e)](_0x17ba53,_0x12a38c[_0x527ffc(0x81e)],_0x12a38c[_0x527ffc(0x9b8)])),_0x4a6441=()=>(_0x2f357a(),this['stream'](_0x17ba53,_0x12a38c['prompt'],_0x12a38c[_0x527ffc(0x9b8)]));return{'id':_0x17ba53,'prompt':_0x12a38c[_0x527ffc(0x81e)],'options':_0x12a38c[_0x527ffc(0x9b8)]??{'threadId':'thread-'+(0x0,_0x2a820b['v4'])()},'run':_0xd03845,'stream':_0x4a6441};case _0x527ffc(0x186):let _0x51f2b4=!0x1;const _0x1c6fad=()=>{const _0x594793=_0x527ffc;if(_0x51f2b4)throw new _0x3c8547(_0x3c8547[_0x594793(0x700)]['GenerativeAIContextJobAlreadyConsumed']);_0x51f2b4=!0x0;},_0x5e8a8d=()=>(_0x1c6fad(),this[_0x527ffc(0xa48)](_0x17ba53,_0x12a38c[_0x527ffc(0x626)],_0x12a38c[_0x527ffc(0xa49)],_0x12a38c[_0x527ffc(0x9b8)]));if(!_0x12a38c['options']?.['threadId'])throw new _0x3b3113(_0x56d472[_0x527ffc(0x1e2)],'Please\x20provide\x20a\x20threadId\x20in\x20the\x20options');return{'id':_0x17ba53,'rating':_0x12a38c[_0x527ffc(0x626)],'options':_0x12a38c['options']??{'threadId':_0x527ffc(0x86f)+(0x0,_0x2a820b['v4'])()},'rate':_0x5e8a8d};case _0x527ffc(0x4a6):let _0x57e02c=!0x1;const _0x37f69c=()=>{const _0x368073=_0x527ffc;if(_0x57e02c)throw new _0x3c8547(_0x3c8547['codes'][_0x368073(0x18f)]);_0x57e02c=!0x0;};return{'id':_0x17ba53,'objectStoreId':'','documentPath':_0x12a38c['documentPath'],'download':()=>(_0x37f69c(),this['internalDownloadDocument'](_0x17ba53,_0x12a38c[_0x527ffc(0x340)],_0x12a38c[_0x527ffc(0xf9)]))};case _0x527ffc(0x9f0):let _0x46be0d=!0x1;const _0x43f7cb=()=>{const _0x482a88=_0x527ffc;if(_0x46be0d)throw new _0x3c8547(_0x3c8547[_0x482a88(0x700)][_0x482a88(0x18f)]);_0x46be0d=!0x0;};return{'id':_0x17ba53,'query':_0x12a38c[_0x527ffc(0x63f)],'collectionId':_0x12a38c[_0x527ffc(0x33f)],'search':()=>(_0x43f7cb(),this[_0x527ffc(0x29c)](_0x17ba53,_0x12a38c['query'],_0x12a38c[_0x527ffc(0x33f)]))};}}async[_0x1af94f(0x6b6)](_0x505b94){const _0x34d58b=_0x1af94f;return this[_0x34d58b(0x320)](_0x505b94)[_0x34d58b(0x186)]();}async[_0x1af94f(0x4a6)](_0x3e11bc){const _0x4e59ac=_0x1af94f,_0x7330e0={'type':_0x4e59ac(0x4a6),'objectStoreId':'','documentPath':_0x3e11bc};return this[_0x4e59ac(0x320)](_0x7330e0)[_0x4e59ac(0x5b5)]();}async[_0x1af94f(0x9f0)](_0x39907c){const _0x1bf024=_0x1af94f;return this[_0x1bf024(0x320)](_0x39907c)[_0x1bf024(0x9f0)]();}async[_0x1af94f(0x29c)](_0xe4379a,_0xef2ba5,_0x20ad1d){const _0x13de00=_0x1af94f,_0x4f1da0={'type':_0x13de00(0x9f0),'threadId':'','query':_0xef2ba5,'collectionId':_0x20ad1d},_0x415658=await this[_0x13de00(0x4fd)](_0xe4379a,_0xb0907f[_0x13de00(0x99c)][_0x13de00(0x2c1)],_0x4f1da0);return new Promise((_0x2c1576,_0x302355)=>{const _0x31ba60=_0x13de00;let _0x5ce023;const _0x1c15fd=_0x415658[_0x31ba60(0x9f2)]({'next':_0x70af66=>{const _0x77da7d=_0x31ba60;switch(_0x70af66[_0x77da7d(0x8bb)]){case _0xb0907f['JobStatus']['Completed']:clearTimeout(_0x5ce023),_0x2c1576(_0x70af66[_0x77da7d(0x937)]['context']??[]),_0x1c15fd['unsubscribe']();break;case _0xb0907f[_0x77da7d(0x8d3)][_0x77da7d(0x8d6)]:clearTimeout(_0x5ce023),_0x302355(new _0x3c8547(_0x3c8547[_0x77da7d(0x700)]['GenerativeAIContextJobFailed'],{'updatedJob':_0x70af66})),_0x1c15fd[_0x77da7d(0x885)]();}},'error':_0x35de05=>{const _0x5a7922=_0x31ba60;clearTimeout(_0x5ce023),_0x302355(new _0x3c8547(_0x3c8547[_0x5a7922(0x700)][_0x5a7922(0x1b9)],{'err':_0x35de05})),_0x1c15fd[_0x5a7922(0x885)]();}});_0x5ce023=setTimeout(()=>{const _0x72ab5d=_0x31ba60;_0x302355(new _0x3c8547(_0x3c8547[_0x72ab5d(0x700)]['GenerativeAIContextJobTimeout'])),_0x1c15fd[_0x72ab5d(0x885)]();},_0x5e39b7);});}async['internalRatePrompt'](_0x4c3f5c,_0x20d714,_0x3da54d,{threadId:_0x4bf38b,feedback:_0x2c4406=''}){const _0x46e415=_0x1af94f,_0x17df7a={'type':_0x46e415(0x186),'jobId':_0x3da54d,'threadId':_0x4bf38b,'rating':_0x20d714,'feedback':_0x2c4406},_0x18cdbe=await this[_0x46e415(0x4fd)](_0x4c3f5c,_0xb0907f['JobType']['Job'],_0x17df7a,{'threadId':_0x4bf38b,'feedback':_0x2c4406});return new Promise((_0x38f205,_0x1c312a)=>{const _0x5450ee=_0x46e415;let _0x53affb;const _0xa2a9de=_0x18cdbe[_0x5450ee(0x9f2)]({'next':_0x43da5=>{const _0x353beb=_0x5450ee;switch(_0x43da5['status']){case _0xb0907f[_0x353beb(0x8d3)][_0x353beb(0x6ef)]:clearTimeout(_0x53affb),_0x38f205(_0x43da5[_0x353beb(0x937)]),_0xa2a9de[_0x353beb(0x885)]();break;case _0xb0907f[_0x353beb(0x8d3)][_0x353beb(0x8d6)]:clearTimeout(_0x53affb),_0x1c312a(new _0x3c8547(_0x3c8547[_0x353beb(0x700)][_0x353beb(0x1b9)],{'updatedJob':_0x43da5})),_0xa2a9de['unsubscribe']();}},'error':_0xac428d=>{const _0x9d3da0=_0x5450ee;clearTimeout(_0x53affb),_0x1c312a(new _0x3c8547(_0x3c8547[_0x9d3da0(0x700)][_0x9d3da0(0x1b9)],{'err':_0xac428d})),_0xa2a9de[_0x9d3da0(0x885)]();}});_0x53affb=setTimeout(()=>{const _0x5d01a0=_0x5450ee;_0x1c312a(new _0x3c8547(_0x3c8547[_0x5d01a0(0x700)]['GenerativeAIContextJobTimeout'])),_0xa2a9de['unsubscribe']();},_0x5e39b7);});}async['internalDownloadDocument'](_0x316eba,_0x486af1,_0x18515f){const _0x1aba53=_0x1af94f,_0x1e75e0={'type':_0x1aba53(0x4a6),'objectStoreId':_0x486af1,'documentPath':_0x18515f,'threadId':_0x1aba53(0x86f)+(0x0,_0x2a820b['v4'])()},_0x2b41a6=await this[_0x1aba53(0x4fd)](_0x316eba,_0xb0907f[_0x1aba53(0x99c)][_0x1aba53(0x2c1)],_0x1e75e0);return new Promise((_0x127aa2,_0x4652bc)=>{const _0x494e8c=_0x1aba53;let _0x310989;const _0x549fee=_0x2b41a6[_0x494e8c(0x9f2)]({'next':_0x186b7e=>{const _0x474cb8=_0x494e8c;switch(_0x186b7e['status']){case _0xb0907f['JobStatus']['Completed']:clearTimeout(_0x310989),_0x127aa2(_0x186b7e[_0x474cb8(0x937)]),_0x549fee[_0x474cb8(0x885)]();break;case _0xb0907f[_0x474cb8(0x8d3)][_0x474cb8(0x8d6)]:clearTimeout(_0x310989),_0x4652bc(new _0x3c8547(_0x3c8547[_0x474cb8(0x700)][_0x474cb8(0x1b9)],{'updatedJob':_0x186b7e})),_0x549fee[_0x474cb8(0x885)]();}},'error':_0x54a3df=>{const _0x44424f=_0x494e8c;clearTimeout(_0x310989),_0x4652bc(new _0x3c8547(_0x3c8547[_0x44424f(0x700)]['GenerativeAIContextJobFailed'],{'err':_0x54a3df})),_0x549fee[_0x44424f(0x885)]();}});_0x310989=setTimeout(()=>{const _0x2bd20b=_0x494e8c;_0x4652bc(new _0x3c8547(_0x3c8547[_0x2bd20b(0x700)][_0x2bd20b(0x3ef)])),_0x549fee['unsubscribe']();},_0x5e39b7);});}async[_0x1af94f(0x81e)](_0x55492e,_0x3acce7,_0x566c45){const _0x44c1c3=_0x1af94f,_0x3e5981={'type':'prompt','prompt':_0x3acce7,'threadId':_0x566c45?.['threadId']??_0x44c1c3(0x86f)+(0x0,_0x2a820b['v4'])()},_0x596b2b=await this[_0x44c1c3(0x4fd)](_0x55492e,_0xb0907f[_0x44c1c3(0x99c)][_0x44c1c3(0x2c1)],_0x3e5981,_0x566c45);return new Promise((_0x35e6a3,_0x2ac3dc)=>{let _0x28685d;const _0x36e23c=_0x596b2b['subscribe']({'next':_0x3e97f0=>{const _0x4f27ae=a0_0xaf41;switch(_0x3e97f0[_0x4f27ae(0x8bb)]){case _0xb0907f['JobStatus'][_0x4f27ae(0x6ef)]:if(_0x4f27ae(0x81e)!==_0x3e97f0['result'][_0x4f27ae(0x44f)])return;const _0xabaff1=_0x3e97f0[_0x4f27ae(0x937)][_0x4f27ae(0x2d0)]??0x0;this[_0x4f27ae(0x624)](_0x3acce7,_0xabaff1),clearTimeout(_0x28685d),_0x35e6a3(_0x3e97f0[_0x4f27ae(0x937)]),_0x36e23c[_0x4f27ae(0x885)](),this[_0x4f27ae(0x7ed)]+=0x1,this[_0x4f27ae(0x554)]+=_0xabaff1,this[_0x4f27ae(0x9ed)]();break;case _0xb0907f['JobStatus']['Failed']:clearTimeout(_0x28685d),_0x2ac3dc(new _0x3c8547(_0x3c8547[_0x4f27ae(0x700)][_0x4f27ae(0x1b9)],{'updatedJob':_0x3e97f0})),_0x36e23c[_0x4f27ae(0x885)](),this[_0x4f27ae(0x9ed)]();}},'error':_0x317fd8=>{const _0x37f546=a0_0xaf41;clearTimeout(_0x28685d),_0x2ac3dc(new _0x3c8547(_0x3c8547[_0x37f546(0x700)][_0x37f546(0x1b9)],{'err':_0x317fd8})),_0x36e23c[_0x37f546(0x885)]();}});_0x28685d=setTimeout(()=>{const _0x2407ea=a0_0xaf41;_0x2ac3dc(new _0x3c8547(_0x3c8547['codes'][_0x2407ea(0x3ef)])),_0x36e23c['unsubscribe']();},_0x5e39b7);});}async*[_0x1af94f(0x35e)](_0x105c7d,_0x4872b6,_0x5ccf46){const _0x2c9df9=_0x1af94f,_0x12a59c={'type':'prompt','prompt':_0x4872b6,'threadId':_0x5ccf46?.[_0x2c9df9(0x46c)]??_0x2c9df9(0x86f)+(0x0,_0x2a820b['v4'])()},_0x4e7189=await this['getJobObservable'](_0x105c7d,_0xb0907f['JobType']['JobStream'],_0x12a59c,_0x5ccf46);let _0xdf657e,_0x23eb68,_0x3d62e8=!0x1,_0x1b610e=0x0;const _0x4f0e10=[],_0x3e6075=new Map();let _0x396c15=null;const _0x407225=()=>{_0x396c15&&(_0x396c15(),_0x396c15=null);},_0x4c5533=_0x75d3e=>{const _0x1427db=_0x2c9df9;_0x3d62e8=!0x0,_0x407225(),_0x2113d1[_0x1427db(0x885)](),_0x23eb68=_0x75d3e;},_0x2113d1=_0x4e7189[_0x2c9df9(0x9f2)]({'next':async _0x36636f=>{const _0x4eb68e=_0x2c9df9;switch(_0x36636f[_0x4eb68e(0x8bb)]){case _0xb0907f[_0x4eb68e(0x8d3)][_0x4eb68e(0x8b4)]:if(_0x4eb68e(0x81e)!==_0x36636f[_0x4eb68e(0x937)][_0x4eb68e(0x44f)])return;if(_0x36636f[_0x4eb68e(0x937)]&&void 0x0!==_0x36636f[_0x4eb68e(0x937)][_0x4eb68e(0x2cc)]){if(void 0x0===_0x36636f[_0x4eb68e(0x937)][_0x4eb68e(0x1c0)])return void _0x4c5533(_0x3c8547[_0x4eb68e(0x700)][_0x4eb68e(0x246)]);_0x1b610e===_0x36636f[_0x4eb68e(0x937)][_0x4eb68e(0x1c0)]?(_0x4f0e10[_0x4eb68e(0x3d6)](_0x36636f[_0x4eb68e(0x937)]),_0x1b610e++,((()=>{const _0x2a9891=_0x4eb68e;for(;_0x3e6075[_0x2a9891(0x907)](_0x1b610e);)_0x4f0e10[_0x2a9891(0x3d6)](_0x3e6075[_0x2a9891(0x70a)](_0x4f0e10[_0x2a9891(0x71c)])),_0x3e6075[_0x2a9891(0x8e1)](_0x4f0e10[_0x2a9891(0x71c)]),_0x1b610e++;})()),_0x407225(),_0x372396()):_0x3e6075[_0x4eb68e(0x81a)](_0x36636f['result'][_0x4eb68e(0x1c0)],_0x36636f[_0x4eb68e(0x937)]);}break;case _0xb0907f['JobStatus'][_0x4eb68e(0x6ef)]:if(_0x4eb68e(0x81e)!==_0x36636f[_0x4eb68e(0x937)][_0x4eb68e(0x44f)])return;for(;_0x1b610e!==_0x36636f[_0x4eb68e(0x937)]['index'];)await _0xdf6e0c[_0x4eb68e(0xa2b)](0x3e8);const _0xde344d=_0x36636f[_0x4eb68e(0x937)][_0x4eb68e(0x2d0)]??0x0;this['logServiceEvent'](_0x4872b6,_0xde344d),clearTimeout(_0xdf657e),_0x4c5533(),this[_0x4eb68e(0x7ed)]+=0x1,this[_0x4eb68e(0x554)]+=_0xde344d,this[_0x4eb68e(0x9ed)]();break;case _0xb0907f[_0x4eb68e(0x8d3)][_0x4eb68e(0x8d6)]:clearTimeout(_0xdf657e),_0x4c5533(_0x3c8547['codes']['GenerativeAIContextJobFailed']),this[_0x4eb68e(0x9ed)]();}},'error':_0x3e3fc9=>{const _0x225c14=_0x2c9df9;clearTimeout(_0xdf657e),_0x4c5533(_0x3c8547[_0x225c14(0x700)][_0x225c14(0x1b9)]);}}),_0x51052d=()=>{const _0x19cce4=_0x2c9df9;_0x4c5533(_0x3c8547[_0x19cce4(0x700)][_0x19cce4(0x3ef)]);},_0x372396=()=>{clearTimeout(_0xdf657e),_0xdf657e=setTimeout(_0x51052d,_0x5e39b7);};for(_0xdf657e=setTimeout(_0x51052d,_0x5e39b7);!_0x3d62e8||_0x4f0e10[_0x2c9df9(0x71c)]>0x0;)_0x4f0e10[_0x2c9df9(0x71c)]>0x0?yield _0x4f0e10[_0x2c9df9(0x396)]():await new Promise(_0x230f55=>_0x396c15=_0x230f55);if(_0x23eb68)throw _0x5999e0['error'](_0x2c9df9(0x51d),{'nodeId':this[_0x2c9df9(0x658)][_0x2c9df9(0x8f3)](),'nodeType':this[_0x2c9df9(0x658)]['type']}),new _0x3c8547(_0x23eb68);}async[_0x1af94f(0x65a)](){const _0x5df62f=_0x1af94f;return(await _0x101df8[_0x5df62f(0x176)](this[_0x5df62f(0x90c)],this[_0x5df62f(0xf1)]))[_0x5df62f(0x149)];}['logServiceEvent'](_0x5e0b03,_0x47a3a0){const _0x2af281=_0x1af94f,_0xfa9421=this[_0x2af281(0xf1)],_0x302218=this['getOwnerId']();_0x5999e0[_0x2af281(0x624)](_0x53b20f[_0x2af281(0x564)],{'topic':_0xfa9421,'prompt':_0x5e0b03,'type':_0x2af281(0x81e),'nodeId':_0x302218,'tokenCount':_0x47a3a0});}async[_0x1af94f(0x4fd)](_0x175d03,_0xb83cb0,_0xcaad10,_0x593375={}){const _0x31b173=_0x1af94f;let _0x3f84f8;switch(_0xcaad10[_0x31b173(0x44f)]){case _0x31b173(0x81e):{const {threadId:_0x403eb4}=_0x593375;_0x3f84f8={'id':_0x175d03,'jobType':_0xb83cb0,'parameters':{..._0x593375,'type':_0x31b173(0x81e),'prompt':_0xcaad10[_0x31b173(0x81e)],'threadId':_0x403eb4},'status':_0xb0907f[_0x31b173(0x8d3)][_0x31b173(0x3d7)]};break;}case _0x31b173(0x186):{const {threadId:_0x3f3e0e}=_0x593375;_0x3f84f8={'id':_0x175d03,'jobType':_0xb83cb0,'parameters':{..._0x593375,'type':_0x31b173(0x186),'jobId':_0xcaad10[_0x31b173(0xa49)],'rating':_0xcaad10[_0x31b173(0x626)],'feedback':_0xcaad10['feedback']??'','threadId':_0x3f3e0e},'status':_0xb0907f[_0x31b173(0x8d3)][_0x31b173(0x3d7)]};break;}case _0x31b173(0x4a6):_0x3f84f8={'id':_0x175d03,'jobType':_0xb83cb0,'parameters':{..._0x593375,'type':_0x31b173(0x4a6),'objectStoreId':_0xcaad10[_0x31b173(0x340)],'documentPath':_0xcaad10['documentPath']},'status':_0xb0907f['JobStatus']['Pending']};break;case _0x31b173(0x9f0):_0x3f84f8={'id':_0x175d03,'jobType':_0xb83cb0,'parameters':{..._0x593375,'type':'search','query':_0xcaad10[_0x31b173(0x63f)],'collectionId':_0xcaad10['collectionId']},'status':_0xb0907f['JobStatus'][_0x31b173(0x3d7)]};}return await this[_0x31b173(0x248)](_0x3f84f8);}[_0x1af94f(0x9ed)](){const _0x285dc0=_0x1af94f;this[_0x285dc0(0x11a)]&&clearTimeout(this[_0x285dc0(0x11a)]),this['debounceStats']=setTimeout(async()=>{const _0x12ff4e=_0x285dc0;delete this[_0x12ff4e(0x11a)],this[_0x12ff4e(0x316)]['publish']({'sourceId':_0x50bf9f,'messageType':_0x502914[_0x12ff4e(0x54e)],'content':{'type':_0x20f4a0['GenerativeAIContextStats'],'label':this[_0x12ff4e(0xf1)],'stats':{'timestamp':Date['now'](),'storage':0x0,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x12ff4e(0x9c7)],'bytesSent':this[_0x12ff4e(0x525)],'bytesReceived':this[_0x12ff4e(0x7b6)],'writes':0x0,'reads':0x0,'prompts':this[_0x12ff4e(0x7ed)],'tokens':this[_0x12ff4e(0x554)]}}});},_0x33f6e5);}}var _0x5c8d29,_0x4de559,_0x3a949c,_0x4478c1,_0x39455e,_0x3100d0,_0x2aa7ac,_0x471d00,_0x1e3201,_0x491470,_0x145514;!function(_0x5c25a3){const _0x553b27=_0x1af94f;_0x5c25a3['AITrace']=_0x553b27(0x638),_0x5c25a3['IngestTrace']='IngestTrace',_0x5c25a3[_0x553b27(0x5c4)]='RetrieveTrace',_0x5c25a3[_0x553b27(0x425)]='WorkflowTrace';}(_0x5c8d29||(_0x5c8d29={})),function(_0x40f0c3){const _0x4913b9=_0x1af94f;_0x40f0c3[_0x4913b9(0x971)]='ModelText',_0x40f0c3[_0x4913b9(0x586)]=_0x4913b9(0x586),_0x40f0c3['VectorSearch']='VectorSearch',_0x40f0c3['EntityExtractor']=_0x4913b9(0x71b),_0x40f0c3[_0x4913b9(0x3f8)]=_0x4913b9(0x3f8),_0x40f0c3[_0x4913b9(0x3de)]='Reranker';}(_0x4de559||(_0x4de559={})),function(_0x2963a5){const _0xc9cea9=_0x1af94f;_0x2963a5[_0x2963a5[_0xc9cea9(0x26b)]=0x0]=_0xc9cea9(0x26b),_0x2963a5[_0x2963a5[_0xc9cea9(0x654)]=0x5]=_0xc9cea9(0x654),_0x2963a5[_0x2963a5['Warning']=0xa]='Warning',_0x2963a5[_0x2963a5[_0xc9cea9(0x49a)]=0xf]=_0xc9cea9(0x49a);}(_0x3a949c||(_0x3a949c={})),function(_0x234936){const _0x53f118=_0x1af94f;_0x234936[_0x53f118(0x8a5)]=_0x53f118(0x8a5),_0x234936[_0x53f118(0xa44)]=_0x53f118(0xa44),_0x234936[_0x53f118(0xf6)]='Knowledge',_0x234936[_0x53f118(0x38e)]='Skill',_0x234936['Workflow']=_0x53f118(0x86b),_0x234936[_0x53f118(0x2c1)]='Job',_0x234936[_0x53f118(0x3fd)]=_0x53f118(0x3fd),_0x234936[_0x53f118(0x3d4)]=_0x53f118(0x3d4);}(_0x4478c1||(_0x4478c1={})),function(_0xd0a286){const _0xa65256=_0x1af94f;_0xd0a286['Queued']=_0xa65256(0x4ad),_0xd0a286[_0xa65256(0x6ef)]=_0xa65256(0x6ef);}(_0x39455e||(_0x39455e={})),function(_0x5ba2a1){const _0x194f68=_0x1af94f;_0x5ba2a1[_0x194f68(0x29b)]=_0x194f68(0x29b),_0x5ba2a1['IntermediateOutput']=_0x194f68(0x2b2),_0x5ba2a1[_0x194f68(0x84d)]='DataCollection',_0x5ba2a1[_0x194f68(0x6c1)]=_0x194f68(0x6c1);}(_0x3100d0||(_0x3100d0={})),function(_0x34b068){const _0x847dd0=_0x1af94f;_0x34b068[_0x847dd0(0x98e)]=_0x847dd0(0x98e),_0x34b068['DocumentParser']=_0x847dd0(0x3ff),_0x34b068[_0x847dd0(0x71b)]=_0x847dd0(0x71b),_0x34b068['GraphDatabase']=_0x847dd0(0x835),_0x34b068['Agent']=_0x847dd0(0x58e),_0x34b068[_0x847dd0(0x971)]=_0x847dd0(0x971),_0x34b068[_0x847dd0(0x586)]=_0x847dd0(0x586),_0x34b068['RelationExtractor']='RelationExtractor',_0x34b068[_0x847dd0(0x8b2)]=_0x847dd0(0x8b2),_0x34b068[_0x847dd0(0x21e)]=_0x847dd0(0x21e),_0x34b068['WordSplitter']=_0x847dd0(0x851);}(_0x2aa7ac||(_0x2aa7ac={})),function(_0x5d3288){const _0x18a368=_0x1af94f;_0x5d3288[_0x18a368(0x63b)]=_0x18a368(0x63b),_0x5d3288['GetContextResult']=_0x18a368(0xa1f);}(_0x471d00||(_0x471d00={})),function(_0x4936a9){const _0x98091=_0x1af94f;_0x4936a9[_0x98091(0x740)]='ExecuteCode',_0x4936a9['FetchUrl']=_0x98091(0x852),_0x4936a9[_0x98091(0x4b4)]=_0x98091(0x4b4),_0x4936a9[_0x98091(0x4c2)]='SearchPerplexity',_0x4936a9[_0x98091(0x88d)]=_0x98091(0x88d),_0x4936a9[_0x98091(0x917)]=_0x98091(0x917),_0x4936a9['QueryFile']=_0x98091(0x5a9),_0x4936a9[_0x98091(0x9bb)]='WriteFile';}(_0x1e3201||(_0x1e3201={})),function(_0x331e1d){const _0x3f4ea7=_0x1af94f;_0x331e1d['LoadKnowledgeFunction']='LoadKnowledgeFunction',_0x331e1d[_0x3f4ea7(0x170)]=_0x3f4ea7(0x170);}(_0x491470||(_0x491470={})),function(_0x300114){const _0x3b99bb=_0x1af94f;_0x300114[_0x3b99bb(0x505)]=_0x3b99bb(0x505);}(_0x145514||(_0x145514={}));class _0x1dc58e{static ['instance']=new _0x1dc58e();[_0x1af94f(0x6c9)]=[];[_0x1af94f(0x32d)]=!0x1;constructor(){}static[_0x1af94f(0x6b0)](){const _0x427e67=_0x1af94f;return _0x1dc58e[_0x427e67(0x8ab)];}get[_0x1af94f(0x71c)](){const _0x563169=_0x1af94f;return this[_0x563169(0x6c9)][_0x563169(0x71c)];}[_0x1af94f(0x992)](){const _0x10a330=_0x1af94f;return!this[_0x10a330(0x32d)];}[_0x1af94f(0xa4f)](_0x3ecc5e){const _0x5672f8=_0x1af94f;_0x3ecc5e?this[_0x5672f8(0x6c9)]=this[_0x5672f8(0x6c9)][_0x5672f8(0x7e0)](_0x1d930c=>_0x1d930c[_0x5672f8(0x4af)]!==_0x3ecc5e):(this[_0x5672f8(0x6c9)]=[],this['isRunning']=!0x1);}[_0x1af94f(0x23a)](_0x3aaa4a,_0xa3518f){const _0x48a86c=_0x1af94f;this[_0x48a86c(0x6c9)][_0x48a86c(0x3d6)]({'callback':_0xa3518f,'ownerId':_0x3aaa4a}),this['runJobQueue']();}async[_0x1af94f(0x5fe)](){const _0x2e393c=_0x1af94f;if(!this['isRunning']){for(this[_0x2e393c(0x32d)]=!0x0;this[_0x2e393c(0x6c9)]['length']>0x0;){const _0x322ad5=this[_0x2e393c(0x6c9)]['shift']();if(_0x322ad5)try{console[_0x2e393c(0x799)]('JobQueueService:\x20Running\x20job'),await _0x322ad5['callback'](),console[_0x2e393c(0x799)](_0x2e393c(0x76d));}catch(_0x4bd5a9){console[_0x2e393c(0x883)](_0x2e393c(0x9d4),_0x4bd5a9);}}this[_0x2e393c(0x32d)]=!0x1;}}}const _0x51a938=_0x1dc58e['getInstance']();class _0x236c52 extends _0x1eef03{['capacityReporter'];['unsubscribeListener'];constructor(_0x22ff55,_0x5a86a5,_0x1bbd60){const _0x1aa8c0=_0x1af94f;super(_0x22ff55,_0x5a86a5),this[_0x1aa8c0(0x3e3)]=_0x1bbd60;}[_0x1af94f(0x8f7)](){const _0x5b1cb5=_0x1af94f;return _0xb0907f[_0x5b1cb5(0x178)][_0x5b1cb5(0x2c1)];}[_0x1af94f(0x2de)](){this['subscribeToJobs']();}[_0x1af94f(0x92f)](){const _0x280e87=_0x1af94f;this[_0x280e87(0x316)]?.[_0x280e87(0x3ec)]({'sourceId':_0x50bf9f,'messageType':_0x502914['Content'],'content':{'type':_0x20f4a0['CloseJobWorker'],'label':this[_0x280e87(0xf1)]}});}['reset'](){const _0x5712d8=_0x1af94f;this[_0x5712d8(0x1be)]?.(),delete this[_0x5712d8(0x1be)],this['open']();}[_0x1af94f(0x541)](){const _0x3bf0ea=_0x1af94f;_0x51a938[_0x3bf0ea(0xa4f)](this[_0x3bf0ea(0xf1)]),this['unsubscribeListener']?.(),delete this[_0x3bf0ea(0x1be)],super[_0x3bf0ea(0x541)]();}['isAvailable'](){const _0x5d0bd1=_0x1af94f;return _0x51a938[_0x5d0bd1(0x992)]();}[_0x1af94f(0x3e4)](){return 0x1;}[_0x1af94f(0x9e8)](_0x13ec62,_0x5d7d33,_0x39ca00){}[_0x1af94f(0x4f6)](_0x2a1e4c,_0x1f626e){return _0x2a1e4c;}[_0x1af94f(0x337)](_0x5de598,_0x3ac5aa){const _0x514f24=_0x1af94f;console[_0x514f24(0x799)](_0x514f24(0x6cb));}[_0x1af94f(0x408)](_0x1a09f3,_0x535b28){const _0xcc0119=_0x1af94f;console[_0xcc0119(0x799)](_0xcc0119(0x6cb));}[_0x1af94f(0x95b)](){const _0x122dee=_0x1af94f;this[_0x122dee(0x1be)]||(this['unsubscribeListener']=this[_0x122dee(0x83b)]((_0x1f82b5,_0x2074d0)=>{const _0x5e7c61=_0x122dee;if(_0x5999e0[_0x5e7c61(0x15c)](_0x53526a['Jobs'],_0x5e7c61(0x808),_0x2074d0),!(_0x2074d0 instanceof File)){if(this[_0x5e7c61(0x8e9)](_0x2074d0))_0x5999e0['log'](_0x53526a[_0x5e7c61(0x2db)],_0x5e7c61(0x67f),_0x2074d0),this[_0x5e7c61(0x992)]()?this['sendBid'](_0x2074d0['id'],_0x2074d0['jobType'],_0x1f82b5):this['sendReject'](_0x2074d0['id'],_0x2074d0['jobType'],_0x1f82b5);else{if(this[_0x5e7c61(0x563)](_0x2074d0)){_0x5999e0['log'](_0x53526a[_0x5e7c61(0x2db)],_0x5e7c61(0x8fc),_0x2074d0);const {id:_0x57de0f,parameters:_0x5b474e}=_0x2074d0;this[_0x5e7c61(0x337)](_0x57de0f,_0x5b474e),_0x51a938[_0x5e7c61(0x23a)](this['label'],()=>this[_0x5e7c61(0x2e6)](_0x2074d0['id'],_0x2074d0,_0x1f82b5));}}}}));}[_0x1af94f(0x561)](_0x19f970,_0x343b73,_0x296a14){const _0x2238ca=_0x1af94f,_0x13ba01={'id':_0x19f970,'jobType':_0x343b73,'jobPhase':_0x57938f[_0x2238ca(0x618)],'available':!0x0,'queueLength':_0x51a938[_0x2238ca(0x71c)],'bid':this[_0x2238ca(0x3e4)]()};_0x5999e0[_0x2238ca(0x15c)](_0x53526a['Jobs'],_0x2238ca(0x868),_0x13ba01),this['send'](_0x13ba01,[_0x296a14]);}[_0x1af94f(0x9fe)](_0x5187a8,_0x34fd78,_0x213ddc){const _0x30bb95=_0x1af94f,_0x4f37bf={'id':_0x5187a8,'jobType':_0x34fd78,'jobPhase':_0x57938f[_0x30bb95(0x618)],'available':!0x1,'queueLength':_0x51a938[_0x30bb95(0x71c)],'bid':0x0};_0x5999e0[_0x30bb95(0x15c)](_0x53526a[_0x30bb95(0x2db)],_0x30bb95(0x8e4),_0x4f37bf),this['send'](_0x4f37bf,[_0x213ddc]);}async[_0x1af94f(0x2e6)](_0x382c2d,_0x3cea2f,_0x656100){const _0x35558a=_0x1af94f;_0x5999e0[_0x35558a(0x15c)](_0x53526a['Jobs'],'JobWorker:\x20Handling\x20job\x20attribution',_0x3cea2f);const _0x690a20={'id':_0x382c2d,'jobType':_0x3cea2f['jobType'],'parameters':_0x3cea2f['parameters']};try{switch(_0x3cea2f['jobType']){case _0xb0907f[_0x35558a(0x99c)][_0x35558a(0x2c1)]:await this['processJob'](_0x382c2d,_0x3cea2f,_0x690a20,_0x656100);break;case _0xb0907f['JobType'][_0x35558a(0x811)]:await this[_0x35558a(0x9fb)](_0x382c2d,_0x3cea2f,_0x690a20,_0x656100);break;default:throw new Error(_0x35558a(0x206));}}catch(_0x13acac){_0x5999e0['error'](_0x35558a(0x1fe),{'nodeId':this[_0x35558a(0x3d5)]['getId'](),'nodeType':this['owner'][_0x35558a(0x44f)],'data':{'job':_0x690a20}},_0x13acac);const _0xd94a21=_0x13acac instanceof Error?_0x13acac['message']:_0x35558a(0x592),_0x52b295={'id':_0x382c2d,'jobType':_0x3cea2f[_0x35558a(0xa0b)],'jobPhase':_0x57938f['Failed'],'message':_0xd94a21};await this['send'](_0x52b295,[_0x656100]);}}async[_0x1af94f(0x812)](_0xc43292,_0x252198,_0x5c830b,_0x845a95){const _0x1b233c=_0x1af94f,_0x42263b=Date['now'](),_0x1bae50=await this[_0x1b233c(0x8e6)](_0xc43292,_0x5c830b[_0x1b233c(0x224)]);this[_0x1b233c(0x9e8)](_0x1bae50,_0x42263b,Date[_0x1b233c(0x1f3)]());const _0x14d470={'id':_0xc43292,'jobType':_0x252198[_0x1b233c(0xa0b)],'jobPhase':_0x57938f[_0x1b233c(0x8d1)],'result':_0x1bae50};_0x5999e0[_0x1b233c(0x15c)](_0x53526a['Jobs'],_0x1b233c(0x2ac),_0x14d470),await this[_0x1b233c(0x4ef)](_0x14d470,[_0x845a95]),this[_0x1b233c(0x408)](_0xc43292,_0x5c830b[_0x1b233c(0x224)]);}async[_0x1af94f(0x9fb)](_0x3e1c66,_0x35956c,_0x1dcf3c,_0x395352){const _0x398833=_0x1af94f,_0x5e6ee0=Date[_0x398833(0x1f3)]();let _0x105dcb=0x0,_0x4ddc08={};for await(const _0x2f5d53 of this[_0x398833(0x5b4)](_0x1dcf3c['id'],_0x1dcf3c[_0x398833(0x224)])){const _0x3ef7fd={'id':_0x3e1c66,'jobType':_0x35956c[_0x398833(0xa0b)],'jobPhase':_0x57938f[_0x398833(0x2e4)],'result':{..._0x2f5d53,'index':_0x105dcb}};_0x5999e0[_0x398833(0x15c)](_0x53526a['Jobs'],_0x398833(0x9a3),_0x3ef7fd),this[_0x398833(0x4ef)](_0x3ef7fd,[_0x395352]),_0x4ddc08=this[_0x398833(0x4f6)](_0x4ddc08,_0x2f5d53),_0x105dcb++;}this[_0x398833(0x9e8)](_0x4ddc08,_0x5e6ee0,Date[_0x398833(0x1f3)]());const _0x94c5a2={'id':_0x3e1c66,'jobType':_0x35956c['jobType'],'jobPhase':_0x57938f[_0x398833(0x8d1)],'result':{..._0x4ddc08,'index':_0x105dcb}};_0x5999e0['log'](_0x53526a['Jobs'],_0x398833(0x2ac),_0x94c5a2),await this['send'](_0x94c5a2,[_0x395352]),this[_0x398833(0x408)](_0x3e1c66,_0x1dcf3c['parameters']);}[_0x1af94f(0x8e9)](_0x247a0b){const _0x1bcdf6=_0x1af94f;return _0x247a0b[_0x1bcdf6(0x5b7)]===_0x57938f[_0x1bcdf6(0x4e2)];}[_0x1af94f(0x563)](_0x304b93){const _0x46b57d=_0x1af94f;return _0x304b93[_0x46b57d(0x5b7)]===_0x57938f[_0x46b57d(0x52a)];}}function _0x23bf08(_0x1c22a3,_0x431b9b){const _0x212e09=_0x1af94f;return _0x212e09(0x723)+_0x1c22a3+'-'+_0x431b9b;}function _0x44b6e1(){const _0x5d5051=_0x1af94f,_0x533791=_0x17021b[_0x5d5051(0x390)](0x1);return _0x533791['table'](_0x5d5051(0x629))['index']('id')[_0x5d5051(0x1c0)](_0x5d5051(0xa49))[_0x5d5051(0x1c0)](_0x5d5051(0x61b))[_0x5d5051(0x1c0)](_0x5d5051(0x46c))[_0x5d5051(0x1c0)](_0x5d5051(0x8fa))[_0x5d5051(0x1c0)](_0x5d5051(0xf3)),_0x533791;}function _0x13b0be(_0x28a9f2){const _0x3b8a9c=_0x1af94f;try{return JSON['stringify'](_0x28a9f2);}catch(_0x35d336){return _0x28a9f2 instanceof Error?_0x28a9f2[_0x3b8a9c(0xe5)]():JSON[_0x3b8a9c(0x656)](_0x3b8a9c(0x745));}}class _0x52d443{static [_0x1af94f(0x8ab)];[_0x1af94f(0x2a9)]=_0x3a949c[_0x1af94f(0x49a)];[_0x1af94f(0x239)]=_0x3a949c[_0x1af94f(0x654)];[_0x1af94f(0x871)]=_0x4478c1['Retrieve'];[_0x1af94f(0x4bd)]={};static [_0x1af94f(0x6b0)]=()=>(_0x52d443[_0x1af94f(0x8ab)]||(_0x52d443[_0x1af94f(0x8ab)]=new _0x52d443()),_0x52d443[_0x1af94f(0x8ab)]);[_0x1af94f(0x94e)](_0x1e46e4,_0x30b18f,_0x3ce300=!0x0){const _0x3c518a=_0x1af94f;try{if(this['openedTraces'][_0x30b18f])throw new Error(_0x3c518a(0x90d));const _0x12d009={'sequence':0x0};if(this['openedTraces'][_0x30b18f]=_0x12d009,!_0x1e46e4)return!0x0;const _0x5c0e09=function(_0x122d7f){const _0x303de=_0x3c518a;return _0x122d7f['getTable'](_0x303de(0x629));}(_0x1e46e4);return _0x12d009[_0x3c518a(0x888)]=_0x1e46e4,_0x12d009['table']=_0x5c0e09,!0x0;}catch(_0xc808bd){return console['error'](_0x3c518a(0x85c)+_0x3ce300,_0xc808bd),!!_0x3ce300&&(this[_0x3c518a(0x5c5)](_0x30b18f),this['openTrace'](_0x1e46e4,_0x30b18f,!0x1));}}['trace'](_0x551d54){const _0x4fe859=_0x1af94f;try{const _0x3a4260=this[_0x4fe859(0x4bd)][_0x551d54['jobId']];if(!_0x3a4260)throw new Error('GenerativeAITracing\x20-\x20job\x20id\x20not\x20found');_0x551d54['sequence']=_0x3a4260['sequence']++,_0x551d54[_0x4fe859(0x22b)]>=this[_0x4fe859(0x2a9)]&&console['log'](JSON[_0x4fe859(0x656)](_0x551d54,null,0x2)),this[_0x4fe859(0x376)](_0x551d54);}catch(_0xb78afb){console[_0x4fe859(0x883)](_0x4fe859(0x413),_0xb78afb);}}[_0x1af94f(0x5c5)](_0x4a8430){const _0x45419d=_0x1af94f;if(!_0x52d443[_0x45419d(0x8ab)])throw new Error('GenerativeAITracing\x20-\x20trace\x20is\x20not\x20open');if(!this[_0x45419d(0x4bd)][_0x4a8430])throw new Error(_0x45419d(0x1c7));delete this[_0x45419d(0x4bd)][_0x4a8430];}[_0x1af94f(0x376)](_0x3f4b73){const _0x5910da=_0x1af94f;if(_0x3f4b73['traceLevel']<this[_0x5910da(0x239)]&&_0x3f4b73['jobType']!==this['commitType'])return;if(!this[_0x5910da(0x4bd)][_0x3f4b73['jobId']])throw new Error('GenerativeAITracing\x20-\x20Trace\x20job\x20id\x20does\x20not\x20exist');const _0x2376a1=this['openedTraces'][_0x3f4b73['jobId']];if(!_0x2376a1[_0x5910da(0x888)])throw new Error(_0x5910da(0x568));if(!_0x2376a1[_0x5910da(0x460)])throw new Error(_0x5910da(0x60c));try{const _0x3e8886=function(_0x52357a){const _0x56534f=_0x5910da,_0x21bcc9=[_0x56534f(0xa2e),'timestamp',_0x56534f(0xa0b),_0x56534f(0x44f),_0x56534f(0xa49),_0x56534f(0x22b),_0x56534f(0x978),_0x56534f(0x8bb),_0x56534f(0xf3),'errorDetails'],_0x276501={..._0x52357a};for(const _0x555800 of _0x21bcc9)delete _0x276501[_0x555800];return{'timestamp':_0x52357a[_0x56534f(0x8fa)],'jobType':_0x52357a['jobType'],'type':_0x52357a['type'],'jobId':_0x52357a[_0x56534f(0xa49)],'agentId':_0x52357a[_0x56534f(0x61b)]??'','traceLevel':_0x52357a[_0x56534f(0x22b)],'blockId':_0x52357a['blockId']??'','startTime':_0x52357a[_0x56534f(0xa2e)],'status':_0x52357a['status'],'sequence':_0x52357a['sequence']??0x0,'errorDetails':_0x52357a['errorDetails']??'','metadata':_0x13b0be(_0x276501)};}(_0x3f4b73),_0x5c508c=(0x0,_0x2a820b['v4'])();console['log'](_0x5910da(0x57a),_0x3e8886[_0x5910da(0x44f)]),_0x2376a1['table'][_0x5910da(0x81a)](_0x5c508c,_0x3e8886);}catch(_0x4f7045){console[_0x5910da(0x883)]('GenerativeAITracing\x20-\x20Error\x20while\x20committing\x20trace',_0x4f7045);}}}const _0x14a774=_0x52d443[_0x1af94f(0x6b0)]();async function _0x41dd54(_0x3df878,_0x5de984,_0x1cfadb,_0x3e3cbf,_0x153823){const _0x1b4528=_0x1af94f,_0x13e3ef=Date[_0x1b4528(0x1f3)](),_0x233647=_0x153823[_0x1b4528(0x153)]['find'](_0x158657=>_0x158657['id']===_0x1cfadb[_0x1b4528(0x582)]);if(!_0x233647)throw new Error(_0x1b4528(0x67c));const _0x1706d6=_0x153823[_0x1b4528(0x2f7)][_0x1b4528(0x7ef)](_0x38c997=>_0x38c997[_0x1b4528(0x987)]()===_0x233647[_0x1b4528(0x970)]);if(!_0x1706d6)throw new Error(_0x1b4528(0xa39));const _0x3e756c=[],_0x252566=(0x0,_0x2a820b['v4'])(),_0x2ab488=await _0x1706d6[_0x1b4528(0x812)]({'type':_0x1b4528(0x81e),'prompt':_0x5de984,'instructions':_0x1cfadb[_0x1b4528(0x5d0)],'grammar':_0x1cfadb[_0x1b4528(0x75d)],'temperature':_0x1cfadb['temperature'],'maxTokens':_0x1cfadb[_0x1b4528(0x147)],'threadId':_0x252566},{'model':_0x233647});if(_0x1b4528(0x4e9)!=typeof _0x2ab488[_0x1b4528(0x2cc)])throw new Error(_0x1b4528(0x667));if(_0x14a774[_0x1b4528(0x850)]({'jobType':_0x4478c1[_0x1b4528(0xa44)],'type':_0x2aa7ac[_0x1b4528(0x58e)],'jobId':_0x3df878,'blockId':_0x1cfadb['id'],'traceLevel':_0x3a949c[_0x1b4528(0x26b)],'timestamp':Date[_0x1b4528(0x1f3)](),'startTime':_0x13e3ef,'status':_0x1b4528(0x9cb),'agentId':_0x252566,'content':_0x5de984,'instructions':_0x1cfadb[_0x1b4528(0x5d0)],'result':_0x2ab488['output']}),_0x1cfadb[_0x1b4528(0x64e)]?.['some'](_0x258451=>_0x258451[_0x1b4528(0x44f)]===_0x3f481[_0x1b4528(0x721)]))return _0x3e756c['push']({'content':_0x2ab488[_0x1b4528(0x2cc)],'start':0x0,'length':_0x2ab488['output'][_0x1b4528(0x71c)]}),await _0x135282(_0x3df878,_0x3e756c,_0x1cfadb,_0x3e3cbf,_0x153823),void await _0x135282(_0x3df878,_0x2ab488[_0x1b4528(0x2cc)],_0x1cfadb,_0x3e3cbf,_0x153823);_0x3e756c[_0x1b4528(0x3d6)]({'content':_0x2ab488[_0x1b4528(0x2cc)],'start':0x0,'length':_0x5de984[_0x1b4528(0x71c)]}),await _0x135282(_0x3df878,_0x3e756c,_0x1cfadb,_0x3e3cbf,_0x153823);}async function _0x5e621f(_0x163a2c,_0xb832f9,_0x39b14f,_0x5c89bd,_0x307e61){const _0x4dd17b=_0x1af94f,_0x520463=Date[_0x4dd17b(0x1f3)]();let _0x1d5e20=[];if(_0xb832f9 instanceof Array){for(const _0x34cee2 of _0xb832f9)_0x1d5e20=_0x1d5e20[_0x4dd17b(0x7c0)](_0xe380b7(_0x34cee2['content'],_0x39b14f,_0x34cee2[_0x4dd17b(0x46d)],_0x34cee2[_0x4dd17b(0x71c)]));}else _0x1d5e20=_0xe380b7(_0xb832f9,_0x39b14f);_0x14a774[_0x4dd17b(0x850)]({'jobType':_0x4478c1[_0x4dd17b(0xa44)],'type':_0x2aa7ac['ChunkSplitter'],'traceLevel':_0x3a949c[_0x4dd17b(0x26b)],'jobId':_0x163a2c,'blockId':_0x39b14f['id'],'startTime':_0x520463,'timestamp':Date[_0x4dd17b(0x1f3)](),'status':_0x4dd17b(0x9cb),'totalChunks':_0x1d5e20[_0x4dd17b(0x71c)],'chunkSize':_0x39b14f[_0x4dd17b(0x714)][_0x4dd17b(0xa20)]}),await _0x135282(_0x163a2c,_0x1d5e20,_0x39b14f,_0x5c89bd,_0x307e61);}function _0xe380b7(_0x50ea34,_0x41077e,_0x3d079a,_0x4b3b98){const _0x3d3ab9=_0x1af94f,_0x208598=[];for(let _0x2e7e3d=0x0;_0x2e7e3d<_0x50ea34[_0x3d3ab9(0x71c)];_0x2e7e3d+=_0x41077e[_0x3d3ab9(0x714)]['size']){let _0x48cef5=_0x2e7e3d-_0x41077e['attributes'][_0x3d3ab9(0x1ae)];_0x48cef5<0x0&&(_0x48cef5=0x0);let _0x5e019b=_0x2e7e3d+_0x41077e[_0x3d3ab9(0x714)]['size']+_0x41077e[_0x3d3ab9(0x714)]['overlap'];_0x5e019b>_0x50ea34[_0x3d3ab9(0x71c)]&&(_0x5e019b=_0x50ea34[_0x3d3ab9(0x71c)]);const _0x4a34e9=_0x50ea34[_0x3d3ab9(0x187)](_0x48cef5,_0x5e019b);_0x208598[_0x3d3ab9(0x3d6)]({'content':_0x4a34e9,'start':_0x3d079a??_0x2e7e3d,'length':_0x4b3b98??(_0x2e7e3d+_0x41077e[_0x3d3ab9(0x714)][_0x3d3ab9(0xa20)]>_0x50ea34[_0x3d3ab9(0x71c)]?_0x50ea34['length']-_0x2e7e3d:_0x41077e[_0x3d3ab9(0x714)]['size'])});}return _0x208598;}async function _0x5ecf58(_0x45a0ba,_0x3a81a6,_0x9b4794,_0x40a27c,_0x52465f){const _0x2ae9cc=_0x1af94f,_0x1832d1=Date[_0x2ae9cc(0x1f3)]();let _0x4284a3;if(_0x3a81a6[_0x2ae9cc(0x5dc)]['type'][_0x2ae9cc(0x4f2)](_0x2ae9cc(0x857))||_0x2b23e8(_0x3a81a6['file'][_0x2ae9cc(0x450)],_0x5f3af1))_0x4284a3=await _0x3a81a6[_0x2ae9cc(0x5dc)][_0x2ae9cc(0x55d)]();else{if(!_0x52465f[_0x2ae9cc(0x5fd)][_0x2ae9cc(0x245)](_0x3a81a6[_0x2ae9cc(0x5dc)]))throw new Error('Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20'+_0x3a81a6[_0x2ae9cc(0x5dc)][_0x2ae9cc(0x44f)]+_0x2ae9cc(0x5cb)+_0x3a81a6[_0x2ae9cc(0x5dc)][_0x2ae9cc(0x450)]);_0x4284a3=await _0x52465f[_0x2ae9cc(0x5fd)][_0x2ae9cc(0x7cd)](_0x3a81a6[_0x2ae9cc(0x5dc)]);}_0x14a774[_0x2ae9cc(0x850)]({'jobType':_0x4478c1[_0x2ae9cc(0xa44)],'type':_0x2aa7ac[_0x2ae9cc(0x3ff)],'traceLevel':_0x3a949c[_0x2ae9cc(0x26b)],'blockId':_0x9b4794['id'],'jobId':_0x45a0ba,'startTime':_0x1832d1,'timestamp':Date['now'](),'status':_0x2ae9cc(0x9cb),'documentType':_0x3a81a6[_0x2ae9cc(0x5dc)]['type'],'documentName':_0x3a81a6['file']['name'],'extractionMethod':'OfficeParser'}),await _0x135282(_0x45a0ba,_0x4284a3,_0x9b4794,_0x40a27c,_0x52465f);const _0x301ae4=[{'content':_0x4284a3,'start':0x0,'length':_0x4284a3[_0x2ae9cc(0x71c)]}];await _0x135282(_0x45a0ba,_0x301ae4,_0x9b4794,_0x40a27c,_0x52465f);}const _0x5f3af1=[_0x1af94f(0x96c),_0x1af94f(0x476),_0x1af94f(0x16e),_0x1af94f(0x3a2),_0x1af94f(0x1a8),_0x1af94f(0x916),_0x1af94f(0x294),_0x1af94f(0x45a),_0x1af94f(0x751),_0x1af94f(0x3c6),_0x1af94f(0x3a5),_0x1af94f(0x5c7),_0x1af94f(0x8ee),_0x1af94f(0xf7),'.cfg',_0x1af94f(0x273),_0x1af94f(0x39c),_0x1af94f(0x836),_0x1af94f(0x4ea),_0x1af94f(0x2d7),'.c',_0x1af94f(0x1cd),_0x1af94f(0x2f4),'.r',_0x1af94f(0x659),_0x1af94f(0x6d8),_0x1af94f(0x23e),_0x1af94f(0x891),_0x1af94f(0x359),_0x1af94f(0x567),_0x1af94f(0x44c),_0x1af94f(0x581),_0x1af94f(0x4de),_0x1af94f(0x405),_0x1af94f(0x770),_0x1af94f(0x892),_0x1af94f(0x59a),_0x1af94f(0x107),_0x1af94f(0x9dc),'.ps1',_0x1af94f(0x7f0),'.m','.vbs',_0x1af94f(0x9c8),_0x1af94f(0x56f),_0x1af94f(0x3e5),_0x1af94f(0xa2c),_0x1af94f(0x289),'.tsx',_0x1af94f(0x400),_0x1af94f(0x1c5),_0x1af94f(0x41a),_0x1af94f(0x8ef),_0x1af94f(0x969),_0x1af94f(0x6c0),_0x1af94f(0x4fa),_0x1af94f(0x782),_0x1af94f(0x223),'.mustache',_0x1af94f(0x1dd),_0x1af94f(0x4ba),_0x1af94f(0x338),_0x1af94f(0x14a)];function _0x2b23e8(_0x13154d,_0x18e776){const _0x50a7f4=_0x1af94f;return _0x18e776['includes']('.'+(_0x13154d[_0x50a7f4(0x7c6)]('.')[_0x50a7f4(0x6e0)]()?.[_0x50a7f4(0x6ba)]()||''));}async function _0x46add4(_0xaa1bfe,_0xaee85a,_0x7d364c,_0x3945ad,_0x3d8fbb){const _0x535db2=_0x1af94f,_0x10ccaf=Date[_0x535db2(0x1f3)](),_0x257c85=new Set();let _0x5d88fb=0x0;for(const _0xdcd9a0 of _0xaee85a)_0x5d88fb+=_0xdcd9a0['content'][_0x535db2(0x71c)],await _0x21aae3(_0xdcd9a0[_0x535db2(0x3fe)],_0x257c85,_0x7d364c,_0x3d8fbb[_0x535db2(0x103)]);_0x14a774['trace']({'jobType':_0x4478c1['Ingest'],'type':_0x2aa7ac['EntityExtractor'],'jobId':_0xaa1bfe,'blockId':_0x7d364c['id'],'traceLevel':_0x3a949c[_0x535db2(0x26b)],'startTime':_0x10ccaf,'timestamp':Date[_0x535db2(0x1f3)](),'status':_0x535db2(0x9cb),'contentLength':_0x5d88fb,'totalChunks':_0xaee85a instanceof Array?_0xaee85a['length']:0x1,'entitiesExtracted':_0x257c85,'totalEntities':_0x257c85[_0x535db2(0xa20)]}),await _0x135282(_0xaa1bfe,_0x257c85,_0x7d364c,_0x3945ad,_0x3d8fbb);}async function _0x21aae3(_0x47d6b8,_0x26ddc0,_0x55854b,_0x5f33b2){const _0xa7aa0a=_0x1af94f,_0x3f27fc=await _0x5f33b2[_0xa7aa0a(0x691)](_0x47d6b8,{'ner':_0x55854b['attributes']['ner'],'noun':_0x55854b['attributes'][_0xa7aa0a(0x95f)],'propn':_0x55854b[_0xa7aa0a(0x714)]['propn'],'verb':_0x55854b[_0xa7aa0a(0x714)]['verb']});for(const _0x595d0b of _0x3f27fc)_0x26ddc0['add'](_0x595d0b);}function _0x207076(_0x58e185,_0x13327a,_0x55111c,_0x34415d,_0x1f90d8){const _0x228f6b=_0x1af94f,_0x8262ac=Date[_0x228f6b(0x1f3)]();if(_0x55111c['accumulated']||(_0x55111c['accumulated']={}),_0x228f6b(0x4e9)==typeof _0x13327a?_0x55111c['accumulated'][_0x228f6b(0x3fe)]=_0x13327a:_0x13327a instanceof Set?_0x55111c[_0x228f6b(0x179)]['entities']=_0x13327a:_0x13327a instanceof Map?_0x55111c[_0x228f6b(0x179)][_0x228f6b(0x1ff)]=_0x13327a:_0x13327a instanceof Array?_0x55111c[_0x228f6b(0x179)][_0x228f6b(0x1c0)]=_0x13327a:_0x55111c[_0x228f6b(0x179)][_0x228f6b(0x5dc)]=_0x13327a,_0x55111c[_0x228f6b(0x680)]=_0x55111c[_0x228f6b(0x680)]?_0x55111c[_0x228f6b(0x680)]+0x1:0x1,_0x57afad(_0x55111c,_0x34415d)>_0x55111c[_0x228f6b(0x680)])return;if(!(_0x55111c[_0x228f6b(0x179)][_0x228f6b(0x482)]&&_0x55111c[_0x228f6b(0x179)][_0x228f6b(0x5dc)]&&_0x55111c['accumulated']['content']&&_0x55111c[_0x228f6b(0x179)][_0x228f6b(0x1c0)]))throw new Error(_0x228f6b(0x5ed));let _0x4be4f7=0x0;const _0x498d40=_0x1f90d8['contentMediator'][_0x228f6b(0x8fe)](_0x55111c['id']);for(const _0x456949 of _0x55111c[_0x228f6b(0x179)][_0x228f6b(0x482)]){let _0x58dee3=[];_0x58dee3=_0x55111c['accumulated'][_0x228f6b(0x1c0)]['filter'](_0x2ae86b=>_0x2ae86b[_0x228f6b(0x3fe)][_0x228f6b(0x1ed)](_0x456949));try{_0x498d40[_0x228f6b(0x556)](_0x55111c['accumulated'][_0x228f6b(0x5dc)][_0x228f6b(0x65b)],_0x55111c['accumulated'][_0x228f6b(0x3fe)],_0x58dee3,_0x456949),_0x4be4f7+=0x1;}catch(_0x1ee09c){}}if(_0x55111c['accumulated'][_0x228f6b(0x1ff)]){for(const [_0x559657,_0x3e0cf6]of _0x55111c[_0x228f6b(0x179)][_0x228f6b(0x1ff)])for(const _0x21b489 of _0x3e0cf6)try{_0x498d40[_0x228f6b(0x1a7)](_0x559657,_0x21b489);}catch(_0x21df26){}if(_0x498d40['getIsLoaded']()){let _0x427eea=''+(_0x1f90d8[_0x228f6b(0x215)]??0x1);for(const _0x299d35 of _0x34415d)if(_0x299d35[_0x228f6b(0x44f)]===_0x4bf4d9[_0x228f6b(0x58e)]){_0x427eea=_0x427eea+'-'+(_0x299d35[_0x228f6b(0x215)]??0x1);break;}_0x498d40[_0x228f6b(0x2e7)](_0x427eea);}_0x14a774[_0x228f6b(0x850)]({'jobType':_0x4478c1[_0x228f6b(0xa44)],'type':_0x2aa7ac[_0x228f6b(0x835)],'jobId':_0x58e185,'blockId':_0x55111c['id'],'status':_0x228f6b(0x9cb),'startTime':_0x8262ac,'timestamp':Date[_0x228f6b(0x1f3)](),'traceLevel':_0x3a949c[_0x228f6b(0x26b)],'nodesAdded':_0x4be4f7,'entities':_0x55111c['accumulated'][_0x228f6b(0x482)],'relations':_0x55111c[_0x228f6b(0x179)][_0x228f6b(0x1ff)]});}}async function _0x3a06da(_0x349f7e,_0x352098,_0x368b62,_0xfa67ac,_0x1e022f){const _0x537f13=_0x1af94f,_0x4e96ee=_0x1e022f[_0x537f13(0x153)]['find'](_0x3401f5=>_0x3401f5['id']===_0x368b62['id']);if(!_0x4e96ee)throw new Error(_0x537f13(0x67c));switch(_0x4e96ee[_0x537f13(0x7b9)]){case _0xb0907f[_0x537f13(0x8df)]['Text']:if(_0x537f13(0x4e9)!=typeof _0x352098)throw new Error(_0x537f13(0x630));await async function(_0x21f457,_0x35000c,_0x472361,_0x2770c1,_0x3faa2c,_0x2c6e20){const _0x9334d9=_0x537f13,_0x41626b=Date[_0x9334d9(0x1f3)]();let _0x222d70;const _0x4eaaf0=_0x2c6e20[_0x9334d9(0x2f7)]['find'](_0x226707=>_0x226707[_0x9334d9(0x987)]()===_0x472361[_0x9334d9(0x970)]);if(!_0x4eaaf0)throw new Error('No\x20connector\x20found\x20for\x20model');_0x222d70=await async function(_0x448953,_0x46012a,_0x7ceeee){const _0x2f8cff=_0x9334d9,_0x34dc91=await _0x46012a[_0x2f8cff(0x812)]({'type':_0x2f8cff(0x81e),'prompt':_0x448953,'threadId':''},{'model':_0x7ceeee});if(_0x34dc91[_0x2f8cff(0x2cc)]instanceof Array)throw new Error('Model\x20output\x20is\x20an\x20array\x20but\x20expected\x20text');return _0x34dc91[_0x2f8cff(0x2cc)];}(_0x35000c,_0x4eaaf0,_0x472361),_0x14a774[_0x9334d9(0x850)]({'jobType':_0x4478c1['Ingest'],'type':_0x2aa7ac[_0x9334d9(0x971)],'jobId':_0x21f457,'blockId':_0x2770c1['id'],'traceLevel':_0x3a949c[_0x9334d9(0x26b)],'timestamp':Date[_0x9334d9(0x1f3)](),'startTime':_0x41626b,'status':_0x9334d9(0x9cb),'modelName':_0x472361['id'],'inputType':_0x472361[_0x9334d9(0x5f6)],'outputType':_0x472361[_0x9334d9(0x7b9)],'content':_0x35000c,'results':_0x222d70}),await _0x135282(_0x21f457,_0x222d70,_0x2770c1,_0x3faa2c,_0x2c6e20);}(_0x349f7e,_0x352098,_0x4e96ee,_0x368b62,_0xfa67ac,_0x1e022f);break;case _0xb0907f[_0x537f13(0x8df)][_0x537f13(0x31a)]:if(!(_0x352098 instanceof Array))throw new Error(_0x537f13(0x502));await async function(_0x44750d,_0x2cdd25,_0x1396ba,_0x1c049c,_0x2aa847,_0x3d2dd7){const _0x3edbc5=_0x537f13,_0x505193=Date['now'](),_0x17d90b=[],_0xca190a=_0x3d2dd7[_0x3edbc5(0x2f7)][_0x3edbc5(0x7ef)](_0x57df79=>_0x57df79[_0x3edbc5(0x987)]()===_0x1396ba[_0x3edbc5(0x970)]);if(!_0xca190a)throw new Error(_0x3edbc5(0xa39));for(const _0x5ea741 of _0x2cdd25)_0x17d90b['push'](await _0xb63836(_0x5ea741,_0xca190a,_0x1396ba));_0x14a774[_0x3edbc5(0x850)]({'jobType':_0x4478c1['Ingest'],'type':_0x2aa7ac[_0x3edbc5(0x586)],'jobId':_0x44750d,'blockId':_0x1c049c['id'],'traceLevel':_0x3a949c['Debug'],'timestamp':Date[_0x3edbc5(0x1f3)](),'startTime':_0x505193,'status':_0x3edbc5(0x9cb),'modelName':_0x1396ba['id'],'inputType':_0x1396ba[_0x3edbc5(0x5f6)],'outputType':_0x1396ba[_0x3edbc5(0x7b9)],'totalVectors':_0x17d90b[_0x3edbc5(0x71c)]}),await _0x135282(_0x44750d,_0x17d90b,_0x1c049c,_0x2aa847,_0x3d2dd7);}(_0x349f7e,_0x352098,_0x4e96ee,_0x368b62,_0xfa67ac,_0x1e022f);}}async function _0xb63836(_0x5a7fb8,_0x1bbf6f,_0x42de1c){const _0x4aba56=_0x1af94f;return(await _0x1bbf6f[_0x4aba56(0x812)]({'type':_0x4aba56(0x81e),'prompt':_0x5a7fb8[_0x4aba56(0x3fe)],'threadId':''},{'model':_0x42de1c}))['output'];}async function _0xd8e5b7(_0x3ed4d0,_0xbdd963,_0x57b4f9,_0x98e37c,_0x5c0e1f){const _0x5c559e=_0x1af94f,_0x50c8f1=Date[_0x5c559e(0x1f3)]();if(_0x57b4f9[_0x5c559e(0x179)]||(_0x57b4f9['accumulated']={}),_0xbdd963 instanceof Array?_0x57b4f9[_0x5c559e(0x179)][_0x5c559e(0x1c0)]=_0xbdd963:_0x57b4f9[_0x5c559e(0x179)][_0x5c559e(0x482)]=_0xbdd963,_0x57b4f9['timesCalled']=_0x57b4f9[_0x5c559e(0x680)]?_0x57b4f9[_0x5c559e(0x680)]+0x1:0x1,_0x57afad(_0x57b4f9,_0x98e37c)>_0x57b4f9[_0x5c559e(0x680)])return;if(!_0x57b4f9[_0x5c559e(0x179)][_0x5c559e(0x1c0)]||!_0x57b4f9['accumulated'][_0x5c559e(0x482)])throw new Error(_0x5c559e(0x50c));const _0x4707c2=new Map();for(const _0x498046 of _0x57b4f9[_0x5c559e(0x179)]['index'])_0x3e6724(_0x498046[_0x5c559e(0x3fe)],_0x57b4f9[_0x5c559e(0x179)]['entities'],_0x4707c2);_0x14a774[_0x5c559e(0x850)]({'jobType':_0x4478c1[_0x5c559e(0xa44)],'type':_0x2aa7ac[_0x5c559e(0x1cf)],'jobId':_0x3ed4d0,'blockId':_0x57b4f9['id'],'traceLevel':_0x3a949c[_0x5c559e(0x26b)],'timestamp':Date[_0x5c559e(0x1f3)](),'startTime':_0x50c8f1,'status':_0x5c559e(0x9cb),'entities':_0x57b4f9['accumulated'][_0x5c559e(0x482)],'relations':_0x4707c2,'totalRelationsExtracted':_0x4707c2[_0x5c559e(0xa20)]}),await _0x135282(_0x3ed4d0,_0x4707c2,_0x57b4f9,_0x98e37c,_0x5c0e1f);}function _0x3e6724(_0x339abf,_0x3ec8b3,_0x4c7879){const _0xc76dbd=_0x1af94f;for(const _0x50eeb0 of _0x3ec8b3)for(const _0x1ac479 of _0x3ec8b3){if(_0x50eeb0===_0x1ac479)continue;const _0x1d00f1=_0x339abf[_0xc76dbd(0x7d6)](_0x50eeb0),_0x3219a6=_0x339abf[_0xc76dbd(0x7d6)](_0x1ac479);-0x1!==_0x1d00f1&&-0x1!==_0x3219a6&&(_0x4c7879[_0xc76dbd(0x907)](_0x50eeb0)||_0x4c7879['set'](_0x50eeb0,new Set()),_0x4c7879[_0xc76dbd(0x70a)](_0x50eeb0)[_0xc76dbd(0x23a)](_0x1ac479));}return _0x4c7879;}async function _0x2b218b(_0x1648be,_0x588a3a,_0x22604e,_0x21ed5d,_0x3cd3b1){const _0x469665=_0x1af94f,_0xc47f49=Date['now']();let _0x3e49de=[];if(_0x588a3a instanceof Array)for(const _0x5a842c of _0x588a3a){const _0x4caf7e=await _0x3cd3b1[_0x469665(0x103)][_0x469665(0x966)](_0x5a842c[_0x469665(0x3fe)]);_0x3e49de=_0x3e49de[_0x469665(0x7c0)](_0x4caf7e['map'](_0x8c13a4=>({'content':_0x8c13a4,'start':_0x5a842c['start'],'length':_0x5a842c[_0x469665(0x71c)]})));}else _0x3e49de=(await _0x3cd3b1[_0x469665(0x103)]['getSentences'](_0x588a3a))[_0x469665(0x7d0)](_0x2a085e=>({'content':_0x2a085e,'start':_0x588a3a['indexOf'](_0x2a085e),'length':_0x2a085e['length']}));_0x14a774['trace']({'jobType':_0x4478c1['Ingest'],'type':_0x2aa7ac[_0x469665(0x8b2)],'jobId':_0x1648be,'blockId':_0x22604e['id'],'traceLevel':_0x3a949c['Debug'],'startTime':_0xc47f49,'timestamp':Date[_0x469665(0x1f3)](),'status':_0x469665(0x9cb),'totalSentences':_0x3e49de[_0x469665(0x71c)],'averageSentenceLength':_0x3e49de[_0x469665(0x7e2)]((_0x3e4051,_0x3df7b1)=>_0x3e4051+_0x3df7b1['length'],0x0)/_0x3e49de[_0x469665(0x71c)]}),await _0x135282(_0x1648be,_0x3e49de,_0x22604e,_0x21ed5d,_0x3cd3b1);}function _0x6205d3(_0xb023f7,_0x1ab941,_0xf01315,_0x1f9d32,_0x3cc57b){const _0x2c87e1=_0x1af94f,_0x49c63d=Date[_0x2c87e1(0x1f3)]();var _0x323a0a;if(_0xf01315[_0x2c87e1(0x179)]||(_0xf01315[_0x2c87e1(0x179)]={}),_0x1ab941 instanceof Array?(_0x323a0a=_0x1ab941)[0x0]instanceof Array&&'number'==typeof _0x323a0a[0x0]?.[0x0]?_0xf01315[_0x2c87e1(0x179)][_0x2c87e1(0x2bc)]=_0x1ab941:_0xf01315[_0x2c87e1(0x179)][_0x2c87e1(0x1c0)]=_0x1ab941:_0x2c87e1(0x4e9)==typeof _0x1ab941?_0xf01315[_0x2c87e1(0x179)][_0x2c87e1(0x3fe)]=_0x1ab941:_0xf01315[_0x2c87e1(0x179)]['file']=_0x1ab941,_0xf01315[_0x2c87e1(0x680)]=_0xf01315[_0x2c87e1(0x680)]?_0xf01315['timesCalled']+0x1:0x1,_0x57afad(_0xf01315,_0x1f9d32)>_0xf01315['timesCalled'])return;if(!(_0xf01315[_0x2c87e1(0x179)][_0x2c87e1(0x3fe)]&&_0xf01315['accumulated'][_0x2c87e1(0x1c0)]&&_0xf01315[_0x2c87e1(0x179)][_0x2c87e1(0x2bc)]&&_0xf01315[_0x2c87e1(0x179)][_0x2c87e1(0x5dc)]))throw new Error('Vector\x20database\x20block\x20is\x20missing\x20required\x20data');const _0x5940a4=_0x3cc57b['contentMediator'][_0x2c87e1(0x306)](_0xf01315['id']);if(_0x5940a4[_0x2c87e1(0x62e)](_0xf01315[_0x2c87e1(0x179)][_0x2c87e1(0x5dc)][_0x2c87e1(0x65b)],_0xf01315['accumulated'][_0x2c87e1(0x3fe)],_0xf01315[_0x2c87e1(0x179)][_0x2c87e1(0x1c0)],_0xf01315[_0x2c87e1(0x179)][_0x2c87e1(0x2bc)]),_0x5940a4[_0x2c87e1(0x130)]()){let _0x53aafa=''+(_0x3cc57b['version']??0x1);for(const _0x2d698c of _0x1f9d32)_0x2d698c['type']===_0x4bf4d9['Agent']&&(_0x53aafa=_0x53aafa+'-'+(_0x2d698c[_0x2c87e1(0x215)]??0x1));_0x5940a4[_0x2c87e1(0x2e7)](_0x53aafa);}_0x14a774[_0x2c87e1(0x850)]({'jobType':_0x4478c1[_0x2c87e1(0xa44)],'type':_0x2aa7ac[_0x2c87e1(0x21e)],'jobId':_0xb023f7,'blockId':_0xf01315['id'],'traceLevel':_0x3a949c[_0x2c87e1(0x26b)],'startTime':_0x49c63d,'timestamp':Date[_0x2c87e1(0x1f3)](),'status':_0x2c87e1(0x9cb),'databaseName':_0x5940a4[_0x2c87e1(0x801)](),'vectorsAdded':_0xf01315[_0x2c87e1(0x179)]['vectors'][_0x2c87e1(0x71c)],'filePathName':_0xf01315[_0x2c87e1(0x179)]['file'][_0x2c87e1(0x65b)]});}async function _0x58a534(_0x3cd40c,_0x50b596,_0x1d5727,_0x34d720,_0x1218d2){const _0x1b3ae7=_0x1af94f,_0x27eb41=Date[_0x1b3ae7(0x1f3)]();let _0x4e4d43=[];if(_0x50b596 instanceof Array){for(const _0x1107df of _0x50b596)_0x4e4d43=_0x4e4d43[_0x1b3ae7(0x7c0)](_0x3af14e(_0x1107df[_0x1b3ae7(0x3fe)],_0x1d5727,_0x1107df[_0x1b3ae7(0x46d)],_0x1107df[_0x1b3ae7(0x71c)]));}else _0x4e4d43=_0x3af14e(_0x50b596,_0x1d5727);_0x14a774[_0x1b3ae7(0x850)]({'jobType':_0x4478c1[_0x1b3ae7(0xa44)],'type':_0x2aa7ac[_0x1b3ae7(0x851)],'jobId':_0x3cd40c,'traceLevel':_0x3a949c[_0x1b3ae7(0x26b)],'blockId':_0x1d5727['id'],'startTime':_0x27eb41,'timestamp':Date[_0x1b3ae7(0x1f3)](),'status':_0x1b3ae7(0x9cb),'totalChunks':_0x4e4d43[_0x1b3ae7(0x71c)],'averageChunkLength':_0x4e4d43['reduce']((_0x2dd878,_0x24d6d5)=>_0x2dd878+_0x24d6d5[_0x1b3ae7(0x71c)],0x0)/_0x4e4d43['length']}),await _0x135282(_0x3cd40c,_0x4e4d43,_0x1d5727,_0x34d720,_0x1218d2);}function _0x3af14e(_0xfba61e,_0x4279c7,_0x546def,_0x370713){const _0x5e7597=_0x1af94f,_0x1fcc9e=[],_0x609e1d=_0xfba61e['split']('\x20');let _0xb7ec3e='',_0x137173=-0x1,_0x302525=0x0,_0x40aa03=0x0;for(const _0x4d751e of _0x609e1d){if(_0xb7ec3e['length']+_0x4d751e[_0x5e7597(0x71c)]>_0x4279c7[_0x5e7597(0x714)][_0x5e7597(0xa20)]){const _0x50120e=_0xb7ec3e[_0x5e7597(0x71c)];let _0x1b2258=_0x137173,_0x29700a='';for(;_0x1b2258>=0x0&&_0x29700a['length']+_0x609e1d[_0x1b2258][_0x5e7597(0x71c)]<_0x4279c7['attributes'][_0x5e7597(0x1ae)];)_0x29700a=_0x609e1d[_0x1b2258]+'\x20'+_0x29700a,_0x1b2258--;let _0x497573=_0x302525,_0xddcec6='';for(;_0x497573<_0x609e1d[_0x5e7597(0x71c)]&&_0xddcec6[_0x5e7597(0x71c)]+_0x609e1d[_0x497573][_0x5e7597(0x71c)]<_0x4279c7[_0x5e7597(0x714)][_0x5e7597(0x1ae)];)_0xddcec6+=_0x609e1d[_0x497573]+'\x20',_0x497573++;_0xb7ec3e=_0x29700a+_0xb7ec3e+_0xddcec6,_0x1fcc9e[_0x5e7597(0x3d6)]({'content':_0xb7ec3e[_0x5e7597(0x374)](),'start':_0x546def??_0x40aa03,'length':_0x370713??_0x50120e}),_0xb7ec3e='',_0x137173=_0x302525-0x1,_0x40aa03+=_0x50120e;}_0xb7ec3e+=_0x4d751e+'\x20',_0x302525++;}if(_0xb7ec3e[_0x5e7597(0x71c)]>0x0){const _0x55d53e=_0xb7ec3e[_0x5e7597(0x71c)];let _0x463b7a=_0x137173,_0x47a331='';for(;_0x463b7a>=0x0&&_0x47a331[_0x5e7597(0x71c)]+_0x609e1d[_0x463b7a][_0x5e7597(0x71c)]<_0x4279c7[_0x5e7597(0x714)][_0x5e7597(0x1ae)];)_0x47a331=_0x609e1d[_0x463b7a]+'\x20'+_0x47a331,_0x463b7a--;_0xb7ec3e=_0x47a331+_0xb7ec3e,_0x1fcc9e[_0x5e7597(0x3d6)]({'content':_0xb7ec3e[_0x5e7597(0x374)](),'start':_0x546def??_0x40aa03,'length':_0x370713??_0x55d53e});}return _0x1fcc9e;}async function _0x135282(_0x215217,_0xd5e2b,_0x35b6e1,_0x393d85,_0x59a626){const _0x35eb94=_0x1af94f;for(const _0x996386 of _0x35b6e1[_0x35eb94(0x64e)]||[]){const _0x2dc42e=_0x393d85['find'](_0x27ead9=>_0x27ead9['uid']===_0x996386[_0x35eb94(0x34d)]);if(_0x2dc42e)switch(_0x2dc42e[_0x35eb94(0x44f)]){case _0x4bf4d9[_0x35eb94(0x58e)]:_0x996386[_0x35eb94(0x44f)]===_0x3f481[_0x35eb94(0x721)]&&_0x35eb94(0x4e9)==typeof _0xd5e2b&&await _0x41dd54(_0x215217,_0xd5e2b,_0x2dc42e,_0x393d85,_0x59a626);break;case _0x4bf4d9[_0x35eb94(0x98e)]:_0x996386[_0x35eb94(0x44f)]===_0x3f481[_0x35eb94(0x721)]&&_0x35eb94(0x4e9)==typeof _0xd5e2b&&await _0x5e621f(_0x215217,_0xd5e2b,_0x2dc42e,_0x393d85,_0x59a626),_0x996386[_0x35eb94(0x44f)]===_0x3f481[_0x35eb94(0x610)]&&_0xd5e2b instanceof Array&&await _0x5e621f(_0x215217,_0xd5e2b,_0x2dc42e,_0x393d85,_0x59a626);break;case _0x4bf4d9[_0x35eb94(0x3ff)]:_0x996386[_0x35eb94(0x44f)]===_0x3f481[_0x35eb94(0x372)]&&await _0x5ecf58(_0x215217,_0xd5e2b,_0x2dc42e,_0x393d85,_0x59a626);break;case _0x4bf4d9[_0x35eb94(0x71b)]:_0x996386[_0x35eb94(0x44f)]===_0x3f481[_0x35eb94(0x610)]&&_0xd5e2b instanceof Array&&await _0x46add4(_0x215217,_0xd5e2b,_0x2dc42e,_0x393d85,_0x59a626);break;case _0x4bf4d9[_0x35eb94(0x835)]:_0x996386[_0x35eb94(0x44f)]===_0x3f481['Text']&&_0x35eb94(0x4e9)==typeof _0xd5e2b&&_0x207076(_0x215217,_0xd5e2b,_0x2dc42e,_0x393d85,_0x59a626),_0x996386['type']===_0x3f481[_0x35eb94(0x610)]&&_0xd5e2b instanceof Array&&_0x207076(_0x215217,_0xd5e2b,_0x2dc42e,_0x393d85,_0x59a626),_0x996386[_0x35eb94(0x44f)]===_0x3f481['Entity']&&_0xd5e2b instanceof Set&&_0x207076(_0x215217,_0xd5e2b,_0x2dc42e,_0x393d85,_0x59a626),_0x996386[_0x35eb94(0x44f)]===_0x3f481['Relation']&&_0xd5e2b instanceof Map&&_0x207076(_0x215217,_0xd5e2b,_0x2dc42e,_0x393d85,_0x59a626),_0x996386[_0x35eb94(0x44f)]===_0x3f481[_0x35eb94(0x372)]&&_0x207076(_0x215217,_0xd5e2b,_0x2dc42e,_0x393d85,_0x59a626);break;case _0x4bf4d9['Model']:_0x996386['type']===_0x3f481['Text']&&_0x35eb94(0x4e9)==typeof _0xd5e2b&&await _0x3a06da(_0x215217,_0xd5e2b,_0x2dc42e,_0x393d85,_0x59a626),_0x996386[_0x35eb94(0x44f)]===_0x3f481[_0x35eb94(0x610)]&&_0xd5e2b instanceof Array&&await _0x3a06da(_0x215217,_0xd5e2b,_0x2dc42e,_0x393d85,_0x59a626);break;case _0x4bf4d9[_0x35eb94(0x1cf)]:_0x996386['type']===_0x3f481['Index']&&_0xd5e2b instanceof Array&&await _0xd8e5b7(_0x215217,_0xd5e2b,_0x2dc42e,_0x393d85,_0x59a626),_0x996386[_0x35eb94(0x44f)]===_0x3f481[_0x35eb94(0x501)]&&_0xd5e2b instanceof Set&&await _0xd8e5b7(_0x215217,_0xd5e2b,_0x2dc42e,_0x393d85,_0x59a626);break;case _0x4bf4d9[_0x35eb94(0x8b2)]:_0x996386[_0x35eb94(0x44f)]===_0x3f481[_0x35eb94(0x721)]&&_0x35eb94(0x4e9)==typeof _0xd5e2b&&await _0x2b218b(_0x215217,_0xd5e2b,_0x2dc42e,_0x393d85,_0x59a626),_0x996386[_0x35eb94(0x44f)]===_0x3f481[_0x35eb94(0x610)]&&_0xd5e2b instanceof Array&&await _0x2b218b(_0x215217,_0xd5e2b,_0x2dc42e,_0x393d85,_0x59a626);break;case _0x4bf4d9[_0x35eb94(0x21e)]:_0x996386[_0x35eb94(0x44f)]===_0x3f481[_0x35eb94(0x721)]&&_0x35eb94(0x4e9)==typeof _0xd5e2b&&_0x6205d3(_0x215217,_0xd5e2b,_0x2dc42e,_0x393d85,_0x59a626),_0x996386[_0x35eb94(0x44f)]===_0x3f481[_0x35eb94(0x610)]&&_0xd5e2b instanceof Array&&_0x6205d3(_0x215217,_0xd5e2b,_0x2dc42e,_0x393d85,_0x59a626),_0x996386[_0x35eb94(0x44f)]===_0x3f481[_0x35eb94(0x31a)]&&_0xd5e2b instanceof Array&&_0x6205d3(_0x215217,_0xd5e2b,_0x2dc42e,_0x393d85,_0x59a626),_0x996386[_0x35eb94(0x44f)]===_0x3f481[_0x35eb94(0x372)]&&_0x6205d3(_0x215217,_0xd5e2b,_0x2dc42e,_0x393d85,_0x59a626);break;case _0x4bf4d9[_0x35eb94(0x851)]:_0x996386[_0x35eb94(0x44f)]===_0x3f481['Text']&&_0x35eb94(0x4e9)==typeof _0xd5e2b&&await _0x58a534(_0x215217,_0xd5e2b,_0x2dc42e,_0x393d85,_0x59a626),_0x996386[_0x35eb94(0x44f)]===_0x3f481[_0x35eb94(0x610)]&&_0xd5e2b instanceof Array&&await _0x58a534(_0x215217,_0xd5e2b,_0x2dc42e,_0x393d85,_0x59a626);}}}function _0x57afad(_0x545a40,_0x1f9449){const _0x5e0ac8=_0x1af94f;return _0x1f9449[_0x5e0ac8(0x7e0)](_0x491f02=>_0x491f02[_0x5e0ac8(0x64e)]?.[_0x5e0ac8(0xa33)](_0x42e48d=>_0x42e48d['uid']===_0x545a40['uid']))[_0x5e0ac8(0x71c)];}async function _0x4d53bf(_0x15ec9d,_0x4b21ec,_0x2e1325,_0x1e7547,_0x2a6112){const _0x561c09=_0x1af94f;try{let _0x4305fb;switch(_0x2e1325[_0x561c09(0x44f)]){case _0x4bf4d9[_0x561c09(0x746)]:const _0x33b8e2=_0x2a6112[_0x561c09(0x2ae)][_0x561c09(0x76e)](_0x2e1325['id']);_0x4305fb=await _0x33b8e2[_0x561c09(0x70a)](_0x4b21ec);break;case _0x4bf4d9[_0x561c09(0x7b7)]:const _0x5e5e56=_0x2a6112[_0x561c09(0x2ae)]['getExternalStorageConnection'](_0x2e1325['id']);_0x4305fb=await _0x5e5e56['get'](_0x4b21ec);}if(!_0x4305fb)throw new Error('Failed\x20to\x20get\x20file');await _0x135282(_0x15ec9d,{'file':_0x4305fb,'pathName':_0x4b21ec},_0x2e1325,structuredClone(_0x1e7547),_0x2a6112);}catch(_0x30486e){console['error'](_0x561c09(0x6ad),_0x30486e);}}async function _0x19a184(_0x5777b2,_0x5d6f3e,_0x24eeaa,_0x3cc16f,_0x31aa20,_0x12b096,_0xc86cf7){const _0x4ede6c=_0x1af94f,_0x3de447=Date[_0x4ede6c(0x1f3)](),_0x232475=new Set();if(_0x24eeaa instanceof Array){for(const _0x483ad7 of _0x24eeaa)await _0x560045(_0x483ad7[_0x4ede6c(0x3fe)],_0x31aa20,_0x232475,_0xc86cf7['nlpLibraryConnector']);}else await _0x560045(_0x24eeaa,_0x31aa20,_0x232475,_0xc86cf7[_0x4ede6c(0x103)]);_0x14a774['trace']({'jobType':_0x4478c1[_0x4ede6c(0x8a5)],'type':_0x4de559['EntityExtractor'],'jobId':_0x5777b2,'threadId':_0x5d6f3e,'blockId':_0x31aa20['id'],'traceLevel':_0x3a949c[_0x4ede6c(0x26b)],'startTime':_0x3de447,'timestamp':Date['now'](),'status':_0x4ede6c(0x9cb),'content':_0x24eeaa,'entitiesExtracted':Array['from'](_0x232475),'totalEntities':_0x232475[_0x4ede6c(0xa20)]}),await _0x307917(_0x5777b2,_0x5d6f3e,_0x232475,_0x3cc16f,_0x31aa20,_0x12b096,_0xc86cf7);}async function _0x560045(_0x5055ab,_0x4c86b7,_0x4a5053,_0x4fdbf4){const _0x2d3105=_0x1af94f,_0x2b4e3e=await _0x4fdbf4['getEntities'](_0x5055ab,{'ner':_0x4c86b7[_0x2d3105(0x714)][_0x2d3105(0x55c)],'noun':_0x4c86b7['attributes'][_0x2d3105(0x95f)],'propn':_0x4c86b7[_0x2d3105(0x714)]['propn'],'verb':_0x4c86b7[_0x2d3105(0x714)][_0x2d3105(0x2f8)]});for(const _0x8b66aa of _0x2b4e3e)_0x4a5053[_0x2d3105(0x23a)](_0x8b66aa);}async function _0x5cb432(_0x1af053,_0x4246f0,_0x5f512f,_0x37869e,_0x1279c0,_0x88f6d1,_0x519d3b){const _0x466180=_0x1af94f,_0x53c255=Date[_0x466180(0x1f3)]();if(_0x1279c0[_0x466180(0x179)]||(_0x1279c0[_0x466180(0x179)]={}),_0x5f512f instanceof Array?(_0x1279c0[_0x466180(0x179)][_0x466180(0x7e7)]||(_0x1279c0['accumulated'][_0x466180(0x7e7)]=[]),_0x1279c0[_0x466180(0x179)][_0x466180(0x7e7)][_0x466180(0x3d6)](..._0x5f512f)):_0x5f512f instanceof Set?_0x1279c0[_0x466180(0x179)][_0x466180(0x482)]=_0x5f512f:_0x1279c0[_0x466180(0x179)]['prompt']=_0x5f512f,_0x1279c0[_0x466180(0x680)]=_0x1279c0['timesCalled']?_0x1279c0['timesCalled']+0x1:0x1,_0xf3c170(_0x1279c0,_0x88f6d1)>_0x1279c0[_0x466180(0x680)])return;if(!_0x1279c0[_0x466180(0x179)][_0x466180(0x81e)]&&!_0x1279c0[_0x466180(0x179)][_0x466180(0x7e7)]||!_0x1279c0[_0x466180(0x179)][_0x466180(0x482)])throw new Error('Graph\x20database\x20block\x20is\x20missing\x20required\x20data');const _0x19915c=_0x519d3b[_0x466180(0x2ae)]['getGraphDatabase'](_0x1279c0['id'])[_0x466180(0x2dc)](Array[_0x466180(0x13b)](_0x1279c0[_0x466180(0x179)][_0x466180(0x482)]),_0x1279c0[_0x466180(0x714)][_0x466180(0x5b6)],_0x1279c0[_0x466180(0x714)][_0x466180(0x76c)]);let _0x2972d9=[];for(const _0x462776 in _0x19915c){const _0x406c85=_0x19915c[_0x462776];for(const _0x24bb51 of _0x406c85){let _0x31c3fb=0x0;if(_0x1279c0[_0x466180(0x179)][_0x466180(0x81e)]&&(_0x31c3fb=await _0x519d3b[_0x466180(0x103)][_0x466180(0x3fc)](_0x1279c0[_0x466180(0x179)][_0x466180(0x81e)],_0x24bb51)),_0x1279c0['accumulated']['results']){for(const _0x5e05d8 of _0x1279c0[_0x466180(0x179)][_0x466180(0x7e7)])_0x31c3fb=Math['max'](_0x31c3fb,await _0x519d3b[_0x466180(0x103)][_0x466180(0x3fc)](_0x5e05d8[_0x466180(0x3fe)],_0x24bb51));}_0x31c3fb<_0x1279c0[_0x466180(0x714)][_0x466180(0x2fd)]||_0x2972d9['push']({'content':_0x24bb51,'relevance':_0x31c3fb,'pathName':_0x462776});}}_0x2972d9=_0x2972d9[_0x466180(0x1b1)]((_0x54bb34,_0x64af4e)=>_0x64af4e[_0x466180(0x24a)]-_0x54bb34[_0x466180(0x24a)])[_0x466180(0x97e)](0x0,_0x1279c0[_0x466180(0x714)][_0x466180(0x4e3)]),_0x14a774[_0x466180(0x850)]({'jobType':_0x4478c1[_0x466180(0x8a5)],'type':_0x4de559[_0x466180(0x3f8)],'jobId':_0x1af053,'threadId':_0x4246f0,'blockId':_0x1279c0['id'],'traceLevel':_0x3a949c[_0x466180(0x26b)],'timestamp':Date[_0x466180(0x1f3)](),'startTime':_0x53c255,'status':_0x466180(0x9cb),'content':_0x5f512f,'topResults':_0x2972d9,'numResults':_0x2972d9['length']}),await _0x307917(_0x1af053,_0x4246f0,_0x2972d9,_0x37869e,_0x1279c0,_0x88f6d1,_0x519d3b);}async function _0x54929a(_0x39bde1,_0x4d68df,_0x34ed23,_0x15c98b,_0x347eeb,_0xdde760,_0x597122){const _0x3a02c5=_0x1af94f,_0x4b7930=_0x597122[_0x3a02c5(0x153)][_0x3a02c5(0x7ef)](_0x49be78=>_0x49be78['id']===_0x347eeb['id']);if(!_0x4b7930)throw new Error(_0x3a02c5(0x67c));let _0x3eca57='';switch(_0x3eca57=_0x34ed23 instanceof Array?_0x34ed23['map'](_0x378b67=>_0x378b67['content'])[_0x3a02c5(0x7f4)](',\x20'):_0x34ed23,_0x4b7930[_0x3a02c5(0x7b9)]){case _0xb0907f['GenerativeAIModelOutputType'][_0x3a02c5(0x721)]:await async function(_0x3625a0,_0x3d837b,_0x12eb90,_0x5c4341,_0x32540f,_0x4595ec,_0x321095,_0x1a5f26){const _0x329704=_0x3a02c5,_0x27fa23=Date[_0x329704(0x1f3)](),_0x281a9c=_0x1a5f26[_0x329704(0x2f7)]['find'](_0x5eb9ff=>_0x5eb9ff['getEngineType']()===_0x32540f[_0x329704(0x970)]);if(!_0x281a9c)throw new Error('No\x20connector\x20found\x20for\x20model');const _0x5f268e=await async function(_0x2638ef,_0x56da11,_0x74b365,_0x11b719,_0x2c8f03){const _0x32662a=_0x329704,_0x4b42d8={'type':_0x32662a(0x81e),'prompt':_0x56da11,'threadId':_0x2638ef};_0x74b365[_0x32662a(0x88f)]['length']>0x0&&(_0x4b42d8['instructions']=_0x32662a(0x504)+_0x74b365[_0x32662a(0x88f)][_0x32662a(0x7d0)](_0x12f527=>_0x32662a(0x357)+_0x12f527[_0x32662a(0x65b)]+':\x20'+_0x12f527[_0x32662a(0x3fe)])[_0x32662a(0x7f4)]('\x0a'));const _0x489a59=await _0x11b719[_0x32662a(0x812)](_0x4b42d8,{'model':_0x2c8f03});if(_0x489a59[_0x32662a(0x2cc)]instanceof Array)throw new Error(_0x32662a(0x304));return _0x74b365[_0x32662a(0x2d0)]+=_0x489a59[_0x32662a(0x2d0)]??0x0,_0x74b365['outputTokens']+=_0x489a59[_0x32662a(0x61d)]??0x0,_0x489a59[_0x32662a(0x2cc)];}(_0x3d837b,_0x12eb90,_0x5c4341,_0x281a9c,_0x32540f);_0x14a774['trace']({'jobType':_0x4478c1[_0x329704(0x8a5)],'type':_0x4de559['ModelText'],'jobId':_0x3625a0,'threadId':_0x3d837b,'blockId':_0x4595ec['id'],'traceLevel':_0x3a949c[_0x329704(0x26b)],'startTime':_0x27fa23,'timestamp':Date[_0x329704(0x1f3)](),'status':'success','modelName':_0x32540f['id'],'content':_0x12eb90,'newPrompt':_0x5f268e,'inputType':_0x32540f[_0x329704(0x5f6)],'outputType':_0x32540f[_0x329704(0x7b9)]}),await _0x307917(_0x3625a0,_0x3d837b,_0x5f268e,_0x5c4341,_0x4595ec,_0x321095,_0x1a5f26);}(_0x39bde1,_0x4d68df,_0x3eca57,_0x15c98b,_0x4b7930,_0x347eeb,_0xdde760,_0x597122);break;case _0xb0907f[_0x3a02c5(0x8df)]['Vector']:await async function(_0x541055,_0x2a129c,_0x5da0c2,_0x3047f9,_0x287fe8,_0x2af4e3,_0x45b961,_0x58ef65){const _0x4932c9=_0x3a02c5,_0xe34c2e=Date[_0x4932c9(0x1f3)](),_0x1300dc=_0x58ef65['generativeAIWorkerConnectors'][_0x4932c9(0x7ef)](_0x809ef5=>_0x809ef5[_0x4932c9(0x987)]()===_0x287fe8[_0x4932c9(0x970)]);if(!_0x1300dc)throw new Error(_0x4932c9(0xa39));const _0x8582bc=await async function(_0x36606e,_0x5b1fb4,_0x5b42a1,_0x25a204){const _0x47d18d=_0x4932c9;return(await _0x5b42a1['processJob']({'type':_0x47d18d(0x81e),'prompt':_0x5b1fb4,'threadId':_0x36606e},{'model':_0x25a204}))[_0x47d18d(0x2cc)];}(_0x2a129c,_0x5da0c2,_0x1300dc,_0x287fe8);_0x14a774['trace']({'jobType':_0x4478c1['Retrieve'],'type':_0x4de559[_0x4932c9(0x586)],'jobId':_0x541055,'threadId':_0x2a129c,'blockId':_0x2af4e3['id'],'traceLevel':_0x3a949c['Debug'],'startTime':_0xe34c2e,'timestamp':Date['now'](),'status':_0x4932c9(0x9cb),'modelName':_0x287fe8['id'],'content':_0x5da0c2,'totalVectors':_0x8582bc[_0x4932c9(0x71c)]}),await _0x307917(_0x541055,_0x2a129c,_0x8582bc,_0x3047f9,_0x2af4e3,_0x45b961,_0x58ef65);}(_0x39bde1,_0x4d68df,_0x3eca57,_0x15c98b,_0x4b7930,_0x347eeb,_0xdde760,_0x597122);}}async function _0x21c0b0(_0x556eab,_0x415197,_0x1db9c1,_0x3624d8,_0xa04432,_0x591695,_0x10cd90){const _0x253a73=_0x1af94f,_0x3c1b36=Date['now']();if(_0xa04432[_0x253a73(0x179)]||(_0xa04432[_0x253a73(0x179)]={}),_0x1db9c1 instanceof Array?(_0xa04432[_0x253a73(0x179)]['results']||(_0xa04432[_0x253a73(0x179)][_0x253a73(0x7e7)]=[]),_0xa04432['accumulated']['results'][_0x253a73(0x3d6)](..._0x1db9c1)):_0xa04432[_0x253a73(0x179)]['prompt']=_0x1db9c1,_0xa04432[_0x253a73(0x680)]=_0xa04432['timesCalled']?_0xa04432[_0x253a73(0x680)]+0x1:0x1,_0xf3c170(_0xa04432,_0x591695)>_0xa04432[_0x253a73(0x680)])return;if(!_0xa04432['accumulated'][_0x253a73(0x81e)]||!_0xa04432['accumulated'][_0x253a73(0x7e7)])throw new Error(_0x253a73(0x42c));for(const _0x5662dc of _0xa04432[_0x253a73(0x179)][_0x253a73(0x7e7)])_0x5662dc['relevance']=await _0x10cd90[_0x253a73(0x103)][_0x253a73(0x3fc)](_0xa04432[_0x253a73(0x179)][_0x253a73(0x81e)],_0x5662dc[_0x253a73(0x3fe)]);const _0x15ef26=_0xa04432[_0x253a73(0x179)][_0x253a73(0x7e7)][_0x253a73(0x7e0)](_0x156af6=>_0x156af6[_0x253a73(0x24a)]>_0xa04432['attributes']['minRelevance'])[_0x253a73(0x1b1)]((_0x48195a,_0x4af7cd)=>_0x4af7cd[_0x253a73(0x24a)]-_0x48195a[_0x253a73(0x24a)])[_0x253a73(0x97e)](0x0,_0xa04432['attributes'][_0x253a73(0x4e3)]);_0x14a774['trace']({'jobType':_0x4478c1[_0x253a73(0x8a5)],'type':_0x4de559[_0x253a73(0x3de)],'jobId':_0x556eab,'threadId':_0x415197,'blockId':_0xa04432['id'],'traceLevel':_0x3a949c[_0x253a73(0x26b)],'startTime':_0x3c1b36,'timestamp':Date['now'](),'status':_0x253a73(0x9cb),'inputResults':_0xa04432[_0x253a73(0x179)][_0x253a73(0x7e7)],'rerankedResults':_0x15ef26}),await _0x307917(_0x556eab,_0x415197,_0x15ef26,_0x3624d8,_0xa04432,_0x591695,_0x10cd90);}async function _0x8d4c48(_0x2bac64,_0x35c05b,_0x48466b,_0x14c434,_0x5e6916,_0x56cf3e,_0x4bd6b0){const _0x393ba8=_0x1af94f,_0x573072=Date[_0x393ba8(0x1f3)]();if(_0x5e6916[_0x393ba8(0x179)]||(_0x5e6916[_0x393ba8(0x179)]={}),_0x48466b instanceof Array?_0x5e6916['accumulated'][_0x393ba8(0x593)]=_0x48466b:_0x5e6916[_0x393ba8(0x179)]['content']=_0x48466b,_0x5e6916['timesCalled']=_0x5e6916['timesCalled']?_0x5e6916['timesCalled']+0x1:0x1,_0xf3c170(_0x5e6916,_0x56cf3e)>_0x5e6916[_0x393ba8(0x680)])return;if(!_0x5e6916['accumulated']['vector']||!_0x5e6916['accumulated'][_0x393ba8(0x3fe)])throw new Error('Vector\x20database\x20block\x20is\x20missing\x20required\x20data');const _0x42be91=await _0x4bd6b0[_0x393ba8(0x103)]['getEntities'](_0x5e6916['accumulated']['content'],{'ner':!0x1,'noun':!0x0,'propn':!0x1,'verb':!0x1}),_0x44f1a6=_0x4bd6b0[_0x393ba8(0x2ae)][_0x393ba8(0x306)](_0x5e6916['id'])[_0x393ba8(0x9f0)](_0x42be91,_0x5e6916['accumulated'][_0x393ba8(0x593)],_0x5e6916[_0x393ba8(0x714)]['topK'],_0x5e6916['attributes']['minRelevance'],_0x5e6916['attributes'][_0x393ba8(0x76c)]);_0x14a774[_0x393ba8(0x850)]({'jobType':_0x4478c1['Retrieve'],'type':_0x4de559[_0x393ba8(0x4ed)],'jobId':_0x2bac64,'threadId':_0x35c05b,'blockId':_0x5e6916['id'],'traceLevel':_0x3a949c['Debug'],'startTime':_0x573072,'timestamp':Date[_0x393ba8(0x1f3)](),'status':'success','topResults':_0x44f1a6,'numResults':_0x44f1a6['length']}),await _0x307917(_0x2bac64,_0x35c05b,_0x44f1a6,_0x14c434,_0x5e6916,_0x56cf3e,_0x4bd6b0);}async function _0x307917(_0x16c100,_0xb6b1b0,_0x43aa80,_0x188911,_0x158886,_0x1905a2,_0x32384f){const _0x3a5376=_0x1af94f;for(const _0x28989f of _0x158886[_0x3a5376(0x64e)]||[]){const _0x120d21=_0x1905a2[_0x3a5376(0x7ef)](_0x38e69f=>_0x38e69f[_0x3a5376(0x34d)]===_0x28989f[_0x3a5376(0x34d)]);if(_0x120d21)switch(_0x120d21[_0x3a5376(0x44f)]){case _0x4bf4d9[_0x3a5376(0x354)]:_0x28989f[_0x3a5376(0x44f)]===_0x3f481[_0x3a5376(0x755)]&&_0x43aa80 instanceof Array&&_0x188911['context'][_0x3a5376(0x3d6)](..._0x43aa80);break;case _0x4bf4d9[_0x3a5376(0x71b)]:_0x28989f['type']===_0x3f481[_0x3a5376(0x721)]&&_0x3a5376(0x4e9)==typeof _0x43aa80&&await _0x19a184(_0x16c100,_0xb6b1b0,_0x43aa80,_0x188911,_0x120d21,_0x1905a2,_0x32384f),_0x28989f[_0x3a5376(0x44f)]===_0x3f481[_0x3a5376(0x755)]&&_0x43aa80 instanceof Array&&await _0x19a184(_0x16c100,_0xb6b1b0,_0x43aa80,_0x188911,_0x120d21,_0x1905a2,_0x32384f);break;case _0x4bf4d9['GraphDatabase']:_0x28989f['type']===_0x3f481[_0x3a5376(0x721)]&&'string'==typeof _0x43aa80&&await _0x5cb432(_0x16c100,_0xb6b1b0,_0x43aa80,_0x188911,_0x120d21,_0x1905a2,_0x32384f),_0x28989f['type']===_0x3f481[_0x3a5376(0x755)]&&_0x43aa80 instanceof Array&&await _0x5cb432(_0x16c100,_0xb6b1b0,_0x43aa80,_0x188911,_0x120d21,_0x1905a2,_0x32384f),_0x28989f['type']===_0x3f481[_0x3a5376(0x501)]&&_0x43aa80 instanceof Set&&await _0x5cb432(_0x16c100,_0xb6b1b0,_0x43aa80,_0x188911,_0x120d21,_0x1905a2,_0x32384f);break;case _0x4bf4d9[_0x3a5376(0x20f)]:_0x28989f[_0x3a5376(0x44f)]===_0x3f481[_0x3a5376(0x721)]&&_0x3a5376(0x4e9)==typeof _0x43aa80&&await _0x54929a(_0x16c100,_0xb6b1b0,_0x43aa80,_0x188911,_0x120d21,_0x1905a2,_0x32384f),_0x28989f[_0x3a5376(0x44f)]===_0x3f481[_0x3a5376(0x755)]&&_0x43aa80 instanceof Array&&await _0x54929a(_0x16c100,_0xb6b1b0,_0x43aa80,_0x188911,_0x120d21,_0x1905a2,_0x32384f);break;case _0x4bf4d9[_0x3a5376(0x3de)]:_0x28989f[_0x3a5376(0x44f)]===_0x3f481[_0x3a5376(0x721)]&&_0x3a5376(0x4e9)==typeof _0x43aa80&&await _0x21c0b0(_0x16c100,_0xb6b1b0,_0x43aa80,_0x188911,_0x120d21,_0x1905a2,_0x32384f),_0x28989f[_0x3a5376(0x44f)]===_0x3f481[_0x3a5376(0x755)]&&_0x43aa80 instanceof Array&&await _0x21c0b0(_0x16c100,_0xb6b1b0,_0x43aa80,_0x188911,_0x120d21,_0x1905a2,_0x32384f);break;case _0x4bf4d9[_0x3a5376(0x21e)]:_0x28989f[_0x3a5376(0x44f)]===_0x3f481[_0x3a5376(0x721)]&&_0x3a5376(0x4e9)==typeof _0x43aa80&&await _0x8d4c48(_0x16c100,_0xb6b1b0,_0x43aa80,_0x188911,_0x120d21,_0x1905a2,_0x32384f),_0x28989f[_0x3a5376(0x44f)]===_0x3f481[_0x3a5376(0x31a)]&&_0x43aa80 instanceof Array&&await _0x8d4c48(_0x16c100,_0xb6b1b0,_0x43aa80,_0x188911,_0x120d21,_0x1905a2,_0x32384f);}}}function _0xf3c170(_0x236486,_0x24f204){const _0x5e0af7=_0x1af94f;return _0x24f204['filter'](_0x342ae6=>_0x342ae6[_0x5e0af7(0x64e)]?.['some'](_0xcf833d=>_0xcf833d[_0x5e0af7(0x34d)]===_0x236486[_0x5e0af7(0x34d)]))['length'];}async function _0x4741ae(_0x22562d,_0x33dbb3,_0x460fb2,_0x42ae8a,_0x4b3357,_0x2b6677){const _0x3339ee=_0x1af94f,_0x3a7129={'type':'prompt','output':'','context':[],'inputTokens':0x0,'outputTokens':0x0};try{let _0x98b5b1;await _0x307917(_0x22562d,_0x33dbb3,_0x460fb2,_0x3a7129,_0x42ae8a,structuredClone(_0x4b3357),_0x2b6677),_0x3a7129[_0x3339ee(0x88f)]['reduce']((_0x24d446,_0x42f434)=>_0x24d446+_0x42f434['content'][_0x3339ee(0x71c)],0x0)>_0x44caca&&(_0x98b5b1=Math[_0x3339ee(0x444)](_0x44caca/_0x3a7129['context'][_0x3339ee(0x71c)])),_0x3a7129['output']=_0x3339ee(0x504)+_0x3a7129[_0x3339ee(0x88f)][_0x3339ee(0x7d0)](_0x6149f6=>'From\x20'+_0x6149f6['pathName']+':\x20'+_0x6149f6[_0x3339ee(0x3fe)][_0x3339ee(0x187)](0x0,_0x98b5b1))[_0x3339ee(0x7f4)]('\x0a');}catch(_0x176e4c){console[_0x3339ee(0x883)](_0x3339ee(0x95d),_0x176e4c);}return _0x3a7129;}const _0x1aa22e=require('rxjs/operators');class _0x30f2bf{['subject'];constructor(){this['subject']=new _0x42082d['Subject']();}[_0x1af94f(0x791)](_0x43035c){const _0x12bd52=_0x1af94f;this[_0x12bd52(0x6e4)][_0x12bd52(0x122)](_0x43035c);}async[_0x1af94f(0x756)](){const _0x57e25b=_0x1af94f;return(0x0,_0x42082d[_0x57e25b(0x5cd)])(this['subject'][_0x57e25b(0x7e1)]((0x0,_0x1aa22e['take'])(0x1)));}}function _0x506d1f(_0x29d55a,_0x3e7ee3,_0x3d1cc2,_0x353a15,_0x5aab4d,_0x4ad444,_0x17837a,_0x1bc295){const _0x3a8150=_0x1af94f,_0x1b9703=_0x3a8150(0x16c)+_0x5aab4d[_0x3a8150(0x810)]+'\x20to\x20generate\x20a\x20response.',_0x1c2af3={'prompt':{'type':_0xb0907f[_0x3a8150(0x783)][_0x3a8150(0x33c)]}};return _0x14a774['trace']({'jobType':_0x4478c1[_0x3a8150(0x3fd)],'type':_0x491470[_0x3a8150(0x170)],'jobId':_0x29d55a,'agentId':_0x3e7ee3,'threadId':_0x3d1cc2[_0x3a8150(0x46c)],'traceLevel':_0x3a949c['Info'],'startTime':Date[_0x3a8150(0x1f3)](),'timestamp':Date[_0x3a8150(0x1f3)](),'status':_0x3a8150(0x9cb),'function':_0x1e3201[_0x3a8150(0x88d)],'params':_0x1c2af3,'functionDescription':_0x1b9703}),{'description':_0x1b9703,'params':_0x1c2af3,'callback':async _0x1fe355=>{const _0x72f705=_0x3a8150,_0x51b063=Date[_0x72f705(0x1f3)]();try{if(_0x1bc295&&(await _0xdf6e0c['wait'](0x1),_0x1bc295[_0x72f705(0x791)]({'output':_0x72f705(0x9de)+_0x5aab4d['name']+'`\x0a\x0a','type':_0x72f705(0x81e)})),_0x72f705(0x4e9)!=typeof _0x1fe355?.['prompt'])throw new Error('Prompt\x20is\x20required');const _0x311f8c=_0x17837a[_0x72f705(0x153)]['find'](_0x480618=>_0x480618['id']===_0x5aab4d['modelId']);if(!_0x311f8c)throw new Error(_0x72f705(0x67c));const _0x310149=_0x17837a[_0x72f705(0x2f7)][_0x72f705(0x7ef)](_0x4efcdd=>_0x4efcdd['getEngineType']()===_0x311f8c[_0x72f705(0x970)]);if(!_0x310149)throw new Error(_0x72f705(0xa39));const _0x2031b9=_0x5aab4d[_0x72f705(0x64e)]?.['some'](_0x431085=>{const _0x3ae7bc=_0x72f705,_0x1f70f6=_0x4ad444[_0x3ae7bc(0x7ef)](_0x4b00ac=>_0x4b00ac[_0x3ae7bc(0x34d)]===_0x431085[_0x3ae7bc(0x34d)]);return!!_0x1f70f6&&_0x431085['type']===_0x3f481[_0x3ae7bc(0x721)]&&_0x1f70f6[_0x3ae7bc(0x44f)]===_0x4e856e[_0x3ae7bc(0x73c)];})??!0x1;let _0x1976a3;if(_0x1bc295&&_0x2031b9?(await _0xdf6e0c['wait'](0x1),_0x1bc295[_0x72f705(0x791)]({'output':'\x0a\x0a','type':_0x72f705(0x81e)}),_0x1976a3=await async function(_0x465e8c,_0x1b6699,_0x137ab6,_0x5a0d01,_0x2b52b1,_0x15a645,_0x21d8bb,_0x51b41a,_0x376510){const _0x5696f4=_0x72f705;let _0xf7371d='';const _0x592ea3=_0x376510[_0x5696f4(0x153)][_0x5696f4(0x7ef)](_0x275328=>_0x275328['id']===_0x15a645[_0x5696f4(0x582)]);if(!_0x592ea3)throw new Error(_0x5696f4(0x67c));const _0x3e71bb=_0x376510['generativeAIWorkerConnectors'][_0x5696f4(0x7ef)](_0x186e51=>_0x186e51[_0x5696f4(0x987)]()===_0x592ea3[_0x5696f4(0x970)]);if(!_0x3e71bb)throw new Error(_0x5696f4(0xa39));for await(const _0x327f1d of _0x3e71bb[_0x5696f4(0x9fb)]({'type':_0x5696f4(0x81e),'prompt':_0x329587(_0x137ab6,_0x15a645),'instructions':_0x8aede8('',_0x15a645,_0x592ea3),'grammar':_0x15a645['grammar'],'temperature':_0x15a645['temperature'],'maxTokens':_0x15a645[_0x5696f4(0x147)],'functions':await _0x3bca4f(_0x465e8c,_0x1b6699,_0x5a0d01,_0x2b52b1,_0x15a645,_0x21d8bb,_0x376510,_0x51b41a),'threadId':_0x5a0d01[_0x5696f4(0x46c)]},{'model':_0x592ea3,'sequences':0x2}))_0x51b41a['emit'](_0x327f1d),_0xf7371d+=_0x327f1d['output'];return{'type':_0x5696f4(0x81e),'output':_0xf7371d};}(_0x29d55a,_0x3e7ee3,_0x1fe355[_0x72f705(0x81e)],_0x3d1cc2,_0x353a15,_0x5aab4d,_0x4ad444,_0x1bc295,_0x17837a),await _0xdf6e0c[_0x72f705(0xa2b)](0x1),_0x1bc295[_0x72f705(0x791)]({'output':'\x0a\x0a','type':_0x72f705(0x81e)})):_0x1976a3=await _0x310149['processJob']({'type':'prompt','prompt':_0x329587(_0x1fe355[_0x72f705(0x81e)],_0x5aab4d),'instructions':_0x8aede8('',_0x5aab4d,_0x311f8c),'grammar':_0x5aab4d[_0x72f705(0x75d)],'temperature':_0x5aab4d[_0x72f705(0x5f4)],'maxTokens':_0x5aab4d[_0x72f705(0x147)],'functions':await _0x3bca4f(_0x29d55a,_0x3e7ee3,_0x3d1cc2,_0x353a15,_0x5aab4d,_0x4ad444,_0x17837a,_0x1bc295),'threadId':_0x3d1cc2[_0x72f705(0x46c)]},{'model':_0x311f8c,'sequences':0x2}),_0x72f705(0x4e9)!=typeof _0x1976a3[_0x72f705(0x2cc)])throw new Error(_0x72f705(0x667));return _0x14a774[_0x72f705(0x850)]({'jobType':_0x4478c1[_0x72f705(0x38e)],'type':_0x1e3201[_0x72f705(0x88d)],'jobId':_0x29d55a,'blockId':_0x5aab4d['id'],'agentId':_0x3e7ee3,'threadId':_0x3d1cc2[_0x72f705(0x46c)],'traceLevel':_0x3a949c[_0x72f705(0x654)],'startTime':_0x51b063,'timestamp':Date[_0x72f705(0x1f3)](),'status':_0x72f705(0x9cb),'agentName':_0x5aab4d['name'],'prompt':_0x1fe355[_0x72f705(0x81e)],'instructions':_0x5aab4d[_0x72f705(0x5d0)],'result':_0x1976a3[_0x72f705(0x2cc)],'inputTokens':0x0,'outputTokens':0x0}),_0x5aab4d[_0x72f705(0x64e)]?.[_0x72f705(0xa33)](_0x1ba4c4=>_0x1ba4c4[_0x72f705(0x44f)]===_0x3f481[_0x72f705(0x354)])?(_0x18838f(_0x1976a3[_0x72f705(0x2cc)],_0x5aab4d,_0x4ad444),_0x72f705(0x584)):_0x1976a3[_0x72f705(0x2cc)];}catch(_0x344537){return console[_0x72f705(0x883)](_0x344537),_0x14a774['trace']({'jobType':_0x4478c1[_0x72f705(0x38e)],'type':_0x1e3201[_0x72f705(0x88d)],'jobId':_0x29d55a,'blockId':_0x5aab4d['id'],'agentId':_0x3e7ee3,'threadId':_0x3d1cc2[_0x72f705(0x46c)],'traceLevel':_0x3a949c[_0x72f705(0x654)],'startTime':_0x51b063,'timestamp':Date[_0x72f705(0x1f3)](),'status':_0x72f705(0x883),'errorDetails':_0xf7e521(_0x344537),'agentName':_0x5aab4d['name'],'prompt':_0x1fe355?.['prompt']??'','instructions':_0x5aab4d['instructions'],'result':'','inputTokens':0x0,'outputTokens':0x0}),_0x344537 instanceof Error?_0x344537[_0x72f705(0x802)]:_0x72f705(0x28c);}}};}function _0x17699b(_0x1c655c,_0x412e33,_0x2fe40c,_0x36e9e3,_0x4317fd,_0x299436,_0x3c22f8){const _0x3d18f5=_0x1af94f,_0x440434=_0x3d18f5(0x925)+_0x4317fd[_0x3d18f5(0x810)]+'\x20when\x20you\x20need\x20contextual\x20data\x20to\x20inform\x20your\x20response.',_0x3e9f48={'queryOrPrompt':{'type':_0xb0907f[_0x3d18f5(0x783)][_0x3d18f5(0x33c)]}};return _0x14a774['trace']({'jobType':_0x4478c1[_0x3d18f5(0x3fd)],'type':_0x491470[_0x3d18f5(0x598)],'jobId':_0x1c655c,'agentId':_0x412e33,'threadId':_0x2fe40c,'blockId':_0x4317fd['id'],'traceLevel':_0x3a949c[_0x3d18f5(0x654)],'startTime':Date[_0x3d18f5(0x1f3)](),'timestamp':Date[_0x3d18f5(0x1f3)](),'status':_0x3d18f5(0x9cb),'function':_0x471d00[_0x3d18f5(0x63b)],'params':_0x3e9f48,'functionDescription':_0x440434}),{'description':_0x440434,'params':_0x3e9f48,'callback':async _0x3cf921=>{const _0x2661b8=_0x3d18f5,_0x53375c=Date['now']();try{if(_0x3c22f8&&(await _0xdf6e0c[_0x2661b8(0xa2b)](0x1),_0x3c22f8[_0x2661b8(0x791)]({'output':_0x2661b8(0x38f)+_0x4317fd[_0x2661b8(0x450)]+_0x2661b8(0x27c)+_0x3cf921?.[_0x2661b8(0x30f)]+'`\x0a\x0a','type':_0x2661b8(0x81e)})),_0x2661b8(0x4e9)!=typeof _0x3cf921?.[_0x2661b8(0x30f)])throw new Error('Query\x20is\x20required');const _0x40ee8a=_0x4317fd[_0x2661b8(0x47a)][_0x2661b8(0x7ef)](_0x170ed8=>_0x170ed8[_0x2661b8(0x44f)]===_0x4bf4d9['Prompt']),_0xa4f0a1=await _0x4741ae(_0x1c655c,_0x2fe40c,_0x3cf921[_0x2661b8(0x30f)],_0x40ee8a,_0x4317fd[_0x2661b8(0x47a)],_0x299436);return _0x36e9e3[_0x2661b8(0x88f)]=Array[_0x2661b8(0x13b)](new Set([..._0x36e9e3[_0x2661b8(0x88f)],..._0xa4f0a1[_0x2661b8(0x88f)]])),_0x14a774[_0x2661b8(0x850)]({'jobType':_0x4478c1[_0x2661b8(0xf6)],'type':_0x471d00[_0x2661b8(0xa1f)],'jobId':_0x1c655c,'blockId':_0x4317fd['id'],'agentId':_0x412e33,'threadId':_0x2fe40c,'traceLevel':_0x3a949c[_0x2661b8(0x654)],'startTime':_0x53375c,'timestamp':Date['now'](),'status':_0x2661b8(0x9cb),'query':_0x3cf921[_0x2661b8(0x30f)],'context':_0xa4f0a1['context']??[],'inputTokens':_0xa4f0a1[_0x2661b8(0x2d0)]??0x0,'outputTokens':_0xa4f0a1['outputTokens']??0x0}),_0xa4f0a1['output'];}catch(_0x523def){return console[_0x2661b8(0x883)](_0x523def),_0x14a774[_0x2661b8(0x850)]({'jobType':_0x4478c1['Knowledge'],'type':_0x471d00[_0x2661b8(0xa1f)],'jobId':_0x1c655c,'blockId':_0x4317fd['id'],'agentId':_0x412e33,'threadId':_0x2fe40c,'traceLevel':_0x3a949c[_0x2661b8(0x654)],'startTime':_0x53375c,'timestamp':Date[_0x2661b8(0x1f3)](),'status':'error','errorDetails':_0xf7e521(_0x523def),'query':_0x3cf921?.[_0x2661b8(0x30f)]??'','context':[],'inputTokens':0x0,'outputTokens':0x0}),_0x523def instanceof Error?_0x523def[_0x2661b8(0x802)]:_0x2661b8(0x282);}}};}function _0xea6094(_0x3496bb,_0x3942cb,_0x1affdb,_0x2ad186,_0x5d7654,_0x54e69f){const _0x52171d=_0x1af94f,_0x2cbde2={};for(const _0x1a5b9c of _0x2ad186[_0x52171d(0x224)])switch(_0x1a5b9c[_0x52171d(0x44f)]){case'string':case'json':_0x2cbde2[_0x1a5b9c[_0x52171d(0x450)]]={'type':_0xb0907f[_0x52171d(0x783)][_0x52171d(0x33c)]};break;case _0x52171d(0x93c):_0x2cbde2[_0x1a5b9c[_0x52171d(0x450)]]={'type':_0xb0907f[_0x52171d(0x783)][_0x52171d(0x859)]};break;case'boolean':_0x2cbde2[_0x1a5b9c['name']]={'type':_0xb0907f[_0x52171d(0x783)][_0x52171d(0x7ae)]};}return _0x14a774[_0x52171d(0x850)]({'jobType':_0x4478c1[_0x52171d(0x3fd)],'type':_0x491470[_0x52171d(0x170)],'jobId':_0x3496bb,'agentId':_0x3942cb,'threadId':_0x1affdb,'traceLevel':_0x3a949c[_0x52171d(0x654)],'startTime':Date[_0x52171d(0x1f3)](),'timestamp':Date['now'](),'status':_0x52171d(0x9cb),'function':_0x1e3201[_0x52171d(0x917)],'params':_0x2cbde2,'functionDescription':_0x2ad186['description']}),{'description':'Execute\x20skill\x20'+_0x2ad186['description'],'params':_0x2cbde2,'callback':async _0x2f22d7=>{const _0x24ce62=_0x52171d,_0x31c37a=Date['now']();try{if(_0x54e69f&&(await _0xdf6e0c[_0x24ce62(0xa2b)](0x1),_0x54e69f[_0x24ce62(0x791)]({'output':_0x24ce62(0x380)+_0x2ad186['name']+_0x24ce62(0xa15),'type':_0x24ce62(0x81e)})),!_0x2f22d7)throw new Error(_0x24ce62(0x901));for(const _0x1e8aaf of _0x2ad186[_0x24ce62(0x224)]){if(void 0x0===_0x2f22d7[_0x1e8aaf[_0x24ce62(0x450)]])throw new Error(_0x24ce62(0x81f)+_0x1e8aaf[_0x24ce62(0x450)]+_0x24ce62(0x163));if(_0x24ce62(0x4e9)===_0x1e8aaf[_0x24ce62(0x44f)]&&_0x24ce62(0x4e9)!=typeof _0x2f22d7[_0x1e8aaf[_0x24ce62(0x450)]])throw new Error(_0x24ce62(0x81f)+_0x1e8aaf[_0x24ce62(0x450)]+_0x24ce62(0x154));if(_0x24ce62(0x93c)===_0x1e8aaf[_0x24ce62(0x44f)]&&_0x24ce62(0x93c)!=typeof _0x2f22d7[_0x1e8aaf[_0x24ce62(0x450)]])throw new Error(_0x24ce62(0x81f)+_0x1e8aaf[_0x24ce62(0x450)]+_0x24ce62(0x77f));if(_0x24ce62(0x3f1)===_0x1e8aaf[_0x24ce62(0x44f)]&&'boolean'!=typeof _0x2f22d7[_0x1e8aaf[_0x24ce62(0x450)]])throw new Error(_0x24ce62(0x81f)+_0x1e8aaf[_0x24ce62(0x450)]+'\x20must\x20be\x20a\x20boolean');if('json'===_0x1e8aaf[_0x24ce62(0x44f)]&&_0x24ce62(0x4e9)!=typeof _0x2f22d7[_0x1e8aaf['name']])throw new Error(_0x24ce62(0x81f)+_0x1e8aaf[_0x24ce62(0x450)]+'\x20must\x20be\x20a\x20string');if('json'===_0x1e8aaf[_0x24ce62(0x44f)])try{_0x2f22d7[_0x1e8aaf['name']]=JSON[_0x24ce62(0x7cd)](_0x2f22d7[_0x1e8aaf['name']]);}catch{throw new Error(_0x24ce62(0x81f)+_0x1e8aaf['name']+_0x24ce62(0x9c1));}}const _0x5ca972={};for(const _0x200c1f of _0x2ad186[_0x24ce62(0x9b0)]){let _0x353f71=_0x200c1f[_0x24ce62(0x73e)];_0x353f71[_0x24ce62(0x7ab)](/\$[a-zA-Z0-9]+/)&&(_0x353f71=_0x353f71[_0x24ce62(0x78e)](/\$[a-zA-Z0-9]+/g,_0x1f3381=>{const _0x439464=_0x1f3381['slice'](0x1);return _0x2f22d7[_0x439464];})),_0x5ca972[_0x200c1f[_0x24ce62(0x450)]]=_0x353f71;}const _0x49e993=new URLSearchParams();for(const _0xf6d294 of _0x2ad186[_0x24ce62(0xa13)]){let _0x33a027=_0xf6d294[_0x24ce62(0x73e)];if('string'==typeof _0x33a027&&_0x33a027[_0x24ce62(0x4f2)]('$')){const _0x24cf5d=_0x33a027['slice'](0x1);_0x33a027=_0x2f22d7[_0x24cf5d];}if('string'==typeof _0x33a027&&_0x33a027[_0x24ce62(0x4f2)](_0x24ce62(0x715))){const _0x241da7=_0x33a027[_0x24ce62(0x78e)](_0x24ce62(0x715),'');if(_0x2ad186[_0x24ce62(0x179)],_0x33a027=_0x2ad186['accumulated']?.[_0x24ce62(0x88f)]?.[_0x241da7],_0x24ce62(0x4e9)==typeof _0x33a027&&_0x33a027[_0x24ce62(0x4f2)]('{')&&_0x33a027[_0x24ce62(0x29f)]('}'))try{_0x33a027=JSON[_0x24ce62(0x7cd)](_0x33a027);}catch{}}_0x24ce62(0x4e9)==typeof _0x33a027&&_0x33a027[_0x24ce62(0x4f2)]('[')&&_0x33a027['endsWith'](']')&&(_0x33a027=JSON[_0x24ce62(0x7cd)](_0x33a027)),_0x49e993[_0x24ce62(0x986)](_0xf6d294[_0x24ce62(0x450)],_0x33a027);}let _0x3390fe=_0x2ad186[_0x24ce62(0x998)];_0x49e993[_0x24ce62(0xa20)]>0x0&&(_0x3390fe+='?'+_0x49e993['toString']());let _0x14e8f8={};for(const _0x3998cf of _0x2ad186[_0x24ce62(0x684)]){let _0x4d2360=_0x3998cf[_0x24ce62(0x73e)];if(_0x24ce62(0x4e9)==typeof _0x4d2360&&_0x4d2360[_0x24ce62(0x4f2)]('$')){const _0x3458bb=_0x4d2360[_0x24ce62(0x97e)](0x1);_0x4d2360=_0x2f22d7[_0x3458bb];}if('string'==typeof _0x4d2360&&_0x4d2360[_0x24ce62(0x4f2)]('@context.')){const _0x356ffe=_0x4d2360[_0x24ce62(0x78e)](_0x24ce62(0x715),'');if(_0x4d2360=_0x2ad186[_0x24ce62(0x179)]?.[_0x24ce62(0x88f)]?.[_0x356ffe],_0x24ce62(0x4e9)==typeof _0x4d2360&&_0x4d2360[_0x24ce62(0x4f2)]('{')&&_0x4d2360[_0x24ce62(0x29f)]('}'))try{_0x4d2360=JSON[_0x24ce62(0x7cd)](_0x4d2360);}catch{}}if(_0x24ce62(0x4e9)==typeof _0x4d2360&&_0x4d2360['startsWith']('[')&&_0x4d2360[_0x24ce62(0x29f)](']')&&(_0x4d2360=JSON[_0x24ce62(0x7cd)](_0x4d2360)),'@root'===_0x3998cf['name']){const _0x226bbd=_0x4d2360[_0x24ce62(0x7ab)](/```html(.*)```/s);_0x226bbd&&(_0x4d2360=_0x226bbd[0x1]),_0x4d2360=_0x4d2360[_0x24ce62(0x78e)](/\n/g,''),_0x4d2360=_0x4d2360[_0x24ce62(0x78e)](/'/g,'\x22'),_0x14e8f8=_0x4d2360;break;}if(-0x1===_0x3998cf['name'][_0x24ce62(0x7d6)]('.'))_0x14e8f8[_0x3998cf['name']]=_0x4d2360;else{const [_0x272a05,_0xa82f6b]=_0x3998cf[_0x24ce62(0x450)][_0x24ce62(0x7c6)]('.');_0x14e8f8[_0x272a05]||(_0x14e8f8[_0x272a05]={}),_0x14e8f8[_0x272a05][_0xa82f6b]=_0x4d2360;}}console[_0x24ce62(0x15c)](_0x24ce62(0x25e)+_0x2ad186[_0x24ce62(0x450)]+_0x24ce62(0x576)+JSON[_0x24ce62(0x656)](_0x14e8f8));const _0x1d31de=await fetch(_0x3390fe,{'method':_0x2ad186[_0x24ce62(0x47c)],'headers':_0x5ca972,'body':_0x24ce62(0x4e9)==typeof _0x14e8f8?_0x14e8f8:JSON[_0x24ce62(0x656)](_0x14e8f8)});if(_0x1d31de['ok']){let _0x511ce8=await _0x1d31de[_0x24ce62(0x190)]();return _0x2ad186[_0x24ce62(0x93e)]&&(_0x511ce8=await function(_0xd6e3b6,_0xfc31be){return new Promise((_0x19b083,_0x5a2edd)=>{const _0x1520e4=a0_0xaf41,_0x3fef8e=_0xdf6e0c[_0x1520e4(0x1ea)](async()=>{const _0x1c0168=_0x1520e4;try{if(!_0xd6e3b6['asyncEndpointUrl']||!_0xd6e3b6['asyncEndpointMethod'])throw new Error('No\x20async\x20endpoint\x20URL');const _0x56a59e={};if(_0xd6e3b6[_0x1c0168(0x709)]){for(const _0x19ea57 of _0xd6e3b6['asyncHeaders'])_0x56a59e[_0x19ea57[_0x1c0168(0x450)]]=_0x19ea57['value'];}const _0x1980f7=_0xd6e3b6[_0x1c0168(0x454)][_0x1c0168(0x78e)](_0x1c0168(0x314),_0xfc31be),_0x49392e=await fetch(_0x1980f7,{'method':_0xd6e3b6[_0x1c0168(0x274)],'headers':_0x56a59e});if(0xc8===_0x49392e[_0x1c0168(0x8bb)]){const _0x1ce1ec=await _0x49392e[_0x1c0168(0x190)]();_0x3fef8e(),_0x19b083(_0x1ce1ec);}_0x49392e[_0x1c0168(0x8bb)]>=0x190&&(console[_0x1c0168(0x883)](_0x49392e[_0x1c0168(0x57c)]),_0x3fef8e(),_0x5a2edd(new Error(_0x49392e['statusText'])));}catch(_0x4c7ac8){console['error'](_0x4c7ac8),_0x3fef8e(),_0x5a2edd(_0x4c7ac8);}},_0x5efbe6);});}(_0x2ad186,_0x511ce8['id'])),'string'!=typeof _0x511ce8&&(_0x511ce8=JSON[_0x24ce62(0x656)](_0x511ce8)),_0x14a774[_0x24ce62(0x850)]({'jobType':_0x4478c1[_0x24ce62(0x38e)],'type':_0x1e3201['ExecuteCustomSkill'],'jobId':_0x3496bb,'agentId':_0x3942cb,'threadId':_0x1affdb,'blockId':_0x2ad186['id'],'traceLevel':_0x3a949c['Info'],'startTime':_0x31c37a,'timestamp':Date[_0x24ce62(0x1f3)](),'status':_0x24ce62(0x9cb),'skillName':_0x2ad186[_0x24ce62(0x450)],'params':_0x2f22d7,'result':_0x511ce8}),_0x2ad186[_0x24ce62(0x64e)]?.['some'](_0x1c2531=>_0x1c2531[_0x24ce62(0x44f)]===_0x3f481[_0x24ce62(0x354)])?(_0x18838f(_0x511ce8,_0x2ad186,_0x5d7654),'{\x20\x22status\x22:\x20\x22success\x22\x20}'):_0x511ce8;}throw new Error(_0x1d31de[_0x24ce62(0x57c)]);}catch(_0x517efa){console[_0x24ce62(0x883)](_0x517efa);const _0x46fc6b=_0x517efa instanceof Error?_0x517efa[_0x24ce62(0x802)]:_0x24ce62(0x271);return _0x14a774['trace']({'jobType':_0x4478c1[_0x24ce62(0x38e)],'type':_0x1e3201[_0x24ce62(0x917)],'jobId':_0x3496bb,'blockId':_0x2ad186['id'],'threadId':_0x1affdb,'traceLevel':_0x3a949c[_0x24ce62(0x654)],'startTime':_0x31c37a,'timestamp':Date[_0x24ce62(0x1f3)](),'agentId':_0x3942cb,'status':_0x24ce62(0x883),'skillName':_0x2ad186['name'],'params':_0x2f22d7??{},'result':_0x46fc6b}),_0x46fc6b;}}};}function _0x20da02(_0x11d74d,_0x6750d2,_0x1cd8b9,_0x20055d,_0x2930ec,_0x4a6034=!0x0){const _0x2002f4=_0x1af94f,_0x3c103d=_0x2002f4(0x3f7),_0x39f96e={'url':{'type':_0xb0907f['PromptFunctionParamsType']['String']},'page':{'type':_0xb0907f[_0x2002f4(0x783)][_0x2002f4(0x859)]}};return _0x14a774[_0x2002f4(0x850)]({'jobType':_0x4478c1[_0x2002f4(0x3fd)],'type':_0x491470[_0x2002f4(0x170)],'jobId':_0x11d74d,'agentId':_0x6750d2,'threadId':_0x1cd8b9,'traceLevel':_0x3a949c[_0x2002f4(0x654)],'startTime':Date[_0x2002f4(0x1f3)](),'timestamp':Date[_0x2002f4(0x1f3)](),'status':'success','function':_0x1e3201[_0x2002f4(0x852)],'params':_0x39f96e,'functionDescription':_0x3c103d}),{'description':_0x3c103d,'params':_0x39f96e,'callback':async _0x522d9c=>{const _0x362344=_0x2002f4,_0x599e65=Date[_0x362344(0x1f3)]();try{if(_0x2930ec&&(await _0xdf6e0c[_0x362344(0xa2b)](0x1),_0x2930ec[_0x362344(0x791)]({'output':'\x0a\x0a`Fetching\x20content\x20from\x20URL\x20'+_0x522d9c?.[_0x362344(0x91c)]+_0x362344(0xa15),'type':'prompt'})),'string'!=typeof _0x522d9c?.[_0x362344(0x91c)])throw new Error('URL\x20is\x20required');const _0xa5a33f=_0x522d9c['url'];if([_0x362344(0x53e),_0x362344(0x749),'.docx','.ppt',_0x362344(0x80f),_0x362344(0x19e),_0x362344(0xa11)][_0x362344(0xa33)](_0x4e6e39=>_0xa5a33f[_0x362344(0x29f)](_0x4e6e39)))throw new Error(_0x362344(0x437));const _0x5c2885=await fetch(_0xa5a33f),_0x12b8d3=await _0x5c2885[_0x362344(0x55d)]();let _0x352cf1=_0x12b8d3;if(_0x4a6034){const _0x11674f=_0x12b8d3[_0x362344(0x7ab)](/<body[^>]*>((.|[\n\r])*)<\/body>/i),_0x8cf8a0=_0x11674f?_0x11674f[0x1]:_0x12b8d3,_0x1d4a79=_0x8cf8a0['replace'](/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,'')[_0x362344(0x78e)](/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,'')[_0x362344(0x78e)](/<br\s*\/?>/gi,'\x20')[_0x362344(0x78e)](/&nbsp;/g,'\x20');_0x352cf1=_0x1d4a79['replace'](/<\/?[^>]+(>|$)/g,'')[_0x362344(0x78e)](/\s\s+/g,'\x20')[_0x362344(0x374)]();}const _0x3697f7=_0x362344(0x93c)==typeof _0x522d9c['page']?_0x522d9c['page']:0x1,_0x2165f5=Math[_0x362344(0x591)](_0x352cf1[_0x362344(0x71c)]/_0x44caca);return _0x352cf1['length']>_0x44caca&&(_0x352cf1=_0x352cf1[_0x362344(0x187)]((_0x3697f7-0x1)*_0x44caca,(_0x3697f7-0x1)*_0x44caca+_0x44caca)+_0x362344(0x6f1)+(_0x3697f7+0x1)+_0x362344(0x3dc)+_0x2165f5+'.'),_0x14a774['trace']({'jobType':_0x4478c1[_0x362344(0x38e)],'type':_0x1e3201['FetchUrl'],'jobId':_0x11d74d,'agentId':_0x6750d2,'threadId':_0x1cd8b9,'blockId':_0x20055d,'traceLevel':_0x3a949c[_0x362344(0x654)],'startTime':_0x599e65,'timestamp':Date[_0x362344(0x1f3)](),'status':_0x5c2885['ok']?'success':'error','url':_0x522d9c[_0x362344(0x91c)],'page':_0x3697f7,'totalPages':_0x2165f5,'response':_0x352cf1}),_0x352cf1;}catch(_0x5a82f0){console[_0x362344(0x883)](_0x5a82f0);const _0x4d8762=_0x5a82f0 instanceof Error?_0x5a82f0[_0x362344(0x802)]:_0x362344(0x271);return _0x14a774['trace']({'jobType':_0x4478c1[_0x362344(0x38e)],'type':_0x1e3201[_0x362344(0x852)],'jobId':_0x11d74d,'blockId':_0x20055d,'threadId':_0x1cd8b9,'traceLevel':_0x3a949c[_0x362344(0x654)],'startTime':_0x599e65,'timestamp':Date[_0x362344(0x1f3)](),'agentId':_0x6750d2,'status':_0x362344(0x883),'errorDetails':_0xf7e521(_0x5a82f0),'url':_0x522d9c?.[_0x362344(0x91c)]??'','page':0x0,'totalPages':0x0,'response':_0x4d8762}),_0x4d8762;}}};}async function _0x3bca4f(_0x217bca,_0x5a6370,_0x3c0b71,_0x29f066,_0x6f89f8,_0xdd14ac,_0x2b1b3e,_0x3be0d4){const _0x4299ef=_0x1af94f,_0x329bc5=new Map(),_0x2163ae=_0xdd14ac[_0x4299ef(0x7e0)](_0x511644=>_0x511644[_0x4299ef(0x64e)]?.['find'](_0x482bb5=>_0x482bb5[_0x4299ef(0x34d)]===_0x6f89f8[_0x4299ef(0x34d)]&&(_0x482bb5['type']===_0x3f481[_0x4299ef(0xf6)]||_0x482bb5[_0x4299ef(0x44f)]===_0x3f481[_0x4299ef(0x38e)])));for(const _0x348fe5 of _0x2163ae)_0x348fe5['type']===_0x4e856e[_0x4299ef(0xf6)]||_0x348fe5[_0x4299ef(0x44f)]===_0x4e856e['DataCollection']?_0x329bc5['set'](_0x4299ef(0x7a1)+_0x348fe5['name'][_0x4299ef(0x78e)](/[^a-zA-Z]/g,''),_0x17699b(_0x217bca,_0x5a6370,_0x3c0b71[_0x4299ef(0x46c)],_0x29f066,_0x348fe5,_0x2b1b3e,_0x3be0d4)):_0x348fe5['type']===_0x4e856e['AgentSkill']||_0x348fe5[_0x4299ef(0x44f)]===_0x4e856e[_0x4299ef(0x58e)]?_0x329bc5['set'](_0x4299ef(0x507)+_0x348fe5[_0x4299ef(0x450)][_0x4299ef(0x78e)](/[^a-zA-Z]/g,''),_0x506d1f(_0x217bca,_0x5a6370,_0x3c0b71,_0x29f066,_0x348fe5,_0xdd14ac,_0x2b1b3e,_0x3be0d4)):_0x348fe5[_0x4299ef(0x44f)]===_0x4e856e[_0x4299ef(0x1cb)]?_0x329bc5[_0x4299ef(0x81a)](_0x348fe5['name'][_0x4299ef(0x78e)](/[^a-zA-Z]/g,''),_0xea6094(_0x217bca,_0x5a6370,_0x3c0b71[_0x4299ef(0x46c)],_0x348fe5,_0xdd14ac,_0x3be0d4)):_0x329bc5[_0x4299ef(0x81a)](_0x2c0d02(_0x348fe5),await _0x7b3569(_0x217bca,_0x5a6370,_0x3c0b71,_0x29f066,_0x348fe5,_0xdd14ac,_0x2b1b3e,_0x3be0d4));return _0x329bc5;}function _0x2c0d02(_0x4a681d){const _0x9f18c6=_0x1af94f;switch(_0x4a681d[_0x9f18c6(0x44f)]){case _0x4e856e[_0x9f18c6(0x185)]:return _0x9f18c6(0x3a9);case _0x4e856e['Code']:return _0x9f18c6(0x8cc);case _0x4e856e[_0x9f18c6(0x5a9)]:return'queryFile';case _0x4e856e[_0x9f18c6(0x755)]:return _0x9f18c6(0x701);case _0x4e856e[_0x9f18c6(0x247)]:case _0x4e856e[_0x9f18c6(0x83a)]:return _0x9f18c6(0x6be);case _0x4e856e['WriteFile']:return _0x9f18c6(0x747);}throw new Error(_0x9f18c6(0x956));}async function _0x7b3569(_0x41f193,_0x5537a7,_0x504cfd,_0x3efc88,_0x834833,_0x4d1e62,_0x39b3e1,_0x1bb001){const _0xc9dbaf=_0x1af94f;switch(_0x834833['type']){case _0x4e856e[_0xc9dbaf(0x185)]:return function(_0xcdeeda,_0x4eaea6,_0x584282,_0x3e3968,_0x336cec,_0x47b021,_0x3421cd){const _0x4871f6=_0xc9dbaf,_0x40c854=_0x4871f6(0xf5),_0x4a80c3={'query':{'type':_0xb0907f[_0x4871f6(0x783)]['String']}};return _0x14a774['trace']({'jobType':_0x4478c1[_0x4871f6(0x3fd)],'type':_0x491470['LoadSkillFunction'],'jobId':_0xcdeeda,'agentId':_0x4eaea6,'threadId':_0x584282,'traceLevel':_0x3a949c[_0x4871f6(0x654)],'startTime':Date[_0x4871f6(0x1f3)](),'timestamp':Date['now'](),'status':_0x4871f6(0x9cb),'function':_0x1e3201[_0x4871f6(0x4c2)],'params':_0x4a80c3,'functionDescription':_0x40c854}),{'description':_0x40c854,'params':_0x4a80c3,'callback':async _0x12841c=>{const _0x165b58=_0x4871f6,_0x10de1f=Date[_0x165b58(0x1f3)]();try{if(_0x3421cd&&(await _0xdf6e0c[_0x165b58(0xa2b)](0x1),_0x3421cd['emit']({'output':_0x165b58(0x7cb)+_0x12841c?.['query']+'`\x0a\x0a','type':_0x165b58(0x81e)})),!_0x47b021[_0x165b58(0x402)])throw new Error(_0x165b58(0x3df));if(_0x165b58(0x4e9)!=typeof _0x12841c?.[_0x165b58(0x63f)])throw new Error(_0x165b58(0x492));const _0x1972f6=await _0x47b021[_0x165b58(0x402)][_0x165b58(0x9f0)](_0x12841c[_0x165b58(0x63f)],_0x336cec);return _0x14a774[_0x165b58(0x850)]({'jobType':_0x4478c1[_0x165b58(0x38e)],'type':_0x1e3201[_0x165b58(0x4c2)],'jobId':_0xcdeeda,'agentId':_0x4eaea6,'threadId':_0x584282,'blockId':_0x3e3968,'traceLevel':_0x3a949c['Info'],'startTime':_0x10de1f,'timestamp':Date[_0x165b58(0x1f3)](),'status':_0x165b58(0x9cb),'query':_0x12841c[_0x165b58(0x63f)],'results':_0x1972f6}),_0x1972f6;}catch(_0x2b12b9){return console[_0x165b58(0x883)](_0x2b12b9),_0x14a774[_0x165b58(0x850)]({'jobType':_0x4478c1[_0x165b58(0x38e)],'type':_0x1e3201['SearchPerplexity'],'jobId':_0xcdeeda,'blockId':_0x3e3968,'traceLevel':_0x3a949c['Info'],'startTime':_0x10de1f,'timestamp':Date[_0x165b58(0x1f3)](),'status':'error','errorDetails':_0xf7e521(_0x2b12b9),'agentId':_0x4eaea6,'threadId':_0x584282,'query':_0x12841c?.[_0x165b58(0x63f)]??'','results':'Error\x20searching'}),_0x2b12b9 instanceof Error?_0x2b12b9['message']:_0x165b58(0x558);}}};}(_0x41f193,_0x5537a7,_0x504cfd[_0xc9dbaf(0x46c)],_0x834833['id'],_0x39b3e1[_0xc9dbaf(0x727)],_0x39b3e1,_0x1bb001);case _0x4e856e[_0xc9dbaf(0xa4a)]:return function(_0xba666e,_0x1494fa,_0x5ccdd3,_0x2208dc,_0xacfd13){const _0x15a4b7=_0xc9dbaf,_0x67d9ad=_0x15a4b7(0x23d),_0x276aee={'code':{'type':_0xb0907f[_0x15a4b7(0x783)][_0x15a4b7(0x33c)]}};return _0x14a774['trace']({'jobType':_0x4478c1[_0x15a4b7(0x3fd)],'type':_0x491470[_0x15a4b7(0x170)],'jobId':_0xba666e,'agentId':_0x1494fa,'threadId':_0x5ccdd3,'traceLevel':_0x3a949c[_0x15a4b7(0x654)],'startTime':Date['now'](),'timestamp':Date['now'](),'status':'success','function':_0x1e3201[_0x15a4b7(0x740)],'params':_0x276aee,'functionDescription':_0x67d9ad}),{'description':_0x67d9ad,'params':_0x276aee,'callback':async _0x3fbe34=>{const _0x43cdbc=_0x15a4b7,_0x3a6ad8=Date[_0x43cdbc(0x1f3)]();try{if(_0xacfd13&&(await _0xdf6e0c[_0x43cdbc(0xa2b)](0x1),_0xacfd13[_0x43cdbc(0x791)]({'output':_0x43cdbc(0x322),'type':_0x43cdbc(0x81e)})),_0x43cdbc(0x4e9)!=typeof _0x3fbe34?.[_0x43cdbc(0x17a)])throw new Error(_0x43cdbc(0x6d7));const _0x50e418=Function(''+_0x3fbe34?.[_0x43cdbc(0x17a)])();let _0x5aaabb='';try{_0x5aaabb=JSON[_0x43cdbc(0x656)](_0x50e418);}catch{_0x5aaabb=_0x50e418[_0x43cdbc(0xe5)]();}return _0x14a774['trace']({'jobType':_0x4478c1[_0x43cdbc(0x38e)],'type':_0x1e3201[_0x43cdbc(0x740)],'agentId':_0x1494fa,'threadId':_0x5ccdd3,'jobId':_0xba666e,'blockId':_0x2208dc,'traceLevel':_0x3a949c[_0x43cdbc(0x654)],'startTime':_0x3a6ad8,'timestamp':Date['now'](),'status':_0x43cdbc(0x9cb),'code':_0x3fbe34['code'],'result':_0x5aaabb}),_0x50e418;}catch(_0x19ea30){return console[_0x43cdbc(0x883)](_0x19ea30),_0x14a774[_0x43cdbc(0x850)]({'jobType':_0x4478c1[_0x43cdbc(0x38e)],'type':_0x1e3201[_0x43cdbc(0x740)],'jobId':_0xba666e,'blockId':_0x2208dc,'traceLevel':_0x3a949c[_0x43cdbc(0x654)],'startTime':_0x3a6ad8,'timestamp':Date['now'](),'status':_0x43cdbc(0x883),'errorDetails':_0xf7e521(_0x19ea30),'agentId':_0x1494fa,'threadId':_0x5ccdd3,'code':_0x3fbe34?.['code']??'','result':'Error\x20executing\x20code'}),_0x19ea30 instanceof Error?_0x19ea30[_0x43cdbc(0x802)]:_0x43cdbc(0x2ee);}}};}(_0x41f193,_0x5537a7,_0x504cfd[_0xc9dbaf(0x46c)],_0x834833['id'],_0x1bb001);case _0x4e856e[_0xc9dbaf(0x5a9)]:return async function(_0x2c3b97,_0x4e5d9a,_0x5d4914,_0xa7ea4c,_0x2475cc,_0x36ffa0,_0x35e768,_0x572ed1){const _0x432e3c=_0xc9dbaf;if(!_0x2475cc[_0x432e3c(0x179)]?.[_0x432e3c(0x59c)]||0x0===_0x2475cc[_0x432e3c(0x179)][_0x432e3c(0x59c)]['length'])throw new Error('No\x20files\x20found');if(_0x2475cc[_0x432e3c(0x179)][_0x432e3c(0x59c)][_0x432e3c(0x71c)]>0x1)throw new Error(_0x432e3c(0x78c));const _0x17f7fc=[',',';','\x09','|',':'],_0x157da7=['\x22','\x27'],_0x328bc7=await _0x2475cc['accumulated']['files'][0x0]['text'](),_0x4ab967=_0x328bc7[_0x432e3c(0x7c6)]('\x0a')[0x0];let _0x323d87=null,_0x53b814=null,_0x2b4bda=0x0;for(const _0xf881fa of _0x17f7fc){const _0x331dd1=(_0x4ab967[_0x432e3c(0x7ab)](new RegExp('\x5c'+_0xf881fa,'g'))||[])[_0x432e3c(0x71c)];_0x331dd1>_0x2b4bda&&(_0x2b4bda=_0x331dd1,_0x323d87=_0xf881fa);}_0x323d87||(_0x323d87=','),_0x2b4bda=0x0;for(const _0xf74256 of _0x157da7){const _0x48608b=(_0x4ab967[_0x432e3c(0x7ab)](new RegExp('\x5c'+_0xf74256,'g'))||[])['length'];_0x48608b>_0x2b4bda&&(_0x2b4bda=_0x48608b,_0x53b814=_0xf74256);}_0x53b814||(_0x53b814='\x22');const _0x18e0e7=_0x432e3c(0x3ae)+_0x4ab967[_0x432e3c(0x7c6)](_0x323d87)[_0x432e3c(0x7f4)](',\x20'),_0xab4ac={'query':{'type':_0xb0907f[_0x432e3c(0x783)][_0x432e3c(0x33c)]}};return _0x14a774[_0x432e3c(0x850)]({'jobType':_0x4478c1[_0x432e3c(0x3fd)],'type':_0x491470[_0x432e3c(0x170)],'jobId':_0x2c3b97,'agentId':_0x4e5d9a,'threadId':_0x5d4914[_0x432e3c(0x46c)],'traceLevel':_0x3a949c[_0x432e3c(0x654)],'startTime':Date[_0x432e3c(0x1f3)](),'timestamp':Date['now'](),'status':_0x432e3c(0x9cb),'function':_0x1e3201['QueryFile'],'params':_0xab4ac,'functionDescription':_0x18e0e7}),{'description':_0x18e0e7,'params':_0xab4ac,'callback':async _0x1ed41d=>{const _0x553317=_0x432e3c,_0x5c6935=Date[_0x553317(0x1f3)]();try{if(_0x572ed1&&(await _0xdf6e0c[_0x553317(0xa2b)](0x1),_0x572ed1[_0x553317(0x791)]({'output':'\x0a\x0a`Executing\x20query`\x0a\x0a','type':_0x553317(0x81e)})),!_0x35e768[_0x553317(0xa21)])throw new Error(_0x553317(0x866));if(_0x553317(0x4e9)!=typeof _0x1ed41d?.['query'])throw new Error(_0x553317(0x492));if(!_0x1ed41d[_0x553317(0x63f)]['includes'](_0x553317(0x697)))throw new Error('Query\x20must\x20refer\x20to\x20the\x20file\x20table');const _0x4f1391=await _0x35e768[_0x553317(0xa21)]['executeQuery'](_0x328bc7,_0x1ed41d[_0x553317(0x63f)],{'headers':!0x0,'quote':_0x53b814,'separator':_0x323d87});if(_0x14a774[_0x553317(0x850)]({'jobType':_0x4478c1[_0x553317(0x38e)],'type':_0x1e3201[_0x553317(0x5a9)],'jobId':_0x2c3b97,'agentId':_0x4e5d9a,'threadId':_0x5d4914[_0x553317(0x46c)],'blockId':_0x2475cc['id'],'traceLevel':_0x3a949c[_0x553317(0x654)],'startTime':_0x5c6935,'timestamp':Date[_0x553317(0x1f3)](),'status':_0x553317(0x9cb),'query':_0x1ed41d[_0x553317(0x63f)],'results':_0x4f1391['substring'](0x0,0x3e8)}),_0x2475cc[_0x553317(0x64e)]?.['some'](_0x26454c=>_0x26454c['type']===_0x3f481['File'])){const _0x18eebe=JSON[_0x553317(0x7cd)](_0x4f1391);let _0x329b67='';if(_0x18eebe['length']>0x0){const _0x2e0fa9=Object['keys'](_0x18eebe[0x0]);_0x329b67=_0x2e0fa9['map'](_0x4c6b70=>'\x22'+_0x4c6b70+'\x22')[_0x553317(0x7f4)](',')+'\x0a';for(const _0x5d2975 of _0x18eebe)_0x329b67+=_0x2e0fa9[_0x553317(0x7d0)](_0x5abd33=>'\x22'+_0x5d2975[_0x5abd33]+'\x22')[_0x553317(0x7f4)](',')+'\x0a';}const _0x517df9=new File([_0x329b67],_0x553317(0x313),{'type':_0x553317(0x43a)});await _0x1f0805(_0x2c3b97,[_0x517df9],_0x5d4914,_0xa7ea4c,_0x2475cc,_0x36ffa0,_0x35e768,_0x572ed1);}return _0x4f1391[_0x553317(0x187)](0x0,0x3e8);}catch(_0x568680){return console['error'](_0x568680),_0x14a774[_0x553317(0x850)]({'jobType':_0x4478c1[_0x553317(0x38e)],'type':_0x1e3201[_0x553317(0x5a9)],'jobId':_0x2c3b97,'blockId':_0x2475cc['id'],'traceLevel':_0x3a949c[_0x553317(0x654)],'startTime':_0x5c6935,'timestamp':Date[_0x553317(0x1f3)](),'status':_0x553317(0x883),'errorDetails':_0xf7e521(_0x568680),'agentId':_0x4e5d9a,'threadId':_0x5d4914[_0x553317(0x46c)],'query':_0x1ed41d?.[_0x553317(0x63f)]??'','results':'Error\x20searching'}),_0x568680 instanceof Error?_0x568680[_0x553317(0x802)]:_0x553317(0x545);}}};}(_0x41f193,_0x5537a7,_0x504cfd,_0x3efc88,_0x834833,_0x4d1e62,_0x39b3e1,_0x1bb001);case _0x4e856e[_0xc9dbaf(0x755)]:return function(_0x11e95c,_0x40bd0e,_0x4302d2,_0x1636c4,_0x23ff83,_0x4015f2,_0x68833c){const _0xd47b34=_0xc9dbaf,_0x5045e6=_0xd47b34(0x96f),_0xc44a9d={'query':{'type':_0xb0907f['PromptFunctionParamsType'][_0xd47b34(0x33c)]}};return _0x14a774[_0xd47b34(0x850)]({'jobType':_0x4478c1['JobContext'],'type':_0x491470[_0xd47b34(0x170)],'jobId':_0x11e95c,'agentId':_0x40bd0e,'threadId':_0x4302d2,'traceLevel':_0x3a949c['Info'],'startTime':Date[_0xd47b34(0x1f3)](),'timestamp':Date['now'](),'status':_0xd47b34(0x9cb),'function':_0x1e3201[_0xd47b34(0x4b4)],'params':_0xc44a9d,'functionDescription':_0x5045e6}),{'description':_0x5045e6,'params':_0xc44a9d,'callback':async _0x19912f=>{const _0x50ab4e=_0xd47b34,_0x16dbef=Date['now']();try{if(_0x68833c&&(await _0xdf6e0c['wait'](0x1),_0x68833c[_0x50ab4e(0x791)]({'output':'\x0a\x0a`Searching\x20on\x20Google\x20for\x20'+_0x19912f?.[_0x50ab4e(0x63f)]+_0x50ab4e(0xa15),'type':_0x50ab4e(0x81e)})),!_0x4015f2[_0x50ab4e(0x686)])throw new Error(_0x50ab4e(0x5e6));if(_0x50ab4e(0x4e9)!=typeof _0x19912f?.['query'])throw new Error(_0x50ab4e(0x492));const _0x1c31ab=await _0x4015f2[_0x50ab4e(0x686)][_0x50ab4e(0x9f0)](_0x19912f[_0x50ab4e(0x63f)],_0x23ff83,_0x4f7736[_0x50ab4e(0x8cf)][_0x50ab4e(0x685)]);let _0x426dd9='';for(const _0x380c69 of _0x1c31ab)_0x426dd9+=_0x380c69['title']+'\x20-\x20'+_0x380c69['url']+'\x0a'+_0x380c69['snippet']+'\x0a\x0a';return _0x14a774[_0x50ab4e(0x850)]({'jobType':_0x4478c1[_0x50ab4e(0x38e)],'type':_0x1e3201['SearchGoogle'],'jobId':_0x11e95c,'agentId':_0x40bd0e,'threadId':_0x4302d2,'blockId':_0x1636c4,'traceLevel':_0x3a949c[_0x50ab4e(0x654)],'startTime':_0x16dbef,'timestamp':Date['now'](),'status':_0x50ab4e(0x9cb),'query':_0x19912f[_0x50ab4e(0x63f)],'results':_0x426dd9}),_0x426dd9;}catch(_0x3a9fcc){return console['error'](_0x3a9fcc),_0x14a774[_0x50ab4e(0x850)]({'jobType':_0x4478c1['Skill'],'type':_0x1e3201[_0x50ab4e(0x4b4)],'jobId':_0x11e95c,'blockId':_0x1636c4,'traceLevel':_0x3a949c[_0x50ab4e(0x654)],'startTime':_0x16dbef,'timestamp':Date[_0x50ab4e(0x1f3)](),'status':'error','errorDetails':_0xf7e521(_0x3a9fcc),'agentId':_0x40bd0e,'threadId':_0x4302d2,'query':_0x19912f?.[_0x50ab4e(0x63f)]??'','results':_0x50ab4e(0x558)}),_0x3a9fcc instanceof Error?_0x3a9fcc['message']:_0x50ab4e(0x558);}}};}(_0x41f193,_0x5537a7,_0x504cfd['threadId'],_0x834833['id'],_0x39b3e1[_0xc9dbaf(0x35a)],_0x39b3e1,_0x1bb001);case _0x4e856e[_0xc9dbaf(0x247)]:return _0x20da02(_0x41f193,_0x5537a7,_0x504cfd[_0xc9dbaf(0x46c)],_0x834833['id'],_0x1bb001);case _0x4e856e[_0xc9dbaf(0x83a)]:return _0x20da02(_0x41f193,_0x5537a7,_0x504cfd[_0xc9dbaf(0x46c)],_0x834833['id'],_0x1bb001,!0x1);case _0x4e856e[_0xc9dbaf(0x9bb)]:return async function(_0x20c212,_0x50b4d5,_0x410c45,_0x332cb8,_0x1c4e5f,_0x411a7f,_0x75f43a,_0x4624c4){const _0x285003=_0xc9dbaf,_0x67bc4e=_0x285003(0x671),_0x592838={'text':{'type':_0xb0907f[_0x285003(0x783)][_0x285003(0x33c)]}};return _0x14a774[_0x285003(0x850)]({'jobType':_0x4478c1[_0x285003(0x3fd)],'type':_0x491470[_0x285003(0x170)],'jobId':_0x20c212,'agentId':_0x50b4d5,'threadId':_0x410c45[_0x285003(0x46c)],'traceLevel':_0x3a949c[_0x285003(0x654)],'startTime':Date[_0x285003(0x1f3)](),'timestamp':Date[_0x285003(0x1f3)](),'status':_0x285003(0x9cb),'function':_0x1e3201[_0x285003(0x9bb)],'params':_0x592838,'functionDescription':_0x67bc4e}),{'description':_0x67bc4e,'params':_0x592838,'callback':async _0x227d11=>{const _0x321b8b=_0x285003,_0x36582d=Date[_0x321b8b(0x1f3)]();try{if(_0x4624c4&&(await _0xdf6e0c['wait'](0x1),_0x4624c4[_0x321b8b(0x791)]({'output':_0x321b8b(0x33b),'type':_0x321b8b(0x81e)})),_0x321b8b(0x4e9)!=typeof _0x227d11?.['text'])throw new Error(_0x321b8b(0x938));if(_0x14a774[_0x321b8b(0x850)]({'jobType':_0x4478c1[_0x321b8b(0x38e)],'type':_0x1e3201[_0x321b8b(0x9bb)],'jobId':_0x20c212,'agentId':_0x50b4d5,'threadId':_0x410c45['threadId'],'blockId':_0x1c4e5f['id'],'traceLevel':_0x3a949c[_0x321b8b(0x654)],'startTime':_0x36582d,'timestamp':Date[_0x321b8b(0x1f3)](),'status':_0x321b8b(0x9cb),'content':_0x227d11['text']}),_0x1c4e5f['links']?.['some'](_0x537979=>_0x537979['type']===_0x3f481[_0x321b8b(0x372)])){const _0x5d4aa9=new File([_0x227d11['text']],_0x321b8b(0x9d8),{'type':_0x321b8b(0x50d)});await _0x1f0805(_0x20c212,[_0x5d4aa9],_0x410c45,_0x332cb8,_0x1c4e5f,_0x411a7f,_0x75f43a,_0x4624c4);}return _0x321b8b(0x6b4);}catch(_0x31b9ae){return console['error'](_0x31b9ae),_0x14a774[_0x321b8b(0x850)]({'jobType':_0x4478c1[_0x321b8b(0x38e)],'type':_0x1e3201[_0x321b8b(0x9bb)],'jobId':_0x20c212,'blockId':_0x1c4e5f['id'],'traceLevel':_0x3a949c[_0x321b8b(0x654)],'startTime':_0x36582d,'timestamp':Date[_0x321b8b(0x1f3)](),'status':_0x321b8b(0x883),'errorDetails':_0xf7e521(_0x31b9ae),'agentId':_0x50b4d5,'threadId':_0x410c45[_0x321b8b(0x46c)],'content':_0x321b8b(0x4e9)==typeof _0x227d11?.['text']?_0x227d11[_0x321b8b(0x55d)]:''}),_0x31b9ae instanceof Error?_0x31b9ae['message']:_0x321b8b(0x545);}}};}(_0x41f193,_0x5537a7,_0x504cfd,_0x3efc88,_0x834833,_0x4d1e62,_0x39b3e1,_0x1bb001);}throw new Error(_0xc9dbaf(0x956));}function _0xf7e521(_0x116f53){const _0x36dcf6=_0x1af94f;try{return JSON[_0x36dcf6(0x656)](_0x116f53);}catch(_0x566954){return _0x116f53 instanceof Error?_0x116f53[_0x36dcf6(0xe5)]():_0x36dcf6(0x127);}}async function _0x11ee4a(_0x422ab3,_0xb7d44b,_0x5259be,_0x30dcbe,_0xdc5eb6,_0x456bf9,_0x223d3b,_0xb187d1,_0x2a687b){const _0x5f21de=_0x1af94f;if(_0x456bf9[_0x5f21de(0x179)]||(_0x456bf9[_0x5f21de(0x179)]={}),_0xb7d44b===_0x3f481['Text']&&'string'==typeof _0x5259be&&(_0x456bf9[_0x5f21de(0x179)][_0x5f21de(0x81e)]=_0x5259be),_0x456bf9[_0x5f21de(0x680)]=_0x456bf9['timesCalled']?_0x456bf9[_0x5f21de(0x680)]+0x1:0x1,_0x276912(_0x456bf9,_0x223d3b)>_0x456bf9['timesCalled'])return;if(_0x5999e0[_0x5f21de(0xfd)](_0x5f21de(0x928)+_0x456bf9['name'],_0x456bf9['timesCalled']),!_0x456bf9[_0x5f21de(0x179)][_0x5f21de(0x81e)])throw new Error('Agent\x20block\x20is\x20missing\x20required\x20data:\x20'+_0x456bf9[_0x5f21de(0x450)]);const _0x4f9028=_0xb187d1[_0x5f21de(0x153)]['find'](_0xd3b993=>_0xd3b993['id']===_0x456bf9[_0x5f21de(0x582)]);if(!_0x4f9028)throw new Error(_0x5f21de(0x67c));if(!_0xb187d1[_0x5f21de(0x2f7)][_0x5f21de(0x7ef)](_0x49e541=>_0x49e541['getEngineType']()===_0x4f9028[_0x5f21de(0x970)]))throw new Error(_0x5f21de(0xa39));_0x2a687b&&_0x2a687b[_0x5f21de(0x791)]({'output':'\x0a\x0a`Executing\x20agent\x20'+_0x456bf9[_0x5f21de(0x450)]+_0x5f21de(0xa15),'type':'prompt'});const _0xf28033=Date['now'](),_0x32830f=(0x0,_0x2a820b['v4'])(),_0x318a8c=_0x2a687b?await async function(_0x3d071a,_0xba7ab5,_0x511c87,_0x2df401,_0x5cee08,_0x2fc9dc,_0x506ac1,_0x388134){const _0x21eebc=_0x5f21de,_0x46cbcd=_0x388134[_0x21eebc(0x153)][_0x21eebc(0x7ef)](_0x24003c=>_0x24003c['id']===_0x5cee08[_0x21eebc(0x582)]);if(!_0x46cbcd)throw new Error(_0x21eebc(0x67c));const _0x181a34=_0x388134[_0x21eebc(0x2f7)][_0x21eebc(0x7ef)](_0x194e7d=>_0x194e7d[_0x21eebc(0x987)]()===_0x46cbcd[_0x21eebc(0x970)]);if(!_0x181a34)throw new Error('No\x20connector\x20found\x20for\x20model');if(!_0x5cee08[_0x21eebc(0x179)]||!_0x5cee08['accumulated'][_0x21eebc(0x81e)])throw new Error('Agent\x20block\x20is\x20missing\x20required\x20data');const _0x52bdba={'type':'prompt','output':''},_0x2b1375=await _0x3bca4f(_0x3d071a,_0xba7ab5,_0x511c87,_0x2df401,_0x5cee08,_0x2fc9dc,_0x388134);for await(const _0x4c7469 of _0x181a34['processJobStream']({'type':_0x511c87[_0x21eebc(0x44f)],'prompt':_0x329587(_0x5cee08[_0x21eebc(0x179)][_0x21eebc(0x81e)],_0x5cee08),'instructions':_0x8aede8(_0x511c87['instructions']??'',_0x5cee08,_0x46cbcd),'grammar':_0x5cee08[_0x21eebc(0x75d)],'temperature':_0x5cee08[_0x21eebc(0x5f4)],'maxTokens':_0x5cee08[_0x21eebc(0x147)],'history':_0x511c87['history'],'functions':_0x2b1375,'threadId':_0x511c87['threadId']},{'model':_0x46cbcd,'sequences':Array[_0x21eebc(0x13b)](_0x2b1375['keys']())[_0x21eebc(0xa33)](_0x416ab6=>_0x416ab6[_0x21eebc(0x4f2)](_0x21eebc(0x507)))?0x2:0x1}))_0x5cee08[_0x21eebc(0x64e)]&&_0x5cee08[_0x21eebc(0x64e)][_0x21eebc(0xa33)](_0x4a70b1=>{const _0x567150=_0x21eebc,_0xed3abe=_0x2fc9dc['find'](_0x2bf6a1=>_0x2bf6a1[_0x567150(0x34d)]===_0x4a70b1['uid']);return!!_0xed3abe&&_0x4a70b1[_0x567150(0x44f)]===_0x3f481[_0x567150(0x721)]&&_0xed3abe[_0x567150(0x44f)]===_0x4e856e[_0x567150(0x73c)];})&&_0x506ac1[_0x21eebc(0x791)](_0x4c7469),_0x21eebc(0x4e9)==typeof _0x52bdba[_0x21eebc(0x2cc)]&&_0x21eebc(0x4e9)==typeof _0x4c7469['output']&&(_0x52bdba[_0x21eebc(0x2cc)]+=_0x4c7469['output']),_0x52bdba[_0x21eebc(0x2d0)]=_0x4c7469[_0x21eebc(0x2d0)],_0x52bdba['outputTokens']=_0x4c7469[_0x21eebc(0x61d)];return _0x52bdba;}(_0x422ab3,_0x32830f,_0x30dcbe,_0xdc5eb6,_0x456bf9,_0x223d3b,_0x2a687b,_0xb187d1):await async function(_0xee80dd,_0x5cc4ad,_0x1bdb21,_0x324ce3,_0x3d36fd,_0x27825,_0x34e614){const _0xa4b1d0=_0x5f21de,_0x5d71fa=_0x34e614['models'][_0xa4b1d0(0x7ef)](_0x2c1fce=>_0x2c1fce['id']===_0x3d36fd[_0xa4b1d0(0x582)]);if(!_0x5d71fa)throw new Error('Model\x20not\x20found');const _0x42c81a=_0x34e614['generativeAIWorkerConnectors'][_0xa4b1d0(0x7ef)](_0x5a28d1=>_0x5a28d1[_0xa4b1d0(0x987)]()===_0x5d71fa[_0xa4b1d0(0x970)]);if(!_0x42c81a)throw new Error(_0xa4b1d0(0xa39));if(!_0x3d36fd[_0xa4b1d0(0x179)]||!_0x3d36fd[_0xa4b1d0(0x179)][_0xa4b1d0(0x81e)])throw new Error(_0xa4b1d0(0x869));const _0x1aab83=await _0x3bca4f(_0xee80dd,_0x5cc4ad,_0x1bdb21,_0x324ce3,_0x3d36fd,_0x27825,_0x34e614);return _0x42c81a[_0xa4b1d0(0x812)]({'type':_0xa4b1d0(0x81e),'prompt':_0x329587(_0x3d36fd[_0xa4b1d0(0x179)][_0xa4b1d0(0x81e)],_0x3d36fd),'instructions':_0x8aede8(_0x1bdb21[_0xa4b1d0(0x5d0)]??'',_0x3d36fd,_0x5d71fa),'grammar':_0x3d36fd[_0xa4b1d0(0x75d)],'temperature':_0x3d36fd[_0xa4b1d0(0x5f4)],'maxTokens':_0x3d36fd[_0xa4b1d0(0x147)],'history':_0x1bdb21[_0xa4b1d0(0x2ce)],'functions':_0x1aab83,'threadId':_0x1bdb21[_0xa4b1d0(0x46c)]},{'model':_0x5d71fa,'sequences':Array[_0xa4b1d0(0x13b)](_0x1aab83['keys']())['some'](_0x370b70=>_0x370b70[_0xa4b1d0(0x4f2)](_0xa4b1d0(0x507)))?0x2:0x1});}(_0x422ab3,_0x32830f,_0x30dcbe,_0xdc5eb6,_0x456bf9,_0x223d3b,_0xb187d1);if('string'!=typeof _0x318a8c['output'])throw new Error(_0x5f21de(0x667));_0xdc5eb6['inputTokens']+=_0x318a8c['inputTokens']??0x0,_0xdc5eb6[_0x5f21de(0x61d)]+=_0x318a8c[_0x5f21de(0x61d)]??0x0,_0x2a687b||(_0xdc5eb6[_0x5f21de(0x2cc)]=_0x318a8c['output']),_0x14a774[_0x5f21de(0x850)]({'jobType':_0x4478c1['Workflow'],'type':_0x3100d0[_0x5f21de(0x2b2)],'jobId':_0x422ab3,'agentId':_0x32830f,'threadId':_0x30dcbe[_0x5f21de(0x46c)],'traceLevel':_0x3a949c['Info'],'startTime':_0xf28033,'timestamp':Date['now'](),'blockId':_0x456bf9['id'],'status':'success','output':_0x318a8c[_0x5f21de(0x2cc)],'prompt':_0x456bf9[_0x5f21de(0x179)][_0x5f21de(0x81e)],'agentName':_0x456bf9[_0x5f21de(0x450)],'history':[],'instructions':''+_0x456bf9[_0x5f21de(0x5d0)]+(_0x30dcbe[_0x5f21de(0x5d0)]??''),'ragContext':_0x318a8c['context']??[],'inputTokens':_0x318a8c[_0x5f21de(0x2d0)]??0x0,'outputTokens':_0x318a8c[_0x5f21de(0x61d)]??0x0}),_0x18838f(_0x318a8c['output'],_0x456bf9,_0x223d3b),await _0x1f0805(_0x422ab3,_0x318a8c[_0x5f21de(0x2cc)],_0x30dcbe,_0xdc5eb6,_0x456bf9,_0x223d3b,_0xb187d1,_0x2a687b);}function _0x329587(_0x25ed23,_0x19d3e1){const _0x5c2b5c=_0x1af94f;if(!_0x19d3e1[_0x5c2b5c(0x179)]||!_0x19d3e1['accumulated'][_0x5c2b5c(0x88f)])return _0x25ed23;if(_0x19d3e1['accumulated'][_0x5c2b5c(0x88f)])for(const _0x2d3d06 of Object[_0x5c2b5c(0x7a3)](_0x19d3e1[_0x5c2b5c(0x179)]['context'])){const _0x59e75b=_0x19d3e1['accumulated']['context'][_0x2d3d06];_0x25ed23=_0x59e75b instanceof Array?'Given\x20search\x20results\x20for\x20'+_0x2d3d06+_0x5c2b5c(0x87f)+_0x59e75b[_0x5c2b5c(0x7d0)](_0x543f9c=>_0x5c2b5c(0x357)+_0x543f9c[_0x5c2b5c(0x65b)]+':\x20'+_0x543f9c[_0x5c2b5c(0x3fe)])[_0x5c2b5c(0x7f4)]('\x0a\x0a')+'\x0a\x0a'+_0x25ed23:_0x5c2b5c(0xa46)+_0x2d3d06+':\x20'+_0x59e75b+'\x0a\x0a'+_0x25ed23;}return _0x25ed23;}function _0x8aede8(_0x5adec1,_0x125df0,_0x43222f){const _0x40f57e=_0x1af94f;let _0x3550a6='';return _0x43222f[_0x40f57e(0x86c)]&&''!==_0x43222f[_0x40f57e(0x86c)]&&(_0x3550a6='Knowledge\x20Cutoff\x20Date:\x20'+_0x43222f[_0x40f57e(0x86c)]+'\x0a\x0a'),_0x3550a6=_0x3550a6+_0x40f57e(0x92b)+new Date()[_0x40f57e(0x510)](void 0x0,{'weekday':_0x40f57e(0x452),'year':_0x40f57e(0x210),'month':_0x40f57e(0x452),'day':'numeric'})+'\x0a\x0a',''+_0x3550a6+_0x125df0['instructions']+_0x5adec1;}function _0x533192(_0x5f5d77,_0x3c25e6,_0x37f227){const _0x45f0eb=_0x1af94f;_0x37f227[_0x45f0eb(0x179)]||(_0x37f227[_0x45f0eb(0x179)]={}),_0x37f227['accumulated'][_0x45f0eb(0x88f)]||(_0x37f227[_0x45f0eb(0x179)]['context']={});const _0x10127f=_0x37f227[_0x45f0eb(0x40f)]?.[_0x45f0eb(0x7c6)](',');_0x10127f&&_0x10127f[_0x45f0eb(0x1ed)](_0x5f5d77)&&(_0x37f227[_0x45f0eb(0x179)][_0x45f0eb(0x88f)][_0x5f5d77]=_0x3c25e6);}function _0x5aa6dd(_0x106b54,_0x507384,_0x3ec1c1,_0x475884){const _0x18de01=_0x1af94f;_0x106b54!==_0x3f481[_0x18de01(0x354)]&&_0x106b54!==_0x3f481[_0x18de01(0x372)]||(_0x475884['accumulated']||(_0x475884[_0x18de01(0x179)]={}),_0x18de01(0x4e9)==typeof _0x3ec1c1?(_0x475884[_0x18de01(0x179)][_0x18de01(0x88f)]||(_0x475884[_0x18de01(0x179)][_0x18de01(0x88f)]={}),_0x475884[_0x18de01(0x179)]['context'][_0x507384]=_0x3ec1c1):_0x475884[_0x18de01(0x179)][_0x18de01(0x5dc)]=_0x3ec1c1);}async function _0x17ce5c(_0x599347,_0x3ca005,_0x1cdb42,_0x5b4085,_0x1f3297,_0x528bed,_0x5d18ed,_0x28087b){const _0x4be4ab=function(_0x579b84,_0x30b798){const _0x4b096a=a0_0xaf41,_0x1c6635=[];for(let _0x285ce5=0x0;_0x285ce5<_0x579b84[_0x4b096a(0x71c)];_0x285ce5+=_0x30b798['attributes'][_0x4b096a(0xa20)]){let _0x4d0df0=_0x285ce5-_0x30b798[_0x4b096a(0x714)][_0x4b096a(0x1ae)];_0x4d0df0<0x0&&(_0x4d0df0=0x0);let _0x21634d=_0x285ce5+_0x30b798['attributes'][_0x4b096a(0xa20)]+_0x30b798[_0x4b096a(0x714)][_0x4b096a(0x1ae)];_0x21634d>_0x579b84[_0x4b096a(0x71c)]&&(_0x21634d=_0x579b84[_0x4b096a(0x71c)]),length||(length=_0x285ce5+_0x30b798['attributes'][_0x4b096a(0xa20)],length>_0x579b84[_0x4b096a(0x71c)]&&(length=_0x579b84[_0x4b096a(0x71c)])),_0x1c6635[_0x4b096a(0x3d6)](_0x579b84[_0x4b096a(0x187)](_0x4d0df0,_0x21634d));}return _0x1c6635;}(_0x3ca005,_0x1f3297);await _0x1f0805(_0x599347,_0x4be4ab,_0x1cdb42,_0x5b4085,_0x1f3297,_0x528bed,_0x5d18ed,_0x28087b);}function _0x4c60ef(_0x4fe3bd,_0x391ce6,_0x32fa3a){const _0x35e5d2=_0x1af94f;_0x32fa3a[_0x35e5d2(0x179)]||(_0x32fa3a[_0x35e5d2(0x179)]={}),_0x32fa3a['accumulated'][_0x35e5d2(0x88f)]||(_0x32fa3a[_0x35e5d2(0x179)][_0x35e5d2(0x88f)]={}),_0x32fa3a['accumulated'][_0x35e5d2(0x88f)][_0x4fe3bd]=_0x391ce6;}async function _0x2bca65(_0x2c7607,_0x23623a,_0x389348,_0x3b26a9,_0x1702ee,_0x14321a,_0x4a98bd,_0x554bdb){const _0x4cd8cc=_0x1af94f;if(_0x1702ee[_0x4cd8cc(0x179)]||(_0x1702ee['accumulated']={}),_0x1702ee['accumulated'][_0x4cd8cc(0x9d7)]||(_0x1702ee[_0x4cd8cc(0x179)][_0x4cd8cc(0x9d7)]=[]),_0x23623a instanceof Array?_0x1702ee[_0x4cd8cc(0x179)][_0x4cd8cc(0x9d7)][_0x4cd8cc(0x3d6)](..._0x23623a):_0x1702ee[_0x4cd8cc(0x179)][_0x4cd8cc(0x9d7)][_0x4cd8cc(0x3d6)](_0x23623a),_0x1702ee[_0x4cd8cc(0x680)]=_0x1702ee[_0x4cd8cc(0x680)]?_0x1702ee[_0x4cd8cc(0x680)]+0x1:0x1,_0x276912(_0x1702ee,_0x14321a)>_0x1702ee[_0x4cd8cc(0x680)])return;if(0x0===_0x1702ee[_0x4cd8cc(0x179)][_0x4cd8cc(0x9d7)][_0x4cd8cc(0x71c)])throw new Error(_0x4cd8cc(0x458));let _0x378f02=[];const _0x55f7da=Date[_0x4cd8cc(0x1f3)]();try{let _0x4db1b9=0x0,_0xa5ddb6=0x0;for(const _0x592e20 of _0x1702ee['accumulated'][_0x4cd8cc(0x9d7)]){const _0x2dd892=_0x1702ee[_0x4cd8cc(0x47a)]['find'](_0x4e98f9=>_0x4e98f9[_0x4cd8cc(0x44f)]===_0x4bf4d9[_0x4cd8cc(0x717)]),_0x5093f8=await _0x4741ae(_0x2c7607,_0x389348[_0x4cd8cc(0x46c)],_0x592e20,_0x2dd892,_0x1702ee['retrieveBlocks'],_0x4a98bd);_0x378f02=Array[_0x4cd8cc(0x13b)](new Set([..._0x378f02,..._0x5093f8[_0x4cd8cc(0x88f)]])),_0x4db1b9+=_0x5093f8[_0x4cd8cc(0x2d0)]??0x0,_0xa5ddb6+=_0x5093f8[_0x4cd8cc(0x61d)]??0x0;}_0x3b26a9['inputTokens']+=_0x4db1b9,_0x3b26a9[_0x4cd8cc(0x61d)]+=_0xa5ddb6,_0x3b26a9[_0x4cd8cc(0x88f)]=Array['from'](new Set([..._0x3b26a9[_0x4cd8cc(0x88f)],..._0x378f02])),_0x14a774[_0x4cd8cc(0x850)]({'jobType':_0x4478c1[_0x4cd8cc(0x86b)],'type':_0x3100d0[_0x4cd8cc(0x84d)],'jobId':_0x2c7607,'threadId':_0x389348['threadId'],'traceLevel':_0x3a949c[_0x4cd8cc(0x654)],'startTime':_0x55f7da,'timestamp':Date['now'](),'blockId':_0x1702ee['id'],'status':_0x4cd8cc(0x9cb),'queries':_0x1702ee[_0x4cd8cc(0x179)]['queries'],'context':_0x378f02,'inputTokens':_0x4db1b9,'outputTokens':_0xa5ddb6});}catch(_0x5f80d1){console['error'](_0x5f80d1),_0x14a774[_0x4cd8cc(0x850)]({'jobType':_0x4478c1['Workflow'],'type':_0x3100d0[_0x4cd8cc(0x84d)],'jobId':_0x2c7607,'threadId':_0x389348[_0x4cd8cc(0x46c)],'traceLevel':_0x3a949c[_0x4cd8cc(0x654)],'startTime':_0x55f7da,'timestamp':Date[_0x4cd8cc(0x1f3)](),'blockId':_0x1702ee['id'],'status':_0x4cd8cc(0x883),'queries':_0x1702ee[_0x4cd8cc(0x179)][_0x4cd8cc(0x9d7)],'context':[],'inputTokens':0x0,'outputTokens':0x0});}_0x18838f(_0x378f02,_0x1702ee,_0x14321a),await _0x1f0805(_0x2c7607,'',_0x389348,_0x3b26a9,_0x1702ee,_0x14321a,_0x4a98bd,_0x554bdb);}async function _0x50d6cd(_0x7228fe,_0x1e6ddb,_0x21aaee,_0x2e541e,_0x47406d,_0x286b72,_0x1f05be,_0x1d9b3b){const _0x3a2225=_0x1af94f,_0x21f063=await _0x1f05be[_0x3a2225(0x103)][_0x3a2225(0x966)](_0x1e6ddb);await _0x1f0805(_0x7228fe,_0x21f063,_0x21aaee,_0x2e541e,_0x47406d,_0x286b72,_0x1f05be,_0x1d9b3b);}async function _0x4bfc97(_0x4fda4a,_0x1a0000,_0x287923,_0x208127,_0x205ddd,_0x129471,_0x5a5a73,_0x70f895){const _0x3d0287=function(_0x11ade6,_0x2e2f5f){const _0x4e97f6=a0_0xaf41,_0x1f4371=[],_0x51744d=_0x11ade6[_0x4e97f6(0x7c6)]('\x20');let _0x1af1b8='',_0x52a511=0x0,_0xd321c8=0x0,_0x48011d=0x0;for(const _0x4f8a7b of _0x51744d){if(_0x1af1b8['length']+_0x4f8a7b[_0x4e97f6(0x71c)]>_0x2e2f5f[_0x4e97f6(0x714)][_0x4e97f6(0xa20)]){let _0x4a3b06=_0x52a511,_0x2471ef='';for(;_0x4a3b06>=0x0&&_0x2471ef[_0x4e97f6(0x71c)]+_0x51744d[_0x4a3b06][_0x4e97f6(0x71c)]<_0x2e2f5f[_0x4e97f6(0x714)][_0x4e97f6(0x1ae)];)_0x2471ef=_0x51744d[_0x4a3b06]+'\x20'+_0x2471ef,_0x4a3b06--;let _0x2cc3e0=_0xd321c8,_0x3471c6='';for(;_0x2cc3e0<_0x51744d[_0x4e97f6(0x71c)]&&_0x3471c6[_0x4e97f6(0x71c)]+_0x51744d[_0x2cc3e0][_0x4e97f6(0x71c)]<_0x2e2f5f['attributes']['overlap'];)_0x3471c6+=_0x51744d[_0x2cc3e0]+'\x20',_0x2cc3e0++;_0x1af1b8=_0x2471ef+_0x1af1b8+_0x3471c6,_0x1f4371[_0x4e97f6(0x3d6)](_0x1af1b8[_0x4e97f6(0x374)]()),_0x1af1b8='',_0x52a511=_0xd321c8;}_0x1af1b8+=_0x4f8a7b+'\x20',_0xd321c8++,_0x48011d+=_0x4f8a7b[_0x4e97f6(0x71c)]+0x1;}if(_0x1af1b8[_0x4e97f6(0x71c)]>0x0){let _0xb3b7a=_0x52a511,_0x1553b3='';for(;_0xb3b7a>=0x0&&_0x1553b3['length']+_0x51744d[_0xb3b7a]['length']<_0x2e2f5f[_0x4e97f6(0x714)][_0x4e97f6(0x1ae)];)_0x1553b3=_0x51744d[_0xb3b7a]+'\x20'+_0x1553b3,_0xb3b7a--;_0x1af1b8=_0x1553b3+_0x1af1b8,_0x1f4371[_0x4e97f6(0x3d6)](_0x1af1b8['trim']());}return _0x1f4371;}(_0x1a0000,_0x205ddd);await _0x1f0805(_0x4fda4a,_0x3d0287,_0x287923,_0x208127,_0x205ddd,_0x129471,_0x5a5a73,_0x70f895);}function _0x18838f(_0x12484d,_0x378cea,_0x102105,_0x8946d3){const _0x279fe4=_0x1af94f;if(_0x378cea[_0x279fe4(0x64e)])for(const _0x3d0244 of _0x378cea['links']){if(_0x3d0244[_0x279fe4(0x44f)]!==_0x3f481[_0x279fe4(0x354)])continue;const _0x49a034=_0x102105[_0x279fe4(0x7ef)](_0x29d3d6=>_0x29d3d6[_0x279fe4(0x34d)]===_0x3d0244[_0x279fe4(0x34d)]);if(!_0x49a034)continue;let _0x4380f4=_0x378cea['id'];switch(_0x8946d3?_0x4380f4=_0x8946d3:(_0x378cea['type']===_0x4e856e[_0x279fe4(0x84d)]&&(_0x4380f4=_0x378cea[_0x279fe4(0x450)]),_0x378cea[_0x279fe4(0x44f)]!==_0x4e856e[_0x279fe4(0x58e)]&&_0x378cea[_0x279fe4(0x44f)]!==_0x4e856e[_0x279fe4(0x17f)]&&_0x378cea[_0x279fe4(0x44f)]!==_0x4e856e[_0x279fe4(0x1cb)]||(_0x4380f4=_0x378cea['contextOutputVariable']??_0x378cea['name'])),_0x49a034[_0x279fe4(0x44f)]){case _0x4e856e[_0x279fe4(0x58e)]:_0x5999e0[_0x279fe4(0xfd)](_0x279fe4(0x6ee),_0x49a034[_0x279fe4(0x450)],_0x4380f4),_0x49a034[_0x279fe4(0x179)]||(_0x49a034[_0x279fe4(0x179)]={}),_0x49a034[_0x279fe4(0x179)][_0x279fe4(0x88f)]||(_0x49a034[_0x279fe4(0x179)][_0x279fe4(0x88f)]={});const _0x874d12=_0x49a034[_0x279fe4(0x40f)]?.[_0x279fe4(0x7c6)](',');if(!(_0x874d12&&_0x874d12[_0x279fe4(0x1ed)](_0x4380f4)||_0x279fe4(0x20a)===_0x4380f4))return;_0x49a034[_0x279fe4(0x179)][_0x279fe4(0x88f)][_0x4380f4]=_0x12484d;break;case _0x4e856e['AgentSkill']:_0x5999e0[_0x279fe4(0xfd)](_0x279fe4(0x90b),_0x49a034[_0x279fe4(0x450)],_0x4380f4),_0x533192(_0x4380f4,_0x12484d,_0x49a034);break;case _0x4e856e[_0x279fe4(0x73c)]:_0x5999e0[_0x279fe4(0xfd)](_0x279fe4(0x7d7),_0x4380f4),'string'==typeof _0x12484d&&_0x5aa6dd(_0x3d0244[_0x279fe4(0x44f)],_0x4380f4,_0x12484d,_0x49a034);break;case _0x4e856e[_0x279fe4(0x1cb)]:_0x5999e0['forceLog'](_0x279fe4(0x4b5),_0x49a034['name'],_0x4380f4),_0x279fe4(0x4e9)==typeof _0x12484d&&_0x4c60ef(_0x4380f4,_0x12484d,_0x49a034);}}}async function _0x1f0805(_0x3f1831,_0x2fa4a5,_0x50ac06,_0x5a7c14,_0xb5b7d0,_0x1415b3,_0x48c208,_0x2114f0){const _0x15521b=_0x1af94f;if(await _0xdf6e0c['wait'](0x1),_0xb5b7d0['links']){for(const _0x2a00d4 of _0xb5b7d0['links']){if(_0x2a00d4[_0x15521b(0x44f)]===_0x3f481[_0x15521b(0x354)])continue;const _0x16052b=_0x1415b3[_0x15521b(0x7ef)](_0x169f7d=>_0x169f7d['uid']===_0x2a00d4[_0x15521b(0x34d)]);if(_0x16052b)switch(_0x16052b[_0x15521b(0x44f)]){case _0x4e856e[_0x15521b(0x58e)]:_0x2a00d4[_0x15521b(0x44f)]!==_0x3f481[_0x15521b(0x721)]&&_0x2a00d4[_0x15521b(0x44f)]!==_0x3f481['Wait']||_0x15521b(0x4e9)!=typeof _0x2fa4a5||await _0x11ee4a(_0x3f1831,_0x2a00d4[_0x15521b(0x44f)],_0x2fa4a5,_0x50ac06,_0x5a7c14,_0x16052b,_0x1415b3,_0x48c208,_0x2114f0);break;case _0x4e856e['Answer']:_0x2a00d4[_0x15521b(0x44f)]===_0x3f481['File']&&_0x2fa4a5 instanceof Array&&_0x2fa4a5[_0x15521b(0x71c)]>0x0&&_0x5aa6dd(_0x2a00d4[_0x15521b(0x44f)],_0x3f1831,_0x2fa4a5[0x0],_0x16052b);break;case _0x4e856e[_0x15521b(0x98e)]:_0x2a00d4[_0x15521b(0x44f)]===_0x3f481[_0x15521b(0x721)]&&_0x15521b(0x4e9)==typeof _0x2fa4a5&&await _0x17ce5c(_0x3f1831,_0x2fa4a5,_0x50ac06,_0x5a7c14,_0x16052b,_0x1415b3,_0x48c208,_0x2114f0);break;case _0x4e856e['DataCollection']:_0x2a00d4[_0x15521b(0x44f)]===_0x3f481[_0x15521b(0x721)]&&_0x15521b(0x4e9)==typeof _0x2fa4a5&&await _0x2bca65(_0x3f1831,_0x2fa4a5,_0x50ac06,_0x5a7c14,_0x16052b,_0x1415b3,_0x48c208,_0x2114f0),_0x2a00d4[_0x15521b(0x44f)]===_0x3f481[_0x15521b(0x721)]&&_0x2fa4a5 instanceof Array&&await _0x2bca65(_0x3f1831,_0x2fa4a5,_0x50ac06,_0x5a7c14,_0x16052b,_0x1415b3,_0x48c208,_0x2114f0);break;case _0x4e856e[_0x15521b(0x8b2)]:_0x2a00d4[_0x15521b(0x44f)]===_0x3f481['Text']&&_0x15521b(0x4e9)==typeof _0x2fa4a5&&await _0x50d6cd(_0x3f1831,_0x2fa4a5,_0x50ac06,_0x5a7c14,_0x16052b,_0x1415b3,_0x48c208,_0x2114f0);break;case _0x4e856e[_0x15521b(0x851)]:_0x2a00d4[_0x15521b(0x44f)]===_0x3f481[_0x15521b(0x721)]&&_0x15521b(0x4e9)==typeof _0x2fa4a5&&await _0x4bfc97(_0x3f1831,_0x2fa4a5,_0x50ac06,_0x5a7c14,_0x16052b,_0x1415b3,_0x48c208,_0x2114f0);}}_0xb5b7d0[_0x15521b(0x44f)]===_0x4e856e[_0x15521b(0x717)]&&_0x2114f0&&_0x2114f0[_0x15521b(0x791)](void 0x0);}else _0xb5b7d0[_0x15521b(0x44f)]===_0x4e856e[_0x15521b(0x717)]&&_0x2114f0&&_0x2114f0['emit'](void 0x0);}function _0x276912(_0x3045d7,_0x356f4d){const _0x59ab55=_0x1af94f;let _0x4ced78=0x0;for(const _0x1f197f of _0x356f4d)for(const _0x166dcb of _0x1f197f[_0x59ab55(0x64e)]??[])_0x166dcb['type']!==_0x3f481[_0x59ab55(0x354)]&&_0x166dcb[_0x59ab55(0x44f)]!==_0x3f481[_0x59ab55(0xf6)]&&_0x166dcb[_0x59ab55(0x44f)]!==_0x3f481[_0x59ab55(0x38e)]&&_0x166dcb[_0x59ab55(0x34d)]===_0x3045d7[_0x59ab55(0x34d)]&&_0x4ced78++;return _0x4ced78;}async function _0x1e6931(_0x4a5904,_0x34b51e,_0x4e18f2,_0xc12443){const _0x5a4d39=_0x1af94f;if(0x0===_0x4a5904[_0x5a4d39(0x71c)])return;let _0xc802c=_0x5a4d39(0x895);for(const _0x1e9b99 of _0x4a5904)if(_0x1e9b99[_0x5a4d39(0x44f)][_0x5a4d39(0x4f2)](_0x5a4d39(0x857))||_0x2b23e8(_0x1e9b99[_0x5a4d39(0x450)],_0x5f3af1))_0xc802c+='\x0a<'+_0x1e9b99['name']+'>\x0a'+await _0x1e9b99[_0x5a4d39(0x55d)]()+_0x5a4d39(0x394)+_0x1e9b99[_0x5a4d39(0x450)]+'>';else{if(!_0xc12443[_0x5a4d39(0x5fd)][_0x5a4d39(0x245)](_0x1e9b99))throw new Error(_0x5a4d39(0x85e)+_0x1e9b99[_0x5a4d39(0x44f)]+_0x5a4d39(0x5cb)+_0x1e9b99[_0x5a4d39(0x450)]);_0xc802c+='\x0a<'+_0x1e9b99['name']+'>\x0a'+await _0xc12443['documentParserConnector']['parse'](_0x1e9b99)+_0x5a4d39(0x394)+_0x1e9b99[_0x5a4d39(0x450)]+'>';}_0xc802c+='\x0a</uploaded-files>',_0x18838f(_0xc802c,_0x34b51e,_0x4e18f2,'file-upload');}function _0x237a92(_0x14a55,_0x4fa483){const _0xa8cecc=_0x1af94f;_0x4fa483[_0xa8cecc(0x179)]||(_0x4fa483['accumulated']={}),_0x4fa483[_0xa8cecc(0x179)][_0xa8cecc(0x59c)]=_0x14a55;}async function _0x2791dc(_0x1f211a,_0x3719d9,_0x487410,_0x49dc8b){const _0x52ecf4=_0x1af94f;if(_0x1f211a[_0x52ecf4(0x59c)]&&_0x3719d9[_0x52ecf4(0x64e)]){const _0x11c4d4=[];for(const _0x1e1f0a of _0x1f211a[_0x52ecf4(0x59c)])_0x11c4d4[_0x52ecf4(0x3d6)](_0x264b74(_0x1e1f0a));for(const _0x4951c0 of _0x3719d9[_0x52ecf4(0x64e)])if(_0x52ecf4(0x5dc)===_0x4951c0[_0x52ecf4(0x44f)]){const _0x102627=_0x487410['find'](_0x13ec50=>_0x13ec50[_0x52ecf4(0x34d)]===_0x4951c0['uid']);if(!_0x102627)continue;_0x102627[_0x52ecf4(0x44f)]===_0x4e856e['DocumentParser']&&await _0x1e6931(_0x11c4d4,_0x102627,_0x487410,_0x49dc8b),_0x102627[_0x52ecf4(0x44f)]===_0x4e856e[_0x52ecf4(0x5a9)]&&_0x237a92(_0x11c4d4,_0x102627);}}}function _0x264b74(_0x281eb1){const _0xf472e7=_0x1af94f,_0x82518c=atob(_0x281eb1['content']),_0x2964d0=_0x82518c[_0xf472e7(0x71c)],_0x6531fe=new ArrayBuffer(_0x2964d0),_0x406998=new Uint8Array(_0x6531fe);for(let _0x47b07e=0x0;_0x47b07e<_0x2964d0;_0x47b07e++)_0x406998[_0x47b07e]=_0x82518c[_0xf472e7(0x339)](_0x47b07e);return new File([_0x406998],_0x281eb1[_0xf472e7(0x450)],{'type':_0x281eb1[_0xf472e7(0x44f)]});}class _0x4223ab extends _0x236c52{['localNode'];[_0x1af94f(0x90c)];[_0x1af94f(0x2ae)];[_0x1af94f(0x2f7)];['documentParserConnector'];['nlpLibraryConnector'];[_0x1af94f(0x35a)];[_0x1af94f(0x727)];['searchConnector'];['aiSearchConnector'];[_0x1af94f(0xa21)];[_0x1af94f(0x92e)];['modelStore'];[_0x1af94f(0x159)]=new Map();[_0x1af94f(0x540)]=new Map();['loggingDb'];[_0x1af94f(0x153)]=new Map();['debounceStats'];[_0x1af94f(0x7ed)]=0x0;['tokens']=0x0;['isOpened']=!0x1;[_0x1af94f(0x98a)]=[];[_0x1af94f(0x182)]=!0x1;constructor(_0x5c598d,_0xa15ed5,_0x108e2e,_0x9e0880,_0x23cda3,_0x48e0fd,_0xd5c811,_0xc239b8,_0x752038,_0x6ccc8a,_0x24c0ea,_0x39ba79,_0x72da27){const _0x278903=_0x1af94f;super(_0x5c598d,_0xa15ed5,_0x9e0880),this[_0x278903(0x658)]=_0x5c598d,this[_0x278903(0x90c)]=_0x108e2e,this[_0x278903(0x2ae)]=_0x23cda3,this[_0x278903(0x2f7)]=_0x48e0fd,this[_0x278903(0x5fd)]=_0xd5c811,this[_0x278903(0x103)]=_0xc239b8,this[_0x278903(0x35a)]=_0x752038,this[_0x278903(0x727)]=_0x6ccc8a,this[_0x278903(0x686)]=_0x24c0ea,this[_0x278903(0x402)]=_0x39ba79,this[_0x278903(0xa21)]=_0x72da27;}async[_0x1af94f(0x541)](){const _0x5cb370=_0x1af94f;for(const _0x5a070d of this[_0x5cb370(0x2f7)])await _0x5a070d['close']();this[_0x5cb370(0x298)]?.[_0x5cb370(0x885)](this['label']),this[_0x5cb370(0x159)]['forEach'](_0x1284f5=>_0x1284f5[_0x5cb370(0x885)](this['label'])),this['debounceStats']&&(clearTimeout(this[_0x5cb370(0x11a)]),delete this['debounceStats']),super['destroy']();}async[_0x1af94f(0x2de)](_0x407b6c=!0x1){const _0x514570=_0x1af94f;if(this['isOpened'])super[_0x514570(0x2de)]();else{if(_0x5999e0[_0x514570(0xfd)](_0x514570(0x670),this[_0x514570(0xf1)]),this['workflow']=await _0x101df8[_0x514570(0x176)](this[_0x514570(0x90c)],this[_0x514570(0xf1)]),this['modelStore']=this[_0x514570(0x2ae)][_0x514570(0x76e)](this['workflow']['modelsBucketId']),!this[_0x514570(0x298)])throw new Error(_0x514570(0x4e7));this[_0x514570(0x530)](),_0x5999e0['forceLog'](_0x514570(0xa29),this[_0x514570(0x92e)][_0x514570(0x153)]);for(const _0x51807b of this['workflow'][_0x514570(0x153)])try{let _0x29129d;_0x51807b[_0x514570(0x970)]===_0xb0907f[_0x514570(0x75b)]['Llamacpp']&&(_0x29129d=await this[_0x514570(0x158)]('/'+_0x51807b['id']+_0x2f8ad8)),this[_0x514570(0x153)][_0x514570(0x81a)](_0x51807b['id'],{'id':_0x51807b['id'],'engineType':_0x51807b['engineType'],'taskType':_0x51807b['taskType'],'inputType':_0x51807b[_0x514570(0x5f6)],'outputType':_0x51807b[_0x514570(0x7b9)],'sourceUrl':_0x51807b[_0x514570(0x319)],'pathName':_0x29129d});}catch(_0x390b70){await this[_0x514570(0x298)][_0x514570(0x3ec)]({'action':_0xb0907f[_0x514570(0x3c8)][_0x514570(0x372)],'file':new File([''],''+_0x51807b['id']+_0x2f8ad8),'path':'/','options':{'skipEncryption':!0x0,'fetchUrl':_0x51807b[_0x514570(0x319)]}}),this[_0x514570(0x153)][_0x514570(0x81a)](_0x51807b['id'],{'id':_0x51807b['id'],'engineType':_0x51807b[_0x514570(0x970)],'taskType':_0x51807b[_0x514570(0x663)],'inputType':_0x51807b[_0x514570(0x5f6)],'outputType':_0x51807b['outputType'],'sourceUrl':_0x51807b[_0x514570(0x319)],'pathName':await this[_0x514570(0x158)]('/'+_0x51807b['id']+_0x2f8ad8)});}try{for(const _0x4d0e62 of this[_0x514570(0x2f7)])await _0x4d0e62[_0x514570(0x462)](this['label'],this['models']);}catch(_0x4bd8e5){return this[_0x514570(0x2de)](_0x407b6c);}for(const _0x345fb8 of this[_0x514570(0x92e)][_0x514570(0x149)])this[_0x514570(0x159)][_0x514570(0x81a)](_0x345fb8,this[_0x514570(0x2ae)]['getObjectStoreBucket'](_0x345fb8));await this[_0x514570(0x4bb)](),this['subscribeToLocalContent']();for(const _0x25480f of this['workflow'][_0x514570(0x10e)])this['externalStores']['set'](_0x25480f,this[_0x514570(0x2ae)][_0x514570(0x14c)](_0x25480f));await this['loadExternalContent'](),this[_0x514570(0x3f6)](),this[_0x514570(0xef)]=!0x0,this[_0x514570(0x9ed)](),super[_0x514570(0x2de)](),_0x5999e0['forceLog']('GenerativeAIWorker:\x20Opened',this[_0x514570(0xf1)]);}}[_0x1af94f(0x9b6)](){const _0x15fd85=_0x1af94f;this['prompts']=0x0,this[_0x15fd85(0x554)]=0x0,this['sendStats'](),super[_0x15fd85(0x9b6)]();}[_0x1af94f(0x3e4)](){const _0x126a81=_0x1af94f;return this[_0x126a81(0x9ed)](),this['getCoresFromCapacityReport']();}[_0x1af94f(0x9e8)](_0x559d3f,_0x4a49be,_0x43fdb2){const _0x40088d=_0x1af94f,{outputTokens:_0x244898=0x0,output:_0x3bf00d=''}=_0x559d3f,_0x4351ed=_0x244898/((_0x43fdb2-_0x4a49be)/0x3e8);this[_0x40088d(0x7ed)]+=0x1,this[_0x40088d(0x554)]+=_0x244898,this[_0x40088d(0x624)](_0x4351ed,_0x244898),this[_0x40088d(0x9ed)]();}[_0x1af94f(0x4f6)](_0x3e4cf4,_0x835d74){const _0x38a321=_0x1af94f;return _0x3e4cf4[_0x38a321(0x2cc)]=_0x3e4cf4[_0x38a321(0x2cc)]??'',{'type':_0x38a321(0x81e),'output':_0x38a321(0x4e9)==typeof _0x3e4cf4[_0x38a321(0x2cc)]&&_0x38a321(0x4e9)==typeof _0x835d74[_0x38a321(0x2cc)]?_0x3e4cf4[_0x38a321(0x2cc)]+_0x835d74['output']:_0x835d74[_0x38a321(0x2cc)],'outputTokens':_0x835d74[_0x38a321(0x61d)]??_0x3e4cf4[_0x38a321(0x61d)],'inputTokens':_0x835d74[_0x38a321(0x2d0)]??_0x3e4cf4[_0x38a321(0x2d0)]};}async[_0x1af94f(0x8e6)](_0x2f648c,_0x213e00){const _0x4026ae=_0x1af94f;if(this[_0x4026ae(0x92e)]=await _0x101df8['getWorkflow'](this[_0x4026ae(0x90c)],this[_0x4026ae(0xf1)]),_0x4026ae(0x81e)===_0x213e00['type']){const _0xd2ec08=this[_0x4026ae(0x92e)][_0x4026ae(0x40d)][_0x4026ae(0x7ef)](_0x532495=>_0x532495[_0x4026ae(0x44f)]===_0x4e856e[_0x4026ae(0x717)]),_0x14d1a4=await async function(_0x1693d8,_0x15b3d0,_0x1756e6,_0xb6dc38,_0x1b6fd5){const _0x4001d1=_0x4026ae,_0x394dbd=(0x0,_0x2a820b['v4'])(),_0x4acf86=Date[_0x4001d1(0x1f3)]();if(_0x14a774[_0x4001d1(0x850)]({'jobType':_0x4478c1[_0x4001d1(0x86b)],'type':_0x3100d0[_0x4001d1(0x29b)],'jobId':_0x1693d8,'blockId':_0x1756e6['id'],'agentId':_0x394dbd,'threadId':_0x15b3d0[_0x4001d1(0x46c)],'traceLevel':_0x3a949c[_0x4001d1(0x654)],'startTime':Date['now'](),'timestamp':Date[_0x4001d1(0x1f3)](),'status':_0x4001d1(0x9cb),'initialPrompt':_0x15b3d0[_0x4001d1(0x81e)]}),await _0x2791dc(_0x15b3d0,_0x1756e6,_0xb6dc38,_0x1b6fd5),_0x15b3d0['internalContext']){for(const _0xa76e68 in _0x15b3d0['internalContext'])_0x18838f(_0x15b3d0[_0x4001d1(0x4a5)][_0xa76e68],_0x1756e6,_0xb6dc38,_0xa76e68);}const _0x4f47e6={'type':_0x15b3d0['type'],'context':[],'inputTokens':0x0,'outputTokens':0x0};await _0x1f0805(_0x1693d8,''+_0x15b3d0[_0x4001d1(0x81e)],_0x15b3d0,_0x4f47e6,_0x1756e6,_0xb6dc38,_0x1b6fd5);const {inputTokens:_0x4e5dfc=0x0,outputTokens:_0x1c3bf2=0x0,context:_0x28ea51=[]}=_0x4f47e6;_0x14a774[_0x4001d1(0x850)]({'jobType':_0x4478c1['Workflow'],'type':_0x3100d0[_0x4001d1(0x6c1)],'jobId':_0x1693d8,'agentId':_0x394dbd,'threadId':_0x15b3d0[_0x4001d1(0x46c)],'traceLevel':_0x3a949c['Info'],'startTime':_0x4acf86,'timestamp':Date[_0x4001d1(0x1f3)](),'blockId':_0x1756e6['id'],'status':'success','output':_0x4f47e6[_0x4001d1(0x2cc)]?.[_0x4001d1(0xe5)]()??'','prompt':_0x15b3d0['prompt'],'agentName':'','history':_0x15b3d0['history']??[],'instructions':''+(_0x15b3d0['instructions']??''),'ragContext':_0x28ea51,'inputTokens':_0x4e5dfc,'outputTokens':_0x1c3bf2});const _0x5529e7=_0xb6dc38['find'](_0xd306b5=>_0xd306b5[_0x4001d1(0x44f)]===_0x4e856e[_0x4001d1(0x73c)]);return{'type':_0x15b3d0[_0x4001d1(0x44f)],'output':_0x4f47e6[_0x4001d1(0x2cc)],'context':_0x4f47e6[_0x4001d1(0x88f)],'internalContext':_0x5529e7?.[_0x4001d1(0x179)]?.[_0x4001d1(0x88f)]??{},'resultFile':await _0x5529e7?.[_0x4001d1(0x179)]?.[_0x4001d1(0x5dc)]?.[_0x4001d1(0x55d)]()??void 0x0,'inputTokens':_0x4f47e6['inputTokens']??0x0,'outputTokens':_0x4f47e6[_0x4001d1(0x61d)]??0x0};}(_0x2f648c,_0x213e00,_0xd2ec08,this[_0x4026ae(0x92e)][_0x4026ae(0x40d)],{'documentParserConnector':this[_0x4026ae(0x5fd)],'nlpLibraryConnector':this[_0x4026ae(0x103)],'generativeAIWorkerConnectors':this[_0x4026ae(0x2f7)],'models':this[_0x4026ae(0x92e)][_0x4026ae(0x153)],'contentMediator':this[_0x4026ae(0x2ae)],'searchApiKey':this[_0x4026ae(0x35a)],'aiSearchApiKey':this['aiSearchApiKey'],'searchConnector':this[_0x4026ae(0x686)],'aiSearchConnector':this[_0x4026ae(0x402)],'queryFileConnector':this[_0x4026ae(0xa21)]});return _0x14d1a4;}if(_0x4026ae(0x186)===_0x213e00['type'])return _0x14a774[_0x4026ae(0x850)]({'jobType':_0x4478c1[_0x4026ae(0x3d4)],'type':_0x145514[_0x4026ae(0x505)],'jobId':_0x213e00['jobId'],'threadId':_0x213e00[_0x4026ae(0x46c)],'traceLevel':_0x3a949c[_0x4026ae(0x654)],'startTime':Date['now'](),'timestamp':Date[_0x4026ae(0x1f3)](),'status':'success','rating':_0x213e00['rating'],'feedback':_0x213e00[_0x4026ae(0x42e)]}),{'type':'rate','status':_0xb0907f[_0x4026ae(0x388)][_0x4026ae(0x7a0)]};if(_0x4026ae(0x4a6)===_0x213e00[_0x4026ae(0x44f)]){let _0x2d0fcc;const _0x15e381=this['dataStores'][_0x4026ae(0x7a3)]();for(;!_0x2d0fcc;){const _0x5141da=_0x15e381[_0x4026ae(0x122)]()[_0x4026ae(0x73e)];if(!_0x5141da)throw new Error(_0x4026ae(0x362));_0x2d0fcc=this['dataStores'][_0x4026ae(0x70a)](_0x5141da);try{const _0x270fe4=await _0x2d0fcc[_0x4026ae(0x70a)](_0x213e00[_0x4026ae(0xf9)]);return{'type':'downloadDocument','fileName':_0x270fe4['name'],'mimeType':_0x270fe4[_0x4026ae(0x44f)],'document':await _0x270fe4[_0x4026ae(0x63e)]()};}catch(_0x14728e){continue;}}throw new Error(_0x4026ae(0x362));}if(_0x4026ae(0x9f0)===_0x213e00[_0x4026ae(0x44f)]){const {query:_0xdcc4c7,collectionId:_0x5c0cbd}=_0x213e00,_0x1edfe2=this[_0x4026ae(0x92e)][_0x4026ae(0x40d)][_0x4026ae(0x7ef)](_0x2cec9a=>(_0x2cec9a[_0x4026ae(0x44f)]===_0x4e856e[_0x4026ae(0x84d)]||_0x4e856e['Knowledge'])&&_0x2cec9a['id']===_0x5c0cbd);if(!_0x1edfe2)throw new Error('Data\x20collection\x20not\x20found');const _0x4495f0=_0x1edfe2['retrieveBlocks']?.[_0x4026ae(0x7ef)](_0x499841=>_0x499841[_0x4026ae(0x44f)]===_0x4bf4d9['Prompt']);if(!_0x4495f0)throw new Error('Prompt\x20block\x20not\x20found');return await _0x4741ae(_0x2f648c,'',_0xdcc4c7,_0x4495f0,_0x1edfe2[_0x4026ae(0x47a)],{'documentParserConnector':this[_0x4026ae(0x5fd)],'nlpLibraryConnector':this[_0x4026ae(0x103)],'generativeAIWorkerConnectors':this[_0x4026ae(0x2f7)],'models':this['workflow'][_0x4026ae(0x153)],'contentMediator':this[_0x4026ae(0x2ae)],'searchApiKey':this['searchApiKey'],'aiSearchApiKey':this[_0x4026ae(0x727)],'searchConnector':this[_0x4026ae(0x686)],'aiSearchConnector':this[_0x4026ae(0x402)],'queryFileConnector':this[_0x4026ae(0xa21)]});}throw new Error(_0x4026ae(0x206));}async*[_0x1af94f(0x5b4)](_0x3f677a,_0x17135d){const _0x1725f3=_0x1af94f;this[_0x1725f3(0x92e)]=await _0x101df8[_0x1725f3(0x176)](this[_0x1725f3(0x90c)],this[_0x1725f3(0xf1)]);const _0x254aaa=this[_0x1725f3(0x92e)][_0x1725f3(0x40d)][_0x1725f3(0x7ef)](_0x3e648a=>_0x3e648a[_0x1725f3(0x44f)]===_0x4e856e[_0x1725f3(0x717)]);for await(const _0x1c0884 of async function*(_0x39203f,_0x5b9eca,_0x3c8416,_0x568dad,_0x425745){const _0x5b7dc2=_0x1725f3,_0x46857e=(0x0,_0x2a820b['v4'])(),_0x5e9d05=Date['now']();if(_0x14a774[_0x5b7dc2(0x850)]({'jobType':_0x4478c1[_0x5b7dc2(0x86b)],'type':_0x3100d0['InitialPrompt'],'jobId':_0x39203f,'agentId':_0x46857e,'threadId':_0x5b9eca[_0x5b7dc2(0x46c)],'traceLevel':_0x3a949c['Info'],'startTime':Date['now'](),'timestamp':Date['now'](),'blockId':_0x3c8416['id'],'status':_0x5b7dc2(0x9cb),'initialPrompt':_0x5b9eca['prompt']}),await _0x2791dc(_0x5b9eca,_0x3c8416,_0x568dad,_0x425745),_0x5b9eca[_0x5b7dc2(0x4a5)]){for(const _0x2af3ae in _0x5b9eca[_0x5b7dc2(0x4a5)])_0x18838f(_0x5b9eca[_0x5b7dc2(0x4a5)][_0x2af3ae],_0x3c8416,_0x568dad,_0x2af3ae);}const _0xdf7933={'type':_0x5b9eca[_0x5b7dc2(0x44f)],'context':[],'inputTokens':0x0,'outputTokens':0x0},_0x35434f=new _0x30f2bf();_0x1f0805(_0x39203f,''+_0x5b9eca[_0x5b7dc2(0x81e)],_0x5b9eca,_0xdf7933,_0x3c8416,_0x568dad,_0x425745,_0x35434f);let _0x4edd60='',_0x12810a={'type':_0x5b9eca[_0x5b7dc2(0x44f)]};for(;;){const _0x3603d4=await _0x35434f[_0x5b7dc2(0x756)]();if(!_0x3603d4)break;_0x4edd60+=_0x3603d4[_0x5b7dc2(0x2cc)],_0x12810a={'type':_0x5b9eca[_0x5b7dc2(0x44f)],'output':_0x3603d4[_0x5b7dc2(0x2cc)],'context':_0xdf7933[_0x5b7dc2(0x88f)],'internalContext':{},'resultFile':void 0x0,'inputTokens':(_0xdf7933[_0x5b7dc2(0x2d0)]??0x0)+(_0x3603d4[_0x5b7dc2(0x2d0)]??0x0),'outputTokens':(_0xdf7933[_0x5b7dc2(0x61d)]??0x0)+(_0x3603d4['outputTokens']??0x0)},yield _0x12810a;}const _0x36cb1d=_0x568dad[_0x5b7dc2(0x7ef)](_0x3b1127=>_0x3b1127[_0x5b7dc2(0x44f)]===_0x4e856e[_0x5b7dc2(0x73c)]);yield{..._0x12810a,'output':'','internalContext':_0x36cb1d?.[_0x5b7dc2(0x179)]?.[_0x5b7dc2(0x88f)]??{},'resultFile':await _0x36cb1d?.[_0x5b7dc2(0x179)]?.[_0x5b7dc2(0x5dc)]?.[_0x5b7dc2(0x55d)]()??void 0x0};const {inputTokens:_0x42439c=0x0,outputTokens:_0x75bdc5=0x0,context:_0x4eb006=[]}=_0x12810a;_0x14a774[_0x5b7dc2(0x850)]({'jobType':_0x4478c1[_0x5b7dc2(0x86b)],'type':_0x3100d0[_0x5b7dc2(0x6c1)],'jobId':_0x39203f,'agentId':_0x46857e,'threadId':_0x5b9eca[_0x5b7dc2(0x46c)],'traceLevel':_0x3a949c[_0x5b7dc2(0x654)],'startTime':_0x5e9d05,'timestamp':Date[_0x5b7dc2(0x1f3)](),'blockId':_0x3c8416['id'],'status':_0x5b7dc2(0x9cb),'output':_0x4edd60,'prompt':_0x5b9eca[_0x5b7dc2(0x81e)],'agentName':'','history':_0x5b9eca[_0x5b7dc2(0x2ce)]??[],'instructions':''+(_0x5b9eca[_0x5b7dc2(0x5d0)]??''),'ragContext':_0x4eb006,'inputTokens':_0x42439c,'outputTokens':_0x75bdc5});}(_0x3f677a,_0x17135d,_0x254aaa,this['workflow'][_0x1725f3(0x40d)],{'documentParserConnector':this[_0x1725f3(0x5fd)],'nlpLibraryConnector':this[_0x1725f3(0x103)],'generativeAIWorkerConnectors':this[_0x1725f3(0x2f7)],'models':this[_0x1725f3(0x92e)][_0x1725f3(0x153)],'contentMediator':this['contentMediator'],'searchApiKey':this[_0x1725f3(0x35a)],'aiSearchApiKey':this[_0x1725f3(0x727)],'searchConnector':this[_0x1725f3(0x686)],'aiSearchConnector':this[_0x1725f3(0x402)],'queryFileConnector':this['queryFileConnector']}))yield _0x1c0884;}[_0x1af94f(0x337)](_0x7af954,_0x42541a){const _0x17391f=_0x1af94f;if(_0x17391f(0x186)===_0x42541a[_0x17391f(0x44f)])return _0x7af954=_0x42541a[_0x17391f(0xa49)],void this[_0x17391f(0x94e)](_0x7af954);this[_0x17391f(0x94e)](_0x7af954),_0x14a774[_0x17391f(0x850)]({'jobType':_0x4478c1[_0x17391f(0x2c1)],'type':_0x39455e[_0x17391f(0x4ad)],'traceLevel':_0x3a949c[_0x17391f(0x654)],'jobId':_0x7af954,'threadId':_0x42541a[_0x17391f(0x46c)],'startTime':Date['now'](),'timestamp':Date['now'](),'status':_0x17391f(0x9cb)});}[_0x1af94f(0x408)](_0x52b22e,_0x2477cb){const _0x4d7b75=_0x1af94f;if('rate'===_0x2477cb[_0x4d7b75(0x44f)])return _0x52b22e=_0x2477cb[_0x4d7b75(0xa49)],void this['closeTrace'](_0x52b22e);_0x14a774[_0x4d7b75(0x850)]({'jobType':_0x4478c1['Job'],'type':_0x39455e[_0x4d7b75(0x6ef)],'traceLevel':_0x3a949c['Info'],'jobId':_0x52b22e,'threadId':_0x2477cb[_0x4d7b75(0x46c)],'startTime':Date[_0x4d7b75(0x1f3)](),'timestamp':Date[_0x4d7b75(0x1f3)](),'status':_0x4d7b75(0x9cb)}),this['closeTrace'](_0x52b22e);}async[_0x1af94f(0x158)](_0x12e6f8){const _0x56aec7=_0x1af94f;if(!this[_0x56aec7(0x298)])throw new Error('Model\x20store\x20not\x20initialized');const _0x1745a4=await this[_0x56aec7(0x298)][_0x56aec7(0x3d1)]('/',{'recursive':!0x1,'includeSyncingFiles':!0x1});for(const _0x1f0237 of _0x1745a4)if(_0x1f0237[_0x56aec7(0x832)]===_0xb0907f[_0x56aec7(0x463)]['File']&&_0x1f0237[_0x56aec7(0x65b)]===_0x12e6f8)return _0x1f0237[_0x56aec7(0x9bc)]??_0x1f0237[_0x56aec7(0x65b)];throw new Error(_0x56aec7(0x85b)+_0x12e6f8);}async[_0x1af94f(0x4bb)](){const _0x3e434f=_0x1af94f;if(!this[_0x3e434f(0x92e)])throw new Error(_0x3e434f(0x7d3));for(const _0x578cef of this[_0x3e434f(0x159)][_0x3e434f(0x7e5)]())try{const _0x312428=this[_0x3e434f(0x92e)][_0x3e434f(0x40d)][_0x3e434f(0x7e0)](_0x285b0c=>(_0x285b0c[_0x3e434f(0x44f)]===_0x4e856e['DataCollection']||_0x285b0c['type']===_0x4e856e[_0x3e434f(0xf6)])&&_0x285b0c['ingestBlocks']?.[_0x3e434f(0xa33)](_0x419c7e=>_0x419c7e['id']===_0x578cef['getLabel']()));for(let _0x4654cb=_0x312428[_0x3e434f(0x71c)]-0x1;_0x4654cb>=0x0;_0x4654cb--)for(const _0x288034 of _0x312428[_0x4654cb]['ingestBlocks']??[])_0x288034[_0x3e434f(0x44f)]===_0x4bf4d9['VectorDatabase']&&this['contentMediator'][_0x3e434f(0x306)](_0x288034['id'])[_0x3e434f(0x130)]()&&_0x312428[_0x3e434f(0x6b3)](_0x4654cb,0x1),_0x288034['type']===_0x4bf4d9[_0x3e434f(0x835)]&&this[_0x3e434f(0x2ae)][_0x3e434f(0x8fe)](_0x288034['id'])[_0x3e434f(0x130)]()&&_0x312428[_0x3e434f(0x6b3)](_0x4654cb,0x1);const _0x27b426=new Map();let _0x1348d5=!0x1;for(const _0x480303 of _0x312428){let _0x5bbdae=''+(_0x480303[_0x3e434f(0x215)]??0x1);for(const _0x87d9c7 of _0x480303[_0x3e434f(0x6bc)]??[])_0x87d9c7['type']===_0x4bf4d9['Agent']&&(_0x5bbdae=_0x5bbdae+'-'+(_0x87d9c7[_0x3e434f(0x215)]??0x1));for(const _0x4c2a71 of _0x480303[_0x3e434f(0x6bc)]??[])_0x4c2a71[_0x3e434f(0x44f)]===_0x4bf4d9[_0x3e434f(0x21e)]&&_0x27b426[_0x3e434f(0x81a)](_0x4c2a71['id'],{'version':_0x5bbdae,'getDatabase':this[_0x3e434f(0x2ae)]['getVectorDatabase'][_0x3e434f(0x136)](this['contentMediator']),'block':_0x4c2a71}),_0x4c2a71[_0x3e434f(0x44f)]===_0x4bf4d9['GraphDatabase']&&_0x27b426[_0x3e434f(0x81a)](_0x4c2a71['id'],{'version':_0x5bbdae,'getDatabase':this[_0x3e434f(0x2ae)]['getGraphDatabase'][_0x3e434f(0x136)](this[_0x3e434f(0x2ae)]),'block':_0x4c2a71});}for(const {getDatabase:_0x24c1e6,block:_0x237a5f,version:_0x5863aa}of _0x27b426['values']())try{const _0x54ee5e=_0x24c1e6(_0x237a5f['id']);if(_0x54ee5e[_0x3e434f(0x130)]())continue;_0x54ee5e[_0x3e434f(0x722)](_0x5863aa),_0x54ee5e[_0x3e434f(0x516)](!0x0),_0x1348d5=!0x0;}catch(_0x2339f1){console['error'](_0x2339f1),_0x1348d5=!0x1;break;}if(_0x5999e0[_0x3e434f(0xfd)](_0x3e434f(0x597)),_0x1348d5)continue;_0x5999e0[_0x3e434f(0xfd)](_0x3e434f(0x43e));const _0x4a8375=await _0x578cef[_0x3e434f(0x3d1)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x1});await this[_0x3e434f(0xa08)](_0x4f68a0[_0x3e434f(0x9a9)],_0x578cef['getName'](),_0x4a8375);for(const {getDatabase:_0x43255c,block:_0x2e0c5c,version:_0x38ee0b}of _0x27b426[_0x3e434f(0x7e5)]()){const _0x1ea46a=_0x43255c(_0x2e0c5c['id']);_0x1ea46a[_0x3e434f(0x130)]()||(_0x1ea46a[_0x3e434f(0x2e7)](_0x38ee0b),_0x1ea46a[_0x3e434f(0x516)](!0x0));}}catch(_0x56b747){_0x5999e0[_0x3e434f(0x883)](_0x3e434f(0x562),{'nodeId':this['localNode'][_0x3e434f(0x8f3)](),'nodeType':this['localNode'][_0x3e434f(0x44f)]});}}async[_0x1af94f(0xa3f)](){const _0x22dce4=_0x1af94f;for(const _0x128e37 of this['externalStores'][_0x22dce4(0x7e5)]())try{const _0x127391=await _0x128e37[_0x22dce4(0x3d1)]('/',{'recursive':!0x0});await this[_0x22dce4(0xa08)](_0x4f68a0[_0x22dce4(0x6b2)],_0x128e37[_0x22dce4(0x801)](),_0x127391);}catch(_0x14cfe2){_0x5999e0[_0x22dce4(0x883)]('Error\x20loading\x20external\x20content',{'nodeId':this[_0x22dce4(0x658)][_0x22dce4(0x8f3)](),'nodeType':this[_0x22dce4(0x658)][_0x22dce4(0x44f)]});}}async[_0x1af94f(0xa08)](_0x51a838,_0x3e4606,_0x4433ee){const _0x38720d=_0x1af94f;for(const _0x1c2a92 of _0x4433ee){if(_0x1c2a92['kind']===_0xb0907f[_0x38720d(0x463)][_0x38720d(0x123)]){if(!_0x1c2a92['entries']||0x0===_0x1c2a92[_0x38720d(0xa3a)][_0x38720d(0x71c)])continue;await this['syncFolder'](_0x51a838,_0x3e4606,_0x1c2a92[_0x38720d(0xa3a)]);}_0x1c2a92[_0x38720d(0x832)]===_0xb0907f[_0x38720d(0x463)][_0x38720d(0x372)]&&this[_0x38720d(0x129)](_0x51a838,_0x3e4606,_0x1c2a92[_0x38720d(0x65b)]);}return new Promise(_0x4bd92d=>{const _0x4f1019=_0x38720d,_0x4235b9=_0xdf6e0c[_0x4f1019(0x1ea)](()=>{const _0x3b2fea=_0x4f1019;0x0!==this[_0x3b2fea(0x98a)][_0x3b2fea(0x71c)]||this[_0x3b2fea(0x182)]||(_0x4235b9(),_0x4bd92d());},0x1388);});}[_0x1af94f(0x63d)](){const _0x1b4b34=_0x1af94f;for(const _0x1fdcba of this[_0x1b4b34(0x159)][_0x1b4b34(0x7e5)]())_0x1fdcba[_0x1b4b34(0x9f2)](this[_0x1b4b34(0xf1)],async _0x469da0=>{const _0x11c56c=_0x1b4b34;switch(_0x469da0[_0x11c56c(0x5f9)]){case _0xb0907f[_0x11c56c(0x208)]['FileWrite']:this[_0x11c56c(0x6ed)](_0x4f68a0[_0x11c56c(0x9a9)],_0x1fdcba['getName'](),_0x469da0[_0x11c56c(0x2df)][_0x11c56c(0x5dc)][_0x11c56c(0x65b)]),this[_0x11c56c(0x129)](_0x4f68a0[_0x11c56c(0x9a9)],_0x1fdcba[_0x11c56c(0x801)](),_0x469da0['payload'][_0x11c56c(0x5dc)][_0x11c56c(0x65b)]);break;case _0xb0907f['StorageEventType']['FileDelete']:this['removeContent'](_0x4f68a0[_0x11c56c(0x9a9)],_0x1fdcba[_0x11c56c(0x801)](),_0x469da0[_0x11c56c(0x2df)][_0x11c56c(0x65b)]);}});}[_0x1af94f(0x3f6)](){const _0x16d9cf=_0x1af94f;for(const _0x1c81e1 of this[_0x16d9cf(0x540)][_0x16d9cf(0x7e5)]())_0x1c81e1['subscribe'](this['label'],async _0x74d882=>{const _0xcc2e05=_0x16d9cf;switch(_0x74d882[_0xcc2e05(0x5f9)]){case _0xb0907f[_0xcc2e05(0x208)]['FileWrite']:this['removeContent'](_0x4f68a0[_0xcc2e05(0x6b2)],_0x1c81e1['getName'](),_0x74d882[_0xcc2e05(0x2df)][_0xcc2e05(0x5dc)][_0xcc2e05(0x65b)]),this['addContent'](_0x4f68a0[_0xcc2e05(0x6b2)],_0x1c81e1[_0xcc2e05(0x801)](),_0x74d882[_0xcc2e05(0x2df)]['file'][_0xcc2e05(0x65b)]);break;case _0xb0907f[_0xcc2e05(0x208)]['FileDelete']:this[_0xcc2e05(0x6ed)](_0x4f68a0[_0xcc2e05(0x6b2)],_0x1c81e1[_0xcc2e05(0x801)](),_0x74d882['payload']['pathName']);}});}[_0x1af94f(0x129)](_0x4db817,_0x1a35dc,_0x379099){const _0x1bec64=_0x1af94f;this[_0x1bec64(0x98a)]['push']({'type':_0x1bec64(0x23a),'storageType':_0x4db817,'storeId':_0x1a35dc,'pathName':_0x379099}),this[_0x1bec64(0x175)]();}[_0x1af94f(0x6ed)](_0x4b1812,_0x9f8958,_0x386e15){const _0x4a0089=_0x1af94f;this[_0x4a0089(0x98a)][_0x4a0089(0x3d6)]({'type':_0x4a0089(0x1e7),'storageType':_0x4b1812,'storeId':_0x9f8958,'pathName':_0x386e15}),this[_0x4a0089(0x175)]();}async[_0x1af94f(0x175)](){const _0x4749d3=_0x1af94f;if(!this[_0x4749d3(0x182)]){try{this[_0x4749d3(0x182)]=!0x0;const _0x14c422=this[_0x4749d3(0x98a)][_0x4749d3(0x396)]();if(!_0x14c422)return;_0x4749d3(0x23a)===_0x14c422[_0x4749d3(0x44f)]?await this[_0x4749d3(0xe3)](_0x14c422['storageType'],_0x14c422['storeId'],_0x14c422[_0x4749d3(0x65b)]):this[_0x4749d3(0x88b)](_0x14c422[_0x4749d3(0x323)],_0x14c422['storeId'],_0x14c422[_0x4749d3(0x65b)]);}catch(_0x38995d){_0x5999e0[_0x4749d3(0x883)](_0x4749d3(0x2a1),{'nodeId':this[_0x4749d3(0x658)][_0x4749d3(0x8f3)](),'nodeType':this[_0x4749d3(0x658)][_0x4749d3(0x44f)]});}this[_0x4749d3(0x182)]=!0x1,this['contentQueue'][_0x4749d3(0x71c)]>0x0&&this['processContentQueue']();}}async[_0x1af94f(0xe3)](_0x4b49aa,_0x1b275b,_0x40cbb0){const _0x2033dd=_0x1af94f;if(_0x5999e0[_0x2033dd(0xfd)](_0x2033dd(0x129),_0x4b49aa,_0x1b275b,_0x40cbb0),!this[_0x2033dd(0x92e)])throw new Error(_0x2033dd(0x7d3));let _0x3c8043;switch(_0x4b49aa){case _0x4f68a0[_0x2033dd(0x9a9)]:_0x3c8043=_0x4bf4d9[_0x2033dd(0x746)];break;case _0x4f68a0[_0x2033dd(0x6b2)]:_0x3c8043=_0x4bf4d9[_0x2033dd(0x7b7)];}if(!_0x3c8043)return;const _0x27b532=this['workflow'][_0x2033dd(0x40d)]['filter'](_0x49ab10=>_0x49ab10[_0x2033dd(0x44f)]===_0x4e856e[_0x2033dd(0xf6)]||_0x49ab10[_0x2033dd(0x44f)]===_0x4e856e['DataCollection']),_0x11e0f2=new Set(_0x27b532[_0x2033dd(0x7d0)](_0x4b30db=>_0x4b30db['id'])),_0x43a360=_0x27b532[_0x2033dd(0x7e0)](_0x20d6b5=>_0x20d6b5[_0x2033dd(0x6bc)]?.[_0x2033dd(0xa33)](_0x5637c6=>_0x5637c6[_0x2033dd(0x44f)]===_0x3c8043&&_0x5637c6['id']===_0x1b275b)),_0x4941a5=[];for(const _0x4bfbaa of _0x43a360){if(!_0x11e0f2['has'](_0x4bfbaa['id']))continue;_0x11e0f2[_0x2033dd(0x8e1)](_0x4bfbaa['id']);const _0x5670d8=_0x4bfbaa[_0x2033dd(0x6bc)]?.[_0x2033dd(0x7ef)](_0x183ec9=>_0x183ec9[_0x2033dd(0x44f)]===_0x3c8043&&_0x183ec9['id']===_0x1b275b);_0x5670d8&&_0x51a938['add'](this[_0x2033dd(0xf1)],async()=>{const _0x3e1726=_0x2033dd,_0x3edf35=new Promise(async _0x3b9bc9=>{const _0x58872b=a0_0xaf41,_0x1cc9b8=(0x0,_0x2a820b['v4'])();_0x14a774[_0x58872b(0x94e)](null,_0x1cc9b8),await _0x4d53bf(_0x1cc9b8,_0x40cbb0,_0x5670d8,_0x4bfbaa['ingestBlocks'],{'documentParserConnector':this[_0x58872b(0x5fd)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x58872b(0x2f7)],'models':this[_0x58872b(0x92e)][_0x58872b(0x153)],'contentMediator':this[_0x58872b(0x2ae)],'searchApiKey':this[_0x58872b(0x35a)],'aiSearchApiKey':this[_0x58872b(0x727)],'version':_0x4bfbaa[_0x58872b(0x215)]??0x1}),_0x14a774[_0x58872b(0x5c5)](_0x1cc9b8),_0x3b9bc9();});_0x4941a5[_0x3e1726(0x3d6)](_0x3edf35);});}await Promise['all'](_0x4941a5),this[_0x2033dd(0x9ed)]();}[_0x1af94f(0x88b)](_0x19d5e4,_0x75f8a1,_0x1c01a8){const _0xfefa40=_0x1af94f;if(_0x5999e0[_0xfefa40(0xfd)](_0xfefa40(0x6ed),_0x19d5e4,_0x75f8a1,_0x1c01a8),!this[_0xfefa40(0x92e)])throw new Error(_0xfefa40(0x7d3));let _0x6d6ece;switch(_0x19d5e4){case _0x4f68a0[_0xfefa40(0x9a9)]:_0x6d6ece=_0x4bf4d9['ObjectStorageUpload'];break;case _0x4f68a0[_0xfefa40(0x6b2)]:_0x6d6ece=_0x4bf4d9['ExternalStorageUpload'];}if(!_0x6d6ece)return;const _0x9a6b06=this['workflow'][_0xfefa40(0x40d)][_0xfefa40(0x7e0)](_0x10153c=>_0x10153c[_0xfefa40(0x44f)]===_0x4e856e[_0xfefa40(0xf6)]||_0x10153c[_0xfefa40(0x44f)]===_0x4e856e['DataCollection']),_0x4f42fa=new Set(_0x9a6b06[_0xfefa40(0x7d0)](_0x214b26=>_0x214b26['id'])),_0x2f0154=_0x9a6b06[_0xfefa40(0x7e0)](_0x3f268e=>_0x3f268e['ingestBlocks']?.[_0xfefa40(0xa33)](_0x1c80e0=>_0x1c80e0['type']===_0x6d6ece&&_0x1c80e0['id']===_0x75f8a1));for(const _0x3af3d4 of _0x2f0154){if(!_0x4f42fa[_0xfefa40(0x907)](_0x3af3d4['id']))continue;_0x4f42fa[_0xfefa40(0x8e1)](_0x3af3d4['id']);let _0x42a27e=''+(_0x3af3d4[_0xfefa40(0x215)]??0x1);for(const _0x5e7935 of _0x3af3d4[_0xfefa40(0x6bc)]??[])_0x5e7935[_0xfefa40(0x44f)]===_0x4bf4d9[_0xfefa40(0x58e)]&&(_0x42a27e=_0x42a27e+'-'+(_0x5e7935['version']??0x1));for(const _0x18f364 of _0x3af3d4['ingestBlocks']??[]){if(_0x18f364[_0xfefa40(0x44f)]===_0x4bf4d9[_0xfefa40(0x21e)]){const _0x4389e4=this['contentMediator'][_0xfefa40(0x306)](_0x18f364['id']);_0x4389e4[_0xfefa40(0x1e7)](_0x1c01a8),_0x4389e4[_0xfefa40(0x130)]()&&_0x4389e4[_0xfefa40(0x2e7)](_0x42a27e);}if(_0x18f364[_0xfefa40(0x44f)]===_0x4bf4d9[_0xfefa40(0x835)]){const _0x6a17d8=this['contentMediator'][_0xfefa40(0x8fe)](_0x18f364['id']);_0x6a17d8[_0xfefa40(0x1e7)](_0x1c01a8),_0x6a17d8[_0xfefa40(0x130)]()&&_0x6a17d8[_0xfefa40(0x2e7)](_0x42a27e);}}}this['sendStats']();}[_0x1af94f(0xa10)](){const _0x48e658=_0x1af94f;try{return this[_0x48e658(0x3e3)]['getCapacityReport']()[_0x48e658(0x687)][_0x48e658(0x617)]*(0x1-this[_0x48e658(0x3e3)][_0x48e658(0x531)]()['gpu'][_0x48e658(0x4f5)]);}catch(_0x2cfaa8){return _0x5999e0[_0x48e658(0x15c)](_0x53526a['Jobs'],'JobWorker:\x20Error\x20getting\x20cores\x20from\x20capacity\x20report',_0x2cfaa8),0x0;}}[_0x1af94f(0x9ed)](){const _0x116e31=_0x1af94f;this['isOpened']&&(this[_0x116e31(0x11a)]&&clearTimeout(this['debounceStats']),this[_0x116e31(0x11a)]=setTimeout(async()=>{const _0x110db3=_0x116e31;if(delete this[_0x110db3(0x11a)],!this[_0x110db3(0x298)])return;let _0x46398f=await this['modelStore'][_0x110db3(0x677)]();for(const _0x18d096 of this['dataStores'][_0x110db3(0x7e5)]())_0x46398f+=await _0x18d096[_0x110db3(0x677)]();this['systemTopic'][_0x110db3(0x3ec)]({'sourceId':_0x50bf9f,'messageType':_0x502914[_0x110db3(0x54e)],'content':{'type':_0x20f4a0[_0x110db3(0x8fd)],'label':this[_0x110db3(0xf1)],'stats':{'timestamp':Date[_0x110db3(0x1f3)](),'storage':_0x46398f,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x110db3(0x9c7)],'bytesSent':this[_0x110db3(0x525)],'bytesReceived':this[_0x110db3(0x7b6)],'writes':0x0,'reads':0x0,'prompts':this['prompts'],'tokens':this['tokens']}}});},_0x33f6e5));}['logServiceEvent'](_0x16609a,_0x169202){const _0x330fd3=_0x1af94f,_0x12fa10=this['label'],_0x116a1d=this['getOwnerId']();_0x5999e0['logServiceEvent'](_0x53b20f[_0x330fd3(0x564)],{'topic':_0x12fa10,'type':'answer','nodeId':_0x116a1d,'tokenCount':_0x169202,'tokensPerSecond':_0x16609a});}[_0x1af94f(0x94e)](_0x456d62){const _0x2cd3f4=_0x1af94f;try{if(!this['workflow'])throw new Error(_0x2cd3f4(0x7d3));if(!this[_0x2cd3f4(0x699)])throw new Error(_0x2cd3f4(0x56c));if(!_0x14a774[_0x2cd3f4(0x94e)](this[_0x2cd3f4(0x699)],_0x456d62))throw new Error(_0x2cd3f4(0x79c));return _0x456d62;}catch(_0x18f0cc){return console[_0x2cd3f4(0x883)](_0x2cd3f4(0x79c),_0x18f0cc),_0x2cd3f4(0x67a);}}[_0x1af94f(0x5c5)](_0x6c8680){const _0x37de22=_0x1af94f;try{_0x14a774[_0x37de22(0x5c5)](_0x6c8680);}catch(_0x269ce7){console[_0x37de22(0x883)](_0x37de22(0x7b3),{'jobId':_0x6c8680,'error':_0x269ce7});}}async[_0x1af94f(0x530)](){return new Promise(_0x3e83cf=>{const _0x16201a=a0_0xaf41;try{const _0x21debc=_0x23bf08(this[_0x16201a(0x90c)],this[_0x16201a(0xf1)]);this['loggingDb']=this[_0x16201a(0x2ae)][_0x16201a(0x91d)](_0x21debc),this[_0x16201a(0x699)][_0x16201a(0x9f2)](({event:_0x13b847})=>{const _0x572b2c=_0x16201a;_0x13b847===_0xb0907f[_0x572b2c(0x38d)][_0x572b2c(0x5f2)]&&(this['loggingDb']['unsubscribe'](),_0x3e83cf());});}catch(_0x55c953){console['error'](_0x16201a(0x3be)+_0x23bf08(this[_0x16201a(0x90c)],this[_0x16201a(0xf1)])+_0x16201a(0x2cb),_0x55c953),_0x3e83cf();}});}}class _0x5a86fc extends _0x1eef03{[_0x1af94f(0x658)];['clusterId'];['vendorId'];['db'];[_0x1af94f(0x11a)];[_0x1af94f(0xa05)]=0x0;['reads']=0x0;[_0x1af94f(0x3e6)]=!0x1;constructor(_0x28fefa,_0x56ce0b,_0x17af8b,_0x53d08e,_0x4bc1bd){const _0xc44b33=_0x1af94f;if(_0xc44b33(0x4e9)!=typeof _0x56ce0b)throw new _0x3b3113(_0x56d472[_0xc44b33(0x269)],_0xc44b33(0x842));super(_0x28fefa,_0x56ce0b),this[_0xc44b33(0x658)]=_0x28fefa,this['clusterId']=_0x17af8b,this['vendorId']=_0x53d08e;const _0x58ebc8=_0xc44b33(0xa2f)+this[_0xc44b33(0x90c)]+_0xc44b33(0xa2f)+this['clusterId']+'ccc'+this[_0xc44b33(0xf1)];this['db']=new _0x4bc1bd(_0x58ebc8),this[_0xc44b33(0x9ed)]();}[_0x1af94f(0x130)](){const _0x641abb=_0x1af94f;return this[_0x641abb(0x3e6)];}['setIsLoaded'](_0x4dbcb7){const _0x14cc4d=_0x1af94f;this[_0x14cc4d(0x3e6)]=_0x4dbcb7;}[_0x1af94f(0x541)](){clearTimeout(this['debounceStats']),delete this['debounceStats'],super['destroy']();}[_0x1af94f(0x92f)](){const _0x1491f9=_0x1af94f;this['systemTopic']['publish']({'sourceId':_0x50bf9f,'messageType':_0x502914[_0x1491f9(0x54e)],'content':{'type':_0x20f4a0[_0x1491f9(0x517)],'label':this[_0x1491f9(0xf1)]}});}[_0x1af94f(0x8f7)](){const _0x3bda7c=_0x1af94f;return _0xb0907f[_0x3bda7c(0x178)]['GraphDatabase'];}[_0x1af94f(0x9b6)](){const _0x2a8e3c=_0x1af94f;this[_0x2a8e3c(0x9ed)]();}[_0x1af94f(0x556)](_0x5e0dee,_0x155089,_0x43899c,_0x543011){const _0x394dd8=_0x1af94f;this['db']['addNode'](_0x5e0dee,_0x155089,_0x43899c,_0x543011),this[_0x394dd8(0xa05)]+=0x1,this[_0x394dd8(0x9ed)]();}['addEdge'](_0x5d247c,_0x4ac741){const _0x4c6630=_0x1af94f;this['db'][_0x4c6630(0x1a7)](_0x5d247c,_0x4ac741),this['writes']+=0x1,this[_0x4c6630(0x9ed)]();}[_0x1af94f(0x2dc)](_0x1fa3c8,_0x10853b,_0x52507a){const _0x498d53=_0x1af94f,_0x2a8ba6=this['db']['getContent'](_0x1fa3c8,_0x10853b,_0x52507a);return this[_0x498d53(0x8bf)]+=0x1,_0x5999e0[_0x498d53(0x624)](_0x53b20f['GraphDatabase'],{'type':_0x498d53(0x957),'label':this[_0x498d53(0xf1)],'nodeId':this[_0x498d53(0x658)][_0x498d53(0x8f3)](),'nodeType':this[_0x498d53(0x658)]['type'],'clusterId':this[_0x498d53(0x230)],'size':0x0}),this['sendStats'](),_0x2a8ba6;}[_0x1af94f(0x1e7)](_0x24f242){const _0x28d9af=_0x1af94f;this['db'][_0x28d9af(0x1e7)](_0x24f242),this['writes']+=0x1,this['sendStats']();}[_0x1af94f(0x2e7)](_0x5c744a){this['db']['saveToDisk'](_0x5c744a);}['loadFromDisk'](_0x42637a){const _0x535543=_0x1af94f;this['db'][_0x535543(0x722)](_0x42637a);}['sendStats'](){const _0x4895c0=_0x1af94f;this[_0x4895c0(0x11a)]&&clearTimeout(this[_0x4895c0(0x11a)]),this[_0x4895c0(0x11a)]=setTimeout(async()=>{const _0x433d56=_0x4895c0;delete this['debounceStats'];const _0x49e1a2=this['db']['getSize']();this[_0x433d56(0x316)][_0x433d56(0x3ec)]({'sourceId':_0x50bf9f,'messageType':_0x502914['Content'],'content':{'type':_0x20f4a0[_0x433d56(0x7eb)],'label':this[_0x433d56(0xf1)],'stats':{'timestamp':Date['now'](),'storage':_0x49e1a2,'messagesSent':this[_0x433d56(0x7a2)],'messagesReceived':this[_0x433d56(0x9c7)],'bytesSent':this[_0x433d56(0x525)],'bytesReceived':this['bytesReceived'],'writes':this[_0x433d56(0xa05)],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),_0x5999e0[_0x433d56(0x5a5)](_0x53b20f[_0x433d56(0x835)],_0x433d56(0xa2f)+this[_0x433d56(0x230)]+_0x433d56(0xa2f)+this[_0x433d56(0xf1)],_0x49e1a2);},_0x33f6e5);}}class _0x27673e extends _0x1fbec9{['mediaStream'];constructor(_0x58ea24,_0x254394,_0x294114){const _0x58398c=_0x1af94f;super(_0x58ea24,_0x254394),this[_0x58398c(0x35c)]=_0x294114;}['getContentType'](){const _0x462866=_0x1af94f;return _0xb0907f[_0x462866(0x178)][_0x462866(0x6af)];}['getMediaStream'](){return this['mediaStream'];}[_0x1af94f(0x347)](){const _0x3347a9=_0x1af94f;return this[_0x3347a9(0x35c)]['id'];}}class _0x2cd1b9 extends _0x27673e{[_0x1af94f(0x209)];[_0x1af94f(0x63c)];[_0x1af94f(0x4aa)];['unregisterPublisherListener']=_0x34d40a();constructor(_0x5c8dcc,_0xecb1e5,_0x177c0f,_0x1ba5ac,_0x563eca){const _0x522aea=_0x1af94f;super(_0x5c8dcc,_0xecb1e5,_0x177c0f),this[_0x522aea(0x209)]=_0x1ba5ac,this['params']=_0x563eca;}[_0x1af94f(0x541)](){const _0x3da905=_0x1af94f;this['removeTrack'](_0x3da905(0x809)),this[_0x3da905(0x30e)](_0x3da905(0x228)),super['destroy']();}['addTrack'](_0x289925){const _0x203cda=_0x1af94f;if(!this[_0x203cda(0x4aa)])throw new _0x3c8547(_0x3c8547[_0x203cda(0x700)][_0x203cda(0xe4)],{'label':this['label'],'ownerId':this[_0x203cda(0x3d5)][_0x203cda(0x8f3)](),'remoteId':this[_0x203cda(0x209)]});this[_0x203cda(0x4aa)]['publish']({'sourceId':this[_0x203cda(0x3d5)][_0x203cda(0x8f3)](),'content':{'action':_0x28c078[_0x203cda(0x7f5)],'track':_0x289925,'stream':this[_0x203cda(0x35c)],'priority':_0xb0907f[_0x203cda(0x650)]['Default'],'params':this[_0x203cda(0x4fe)](_0x289925['kind'],this[_0x203cda(0x63c)])}});}['removeTrack'](_0x537e09){const _0x9f94e9=_0x1af94f,_0x281798=this[_0x9f94e9(0x6f6)](_0x537e09);if(_0x281798){if(!this[_0x9f94e9(0x4aa)])return null;this['topic']['publish']({'sourceId':this[_0x9f94e9(0x3d5)]['getId'](),'content':{'action':_0x28c078[_0x9f94e9(0x769)],'track':_0x281798,'stream':this[_0x9f94e9(0x35c)]}});}return _0x281798;}[_0x1af94f(0x5bc)](_0x1964a0){const _0x3f5be6=_0x1af94f;if(!this[_0x3f5be6(0x4aa)])throw new _0x3c8547(_0x3c8547[_0x3f5be6(0x700)][_0x3f5be6(0xe4)],{'label':this['label'],'ownerId':this['owner']['getId'](),'remoteId':this[_0x3f5be6(0x209)]});this[_0x3f5be6(0x4aa)][_0x3f5be6(0x3ec)]({'sourceId':this[_0x3f5be6(0x3d5)][_0x3f5be6(0x8f3)](),'content':{'action':_0x28c078[_0x3f5be6(0x4fc)],'priority':_0x1964a0,'stream':this[_0x3f5be6(0x35c)]}});}[_0x1af94f(0x9f2)]({trackKinds:_0x26b9aa,params:_0x184d73},_0xb3f43){const _0x5bd8a2=_0x1af94f;if(!this['topic'])throw new _0x3c8547(_0x3c8547[_0x5bd8a2(0x700)][_0x5bd8a2(0xe4)],{'label':this[_0x5bd8a2(0xf1)],'ownerId':this['owner'][_0x5bd8a2(0x8f3)](),'remoteId':this['remoteId']});for(const _0x562881 of this[_0x5bd8a2(0x35c)]['getTracks']())_0x26b9aa['includes'](_0x562881[_0x5bd8a2(0x832)])&&this[_0x5bd8a2(0x4aa)][_0x5bd8a2(0x3ec)]({'sourceId':this[_0x5bd8a2(0x3d5)][_0x5bd8a2(0x8f3)](),'content':{'action':_0x28c078[_0x5bd8a2(0x7f5)],'track':_0x562881,'stream':this['mediaStream'],'priority':_0xb3f43,'params':this[_0x5bd8a2(0x4fe)](_0x562881[_0x5bd8a2(0x832)],_0x184d73)}});}['update']({params:_0x5eb3cb}){const _0x358a58=_0x1af94f;if(!this[_0x358a58(0x4aa)])throw new _0x3c8547(_0x3c8547[_0x358a58(0x700)][_0x358a58(0xe4)],{'label':this[_0x358a58(0xf1)],'ownerId':this[_0x358a58(0x3d5)][_0x358a58(0x8f3)](),'remoteId':this['remoteId']});for(const _0x50d22b of this[_0x358a58(0x35c)][_0x358a58(0x26d)]())this['topic'][_0x358a58(0x3ec)]({'sourceId':this['owner'][_0x358a58(0x8f3)](),'content':{'action':_0x28c078[_0x358a58(0x4fc)],'stream':this[_0x358a58(0x35c)],'params':this[_0x358a58(0x4fe)](_0x50d22b['kind'],_0x5eb3cb)}});}[_0x1af94f(0x885)]({trackKinds:_0x1aeb3d}){const _0x3d7226=_0x1af94f;if(this['topic']){for(const _0x2557cf of this[_0x3d7226(0x35c)][_0x3d7226(0x26d)]())_0x1aeb3d['includes'](_0x2557cf[_0x3d7226(0x832)])&&this[_0x3d7226(0x4aa)]['publish']({'sourceId':this[_0x3d7226(0x3d5)][_0x3d7226(0x8f3)](),'content':{'action':_0x28c078[_0x3d7226(0x769)],'stream':this[_0x3d7226(0x35c)],'track':_0x2557cf}});}}['registerPublisher'](_0x2c1b40){this['topic']=_0x2c1b40;}[_0x1af94f(0x3ea)](_0x2eb6c1){const _0x22e4bc=_0x1af94f;_0x2eb6c1===this[_0x22e4bc(0x4aa)]&&(delete this[_0x22e4bc(0x4aa)],this['unregisterPublisherListener'][_0x22e4bc(0x3ec)]());}[_0x1af94f(0x22a)](_0x411f7f){const _0x487e3a=_0x1af94f;return this['unregisterPublisherListener'][_0x487e3a(0x9f2)](_0x411f7f);}[_0x1af94f(0x6f6)](_0x474b14){const _0x4aff18=_0x1af94f;return this['mediaStream'][_0x4aff18(0x26d)]()[_0x4aff18(0x7ef)](_0x481a9b=>_0x481a9b['kind']===_0x474b14)||null;}[_0x1af94f(0x4fe)](_0x396501,_0x465f38){const _0x430596=_0x1af94f;let _0xe581ec;return _0x430596(0x228)===_0x396501&&_0x465f38?.[_0x430596(0x228)]&&'boolean'!=typeof _0x465f38[_0x430596(0x228)]&&(_0xe581ec={'kind':_0x430596(0x228),..._0x465f38[_0x430596(0x228)]},_0xe581ec[_0x430596(0x613)]=this[_0x430596(0x217)]()),_0x430596(0x809)===_0x396501&&_0x465f38?.[_0x430596(0x809)]&&_0x430596(0x3f1)!=typeof _0x465f38['audio']&&(_0xe581ec={'kind':_0x430596(0x809),..._0x465f38['audio']}),_0xe581ec;}[_0x1af94f(0x217)](){const _0x73393b=_0x1af94f;let _0x559644={'width':0x0,'height':0x0};const _0x1679ef=this[_0x73393b(0x35c)][_0x73393b(0x39e)]();if(_0x1679ef['length']>0x0){const _0x63fcfa=_0x1679ef[0x0][_0x73393b(0x28e)]();_0x63fcfa[_0x73393b(0x52d)]&&_0x63fcfa[_0x73393b(0x9a1)]&&(_0x559644={'width':_0x63fcfa[_0x73393b(0x52d)],'height':_0x63fcfa['height']});}return _0x559644;}}class _0x3fc26a extends _0x27673e{['clusterId'];[_0x1af94f(0x66a)]=_0xb0907f[_0x1af94f(0x650)]['Default'];[_0x1af94f(0x5f3)]=new Map();[_0x1af94f(0x952)]=new Map();constructor(_0x372998,_0x174853,_0x2df424,_0x2c7af2){const _0x47c101=_0x1af94f;super(_0x372998,_0x174853,_0x2df424 instanceof MediaStream?_0x2df424:_0x2df424[_0x47c101(0x98d)]?_0x2df424[_0x47c101(0x98d)]:_0x2df424['captureStream']()),this['clusterId']=_0x2c7af2,this[_0x47c101(0x35c)][_0x47c101(0x26d)]()[_0x47c101(0x333)](_0x3521c5=>this[_0x47c101(0x9b2)](_0x3521c5)),_0x5999e0['logServiceEvent'](_0x53b20f[_0x47c101(0x6ca)],{'type':'publish','label':this['label'],'nodeId':this['owner']['getId'](),'nodeType':this[_0x47c101(0x3d5)][_0x47c101(0x44f)],'clusterId':this[_0x47c101(0x230)],'streamId':this[_0x47c101(0x347)](),'trackKinds':this[_0x47c101(0x35c)][_0x47c101(0x26d)]()['map'](_0x4458bc=>_0x4458bc[_0x47c101(0x832)])});}[_0x1af94f(0x541)](){const _0xc15f4d=_0x1af94f;this['outgoingStreams'][_0xc15f4d(0xa20)]>0x0&&(this['outgoingStreams']['forEach'](_0x1c04c2=>{const _0x1f90d2=_0xc15f4d;_0x1c04c2[_0x1f90d2(0x466)](),_0x1c04c2[_0x1f90d2(0x541)]();}),this[_0xc15f4d(0x952)][_0xc15f4d(0xa4f)]()),this['trackEndedListeners']['forEach'](_0x4fbfa8=>_0x4fbfa8()),super[_0xc15f4d(0x541)]();}[_0x1af94f(0x3ec)](_0x10a740){const _0x5b0684=_0x1af94f;this['systemTopic'][_0x5b0684(0x3ec)]({'sourceId':this['owner'][_0x5b0684(0x8f3)](),'destinationIds':_0x10a740?[_0x10a740]:void 0x0,'propagate':!0x0,'messageType':_0x502914[_0x5b0684(0x54e)],'content':{'type':_0x20f4a0[_0x5b0684(0x6da)],'ownerId':this[_0x5b0684(0x3d5)][_0x5b0684(0x8f3)](),'label':this[_0x5b0684(0xf1)],'stream':{'streamId':this[_0x5b0684(0x347)](),'availableTrackKinds':this[_0x5b0684(0x35c)]['getTracks']()[_0x5b0684(0x7d0)](_0x1a1bbc=>_0x1a1bbc['kind'])}}});}[_0x1af94f(0x32f)](){const _0x17c8d8=_0x1af94f;this[_0x17c8d8(0x316)][_0x17c8d8(0x3ec)]({'sourceId':this[_0x17c8d8(0x3d5)][_0x17c8d8(0x8f3)](),'propagate':!0x0,'messageType':_0x502914[_0x17c8d8(0x54e)],'content':{'type':_0x20f4a0[_0x17c8d8(0x95c)],'ownerId':this[_0x17c8d8(0x3d5)][_0x17c8d8(0x8f3)](),'label':this[_0x17c8d8(0xf1)]}}),this[_0x17c8d8(0x316)][_0x17c8d8(0x3ec)]({'sourceId':_0x50bf9f,'messageType':_0x502914['Content'],'content':{'type':_0x20f4a0[_0x17c8d8(0x762)],'label':this[_0x17c8d8(0xf1)]}}),_0x5999e0[_0x17c8d8(0x624)](_0x53b20f[_0x17c8d8(0x6ca)],{'type':_0x17c8d8(0x32f),'label':this[_0x17c8d8(0xf1)],'nodeId':this[_0x17c8d8(0x3d5)][_0x17c8d8(0x8f3)](),'nodeType':this[_0x17c8d8(0x3d5)][_0x17c8d8(0x44f)],'clusterId':this['clusterId'],'streamId':this[_0x17c8d8(0x347)]()});}[_0x1af94f(0x3a8)](){const _0x3d0441=_0x1af94f;return this[_0x3d0441(0x66a)];}[_0x1af94f(0x5bc)](_0x1b7d05){const _0xb386d1=_0x1af94f;this[_0xb386d1(0x66a)]=_0x1b7d05,this[_0xb386d1(0x952)]['forEach'](_0x1e759a=>_0x1e759a[_0xb386d1(0x5bc)](_0x1b7d05));}[_0x1af94f(0x75e)](_0x5604b7,_0x1b50af){const _0x5149c8=_0x1af94f;if(!this[_0x5149c8(0x952)][_0x5149c8(0x907)](_0x5604b7)){const _0x1e0d5f=new _0x2cd1b9(this['owner'],this[_0x5149c8(0xf1)],this['mediaStream'],_0x5604b7,_0x1b50af),_0x365a8e=_0x1e0d5f[_0x5149c8(0x22a)](()=>{const _0x4d4b4d=_0x5149c8;_0x365a8e(),this[_0x4d4b4d(0x952)]['get'](_0x5604b7)?.[_0x4d4b4d(0x541)](),this[_0x4d4b4d(0x952)][_0x4d4b4d(0x8e1)](_0x5604b7);});this[_0x5149c8(0x952)][_0x5149c8(0x81a)](_0x5604b7,_0x1e0d5f),_0x1e0d5f[_0x5149c8(0x412)](this[_0x5149c8(0x316)]);}return this[_0x5149c8(0x952)][_0x5149c8(0x70a)](_0x5604b7);}[_0x1af94f(0x9ac)](){return this['mediaStream']['id'];}[_0x1af94f(0x2c7)](_0x1ce7e5){const _0x15e5f2=_0x1af94f;this[_0x15e5f2(0x316)]['publish']({'sourceId':_0x50bf9f,'messageType':_0x502914['Content'],'content':{'type':_0x20f4a0['LocalMediaStreamTrackFail'],'label':this[_0x15e5f2(0xf1)],'trackKinds':[_0x1ce7e5[_0x15e5f2(0x832)]]}});}[_0x1af94f(0x9b2)](_0x416ce3){const _0xbcc1c0=_0x1af94f,_0x4dd9a0=()=>this[_0xbcc1c0(0x2c7)](_0x416ce3);_0x416ce3[_0xbcc1c0(0x1c8)](_0xbcc1c0(0x995),_0x4dd9a0),_0x416ce3[_0xbcc1c0(0x1c8)](_0xbcc1c0(0x875),_0x4dd9a0),this[_0xbcc1c0(0x5f3)][_0xbcc1c0(0x81a)](_0x416ce3['kind'],()=>{const _0x299a0d=_0xbcc1c0;_0x416ce3[_0x299a0d(0x3cc)](_0x299a0d(0x995),_0x4dd9a0),_0x416ce3[_0x299a0d(0x3cc)](_0x299a0d(0x875),_0x4dd9a0),this['trackEndedListeners'][_0x299a0d(0x8e1)](_0x416ce3[_0x299a0d(0x832)]);});}}class _0x2665fc extends _0x3fc26a{[_0x1af94f(0x479)];[_0x1af94f(0x88a)]=[];[_0x1af94f(0x5e4)];[_0x1af94f(0x800)];[_0x1af94f(0x20c)];['sourceVideo'];['canvas'];[_0x1af94f(0x88f)];['interval'];constructor(_0x1c119e,_0x55ca6d,_0x224b2b,_0xdcd55d,_0x1e9779,_0x1e486f){const _0xbb242d=_0x1af94f;if(super(_0x1c119e,_0x55ca6d,_0x224b2b,_0x1e486f),this[_0xbb242d(0x479)]=_0x1e9779,this['clientStream']=this[_0xbb242d(0x35c)],this[_0xbb242d(0x11d)]=document[_0xbb242d(0x884)](_0xbb242d(0x228)),this['sourceVideo'][_0xbb242d(0x121)]=!0x0,this[_0xbb242d(0x11d)][_0xbb242d(0x39b)]=!0x0,this['sourceVideo'][_0xbb242d(0x98d)]=this[_0xbb242d(0x5e4)],this[_0xbb242d(0x11d)][_0xbb242d(0x4f5)](),this[_0xbb242d(0x11d)][_0xbb242d(0x794)]=()=>{const _0x4dca7d=_0xbb242d;this[_0x4dca7d(0x11d)][_0x4dca7d(0x7b2)]();},this[_0xbb242d(0x397)]=document[_0xbb242d(0x884)](_0xbb242d(0x397)),this[_0xbb242d(0x88f)]=this[_0xbb242d(0x397)][_0xbb242d(0x10a)]('2d'),this['mediaStream']=this[_0xbb242d(0x397)][_0xbb242d(0xa36)](_0xdcd55d),this['audioDestination']=this[_0xbb242d(0x479)]['createMediaStreamDestination'](),this['clientStream']['getAudioTracks']()[_0xbb242d(0x71c)]>0x0){const _0x241cae=this[_0xbb242d(0x5e4)][_0xbb242d(0x4b6)]()[0x0];this[_0xbb242d(0x800)]=this[_0xbb242d(0x479)][_0xbb242d(0x1c9)](new MediaStream([_0x241cae])),this[_0xbb242d(0x800)][_0xbb242d(0x718)](this[_0xbb242d(0x20c)]);}const _0x592176=this[_0xbb242d(0x20c)][_0xbb242d(0x35e)][_0xbb242d(0x26d)]()[0x0];this[_0xbb242d(0x35c)][_0xbb242d(0x55e)](_0x592176),this['interval']=setInterval(()=>{const _0x5800a6=_0xbb242d;this[_0x5800a6(0x397)][_0x5800a6(0x52d)]=this[_0x5800a6(0x11d)]['videoWidth'],this['canvas'][_0x5800a6(0x9a1)]=this[_0x5800a6(0x11d)][_0x5800a6(0x532)],this[_0x5800a6(0x11d)][_0x5800a6(0x94c)]?(0x0!==this[_0x5800a6(0x5e4)]['getVideoTracks']()['length']&&this['clientStream'][_0x5800a6(0x39e)]()[0x0][_0x5800a6(0x5b0)]?this['mediaStream'][_0x5800a6(0x39e)]()[0x0][_0x5800a6(0x5b0)]=!0x0:this[_0x5800a6(0x35c)][_0x5800a6(0x39e)]()[0x0][_0x5800a6(0x5b0)]=!0x1,0x0!==this['clientStream']['getAudioTracks']()[_0x5800a6(0x71c)]&&this[_0x5800a6(0x5e4)][_0x5800a6(0x4b6)]()[0x0]['enabled']?this[_0x5800a6(0x35c)][_0x5800a6(0x4b6)]()[0x0][_0x5800a6(0x5b0)]=!0x0:this[_0x5800a6(0x35c)]['getAudioTracks']()[0x0][_0x5800a6(0x5b0)]=!0x1,this['context'][_0x5800a6(0x919)](this[_0x5800a6(0x11d)],0x0,0x0)):this[_0x5800a6(0x88f)][_0x5800a6(0x110)](0x0,0x0,this['canvas'][_0x5800a6(0x52d)],this['canvas'][_0x5800a6(0x9a1)]);},0x3e8/_0xdcd55d);}['destroy'](){const _0x4812c2=_0x1af94f;clearInterval(this[_0x4812c2(0x8dd)]),this[_0x4812c2(0x11d)][_0x4812c2(0x1e7)](),this['canvas'][_0x4812c2(0x1e7)](),this[_0x4812c2(0x800)]?.[_0x4812c2(0x311)](),this[_0x4812c2(0x20c)][_0x4812c2(0x311)](),this[_0x4812c2(0x35c)][_0x4812c2(0x26d)]()[_0x4812c2(0x333)](_0x55ae7d=>{const _0x1ec1ee=_0x4812c2;_0x55ae7d[_0x1ec1ee(0x436)](),this['mediaStream']['removeTrack'](_0x55ae7d);}),super[_0x4812c2(0x541)]();}[_0x1af94f(0x55e)](_0x1826f0){const _0x5d89f4=_0x1af94f,_0x58466b=this[_0x5d89f4(0x6f6)](_0x1826f0['kind']);_0x58466b&&this[_0x5d89f4(0x30e)](_0x58466b),'audio'!==_0x1826f0[_0x5d89f4(0x832)]?(_0x5d89f4(0x228)===_0x1826f0[_0x5d89f4(0x832)]&&this['addVideoTrack'](_0x1826f0),this[_0x5d89f4(0x9b2)](_0x1826f0)):this[_0x5d89f4(0x85d)](_0x1826f0);}['removeTrack'](_0x1c2750){const _0x5764dd=_0x1af94f,_0xbb5260=this[_0x5764dd(0x461)](_0x1c2750);return _0xbb5260&&('audio'===_0xbb5260[_0x5764dd(0x832)]&&(this[_0x5764dd(0x800)]?.[_0x5764dd(0x311)](),this[_0x5764dd(0x800)]=void 0x0),this[_0x5764dd(0x5f3)]['get'](_0xbb5260[_0x5764dd(0x832)])?.(),this['clientStream']['removeTrack'](_0xbb5260)),_0xbb5260;}[_0x1af94f(0x11b)](_0x460aa7){const _0xbc552c=_0x1af94f;this[_0xbc552c(0x30e)](_0x460aa7[_0xbc552c(0x832)]),this[_0xbc552c(0x55e)](_0x460aa7);}['setTransformations'](_0x18db7c){this['transformations']=_0x18db7c;}[_0x1af94f(0x6f6)](_0x37695d){const _0x5ac75d=_0x1af94f;return this[_0x5ac75d(0x5e4)][_0x5ac75d(0x26d)]()[_0x5ac75d(0x7ef)](_0x35174d=>_0x35174d[_0x5ac75d(0x832)]===_0x37695d)||null;}[_0x1af94f(0x461)](_0x54687a){const _0x3ff52b=_0x1af94f;return _0x3ff52b(0x4e9)==typeof _0x54687a?this[_0x3ff52b(0x6f6)](_0x54687a):_0x54687a;}[_0x1af94f(0x85d)](_0x123bcf){const _0xe5c24b=_0x1af94f;_0xe5c24b(0x292)===this[_0xe5c24b(0x479)][_0xe5c24b(0x7f3)]&&this[_0xe5c24b(0x479)][_0xe5c24b(0x939)](),this[_0xe5c24b(0x5e4)][_0xe5c24b(0x55e)](_0x123bcf),this[_0xe5c24b(0x800)]=this[_0xe5c24b(0x479)][_0xe5c24b(0x1c9)](this[_0xe5c24b(0x5e4)]),this[_0xe5c24b(0x800)][_0xe5c24b(0x718)](this[_0xe5c24b(0x20c)]);}[_0x1af94f(0xa3e)](_0x3463eb){const _0x56ab22=_0x1af94f;this['clientStream'][_0x56ab22(0x55e)](_0x3463eb),this[_0x56ab22(0x11d)]['load']();}}class _0x564473 extends _0x3fc26a{}class _0x58e46b extends _0x1eef03{[_0x1af94f(0x658)];['clusterId'];[_0x1af94f(0x90c)];[_0x1af94f(0x155)];['waitForArrayBufferSize'];['options'];['unsubscribeHandler'];[_0x1af94f(0x6b1)];[_0x1af94f(0x4b7)]=new Map();[_0x1af94f(0x9d1)]=new Map();[_0x1af94f(0x605)]=new Map();[_0x1af94f(0x42d)]=new Map();[_0x1af94f(0x2ef)]=new Map();[_0x1af94f(0x2a4)]=new Map();[_0x1af94f(0x824)];[_0x1af94f(0x6bb)]=_0x69b7e5();[_0x1af94f(0x5ef)]=new Map();['debounceStats'];['writes']=0x0;[_0x1af94f(0x8bf)]=0x0;['syncContent']=!0x0;[_0x1af94f(0x942)]=!0x0;[_0x1af94f(0x368)]=0x0;[_0x1af94f(0x395)]=0x0;constructor(_0x30cda6,_0xfab47,_0x2f6120,_0x55314,_0x47f83b,_0x4c1633,_0x2f04a5,_0x3662bc){const _0x8be1c7=_0x1af94f;if(_0x8be1c7(0x4e9)!=typeof _0xfab47)throw new _0x3b3113(_0x56d472['ObjectStoreNameNotString'],'Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string');super(_0x30cda6,_0xfab47),this[_0x8be1c7(0x658)]=_0x30cda6,this[_0x8be1c7(0x230)]=_0x2f6120,this[_0x8be1c7(0x90c)]=_0x55314,this[_0x8be1c7(0x155)]=_0x47f83b,this[_0x8be1c7(0x845)]=_0x2f04a5,this[_0x8be1c7(0x9b8)]=_0x3662bc;const _0x1ac9f8=_0x8be1c7(0xa2f)+this[_0x8be1c7(0x90c)]+_0x8be1c7(0xa2f)+this[_0x8be1c7(0x230)]+_0x8be1c7(0xa2f)+_0xfab47;this[_0x8be1c7(0x824)]=new _0x4c1633(_0x1ac9f8),this['syncContent']=this[_0x8be1c7(0x9b8)]?.[_0x8be1c7(0x4ae)]??!0x0,this[_0x8be1c7(0x9b8)]?.[_0x8be1c7(0x8c0)]&&(this[_0x8be1c7(0x4ae)]=!0x1),this[_0x8be1c7(0x9ed)]();}['reset'](){const _0x3d641f=_0x1af94f;this[_0x3d641f(0x9ed)]();}[_0x1af94f(0x8f7)](){const _0x41b523=_0x1af94f;return _0xb0907f[_0x41b523(0x178)][_0x41b523(0x196)];}async['sync'](){const _0x5b9d59=_0x1af94f;this[_0x5b9d59(0x942)]=!0x0;try{const _0x26a612=await this[_0x5b9d59(0x824)][_0x5b9d59(0x70a)](_0x19621c),_0x4497e8=await _0x26a612[_0x5b9d59(0x55d)]();this[_0x5b9d59(0x6b1)]=_0x4497e8;}catch(_0x1babf2){}this[_0x5b9d59(0x302)]=this[_0x5b9d59(0x83b)](async(_0x50a3b8,_0x319a88)=>{const _0x58a778=_0x5b9d59;if(!(_0x319a88 instanceof File))try{if(_0x319a88['payloadType']===_0x172358[_0x58a778(0x4e2)])return void this[_0x58a778(0x506)](_0x319a88);this[_0x58a778(0x7c7)](_0x319a88);}catch(_0x27fd6c){if(_0x27fd6c instanceof _0x3c8547)throw _0x27fd6c;throw new _0x3c8547(_0x3c8547[_0x58a778(0x700)]['ObjectStoreInvalidSyncMessage'],{'payload':_0x319a88});}}),await this[_0x5b9d59(0x65e)](),this[_0x5b9d59(0x4ae)]?await this[_0x5b9d59(0x1f1)]():this['completeSync'](),this[_0x5b9d59(0x9ed)]();}[_0x1af94f(0x541)](){const _0x4fc053=_0x1af94f;this[_0x4fc053(0x302)]?.(),this[_0x4fc053(0x5ef)][_0x4fc053(0x333)](_0x458506=>_0x458506()),this['listenerUnsubscribers']['clear'](),clearTimeout(this[_0x4fc053(0x11a)]),delete this[_0x4fc053(0x11a)],super[_0x4fc053(0x541)]();}['close'](){const _0x1c9fde=_0x1af94f;this['systemTopic']?.[_0x1c9fde(0x3ec)]({'sourceId':_0x50bf9f,'messageType':_0x502914['Content'],'content':{'type':_0x20f4a0['CloseObjectStoreBucket'],'label':this[_0x1c9fde(0xf1)]}});}['subscribe'](_0x3f14d5,_0x361ae8){const _0x5d502c=_0x1af94f;if(this[_0x5d502c(0x5ef)][_0x5d502c(0x907)](_0x3f14d5))throw new _0x3b3113(_0x56d472[_0x5d502c(0x90e)],_0x5d502c(0x8a7));this[_0x5d502c(0x5ef)][_0x5d502c(0x81a)](_0x3f14d5,this[_0x5d502c(0x6bb)]['subscribe'](_0x361ae8)),this[_0x5d502c(0x942)]||this[_0x5d502c(0x6bb)]['publish']({'event':_0xb0907f[_0x5d502c(0x208)][_0x5d502c(0x5f2)],'payload':{'filesSynced':this[_0x5d502c(0x368)]}});}[_0x1af94f(0x885)](_0xb653cd){const _0x2d2b3f=_0x1af94f;this[_0x2d2b3f(0x5ef)]['get'](_0xb653cd)?.(),this['listenerUnsubscribers']['delete'](_0xb653cd);}['publish'](_0x10fe8c){const _0x377725=_0x1af94f;switch(_0x10fe8c[_0x377725(0x3e8)]){case _0xb0907f[_0x377725(0x3c8)][_0x377725(0x372)]:return this[_0x377725(0x725)](_0x10fe8c[_0x377725(0x5dc)],_0x10fe8c[_0x377725(0x1e6)],_0x10fe8c[_0x377725(0x9b8)]);case _0xb0907f[_0x377725(0x3c8)]['Folder']:return this['publishFolder'](_0x10fe8c[_0x377725(0x1e6)]);case _0xb0907f['PayloadAction'][_0x377725(0x765)]:return this[_0x377725(0x645)](_0x10fe8c['path'],_0x10fe8c['newPath']);default:throw new _0x3b3113(_0x56d472[_0x377725(0x229)],'Cannot\x20publish\x20payload:\x20'+_0x10fe8c);}}async[_0x1af94f(0x32f)](_0x254946){const _0x3f6ce2=_0x1af94f;try{const _0x409d79=(0x0,_0x2a820b['v4'])(),_0x265c91=this[_0x3f6ce2(0x6b1)],_0x4fa999={'payloadType':_0x172358[_0x3f6ce2(0x68f)],'action':_0x47fac3[_0x3f6ce2(0x1a4)],'id':_0x409d79,'parentId':_0x265c91,'path':_0x254946};await this[_0x3f6ce2(0x4db)](_0x4fa999);const _0x41e042=await this['deleteObject'](_0x254946);!0x0!==this[_0x3f6ce2(0x9b8)]?.[_0x3f6ce2(0x8c0)]&&await this['send'](_0x4fa999),_0x5999e0[_0x3f6ce2(0x624)](_0x53b20f[_0x3f6ce2(0x9a9)],{'type':_0x3f6ce2(0x32f),'label':this[_0x3f6ce2(0xf1)],'nodeId':this[_0x3f6ce2(0x658)][_0x3f6ce2(0x8f3)](),'nodeType':this['localNode']['type'],'clusterId':this[_0x3f6ce2(0x230)],'kind':_0x41e042,'path':_0x254946}),this['writes']+=0x1,this['sendStats']();}catch(_0x313e9b){if(_0x313e9b instanceof _0x3c8547)throw new _0x3b3113(_0x56d472[_0x3f6ce2(0x73a)],'Cannot\x20unpublish\x20object\x20at\x20'+_0x254946+_0x3f6ce2(0x9cc));throw new _0x3b3113(_0x56d472[_0x3f6ce2(0x9e6)],_0x3f6ce2(0x972)+_0x254946);}}async['get'](_0x262d5f,_0x293bac){const _0x582417=_0x1af94f;_0x5999e0[_0x582417(0x624)](_0x53b20f[_0x582417(0x9a9)],{'type':_0x582417(0x70a),'label':this['label'],'nodeId':this['localNode'][_0x582417(0x8f3)](),'nodeType':this['localNode']['type'],'clusterId':this[_0x582417(0x230)],'path':_0x262d5f}),this[_0x582417(0x8bf)]+=0x1,this[_0x582417(0x9ed)]();try{return await this['objectStoreConnector']['get'](_0x262d5f,_0x293bac);}catch(_0x134c17){try{await this[_0x582417(0x824)][_0x582417(0x70a)](_0x262d5f+_0x32b883);}catch(_0x23c951){throw new _0x3b3113(_0x56d472['ObjectStoreInvalidPath'],_0x582417(0x287)+_0x262d5f);}throw new _0x3b3113(_0x56d472[_0x582417(0x73a)],'Object\x20store\x20is\x20not\x20in\x20sync');}}async[_0x1af94f(0x3d1)](_0x408465,_0x5d4c26){const _0x496b50=_0x1af94f,{recursive:_0x4e4a5f=!0x1,includeSyncingFiles:_0x2b04b3=!0x1}=_0x5d4c26??{};_0x5999e0[_0x496b50(0x624)](_0x53b20f[_0x496b50(0x9a9)],{'type':_0x496b50(0x3d1),'label':this[_0x496b50(0xf1)],'nodeId':this[_0x496b50(0x658)][_0x496b50(0x8f3)](),'nodeType':this[_0x496b50(0x658)][_0x496b50(0x44f)],'clusterId':this[_0x496b50(0x230)],'path':_0x408465}),this[_0x496b50(0x8bf)]+=0x1,this[_0x496b50(0x9ed)]();try{const _0x2188a9=await this[_0x496b50(0x824)][_0x496b50(0x3d1)](_0x408465,_0x4e4a5f);return this[_0x496b50(0x214)](_0x2188a9,{'recursive':_0x4e4a5f,'includeSyncingFiles':_0x2b04b3});}catch(_0x3d698e){throw new _0x3b3113(_0x56d472[_0x496b50(0x9e6)],_0x496b50(0x5a2)+_0x408465);}}[_0x1af94f(0x9bf)](_0x3b9830){const _0x5ea32f=_0x1af94f;this[_0x5ea32f(0x395)]+=0x1;for(const _0x5264aa of this['objectRequests'][_0x5ea32f(0x7e5)]())this['send'](_0x5264aa,[_0x3b9830]);}[_0x1af94f(0x2a3)](_0x5a07e5){const _0xdd7d1d=_0x1af94f;this[_0xdd7d1d(0x395)]-=0x1;const _0x117efc=this[_0xdd7d1d(0x605)][_0xdd7d1d(0x70a)](_0x5a07e5);if(_0x117efc){for(const [_0x273345,_0x98133c]of _0x117efc[_0xdd7d1d(0x7e5)]())this[_0xdd7d1d(0x56d)](_0x273345,_0x98133c);this['pendingFilesSyncing'][_0xdd7d1d(0x8e1)](_0x5a07e5);}}async[_0x1af94f(0x677)](_0x12e6ca='/'){const _0x157105=_0x1af94f;try{return await this[_0x157105(0x824)]['calculateSize'](_0x12e6ca);}catch(_0x442f9e){if(_0x442f9e instanceof Error&&_0x442f9e[_0x157105(0x802)]['includes'](_0x157105(0xa01)))return 0x0;throw new _0x3b3113(_0x56d472['ObjectStoreInvalidPath'],_0x157105(0x232)+_0x12e6ca);}}[_0x1af94f(0x560)](){const _0x24176b=_0x1af94f;this[_0x24176b(0x942)]&&(this[_0x24176b(0x942)]=!0x1,this[_0x24176b(0x6bb)][_0x24176b(0x3ec)]({'event':_0xb0907f[_0x24176b(0x208)][_0x24176b(0x5f2)],'payload':{'filesSynced':this[_0x24176b(0x368)]}}));}async[_0x1af94f(0x214)](_0x2ea09d,{includeSyncingFiles:_0x5cc78a=!0x1}){const _0x34c720=_0x1af94f,_0x21f025=[];for(const _0x37e9e3 of _0x2ea09d)if(_0x37e9e3[_0x34c720(0x832)]!==_0xb0907f['ObjectKind'][_0x34c720(0x123)]){if(_0x37e9e3[_0x34c720(0x450)]!==_0x19621c){if(_0x37e9e3['name'][_0x34c720(0x29f)](_0x32b883)){if(!_0x5cc78a)continue;const _0xfcc921=_0x37e9e3;if(_0xfcc921[_0x34c720(0x450)]=_0xfcc921[_0x34c720(0x450)]['replace'](_0x32b883,''),_0xfcc921[_0x34c720(0x65b)]=_0xfcc921[_0x34c720(0x65b)][_0x34c720(0x78e)](_0x32b883,''),await this[_0x34c720(0x99b)](_0xfcc921[_0x34c720(0x65b)])){_0x2ea09d[_0x34c720(0x7ef)](_0x90e06a=>_0x90e06a[_0x34c720(0x65b)]===_0xfcc921['pathName'])[_0x34c720(0x8bb)]=_0xb0907f[_0x34c720(0x739)][_0x34c720(0x284)];continue;}_0xfcc921[_0x34c720(0x8bb)]=_0xb0907f[_0x34c720(0x739)][_0x34c720(0x3d7)];}_0x21f025[_0x34c720(0x3d6)](_0x37e9e3);}}else _0x37e9e3[_0x34c720(0xa3a)]=await this['processList'](_0x37e9e3[_0x34c720(0xa3a)]??[],{'includeSyncingFiles':_0x5cc78a}),_0x21f025[_0x34c720(0x3d6)](_0x37e9e3);return _0x21f025;}async[_0x1af94f(0x725)](_0x51d51e,_0x5df6ab,_0x2af236){const _0x2820a6=_0x1af94f;try{const _0xf947a9=(0x0,_0x2a820b['v4'])(),_0x166553=await _0x1ba4cd(_0x51d51e),_0x476692=_0x555f0d(_0x5df6ab??'/',_0x51d51e[_0x2820a6(0x450)]);let _0x2c7c9d=!0x0;const _0x2fe53c={'payloadType':_0x172358[_0x2820a6(0x68f)],'action':_0x47fac3[_0x2820a6(0x21c)],'id':_0xf947a9,'parentId':this[_0x2820a6(0x6b1)],'answererId':this[_0x2820a6(0x658)][_0x2820a6(0x8f3)](),'name':_0x51d51e[_0x2820a6(0x450)],'type':_0x51d51e[_0x2820a6(0x44f)],'path':_0x5df6ab??'/','skipEncryption':_0x2af236?.[_0x2820a6(0x464)]??!0x1,'checksum':_0x166553};try{if(!_0x2af236?.['fetchUrl'])throw new Error(_0x2820a6(0x2ea));const _0x2c4048=_0x476692+_0x32b883;await this[_0x2820a6(0x824)][_0x2820a6(0x70a)](_0x2c4048),_0x2c7c9d=!0x1,await this[_0x2820a6(0x824)]['deleteObject'](_0x2c4048),this[_0x2820a6(0x9d1)][_0x2820a6(0x8e1)](_0x476692);}catch(_0x357cab){await this['publishTransaction'](_0x2fe53c);}if(this['syncContent']||this['options']?.['standalone']?await this['writeFile'](_0x51d51e,_0x5df6ab,_0x2af236):await this['createPendingFileWrite'](_0x51d51e[_0x2820a6(0x450)],_0x5df6ab??'/',{'checksum':_0x166553,'skipEncryption':_0x2af236?.[_0x2820a6(0x464)]??!0x1}),this[_0x2820a6(0x2a4)]['has'](_0x476692)){const [_0x5f425e,_0x557bde]=this[_0x2820a6(0x2a4)][_0x2820a6(0x70a)](_0x476692);this[_0x2820a6(0x2a4)][_0x2820a6(0x81a)](_0x476692,[!0x0,_0x557bde]);try{await _0x557bde;}catch(_0x25ec3d){}this[_0x2820a6(0x2a4)]['delete'](_0x476692);}_0x2c7c9d&&this[_0x2820a6(0x395)]>0x0&&!0x0!==this['options']?.[_0x2820a6(0x8c0)]&&await this[_0x2820a6(0x18d)](_0x51d51e,_0x2fe53c),_0x5999e0[_0x2820a6(0x624)](_0x53b20f[_0x2820a6(0x9a9)],{'type':_0x2820a6(0x3ec),'label':this[_0x2820a6(0xf1)],'nodeId':this[_0x2820a6(0x658)][_0x2820a6(0x8f3)](),'nodeType':this[_0x2820a6(0x658)][_0x2820a6(0x44f)],'clusterId':this[_0x2820a6(0x230)],'kind':_0xb0907f[_0x2820a6(0x463)][_0x2820a6(0x372)],'path':_0x5df6ab,'fileName':_0x51d51e[_0x2820a6(0x450)],'fileType':_0x51d51e['type'],'size':_0x51d51e['size']}),this[_0x2820a6(0xa05)]+=0x1,this['sendStats']();}catch(_0x534d81){if(_0x534d81 instanceof _0x3c8547)throw new _0x3b3113(_0x56d472[_0x2820a6(0x73a)],_0x2820a6(0x8ac));throw new _0x3b3113(_0x56d472['ObjectStoreInvalidPath'],_0x2820a6(0x285)+_0x5df6ab+(_0x5df6ab?.[_0x2820a6(0x29f)]('/')?'':'/')+_0x51d51e[_0x2820a6(0x450)]);}}async[_0x1af94f(0x7b5)](_0x57e652){const _0x105186=_0x1af94f;try{const _0xfa7083=(0x0,_0x2a820b['v4'])(),_0x50342c=this['lastTransactionId'],_0x55bb2f={'payloadType':_0x172358[_0x105186(0x68f)],'action':_0x47fac3[_0x105186(0x831)],'id':_0xfa7083,'parentId':_0x50342c,'path':_0x57e652};await this[_0x105186(0x4db)](_0x55bb2f),await this[_0x105186(0x824)]['createFolder'](_0x57e652),!0x0!==this['options']?.['standalone']&&await this[_0x105186(0x4ef)](_0x55bb2f),_0x5999e0[_0x105186(0x624)](_0x53b20f[_0x105186(0x9a9)],{'type':_0x105186(0x3ec),'label':this[_0x105186(0xf1)],'nodeId':this[_0x105186(0x658)][_0x105186(0x8f3)](),'nodeType':this['localNode'][_0x105186(0x44f)],'clusterId':this[_0x105186(0x230)],'kind':_0xb0907f['ObjectKind'][_0x105186(0x123)],'path':_0x57e652}),this[_0x105186(0xa05)]+=0x1,this[_0x105186(0x9ed)]();}catch(_0x1b96e5){if(_0x1b96e5 instanceof _0x3c8547)throw new _0x3b3113(_0x56d472['ObjectStoreNotInSync'],_0x105186(0x8ac));throw new _0x3b3113(_0x56d472[_0x105186(0x9e6)],_0x105186(0x5cc)+_0x57e652);}}async['publishMove'](_0xe2ca2d,_0x88d809){const _0x28b4a6=_0x1af94f;try{const _0x4010af=(0x0,_0x2a820b['v4'])(),_0x58c98e=this['lastTransactionId'],_0x19efb9={'payloadType':_0x172358['Transaction'],'action':_0x47fac3[_0x28b4a6(0x765)],'id':_0x4010af,'parentId':_0x58c98e,'path':_0xe2ca2d,'newPath':_0x88d809};await this[_0x28b4a6(0x4db)](_0x19efb9);const _0x4f955d=await this[_0x28b4a6(0x661)](_0xe2ca2d,_0x88d809);!0x0!==this[_0x28b4a6(0x9b8)]?.[_0x28b4a6(0x8c0)]&&await this[_0x28b4a6(0x4ef)](_0x19efb9),_0x5999e0['logServiceEvent'](_0x53b20f[_0x28b4a6(0x9a9)],{'type':'move','label':this[_0x28b4a6(0xf1)],'nodeId':this['localNode'][_0x28b4a6(0x8f3)](),'nodeType':this[_0x28b4a6(0x658)]['type'],'clusterId':this['clusterId'],'kind':_0x4f955d,'path':_0xe2ca2d,'newPath':_0x88d809}),this['writes']+=0x1,this[_0x28b4a6(0x9ed)]();}catch(_0xa5fa19){if(_0xa5fa19 instanceof _0x3c8547)throw new _0x3b3113(_0x56d472[_0x28b4a6(0x73a)],_0x28b4a6(0x8ac));throw new _0x3b3113(_0x56d472['ObjectStoreInvalidPath'],_0x28b4a6(0x526)+_0xe2ca2d);}}async[_0x1af94f(0x7c7)](_0x46f39a,_0x111cc8=!0x1){const _0xbd50bf=_0x1af94f;if(this['lastTransactionId']&&_0x46f39a['parentId']!==this[_0xbd50bf(0x6b1)]&&_0x46f39a['id']!==this[_0xbd50bf(0x6b1)]){if(!_0x46f39a[_0xbd50bf(0x76b)])throw new _0x3c8547(_0x3c8547['codes'][_0xbd50bf(0xa3c)]);this[_0xbd50bf(0x4b7)][_0xbd50bf(0x81a)](_0x46f39a[_0xbd50bf(0x76b)],_0x46f39a);}else{try{await this['processTransactionPayload'](_0x46f39a,_0x111cc8);}catch(_0x32161c){}await this[_0xbd50bf(0xa35)](_0x46f39a['id']),await this[_0xbd50bf(0x579)](_0x46f39a['id'],_0x111cc8);}}async[_0x1af94f(0x655)](_0x14a867,_0x2f9b94=!0x1){const _0x59aa86=_0x1af94f;switch(_0x14a867['action']){case _0x47fac3[_0x59aa86(0x21c)]:await this['handleFileWrite'](_0x14a867);break;case _0x47fac3[_0x59aa86(0x831)]:await this[_0x59aa86(0x94b)](_0x14a867);break;case _0x47fac3[_0x59aa86(0x765)]:await this['handleObjectMove'](_0x14a867,_0x2f9b94);break;case _0x47fac3[_0x59aa86(0x1a4)]:await this['handleObjectDelete'](_0x14a867,_0x2f9b94);break;default:throw new _0x3c8547(_0x3c8547[_0x59aa86(0x700)][_0x59aa86(0xa3c)],{'payload':_0x14a867});}}async[_0x1af94f(0x579)](_0xb09241,_0x770fa3=!0x1){const _0x57e2ec=_0x1af94f;if(this['pendingSyncTransactions'][_0x57e2ec(0x907)](_0xb09241)){const _0x2db2b9=this[_0x57e2ec(0x4b7)][_0x57e2ec(0x70a)](_0xb09241);this[_0x57e2ec(0x4b7)]['delete'](_0xb09241),await this['handleTransactionPayload'](_0x2db2b9,_0x770fa3);}}async[_0x1af94f(0x506)](_0x55db33){const _0x15894d=_0x1af94f;switch(_0x55db33['action']){case _0x47fac3[_0x15894d(0x73d)]:return this[_0x15894d(0x2d2)](_0x55db33);case _0x47fac3[_0x15894d(0x17c)]:return this['handleFileRequestAnswer'](_0x55db33);case _0x47fac3[_0x15894d(0x348)]:return this[_0x15894d(0xa58)](_0x55db33);case _0x47fac3[_0x15894d(0x12f)]:return this[_0x15894d(0x8b9)](_0x55db33);default:throw new _0x3c8547(_0x3c8547['codes'][_0x15894d(0xa3c)],{'payload':_0x55db33});}}async[_0x1af94f(0x8b9)](_0x55de54,_0x2b7be1=0x0){const _0x4a84cf=_0x1af94f,_0x3da01f=_0x555f0d(_0x55de54['path'],_0x55de54['name']);if(!_0x55de54[_0x4a84cf(0x87a)]||void 0x0===_0x55de54['index']||!_0x55de54[_0x4a84cf(0x53f)])return this[_0x4a84cf(0x750)][_0x4a84cf(0x8e1)](_0x3da01f),void await this[_0x4a84cf(0x5ab)](_0x55de54[_0x4a84cf(0x450)],_0x55de54['path'],{'checksum':_0x55de54[_0x4a84cf(0x414)],'skipEncryption':_0x55de54[_0x4a84cf(0x464)]});if(this['fileChunks'][_0x4a84cf(0x907)](_0x3da01f)){const _0x5b1df4=this[_0x4a84cf(0x750)]['get'](_0x3da01f);_0x5b1df4[_0x4a84cf(0x414)]!==_0x55de54[_0x4a84cf(0x414)]&&(_0x5b1df4[_0x4a84cf(0x35e)]?.[_0x4a84cf(0x92f)](),this[_0x4a84cf(0x750)][_0x4a84cf(0x8e1)](_0x3da01f));}if(!this[_0x4a84cf(0x750)][_0x4a84cf(0x907)](_0x3da01f)){try{await this[_0x4a84cf(0x824)]['deleteObject'](_0x3da01f);}catch(_0x522892){}try{const _0x3ddccd=this['syncContent']?await this[_0x4a84cf(0x824)][_0x4a84cf(0x31d)](_0x3da01f,{'skipEncryption':_0x55de54[_0x4a84cf(0x464)]}):void 0x0,_0x101ccd={'chunksReceived':_0x55de54['startIndex']??0x0,'bytesReceived':0x0,'stream':_0x3ddccd,'checksum':_0x55de54[_0x4a84cf(0x414)]};this[_0x4a84cf(0x750)][_0x4a84cf(0x81a)](_0x3da01f,_0x101ccd),await this[_0x4a84cf(0x5ab)](_0x55de54[_0x4a84cf(0x450)],_0x55de54['path'],{'checksum':_0x55de54['checksum'],'skipEncryption':_0x55de54[_0x4a84cf(0x464)]});}catch(_0x26b173){}}const _0x535cc5=this[_0x4a84cf(0x750)][_0x4a84cf(0x70a)](_0x3da01f);if(_0x55de54[_0x4a84cf(0x414)]!==_0x535cc5[_0x4a84cf(0x414)])return;if(this[_0x4a84cf(0x702)](_0x55de54,_0x3da01f),this['syncContent']){if(!_0x535cc5['stream'])throw new _0x3c8547(_0x3c8547[_0x4a84cf(0x700)][_0x4a84cf(0xa3c)],{'message':_0x4a84cf(0x988)});let _0x182463=_0x535cc5[_0x4a84cf(0x514)];if(_0x55de54[_0x4a84cf(0x1c0)]!==_0x182463){if(_0x182463>_0x55de54[_0x4a84cf(0x1c0)])return;const _0x212082=0x1000;if(_0x55de54[_0x4a84cf(0x1c0)]>_0x182463+_0x212082)return;if(_0x535cc5['bufferedChunks']||(_0x535cc5[_0x4a84cf(0x48b)]=[]),_0x535cc5[_0x4a84cf(0x48b)][_0x4a84cf(0x71c)]>0x4000)throw this[_0x4a84cf(0x750)][_0x4a84cf(0x8e1)](_0x3da01f),new _0x3c8547(_0x3c8547[_0x4a84cf(0x700)][_0x4a84cf(0xa3c)],{'message':_0x4a84cf(0x535)});return void _0x535cc5[_0x4a84cf(0x48b)][_0x4a84cf(0x3d6)](_0x55de54);}try{_0x535cc5[_0x4a84cf(0x514)]+=0x1,_0x535cc5[_0x4a84cf(0x7b6)]+=_0x55de54['data'][_0x4a84cf(0x486)],await _0x535cc5[_0x4a84cf(0x35e)][_0x4a84cf(0x2fa)](_0x55de54[_0x4a84cf(0x87a)]);}catch(_0x56c683){if(console['error'](_0x4a84cf(0x4d7),_0x56c683),_0x2b7be1>0x3)throw this[_0x4a84cf(0x750)][_0x4a84cf(0x8e1)](_0x3da01f),console[_0x4a84cf(0x883)](_0x4a84cf(0x1fa),_0x56c683),new _0x3c8547(_0x3c8547['codes']['ObjectStoreInvalidSyncMessage'],{'message':'Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream'});return this[_0x4a84cf(0x8b9)](_0x55de54,_0x2b7be1+0x1);}}try{await this[_0x4a84cf(0x335)](_0x535cc5,_0x55de54[_0x4a84cf(0x1c0)]+0x1);}catch(_0x48567c){throw this[_0x4a84cf(0x750)]['delete'](_0x3da01f),_0x48567c;}if(this['fileChunks'][_0x4a84cf(0x81a)](_0x3da01f,_0x535cc5),_0x535cc5['chunksReceived']<_0x55de54[_0x4a84cf(0x53f)])return;await this[_0x4a84cf(0x126)](_0x3da01f),this[_0x4a84cf(0x4ae)]&&(await this[_0x4a84cf(0x78b)](_0x55de54),_0x5999e0[_0x4a84cf(0x624)](_0x53b20f[_0x4a84cf(0x9a9)],{'type':_0x4a84cf(0x445),'label':this[_0x4a84cf(0xf1)],'nodeId':this[_0x4a84cf(0x658)][_0x4a84cf(0x8f3)](),'nodeType':this[_0x4a84cf(0x658)][_0x4a84cf(0x44f)],'clusterId':this[_0x4a84cf(0x230)],'kind':_0xb0907f['ObjectKind'][_0x4a84cf(0x372)],'path':_0x55de54['path'],'fileName':_0x55de54[_0x4a84cf(0x450)],'fileType':_0x55de54[_0x4a84cf(0x44f)],'size':_0x535cc5[_0x4a84cf(0x7b6)]}));const _0x1aaa02=this[_0x4a84cf(0x42d)][_0x4a84cf(0x70a)](_0x55de54[_0x4a84cf(0x1e6)])??[];for(const _0x329284 of _0x1aaa02)await this['processTransactionPayload'](_0x329284);this['pendingFilesTransactions']['delete'](_0x55de54[_0x4a84cf(0x1e6)]),this[_0x4a84cf(0x6bb)]['publish']({'event':_0xb0907f['StorageEventType']['FileWrite'],'payload':{'file':{'kind':_0xb0907f[_0x4a84cf(0x463)]['File'],'path':_0x55de54['path'],'type':_0x55de54['type'],'size':_0x535cc5[_0x4a84cf(0x7b6)],'name':_0x55de54[_0x4a84cf(0x450)],'pathName':_0x3da01f,'status':this[_0x4a84cf(0x4ae)]?_0xb0907f[_0x4a84cf(0x739)][_0x4a84cf(0x268)]:_0xb0907f['FileStatus']['Pending']}}}),this['sendStats']();}async['manageBufferedChunks'](_0x15a1bc,_0x4e09c7){const _0x43d8a1=_0x1af94f,_0x58f622=_0x15a1bc[_0x43d8a1(0x35e)];let _0x416ad7=0x0;for(;_0x15a1bc[_0x43d8a1(0x48b)]&&_0x15a1bc[_0x43d8a1(0x48b)][_0x43d8a1(0x71c)]>0x0;){const _0x598180=_0x15a1bc['bufferedChunks'][_0x43d8a1(0x7ef)](_0x2c1745=>_0x2c1745[_0x43d8a1(0x1c0)]===_0x4e09c7+0x1);if(!_0x598180)break;_0x15a1bc[_0x43d8a1(0x48b)]=_0x15a1bc[_0x43d8a1(0x48b)][_0x43d8a1(0x7e0)](_0x17e28e=>_0x17e28e[_0x43d8a1(0x1c0)]!==_0x4e09c7+0x1);try{await _0x58f622[_0x43d8a1(0x2fa)](_0x598180['data']),_0x4e09c7++;}catch(_0x5e9915){if(console['error'](_0x43d8a1(0x74f),_0x5e9915),_0x416ad7>0x3)throw console[_0x43d8a1(0x883)](_0x43d8a1(0x3b6),_0x5e9915),new _0x3c8547(_0x3c8547[_0x43d8a1(0x700)][_0x43d8a1(0xa3c)],{'message':_0x43d8a1(0x3b6)});_0x416ad7++;continue;}_0x15a1bc[_0x43d8a1(0x514)]+=0x1,_0x15a1bc[_0x43d8a1(0x7b6)]+=_0x598180[_0x43d8a1(0x87a)][_0x43d8a1(0x486)];}}async['handleFolderCreate'](_0x53a3eb){const _0xf5e3fb=_0x1af94f;await this[_0xf5e3fb(0x824)][_0xf5e3fb(0x281)](_0x53a3eb['path']);const [_0x1c54f5,_0x1a8d02]=_0x54ca92(_0x53a3eb[_0xf5e3fb(0x1e6)]);this[_0xf5e3fb(0x6bb)][_0xf5e3fb(0x3ec)]({'event':_0xb0907f[_0xf5e3fb(0x208)]['FolderCreate'],'payload':{'folder':{'kind':_0xb0907f[_0xf5e3fb(0x463)][_0xf5e3fb(0x123)],'name':_0x1a8d02,'path':_0x1c54f5,'pathName':_0x53a3eb['path']}}});}async['handleObjectDelete'](_0x4b32e9,_0x14433f=!0x1){const _0x480f77=_0x1af94f;if(!_0x14433f&&!this['shouldProcessTransaction'](_0x4b32e9))return;const _0x4c66c4=await this[_0x480f77(0x19d)](_0x4b32e9[_0x480f77(0x1e6)]),[_0x1b0d2a,_0x44aab2]=_0x54ca92(_0x4b32e9[_0x480f77(0x1e6)]);this[_0x480f77(0x6bb)][_0x480f77(0x3ec)]({'event':_0x4c66c4===_0xb0907f[_0x480f77(0x463)][_0x480f77(0x123)]?_0xb0907f['StorageEventType'][_0x480f77(0x920)]:_0xb0907f[_0x480f77(0x208)][_0x480f77(0x194)],'payload':{'name':_0x44aab2,'path':_0x1b0d2a,'pathName':_0x4b32e9[_0x480f77(0x1e6)]}}),this[_0x480f77(0x9ed)]();}async[_0x1af94f(0x91f)](_0x2e0efc,_0x2ee15e=!0x1){const _0x37bcec=_0x1af94f;if(!_0x2ee15e&&!this[_0x37bcec(0x375)](_0x2e0efc))return this[_0x37bcec(0x2ef)][_0x37bcec(0x81a)](_0x2e0efc[_0x37bcec(0x2da)],this[_0x37bcec(0x2ef)][_0x37bcec(0x70a)](_0x2e0efc['path'])??_0x2e0efc[_0x37bcec(0x1e6)]),void this['pendingFilesRename'][_0x37bcec(0x8e1)](_0x2e0efc[_0x37bcec(0x1e6)]);this[_0x37bcec(0x2ef)][_0x37bcec(0x8e1)](_0x2e0efc[_0x37bcec(0x1e6)]);const _0x40b034=await this[_0x37bcec(0x824)][_0x37bcec(0x661)](_0x2e0efc['path'],_0x2e0efc[_0x37bcec(0x2da)]),[_0x3e4236,_0x316d82]=_0x54ca92(_0x2e0efc['path']),[_0xd4c639,_0x495da2]=_0x54ca92(_0x2e0efc['newPath']);this[_0x37bcec(0x6bb)][_0x37bcec(0x3ec)]({'event':_0x40b034===_0xb0907f[_0x37bcec(0x463)][_0x37bcec(0x123)]?_0xb0907f['StorageEventType']['FolderMove']:_0xb0907f[_0x37bcec(0x208)][_0x37bcec(0x258)],'payload':{'name':_0x495da2,'path':_0xd4c639,'pathName':_0x2e0efc[_0x37bcec(0x2da)],'oldName':_0x316d82,'oldPath':_0x3e4236,'oldPathName':_0x2e0efc['path']}}),this[_0x37bcec(0x9ed)]();}['shouldProcessTransaction'](_0x383705){const _0x2ef7ab=_0x1af94f,_0x52efea=this[_0x2ef7ab(0x2ef)][_0x2ef7ab(0x70a)](_0x383705['path'])??_0x383705[_0x2ef7ab(0x1e6)];let _0x28acae=!0x1;for(const _0x39d09c of this['fileChunks']['keys']())if(_0x39d09c['startsWith'](_0x52efea)){const _0xf5cb6f=this['pendingFilesTransactions'][_0x2ef7ab(0x70a)](_0x39d09c)??[];_0xf5cb6f[_0x2ef7ab(0x3d6)](_0x383705),this[_0x2ef7ab(0x42d)]['set'](_0x39d09c,_0xf5cb6f),_0x28acae=!0x0;}return!_0x28acae;}async[_0x1af94f(0x4db)](_0x44078b){const _0x3fde1b=_0x1af94f;if(!this[_0x3fde1b(0x9b8)]?.[_0x3fde1b(0x8c0)]){if(!_0x44078b['id'])throw new _0x3c8547(_0x3c8547['codes'][_0x3fde1b(0xa3c)],{'message':'Missing\x20transaction\x20id'});if(_0x44078b['parentId']!==this[_0x3fde1b(0x6b1)])throw new _0x3c8547(_0x3c8547['codes'][_0x3fde1b(0x5da)]);await this[_0x3fde1b(0x155)][_0x3fde1b(0x1d5)](_0x44078b,this[_0x3fde1b(0xf1)]),await this['updateLastTransactionId'](_0x44078b['id']);}}async[_0x1af94f(0xa35)](_0x2ebd4a){const _0x310887=_0x1af94f;this['lastTransactionId']=_0x2ebd4a;const _0x2d1ddb=new File([new Blob([this[_0x310887(0x6b1)]])],_0x19621c,{'type':_0x310887(0x50d)});await this[_0x310887(0x747)](_0x2d1ddb,'/');}async['handleFileRequest'](_0x2bb9a2){const _0x4a3024=_0x1af94f;try{const _0x49b1f1=await this[_0x4a3024(0x70a)](_0x2bb9a2[_0x4a3024(0x1e6)]+'/'+_0x2bb9a2[_0x4a3024(0x450)],{'skipEncryption':_0x2bb9a2[_0x4a3024(0x464)]}),_0x248a43=await _0x1ba4cd(_0x49b1f1);if(''!==_0x2bb9a2[_0x4a3024(0x414)]&&_0x248a43!==_0x2bb9a2[_0x4a3024(0x414)])return;_0x2bb9a2['answererId']=this[_0x4a3024(0x658)][_0x4a3024(0x8f3)](),_0x2bb9a2[_0x4a3024(0x3e8)]=_0x47fac3['RequestAccepted'],await this[_0x4a3024(0x4ef)](_0x2bb9a2,[_0x2bb9a2[_0x4a3024(0x825)]]);}catch(_0x27e9fb){}}async[_0x1af94f(0x65f)](_0x21624c){const _0x1366ce=_0x1af94f,_0x809db1=_0x555f0d(_0x21624c[_0x1366ce(0x1e6)],_0x21624c[_0x1366ce(0x450)]);if(!this[_0x1366ce(0x9d1)]['has'](_0x809db1))return;const _0x4e4dce=this[_0x1366ce(0x9d1)]['get'](_0x809db1);_0x4e4dce[_0x1366ce(0x3e8)]=_0x47fac3[_0x1366ce(0x348)];const _0x45c52c=_0x21624c['answererId'];if(!_0x45c52c)throw new _0x3c8547(_0x3c8547[_0x1366ce(0x700)][_0x1366ce(0xa3c)],{'message':_0x1366ce(0x8ec)});if(this[_0x1366ce(0x9d1)]['delete'](_0x809db1),this[_0x1366ce(0x605)]['has'](_0x45c52c)||this[_0x1366ce(0x605)][_0x1366ce(0x81a)](_0x45c52c,new Map()),this['pendingFilesSyncing'][_0x1366ce(0x70a)](_0x45c52c)[_0x1366ce(0x81a)](_0x809db1,[_0x4e4dce,this[_0x1366ce(0x307)](_0x45c52c,_0x809db1)]),_0x4e4dce[_0x1366ce(0x439)]=_0x45c52c,_0x4e4dce[_0x1366ce(0x20d)]=this[_0x1366ce(0x750)]['get'](_0x809db1)?.[_0x1366ce(0x514)]??0x0,0x0===_0x4e4dce[_0x1366ce(0x20d)])try{const [_0x11641d,_0x3fcb32]=await this[_0x1366ce(0x798)](_0x21624c[_0x1366ce(0x450)],_0x21624c[_0x1366ce(0x1e6)],_0x21624c[_0x1366ce(0x414)]);_0x11641d&&(_0x4e4dce[_0x1366ce(0x20d)]=_0x3fcb32);}catch(_0x3f7c87){}this['send'](_0x4e4dce,[_0x45c52c]);}async[_0x1af94f(0xa58)](_0x5a5fad){const _0x2ecd1b=_0x1af94f,_0x123eac=_0x555f0d(_0x5a5fad[_0x2ecd1b(0x1e6)],_0x5a5fad[_0x2ecd1b(0x450)]),_0x1a5c33=await this['get'](_0x123eac,{'skipEncryption':_0x5a5fad['skipEncryption']}),_0x452854={..._0x5a5fad,'answererId':this[_0x2ecd1b(0x658)][_0x2ecd1b(0x8f3)](),'action':_0x47fac3[_0x2ecd1b(0x12f)],'startIndex':_0x5a5fad[_0x2ecd1b(0x20d)]??0x0};await this[_0x2ecd1b(0x18d)](_0x1a5c33,_0x452854,[_0x5a5fad[_0x2ecd1b(0x825)]]);}async[_0x1af94f(0x18d)](_0x23e72a,_0x5c1716,_0x4d31d3){let _0x47bed3,_0x29743e;const _0x9624c3=new Promise(async(_0x1fae11,_0x50c871)=>{_0x47bed3=_0x1fae11,_0x29743e=_0x50c871;});return((async()=>{const _0x410884=a0_0xaf41,_0x3b7782=Math['ceil'](_0x23e72a[_0x410884(0xa20)]/_0x57efb0);let _0x76917c=_0x5c1716[_0x410884(0x20d)]??0x0;const _0x308242=_0x555f0d(_0x5c1716[_0x410884(0x1e6)],_0x5c1716[_0x410884(0x450)]);this[_0x410884(0x2a4)]['set'](_0x308242,[!0x1,_0x9624c3]);for await(const _0x19d270 of async function*(_0x50d2ab,_0x28fd4d=0x0,_0x412465){for await(const _0x35a393 of _0x16a13f(_0x50d2ab,_0x28fd4d,_0x412465))yield _0x35a393;}(_0x23e72a,_0x76917c,this[_0x410884(0x845)])){const [_0x5ca546]=this[_0x410884(0x2a4)][_0x410884(0x70a)](_0x308242)??[];if(_0x5ca546)return this['fileSendingMap'][_0x410884(0x8e1)](_0x308242),void _0x29743e(new Error(_0x410884(0x342)));if(this[_0x410884(0x42d)][_0x410884(0x907)](_0x308242)){const _0x1878f4=this[_0x410884(0x42d)][_0x410884(0x70a)](_0x308242);for(const _0x22dd76 of _0x1878f4)if(_0x22dd76[_0x410884(0x3e8)]===_0x47fac3['FileWrite']||_0x22dd76[_0x410884(0x3e8)]===_0x47fac3[_0x410884(0x1a4)])return;}const _0x58160f={..._0x5c1716,'type':_0x23e72a[_0x410884(0x44f)],'data':_0x19d270,'index':_0x76917c,'total':_0x3b7782};this[_0x410884(0x4ef)](_0x58160f,_0x4d31d3),_0x76917c++;}const _0x233c27=setInterval(async()=>{const _0x138f24=_0x410884;await this[_0x138f24(0x845)]()>0x0||(clearInterval(_0x233c27),_0x47bed3());});this[_0x410884(0x2a4)][_0x410884(0x8e1)](_0x308242);})()),_0x9624c3;}async['deletePendingFile'](_0x3f87e5){const _0x366678=_0x1af94f;try{const _0x438236=_0x555f0d(_0x3f87e5['path'],_0x3f87e5[_0x366678(0x450)]),_0x3f7bca=_0x438236+_0x32b883;await this[_0x366678(0x19d)](_0x3f7bca);const [,_0x361dae]=this[_0x366678(0x605)]['get'](_0x3f87e5[_0x366678(0x439)])?.['get'](_0x438236)??[];_0x361dae&&(clearTimeout(_0x361dae),this[_0x366678(0x605)][_0x366678(0x70a)](_0x3f87e5[_0x366678(0x439)])[_0x366678(0x8e1)](_0x438236));}catch(_0x40bfa9){}0x0===this[_0x366678(0x605)][_0x366678(0x70a)](_0x3f87e5[_0x366678(0x439)])?.[_0x366678(0xa20)]&&this[_0x366678(0x605)][_0x366678(0x8e1)](_0x3f87e5[_0x366678(0x439)]),0x0===this[_0x366678(0x605)]['size']&&0x0===this[_0x366678(0x9d1)][_0x366678(0xa20)]&&this[_0x366678(0x560)]();}async[_0x1af94f(0x65e)](){const _0x31f66c=_0x1af94f;try{const _0x59565d=await this[_0x31f66c(0x155)][_0x31f66c(0x3a3)](this[_0x31f66c(0xf1)],this[_0x31f66c(0x6b1)]);for(const _0x5ca8cb of _0x59565d)await this[_0x31f66c(0x7c7)](_0x5ca8cb,!0x0);}catch(_0x24b455){if(_0x24b455 instanceof _0x3c8547&&_0x24b455[_0x31f66c(0x17a)]===_0x3c8547[_0x31f66c(0x700)]['ObjectStoreInvalidState']){await this[_0x31f66c(0x824)][_0x31f66c(0x19d)](_0x19621c),delete this[_0x31f66c(0x6b1)];try{const _0x4dac44=await this['objectStoreConnector'][_0x31f66c(0x3d1)]('/',!0x1);for(const _0x4ba1ec of _0x4dac44)await this[_0x31f66c(0x824)][_0x31f66c(0x19d)](_0x4ba1ec[_0x31f66c(0x65b)]);}catch(_0xf97f22){}return await this[_0x31f66c(0x65e)]();}throw _0x24b455;}}async[_0x1af94f(0x1f1)](){const _0x4166bb=_0x1af94f,_0x29e055=await this[_0x4166bb(0x3d1)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x0}),_0x355fbc=async _0x4e70b8=>{const _0x36a8b5=_0x4166bb;for(const _0x30883c of _0x4e70b8){if(_0x30883c[_0x36a8b5(0x832)]===_0xb0907f['ObjectKind'][_0x36a8b5(0x123)]){_0x30883c[_0x36a8b5(0xa3a)]&&_0x30883c[_0x36a8b5(0xa3a)]['length']>0x0&&await _0x355fbc(_0x30883c['entries']);continue;}if(_0x30883c['status']!==_0xb0907f['FileStatus'][_0x36a8b5(0x3d7)])continue;const _0x1d589d=await this['get'](_0x30883c[_0x36a8b5(0x65b)]+_0x32b883),_0x3dd609=JSON['parse'](await _0x1d589d['text']()),_0x4aa12b=_0x30883c['name'][_0x36a8b5(0x78e)](_0x32b883,''),_0x30da01={'payloadType':_0x172358[_0x36a8b5(0x4e2)],'action':_0x47fac3[_0x36a8b5(0x73d)],'sourceId':this['localNode']['getId'](),'type':'','path':_0x30883c[_0x36a8b5(0x1e6)],'name':_0x4aa12b,'checksum':_0x3dd609['checksum'],'skipEncryption':_0x3dd609[_0x36a8b5(0x464)]},_0x5f49d6=_0x555f0d(_0x30883c['path'],_0x4aa12b);this[_0x36a8b5(0x9d1)][_0x36a8b5(0x81a)](_0x5f49d6,_0x30da01);}};await _0x355fbc(_0x29e055),0x0===this[_0x4166bb(0x9d1)]['size']&&0x0===this['pendingFilesSyncing']['size']&&this[_0x4166bb(0x560)]();}async['createPendingFileWrite'](_0x4dc711,_0x13902e,_0xade28b){const _0x5a8fd5=_0x1af94f,_0x49c6d4=new File([new Blob([JSON[_0x5a8fd5(0x656)](_0xade28b)])],''+_0x4dc711+_0x32b883,{'type':_0x5a8fd5(0x50d)});await this[_0x5a8fd5(0x747)](_0x49c6d4,_0x13902e);}async[_0x1af94f(0x798)](_0x29bc56,_0x3c2d35,_0x56f2cb){const _0x3bedab=_0x1af94f;try{const _0x3f3308=_0x555f0d(_0x3c2d35,_0x29bc56),_0x30ff42=_0x3f3308+_0x32b883,_0x577f29=await this['objectStoreConnector'][_0x3bedab(0x70a)](_0x30ff42),{checksum:_0x195296,skipEncryption:_0x13c758}=JSON[_0x3bedab(0x7cd)](await _0x577f29[_0x3bedab(0x55d)]()),_0x252ed8=(await this[_0x3bedab(0x824)][_0x3bedab(0x70a)](_0x3f3308,{'skipEncryption':_0x13c758}))['size'];return _0x195296===_0x56f2cb&&_0x252ed8%_0x57efb0==0x0?[!0x0,Math['round'](_0x252ed8/_0x57efb0)]:(await this['objectStoreConnector'][_0x3bedab(0x19d)](_0x3f3308),[!0x1,0x0]);}catch(_0x20fa8d){return[!0x1,0x0];}}[_0x1af94f(0x307)](_0x54b4fe,_0x19390a){const _0x5b6c9=_0x1af94f,[_0x1bdc76,_0x24f119]=this['pendingFilesSyncing'][_0x5b6c9(0x70a)](_0x54b4fe)?.['get'](_0x19390a)??[];return _0x24f119&&clearTimeout(_0x24f119),setTimeout(()=>{const _0x5f4c7c=_0x5b6c9,[_0x34465b,_0x585c3d]=this['pendingFilesSyncing'][_0x5f4c7c(0x70a)](_0x54b4fe)[_0x5f4c7c(0x70a)](_0x19390a);this[_0x5f4c7c(0x56d)](_0x34465b,_0x585c3d);},0x927c0);}async[_0x1af94f(0x56d)](_0xa73c5b,_0x3bf8fa){const _0x5725c6=_0x1af94f;clearTimeout(_0x3bf8fa),_0xa73c5b[_0x5725c6(0x3e8)]=_0x47fac3[_0x5725c6(0x73d)],this[_0x5725c6(0x9d1)][_0x5725c6(0x81a)](_0x555f0d(_0xa73c5b[_0x5725c6(0x1e6)],_0xa73c5b[_0x5725c6(0x450)]),_0xa73c5b),this[_0x5725c6(0x4ef)](_0xa73c5b);}[_0x1af94f(0x702)](_0x514986,_0x351291){const _0x3e2eeb=_0x1af94f;if(!this[_0x3e2eeb(0x4ae)])return;this[_0x3e2eeb(0x605)][_0x3e2eeb(0x907)](_0x514986[_0x3e2eeb(0x439)])||this[_0x3e2eeb(0x605)][_0x3e2eeb(0x81a)](_0x514986[_0x3e2eeb(0x439)],new Map());const [_0x217444]=this[_0x3e2eeb(0x605)][_0x3e2eeb(0x70a)](_0x514986['answererId'])[_0x3e2eeb(0x70a)](_0x351291)??[{'payloadType':_0x172358[_0x3e2eeb(0x4e2)],'action':_0x47fac3[_0x3e2eeb(0x73d)],'sourceId':this[_0x3e2eeb(0x658)][_0x3e2eeb(0x8f3)](),'type':_0x514986[_0x3e2eeb(0x44f)],'name':_0x514986[_0x3e2eeb(0x450)],'path':_0x514986[_0x3e2eeb(0x1e6)],'skipEncryption':_0x514986[_0x3e2eeb(0x464)],'checksum':_0x514986[_0x3e2eeb(0x414)],'answererId':_0x514986[_0x3e2eeb(0x439)]}];this[_0x3e2eeb(0x605)]['get'](_0x514986[_0x3e2eeb(0x439)])['set'](_0x351291,[_0x217444,this['getOrResetPendingFileTimeout'](_0x514986[_0x3e2eeb(0x439)],_0x351291)]);}async['writeFile'](_0x540210,_0x591ebc,_0x243a48){const _0x135c55=_0x1af94f;this['isSyncing']&&(this['filesSynced']+=0x1),await this[_0x135c55(0x824)][_0x135c55(0x747)](_0x540210,_0x591ebc,_0x243a48);}async[_0x1af94f(0x19d)](_0x101ed1){const _0x281ff1=_0x1af94f;try{const _0x3daab4=await this['objectStoreConnector'][_0x281ff1(0x19d)](_0x101ed1);if(!_0x101ed1[_0x281ff1(0x29f)](_0x32b883))try{await this[_0x281ff1(0x824)][_0x281ff1(0x19d)](_0x101ed1+_0x32b883);}catch(_0xfed795){}return this[_0x281ff1(0x942)]&&_0x3daab4===_0xb0907f[_0x281ff1(0x463)][_0x281ff1(0x372)]&&(this[_0x281ff1(0x368)]+=0x1),_0x3daab4;}catch(_0x22b494){return await this[_0x281ff1(0x824)]['deleteObject'](_0x101ed1+_0x32b883);}}async[_0x1af94f(0x661)](_0x4f2d26,_0x37ce72){const _0x5b5816=_0x1af94f;try{const _0x52e58b=await this['objectStoreConnector']['moveObject'](_0x4f2d26,_0x37ce72);if(!_0x4f2d26[_0x5b5816(0x29f)](_0x32b883))try{await this[_0x5b5816(0x824)][_0x5b5816(0x661)](_0x4f2d26+_0x32b883,_0x37ce72+_0x32b883);}catch(_0x5a6dc5){}return _0x52e58b;}catch(_0x5ba8b8){return await this['objectStoreConnector'][_0x5b5816(0x661)](_0x4f2d26+_0x32b883,_0x37ce72+_0x32b883);}}[_0x1af94f(0x9ed)](){const _0xc16d36=_0x1af94f;this[_0xc16d36(0x11a)]&&clearTimeout(this[_0xc16d36(0x11a)]),this[_0xc16d36(0x11a)]=setTimeout(async()=>{const _0xe4c3de=_0xc16d36;delete this[_0xe4c3de(0x11a)];const _0x352318=await this[_0xe4c3de(0x824)][_0xe4c3de(0x115)]('/');this[_0xe4c3de(0x316)]?.[_0xe4c3de(0x3ec)]({'sourceId':_0x50bf9f,'messageType':_0x502914['Content'],'content':{'type':_0x20f4a0[_0xe4c3de(0x9fc)],'label':this[_0xe4c3de(0xf1)],'stats':{'timestamp':Date[_0xe4c3de(0x1f3)](),'storage':_0x352318,'messagesSent':this['messagesSent'],'messagesReceived':this[_0xe4c3de(0x9c7)],'bytesSent':this[_0xe4c3de(0x525)],'bytesReceived':this[_0xe4c3de(0x7b6)],'writes':this['writes'],'reads':this[_0xe4c3de(0x8bf)],'prompts':0x0,'tokens':0x0}}}),this[_0xe4c3de(0x4ae)]&&_0x5999e0[_0xe4c3de(0x5a5)](_0x53b20f[_0xe4c3de(0x9a9)],_0xe4c3de(0xa2f)+this['clusterId']+_0xe4c3de(0xa2f)+this[_0xe4c3de(0xf1)],_0x352318);},_0x33f6e5);}async[_0x1af94f(0x99b)](_0x3a2080){const _0x30fd84=_0x1af94f;try{return await this[_0x30fd84(0x70a)](_0x3a2080),!0x0;}catch(_0x3ae48b){return!0x1;}}async[_0x1af94f(0x126)](_0x5a67b9){const _0x6a16cc=_0x1af94f;if(!this[_0x6a16cc(0x750)][_0x6a16cc(0x907)](_0x5a67b9))return;const _0x1e29f4=this['fileChunks'][_0x6a16cc(0x70a)](_0x5a67b9);if(_0x1e29f4[_0x6a16cc(0x35e)])try{await _0x1e29f4['stream'][_0x6a16cc(0x92f)]();}catch(_0x1e567a){console[_0x6a16cc(0x883)](_0x6a16cc(0x797),_0x1e567a);}this['fileChunks'][_0x6a16cc(0x8e1)](_0x5a67b9);}}class _0x45d048 extends _0x1eef03{[_0x1af94f(0x658)];[_0x1af94f(0x230)];[_0x1af94f(0x302)]=new Map();['debounceStats'];constructor(_0x336d7a,_0x5be632,_0x13a5fe){const _0x111dd6=_0x1af94f;if('string'!=typeof _0x5be632)throw new _0x3b3113(_0x56d472[_0x111dd6(0x500)],_0x111dd6(0x118));super(_0x336d7a,_0x5be632),this[_0x111dd6(0x658)]=_0x336d7a,this[_0x111dd6(0x230)]=_0x13a5fe,this[_0x111dd6(0x9ed)]();}['reset'](){this['sendStats']();}[_0x1af94f(0x8f7)](){const _0x2e9eae=_0x1af94f;return _0xb0907f[_0x2e9eae(0x178)][_0x2e9eae(0x446)];}[_0x1af94f(0x3ec)](_0xb3cc05,_0x26a05c){const _0x2af9e1=_0x1af94f;_0x5999e0[_0x2af9e1(0x15c)](_0x53526a[_0x2af9e1(0x446)],'PubSubTopic\x20publish',this[_0x2af9e1(0x658)][_0x2af9e1(0x8f3)](),_0xb3cc05,_0x26a05c),_0x5999e0[_0x2af9e1(0x624)](_0x53b20f[_0x2af9e1(0x446)],{'type':_0x2af9e1(0x3ec),'label':this[_0x2af9e1(0xf1)],'nodeId':this[_0x2af9e1(0x658)][_0x2af9e1(0x8f3)](),'nodeType':this[_0x2af9e1(0x658)]['type'],'clusterId':this['clusterId'],'remoteIds':_0x26a05c??[],'contentType':_0xb3cc05 instanceof File?_0xb0907f[_0x2af9e1(0x178)][_0x2af9e1(0x372)]:_0xb0907f[_0x2af9e1(0x178)][_0x2af9e1(0x5a0)],'size':_0xb3cc05 instanceof File?_0xb3cc05[_0x2af9e1(0xa20)]:JSON['stringify'](_0xb3cc05)[_0x2af9e1(0x71c)]}),this[_0x2af9e1(0x9ed)](),this[_0x2af9e1(0x4ef)](_0xb3cc05,_0x26a05c);}[_0x1af94f(0x9f2)](_0x40fdf5,_0xfea217){const _0x280222=_0x1af94f;if(this[_0x280222(0x302)][_0x280222(0x907)](_0x40fdf5))throw new _0x3b3113(_0x56d472[_0x280222(0xe8)],_0x280222(0x5c8));this[_0x280222(0x302)]['set'](_0x40fdf5,this['onMessage']((_0x3d5f3a,_0x1d1c4a)=>{const _0x5ccd00=_0x280222;_0x5ccd00(0x87a)===_0x40fdf5&&_0x1d1c4a instanceof File||!(_0x5ccd00(0x5dc)!==_0x40fdf5||_0x1d1c4a instanceof File)||(_0x5999e0[_0x5ccd00(0x15c)](_0x53526a[_0x5ccd00(0x446)],_0x5ccd00(0x89d),this[_0x5ccd00(0x658)]['getId'](),_0x3d5f3a,_0x1d1c4a),_0x5999e0[_0x5ccd00(0x624)](_0x53b20f[_0x5ccd00(0x446)],{'type':_0x5ccd00(0x9f2),'label':this['label'],'nodeId':this[_0x5ccd00(0x658)][_0x5ccd00(0x8f3)](),'nodeType':this[_0x5ccd00(0x658)][_0x5ccd00(0x44f)],'clusterId':this[_0x5ccd00(0x230)],'remoteId':_0x3d5f3a,'contentType':_0x40fdf5,'size':_0x1d1c4a instanceof File?_0x1d1c4a[_0x5ccd00(0xa20)]:JSON[_0x5ccd00(0x656)](_0x1d1c4a)[_0x5ccd00(0x71c)]}),this[_0x5ccd00(0x9ed)](),_0xfea217(_0x3d5f3a,_0x1d1c4a));}));}['unsubscribe'](_0x8181e1){const _0x508cfa=_0x1af94f;this[_0x508cfa(0x302)][_0x508cfa(0x70a)](_0x8181e1)?.(),this['unsubscribeHandler'][_0x508cfa(0x8e1)](_0x8181e1);}[_0x1af94f(0x541)](){const _0x4be36d=_0x1af94f;this[_0x4be36d(0x302)]['forEach'](_0x491269=>_0x491269()),clearTimeout(this[_0x4be36d(0x11a)]),delete this['debounceStats'],super[_0x4be36d(0x541)]();}['close'](){const _0x50af51=_0x1af94f;this[_0x50af51(0x316)]?.[_0x50af51(0x3ec)]({'sourceId':_0x50bf9f,'messageType':_0x502914[_0x50af51(0x54e)],'content':{'type':_0x20f4a0[_0x50af51(0x738)],'label':this[_0x50af51(0xf1)]}});}[_0x1af94f(0x9ed)](){const _0x53a83f=_0x1af94f;this[_0x53a83f(0x11a)]&&clearTimeout(this[_0x53a83f(0x11a)]),this[_0x53a83f(0x11a)]=setTimeout(()=>{const _0x41edf2=_0x53a83f;this['systemTopic']?.[_0x41edf2(0x3ec)]({'sourceId':_0x50bf9f,'messageType':_0x502914[_0x41edf2(0x54e)],'content':{'type':_0x20f4a0[_0x41edf2(0x26e)],'label':this[_0x41edf2(0xf1)],'stats':{'timestamp':Date[_0x41edf2(0x1f3)](),'storage':0x0,'messagesSent':this[_0x41edf2(0x7a2)],'messagesReceived':this['messagesReceived'],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x41edf2(0x7b6)],'writes':0x0,'reads':0x0,'prompts':0x0,'tokens':0x0}}});},_0x33f6e5);}}class _0x52dee0 extends _0x27673e{[_0x1af94f(0x658)];['internalId'];[_0x1af94f(0x9ad)];['clusterId'];[_0x1af94f(0x302)];['resizeHandler'];['updateDebounce'];['outgoingStreams']=new Map();[_0x1af94f(0x90f)];[_0x1af94f(0x99f)]=new Set();[_0x1af94f(0x44b)];[_0x1af94f(0x8bd)]=_0x69b7e5();[_0x1af94f(0x5f3)]=new Map();constructor(_0x47f30d,_0x49b689,_0x3bd4fc,_0x43307f,_0x344f53,_0x52bd50){const _0x483153=_0x1af94f;super(_0x49b689,_0x3bd4fc,new MediaStream()),this['localNode']=_0x47f30d,this[_0x483153(0x6e9)]=_0x43307f,this[_0x483153(0x9ad)]=_0x344f53,this[_0x483153(0x230)]=_0x52bd50,this[_0x483153(0x35c)][_0x483153(0x26d)]()[_0x483153(0x333)](_0x24f691=>this[_0x483153(0x9b2)](_0x24f691));}[_0x1af94f(0x541)](){const _0x488255=_0x1af94f;this[_0x488255(0x952)][_0x488255(0xa20)]>0x0&&(this[_0x488255(0x952)]['forEach'](_0x3bddde=>{const _0x2f9539=_0x488255;_0x3bddde['unregisterSystemPublisher'](),_0x3bddde[_0x2f9539(0x541)]();}),this['outgoingStreams'][_0x488255(0xa4f)]()),this[_0x488255(0x5f3)]['forEach'](_0x95fcd8=>_0x95fcd8()),this[_0x488255(0x35c)][_0x488255(0x26d)]()[_0x488255(0x333)](_0x401f97=>this['mediaStream']['removeTrack'](_0x401f97)),this['updateDebounce']&&(clearTimeout(this[_0x488255(0x265)]),delete this['updateDebounce']),this[_0x488255(0x18a)]?.(),super[_0x488255(0x541)]();}[_0x1af94f(0x5c1)](_0x26acda){const _0xf9403f=_0x1af94f;this[_0xf9403f(0x302)]=_0x26acda[_0xf9403f(0x9f2)](({content:_0x1c05ec})=>{const _0x3ef6f0=_0xf9403f;switch(_0x1c05ec[_0x3ef6f0(0x3e8)]){case _0x28c078[_0x3ef6f0(0x27f)]:if(_0x5999e0[_0x3ef6f0(0x15c)](_0x53526a[_0x3ef6f0(0x62c)],_0x3ef6f0(0x9e2),this[_0x3ef6f0(0x658)][_0x3ef6f0(0x8f3)](),this[_0x3ef6f0(0x44b)]),_0x1c05ec['stream']['id']!==this[_0x3ef6f0(0x6e9)]||_0x1c05ec['providerId']!==this[_0x3ef6f0(0x44b)])return;this[_0x3ef6f0(0x30e)](_0x1c05ec[_0x3ef6f0(0x847)][_0x3ef6f0(0x832)]),this['mediaStream'][_0x3ef6f0(0x55e)](_0x1c05ec[_0x3ef6f0(0x847)]);for(const [_0x4175ba,_0x40f5ca]of this['outgoingStreams']['entries']())try{_0x40f5ca[_0x3ef6f0(0x55e)](_0x1c05ec[_0x3ef6f0(0x847)]);}catch(_0x197928){_0x40f5ca[_0x3ef6f0(0x541)](),this['outgoingStreams'][_0x3ef6f0(0x8e1)](_0x4175ba);}this[_0x3ef6f0(0x9b2)](_0x1c05ec[_0x3ef6f0(0x847)]),this[_0x3ef6f0(0x38c)](),'video'===_0x1c05ec[_0x3ef6f0(0x847)][_0x3ef6f0(0x832)]&&this[_0x3ef6f0(0x90f)]&&(this[_0x3ef6f0(0x35c)][_0x3ef6f0(0x60d)]?setTimeout(()=>this['renderElement']?.[_0x3ef6f0(0x7b2)](),0x0):setTimeout(()=>this[_0x3ef6f0(0x90f)]?.[_0x3ef6f0(0x4f5)](),0x0),this[_0x3ef6f0(0x65d)]());break;case _0x28c078['RemoteRemove']:if(_0x1c05ec['stream']['id']!==this[_0x3ef6f0(0x6e9)]||_0x1c05ec[_0x3ef6f0(0x44b)]!==this[_0x3ef6f0(0x44b)])return;this[_0x3ef6f0(0x30e)](_0x1c05ec[_0x3ef6f0(0x847)][_0x3ef6f0(0x832)]),this[_0x3ef6f0(0x90f)]&&_0x3ef6f0(0x228)===_0x1c05ec[_0x3ef6f0(0x847)][_0x3ef6f0(0x832)]&&(this[_0x3ef6f0(0x18a)]?.(),this[_0x3ef6f0(0x35c)][_0x3ef6f0(0x26d)]()['length']>0x0?this[_0x3ef6f0(0x90f)][_0x3ef6f0(0x4f5)]():this['renderElement'][_0x3ef6f0(0x98d)]=null);}});}[_0x1af94f(0x62a)](){const _0x1b65a3=_0x1af94f;this[_0x1b65a3(0x302)]?.(),this[_0x1b65a3(0x5f3)][_0x1b65a3(0x333)](_0x41b116=>_0x41b116()),delete this[_0x1b65a3(0x302)];}['getInternalStreamId'](){return this['internalId'];}[_0x1af94f(0x5a3)](_0x532886){const _0x43924a=_0x1af94f;this[_0x43924a(0x6e9)]=_0x532886;}[_0x1af94f(0x2e2)](){const _0x5dd4d6=_0x1af94f;return this[_0x5dd4d6(0x9ad)];}[_0x1af94f(0x89c)](_0x3f7bad){const _0xe02fb5=_0x1af94f;for(const _0x568814 of _0x3f7bad||this[_0xe02fb5(0x9ad)])if(!this[_0xe02fb5(0x35c)][_0xe02fb5(0x26d)]()['find'](_0x4f6c56=>_0x4f6c56[_0xe02fb5(0x832)]===_0x568814))return!0x1;return!0x0;}[_0x1af94f(0x217)](){const _0x3b69fc=_0x1af94f;let _0x1482cf={'width':0x0,'height':0x0};const _0x58863a=this['mediaStream'][_0x3b69fc(0x39e)]();if(_0x58863a[_0x3b69fc(0x71c)]>0x0){const _0x5e0e34=_0x58863a[0x0][_0x3b69fc(0x28e)]();_0x5e0e34[_0x3b69fc(0x52d)]&&_0x5e0e34[_0x3b69fc(0x9a1)]&&(_0x1482cf={'width':_0x5e0e34[_0x3b69fc(0x52d)],'height':_0x5e0e34['height']});}return _0x1482cf;}[_0x1af94f(0x963)](_0x29f098){const _0x10dd37=_0x1af94f;for(const _0x4f0d1b of _0x29f098)if(!this[_0x10dd37(0x99f)][_0x10dd37(0x907)](_0x4f0d1b))return!0x1;return!0x0;}[_0x1af94f(0x75e)](_0x4e6653,_0x1ec3bb){const _0x1b128d=_0x1af94f;if(!this[_0x1b128d(0x952)][_0x1b128d(0x907)](_0x4e6653)){const _0x1c5a17=new _0x2cd1b9(this[_0x1b128d(0x3d5)],this[_0x1b128d(0xf1)],this['mediaStream'],_0x4e6653,_0x1ec3bb),_0x193f79=_0x1c5a17[_0x1b128d(0x22a)](()=>{const _0x5c9aa3=_0x1b128d;_0x193f79(),this[_0x5c9aa3(0x952)][_0x5c9aa3(0x70a)](_0x4e6653)?.['destroy'](),this[_0x5c9aa3(0x952)]['delete'](_0x4e6653);});this['outgoingStreams'][_0x1b128d(0x81a)](_0x4e6653,_0x1c5a17),_0x1c5a17[_0x1b128d(0x412)](this[_0x1b128d(0x316)]);}return this['outgoingStreams'][_0x1b128d(0x70a)](_0x4e6653);}['getShareableStreamId'](){return this['mediaStream']['id'];}[_0x1af94f(0x3a8)](){const _0x350082=_0x1af94f;return _0xb0907f['MediaStreamPriority'][_0x350082(0x346)];}[_0x1af94f(0x361)](){const _0x390342=_0x1af94f;return Array[_0x390342(0x13b)](this[_0x390342(0x99f)]);}[_0x1af94f(0x9f2)](_0x1208c7){const _0x6422f4=_0x1af94f;let _0xcb9920=[];if(_0x1208c7){'object'!=typeof _0x1208c7[_0x6422f4(0x228)]||_0x1208c7[_0x6422f4(0x228)]['renderElement']instanceof HTMLVideoElement||!this[_0x6422f4(0x90f)]||(_0x1208c7['video']={'renderElement':this['renderElement']});try{(0x0,_0xb0907f[_0x6422f4(0x6ea)])(_0x1208c7);}catch(_0x34145b){throw new _0x3b3113(_0x56d472[_0x6422f4(0x47e)],'Invalid\x20params');}_0x1208c7[_0x6422f4(0x228)]&&(_0xcb9920[_0x6422f4(0x3d6)](_0x6422f4(0x228)),_0x6422f4(0x3f1)!=typeof _0x1208c7[_0x6422f4(0x228)]&&_0x1208c7[_0x6422f4(0x228)][_0x6422f4(0x90f)]&&(this['renderElement']=_0x1208c7[_0x6422f4(0x228)][_0x6422f4(0x90f)],_0x1208c7[_0x6422f4(0x228)]['maxResolution']||(_0x1208c7[_0x6422f4(0x228)]['maxResolution']={'width':this[_0x6422f4(0x90f)][_0x6422f4(0x922)],'height':this[_0x6422f4(0x90f)][_0x6422f4(0x13c)]}),delete _0x1208c7[_0x6422f4(0x228)][_0x6422f4(0x90f)])),_0x1208c7['audio']&&_0xcb9920[_0x6422f4(0x3d6)](_0x6422f4(0x809));}else _0xcb9920=this[_0x6422f4(0x2e2)]();this['isSubscribed'](_0xcb9920)||(_0xcb9920['forEach'](_0x217539=>this[_0x6422f4(0x99f)][_0x6422f4(0x23a)](_0x217539)),this[_0x6422f4(0x316)][_0x6422f4(0x3ec)]({'sourceId':_0x50bf9f,'messageType':_0x502914['Content'],'content':{'type':_0x20f4a0[_0x6422f4(0x6de)],'label':this[_0x6422f4(0xf1)],'ownerId':this[_0x6422f4(0x3d5)][_0x6422f4(0x8f3)](),'trackKinds':_0xcb9920,'params':_0x1208c7}}),_0x5999e0[_0x6422f4(0x624)](_0x53b20f[_0x6422f4(0x6ca)],{'type':_0x6422f4(0x9f2),'label':this['label'],'nodeId':this['localNode']['getId'](),'nodeType':this[_0x6422f4(0x658)][_0x6422f4(0x44f)],'clusterId':this[_0x6422f4(0x230)],'sourceId':this['owner'][_0x6422f4(0x8f3)](),'streamId':this[_0x6422f4(0x6e9)],'trackKinds':_0xcb9920}));}[_0x1af94f(0x940)](_0x4b9fc6){const _0x407613=_0x1af94f;try{(0x0,_0xb0907f['isValidMediaSubscriptionParams'])(_0x4b9fc6);}catch(_0x5c9e6b){throw new _0x3b3113(_0x56d472[_0x407613(0x47e)],_0x407613(0x8d9));}this[_0x407613(0x265)]&&clearTimeout(this[_0x407613(0x265)]),this[_0x407613(0x265)]=setTimeout(()=>{const _0x1c02cf=_0x407613;delete this[_0x1c02cf(0x265)],this[_0x1c02cf(0x316)]['publish']({'sourceId':_0x50bf9f,'messageType':_0x502914[_0x1c02cf(0x54e)],'content':{'type':_0x20f4a0[_0x1c02cf(0x459)],'label':this[_0x1c02cf(0xf1)],'ownerId':this['owner'][_0x1c02cf(0x8f3)](),'params':_0x4b9fc6}});},0x1f4);}['unsubscribe'](_0x1c4e88){const _0x1873aa=_0x1af94f;_0x1c4e88||(_0x1c4e88=this['getAvailableTrackKinds']()),(_0x1c4e88=Array[_0x1873aa(0x7ba)](_0x1c4e88)?_0x1c4e88:[_0x1c4e88])['forEach'](_0x4c5407=>this[_0x1873aa(0x99f)][_0x1873aa(0x8e1)](_0x4c5407)),this[_0x1873aa(0x316)][_0x1873aa(0x3ec)]({'sourceId':_0x50bf9f,'messageType':_0x502914['Content'],'content':{'type':_0x20f4a0[_0x1873aa(0x8c8)],'label':this[_0x1873aa(0xf1)],'ownerId':this[_0x1873aa(0x3d5)]['getId'](),'trackKinds':_0x1c4e88,'remainingTracks':this[_0x1873aa(0x99f)][_0x1873aa(0xa20)]}});}[_0x1af94f(0x99a)](_0x1f6384){const _0x121219=_0x1af94f;return this[_0x121219(0x8bd)][_0x121219(0x9f2)](_0x1f6384);}[_0x1af94f(0x112)](){return this['providerId'];}['setProviderId'](_0xeb3a38){const _0x24f4db=_0x1af94f;this[_0x24f4db(0x44b)]!==_0xeb3a38&&(this[_0x24f4db(0x44b)]=_0xeb3a38,this[_0x24f4db(0x8bd)][_0x24f4db(0x3ec)](_0xeb3a38));}['unsubscribeTrackEndedListener'](_0x500f28){const _0x213c8c=_0x1af94f;this[_0x213c8c(0x5f3)][_0x213c8c(0x70a)](_0x500f28)?.(),this[_0x213c8c(0x5f3)][_0x213c8c(0x8e1)](_0x500f28);}[_0x1af94f(0x30e)](_0x5cd33d){const _0x3444ee=_0x1af94f,_0x54ed6a=this[_0x3444ee(0x35c)][_0x3444ee(0x26d)]()[_0x3444ee(0x7ef)](_0x4440af=>_0x4440af['kind']===_0x5cd33d);_0x54ed6a&&(this['mediaStream'][_0x3444ee(0x30e)](_0x54ed6a),this[_0x3444ee(0x952)][_0x3444ee(0x333)](_0x3ed8bd=>_0x3ed8bd[_0x3444ee(0x30e)](_0x5cd33d)),this[_0x3444ee(0x5f3)]['get'](_0x5cd33d)?.());}[_0x1af94f(0x38c)](){const _0x3172d4=_0x1af94f;this[_0x3172d4(0x90f)]&&(this[_0x3172d4(0x90f)]['srcObject']&&this[_0x3172d4(0x90f)][_0x3172d4(0x98d)]===this['mediaStream']||(this[_0x3172d4(0x90f)][_0x3172d4(0x98d)]=this['mediaStream']));}[_0x1af94f(0x65d)](){const _0xa5a9b5=_0x1af94f;if(this[_0xa5a9b5(0x90f)]&&!this[_0xa5a9b5(0x18a)]&&'undefined'!=typeof ResizeObserver){let _0x324dc8=this[_0xa5a9b5(0x90f)][_0xa5a9b5(0x922)],_0x5000c0=this['renderElement'][_0xa5a9b5(0x13c)];const _0x564b4c=new ResizeObserver(_0x23e422=>{const _0x30e69c=_0xa5a9b5,{width:_0x19b4a5,height:_0x193dfd}=_0x23e422[0x0][_0x30e69c(0x1a3)];_0x324dc8===_0x19b4a5&&_0x5000c0===_0x193dfd||(_0x324dc8=Math[_0x30e69c(0x444)](_0x19b4a5),_0x5000c0=Math[_0x30e69c(0x444)](_0x193dfd),this[_0x30e69c(0x940)]({'video':{'maxResolution':{'width':_0x19b4a5,'height':_0x193dfd}}}));});_0x564b4c[_0xa5a9b5(0x4f3)](this[_0xa5a9b5(0x90f)]),this[_0xa5a9b5(0x18a)]=()=>_0x564b4c[_0xa5a9b5(0x311)]();}}[_0x1af94f(0x54a)](_0x40f8ac){const _0x5b87be=_0x1af94f,_0x9ecb61=[];for(const _0x5b99be of this[_0x5b87be(0x99f)])this[_0x5b87be(0x30e)](_0x5b99be),_0x9ecb61[_0x5b87be(0x3d6)](_0x5b99be);this[_0x5b87be(0x44b)]&&this['systemTopic'][_0x5b87be(0x3ec)]({'sourceId':_0x50bf9f,'messageType':_0x502914[_0x5b87be(0x54e)],'content':{'type':_0x20f4a0['RemoteMediaStreamTrackFail'],'label':this[_0x5b87be(0xf1)],'streamId':this[_0x5b87be(0x6e9)],'ownerId':this['owner']['getId'](),'providerId':this[_0x5b87be(0x44b)],'trackKinds':_0x9ecb61}});}[_0x1af94f(0x9b2)](_0x1fad34){const _0x1e4c17=_0x1af94f,_0xfb46bf=()=>this[_0x1e4c17(0x54a)](_0x1fad34);_0x1fad34[_0x1e4c17(0x1c8)]('ended',_0xfb46bf),_0x1fad34[_0x1e4c17(0x1c8)](_0x1e4c17(0x875),_0xfb46bf),this[_0x1e4c17(0x5f3)][_0x1e4c17(0x81a)](_0x1fad34[_0x1e4c17(0x832)],()=>{const _0x3f6f86=_0x1e4c17;_0x1fad34[_0x3f6f86(0x3cc)]('ended',_0xfb46bf),_0x1fad34[_0x3f6f86(0x3cc)](_0x3f6f86(0x875),_0xfb46bf),this[_0x3f6f86(0x5f3)][_0x3f6f86(0x8e1)](_0x1fad34['kind']);});}}class _0x281804 extends _0x1eef03{[_0x1af94f(0x658)];['clusterId'];[_0x1af94f(0x90c)];['db'];['debounceStats'];['writes']=0x0;['reads']=0x0;[_0x1af94f(0x3e6)]=!0x1;constructor(_0x5c0a38,_0x1af3b3,_0xcf0292,_0x21addf,_0xf9ff08){const _0x12915e=_0x1af94f;if(_0x12915e(0x4e9)!=typeof _0x1af3b3)throw new _0x3b3113(_0x56d472[_0x12915e(0x4e1)],_0x12915e(0xa53));super(_0x5c0a38,_0x1af3b3),this[_0x12915e(0x658)]=_0x5c0a38,this['clusterId']=_0xcf0292,this[_0x12915e(0x90c)]=_0x21addf;const _0x5c44ad='ccc'+this[_0x12915e(0x90c)]+_0x12915e(0xa2f)+this[_0x12915e(0x230)]+'ccc'+this[_0x12915e(0xf1)];this['db']=new _0xf9ff08(_0x5c44ad),this[_0x12915e(0x9ed)]();}[_0x1af94f(0x130)](){const _0x5e724e=_0x1af94f;return this[_0x5e724e(0x3e6)];}[_0x1af94f(0x516)](_0x270291){this['isLoaded']=_0x270291;}['destroy'](){const _0x368bce=_0x1af94f;clearTimeout(this[_0x368bce(0x11a)]),delete this[_0x368bce(0x11a)],super[_0x368bce(0x541)]();}[_0x1af94f(0x92f)](){const _0x3bfac1=_0x1af94f;this[_0x3bfac1(0x316)][_0x3bfac1(0x3ec)]({'sourceId':_0x50bf9f,'messageType':_0x502914['Content'],'content':{'type':_0x20f4a0['CloseVectorDatabase'],'label':this[_0x3bfac1(0xf1)]}});}['reset'](){const _0x49dcd5=_0x1af94f;this[_0x49dcd5(0x9ed)]();}[_0x1af94f(0x8f7)](){const _0x3f1654=_0x1af94f;return _0xb0907f[_0x3f1654(0x178)]['VectorDatabase'];}[_0x1af94f(0x9f0)](_0x566ed2,_0x11715a,_0x1b43eb,_0x203ac2,_0x4b5d07){const _0x362046=_0x1af94f,_0x3ee602=this['db'][_0x362046(0x9f0)](_0x566ed2,_0x11715a,_0x1b43eb,_0x203ac2,_0x4b5d07);return this['reads']+=0x1,_0x5999e0[_0x362046(0x624)](_0x53b20f[_0x362046(0x21e)],{'type':_0x362046(0x9f0),'label':this[_0x362046(0xf1)],'nodeId':this['localNode'][_0x362046(0x8f3)](),'nodeType':this[_0x362046(0x658)]['type'],'clusterId':this[_0x362046(0x230)],'size':0x0}),this[_0x362046(0x9ed)](),_0x3ee602;}[_0x1af94f(0x62e)](_0x5874a6,_0x4595b1,_0x499307,_0x427645){const _0x32bd2c=_0x1af94f;this['db'][_0x32bd2c(0x62e)](_0x5874a6,_0x4595b1,_0x499307,_0x427645),this[_0x32bd2c(0xa05)]+=0x1,_0x5999e0['logServiceEvent'](_0x53b20f[_0x32bd2c(0x21e)],{'type':_0x32bd2c(0x62e),'label':this['label'],'nodeId':this[_0x32bd2c(0x658)][_0x32bd2c(0x8f3)](),'nodeType':this[_0x32bd2c(0x658)][_0x32bd2c(0x44f)],'clusterId':this[_0x32bd2c(0x230)],'size':_0x427645['reduce']((_0x3ba64b,_0x583783)=>_0x3ba64b+_0x583783[_0x32bd2c(0x71c)],0x0)}),this['sendStats']();}[_0x1af94f(0x1e7)](_0x415d66){const _0x569180=_0x1af94f;this['db']['remove'](_0x415d66),this[_0x569180(0xa05)]+=0x1,_0x5999e0[_0x569180(0x624)](_0x53b20f[_0x569180(0x21e)],{'type':_0x569180(0x1e7),'label':this['label'],'nodeId':this[_0x569180(0x658)][_0x569180(0x8f3)](),'nodeType':this[_0x569180(0x658)][_0x569180(0x44f)],'clusterId':this[_0x569180(0x230)],'size':0x0}),this[_0x569180(0x9ed)]();}[_0x1af94f(0x2e7)](_0x4f60cd){const _0x3c440d=_0x1af94f;this['db'][_0x3c440d(0x2e7)](_0x4f60cd);}[_0x1af94f(0x722)](_0x4a919e){const _0x172190=_0x1af94f;this['db'][_0x172190(0x722)](_0x4a919e);}[_0x1af94f(0x9ed)](){const _0x45f0a2=_0x1af94f;this[_0x45f0a2(0x11a)]&&clearTimeout(this[_0x45f0a2(0x11a)]),this['debounceStats']=setTimeout(async()=>{const _0x42d5ed=_0x45f0a2;delete this[_0x42d5ed(0x11a)];const _0x5b6d9e=this['db'][_0x42d5ed(0x4e8)]()['byteLength'];this[_0x42d5ed(0x316)][_0x42d5ed(0x3ec)]({'sourceId':_0x50bf9f,'messageType':_0x502914[_0x42d5ed(0x54e)],'content':{'type':_0x20f4a0[_0x42d5ed(0x57b)],'label':this[_0x42d5ed(0xf1)],'stats':{'timestamp':Date['now'](),'storage':_0x5b6d9e,'messagesSent':this[_0x42d5ed(0x7a2)],'messagesReceived':this[_0x42d5ed(0x9c7)],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x42d5ed(0x7b6)],'writes':this['writes'],'reads':this[_0x42d5ed(0x8bf)],'prompts':0x0,'tokens':0x0}}}),_0x5999e0['logStorage'](_0x53b20f[_0x42d5ed(0x21e)],_0x42d5ed(0xa2f)+this['clusterId']+'ccc'+this[_0x42d5ed(0xf1)],_0x5b6d9e);},_0x33f6e5);}}class _0x1bfad9{['id'];['remoteConnections'];[_0x1af94f(0x78a)];constructor(_0x1f2206,_0x114849=new Set(),_0xbc6cef){const _0x23a1f2=_0x1af94f;this['id']=_0x1f2206,this[_0x23a1f2(0x8ed)]=_0x114849,this[_0x23a1f2(0x78a)]=_0xbc6cef;}[_0x1af94f(0x92f)](){const _0x1e8141=_0x1af94f;this[_0x1e8141(0x78a)]=void 0x0,this[_0x1e8141(0x8ed)]['clear']();}[_0x1af94f(0x8f3)](){return this['id'];}[_0x1af94f(0x2d8)](){const _0x2063fc=_0x1af94f;return this[_0x2063fc(0x78a)];}[_0x1af94f(0x30b)](){const _0x37e7c1=_0x1af94f;return this[_0x37e7c1(0x8ed)];}}class _0xb03815 extends _0x1bfad9{['id'];[_0x1af94f(0x890)];['email'];[_0x1af94f(0x8ed)];[_0x1af94f(0x78a)];[_0x1af94f(0x44f)]=_0xb0907f[_0x1af94f(0x116)]['User'];constructor(_0x521188,_0x20efed,_0x4d7eb0,_0xe9fa86=new Set(),_0x31cb37){const _0x4fb856=_0x1af94f;super(_0x521188,_0xe9fa86,_0x31cb37),this['id']=_0x521188,this['displayName']=_0x20efed,this[_0x4fb856(0xa51)]=_0x4d7eb0,this[_0x4fb856(0x8ed)]=_0xe9fa86,this[_0x4fb856(0x78a)]=_0x31cb37;}[_0x1af94f(0x87c)](){return this['displayName'];}[_0x1af94f(0x693)](){const _0x6decee=_0x1af94f;return this[_0x6decee(0xa51)];}}class _0x587788{[_0x1af94f(0x90c)];[_0x1af94f(0x230)];['clusterKey'];constructor(_0x2f3516,_0x28588f){const _0x817890=_0x1af94f;this[_0x817890(0x90c)]=_0x2f3516,this['clusterId']=_0x28588f,this[_0x817890(0x761)]=_0x817890(0xa2f)+this[_0x817890(0x90c)]+_0x817890(0xa2f)+this['clusterId'];}async[_0x1af94f(0x1d5)](_0x5bf788,_0xd1b207){const _0x230210=_0x1af94f,_0x1f3e49=(0x0,_0x13f063['ref'])(_0xa01105['getDatabase'](),_0x230210(0x8ad)+this[_0x230210(0x761)]+_0x230210(0x6d5)+_0xd1b207+_0x230210(0x24f)+_0x5bf788['id']),_0x336dcf=(0x0,_0x13f063[_0x230210(0x7be)])(_0x1f3e49);_0x336dcf[_0x230210(0x1e7)](),_0x5bf788[_0x230210(0x76b)]||delete _0x5bf788[_0x230210(0x76b)];try{await(0x0,_0x13f063[_0x230210(0x81a)])(_0x1f3e49,_0x5bf788);}catch(_0x4f3773){throw await _0x336dcf['cancel'](),new _0x3c8547(_0x3c8547[_0x230210(0x700)][_0x230210(0x8ce)]);}if(!0x1===(await(0x0,_0x13f063['runTransaction'])((0x0,_0x13f063[_0x230210(0xe7)])(_0xa01105['getDatabase'](),'clusters/'+this[_0x230210(0x761)]+'/objectstores/'+_0xd1b207+_0x230210(0x53c)),_0x551958=>_0x551958?_0x551958===_0x5bf788[_0x230210(0x76b)]?_0x5bf788['id']:void 0x0:_0x5bf788[_0x230210(0x76b)]?_0x5bf788[_0x230210(0x76b)]:_0x5bf788['id']))[_0x230210(0x259)])throw await(0x0,_0x13f063[_0x230210(0x1e7)])(_0x1f3e49),await _0x336dcf['cancel'](),new _0x3c8547(_0x3c8547[_0x230210(0x700)][_0x230210(0x5da)]);await _0x336dcf[_0x230210(0x841)]();}async['getTransactions'](_0x4ec0d4,_0x20d0ee){const _0x2c2994=_0x1af94f;let _0x51a479=[];const _0x209164=(0x0,_0x13f063[_0x2c2994(0xe7)])(_0xa01105[_0x2c2994(0x37c)](),'clusters/'+this[_0x2c2994(0x761)]+_0x2c2994(0x6d5)+_0x4ec0d4+_0x2c2994(0x131));let _0xd80e48=await(0x0,_0x13f063['get'])((0x0,_0x13f063[_0x2c2994(0x63f)])(_0x209164,(0x0,_0x13f063[_0x2c2994(0x317)])(0x65),(0x0,_0x13f063[_0x2c2994(0x19c)])()));if(!_0xd80e48[_0x2c2994(0x20e)]()){if(void 0x0!==_0x20d0ee)throw new _0x3c8547(_0x3c8547['codes']['ObjectStoreInvalidState']);return _0x51a479;}const _0x46fb08=_0xd80e48[_0x2c2994(0x651)]();for(;Object[_0x2c2994(0x7a3)](_0xd80e48[_0x2c2994(0x651)]())[_0x2c2994(0x71c)]>0x64;){const _0x28a462=Object['keys'](_0xd80e48[_0x2c2994(0x651)]()),_0x1acd11=_0x28a462[_0x28a462[_0x2c2994(0x71c)]-0x1];_0xd80e48=await(0x0,_0x13f063['get'])((0x0,_0x13f063[_0x2c2994(0x63f)])(_0x209164,(0x0,_0x13f063[_0x2c2994(0x317)])(0x65),(0x0,_0x13f063[_0x2c2994(0x305)])(_0x1acd11),(0x0,_0x13f063[_0x2c2994(0x19c)])())),Object[_0x2c2994(0x83c)](_0x46fb08,_0xd80e48[_0x2c2994(0x651)]());}if(_0x51a479=Object[_0x2c2994(0x7e5)](_0x46fb08)[_0x2c2994(0x7e0)](_0x5e0414=>_0x2c2994(0x4e9)!=typeof _0x5e0414),0x0===_0x51a479['length']&&void 0x0!==_0x20d0ee)throw new _0x3c8547(_0x3c8547[_0x2c2994(0x700)][_0x2c2994(0x66c)]);if(_0x51a479[_0x2c2994(0x71c)]>0x0&&void 0x0!==_0x20d0ee&&!_0x51a479[_0x2c2994(0x7ef)](_0x173c3a=>_0x173c3a['id']===_0x20d0ee))throw new _0x3c8547(_0x3c8547[_0x2c2994(0x700)][_0x2c2994(0x66c)]);const _0x4d4513=[];let _0x24f404=_0x51a479[_0x2c2994(0x7ef)](_0x5be0a1=>_0x5be0a1[_0x2c2994(0x76b)]===_0x20d0ee);for(;_0x24f404;)_0x4d4513[_0x2c2994(0x3d6)](_0x24f404),_0x24f404=_0x51a479[_0x2c2994(0x7ef)](_0xab6a8b=>_0xab6a8b[_0x2c2994(0x76b)]===_0x24f404['id']);return _0x4d4513;}}class _0x5ab987{[_0x1af94f(0x45b)];[_0x1af94f(0x9b8)];[_0x1af94f(0x35a)];[_0x1af94f(0x727)];[_0x1af94f(0x874)]=new Map();[_0x1af94f(0x31f)]=new Map();[_0x1af94f(0x330)]=new Map();[_0x1af94f(0x91b)]=new Map();[_0x1af94f(0x497)]=new Map();[_0x1af94f(0x3ba)]=new Map();[_0x1af94f(0x6e6)]=new Map();['graphDatabases']=new Map();['jobDispatchers']=new Map();[_0x1af94f(0x19f)]=new Map();[_0x1af94f(0x155)];constructor(_0x4330b1,_0x2c8e04,_0x398fa2,_0x395dce){const _0x32b226=_0x1af94f;this[_0x32b226(0x45b)]=_0x4330b1,this[_0x32b226(0x9b8)]=_0x2c8e04,this[_0x32b226(0x35a)]=_0x398fa2,this['aiSearchApiKey']=_0x395dce,this[_0x32b226(0x155)]=new _0x587788(this[_0x32b226(0x45b)][_0x32b226(0x90c)],this[_0x32b226(0x45b)][_0x32b226(0x230)]);}[_0x1af94f(0x92f)](_0x24e84d=!0x1){const _0x1a22cc=_0x1af94f;this[_0x1a22cc(0x31f)][_0x1a22cc(0x333)]((_0x533b85,_0x37b207)=>{const _0xf6e74e=_0x1a22cc;_0x533b85[_0xf6e74e(0x333)]((_0x260515,_0x4f2e56)=>{const _0x2fe35c=_0xf6e74e;this[_0x2fe35c(0x481)](_0x37b207,_0x4f2e56);});}),_0x24e84d||(_0x51a938['clear'](),this[_0x1a22cc(0x874)]['forEach']((_0x2b2763,_0x58f5c3)=>{this['removeLocalMediaStream'](_0x58f5c3);}),this['pubSubTopics'][_0x1a22cc(0x333)]((_0xb2ea0d,_0x104f91)=>{this['removePubSubTopic'](_0x104f91);}),this[_0x1a22cc(0x91b)][_0x1a22cc(0x333)]((_0x2093c4,_0x264567)=>{const _0x1b945e=_0x1a22cc;this[_0x1b945e(0x18e)](_0x264567);}),this[_0x1a22cc(0x497)][_0x1a22cc(0x333)]((_0x5a87ac,_0x478335)=>{this['removeExternalStorageConnection'](_0x478335);}),this[_0x1a22cc(0x3ba)][_0x1a22cc(0x333)]((_0x51c473,_0x395d84)=>{const _0x3a3f15=_0x1a22cc;this[_0x3a3f15(0x9e3)](_0x395d84);}),this[_0x1a22cc(0x712)][_0x1a22cc(0x333)]((_0x515452,_0x4a0c0a)=>{const _0x449d54=_0x1a22cc;this[_0x449d54(0x3a7)](_0x4a0c0a);}),this[_0x1a22cc(0x19f)]['forEach']((_0x5312c7,_0x4f7a04)=>{this['removeJobWorker'](_0x4f7a04);}),this['vectorDatabases'][_0x1a22cc(0x333)]((_0x8dd6e7,_0x6cd421)=>{this['removeVectorDatabase'](_0x6cd421);}),this['graphDatabases'][_0x1a22cc(0x333)]((_0x58c129,_0x5ceb1b)=>{const _0x55846d=_0x1a22cc;this[_0x55846d(0x3f3)](_0x5ceb1b);}));}[_0x1af94f(0x7ce)](_0x412679,_0x301655,_0x2e0a36){const _0x407c60=_0x1af94f;if(this['objectStores'][_0x407c60(0x907)](_0x412679))throw new _0x3b3113(_0x56d472['ObjectStoreAlreadyExists'],'Store\x20already\x20exists');const _0x5570f6=new _0x58e46b(this[_0x407c60(0x45b)]['localNode'],_0x412679,this[_0x407c60(0x45b)]['clusterId'],this[_0x407c60(0x45b)][_0x407c60(0x90c)],this[_0x407c60(0x155)],_0x301655,()=>this['configs'][_0x407c60(0x9ba)][_0x407c60(0x845)](),_0x2e0a36);return this[_0x407c60(0x91b)][_0x407c60(0x81a)](_0x412679,_0x5570f6),this['configs'][_0x407c60(0x9ba)][_0x407c60(0x7cc)](_0x5570f6),_0x5570f6;}['createExternalStorageConnection'](_0x1c5055,_0x4d308d){const _0x4441ae=_0x1af94f;if(this['objectStores']['has'](_0x1c5055))throw new _0x3b3113(_0x56d472[_0x4441ae(0x212)],_0x4441ae(0x7bb));const _0x25c826=new _0x45f0d7(this[_0x4441ae(0x45b)]['localNode'],_0x1c5055,this[_0x4441ae(0x45b)][_0x4441ae(0x230)],this[_0x4441ae(0x45b)]['vendorId'],_0x4d308d);return this[_0x4441ae(0x497)][_0x4441ae(0x81a)](_0x1c5055,_0x25c826),this[_0x4441ae(0x45b)]['mediator'][_0x4441ae(0x7cc)](_0x25c826),_0x25c826;}async[_0x1af94f(0x676)](_0x48d2d0,_0x39b08a,_0x5f5454){const _0x4eb97b=_0x1af94f;if(this[_0x4eb97b(0x3ba)][_0x4eb97b(0x907)](_0x48d2d0))throw new _0x3b3113(_0x56d472['KeyValueDatabaseAlreadyExists'],'Database\x20already\x20exists');try{const _0x1d98e2=this['configs'][_0x4eb97b(0x9ba)][_0x4eb97b(0x549)][_0x4eb97b(0x136)](this[_0x4eb97b(0x45b)][_0x4eb97b(0x9ba)]),_0x41d754=new _0x3c1b25(this[_0x4eb97b(0x45b)][_0x4eb97b(0x658)],_0x48d2d0,this[_0x4eb97b(0x45b)][_0x4eb97b(0x230)],this['configs'][_0x4eb97b(0x90c)],_0x39b08a,_0x5f5454,_0x1d98e2);return this[_0x4eb97b(0x3ba)]['set'](_0x48d2d0,_0x41d754),this['configs'][_0x4eb97b(0x9ba)][_0x4eb97b(0x7cc)](_0x41d754),_0x41d754;}catch(_0xb08498){if(_0xb08498 instanceof _0x3b3113)throw _0xb08498;throw new _0x3c8547(_0x3c8547[_0x4eb97b(0x700)][_0x4eb97b(0x1ab)],{'label':_0x48d2d0,'clusterId':this[_0x4eb97b(0x45b)][_0x4eb97b(0x230)],'vendorId':this[_0x4eb97b(0x45b)][_0x4eb97b(0x90c)]});}}async[_0x1af94f(0x404)](_0x378fed,_0x1f2115){const _0x583633=_0x1af94f;if(this[_0x583633(0x712)][_0x583633(0x907)](_0x378fed))throw new _0x3b3113(_0x56d472[_0x583633(0x6a8)],_0x583633(0x25d));try{const _0x112e1b=new _0x1fda06(this[_0x583633(0x45b)][_0x583633(0x658)],_0x378fed,_0x1f2115);return this[_0x583633(0x712)][_0x583633(0x81a)](_0x378fed,_0x112e1b),this[_0x583633(0x45b)]['mediator'][_0x583633(0x7cc)](_0x112e1b),_0x112e1b;}catch(_0x415f23){if(_0x415f23 instanceof _0x3b3113)throw _0x415f23;throw new _0x3c8547(_0x3c8547['codes']['JobDispatcherCreationFailed'],{'label':_0x378fed,'clusterId':this[_0x583633(0x45b)]['clusterId'],'vendorId':this[_0x583633(0x45b)]['vendorId']});}}async[_0x1af94f(0x66d)](_0x9fb02b,_0x98381e){const _0x5897f6=_0x1af94f;if(this[_0x5897f6(0x712)]['has'](_0x9fb02b))throw new _0x3b3113(_0x56d472[_0x5897f6(0x1f6)],_0x5897f6(0x132));if(this[_0x5897f6(0x19f)][_0x5897f6(0x907)](_0x9fb02b))throw new _0x3b3113(_0x56d472[_0x5897f6(0x5a7)],'Label\x20already\x20in\x20use\x20by\x20AI\x20Service');try{const _0x220b85=new _0x1c2dce(this[_0x5897f6(0x45b)][_0x5897f6(0x658)],_0x9fb02b,this['configs']['vendorId'],_0x98381e);return this[_0x5897f6(0x712)][_0x5897f6(0x81a)](_0x9fb02b,_0x220b85),this[_0x5897f6(0x45b)][_0x5897f6(0x9ba)]['registerSystemSource'](_0x220b85),_0x220b85;}catch(_0x3c1177){if(_0x3c1177 instanceof _0x3b3113)throw _0x3c1177;throw new _0x3c8547(_0x3c8547[_0x5897f6(0x700)][_0x5897f6(0x976)],{'label':_0x9fb02b,'clusterId':this['configs'][_0x5897f6(0x230)],'vendorId':this[_0x5897f6(0x45b)]['vendorId']});}}async[_0x1af94f(0x1f7)](_0x5a85da,_0x49fd52,_0x3c6dff,_0x2d812e,_0x400fcd,_0x479ac2,_0x55f795,_0x1ec563){const _0x101aed=_0x1af94f;if(this[_0x101aed(0x19f)][_0x101aed(0x907)](_0x5a85da))throw new _0x3b3113(_0x56d472[_0x101aed(0x263)],'AI\x20Worker\x20already\x20exists');if(this['jobDispatchers'][_0x101aed(0x907)](_0x5a85da))throw new _0x3b3113(_0x56d472[_0x101aed(0x5a7)],_0x101aed(0x51a));try{const _0xf78883=new _0x4223ab(this[_0x101aed(0x45b)][_0x101aed(0x658)],_0x5a85da,this['configs'][_0x101aed(0x90c)],_0x49fd52,this,_0x3c6dff,_0x2d812e,_0x400fcd,this[_0x101aed(0x35a)],this[_0x101aed(0x727)],_0x479ac2,_0x55f795,_0x1ec563);return this['jobWorkers'][_0x101aed(0x81a)](_0x5a85da,_0xf78883),this[_0x101aed(0x45b)]['mediator'][_0x101aed(0x7cc)](_0xf78883),_0xf78883;}catch(_0x2d0a48){if(_0x2d0a48 instanceof _0x3b3113)throw _0x2d0a48;throw new _0x3c8547(_0x3c8547[_0x101aed(0x700)][_0x101aed(0x32e)],{'label':_0x5a85da,'clusterId':this['configs'][_0x101aed(0x230)],'vendorId':this['configs'][_0x101aed(0x90c)]});}}[_0x1af94f(0x13a)](_0x24e85d,_0xa910d6){const _0x3bab64=_0x1af94f;if(this[_0x3bab64(0x3ab)][_0x3bab64(0x907)](_0x24e85d))throw new _0x3b3113(_0x56d472['GraphDatabaseAlreadyExists'],'Database\x20already\x20exists');try{const _0x37f507=new _0x5a86fc(this[_0x3bab64(0x45b)]['localNode'],_0x24e85d,this['configs'][_0x3bab64(0x230)],this[_0x3bab64(0x45b)][_0x3bab64(0x90c)],_0xa910d6);return this['graphDatabases'][_0x3bab64(0x81a)](_0x24e85d,_0x37f507),this[_0x3bab64(0x45b)][_0x3bab64(0x9ba)][_0x3bab64(0x7cc)](_0x37f507),_0x37f507;}catch(_0x2b14c7){if(_0x2b14c7 instanceof _0x3b3113)throw _0x2b14c7;throw new _0x3c8547(_0x3c8547[_0x3bab64(0x700)][_0x3bab64(0x135)],{'label':_0x24e85d,'clusterId':this[_0x3bab64(0x45b)][_0x3bab64(0x230)],'vendorId':this[_0x3bab64(0x45b)]['vendorId']});}}[_0x1af94f(0x50b)](_0x108cd4,_0x48d424){const _0x4b43af=_0x1af94f;if(this[_0x4b43af(0x874)][_0x4b43af(0x907)](_0x108cd4))throw new _0x3b3113(_0x56d472[_0x4b43af(0x773)],'Local\x20MediaStream\x20already\x20exists');if(!this['options'][_0x4b43af(0x479)])throw new _0x3b3113(_0x56d472[_0x4b43af(0x4ec)],_0x4b43af(0x1df));const _0x1d4ca0=new _0x2665fc(this[_0x4b43af(0x45b)][_0x4b43af(0x658)],_0x108cd4,_0x48d424,this[_0x4b43af(0x9b8)][_0x4b43af(0xa02)],this['options'][_0x4b43af(0x479)],this[_0x4b43af(0x45b)][_0x4b43af(0x230)]);return this[_0x4b43af(0x874)][_0x4b43af(0x81a)](_0x108cd4,_0x1d4ca0),this['configs'][_0x4b43af(0x9ba)][_0x4b43af(0x7cc)](_0x1d4ca0),_0x1d4ca0[_0x4b43af(0x3ec)](),_0x1d4ca0;}['createLocalMediaStream'](_0x2ad6b9,_0x5d7cbb){const _0x1156b7=_0x1af94f;if(this[_0x1156b7(0x874)][_0x1156b7(0x907)](_0x2ad6b9))throw new _0x3b3113(_0x56d472[_0x1156b7(0x773)],_0x1156b7(0x9d6));const _0x9f5efa=new _0x564473(this[_0x1156b7(0x45b)][_0x1156b7(0x658)],_0x2ad6b9,_0x5d7cbb,this[_0x1156b7(0x45b)][_0x1156b7(0x230)]);return this[_0x1156b7(0x874)][_0x1156b7(0x81a)](_0x2ad6b9,_0x9f5efa),this['configs'][_0x1156b7(0x9ba)][_0x1156b7(0x7cc)](_0x9f5efa),_0x9f5efa[_0x1156b7(0x3ec)](),_0x9f5efa;}['createPubSubTopic'](_0x26437e){const _0x4dc309=_0x1af94f;if(this[_0x4dc309(0x330)][_0x4dc309(0x907)](_0x26437e))throw new _0x3b3113(_0x56d472[_0x4dc309(0x8ae)],'PubSub\x20already\x20exists');const _0x268072=new _0x45d048(this[_0x4dc309(0x45b)][_0x4dc309(0x658)],_0x26437e,this[_0x4dc309(0x45b)]['clusterId']);return this[_0x4dc309(0x330)][_0x4dc309(0x81a)](_0x26437e,_0x268072),this[_0x4dc309(0x45b)]['mediator'][_0x4dc309(0x7cc)](_0x268072),_0x268072;}['createRemoteMediaStream'](_0xdffd0e,_0x5218e8,_0x2e2e01,_0x1cf47c){const _0x4cddd0=_0x1af94f;this[_0x4cddd0(0x31f)]['has'](_0xdffd0e)||this[_0x4cddd0(0x31f)][_0x4cddd0(0x81a)](_0xdffd0e,new Map());const _0x22488a=this[_0x4cddd0(0x31f)][_0x4cddd0(0x70a)](_0xdffd0e);if(_0x22488a['has'](_0x5218e8))throw new _0x3b3113(_0x56d472[_0x4cddd0(0x7d8)],'Remote\x20MediaStream\x20already\x20exists');const _0x2fff3d=new _0xb03815(_0xdffd0e,'',''),_0x17d78f=new _0x52dee0(this[_0x4cddd0(0x45b)][_0x4cddd0(0x658)],_0x2fff3d,_0x5218e8,_0x2e2e01,_0x1cf47c,this[_0x4cddd0(0x45b)][_0x4cddd0(0x230)]);return _0x22488a['set'](_0x5218e8,_0x17d78f),this['configs'][_0x4cddd0(0x9ba)][_0x4cddd0(0x7cc)](_0x17d78f),_0x17d78f;}[_0x1af94f(0x3b0)](_0x34944a,_0x351ae9){const _0x45c6a3=_0x1af94f;if(this[_0x45c6a3(0x6e6)][_0x45c6a3(0x907)](_0x34944a))throw new _0x3b3113(_0x56d472[_0x45c6a3(0x364)],_0x45c6a3(0x5d2));try{const _0x54e85e=new _0x281804(this[_0x45c6a3(0x45b)][_0x45c6a3(0x658)],_0x34944a,this[_0x45c6a3(0x45b)][_0x45c6a3(0x230)],this[_0x45c6a3(0x45b)][_0x45c6a3(0x90c)],_0x351ae9);return this[_0x45c6a3(0x6e6)]['set'](_0x34944a,_0x54e85e),this[_0x45c6a3(0x45b)][_0x45c6a3(0x9ba)]['registerSystemSource'](_0x54e85e),_0x54e85e;}catch(_0x294415){if(_0x294415 instanceof _0x3b3113)throw _0x294415;throw new _0x3c8547(_0x3c8547[_0x45c6a3(0x700)]['VectorDatabaseCreationFailed'],{'label':_0x34944a,'clusterId':this[_0x45c6a3(0x45b)]['clusterId'],'vendorId':this[_0x45c6a3(0x45b)][_0x45c6a3(0x90c)]});}}[_0x1af94f(0x790)](_0x13003e){const _0x40b1e7=_0x1af94f,_0x16dd53=Array[_0x40b1e7(0x13b)](this[_0x40b1e7(0x91b)][_0x40b1e7(0x7e5)]());return _0x13003e?_0x16dd53['filter'](_0x13003e):_0x16dd53;}[_0x1af94f(0x9f4)](_0x5c0fa8){const _0x3b902d=_0x1af94f,_0x324d8f=Array['from'](this['externalStorageConnections'][_0x3b902d(0x7e5)]());return _0x5c0fa8?_0x324d8f[_0x3b902d(0x7e0)](_0x5c0fa8):_0x324d8f;}[_0x1af94f(0x70e)](_0x317013){const _0x21d5ca=_0x1af94f,_0x1467c9=Array[_0x21d5ca(0x13b)](this[_0x21d5ca(0x3ba)][_0x21d5ca(0x7e5)]());return _0x317013?_0x1467c9[_0x21d5ca(0x7e0)](_0x317013):_0x1467c9;}[_0x1af94f(0x475)](_0x2188ba){const _0x3728a3=_0x1af94f,_0x4fd4f7=Array['from'](this['jobDispatchers'][_0x3728a3(0x7e5)]());return _0x2188ba?_0x4fd4f7[_0x3728a3(0x7e0)](_0x2188ba):_0x4fd4f7;}[_0x1af94f(0x487)](_0x39309c){const _0x56ee6a=_0x1af94f,_0x266449=Array[_0x56ee6a(0x13b)](this[_0x56ee6a(0x19f)][_0x56ee6a(0x7e5)]());return _0x39309c?_0x266449[_0x56ee6a(0x7e0)](_0x39309c):_0x266449;}[_0x1af94f(0x8dc)](_0x567d7e){const _0x19e43a=_0x1af94f,_0x681bb8=Array[_0x19e43a(0x13b)](this[_0x19e43a(0x712)][_0x19e43a(0x7e5)]())['filter'](_0x56a012=>_0x56a012 instanceof _0x1c2dce);return _0x567d7e?_0x681bb8[_0x19e43a(0x7e0)](_0x567d7e):_0x681bb8;}[_0x1af94f(0x711)](_0x4565e6){const _0x564f5f=Array['from'](this['jobWorkers']['values']())['filter'](_0x3d5647=>_0x3d5647 instanceof _0x4223ab);return _0x4565e6?_0x564f5f['filter'](_0x4565e6):_0x564f5f;}[_0x1af94f(0x1d7)](_0x8c21c){const _0x3b929d=_0x1af94f,_0x73c449=Array[_0x3b929d(0x13b)](this[_0x3b929d(0x3ab)][_0x3b929d(0x7e5)]());return _0x8c21c?_0x73c449[_0x3b929d(0x7e0)](_0x8c21c):_0x73c449;}[_0x1af94f(0x421)](_0xa17073){const _0x7bee83=_0x1af94f,_0x1aa205=Array[_0x7bee83(0x13b)](this[_0x7bee83(0x874)][_0x7bee83(0x7e5)]());return _0xa17073?_0x1aa205[_0x7bee83(0x7e0)](_0xa17073):_0x1aa205;}[_0x1af94f(0x967)](_0x3da06c){const _0x1d0ce5=_0x1af94f,_0x4764cb=Array[_0x1d0ce5(0x13b)](this[_0x1d0ce5(0x330)]['values']());return _0x3da06c?_0x4764cb[_0x1d0ce5(0x7e0)](_0x3da06c):_0x4764cb;}[_0x1af94f(0x1eb)](_0x1318f6){const _0x523916=_0x1af94f,_0x12408c=Array['from'](this[_0x523916(0x31f)][_0x523916(0x7e5)]())[_0x523916(0x7e2)]((_0x5e9d20,_0x2afcd3)=>[..._0x5e9d20,...Array['from'](_0x2afcd3['values']())],[]);return _0x1318f6?_0x12408c['filter'](_0x1318f6):_0x12408c;}[_0x1af94f(0x5de)](_0x5a9ddd){const _0x2596a9=_0x1af94f,_0x3e4f79=Array[_0x2596a9(0x13b)](this[_0x2596a9(0x6e6)][_0x2596a9(0x7e5)]());return _0x5a9ddd?_0x3e4f79[_0x2596a9(0x7e0)](_0x5a9ddd):_0x3e4f79;}['getObjectStoreBucket'](_0x3403d4){const _0x36caeb=_0x1af94f,_0x352950=this[_0x36caeb(0x91b)][_0x36caeb(0x70a)](_0x3403d4);if(!_0x352950)throw new _0x3b3113(_0x56d472[_0x36caeb(0x9ca)],_0x36caeb(0x241));return _0x352950;}['getExternalStorageConnection'](_0xcc876a){const _0x569831=_0x1af94f,_0x57c8e9=_0xcc876a[_0x569831(0x7c6)]('-'),_0x415e6b=this[_0x569831(0x497)]['get'](_0x57c8e9[0x1]);if(!_0x415e6b)throw new _0x3b3113(_0x56d472[_0x569831(0x4c4)],'ExternalStorageConnection\x20not\x20found');return _0x415e6b;}['getGraphDatabase'](_0x57ff68){const _0xff3007=_0x1af94f,_0x9099db=this[_0xff3007(0x3ab)][_0xff3007(0x70a)](_0x57ff68);if(!_0x9099db)throw new _0x3b3113(_0x56d472[_0xff3007(0xa38)],_0xff3007(0x2ed));return _0x9099db;}[_0x1af94f(0x91d)](_0x590723){const _0xfbca81=_0x1af94f,_0x441ef6=this['keyValueDatabases']['get'](_0x590723);if(!_0x441ef6)throw new _0x3b3113(_0x56d472[_0xfbca81(0x139)],_0xfbca81(0x653));return _0x441ef6;}[_0x1af94f(0x9c6)](_0x15b843){const _0x144283=_0x1af94f,_0x26434f=this[_0x144283(0x330)][_0x144283(0x70a)](_0x15b843);if(!_0x26434f)throw new _0x3b3113(_0x56d472[_0x144283(0x9fa)],_0x144283(0x41b));return _0x26434f;}[_0x1af94f(0x306)](_0x2710d0){const _0x44e084=_0x1af94f,_0x5794d7=this[_0x44e084(0x6e6)][_0x44e084(0x70a)](_0x2710d0);if(!_0x5794d7)throw new _0x3b3113(_0x56d472[_0x44e084(0x744)],_0x44e084(0x10b));return _0x5794d7;}['handleContentSystemEvents'](_0x19ec66){const _0x16f696=_0x1af94f;switch(_0x19ec66[_0x16f696(0x3fe)][_0x16f696(0x44f)]){case _0x20f4a0['PublishMediaStream']:this[_0x16f696(0x4c6)](_0x19ec66[_0x16f696(0x3fe)]);break;case _0x20f4a0[_0x16f696(0x95c)]:this[_0x16f696(0x297)](_0x19ec66[_0x16f696(0x3fe)]);break;case _0x20f4a0['CloseJobDispatcher']:this[_0x16f696(0x3a7)](_0x19ec66[_0x16f696(0x3fe)][_0x16f696(0xf1)]);break;case _0x20f4a0['CloseJobWorker']:this[_0x16f696(0x954)](_0x19ec66[_0x16f696(0x3fe)]['label']);break;case _0x20f4a0[_0x16f696(0x762)]:this[_0x16f696(0x86e)](_0x19ec66[_0x16f696(0x3fe)]['label']);break;case _0x20f4a0[_0x16f696(0x738)]:this[_0x16f696(0x3dd)](_0x19ec66[_0x16f696(0x3fe)]['label']);break;case _0x20f4a0[_0x16f696(0x8f8)]:this['removeObjectStore'](_0x19ec66['content']['label']);break;case _0x20f4a0[_0x16f696(0x3a1)]:this[_0x16f696(0x91a)](_0x19ec66[_0x16f696(0x3fe)][_0x16f696(0xf1)]);break;case _0x20f4a0[_0x16f696(0x6d0)]:this[_0x16f696(0x9e3)](_0x19ec66[_0x16f696(0x3fe)][_0x16f696(0xf1)]);break;case _0x20f4a0['CloseVectorDatabase']:this[_0x16f696(0x3d3)](_0x19ec66[_0x16f696(0x3fe)]['label']);break;case _0x20f4a0[_0x16f696(0x517)]:this[_0x16f696(0x3f3)](_0x19ec66[_0x16f696(0x3fe)][_0x16f696(0xf1)]);break;case _0x20f4a0[_0x16f696(0x8c8)]:this['handleContentUnsubscribeMediaStream'](_0x19ec66[_0x16f696(0x3fe)]);break;case _0x20f4a0[_0x16f696(0x88c)]:this['keyValueDatabases'][_0x16f696(0x70a)](_0x19ec66[_0x16f696(0x3fe)][_0x16f696(0xf1)])?.[_0x16f696(0x137)](_0x19ec66[_0x16f696(0x825)],_0x19ec66['content'][_0x16f696(0x6c8)]);break;case _0x20f4a0[_0x16f696(0x199)]:this[_0x16f696(0x3ba)]['get'](_0x19ec66[_0x16f696(0x3fe)]['label'])?.['processContentSynchronized'](_0x19ec66[_0x16f696(0x825)],_0x19ec66['content'][_0x16f696(0x6c8)]);break;case _0x20f4a0[_0x16f696(0xa2a)]:this[_0x16f696(0x3ba)][_0x16f696(0x70a)](_0x19ec66[_0x16f696(0x3fe)][_0x16f696(0xf1)])?.[_0x16f696(0x278)](_0x19ec66[_0x16f696(0x825)],_0x19ec66['content']['peaks']);break;case _0x20f4a0[_0x16f696(0x6d2)]:this['keyValueDatabases'][_0x16f696(0x70a)](_0x19ec66[_0x16f696(0x3fe)][_0x16f696(0xf1)])?.['sendPeakTransactions'](_0x19ec66[_0x16f696(0x825)],_0x19ec66['content'][_0x16f696(0x367)]);break;case _0x20f4a0['KeyValueDatabaseRequestTransactionsValue']:this[_0x16f696(0x3ba)][_0x16f696(0x70a)](_0x19ec66['content'][_0x16f696(0xf1)])?.['sendTransactionsValue'](_0x19ec66[_0x16f696(0x825)],_0x19ec66[_0x16f696(0x3fe)]['transactionIds']);break;case _0x20f4a0[_0x16f696(0x53b)]:this['keyValueDatabases'][_0x16f696(0x70a)](_0x19ec66[_0x16f696(0x3fe)][_0x16f696(0xf1)])?.[_0x16f696(0x846)](_0x19ec66[_0x16f696(0x825)],_0x19ec66[_0x16f696(0x3fe)][_0x16f696(0x1ad)]);break;case _0x20f4a0[_0x16f696(0x50f)]:this[_0x16f696(0x45b)]['mediator'][_0x16f696(0x114)]('local-media-stream-track-fail',{'label':_0x19ec66[_0x16f696(0x3fe)][_0x16f696(0xf1)],'trackKinds':_0x19ec66[_0x16f696(0x3fe)][_0x16f696(0x5b9)]});}}[_0x1af94f(0x911)]({content:_0x153313}){const _0x2af323=_0x1af94f;switch(_0x153313[_0x2af323(0x44f)]){case _0x4f0fdf[_0x2af323(0x3bb)]:this[_0x2af323(0x984)](_0x153313),this[_0x2af323(0x1c1)](_0x153313);break;case _0x4f0fdf['NodeLeave']:this[_0x2af323(0x2a3)](_0x153313),this[_0x2af323(0x471)](_0x153313);}}[_0x1af94f(0x935)](_0x5b2758){const _0x4ccde7=_0x1af94f;switch(_0x5b2758['content']['type']){case _0x5f1baf['SubscribeMediaStream']:this[_0x4ccde7(0x142)](_0x5b2758[_0x4ccde7(0x825)],_0x5b2758[_0x4ccde7(0x3fe)]);break;case _0x5f1baf[_0x4ccde7(0x459)]:this[_0x4ccde7(0x524)](_0x5b2758[_0x4ccde7(0x825)],_0x5b2758[_0x4ccde7(0x3fe)]);break;case _0x5f1baf[_0x4ccde7(0x8c8)]:this[_0x4ccde7(0x7aa)](_0x5b2758[_0x4ccde7(0x825)],_0x5b2758['content']);}}[_0x1af94f(0x68d)](_0x4280df){const _0x3edca6=_0x1af94f;if(0x0===_0x4280df[_0x3edca6(0x3c9)])this[_0x3edca6(0x31f)][_0x3edca6(0x70a)](_0x4280df[_0x3edca6(0x4af)])?.[_0x3edca6(0x70a)](_0x4280df[_0x3edca6(0xf1)])?.['destroy']();else{const _0x52f8eb=this[_0x3edca6(0x31f)]['get'](_0x4280df[_0x3edca6(0x4af)])?.['get'](_0x4280df['label']);if(!_0x52f8eb)return;_0x4280df['trackKinds'][_0x3edca6(0x333)](_0x2386a8=>_0x52f8eb[_0x3edca6(0x786)](_0x2386a8));}}[_0x1af94f(0x4c6)](_0x4678be){const _0x4eed4b=_0x1af94f,{label:_0x4f0c97,ownerId:_0x5e8b7c,stream:{streamId:_0x2433d7,availableTrackKinds:_0x2d0ed3}}=_0x4678be;if(this[_0x4eed4b(0x31f)][_0x4eed4b(0x70a)](_0x5e8b7c)?.[_0x4eed4b(0x907)](_0x4f0c97))return void _0x5999e0[_0x4eed4b(0x15c)](_0x53526a['Content'],_0x4eed4b(0x9d6),_0x2433d7);const _0x416105=this[_0x4eed4b(0x9c5)](_0x5e8b7c,_0x4f0c97,_0x2433d7,_0x2d0ed3);this[_0x4eed4b(0x45b)]['mediator'][_0x4eed4b(0x114)](_0x4eed4b(0x95a),{'ownerId':_0x5e8b7c,'stream':_0x416105});}['handleUnpublishMediaStream']({ownerId:_0x1330e6,label:_0x3985fd}){const _0x5b2ca1=_0x1af94f;this[_0x5b2ca1(0x481)](_0x1330e6,_0x3985fd),this[_0x5b2ca1(0x45b)]['mediator'][_0x5b2ca1(0x114)](_0x5b2ca1(0x85f),{'ownerId':_0x1330e6,'label':_0x3985fd});}[_0x1af94f(0x142)](_0x20877c,_0xf9fdcf){const _0x576685=_0x1af94f,{ownerId:_0xaaab4e,label:_0x48d3c3}=_0xf9fdcf;let _0x12a195;_0x12a195=_0xaaab4e!==this[_0x576685(0x45b)][_0x576685(0x658)][_0x576685(0x8f3)]()?this[_0x576685(0x31f)][_0x576685(0x70a)](_0xaaab4e)[_0x576685(0x70a)](_0x48d3c3):this[_0x576685(0x874)][_0x576685(0x70a)](_0x48d3c3),_0x12a195['getShareableStream'](_0x20877c,_0xf9fdcf[_0x576685(0x63c)])['subscribe'](_0xf9fdcf,_0x12a195[_0x576685(0x3a8)]());}['handleUpdateMediaStream'](_0x1b35e0,_0x5a5970){const _0x38d4fb=_0x1af94f,{ownerId:_0x1562b1,label:_0x21f90c}=_0x5a5970;let _0x313ddc;_0x313ddc=_0x1562b1!==this[_0x38d4fb(0x45b)][_0x38d4fb(0x658)][_0x38d4fb(0x8f3)]()?this[_0x38d4fb(0x31f)][_0x38d4fb(0x70a)](_0x1562b1)[_0x38d4fb(0x70a)](_0x21f90c):this[_0x38d4fb(0x874)][_0x38d4fb(0x70a)](_0x21f90c),_0x313ddc['getShareableStream'](_0x1b35e0,_0x5a5970[_0x38d4fb(0x63c)])[_0x38d4fb(0x940)](_0x5a5970);}[_0x1af94f(0x7aa)](_0x25b521,_0x53aac4){const _0x54760c=_0x1af94f,{ownerId:_0x1c4b89,label:_0x560c0f}=_0x53aac4;let _0x354e17;_0x354e17=_0x1c4b89!==this[_0x54760c(0x45b)][_0x54760c(0x658)][_0x54760c(0x8f3)]()?this['remoteMediaStreams']['get'](_0x1c4b89)[_0x54760c(0x70a)](_0x560c0f):this[_0x54760c(0x874)]['get'](_0x560c0f),_0x354e17[_0x54760c(0x75e)](_0x25b521)[_0x54760c(0x885)](_0x53aac4);}[_0x1af94f(0x984)]({id:_0x4b8d51}){const _0x49d58a=_0x1af94f;this[_0x49d58a(0x421)]()['forEach'](_0x310801=>{const _0x2763da=_0x49d58a;_0x310801[_0x2763da(0x3ec)](_0x4b8d51);});}[_0x1af94f(0x2a3)]({id:_0x4ff1fb}){const _0x50a43b=_0x1af94f;this[_0x50a43b(0x1eb)](_0x284955=>_0x284955[_0x50a43b(0x7bd)]()===_0x4ff1fb)[_0x50a43b(0x333)](_0x9aff1a=>{const _0x54fde2=_0x50a43b;this['removeRemoteMediaStream'](_0x9aff1a[_0x54fde2(0x7bd)](),_0x9aff1a['getLabel']());});}[_0x1af94f(0x1c1)]({id:_0x5019c6}){const _0xd2156=_0x1af94f;this[_0xd2156(0x91b)][_0xd2156(0x333)](_0x50fd16=>_0x50fd16[_0xd2156(0x9bf)](_0x5019c6));}['notifyObjectStoreOfNodeLeave']({id:_0x5e4a3f}){const _0x597294=_0x1af94f;this[_0x597294(0x91b)][_0x597294(0x333)](_0x46772a=>_0x46772a[_0x597294(0x2a3)](_0x5e4a3f));}[_0x1af94f(0x3a7)](_0x2d626c){const _0x10a76d=_0x1af94f;if(!this['jobDispatchers'][_0x10a76d(0x907)](_0x2d626c))throw new _0x3b3113(_0x56d472[_0x10a76d(0x99d)],_0x10a76d(0x22f));const _0x28a49c=this[_0x10a76d(0x712)][_0x10a76d(0x70a)](_0x2d626c);this['jobDispatchers'][_0x10a76d(0x8e1)](_0x2d626c),_0x28a49c[_0x10a76d(0x541)](),this[_0x10a76d(0x45b)][_0x10a76d(0x9ba)][_0x10a76d(0x33d)](_0x28a49c);}['removeJobWorker'](_0x2d5896){const _0x3e5f2d=_0x1af94f;if(!this['jobWorkers'][_0x3e5f2d(0x907)](_0x2d5896))throw new _0x3b3113(_0x56d472['JobWorkerDoesNotExist'],_0x3e5f2d(0x6b8));const _0x159516=this['jobWorkers'][_0x3e5f2d(0x70a)](_0x2d5896);this[_0x3e5f2d(0x19f)][_0x3e5f2d(0x8e1)](_0x2d5896),_0x159516[_0x3e5f2d(0x541)](),this[_0x3e5f2d(0x45b)]['mediator'][_0x3e5f2d(0x33d)](_0x159516);}['removeObjectStore'](_0x5276ae){const _0x392da3=_0x1af94f;if(!this['objectStores']['has'](_0x5276ae))throw new _0x3b3113(_0x56d472[_0x392da3(0x9ca)],_0x392da3(0x1e1));const _0x703f04=this[_0x392da3(0x91b)][_0x392da3(0x70a)](_0x5276ae);this[_0x392da3(0x91b)][_0x392da3(0x8e1)](_0x5276ae),_0x703f04['destroy'](),this['configs'][_0x392da3(0x9ba)][_0x392da3(0x33d)](_0x703f04);}[_0x1af94f(0x91a)](_0x1cf6f2){const _0x2370a6=_0x1af94f;if(!this['externalStorageConnections'][_0x2370a6(0x907)](_0x1cf6f2))throw new _0x3b3113(_0x56d472[_0x2370a6(0x4c4)],_0x2370a6(0x98b));const _0x17b75d=this[_0x2370a6(0x497)]['get'](_0x1cf6f2);this['externalStorageConnections'][_0x2370a6(0x8e1)](_0x1cf6f2),_0x17b75d[_0x2370a6(0x541)](),this[_0x2370a6(0x45b)][_0x2370a6(0x9ba)][_0x2370a6(0x33d)](_0x17b75d);}['removePubSubTopic'](_0x56da52){const _0x5cab3b=_0x1af94f;if(!this[_0x5cab3b(0x330)][_0x5cab3b(0x907)](_0x56da52))throw new _0x3b3113(_0x56d472[_0x5cab3b(0x9fa)],'Stream\x20does\x20not\x20exist');const _0x400485=this[_0x5cab3b(0x330)][_0x5cab3b(0x70a)](_0x56da52);this[_0x5cab3b(0x330)][_0x5cab3b(0x8e1)](_0x56da52),_0x400485[_0x5cab3b(0x541)](),this[_0x5cab3b(0x45b)][_0x5cab3b(0x9ba)]['unregisterSystemSource'](_0x400485);}[_0x1af94f(0x9e3)](_0x26911f){const _0x31218b=_0x1af94f;if(!this['keyValueDatabases'][_0x31218b(0x907)](_0x26911f))throw new _0x3b3113(_0x56d472[_0x31218b(0x139)],_0x31218b(0x85a));const _0x177969=this[_0x31218b(0x3ba)]['get'](_0x26911f);this['keyValueDatabases']['delete'](_0x26911f),_0x177969[_0x31218b(0x541)](),this['configs'][_0x31218b(0x9ba)][_0x31218b(0x33d)](_0x177969);}[_0x1af94f(0x3d3)](_0x1388aa){const _0x56f32c=_0x1af94f;if(!this[_0x56f32c(0x6e6)]['has'](_0x1388aa))throw new _0x3b3113(_0x56d472[_0x56f32c(0x744)],_0x56f32c(0x85a));const _0x365474=this[_0x56f32c(0x6e6)]['get'](_0x1388aa);this[_0x56f32c(0x6e6)][_0x56f32c(0x8e1)](_0x1388aa),_0x365474[_0x56f32c(0x541)](),this[_0x56f32c(0x45b)]['mediator'][_0x56f32c(0x33d)](_0x365474);}[_0x1af94f(0x3f3)](_0x4d5b38){const _0x7ae9ac=_0x1af94f;if(!this[_0x7ae9ac(0x3ab)][_0x7ae9ac(0x907)](_0x4d5b38))throw new _0x3b3113(_0x56d472['GraphDatabaseDoesNotExist'],_0x7ae9ac(0x85a));const _0x563c67=this[_0x7ae9ac(0x3ab)][_0x7ae9ac(0x70a)](_0x4d5b38);this['graphDatabases'][_0x7ae9ac(0x8e1)](_0x4d5b38),_0x563c67[_0x7ae9ac(0x541)](),this['configs'][_0x7ae9ac(0x9ba)][_0x7ae9ac(0x33d)](_0x563c67);}['removeLocalMediaStream'](_0x15dcc2){const _0x1bd663=_0x1af94f;if(!this[_0x1bd663(0x874)][_0x1bd663(0x907)](_0x15dcc2))throw new _0x3c8547(_0x3c8547[_0x1bd663(0x700)][_0x1bd663(0x9af)],{'label':_0x15dcc2,'localId':this[_0x1bd663(0x45b)]['localNode'][_0x1bd663(0x8f3)]()});const _0x3bc426=this[_0x1bd663(0x874)][_0x1bd663(0x70a)](_0x15dcc2);this[_0x1bd663(0x45b)][_0x1bd663(0x9ba)][_0x1bd663(0x33d)](_0x3bc426),_0x3bc426['destroy'](),this[_0x1bd663(0x874)][_0x1bd663(0x8e1)](_0x15dcc2);}[_0x1af94f(0x481)](_0x39f881,_0x411e3f){const _0x5558bf=_0x1af94f;if(!this['remoteMediaStreams'][_0x5558bf(0x907)](_0x39f881))throw new _0x3c8547(_0x3c8547[_0x5558bf(0x700)][_0x5558bf(0x819)],{'nodeId':_0x39f881,'localId':this[_0x5558bf(0x45b)][_0x5558bf(0x658)][_0x5558bf(0x8f3)]()});const _0xb4b296=this[_0x5558bf(0x31f)][_0x5558bf(0x70a)](_0x39f881);if(!_0xb4b296['has'](_0x411e3f))throw new _0x3c8547(_0x3c8547[_0x5558bf(0x700)]['RemoteMediaStreamDoesNotExist'],{'nodeId':_0x39f881,'label':_0x411e3f,'localId':this[_0x5558bf(0x45b)][_0x5558bf(0x658)][_0x5558bf(0x8f3)]()});const _0x463be8=_0xb4b296['get'](_0x411e3f);this[_0x5558bf(0x45b)]['mediator'][_0x5558bf(0x33d)](_0x463be8),_0x463be8[_0x5558bf(0x541)](),_0xb4b296[_0x5558bf(0x8e1)](_0x411e3f);}}var _0xb2cd6a,_0x4dc890,_0x456a44;!function(_0x2a43e9){const _0x2482b9=_0x1af94f;_0x2a43e9[_0x2482b9(0x820)]=_0x2482b9(0x74b),_0x2a43e9[_0x2482b9(0x7ac)]='dt_volatility',_0x2a43e9[_0x2482b9(0x7d2)]=_0x2482b9(0x82c),_0x2a43e9['Bitrate']=_0x2482b9(0x634),_0x2a43e9[_0x2482b9(0x7c3)]='jitter',_0x2a43e9[_0x2482b9(0x539)]=_0x2482b9(0x2b9),_0x2a43e9[_0x2482b9(0x267)]=_0x2482b9(0x573),_0x2a43e9[_0x2482b9(0x6fa)]=_0x2482b9(0x8b1);}(_0xb2cd6a||(_0xb2cd6a={})),function(_0x335587){const _0x4fd1f0=_0x1af94f;_0x335587['CPUCycle']=_0x4fd1f0(0x921),_0x335587[_0x4fd1f0(0x7d2)]='cpu.time_per_frame',_0x335587['AudioVideoDelay']=_0x4fd1f0(0x837),_0x335587[_0x4fd1f0(0x539)]=_0x4fd1f0(0x353),_0x335587[_0x4fd1f0(0x8aa)]=_0x4fd1f0(0x2f0),_0x335587[_0x4fd1f0(0x7c3)]=_0x4fd1f0(0x61c),_0x335587[_0x4fd1f0(0x267)]=_0x4fd1f0(0x80e);}(_0x4dc890||(_0x4dc890={})),function(_0x157956){const _0x444f59=_0x1af94f;_0x157956[_0x157956[_0x444f59(0x27a)]=0x0]=_0x444f59(0x27a);}(_0x456a44||(_0x456a44={}));const _0x11abd5=[{'type':_0xb2cd6a[_0x1af94f(0x820)],'reportMetric':_0x6baff9=>_0x6baff9['STVolatility'],'maxThreshold':2.5},{'type':_0xb2cd6a[_0x1af94f(0x7ac)],'reportMetric':_0x3d57c0=>_0x3d57c0[_0x1af94f(0x7ac)],'maxThreshold':0.5}],_0x48e84e=[{'type':_0xb2cd6a[_0x1af94f(0x7d2)],'reportMetric':_0x48c654=>{const _0x53c634=_0x1af94f,_0x2ce1da=0x3e8/_0x48c654[_0x53c634(0x2c4)];return _0x48c654[_0x53c634(0x293)]/_0x2ce1da;},'maxThreshold':0.75},{'type':_0xb2cd6a[_0x1af94f(0x8aa)],'reportMetric':_0x38ab6f=>{const _0x16adf5=_0x1af94f,_0x26c112=_0x38ab6f['FPS']*_0x38ab6f[_0x16adf5(0x664)]*_0x38ab6f[_0x16adf5(0x74c)]*0.12;return _0x38ab6f['bitrate']/_0x26c112;},'minThreshold':0.25},{'type':_0xb2cd6a[_0x1af94f(0x7c3)],'reportMetric':_0x3743d8=>_0x3743d8[_0x1af94f(0x276)],'maxThreshold':0.6},{'type':_0xb2cd6a[_0x1af94f(0x539)],'reportMetric':_0x5b5b91=>_0x5b5b91['FPS'],'minThreshold':0xa}],_0xd4277b=[{'type':_0xb2cd6a[_0x1af94f(0x7c3)],'reportMetric':_0x34094b=>_0x34094b[_0x1af94f(0x276)],'maxThreshold':0.6}],_0x4e7455=[{'type':_0xb2cd6a[_0x1af94f(0x267)],'reportMetric':_0x4dc0c3=>_0x4dc0c3[_0x1af94f(0x9ea)],'maxThreshold':0x1/0x0}],_0x20afaf=[{'type':_0xb2cd6a['AudioVideoDelay'],'reportMetric':_0x2cb30b=>_0x2cb30b[_0x1af94f(0x6fa)],'maxThreshold':0x12c}],_0x110986=[{'type':_0x4dc890['CPUCycle'],'issues':[{'type':_0xb2cd6a[_0x1af94f(0x820)],'threshold':0x5},{'type':_0xb2cd6a[_0x1af94f(0x7ac)],'threshold':0x5}]},{'type':_0x4dc890['TimePerFrame'],'issues':[{'type':_0xb2cd6a[_0x1af94f(0x7d2)],'threshold':0x3}]},{'type':_0x4dc890[_0x1af94f(0x6fa)],'issues':[{'type':_0xb2cd6a[_0x1af94f(0x6fa)],'threshold':0x2}]},{'type':_0x4dc890[_0x1af94f(0x539)],'issues':[{'type':_0xb2cd6a['FramePerSecond'],'threshold':0x3}]},{'type':_0x4dc890[_0x1af94f(0x8aa)],'issues':[{'type':_0xb2cd6a[_0x1af94f(0x8aa)],'threshold':0x3}]},{'type':_0x4dc890['Jitter'],'issues':[{'type':_0xb2cd6a[_0x1af94f(0x7c3)],'threshold':0x3}]},{'type':_0x4dc890[_0x1af94f(0x267)],'issues':[{'type':_0xb2cd6a[_0x1af94f(0x267)],'threshold':0x3}]}];var _0x459da5,_0x41bc3f;!function(_0x5db204){const _0x2eeb4d=_0x1af94f;_0x5db204[_0x5db204[_0x2eeb4d(0x79b)]=0x0]='StreamReport',_0x5db204[_0x5db204['LocalReport']=0x1]=_0x2eeb4d(0x6ae);}(_0x459da5||(_0x459da5={}));class _0x559ceb{[_0x1af94f(0x45b)];[_0x1af94f(0x856)]=[];['systemTopic'];constructor(_0x1403b4){const _0x26b341=_0x1af94f;this['configs']=_0x1403b4,this[_0x26b341(0x45b)]['mediator'][_0x26b341(0x7cc)](this);}['registerSystemPublisher'](_0x172bd2){const _0x127343=_0x1af94f;this[_0x127343(0x316)]=_0x172bd2;}[_0x1af94f(0x466)](){this['systemTopic']=void 0x0;}['close'](){const _0x5df2dc=_0x1af94f;this['configs'][_0x5df2dc(0x9ba)][_0x5df2dc(0x33d)](this),this[_0x5df2dc(0x856)]=[];}[_0x1af94f(0x37f)](_0x2095e2){const _0x2ccd62=_0x1af94f;switch(_0x2095e2[_0x2ccd62(0x3fe)][_0x2ccd62(0x44f)]){case _0x459da5[_0x2ccd62(0x6ae)]:this[_0x2ccd62(0x6a3)](_0x2095e2['content'][_0x2ccd62(0x87a)]);break;case _0x459da5[_0x2ccd62(0x79b)]:this[_0x2ccd62(0x6bf)](_0x2095e2[_0x2ccd62(0x3fe)][_0x2ccd62(0x87a)]);}}[_0x1af94f(0x97c)](_0x5e8ac3,_0x3c3686,_0x54a345,_0x4b210c){const _0xfdd317=_0x1af94f,_0xe9776b=_0x110986[_0xfdd317(0x7ef)](_0xf4990d=>_0xf4990d['issues'][_0xfdd317(0xa33)](_0x470bbb=>_0x470bbb[_0xfdd317(0x44f)]===_0x5e8ac3));_0x4b210c>=_0xe9776b[_0xfdd317(0x856)][_0xfdd317(0x7ef)](_0x19c7ec=>_0x19c7ec[_0xfdd317(0x44f)]===_0x5e8ac3)[_0xfdd317(0x8e7)]&&(this[_0xfdd317(0x590)](_0xe9776b[_0xfdd317(0x44f)],_0x3c3686,_0x54a345),this[_0xfdd317(0x856)]=this[_0xfdd317(0x856)][_0xfdd317(0x7e0)](_0x38d2b6=>!(_0x38d2b6[_0xfdd317(0x44f)]===_0x5e8ac3&&_0x38d2b6[_0xfdd317(0x1ec)]===_0x3c3686&&_0x38d2b6['origin']===_0x54a345)));}['detectLocalIssues'](_0x3cad0f){const _0x3d7558=_0x1af94f;_0x11abd5[_0x3d7558(0x333)](_0x4a17ca=>{const _0x3bdcee=_0x3d7558,_0x22ac36=_0x4a17ca[_0x3bdcee(0x4ee)](_0x3cad0f);_0x4a17ca[_0x3bdcee(0x36f)]&&_0x22ac36>_0x4a17ca[_0x3bdcee(0x36f)]&&this['addIssue'](_0x4a17ca[_0x3bdcee(0x44f)],this[_0x3bdcee(0x45b)][_0x3bdcee(0x658)][_0x3bdcee(0x8f3)](),_0x37701b[_0x3bdcee(0x15d)],_0x22ac36),_0x4a17ca[_0x3bdcee(0x834)]&&_0x22ac36<_0x4a17ca[_0x3bdcee(0x834)]&&this[_0x3bdcee(0x7dd)](_0x4a17ca[_0x3bdcee(0x44f)],this[_0x3bdcee(0x45b)][_0x3bdcee(0x658)]['getId'](),_0x37701b[_0x3bdcee(0x15d)],_0x22ac36);});}[_0x1af94f(0x6bf)](_0x4184d2){const _0x4bab52=_0x1af94f;let _0x265c63=[];switch(_0x4184d2[_0x4bab52(0x5ea)]){case _0x37701b[_0x4bab52(0x15d)]:_0x265c63=_0x4e7455;break;case _0x37701b[_0x4bab52(0x8db)]:_0x265c63=_0x20afaf;}_0x4184d2[_0x4bab52(0x228)]&&this[_0x4bab52(0x76a)](_0x4184d2[_0x4bab52(0x1ec)],_0x37701b[_0x4bab52(0x15d)],_0x4184d2[_0x4bab52(0x228)]),_0x4184d2[_0x4bab52(0x809)]&&this['detectAudioIssues'](_0x4184d2[_0x4bab52(0x1ec)],_0x37701b[_0x4bab52(0x15d)],_0x4184d2['audio']),_0x265c63[_0x4bab52(0x333)](_0x2ef123=>{const _0x284b2f=_0x4bab52,_0x2c26e2=_0x2ef123[_0x284b2f(0x4ee)](_0x4184d2);_0x2ef123[_0x284b2f(0x36f)]&&_0x2c26e2>_0x2ef123[_0x284b2f(0x36f)]&&this[_0x284b2f(0x7dd)](_0x2ef123[_0x284b2f(0x44f)],_0x4184d2['nodeId'],_0x37701b[_0x284b2f(0x15d)],_0x2c26e2),_0x2ef123[_0x284b2f(0x834)]&&_0x2c26e2<_0x2ef123['minThreshold']&&this['addIssue'](_0x2ef123[_0x284b2f(0x44f)],_0x4184d2['nodeId'],_0x37701b[_0x284b2f(0x15d)],_0x2c26e2);});}[_0x1af94f(0x76a)](_0xc394b8,_0x5ee559,_0x3d5945){const _0x4734ec=_0x1af94f;0x0!==_0x3d5945['bitrate']&&_0x48e84e[_0x4734ec(0x333)](_0x13b9dc=>{const _0x438b42=_0x4734ec,_0x2eb393=_0x13b9dc['reportMetric'](_0x3d5945);_0x13b9dc[_0x438b42(0x36f)]&&_0x2eb393>_0x13b9dc[_0x438b42(0x36f)]&&this['addIssue'](_0x13b9dc[_0x438b42(0x44f)],_0xc394b8,_0x5ee559,_0x2eb393,_0x438b42(0x228)),_0x13b9dc[_0x438b42(0x834)]&&_0x2eb393<_0x13b9dc[_0x438b42(0x834)]&&this[_0x438b42(0x7dd)](_0x13b9dc[_0x438b42(0x44f)],_0xc394b8,_0x5ee559,_0x2eb393,_0x438b42(0x228));});}[_0x1af94f(0x4cf)](_0x7769ec,_0x49c6a8,_0x3e78d2){const _0x38660b=_0x1af94f;0x0!==_0x3e78d2[_0x38660b(0x634)]&&_0xd4277b[_0x38660b(0x333)](_0x2261a7=>{const _0xe6c492=_0x38660b,_0x2cedae=_0x2261a7[_0xe6c492(0x4ee)](_0x3e78d2);_0x2261a7['maxThreshold']&&_0x2cedae>_0x2261a7['maxThreshold']&&this[_0xe6c492(0x7dd)](_0x2261a7[_0xe6c492(0x44f)],_0x7769ec,_0x49c6a8,_0x2cedae,_0xe6c492(0x809)),_0x2261a7[_0xe6c492(0x834)]&&_0x2cedae<_0x2261a7[_0xe6c492(0x834)]&&this[_0xe6c492(0x7dd)](_0x2261a7[_0xe6c492(0x44f)],_0x7769ec,_0x49c6a8,_0x2cedae,_0xe6c492(0x809));});}[_0x1af94f(0x7dd)](_0x29c3ed,_0x3f46d8,_0xa486d0,_0x4a4034,_0x3902c0){const _0x15fd74=_0x1af94f;_0x5999e0['log'](_0x53526a[_0x15fd74(0x72b)],_0x15fd74(0x3f4)+_0x29c3ed,_0x29c3ed,_0x4a4034),_0x5999e0[_0x15fd74(0x6c3)](_0x15fd74(0x2a2),{'clusterId':this[_0x15fd74(0x45b)][_0x15fd74(0x230)],'nodeId':this['configs'][_0x15fd74(0x658)][_0x15fd74(0x8f3)](),'nodeType':this[_0x15fd74(0x45b)][_0x15fd74(0x658)][_0x15fd74(0x44f)],'remoteId':_0x3f46d8,'data':{'type':_0x29c3ed,'value':_0x4a4034,'kind':_0x3902c0}}),this['issues']=this[_0x15fd74(0x856)][_0x15fd74(0x7e0)](_0x274fda=>Date[_0x15fd74(0x1f3)]()-_0x274fda[_0x15fd74(0x8fa)]<0x7530),this[_0x15fd74(0x856)][_0x15fd74(0x3d6)]({'timestamp':Date[_0x15fd74(0x1f3)](),'type':_0x29c3ed,'nodeId':_0x3f46d8,'origin':_0xa486d0,'value':_0x4a4034,'kind':_0x3902c0});const _0x36ab26=this[_0x15fd74(0x856)]['filter'](_0x3c3735=>_0x3c3735[_0x15fd74(0x44f)]===_0x29c3ed&&_0x3c3735['nodeId']===_0x3f46d8&&_0x3c3735[_0x15fd74(0x5ea)]===_0xa486d0)[_0x15fd74(0x71c)];this[_0x15fd74(0x97c)](_0x29c3ed,_0x3f46d8,_0xa486d0,_0x36ab26);}[_0x1af94f(0x590)](_0x6d1775,_0x48dd9e,_0xdf9f4f){const _0x156443=_0x1af94f;_0x5999e0[_0x156443(0x15c)](_0x53526a[_0x156443(0x72b)],_0x156443(0x40a)+_0x6d1775),_0x5999e0[_0x156443(0x6c3)](_0x156443(0x2bd),{'clusterId':this['configs'][_0x156443(0x230)],'nodeId':this[_0x156443(0x45b)][_0x156443(0x658)][_0x156443(0x8f3)](),'nodeType':this[_0x156443(0x45b)]['localNode'][_0x156443(0x44f)],'remoteId':_0x48dd9e,'data':{'type':_0x6d1775}}),this[_0x156443(0x316)]?.[_0x156443(0x3ec)]({'sourceId':_0x50bf9f,'messageType':_0x502914[_0x156443(0x72b)],'content':{'type':_0x456a44['Problem'],'data':{'timestamp':Date[_0x156443(0x1f3)](),'nodeId':_0x48dd9e,'origin':_0x37701b[_0x156443(0x15d)],'type':_0x6d1775}}});}}class _0x4732f6 extends _0x1bfad9{[_0x1af94f(0x44f)]=_0xb0907f['NodeType']['Agent'];}class _0x13f743 extends _0x4732f6{[_0x1af94f(0x316)];[_0x1af94f(0x447)]=Date[_0x1af94f(0x1f3)]();[_0x1af94f(0x5bd)];[_0x1af94f(0x4d9)];[_0x1af94f(0x92f)](){const _0x4fbf0b=_0x1af94f;this[_0x4fbf0b(0x5bd)]&&(clearTimeout(this['updateDebounceTimeout']),delete this[_0x4fbf0b(0x5bd)]),delete this['lastUpdated'],this[_0x4fbf0b(0x447)]=Date[_0x4fbf0b(0x1f3)](),super['close']();}['registerSystemPublisher'](_0x29c50e){const _0x2b2895=_0x1af94f;this[_0x2b2895(0x316)]=_0x29c50e;}[_0x1af94f(0x466)](){const _0x4ea80d=_0x1af94f;delete this[_0x4ea80d(0x316)];}['answerJoin'](_0x3c6c12){const _0x13ba15=_0x1af94f;!this[_0x13ba15(0x5bd)]&&this[_0x13ba15(0x78a)]&&this[_0x13ba15(0x316)][_0x13ba15(0x3ec)]({'sourceId':this['id'],'destinationIds':[_0x3c6c12],'propagate':!0x0,'messageType':_0x502914[_0x13ba15(0x666)],'content':{'type':_0x4f0fdf['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0x13ba15(0x44f)]},'rank':this[_0x13ba15(0x2d8)](),'remoteConnections':Array[_0x13ba15(0x13b)](this[_0x13ba15(0x8ed)]),'version':this[_0x13ba15(0x447)]}});}[_0x1af94f(0x862)](_0x73360c){const _0x31f930=_0x1af94f;this['remoteConnections']['has'](_0x73360c)||(this[_0x31f930(0x8ed)]['add'](_0x73360c),this[_0x31f930(0x7df)](),this[_0x31f930(0xa1a)](!0x0));}[_0x1af94f(0x120)](_0x450ca0){const _0x5307b6=_0x1af94f;this[_0x5307b6(0x8ed)]['has'](_0x450ca0)&&(this['remoteConnections'][_0x5307b6(0x8e1)](_0x450ca0),this[_0x5307b6(0x7df)](),this['publishUserUpdate'](!0x0));}['getCurrentVersion'](){const _0x3f0312=_0x1af94f;return this[_0x3f0312(0x447)];}[_0x1af94f(0x534)](_0x4deffe,_0x5e3842=!0x0){const _0x7fab1f=_0x1af94f;this['rank']!==_0x4deffe&&(this['rank']=_0x4deffe,_0x5e3842&&(this[_0x7fab1f(0x7df)](),this[_0x7fab1f(0xa1a)]()));}[_0x1af94f(0x7df)](){const _0x169827=_0x1af94f;this[_0x169827(0x447)]=Date[_0x169827(0x1f3)]();}[_0x1af94f(0xa1a)](_0x104309=!0x1){const _0x1daa26=_0x1af94f;if(this['rank']){if(this[_0x1daa26(0x4d9)]||(this[_0x1daa26(0x4d9)]=Date[_0x1daa26(0x1f3)]()),this[_0x1daa26(0x5bd)]){if(Date['now']()-this[_0x1daa26(0x4d9)]>0x2328)return;clearTimeout(this[_0x1daa26(0x5bd)]);}this[_0x1daa26(0x5bd)]=setTimeout(()=>{const _0x48a765=_0x1daa26;delete this[_0x48a765(0x4d9)],delete this[_0x48a765(0x5bd)],this[_0x48a765(0x316)]['publish']({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x502914[_0x48a765(0x666)],'content':{'type':_0x104309?_0x4f0fdf[_0x48a765(0x8e8)]:_0x4f0fdf[_0x48a765(0x546)],'id':this['id'],'metaData':{'type':this[_0x48a765(0x44f)]},'rank':this[_0x48a765(0x2d8)](),'remoteConnections':Array['from'](this['remoteConnections']),'version':this['currentVersion']}});},0x3e8);}}}class _0x1c1517 extends _0xb03815{[_0x1af94f(0x316)];[_0x1af94f(0x447)]=Date[_0x1af94f(0x1f3)]();[_0x1af94f(0x5bd)];[_0x1af94f(0x4d9)];['close'](){const _0x16b260=_0x1af94f;this[_0x16b260(0x5bd)]&&(clearTimeout(this['updateDebounceTimeout']),delete this[_0x16b260(0x5bd)]),delete this[_0x16b260(0x4d9)],this[_0x16b260(0x447)]=Date['now'](),super[_0x16b260(0x92f)]();}[_0x1af94f(0x412)](_0x58fb62){const _0x1e0dd1=_0x1af94f;this[_0x1e0dd1(0x316)]=_0x58fb62;}[_0x1af94f(0x466)](){delete this['systemTopic'];}[_0x1af94f(0x42b)](_0x598f24){const _0x5adb0f=_0x1af94f;!this[_0x5adb0f(0x5bd)]&&this[_0x5adb0f(0x78a)]&&this['systemTopic'][_0x5adb0f(0x3ec)]({'sourceId':this['id'],'destinationIds':[_0x598f24],'propagate':!0x0,'messageType':_0x502914[_0x5adb0f(0x666)],'content':{'type':_0x4f0fdf[_0x5adb0f(0x546)],'id':this['id'],'metaData':{'type':this['type'],'displayName':this[_0x5adb0f(0x87c)](),'email':this[_0x5adb0f(0x693)]()},'rank':this[_0x5adb0f(0x2d8)](),'remoteConnections':Array['from'](this[_0x5adb0f(0x8ed)]),'version':this[_0x5adb0f(0x447)]}});}[_0x1af94f(0x862)](_0x236682){const _0x283203=_0x1af94f;this[_0x283203(0x8ed)][_0x283203(0x907)](_0x236682)||(this[_0x283203(0x8ed)][_0x283203(0x23a)](_0x236682),this[_0x283203(0x7df)](),this[_0x283203(0xa1a)](!0x0));}[_0x1af94f(0x120)](_0x4df6d8){const _0x1cf777=_0x1af94f;this[_0x1cf777(0x8ed)][_0x1cf777(0x907)](_0x4df6d8)&&(this[_0x1cf777(0x8ed)][_0x1cf777(0x8e1)](_0x4df6d8),this[_0x1cf777(0x7df)](),this[_0x1cf777(0xa1a)](!0x0));}[_0x1af94f(0x15f)](){const _0x786971=_0x1af94f;return this[_0x786971(0x447)];}[_0x1af94f(0xa0c)](_0x598a9e){const _0x5970e8=_0x1af94f;this[_0x5970e8(0x890)]!==_0x598a9e&&(this[_0x5970e8(0x890)]=_0x598a9e,this[_0x5970e8(0x7df)](),this[_0x5970e8(0xa1a)]());}[_0x1af94f(0x1b2)](_0x53d836){const _0x32dead=_0x1af94f;this[_0x32dead(0xa51)]!==_0x53d836&&(this[_0x32dead(0xa51)]=_0x53d836,this[_0x32dead(0x7df)](),this[_0x32dead(0xa1a)]());}[_0x1af94f(0x534)](_0x25b676,_0x493a00=!0x0){const _0xc710b1=_0x1af94f;this[_0xc710b1(0x78a)]!==_0x25b676&&(this[_0xc710b1(0x78a)]=_0x25b676,_0x493a00&&(this[_0xc710b1(0x7df)](),this['publishUserUpdate']()));}['incrementVersion'](){const _0x336dc0=_0x1af94f;this[_0x336dc0(0x447)]=Date['now']();}['publishUserUpdate'](_0x4b1b60=!0x1){const _0x5a4110=_0x1af94f;if(this[_0x5a4110(0x78a)]){if(this[_0x5a4110(0x4d9)]||(this[_0x5a4110(0x4d9)]=Date[_0x5a4110(0x1f3)]()),this['updateDebounceTimeout']){if(Date[_0x5a4110(0x1f3)]()-this[_0x5a4110(0x4d9)]>0x2328)return;clearTimeout(this[_0x5a4110(0x5bd)]);}this[_0x5a4110(0x5bd)]=setTimeout(()=>{const _0x3e673e=_0x5a4110;delete this[_0x3e673e(0x4d9)],delete this[_0x3e673e(0x5bd)],this[_0x3e673e(0x316)]['publish']({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x502914['Node'],'content':{'type':_0x4b1b60?_0x4f0fdf[_0x3e673e(0x8e8)]:_0x4f0fdf[_0x3e673e(0x546)],'id':this['id'],'metaData':{'type':this[_0x3e673e(0x44f)],'displayName':this[_0x3e673e(0x87c)](),'email':this[_0x3e673e(0x693)]()},'rank':this[_0x3e673e(0x2d8)](),'remoteConnections':Array[_0x3e673e(0x13b)](this[_0x3e673e(0x8ed)]),'version':this['currentVersion']}});},0x3e8);}}}class _0x35c6ab{['id'];['groupId'];[_0x1af94f(0x90c)];[_0x1af94f(0x900)];[_0x1af94f(0x44f)]=_0xb0907f[_0x1af94f(0x116)][_0x1af94f(0x58e)];[_0x1af94f(0x152)];constructor(_0x117a0a,_0x2adab8,_0x5cc925,_0x1e8973){const _0x1ccd95=_0x1af94f;this['id']=_0x117a0a,this[_0x1ccd95(0x823)]=_0x2adab8,this['vendorId']=_0x5cc925,this[_0x1ccd95(0x900)]=_0x1e8973;}[_0x1af94f(0x8f3)](){return this['id'];}[_0x1af94f(0xa4d)](_0x293530){const _0x577404=_0x1af94f,_0x29c228=(0x0,_0x36eea4[_0x577404(0x692)])((0x0,_0x36eea4['doc'])(_0xa01105[_0x577404(0x1ca)](),_0x577404(0x39a)+this['vendorId']+'/resources/agent/items/'+this[_0x577404(0x823)]),_0x58c1f0=>{const _0x2b6020=_0x577404;if(_0x58c1f0[_0x2b6020(0x20e)]()){const _0x4467d1=_0x58c1f0[_0x2b6020(0x87a)]();if(this[_0x2b6020(0x900)]['timestamp'][_0x2b6020(0x806)](_0x4467d1['timestamp']))return;_0x5999e0[_0x2b6020(0x15c)](_0x53526a['Node'],'agent-config-changed',{'agentId':this['id'],'groupId':this['groupId'],'oldConfig':this[_0x2b6020(0x900)],'newConfig':_0x4467d1}),this[_0x2b6020(0x900)]=_0x4467d1,_0x293530();}});return()=>_0x29c228();}[_0x1af94f(0x910)](_0x1d4117){const _0x101e62=_0x1af94f;return this[_0x101e62(0x37a)](this[_0x101e62(0x823)],_0x1d4117),_0xdf6e0c[_0x101e62(0x1ea)](()=>this[_0x101e62(0x37a)](this['groupId'],_0x1d4117),0x7530);}[_0x1af94f(0x531)](){const _0x1476b9=_0x1af94f;if(!this[_0x1476b9(0x152)])throw new _0x3c8547(_0x3c8547[_0x1476b9(0x700)][_0x1476b9(0x72c)]);return this['lastCapacityReport'];}async[_0x1af94f(0x37a)](_0x3e1965,_0x22bc20){const _0x3326f5=_0x1af94f,_0x4b4fa3=await _0x22bc20();this[_0x3326f5(0x152)]=_0x4b4fa3,await(0x0,_0x36eea4[_0x3326f5(0x1e4)])((0x0,_0x36eea4[_0x3326f5(0x4e5)])(_0xa01105[_0x3326f5(0x1ca)](),_0x3326f5(0x39a)+this[_0x3326f5(0x90c)]+_0x3326f5(0x3e9)),{'agentId':this['id'],'groupId':_0x3e1965,'timestamp':(0x0,_0x36eea4[_0x3326f5(0x360)])(),'capacity':_0x4b4fa3});}}!function(_0x4bc2c1){const _0x27520c=_0x1af94f;_0x4bc2c1[_0x4bc2c1[_0x27520c(0x6e7)]=0x0]='Online',_0x4bc2c1[_0x4bc2c1[_0x27520c(0x25a)]=0x1]=_0x27520c(0x25a);}(_0x41bc3f||(_0x41bc3f={}));class _0x3ae7b4 extends _0x4732f6{[_0x1af94f(0x447)];[_0x1af94f(0x8bb)]=_0x41bc3f[_0x1af94f(0x6e7)];['lastUpdated']=Date['now']();constructor(_0x589712,_0x129d1f=new Set(),_0x5104ff,_0x2ffd62){const _0x39733e=_0x1af94f;super(_0x589712,_0x129d1f,_0x2ffd62),this[_0x39733e(0x447)]=_0x5104ff;}[_0x1af94f(0x15f)](){const _0x3cc3a0=_0x1af94f;return this[_0x3cc3a0(0x447)];}[_0x1af94f(0x1fc)](){const _0x1c550d=_0x1af94f;return this[_0x1c550d(0x8bb)];}[_0x1af94f(0x9a7)](){const _0x260d86=_0x1af94f;return this[_0x260d86(0x4d9)];}[_0x1af94f(0x534)](_0x57fa02){const _0x3d6ac1=_0x1af94f;this[_0x3d6ac1(0x78a)]!==_0x57fa02&&(this['rank']=_0x57fa02,this[_0x3d6ac1(0x6c6)]());}[_0x1af94f(0x5e8)](_0x468452){const _0x4a9290=_0x1af94f;let _0x5754f6=!0x1;for(const _0xad0ad6 of this[_0x4a9290(0x8ed)])_0x468452['includes'](_0xad0ad6)||(_0x5754f6=!0x0,this[_0x4a9290(0x8ed)]['delete'](_0xad0ad6));for(const _0x244832 of _0x468452)this['remoteConnections'][_0x4a9290(0x907)](_0x244832)||(_0x5754f6=!0x0,this[_0x4a9290(0x8ed)][_0x4a9290(0x23a)](_0x244832));_0x5754f6&&this[_0x4a9290(0x6c6)]();}[_0x1af94f(0x92a)](_0x8d7f7b){const _0x3efa00=_0x1af94f;this['currentVersion']!==_0x8d7f7b&&(this[_0x3efa00(0x447)]=_0x8d7f7b,this[_0x3efa00(0x6c6)]());}[_0x1af94f(0x180)](_0x5bff75){const _0x40bd7a=_0x1af94f;this['status']!==_0x5bff75&&(this[_0x40bd7a(0x8bb)]=_0x5bff75,this['updateLastUpdated'](),_0x5bff75===_0x41bc3f[_0x40bd7a(0x25a)]&&this['close']());}[_0x1af94f(0x6c6)](){const _0x1422b5=_0x1af94f;this[_0x1422b5(0x4d9)]=Date['now']();}}class _0x562dde extends _0xb03815{[_0x1af94f(0x447)];[_0x1af94f(0x8bb)]=_0x41bc3f[_0x1af94f(0x6e7)];['lastUpdated']=Date[_0x1af94f(0x1f3)]();constructor(_0x2ddf6e,_0x35afd8,_0x4f65d2,_0x4b9aab=new Set(),_0x34342f,_0x27421f){super(_0x2ddf6e,_0x35afd8,_0x4f65d2,_0x4b9aab,_0x27421f),this['currentVersion']=_0x34342f;}[_0x1af94f(0x15f)](){const _0x20bca3=_0x1af94f;return this[_0x20bca3(0x447)];}[_0x1af94f(0x1fc)](){const _0x3b8eed=_0x1af94f;return this[_0x3b8eed(0x8bb)];}[_0x1af94f(0x9a7)](){const _0x53a01c=_0x1af94f;return this[_0x53a01c(0x4d9)];}[_0x1af94f(0xa0c)](_0x5e5aa4){const _0x4f60d2=_0x1af94f;this[_0x4f60d2(0x890)]!==_0x5e5aa4&&(this[_0x4f60d2(0x890)]=_0x5e5aa4,this[_0x4f60d2(0x6c6)]());}[_0x1af94f(0x1b2)](_0x419605){const _0x206031=_0x1af94f;this[_0x206031(0xa51)]!==_0x419605&&(this[_0x206031(0xa51)]=_0x419605,this['updateLastUpdated']());}[_0x1af94f(0x534)](_0x1deada){const _0x20e309=_0x1af94f;this[_0x20e309(0x78a)]!==_0x1deada&&(this[_0x20e309(0x78a)]=_0x1deada,this['updateLastUpdated']());}[_0x1af94f(0x5e8)](_0x26b500){const _0x3adb2e=_0x1af94f;let _0x4e0765=!0x1;for(const _0x21441f of this['remoteConnections'])_0x26b500[_0x3adb2e(0x1ed)](_0x21441f)||(_0x4e0765=!0x0,this[_0x3adb2e(0x8ed)][_0x3adb2e(0x8e1)](_0x21441f));for(const _0x821c4e of _0x26b500)this['remoteConnections'][_0x3adb2e(0x907)](_0x821c4e)||(_0x4e0765=!0x0,this[_0x3adb2e(0x8ed)]['add'](_0x821c4e));_0x4e0765&&this[_0x3adb2e(0x6c6)]();}[_0x1af94f(0x92a)](_0x172cce){const _0x2ef4b7=_0x1af94f;this[_0x2ef4b7(0x447)]!==_0x172cce&&(this[_0x2ef4b7(0x447)]=_0x172cce,this[_0x2ef4b7(0x6c6)]());}[_0x1af94f(0x180)](_0x140550){const _0x1a6dde=_0x1af94f;this[_0x1a6dde(0x8bb)]!==_0x140550&&(this['status']=_0x140550,this['updateLastUpdated'](),_0x140550===_0x41bc3f['Offline']&&this['close']());}['updateLastUpdated'](){const _0x528143=_0x1af94f;this['lastUpdated']=Date[_0x528143(0x1f3)]();}}class _0x99adb8{[_0x1af94f(0x90c)];[_0x1af94f(0x230)];['localNode'];[_0x1af94f(0x9db)];[_0x1af94f(0x201)]=_0x34d40a();[_0x1af94f(0x6f5)];['childRemovedUnsubscriber'];[_0x1af94f(0x8e5)];[_0x1af94f(0x640)]=!0x1;['clusterKey'];[_0x1af94f(0x188)];constructor(_0xaf24b4,_0x344aab,_0x30dc80,_0x1e3e03){const _0x2e1b31=_0x1af94f;this['vendorId']=_0xaf24b4,this[_0x2e1b31(0x230)]=_0x344aab,this[_0x2e1b31(0x658)]=_0x30dc80,this[_0x2e1b31(0x9db)]=_0x1e3e03,this[_0x2e1b31(0x761)]=_0x2e1b31(0xa2f)+this[_0x2e1b31(0x90c)]+_0x2e1b31(0xa2f)+this['clusterId'],this[_0x2e1b31(0x188)]=_0x2e1b31(0xa2f)+this[_0x2e1b31(0x90c)]+'ccc'+this[_0x2e1b31(0x658)][_0x2e1b31(0x8f3)](),this[_0x2e1b31(0x6f5)]=(0x0,_0x13f063[_0x2e1b31(0x427)])((0x0,_0x13f063[_0x2e1b31(0xe7)])(_0xa01105[_0x2e1b31(0x37c)](),_0x2e1b31(0x82a)),_0xb854aa=>{const _0x2c59f0=_0x2e1b31;!0x0!==_0xb854aa[_0x2c59f0(0x651)]()?this['connected']&&_0x5999e0['error'](_0x2c59f0(0x249),{'clusterId':this['clusterId'],'nodeId':this['localNode'][_0x2c59f0(0x8f3)](),'nodeType':this[_0x2c59f0(0x658)][_0x2c59f0(0x44f)]}):(this[_0x2c59f0(0x640)]=!0x0,this[_0x2c59f0(0x60a)](),_0x5999e0[_0x2c59f0(0x949)](_0x2c59f0(0x779),{'clusterId':this[_0x2c59f0(0x230)],'nodeId':this[_0x2c59f0(0x658)][_0x2c59f0(0x8f3)](),'nodeType':this[_0x2c59f0(0x658)][_0x2c59f0(0x44f)]}));});}async[_0x1af94f(0x7f4)](){const _0x28551d=_0x1af94f;await this['joinCluster']();const _0x1eaf3a=await this['getAncestors']();return this[_0x28551d(0x2d6)]=(0x0,_0x13f063[_0x28551d(0x876)])((0x0,_0x13f063[_0x28551d(0xe7)])(_0xa01105[_0x28551d(0x37c)](),_0x28551d(0x8ad)+this[_0x28551d(0x761)]+_0x28551d(0x953)),_0x5357a1=>{const _0x22f2ad=_0x28551d,_0x455bc7=_0x5357a1[_0x22f2ad(0x3c0)];if(!_0x455bc7)return;const _0x1b270b=_0x455bc7[_0x22f2ad(0x78e)](_0x22f2ad(0xa2f)+this[_0x22f2ad(0x90c)]+'ccc','');this['disconnectCallback']['publish'](_0x1b270b);}),_0x1eaf3a;}async[_0x1af94f(0x92f)](){const _0x1d148c=_0x1af94f;this[_0x1d148c(0x2d6)]?.(),delete this[_0x1d148c(0x2d6)],this[_0x1d148c(0x8e5)]?.['cancel'](),delete this['onDisconnectHandler'],this[_0x1d148c(0x6f5)]?.(),delete this[_0x1d148c(0x6f5)],await(0x0,_0x13f063['remove'])((0x0,_0x13f063[_0x1d148c(0xe7)])(_0xa01105[_0x1d148c(0x37c)](),_0x1d148c(0x8ad)+this[_0x1d148c(0x761)]+'/nodes/'+this['nodeKey']));}[_0x1af94f(0x615)](_0x1c10ec){const _0x32a3be=_0x1af94f;return this[_0x32a3be(0x201)][_0x32a3be(0x9f2)](_0x1c10ec);}async[_0x1af94f(0x5f7)](){const _0x2f0183=_0x1af94f,_0x49a961=[],_0x22ef5d=await(0x0,_0x13f063[_0x2f0183(0x70a)])((0x0,_0x13f063[_0x2f0183(0xe7)])(_0xa01105['getDatabase'](),_0x2f0183(0x8ad)+this['clusterKey']+_0x2f0183(0x953))),_0x5cedf3=[];return _0x22ef5d[_0x2f0183(0x333)](_0x37d7cf=>{const _0x456e39=_0x2f0183,_0x2842a6=_0x37d7cf[_0x456e39(0x3c0)]?.[_0x456e39(0x78e)]('ccc'+this[_0x456e39(0x90c)]+'ccc','');_0x5cedf3['push']({'id':_0x2842a6,'joinedAt':_0x37d7cf['val']()[_0x456e39(0x3f0)],'priority':_0x37d7cf[_0x456e39(0x651)]()[_0x456e39(0x66a)]});}),_0x5cedf3[_0x2f0183(0x1b1)]((_0x249311,_0x196d04)=>_0x249311[_0x2f0183(0x3f0)]===_0x196d04[_0x2f0183(0x3f0)]?_0x249311[_0x2f0183(0x66a)]-_0x196d04[_0x2f0183(0x66a)]:_0x249311[_0x2f0183(0x3f0)]-_0x196d04['joinedAt'])[_0x2f0183(0x6b3)](_0x5cedf3['findIndex'](_0x500dec=>_0x500dec['id']===this['localNode'][_0x2f0183(0x8f3)]())),_0x5cedf3[_0x2f0183(0x1b1)]((_0x225df9,_0x4232ae)=>_0x4232ae[_0x2f0183(0x3f0)]===_0x225df9[_0x2f0183(0x3f0)]?_0x4232ae[_0x2f0183(0x66a)]-_0x225df9[_0x2f0183(0x66a)]:_0x4232ae[_0x2f0183(0x3f0)]-_0x225df9['joinedAt'])[_0x2f0183(0x333)](_0x5b4c9c=>{const _0x3bbd77=_0x2f0183;_0x49a961[_0x3bbd77(0x71c)]>=this[_0x3bbd77(0x9db)]||_0x49a961['push'](_0x5b4c9c['id']);}),_0x5999e0['logEvent'](_0x2f0183(0x2ad),{'clusterId':this[_0x2f0183(0x230)],'nodeId':this[_0x2f0183(0x658)][_0x2f0183(0x8f3)](),'nodeType':this[_0x2f0183(0x658)][_0x2f0183(0x44f)],'data':{'ancestorIds':_0x49a961,'allNodes':_0x5cedf3}}),_0x49a961;}async[_0x1af94f(0x52f)](){const _0x489731=_0x1af94f;await(0x0,_0x13f063[_0x489731(0x81a)])((0x0,_0x13f063['ref'])(_0xa01105[_0x489731(0x37c)](),_0x489731(0x8ad)+this[_0x489731(0x761)]+_0x489731(0x45d)+this['nodeKey']),{'joinedAt':(0x0,_0x13f063[_0x489731(0x360)])(),'priority':Math['random']()});}[_0x1af94f(0x60a)](){const _0x183ea5=_0x1af94f;this[_0x183ea5(0x8e5)]&&this['onDisconnectHandler']['cancel'](),this['onDisconnectHandler']=(0x0,_0x13f063[_0x183ea5(0x7be)])((0x0,_0x13f063['ref'])(_0xa01105[_0x183ea5(0x37c)](),_0x183ea5(0x8ad)+this[_0x183ea5(0x761)]+_0x183ea5(0x45d)+this[_0x183ea5(0x188)])),this[_0x183ea5(0x8e5)][_0x183ea5(0x1e7)]();}}class _0x550fdf{[_0x1af94f(0x45b)];[_0x1af94f(0x344)];['remoteUnsubscriber'];[_0x1af94f(0x3d8)];['discoveryUnsubscriber'];['ancestors']=[];[_0x1af94f(0x316)];[_0x1af94f(0x67e)]=new Map();['debounceProcessRank'];[_0x1af94f(0x657)];[_0x1af94f(0x4e6)];['resolveReady'];[_0x1af94f(0xa55)];[_0x1af94f(0x315)];constructor(_0x390353,_0x254f45){const _0x52f5c6=_0x1af94f;this[_0x52f5c6(0x45b)]=_0x390353,this['graphService']=_0x254f45,this[_0x52f5c6(0x4e6)]=new Promise((_0x582471,_0x9dbdab)=>{const _0x529fa5=_0x52f5c6;this[_0x529fa5(0x764)]=_0x582471,this['rejectReady']=_0x9dbdab;}),this[_0x52f5c6(0x3d8)]=new _0x99adb8(this[_0x52f5c6(0x45b)][_0x52f5c6(0x90c)],this[_0x52f5c6(0x45b)][_0x52f5c6(0x230)],this[_0x52f5c6(0x45b)][_0x52f5c6(0x658)],this[_0x52f5c6(0x344)][_0x52f5c6(0x89a)]()),this[_0x52f5c6(0x6c2)]=this[_0x52f5c6(0x3d8)]['onNodeDisconnect'](this[_0x52f5c6(0x98f)][_0x52f5c6(0x136)](this)),this[_0x52f5c6(0x45b)]['mediator']['registerSystemSource'](this[_0x52f5c6(0x45b)][_0x52f5c6(0x658)]),this[_0x52f5c6(0x45b)][_0x52f5c6(0x9ba)][_0x52f5c6(0x7cc)](this),this[_0x52f5c6(0x1db)]=_0xdf6e0c[_0x52f5c6(0x1ea)](()=>{const _0x19acc9=_0x52f5c6,_0x59434c=Date[_0x19acc9(0x1f3)]();this['graphService']['getRemoteNodes']()['forEach'](_0x34ad24=>{const _0x53c415=_0x19acc9;_0x34ad24[_0x53c415(0x1fc)]()===_0x41bc3f[_0x53c415(0x25a)]&&_0x34ad24[_0x53c415(0x9a7)]()<_0x59434c-0x493e0&&this[_0x53c415(0x344)][_0x53c415(0x80c)](_0x34ad24[_0x53c415(0x8f3)]());});},0xea60);}async[_0x1af94f(0x4d0)](){const _0x1573b7=_0x1af94f;return this[_0x1573b7(0x4e6)];}async[_0x1af94f(0x549)](_0x1c7c31){return new Promise((_0x377352,_0x529b33)=>{const _0x48f18d=a0_0xaf41;let _0x34b3bf;const _0x8bd36=setTimeout(()=>{const _0x30f4e5=a0_0xaf41;_0x34b3bf?.(),_0x529b33(new Error(_0x30f4e5(0x46b)+_0x1c7c31+_0x30f4e5(0x4cb)));},0x2710);if(this[_0x48f18d(0x344)][_0x48f18d(0x5ee)](_0x1c7c31))return clearTimeout(_0x8bd36),void _0x377352(!0x0);_0x34b3bf=this[_0x48f18d(0x344)]['onNodeUpdate'](()=>{const _0x4141a1=_0x48f18d;this[_0x4141a1(0x344)][_0x4141a1(0x5ee)](_0x1c7c31)&&(clearTimeout(_0x8bd36),_0x377352(!0x0),_0x34b3bf?.());});});}[_0x1af94f(0x412)](_0x402c8e){this['systemTopic']=_0x402c8e;}[_0x1af94f(0x466)](){const _0x43076d=_0x1af94f;delete this[_0x43076d(0x316)];}['close'](){const _0x440530=_0x1af94f;this['debounceProcessRank']&&(clearTimeout(this[_0x440530(0x880)]),delete this['debounceProcessRank']),delete this[_0x440530(0x657)],this[_0x440530(0x45b)]['localNode'][_0x440530(0x92f)](),this['remoteUnsubscriber'](),this[_0x440530(0x6c2)](),this[_0x440530(0x45b)][_0x440530(0x9ba)][_0x440530(0x33d)](this[_0x440530(0x45b)][_0x440530(0x658)]),this['configs'][_0x440530(0x9ba)][_0x440530(0x33d)](this),this[_0x440530(0x3d8)][_0x440530(0x92f)]();}[_0x1af94f(0x9f7)](){const _0x5a4ecc=_0x1af94f;return this[_0x5a4ecc(0x81b)];}['getLocalId'](){const _0xdfe06d=_0x1af94f;return this[_0xdfe06d(0x45b)][_0xdfe06d(0x658)]['getId']();}[_0x1af94f(0x222)](){const _0x32a115=_0x1af94f;return this[_0x32a115(0x45b)][_0x32a115(0x658)];}[_0x1af94f(0xa4c)](_0x4f871d){const _0x151381=_0x1af94f,_0x7f7612=Array[_0x151381(0x13b)](this['graphService'][_0x151381(0xa4c)]()[_0x151381(0x7e5)]())[_0x151381(0x7e0)](_0x1be296=>_0x1be296[_0x151381(0x1fc)]()===_0x41bc3f['Online']);return _0x4f871d?_0x7f7612[_0x151381(0x7e0)](_0x4f871d):_0x7f7612;}async['discover'](){const _0x10f324=_0x1af94f;return this[_0x10f324(0x81b)]=await this['discoveryService']['join'](),this[_0x10f324(0x81b)][_0x10f324(0x71c)]<this[_0x10f324(0x344)][_0x10f324(0x89a)]()&&(this[_0x10f324(0x45b)][_0x10f324(0x658)]['setRank'](this[_0x10f324(0x81b)][_0x10f324(0x71c)]+0x1),this[_0x10f324(0x780)]()),this[_0x10f324(0x81b)];}[_0x1af94f(0x9bd)](_0x5a86ad,_0x32772e){const _0x4b1f0b=_0x1af94f,_0xb71ee=this[_0x4b1f0b(0x45b)][_0x4b1f0b(0x658)][_0x4b1f0b(0x30b)](),_0x1c0ba3=new Set(_0xb71ee),_0xb0bb73=Array[_0x4b1f0b(0x13b)](_0xb71ee)[_0x4b1f0b(0x7e0)](_0x548331=>_0x548331!==_0x5a86ad)[_0x4b1f0b(0x7d0)](_0x28fe08=>({'id':_0x28fe08,'distance':0x1}));for(;_0xb0bb73[_0x4b1f0b(0x71c)]>0x0;){const _0x59f8a8=_0xb0bb73[_0x4b1f0b(0x396)]();if(!_0x59f8a8)continue;if(_0x59f8a8['id']===_0x32772e)return _0x59f8a8[_0x4b1f0b(0x5bf)];const _0x516d71=this[_0x4b1f0b(0x344)][_0x4b1f0b(0x6aa)](_0x59f8a8['id']);_0x516d71&&_0x516d71[_0x4b1f0b(0x1fc)]()!==_0x41bc3f['Offline']&&_0x516d71[_0x4b1f0b(0x30b)]()[_0x4b1f0b(0x333)](_0x2edee6=>{const _0x539c3c=_0x4b1f0b;_0x1c0ba3[_0x539c3c(0x907)](_0x2edee6)||(_0x1c0ba3[_0x539c3c(0x23a)](_0x2edee6),_0xb0bb73[_0x539c3c(0x3d6)]({'id':_0x2edee6,'distance':_0x59f8a8['distance']+0x1}));});}return-0x1;}[_0x1af94f(0x911)](_0x29d15e){const _0x3a2242=_0x1af94f;try{switch(_0x29d15e['content'][_0x3a2242(0x44f)]){case _0x4f0fdf[_0x3a2242(0x546)]:case _0x4f0fdf['NodeConnectionsUpdate']:this[_0x3a2242(0x399)](_0x29d15e[_0x3a2242(0x3fe)]),_0x5999e0[_0x3a2242(0x15c)](_0x53526a[_0x3a2242(0x666)],_0x3a2242(0x620),'\x27'+this[_0x3a2242(0x45b)]['localNode']['getId']()+',\x20'+_0x29d15e['sourceId']+'\x27',_0x29d15e,_0x29d15e['content']);break;case _0x4f0fdf[_0x3a2242(0x18b)]:this['removeNode'](_0x29d15e[_0x3a2242(0x3fe)]['id']),_0x5999e0[_0x3a2242(0x15c)](_0x53526a[_0x3a2242(0x666)],'NodeManager\x20-\x20NodeLeave','\x27'+this['configs'][_0x3a2242(0x658)][_0x3a2242(0x8f3)]()+',\x20'+_0x29d15e[_0x3a2242(0x825)]+'\x27',_0x29d15e,_0x29d15e[_0x3a2242(0x3fe)]);}}catch(_0x4de184){if(_0x4de184 instanceof _0x446b55)return void _0x5999e0[_0x3a2242(0x15c)](_0x53526a[_0x3a2242(0x666)],_0x4de184['message']);throw _0x4de184;}}[_0x1af94f(0x635)](_0x520723){const _0x2a6a9b=_0x1af94f;switch(_0x520723[_0x2a6a9b(0x3fe)][_0x2a6a9b(0x44f)]){case _0xba45aa[_0x2a6a9b(0x7a0)]:this[_0x2a6a9b(0x81d)](_0x520723[_0x2a6a9b(0x825)]),_0x5999e0[_0x2a6a9b(0x15c)](_0x53526a[_0x2a6a9b(0x666)],_0x2a6a9b(0x41c),'\x27'+this['configs'][_0x2a6a9b(0x658)][_0x2a6a9b(0x8f3)]()+',\x20'+_0x520723[_0x2a6a9b(0x825)]+'\x27',_0x520723,_0x520723['content']);break;case _0xba45aa[_0x2a6a9b(0xa03)]:this[_0x2a6a9b(0x5d8)](_0x520723[_0x2a6a9b(0x825)]),_0x5999e0[_0x2a6a9b(0x15c)](_0x53526a[_0x2a6a9b(0x666)],_0x2a6a9b(0x64d),this['configs'][_0x2a6a9b(0x658)][_0x2a6a9b(0x8f3)](),_0x520723,_0x520723[_0x2a6a9b(0x3fe)]);}}[_0x1af94f(0x9bf)](_0x400fd2){const _0x81e89a=_0x1af94f;this[_0x81e89a(0x6b7)](_0x400fd2),this[_0x81e89a(0x328)](_0x400fd2);}[_0x1af94f(0x328)](_0x41a5a0){const _0x3caead=_0x1af94f;this[_0x3caead(0x45b)]['localNode']['answerJoin'](_0x41a5a0['id']),this[_0x3caead(0x22e)](_0x41a5a0['id']),this[_0x3caead(0x74d)](_0x41a5a0);}[_0x1af94f(0x399)](_0x4b8760){const _0x38d7a7=_0x1af94f,{id:_0x3b8a4a,metaData:_0xa9e73e,rank:_0x2d9c09,remoteConnections:_0x350e7a,version:_0xa6adf}=_0x4b8760,_0x48dcad=this['graphService'][_0x38d7a7(0x6aa)](_0x3b8a4a);if(_0x48dcad){if(!(_0xa6adf<=_0x48dcad[_0x38d7a7(0x15f)]())){if(_0x48dcad['setRemoteConnections'](_0x350e7a),_0x48dcad[_0x38d7a7(0x92a)](_0xa6adf),_0x48dcad['type']===_0xb0907f[_0x38d7a7(0x116)]['User']&&_0xa9e73e[_0x38d7a7(0x44f)]===_0xb0907f[_0x38d7a7(0x116)][_0x38d7a7(0x551)]&&(_0x48dcad[_0x38d7a7(0xa0c)](_0xa9e73e[_0x38d7a7(0x890)]),_0x48dcad[_0x38d7a7(0x1b2)](_0xa9e73e[_0x38d7a7(0xa51)])),_0x2d9c09&&_0x48dcad[_0x38d7a7(0x534)](_0x2d9c09),this[_0x38d7a7(0x7af)](_0x3b8a4a,_0x2d9c09),_0x48dcad[_0x38d7a7(0x1fc)]()===_0x41bc3f['Offline'])return _0x48dcad['setStatus'](_0x41bc3f[_0x38d7a7(0x6e7)]),this[_0x38d7a7(0x780)](),void this['notifyJoin'](_0x4b8760);this[_0x38d7a7(0x780)](),this[_0x38d7a7(0x649)]({'id':_0x3b8a4a,'metaData':_0xa9e73e,'remoteConnections':_0x350e7a,'version':_0xa6adf});}}else this['handleNodeJoin'](_0x4b8760);}[_0x1af94f(0x7af)](_0x34abde,_0x1daf94){const _0x453133=_0x1af94f;_0x1daf94&&this[_0x453133(0x81b)][_0x453133(0x1ed)](_0x34abde)&&this[_0x453133(0x45b)][_0x453133(0x658)][_0x453133(0x534)](_0x1daf94+this[_0x453133(0x81b)]['indexOf'](_0x34abde)+0x1);}[_0x1af94f(0x81d)](_0x44ce39){const _0x5be0b0=_0x1af94f;this[_0x5be0b0(0x45b)][_0x5be0b0(0x658)][_0x5be0b0(0x862)](_0x44ce39);}[_0x1af94f(0x6b7)]({id:_0x288343,metaData:_0x4be567,rank:_0x1c43ac,remoteConnections:_0x3bb0d6,version:_0x4d578a}){const _0x3e0bb1=_0x1af94f;if(this['graphService']['hasRemoteNode'](_0x288343))throw new _0x446b55(_0x3e0bb1(0x5b3)+_0x288343);switch(_0x4be567[_0x3e0bb1(0x44f)]){case _0xb0907f['NodeType']['User']:const {displayName:_0x332b17,email:_0x39b2ba}=_0x4be567;this[_0x3e0bb1(0x344)][_0x3e0bb1(0x70c)](_0x288343,new _0x562dde(_0x288343,_0x332b17,_0x39b2ba,new Set(_0x3bb0d6),_0x4d578a,_0x1c43ac));break;case _0xb0907f[_0x3e0bb1(0x116)][_0x3e0bb1(0x58e)]:this[_0x3e0bb1(0x344)][_0x3e0bb1(0x70c)](_0x288343,new _0x3ae7b4(_0x288343,new Set(_0x3bb0d6),_0x4d578a,_0x1c43ac));}const _0x1d8ae9=this[_0x3e0bb1(0xa4c)](),_0x3790e6=new Set(this['ancestors']);_0x1d8ae9[_0x3e0bb1(0x333)](_0x579489=>{const _0x5a5324=_0x3e0bb1;_0x3790e6[_0x5a5324(0x907)](_0x579489[_0x5a5324(0x8f3)]())&&_0x3790e6[_0x5a5324(0x8e1)](_0x579489[_0x5a5324(0x8f3)]());}),0x0===_0x3790e6[_0x3e0bb1(0xa20)]&&this['resolveReady']&&(this[_0x3e0bb1(0x315)]&&clearTimeout(this[_0x3e0bb1(0x315)]),this[_0x3e0bb1(0x315)]=setTimeout(()=>{const _0x141de5=_0x3e0bb1;this[_0x141de5(0x764)]?.(!0x0),delete this[_0x141de5(0x764)],delete this['rejectReady'];},0x7d0)),this['setLocalRank'](_0x288343,_0x1c43ac),this[_0x3e0bb1(0x780)]();}[_0x1af94f(0x22e)](_0x5c4e77){const _0x54c642=_0x1af94f;this[_0x54c642(0x316)]['publish']({'sourceId':_0x50bf9f,'messageType':_0x502914[_0x54c642(0x666)],'content':{'type':_0x4f0fdf[_0x54c642(0x3bb)],'id':_0x5c4e77}});}[_0x1af94f(0x5d8)](_0xc60150){const _0x43948d=_0x1af94f;this[_0x43948d(0x316)]?.[_0x43948d(0x3ec)]({'sourceId':_0x50bf9f,'messageType':_0x502914[_0x43948d(0x666)],'content':{'type':_0x4f0fdf[_0x43948d(0x18b)],'id':_0xc60150}});}[_0x1af94f(0x98f)](_0x3b760a){const _0x3fed55=_0x1af94f;if(_0x3b760a===this['configs'][_0x3fed55(0x658)]['getId']())return this[_0x3fed55(0x45b)][_0x3fed55(0x9ba)]['notifyCluster'](_0x3fed55(0x64a),{'id':_0x3b760a}),this[_0x3fed55(0x45b)]['mediator'][_0x3fed55(0x92f)]({'force':!0x0},!0x0),this[_0x3fed55(0x45b)]['mediator'][_0x3fed55(0x2de)](),void this[_0x3fed55(0x45b)][_0x3fed55(0x9ba)][_0x3fed55(0x462)]();this[_0x3fed55(0x5d8)](_0x3b760a);}[_0x1af94f(0x70d)](_0x4cce52){const _0x26ef08=_0x1af94f;this['ancestors']['includes'](_0x4cce52)?this[_0x26ef08(0xe6)](_0x4cce52):this[_0x26ef08(0x45b)]['localNode'][_0x26ef08(0x30b)]()[_0x26ef08(0x907)](_0x4cce52)&&this[_0x26ef08(0x77a)](_0x4cce52),this[_0x26ef08(0x45b)][_0x26ef08(0x658)][_0x26ef08(0x120)](_0x4cce52);const _0x28550b=Array[_0x26ef08(0x13b)](this[_0x26ef08(0x67e)][_0x26ef08(0xa3a)]())[_0x26ef08(0x7ef)](([,_0x320786])=>_0x320786==_0x320786);_0x28550b&&this[_0x26ef08(0x67e)][_0x26ef08(0x8e1)](_0x28550b[0x0]);const _0x549255=this[_0x26ef08(0x344)][_0x26ef08(0x6aa)](_0x4cce52);if(!_0x549255)return;const _0x1c3b44=_0x549255[_0x26ef08(0x2d8)](),_0x5656c6=this[_0x26ef08(0x45b)][_0x26ef08(0x658)]['getRank']();_0x5656c6&&_0x1c3b44&&_0x1c3b44<_0x5656c6&&this[_0x26ef08(0x45b)]['localNode']['setRank'](_0x5656c6-0x1,!0x1),Array[_0x26ef08(0x13b)](this[_0x26ef08(0x344)][_0x26ef08(0xa4c)]()[_0x26ef08(0x7e5)]())[_0x26ef08(0x333)](_0x3eb0ae=>{const _0x4a5e0b=_0x26ef08,_0x4ec825=_0x3eb0ae[_0x4a5e0b(0x2d8)]();_0x4ec825&&_0x1c3b44&&_0x1c3b44<_0x4ec825&&_0x3eb0ae[_0x4a5e0b(0x534)](_0x4ec825-0x1);}),_0x549255['setStatus'](_0x41bc3f[_0x26ef08(0x25a)]),this[_0x26ef08(0x45b)][_0x26ef08(0x9ba)][_0x26ef08(0x114)](_0x549255[_0x26ef08(0x44f)]+_0x26ef08(0x6f0),{'id':_0x4cce52});}['notifyClusterNodeJoin']({id:_0x846f5f,metaData:_0x5e4acf,remoteConnections:_0x50669b}){const _0x1a8341=_0x1af94f;switch(_0x5e4acf['type']){case _0xb0907f[_0x1a8341(0x116)]['User']:this[_0x1a8341(0x45b)]['mediator'][_0x1a8341(0x114)]('user-join',{'id':_0x846f5f,'metaData':_0x5e4acf,'remoteConnections':_0x50669b});break;case _0xb0907f[_0x1a8341(0x116)][_0x1a8341(0x58e)]:this[_0x1a8341(0x45b)][_0x1a8341(0x9ba)][_0x1a8341(0x114)](_0x1a8341(0x7b8),{'id':_0x846f5f,'metaData':_0x5e4acf,'remoteConnections':_0x50669b});}}['notifyClusterNodeUpdate']({id:_0x502013,metaData:_0x22d4ee,remoteConnections:_0x16f2a1}){const _0x19ef34=_0x1af94f;switch(_0x22d4ee[_0x19ef34(0x44f)]){case _0xb0907f[_0x19ef34(0x116)]['User']:this[_0x19ef34(0x45b)]['mediator'][_0x19ef34(0x114)](_0x19ef34(0x498),{'id':_0x502013,'metaData':_0x22d4ee,'remoteConnections':_0x16f2a1});break;case _0xb0907f[_0x19ef34(0x116)][_0x19ef34(0x58e)]:this[_0x19ef34(0x45b)][_0x19ef34(0x9ba)][_0x19ef34(0x114)]('agent-update',{'id':_0x502013,'metaData':_0x22d4ee,'remoteConnections':_0x16f2a1});}}[_0x1af94f(0x780)](){const _0x5cbba6=_0x1af94f;if(this['lastProcessRank']||(this['lastProcessRank']=Date[_0x5cbba6(0x1f3)]()),this[_0x5cbba6(0x880)]){if(Date['now']()-this[_0x5cbba6(0x657)]>0x2328)return;clearTimeout(this['debounceProcessRank']);}this[_0x5cbba6(0x880)]=setTimeout(async()=>{const _0x51678e=_0x5cbba6;delete this[_0x51678e(0x657)],delete this[_0x51678e(0x880)];const _0x119509=this['configs'][_0x51678e(0x658)][_0x51678e(0x2d8)]();if(!_0x119509)return;const _0x4031de=this[_0x51678e(0x344)][_0x51678e(0x9b9)](this[_0x51678e(0x344)][_0x51678e(0xa4c)]()[_0x51678e(0xa20)]);if(this[_0x51678e(0x67e)][_0x51678e(0xa20)]>=_0x4031de)return;let _0x5a451a=0x1;for(;this[_0x51678e(0x45b)][_0x51678e(0x9ba)]['getConnections']()[_0x51678e(0x71c)]<this['graphService'][_0x51678e(0x6a0)]()&&_0x5a451a<=_0x4031de;){if(this[_0x51678e(0x67e)][_0x51678e(0x907)](_0x5a451a)){_0x5a451a+=0x1;continue;}const _0x530ed7=this[_0x51678e(0x344)]['getNextTargetRank'](_0x119509,_0x5a451a),_0x5ae23d=Array[_0x51678e(0x13b)](this[_0x51678e(0x344)][_0x51678e(0xa4c)]()[_0x51678e(0x7e5)]())[_0x51678e(0x7ef)](_0xda2763=>_0xda2763[_0x51678e(0x2d8)]()===_0x530ed7&&_0xda2763[_0x51678e(0x1fc)]()===_0x41bc3f[_0x51678e(0x6e7)]);if(_0x5ae23d){try{await this[_0x51678e(0x45b)]['mediator'][_0x51678e(0x8b0)](_0x5ae23d[_0x51678e(0x8f3)](),_0x852eca[_0x51678e(0x4f0)]),this[_0x51678e(0x67e)]['set'](_0x5a451a,_0x5ae23d[_0x51678e(0x8f3)]());}catch(_0x198f6e){if(!(_0x198f6e instanceof _0x3c8547&&_0x198f6e[_0x51678e(0x17a)]===_0x3c8547[_0x51678e(0x700)][_0x51678e(0x1de)]))throw _0x198f6e;_0x5999e0[_0x51678e(0x15c)](_0x53526a[_0x51678e(0x666)],this[_0x51678e(0x45b)][_0x51678e(0x658)][_0x51678e(0x8f3)](),_0x5ae23d[_0x51678e(0x8f3)](),_0x198f6e[_0x51678e(0x802)]);}_0x5a451a+=0x1;}else _0x5a451a+=0x1;}},0x3e8);}async[_0x1af94f(0xe6)](_0x4f3561){const _0x516a14=_0x1af94f;this[_0x516a14(0x81b)][_0x516a14(0x6b3)](this[_0x516a14(0x81b)]['indexOf'](_0x4f3561),0x1);const _0x5dca00=await this[_0x516a14(0x3d8)][_0x516a14(0x5f7)]();for(const _0x460baf of _0x5dca00)if(!this[_0x516a14(0x81b)][_0x516a14(0x1ed)](_0x460baf)){const _0x4403da=Array[_0x516a14(0x13b)](this[_0x516a14(0x67e)][_0x516a14(0xa3a)]())[_0x516a14(0x7ef)](([,_0x2a2737])=>_0x2a2737===_0x460baf);_0x4403da&&this[_0x516a14(0x67e)][_0x516a14(0x8e1)](_0x4403da[0x0]),this[_0x516a14(0x45b)]['mediator'][_0x516a14(0x8b0)](_0x460baf,_0x852eca[_0x516a14(0x9e1)]);}0x0===_0x5dca00[_0x516a14(0x71c)]&&this[_0x516a14(0x45b)][_0x516a14(0x658)][_0x516a14(0x534)](0x1),this[_0x516a14(0x81b)]=_0x5dca00;}async['manageOptimization'](_0x703c9b){const _0x4b2f7e=_0x1af94f,_0x38c097=this[_0x4b2f7e(0x45b)][_0x4b2f7e(0x658)][_0x4b2f7e(0x2d8)]();if(!_0x38c097)return;const _0x13e091=this['graphService']['getRemoteNode'](_0x703c9b);if(!_0x13e091||_0x13e091['getStatus']()===_0x41bc3f['Offline'])return;const _0x54c538=_0x13e091[_0x4b2f7e(0x2d8)]();if(!_0x54c538||_0x54c538<_0x38c097)return;const _0x5db2d5=this['getOutgoingOptimizationConnections'](this[_0x4b2f7e(0x45b)][_0x4b2f7e(0x658)][_0x4b2f7e(0x30b)](),_0x38c097),_0x31ef94=this[_0x4b2f7e(0x193)](_0x13e091['getRemoteConnections'](),_0x54c538)[_0x5db2d5[_0x4b2f7e(0x867)](([_0x72af])=>_0x72af===_0x703c9b)];if(!_0x31ef94||this['configs'][_0x4b2f7e(0x658)][_0x4b2f7e(0x30b)]()[_0x4b2f7e(0x907)](_0x31ef94[0x0]))return;const _0x3d6676=this['graphService'][_0x4b2f7e(0x6aa)](_0x31ef94[0x0]);if(_0x3d6676&&_0x3d6676[_0x4b2f7e(0x1fc)]()!==_0x41bc3f['Offline'])try{await this[_0x4b2f7e(0x45b)][_0x4b2f7e(0x9ba)][_0x4b2f7e(0x8b0)](_0x31ef94[0x0],_0x852eca[_0x4b2f7e(0x4f0)]);const _0x26eda4=Array[_0x4b2f7e(0x13b)](this['optimizationLayers'][_0x4b2f7e(0xa3a)]())['find'](([,_0x3f4d3b])=>_0x3f4d3b===_0x703c9b);_0x26eda4&&this['optimizationLayers'][_0x4b2f7e(0x81a)](_0x26eda4[0x0],_0x31ef94[0x0]);}catch(_0x5994bd){if(!(_0x5994bd instanceof _0x3c8547&&_0x5994bd[_0x4b2f7e(0x17a)]===_0x3c8547[_0x4b2f7e(0x700)][_0x4b2f7e(0x1de)]))throw _0x5994bd;_0x5999e0[_0x4b2f7e(0x15c)](_0x53526a['Node'],this[_0x4b2f7e(0x45b)][_0x4b2f7e(0x658)]['getId'](),_0x31ef94[0x0],_0x5994bd[_0x4b2f7e(0x802)]);}}['getOutgoingOptimizationConnections'](_0x2c48dc,_0x59eba2){const _0x1f5076=_0x1af94f;return Array['from'](_0x2c48dc)['reduce']((_0xc91d7d,_0x2cd288)=>{const _0x59d8d7=a0_0xaf41,_0x23a6b8=this[_0x59d8d7(0x344)]['getRemoteNode'](_0x2cd288);if(!_0x23a6b8||_0x23a6b8[_0x59d8d7(0x1fc)]()===_0x41bc3f['Offline'])return _0xc91d7d;const _0x5c9e72=_0x23a6b8['getRank']();if(!_0x5c9e72)return _0xc91d7d;const _0x432df0=_0x5c9e72-_0x59eba2;return _0x432df0<=this[_0x59d8d7(0x344)][_0x59d8d7(0x89a)]()||_0xc91d7d[_0x59d8d7(0x3d6)]([_0x2cd288,_0x432df0]),_0xc91d7d;},[])[_0x1f5076(0x1b1)](([,_0x5f207e],[,_0x37df89])=>_0x5f207e-_0x37df89);}}const _0x1ffec6=[{'problemType':_0x4dc890[_0x1af94f(0x9f6)],'remediations':[{'type':_0x3a5409[_0x1af94f(0x821)],'component':_0xc8d133['Resolution'],'action':_0x168519[_0x1af94f(0x9fd)]},{'type':_0x3a5409['RemoteRemediation'],'component':_0xc8d133[_0x1af94f(0x3b2)],'action':_0x168519[_0x1af94f(0x9fd)]}]},{'problemType':_0x4dc890[_0x1af94f(0x7d2)],'remediations':[{'type':_0x3a5409[_0x1af94f(0x821)],'component':_0xc8d133[_0x1af94f(0x3b2)],'action':_0x168519[_0x1af94f(0x9fd)]}]},{'problemType':_0x4dc890[_0x1af94f(0x6fa)],'remediations':[{'type':_0x3a5409[_0x1af94f(0x821)],'component':_0xc8d133[_0x1af94f(0x3b2)],'action':_0x168519[_0x1af94f(0x9fd)]}]},{'problemType':_0x4dc890[_0x1af94f(0x539)],'remediations':[{'type':_0x3a5409[_0x1af94f(0x821)],'component':_0xc8d133['Resolution'],'action':_0x168519['Downgrade']}]},{'problemType':_0x4dc890[_0x1af94f(0x8aa)],'remediations':[{'type':_0x3a5409['Remediation'],'component':_0xc8d133[_0x1af94f(0x8aa)],'action':_0x168519['Downgrade']}]},{'problemType':_0x4dc890['Jitter'],'remediations':[{'type':_0x3a5409['Remediation'],'component':_0xc8d133[_0x1af94f(0x8aa)],'action':_0x168519['Downgrade']}]},{'problemType':_0x4dc890[_0x1af94f(0x267)],'remediations':[{'type':_0x3a5409['Remediation'],'component':_0xc8d133[_0x1af94f(0x8aa)],'action':_0x168519[_0x1af94f(0x9fd)]}]}];class _0x3858e9{[_0x1af94f(0x45b)];[_0x1af94f(0x316)];[_0x1af94f(0x74a)]=new Map();constructor(_0x334f86){const _0x42a9ac=_0x1af94f;this[_0x42a9ac(0x45b)]=_0x334f86,this['configs'][_0x42a9ac(0x9ba)]['registerSystemSource'](this);}['close'](){const _0x370ac9=_0x1af94f;this[_0x370ac9(0x45b)][_0x370ac9(0x9ba)][_0x370ac9(0x33d)](this);}[_0x1af94f(0x412)](_0x58e6b3){const _0x17d7d2=_0x1af94f;this[_0x17d7d2(0x316)]=_0x58e6b3;}[_0x1af94f(0x466)](){const _0xc2e155=_0x1af94f;delete this[_0xc2e155(0x316)];}[_0x1af94f(0x41e)](_0x23bbbb){const _0x5a617a=_0x1af94f;_0x23bbbb[_0x5a617a(0x3fe)][_0x5a617a(0x44f)]===_0x456a44[_0x5a617a(0x27a)]&&this[_0x5a617a(0x213)](_0x23bbbb[_0x5a617a(0x3fe)][_0x5a617a(0x87a)]);}[_0x1af94f(0x7cf)](_0x22573e){const _0x4693d1=_0x1af94f;_0x22573e[_0x4693d1(0x3fe)][_0x4693d1(0x44f)]===_0x3a5409['RemoteRemediation']&&this['applyRemediation'](_0x22573e[_0x4693d1(0x825)],{'type':_0x3a5409[_0x4693d1(0x821)],'component':_0x22573e[_0x4693d1(0x3fe)][_0x4693d1(0x87a)][_0x4693d1(0x609)],'action':_0x22573e['content'][_0x4693d1(0x87a)][_0x4693d1(0x3e8)]});}[_0x1af94f(0x213)](_0x508879){const _0x5252b1=_0x1af94f,_0x22788f=_0x1ffec6['find'](_0x1e8a7f=>_0x1e8a7f['problemType']===_0x508879['type']);_0x22788f[_0x5252b1(0x124)]?.[_0x5252b1(0x333)](_0x480b24=>{const _0x563711=_0x5252b1;this[_0x563711(0x257)](_0x508879[_0x563711(0x1ec)],{'type':_0x508879[_0x563711(0x5ea)]===_0x37701b['Sender']?_0x3a5409[_0x563711(0x821)]:_0x3a5409[_0x563711(0x8a0)],'component':_0x480b24[_0x563711(0x609)],'action':_0x480b24[_0x563711(0x3e8)]});});}[_0x1af94f(0x257)](_0x455f57,_0x3ce281){const _0x22152d=_0x1af94f;if(_0x3ce281[_0x22152d(0x44f)]===_0x3a5409['Remediation']){const _0x483355=Date['now'](),_0x17bbdf=this[_0x22152d(0x74a)]['get'](_0x455f57);if(_0x17bbdf&&_0x483355-_0x17bbdf<0x1388)return;this[_0x22152d(0x74a)][_0x22152d(0x81a)](_0x455f57,_0x483355);}_0x5999e0['log'](_0x53526a[_0x22152d(0x821)],'Apply\x20remediation',_0x3ce281),_0x5999e0[_0x22152d(0x6c3)](_0x22152d(0x74e),{'clusterId':this['configs'][_0x22152d(0x230)],'nodeId':this['configs']['localNode'][_0x22152d(0x8f3)](),'nodeType':this[_0x22152d(0x45b)][_0x22152d(0x658)]['type'],'remoteId':_0x455f57,'data':{'type':_0x3ce281['type'],'component':_0x3ce281['component'],'action':_0x3ce281['action']}});let _0x44d9a0,_0x1fc4dd=_0x50bf9f;_0x3ce281[_0x22152d(0x44f)]===_0x3a5409[_0x22152d(0x8a0)]&&(_0x1fc4dd=this[_0x22152d(0x45b)]['localNode'][_0x22152d(0x8f3)](),_0x44d9a0=[_0x455f57]),this['systemTopic'][_0x22152d(0x3ec)]({'sourceId':_0x1fc4dd,'destinationIds':_0x44d9a0,'messageType':_0x502914[_0x22152d(0x821)],'content':{'type':_0x3ce281[_0x22152d(0x44f)],'targetId':_0x455f57,'data':_0x3ce281}});}}const _0x390733=0x3e8,_0x2c5002=0x7530,_0x3945de='outbound-rtp',_0x2ae7b2='remote-inbound-rtp',_0x3741b5=_0x1af94f(0x5b8),_0x301f5f=[_0x3945de,_0x2ae7b2],_0x42f70c=[_0x3741b5];class _0x539cdf{['roundTripTime']=0x0;['estimatedPlayoutTimestamp']=0x0;[_0x1af94f(0x276)]=0x0;['packetsLost']=0x0;[_0x1af94f(0x682)]=0x0;['currentTimestamp']=0x0;['previousTimestamp']=0x0;[_0x1af94f(0x26f)]=0x0;[_0x1af94f(0x88e)]=0x0;get[_0x1af94f(0x634)](){const _0x3f14c6=_0x1af94f;return this[_0x3f14c6(0x734)]>0x0&&this[_0x3f14c6(0x5e7)]>0x0&&Date[_0x3f14c6(0x1f3)]()-this[_0x3f14c6(0x734)]<_0x2c5002?(this[_0x3f14c6(0x26f)]-this[_0x3f14c6(0x88e)])/(this[_0x3f14c6(0x734)]-this[_0x3f14c6(0x5e7)])*0x8*0x3e8:0x0;}[_0x1af94f(0x4b9)](_0x366b7e){const _0x3f8058=_0x1af94f;switch(_0x366b7e[_0x3f8058(0x44f)]){case _0x3741b5:this[_0x3f8058(0x5c9)](_0x366b7e);break;case _0x3945de:this[_0x3f8058(0x2f5)](_0x366b7e);break;case _0x2ae7b2:this[_0x3f8058(0x105)](_0x366b7e);}}[_0x1af94f(0x6ec)](){const _0x38cc9d=_0x1af94f;return{'bitrate':this[_0x38cc9d(0x634)],'packetsLostPerc':this[_0x38cc9d(0x177)](),'roundTripTime':this[_0x38cc9d(0x9ea)],'jitter':this[_0x38cc9d(0x276)]};}['processInboundReport'](_0x201177){const _0x30f01d=_0x1af94f;this['setBytes'](_0x201177[_0x30f01d(0x7b6)]),this[_0x30f01d(0x252)](_0x201177[_0x30f01d(0x8fa)]),this['packets']=_0x201177['packetsReceived'],this[_0x30f01d(0x6e1)]=_0x201177['packetsLost'],void 0x0!==_0x201177[_0x30f01d(0x276)]?this['jitter']=_0x201177['jitter']:this[_0x30f01d(0x276)]=0x0,void 0x0!==_0x201177[_0x30f01d(0x144)]?this[_0x30f01d(0x144)]=_0x201177[_0x30f01d(0x144)]:this[_0x30f01d(0x144)]=0x0;}[_0x1af94f(0x2f5)](_0x177041){const _0x2455ba=_0x1af94f;this[_0x2455ba(0x2b3)](_0x177041[_0x2455ba(0x525)]),this[_0x2455ba(0x252)](_0x177041[_0x2455ba(0x8fa)]),this[_0x2455ba(0x682)]=_0x177041[_0x2455ba(0x7f9)];}[_0x1af94f(0x105)](_0x235333){const _0x5e1c51=_0x1af94f;this[_0x5e1c51(0x9ea)]=0x3e8*_0x235333[_0x5e1c51(0x9ea)],void 0x0!==_0x235333[_0x5e1c51(0x276)]?this[_0x5e1c51(0x276)]=_0x235333[_0x5e1c51(0x276)]:this[_0x5e1c51(0x276)]=0x0;}[_0x1af94f(0x177)](){const _0x210623=_0x1af94f;return this[_0x210623(0x682)]>0x0?this[_0x210623(0x6e1)]/this[_0x210623(0x682)]:0x0;}['setTimestamp'](_0x126260){const _0x41b4b4=_0x1af94f;_0x126260>this[_0x41b4b4(0x734)]&&(this[_0x41b4b4(0x5e7)]=this[_0x41b4b4(0x734)],this[_0x41b4b4(0x734)]=_0x126260);}[_0x1af94f(0x2b3)](_0x77fd3a){const _0x50497b=_0x1af94f;this[_0x50497b(0x88e)]=this[_0x50497b(0x26f)],this[_0x50497b(0x26f)]=_0x77fd3a;}}class _0xa87c0d extends _0x539cdf{}class _0x102422 extends _0x539cdf{[_0x1af94f(0x8d2)]=0x0;[_0x1af94f(0x664)]=0x0;[_0x1af94f(0x74c)]=0x0;['currentFrames']=0x0;[_0x1af94f(0x679)]=0x0;get['fps'](){const _0x9c6844=_0x1af94f;return this['currentTimestamp']>0x0&&this[_0x9c6844(0x5e7)]>0x0&&Date['now']()-this[_0x9c6844(0x734)]<_0x2c5002?(this['currentFrames']-this[_0x9c6844(0x679)])/(this[_0x9c6844(0x734)]-this[_0x9c6844(0x5e7)])*0x3e8:0x0;}get['timePerFrame'](){const _0x453336=_0x1af94f;return this[_0x453336(0x8d2)]&&this[_0x453336(0x9b5)]&&this[_0x453336(0x9b5)]>0x0?this[_0x453336(0x8d2)]/this['currentFrames']:0x0;}set[_0x1af94f(0x7f6)](_0x5d4f27){const _0x3ca392=_0x1af94f;this['previousFrames']=this[_0x3ca392(0x9b5)],this[_0x3ca392(0x9b5)]=_0x5d4f27;}[_0x1af94f(0x6ec)](){const _0xb9c8a9=_0x1af94f;return{...super[_0xb9c8a9(0x6ec)](),'FPS':this[_0xb9c8a9(0x2b9)],'timePerFrame':this[_0xb9c8a9(0x293)],'frameWidth':this['frameWidth'],'frameHeight':this[_0xb9c8a9(0x74c)]};}[_0x1af94f(0x5c9)](_0x5814c6){const _0x3c3785=_0x1af94f;super[_0x3c3785(0x5c9)](_0x5814c6),this[_0x3c3785(0x8d2)]=_0x5814c6['totalDecodeTime'],this[_0x3c3785(0x7f6)]=_0x5814c6[_0x3c3785(0x792)],this['frameWidth']=_0x5814c6[_0x3c3785(0x664)],this[_0x3c3785(0x74c)]=_0x5814c6[_0x3c3785(0x74c)];}[_0x1af94f(0x2f5)](_0x35f6e2){const _0x593b32=_0x1af94f;super[_0x593b32(0x2f5)](_0x35f6e2),this[_0x593b32(0x8d2)]=_0x35f6e2[_0x593b32(0x6bd)],this[_0x593b32(0x7f6)]=_0x35f6e2[_0x593b32(0x633)],this['frameWidth']=_0x35f6e2['frameWidth'],this[_0x593b32(0x74c)]=_0x35f6e2[_0x593b32(0x74c)];}}class _0x394c00{['audio']=new _0xa87c0d();['video']=new _0x102422();get[_0x1af94f(0x634)](){const _0x459bdc=_0x1af94f;return this[_0x459bdc(0x809)][_0x459bdc(0x634)]+this['video'][_0x459bdc(0x634)];}[_0x1af94f(0x997)](_0x3c8e0a){const _0x347831=_0x1af94f;return _0x3c8e0a[_0x347831(0x333)](_0x47d3da=>{const _0x14306b=_0x347831;switch(_0x47d3da[_0x14306b(0x832)]){case _0x14306b(0x809):this[_0x14306b(0x809)]['processReport'](_0x47d3da);break;case'video':this[_0x14306b(0x228)]['processReport'](_0x47d3da);}}),this[_0x347831(0x6ec)]();}['getReport'](){const _0x1bd301=_0x1af94f;return{'audio':this[_0x1bd301(0x809)][_0x1bd301(0x6ec)](),'video':this[_0x1bd301(0x228)][_0x1bd301(0x6ec)](),'roundTripTime':this['getRoundTripTime'](),'AudioVideoDelay':this[_0x1bd301(0x6f9)](),'bitrate':this[_0x1bd301(0x634)]};}[_0x1af94f(0x44e)](){const _0x536826=_0x1af94f;return Math['floor']((this[_0x536826(0x809)][_0x536826(0x9ea)]+this[_0x536826(0x228)][_0x536826(0x9ea)])/0x2);}['getAudioVideoDelay'](){const _0x3ac518=_0x1af94f;return this[_0x3ac518(0x809)][_0x3ac518(0x144)]-this['video'][_0x3ac518(0x144)];}}class _0x54ca96{[_0x1af94f(0x9e0)]=0x0;[_0x1af94f(0x5c6)]=0x0;[_0x1af94f(0x903)]=0x0;[_0x1af94f(0x3d0)]=0x0;[_0x1af94f(0x96b)]=0x0;['senderPreviousBytes']=0x0;['receiverCurrentBytes']=0x0;[_0x1af94f(0x642)]=0x0;['senderTotalMessages']=0x0;[_0x1af94f(0x16b)]=0x0;['senderTimeProcessing']=0x0;[_0x1af94f(0x8b8)]=0x0;[_0x1af94f(0x9ea)]=0x0;get[_0x1af94f(0x634)](){const _0x504e1c=_0x1af94f;return this['senderBitrate']+this[_0x504e1c(0x97a)];}get[_0x1af94f(0xa09)](){const _0x263e51=_0x1af94f;return this[_0x263e51(0x9e0)]>0x0&&this[_0x263e51(0x5c6)]>0x0&&Date['now']()-this[_0x263e51(0x9e0)]<_0x2c5002?(this[_0x263e51(0x96b)]-this[_0x263e51(0x555)])/(this['senderCurrentTimestamp']-this['senderPreviousTimestamp'])*0x8*0x3e8:0x0;}get['receiverBitrate'](){const _0x250fc4=_0x1af94f;return this[_0x250fc4(0x903)]>0x0&&this['receiverPreviousTimestamp']>0x0&&Date[_0x250fc4(0x1f3)]()-this[_0x250fc4(0x903)]<_0x2c5002?(this[_0x250fc4(0x4c9)]-this[_0x250fc4(0x642)])/(this[_0x250fc4(0x903)]-this[_0x250fc4(0x3d0)])*0x8*0x3e8:0x0;}['processReport'](_0x39eb80){const _0x390207=_0x1af94f;switch(_0x39eb80[_0x390207(0x5ea)]){case _0x37701b[_0x390207(0x15d)]:this[_0x390207(0x991)](_0x39eb80);break;case _0x37701b[_0x390207(0x8db)]:this[_0x390207(0x861)](_0x39eb80);}}[_0x1af94f(0x6ec)](){const _0x50a163=_0x1af94f;return{'bitrate':this[_0x50a163(0x634)],'senderBitrate':this[_0x50a163(0xa09)],'receiverBitrate':this[_0x50a163(0x97a)],'totalBytes':this[_0x50a163(0x236)](),'senderTotalBytes':this[_0x50a163(0x434)](),'receiverTotalBytes':this[_0x50a163(0x77b)](),'totalMessages':this[_0x50a163(0x542)]+this[_0x50a163(0x16b)],'senderTotalMessages':this[_0x50a163(0x542)],'receiverTotalMessages':this[_0x50a163(0x16b)],'timeProcessing':this[_0x50a163(0x417)]+this[_0x50a163(0x8b8)],'senderTimeProcessing':this[_0x50a163(0x417)],'receiverTimeProcessing':this[_0x50a163(0x8b8)],'roundTripTime':this['roundTripTime']};}[_0x1af94f(0x236)](){const _0x4c36a0=_0x1af94f;return this[_0x4c36a0(0x96b)]+this['receiverCurrentBytes'];}[_0x1af94f(0x434)](){const _0xc2693b=_0x1af94f;return this[_0xc2693b(0x96b)];}['getReceiverTotalBytes'](){return this['receiverCurrentBytes'];}['processSenderReport'](_0x3342ba){const _0x5b1c4e=_0x1af94f;this['setSenderTimestamp'](_0x3342ba[_0x5b1c4e(0x8fa)]),this[_0x5b1c4e(0x2b3)](_0x3342ba[_0x5b1c4e(0x525)]),this['senderTotalMessages']=_0x3342ba[_0x5b1c4e(0x7a2)],this[_0x5b1c4e(0x417)]=_0x3342ba[_0x5b1c4e(0x80a)],this[_0x5b1c4e(0x9ea)]=_0x3342ba[_0x5b1c4e(0x9ea)];}[_0x1af94f(0x861)](_0x3d8100){const _0x542ba5=_0x1af94f;this[_0x542ba5(0x3ca)](_0x3d8100[_0x542ba5(0x8fa)]),this['setReceiverBytes'](_0x3d8100[_0x542ba5(0x7b6)]),this[_0x542ba5(0x16b)]=_0x3d8100['messagesReceived'],this[_0x542ba5(0x8b8)]=_0x3d8100[_0x542ba5(0x2c8)];}['setSenderTimestamp'](_0x4821f7){const _0x249369=_0x1af94f;_0x4821f7>this[_0x249369(0x9e0)]&&(this[_0x249369(0x5c6)]=this['senderCurrentTimestamp'],this[_0x249369(0x9e0)]=_0x4821f7);}[_0x1af94f(0x3ca)](_0x90b004){const _0x5ea10c=_0x1af94f;_0x90b004>this[_0x5ea10c(0x903)]&&(this['receiverPreviousTimestamp']=this[_0x5ea10c(0x903)],this['receiverCurrentTimestamp']=_0x90b004);}['setBytes'](_0x487c0f){const _0x4f3270=_0x1af94f;this[_0x4f3270(0x555)]=this[_0x4f3270(0x96b)],this[_0x4f3270(0x96b)]=_0x487c0f;}['setReceiverBytes'](_0x5712a5){const _0x3b4f75=_0x1af94f;this[_0x3b4f75(0x642)]=this[_0x3b4f75(0x4c9)],this[_0x3b4f75(0x4c9)]=_0x5712a5;}}class _0x34a796{[_0x1af94f(0x8c9)]=new Map();[_0x1af94f(0x469)]=new Map();[_0x1af94f(0x674)]=new _0x54ca96();get[_0x1af94f(0xa09)](){const _0x411860=_0x1af94f;let _0x436880=0x0;return this[_0x411860(0x8c9)]['forEach'](_0x304fe0=>{const _0x280a6a=_0x411860;_0x436880+=_0x304fe0[_0x280a6a(0x634)];}),_0x436880+=this[_0x411860(0x674)][_0x411860(0xa09)],_0x436880;}get[_0x1af94f(0x97a)](){const _0x2a2e70=_0x1af94f;let _0x343009=0x0;return this[_0x2a2e70(0x469)]['forEach'](_0x50107d=>{_0x343009+=_0x50107d['bitrate'];}),_0x343009+=this['dataChannel']['receiverBitrate'],_0x343009;}get[_0x1af94f(0x634)](){const _0x580039=_0x1af94f;return this[_0x580039(0xa09)]+this[_0x580039(0x97a)];}[_0x1af94f(0x997)](_0x3c66fc,_0x5cc5e8){const _0x47bf84=_0x1af94f,_0x4ab0be=[],_0xdba6d6=[];return _0x3c66fc instanceof Array?_0x3c66fc['forEach'](_0x1e0446=>{const _0x4eb248=a0_0xaf41;_0x1e0446[_0x4eb248(0x333)](_0x2a6655=>{const _0x305a79=_0x4eb248;_0x42f70c[_0x305a79(0x1ed)](_0x2a6655['type'])&&_0x4ab0be[_0x305a79(0x3d6)](_0x2a6655),_0x301f5f[_0x305a79(0x1ed)](_0x2a6655[_0x305a79(0x44f)])&&_0xdba6d6['push'](_0x2a6655);});}):this[_0x47bf84(0x674)]['processReport'](_0x3c66fc),_0x4ab0be[_0x47bf84(0x71c)]>0x0&&_0x5cc5e8?{...this[_0x47bf84(0x950)](_0x5cc5e8,_0x4ab0be),'origin':_0x37701b[_0x47bf84(0x8db)],'streamId':_0x5cc5e8}:_0xdba6d6[_0x47bf84(0x71c)]>0x0&&_0x5cc5e8?{...this[_0x47bf84(0x84a)](_0x5cc5e8,_0xdba6d6),'origin':_0x37701b[_0x47bf84(0x15d)],'streamId':_0x5cc5e8}:void 0x0;}[_0x1af94f(0x6ec)](){const _0x2238fc=_0x1af94f,_0x48dad3={};this[_0x2238fc(0x8c9)][_0x2238fc(0x333)]((_0x2903da,_0x1dca83)=>{const _0x101c5c=_0x2238fc;_0x48dad3[_0x1dca83]=_0x2903da[_0x101c5c(0x6ec)]();});const _0x411ff9={};return this['receiverStreams'][_0x2238fc(0x333)]((_0x41e79f,_0x4ea9f8)=>{const _0x14a6f3=_0x2238fc;_0x411ff9[_0x4ea9f8]=_0x41e79f[_0x14a6f3(0x6ec)]();}),{'bitrate':this[_0x2238fc(0x634)],'senderBitrate':this[_0x2238fc(0xa09)],'receiverBitrate':this['receiverBitrate'],'senderStreams':_0x48dad3,'receiverStreams':_0x411ff9,'dataChannel':this[_0x2238fc(0x674)][_0x2238fc(0x6ec)]()};}[_0x1af94f(0x950)](_0x188229,_0x19d10a){const _0x5c31f0=_0x1af94f;return this[_0x5c31f0(0x469)][_0x5c31f0(0x907)](_0x188229)||this[_0x5c31f0(0x469)][_0x5c31f0(0x81a)](_0x188229,new _0x394c00()),this[_0x5c31f0(0x469)]['get'](_0x188229)['processReports'](_0x19d10a);}[_0x1af94f(0x84a)](_0x3650ab,_0x26fb64){const _0x2ec98f=_0x1af94f;return this[_0x2ec98f(0x8c9)][_0x2ec98f(0x907)](_0x3650ab)||this[_0x2ec98f(0x8c9)][_0x2ec98f(0x81a)](_0x3650ab,new _0x394c00()),this[_0x2ec98f(0x8c9)][_0x2ec98f(0x70a)](_0x3650ab)[_0x2ec98f(0x997)](_0x26fb64);}}class _0x5d5821{['nodes']=new Map();['scheduleTime']=0x0;[_0x1af94f(0x5cf)]=0x0;[_0x1af94f(0x256)]=new Map();[_0x1af94f(0x91b)]=new Map();['keyValueDatabases']=new Map();['generativeAIContexts']=new Map();['generativeAIWorkers']=new Map();[_0x1af94f(0x6e6)]=new Map();[_0x1af94f(0x3ab)]=new Map();[_0x1af94f(0x7c2)]=new Map();[_0x1af94f(0x542)]=new Map();[_0x1af94f(0x16b)]=new Map();[_0x1af94f(0x417)]=new Map();[_0x1af94f(0x8b8)]=new Map();[_0x1af94f(0x151)]=new Map();[_0x1af94f(0x316)];[_0x1af94f(0x6ec)](){const _0x4d282e=_0x1af94f,_0x1ff738={};this['nodes'][_0x4d282e(0x333)]((_0x22aa95,_0x3aa293)=>{_0x1ff738[_0x3aa293]=_0x22aa95['getReport']();});let _0x2bd469=0x0;this[_0x4d282e(0x417)][_0x4d282e(0x333)](_0x5839c3=>{_0x2bd469+=_0x5839c3;});let _0x3fe84a=0x0;this['receiverTimeProcessing']['forEach'](_0x361473=>{_0x3fe84a+=_0x361473;});const _0x10742d=_0x2bd469+_0x3fe84a;let _0x353cf3={'messages':{'total':0x0}};this['systemMessages']['forEach'](_0x52c30d=>{const _0x3222bf=_0x4d282e;Object[_0x3222bf(0x7a3)](_0x52c30d)[_0x3222bf(0x333)](_0x46e070=>{const _0x4b0df5=_0x3222bf;_0x353cf3[_0x46e070]||(_0x353cf3[_0x46e070]={}),Object[_0x4b0df5(0x7a3)](_0x52c30d[_0x46e070])[_0x4b0df5(0x333)](_0x141d5e=>{_0x353cf3[_0x46e070][_0x141d5e]||(_0x353cf3[_0x46e070][_0x141d5e]=0x0),_0x353cf3[_0x46e070][_0x141d5e]+=_0x52c30d[_0x46e070][_0x141d5e];});});});let _0x5a969=0x0,_0x3b827a=0x0,_0x2b3e3b=0x0,_0x31e5e4=0x0,_0x450d8=0x0;return this[_0x4d282e(0x256)]['forEach'](_0x720e40=>{const _0x184e44=_0x4d282e;_0x3b827a+=_0x720e40[_0x184e44(0x7a2)],_0x2b3e3b+=_0x720e40[_0x184e44(0x9c7)],_0x31e5e4+=_0x720e40[_0x184e44(0x525)],_0x450d8+=_0x720e40['bytesReceived'];}),this[_0x4d282e(0x91b)][_0x4d282e(0x333)](_0x2729d4=>{const _0x1d94cc=_0x4d282e;_0x5a969+=_0x2729d4[_0x1d94cc(0x83e)],_0x3b827a+=_0x2729d4[_0x1d94cc(0x7a2)],_0x2b3e3b+=_0x2729d4[_0x1d94cc(0x9c7)],_0x31e5e4+=_0x2729d4[_0x1d94cc(0x525)],_0x450d8+=_0x2729d4[_0x1d94cc(0x7b6)];}),this[_0x4d282e(0x3ba)][_0x4d282e(0x333)](_0x5557e0=>{const _0x520af7=_0x4d282e;_0x5a969+=_0x5557e0[_0x520af7(0x83e)],_0x3b827a+=_0x5557e0[_0x520af7(0x7a2)],_0x2b3e3b+=_0x5557e0[_0x520af7(0x9c7)],_0x31e5e4+=_0x5557e0[_0x520af7(0x525)],_0x450d8+=_0x5557e0['bytesReceived'];}),this[_0x4d282e(0x6dd)]['forEach'](_0x1caa09=>{const _0x1542c3=_0x4d282e;_0x5a969+=_0x1caa09[_0x1542c3(0x83e)],_0x3b827a+=_0x1caa09['messagesSent'],_0x2b3e3b+=_0x1caa09['messagesReceived'],_0x31e5e4+=_0x1caa09[_0x1542c3(0x525)],_0x450d8+=_0x1caa09['bytesReceived'];}),this[_0x4d282e(0x1ce)][_0x4d282e(0x333)](_0x156811=>{const _0x359e31=_0x4d282e;_0x5a969+=_0x156811[_0x359e31(0x83e)],_0x3b827a+=_0x156811[_0x359e31(0x7a2)],_0x2b3e3b+=_0x156811[_0x359e31(0x9c7)],_0x31e5e4+=_0x156811[_0x359e31(0x525)],_0x450d8+=_0x156811['bytesReceived'];}),this[_0x4d282e(0x6e6)][_0x4d282e(0x333)](_0x2d82a2=>{const _0x17ea7f=_0x4d282e;_0x5a969+=_0x2d82a2[_0x17ea7f(0x83e)],_0x3b827a+=_0x2d82a2['messagesSent'],_0x2b3e3b+=_0x2d82a2['messagesReceived'],_0x31e5e4+=_0x2d82a2[_0x17ea7f(0x525)],_0x450d8+=_0x2d82a2[_0x17ea7f(0x7b6)];}),this['graphDatabases']['forEach'](_0x44b829=>{const _0x2c8092=_0x4d282e;_0x5a969+=_0x44b829[_0x2c8092(0x83e)],_0x3b827a+=_0x44b829[_0x2c8092(0x7a2)],_0x2b3e3b+=_0x44b829['messagesReceived'],_0x31e5e4+=_0x44b829[_0x2c8092(0x525)],_0x450d8+=_0x44b829[_0x2c8092(0x7b6)];}),{'STVolatility':this[_0x4d282e(0x5eb)](),'DTVolatility':this[_0x4d282e(0xe9)](),'bitrate':this['getBitrate'](),'senderBitrate':this[_0x4d282e(0x71a)](),'receiverBitrate':this[_0x4d282e(0x68c)](),'totalStorageSize':_0x5a969,'totalMessages':_0x3b827a+_0x2b3e3b,'totalMessagesSent':_0x3b827a,'totalMessagesReceived':_0x2b3e3b,'totalBytes':_0x31e5e4+_0x450d8,'totalBytesSent':_0x31e5e4,'totalBytesReceived':_0x450d8,'systemMessages':_0x353cf3,'timeProcessing':_0x10742d,'nodes':_0x1ff738,'pubsubTopics':Object[_0x4d282e(0x662)](this[_0x4d282e(0x256)]),'objectStores':Object[_0x4d282e(0x662)](this[_0x4d282e(0x91b)]),'keyValueDatabases':Object['fromEntries'](this['keyValueDatabases']),'generativeAIContexts':Object[_0x4d282e(0x662)](this[_0x4d282e(0x6dd)]),'generativeAIWorkers':Object['fromEntries'](this[_0x4d282e(0x1ce)]),'vectorDatabases':Object['fromEntries'](this[_0x4d282e(0x6e6)]),'graphDatabases':Object[_0x4d282e(0x662)](this[_0x4d282e(0x3ab)]),'externalStorages':Object['fromEntries'](this[_0x4d282e(0x7c2)])};}[_0x1af94f(0x830)](_0x10dbdc){const _0x38272f=_0x1af94f;this[_0x38272f(0x575)][_0x38272f(0x81a)](_0x10dbdc,new _0x34a796());}[_0x1af94f(0x1d1)](_0x179821){this['nodes']['delete'](_0x179821);}['processReports'](_0x1280cd,_0x122149,_0x41ac57){const _0x3c9e81=_0x1af94f;_0x122149 instanceof Array||this[_0x3c9e81(0x4d5)](_0x1280cd,_0x122149);const _0x570d6e=this[_0x3c9e81(0x575)]['get'](_0x1280cd)?.['processReports'](_0x122149,_0x41ac57);_0x570d6e&&this[_0x3c9e81(0x316)]['publish']({'sourceId':_0x50bf9f,'messageType':_0x502914[_0x3c9e81(0x886)],'content':{'type':_0x459da5[_0x3c9e81(0x79b)],'data':{..._0x570d6e,'nodeId':_0x1280cd}}});}[_0x1af94f(0x29e)](_0x54aecc){const _0x4ca782=_0x1af94f;this[_0x4ca782(0x2be)](_0x54aecc[_0x4ca782(0x80d)]),this['setDurationTime'](_0x54aecc['durationTime']),this[_0x4ca782(0x316)][_0x4ca782(0x3ec)]({'sourceId':_0x50bf9f,'messageType':_0x502914[_0x4ca782(0x886)],'content':{'type':_0x459da5[_0x4ca782(0x6ae)],'data':{'STVolatility':this[_0x4ca782(0x5eb)](),'DTVolatility':this[_0x4ca782(0xe9)]()}}});}['processServiceReport'](_0x49d9a3,_0x54e657,_0x10de0b){const _0x27604f=_0x1af94f;switch(_0x54e657){case _0x20f4a0[_0x27604f(0x26e)]:this[_0x27604f(0x256)][_0x27604f(0x81a)](_0x49d9a3,_0x10de0b);break;case _0x20f4a0['ObjectStoreStats']:this['objectStores'][_0x27604f(0x81a)](_0x49d9a3,_0x10de0b);break;case _0x20f4a0['KeyValueDatabaseStats']:this[_0x27604f(0x3ba)][_0x27604f(0x81a)](_0x49d9a3,_0x10de0b);break;case _0x20f4a0[_0x27604f(0x2b6)]:this[_0x27604f(0x6dd)]['set'](_0x49d9a3,_0x10de0b);break;case _0x20f4a0['GenerativeAIWorkerStats']:this['generativeAIWorkers'][_0x27604f(0x81a)](_0x49d9a3,_0x10de0b);break;case _0x20f4a0[_0x27604f(0x57b)]:this[_0x27604f(0x6e6)][_0x27604f(0x81a)](_0x49d9a3,_0x10de0b);break;case _0x20f4a0['GraphDatabaseStats']:this[_0x27604f(0x3ab)]['set'](_0x49d9a3,_0x10de0b);break;case _0x20f4a0[_0x27604f(0x92c)]:this[_0x27604f(0x7c2)]['set'](_0x49d9a3,_0x10de0b);}}['registerSystemPublisher'](_0x3f1611){this['systemTopic']=_0x3f1611;}[_0x1af94f(0x466)](){const _0x2c57cf=_0x1af94f;delete this[_0x2c57cf(0x316)];}[_0x1af94f(0x5eb)](){const _0x96b1fe=_0x1af94f;return this[_0x96b1fe(0x15a)]>0x0&&this['scheduleTime']-_0x390733>0x0?(this['scheduleTime']-_0x390733)/_0x390733:0x0;}['getDTVolatility'](){const _0x5a564a=_0x1af94f;return this[_0x5a564a(0x5cf)]>0x0&&this[_0x5a564a(0x5cf)]-0x64>0x0?(this[_0x5a564a(0x5cf)]-0x64)/0x64:0x0;}[_0x1af94f(0x71a)](){const _0x4e139f=_0x1af94f;let _0x2cf3a6=0x0;return this['nodes'][_0x4e139f(0x333)](_0x2e5bcd=>{const _0x247c55=_0x4e139f;_0x2cf3a6+=_0x2e5bcd[_0x247c55(0xa09)];}),_0x2cf3a6;}['getReceiverBitrate'](){const _0x446e97=_0x1af94f;let _0x5102d2=0x0;return this[_0x446e97(0x575)]['forEach'](_0xe26553=>{const _0x23a5b0=_0x446e97;_0x5102d2+=_0xe26553[_0x23a5b0(0x97a)];}),_0x5102d2;}[_0x1af94f(0x48f)](){const _0x1b9144=_0x1af94f;let _0x4c0b2d=0x0;return this[_0x1b9144(0x575)][_0x1b9144(0x333)](_0x4341ac=>{_0x4c0b2d+=_0x4341ac['bitrate'];}),_0x4c0b2d;}[_0x1af94f(0x2be)](_0x4e08e2){const _0x15e3ed=_0x1af94f;this[_0x15e3ed(0x15a)]=_0x4e08e2;}['setDurationTime'](_0x1713e1){const _0x1b711a=_0x1af94f;this[_0x1b711a(0x5cf)]=_0x1713e1;}['processDataChannelReport'](_0x3d545e,_0x45ab1c){const _0x419ad5=_0x1af94f;switch(_0x45ab1c[_0x419ad5(0x5ea)]){case _0x37701b[_0x419ad5(0x15d)]:this[_0x419ad5(0x991)](_0x3d545e,_0x45ab1c);break;case _0x37701b[_0x419ad5(0x8db)]:this[_0x419ad5(0x861)](_0x3d545e,_0x45ab1c);}}['processSenderReport'](_0x31b6ed,_0x11edc7){const _0x267527=_0x1af94f;this[_0x267527(0x542)][_0x267527(0x81a)](_0x31b6ed,_0x11edc7[_0x267527(0x7a2)]),this[_0x267527(0x417)][_0x267527(0x81a)](_0x31b6ed,_0x11edc7[_0x267527(0x80a)]);}['processReceiverReport'](_0x4657e8,_0x23a53c){const _0x20eba7=_0x1af94f;this['receiverTotalMessages']['set'](_0x4657e8,_0x23a53c['messagesReceived']),this[_0x20eba7(0x8b8)][_0x20eba7(0x81a)](_0x4657e8,_0x23a53c[_0x20eba7(0x2c8)]),this[_0x20eba7(0x151)]['set'](_0x4657e8,_0x23a53c[_0x20eba7(0x151)]);}}class _0x55ae6c{['configs'];[_0x1af94f(0x6f3)]=new Set();['nextNodeId'];[_0x1af94f(0x93a)];[_0x1af94f(0x32c)];['statsReport']=new _0x5d5821();constructor(_0x368481){const _0xdd1d0b=_0x1af94f;this[_0xdd1d0b(0x45b)]=_0x368481,this[_0xdd1d0b(0x45b)]['mediator'][_0xdd1d0b(0x7cc)](this[_0xdd1d0b(0x31c)]),this[_0xdd1d0b(0x93a)]=this[_0xdd1d0b(0x272)](),this[_0xdd1d0b(0x32c)]=this[_0xdd1d0b(0x77d)]();}[_0x1af94f(0x92f)](){const _0x586ceb=_0x1af94f;this['configs'][_0x586ceb(0x9ba)][_0x586ceb(0x33d)](this[_0x586ceb(0x31c)]),this[_0x586ceb(0x32c)](),this[_0x586ceb(0x93a)]();}[_0x1af94f(0x830)](_0x56d886){const _0x2dba40=_0x1af94f;this[_0x2dba40(0x6f3)]['add'](_0x56d886),this['statsReport'][_0x2dba40(0x830)](_0x56d886);}[_0x1af94f(0x1d1)](_0x5a6594){const _0x5f274f=_0x1af94f;this[_0x5f274f(0x6f3)][_0x5f274f(0x8e1)](_0x5a6594),this[_0x5f274f(0x31c)][_0x5f274f(0x1d1)](_0x5a6594);}[_0x1af94f(0x635)](_0x4c18a0){const _0x4a8848=_0x1af94f;if(_0x4c18a0[_0x4a8848(0x3fe)]['type']===_0xba45aa[_0x4a8848(0x886)]){const {nodeId:_0x3d1c1c,streamId:_0x14cd76,stats:_0x450612}=_0x4c18a0['content'];this['statsReport'][_0x4a8848(0x997)](_0x3d1c1c,_0x450612,_0x14cd76);}}[_0x1af94f(0x79a)](_0x5506c5){const _0x5776ff=_0x1af94f;switch(_0x5506c5[_0x5776ff(0x3fe)][_0x5776ff(0x44f)]){case _0x20f4a0[_0x5776ff(0x9fc)]:case _0x20f4a0[_0x5776ff(0x9a6)]:case _0x20f4a0['PubSubTopicStats']:case _0x20f4a0['GenerativeAIContextStats']:case _0x20f4a0['GenerativeAIWorkerStats']:case _0x20f4a0['VectorDatabaseStats']:case _0x20f4a0[_0x5776ff(0x7eb)]:case _0x20f4a0[_0x5776ff(0x92c)]:this[_0x5776ff(0x31c)][_0x5776ff(0x703)](_0x5506c5[_0x5776ff(0x3fe)][_0x5776ff(0xf1)],_0x5506c5[_0x5776ff(0x3fe)][_0x5776ff(0x44f)],_0x5506c5[_0x5776ff(0x3fe)]['stats']);}}[_0x1af94f(0x77d)](){const _0xb9956a=_0x1af94f;return _0xdf6e0c[_0xb9956a(0x1ea)](()=>{const _0x1719cb=_0xb9956a,_0xc37634=this[_0x1719cb(0x31c)][_0x1719cb(0x6ec)]();_0x5999e0['log'](_0x53526a[_0x1719cb(0x886)],_0x1719cb(0x20b),_0xc37634),(0x0,_0x36eea4[_0x1719cb(0x1e4)])((0x0,_0x36eea4[_0x1719cb(0x4e5)])(_0xa01105['getFirestore'](),_0x1719cb(0x39a)+this['configs'][_0x1719cb(0x90c)]+_0x1719cb(0x71e)),{'clusterId':this[_0x1719cb(0x45b)][_0x1719cb(0x230)],'nodeId':this[_0x1719cb(0x45b)][_0x1719cb(0x658)][_0x1719cb(0x8f3)](),'nodeType':this['configs'][_0x1719cb(0x658)][_0x1719cb(0x44f)],'timestamp':(0x0,_0x36eea4['serverTimestamp'])(),'report':_0xc37634}),_0x5999e0[_0x1719cb(0x6c3)](_0x1719cb(0x777),{'clusterId':this[_0x1719cb(0x45b)][_0x1719cb(0x230)],'nodeId':this['configs']['localNode'][_0x1719cb(0x8f3)](),'nodeType':this[_0x1719cb(0x45b)][_0x1719cb(0x658)][_0x1719cb(0x44f)],'data':{'report':_0xc37634}});},_0x2c5002);}[_0x1af94f(0x272)](){const _0x16b22e=_0x1af94f;let _0x5229bd=!0x1,_0x46f720=Date[_0x16b22e(0x1f3)]();return _0xdf6e0c[_0x16b22e(0x1ea)](async()=>{const _0x5a3fd8=_0x16b22e;if(_0x5229bd)return;if(_0x5229bd=!0x0,0x0===this['remoteNodes']['size'])return delete this[_0x5a3fd8(0x710)],void(_0x5229bd=!0x1);const _0x47a09a=Date[_0x5a3fd8(0x1f3)]();this[_0x5a3fd8(0x71f)]();try{await this[_0x5a3fd8(0x45b)][_0x5a3fd8(0x9ba)][_0x5a3fd8(0x66f)](this[_0x5a3fd8(0x710)]);}catch(_0x29371d){}this[_0x5a3fd8(0x31c)]['processLocalReport']({'secheduleTime':_0x47a09a-_0x46f720,'durationTime':Date[_0x5a3fd8(0x1f3)]()-_0x47a09a}),_0x46f720=_0x47a09a,_0x5229bd=!0x1;},_0x390733);}[_0x1af94f(0x71f)](){const _0x37d1b8=_0x1af94f;let _0x1f5e57,_0x3aa85b=!0x1;this[_0x37d1b8(0x710)]&&(this['remoteNodes'][_0x37d1b8(0x907)](this[_0x37d1b8(0x710)])||delete this['nextNodeId']);for(const _0x1d1ada of this[_0x37d1b8(0x6f3)])if(_0x1f5e57||(_0x1f5e57=_0x1d1ada),this[_0x37d1b8(0x710)]!==_0x1d1ada){if(_0x3aa85b)return void(this[_0x37d1b8(0x710)]=_0x1d1ada);}else _0x3aa85b=!0x0,delete this['nextNodeId'];this['nextNodeId']||(this[_0x37d1b8(0x710)]=_0x1f5e57);}}class _0x4032b2{[_0x1af94f(0x513)];['destination'];[_0x1af94f(0x316)];constructor(_0x5e41c4,_0x56320b){const _0x2d050f=_0x1af94f;this[_0x2d050f(0x513)]=_0x5e41c4,this[_0x2d050f(0x7c4)]=_0x56320b;}[_0x1af94f(0x412)](_0x59e594){const _0x3f0034=_0x1af94f;this[_0x3f0034(0x316)]=_0x59e594;}['unregisterSystemPublisher'](){const _0x46c3df=_0x1af94f;delete this[_0x46c3df(0x316)];}}class _0x2f6513 extends _0x4032b2{[_0x1af94f(0x513)];['destination'];[_0x1af94f(0x63c)];constructor(_0x4b2bf2,_0x2ad199,_0x569d94){const _0x317576=_0x1af94f;super(_0x4b2bf2,_0x2ad199),this[_0x317576(0x513)]=_0x4b2bf2,this[_0x317576(0x7c4)]=_0x2ad199,this[_0x317576(0x63c)]=_0x569d94;}[_0x1af94f(0x9f2)](_0x359492,_0x33557c,_0x4528f5){const _0x5ea8dd=_0x1af94f;if(this['destination'][_0x5ea8dd(0x8f7)]()===_0xb0907f[_0x5ea8dd(0x178)][_0x5ea8dd(0x6af)]){const _0x35b6ba={'type':_0x5f1baf[_0x5ea8dd(0x6de)],'label':this[_0x5ea8dd(0x7c4)][_0x5ea8dd(0x8c4)](),'ownerId':_0x359492,'trackKinds':_0x33557c??this[_0x5ea8dd(0x7c4)][_0x5ea8dd(0x2e2)](),'params':_0x4528f5};this[_0x5ea8dd(0x316)][_0x5ea8dd(0x3ec)]({'sourceId':this[_0x5ea8dd(0x513)][_0x5ea8dd(0x403)](),'destinationIds':[this[_0x5ea8dd(0x513)][_0x5ea8dd(0x56a)]()],'messageType':_0x502914[_0x5ea8dd(0x62c)],'content':_0x35b6ba}),this[_0x5ea8dd(0x63c)]=_0x4528f5;}}[_0x1af94f(0x940)](_0x208c5b,_0x1515d0){const _0x577bd1=_0x1af94f;if(this[_0x577bd1(0x7c4)][_0x577bd1(0x8f7)]()===_0xb0907f['ContentType'][_0x577bd1(0x6af)]){const _0x49f260={'type':_0x5f1baf['UpdateMediaStream'],'label':this[_0x577bd1(0x7c4)][_0x577bd1(0x8c4)](),'ownerId':_0x208c5b,'params':_0x1515d0};this[_0x577bd1(0x316)]['publish']({'sourceId':this[_0x577bd1(0x513)][_0x577bd1(0x403)](),'destinationIds':[this[_0x577bd1(0x513)][_0x577bd1(0x56a)]()],'messageType':_0x502914[_0x577bd1(0x62c)],'content':_0x49f260}),this[_0x577bd1(0x63c)]=_0x1515d0;}}[_0x1af94f(0x885)](_0x2124db,_0x12b1a4,_0x3f3848){const _0x9b0055=_0x1af94f;if(this['destination']['getContentType']()===_0xb0907f[_0x9b0055(0x178)][_0x9b0055(0x6af)]){const _0x5c4377={'type':_0x5f1baf['UnsubscribeMediaStream'],'label':this['destination'][_0x9b0055(0x8c4)](),'ownerId':_0x2124db,'trackKinds':_0x3f3848??this[_0x9b0055(0x7c4)][_0x9b0055(0x2e2)](),'remainingTracks':_0x12b1a4};this['systemTopic'][_0x9b0055(0x3ec)]({'sourceId':this['source'][_0x9b0055(0x403)](),'destinationIds':[this['source'][_0x9b0055(0x56a)]()],'messageType':_0x502914['Subscription'],'content':_0x5c4377});}}}class _0x296535{[_0x1af94f(0x9d5)];['maxDistance'];['tracks'];[_0x1af94f(0x316)];[_0x1af94f(0x4a4)]=new Set();[_0x1af94f(0xa2e)]=Date['now']();[_0x1af94f(0x63c)];['retryCount']=0x0;constructor(_0x1163ae,_0x578029,_0x18f63a,_0x263e0d){const _0x2e2793=_0x1af94f;this[_0x2e2793(0x9d5)]=_0x578029,this[_0x2e2793(0xf4)]=_0x18f63a,this[_0x2e2793(0x432)]=_0x263e0d,_0x1163ae[_0x2e2793(0x333)](_0x342202=>{const _0x470162=_0x2e2793;this[_0x470162(0x4a4)][_0x470162(0x23a)]({'nodeId':_0x342202,'type':_0x327890[_0x470162(0x69c)]});});}[_0x1af94f(0x26d)](){const _0x1bde9f=_0x1af94f;return this[_0x1bde9f(0x432)];}['registerSystemPublisher'](_0x515611){const _0x5647bf=_0x1af94f;this[_0x5647bf(0x316)]=_0x515611;}['unregisterSystemPublisher'](){const _0x55b2c6=_0x1af94f;delete this[_0x55b2c6(0x316)];}[_0x1af94f(0x9b6)](_0x346eae,_0x4a1e2d){const _0x2961cd=_0x1af94f;this['startTime']=Date[_0x2961cd(0x1f3)](),this[_0x2961cd(0x4a4)][_0x2961cd(0xa4f)](),_0x346eae[_0x2961cd(0x333)](_0x2e4a0e=>{const _0x291350=_0x2961cd;this[_0x291350(0x4a4)][_0x291350(0x23a)]({'nodeId':_0x2e4a0e,'type':_0x327890['Waiting']});}),this['retryCount']+=0x1,this[_0x2961cd(0x9d5)]=_0x4a1e2d;}['sendRequest'](_0x4b16f6,_0x3e726d,_0x4e04a9,_0xe1e888,_0x3105ce){const _0x16a53e=_0x1af94f;if(this[_0x16a53e(0x234)]>0xa)throw new _0x3c8547(_0x3c8547[_0x16a53e(0x700)][_0x16a53e(0x42a)],{'answers':Array['from'](this['answers'])[_0x16a53e(0x7d0)](_0x29b0ae=>({'nodeId':_0x29b0ae[_0x16a53e(0x1ec)],'type':_0x29b0ae[_0x16a53e(0x44f)]}))});const _0x5362c8=Array[_0x16a53e(0x13b)](this[_0x16a53e(0x4a4)])[_0x16a53e(0x7d0)](_0x18cd18=>_0x18cd18[_0x16a53e(0x1ec)]);this[_0x16a53e(0x63c)]=_0x3105ce,this[_0x16a53e(0x316)][_0x16a53e(0x3ec)]({'sourceId':_0x4b16f6,'destinationIds':_0x5362c8,'messageType':_0x502914[_0x16a53e(0x62c)],'content':{'type':_0x5f1baf[_0x16a53e(0xa27)],'label':_0x4e04a9,'ownerId':_0x3e726d,'trackKinds':_0xe1e888,'params':_0x3105ce}}),_0x5999e0[_0x16a53e(0x15c)](_0x53526a[_0x16a53e(0x62c)],_0x16a53e(0x9ec),_0x4b16f6,_0x5362c8);}[_0x1af94f(0x935)](_0x4c723f,_0x410e80){const _0x496ad2=_0x1af94f;switch(_0x410e80[_0x496ad2(0x44f)]){case _0x5f1baf['CanProvideMediaStream']:{const _0x71a41c=this['currentDistance']>=_0x410e80[_0x496ad2(0x5bf)]&&_0x410e80[_0x496ad2(0x5bf)]<=this[_0x496ad2(0xf4)],_0x21229a=Array[_0x496ad2(0x13b)](this['answers'])[_0x496ad2(0x7ef)](_0x5332d4=>_0x5332d4[_0x496ad2(0x1ec)]===_0x4c723f);_0x21229a[_0x496ad2(0x44f)]=_0x71a41c?_0x327890['Accepted']:_0x327890['Rejected'],_0x21229a[_0x496ad2(0x78d)]=_0x410e80[_0x496ad2(0x78d)],_0x21229a[_0x496ad2(0x5bf)]=_0x410e80[_0x496ad2(0x5bf)],_0x21229a[_0x496ad2(0x235)]=_0x410e80[_0x496ad2(0x235)],_0x21229a['roundTripTime']=Date[_0x496ad2(0x1f3)]()-this[_0x496ad2(0xa2e)],_0x21229a[_0x496ad2(0x63c)]=this['params'],_0x21229a[_0x496ad2(0x4af)]=_0x410e80[_0x496ad2(0x4af)],_0x21229a['trackKinds']=_0x410e80[_0x496ad2(0x5b9)],_0x21229a[_0x496ad2(0x162)]=_0x410e80['label'],_0x5999e0[_0x496ad2(0x15c)](_0x53526a[_0x496ad2(0x62c)],(_0x71a41c?_0x496ad2(0x12d):_0x496ad2(0x428))+_0x496ad2(0x72a),_0x21229a);break;}case _0x5f1baf['CannotProvideMediaStream']:{const _0x2d8f45=Array[_0x496ad2(0x13b)](this[_0x496ad2(0x4a4)])[_0x496ad2(0x7ef)](_0x32eb9f=>_0x32eb9f[_0x496ad2(0x1ec)]===_0x4c723f);_0x2d8f45[_0x496ad2(0x44f)]=_0x327890[_0x496ad2(0x428)],_0x5999e0[_0x496ad2(0x15c)](_0x53526a[_0x496ad2(0x62c)],_0x496ad2(0x373),_0x2d8f45);break;}}if(this[_0x496ad2(0x5fb)]())return this[_0x496ad2(0x6f4)]();}['chooseAnswer'](){const _0xd8aa9f=_0x1af94f,_0x20f6bf=Array[_0xd8aa9f(0x13b)](this[_0xd8aa9f(0x4a4)])[_0xd8aa9f(0x7e0)](_0x207485=>_0x207485[_0xd8aa9f(0x44f)]===_0x327890['Accepted'])[_0xd8aa9f(0x1b1)]((_0xf0b3f3,_0x2a9368)=>_0xf0b3f3['cost']===_0x2a9368[_0xd8aa9f(0x78d)]?_0xf0b3f3[_0xd8aa9f(0x9ea)]-_0x2a9368[_0xd8aa9f(0x9ea)]:_0xf0b3f3[_0xd8aa9f(0x78d)]-_0x2a9368[_0xd8aa9f(0x78d)]);if(0x0===_0x20f6bf[_0xd8aa9f(0x71c)])throw new _0x3c8547(_0x3c8547[_0xd8aa9f(0x700)][_0xd8aa9f(0x42a)],{'answers':Array['from'](this[_0xd8aa9f(0x4a4)])[_0xd8aa9f(0x7d0)](_0x1a1b48=>({'nodeId':_0x1a1b48[_0xd8aa9f(0x1ec)],'type':_0x1a1b48[_0xd8aa9f(0x44f)]}))});return _0x5999e0[_0xd8aa9f(0x15c)](_0x53526a[_0xd8aa9f(0x62c)],_0xd8aa9f(0x4b0),_0x20f6bf[0x0],this[_0xd8aa9f(0x4a4)]),_0x20f6bf[0x0];}[_0x1af94f(0x5fb)](){const _0x3429ad=_0x1af94f;for(const _0x57501e of this[_0x3429ad(0x4a4)])if(_0x57501e[_0x3429ad(0x44f)]===_0x327890[_0x3429ad(0x69c)])return!0x1;return!0x0;}}class _0x3fa5ac{[_0x1af94f(0xf1)];[_0x1af94f(0x521)];[_0x1af94f(0x843)]=_0x69b7e5();constructor(_0x38ad43,_0x1390e7){const _0x26e44e=_0x1af94f;this[_0x26e44e(0xf1)]=_0x38ad43,this[_0x26e44e(0x521)]=_0x1390e7;}[_0x1af94f(0x8c4)](){const _0x6339a=_0x1af94f;return this[_0x6339a(0xf1)];}[_0x1af94f(0x8f7)](){const _0x2148be=_0x1af94f;return this[_0x2148be(0x521)];}[_0x1af94f(0x9f9)](_0x2fe93a){const _0x2ae93f=_0x1af94f;_0x2fe93a[_0x2ae93f(0x1ee)](this);}[_0x1af94f(0x979)](_0x22622a){_0x22622a['registerSubscriber'](this);}[_0x1af94f(0x3ec)](_0x554de8){const _0x512582=_0x1af94f;this['listener'][_0x512582(0x3ec)]({'topicLabel':this[_0x512582(0xf1)],'contentType':this[_0x512582(0x521)],'uuid':(0x0,_0x2a820b['v4'])(),'recipients':[],..._0x554de8});}[_0x1af94f(0x9f2)](_0x57a2f1){const _0x504459=_0x1af94f;return this[_0x504459(0x843)][_0x504459(0x9f2)](_0x57a2f1);}['unregisterSource'](_0x3e5b50){const _0x5b334a=_0x1af94f;_0x3e5b50[_0x5b334a(0x3ea)](this);}[_0x1af94f(0x572)](_0x252d64){const _0x20c03a=_0x1af94f;_0x252d64[_0x20c03a(0x62a)](this);}}class _0x1cefc6{['maps']={'topics':new Map(),'subscriptions':new Map()};['getPartsFromSubscription'];constructor(_0x56004f){const _0x21f7af=_0x1af94f;this[_0x21f7af(0x6ac)]=_0x56004f;}get[_0x1af94f(0x25b)](){const _0x1bbe49=_0x1af94f;return this[_0x1bbe49(0x855)][_0x1bbe49(0x25b)];}get[_0x1af94f(0x849)](){const _0x2a6ccb=_0x1af94f;return this[_0x2a6ccb(0x855)][_0x2a6ccb(0x849)];}[_0x1af94f(0xa50)](_0x5c22d4,_0x4d32da){const _0x157166=_0x1af94f,_0x257f1c=this[_0x157166(0x6ac)](_0x4d32da),_0x238d1a=_0x31cc2f(_0x5c22d4);if(!_0x257f1c['supportsContentType'])throw new _0x3c8547(_0x3c8547[_0x157166(0x700)][_0x157166(0x64f)],{'message':_0x238d1a+':\x20'+_0x257f1c['remoteId']+_0x157166(0x9c0)+_0x257f1c[_0x157166(0x521)],'subscriptionType':_0x5c22d4,'subscription':_0x4d32da,'subscriptonParts':_0x257f1c});const _0x19ca8e=_0xa14b59(_0x5c22d4,_0x257f1c);if(this[_0x157166(0x855)]['subscriptions'][_0x157166(0x907)](_0x19ca8e))throw new _0x3c8547(_0x3c8547[_0x157166(0x700)][_0x157166(0x64f)],{'message':_0x238d1a+':\x20'+_0x19ca8e+'\x20already\x20exists','subscriptionType':_0x5c22d4,'subscription':_0x4d32da,'subscriptonParts':_0x257f1c});this[_0x157166(0x855)]['subscriptions'][_0x157166(0x81a)](_0x19ca8e,_0x4d32da),this[_0x157166(0x8a1)](_0x257f1c,_0x4d32da);}[_0x1af94f(0xa45)](_0x3b7129,_0x570493){const _0x24889a=_0x1af94f,_0x4c25c9=_0xa14b59(_0x570493,_0x3b7129),_0x56165a=this[_0x24889a(0x855)][_0x24889a(0x25b)]['get'](_0x4c25c9);if(!_0x56165a)throw new _0x3c8547(_0x3c8547[_0x24889a(0x700)][_0x24889a(0x64f)],{'message':_0x31cc2f(_0x570493)+':\x20'+_0x4c25c9+_0x24889a(0x7e4),'subscriptionType':_0x570493,'subscription':_0x56165a,'subscriptonParts':_0x3b7129});this[_0x24889a(0x14d)](_0x56165a,_0x4c25c9,_0x3b7129);}[_0x1af94f(0x14d)](_0x1f8412,_0x278145,_0x1869c2){const _0x782f53=_0x1af94f;_0x1869c2=_0x1869c2||this['getPartsFromSubscription'](_0x1f8412),this[_0x782f53(0x855)][_0x782f53(0x25b)][_0x782f53(0x8e1)](_0x278145),this[_0x782f53(0x2d9)](_0x1869c2,_0x1f8412);}[_0x1af94f(0x8a1)](_0x3c08de,{source:_0x1c8e19,destination:_0xa54ee4}){const _0x1df1cc=_0x1af94f,{contentType:_0x28da93,label:_0x40718b,remoteId:_0xb8f3bb}=_0x3c08de,_0x3fa987=_0x2760a4(_0x28da93,_0x40718b,_0xb8f3bb),_0x56d33e=new _0x3fa5ac(_0x3fa987,_0x28da93);_0x56d33e['registerSource'](_0x1c8e19),_0x56d33e[_0x1df1cc(0x979)](_0xa54ee4),this['maps'][_0x1df1cc(0x849)][_0x1df1cc(0x81a)](_0x56d33e[_0x1df1cc(0x8c4)](),_0x56d33e);}['removeTopic'](_0x429390,_0x1b6f30){const _0x540f65=_0x1af94f,{contentType:_0x303a7f,label:_0x3c19db,remoteId:_0x1a454c}=_0x429390,_0xd2da0e=_0x2760a4(_0x303a7f,_0x3c19db,_0x1a454c),_0x35bc26=this['maps'][_0x540f65(0x849)][_0x540f65(0x70a)](_0xd2da0e);_0x35bc26&&(this[_0x540f65(0x426)](_0x35bc26,_0x1b6f30),this['maps'][_0x540f65(0x849)]['delete'](_0xd2da0e));}['closeTopic'](_0x237764,{source:_0x4e60fc,destination:_0x490b65}){const _0x51626c=_0x1af94f;_0x237764[_0x51626c(0x873)](_0x4e60fc),_0x237764[_0x51626c(0x572)](_0x490b65);}['removeSubscriptionsForNode'](_0x435fb1){const _0x51712c=_0x1af94f;this[_0x51712c(0x855)][_0x51712c(0x25b)][_0x51712c(0x333)]((_0x4a6422,_0x4edb46)=>{const _0x119ef3=_0x51712c;_0x4edb46[_0x119ef3(0x29f)](_0x435fb1)&&this['closeSubscription'](_0x4a6422,_0x4edb46);});}}class _0x402eb7{['configs'];['maxDistance'];[_0x1af94f(0x80b)]=new Map();['subscriptionRequestsQueue']=_0x38e48d(new _0x12526c(this[_0x1af94f(0x3b9)][_0x1af94f(0x136)](this),()=>_0xdf6e0c[_0x1af94f(0xa2b)](0x64)),!0x0);[_0x1af94f(0x9b4)]=new Map();['maps'];['chosenAnswers']=new Map();constructor(_0xed90d1,_0x1eddf5){const _0x4215c1=_0x1af94f;this[_0x4215c1(0x45b)]=_0xed90d1,this[_0x4215c1(0xf4)]=_0x1eddf5,this[_0x4215c1(0x855)]=new _0x1cefc6(({source:_0x179b1b,destination:_0x1ea64f})=>_0x3c147a(_0x1ea64f,_0x179b1b));}['createSubscription'](_0x2ac980,_0x248c2c){const _0xa0e2fd=_0x1af94f,_0x2ee436=this[_0xa0e2fd(0x4f8)](_0x2ac980)&&this[_0xa0e2fd(0x7f7)](_0x248c2c)?new _0x2f6513(_0x2ac980,_0x248c2c):new _0x4032b2(_0x2ac980,_0x248c2c);this['maps'][_0xa0e2fd(0xa50)](_0x291d7e[_0xa0e2fd(0x768)],_0x2ee436),this[_0xa0e2fd(0x45b)][_0xa0e2fd(0x9ba)][_0xa0e2fd(0x7cc)](_0x2ee436);}[_0x1af94f(0xa45)](_0x2922bd,_0x2cf0a8,_0x43d057=''){const _0x828003=_0x1af94f,_0x23c0a8={'contentType':_0x2cf0a8,'label':_0x2922bd,'remoteId':_0x43d057},_0x412730=_0xa14b59(_0x291d7e[_0x828003(0x768)],_0x23c0a8),_0x80d0df=this[_0x828003(0x855)][_0x828003(0x25b)][_0x828003(0x70a)](_0x412730);_0x80d0df&&this['closeSubscription'](_0x80d0df,_0x412730);}[_0x1af94f(0x356)](_0x537a97){const _0x237b9a=_0x1af94f;this[_0x237b9a(0x384)](_0x537a97);}[_0x1af94f(0x6cd)]({label:_0xba0e47,ownerId:_0xb83f0b,trackKinds:_0x4d89cc,params:_0x5b1615}){this['requestSubscription'](_0xba0e47,_0xb83f0b,_0x4d89cc,_0x5b1615);}[_0x1af94f(0x409)]({ownerId:_0x3f13d3,label:_0x35fa56,params:_0x2099c9}){const _0xfc6cfb=_0x1af94f,{subscriptionLabel:_0x3597fe}=this[_0xfc6cfb(0x197)](_0x35fa56,_0x3f13d3),_0x9f5881=this[_0xfc6cfb(0x2c0)](_0x3597fe);_0x9f5881&&_0x9f5881[_0xfc6cfb(0x940)](_0x3f13d3,_0x2099c9);}[_0x1af94f(0x68d)]({ownerId:_0x3a8e20,label:_0x437abd,trackKinds:_0x5e744a,remainingTracks:_0x11e33f}){const _0x124d56=_0x1af94f,_0xc1a851=_0xa14b59(_0x291d7e['Incoming'],{'contentType':_0xb0907f[_0x124d56(0x178)][_0x124d56(0x6af)],'label':_0x437abd,'remoteId':_0x3a8e20});this[_0x124d56(0x4dd)](_0xc1a851);const _0x416d1d=this[_0x124d56(0x80b)][_0x124d56(0x70a)](_0xc1a851);_0x416d1d&&(this[_0x124d56(0x45b)]['mediator'][_0x124d56(0x33d)](_0x416d1d),this[_0x124d56(0x80b)][_0x124d56(0x8e1)](_0xc1a851));const {parts:_0x134a5f,subscriptionLabel:_0x192940}=this[_0x124d56(0x197)](_0x437abd,_0x3a8e20),_0x44bb10=this[_0x124d56(0x2c0)](_0x192940);_0x44bb10&&(_0x44bb10['unsubscribe'](_0x3a8e20,_0x11e33f,_0x5e744a),0x0===_0x11e33f&&this['removeSubscription'](_0x134a5f['label'],_0x134a5f['contentType'],_0x134a5f['remoteId']));}['handleSubscriptionRestartNeedMediaStream'](_0x3a94d3,{label:_0x3d6a12,ownerId:_0x36ea81,trackKinds:_0x39abc2,streamId:_0xfd5063,params:_0x339f94}){const _0x4f8079=_0x1af94f,_0x361a97=_0xa14b59(_0x291d7e[_0x4f8079(0x768)],{'contentType':_0xb0907f[_0x4f8079(0x178)]['Media'],'label':_0xfd5063,'remoteId':_0x3a94d3}),_0x491c9d=this[_0x4f8079(0x855)][_0x4f8079(0x25b)]['get'](_0x361a97);if(!(_0x491c9d&&_0x491c9d instanceof _0x2f6513))throw new _0x3c8547(_0x3c8547[_0x4f8079(0x700)]['SubscriptionRequestDoesNotExist'],{'label':_0x361a97,'ownerId':_0x36ea81});this[_0x4f8079(0x14d)](_0x491c9d,_0x361a97),this[_0x4f8079(0x732)](_0x3d6a12,_0x36ea81,_0x39abc2,_0x339f94);}['handleSubscriptionProvideMediaStream'](_0x10a2fc,_0x2ddd5b){const _0xbe67a8=_0x1af94f,{label:_0x227d92,ownerId:_0x1665e0,trackKinds:_0x4f3481,params:_0xab886b}=_0x2ddd5b,_0x3ae919=_0xa14b59(_0x291d7e['Incoming'],{'contentType':_0xb0907f[_0xbe67a8(0x178)][_0xbe67a8(0x6af)],'label':_0x227d92,'remoteId':_0x1665e0});if(!this[_0xbe67a8(0x80b)]['has'](_0x3ae919))throw new _0x3c8547(_0x3c8547[_0xbe67a8(0x700)]['SubscriptionRequestDoesNotExist'],{'label':_0x3ae919,'ownerId':_0x1665e0,'streamId':_0x2ddd5b[_0xbe67a8(0x235)],'requests':this[_0xbe67a8(0x80b)]});const _0x26e76a=this[_0xbe67a8(0x80b)][_0xbe67a8(0x70a)](_0x3ae919);if(_0x4f3481[_0xbe67a8(0x71c)]===_0x26e76a['getTracks']()[_0xbe67a8(0x71c)]&&_0x4f3481[_0xbe67a8(0x2b0)](_0x4e6f48=>_0x26e76a[_0xbe67a8(0x26d)]()[_0xbe67a8(0x1ed)](_0x4e6f48)))try{const _0x4346f3=_0x26e76a['handleSubscriptionSystemEvents'](_0x10a2fc,_0x2ddd5b);if(!_0x4346f3)return;this[_0xbe67a8(0x9f2)](_0x4346f3,_0x1665e0,_0x227d92,_0x3ae919,_0x4f3481);}catch(_0x50cd12){return void this[_0xbe67a8(0x392)](_0x227d92,_0x1665e0,_0x4f3481,_0xab886b);}}['handleSubscriptionMediaStreamUnavailable'](_0x118f38,{label:_0x24205c,ownerId:_0x42dff8,trackKinds:_0x2b9275}){const _0x549a8a=_0x1af94f,_0x554835=this[_0x549a8a(0x45b)]['mediator'][_0x549a8a(0x9ae)](_0x42dff8,_0x24205c);if(!_0x554835)return;const _0x25b63d=_0x554835['getInternalStreamId'](),_0x40c954=_0x554835['getSubscribedTracks']();_0x40c954[_0x549a8a(0xa33)](_0x51c830=>_0x2b9275[_0x549a8a(0x1ed)](_0x51c830))&&this[_0x549a8a(0x4a0)](_0x118f38,_0x24205c,_0x25b63d,_0x42dff8,_0x40c954);}[_0x1af94f(0x9ff)]({label:_0x4ba923,providerId:_0x21f883,ownerId:_0x5af8e4,streamId:_0x219ae2,trackKinds:_0x3701de}){const _0x2ddfc0=_0x1af94f;this[_0x2ddfc0(0x4a0)](_0x21f883,_0x4ba923,_0x219ae2,_0x5af8e4,_0x3701de);}[_0x1af94f(0x882)](_0x1264d6){const _0x59d69e=_0x1af94f;for(const _0x830755 of this[_0x59d69e(0x818)][_0x59d69e(0x7e5)]()){const {streamLabel:_0xb73a46,ownerId:_0x36ec94,trackKinds:_0x44a65f,params:_0x450b1c}=_0x830755;if(!_0x36ec94||!_0x44a65f||!_0xb73a46)return;this[_0x59d69e(0x2ff)]['push']({'label':_0xb73a46,'ownerId':_0x36ec94,'trackKinds':_0x44a65f,'params':_0x450b1c,'remoteId':_0x1264d6});}}['removeSubscriptionsForNode'](_0x3cb74e){const _0x278a50=_0x1af94f;this[_0x278a50(0x855)]['subscriptions'][_0x278a50(0x333)]((_0x4039e8,_0x4c97cd)=>{const _0x2bd842=_0x278a50;if(_0x4c97cd['endsWith'](_0x3cb74e)){if(_0x4039e8[_0x2bd842(0x7c4)]['getContentType']()===_0xb0907f[_0x2bd842(0x178)][_0x2bd842(0x6af)]){const _0x509af0=_0x4039e8[_0x2bd842(0x7c4)];if(_0x509af0['getSubscribedTracks']()['length']>0x0){const _0x1d5c00={'type':_0x5f1baf[_0x2bd842(0x854)],'label':_0x509af0[_0x2bd842(0x8c4)](),'ownerId':_0x509af0[_0x2bd842(0x7bd)](),'trackKinds':_0x509af0[_0x2bd842(0x361)]()};return void this[_0x2bd842(0x9d2)](_0x3cb74e,_0x1d5c00);}}this[_0x2bd842(0x14d)](_0x4039e8,_0x4c97cd);}});}['close'](){const _0x1cb405=_0x1af94f;this[_0x1cb405(0x855)][_0x1cb405(0x25b)][_0x1cb405(0x333)](this[_0x1cb405(0x14d)][_0x1cb405(0x136)](this));}[_0x1af94f(0x9f2)](_0x56237d,_0xc64192,_0x833874,_0x2ed21f,_0x4d0382){const _0x5268e4=_0x1af94f,_0x4d2bc9=this[_0x5268e4(0x45b)][_0x5268e4(0x9ba)][_0x5268e4(0x331)](_0x56237d[_0x5268e4(0x1ec)]),_0x2c76bb=this['configs'][_0x5268e4(0x9ba)]['getRemoteMediaStream'](_0xc64192,_0x833874);this[_0x5268e4(0x4dd)](_0x2ed21f),this[_0x5268e4(0x80b)][_0x5268e4(0x907)](_0x2ed21f)&&(this[_0x5268e4(0x45b)][_0x5268e4(0x9ba)][_0x5268e4(0x33d)](this[_0x5268e4(0x80b)][_0x5268e4(0x70a)](_0x2ed21f)),this[_0x5268e4(0x80b)][_0x5268e4(0x8e1)](_0x2ed21f)),this[_0x5268e4(0x5a4)](_0x56237d,_0xc64192,_0x833874,_0x2c76bb),_0x2c76bb[_0x5268e4(0x5a3)](_0x56237d[_0x5268e4(0x235)]),_0x2c76bb[_0x5268e4(0x908)](_0x56237d[_0x5268e4(0x1ec)]);const _0x49e3d3=_0x3c147a(_0x2c76bb,_0x4d2bc9),_0x470a19=_0xa14b59(_0x291d7e['Incoming'],_0x49e3d3);this['maps'][_0x5268e4(0x25b)][_0x5268e4(0x907)](_0x470a19)||this[_0x5268e4(0xa50)](_0x4d2bc9,_0x2c76bb);const _0x5d95a7=this[_0x5268e4(0x855)][_0x5268e4(0x25b)][_0x5268e4(0x70a)](_0x470a19);if(!(_0x5d95a7&&_0x5d95a7 instanceof _0x2f6513))throw new _0x3c8547(_0x3c8547['codes'][_0x5268e4(0x522)],{'label':_0x2ed21f,'ownerId':_0xc64192});_0x5999e0[_0x5268e4(0x6c3)](_0x5268e4(0xa3d),{'clusterId':this['configs'][_0x5268e4(0x230)],'nodeId':this[_0x5268e4(0x45b)][_0x5268e4(0x658)][_0x5268e4(0x8f3)](),'nodeType':this[_0x5268e4(0x45b)][_0x5268e4(0x658)][_0x5268e4(0x44f)],'data':{'subscriptionLabel':_0x470a19,'chosenAnswer':_0x56237d}}),this[_0x5268e4(0x818)][_0x5268e4(0x81a)](_0x470a19,_0x56237d),_0x5d95a7[_0x5268e4(0x9f2)](_0xc64192,_0x4d0382,_0x56237d[_0x5268e4(0x63c)]);}[_0x1af94f(0x384)]({ownerId:_0x1a2c09,label:_0x4bc537}){const _0x54c24f=_0x1af94f,_0x8e0a4e=this[_0x54c24f(0x45b)][_0x54c24f(0x9ba)]['getRemoteMediaStream'](_0x1a2c09,_0x4bc537),[_0x52a7fb,_0x13d241]=Array['from'](this['maps'][_0x54c24f(0x25b)][_0x54c24f(0xa3a)]())[_0x54c24f(0x7ef)](([_0x9c4023,_0x1dfdea])=>-0x1!==_0x9c4023[_0x54c24f(0x7d6)](_0x8e0a4e[_0x54c24f(0x347)]()));return this[_0x54c24f(0x14d)](_0x13d241,_0x52a7fb);}[_0x1af94f(0x14d)](_0x52ed0a,_0x4a855f){const _0x2b0b14=_0x1af94f;this[_0x2b0b14(0x45b)]['mediator'][_0x2b0b14(0x33d)](_0x52ed0a),this[_0x2b0b14(0x855)]['closeSubscription'](_0x52ed0a,_0x4a855f);}[_0x1af94f(0x4f8)](_0x3df332){const _0x8f576d=_0x1af94f;return _0x3df332['getSupportedContentTypes']()[_0x8f576d(0x1ed)](_0xb0907f[_0x8f576d(0x178)][_0x8f576d(0x6af)]);}[_0x1af94f(0x7f7)](_0x1dfd6f){const _0x5f2f83=_0x1af94f;return _0x1dfd6f[_0x5f2f83(0x8f7)]()===_0xb0907f[_0x5f2f83(0x178)][_0x5f2f83(0x6af)];}async['handleNoAnswer'](_0x439857,_0x2eb469,_0x5134ff,_0x3b6ff8){const _0x569245=_0x1af94f;await _0xdf6e0c[_0x569245(0xa2b)](0x3e8);const _0x26037f=_0xa14b59(_0x291d7e['Incoming'],{'contentType':_0xb0907f['ContentType'][_0x569245(0x6af)],'label':_0x439857,'remoteId':_0x2eb469});this['clearSubscriptionRequestTimeout'](_0x26037f);const _0x334a84=this[_0x569245(0x80b)][_0x569245(0x70a)](_0x26037f);if(!_0x334a84)throw new _0x3c8547(_0x3c8547[_0x569245(0x700)]['SubscriptionRequestDoesNotExist'],{'label':_0x26037f,'ownerId':_0x2eb469});const _0x12d79b=this[_0x569245(0x45b)]['mediator'][_0x569245(0xa0a)](_0xf0e8a0=>_0xf0e8a0[_0x569245(0x119)]()),_0x4db5e4=this['configs'][_0x569245(0x9ba)]['getDistance'](this[_0x569245(0x45b)]['localNode']['getId'](),_0x2eb469);_0x334a84[_0x569245(0x9b6)](_0x12d79b[_0x569245(0x7d0)](_0x344afe=>_0x344afe[_0x569245(0x56a)]()),_0x4db5e4);try{_0x334a84[_0x569245(0x8f2)](this[_0x569245(0x45b)]['localNode'][_0x569245(0x8f3)](),_0x2eb469,_0x439857,_0x5134ff,_0x3b6ff8),this[_0x569245(0x47d)](_0x439857,_0x2eb469,_0x5134ff,_0x3b6ff8,_0x26037f,_0x334a84);}catch(_0x364b98){this[_0x569245(0x2ff)][_0x569245(0x3d6)]({'label':_0x439857,'ownerId':_0x2eb469,'trackKinds':_0x5134ff,'params':_0x3b6ff8});}}[_0x1af94f(0x732)](_0x559c36,_0x262dd7,_0x3fbe8f,_0x23d72b){const _0x2c280d=_0x1af94f;this['subscriptionRequestsQueue'][_0x2c280d(0x3d6)]({'label':_0x559c36,'ownerId':_0x262dd7,'trackKinds':_0x3fbe8f,'params':_0x23d72b});}[_0x1af94f(0x3b9)]({label:_0x37c701,ownerId:_0x207049,trackKinds:_0xc08446,params:_0x47524f,remoteId:_0x428a3}){const _0x5cc780=_0x1af94f;if(!this[_0x5cc780(0x45b)][_0x5cc780(0x9ba)][_0x5cc780(0x9ae)](_0x207049,_0x37c701))return;if(!this['configs'][_0x5cc780(0x9ba)][_0x5cc780(0x222)]()[_0x5cc780(0x2d8)]())throw new Error('Local\x20node\x20rank\x20is\x20not\x20set');if(_0x428a3){const _0x1800a3=this[_0x5cc780(0x45b)][_0x5cc780(0x9ba)]['getRemoteNodes']()[_0x5cc780(0x7ef)](_0x3554c9=>_0x3554c9[_0x5cc780(0x8f3)]()===_0x428a3),_0x2202b3=_0x1800a3?.[_0x5cc780(0x2d8)]();if(!_0x1800a3||!_0x2202b3)throw new Error(_0x5cc780(0x491));const _0x207532=this[_0x5cc780(0x45b)][_0x5cc780(0x9ba)][_0x5cc780(0xa4c)]()['find'](_0x49a2c5=>_0x49a2c5[_0x5cc780(0x8f3)]()===_0x207049),_0x96a4dc=_0x207532?.['getRank']();if(!_0x207532||!_0x96a4dc)throw new Error('Missing\x20owner\x20node\x20or\x20rank');const _0x10f1ba=this[_0x5cc780(0x818)][_0x5cc780(0x70a)](_0x37c701);if(_0x10f1ba){const _0x301447=this[_0x5cc780(0x45b)]['mediator']['getRemoteNodes']()[_0x5cc780(0x7ef)](_0xd90c1=>_0xd90c1['getId']()===_0x10f1ba[_0x5cc780(0x1ec)]),_0x4dbc9e=_0x301447?.[_0x5cc780(0x2d8)]();if(!_0x301447||!_0x4dbc9e)throw new Error('Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank');if(Math[_0x5cc780(0x6e8)](_0x4dbc9e-_0x96a4dc)<Math[_0x5cc780(0x6e8)](_0x2202b3-_0x96a4dc))return;}}const _0x2d2e2b=this[_0x5cc780(0x45b)][_0x5cc780(0x9ba)][_0x5cc780(0xa0a)](_0xdd7c15=>_0xdd7c15[_0x5cc780(0x119)]()&&(!_0x428a3||_0xdd7c15[_0x5cc780(0x56a)]()===_0x428a3));if(!_0x2d2e2b[_0x5cc780(0x71c)]||0x0===_0x2d2e2b[_0x5cc780(0x71c)])throw new Error(_0x5cc780(0x941));const _0x49cb2b=this['configs'][_0x5cc780(0x9ba)]['getDistance'](this[_0x5cc780(0x45b)][_0x5cc780(0x658)][_0x5cc780(0x8f3)](),_0x207049),_0x1fd70b=_0xa14b59(_0x291d7e[_0x5cc780(0x768)],{'contentType':_0xb0907f[_0x5cc780(0x178)][_0x5cc780(0x6af)],'label':_0x37c701,'remoteId':_0x207049});if(this['subscriptionRequests'][_0x5cc780(0x907)](_0x1fd70b)){if(_0x428a3)throw new Error(_0x5cc780(0xa28));const _0x396a2a=this[_0x5cc780(0x80b)][_0x5cc780(0x70a)](_0x1fd70b)[_0x5cc780(0x26d)]();if(_0x396a2a['length']===_0xc08446[_0x5cc780(0x71c)]&&_0x396a2a[_0x5cc780(0x2b0)](_0x3e27ca=>_0xc08446['includes'](_0x3e27ca)))return;this['configs'][_0x5cc780(0x9ba)]['unregisterSystemSource'](this[_0x5cc780(0x80b)][_0x5cc780(0x70a)](_0x1fd70b)),this[_0x5cc780(0x80b)][_0x5cc780(0x8e1)](_0x1fd70b),_0xc08446=Array[_0x5cc780(0x13b)](new Set(_0xc08446[_0x5cc780(0x7c0)](_0x396a2a))),this[_0x5cc780(0x4dd)](_0x1fd70b);}const _0x255c9d=new _0x296535(_0x2d2e2b[_0x5cc780(0x7d0)](_0xda1e77=>_0xda1e77[_0x5cc780(0x56a)]()),_0x49cb2b,this['maxDistance'],_0xc08446);this[_0x5cc780(0x45b)][_0x5cc780(0x9ba)][_0x5cc780(0x7cc)](_0x255c9d),this[_0x5cc780(0x80b)][_0x5cc780(0x81a)](_0x1fd70b,_0x255c9d),_0x255c9d['sendRequest'](this[_0x5cc780(0x45b)][_0x5cc780(0x658)][_0x5cc780(0x8f3)](),_0x207049,_0x37c701,_0xc08446,_0x47524f),this['setSubscriptionRequestTimeout'](_0x37c701,_0x207049,_0xc08446,_0x47524f,_0x1fd70b,_0x255c9d);}[_0x1af94f(0x4dd)](_0x188435){const _0x393470=_0x1af94f;this[_0x393470(0x9b4)][_0x393470(0x907)](_0x188435)&&(clearTimeout(this[_0x393470(0x9b4)][_0x393470(0x70a)](_0x188435)),this['subscriptionRequestTimeouts'][_0x393470(0x8e1)](_0x188435));}[_0x1af94f(0x47d)](_0x43fcc4,_0x524c41,_0x3b3ac5,_0x33cd1d,_0x34a7fc,_0x56ab32){const _0x594e25=_0x1af94f;this[_0x594e25(0x4dd)](_0x34a7fc),this[_0x594e25(0x9b4)][_0x594e25(0x81a)](_0x34a7fc,setTimeout(()=>{const _0x7df34a=_0x594e25;this[_0x7df34a(0x9b4)][_0x7df34a(0x8e1)](_0x34a7fc);try{const _0x14ba7d=_0x56ab32[_0x7df34a(0x6f4)]();this[_0x7df34a(0x9f2)](_0x14ba7d,_0x524c41,_0x43fcc4,_0x34a7fc,_0x3b3ac5);}catch(_0x5d081f){this['handleNoAnswer'](_0x43fcc4,_0x524c41,_0x3b3ac5,_0x33cd1d);}},0x7d0));}[_0x1af94f(0x4a0)](_0x4bb95f,_0x450270,_0x115db1,_0x4f7490,_0x1bdbf3){const _0x104f0e=_0x1af94f,{subscriptionLabel:_0x56cfa1}=this[_0x104f0e(0x197)](_0x450270,_0x4f7490),_0x26e0dd=this['getMediaSubscription'](_0x56cfa1),_0x356dd=_0x26e0dd?.[_0x104f0e(0x63c)];_0x26e0dd&&(_0x26e0dd['unsubscribe'](_0x4f7490,0x0),this[_0x104f0e(0xa45)](_0x115db1,_0xb0907f[_0x104f0e(0x178)]['Media'],_0x4bb95f)),this['requestSubscription'](_0x450270,_0x4f7490,_0x1bdbf3,_0x356dd);}['getMediaSubscription'](_0x2e59f9){const _0x568067=_0x1af94f,_0x54e8a7=this['maps']['subscriptions'][_0x568067(0x70a)](_0x2e59f9);if(_0x54e8a7){if(!(_0x54e8a7 instanceof _0x2f6513))throw new _0x3c8547(_0x3c8547['codes'][_0x568067(0x64f)],{'label':_0x2e59f9,'subscription':_0x54e8a7});return _0x54e8a7;}}[_0x1af94f(0x197)](_0x5dfa01,_0x283901){const _0x43f846=_0x1af94f,_0x5d44c9=this[_0x43f846(0x668)](_0x5dfa01,_0x283901);return{'parts':_0x5d44c9,'subscriptionLabel':_0xa14b59(_0x291d7e[_0x43f846(0x768)],_0x5d44c9)};}[_0x1af94f(0x668)](_0x263aa4,_0x57f0fc){const _0x312199=_0x1af94f,_0x2814c5=this[_0x312199(0x45b)][_0x312199(0x9ba)]['getRemoteMediaStream'](_0x57f0fc,_0x263aa4),_0x6c0b11=_0x2814c5[_0x312199(0x112)]();if(!_0x6c0b11)throw new _0x3c8547(_0x3c8547[_0x312199(0x700)][_0x312199(0x943)],{'label':_0x263aa4,'streamId':_0x2814c5['getInternalStreamId'](),'ownerId':_0x57f0fc,'localId':this['configs'][_0x312199(0x658)][_0x312199(0x8f3)]()});return{'contentType':_0xb0907f[_0x312199(0x178)][_0x312199(0x6af)],'label':_0x2814c5[_0x312199(0x347)](),'remoteId':_0x6c0b11};}['cleanOldSubscription'](_0x9f0a39,_0x203848,_0x3d64f8,_0x36182e){const _0x20ff8b=_0x1af94f,_0x41d2ea=_0x36182e[_0x20ff8b(0x112)]();if(_0x41d2ea&&_0x41d2ea!==_0x9f0a39[_0x20ff8b(0x1ec)]){const {parts:_0x504886,subscriptionLabel:_0x300599}=this[_0x20ff8b(0x197)](_0x3d64f8,_0x203848),_0xfb76df=this[_0x20ff8b(0x2c0)](_0x300599);_0xfb76df&&(_0xfb76df[_0x20ff8b(0x885)](_0x203848,0x0),this[_0x20ff8b(0xa45)](_0x504886[_0x20ff8b(0xf1)],_0x504886[_0x20ff8b(0x521)],_0x504886[_0x20ff8b(0x209)]));}}}class _0x31bc7c{[_0x1af94f(0x45b)];[_0x1af94f(0x8da)];[_0x1af94f(0x855)];constructor(_0x1d8e5d,_0x20bf41){const _0x128135=_0x1af94f;this['configs']=_0x1d8e5d,this[_0x128135(0x8da)]=_0x20bf41,this[_0x128135(0x855)]=new _0x1cefc6(({source:_0x368609,destination:_0x35e9bd})=>_0x3c147a(_0x368609,_0x35e9bd));}[_0x1af94f(0xa50)](_0x25158f,_0x543207){const _0x308c81=_0x1af94f,_0x40c268={'source':_0x25158f,'destination':_0x543207};this[_0x308c81(0x855)]['createSubscription'](_0x291d7e['Outgoing'],_0x40c268);}[_0x1af94f(0xa45)](_0x1beb5,_0x3632e8,_0x43464d=''){const _0x449cec=_0x1af94f,_0x343304={'contentType':_0x3632e8,'label':_0x1beb5,'remoteId':_0x43464d};this[_0x449cec(0x855)][_0x449cec(0xa45)](_0x343304,_0x291d7e[_0x449cec(0x104)]);}[_0x1af94f(0x4a3)](_0x25fcbc,_0x3ca1d0){const _0x4de0d5=_0x1af94f;let _0x5ca632;_0x5ca632=_0x3ca1d0[_0x4de0d5(0x4af)]!==this['configs']['localNode'][_0x4de0d5(0x8f3)]()?this[_0x4de0d5(0x45b)][_0x4de0d5(0x9ba)][_0x4de0d5(0x9ae)](_0x3ca1d0[_0x4de0d5(0x4af)],_0x3ca1d0[_0x4de0d5(0xf1)]):this['configs']['mediator'][_0x4de0d5(0x96e)](_0x3ca1d0[_0x4de0d5(0xf1)]);const _0x31434b=_0xa14b59(_0x291d7e['Outgoing'],{'contentType':_0xb0907f[_0x4de0d5(0x178)][_0x4de0d5(0x6af)],'label':_0x5ca632[_0x4de0d5(0x9ac)](),'remoteId':_0x25fcbc}),_0x2370c1=this[_0x4de0d5(0x6f7)]();if(!this[_0x4de0d5(0x855)][_0x4de0d5(0x25b)][_0x4de0d5(0x907)](_0x31434b)&&_0x2370c1>=this['maxOutgoingSubscriptions'])return{'type':_0x5f1baf[_0x4de0d5(0x6b5)],'ownerId':_0x3ca1d0[_0x4de0d5(0x4af)],'label':_0x3ca1d0[_0x4de0d5(0xf1)],'streamId':_0x5ca632[_0x4de0d5(0x9ac)](),'trackKinds':_0x3ca1d0[_0x4de0d5(0x5b9)],'params':_0x3ca1d0[_0x4de0d5(0x63c)]};_0x5ca632 instanceof _0x52dee0&&!_0x5ca632[_0x4de0d5(0x963)](_0x3ca1d0[_0x4de0d5(0x5b9)])&&_0x5ca632['subscribe'](_0x3ca1d0[_0x4de0d5(0x63c)]),this[_0x4de0d5(0x855)][_0x4de0d5(0x25b)][_0x4de0d5(0x907)](_0x31434b)||this['createSubscription'](_0x5ca632[_0x4de0d5(0x75e)](_0x25fcbc),this[_0x4de0d5(0x45b)][_0x4de0d5(0x9ba)][_0x4de0d5(0x331)](_0x25fcbc));}[_0x1af94f(0xa59)](_0xd7dcba,{label:_0x38f4a9,ownerId:_0x4efe29,remainingTracks:_0x33f752}){const _0x59a292=_0x1af94f;if(_0x33f752>0x0)return;let _0x3b36b8;_0x3b36b8=_0x4efe29!==this['configs']['localNode'][_0x59a292(0x8f3)]()?this['configs']['mediator'][_0x59a292(0x9ae)](_0x4efe29,_0x38f4a9):this['configs'][_0x59a292(0x9ba)]['getLocalMediaStream'](_0x38f4a9);const _0x113efe=_0x3b36b8[_0x59a292(0x9ac)](),_0x3b1fdd=_0xb0907f[_0x59a292(0x178)][_0x59a292(0x6af)];this[_0x59a292(0xa45)](_0x113efe,_0x3b1fdd,_0xd7dcba);}[_0x1af94f(0x68d)](_0x1a7ce4,{label:_0x3114b8,ownerId:_0x36ef05,trackKinds:_0x24448d}){const _0x850e59=_0x1af94f;if(_0x1a7ce4!==_0x50bf9f)return[];let _0x5014fc=[];for(const _0x2a7902 of this[_0x850e59(0x855)]['subscriptions']){const {source:_0x545e64,destination:_0x29aef0}=_0x2a7902[0x1];_0x545e64[_0x850e59(0x8c4)]()===_0x3114b8&&_0x545e64['getOwnerId']()===_0x36ef05&&_0x5014fc[_0x850e59(0x3d6)]({'sourceId':this['configs'][_0x850e59(0x658)][_0x850e59(0x8f3)](),'destinationIds':[_0x29aef0[_0x850e59(0x56a)]()],'messageType':_0x502914[_0x850e59(0x62c)],'content':{'type':_0x5f1baf[_0x850e59(0x854)],'label':_0x3114b8,'ownerId':_0x36ef05,'trackKinds':_0x24448d}});}return _0x5014fc;}['handleSubscriptionNeedMediaStream'](_0x3ea5d2,_0x3468e7){const _0x256e98=_0x1af94f,{label:_0x15177d,ownerId:_0x4e3487,trackKinds:_0x1e9a96,params:_0x424185}=_0x3468e7,{hasTracks:_0x4b2473,streamId:_0x26cfd3,hasResolution:_0x19022c,distance:_0x414207,subscriptionLabel:_0x28e19b}=this[_0x256e98(0x8b5)](_0x3ea5d2,_0x3468e7);let _0x1d2668=this[_0x256e98(0x6f7)]()<this['maxOutgoingSubscriptions']&&(_0x4b2473||_0x414207>-0x1)?_0x5f1baf[_0x256e98(0x381)]:_0x5f1baf[_0x256e98(0x1f2)];const _0x2f45d9=_0x414207<0x0?0xa:_0x414207;let _0x48a79b=_0x4b2473?_0x19022c?_0x2f45d9:_0x2f45d9+0x0:_0x2f45d9+0xa;return _0x28e19b&&this[_0x256e98(0x855)][_0x256e98(0x25b)]['has'](_0x28e19b)&&(_0x4b2473&&(_0x48a79b=0x0),_0x1d2668=_0x5f1baf[_0x256e98(0x381)]),{'type':_0x1d2668,'cost':_0x48a79b,'distance':_0x414207,'label':_0x15177d,'ownerId':_0x4e3487,'streamId':_0x26cfd3,'trackKinds':_0x1e9a96,'params':_0x424185};}[_0x1af94f(0x356)](_0x36398b){const _0x25407b=_0x1af94f,{label:_0x3797f0,ownerId:_0x4e187a}=_0x36398b,_0x43f532=this['configs'][_0x25407b(0x9ba)][_0x25407b(0x9ae)](_0x4e187a,_0x3797f0);this[_0x25407b(0x855)]['subscriptions'][_0x25407b(0x333)](_0x3ce47c=>{const _0x1c52f2=_0x25407b;if(_0x3ce47c['source']['getInternalStreamId']()===_0x43f532[_0x1c52f2(0x9ac)]()){const _0x59bd7a=_0x3ce47c['destination'];this[_0x1c52f2(0xa45)](_0x43f532[_0x1c52f2(0x9ac)](),_0xb0907f[_0x1c52f2(0x178)][_0x1c52f2(0x6af)],_0x59bd7a[_0x1c52f2(0x56a)]());}});}[_0x1af94f(0x483)]({label:_0x337aac}){const _0x28f04b=_0x1af94f,_0x3a06b8=this[_0x28f04b(0x45b)][_0x28f04b(0x9ba)][_0x28f04b(0x96e)](_0x337aac);this[_0x28f04b(0x855)][_0x28f04b(0x25b)][_0x28f04b(0x333)](_0x1c9f93=>{const _0xcf7b14=_0x28f04b;if(_0x1c9f93[_0xcf7b14(0x513)]['getInternalStreamId']()===_0x3a06b8[_0xcf7b14(0x9ac)]()){const _0x48437a=_0x1c9f93[_0xcf7b14(0x7c4)];this[_0xcf7b14(0xa45)](_0x3a06b8['getShareableStreamId'](),_0xb0907f['ContentType']['Media'],_0x48437a[_0xcf7b14(0x56a)]());}});}['removeSubscriptionsForNode'](_0xb0c776){const _0x177e52=_0x1af94f;this[_0x177e52(0x855)][_0x177e52(0x753)](_0xb0c776);}[_0x1af94f(0x92f)](){const _0x2574e5=_0x1af94f;this[_0x2574e5(0x855)][_0x2574e5(0x25b)][_0x2574e5(0x333)](this[_0x2574e5(0x14d)]['bind'](this));}[_0x1af94f(0x14d)](_0x344f06,_0x41003f){const _0x1714ea=_0x1af94f;this['maps'][_0x1714ea(0x14d)](_0x344f06,_0x41003f);}[_0x1af94f(0x8b5)](_0x499038,{label:_0x579d8b,ownerId:_0x1a7fae,trackKinds:_0x33b25e,params:_0x4ed75a}){const _0x41ecbc=_0x1af94f;if(_0x1a7fae!==this['configs'][_0x41ecbc(0x658)][_0x41ecbc(0x8f3)]()){const _0x47e6f3=this['configs'][_0x41ecbc(0x9ba)]['getRemoteMediaStream'](_0x1a7fae,_0x579d8b);return _0x47e6f3&&_0x47e6f3[_0x41ecbc(0x112)]()!==_0x499038?{'hasTracks':_0x47e6f3[_0x41ecbc(0x89c)](_0x33b25e),'hasResolution':this[_0x41ecbc(0x480)](_0x47e6f3[_0x41ecbc(0x217)](),_0x4ed75a),'streamId':_0x47e6f3[_0x41ecbc(0x9ac)](),'distance':this[_0x41ecbc(0x45b)][_0x41ecbc(0x9ba)][_0x41ecbc(0x9bd)](_0x499038,_0x1a7fae),'subscriptionLabel':_0xa14b59(_0x291d7e[_0x41ecbc(0x104)],{'contentType':_0xb0907f[_0x41ecbc(0x178)][_0x41ecbc(0x6af)],'label':_0x47e6f3[_0x41ecbc(0x9ac)](),'remoteId':_0x499038})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x430b59=this[_0x41ecbc(0x45b)]['mediator'][_0x41ecbc(0x96e)](_0x579d8b);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x430b59['getShareableStreamId'](),'distance':0x0,'subscriptionLabel':_0xa14b59(_0x291d7e[_0x41ecbc(0x104)],{'contentType':_0xb0907f['ContentType']['Media'],'label':_0x430b59['getShareableStreamId'](),'remoteId':_0x499038})};}[_0x1af94f(0x6f7)](){const _0x3b2d21=_0x1af94f;return Array[_0x3b2d21(0x13b)](this[_0x3b2d21(0x855)][_0x3b2d21(0x25b)][_0x3b2d21(0xa3a)]())[_0x3b2d21(0x7e0)](([_0x5360f8,{source:_0x39b2e4}])=>_0x5360f8[_0x3b2d21(0x4f2)](_0x291d7e[_0x3b2d21(0x104)])&&_0x39b2e4[_0x3b2d21(0x8f7)]()===_0xb0907f[_0x3b2d21(0x178)][_0x3b2d21(0x6af)])[_0x3b2d21(0x71c)];}[_0x1af94f(0x480)](_0x5a75d4,_0x18ad7e){const _0x1b0cdb=_0x1af94f;if(!_0x18ad7e||!_0x18ad7e[_0x1b0cdb(0x228)]||'boolean'==typeof _0x18ad7e[_0x1b0cdb(0x228)]||!_0x18ad7e[_0x1b0cdb(0x228)]['maxResolution'])return!0x0;const {width:_0x3cfec9,height:_0x53a70e}=_0x18ad7e[_0x1b0cdb(0x228)]['maxResolution'];return _0x5a75d4[_0x1b0cdb(0x52d)]>=_0x3cfec9&&_0x5a75d4['height']>=_0x53a70e;}}class _0xe34168{[_0x1af94f(0x45b)];[_0x1af94f(0x8da)];[_0x1af94f(0xf4)];[_0x1af94f(0x316)];[_0x1af94f(0x5a8)];[_0x1af94f(0x161)];constructor(_0x27399c,_0x4d45e3,_0x486ee4){const _0x1fe8ff=_0x1af94f;this['configs']=_0x27399c,this[_0x1fe8ff(0x8da)]=_0x4d45e3,this[_0x1fe8ff(0xf4)]=_0x486ee4,this['configs'][_0x1fe8ff(0x9ba)][_0x1fe8ff(0x7cc)](this),this[_0x1fe8ff(0x5a8)]=new _0x402eb7(this['configs'],this[_0x1fe8ff(0xf4)]),this[_0x1fe8ff(0x161)]=new _0x31bc7c(this[_0x1fe8ff(0x45b)],this[_0x1fe8ff(0x8da)]);}['registerSystemPublisher'](_0x274253){this['systemTopic']=_0x274253;}[_0x1af94f(0x466)](){delete this['systemTopic'];}[_0x1af94f(0x92f)](){const _0x1b7768=_0x1af94f;this[_0x1b7768(0x5a8)][_0x1b7768(0x92f)](),this[_0x1b7768(0x161)][_0x1b7768(0x92f)](),this[_0x1b7768(0x45b)][_0x1b7768(0x9ba)][_0x1b7768(0x33d)](this);}['createIncomingSubscription'](_0x5982d8,_0x8b859c){const _0x3e047a=_0x1af94f;this[_0x3e047a(0x5a8)][_0x3e047a(0xa50)](_0x5982d8,_0x8b859c);}[_0x1af94f(0x448)](_0x27b533,_0x1cf6b9){const _0x19c451=_0x1af94f;this['outgoingManager'][_0x19c451(0xa50)](_0x27b533,_0x1cf6b9);}[_0x1af94f(0x3af)](_0x33ba72,_0x3d243d,_0xc87b14=''){const _0x4e16cf=_0x1af94f;this['incomingManager'][_0x4e16cf(0xa45)](_0x33ba72,_0x3d243d,_0xc87b14);}[_0x1af94f(0x4ca)](_0x3abead,_0x27f6f2,_0x2e7624=''){const _0x17d85c=_0x1af94f;try{this[_0x17d85c(0x161)][_0x17d85c(0xa45)](_0x3abead,_0x27f6f2,_0x2e7624);}catch(_0x34cfc1){if(_0x34cfc1 instanceof _0x3c8547&&_0x34cfc1[_0x17d85c(0x17a)]===_0x3c8547[_0x17d85c(0x700)][_0x17d85c(0x64f)])return;}}[_0x1af94f(0x935)](_0x31582a){const _0x54f255=_0x1af94f;switch(_0x31582a['content'][_0x54f255(0x44f)]){case _0x5f1baf[_0x54f255(0x6de)]:this[_0x54f255(0x4a3)](_0x31582a['sourceId'],_0x31582a[_0x54f255(0x3fe)]);break;case _0x5f1baf[_0x54f255(0x8c8)]:this[_0x54f255(0x161)]['handleSubscriptionUnsubscribeMediaStream'](_0x31582a[_0x54f255(0x825)],_0x31582a['content']);break;case _0x5f1baf[_0x54f255(0xa27)]:this[_0x54f255(0x1f4)](_0x31582a[_0x54f255(0x825)],_0x31582a[_0x54f255(0x3fe)]);break;case _0x5f1baf[_0x54f255(0x6b5)]:this['incomingManager'][_0x54f255(0x468)](_0x31582a[_0x54f255(0x825)],_0x31582a[_0x54f255(0x3fe)]);break;case _0x5f1baf[_0x54f255(0x381)]:case _0x5f1baf['CannotProvideMediaStream']:this[_0x54f255(0x5a8)][_0x54f255(0x833)](_0x31582a[_0x54f255(0x825)],_0x31582a[_0x54f255(0x3fe)]);break;case _0x5f1baf[_0x54f255(0x854)]:this['incomingManager'][_0x54f255(0x9d2)](_0x31582a[_0x54f255(0x825)],_0x31582a[_0x54f255(0x3fe)]);}}['handleContentSystemEvents'](_0x376095){const _0x9bead2=_0x1af94f;switch(_0x376095[_0x9bead2(0x3fe)][_0x9bead2(0x44f)]){case _0x20f4a0[_0x9bead2(0x95c)]:this[_0x9bead2(0x5a8)][_0x9bead2(0x356)](_0x376095[_0x9bead2(0x3fe)]),this[_0x9bead2(0x161)][_0x9bead2(0x356)](_0x376095[_0x9bead2(0x3fe)]);break;case _0x20f4a0[_0x9bead2(0x6de)]:this[_0x9bead2(0x5a8)][_0x9bead2(0x6cd)](_0x376095[_0x9bead2(0x3fe)]);break;case _0x20f4a0['UpdateMediaStream']:this[_0x9bead2(0x5a8)][_0x9bead2(0x409)](_0x376095[_0x9bead2(0x3fe)]);break;case _0x20f4a0[_0x9bead2(0x8c8)]:this[_0x9bead2(0x68d)](_0x376095['sourceId'],_0x376095[_0x9bead2(0x3fe)]);break;case _0x20f4a0[_0x9bead2(0x762)]:this[_0x9bead2(0x161)][_0x9bead2(0x483)](_0x376095[_0x9bead2(0x3fe)]);break;case _0x20f4a0['ClosePubSubTopic']:this[_0x9bead2(0x2f2)](_0x376095[_0x9bead2(0x3fe)][_0x9bead2(0xf1)],_0xb0907f['ContentType']['PubSub']);break;case _0x20f4a0[_0x9bead2(0x8f8)]:this[_0x9bead2(0x2f2)](_0x376095[_0x9bead2(0x3fe)][_0x9bead2(0xf1)],_0xb0907f[_0x9bead2(0x178)][_0x9bead2(0x196)]);break;case _0x20f4a0[_0x9bead2(0x3a1)]:this[_0x9bead2(0x2f2)](_0x376095[_0x9bead2(0x3fe)][_0x9bead2(0xf1)],_0xb0907f[_0x9bead2(0x178)]['ExternalStorage']);break;case _0x20f4a0['CloseKeyValueDatabase']:this['handleCloseContent'](_0x376095[_0x9bead2(0x3fe)][_0x9bead2(0xf1)],_0xb0907f['ContentType'][_0x9bead2(0x22d)]);break;case _0x20f4a0['CloseVectorDatabase']:this['handleCloseContent'](_0x376095[_0x9bead2(0x3fe)][_0x9bead2(0xf1)],_0xb0907f[_0x9bead2(0x178)][_0x9bead2(0x21e)]);break;case _0x20f4a0[_0x9bead2(0x517)]:this[_0x9bead2(0x2f2)](_0x376095[_0x9bead2(0x3fe)][_0x9bead2(0xf1)],_0xb0907f[_0x9bead2(0x178)][_0x9bead2(0x835)]);break;case _0x20f4a0[_0x9bead2(0x945)]:case _0x20f4a0[_0x9bead2(0x3a4)]:this['handleCloseContent'](_0x376095[_0x9bead2(0x3fe)][_0x9bead2(0xf1)],_0xb0907f[_0x9bead2(0x178)][_0x9bead2(0x2c1)]);break;case _0x20f4a0[_0x9bead2(0x40b)]:this[_0x9bead2(0x5a8)]['handleContentRemoteMediaStreamTrackFail'](_0x376095[_0x9bead2(0x3fe)]);}}['handleNodeSystemEvents']({content:_0x3645bf}){const _0x46ca28=_0x1af94f;_0x3645bf[_0x46ca28(0x44f)]===_0x4f0fdf[_0x46ca28(0x18b)]&&this[_0x46ca28(0x753)](_0x3645bf);}[_0x1af94f(0x635)](_0x52e41f){const _0x29f06d=_0x1af94f;_0x52e41f[_0x29f06d(0x3fe)][_0x29f06d(0x44f)]===_0xba45aa[_0x29f06d(0x242)]&&this['incomingManager'][_0x29f06d(0x882)](_0x52e41f[_0x29f06d(0x825)]);}[_0x1af94f(0x68d)](_0x43f96b,_0x3dfe9a){const _0x1155cc=_0x1af94f;this['incomingManager'][_0x1155cc(0x68d)](_0x3dfe9a),this[_0x1155cc(0x161)][_0x1155cc(0x68d)](_0x43f96b,_0x3dfe9a)[_0x1155cc(0x333)](_0x4ed4c2=>this[_0x1155cc(0x316)][_0x1155cc(0x3ec)](_0x4ed4c2));}[_0x1af94f(0x4a3)](_0x29cb83,_0x421816){const _0x38738d=_0x1af94f,_0x10faab=this[_0x38738d(0x161)][_0x38738d(0x4a3)](_0x29cb83,_0x421816);if(_0x10faab&&(this[_0x38738d(0x316)][_0x38738d(0x3ec)]({'sourceId':this[_0x38738d(0x45b)]['localNode'][_0x38738d(0x8f3)](),'destinationIds':[_0x29cb83],'messageType':_0x502914[_0x38738d(0x62c)],'content':_0x10faab}),_0x10faab[_0x38738d(0x44f)]===_0x5f1baf[_0x38738d(0x6b5)]))throw new _0x446b55(_0x38738d(0x6a6));}['handleSubscriptionNeedMediaStream'](_0x2b4042,_0x246cc2){const _0x57f50c=_0x1af94f,_0xacee32=this[_0x57f50c(0x161)][_0x57f50c(0x1f4)](_0x2b4042,_0x246cc2);this['systemTopic'][_0x57f50c(0x3ec)]({'sourceId':this[_0x57f50c(0x45b)][_0x57f50c(0x658)][_0x57f50c(0x8f3)](),'destinationIds':[_0x2b4042],'messageType':_0x502914[_0x57f50c(0x62c)],'content':_0xacee32});}['handleCloseContent'](_0x4c7d8e,_0x8e056c){this['removeIncomingSubscription'](_0x4c7d8e,_0x8e056c),this['removeOutgoingSubscription'](_0x4c7d8e,_0x8e056c);}['removeSubscriptionsForNode']({id:_0x3eb10a}){const _0x3fad5c=_0x1af94f;this[_0x3fad5c(0x5a8)]['removeSubscriptionsForNode'](_0x3eb10a),this[_0x3fad5c(0x161)]['removeSubscriptionsForNode'](_0x3eb10a);}}class _0x5e89ab{[_0x1af94f(0xf1)];[_0x1af94f(0x843)]=_0x69b7e5();constructor(){const _0xb050f0=_0x1af94f;this[_0xb050f0(0xf1)]=0x0;}[_0x1af94f(0x8c4)](){const _0x46b52f=_0x1af94f;return this[_0x46b52f(0xf1)];}[_0x1af94f(0x8f7)](){const _0x54bfd4=_0x1af94f;return _0xb0907f[_0x54bfd4(0x178)]['Data'];}[_0x1af94f(0x9f9)](_0x5afcd7){const _0x4e2c68=_0x1af94f;_0x5afcd7[_0x4e2c68(0x412)](this);}['unregisterSource'](_0x1ef2ac){const _0xb167dd=_0x1af94f;_0x1ef2ac[_0xb167dd(0x466)]();}[_0x1af94f(0x3ec)](_0x243939){const _0x5234c9=_0x1af94f;_0x5999e0[_0x5234c9(0x15c)](_0x53526a[_0x5234c9(0xa43)],_0x5234c9(0x719),_0x243939[_0x5234c9(0x825)],_0x243939),this[_0x5234c9(0x843)][_0x5234c9(0x3ec)]({'topicLabel':this[_0x5234c9(0xf1)],'contentType':_0xb0907f[_0x5234c9(0x178)][_0x5234c9(0x5a0)],'uuid':_0x243939['uuid']??(0x0,_0x2a820b['v4'])(),'recipients':_0x243939[_0x5234c9(0x369)]??[],..._0x243939});}[_0x1af94f(0x9f2)](_0x4d6ecc){const _0x4799c7=_0x1af94f;return this['listener'][_0x4799c7(0x9f2)](_0x4d6ecc);}}class _0x4dd726{[_0x1af94f(0x9b8)];['ranges']=[];['maxLayer'];['remoteNodes']=new Map();['nodeUpdate']=_0x69b7e5();constructor(_0x271a93){const _0x38aa01=_0x1af94f;this[_0x38aa01(0x9b8)]=_0x271a93,this[_0x38aa01(0x547)]=(this[_0x38aa01(0x9b8)][_0x38aa01(0x45f)]-0x2*this[_0x38aa01(0x9b8)][_0x38aa01(0x9db)])/0x2,this[_0x38aa01(0x61a)][_0x38aa01(0x3d6)]({'start':0x1,'end':this['getNextTargetRank'](0x1,0x1)-0x1});for(let _0x597c21=0x0;_0x597c21<this[_0x38aa01(0x547)];++_0x597c21)this[_0x38aa01(0x61a)][_0x38aa01(0x3d6)]({'start':this[_0x38aa01(0x192)](0x1,_0x597c21+0x1),'end':this['getNextTargetRank'](0x1,_0x597c21+0x2)-0x1});}[_0x1af94f(0x192)](_0xb5d8ce,_0x29d4a8=0x1){const _0x56b26c=_0x1af94f;let _0x4a7360=this[_0x56b26c(0x9b8)][_0x56b26c(0xf4)]-this[_0x56b26c(0x9b8)][_0x56b26c(0x9db)],_0x50114d=0x1;for(let _0xe9ea46=0x1;_0xe9ea46<_0x29d4a8;++_0xe9ea46)_0x4a7360*=this[_0x56b26c(0x9b8)][_0x56b26c(0xf4)]-this[_0x56b26c(0x9b8)][_0x56b26c(0x9db)]-_0xe9ea46,_0x50114d*=this['options'][_0x56b26c(0xf4)]-this[_0x56b26c(0x9b8)][_0x56b26c(0x9db)]-_0xe9ea46+0x1;return _0x4a7360*this[_0x56b26c(0x9b8)][_0x56b26c(0x9db)]+_0xb5d8ce-_0x50114d;}[_0x1af94f(0x9b9)](_0x1f86e8){const _0x584a3e=_0x1af94f;let _0x1f5b47=0x0;for(;this[_0x584a3e(0x61a)][_0x1f5b47][_0x584a3e(0x5ae)]<_0x1f86e8;)_0x1f5b47+=0x1;return _0x1f5b47;}[_0x1af94f(0x89a)](){const _0x1de39a=_0x1af94f;return this[_0x1de39a(0x9b8)][_0x1de39a(0x9db)];}[_0x1af94f(0x6a0)](){const _0x112539=_0x1af94f;return this[_0x112539(0x9b8)]['maxConnections'];}[_0x1af94f(0x277)](){const _0x1e9466=_0x1af94f;return this['options'][_0x1e9466(0xf4)];}[_0x1af94f(0xa4c)](){const _0x4a9aef=_0x1af94f;return this[_0x4a9aef(0x6f3)];}['setRemoteNode'](_0xf37944,_0x48a6fb){const _0x29d5c4=_0x1af94f;this[_0x29d5c4(0x6f3)]['set'](_0xf37944,_0x48a6fb),this[_0x29d5c4(0x5d5)][_0x29d5c4(0x3ec)]();}[_0x1af94f(0x80c)](_0x3599a4){const _0x1fd886=_0x1af94f;this[_0x1fd886(0x6f3)][_0x1fd886(0x8e1)](_0x3599a4),this['nodeUpdate']['publish']();}[_0x1af94f(0x5ee)](_0x260f2f){const _0x5bcc89=_0x1af94f;return this['remoteNodes'][_0x5bcc89(0x907)](_0x260f2f);}[_0x1af94f(0x6aa)](_0x1a9fc3){const _0x1817cb=_0x1af94f;return this[_0x1817cb(0x6f3)][_0x1817cb(0x70a)](_0x1a9fc3);}[_0x1af94f(0x253)](_0x2df788,_0x2a2de7){const _0x11b6e8=_0x1af94f,_0x15e464=this[_0x11b6e8(0x6aa)](_0x2a2de7)?.[_0x11b6e8(0x2d8)]()??0x0;return _0x2df788[_0x11b6e8(0x7d0)](_0x5aa743=>this[_0x11b6e8(0x6aa)](_0x5aa743))['filter'](_0x11155e=>void 0x0!==_0x11155e)['sort']((_0x476f80,_0x36f9d3)=>Math[_0x11b6e8(0x6e8)](_0x15e464-(_0x476f80&&_0x476f80[_0x11b6e8(0x2d8)]()||0x1/0x0))-Math[_0x11b6e8(0x6e8)](_0x15e464-(_0x36f9d3&&_0x36f9d3[_0x11b6e8(0x2d8)]()||0x1/0x0)))[_0x11b6e8(0x7d0)](_0x1c5561=>_0x1c5561[_0x11b6e8(0x8f3)]());}[_0x1af94f(0x527)](_0x3b00b7){const _0x449032=_0x1af94f;return this[_0x449032(0x5d5)]['subscribe'](_0x3b00b7);}}class _0x414eaf{['vendorId'];[_0x1af94f(0x230)];[_0x1af94f(0x838)];[_0x1af94f(0x589)];[_0x1af94f(0x9b8)];[_0x1af94f(0x45b)];[_0x1af94f(0x62b)];['contentManager'];['connectionManager'];[_0x1af94f(0x877)];[_0x1af94f(0x251)];[_0x1af94f(0x9da)];[_0x1af94f(0x16d)];[_0x1af94f(0x8c1)];[_0x1af94f(0x344)];[_0x1af94f(0x316)]=new _0x5e89ab();[_0x1af94f(0x669)];[_0x1af94f(0x658)];constructor(_0x392bea,_0x15fe3c,_0x3b5b7d,_0x245c6c,_0x19b4bc,_0x5d2ee5,_0x41743){const _0x3e87d8=_0x1af94f;switch(this[_0x3e87d8(0x90c)]=_0x392bea,this['clusterId']=_0x15fe3c,this[_0x3e87d8(0x838)]=_0x3b5b7d,this['authService']=_0x245c6c,this[_0x3e87d8(0x9b8)]=_0x19b4bc,this['configs']=_0x5d2ee5,this[_0x3e87d8(0x62b)]=_0x41743,_0x3b5b7d['type']){case _0xb0907f['NodeType'][_0x3e87d8(0x551)]:this[_0x3e87d8(0x658)]=new _0x1c1517(_0x3b5b7d[_0x3e87d8(0x8f3)](),_0x3b5b7d[_0x3e87d8(0x87c)](),_0x3b5b7d[_0x3e87d8(0x693)]());break;case _0xb0907f[_0x3e87d8(0x116)][_0x3e87d8(0x58e)]:default:this[_0x3e87d8(0x658)]=new _0x13f743(_0x3b5b7d[_0x3e87d8(0x8f3)]());}const _0x3d9921=this[_0x3e87d8(0x898)]();this[_0x3e87d8(0x344)]=new _0x4dd726(this[_0x3e87d8(0x9b8)]),this[_0x3e87d8(0x62f)]=new _0x5ab987(_0x3d9921,this[_0x3e87d8(0x9b8)],this[_0x3e87d8(0x45b)][_0x3e87d8(0x35a)],this[_0x3e87d8(0x45b)][_0x3e87d8(0x727)]),this[_0x3e87d8(0x79e)]=new _0x323384(_0x3d9921,this['authService'],this[_0x3e87d8(0x344)],this[_0x3e87d8(0x45b)]['iceServers'],this['options']),this[_0x3e87d8(0x877)]=new _0xe34168(_0x3d9921,this[_0x3e87d8(0x9b8)][_0x3e87d8(0x8da)],this[_0x3e87d8(0x344)][_0x3e87d8(0x277)]()),this[_0x3e87d8(0x251)]=new _0x55ae6c(_0x3d9921),this[_0x3e87d8(0x9da)]=new _0x559ceb(_0x3d9921),this[_0x3e87d8(0x16d)]=new _0x3858e9(_0x3d9921),this[_0x3e87d8(0x8c1)]=new _0x550fdf(_0x3d9921,this['graphService']),this['systemTopicUnsubscribe']=this[_0x3e87d8(0x58f)]();}['open'](){const _0x1a02c5=_0x1af94f,_0x4af1f9=this[_0x1a02c5(0x898)]();this[_0x1a02c5(0x79e)]=new _0x323384(_0x4af1f9,this[_0x1a02c5(0x589)],this[_0x1a02c5(0x344)],this[_0x1a02c5(0x45b)][_0x1a02c5(0x4ac)],this[_0x1a02c5(0x9b8)]),this['subscriptionManager']=new _0xe34168(_0x4af1f9,this[_0x1a02c5(0x9b8)][_0x1a02c5(0x8da)],this[_0x1a02c5(0x344)][_0x1a02c5(0x277)]()),this[_0x1a02c5(0x251)]=new _0x55ae6c(_0x4af1f9),this[_0x1a02c5(0x9da)]=new _0x559ceb(_0x4af1f9),this['remediationManager']=new _0x3858e9(_0x4af1f9),this[_0x1a02c5(0x8c1)]=new _0x550fdf(_0x4af1f9,this[_0x1a02c5(0x344)]);const _0x37a5b2=this[_0x1a02c5(0x79e)]['getConnectionGroup']();this[_0x1a02c5(0x62f)][_0x1a02c5(0x967)]()[_0x1a02c5(0x333)](_0x38457e=>{const _0x4ae383=_0x1a02c5;this[_0x4ae383(0x877)][_0x4ae383(0x448)](_0x38457e,_0x37a5b2),this['subscriptionManager'][_0x4ae383(0x5bb)](_0x37a5b2,_0x38457e),_0x38457e[_0x4ae383(0x9b6)]();}),this['contentManager']['getObjectStoreBuckets']()[_0x1a02c5(0x333)](_0x3f7bae=>{const _0x160584=_0x1a02c5;this['subscriptionManager']['createOutgoingSubscription'](_0x3f7bae,_0x37a5b2),this[_0x160584(0x877)][_0x160584(0x5bb)](_0x37a5b2,_0x3f7bae),_0x3f7bae['reset'](),_0x3f7bae[_0x160584(0x445)]();}),this['contentManager']['getKeyValueDatabases']()[_0x1a02c5(0x333)](_0x4edb70=>{const _0x33af26=_0x1a02c5;this[_0x33af26(0x877)][_0x33af26(0x448)](_0x4edb70,_0x37a5b2),this[_0x33af26(0x877)][_0x33af26(0x5bb)](_0x37a5b2,_0x4edb70),_0x4edb70[_0x33af26(0x9b6)](),this['syncKeyValueDatabase'](_0x4edb70);}),this[_0x1a02c5(0x62f)][_0x1a02c5(0x475)]()[_0x1a02c5(0x333)](_0x4612d4=>{const _0x3a3573=_0x1a02c5;this[_0x3a3573(0x877)]['createOutgoingSubscription'](_0x4612d4,_0x37a5b2),this['subscriptionManager'][_0x3a3573(0x5bb)](_0x37a5b2,_0x4612d4),_0x4612d4[_0x3a3573(0x9b6)]();}),this[_0x1a02c5(0x62f)][_0x1a02c5(0x487)]()['forEach'](_0x1b1505=>{const _0x254566=_0x1a02c5;this[_0x254566(0x877)][_0x254566(0x448)](_0x1b1505,_0x37a5b2),this['subscriptionManager'][_0x254566(0x5bb)](_0x37a5b2,_0x1b1505),_0x1b1505[_0x254566(0x9b6)]();}),this[_0x1a02c5(0x62f)]['getVectorDatabases']()['forEach'](_0xb570e5=>{const _0x8fbd59=_0x1a02c5;this[_0x8fbd59(0x877)][_0x8fbd59(0x448)](_0xb570e5,_0x37a5b2),this[_0x8fbd59(0x877)]['createIncomingSubscription'](_0x37a5b2,_0xb570e5),_0xb570e5[_0x8fbd59(0x9b6)]();}),this[_0x1a02c5(0x62f)][_0x1a02c5(0x1d7)]()['forEach'](_0x286785=>{const _0x2d2225=_0x1a02c5;this[_0x2d2225(0x877)][_0x2d2225(0x448)](_0x286785,_0x37a5b2),this[_0x2d2225(0x877)][_0x2d2225(0x5bb)](_0x37a5b2,_0x286785),_0x286785['reset']();}),this[_0x1a02c5(0x669)]=this['initializeSystemTopic']();}['registerSystemSource'](_0x5f058b){const _0x2c20aa=_0x1af94f;try{this[_0x2c20aa(0x316)][_0x2c20aa(0x9f9)](_0x5f058b);}catch(_0x42427b){this[_0x2c20aa(0x5a1)](_0x42427b,{});}}[_0x1af94f(0x33d)](_0x17e201){const _0x457440=_0x1af94f;try{this[_0x457440(0x316)]['unregisterSource'](_0x17e201);}catch(_0x3bb693){this[_0x457440(0x5a1)](_0x3bb693,{});}}[_0x1af94f(0x8b0)](_0x3eebb8,_0x413af3){const _0x3b0e24=_0x1af94f;return this['connectionManager'][_0x3b0e24(0x8b0)](_0x3eebb8,_0x413af3);}['getConnection'](_0xa1ec1d){const _0x5876ff=_0x1af94f;try{return this[_0x5876ff(0x79e)][_0x5876ff(0x331)](_0xa1ec1d);}catch(_0x4e5752){throw this[_0x5876ff(0x5a1)](_0x4e5752,{});}}[_0x1af94f(0xa0a)](_0x1a5d80){const _0x3d482f=_0x1af94f;try{return this['connectionManager'][_0x3d482f(0xa0a)](_0x1a5d80);}catch(_0x6c63a1){throw this['handleError'](_0x6c63a1,{});}}['getRemoteMediaStream'](_0x4abde8,_0x513670){const _0x4dc497=_0x1af94f;try{return this['contentManager'][_0x4dc497(0x1eb)](_0x2d66a3=>_0x2d66a3[_0x4dc497(0x7bd)]()===_0x4abde8&&_0x2d66a3[_0x4dc497(0x8c4)]()===_0x513670)[0x0];}catch(_0x33aedc){throw this[_0x4dc497(0x5a1)](_0x33aedc,{});}}[_0x1af94f(0x96e)](_0x581a93){const _0x5e23eb=_0x1af94f;try{return this[_0x5e23eb(0x62f)][_0x5e23eb(0x421)](_0xfce613=>_0xfce613[_0x5e23eb(0x8c4)]()===_0x581a93)[0x0];}catch(_0x4e6ba9){throw this['handleError'](_0x4e6ba9,{});}}[_0x1af94f(0x114)]=(..._0x8fb7ee)=>{const _0x393a5c=_0x1af94f;try{return this['clusterEventEmitter'][_0x393a5c(0x791)](..._0x8fb7ee);}catch(_0x1c3216){throw this[_0x393a5c(0x5a1)](_0x1c3216,{});}};[_0x1af94f(0x65c)](_0x8a08bd){const _0x4880a3=_0x1af94f;try{this['statsManager'][_0x4880a3(0x830)](_0x8a08bd);}catch(_0x12beca){throw this[_0x4880a3(0x5a1)](_0x12beca,{});}}[_0x1af94f(0x46a)](_0x5aba9e){const _0x375d41=_0x1af94f;try{this[_0x375d41(0x251)][_0x375d41(0x1d1)](_0x5aba9e);}catch(_0x1131aa){throw this[_0x375d41(0x5a1)](_0x1131aa,{});}}[_0x1af94f(0x66f)](_0x2892ca){const _0x52b160=_0x1af94f;return this[_0x52b160(0x79e)][_0x52b160(0x66f)](_0x2892ca);}async['initialize'](){const _0x24ce26=_0x1af94f;try{await this[_0x24ce26(0x79e)]['initialize']();const _0x2615b7=await this['nodeManager'][_0x24ce26(0x2ad)]();for(const _0x553e49 of _0x2615b7)this[_0x24ce26(0x79e)][_0x24ce26(0x8b0)](_0x553e49);}catch(_0x119df7){throw this[_0x24ce26(0x5a1)](_0x119df7,{});}}[_0x1af94f(0x36c)](_0x39abe4){const _0x4863c8=_0x1af94f;this[_0x4863c8(0x658)][_0x4863c8(0x44f)]===_0xb0907f[_0x4863c8(0x116)][_0x4863c8(0x551)]&&(this[_0x4863c8(0x658)]['setEmail'](_0x39abe4[_0x4863c8(0x693)]()),this['localNode']['setDisplayName'](_0x39abe4[_0x4863c8(0x87c)]()));}['close']({force:_0x25488d=!0x1},_0x3f0c84=!0x1){const _0x416a08=_0x1af94f;if(_0x5999e0[_0x416a08(0x949)]('orchestrator-close',{'clusterId':this[_0x416a08(0x230)],'nodeId':this[_0x416a08(0x658)][_0x416a08(0x8f3)](),'nodeType':this['localNode'][_0x416a08(0x44f)]}),!_0x25488d&&this[_0x416a08(0x79e)][_0x416a08(0x96d)]())throw new _0x3b3113(_0x56d472['ConnectionBufferNotEmpty'],_0x416a08(0x146));_0x5999e0[_0x416a08(0xa1e)](),this['systemTopicUnsubscribe'](),this[_0x416a08(0x16d)][_0x416a08(0x92f)](),this[_0x416a08(0x9da)]['close'](),this[_0x416a08(0x251)][_0x416a08(0x92f)](),this[_0x416a08(0x877)][_0x416a08(0x92f)](),this[_0x416a08(0x79e)][_0x416a08(0x92f)](),this[_0x416a08(0x62f)][_0x416a08(0x92f)](_0x3f0c84),this[_0x416a08(0x8c1)]['close']();}[_0x1af94f(0x12e)](_0x429d17){const _0x4d0fd8=_0x1af94f;try{const _0x2b865c=this['contentManager'][_0x4d0fd8(0xa18)](_0x429d17),_0x1d0b0d=this[_0x4d0fd8(0x79e)]['getConnectionGroup']();return this[_0x4d0fd8(0x877)][_0x4d0fd8(0x448)](_0x2b865c,_0x1d0b0d),this[_0x4d0fd8(0x877)]['createIncomingSubscription'](_0x1d0b0d,_0x2b865c),_0x2b865c;}catch(_0x37fb04){throw this['handleError'](_0x37fb04,{});}}async[_0x1af94f(0x696)](_0x5a0b54,_0x469797){const _0x39d4ed=_0x1af94f;try{const _0x43d94a=this[_0x39d4ed(0x62f)][_0x39d4ed(0x7ce)](_0x5a0b54,this[_0x39d4ed(0x9b8)][_0x39d4ed(0x824)],_0x469797),_0xf6fe39=this[_0x39d4ed(0x79e)][_0x39d4ed(0x678)]();return this['subscriptionManager'][_0x39d4ed(0x448)](_0x43d94a,_0xf6fe39),this[_0x39d4ed(0x877)]['createIncomingSubscription'](_0xf6fe39,_0x43d94a),await _0x43d94a[_0x39d4ed(0x445)](),_0x43d94a;}catch(_0x5b973c){throw this[_0x39d4ed(0x5a1)](_0x5b973c,{});}}async[_0x1af94f(0x5e2)](_0x50834c,_0x518bf4){const _0x36da97=_0x1af94f;try{if(!this[_0x36da97(0x9b8)][_0x36da97(0x35f)])throw new _0x3b3113(_0x56d472[_0x36da97(0x840)],_0x36da97(0x87d));if(!(this['authNode']instanceof _0x35c6ab))throw new _0x3b3113(_0x56d472[_0x36da97(0x569)],'Node\x20is\x20not\x20an\x20agent');const _0x225074=this['options']['externalStorageConnectors']['get'](_0x518bf4);if(!_0x225074)throw new _0x3b3113(_0x56d472[_0x36da97(0x840)],_0x36da97(0x87d));const _0x1f8963=this[_0x36da97(0x62f)][_0x36da97(0x38b)](_0x50834c,_0x225074),_0x4a3f8d=this[_0x36da97(0x79e)][_0x36da97(0x678)]();return this[_0x36da97(0x877)][_0x36da97(0x448)](_0x1f8963,_0x4a3f8d),this[_0x36da97(0x877)][_0x36da97(0x5bb)](_0x4a3f8d,_0x1f8963),await _0x1f8963[_0x36da97(0x2de)](),_0x1f8963;}catch(_0x22ecf5){throw this[_0x36da97(0x5a1)](_0x22ecf5,{});}}async[_0x1af94f(0x2c2)](_0x40f9f7,_0x5975d3,_0x1d22b9){const _0x10435a=_0x1af94f;try{_0x1d22b9=_0x1d22b9||this[_0x10435a(0x9b8)][_0x10435a(0x628)];const _0x39d6e0=await this['contentManager']['createKeyValueDatabase'](_0x40f9f7,_0x5975d3,_0x1d22b9),_0xd766d0=this['connectionManager']['getConnectionGroup']();return this['subscriptionManager']['createOutgoingSubscription'](_0x39d6e0,_0xd766d0),this[_0x10435a(0x877)]['createIncomingSubscription'](_0xd766d0,_0x39d6e0),await _0x39d6e0[_0x10435a(0x2de)](),this[_0x10435a(0x21f)](_0x39d6e0),_0x39d6e0;}catch(_0x8c0c37){throw this[_0x10435a(0x5a1)](_0x8c0c37,{});}}async[_0x1af94f(0x34b)](_0x2cf9d0){const _0x3e9c1b=_0x1af94f;try{const _0xff872b=await this[_0x3e9c1b(0x62f)][_0x3e9c1b(0x404)](_0x2cf9d0,this[_0x3e9c1b(0x344)]),_0x3655df=this['connectionManager']['getConnectionGroup']();return this[_0x3e9c1b(0x877)][_0x3e9c1b(0x448)](_0xff872b,_0x3655df),this[_0x3e9c1b(0x877)][_0x3e9c1b(0x5bb)](_0x3655df,_0xff872b),_0xff872b['open'](),_0xff872b;}catch(_0xe0b15f){throw this['handleError'](_0xe0b15f,{});}}async[_0x1af94f(0x240)](_0x49ae61){throw new Error('Method\x20not\x20supported');}async[_0x1af94f(0x6e2)](_0x1669bc){const _0x3fac67=_0x1af94f;try{const _0x166979=await this[_0x3fac67(0x62f)][_0x3fac67(0x66d)](_0x1669bc,this[_0x3fac67(0x344)]),_0x2ab697=this[_0x3fac67(0x79e)]['getConnectionGroup']();return this['subscriptionManager']['createOutgoingSubscription'](_0x166979,_0x2ab697),this[_0x3fac67(0x877)][_0x3fac67(0x5bb)](_0x2ab697,_0x166979),_0x166979[_0x3fac67(0x2de)](),_0x166979;}catch(_0x45d5da){throw console[_0x3fac67(0x883)](_0x45d5da),this['handleError'](_0x45d5da,{});}}async[_0x1af94f(0x960)](_0x29f6cf){const _0x4d3732=_0x1af94f;try{if(!this[_0x4d3732(0x9b8)]['generativeAIWorkerConnectors']||!this['options'][_0x4d3732(0x5fd)]||!this[_0x4d3732(0x9b8)][_0x4d3732(0x103)])throw new _0x3b3113(_0x56d472[_0x4d3732(0x5aa)],_0x4d3732(0x9a2));if(!(this[_0x4d3732(0x838)]instanceof _0x35c6ab))throw new _0x3b3113(_0x56d472[_0x4d3732(0x569)],_0x4d3732(0x990));const _0x165c73=[];for(const _0x40f423 of this[_0x4d3732(0x9b8)][_0x4d3732(0x2f7)])_0x165c73[_0x4d3732(0x3d6)](new _0x40f423());const _0x554aec=new this['options']['documentParserConnector'](),_0x55c67f=new this[(_0x4d3732(0x9b8))][(_0x4d3732(0x103))]();let _0x28bffb,_0xfd8dbd,_0x1a39a9;this[_0x4d3732(0x9b8)][_0x4d3732(0x686)]&&(_0x28bffb=new this[(_0x4d3732(0x9b8))][(_0x4d3732(0x686))]()),this[_0x4d3732(0x9b8)]['aiSearchConnector']&&(_0xfd8dbd=new this[(_0x4d3732(0x9b8))][(_0x4d3732(0x402))]()),this[_0x4d3732(0x9b8)][_0x4d3732(0xa21)]&&(_0x1a39a9=new this[(_0x4d3732(0x9b8))][(_0x4d3732(0xa21))]());const _0x356bcb=await this[_0x4d3732(0x62f)][_0x4d3732(0x1f7)](_0x29f6cf,this[_0x4d3732(0x838)],_0x165c73,_0x554aec,_0x55c67f,_0x28bffb,_0xfd8dbd,_0x1a39a9),_0x5c8466=this[_0x4d3732(0x79e)]['getConnectionGroup']();this[_0x4d3732(0x877)][_0x4d3732(0x448)](_0x356bcb,_0x5c8466),this['subscriptionManager'][_0x4d3732(0x5bb)](_0x5c8466,_0x356bcb);const _0x4fc8fb=this[_0x4d3732(0x8c1)][_0x4d3732(0x9f7)]();return await _0x356bcb['open'](0x0===_0x4fc8fb[_0x4d3732(0x71c)]||void 0x0),_0x356bcb;}catch(_0x2795fe){throw this[_0x4d3732(0x5a1)](_0x2795fe,{});}}[_0x1af94f(0x3b4)](_0x314f01){const _0x475413=_0x1af94f;try{if(!this[_0x475413(0x9b8)]['graphDatabaseConnector'])throw new _0x3b3113(_0x56d472[_0x475413(0x5c2)],'Missing\x20graph\x20database\x20connector');if(!(this[_0x475413(0x838)]instanceof _0x35c6ab))throw new _0x3b3113(_0x56d472[_0x475413(0x569)],_0x475413(0x990));const _0x2b7b9f=this['contentManager'][_0x475413(0x13a)](_0x314f01,this[_0x475413(0x9b8)]['graphDatabaseConnector']),_0x4180a1=this[_0x475413(0x79e)][_0x475413(0x678)]();return this[_0x475413(0x877)][_0x475413(0x448)](_0x2b7b9f,_0x4180a1),this[_0x475413(0x877)][_0x475413(0x5bb)](_0x4180a1,_0x2b7b9f),_0x2b7b9f;}catch(_0x28054a){throw this[_0x475413(0x5a1)](_0x28054a,{});}}[_0x1af94f(0x4ab)](_0x18fbb6){const _0x111364=_0x1af94f;try{if(!this['options'][_0x111364(0x7a9)])throw new _0x3b3113(_0x56d472[_0x111364(0x26a)],'Missing\x20vector\x20database\x20connector');if(!(this[_0x111364(0x838)]instanceof _0x35c6ab))throw new _0x3b3113(_0x56d472[_0x111364(0x569)],_0x111364(0x990));const _0x3177bc=this[_0x111364(0x62f)][_0x111364(0x3b0)](_0x18fbb6,this['options'][_0x111364(0x7a9)]),_0x2ebba7=this['connectionManager'][_0x111364(0x678)]();return this[_0x111364(0x877)]['createOutgoingSubscription'](_0x3177bc,_0x2ebba7),this[_0x111364(0x877)][_0x111364(0x5bb)](_0x2ebba7,_0x3177bc),_0x3177bc;}catch(_0x336559){throw this[_0x111364(0x5a1)](_0x336559,{});}}['getPubSubTopics'](_0x3916c6){const _0x2b7e8b=_0x1af94f;try{return this[_0x2b7e8b(0x62f)][_0x2b7e8b(0x967)](_0x3916c6);}catch(_0x2b4910){throw this[_0x2b7e8b(0x5a1)](_0x2b4910,{});}}[_0x1af94f(0x790)](_0xadd537){const _0x40bbb3=_0x1af94f;try{return this[_0x40bbb3(0x62f)][_0x40bbb3(0x790)](_0xadd537);}catch(_0x34fc2b){throw this[_0x40bbb3(0x5a1)](_0x34fc2b,{});}}[_0x1af94f(0x9f4)](_0x30fdf0){const _0x384856=_0x1af94f;try{return this[_0x384856(0x62f)]['getExternalStorageConnections'](_0x30fdf0);}catch(_0x355e6d){throw this[_0x384856(0x5a1)](_0x355e6d,{});}}[_0x1af94f(0x70e)](_0x4f2136){const _0x374ecf=_0x1af94f;try{return this[_0x374ecf(0x62f)][_0x374ecf(0x70e)](_0x4f2136);}catch(_0x1ce024){throw this[_0x374ecf(0x5a1)](_0x1ce024,{});}}['getGenerativeAIContexts'](_0x540c63){const _0x4fd02d=_0x1af94f;try{return this[_0x4fd02d(0x62f)]['getGenerativeAIContexts'](_0x540c63);}catch(_0x234d1e){throw this['handleError'](_0x234d1e,{});}}[_0x1af94f(0x711)](_0x5aca6e){try{return this['contentManager']['getGenerativeAIWorkers'](_0x5aca6e);}catch(_0x21c498){throw this['handleError'](_0x21c498,{});}}['getGraphDatabases'](_0xbdb9f){const _0x4e5707=_0x1af94f;try{return this[_0x4e5707(0x62f)][_0x4e5707(0x1d7)](_0xbdb9f);}catch(_0x3d949c){throw this['handleError'](_0x3d949c,{});}}[_0x1af94f(0x985)](_0x8fae0b,_0x41138b){const _0x45e3ba=_0x1af94f;if(!this[_0x45e3ba(0x45b)]['features'][_0x45e3ba(0x1ed)](_0x5806ff['MediaStream']))throw new _0x3b3113(_0x56d472['FeatureNotEnabled'],_0x45e3ba(0x694));try{return this[_0x45e3ba(0x62f)][_0x45e3ba(0x985)](_0x8fae0b,_0x41138b);}catch(_0x14288d){throw this[_0x45e3ba(0x5a1)](_0x14288d,{});}}[_0x1af94f(0x50b)](_0x3a2157,_0x555073){const _0x2d5901=_0x1af94f;if(!this[_0x2d5901(0x45b)]['features']['includes'](_0x5806ff['MediaStream']))throw new _0x3b3113(_0x56d472[_0x2d5901(0x181)],'MediaStream\x20feature\x20not\x20enabled');try{return this[_0x2d5901(0x62f)][_0x2d5901(0x50b)](_0x3a2157,_0x555073);}catch(_0x1077cb){throw this[_0x2d5901(0x5a1)](_0x1077cb,{});}}[_0x1af94f(0x421)](_0x25a7bc){const _0x392ae4=_0x1af94f;if(!this['configs'][_0x392ae4(0x4f1)][_0x392ae4(0x1ed)](_0x5806ff['MediaStream']))throw new _0x3b3113(_0x56d472[_0x392ae4(0x181)],_0x392ae4(0x694));try{return this['contentManager']['getLocalMediaStreams'](_0x25a7bc);}catch(_0x899cb7){throw this[_0x392ae4(0x5a1)](_0x899cb7,{});}}['getRemoteMediaStreams'](_0x4faac9){const _0x308f8e=_0x1af94f;if(!this['configs']['features'][_0x308f8e(0x1ed)](_0x5806ff[_0x308f8e(0x6ca)]))throw new _0x3b3113(_0x56d472['FeatureNotEnabled'],_0x308f8e(0x694));try{return this[_0x308f8e(0x62f)][_0x308f8e(0x1eb)](_0x4faac9);}catch(_0x5f4720){throw this[_0x308f8e(0x5a1)](_0x5f4720,{});}}[_0x1af94f(0x5de)](_0x3dba84){const _0x5aa361=_0x1af94f;try{return this[_0x5aa361(0x62f)][_0x5aa361(0x5de)](_0x3dba84);}catch(_0x2473f1){throw this[_0x5aa361(0x5a1)](_0x2473f1,{});}}[_0x1af94f(0x9bd)](_0x55af06,_0x5ab7bb){const _0x458e47=_0x1af94f;return this[_0x458e47(0x8c1)][_0x458e47(0x9bd)](_0x55af06,_0x5ab7bb);}[_0x1af94f(0x222)](){const _0x1de00f=_0x1af94f;return this[_0x1de00f(0x8c1)][_0x1de00f(0x222)]();}[_0x1af94f(0xa4c)](_0x7cf421){const _0x59ac3b=_0x1af94f;try{return this[_0x59ac3b(0x8c1)][_0x59ac3b(0xa4c)](_0x7cf421);}catch(_0x6b879d){throw this[_0x59ac3b(0x5a1)](_0x6b879d,{});}}[_0x1af94f(0x845)](){const _0x25e182=_0x1af94f;return this[_0x25e182(0x79e)]['waitForArrayBufferSize']();}[_0x1af94f(0x549)](_0x5a3814){return this['nodeManager']['isNodeReady'](_0x5a3814);}async[_0x1af94f(0x905)](_0x1d24b3){const _0x88eb84=_0x1af94f;try{if(_0x5999e0['log'](_0x53526a[_0x88eb84(0xa43)],'Orchestrator\x20handleSystemEvents',this[_0x88eb84(0x8c1)]['getLocalId'](),_0x1d24b3),_0x5a41e3(_0x1d24b3,this[_0x88eb84(0x8c1)][_0x88eb84(0x403)]()))return void this[_0x88eb84(0x79e)][_0x88eb84(0x27d)](_0x1d24b3);switch(_0x1d24b3[_0x88eb84(0x3fb)]){case _0x502914['Content']:this[_0x88eb84(0x251)][_0x88eb84(0x79a)](_0x1d24b3),this[_0x88eb84(0x877)][_0x88eb84(0x79a)](_0x1d24b3),this['contentManager'][_0x88eb84(0x79a)](_0x1d24b3);break;case _0x502914[_0x88eb84(0x666)]:this[_0x88eb84(0x877)][_0x88eb84(0x911)](_0x1d24b3),this['connectionManager'][_0x88eb84(0x911)](_0x1d24b3),this[_0x88eb84(0x62f)][_0x88eb84(0x911)](_0x1d24b3),this[_0x88eb84(0x8c1)][_0x88eb84(0x911)](_0x1d24b3);break;case _0x502914['Detection']:this[_0x88eb84(0x16d)]['handleDetectionSystemEvents'](_0x1d24b3);break;case _0x502914['Remediation']:this['remediationManager'][_0x88eb84(0x7cf)](_0x1d24b3);break;case _0x502914[_0x88eb84(0x886)]:this['detectionManager'][_0x88eb84(0x37f)](_0x1d24b3);break;case _0x502914[_0x88eb84(0x62c)]:_0x1d24b3['content'][_0x88eb84(0x44f)]!==_0x5f1baf['UnsubscribeMediaStream']?(this[_0x88eb84(0x877)]['handleSubscriptionSystemEvents'](_0x1d24b3),this['contentManager'][_0x88eb84(0x935)](_0x1d24b3)):(this[_0x88eb84(0x62f)]['handleSubscriptionSystemEvents'](_0x1d24b3),this[_0x88eb84(0x877)][_0x88eb84(0x935)](_0x1d24b3));break;case _0x502914[_0x88eb84(0xa06)]:await this[_0x88eb84(0x79e)][_0x88eb84(0x635)](_0x1d24b3),this[_0x88eb84(0x251)][_0x88eb84(0x635)](_0x1d24b3),this[_0x88eb84(0x8c1)][_0x88eb84(0x635)](_0x1d24b3),this['subscriptionManager'][_0x88eb84(0x635)](_0x1d24b3);}}catch(_0x1e9e04){throw _0x5999e0[_0x88eb84(0x358)](_0x88eb84(0x905),_0x1e9e04),this[_0x88eb84(0x5a1)](_0x1e9e04,{});}}['handleError'](_0x395bad,_0xa1dcc5){const _0x145190=_0x1af94f;if(!(_0x395bad instanceof _0x446b55)){if(_0x395bad instanceof _0x3b3113)throw _0x395bad;if(!(_0x395bad instanceof Error))throw new _0x3b3113(_0x56d472[_0x145190(0x726)],_0x145190(0x169)+_0x395bad);if(!(_0x395bad instanceof _0x3c8547))throw new _0x3b3113(_0x56d472['InternalSDKError'],_0x145190(0x195)+_0x395bad[_0x145190(0x802)]);switch(_0x395bad['code']){case _0x3c8547[_0x145190(0x700)]['MissingSystemTopic']:case _0x3c8547[_0x145190(0x700)][_0x145190(0x512)]:case _0x3c8547[_0x145190(0x700)]['PeerConnectionInvalidDestination']:case _0x3c8547[_0x145190(0x700)][_0x145190(0x4ce)]:case _0x3c8547[_0x145190(0x700)][_0x145190(0x5f8)]:case _0x3c8547['codes'][_0x145190(0x2ca)]:case _0x3c8547['codes'][_0x145190(0x958)]:case _0x3c8547[_0x145190(0x700)][_0x145190(0x681)]:case _0x3c8547[_0x145190(0x700)][_0x145190(0x522)]:case _0x3c8547[_0x145190(0x700)][_0x145190(0x30d)]:case _0x3c8547[_0x145190(0x700)][_0x145190(0x42a)]:case _0x3c8547['codes'][_0x145190(0x64f)]:}throw _0x5999e0['error'](_0x145190(0x3fa)+_0x395bad[_0x145190(0x802)],{'clusterId':this[_0x145190(0x230)],'nodeId':this[_0x145190(0x658)]['getId'](),'nodeType':this[_0x145190(0x658)]['type']},_0x395bad),new _0x3b3113(_0x56d472['InternalSDKError'],_0x145190(0x7a6)+_0x395bad['message']);}}['getConfigs'](){const _0x3720a2=_0x1af94f;return{'mediator':this,'vendorId':this['vendorId'],'clusterId':this[_0x3720a2(0x230)],'localNode':this[_0x3720a2(0x658)]};}['initializeSystemTopic'](){const _0x882f98=_0x1af94f;return this[_0x882f98(0x316)][_0x882f98(0x9f2)](_0x4f4fb6=>{const _0x56290e=_0x882f98,_0x3bbefa=_0x373153(_0x4f4fb6,this[_0x56290e(0x658)][_0x56290e(0x8f3)]()),_0x11405a=_0x4f4fb6[_0x56290e(0x3fb)]===_0x502914[_0x56290e(0x886)]||_0x4f4fb6['messageType']===_0x502914['PeerConnection']&&_0x4f4fb6[_0x56290e(0x3fe)][_0x56290e(0x44f)]===_0xba45aa[_0x56290e(0x886)]?_0x53526a[_0x56290e(0xa24)]:_0x53526a[_0x56290e(0x16a)];_0x5999e0[_0x56290e(0x472)](_0x11405a,_0x4f4fb6[_0x56290e(0x529)]+_0x56290e(0x5cb)+_0x3bbefa,_0x4f4fb6),this[_0x56290e(0x905)](_0x4f4fb6)[_0x56290e(0x2b4)](_0x368e3c=>{console['error'](_0x368e3c);});});}async[_0x1af94f(0x21f)](_0xa629e4){const _0x47bb64=_0x1af94f,{timingLogger:_0x32d09c,logger:_0x27a763,logBeforeSync:_0x160a5a,logAfterSync:_0x44d31c}=function(_0x2e8525,_0x1e2c23){const _0x47bf4b=a0_0xaf41;if(!_0x5999e0[_0x47bf4b(0x113)](_0x1e2c23))return _0x5999e0[_0x47bf4b(0x358)](_0x47bf4b(0x441)+_0x1e2c23),{..._0x549516(_0x2e8525,_0x1e2c23),'syncStartTime':0x0,'logBeforeSync':()=>0x0,'logAfterSync':()=>{}};const {timingLogger:_0x314cb9,logger:_0x17f177}=_0x549516(_0x2e8525,_0x1e2c23);let _0x419e09=0x0;return _0x419e09=Date[_0x47bf4b(0x1f3)](),{'syncStartTime':_0x419e09,'timingLogger':_0x314cb9,'logger':_0x17f177,'logBeforeSync':()=>(_0x1a6c3f(_0x1e2c23,_0x47bf4b(0x495)),_0x314cb9[_0x47bf4b(0x1f3)]()),'logAfterSync':(_0x2a082e,_0x580d00)=>{const _0x40dc1d=_0x47bf4b,_0x5c8f47=Date[_0x40dc1d(0x1f3)]();_0x1a6c3f(_0x1e2c23,_0x40dc1d(0x68e)+_0x580d00);const _0xeaef3e=(_0x5c8f47-_0x419e09)/0x3e8,_0x734f3c=(_0x5c8f47-_0x2a082e)/0x3e8;_0x5999e0[_0x40dc1d(0x15c)](_0x1e2c23,'KeyValueDatabase\x20-\x20Sync\x20completed',_0x2e8525,_0x40dc1d(0x21d)+_0xeaef3e['toFixed'](0x2)+_0x40dc1d(0x6cf),'\x0a\x20===\x20Wait\x20Time:\x20'+_0x734f3c[_0x40dc1d(0x45c)](0x3)+'\x20seconds',_0x40dc1d(0x4e0)+((_0x5c8f47-_0x419e09)/0x3e8-_0x734f3c)['toFixed'](0x2)+_0x40dc1d(0x6cf));}};}(_0xa629e4[_0x47bb64(0x8c4)](),_0x53526a['KeyValueDatabase']);_0x27a763[_0x47bb64(0x15c)](_0x47bb64(0xa34));const _0x46cc67=this[_0x47bb64(0x8c1)]['getAncestorIds']()[_0x47bb64(0x71c)]>0x0;if(_0x46cc67){_0x27a763[_0x47bb64(0x15c)](_0x47bb64(0x2cf),()=>this[_0x47bb64(0x8c1)][_0x47bb64(0x9f7)]()),_0x32d09c[_0x47bb64(0x46d)](),await Promise['all'](this[_0x47bb64(0x8c1)][_0x47bb64(0x9f7)]()['map'](async _0xe74ab7=>await this[_0x47bb64(0x8c1)][_0x47bb64(0x549)](_0xe74ab7)))[_0x47bb64(0x2b4)](_0x52bca5=>_0x5999e0[_0x47bb64(0x949)](_0x47bb64(0x1ac),{'nodeId':this[_0x47bb64(0x658)]['getId'](),'nodeType':this['localNode'][_0x47bb64(0x44f)]}));const _0x43f641=_0x27a763['performCalculation'](()=>this[_0x47bb64(0x8c1)][_0x47bb64(0x9f7)](),[]);_0x32d09c[_0x47bb64(0x93b)](_0x47bb64(0x600)+_0x43f641+_0x47bb64(0x473));}_0x44d31c(_0x160a5a(),await _0xa629e4[_0x47bb64(0x445)](_0x46cc67,async()=>{const _0x5b92d8=_0x47bb64;_0x32d09c['start'](),await this[_0x5b92d8(0x8c1)][_0x5b92d8(0x4d0)](),_0x32d09c[_0x5b92d8(0x93b)]('syncKeyValueDatabase\x20-\x20Retrying\x20sync\x20in\x20broadcast\x20mode.\x20Waited\x20for\x20cluster\x20readiness\x20for:'),_0xa629e4[_0x5b92d8(0x445)](!0x0,()=>{const _0x28a2d0=_0x5b92d8;_0x27a763['log']('KeyValueDatabase\x20-\x20Assuming\x20no\x20nodes\x20available\x20to\x20sync.\x20Completing\x20sync.'),_0xa629e4[_0x28a2d0(0x445)](!0x1);},!0x0);}));}}class _0x283249{[_0x1af94f(0x90c)];[_0x1af94f(0x230)];['authNode'];[_0x1af94f(0x720)];[_0x1af94f(0x5e3)];constructor(_0xd8eec1,_0x52ab8f,_0x45a01e,_0x171d57,_0x5cc660,_0x5a396f,_0x1757b5=new _0x42b323()){const _0x5421df=_0x1af94f;this[_0x5421df(0x90c)]=_0xd8eec1,this['clusterId']=_0x52ab8f,this[_0x5421df(0x838)]=_0x45a01e,this[_0x5421df(0x720)]=_0x1757b5,this[_0x5421df(0x5e3)]=new _0x414eaf(this[_0x5421df(0x90c)],this[_0x5421df(0x230)],_0x45a01e,_0x171d57,_0x5cc660,_0x5a396f,this);}async[_0x1af94f(0x7f4)](){const _0x11e8cc=_0x1af94f;await this['orchestrator'][_0x11e8cc(0x462)](),this['authNode']['type']===_0xb0907f[_0x11e8cc(0x116)][_0x11e8cc(0x551)]&&this['authNode'][_0x11e8cc(0x4a7)](this[_0x11e8cc(0x230)],_0x597e39=>{this['orchestrator']['updateUser'](_0x597e39);});}[_0x1af94f(0x4a2)](_0x210d3d={}){const _0x144b25=_0x1af94f;this[_0x144b25(0x5e3)][_0x144b25(0x92f)](_0x210d3d),this['authNode'][_0x144b25(0x44f)]===_0xb0907f[_0x144b25(0x116)]['User']&&this[_0x144b25(0x838)][_0x144b25(0x6ff)](this[_0x144b25(0x230)]),this[_0x144b25(0x791)](_0x144b25(0x28b),void 0x0);}[_0x1af94f(0x12e)](_0x4398fc){const _0x11e5a2=_0x1af94f,_0x45db26=this[_0x11e5a2(0x5e3)][_0x11e5a2(0x12e)](_0x4398fc);return{'getName':_0x45db26[_0x11e5a2(0x801)][_0x11e5a2(0x136)](_0x45db26),'getOwnerId':_0x45db26['getOwnerId'][_0x11e5a2(0x136)](_0x45db26),'getContentType':_0x45db26[_0x11e5a2(0x8f7)][_0x11e5a2(0x136)](_0x45db26),'publish':_0x45db26[_0x11e5a2(0x3ec)][_0x11e5a2(0x136)](_0x45db26),'subscribe':_0x45db26[_0x11e5a2(0x9f2)][_0x11e5a2(0x136)](_0x45db26),'unsubscribe':_0x45db26[_0x11e5a2(0x885)][_0x11e5a2(0x136)](_0x45db26),'close':_0x45db26['close'][_0x11e5a2(0x136)](_0x45db26)};}async[_0x1af94f(0x696)](_0x5770d4,_0x4f21e7){const _0x22f1d2=_0x1af94f,_0x39d689=await this[_0x22f1d2(0x5e3)][_0x22f1d2(0x696)](_0x5770d4,_0x4f21e7);return{'getName':_0x39d689[_0x22f1d2(0x801)][_0x22f1d2(0x136)](_0x39d689),'getOwnerId':_0x39d689[_0x22f1d2(0x7bd)]['bind'](_0x39d689),'getContentType':_0x39d689[_0x22f1d2(0x8f7)][_0x22f1d2(0x136)](_0x39d689),'publish':_0x39d689[_0x22f1d2(0x3ec)][_0x22f1d2(0x136)](_0x39d689),'unpublish':_0x39d689[_0x22f1d2(0x32f)][_0x22f1d2(0x136)](_0x39d689),'get':_0x39d689[_0x22f1d2(0x70a)][_0x22f1d2(0x136)](_0x39d689),'list':_0x39d689[_0x22f1d2(0x3d1)][_0x22f1d2(0x136)](_0x39d689),'getSize':_0x39d689[_0x22f1d2(0x677)][_0x22f1d2(0x136)](_0x39d689),'subscribe':_0x39d689['subscribe'][_0x22f1d2(0x136)](_0x39d689),'unsubscribe':_0x39d689[_0x22f1d2(0x885)][_0x22f1d2(0x136)](_0x39d689),'close':_0x39d689[_0x22f1d2(0x92f)]['bind'](_0x39d689)};}async['openExternalStorageConnection'](_0x1bbb12,_0x21d899){const _0x70f21f=_0x1af94f,_0x5ade91=await this['orchestrator'][_0x70f21f(0x5e2)](_0x1bbb12,_0x21d899);return{'getName':_0x5ade91[_0x70f21f(0x801)]['bind'](_0x5ade91),'getOwnerId':_0x5ade91[_0x70f21f(0x7bd)][_0x70f21f(0x136)](_0x5ade91),'getContentType':_0x5ade91[_0x70f21f(0x8f7)][_0x70f21f(0x136)](_0x5ade91),'close':_0x5ade91[_0x70f21f(0x92f)]['bind'](_0x5ade91),'get':_0x5ade91['get'][_0x70f21f(0x136)](_0x5ade91),'list':_0x5ade91['list']['bind'](_0x5ade91),'subscribe':_0x5ade91[_0x70f21f(0x9f2)][_0x70f21f(0x136)](_0x5ade91),'unsubscribe':_0x5ade91[_0x70f21f(0x885)]['bind'](_0x5ade91)};}async[_0x1af94f(0x2c2)](_0x202a6d,_0x4fd088,_0x1c0fcb){const _0x9d8e30=_0x1af94f,_0x5c7c4f=await this[_0x9d8e30(0x5e3)]['openKeyValueDatabase'](_0x202a6d,_0x4fd088,_0x1c0fcb);return{'getName':_0x5c7c4f[_0x9d8e30(0x801)]['bind'](_0x5c7c4f),'getOwnerId':_0x5c7c4f[_0x9d8e30(0x7bd)][_0x9d8e30(0x136)](_0x5c7c4f),'getContentType':_0x5c7c4f[_0x9d8e30(0x8f7)][_0x9d8e30(0x136)](_0x5c7c4f),'getTable':_0x5c7c4f[_0x9d8e30(0x8b7)]['bind'](_0x5c7c4f),'subscribe':_0x5c7c4f[_0x9d8e30(0x9f2)][_0x9d8e30(0x136)](_0x5c7c4f),'unsubscribe':_0x5c7c4f[_0x9d8e30(0x885)]['bind'](_0x5c7c4f),'close':_0x5c7c4f[_0x9d8e30(0x92f)][_0x9d8e30(0x136)](_0x5c7c4f)};}async['openJobDispatcher'](_0x3f9f09){const _0x39e25b=_0x1af94f,_0x36b7c8=await this[_0x39e25b(0x5e3)][_0x39e25b(0x34b)](_0x3f9f09);return{'getName':_0x36b7c8[_0x39e25b(0x801)][_0x39e25b(0x136)](_0x36b7c8),'getOwnerId':_0x36b7c8[_0x39e25b(0x7bd)][_0x39e25b(0x136)](_0x36b7c8),'getContentType':_0x36b7c8[_0x39e25b(0x8f7)]['bind'](_0x36b7c8),'createJob':_0x36b7c8[_0x39e25b(0x248)][_0x39e25b(0x136)](_0x36b7c8),'getJob':_0x36b7c8[_0x39e25b(0x6fd)][_0x39e25b(0x136)](_0x36b7c8),'getJobs':_0x36b7c8[_0x39e25b(0xa0e)][_0x39e25b(0x136)](_0x36b7c8),'close':_0x36b7c8[_0x39e25b(0x92f)]['bind'](_0x36b7c8)};}async[_0x1af94f(0x240)](_0x1259df){const _0x23d064=_0x1af94f,_0x2b0a6c=await this[_0x23d064(0x5e3)][_0x23d064(0x240)](_0x1259df);return{'close':_0x2b0a6c[_0x23d064(0x92f)][_0x23d064(0x136)](_0x2b0a6c)};}async['openGenerativeAIContext'](_0x4fa662){const _0x4aeb6e=_0x1af94f,_0x4c4c6b=await this[_0x4aeb6e(0x5e3)]['openGenerativeAIContext'](_0x4fa662);return{'createAIJob':_0x4c4c6b['createAIJob'][_0x4aeb6e(0x136)](_0x4c4c6b),'ratePrompt':_0x4c4c6b['ratePrompt'][_0x4aeb6e(0x136)](_0x4c4c6b),'downloadDocument':_0x4c4c6b['downloadDocument'][_0x4aeb6e(0x136)](_0x4c4c6b),'search':_0x4c4c6b[_0x4aeb6e(0x9f0)]['bind'](_0x4c4c6b),'getDataBucketIds':_0x4c4c6b[_0x4aeb6e(0x65a)]['bind'](_0x4c4c6b),'close':_0x4c4c6b['close']['bind'](_0x4c4c6b)};}async[_0x1af94f(0x960)](_0x4440d7){const _0x48ab11=_0x1af94f,_0x41af6d=await this[_0x48ab11(0x5e3)][_0x48ab11(0x960)](_0x4440d7);return{'close':_0x41af6d[_0x48ab11(0x92f)]['bind'](_0x41af6d)};}[_0x1af94f(0x3b4)](_0x368f99){const _0x2cfc2d=_0x1af94f,_0x334485=this['orchestrator'][_0x2cfc2d(0x3b4)](_0x368f99);return{'getName':_0x334485[_0x2cfc2d(0x801)]['bind'](_0x334485),'getOwnerId':_0x334485[_0x2cfc2d(0x7bd)][_0x2cfc2d(0x136)](_0x334485),'getContentType':_0x334485['getContentType']['bind'](_0x334485),'addNode':_0x334485[_0x2cfc2d(0x556)][_0x2cfc2d(0x136)](_0x334485),'addEdge':_0x334485[_0x2cfc2d(0x1a7)][_0x2cfc2d(0x136)](_0x334485),'getContent':_0x334485[_0x2cfc2d(0x2dc)][_0x2cfc2d(0x136)](_0x334485),'remove':_0x334485[_0x2cfc2d(0x1e7)]['bind'](_0x334485),'saveToDisk':_0x334485[_0x2cfc2d(0x2e7)][_0x2cfc2d(0x136)](_0x334485),'loadFromDisk':_0x334485[_0x2cfc2d(0x722)]['bind'](_0x334485),'close':_0x334485['close'][_0x2cfc2d(0x136)](_0x334485)};}[_0x1af94f(0x4ab)](_0x153745){const _0x234cf6=_0x1af94f,_0x489cd6=this[_0x234cf6(0x5e3)]['openVectorDatabase'](_0x153745);return{'getName':_0x489cd6['getName'][_0x234cf6(0x136)](_0x489cd6),'getOwnerId':_0x489cd6['getOwnerId'][_0x234cf6(0x136)](_0x489cd6),'getContentType':_0x489cd6[_0x234cf6(0x8f7)][_0x234cf6(0x136)](_0x489cd6),'search':_0x489cd6[_0x234cf6(0x9f0)][_0x234cf6(0x136)](_0x489cd6),'insert':_0x489cd6[_0x234cf6(0x62e)][_0x234cf6(0x136)](_0x489cd6),'remove':_0x489cd6[_0x234cf6(0x1e7)][_0x234cf6(0x136)](_0x489cd6),'saveToDisk':_0x489cd6[_0x234cf6(0x2e7)]['bind'](_0x489cd6),'loadFromDisk':_0x489cd6[_0x234cf6(0x722)]['bind'](_0x489cd6),'close':_0x489cd6[_0x234cf6(0x92f)][_0x234cf6(0x136)](_0x489cd6)};}[_0x1af94f(0x967)](_0x424da6){const _0x3cc265=_0x1af94f;return this['orchestrator'][_0x3cc265(0x967)](_0x424da6)[_0x3cc265(0x7d0)](_0x72fcc8=>({'getName':_0x72fcc8[_0x3cc265(0x801)]['bind'](_0x72fcc8),'getOwnerId':_0x72fcc8[_0x3cc265(0x7bd)][_0x3cc265(0x136)](_0x72fcc8),'getContentType':_0x72fcc8[_0x3cc265(0x8f7)]['bind'](_0x72fcc8),'publish':_0x72fcc8[_0x3cc265(0x3ec)][_0x3cc265(0x136)](_0x72fcc8),'subscribe':_0x72fcc8['subscribe']['bind'](_0x72fcc8),'unsubscribe':_0x72fcc8[_0x3cc265(0x885)][_0x3cc265(0x136)](_0x72fcc8),'close':_0x72fcc8['close']['bind'](_0x72fcc8)}));}[_0x1af94f(0x790)](_0x1df5c7){const _0x58faab=_0x1af94f;return this['orchestrator'][_0x58faab(0x790)](_0x1df5c7)[_0x58faab(0x7d0)](_0x7eef34=>({'getName':_0x7eef34[_0x58faab(0x801)][_0x58faab(0x136)](_0x7eef34),'getOwnerId':_0x7eef34[_0x58faab(0x7bd)][_0x58faab(0x136)](_0x7eef34),'getContentType':_0x7eef34[_0x58faab(0x8f7)][_0x58faab(0x136)](_0x7eef34),'publish':_0x7eef34[_0x58faab(0x3ec)][_0x58faab(0x136)](_0x7eef34),'unpublish':_0x7eef34[_0x58faab(0x32f)][_0x58faab(0x136)](_0x7eef34),'get':_0x7eef34['get'][_0x58faab(0x136)](_0x7eef34),'list':_0x7eef34[_0x58faab(0x3d1)][_0x58faab(0x136)](_0x7eef34),'getSize':_0x7eef34[_0x58faab(0x677)][_0x58faab(0x136)](_0x7eef34),'subscribe':_0x7eef34[_0x58faab(0x9f2)][_0x58faab(0x136)](_0x7eef34),'unsubscribe':_0x7eef34[_0x58faab(0x885)][_0x58faab(0x136)](_0x7eef34),'close':_0x7eef34[_0x58faab(0x92f)][_0x58faab(0x136)](_0x7eef34)}));}[_0x1af94f(0x9f4)](_0x38dee7){const _0x2f3e4f=_0x1af94f;return this[_0x2f3e4f(0x5e3)][_0x2f3e4f(0x9f4)](_0x38dee7)['map'](_0x4c12b0=>({'getName':_0x4c12b0[_0x2f3e4f(0x801)][_0x2f3e4f(0x136)](_0x4c12b0),'getOwnerId':_0x4c12b0[_0x2f3e4f(0x7bd)][_0x2f3e4f(0x136)](_0x4c12b0),'getContentType':_0x4c12b0[_0x2f3e4f(0x8f7)][_0x2f3e4f(0x136)](_0x4c12b0),'close':_0x4c12b0[_0x2f3e4f(0x92f)][_0x2f3e4f(0x136)](_0x4c12b0),'get':_0x4c12b0[_0x2f3e4f(0x70a)][_0x2f3e4f(0x136)](_0x4c12b0),'list':_0x4c12b0[_0x2f3e4f(0x3d1)][_0x2f3e4f(0x136)](_0x4c12b0),'subscribe':_0x4c12b0[_0x2f3e4f(0x9f2)]['bind'](_0x4c12b0),'unsubscribe':_0x4c12b0[_0x2f3e4f(0x885)]['bind'](_0x4c12b0)}));}[_0x1af94f(0x70e)](_0x1e88f0){const _0x965846=_0x1af94f;return this[_0x965846(0x5e3)][_0x965846(0x70e)](_0x1e88f0)[_0x965846(0x7d0)](_0xdcdea4=>({'getName':_0xdcdea4[_0x965846(0x801)]['bind'](_0xdcdea4),'getOwnerId':_0xdcdea4['getOwnerId'][_0x965846(0x136)](_0xdcdea4),'getContentType':_0xdcdea4[_0x965846(0x8f7)][_0x965846(0x136)](_0xdcdea4),'getTable':_0xdcdea4[_0x965846(0x8b7)][_0x965846(0x136)](_0xdcdea4),'subscribe':_0xdcdea4[_0x965846(0x9f2)][_0x965846(0x136)](_0xdcdea4),'unsubscribe':_0xdcdea4['unsubscribe']['bind'](_0xdcdea4),'close':_0xdcdea4[_0x965846(0x92f)][_0x965846(0x136)](_0xdcdea4)}));}[_0x1af94f(0x8dc)](_0x392469){const _0x53fe1c=_0x1af94f;return this[_0x53fe1c(0x5e3)][_0x53fe1c(0x8dc)](_0x392469)[_0x53fe1c(0x7d0)](_0x5decdc=>({'createAIJob':_0x5decdc['createAIJob'][_0x53fe1c(0x136)](_0x5decdc),'ratePrompt':_0x5decdc[_0x53fe1c(0x6b6)][_0x53fe1c(0x136)](_0x5decdc),'downloadDocument':_0x5decdc[_0x53fe1c(0x4a6)][_0x53fe1c(0x136)](_0x5decdc),'search':_0x5decdc[_0x53fe1c(0x9f0)][_0x53fe1c(0x136)](_0x5decdc),'getDataBucketIds':_0x5decdc[_0x53fe1c(0x65a)][_0x53fe1c(0x136)](_0x5decdc),'close':_0x5decdc[_0x53fe1c(0x92f)][_0x53fe1c(0x136)](_0x5decdc)}));}['getGenerativeAIWorkers'](_0x527c66){const _0x53b0cb=_0x1af94f;return this[_0x53b0cb(0x5e3)]['getGenerativeAIWorkers'](_0x527c66)['map'](_0x427a8b=>({'close':_0x427a8b['close'][_0x53b0cb(0x136)](_0x427a8b)}));}[_0x1af94f(0x741)](_0x2fbcc3,_0x4ba411){const _0x2eeeba=_0x1af94f,_0x18ce60=this[_0x2eeeba(0x5e3)]['createLocalMediaStream'](_0x2fbcc3,_0x4ba411);return{'getLabel':_0x18ce60[_0x2eeeba(0x8c4)][_0x2eeeba(0x136)](_0x18ce60),'getOwnerId':_0x18ce60[_0x2eeeba(0x7bd)][_0x2eeeba(0x136)](_0x18ce60),'getContentType':_0x18ce60[_0x2eeeba(0x8f7)][_0x2eeeba(0x136)](_0x18ce60),'getMediaStream':_0x18ce60[_0x2eeeba(0x288)]['bind'](_0x18ce60),'setPriority':_0x18ce60[_0x2eeeba(0x5bc)][_0x2eeeba(0x136)](_0x18ce60),'unpublish':_0x18ce60[_0x2eeeba(0x32f)]['bind'](_0x18ce60)};}['publishLocalDynamicMediaStream'](_0x2332a8,_0x34e411){const _0x424047=_0x1af94f,_0x50c337=this[_0x424047(0x5e3)][_0x424047(0x50b)](_0x2332a8,_0x34e411);return{'getLabel':_0x50c337[_0x424047(0x8c4)]['bind'](_0x50c337),'getOwnerId':_0x50c337[_0x424047(0x7bd)][_0x424047(0x136)](_0x50c337),'getContentType':_0x50c337['getContentType'][_0x424047(0x136)](_0x50c337),'setPriority':_0x50c337[_0x424047(0x5bc)][_0x424047(0x136)](_0x50c337),'unpublish':_0x50c337[_0x424047(0x32f)]['bind'](_0x50c337),'getMediaStream':_0x50c337[_0x424047(0x288)][_0x424047(0x136)](_0x50c337),'addTrack':_0x50c337['addTrack']['bind'](_0x50c337),'removeTrack':_0x50c337[_0x424047(0x30e)]['bind'](_0x50c337),'replaceTrack':_0x50c337[_0x424047(0x11b)]['bind'](_0x50c337),'setTransformations':_0x50c337['setTransformations']['bind'](_0x50c337)};}[_0x1af94f(0x421)](_0x2a6793){const _0x307332=_0x1af94f;return this[_0x307332(0x5e3)][_0x307332(0x421)](_0x2a6793)[_0x307332(0x7d0)](_0x589636=>({'getLabel':_0x589636[_0x307332(0x8c4)][_0x307332(0x136)](_0x589636),'getOwnerId':_0x589636['getOwnerId'][_0x307332(0x136)](_0x589636),'getContentType':_0x589636[_0x307332(0x8f7)]['bind'](_0x589636),'getMediaStream':_0x589636[_0x307332(0x288)][_0x307332(0x136)](_0x589636),'setPriority':_0x589636[_0x307332(0x5bc)][_0x307332(0x136)](_0x589636),'unpublish':_0x589636[_0x307332(0x32f)]['bind'](_0x589636)}));}[_0x1af94f(0x1eb)](_0x2b155e){const _0x122a55=_0x1af94f;return this[_0x122a55(0x5e3)][_0x122a55(0x1eb)](_0x2b155e)['map'](_0x4447e3=>({'getLabel':_0x4447e3[_0x122a55(0x8c4)][_0x122a55(0x136)](_0x4447e3),'getOwnerId':_0x4447e3[_0x122a55(0x7bd)][_0x122a55(0x136)](_0x4447e3),'getContentType':_0x4447e3[_0x122a55(0x8f7)]['bind'](_0x4447e3),'getMediaStream':_0x4447e3[_0x122a55(0x288)][_0x122a55(0x136)](_0x4447e3),'subscribe':_0x4447e3[_0x122a55(0x9f2)][_0x122a55(0x136)](_0x4447e3),'unsubscribe':_0x4447e3[_0x122a55(0x885)][_0x122a55(0x136)](_0x4447e3),'getAvailableTrackKinds':_0x4447e3[_0x122a55(0x2e2)][_0x122a55(0x136)](_0x4447e3),'update':_0x4447e3[_0x122a55(0x940)][_0x122a55(0x136)](_0x4447e3),'onProviderChange':_0x4447e3[_0x122a55(0x99a)][_0x122a55(0x136)](_0x4447e3)}));}[_0x1af94f(0x1d7)](_0x217be6){const _0x48c40c=_0x1af94f;return this[_0x48c40c(0x5e3)][_0x48c40c(0x1d7)](_0x217be6)[_0x48c40c(0x7d0)](_0x4983aa=>({'getName':_0x4983aa['getName'][_0x48c40c(0x136)](_0x4983aa),'getOwnerId':_0x4983aa[_0x48c40c(0x7bd)]['bind'](_0x4983aa),'getContentType':_0x4983aa[_0x48c40c(0x8f7)][_0x48c40c(0x136)](_0x4983aa),'addNode':_0x4983aa[_0x48c40c(0x556)]['bind'](_0x4983aa),'addEdge':_0x4983aa[_0x48c40c(0x1a7)][_0x48c40c(0x136)](_0x4983aa),'getContent':_0x4983aa[_0x48c40c(0x2dc)][_0x48c40c(0x136)](_0x4983aa),'remove':_0x4983aa[_0x48c40c(0x1e7)][_0x48c40c(0x136)](_0x4983aa),'saveToDisk':_0x4983aa['saveToDisk'][_0x48c40c(0x136)](_0x4983aa),'loadFromDisk':_0x4983aa[_0x48c40c(0x722)][_0x48c40c(0x136)](_0x4983aa),'close':_0x4983aa[_0x48c40c(0x92f)][_0x48c40c(0x136)](_0x4983aa)}));}['getVectorDatabases'](_0x2d625e){const _0x4ddbc0=_0x1af94f;return this[_0x4ddbc0(0x5e3)][_0x4ddbc0(0x5de)](_0x2d625e)[_0x4ddbc0(0x7d0)](_0x2cf9ce=>({'getName':_0x2cf9ce['getName'][_0x4ddbc0(0x136)](_0x2cf9ce),'getOwnerId':_0x2cf9ce[_0x4ddbc0(0x7bd)][_0x4ddbc0(0x136)](_0x2cf9ce),'getContentType':_0x2cf9ce['getContentType'][_0x4ddbc0(0x136)](_0x2cf9ce),'search':_0x2cf9ce[_0x4ddbc0(0x9f0)]['bind'](_0x2cf9ce),'insert':_0x2cf9ce['insert']['bind'](_0x2cf9ce),'remove':_0x2cf9ce[_0x4ddbc0(0x1e7)][_0x4ddbc0(0x136)](_0x2cf9ce),'saveToDisk':_0x2cf9ce[_0x4ddbc0(0x2e7)][_0x4ddbc0(0x136)](_0x2cf9ce),'loadFromDisk':_0x2cf9ce[_0x4ddbc0(0x722)]['bind'](_0x2cf9ce),'close':_0x2cf9ce['close']['bind'](_0x2cf9ce)}));}[_0x1af94f(0x222)](){const _0x907baf=_0x1af94f,_0x43ff26=this[_0x907baf(0x5e3)][_0x907baf(0x222)]();switch(_0x43ff26[_0x907baf(0x44f)]){case _0xb0907f['NodeType'][_0x907baf(0x551)]:return{'type':_0xb0907f[_0x907baf(0x116)]['User'],'getId':_0x43ff26[_0x907baf(0x8f3)][_0x907baf(0x136)](_0x43ff26),'getDisplayName':_0x43ff26[_0x907baf(0x87c)][_0x907baf(0x136)](_0x43ff26),'getEmail':_0x43ff26[_0x907baf(0x693)][_0x907baf(0x136)](_0x43ff26),'getRemoteConnections':_0x43ff26[_0x907baf(0x30b)][_0x907baf(0x136)](_0x43ff26),'setDisplayName':_0x43ff26[_0x907baf(0xa0c)][_0x907baf(0x136)](_0x43ff26),'setEmail':_0x43ff26[_0x907baf(0x1b2)][_0x907baf(0x136)](_0x43ff26)};case _0xb0907f[_0x907baf(0x116)][_0x907baf(0x58e)]:default:return{'type':_0xb0907f[_0x907baf(0x116)][_0x907baf(0x58e)],'getId':_0x43ff26[_0x907baf(0x8f3)][_0x907baf(0x136)](_0x43ff26),'getRemoteConnections':_0x43ff26[_0x907baf(0x30b)][_0x907baf(0x136)](_0x43ff26)};}}[_0x1af94f(0xa4c)](_0x5dbeff){const _0x3ec639=_0x1af94f;return this[_0x3ec639(0x5e3)]['getRemoteNodes'](_0x5dbeff)['map'](_0xc3e491=>{const _0x45bff9=_0x3ec639;switch(_0xc3e491['type']){case _0xb0907f[_0x45bff9(0x116)][_0x45bff9(0x551)]:return{'type':_0xb0907f['NodeType'][_0x45bff9(0x551)],'getId':_0xc3e491[_0x45bff9(0x8f3)]['bind'](_0xc3e491),'getDisplayName':_0xc3e491[_0x45bff9(0x87c)]['bind'](_0xc3e491),'getEmail':_0xc3e491[_0x45bff9(0x693)][_0x45bff9(0x136)](_0xc3e491),'getRemoteConnections':_0xc3e491[_0x45bff9(0x30b)][_0x45bff9(0x136)](_0xc3e491)};case _0xb0907f[_0x45bff9(0x116)][_0x45bff9(0x58e)]:return{'type':_0xb0907f[_0x45bff9(0x116)][_0x45bff9(0x58e)],'getId':_0xc3e491[_0x45bff9(0x8f3)][_0x45bff9(0x136)](_0xc3e491),'getRemoteConnections':_0xc3e491[_0x45bff9(0x30b)][_0x45bff9(0x136)](_0xc3e491)};default:throw new _0x3b3113(_0x56d472[_0x45bff9(0x569)],'Invalid\x20node\x20type');}});}['on']=(..._0x41f122)=>{const _0xed5970=_0x1af94f;this[_0xed5970(0x720)]['on'](..._0x41f122);};[_0x1af94f(0x791)]=(..._0x24592d)=>this[_0x1af94f(0x720)][_0x1af94f(0x791)](..._0x24592d);[_0x1af94f(0x5d4)](..._0x463253){const _0x3fd08f=_0x1af94f;this['eventEmitter'][_0x3fd08f(0x5d4)](..._0x463253);}}class _0x40fd4e{['id'];[_0x1af94f(0x890)];['email'];['type']=_0xb0907f['NodeType']['User'];['joinedClusters']=new Map();[_0x1af94f(0x2b1)]=_0x69b7e5();constructor(_0x4988d8,_0xe05385,_0x503ac3){const _0xd07b03=_0x1af94f;this['id']=_0x4988d8,this[_0xd07b03(0x890)]=_0xe05385,this[_0xd07b03(0xa51)]=_0x503ac3;}[_0x1af94f(0x8f3)](){return this['id'];}[_0x1af94f(0x87c)](){return this['displayName'];}[_0x1af94f(0x693)](){const _0x3542d2=_0x1af94f;return this[_0x3542d2(0xa51)];}[_0x1af94f(0xa0c)](_0x3013ee){const _0x11442b=_0x1af94f;this['displayName']!==_0x3013ee&&(this['displayName']=_0x3013ee,this['observer'][_0x11442b(0x3ec)](this));}[_0x1af94f(0x1b2)](_0xe4691a){const _0xd48e77=_0x1af94f;this['email']!==_0xe4691a&&(this['email']=_0xe4691a,this[_0xd48e77(0x2b1)][_0xd48e77(0x3ec)](this));}[_0x1af94f(0x4a7)](_0x564fe3,_0x421409){const _0x3509bd=_0x1af94f;if(this[_0x3509bd(0x3b8)][_0x3509bd(0x907)](_0x564fe3))return;const _0x4da04a=this[_0x3509bd(0x2b1)][_0x3509bd(0x9f2)](_0x421409);this['joinedClusters']['set'](_0x564fe3,_0x4da04a);}[_0x1af94f(0x6ff)](_0x27f79f){const _0x5e2857=_0x1af94f;if(!this[_0x5e2857(0x3b8)][_0x5e2857(0x907)](_0x27f79f))return;const _0x2d6626=this[_0x5e2857(0x3b8)][_0x5e2857(0x70a)](_0x27f79f);_0x2d6626&&_0x2d6626(),this[_0x5e2857(0x3b8)][_0x5e2857(0x8e1)](_0x27f79f);}}class _0x351adc{['vendorId'];[_0x1af94f(0x894)];constructor(_0x3ee339){const _0x5dc54e=_0x1af94f;this[_0x5dc54e(0x90c)]=_0x3ee339;}async[_0x1af94f(0x4b3)](_0x547634){const _0x41b9df=_0x1af94f,_0x4749f3=await(0x0,_0x52a505[_0x41b9df(0x377)])(_0xa01105['getFunctions'](),_0x41b9df(0x5f0))({'uid':'ccc'+this[_0x41b9df(0x90c)]+_0x41b9df(0xa2f)+_0x547634['id']}),_0x5a6072=await(0x0,_0x2c5109[_0x41b9df(0xeb)])(_0xa01105[_0x41b9df(0x28d)](),_0x4749f3[_0x41b9df(0x87a)][_0x41b9df(0x499)]);this[_0x41b9df(0x894)]=_0x5a6072[_0x41b9df(0x894)];}async[_0x1af94f(0x321)](){const _0x394d49=_0x1af94f;await(0x0,_0x2c5109['signOut'])(_0xa01105[_0x394d49(0x28d)]());}[_0x1af94f(0x544)](){return this['user']?.['getIdToken']()??Promise['reject']('User\x20not\x20signed\x20in');}}class _0x9106a2{static ['instance'];[_0x1af94f(0x345)]=[];constructor(){}static[_0x1af94f(0x6b0)](){const _0x1a1abe=_0x1af94f;return _0x9106a2[_0x1a1abe(0x8ab)]||(_0x9106a2[_0x1a1abe(0x8ab)]=new _0x9106a2()),_0x9106a2[_0x1a1abe(0x8ab)];}['initialize'](){const _0x5ef89f=_0x1af94f;this['checkWebRTC'](),this[_0x5ef89f(0x813)](),this[_0x5ef89f(0x35b)](),this[_0x5ef89f(0x8ca)](),this[_0x5ef89f(0x266)](),this[_0x5ef89f(0x386)](),this[_0x5ef89f(0x933)](),this[_0x5ef89f(0x244)](),this[_0x5ef89f(0x496)](),this[_0x5ef89f(0x371)](),_0x5999e0[_0x5ef89f(0x15c)](_0x53526a[_0x5ef89f(0x82e)],_0x5ef89f(0x12c),{'featureSupport':this['featureSupport']});}[_0x1af94f(0x8a6)](_0x370a39){const _0x1363c0=_0x1af94f,_0x126bcd=this[_0x1363c0(0x345)]['find'](_0x4e7cd1=>_0x4e7cd1[_0x1363c0(0x450)]===_0x370a39);return!!_0x126bcd&&_0x126bcd[_0x1363c0(0x141)];}[_0x1af94f(0x15e)](_0x547ed4){const _0x55d23c=_0x1af94f;_0x5999e0[_0x55d23c(0x6c3)](_0x55d23c(0x2cd),{'nodeId':_0x547ed4[_0x55d23c(0x8f3)](),'nodeType':_0x547ed4[_0x55d23c(0x44f)],'data':{'featureSupport':this[_0x55d23c(0x345)]}});}['checkWebRTC'](){const _0x5574d=_0x1af94f,_0x211987=_0x59fdfa[_0x5574d(0xa12)];let _0x5585f8=!0x1;_0x5574d(0x3d9)==typeof RTCPeerConnection&&_0x5574d(0x3d9)==typeof RTCIceCandidate&&_0x5574d(0x3d9)==typeof RTCSessionDescription?_0x5585f8=!0x0:_0x5999e0['log'](_0x53526a[_0x5574d(0x82e)],_0x5574d(0x683)+_0x211987+_0x5574d(0x538)),this['featureSupport'][_0x5574d(0x3d6)]({'name':_0x211987,'supported':_0x5585f8});}[_0x1af94f(0x813)](){const _0x1ed0ad=_0x1af94f,_0x12a95f=_0x59fdfa[_0x1ed0ad(0x6ca)];let _0x30fc63=!0x1;'function'==typeof MediaStream&&_0x1ed0ad(0x3d9)==typeof MediaStreamTrack&&'object'==typeof navigator&&'object'==typeof navigator[_0x1ed0ad(0x1d2)]&&_0x1ed0ad(0x3d9)==typeof navigator[_0x1ed0ad(0x1d2)][_0x1ed0ad(0x49d)]?_0x30fc63=!0x0:_0x5999e0[_0x1ed0ad(0x15c)](_0x53526a['Support'],'Support:\x20'+_0x12a95f+_0x1ed0ad(0x538)),this[_0x1ed0ad(0x345)][_0x1ed0ad(0x3d6)]({'name':_0x12a95f,'supported':_0x30fc63});}[_0x1af94f(0x35b)](){const _0x8349b5=_0x1af94f,_0xd5bb8a=_0x59fdfa['ScreenSharing'];let _0x4b1a00=!0x1;_0x8349b5(0x4dc)==typeof navigator&&_0x8349b5(0x4dc)==typeof navigator[_0x8349b5(0x1d2)]&&_0x8349b5(0x3d9)==typeof navigator[_0x8349b5(0x1d2)][_0x8349b5(0x1e0)]?_0x4b1a00=!0x0:_0x5999e0[_0x8349b5(0x15c)](_0x53526a[_0x8349b5(0x82e)],_0x8349b5(0x683)+_0xd5bb8a+_0x8349b5(0x538)),this[_0x8349b5(0x345)][_0x8349b5(0x3d6)]({'name':_0xd5bb8a,'supported':_0x4b1a00});}[_0x1af94f(0x8ca)](){const _0x426a2a=_0x1af94f,_0x1e95a1=_0x59fdfa['AudioVolume'];let _0x23c0ac=!0x1;_0x426a2a(0x3d9)!=typeof AudioContext||_0x426a2a(0x3d9)!=typeof ScriptProcessorNode&&'function'!=typeof AudioWorkletNode||'function'!=typeof MediaStreamAudioSourceNode?_0x5999e0[_0x426a2a(0x15c)](_0x53526a['Support'],_0x426a2a(0x683)+_0x1e95a1+_0x426a2a(0x538)):_0x23c0ac=!0x0,this[_0x426a2a(0x345)][_0x426a2a(0x3d6)]({'name':_0x1e95a1,'supported':_0x23c0ac});}[_0x1af94f(0x266)](){const _0x182a14=_0x1af94f,_0x597ed0=_0x59fdfa[_0x182a14(0x418)];let _0x50b97c=!0x1;_0x182a14(0x4dc)==typeof navigator&&_0x182a14(0x4dc)==typeof navigator['mediaDevices']&&_0x182a14(0x3d9)==typeof navigator[_0x182a14(0x1d2)]['enumerateDevices']&&_0x182a14(0x3d9)==typeof MediaDeviceInfo?_0x50b97c=!0x0:_0x5999e0[_0x182a14(0x15c)](_0x53526a['Support'],_0x182a14(0x683)+_0x597ed0+'\x20not\x20supported'),this[_0x182a14(0x345)][_0x182a14(0x3d6)]({'name':_0x597ed0,'supported':_0x50b97c});}['checkAudioOutput'](){const _0x2283d0=_0x1af94f,_0x5c7424=_0x59fdfa[_0x2283d0(0x14f)];let _0x5f2bc8=!0x1;_0x2283d0(0x4dc)==typeof document&&_0x2283d0(0x3d9)==typeof document[_0x2283d0(0x884)]('video')[_0x2283d0(0x601)]?_0x5f2bc8=!0x0:_0x5999e0[_0x2283d0(0x15c)](_0x53526a[_0x2283d0(0x82e)],_0x2283d0(0x683)+_0x5c7424+_0x2283d0(0x538)),this[_0x2283d0(0x345)][_0x2283d0(0x3d6)]({'name':_0x5c7424,'supported':_0x5f2bc8});}async[_0x1af94f(0x933)](){const _0x499453=_0x1af94f,_0x447655=_0x59fdfa['Recording'];let _0x3ecece=!0x1;try{const _0x51817b=document[_0x499453(0x884)](_0x499453(0x397));if(MediaRecorder&&MediaSource&&_0x51817b['captureStream']){const _0x5a0b19=_0x51817b[_0x499453(0xa36)](),_0x3a35d0=new MediaRecorder(_0x5a0b19);_0x3a35d0[_0x499453(0x46d)](),await new Promise(_0x3575d1=>setTimeout(_0x3575d1,0x7d0)),_0x3a35d0[_0x499453(0x436)](),_0x3ecece='inactive'===_0x3a35d0[_0x499453(0x7f3)];}}catch(_0x300c1c){_0x5999e0[_0x499453(0x15c)](_0x53526a[_0x499453(0x82e)],_0x499453(0x683)+_0x447655+_0x499453(0x102),_0x300c1c);}this['featureSupport'][_0x499453(0x3d6)]({'name':_0x447655,'supported':_0x3ecece}),_0x3ecece||_0x5999e0['log'](_0x53526a['Support'],_0x499453(0x683)+_0x447655+_0x499453(0x538));}['checkBackgrounds'](){const _0x4ec093=_0x1af94f,_0x20bb38=_0x59fdfa[_0x4ec093(0x973)];let _0x2a3ba5=!0x1;try{document['createElement']('canvas')['captureStream']&&(_0x2a3ba5=!0x0);}catch(_0x5ec0a9){_0x5999e0[_0x4ec093(0x15c)](_0x53526a[_0x4ec093(0x82e)],_0x4ec093(0x683)+_0x20bb38+_0x4ec093(0x102),_0x5ec0a9);}this[_0x4ec093(0x345)]['push']({'name':_0x20bb38,'supported':_0x2a3ba5}),_0x2a3ba5||_0x5999e0[_0x4ec093(0x15c)](_0x53526a['Support'],_0x4ec093(0x683)+_0x20bb38+'\x20not\x20supported');}[_0x1af94f(0x496)](){const _0x3c88b2=_0x1af94f,_0x4ebd16=_0x59fdfa[_0x3c88b2(0xa16)];let _0x1f94db=!0x1;try{const _0xb96bf4=document[_0x3c88b2(0x884)](_0x3c88b2(0x397));WebGLRenderingContext&&_0xb96bf4[_0x3c88b2(0x10a)](_0x3c88b2(0x8a9))&&(_0x1f94db=!0x0);}catch(_0x1efb54){_0x5999e0[_0x3c88b2(0x15c)](_0x53526a[_0x3c88b2(0x82e)],_0x3c88b2(0x683)+_0x4ebd16+_0x3c88b2(0x102),_0x1efb54);}this[_0x3c88b2(0x345)]['push']({'name':_0x4ebd16,'supported':_0x1f94db}),_0x1f94db||_0x5999e0[_0x3c88b2(0x15c)](_0x53526a[_0x3c88b2(0x82e)],_0x3c88b2(0x683)+_0x4ebd16+'\x20not\x20supported');}[_0x1af94f(0x371)](){const _0x26f609=_0x1af94f,_0x2ff398=_0x59fdfa[_0x26f609(0xa17)];let _0x5acfb1=!0x1;_0x26f609(0x3d9)==typeof AudioContext?_0x5acfb1=!0x0:_0x5999e0[_0x26f609(0x15c)](_0x53526a[_0x26f609(0x82e)],_0x26f609(0x683)+_0x2ff398+'\x20not\x20supported'),this[_0x26f609(0x345)][_0x26f609(0x3d6)]({'name':_0x2ff398,'supported':_0x5acfb1});}}const _0x4ce139=_0x9106a2[_0x1af94f(0x6b0)]();class _0x4f9691{static [_0x1af94f(0x8ab)];static [_0x1af94f(0x885)];static ['mode'];[_0x1af94f(0x589)];[_0x1af94f(0x90c)];[_0x1af94f(0x9b8)];[_0x1af94f(0x45b)];['clusters']=new Map();[_0x1af94f(0x932)];constructor(_0xac65e9,_0x4898cd,_0x570173){const _0xc81cb0=_0x1af94f;this[_0xc81cb0(0x90c)]=_0xac65e9,this[_0xc81cb0(0x45b)]=_0x4898cd,this[_0xc81cb0(0x589)]=new _0x351adc(this[_0xc81cb0(0x90c)]),_0x4ce139[_0xc81cb0(0x462)](),this['options']={'audioContext':_0x570173?.['audioContext']??(_0x4ce139[_0xc81cb0(0x8a6)](_0x59fdfa['AudioContext'])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0x570173?.[_0xc81cb0(0x8da)]??0x1,'minConnections':_0x570173?.[_0xc81cb0(0x9db)]??0x3,'maxConnections':_0x570173?.[_0xc81cb0(0x45f)]??(_0x570173?.[_0xc81cb0(0x9db)]&&0x4*_0x570173[_0xc81cb0(0x9db)])??0xc,'maxDistance':_0x570173?.[_0xc81cb0(0xf4)]??0xa,'maxFps':_0x570173?.[_0xc81cb0(0xa02)]??0x18,'maxBpp':_0x570173?.[_0xc81cb0(0x6d4)]??0.12,'objectStoreConnector':_0x570173?.[_0xc81cb0(0x824)]??_0x42ae7b['OPFSObjectStoreConnector'],'externalStorageConnectors':_0x570173?.[_0xc81cb0(0x35f)],'keyValueDatabaseConnector':_0x570173?.['keyValueDatabaseConnector']??_0x30d131['IDBDatabaseConnector'],'loggingDatabaseConnector':_0x570173?.[_0xc81cb0(0xed)]??_0x30d131['IDBDatabaseConnector'],'peerConnectionConnector':_0x570173?.[_0xc81cb0(0x1e5)]??_0x547833[_0xc81cb0(0x975)],'generativeAIWorkerConnectors':_0x570173?.[_0xc81cb0(0x2f7)],'vectorDatabaseConnector':_0x570173?.[_0xc81cb0(0x7a9)],'graphDatabaseConnector':_0x570173?.[_0xc81cb0(0x3ed)],'documentParserConnector':_0x570173?.[_0xc81cb0(0x5fd)],'nlpLibraryConnector':_0x570173?.[_0xc81cb0(0x103)],'searchConnector':_0x570173?.['searchConnector'],'aiSearchConnector':_0x570173?.[_0xc81cb0(0x402)],'queryFileConnector':_0x570173?.[_0xc81cb0(0xa21)]},_0x570173?.[_0xc81cb0(0x7e3)]&&this['options'][_0xc81cb0(0x479)]&&_0xdf6e0c['startNoThrottlingHack'](this[_0xc81cb0(0x9b8)][_0xc81cb0(0x479)]),_0x5999e0[_0xc81cb0(0x89b)](this['vendorId']),_0x570173?.[_0xc81cb0(0x844)]&&_0x5999e0[_0xc81cb0(0x216)](_0x570173[_0xc81cb0(0x844)]);}static async[_0x1af94f(0x6b0)](_0x30e207,_0xa45a5b,_0x20d5b6,_0x1d17b9,_0x206ad9){const _0x555b0b=_0x1af94f;this[_0x555b0b(0x713)]=_0x20d5b6;const _0xddda3c=await this[_0x555b0b(0x48e)](_0x30e207,_0xa45a5b,_0x206ad9);return _0x4f9691[_0x555b0b(0x8ab)]||(_0x4f9691[_0x555b0b(0x8ab)]=new _0x4f9691(_0x30e207,_0xddda3c,_0x1d17b9)),{'close':_0x4f9691[_0x555b0b(0x8ab)][_0x555b0b(0x92f)][_0x555b0b(0x136)](_0x4f9691[_0x555b0b(0x8ab)]),'authenticateUser':_0x4f9691[_0x555b0b(0x8ab)][_0x555b0b(0x9c4)][_0x555b0b(0x136)](_0x4f9691['instance']),'authenticateAgent':_0x4f9691[_0x555b0b(0x8ab)][_0x555b0b(0x165)]['bind'](_0x4f9691[_0x555b0b(0x8ab)]),'joinCluster':_0x4f9691['instance'][_0x555b0b(0x52f)][_0x555b0b(0x136)](_0x4f9691[_0x555b0b(0x8ab)])};}static async['timestamp'](){return _0xa01105['getEstimatedTimestamp']();}static[_0x1af94f(0x4a1)](){const _0x596624=_0x1af94f;return _0x4f7736[_0x596624(0x4a1)];}async[_0x1af94f(0x92f)](_0xb9967c){const _0x55178b=_0x1af94f;this['clusters']['forEach'](_0x46d107=>{const _0x2a218e=a0_0xaf41;_0x46d107[_0x2a218e(0x5d4)](),_0x46d107[_0x2a218e(0x4a2)](_0xb9967c);}),this['clusters'][_0x55178b(0xa4f)](),this['options'][_0x55178b(0x479)]&&_0xdf6e0c['stopNoThrottlingHack'](),_0x4f9691['unsubscribe']?.(),_0x4f9691[_0x55178b(0x885)]=void 0x0,this[_0x55178b(0x932)]=void 0x0,await this[_0x55178b(0x589)][_0x55178b(0x321)](),_0x4f9691['instance']=void 0x0;}static async[_0x1af94f(0x48e)](_0x449071,_0x1382fe,_0x4fb858){const _0x36aa32=_0x1af94f;if(!this['mode'])throw new _0x3b3113(_0x56d472[_0x36aa32(0x936)],_0x36aa32(0x8de));let _0x2db94a;try{_0x2db94a=await(0x0,_0x52a505[_0x36aa32(0x377)])(_0xa01105[_0x36aa32(0x767)](),_0x36aa32(0x58a))({'vendorId':_0x449071,'accessToken':_0x1382fe,'secretKey':_0x4fb858});}catch(_0x188ce5){throw new _0x3b3113(_0x56d472[_0x36aa32(0x9a0)],_0x36aa32(0x4c3));}if(!this['isInternalSDKConfigs'](_0x2db94a[_0x36aa32(0x87a)]))throw new _0x3b3113(_0x56d472[_0x36aa32(0x9a0)],_0x36aa32(0x4c3));const _0x245ee8=_0x2db94a[_0x36aa32(0x87a)];return _0x245ee8[_0x36aa32(0x4f1)]||(_0x245ee8['features']=[]),this['unsubscribe']||(this[_0x36aa32(0x885)]=_0xdf6e0c['setInterval'](async()=>{const _0x13f13c=_0x36aa32;try{const _0x311e1f=await this['validateAccess'](_0x449071,_0x1382fe,_0x4fb858);this['mode']===_0xb0907f['NodeType'][_0x13f13c(0x58e)]&&(_0x311e1f[_0x13f13c(0x4ac)]=_0x311e1f[_0x13f13c(0x4ac)][_0x13f13c(0x7e0)](_0x5a5414=>_0x5a5414['urls'][_0x13f13c(0x4f2)](_0x13f13c(0x788)))),_0x245ee8['iceServers']=_0x311e1f[_0x13f13c(0x4ac)];}catch(_0x2feb15){}},0x1b7740)),_0x245ee8;}async['authenticateUser'](_0x2b3fc2){const _0x1171ff=_0x1af94f;if(_0x4f9691[_0x1171ff(0x713)]!==_0xb0907f[_0x1171ff(0x116)][_0x1171ff(0x551)])throw new _0x3b3113(_0x56d472[_0x1171ff(0x569)],'Node\x20type\x20is\x20invalid');await this[_0x1171ff(0x589)][_0x1171ff(0x4b3)](_0x2b3fc2);const _0x434fc5=new _0x40fd4e(_0x2b3fc2['id'],_0x2b3fc2['displayName'],_0x2b3fc2[_0x1171ff(0xa51)]);return this[_0x1171ff(0x932)]={'node':_0x434fc5},_0x4ce139['logSupport'](_0x434fc5),{'type':_0xb0907f['NodeType']['User'],'getId':_0x434fc5[_0x1171ff(0x8f3)][_0x1171ff(0x136)](_0x434fc5),'getDisplayName':_0x434fc5[_0x1171ff(0x87c)]['bind'](_0x434fc5),'getEmail':_0x434fc5[_0x1171ff(0x693)][_0x1171ff(0x136)](_0x434fc5),'setDisplayName':_0x434fc5['setDisplayName'][_0x1171ff(0x136)](_0x434fc5),'setEmail':_0x434fc5[_0x1171ff(0x1b2)][_0x1171ff(0x136)](_0x434fc5)};}async[_0x1af94f(0x165)](_0x97fd2b){const _0x224f3e=_0x1af94f;if(_0x4f9691[_0x224f3e(0x713)]!==_0xb0907f[_0x224f3e(0x116)]['Agent'])throw new _0x3b3113(_0x56d472['NodeInvalidType'],_0x224f3e(0x2fe));const {id:_0x4e66db,groupId:_0x4cffc9}=_0x97fd2b,_0x8f8d72=await(0x0,_0x36eea4[_0x224f3e(0x604)])((0x0,_0x36eea4[_0x224f3e(0x295)])(_0xa01105[_0x224f3e(0x1ca)](),_0x224f3e(0x39a)+this[_0x224f3e(0x90c)]+_0x224f3e(0x89f)+_0x4cffc9));if(!_0x8f8d72[_0x224f3e(0x20e)]())throw new _0x3b3113(_0x56d472[_0x224f3e(0x25c)],_0x224f3e(0x9c3));const _0x216eac=_0x8f8d72[_0x224f3e(0x87a)]();await this[_0x224f3e(0x589)]['signInWithCredential']({'id':_0x4e66db});const _0x186f0d=new _0x35c6ab(_0x4e66db,_0x4cffc9,this['vendorId'],_0x216eac);return this[_0x224f3e(0x932)]={'node':_0x186f0d},_0x4ce139['logSupport'](_0x186f0d),this['connectAgent'](_0x186f0d),{'type':_0xb0907f[_0x224f3e(0x116)][_0x224f3e(0x58e)],'getId':_0x186f0d[_0x224f3e(0x8f3)][_0x224f3e(0x136)](_0x186f0d),'onConfigurationChange':_0x186f0d['onConfigurationChange'][_0x224f3e(0x136)](_0x186f0d),'setReportCapacity':_0x186f0d[_0x224f3e(0x910)]['bind'](_0x186f0d)};}async['joinCluster'](_0x32a5d0){const _0x54babf=_0x1af94f;if(!this[_0x54babf(0x932)])throw new _0x3b3113(_0x56d472[_0x54babf(0x25c)],_0x54babf(0x9f5));if(this[_0x54babf(0x932)][_0x54babf(0x17e)]['type']!==_0xb0907f['NodeType'][_0x54babf(0x551)])throw new _0x3b3113(_0x56d472[_0x54babf(0xa42)],_0x54babf(0x993));if(this[_0x54babf(0x612)][_0x54babf(0x907)](_0x32a5d0))throw new _0x3b3113(_0x56d472[_0x54babf(0x3aa)],_0x54babf(0x8ff));const _0x130e29=new _0x283249(this[_0x54babf(0x90c)],_0x32a5d0,this[_0x54babf(0x932)][_0x54babf(0x17e)],this[_0x54babf(0x589)],this[_0x54babf(0x9b8)],this[_0x54babf(0x45b)]);return await _0x130e29[_0x54babf(0x7f4)](),this['addCluster'](_0x32a5d0,_0x130e29),_0x5999e0['logEvent']('join-cluster',{'clusterId':_0x32a5d0,'nodeId':this[_0x54babf(0x932)][_0x54babf(0x17e)]['getId'](),'nodeType':this[_0x54babf(0x932)][_0x54babf(0x17e)][_0x54babf(0x44f)]}),{'leave':_0x130e29[_0x54babf(0x4a2)][_0x54babf(0x136)](_0x130e29),'getLocalNode':_0x130e29[_0x54babf(0x222)][_0x54babf(0x136)](_0x130e29),'openPubSubTopic':_0x130e29['openPubSubTopic']['bind'](_0x130e29),'openObjectStoreBucket':_0x130e29[_0x54babf(0x696)][_0x54babf(0x136)](_0x130e29),'openExternalStorageConnection':_0x130e29['openExternalStorageConnection']['bind'](_0x130e29),'openKeyValueDatabase':_0x130e29[_0x54babf(0x2c2)]['bind'](_0x130e29),'openGenerativeAIContext':_0x130e29['openGenerativeAIContext'][_0x54babf(0x136)](_0x130e29),'openGenerativeAIWorker':_0x130e29[_0x54babf(0x960)][_0x54babf(0x136)](_0x130e29),'openGraphDatabase':_0x130e29[_0x54babf(0x3b4)]['bind'](_0x130e29),'openVectorDatabase':_0x130e29[_0x54babf(0x4ab)][_0x54babf(0x136)](_0x130e29),'publishLocalMediaStream':_0x130e29[_0x54babf(0x741)][_0x54babf(0x136)](_0x130e29),'publishLocalDynamicMediaStream':_0x130e29[_0x54babf(0x89e)][_0x54babf(0x136)](_0x130e29),'getPubSubTopics':_0x130e29[_0x54babf(0x967)][_0x54babf(0x136)](_0x130e29),'getObjectStoreBuckets':_0x130e29[_0x54babf(0x790)][_0x54babf(0x136)](_0x130e29),'getExternalStorageConnections':_0x130e29[_0x54babf(0x9f4)][_0x54babf(0x136)](_0x130e29),'getKeyValueDatabases':_0x130e29[_0x54babf(0x70e)][_0x54babf(0x136)](_0x130e29),'getGenerativeAIContexts':_0x130e29['getGenerativeAIContexts'][_0x54babf(0x136)](_0x130e29),'getGenerativeAIWorkers':_0x130e29[_0x54babf(0x711)]['bind'](_0x130e29),'getGraphDatabases':_0x130e29[_0x54babf(0x1d7)]['bind'](_0x130e29),'getVectorDatabases':_0x130e29[_0x54babf(0x5de)][_0x54babf(0x136)](_0x130e29),'getLocalMediaStreams':_0x130e29['getLocalMediaStreams'][_0x54babf(0x136)](_0x130e29),'getRemoteMediaStreams':_0x130e29[_0x54babf(0x1eb)][_0x54babf(0x136)](_0x130e29),'getRemoteNodes':_0x130e29['getRemoteNodes'][_0x54babf(0x136)](_0x130e29),'on':_0x130e29['on']['bind'](_0x130e29),'off':_0x130e29[_0x54babf(0x5d4)][_0x54babf(0x136)](_0x130e29)};}async[_0x1af94f(0x611)](_0x4b2551){const _0x4aff48=_0x1af94f;for(const _0x31bace of _0x4b2551[_0x4aff48(0x900)][_0x4aff48(0x612)]){const _0x29a6a2=new _0x283249(this['vendorId'],_0x31bace['id'],_0x4b2551,this[_0x4aff48(0x589)],this[_0x4aff48(0x9b8)],this['configs']);await _0x29a6a2[_0x4aff48(0x7f4)](),this['addCluster'](_0x31bace['id'],_0x29a6a2),_0x5999e0['forceLog'](_0x4aff48(0x4cd),_0x31bace['id']);for(const _0xa3c110 of _0x31bace[_0x4aff48(0x330)]??[])_0x29a6a2[_0x4aff48(0x12e)](_0xa3c110),_0x5999e0['forceLog'](_0x4aff48(0x37d),_0xa3c110);for(const _0x4c1341 of _0x31bace['objectStorageBuckets']??[])await _0x29a6a2[_0x4aff48(0x696)](_0x4c1341),_0x5999e0[_0x4aff48(0xfd)](_0x4aff48(0x58c),_0x4c1341);for(const _0x3e4745 of _0x31bace['modelStorageBuckets']??[])await _0x29a6a2[_0x4aff48(0x696)](_0x3e4745,{'standalone':!0x0}),_0x5999e0[_0x4aff48(0xfd)]('Opened\x20model\x20store\x20bucket',_0x3e4745);for(const _0x2636ae of _0x31bace[_0x4aff48(0x497)]??[]){const _0xa01351=_0x2636ae[_0x4aff48(0x7c6)]('-');await _0x29a6a2['openExternalStorageConnection'](_0xa01351[0x1],_0xa01351[0x0]),_0x5999e0[_0x4aff48(0xfd)](_0x4aff48(0x580),_0x2636ae);}for(const _0x4ad700 of _0x31bace[_0x4aff48(0x3ba)]??[])await _0x29a6a2[_0x4aff48(0x2c2)](_0x4ad700,{'version':0x1,'tables':{}}),_0x5999e0['forceLog'](_0x4aff48(0x1a2),_0x4ad700);for(const _0x4b7523 of _0x31bace[_0x4aff48(0x3ab)]??[])_0x29a6a2['openGraphDatabase'](_0x4b7523),_0x5999e0[_0x4aff48(0xfd)](_0x4aff48(0x588),_0x4b7523);for(const _0x2a9f14 of _0x31bace[_0x4aff48(0x6e6)]??[])_0x29a6a2[_0x4aff48(0x4ab)](_0x2a9f14),_0x5999e0[_0x4aff48(0xfd)]('Opened\x20vector\x20database',_0x2a9f14);for(const _0x2f0cf2 of _0x31bace[_0x4aff48(0x6dd)]??[]){const _0x3510a6=_0x23bf08(this['vendorId'],_0x2f0cf2),_0x31454f=_0x44b6e1(),_0x483e65=this[_0x4aff48(0x9b8)][_0x4aff48(0xed)]??this[_0x4aff48(0x9b8)]['keyValueDatabaseConnector'];await _0x29a6a2['openKeyValueDatabase'](_0x3510a6,_0x31454f,_0x483e65),_0x5999e0[_0x4aff48(0xfd)](_0x4aff48(0x7ff),_0x3510a6),await _0x29a6a2['openGenerativeAIWorker'](_0x2f0cf2),_0x5999e0[_0x4aff48(0xfd)](_0x4aff48(0x51f),_0x2f0cf2);}}}[_0x1af94f(0x8a4)](_0x2dd569,_0x7d3a99){const _0x11a40d=_0x1af94f;this['clusters'][_0x11a40d(0x81a)](_0x2dd569,_0x7d3a99),_0x7d3a99['on']('cluster-leave',()=>{const _0x2ab37b=_0x11a40d;_0x7d3a99[_0x2ab37b(0x5d4)](),this[_0x2ab37b(0x612)]['delete'](_0x2dd569);});}static[_0x1af94f(0x2b8)](_0xae7dba){const _0x42a1a3=_0x1af94f;return void 0x0!==_0xae7dba[_0x42a1a3(0x4ac)];}}return _0xe2d335;})())));