(function(_0x1a5b9a,_0x3d3050){const _0xac1356=a0_0x214c,_0x5aad21=_0x1a5b9a();while(!![]){try{const _0x35da45=parseInt(_0xac1356(0x9a7))/0x1*(-parseInt(_0xac1356(0x515))/0x2)+-parseInt(_0xac1356(0x355))/0x3+parseInt(_0xac1356(0xa08))/0x4*(-parseInt(_0xac1356(0xa0e))/0x5)+parseInt(_0xac1356(0x74e))/0x6*(parseInt(_0xac1356(0x78e))/0x7)+parseInt(_0xac1356(0x9e8))/0x8*(-parseInt(_0xac1356(0x816))/0x9)+-parseInt(_0xac1356(0x2cc))/0xa+parseInt(_0xac1356(0x5e0))/0xb;if(_0x35da45===_0x3d3050)break;else _0x5aad21['push'](_0x5aad21['shift']());}catch(_0x4b8ca1){_0x5aad21['push'](_0x5aad21['shift']());}}}(a0_0x5bce,0x2626f),!function(_0x3a7d15,_0x2cb66e){const _0x34f507=a0_0x214c;if(_0x34f507(0x863)==typeof exports&&_0x34f507(0x863)==typeof module)module['exports']=_0x2cb66e();else{if('function'==typeof define&&define['amd'])define([],_0x2cb66e);else{var _0x3de824=_0x2cb66e();for(var _0x5cf558 in _0x3de824)(_0x34f507(0x863)==typeof exports?exports:_0x3a7d15)[_0x5cf558]=_0x3de824[_0x5cf558];}}}(this,()=>((()=>{'use strict';const _0x5f24fc=a0_0x214c;var _0x5e27f3={0x14d:(_0x24951e,_0x2a9775,_0x4444db)=>{const _0x275506=a0_0x214c;_0x4444db['d'](_0x2a9775,{'O':()=>_0x4a79fe});const _0x4a79fe={'version':_0x275506(0x219),'isProduction':!0x1,'firebaseConfig':{'apiKey':_0x275506(0xa1b),'authDomain':_0x275506(0xad2),'databaseURL':'https://crewdle-sdk-stg-default-rtdb.firebaseio.com','projectId':_0x275506(0x432),'storageBucket':_0x275506(0x46d),'appId':'1:519415702791:web:5dd39042f881cfde3251a2','functionsRegion':_0x275506(0xa78)},'google':{'searchEngineId':_0x275506(0x4da)},'aws':{'endpoint':_0x275506(0x975),'region':_0x275506(0x63f)}};},0x33b:(_0x5305bc,_0x5d40df,_0x2e76a8)=>{_0x2e76a8['d'](_0x5d40df,{'O':()=>_0x3f9e5c});const _0x3f9e5c={};},0x3e6:(_0x4b2c49,_0x36b031,_0x41d721)=>{const _0x41a6c4=a0_0x214c;_0x41d721['d'](_0x36b031,{'O':()=>_0x599978});const _0x599978={'version':'1.0.21','isProduction':!0x0,'firebaseConfig':{'apiKey':_0x41a6c4(0xb10),'authDomain':'crewdle-sdk.firebaseapp.com','databaseURL':_0x41a6c4(0x768),'projectId':_0x41a6c4(0x34b),'storageBucket':_0x41a6c4(0x39a),'messagingSenderId':_0x41a6c4(0xafa),'appId':_0x41a6c4(0x956),'measurementId':_0x41a6c4(0xa30)},'aws':{'endpoint':_0x41a6c4(0x6dc),'region':'us-east-1'}};},0x20:(_0x1a48a6,_0x5a7fa9,_0x4c8af6)=>{_0x4c8af6['d'](_0x5a7fa9,{'O':()=>_0xfa281b});const _0xfa281b={};}},_0x9db5be={};function _0x226897(_0x200184){const _0x504d22=a0_0x214c;var _0x46f5ed=_0x9db5be[_0x200184];if(void 0x0!==_0x46f5ed)return _0x46f5ed[_0x504d22(0x808)];var _0x2d2fe5=_0x9db5be[_0x200184]={'exports':{}};return _0x5e27f3[_0x200184](_0x2d2fe5,_0x2d2fe5[_0x504d22(0x808)],_0x226897),_0x2d2fe5[_0x504d22(0x808)];}_0x226897['d']=(_0xe43d6d,_0x209c64)=>{const _0x2590b9=a0_0x214c;for(var _0x2eb7a8 in _0x209c64)_0x226897['o'](_0x209c64,_0x2eb7a8)&&!_0x226897['o'](_0xe43d6d,_0x2eb7a8)&&Object[_0x2590b9(0x382)](_0xe43d6d,_0x2eb7a8,{'enumerable':!0x0,'get':_0x209c64[_0x2eb7a8]});},_0x226897['g']=(function(){const _0x5f5cbd=a0_0x214c;if(_0x5f5cbd(0x863)==typeof globalThis)return globalThis;try{return this||new Function(_0x5f5cbd(0x7c7))();}catch(_0x412a32){if('object'==typeof window)return window;}}()),_0x226897['o']=(_0x5a129c,_0x223b4e)=>Object[_0x5f24fc(0x60a)][_0x5f24fc(0x860)][_0x5f24fc(0x436)](_0x5a129c,_0x223b4e),_0x226897['r']=_0x233095=>{const _0x2c6656=_0x5f24fc;_0x2c6656(0x474)!=typeof Symbol&&Symbol[_0x2c6656(0xb02)]&&Object['defineProperty'](_0x233095,Symbol[_0x2c6656(0xb02)],{'value':_0x2c6656(0x4f0)}),Object[_0x2c6656(0x382)](_0x233095,_0x2c6656(0xa07),{'value':!0x0});};var _0x2efe49,_0x267c89,_0xb10df,_0x488446={};_0x226897['r'](_0x488446),_0x226897['d'](_0x488446,{'KeyValueDatabase':()=>_0x12db96,'LayoutBuilder':()=>_0x4e3b58,'LoggingChannels':()=>_0xb10df,'QueryBuilder':()=>_0x3d7037,'SDK':()=>_0x458fbe,'SDKClientErrorCodes':()=>_0x2efe49,'TableBuilder':()=>_0x32d493,'logger':()=>_0x40d481}),function(_0x4def8c){const _0x54473e=_0x5f24fc;_0x4def8c[_0x54473e(0x82a)]='connection-buffer-not-empty',_0x4def8c[_0x54473e(0x78a)]=_0x54473e(0x261),_0x4def8c[_0x54473e(0x736)]=_0x54473e(0x5df),_0x4def8c['ExternalStorageConnectionAlreadySubscribed']=_0x54473e(0xa0f),_0x4def8c['ExternalStorageConnectionDoesNotExist']=_0x54473e(0xaee),_0x4def8c[_0x54473e(0x2e2)]=_0x54473e(0x960),_0x4def8c[_0x54473e(0x420)]='external-storage-invalid-path',_0x4def8c['ExternalStorageNameNotString']=_0x54473e(0x9bc),_0x4def8c[_0x54473e(0xb1b)]=_0x54473e(0x774),_0x4def8c[_0x54473e(0x74d)]=_0x54473e(0xadd),_0x4def8c[_0x54473e(0x82c)]=_0x54473e(0x398),_0x4def8c[_0x54473e(0x500)]='generative-ai-context-job-missing-thread-id',_0x4def8c['GenerativeAILabelConflict']=_0x54473e(0x254),_0x4def8c['GenerativeAIWorkerAlreadyExists']='generative-ai-worker-already-exists',_0x4def8c[_0x54473e(0x61c)]='generative-ai-worker-missing-connector',_0x4def8c['GenerativeAIWorkerModelSyncError']=_0x54473e(0x67a),_0x4def8c[_0x54473e(0x5fb)]=_0x54473e(0x471),_0x4def8c[_0x54473e(0x27e)]=_0x54473e(0x374),_0x4def8c[_0x54473e(0x2b8)]='graph-database-missing-connector',_0x4def8c[_0x54473e(0x95e)]=_0x54473e(0x2ae),_0x4def8c[_0x54473e(0x43b)]=_0x54473e(0x4b0),_0x4def8c[_0x54473e(0x5d4)]='job-dispatcher-does-not-exist',_0x4def8c[_0x54473e(0x3e7)]=_0x54473e(0x4f1),_0x4def8c[_0x54473e(0x37e)]=_0x54473e(0x86b),_0x4def8c['JobDispatcherInvalidJobType']=_0x54473e(0x5f6),_0x4def8c[_0x54473e(0x6ae)]=_0x54473e(0x2a9),_0x4def8c[_0x54473e(0x84e)]=_0x54473e(0x927),_0x4def8c[_0x54473e(0x5d0)]=_0x54473e(0xa6e),_0x4def8c[_0x54473e(0x75a)]=_0x54473e(0x1fd),_0x4def8c[_0x54473e(0x4fb)]=_0x54473e(0x7b8),_0x4def8c[_0x54473e(0x4b5)]=_0x54473e(0x490),_0x4def8c[_0x54473e(0x519)]='object-store-invalid-payload',_0x4def8c[_0x54473e(0x369)]=_0x54473e(0xa7d),_0x4def8c[_0x54473e(0x973)]='object-store-not-in-sync',_0x4def8c[_0x54473e(0xae5)]=_0x54473e(0x3ff),_0x4def8c[_0x54473e(0x249)]='invalid-access',_0x4def8c[_0x54473e(0x95d)]='key-value-database-already-exists',_0x4def8c['KeyValueDatabaseDoesNotExist']=_0x54473e(0x96b),_0x4def8c[_0x54473e(0x304)]=_0x54473e(0x75c),_0x4def8c[_0x54473e(0x5ed)]='key-value-database-invalid-query',_0x4def8c[_0x54473e(0x769)]='key-value-database-invalid-value',_0x4def8c[_0x54473e(0x663)]=_0x54473e(0x313),_0x4def8c[_0x54473e(0x222)]=_0x54473e(0xaab),_0x4def8c['KeyValueDatabaseTableNameReserved']=_0x54473e(0x4cf),_0x4def8c[_0x54473e(0x6b1)]=_0x54473e(0x3b0),_0x4def8c[_0x54473e(0xadc)]=_0x54473e(0x2b7),_0x4def8c['LocalMediaStreamAlreadyExists']=_0x54473e(0x6ba),_0x4def8c[_0x54473e(0x84d)]=_0x54473e(0x605),_0x4def8c[_0x54473e(0x9f5)]=_0x54473e(0x6fb),_0x4def8c[_0x54473e(0x9b1)]=_0x54473e(0x72f),_0x4def8c[_0x54473e(0x569)]=_0x54473e(0x408),_0x4def8c[_0x54473e(0x704)]='pub-sub-topic-already-subscribed',_0x4def8c['QueryBuilderInvalidArgument']='query-helper-invalid-argument',_0x4def8c[_0x54473e(0x280)]='remote-media-stream-already-exists',_0x4def8c[_0x54473e(0x923)]=_0x54473e(0x4a9),_0x4def8c['SubscriptionRequestInProgress']=_0x54473e(0x2a2),_0x4def8c[_0x54473e(0x5c9)]=_0x54473e(0x941),_0x4def8c[_0x54473e(0x7e8)]='node-invalid-type',_0x4def8c['NodeTypeNotSupported']='node-type-not-supported',_0x4def8c['NodeTypeRequired']=_0x54473e(0x8d8),_0x4def8c[_0x54473e(0x740)]=_0x54473e(0x83c),_0x4def8c['VectorDatabaseDoesNotExist']=_0x54473e(0xb13),_0x4def8c['VectorDatabaseMissingConnector']='vector-database-missing-connector',_0x4def8c[_0x54473e(0x635)]=_0x54473e(0x4b4);}(_0x2efe49||(_0x2efe49={}));class _0x55ecf3 extends Error{[_0x5f24fc(0x3ab)];constructor(_0x3f867f,_0x439072){const _0x154feb=_0x5f24fc;super(_0x439072),this[_0x154feb(0x3ab)]=_0x3f867f;}}!function(_0x1fa918){const _0x311d5e=_0x5f24fc;_0x1fa918[_0x311d5e(0x534)]=_0x311d5e(0x61d),_0x1fa918[_0x311d5e(0x7bf)]=_0x311d5e(0x494),_0x1fa918['KeyValueDatabase']=_0x311d5e(0x5e1),_0x1fa918[_0x311d5e(0x89f)]=_0x311d5e(0x9d7),_0x1fa918[_0x311d5e(0x5ce)]=_0x311d5e(0x85b),_0x1fa918[_0x311d5e(0xab6)]=_0x311d5e(0x4d8),_0x1fa918[_0x311d5e(0x69e)]=_0x311d5e(0x5c5),_0x1fa918[_0x311d5e(0x5f7)]=_0x311d5e(0x855);}(_0x267c89||(_0x267c89={})),function(_0x5a11ee){const _0x407271=_0x5f24fc;_0x5a11ee[_0x407271(0x470)]=_0x407271(0x366),_0x5a11ee['Default']=_0x407271(0x2fb),_0x5a11ee[_0x407271(0x2dd)]=_0x407271(0x752),_0x5a11ee['ConnectionState']=_0x407271(0x621),_0x5a11ee[_0x407271(0x965)]=_0x407271(0x994),_0x5a11ee[_0x407271(0x209)]='content',_0x5a11ee['DataStream']=_0x407271(0x78f),_0x5a11ee[_0x407271(0x5c6)]=_0x407271(0x622),_0x5a11ee[_0x407271(0x266)]=_0x407271(0x350),_0x5a11ee[_0x407271(0x3d2)]=_0x407271(0x4d2),_0x5a11ee[_0x407271(0x341)]=_0x407271(0x93a),_0x5a11ee[_0x407271(0x71b)]=_0x407271(0x5e1),_0x5a11ee[_0x407271(0x91e)]=_0x407271(0x670),_0x5a11ee[_0x407271(0x7c4)]=_0x407271(0x74b),_0x5a11ee['PubSub']=_0x407271(0x61d),_0x5a11ee[_0x407271(0x63e)]=_0x407271(0x4f7),_0x5a11ee[_0x407271(0x42c)]='remediation',_0x5a11ee['SenderSendMessage']=_0x407271(0x8d9),_0x5a11ee[_0x407271(0x229)]=_0x407271(0xa8f),_0x5a11ee[_0x407271(0x7d3)]=_0x407271(0x944),_0x5a11ee[_0x407271(0x63c)]=_0x407271(0x6b8),_0x5a11ee[_0x407271(0x3c1)]=_0x407271(0x2d0),_0x5a11ee[_0x407271(0x59a)]=_0x407271(0x48c),_0x5a11ee[_0x407271(0x76c)]=_0x407271(0x297),_0x5a11ee[_0x407271(0x71c)]=_0x407271(0x23f),_0x5a11ee['PeerConnection']=_0x407271(0x82d);}(_0xb10df||(_0xb10df={}));const _0x20053a=require('@crewdle/web-sdk-types');class _0x3d7037{[_0x5f24fc(0x25d)];constructor(_0x196c85){const _0x46cffa=_0x5f24fc;this[_0x46cffa(0x25d)]={'orderBy':{'key':_0x196c85,'direction':_0x46cffa(0x710)}};}static[_0x5f24fc(0x2ef)](_0x5941a2){const _0x54997f=_0x5f24fc;if(_0x54997f(0x57a)!=typeof _0x5941a2||0x0===_0x5941a2[_0x54997f(0x9a6)])throw new _0x55ecf3(_0x2efe49['QueryBuilderInvalidArgument'],'Invalid\x20index\x20key:\x20must\x20be\x20a\x20string');return new _0x3d7037(_0x5941a2);}static['validateQuery'](_0x2dd9b6){const _0x560828=_0x5f24fc;try{return _0x3d7037[_0x560828(0xa13)](_0x2dd9b6),!0x0;}catch(_0x38904c){return!0x1;}}static[_0x5f24fc(0xa13)](_0x5ad1a8){const _0x4129ca=_0x5f24fc,_0x427d12=_0x3d7037[_0x4129ca(0x2ef)](_0x5ad1a8[_0x4129ca(0xaa8)]?.[_0x4129ca(0x3e2)]??_0x5ad1a8[_0x4129ca(0x751)]?.[_0x4129ca(0x3e2)]??'');if(_0x5ad1a8[_0x4129ca(0x751)]){const _0x100a95=_0x5ad1a8[_0x4129ca(0x751)];if((_0x3d7037[_0x4129ca(0x2df)](_0x100a95)||_0x3d7037[_0x4129ca(0x6ee)](_0x100a95)||_0x3d7037[_0x4129ca(0xab3)](_0x100a95))&&_0x427d12[_0x4129ca(0x751)](_0x100a95[_0x4129ca(0x8a9)],_0x100a95[_0x4129ca(0x810)]),_0x5ad1a8[_0x4129ca(0xaa8)]?.[_0x4129ca(0x3e2)]&&_0x5ad1a8[_0x4129ca(0xaa8)]?.[_0x4129ca(0x3e2)]!==_0x5ad1a8['where'][_0x4129ca(0x3e2)])throw new _0x55ecf3(_0x2efe49[_0x4129ca(0x5f3)],_0x4129ca(0x230));}return _0x5ad1a8[_0x4129ca(0xaa8)]&&_0x427d12['orderBy'](_0x5ad1a8['orderBy'][_0x4129ca(0x205)]),_0x5ad1a8['limit']&&_0x427d12[_0x4129ca(0x95a)](_0x5ad1a8['limit']),_0x5ad1a8[_0x4129ca(0xabd)]&&_0x427d12[_0x4129ca(0xabd)](_0x5ad1a8['offset']),_0x427d12;}['getQuery'](){const _0x5481b4=_0x5f24fc;return{...this[_0x5481b4(0x25d)]};}[_0x5f24fc(0x751)](_0x37cac2,_0x44ae74){const _0x46210a=_0x5f24fc,_0x2e29b9={'key':this['query'][_0x46210a(0xaa8)]['key'],'operator':_0x37cac2,'value':_0x44ae74};if(!_0x3d7037[_0x46210a(0x2df)](_0x2e29b9)&&!_0x3d7037[_0x46210a(0x6ee)](_0x2e29b9)&&!_0x3d7037['isWhereBetween'](_0x2e29b9))throw new _0x55ecf3(_0x2efe49[_0x46210a(0x5f3)],_0x46210a(0xa9c));return this[_0x46210a(0x25d)]['where']=_0x2e29b9,this;}[_0x5f24fc(0xaa8)](_0xe4b970){const _0x16e0d2=_0x5f24fc;if(_0x16e0d2(0x710)!==_0xe4b970&&'desc'!==_0xe4b970)throw new _0x55ecf3(_0x2efe49[_0x16e0d2(0x5f3)],'Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc');return this[_0x16e0d2(0x25d)][_0x16e0d2(0xaa8)][_0x16e0d2(0x205)]=_0xe4b970,this;}[_0x5f24fc(0x95a)](_0x432337){const _0x2f7dc7=_0x5f24fc;if('number'!=typeof _0x432337||_0x432337<0x0)throw new _0x55ecf3(_0x2efe49['QueryBuilderInvalidArgument'],_0x2f7dc7(0x4d5));return this['query'][_0x2f7dc7(0x95a)]=_0x432337,this;}[_0x5f24fc(0xabd)](_0x268502){const _0x48b83c=_0x5f24fc;if(_0x48b83c(0x522)!=typeof _0x268502||_0x268502<0x0)throw new _0x55ecf3(_0x2efe49['QueryBuilderInvalidArgument'],'Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number');return this[_0x48b83c(0x25d)][_0x48b83c(0xabd)]=_0x268502,this;}static['isWhereValue'](_0x2bb8a1){const _0xcef741=_0x5f24fc;if(!(_0x2bb8a1&&_0xcef741(0x863)==typeof _0x2bb8a1&&'operator'in _0x2bb8a1&&_0xcef741(0x810)in _0x2bb8a1))return!0x1;const {operator:_0x26eb76,value:_0x4b220}=_0x2bb8a1;return!(!['==','!=','>','<','<=','>='][_0xcef741(0x465)](_0x26eb76)||Array[_0xcef741(0x2f1)](_0x4b220));}static[_0x5f24fc(0x6ee)](_0x1823c9){const _0x489e89=_0x5f24fc;if(!(_0x1823c9&&_0x489e89(0x863)==typeof _0x1823c9&&'operator'in _0x1823c9&&'value'in _0x1823c9))return!0x1;const {operator:_0x227f5a,value:_0xb72f24}=_0x1823c9;return!(!['in','not-in'][_0x489e89(0x465)](_0x227f5a)||!Array[_0x489e89(0x2f1)](_0xb72f24));}static[_0x5f24fc(0xab3)](_0x455640){const _0x2d54e1=_0x5f24fc;if(!(_0x455640&&_0x2d54e1(0x863)==typeof _0x455640&&_0x2d54e1(0x8a9)in _0x455640&&_0x2d54e1(0x810)in _0x455640))return!0x1;const {operator:_0x247ee6,value:_0x216fea}=_0x455640;return!('between'!==_0x247ee6||!Array[_0x2d54e1(0x2f1)](_0x216fea)||0x2!==_0x216fea['length']);}}class _0x4e3b58{['layout'];constructor(_0x3133ed){const _0x5f3d60=_0x5f24fc;this[_0x5f3d60(0x39d)]={'tables':{},'version':_0x3133ed};}static['validateLayout'](_0x1560dc){const _0x1178b5=_0x5f24fc;for(const _0x1fd5fb in _0x1560dc){if(_0x1178b5(0x952)!==_0x1fd5fb&&_0x1178b5(0xac1)!==_0x1fd5fb)return[!0x1,_0x1178b5(0x405)+_0x1fd5fb+_0x1178b5(0x54a)];if(_0x1178b5(0xac1)===_0x1fd5fb)for(const _0x377069 in _0x1560dc[_0x1178b5(0xac1)]){if('string'!=typeof _0x377069)return[!0x1,'Invalid\x20table\x20name\x20\x27'+_0x377069+'\x27'];for(const _0x271294 in _0x1560dc[_0x1178b5(0xac1)][_0x377069]){if('indexes'!==_0x271294)return[!0x1,_0x1178b5(0x405)+_0x271294+'\x27\x20in\x20table\x20\x27'+_0x377069+'\x27'];const _0x10cee2=_0x1560dc[_0x1178b5(0xac1)][_0x377069][_0x271294]??[];for(const _0x4408bc of _0x10cee2)if(void 0x0===_0x4408bc[_0x1178b5(0x9aa)]||_0x1178b5(0x57a)!=typeof _0x4408bc[_0x1178b5(0x9aa)])return[!0x1,'Invalid\x20index\x20in\x20table\x20\x27'+_0x377069+_0x1178b5(0x7db)];}}else{if(_0x1178b5(0x952)===_0x1fd5fb&&_0x1178b5(0x522)!=typeof _0x1560dc[_0x1fd5fb])return[!0x1,_0x1178b5(0x5b3)+_0x1560dc[_0x1fd5fb]+_0x1178b5(0x417)];}}return[!0x0,'Valid\x20layout'];}static[_0x5f24fc(0x39d)](_0x2ab1d7){const _0x16bc42=_0x5f24fc,_0x95378f=new _0x4e3b58(_0x2ab1d7);return _0x95378f[_0x16bc42(0x39d)][_0x16bc42(0x952)]=_0x2ab1d7,_0x95378f;}[_0x5f24fc(0x326)](_0x29d5ea){const _0x3208de=_0x5f24fc;return this['layout'][_0x3208de(0xac1)][_0x29d5ea]={},new _0x32d493(this[_0x3208de(0x39d)]['tables'][_0x29d5ea]);}[_0x5f24fc(0x92d)](){const _0x394c65=_0x5f24fc;return this[_0x394c65(0x39d)];}}class _0x32d493{[_0x5f24fc(0x98e)];constructor(_0x49f562){const _0xa2a010=_0x5f24fc;this[_0xa2a010(0x98e)]=_0x49f562;}['index'](_0x754a81){const _0x1d902c=_0x5f24fc;return this[_0x1d902c(0x98e)][_0x1d902c(0x555)]=this['tableLayout'][_0x1d902c(0x555)]??[],this[_0x1d902c(0x98e)][_0x1d902c(0x555)]['push']({'keyPath':_0x754a81}),this;}}const _0x8cd2d1=0x40000,_0x5d29a2=0x20000,_0x4a5b22=0x1388,_0x140718=_0x5f24fc(0x87d),_0x3a859d='.crewdle-pending',_0x37f735=_0x5f24fc(0xb3d),_0x482a8c=_0x5f24fc(0x1f1),_0x52f392=0xdbba0,_0x59a7d1='.gguf',_0x8279d5=0x61a8,_0x53144e=0x7530,_0x7cf9e6=_0x5f24fc(0x8e0);var _0x3c52ed;!function(_0x3b2d4c){const _0x52f80c=_0x5f24fc;_0x3b2d4c['ConnectionNotinitialized']=_0x52f80c(0x317),_0x3b2d4c[_0x52f80c(0x8d5)]=_0x52f80c(0xb22),_0x3b2d4c['ConnectionNoRetryQueue']=_0x52f80c(0x611),_0x3b2d4c[_0x52f80c(0x370)]=_0x52f80c(0xb3a),_0x3b2d4c[_0x52f80c(0xa9e)]=_0x52f80c(0x961),_0x3b2d4c[_0x52f80c(0x65f)]=_0x52f80c(0x2c5),_0x3b2d4c[_0x52f80c(0x8ea)]=_0x52f80c(0x6b5),_0x3b2d4c[_0x52f80c(0x762)]=_0x52f80c(0x466),_0x3b2d4c[_0x52f80c(0x233)]=_0x52f80c(0x7bc),_0x3b2d4c[_0x52f80c(0x7b4)]=_0x52f80c(0x4e0),_0x3b2d4c[_0x52f80c(0x35b)]=_0x52f80c(0x6e5),_0x3b2d4c[_0x52f80c(0x409)]=_0x52f80c(0x7b1),_0x3b2d4c[_0x52f80c(0x3b6)]=_0x52f80c(0x71a),_0x3b2d4c[_0x52f80c(0x2ed)]=_0x52f80c(0x517),_0x3b2d4c['InvalidSubscription']=_0x52f80c(0x507),_0x3b2d4c[_0x52f80c(0xa3e)]=_0x52f80c(0x5a3),_0x3b2d4c[_0x52f80c(0x3aa)]=_0x52f80c(0x9f6),_0x3b2d4c[_0x52f80c(0x37e)]=_0x52f80c(0x86b),_0x3b2d4c[_0x52f80c(0x880)]=_0x52f80c(0x501),_0x3b2d4c[_0x52f80c(0x535)]=_0x52f80c(0x7d0),_0x3b2d4c[_0x52f80c(0x851)]=_0x52f80c(0xb32),_0x3b2d4c['KeyValueDatabaseCreationFailed']='key-value-database-creation-failed',_0x3b2d4c[_0x52f80c(0xa86)]=_0x52f80c(0x7ca),_0x3b2d4c[_0x52f80c(0x981)]='key-value-database-table-does-not-exist',_0x3b2d4c[_0x52f80c(0x383)]=_0x52f80c(0x58e),_0x3b2d4c[_0x52f80c(0x7a3)]=_0x52f80c(0x458),_0x3b2d4c['LocalMediaStreamDoesNotExist']=_0x52f80c(0x45f),_0x3b2d4c[_0x52f80c(0xa02)]=_0x52f80c(0xaae),_0x3b2d4c[_0x52f80c(0x7c8)]=_0x52f80c(0x50e),_0x3b2d4c[_0x52f80c(0x6b4)]=_0x52f80c(0x835),_0x3b2d4c['ObjectStoreCannotWriteTransaction']=_0x52f80c(0x2c8),_0x3b2d4c[_0x52f80c(0x925)]=_0x52f80c(0x401),_0x3b2d4c[_0x52f80c(0x7dd)]=_0x52f80c(0x99e),_0x3b2d4c[_0x52f80c(0x7d6)]=_0x52f80c(0x94f),_0x3b2d4c['OutgoingMediaStreamNoTopic']=_0x52f80c(0xabc),_0x3b2d4c[_0x52f80c(0x315)]=_0x52f80c(0x38b),_0x3b2d4c['RemoteMediaStreamMissingProviderId']='remote-stream-missing-provider-id',_0x3b2d4c[_0x52f80c(0xaa7)]=_0x52f80c(0x37c),_0x3b2d4c['SubscriptionRequestDoesNotExist']=_0x52f80c(0x934),_0x3b2d4c[_0x52f80c(0x31e)]=_0x52f80c(0x89d),_0x3b2d4c[_0x52f80c(0x4d0)]=_0x52f80c(0x3cc),_0x3b2d4c[_0x52f80c(0x8e9)]='node-does-not-exist',_0x3b2d4c[_0x52f80c(0x6f4)]='node-already-exist',_0x3b2d4c[_0x52f80c(0xa57)]=_0x52f80c(0xaa3),_0x3b2d4c['VectorDatabaseCreationFailed']=_0x52f80c(0x720),_0x3b2d4c['WorkflowDoesNotExist']='workflow-does-not-exist',_0x3b2d4c[_0x52f80c(0xa6d)]=_0x52f80c(0xa19);}(_0x3c52ed||(_0x3c52ed={}));const _0x3ec113=new Map([[_0x3c52ed[_0x5f24fc(0xa67)],'Connection\x20not\x20initialized.'],[_0x3c52ed[_0x5f24fc(0x8d5)],_0x5f24fc(0x337)],[_0x3c52ed[_0x5f24fc(0x5f0)],_0x5f24fc(0x996)],[_0x3c52ed[_0x5f24fc(0x370)],_0x5f24fc(0x606)],[_0x3c52ed[_0x5f24fc(0xa9e)],_0x5f24fc(0x957)],[_0x3c52ed[_0x5f24fc(0x65f)],'Generative\x20AI\x20context\x20invalid\x20partial\x20result.'],[_0x3c52ed[_0x5f24fc(0x8ea)],_0x5f24fc(0x5ee)],[_0x3c52ed[_0x5f24fc(0x762)],_0x5f24fc(0x6a7)],[_0x3c52ed['GenerativeAIContextJobTimeout'],'Generative\x20AI\x20context\x20job\x20timeout.'],[_0x3c52ed[_0x5f24fc(0x7b4)],_0x5f24fc(0xa4c)],[_0x3c52ed['GraphDatabaseCreationFailed'],_0x5f24fc(0x594)],[_0x3c52ed[_0x5f24fc(0x409)],'Invalid\x20data\x20channel.'],[_0x3c52ed[_0x5f24fc(0x3b6)],_0x5f24fc(0x5c1)],[_0x3c52ed[_0x5f24fc(0x2ed)],_0x5f24fc(0x76f)],[_0x3c52ed[_0x5f24fc(0x3a2)],_0x5f24fc(0x52d)],[_0x3c52ed['JobDispatcherCreationFailed'],_0x5f24fc(0xb0c)],[_0x3c52ed[_0x5f24fc(0x3aa)],'Invalid\x20job\x20service\x20payload.'],[_0x3c52ed[_0x5f24fc(0x37e)],_0x5f24fc(0x6a9)],[_0x3c52ed[_0x5f24fc(0x880)],_0x5f24fc(0x2de)],[_0x3c52ed[_0x5f24fc(0x535)],_0x5f24fc(0x292)],[_0x3c52ed[_0x5f24fc(0x851)],'Invalid\x20job\x20worker\x20type.'],[_0x3c52ed[_0x5f24fc(0x735)],_0x5f24fc(0x6bd)],[_0x3c52ed['KeyValueDatabasePeakNotFound'],_0x5f24fc(0x807)],[_0x3c52ed[_0x5f24fc(0x981)],_0x5f24fc(0x7a7)],[_0x3c52ed[_0x5f24fc(0x383)],_0x5f24fc(0x27b)],[_0x3c52ed['KeyValueDatabaseTransactionValueNotSet'],_0x5f24fc(0x93d)],[_0x3c52ed[_0x5f24fc(0x57f)],'Local\x20stream\x20does\x20not\x20exist.'],[_0x3c52ed[_0x5f24fc(0xa02)],_0x5f24fc(0x3af)],[_0x3c52ed[_0x5f24fc(0x7c8)],'The\x20system\x20topic\x20has\x20not\x20been\x20registered.'],[_0x3c52ed['MistletCapacityReportNotSet'],_0x5f24fc(0xa61)],[_0x3c52ed[_0x5f24fc(0x6e0)],_0x5f24fc(0x2d8)],[_0x3c52ed[_0x5f24fc(0x7dd)],'Invalid\x20object\x20store\x20sync\x20message.'],[_0x3c52ed[_0x5f24fc(0x925)],_0x5f24fc(0x950)],[_0x3c52ed[_0x5f24fc(0x7d6)],'Object\x20store\x20not\x20synced.'],[_0x3c52ed[_0x5f24fc(0x1fa)],_0x5f24fc(0xaa1)],[_0x3c52ed[_0x5f24fc(0x315)],_0x5f24fc(0x6d4)],[_0x3c52ed[_0x5f24fc(0x364)],_0x5f24fc(0xa8b)],[_0x3c52ed['RemoteConnectionExists'],_0x5f24fc(0x8dd)],[_0x3c52ed['SubscriptionRequestDoesNotExist'],_0x5f24fc(0x44f)],[_0x3c52ed[_0x5f24fc(0x31e)],_0x5f24fc(0xa73)],[_0x3c52ed[_0x5f24fc(0x4d0)],_0x5f24fc(0x729)],[_0x3c52ed[_0x5f24fc(0x8e9)],_0x5f24fc(0xa74)],[_0x3c52ed[_0x5f24fc(0x6f4)],'Node\x20already\x20exists.'],[_0x3c52ed['PeerConnectionInvalidDestination'],'Invalid\x20peer\x20connection\x20event\x20destination.'],[_0x3c52ed[_0x5f24fc(0x590)],_0x5f24fc(0x478)],[_0x3c52ed['WorkflowDoesNotExist'],_0x5f24fc(0x76d)],[_0x3c52ed[_0x5f24fc(0xa6d)],_0x5f24fc(0x7f3)]]);class _0x4668fc extends Error{[_0x5f24fc(0x3ab)];static [_0x5f24fc(0x85e)]=_0x3c52ed;[_0x5f24fc(0x3b9)];constructor(_0x53afc1,_0x2524e9){const _0x18580b=_0x5f24fc;super(_0x18580b(0x3ad)+_0x53afc1+':\x20'+_0x3ec113[_0x18580b(0xb07)](_0x53afc1)+_0x18580b(0x70c)+JSON[_0x18580b(0x36f)](_0x2524e9)),this[_0x18580b(0x3ab)]=_0x53afc1,this[_0x18580b(0x3b9)]=_0x2524e9||{};}}var _0x21c730,_0x312166,_0x8b70b9,_0x4c4453,_0x9c7fbd,_0xbd2ef4,_0x31112d;!function(_0x28214e){const _0x46c313=_0x5f24fc;_0x28214e[_0x28214e['CloseGraphDatabase']=0x0]=_0x46c313(0x5fd),_0x28214e[_0x28214e[_0x46c313(0x22c)]=0x1]='CloseJobDispatcher',_0x28214e[_0x28214e['CloseJobWorker']=0x2]='CloseJobWorker',_0x28214e[_0x28214e[_0x46c313(0xa35)]=0x3]='CloseExternalStorageConnection',_0x28214e[_0x28214e[_0x46c313(0x8ec)]=0x4]=_0x46c313(0x8ec),_0x28214e[_0x28214e['CloseMediaStream']=0x5]=_0x46c313(0x676),_0x28214e[_0x28214e[_0x46c313(0x3f4)]=0x6]='CloseObjectStoreBucket',_0x28214e[_0x28214e[_0x46c313(0x416)]=0x7]=_0x46c313(0x416),_0x28214e[_0x28214e[_0x46c313(0x920)]=0x8]=_0x46c313(0x920),_0x28214e[_0x28214e[_0x46c313(0x335)]=0x9]='ExternalStorageStats',_0x28214e[_0x28214e[_0x46c313(0xad5)]=0xa]=_0x46c313(0xad5),_0x28214e[_0x28214e['GenerativeAIWorkerStats']=0xb]=_0x46c313(0x8b3),_0x28214e[_0x28214e[_0x46c313(0x5c8)]=0xc]=_0x46c313(0x5c8),_0x28214e[_0x28214e[_0x46c313(0x903)]=0xd]='KeyValueDatabaseContentAvailable',_0x28214e[_0x28214e['KeyValueDatabaseContentSynchronized']=0xe]=_0x46c313(0x253),_0x28214e[_0x28214e[_0x46c313(0x272)]=0xf]=_0x46c313(0x272),_0x28214e[_0x28214e['KeyValueDatabaseRequestTransactionsValue']=0x10]=_0x46c313(0xae6),_0x28214e[_0x28214e[_0x46c313(0xa56)]=0x11]=_0x46c313(0xa56),_0x28214e[_0x28214e['KeyValueDatabaseStats']=0x12]=_0x46c313(0x34c),_0x28214e[_0x28214e[_0x46c313(0x624)]=0x13]=_0x46c313(0x624),_0x28214e[_0x28214e['LocalMediaStreamTrackFail']=0x14]=_0x46c313(0x80d),_0x28214e[_0x28214e['ObjectStoreStats']=0x15]=_0x46c313(0x531),_0x28214e[_0x28214e[_0x46c313(0x8e2)]=0x16]=_0x46c313(0x8e2),_0x28214e[_0x28214e[_0x46c313(0x7ee)]=0x17]=_0x46c313(0x7ee),_0x28214e[_0x28214e['RemoteMediaStreamTrackFail']=0x18]=_0x46c313(0x5dc),_0x28214e[_0x28214e['SubscribeMediaStream']=0x19]=_0x46c313(0x390),_0x28214e[_0x28214e[_0x46c313(0x67b)]=0x1a]='UnpublishMediaStream',_0x28214e[_0x28214e['UnsubscribeMediaStream']=0x1b]=_0x46c313(0x9fe),_0x28214e[_0x28214e['UpdateMediaStream']=0x1c]=_0x46c313(0x3e3),_0x28214e[_0x28214e[_0x46c313(0x2be)]=0x1d]=_0x46c313(0x2be);}(_0x21c730||(_0x21c730={})),function(_0x2c23d1){const _0x311619=_0x5f24fc;_0x2c23d1[_0x311619(0x61f)]=_0x311619(0x50c),_0x2c23d1[_0x311619(0x2a4)]=_0x311619(0xa44),_0x2c23d1['Delete']='delete',_0x2c23d1[_0x311619(0x2c0)]=_0x311619(0x6b3),_0x2c23d1[_0x311619(0x7b5)]=_0x311619(0xa95),_0x2c23d1[_0x311619(0x38f)]=_0x311619(0x3b7),_0x2c23d1[_0x311619(0x53b)]=_0x311619(0x6ff),_0x2c23d1[_0x311619(0xb12)]='request-file-write';}(_0x312166||(_0x312166={})),function(_0x3d2b78){const _0x3eec8a=_0x5f24fc;_0x3d2b78[_0x3eec8a(0x5bf)]='request',_0x3d2b78[_0x3eec8a(0xa28)]=_0x3eec8a(0x7c9);}(_0x8b70b9||(_0x8b70b9={})),function(_0x2c15c2){const _0x4559c3=_0x5f24fc;_0x2c15c2[_0x4559c3(0x3a4)]=_0x4559c3(0x859),_0x2c15c2[_0x4559c3(0x828)]='update',_0x2c15c2['Delete']=_0x4559c3(0x43a);}(_0x4c4453||(_0x4c4453={})),function(_0x21d072){const _0x57eb40=_0x5f24fc;_0x21d072['Get']=_0x57eb40(0xb07),_0x21d072['List']='list',_0x21d072['Count']='count';}(_0x9c7fbd||(_0x9c7fbd={})),function(_0x6de1d8){const _0xc54d14=_0x5f24fc;_0x6de1d8[_0x6de1d8['Request']=0x0]=_0xc54d14(0x5bf),_0x6de1d8[_0x6de1d8[_0xc54d14(0x6df)]=0x1]=_0xc54d14(0x6df),_0x6de1d8[_0x6de1d8[_0xc54d14(0x7dc)]=0x2]=_0xc54d14(0x7dc),_0x6de1d8[_0x6de1d8[_0xc54d14(0x8fc)]=0x3]=_0xc54d14(0x8fc),_0x6de1d8[_0x6de1d8[_0xc54d14(0x9e1)]=0x4]=_0xc54d14(0x9e1),_0x6de1d8[_0x6de1d8[_0xc54d14(0x7f4)]=0x5]=_0xc54d14(0x7f4);}(_0xbd2ef4||(_0xbd2ef4={})),function(_0xbfffb9){const _0x489c1c=_0x5f24fc;_0xbfffb9[_0xbfffb9[_0x489c1c(0x830)]=0x0]=_0x489c1c(0x830),_0xbfffb9[_0xbfffb9[_0x489c1c(0x91e)]=0x1]='Node',_0xbfffb9[_0xbfffb9[_0x489c1c(0x209)]=0x2]=_0x489c1c(0x209),_0xbfffb9[_0xbfffb9[_0x489c1c(0x63c)]=0x3]=_0x489c1c(0x63c),_0xbfffb9[_0xbfffb9[_0x489c1c(0x7d3)]=0x4]=_0x489c1c(0x7d3),_0xbfffb9[_0xbfffb9[_0x489c1c(0x5c6)]=0x5]=_0x489c1c(0x5c6),_0xbfffb9[_0xbfffb9['Remediation']=0x6]=_0x489c1c(0x42c);}(_0x31112d||(_0x31112d={}));class _0x36e181{[_0x5f24fc(0x8d7)];[_0x5f24fc(0xa85)];[_0x5f24fc(0x541)];constructor(_0x3e66bb,_0x2ee1c7){const _0x6e1aa7=_0x5f24fc;this[_0x6e1aa7(0x8d7)]=_0x3e66bb,this['label']=_0x2ee1c7;}[_0x5f24fc(0x9b0)](){const _0x484a40=_0x5f24fc;return this[_0x484a40(0xa85)];}['getOwnerId'](){const _0x2cd5a3=_0x5f24fc;return this[_0x2cd5a3(0x8d7)][_0x2cd5a3(0x6e8)]();}[_0x5f24fc(0x8fd)](){}[_0x5f24fc(0xaf7)](_0x497490){const _0xfb2fb8=_0x5f24fc;this[_0xfb2fb8(0x541)]=_0x497490;}[_0x5f24fc(0x29f)](){delete this['systemTopic'];}}const _0x1d5bc0=require('firebase/firestore');let _0x51c87d=_0x226897(0x14d)['O'];function _0xa732ce(_0x2d8426){const _0x3160d=_0x5f24fc;return!(!_0x2d8426||_0x3160d(0x863)!=typeof _0x2d8426||Array[_0x3160d(0x2f1)](_0x2d8426));}_0x51c87d=function _0x53fee1(_0x45f10d,..._0x1cf4b8){const _0x8ec98=_0x5f24fc;if(!Array[_0x8ec98(0x2f1)](_0x1cf4b8)||0x0===_0x1cf4b8[_0x8ec98(0x9a6)])return _0x45f10d;const _0x33d956=_0x1cf4b8[_0x8ec98(0x918)]();if(_0xa732ce(_0x45f10d)&&_0xa732ce(_0x33d956)){for(const _0x555b84 in _0x33d956)_0xa732ce(_0x33d956[_0x555b84])?(_0x45f10d[_0x555b84]||Object[_0x8ec98(0x645)](_0x45f10d,{[_0x555b84]:{}}),_0x53fee1(_0x45f10d[_0x555b84],_0x33d956[_0x555b84])):Object['assign'](_0x45f10d,{[_0x555b84]:_0x33d956[_0x555b84]});}return _0x53fee1(_0x45f10d,..._0x1cf4b8);}(_0x51c87d,_0x226897(0x3e6)['O']);const _0x510c96=_0x51c87d,_0x52062c=require('firebase/app'),_0x46a5ad=require('firebase/auth'),_0x552cea=require('firebase/database'),_0x5620ee=require('firebase/functions'),_0x58fdf1=require('uuid'),_0x414483='CREWDLE_WEB_SDK';class _0x5c3ffa{static [_0x5f24fc(0x50d)];['app'];[_0x5f24fc(0x6fa)];[_0x5f24fc(0x648)];[_0x5f24fc(0xa2a)];[_0x5f24fc(0x21e)];[_0x5f24fc(0x210)];[_0x5f24fc(0x92b)];constructor(){const _0x1d901e=_0x5f24fc;this[_0x1d901e(0x41e)]();}static['getInstance'](){const _0x389352=_0x5f24fc;return _0x5c3ffa[_0x389352(0x50d)]||(_0x5c3ffa[_0x389352(0x50d)]=new _0x5c3ffa()),_0x5c3ffa[_0x389352(0x50d)];}[_0x5f24fc(0x41e)](){const _0x2cbc5f=_0x5f24fc;if(!this[_0x2cbc5f(0x65e)]){let _0x2b7711=_0x414483;'undefined'!=typeof window&&(_0x2b7711=_0x414483+'-'+(0x0,_0x58fdf1['v4'])()),this[_0x2cbc5f(0x65e)]=(0x0,_0x52062c['initializeApp'])(_0x510c96['firebaseConfig'],''+_0x2b7711);}return this[_0x2cbc5f(0x65e)];}['getAuth'](){const _0x17928e=_0x5f24fc;return this[_0x17928e(0x6fa)]||(this[_0x17928e(0x6fa)]=(0x0,_0x46a5ad[_0x17928e(0xab2)])(this['getApp']())),this[_0x17928e(0x6fa)];}['getFunctions'](){const _0x5622b5=_0x5f24fc;return this[_0x5622b5(0x648)]||(this[_0x5622b5(0x648)]=(0x0,_0x5620ee[_0x5622b5(0xb2f)])(this[_0x5622b5(0x41e)](),_0x510c96['firebaseConfig'][_0x5622b5(0x3bc)])),this['functions'];}[_0x5f24fc(0x99b)](){const _0x501293=_0x5f24fc;return this[_0x501293(0xa2a)]||(this[_0x501293(0xa2a)]=(0x0,_0x552cea[_0x501293(0x99b)])(this[_0x501293(0x41e)]())),this[_0x501293(0xa2a)];}[_0x5f24fc(0x422)](){const _0x11cce5=_0x5f24fc;return this['firestore']||(this[_0x11cce5(0x21e)]=(0x0,_0x1d5bc0[_0x11cce5(0x422)])(this[_0x11cce5(0x41e)]())),this['firestore'];}async[_0x5f24fc(0x634)](){const _0x444eba=_0x5f24fc;if(this[_0x444eba(0x210)]&&this['lastClockUpdate']&&Date[_0x444eba(0x2c1)]()-this[_0x444eba(0x92b)]<0x493e0)return Date[_0x444eba(0x2c1)]()+this['clockSkew'];const _0x19b3d8=this[_0x444eba(0x99b)](),_0x45f73c=(0x0,_0x552cea[_0x444eba(0x79f)])(_0x19b3d8,'.info/serverTimeOffset');return new Promise(_0x5f476d=>{const _0x145adf=_0x444eba;(0x0,_0x552cea[_0x145adf(0x4ed)])(_0x45f73c,_0x42be5b=>{const _0x4955f9=_0x145adf;(0x0,_0x552cea['off'])(_0x45f73c),this['clockSkew']=_0x42be5b[_0x4955f9(0x3b4)](),this[_0x4955f9(0x92b)]=Date[_0x4955f9(0x2c1)](),_0x5f476d(Date[_0x4955f9(0x2c1)]()+(this['clockSkew']??0x0));});});}}const _0x47e6c0=_0x5c3ffa['getInstance']();class _0x580c47{static [_0x5f24fc(0x50d)];['enabledChannels']=[_0xb10df[_0x5f24fc(0x2a5)]];[_0x5f24fc(0x1eb)]=!0x1;[_0x5f24fc(0x33e)];[_0x5f24fc(0x240)]='';[_0x5f24fc(0x922)];['batchQueue']=[];[_0x5f24fc(0x268)];[_0x5f24fc(0x88d)];[_0x5f24fc(0x525)]=0xa;[_0x5f24fc(0x293)]=0x1f4;['batchSize']=0x1c2;['timeoutValue']=0x3e8;constructor(){const _0x591fc5=_0x5f24fc;if(_0x591fc5(0x474)!=typeof window)this[_0x591fc5(0x922)]=window;else{if(void 0x0===_0x226897['g'])throw new Error(_0x591fc5(0x871));this[_0x591fc5(0x922)]=_0x226897['g'];}this[_0x591fc5(0x30f)](),this[_0x591fc5(0x922)][_0x591fc5(0xad7)]=_0x2f2fdd=>{const _0x333069=_0x591fc5;if(_0x2f2fdd===_0xb10df[_0x333069(0x470)])return this[_0x333069(0x583)]=Object[_0x333069(0x6c0)](_0xb10df)[_0x333069(0xa4a)](_0x3bfd95=>_0xb10df[_0x3bfd95]),void Object[_0x333069(0x6c0)](_0xb10df)['forEach'](_0xe1b7c5=>{const _0x478961=_0x333069,_0x246204=_0xe1b7c5;localStorage['setItem']('crewdle-sdk-logging-'+_0xb10df[_0x246204],_0x478961(0x976));});this[_0x333069(0x583)][_0x333069(0x465)](_0x2f2fdd)||(this[_0x333069(0x583)][_0x333069(0x96d)](_0x2f2fdd),localStorage[_0x333069(0x529)]('crewdle-sdk-logging-'+_0x2f2fdd,_0x333069(0x976)));},this[_0x591fc5(0x922)]['crewdleSDKDisableLogging']=_0x552673=>{const _0x5d19a3=_0x591fc5;if(!_0x552673||_0x552673===_0xb10df['All'])return this[_0x5d19a3(0x583)]=[],void Object[_0x5d19a3(0x6c0)](_0xb10df)[_0x5d19a3(0xac8)](_0x75dcde=>{const _0x271fff=_0x5d19a3,_0x3b65c9=_0x75dcde;localStorage[_0x271fff(0x7b2)](_0x271fff(0x23c)+_0xb10df[_0x3b65c9]);});this[_0x5d19a3(0x583)][_0x5d19a3(0x465)](_0x552673)&&(this['enabledChannels']=this['enabledChannels'][_0x5d19a3(0x776)](_0x17a05d=>_0x17a05d!==_0x552673),localStorage[_0x5d19a3(0x7b2)](_0x5d19a3(0x23c)+_0x552673));},this['globalObject'][_0x591fc5(0x4d9)]=_0xb10df;}static['getInstance'](){const _0x5dae9e=_0x5f24fc;try{return _0x580c47['instance']||(_0x580c47[_0x5dae9e(0x50d)]=new _0x580c47()),_0x580c47[_0x5dae9e(0x50d)];}catch(_0x31a467){return console[_0x5dae9e(0x4d2)](_0x5dae9e(0x8c1),_0x31a467),{'log':()=>{},'forceLog':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1,'processBatch':()=>{}};}}[_0x5f24fc(0x75f)](_0x2de5b5){const _0x26b0c9=_0x5f24fc;this[_0x26b0c9(0x240)]=_0x2de5b5,this[_0x26b0c9(0x58f)]=[],this[_0x26b0c9(0x268)]=this[_0x26b0c9(0x435)](),this['batchTimeout']&&(clearTimeout(this[_0x26b0c9(0x88d)]),this[_0x26b0c9(0x88d)]=void 0x0);}['setLoggingConnectors'](_0x490fa0){const _0x494aaa=_0x5f24fc;this[_0x494aaa(0x33e)]=_0x490fa0;}['debug'](_0x270df2,..._0x4677d3){const _0x31baff=_0x5f24fc;this[_0x31baff(0x1eb)]&&this['log'](_0xb10df[_0x31baff(0x2a5)],_0x31baff(0x239)+_0x270df2,..._0x4677d3);}[_0x5f24fc(0xa2f)](_0x3b36ac,..._0x287a8b){const _0x3565f8=_0x5f24fc;console[_0x3565f8(0x60e)](_0x3b36ac,..._0x287a8b),this[_0x3565f8(0x33e)]&&this[_0x3565f8(0x33e)][_0x3565f8(0xac8)](_0x7f0682=>{_0x7f0682['log'](_0x3b36ac,{'vendorId':this['vendorId'],'nodeId':'','nodeType':'','data':{..._0x287a8b}});});}['log'](_0x5b3352,_0x10ddf6,..._0x547ad1){const _0x1e36ba=_0x5f24fc;_0x510c96[_0x1e36ba(0x3f1)]||(this['enabledChannels'][_0x1e36ba(0x465)](_0x5b3352)&&console[_0x1e36ba(0x60e)]('Channel\x20\x27'+_0x5b3352+'\x27\x0a',new Date()+'\x0a',_0x10ddf6,..._0x547ad1),this[_0x1e36ba(0x33e)]&&this[_0x1e36ba(0x33e)]['forEach'](_0x26b4ba=>{const _0x279450=_0x1e36ba;this[_0x279450(0x3d4)](_0x26b4ba)&&_0x26b4ba['getEnabledChannels']()[_0x279450(0x465)](_0x5b3352)&&_0x26b4ba[_0x279450(0x60e)](_0x10ddf6,{'vendorId':this['vendorId'],'nodeId':'','nodeType':'','data':{'channel':_0x5b3352,..._0x547ad1}});}));}[_0x5f24fc(0x3fa)](_0x37be4f,_0x45db99,..._0xc3d891){const _0xb0e6b4=_0x5f24fc;_0x510c96[_0xb0e6b4(0x3f1)]||(this[_0xb0e6b4(0x583)][_0xb0e6b4(0x465)](_0x37be4f)&&console[_0xb0e6b4(0x60e)](_0x45db99,..._0xc3d891),this['loggingConnectors']&&this[_0xb0e6b4(0x33e)]['forEach'](_0x3e0c1c=>{const _0x3b266e=_0xb0e6b4;this[_0x3b266e(0x3d4)](_0x3e0c1c)&&_0x3e0c1c[_0x3b266e(0x41d)]()[_0x3b266e(0x465)](_0x37be4f)&&_0x3e0c1c['log'](_0x45db99,{'vendorId':this['vendorId'],'nodeId':'','nodeType':'','data':{'channel':_0x37be4f,..._0xc3d891}});}));}[_0x5f24fc(0x2e1)](_0x508de0,_0x3f4b99){const _0x93e943=_0x5f24fc;if(!this[_0x93e943(0x33e)])return;const _0x33805c={'vendorId':this['vendorId'],..._0x3f4b99};this[_0x93e943(0x33e)]['forEach'](_0x40c62f=>{_0x40c62f['log'](_0x508de0,_0x33805c);});}[_0x5f24fc(0xade)](_0x520b4d,_0x461981){const _0x35a965=_0x5f24fc;this[_0x35a965(0x7f0)](_0x520b4d,_0x461981),this[_0x35a965(0x646)]();}[_0x5f24fc(0x201)](_0x3d33a1,_0x1043cb,_0x1a7d49){const _0x26e6f3=_0x5f24fc;(0x0,_0x1d5bc0['setDoc'])((0x0,_0x1d5bc0[_0x26e6f3(0x1f8)])(_0x47e6c0['getFirestore'](),_0x26e6f3(0x955)+this[_0x26e6f3(0x240)]+'/'+_0x3d33a1+'/'+_0x1043cb),{'storage':_0x1a7d49,'timestamp':(0x0,_0x1d5bc0['serverTimestamp'])()});}[_0x5f24fc(0x646)](){const _0x5fca96=_0x5f24fc;this[_0x5fca96(0x268)]&&(this[_0x5fca96(0x268)][_0x5fca96(0x796)]+=0x1,this[_0x5fca96(0x268)][_0x5fca96(0x796)]===this['batchSize']?this[_0x5fca96(0x4a7)]():this['batchTimeout']||(this[_0x5fca96(0x88d)]=this[_0x5fca96(0x922)]['setTimeout'](()=>this[_0x5fca96(0x4a7)](),this[_0x5fca96(0x88e)])));}async[_0x5f24fc(0x4a7)](){const _0x5e871b=_0x5f24fc;if(this['currentBatch']){for(this[_0x5e871b(0x58f)][_0x5e871b(0x96d)](this['currentBatch']),this[_0x5e871b(0x268)]=this[_0x5e871b(0x435)]();this['batchQueue'][_0x5e871b(0x9a6)]>0x0;){const _0x176259=this['batchQueue']['shift']();if(!await this['commitBatch'](_0x176259))break;}clearTimeout(this[_0x5e871b(0x88d)]),this[_0x5e871b(0x88d)]=void 0x0;}}[_0x5f24fc(0x4d2)](_0x5c28f9,_0x5124ea,..._0x5f179a){const _0x4bf791=_0x5f24fc;if(console[_0x4bf791(0x4d2)](new Date(),_0x5c28f9,_0x5124ea,..._0x5f179a),this[_0x4bf791(0x33e)]){const _0x293a50={'vendorId':this[_0x4bf791(0x240)],..._0x5124ea};this['loggingConnectors']['forEach'](_0x4c8316=>{_0x4c8316['error'](_0x5c28f9,_0x293a50);});}}[_0x5f24fc(0x3a1)](_0x257fe4,_0xf6dbbf,..._0x555e3a){const _0x359572=_0x5f24fc;if(console[_0x359572(0xabb)](new Date(),_0x257fe4,_0xf6dbbf,_0x555e3a),this[_0x359572(0x33e)]){const _0x1a7f14={'vendorId':this[_0x359572(0x240)],..._0xf6dbbf};this[_0x359572(0x33e)][_0x359572(0xac8)](_0x214da8=>{const _0x3445b2=_0x359572;_0x214da8[_0x3445b2(0xabb)](_0x257fe4,_0x1a7f14);});}}[_0x5f24fc(0xb0a)](_0x241705){const _0x7e5017=_0x5f24fc;return this['enabledChannels'][_0x7e5017(0x465)](_0x241705);}async[_0x5f24fc(0xa8a)](_0x2c8c38,_0x240800=0x0){const _0x4cca72=_0x5f24fc;if(_0x2c8c38[_0x4cca72(0x796)]>0x0)try{return await _0x2c8c38[_0x4cca72(0x282)][_0x4cca72(0xac5)](),!0x0;}catch(_0x357a71){if(console[_0x4cca72(0x4d2)](_0x4cca72(0x6f2),_0x357a71,_0x4cca72(0x673),_0x2c8c38[_0x4cca72(0x908)]),!(_0x240800<this[_0x4cca72(0x525)])){const {nodeId:_0x23866f='',nodeType:_0x1dbe5b='',clusterId:_0x16a6b1=''}=_0x2c8c38[_0x4cca72(0x908)][0x0][_0x4cca72(0x3b9)],_0x3be7d6={'nodeId':_0x23866f,'nodeType':_0x1dbe5b,'clusterId':_0x16a6b1,'data':{'operations':_0x2c8c38[_0x4cca72(0x908)],'error':_0x357a71}};return this[_0x4cca72(0x4d2)](_0x4cca72(0x245),_0x3be7d6),!0x1;}{const _0x33d435=this[_0x4cca72(0x8b0)](_0x2c8c38[_0x4cca72(0x908)]);setTimeout(()=>this[_0x4cca72(0xa8a)](_0x33d435,_0x240800+0x1),this[_0x4cca72(0x293)]*Math[_0x4cca72(0x6a0)](0x2,_0x240800));}}}['loadEnabledChannels'](){const _0x153e23=_0x5f24fc;try{Object['keys'](_0xb10df)[_0x153e23(0xac8)](_0x1cb666=>{const _0x2e4312=_0x153e23,_0x179780=_0x1cb666;localStorage[_0x2e4312(0x7e6)]('crewdle-sdk-logging-'+_0xb10df[_0x179780])&&(console['log'](_0x2e4312(0x9b6),_0xb10df[_0x179780]),this[_0x2e4312(0x583)][_0x2e4312(0x96d)](_0xb10df[_0x179780]));});}catch(_0x346474){}}['isInternalLoggingConnector'](_0x11ef3e){return void 0x0!==_0x11ef3e['getEnabledChannels'];}['createNewBatch'](){const _0x264494=_0x5f24fc;return{'batch':(0x0,_0x1d5bc0['writeBatch'])(_0x47e6c0[_0x264494(0x422)]()),'operations':[],'counter':0x0};}['createBatch'](_0x52cb35){const _0x10f1cf=_0x5f24fc,_0x26244b=(0x0,_0x1d5bc0['writeBatch'])(_0x47e6c0[_0x10f1cf(0x422)]());return _0x52cb35[_0x10f1cf(0xac8)](_0x2f09a5=>this['addBatchOperation'](_0x26244b,_0x2f09a5)),{'batch':_0x26244b,'operations':_0x52cb35,'counter':_0x52cb35[_0x10f1cf(0x9a6)]};}[_0x5f24fc(0x893)](_0x457d48,_0x44307f){const _0x4df4a4=_0x5f24fc;switch(_0x44307f[_0x4df4a4(0x781)]){case _0x4df4a4(0x338):_0x457d48[_0x4df4a4(0x338)](_0x44307f[_0x4df4a4(0x79f)],_0x44307f[_0x4df4a4(0x3b9)]);break;case _0x4df4a4(0x220):_0x457d48[_0x4df4a4(0x220)](_0x44307f[_0x4df4a4(0x79f)],_0x44307f[_0x4df4a4(0x3b9)]);break;case _0x4df4a4(0x43a):_0x457d48[_0x4df4a4(0x43a)](_0x44307f['ref']);}}[_0x5f24fc(0x7f0)](_0x4dea00,_0x406369){const _0x2b2590=_0x5f24fc;this['currentBatch']||(this[_0x2b2590(0x268)]=this[_0x2b2590(0x435)]());const _0xe4da2=(0x0,_0x1d5bc0[_0x2b2590(0x1f8)])((0x0,_0x1d5bc0[_0x2b2590(0x6bc)])(_0x47e6c0[_0x2b2590(0x422)](),_0x2b2590(0x955)+this[_0x2b2590(0x240)]+_0x2b2590(0x24b))),_0x1945e8={..._0x406369,'service':_0x4dea00,'timestamp':(0x0,_0x1d5bc0[_0x2b2590(0x8f1)])()},_0x1551be={'type':'set','path':_0xe4da2[_0x2b2590(0xa04)],'ref':_0xe4da2,'data':_0x1945e8};return this[_0x2b2590(0x268)][_0x2b2590(0x908)][_0x2b2590(0x96d)](_0x1551be),this[_0x2b2590(0x893)](this[_0x2b2590(0x268)][_0x2b2590(0x282)],_0x1551be),_0xe4da2;}}const _0x40d481=_0x580c47[_0x5f24fc(0x445)]();function _0x5c93cf(_0x184707,_0x420b68){return'/'===_0x184707?_0x184707+_0x420b68:_0x184707+'/'+_0x420b68;}function _0xcd133e(_0x57e57f){const _0x1dffda=_0x5f24fc,_0x1d4ea7=function(_0x26e1af){const _0x575b3c=a0_0x214c;return _0x26e1af[_0x575b3c(0x5a1)]('/')[_0x575b3c(0x776)](_0x52362c=>_0x52362c[_0x575b3c(0x9a6)]>0x0);}(_0x57e57f),_0x39745b=_0x1d4ea7[_0x1dffda(0x251)]()||'',_0x12a2a9=_0x1d4ea7[_0x1dffda(0x250)]('/');return[0x0===_0x12a2a9['length']?'/':_0x12a2a9,_0x39745b];}async function _0x1ddb91(_0x968089){const _0x56cdbb=_0x5f24fc;let _0x44dae9;const _0x19e4c1=_0x968089[_0x56cdbb(0x58d)]/0x100000;_0x44dae9=_0x19e4c1<=0xa?0x1:_0x19e4c1<=0x64?0.5:_0x19e4c1<=0x1f4?0.1:0.05;const _0x2c30e0=Math[_0x56cdbb(0x447)](_0x968089[_0x56cdbb(0x58d)]/_0x8cd2d1),_0x2229ed=Math['ceil'](_0x2c30e0*_0x44dae9);let _0x34815d=new Uint8Array();for(let _0x80a8e=0x0;_0x80a8e<_0x2229ed;_0x80a8e++){const _0x54fdb5=Math[_0x56cdbb(0x748)](_0x80a8e/_0x2229ed*_0x968089[_0x56cdbb(0x58d)]);let _0x34903=_0x54fdb5+_0x8cd2d1;_0x34903>_0x968089[_0x56cdbb(0x58d)]&&(_0x34903=_0x968089[_0x56cdbb(0x58d)]);const _0x1903a9=_0x968089['slice'](_0x54fdb5,_0x34903),_0x40ad66=await _0x1903a9['arrayBuffer'](),_0x539957=new Uint8Array([..._0x34815d,...new Uint8Array(_0x40ad66)]);_0x34815d=new Uint8Array(await crypto[_0x56cdbb(0x4ef)][_0x56cdbb(0x901)](_0x56cdbb(0x6fc),_0x539957));}return Array[_0x56cdbb(0x3ce)](new Uint8Array(_0x34815d))[_0x56cdbb(0xa4a)](_0x2ee061=>_0x2ee061[_0x56cdbb(0xa03)](0x10)[_0x56cdbb(0x8ef)](0x2,'0'))[_0x56cdbb(0x250)]('');}async function*_0x45272b(_0x23b17e,_0x6b6b73=0x0,_0x5b5b92){const _0x317b21=_0x5f24fc;let _0xda5914=_0x6b6b73*_0x5d29a2,_0x3b7232=_0x23b17e;for(;_0xda5914<_0x3b7232['size'];){let _0x37dddd=_0xda5914+_0x5d29a2;_0x37dddd>_0x3b7232[_0x317b21(0x58d)]&&(_0x37dddd=_0x3b7232[_0x317b21(0x58d)]);let _0x3476c3=0x0;for(;_0x3476c3<0x14;)try{await _0x5b5b92?.();const _0x473fc4=_0x3b7232[_0x317b21(0xb17)](_0xda5914,_0x37dddd,_0x317b21(0x8e7)),_0x2e4716=await _0x473fc4[_0x317b21(0xad0)]();yield _0x2e4716,_0xda5914=_0x37dddd,await new Promise(_0x5128e0=>setTimeout(_0x5128e0,0x0));break;}catch(_0x388905){if(console['error']('Error\x20reading\x20file\x20chunk\x20after\x20'+(_0x3476c3+0x1)+_0x317b21(0x5d8),_0x388905),_0x3476c3++,_0x3476c3>0x14)throw _0x388905;let _0x536144=0x3e8*Math['pow'](0x2,_0x3476c3);_0x536144>0x7530&&(_0x536144=0x7530),await new Promise(_0x2faedd=>setTimeout(_0x2faedd,_0x536144));}}}class _0x303f2a extends _0x36e181{[_0x5f24fc(0x381)];[_0x5f24fc(0x5cf)];[_0x5f24fc(0x69c)]=new Map();['messagesSent']=0x0;[_0x5f24fc(0x546)]=0x0;[_0x5f24fc(0x688)]=0x0;[_0x5f24fc(0x940)]=0x0;constructor(_0xb8a74c,_0xb49de9){super(_0xb8a74c,_0xb49de9);}[_0x5f24fc(0x9b0)](){const _0x55cf81=_0x5f24fc;return this[_0x55cf81(0xa85)];}[_0x5f24fc(0x520)](){const _0x3a13af=_0x5f24fc;return this[_0x3a13af(0xa85)];}[_0x5f24fc(0xadb)](){const _0x33cd99=_0x5f24fc;return _0x20053a[_0x33cd99(0x552)][_0x33cd99(0xa11)];}['getInternalStreamId'](){return this['label'];}[_0x5f24fc(0x462)](_0xa28680){const _0x56b6c8=_0x5f24fc;if(this[_0x56b6c8(0x381)])throw new _0x4668fc(_0x4668fc[_0x56b6c8(0x85e)][_0x56b6c8(0x3b6)],{'message':_0x56b6c8(0x47e)+this['owner']['getId']()+_0x56b6c8(0x686)+this[_0x56b6c8(0xa85)],'topic':this[_0x56b6c8(0x381)]});this[_0x56b6c8(0x381)]=_0xa28680;}[_0x5f24fc(0x4c6)](_0xb3c21d){const _0x413b52=_0x5f24fc;if(this[_0x413b52(0x5cf)])throw new _0x4668fc(_0x4668fc['codes'][_0x413b52(0x2ed)],{'message':_0x413b52(0x3ca)+this[_0x413b52(0x8d7)]['getId']()+'\x20-\x20'+this[_0x413b52(0xa85)],'topic':this[_0x413b52(0x5cf)]});this[_0x413b52(0x5cf)]=_0xb3c21d;}[_0x5f24fc(0xb21)](){const _0x338d9e=_0x5f24fc;delete this[_0x338d9e(0x381)];}['unregisterSubscriber'](){delete this['incomingTopic'];}async['send'](_0x3ad2f9,_0x337ae8){const _0x27aa87=_0x5f24fc;if(_0x40d481['log'](_0xb10df['DataStream'],_0x27aa87(0x3e0),this['owner'][_0x27aa87(0x6e8)](),_0x3ad2f9,_0x337ae8),this['messagesSent']+=0x1,_0x3ad2f9 instanceof File){const _0x250cfa=await async function(_0xccc620){const _0x38c132=_0x27aa87,_0x2ca9d5=[];for await(const _0xf62b48 of _0x45272b(_0xccc620))_0x2ca9d5[_0x38c132(0x96d)](_0xf62b48);return _0x2ca9d5;}(_0x3ad2f9);return this[_0x27aa87(0x688)]+=_0x250cfa[_0x27aa87(0x3a3)]((_0x1cddaa,_0x320e6d)=>_0x1cddaa+_0x320e6d['byteLength'],0x0),void _0x250cfa['forEach']((_0xe49a9b,_0x2e10a6)=>{const _0x543ba7=_0x27aa87;this[_0x543ba7(0x381)][_0x543ba7(0x803)]({'sourceId':this[_0x543ba7(0x8d7)]['getId'](),'destinationIds':_0x337ae8,'propagate':!0x0,'contentType':_0x20053a['ContentType'][_0x543ba7(0x308)],'content':{'name':_0x3ad2f9[_0x543ba7(0x696)],'type':_0x3ad2f9[_0x543ba7(0x781)],'data':_0xe49a9b,'index':_0x2e10a6,'total':_0x250cfa[_0x543ba7(0x9a6)]}});});}this[_0x27aa87(0x688)]+=JSON['stringify'](_0x3ad2f9)[_0x27aa87(0x9a6)],this[_0x27aa87(0x381)][_0x27aa87(0x803)]({'sourceId':this['owner'][_0x27aa87(0x6e8)](),'destinationIds':_0x337ae8,'propagate':!0x0,'contentType':_0x20053a[_0x27aa87(0x552)][_0x27aa87(0xa11)],'content':_0x3ad2f9});}[_0x5f24fc(0x227)](_0x1b68ea){const _0x4c74b6=_0x5f24fc;return this[_0x4c74b6(0x5cf)][_0x4c74b6(0x6f8)](_0x491b24=>{const _0x2d7b7a=_0x4c74b6;switch(_0x40d481[_0x2d7b7a(0x60e)](_0xb10df[_0x2d7b7a(0x80f)],_0x2d7b7a(0x9b3),this[_0x2d7b7a(0x8d7)]['getId'](),_0x491b24),_0x491b24[_0x2d7b7a(0x6cb)]){case _0x20053a[_0x2d7b7a(0x552)]['Data']:this['messagesReceived']+=0x1,this['bytesReceived']+=JSON['stringify'](_0x491b24[_0x2d7b7a(0x6b2)])[_0x2d7b7a(0x9a6)],_0x1b68ea(_0x491b24[_0x2d7b7a(0x241)],_0x491b24[_0x2d7b7a(0x6b2)]);break;case _0x20053a[_0x2d7b7a(0x552)]['File']:this[_0x2d7b7a(0x69c)][_0x2d7b7a(0x4cb)](_0x491b24[_0x2d7b7a(0x6b2)]['name'])||this[_0x2d7b7a(0x69c)][_0x2d7b7a(0x338)](_0x491b24['content'][_0x2d7b7a(0x696)],{'chunksReceived':0x0,'bytesReceived':0x0,'checksum':'','content':[]});const _0x5257f1=this[_0x2d7b7a(0x69c)][_0x2d7b7a(0xb07)](_0x491b24[_0x2d7b7a(0x6b2)][_0x2d7b7a(0x696)]);if(_0x5257f1[_0x2d7b7a(0xb3b)]+=0x1,_0x5257f1[_0x2d7b7a(0x940)]+=_0x491b24['content']['data'][_0x2d7b7a(0x3f5)],_0x5257f1[_0x2d7b7a(0x6b2)]&&(_0x5257f1[_0x2d7b7a(0x6b2)][_0x491b24['content'][_0x2d7b7a(0x2ef)]]=_0x491b24[_0x2d7b7a(0x6b2)][_0x2d7b7a(0x3b9)]),this[_0x2d7b7a(0x69c)][_0x2d7b7a(0x338)](_0x491b24[_0x2d7b7a(0x6b2)]['name'],_0x5257f1),_0x5257f1[_0x2d7b7a(0xb3b)]+0x1<_0x491b24['content'][_0x2d7b7a(0x2a6)])return;this[_0x2d7b7a(0x546)]+=0x1,this['bytesReceived']+=_0x5257f1[_0x2d7b7a(0x940)],_0x5257f1[_0x2d7b7a(0x6b2)]&&_0x1b68ea(_0x491b24[_0x2d7b7a(0x241)],(_0x39f886=_0x5257f1['content'],_0x458075=_0x491b24['content']['name'],_0x5c9ab0=_0x491b24[_0x2d7b7a(0x6b2)][_0x2d7b7a(0x781)],new File(_0x39f886,_0x458075,{'type':_0x5c9ab0}))),this[_0x2d7b7a(0x69c)][_0x2d7b7a(0x43a)](_0x491b24['content']['name']);}var _0x39f886,_0x458075,_0x5c9ab0;});}}function _0x449c97(){const _0x1bd32e=_0x5f24fc;let _0x94d1e3=[];return{'subscribe':_0x2b643b=>(_0x94d1e3[_0x1bd32e(0x96d)](_0x2b643b),()=>{const _0x200a5c=_0x1bd32e;_0x94d1e3=_0x94d1e3[_0x200a5c(0x776)](_0x4b6c2e=>_0x4b6c2e!==_0x2b643b);}),'publish':_0x45b28a=>{const _0x2ea627=_0x1bd32e;_0x94d1e3[_0x2ea627(0xac8)](_0xbc49a0=>_0xbc49a0(_0x45b28a));}};}function _0x9e13e(){let _0x1eb0f;return{'subscribe':_0x54c890=>(_0x1eb0f=_0x54c890,()=>{_0x1eb0f=void 0x0;}),'publish':_0xb6ae9e=>{_0x1eb0f&&_0x1eb0f(_0xb6ae9e);}};}class _0x5e7014{[_0x5f24fc(0x2eb)];[_0x5f24fc(0x495)];[_0x5f24fc(0x3fe)];[_0x5f24fc(0xae7)]=_0x9e13e();[_0x5f24fc(0x6e1)];constructor(_0x1b643c,_0x2a1ba2,_0x2cf857){const _0x58788d=_0x5f24fc;this[_0x58788d(0x2eb)]=_0x1b643c,this[_0x58788d(0x495)]=_0x2a1ba2,this[_0x58788d(0x3fe)]=_0x2cf857;}[_0x5f24fc(0x8fd)](){const _0x899d33=_0x5f24fc;this[_0x899d33(0x6e1)]?.();}async[_0x5f24fc(0xb07)](_0x510bc0){const _0x532783=_0x5f24fc,_0x1646cd={'key':_0x510bc0,'tableName':this[_0x532783(0x495)],'action':_0x9c7fbd['Get']};return this[_0x532783(0x3fe)][_0x532783(0x803)](_0x1646cd),this[_0x532783(0x2eb)][_0x532783(0xb07)](_0x510bc0);}async['set'](_0x1ac8bd,_0x344aff,_0x27eaf5=!0x0){const _0x206a3c=_0x5f24fc;this['validateValue'](_0x344aff);const _0x19d190=await this['connector'][_0x206a3c(0xb07)](_0x1ac8bd),_0x4cf2a9=await this[_0x206a3c(0x2eb)][_0x206a3c(0x338)](_0x1ac8bd,_0x344aff),_0x402878=_0x19d190?_0x4c4453[_0x206a3c(0x828)]:_0x4c4453[_0x206a3c(0x3a4)];if(this['publish'](_0x402878,_0x4cf2a9),!_0x27eaf5)return _0x4cf2a9;const _0x3e6825={'key':_0x1ac8bd,'tableName':this['tableName'],'action':_0x402878,'value':_0x4cf2a9};return this[_0x206a3c(0x3fe)]['publish'](_0x3e6825),_0x4cf2a9;}async[_0x5f24fc(0x859)](_0x1ad0c2){const _0x126826=_0x5f24fc;this['validateValue'](_0x1ad0c2);const _0x51b8f3=await this[_0x126826(0x2eb)][_0x126826(0x859)](_0x1ad0c2),_0x5d2680={'key':_0x51b8f3['id'],'tableName':this[_0x126826(0x495)],'action':_0x4c4453[_0x126826(0x3a4)],'value':_0x51b8f3};return this[_0x126826(0x3fe)]['publish'](_0x5d2680),this['publish'](_0x5d2680[_0x126826(0x32a)],_0x51b8f3),_0x51b8f3;}async[_0x5f24fc(0x43a)](_0x3613db,_0x192856=!0x0){const _0x442177=_0x5f24fc,_0x210bf4=await this[_0x442177(0x2eb)][_0x442177(0xb07)](_0x3613db);if(!_0x210bf4)return;await this[_0x442177(0x2eb)][_0x442177(0x43a)](_0x3613db);const _0x95dcd=_0x4c4453[_0x442177(0x3bd)];if(this[_0x442177(0x803)](_0x95dcd,_0x210bf4),!_0x192856)return;const _0x52bedc={'key':_0x3613db,'tableName':this[_0x442177(0x495)],'action':_0x95dcd,'value':_0x210bf4};this[_0x442177(0x3fe)][_0x442177(0x803)](_0x52bedc);}async[_0x5f24fc(0x567)](){const _0x3881f4=_0x5f24fc,_0x839b12=await this[_0x3881f4(0x46f)]();for(const _0x4407ca of _0x839b12){const _0x531d4a=_0x4c4453['Delete'];this[_0x3881f4(0x803)](_0x531d4a,_0x4407ca);const _0x7bde8f={'key':_0x4407ca['id'],'tableName':this[_0x3881f4(0x495)],'action':_0x531d4a,'value':_0x4407ca};this[_0x3881f4(0x3fe)]['publish'](_0x7bde8f);}return this[_0x3881f4(0x2eb)][_0x3881f4(0x567)]();}async[_0x5f24fc(0x46f)](_0x2c7dbe){const _0xe1bbf4=_0x5f24fc,_0x4a447c={'key':'','tableName':this[_0xe1bbf4(0x495)],'action':_0x9c7fbd['List']};this[_0xe1bbf4(0x3fe)][_0xe1bbf4(0x803)](_0x4a447c);try{_0x2c7dbe&&(_0x2c7dbe=_0x2c7dbe instanceof _0x3d7037?_0x2c7dbe[_0xe1bbf4(0x9ba)]():_0x3d7037[_0xe1bbf4(0xa13)](_0x2c7dbe)[_0xe1bbf4(0x9ba)]());}catch(_0x1855a5){throw new _0x55ecf3(_0x2efe49[_0xe1bbf4(0x5ed)],_0xe1bbf4(0x4ae));}try{return await this[_0xe1bbf4(0x2eb)][_0xe1bbf4(0x46f)](_0x2c7dbe);}catch(_0x3070f1){let _0x245b25=_0xe1bbf4(0x4ae);throw _0x3070f1 instanceof Error&&(_0x245b25=_0x3070f1[_0xe1bbf4(0x2ba)]),new _0x55ecf3(_0x2efe49[_0xe1bbf4(0x5ed)],_0x245b25);}}async[_0x5f24fc(0x35d)](_0x4413e2){const _0x59fbe2=_0x5f24fc,_0x35f892={'key':'','tableName':this[_0x59fbe2(0x495)],'action':_0x9c7fbd[_0x59fbe2(0x6ed)]};this[_0x59fbe2(0x3fe)][_0x59fbe2(0x803)](_0x35f892);try{_0x4413e2&&(_0x4413e2=_0x4413e2 instanceof _0x3d7037?_0x4413e2[_0x59fbe2(0x9ba)]():_0x3d7037[_0x59fbe2(0xa13)](_0x4413e2)[_0x59fbe2(0x9ba)]());}catch(_0x53a708){throw new _0x55ecf3(_0x2efe49[_0x59fbe2(0x5ed)],_0x59fbe2(0x4ae));}try{return await this['connector'][_0x59fbe2(0x35d)](_0x4413e2);}catch(_0x563c97){let _0x1ee258=_0x59fbe2(0x4ae);throw _0x563c97 instanceof Error&&(_0x1ee258=_0x563c97[_0x59fbe2(0x2ba)]),new _0x55ecf3(_0x2efe49[_0x59fbe2(0x5ed)],_0x1ee258);}}['calculateSize'](){const _0x170517=_0x5f24fc;return this[_0x170517(0x2eb)][_0x170517(0x687)]();}['subscribe'](_0x35a1e0){const _0x54ef6d=_0x5f24fc;this[_0x54ef6d(0x6e1)]=this['eventListener'][_0x54ef6d(0x6f8)](_0x35a1e0);}['unsubscribe'](){this['listenerUnsubscriber']?.();}[_0x5f24fc(0x803)](_0x34acf8,_0x5a5c4c){const _0x979ab9=_0x5f24fc,_0x2091e6=this[_0x979ab9(0x40d)](_0x34acf8,_0x5a5c4c);this[_0x979ab9(0xae7)][_0x979ab9(0x803)](_0x2091e6);}['buildTableEvent'](_0x250506,_0x215198){const _0x5164e3=_0x5f24fc;let _0x598059;switch(_0x250506){case _0x4c4453[_0x5164e3(0x3a4)]:_0x598059=_0x5164e3(0x859);break;case _0x4c4453[_0x5164e3(0x828)]:_0x598059=_0x5164e3(0x220);break;case _0x4c4453[_0x5164e3(0x3bd)]:_0x598059=_0x5164e3(0x43a);}return{'action':_0x598059,'value':_0x215198};}[_0x5f24fc(0x9cd)](_0x2fe08d){const _0x5d5123=_0x5f24fc;if(_0x5d5123(0x863)!=typeof _0x2fe08d||null===_0x2fe08d)throw new _0x55ecf3(_0x2efe49[_0x5d5123(0x769)],_0x5d5123(0x4b6));for(const _0x2718a8 in _0x2fe08d){const _0x5e917e=_0x2fe08d[_0x2718a8];if(_0x5d5123(0x863)!=typeof _0x5e917e||_0x5e917e instanceof Date){if(![_0x5d5123(0x57a),_0x5d5123(0x522),_0x5d5123(0xa48)][_0x5d5123(0x465)](typeof _0x5e917e))throw new _0x55ecf3(_0x2efe49[_0x5d5123(0x769)],_0x5d5123(0x431)+_0x2718a8+_0x5d5123(0x7b0));}else this[_0x5d5123(0x9cd)](_0x5e917e);}}}class _0x1f36ad{[_0x5f24fc(0xaef)]=[];['totalNodes']=0x0;[_0x5f24fc(0x6f6)]=[];[_0x5f24fc(0xac0)]=!0x1;[_0x5f24fc(0x969)]=null;[_0x5f24fc(0xa05)]=null;['debounceLogTimeout'];[_0x5f24fc(0x595)]=null;[_0x5f24fc(0x223)]=[];['debounceReadyTimeout'];['_ready']=Promise[_0x5f24fc(0x92e)]();[_0x5f24fc(0x224)]=0x0;constructor(){}get['ready'](){return this['_ready'];}async[_0x5f24fc(0x4cc)](_0xe20c94,_0x24b078=0x0){const _0xb6b1f7=_0x5f24fc;this[_0xb6b1f7(0x595)]||(this[_0xb6b1f7(0xafc)]=new Promise(_0x58de26=>{const _0x115d86=_0xb6b1f7;this[_0x115d86(0x595)]=_0x58de26;}),this[_0xb6b1f7(0x224)]=_0x24b078);const _0x58e708=Date[_0xb6b1f7(0x2c1)]();if(this['isComputingMMR'])return void this[_0xb6b1f7(0x6f6)][_0xb6b1f7(0x96d)](_0xe20c94);this[_0xb6b1f7(0xac0)]=!0x0;let _0x3da093={'hash':await this[_0xb6b1f7(0xa8d)](_0xe20c94),'height':0x0};const _0x63ad2=this[_0xb6b1f7(0x5bd)](_0x3da093);this[_0xb6b1f7(0x223)]['push'](_0x63ad2),await _0x63ad2,this[_0xb6b1f7(0x428)]+=0x1;const _0x493ea5=this[_0xb6b1f7(0x6f6)][_0xb6b1f7(0x9a6)];for(;this['transactionQueue'][_0xb6b1f7(0x9a6)]>0x0;){const _0x321192=this['transactionQueue'][_0xb6b1f7(0x918)]();await this[_0xb6b1f7(0x4cc)](_0x321192);}this['debounceReady'](),await this['ready'],this[_0xb6b1f7(0xb03)](_0x58e708,_0x493ea5);}async['getRoot'](){const _0x350d4b=_0x5f24fc;return await this['_ready'],this[_0x350d4b(0xac0)]?(this[_0x350d4b(0xa05)]||(this[_0x350d4b(0xa05)]=this[_0x350d4b(0x42b)]()),await this['rootComputationPromise']):this[_0x350d4b(0x969)];}[_0x5f24fc(0x5d9)](){const _0x5d5e19=_0x5f24fc;return this['peaks'][_0x5d5e19(0xa4a)](({hash:_0x5b0e80,height:_0x34bfb3})=>({'hash':_0x5b0e80,'height':_0x34bfb3}));}['getTotalNodes'](){const _0x172b46=_0x5f24fc;return this[_0x172b46(0x428)];}[_0x5f24fc(0xa80)](_0x5494f8){const _0x8a0be3=_0x5f24fc;return this[_0x8a0be3(0xaef)]['find'](_0x1ad3d7=>_0x1ad3d7[_0x8a0be3(0x867)]===_0x5494f8);}async[_0x5f24fc(0x256)](_0x3b8a31,_0xe05e9b){return await this['computeHash'](_0x3b8a31+_0xe05e9b);}async[_0x5f24fc(0xa8d)](_0xce127e){const _0x2ad9e8=_0x5f24fc;return await this[_0x2ad9e8(0x712)](JSON[_0x2ad9e8(0x36f)](_0xce127e));}[_0x5f24fc(0xb11)](_0x34b700){const _0x283b3a=_0x5f24fc,_0x428209=this[_0x283b3a(0x5d9)](),_0x264c83=[],_0x35588a=[],_0x42777a=[];for(const _0x1cd6be of _0x428209){const _0x313525=_0x34b700[_0x283b3a(0x260)](_0x419a33=>_0x419a33[_0x283b3a(0x867)]===_0x1cd6be[_0x283b3a(0x867)]);_0x313525?_0x1cd6be[_0x283b3a(0x359)]!==_0x313525[_0x283b3a(0x359)]&&_0x264c83['push']({'height':_0x1cd6be[_0x283b3a(0x867)],'localPeak':_0x1cd6be,'remotePeak':_0x313525}):_0x35588a['push'](_0x1cd6be);}for(const _0x4cdcd7 of _0x34b700)_0x428209['find'](_0x126831=>_0x126831['height']===_0x4cdcd7['height'])||_0x42777a['push'](_0x4cdcd7);return{'differingPeaks':_0x264c83,'peaksMissingInRemote':_0x35588a,'peaksMissingInLocal':_0x42777a};}async[_0x5f24fc(0x42b)](){const _0x698bfe=_0x5f24fc;this[_0x698bfe(0xac0)]=!0x0;const _0x4755c6=this[_0x698bfe(0xaef)][_0x698bfe(0xa4a)](_0x524ca5=>_0x524ca5[_0x698bfe(0x359)]);return this[_0x698bfe(0x969)]=await this[_0x698bfe(0x216)](_0x4755c6),this[_0x698bfe(0xac0)]=!0x1,this['rootComputationPromise']=null,this['debounceReady'](),this[_0x698bfe(0x969)];}async['computeHash'](_0x26f9fc){const _0x5cd8e8=_0x5f24fc;try{const _0x566e17=new TextEncoder()['encode'](_0x26f9fc),_0x312488=await crypto[_0x5cd8e8(0x4ef)][_0x5cd8e8(0x901)](_0x5cd8e8(0x6fc),_0x566e17);return Array[_0x5cd8e8(0x3ce)](new Uint8Array(_0x312488))[_0x5cd8e8(0xa4a)](_0x3122df=>_0x3122df[_0x5cd8e8(0xa03)](0x10)[_0x5cd8e8(0x8ef)](0x2,'0'))[_0x5cd8e8(0x250)]('');}catch(_0x18d34d){return console[_0x5cd8e8(0x4d2)](_0x5cd8e8(0x33f),_0x18d34d),this[_0x5cd8e8(0x712)](_0x26f9fc);}}async[_0x5f24fc(0x216)](_0x503c00){const _0x4abe00=_0x5f24fc;return await this[_0x4abe00(0x712)](_0x503c00[_0x4abe00(0x250)](''));}async[_0x5f24fc(0x5bd)](_0x32ee78){const _0x226b7d=_0x5f24fc;for(;this['peaks'][_0x226b7d(0x9a6)]>0x0&&this[_0x226b7d(0xaef)][this[_0x226b7d(0xaef)]['length']-0x1][_0x226b7d(0x867)]===_0x32ee78[_0x226b7d(0x867)];){const _0x2ea8f3=this[_0x226b7d(0xaef)]['pop']();_0x32ee78={'hash':await this[_0x226b7d(0x256)](_0x2ea8f3[_0x226b7d(0x359)],_0x32ee78['hash']),'left':_0x2ea8f3,'right':_0x32ee78,'height':_0x32ee78['height']+0x1};}this[_0x226b7d(0xaef)][_0x226b7d(0x96d)](_0x32ee78),await this[_0x226b7d(0x42b)]();}['debounceAppendLog'](_0x4a6869,_0x16ffa6){const _0x14cba0=_0x5f24fc;if(!_0x40d481[_0x14cba0(0xb0a)](_0xb10df[_0x14cba0(0x71b)]))return;this[_0x14cba0(0x7f8)]&&clearTimeout(this['debounceLogTimeout']);const _0x43b34e=Date[_0x14cba0(0x2c1)]();this[_0x14cba0(0x7f8)]=setTimeout(()=>_0x40d481['log'](_0xb10df[_0x14cba0(0x71b)],'MerkleMountainRange\x20-\x20appendTransaction\x20-\x20Completed.\x20Root:',this['cachedRoot'],'nodes',this['getTotalNodes'](),'queueLength',_0x16ffa6,'time',_0x43b34e-_0x4a6869),0x7d0);}[_0x5f24fc(0xa2c)](){const _0x3d44ca=_0x5f24fc;this[_0x3d44ca(0x287)]&&clearTimeout(this[_0x3d44ca(0x287)]),this[_0x3d44ca(0x287)]=setTimeout(async()=>{const _0x1bf0d1=_0x3d44ca;try{const _0x362ea9=this[_0x1bf0d1(0x223)];if(this[_0x1bf0d1(0x223)]=[],await Promise['all'](_0x362ea9),this[_0x1bf0d1(0x224)]-=_0x362ea9[_0x1bf0d1(0x9a6)],this[_0x1bf0d1(0x223)][_0x1bf0d1(0x9a6)]>0x0||this['expectedTransactions']>0x0)return this[_0x1bf0d1(0xa2c)]();this['readyResolve']&&(this[_0x1bf0d1(0x595)](),this[_0x1bf0d1(0x595)]=null),this[_0x1bf0d1(0xafc)]=Promise[_0x1bf0d1(0x92e)](),this[_0x1bf0d1(0xac0)]=!0x1;}catch(_0x4b48e1){console[_0x1bf0d1(0x4d2)]('Error\x20resolving\x20readyPromises:',_0x4b48e1);}},0xa);}}const _0x217171=['PeerConnection',_0x5f24fc(0x91e),_0x5f24fc(0x209),'Subscription',_0x5f24fc(0x7d3),_0x5f24fc(0x5c6),_0x5f24fc(0x42c)],_0x2ea2b6=[[_0x5f24fc(0x4be),_0x5f24fc(0x4bd),_0x5f24fc(0x6ab),_0x5f24fc(0x4db),_0x5f24fc(0x77d),_0x5f24fc(0x329),'Disconnect',_0x5f24fc(0x7d3),_0x5f24fc(0xa54)],[_0x5f24fc(0x770),'NodeUpdate',_0x5f24fc(0x55a),_0x5f24fc(0xa70)],[_0x5f24fc(0x5fd),_0x5f24fc(0x22c),'CloseJobWorker','CloseExternalStorageConnection',_0x5f24fc(0x8ec),_0x5f24fc(0x676),_0x5f24fc(0x3f4),_0x5f24fc(0x416),_0x5f24fc(0x920),'ExternalStorageStats','GenerativeAIContextStats',_0x5f24fc(0x8b3),_0x5f24fc(0x5c8),_0x5f24fc(0x903),_0x5f24fc(0x253),_0x5f24fc(0x272),_0x5f24fc(0xae6),_0x5f24fc(0xa56),'KeyValueDatabaseStats',_0x5f24fc(0x624),_0x5f24fc(0x80d),_0x5f24fc(0x531),_0x5f24fc(0x8e2),_0x5f24fc(0x7ee),'RemoteMediaStreamTrackFail','SubscribeMediaStream',_0x5f24fc(0x67b),_0x5f24fc(0x9fe),_0x5f24fc(0x3e3),_0x5f24fc(0x2be)],[_0x5f24fc(0x390),_0x5f24fc(0x3e3),_0x5f24fc(0x954),_0x5f24fc(0x607),'CannotProvideMediaStream',_0x5f24fc(0xb05)],[_0x5f24fc(0x951),_0x5f24fc(0x9a4)],['Problem'],[_0x5f24fc(0x42c),_0x5f24fc(0x24d)]];function _0x82e370(_0x3d060b){const _0x4736e1=_0x5f24fc;return{..._0x3d060b,'systemMessageType':_0x217171[_0x3d060b[_0x4736e1(0x87f)]],'systemContentMessageType':_0x2ea2b6[_0x3d060b[_0x4736e1(0x87f)]][_0x3d060b['content'][_0x4736e1(0x781)]]};}const _0x529df9={'hour':_0x5f24fc(0x610),'minute':'2-digit','second':_0x5f24fc(0x610)};function _0x56b0fa(_0x50a0f4,_0x5cd462){const _0x5a6e2f=_0x5f24fc,_0x3378dd=(function(){const _0x2be98a=a0_0x214c,_0x3b7c4f=new Date(),_0x21d432=_0x3b7c4f['getMilliseconds'](),_0x3a0dbb=_0x3b7c4f['toLocaleDateString'](_0x2be98a(0xa7e),_0x529df9)[_0x2be98a(0xa21)](/\d\d:\d\d:\d\d/)?.[0x0];return _0x3a0dbb+'.'+(_0x21d432>0x64?''+_0x21d432:_0x21d432>0xa?'0'+_0x21d432:'00'+_0x21d432);}()),{sourceId:_0x425a02,destinationIds:_0x119dd3,systemMessageType:_0x256afe,systemContentMessageType:_0x2f5a6e}=_0x82e370(_0x50a0f4);return _0x3378dd+_0x5a6e2f(0x686)+_0x5cd462+_0x5a6e2f(0x686)+(_0x425a02===_0x5cd462?_0x5a6e2f(0xb3e)+_0x256afe+'\x27\x20to\x20'+(_0x119dd3?''+_0x119dd3:'everyone'):_0x50a0f4[_0x5a6e2f(0x241)]===_0x7cf9e6?_0x5a6e2f(0xa15)+_0x256afe+'\x27':(_0x119dd3?'':_0x5a6e2f(0x836))+'Receiving\x20\x27'+_0x256afe+_0x5a6e2f(0x536)+_0x425a02)+'\x20with\x20\x27'+_0x2f5a6e+'\x27\x20payload:';}function _0x38ba5d(_0x3defeb,_0x3ce664){const _0x2f9d0c=_0x5f24fc;if(!_0x40d481[_0x2f9d0c(0xb0a)](_0x3defeb))return;if(_0x510c96[_0x2f9d0c(0x3f1)])return;if('undefined'==typeof process)return;const _0x587409=process[_0x2f9d0c(0x804)]();console[_0x2f9d0c(0x60e)]('Memory\x20Usage\x20at\x20'+_0x3ce664+':');for(const _0x3e788e in _0x587409)console['log']('\x20\x20'+_0x3e788e+':\x20'+(_0x587409[_0x3e788e]/0x400/0x400)[_0x2f9d0c(0xae4)](0x2)+_0x2f9d0c(0x20f));}function _0x238822(_0x254bfa,_0x54feb4){const _0x5f4b64=_0x5f24fc;if(!_0x40d481[_0x5f4b64(0xb0a)](_0x54feb4))return _0x40d481[_0x5f4b64(0x92c)]('Logging\x20not\x20enabled\x20for\x20channel\x20'+_0x54feb4),{'timingLogger':{'start':()=>{},'now':()=>0x0,'logWaitTime':()=>{}},'logger':{'log':()=>{},'performCalculation':(_0x562130,_0x496887)=>_0x496887}};let _0x548379=0x0;return{'timingLogger':((()=>{let _0x26dee1=Date['now']();return{'start':()=>{const _0x42bf22=a0_0x214c;_0x26dee1=Date[_0x42bf22(0x2c1)]();},'now':()=>Date['now'](),'logWaitTime':_0x5c7e59=>{const _0x1bd0ae=a0_0x214c;_0x548379+=Date[_0x1bd0ae(0x2c1)]()-_0x26dee1,_0x40d481[_0x1bd0ae(0x60e)](_0x54feb4,_0x5c7e59,_0x548379+'ms',_0x254bfa);}};})()),'logger':{'log':(_0x14274b,_0x16532b=()=>{})=>{const _0x11c3a1=_0x5f4b64,_0x479ae2=_0x16532b();_0x479ae2?_0x40d481['log'](_0x54feb4,_0x14274b,_0x479ae2,_0x254bfa):_0x40d481[_0x11c3a1(0x60e)](_0x54feb4,_0x14274b,_0x254bfa);},'performCalculation':(_0x4c0706,_0x4dae6e)=>_0x4c0706()}};}function _0xa0515a(_0x3675ab){const _0x536176=_0x5f24fc;return _0x536176(0x474)==typeof Buffer?0x0:Buffer[_0x536176(0x3f5)](JSON['stringify'](_0x3675ab),_0x536176(0x631));}function _0x33e2d4(_0x45c17b){const _0x2009b6=_0x5f24fc;if(0x0===_0x45c17b)return'0\x20B';const _0x5d0302=Math[_0x2009b6(0x748)](Math[_0x2009b6(0x60e)](_0x45c17b)/Math[_0x2009b6(0x60e)](0x400));return parseFloat((_0x45c17b/Math[_0x2009b6(0x6a0)](0x400,_0x5d0302))[_0x2009b6(0xae4)](0x2))+'\x20'+['B','KB','MB','GB','TB'][_0x5d0302];}class _0x12db96 extends _0x303f2a{['localNode'];[_0x5f24fc(0x412)];[_0x5f24fc(0x240)];['isNodeReady'];['db'];[_0x5f24fc(0x6bb)];[_0x5f24fc(0xac1)]=new Map();[_0x5f24fc(0x3fe)];[_0x5f24fc(0xacb)];['tableUnsubscriber'];[_0x5f24fc(0x2ad)];[_0x5f24fc(0x3c0)];[_0x5f24fc(0x8bc)]=[];['timeoutCallback']=()=>{};['syncTimeout'];[_0x5f24fc(0xae7)]=_0x9e13e();[_0x5f24fc(0x6e1)];['syncTransactionsWritten']=[];[_0x5f24fc(0x39d)];[_0x5f24fc(0x8da)];[_0x5f24fc(0x508)]=0x0;[_0x5f24fc(0x2e4)]=0x0;['contentRequestSent']=!0x1;[_0x5f24fc(0xab8)]=new _0x1f36ad();[_0x5f24fc(0x8fa)]=new Map();['transactions']=[];['debounceRebuildMMR'];[_0x5f24fc(0x588)]=[];[_0x5f24fc(0x4f3)];constructor(_0x4cb022,_0x439828,_0x226ab3,_0x33900b,_0x2a7fd5,_0x48ffea,_0x4c9ae9){const _0x264f0e=_0x5f24fc;if(_0x264f0e(0x57a)!=typeof _0x439828)throw new _0x55ecf3(_0x2efe49['KeyValueDatabaseNameNotString'],'Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string');if(super(_0x4cb022,_0x439828),this[_0x264f0e(0x8ad)]=_0x4cb022,this['clusterId']=_0x226ab3,this[_0x264f0e(0x240)]=_0x33900b,this['isNodeReady']=_0x4c9ae9,this[_0x264f0e(0x6bb)]='ccc'+this[_0x264f0e(0x240)]+'ccc'+this[_0x264f0e(0x412)]+_0x264f0e(0xa33)+this[_0x264f0e(0xa85)],this[_0x264f0e(0x3fe)]=_0x9e13e(),this[_0x264f0e(0x4f3)]=function(_0x476443,_0x53c3bd){const _0xee4540=_0x264f0e;if(!_0x40d481[_0xee4540(0xb0a)](_0x53c3bd))return _0x40d481[_0xee4540(0x92c)](_0xee4540(0x9d9)+_0x53c3bd),{..._0x238822(_0x476443,_0x53c3bd),'logDataSent':()=>0x0,'logDataReceived':()=>0x0,'getDataLogged':()=>({'dataSent':'0\x20B','dataReceived':_0xee4540(0x40b)})};const {timingLogger:_0x355e50,logger:_0x105719}=_0x238822(_0x476443,_0x53c3bd);let _0x46686f=0x0,_0x489947=0x0;return{'timingLogger':_0x355e50,'logger':_0x105719,'logDataSent':(_0x1c554c,_0x544fbc=!0x1)=>{const _0x58188e=_0xee4540,_0x3c4947=_0xa0515a(_0x1c554c);return _0x544fbc&&_0x40d481[_0x58188e(0x60e)](_0x53c3bd,_0x58188e(0x50f),_0x476443,_0x3c4947),_0x46686f+=_0x3c4947,_0x3c4947;},'logDataReceived':(_0x351b6e,_0x177cc6=!0x1)=>{const _0x566926=_0xee4540,_0x50e408=_0xa0515a(_0x351b6e);return _0x177cc6&&_0x40d481[_0x566926(0x60e)](_0x53c3bd,_0x566926(0x8ce),_0x476443,_0x50e408),_0x489947+=_0x50e408,_0x50e408;},'getDataLogged':()=>({'dataSent':_0x33e2d4(_0x46686f),'dataReceived':_0x33e2d4(_0x489947)})};}(this['label'],_0xb10df['KeyValueDatabase']),this[_0x264f0e(0x2ad)]=new Promise(_0x1f1e60=>{const _0x49c5df=_0x264f0e;this[_0x49c5df(0x3c0)]=_0x1f1e60;}),_0x2a7fd5 instanceof _0x4e3b58)this[_0x264f0e(0x39d)]=_0x2a7fd5[_0x264f0e(0x92d)]();else{const [_0x4b6df3,_0x1ecea4]=_0x4e3b58[_0x264f0e(0x782)](_0x2a7fd5);if(!_0x4b6df3)throw new _0x55ecf3(_0x2efe49[_0x264f0e(0xadc)],_0x264f0e(0x4df)+_0x1ecea4);this[_0x264f0e(0x39d)]=structuredClone(_0x2a7fd5);}this[_0x264f0e(0x5ad)](this[_0x264f0e(0x39d)]),this['db']=new _0x48ffea(this['dbKey'],this[_0x264f0e(0x39d)]),this[_0x264f0e(0x53c)]();}async[_0x5f24fc(0x75b)](_0x7869d3,_0x301af2){const _0x5f003d=_0x5f24fc;if(_0x40d481[_0x5f003d(0x60e)](_0xb10df[_0x5f003d(0x71b)],_0x5f003d(0x4fa),this[_0x5f003d(0xa85)]),!this[_0x5f003d(0xacb)])throw new _0x4668fc(_0x4668fc['codes'][_0x5f003d(0x383)]);if(await this[_0x5f003d(0x2ad)],await this[_0x5f003d(0x3e6)](_0x7869d3),await this[_0x5f003d(0xab8)]['getRoot']()===_0x301af2){const _0x2e9ce5={'sourceId':this['localNode'][_0x5f003d(0x6e8)](),'destinationIds':[_0x7869d3],'propagate':!0x0,'messageType':_0x31112d['Content'],'content':{'type':_0x21c730[_0x5f003d(0x253)],'label':this['label'],'mmrRoot':_0x301af2}};return this[_0x5f003d(0x4f3)][_0x5f003d(0x699)](_0x2e9ce5),void this['systemTopic']['publish'](_0x2e9ce5);}const _0x41eff6=this[_0x5f003d(0xab8)][_0x5f003d(0x5d9)](),_0x51b2f6={'sourceId':this[_0x5f003d(0x8ad)]['getId'](),'destinationIds':[_0x7869d3],'propagate':!0x0,'messageType':_0x31112d[_0x5f003d(0x209)],'content':{'type':_0x21c730[_0x5f003d(0x903)],'label':this[_0x5f003d(0xa85)],'peaks':_0x41eff6}};this[_0x5f003d(0x4f3)][_0x5f003d(0x699)](_0x51b2f6),this['systemTopic'][_0x5f003d(0x803)](_0x51b2f6);}async['processContentSynchronized'](_0x493f60,_0x300041){const _0x41102d=_0x5f24fc,_0x1f0ca1=await this[_0x41102d(0xab8)]['getRoot'](),_0x7dd11=_0x1f0ca1===_0x300041;if(_0x40d481[_0x41102d(0x60e)](_0xb10df[_0x41102d(0x71b)],_0x41102d(0xa34)+_0x493f60+'.\x20Confirmation?\x20'+_0x7dd11,this[_0x41102d(0xa85)]),_0x7dd11)return this['clearSyncTimeout'](),void this[_0x41102d(0x888)]();_0x40d481[_0x41102d(0x60e)](_0xb10df['KeyValueDatabase'],_0x41102d(0x695),_0x1f0ca1,_0x300041),_0x40d481[_0x41102d(0x3a1)](_0x41102d(0x695),{'nodeId':this['localNode']['getId'](),'nodeType':this[_0x41102d(0x8ad)][_0x41102d(0x781)],'remoteId':_0x493f60,'data':{'localMMRRoot':_0x1f0ca1,'remoteMMRRoot':_0x300041}});const _0x421d96={'sourceId':this[_0x41102d(0x8ad)]['getId'](),'messageType':_0x31112d[_0x41102d(0x209)],'propagate':!0x0,'content':{'type':_0x21c730[_0x41102d(0x624)],'label':this['label'],'mmrRoot':_0x1f0ca1}};this[_0x41102d(0x541)][_0x41102d(0x803)](_0x421d96);}async[_0x5f24fc(0x9f3)](_0x1d9905,_0x5a4111){const _0x48d5be=_0x5f24fc;if(_0x40d481['log'](_0xb10df['KeyValueDatabase'],_0x48d5be(0x6b6),_0x1d9905,'label',this[_0x48d5be(0xa85)],_0x48d5be(0xaef),_0x5a4111),this[_0x48d5be(0x433)])return;this[_0x48d5be(0x433)]=!0x0,this[_0x48d5be(0x679)]();const {differingPeaks:_0x50f0d5,peaksMissingInLocal:_0x195314,peaksMissingInRemote:_0xd39f70}=this['mmr'][_0x48d5be(0xb11)](_0x5a4111);_0x40d481[_0x48d5be(0x60e)](_0xb10df[_0x48d5be(0x71b)],_0x48d5be(0x815),{'differingPeaks':_0x50f0d5,'peaksMissingInLocal':_0x195314,'peaksMissingInRemote':_0xd39f70});const _0x298120={'sourceId':this[_0x48d5be(0x8ad)][_0x48d5be(0x6e8)](),'destinationIds':[_0x1d9905],'propagate':!0x0,'messageType':_0x31112d[_0x48d5be(0x209)],'content':{'type':_0x21c730[_0x48d5be(0x272)],'label':this[_0x48d5be(0xa85)],'peakHeights':_0x195314['map'](_0x5e8c4d=>_0x5e8c4d[_0x48d5be(0x867)])[_0x48d5be(0x476)](_0x50f0d5[_0x48d5be(0xa4a)](_0x185ac2=>_0x185ac2['height']))}};if(this[_0x48d5be(0x541)][_0x48d5be(0x803)](_0x298120),_0x50f0d5[_0x48d5be(0x9a6)]>0x0||_0xd39f70['length']>0x0){const _0x3a091f=_0xd39f70['map'](_0x280ad7=>_0x280ad7[_0x48d5be(0x867)])['concat'](_0x50f0d5[_0x48d5be(0xa4a)](_0x4325cf=>_0x4325cf['height']));await this['sendPeakTransactions'](_0x1d9905,_0x3a091f,!0x0);}}async[_0x5f24fc(0x6d2)](_0x225801,_0x5b48b5,_0x3b7e93=!0x1){const _0x4608c4=_0x5f24fc;_0x40d481[_0x4608c4(0x60e)](_0xb10df[_0x4608c4(0x71b)],_0x4608c4(0x9f9),this[_0x4608c4(0xa85)]);const _0x1e5e28=_0x5b48b5['map'](_0x47d392=>this[_0x4608c4(0xab8)][_0x4608c4(0xa80)](_0x47d392))[_0x4608c4(0x776)](Boolean);if(!_0x1e5e28[_0x4608c4(0x9a6)]||_0x5b48b5[_0x4608c4(0x9a6)]!==_0x1e5e28[_0x4608c4(0x9a6)])throw new _0x4668fc(_0x4668fc[_0x4608c4(0x85e)][_0x4608c4(0xa86)],{'message':'Peaks\x20requested\x20were\x20not\x20found\x20in\x20local\x20MMR','peakHeights':_0x5b48b5,'peaks':_0x1e5e28[_0x4608c4(0xa4a)](_0x1f6a98=>_0x1f6a98[_0x4608c4(0x867)]),'nodeId':_0x225801});const _0x4bef2d=[];for(const _0x34d528 of _0x1e5e28)this[_0x4608c4(0x89b)](_0x34d528,_0x4bef2d);const _0x489e9a=_0x3b7e93?void 0x0:[_0x225801],_0x476010={'sourceId':this[_0x4608c4(0x8ad)][_0x4608c4(0x6e8)](),'destinationIds':_0x489e9a,'messageType':_0x31112d[_0x4608c4(0x209)],'propagate':!0x0,'content':{'type':_0x21c730['KeyValueDatabaseSendTransactions'],'label':this['label'],'transactions':_0x4bef2d}};this[_0x4608c4(0x4f3)]['logDataSent'](_0x476010),this['systemTopic'][_0x4608c4(0x803)](_0x476010);}async['processReceivedTransactions'](_0x53fbc2,_0x243e95){const _0x4cd83b=_0x5f24fc;_0x40d481[_0x4cd83b(0x60e)](_0xb10df[_0x4cd83b(0x71b)],_0x4cd83b(0x77a)+_0x243e95[_0x4cd83b(0x9a6)]+_0x4cd83b(0x291)+_0x53fbc2+_0x4cd83b(0x686)+this[_0x4cd83b(0xa85)]);for(const _0x4c3b0c of _0x243e95){const _0x24dc7e=await this['transactionTable']['get'](_0x4c3b0c['id']);if(!(_0x24dc7e&&this[_0x4cd83b(0x202)](_0x24dc7e,_0x4c3b0c)>=0x0)){if(_0x4c3b0c[_0x4cd83b(0x32a)]===_0x4c4453[_0x4cd83b(0x3bd)]){const [_0x287aca,_0x3b9e42]=_0x4c3b0c['id'][_0x4cd83b(0x5a1)]('::'),_0x24e95e=this['getTable'](_0x287aca);await _0x24e95e[_0x4cd83b(0x43a)](_0x3b9e42);}else this[_0x4cd83b(0x8bc)][_0x4cd83b(0x96d)](_0x4c3b0c['id']);}}if(_0x40d481['log'](_0xb10df[_0x4cd83b(0x71b)],'Found\x20'+this[_0x4cd83b(0x8bc)][_0x4cd83b(0x9a6)]+_0x4cd83b(0x5a9),this['label']),this['transactionsToSync'][_0x4cd83b(0x9a6)]>0x0){const _0x4f4995={'sourceId':this[_0x4cd83b(0x8ad)][_0x4cd83b(0x6e8)](),'destinationIds':[_0x53fbc2],'messageType':_0x31112d['Content'],'propagate':!0x0,'content':{'type':_0x21c730[_0x4cd83b(0xae6)],'label':this['label'],'transactionIds':this[_0x4cd83b(0x8bc)]}};this[_0x4cd83b(0x4f3)][_0x4cd83b(0x699)](_0x4f4995),this[_0x4cd83b(0x541)][_0x4cd83b(0x803)](_0x4f4995);}}['reset'](){this['sendStats']();}[_0x5f24fc(0xadb)](){const _0x1eb21e=_0x5f24fc;return _0x20053a[_0x1eb21e(0x552)][_0x1eb21e(0x71b)];}[_0x5f24fc(0x8fd)](){const _0x1372a3=_0x5f24fc;this['db']['close'](),this[_0x1372a3(0x985)]?.(),clearTimeout(this[_0x1372a3(0x8da)]),delete this[_0x1372a3(0x8da)],super[_0x1372a3(0x8fd)]();}[_0x5f24fc(0x7ef)](){const _0x45b6c3=_0x5f24fc;this[_0x45b6c3(0x679)](),this[_0x45b6c3(0x541)][_0x45b6c3(0x803)]({'sourceId':_0x7cf9e6,'messageType':_0x31112d['Content'],'content':{'type':_0x21c730[_0x45b6c3(0x8ec)],'label':this['label']}});}['getTable'](_0x56b1ea){const _0x30228b=_0x5f24fc,_0x43e9c0=this[_0x30228b(0xac1)][_0x30228b(0xb07)](_0x56b1ea);if(_0x43e9c0)return _0x43e9c0;try{if(!this['db']['hasTable'](_0x56b1ea))throw new _0x55ecf3(_0x2efe49[_0x30228b(0x6b1)],_0x30228b(0x995));const _0x4d0574=new _0x5e7014(this['db']['getTableConnector'](_0x56b1ea),_0x56b1ea,this['tableObserver']);return this[_0x30228b(0xac1)][_0x30228b(0x338)](_0x56b1ea,_0x4d0574),{'get':_0x4d0574[_0x30228b(0xb07)][_0x30228b(0x1ff)](_0x4d0574),'set':_0x4d0574[_0x30228b(0x338)][_0x30228b(0x1ff)](_0x4d0574),'add':_0x4d0574[_0x30228b(0x859)][_0x30228b(0x1ff)](_0x4d0574),'delete':_0x4d0574[_0x30228b(0x43a)][_0x30228b(0x1ff)](_0x4d0574),'clear':_0x4d0574[_0x30228b(0x567)]['bind'](_0x4d0574),'list':_0x4d0574[_0x30228b(0x46f)][_0x30228b(0x1ff)](_0x4d0574),'count':_0x4d0574['count']['bind'](_0x4d0574),'subscribe':_0x4d0574[_0x30228b(0x6f8)][_0x30228b(0x1ff)](_0x4d0574),'unsubscribe':_0x4d0574['unsubscribe']['bind'](_0x4d0574)};}catch(_0x562bfc){if(_0x562bfc instanceof _0x55ecf3)throw _0x562bfc;throw new _0x55ecf3(_0x2efe49[_0x30228b(0x222)],_0x30228b(0x977));}}[_0x5f24fc(0x6f8)](_0x1f2c7e){const _0x245b59=_0x5f24fc;this[_0x245b59(0x6e1)]=this[_0x245b59(0xae7)][_0x245b59(0x6f8)](_0x1f2c7e),this[_0x245b59(0x669)](this[_0x245b59(0x2ad)])[_0x245b59(0x742)](_0x3b5335=>{const _0x4f1e94=_0x245b59;_0x3b5335&&this[_0x4f1e94(0xae7)][_0x4f1e94(0x803)]({'event':_0x20053a['DatabaseEvent'][_0x4f1e94(0xa8c)]});});}[_0x5f24fc(0xac2)](){const _0x1aebff=_0x5f24fc;this[_0x1aebff(0x6e1)]?.(),this['listenerUnsubscriber']=void 0x0;}async['open'](){const _0xde7d06=_0x5f24fc;_0x38ba5d(_0xb10df[_0xde7d06(0x71b)],_0xde7d06(0x2fd));const _0x1f09df=[_0x37f735,_0x482a8c],_0x228127=[];try{await this['db'][_0xde7d06(0x791)]();const _0x3d99e7=this['db'][_0xde7d06(0x226)](_0x482a8c),_0x13758d=await _0x3d99e7[_0xde7d06(0x46f)](),{id:_0x260341,layout:_0x323f13}=_0x13758d[0x0]??{};if(_0x323f13){for(const _0x58e450 in _0x323f13)_0x1f09df['includes'](_0x58e450)||this['db'][_0xde7d06(0x9f2)](_0x58e450)||_0x228127[_0xde7d06(0x96d)](_0x58e450);await _0x3d99e7['set'](_0x260341,{'layout':this['layout']});}else await _0x3d99e7[_0xde7d06(0x859)]({'layout':this['layout']});}catch(_0x4b4a33){throw new _0x55ecf3(_0x2efe49[_0xde7d06(0x222)],_0x4b4a33[_0xde7d06(0x2ba)]||_0xde7d06(0x29a));}this[_0xde7d06(0x910)](),await this['buildInitialMMR'](),this[_0xde7d06(0x258)](),this[_0xde7d06(0x356)](),_0x228127[_0xde7d06(0xac8)](_0x13185c=>this[_0xde7d06(0xa9a)](_0x13185c));}async[_0x5f24fc(0x7ff)](_0x319c9f,_0x1f1ed9=()=>{},_0x521d11=!0x1){const _0x5bf80f=_0x5f24fc;if(!_0x319c9f)return setTimeout(()=>{const _0x47028a=a0_0x214c;this[_0x47028a(0x679)](),this[_0x47028a(0x888)]();},0x0),!0x0;if(this['contentRequestSent']=!0x1,this[_0x5bf80f(0x492)]=_0x1f1ed9,this[_0x5bf80f(0x643)]=setTimeout(_0x1f1ed9,0x7d0),!this[_0x5bf80f(0x541)])throw new _0x4668fc(_0x4668fc['codes'][_0x5bf80f(0x7c8)]);const _0x1e660e=await this['mmr'][_0x5bf80f(0x30a)](),_0x42a962={'sourceId':this['localNode']['getId'](),'messageType':_0x31112d[_0x5bf80f(0x209)],'propagate':_0x521d11,'content':{'type':_0x21c730[_0x5bf80f(0x624)],'label':this['label'],'mmrRoot':_0x1e660e}};return this['loggingCycle']['logDataSent'](_0x42a962),this['systemTopic'][_0x5bf80f(0x803)](_0x42a962),this[_0x5bf80f(0x2ad)];}async[_0x5f24fc(0xb3c)](_0x4a553c,_0x4450ea){const _0x25783a=_0x5f24fc;if(_0x40d481['log'](_0xb10df[_0x25783a(0x71b)],_0x25783a(0x4dd)+_0x4450ea[_0x25783a(0x9a6)],this[_0x25783a(0xa85)]),!this[_0x25783a(0xacb)])throw new _0x4668fc(_0x4668fc[_0x25783a(0x85e)][_0x25783a(0x383)]);for(const _0x2d56a7 of _0x4450ea){const _0x297ef8=await this[_0x25783a(0xacb)][_0x25783a(0xb07)](_0x2d56a7);if(!_0x297ef8)continue;const [_0x1b49b3,_0x276a65]=_0x2d56a7['split']('::'),_0x424867=this[_0x25783a(0x627)](_0x1b49b3),_0x56343d=await _0x424867[_0x25783a(0xb07)](_0x276a65);_0x56343d?(_0x297ef8[_0x25783a(0x810)]=_0x56343d,this[_0x25783a(0x8be)](_0x297ef8,[_0x4a553c])):_0x40d481[_0x25783a(0x3a1)](_0x25783a(0x9f8),{'nodeId':this[_0x25783a(0x8ad)][_0x25783a(0x6e8)](),'nodeType':this['localNode'][_0x25783a(0x781)],'remoteId':_0x4a553c,'data':{'tableKeys':Object[_0x25783a(0x6c0)](this[_0x25783a(0xac1)]),'transactionId':_0x2d56a7,'transactions':this['transactionsToSync'],'tableName':_0x1b49b3,'key':_0x276a65}});}}async[_0x5f24fc(0x3ed)](_0x3c2dde){const _0x290c27=_0x5f24fc;if(!this[_0x290c27(0xacb)])throw new _0x4668fc(_0x4668fc[_0x290c27(0x85e)]['KeyValueDatabaseTransactionTableNotInitialized']);const _0x43e6dc=await this[_0x290c27(0xab8)]['hashTransaction'](_0x3c2dde),_0x3920ff=this['transactionHashMap'][_0x290c27(0xb07)](_0x43e6dc);if(_0x3920ff&&this[_0x290c27(0x202)](_0x3c2dde,_0x3920ff)<=0x0)return void _0x40d481[_0x290c27(0x60e)](_0xb10df[_0x290c27(0x71b)],_0x290c27(0x2c3),_0x3c2dde);const _0x19389e={..._0x3c2dde};return delete _0x19389e[_0x290c27(0x810)],this[_0x290c27(0x9c1)](_0x19389e),await this[_0x290c27(0xacb)][_0x290c27(0x338)](_0x3c2dde['id'],_0x19389e),_0x3c2dde;}[_0x5f24fc(0x202)](_0x6ebb2c,_0x35b850){const _0x12c510=_0x5f24fc;return _0x6ebb2c[_0x12c510(0x586)]!==_0x35b850[_0x12c510(0x586)]?_0x6ebb2c[_0x12c510(0x586)]-_0x35b850[_0x12c510(0x586)]:_0x6ebb2c[_0x12c510(0x80e)]-_0x35b850[_0x12c510(0x80e)];}async[_0x5f24fc(0x6dd)](_0x2c4b28){const _0x5f1ab8=_0x5f24fc;if(!this[_0x5f1ab8(0xacb)])throw new _0x4668fc(_0x4668fc[_0x5f1ab8(0x85e)]['KeyValueDatabaseTransactionTableNotInitialized']);const _0x3b0e4b=_0x2c4b28[_0x5f1ab8(0x495)]+'::'+_0x2c4b28[_0x5f1ab8(0x3e2)],_0x21991f=await _0x47e6c0[_0x5f1ab8(0x634)](),_0x5102b6={'id':_0x3b0e4b,'priority':Math['random'](),'timestamp':_0x21991f,'action':_0x2c4b28[_0x5f1ab8(0x32a)]};if(await this[_0x5f1ab8(0x3ed)](_0x5102b6))return _0x5102b6;}async['deleteTransactionsForTable'](_0x1eed1d){const _0x3e2bfb=_0x5f24fc;if(!this[_0x3e2bfb(0xacb)])throw new _0x4668fc(_0x4668fc['codes'][_0x3e2bfb(0x383)]);const _0x52d687=_0x3d7037[_0x3e2bfb(0x2ef)]('id')[_0x3e2bfb(0x751)](_0x3e2bfb(0x8a3),[_0x1eed1d+'::',_0x1eed1d+_0x3e2bfb(0x39e)]),_0x3009f1=await this[_0x3e2bfb(0xacb)][_0x3e2bfb(0x46f)](_0x52d687[_0x3e2bfb(0x9ba)]());for(const _0x483249 of _0x3009f1)await this[_0x3e2bfb(0xacb)][_0x3e2bfb(0x43a)](_0x483249['id']);}[_0x5f24fc(0x258)](){const _0x245647=_0x5f24fc;this[_0x245647(0x227)](async(_0x1e4af8,_0x53e180)=>{const _0x5f2a7e=_0x245647;if(_0x53e180 instanceof File)return;if(this[_0x5f2a7e(0x4f3)][_0x5f2a7e(0x273)](_0x53e180),!await this['writeTransaction'](_0x53e180))return void this['checkSyncComplete'](_0x1e4af8,_0x53e180);if(!_0x53e180['value'])throw new _0x4668fc(_0x4668fc['codes'][_0x5f2a7e(0x7a3)]);const [_0x370316,_0x3766b1]=_0x53e180['id'][_0x5f2a7e(0x5a1)]('::'),_0x21af7=this[_0x5f2a7e(0x627)](_0x370316);if(!_0x21af7)throw new _0x4668fc(_0x4668fc['codes'][_0x5f2a7e(0x981)],{'table':_0x21af7});let _0x2c0179=0x0;switch(_0x53e180[_0x5f2a7e(0x32a)]){case _0x4c4453[_0x5f2a7e(0x3a4)]:case _0x4c4453[_0x5f2a7e(0x828)]:{const _0x599a26=_0x21af7[_0x5f2a7e(0x338)](_0x3766b1,_0x53e180[_0x5f2a7e(0x810)],!0x1);_0x2c0179=JSON[_0x5f2a7e(0x36f)](_0x53e180[_0x5f2a7e(0x810)])[_0x5f2a7e(0x9a6)],this[_0x5f2a7e(0x8bc)][_0x5f2a7e(0x465)](_0x53e180['id'])&&this[_0x5f2a7e(0x834)]['push'](_0x599a26);break;}case _0x4c4453[_0x5f2a7e(0x3bd)]:{const _0x34f0f3=_0x21af7[_0x5f2a7e(0x43a)](_0x3766b1,!0x1);this[_0x5f2a7e(0x8bc)][_0x5f2a7e(0x465)](_0x53e180['id'])&&this[_0x5f2a7e(0x834)][_0x5f2a7e(0x96d)](_0x34f0f3);break;}}_0x40d481[_0x5f2a7e(0xade)](_0x267c89[_0x5f2a7e(0x71b)],{'type':_0x5f2a7e(0x7ff),'label':this[_0x5f2a7e(0xa85)],'nodeId':this[_0x5f2a7e(0x8ad)][_0x5f2a7e(0x6e8)](),'nodeType':this[_0x5f2a7e(0x8ad)][_0x5f2a7e(0x781)],'clusterId':this[_0x5f2a7e(0x412)],'tableName':_0x370316,'key':_0x3766b1,'size':_0x2c0179}),this[_0x5f2a7e(0xad3)](_0x1e4af8,_0x53e180);});}[_0x5f24fc(0x356)](){const _0x4f5ac4=_0x5f24fc;this[_0x4f5ac4(0x985)]=this[_0x4f5ac4(0x3fe)][_0x4f5ac4(0x6f8)](async _0x34acb6=>{const _0x3ecc56=_0x4f5ac4;let _0x4f87bf=0x0;switch(_0x34acb6['action']){case _0x4c4453['Add']:case _0x4c4453[_0x3ecc56(0x828)]:case _0x4c4453[_0x3ecc56(0x3bd)]:{const _0x1c3f48=await this['getTransactionFromTableWriteEvent'](_0x34acb6);if(!_0x1c3f48)return;_0x1c3f48[_0x3ecc56(0x810)]=_0x34acb6[_0x3ecc56(0x810)],this[_0x3ecc56(0x8be)](_0x1c3f48),_0x4f87bf=JSON[_0x3ecc56(0x36f)](_0x34acb6[_0x3ecc56(0x810)])[_0x3ecc56(0x9a6)],this[_0x3ecc56(0x508)]+=0x1;break;}case _0x9c7fbd['Get']:case _0x9c7fbd['List']:case _0x9c7fbd[_0x3ecc56(0x6ed)]:this[_0x3ecc56(0x2e4)]+=0x1;}_0x40d481[_0x3ecc56(0xade)](_0x267c89[_0x3ecc56(0x71b)],{'type':_0x34acb6[_0x3ecc56(0x32a)],'label':this[_0x3ecc56(0xa85)],'nodeId':this[_0x3ecc56(0x8ad)]['getId'](),'nodeType':this[_0x3ecc56(0x8ad)]['type'],'clusterId':this[_0x3ecc56(0x412)],'tableName':_0x34acb6[_0x3ecc56(0x495)],'key':_0x34acb6[_0x3ecc56(0x3e2)],'size':_0x4f87bf}),this[_0x3ecc56(0x53c)]();});}[_0x5f24fc(0x910)](){const _0x283d41=_0x5f24fc;this['db']&&(this[_0x283d41(0xacb)]||(this['transactionTable']=this['db']['getTableConnector'](_0x37f735)));}[_0x5f24fc(0x679)](){const _0x3c96d9=_0x5f24fc;this[_0x3c96d9(0x643)]&&(clearTimeout(this[_0x3c96d9(0x643)]),delete this[_0x3c96d9(0x643)]);}async[_0x5f24fc(0x888)](){const _0x232659=_0x5f24fc;await this[_0x232659(0xab8)]['ready'],this['logSyncMetrics'](),this[_0x232659(0xae7)][_0x232659(0x803)]({'event':_0x20053a[_0x232659(0x87e)][_0x232659(0xa8c)]}),this[_0x232659(0x3c0)]?.(!0x0),delete this[_0x232659(0x3c0)],this[_0x232659(0x53c)](),_0x40d481['log'](_0xb10df[_0x232659(0x71b)],_0x232659(0x620),this[_0x232659(0xa85)]);}async['publishSyncCompletedAfterWrites'](_0x59ce05){const _0x2cb0a1=_0x5f24fc;await Promise[_0x2cb0a1(0x366)](this[_0x2cb0a1(0x834)]),_0x40d481['log'](_0xb10df[_0x2cb0a1(0x71b)],_0x2cb0a1(0xa1f)+this['syncTransactionsWritten']['length']+_0x2cb0a1(0xb36)+_0x59ce05+_0x2cb0a1(0x797),this[_0x2cb0a1(0xa85)]),await this['mmr']['ready'],await this[_0x2cb0a1(0x487)](_0x59ce05),await this[_0x2cb0a1(0x888)]();}[_0x5f24fc(0xad3)](_0x5ea49f,_0x5d0b00){const _0x8d92ad=_0x5f24fc;this[_0x8d92ad(0x8bc)]['includes'](_0x5d0b00['id'])&&(this[_0x8d92ad(0x679)](),this['transactionsToSync']=this[_0x8d92ad(0x8bc)][_0x8d92ad(0x776)](_0x44e9e8=>_0x44e9e8!==_0x5d0b00['id']),0x0!==this[_0x8d92ad(0x8bc)][_0x8d92ad(0x9a6)]?this[_0x8d92ad(0x643)]=setTimeout(this[_0x8d92ad(0x492)],0x7d0):this[_0x8d92ad(0x598)](_0x5ea49f));}[_0x5f24fc(0x53c)](){const _0x1c45dc=_0x5f24fc;this[_0x1c45dc(0x8da)]&&clearTimeout(this[_0x1c45dc(0x8da)]),this[_0x1c45dc(0x8da)]=setTimeout(async()=>{const _0xb5ec12=_0x1c45dc;delete this[_0xb5ec12(0x8da)];let _0x23b3c9=0x0;for(const _0x16e24a of this[_0xb5ec12(0xac1)][_0xb5ec12(0x9af)]())_0x23b3c9+=await _0x16e24a['calculateSize']();this[_0xb5ec12(0x541)][_0xb5ec12(0x803)]({'sourceId':_0x7cf9e6,'messageType':_0x31112d['Content'],'content':{'type':_0x21c730[_0xb5ec12(0x34c)],'label':this[_0xb5ec12(0xa85)],'stats':{'timestamp':Date[_0xb5ec12(0x2c1)](),'storage':_0x23b3c9,'messagesSent':this['messagesSent'],'messagesReceived':this[_0xb5ec12(0x546)],'bytesSent':this[_0xb5ec12(0x688)],'bytesReceived':this[_0xb5ec12(0x940)],'writes':this[_0xb5ec12(0x508)],'reads':this[_0xb5ec12(0x2e4)],'prompts':0x0,'tokens':0x0}}}),_0x40d481[_0xb5ec12(0x201)](_0x267c89[_0xb5ec12(0x71b)],_0xb5ec12(0xa33)+this[_0xb5ec12(0x412)]+_0xb5ec12(0xa33)+this['label'],_0x23b3c9);},_0x4a5b22);}[_0x5f24fc(0x5ad)](_0x6a6218){const _0x3c3d4d=_0x5f24fc;if(_0x6a6218[_0x3c3d4d(0xac1)][_0x37f735])throw new _0x55ecf3(_0x2efe49[_0x3c3d4d(0xb1e)],_0x3c3d4d(0x506)+_0x37f735+'\x27\x20reserved');if(_0x6a6218[_0x3c3d4d(0xac1)][_0x482a8c])throw new _0x55ecf3(_0x2efe49[_0x3c3d4d(0xb1e)],_0x3c3d4d(0x506)+_0x482a8c+_0x3c3d4d(0x701));_0x6a6218[_0x3c3d4d(0xac1)][_0x37f735]={'indexes':[]},_0x6a6218['tables'][_0x482a8c]={'indexes':[]};}async[_0x5f24fc(0x669)](_0x1a4ade){const _0x40d346=_0x5f24fc;return Promise[_0x40d346(0x933)]([_0x1a4ade,Promise[_0x40d346(0x92e)]('not-resolved')])[_0x40d346(0x742)](_0x41426c=>_0x40d346(0x3f9)!==_0x41426c);}async[_0x5f24fc(0x487)](_0x5bb020){const _0x599688=_0x5f24fc;await this['processTransactionsToComputeMMR']();const _0x57fb41=await this['mmr'][_0x599688(0x30a)](),_0x30103c={'sourceId':this[_0x599688(0x8ad)][_0x599688(0x6e8)](),'destinationIds':[_0x5bb020],'propagate':!0x0,'messageType':_0x31112d[_0x599688(0x209)],'content':{'type':_0x21c730[_0x599688(0x253)],'label':this[_0x599688(0xa85)],'mmrRoot':_0x57fb41}};this[_0x599688(0x541)][_0x599688(0x803)](_0x30103c);}async[_0x5f24fc(0x324)](){const _0x10fdc8=_0x5f24fc;if(!this[_0x10fdc8(0xacb)])throw new _0x4668fc(_0x4668fc[_0x10fdc8(0x85e)][_0x10fdc8(0x383)]);this[_0x10fdc8(0x556)]=await this['transactionTable'][_0x10fdc8(0x46f)](),this[_0x10fdc8(0x556)]['sort'](this[_0x10fdc8(0x202)]),this[_0x10fdc8(0xab8)]=new _0x1f36ad(),this[_0x10fdc8(0x8fa)]=new Map();for(const _0x598945 of this['transactions'])this[_0x10fdc8(0x63d)](_0x598945,this['transactions'][_0x10fdc8(0x9a6)]);this[_0x10fdc8(0x6ef)]();}async[_0x5f24fc(0x63d)](_0x5add22,_0x24d48b){const _0x1338bc=_0x5f24fc,_0x3d7e00={..._0x5add22};delete _0x3d7e00[_0x1338bc(0x810)],await this[_0x1338bc(0xab8)][_0x1338bc(0x4cc)](_0x3d7e00,_0x24d48b);const _0x65992a=await this[_0x1338bc(0xab8)]['hashTransaction'](_0x3d7e00);this[_0x1338bc(0x8fa)][_0x1338bc(0x338)](_0x65992a,_0x5add22);}[_0x5f24fc(0xa3d)](_0x7eddde){const _0x15121f=_0x5f24fc;return this[_0x15121f(0x8fa)][_0x15121f(0xb07)](_0x7eddde);}[_0x5f24fc(0x89b)](_0x5b3254,_0x431dc3){const _0x16f8ea=_0x5f24fc;if(0x0!==_0x5b3254['height'])_0x5b3254[_0x16f8ea(0x345)]&&this[_0x16f8ea(0x89b)](_0x5b3254['left'],_0x431dc3),_0x5b3254['right']&&this[_0x16f8ea(0x89b)](_0x5b3254[_0x16f8ea(0x2d2)],_0x431dc3);else{const _0x6c85e4=this['getTransactionByHash'](_0x5b3254[_0x16f8ea(0x359)]);_0x6c85e4&&_0x431dc3[_0x16f8ea(0x96d)](_0x6c85e4);}}async[_0x5f24fc(0x47a)](){const _0x32f268=_0x5f24fc;this[_0x32f268(0x79a)]&&(clearTimeout(this[_0x32f268(0x79a)]),delete this[_0x32f268(0x79a)],this[_0x32f268(0x588)][_0x32f268(0x9a6)]>0x0&&(this[_0x32f268(0x556)][_0x32f268(0x96d)](...this[_0x32f268(0x588)][_0x32f268(0x838)](this[_0x32f268(0x202)])),this[_0x32f268(0x588)]=[]));const _0x20fd32=this[_0x32f268(0x378)]();this['mmr']=new _0x1f36ad(),this[_0x32f268(0x8fa)][_0x32f268(0x567)](),this['transactions'][_0x32f268(0x838)](this[_0x32f268(0x202)]);for(const _0x5a15d8 of this['transactions'])this[_0x32f268(0x63d)](_0x5a15d8,this[_0x32f268(0x556)][_0x32f268(0x9a6)]);await this['mmr'][_0x32f268(0x8de)],this[_0x32f268(0x257)](_0x20fd32);}[_0x5f24fc(0x378)](){const _0x3adcd0=_0x5f24fc;return this['loggingCycle'][_0x3adcd0(0x7ad)][_0x3adcd0(0x52b)](async()=>{const _0x17d08d=_0x3adcd0,_0x84daa=await this[_0x17d08d(0xab8)]['getRoot']();return{'startTime':Date[_0x17d08d(0x2c1)](),'initialRoot':_0x84daa};},Promise[_0x3adcd0(0x92e)]({'startTime':0x0,'initialRoot':''}));}async[_0x5f24fc(0x257)](_0x32547f){const _0x3fb51c=_0x5f24fc;try{const {startTime:_0x52619d,initialRoot:_0x5808e2}=await _0x32547f,_0xf12dc5=await this[_0x3fb51c(0xab8)][_0x3fb51c(0x30a)](),_0x302f68=[_0x3fb51c(0x9f0)+(_0x5808e2!==_0xf12dc5),_0x3fb51c(0x5ab)+_0x5808e2,_0x3fb51c(0x49c)+_0xf12dc5,_0x3fb51c(0x4c5)+this[_0x3fb51c(0xab8)][_0x3fb51c(0x562)](),_0x3fb51c(0xb25)+(Date[_0x3fb51c(0x2c1)]()-_0x52619d)+_0x3fb51c(0x48b)]['join']('\x20');this[_0x3fb51c(0x4f3)][_0x3fb51c(0x7ad)]['log']('',()=>_0x302f68);}catch(_0xfa5f7c){console['error']('Error\x20during\x20MMR\x20rebuild\x20logging:',_0xfa5f7c);}}[_0x5f24fc(0x9c1)](_0x89a225){const _0x28ef75=_0x5f24fc;this[_0x28ef75(0x588)][_0x28ef75(0x96d)](_0x89a225),this[_0x28ef75(0x79a)]&&(clearTimeout(this[_0x28ef75(0x79a)]),delete this[_0x28ef75(0x79a)]),this[_0x28ef75(0x79a)]=setTimeout(()=>{const _0x19845e=_0x28ef75;this[_0x19845e(0x2bc)]();},0x3e8);}async['processTransactionsToComputeMMR'](){const _0x56c3c8=_0x5f24fc;if(this['debounceRebuildMMR']&&(clearTimeout(this[_0x56c3c8(0x79a)]),delete this[_0x56c3c8(0x79a)]),0x0!==this['transactionsToAppend'][_0x56c3c8(0x9a6)]){if(0x0===this['transactions'][_0x56c3c8(0x9a6)])return this[_0x56c3c8(0x556)]=this['transactionsToAppend'],this[_0x56c3c8(0x588)]=[],await this[_0x56c3c8(0x47a)]();if(this[_0x56c3c8(0x588)]['sort'](this[_0x56c3c8(0x202)]),this[_0x56c3c8(0x202)](this['transactionsToAppend'][0x0],this['transactions'][this[_0x56c3c8(0x556)][_0x56c3c8(0x9a6)]-0x1])>0x0){this['loggingCycle'][_0x56c3c8(0x7ad)][_0x56c3c8(0x60e)](_0x56c3c8(0x81c)+this[_0x56c3c8(0x588)][_0x56c3c8(0x9a6)]+',\x20Transactions:\x20'+this['transactions'][_0x56c3c8(0x9a6)]);for(const _0x120a3c of this[_0x56c3c8(0x588)])this[_0x56c3c8(0x556)][_0x56c3c8(0x96d)](_0x120a3c),this['appendTransactionAndUpdateHashMap'](_0x120a3c,this['transactionsToAppend'][_0x56c3c8(0x9a6)]);return this[_0x56c3c8(0x588)]=[],void this[_0x56c3c8(0x4f3)][_0x56c3c8(0x7ad)][_0x56c3c8(0x60e)](_0x56c3c8(0x775),async()=>_0x56c3c8(0x7c2)+await this[_0x56c3c8(0xab8)]['getRoot']()+_0x56c3c8(0x891)+this[_0x56c3c8(0xab8)][_0x56c3c8(0x562)]());}this[_0x56c3c8(0x4f3)][_0x56c3c8(0x7ad)][_0x56c3c8(0x60e)](_0x56c3c8(0x5f1)+this[_0x56c3c8(0x588)][_0x56c3c8(0x9a6)]+_0x56c3c8(0x9c9)+this[_0x56c3c8(0x556)][_0x56c3c8(0x9a6)]),this['transactions']['push'](...this['transactionsToAppend']),this[_0x56c3c8(0x588)]=[],this[_0x56c3c8(0x47a)]();}}async[_0x5f24fc(0x37f)](){const _0xf12e12=_0x5f24fc;if(!_0x40d481[_0xf12e12(0xb0a)](_0xb10df[_0xf12e12(0x71b)]))return;await this[_0xf12e12(0xab8)]['ready'];const {dataSent:_0x18289b,dataReceived:_0x2e6695}=this[_0xf12e12(0x4f3)][_0xf12e12(0x660)]();_0x40d481['log'](_0xb10df[_0xf12e12(0x71b)],_0xf12e12(0x5af),this['label'],_0xf12e12(0xaf8)+_0x18289b,_0xf12e12(0x2e0)+_0x2e6695,_0xf12e12(0xaac),await this[_0xf12e12(0xab8)]['getRoot'](),'\x0a\x20===\x20Total\x20Nodes:',this[_0xf12e12(0xab8)]['getTotalNodes']());}async[_0x5f24fc(0x6ef)](){const _0x30774c=_0x5f24fc;if(!_0x40d481['isChannelEnabled'](_0xb10df[_0x30774c(0x71b)]))return;const _0x53d75f=this['mmr']['getPeaks'](),_0x4235c1=_0x53d75f['map'](_0x920db4=>_0x920db4[_0x30774c(0x867)]),_0xb13fdd=await this[_0x30774c(0xab8)][_0x30774c(0x30a)]();_0x40d481[_0x30774c(0x60e)](_0xb10df[_0x30774c(0x71b)],'Initial\x20MMR\x20built\x20with',this[_0x30774c(0x556)]['length'],_0x30774c(0x556),this[_0x30774c(0xab8)][_0x30774c(0x562)](),_0x30774c(0x428),_0x53d75f[_0x30774c(0x9a6)],'peaks',_0x4235c1,_0x30774c(0x1ee),_0xb13fdd);}}const _0x4df9bb=require('@crewdle/mist-connector-opfs'),_0x476d15=require('@crewdle/mist-connector-indexed-db'),_0x3dc40a=require('@crewdle/mist-connector-webrtc-browser'),_0x13667e=0x10000000;var _0x10be3e,_0x1d3b9e,_0x1c3bcf,_0x7885c9,_0x23fbba,_0x4c7147,_0x3810f9,_0xacf31a,_0x4f4d3f;!function(_0x179c05){const _0x4cb2fb=_0x5f24fc;_0x179c05[_0x4cb2fb(0x277)]=_0x4cb2fb(0x277),_0x179c05[_0x4cb2fb(0xa53)]=_0x4cb2fb(0xa53),_0x179c05['AudioVolume']=_0x4cb2fb(0xb34),_0x179c05[_0x4cb2fb(0x3ea)]=_0x4cb2fb(0x3ea),_0x179c05[_0x4cb2fb(0x577)]=_0x4cb2fb(0x577),_0x179c05[_0x4cb2fb(0x69e)]=_0x4cb2fb(0x69e),_0x179c05['Recording']=_0x4cb2fb(0x5d1),_0x179c05[_0x4cb2fb(0xa4f)]='ScreenSharing',_0x179c05['WebGL']=_0x4cb2fb(0xa83),_0x179c05['WebRTC']=_0x4cb2fb(0x25f);}(_0x10be3e||(_0x10be3e={}));class _0x398545{[_0x5f24fc(0x661)];[_0x5f24fc(0x423)];[_0x5f24fc(0x928)];constructor(_0x5869fc=new Map(),_0x2fa391=new Map(),_0x538f3c=new EventTarget()){const _0x4353f3=_0x5f24fc;this['registeredListeners']=_0x5869fc,this[_0x4353f3(0x423)]=_0x2fa391,this[_0x4353f3(0x928)]=_0x538f3c;}['emit']=(_0x409166,_0x4ce900)=>this[_0x5f24fc(0x661)][_0x5f24fc(0x4cb)](_0x409166)?(_0x40d481[_0x5f24fc(0x60e)](_0xb10df[_0x5f24fc(0x266)],_0x5f24fc(0x9b8),{'event':_0x409166,'data':_0x4ce900}),this['eventTarget']['dispatchEvent'](new CustomEvent(_0x409166,{'detail':_0x4ce900})),!0x0):(this[_0x5f24fc(0x62d)](_0x409166,_0x4ce900),!0x1);['on']=(_0x2ec95d,_0x1e560f)=>{const _0x3379d5=_0x5f24fc,_0x4be063=_0x5b613a=>{const _0x35e715=a0_0x214c;_0x40d481[_0x35e715(0x60e)](_0xb10df[_0x35e715(0x266)],'Received\x20event\x20on\x20cluster',_0x5b613a['type'],_0x5b613a['detail']),_0x1e560f(_0x5b613a[_0x35e715(0x281)]);};return this[_0x3379d5(0x661)][_0x3379d5(0x338)](_0x2ec95d,_0x4be063),this[_0x3379d5(0x928)]['addEventListener'](_0x2ec95d,_0x4be063),_0x40d481[_0x3379d5(0x60e)](_0xb10df[_0x3379d5(0x965)],'Subscribing\x20to\x20an\x20event:\x20on',_0x2ec95d,_0x1e560f),this[_0x3379d5(0x4b7)](_0x2ec95d),this;};[_0x5f24fc(0x5a0)](_0x31698a){const _0x5a556e=_0x5f24fc;if(!_0x31698a)return this[_0x5a556e(0x661)][_0x5a556e(0xac8)]((_0x7c73d4,_0xefff97)=>{const _0x3c40e6=_0x5a556e;this[_0x3c40e6(0x928)]['removeEventListener'](_0xefff97,_0x7c73d4);}),void this['registeredListeners'][_0x5a556e(0x567)]();'string'==typeof _0x31698a&&this[_0x5a556e(0x7aa)](_0x31698a),Array['isArray'](_0x31698a)&&_0x31698a[_0x5a556e(0xac8)](_0x139367=>{const _0x537817=_0x5a556e;this[_0x537817(0x7aa)](_0x139367);});}[_0x5f24fc(0x7aa)](_0x325b34){const _0x1f288b=_0x5f24fc,_0x4fbb4d=this[_0x1f288b(0x661)][_0x1f288b(0xb07)](_0x325b34);_0x4fbb4d&&(this[_0x1f288b(0x928)][_0x1f288b(0x34a)](_0x325b34,_0x4fbb4d),this[_0x1f288b(0x661)][_0x1f288b(0x43a)](_0x325b34));}[_0x5f24fc(0x62d)](_0x480d02,_0xf4f34){const _0x46244c=_0x5f24fc;_0x40d481[_0x46244c(0x60e)](_0xb10df[_0x46244c(0x266)],_0x46244c(0x4d3),{'event':_0x480d02,'data':_0xf4f34});const _0x211b6c=this[_0x46244c(0x423)][_0x46244c(0xb07)](_0x480d02)||[];this['bufferedEvents'][_0x46244c(0x338)](_0x480d02,[..._0x211b6c,_0xf4f34]);}['consumeBufferedEvents'](_0x5ef144){const _0x48eba0=_0x5f24fc,_0x17909c=this['bufferedEvents'][_0x48eba0(0xb07)](_0x5ef144);_0x17909c&&(_0x17909c[_0x48eba0(0xac8)](_0x5892ef=>{const _0x5941a9=_0x48eba0;_0x40d481[_0x5941a9(0x60e)](_0xb10df['Events'],_0x5941a9(0x426),{'event':_0x5ef144,'data':_0x5892ef}),this[_0x5941a9(0x928)]['dispatchEvent'](new CustomEvent(_0x5ef144,{'detail':_0x5892ef}));}),this[_0x48eba0(0x423)][_0x48eba0(0x43a)](_0x5ef144));}}class _0x34bdcf extends Error{constructor(_0x2ba55e){super('Early\x20return:\x20'+_0x2ba55e);}}!function(_0x34fa81){const _0x417636=_0x5f24fc;_0x34fa81[_0x34fa81[_0x417636(0x749)]=0x0]=_0x417636(0x749),_0x34fa81[_0x34fa81[_0x417636(0x571)]=0x1]=_0x417636(0x571);}(_0x1d3b9e||(_0x1d3b9e={})),function(_0x512b7a){const _0x5d31c1=_0x5f24fc;_0x512b7a[_0x512b7a['Offer']=0x0]=_0x5d31c1(0x4be),_0x512b7a[_0x512b7a['Answer']=0x1]=_0x5d31c1(0x4bd),_0x512b7a[_0x512b7a[_0x5d31c1(0x6ab)]=0x2]='Handshake',_0x512b7a[_0x512b7a[_0x5d31c1(0x4db)]=0x3]=_0x5d31c1(0x4db),_0x512b7a[_0x512b7a[_0x5d31c1(0x77d)]=0x4]=_0x5d31c1(0x77d),_0x512b7a[_0x512b7a['Restart']=0x5]=_0x5d31c1(0x329),_0x512b7a[_0x512b7a[_0x5d31c1(0x6db)]=0x6]='Disconnect',_0x512b7a[_0x512b7a[_0x5d31c1(0x7d3)]=0x7]='Stats',_0x512b7a[_0x512b7a['OptimizationConnectionSuccess']=0x8]=_0x5d31c1(0xa54);}(_0x1c3bcf||(_0x1c3bcf={})),function(_0xfe6c4f){const _0x543df8=_0x5f24fc;_0xfe6c4f[_0xfe6c4f[_0x543df8(0x4c8)]=0x0]=_0x543df8(0x4c8),_0xfe6c4f[_0xfe6c4f['Receiver']=0x1]=_0x543df8(0xab5);}(_0x7885c9||(_0x7885c9={})),function(_0x314c49){const _0xf0144a=_0x5f24fc;_0x314c49[_0xf0144a(0x69e)]=_0xf0144a(0x5c5);}(_0x23fbba||(_0x23fbba={})),function(_0x418268){const _0x4f661a=_0x5f24fc;_0x418268[_0x418268['NodeJoin']=0x0]=_0x4f661a(0x770),_0x418268[_0x418268[_0x4f661a(0x25a)]=0x1]=_0x4f661a(0x25a),_0x418268[_0x418268[_0x4f661a(0x55a)]=0x2]='NodeConnectionsUpdate',_0x418268[_0x418268[_0x4f661a(0xa70)]=0x3]='NodeLeave';}(_0x4c7147||(_0x4c7147={})),function(_0x4f7fa4){const _0x34375c=_0x5f24fc;_0x4f7fa4[_0x4f7fa4[_0x34375c(0x42c)]=0x0]=_0x34375c(0x42c),_0x4f7fa4[_0x4f7fa4[_0x34375c(0x24d)]=0x1]=_0x34375c(0x24d);}(_0x3810f9||(_0x3810f9={})),function(_0xf9281){const _0x54aef7=_0x5f24fc;_0xf9281['Upgrade']=_0x54aef7(0x39b),_0xf9281[_0x54aef7(0x889)]='downgrade';}(_0xacf31a||(_0xacf31a={})),function(_0x19bde7){const _0x2594d4=_0x5f24fc;_0x19bde7['Resolution']=_0x2594d4(0x54f),_0x19bde7['Bitrate']=_0x2594d4(0x703);}(_0x4f4d3f||(_0x4f4d3f={}));const _0x40f9ba=require('aws-amplify'),_0x43dfb1=require('aws-amplify/utils'),_0x3ae62f=require('@aws-amplify/api'),_0x42cfee=require('@aws-amplify/core');class _0x1abb07{['clusterId'];[_0x5f24fc(0x8ad)];['remoteId'];constructor(_0x23fcc9,_0x5cc51c,_0x11fc70){const _0x107ecc=_0x5f24fc;this[_0x107ecc(0x412)]=_0x23fcc9,this[_0x107ecc(0x8ad)]=_0x5cc51c,this[_0x107ecc(0x931)]=_0x11fc70;}[_0x5f24fc(0x8bb)](){const _0x336c1e=_0x5f24fc;return this[_0x336c1e(0x8ad)][_0x336c1e(0x6e8)]();}[_0x5f24fc(0x5b7)](){const _0x3a9b85=_0x5f24fc;return this[_0x3a9b85(0x931)];}}var _0x5bf86e,_0x1949b7,_0x571dd0;function _0x5cedd3(_0x1b97bf,_0x25f244){return _0x1b97bf['sourceId']===_0x25f244;}function _0x4ea9f8(_0x411bca,_0x431710){const _0x481c4e=_0x5f24fc;return _0x411bca[_0x481c4e(0x463)]?.['includes'](_0x431710)??function(_0x49ca3b){return void 0x0===_0x49ca3b['destinationIds'];}(_0x411bca);}function _0x1bdf6c(_0x1e43a9,{contentType:_0x56e7aa,label:_0x1b36b5,remoteId:_0x3c8a4b}){return _0x1e43a9+'-'+_0x56e7aa+'-'+_0x1b36b5+'-'+_0x3c8a4b;}function _0xfcdd91(_0x4c5fe3,_0x1e2ae9,_0x21b22b){return''+_0x4c5fe3+_0x1e2ae9+_0x21b22b;}function _0x23dfb3(_0x5ac954){const _0x8b1858=_0x5f24fc;return _0x5ac954===_0x1949b7[_0x8b1858(0x64b)]?_0x8b1858(0x91d):'OutgoingSubscription';}function _0x392053(_0x257c40,_0x4debeb){const _0x38d2bb=_0x5f24fc;return{'label':_0x257c40[_0x38d2bb(0xaa5)](),'contentType':_0x257c40[_0x38d2bb(0xadb)](),'remoteId':_0x4debeb[_0x38d2bb(0x5b7)](),'supportsContentType':_0x4debeb[_0x38d2bb(0x98c)]()[_0x38d2bb(0x465)](_0x257c40[_0x38d2bb(0xadb)]())};}!function(_0x399e6f){const _0x1cc6d5=_0x5f24fc;_0x399e6f[_0x399e6f[_0x1cc6d5(0x81f)]=0x0]=_0x1cc6d5(0x81f),_0x399e6f[_0x399e6f[_0x1cc6d5(0x9e6)]=0x1]=_0x1cc6d5(0x9e6),_0x399e6f[_0x399e6f[_0x1cc6d5(0x27c)]=0x2]=_0x1cc6d5(0x27c);}(_0x5bf86e||(_0x5bf86e={})),function(_0x1ce378){const _0x1a62f4=_0x5f24fc;_0x1ce378[_0x1a62f4(0x64b)]='in',_0x1ce378[_0x1a62f4(0xa46)]=_0x1a62f4(0x9ac);}(_0x1949b7||(_0x1949b7={}));class _0x56a346{[_0x5f24fc(0xa12)];['retryCallback'];constructor(_0x489c35,_0x15f5ff){const _0x2f9cf2=_0x5f24fc;this[_0x2f9cf2(0xa12)]=_0x489c35,this['retryCallback']=_0x15f5ff;}[_0x5f24fc(0x436)](_0x38810d){const _0x3a125f=_0x5f24fc;this[_0x3a125f(0xa12)](_0x38810d);}async['wait'](){const _0xe4d20e=_0x5f24fc;await this[_0xe4d20e(0x802)]();}}class _0x598c09{[_0x5f24fc(0xa12)];[_0x5f24fc(0x802)];constructor(_0x351276,_0x1b8952){const _0x1e2a70=_0x5f24fc;this[_0x1e2a70(0xa12)]=_0x351276,this[_0x1e2a70(0x802)]=_0x1b8952;}async[_0x5f24fc(0x436)](_0x34303c){const _0x127148=_0x5f24fc;await this[_0x127148(0xa12)](_0x34303c);}async[_0x5f24fc(0x7a2)](){const _0x8c0c53=_0x5f24fc;await this[_0x8c0c53(0x802)]();}}function _0x2d5504(_0x3c5745=()=>{},_0x1db8e4=()=>!0x1,_0x578f51=()=>{}){let _0x4537ce,_0x260d6f,_0x56c219=0x0;return{get 'size'(){return _0x56c219;},get 'head'(){return _0x4537ce;},get 'tail'(){return _0x260d6f;},set 'head'(_0xb21e60){_0x4537ce=_0xb21e60;},set 'tail'(_0x5ce2f1){_0x260d6f=_0x5ce2f1;},'push'(_0x18aa34,_0x1e0601=!0x0){const _0x105b99=a0_0x214c,_0x5f1754={'value':_0x18aa34};_0x1e0601&&_0x1db8e4(_0x5f1754)?_0x3c5745():(_0x260d6f&&(_0x5f1754[_0x105b99(0x593)]=_0x260d6f,_0x260d6f[_0x105b99(0xb16)]=_0x5f1754),_0x260d6f=_0x5f1754,_0x4537ce||(_0x4537ce=_0x5f1754),_0x56c219+=0x1,_0x1e0601&&_0x3c5745());},'pop'(){const _0x5caecc=a0_0x214c;if(!_0x260d6f)return;const _0x46e5a4=_0x260d6f[_0x5caecc(0x810)];return _0x260d6f=_0x260d6f[_0x5caecc(0x593)],_0x260d6f&&delete _0x260d6f[_0x5caecc(0xb16)],_0x260d6f||(_0x4537ce=void 0x0),_0x56c219-=0x1,_0x46e5a4;},'unshift'(_0x499897,_0x5883ad=!0x0){const _0x1b8a60=a0_0x214c,_0xe2a0e2={'value':_0x499897};_0x5883ad&&_0x1db8e4(_0xe2a0e2)?_0x3c5745():(_0x4537ce&&(_0x4537ce[_0x1b8a60(0x593)]=_0xe2a0e2,_0xe2a0e2[_0x1b8a60(0xb16)]=_0x4537ce),_0x4537ce=_0xe2a0e2,_0x260d6f||(_0x260d6f=_0xe2a0e2),_0x56c219+=0x1,_0x5883ad&&_0x3c5745());},'shift'(){const _0x4680cc=a0_0x214c;if(!_0x4537ce)return;const _0x405a5d=_0x4537ce[_0x4680cc(0x810)];return _0x4537ce=_0x4537ce[_0x4680cc(0xb16)],_0x4537ce&&delete _0x4537ce[_0x4680cc(0x593)],_0x4537ce||(_0x260d6f=void 0x0),_0x56c219-=0x1,_0x405a5d;},'clear'(){_0x578f51(),_0x4537ce=void 0x0,_0x260d6f=void 0x0,_0x56c219=0x0;}};}function _0x65a5d(_0x1acf24,_0x379aea=!0x1,_0x36be7d=()=>{},_0x297955=()=>!0x1,_0x183902=()=>{}){let _0x348c48=!0x1;const _0x147947=_0x2d5504(async function(){const _0x2547e1=a0_0x214c;if(!_0x348c48){for(_0x348c48=!0x0;_0x147947['head'];){const _0x34981f=_0x147947[_0x2547e1(0x918)]();if(_0x34981f)try{_0x1acf24 instanceof _0x56a346&&_0x1acf24[_0x2547e1(0x436)](_0x34981f),_0x1acf24 instanceof _0x598c09&&await _0x1acf24[_0x2547e1(0x436)](_0x34981f),_0x36be7d(_0x34981f);}catch(_0x78e18){_0x379aea?_0x147947[_0x2547e1(0x96d)](_0x34981f,!0x1):_0x147947[_0x2547e1(0x6cc)](_0x34981f,!0x1),await _0x1acf24['wait']();}}_0x348c48=!0x1;}},_0x297955,_0x183902);return _0x147947;}class _0xd3a9b5 extends _0x1abb07{['vendorId'];['authService'];[_0x5f24fc(0x8b2)]=_0x3ae62f['ConnectionState'][_0x5f24fc(0xa36)];[_0x5f24fc(0x489)]=_0x9e13e();['messageListeners']=_0x449c97();[_0x5f24fc(0x6b8)];[_0x5f24fc(0x968)];[_0x5f24fc(0x89e)]=_0x65a5d(new _0x598c09(this[_0x5f24fc(0xa17)][_0x5f24fc(0x1ff)](this),this[_0x5f24fc(0x70d)][_0x5f24fc(0x1ff)](this)));[_0x5f24fc(0x6e9)];constructor(_0x24473b,_0x10bc02,_0x236ec1,_0x1bf4cc,_0x204e87){super(_0x10bc02,_0x236ec1,_0x1bf4cc),this['vendorId']=_0x24473b,this['authService']=_0x204e87;}async[_0x5f24fc(0x509)](){const _0x573f00=_0x5f24fc;try{const _0x1d03ad={'getTokens':async()=>{const _0x248198=a0_0x214c,_0x34ace0=await this['authService'][_0x248198(0x278)]();return{'accessToken':(0x0,_0x42cfee['decodeJWT'])(_0x34ace0),'idToken':(0x0,_0x42cfee['decodeJWT'])(_0x34ace0)};}};_0x40f9ba[_0x573f00(0x614)][_0x573f00(0x5f5)]({'API':{'GraphQL':{'endpoint':_0x510c96[_0x573f00(0x864)]['endpoint'],'region':_0x510c96['aws'][_0x573f00(0xa32)],'defaultAuthMode':_0x573f00(0x72d)}}},{'Auth':{'tokenProvider':_0x1d03ad}});const _0x5ba85d=(0x0,_0x3ae62f[_0x573f00(0x875)])();this['client']=_0x5ba85d,await this[_0x573f00(0x6f8)](),this[_0x573f00(0x968)]=_0x43dfb1['Hub'][_0x573f00(0x425)]('api',async({payload:_0x4bc729})=>{const _0x5a685c=_0x573f00;if(_0x4bc729[_0x5a685c(0x2b1)]===_0x3ae62f[_0x5a685c(0x674)]){const _0x9fde19=_0x4bc729['data'];this[_0x5a685c(0x8b2)]=_0x9fde19[_0x5a685c(0x8b2)],this[_0x5a685c(0x489)][_0x5a685c(0x803)](_0x9fde19[_0x5a685c(0x8b2)]),this[_0x5a685c(0x8b2)]===_0x3ae62f[_0x5a685c(0x2af)][_0x5a685c(0xa36)]?(_0x40d481[_0x5a685c(0x4d2)](_0x5a685c(0xa27),{'clusterId':this[_0x5a685c(0x412)],'nodeId':this[_0x5a685c(0x8bb)](),'nodeType':this[_0x5a685c(0x8ad)][_0x5a685c(0x781)]}),this[_0x5a685c(0x7ef)](),this[_0x5a685c(0x509)]()):this[_0x5a685c(0x8b2)]===_0x3ae62f[_0x5a685c(0x2af)][_0x5a685c(0x70b)]?_0x40d481[_0x5a685c(0x3a1)](_0x5a685c(0xa09),{'clusterId':this[_0x5a685c(0x412)],'nodeId':this['getLocalId'](),'nodeType':this[_0x5a685c(0x8ad)][_0x5a685c(0x781)]}):_0x40d481[_0x5a685c(0x3a1)](_0x5a685c(0xb2e),{'clusterId':this[_0x5a685c(0x412)],'nodeId':this['getLocalId'](),'nodeType':this[_0x5a685c(0x8ad)][_0x5a685c(0x781)],'data':{'state':_0x9fde19['connectionState']}});}});}catch(_0x55f814){_0x40d481[_0x573f00(0x4d2)](_0x573f00(0x41b),{'clusterId':this[_0x573f00(0x412)],'nodeId':this[_0x573f00(0x8bb)](),'nodeType':this[_0x573f00(0x8ad)][_0x573f00(0x781)]});}}[_0x5f24fc(0x7ef)](){const _0x53100c=_0x5f24fc;_0x40d481[_0x53100c(0x3a1)](_0x53100c(0x4b9),{'clusterId':this['clusterId'],'nodeId':this[_0x53100c(0x8bb)](),'nodeType':this['localNode'][_0x53100c(0x781)]}),this['retryQueue'][_0x53100c(0x567)](),this[_0x53100c(0x968)]?.(),this[_0x53100c(0x6b8)]?.[_0x53100c(0xac2)](),delete this[_0x53100c(0x6b8)];}[_0x5f24fc(0x629)](){const _0x13fede=_0x5f24fc;return this[_0x13fede(0x8b2)]===_0x3ae62f[_0x13fede(0x2af)]['Connected'];}[_0x5f24fc(0x8be)](_0x198ee5){const _0x78655=_0x5f24fc;this[_0x78655(0x89e)]['push'](_0x198ee5);}['onMessage'](_0x290b1c){const _0x4f2830=_0x5f24fc;return this[_0x4f2830(0x25b)][_0x4f2830(0x6f8)](_0x290b1c);}[_0x5f24fc(0x98c)](){const _0x3c2072=_0x5f24fc;return[_0x20053a['ContentType'][_0x3c2072(0xa11)]];}async[_0x5f24fc(0x70d)](){if(!this['isConnected']())return new Promise(_0x5566f4=>{const _0x2e313a=a0_0x214c,_0x50835a=this['connectionStateListener'][_0x2e313a(0x6f8)](_0x1d61cb=>{const _0x5313d3=_0x2e313a;_0x1d61cb===_0x3ae62f[_0x5313d3(0x2af)][_0x5313d3(0x70b)]&&(_0x50835a(),_0x5566f4());});});}async['sendAction'](_0x192fc1){const _0x61b669=_0x5f24fc;if(this[_0x61b669(0x8b2)]!==_0x3ae62f['ConnectionState']['Connected'])throw new Error(_0x61b669(0x568));_0x192fc1[_0x61b669(0x463)]&&0x1===_0x192fc1[_0x61b669(0x463)][_0x61b669(0x9a6)]?await this[_0x61b669(0x803)](_0x192fc1[_0x61b669(0x463)][0x0],JSON['stringify'](_0x192fc1)):_0x40d481[_0x61b669(0x4d2)](_0x61b669(0x353),{'clusterId':this[_0x61b669(0x412)],'nodeId':this[_0x61b669(0x8bb)](),'nodeType':this[_0x61b669(0x8ad)][_0x61b669(0x781)]});}async[_0x5f24fc(0x803)](_0x4430d1,_0x48ca0f){const _0x43348c=_0x5f24fc;if(!this['client'])throw new Error('AppSync\x20client\x20not\x20ready');_0x40d481[_0x43348c(0x60e)](_0xb10df[_0x43348c(0x229)],'AppSync\x20publish',this['getLocalId'](),_0x48ca0f),await this[_0x43348c(0x6e9)][_0x43348c(0x8e3)]({'query':'\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','variables':{'name':await this['getHash'](_0x4430d1),'data':_0x48ca0f}});}async[_0x5f24fc(0x6f8)](){const _0x1ad262=_0x5f24fc;if(this[_0x1ad262(0x6b8)])return;if(!this[_0x1ad262(0x6e9)])throw new Error(_0x1ad262(0xa52));_0x40d481[_0x1ad262(0x60e)](_0xb10df[_0x1ad262(0x229)],_0x1ad262(0x644),this[_0x1ad262(0x8bb)]());const _0xb6cde6=await this['client']['graphql']({'query':_0x1ad262(0x404),'variables':{'name':await this[_0x1ad262(0x657)]()},'authToken':await this[_0x1ad262(0x6de)][_0x1ad262(0x278)]()},{'Authorization':await this[_0x1ad262(0x6de)][_0x1ad262(0x278)]()});this['subscription']=_0xb6cde6[_0x1ad262(0x6f8)]({'next':({data:_0x20ae09})=>{const _0x32d5e9=_0x1ad262,_0xa50607=JSON[_0x32d5e9(0x57d)](_0x20ae09[_0x32d5e9(0x6f8)][_0x32d5e9(0x3b9)]);!_0x5cedd3(_0xa50607,this['getLocalId']())&&_0x4ea9f8(_0xa50607,this['getLocalId']())&&this['messageListeners']['publish'](_0xa50607);},'error':console[_0x1ad262(0x60e)]});}async[_0x5f24fc(0x657)](_0x5ce15d){const _0x3712c7=_0x5f24fc,_0x1d03a6=await crypto[_0x3712c7(0x4ef)][_0x3712c7(0x901)](_0x3712c7(0xb31),new TextEncoder()[_0x3712c7(0x911)](this[_0x3712c7(0x240)]+'-'+this[_0x3712c7(0x412)]+'-'+(_0x5ce15d??this[_0x3712c7(0x8bb)]())));return Array[_0x3712c7(0x3ce)](new Uint8Array(_0x1d03a6))[_0x3712c7(0xa4a)](_0x3a672f=>_0x3a672f[_0x3712c7(0xa03)](0x10)[_0x3712c7(0x8ef)](0x2,'0'))[_0x3712c7(0x250)]('');}}!function(_0x3f682b){const _0x35e494=_0x5f24fc;_0x3f682b[_0x3f682b[_0x35e494(0x3a4)]=0x0]=_0x35e494(0x3a4),_0x3f682b[_0x3f682b[_0x35e494(0x59b)]=0x1]=_0x35e494(0x59b),_0x3f682b[_0x3f682b[_0x35e494(0x828)]=0x2]='Update',_0x3f682b[_0x3f682b[_0x35e494(0xab9)]=0x3]=_0x35e494(0xab9),_0x3f682b[_0x3f682b['RemoteRemove']=0x4]=_0x35e494(0xae3);}(_0x571dd0||(_0x571dd0={}));const _0xd19646='0',_0x208fa7=_0x5f24fc(0x4cd),_0x261a4e=_0x5d29a2,_0x444f93=0x60000;class _0x1fa814{['clusterId'];[_0x5f24fc(0x8ad)];[_0x5f24fc(0x931)];['iceServers'];['connectionType'];['connectionConstructor'];[_0x5f24fc(0x752)];[_0x5f24fc(0x22b)];['currentVersion']=0x1;[_0x5f24fc(0x541)];['handshakeCandidates']=[];['pendingHandshakeCandidates']=[];['handshakeDebounce'];constructor(_0x5222d9,_0x5cf2be,_0xdd4882,_0x221e50,_0x13e8ea,_0x206e98){const _0x2c3575=_0x5f24fc;this[_0x2c3575(0x412)]=_0x5222d9,this[_0x2c3575(0x8ad)]=_0x5cf2be,this[_0x2c3575(0x931)]=_0xdd4882,this[_0x2c3575(0x972)]=_0x221e50,this[_0x2c3575(0x691)]=_0x13e8ea,this[_0x2c3575(0x39c)]=_0x206e98,this[_0x2c3575(0x752)]=new this[(_0x2c3575(0x39c))]({'handshakeServers':this[_0x2c3575(0x972)]}),this[_0x2c3575(0x6da)]();}[_0x5f24fc(0x7ef)](){this['stopConnection']();}[_0x5f24fc(0x2f4)](_0x322624){const _0x199eb2=_0x5f24fc;this[_0x199eb2(0x691)]=_0x322624;}async[_0x5f24fc(0x3bf)](_0x3e7172,_0x5e5452){const _0x408788=_0x5f24fc;if(_0x5e5452===this[_0x408788(0x516)])for(const _0x19ecc1 of _0x3e7172){if(!this[_0x408788(0x752)]['canAddCandidates'])return this[_0x408788(0x2f6)](_0x19ecc1);try{await this[_0x408788(0x752)][_0x408788(0x306)](_0x19ecc1);}catch(_0x4547a5){this[_0x408788(0x2f6)](_0x19ecc1);}}}['isConnected'](){const _0x4024b7=_0x5f24fc;return this[_0x4024b7(0x200)](),_0x4024b7(0x6d6)===this[_0x4024b7(0x752)][_0x4024b7(0x8b2)]&&[_0x4024b7(0x6d6),_0x4024b7(0xa41)][_0x4024b7(0x465)](this[_0x4024b7(0x752)][_0x4024b7(0x56c)])&&_0x4024b7(0x9d5)!==this['connection'][_0x4024b7(0x21d)]&&_0x4024b7(0x791)===this[_0x4024b7(0x22b)]?.[_0x4024b7(0x23d)];}[_0x5f24fc(0xaf7)](_0x23796f){this['systemTopic']=_0x23796f;}[_0x5f24fc(0x29f)](){delete this['systemTopic'];}[_0x5f24fc(0x9ab)](_0xaf1fbd){const _0x251b02=_0x5f24fc;this[_0x251b02(0x448)](),this['connection']=new this[(_0x251b02(0x39c))]({'handshakeServers':this[_0x251b02(0x972)]}),_0xaf1fbd?this[_0x251b02(0x516)]=_0xaf1fbd:this[_0x251b02(0x516)]+=0x1,this['setupConnectionEvents']();}[_0x5f24fc(0x491)](){const _0x2a9f38=_0x5f24fc;this[_0x2a9f38(0x988)]['forEach'](_0x531c3c=>{const _0x5980b6=_0x2a9f38;try{this['connection'][_0x5980b6(0x306)](_0x531c3c);}catch(_0x3ca948){}}),this['pendingHandshakeCandidates']=[];}[_0x5f24fc(0x21f)](_0x33f9c8,_0x3c7f4f){const _0x145894=_0x5f24fc;if(!this['systemTopic'])throw new _0x4668fc(_0x4668fc[_0x145894(0x85e)]['MissingSystemTopic'],{'content':_0x33f9c8});const _0x1999ca={'sourceId':this[_0x145894(0x8ad)]['getId'](),'destinationIds':[this[_0x145894(0x931)]],'propagate':this['connectionType']!==_0x1d3b9e[_0x145894(0x749)],'retry':this[_0x145894(0x691)]!==_0x1d3b9e[_0x145894(0x749)],'messageType':_0x31112d[_0x145894(0x830)],'content':_0x33f9c8};_0x3c7f4f&&(_0x1999ca[_0x145894(0x348)]=_0x3c7f4f),this[_0x145894(0x541)][_0x145894(0x803)](_0x1999ca);}[_0x5f24fc(0x6da)](){const _0x537211=_0x5f24fc;this[_0x537211(0x752)][_0x537211(0x7be)]=()=>{const _0x5cb1bf=_0x537211;'complete'===this[_0x5cb1bf(0x752)][_0x5cb1bf(0x521)]&&this[_0x5cb1bf(0x34f)]['length']>0x0&&(this[_0x5cb1bf(0x4dc)]&&clearTimeout(this[_0x5cb1bf(0x4dc)]),this[_0x5cb1bf(0x4dc)]=setTimeout(()=>{const _0x530126=_0x5cb1bf;delete this['handshakeDebounce'],this[_0x530126(0x4ad)](),this[_0x530126(0x34f)]=[];},0x1f4));},this['connection'][_0x537211(0x26c)]=_0x34923b=>{const _0x7b9d66=_0x537211;_0x34923b[_0x7b9d66(0xa51)]&&this[_0x7b9d66(0x34f)][_0x7b9d66(0x96d)](_0x34923b[_0x7b9d66(0xa51)]);};}[_0x5f24fc(0x448)](){const _0x25a588=_0x5f24fc;clearTimeout(this[_0x25a588(0x4dc)]),delete this[_0x25a588(0x4dc)],this['handshakeCandidates']=[],this[_0x25a588(0x988)]=[],this['dataChannel']&&(this['dataChannel'][_0x25a588(0x227)]=null,this[_0x25a588(0x22b)][_0x25a588(0x225)]=null,this[_0x25a588(0x22b)][_0x25a588(0x7ef)](),delete this[_0x25a588(0x22b)]),this[_0x25a588(0x752)][_0x25a588(0x7be)]=null,this[_0x25a588(0x752)][_0x25a588(0x26c)]=null,this['connection'][_0x25a588(0x5cd)]=null,this[_0x25a588(0x752)][_0x25a588(0x2f3)]=null,this[_0x25a588(0x752)][_0x25a588(0x690)]=null,this[_0x25a588(0x752)][_0x25a588(0xacf)]=null,this[_0x25a588(0x752)][_0x25a588(0x7ef)]();}[_0x5f24fc(0x2f6)](_0x1dd243){const _0x407d11=_0x5f24fc;this[_0x407d11(0x988)][_0x407d11(0x96d)](_0x1dd243);}[_0x5f24fc(0x200)](){const _0x435499=_0x5f24fc;_0x40d481[_0x435499(0x60e)](_0xb10df[_0x435499(0x2af)],'Base\x20Peer\x20Connection',{'localId':this[_0x435499(0x8ad)][_0x435499(0x6e8)](),'remoteId':this[_0x435499(0x931)],'connectionState':this['connection'][_0x435499(0x8b2)],'handshakeState':this[_0x435499(0x752)][_0x435499(0x56c)],'signalingState':this[_0x435499(0x752)][_0x435499(0x21d)],'dataChannelState':this[_0x435499(0x22b)]?.[_0x435499(0x23d)]});}}function _0x5a5878(_0x40088e,_0x1d8663){const _0x5ee01f=_0x5f24fc;_0x1d8663[_0x5ee01f(0x803)]({'sourceId':_0x7cf9e6,'messageType':_0x31112d['PeerConnection'],'content':_0x40088e});}class _0x447ba3{static [_0x5f24fc(0x50d)];[_0x5f24fc(0x79c)]=[];[_0x5f24fc(0x9b4)];constructor(){setInterval(()=>{const _0x14cb31=a0_0x214c;this[_0x14cb31(0x79c)]['forEach'](_0x3c8c74=>{const _0x465b32=_0x14cb31;if(Date[_0x465b32(0x2c1)]()-_0x3c8c74[_0x465b32(0x40e)]>_0x3c8c74[_0x465b32(0x83b)]){try{_0x3c8c74[_0x465b32(0xa12)]();}catch(_0x3ab73a){}_0x3c8c74[_0x465b32(0x40e)]=Date['now']();}});},0x64);}static['getInstance'](){const _0x38f7b3=_0x5f24fc;return _0x447ba3[_0x38f7b3(0x50d)]||(_0x447ba3['instance']=new _0x447ba3()),_0x447ba3['instance'];}['startNoThrottlingHack'](_0x37efc9){const _0x5315b5=_0x5f24fc,_0x213a8f=this[_0x5315b5(0x7ae)](_0x37efc9),_0x3796ff=_0x37efc9[_0x5315b5(0x5ff)]();_0x3796ff&&_0x213a8f&&(_0x3796ff[_0x5315b5(0x2ea)]['value']=0.001,_0x213a8f[_0x5315b5(0x509)](_0x3796ff),_0x3796ff['connect'](_0x37efc9[_0x5315b5(0xaaf)]),_0x213a8f[_0x5315b5(0x8c2)]());}[_0x5f24fc(0x461)](){const _0x178a88=_0x5f24fc;this[_0x178a88(0x9b4)]&&(this[_0x178a88(0x9b4)]['stop'](),this[_0x178a88(0x9b4)][_0x178a88(0x4ec)](),this[_0x178a88(0x9b4)]=void 0x0);}[_0x5f24fc(0x7a2)](_0x51947f){return new Promise(_0x1a90a4=>{setTimeout(_0x1a90a4,_0x51947f);});}[_0x5f24fc(0x668)](_0xc3475a,_0x4b002f){const _0x150233=_0x5f24fc;return this[_0x150233(0x79c)]['push']({'callback':_0xc3475a,'interval':_0x4b002f,'lastExecuted':Date[_0x150233(0x2c1)]()}),()=>{const _0x34b8b1=_0x150233;this['parameters']=this[_0x34b8b1(0x79c)][_0x34b8b1(0x776)](_0x278e2a=>_0x278e2a[_0x34b8b1(0xa12)]!==_0xc3475a);};}[_0x5f24fc(0x7ae)](_0x494bb0){const _0x455d29=_0x5f24fc;if(_0x494bb0['createConstantSource'])return _0x494bb0[_0x455d29(0x7ae)]();const _0x2f665f=_0x494bb0[_0x455d29(0x8ff)](),_0xf6bc5f=_0x494bb0[_0x455d29(0x7c0)](0x1,0x1,_0x494bb0['sampleRate']);return _0xf6bc5f[_0x455d29(0x62a)](0x0)[0x0]=0xa,_0x2f665f['buffer']=_0xf6bc5f,_0x2f665f[_0x455d29(0x68f)]=!0x0,_0x2f665f;}}const _0x4ecfc3=_0x447ba3[_0x5f24fc(0x445)]();class _0x5e193c extends _0x1fa814{[_0x5f24fc(0xb1c)]=_0x9e13e();[_0x5f24fc(0x55d)]=_0x9e13e();['removeTrackCallback']=_0x9e13e();[_0x5f24fc(0x30b)]=new Map();[_0x5f24fc(0xa58)]=new Map();[_0x5f24fc(0x3ef)];['messagesReceived']=0x0;[_0x5f24fc(0x99f)]={'messages':{'total':0x0}};[_0x5f24fc(0x940)]=0x0;['timeReceiving']=0x0;[_0x5f24fc(0x4f3)]=_0x238822(_0x5f24fc(0x7ac),_0xb10df[_0x5f24fc(0x63e)]);['close'](){const _0x3d4812=_0x5f24fc;this[_0x3d4812(0x26b)](),this[_0x3d4812(0x30b)][_0x3d4812(0x567)](),super[_0x3d4812(0x7ef)]();}async[_0x5f24fc(0x298)](_0x53cb00,_0x2a3f11){const _0xf06114=_0x5f24fc;this[_0xf06114(0x516)]=_0x2a3f11,this[_0xf06114(0x26b)]();const _0x2c7b3e=await this['connection']['createAnswer'](_0x53cb00);this[_0xf06114(0x491)]();const _0x1192de=(0x0,_0x58fdf1['v4'])();this['publishSystemMessage']({'type':_0x1c3bcf['Answer'],'answer':_0x2c7b3e,'version':_0x2a3f11,'connectionType':this[_0xf06114(0x691)]},_0x1192de),this['connectionType']===_0x1d3b9e[_0xf06114(0x749)]&&(this['waitSuccess']=_0x4ecfc3[_0xf06114(0x668)](()=>{const _0x41b861=_0xf06114;this[_0x41b861(0x21f)]({'type':_0x1c3bcf[_0x41b861(0x4bd)],'answer':_0x2c7b3e,'version':_0x2a3f11,'connectionType':this[_0x41b861(0x691)]},_0x1192de);},0x1388));}[_0x5f24fc(0xa14)](){const _0x400bb8=_0x5f24fc;this[_0x400bb8(0x26b)]();}['handleNeedRestart'](_0x144ed4){const _0x31cfcb=_0x5f24fc;this['resetConnection'](_0x144ed4),this[_0x31cfcb(0x21f)]({'type':_0x1c3bcf['Restart']});}async[_0x5f24fc(0xae0)](){const _0x1df6dd=_0x5f24fc;this[_0x1df6dd(0x541)]&&(await this[_0x1df6dd(0x752)][_0x1df6dd(0x28f)](this[_0x1df6dd(0x30b)],(_0x30ba95,_0x2afea9)=>{const _0x1751e1=_0x1df6dd;_0x5a5878({'type':_0x1c3bcf[_0x1751e1(0x7d3)],'streamId':_0x2afea9,'nodeId':this[_0x1751e1(0x931)],'stats':_0x30ba95},this['systemTopic']);}),this[_0x1df6dd(0x541)][_0x1df6dd(0x803)]({'sourceId':_0x7cf9e6,'messageType':_0x31112d[_0x1df6dd(0x830)],'content':{'type':_0x1c3bcf['Stats'],'nodeId':this[_0x1df6dd(0x931)],'stats':{'origin':_0x7885c9['Receiver'],'timestamp':Date[_0x1df6dd(0x2c1)](),'messagesReceived':this[_0x1df6dd(0x546)],'bytesReceived':this['bytesReceived'],'timeReceiving':this[_0x1df6dd(0x539)],'systemMessages':this[_0x1df6dd(0x99f)]}}}));}[_0x5f24fc(0x227)](_0x2b9e59){const _0x29a7c4=_0x5f24fc;return _0x510c96[_0x29a7c4(0x3f1)]?this[_0x29a7c4(0xb1c)][_0x29a7c4(0x6f8)](_0x2b9e59):this[_0x29a7c4(0xb1c)][_0x29a7c4(0x6f8)](_0xaa8923=>{const _0x4ea46b=_0x29a7c4;0x0===_0xaa8923['topicLabel']&&_0xaa8923[_0x4ea46b(0x87f)]===_0x31112d[_0x4ea46b(0x209)]&&this[_0x4ea46b(0x4f3)][_0x4ea46b(0x7ad)][_0x4ea46b(0x60e)](_0x4ea46b(0x9de)+this['remoteId'],()=>_0x82e370(_0xaa8923)),_0x2b9e59(_0xaa8923);});}[_0x5f24fc(0x690)](_0x1484c4){const _0x359f8d=_0x5f24fc;return this[_0x359f8d(0x55d)][_0x359f8d(0x6f8)](({track:_0x34026c,stream:_0x421e8f})=>_0x1484c4(_0x34026c,_0x421e8f));}['onRemoveTrack'](_0x128b48){return this['removeTrackCallback']['subscribe'](({track:_0x507d4c,stream:_0x3d99a8})=>_0x128b48(_0x507d4c,_0x3d99a8));}[_0x5f24fc(0x9ab)](_0x24b827){const _0x1fea8e=_0x5f24fc;this[_0x1fea8e(0x26b)](),this[_0x1fea8e(0x30b)][_0x1fea8e(0xac8)](_0x52bc3b=>{const _0x11184c=_0x1fea8e;_0x52bc3b[_0x11184c(0x567)]();}),super['resetConnection'](_0x24b827);}['sendIceCandidates'](){const _0x30fe4d=_0x5f24fc;this[_0x30fe4d(0x21f)]({'type':_0x1c3bcf['Handshake'],'candidates':this[_0x30fe4d(0x34f)],'origin':_0x7885c9[_0x30fe4d(0xab5)],'version':this[_0x30fe4d(0x516)],'connectionType':this[_0x30fe4d(0x691)]});}[_0x5f24fc(0x6da)](){const _0x190487=_0x5f24fc;super[_0x190487(0x6da)](),this[_0x190487(0x752)][_0x190487(0x690)]=_0x549a90=>{const _0x140b9e=_0x190487;_0x40d481['log'](_0xb10df[_0x140b9e(0x2dd)],_0x140b9e(0x60b),this[_0x140b9e(0x8ad)][_0x140b9e(0x6e8)](),_0x549a90),_0x549a90[_0x140b9e(0xae8)][0x0]['onremovetrack']=_0x501732=>{const _0x54b571=_0x140b9e;this[_0x54b571(0x30b)][_0x54b571(0xb07)](_0x549a90[_0x54b571(0xae8)][0x0]['id'])?.[_0x54b571(0x43a)](_0x501732[_0x54b571(0x397)]),0x0===this[_0x54b571(0x30b)]['get'](_0x549a90[_0x54b571(0xae8)][0x0]['id'])?.[_0x54b571(0x58d)]&&this[_0x54b571(0x30b)][_0x54b571(0x43a)](_0x549a90[_0x54b571(0xae8)][0x0]['id']),this[_0x54b571(0x99a)]['publish']({'track':_0x501732[_0x54b571(0x397)],'stream':_0x549a90[_0x54b571(0xae8)][0x0]});},this[_0x140b9e(0x30b)][_0x140b9e(0x4cb)](_0x549a90[_0x140b9e(0xae8)][0x0]['id'])||this['receivers'][_0x140b9e(0x338)](_0x549a90['streams'][0x0]['id'],new Set()),this[_0x140b9e(0x30b)][_0x140b9e(0xb07)](_0x549a90[_0x140b9e(0xae8)][0x0]['id'])[_0x140b9e(0x859)](_0x549a90['track']),this[_0x140b9e(0x55d)][_0x140b9e(0x803)]({'track':_0x549a90[_0x140b9e(0x397)],'stream':_0x549a90[_0x140b9e(0xae8)][0x0]});},this[_0x190487(0x752)]['onDataChannel']=_0x4b09da=>{const _0x1967de=_0x190487;this[_0x1967de(0x22b)]=_0x4b09da[_0x1967de(0x850)],this[_0x1967de(0x22b)][_0x1967de(0x227)]=_0x58a13b=>{const _0x4533e5=_0x1967de;if(_0x58a13b[_0x4533e5(0x3b9)]!==_0xd19646)this[_0x4533e5(0xa6b)](_0x58a13b[_0x4533e5(0x3b9)]);else{if(!this[_0x4533e5(0x22b)])return void _0x40d481[_0x4533e5(0x4d2)]('missing-datachannel',{'clusterId':this[_0x4533e5(0x412)],'nodeId':this['localNode']['getId'](),'nodeType':this['localNode'][_0x4533e5(0x781)],'remoteId':this[_0x4533e5(0x931)],'data':{'connection':'receiver'}});if(_0x4533e5(0x791)!==this[_0x4533e5(0x22b)][_0x4533e5(0x23d)])return;this[_0x4533e5(0x22b)]['send']('1');}};};}[_0x5f24fc(0xa6b)](_0x3c1e27){const _0x2d5a4f=_0x5f24fc;if(_0x2d5a4f(0x57a)==typeof _0x3c1e27&&_0x3c1e27[_0x2d5a4f(0x9c4)](_0x208fa7))return this[_0x2d5a4f(0x546)]+=0x1,this[_0x2d5a4f(0x940)]+=_0x3c1e27[_0x2d5a4f(0x9a6)],this[_0x2d5a4f(0x2d9)](_0x3c1e27);setTimeout(()=>{const _0x4042b2=_0x2d5a4f,_0x199e7d=Date['now']();let _0x4760c3;if((_0x3c1e27 instanceof ArrayBuffer||_0x3c1e27[_0x4042b2(0x9a6)]<=_0x261a4e)&&(this[_0x4042b2(0x546)]+=0x1,this[_0x4042b2(0x940)]+=_0x3c1e27 instanceof ArrayBuffer?_0x3c1e27['byteLength']:_0x3c1e27['length']),_0x3c1e27 instanceof ArrayBuffer){const [_0x14070c,_0xc71cd7]=this['splitParts'](_0x3c1e27);_0x4760c3=_0x14070c,_0x4760c3[_0x4042b2(0x6b2)]['data']=_0xc71cd7;}else _0x4760c3=JSON[_0x4042b2(0x57d)](_0x3c1e27);if(0x0===_0x4760c3[_0x4042b2(0x3fd)]){this[_0x4042b2(0x99f)][_0x4042b2(0x9f7)][_0x4042b2(0x2a6)]+=0x1;const {systemMessageType:_0x2a54fb,systemContentMessageType:_0x46afdc}=_0x82e370(_0x4760c3);this[_0x4042b2(0x99f)][_0x2a54fb]||(this[_0x4042b2(0x99f)][_0x2a54fb]={[_0x46afdc]:0x0}),this['systemMessagesReceived'][_0x2a54fb][_0x46afdc]||(this['systemMessagesReceived'][_0x2a54fb][_0x46afdc]=0x0),this[_0x4042b2(0x99f)][_0x2a54fb]['total']||(this[_0x4042b2(0x99f)][_0x2a54fb][_0x4042b2(0x2a6)]=0x0),this[_0x4042b2(0x99f)][_0x2a54fb][_0x46afdc]+=0x1,this[_0x4042b2(0x99f)][_0x2a54fb][_0x4042b2(0x2a6)]+=0x1;}this['messageCallback'][_0x4042b2(0x803)](_0x4760c3),this[_0x4042b2(0x539)]+=Date[_0x4042b2(0x2c1)]()-_0x199e7d;},0x0);}[_0x5f24fc(0x2d9)](_0x2f26b9){const _0x30ae20=_0x5f24fc,_0x3f98e1=_0x2f26b9['split'](';'),_0xcdef70=_0x3f98e1[0x1],_0x567452=parseInt(_0x3f98e1[0x2],0xa),_0x5ee6a2=parseInt(_0x3f98e1[0x3],0xa),_0x4dd642=_0x2f26b9[_0x30ae20(0x49d)](_0x208fa7+';'+_0xcdef70+';'+_0x567452+';'+_0x5ee6a2+';','');this[_0x30ae20(0xa58)]['has'](_0xcdef70)||this['chunks']['set'](_0xcdef70,[]);const _0x50cba8=this['chunks'][_0x30ae20(0xb07)](_0xcdef70);_0x50cba8[_0x567452]=_0x4dd642,_0x50cba8[_0x30ae20(0x9a6)]===_0x5ee6a2&&(this[_0x30ae20(0xa6b)](_0x50cba8['join']('')),this[_0x30ae20(0xa58)][_0x30ae20(0x43a)](_0xcdef70));}[_0x5f24fc(0x26b)](){const _0x218baa=_0x5f24fc;this[_0x218baa(0x3ef)]?.(),delete this[_0x218baa(0x3ef)];}[_0x5f24fc(0x27f)](_0x2a260c){const _0x4a13b1=new TextDecoder()['decode'](_0x2a260c);return JSON['parse'](_0x4a13b1);}[_0x5f24fc(0x3e5)](_0x38cf77){const _0x4d429b=_0x5f24fc,_0x1637ce=new Uint8Array(_0x38cf77['slice'](0x0,0x4)),_0x50480f=new Uint32Array(_0x1637ce[_0x4d429b(0x2a8)])[0x0],_0x3bf389=new Uint8Array(_0x38cf77['slice'](0x4,0x4+_0x50480f)),_0x3307ad=new Uint8Array(_0x38cf77[_0x4d429b(0xb17)](0x4+_0x50480f));return[this[_0x4d429b(0x27f)](_0x3bf389[_0x4d429b(0x2a8)]),_0x3307ad[_0x4d429b(0x2a8)]];}}const _0x1d92f1=0xc350;var _0x505448,_0x34d6dd;!function(_0x3f03d0){const _0x458ec0=_0x5f24fc;_0x3f03d0[_0x3f03d0[_0x458ec0(0x7df)]=0x0]=_0x458ec0(0x7df),_0x3f03d0[_0x3f03d0[_0x458ec0(0xaf5)]=0x1]=_0x458ec0(0xaf5),_0x3f03d0[_0x3f03d0[_0x458ec0(0x6a5)]=0x2]=_0x458ec0(0x6a5);}(_0x505448||(_0x505448={}));class _0x13d206 extends _0x1fa814{[_0x5f24fc(0xaf1)];['maxBpp'];[_0x5f24fc(0x651)]=new Map();[_0x5f24fc(0x438)];[_0x5f24fc(0x787)];[_0x5f24fc(0x9ef)];[_0x5f24fc(0x86c)]=!0x1;[_0x5f24fc(0x874)];[_0x5f24fc(0x3e9)];[_0x5f24fc(0x22f)];[_0x5f24fc(0x89e)]=function(e,t=_0x505448,s=!0x1){const _0x3453af=_0x5f24fc;let n=!0x1;const i=[];async function o(){const _0x6a5515=a0_0x214c;if(!n){for(n=!0x0;i[_0x6a5515(0x9fb)](e=>e[_0x6a5515(0x94d)]);){let t,n=0x0;for(const [e,s]of i[_0x6a5515(0x8f3)]())if(t=s['shift'](),n=e,t)break;if(t)try{if(e instanceof _0x56a346&&e[_0x6a5515(0x436)](t),e instanceof _0x598c09&&await e[_0x6a5515(0x436)](t),i[_0x6a5515(0xb17)](-0x1)[_0x6a5515(0x9fb)](e=>e['head']))continue;const s=i['length']-0x1;n===s&&i[s][_0x6a5515(0x94d)]&&await _0x4ecfc3['wait'](0x0);}catch(o){s?i[n][_0x6a5515(0x96d)](t,!0x1):i[n]['unshift'](t,!0x1),await e[_0x6a5515(0x7a2)]();}}n=!0x1;}}return Object[_0x3453af(0x9af)](t)['forEach'](e=>{const _0x21d2fb=_0x3453af;_0x21d2fb(0x57a)!=typeof e&&(i[e]=_0x2d5504(o));}),{'queues':i};}(new _0x56a346(this['sendAction'][_0x5f24fc(0x1ff)](this),this[_0x5f24fc(0xabe)][_0x5f24fc(0x1ff)](this)));['messagesSent']=0x0;[_0x5f24fc(0x688)]=0x0;[_0x5f24fc(0x25e)]=0x0;[_0x5f24fc(0x8cc)]=0x0;[_0x5f24fc(0x938)];[_0x5f24fc(0x4f3)]=_0x238822(_0x5f24fc(0x801),_0xb10df['SenderSendMessage']);constructor(_0x4263ba,_0x5789f4,_0x5dc80e,_0x5aec34,_0x575dcb,_0x427d2d,_0x1c0300,_0x360034){const _0x3d11a0=_0x5f24fc;super(_0x4263ba,_0x5789f4,_0x5dc80e,_0x5aec34,_0x575dcb,_0x360034),this[_0x3d11a0(0xaf1)]=_0x427d2d,this[_0x3d11a0(0xa24)]=_0x1c0300;}['close'](){const _0x242d3e=_0x5f24fc;this[_0x242d3e(0x30d)](),this[_0x242d3e(0x334)](),delete this[_0x242d3e(0x9ef)],this['clearRestartTimeout'](),this['clearConnectionTimeout'](),this[_0x242d3e(0x389)](),this['senders'][_0x242d3e(0x567)](),this[_0x242d3e(0x86c)]=!0x1,this[_0x242d3e(0x89e)]['queues'][_0x242d3e(0xac8)](_0x33b2e7=>_0x33b2e7['clear']()),this[_0x242d3e(0x211)](),super[_0x242d3e(0x7ef)]();}[_0x5f24fc(0x629)](){const _0x1f748a=_0x5f24fc;return!!this['lastHeartbeat']&&super[_0x1f748a(0x629)]()&&Date[_0x1f748a(0x2c1)]()-this[_0x1f748a(0x9ef)]<0x3a98;}async[_0x5f24fc(0xae0)](){const _0x79c68c=_0x5f24fc;this[_0x79c68c(0x541)]&&(await this[_0x79c68c(0x752)][_0x79c68c(0xad9)](this['senders'],(_0xe68762,_0xbb8c6a)=>{const _0x3c391e=_0x79c68c;_0x5a5878({'type':_0x1c3bcf[_0x3c391e(0x7d3)],'streamId':_0xbb8c6a,'nodeId':this[_0x3c391e(0x931)],'stats':_0xe68762},this[_0x3c391e(0x541)]);}),this[_0x79c68c(0x541)][_0x79c68c(0x803)]({'sourceId':_0x7cf9e6,'messageType':_0x31112d['PeerConnection'],'content':{'type':_0x1c3bcf[_0x79c68c(0x7d3)],'nodeId':this[_0x79c68c(0x931)],'stats':{'origin':_0x7885c9[_0x79c68c(0x4c8)],'timestamp':Date[_0x79c68c(0x2c1)](),'messagesSent':this['messagesSent'],'bytesSent':this[_0x79c68c(0x688)],'timeSending':this[_0x79c68c(0x25e)],'roundTripTime':this['roundTripTime']}}}));}async[_0x5f24fc(0x3eb)](_0x5e48ec){const _0x573c1c=_0x5f24fc;_0x40d481[_0x573c1c(0x60e)](_0xb10df[_0x573c1c(0x2dd)],'CrewdleSenderConnection\x20createOffer',this[_0x573c1c(0x8ad)][_0x573c1c(0x6e8)](),this['remoteId']),this[_0x573c1c(0x31b)](),this[_0x573c1c(0x53d)](),this[_0x573c1c(0x389)](),this[_0x573c1c(0x874)]=setTimeout(()=>{const _0x3c77c5=_0x573c1c;this[_0x3c77c5(0xa2b)]();},0x7530),this['dataChannel']||(this[_0x573c1c(0x22b)]=this[_0x573c1c(0x752)][_0x573c1c(0xb0e)](_0x573c1c(0x3b9)),this[_0x573c1c(0x22b)][_0x573c1c(0xa63)]=_0x444f93,this['dataChannel']['onClose']=()=>{this['oncloseTimeout']=setTimeout(()=>{const _0x3dd025=a0_0x214c;delete this[_0x3dd025(0x938)],['connecting',_0x3dd025(0x791)]['includes'](this[_0x3dd025(0x22b)]?.[_0x3dd025(0x23d)]??'')||this[_0x3dd025(0xa2b)]();},0xfa);});const _0x15932c=await this['connection'][_0x573c1c(0x3eb)](_0x5e48ec);this[_0x573c1c(0x9ef)]||(this['lastHeartbeat']=Date['now']());const _0x56f267=(0x0,_0x58fdf1['v4'])();this['publishSystemMessage']({'type':_0x1c3bcf[_0x573c1c(0x4be)],'offer':_0x15932c,'version':this[_0x573c1c(0x516)],'connectionType':this[_0x573c1c(0x691)]},_0x56f267),this[_0x573c1c(0x691)]===_0x1d3b9e[_0x573c1c(0x749)]&&(this[_0x573c1c(0x787)]=_0x4ecfc3[_0x573c1c(0x668)](()=>{const _0x29e5c7=_0x573c1c;this[_0x29e5c7(0x21f)]({'type':_0x1c3bcf[_0x29e5c7(0x4be)],'offer':_0x15932c,'version':this['currentVersion'],'connectionType':this[_0x29e5c7(0x691)]},_0x56f267);},0x1388));}async[_0x5f24fc(0x57c)](_0x152968,_0x5ae7ef){const _0x41dcce=_0x5f24fc;if(_0x5ae7ef===this[_0x41dcce(0x516)]){this[_0x41dcce(0x389)]();try{await this[_0x41dcce(0x752)][_0x41dcce(0x57c)](_0x152968,this[_0x41dcce(0x3eb)][_0x41dcce(0x1ff)](this)),this[_0x41dcce(0x491)](),this['clearConnectionTimeout'](),this[_0x41dcce(0x346)]();}catch(_0x4ea263){this['handleDisconnect']();}}}[_0x5f24fc(0x8be)](_0x451859){const _0x21917e=_0x5f24fc;if(!this[_0x21917e(0x22b)])throw new _0x4668fc(_0x4668fc[_0x21917e(0x85e)][_0x21917e(0x409)],{'message':_0x21917e(0x34d),'localId':this[_0x21917e(0x8ad)][_0x21917e(0x6e8)](),'remoteId':this['remoteId'],'eventMessage':_0x451859});if(_0x21917e(0x791)!==this[_0x21917e(0x22b)][_0x21917e(0x23d)])throw new _0x4668fc(_0x4668fc[_0x21917e(0x85e)][_0x21917e(0x409)],{'message':_0x21917e(0x929),'localId':this[_0x21917e(0x8ad)][_0x21917e(0x6e8)](),'remoteId':this['remoteId'],'eventMessage':_0x451859});let _0x4f2dd2;if(_0x451859['content']['data']instanceof ArrayBuffer){const _0x10a30b=_0x451859[_0x21917e(0x6b2)][_0x21917e(0x3b9)];_0x451859={..._0x451859,'content':{..._0x451859[_0x21917e(0x6b2)],'data':void 0x0}},_0x4f2dd2=this['mergeParts'](_0x451859,_0x10a30b);}else _0x4f2dd2=JSON[_0x21917e(0x36f)](_0x451859);if(_0x21917e(0x57a)==typeof _0x4f2dd2&&_0x4f2dd2[_0x21917e(0x9a6)]>_0x261a4e)return void this[_0x21917e(0x97a)](_0x451859,_0x4f2dd2);0x0===_0x451859[_0x21917e(0x3fd)]&&_0x451859['messageType']===_0x31112d[_0x21917e(0x209)]&&this['loggingCycle'][_0x21917e(0x7ad)]['performCalculation'](()=>_0x40d481[_0x21917e(0x60e)](_0xb10df[_0x21917e(0x344)],_0x21917e(0xb1a),this[_0x21917e(0x931)],_0x82e370(_0x451859)),void 0x0);const _0x73d05b=0x0===_0x451859[_0x21917e(0x3fd)]&&[_0x31112d[_0x21917e(0x63c)],_0x31112d[_0x21917e(0x830)]][_0x21917e(0x465)](_0x451859[_0x21917e(0x87f)])?_0x505448['High']:_0x451859 instanceof ArrayBuffer?_0x505448[_0x21917e(0x6a5)]:_0x505448[_0x21917e(0xaf5)];this['sendWithRetry'](_0x4f2dd2,_0x73d05b);}[_0x5f24fc(0x55e)](_0x4f9f93,_0x4aafae,_0x4c2d66,_0x2ef84b){const _0x34c132=_0x5f24fc,_0x4f562d=(_0x4e6f90=this[_0x34c132(0xaf1)],_0x10098d=this[_0x34c132(0xa24)],Math[_0x34c132(0x748)](0xe1000*_0x4e6f90*_0x10098d));var _0x4e6f90,_0x10098d;const _0x51a924=this[_0x34c132(0x651)][_0x34c132(0xb07)](_0x4aafae['id'])||{'stream':_0x4aafae,'priority':_0x4c2d66,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x4f562d,'maxBitrate':_0x4f562d,'framerate':this[_0x34c132(0xaf1)],'maxFramerate':this[_0x34c132(0xaf1)],'tracks':{},'params':_0x2ef84b},_0x410226=_0x51a924[_0x34c132(0xb08)][_0x4f9f93[_0x34c132(0x59d)]]||{'track':_0x4f9f93};if(_0x410226[_0x34c132(0x299)]?(_0x410226[_0x34c132(0x397)]=_0x4f9f93,this[_0x34c132(0x752)][_0x34c132(0xb23)](_0x4f9f93,_0x410226[_0x34c132(0x299)])):_0x410226[_0x34c132(0x299)]=this[_0x34c132(0x752)][_0x34c132(0x55e)](_0x4f9f93,_0x4aafae),_0x51a924[_0x34c132(0xb08)][_0x4f9f93[_0x34c132(0x59d)]]=_0x410226,_0x2ef84b&&(_0x51a924[_0x34c132(0x826)]=_0x2ef84b),_0x2ef84b&&_0x34c132(0x829)===_0x2ef84b[_0x34c132(0x59d)]&&_0x2ef84b['resolution']&&_0x2ef84b[_0x34c132(0x235)]&&(_0x51a924[_0x34c132(0x8af)]=this[_0x34c132(0x848)](_0x2ef84b['resolution'],_0x2ef84b[_0x34c132(0x235)]),_0x51a924[_0x34c132(0x88f)]=_0x51a924[_0x34c132(0x8af)],_0x51a924[_0x34c132(0xb08)][_0x34c132(0x829)]&&_0x51a924['tracks'][_0x34c132(0x829)][_0x34c132(0x299)])){const _0x418467=_0x51a924[_0x34c132(0xb08)][_0x34c132(0x829)][_0x34c132(0x299)];this['connection'][_0x34c132(0x831)](_0x418467,Math[_0x34c132(0x748)](0xa*_0x51a924[_0x34c132(0x8af)])/0xa,_0x51a924[_0x34c132(0xa88)],_0x51a924['bitrate'],_0x51a924[_0x34c132(0x80e)]);}this[_0x34c132(0x651)]['set'](_0x4aafae['id'],_0x51a924);}['setPriority'](_0x2643ee,_0x438ad4){const _0x1f9ac1=_0x5f24fc,_0x1b7ea1=this[_0x1f9ac1(0x651)]['get'](_0x2643ee['id']);if(_0x1b7ea1&&_0x1b7ea1['priority']!==_0x438ad4&&(_0x1b7ea1['priority']=_0x438ad4,_0x1b7ea1[_0x1f9ac1(0xb08)][_0x1f9ac1(0x829)]&&_0x1b7ea1[_0x1f9ac1(0xb08)][_0x1f9ac1(0x829)]['sender'])){const _0x22d9a4=_0x1b7ea1[_0x1f9ac1(0xb08)][_0x1f9ac1(0x829)][_0x1f9ac1(0x299)];this['connection'][_0x1f9ac1(0x831)](_0x22d9a4,Math[_0x1f9ac1(0x748)](0xa*_0x1b7ea1['resolutionScale'])/0xa,_0x1b7ea1[_0x1f9ac1(0xa88)],_0x1b7ea1[_0x1f9ac1(0x703)],_0x1b7ea1['priority']);}}[_0x5f24fc(0x75e)](_0x57a814,_0x3ca44e){const _0x22a820=_0x5f24fc,_0x73b211=this[_0x22a820(0x651)]['get'](_0x57a814['id']);if(_0x73b211){if(_0x73b211[_0x22a820(0x826)]=_0x3ca44e,_0x3ca44e&&_0x22a820(0x829)===_0x3ca44e[_0x22a820(0x59d)]&&_0x3ca44e[_0x22a820(0x54f)]&&_0x3ca44e[_0x22a820(0x235)]){if(_0x73b211[_0x22a820(0x88f)]=this['getResolutionScale'](_0x3ca44e[_0x22a820(0x54f)],_0x3ca44e[_0x22a820(0x235)]),_0x73b211[_0x22a820(0x8af)]<_0x73b211[_0x22a820(0x88f)]&&(_0x73b211['resolutionScale']=_0x73b211[_0x22a820(0x88f)]),_0x73b211[_0x22a820(0xb08)]['video']&&_0x73b211[_0x22a820(0xb08)][_0x22a820(0x829)]['sender']){const _0xfbc5bc=_0x73b211[_0x22a820(0xb08)][_0x22a820(0x829)][_0x22a820(0x299)];this[_0x22a820(0x752)][_0x22a820(0x831)](_0xfbc5bc,Math[_0x22a820(0x748)](0xa*_0x73b211[_0x22a820(0x8af)])/0xa,_0x73b211[_0x22a820(0xa88)],_0x73b211[_0x22a820(0x703)],_0x73b211[_0x22a820(0x80e)]);}this[_0x22a820(0x30d)](),this[_0x22a820(0x7a4)]();}this[_0x22a820(0x651)][_0x22a820(0x338)](_0x57a814['id'],_0x73b211);}}[_0x5f24fc(0xa94)](_0x3f258d,_0x3fd9be){const _0x20b699=_0x5f24fc,_0x4ae983=this[_0x20b699(0x651)][_0x20b699(0xb07)](_0x3fd9be['id']);if(_0x4ae983){const _0x4589ec=_0x4ae983[_0x20b699(0xb08)][_0x3f258d[_0x20b699(0x59d)]];_0x4589ec&&(_0x4589ec[_0x20b699(0x299)]&&this[_0x20b699(0x752)][_0x20b699(0xa94)](_0x4589ec['sender']),_0x4589ec[_0x20b699(0x397)]=void 0x0);}}['applyRemediation'](_0xf37f8e){const _0x23d9ee=_0x5f24fc;this[_0x23d9ee(0x30d)]();const _0x53901d=function(_0x2a3b5e,_0x17930f){const _0x356deb=_0x23d9ee;return _0x2a3b5e['sort']((_0x360435,_0x1c0779)=>_0x17930f[_0x356deb(0x32a)]===_0xacf31a[_0x356deb(0x889)]?_0x1c0779[_0x356deb(0x80e)]-_0x360435['priority']:_0x360435[_0x356deb(0x80e)]-_0x1c0779[_0x356deb(0x80e)])[_0x356deb(0x260)](_0x27f226=>function(_0x106c8f,_0x36b1d9){const _0x23eea3=_0x356deb;if(_0x36b1d9[_0x23eea3(0x32a)]===_0xacf31a[_0x23eea3(0x889)]){if(_0x36b1d9[_0x23eea3(0x8ae)]===_0x4f4d3f[_0x23eea3(0x6f3)])return _0x106c8f[_0x23eea3(0x8af)]<0x4||_0x106c8f[_0x23eea3(0x565)]>0xf;if(_0x36b1d9[_0x23eea3(0x8ae)]===_0x4f4d3f['Bitrate'])return _0x106c8f[_0x23eea3(0x7af)]>_0x1d92f1;}return _0x106c8f[_0x23eea3(0x8af)]>_0x106c8f['minResolutionScale']||_0x106c8f[_0x23eea3(0xa88)]<_0x106c8f['maxFramerate']||_0x106c8f[_0x23eea3(0x703)]<_0x106c8f[_0x23eea3(0x7af)];}(_0x27f226,_0x17930f));}(Array[_0x23d9ee(0x3ce)](this[_0x23d9ee(0x651)][_0x23d9ee(0x9af)]()),_0xf37f8e);if(_0x53901d&&(function(_0x2eec4a,_0x273a19){const _0x59208c=_0x23d9ee;_0x2eec4a['tracks'][_0x59208c(0x829)]&&_0x2eec4a[_0x59208c(0xb08)][_0x59208c(0x829)][_0x59208c(0x299)]&&(_0x2eec4a[_0x59208c(0x8af)]=function(_0x3b637b,_0x472f6a,_0x1bbca9){const _0x4305da=_0x59208c;switch(_0x1bbca9[_0x4305da(0x32a)]){case _0xacf31a[_0x4305da(0x889)]:_0x1bbca9[_0x4305da(0x8ae)]===_0x4f4d3f[_0x4305da(0x6f3)]&&(_0x3b637b+=0.5)>0x4&&(_0x3b637b=0x4);break;case _0xacf31a[_0x4305da(0x392)]:(_0x3b637b-=0.5)<_0x472f6a&&(_0x3b637b=_0x472f6a);}return _0x3b637b;}(_0x2eec4a[_0x59208c(0x8af)],_0x2eec4a['minResolutionScale'],_0x273a19),_0x2eec4a[_0x59208c(0xa88)]=function(_0x5312c6,_0x1934fd,_0x237ff3){const _0x4ec7cf=_0x59208c;switch(_0x237ff3[_0x4ec7cf(0x32a)]){case _0xacf31a[_0x4ec7cf(0x889)]:_0x237ff3[_0x4ec7cf(0x8ae)]===_0x4f4d3f[_0x4ec7cf(0x6f3)]&&(_0x5312c6-=0x3)<0xf&&(_0x5312c6=0xf);break;case _0xacf31a['Upgrade']:(_0x5312c6+=0x3)>_0x1934fd&&(_0x5312c6=_0x1934fd);}return _0x5312c6;}(_0x2eec4a[_0x59208c(0xa88)],_0x2eec4a[_0x59208c(0x565)],_0x273a19),_0x2eec4a['bitrate']=function(_0x1ddd78,_0x1705ce,_0x51b0b1){const _0x17e582=_0x59208c;switch(_0x51b0b1[_0x17e582(0x32a)]){case _0xacf31a[_0x17e582(0x889)]:_0x51b0b1[_0x17e582(0x8ae)]===_0x4f4d3f[_0x17e582(0x527)]&&(_0x1ddd78*=0.75)<_0x1d92f1&&(_0x1ddd78=_0x1d92f1);break;case _0xacf31a[_0x17e582(0x392)]:(_0x1ddd78*=1.25)>_0x1705ce&&(_0x1ddd78=_0x1705ce);}return _0x1ddd78;}(_0x2eec4a['bitrate'],_0x2eec4a[_0x59208c(0x7af)],_0x273a19));}(_0x53901d,_0xf37f8e),_0x53901d[_0x23d9ee(0xb08)][_0x23d9ee(0x829)]&&_0x53901d['tracks'][_0x23d9ee(0x829)][_0x23d9ee(0x299)])){const _0x139638=_0x53901d['tracks'][_0x23d9ee(0x829)]['sender'];this['connection'][_0x23d9ee(0x831)](_0x139638,Math['floor'](0xa*_0x53901d[_0x23d9ee(0x8af)])/0xa,_0x53901d[_0x23d9ee(0xa88)],_0x53901d[_0x23d9ee(0x703)],_0x53901d[_0x23d9ee(0x80e)]);}(_0x53901d||_0xf37f8e['action']===_0xacf31a[_0x23d9ee(0x889)])&&this[_0x23d9ee(0x7a4)]();}['calculateArrayBufferSize'](){const _0x22fdbf=_0x5f24fc;return this['retryQueue']['queues'][_0x22fdbf(0x3a3)]((_0x4ba639,_0x123dae)=>_0x4ba639+_0x123dae['size'],0x0)*_0x5d29a2;}[_0x5f24fc(0x513)](){const _0x2adf6c=_0x5f24fc;return this[_0x2adf6c(0x22b)]?.['bufferedAmount']??0x0;}[_0x5f24fc(0x9ab)](){const _0x4a07ec=_0x5f24fc;super['resetConnection'](),this[_0x4a07ec(0x211)](),this[_0x4a07ec(0x389)](),this[_0x4a07ec(0x651)][_0x4a07ec(0xac8)](_0x1754f5=>{const _0x576279=_0x4a07ec;_0x1754f5[_0x576279(0xb08)][_0x576279(0x829)]&&(_0x1754f5[_0x576279(0xb08)][_0x576279(0x829)][_0x576279(0x299)]=void 0x0),_0x1754f5[_0x576279(0xb08)]['audio']&&(_0x1754f5[_0x576279(0xb08)]['audio'][_0x576279(0x299)]=void 0x0);}),this[_0x4a07ec(0x86c)]=!0x0;}async[_0x5f24fc(0xabe)](){return new Promise(async _0x3ef517=>{const _0x2de6a2=a0_0x214c;if(!this[_0x2de6a2(0x22b)]||_0x2de6a2(0x791)!==this[_0x2de6a2(0x22b)]['state'])return await _0x4ecfc3['wait'](0x64),void _0x3ef517();this[_0x2de6a2(0x22b)][_0x2de6a2(0x8e4)]<_0x444f93?_0x3ef517():this[_0x2de6a2(0x22b)][_0x2de6a2(0x4de)]=()=>{const _0x4a81d1=_0x2de6a2;this[_0x4a81d1(0x22b)]&&(this[_0x4a81d1(0x22b)]['onBufferedAmountLow']=null),_0x3ef517();};});}async[_0x5f24fc(0x97a)](_0x215ee0,_0x36d58c){const _0xc13ec4=_0x5f24fc,_0x714c5e=[];for(let _0x3ae731=0x0;_0x3ae731<_0x36d58c['length'];_0x3ae731+=_0x261a4e)_0x714c5e[_0xc13ec4(0x96d)](_0x36d58c[_0xc13ec4(0xb17)](_0x3ae731,_0x3ae731+_0x261a4e));for(const _0x59409b of _0x714c5e){for(;this['retryQueue'][_0xc13ec4(0x62c)][_0x505448['Low']][_0xc13ec4(0x58d)]>0x1;)await _0x4ecfc3['wait'](0x64);this[_0xc13ec4(0xaff)](_0x208fa7+';'+_0x215ee0['uuid']+';'+_0x714c5e[_0xc13ec4(0x5b2)](_0x59409b)+';'+_0x714c5e[_0xc13ec4(0x9a6)]+';'+_0x59409b,_0x505448['Low']);}}async[_0x5f24fc(0xaff)](_0x4d10dc,_0x23dc43){const _0x3b017c=_0x5f24fc;_0x4d10dc===_0xd19646?this[_0x3b017c(0x89e)][_0x3b017c(0x62c)][_0x23dc43][_0x3b017c(0x94d)]?.[_0x3b017c(0x810)]!==_0xd19646&&this['retryQueue'][_0x3b017c(0x62c)][_0x23dc43][_0x3b017c(0x6cc)](_0x4d10dc):this['retryQueue']['queues'][_0x23dc43]['push'](_0x4d10dc);}['sendAction'](_0x4790bf){const _0x11a713=_0x5f24fc;if(!this['dataChannel']||_0x11a713(0x791)!==this[_0x11a713(0x22b)][_0x11a713(0x23d)])throw new Error(_0x11a713(0x1f5));if(this['dataChannel']['bufferedAmount']>=0x600000)throw new Error(_0x11a713(0x79e));const _0x3821fc=Date[_0x11a713(0x2c1)]();_0x4790bf!==_0xd19646&&(this[_0x11a713(0x365)]+=0x1,this[_0x11a713(0x688)]+=_0x4790bf instanceof ArrayBuffer?_0x4790bf[_0x11a713(0x3f5)]:_0x4790bf[_0x11a713(0x9a6)]);try{ArrayBuffer,this[_0x11a713(0x22b)]['send'](_0x4790bf);}catch(_0x1c8e4f){throw console[_0x11a713(0x4d2)]('DataChannel\x20send\x20error',_0x1c8e4f),_0x1c8e4f;}this[_0x11a713(0x25e)]+=Date[_0x11a713(0x2c1)]()-_0x3821fc;}['startHeartbeat'](){const _0x1ce0b2=_0x5f24fc;this[_0x1ce0b2(0x438)]&&this[_0x1ce0b2(0x334)]();let _0xdaaea5=!0x0,_0x3cdb99=Date[_0x1ce0b2(0x2c1)]();this[_0x1ce0b2(0x9ef)]=Date[_0x1ce0b2(0x2c1)](),this[_0x1ce0b2(0x22b)][_0x1ce0b2(0x227)]=_0x45206c=>{const _0x31a789=_0x1ce0b2;'1'===_0x45206c[_0x31a789(0x3b9)]&&(this[_0x31a789(0x8cc)]=Date[_0x31a789(0x2c1)]()-_0x3cdb99,_0xdaaea5&&this[_0x31a789(0x21f)]({'type':_0x1c3bcf['Success']}),_0xdaaea5=!0x1,this[_0x31a789(0x9ef)]=Date[_0x31a789(0x2c1)](),this[_0x31a789(0x86c)]&&(this[_0x31a789(0x86c)]=!0x1,this[_0x31a789(0x319)]()));},this[_0x1ce0b2(0x438)]=_0x4ecfc3['setInterval'](()=>{const _0x50639b=_0x1ce0b2;_0x3cdb99=Date[_0x50639b(0x2c1)](),this[_0x50639b(0xaff)](_0xd19646,_0x505448[_0x50639b(0x7df)]),Date[_0x50639b(0x2c1)]()-this[_0x50639b(0x9ef)]>(_0xdaaea5?0x15f90:0x3a98)&&this['handleDisconnect']();},0xbb8);}[_0x5f24fc(0x319)](){const _0x1f4da8=_0x5f24fc;this[_0x1f4da8(0x651)][_0x1f4da8(0xac8)](_0x3c65ca=>{const _0x20d1aa=_0x1f4da8;_0x3c65ca[_0x20d1aa(0xb08)][_0x20d1aa(0x829)]&&_0x3c65ca[_0x20d1aa(0xb08)]['video'][_0x20d1aa(0x397)]&&!_0x3c65ca['tracks'][_0x20d1aa(0x829)][_0x20d1aa(0x299)]&&(_0x3c65ca[_0x20d1aa(0xb08)]['video'][_0x20d1aa(0x299)]=this[_0x20d1aa(0x752)]['addTrack'](_0x3c65ca[_0x20d1aa(0xb08)]['video'][_0x20d1aa(0x397)],_0x3c65ca['stream'])),_0x3c65ca[_0x20d1aa(0xb08)][_0x20d1aa(0x214)]&&_0x3c65ca[_0x20d1aa(0xb08)]['audio']['track']&&!_0x3c65ca[_0x20d1aa(0xb08)][_0x20d1aa(0x214)]['sender']&&(_0x3c65ca[_0x20d1aa(0xb08)][_0x20d1aa(0x214)][_0x20d1aa(0x299)]=this[_0x20d1aa(0x752)][_0x20d1aa(0x55e)](_0x3c65ca[_0x20d1aa(0xb08)][_0x20d1aa(0x214)][_0x20d1aa(0x397)],_0x3c65ca[_0x20d1aa(0x265)]));});}[_0x5f24fc(0x4ad)](){const _0x154ecd=_0x5f24fc;this[_0x154ecd(0x21f)]({'type':_0x1c3bcf[_0x154ecd(0x6ab)],'candidates':this[_0x154ecd(0x34f)],'origin':_0x7885c9['Sender'],'version':this[_0x154ecd(0x516)],'connectionType':this['connectionType']});}[_0x5f24fc(0x6da)](){const _0x36d81a=_0x5f24fc;super['setupConnectionEvents'](),this[_0x36d81a(0x752)][_0x36d81a(0x5cd)]=()=>{const _0x39a797=_0x36d81a;if(_0x39a797(0x6e3)===this[_0x39a797(0x752)][_0x39a797(0x56c)]){_0x40d481[_0x39a797(0x60e)](_0xb10df[_0x39a797(0x2af)],_0x39a797(0x9d3),this[_0x39a797(0x8ad)][_0x39a797(0x6e8)](),this[_0x39a797(0x931)]);try{if(this[_0x39a797(0x752)]['canRestartHandshake'])return void this[_0x39a797(0x752)][_0x39a797(0x311)]();}catch(_0x524664){}this[_0x39a797(0x3eb)]({'handshakeRestart':!0x0});}},this[_0x36d81a(0x752)]['onConnectionStateChange']=()=>{const _0x2168f6=_0x36d81a;'disconnected'!==this[_0x2168f6(0x752)]['connectionState']&&_0x2168f6(0x6e3)!==this[_0x2168f6(0x752)][_0x2168f6(0x8b2)]||this[_0x2168f6(0xa2b)]();};}[_0x5f24fc(0xa2b)](){const _0x132811=_0x5f24fc;this[_0x132811(0x334)](),this[_0x132811(0x31b)](),this[_0x132811(0x53d)](),_0x40d481['warning'](_0x132811(0x4ec),{'clusterId':this['clusterId'],'nodeId':this[_0x132811(0x8ad)]['getId'](),'nodeType':this[_0x132811(0x8ad)][_0x132811(0x781)],'remoteId':this[_0x132811(0x931)],'data':{'connectionType':this[_0x132811(0x691)],'connectionState':this['connection'][_0x132811(0x8b2)],'iceConnectionState':this[_0x132811(0x752)][_0x132811(0x56c)],'signalingState':this[_0x132811(0x752)][_0x132811(0x21d)],'readyState':this[_0x132811(0x22b)]?.[_0x132811(0x23d)]||'','lastHeartbeat':this[_0x132811(0x9ef)]?Date[_0x132811(0x2c1)]()-this['lastHeartbeat']:'','retryQueue':this['retryQueue']}}),(this['lastHeartbeat']&&Date[_0x132811(0x2c1)]()-this[_0x132811(0x9ef)]>0xea60)??0x1?this[_0x132811(0x541)]['publish']({'sourceId':this['remoteId'],'destinationIds':[this[_0x132811(0x8ad)]['getId']()],'messageType':_0x31112d[_0x132811(0x830)],'content':{'type':_0x1c3bcf[_0x132811(0x6db)]}}):(this['resetConnection'](),this[_0x132811(0x21f)]({'type':_0x1c3bcf[_0x132811(0x77d)],'version':this[_0x132811(0x516)],'connectionType':this['connectionType']}),this['restartTimeout']=setTimeout(()=>{const _0x542d3f=_0x132811;this[_0x542d3f(0xa2b)]();},0x7530));}[_0x5f24fc(0x334)](){const _0xa2be21=_0x5f24fc;this[_0xa2be21(0x438)]?.(),delete this[_0xa2be21(0x438)];}[_0x5f24fc(0x53d)](){const _0x256547=_0x5f24fc;this['connectionTimeout']&&(clearTimeout(this[_0x256547(0x874)]),delete this[_0x256547(0x874)]);}['clearRestartTimeout'](){const _0x47286a=_0x5f24fc;this[_0x47286a(0x3e9)]&&(clearTimeout(this[_0x47286a(0x3e9)]),delete this[_0x47286a(0x3e9)]);}[_0x5f24fc(0x30d)](){const _0x114bf4=_0x5f24fc;this['upgradeTimeout']&&(clearTimeout(this[_0x114bf4(0x22f)]),delete this[_0x114bf4(0x22f)]);}[_0x5f24fc(0x7a4)](){const _0x4e7241=_0x5f24fc;this[_0x4e7241(0x22f)]=setTimeout(()=>{const _0x318bed=_0x4e7241;this[_0x318bed(0x497)]({'type':_0x3810f9[_0x318bed(0x42c)],'action':_0xacf31a[_0x318bed(0x392)]});},0x3a98);}[_0x5f24fc(0x848)](_0x1048d8,_0x42586f){const _0x439fb5=_0x5f24fc,_0x7d6758=Math[_0x439fb5(0x2a7)](_0x1048d8['width']/_0x42586f[_0x439fb5(0x58b)],_0x1048d8['height']/_0x42586f['height']);return Math[_0x439fb5(0x728)](Math['max'](_0x7d6758,0x1),0x4);}[_0x5f24fc(0x389)](){this['waitAnswer']?.(),delete this['waitAnswer'];}[_0x5f24fc(0x211)](){const _0x1b8461=_0x5f24fc;this[_0x1b8461(0x938)]&&(clearTimeout(this['oncloseTimeout']),delete this['oncloseTimeout']);}[_0x5f24fc(0x8d3)](_0x2a2d42){const _0x27f790=_0x5f24fc,_0x36f8d1=JSON[_0x27f790(0x36f)](_0x2a2d42);return new TextEncoder()[_0x27f790(0x911)](_0x36f8d1)[_0x27f790(0x2a8)];}[_0x5f24fc(0x61a)](_0x3ed132,_0x5266ab){const _0x3ee616=_0x5f24fc,_0x69a5a9=this['objectToArrayBuffer'](_0x3ed132),_0xb94247=new Uint8Array(0x4),_0x369d32=new Uint8Array(_0x69a5a9),_0x364993=new Uint8Array(_0x5266ab);_0xb94247[_0x3ee616(0x338)](new Uint8Array(new Uint32Array([_0x369d32[_0x3ee616(0x9a6)]])['buffer']));const _0x2990af=new Uint8Array(0x4+_0x369d32[_0x3ee616(0x9a6)]+_0x364993[_0x3ee616(0x9a6)]);return _0x2990af['set'](_0xb94247),_0x2990af[_0x3ee616(0x338)](_0x369d32,0x4),_0x2990af[_0x3ee616(0x338)](_0x364993,0x4+_0x369d32['length']),_0x2990af[_0x3ee616(0x2a8)];}}class _0x588500 extends _0x1abb07{[_0x5f24fc(0x972)];['connectionType'];['maxFps'];['maxBpp'];['connectionConstructor'];[_0x5f24fc(0x947)];[_0x5f24fc(0x484)];['receiverUnsubscribers']=[];[_0x5f24fc(0x25b)]=_0x449c97();[_0x5f24fc(0x2e9)]=_0x449c97();['removeTrackListeners']=_0x449c97();[_0x5f24fc(0x5f8)]=[];[_0x5f24fc(0x541)];[_0x5f24fc(0x626)]=new Map();[_0x5f24fc(0x906)]=new Map();[_0x5f24fc(0x554)]=new Map();[_0x5f24fc(0x385)]=new Map();[_0x5f24fc(0x649)]=!0x1;constructor(_0x358cb1,_0x3baed0,_0x2d0520,_0x3229cf,_0x544873,_0x1bfd6f,_0x27c07c,_0x22de07){const _0x4a64c9=_0x5f24fc;super(_0x358cb1,_0x3baed0,_0x2d0520),this['iceServers']=_0x3229cf,this[_0x4a64c9(0x691)]=_0x544873,this['maxFps']=_0x1bfd6f,this[_0x4a64c9(0xa24)]=_0x27c07c,this[_0x4a64c9(0x39c)]=_0x22de07;}['registerPublisher'](_0xf9aef4){const _0x1ea945=_0x5f24fc;switch(_0xf9aef4[_0x1ea945(0xadb)]()){case _0x20053a[_0x1ea945(0x552)][_0x1ea945(0xa11)]:case _0x20053a[_0x1ea945(0x552)]['PubSub']:case _0x20053a[_0x1ea945(0x552)][_0x1ea945(0x496)]:case _0x20053a[_0x1ea945(0x552)][_0x1ea945(0x71b)]:case _0x20053a[_0x1ea945(0x552)][_0x1ea945(0x3ba)]:case _0x20053a[_0x1ea945(0x552)][_0x1ea945(0x89f)]:case _0x20053a['ContentType']['GraphDatabase']:case _0x20053a['ContentType']['ExternalStorage']:this[_0x1ea945(0x626)][_0x1ea945(0x338)](_0xf9aef4[_0x1ea945(0x9b0)](),_0xf9aef4);break;case _0x20053a[_0x1ea945(0x552)][_0x1ea945(0x9e3)]:this['mediaTopics'][_0x1ea945(0x338)](_0xf9aef4['getLabel'](),_0xf9aef4);}}['unregisterPublisher'](_0x525b5e){const _0x34ad13=_0x5f24fc;switch(_0x525b5e[_0x34ad13(0xadb)]()){case _0x20053a['ContentType'][_0x34ad13(0xa11)]:case _0x20053a[_0x34ad13(0x552)][_0x34ad13(0x534)]:case _0x20053a[_0x34ad13(0x552)]['ObjectStore']:case _0x20053a['ContentType'][_0x34ad13(0x71b)]:case _0x20053a[_0x34ad13(0x552)][_0x34ad13(0x3ba)]:case _0x20053a[_0x34ad13(0x552)][_0x34ad13(0x89f)]:case _0x20053a[_0x34ad13(0x552)][_0x34ad13(0x5ce)]:case _0x20053a[_0x34ad13(0x552)][_0x34ad13(0xab6)]:this[_0x34ad13(0x626)][_0x34ad13(0x43a)](_0x525b5e[_0x34ad13(0x9b0)]());break;case _0x20053a[_0x34ad13(0x552)]['Media']:this[_0x34ad13(0x554)][_0x34ad13(0x43a)](_0x525b5e[_0x34ad13(0x9b0)]());}}[_0x5f24fc(0x4c6)](_0x3d37d9){const _0x4a042f=_0x5f24fc;switch(_0x3d37d9[_0x4a042f(0xadb)]()){case _0x20053a[_0x4a042f(0x552)][_0x4a042f(0xa11)]:case _0x20053a[_0x4a042f(0x552)][_0x4a042f(0x534)]:case _0x20053a[_0x4a042f(0x552)][_0x4a042f(0x496)]:case _0x20053a[_0x4a042f(0x552)][_0x4a042f(0x71b)]:case _0x20053a[_0x4a042f(0x552)]['Job']:case _0x20053a[_0x4a042f(0x552)][_0x4a042f(0x89f)]:case _0x20053a['ContentType'][_0x4a042f(0x5ce)]:case _0x20053a[_0x4a042f(0x552)]['ExternalStorage']:{const _0x294186=_0x3d37d9[_0x4a042f(0x6f8)](_0x5797ac=>{const _0x2dd47f=_0x4a042f;_0x5cedd3(_0x5797ac,this[_0x2dd47f(0x8bb)]())&&_0x4ea9f8(_0x5797ac,this[_0x2dd47f(0x931)])&&this[_0x2dd47f(0x8be)](_0x5797ac);});this[_0x4a042f(0x906)][_0x4a042f(0x338)](_0x3d37d9['getLabel'](),_0x294186);break;}case _0x20053a[_0x4a042f(0x552)][_0x4a042f(0x9e3)]:{const _0x4f46a8=_0x3d37d9['subscribe'](({content:_0x348cd8})=>{const _0x714225=_0x4a042f;switch(_0x348cd8[_0x714225(0x32a)]){case _0x571dd0['Add']:this[_0x714225(0x55e)](_0x348cd8[_0x714225(0x397)],_0x348cd8[_0x714225(0x265)],_0x348cd8[_0x714225(0x80e)],_0x348cd8[_0x714225(0x826)]);break;case _0x571dd0['Remove']:this[_0x714225(0xa94)](_0x348cd8[_0x714225(0x397)],_0x348cd8[_0x714225(0x265)]);break;case _0x571dd0[_0x714225(0x828)]:_0x348cd8[_0x714225(0x80e)]&&this[_0x714225(0x754)](_0x348cd8[_0x714225(0x265)],_0x348cd8['priority']),_0x348cd8['params']&&this[_0x714225(0x75e)](_0x348cd8[_0x714225(0x265)],_0x348cd8[_0x714225(0x826)]);}});this[_0x4a042f(0x385)][_0x4a042f(0x338)](_0x3d37d9['getLabel'](),_0x4f46a8);break;}}}[_0x5f24fc(0x2c6)](_0x3fcc1c){const _0x2208c9=_0x5f24fc;switch(_0x3fcc1c['getContentType']()){case _0x20053a[_0x2208c9(0x552)][_0x2208c9(0xa11)]:case _0x20053a['ContentType'][_0x2208c9(0x534)]:case _0x20053a[_0x2208c9(0x552)][_0x2208c9(0x496)]:case _0x20053a[_0x2208c9(0x552)]['KeyValueDatabase']:case _0x20053a[_0x2208c9(0x552)][_0x2208c9(0x3ba)]:case _0x20053a[_0x2208c9(0x552)][_0x2208c9(0x89f)]:case _0x20053a[_0x2208c9(0x552)][_0x2208c9(0x5ce)]:case _0x20053a[_0x2208c9(0x552)]['ExternalStorage']:this[_0x2208c9(0x906)][_0x2208c9(0xb07)](_0x3fcc1c[_0x2208c9(0x9b0)]())?.(),this['dataUnsubscribers'][_0x2208c9(0x43a)](_0x3fcc1c['getLabel']());break;case _0x20053a['ContentType'][_0x2208c9(0x9e3)]:this[_0x2208c9(0x385)][_0x2208c9(0xb07)](_0x3fcc1c[_0x2208c9(0x9b0)]())?.(),this[_0x2208c9(0x385)]['delete'](_0x3fcc1c[_0x2208c9(0x9b0)]());}}[_0x5f24fc(0x98c)](){const _0x2cc3bf=_0x5f24fc;return[_0x20053a[_0x2cc3bf(0x552)][_0x2cc3bf(0xa11)],_0x20053a[_0x2cc3bf(0x552)][_0x2cc3bf(0x9e3)],_0x20053a['ContentType'][_0x2cc3bf(0x534)],_0x20053a[_0x2cc3bf(0x552)][_0x2cc3bf(0x496)],_0x20053a[_0x2cc3bf(0x552)]['KeyValueDatabase'],_0x20053a[_0x2cc3bf(0x552)][_0x2cc3bf(0x3ba)],_0x20053a['ContentType']['VectorDatabase'],_0x20053a['ContentType']['GraphDatabase'],_0x20053a[_0x2cc3bf(0x552)]['ExternalStorage']];}[_0x5f24fc(0xaf7)](_0x243d6b){const _0x53e95b=_0x5f24fc;this[_0x53e95b(0x541)]=_0x243d6b;}[_0x5f24fc(0x29f)](){const _0x328e09=_0x5f24fc;delete this[_0x328e09(0x541)];}async[_0x5f24fc(0x509)](){const _0x1facda=_0x5f24fc;this[_0x1facda(0x4b3)](),await this[_0x1facda(0x3eb)]();}['close'](){const _0x253535=_0x5f24fc;this[_0x253535(0x5f8)]['forEach'](_0xf33a00=>_0xf33a00()),this[_0x253535(0x5f8)]=[],this[_0x253535(0x947)]?.['unregisterSystemPublisher'](),this[_0x253535(0x947)]?.[_0x253535(0x7ef)](),delete this[_0x253535(0x947)],this[_0x253535(0xa7b)][_0x253535(0xac8)](_0x349f7d=>_0x349f7d()),this[_0x253535(0xa7b)]=[],this['receiverConnection']?.[_0x253535(0x29f)](),this['receiverConnection']?.[_0x253535(0x7ef)](),delete this['receiverConnection'];}[_0x5f24fc(0x629)](){const _0x32c03d=_0x5f24fc;return this[_0x32c03d(0x947)]?.[_0x32c03d(0x629)]()&&this[_0x32c03d(0x484)]?.[_0x32c03d(0x629)]()||!0x1;}['send'](_0xac9f39){const _0x3b0de4=_0x5f24fc;if(!this[_0x3b0de4(0x947)]||!this[_0x3b0de4(0x629)]())throw new _0x4668fc(_0x4668fc['codes']['ConnectionNotinitialized'],{'message':_0x3b0de4(0x5f9),'senderConnected':this[_0x3b0de4(0x947)]?.[_0x3b0de4(0x629)](),'receiverConnected':this[_0x3b0de4(0x484)]?.[_0x3b0de4(0x629)](),'localId':this['getLocalId'](),'remoteId':this[_0x3b0de4(0x931)],'data':_0xac9f39});this[_0x3b0de4(0x947)]['send'](_0xac9f39);}[_0x5f24fc(0x227)](_0x127186){const _0x36f43e=_0x5f24fc;return this[_0x36f43e(0x25b)][_0x36f43e(0x6f8)](_0x127186);}[_0x5f24fc(0x690)](_0x1efc5d){const _0x4f5f02=_0x5f24fc;return this['trackListeners'][_0x4f5f02(0x6f8)](({track:_0x91f916,stream:_0x528e3a})=>_0x1efc5d(_0x91f916,_0x528e3a));}[_0x5f24fc(0x67f)](_0x2ca83e){return this['removeTrackListeners']['subscribe'](({track:_0x5dc347,stream:_0x4affb8})=>_0x2ca83e(_0x5dc347,_0x4affb8));}[_0x5f24fc(0x55e)](_0x4ab5bb,_0x1220ce,_0x3204d4,_0x5f17e9){const _0x4dbd72=_0x5f24fc;this[_0x4dbd72(0x947)]?.[_0x4dbd72(0x55e)](_0x4ab5bb,_0x1220ce,_0x3204d4,_0x5f17e9);}[_0x5f24fc(0x754)](_0x40c45b,_0x3ed944){const _0x149cff=_0x5f24fc;this['senderConnection']?.[_0x149cff(0x754)](_0x40c45b,_0x3ed944);}[_0x5f24fc(0x75e)](_0x1bc5e4,_0xe051f0){const _0x199c18=_0x5f24fc;this[_0x199c18(0x947)]?.[_0x199c18(0x75e)](_0x1bc5e4,_0xe051f0);}['removeTrack'](_0x2d4e0a,_0x55a9ad){const _0xac515c=_0x5f24fc;this[_0xac515c(0x947)]?.[_0xac515c(0xa94)](_0x2d4e0a,_0x55a9ad);}async[_0x5f24fc(0x3b5)](_0x274ac1){const _0x141931=_0x5f24fc;_0x40d481['log'](_0xb10df['Connection'],_0x141931(0x290),this[_0x141931(0x8bb)](),_0x274ac1);const {content:_0x355b82}=_0x274ac1;switch(_0x355b82[_0x141931(0x781)]){case _0x1c3bcf[_0x141931(0x4be)]:await this[_0x141931(0x298)](_0x355b82);break;case _0x1c3bcf['Answer']:await this[_0x141931(0x57c)](_0x355b82);break;case _0x1c3bcf['Success']:this[_0x141931(0xa14)]();break;case _0x1c3bcf[_0x141931(0x6ab)]:await this[_0x141931(0x444)](_0x355b82);break;case _0x1c3bcf[_0x141931(0x77d)]:this[_0x141931(0x812)](_0x355b82);break;case _0x1c3bcf[_0x141931(0x329)]:await this['createOffer']();}}[_0x5f24fc(0x73d)](_0x51b509){const _0x1d81e0=_0x5f24fc;this[_0x1d81e0(0x947)]?.['applyRemediation'](_0x51b509[_0x1d81e0(0x6b2)][_0x1d81e0(0x3b9)]);}['getConnectionType'](){const _0x230949=_0x5f24fc;return this[_0x230949(0x691)];}[_0x5f24fc(0x2f4)](_0x303bc2){const _0xc0b08=_0x5f24fc;this[_0xc0b08(0x691)]=_0x303bc2,this[_0xc0b08(0x947)]?.[_0xc0b08(0x2f4)](_0x303bc2),this[_0xc0b08(0x484)]?.[_0xc0b08(0x2f4)](_0x303bc2);}async[_0x5f24fc(0xae0)](){const _0x58f459=_0x5f24fc;await this[_0x58f459(0x947)]?.[_0x58f459(0xae0)](),await this['receiverConnection']?.[_0x58f459(0xae0)]();}['calculateArrayBufferSize'](){const _0x4a69df=_0x5f24fc;return this[_0x4a69df(0x947)]?.[_0x4a69df(0x276)]()??0x0;}[_0x5f24fc(0x513)](){return this['senderConnection']?.['getBufferedAmount']()??0x0;}[_0x5f24fc(0x4b3)](){const _0x1307e5=_0x5f24fc;this[_0x1307e5(0x5f8)][_0x1307e5(0x96d)](this['onMessage'](_0x2307d0=>{const _0x17230f=_0x1307e5;_0x4ea9f8(_0x2307d0,this['getLocalId']())&&0x0!==_0x2307d0[_0x17230f(0x3fd)]&&this[_0x17230f(0x626)]['get'](_0x2307d0[_0x17230f(0x3fd)])?.[_0x17230f(0x803)](_0x2307d0);})),this[_0x1307e5(0x5f8)][_0x1307e5(0x96d)](this['onTrack']((_0x14d1f4,_0x4ce0cc)=>{const _0x31c71e=_0x1307e5,_0x4d27a8=_0xfcdd91(_0x20053a[_0x31c71e(0x552)][_0x31c71e(0x9e3)],_0x4ce0cc['id'],this[_0x31c71e(0x931)]);this[_0x31c71e(0x554)][_0x31c71e(0xb07)](_0x4d27a8)?.[_0x31c71e(0x803)]({'topicLabel':_0x4d27a8,'sourceId':this[_0x31c71e(0x931)],'contentType':_0x20053a[_0x31c71e(0x552)][_0x31c71e(0x9e3)],'content':{'action':_0x571dd0['RemoteAdd'],'track':_0x14d1f4,'stream':_0x4ce0cc,'providerId':this[_0x31c71e(0x931)]}});})),this[_0x1307e5(0x5f8)]['push'](this[_0x1307e5(0x67f)]((_0x1a6bed,_0x38dd42)=>{const _0x2df819=_0x1307e5,_0x255ec7=_0xfcdd91(_0x20053a['ContentType'][_0x2df819(0x9e3)],_0x38dd42['id'],this[_0x2df819(0x931)]);this[_0x2df819(0x554)]['get'](_0x255ec7)?.['publish']({'topicLabel':_0x255ec7,'sourceId':this[_0x2df819(0x931)],'contentType':_0x20053a[_0x2df819(0x552)][_0x2df819(0x9e3)],'content':{'action':_0x571dd0[_0x2df819(0xae3)],'track':_0x1a6bed,'stream':_0x38dd42,'providerId':this['remoteId']}});}));}[_0x5f24fc(0x444)]({candidates:_0x2c4039,origin:_0x18055b,version:_0xbe313}){const _0x23b324=_0x5f24fc;return _0x18055b===_0x7885c9[_0x23b324(0x4c8)]?(this['receiverConnection']||this[_0x23b324(0x91f)](),this['receiverConnection']['handleHandshake'](_0x2c4039,_0xbe313)):this[_0x23b324(0x947)][_0x23b324(0x3bf)](_0x2c4039,_0xbe313);}async[_0x5f24fc(0x3eb)](){const _0x50480b=_0x5f24fc;this[_0x50480b(0x947)]||this[_0x50480b(0x993)](),await this[_0x50480b(0x947)][_0x50480b(0x3eb)]();}async[_0x5f24fc(0x298)]({offer:_0x5c1966,version:_0x3c923d}){const _0x45ec08=_0x5f24fc;this[_0x45ec08(0x484)]||this[_0x45ec08(0x91f)](),await this[_0x45ec08(0x484)][_0x45ec08(0x298)](_0x5c1966,_0x3c923d);}async['handleAnswer']({answer:_0x15432d,version:_0x5cfddd}){const _0x17732e=_0x5f24fc;if(!this[_0x17732e(0x947)])throw new _0x4668fc(_0x4668fc[_0x17732e(0x85e)][_0x17732e(0xa67)],{'message':_0x17732e(0x93f),'localId':this[_0x17732e(0x8bb)](),'remoteId':this[_0x17732e(0x931)],'answer':_0x15432d});await this['senderConnection'][_0x17732e(0x57c)](_0x15432d,_0x5cfddd);}[_0x5f24fc(0xa14)](){const _0x5b34ac=_0x5f24fc;if(!this[_0x5b34ac(0x484)])throw new _0x4668fc(_0x4668fc[_0x5b34ac(0x85e)]['ConnectionNotinitialized'],{'message':'Receiver\x20connection\x20is\x20not\x20initialized.','localId':this[_0x5b34ac(0x8bb)](),'remoteId':this[_0x5b34ac(0x931)]});this[_0x5b34ac(0x484)][_0x5b34ac(0xa14)](),this['successNotified']||this[_0x5b34ac(0x691)]!==_0x1d3b9e['Optimization']||(this['successNotified']=!0x0,this[_0x5b34ac(0x541)]?.[_0x5b34ac(0x803)]({'sourceId':this['remoteId'],'destinationIds':[this[_0x5b34ac(0x8bb)]()],'messageType':_0x31112d[_0x5b34ac(0x830)],'content':{'type':_0x1c3bcf[_0x5b34ac(0xa54)]}}));}[_0x5f24fc(0x812)](_0x41290f){const _0x525e3a=_0x5f24fc;this['receiverConnection']||this[_0x525e3a(0x91f)](),this[_0x525e3a(0x484)]['handleNeedRestart'](_0x41290f[_0x525e3a(0x952)]);}['createSenderConnection'](){const _0x26fad8=_0x5f24fc;this[_0x26fad8(0x947)]=new _0x13d206(this[_0x26fad8(0x412)],this['localNode'],this[_0x26fad8(0x931)],this[_0x26fad8(0x972)],this['connectionType'],this[_0x26fad8(0xaf1)],this['maxBpp'],this[_0x26fad8(0x39c)]),this[_0x26fad8(0x947)][_0x26fad8(0xaf7)](this['systemTopic']);}['createReceiverConnection'](){const _0x42c8d9=_0x5f24fc;this[_0x42c8d9(0x484)]=new _0x5e193c(this[_0x42c8d9(0x412)],this['localNode'],this['remoteId'],this[_0x42c8d9(0x972)],this[_0x42c8d9(0x691)],this[_0x42c8d9(0x39c)]),this['receiverConnection'][_0x42c8d9(0xaf7)](this['systemTopic']),this[_0x42c8d9(0xa7b)]['push'](this[_0x42c8d9(0x484)][_0x42c8d9(0x227)](_0x1acd95=>this[_0x42c8d9(0x25b)][_0x42c8d9(0x803)](_0x1acd95))),this[_0x42c8d9(0xa7b)][_0x42c8d9(0x96d)](this[_0x42c8d9(0x484)][_0x42c8d9(0x690)]((_0x2dfa08,_0xe2e8e3)=>this[_0x42c8d9(0x2e9)][_0x42c8d9(0x803)]({'track':_0x2dfa08,'stream':_0xe2e8e3}))),this[_0x42c8d9(0xa7b)][_0x42c8d9(0x96d)](this['receiverConnection'][_0x42c8d9(0x67f)]((_0x4c39ae,_0xa9493a)=>this[_0x42c8d9(0x6e4)][_0x42c8d9(0x803)]({'track':_0x4c39ae,'stream':_0xa9493a})));}}class _0x351ef9{['localId'];[_0x5f24fc(0x1ef)];[_0x5f24fc(0x878)];[_0x5f24fc(0x21c)]=new Map();[_0x5f24fc(0x25b)]=_0x449c97();['messageUnsubscriber'];[_0x5f24fc(0x626)]=new Map();[_0x5f24fc(0x906)]=new Map();['retryQueues']=new Map();constructor(_0x3fb62c,_0x3419d8,_0x26a4c2){const _0x171437=_0x5f24fc;this[_0x171437(0x504)]=_0x3fb62c,this[_0x171437(0x1ef)]=_0x3419d8,this['graphService']=_0x26a4c2,this[_0x171437(0x36c)]=this[_0x171437(0x227)](_0x4945f4=>{const _0x4f8f8b=_0x171437;this['messageBuffer'][_0x4f8f8b(0x5d5)](_0x4945f4[_0x4f8f8b(0x348)])||(_0x4ea9f8(_0x4945f4,this[_0x4f8f8b(0x504)])&&0x0!==_0x4945f4['topicLabel']&&(this[_0x4f8f8b(0x1ef)][_0x4f8f8b(0x839)](_0x4945f4[_0x4f8f8b(0x348)]),this[_0x4f8f8b(0x626)][_0x4f8f8b(0xb07)](_0x4945f4[_0x4f8f8b(0x3fd)])?.[_0x4f8f8b(0x803)](_0x4945f4)),_0x4945f4['propagate']&&this[_0x4f8f8b(0x8be)](_0x4945f4));});}[_0x5f24fc(0x7ef)](){const _0x284104=_0x5f24fc;this[_0x284104(0x36c)]?.();}['addConnection'](_0x35e20){const _0x4bb850=_0x5f24fc,_0x51aba6=_0x35e20[_0x4bb850(0x227)](_0x435f82=>{const _0x56d7ab=_0x4bb850;this[_0x56d7ab(0x25b)][_0x56d7ab(0x803)](_0x435f82);});this[_0x4bb850(0x21c)]['set'](_0x35e20,_0x51aba6),this[_0x4bb850(0x95f)]['set'](_0x35e20[_0x4bb850(0x5b7)](),function(_0x222cfc,_0x5a0a33=!0x1){let _0x4de858=new Map();const _0x25251b=_0x65a5d(_0x222cfc,_0x5a0a33,function(_0x338732){const _0x4f4fb4=a0_0x214c;_0x591e24(_0x338732)&&_0x4de858['delete'](_0x338732[_0x4f4fb4(0x241)]+'-'+(_0x338732[_0x4f4fb4(0x463)]??[])+'-'+_0x338732[_0x4f4fb4(0x87f)]+'-'+_0x338732[_0x4f4fb4(0x6b2)][_0x4f4fb4(0x781)]);},function(_0x144012){return!!function(_0x3c155e){const _0x581304=a0_0x214c,_0x14b135=_0x3c155e[_0x581304(0x810)];if(!_0x591e24(_0x14b135))return!0x1;const _0x286667=_0x14b135[_0x581304(0x241)]+'-'+(_0x14b135[_0x581304(0x463)]??[])+'-'+_0x14b135[_0x581304(0x87f)]+'-'+_0x14b135[_0x581304(0x6b2)][_0x581304(0x781)],_0x2c9811={'version':_0x14b135[_0x581304(0x6b2)][_0x581304(0x952)],'element':_0x3c155e},_0x33fc69=_0x4de858[_0x581304(0xb07)](_0x286667);return _0x33fc69?(_0x33fc69[_0x581304(0x952)]>=_0x14b135[_0x581304(0x6b2)][_0x581304(0x952)]||(_0x33fc69['element'][_0x581304(0x593)]&&(_0x33fc69[_0x581304(0x8f9)][_0x581304(0x593)]['next']=_0x3c155e,_0x3c155e['previous']=_0x33fc69['element'][_0x581304(0x593)]),_0x33fc69[_0x581304(0x8f9)][_0x581304(0xb16)]&&(_0x33fc69[_0x581304(0x8f9)][_0x581304(0xb16)][_0x581304(0x593)]=_0x3c155e,_0x3c155e[_0x581304(0xb16)]=_0x33fc69[_0x581304(0x8f9)][_0x581304(0xb16)]),_0x33fc69['element']===_0x25251b['head']&&(_0x25251b[_0x581304(0x94d)]=_0x3c155e),_0x33fc69[_0x581304(0x8f9)]===_0x25251b['tail']&&(_0x25251b['tail']=_0x3c155e),_0x4de858[_0x581304(0x338)](_0x286667,_0x2c9811)),!0x0):(_0x4de858[_0x581304(0x338)](_0x286667,_0x2c9811),!0x1);}(_0x144012);},function(){const _0x185e58=a0_0x214c;_0x4de858[_0x185e58(0x567)]();});function _0x591e24(_0x322b1b){const _0x25dfa6=a0_0x214c;if(_0x322b1b&&_0x25dfa6(0x863)==typeof _0x322b1b&&_0x322b1b[_0x25dfa6(0x860)]('content')&&_0x322b1b[_0x25dfa6(0x860)](_0x25dfa6(0x87f))&&_0x322b1b['hasOwnProperty'](_0x25dfa6(0x241))){const _0x231b94=_0x322b1b;if(_0x231b94['content']&&_0x25dfa6(0x863)==typeof _0x231b94['content']&&_0x231b94[_0x25dfa6(0x6b2)][_0x25dfa6(0x860)](_0x25dfa6(0x952))&&_0x231b94[_0x25dfa6(0x6b2)][_0x25dfa6(0x860)](_0x25dfa6(0x781)))return!0x0;}return!0x1;}return _0x25251b;}(new _0x56a346(_0x2ae00b=>_0x35e20[_0x4bb850(0x8be)](_0x2ae00b),()=>_0x4ecfc3[_0x4bb850(0x7a2)](0x64))));}[_0x5f24fc(0x852)](_0x55b820){const _0x5c6740=_0x5f24fc;this[_0x5c6740(0x21c)][_0x5c6740(0xb07)](_0x55b820)?.(),this[_0x5c6740(0x21c)][_0x5c6740(0x43a)](_0x55b820),this[_0x5c6740(0x95f)]['get'](_0x55b820[_0x5c6740(0x5b7)]())?.[_0x5c6740(0x567)](),this[_0x5c6740(0x95f)]['delete'](_0x55b820[_0x5c6740(0x5b7)]());}['isConnected'](_0x302c2f){const _0x168b4f=_0x5f24fc;return _0x40d481[_0x168b4f(0x60e)](_0xb10df[_0x168b4f(0x2af)],_0x168b4f(0xa82),this[_0x168b4f(0x504)],this[_0x168b4f(0x21c)][_0x168b4f(0x6c0)]()),0x0!==this[_0x168b4f(0x21c)]['size']&&(Array['from'](this[_0x168b4f(0x21c)][_0x168b4f(0x6c0)]())[_0x168b4f(0x260)](_0xcb96d4=>_0xcb96d4['getRemoteId']()===_0x302c2f)?.[_0x168b4f(0x629)]()??!0x1);}[_0x5f24fc(0x462)](_0x238c0f){const _0x465b18=_0x5f24fc;this[_0x465b18(0x626)][_0x465b18(0x338)](_0x238c0f['getLabel'](),_0x238c0f);}[_0x5f24fc(0xb21)](_0x12b023){const _0x41bb83=_0x5f24fc;this[_0x41bb83(0x626)]['delete'](_0x12b023[_0x41bb83(0x9b0)]());}[_0x5f24fc(0x4c6)](_0x2fc02e){const _0x284af9=_0x5f24fc,_0x196872=_0x2fc02e[_0x284af9(0x6f8)](this['send'][_0x284af9(0x1ff)](this));this[_0x284af9(0x906)]['set'](_0x2fc02e[_0x284af9(0x9b0)](),_0x196872);}[_0x5f24fc(0x2c6)](_0x113e0f){const _0x31ddf7=_0x5f24fc;this[_0x31ddf7(0x906)][_0x31ddf7(0xb07)](_0x113e0f[_0x31ddf7(0x9b0)]())?.(),this[_0x31ddf7(0x906)][_0x31ddf7(0x43a)](_0x113e0f['getLabel']());}[_0x5f24fc(0x98c)](){const _0x3c60e9=_0x5f24fc;return[_0x20053a[_0x3c60e9(0x552)][_0x3c60e9(0xa11)],_0x20053a[_0x3c60e9(0x552)]['PubSub'],_0x20053a[_0x3c60e9(0x552)][_0x3c60e9(0x496)],_0x20053a[_0x3c60e9(0x552)][_0x3c60e9(0x71b)],_0x20053a[_0x3c60e9(0x552)][_0x3c60e9(0x3ba)],_0x20053a[_0x3c60e9(0x552)][_0x3c60e9(0x89f)],_0x20053a['ContentType'][_0x3c60e9(0x5ce)],_0x20053a[_0x3c60e9(0x552)][_0x3c60e9(0xab6)]];}[_0x5f24fc(0x8be)](_0xdae43){const _0x4477f=_0x5f24fc;if(!0x1===_0xdae43[_0x4477f(0x608)]){if(_0xdae43['propagate']||!_0xdae43[_0x4477f(0x463)]||0x1!==_0xdae43[_0x4477f(0x463)][_0x4477f(0x9a6)])throw new _0x4668fc(_0x4668fc[_0x4477f(0x85e)][_0x4477f(0x370)],{'message':_0x4477f(0x207),'localId':this[_0x4477f(0x504)]});if(!this[_0x4477f(0x629)](_0xdae43[_0x4477f(0x463)][0x0]))throw new _0x34bdcf(_0x4477f(0x7de));}const _0x2aa38d=_0xdae43['recipients']??[];try{const {filteredDestinationIds:_0x13e2f8,extendedRecipients:_0x2dbb98}=this[_0x4477f(0xa5d)](_0xdae43,_0x2aa38d);_0xdae43[_0x4477f(0x463)]=_0x13e2f8,_0xdae43['recipients']=_0x2dbb98;}catch(_0x98c631){if(_0x98c631 instanceof _0x34bdcf)return void _0x40d481[_0x4477f(0x60e)](_0xb10df[_0x4477f(0x2dd)],_0x4477f(0x528),_0x4477f(0x806),_0xdae43,_0x98c631[_0x4477f(0x2ba)]);}const _0x3e588e=this[_0x4477f(0x8e8)](_0xdae43);this['logPropagateSystemEvent'](_0xdae43,_0x3e588e),_0xdae43[_0x4477f(0xa5e)]=_0x3e588e;const _0x123e53=this[_0x4477f(0x360)](_0xdae43,_0x2aa38d);for(const _0x42acbe of _0x123e53){const _0x437d6a=this['retryQueues'][_0x4477f(0xb07)](_0x42acbe[_0x4477f(0x5b7)]());if(!_0x437d6a)throw new _0x4668fc(_0x4668fc['codes'][_0x4477f(0x5f0)],{'message':_0x4477f(0x3f8),'localId':this[_0x4477f(0x504)],'remoteId':_0x42acbe[_0x4477f(0x5b7)](),'data':_0xdae43});_0x437d6a[_0x4477f(0x96d)](_0xdae43);}}[_0x5f24fc(0x5b7)](){return'';}[_0x5f24fc(0x8bb)](){const _0x5242b2=_0x5f24fc;return this[_0x5242b2(0x504)];}[_0x5f24fc(0x227)](_0xb7fa7f){const _0x1d312a=_0x5f24fc;return this['messageListeners'][_0x1d312a(0x6f8)](_0xb7fa7f);}[_0x5f24fc(0xa5d)](_0x1569fe,_0x1a667c){const _0x3e2a60=_0x5f24fc,_0x2a9bc9={'filteredDestinationIds':_0x1569fe[_0x3e2a60(0x463)],'extendedRecipients':_0x1569fe[_0x3e2a60(0x2b4)]};if(!_0x1569fe['propagate'])return _0x2a9bc9;const _0x3da265=Array[_0x3e2a60(0x3ce)](this[_0x3e2a60(0x21c)][_0x3e2a60(0x6c0)]())[_0x3e2a60(0x776)](_0xf1d7d=>_0xf1d7d[_0x3e2a60(0x7a8)]()===_0x1d3b9e['Core']||_0xf1d7d[_0x3e2a60(0x629)]())[_0x3e2a60(0xa4a)](_0x2d1ddd=>_0x2d1ddd[_0x3e2a60(0x5b7)]());if(_0x3da265[_0x3e2a60(0x3a3)]((_0x50bf32,_0x142279)=>_0x50bf32&&_0x1569fe[_0x3e2a60(0x2b4)][_0x3e2a60(0x465)](_0x142279),!0x0))throw new _0x34bdcf('All\x20recipients\x20already\x20received');if(_0x1569fe[_0x3e2a60(0x463)]){const _0x2dd3b3=_0x1569fe['destinationIds'][_0x3e2a60(0x776)](_0x147a75=>_0x147a75!==this[_0x3e2a60(0x504)]&&!_0x1569fe[_0x3e2a60(0x2b4)][_0x3e2a60(0x465)](_0x147a75));if(0x0===_0x2dd3b3[_0x3e2a60(0x9a6)])throw new _0x34bdcf(_0x3e2a60(0x5c4));_0x2a9bc9[_0x3e2a60(0x719)]=_0x2dd3b3;}return _0x2a9bc9[_0x3e2a60(0x3de)]=[...new Set([..._0x1a667c,..._0x3da265,this[_0x3e2a60(0x504)]])],_0x2a9bc9;}[_0x5f24fc(0x971)](_0x11dc38,_0x79fe51=!0x1){const _0x2278b3=_0x5f24fc;if(0x0===_0x11dc38[_0x2278b3(0x3fd)]&&!_0x5cedd3(_0x11dc38,this['localId'])&&_0x11dc38[_0x2278b3(0xa5e)]){const _0xcc062e=_0x56b0fa(_0x11dc38,this[_0x2278b3(0x504)]);_0x40d481[_0x2278b3(0x3fa)](_0xb10df['System'],_0x11dc38[_0x2278b3(0x348)]+'\x20-\x20Sending\x20propagation\x20('+_0x79fe51+')\x20'+_0xcc062e,_0x11dc38,_0x79fe51);}}[_0x5f24fc(0x8e8)](_0x4a96d4){const _0xcb53d=_0x5f24fc;if(_0x4a96d4[_0xcb53d(0x463)]&&_0x4a96d4[_0xcb53d(0xa5e)]){const _0x3b82f2=Array[_0xcb53d(0x3ce)](this['connections']['keys']())[_0xcb53d(0x776)](_0x5f055e=>_0x5f055e[_0xcb53d(0x7a8)]()===_0x1d3b9e[_0xcb53d(0x749)]||_0x5f055e['isConnected']())[_0xcb53d(0xa4a)](_0x112fef=>_0x112fef[_0xcb53d(0x5b7)]());return!_0x4a96d4[_0xcb53d(0x463)][_0xcb53d(0x3a3)]((_0x336f7f,_0x19d97b)=>_0x336f7f&&_0x3b82f2['includes'](_0x19d97b),!0x0);}return _0x4a96d4['propagate']??!0x1;}['getConnectionDestinations'](_0x54b76a,_0x15b685){const _0x4cbda6=_0x5f24fc;if(_0x54b76a[_0x4cbda6(0xa5e)]&&_0x54b76a[_0x4cbda6(0x463)]){const _0x4b5cd3=Array[_0x4cbda6(0x3ce)](this['connections'][_0x4cbda6(0x6c0)]())[_0x4cbda6(0x776)](_0x40ba5f=>_0x40ba5f[_0x4cbda6(0x7a8)]()===_0x1d3b9e['Core']||_0x40ba5f[_0x4cbda6(0x629)]())[_0x4cbda6(0xa4a)](_0x1b91f0=>_0x1b91f0[_0x4cbda6(0x5b7)]()),_0x563321=new Set(),_0x2d5659=_0x54b76a['sourceId']===this['localId']?0x3:0x1;return _0x54b76a[_0x4cbda6(0x463)][_0x4cbda6(0xac8)](_0x2437de=>{const _0x5b73a=_0x4cbda6,_0x5470f3=this[_0x5b73a(0x878)][_0x5b73a(0x48e)](_0x4b5cd3,_0x2437de);let _0x5a83bd=0x0,_0x6e7a24=0x0;_0x5470f3[_0x5b73a(0xac8)](_0x5c426d=>{const _0x4dd472=_0x5b73a;if(_0x5a83bd>=_0x2d5659)return;const _0xa7089b=Array[_0x4dd472(0x3ce)](this[_0x4dd472(0x21c)][_0x4dd472(0x6c0)]())[_0x4dd472(0x260)](_0x27a6d6=>_0x27a6d6['getRemoteId']()===_0x5c426d);if(_0xa7089b){if(_0xa7089b[_0x4dd472(0x7a8)]()===_0x1d3b9e[_0x4dd472(0x749)]&&_0x6e7a24>0x0)return void(_0x6e7a24-=0x1);_0x563321[_0x4dd472(0x859)](_0xa7089b),_0xa7089b['getConnectionType']()===_0x1d3b9e[_0x4dd472(0x571)]&&(_0x6e7a24+=0x1),_0x5a83bd+=0x1;}});}),Array[_0x4cbda6(0x3ce)](_0x563321);}return Array['from'](this[_0x4cbda6(0x21c)][_0x4cbda6(0x6c0)]())[_0x4cbda6(0x776)](_0x2405d5=>{const _0x292708=_0x4cbda6;return _0x1890ce=_0x2405d5[_0x292708(0x5b7)](),!_0x15b685['includes'](_0x1890ce)&&(_0x4ea9f8(_0x54b76a,_0x1890ce)||_0x54b76a[_0x292708(0xa5e)])&&(!_0x54b76a['propagate']||_0x2405d5[_0x292708(0x629)]()||_0x2405d5[_0x292708(0x7a8)]()===_0x1d3b9e[_0x292708(0x749)]);var _0x1890ce;});}}class _0xb16691{[_0x5f24fc(0x504)];[_0x5f24fc(0x1ef)];[_0x5f24fc(0x21c)]=new Map();['systemTopic'];constructor(_0xfb262e,_0x5e5437){this['localId']=_0xfb262e,this['messageBuffer']=_0x5e5437;}[_0x5f24fc(0x7ef)](){}['send'](_0x2d3a6d){const _0x1c728e=_0x5f24fc;for(const _0x14ffaa of this[_0x1c728e(0x21c)][_0x1c728e(0x6c0)]())try{return void _0x14ffaa['send']({'retry':!0x1,..._0x2d3a6d});}catch(_0x46902d){_0x46902d instanceof _0x34bdcf||_0x40d481[_0x1c728e(0x60e)](_0xb10df['Pool'],_0x1c728e(0xa0a)+_0x14ffaa,_0x46902d,_0x2d3a6d);}_0x40d481[_0x1c728e(0x60e)](_0xb10df['Pool'],_0x1c728e(0x208));}[_0x5f24fc(0x333)](_0x41c1c0){const _0x5d5dbf=_0x5f24fc,_0x21cd10=_0x41c1c0[_0x5d5dbf(0x227)](_0x537299=>{const _0x279a08=_0x5d5dbf;this[_0x279a08(0x1ef)][_0x279a08(0x5d5)](_0x537299[_0x279a08(0x348)])||0x0===_0x537299[_0x279a08(0x3fd)]&&(this[_0x279a08(0x1ef)]['addMessage'](_0x537299['uuid']),_0x4ea9f8(_0x537299,this[_0x279a08(0x504)])&&this[_0x279a08(0x541)]?.[_0x279a08(0x803)](_0x537299));});this['connections']['set'](_0x41c1c0,_0x21cd10);}[_0x5f24fc(0x852)](_0x4ce02b){const _0x281714=_0x5f24fc;this[_0x281714(0x21c)][_0x281714(0xb07)](_0x4ce02b)?.(),this[_0x281714(0x21c)]['delete'](_0x4ce02b);}[_0x5f24fc(0x8bb)](){return this['localId'];}[_0x5f24fc(0x5b7)](){return'';}[_0x5f24fc(0x98c)](){const _0x33a504=_0x5f24fc;return[_0x20053a[_0x33a504(0x552)][_0x33a504(0xa11)]];}[_0x5f24fc(0x629)](){const _0x33cc1b=_0x5f24fc;throw new Error(_0x33cc1b(0x5ae));}[_0x5f24fc(0xaf7)](_0x4f1b7d){this['systemTopic']=_0x4f1b7d;}['unregisterSystemPublisher'](){const _0xb2feed=_0x5f24fc;delete this[_0xb2feed(0x541)];}}class _0x572ace{['buffer']=new Map();['unsubscribeHandler'];constructor(){const _0x10c658=_0x5f24fc;this[_0x10c658(0x892)]=_0x4ecfc3[_0x10c658(0x668)](()=>{const _0x5295a6=_0x10c658;for(const [_0x20115b,_0x48e07c]of this[_0x5295a6(0x2a8)][_0x5295a6(0x8f3)]())Date[_0x5295a6(0x2c1)]()-_0x48e07c>0x124f80&&this['buffer']['delete'](_0x20115b);},0x1d4c0);}[_0x5f24fc(0x7ef)](){this['unsubscribeHandler']();}[_0x5f24fc(0x839)](_0x69de3b){const _0x53cd41=_0x5f24fc;this[_0x53cd41(0x2a8)][_0x53cd41(0x338)](_0x69de3b,Date[_0x53cd41(0x2c1)]());}['hasMessage'](_0x67ac5d){const _0x47771c=_0x5f24fc;return this[_0x47771c(0x2a8)][_0x47771c(0x4cb)](_0x67ac5d);}}class _0x2dfe8e{[_0x5f24fc(0x6c1)];[_0x5f24fc(0x6de)];[_0x5f24fc(0x972)];[_0x5f24fc(0x49b)];['connections']=new Map();[_0x5f24fc(0x741)];[_0x5f24fc(0x602)];[_0x5f24fc(0xa5a)];['messageBuffer'];constructor(_0x5e880e,_0xb47cb,_0x5b25c9,_0x2c00be,_0x2fab0d){const _0x3f652d=_0x5f24fc;this[_0x3f652d(0x6c1)]=_0x5e880e,this['authService']=_0xb47cb,this['iceServers']=_0x2c00be,this[_0x3f652d(0x49b)]=_0x2fab0d,this[_0x3f652d(0x1ef)]=new _0x572ace(),this[_0x3f652d(0x602)]=new _0x351ef9(this[_0x3f652d(0x6c1)][_0x3f652d(0x8ad)][_0x3f652d(0x6e8)](),this[_0x3f652d(0x1ef)],_0x5b25c9),this[_0x3f652d(0xa5a)]=new _0xd3a9b5(this['configs'][_0x3f652d(0x240)],this[_0x3f652d(0x6c1)][_0x3f652d(0x412)],this['configs'][_0x3f652d(0x8ad)],_0x3f652d(0x312),this[_0x3f652d(0x6de)]),this[_0x3f652d(0x741)]=new _0xb16691(this[_0x3f652d(0x6c1)][_0x3f652d(0x8ad)][_0x3f652d(0x6e8)](),this[_0x3f652d(0x1ef)]),this[_0x3f652d(0x741)]['addConnection'](this['connectionGroup']),this[_0x3f652d(0x741)][_0x3f652d(0x333)](this[_0x3f652d(0xa5a)]),this['configs'][_0x3f652d(0xae2)][_0x3f652d(0x545)](this[_0x3f652d(0x741)]);}[_0x5f24fc(0x7ef)](){const _0x380377=_0x5f24fc;this[_0x380377(0x1ef)]['close'](),this[_0x380377(0x21c)][_0x380377(0xac8)]((_0x52eb0e,_0x196cf5)=>this[_0x380377(0x64c)](_0x196cf5)),this['configs']['mediator'][_0x380377(0x580)](this[_0x380377(0x741)]),this[_0x380377(0x741)][_0x380377(0x852)](this[_0x380377(0xa5a)]),this[_0x380377(0x741)]['removeConnection'](this[_0x380377(0x602)]),this['connectionPool'][_0x380377(0x7ef)](),this[_0x380377(0xa5a)][_0x380377(0x7ef)](),this[_0x380377(0x602)][_0x380377(0x7ef)]();}async[_0x5f24fc(0xa75)](){const _0x307fbf=_0x5f24fc;await this[_0x307fbf(0xa5a)]['connect']();}async[_0x5f24fc(0x7e1)](_0x4d1f0d,_0x2f4f1a=_0x1d3b9e[_0x5f24fc(0x749)]){const _0x509f4e=_0x5f24fc;if(this[_0x509f4e(0x21c)][_0x509f4e(0x4cb)](_0x4d1f0d)){if(this[_0x509f4e(0x21c)][_0x509f4e(0xb07)](_0x4d1f0d)?.[_0x509f4e(0x7a8)]()===_0x1d3b9e[_0x509f4e(0x571)]&&_0x2f4f1a===_0x1d3b9e[_0x509f4e(0x749)])return void this[_0x509f4e(0x21c)]['get'](_0x4d1f0d)?.[_0x509f4e(0x2f4)](_0x1d3b9e[_0x509f4e(0x749)]);throw new _0x4668fc(_0x4668fc['codes']['RemoteConnectionExists'],{'localId':this[_0x509f4e(0x6c1)][_0x509f4e(0x8ad)]['getId'](),'remoteId':_0x4d1f0d});}const _0x54e5b8=new _0x588500(this[_0x509f4e(0x6c1)][_0x509f4e(0x412)],this['configs']['localNode'],_0x4d1f0d,this[_0x509f4e(0x972)],_0x2f4f1a,this[_0x509f4e(0x49b)]['maxFps'],this['options']['maxBpp'],this['options'][_0x509f4e(0x689)]);this[_0x509f4e(0x21c)][_0x509f4e(0x338)](_0x4d1f0d,_0x54e5b8),this[_0x509f4e(0x602)][_0x509f4e(0x333)](_0x54e5b8),this[_0x509f4e(0x6c1)]['mediator']['registerSystemSource'](_0x54e5b8),this[_0x509f4e(0x6c1)][_0x509f4e(0xae2)][_0x509f4e(0x70e)](_0x4d1f0d),await _0x54e5b8['connect']();}[_0x5f24fc(0x29d)](){return this['connectionGroup'];}[_0x5f24fc(0xa92)](_0x55c95d){const _0x21c926=_0x5f24fc;if(!this[_0x21c926(0x21c)][_0x21c926(0x4cb)](_0x55c95d))throw new _0x4668fc(_0x4668fc['codes'][_0x21c926(0xa02)],{'localId':this[_0x21c926(0x6c1)]['localNode'][_0x21c926(0x6e8)](),'remoteId':_0x55c95d});return this[_0x21c926(0x21c)][_0x21c926(0xb07)](_0x55c95d);}['getConnections'](_0x5b9075){const _0x4a425d=_0x5f24fc,_0x219f29=Array[_0x4a425d(0x3ce)](this['connections'][_0x4a425d(0x9af)]());return _0x5b9075?_0x219f29[_0x4a425d(0x776)](_0x5b9075):_0x219f29;}async[_0x5f24fc(0xae0)](_0x1ece71){const _0x558017=_0x5f24fc,_0x58ccc2=this[_0x558017(0x21c)][_0x558017(0xb07)](_0x1ece71);_0x58ccc2&&_0x58ccc2[_0x558017(0x629)]()&&await _0x58ccc2[_0x558017(0xae0)]();}[_0x5f24fc(0x7a6)](_0x3e5013){const _0x50c3ad=_0x5f24fc;if(_0x3e5013[_0x50c3ad(0x87f)]!==_0x31112d['PeerConnection']||_0x3e5013[_0x50c3ad(0xa5e)])try{this['connectionGroup'][_0x50c3ad(0x8be)](_0x3e5013);}catch(_0xfa837c){if(_0xfa837c instanceof _0x34bdcf)return;throw _0xfa837c;}else this[_0x50c3ad(0x741)][_0x50c3ad(0x8be)](_0x3e5013);}async['handlePeerConnectionSystemEvents'](_0x1fad4e){const _0x2fab83=_0x5f24fc;switch(_0x1fad4e[_0x2fab83(0x6b2)][_0x2fab83(0x781)]){case _0x1c3bcf[_0x2fab83(0x6db)]:case _0x1c3bcf[_0x2fab83(0x7d3)]:case _0x1c3bcf[_0x2fab83(0xa54)]:return;}if(!_0x1fad4e[_0x2fab83(0x463)]||0x1!==_0x1fad4e[_0x2fab83(0x463)][_0x2fab83(0x9a6)])throw new _0x4668fc(_0x4668fc['codes']['PeerConnectionInvalidDestination'],{'message':_0x2fab83(0x52c),'event':_0x1fad4e});if(_0x1fad4e[_0x2fab83(0x463)][0x0]!==this['configs'][_0x2fab83(0x8ad)]['getId']())throw new _0x4668fc(_0x4668fc[_0x2fab83(0x85e)]['PeerConnectionInvalidDestination'],{'message':_0x2fab83(0xaf6),'event':_0x1fad4e});if(!this[_0x2fab83(0x21c)]['has'](_0x1fad4e[_0x2fab83(0x241)])){let _0x2acf63=_0x1d3b9e[_0x2fab83(0x749)];if(!(this[_0x2fab83(0x872)](_0x1fad4e[_0x2fab83(0x6b2)])||this['isIceCandidate'](_0x1fad4e[_0x2fab83(0x6b2)])||this[_0x2fab83(0x38c)](_0x1fad4e['content'])))return;_0x2acf63=_0x1fad4e[_0x2fab83(0x6b2)][_0x2fab83(0x691)],await this[_0x2fab83(0x7e1)](_0x1fad4e['sourceId'],_0x2acf63);}const _0x2f3c9c=this['connections'][_0x2fab83(0xb07)](_0x1fad4e[_0x2fab83(0x241)]);await _0x2f3c9c[_0x2fab83(0x3b5)](_0x1fad4e);}[_0x5f24fc(0x73d)](_0x5aced2){const _0x540c51=_0x5f24fc;if(_0x5aced2['content'][_0x540c51(0x781)]===_0x3810f9['Remediation']){if(_0x5aced2[_0x540c51(0x6b2)]['targetId']===this[_0x540c51(0x6c1)][_0x540c51(0x8ad)][_0x540c51(0x6e8)]())return void this[_0x540c51(0x21c)][_0x540c51(0xac8)](_0x2a5a08=>_0x2a5a08['handleRemediationSystemEvents'](_0x5aced2));this[_0x540c51(0x21c)][_0x540c51(0xb07)](_0x5aced2['content'][_0x540c51(0x33d)])?.[_0x540c51(0x73d)](_0x5aced2);}}[_0x5f24fc(0x8f7)]({content:_0x259786}){const _0x3d9441=_0x5f24fc;_0x259786['type']===_0x4c7147[_0x3d9441(0xa70)]&&this[_0x3d9441(0x64c)](_0x259786['id']);}[_0x5f24fc(0x4a0)](){const _0x1077d4=_0x5f24fc,_0x2dc69a=Array[_0x1077d4(0x3ce)](this['connections'][_0x1077d4(0x9af)]())[_0x1077d4(0x3a3)]((_0x5057b7,_0x1a4be4)=>_0x5057b7+_0x1a4be4['calculateArrayBufferSize'](),0x0);return _0x2dc69a<_0x13667e?Promise[_0x1077d4(0x92e)](_0x2dc69a):new Promise(_0x13a056=>{const _0x56fe81=setInterval(()=>{const _0x1475be=a0_0x214c,_0x19b7f6=Array[_0x1475be(0x3ce)](this[_0x1475be(0x21c)][_0x1475be(0x9af)]())[_0x1475be(0x3a3)]((_0x115fe7,_0x292b4e)=>_0x115fe7+_0x292b4e[_0x1475be(0x276)](),0x0);_0x19b7f6<_0x13667e&&(clearInterval(_0x56fe81),_0x13a056(_0x19b7f6));},0x3e8);});}['hasBufferedData'](){const _0x58ab18=_0x5f24fc;for(const _0x14ef93 of this[_0x58ab18(0x21c)][_0x58ab18(0x9af)]())if(_0x14ef93[_0x58ab18(0x513)]()>0x0||_0x14ef93[_0x58ab18(0x276)]()>0x0)return!0x0;return!0x1;}['closeConnection'](_0x3adef7){const _0x57e784=_0x5f24fc,_0x5a0bad=this[_0x57e784(0x21c)][_0x57e784(0xb07)](_0x3adef7);_0x5a0bad&&(this[_0x57e784(0x6c1)][_0x57e784(0xae2)]['unregisterRemoteNode'](_0x3adef7),this[_0x57e784(0x6c1)][_0x57e784(0xae2)]['unregisterSystemSource'](_0x5a0bad),_0x5a0bad instanceof _0x588500&&this[_0x57e784(0x602)][_0x57e784(0x852)](_0x5a0bad),_0x5a0bad['close'](),this[_0x57e784(0x21c)][_0x57e784(0x43a)](_0x3adef7));}['isOffer'](_0xf374d4){const _0x5645e6=_0x5f24fc;return _0xf374d4[_0x5645e6(0x781)]===_0x1c3bcf[_0x5645e6(0x4be)];}['isNeedRestart'](_0x40708b){const _0x12068e=_0x5f24fc;return _0x40708b[_0x12068e(0x781)]===_0x1c3bcf[_0x12068e(0x77d)];}[_0x5f24fc(0xb01)](_0x4706ee){const _0x3e9a26=_0x5f24fc;return _0x4706ee[_0x3e9a26(0x781)]===_0x1c3bcf[_0x3e9a26(0x6ab)];}}!function(_0x1e9f98){const _0x704f6f=_0x5f24fc;_0x1e9f98[_0x1e9f98[_0x704f6f(0x390)]=0x0]=_0x704f6f(0x390),_0x1e9f98[_0x1e9f98[_0x704f6f(0x3e3)]=0x1]=_0x704f6f(0x3e3),_0x1e9f98[_0x1e9f98['UnsubscribeMediaStream']=0x2]=_0x704f6f(0x9fe),_0x1e9f98[_0x1e9f98['NeedMediaStream']=0x3]='NeedMediaStream',_0x1e9f98[_0x1e9f98[_0x704f6f(0x53a)]=0x4]=_0x704f6f(0x53a),_0x1e9f98[_0x1e9f98[_0x704f6f(0x607)]=0x5]='CanProvideMediaStream',_0x1e9f98[_0x1e9f98[_0x704f6f(0x475)]=0x6]=_0x704f6f(0x475),_0x1e9f98[_0x1e9f98[_0x704f6f(0xb05)]=0x7]=_0x704f6f(0xb05);}(_0x34d6dd||(_0x34d6dd={}));class _0x5e6dea extends _0x303f2a{['localNode'];['clusterId'];[_0x5f24fc(0x240)];['connectorConstructor'];[_0x5f24fc(0x8da)];[_0x5f24fc(0x2e4)]=0x0;['connector'];[_0x5f24fc(0xae7)]=_0x449c97();[_0x5f24fc(0x5f8)]=new Map();[_0x5f24fc(0x36b)];constructor(_0x5672db,_0x25e920,_0x43104c,_0x415556,_0x38df03){const _0x2b0c92=_0x5f24fc;if('string'!=typeof _0x25e920)throw new _0x55ecf3(_0x2efe49[_0x2b0c92(0xb3f)],'Cannot\x20create\x20External\x20Storage:\x20Name\x20must\x20be\x20a\x20string');super(_0x5672db,_0x25e920),this[_0x2b0c92(0x8ad)]=_0x5672db,this[_0x2b0c92(0x412)]=_0x43104c,this[_0x2b0c92(0x240)]=_0x415556,this[_0x2b0c92(0x69b)]=_0x38df03,this[_0x2b0c92(0x53c)]();}[_0x5f24fc(0x8fd)](){const _0xf0d604=_0x5f24fc;this[_0xf0d604(0x36b)]?.(),this[_0xf0d604(0x5f8)][_0xf0d604(0xac8)](_0x5671a9=>_0x5671a9()),clearTimeout(this[_0xf0d604(0x8da)]),delete this[_0xf0d604(0x8da)],super[_0xf0d604(0x8fd)]();}[_0x5f24fc(0x6d5)](){this['sendStats']();}[_0x5f24fc(0x7ef)](){const _0x4b3878=_0x5f24fc;this[_0x4b3878(0x541)][_0x4b3878(0x803)]({'sourceId':_0x7cf9e6,'messageType':_0x31112d[_0x4b3878(0x209)],'content':{'type':_0x21c730[_0x4b3878(0xa35)],'label':this[_0x4b3878(0xa85)]}});}[_0x5f24fc(0xadb)](){const _0x2ff944=_0x5f24fc;return _0x20053a[_0x2ff944(0x552)][_0x2ff944(0xab6)];}async['get'](_0x1d4961){const _0x1a3dfb=_0x5f24fc;if(!this['connector'])throw new _0x55ecf3(_0x2efe49[_0x1a3dfb(0x2e2)],'Cannot\x20get\x20file:\x20External\x20Storage\x20not\x20connected');_0x40d481['logServiceEvent'](_0x267c89['ExternalStorage'],{'type':_0x1a3dfb(0xb07),'label':this[_0x1a3dfb(0xa85)],'nodeId':this['localNode'][_0x1a3dfb(0x6e8)](),'nodeType':this['localNode'][_0x1a3dfb(0x781)],'clusterId':this[_0x1a3dfb(0x412)],'path':_0x1d4961}),this[_0x1a3dfb(0x2e4)]+=0x1,this[_0x1a3dfb(0x53c)]();try{return await this[_0x1a3dfb(0x2eb)][_0x1a3dfb(0xb07)](_0x1d4961);}catch(_0x8d99e){throw new _0x55ecf3(_0x2efe49[_0x1a3dfb(0x420)],_0x1a3dfb(0x68e)+_0x1d4961);}}async[_0x5f24fc(0x46f)](_0x382aab,_0x1422ea){const _0x843b62=_0x5f24fc;if(!this[_0x843b62(0x2eb)])throw new _0x55ecf3(_0x2efe49[_0x843b62(0x2e2)],'Cannot\x20list\x20directory:\x20External\x20Storage\x20not\x20connected');const {recursive:_0x2a9b6a=!0x1}=_0x1422ea??{};_0x40d481[_0x843b62(0xade)](_0x267c89[_0x843b62(0xab6)],{'type':_0x843b62(0x46f),'label':this[_0x843b62(0xa85)],'nodeId':this[_0x843b62(0x8ad)][_0x843b62(0x6e8)](),'nodeType':this[_0x843b62(0x8ad)][_0x843b62(0x781)],'clusterId':this['clusterId'],'path':_0x382aab}),this['reads']+=0x1,this[_0x843b62(0x53c)]();try{return await this[_0x843b62(0x2eb)][_0x843b62(0x46f)](_0x382aab,_0x2a9b6a);}catch(_0x39f33b){throw new _0x55ecf3(_0x2efe49[_0x843b62(0x420)],_0x843b62(0x2fa)+_0x382aab);}}[_0x5f24fc(0x6f8)](_0x43380c,_0x571726){const _0x2eb91a=_0x5f24fc;if(this[_0x2eb91a(0x5f8)]['has'](_0x43380c))throw new _0x55ecf3(_0x2efe49['ExternalStorageConnectionAlreadySubscribed'],_0x2eb91a(0xa39));this[_0x2eb91a(0x5f8)][_0x2eb91a(0x338)](_0x43380c,this[_0x2eb91a(0xae7)][_0x2eb91a(0x6f8)](_0x571726));}[_0x5f24fc(0xac2)](_0x45b1b1){const _0x23170b=_0x5f24fc;this[_0x23170b(0x5f8)][_0x23170b(0xb07)](_0x45b1b1)?.(),this[_0x23170b(0x5f8)]['delete'](_0x45b1b1);}async['open'](){const _0x9d404e=_0x5f24fc,_0x95377d=(await(0x0,_0x1d5bc0[_0x9d404e(0x2ee)])((0x0,_0x1d5bc0[_0x9d404e(0x1f8)])(_0x47e6c0[_0x9d404e(0x422)](),'/developers/'+this[_0x9d404e(0x240)]+_0x9d404e(0x9bb)+this[_0x9d404e(0xa85)])))[_0x9d404e(0x3b9)]();if(!_0x95377d)throw new _0x55ecf3(_0x2efe49[_0x9d404e(0x3fc)],'Cannot\x20find\x20External\x20Storage\x20connection:\x20'+this[_0x9d404e(0xa85)]);const {site:_0x1581f7,drive:_0x1c0610}=_0x95377d,_0xad0c92=(await(0x0,_0x5620ee[_0x9d404e(0x6af)])(_0x47e6c0[_0x9d404e(0xb2f)](),_0x9d404e(0xa62))({'storageId':this[_0x9d404e(0xa85)]}))[_0x9d404e(0x3b9)][_0x9d404e(0x437)];this[_0x9d404e(0x2eb)]=new this[(_0x9d404e(0x69b))](_0x1581f7['id'],_0x1c0610['id'],_0xad0c92,async()=>(await(0x0,_0x5620ee['httpsCallable'])(_0x47e6c0[_0x9d404e(0xb2f)](),'msalRefreshToken')({'storageId':this['label']}))[_0x9d404e(0x3b9)][_0x9d404e(0x437)]),this[_0x9d404e(0x612)]();}[_0x5f24fc(0x53c)](){const _0x2f5285=_0x5f24fc;this[_0x2f5285(0x8da)]&&clearTimeout(this['debounceStats']),this[_0x2f5285(0x8da)]=setTimeout(async()=>{const _0x3e9f2b=_0x2f5285;delete this[_0x3e9f2b(0x8da)],this[_0x3e9f2b(0x541)]['publish']({'sourceId':_0x7cf9e6,'messageType':_0x31112d[_0x3e9f2b(0x209)],'content':{'type':_0x21c730['ExternalStorageStats'],'label':this[_0x3e9f2b(0xa85)],'stats':{'timestamp':Date[_0x3e9f2b(0x2c1)](),'storage':0x0,'messagesSent':0x0,'messagesReceived':0x0,'bytesSent':0x0,'bytesReceived':0x0,'writes':0x0,'reads':this['reads'],'prompts':0x0,'tokens':0x0}}});},_0x4a5b22);}async[_0x5f24fc(0x612)](){const _0x3cb181=_0x5f24fc;await this[_0x3cb181(0x2eb)]?.[_0x3cb181(0x9a2)](),this[_0x3cb181(0x36b)]=_0x4ecfc3[_0x3cb181(0x668)](async()=>{const _0x2976f7=_0x3cb181;try{if(!this[_0x2976f7(0x2eb)])return;const _0x5aafde=await this[_0x2976f7(0x2eb)][_0x2976f7(0x9a2)]();for(const _0x478f49 of _0x5aafde)this[_0x2976f7(0xae7)][_0x2976f7(0x803)](_0x478f49);}catch(_0x37a66d){}},0x493e0);}}const _0x1834fa=require('rxjs');class _0x39d7ea extends _0x303f2a{[_0x5f24fc(0x878)];[_0x5f24fc(0x93a)]=new Map();[_0x5f24fc(0xb0d)]=new Map();[_0x5f24fc(0x5b6)]=new Map();[_0x5f24fc(0x892)];constructor(_0x3f4739,_0xab60b5,_0x577729){const _0x48695e=_0x5f24fc;super(_0x3f4739,_0xab60b5),this[_0x48695e(0x878)]=_0x577729;}[_0x5f24fc(0xadb)](){const _0x424805=_0x5f24fc;return _0x20053a[_0x424805(0x552)]['Job'];}[_0x5f24fc(0x791)](){const _0x2834ef=_0x5f24fc;this[_0x2834ef(0x892)]=this[_0x2834ef(0x227)]((_0x5cc5c5,_0x3ee507)=>{const _0x377f9b=_0x2834ef;if(_0x40d481[_0x377f9b(0x60e)](_0xb10df[_0x377f9b(0x341)],_0x377f9b(0x585),_0x5cc5c5,_0x3ee507,this[_0x377f9b(0x878)][_0x377f9b(0x97b)]()),!(_0x3ee507 instanceof File)){if(!_0x3ee507)throw new _0x4668fc(_0x4668fc['codes']['JobDispatcherInvalidPayload']);return this[_0x377f9b(0x4ff)](_0x3ee507)?this['addBidResponse'](_0x5cc5c5,_0x3ee507['id'],_0x3ee507):this[_0x377f9b(0x738)](_0x3ee507)?(_0x40d481['log'](_0xb10df[_0x377f9b(0x341)],_0x377f9b(0x362)+_0x3ee507['id']+_0x377f9b(0x2a1),_0x3ee507['result']),void this['evaluatePartialJob'](_0x3ee507['id'],_0x3ee507)):this[_0x377f9b(0x5b4)](_0x3ee507)?(_0x40d481[_0x377f9b(0x60e)](_0xb10df[_0x377f9b(0x341)],_0x377f9b(0x362)+_0x3ee507['id']+_0x377f9b(0x97e),_0x3ee507[_0x377f9b(0x8dc)]),void this[_0x377f9b(0x89c)](_0x3ee507['id'],_0x3ee507)):void(this[_0x377f9b(0x50a)](_0x3ee507)&&this[_0x377f9b(0x44c)](_0x3ee507['id'],_0x3ee507[_0x377f9b(0x2ba)]));}});}[_0x5f24fc(0x6d5)](){const _0xbb18fa=_0x5f24fc;this['clear'](),this[_0xbb18fa(0x791)]();}['destroy'](){const _0x2df9e7=_0x5f24fc;this['clear'](),super[_0x2df9e7(0x8fd)]();}['clear'](){const _0x525c94=_0x5f24fc;this[_0x525c94(0x93a)][_0x525c94(0x567)](),this[_0x525c94(0x892)]&&this['unsubscribeHandler']();}[_0x5f24fc(0x7ef)](){const _0xfa177f=_0x5f24fc;this['systemTopic']?.[_0xfa177f(0x803)]({'sourceId':_0x7cf9e6,'messageType':_0x31112d['Content'],'content':{'type':_0x21c730[_0xfa177f(0x22c)],'label':this[_0xfa177f(0xa85)]}});}async[_0x5f24fc(0x52f)](_0x343455){const _0xaa34b0=_0x5f24fc,{id:_0x38ff78,parameters:_0x3d5245,jobType:_0x268f36}=_0x343455,_0x181fc3={'id':_0x38ff78,'jobType':_0x268f36,'parameters':_0x3d5245,'status':_0x20053a['JobStatus']['Pending'],'created':new Date(),'updated':new Date()};if(this[_0xaa34b0(0x93a)][_0xaa34b0(0x4cb)](_0x181fc3['id']))throw new _0x55ecf3(_0x2efe49['JobDispatcherJobExists'],'Job\x20with\x20id\x20'+_0x181fc3['id']+'\x20already\x20exists.');_0x181fc3['created']=new Date(),_0x181fc3[_0xaa34b0(0x630)]=new Date();const _0x812b14=new _0x1834fa[(_0xaa34b0(0x3e8))]();this['jobs']['set'](_0x181fc3['id'],_0x181fc3),this[_0xaa34b0(0xb0d)]['set'](_0x181fc3['id'],_0x812b14);try{const _0x1aeaf6={'id':_0x181fc3['id'],'jobPhase':_0xbd2ef4[_0xaa34b0(0x5bf)],'jobType':_0x181fc3[_0xaa34b0(0x3da)]},_0x480eb9=0x3;let _0x48c8d9=0x0;const _0x269449=async()=>{const _0x3a7a7f=_0xaa34b0;_0x48c8d9+=0x1;try{_0x40d481[_0x3a7a7f(0x60e)](_0xb10df[_0x3a7a7f(0x341)],_0x3a7a7f(0x362)+_0x181fc3['id']+_0x3a7a7f(0x8a6)+_0x48c8d9+'.',this[_0x3a7a7f(0x878)][_0x3a7a7f(0x97b)]()),await this['send'](_0x1aeaf6),_0x181fc3[_0x3a7a7f(0x630)]=new Date(),this[_0x3a7a7f(0x93a)][_0x3a7a7f(0x338)](_0x181fc3['id'],_0x181fc3),this['startBidResponseHandling'](_0x181fc3['id']);}catch(_0x29341e){_0x48c8d9<_0x480eb9?(_0x40d481['warning'](_0x3a7a7f(0xb2c)+_0x48c8d9+_0x3a7a7f(0xaca)+_0x181fc3['id']+'\x20failed.\x20Retrying...',{'nodeId':this['owner'][_0x3a7a7f(0x6e8)](),'nodeType':this[_0x3a7a7f(0x8d7)][_0x3a7a7f(0x781)],'data':{'job':_0x181fc3,'attempts':_0x48c8d9,'maxRetries':_0x480eb9}}),setTimeout(_0x269449,0x3e8)):(_0x181fc3[_0x3a7a7f(0x524)]=_0x20053a[_0x3a7a7f(0x727)][_0x3a7a7f(0x7f4)],_0x181fc3[_0x3a7a7f(0x630)]=new Date(),this[_0x3a7a7f(0x93a)][_0x3a7a7f(0x338)](_0x181fc3['id'],_0x181fc3),_0x40d481[_0x3a7a7f(0x4d2)]('Failed\x20to\x20send\x20job\x20'+_0x181fc3['id']+_0x3a7a7f(0x1f0)+_0x480eb9+_0x3a7a7f(0x5d8),{'nodeId':this[_0x3a7a7f(0x8d7)]['getId'](),'nodeType':this[_0x3a7a7f(0x8d7)][_0x3a7a7f(0x781)],'data':{'job':_0x181fc3,'attempts':_0x48c8d9,'maxRetries':_0x480eb9,'error':_0x29341e}}));}};_0x269449();const {id:_0x425b94}=_0x181fc3;this[_0xaa34b0(0x2e1)](_0xaa34b0(0x362)+_0x181fc3['id']+_0xaa34b0(0x72e),{'jobId':_0x425b94}),_0x181fc3[_0xaa34b0(0x630)]=new Date();}catch(_0x17ab49){_0x181fc3['status']=_0x20053a[_0xaa34b0(0x727)][_0xaa34b0(0x7f4)],_0x40d481[_0xaa34b0(0x4d2)](_0xaa34b0(0x846)+_0x181fc3['id']+':',{'nodeId':this['owner'][_0xaa34b0(0x6e8)](),'nodeType':this[_0xaa34b0(0x8d7)][_0xaa34b0(0x781)],'data':{'job':_0x181fc3,'error':_0x17ab49}});}return _0x812b14[_0xaa34b0(0x400)]();}[_0x5f24fc(0xac9)](_0x268f87){const _0x473d83=_0x5f24fc,_0x364127=this['jobs'][_0x473d83(0xb07)](_0x268f87);if(!_0x364127)throw new _0x55ecf3(_0x2efe49[_0x473d83(0x37e)],'Job\x20with\x20id\x20'+_0x268f87+_0x473d83(0x259));return{'id':_0x364127['id'],'jobType':_0x364127[_0x473d83(0x3da)],'status':_0x364127[_0x473d83(0x524)],'parameters':_0x364127['parameters']};}[_0x5f24fc(0x560)](){const _0x4d35d2=_0x5f24fc;return Array[_0x4d35d2(0x3ce)](this[_0x4d35d2(0x93a)][_0x4d35d2(0x9af)]())[_0x4d35d2(0xa4a)](_0x25e21d=>this[_0x4d35d2(0xac9)](_0x25e21d['id']));}async[_0x5f24fc(0x327)](_0x31b317,_0x5311bb){const _0xb9b88b=_0x5f24fc,_0x1bbf1e=this['jobs'][_0xb9b88b(0xb07)](_0x31b317);if(!_0x1bbf1e)throw new _0x55ecf3(_0x2efe49[_0xb9b88b(0x37e)],_0xb9b88b(0x55c)+_0x31b317+_0xb9b88b(0x259));_0x1bbf1e[_0xb9b88b(0x79c)]=_0x5311bb,_0x1bbf1e['updated']=new Date(),this[_0xb9b88b(0x93a)][_0xb9b88b(0x338)](_0x31b317,_0x1bbf1e);}async[_0x5f24fc(0x789)](_0x40fd09){const _0x4d9be7=_0x5f24fc;if(!this[_0x4d9be7(0x93a)][_0x4d9be7(0x43a)](_0x40fd09))throw new _0x55ecf3(_0x2efe49[_0x4d9be7(0x37e)],_0x4d9be7(0x55c)+_0x40fd09+_0x4d9be7(0x259));const _0x330ad2=this[_0x4d9be7(0xb0d)][_0x4d9be7(0xb07)](_0x40fd09);if(!_0x330ad2)throw new _0x4668fc(_0x4668fc[_0x4d9be7(0x85e)][_0x4d9be7(0x880)]);_0x330ad2['complete'](),this[_0x4d9be7(0xb0d)]['delete'](_0x40fd09),_0x40d481['log'](_0xb10df[_0x4d9be7(0x341)],_0x4d9be7(0x362)+_0x40fd09+_0x4d9be7(0x697));}[_0x5f24fc(0x305)](_0x21bf19,_0x25de5b,_0x132470){const _0x45ca67=_0x5f24fc,_0x4ba5d7=this['jobBids']['get'](_0x25de5b)??new Map();_0x4ba5d7[_0x45ca67(0x338)](_0x21bf19,[_0x132470,Date[_0x45ca67(0x2c1)]()]),this[_0x45ca67(0x5b6)][_0x45ca67(0x338)](_0x25de5b,_0x4ba5d7),this[_0x45ca67(0x946)](_0x25de5b);}[_0x5f24fc(0x939)](_0x49a9a5){const _0x5417c3=_0x5f24fc,_0x5a3b40=this[_0x5417c3(0x93a)][_0x5417c3(0xb07)](_0x49a9a5);if(!_0x5a3b40)throw new _0x4668fc(_0x4668fc[_0x5417c3(0x85e)]['JobDispatcherJobNotFound']);const _0xae6e1d=setTimeout(()=>this[_0x5417c3(0x946)](_0x49a9a5,!0x0),0xbb8);_0x5a3b40[_0x5417c3(0x943)]=_0xae6e1d,this[_0x5417c3(0x93a)][_0x5417c3(0x338)](_0x5a3b40['id'],_0x5a3b40);}[_0x5f24fc(0x946)](_0xb68791,_0x512531=!0x1){const _0x57000d=_0x5f24fc,_0xbe1f64=this[_0x57000d(0x878)][_0x57000d(0x97b)](),_0xc19967=Array[_0x57000d(0x3ce)](_0xbe1f64[_0x57000d(0x9af)]())[_0x57000d(0x776)](_0x574e6d=>_0x574e6d['type']===_0x20053a[_0x57000d(0x6c8)][_0x57000d(0x723)]),_0x1254fb=this['jobBids'][_0x57000d(0xb07)](_0xb68791)??new Map();if(!_0x512531&&(!_0x1254fb||_0x1254fb[_0x57000d(0x58d)]<_0xc19967['length']))return;const _0x386a60=this[_0x57000d(0x93a)][_0x57000d(0xb07)](_0xb68791);if(!_0x386a60)throw new _0x4668fc(_0x4668fc[_0x57000d(0x85e)][_0x57000d(0x37e)]);if(clearTimeout(_0x386a60[_0x57000d(0x943)]),_0x40d481[_0x57000d(0x60e)](_0xb10df[_0x57000d(0x341)],_0x57000d(0x362)+_0x386a60['id']+'\x20received\x20responses:',_0x1254fb,this[_0x57000d(0x5b6)]),!_0x1254fb||0x0===_0x1254fb[_0x57000d(0x58d)]){_0x386a60[_0x57000d(0x524)]=_0x20053a[_0x57000d(0x727)][_0x57000d(0x7f4)],_0x386a60[_0x57000d(0x630)]=new Date(),_0x40d481[_0x57000d(0x4d2)](_0x57000d(0x362)+_0x386a60['id']+'\x20failed\x20to\x20receive\x20a\x20valid\x20bid\x20responses\x20in\x20time.',{'nodeId':this[_0x57000d(0x8d7)]['getId'](),'nodeType':this[_0x57000d(0x8d7)][_0x57000d(0x781)],'data':{'job':_0x386a60,'responses':_0x1254fb}});const _0x25ac81=this['jobObservers'][_0x57000d(0xb07)](_0xb68791);if(!_0x25ac81)throw new _0x4668fc(_0x4668fc[_0x57000d(0x85e)][_0x57000d(0x880)]);const _0xe5a98f='No\x20valid\x20bid\x20responses\x20received\x20in\x20time.',_0x2b8190={'id':_0x386a60['id'],'status':_0x386a60[_0x57000d(0x524)],'message':_0xe5a98f};return _0x25ac81[_0x57000d(0xb16)](_0x2b8190),_0x25ac81[_0x57000d(0x51d)](),this[_0x57000d(0x93a)]['set'](_0x386a60['id'],_0x386a60),void this[_0x57000d(0x5b6)][_0x57000d(0x43a)](_0xb68791);}const {nodeId:_0x3bec97,response:_0x11401c}=this[_0x57000d(0x979)](_0x386a60['id'],_0x1254fb);_0x386a60['status']=_0x20053a[_0x57000d(0x727)][_0x57000d(0x732)],_0x386a60[_0x57000d(0x630)]=new Date(),_0x40d481[_0x57000d(0x60e)](_0xb10df[_0x57000d(0x341)],_0x57000d(0x362)+_0x386a60['id']+_0x57000d(0x212)+_0x3bec97+_0x57000d(0x8d1),_0x11401c);const _0x8996c4={'id':_0x386a60['id'],'jobType':_0x386a60[_0x57000d(0x3da)],'jobPhase':_0xbd2ef4[_0x57000d(0x7dc)],'parameters':_0x386a60[_0x57000d(0x79c)]};this['send'](_0x8996c4,[_0x3bec97]),this['jobs']['set'](_0x386a60['id'],_0x386a60),this[_0x57000d(0x5b6)][_0x57000d(0x43a)](_0xb68791);}[_0x5f24fc(0x979)](_0x4f2fa9,_0x17ad25){const _0x30a5c7=_0x5f24fc;let _0x750291;const _0x9ac8fb=Array[_0x30a5c7(0x3ce)](_0x17ad25['entries']())[_0x30a5c7(0x776)](([,[_0x1f8ef6]])=>_0x1f8ef6[_0x30a5c7(0x418)]);if(_0x750291=_0x9ac8fb['length']>0x0?Array['from'](_0x17ad25[_0x30a5c7(0x8f3)]())['sort']((_0x518181,_0x5f4763)=>_0x5f4763[0x1][0x0][_0x30a5c7(0xa81)]-_0x518181[0x1][0x0][_0x30a5c7(0xa81)]):Array['from'](_0x17ad25[_0x30a5c7(0x8f3)]())['sort']((_0x23f4fb,_0x26dc53)=>_0x23f4fb[0x1][0x0][_0x30a5c7(0x363)]-_0x26dc53[0x1][0x0][_0x30a5c7(0x363)]),0x1===_0x750291[_0x30a5c7(0x9a6)])return{'nodeId':_0x750291[0x0][0x0],'response':_0x750291[0x0][0x1][0x0]};let _0x580091;if(_0x580091=_0x9ac8fb[_0x30a5c7(0x9a6)]>0x0?(_0x464b7e=>{const _0x4f4363=_0x30a5c7,_0x4bf064=_0x464b7e[0x0][0x1][0x0][_0x4f4363(0xa81)];return _0x464b7e[_0x4f4363(0x776)](([,[_0x8458a3]])=>_0x8458a3[_0x4f4363(0xa81)]===_0x4bf064);})(_0x750291):(_0x2fd0cd=>{const _0x342e03=_0x30a5c7,_0x257c8a=_0x2fd0cd[0x0][0x1][0x0]['queueLength'];return _0x2fd0cd[_0x342e03(0x776)](([,[_0x48950a]])=>_0x48950a[_0x342e03(0x363)]===_0x257c8a);})(_0x750291),0x1===_0x580091['length'])return{'nodeId':_0x580091[0x0][0x0],'response':_0x580091[0x0][0x1][0x0]};const _0x5d7797=this['jobs'][_0x30a5c7(0xb07)](_0x4f2fa9);if(!_0x5d7797)throw new _0x4668fc(_0x4668fc[_0x30a5c7(0x85e)][_0x30a5c7(0x37e)]);const _0x3d16f9=_0x5d7797['created'][_0x30a5c7(0x725)](),_0x488422=_0x580091[_0x30a5c7(0xa4a)](([_0x1680fb,[,_0xbc60c8]])=>({'nodeId':_0x1680fb,'rtt':_0xbc60c8-_0x3d16f9})),_0x326af5=Math[_0x30a5c7(0x728)](..._0x488422['map'](({rtt:_0x26d6cb})=>_0x26d6cb)),_0x58bb99=_0x488422[_0x30a5c7(0x260)](({rtt:_0x5252f9})=>_0x5252f9===_0x326af5),[,[_0x20df69]]=_0x580091[_0x30a5c7(0x260)](([_0x2e3f63])=>_0x2e3f63===_0x58bb99[_0x30a5c7(0x73c)]);return{'nodeId':_0x58bb99[_0x30a5c7(0x73c)],'response':_0x20df69};}[_0x5f24fc(0x870)](_0x2ac4b9,_0x2bbc9e){const _0x5b47b3=_0x5f24fc,_0x4010c7=this[_0x5b47b3(0x93a)]['get'](_0x2ac4b9);if(!_0x4010c7)throw new _0x4668fc(_0x4668fc[_0x5b47b3(0x85e)][_0x5b47b3(0x37e)]);const _0x38d083=this['jobObservers']['get'](_0x2ac4b9);if(!_0x38d083)throw new _0x4668fc(_0x4668fc[_0x5b47b3(0x85e)]['JobDispatcherObserverNotFound']);const _0x2ff65e={'id':_0x4010c7['id'],'status':_0x20053a[_0x5b47b3(0x727)][_0x5b47b3(0x32e)],'result':_0x2bbc9e[_0x5b47b3(0x8dc)]};_0x38d083[_0x5b47b3(0xb16)](_0x2ff65e);}[_0x5f24fc(0x89c)](_0x532ff6,_0x3171ae){const _0x5353ba=_0x5f24fc,_0x19b62a=this[_0x5353ba(0x93a)][_0x5353ba(0xb07)](_0x532ff6);if(!_0x19b62a)throw new _0x4668fc(_0x4668fc[_0x5353ba(0x85e)][_0x5353ba(0x37e)]);const _0x293a87=this['jobObservers']['get'](_0x532ff6);if(!_0x293a87)throw new _0x4668fc(_0x4668fc[_0x5353ba(0x85e)][_0x5353ba(0x880)]);_0x19b62a[_0x5353ba(0x524)]=_0x20053a[_0x5353ba(0x727)][_0x5353ba(0x21b)];const _0x106ce5={'id':_0x19b62a['id'],'status':_0x19b62a['status'],'result':_0x3171ae['result']};_0x293a87[_0x5353ba(0xb16)](_0x106ce5),_0x293a87[_0x5353ba(0x51d)](),this[_0x5353ba(0xb0d)]['delete'](_0x532ff6),this[_0x5353ba(0x2e1)](_0x5353ba(0x362)+_0x532ff6+_0x5353ba(0x7ce),{'jobId':_0x532ff6});}[_0x5f24fc(0x44c)](_0x387c87,_0x51f45c){const _0x2e15b1=_0x5f24fc,_0x2391fa=this[_0x2e15b1(0x93a)]['get'](_0x387c87);if(!_0x2391fa)throw new _0x4668fc(_0x4668fc['codes'][_0x2e15b1(0x37e)]);const _0x1be81a=this[_0x2e15b1(0xb0d)][_0x2e15b1(0xb07)](_0x387c87);if(!_0x1be81a)throw new _0x4668fc(_0x4668fc['codes']['JobDispatcherObserverNotFound']);_0x2391fa[_0x2e15b1(0x524)]=_0x20053a['JobStatus'][_0x2e15b1(0x7f4)];const _0x16750a={'id':_0x2391fa['id'],'status':_0x2391fa['status'],'message':_0x51f45c};_0x1be81a[_0x2e15b1(0xb16)](_0x16750a),_0x1be81a[_0x2e15b1(0x51d)](),this[_0x2e15b1(0xb0d)][_0x2e15b1(0x43a)](_0x387c87),this[_0x2e15b1(0x2e1)](_0x2e15b1(0x362)+_0x387c87+'\x20failed.',{'jobId':_0x387c87});}[_0x5f24fc(0x2e1)](_0x547a58,{jobId:_0x277142}){const _0x436ad8=_0x5f24fc,_0x44844c={'jobId':_0x277142,'mistletIds':Array[_0x436ad8(0x3ce)](this['graphService']['getRemoteNodes']()[_0x436ad8(0x9af)]())['filter'](_0x524f5c=>_0x524f5c['type']===_0x20053a[_0x436ad8(0x6c8)]['Agent'])['map'](_0x583608=>_0x583608['getId']())};_0x40d481[_0x436ad8(0x2e1)](_0x547a58,{'nodeId':this[_0x436ad8(0x92a)](),'nodeType':this[_0x436ad8(0x8d7)][_0x436ad8(0x781)],'data':_0x44844c}),_0x40d481['log'](_0xb10df['Jobs'],_0x547a58,_0x44844c);}[_0x5f24fc(0x4ff)](_0x468b44){const _0x3f5e5e=_0x5f24fc,{jobPhase:_0x1b972a,available:_0x71279a,bid:_0x2ff98c}=_0x468b44;return _0x1b972a===_0xbd2ef4[_0x3f5e5e(0x6df)]&&void 0x0!==_0x71279a&&void 0x0!==_0x2ff98c;}[_0x5f24fc(0x738)](_0x5d1ad7){const _0x253408=_0x5f24fc,{jobPhase:_0x54f6e6,result:_0xcf3fa8}=_0x5d1ad7;return _0x54f6e6===_0xbd2ef4[_0x253408(0x8fc)]&&void 0x0!==_0xcf3fa8;}[_0x5f24fc(0x5b4)](_0x356406){const {jobPhase:_0x28342e,result:_0x475ea1}=_0x356406;return _0x28342e===_0xbd2ef4['Result']&&void 0x0!==_0x475ea1;}[_0x5f24fc(0x50a)](_0x2eac19){const _0x72e150=_0x5f24fc,{jobPhase:_0x2529dc,message:_0x27ac28}=_0x2eac19;return _0x2529dc===_0xbd2ef4[_0x72e150(0x7f4)]&&void 0x0!==_0x27ac28&&_0x72e150(0x57a)==typeof _0x27ac28;}}var _0x5b2edf,_0x593060,_0x3c2286,_0x24c1ae;!function(_0x4f4fe4){const _0x3332c0=_0x5f24fc;_0x4f4fe4[_0x3332c0(0x7bf)]=_0x3332c0(0x494),_0x4f4fe4['ExternalStorage']=_0x3332c0(0x4d8);}(_0x5b2edf||(_0x5b2edf={})),function(_0x529c5a){const _0x3d4def=_0x5f24fc;_0x529c5a[_0x3d4def(0x723)]=_0x3d4def(0x895),_0x529c5a[_0x3d4def(0x67c)]=_0x3d4def(0x6ec),_0x529c5a[_0x3d4def(0x924)]='custom-skill',_0x529c5a[_0x3d4def(0x935)]='data-collection',_0x529c5a[_0x3d4def(0x3a7)]=_0x3d4def(0x656),_0x529c5a['Prompt']=_0x3d4def(0x45e),_0x529c5a['Answer']=_0x3d4def(0x84a),_0x529c5a[_0x3d4def(0x640)]='code',_0x529c5a[_0x3d4def(0x1fc)]=_0x3d4def(0x71f),_0x529c5a[_0x3d4def(0xa2d)]=_0x3d4def(0x23e),_0x529c5a[_0x3d4def(0x419)]='web-scraper',_0x529c5a[_0x3d4def(0x3cb)]=_0x3d4def(0x708),_0x529c5a[_0x3d4def(0xa3a)]=_0x3d4def(0x5eb),_0x529c5a[_0x3d4def(0x74c)]=_0x3d4def(0x80c),_0x529c5a[_0x3d4def(0x547)]='chunk-splitter',_0x529c5a[_0x3d4def(0x9d8)]=_0x3d4def(0xaa4),_0x529c5a['WordSplitter']=_0x3d4def(0x66b),_0x529c5a[_0x3d4def(0x427)]='document-parser';}(_0x593060||(_0x593060={})),function(_0x595160){const _0x2ffe05=_0x5f24fc;_0x595160[_0x2ffe05(0x410)]=_0x2ffe05(0xa1e),_0x595160[_0x2ffe05(0x441)]='external-storage-upload',_0x595160['DocumentParser']=_0x2ffe05(0x3b8),_0x595160[_0x2ffe05(0x547)]=_0x2ffe05(0x316),_0x595160[_0x2ffe05(0xa89)]=_0x2ffe05(0x66b),_0x595160[_0x2ffe05(0x9d8)]=_0x2ffe05(0xaa4),_0x595160[_0x2ffe05(0x743)]='relation-extractor',_0x595160['EntityExtractor']='entity-extractor',_0x595160[_0x2ffe05(0x302)]='reranker',_0x595160[_0x2ffe05(0x263)]=_0x2ffe05(0xa2e),_0x595160[_0x2ffe05(0x723)]='agent',_0x595160[_0x2ffe05(0x5c3)]='object-storage',_0x595160[_0x2ffe05(0x71b)]=_0x2ffe05(0x5e1),_0x595160[_0x2ffe05(0x89f)]=_0x2ffe05(0x9d7),_0x595160[_0x2ffe05(0x5ce)]=_0x2ffe05(0x85b),_0x595160[_0x2ffe05(0x90c)]=_0x2ffe05(0x45e),_0x595160[_0x2ffe05(0xaf2)]=_0x2ffe05(0x843);}(_0x3c2286||(_0x3c2286={})),function(_0x57d4b2){const _0x4ad199=_0x5f24fc;_0x57d4b2['File']=_0x4ad199(0x604),_0x57d4b2[_0x4ad199(0x5d2)]=_0x4ad199(0xace),_0x57d4b2[_0x4ad199(0xb42)]='image',_0x57d4b2['Audio']=_0x4ad199(0x214),_0x57d4b2['Data']=_0x4ad199(0x3b9),_0x57d4b2['Vector']='vector',_0x57d4b2[_0x4ad199(0x8bf)]=_0x4ad199(0x60d),_0x57d4b2[_0x4ad199(0x92f)]='relation',_0x57d4b2[_0x4ad199(0x1fc)]='search',_0x57d4b2[_0x4ad199(0x243)]='index',_0x57d4b2[_0x4ad199(0x3a7)]=_0x4ad199(0x656),_0x57d4b2['Skill']=_0x4ad199(0x655),_0x57d4b2[_0x4ad199(0xaf2)]='context',_0x57d4b2[_0x4ad199(0x83d)]=_0x4ad199(0x7a2);}(_0x24c1ae||(_0x24c1ae={}));class _0x22c59d{static [_0x5f24fc(0x50d)];constructor(){}static[_0x5f24fc(0x445)](){const _0x2ce453=_0x5f24fc;return _0x22c59d[_0x2ce453(0x50d)]||(_0x22c59d[_0x2ce453(0x50d)]=new _0x22c59d()),_0x22c59d[_0x2ce453(0x50d)];}async[_0x5f24fc(0x6e2)](_0x24c51f,_0x45a1b7){const _0x551586=_0x5f24fc,_0x2d5403=await(0x0,_0x1d5bc0[_0x551586(0x2ee)])((0x0,_0x1d5bc0[_0x551586(0x1f8)])(_0x47e6c0[_0x551586(0x422)](),_0x551586(0x2bd)+_0x24c51f+'/resources/generative-ai-workflow/items/'+_0x45a1b7)),_0x78b498=await this[_0x551586(0x262)](_0x24c51f),_0x4c2988=await this[_0x551586(0xa97)](_0x24c51f),_0x572de2=await this[_0x551586(0x4a3)](_0x24c51f),_0x1c2e58=await this['getModels'](_0x24c51f),_0x5ed705=await this[_0x551586(0x8fe)](_0x24c51f);if(!_0x2d5403[_0x551586(0x713)]())throw new _0x4668fc(_0x4668fc[_0x551586(0x85e)]['WorkflowDoesNotExist']);return this[_0x551586(0x33a)](_0x2d5403,_0x78b498,_0x4c2988,_0x572de2,_0x1c2e58,_0x5ed705);}[_0x5f24fc(0x33a)](_0x3bac7f,_0x2b3660,_0x28b205,_0x3c7888,_0x4c2b7b,_0x9c9803){const _0x5889c2=_0x5f24fc,_0x4ddc3c=_0x3bac7f[_0x5889c2(0x3b9)]();if(!_0x4ddc3c)throw new _0x4668fc(_0x4668fc['codes'][_0x5889c2(0x79b)]);const _0x1a7732=_0x4ddc3c[_0x5889c2(0x8f8)]&&_0x4ddc3c[_0x5889c2(0x6a1)]?_0x4ddc3c['versions'][_0x4ddc3c[_0x5889c2(0x8f8)]-0x1]:_0x4ddc3c,_0x4bca86=this[_0x5889c2(0xb15)](_0x1a7732[_0x5889c2(0x246)],_0x2b3660,_0x28b205,_0x3c7888,_0x9c9803);return{'id':_0x3bac7f['id'],'modelsBucketId':_0x4ddc3c[_0x5889c2(0xb2b)],'blocks':_0x4bca86,'models':this[_0x5889c2(0x758)](_0x4bca86,_0x4c2b7b),'dataBucketIds':this[_0x5889c2(0x56e)](_0x4bca86),'externalStorageConnectionIds':this[_0x5889c2(0x963)](_0x4bca86)};}[_0x5f24fc(0x758)](_0x15854d,_0x3d206e){const _0x454f26=_0x5f24fc,_0x371549=new Set();for(const _0x1d4030 of _0x15854d)if(_0x1d4030[_0x454f26(0x781)]!==_0x593060[_0x454f26(0x723)]&&_0x1d4030['type']!==_0x593060['AgentSkill']||_0x371549['add'](_0x1d4030['modelId']),_0x1d4030['type']===_0x593060[_0x454f26(0x3a7)]||_0x1d4030[_0x454f26(0x781)]===_0x593060[_0x454f26(0x935)]){for(const _0x53f4d2 of[..._0x1d4030[_0x454f26(0x514)],..._0x1d4030['retrieveBlocks']])_0x53f4d2['type']===_0x3c2286[_0x454f26(0x263)]&&_0x371549[_0x454f26(0x859)](_0x53f4d2['id']),_0x53f4d2[_0x454f26(0x781)]===_0x3c2286[_0x454f26(0x723)]&&_0x371549[_0x454f26(0x859)](_0x53f4d2[_0x454f26(0xa0b)]);}return Array[_0x454f26(0x3ce)](_0x371549)[_0x454f26(0xa4a)](_0x2e2ee1=>{const _0x47bcdd=_0x454f26,{id:_0x29d414,engineType:_0x3bf3a7,taskType:_0x31be09,knowledgeCutoffDate:_0x562262,inputType:_0x1f5c31,outputType:_0x216c46,sourceUrl:_0x33f590}=_0x3d206e[_0x47bcdd(0x260)](_0xdfd13d=>_0xdfd13d['id']===_0x2e2ee1);return{'id':_0x29d414,'engineType':_0x3bf3a7,'taskType':_0x31be09,'knowledgeCutoffDate':_0x562262,'inputType':_0x1f5c31,'outputType':_0x216c46,'sourceUrl':_0x33f590};});}[_0x5f24fc(0x56e)](_0x231e4d){const _0x3f6e7b=_0x5f24fc,_0x2b534c=new Set();for(const _0x4cf3e8 of _0x231e4d)switch(_0x4cf3e8[_0x3f6e7b(0x781)]){case _0x593060[_0x3f6e7b(0x3a7)]:case _0x593060['DataCollection']:for(const _0x201b3f of[..._0x4cf3e8[_0x3f6e7b(0x514)],..._0x4cf3e8[_0x3f6e7b(0x692)]])_0x201b3f[_0x3f6e7b(0x781)]===_0x3c2286['ObjectStorageUpload']&&_0x2b534c[_0x3f6e7b(0x859)](_0x201b3f['id']);}return Array[_0x3f6e7b(0x3ce)](_0x2b534c);}[_0x5f24fc(0x963)](_0x4771e2){const _0x92d128=_0x5f24fc,_0x14d455=new Set();for(const _0x4cc20d of _0x4771e2)switch(_0x4cc20d[_0x92d128(0x781)]){case _0x593060[_0x92d128(0x3a7)]:case _0x593060[_0x92d128(0x935)]:for(const _0xf62b4e of[..._0x4cc20d[_0x92d128(0x514)],..._0x4cc20d[_0x92d128(0x692)]])_0xf62b4e['type']===_0x3c2286['ExternalStorageUpload']&&_0x14d455[_0x92d128(0x859)](_0xf62b4e['id']);}return Array[_0x92d128(0x3ce)](_0x14d455);}['parseWorkflowBlocks'](_0x158e3d,_0x4b596e,_0x6e74dc,_0x403ebd,_0x5e598a){const _0x3b5c7d=_0x5f24fc;return _0x158e3d[_0x3b5c7d(0xa4a)](_0x2e9784=>{const _0x46039e=_0x3b5c7d;switch(_0x2e9784[_0x46039e(0x781)]){case _0x593060['Agent']:case _0x593060[_0x46039e(0x67c)]:const _0x4462dc=_0x4b596e[_0x46039e(0x260)](_0x484221=>_0x484221['id']===_0x2e9784['id']);if(!_0x4462dc)throw new _0x4668fc(_0x4668fc[_0x46039e(0x85e)][_0x46039e(0xa6d)],{'block':_0x2e9784});const _0x21b40a=_0x2e9784[_0x46039e(0x952)]&&_0x4462dc[_0x46039e(0x6a1)]?_0x4462dc[_0x46039e(0x6a1)][_0x2e9784['version']-0x1]:_0x4462dc;return{'type':_0x4462dc[_0x46039e(0x781)],'id':_0x4462dc['id'],'uid':_0x2e9784[_0x46039e(0x275)],'name':_0x21b40a[_0x46039e(0x696)],'description':_0x21b40a[_0x46039e(0x411)],'instructions':_0x21b40a[_0x46039e(0x4ac)],'contextOutputVariable':_0x21b40a[_0x46039e(0x824)],'contextInputVariable':_0x21b40a[_0x46039e(0x449)],'grammar':[_0x46039e(0x2fb),'json','json_arr']['includes'](_0x21b40a[_0x46039e(0x399)])?_0x21b40a[_0x46039e(0x399)]:_0x5e598a[_0x46039e(0x260)](_0x306512=>_0x306512['id']===_0x21b40a['grammar'])[_0x46039e(0x6b2)],'temperature':_0x21b40a[_0x46039e(0x42f)],'maxTokens':_0x21b40a[_0x46039e(0x8f5)],'modelId':_0x21b40a[_0x46039e(0xa0b)],'links':_0x2e9784['links'],'version':_0x2e9784[_0x46039e(0x952)]};case _0x593060[_0x46039e(0x3a7)]:case _0x593060[_0x46039e(0x935)]:const _0x17090b=_0x6e74dc['find'](_0x3ef4f2=>_0x3ef4f2['id']===_0x2e9784['id']);if(!_0x17090b)throw new _0x4668fc(_0x4668fc[_0x46039e(0x85e)][_0x46039e(0xa6d)],{'block':_0x2e9784});const _0x22fa59=_0x2e9784['version']&&_0x17090b[_0x46039e(0x6a1)]?_0x17090b[_0x46039e(0x6a1)][_0x2e9784[_0x46039e(0x952)]-0x1]:_0x17090b;return{'type':_0x2e9784[_0x46039e(0x781)],'id':_0x17090b['id'],'uid':_0x2e9784[_0x46039e(0x275)],'name':_0x22fa59[_0x46039e(0x696)],'description':_0x22fa59[_0x46039e(0x411)],'ingestBlocks':this['parseDataCollectionBlocks'](_0x22fa59[_0x46039e(0x514)],_0x4b596e),'retrieveBlocks':this[_0x46039e(0x510)](_0x22fa59[_0x46039e(0x692)],_0x4b596e),'links':_0x2e9784[_0x46039e(0x9e9)],'version':_0x2e9784[_0x46039e(0x952)]};case _0x593060['CustomSkill']:const _0x26a9ba=_0x403ebd[_0x46039e(0x260)](_0x494281=>_0x494281['id']===_0x2e9784['id']);if(!_0x26a9ba)throw new _0x4668fc(_0x4668fc[_0x46039e(0x85e)][_0x46039e(0xa6d)],{'block':_0x2e9784});return{'type':_0x2e9784['type'],'id':_0x26a9ba['id'],'uid':_0x2e9784[_0x46039e(0x275)],'name':_0x26a9ba['name'],'description':_0x26a9ba['description'],'parameters':_0x26a9ba[_0x46039e(0x79c)],'endpointUrl':_0x26a9ba[_0x46039e(0x6ea)],'endpointMethod':_0x26a9ba['endpointMethod'],'headers':_0x26a9ba[_0x46039e(0x8a8)],'queryParameters':_0x26a9ba[_0x46039e(0x454)],'bodyParameters':_0x26a9ba[_0x46039e(0x9ae)],'contextOutputVariable':_0x26a9ba['contextOutputVariable'],'waitAsync':_0x26a9ba[_0x46039e(0x857)],'asyncEndpointUrl':_0x26a9ba[_0x46039e(0x856)],'asyncEndpointMethod':_0x26a9ba['asyncEndpointMethod'],'asyncHeaders':_0x26a9ba[_0x46039e(0x4e3)],'links':_0x2e9784[_0x46039e(0x9e9)]};case _0x593060[_0x46039e(0x90c)]:case _0x593060['Answer']:case _0x593060[_0x46039e(0x640)]:case _0x593060[_0x46039e(0x1fc)]:case _0x593060['AiSearch']:case _0x593060[_0x46039e(0x419)]:case _0x593060[_0x46039e(0x3cb)]:case _0x593060[_0x46039e(0xa3a)]:case _0x593060[_0x46039e(0x74c)]:case _0x593060['SentenceSplitter']:case _0x593060[_0x46039e(0x427)]:return{'type':_0x2e9784[_0x46039e(0x781)],'id':_0x2e9784['id'],'uid':_0x2e9784[_0x46039e(0x275)],'links':_0x2e9784['links']};case _0x593060[_0x46039e(0x547)]:case _0x593060[_0x46039e(0xa89)]:return{'type':_0x2e9784[_0x46039e(0x781)],'id':_0x2e9784['id'],'uid':_0x2e9784[_0x46039e(0x275)],'links':_0x2e9784[_0x46039e(0x9e9)],'attributes':_0x2e9784[_0x46039e(0x849)]};default:throw new _0x4668fc(_0x4668fc[_0x46039e(0x85e)]['WorkflowInvalidBlockType'],{'block':_0x2e9784});}});}[_0x5f24fc(0x510)](_0x4c1b39,_0x120fc6){return _0x4c1b39['map'](_0x4f52ff=>{const _0x479956=a0_0x214c;switch(_0x4f52ff['type']){case _0x3c2286[_0x479956(0x723)]:const _0x1b0f47=_0x120fc6[_0x479956(0x260)](_0x3106f9=>_0x3106f9['id']===_0x4f52ff['id']);if(!_0x1b0f47)throw new _0x4668fc(_0x4668fc[_0x479956(0x85e)][_0x479956(0xa6d)],{'block':_0x4f52ff});const _0xb54f44=_0x4f52ff[_0x479956(0x952)]&&_0x1b0f47[_0x479956(0x6a1)]?_0x1b0f47[_0x479956(0x6a1)][_0x4f52ff[_0x479956(0x952)]-0x1]:_0x1b0f47;return{'type':_0x4f52ff[_0x479956(0x781)],'id':_0x4f52ff['id'],'uid':_0x4f52ff[_0x479956(0x275)],'description':_0xb54f44[_0x479956(0x411)],'instructions':_0xb54f44[_0x479956(0x4ac)],'grammar':_0xb54f44[_0x479956(0x399)],'temperature':_0xb54f44[_0x479956(0x42f)],'maxTokens':_0xb54f44['maxTokens'],'modelId':_0xb54f44[_0x479956(0xa0b)],'links':_0x4f52ff[_0x479956(0x9e9)],'version':_0x4f52ff['version']};case _0x3c2286['GraphDatabase']:case _0x3c2286[_0x479956(0x89f)]:case _0x3c2286[_0x479956(0xa89)]:case _0x3c2286[_0x479956(0x547)]:case _0x3c2286[_0x479956(0x837)]:case _0x3c2286[_0x479956(0x302)]:return{'type':_0x4f52ff[_0x479956(0x781)],'id':_0x4f52ff['id'],'uid':_0x4f52ff[_0x479956(0x275)],'links':_0x4f52ff[_0x479956(0x9e9)],'attributes':_0x4f52ff[_0x479956(0x849)]};case _0x3c2286[_0x479956(0x263)]:case _0x3c2286[_0x479956(0x5c3)]:case _0x3c2286[_0x479956(0x71b)]:case _0x3c2286[_0x479956(0x743)]:case _0x3c2286[_0x479956(0x427)]:case _0x3c2286[_0x479956(0x9d8)]:case _0x3c2286[_0x479956(0x410)]:case _0x3c2286[_0x479956(0x441)]:case _0x3c2286[_0x479956(0xaf2)]:case _0x3c2286[_0x479956(0x90c)]:return{'type':_0x4f52ff[_0x479956(0x781)],'id':_0x4f52ff['id'],'uid':_0x4f52ff[_0x479956(0x275)],'links':_0x4f52ff[_0x479956(0x9e9)]};default:throw new _0x4668fc(_0x4668fc[_0x479956(0x85e)][_0x479956(0xa6d)],{'block':_0x4f52ff});}});}async['getAgents'](_0x46e49e){const _0x44c7e8=_0x5f24fc;return(await(0x0,_0x1d5bc0['getDocs'])((0x0,_0x1d5bc0[_0x44c7e8(0x6bc)])(_0x47e6c0['getFirestore'](),_0x44c7e8(0x2bd)+_0x46e49e+_0x44c7e8(0x805))))[_0x44c7e8(0x9fd)]['map'](_0x8b8c50=>{const _0x252617=_0x44c7e8,_0xf0572c=_0x8b8c50[_0x252617(0x3b9)]();return{'type':_0x593060[_0x252617(0x723)],'id':_0x8b8c50['id'],'name':_0xf0572c[_0x252617(0x696)],'description':_0xf0572c[_0x252617(0x411)],'instructions':_0xf0572c[_0x252617(0x4ac)],'contextOutputVariable':_0xf0572c[_0x252617(0x824)],'contextInputVariable':_0xf0572c['contextInputVariable'],'grammar':_0xf0572c[_0x252617(0x399)]??'default','temperature':_0xf0572c[_0x252617(0x42f)],'maxTokens':_0xf0572c['maxTokens'],'modelId':_0xf0572c[_0x252617(0xa0b)],'versions':_0xf0572c[_0x252617(0x6a1)]};});}async[_0x5f24fc(0xa97)](_0x5684fc){const _0x1646b8=_0x5f24fc;return(await(0x0,_0x1d5bc0[_0x1646b8(0x59f)])((0x0,_0x1d5bc0[_0x1646b8(0x6bc)])(_0x47e6c0[_0x1646b8(0x422)](),_0x1646b8(0x2bd)+_0x5684fc+_0x1646b8(0x7e5))))[_0x1646b8(0x9fd)]['map'](_0x14b864=>{const _0x5a4ed7=_0x1646b8,_0xcb8cdc=_0x14b864[_0x5a4ed7(0x3b9)]();return{'type':_0x593060[_0x5a4ed7(0x935)],'id':_0x14b864['id'],'name':_0xcb8cdc[_0x5a4ed7(0x696)],'description':_0xcb8cdc[_0x5a4ed7(0x411)],'ingestBlocks':_0xcb8cdc[_0x5a4ed7(0x514)],'retrieveBlocks':_0xcb8cdc['retrieveBlocks'],'versions':_0xcb8cdc[_0x5a4ed7(0x6a1)]};});}async[_0x5f24fc(0x4a3)](_0x1beda4){const _0x1e2e12=_0x5f24fc;return(await(0x0,_0x1d5bc0[_0x1e2e12(0x59f)])((0x0,_0x1d5bc0['collection'])(_0x47e6c0[_0x1e2e12(0x422)](),_0x1e2e12(0x2bd)+_0x1beda4+_0x1e2e12(0x518))))[_0x1e2e12(0x9fd)][_0x1e2e12(0xa4a)](_0x5af9ea=>{const _0x2d4cfb=_0x1e2e12,_0x4a1dc9=_0x5af9ea['data']();return{'type':_0x593060[_0x2d4cfb(0x924)],'id':_0x5af9ea['id'],'name':_0x4a1dc9[_0x2d4cfb(0x696)],'description':_0x4a1dc9[_0x2d4cfb(0x411)],'parameters':_0x4a1dc9[_0x2d4cfb(0x79c)],'endpointUrl':_0x4a1dc9[_0x2d4cfb(0x6ea)],'endpointMethod':_0x4a1dc9[_0x2d4cfb(0x61e)],'headers':_0x4a1dc9[_0x2d4cfb(0x8a8)],'queryParameters':_0x4a1dc9[_0x2d4cfb(0x454)],'bodyParameters':_0x4a1dc9[_0x2d4cfb(0x9ae)],'contextOutputVariable':_0x4a1dc9[_0x2d4cfb(0x824)],'waitAsync':_0x4a1dc9[_0x2d4cfb(0x857)]??!0x1,'asyncEndpointUrl':_0x4a1dc9[_0x2d4cfb(0x856)],'asyncEndpointMethod':_0x4a1dc9[_0x2d4cfb(0x32c)],'asyncHeaders':_0x4a1dc9['asyncHeaders']};});}async[_0x5f24fc(0x8fe)](_0x4a1e24){const _0x3d8258=_0x5f24fc;return(await(0x0,_0x1d5bc0[_0x3d8258(0x59f)])((0x0,_0x1d5bc0[_0x3d8258(0x6bc)])(_0x47e6c0[_0x3d8258(0x422)](),_0x3d8258(0x2bd)+_0x4a1e24+_0x3d8258(0x294))))['docs']['map'](_0x11d24f=>{const _0x1b3e3c=_0x3d8258,_0x3322d1=_0x11d24f[_0x1b3e3c(0x3b9)]();return{'id':_0x11d24f['id'],'name':_0x3322d1[_0x1b3e3c(0x696)],'description':_0x3322d1[_0x1b3e3c(0x411)],'content':_0x3322d1[_0x1b3e3c(0x6b2)]};});}async[_0x5f24fc(0x367)](_0x12bafb){const _0x3f095d=_0x5f24fc;return(await(0x0,_0x1d5bc0['getDocs'])((0x0,_0x1d5bc0[_0x3f095d(0x6bc)])(_0x47e6c0['getFirestore'](),_0x3f095d(0x2bd)+_0x12bafb+'/resources/generative-ai-model/items')))[_0x3f095d(0x9fd)][_0x3f095d(0xa4a)](_0x26f80f=>{const _0x5b0ca1=_0x3f095d,_0x3f964a=_0x26f80f[_0x5b0ca1(0x3b9)]();return{'id':_0x26f80f['id'],'modelName':_0x3f964a[_0x5b0ca1(0x343)],'engineType':_0x3f964a[_0x5b0ca1(0x3c5)],'taskType':_0x3f964a['task'],'knowledgeCutoffDate':_0x3f964a[_0x5b0ca1(0x264)],'inputType':_0x3f964a[_0x5b0ca1(0x3d1)]??_0x20053a[_0x5b0ca1(0xafe)][_0x5b0ca1(0x5d2)],'outputType':_0x3f964a[_0x5b0ca1(0x473)]??_0x20053a[_0x5b0ca1(0x450)][_0x5b0ca1(0x5d2)],'sourceUrl':_0x3f964a[_0x5b0ca1(0x821)]};});}}const _0x5c9421=_0x22c59d[_0x5f24fc(0x445)]();class _0x29a2b4 extends _0x39d7ea{[_0x5f24fc(0x8ad)];[_0x5f24fc(0x240)];[_0x5f24fc(0x48f)]=0x0;[_0x5f24fc(0xa3f)]=0x0;[_0x5f24fc(0x8da)];constructor(_0x51368b,_0x1f1dae,_0x370c13,_0x1184f5){const _0x57a95b=_0x5f24fc;super(_0x51368b,_0x1f1dae,_0x1184f5),this[_0x57a95b(0x8ad)]=_0x51368b,this[_0x57a95b(0x240)]=_0x370c13,this[_0x57a95b(0x53c)]();}[_0x5f24fc(0x8fd)](){const _0x116160=_0x5f24fc;this[_0x116160(0x8da)]&&(clearTimeout(this[_0x116160(0x8da)]),delete this[_0x116160(0x8da)]),super[_0x116160(0x8fd)]();}[_0x5f24fc(0x6d5)](){const _0x269b57=_0x5f24fc;this[_0x269b57(0x48f)]=0x0,this['tokens']=0x0,this[_0x269b57(0x53c)](),super[_0x269b57(0x6d5)]();}['createAIJob'](_0x36486f){const _0x26530b=_0x5f24fc,_0x5865ab='job-'+(0x0,_0x58fdf1['v4'])();switch(_0x36486f[_0x26530b(0x781)]){case _0x26530b(0x45e):let _0x1d49a8=!0x1;const _0x431d1c=()=>{const _0x46a55f=_0x26530b;if(_0x1d49a8)throw new _0x4668fc(_0x4668fc[_0x46a55f(0x85e)][_0x46a55f(0x8ea)]);_0x1d49a8=!0x0;},_0x561bd7=()=>(_0x431d1c(),this[_0x26530b(0x45e)](_0x5865ab,_0x36486f[_0x26530b(0x45e)],_0x36486f[_0x26530b(0x49b)])),_0x3c2a98=()=>(_0x431d1c(),this[_0x26530b(0x265)](_0x5865ab,_0x36486f[_0x26530b(0x45e)],_0x36486f[_0x26530b(0x49b)]));return{'id':_0x5865ab,'prompt':_0x36486f[_0x26530b(0x45e)],'options':_0x36486f[_0x26530b(0x49b)]??{'threadId':_0x26530b(0x8b6)+(0x0,_0x58fdf1['v4'])()},'run':_0x561bd7,'stream':_0x3c2a98};case'rate':let _0x340c99=!0x1;const _0x118b32=()=>{const _0xcaab0e=_0x26530b;if(_0x340c99)throw new _0x4668fc(_0x4668fc[_0xcaab0e(0x85e)][_0xcaab0e(0x8ea)]);_0x340c99=!0x0;},_0x6337e=()=>(_0x118b32(),this[_0x26530b(0x756)](_0x5865ab,_0x36486f[_0x26530b(0x4f5)],_0x36486f[_0x26530b(0xa23)],_0x36486f[_0x26530b(0x49b)]));if(!_0x36486f[_0x26530b(0x49b)]?.[_0x26530b(0x81b)])throw new _0x55ecf3(_0x2efe49['GenerativeAIContextJobMissingThreadId'],_0x26530b(0x58c));return{'id':_0x5865ab,'rating':_0x36486f[_0x26530b(0x4f5)],'options':_0x36486f[_0x26530b(0x49b)]??{'threadId':_0x26530b(0x8b6)+(0x0,_0x58fdf1['v4'])()},'rate':_0x6337e};case _0x26530b(0x414):let _0x4675a5=!0x1;const _0x1061b5=()=>{const _0x37f60e=_0x26530b;if(_0x4675a5)throw new _0x4668fc(_0x4668fc[_0x37f60e(0x85e)][_0x37f60e(0x8ea)]);_0x4675a5=!0x0;};return{'id':_0x5865ab,'objectStoreId':'','documentPath':_0x36486f[_0x26530b(0x2d4)],'download':()=>(_0x1061b5(),this[_0x26530b(0x3c3)](_0x5865ab,_0x36486f[_0x26530b(0x3ec)],_0x36486f[_0x26530b(0x2d4)]))};case _0x26530b(0x71f):let _0x183b40=!0x1;const _0xb858aa=()=>{const _0xcbebd3=_0x26530b;if(_0x183b40)throw new _0x4668fc(_0x4668fc[_0xcbebd3(0x85e)][_0xcbebd3(0x8ea)]);_0x183b40=!0x0;};return{'id':_0x5865ab,'query':_0x36486f['query'],'collectionId':_0x36486f[_0x26530b(0x464)],'search':()=>(_0xb858aa(),this[_0x26530b(0x639)](_0x5865ab,_0x36486f[_0x26530b(0x25d)],_0x36486f[_0x26530b(0x464)]))};}}async[_0x5f24fc(0x683)](_0x3fd8a9){const _0x389441=_0x5f24fc;return this[_0x389441(0x27a)](_0x3fd8a9)['rate']();}async[_0x5f24fc(0x414)](_0xcd4b62){const _0x38c154=_0x5f24fc,_0x5c2072={'type':'downloadDocument','objectStoreId':'','documentPath':_0xcd4b62};return this[_0x38c154(0x27a)](_0x5c2072)['download']();}async[_0x5f24fc(0x71f)](_0x192dc2){const _0x331dd0=_0x5f24fc;return this[_0x331dd0(0x27a)](_0x192dc2)[_0x331dd0(0x71f)]();}async[_0x5f24fc(0x639)](_0x59eb9e,_0xdf0c80,_0x3eff3d){const _0x5aa538=_0x5f24fc,_0xbbb07={'type':_0x5aa538(0x71f),'threadId':'','query':_0xdf0c80,'collectionId':_0x3eff3d},_0xc916e9=await this[_0x5aa538(0x666)](_0x59eb9e,_0x20053a[_0x5aa538(0x2b0)][_0x5aa538(0x3ba)],_0xbbb07);return new Promise((_0x403c2e,_0x5727fb)=>{const _0x2c12c2=_0x5aa538;let _0x27a6b1;const _0x45e092=_0xc916e9[_0x2c12c2(0x6f8)]({'next':_0x4ed68a=>{const _0x12b2fe=_0x2c12c2;switch(_0x4ed68a[_0x12b2fe(0x524)]){case _0x20053a[_0x12b2fe(0x727)][_0x12b2fe(0x21b)]:clearTimeout(_0x27a6b1),_0x403c2e(_0x4ed68a[_0x12b2fe(0x8dc)][_0x12b2fe(0x843)]??[]),_0x45e092[_0x12b2fe(0xac2)]();break;case _0x20053a[_0x12b2fe(0x727)][_0x12b2fe(0x7f4)]:clearTimeout(_0x27a6b1),_0x5727fb(new _0x4668fc(_0x4668fc[_0x12b2fe(0x85e)]['GenerativeAIContextJobFailed'],{'updatedJob':_0x4ed68a})),_0x45e092[_0x12b2fe(0xac2)]();}},'error':_0x3231fb=>{const _0x1a2f89=_0x2c12c2;clearTimeout(_0x27a6b1),_0x5727fb(new _0x4668fc(_0x4668fc[_0x1a2f89(0x85e)][_0x1a2f89(0x762)],{'err':_0x3231fb})),_0x45e092[_0x1a2f89(0xac2)]();}});_0x27a6b1=setTimeout(()=>{const _0x21053b=_0x2c12c2;_0x5727fb(new _0x4668fc(_0x4668fc[_0x21053b(0x85e)][_0x21053b(0x233)])),_0x45e092[_0x21053b(0xac2)]();},_0x52f392);});}async[_0x5f24fc(0x756)](_0x1e9ff7,_0x5a7816,_0x5520f7,{threadId:_0x24edd8,feedback:_0x261a8f=''}){const _0x2ac48b=_0x5f24fc,_0x414ccc={'type':_0x2ac48b(0x2c4),'jobId':_0x5520f7,'threadId':_0x24edd8,'rating':_0x5a7816,'feedback':_0x261a8f},_0x326557=await this[_0x2ac48b(0x666)](_0x1e9ff7,_0x20053a[_0x2ac48b(0x2b0)][_0x2ac48b(0x3ba)],_0x414ccc,{'threadId':_0x24edd8,'feedback':_0x261a8f});return new Promise((_0x506cce,_0x527fe7)=>{const _0x4ae95f=_0x2ac48b;let _0x58a805;const _0x114f65=_0x326557[_0x4ae95f(0x6f8)]({'next':_0x5b1fcf=>{const _0x462000=_0x4ae95f;switch(_0x5b1fcf[_0x462000(0x524)]){case _0x20053a[_0x462000(0x727)][_0x462000(0x21b)]:clearTimeout(_0x58a805),_0x506cce(_0x5b1fcf[_0x462000(0x8dc)]),_0x114f65[_0x462000(0xac2)]();break;case _0x20053a[_0x462000(0x727)][_0x462000(0x7f4)]:clearTimeout(_0x58a805),_0x527fe7(new _0x4668fc(_0x4668fc[_0x462000(0x85e)][_0x462000(0x762)],{'updatedJob':_0x5b1fcf})),_0x114f65[_0x462000(0xac2)]();}},'error':_0x2fe6d6=>{const _0x2b1e60=_0x4ae95f;clearTimeout(_0x58a805),_0x527fe7(new _0x4668fc(_0x4668fc[_0x2b1e60(0x85e)]['GenerativeAIContextJobFailed'],{'err':_0x2fe6d6})),_0x114f65[_0x2b1e60(0xac2)]();}});_0x58a805=setTimeout(()=>{const _0x30709c=_0x4ae95f;_0x527fe7(new _0x4668fc(_0x4668fc[_0x30709c(0x85e)][_0x30709c(0x233)])),_0x114f65[_0x30709c(0xac2)]();},_0x52f392);});}async[_0x5f24fc(0x3c3)](_0x15fb04,_0xcf0a6,_0xbd975d){const _0x47ea1f=_0x5f24fc,_0x26ca27={'type':_0x47ea1f(0x414),'objectStoreId':_0xcf0a6,'documentPath':_0xbd975d,'threadId':_0x47ea1f(0x8b6)+(0x0,_0x58fdf1['v4'])()},_0x106f5f=await this[_0x47ea1f(0x666)](_0x15fb04,_0x20053a[_0x47ea1f(0x2b0)][_0x47ea1f(0x3ba)],_0x26ca27);return new Promise((_0x4c63ff,_0x41be6e)=>{let _0x535f83;const _0x4f01e6=_0x106f5f['subscribe']({'next':_0x81e970=>{const _0x32104b=a0_0x214c;switch(_0x81e970[_0x32104b(0x524)]){case _0x20053a[_0x32104b(0x727)][_0x32104b(0x21b)]:clearTimeout(_0x535f83),_0x4c63ff(_0x81e970[_0x32104b(0x8dc)]),_0x4f01e6[_0x32104b(0xac2)]();break;case _0x20053a['JobStatus'][_0x32104b(0x7f4)]:clearTimeout(_0x535f83),_0x41be6e(new _0x4668fc(_0x4668fc['codes'][_0x32104b(0x762)],{'updatedJob':_0x81e970})),_0x4f01e6['unsubscribe']();}},'error':_0x232aa1=>{const _0x279c88=a0_0x214c;clearTimeout(_0x535f83),_0x41be6e(new _0x4668fc(_0x4668fc['codes'][_0x279c88(0x762)],{'err':_0x232aa1})),_0x4f01e6['unsubscribe']();}});_0x535f83=setTimeout(()=>{const _0xc9a3a9=a0_0x214c;_0x41be6e(new _0x4668fc(_0x4668fc['codes'][_0xc9a3a9(0x233)])),_0x4f01e6[_0xc9a3a9(0xac2)]();},_0x52f392);});}async[_0x5f24fc(0x45e)](_0x34aaf2,_0x20e9ea,_0x578ae3){const _0x407f1d=_0x5f24fc,_0x5e2159={'type':_0x407f1d(0x45e),'prompt':_0x20e9ea,'threadId':_0x578ae3?.[_0x407f1d(0x81b)]??_0x407f1d(0x8b6)+(0x0,_0x58fdf1['v4'])()},_0x3bda0=await this[_0x407f1d(0x666)](_0x34aaf2,_0x20053a[_0x407f1d(0x2b0)][_0x407f1d(0x3ba)],_0x5e2159,_0x578ae3);return new Promise((_0xceb1ef,_0x153c9c)=>{const _0x1bee01=_0x407f1d;let _0x32d126;const _0x58b7e3=_0x3bda0[_0x1bee01(0x6f8)]({'next':_0x4e8b0b=>{const _0x155e2b=_0x1bee01;switch(_0x4e8b0b[_0x155e2b(0x524)]){case _0x20053a[_0x155e2b(0x727)][_0x155e2b(0x21b)]:if(_0x155e2b(0x45e)!==_0x4e8b0b[_0x155e2b(0x8dc)][_0x155e2b(0x781)])return;const _0x552a34=_0x4e8b0b['result'][_0x155e2b(0x907)]??0x0;this['logServiceEvent'](_0x20e9ea,_0x552a34),clearTimeout(_0x32d126),_0xceb1ef(_0x4e8b0b[_0x155e2b(0x8dc)]),_0x58b7e3['unsubscribe'](),this['prompts']+=0x1,this[_0x155e2b(0xa3f)]+=_0x552a34,this[_0x155e2b(0x53c)]();break;case _0x20053a[_0x155e2b(0x727)][_0x155e2b(0x7f4)]:clearTimeout(_0x32d126),_0x153c9c(new _0x4668fc(_0x4668fc[_0x155e2b(0x85e)][_0x155e2b(0x762)],{'updatedJob':_0x4e8b0b})),_0x58b7e3[_0x155e2b(0xac2)](),this[_0x155e2b(0x53c)]();}},'error':_0xb966eb=>{const _0x570a83=_0x1bee01;clearTimeout(_0x32d126),_0x153c9c(new _0x4668fc(_0x4668fc[_0x570a83(0x85e)]['GenerativeAIContextJobFailed'],{'err':_0xb966eb})),_0x58b7e3[_0x570a83(0xac2)]();}});_0x32d126=setTimeout(()=>{const _0x3628a1=_0x1bee01;_0x153c9c(new _0x4668fc(_0x4668fc[_0x3628a1(0x85e)]['GenerativeAIContextJobTimeout'])),_0x58b7e3[_0x3628a1(0xac2)]();},_0x52f392);});}async*['stream'](_0x436e4c,_0x1d7f41,_0x5686e9){const _0x1d71cb=_0x5f24fc,_0x5d325b={'type':_0x1d71cb(0x45e),'prompt':_0x1d7f41,'threadId':_0x5686e9?.['threadId']??_0x1d71cb(0x8b6)+(0x0,_0x58fdf1['v4'])()},_0x43c7ba=await this['getJobObservable'](_0x436e4c,_0x20053a[_0x1d71cb(0x2b0)][_0x1d71cb(0x4a5)],_0x5d325b,_0x5686e9);let _0x4f4e96,_0x1f0fc5,_0x20a382=!0x1,_0x4fafbe=0x0;const _0x431596=[],_0x17df68=new Map();let _0x10efba=null;const _0x73abd4=()=>{_0x10efba&&(_0x10efba(),_0x10efba=null);},_0x6e9ae6=_0x591861=>{const _0x14fb04=_0x1d71cb;_0x20a382=!0x0,_0x73abd4(),_0x17842c[_0x14fb04(0xac2)](),_0x1f0fc5=_0x591861;},_0x17842c=_0x43c7ba[_0x1d71cb(0x6f8)]({'next':async _0xb09e71=>{const _0x5b4ba4=_0x1d71cb;switch(_0xb09e71['status']){case _0x20053a[_0x5b4ba4(0x727)][_0x5b4ba4(0x32e)]:if('prompt'!==_0xb09e71[_0x5b4ba4(0x8dc)][_0x5b4ba4(0x781)])return;if(_0xb09e71[_0x5b4ba4(0x8dc)]&&void 0x0!==_0xb09e71[_0x5b4ba4(0x8dc)][_0x5b4ba4(0x51b)]){if(void 0x0===_0xb09e71[_0x5b4ba4(0x8dc)][_0x5b4ba4(0x2ef)])return void _0x6e9ae6(_0x4668fc[_0x5b4ba4(0x85e)][_0x5b4ba4(0x65f)]);_0x4fafbe===_0xb09e71[_0x5b4ba4(0x8dc)]['index']?(_0x431596[_0x5b4ba4(0x96d)](_0xb09e71['result']),_0x4fafbe++,((()=>{const _0x3f9a0b=_0x5b4ba4;for(;_0x17df68[_0x3f9a0b(0x4cb)](_0x4fafbe);)_0x431596[_0x3f9a0b(0x96d)](_0x17df68[_0x3f9a0b(0xb07)](_0x431596[_0x3f9a0b(0x9a6)])),_0x17df68[_0x3f9a0b(0x43a)](_0x431596[_0x3f9a0b(0x9a6)]),_0x4fafbe++;})()),_0x73abd4(),_0x18f830()):_0x17df68[_0x5b4ba4(0x338)](_0xb09e71[_0x5b4ba4(0x8dc)][_0x5b4ba4(0x2ef)],_0xb09e71[_0x5b4ba4(0x8dc)]);}break;case _0x20053a[_0x5b4ba4(0x727)][_0x5b4ba4(0x21b)]:if('prompt'!==_0xb09e71['result'][_0x5b4ba4(0x781)])return;for(;_0x4fafbe!==_0xb09e71[_0x5b4ba4(0x8dc)][_0x5b4ba4(0x2ef)];)await _0x4ecfc3['wait'](0x3e8);const _0x37ebc8=_0xb09e71['result']['inputTokens']??0x0;this['logServiceEvent'](_0x1d7f41,_0x37ebc8),clearTimeout(_0x4f4e96),_0x6e9ae6(),this[_0x5b4ba4(0x48f)]+=0x1,this[_0x5b4ba4(0xa3f)]+=_0x37ebc8,this['sendStats']();break;case _0x20053a[_0x5b4ba4(0x727)][_0x5b4ba4(0x7f4)]:clearTimeout(_0x4f4e96),_0x6e9ae6(_0x4668fc['codes'][_0x5b4ba4(0x762)]),this['sendStats']();}},'error':_0x2b79a8=>{clearTimeout(_0x4f4e96),_0x6e9ae6(_0x4668fc['codes']['GenerativeAIContextJobFailed']);}}),_0x30af02=()=>{const _0x9e5272=_0x1d71cb;_0x6e9ae6(_0x4668fc[_0x9e5272(0x85e)][_0x9e5272(0x233)]);},_0x18f830=()=>{clearTimeout(_0x4f4e96),_0x4f4e96=setTimeout(_0x30af02,_0x52f392);};for(_0x4f4e96=setTimeout(_0x30af02,_0x52f392);!_0x20a382||_0x431596[_0x1d71cb(0x9a6)]>0x0;)_0x431596[_0x1d71cb(0x9a6)]>0x0?yield _0x431596['shift']():await new Promise(_0x4ec656=>_0x10efba=_0x4ec656);if(_0x1f0fc5)throw _0x40d481[_0x1d71cb(0x4d2)]('GenerativeAIContext\x20stream\x20error',{'nodeId':this[_0x1d71cb(0x8ad)][_0x1d71cb(0x6e8)](),'nodeType':this['localNode'][_0x1d71cb(0x781)]}),new _0x4668fc(_0x1f0fc5);}async['getDataBucketIds'](){const _0x24fe3e=_0x5f24fc;return(await _0x5c9421['getWorkflow'](this[_0x24fe3e(0x240)],this[_0x24fe3e(0xa85)]))[_0x24fe3e(0x997)];}[_0x5f24fc(0xade)](_0x2c4302,_0xcf1820){const _0xb9338c=_0x5f24fc,_0x5e1a70=this[_0xb9338c(0xa85)],_0x36e7ea=this[_0xb9338c(0x92a)]();_0x40d481[_0xb9338c(0xade)](_0x267c89[_0xb9338c(0x5f7)],{'topic':_0x5e1a70,'prompt':_0x2c4302,'type':_0xb9338c(0x45e),'nodeId':_0x36e7ea,'tokenCount':_0xcf1820});}async[_0x5f24fc(0x666)](_0x837c3d,_0x5e03f4,_0x3c3310,_0xe84c67={}){const _0x3805cc=_0x5f24fc;let _0x32f10f;switch(_0x3c3310['type']){case'prompt':{const {threadId:_0x47dd32}=_0xe84c67;_0x32f10f={'id':_0x837c3d,'jobType':_0x5e03f4,'parameters':{..._0xe84c67,'type':_0x3805cc(0x45e),'prompt':_0x3c3310[_0x3805cc(0x45e)],'threadId':_0x47dd32},'status':_0x20053a[_0x3805cc(0x727)]['Pending']};break;}case _0x3805cc(0x2c4):{const {threadId:_0x179e0a}=_0xe84c67;_0x32f10f={'id':_0x837c3d,'jobType':_0x5e03f4,'parameters':{..._0xe84c67,'type':_0x3805cc(0x2c4),'jobId':_0x3c3310[_0x3805cc(0xa23)],'rating':_0x3c3310[_0x3805cc(0x4f5)],'feedback':_0x3c3310[_0x3805cc(0x452)]??'','threadId':_0x179e0a},'status':_0x20053a[_0x3805cc(0x727)][_0x3805cc(0x503)]};break;}case _0x3805cc(0x414):_0x32f10f={'id':_0x837c3d,'jobType':_0x5e03f4,'parameters':{..._0xe84c67,'type':'downloadDocument','objectStoreId':_0x3c3310[_0x3805cc(0x3ec)],'documentPath':_0x3c3310['documentPath']},'status':_0x20053a[_0x3805cc(0x727)][_0x3805cc(0x503)]};break;case _0x3805cc(0x71f):_0x32f10f={'id':_0x837c3d,'jobType':_0x5e03f4,'parameters':{..._0xe84c67,'type':_0x3805cc(0x71f),'query':_0x3c3310[_0x3805cc(0x25d)],'collectionId':_0x3c3310['collectionId']},'status':_0x20053a[_0x3805cc(0x727)][_0x3805cc(0x503)]};}return await this[_0x3805cc(0x52f)](_0x32f10f);}[_0x5f24fc(0x53c)](){const _0x372215=_0x5f24fc;this['debounceStats']&&clearTimeout(this[_0x372215(0x8da)]),this[_0x372215(0x8da)]=setTimeout(async()=>{const _0x1be2cf=_0x372215;delete this[_0x1be2cf(0x8da)],this[_0x1be2cf(0x541)][_0x1be2cf(0x803)]({'sourceId':_0x7cf9e6,'messageType':_0x31112d[_0x1be2cf(0x209)],'content':{'type':_0x21c730[_0x1be2cf(0xad5)],'label':this[_0x1be2cf(0xa85)],'stats':{'timestamp':Date[_0x1be2cf(0x2c1)](),'storage':0x0,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x1be2cf(0x546)],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x1be2cf(0x940)],'writes':0x0,'reads':0x0,'prompts':this[_0x1be2cf(0x48f)],'tokens':this[_0x1be2cf(0xa3f)]}}});},_0x4a5b22);}}var _0x2d3d6c,_0xfd10a7,_0x3c99b3,_0x38cbc4,_0x117bf2,_0x2d0620,_0x324482,_0x17b100,_0x47dfc2,_0xd04150,_0x39e801;!function(_0x53bd38){const _0x21880c=_0x5f24fc;_0x53bd38[_0x21880c(0xa6c)]=_0x21880c(0xa6c),_0x53bd38[_0x21880c(0x35e)]=_0x21880c(0x35e),_0x53bd38[_0x21880c(0x765)]=_0x21880c(0x765),_0x53bd38[_0x21880c(0x483)]=_0x21880c(0x483);}(_0x2d3d6c||(_0x2d3d6c={})),function(_0x102789){const _0x42e017=_0x5f24fc;_0x102789[_0x42e017(0x301)]=_0x42e017(0x301),_0x102789[_0x42e017(0x617)]=_0x42e017(0x617),_0x102789[_0x42e017(0x38a)]=_0x42e017(0x38a),_0x102789[_0x42e017(0x837)]=_0x42e017(0x837),_0x102789['GraphSearch']='GraphSearch',_0x102789[_0x42e017(0x302)]=_0x42e017(0x302);}(_0xfd10a7||(_0xfd10a7={})),function(_0x54e29e){const _0x30f5c0=_0x5f24fc;_0x54e29e[_0x54e29e[_0x30f5c0(0x4c2)]=0x0]='Debug',_0x54e29e[_0x54e29e[_0x30f5c0(0xa90)]=0x5]=_0x30f5c0(0xa90),_0x54e29e[_0x54e29e[_0x30f5c0(0x641)]=0xa]=_0x30f5c0(0x641),_0x54e29e[_0x54e29e[_0x30f5c0(0x3d2)]=0xf]=_0x30f5c0(0x3d2);}(_0x3c99b3||(_0x3c99b3={})),function(_0x1112ea){const _0x3319f7=_0x5f24fc;_0x1112ea[_0x3319f7(0x4fc)]=_0x3319f7(0x4fc),_0x1112ea[_0x3319f7(0x24c)]='Ingest',_0x1112ea[_0x3319f7(0x3a7)]=_0x3319f7(0x3a7),_0x1112ea[_0x3319f7(0x3c9)]=_0x3319f7(0x3c9),_0x1112ea['Workflow']=_0x3319f7(0x716),_0x1112ea[_0x3319f7(0x3ba)]='Job',_0x1112ea[_0x3319f7(0x2aa)]=_0x3319f7(0x2aa),_0x1112ea[_0x3319f7(0x2ec)]=_0x3319f7(0x2ec);}(_0x38cbc4||(_0x38cbc4={})),function(_0x489262){const _0x550bc4=_0x5f24fc;_0x489262[_0x550bc4(0x331)]=_0x550bc4(0x331),_0x489262[_0x550bc4(0x21b)]=_0x550bc4(0x21b);}(_0x117bf2||(_0x117bf2={})),function(_0x9ea7ed){const _0x41ecc2=_0x5f24fc;_0x9ea7ed[_0x41ecc2(0x7c1)]=_0x41ecc2(0x7c1),_0x9ea7ed[_0x41ecc2(0x8c6)]=_0x41ecc2(0x8c6),_0x9ea7ed[_0x41ecc2(0x935)]=_0x41ecc2(0x935),_0x9ea7ed[_0x41ecc2(0x753)]=_0x41ecc2(0x753);}(_0x2d0620||(_0x2d0620={})),function(_0x168279){const _0x1b7a85=_0x5f24fc;_0x168279[_0x1b7a85(0x547)]='ChunkSplitter',_0x168279['DocumentParser']='DocumentParser',_0x168279[_0x1b7a85(0x837)]=_0x1b7a85(0x837),_0x168279['GraphDatabase']=_0x1b7a85(0x5ce),_0x168279[_0x1b7a85(0x723)]=_0x1b7a85(0x723),_0x168279[_0x1b7a85(0x301)]=_0x1b7a85(0x301),_0x168279['ModelVector']='ModelVector',_0x168279[_0x1b7a85(0x743)]=_0x1b7a85(0x743),_0x168279[_0x1b7a85(0x9d8)]=_0x1b7a85(0x9d8),_0x168279['VectorDatabase']=_0x1b7a85(0x89f),_0x168279['WordSplitter']=_0x1b7a85(0xa89);}(_0x324482||(_0x324482={})),function(_0x103331){const _0x322cff=_0x5f24fc;_0x103331[_0x322cff(0x8bd)]=_0x322cff(0x8bd),_0x103331[_0x322cff(0x5aa)]=_0x322cff(0x5aa);}(_0x17b100||(_0x17b100={})),function(_0x2cac2d){const _0x103fda=_0x5f24fc;_0x2cac2d[_0x103fda(0x8c9)]='ExecuteCode',_0x2cac2d[_0x103fda(0x3c8)]=_0x103fda(0x3c8),_0x2cac2d[_0x103fda(0x47f)]=_0x103fda(0x47f),_0x2cac2d['SearchPerplexity']=_0x103fda(0x8d2),_0x2cac2d[_0x103fda(0x77b)]='ExecuteAgent',_0x2cac2d['ExecuteCustomSkill']=_0x103fda(0x675),_0x2cac2d[_0x103fda(0xa3a)]=_0x103fda(0xa3a),_0x2cac2d[_0x103fda(0x74c)]=_0x103fda(0x74c);}(_0x47dfc2||(_0x47dfc2={})),function(_0x1fb50b){const _0x29d8b8=_0x5f24fc;_0x1fb50b['LoadKnowledgeFunction']=_0x29d8b8(0x983),_0x1fb50b[_0x29d8b8(0x94c)]='LoadSkillFunction';}(_0xd04150||(_0xd04150={})),function(_0x2497f8){const _0x5b164f=_0x5f24fc;_0x2497f8['PromptRating']=_0x5b164f(0x2b2);}(_0x39e801||(_0x39e801={}));class _0x2ffa6a{static [_0x5f24fc(0x50d)]=new _0x2ffa6a();['jobQueue']=[];[_0x5f24fc(0x429)]=!0x1;constructor(){}static[_0x5f24fc(0x445)](){const _0x41bd20=_0x5f24fc;return _0x2ffa6a[_0x41bd20(0x50d)];}get[_0x5f24fc(0x9a6)](){const _0xc6d010=_0x5f24fc;return this[_0xc6d010(0xb27)][_0xc6d010(0x9a6)];}['isAvailable'](){const _0x43c0e2=_0x5f24fc;return!this[_0x43c0e2(0x429)];}['clear'](_0x46773f){const _0x2818a4=_0x5f24fc;_0x46773f?this[_0x2818a4(0xb27)]=this[_0x2818a4(0xb27)]['filter'](_0x52558a=>_0x52558a['ownerId']!==_0x46773f):(this[_0x2818a4(0xb27)]=[],this['isRunning']=!0x1);}[_0x5f24fc(0x859)](_0x36a353,_0x2fe289){const _0x49ece1=_0x5f24fc;this[_0x49ece1(0xb27)][_0x49ece1(0x96d)]({'callback':_0x2fe289,'ownerId':_0x36a353}),this[_0x49ece1(0x228)]();}async['runJobQueue'](){const _0x1b18fd=_0x5f24fc;if(!this[_0x1b18fd(0x429)]){for(this[_0x1b18fd(0x429)]=!0x0;this[_0x1b18fd(0xb27)][_0x1b18fd(0x9a6)]>0x0;){const _0x118efa=this[_0x1b18fd(0xb27)][_0x1b18fd(0x918)]();if(_0x118efa)try{console['warn'](_0x1b18fd(0x488)),await _0x118efa[_0x1b18fd(0xa12)](),console[_0x1b18fd(0xabb)](_0x1b18fd(0x371));}catch(_0x579ecd){console[_0x1b18fd(0x4d2)](_0x1b18fd(0x5d6),_0x579ecd);}}this['isRunning']=!0x1;}}}const _0x4869a9=_0x2ffa6a[_0x5f24fc(0x445)]();class _0xdb09b2 extends _0x303f2a{[_0x5f24fc(0x238)];[_0x5f24fc(0x218)];constructor(_0x4b94db,_0x4636f3,_0x32cf4b){const _0x1604b2=_0x5f24fc;super(_0x4b94db,_0x4636f3),this[_0x1604b2(0x238)]=_0x32cf4b;}[_0x5f24fc(0xadb)](){return _0x20053a['ContentType']['Job'];}[_0x5f24fc(0x791)](){const _0x49175c=_0x5f24fc;this[_0x49175c(0x31a)]();}[_0x5f24fc(0x7ef)](){const _0x542c16=_0x5f24fc;this[_0x542c16(0x541)]?.[_0x542c16(0x803)]({'sourceId':_0x7cf9e6,'messageType':_0x31112d[_0x542c16(0x209)],'content':{'type':_0x21c730[_0x542c16(0x8f2)],'label':this[_0x542c16(0xa85)]}});}['reset'](){const _0x531587=_0x5f24fc;this['unsubscribeListener']?.(),delete this[_0x531587(0x218)],this[_0x531587(0x791)]();}[_0x5f24fc(0x8fd)](){const _0x4b90db=_0x5f24fc;_0x4869a9[_0x4b90db(0x567)](this[_0x4b90db(0xa85)]),this[_0x4b90db(0x218)]?.(),delete this[_0x4b90db(0x218)],super[_0x4b90db(0x8fd)]();}[_0x5f24fc(0xa84)](){const _0x52940d=_0x5f24fc;return _0x4869a9[_0x52940d(0xa84)]();}[_0x5f24fc(0x2ac)](){return 0x1;}[_0x5f24fc(0x8a5)](_0x1864a5,_0x5096cd,_0x7b90fa){}['accumulateResult'](_0x5c219e,_0x2ecde7){return _0x5c219e;}['startTracing'](_0xc503f9,_0x40af59){const _0x12316a=_0x5f24fc;console[_0x12316a(0xabb)]('JobWorker:\x20Tracing\x20not\x20implemented');}[_0x5f24fc(0x5a2)](_0x78e09d,_0x40bc77){const _0x392e71=_0x5f24fc;console[_0x392e71(0xabb)]('JobWorker:\x20Tracing\x20not\x20implemented');}[_0x5f24fc(0x31a)](){const _0x3652c3=_0x5f24fc;this[_0x3652c3(0x218)]||(this[_0x3652c3(0x218)]=this['onMessage']((_0x4722bc,_0x3df5cb)=>{const _0x55526d=_0x3652c3;if(_0x40d481[_0x55526d(0x60e)](_0xb10df[_0x55526d(0x341)],_0x55526d(0x800),_0x3df5cb),!(_0x3df5cb instanceof File)){if(this[_0x55526d(0x51f)](_0x3df5cb))_0x40d481[_0x55526d(0x60e)](_0xb10df['Jobs'],_0x55526d(0x936),_0x3df5cb),this[_0x55526d(0xa84)]()?this[_0x55526d(0x73f)](_0x3df5cb['id'],_0x3df5cb[_0x55526d(0x3da)],_0x4722bc):this['sendReject'](_0x3df5cb['id'],_0x3df5cb[_0x55526d(0x3da)],_0x4722bc);else{if(this[_0x55526d(0x85c)](_0x3df5cb)){_0x40d481[_0x55526d(0x60e)](_0xb10df['Jobs'],_0x55526d(0xa59),_0x3df5cb);const {id:_0x39e336,parameters:_0xe1c434}=_0x3df5cb;this[_0x55526d(0x35a)](_0x39e336,_0xe1c434),_0x4869a9[_0x55526d(0x859)](this[_0x55526d(0xa85)],()=>this[_0x55526d(0x9cb)](_0x3df5cb['id'],_0x3df5cb,_0x4722bc));}}}}));}[_0x5f24fc(0x73f)](_0x241c88,_0x508f2b,_0x698db6){const _0x41545e=_0x5f24fc,_0xbc5627={'id':_0x241c88,'jobType':_0x508f2b,'jobPhase':_0xbd2ef4[_0x41545e(0x6df)],'available':!0x0,'queueLength':_0x4869a9['length'],'bid':this[_0x41545e(0x2ac)]()};_0x40d481[_0x41545e(0x60e)](_0xb10df[_0x41545e(0x341)],'JobWorker:\x20Sending\x20job\x20bid',_0xbc5627),this[_0x41545e(0x8be)](_0xbc5627,[_0x698db6]);}[_0x5f24fc(0x3cf)](_0x27d5db,_0x25aa43,_0x32b85f){const _0x5d4fd3=_0x5f24fc,_0x133057={'id':_0x27d5db,'jobType':_0x25aa43,'jobPhase':_0xbd2ef4[_0x5d4fd3(0x6df)],'available':!0x1,'queueLength':_0x4869a9[_0x5d4fd3(0x9a6)],'bid':0x0};_0x40d481['log'](_0xb10df[_0x5d4fd3(0x341)],_0x5d4fd3(0x349),_0x133057),this['send'](_0x133057,[_0x32b85f]);}async['handleJobAttribution'](_0x2bb3f1,_0x371260,_0x28e43a){const _0x8a3a4=_0x5f24fc;_0x40d481[_0x8a3a4(0x60e)](_0xb10df[_0x8a3a4(0x341)],_0x8a3a4(0x6d3),_0x371260);const _0x4d6f9f={'id':_0x2bb3f1,'jobType':_0x371260[_0x8a3a4(0x3da)],'parameters':_0x371260[_0x8a3a4(0x79c)]};try{switch(_0x371260[_0x8a3a4(0x3da)]){case _0x20053a[_0x8a3a4(0x2b0)][_0x8a3a4(0x3ba)]:await this[_0x8a3a4(0x64e)](_0x2bb3f1,_0x371260,_0x4d6f9f,_0x28e43a);break;case _0x20053a[_0x8a3a4(0x2b0)][_0x8a3a4(0x4a5)]:await this[_0x8a3a4(0xacc)](_0x2bb3f1,_0x371260,_0x4d6f9f,_0x28e43a);break;default:throw new Error(_0x8a3a4(0x354));}}catch(_0xbd7571){_0x40d481[_0x8a3a4(0x4d2)](_0x8a3a4(0x4f8),{'nodeId':this[_0x8a3a4(0x8d7)][_0x8a3a4(0x6e8)](),'nodeType':this[_0x8a3a4(0x8d7)][_0x8a3a4(0x781)],'data':{'job':_0x4d6f9f}},_0xbd7571);const _0x235603=_0xbd7571 instanceof Error?_0xbd7571[_0x8a3a4(0x2ba)]:_0x8a3a4(0x9f4),_0x33bed3={'id':_0x2bb3f1,'jobType':_0x371260[_0x8a3a4(0x3da)],'jobPhase':_0xbd2ef4[_0x8a3a4(0x7f4)],'message':_0x235603};await this[_0x8a3a4(0x8be)](_0x33bed3,[_0x28e43a]);}}async[_0x5f24fc(0x64e)](_0x4a645d,_0x1482e6,_0x4d9dc4,_0x2bf7de){const _0x3f9d82=_0x5f24fc,_0x34852d=Date[_0x3f9d82(0x2c1)](),_0x2fb259=await this[_0x3f9d82(0xaad)](_0x4a645d,_0x4d9dc4[_0x3f9d82(0x79c)]);this[_0x3f9d82(0x8a5)](_0x2fb259,_0x34852d,Date['now']());const _0x3d2262={'id':_0x4a645d,'jobType':_0x1482e6[_0x3f9d82(0x3da)],'jobPhase':_0xbd2ef4['Result'],'result':_0x2fb259};_0x40d481[_0x3f9d82(0x60e)](_0xb10df[_0x3f9d82(0x341)],'JobWorker:\x20Sending\x20job\x20result',_0x3d2262),await this[_0x3f9d82(0x8be)](_0x3d2262,[_0x2bf7de]),this[_0x3f9d82(0x5a2)](_0x4a645d,_0x4d9dc4[_0x3f9d82(0x79c)]);}async[_0x5f24fc(0xacc)](_0x1f47b5,_0x272a00,_0x15305e,_0x42a585){const _0x5b1b9f=_0x5f24fc,_0x55a03f=Date[_0x5b1b9f(0x2c1)]();let _0x29f7bb=0x0,_0x1005d7={};for await(const _0x4b5244 of this['internalProcessJobStream'](_0x15305e['id'],_0x15305e[_0x5b1b9f(0x79c)])){const _0x3e7a98={'id':_0x1f47b5,'jobType':_0x272a00['jobType'],'jobPhase':_0xbd2ef4[_0x5b1b9f(0x8fc)],'result':{..._0x4b5244,'index':_0x29f7bb}};_0x40d481[_0x5b1b9f(0x60e)](_0xb10df[_0x5b1b9f(0x341)],_0x5b1b9f(0x73a),_0x3e7a98),this[_0x5b1b9f(0x8be)](_0x3e7a98,[_0x42a585]),_0x1005d7=this[_0x5b1b9f(0x56f)](_0x1005d7,_0x4b5244),_0x29f7bb++;}this[_0x5b1b9f(0x8a5)](_0x1005d7,_0x55a03f,Date[_0x5b1b9f(0x2c1)]());const _0x2b6e1b={'id':_0x1f47b5,'jobType':_0x272a00[_0x5b1b9f(0x3da)],'jobPhase':_0xbd2ef4[_0x5b1b9f(0x9e1)],'result':{..._0x1005d7,'index':_0x29f7bb}};_0x40d481[_0x5b1b9f(0x60e)](_0xb10df[_0x5b1b9f(0x341)],_0x5b1b9f(0x47d),_0x2b6e1b),await this[_0x5b1b9f(0x8be)](_0x2b6e1b,[_0x42a585]),this[_0x5b1b9f(0x5a2)](_0x1f47b5,_0x15305e[_0x5b1b9f(0x79c)]);}[_0x5f24fc(0x51f)](_0x5d17b8){const _0x17d104=_0x5f24fc;return _0x5d17b8[_0x17d104(0xa7a)]===_0xbd2ef4['Request'];}['isJobAttribution'](_0x55e19c){const _0x521033=_0x5f24fc;return _0x55e19c[_0x521033(0xa7a)]===_0xbd2ef4[_0x521033(0x7dc)];}}function _0x561f17(_0x2294d2,_0x32b1b6){const _0x2c42bf=_0x5f24fc;return _0x2c42bf(0x3a9)+_0x2294d2+'-'+_0x32b1b6;}function _0x5b97e0(){const _0x4abbe8=_0x5f24fc,_0x3f9a0d=_0x4e3b58[_0x4abbe8(0x39d)](0x1);return _0x3f9a0d[_0x4abbe8(0x326)]('logs')[_0x4abbe8(0x2ef)]('id')['index'](_0x4abbe8(0xa23))[_0x4abbe8(0x2ef)]('agentId')[_0x4abbe8(0x2ef)]('threadId')[_0x4abbe8(0x2ef)](_0x4abbe8(0x586))[_0x4abbe8(0x2ef)](_0x4abbe8(0x4c3)),_0x3f9a0d;}function _0x24b46b(_0x603997){const _0x2a5572=_0x5f24fc;try{return JSON[_0x2a5572(0x36f)](_0x603997);}catch(_0x52832a){return _0x603997 instanceof Error?_0x603997['toString']():JSON[_0x2a5572(0x36f)](_0x2a5572(0x7fa));}}class _0x4b3666{static [_0x5f24fc(0x50d)];['logLevel']=_0x3c99b3[_0x5f24fc(0x3d2)];[_0x5f24fc(0x991)]=_0x3c99b3[_0x5f24fc(0xa90)];['commitType']=_0x38cbc4[_0x5f24fc(0x4fc)];['openedTraces']={};static ['getInstance']=()=>(_0x4b3666['instance']||(_0x4b3666[_0x5f24fc(0x50d)]=new _0x4b3666()),_0x4b3666[_0x5f24fc(0x50d)]);['openTrace'](_0x17e42d,_0x1740f3,_0x504792=!0x0){const _0xb848c5=_0x5f24fc;try{if(this[_0xb848c5(0x71e)][_0x1740f3])throw new Error(_0xb848c5(0xa22));const _0xd74fd2={'sequence':0x0};if(this[_0xb848c5(0x71e)][_0x1740f3]=_0xd74fd2,!_0x17e42d)return!0x0;const _0xd2ce6=function(_0x2ea8b6){const _0x46a915=_0xb848c5;return _0x2ea8b6['getTable'](_0x46a915(0x320));}(_0x17e42d);return _0xd74fd2[_0xb848c5(0xa2a)]=_0x17e42d,_0xd74fd2[_0xb848c5(0x326)]=_0xd2ce6,!0x0;}catch(_0x4b433d){return console[_0xb848c5(0x4d2)](_0xb848c5(0x553)+_0x504792,_0x4b433d),!!_0x504792&&(this[_0xb848c5(0x23a)](_0x1740f3),this[_0xb848c5(0x86e)](_0x17e42d,_0x1740f3,!0x1));}}['trace'](_0x24bd3c){const _0x9e797c=_0x5f24fc;try{const _0x5a3e1d=this[_0x9e797c(0x71e)][_0x24bd3c[_0x9e797c(0xa23)]];if(!_0x5a3e1d)throw new Error(_0x9e797c(0x766));_0x24bd3c[_0x9e797c(0x4c3)]=_0x5a3e1d[_0x9e797c(0x4c3)]++,_0x24bd3c[_0x9e797c(0x204)]>=this[_0x9e797c(0xb37)]&&console[_0x9e797c(0x60e)](JSON[_0x9e797c(0x36f)](_0x24bd3c,null,0x2)),this['commitTrace'](_0x24bd3c);}catch(_0x1b133a){console['error'](_0x9e797c(0x6d0),_0x1b133a);}}[_0x5f24fc(0x23a)](_0x2f40c3){const _0xd8d58a=_0x5f24fc;if(!_0x4b3666[_0xd8d58a(0x50d)])throw new Error('GenerativeAITracing\x20-\x20trace\x20is\x20not\x20open');if(!this[_0xd8d58a(0x71e)][_0x2f40c3])throw new Error('GenerativeAITracing\x20-\x20trace\x20job\x20id\x20does\x20not\x20match');delete this[_0xd8d58a(0x71e)][_0x2f40c3];}['commitTrace'](_0x54f620){const _0x21dbf8=_0x5f24fc;if(_0x54f620[_0x21dbf8(0x204)]<this[_0x21dbf8(0x991)]&&_0x54f620[_0x21dbf8(0x3da)]!==this[_0x21dbf8(0x914)])return;if(!this[_0x21dbf8(0x71e)][_0x54f620[_0x21dbf8(0xa23)]])throw new Error(_0x21dbf8(0x6bf));const _0x4df63e=this[_0x21dbf8(0x71e)][_0x54f620[_0x21dbf8(0xa23)]];if(!_0x4df63e[_0x21dbf8(0xa2a)])throw new Error(_0x21dbf8(0x485));if(!_0x4df63e[_0x21dbf8(0x326)])throw new Error(_0x21dbf8(0x93e));try{const _0x1632b6=function(_0x9021e4){const _0x2ad6a5=_0x21dbf8,_0x5499c9=[_0x2ad6a5(0x48a),_0x2ad6a5(0x586),_0x2ad6a5(0x3da),_0x2ad6a5(0x781),_0x2ad6a5(0xa23),_0x2ad6a5(0x204),_0x2ad6a5(0x74a),_0x2ad6a5(0x524),_0x2ad6a5(0x4c3),'errorDetails'],_0x5a2568={..._0x9021e4};for(const _0x1f7c8a of _0x5499c9)delete _0x5a2568[_0x1f7c8a];return{'timestamp':_0x9021e4[_0x2ad6a5(0x586)],'jobType':_0x9021e4['jobType'],'type':_0x9021e4[_0x2ad6a5(0x781)],'jobId':_0x9021e4['jobId'],'agentId':_0x9021e4[_0x2ad6a5(0x34e)]??'','traceLevel':_0x9021e4[_0x2ad6a5(0x204)],'blockId':_0x9021e4['blockId']??'','startTime':_0x9021e4['startTime'],'status':_0x9021e4[_0x2ad6a5(0x524)],'sequence':_0x9021e4[_0x2ad6a5(0x4c3)]??0x0,'errorDetails':_0x9021e4[_0x2ad6a5(0x2d1)]??'','metadata':_0x24b46b(_0x5a2568)};}(_0x54f620),_0x3e0215=(0x0,_0x58fdf1['v4'])();console[_0x21dbf8(0x60e)](_0x21dbf8(0x5ca),_0x1632b6[_0x21dbf8(0x781)]),_0x4df63e[_0x21dbf8(0x326)][_0x21dbf8(0x338)](_0x3e0215,_0x1632b6);}catch(_0x1a314b){console[_0x21dbf8(0x4d2)]('GenerativeAITracing\x20-\x20Error\x20while\x20committing\x20trace',_0x1a314b);}}}const _0x191a28=_0x4b3666[_0x5f24fc(0x445)]();async function _0x713f1d(_0x3da5a4,_0x133ae5,_0x514975,_0x4d2187,_0x36d1ca){const _0x330c5c=_0x5f24fc,_0x5af1ae=Date[_0x330c5c(0x2c1)](),_0x2c8955=_0x36d1ca['models'][_0x330c5c(0x260)](_0x43a1c0=>_0x43a1c0['id']===_0x514975[_0x330c5c(0xa0b)]);if(!_0x2c8955)throw new Error('Model\x20not\x20found');const _0x9be69b=_0x36d1ca['generativeAIWorkerConnectors']['find'](_0x1c1f51=>_0x1c1f51[_0x330c5c(0x613)]()===_0x2c8955[_0x330c5c(0x391)]);if(!_0x9be69b)throw new Error('No\x20connector\x20found\x20for\x20model');const _0x4ddef5=[],_0x2edcfc=(0x0,_0x58fdf1['v4'])(),_0x10855a=await _0x9be69b[_0x330c5c(0x64e)]({'type':_0x330c5c(0x45e),'prompt':_0x133ae5,'instructions':_0x514975['instructions'],'grammar':_0x514975[_0x330c5c(0x399)],'temperature':_0x514975[_0x330c5c(0x42f)],'maxTokens':_0x514975[_0x330c5c(0x8f5)],'threadId':_0x2edcfc},{'model':_0x2c8955});if(_0x330c5c(0x57a)!=typeof _0x10855a[_0x330c5c(0x51b)])throw new Error(_0x330c5c(0x8a2));if(_0x191a28['trace']({'jobType':_0x38cbc4[_0x330c5c(0x24c)],'type':_0x324482[_0x330c5c(0x723)],'jobId':_0x3da5a4,'blockId':_0x514975['id'],'traceLevel':_0x3c99b3['Debug'],'timestamp':Date[_0x330c5c(0x2c1)](),'startTime':_0x5af1ae,'status':'success','agentId':_0x2edcfc,'content':_0x133ae5,'instructions':_0x514975[_0x330c5c(0x4ac)],'result':_0x10855a[_0x330c5c(0x51b)]}),_0x514975[_0x330c5c(0x9e9)]?.[_0x330c5c(0x9fb)](_0x179015=>_0x179015[_0x330c5c(0x781)]===_0x24c1ae[_0x330c5c(0x5d2)]))return _0x4ddef5[_0x330c5c(0x96d)]({'content':_0x10855a[_0x330c5c(0x51b)],'start':0x0,'length':_0x10855a[_0x330c5c(0x51b)]['length']}),await _0xebbdf7(_0x3da5a4,_0x4ddef5,_0x514975,_0x4d2187,_0x36d1ca),void await _0xebbdf7(_0x3da5a4,_0x10855a[_0x330c5c(0x51b)],_0x514975,_0x4d2187,_0x36d1ca);_0x4ddef5['push']({'content':_0x10855a[_0x330c5c(0x51b)],'start':0x0,'length':_0x133ae5[_0x330c5c(0x9a6)]}),await _0xebbdf7(_0x3da5a4,_0x4ddef5,_0x514975,_0x4d2187,_0x36d1ca);}async function _0x5bcbc0(_0x138d66,_0x28dfca,_0x292ae5,_0x21c935,_0x2560cc){const _0x14c1c2=_0x5f24fc,_0x42250f=Date[_0x14c1c2(0x2c1)]();let _0x3c2c4a=[];if(_0x28dfca instanceof Array){for(const _0x3bb1ac of _0x28dfca)_0x3c2c4a=_0x3c2c4a[_0x14c1c2(0x476)](_0x21472b(_0x3bb1ac[_0x14c1c2(0x6b2)],_0x292ae5,_0x3bb1ac[_0x14c1c2(0x8c2)],_0x3bb1ac[_0x14c1c2(0x9a6)]));}else _0x3c2c4a=_0x21472b(_0x28dfca,_0x292ae5);_0x191a28[_0x14c1c2(0x213)]({'jobType':_0x38cbc4['Ingest'],'type':_0x324482[_0x14c1c2(0x547)],'traceLevel':_0x3c99b3['Debug'],'jobId':_0x138d66,'blockId':_0x292ae5['id'],'startTime':_0x42250f,'timestamp':Date['now'](),'status':_0x14c1c2(0x819),'totalChunks':_0x3c2c4a['length'],'chunkSize':_0x292ae5[_0x14c1c2(0x849)][_0x14c1c2(0x58d)]}),await _0xebbdf7(_0x138d66,_0x3c2c4a,_0x292ae5,_0x21c935,_0x2560cc);}function _0x21472b(_0x10c022,_0x3698d3,_0x8c6aab,_0x4f9a2a){const _0x40fcd7=_0x5f24fc,_0x66b2a2=[];for(let _0x266add=0x0;_0x266add<_0x10c022[_0x40fcd7(0x9a6)];_0x266add+=_0x3698d3['attributes']['size']){let _0x15d588=_0x266add-_0x3698d3[_0x40fcd7(0x849)][_0x40fcd7(0x5e7)];_0x15d588<0x0&&(_0x15d588=0x0);let _0xa101ee=_0x266add+_0x3698d3['attributes'][_0x40fcd7(0x58d)]+_0x3698d3[_0x40fcd7(0x849)][_0x40fcd7(0x5e7)];_0xa101ee>_0x10c022[_0x40fcd7(0x9a6)]&&(_0xa101ee=_0x10c022[_0x40fcd7(0x9a6)]);const _0x5e3e96=_0x10c022['substring'](_0x15d588,_0xa101ee);_0x66b2a2[_0x40fcd7(0x96d)]({'content':_0x5e3e96,'start':_0x8c6aab??_0x266add,'length':_0x4f9a2a??(_0x266add+_0x3698d3[_0x40fcd7(0x849)][_0x40fcd7(0x58d)]>_0x10c022['length']?_0x10c022['length']-_0x266add:_0x3698d3[_0x40fcd7(0x849)]['size'])});}return _0x66b2a2;}async function _0x3ed19c(_0xab583a,_0x4914f2,_0x5451ff,_0xff2803,_0x541d13){const _0x9ce681=_0x5f24fc,_0x22645d=Date[_0x9ce681(0x2c1)]();let _0x1995a7;if(_0x4914f2[_0x9ce681(0x604)][_0x9ce681(0x781)]['startsWith']('text/')||_0x4dbef8(_0x4914f2[_0x9ce681(0x604)]['name'],_0x56d8aa))_0x1995a7=await _0x4914f2['file']['text']();else{if(!_0x541d13['documentParserConnector'][_0x9ce681(0xaf4)](_0x4914f2['file']))throw new Error(_0x9ce681(0x2bb)+_0x4914f2[_0x9ce681(0x604)][_0x9ce681(0x781)]+_0x9ce681(0x686)+_0x4914f2[_0x9ce681(0x604)]['name']);_0x1995a7=await _0x541d13[_0x9ce681(0x832)]['parse'](_0x4914f2[_0x9ce681(0x604)]);}_0x191a28[_0x9ce681(0x213)]({'jobType':_0x38cbc4['Ingest'],'type':_0x324482[_0x9ce681(0x427)],'traceLevel':_0x3c99b3[_0x9ce681(0x4c2)],'blockId':_0x5451ff['id'],'jobId':_0xab583a,'startTime':_0x22645d,'timestamp':Date['now'](),'status':_0x9ce681(0x819),'documentType':_0x4914f2[_0x9ce681(0x604)][_0x9ce681(0x781)],'documentName':_0x4914f2['file'][_0x9ce681(0x696)],'extractionMethod':_0x9ce681(0x24a)}),await _0xebbdf7(_0xab583a,_0x1995a7,_0x5451ff,_0xff2803,_0x541d13);const _0xa766b8=[{'content':_0x1995a7,'start':0x0,'length':_0x1995a7[_0x9ce681(0x9a6)]}];await _0xebbdf7(_0xab583a,_0xa766b8,_0x5451ff,_0xff2803,_0x541d13);}const _0x56d8aa=[_0x5f24fc(0x542),_0x5f24fc(0x558),'.py',_0x5f24fc(0xabf),_0x5f24fc(0x86d),_0x5f24fc(0x1ec),_0x5f24fc(0x2f8),_0x5f24fc(0x69f),_0x5f24fc(0x623),'.yml',_0x5f24fc(0x8ac),_0x5f24fc(0xa69),_0x5f24fc(0x794),_0x5f24fc(0x726),'.cfg',_0x5f24fc(0x234),'.sql','.rb',_0x5f24fc(0xa8e),_0x5f24fc(0x340),'.c',_0x5f24fc(0x94e),_0x5f24fc(0x6d1),'.r',_0x5f24fc(0x5bb),'.swift','.scala','.kt',_0x5f24fc(0x387),_0x5f24fc(0x1fe),_0x5f24fc(0x597),_0x5f24fc(0x2f7),_0x5f24fc(0xb30),_0x5f24fc(0xad6),_0x5f24fc(0x499),_0x5f24fc(0x6a3),_0x5f24fc(0x83e),'.exs',_0x5f24fc(0x4ee),'.ps1',_0x5f24fc(0x6a4),'.m','.vbs',_0x5f24fc(0xa1c),_0x5f24fc(0x788),'.jl','.ipynb',_0x5f24fc(0x599),_0x5f24fc(0x3cd),_0x5f24fc(0x8ca),_0x5f24fc(0x443),_0x5f24fc(0x799),_0x5f24fc(0x84f),_0x5f24fc(0x98b),_0x5f24fc(0x44a),'.ejs',_0x5f24fc(0x587),_0x5f24fc(0xb00),_0x5f24fc(0x47c),'.tpl',_0x5f24fc(0x885),_0x5f24fc(0x413),_0x5f24fc(0x827)];function _0x4dbef8(_0x3e7800,_0xc1c4e5){const _0x46ad4d=_0x5f24fc;return _0xc1c4e5[_0x46ad4d(0x465)]('.'+(_0x3e7800[_0x46ad4d(0x5a1)]('.')[_0x46ad4d(0x251)]()?.[_0x46ad4d(0x307)]()||''));}async function _0x595527(_0x3e3026,_0x36431b,_0x55016e,_0x18bcf5,_0x43d6fe){const _0x451188=_0x5f24fc,_0x5d96ca=Date[_0x451188(0x2c1)](),_0x2feb13=new Set();let _0x46b8b7=0x0;for(const _0x31d20e of _0x36431b)_0x46b8b7+=_0x31d20e['content'][_0x451188(0x9a6)],await _0x37010a(_0x31d20e[_0x451188(0x6b2)],_0x2feb13,_0x55016e,_0x43d6fe['nlpLibraryConnector']);_0x191a28['trace']({'jobType':_0x38cbc4['Ingest'],'type':_0x324482[_0x451188(0x837)],'jobId':_0x3e3026,'blockId':_0x55016e['id'],'traceLevel':_0x3c99b3[_0x451188(0x4c2)],'startTime':_0x5d96ca,'timestamp':Date[_0x451188(0x2c1)](),'status':_0x451188(0x819),'contentLength':_0x46b8b7,'totalChunks':_0x36431b instanceof Array?_0x36431b['length']:0x1,'entitiesExtracted':_0x2feb13,'totalEntities':_0x2feb13['size']}),await _0xebbdf7(_0x3e3026,_0x2feb13,_0x55016e,_0x18bcf5,_0x43d6fe);}async function _0x37010a(_0x342949,_0x123622,_0x4654c2,_0x554543){const _0x55c506=_0x5f24fc,_0xe5f8d7=await _0x554543[_0x55c506(0x284)](_0x342949,{'ner':_0x4654c2['attributes']['ner'],'noun':_0x4654c2['attributes'][_0x55c506(0x9d4)],'propn':_0x4654c2[_0x55c506(0x849)][_0x55c506(0x948)],'verb':_0x4654c2[_0x55c506(0x849)][_0x55c506(0x368)]});for(const _0x45d09a of _0xe5f8d7)_0x123622[_0x55c506(0x859)](_0x45d09a);}function _0x47becb(_0x5ce283,_0x40cf5c,_0x15c1ed,_0x2bf56c,_0x33b2fd){const _0x53c687=_0x5f24fc,_0x86f6d0=Date['now']();if(_0x15c1ed['accumulated']||(_0x15c1ed[_0x53c687(0x285)]={}),_0x53c687(0x57a)==typeof _0x40cf5c?_0x15c1ed['accumulated']['content']=_0x40cf5c:_0x40cf5c instanceof Set?_0x15c1ed['accumulated'][_0x53c687(0x8cb)]=_0x40cf5c:_0x40cf5c instanceof Map?_0x15c1ed['accumulated'][_0x53c687(0x700)]=_0x40cf5c:_0x40cf5c instanceof Array?_0x15c1ed[_0x53c687(0x285)]['index']=_0x40cf5c:_0x15c1ed['accumulated']['file']=_0x40cf5c,_0x15c1ed['timesCalled']=_0x15c1ed[_0x53c687(0x685)]?_0x15c1ed[_0x53c687(0x685)]+0x1:0x1,_0x5936f3(_0x15c1ed,_0x2bf56c)>_0x15c1ed['timesCalled'])return;if(!(_0x15c1ed[_0x53c687(0x285)][_0x53c687(0x8cb)]&&_0x15c1ed[_0x53c687(0x285)][_0x53c687(0x604)]&&_0x15c1ed[_0x53c687(0x285)][_0x53c687(0x6b2)]&&_0x15c1ed['accumulated'][_0x53c687(0x2ef)]))throw new Error('Graph\x20database\x20block\x20is\x20missing\x20required\x20data');let _0x3a031f=0x0;const _0x486d54=_0x33b2fd[_0x53c687(0xaa0)][_0x53c687(0x786)](_0x15c1ed['id']);for(const _0x5ae67e of _0x15c1ed[_0x53c687(0x285)][_0x53c687(0x8cb)]){let _0x501ec3=[];_0x501ec3=_0x15c1ed['accumulated'][_0x53c687(0x2ef)][_0x53c687(0x776)](_0x24f258=>_0x24f258[_0x53c687(0x6b2)][_0x53c687(0x465)](_0x5ae67e));try{_0x486d54[_0x53c687(0x255)](_0x15c1ed[_0x53c687(0x285)][_0x53c687(0x604)]['pathName'],_0x15c1ed[_0x53c687(0x285)]['content'],_0x501ec3,_0x5ae67e),_0x3a031f+=0x1;}catch(_0x3a4ac0){}}if(_0x15c1ed[_0x53c687(0x285)]['relations']){for(const [_0x1bbd45,_0x2ec1ad]of _0x15c1ed[_0x53c687(0x285)][_0x53c687(0x700)])for(const _0x495d52 of _0x2ec1ad)try{_0x486d54[_0x53c687(0x4e8)](_0x1bbd45,_0x495d52);}catch(_0x56b0d5){}if(_0x486d54[_0x53c687(0x4ea)]()){let _0x2994f0=''+(_0x33b2fd[_0x53c687(0x952)]??0x1);for(const _0x53d0f3 of _0x2bf56c)if(_0x53d0f3['type']===_0x3c2286[_0x53c687(0x723)]){_0x2994f0=_0x2994f0+'-'+(_0x53d0f3[_0x53c687(0x952)]??0x1);break;}_0x486d54[_0x53c687(0x899)](_0x2994f0);}_0x191a28[_0x53c687(0x213)]({'jobType':_0x38cbc4[_0x53c687(0x24c)],'type':_0x324482[_0x53c687(0x5ce)],'jobId':_0x5ce283,'blockId':_0x15c1ed['id'],'status':_0x53c687(0x819),'startTime':_0x86f6d0,'timestamp':Date[_0x53c687(0x2c1)](),'traceLevel':_0x3c99b3[_0x53c687(0x4c2)],'nodesAdded':_0x3a031f,'entities':_0x15c1ed[_0x53c687(0x285)][_0x53c687(0x8cb)],'relations':_0x15c1ed[_0x53c687(0x285)][_0x53c687(0x700)]});}}async function _0x3b8703(_0x4c4013,_0x305d51,_0x543ece,_0x561973,_0x466371){const _0x2f0dd8=_0x5f24fc,_0x5400bd=_0x466371['models'][_0x2f0dd8(0x260)](_0x45b49b=>_0x45b49b['id']===_0x543ece['id']);if(!_0x5400bd)throw new Error(_0x2f0dd8(0x817));switch(_0x5400bd['outputType']){case _0x20053a[_0x2f0dd8(0x450)][_0x2f0dd8(0x5d2)]:if('string'!=typeof _0x305d51)throw new Error(_0x2f0dd8(0x28b));await async function(_0x159d24,_0xdf1d1,_0x185966,_0x212b2b,_0x3ffeb7,_0x36545c){const _0x595060=_0x2f0dd8,_0x3146e1=Date['now']();let _0x42faae;const _0x64e5f6=_0x36545c[_0x595060(0x694)][_0x595060(0x260)](_0x455c3b=>_0x455c3b[_0x595060(0x613)]()===_0x185966[_0x595060(0x391)]);if(!_0x64e5f6)throw new Error(_0x595060(0x7d8));_0x42faae=await async function(_0xfd2a7c,_0x14ceb6,_0x58c1db){const _0x4524bd=_0x595060,_0x3b2806=await _0x14ceb6[_0x4524bd(0x64e)]({'type':'prompt','prompt':_0xfd2a7c,'threadId':''},{'model':_0x58c1db});if(_0x3b2806[_0x4524bd(0x51b)]instanceof Array)throw new Error(_0x4524bd(0x958));return _0x3b2806[_0x4524bd(0x51b)];}(_0xdf1d1,_0x64e5f6,_0x185966),_0x191a28[_0x595060(0x213)]({'jobType':_0x38cbc4[_0x595060(0x24c)],'type':_0x324482[_0x595060(0x301)],'jobId':_0x159d24,'blockId':_0x212b2b['id'],'traceLevel':_0x3c99b3['Debug'],'timestamp':Date[_0x595060(0x2c1)](),'startTime':_0x3146e1,'status':_0x595060(0x819),'modelName':_0x185966['id'],'inputType':_0x185966[_0x595060(0x3d1)],'outputType':_0x185966[_0x595060(0x473)],'content':_0xdf1d1,'results':_0x42faae}),await _0xebbdf7(_0x159d24,_0x42faae,_0x212b2b,_0x3ffeb7,_0x36545c);}(_0x4c4013,_0x305d51,_0x5400bd,_0x543ece,_0x561973,_0x466371);break;case _0x20053a[_0x2f0dd8(0x450)]['Vector']:if(!(_0x305d51 instanceof Array))throw new Error(_0x2f0dd8(0xac3));await async function(_0x5d3e1,_0x4814a2,_0x2af165,_0x3737b8,_0x36b062,_0x20d724){const _0xce2644=_0x2f0dd8,_0x164abd=Date['now'](),_0x12f61b=[],_0x2a4d4f=_0x20d724[_0xce2644(0x694)][_0xce2644(0x260)](_0x1085a1=>_0x1085a1[_0xce2644(0x613)]()===_0x2af165[_0xce2644(0x391)]);if(!_0x2a4d4f)throw new Error('No\x20connector\x20found\x20for\x20model');for(const _0x1a97bd of _0x4814a2)_0x12f61b[_0xce2644(0x96d)](await _0x17a9a7(_0x1a97bd,_0x2a4d4f,_0x2af165));_0x191a28['trace']({'jobType':_0x38cbc4['Ingest'],'type':_0x324482[_0xce2644(0x617)],'jobId':_0x5d3e1,'blockId':_0x3737b8['id'],'traceLevel':_0x3c99b3[_0xce2644(0x4c2)],'timestamp':Date['now'](),'startTime':_0x164abd,'status':_0xce2644(0x819),'modelName':_0x2af165['id'],'inputType':_0x2af165[_0xce2644(0x3d1)],'outputType':_0x2af165[_0xce2644(0x473)],'totalVectors':_0x12f61b[_0xce2644(0x9a6)]}),await _0xebbdf7(_0x5d3e1,_0x12f61b,_0x3737b8,_0x36b062,_0x20d724);}(_0x4c4013,_0x305d51,_0x5400bd,_0x543ece,_0x561973,_0x466371);}}async function _0x17a9a7(_0x2a7070,_0x41fa43,_0x354e85){const _0x186659=_0x5f24fc;return(await _0x41fa43['processJob']({'type':_0x186659(0x45e),'prompt':_0x2a7070[_0x186659(0x6b2)],'threadId':''},{'model':_0x354e85}))[_0x186659(0x51b)];}async function _0x53c8bf(_0x4698eb,_0x12ba5f,_0x1daa54,_0x3f377e,_0x46f5fd){const _0x1a05d1=_0x5f24fc,_0xd265d9=Date['now']();if(_0x1daa54[_0x1a05d1(0x285)]||(_0x1daa54['accumulated']={}),_0x12ba5f instanceof Array?_0x1daa54[_0x1a05d1(0x285)][_0x1a05d1(0x2ef)]=_0x12ba5f:_0x1daa54[_0x1a05d1(0x285)]['entities']=_0x12ba5f,_0x1daa54[_0x1a05d1(0x685)]=_0x1daa54[_0x1a05d1(0x685)]?_0x1daa54[_0x1a05d1(0x685)]+0x1:0x1,_0x5936f3(_0x1daa54,_0x3f377e)>_0x1daa54[_0x1a05d1(0x685)])return;if(!_0x1daa54[_0x1a05d1(0x285)][_0x1a05d1(0x2ef)]||!_0x1daa54[_0x1a05d1(0x285)][_0x1a05d1(0x8cb)])throw new Error(_0x1a05d1(0x564));const _0x4bd6a4=new Map();for(const _0x174266 of _0x1daa54[_0x1a05d1(0x285)]['index'])_0x57aa04(_0x174266[_0x1a05d1(0x6b2)],_0x1daa54[_0x1a05d1(0x285)][_0x1a05d1(0x8cb)],_0x4bd6a4);_0x191a28[_0x1a05d1(0x213)]({'jobType':_0x38cbc4['Ingest'],'type':_0x324482[_0x1a05d1(0x743)],'jobId':_0x4698eb,'blockId':_0x1daa54['id'],'traceLevel':_0x3c99b3[_0x1a05d1(0x4c2)],'timestamp':Date[_0x1a05d1(0x2c1)](),'startTime':_0xd265d9,'status':_0x1a05d1(0x819),'entities':_0x1daa54[_0x1a05d1(0x285)][_0x1a05d1(0x8cb)],'relations':_0x4bd6a4,'totalRelationsExtracted':_0x4bd6a4[_0x1a05d1(0x58d)]}),await _0xebbdf7(_0x4698eb,_0x4bd6a4,_0x1daa54,_0x3f377e,_0x46f5fd);}function _0x57aa04(_0x395eec,_0x1315ea,_0x2a97a9){const _0x4d3fee=_0x5f24fc;for(const _0x56a7ff of _0x1315ea)for(const _0x221c23 of _0x1315ea){if(_0x56a7ff===_0x221c23)continue;const _0x26dc73=_0x395eec[_0x4d3fee(0x5b2)](_0x56a7ff),_0x388488=_0x395eec[_0x4d3fee(0x5b2)](_0x221c23);-0x1!==_0x26dc73&&-0x1!==_0x388488&&(_0x2a97a9[_0x4d3fee(0x4cb)](_0x56a7ff)||_0x2a97a9[_0x4d3fee(0x338)](_0x56a7ff,new Set()),_0x2a97a9[_0x4d3fee(0xb07)](_0x56a7ff)[_0x4d3fee(0x859)](_0x221c23));}return _0x2a97a9;}async function _0x52e193(_0x1953b7,_0x52d062,_0x1a32a7,_0x4e6835,_0x175038){const _0x2056ae=_0x5f24fc,_0x5acfd3=Date[_0x2056ae(0x2c1)]();let _0x4f77f8=[];if(_0x52d062 instanceof Array)for(const _0x393a4a of _0x52d062){const _0x312165=await _0x175038[_0x2056ae(0x20b)]['getSentences'](_0x393a4a[_0x2056ae(0x6b2)]);_0x4f77f8=_0x4f77f8[_0x2056ae(0x476)](_0x312165[_0x2056ae(0xa4a)](_0x363b9b=>({'content':_0x363b9b,'start':_0x393a4a[_0x2056ae(0x8c2)],'length':_0x393a4a['length']})));}else _0x4f77f8=(await _0x175038[_0x2056ae(0x20b)]['getSentences'](_0x52d062))['map'](_0x3ef83d=>({'content':_0x3ef83d,'start':_0x52d062['indexOf'](_0x3ef83d),'length':_0x3ef83d[_0x2056ae(0x9a6)]}));_0x191a28[_0x2056ae(0x213)]({'jobType':_0x38cbc4['Ingest'],'type':_0x324482[_0x2056ae(0x9d8)],'jobId':_0x1953b7,'blockId':_0x1a32a7['id'],'traceLevel':_0x3c99b3[_0x2056ae(0x4c2)],'startTime':_0x5acfd3,'timestamp':Date[_0x2056ae(0x2c1)](),'status':_0x2056ae(0x819),'totalSentences':_0x4f77f8[_0x2056ae(0x9a6)],'averageSentenceLength':_0x4f77f8[_0x2056ae(0x3a3)]((_0x251675,_0x2ebf21)=>_0x251675+_0x2ebf21[_0x2056ae(0x9a6)],0x0)/_0x4f77f8[_0x2056ae(0x9a6)]}),await _0xebbdf7(_0x1953b7,_0x4f77f8,_0x1a32a7,_0x4e6835,_0x175038);}function _0x3d211f(_0x59b822,_0x2d335f,_0x138cab,_0x19bf1b,_0x157252){const _0x45907b=_0x5f24fc,_0x5dd3d1=Date['now']();var _0x18b3d9;if(_0x138cab[_0x45907b(0x285)]||(_0x138cab[_0x45907b(0x285)]={}),_0x2d335f instanceof Array?(_0x18b3d9=_0x2d335f)[0x0]instanceof Array&&_0x45907b(0x522)==typeof _0x18b3d9[0x0]?.[0x0]?_0x138cab[_0x45907b(0x285)][_0x45907b(0x6c5)]=_0x2d335f:_0x138cab['accumulated']['index']=_0x2d335f:'string'==typeof _0x2d335f?_0x138cab[_0x45907b(0x285)][_0x45907b(0x6b2)]=_0x2d335f:_0x138cab[_0x45907b(0x285)]['file']=_0x2d335f,_0x138cab[_0x45907b(0x685)]=_0x138cab[_0x45907b(0x685)]?_0x138cab[_0x45907b(0x685)]+0x1:0x1,_0x5936f3(_0x138cab,_0x19bf1b)>_0x138cab[_0x45907b(0x685)])return;if(!(_0x138cab[_0x45907b(0x285)][_0x45907b(0x6b2)]&&_0x138cab[_0x45907b(0x285)][_0x45907b(0x2ef)]&&_0x138cab[_0x45907b(0x285)][_0x45907b(0x6c5)]&&_0x138cab[_0x45907b(0x285)][_0x45907b(0x604)]))throw new Error(_0x45907b(0x87b));const _0x516781=_0x157252[_0x45907b(0xaa0)][_0x45907b(0x58a)](_0x138cab['id']);if(_0x516781[_0x45907b(0x8c5)](_0x138cab[_0x45907b(0x285)][_0x45907b(0x604)][_0x45907b(0x54c)],_0x138cab[_0x45907b(0x285)]['content'],_0x138cab[_0x45907b(0x285)][_0x45907b(0x2ef)],_0x138cab[_0x45907b(0x285)][_0x45907b(0x6c5)]),_0x516781[_0x45907b(0x4ea)]()){let _0xc8e37c=''+(_0x157252[_0x45907b(0x952)]??0x1);for(const _0x4d1a4e of _0x19bf1b)_0x4d1a4e['type']===_0x3c2286[_0x45907b(0x723)]&&(_0xc8e37c=_0xc8e37c+'-'+(_0x4d1a4e[_0x45907b(0x952)]??0x1));_0x516781[_0x45907b(0x899)](_0xc8e37c);}_0x191a28[_0x45907b(0x213)]({'jobType':_0x38cbc4[_0x45907b(0x24c)],'type':_0x324482['VectorDatabase'],'jobId':_0x59b822,'blockId':_0x138cab['id'],'traceLevel':_0x3c99b3[_0x45907b(0x4c2)],'startTime':_0x5dd3d1,'timestamp':Date[_0x45907b(0x2c1)](),'status':_0x45907b(0x819),'databaseName':_0x516781[_0x45907b(0x520)](),'vectorsAdded':_0x138cab[_0x45907b(0x285)][_0x45907b(0x6c5)][_0x45907b(0x9a6)],'filePathName':_0x138cab[_0x45907b(0x285)]['file']['pathName']});}async function _0x24b705(_0xc56919,_0x3b048b,_0x138e88,_0x239fb2,_0xc9e16f){const _0x5ef18c=_0x5f24fc,_0x12d2ee=Date[_0x5ef18c(0x2c1)]();let _0x2dde12=[];if(_0x3b048b instanceof Array){for(const _0x53fb18 of _0x3b048b)_0x2dde12=_0x2dde12[_0x5ef18c(0x476)](_0x2ebef7(_0x53fb18[_0x5ef18c(0x6b2)],_0x138e88,_0x53fb18['start'],_0x53fb18[_0x5ef18c(0x9a6)]));}else _0x2dde12=_0x2ebef7(_0x3b048b,_0x138e88);_0x191a28['trace']({'jobType':_0x38cbc4[_0x5ef18c(0x24c)],'type':_0x324482[_0x5ef18c(0xa89)],'jobId':_0xc56919,'traceLevel':_0x3c99b3[_0x5ef18c(0x4c2)],'blockId':_0x138e88['id'],'startTime':_0x12d2ee,'timestamp':Date[_0x5ef18c(0x2c1)](),'status':_0x5ef18c(0x819),'totalChunks':_0x2dde12[_0x5ef18c(0x9a6)],'averageChunkLength':_0x2dde12[_0x5ef18c(0x3a3)]((_0x431be9,_0x81c563)=>_0x431be9+_0x81c563[_0x5ef18c(0x9a6)],0x0)/_0x2dde12['length']}),await _0xebbdf7(_0xc56919,_0x2dde12,_0x138e88,_0x239fb2,_0xc9e16f);}function _0x2ebef7(_0x13a126,_0x30bd1d,_0x2b3482,_0x48e651){const _0x4f8ce5=_0x5f24fc,_0x1082c8=[],_0x3b3fc0=_0x13a126[_0x4f8ce5(0x5a1)]('\x20');let _0x5a82a6='',_0x2ceb2b=-0x1,_0x58dad5=0x0,_0x2b81db=0x0;for(const _0x16a138 of _0x3b3fc0){if(_0x5a82a6[_0x4f8ce5(0x9a6)]+_0x16a138[_0x4f8ce5(0x9a6)]>_0x30bd1d['attributes'][_0x4f8ce5(0x58d)]){const _0x48bdf4=_0x5a82a6['length'];let _0x3af732=_0x2ceb2b,_0x28a861='';for(;_0x3af732>=0x0&&_0x28a861[_0x4f8ce5(0x9a6)]+_0x3b3fc0[_0x3af732][_0x4f8ce5(0x9a6)]<_0x30bd1d[_0x4f8ce5(0x849)][_0x4f8ce5(0x5e7)];)_0x28a861=_0x3b3fc0[_0x3af732]+'\x20'+_0x28a861,_0x3af732--;let _0x18ef15=_0x58dad5,_0x10226b='';for(;_0x18ef15<_0x3b3fc0[_0x4f8ce5(0x9a6)]&&_0x10226b[_0x4f8ce5(0x9a6)]+_0x3b3fc0[_0x18ef15][_0x4f8ce5(0x9a6)]<_0x30bd1d[_0x4f8ce5(0x849)][_0x4f8ce5(0x5e7)];)_0x10226b+=_0x3b3fc0[_0x18ef15]+'\x20',_0x18ef15++;_0x5a82a6=_0x28a861+_0x5a82a6+_0x10226b,_0x1082c8[_0x4f8ce5(0x96d)]({'content':_0x5a82a6[_0x4f8ce5(0xa98)](),'start':_0x2b3482??_0x2b81db,'length':_0x48e651??_0x48bdf4}),_0x5a82a6='',_0x2ceb2b=_0x58dad5-0x1,_0x2b81db+=_0x48bdf4;}_0x5a82a6+=_0x16a138+'\x20',_0x58dad5++;}if(_0x5a82a6['length']>0x0){const _0x50c457=_0x5a82a6['length'];let _0x3e510a=_0x2ceb2b,_0xffea4b='';for(;_0x3e510a>=0x0&&_0xffea4b[_0x4f8ce5(0x9a6)]+_0x3b3fc0[_0x3e510a][_0x4f8ce5(0x9a6)]<_0x30bd1d['attributes'][_0x4f8ce5(0x5e7)];)_0xffea4b=_0x3b3fc0[_0x3e510a]+'\x20'+_0xffea4b,_0x3e510a--;_0x5a82a6=_0xffea4b+_0x5a82a6,_0x1082c8[_0x4f8ce5(0x96d)]({'content':_0x5a82a6[_0x4f8ce5(0xa98)](),'start':_0x2b3482??_0x2b81db,'length':_0x48e651??_0x50c457});}return _0x1082c8;}async function _0xebbdf7(_0xa2aea5,_0x2d07cd,_0x2e395a,_0x151a35,_0x56b1fe){const _0x11d9f6=_0x5f24fc;for(const _0x4cf481 of _0x2e395a[_0x11d9f6(0x9e9)]||[]){const _0x3fcc80=_0x151a35[_0x11d9f6(0x260)](_0x404e78=>_0x404e78['uid']===_0x4cf481['uid']);if(_0x3fcc80)switch(_0x3fcc80[_0x11d9f6(0x781)]){case _0x3c2286[_0x11d9f6(0x723)]:_0x4cf481[_0x11d9f6(0x781)]===_0x24c1ae['Text']&&_0x11d9f6(0x57a)==typeof _0x2d07cd&&await _0x713f1d(_0xa2aea5,_0x2d07cd,_0x3fcc80,_0x151a35,_0x56b1fe);break;case _0x3c2286[_0x11d9f6(0x547)]:_0x4cf481['type']===_0x24c1ae[_0x11d9f6(0x5d2)]&&_0x11d9f6(0x57a)==typeof _0x2d07cd&&await _0x5bcbc0(_0xa2aea5,_0x2d07cd,_0x3fcc80,_0x151a35,_0x56b1fe),_0x4cf481['type']===_0x24c1ae['Index']&&_0x2d07cd instanceof Array&&await _0x5bcbc0(_0xa2aea5,_0x2d07cd,_0x3fcc80,_0x151a35,_0x56b1fe);break;case _0x3c2286[_0x11d9f6(0x427)]:_0x4cf481[_0x11d9f6(0x781)]===_0x24c1ae[_0x11d9f6(0x308)]&&await _0x3ed19c(_0xa2aea5,_0x2d07cd,_0x3fcc80,_0x151a35,_0x56b1fe);break;case _0x3c2286[_0x11d9f6(0x837)]:_0x4cf481[_0x11d9f6(0x781)]===_0x24c1ae[_0x11d9f6(0x243)]&&_0x2d07cd instanceof Array&&await _0x595527(_0xa2aea5,_0x2d07cd,_0x3fcc80,_0x151a35,_0x56b1fe);break;case _0x3c2286[_0x11d9f6(0x5ce)]:_0x4cf481[_0x11d9f6(0x781)]===_0x24c1ae[_0x11d9f6(0x5d2)]&&'string'==typeof _0x2d07cd&&_0x47becb(_0xa2aea5,_0x2d07cd,_0x3fcc80,_0x151a35,_0x56b1fe),_0x4cf481['type']===_0x24c1ae['Index']&&_0x2d07cd instanceof Array&&_0x47becb(_0xa2aea5,_0x2d07cd,_0x3fcc80,_0x151a35,_0x56b1fe),_0x4cf481[_0x11d9f6(0x781)]===_0x24c1ae[_0x11d9f6(0x8bf)]&&_0x2d07cd instanceof Set&&_0x47becb(_0xa2aea5,_0x2d07cd,_0x3fcc80,_0x151a35,_0x56b1fe),_0x4cf481['type']===_0x24c1ae[_0x11d9f6(0x92f)]&&_0x2d07cd instanceof Map&&_0x47becb(_0xa2aea5,_0x2d07cd,_0x3fcc80,_0x151a35,_0x56b1fe),_0x4cf481['type']===_0x24c1ae[_0x11d9f6(0x308)]&&_0x47becb(_0xa2aea5,_0x2d07cd,_0x3fcc80,_0x151a35,_0x56b1fe);break;case _0x3c2286[_0x11d9f6(0x263)]:_0x4cf481[_0x11d9f6(0x781)]===_0x24c1ae[_0x11d9f6(0x5d2)]&&'string'==typeof _0x2d07cd&&await _0x3b8703(_0xa2aea5,_0x2d07cd,_0x3fcc80,_0x151a35,_0x56b1fe),_0x4cf481['type']===_0x24c1ae['Index']&&_0x2d07cd instanceof Array&&await _0x3b8703(_0xa2aea5,_0x2d07cd,_0x3fcc80,_0x151a35,_0x56b1fe);break;case _0x3c2286[_0x11d9f6(0x743)]:_0x4cf481[_0x11d9f6(0x781)]===_0x24c1ae['Index']&&_0x2d07cd instanceof Array&&await _0x53c8bf(_0xa2aea5,_0x2d07cd,_0x3fcc80,_0x151a35,_0x56b1fe),_0x4cf481[_0x11d9f6(0x781)]===_0x24c1ae[_0x11d9f6(0x8bf)]&&_0x2d07cd instanceof Set&&await _0x53c8bf(_0xa2aea5,_0x2d07cd,_0x3fcc80,_0x151a35,_0x56b1fe);break;case _0x3c2286['SentenceSplitter']:_0x4cf481[_0x11d9f6(0x781)]===_0x24c1ae['Text']&&_0x11d9f6(0x57a)==typeof _0x2d07cd&&await _0x52e193(_0xa2aea5,_0x2d07cd,_0x3fcc80,_0x151a35,_0x56b1fe),_0x4cf481['type']===_0x24c1ae[_0x11d9f6(0x243)]&&_0x2d07cd instanceof Array&&await _0x52e193(_0xa2aea5,_0x2d07cd,_0x3fcc80,_0x151a35,_0x56b1fe);break;case _0x3c2286[_0x11d9f6(0x89f)]:_0x4cf481['type']===_0x24c1ae['Text']&&_0x11d9f6(0x57a)==typeof _0x2d07cd&&_0x3d211f(_0xa2aea5,_0x2d07cd,_0x3fcc80,_0x151a35,_0x56b1fe),_0x4cf481[_0x11d9f6(0x781)]===_0x24c1ae[_0x11d9f6(0x243)]&&_0x2d07cd instanceof Array&&_0x3d211f(_0xa2aea5,_0x2d07cd,_0x3fcc80,_0x151a35,_0x56b1fe),_0x4cf481['type']===_0x24c1ae[_0x11d9f6(0x5b5)]&&_0x2d07cd instanceof Array&&_0x3d211f(_0xa2aea5,_0x2d07cd,_0x3fcc80,_0x151a35,_0x56b1fe),_0x4cf481[_0x11d9f6(0x781)]===_0x24c1ae[_0x11d9f6(0x308)]&&_0x3d211f(_0xa2aea5,_0x2d07cd,_0x3fcc80,_0x151a35,_0x56b1fe);break;case _0x3c2286['WordSplitter']:_0x4cf481['type']===_0x24c1ae[_0x11d9f6(0x5d2)]&&_0x11d9f6(0x57a)==typeof _0x2d07cd&&await _0x24b705(_0xa2aea5,_0x2d07cd,_0x3fcc80,_0x151a35,_0x56b1fe),_0x4cf481[_0x11d9f6(0x781)]===_0x24c1ae['Index']&&_0x2d07cd instanceof Array&&await _0x24b705(_0xa2aea5,_0x2d07cd,_0x3fcc80,_0x151a35,_0x56b1fe);}}}function _0x5936f3(_0x28a2ea,_0x1353f8){const _0x4fb3a6=_0x5f24fc;return _0x1353f8[_0x4fb3a6(0x776)](_0x1a3360=>_0x1a3360['links']?.[_0x4fb3a6(0x9fb)](_0xc33d82=>_0xc33d82[_0x4fb3a6(0x275)]===_0x28a2ea[_0x4fb3a6(0x275)]))[_0x4fb3a6(0x9a6)];}async function _0x4aae7c(_0x5261e1,_0x1b25ed,_0x5e6222,_0x51cf7b,_0x30f67b){const _0x72dd82=_0x5f24fc;try{let _0x22ecd0;switch(_0x5e6222['type']){case _0x3c2286['ObjectStorageUpload']:const _0x57f94=_0x30f67b['contentMediator']['getObjectStoreBucket'](_0x5e6222['id']);_0x22ecd0=await _0x57f94[_0x72dd82(0xb07)](_0x1b25ed);break;case _0x3c2286[_0x72dd82(0x441)]:const _0x5e2b82=_0x30f67b[_0x72dd82(0xaa0)]['getExternalStorageConnection'](_0x5e6222['id']);_0x22ecd0=await _0x5e2b82[_0x72dd82(0xb07)](_0x1b25ed);}if(!_0x22ecd0)throw new Error(_0x72dd82(0x7bb));await _0xebbdf7(_0x5261e1,{'file':_0x22ecd0,'pathName':_0x1b25ed},_0x5e6222,structuredClone(_0x51cf7b),_0x30f67b);}catch(_0x13c1bf){console[_0x72dd82(0x4d2)](_0x72dd82(0x83a),_0x13c1bf);}}async function _0x21c556(_0x327571,_0x471735,_0x2227d2,_0x2a305e,_0x15c85c,_0x2dbf11,_0x12b2e4){const _0x418fe0=_0x5f24fc,_0x255434=Date[_0x418fe0(0x2c1)](),_0x5e44b6=new Set();if(_0x2227d2 instanceof Array){for(const _0x1d9190 of _0x2227d2)await _0x4e4f3b(_0x1d9190[_0x418fe0(0x6b2)],_0x15c85c,_0x5e44b6,_0x12b2e4['nlpLibraryConnector']);}else await _0x4e4f3b(_0x2227d2,_0x15c85c,_0x5e44b6,_0x12b2e4['nlpLibraryConnector']);_0x191a28[_0x418fe0(0x213)]({'jobType':_0x38cbc4[_0x418fe0(0x4fc)],'type':_0xfd10a7[_0x418fe0(0x837)],'jobId':_0x327571,'threadId':_0x471735,'blockId':_0x15c85c['id'],'traceLevel':_0x3c99b3[_0x418fe0(0x4c2)],'startTime':_0x255434,'timestamp':Date['now'](),'status':'success','content':_0x2227d2,'entitiesExtracted':Array['from'](_0x5e44b6),'totalEntities':_0x5e44b6['size']}),await _0x5f3da4(_0x327571,_0x471735,_0x5e44b6,_0x2a305e,_0x15c85c,_0x2dbf11,_0x12b2e4);}async function _0x4e4f3b(_0x486eed,_0x53aab5,_0x5087b8,_0x356f51){const _0x52fa30=_0x5f24fc,_0x25a841=await _0x356f51[_0x52fa30(0x284)](_0x486eed,{'ner':_0x53aab5[_0x52fa30(0x849)][_0x52fa30(0x60f)],'noun':_0x53aab5[_0x52fa30(0x849)]['noun'],'propn':_0x53aab5[_0x52fa30(0x849)][_0x52fa30(0x948)],'verb':_0x53aab5[_0x52fa30(0x849)][_0x52fa30(0x368)]});for(const _0x5dc94c of _0x25a841)_0x5087b8[_0x52fa30(0x859)](_0x5dc94c);}async function _0x1119eb(_0x1bc86a,_0x342308,_0xb3503b,_0x147c6b,_0x197a8f,_0x4983a9,_0x3dfe05){const _0x485dc9=_0x5f24fc,_0x27c5a5=Date[_0x485dc9(0x2c1)]();if(_0x197a8f[_0x485dc9(0x285)]||(_0x197a8f[_0x485dc9(0x285)]={}),_0xb3503b instanceof Array?(_0x197a8f[_0x485dc9(0x285)]['results']||(_0x197a8f['accumulated'][_0x485dc9(0xaaa)]=[]),_0x197a8f[_0x485dc9(0x285)][_0x485dc9(0xaaa)][_0x485dc9(0x96d)](..._0xb3503b)):_0xb3503b instanceof Set?_0x197a8f[_0x485dc9(0x285)][_0x485dc9(0x8cb)]=_0xb3503b:_0x197a8f['accumulated'][_0x485dc9(0x45e)]=_0xb3503b,_0x197a8f[_0x485dc9(0x685)]=_0x197a8f[_0x485dc9(0x685)]?_0x197a8f[_0x485dc9(0x685)]+0x1:0x1,_0x2ac3b2(_0x197a8f,_0x4983a9)>_0x197a8f[_0x485dc9(0x685)])return;if(!_0x197a8f[_0x485dc9(0x285)]['prompt']&&!_0x197a8f[_0x485dc9(0x285)][_0x485dc9(0xaaa)]||!_0x197a8f[_0x485dc9(0x285)][_0x485dc9(0x8cb)])throw new Error('Graph\x20database\x20block\x20is\x20missing\x20required\x20data');const _0x52f0ac=_0x3dfe05[_0x485dc9(0xaa0)][_0x485dc9(0x786)](_0x197a8f['id'])[_0x485dc9(0x6d9)](Array[_0x485dc9(0x3ce)](_0x197a8f['accumulated'][_0x485dc9(0x8cb)]),_0x197a8f[_0x485dc9(0x849)][_0x485dc9(0x5bc)],_0x197a8f[_0x485dc9(0x849)][_0x485dc9(0x937)]);let _0x28506f=[];for(const _0x530f4b in _0x52f0ac){const _0x10c7cf=_0x52f0ac[_0x530f4b];for(const _0x173114 of _0x10c7cf){let _0x5e6bd6=0x0;if(_0x197a8f[_0x485dc9(0x285)][_0x485dc9(0x45e)]&&(_0x5e6bd6=await _0x3dfe05['nlpLibraryConnector'][_0x485dc9(0x28c)](_0x197a8f[_0x485dc9(0x285)][_0x485dc9(0x45e)],_0x173114)),_0x197a8f[_0x485dc9(0x285)][_0x485dc9(0xaaa)]){for(const _0x1c0521 of _0x197a8f[_0x485dc9(0x285)]['results'])_0x5e6bd6=Math[_0x485dc9(0x2a7)](_0x5e6bd6,await _0x3dfe05[_0x485dc9(0x20b)][_0x485dc9(0x28c)](_0x1c0521[_0x485dc9(0x6b2)],_0x173114));}_0x5e6bd6<_0x197a8f[_0x485dc9(0x849)][_0x485dc9(0x1e9)]||_0x28506f[_0x485dc9(0x96d)]({'content':_0x173114,'relevance':_0x5e6bd6,'pathName':_0x530f4b});}}_0x28506f=_0x28506f[_0x485dc9(0x838)]((_0x2701f3,_0x475f63)=>_0x475f63['relevance']-_0x2701f3['relevance'])[_0x485dc9(0xb17)](0x0,_0x197a8f[_0x485dc9(0x849)][_0x485dc9(0x638)]),_0x191a28[_0x485dc9(0x213)]({'jobType':_0x38cbc4[_0x485dc9(0x4fc)],'type':_0xfd10a7[_0x485dc9(0x99d)],'jobId':_0x1bc86a,'threadId':_0x342308,'blockId':_0x197a8f['id'],'traceLevel':_0x3c99b3[_0x485dc9(0x4c2)],'timestamp':Date['now'](),'startTime':_0x27c5a5,'status':_0x485dc9(0x819),'content':_0xb3503b,'topResults':_0x28506f,'numResults':_0x28506f[_0x485dc9(0x9a6)]}),await _0x5f3da4(_0x1bc86a,_0x342308,_0x28506f,_0x147c6b,_0x197a8f,_0x4983a9,_0x3dfe05);}async function _0x1a09b5(_0x16ef8e,_0x15c11c,_0x4a7442,_0x2a60e8,_0x551072,_0x42d991,_0x25dda9){const _0x37778d=_0x5f24fc,_0x1e085d=_0x25dda9[_0x37778d(0x625)][_0x37778d(0x260)](_0x21b185=>_0x21b185['id']===_0x551072['id']);if(!_0x1e085d)throw new Error(_0x37778d(0x817));let _0xfb28c4='';switch(_0xfb28c4=_0x4a7442 instanceof Array?_0x4a7442[_0x37778d(0xa4a)](_0x4496c9=>_0x4496c9[_0x37778d(0x6b2)])[_0x37778d(0x250)](',\x20'):_0x4a7442,_0x1e085d['outputType']){case _0x20053a['GenerativeAIModelOutputType']['Text']:await async function(_0x245095,_0x902a60,_0x1298cc,_0x527d83,_0x3bda67,_0x771cd2,_0x4125b6,_0xfab518){const _0x48a22b=_0x37778d,_0x216a69=Date[_0x48a22b(0x2c1)](),_0x4538ab=_0xfab518[_0x48a22b(0x694)][_0x48a22b(0x260)](_0x1ed191=>_0x1ed191['getEngineType']()===_0x3bda67[_0x48a22b(0x391)]);if(!_0x4538ab)throw new Error(_0x48a22b(0x7d8));const _0x13c012=await async function(_0x4cdb1e,_0x313748,_0x246ab8,_0x1053de,_0x46a4ec){const _0x36944a=_0x48a22b,_0x2622d9={'type':_0x36944a(0x45e),'prompt':_0x313748,'threadId':_0x4cdb1e};_0x246ab8['context']['length']>0x0&&(_0x2622d9[_0x36944a(0x4ac)]=_0x36944a(0x43f)+_0x246ab8['context']['map'](_0x1bc696=>_0x36944a(0x921)+_0x1bc696['pathName']+':\x20'+_0x1bc696[_0x36944a(0x6b2)])[_0x36944a(0x250)]('\x0a'));const _0x828bea=await _0x1053de[_0x36944a(0x64e)](_0x2622d9,{'model':_0x46a4ec});if(_0x828bea[_0x36944a(0x51b)]instanceof Array)throw new Error(_0x36944a(0x339));return _0x246ab8['inputTokens']+=_0x828bea[_0x36944a(0x907)]??0x0,_0x246ab8['outputTokens']+=_0x828bea['outputTokens']??0x0,_0x828bea[_0x36944a(0x51b)];}(_0x902a60,_0x1298cc,_0x527d83,_0x4538ab,_0x3bda67);_0x191a28[_0x48a22b(0x213)]({'jobType':_0x38cbc4[_0x48a22b(0x4fc)],'type':_0xfd10a7[_0x48a22b(0x301)],'jobId':_0x245095,'threadId':_0x902a60,'blockId':_0x771cd2['id'],'traceLevel':_0x3c99b3[_0x48a22b(0x4c2)],'startTime':_0x216a69,'timestamp':Date[_0x48a22b(0x2c1)](),'status':_0x48a22b(0x819),'modelName':_0x3bda67['id'],'content':_0x1298cc,'newPrompt':_0x13c012,'inputType':_0x3bda67[_0x48a22b(0x3d1)],'outputType':_0x3bda67[_0x48a22b(0x473)]}),await _0x5f3da4(_0x245095,_0x902a60,_0x13c012,_0x527d83,_0x771cd2,_0x4125b6,_0xfab518);}(_0x16ef8e,_0x15c11c,_0xfb28c4,_0x2a60e8,_0x1e085d,_0x551072,_0x42d991,_0x25dda9);break;case _0x20053a['GenerativeAIModelOutputType']['Vector']:await async function(_0x129675,_0x3692cf,_0x5d6eb9,_0x2bc453,_0x501f5b,_0x494120,_0x28261f,_0x2bbd56){const _0x310e33=_0x37778d,_0x4b73da=Date[_0x310e33(0x2c1)](),_0x982451=_0x2bbd56[_0x310e33(0x694)]['find'](_0x52e38b=>_0x52e38b[_0x310e33(0x613)]()===_0x501f5b[_0x310e33(0x391)]);if(!_0x982451)throw new Error(_0x310e33(0x7d8));const _0x39eb97=await async function(_0x5640eb,_0x2b70b4,_0x10cd9c,_0x3206de){const _0x1225ad=_0x310e33;return(await _0x10cd9c['processJob']({'type':_0x1225ad(0x45e),'prompt':_0x2b70b4,'threadId':_0x5640eb},{'model':_0x3206de}))[_0x1225ad(0x51b)];}(_0x3692cf,_0x5d6eb9,_0x982451,_0x501f5b);_0x191a28[_0x310e33(0x213)]({'jobType':_0x38cbc4[_0x310e33(0x4fc)],'type':_0xfd10a7['ModelVector'],'jobId':_0x129675,'threadId':_0x3692cf,'blockId':_0x494120['id'],'traceLevel':_0x3c99b3[_0x310e33(0x4c2)],'startTime':_0x4b73da,'timestamp':Date[_0x310e33(0x2c1)](),'status':_0x310e33(0x819),'modelName':_0x501f5b['id'],'content':_0x5d6eb9,'totalVectors':_0x39eb97['length']}),await _0x5f3da4(_0x129675,_0x3692cf,_0x39eb97,_0x2bc453,_0x494120,_0x28261f,_0x2bbd56);}(_0x16ef8e,_0x15c11c,_0xfb28c4,_0x2a60e8,_0x1e085d,_0x551072,_0x42d991,_0x25dda9);}}async function _0x1db0f7(_0x487b92,_0x12534e,_0x265fa8,_0x20931d,_0x56fc5f,_0x5c2568,_0xc18c75){const _0x1f49bf=_0x5f24fc,_0x315a34=Date[_0x1f49bf(0x2c1)]();if(_0x56fc5f[_0x1f49bf(0x285)]||(_0x56fc5f[_0x1f49bf(0x285)]={}),_0x265fa8 instanceof Array?(_0x56fc5f[_0x1f49bf(0x285)][_0x1f49bf(0xaaa)]||(_0x56fc5f[_0x1f49bf(0x285)][_0x1f49bf(0xaaa)]=[]),_0x56fc5f[_0x1f49bf(0x285)][_0x1f49bf(0xaaa)][_0x1f49bf(0x96d)](..._0x265fa8)):_0x56fc5f[_0x1f49bf(0x285)]['prompt']=_0x265fa8,_0x56fc5f[_0x1f49bf(0x685)]=_0x56fc5f[_0x1f49bf(0x685)]?_0x56fc5f['timesCalled']+0x1:0x1,_0x2ac3b2(_0x56fc5f,_0x5c2568)>_0x56fc5f['timesCalled'])return;if(!_0x56fc5f[_0x1f49bf(0x285)][_0x1f49bf(0x45e)]||!_0x56fc5f[_0x1f49bf(0x285)][_0x1f49bf(0xaaa)])throw new Error(_0x1f49bf(0x96f));for(const _0x57e4f7 of _0x56fc5f[_0x1f49bf(0x285)][_0x1f49bf(0xaaa)])_0x57e4f7[_0x1f49bf(0x737)]=await _0xc18c75[_0x1f49bf(0x20b)]['getSimilarity'](_0x56fc5f[_0x1f49bf(0x285)][_0x1f49bf(0x45e)],_0x57e4f7[_0x1f49bf(0x6b2)]);const _0x372a37=_0x56fc5f[_0x1f49bf(0x285)][_0x1f49bf(0xaaa)]['filter'](_0x35c185=>_0x35c185['relevance']>_0x56fc5f['attributes'][_0x1f49bf(0x1e9)])[_0x1f49bf(0x838)]((_0x265d39,_0xdd6ad4)=>_0xdd6ad4[_0x1f49bf(0x737)]-_0x265d39[_0x1f49bf(0x737)])[_0x1f49bf(0xb17)](0x0,_0x56fc5f['attributes'][_0x1f49bf(0x638)]);_0x191a28[_0x1f49bf(0x213)]({'jobType':_0x38cbc4[_0x1f49bf(0x4fc)],'type':_0xfd10a7[_0x1f49bf(0x302)],'jobId':_0x487b92,'threadId':_0x12534e,'blockId':_0x56fc5f['id'],'traceLevel':_0x3c99b3['Debug'],'startTime':_0x315a34,'timestamp':Date[_0x1f49bf(0x2c1)](),'status':_0x1f49bf(0x819),'inputResults':_0x56fc5f['accumulated'][_0x1f49bf(0xaaa)],'rerankedResults':_0x372a37}),await _0x5f3da4(_0x487b92,_0x12534e,_0x372a37,_0x20931d,_0x56fc5f,_0x5c2568,_0xc18c75);}async function _0x35c520(_0x3f67f3,_0x3693fc,_0x3174ac,_0x20d9b1,_0x15ec63,_0x4b12d6,_0x4fc7f3){const _0xe0d733=_0x5f24fc,_0xb3a9ef=Date[_0xe0d733(0x2c1)]();if(_0x15ec63[_0xe0d733(0x285)]||(_0x15ec63['accumulated']={}),_0x3174ac instanceof Array?_0x15ec63[_0xe0d733(0x285)][_0xe0d733(0x66f)]=_0x3174ac:_0x15ec63[_0xe0d733(0x285)][_0xe0d733(0x6b2)]=_0x3174ac,_0x15ec63['timesCalled']=_0x15ec63[_0xe0d733(0x685)]?_0x15ec63[_0xe0d733(0x685)]+0x1:0x1,_0x2ac3b2(_0x15ec63,_0x4b12d6)>_0x15ec63[_0xe0d733(0x685)])return;if(!_0x15ec63['accumulated'][_0xe0d733(0x66f)]||!_0x15ec63[_0xe0d733(0x285)]['content'])throw new Error('Vector\x20database\x20block\x20is\x20missing\x20required\x20data');const _0x12f65c=await _0x4fc7f3[_0xe0d733(0x20b)]['getEntities'](_0x15ec63[_0xe0d733(0x285)]['content'],{'ner':!0x1,'noun':!0x0,'propn':!0x1,'verb':!0x1}),_0x2245b7=_0x4fc7f3[_0xe0d733(0xaa0)][_0xe0d733(0x58a)](_0x15ec63['id'])[_0xe0d733(0x71f)](_0x12f65c,_0x15ec63[_0xe0d733(0x285)]['vector'],_0x15ec63['attributes'][_0xe0d733(0x638)],_0x15ec63[_0xe0d733(0x849)][_0xe0d733(0x1e9)],_0x15ec63[_0xe0d733(0x849)]['contentSize']);_0x191a28[_0xe0d733(0x213)]({'jobType':_0x38cbc4[_0xe0d733(0x4fc)],'type':_0xfd10a7[_0xe0d733(0x38a)],'jobId':_0x3f67f3,'threadId':_0x3693fc,'blockId':_0x15ec63['id'],'traceLevel':_0x3c99b3[_0xe0d733(0x4c2)],'startTime':_0xb3a9ef,'timestamp':Date[_0xe0d733(0x2c1)](),'status':_0xe0d733(0x819),'topResults':_0x2245b7,'numResults':_0x2245b7[_0xe0d733(0x9a6)]}),await _0x5f3da4(_0x3f67f3,_0x3693fc,_0x2245b7,_0x20d9b1,_0x15ec63,_0x4b12d6,_0x4fc7f3);}async function _0x5f3da4(_0x18fcfb,_0xebd6a0,_0x1a46ca,_0x187992,_0x37096e,_0x7c9812,_0x26588f){const _0x45f430=_0x5f24fc;for(const _0x7390e9 of _0x37096e['links']||[]){const _0x3c76b2=_0x7c9812[_0x45f430(0x260)](_0x2a3c03=>_0x2a3c03[_0x45f430(0x275)]===_0x7390e9[_0x45f430(0x275)]);if(_0x3c76b2)switch(_0x3c76b2[_0x45f430(0x781)]){case _0x3c2286[_0x45f430(0xaf2)]:_0x7390e9[_0x45f430(0x781)]===_0x24c1ae[_0x45f430(0x1fc)]&&_0x1a46ca instanceof Array&&_0x187992[_0x45f430(0x843)][_0x45f430(0x96d)](..._0x1a46ca);break;case _0x3c2286[_0x45f430(0x837)]:_0x7390e9[_0x45f430(0x781)]===_0x24c1ae[_0x45f430(0x5d2)]&&_0x45f430(0x57a)==typeof _0x1a46ca&&await _0x21c556(_0x18fcfb,_0xebd6a0,_0x1a46ca,_0x187992,_0x3c76b2,_0x7c9812,_0x26588f),_0x7390e9[_0x45f430(0x781)]===_0x24c1ae['Search']&&_0x1a46ca instanceof Array&&await _0x21c556(_0x18fcfb,_0xebd6a0,_0x1a46ca,_0x187992,_0x3c76b2,_0x7c9812,_0x26588f);break;case _0x3c2286[_0x45f430(0x5ce)]:_0x7390e9[_0x45f430(0x781)]===_0x24c1ae[_0x45f430(0x5d2)]&&_0x45f430(0x57a)==typeof _0x1a46ca&&await _0x1119eb(_0x18fcfb,_0xebd6a0,_0x1a46ca,_0x187992,_0x3c76b2,_0x7c9812,_0x26588f),_0x7390e9['type']===_0x24c1ae[_0x45f430(0x1fc)]&&_0x1a46ca instanceof Array&&await _0x1119eb(_0x18fcfb,_0xebd6a0,_0x1a46ca,_0x187992,_0x3c76b2,_0x7c9812,_0x26588f),_0x7390e9['type']===_0x24c1ae[_0x45f430(0x8bf)]&&_0x1a46ca instanceof Set&&await _0x1119eb(_0x18fcfb,_0xebd6a0,_0x1a46ca,_0x187992,_0x3c76b2,_0x7c9812,_0x26588f);break;case _0x3c2286[_0x45f430(0x263)]:_0x7390e9[_0x45f430(0x781)]===_0x24c1ae['Text']&&'string'==typeof _0x1a46ca&&await _0x1a09b5(_0x18fcfb,_0xebd6a0,_0x1a46ca,_0x187992,_0x3c76b2,_0x7c9812,_0x26588f),_0x7390e9['type']===_0x24c1ae[_0x45f430(0x1fc)]&&_0x1a46ca instanceof Array&&await _0x1a09b5(_0x18fcfb,_0xebd6a0,_0x1a46ca,_0x187992,_0x3c76b2,_0x7c9812,_0x26588f);break;case _0x3c2286['Reranker']:_0x7390e9['type']===_0x24c1ae[_0x45f430(0x5d2)]&&_0x45f430(0x57a)==typeof _0x1a46ca&&await _0x1db0f7(_0x18fcfb,_0xebd6a0,_0x1a46ca,_0x187992,_0x3c76b2,_0x7c9812,_0x26588f),_0x7390e9[_0x45f430(0x781)]===_0x24c1ae['Search']&&_0x1a46ca instanceof Array&&await _0x1db0f7(_0x18fcfb,_0xebd6a0,_0x1a46ca,_0x187992,_0x3c76b2,_0x7c9812,_0x26588f);break;case _0x3c2286[_0x45f430(0x89f)]:_0x7390e9[_0x45f430(0x781)]===_0x24c1ae[_0x45f430(0x5d2)]&&_0x45f430(0x57a)==typeof _0x1a46ca&&await _0x35c520(_0x18fcfb,_0xebd6a0,_0x1a46ca,_0x187992,_0x3c76b2,_0x7c9812,_0x26588f),_0x7390e9[_0x45f430(0x781)]===_0x24c1ae[_0x45f430(0x5b5)]&&_0x1a46ca instanceof Array&&await _0x35c520(_0x18fcfb,_0xebd6a0,_0x1a46ca,_0x187992,_0x3c76b2,_0x7c9812,_0x26588f);}}}function _0x2ac3b2(_0x251803,_0x197d2c){const _0x3d6d17=_0x5f24fc;return _0x197d2c[_0x3d6d17(0x776)](_0x53b2a1=>_0x53b2a1[_0x3d6d17(0x9e9)]?.[_0x3d6d17(0x9fb)](_0x2ab50a=>_0x2ab50a['uid']===_0x251803[_0x3d6d17(0x275)]))[_0x3d6d17(0x9a6)];}async function _0x203cd4(_0x131b03,_0x3cb8c0,_0x2840aa,_0x4b260d,_0x330817,_0x1ebe96){const _0x38274e=_0x5f24fc,_0x2ff8a4={'type':'prompt','output':'','context':[],'inputTokens':0x0,'outputTokens':0x0};try{let _0x4bc70c;await _0x5f3da4(_0x131b03,_0x3cb8c0,_0x2840aa,_0x2ff8a4,_0x4b260d,structuredClone(_0x330817),_0x1ebe96),_0x2ff8a4[_0x38274e(0x843)][_0x38274e(0x3a3)]((_0x336ff9,_0x24a0e6)=>_0x336ff9+_0x24a0e6[_0x38274e(0x6b2)][_0x38274e(0x9a6)],0x0)>_0x8279d5&&(_0x4bc70c=Math[_0x38274e(0x748)](_0x8279d5/_0x2ff8a4['context'][_0x38274e(0x9a6)])),_0x2ff8a4['output']='Additional\x20context:\x0a'+_0x2ff8a4[_0x38274e(0x843)][_0x38274e(0xa4a)](_0x231fcc=>_0x38274e(0x921)+_0x231fcc[_0x38274e(0x54c)]+':\x20'+_0x231fcc['content'][_0x38274e(0x4e6)](0x0,_0x4bc70c))[_0x38274e(0x250)]('\x0a');}catch(_0x90774){console[_0x38274e(0x4d2)](_0x38274e(0x5e2),_0x90774);}return _0x2ff8a4;}const _0x2e65af=require('rxjs/operators');class _0x55f831{['subject'];constructor(){const _0x14aba8=_0x5f24fc;this[_0x14aba8(0x96a)]=new _0x1834fa[(_0x14aba8(0x3e8))]();}['emit'](_0x38774c){const _0xe2fdfe=_0x5f24fc;this['subject'][_0xe2fdfe(0xb16)](_0x38774c);}async[_0x5f24fc(0x739)](){const _0x93fd74=_0x5f24fc;return(0x0,_0x1834fa['firstValueFrom'])(this[_0x93fd74(0x96a)][_0x93fd74(0x2ca)]((0x0,_0x2e65af[_0x93fd74(0x6b7)])(0x1)));}}function _0x27edcb(_0x2be9a8,_0x59361d,_0x5889e7,_0x17d225,_0x32f816,_0x345102,_0x845c88,_0x276711){const _0xfb8f3d=_0x5f24fc,_0x5b0fdc=_0xfb8f3d(0x55b)+_0x32f816[_0xfb8f3d(0x411)]+_0xfb8f3d(0x358),_0x721874={'prompt':{'type':_0x20053a[_0xfb8f3d(0xa16)][_0xfb8f3d(0x2c9)]}};return _0x191a28['trace']({'jobType':_0x38cbc4[_0xfb8f3d(0x2aa)],'type':_0xd04150[_0xfb8f3d(0x94c)],'jobId':_0x2be9a8,'agentId':_0x59361d,'threadId':_0x5889e7['threadId'],'traceLevel':_0x3c99b3[_0xfb8f3d(0xa90)],'startTime':Date[_0xfb8f3d(0x2c1)](),'timestamp':Date[_0xfb8f3d(0x2c1)](),'status':_0xfb8f3d(0x819),'function':_0x47dfc2[_0xfb8f3d(0x77b)],'params':_0x721874,'functionDescription':_0x5b0fdc}),{'description':_0x5b0fdc,'params':_0x721874,'callback':async _0x288ab=>{const _0x238134=_0xfb8f3d,_0x3612cf=Date[_0x238134(0x2c1)]();try{if(_0x276711&&(await _0x4ecfc3[_0x238134(0x7a2)](0x1),_0x276711[_0x238134(0x2ce)]({'output':'\x0a\x0a`Executing\x20agent\x20'+_0x32f816[_0x238134(0x696)]+_0x238134(0x3be),'type':_0x238134(0x45e)})),_0x238134(0x57a)!=typeof _0x288ab?.[_0x238134(0x45e)])throw new Error(_0x238134(0x27d));const _0x3fd706=_0x845c88[_0x238134(0x625)][_0x238134(0x260)](_0x1d2555=>_0x1d2555['id']===_0x32f816[_0x238134(0xa0b)]);if(!_0x3fd706)throw new Error(_0x238134(0x817));const _0x226bd7=_0x845c88['generativeAIWorkerConnectors'][_0x238134(0x260)](_0x1561f2=>_0x1561f2[_0x238134(0x613)]()===_0x3fd706[_0x238134(0x391)]);if(!_0x226bd7)throw new Error(_0x238134(0x7d8));const _0x3303e2=_0x32f816[_0x238134(0x9e9)]?.[_0x238134(0x9fb)](_0x4b46d7=>{const _0x598044=_0x238134,_0x44cdc7=_0x345102['find'](_0x399b07=>_0x399b07['uid']===_0x4b46d7[_0x598044(0x275)]);return!!_0x44cdc7&&_0x4b46d7[_0x598044(0x781)]===_0x24c1ae['Text']&&_0x44cdc7['type']===_0x593060[_0x598044(0x4bd)];})??!0x1;let _0x1bb920;if(_0x276711&&_0x3303e2?(await _0x4ecfc3[_0x238134(0x7a2)](0x1),_0x276711['emit']({'output':'\x0a\x0a','type':_0x238134(0x45e)}),_0x1bb920=await async function(_0x1e0cd9,_0x489c30,_0x43b18d,_0x50015d,_0x272887,_0x5d1903,_0x39b6f8,_0x49134c,_0x305c6e){const _0x5da061=_0x238134;let _0x2d0f62='';const _0x3fec92=_0x305c6e['models'][_0x5da061(0x260)](_0x31b292=>_0x31b292['id']===_0x5d1903['modelId']);if(!_0x3fec92)throw new Error(_0x5da061(0x817));const _0x48cdbd=_0x305c6e[_0x5da061(0x694)][_0x5da061(0x260)](_0x2cad2c=>_0x2cad2c[_0x5da061(0x613)]()===_0x3fec92['engineType']);if(!_0x48cdbd)throw new Error(_0x5da061(0x7d8));for await(const _0x4c2d64 of _0x48cdbd['processJobStream']({'type':_0x5da061(0x45e),'prompt':_0x3768b9(_0x43b18d,_0x5d1903),'instructions':_0x211e09('',_0x5d1903,_0x3fec92),'grammar':_0x5d1903[_0x5da061(0x399)],'temperature':_0x5d1903[_0x5da061(0x42f)],'maxTokens':_0x5d1903['maxTokens'],'functions':await _0x55431f(_0x1e0cd9,_0x489c30,_0x50015d,_0x272887,_0x5d1903,_0x39b6f8,_0x305c6e,_0x49134c),'threadId':_0x50015d[_0x5da061(0x81b)]},{'model':_0x3fec92,'sequences':0x2}))_0x49134c[_0x5da061(0x2ce)](_0x4c2d64),_0x2d0f62+=_0x4c2d64[_0x5da061(0x51b)];return{'type':_0x5da061(0x45e),'output':_0x2d0f62};}(_0x2be9a8,_0x59361d,_0x288ab['prompt'],_0x5889e7,_0x17d225,_0x32f816,_0x345102,_0x276711,_0x845c88),await _0x4ecfc3[_0x238134(0x7a2)](0x1),_0x276711[_0x238134(0x2ce)]({'output':'\x0a\x0a','type':_0x238134(0x45e)})):_0x1bb920=await _0x226bd7[_0x238134(0x64e)]({'type':'prompt','prompt':_0x3768b9(_0x288ab[_0x238134(0x45e)],_0x32f816),'instructions':_0x211e09('',_0x32f816,_0x3fd706),'grammar':_0x32f816[_0x238134(0x399)],'temperature':_0x32f816[_0x238134(0x42f)],'maxTokens':_0x32f816[_0x238134(0x8f5)],'functions':await _0x55431f(_0x2be9a8,_0x59361d,_0x5889e7,_0x17d225,_0x32f816,_0x345102,_0x845c88,_0x276711),'threadId':_0x5889e7[_0x238134(0x81b)]},{'model':_0x3fd706,'sequences':0x2}),_0x238134(0x57a)!=typeof _0x1bb920[_0x238134(0x51b)])throw new Error(_0x238134(0x8a2));return _0x191a28[_0x238134(0x213)]({'jobType':_0x38cbc4['Skill'],'type':_0x47dfc2[_0x238134(0x77b)],'jobId':_0x2be9a8,'blockId':_0x32f816['id'],'agentId':_0x59361d,'threadId':_0x5889e7[_0x238134(0x81b)],'traceLevel':_0x3c99b3['Info'],'startTime':_0x3612cf,'timestamp':Date[_0x238134(0x2c1)](),'status':_0x238134(0x819),'agentName':_0x32f816['name'],'prompt':_0x288ab['prompt'],'instructions':_0x32f816[_0x238134(0x4ac)],'result':_0x1bb920[_0x238134(0x51b)],'inputTokens':0x0,'outputTokens':0x0}),_0x32f816[_0x238134(0x9e9)]?.['some'](_0x1afe65=>_0x1afe65[_0x238134(0x781)]===_0x24c1ae['Context'])?(_0x3edd04(_0x1bb920['output'],_0x32f816,_0x345102),'I\x20am\x20done'):_0x1bb920[_0x238134(0x51b)];}catch(_0x251b41){return console[_0x238134(0x4d2)](_0x251b41),_0x191a28['trace']({'jobType':_0x38cbc4[_0x238134(0x3c9)],'type':_0x47dfc2[_0x238134(0x77b)],'jobId':_0x2be9a8,'blockId':_0x32f816['id'],'agentId':_0x59361d,'threadId':_0x5889e7[_0x238134(0x81b)],'traceLevel':_0x3c99b3[_0x238134(0xa90)],'startTime':_0x3612cf,'timestamp':Date['now'](),'status':'error','errorDetails':_0x4b6611(_0x251b41),'agentName':_0x32f816[_0x238134(0x696)],'prompt':_0x288ab?.[_0x238134(0x45e)]??'','instructions':_0x32f816[_0x238134(0x4ac)],'result':'','inputTokens':0x0,'outputTokens':0x0}),_0x251b41 instanceof Error?_0x251b41[_0x238134(0x2ba)]:_0x238134(0x6cf);}}};}function _0x2988ce(_0x7570d4,_0xac5f49,_0x280b03,_0xb82948,_0x46119f,_0x3ab95c,_0xb24989){const _0x1a288f=_0x5f24fc,_0x414464=_0x1a288f(0x813)+_0x46119f[_0x1a288f(0x411)]+_0x1a288f(0x2a3),_0x378782={'queryOrPrompt':{'type':_0x20053a['PromptFunctionParamsType'][_0x1a288f(0x2c9)]}};return _0x191a28[_0x1a288f(0x213)]({'jobType':_0x38cbc4[_0x1a288f(0x2aa)],'type':_0xd04150[_0x1a288f(0x983)],'jobId':_0x7570d4,'agentId':_0xac5f49,'threadId':_0x280b03,'blockId':_0x46119f['id'],'traceLevel':_0x3c99b3[_0x1a288f(0xa90)],'startTime':Date[_0x1a288f(0x2c1)](),'timestamp':Date['now'](),'status':_0x1a288f(0x819),'function':_0x17b100[_0x1a288f(0x8bd)],'params':_0x378782,'functionDescription':_0x414464}),{'description':_0x414464,'params':_0x378782,'callback':async _0x1215c3=>{const _0x28acd0=_0x1a288f,_0x5f9c45=Date[_0x28acd0(0x2c1)]();try{if(_0xb24989&&(await _0x4ecfc3[_0x28acd0(0x7a2)](0x1),_0xb24989['emit']({'output':_0x28acd0(0x486)+_0x46119f[_0x28acd0(0x696)]+_0x28acd0(0x879)+_0x1215c3?.[_0x28acd0(0x415)]+_0x28acd0(0x3be),'type':_0x28acd0(0x45e)})),_0x28acd0(0x57a)!=typeof _0x1215c3?.[_0x28acd0(0x415)])throw new Error(_0x28acd0(0x702));const _0x2755a3=_0x46119f['retrieveBlocks'][_0x28acd0(0x260)](_0x28aa15=>_0x28aa15[_0x28acd0(0x781)]===_0x3c2286[_0x28acd0(0x90c)]),_0x33538a=await _0x203cd4(_0x7570d4,_0x280b03,_0x1215c3[_0x28acd0(0x415)],_0x2755a3,_0x46119f[_0x28acd0(0x692)],_0x3ab95c);return _0xb82948['context']=Array['from'](new Set([..._0xb82948['context'],..._0x33538a[_0x28acd0(0x843)]])),_0x191a28[_0x28acd0(0x213)]({'jobType':_0x38cbc4[_0x28acd0(0x3a7)],'type':_0x17b100[_0x28acd0(0x5aa)],'jobId':_0x7570d4,'blockId':_0x46119f['id'],'agentId':_0xac5f49,'threadId':_0x280b03,'traceLevel':_0x3c99b3[_0x28acd0(0xa90)],'startTime':_0x5f9c45,'timestamp':Date[_0x28acd0(0x2c1)](),'status':_0x28acd0(0x819),'query':_0x1215c3[_0x28acd0(0x415)],'context':_0x33538a['context']??[],'inputTokens':_0x33538a[_0x28acd0(0x907)]??0x0,'outputTokens':_0x33538a[_0x28acd0(0xad8)]??0x0}),_0x33538a[_0x28acd0(0x51b)];}catch(_0x55f967){return console['error'](_0x55f967),_0x191a28['trace']({'jobType':_0x38cbc4[_0x28acd0(0x3a7)],'type':_0x17b100[_0x28acd0(0x5aa)],'jobId':_0x7570d4,'blockId':_0x46119f['id'],'agentId':_0xac5f49,'threadId':_0x280b03,'traceLevel':_0x3c99b3[_0x28acd0(0xa90)],'startTime':_0x5f9c45,'timestamp':Date['now'](),'status':_0x28acd0(0x4d2),'errorDetails':_0x4b6611(_0x55f967),'query':_0x1215c3?.['queryOrPrompt']??'','context':[],'inputTokens':0x0,'outputTokens':0x0}),_0x55f967 instanceof Error?_0x55f967[_0x28acd0(0x2ba)]:_0x28acd0(0x29b);}}};}function _0x3f7971(_0x55cfbd,_0x1fb07d,_0x22e3d9,_0x48baa7,_0x3a393c,_0x1e3045){const _0x4fa5e5=_0x5f24fc,_0x2692af={};for(const _0x283a8f of _0x48baa7[_0x4fa5e5(0x79c)])switch(_0x283a8f[_0x4fa5e5(0x781)]){case _0x4fa5e5(0x57a):case _0x4fa5e5(0x566):_0x2692af[_0x283a8f[_0x4fa5e5(0x696)]]={'type':_0x20053a[_0x4fa5e5(0xa16)]['String']};break;case _0x4fa5e5(0x522):_0x2692af[_0x283a8f[_0x4fa5e5(0x696)]]={'type':_0x20053a[_0x4fa5e5(0xa16)][_0x4fa5e5(0x2b9)]};break;case _0x4fa5e5(0xa48):_0x2692af[_0x283a8f[_0x4fa5e5(0x696)]]={'type':_0x20053a[_0x4fa5e5(0xa16)]['Boolean']};}return _0x191a28[_0x4fa5e5(0x213)]({'jobType':_0x38cbc4[_0x4fa5e5(0x2aa)],'type':_0xd04150[_0x4fa5e5(0x94c)],'jobId':_0x55cfbd,'agentId':_0x1fb07d,'threadId':_0x22e3d9,'traceLevel':_0x3c99b3['Info'],'startTime':Date[_0x4fa5e5(0x2c1)](),'timestamp':Date[_0x4fa5e5(0x2c1)](),'status':_0x4fa5e5(0x819),'function':_0x47dfc2[_0x4fa5e5(0x675)],'params':_0x2692af,'functionDescription':_0x48baa7[_0x4fa5e5(0x411)]}),{'description':_0x4fa5e5(0x73b)+_0x48baa7[_0x4fa5e5(0x411)],'params':_0x2692af,'callback':async _0x3c87b8=>{const _0x4a87b2=_0x4fa5e5,_0x4a06b5=Date[_0x4a87b2(0x2c1)]();try{if(_0x1e3045&&(await _0x4ecfc3[_0x4a87b2(0x7a2)](0x1),_0x1e3045[_0x4a87b2(0x2ce)]({'output':_0x4a87b2(0x915)+_0x48baa7[_0x4a87b2(0x696)]+'`\x0a\x0a','type':_0x4a87b2(0x45e)})),!_0x3c87b8)throw new Error(_0x4a87b2(0x9cc));for(const _0x15ee2e of _0x48baa7['parameters']){if(void 0x0===_0x3c87b8[_0x15ee2e[_0x4a87b2(0x696)]])throw new Error(_0x4a87b2(0x31c)+_0x15ee2e['name']+_0x4a87b2(0x3d8));if(_0x4a87b2(0x57a)===_0x15ee2e['type']&&_0x4a87b2(0x57a)!=typeof _0x3c87b8[_0x15ee2e['name']])throw new Error(_0x4a87b2(0x31c)+_0x15ee2e[_0x4a87b2(0x696)]+_0x4a87b2(0x32f));if(_0x4a87b2(0x522)===_0x15ee2e[_0x4a87b2(0x781)]&&_0x4a87b2(0x522)!=typeof _0x3c87b8[_0x15ee2e[_0x4a87b2(0x696)]])throw new Error(_0x4a87b2(0x31c)+_0x15ee2e[_0x4a87b2(0x696)]+_0x4a87b2(0x7ed));if('boolean'===_0x15ee2e[_0x4a87b2(0x781)]&&'boolean'!=typeof _0x3c87b8[_0x15ee2e[_0x4a87b2(0x696)]])throw new Error(_0x4a87b2(0x31c)+_0x15ee2e[_0x4a87b2(0x696)]+_0x4a87b2(0x559));if(_0x4a87b2(0x566)===_0x15ee2e[_0x4a87b2(0x781)]&&'string'!=typeof _0x3c87b8[_0x15ee2e[_0x4a87b2(0x696)]])throw new Error('Parameter\x20'+_0x15ee2e[_0x4a87b2(0x696)]+'\x20must\x20be\x20a\x20string');if(_0x4a87b2(0x566)===_0x15ee2e[_0x4a87b2(0x781)])try{_0x3c87b8[_0x15ee2e[_0x4a87b2(0x696)]]=JSON[_0x4a87b2(0x57d)](_0x3c87b8[_0x15ee2e[_0x4a87b2(0x696)]]);}catch{throw new Error(_0x4a87b2(0x31c)+_0x15ee2e[_0x4a87b2(0x696)]+_0x4a87b2(0x44b));}}const _0x44797e={};for(const _0x4157fb of _0x48baa7['headers']){let _0x3f7134=_0x4157fb[_0x4a87b2(0x810)];_0x3f7134[_0x4a87b2(0xa21)](/\$[a-zA-Z0-9]+/)&&(_0x3f7134=_0x3f7134[_0x4a87b2(0x49d)](/\$[a-zA-Z0-9]+/g,_0x23d941=>{const _0x3ac938=_0x4a87b2,_0x48e164=_0x23d941[_0x3ac938(0xb17)](0x1);return _0x3c87b8[_0x48e164];})),_0x44797e[_0x4157fb[_0x4a87b2(0x696)]]=_0x3f7134;}const _0x4ba69a=new URLSearchParams();for(const _0x426177 of _0x48baa7[_0x4a87b2(0x454)]){let _0x5d84ad=_0x426177['value'];if(_0x4a87b2(0x57a)==typeof _0x5d84ad&&_0x5d84ad[_0x4a87b2(0x9c4)]('$')){const _0x314655=_0x5d84ad[_0x4a87b2(0xb17)](0x1);_0x5d84ad=_0x3c87b8[_0x314655];}if('string'==typeof _0x5d84ad&&_0x5d84ad['startsWith'](_0x4a87b2(0x8df))){const _0x23d5dd=_0x5d84ad[_0x4a87b2(0x49d)](_0x4a87b2(0x8df),'');if(_0x48baa7[_0x4a87b2(0x285)],_0x5d84ad=_0x48baa7[_0x4a87b2(0x285)]?.[_0x4a87b2(0x843)]?.[_0x23d5dd],_0x4a87b2(0x57a)==typeof _0x5d84ad&&_0x5d84ad[_0x4a87b2(0x9c4)]('{')&&_0x5d84ad[_0x4a87b2(0x40f)]('}'))try{_0x5d84ad=JSON[_0x4a87b2(0x57d)](_0x5d84ad);}catch{}}_0x4a87b2(0x57a)==typeof _0x5d84ad&&_0x5d84ad[_0x4a87b2(0x9c4)]('[')&&_0x5d84ad['endsWith'](']')&&(_0x5d84ad=JSON['parse'](_0x5d84ad)),_0x4ba69a[_0x4a87b2(0xab7)](_0x426177[_0x4a87b2(0x696)],_0x5d84ad);}let _0x3ec98d=_0x48baa7[_0x4a87b2(0x6ea)];_0x4ba69a[_0x4a87b2(0x58d)]>0x0&&(_0x3ec98d+='?'+_0x4ba69a[_0x4a87b2(0xa03)]());let _0x11f8a9={};for(const _0x11f3f5 of _0x48baa7[_0x4a87b2(0x9ae)]){let _0x174f91=_0x11f3f5['value'];if(_0x4a87b2(0x57a)==typeof _0x174f91&&_0x174f91['startsWith']('$')){const _0x41e743=_0x174f91[_0x4a87b2(0xb17)](0x1);_0x174f91=_0x3c87b8[_0x41e743];}if(_0x4a87b2(0x57a)==typeof _0x174f91&&_0x174f91[_0x4a87b2(0x9c4)](_0x4a87b2(0x8df))){const _0xaffe07=_0x174f91['replace'](_0x4a87b2(0x8df),'');if(_0x174f91=_0x48baa7[_0x4a87b2(0x285)]?.[_0x4a87b2(0x843)]?.[_0xaffe07],_0x4a87b2(0x57a)==typeof _0x174f91&&_0x174f91[_0x4a87b2(0x9c4)]('{')&&_0x174f91[_0x4a87b2(0x40f)]('}'))try{_0x174f91=JSON[_0x4a87b2(0x57d)](_0x174f91);}catch{}}if('string'==typeof _0x174f91&&_0x174f91[_0x4a87b2(0x9c4)]('[')&&_0x174f91['endsWith'](']')&&(_0x174f91=JSON[_0x4a87b2(0x57d)](_0x174f91)),_0x4a87b2(0xa18)===_0x11f3f5[_0x4a87b2(0x696)]){const _0x42ffc0=_0x174f91[_0x4a87b2(0xa21)](/```html(.*)```/s);_0x42ffc0&&(_0x174f91=_0x42ffc0[0x1]),_0x174f91=_0x174f91['replace'](/\n/g,''),_0x174f91=_0x174f91[_0x4a87b2(0x49d)](/'/g,'\x22'),_0x11f8a9=_0x174f91;break;}if(-0x1===_0x11f3f5[_0x4a87b2(0x696)][_0x4a87b2(0x5b2)]('.'))_0x11f8a9[_0x11f3f5[_0x4a87b2(0x696)]]=_0x174f91;else{const [_0x4b01bc,_0xc30faa]=_0x11f3f5[_0x4a87b2(0x696)]['split']('.');_0x11f8a9[_0x4b01bc]||(_0x11f8a9[_0x4b01bc]={}),_0x11f8a9[_0x4b01bc][_0xc30faa]=_0x174f91;}}console['log']('Executing\x20custom\x20skill:\x20'+_0x48baa7['name']+'\x20with\x20'+JSON[_0x4a87b2(0x36f)](_0x11f8a9));const _0x2f5ce9=await fetch(_0x3ec98d,{'method':_0x48baa7[_0x4a87b2(0x61e)],'headers':_0x44797e,'body':'string'==typeof _0x11f8a9?_0x11f8a9:JSON[_0x4a87b2(0x36f)](_0x11f8a9)});if(_0x2f5ce9['ok']){let _0x58c035=await _0x2f5ce9[_0x4a87b2(0x566)]();return _0x48baa7['waitAsync']&&(_0x58c035=await function(_0x3b67a0,_0x1289ee){return new Promise((_0x2ba031,_0x43ae65)=>{const _0x1495a3=_0x4ecfc3['setInterval'](async()=>{const _0xcabced=a0_0x214c;try{if(!_0x3b67a0[_0xcabced(0x856)]||!_0x3b67a0[_0xcabced(0x32c)])throw new Error(_0xcabced(0x2d6));const _0x4d65c0={};if(_0x3b67a0[_0xcabced(0x4e3)]){for(const _0x48f1b7 of _0x3b67a0['asyncHeaders'])_0x4d65c0[_0x48f1b7[_0xcabced(0x696)]]=_0x48f1b7[_0xcabced(0x810)];}const _0x365143=_0x3b67a0[_0xcabced(0x856)][_0xcabced(0x49d)](_0xcabced(0x7d1),_0x1289ee),_0x9833fd=await fetch(_0x365143,{'method':_0x3b67a0[_0xcabced(0x32c)],'headers':_0x4d65c0});if(0xc8===_0x9833fd['status']){const _0x60f4e8=await _0x9833fd['json']();_0x1495a3(),_0x2ba031(_0x60f4e8);}_0x9833fd[_0xcabced(0x524)]>=0x190&&(console[_0xcabced(0x4d2)](_0x9833fd['statusText']),_0x1495a3(),_0x43ae65(new Error(_0x9833fd['statusText'])));}catch(_0x362b0c){console[_0xcabced(0x4d2)](_0x362b0c),_0x1495a3(),_0x43ae65(_0x362b0c);}},_0x53144e);});}(_0x48baa7,_0x58c035['id'])),_0x4a87b2(0x57a)!=typeof _0x58c035&&(_0x58c035=JSON[_0x4a87b2(0x36f)](_0x58c035)),_0x191a28['trace']({'jobType':_0x38cbc4[_0x4a87b2(0x3c9)],'type':_0x47dfc2['ExecuteCustomSkill'],'jobId':_0x55cfbd,'agentId':_0x1fb07d,'threadId':_0x22e3d9,'blockId':_0x48baa7['id'],'traceLevel':_0x3c99b3[_0x4a87b2(0xa90)],'startTime':_0x4a06b5,'timestamp':Date[_0x4a87b2(0x2c1)](),'status':_0x4a87b2(0x819),'skillName':_0x48baa7['name'],'params':_0x3c87b8,'result':_0x58c035}),_0x48baa7[_0x4a87b2(0x9e9)]?.[_0x4a87b2(0x9fb)](_0x116537=>_0x116537[_0x4a87b2(0x781)]===_0x24c1ae['Context'])?(_0x3edd04(_0x58c035,_0x48baa7,_0x3a393c),_0x4a87b2(0x8cf)):_0x58c035;}throw new Error(_0x2f5ce9[_0x4a87b2(0x57b)]);}catch(_0x3866b5){console['error'](_0x3866b5);const _0x2ad4f4=_0x3866b5 instanceof Error?_0x3866b5[_0x4a87b2(0x2ba)]:_0x4a87b2(0x36e);return _0x191a28['trace']({'jobType':_0x38cbc4[_0x4a87b2(0x3c9)],'type':_0x47dfc2['ExecuteCustomSkill'],'jobId':_0x55cfbd,'blockId':_0x48baa7['id'],'threadId':_0x22e3d9,'traceLevel':_0x3c99b3[_0x4a87b2(0xa90)],'startTime':_0x4a06b5,'timestamp':Date['now'](),'agentId':_0x1fb07d,'status':_0x4a87b2(0x4d2),'skillName':_0x48baa7[_0x4a87b2(0x696)],'params':_0x3c87b8??{},'result':_0x2ad4f4}),_0x2ad4f4;}}};}function _0x5711d8(_0xd3ac69,_0x4cbf8d,_0x43a9e7,_0x47b944,_0x15d793,_0xb5e9f8=!0x0){const _0x486ac2=_0x5f24fc,_0x12e92e=_0x486ac2(0x767),_0x48e4ef={'url':{'type':_0x20053a[_0x486ac2(0xa16)]['String']},'page':{'type':_0x20053a[_0x486ac2(0xa16)][_0x486ac2(0x2b9)]}};return _0x191a28[_0x486ac2(0x213)]({'jobType':_0x38cbc4['JobContext'],'type':_0xd04150['LoadSkillFunction'],'jobId':_0xd3ac69,'agentId':_0x4cbf8d,'threadId':_0x43a9e7,'traceLevel':_0x3c99b3[_0x486ac2(0xa90)],'startTime':Date[_0x486ac2(0x2c1)](),'timestamp':Date[_0x486ac2(0x2c1)](),'status':_0x486ac2(0x819),'function':_0x47dfc2[_0x486ac2(0x3c8)],'params':_0x48e4ef,'functionDescription':_0x12e92e}),{'description':_0x12e92e,'params':_0x48e4ef,'callback':async _0x5bd119=>{const _0x5584ae=_0x486ac2,_0x35de92=Date[_0x5584ae(0x2c1)]();try{if(_0x15d793&&(await _0x4ecfc3[_0x5584ae(0x7a2)](0x1),_0x15d793[_0x5584ae(0x2ce)]({'output':_0x5584ae(0x642)+_0x5bd119?.[_0x5584ae(0x821)]+_0x5584ae(0x3be),'type':_0x5584ae(0x45e)})),_0x5584ae(0x57a)!=typeof _0x5bd119?.['url'])throw new Error('URL\x20is\x20required');const _0x1a31bc=_0x5bd119[_0x5584ae(0x821)];if([_0x5584ae(0x9b9),_0x5584ae(0x7ab),_0x5584ae(0x4e1),_0x5584ae(0x9e5),'.pptx',_0x5584ae(0x52a),'.xlsx'][_0x5584ae(0x9fb)](_0x10144a=>_0x1a31bc['endsWith'](_0x10144a)))throw new Error(_0x5584ae(0x989));const _0x5245bf=await fetch(_0x1a31bc),_0x24ddf2=await _0x5245bf[_0x5584ae(0xace)]();let _0x59f516=_0x24ddf2;if(_0xb5e9f8){const _0x1bf5b4=_0x24ddf2[_0x5584ae(0xa21)](/<body[^>]*>((.|[\n\r])*)<\/body>/i),_0x473806=_0x1bf5b4?_0x1bf5b4[0x1]:_0x24ddf2,_0x143171=_0x473806[_0x5584ae(0x49d)](/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,'')[_0x5584ae(0x49d)](/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,'')[_0x5584ae(0x49d)](/<br\s*\/?>/gi,'\x20')[_0x5584ae(0x49d)](/&nbsp;/g,'\x20');_0x59f516=_0x143171[_0x5584ae(0x49d)](/<\/?[^>]+(>|$)/g,'')[_0x5584ae(0x49d)](/\s\s+/g,'\x20')[_0x5584ae(0xa98)]();}const _0x2035f8=_0x5584ae(0x522)==typeof _0x5bd119[_0x5584ae(0x9ce)]?_0x5bd119[_0x5584ae(0x9ce)]:0x1,_0x11bf3e=Math[_0x5584ae(0x447)](_0x59f516['length']/_0x8279d5);return _0x59f516[_0x5584ae(0x9a6)]>_0x8279d5&&(_0x59f516=_0x59f516[_0x5584ae(0x4e6)]((_0x2035f8-0x1)*_0x8279d5,(_0x2035f8-0x1)*_0x8279d5+_0x8279d5)+_0x5584ae(0x730)+(_0x2035f8+0x1)+_0x5584ae(0x3d3)+_0x11bf3e+'.'),_0x191a28[_0x5584ae(0x213)]({'jobType':_0x38cbc4['Skill'],'type':_0x47dfc2[_0x5584ae(0x3c8)],'jobId':_0xd3ac69,'agentId':_0x4cbf8d,'threadId':_0x43a9e7,'blockId':_0x47b944,'traceLevel':_0x3c99b3[_0x5584ae(0xa90)],'startTime':_0x35de92,'timestamp':Date[_0x5584ae(0x2c1)](),'status':_0x5245bf['ok']?_0x5584ae(0x819):_0x5584ae(0x4d2),'url':_0x5bd119['url'],'page':_0x2035f8,'totalPages':_0x11bf3e,'response':_0x59f516}),_0x59f516;}catch(_0x1ed847){console[_0x5584ae(0x4d2)](_0x1ed847);const _0xf951a2=_0x1ed847 instanceof Error?_0x1ed847[_0x5584ae(0x2ba)]:_0x5584ae(0x36e);return _0x191a28['trace']({'jobType':_0x38cbc4[_0x5584ae(0x3c9)],'type':_0x47dfc2[_0x5584ae(0x3c8)],'jobId':_0xd3ac69,'blockId':_0x47b944,'threadId':_0x43a9e7,'traceLevel':_0x3c99b3[_0x5584ae(0xa90)],'startTime':_0x35de92,'timestamp':Date['now'](),'agentId':_0x4cbf8d,'status':'error','errorDetails':_0x4b6611(_0x1ed847),'url':_0x5bd119?.[_0x5584ae(0x821)]??'','page':0x0,'totalPages':0x0,'response':_0xf951a2}),_0xf951a2;}}};}async function _0x55431f(_0x2b6b07,_0x5d7e9d,_0x57c7f0,_0x3176bc,_0x4152f3,_0x521ca4,_0x5bf2d7,_0x160034){const _0x2968ba=_0x5f24fc,_0x28dc4b=new Map(),_0x1fb6b2=_0x521ca4[_0x2968ba(0x776)](_0x4e2ffb=>_0x4e2ffb[_0x2968ba(0x9e9)]?.[_0x2968ba(0x260)](_0x5b544d=>_0x5b544d[_0x2968ba(0x275)]===_0x4152f3['uid']&&(_0x5b544d['type']===_0x24c1ae['Knowledge']||_0x5b544d['type']===_0x24c1ae[_0x2968ba(0x3c9)])));for(const _0x466d05 of _0x1fb6b2)_0x466d05['type']===_0x593060[_0x2968ba(0x3a7)]||_0x466d05[_0x2968ba(0x781)]===_0x593060[_0x2968ba(0x935)]?_0x28dc4b['set']('searchInDataCollection'+_0x466d05[_0x2968ba(0x696)][_0x2968ba(0x49d)](/[^a-zA-Z]/g,''),_0x2988ce(_0x2b6b07,_0x5d7e9d,_0x57c7f0['threadId'],_0x3176bc,_0x466d05,_0x5bf2d7,_0x160034)):_0x466d05['type']===_0x593060['AgentSkill']||_0x466d05[_0x2968ba(0x781)]===_0x593060[_0x2968ba(0x723)]?_0x28dc4b[_0x2968ba(0x338)]('executeAgent'+_0x466d05['name'][_0x2968ba(0x49d)](/[^a-zA-Z]/g,''),_0x27edcb(_0x2b6b07,_0x5d7e9d,_0x57c7f0,_0x3176bc,_0x466d05,_0x521ca4,_0x5bf2d7,_0x160034)):_0x466d05[_0x2968ba(0x781)]===_0x593060[_0x2968ba(0x924)]?_0x28dc4b[_0x2968ba(0x338)](_0x466d05['name'][_0x2968ba(0x49d)](/[^a-zA-Z]/g,''),_0x3f7971(_0x2b6b07,_0x5d7e9d,_0x57c7f0[_0x2968ba(0x81b)],_0x466d05,_0x521ca4,_0x160034)):_0x28dc4b[_0x2968ba(0x338)](_0x163bbf(_0x466d05),await _0x58d259(_0x2b6b07,_0x5d7e9d,_0x57c7f0,_0x3176bc,_0x466d05,_0x521ca4,_0x5bf2d7,_0x160034));return _0x28dc4b;}function _0x163bbf(_0x2c3934){const _0x5e127f=_0x5f24fc;switch(_0x2c3934[_0x5e127f(0x781)]){case _0x593060[_0x5e127f(0xa2d)]:return _0x5e127f(0x603);case _0x593060[_0x5e127f(0x640)]:return _0x5e127f(0x5f4);case _0x593060[_0x5e127f(0xa3a)]:return _0x5e127f(0x3d6);case _0x593060[_0x5e127f(0x1fc)]:return _0x5e127f(0x811);case _0x593060['WebScraper']:case _0x593060[_0x5e127f(0x3cb)]:return _0x5e127f(0x717);case _0x593060[_0x5e127f(0x74c)]:return _0x5e127f(0x706);}throw new Error(_0x5e127f(0xa26));}async function _0x58d259(_0x3146ea,_0x20b851,_0xf214bc,_0x547f4c,_0x293737,_0x85b555,_0x4625e5,_0x3352db){const _0x365355=_0x5f24fc;switch(_0x293737[_0x365355(0x781)]){case _0x593060['AiSearch']:return function(_0x3cc6e6,_0x3ab8f1,_0x36734b,_0x52523b,_0x20c249,_0x4f3106,_0x2b29e0){const _0x1f11a8=_0x365355,_0x2faf16=_0x1f11a8(0x715),_0xfedf8c={'query':{'type':_0x20053a[_0x1f11a8(0xa16)]['String']}};return _0x191a28[_0x1f11a8(0x213)]({'jobType':_0x38cbc4['JobContext'],'type':_0xd04150[_0x1f11a8(0x94c)],'jobId':_0x3cc6e6,'agentId':_0x3ab8f1,'threadId':_0x36734b,'traceLevel':_0x3c99b3[_0x1f11a8(0xa90)],'startTime':Date['now'](),'timestamp':Date[_0x1f11a8(0x2c1)](),'status':_0x1f11a8(0x819),'function':_0x47dfc2[_0x1f11a8(0x8d2)],'params':_0xfedf8c,'functionDescription':_0x2faf16}),{'description':_0x2faf16,'params':_0xfedf8c,'callback':async _0x49f709=>{const _0x101f0a=_0x1f11a8,_0x1b1f1c=Date[_0x101f0a(0x2c1)]();try{if(_0x2b29e0&&(await _0x4ecfc3['wait'](0x1),_0x2b29e0[_0x101f0a(0x2ce)]({'output':_0x101f0a(0x5e5)+_0x49f709?.[_0x101f0a(0x25d)]+_0x101f0a(0x3be),'type':_0x101f0a(0x45e)})),!_0x4f3106[_0x101f0a(0x244)])throw new Error(_0x101f0a(0xa72));if(_0x101f0a(0x57a)!=typeof _0x49f709?.[_0x101f0a(0x25d)])throw new Error(_0x101f0a(0x702));const _0x5ba524=await _0x4f3106[_0x101f0a(0x244)][_0x101f0a(0x71f)](_0x49f709['query'],_0x20c249);return _0x191a28[_0x101f0a(0x213)]({'jobType':_0x38cbc4[_0x101f0a(0x3c9)],'type':_0x47dfc2['SearchPerplexity'],'jobId':_0x3cc6e6,'agentId':_0x3ab8f1,'threadId':_0x36734b,'blockId':_0x52523b,'traceLevel':_0x3c99b3[_0x101f0a(0xa90)],'startTime':_0x1b1f1c,'timestamp':Date[_0x101f0a(0x2c1)](),'status':_0x101f0a(0x819),'query':_0x49f709[_0x101f0a(0x25d)],'results':_0x5ba524}),_0x5ba524;}catch(_0x3f9c6d){return console[_0x101f0a(0x4d2)](_0x3f9c6d),_0x191a28[_0x101f0a(0x213)]({'jobType':_0x38cbc4[_0x101f0a(0x3c9)],'type':_0x47dfc2[_0x101f0a(0x8d2)],'jobId':_0x3cc6e6,'blockId':_0x52523b,'traceLevel':_0x3c99b3['Info'],'startTime':_0x1b1f1c,'timestamp':Date[_0x101f0a(0x2c1)](),'status':_0x101f0a(0x4d2),'errorDetails':_0x4b6611(_0x3f9c6d),'agentId':_0x3ab8f1,'threadId':_0x36734b,'query':_0x49f709?.[_0x101f0a(0x25d)]??'','results':_0x101f0a(0x9a9)}),_0x3f9c6d instanceof Error?_0x3f9c6d[_0x101f0a(0x2ba)]:_0x101f0a(0x9a9);}}};}(_0x3146ea,_0x20b851,_0xf214bc[_0x365355(0x81b)],_0x293737['id'],_0x4625e5['aiSearchApiKey'],_0x4625e5,_0x3352db);case _0x593060[_0x365355(0x640)]:return function(_0x502644,_0x536c19,_0x168089,_0x8190e6,_0xacc7f5){const _0x5990ed=_0x365355,_0x530af4=_0x5990ed(0x300),_0x4c7a23={'code':{'type':_0x20053a['PromptFunctionParamsType'][_0x5990ed(0x2c9)]}};return _0x191a28['trace']({'jobType':_0x38cbc4[_0x5990ed(0x2aa)],'type':_0xd04150[_0x5990ed(0x94c)],'jobId':_0x502644,'agentId':_0x536c19,'threadId':_0x168089,'traceLevel':_0x3c99b3['Info'],'startTime':Date[_0x5990ed(0x2c1)](),'timestamp':Date[_0x5990ed(0x2c1)](),'status':'success','function':_0x47dfc2['ExecuteCode'],'params':_0x4c7a23,'functionDescription':_0x530af4}),{'description':_0x530af4,'params':_0x4c7a23,'callback':async _0x34b95b=>{const _0x3652da=_0x5990ed,_0x20b418=Date[_0x3652da(0x2c1)]();try{if(_0xacc7f5&&(await _0x4ecfc3[_0x3652da(0x7a2)](0x1),_0xacc7f5['emit']({'output':_0x3652da(0x57e),'type':_0x3652da(0x45e)})),_0x3652da(0x57a)!=typeof _0x34b95b?.['code'])throw new Error('Code\x20is\x20required');const _0x871954=Function(''+_0x34b95b?.['code'])();let _0x17d55a='';try{_0x17d55a=JSON[_0x3652da(0x36f)](_0x871954);}catch{_0x17d55a=_0x871954[_0x3652da(0xa03)]();}return _0x191a28[_0x3652da(0x213)]({'jobType':_0x38cbc4[_0x3652da(0x3c9)],'type':_0x47dfc2[_0x3652da(0x8c9)],'agentId':_0x536c19,'threadId':_0x168089,'jobId':_0x502644,'blockId':_0x8190e6,'traceLevel':_0x3c99b3['Info'],'startTime':_0x20b418,'timestamp':Date[_0x3652da(0x2c1)](),'status':'success','code':_0x34b95b['code'],'result':_0x17d55a}),_0x871954;}catch(_0x3d4017){return console[_0x3652da(0x4d2)](_0x3d4017),_0x191a28[_0x3652da(0x213)]({'jobType':_0x38cbc4[_0x3652da(0x3c9)],'type':_0x47dfc2[_0x3652da(0x8c9)],'jobId':_0x502644,'blockId':_0x8190e6,'traceLevel':_0x3c99b3[_0x3652da(0xa90)],'startTime':_0x20b418,'timestamp':Date['now'](),'status':_0x3652da(0x4d2),'errorDetails':_0x4b6611(_0x3d4017),'agentId':_0x536c19,'threadId':_0x168089,'code':_0x34b95b?.[_0x3652da(0x3ab)]??'','result':'Error\x20executing\x20code'}),_0x3d4017 instanceof Error?_0x3d4017[_0x3652da(0x2ba)]:_0x3652da(0x9c8);}}};}(_0x3146ea,_0x20b851,_0xf214bc[_0x365355(0x81b)],_0x293737['id'],_0x3352db);case _0x593060['QueryFile']:return async function(_0x46e397,_0x2de829,_0x48d87e,_0x4e48c8,_0xdac25a,_0x501bab,_0x397ed0,_0x142088){const _0x3da253=_0x365355;if(!_0xdac25a[_0x3da253(0x285)]?.[_0x3da253(0x9be)]||0x0===_0xdac25a[_0x3da253(0x285)][_0x3da253(0x9be)][_0x3da253(0x9a6)])throw new Error(_0x3da253(0x9b7));if(_0xdac25a[_0x3da253(0x285)]['files']['length']>0x1)throw new Error('Multiple\x20files\x20found');const _0x3e046b=[',',';','\x09','|',':'],_0x253f9c=['\x22','\x27'],_0xe5ca5a=await _0xdac25a['accumulated'][_0x3da253(0x9be)][0x0]['text'](),_0x48e895=_0xe5ca5a[_0x3da253(0x5a1)]('\x0a')[0x0];let _0x1fe66e=null,_0x2b0d41=null,_0x49d8ab=0x0;for(const _0x4159cf of _0x3e046b){const _0x339c90=(_0x48e895[_0x3da253(0xa21)](new RegExp('\x5c'+_0x4159cf,'g'))||[])[_0x3da253(0x9a6)];_0x339c90>_0x49d8ab&&(_0x49d8ab=_0x339c90,_0x1fe66e=_0x4159cf);}_0x1fe66e||(_0x1fe66e=','),_0x49d8ab=0x0;for(const _0xc5b565 of _0x253f9c){const _0x5cea98=(_0x48e895['match'](new RegExp('\x5c'+_0xc5b565,'g'))||[])[_0x3da253(0x9a6)];_0x5cea98>_0x49d8ab&&(_0x49d8ab=_0x5cea98,_0x2b0d41=_0xc5b565);}_0x2b0d41||(_0x2b0d41='\x22');const _0x174899=_0x3da253(0x5b1)+_0x48e895[_0x3da253(0x5a1)](_0x1fe66e)[_0x3da253(0x250)](',\x20'),_0x5306ab={'query':{'type':_0x20053a[_0x3da253(0xa16)][_0x3da253(0x2c9)]}};return _0x191a28[_0x3da253(0x213)]({'jobType':_0x38cbc4[_0x3da253(0x2aa)],'type':_0xd04150[_0x3da253(0x94c)],'jobId':_0x46e397,'agentId':_0x2de829,'threadId':_0x48d87e[_0x3da253(0x81b)],'traceLevel':_0x3c99b3[_0x3da253(0xa90)],'startTime':Date[_0x3da253(0x2c1)](),'timestamp':Date[_0x3da253(0x2c1)](),'status':_0x3da253(0x819),'function':_0x47dfc2[_0x3da253(0xa3a)],'params':_0x5306ab,'functionDescription':_0x174899}),{'description':_0x174899,'params':_0x5306ab,'callback':async _0x38f934=>{const _0x31bd85=_0x3da253,_0x450d18=Date[_0x31bd85(0x2c1)]();try{if(_0x142088&&(await _0x4ecfc3[_0x31bd85(0x7a2)](0x1),_0x142088['emit']({'output':_0x31bd85(0x3b2),'type':_0x31bd85(0x45e)})),!_0x397ed0[_0x31bd85(0x2ab)])throw new Error('Query\x20file\x20connector\x20not\x20set');if(_0x31bd85(0x57a)!=typeof _0x38f934?.[_0x31bd85(0x25d)])throw new Error(_0x31bd85(0x702));if(!_0x38f934[_0x31bd85(0x25d)]['includes'](_0x31bd85(0xa38)))throw new Error(_0x31bd85(0x7c6));const _0x40b32b=await _0x397ed0[_0x31bd85(0x2ab)][_0x31bd85(0x709)](_0xe5ca5a,_0x38f934[_0x31bd85(0x25d)],{'headers':!0x0,'quote':_0x2b0d41,'separator':_0x1fe66e});if(_0x191a28[_0x31bd85(0x213)]({'jobType':_0x38cbc4[_0x31bd85(0x3c9)],'type':_0x47dfc2[_0x31bd85(0xa3a)],'jobId':_0x46e397,'agentId':_0x2de829,'threadId':_0x48d87e['threadId'],'blockId':_0xdac25a['id'],'traceLevel':_0x3c99b3[_0x31bd85(0xa90)],'startTime':_0x450d18,'timestamp':Date['now'](),'status':_0x31bd85(0x819),'query':_0x38f934[_0x31bd85(0x25d)],'results':_0x40b32b[_0x31bd85(0x4e6)](0x0,0x3e8)}),_0xdac25a[_0x31bd85(0x9e9)]?.[_0x31bd85(0x9fb)](_0x363945=>_0x363945[_0x31bd85(0x781)]===_0x24c1ae[_0x31bd85(0x308)])){const _0x57b25c=JSON[_0x31bd85(0x57d)](_0x40b32b);let _0x14e322='';if(_0x57b25c['length']>0x0){const _0x27604c=Object[_0x31bd85(0x6c0)](_0x57b25c[0x0]);_0x14e322=_0x27604c[_0x31bd85(0xa4a)](_0x3e9ad3=>'\x22'+_0x3e9ad3+'\x22')['join'](',')+'\x0a';for(const _0x51b3e8 of _0x57b25c)_0x14e322+=_0x27604c[_0x31bd85(0xa4a)](_0x5c641b=>'\x22'+_0x51b3e8[_0x5c641b]+'\x22')[_0x31bd85(0x250)](',')+'\x0a';}const _0x3ce7c2=new File([_0x14e322],'results.csv',{'type':_0x31bd85(0x8b9)});await _0x5455fd(_0x46e397,[_0x3ce7c2],_0x48d87e,_0x4e48c8,_0xdac25a,_0x501bab,_0x397ed0,_0x142088);}return _0x40b32b[_0x31bd85(0x4e6)](0x0,0x3e8);}catch(_0x4ceac1){return console[_0x31bd85(0x4d2)](_0x4ceac1),_0x191a28[_0x31bd85(0x213)]({'jobType':_0x38cbc4[_0x31bd85(0x3c9)],'type':_0x47dfc2['QueryFile'],'jobId':_0x46e397,'blockId':_0xdac25a['id'],'traceLevel':_0x3c99b3[_0x31bd85(0xa90)],'startTime':_0x450d18,'timestamp':Date['now'](),'status':'error','errorDetails':_0x4b6611(_0x4ceac1),'agentId':_0x2de829,'threadId':_0x48d87e['threadId'],'query':_0x38f934?.['query']??'','results':'Error\x20searching'}),_0x4ceac1 instanceof Error?_0x4ceac1[_0x31bd85(0x2ba)]:_0x31bd85(0x65d);}}};}(_0x3146ea,_0x20b851,_0xf214bc,_0x547f4c,_0x293737,_0x85b555,_0x4625e5,_0x3352db);case _0x593060[_0x365355(0x1fc)]:return function(_0xa4584c,_0x2018cd,_0x4c677d,_0x293258,_0x1d7027,_0x21706d,_0x12e7bf){const _0x5e56d4=_0x365355,_0x15b513='Perform\x20a\x20search\x20on\x20Google\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.',_0x4da6eb={'query':{'type':_0x20053a[_0x5e56d4(0xa16)]['String']}};return _0x191a28['trace']({'jobType':_0x38cbc4[_0x5e56d4(0x2aa)],'type':_0xd04150[_0x5e56d4(0x94c)],'jobId':_0xa4584c,'agentId':_0x2018cd,'threadId':_0x4c677d,'traceLevel':_0x3c99b3[_0x5e56d4(0xa90)],'startTime':Date[_0x5e56d4(0x2c1)](),'timestamp':Date['now'](),'status':_0x5e56d4(0x819),'function':_0x47dfc2[_0x5e56d4(0x47f)],'params':_0x4da6eb,'functionDescription':_0x15b513}),{'description':_0x15b513,'params':_0x4da6eb,'callback':async _0x3e9f45=>{const _0x50b63f=_0x5e56d4,_0x1d894a=Date[_0x50b63f(0x2c1)]();try{if(_0x12e7bf&&(await _0x4ecfc3[_0x50b63f(0x7a2)](0x1),_0x12e7bf[_0x50b63f(0x2ce)]({'output':'\x0a\x0a`Searching\x20on\x20Google\x20for\x20'+_0x3e9f45?.[_0x50b63f(0x25d)]+'`\x0a\x0a','type':_0x50b63f(0x45e)})),!_0x21706d[_0x50b63f(0x563)])throw new Error(_0x50b63f(0x5c7));if(_0x50b63f(0x57a)!=typeof _0x3e9f45?.[_0x50b63f(0x25d)])throw new Error(_0x50b63f(0x702));const _0x46520a=await _0x21706d[_0x50b63f(0x563)]['search'](_0x3e9f45[_0x50b63f(0x25d)],_0x1d7027,_0x510c96[_0x50b63f(0x30e)][_0x50b63f(0x64a)]);let _0x4729ef='';for(const _0x2ee8e7 of _0x46520a)_0x4729ef+=_0x2ee8e7[_0x50b63f(0x5ac)]+_0x50b63f(0x686)+_0x2ee8e7[_0x50b63f(0x821)]+'\x0a'+_0x2ee8e7['snippet']+'\x0a\x0a';return _0x191a28[_0x50b63f(0x213)]({'jobType':_0x38cbc4['Skill'],'type':_0x47dfc2['SearchGoogle'],'jobId':_0xa4584c,'agentId':_0x2018cd,'threadId':_0x4c677d,'blockId':_0x293258,'traceLevel':_0x3c99b3[_0x50b63f(0xa90)],'startTime':_0x1d894a,'timestamp':Date[_0x50b63f(0x2c1)](),'status':_0x50b63f(0x819),'query':_0x3e9f45[_0x50b63f(0x25d)],'results':_0x4729ef}),_0x4729ef;}catch(_0x23266a){return console[_0x50b63f(0x4d2)](_0x23266a),_0x191a28['trace']({'jobType':_0x38cbc4[_0x50b63f(0x3c9)],'type':_0x47dfc2[_0x50b63f(0x47f)],'jobId':_0xa4584c,'blockId':_0x293258,'traceLevel':_0x3c99b3[_0x50b63f(0xa90)],'startTime':_0x1d894a,'timestamp':Date[_0x50b63f(0x2c1)](),'status':_0x50b63f(0x4d2),'errorDetails':_0x4b6611(_0x23266a),'agentId':_0x2018cd,'threadId':_0x4c677d,'query':_0x3e9f45?.[_0x50b63f(0x25d)]??'','results':_0x50b63f(0x9a9)}),_0x23266a instanceof Error?_0x23266a[_0x50b63f(0x2ba)]:_0x50b63f(0x9a9);}}};}(_0x3146ea,_0x20b851,_0xf214bc['threadId'],_0x293737['id'],_0x4625e5['searchApiKey'],_0x4625e5,_0x3352db);case _0x593060['WebScraper']:return _0x5711d8(_0x3146ea,_0x20b851,_0xf214bc[_0x365355(0x81b)],_0x293737['id'],_0x3352db);case _0x593060['WebScraperRaw']:return _0x5711d8(_0x3146ea,_0x20b851,_0xf214bc[_0x365355(0x81b)],_0x293737['id'],_0x3352db,!0x1);case _0x593060['WriteFile']:return async function(_0x520f39,_0x3813c6,_0x71fe2b,_0x514529,_0x5ba897,_0x5273dc,_0xe8e16a,_0xc43302){const _0x35eb6a=_0x365355,_0x2376f7=_0x35eb6a(0x7cf),_0x3237dd={'text':{'type':_0x20053a[_0x35eb6a(0xa16)]['String']}};return _0x191a28[_0x35eb6a(0x213)]({'jobType':_0x38cbc4[_0x35eb6a(0x2aa)],'type':_0xd04150[_0x35eb6a(0x94c)],'jobId':_0x520f39,'agentId':_0x3813c6,'threadId':_0x71fe2b[_0x35eb6a(0x81b)],'traceLevel':_0x3c99b3[_0x35eb6a(0xa90)],'startTime':Date[_0x35eb6a(0x2c1)](),'timestamp':Date[_0x35eb6a(0x2c1)](),'status':_0x35eb6a(0x819),'function':_0x47dfc2[_0x35eb6a(0x74c)],'params':_0x3237dd,'functionDescription':_0x2376f7}),{'description':_0x2376f7,'params':_0x3237dd,'callback':async _0x458554=>{const _0x46f6ad=_0x35eb6a,_0x5950b1=Date[_0x46f6ad(0x2c1)]();try{if(_0xc43302&&(await _0x4ecfc3['wait'](0x1),_0xc43302['emit']({'output':_0x46f6ad(0xa76),'type':_0x46f6ad(0x45e)})),_0x46f6ad(0x57a)!=typeof _0x458554?.['text'])throw new Error('Text\x20is\x20required');if(_0x191a28[_0x46f6ad(0x213)]({'jobType':_0x38cbc4[_0x46f6ad(0x3c9)],'type':_0x47dfc2[_0x46f6ad(0x74c)],'jobId':_0x520f39,'agentId':_0x3813c6,'threadId':_0x71fe2b['threadId'],'blockId':_0x5ba897['id'],'traceLevel':_0x3c99b3[_0x46f6ad(0xa90)],'startTime':_0x5950b1,'timestamp':Date[_0x46f6ad(0x2c1)](),'status':_0x46f6ad(0x819),'content':_0x458554[_0x46f6ad(0xace)]}),_0x5ba897['links']?.['some'](_0x3078ed=>_0x3078ed[_0x46f6ad(0x781)]===_0x24c1ae[_0x46f6ad(0x308)])){const _0xc2cfac=new File([_0x458554[_0x46f6ad(0xace)]],_0x46f6ad(0x3d0),{'type':_0x46f6ad(0x6c2)});await _0x5455fd(_0x520f39,[_0xc2cfac],_0x71fe2b,_0x514529,_0x5ba897,_0x5273dc,_0xe8e16a,_0xc43302);}return _0x46f6ad(0x8b5);}catch(_0x58d65c){return console[_0x46f6ad(0x4d2)](_0x58d65c),_0x191a28['trace']({'jobType':_0x38cbc4['Skill'],'type':_0x47dfc2[_0x46f6ad(0x74c)],'jobId':_0x520f39,'blockId':_0x5ba897['id'],'traceLevel':_0x3c99b3[_0x46f6ad(0xa90)],'startTime':_0x5950b1,'timestamp':Date[_0x46f6ad(0x2c1)](),'status':'error','errorDetails':_0x4b6611(_0x58d65c),'agentId':_0x3813c6,'threadId':_0x71fe2b[_0x46f6ad(0x81b)],'content':_0x46f6ad(0x57a)==typeof _0x458554?.[_0x46f6ad(0xace)]?_0x458554[_0x46f6ad(0xace)]:''}),_0x58d65c instanceof Error?_0x58d65c['message']:_0x46f6ad(0x65d);}}};}(_0x3146ea,_0x20b851,_0xf214bc,_0x547f4c,_0x293737,_0x85b555,_0x4625e5,_0x3352db);}throw new Error('Unknown\x20skill\x20type');}function _0x4b6611(_0x4a9c63){const _0x209e2c=_0x5f24fc;try{return JSON[_0x209e2c(0x36f)](_0x4a9c63);}catch(_0x42a151){return _0x4a9c63 instanceof Error?_0x4a9c63[_0x209e2c(0xa03)]():'Error\x20fetching\x20context';}}async function _0x23d99b(_0x2cb367,_0x4f9f69,_0xd73d75,_0x4cbaec,_0x2bc6b3,_0x579cad,_0x1419f6,_0x5ad8ee,_0x2b0799){const _0x1de4b0=_0x5f24fc;if(_0x579cad[_0x1de4b0(0x285)]||(_0x579cad[_0x1de4b0(0x285)]={}),_0x4f9f69===_0x24c1ae[_0x1de4b0(0x5d2)]&&_0x1de4b0(0x57a)==typeof _0xd73d75&&(_0x579cad[_0x1de4b0(0x285)][_0x1de4b0(0x45e)]=_0xd73d75),_0x579cad['timesCalled']=_0x579cad[_0x1de4b0(0x685)]?_0x579cad[_0x1de4b0(0x685)]+0x1:0x1,_0x4d28ab(_0x579cad,_0x1419f6)>_0x579cad[_0x1de4b0(0x685)])return;if(_0x40d481[_0x1de4b0(0xa2f)](_0x1de4b0(0x854)+_0x579cad[_0x1de4b0(0x696)],_0x579cad[_0x1de4b0(0x685)]),!_0x579cad[_0x1de4b0(0x285)][_0x1de4b0(0x45e)])throw new Error('Agent\x20block\x20is\x20missing\x20required\x20data:\x20'+_0x579cad[_0x1de4b0(0x696)]);const _0x1d0303=_0x5ad8ee['models'][_0x1de4b0(0x260)](_0x17ab25=>_0x17ab25['id']===_0x579cad[_0x1de4b0(0xa0b)]);if(!_0x1d0303)throw new Error('Model\x20not\x20found');if(!_0x5ad8ee[_0x1de4b0(0x694)][_0x1de4b0(0x260)](_0x2d16ce=>_0x2d16ce[_0x1de4b0(0x613)]()===_0x1d0303[_0x1de4b0(0x391)]))throw new Error(_0x1de4b0(0x7d8));_0x2b0799&&_0x2b0799[_0x1de4b0(0x2ce)]({'output':_0x1de4b0(0xa29)+_0x579cad['name']+_0x1de4b0(0x3be),'type':_0x1de4b0(0x45e)});const _0x470463=Date[_0x1de4b0(0x2c1)](),_0x79e0c=(0x0,_0x58fdf1['v4'])(),_0x3e9e95=_0x2b0799?await async function(_0x81279f,_0x1498d2,_0x481b0c,_0x3eaba8,_0x145a35,_0x1e7620,_0x273bc2,_0x4ea1b5){const _0x38927a=_0x1de4b0,_0x3692d3=_0x4ea1b5[_0x38927a(0x625)]['find'](_0x2e959c=>_0x2e959c['id']===_0x145a35[_0x38927a(0xa0b)]);if(!_0x3692d3)throw new Error(_0x38927a(0x817));const _0x1456a4=_0x4ea1b5['generativeAIWorkerConnectors'][_0x38927a(0x260)](_0x4423e4=>_0x4423e4[_0x38927a(0x613)]()===_0x3692d3[_0x38927a(0x391)]);if(!_0x1456a4)throw new Error(_0x38927a(0x7d8));if(!_0x145a35[_0x38927a(0x285)]||!_0x145a35[_0x38927a(0x285)][_0x38927a(0x45e)])throw new Error(_0x38927a(0xa87));const _0x4a8bea={'type':_0x38927a(0x45e),'output':''};for await(const _0x12274f of _0x1456a4['processJobStream']({'type':_0x481b0c[_0x38927a(0x781)],'prompt':_0x3768b9(_0x145a35[_0x38927a(0x285)]['prompt'],_0x145a35),'instructions':_0x211e09(_0x481b0c[_0x38927a(0x4ac)]??'',_0x145a35,_0x3692d3),'grammar':_0x145a35[_0x38927a(0x399)],'temperature':_0x145a35[_0x38927a(0x42f)],'maxTokens':_0x145a35[_0x38927a(0x8f5)],'history':_0x481b0c[_0x38927a(0x9b5)],'functions':await _0x55431f(_0x81279f,_0x1498d2,_0x481b0c,_0x3eaba8,_0x145a35,_0x1e7620,_0x4ea1b5,_0x273bc2),'threadId':_0x481b0c[_0x38927a(0x81b)]},{'model':_0x3692d3,'sequences':0x2}))_0x145a35[_0x38927a(0x9e9)]&&_0x145a35[_0x38927a(0x9e9)]['some'](_0x13ab91=>{const _0xce2251=_0x38927a,_0x2930a8=_0x1e7620[_0xce2251(0x260)](_0x28e44e=>_0x28e44e[_0xce2251(0x275)]===_0x13ab91[_0xce2251(0x275)]);return!!_0x2930a8&&_0x13ab91[_0xce2251(0x781)]===_0x24c1ae[_0xce2251(0x5d2)]&&_0x2930a8[_0xce2251(0x781)]===_0x593060['Answer'];})&&_0x273bc2[_0x38927a(0x2ce)](_0x12274f),_0x38927a(0x57a)==typeof _0x4a8bea[_0x38927a(0x51b)]&&_0x38927a(0x57a)==typeof _0x12274f[_0x38927a(0x51b)]&&(_0x4a8bea[_0x38927a(0x51b)]+=_0x12274f[_0x38927a(0x51b)]),_0x4a8bea[_0x38927a(0x907)]=_0x12274f[_0x38927a(0x907)],_0x4a8bea[_0x38927a(0xad8)]=_0x12274f[_0x38927a(0xad8)];return _0x4a8bea;}(_0x2cb367,_0x79e0c,_0x4cbaec,_0x2bc6b3,_0x579cad,_0x1419f6,_0x2b0799,_0x5ad8ee):await async function(_0x2b9522,_0x3836d6,_0x144559,_0x2dcecc,_0x123003,_0x1d473a,_0x5ecced){const _0x26e61e=_0x1de4b0,_0x3d5e8b=_0x5ecced[_0x26e61e(0x625)]['find'](_0xd0f9d2=>_0xd0f9d2['id']===_0x123003[_0x26e61e(0xa0b)]);if(!_0x3d5e8b)throw new Error(_0x26e61e(0x817));const _0x4c50c7=_0x5ecced[_0x26e61e(0x694)]['find'](_0x5690fe=>_0x5690fe[_0x26e61e(0x613)]()===_0x3d5e8b[_0x26e61e(0x391)]);if(!_0x4c50c7)throw new Error(_0x26e61e(0x7d8));if(!_0x123003[_0x26e61e(0x285)]||!_0x123003['accumulated'][_0x26e61e(0x45e)])throw new Error(_0x26e61e(0xa87));return _0x4c50c7[_0x26e61e(0x64e)]({'type':_0x26e61e(0x45e),'prompt':_0x3768b9(_0x123003[_0x26e61e(0x285)][_0x26e61e(0x45e)],_0x123003),'instructions':_0x211e09(_0x144559[_0x26e61e(0x4ac)]??'',_0x123003,_0x3d5e8b),'grammar':_0x123003[_0x26e61e(0x399)],'temperature':_0x123003['temperature'],'maxTokens':_0x123003[_0x26e61e(0x8f5)],'history':_0x144559['history'],'functions':await _0x55431f(_0x2b9522,_0x3836d6,_0x144559,_0x2dcecc,_0x123003,_0x1d473a,_0x5ecced),'threadId':_0x144559[_0x26e61e(0x81b)]},{'model':_0x3d5e8b,'sequences':0x2});}(_0x2cb367,_0x79e0c,_0x4cbaec,_0x2bc6b3,_0x579cad,_0x1419f6,_0x5ad8ee);if(_0x1de4b0(0x57a)!=typeof _0x3e9e95[_0x1de4b0(0x51b)])throw new Error('Agent\x20output\x20is\x20not\x20a\x20string');_0x2bc6b3[_0x1de4b0(0x907)]+=_0x3e9e95['inputTokens']??0x0,_0x2bc6b3[_0x1de4b0(0xad8)]+=_0x3e9e95[_0x1de4b0(0xad8)]??0x0,_0x2b0799||(_0x2bc6b3[_0x1de4b0(0x51b)]=_0x3e9e95['output']),_0x191a28[_0x1de4b0(0x213)]({'jobType':_0x38cbc4[_0x1de4b0(0x716)],'type':_0x2d0620[_0x1de4b0(0x8c6)],'jobId':_0x2cb367,'agentId':_0x79e0c,'threadId':_0x4cbaec['threadId'],'traceLevel':_0x3c99b3['Info'],'startTime':_0x470463,'timestamp':Date[_0x1de4b0(0x2c1)](),'blockId':_0x579cad['id'],'status':_0x1de4b0(0x819),'output':_0x3e9e95[_0x1de4b0(0x51b)],'prompt':_0x579cad['accumulated'][_0x1de4b0(0x45e)],'agentName':_0x579cad[_0x1de4b0(0x696)],'history':[],'instructions':''+_0x579cad[_0x1de4b0(0x4ac)]+(_0x4cbaec[_0x1de4b0(0x4ac)]??''),'ragContext':_0x3e9e95[_0x1de4b0(0x843)]??[],'inputTokens':_0x3e9e95['inputTokens']??0x0,'outputTokens':_0x3e9e95[_0x1de4b0(0xad8)]??0x0}),_0x3edd04(_0x3e9e95[_0x1de4b0(0x51b)],_0x579cad,_0x1419f6),await _0x5455fd(_0x2cb367,_0x3e9e95[_0x1de4b0(0x51b)],_0x4cbaec,_0x2bc6b3,_0x579cad,_0x1419f6,_0x5ad8ee,_0x2b0799);}function _0x3768b9(_0x361591,_0x154492){const _0x2f2e05=_0x5f24fc;if(!_0x154492[_0x2f2e05(0x285)]||!_0x154492[_0x2f2e05(0x285)]['context'])return _0x361591;if(_0x154492[_0x2f2e05(0x285)][_0x2f2e05(0x843)])for(const _0x471710 of Object[_0x2f2e05(0x6c0)](_0x154492[_0x2f2e05(0x285)][_0x2f2e05(0x843)])){const _0x29b16c=_0x154492[_0x2f2e05(0x285)][_0x2f2e05(0x843)][_0x471710];_0x361591=_0x29b16c instanceof Array?_0x2f2e05(0x78c)+_0x471710+_0x2f2e05(0x30c)+_0x29b16c['map'](_0x242bdb=>_0x2f2e05(0x921)+_0x242bdb[_0x2f2e05(0x54c)]+':\x20'+_0x242bdb[_0x2f2e05(0x6b2)])[_0x2f2e05(0x250)]('\x0a\x0a')+'\x0a\x0a'+_0x361591:_0x2f2e05(0x63a)+_0x471710+':\x20'+_0x29b16c+'\x0a\x0a'+_0x361591;}return _0x361591;}function _0x211e09(_0x1f6db8,_0x583499,_0x24ad57){const _0x43d6a4=_0x5f24fc;let _0x503d37='';return _0x24ad57[_0x43d6a4(0x264)]&&''!==_0x24ad57[_0x43d6a4(0x264)]&&(_0x503d37=_0x43d6a4(0x4a8)+_0x24ad57['knowledgeCutoffDate']+'\x0a\x0a'),_0x503d37=_0x503d37+_0x43d6a4(0xab4)+new Date()[_0x43d6a4(0xa4b)](void 0x0,{'weekday':_0x43d6a4(0x20c),'year':_0x43d6a4(0x40c),'month':'long','day':_0x43d6a4(0x40c)})+'\x0a\x0a',''+_0x503d37+_0x583499[_0x43d6a4(0x4ac)]+_0x1f6db8;}function _0x105f7b(_0x41f1ae,_0x48ecf4,_0x3a4a18){const _0x5074ec=_0x5f24fc;_0x3a4a18[_0x5074ec(0x285)]||(_0x3a4a18[_0x5074ec(0x285)]={}),_0x3a4a18[_0x5074ec(0x285)][_0x5074ec(0x843)]||(_0x3a4a18[_0x5074ec(0x285)]['context']={});const _0x2c1e6f=_0x3a4a18[_0x5074ec(0x449)]?.['split'](',');_0x2c1e6f&&_0x2c1e6f[_0x5074ec(0x465)](_0x41f1ae)&&(_0x3a4a18[_0x5074ec(0x285)][_0x5074ec(0x843)][_0x41f1ae]=_0x48ecf4);}function _0x30de97(_0x130bc8,_0x99f9fa,_0xa06929,_0x2338e9){const _0x1e4c21=_0x5f24fc;_0x130bc8!==_0x24c1ae['Context']&&_0x130bc8!==_0x24c1ae['File']||(_0x2338e9[_0x1e4c21(0x285)]||(_0x2338e9[_0x1e4c21(0x285)]={}),_0x1e4c21(0x57a)==typeof _0xa06929?(_0x2338e9[_0x1e4c21(0x285)][_0x1e4c21(0x843)]||(_0x2338e9[_0x1e4c21(0x285)][_0x1e4c21(0x843)]={}),_0x2338e9[_0x1e4c21(0x285)][_0x1e4c21(0x843)][_0x99f9fa]=_0xa06929):_0x2338e9[_0x1e4c21(0x285)][_0x1e4c21(0x604)]=_0xa06929);}async function _0x17a66e(_0x2d43b9,_0x335062,_0x31329d,_0x317ee9,_0x5058b8,_0x43f1f5,_0x291ae5,_0x21eab3){const _0x2b2ef1=function(_0x35aa7d,_0x3d394a){const _0x34462c=a0_0x214c,_0x130272=[];for(let _0x2e4648=0x0;_0x2e4648<_0x35aa7d[_0x34462c(0x9a6)];_0x2e4648+=_0x3d394a['attributes']['size']){let _0x285166=_0x2e4648-_0x3d394a[_0x34462c(0x849)][_0x34462c(0x5e7)];_0x285166<0x0&&(_0x285166=0x0);let _0x415454=_0x2e4648+_0x3d394a[_0x34462c(0x849)][_0x34462c(0x58d)]+_0x3d394a[_0x34462c(0x849)]['overlap'];_0x415454>_0x35aa7d[_0x34462c(0x9a6)]&&(_0x415454=_0x35aa7d['length']),length||(length=_0x2e4648+_0x3d394a[_0x34462c(0x849)]['size'],length>_0x35aa7d['length']&&(length=_0x35aa7d[_0x34462c(0x9a6)])),_0x130272[_0x34462c(0x96d)](_0x35aa7d[_0x34462c(0x4e6)](_0x285166,_0x415454));}return _0x130272;}(_0x335062,_0x5058b8);await _0x5455fd(_0x2d43b9,_0x2b2ef1,_0x31329d,_0x317ee9,_0x5058b8,_0x43f1f5,_0x291ae5,_0x21eab3);}function _0x435ce7(_0x1afd34,_0x3195c0,_0x13eb1e){const _0x33ae34=_0x5f24fc;_0x13eb1e[_0x33ae34(0x285)]||(_0x13eb1e[_0x33ae34(0x285)]={}),_0x13eb1e['accumulated'][_0x33ae34(0x843)]||(_0x13eb1e[_0x33ae34(0x285)]['context']={}),_0x13eb1e[_0x33ae34(0x285)]['context'][_0x1afd34]=_0x3195c0;}async function _0x51eeee(_0x2e78b9,_0x477bd3,_0x3892a6,_0x7b248d,_0x19f48a,_0x4e65ee,_0x133d13,_0x5c78b1){const _0x5c0613=_0x5f24fc;if(_0x19f48a['accumulated']||(_0x19f48a[_0x5c0613(0x285)]={}),_0x19f48a['accumulated'][_0x5c0613(0x718)]||(_0x19f48a[_0x5c0613(0x285)][_0x5c0613(0x718)]=[]),_0x477bd3 instanceof Array?_0x19f48a[_0x5c0613(0x285)][_0x5c0613(0x718)]['push'](..._0x477bd3):_0x19f48a[_0x5c0613(0x285)][_0x5c0613(0x718)][_0x5c0613(0x96d)](_0x477bd3),_0x19f48a['timesCalled']=_0x19f48a[_0x5c0613(0x685)]?_0x19f48a[_0x5c0613(0x685)]+0x1:0x1,_0x4d28ab(_0x19f48a,_0x4e65ee)>_0x19f48a[_0x5c0613(0x685)])return;if(0x0===_0x19f48a[_0x5c0613(0x285)]['queries'][_0x5c0613(0x9a6)])throw new Error(_0x5c0613(0xa4d));let _0x481caa=[];const _0x1fe459=Date[_0x5c0613(0x2c1)]();try{let _0x376133=0x0,_0x145459=0x0;for(const _0x460854 of _0x19f48a['accumulated']['queries']){const _0x5d0e9e=_0x19f48a[_0x5c0613(0x692)]['find'](_0x254c91=>_0x254c91['type']===_0x3c2286[_0x5c0613(0x90c)]),_0x3f5e9e=await _0x203cd4(_0x2e78b9,_0x3892a6['threadId'],_0x460854,_0x5d0e9e,_0x19f48a[_0x5c0613(0x692)],_0x133d13);_0x481caa=Array[_0x5c0613(0x3ce)](new Set([..._0x481caa,..._0x3f5e9e[_0x5c0613(0x843)]])),_0x376133+=_0x3f5e9e[_0x5c0613(0x907)]??0x0,_0x145459+=_0x3f5e9e['outputTokens']??0x0;}_0x7b248d[_0x5c0613(0x907)]+=_0x376133,_0x7b248d[_0x5c0613(0xad8)]+=_0x145459,_0x7b248d[_0x5c0613(0x843)]=Array[_0x5c0613(0x3ce)](new Set([..._0x7b248d[_0x5c0613(0x843)],..._0x481caa])),_0x191a28[_0x5c0613(0x213)]({'jobType':_0x38cbc4[_0x5c0613(0x716)],'type':_0x2d0620[_0x5c0613(0x935)],'jobId':_0x2e78b9,'threadId':_0x3892a6[_0x5c0613(0x81b)],'traceLevel':_0x3c99b3[_0x5c0613(0xa90)],'startTime':_0x1fe459,'timestamp':Date[_0x5c0613(0x2c1)](),'blockId':_0x19f48a['id'],'status':_0x5c0613(0x819),'queries':_0x19f48a[_0x5c0613(0x285)][_0x5c0613(0x718)],'context':_0x481caa,'inputTokens':_0x376133,'outputTokens':_0x145459});}catch(_0x51d1ab){console[_0x5c0613(0x4d2)](_0x51d1ab),_0x191a28[_0x5c0613(0x213)]({'jobType':_0x38cbc4[_0x5c0613(0x716)],'type':_0x2d0620[_0x5c0613(0x935)],'jobId':_0x2e78b9,'threadId':_0x3892a6[_0x5c0613(0x81b)],'traceLevel':_0x3c99b3[_0x5c0613(0xa90)],'startTime':_0x1fe459,'timestamp':Date[_0x5c0613(0x2c1)](),'blockId':_0x19f48a['id'],'status':_0x5c0613(0x4d2),'queries':_0x19f48a[_0x5c0613(0x285)][_0x5c0613(0x718)],'context':[],'inputTokens':0x0,'outputTokens':0x0});}_0x3edd04(_0x481caa,_0x19f48a,_0x4e65ee),await _0x5455fd(_0x2e78b9,'',_0x3892a6,_0x7b248d,_0x19f48a,_0x4e65ee,_0x133d13,_0x5c78b1);}async function _0x8c6870(_0x56ee9e,_0x2798fe,_0x41a44b,_0x4f3c3c,_0x874500,_0x1fc32a,_0x1b6b97,_0xcea66b){const _0x44eb7b=_0x5f24fc,_0x5730f1=await _0x1b6b97[_0x44eb7b(0x20b)][_0x44eb7b(0x9d2)](_0x2798fe);await _0x5455fd(_0x56ee9e,_0x5730f1,_0x41a44b,_0x4f3c3c,_0x874500,_0x1fc32a,_0x1b6b97,_0xcea66b);}async function _0x23a230(_0x3a83b6,_0x17eec0,_0x32fd8f,_0x458b99,_0x30c12e,_0x3f4a14,_0x160529,_0x542705){const _0x33bea4=function(_0x28417d,_0x157bda){const _0x2f907b=a0_0x214c,_0x51d15f=[],_0x13aa0e=_0x28417d[_0x2f907b(0x5a1)]('\x20');let _0x4928ff='',_0x359795=0x0,_0x20e04e=0x0,_0x1c87bd=0x0;for(const _0x1b0d90 of _0x13aa0e){if(_0x4928ff[_0x2f907b(0x9a6)]+_0x1b0d90[_0x2f907b(0x9a6)]>_0x157bda['attributes'][_0x2f907b(0x58d)]){let _0x2ff686=_0x359795,_0x46c98d='';for(;_0x2ff686>=0x0&&_0x46c98d['length']+_0x13aa0e[_0x2ff686][_0x2f907b(0x9a6)]<_0x157bda['attributes'][_0x2f907b(0x5e7)];)_0x46c98d=_0x13aa0e[_0x2ff686]+'\x20'+_0x46c98d,_0x2ff686--;let _0x43cce7=_0x20e04e,_0x3c350f='';for(;_0x43cce7<_0x13aa0e['length']&&_0x3c350f[_0x2f907b(0x9a6)]+_0x13aa0e[_0x43cce7][_0x2f907b(0x9a6)]<_0x157bda[_0x2f907b(0x849)][_0x2f907b(0x5e7)];)_0x3c350f+=_0x13aa0e[_0x43cce7]+'\x20',_0x43cce7++;_0x4928ff=_0x46c98d+_0x4928ff+_0x3c350f,_0x51d15f['push'](_0x4928ff[_0x2f907b(0xa98)]()),_0x4928ff='',_0x359795=_0x20e04e;}_0x4928ff+=_0x1b0d90+'\x20',_0x20e04e++,_0x1c87bd+=_0x1b0d90[_0x2f907b(0x9a6)]+0x1;}if(_0x4928ff[_0x2f907b(0x9a6)]>0x0){let _0x23759e=_0x359795,_0x4c9edc='';for(;_0x23759e>=0x0&&_0x4c9edc['length']+_0x13aa0e[_0x23759e]['length']<_0x157bda[_0x2f907b(0x849)][_0x2f907b(0x5e7)];)_0x4c9edc=_0x13aa0e[_0x23759e]+'\x20'+_0x4c9edc,_0x23759e--;_0x4928ff=_0x4c9edc+_0x4928ff,_0x51d15f[_0x2f907b(0x96d)](_0x4928ff[_0x2f907b(0xa98)]());}return _0x51d15f;}(_0x17eec0,_0x30c12e);await _0x5455fd(_0x3a83b6,_0x33bea4,_0x32fd8f,_0x458b99,_0x30c12e,_0x3f4a14,_0x160529,_0x542705);}function _0x3edd04(_0x23c84f,_0x57db6e,_0x2da597,_0x27c176){const _0x5f29d8=_0x5f24fc;if(_0x57db6e[_0x5f29d8(0x9e9)])for(const _0x40f7c0 of _0x57db6e[_0x5f29d8(0x9e9)]){if(_0x40f7c0['type']!==_0x24c1ae['Context'])continue;const _0x22b8bd=_0x2da597['find'](_0x5cb229=>_0x5cb229[_0x5f29d8(0x275)]===_0x40f7c0['uid']);if(!_0x22b8bd)continue;let _0x4725b5=_0x57db6e['id'];switch(_0x27c176?_0x4725b5=_0x27c176:(_0x57db6e[_0x5f29d8(0x781)]===_0x593060[_0x5f29d8(0x935)]&&(_0x4725b5=_0x57db6e[_0x5f29d8(0x696)]),_0x57db6e[_0x5f29d8(0x781)]!==_0x593060[_0x5f29d8(0x723)]&&_0x57db6e[_0x5f29d8(0x781)]!==_0x593060[_0x5f29d8(0x67c)]&&_0x57db6e[_0x5f29d8(0x781)]!==_0x593060[_0x5f29d8(0x924)]||(_0x4725b5=_0x57db6e['contextOutputVariable']??_0x57db6e['name'])),_0x22b8bd['type']){case _0x593060['Agent']:_0x40d481['forceLog'](_0x5f29d8(0x884),_0x22b8bd[_0x5f29d8(0x696)],_0x4725b5),_0x22b8bd[_0x5f29d8(0x285)]||(_0x22b8bd['accumulated']={}),_0x22b8bd[_0x5f29d8(0x285)][_0x5f29d8(0x843)]||(_0x22b8bd[_0x5f29d8(0x285)][_0x5f29d8(0x843)]={});const _0x2e93cf=_0x22b8bd[_0x5f29d8(0x449)]?.[_0x5f29d8(0x5a1)](',');if(!(_0x2e93cf&&_0x2e93cf[_0x5f29d8(0x465)](_0x4725b5)||_0x5f29d8(0x66a)===_0x4725b5))return;_0x22b8bd['accumulated'][_0x5f29d8(0x843)][_0x4725b5]=_0x23c84f;break;case _0x593060[_0x5f29d8(0x67c)]:_0x40d481[_0x5f29d8(0xa2f)](_0x5f29d8(0x6d8),_0x22b8bd[_0x5f29d8(0x696)],_0x4725b5),_0x105f7b(_0x4725b5,_0x23c84f,_0x22b8bd);break;case _0x593060[_0x5f29d8(0x4bd)]:_0x40d481[_0x5f29d8(0xa2f)]('Setting\x20context\x20for\x20answer\x20block',_0x4725b5),'string'==typeof _0x23c84f&&_0x30de97(_0x40f7c0[_0x5f29d8(0x781)],_0x4725b5,_0x23c84f,_0x22b8bd);break;case _0x593060[_0x5f29d8(0x924)]:_0x40d481[_0x5f29d8(0xa2f)](_0x5f29d8(0xa71),_0x22b8bd[_0x5f29d8(0x696)],_0x4725b5),_0x5f29d8(0x57a)==typeof _0x23c84f&&_0x435ce7(_0x4725b5,_0x23c84f,_0x22b8bd);}}}async function _0x5455fd(_0x16eadb,_0xc6fe5f,_0x1d4234,_0x4a0f27,_0x574ab5,_0x161a01,_0x56ab91,_0x50c1a0){const _0x34312f=_0x5f24fc;if(await _0x4ecfc3['wait'](0x1),_0x574ab5[_0x34312f(0x9e9)]){for(const _0x2bec04 of _0x574ab5[_0x34312f(0x9e9)]){if(_0x2bec04['type']===_0x24c1ae['Context'])continue;const _0x4de21b=_0x161a01[_0x34312f(0x260)](_0x3e326a=>_0x3e326a[_0x34312f(0x275)]===_0x2bec04[_0x34312f(0x275)]);if(_0x4de21b)switch(_0x4de21b['type']){case _0x593060['Agent']:_0x2bec04[_0x34312f(0x781)]!==_0x24c1ae['Text']&&_0x2bec04[_0x34312f(0x781)]!==_0x24c1ae[_0x34312f(0x83d)]||_0x34312f(0x57a)!=typeof _0xc6fe5f||await _0x23d99b(_0x16eadb,_0x2bec04[_0x34312f(0x781)],_0xc6fe5f,_0x1d4234,_0x4a0f27,_0x4de21b,_0x161a01,_0x56ab91,_0x50c1a0);break;case _0x593060[_0x34312f(0x4bd)]:_0x2bec04[_0x34312f(0x781)]===_0x24c1ae['File']&&_0xc6fe5f instanceof Array&&_0xc6fe5f[_0x34312f(0x9a6)]>0x0&&_0x30de97(_0x2bec04['type'],_0x16eadb,_0xc6fe5f[0x0],_0x4de21b);break;case _0x593060['ChunkSplitter']:_0x2bec04[_0x34312f(0x781)]===_0x24c1ae[_0x34312f(0x5d2)]&&_0x34312f(0x57a)==typeof _0xc6fe5f&&await _0x17a66e(_0x16eadb,_0xc6fe5f,_0x1d4234,_0x4a0f27,_0x4de21b,_0x161a01,_0x56ab91,_0x50c1a0);break;case _0x593060[_0x34312f(0x935)]:_0x2bec04[_0x34312f(0x781)]===_0x24c1ae[_0x34312f(0x5d2)]&&_0x34312f(0x57a)==typeof _0xc6fe5f&&await _0x51eeee(_0x16eadb,_0xc6fe5f,_0x1d4234,_0x4a0f27,_0x4de21b,_0x161a01,_0x56ab91,_0x50c1a0),_0x2bec04[_0x34312f(0x781)]===_0x24c1ae['Text']&&_0xc6fe5f instanceof Array&&await _0x51eeee(_0x16eadb,_0xc6fe5f,_0x1d4234,_0x4a0f27,_0x4de21b,_0x161a01,_0x56ab91,_0x50c1a0);break;case _0x593060[_0x34312f(0x9d8)]:_0x2bec04['type']===_0x24c1ae['Text']&&_0x34312f(0x57a)==typeof _0xc6fe5f&&await _0x8c6870(_0x16eadb,_0xc6fe5f,_0x1d4234,_0x4a0f27,_0x4de21b,_0x161a01,_0x56ab91,_0x50c1a0);break;case _0x593060[_0x34312f(0xa89)]:_0x2bec04[_0x34312f(0x781)]===_0x24c1ae[_0x34312f(0x5d2)]&&_0x34312f(0x57a)==typeof _0xc6fe5f&&await _0x23a230(_0x16eadb,_0xc6fe5f,_0x1d4234,_0x4a0f27,_0x4de21b,_0x161a01,_0x56ab91,_0x50c1a0);}}_0x574ab5[_0x34312f(0x781)]===_0x593060[_0x34312f(0x90c)]&&_0x50c1a0&&_0x50c1a0[_0x34312f(0x2ce)](void 0x0);}else _0x574ab5['type']===_0x593060[_0x34312f(0x90c)]&&_0x50c1a0&&_0x50c1a0[_0x34312f(0x2ce)](void 0x0);}function _0x4d28ab(_0x2d9d58,_0x148cd6){const _0x588e2b=_0x5f24fc;let _0x1c5d45=0x0;for(const _0x2eb1df of _0x148cd6)for(const _0x4f5365 of _0x2eb1df[_0x588e2b(0x9e9)]??[])_0x4f5365[_0x588e2b(0x781)]!==_0x24c1ae['Context']&&_0x4f5365[_0x588e2b(0x781)]!==_0x24c1ae[_0x588e2b(0x3a7)]&&_0x4f5365[_0x588e2b(0x781)]!==_0x24c1ae['Skill']&&_0x4f5365['uid']===_0x2d9d58['uid']&&_0x1c5d45++;return _0x1c5d45;}async function _0x549d5f(_0x2f09f2,_0x52ab10,_0x42201d,_0xd35ae8){const _0x534ee1=_0x5f24fc;if(0x0===_0x2f09f2[_0x534ee1(0x9a6)])return;let _0x4b434d='<uploaded-files>';for(const _0x3c4b40 of _0x2f09f2)if(_0x3c4b40[_0x534ee1(0x781)][_0x534ee1(0x9c4)]('text/')||_0x4dbef8(_0x3c4b40[_0x534ee1(0x696)],_0x56d8aa))_0x4b434d+='\x0a<'+_0x3c4b40[_0x534ee1(0x696)]+'>\x0a'+await _0x3c4b40[_0x534ee1(0xace)]()+'\x0a</'+_0x3c4b40[_0x534ee1(0x696)]+'>';else{if(!_0xd35ae8[_0x534ee1(0x832)][_0x534ee1(0xaf4)](_0x3c4b40))throw new Error('Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20'+_0x3c4b40[_0x534ee1(0x781)]+_0x534ee1(0x686)+_0x3c4b40[_0x534ee1(0x696)]);_0x4b434d+='\x0a<'+_0x3c4b40[_0x534ee1(0x696)]+'>\x0a'+await _0xd35ae8[_0x534ee1(0x832)][_0x534ee1(0x57d)](_0x3c4b40)+_0x534ee1(0x3c2)+_0x3c4b40[_0x534ee1(0x696)]+'>';}_0x4b434d+=_0x534ee1(0x2a0),_0x3edd04(_0x4b434d,_0x52ab10,_0x42201d,_0x534ee1(0x66a));}function _0x4af453(_0xefb639,_0x472442){const _0x5d61af=_0x5f24fc;_0x472442[_0x5d61af(0x285)]||(_0x472442[_0x5d61af(0x285)]={}),_0x472442[_0x5d61af(0x285)][_0x5d61af(0x9be)]=_0xefb639;}async function _0x4cbbf1(_0x3a568f,_0x3f78aa,_0x1a3562,_0x3c4d3b){const _0x372e75=_0x5f24fc;if(_0x3a568f[_0x372e75(0x9be)]&&_0x3f78aa['links']){const _0x39d9c3=[];for(const _0x508192 of _0x3a568f[_0x372e75(0x9be)])_0x39d9c3[_0x372e75(0x96d)](_0x54e814(_0x508192));for(const _0x1615c3 of _0x3f78aa[_0x372e75(0x9e9)])if(_0x372e75(0x604)===_0x1615c3[_0x372e75(0x781)]){const _0x1a4dd9=_0x1a3562[_0x372e75(0x260)](_0xe26734=>_0xe26734[_0x372e75(0x275)]===_0x1615c3[_0x372e75(0x275)]);if(!_0x1a4dd9)continue;_0x1a4dd9[_0x372e75(0x781)]===_0x593060[_0x372e75(0x427)]&&await _0x549d5f(_0x39d9c3,_0x1a4dd9,_0x1a3562,_0x3c4d3b),_0x1a4dd9[_0x372e75(0x781)]===_0x593060[_0x372e75(0xa3a)]&&_0x4af453(_0x39d9c3,_0x1a4dd9);}}}function _0x54e814(_0x40eca7){const _0x256948=_0x5f24fc,_0x5aa6f0=atob(_0x40eca7['content']),_0x23e592=_0x5aa6f0[_0x256948(0x9a6)],_0x244041=new ArrayBuffer(_0x23e592),_0x2b26de=new Uint8Array(_0x244041);for(let _0x527c66=0x0;_0x527c66<_0x23e592;_0x527c66++)_0x2b26de[_0x527c66]=_0x5aa6f0[_0x256948(0x4fe)](_0x527c66);return new File([_0x2b26de],_0x40eca7[_0x256948(0x696)],{'type':_0x40eca7['type']});}class _0x5d9a97 extends _0xdb09b2{['localNode'];[_0x5f24fc(0x240)];['contentMediator'];[_0x5f24fc(0x694)];[_0x5f24fc(0x832)];[_0x5f24fc(0x20b)];[_0x5f24fc(0xa4e)];[_0x5f24fc(0x9d1)];['searchConnector'];[_0x5f24fc(0x244)];[_0x5f24fc(0x2ab)];[_0x5f24fc(0x453)];['modelStore'];[_0x5f24fc(0x90f)]=new Map();[_0x5f24fc(0x314)]=new Map();[_0x5f24fc(0x85f)];['models']=new Map();[_0x5f24fc(0x8da)];[_0x5f24fc(0x48f)]=0x0;['tokens']=0x0;['isOpened']=!0x1;['contentQueue']=[];[_0x5f24fc(0x992)]=!0x1;constructor(_0x2655ec,_0x11489a,_0x405eee,_0x45671c,_0x44b120,_0x48f14b,_0xae434b,_0x283f01,_0x498826,_0xd11302,_0x30e3bc,_0x4b898c,_0x1f9feb){const _0x572196=_0x5f24fc;super(_0x2655ec,_0x11489a,_0x45671c),this[_0x572196(0x8ad)]=_0x2655ec,this[_0x572196(0x240)]=_0x405eee,this[_0x572196(0xaa0)]=_0x44b120,this['generativeAIWorkerConnectors']=_0x48f14b,this[_0x572196(0x832)]=_0xae434b,this[_0x572196(0x20b)]=_0x283f01,this[_0x572196(0xa4e)]=_0x498826,this[_0x572196(0x9d1)]=_0xd11302,this[_0x572196(0x563)]=_0x30e3bc,this[_0x572196(0x244)]=_0x4b898c,this['queryFileConnector']=_0x1f9feb;}async[_0x5f24fc(0x8fd)](){const _0x45b3ad=_0x5f24fc;for(const _0x32f37c of this[_0x45b3ad(0x694)])await _0x32f37c[_0x45b3ad(0x7ef)]();this[_0x45b3ad(0x2cf)]?.[_0x45b3ad(0xac2)](this[_0x45b3ad(0xa85)]),this[_0x45b3ad(0x90f)][_0x45b3ad(0xac8)](_0x557dea=>_0x557dea[_0x45b3ad(0xac2)](this[_0x45b3ad(0xa85)])),this['debounceStats']&&(clearTimeout(this[_0x45b3ad(0x8da)]),delete this['debounceStats']),super[_0x45b3ad(0x8fd)]();}async['open'](_0x562fb8=!0x1){const _0x48fec0=_0x5f24fc;if(this[_0x48fec0(0x7e7)])super[_0x48fec0(0x791)]();else{if(_0x40d481[_0x48fec0(0xa2f)](_0x48fec0(0x780),this[_0x48fec0(0xa85)]),this[_0x48fec0(0x453)]=await _0x5c9421[_0x48fec0(0x6e2)](this[_0x48fec0(0x240)],this['label']),this[_0x48fec0(0x2cf)]=this[_0x48fec0(0xaa0)][_0x48fec0(0x550)](this[_0x48fec0(0x453)]['modelsBucketId']),!this[_0x48fec0(0x2cf)])throw new Error(_0x48fec0(0x283));this[_0x48fec0(0x22a)](),_0x40d481[_0x48fec0(0xa2f)](_0x48fec0(0x4d7),this['workflow']['models']);for(const _0xfb8915 of this[_0x48fec0(0x453)]['models'])try{let _0xa8bd16;_0xfb8915[_0x48fec0(0x391)]===_0x20053a[_0x48fec0(0x6a2)][_0x48fec0(0x8fb)]&&(_0xa8bd16=await this['getModel']('/'+_0xfb8915['id']+_0x59a7d1)),this['models'][_0x48fec0(0x338)](_0xfb8915['id'],{'id':_0xfb8915['id'],'engineType':_0xfb8915[_0x48fec0(0x391)],'taskType':_0xfb8915[_0x48fec0(0x592)],'inputType':_0xfb8915[_0x48fec0(0x3d1)],'outputType':_0xfb8915[_0x48fec0(0x473)],'sourceUrl':_0xfb8915[_0x48fec0(0x68d)],'pathName':_0xa8bd16});}catch(_0x4b7121){await this['modelStore'][_0x48fec0(0x803)]({'action':_0x20053a[_0x48fec0(0xa0c)][_0x48fec0(0x308)],'file':new File([''],''+_0xfb8915['id']+_0x59a7d1),'path':'/','options':{'skipEncryption':!0x0,'fetchUrl':_0xfb8915[_0x48fec0(0x68d)]}}),this['models'][_0x48fec0(0x338)](_0xfb8915['id'],{'id':_0xfb8915['id'],'engineType':_0xfb8915['engineType'],'taskType':_0xfb8915['taskType'],'inputType':_0xfb8915[_0x48fec0(0x3d1)],'outputType':_0xfb8915[_0x48fec0(0x473)],'sourceUrl':_0xfb8915[_0x48fec0(0x68d)],'pathName':await this[_0x48fec0(0x551)]('/'+_0xfb8915['id']+_0x59a7d1)});}try{for(const _0x3acc4e of this[_0x48fec0(0x694)])await _0x3acc4e['initialize'](this[_0x48fec0(0xa85)],this[_0x48fec0(0x625)]);}catch(_0x406c31){return this['open'](_0x562fb8);}for(const _0x26e48f of this[_0x48fec0(0x453)]['dataBucketIds'])this[_0x48fec0(0x90f)][_0x48fec0(0x338)](_0x26e48f,this[_0x48fec0(0xaa0)][_0x48fec0(0x550)](_0x26e48f));await this[_0x48fec0(0xa91)](),this[_0x48fec0(0xa1d)]();for(const _0x3a7fce of this[_0x48fec0(0x453)][_0x48fec0(0x8a1)])this[_0x48fec0(0x314)]['set'](_0x3a7fce,this['contentMediator'][_0x48fec0(0x4fd)](_0x3a7fce));await this[_0x48fec0(0x793)](),this['subscribeToExternalContent'](),this[_0x48fec0(0x7e7)]=!0x0,this[_0x48fec0(0x53c)](),super[_0x48fec0(0x791)](),_0x40d481[_0x48fec0(0xa2f)](_0x48fec0(0x279),this['label']);}}[_0x5f24fc(0x6d5)](){const _0x28f645=_0x5f24fc;this[_0x28f645(0x48f)]=0x0,this['tokens']=0x0,this[_0x28f645(0x53c)](),super[_0x28f645(0x6d5)]();}[_0x5f24fc(0x2ac)](){const _0x4d8d4d=_0x5f24fc;return this[_0x4d8d4d(0x53c)](),this['getCoresFromCapacityReport']();}[_0x5f24fc(0x8a5)](_0x1b5d2d,_0x3609a5,_0x2a2ae0){const _0x583b46=_0x5f24fc,{outputTokens:_0x340965=0x0,output:_0x14f749=''}=_0x1b5d2d,_0x587ddb=_0x340965/((_0x2a2ae0-_0x3609a5)/0x3e8);this[_0x583b46(0x48f)]+=0x1,this[_0x583b46(0xa3f)]+=_0x340965,this['logServiceEvent'](_0x587ddb,_0x340965),this[_0x583b46(0x53c)]();}[_0x5f24fc(0x56f)](_0xa339f7,_0x1bea70){const _0x29f8b9=_0x5f24fc;return _0xa339f7[_0x29f8b9(0x51b)]=_0xa339f7[_0x29f8b9(0x51b)]??'',{'type':_0x29f8b9(0x45e),'output':_0x29f8b9(0x57a)==typeof _0xa339f7[_0x29f8b9(0x51b)]&&_0x29f8b9(0x57a)==typeof _0x1bea70['output']?_0xa339f7[_0x29f8b9(0x51b)]+_0x1bea70[_0x29f8b9(0x51b)]:_0x1bea70['output'],'outputTokens':_0x1bea70[_0x29f8b9(0xad8)]??_0xa339f7[_0x29f8b9(0xad8)],'inputTokens':_0x1bea70[_0x29f8b9(0x907)]??_0xa339f7[_0x29f8b9(0x907)]};}async[_0x5f24fc(0xaad)](_0x3a7ed,_0x3ee277){const _0x1a494e=_0x5f24fc;if(this[_0x1a494e(0x453)]=await _0x5c9421[_0x1a494e(0x6e2)](this[_0x1a494e(0x240)],this[_0x1a494e(0xa85)]),_0x1a494e(0x45e)===_0x3ee277['type']){const _0x2868f6=this['workflow']['blocks'][_0x1a494e(0x260)](_0x34b8fd=>_0x34b8fd['type']===_0x593060[_0x1a494e(0x90c)]),_0x3d0862=await async function(_0x571df0,_0x4b9e9f,_0xad10a8,_0x22bd43,_0x114ec2){const _0x26fefe=_0x1a494e,_0x4b0136=(0x0,_0x58fdf1['v4'])(),_0x5f140e=Date[_0x26fefe(0x2c1)]();if(_0x191a28[_0x26fefe(0x213)]({'jobType':_0x38cbc4[_0x26fefe(0x716)],'type':_0x2d0620[_0x26fefe(0x7c1)],'jobId':_0x571df0,'blockId':_0xad10a8['id'],'agentId':_0x4b0136,'threadId':_0x4b9e9f[_0x26fefe(0x81b)],'traceLevel':_0x3c99b3[_0x26fefe(0xa90)],'startTime':Date[_0x26fefe(0x2c1)](),'timestamp':Date[_0x26fefe(0x2c1)](),'status':'success','initialPrompt':_0x4b9e9f['prompt']}),await _0x4cbbf1(_0x4b9e9f,_0xad10a8,_0x22bd43,_0x114ec2),_0x4b9e9f[_0x26fefe(0x3ac)]){for(const _0x5e8b8c in _0x4b9e9f[_0x26fefe(0x3ac)])_0x3edd04(_0x4b9e9f[_0x26fefe(0x3ac)][_0x5e8b8c],_0xad10a8,_0x22bd43,_0x5e8b8c);}const _0x459be0={'type':_0x4b9e9f[_0x26fefe(0x781)],'context':[],'inputTokens':0x0,'outputTokens':0x0};await _0x5455fd(_0x571df0,''+_0x4b9e9f['prompt'],_0x4b9e9f,_0x459be0,_0xad10a8,_0x22bd43,_0x114ec2);const {inputTokens:_0x5b3f6b=0x0,outputTokens:_0xb15230=0x0,context:_0xe6f6c8=[]}=_0x459be0;_0x191a28[_0x26fefe(0x213)]({'jobType':_0x38cbc4['Workflow'],'type':_0x2d0620[_0x26fefe(0x753)],'jobId':_0x571df0,'agentId':_0x4b0136,'threadId':_0x4b9e9f['threadId'],'traceLevel':_0x3c99b3[_0x26fefe(0xa90)],'startTime':_0x5f140e,'timestamp':Date[_0x26fefe(0x2c1)](),'blockId':_0xad10a8['id'],'status':_0x26fefe(0x819),'output':_0x459be0[_0x26fefe(0x51b)]?.[_0x26fefe(0xa03)]()??'','prompt':_0x4b9e9f['prompt'],'agentName':'','history':_0x4b9e9f['history']??[],'instructions':''+(_0x4b9e9f['instructions']??''),'ragContext':_0xe6f6c8,'inputTokens':_0x5b3f6b,'outputTokens':_0xb15230});const _0xc178c4=_0x22bd43[_0x26fefe(0x260)](_0x59a68e=>_0x59a68e[_0x26fefe(0x781)]===_0x593060[_0x26fefe(0x4bd)]);return{'type':_0x4b9e9f[_0x26fefe(0x781)],'output':_0x459be0['output'],'context':_0x459be0[_0x26fefe(0x843)],'internalContext':_0xc178c4?.[_0x26fefe(0x285)]?.[_0x26fefe(0x843)]??{},'resultFile':await _0xc178c4?.[_0x26fefe(0x285)]?.[_0x26fefe(0x604)]?.[_0x26fefe(0xace)]()??void 0x0,'inputTokens':_0x459be0[_0x26fefe(0x907)]??0x0,'outputTokens':_0x459be0[_0x26fefe(0xad8)]??0x0};}(_0x3a7ed,_0x3ee277,_0x2868f6,this[_0x1a494e(0x453)][_0x1a494e(0x246)],{'documentParserConnector':this['documentParserConnector'],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':this[_0x1a494e(0x453)][_0x1a494e(0x625)],'contentMediator':this['contentMediator'],'searchApiKey':this[_0x1a494e(0xa4e)],'aiSearchApiKey':this['aiSearchApiKey'],'searchConnector':this[_0x1a494e(0x563)],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this['queryFileConnector']});return _0x3d0862;}if(_0x1a494e(0x2c4)===_0x3ee277[_0x1a494e(0x781)])return _0x191a28[_0x1a494e(0x213)]({'jobType':_0x38cbc4[_0x1a494e(0x2ec)],'type':_0x39e801[_0x1a494e(0x2b2)],'jobId':_0x3ee277[_0x1a494e(0xa23)],'threadId':_0x3ee277[_0x1a494e(0x81b)],'traceLevel':_0x3c99b3[_0x1a494e(0xa90)],'startTime':Date['now'](),'timestamp':Date[_0x1a494e(0x2c1)](),'status':_0x1a494e(0x819),'rating':_0x3ee277[_0x1a494e(0x4f5)],'feedback':_0x3ee277[_0x1a494e(0x452)]}),{'type':_0x1a494e(0x2c4),'status':_0x20053a[_0x1a494e(0x479)][_0x1a494e(0x4db)]};if(_0x1a494e(0x414)===_0x3ee277[_0x1a494e(0x781)]){let _0x43ae14;const _0x3262ea=this[_0x1a494e(0x90f)]['keys']();for(;!_0x43ae14;){const _0x241fb7=_0x3262ea[_0x1a494e(0xb16)]()[_0x1a494e(0x810)];if(!_0x241fb7)throw new Error(_0x1a494e(0xa99));_0x43ae14=this[_0x1a494e(0x90f)][_0x1a494e(0xb07)](_0x241fb7);try{const _0xdb84b5=await _0x43ae14[_0x1a494e(0xb07)](_0x3ee277[_0x1a494e(0x2d4)]);return{'type':_0x1a494e(0x414),'fileName':_0xdb84b5['name'],'mimeType':_0xdb84b5[_0x1a494e(0x781)],'document':await _0xdb84b5[_0x1a494e(0xad0)]()};}catch(_0x46535a){continue;}}throw new Error(_0x1a494e(0xa99));}if('search'===_0x3ee277[_0x1a494e(0x781)]){const {query:_0x1f4e4a,collectionId:_0x429200}=_0x3ee277,_0x1b62fa=this[_0x1a494e(0x453)][_0x1a494e(0x246)][_0x1a494e(0x260)](_0x44f31c=>(_0x44f31c[_0x1a494e(0x781)]===_0x593060['DataCollection']||_0x593060[_0x1a494e(0x3a7)])&&_0x44f31c['id']===_0x429200);if(!_0x1b62fa)throw new Error('Data\x20collection\x20not\x20found');const _0xd544e2=_0x1b62fa[_0x1a494e(0x692)]?.[_0x1a494e(0x260)](_0x5d95ef=>_0x5d95ef[_0x1a494e(0x781)]===_0x3c2286[_0x1a494e(0x90c)]);if(!_0xd544e2)throw new Error(_0x1a494e(0x4bf));return await _0x203cd4(_0x3a7ed,'',_0x1f4e4a,_0xd544e2,_0x1b62fa[_0x1a494e(0x692)],{'documentParserConnector':this[_0x1a494e(0x832)],'nlpLibraryConnector':this[_0x1a494e(0x20b)],'generativeAIWorkerConnectors':this[_0x1a494e(0x694)],'models':this[_0x1a494e(0x453)]['models'],'contentMediator':this[_0x1a494e(0xaa0)],'searchApiKey':this[_0x1a494e(0xa4e)],'aiSearchApiKey':this[_0x1a494e(0x9d1)],'searchConnector':this[_0x1a494e(0x563)],'aiSearchConnector':this[_0x1a494e(0x244)],'queryFileConnector':this['queryFileConnector']});}throw new Error('Unsupported\x20job\x20type');}async*[_0x5f24fc(0x3dd)](_0x5d339a,_0x429f06){const _0x913e55=_0x5f24fc;this[_0x913e55(0x453)]=await _0x5c9421[_0x913e55(0x6e2)](this[_0x913e55(0x240)],this['label']);const _0xb55873=this[_0x913e55(0x453)]['blocks'][_0x913e55(0x260)](_0x5a22a5=>_0x5a22a5[_0x913e55(0x781)]===_0x593060[_0x913e55(0x90c)]);for await(const _0x5939fc of async function*(_0x44f4ec,_0x468af3,_0x2c7697,_0x1cbfae,_0x1e496a){const _0x55f5e1=_0x913e55,_0x1533e8=(0x0,_0x58fdf1['v4'])(),_0x5770e3=Date['now']();if(_0x191a28['trace']({'jobType':_0x38cbc4[_0x55f5e1(0x716)],'type':_0x2d0620[_0x55f5e1(0x7c1)],'jobId':_0x44f4ec,'agentId':_0x1533e8,'threadId':_0x468af3['threadId'],'traceLevel':_0x3c99b3[_0x55f5e1(0xa90)],'startTime':Date[_0x55f5e1(0x2c1)](),'timestamp':Date[_0x55f5e1(0x2c1)](),'blockId':_0x2c7697['id'],'status':'success','initialPrompt':_0x468af3['prompt']}),await _0x4cbbf1(_0x468af3,_0x2c7697,_0x1cbfae,_0x1e496a),_0x468af3['internalContext']){for(const _0x561576 in _0x468af3['internalContext'])_0x3edd04(_0x468af3[_0x55f5e1(0x3ac)][_0x561576],_0x2c7697,_0x1cbfae,_0x561576);}const _0x103d73={'type':_0x468af3['type'],'context':[],'inputTokens':0x0,'outputTokens':0x0},_0x3d821e=new _0x55f831();_0x5455fd(_0x44f4ec,''+_0x468af3[_0x55f5e1(0x45e)],_0x468af3,_0x103d73,_0x2c7697,_0x1cbfae,_0x1e496a,_0x3d821e);let _0x1fd8f8='',_0x36786b={'type':_0x468af3[_0x55f5e1(0x781)]};for(;;){const _0x427784=await _0x3d821e['once']();if(!_0x427784)break;_0x1fd8f8+=_0x427784[_0x55f5e1(0x51b)],_0x36786b={'type':_0x468af3[_0x55f5e1(0x781)],'output':_0x427784[_0x55f5e1(0x51b)],'context':_0x103d73[_0x55f5e1(0x843)],'internalContext':{},'resultFile':void 0x0,'inputTokens':(_0x103d73['inputTokens']??0x0)+(_0x427784[_0x55f5e1(0x907)]??0x0),'outputTokens':(_0x103d73[_0x55f5e1(0xad8)]??0x0)+(_0x427784[_0x55f5e1(0xad8)]??0x0)},yield _0x36786b;}const _0xb4d4af=_0x1cbfae[_0x55f5e1(0x260)](_0x108ae0=>_0x108ae0['type']===_0x593060[_0x55f5e1(0x4bd)]);yield{..._0x36786b,'output':'','internalContext':_0xb4d4af?.[_0x55f5e1(0x285)]?.[_0x55f5e1(0x843)]??{},'resultFile':await _0xb4d4af?.[_0x55f5e1(0x285)]?.[_0x55f5e1(0x604)]?.[_0x55f5e1(0xace)]()??void 0x0};const {inputTokens:_0x59634c=0x0,outputTokens:_0x1ae9b5=0x0,context:_0x278ad8=[]}=_0x36786b;_0x191a28[_0x55f5e1(0x213)]({'jobType':_0x38cbc4['Workflow'],'type':_0x2d0620[_0x55f5e1(0x753)],'jobId':_0x44f4ec,'agentId':_0x1533e8,'threadId':_0x468af3[_0x55f5e1(0x81b)],'traceLevel':_0x3c99b3[_0x55f5e1(0xa90)],'startTime':_0x5770e3,'timestamp':Date[_0x55f5e1(0x2c1)](),'blockId':_0x2c7697['id'],'status':_0x55f5e1(0x819),'output':_0x1fd8f8,'prompt':_0x468af3['prompt'],'agentName':'','history':_0x468af3[_0x55f5e1(0x9b5)]??[],'instructions':''+(_0x468af3['instructions']??''),'ragContext':_0x278ad8,'inputTokens':_0x59634c,'outputTokens':_0x1ae9b5});}(_0x5d339a,_0x429f06,_0xb55873,this['workflow'][_0x913e55(0x246)],{'documentParserConnector':this[_0x913e55(0x832)],'nlpLibraryConnector':this[_0x913e55(0x20b)],'generativeAIWorkerConnectors':this[_0x913e55(0x694)],'models':this[_0x913e55(0x453)][_0x913e55(0x625)],'contentMediator':this[_0x913e55(0xaa0)],'searchApiKey':this[_0x913e55(0xa4e)],'aiSearchApiKey':this[_0x913e55(0x9d1)],'searchConnector':this[_0x913e55(0x563)],'aiSearchConnector':this[_0x913e55(0x244)],'queryFileConnector':this['queryFileConnector']}))yield _0x5939fc;}[_0x5f24fc(0x35a)](_0x55d9ca,_0x448b35){const _0x275f8d=_0x5f24fc;if(_0x275f8d(0x2c4)===_0x448b35[_0x275f8d(0x781)])return _0x55d9ca=_0x448b35[_0x275f8d(0xa23)],void this['openTrace'](_0x55d9ca);this[_0x275f8d(0x86e)](_0x55d9ca),_0x191a28['trace']({'jobType':_0x38cbc4[_0x275f8d(0x3ba)],'type':_0x117bf2['Queued'],'traceLevel':_0x3c99b3[_0x275f8d(0xa90)],'jobId':_0x55d9ca,'threadId':_0x448b35[_0x275f8d(0x81b)],'startTime':Date['now'](),'timestamp':Date[_0x275f8d(0x2c1)](),'status':_0x275f8d(0x819)});}[_0x5f24fc(0x5a2)](_0x44334a,_0x22c436){const _0xa576fe=_0x5f24fc;if(_0xa576fe(0x2c4)===_0x22c436['type'])return _0x44334a=_0x22c436[_0xa576fe(0xa23)],void this[_0xa576fe(0x23a)](_0x44334a);_0x191a28['trace']({'jobType':_0x38cbc4[_0xa576fe(0x3ba)],'type':_0x117bf2[_0xa576fe(0x21b)],'traceLevel':_0x3c99b3['Info'],'jobId':_0x44334a,'threadId':_0x22c436[_0xa576fe(0x81b)],'startTime':Date['now'](),'timestamp':Date[_0xa576fe(0x2c1)](),'status':'success'}),this[_0xa576fe(0x23a)](_0x44334a);}async['getModel'](_0x277236){const _0x4b5b08=_0x5f24fc;if(!this[_0x4b5b08(0x2cf)])throw new Error(_0x4b5b08(0x283));const _0x103994=await this['modelStore'][_0x4b5b08(0x46f)]('/',{'recursive':!0x1,'includeSyncingFiles':!0x1});for(const _0x1179a4 of _0x103994)if(_0x1179a4[_0x4b5b08(0x59d)]===_0x20053a[_0x4b5b08(0x9b2)][_0x4b5b08(0x308)]&&_0x1179a4[_0x4b5b08(0x54c)]===_0x277236)return _0x1179a4['absolutePathName']??_0x1179a4[_0x4b5b08(0x54c)];throw new Error(_0x4b5b08(0x26f)+_0x277236);}async[_0x5f24fc(0xa91)](){const _0x2330d7=_0x5f24fc;if(!this['workflow'])throw new Error(_0x2330d7(0x2d5));for(const _0x369e6c of this[_0x2330d7(0x90f)][_0x2330d7(0x9af)]())try{const _0x3a72b1=this[_0x2330d7(0x453)][_0x2330d7(0x246)][_0x2330d7(0x776)](_0x1a4070=>(_0x1a4070['type']===_0x593060[_0x2330d7(0x935)]||_0x1a4070[_0x2330d7(0x781)]===_0x593060[_0x2330d7(0x3a7)])&&_0x1a4070[_0x2330d7(0x514)]?.['some'](_0x5e0dca=>_0x5e0dca['id']===_0x369e6c[_0x2330d7(0x9b0)]()));for(let _0x1629d3=_0x3a72b1['length']-0x1;_0x1629d3>=0x0;_0x1629d3--)for(const _0x4ec823 of _0x3a72b1[_0x1629d3][_0x2330d7(0x514)]??[])_0x4ec823[_0x2330d7(0x781)]===_0x3c2286[_0x2330d7(0x89f)]&&this[_0x2330d7(0xaa0)][_0x2330d7(0x58a)](_0x4ec823['id'])[_0x2330d7(0x4ea)]()&&_0x3a72b1[_0x2330d7(0x658)](_0x1629d3,0x1),_0x4ec823['type']===_0x3c2286[_0x2330d7(0x5ce)]&&this[_0x2330d7(0xaa0)][_0x2330d7(0x786)](_0x4ec823['id'])['getIsLoaded']()&&_0x3a72b1['splice'](_0x1629d3,0x1);const _0x1127fb=new Map();let _0xed9c1f=!0x1;for(const _0x5529b1 of _0x3a72b1){let _0x572b64=''+(_0x5529b1[_0x2330d7(0x952)]??0x1);for(const _0x174985 of _0x5529b1['ingestBlocks']??[])_0x174985['type']===_0x3c2286[_0x2330d7(0x723)]&&(_0x572b64=_0x572b64+'-'+(_0x174985[_0x2330d7(0x952)]??0x1));for(const _0x346fa4 of _0x5529b1[_0x2330d7(0x514)]??[])_0x346fa4[_0x2330d7(0x781)]===_0x3c2286[_0x2330d7(0x89f)]&&_0x1127fb[_0x2330d7(0x338)](_0x346fa4['id'],{'version':_0x572b64,'getDatabase':this[_0x2330d7(0xaa0)][_0x2330d7(0x58a)][_0x2330d7(0x1ff)](this[_0x2330d7(0xaa0)]),'block':_0x346fa4}),_0x346fa4['type']===_0x3c2286[_0x2330d7(0x5ce)]&&_0x1127fb[_0x2330d7(0x338)](_0x346fa4['id'],{'version':_0x572b64,'getDatabase':this[_0x2330d7(0xaa0)][_0x2330d7(0x786)][_0x2330d7(0x1ff)](this['contentMediator']),'block':_0x346fa4});}for(const {getDatabase:_0x4bcbdb,block:_0x521059,version:_0x27945b}of _0x1127fb[_0x2330d7(0x9af)]())try{const _0x42e227=_0x4bcbdb(_0x521059['id']);if(_0x42e227[_0x2330d7(0x4ea)]())continue;_0x42e227['loadFromDisk'](_0x27945b),_0x42e227[_0x2330d7(0x6b9)](!0x0),_0xed9c1f=!0x0;}catch(_0x7d53a6){console['error'](_0x7d53a6),_0xed9c1f=!0x1;break;}if(_0x40d481['forceLog'](_0x2330d7(0x9a1)),_0xed9c1f)continue;_0x40d481[_0x2330d7(0xa2f)](_0x2330d7(0x671));const _0x31f542=await _0x369e6c[_0x2330d7(0x46f)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x1});await this[_0x2330d7(0x5a8)](_0x5b2edf['ObjectStorage'],_0x369e6c['getName'](),_0x31f542);for(const {getDatabase:_0x38391a,block:_0x3afb40,version:_0x83839b}of _0x1127fb[_0x2330d7(0x9af)]()){const _0x13123e=_0x38391a(_0x3afb40['id']);_0x13123e['getIsLoaded']()||(_0x13123e['saveToDisk'](_0x83839b),_0x13123e['setIsLoaded'](!0x0));}}catch(_0x4ef7f8){_0x40d481[_0x2330d7(0x4d2)](_0x2330d7(0xa60),{'nodeId':this[_0x2330d7(0x8ad)]['getId'](),'nodeType':this[_0x2330d7(0x8ad)]['type']});}}async[_0x5f24fc(0x793)](){const _0x9cd44f=_0x5f24fc;for(const _0x4ce799 of this['externalStores']['values']())try{const _0x283c75=await _0x4ce799[_0x9cd44f(0x46f)]('/',{'recursive':!0x0});await this[_0x9cd44f(0x5a8)](_0x5b2edf['ExternalStorage'],_0x4ce799[_0x9cd44f(0x520)](),_0x283c75);}catch(_0x50e535){_0x40d481['error'](_0x9cd44f(0x439),{'nodeId':this['localNode'][_0x9cd44f(0x6e8)](),'nodeType':this[_0x9cd44f(0x8ad)][_0x9cd44f(0x781)]});}}async['syncFolder'](_0x2accd0,_0x175fdd,_0x568250){const _0x10be88=_0x5f24fc;for(const _0x4f05e7 of _0x568250){if(_0x4f05e7['kind']===_0x20053a['ObjectKind'][_0x10be88(0x7fc)]){if(!_0x4f05e7[_0x10be88(0x8f3)]||0x0===_0x4f05e7['entries']['length'])continue;await this[_0x10be88(0x5a8)](_0x2accd0,_0x175fdd,_0x4f05e7[_0x10be88(0x8f3)]);}_0x4f05e7[_0x10be88(0x59d)]===_0x20053a[_0x10be88(0x9b2)]['File']&&this[_0x10be88(0x59c)](_0x2accd0,_0x175fdd,_0x4f05e7['pathName']);}return new Promise(_0x457630=>{const _0x5779a9=_0x10be88,_0x2afb94=_0x4ecfc3[_0x5779a9(0x668)](()=>{const _0x5301c7=_0x5779a9;0x0!==this['contentQueue'][_0x5301c7(0x9a6)]||this[_0x5301c7(0x992)]||(_0x2afb94(),_0x457630());},0x1388);});}[_0x5f24fc(0xa1d)](){const _0x10ea9c=_0x5f24fc;for(const _0x376178 of this[_0x10ea9c(0x90f)][_0x10ea9c(0x9af)]())_0x376178[_0x10ea9c(0x6f8)](this[_0x10ea9c(0xa85)],async _0x13056e=>{const _0x45797c=_0x10ea9c;switch(_0x13056e[_0x45797c(0x2b1)]){case _0x20053a['StorageEventType']['FileWrite']:this['removeContent'](_0x5b2edf['ObjectStorage'],_0x376178[_0x45797c(0x520)](),_0x13056e['payload'][_0x45797c(0x604)]['pathName']),this['addContent'](_0x5b2edf[_0x45797c(0x7bf)],_0x376178[_0x45797c(0x520)](),_0x13056e[_0x45797c(0xaea)]['file'][_0x45797c(0x54c)]);break;case _0x20053a[_0x45797c(0x5f2)][_0x45797c(0x734)]:this['removeContent'](_0x5b2edf['ObjectStorage'],_0x376178[_0x45797c(0x520)](),_0x13056e[_0x45797c(0xaea)]['pathName']);}});}[_0x5f24fc(0x2f2)](){const _0x368805=_0x5f24fc;for(const _0x2c2db3 of this[_0x368805(0x314)][_0x368805(0x9af)]())_0x2c2db3[_0x368805(0x6f8)](this[_0x368805(0xa85)],async _0x4add52=>{const _0x5922b8=_0x368805;switch(_0x4add52[_0x5922b8(0x2b1)]){case _0x20053a['StorageEventType']['FileWrite']:this[_0x5922b8(0x763)](_0x5b2edf[_0x5922b8(0xab6)],_0x2c2db3[_0x5922b8(0x520)](),_0x4add52[_0x5922b8(0xaea)]['file'][_0x5922b8(0x54c)]),this[_0x5922b8(0x59c)](_0x5b2edf[_0x5922b8(0xab6)],_0x2c2db3[_0x5922b8(0x520)](),_0x4add52[_0x5922b8(0xaea)][_0x5922b8(0x604)]['pathName']);break;case _0x20053a['StorageEventType'][_0x5922b8(0x734)]:this[_0x5922b8(0x763)](_0x5b2edf['ExternalStorage'],_0x2c2db3[_0x5922b8(0x520)](),_0x4add52[_0x5922b8(0xaea)][_0x5922b8(0x54c)]);}});}[_0x5f24fc(0x59c)](_0x294d49,_0x23bd77,_0x5c65cb){const _0x13b555=_0x5f24fc;this[_0x13b555(0x6cd)][_0x13b555(0x96d)]({'type':_0x13b555(0x859),'storageType':_0x294d49,'storeId':_0x23bd77,'pathName':_0x5c65cb}),this[_0x13b555(0x45d)]();}[_0x5f24fc(0x763)](_0x48cd33,_0x19bdf9,_0xb22734){const _0x16d591=_0x5f24fc;this[_0x16d591(0x6cd)]['push']({'type':_0x16d591(0x20d),'storageType':_0x48cd33,'storeId':_0x19bdf9,'pathName':_0xb22734}),this[_0x16d591(0x45d)]();}async[_0x5f24fc(0x45d)](){const _0x18b319=_0x5f24fc;if(!this[_0x18b319(0x992)]){try{this[_0x18b319(0x992)]=!0x0;const _0x4e306a=this[_0x18b319(0x6cd)]['shift']();if(!_0x4e306a)return;'add'===_0x4e306a[_0x18b319(0x781)]?await this[_0x18b319(0xa45)](_0x4e306a['storageType'],_0x4e306a['storeId'],_0x4e306a['pathName']):this[_0x18b319(0xb1d)](_0x4e306a['storageType'],_0x4e306a[_0x18b319(0x206)],_0x4e306a[_0x18b319(0x54c)]);}catch(_0x12d425){_0x40d481[_0x18b319(0x4d2)]('Error\x20processing\x20content\x20queue',{'nodeId':this[_0x18b319(0x8ad)]['getId'](),'nodeType':this[_0x18b319(0x8ad)][_0x18b319(0x781)]});}this[_0x18b319(0x992)]=!0x1,this[_0x18b319(0x6cd)][_0x18b319(0x9a6)]>0x0&&this[_0x18b319(0x45d)]();}}async[_0x5f24fc(0xa45)](_0x158959,_0x18cde9,_0x21d32c){const _0x51252b=_0x5f24fc;if(_0x40d481[_0x51252b(0xa2f)](_0x51252b(0x59c),_0x158959,_0x18cde9,_0x21d32c),!this[_0x51252b(0x453)])throw new Error(_0x51252b(0x2d5));let _0x534eab;switch(_0x158959){case _0x5b2edf[_0x51252b(0x7bf)]:_0x534eab=_0x3c2286[_0x51252b(0x410)];break;case _0x5b2edf[_0x51252b(0xab6)]:_0x534eab=_0x3c2286[_0x51252b(0x441)];}if(!_0x534eab)return;const _0x3f133=this[_0x51252b(0x453)]['blocks'][_0x51252b(0x776)](_0x1da246=>_0x1da246[_0x51252b(0x781)]===_0x593060['Knowledge']||_0x1da246[_0x51252b(0x781)]===_0x593060[_0x51252b(0x935)]),_0xa66659=new Set(_0x3f133[_0x51252b(0xa4a)](_0x19c941=>_0x19c941['id'])),_0x32d312=_0x3f133['filter'](_0x2d6a4b=>_0x2d6a4b[_0x51252b(0x514)]?.['some'](_0x2f5404=>_0x2f5404[_0x51252b(0x781)]===_0x534eab&&_0x2f5404['id']===_0x18cde9)),_0x3de82d=[];for(const _0x168470 of _0x32d312){if(!_0xa66659[_0x51252b(0x4cb)](_0x168470['id']))continue;_0xa66659[_0x51252b(0x43a)](_0x168470['id']);const _0x306d0c=_0x168470[_0x51252b(0x514)]?.['find'](_0x163c97=>_0x163c97[_0x51252b(0x781)]===_0x534eab&&_0x163c97['id']===_0x18cde9);_0x306d0c&&_0x4869a9[_0x51252b(0x859)](this[_0x51252b(0xa85)],async()=>{const _0x599e5f=_0x51252b,_0x47940e=new Promise(async _0x17a90b=>{const _0x2758b2=a0_0x214c,_0xa6453d=(0x0,_0x58fdf1['v4'])();_0x191a28['openTrace'](null,_0xa6453d),await _0x4aae7c(_0xa6453d,_0x21d32c,_0x306d0c,_0x168470[_0x2758b2(0x514)],{'documentParserConnector':this[_0x2758b2(0x832)],'nlpLibraryConnector':this[_0x2758b2(0x20b)],'generativeAIWorkerConnectors':this[_0x2758b2(0x694)],'models':this['workflow'][_0x2758b2(0x625)],'contentMediator':this['contentMediator'],'searchApiKey':this['searchApiKey'],'aiSearchApiKey':this[_0x2758b2(0x9d1)],'version':_0x168470['version']??0x1}),_0x191a28[_0x2758b2(0x23a)](_0xa6453d),_0x17a90b();});_0x3de82d[_0x599e5f(0x96d)](_0x47940e);});}await Promise[_0x51252b(0x366)](_0x3de82d),this[_0x51252b(0x53c)]();}[_0x5f24fc(0xb1d)](_0x1c3ae3,_0x1632a8,_0x407e7){const _0x4d6ba8=_0x5f24fc;if(_0x40d481['forceLog'](_0x4d6ba8(0x763),_0x1c3ae3,_0x1632a8,_0x407e7),!this[_0x4d6ba8(0x453)])throw new Error(_0x4d6ba8(0x2d5));let _0x2ffb22;switch(_0x1c3ae3){case _0x5b2edf[_0x4d6ba8(0x7bf)]:_0x2ffb22=_0x3c2286['ObjectStorageUpload'];break;case _0x5b2edf[_0x4d6ba8(0xab6)]:_0x2ffb22=_0x3c2286[_0x4d6ba8(0x441)];}if(!_0x2ffb22)return;const _0x1e9703=this[_0x4d6ba8(0x453)][_0x4d6ba8(0x246)][_0x4d6ba8(0x776)](_0x57f302=>_0x57f302[_0x4d6ba8(0x781)]===_0x593060[_0x4d6ba8(0x3a7)]||_0x57f302[_0x4d6ba8(0x781)]===_0x593060[_0x4d6ba8(0x935)]),_0x5c5ea0=new Set(_0x1e9703[_0x4d6ba8(0xa4a)](_0x4a69d4=>_0x4a69d4['id'])),_0x424431=_0x1e9703[_0x4d6ba8(0x776)](_0x565cc0=>_0x565cc0[_0x4d6ba8(0x514)]?.[_0x4d6ba8(0x9fb)](_0x2ba0c4=>_0x2ba0c4['type']===_0x2ffb22&&_0x2ba0c4['id']===_0x1632a8));for(const _0x3fb45b of _0x424431){if(!_0x5c5ea0[_0x4d6ba8(0x4cb)](_0x3fb45b['id']))continue;_0x5c5ea0[_0x4d6ba8(0x43a)](_0x3fb45b['id']);let _0x24a689=''+(_0x3fb45b[_0x4d6ba8(0x952)]??0x1);for(const _0x163ea2 of _0x3fb45b[_0x4d6ba8(0x514)]??[])_0x163ea2[_0x4d6ba8(0x781)]===_0x3c2286[_0x4d6ba8(0x723)]&&(_0x24a689=_0x24a689+'-'+(_0x163ea2[_0x4d6ba8(0x952)]??0x1));for(const _0x56a57f of _0x3fb45b[_0x4d6ba8(0x514)]??[]){if(_0x56a57f[_0x4d6ba8(0x781)]===_0x3c2286[_0x4d6ba8(0x89f)]){const _0xad74d5=this[_0x4d6ba8(0xaa0)][_0x4d6ba8(0x58a)](_0x56a57f['id']);_0xad74d5['remove'](_0x407e7),_0xad74d5[_0x4d6ba8(0x4ea)]()&&_0xad74d5[_0x4d6ba8(0x899)](_0x24a689);}if(_0x56a57f[_0x4d6ba8(0x781)]===_0x3c2286['GraphDatabase']){const _0x330ce7=this['contentMediator']['getGraphDatabase'](_0x56a57f['id']);_0x330ce7[_0x4d6ba8(0x20d)](_0x407e7),_0x330ce7[_0x4d6ba8(0x4ea)]()&&_0x330ce7[_0x4d6ba8(0x899)](_0x24a689);}}}this[_0x4d6ba8(0x53c)]();}['getCoresFromCapacityReport'](){const _0x297827=_0x5f24fc;try{return this[_0x297827(0x238)]['getCapacityReport']()[_0x297827(0x4f9)]['cores']*(0x1-this['capacityReporter'][_0x297827(0x3e4)]()[_0x297827(0x4f9)]['load']);}catch(_0x41c706){return _0x40d481['log'](_0xb10df[_0x297827(0x341)],_0x297827(0x9ed),_0x41c706),0x0;}}['sendStats'](){const _0xead929=_0x5f24fc;this['isOpened']&&(this[_0xead929(0x8da)]&&clearTimeout(this[_0xead929(0x8da)]),this[_0xead929(0x8da)]=setTimeout(async()=>{const _0x1bffc2=_0xead929;if(delete this['debounceStats'],!this[_0x1bffc2(0x2cf)])return;let _0x16c3aa=await this[_0x1bffc2(0x2cf)]['getSize']();for(const _0xc39925 of this[_0x1bffc2(0x90f)][_0x1bffc2(0x9af)]())_0x16c3aa+=await _0xc39925[_0x1bffc2(0x41f)]();this[_0x1bffc2(0x541)][_0x1bffc2(0x803)]({'sourceId':_0x7cf9e6,'messageType':_0x31112d[_0x1bffc2(0x209)],'content':{'type':_0x21c730[_0x1bffc2(0x8b3)],'label':this[_0x1bffc2(0xa85)],'stats':{'timestamp':Date[_0x1bffc2(0x2c1)](),'storage':_0x16c3aa,'messagesSent':this[_0x1bffc2(0x365)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x1bffc2(0x688)],'bytesReceived':this[_0x1bffc2(0x940)],'writes':0x0,'reads':0x0,'prompts':this[_0x1bffc2(0x48f)],'tokens':this['tokens']}}});},_0x4a5b22));}[_0x5f24fc(0xade)](_0x19b5e5,_0x48cebd){const _0x3eea89=_0x5f24fc,_0x868662=this[_0x3eea89(0xa85)],_0x1a8712=this[_0x3eea89(0x92a)]();_0x40d481['logServiceEvent'](_0x267c89[_0x3eea89(0x5f7)],{'topic':_0x868662,'type':'answer','nodeId':_0x1a8712,'tokenCount':_0x48cebd,'tokensPerSecond':_0x19b5e5});}[_0x5f24fc(0x86e)](_0x300d78){const _0x34bfdc=_0x5f24fc;try{if(!this['workflow'])throw new Error(_0x34bfdc(0x2d5));if(!this[_0x34bfdc(0x85f)])throw new Error(_0x34bfdc(0xb26));if(!_0x191a28[_0x34bfdc(0x86e)](this[_0x34bfdc(0x85f)],_0x300d78))throw new Error(_0x34bfdc(0x32d));return _0x300d78;}catch(_0x182b00){return console['error'](_0x34bfdc(0x32d),_0x182b00),_0x34bfdc(0x818);}}[_0x5f24fc(0x23a)](_0x39d47a){const _0x5d074a=_0x5f24fc;try{_0x191a28[_0x5d074a(0x23a)](_0x39d47a);}catch(_0x1a9919){console[_0x5d074a(0x4d2)](_0x5d074a(0x919),{'jobId':_0x39d47a,'error':_0x1a9919});}}async[_0x5f24fc(0x22a)](){return new Promise(_0x1022d9=>{const _0x25aeba=a0_0x214c;try{const _0x5ae087=_0x561f17(this[_0x25aeba(0x240)],this['label']);this[_0x25aeba(0x85f)]=this[_0x25aeba(0xaa0)][_0x25aeba(0x61b)](_0x5ae087),this[_0x25aeba(0x85f)]['subscribe'](({event:_0x266fa7})=>{const _0xa1c54=_0x25aeba;_0x266fa7===_0x20053a[_0xa1c54(0x87e)]['SyncComplete']&&(this['loggingDb'][_0xa1c54(0xac2)](),_0x1022d9());});}catch(_0x3f4e55){console['error'](_0x25aeba(0x67d)+_0x561f17(this[_0x25aeba(0x240)],this[_0x25aeba(0xa85)])+'\x27\x20dabatase\x20id.',_0x3f4e55),_0x1022d9();}});}}class _0x59d522 extends _0x303f2a{['localNode'];[_0x5f24fc(0x412)];['vendorId'];['db'];[_0x5f24fc(0x8da)];['writes']=0x0;[_0x5f24fc(0x2e4)]=0x0;[_0x5f24fc(0x469)]=!0x1;constructor(_0x71b993,_0x3c31ed,_0x56ff73,_0x2661da,_0x481678){const _0x25aac1=_0x5f24fc;if(_0x25aac1(0x57a)!=typeof _0x3c31ed)throw new _0x55ecf3(_0x2efe49[_0x25aac1(0x95e)],_0x25aac1(0x69a));super(_0x71b993,_0x3c31ed),this[_0x25aac1(0x8ad)]=_0x71b993,this[_0x25aac1(0x412)]=_0x56ff73,this[_0x25aac1(0x240)]=_0x2661da;const _0x476dc9=_0x25aac1(0xa33)+this['vendorId']+'ccc'+this[_0x25aac1(0x412)]+_0x25aac1(0xa33)+this['label'];this['db']=new _0x481678(_0x476dc9),this[_0x25aac1(0x53c)]();}[_0x5f24fc(0x4ea)](){const _0x3b41ee=_0x5f24fc;return this[_0x3b41ee(0x469)];}[_0x5f24fc(0x6b9)](_0x411139){const _0x2da8ea=_0x5f24fc;this[_0x2da8ea(0x469)]=_0x411139;}['destroy'](){const _0x4ebfb8=_0x5f24fc;clearTimeout(this[_0x4ebfb8(0x8da)]),delete this[_0x4ebfb8(0x8da)],super[_0x4ebfb8(0x8fd)]();}[_0x5f24fc(0x7ef)](){const _0x4bcd57=_0x5f24fc;this['systemTopic'][_0x4bcd57(0x803)]({'sourceId':_0x7cf9e6,'messageType':_0x31112d['Content'],'content':{'type':_0x21c730[_0x4bcd57(0x5fd)],'label':this[_0x4bcd57(0xa85)]}});}['getContentType'](){const _0x13249e=_0x5f24fc;return _0x20053a[_0x13249e(0x552)]['GraphDatabase'];}[_0x5f24fc(0x6d5)](){const _0x3e712d=_0x5f24fc;this[_0x3e712d(0x53c)]();}[_0x5f24fc(0x255)](_0x2224f7,_0x48f451,_0x2ba5a4,_0x1393d5){const _0x32a056=_0x5f24fc;this['db']['addNode'](_0x2224f7,_0x48f451,_0x2ba5a4,_0x1393d5),this[_0x32a056(0x508)]+=0x1,this[_0x32a056(0x53c)]();}['addEdge'](_0x598471,_0x4dbc5c){const _0xd4c3b7=_0x5f24fc;this['db'][_0xd4c3b7(0x4e8)](_0x598471,_0x4dbc5c),this[_0xd4c3b7(0x508)]+=0x1,this[_0xd4c3b7(0x53c)]();}[_0x5f24fc(0x6d9)](_0x509798,_0x128ba6,_0x495f1c){const _0x3ef6ff=_0x5f24fc,_0x167b18=this['db'][_0x3ef6ff(0x6d9)](_0x509798,_0x128ba6,_0x495f1c);return this[_0x3ef6ff(0x2e4)]+=0x1,_0x40d481['logServiceEvent'](_0x267c89[_0x3ef6ff(0x5ce)],{'type':_0x3ef6ff(0x81d),'label':this[_0x3ef6ff(0xa85)],'nodeId':this['localNode'][_0x3ef6ff(0x6e8)](),'nodeType':this['localNode'][_0x3ef6ff(0x781)],'clusterId':this[_0x3ef6ff(0x412)],'size':0x0}),this[_0x3ef6ff(0x53c)](),_0x167b18;}[_0x5f24fc(0x20d)](_0x33eb01){const _0x3c2516=_0x5f24fc;this['db'][_0x3c2516(0x20d)](_0x33eb01),this[_0x3c2516(0x508)]+=0x1,this[_0x3c2516(0x53c)]();}[_0x5f24fc(0x899)](_0x34ce3c){const _0x253131=_0x5f24fc;this['db'][_0x253131(0x899)](_0x34ce3c);}[_0x5f24fc(0x380)](_0x50e1e9){const _0x2975f2=_0x5f24fc;this['db'][_0x2975f2(0x380)](_0x50e1e9);}[_0x5f24fc(0x53c)](){const _0x17a5f1=_0x5f24fc;this[_0x17a5f1(0x8da)]&&clearTimeout(this[_0x17a5f1(0x8da)]),this[_0x17a5f1(0x8da)]=setTimeout(async()=>{const _0x216ab1=_0x17a5f1;delete this[_0x216ab1(0x8da)];const _0x3894c2=this['db'][_0x216ab1(0x41f)]();this['systemTopic'][_0x216ab1(0x803)]({'sourceId':_0x7cf9e6,'messageType':_0x31112d[_0x216ab1(0x209)],'content':{'type':_0x21c730[_0x216ab1(0x5c8)],'label':this[_0x216ab1(0xa85)],'stats':{'timestamp':Date['now'](),'storage':_0x3894c2,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x216ab1(0x546)],'bytesSent':this['bytesSent'],'bytesReceived':this['bytesReceived'],'writes':this[_0x216ab1(0x508)],'reads':this[_0x216ab1(0x2e4)],'prompts':0x0,'tokens':0x0}}}),_0x40d481[_0x216ab1(0x201)](_0x267c89[_0x216ab1(0x5ce)],_0x216ab1(0xa33)+this[_0x216ab1(0x412)]+'ccc'+this['label'],_0x3894c2);},_0x4a5b22);}}class _0x4d1cc2 extends _0x36e181{[_0x5f24fc(0x3e1)];constructor(_0xefabcb,_0x5ca337,_0x168016){const _0x15341e=_0x5f24fc;super(_0xefabcb,_0x5ca337),this[_0x15341e(0x3e1)]=_0x168016;}['getContentType'](){const _0x1beaf0=_0x5f24fc;return _0x20053a[_0x1beaf0(0x552)][_0x1beaf0(0x9e3)];}['getMediaStream'](){const _0x6a628c=_0x5f24fc;return this[_0x6a628c(0x3e1)];}[_0x5f24fc(0xaa5)](){const _0x4a781a=_0x5f24fc;return this[_0x4a781a(0x3e1)]['id'];}}class _0x296b65 extends _0x4d1cc2{[_0x5f24fc(0x931)];[_0x5f24fc(0x826)];[_0x5f24fc(0x3a8)];[_0x5f24fc(0x757)]=_0x9e13e();constructor(_0xa87c44,_0x4a57aa,_0x4bb217,_0x543054,_0x21c1dc){const _0x36b4e4=_0x5f24fc;super(_0xa87c44,_0x4a57aa,_0x4bb217),this[_0x36b4e4(0x931)]=_0x543054,this[_0x36b4e4(0x826)]=_0x21c1dc;}[_0x5f24fc(0x8fd)](){const _0x429019=_0x5f24fc;this[_0x429019(0xa94)](_0x429019(0x214)),this['removeTrack']('video'),super['destroy']();}[_0x5f24fc(0x55e)](_0x4ba076){const _0x5364c9=_0x5f24fc;if(!this[_0x5364c9(0x3a8)])throw new _0x4668fc(_0x4668fc[_0x5364c9(0x85e)][_0x5364c9(0x1fa)],{'label':this[_0x5364c9(0xa85)],'ownerId':this['owner']['getId'](),'remoteId':this[_0x5364c9(0x931)]});this['topic']['publish']({'sourceId':this[_0x5364c9(0x8d7)][_0x5364c9(0x6e8)](),'content':{'action':_0x571dd0['Add'],'track':_0x4ba076,'stream':this['mediaStream'],'priority':_0x20053a[_0x5364c9(0x4e2)][_0x5364c9(0x2a5)],'params':this[_0x5364c9(0x881)](_0x4ba076[_0x5364c9(0x59d)],this[_0x5364c9(0x826)])}});}[_0x5f24fc(0xa94)](_0x416067){const _0x494d71=_0x5f24fc,_0x1e7753=this['getTrack'](_0x416067);if(_0x1e7753){if(!this[_0x494d71(0x3a8)])return null;this['topic'][_0x494d71(0x803)]({'sourceId':this[_0x494d71(0x8d7)][_0x494d71(0x6e8)](),'content':{'action':_0x571dd0['Remove'],'track':_0x1e7753,'stream':this[_0x494d71(0x3e1)]}});}return _0x1e7753;}[_0x5f24fc(0x754)](_0x100599){const _0x5f1cc9=_0x5f24fc;if(!this[_0x5f1cc9(0x3a8)])throw new _0x4668fc(_0x4668fc[_0x5f1cc9(0x85e)]['OutgoingMediaStreamNoTopic'],{'label':this[_0x5f1cc9(0xa85)],'ownerId':this[_0x5f1cc9(0x8d7)][_0x5f1cc9(0x6e8)](),'remoteId':this['remoteId']});this[_0x5f1cc9(0x3a8)][_0x5f1cc9(0x803)]({'sourceId':this['owner'][_0x5f1cc9(0x6e8)](),'content':{'action':_0x571dd0[_0x5f1cc9(0x828)],'priority':_0x100599,'stream':this[_0x5f1cc9(0x3e1)]}});}[_0x5f24fc(0x6f8)]({trackKinds:_0x216b14,params:_0x34c927},_0x364af4){const _0x23e309=_0x5f24fc;if(!this[_0x23e309(0x3a8)])throw new _0x4668fc(_0x4668fc[_0x23e309(0x85e)][_0x23e309(0x1fa)],{'label':this[_0x23e309(0xa85)],'ownerId':this[_0x23e309(0x8d7)][_0x23e309(0x6e8)](),'remoteId':this[_0x23e309(0x931)]});for(const _0x48b6ef of this[_0x23e309(0x3e1)][_0x23e309(0x393)]())_0x216b14[_0x23e309(0x465)](_0x48b6ef[_0x23e309(0x59d)])&&this[_0x23e309(0x3a8)][_0x23e309(0x803)]({'sourceId':this['owner'][_0x23e309(0x6e8)](),'content':{'action':_0x571dd0[_0x23e309(0x3a4)],'track':_0x48b6ef,'stream':this[_0x23e309(0x3e1)],'priority':_0x364af4,'params':this[_0x23e309(0x881)](_0x48b6ef[_0x23e309(0x59d)],_0x34c927)}});}[_0x5f24fc(0x220)]({params:_0x1bcb5f}){const _0x66f2c1=_0x5f24fc;if(!this['topic'])throw new _0x4668fc(_0x4668fc[_0x66f2c1(0x85e)]['OutgoingMediaStreamNoTopic'],{'label':this[_0x66f2c1(0xa85)],'ownerId':this[_0x66f2c1(0x8d7)][_0x66f2c1(0x6e8)](),'remoteId':this[_0x66f2c1(0x931)]});for(const _0x2cfa0b of this[_0x66f2c1(0x3e1)][_0x66f2c1(0x393)]())this['topic'][_0x66f2c1(0x803)]({'sourceId':this[_0x66f2c1(0x8d7)][_0x66f2c1(0x6e8)](),'content':{'action':_0x571dd0[_0x66f2c1(0x828)],'stream':this[_0x66f2c1(0x3e1)],'params':this[_0x66f2c1(0x881)](_0x2cfa0b['kind'],_0x1bcb5f)}});}['unsubscribe']({trackKinds:_0x27cd42}){const _0x13c5b0=_0x5f24fc;if(this[_0x13c5b0(0x3a8)]){for(const _0xb14a68 of this['mediaStream']['getTracks']())_0x27cd42['includes'](_0xb14a68[_0x13c5b0(0x59d)])&&this['topic'][_0x13c5b0(0x803)]({'sourceId':this['owner'][_0x13c5b0(0x6e8)](),'content':{'action':_0x571dd0['Remove'],'stream':this[_0x13c5b0(0x3e1)],'track':_0xb14a68}});}}[_0x5f24fc(0x462)](_0x375f62){const _0x1af7e1=_0x5f24fc;this[_0x1af7e1(0x3a8)]=_0x375f62;}[_0x5f24fc(0xb21)](_0x465243){const _0x7aeff2=_0x5f24fc;_0x465243===this[_0x7aeff2(0x3a8)]&&(delete this[_0x7aeff2(0x3a8)],this[_0x7aeff2(0x757)][_0x7aeff2(0x803)]());}[_0x5f24fc(0x303)](_0x39bc73){const _0x425832=_0x5f24fc;return this[_0x425832(0x757)]['subscribe'](_0x39bc73);}[_0x5f24fc(0x43d)](_0x20500a){const _0x5afd5e=_0x5f24fc;return this[_0x5afd5e(0x3e1)][_0x5afd5e(0x393)]()[_0x5afd5e(0x260)](_0x1d6f57=>_0x1d6f57[_0x5afd5e(0x59d)]===_0x20500a)||null;}[_0x5f24fc(0x881)](_0x2e499b,_0x5e2f9c){const _0x2f8a7d=_0x5f24fc;let _0x2820d3;return'video'===_0x2e499b&&_0x5e2f9c?.[_0x2f8a7d(0x829)]&&_0x2f8a7d(0xa48)!=typeof _0x5e2f9c[_0x2f8a7d(0x829)]&&(_0x2820d3={'kind':_0x2f8a7d(0x829),..._0x5e2f9c[_0x2f8a7d(0x829)]},_0x2820d3[_0x2f8a7d(0x54f)]=this['getResolution']()),_0x2f8a7d(0x214)===_0x2e499b&&_0x5e2f9c?.[_0x2f8a7d(0x214)]&&_0x2f8a7d(0xa48)!=typeof _0x5e2f9c[_0x2f8a7d(0x214)]&&(_0x2820d3={'kind':'audio',..._0x5e2f9c[_0x2f8a7d(0x214)]}),_0x2820d3;}[_0x5f24fc(0xaed)](){const _0x5808e4=_0x5f24fc;let _0x189b45={'width':0x0,'height':0x0};const _0x1488bf=this['mediaStream'][_0x5808e4(0x721)]();if(_0x1488bf['length']>0x0){const _0x3a7150=_0x1488bf[0x0][_0x5808e4(0x746)]();_0x3a7150[_0x5808e4(0x58b)]&&_0x3a7150[_0x5808e4(0x867)]&&(_0x189b45={'width':_0x3a7150['width'],'height':_0x3a7150[_0x5808e4(0x867)]});}return _0x189b45;}}class _0x4907f5 extends _0x4d1cc2{['clusterId'];[_0x5f24fc(0x80e)]=_0x20053a[_0x5f24fc(0x4e2)]['Default'];['trackEndedListeners']=new Map();['outgoingStreams']=new Map();constructor(_0x3ae26f,_0x580847,_0x382587,_0x593278){const _0x2b7684=_0x5f24fc;super(_0x3ae26f,_0x580847,_0x382587 instanceof MediaStream?_0x382587:_0x382587['srcObject']?_0x382587['srcObject']:_0x382587[_0x2b7684(0x9ff)]()),this['clusterId']=_0x593278,this['mediaStream'][_0x2b7684(0x393)]()['forEach'](_0x36a45c=>this['setupTrackEndedListeners'](_0x36a45c)),_0x40d481[_0x2b7684(0xade)](_0x267c89[_0x2b7684(0x69e)],{'type':_0x2b7684(0x803),'label':this[_0x2b7684(0xa85)],'nodeId':this[_0x2b7684(0x8d7)]['getId'](),'nodeType':this[_0x2b7684(0x8d7)][_0x2b7684(0x781)],'clusterId':this[_0x2b7684(0x412)],'streamId':this[_0x2b7684(0xaa5)](),'trackKinds':this['mediaStream'][_0x2b7684(0x393)]()[_0x2b7684(0xa4a)](_0x240177=>_0x240177[_0x2b7684(0x59d)])});}[_0x5f24fc(0x8fd)](){const _0xcabd4e=_0x5f24fc;this[_0xcabd4e(0x722)][_0xcabd4e(0x58d)]>0x0&&(this[_0xcabd4e(0x722)][_0xcabd4e(0xac8)](_0x581bdd=>{_0x581bdd['unregisterSystemPublisher'](),_0x581bdd['destroy']();}),this[_0xcabd4e(0x722)]['clear']()),this[_0xcabd4e(0x898)][_0xcabd4e(0xac8)](_0x4a6e63=>_0x4a6e63()),super[_0xcabd4e(0x8fd)]();}[_0x5f24fc(0x803)](_0x4e3e6e){const _0x4cd233=_0x5f24fc;this['systemTopic'][_0x4cd233(0x803)]({'sourceId':this[_0x4cd233(0x8d7)][_0x4cd233(0x6e8)](),'destinationIds':_0x4e3e6e?[_0x4e3e6e]:void 0x0,'propagate':!0x0,'messageType':_0x31112d[_0x4cd233(0x209)],'content':{'type':_0x21c730[_0x4cd233(0x7ee)],'ownerId':this[_0x4cd233(0x8d7)]['getId'](),'label':this[_0x4cd233(0xa85)],'stream':{'streamId':this[_0x4cd233(0xaa5)](),'availableTrackKinds':this[_0x4cd233(0x3e1)][_0x4cd233(0x393)]()['map'](_0x3b04ef=>_0x3b04ef[_0x4cd233(0x59d)])}}});}[_0x5f24fc(0x967)](){const _0x37c104=_0x5f24fc;this[_0x37c104(0x541)][_0x37c104(0x803)]({'sourceId':this[_0x37c104(0x8d7)][_0x37c104(0x6e8)](),'propagate':!0x0,'messageType':_0x31112d['Content'],'content':{'type':_0x21c730[_0x37c104(0x67b)],'ownerId':this['owner'][_0x37c104(0x6e8)](),'label':this[_0x37c104(0xa85)]}}),this[_0x37c104(0x541)][_0x37c104(0x803)]({'sourceId':_0x7cf9e6,'messageType':_0x31112d[_0x37c104(0x209)],'content':{'type':_0x21c730[_0x37c104(0x676)],'label':this[_0x37c104(0xa85)]}}),_0x40d481['logServiceEvent'](_0x267c89[_0x37c104(0x69e)],{'type':_0x37c104(0x967),'label':this[_0x37c104(0xa85)],'nodeId':this[_0x37c104(0x8d7)][_0x37c104(0x6e8)](),'nodeType':this['owner'][_0x37c104(0x781)],'clusterId':this[_0x37c104(0x412)],'streamId':this[_0x37c104(0xaa5)]()});}[_0x5f24fc(0x677)](){const _0x142d32=_0x5f24fc;return this[_0x142d32(0x80e)];}[_0x5f24fc(0x754)](_0x4f4b61){const _0x340656=_0x5f24fc;this[_0x340656(0x80e)]=_0x4f4b61,this[_0x340656(0x722)][_0x340656(0xac8)](_0x5be048=>_0x5be048[_0x340656(0x754)](_0x4f4b61));}[_0x5f24fc(0x576)](_0x49b2f5,_0x31ddbd){const _0x42dbc1=_0x5f24fc;if(!this[_0x42dbc1(0x722)]['has'](_0x49b2f5)){const _0x378774=new _0x296b65(this[_0x42dbc1(0x8d7)],this[_0x42dbc1(0xa85)],this[_0x42dbc1(0x3e1)],_0x49b2f5,_0x31ddbd),_0x160810=_0x378774[_0x42dbc1(0x303)](()=>{const _0x1546dd=_0x42dbc1;_0x160810(),this[_0x1546dd(0x722)]['get'](_0x49b2f5)?.[_0x1546dd(0x8fd)](),this[_0x1546dd(0x722)]['delete'](_0x49b2f5);});this['outgoingStreams'][_0x42dbc1(0x338)](_0x49b2f5,_0x378774),_0x378774[_0x42dbc1(0xaf7)](this[_0x42dbc1(0x541)]);}return this[_0x42dbc1(0x722)][_0x42dbc1(0xb07)](_0x49b2f5);}['getShareableStreamId'](){const _0x94a608=_0x5f24fc;return this[_0x94a608(0x3e1)]['id'];}[_0x5f24fc(0xb14)](_0x2ace29){const _0x152749=_0x5f24fc;this[_0x152749(0x541)][_0x152749(0x803)]({'sourceId':_0x7cf9e6,'messageType':_0x31112d[_0x152749(0x209)],'content':{'type':_0x21c730[_0x152749(0x80d)],'label':this[_0x152749(0xa85)],'trackKinds':[_0x2ace29[_0x152749(0x59d)]]}});}[_0x5f24fc(0x46b)](_0x1648bc){const _0x391d67=_0x5f24fc,_0x58584=()=>this['handleLocalTrackFailure'](_0x1648bc);_0x1648bc[_0x391d67(0x6f5)](_0x391d67(0x6ce),_0x58584),_0x1648bc['addEventListener'](_0x391d67(0x3ee),_0x58584),this[_0x391d67(0x898)][_0x391d67(0x338)](_0x1648bc[_0x391d67(0x59d)],()=>{const _0x2bf4e8=_0x391d67;_0x1648bc[_0x2bf4e8(0x34a)](_0x2bf4e8(0x6ce),_0x58584),_0x1648bc['removeEventListener']('mute',_0x58584),this[_0x2bf4e8(0x898)][_0x2bf4e8(0x43a)](_0x1648bc[_0x2bf4e8(0x59d)]);});}}class _0x492e12 extends _0x4907f5{['audioContext'];[_0x5f24fc(0x2cb)]=[];[_0x5f24fc(0x85a)];['audioSource'];[_0x5f24fc(0xb06)];[_0x5f24fc(0xa10)];[_0x5f24fc(0x916)];[_0x5f24fc(0x843)];[_0x5f24fc(0x83b)];constructor(_0x5d45d0,_0x22201b,_0x3d96c4,_0x587835,_0xa50051,_0x53cef1){const _0x1b33b8=_0x5f24fc;if(super(_0x5d45d0,_0x22201b,_0x3d96c4,_0x53cef1),this[_0x1b33b8(0x4e5)]=_0xa50051,this[_0x1b33b8(0x85a)]=this[_0x1b33b8(0x3e1)],this[_0x1b33b8(0xa10)]=document[_0x1b33b8(0x964)](_0x1b33b8(0x829)),this[_0x1b33b8(0xa10)]['autoplay']=!0x0,this[_0x1b33b8(0xa10)]['muted']=!0x0,this[_0x1b33b8(0xa10)][_0x1b33b8(0x66d)]=this[_0x1b33b8(0x85a)],this[_0x1b33b8(0xa10)][_0x1b33b8(0x5a7)](),this[_0x1b33b8(0xa10)]['onloadeddata']=()=>{const _0xfffa9a=_0x1b33b8;this['sourceVideo'][_0xfffa9a(0xa01)]();},this['canvas']=document[_0x1b33b8(0x964)]('canvas'),this[_0x1b33b8(0x843)]=this[_0x1b33b8(0x916)]['getContext']('2d'),this[_0x1b33b8(0x3e1)]=this[_0x1b33b8(0x916)]['captureStream'](_0x587835),this[_0x1b33b8(0xb06)]=this[_0x1b33b8(0x4e5)][_0x1b33b8(0x724)](),this['clientStream'][_0x1b33b8(0xa06)]()[_0x1b33b8(0x9a6)]>0x0){const _0x40662f=this[_0x1b33b8(0x85a)]['getAudioTracks']()[0x0];this[_0x1b33b8(0x247)]=this['audioContext'][_0x1b33b8(0x248)](new MediaStream([_0x40662f])),this['audioSource']['connect'](this[_0x1b33b8(0xb06)]);}const _0x12d7d9=this[_0x1b33b8(0xb06)][_0x1b33b8(0x265)][_0x1b33b8(0x393)]()[0x0];this[_0x1b33b8(0x3e1)][_0x1b33b8(0x55e)](_0x12d7d9),this[_0x1b33b8(0x83b)]=setInterval(()=>{const _0x3dd04b=_0x1b33b8;this[_0x3dd04b(0x916)]['width']=this[_0x3dd04b(0xa10)][_0x3dd04b(0x8e6)],this[_0x3dd04b(0x916)][_0x3dd04b(0x867)]=this['sourceVideo']['videoHeight'],this[_0x3dd04b(0xa10)][_0x3dd04b(0x8e6)]?(0x0!==this[_0x3dd04b(0x85a)][_0x3dd04b(0x721)]()['length']&&this[_0x3dd04b(0x85a)][_0x3dd04b(0x721)]()[0x0][_0x3dd04b(0xa47)]?this[_0x3dd04b(0x3e1)][_0x3dd04b(0x721)]()[0x0]['enabled']=!0x0:this[_0x3dd04b(0x3e1)][_0x3dd04b(0x721)]()[0x0][_0x3dd04b(0xa47)]=!0x1,0x0!==this[_0x3dd04b(0x85a)]['getAudioTracks']()[_0x3dd04b(0x9a6)]&&this['clientStream'][_0x3dd04b(0xa06)]()[0x0][_0x3dd04b(0xa47)]?this['mediaStream'][_0x3dd04b(0xa06)]()[0x0]['enabled']=!0x0:this[_0x3dd04b(0x3e1)][_0x3dd04b(0xa06)]()[0x0][_0x3dd04b(0xa47)]=!0x1,this[_0x3dd04b(0x843)][_0x3dd04b(0x570)](this[_0x3dd04b(0xa10)],0x0,0x0)):this[_0x3dd04b(0x843)][_0x3dd04b(0x37a)](0x0,0x0,this[_0x3dd04b(0x916)][_0x3dd04b(0x58b)],this['canvas'][_0x3dd04b(0x867)]);},0x3e8/_0x587835);}[_0x5f24fc(0x8fd)](){const _0x4ccd29=_0x5f24fc;clearInterval(this[_0x4ccd29(0x83b)]),this[_0x4ccd29(0xa10)][_0x4ccd29(0x20d)](),this[_0x4ccd29(0x916)]['remove'](),this[_0x4ccd29(0x247)]?.[_0x4ccd29(0x4ec)](),this[_0x4ccd29(0xb06)][_0x4ccd29(0x4ec)](),this[_0x4ccd29(0x3e1)][_0x4ccd29(0x393)]()[_0x4ccd29(0xac8)](_0x40670e=>{const _0x384332=_0x4ccd29;_0x40670e[_0x384332(0x3dc)](),this[_0x384332(0x3e1)]['removeTrack'](_0x40670e);}),super[_0x4ccd29(0x8fd)]();}[_0x5f24fc(0x55e)](_0xca88e2){const _0x1baa8e=_0x5f24fc,_0x515ba3=this[_0x1baa8e(0x43d)](_0xca88e2[_0x1baa8e(0x59d)]);_0x515ba3&&this[_0x1baa8e(0xa94)](_0x515ba3),_0x1baa8e(0x214)!==_0xca88e2[_0x1baa8e(0x59d)]?(_0x1baa8e(0x829)===_0xca88e2[_0x1baa8e(0x59d)]&&this[_0x1baa8e(0x49e)](_0xca88e2),this[_0x1baa8e(0x46b)](_0xca88e2)):this[_0x1baa8e(0x372)](_0xca88e2);}[_0x5f24fc(0xa94)](_0x4f7486){const _0x131c0c=_0x5f24fc,_0x42c744=this[_0x131c0c(0xb1f)](_0x4f7486);return _0x42c744&&(_0x131c0c(0x214)===_0x42c744['kind']&&(this[_0x131c0c(0x247)]?.[_0x131c0c(0x4ec)](),this['audioSource']=void 0x0),this[_0x131c0c(0x898)][_0x131c0c(0xb07)](_0x42c744[_0x131c0c(0x59d)])?.(),this[_0x131c0c(0x85a)][_0x131c0c(0xa94)](_0x42c744)),_0x42c744;}[_0x5f24fc(0xb23)](_0xfccefd){const _0x347fd0=_0x5f24fc;this[_0x347fd0(0xa94)](_0xfccefd[_0x347fd0(0x59d)]),this[_0x347fd0(0x55e)](_0xfccefd);}['setTransformations'](_0x49a1f4){const _0x1226f4=_0x5f24fc;this[_0x1226f4(0x2cb)]=_0x49a1f4;}[_0x5f24fc(0x43d)](_0x332dfa){const _0x509497=_0x5f24fc;return this[_0x509497(0x85a)][_0x509497(0x393)]()[_0x509497(0x260)](_0x54ad1b=>_0x54ad1b[_0x509497(0x59d)]===_0x332dfa)||null;}['getTrackFromParam'](_0x5c53cf){const _0x1240a5=_0x5f24fc;return _0x1240a5(0x57a)==typeof _0x5c53cf?this['getTrack'](_0x5c53cf):_0x5c53cf;}[_0x5f24fc(0x372)](_0xed9e47){const _0x196322=_0x5f24fc;'suspended'===this[_0x196322(0x4e5)]['state']&&this['audioContext'][_0x196322(0x9e4)](),this['clientStream'][_0x196322(0x55e)](_0xed9e47),this[_0x196322(0x247)]=this['audioContext'][_0x196322(0x248)](this[_0x196322(0x85a)]),this[_0x196322(0x247)]['connect'](this[_0x196322(0xb06)]);}['addVideoTrack'](_0x6c686f){const _0x3585a2=_0x5f24fc;this[_0x3585a2(0x85a)]['addTrack'](_0x6c686f),this['sourceVideo']['load']();}}class _0x247284 extends _0x4907f5{}class _0x91e5da extends _0x303f2a{[_0x5f24fc(0x8ad)];[_0x5f24fc(0x412)];[_0x5f24fc(0x240)];['transactionService'];['waitForArrayBufferSize'];[_0x5f24fc(0x49b)];[_0x5f24fc(0x892)];[_0x5f24fc(0x682)];[_0x5f24fc(0xaeb)]=new Map();[_0x5f24fc(0xac4)]=new Map();[_0x5f24fc(0x203)]=new Map();['pendingFilesTransactions']=new Map();[_0x5f24fc(0x7e0)]=new Map();[_0x5f24fc(0x926)]=new Map();[_0x5f24fc(0x6be)];['eventListener']=_0x449c97();[_0x5f24fc(0x5f8)]=new Map();['debounceStats'];[_0x5f24fc(0x508)]=0x0;[_0x5f24fc(0x2e4)]=0x0;[_0x5f24fc(0x777)]=!0x0;[_0x5f24fc(0x882)]=!0x0;[_0x5f24fc(0x28d)]=0x0;[_0x5f24fc(0x986)]=0x0;constructor(_0x2dd7d2,_0x48e56a,_0x5e3c25,_0x55ea29,_0x5c5d1c,_0x24fa49,_0x5622e6,_0x55a24e){const _0x34df44=_0x5f24fc;if('string'!=typeof _0x48e56a)throw new _0x55ecf3(_0x2efe49[_0x34df44(0x4b5)],'Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string');super(_0x2dd7d2,_0x48e56a),this[_0x34df44(0x8ad)]=_0x2dd7d2,this[_0x34df44(0x412)]=_0x5e3c25,this[_0x34df44(0x240)]=_0x55ea29,this[_0x34df44(0xa55)]=_0x5c5d1c,this['waitForArrayBufferSize']=_0x5622e6,this['options']=_0x55a24e;const _0x18c1a4=_0x34df44(0xa33)+this[_0x34df44(0x240)]+'ccc'+this[_0x34df44(0x412)]+'ccc'+_0x48e56a;this['objectStoreConnector']=new _0x24fa49(_0x18c1a4),this[_0x34df44(0x777)]=this[_0x34df44(0x49b)]?.[_0x34df44(0x777)]??!0x0,this[_0x34df44(0x49b)]?.[_0x34df44(0x5e3)]&&(this[_0x34df44(0x777)]=!0x1),this['sendStats']();}[_0x5f24fc(0x6d5)](){const _0x3e7253=_0x5f24fc;this[_0x3e7253(0x53c)]();}[_0x5f24fc(0xadb)](){const _0x35d245=_0x5f24fc;return _0x20053a['ContentType'][_0x35d245(0x496)];}async[_0x5f24fc(0x7ff)](){const _0x8c0c51=_0x5f24fc;this[_0x8c0c51(0x882)]=!0x0;try{const _0x5b5ee1=await this[_0x8c0c51(0x6be)]['get'](_0x140718),_0x37db5e=await _0x5b5ee1[_0x8c0c51(0xace)]();this[_0x8c0c51(0x682)]=_0x37db5e;}catch(_0x4e5b9c){}this['unsubscribeHandler']=this[_0x8c0c51(0x227)](async(_0x53dd38,_0x18ced7)=>{const _0x4627cf=_0x8c0c51;if(!(_0x18ced7 instanceof File))try{if(_0x18ced7['payloadType']===_0x8b70b9[_0x4627cf(0x5bf)])return void this['handleRequestPayload'](_0x18ced7);this[_0x4627cf(0x5e6)](_0x18ced7);}catch(_0x28cb6e){if(_0x28cb6e instanceof _0x4668fc)throw _0x28cb6e;throw new _0x4668fc(_0x4668fc[_0x4627cf(0x85e)][_0x4627cf(0x7dd)],{'payload':_0x18ced7});}}),await this[_0x8c0c51(0x42a)](),this[_0x8c0c51(0x777)]?await this[_0x8c0c51(0x990)]():this[_0x8c0c51(0x9db)](),this[_0x8c0c51(0x53c)]();}[_0x5f24fc(0x8fd)](){const _0x57e9e8=_0x5f24fc;this[_0x57e9e8(0x892)]?.(),this[_0x57e9e8(0x5f8)]['forEach'](_0x1c1f39=>_0x1c1f39()),this[_0x57e9e8(0x5f8)][_0x57e9e8(0x567)](),clearTimeout(this[_0x57e9e8(0x8da)]),delete this[_0x57e9e8(0x8da)],super[_0x57e9e8(0x8fd)]();}['close'](){const _0x55e4fe=_0x5f24fc;this[_0x55e4fe(0x541)]?.[_0x55e4fe(0x803)]({'sourceId':_0x7cf9e6,'messageType':_0x31112d[_0x55e4fe(0x209)],'content':{'type':_0x21c730[_0x55e4fe(0x3f4)],'label':this[_0x55e4fe(0xa85)]}});}[_0x5f24fc(0x6f8)](_0x4c101f,_0x374a2b){const _0x3c7f61=_0x5f24fc;if(this[_0x3c7f61(0x5f8)]['has'](_0x4c101f))throw new _0x55ecf3(_0x2efe49[_0x3c7f61(0x75a)],_0x3c7f61(0x877));this[_0x3c7f61(0x5f8)][_0x3c7f61(0x338)](_0x4c101f,this['eventListener']['subscribe'](_0x374a2b)),this[_0x3c7f61(0x882)]||this[_0x3c7f61(0xae7)][_0x3c7f61(0x803)]({'event':_0x20053a['StorageEventType'][_0x3c7f61(0xa8c)],'payload':{'filesSynced':this['filesSynced']}});}[_0x5f24fc(0xac2)](_0x504431){const _0x2ab585=_0x5f24fc;this[_0x2ab585(0x5f8)][_0x2ab585(0xb07)](_0x504431)?.(),this['listenerUnsubscribers'][_0x2ab585(0x43a)](_0x504431);}[_0x5f24fc(0x803)](_0x11967d){const _0x29942e=_0x5f24fc;switch(_0x11967d['action']){case _0x20053a['PayloadAction'][_0x29942e(0x308)]:return this[_0x29942e(0x68c)](_0x11967d['file'],_0x11967d[_0x29942e(0xa04)],_0x11967d['options']);case _0x20053a[_0x29942e(0xa0c)][_0x29942e(0x7fc)]:return this['publishFolder'](_0x11967d['path']);case _0x20053a[_0x29942e(0xa0c)]['Move']:return this[_0x29942e(0x5b0)](_0x11967d[_0x29942e(0xa04)],_0x11967d[_0x29942e(0x9f1)]);default:throw new _0x55ecf3(_0x2efe49[_0x29942e(0x519)],'Cannot\x20publish\x20payload:\x20'+_0x11967d);}}async[_0x5f24fc(0x967)](_0x10d835){const _0x1ce8d2=_0x5f24fc;try{const _0x522e7f=(0x0,_0x58fdf1['v4'])(),_0x32f485=this[_0x1ce8d2(0x682)],_0x1cbde2={'payloadType':_0x8b70b9[_0x1ce8d2(0xa28)],'action':_0x312166[_0x1ce8d2(0x3bd)],'id':_0x522e7f,'parentId':_0x32f485,'path':_0x10d835};await this[_0x1ce8d2(0x6c4)](_0x1cbde2);const _0x251a39=await this[_0x1ce8d2(0x33c)](_0x10d835);!0x0!==this[_0x1ce8d2(0x49b)]?.[_0x1ce8d2(0x5e3)]&&await this[_0x1ce8d2(0x8be)](_0x1cbde2),_0x40d481[_0x1ce8d2(0xade)](_0x267c89[_0x1ce8d2(0x7bf)],{'type':'unpublish','label':this[_0x1ce8d2(0xa85)],'nodeId':this['localNode'][_0x1ce8d2(0x6e8)](),'nodeType':this[_0x1ce8d2(0x8ad)][_0x1ce8d2(0x781)],'clusterId':this[_0x1ce8d2(0x412)],'kind':_0x251a39,'path':_0x10d835}),this[_0x1ce8d2(0x508)]+=0x1,this[_0x1ce8d2(0x53c)]();}catch(_0x83a57c){if(_0x83a57c instanceof _0x4668fc)throw new _0x55ecf3(_0x2efe49[_0x1ce8d2(0x973)],_0x1ce8d2(0x94b)+_0x10d835+':\x20Object\x20store\x20is\x20not\x20in\x20sync');throw new _0x55ecf3(_0x2efe49[_0x1ce8d2(0x369)],_0x1ce8d2(0xaf3)+_0x10d835);}}async[_0x5f24fc(0xb07)](_0x4180c3,_0x5462c1){const _0x2edac7=_0x5f24fc;_0x40d481[_0x2edac7(0xade)](_0x267c89[_0x2edac7(0x7bf)],{'type':_0x2edac7(0xb07),'label':this['label'],'nodeId':this[_0x2edac7(0x8ad)]['getId'](),'nodeType':this[_0x2edac7(0x8ad)]['type'],'clusterId':this[_0x2edac7(0x412)],'path':_0x4180c3}),this[_0x2edac7(0x2e4)]+=0x1,this[_0x2edac7(0x53c)]();try{return await this[_0x2edac7(0x6be)][_0x2edac7(0xb07)](_0x4180c3,_0x5462c1);}catch(_0x39c547){try{await this[_0x2edac7(0x6be)][_0x2edac7(0xb07)](_0x4180c3+_0x3a859d);}catch(_0x4a7d2a){throw new _0x55ecf3(_0x2efe49[_0x2edac7(0x369)],_0x2edac7(0x68e)+_0x4180c3);}throw new _0x55ecf3(_0x2efe49['ObjectStoreNotInSync'],_0x2edac7(0x434));}}async[_0x5f24fc(0x46f)](_0x2a4cd,_0x1b0560){const _0x5abe53=_0x5f24fc,{recursive:_0x269eee=!0x1,includeSyncingFiles:_0x5336eb=!0x1}=_0x1b0560??{};_0x40d481['logServiceEvent'](_0x267c89['ObjectStorage'],{'type':_0x5abe53(0x46f),'label':this[_0x5abe53(0xa85)],'nodeId':this[_0x5abe53(0x8ad)][_0x5abe53(0x6e8)](),'nodeType':this[_0x5abe53(0x8ad)][_0x5abe53(0x781)],'clusterId':this[_0x5abe53(0x412)],'path':_0x2a4cd}),this['reads']+=0x1,this[_0x5abe53(0x53c)]();try{const _0x44119b=await this[_0x5abe53(0x6be)]['list'](_0x2a4cd,_0x269eee);return this[_0x5abe53(0x2cd)](_0x44119b,{'recursive':_0x269eee,'includeSyncingFiles':_0x5336eb});}catch(_0x20271f){throw new _0x55ecf3(_0x2efe49[_0x5abe53(0x369)],'Cannot\x20list\x20directory:\x20'+_0x2a4cd);}}[_0x5f24fc(0x43c)](_0xfd07d4){const _0x1defb9=_0x5f24fc;this[_0x1defb9(0x986)]+=0x1;for(const _0x33c5bb of this['objectRequests'][_0x1defb9(0x9af)]())this[_0x1defb9(0x8be)](_0x33c5bb,[_0xfd07d4]);}[_0x5f24fc(0x3f6)](_0x119526){const _0x590a5f=_0x5f24fc;this[_0x590a5f(0x986)]-=0x1;const _0x32d48a=this['pendingFilesSyncing'][_0x590a5f(0xb07)](_0x119526);if(_0x32d48a){for(const [_0x44c9a8,_0x3ba3bf]of _0x32d48a[_0x590a5f(0x9af)]())this[_0x590a5f(0x909)](_0x44c9a8,_0x3ba3bf);this['pendingFilesSyncing'][_0x590a5f(0x43a)](_0x119526);}}async[_0x5f24fc(0x41f)](_0x76bf66='/'){const _0x42a14a=_0x5f24fc;try{return await this['objectStoreConnector']['calculateSize'](_0x76bf66);}catch(_0x559b8d){if(_0x559b8d instanceof Error&&_0x559b8d[_0x42a14a(0x2ba)][_0x42a14a(0x465)](_0x42a14a(0x5c2)))return 0x0;throw new _0x55ecf3(_0x2efe49['ObjectStoreInvalidPath'],'Cannot\x20get\x20size\x20of\x20path:\x20'+_0x76bf66);}}[_0x5f24fc(0x9db)](){const _0x29679b=_0x5f24fc;this['isSyncing']&&(this[_0x29679b(0x882)]=!0x1,this['eventListener'][_0x29679b(0x803)]({'event':_0x20053a[_0x29679b(0x5f2)][_0x29679b(0xa8c)],'payload':{'filesSynced':this['filesSynced']}}));}async[_0x5f24fc(0x2cd)](_0x744be4,{includeSyncingFiles:_0x452dcc=!0x1}){const _0x5191a8=_0x5f24fc,_0x2bdcbf=[];for(const _0x4ae7d8 of _0x744be4)if(_0x4ae7d8[_0x5191a8(0x59d)]!==_0x20053a[_0x5191a8(0x9b2)]['Folder']){if(_0x4ae7d8['name']!==_0x140718){if(_0x4ae7d8[_0x5191a8(0x696)][_0x5191a8(0x40f)](_0x3a859d)){if(!_0x452dcc)continue;const _0x43ac05=_0x4ae7d8;if(_0x43ac05[_0x5191a8(0x696)]=_0x43ac05[_0x5191a8(0x696)]['replace'](_0x3a859d,''),_0x43ac05[_0x5191a8(0x54c)]=_0x43ac05['pathName'][_0x5191a8(0x49d)](_0x3a859d,''),await this[_0x5191a8(0x561)](_0x43ac05[_0x5191a8(0x54c)])){_0x744be4[_0x5191a8(0x260)](_0x3a34c8=>_0x3a34c8['pathName']===_0x43ac05[_0x5191a8(0x54c)])[_0x5191a8(0x524)]=_0x20053a[_0x5191a8(0x8aa)][_0x5191a8(0x549)];continue;}_0x43ac05[_0x5191a8(0x524)]=_0x20053a[_0x5191a8(0x8aa)][_0x5191a8(0x503)];}_0x2bdcbf[_0x5191a8(0x96d)](_0x4ae7d8);}}else _0x4ae7d8[_0x5191a8(0x8f3)]=await this[_0x5191a8(0x2cd)](_0x4ae7d8[_0x5191a8(0x8f3)]??[],{'includeSyncingFiles':_0x452dcc}),_0x2bdcbf['push'](_0x4ae7d8);return _0x2bdcbf;}async[_0x5f24fc(0x68c)](_0x1898f1,_0x277292,_0x491033){const _0x1d8ce6=_0x5f24fc;try{const _0x536ae1=(0x0,_0x58fdf1['v4'])(),_0x2fbb76=await _0x1ddb91(_0x1898f1),_0x1b5adf=_0x5c93cf(_0x277292??'/',_0x1898f1[_0x1d8ce6(0x696)]);let _0x461e11=!0x0;const _0x624b9={'payloadType':_0x8b70b9['Transaction'],'action':_0x312166[_0x1d8ce6(0x61f)],'id':_0x536ae1,'parentId':this[_0x1d8ce6(0x682)],'answererId':this['localNode']['getId'](),'name':_0x1898f1[_0x1d8ce6(0x696)],'type':_0x1898f1[_0x1d8ce6(0x781)],'path':_0x277292??'/','skipEncryption':_0x491033?.['skipEncryption']??!0x1,'checksum':_0x2fbb76};try{if(!_0x491033?.['fetchUrl'])throw new Error(_0x1d8ce6(0x7c3));const _0x5cf86b=_0x1b5adf+_0x3a859d;await this['objectStoreConnector']['get'](_0x5cf86b),_0x461e11=!0x1,await this[_0x1d8ce6(0x6be)]['deleteObject'](_0x5cf86b),this[_0x1d8ce6(0xac4)][_0x1d8ce6(0x43a)](_0x1b5adf);}catch(_0x23e18f){await this[_0x1d8ce6(0x6c4)](_0x624b9);}if(this['syncContent']||this[_0x1d8ce6(0x49b)]?.[_0x1d8ce6(0x5e3)]?await this[_0x1d8ce6(0x706)](_0x1898f1,_0x277292,_0x491033):await this[_0x1d8ce6(0x505)](_0x1898f1[_0x1d8ce6(0x696)],_0x277292??'/',{'checksum':_0x2fbb76,'skipEncryption':_0x491033?.[_0x1d8ce6(0xa93)]??!0x1}),this[_0x1d8ce6(0x926)]['has'](_0x1b5adf)){const [_0x3508d6,_0x127c2a]=this[_0x1d8ce6(0x926)][_0x1d8ce6(0xb07)](_0x1b5adf);this[_0x1d8ce6(0x926)][_0x1d8ce6(0x338)](_0x1b5adf,[!0x0,_0x127c2a]);try{await _0x127c2a;}catch(_0x53522e){}this['fileSendingMap'][_0x1d8ce6(0x43a)](_0x1b5adf);}_0x461e11&&this[_0x1d8ce6(0x986)]>0x0&&!0x0!==this[_0x1d8ce6(0x49b)]?.[_0x1d8ce6(0x5e3)]&&await this[_0x1d8ce6(0x917)](_0x1898f1,_0x624b9),_0x40d481[_0x1d8ce6(0xade)](_0x267c89[_0x1d8ce6(0x7bf)],{'type':_0x1d8ce6(0x803),'label':this[_0x1d8ce6(0xa85)],'nodeId':this['localNode'][_0x1d8ce6(0x6e8)](),'nodeType':this[_0x1d8ce6(0x8ad)][_0x1d8ce6(0x781)],'clusterId':this[_0x1d8ce6(0x412)],'kind':_0x20053a[_0x1d8ce6(0x9b2)][_0x1d8ce6(0x308)],'path':_0x277292,'fileName':_0x1898f1[_0x1d8ce6(0x696)],'fileType':_0x1898f1[_0x1d8ce6(0x781)],'size':_0x1898f1['size']}),this['writes']+=0x1,this[_0x1d8ce6(0x53c)]();}catch(_0x5c6004){if(_0x5c6004 instanceof _0x4668fc)throw new _0x55ecf3(_0x2efe49['ObjectStoreNotInSync'],_0x1d8ce6(0x434));throw new _0x55ecf3(_0x2efe49['ObjectStoreInvalidPath'],_0x1d8ce6(0x711)+_0x277292+(_0x277292?.['endsWith']('/')?'':'/')+_0x1898f1[_0x1d8ce6(0x696)]);}}async['publishFolder'](_0xf3538a){const _0x1a0d3a=_0x5f24fc;try{const _0x1623ed=(0x0,_0x58fdf1['v4'])(),_0x595fd9=this[_0x1a0d3a(0x682)],_0x13f82d={'payloadType':_0x8b70b9[_0x1a0d3a(0xa28)],'action':_0x312166[_0x1a0d3a(0x2a4)],'id':_0x1623ed,'parentId':_0x595fd9,'path':_0xf3538a};await this['publishTransaction'](_0x13f82d),await this[_0x1a0d3a(0x6be)]['createFolder'](_0xf3538a),!0x0!==this['options']?.[_0x1a0d3a(0x5e3)]&&await this[_0x1a0d3a(0x8be)](_0x13f82d),_0x40d481[_0x1a0d3a(0xade)](_0x267c89[_0x1a0d3a(0x7bf)],{'type':_0x1a0d3a(0x803),'label':this[_0x1a0d3a(0xa85)],'nodeId':this['localNode']['getId'](),'nodeType':this[_0x1a0d3a(0x8ad)][_0x1a0d3a(0x781)],'clusterId':this[_0x1a0d3a(0x412)],'kind':_0x20053a[_0x1a0d3a(0x9b2)][_0x1a0d3a(0x7fc)],'path':_0xf3538a}),this['writes']+=0x1,this['sendStats']();}catch(_0x515bb4){if(_0x515bb4 instanceof _0x4668fc)throw new _0x55ecf3(_0x2efe49['ObjectStoreNotInSync'],_0x1a0d3a(0x434));throw new _0x55ecf3(_0x2efe49[_0x1a0d3a(0x369)],_0x1a0d3a(0x886)+_0xf3538a);}}async[_0x5f24fc(0x5b0)](_0x3c7d0c,_0x25a1c0){const _0x3bc209=_0x5f24fc;try{const _0x32134f=(0x0,_0x58fdf1['v4'])(),_0x3ad213=this['lastTransactionId'],_0x595917={'payloadType':_0x8b70b9[_0x3bc209(0xa28)],'action':_0x312166['Move'],'id':_0x32134f,'parentId':_0x3ad213,'path':_0x3c7d0c,'newPath':_0x25a1c0};await this[_0x3bc209(0x6c4)](_0x595917);const _0x327856=await this[_0x3bc209(0x862)](_0x3c7d0c,_0x25a1c0);!0x0!==this[_0x3bc209(0x49b)]?.[_0x3bc209(0x5e3)]&&await this[_0x3bc209(0x8be)](_0x595917),_0x40d481[_0x3bc209(0xade)](_0x267c89[_0x3bc209(0x7bf)],{'type':_0x3bc209(0x6b3),'label':this[_0x3bc209(0xa85)],'nodeId':this[_0x3bc209(0x8ad)][_0x3bc209(0x6e8)](),'nodeType':this[_0x3bc209(0x8ad)][_0x3bc209(0x781)],'clusterId':this[_0x3bc209(0x412)],'kind':_0x327856,'path':_0x3c7d0c,'newPath':_0x25a1c0}),this['writes']+=0x1,this[_0x3bc209(0x53c)]();}catch(_0xfbeb03){if(_0xfbeb03 instanceof _0x4668fc)throw new _0x55ecf3(_0x2efe49['ObjectStoreNotInSync'],_0x3bc209(0x434));throw new _0x55ecf3(_0x2efe49[_0x3bc209(0x369)],'Cannot\x20publish\x20move\x20operation:\x20'+_0x3c7d0c);}}async[_0x5f24fc(0x5e6)](_0x2399fa,_0x4e3440=!0x1){const _0x4eb3a2=_0x5f24fc;if(this[_0x4eb3a2(0x682)]&&_0x2399fa['parentId']!==this[_0x4eb3a2(0x682)]&&_0x2399fa['id']!==this['lastTransactionId']){if(!_0x2399fa[_0x4eb3a2(0x636)])throw new _0x4668fc(_0x4668fc[_0x4eb3a2(0x85e)][_0x4eb3a2(0x7dd)]);this[_0x4eb3a2(0xaeb)][_0x4eb3a2(0x338)](_0x2399fa['parentId'],_0x2399fa);}else{try{await this['processTransactionPayload'](_0x2399fa,_0x4e3440);}catch(_0x128faa){}await this[_0x4eb3a2(0x41a)](_0x2399fa['id']),await this[_0x4eb3a2(0x750)](_0x2399fa['id'],_0x4e3440);}}async['processTransactionPayload'](_0x817367,_0x7267af=!0x1){const _0x1381da=_0x5f24fc;switch(_0x817367[_0x1381da(0x32a)]){case _0x312166['FileWrite']:await this[_0x1381da(0xb18)](_0x817367);break;case _0x312166[_0x1381da(0x2a4)]:await this[_0x1381da(0x84b)](_0x817367);break;case _0x312166['Move']:await this[_0x1381da(0x4a6)](_0x817367,_0x7267af);break;case _0x312166['Delete']:await this[_0x1381da(0x6eb)](_0x817367,_0x7267af);break;default:throw new _0x4668fc(_0x4668fc[_0x1381da(0x85e)][_0x1381da(0x7dd)],{'payload':_0x817367});}}async[_0x5f24fc(0x750)](_0x53f231,_0x421534=!0x1){const _0x84d630=_0x5f24fc;if(this[_0x84d630(0xaeb)]['has'](_0x53f231)){const _0x137b8a=this[_0x84d630(0xaeb)][_0x84d630(0xb07)](_0x53f231);this[_0x84d630(0xaeb)]['delete'](_0x53f231),await this[_0x84d630(0x5e6)](_0x137b8a,_0x421534);}}async['handleRequestPayload'](_0x2bff7c){const _0x3b481a=_0x5f24fc;switch(_0x2bff7c['action']){case _0x312166[_0x3b481a(0x7b5)]:return this['handleFileRequest'](_0x2bff7c);case _0x312166[_0x3b481a(0x38f)]:return this[_0x3b481a(0x7fb)](_0x2bff7c);case _0x312166[_0x3b481a(0x53b)]:return this[_0x3b481a(0x237)](_0x2bff7c);case _0x312166[_0x3b481a(0xb12)]:return this['handleFileWrite'](_0x2bff7c);default:throw new _0x4668fc(_0x4668fc[_0x3b481a(0x85e)][_0x3b481a(0x7dd)],{'payload':_0x2bff7c});}}async['handleFileWrite'](_0x4e22ac,_0x488480=0x0){const _0x3245b8=_0x5f24fc,_0x1b77a8=_0x5c93cf(_0x4e22ac[_0x3245b8(0xa04)],_0x4e22ac[_0x3245b8(0x696)]);if(!_0x4e22ac[_0x3245b8(0x3b9)]||void 0x0===_0x4e22ac['index']||!_0x4e22ac[_0x3245b8(0x2a6)])return this[_0x3245b8(0x69c)][_0x3245b8(0x43a)](_0x1b77a8),void await this[_0x3245b8(0x505)](_0x4e22ac[_0x3245b8(0x696)],_0x4e22ac[_0x3245b8(0xa04)],{'checksum':_0x4e22ac[_0x3245b8(0x62e)],'skipEncryption':_0x4e22ac[_0x3245b8(0xa93)]});if(this[_0x3245b8(0x69c)][_0x3245b8(0x4cb)](_0x1b77a8)){const _0x327680=this[_0x3245b8(0x69c)]['get'](_0x1b77a8);_0x327680[_0x3245b8(0x62e)]!==_0x4e22ac[_0x3245b8(0x62e)]&&(_0x327680[_0x3245b8(0x265)]?.[_0x3245b8(0x7ef)](),this[_0x3245b8(0x69c)]['delete'](_0x1b77a8));}if(!this['fileChunks']['has'](_0x1b77a8)){try{await this[_0x3245b8(0x6be)]['deleteObject'](_0x1b77a8);}catch(_0x276e77){}try{const _0x44d622=this[_0x3245b8(0x777)]?await this[_0x3245b8(0x6be)]['createWritableStream'](_0x1b77a8,{'skipEncryption':_0x4e22ac[_0x3245b8(0xa93)]}):void 0x0,_0x214507={'chunksReceived':_0x4e22ac['startIndex']??0x0,'bytesReceived':0x0,'stream':_0x44d622,'checksum':_0x4e22ac['checksum']};this[_0x3245b8(0x69c)]['set'](_0x1b77a8,_0x214507),await this[_0x3245b8(0x505)](_0x4e22ac[_0x3245b8(0x696)],_0x4e22ac[_0x3245b8(0xa04)],{'checksum':_0x4e22ac[_0x3245b8(0x62e)],'skipEncryption':_0x4e22ac[_0x3245b8(0xa93)]});}catch(_0x3dc0f7){}}const _0x4bb853=this[_0x3245b8(0x69c)][_0x3245b8(0xb07)](_0x1b77a8);if(_0x4e22ac['checksum']!==_0x4bb853[_0x3245b8(0x62e)])return;if(this[_0x3245b8(0x538)](_0x4e22ac,_0x1b77a8),this[_0x3245b8(0x777)]){if(!_0x4bb853[_0x3245b8(0x265)])throw new _0x4668fc(_0x4668fc[_0x3245b8(0x85e)][_0x3245b8(0x7dd)],{'message':_0x3245b8(0x665)});let _0x5bd010=_0x4bb853[_0x3245b8(0xb3b)];if(_0x4e22ac[_0x3245b8(0x2ef)]!==_0x5bd010){if(_0x5bd010>_0x4e22ac[_0x3245b8(0x2ef)])return;const _0x43f964=0x1000;if(_0x4e22ac[_0x3245b8(0x2ef)]>_0x5bd010+_0x43f964)return;if(_0x4bb853['bufferedChunks']||(_0x4bb853['bufferedChunks']=[]),_0x4bb853['bufferedChunks'][_0x3245b8(0x9a6)]>0x4000)throw this[_0x3245b8(0x69c)][_0x3245b8(0x43a)](_0x1b77a8),new _0x4668fc(_0x4668fc['codes'][_0x3245b8(0x7dd)],{'message':'Buffered\x20chunks\x20are\x20too\x20large'});return void _0x4bb853['bufferedChunks'][_0x3245b8(0x96d)](_0x4e22ac);}try{_0x4bb853[_0x3245b8(0xb3b)]+=0x1,_0x4bb853['bytesReceived']+=_0x4e22ac[_0x3245b8(0x3b9)][_0x3245b8(0x3f5)],await _0x4bb853[_0x3245b8(0x265)]['write'](_0x4e22ac['data']);}catch(_0x12a679){if(console['error'](_0x3245b8(0xaf9),_0x12a679),_0x488480>0x3)throw this[_0x3245b8(0x69c)][_0x3245b8(0x43a)](_0x1b77a8),console['error'](_0x3245b8(0xa20),_0x12a679),new _0x4668fc(_0x4668fc['codes'][_0x3245b8(0x7dd)],{'message':_0x3245b8(0xa20)});return this[_0x3245b8(0xb18)](_0x4e22ac,_0x488480+0x1);}}try{await this[_0x3245b8(0x5a5)](_0x4bb853,_0x4e22ac[_0x3245b8(0x2ef)]+0x1);}catch(_0x472887){throw this[_0x3245b8(0x69c)][_0x3245b8(0x43a)](_0x1b77a8),_0x472887;}if(this[_0x3245b8(0x69c)][_0x3245b8(0x338)](_0x1b77a8,_0x4bb853),_0x4bb853[_0x3245b8(0xb3b)]<_0x4e22ac[_0x3245b8(0x2a6)])return;await this['deleteFileChunks'](_0x1b77a8),this['syncContent']&&(await this['deletePendingFile'](_0x4e22ac),_0x40d481[_0x3245b8(0xade)](_0x267c89[_0x3245b8(0x7bf)],{'type':'sync','label':this[_0x3245b8(0xa85)],'nodeId':this[_0x3245b8(0x8ad)][_0x3245b8(0x6e8)](),'nodeType':this[_0x3245b8(0x8ad)][_0x3245b8(0x781)],'clusterId':this[_0x3245b8(0x412)],'kind':_0x20053a[_0x3245b8(0x9b2)][_0x3245b8(0x308)],'path':_0x4e22ac[_0x3245b8(0xa04)],'fileName':_0x4e22ac[_0x3245b8(0x696)],'fileType':_0x4e22ac['type'],'size':_0x4bb853['bytesReceived']}));const _0x5470c4=this[_0x3245b8(0x31d)]['get'](_0x4e22ac['path'])??[];for(const _0x385ede of _0x5470c4)await this[_0x3245b8(0xad1)](_0x385ede);this[_0x3245b8(0x31d)][_0x3245b8(0x43a)](_0x4e22ac[_0x3245b8(0xa04)]),this[_0x3245b8(0xae7)][_0x3245b8(0x803)]({'event':_0x20053a['StorageEventType'][_0x3245b8(0x61f)],'payload':{'file':{'kind':_0x20053a[_0x3245b8(0x9b2)][_0x3245b8(0x308)],'path':_0x4e22ac[_0x3245b8(0xa04)],'type':_0x4e22ac[_0x3245b8(0x781)],'size':_0x4bb853[_0x3245b8(0x940)],'name':_0x4e22ac[_0x3245b8(0x696)],'pathName':_0x1b77a8,'status':this['syncContent']?_0x20053a[_0x3245b8(0x8aa)][_0x3245b8(0x3b3)]:_0x20053a[_0x3245b8(0x8aa)][_0x3245b8(0x503)]}}}),this[_0x3245b8(0x53c)]();}async[_0x5f24fc(0x5a5)](_0x478980,_0x5f15df){const _0x13a67d=_0x5f24fc,_0x44190a=_0x478980['stream'];let _0x1193bf=0x0;for(;_0x478980['bufferedChunks']&&_0x478980['bufferedChunks'][_0x13a67d(0x9a6)]>0x0;){const _0x30584a=_0x478980[_0x13a67d(0x4d1)][_0x13a67d(0x260)](_0x299439=>_0x299439[_0x13a67d(0x2ef)]===_0x5f15df+0x1);if(!_0x30584a)break;_0x478980['bufferedChunks']=_0x478980[_0x13a67d(0x4d1)][_0x13a67d(0x776)](_0x2cf90b=>_0x2cf90b[_0x13a67d(0x2ef)]!==_0x5f15df+0x1);try{await _0x44190a[_0x13a67d(0x70f)](_0x30584a[_0x13a67d(0x3b9)]),_0x5f15df++;}catch(_0x5a8a9b){if(console[_0x13a67d(0x4d2)](_0x13a67d(0xad4),_0x5a8a9b),_0x1193bf>0x3)throw console[_0x13a67d(0x4d2)](_0x13a67d(0x744),_0x5a8a9b),new _0x4668fc(_0x4668fc['codes'][_0x13a67d(0x7dd)],{'message':'Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream'});_0x1193bf++;continue;}_0x478980[_0x13a67d(0xb3b)]+=0x1,_0x478980[_0x13a67d(0x940)]+=_0x30584a['data'][_0x13a67d(0x3f5)];}}async[_0x5f24fc(0x84b)](_0x3abee9){const _0x1c6935=_0x5f24fc;await this[_0x1c6935(0x6be)][_0x1c6935(0x693)](_0x3abee9[_0x1c6935(0xa04)]);const [_0xacb8b5,_0x5bd23d]=_0xcd133e(_0x3abee9['path']);this[_0x1c6935(0xae7)][_0x1c6935(0x803)]({'event':_0x20053a[_0x1c6935(0x5f2)]['FolderCreate'],'payload':{'folder':{'kind':_0x20053a[_0x1c6935(0x9b2)][_0x1c6935(0x7fc)],'name':_0x5bd23d,'path':_0xacb8b5,'pathName':_0x3abee9['path']}}});}async[_0x5f24fc(0x6eb)](_0x31644c,_0x32d411=!0x1){const _0x5ab6a8=_0x5f24fc;if(!_0x32d411&&!this[_0x5ab6a8(0x330)](_0x31644c))return;const _0x6781d9=await this[_0x5ab6a8(0x33c)](_0x31644c['path']),[_0x10de84,_0x49823c]=_0xcd133e(_0x31644c[_0x5ab6a8(0xa04)]);this[_0x5ab6a8(0xae7)][_0x5ab6a8(0x803)]({'event':_0x6781d9===_0x20053a[_0x5ab6a8(0x9b2)][_0x5ab6a8(0x7fc)]?_0x20053a['StorageEventType'][_0x5ab6a8(0xb19)]:_0x20053a[_0x5ab6a8(0x5f2)][_0x5ab6a8(0x734)],'payload':{'name':_0x49823c,'path':_0x10de84,'pathName':_0x31644c[_0x5ab6a8(0xa04)]}}),this['sendStats']();}async[_0x5f24fc(0x4a6)](_0x170382,_0x176ced=!0x1){const _0x21d038=_0x5f24fc;if(!_0x176ced&&!this[_0x21d038(0x330)](_0x170382))return this[_0x21d038(0x7e0)][_0x21d038(0x338)](_0x170382[_0x21d038(0x9f1)],this[_0x21d038(0x7e0)][_0x21d038(0xb07)](_0x170382[_0x21d038(0xa04)])??_0x170382[_0x21d038(0xa04)]),void this['pendingFilesRename'][_0x21d038(0x43a)](_0x170382[_0x21d038(0xa04)]);this[_0x21d038(0x7e0)][_0x21d038(0x43a)](_0x170382['path']);const _0x5a129f=await this[_0x21d038(0x6be)]['moveObject'](_0x170382[_0x21d038(0xa04)],_0x170382['newPath']),[_0x197390,_0x1df17f]=_0xcd133e(_0x170382[_0x21d038(0xa04)]),[_0x4b9347,_0xa3ddff]=_0xcd133e(_0x170382[_0x21d038(0x9f1)]);this['eventListener'][_0x21d038(0x803)]({'event':_0x5a129f===_0x20053a[_0x21d038(0x9b2)][_0x21d038(0x7fc)]?_0x20053a[_0x21d038(0x5f2)][_0x21d038(0x472)]:_0x20053a[_0x21d038(0x5f2)]['FileMove'],'payload':{'name':_0xa3ddff,'path':_0x4b9347,'pathName':_0x170382[_0x21d038(0x9f1)],'oldName':_0x1df17f,'oldPath':_0x197390,'oldPathName':_0x170382[_0x21d038(0xa04)]}}),this[_0x21d038(0x53c)]();}[_0x5f24fc(0x330)](_0x90b83d){const _0x49eb31=_0x5f24fc,_0xc53d43=this[_0x49eb31(0x7e0)][_0x49eb31(0xb07)](_0x90b83d['path'])??_0x90b83d['path'];let _0x1948d1=!0x1;for(const _0xa49630 of this[_0x49eb31(0x69c)][_0x49eb31(0x6c0)]())if(_0xa49630[_0x49eb31(0x9c4)](_0xc53d43)){const _0x488b37=this[_0x49eb31(0x31d)]['get'](_0xa49630)??[];_0x488b37[_0x49eb31(0x96d)](_0x90b83d),this[_0x49eb31(0x31d)][_0x49eb31(0x338)](_0xa49630,_0x488b37),_0x1948d1=!0x0;}return!_0x1948d1;}async[_0x5f24fc(0x6c4)](_0x763c1e){const _0x583810=_0x5f24fc;if(!this['options']?.[_0x583810(0x5e3)]){if(!_0x763c1e['id'])throw new _0x4668fc(_0x4668fc[_0x583810(0x85e)][_0x583810(0x7dd)],{'message':_0x583810(0x231)});if(_0x763c1e[_0x583810(0x636)]!==this[_0x583810(0x682)])throw new _0x4668fc(_0x4668fc[_0x583810(0x85e)][_0x583810(0x7d6)]);await this[_0x583810(0xa55)][_0x583810(0x3ed)](_0x763c1e,this[_0x583810(0xa85)]),await this[_0x583810(0x41a)](_0x763c1e['id']);}}async[_0x5f24fc(0x41a)](_0x8aca15){const _0x3244f8=_0x5f24fc;this['lastTransactionId']=_0x8aca15;const _0x222e60=new File([new Blob([this[_0x3244f8(0x682)]])],_0x140718,{'type':_0x3244f8(0x6c2)});await this[_0x3244f8(0x706)](_0x222e60,'/');}async[_0x5f24fc(0x29c)](_0x245316){const _0xfb3a65=_0x5f24fc;try{const _0x4ca466=await this[_0xfb3a65(0xb07)](_0x245316[_0xfb3a65(0xa04)]+'/'+_0x245316[_0xfb3a65(0x696)],{'skipEncryption':_0x245316[_0xfb3a65(0xa93)]}),_0x2ccbd1=await _0x1ddb91(_0x4ca466);if(''!==_0x245316[_0xfb3a65(0x62e)]&&_0x2ccbd1!==_0x245316[_0xfb3a65(0x62e)])return;_0x245316[_0xfb3a65(0xada)]=this[_0xfb3a65(0x8ad)]['getId'](),_0x245316[_0xfb3a65(0x32a)]=_0x312166[_0xfb3a65(0x38f)],await this['send'](_0x245316,[_0x245316['sourceId']]);}catch(_0x3c4de5){}}async[_0x5f24fc(0x7fb)](_0x3291c0){const _0x326d24=_0x5f24fc,_0x32ea89=_0x5c93cf(_0x3291c0[_0x326d24(0xa04)],_0x3291c0['name']);if(!this[_0x326d24(0xac4)][_0x326d24(0x4cb)](_0x32ea89))return;const _0x4dcb6f=this[_0x326d24(0xac4)]['get'](_0x32ea89);_0x4dcb6f[_0x326d24(0x32a)]=_0x312166[_0x326d24(0x53b)];const _0x18e0e8=_0x3291c0[_0x326d24(0xada)];if(!_0x18e0e8)throw new _0x4668fc(_0x4668fc['codes'][_0x326d24(0x7dd)],{'message':_0x326d24(0x8a7)});if(this[_0x326d24(0xac4)]['delete'](_0x32ea89),this[_0x326d24(0x203)]['has'](_0x18e0e8)||this['pendingFilesSyncing'][_0x326d24(0x338)](_0x18e0e8,new Map()),this[_0x326d24(0x203)]['get'](_0x18e0e8)[_0x326d24(0x338)](_0x32ea89,[_0x4dcb6f,this['getOrResetPendingFileTimeout'](_0x18e0e8,_0x32ea89)]),_0x4dcb6f[_0x326d24(0xada)]=_0x18e0e8,_0x4dcb6f[_0x326d24(0x659)]=this[_0x326d24(0x69c)][_0x326d24(0xb07)](_0x32ea89)?.[_0x326d24(0xb3b)]??0x0,0x0===_0x4dcb6f[_0x326d24(0x659)])try{const [_0x43a1b9,_0xa5cb03]=await this['checkExistingPendingFileContent'](_0x3291c0[_0x326d24(0x696)],_0x3291c0['path'],_0x3291c0[_0x326d24(0x62e)]);_0x43a1b9&&(_0x4dcb6f['startIndex']=_0xa5cb03);}catch(_0x2964c2){}this[_0x326d24(0x8be)](_0x4dcb6f,[_0x18e0e8]);}async[_0x5f24fc(0x237)](_0x54be65){const _0x19e66d=_0x5f24fc,_0x4889f8=_0x5c93cf(_0x54be65[_0x19e66d(0xa04)],_0x54be65[_0x19e66d(0x696)]),_0x45e271=await this[_0x19e66d(0xb07)](_0x4889f8,{'skipEncryption':_0x54be65[_0x19e66d(0xa93)]}),_0x2cdcd6={..._0x54be65,'answererId':this[_0x19e66d(0x8ad)]['getId'](),'action':_0x312166['RequestFileWrite'],'startIndex':_0x54be65[_0x19e66d(0x659)]??0x0};await this[_0x19e66d(0x917)](_0x45e271,_0x2cdcd6,[_0x54be65[_0x19e66d(0x241)]]);}async['sendFile'](_0x134664,_0x49d0bb,_0x298dbb){let _0x44af7a,_0x5a11ab;const _0x15a4e9=new Promise(async(_0x7109a4,_0xb88274)=>{_0x44af7a=_0x7109a4,_0x5a11ab=_0xb88274;});return((async()=>{const _0x195a9a=a0_0x214c,_0x538116=Math['ceil'](_0x134664[_0x195a9a(0x58d)]/_0x5d29a2);let _0x3ca1bf=_0x49d0bb[_0x195a9a(0x659)]??0x0;const _0x22c2cc=_0x5c93cf(_0x49d0bb[_0x195a9a(0xa04)],_0x49d0bb[_0x195a9a(0x696)]);this[_0x195a9a(0x926)]['set'](_0x22c2cc,[!0x1,_0x15a4e9]);for await(const _0x1f0cf0 of async function*(_0x505c33,_0x547ea9=0x0,_0x4c0ae2){for await(const _0x2e7548 of _0x45272b(_0x505c33,_0x547ea9,_0x4c0ae2))yield _0x2e7548;}(_0x134664,_0x3ca1bf,this[_0x195a9a(0x4a0)])){const [_0x297d21]=this['fileSendingMap'][_0x195a9a(0xb07)](_0x22c2cc)??[];if(_0x297d21)return this[_0x195a9a(0x926)][_0x195a9a(0x43a)](_0x22c2cc),void _0x5a11ab(new Error(_0x195a9a(0x7b7)));if(this[_0x195a9a(0x31d)]['has'](_0x22c2cc)){const _0x36dd82=this['pendingFilesTransactions'][_0x195a9a(0xb07)](_0x22c2cc);for(const _0x500d4f of _0x36dd82)if(_0x500d4f[_0x195a9a(0x32a)]===_0x312166[_0x195a9a(0x61f)]||_0x500d4f[_0x195a9a(0x32a)]===_0x312166['Delete'])return;}const _0x4e6046={..._0x49d0bb,'type':_0x134664[_0x195a9a(0x781)],'data':_0x1f0cf0,'index':_0x3ca1bf,'total':_0x538116};this[_0x195a9a(0x8be)](_0x4e6046,_0x298dbb),_0x3ca1bf++;}const _0x3ead00=setInterval(async()=>{const _0x61dcb1=_0x195a9a;await this[_0x61dcb1(0x4a0)]()>0x0||(clearInterval(_0x3ead00),_0x44af7a());});this['fileSendingMap'][_0x195a9a(0x43a)](_0x22c2cc);})()),_0x15a4e9;}async['deletePendingFile'](_0xe42354){const _0x4b0ba4=_0x5f24fc;try{const _0x2c9ae1=_0x5c93cf(_0xe42354[_0x4b0ba4(0xa04)],_0xe42354[_0x4b0ba4(0x696)]),_0x56c231=_0x2c9ae1+_0x3a859d;await this[_0x4b0ba4(0x33c)](_0x56c231);const [,_0x552416]=this['pendingFilesSyncing']['get'](_0xe42354['answererId'])?.[_0x4b0ba4(0xb07)](_0x2c9ae1)??[];_0x552416&&(clearTimeout(_0x552416),this[_0x4b0ba4(0x203)][_0x4b0ba4(0xb07)](_0xe42354[_0x4b0ba4(0xada)])[_0x4b0ba4(0x43a)](_0x2c9ae1));}catch(_0x3338ce){}0x0===this[_0x4b0ba4(0x203)]['get'](_0xe42354[_0x4b0ba4(0xada)])?.[_0x4b0ba4(0x58d)]&&this['pendingFilesSyncing']['delete'](_0xe42354[_0x4b0ba4(0xada)]),0x0===this[_0x4b0ba4(0x203)]['size']&&0x0===this['objectRequests'][_0x4b0ba4(0x58d)]&&this['completeSync']();}async[_0x5f24fc(0x42a)](){const _0x4344a5=_0x5f24fc;try{const _0x25070a=await this[_0x4344a5(0xa55)]['getTransactions'](this[_0x4344a5(0xa85)],this[_0x4344a5(0x682)]);for(const _0x37d617 of _0x25070a)await this[_0x4344a5(0x5e6)](_0x37d617,!0x0);}catch(_0x5244d5){if(_0x5244d5 instanceof _0x4668fc&&_0x5244d5[_0x4344a5(0x3ab)]===_0x4668fc[_0x4344a5(0x85e)]['ObjectStoreInvalidState']){await this[_0x4344a5(0x6be)][_0x4344a5(0x33c)](_0x140718),delete this[_0x4344a5(0x682)];try{const _0x257c2e=await this[_0x4344a5(0x6be)]['list']('/',!0x1);for(const _0x77c7cb of _0x257c2e)await this[_0x4344a5(0x6be)][_0x4344a5(0x33c)](_0x77c7cb['pathName']);}catch(_0x361bb8){}return await this['syncTransactions']();}throw _0x5244d5;}}async[_0x5f24fc(0x990)](){const _0x3e2006=_0x5f24fc,_0x9bb36f=await this[_0x3e2006(0x46f)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x0}),_0x3427d8=async _0x30c927=>{const _0x22d1af=_0x3e2006;for(const _0x1bdc32 of _0x30c927){if(_0x1bdc32[_0x22d1af(0x59d)]===_0x20053a[_0x22d1af(0x9b2)][_0x22d1af(0x7fc)]){_0x1bdc32['entries']&&_0x1bdc32['entries'][_0x22d1af(0x9a6)]>0x0&&await _0x3427d8(_0x1bdc32[_0x22d1af(0x8f3)]);continue;}if(_0x1bdc32[_0x22d1af(0x524)]!==_0x20053a[_0x22d1af(0x8aa)][_0x22d1af(0x503)])continue;const _0x558e85=await this[_0x22d1af(0xb07)](_0x1bdc32['pathName']+_0x3a859d),_0x494e69=JSON[_0x22d1af(0x57d)](await _0x558e85[_0x22d1af(0xace)]()),_0x18e2d3=_0x1bdc32['name'][_0x22d1af(0x49d)](_0x3a859d,''),_0x2acf65={'payloadType':_0x8b70b9[_0x22d1af(0x5bf)],'action':_0x312166[_0x22d1af(0x7b5)],'sourceId':this[_0x22d1af(0x8ad)]['getId'](),'type':'','path':_0x1bdc32[_0x22d1af(0xa04)],'name':_0x18e2d3,'checksum':_0x494e69['checksum'],'skipEncryption':_0x494e69[_0x22d1af(0xa93)]},_0x558bea=_0x5c93cf(_0x1bdc32[_0x22d1af(0xa04)],_0x18e2d3);this[_0x22d1af(0xac4)][_0x22d1af(0x338)](_0x558bea,_0x2acf65);}};await _0x3427d8(_0x9bb36f),0x0===this[_0x3e2006(0xac4)][_0x3e2006(0x58d)]&&0x0===this[_0x3e2006(0x203)][_0x3e2006(0x58d)]&&this[_0x3e2006(0x9db)]();}async[_0x5f24fc(0x505)](_0x3a3243,_0x229084,_0x1338d9){const _0x2e1b72=_0x5f24fc,_0xe4a989=new File([new Blob([JSON[_0x2e1b72(0x36f)](_0x1338d9)])],''+_0x3a3243+_0x3a859d,{'type':_0x2e1b72(0x6c2)});await this[_0x2e1b72(0x706)](_0xe4a989,_0x229084);}async[_0x5f24fc(0x9da)](_0x1b8ecc,_0x1bfef8,_0x5ab8f2){const _0xab5092=_0x5f24fc;try{const _0x4809e0=_0x5c93cf(_0x1bfef8,_0x1b8ecc),_0x56c395=_0x4809e0+_0x3a859d,_0x526891=await this[_0xab5092(0x6be)][_0xab5092(0xb07)](_0x56c395),{checksum:_0x5809e5,skipEncryption:_0x20ed19}=JSON[_0xab5092(0x57d)](await _0x526891['text']()),_0x3c80b3=(await this[_0xab5092(0x6be)][_0xab5092(0xb07)](_0x4809e0,{'skipEncryption':_0x20ed19}))[_0xab5092(0x58d)];return _0x5809e5===_0x5ab8f2&&_0x3c80b3%_0x5d29a2==0x0?[!0x0,Math[_0xab5092(0x80b)](_0x3c80b3/_0x5d29a2)]:(await this[_0xab5092(0x6be)][_0xab5092(0x33c)](_0x4809e0),[!0x1,0x0]);}catch(_0x4ec128){return[!0x1,0x0];}}[_0x5f24fc(0x82e)](_0x3f6877,_0x498f8c){const _0x4dd947=_0x5f24fc,[_0x52709d,_0x65c08c]=this['pendingFilesSyncing']['get'](_0x3f6877)?.[_0x4dd947(0xb07)](_0x498f8c)??[];return _0x65c08c&&clearTimeout(_0x65c08c),setTimeout(()=>{const _0x3b8f8c=_0x4dd947,[_0x4f9e2a,_0x58795f]=this[_0x3b8f8c(0x203)][_0x3b8f8c(0xb07)](_0x3f6877)[_0x3b8f8c(0xb07)](_0x498f8c);this[_0x3b8f8c(0x909)](_0x4f9e2a,_0x58795f);},0x927c0);}async[_0x5f24fc(0x909)](_0x5cc762,_0x2ccae8){const _0xa1246d=_0x5f24fc;clearTimeout(_0x2ccae8),_0x5cc762[_0xa1246d(0x32a)]=_0x312166[_0xa1246d(0x7b5)],this['objectRequests']['set'](_0x5c93cf(_0x5cc762[_0xa1246d(0xa04)],_0x5cc762[_0xa1246d(0x696)]),_0x5cc762),this['send'](_0x5cc762);}[_0x5f24fc(0x538)](_0x2d8ec5,_0x46d86e){const _0x5e80e4=_0x5f24fc;if(!this[_0x5e80e4(0x777)])return;this[_0x5e80e4(0x203)][_0x5e80e4(0x4cb)](_0x2d8ec5[_0x5e80e4(0xada)])||this[_0x5e80e4(0x203)][_0x5e80e4(0x338)](_0x2d8ec5[_0x5e80e4(0xada)],new Map());const [_0x3a37ce]=this[_0x5e80e4(0x203)][_0x5e80e4(0xb07)](_0x2d8ec5[_0x5e80e4(0xada)])['get'](_0x46d86e)??[{'payloadType':_0x8b70b9[_0x5e80e4(0x5bf)],'action':_0x312166[_0x5e80e4(0x7b5)],'sourceId':this[_0x5e80e4(0x8ad)]['getId'](),'type':_0x2d8ec5[_0x5e80e4(0x781)],'name':_0x2d8ec5[_0x5e80e4(0x696)],'path':_0x2d8ec5[_0x5e80e4(0xa04)],'skipEncryption':_0x2d8ec5[_0x5e80e4(0xa93)],'checksum':_0x2d8ec5[_0x5e80e4(0x62e)],'answererId':_0x2d8ec5[_0x5e80e4(0xada)]}];this['pendingFilesSyncing'][_0x5e80e4(0xb07)](_0x2d8ec5[_0x5e80e4(0xada)])['set'](_0x46d86e,[_0x3a37ce,this['getOrResetPendingFileTimeout'](_0x2d8ec5[_0x5e80e4(0xada)],_0x46d86e)]);}async['writeFile'](_0x469bfe,_0x1b4404,_0x1388e1){const _0x3420fc=_0x5f24fc;this[_0x3420fc(0x882)]&&(this['filesSynced']+=0x1),await this['objectStoreConnector'][_0x3420fc(0x706)](_0x469bfe,_0x1b4404,_0x1388e1);}async[_0x5f24fc(0x33c)](_0x3eb2a5){const _0x492b68=_0x5f24fc;try{const _0xdb1c73=await this[_0x492b68(0x6be)][_0x492b68(0x33c)](_0x3eb2a5);if(!_0x3eb2a5[_0x492b68(0x40f)](_0x3a859d))try{await this['objectStoreConnector'][_0x492b68(0x33c)](_0x3eb2a5+_0x3a859d);}catch(_0x26216d){}return this[_0x492b68(0x882)]&&_0xdb1c73===_0x20053a['ObjectKind'][_0x492b68(0x308)]&&(this[_0x492b68(0x28d)]+=0x1),_0xdb1c73;}catch(_0x550b38){return await this[_0x492b68(0x6be)][_0x492b68(0x33c)](_0x3eb2a5+_0x3a859d);}}async['moveObject'](_0x40f3e1,_0x3867fe){const _0x1a4d8b=_0x5f24fc;try{const _0x4a6569=await this[_0x1a4d8b(0x6be)][_0x1a4d8b(0x862)](_0x40f3e1,_0x3867fe);if(!_0x40f3e1[_0x1a4d8b(0x40f)](_0x3a859d))try{await this[_0x1a4d8b(0x6be)][_0x1a4d8b(0x862)](_0x40f3e1+_0x3a859d,_0x3867fe+_0x3a859d);}catch(_0x35a28a){}return _0x4a6569;}catch(_0x19f3d2){return await this[_0x1a4d8b(0x6be)][_0x1a4d8b(0x862)](_0x40f3e1+_0x3a859d,_0x3867fe+_0x3a859d);}}[_0x5f24fc(0x53c)](){const _0x45e7bd=_0x5f24fc;this['debounceStats']&&clearTimeout(this[_0x45e7bd(0x8da)]),this[_0x45e7bd(0x8da)]=setTimeout(async()=>{const _0xd237c8=_0x45e7bd;delete this['debounceStats'];const _0x189eb5=await this[_0xd237c8(0x6be)][_0xd237c8(0x687)]('/');this[_0xd237c8(0x541)]?.[_0xd237c8(0x803)]({'sourceId':_0x7cf9e6,'messageType':_0x31112d[_0xd237c8(0x209)],'content':{'type':_0x21c730[_0xd237c8(0x531)],'label':this[_0xd237c8(0xa85)],'stats':{'timestamp':Date[_0xd237c8(0x2c1)](),'storage':_0x189eb5,'messagesSent':this[_0xd237c8(0x365)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0xd237c8(0x688)],'bytesReceived':this[_0xd237c8(0x940)],'writes':this[_0xd237c8(0x508)],'reads':this[_0xd237c8(0x2e4)],'prompts':0x0,'tokens':0x0}}}),this[_0xd237c8(0x777)]&&_0x40d481[_0xd237c8(0x201)](_0x267c89['ObjectStorage'],_0xd237c8(0xa33)+this[_0xd237c8(0x412)]+_0xd237c8(0xa33)+this[_0xd237c8(0xa85)],_0x189eb5);},_0x4a5b22);}async[_0x5f24fc(0x561)](_0x1dfbcf){const _0x19e871=_0x5f24fc;try{return await this[_0x19e871(0xb07)](_0x1dfbcf),!0x0;}catch(_0x11cc02){return!0x1;}}async[_0x5f24fc(0x6a6)](_0x5b8090){const _0x2c9d25=_0x5f24fc;if(!this[_0x2c9d25(0x69c)][_0x2c9d25(0x4cb)](_0x5b8090))return;const _0x4dc0a6=this[_0x2c9d25(0x69c)][_0x2c9d25(0xb07)](_0x5b8090);if(_0x4dc0a6[_0x2c9d25(0x265)])try{await _0x4dc0a6[_0x2c9d25(0x265)][_0x2c9d25(0x7ef)]();}catch(_0x5edba3){console[_0x2c9d25(0x4d2)](_0x2c9d25(0x64d),_0x5edba3);}this['fileChunks'][_0x2c9d25(0x43a)](_0x5b8090);}}class _0x310cff extends _0x303f2a{[_0x5f24fc(0x8ad)];[_0x5f24fc(0x412)];['unsubscribeHandler']=new Map();[_0x5f24fc(0x8da)];constructor(_0x2a2ad9,_0x8a1d5e,_0x4205a9){const _0x1642cb=_0x5f24fc;if(_0x1642cb(0x57a)!=typeof _0x8a1d5e)throw new _0x55ecf3(_0x2efe49[_0x1642cb(0x569)],_0x1642cb(0x616));super(_0x2a2ad9,_0x8a1d5e),this[_0x1642cb(0x8ad)]=_0x2a2ad9,this[_0x1642cb(0x412)]=_0x4205a9,this[_0x1642cb(0x53c)]();}['reset'](){const _0x418bea=_0x5f24fc;this[_0x418bea(0x53c)]();}[_0x5f24fc(0xadb)](){const _0x1c9973=_0x5f24fc;return _0x20053a[_0x1c9973(0x552)][_0x1c9973(0x534)];}[_0x5f24fc(0x803)](_0x1c5eb6,_0x2464ae){const _0x43e350=_0x5f24fc;_0x40d481[_0x43e350(0x60e)](_0xb10df['PubSub'],_0x43e350(0x949),this[_0x43e350(0x8ad)][_0x43e350(0x6e8)](),_0x1c5eb6,_0x2464ae),_0x40d481[_0x43e350(0xade)](_0x267c89['PubSub'],{'type':_0x43e350(0x803),'label':this[_0x43e350(0xa85)],'nodeId':this['localNode'][_0x43e350(0x6e8)](),'nodeType':this[_0x43e350(0x8ad)][_0x43e350(0x781)],'clusterId':this[_0x43e350(0x412)],'remoteIds':_0x2464ae??[],'contentType':_0x1c5eb6 instanceof File?_0x20053a[_0x43e350(0x552)][_0x43e350(0x308)]:_0x20053a[_0x43e350(0x552)][_0x43e350(0xa11)],'size':_0x1c5eb6 instanceof File?_0x1c5eb6[_0x43e350(0x58d)]:JSON[_0x43e350(0x36f)](_0x1c5eb6)['length']}),this[_0x43e350(0x53c)](),this[_0x43e350(0x8be)](_0x1c5eb6,_0x2464ae);}[_0x5f24fc(0x6f8)](_0x44ce90,_0x142196){const _0x153a69=_0x5f24fc;if(this[_0x153a69(0x892)][_0x153a69(0x4cb)](_0x44ce90))throw new _0x55ecf3(_0x2efe49[_0x153a69(0x704)],'Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed');this[_0x153a69(0x892)][_0x153a69(0x338)](_0x44ce90,this[_0x153a69(0x227)]((_0x57af1a,_0x437035)=>{const _0x30bacd=_0x153a69;'data'===_0x44ce90&&_0x437035 instanceof File||!(_0x30bacd(0x604)!==_0x44ce90||_0x437035 instanceof File)||(_0x40d481[_0x30bacd(0x60e)](_0xb10df['PubSub'],_0x30bacd(0x7d9),this[_0x30bacd(0x8ad)][_0x30bacd(0x6e8)](),_0x57af1a,_0x437035),_0x40d481[_0x30bacd(0xade)](_0x267c89[_0x30bacd(0x534)],{'type':'subscribe','label':this[_0x30bacd(0xa85)],'nodeId':this[_0x30bacd(0x8ad)][_0x30bacd(0x6e8)](),'nodeType':this[_0x30bacd(0x8ad)][_0x30bacd(0x781)],'clusterId':this[_0x30bacd(0x412)],'remoteId':_0x57af1a,'contentType':_0x44ce90,'size':_0x437035 instanceof File?_0x437035[_0x30bacd(0x58d)]:JSON[_0x30bacd(0x36f)](_0x437035)[_0x30bacd(0x9a6)]}),this[_0x30bacd(0x53c)](),_0x142196(_0x57af1a,_0x437035));}));}[_0x5f24fc(0xac2)](_0x176aca){const _0x1cda5f=_0x5f24fc;this[_0x1cda5f(0x892)][_0x1cda5f(0xb07)](_0x176aca)?.(),this['unsubscribeHandler'][_0x1cda5f(0x43a)](_0x176aca);}[_0x5f24fc(0x8fd)](){const _0x46f50f=_0x5f24fc;this[_0x46f50f(0x892)][_0x46f50f(0xac8)](_0x4a33ad=>_0x4a33ad()),clearTimeout(this[_0x46f50f(0x8da)]),delete this[_0x46f50f(0x8da)],super[_0x46f50f(0x8fd)]();}[_0x5f24fc(0x7ef)](){const _0x47aa75=_0x5f24fc;this[_0x47aa75(0x541)]?.['publish']({'sourceId':_0x7cf9e6,'messageType':_0x31112d['Content'],'content':{'type':_0x21c730[_0x47aa75(0x416)],'label':this[_0x47aa75(0xa85)]}});}[_0x5f24fc(0x53c)](){const _0x1c95b8=_0x5f24fc;this[_0x1c95b8(0x8da)]&&clearTimeout(this[_0x1c95b8(0x8da)]),this[_0x1c95b8(0x8da)]=setTimeout(()=>{const _0x2f0369=_0x1c95b8;this[_0x2f0369(0x541)]?.[_0x2f0369(0x803)]({'sourceId':_0x7cf9e6,'messageType':_0x31112d['Content'],'content':{'type':_0x21c730[_0x2f0369(0x8e2)],'label':this[_0x2f0369(0xa85)],'stats':{'timestamp':Date['now'](),'storage':0x0,'messagesSent':this[_0x2f0369(0x365)],'messagesReceived':this[_0x2f0369(0x546)],'bytesSent':this[_0x2f0369(0x688)],'bytesReceived':this[_0x2f0369(0x940)],'writes':0x0,'reads':0x0,'prompts':0x0,'tokens':0x0}}});},_0x4a5b22);}}class _0x31c3be extends _0x4d1cc2{[_0x5f24fc(0x8ad)];['internalId'];[_0x5f24fc(0x7f1)];[_0x5f24fc(0x412)];[_0x5f24fc(0x892)];['resizeHandler'];[_0x5f24fc(0x442)];[_0x5f24fc(0x722)]=new Map();[_0x5f24fc(0x4f2)];[_0x5f24fc(0x5ec)]=new Set();['providerId'];[_0x5f24fc(0x6ac)]=_0x449c97();['trackEndedListeners']=new Map();constructor(_0x5d2fe2,_0x22ced0,_0x3b89e2,_0x58375c,_0x186fc5,_0x32c55f){const _0x1e5733=_0x5f24fc;super(_0x22ced0,_0x3b89e2,new MediaStream()),this[_0x1e5733(0x8ad)]=_0x5d2fe2,this[_0x1e5733(0x784)]=_0x58375c,this['availableTrackKinds']=_0x186fc5,this[_0x1e5733(0x412)]=_0x32c55f,this[_0x1e5733(0x3e1)]['getTracks']()[_0x1e5733(0xac8)](_0xc50786=>this[_0x1e5733(0x46b)](_0xc50786));}[_0x5f24fc(0x8fd)](){const _0x5169ca=_0x5f24fc;this[_0x5169ca(0x722)][_0x5169ca(0x58d)]>0x0&&(this[_0x5169ca(0x722)][_0x5169ca(0xac8)](_0x3c5644=>{const _0x2ea649=_0x5169ca;_0x3c5644['unregisterSystemPublisher'](),_0x3c5644[_0x2ea649(0x8fd)]();}),this[_0x5169ca(0x722)][_0x5169ca(0x567)]()),this[_0x5169ca(0x898)]['forEach'](_0x2ce44d=>_0x2ce44d()),this[_0x5169ca(0x3e1)][_0x5169ca(0x393)]()['forEach'](_0x4a0689=>this[_0x5169ca(0x3e1)]['removeTrack'](_0x4a0689)),this['updateDebounce']&&(clearTimeout(this[_0x5169ca(0x442)]),delete this[_0x5169ca(0x442)]),this[_0x5169ca(0x9a5)]?.(),super[_0x5169ca(0x8fd)]();}[_0x5f24fc(0x4c6)](_0x536330){const _0xe74784=_0x5f24fc;this[_0xe74784(0x892)]=_0x536330[_0xe74784(0x6f8)](({content:_0x5c5094})=>{const _0x5635d5=_0xe74784;switch(_0x5c5094[_0x5635d5(0x32a)]){case _0x571dd0[_0x5635d5(0xab9)]:if(_0x40d481['log'](_0xb10df[_0x5635d5(0x63c)],_0x5635d5(0x6fd),this['localNode'][_0x5635d5(0x6e8)](),this[_0x5635d5(0x773)]),_0x5c5094['stream']['id']!==this['internalId']||_0x5c5094[_0x5635d5(0x773)]!==this['providerId'])return;this['removeTrack'](_0x5c5094[_0x5635d5(0x397)]['kind']),this['mediaStream'][_0x5635d5(0x55e)](_0x5c5094[_0x5635d5(0x397)]);for(const [_0x2aa2af,_0x4dec99]of this['outgoingStreams'][_0x5635d5(0x8f3)]())try{_0x4dec99[_0x5635d5(0x55e)](_0x5c5094[_0x5635d5(0x397)]);}catch(_0x477bb8){_0x4dec99[_0x5635d5(0x8fd)](),this[_0x5635d5(0x722)]['delete'](_0x2aa2af);}this[_0x5635d5(0x46b)](_0x5c5094['track']),this[_0x5635d5(0x731)](),'video'===_0x5c5094[_0x5635d5(0x397)][_0x5635d5(0x59d)]&&this[_0x5635d5(0x4f2)]&&(this[_0x5635d5(0x3e1)][_0x5635d5(0x9eb)]?setTimeout(()=>this['renderElement']?.[_0x5635d5(0xa01)](),0x0):setTimeout(()=>this[_0x5635d5(0x4f2)]?.[_0x5635d5(0x5a7)](),0x0),this[_0x5635d5(0xaa2)]());break;case _0x571dd0[_0x5635d5(0xae3)]:if(_0x5c5094[_0x5635d5(0x265)]['id']!==this['internalId']||_0x5c5094[_0x5635d5(0x773)]!==this[_0x5635d5(0x773)])return;this['removeTrack'](_0x5c5094[_0x5635d5(0x397)][_0x5635d5(0x59d)]),this[_0x5635d5(0x4f2)]&&'video'===_0x5c5094[_0x5635d5(0x397)][_0x5635d5(0x59d)]&&(this['resizeHandler']?.(),this['mediaStream']['getTracks']()[_0x5635d5(0x9a6)]>0x0?this['renderElement'][_0x5635d5(0x5a7)]():this['renderElement'][_0x5635d5(0x66d)]=null);}});}[_0x5f24fc(0x2c6)](){const _0x267025=_0x5f24fc;this[_0x267025(0x892)]?.(),this[_0x267025(0x898)]['forEach'](_0x17fa09=>_0x17fa09()),delete this[_0x267025(0x892)];}['getInternalStreamId'](){const _0x1ae466=_0x5f24fc;return this[_0x1ae466(0x784)];}[_0x5f24fc(0x7ec)](_0x364324){const _0xd14e9c=_0x5f24fc;this[_0xd14e9c(0x784)]=_0x364324;}['getAvailableTrackKinds'](){const _0x49c5a1=_0x5f24fc;return this[_0x49c5a1(0x7f1)];}[_0x5f24fc(0x388)](_0x56894a){const _0x3c0cd4=_0x5f24fc;for(const _0x20ae07 of _0x56894a||this[_0x3c0cd4(0x7f1)])if(!this[_0x3c0cd4(0x3e1)]['getTracks']()[_0x3c0cd4(0x260)](_0x4cc4a0=>_0x4cc4a0['kind']===_0x20ae07))return!0x1;return!0x0;}[_0x5f24fc(0xaed)](){const _0x197334=_0x5f24fc;let _0x4a890a={'width':0x0,'height':0x0};const _0x2b9c48=this[_0x197334(0x3e1)][_0x197334(0x721)]();if(_0x2b9c48[_0x197334(0x9a6)]>0x0){const _0x4a603e=_0x2b9c48[0x0]['getSettings']();_0x4a603e[_0x197334(0x58b)]&&_0x4a603e['height']&&(_0x4a890a={'width':_0x4a603e[_0x197334(0x58b)],'height':_0x4a603e[_0x197334(0x867)]});}return _0x4a890a;}[_0x5f24fc(0x900)](_0x92a0ba){const _0x31ca86=_0x5f24fc;for(const _0x280fd1 of _0x92a0ba)if(!this['subscribedTracks'][_0x31ca86(0x4cb)](_0x280fd1))return!0x1;return!0x0;}[_0x5f24fc(0x576)](_0x54ddb9,_0x4b409a){const _0x485ac0=_0x5f24fc;if(!this['outgoingStreams'][_0x485ac0(0x4cb)](_0x54ddb9)){const _0x3ec249=new _0x296b65(this[_0x485ac0(0x8d7)],this[_0x485ac0(0xa85)],this[_0x485ac0(0x3e1)],_0x54ddb9,_0x4b409a),_0x10feaf=_0x3ec249[_0x485ac0(0x303)](()=>{const _0x189935=_0x485ac0;_0x10feaf(),this[_0x189935(0x722)][_0x189935(0xb07)](_0x54ddb9)?.[_0x189935(0x8fd)](),this['outgoingStreams'][_0x189935(0x43a)](_0x54ddb9);});this[_0x485ac0(0x722)][_0x485ac0(0x338)](_0x54ddb9,_0x3ec249),_0x3ec249['registerSystemPublisher'](this[_0x485ac0(0x541)]);}return this[_0x485ac0(0x722)]['get'](_0x54ddb9);}['getShareableStreamId'](){const _0x261ef7=_0x5f24fc;return this[_0x261ef7(0x3e1)]['id'];}['getPriority'](){const _0x357242=_0x5f24fc;return _0x20053a['MediaStreamPriority'][_0x357242(0x2a5)];}['getSubscribedTracks'](){return Array['from'](this['subscribedTracks']);}[_0x5f24fc(0x6f8)](_0x1f22ee){const _0x286ab6=_0x5f24fc;let _0x5c223c=[];if(_0x1f22ee){'object'!=typeof _0x1f22ee[_0x286ab6(0x829)]||_0x1f22ee[_0x286ab6(0x829)][_0x286ab6(0x4f2)]instanceof HTMLVideoElement||!this[_0x286ab6(0x4f2)]||(_0x1f22ee['video']={'renderElement':this[_0x286ab6(0x4f2)]});try{(0x0,_0x20053a[_0x286ab6(0x91c)])(_0x1f22ee);}catch(_0xc570a8){throw new _0x55ecf3(_0x2efe49['RemoteMediaStreamInvalidSubscriptionParams'],'Invalid\x20params');}_0x1f22ee[_0x286ab6(0x829)]&&(_0x5c223c[_0x286ab6(0x96d)]('video'),'boolean'!=typeof _0x1f22ee['video']&&_0x1f22ee[_0x286ab6(0x829)][_0x286ab6(0x4f2)]&&(this[_0x286ab6(0x4f2)]=_0x1f22ee[_0x286ab6(0x829)][_0x286ab6(0x4f2)],_0x1f22ee[_0x286ab6(0x829)]['maxResolution']||(_0x1f22ee[_0x286ab6(0x829)]['maxResolution']={'width':this['renderElement'][_0x286ab6(0xb39)],'height':this[_0x286ab6(0x4f2)][_0x286ab6(0x52e)]}),delete _0x1f22ee[_0x286ab6(0x829)]['renderElement'])),_0x1f22ee[_0x286ab6(0x214)]&&_0x5c223c['push'](_0x286ab6(0x214));}else _0x5c223c=this['getAvailableTrackKinds']();this[_0x286ab6(0x900)](_0x5c223c)||(_0x5c223c[_0x286ab6(0xac8)](_0x5990a2=>this[_0x286ab6(0x5ec)][_0x286ab6(0x859)](_0x5990a2)),this[_0x286ab6(0x541)]['publish']({'sourceId':_0x7cf9e6,'messageType':_0x31112d['Content'],'content':{'type':_0x21c730[_0x286ab6(0x390)],'label':this[_0x286ab6(0xa85)],'ownerId':this[_0x286ab6(0x8d7)][_0x286ab6(0x6e8)](),'trackKinds':_0x5c223c,'params':_0x1f22ee}}),_0x40d481[_0x286ab6(0xade)](_0x267c89['MediaStream'],{'type':'subscribe','label':this[_0x286ab6(0xa85)],'nodeId':this[_0x286ab6(0x8ad)][_0x286ab6(0x6e8)](),'nodeType':this['localNode'][_0x286ab6(0x781)],'clusterId':this[_0x286ab6(0x412)],'sourceId':this['owner'][_0x286ab6(0x6e8)](),'streamId':this[_0x286ab6(0x784)],'trackKinds':_0x5c223c}));}['update'](_0x3ae48d){const _0x4be566=_0x5f24fc;try{(0x0,_0x20053a[_0x4be566(0x91c)])(_0x3ae48d);}catch(_0x4dd714){throw new _0x55ecf3(_0x2efe49['RemoteMediaStreamInvalidSubscriptionParams'],_0x4be566(0x4af));}this['updateDebounce']&&clearTimeout(this['updateDebounce']),this[_0x4be566(0x442)]=setTimeout(()=>{const _0x4e7023=_0x4be566;delete this[_0x4e7023(0x442)],this['systemTopic'][_0x4e7023(0x803)]({'sourceId':_0x7cf9e6,'messageType':_0x31112d[_0x4e7023(0x209)],'content':{'type':_0x21c730[_0x4e7023(0x3e3)],'label':this[_0x4e7023(0xa85)],'ownerId':this[_0x4e7023(0x8d7)][_0x4e7023(0x6e8)](),'params':_0x3ae48d}});},0x1f4);}[_0x5f24fc(0xac2)](_0x214a57){const _0x1d2c14=_0x5f24fc;_0x214a57||(_0x214a57=this['getAvailableTrackKinds']()),(_0x214a57=Array[_0x1d2c14(0x2f1)](_0x214a57)?_0x214a57:[_0x214a57])['forEach'](_0x31833b=>this[_0x1d2c14(0x5ec)][_0x1d2c14(0x43a)](_0x31833b)),this[_0x1d2c14(0x541)]['publish']({'sourceId':_0x7cf9e6,'messageType':_0x31112d[_0x1d2c14(0x209)],'content':{'type':_0x21c730[_0x1d2c14(0x9fe)],'label':this[_0x1d2c14(0xa85)],'ownerId':this['owner'][_0x1d2c14(0x6e8)](),'trackKinds':_0x214a57,'remainingTracks':this[_0x1d2c14(0x5ec)][_0x1d2c14(0x58d)]}});}[_0x5f24fc(0x288)](_0x13ece8){const _0x4e4f19=_0x5f24fc;return this['providerListener'][_0x4e4f19(0x6f8)](_0x13ece8);}[_0x5f24fc(0x785)](){return this['providerId'];}[_0x5f24fc(0x8ee)](_0x10edd2){const _0x11f278=_0x5f24fc;this[_0x11f278(0x773)]!==_0x10edd2&&(this[_0x11f278(0x773)]=_0x10edd2,this['providerListener']['publish'](_0x10edd2));}[_0x5f24fc(0x845)](_0x2c7438){const _0x46b2f3=_0x5f24fc;this[_0x46b2f3(0x898)]['get'](_0x2c7438)?.(),this[_0x46b2f3(0x898)][_0x46b2f3(0x43a)](_0x2c7438);}[_0x5f24fc(0xa94)](_0x39d86f){const _0x10d5ac=_0x5f24fc,_0x596177=this[_0x10d5ac(0x3e1)][_0x10d5ac(0x393)]()['find'](_0x5d8fc2=>_0x5d8fc2[_0x10d5ac(0x59d)]===_0x39d86f);_0x596177&&(this[_0x10d5ac(0x3e1)][_0x10d5ac(0xa94)](_0x596177),this['outgoingStreams'][_0x10d5ac(0xac8)](_0x352c74=>_0x352c74[_0x10d5ac(0xa94)](_0x39d86f)),this[_0x10d5ac(0x898)]['get'](_0x39d86f)?.());}[_0x5f24fc(0x731)](){const _0x2accbd=_0x5f24fc;this['renderElement']&&(this[_0x2accbd(0x4f2)][_0x2accbd(0x66d)]&&this['renderElement'][_0x2accbd(0x66d)]===this['mediaStream']||(this[_0x2accbd(0x4f2)][_0x2accbd(0x66d)]=this['mediaStream']));}[_0x5f24fc(0xaa2)](){const _0x2aeeb6=_0x5f24fc;if(this[_0x2aeeb6(0x4f2)]&&!this['resizeHandler']&&_0x2aeeb6(0x474)!=typeof ResizeObserver){let _0x24928d=this['renderElement'][_0x2aeeb6(0xb39)],_0x45577f=this['renderElement']['clientHeight'];const _0x31d12d=new ResizeObserver(_0x4b4d4f=>{const _0x2d5599=_0x2aeeb6,{width:_0x481dfc,height:_0x4f1d4a}=_0x4b4d4f[0x0]['contentRect'];_0x24928d===_0x481dfc&&_0x45577f===_0x4f1d4a||(_0x24928d=Math[_0x2d5599(0x748)](_0x481dfc),_0x45577f=Math[_0x2d5599(0x748)](_0x4f1d4a),this[_0x2d5599(0x220)]({'video':{'maxResolution':{'width':_0x481dfc,'height':_0x4f1d4a}}}));});_0x31d12d[_0x2aeeb6(0x809)](this[_0x2aeeb6(0x4f2)]),this[_0x2aeeb6(0x9a5)]=()=>_0x31d12d[_0x2aeeb6(0x4ec)]();}}['handleRemoteTrackFailure'](_0x115ffd){const _0x2d1ab4=_0x5f24fc,_0x3c5fa6=[];for(const _0xff21ea of this[_0x2d1ab4(0x5ec)])this[_0x2d1ab4(0xa94)](_0xff21ea),_0x3c5fa6[_0x2d1ab4(0x96d)](_0xff21ea);this['providerId']&&this[_0x2d1ab4(0x541)][_0x2d1ab4(0x803)]({'sourceId':_0x7cf9e6,'messageType':_0x31112d[_0x2d1ab4(0x209)],'content':{'type':_0x21c730['RemoteMediaStreamTrackFail'],'label':this['label'],'streamId':this[_0x2d1ab4(0x784)],'ownerId':this['owner'][_0x2d1ab4(0x6e8)](),'providerId':this[_0x2d1ab4(0x773)],'trackKinds':_0x3c5fa6}});}[_0x5f24fc(0x46b)](_0x28b4eb){const _0x1bfaf5=_0x5f24fc,_0x459111=()=>this[_0x1bfaf5(0x822)](_0x28b4eb);_0x28b4eb[_0x1bfaf5(0x6f5)](_0x1bfaf5(0x6ce),_0x459111),_0x28b4eb[_0x1bfaf5(0x6f5)](_0x1bfaf5(0x3ee),_0x459111),this[_0x1bfaf5(0x898)][_0x1bfaf5(0x338)](_0x28b4eb[_0x1bfaf5(0x59d)],()=>{const _0x17e01c=_0x1bfaf5;_0x28b4eb[_0x17e01c(0x34a)](_0x17e01c(0x6ce),_0x459111),_0x28b4eb['removeEventListener'](_0x17e01c(0x3ee),_0x459111),this['trackEndedListeners']['delete'](_0x28b4eb[_0x17e01c(0x59d)]);});}}class _0x362251 extends _0x303f2a{['localNode'];[_0x5f24fc(0x412)];[_0x5f24fc(0x240)];['db'];[_0x5f24fc(0x8da)];[_0x5f24fc(0x508)]=0x0;[_0x5f24fc(0x2e4)]=0x0;[_0x5f24fc(0x469)]=!0x1;constructor(_0x1a1718,_0x161bb7,_0x20c3b3,_0x57b8da,_0x3718af){const _0x4911fb=_0x5f24fc;if('string'!=typeof _0x161bb7)throw new _0x55ecf3(_0x2efe49[_0x4911fb(0x635)],_0x4911fb(0x1f2));super(_0x1a1718,_0x161bb7),this['localNode']=_0x1a1718,this[_0x4911fb(0x412)]=_0x20c3b3,this[_0x4911fb(0x240)]=_0x57b8da;const _0x11f45f='ccc'+this[_0x4911fb(0x240)]+_0x4911fb(0xa33)+this[_0x4911fb(0x412)]+_0x4911fb(0xa33)+this[_0x4911fb(0xa85)];this['db']=new _0x3718af(_0x11f45f),this[_0x4911fb(0x53c)]();}['getIsLoaded'](){const _0x5025a1=_0x5f24fc;return this[_0x5025a1(0x469)];}[_0x5f24fc(0x6b9)](_0x4f1767){const _0xe0e176=_0x5f24fc;this[_0xe0e176(0x469)]=_0x4f1767;}['destroy'](){const _0x1caa6d=_0x5f24fc;clearTimeout(this[_0x1caa6d(0x8da)]),delete this['debounceStats'],super[_0x1caa6d(0x8fd)]();}[_0x5f24fc(0x7ef)](){const _0x35101e=_0x5f24fc;this[_0x35101e(0x541)][_0x35101e(0x803)]({'sourceId':_0x7cf9e6,'messageType':_0x31112d[_0x35101e(0x209)],'content':{'type':_0x21c730[_0x35101e(0x920)],'label':this[_0x35101e(0xa85)]}});}[_0x5f24fc(0x6d5)](){const _0x1baca8=_0x5f24fc;this[_0x1baca8(0x53c)]();}[_0x5f24fc(0xadb)](){const _0x48ccd5=_0x5f24fc;return _0x20053a[_0x48ccd5(0x552)]['VectorDatabase'];}[_0x5f24fc(0x71f)](_0x51577e,_0xa18457,_0x1bb803,_0x1b6a4b,_0x30a19a){const _0x27ad9f=_0x5f24fc,_0x27d0a8=this['db'][_0x27ad9f(0x71f)](_0x51577e,_0xa18457,_0x1bb803,_0x1b6a4b,_0x30a19a);return this[_0x27ad9f(0x2e4)]+=0x1,_0x40d481[_0x27ad9f(0xade)](_0x267c89[_0x27ad9f(0x89f)],{'type':_0x27ad9f(0x71f),'label':this[_0x27ad9f(0xa85)],'nodeId':this[_0x27ad9f(0x8ad)][_0x27ad9f(0x6e8)](),'nodeType':this[_0x27ad9f(0x8ad)][_0x27ad9f(0x781)],'clusterId':this[_0x27ad9f(0x412)],'size':0x0}),this[_0x27ad9f(0x53c)](),_0x27d0a8;}[_0x5f24fc(0x8c5)](_0x51ddb6,_0x1f4765,_0x5700af,_0x1630a8){const _0x561364=_0x5f24fc;this['db'][_0x561364(0x8c5)](_0x51ddb6,_0x1f4765,_0x5700af,_0x1630a8),this['writes']+=0x1,_0x40d481[_0x561364(0xade)](_0x267c89[_0x561364(0x89f)],{'type':_0x561364(0x8c5),'label':this['label'],'nodeId':this[_0x561364(0x8ad)][_0x561364(0x6e8)](),'nodeType':this[_0x561364(0x8ad)][_0x561364(0x781)],'clusterId':this[_0x561364(0x412)],'size':_0x1630a8[_0x561364(0x3a3)]((_0x23a97d,_0x94e6b6)=>_0x23a97d+_0x94e6b6[_0x561364(0x9a6)],0x0)}),this[_0x561364(0x53c)]();}['remove'](_0x4a60f6){const _0x41b95e=_0x5f24fc;this['db'][_0x41b95e(0x20d)](_0x4a60f6),this[_0x41b95e(0x508)]+=0x1,_0x40d481['logServiceEvent'](_0x267c89[_0x41b95e(0x89f)],{'type':_0x41b95e(0x20d),'label':this[_0x41b95e(0xa85)],'nodeId':this[_0x41b95e(0x8ad)][_0x41b95e(0x6e8)](),'nodeType':this[_0x41b95e(0x8ad)][_0x41b95e(0x781)],'clusterId':this[_0x41b95e(0x412)],'size':0x0}),this[_0x41b95e(0x53c)]();}[_0x5f24fc(0x899)](_0x31f1be){this['db']['saveToDisk'](_0x31f1be);}[_0x5f24fc(0x380)](_0x37bfcc){const _0x4cddb0=_0x5f24fc;this['db'][_0x4cddb0(0x380)](_0x37bfcc);}[_0x5f24fc(0x53c)](){const _0x30c0e8=_0x5f24fc;this[_0x30c0e8(0x8da)]&&clearTimeout(this[_0x30c0e8(0x8da)]),this[_0x30c0e8(0x8da)]=setTimeout(async()=>{const _0xdcbc95=_0x30c0e8;delete this[_0xdcbc95(0x8da)];const _0x11b897=this['db'][_0xdcbc95(0xac6)]()[_0xdcbc95(0x3f5)];this[_0xdcbc95(0x541)][_0xdcbc95(0x803)]({'sourceId':_0x7cf9e6,'messageType':_0x31112d[_0xdcbc95(0x209)],'content':{'type':_0x21c730['VectorDatabaseStats'],'label':this[_0xdcbc95(0xa85)],'stats':{'timestamp':Date[_0xdcbc95(0x2c1)](),'storage':_0x11b897,'messagesSent':this[_0xdcbc95(0x365)],'messagesReceived':this[_0xdcbc95(0x546)],'bytesSent':this[_0xdcbc95(0x688)],'bytesReceived':this[_0xdcbc95(0x940)],'writes':this[_0xdcbc95(0x508)],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),_0x40d481['logStorage'](_0x267c89[_0xdcbc95(0x89f)],'ccc'+this[_0xdcbc95(0x412)]+'ccc'+this[_0xdcbc95(0xa85)],_0x11b897);},_0x4a5b22);}}class _0x540e31{['id'];[_0x5f24fc(0x41c)];[_0x5f24fc(0x217)];constructor(_0x3d03ca,_0x143c0d=new Set(),_0x3f9558){const _0x590495=_0x5f24fc;this['id']=_0x3d03ca,this[_0x590495(0x41c)]=_0x143c0d,this[_0x590495(0x217)]=_0x3f9558;}[_0x5f24fc(0x7ef)](){const _0x21dc3f=_0x5f24fc;this['rank']=void 0x0,this[_0x21dc3f(0x41c)][_0x21dc3f(0x567)]();}['getId'](){return this['id'];}['getRank'](){const _0x5d1cf7=_0x5f24fc;return this[_0x5d1cf7(0x217)];}[_0x5f24fc(0xa49)](){const _0x5f31bd=_0x5f24fc;return this[_0x5f31bd(0x41c)];}}class _0x4438c8 extends _0x540e31{['id'];[_0x5f24fc(0x573)];[_0x5f24fc(0xa9b)];[_0x5f24fc(0x41c)];['rank'];[_0x5f24fc(0x781)]=_0x20053a['NodeType'][_0x5f24fc(0x578)];constructor(_0x21044c,_0x35eba8,_0x587963,_0x327c7c=new Set(),_0x5c3602){const _0x1f91d4=_0x5f24fc;super(_0x21044c,_0x327c7c,_0x5c3602),this['id']=_0x21044c,this[_0x1f91d4(0x573)]=_0x35eba8,this['email']=_0x587963,this[_0x1f91d4(0x41c)]=_0x327c7c,this['rank']=_0x5c3602;}[_0x5f24fc(0x75d)](){const _0x79e213=_0x5f24fc;return this[_0x79e213(0x573)];}[_0x5f24fc(0x5ea)](){const _0x44ddce=_0x5f24fc;return this[_0x44ddce(0xa9b)];}}class _0xf9cbdb{['vendorId'];[_0x5f24fc(0x412)];[_0x5f24fc(0xa40)];constructor(_0x57c39a,_0x260fab){const _0x20c26a=_0x5f24fc;this[_0x20c26a(0x240)]=_0x57c39a,this['clusterId']=_0x260fab,this[_0x20c26a(0xa40)]=_0x20c26a(0xa33)+this[_0x20c26a(0x240)]+_0x20c26a(0xa33)+this[_0x20c26a(0x412)];}async['writeTransaction'](_0x2a64d2,_0x243492){const _0x323ad5=_0x5f24fc,_0x2787d6=(0x0,_0x552cea[_0x323ad5(0x79f)])(_0x47e6c0['getDatabase'](),_0x323ad5(0x2f5)+this[_0x323ad5(0xa40)]+_0x323ad5(0x28a)+_0x243492+'/transactions/'+_0x2a64d2['id']),_0x244106=(0x0,_0x552cea[_0x323ad5(0x395)])(_0x2787d6);_0x244106['remove'](),_0x2a64d2[_0x323ad5(0x636)]||delete _0x2a64d2['parentId'];try{await(0x0,_0x552cea[_0x323ad5(0x338)])(_0x2787d6,_0x2a64d2);}catch(_0x5d63fc){throw await _0x244106['cancel'](),new _0x4668fc(_0x4668fc[_0x323ad5(0x85e)][_0x323ad5(0x6e0)]);}if(!0x1===(await(0x0,_0x552cea['runTransaction'])((0x0,_0x552cea[_0x323ad5(0x79f)])(_0x47e6c0[_0x323ad5(0x99b)](),_0x323ad5(0x2f5)+this[_0x323ad5(0xa40)]+_0x323ad5(0x28a)+_0x243492+_0x323ad5(0x274)),_0x120cf7=>_0x120cf7?_0x120cf7===_0x2a64d2[_0x323ad5(0x636)]?_0x2a64d2['id']:void 0x0:_0x2a64d2[_0x323ad5(0x636)]?_0x2a64d2[_0x323ad5(0x636)]:_0x2a64d2['id']))['committed'])throw await(0x0,_0x552cea['remove'])(_0x2787d6),await _0x244106['cancel'](),new _0x4668fc(_0x4668fc['codes'][_0x323ad5(0x7d6)]);await _0x244106[_0x323ad5(0x5b8)]();}async[_0x5f24fc(0x861)](_0x5c109d,_0x318d3e){const _0x5a9f30=_0x5f24fc;let _0x28ca46=[];const _0x102dd8=(0x0,_0x552cea[_0x5a9f30(0x79f)])(_0x47e6c0[_0x5a9f30(0x99b)](),_0x5a9f30(0x2f5)+this['clusterKey']+_0x5a9f30(0x28a)+_0x5c109d+_0x5a9f30(0x93c));let _0x5cb9c7=await(0x0,_0x552cea[_0x5a9f30(0xb07)])((0x0,_0x552cea[_0x5a9f30(0x25d)])(_0x102dd8,(0x0,_0x552cea[_0x5a9f30(0x54d)])(0x65),(0x0,_0x552cea[_0x5a9f30(0x407)])()));if(!_0x5cb9c7[_0x5a9f30(0x713)]()){if(void 0x0!==_0x318d3e)throw new _0x4668fc(_0x4668fc[_0x5a9f30(0x85e)][_0x5a9f30(0x925)]);return _0x28ca46;}const _0x4e9e07=_0x5cb9c7[_0x5a9f30(0x3b4)]();for(;Object[_0x5a9f30(0x6c0)](_0x5cb9c7[_0x5a9f30(0x3b4)]())[_0x5a9f30(0x9a6)]>0x64;){const _0x15fb08=Object['keys'](_0x5cb9c7['val']()),_0x1a3630=_0x15fb08[_0x15fb08[_0x5a9f30(0x9a6)]-0x1];_0x5cb9c7=await(0x0,_0x552cea[_0x5a9f30(0xb07)])((0x0,_0x552cea['query'])(_0x102dd8,(0x0,_0x552cea[_0x5a9f30(0x54d)])(0x65),(0x0,_0x552cea['startAt'])(_0x1a3630),(0x0,_0x552cea[_0x5a9f30(0x407)])())),Object['assign'](_0x4e9e07,_0x5cb9c7[_0x5a9f30(0x3b4)]());}if(_0x28ca46=Object[_0x5a9f30(0x9af)](_0x4e9e07)[_0x5a9f30(0x776)](_0x525ff7=>'string'!=typeof _0x525ff7),0x0===_0x28ca46['length']&&void 0x0!==_0x318d3e)throw new _0x4668fc(_0x4668fc[_0x5a9f30(0x85e)][_0x5a9f30(0x925)]);if(_0x28ca46[_0x5a9f30(0x9a6)]>0x0&&void 0x0!==_0x318d3e&&!_0x28ca46[_0x5a9f30(0x260)](_0x523eff=>_0x523eff['id']===_0x318d3e))throw new _0x4668fc(_0x4668fc['codes']['ObjectStoreInvalidState']);const _0x18ee89=[];let _0x3df18a=_0x28ca46[_0x5a9f30(0x260)](_0x29e1c8=>_0x29e1c8[_0x5a9f30(0x636)]===_0x318d3e);for(;_0x3df18a;)_0x18ee89[_0x5a9f30(0x96d)](_0x3df18a),_0x3df18a=_0x28ca46['find'](_0xfa1629=>_0xfa1629['parentId']===_0x3df18a['id']);return _0x18ee89;}}class _0x1b7511{['configs'];[_0x5f24fc(0x49b)];[_0x5f24fc(0xa4e)];[_0x5f24fc(0x9d1)];[_0x5f24fc(0x575)]=new Map();[_0x5f24fc(0x53f)]=new Map();[_0x5f24fc(0xa7c)]=new Map();[_0x5f24fc(0x49f)]=new Map();[_0x5f24fc(0x20e)]=new Map();[_0x5f24fc(0x66e)]=new Map();[_0x5f24fc(0x342)]=new Map();[_0x5f24fc(0x271)]=new Map();[_0x5f24fc(0x2b5)]=new Map();[_0x5f24fc(0x2d3)]=new Map();['transactionService'];constructor(_0x14cb35,_0x121a7f,_0x56541b,_0x47731b){const _0xd90366=_0x5f24fc;this[_0xd90366(0x6c1)]=_0x14cb35,this['options']=_0x121a7f,this[_0xd90366(0xa4e)]=_0x56541b,this['aiSearchApiKey']=_0x47731b,this['transactionService']=new _0xf9cbdb(this[_0xd90366(0x6c1)][_0xd90366(0x240)],this[_0xd90366(0x6c1)]['clusterId']);}[_0x5f24fc(0x7ef)](_0x129eaf=!0x1){const _0x284e23=_0x5f24fc;this[_0x284e23(0x53f)]['forEach']((_0x40566c,_0x505cb6)=>{_0x40566c['forEach']((_0x57f510,_0x494f73)=>{const _0x1fba2d=a0_0x214c;this[_0x1fba2d(0x4f4)](_0x505cb6,_0x494f73);});}),_0x129eaf||(_0x4869a9[_0x284e23(0x567)](),this['localMediaStreams'][_0x284e23(0xac8)]((_0x206515,_0x38e8fd)=>{this['removeLocalMediaStream'](_0x38e8fd);}),this[_0x284e23(0xa7c)][_0x284e23(0xac8)]((_0x296a93,_0x46c457)=>{const _0x542428=_0x284e23;this[_0x542428(0x584)](_0x46c457);}),this['objectStores']['forEach']((_0x3c3c50,_0x277199)=>{const _0x25020a=_0x284e23;this[_0x25020a(0x714)](_0x277199);}),this[_0x284e23(0x20e)][_0x284e23(0xac8)]((_0x253c79,_0x155b44)=>{const _0x2f4403=_0x284e23;this[_0x2f4403(0xacd)](_0x155b44);}),this[_0x284e23(0x66e)][_0x284e23(0xac8)]((_0x33d39e,_0x3c1f51)=>{const _0xb3389=_0x284e23;this[_0xb3389(0x8ba)](_0x3c1f51);}),this[_0x284e23(0x2b5)][_0x284e23(0xac8)]((_0x5a7985,_0x4e6cca)=>{this['removeJobDispatcher'](_0x4e6cca);}),this[_0x284e23(0x2d3)][_0x284e23(0xac8)]((_0x56bb62,_0x505f90)=>{const _0x1e077c=_0x284e23;this[_0x1e077c(0x6a8)](_0x505f90);}),this[_0x284e23(0x342)][_0x284e23(0xac8)]((_0x3bf885,_0x5bae59)=>{this['removeVectorDatabase'](_0x5bae59);}),this['graphDatabases']['forEach']((_0x2ab024,_0x37b412)=>{const _0x50317b=_0x284e23;this[_0x50317b(0x8f4)](_0x37b412);}));}[_0x5f24fc(0x4c4)](_0x4ee1e1,_0x9d5219,_0xc05025){const _0x16caf7=_0x5f24fc;if(this[_0x16caf7(0x49f)][_0x16caf7(0x4cb)](_0x4ee1e1))throw new _0x55ecf3(_0x2efe49[_0x16caf7(0x5d0)],_0x16caf7(0x512));const _0x1b5b20=new _0x91e5da(this['configs'][_0x16caf7(0x8ad)],_0x4ee1e1,this[_0x16caf7(0x6c1)][_0x16caf7(0x412)],this[_0x16caf7(0x6c1)][_0x16caf7(0x240)],this[_0x16caf7(0xa55)],_0x9d5219,()=>this[_0x16caf7(0x6c1)][_0x16caf7(0xae2)][_0x16caf7(0x4a0)](),_0xc05025);return this[_0x16caf7(0x49f)]['set'](_0x4ee1e1,_0x1b5b20),this[_0x16caf7(0x6c1)]['mediator']['registerSystemSource'](_0x1b5b20),_0x1b5b20;}[_0x5f24fc(0x77f)](_0x4fe996,_0xeec489){const _0x4d1ec7=_0x5f24fc;if(this['objectStores'][_0x4d1ec7(0x4cb)](_0x4fe996))throw new _0x55ecf3(_0x2efe49[_0x4d1ec7(0x736)],_0x4d1ec7(0x890));const _0x1214ae=new _0x5e6dea(this[_0x4d1ec7(0x6c1)][_0x4d1ec7(0x8ad)],_0x4fe996,this[_0x4d1ec7(0x6c1)][_0x4d1ec7(0x412)],this[_0x4d1ec7(0x6c1)]['vendorId'],_0xeec489);return this[_0x4d1ec7(0x20e)][_0x4d1ec7(0x338)](_0x4fe996,_0x1214ae),this[_0x4d1ec7(0x6c1)][_0x4d1ec7(0xae2)][_0x4d1ec7(0x545)](_0x1214ae),_0x1214ae;}async[_0x5f24fc(0x4ba)](_0x4cbca0,_0x31f85f,_0x1912f4){const _0x50ef69=_0x5f24fc;if(this[_0x50ef69(0x66e)]['has'](_0x4cbca0))throw new _0x55ecf3(_0x2efe49[_0x50ef69(0x95d)],_0x50ef69(0x970));try{const _0xe77135=this[_0x50ef69(0x6c1)]['mediator']['isNodeReady'][_0x50ef69(0x1ff)](this[_0x50ef69(0x6c1)][_0x50ef69(0xae2)]),_0x143d96=new _0x12db96(this['configs'][_0x50ef69(0x8ad)],_0x4cbca0,this[_0x50ef69(0x6c1)][_0x50ef69(0x412)],this[_0x50ef69(0x6c1)]['vendorId'],_0x31f85f,_0x1912f4,_0xe77135);return this[_0x50ef69(0x66e)][_0x50ef69(0x338)](_0x4cbca0,_0x143d96),this[_0x50ef69(0x6c1)][_0x50ef69(0xae2)][_0x50ef69(0x545)](_0x143d96),_0x143d96;}catch(_0x248d73){if(_0x248d73 instanceof _0x55ecf3)throw _0x248d73;throw new _0x4668fc(_0x4668fc[_0x50ef69(0x85e)]['KeyValueDatabaseCreationFailed'],{'label':_0x4cbca0,'clusterId':this[_0x50ef69(0x6c1)]['clusterId'],'vendorId':this[_0x50ef69(0x6c1)]['vendorId']});}}async[_0x5f24fc(0x959)](_0x21370e,_0x2f6d10){const _0x1579cc=_0x5f24fc;if(this[_0x1579cc(0x2b5)][_0x1579cc(0x4cb)](_0x21370e))throw new _0x55ecf3(_0x2efe49[_0x1579cc(0x43b)],_0x1579cc(0x7da));try{const _0x2998db=new _0x39d7ea(this[_0x1579cc(0x6c1)][_0x1579cc(0x8ad)],_0x21370e,_0x2f6d10);return this[_0x1579cc(0x2b5)][_0x1579cc(0x338)](_0x21370e,_0x2998db),this['configs']['mediator'][_0x1579cc(0x545)](_0x2998db),_0x2998db;}catch(_0x3ccd29){if(_0x3ccd29 instanceof _0x55ecf3)throw _0x3ccd29;throw new _0x4668fc(_0x4668fc[_0x1579cc(0x85e)][_0x1579cc(0xa3e)],{'label':_0x21370e,'clusterId':this[_0x1579cc(0x6c1)][_0x1579cc(0x412)],'vendorId':this['configs'][_0x1579cc(0x240)]});}}async[_0x5f24fc(0x460)](_0x3d7ff8,_0x1f1cf6){const _0xe22fc6=_0x5f24fc;if(this[_0xe22fc6(0x2b5)][_0xe22fc6(0x4cb)](_0x3d7ff8))throw new _0x55ecf3(_0x2efe49[_0xe22fc6(0x74d)],_0xe22fc6(0x7b9));if(this[_0xe22fc6(0x2d3)][_0xe22fc6(0x4cb)](_0x3d7ff8))throw new _0x55ecf3(_0x2efe49['GenerativeAILabelConflict'],'Label\x20already\x20in\x20use\x20by\x20AI\x20Service');try{const _0x554b45=new _0x29a2b4(this[_0xe22fc6(0x6c1)][_0xe22fc6(0x8ad)],_0x3d7ff8,this[_0xe22fc6(0x6c1)]['vendorId'],_0x1f1cf6);return this['jobDispatchers'][_0xe22fc6(0x338)](_0x3d7ff8,_0x554b45),this[_0xe22fc6(0x6c1)][_0xe22fc6(0xae2)][_0xe22fc6(0x545)](_0x554b45),_0x554b45;}catch(_0x467e34){if(_0x467e34 instanceof _0x55ecf3)throw _0x467e34;throw new _0x4668fc(_0x4668fc[_0xe22fc6(0x85e)][_0xe22fc6(0xa9e)],{'label':_0x3d7ff8,'clusterId':this[_0xe22fc6(0x6c1)][_0xe22fc6(0x412)],'vendorId':this['configs']['vendorId']});}}async['createGenerativeAIWorker'](_0x5e46e9,_0x33753e,_0x389163,_0x190a56,_0x5828e6,_0x1342b6,_0x2392e4,_0x4cce7e){const _0x13a5f8=_0x5f24fc;if(this[_0x13a5f8(0x2d3)][_0x13a5f8(0x4cb)](_0x5e46e9))throw new _0x55ecf3(_0x2efe49[_0x13a5f8(0x761)],'AI\x20Worker\x20already\x20exists');if(this[_0x13a5f8(0x2b5)]['has'](_0x5e46e9))throw new _0x55ecf3(_0x2efe49[_0x13a5f8(0xafb)],_0x13a5f8(0x84c));try{const _0x4f1064=new _0x5d9a97(this[_0x13a5f8(0x6c1)]['localNode'],_0x5e46e9,this[_0x13a5f8(0x6c1)][_0x13a5f8(0x240)],_0x33753e,this,_0x389163,_0x190a56,_0x5828e6,this[_0x13a5f8(0xa4e)],this[_0x13a5f8(0x9d1)],_0x1342b6,_0x2392e4,_0x4cce7e);return this[_0x13a5f8(0x2d3)][_0x13a5f8(0x338)](_0x5e46e9,_0x4f1064),this[_0x13a5f8(0x6c1)][_0x13a5f8(0xae2)][_0x13a5f8(0x545)](_0x4f1064),_0x4f1064;}catch(_0x44fcf2){if(_0x44fcf2 instanceof _0x55ecf3)throw _0x44fcf2;throw new _0x4668fc(_0x4668fc[_0x13a5f8(0x85e)][_0x13a5f8(0x7b4)],{'label':_0x5e46e9,'clusterId':this[_0x13a5f8(0x6c1)]['clusterId'],'vendorId':this[_0x13a5f8(0x6c1)]['vendorId']});}}[_0x5f24fc(0x4b1)](_0x13ee49,_0x493728){const _0x5eff43=_0x5f24fc;if(this[_0x5eff43(0x271)][_0x5eff43(0x4cb)](_0x13ee49))throw new _0x55ecf3(_0x2efe49[_0x5eff43(0x5fb)],_0x5eff43(0x970));try{const _0x386ca2=new _0x59d522(this[_0x5eff43(0x6c1)][_0x5eff43(0x8ad)],_0x13ee49,this[_0x5eff43(0x6c1)]['clusterId'],this[_0x5eff43(0x6c1)]['vendorId'],_0x493728);return this['graphDatabases'][_0x5eff43(0x338)](_0x13ee49,_0x386ca2),this['configs']['mediator'][_0x5eff43(0x545)](_0x386ca2),_0x386ca2;}catch(_0x288c85){if(_0x288c85 instanceof _0x55ecf3)throw _0x288c85;throw new _0x4668fc(_0x4668fc[_0x5eff43(0x85e)]['GraphDatabaseCreationFailed'],{'label':_0x13ee49,'clusterId':this[_0x5eff43(0x6c1)][_0x5eff43(0x412)],'vendorId':this['configs'][_0x5eff43(0x240)]});}}[_0x5f24fc(0x90a)](_0x5f1c06,_0x55e80a){const _0x527e48=_0x5f24fc;if(this[_0x527e48(0x575)][_0x527e48(0x4cb)](_0x5f1c06))throw new _0x55ecf3(_0x2efe49[_0x527e48(0x523)],'Local\x20MediaStream\x20already\x20exists');if(!this[_0x527e48(0x49b)][_0x527e48(0x4e5)])throw new _0x55ecf3(_0x2efe49[_0x527e48(0x84d)],_0x527e48(0x953));const _0x314a28=new _0x492e12(this[_0x527e48(0x6c1)][_0x527e48(0x8ad)],_0x5f1c06,_0x55e80a,this[_0x527e48(0x49b)][_0x527e48(0xaf1)],this['options']['audioContext'],this[_0x527e48(0x6c1)][_0x527e48(0x412)]);return this[_0x527e48(0x575)][_0x527e48(0x338)](_0x5f1c06,_0x314a28),this[_0x527e48(0x6c1)][_0x527e48(0xae2)]['registerSystemSource'](_0x314a28),_0x314a28[_0x527e48(0x803)](),_0x314a28;}[_0x5f24fc(0x2f0)](_0x14ddcb,_0x348853){const _0x5656fa=_0x5f24fc;if(this[_0x5656fa(0x575)]['has'](_0x14ddcb))throw new _0x55ecf3(_0x2efe49[_0x5656fa(0x523)],_0x5656fa(0x5db));const _0x563497=new _0x247284(this['configs']['localNode'],_0x14ddcb,_0x348853,this[_0x5656fa(0x6c1)][_0x5656fa(0x412)]);return this['localMediaStreams']['set'](_0x14ddcb,_0x563497),this['configs'][_0x5656fa(0xae2)][_0x5656fa(0x545)](_0x563497),_0x563497[_0x5656fa(0x803)](),_0x563497;}[_0x5f24fc(0x7d4)](_0x40b904){const _0x52ee1d=_0x5f24fc;if(this[_0x52ee1d(0xa7c)]['has'](_0x40b904))throw new _0x55ecf3(_0x2efe49[_0x52ee1d(0x9f5)],'PubSub\x20already\x20exists');const _0x15d2d9=new _0x310cff(this[_0x52ee1d(0x6c1)][_0x52ee1d(0x8ad)],_0x40b904,this[_0x52ee1d(0x6c1)][_0x52ee1d(0x412)]);return this['pubSubTopics'][_0x52ee1d(0x338)](_0x40b904,_0x15d2d9),this[_0x52ee1d(0x6c1)][_0x52ee1d(0xae2)][_0x52ee1d(0x545)](_0x15d2d9),_0x15d2d9;}[_0x5f24fc(0xa9f)](_0x27a245,_0x96565b,_0x22b995,_0x4cd34c){const _0xe834b0=_0x5f24fc;this[_0xe834b0(0x53f)][_0xe834b0(0x4cb)](_0x27a245)||this[_0xe834b0(0x53f)][_0xe834b0(0x338)](_0x27a245,new Map());const _0x45bed2=this['remoteMediaStreams'][_0xe834b0(0xb07)](_0x27a245);if(_0x45bed2[_0xe834b0(0x4cb)](_0x96565b))throw new _0x55ecf3(_0x2efe49[_0xe834b0(0x280)],_0xe834b0(0x974));const _0x47a0e5=new _0x4438c8(_0x27a245,'',''),_0x462270=new _0x31c3be(this[_0xe834b0(0x6c1)][_0xe834b0(0x8ad)],_0x47a0e5,_0x96565b,_0x22b995,_0x4cd34c,this[_0xe834b0(0x6c1)][_0xe834b0(0x412)]);return _0x45bed2[_0xe834b0(0x338)](_0x96565b,_0x462270),this[_0xe834b0(0x6c1)][_0xe834b0(0xae2)][_0xe834b0(0x545)](_0x462270),_0x462270;}[_0x5f24fc(0x97c)](_0x1bef7f,_0x2172a8){const _0x2b16cf=_0x5f24fc;if(this[_0x2b16cf(0x342)][_0x2b16cf(0x4cb)](_0x1bef7f))throw new _0x55ecf3(_0x2efe49[_0x2b16cf(0x740)],_0x2b16cf(0x970));try{const _0x4d6fd7=new _0x362251(this['configs']['localNode'],_0x1bef7f,this['configs'][_0x2b16cf(0x412)],this[_0x2b16cf(0x6c1)][_0x2b16cf(0x240)],_0x2172a8);return this['vectorDatabases'][_0x2b16cf(0x338)](_0x1bef7f,_0x4d6fd7),this[_0x2b16cf(0x6c1)][_0x2b16cf(0xae2)]['registerSystemSource'](_0x4d6fd7),_0x4d6fd7;}catch(_0x4c83f8){if(_0x4c83f8 instanceof _0x55ecf3)throw _0x4c83f8;throw new _0x4668fc(_0x4668fc[_0x2b16cf(0x85e)]['VectorDatabaseCreationFailed'],{'label':_0x1bef7f,'clusterId':this[_0x2b16cf(0x6c1)]['clusterId'],'vendorId':this[_0x2b16cf(0x6c1)][_0x2b16cf(0x240)]});}}['getObjectStoreBuckets'](_0x3d74d4){const _0x22791c=_0x5f24fc,_0x53a32d=Array['from'](this[_0x22791c(0x49f)]['values']());return _0x3d74d4?_0x53a32d[_0x22791c(0x776)](_0x3d74d4):_0x53a32d;}[_0x5f24fc(0x684)](_0x25ed29){const _0x9d8425=_0x5f24fc,_0x2e178d=Array[_0x9d8425(0x3ce)](this['externalStorageConnections'][_0x9d8425(0x9af)]());return _0x25ed29?_0x2e178d['filter'](_0x25ed29):_0x2e178d;}[_0x5f24fc(0x987)](_0x3c0768){const _0x6b3893=_0x5f24fc,_0x786213=Array[_0x6b3893(0x3ce)](this['keyValueDatabases'][_0x6b3893(0x9af)]());return _0x3c0768?_0x786213['filter'](_0x3c0768):_0x786213;}[_0x5f24fc(0x9ea)](_0x486cb9){const _0x14c2fc=_0x5f24fc,_0x53893f=Array['from'](this[_0x14c2fc(0x2b5)][_0x14c2fc(0x9af)]());return _0x486cb9?_0x53893f[_0x14c2fc(0x776)](_0x486cb9):_0x53893f;}['getJobWorkers'](_0x1467ed){const _0x4add79=_0x5f24fc,_0x433642=Array['from'](this[_0x4add79(0x2d3)][_0x4add79(0x9af)]());return _0x1467ed?_0x433642['filter'](_0x1467ed):_0x433642;}[_0x5f24fc(0x664)](_0x140126){const _0x1842f5=_0x5f24fc,_0x574b88=Array[_0x1842f5(0x3ce)](this[_0x1842f5(0x2b5)][_0x1842f5(0x9af)]())[_0x1842f5(0x776)](_0x579bf9=>_0x579bf9 instanceof _0x29a2b4);return _0x140126?_0x574b88[_0x1842f5(0x776)](_0x140126):_0x574b88;}[_0x5f24fc(0x5e9)](_0x548b3a){const _0x3f9464=_0x5f24fc,_0x3cf406=Array[_0x3f9464(0x3ce)](this[_0x3f9464(0x2d3)][_0x3f9464(0x9af)]())['filter'](_0x25f2cd=>_0x25f2cd instanceof _0x5d9a97);return _0x548b3a?_0x3cf406[_0x3f9464(0x776)](_0x548b3a):_0x3cf406;}[_0x5f24fc(0x46a)](_0x48a341){const _0x121cd6=_0x5f24fc,_0x1b975b=Array[_0x121cd6(0x3ce)](this[_0x121cd6(0x271)][_0x121cd6(0x9af)]());return _0x48a341?_0x1b975b[_0x121cd6(0x776)](_0x48a341):_0x1b975b;}[_0x5f24fc(0x876)](_0x4d8a8e){const _0x41287f=_0x5f24fc,_0x4b5fe5=Array['from'](this[_0x41287f(0x575)][_0x41287f(0x9af)]());return _0x4d8a8e?_0x4b5fe5['filter'](_0x4d8a8e):_0x4b5fe5;}['getPubSubTopics'](_0x254c83){const _0x459fb2=_0x5f24fc,_0x37971d=Array[_0x459fb2(0x3ce)](this['pubSubTopics']['values']());return _0x254c83?_0x37971d[_0x459fb2(0x776)](_0x254c83):_0x37971d;}[_0x5f24fc(0x707)](_0x4a4201){const _0x20952f=_0x5f24fc,_0x5c0be4=Array[_0x20952f(0x3ce)](this['remoteMediaStreams']['values']())[_0x20952f(0x3a3)]((_0x2addbf,_0x13db31)=>[..._0x2addbf,...Array['from'](_0x13db31['values']())],[]);return _0x4a4201?_0x5c0be4['filter'](_0x4a4201):_0x5c0be4;}[_0x5f24fc(0x869)](_0x2d3c7a){const _0x319e16=_0x5f24fc,_0x1566d8=Array[_0x319e16(0x3ce)](this['vectorDatabases'][_0x319e16(0x9af)]());return _0x2d3c7a?_0x1566d8['filter'](_0x2d3c7a):_0x1566d8;}[_0x5f24fc(0x550)](_0x239584){const _0x45b0a4=_0x5f24fc,_0x587c92=this['objectStores'][_0x45b0a4(0xb07)](_0x239584);if(!_0x587c92)throw new _0x55ecf3(_0x2efe49['ObjectStoreDoesNotExist'],_0x45b0a4(0x42d));return _0x587c92;}['getExternalStorageConnection'](_0x2449e8){const _0x3479f2=_0x5f24fc,_0x1e9580=_0x2449e8['split']('-'),_0x2863eb=this[_0x3479f2(0x20e)][_0x3479f2(0xb07)](_0x1e9580[0x1]);if(!_0x2863eb)throw new _0x55ecf3(_0x2efe49['ExternalStorageConnectionDoesNotExist'],_0x3479f2(0xa37));return _0x2863eb;}[_0x5f24fc(0x786)](_0x44404b){const _0x1138b0=_0x5f24fc,_0x511eeb=this[_0x1138b0(0x271)][_0x1138b0(0xb07)](_0x44404b);if(!_0x511eeb)throw new _0x55ecf3(_0x2efe49[_0x1138b0(0x27e)],_0x1138b0(0x4f6));return _0x511eeb;}[_0x5f24fc(0x61b)](_0x4e04d3){const _0x115e85=_0x5f24fc,_0xaa21f7=this[_0x115e85(0x66e)]['get'](_0x4e04d3);if(!_0xaa21f7)throw new _0x55ecf3(_0x2efe49['KeyValueDatabaseDoesNotExist'],_0x115e85(0x269));return _0xaa21f7;}['getPubSubTopic'](_0x2f8991){const _0x4182e9=_0x5f24fc,_0x325612=this[_0x4182e9(0xa7c)]['get'](_0x2f8991);if(!_0x325612)throw new _0x55ecf3(_0x2efe49[_0x4182e9(0x9b1)],_0x4182e9(0x46c));return _0x325612;}[_0x5f24fc(0x58a)](_0x4ad881){const _0x5734a=_0x5f24fc,_0x53406c=this[_0x5734a(0x342)][_0x5734a(0xb07)](_0x4ad881);if(!_0x53406c)throw new _0x55ecf3(_0x2efe49['VectorDatabaseDoesNotExist'],'VectorDatabase\x20not\x20found');return _0x53406c;}[_0x5f24fc(0xb20)](_0x32433a){const _0x4df915=_0x5f24fc;switch(_0x32433a['content'][_0x4df915(0x781)]){case _0x21c730[_0x4df915(0x7ee)]:this[_0x4df915(0x56b)](_0x32433a[_0x4df915(0x6b2)]);break;case _0x21c730[_0x4df915(0x67b)]:this[_0x4df915(0xa5f)](_0x32433a[_0x4df915(0x6b2)]);break;case _0x21c730[_0x4df915(0x22c)]:this[_0x4df915(0x4aa)](_0x32433a[_0x4df915(0x6b2)][_0x4df915(0xa85)]);break;case _0x21c730[_0x4df915(0x8f2)]:this[_0x4df915(0x6a8)](_0x32433a[_0x4df915(0x6b2)]['label']);break;case _0x21c730['CloseMediaStream']:this[_0x4df915(0x9cf)](_0x32433a[_0x4df915(0x6b2)]['label']);break;case _0x21c730[_0x4df915(0x416)]:this['removePubSubTopic'](_0x32433a[_0x4df915(0x6b2)][_0x4df915(0xa85)]);break;case _0x21c730[_0x4df915(0x3f4)]:this[_0x4df915(0x714)](_0x32433a[_0x4df915(0x6b2)]['label']);break;case _0x21c730[_0x4df915(0xa35)]:this[_0x4df915(0xacd)](_0x32433a[_0x4df915(0x6b2)]['label']);break;case _0x21c730['CloseKeyValueDatabase']:this['removeKeyValueDatabase'](_0x32433a[_0x4df915(0x6b2)]['label']);break;case _0x21c730[_0x4df915(0x920)]:this[_0x4df915(0x930)](_0x32433a[_0x4df915(0x6b2)]['label']);break;case _0x21c730['CloseGraphDatabase']:this['removeGraphDatabase'](_0x32433a[_0x4df915(0x6b2)][_0x4df915(0xa85)]);break;case _0x21c730[_0x4df915(0x9fe)]:this['handleContentUnsubscribeMediaStream'](_0x32433a[_0x4df915(0x6b2)]);break;case _0x21c730['KeyValueDatabaseSyncRequired']:this[_0x4df915(0x66e)]['get'](_0x32433a[_0x4df915(0x6b2)]['label'])?.[_0x4df915(0x75b)](_0x32433a[_0x4df915(0x241)],_0x32433a[_0x4df915(0x6b2)][_0x4df915(0x9c0)]);break;case _0x21c730['KeyValueDatabaseContentSynchronized']:this[_0x4df915(0x66e)][_0x4df915(0xb07)](_0x32433a['content']['label'])?.[_0x4df915(0x2e6)](_0x32433a[_0x4df915(0x241)],_0x32433a[_0x4df915(0x6b2)]['mmrRoot']);break;case _0x21c730['KeyValueDatabaseContentAvailable']:this['keyValueDatabases'][_0x4df915(0xb07)](_0x32433a[_0x4df915(0x6b2)][_0x4df915(0xa85)])?.[_0x4df915(0x9f3)](_0x32433a['sourceId'],_0x32433a[_0x4df915(0x6b2)][_0x4df915(0xaef)]);break;case _0x21c730['KeyValueDatabaseRequestPeakTransactions']:this[_0x4df915(0x66e)][_0x4df915(0xb07)](_0x32433a[_0x4df915(0x6b2)][_0x4df915(0xa85)])?.['sendPeakTransactions'](_0x32433a[_0x4df915(0x241)],_0x32433a[_0x4df915(0x6b2)]['peakHeights']);break;case _0x21c730['KeyValueDatabaseRequestTransactionsValue']:this[_0x4df915(0x66e)][_0x4df915(0xb07)](_0x32433a[_0x4df915(0x6b2)][_0x4df915(0xa85)])?.[_0x4df915(0xb3c)](_0x32433a[_0x4df915(0x241)],_0x32433a[_0x4df915(0x6b2)][_0x4df915(0xb2a)]);break;case _0x21c730[_0x4df915(0xa56)]:this[_0x4df915(0x66e)][_0x4df915(0xb07)](_0x32433a['content'][_0x4df915(0xa85)])?.['processReceivedTransactions'](_0x32433a[_0x4df915(0x241)],_0x32433a[_0x4df915(0x6b2)][_0x4df915(0x556)]);break;case _0x21c730[_0x4df915(0x80d)]:this['configs']['mediator'][_0x4df915(0x632)](_0x4df915(0x295),{'label':_0x32433a[_0x4df915(0x6b2)]['label'],'trackKinds':_0x32433a[_0x4df915(0x6b2)]['trackKinds']});}}[_0x5f24fc(0x8f7)]({content:_0x1af63e}){const _0x5b92ed=_0x5f24fc;switch(_0x1af63e[_0x5b92ed(0x781)]){case _0x4c7147[_0x5b92ed(0x770)]:this[_0x5b92ed(0x3f2)](_0x1af63e),this[_0x5b92ed(0x51a)](_0x1af63e);break;case _0x4c7147['NodeLeave']:this['handleNodeLeave'](_0x1af63e),this[_0x5b92ed(0x8eb)](_0x1af63e);}}[_0x5f24fc(0xafd)](_0x52defa){const _0x33ee94=_0x5f24fc;switch(_0x52defa[_0x33ee94(0x6b2)][_0x33ee94(0x781)]){case _0x34d6dd[_0x33ee94(0x390)]:this[_0x33ee94(0x5da)](_0x52defa[_0x33ee94(0x241)],_0x52defa[_0x33ee94(0x6b2)]);break;case _0x34d6dd[_0x33ee94(0x3e3)]:this[_0x33ee94(0x73e)](_0x52defa[_0x33ee94(0x241)],_0x52defa[_0x33ee94(0x6b2)]);break;case _0x34d6dd[_0x33ee94(0x9fe)]:this[_0x33ee94(0xa79)](_0x52defa[_0x33ee94(0x241)],_0x52defa['content']);}}['handleContentUnsubscribeMediaStream'](_0x31df55){const _0x415b02=_0x5f24fc;if(0x0===_0x31df55[_0x415b02(0xb04)])this['remoteMediaStreams'][_0x415b02(0xb07)](_0x31df55['ownerId'])?.[_0x415b02(0xb07)](_0x31df55[_0x415b02(0xa85)])?.[_0x415b02(0x8fd)]();else{const _0x3691c2=this[_0x415b02(0x53f)][_0x415b02(0xb07)](_0x31df55['ownerId'])?.[_0x415b02(0xb07)](_0x31df55[_0x415b02(0xa85)]);if(!_0x3691c2)return;_0x31df55[_0x415b02(0x7eb)]['forEach'](_0x29cda7=>_0x3691c2[_0x415b02(0x845)](_0x29cda7));}}[_0x5f24fc(0x56b)](_0x5932d9){const _0x3d654f=_0x5f24fc,{label:_0x575244,ownerId:_0x3a98ab,stream:{streamId:_0x41972d,availableTrackKinds:_0x45de76}}=_0x5932d9;if(this[_0x3d654f(0x53f)][_0x3d654f(0xb07)](_0x3a98ab)?.[_0x3d654f(0x4cb)](_0x575244))return void _0x40d481[_0x3d654f(0x60e)](_0xb10df[_0x3d654f(0x209)],_0x3d654f(0x5db),_0x41972d);const _0x117aa0=this[_0x3d654f(0xa9f)](_0x3a98ab,_0x575244,_0x41972d,_0x45de76);this['configs'][_0x3d654f(0xae2)]['notifyCluster'](_0x3d654f(0x6e6),{'ownerId':_0x3a98ab,'stream':_0x117aa0});}[_0x5f24fc(0xa5f)]({ownerId:_0x560e48,label:_0x2533a8}){const _0x518e2d=_0x5f24fc;this['removeRemoteMediaStream'](_0x560e48,_0x2533a8),this['configs'][_0x518e2d(0xae2)]['notifyCluster'](_0x518e2d(0x7cc),{'ownerId':_0x560e48,'label':_0x2533a8});}[_0x5f24fc(0x5da)](_0x55e25c,_0x383110){const _0x4d15b8=_0x5f24fc,{ownerId:_0x511a93,label:_0x1b87ef}=_0x383110;let _0x2570e0;_0x2570e0=_0x511a93!==this[_0x4d15b8(0x6c1)][_0x4d15b8(0x8ad)][_0x4d15b8(0x6e8)]()?this['remoteMediaStreams'][_0x4d15b8(0xb07)](_0x511a93)[_0x4d15b8(0xb07)](_0x1b87ef):this['localMediaStreams']['get'](_0x1b87ef),_0x2570e0[_0x4d15b8(0x576)](_0x55e25c,_0x383110[_0x4d15b8(0x826)])['subscribe'](_0x383110,_0x2570e0[_0x4d15b8(0x677)]());}[_0x5f24fc(0x73e)](_0x313763,_0x2437cb){const _0x1d1905=_0x5f24fc,{ownerId:_0xc07e47,label:_0x100bed}=_0x2437cb;let _0x33f242;_0x33f242=_0xc07e47!==this[_0x1d1905(0x6c1)][_0x1d1905(0x8ad)]['getId']()?this[_0x1d1905(0x53f)][_0x1d1905(0xb07)](_0xc07e47)['get'](_0x100bed):this[_0x1d1905(0x575)][_0x1d1905(0xb07)](_0x100bed),_0x33f242[_0x1d1905(0x576)](_0x313763,_0x2437cb[_0x1d1905(0x826)])[_0x1d1905(0x220)](_0x2437cb);}['handleUnsubscribeMediaStream'](_0x270ee2,_0x3922fb){const _0x49303d=_0x5f24fc,{ownerId:_0x52e68c,label:_0x5dc399}=_0x3922fb;let _0x30a334;_0x30a334=_0x52e68c!==this[_0x49303d(0x6c1)][_0x49303d(0x8ad)][_0x49303d(0x6e8)]()?this[_0x49303d(0x53f)][_0x49303d(0xb07)](_0x52e68c)[_0x49303d(0xb07)](_0x5dc399):this[_0x49303d(0x575)]['get'](_0x5dc399),_0x30a334['getShareableStream'](_0x270ee2)[_0x49303d(0xac2)](_0x3922fb);}[_0x5f24fc(0x3f2)]({id:_0x90dc54}){const _0xa0b18=_0x5f24fc;this[_0xa0b18(0x876)]()[_0xa0b18(0xac8)](_0x2639d7=>{const _0x4d381e=_0xa0b18;_0x2639d7[_0x4d381e(0x803)](_0x90dc54);});}[_0x5f24fc(0x3f6)]({id:_0xa290e2}){const _0x469574=_0x5f24fc;this[_0x469574(0x707)](_0x5a880f=>_0x5a880f['getOwnerId']()===_0xa290e2)[_0x469574(0xac8)](_0x4b27a3=>{const _0x15d260=_0x469574;this[_0x15d260(0x4f4)](_0x4b27a3[_0x15d260(0x92a)](),_0x4b27a3['getLabel']());});}[_0x5f24fc(0x51a)]({id:_0x4f3473}){const _0x19c3ed=_0x5f24fc;this[_0x19c3ed(0x49f)]['forEach'](_0x44b11f=>_0x44b11f['handleNodeJoin'](_0x4f3473));}[_0x5f24fc(0x8eb)]({id:_0x1840d1}){const _0x38c1f1=_0x5f24fc;this[_0x38c1f1(0x49f)][_0x38c1f1(0xac8)](_0x186cd3=>_0x186cd3[_0x38c1f1(0x3f6)](_0x1840d1));}[_0x5f24fc(0x4aa)](_0x51b7e9){const _0x1ea3bb=_0x5f24fc;if(!this[_0x1ea3bb(0x2b5)][_0x1ea3bb(0x4cb)](_0x51b7e9))throw new _0x55ecf3(_0x2efe49[_0x1ea3bb(0x5d4)],_0x1ea3bb(0x680));const _0x25b2f7=this[_0x1ea3bb(0x2b5)][_0x1ea3bb(0xb07)](_0x51b7e9);this[_0x1ea3bb(0x2b5)][_0x1ea3bb(0x43a)](_0x51b7e9),_0x25b2f7[_0x1ea3bb(0x8fd)](),this[_0x1ea3bb(0x6c1)][_0x1ea3bb(0xae2)]['unregisterSystemSource'](_0x25b2f7);}[_0x5f24fc(0x6a8)](_0x33728d){const _0x5f065d=_0x5f24fc;if(!this[_0x5f065d(0x2d3)]['has'](_0x33728d))throw new _0x55ecf3(_0x2efe49[_0x5f065d(0x84e)],_0x5f065d(0x814));const _0x624545=this[_0x5f065d(0x2d3)][_0x5f065d(0xb07)](_0x33728d);this['jobWorkers'][_0x5f065d(0x43a)](_0x33728d),_0x624545[_0x5f065d(0x8fd)](),this[_0x5f065d(0x6c1)][_0x5f065d(0xae2)][_0x5f065d(0x580)](_0x624545);}['removeObjectStore'](_0x38a092){const _0x168928=_0x5f24fc;if(!this[_0x168928(0x49f)][_0x168928(0x4cb)](_0x38a092))throw new _0x55ecf3(_0x2efe49[_0x168928(0x4fb)],_0x168928(0x3df));const _0x3e5e3a=this[_0x168928(0x49f)][_0x168928(0xb07)](_0x38a092);this[_0x168928(0x49f)][_0x168928(0x43a)](_0x38a092),_0x3e5e3a['destroy'](),this[_0x168928(0x6c1)][_0x168928(0xae2)][_0x168928(0x580)](_0x3e5e3a);}['removeExternalStorageConnection'](_0x4ed081){const _0x59a7d0=_0x5f24fc;if(!this[_0x59a7d0(0x20e)][_0x59a7d0(0x4cb)](_0x4ed081))throw new _0x55ecf3(_0x2efe49[_0x59a7d0(0x3fc)],_0x59a7d0(0x79d));const _0x5d5d83=this[_0x59a7d0(0x20e)][_0x59a7d0(0xb07)](_0x4ed081);this[_0x59a7d0(0x20e)][_0x59a7d0(0x43a)](_0x4ed081),_0x5d5d83[_0x59a7d0(0x8fd)](),this[_0x59a7d0(0x6c1)][_0x59a7d0(0xae2)]['unregisterSystemSource'](_0x5d5d83);}[_0x5f24fc(0x584)](_0x45ec1a){const _0x225bf1=_0x5f24fc;if(!this[_0x225bf1(0xa7c)][_0x225bf1(0x4cb)](_0x45ec1a))throw new _0x55ecf3(_0x2efe49[_0x225bf1(0x9b1)],_0x225bf1(0x3df));const _0x38a13e=this[_0x225bf1(0xa7c)][_0x225bf1(0xb07)](_0x45ec1a);this[_0x225bf1(0xa7c)]['delete'](_0x45ec1a),_0x38a13e[_0x225bf1(0x8fd)](),this['configs'][_0x225bf1(0xae2)][_0x225bf1(0x580)](_0x38a13e);}[_0x5f24fc(0x8ba)](_0x1a36d3){const _0x239506=_0x5f24fc;if(!this[_0x239506(0x66e)][_0x239506(0x4cb)](_0x1a36d3))throw new _0x55ecf3(_0x2efe49[_0x239506(0x267)],_0x239506(0x80a));const _0x5636f3=this[_0x239506(0x66e)][_0x239506(0xb07)](_0x1a36d3);this[_0x239506(0x66e)][_0x239506(0x43a)](_0x1a36d3),_0x5636f3[_0x239506(0x8fd)](),this['configs']['mediator']['unregisterSystemSource'](_0x5636f3);}[_0x5f24fc(0x930)](_0x2e95a2){const _0x496465=_0x5f24fc;if(!this[_0x496465(0x342)][_0x496465(0x4cb)](_0x2e95a2))throw new _0x55ecf3(_0x2efe49[_0x496465(0x8c8)],_0x496465(0x80a));const _0x5e50bb=this['vectorDatabases']['get'](_0x2e95a2);this['vectorDatabases']['delete'](_0x2e95a2),_0x5e50bb[_0x496465(0x8fd)](),this[_0x496465(0x6c1)][_0x496465(0xae2)]['unregisterSystemSource'](_0x5e50bb);}[_0x5f24fc(0x8f4)](_0x3021cb){const _0x16cbdd=_0x5f24fc;if(!this['graphDatabases']['has'](_0x3021cb))throw new _0x55ecf3(_0x2efe49[_0x16cbdd(0x27e)],_0x16cbdd(0x80a));const _0x3f4160=this[_0x16cbdd(0x271)][_0x16cbdd(0xb07)](_0x3021cb);this['graphDatabases']['delete'](_0x3021cb),_0x3f4160[_0x16cbdd(0x8fd)](),this['configs'][_0x16cbdd(0xae2)][_0x16cbdd(0x580)](_0x3f4160);}[_0x5f24fc(0x9cf)](_0x23902d){const _0x57e506=_0x5f24fc;if(!this[_0x57e506(0x575)][_0x57e506(0x4cb)](_0x23902d))throw new _0x4668fc(_0x4668fc[_0x57e506(0x85e)]['LocalMediaStreamDoesNotExist'],{'label':_0x23902d,'localId':this['configs']['localNode'][_0x57e506(0x6e8)]()});const _0xca734e=this[_0x57e506(0x575)][_0x57e506(0xb07)](_0x23902d);this[_0x57e506(0x6c1)][_0x57e506(0xae2)]['unregisterSystemSource'](_0xca734e),_0xca734e[_0x57e506(0x8fd)](),this[_0x57e506(0x575)][_0x57e506(0x43a)](_0x23902d);}['removeRemoteMediaStream'](_0x3fea48,_0x1e8e97){const _0x4293d3=_0x5f24fc;if(!this[_0x4293d3(0x53f)][_0x4293d3(0x4cb)](_0x3fea48))throw new _0x4668fc(_0x4668fc[_0x4293d3(0x85e)][_0x4293d3(0x8e9)],{'nodeId':_0x3fea48,'localId':this[_0x4293d3(0x6c1)][_0x4293d3(0x8ad)][_0x4293d3(0x6e8)]()});const _0x48304a=this[_0x4293d3(0x53f)][_0x4293d3(0xb07)](_0x3fea48);if(!_0x48304a['has'](_0x1e8e97))throw new _0x4668fc(_0x4668fc[_0x4293d3(0x85e)][_0x4293d3(0x315)],{'nodeId':_0x3fea48,'label':_0x1e8e97,'localId':this[_0x4293d3(0x6c1)][_0x4293d3(0x8ad)][_0x4293d3(0x6e8)]()});const _0x497aa6=_0x48304a[_0x4293d3(0xb07)](_0x1e8e97);this[_0x4293d3(0x6c1)][_0x4293d3(0xae2)][_0x4293d3(0x580)](_0x497aa6),_0x497aa6[_0x4293d3(0x8fd)](),_0x48304a[_0x4293d3(0x43a)](_0x1e8e97);}}var _0x4bfed4,_0x2d72e6,_0x54c889;!function(_0x38dc57){const _0x3d3511=_0x5f24fc;_0x38dc57[_0x3d3511(0x7f9)]=_0x3d3511(0xb41),_0x38dc57['DTVolatility']=_0x3d3511(0x424),_0x38dc57[_0x3d3511(0x47b)]=_0x3d3511(0x9e0),_0x38dc57[_0x3d3511(0x527)]=_0x3d3511(0x703),_0x38dc57[_0x3d3511(0x91a)]=_0x3d3511(0xaa6),_0x38dc57[_0x3d3511(0x4ab)]='fps',_0x38dc57[_0x3d3511(0x7f5)]=_0x3d3511(0xa5b),_0x38dc57[_0x3d3511(0x7e4)]=_0x3d3511(0xa6a);}(_0x4bfed4||(_0x4bfed4={})),function(_0x18f29b){const _0x14f661=_0x5f24fc;_0x18f29b[_0x14f661(0x5fe)]=_0x14f661(0x2e3),_0x18f29b['TimePerFrame']='cpu.time_per_frame',_0x18f29b[_0x14f661(0x7e4)]=_0x14f661(0x96e),_0x18f29b[_0x14f661(0x4ab)]=_0x14f661(0x7cb),_0x18f29b[_0x14f661(0x527)]=_0x14f661(0x2e8),_0x18f29b[_0x14f661(0x91a)]='bandwidth.jitter',_0x18f29b[_0x14f661(0x7f5)]=_0x14f661(0x2dc);}(_0x2d72e6||(_0x2d72e6={})),function(_0x5df909){const _0x3921ac=_0x5f24fc;_0x5df909[_0x5df909[_0x3921ac(0x8e1)]=0x0]=_0x3921ac(0x8e1);}(_0x54c889||(_0x54c889={}));const _0xfbcfd1=[{'type':_0x4bfed4['STVolatility'],'reportMetric':_0x2fb387=>_0x2fb387[_0x5f24fc(0x7f9)],'maxThreshold':2.5},{'type':_0x4bfed4[_0x5f24fc(0x548)],'reportMetric':_0x8b0444=>_0x8b0444['DTVolatility'],'maxThreshold':0.5}],_0x481390=[{'type':_0x4bfed4['TimePerFrame'],'reportMetric':_0x475dc3=>{const _0x56a7d8=_0x5f24fc,_0xfed11=0x3e8/_0x475dc3[_0x56a7d8(0x747)];return _0x475dc3[_0x56a7d8(0x6c3)]/_0xfed11;},'maxThreshold':0.75},{'type':_0x4bfed4[_0x5f24fc(0x527)],'reportMetric':_0x112121=>{const _0x802989=_0x5f24fc,_0x12aa22=_0x112121[_0x802989(0x747)]*_0x112121[_0x802989(0x4b2)]*_0x112121['frameHeight']*0.12;return _0x112121[_0x802989(0x703)]/_0x12aa22;},'minThreshold':0.25},{'type':_0x4bfed4[_0x5f24fc(0x91a)],'reportMetric':_0x1c9129=>_0x1c9129['jitter'],'maxThreshold':0.6},{'type':_0x4bfed4[_0x5f24fc(0x4ab)],'reportMetric':_0x569cd7=>_0x569cd7['FPS'],'minThreshold':0xa}],_0x43757d=[{'type':_0x4bfed4['Jitter'],'reportMetric':_0x1f9961=>_0x1f9961['jitter'],'maxThreshold':0.6}],_0x40a5a1=[{'type':_0x4bfed4[_0x5f24fc(0x7f5)],'reportMetric':_0x2b342b=>_0x2b342b[_0x5f24fc(0x8cc)],'maxThreshold':0x1/0x0}],_0x3bda76=[{'type':_0x4bfed4[_0x5f24fc(0x7e4)],'reportMetric':_0x17d79d=>_0x17d79d['AudioVideoDelay'],'maxThreshold':0x12c}],_0x319783=[{'type':_0x2d72e6['CPUCycle'],'issues':[{'type':_0x4bfed4['STVolatility'],'threshold':0x5},{'type':_0x4bfed4[_0x5f24fc(0x548)],'threshold':0x5}]},{'type':_0x2d72e6['TimePerFrame'],'issues':[{'type':_0x4bfed4[_0x5f24fc(0x47b)],'threshold':0x3}]},{'type':_0x2d72e6[_0x5f24fc(0x7e4)],'issues':[{'type':_0x4bfed4[_0x5f24fc(0x7e4)],'threshold':0x2}]},{'type':_0x2d72e6['FramePerSecond'],'issues':[{'type':_0x4bfed4[_0x5f24fc(0x4ab)],'threshold':0x3}]},{'type':_0x2d72e6[_0x5f24fc(0x527)],'issues':[{'type':_0x4bfed4[_0x5f24fc(0x527)],'threshold':0x3}]},{'type':_0x2d72e6[_0x5f24fc(0x91a)],'issues':[{'type':_0x4bfed4[_0x5f24fc(0x91a)],'threshold':0x3}]},{'type':_0x2d72e6[_0x5f24fc(0x7f5)],'issues':[{'type':_0x4bfed4[_0x5f24fc(0x7f5)],'threshold':0x3}]}];var _0x412a14,_0x90840;!function(_0x57e78d){const _0x198e31=_0x5f24fc;_0x57e78d[_0x57e78d['StreamReport']=0x0]=_0x198e31(0x951),_0x57e78d[_0x57e78d[_0x198e31(0x9a4)]=0x1]='LocalReport';}(_0x412a14||(_0x412a14={}));class _0x2fc17e{['configs'];[_0x5f24fc(0x7ea)]=[];[_0x5f24fc(0x541)];constructor(_0x402f8d){const _0x276268=_0x5f24fc;this[_0x276268(0x6c1)]=_0x402f8d,this['configs'][_0x276268(0xae2)][_0x276268(0x545)](this);}['registerSystemPublisher'](_0x24bfe2){const _0x5003f8=_0x5f24fc;this[_0x5003f8(0x541)]=_0x24bfe2;}[_0x5f24fc(0x29f)](){const _0xab1045=_0x5f24fc;this[_0xab1045(0x541)]=void 0x0;}['close'](){const _0x5ca1e4=_0x5f24fc;this['configs'][_0x5ca1e4(0xae2)][_0x5ca1e4(0x580)](this),this[_0x5ca1e4(0x7ea)]=[];}['handleStatsSystemEvents'](_0xb32442){const _0x40387c=_0x5f24fc;switch(_0xb32442['content'][_0x40387c(0x781)]){case _0x412a14[_0x40387c(0x9a4)]:this[_0x40387c(0xa68)](_0xb32442[_0x40387c(0x6b2)][_0x40387c(0x3b9)]);break;case _0x412a14[_0x40387c(0x951)]:this['detectStreamIssues'](_0xb32442['content'][_0x40387c(0x3b9)]);}}[_0x5f24fc(0x7fd)](_0x2486f2,_0x3484da,_0x5c8e09,_0x3b867f){const _0x1211fa=_0x5f24fc,_0x10ac6a=_0x319783[_0x1211fa(0x260)](_0x4d34cf=>_0x4d34cf['issues'][_0x1211fa(0x9fb)](_0x5c10e8=>_0x5c10e8[_0x1211fa(0x781)]===_0x2486f2));_0x3b867f>=_0x10ac6a[_0x1211fa(0x7ea)][_0x1211fa(0x260)](_0x397294=>_0x397294[_0x1211fa(0x781)]===_0x2486f2)[_0x1211fa(0x31f)]&&(this[_0x1211fa(0x3f7)](_0x10ac6a[_0x1211fa(0x781)],_0x3484da,_0x5c8e09),this[_0x1211fa(0x7ea)]=this[_0x1211fa(0x7ea)][_0x1211fa(0x776)](_0x1ab1d5=>!(_0x1ab1d5[_0x1211fa(0x781)]===_0x2486f2&&_0x1ab1d5['nodeId']===_0x3484da&&_0x1ab1d5['origin']===_0x5c8e09)));}[_0x5f24fc(0xa68)](_0x5ced97){_0xfbcfd1['forEach'](_0x4ee2e=>{const _0x2ffc32=a0_0x214c,_0x514c1c=_0x4ee2e[_0x2ffc32(0x681)](_0x5ced97);_0x4ee2e[_0x2ffc32(0x7a9)]&&_0x514c1c>_0x4ee2e[_0x2ffc32(0x7a9)]&&this[_0x2ffc32(0x336)](_0x4ee2e['type'],this[_0x2ffc32(0x6c1)]['localNode'][_0x2ffc32(0x6e8)](),_0x7885c9[_0x2ffc32(0x4c8)],_0x514c1c),_0x4ee2e['minThreshold']&&_0x514c1c<_0x4ee2e[_0x2ffc32(0x40a)]&&this[_0x2ffc32(0x336)](_0x4ee2e['type'],this[_0x2ffc32(0x6c1)]['localNode'][_0x2ffc32(0x6e8)](),_0x7885c9[_0x2ffc32(0x4c8)],_0x514c1c);});}[_0x5f24fc(0x591)](_0x464a76){const _0x2dc8f3=_0x5f24fc;let _0x327493=[];switch(_0x464a76['origin']){case _0x7885c9[_0x2dc8f3(0x4c8)]:_0x327493=_0x40a5a1;break;case _0x7885c9[_0x2dc8f3(0xab5)]:_0x327493=_0x3bda76;}_0x464a76[_0x2dc8f3(0x829)]&&this['detectVideoIssues'](_0x464a76[_0x2dc8f3(0x73c)],_0x7885c9[_0x2dc8f3(0x4c8)],_0x464a76[_0x2dc8f3(0x829)]),_0x464a76[_0x2dc8f3(0x214)]&&this[_0x2dc8f3(0xb38)](_0x464a76['nodeId'],_0x7885c9[_0x2dc8f3(0x4c8)],_0x464a76[_0x2dc8f3(0x214)]),_0x327493[_0x2dc8f3(0xac8)](_0x7d4782=>{const _0x30bd46=_0x2dc8f3,_0x244d43=_0x7d4782[_0x30bd46(0x681)](_0x464a76);_0x7d4782['maxThreshold']&&_0x244d43>_0x7d4782[_0x30bd46(0x7a9)]&&this[_0x30bd46(0x336)](_0x7d4782['type'],_0x464a76[_0x30bd46(0x73c)],_0x7885c9[_0x30bd46(0x4c8)],_0x244d43),_0x7d4782[_0x30bd46(0x40a)]&&_0x244d43<_0x7d4782[_0x30bd46(0x40a)]&&this[_0x30bd46(0x336)](_0x7d4782[_0x30bd46(0x781)],_0x464a76['nodeId'],_0x7885c9[_0x30bd46(0x4c8)],_0x244d43);});}['detectVideoIssues'](_0xf90f13,_0x471dad,_0xf0ffd8){const _0x2a101a=_0x5f24fc;0x0!==_0xf0ffd8['bitrate']&&_0x481390[_0x2a101a(0xac8)](_0x3c2f93=>{const _0x3b4e7f=_0x2a101a,_0xd5ff5c=_0x3c2f93['reportMetric'](_0xf0ffd8);_0x3c2f93[_0x3b4e7f(0x7a9)]&&_0xd5ff5c>_0x3c2f93[_0x3b4e7f(0x7a9)]&&this['addIssue'](_0x3c2f93[_0x3b4e7f(0x781)],_0xf90f13,_0x471dad,_0xd5ff5c,_0x3b4e7f(0x829)),_0x3c2f93[_0x3b4e7f(0x40a)]&&_0xd5ff5c<_0x3c2f93[_0x3b4e7f(0x40a)]&&this[_0x3b4e7f(0x336)](_0x3c2f93['type'],_0xf90f13,_0x471dad,_0xd5ff5c,_0x3b4e7f(0x829));});}['detectAudioIssues'](_0x3e585d,_0x250afa,_0x3cf780){const _0x1d3d31=_0x5f24fc;0x0!==_0x3cf780[_0x1d3d31(0x703)]&&_0x43757d[_0x1d3d31(0xac8)](_0x1f2539=>{const _0x32a838=_0x1d3d31,_0x548060=_0x1f2539[_0x32a838(0x681)](_0x3cf780);_0x1f2539[_0x32a838(0x7a9)]&&_0x548060>_0x1f2539['maxThreshold']&&this[_0x32a838(0x336)](_0x1f2539[_0x32a838(0x781)],_0x3e585d,_0x250afa,_0x548060,'audio'),_0x1f2539[_0x32a838(0x40a)]&&_0x548060<_0x1f2539[_0x32a838(0x40a)]&&this[_0x32a838(0x336)](_0x1f2539[_0x32a838(0x781)],_0x3e585d,_0x250afa,_0x548060,_0x32a838(0x214));});}[_0x5f24fc(0x336)](_0xa0dee9,_0x3c76b7,_0x2b860e,_0x26e5dd,_0x1b7c35){const _0x128743=_0x5f24fc;_0x40d481[_0x128743(0x60e)](_0xb10df[_0x128743(0x5c6)],_0x128743(0x3fb)+_0xa0dee9,_0xa0dee9,_0x26e5dd),_0x40d481[_0x128743(0x2e1)](_0x128743(0x887),{'clusterId':this[_0x128743(0x6c1)][_0x128743(0x412)],'nodeId':this[_0x128743(0x6c1)]['localNode'][_0x128743(0x6e8)](),'nodeType':this[_0x128743(0x6c1)][_0x128743(0x8ad)]['type'],'remoteId':_0x3c76b7,'data':{'type':_0xa0dee9,'value':_0x26e5dd,'kind':_0x1b7c35}}),this['issues']=this['issues'][_0x128743(0x776)](_0x333d39=>Date[_0x128743(0x2c1)]()-_0x333d39[_0x128743(0x586)]<0x7530),this[_0x128743(0x7ea)][_0x128743(0x96d)]({'timestamp':Date[_0x128743(0x2c1)](),'type':_0xa0dee9,'nodeId':_0x3c76b7,'origin':_0x2b860e,'value':_0x26e5dd,'kind':_0x1b7c35});const _0xef8313=this['issues']['filter'](_0xedac0e=>_0xedac0e[_0x128743(0x781)]===_0xa0dee9&&_0xedac0e[_0x128743(0x73c)]===_0x3c76b7&&_0xedac0e['origin']===_0x2b860e)[_0x128743(0x9a6)];this[_0x128743(0x7fd)](_0xa0dee9,_0x3c76b7,_0x2b860e,_0xef8313);}[_0x5f24fc(0x3f7)](_0x5eb46e,_0x99b7b,_0x4bc75b){const _0x272ba6=_0x5f24fc;_0x40d481[_0x272ba6(0x60e)](_0xb10df[_0x272ba6(0x5c6)],_0x272ba6(0x3f3)+_0x5eb46e),_0x40d481[_0x272ba6(0x2e1)](_0x272ba6(0x9fa),{'clusterId':this[_0x272ba6(0x6c1)][_0x272ba6(0x412)],'nodeId':this[_0x272ba6(0x6c1)][_0x272ba6(0x8ad)][_0x272ba6(0x6e8)](),'nodeType':this[_0x272ba6(0x6c1)][_0x272ba6(0x8ad)][_0x272ba6(0x781)],'remoteId':_0x99b7b,'data':{'type':_0x5eb46e}}),this[_0x272ba6(0x541)]?.[_0x272ba6(0x803)]({'sourceId':_0x7cf9e6,'messageType':_0x31112d['Detection'],'content':{'type':_0x54c889['Problem'],'data':{'timestamp':Date[_0x272ba6(0x2c1)](),'nodeId':_0x99b7b,'origin':_0x7885c9[_0x272ba6(0x4c8)],'type':_0x5eb46e}}});}}class _0x49c219 extends _0x540e31{[_0x5f24fc(0x781)]=_0x20053a[_0x5f24fc(0x6c8)][_0x5f24fc(0x723)];}class _0x4256cf extends _0x49c219{[_0x5f24fc(0x541)];[_0x5f24fc(0x516)]=Date['now']();['updateDebounceTimeout'];['lastUpdated'];['close'](){const _0x244f20=_0x5f24fc;this['updateDebounceTimeout']&&(clearTimeout(this['updateDebounceTimeout']),delete this[_0x244f20(0x2db)]),delete this[_0x244f20(0x650)],this[_0x244f20(0x516)]=Date[_0x244f20(0x2c1)](),super[_0x244f20(0x7ef)]();}['registerSystemPublisher'](_0x51760f){const _0x3a3ffe=_0x5f24fc;this[_0x3a3ffe(0x541)]=_0x51760f;}['unregisterSystemPublisher'](){const _0x4ff8f3=_0x5f24fc;delete this[_0x4ff8f3(0x541)];}[_0x5f24fc(0x51c)](_0xad2ba){const _0x305a05=_0x5f24fc;!this['updateDebounceTimeout']&&this[_0x305a05(0x217)]&&this['systemTopic'][_0x305a05(0x803)]({'sourceId':this['id'],'destinationIds':[_0xad2ba],'propagate':!0x0,'messageType':_0x31112d[_0x305a05(0x91e)],'content':{'type':_0x4c7147[_0x305a05(0x25a)],'id':this['id'],'metaData':{'type':this[_0x305a05(0x781)]},'rank':this[_0x305a05(0x375)](),'remoteConnections':Array[_0x305a05(0x3ce)](this[_0x305a05(0x41c)]),'version':this['currentVersion']}});}[_0x5f24fc(0x7b6)](_0x4770d0){const _0x24e260=_0x5f24fc;this[_0x24e260(0x41c)][_0x24e260(0x4cb)](_0x4770d0)||(this[_0x24e260(0x41c)]['add'](_0x4770d0),this['incrementVersion'](),this[_0x24e260(0x847)](!0x0));}[_0x5f24fc(0xa00)](_0x3c51b7){const _0x149c38=_0x5f24fc;this['remoteConnections']['has'](_0x3c51b7)&&(this[_0x149c38(0x41c)][_0x149c38(0x43a)](_0x3c51b7),this['incrementVersion'](),this[_0x149c38(0x847)](!0x0));}[_0x5f24fc(0x318)](){const _0x388d4=_0x5f24fc;return this[_0x388d4(0x516)];}[_0x5f24fc(0xa3b)](_0x23c6f,_0xc43280=!0x0){const _0x3bdd60=_0x5f24fc;this[_0x3bdd60(0x217)]!==_0x23c6f&&(this[_0x3bdd60(0x217)]=_0x23c6f,_0xc43280&&(this[_0x3bdd60(0x798)](),this[_0x3bdd60(0x847)]()));}[_0x5f24fc(0x798)](){const _0x56950c=_0x5f24fc;this[_0x56950c(0x516)]=Date[_0x56950c(0x2c1)]();}['publishUserUpdate'](_0x627ad4=!0x1){const _0x4e9a93=_0x5f24fc;if(this[_0x4e9a93(0x217)]){if(this['lastUpdated']||(this[_0x4e9a93(0x650)]=Date[_0x4e9a93(0x2c1)]()),this[_0x4e9a93(0x2db)]){if(Date[_0x4e9a93(0x2c1)]()-this[_0x4e9a93(0x650)]>0x2328)return;clearTimeout(this[_0x4e9a93(0x2db)]);}this[_0x4e9a93(0x2db)]=setTimeout(()=>{const _0x1e87a8=_0x4e9a93;delete this[_0x1e87a8(0x650)],delete this['updateDebounceTimeout'],this[_0x1e87a8(0x541)][_0x1e87a8(0x803)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x31112d[_0x1e87a8(0x91e)],'content':{'type':_0x627ad4?_0x4c7147['NodeConnectionsUpdate']:_0x4c7147['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0x1e87a8(0x781)]},'rank':this[_0x1e87a8(0x375)](),'remoteConnections':Array[_0x1e87a8(0x3ce)](this['remoteConnections']),'version':this[_0x1e87a8(0x516)]}});},0x3e8);}}}class _0x1d60ad extends _0x4438c8{['systemTopic'];['currentVersion']=Date[_0x5f24fc(0x2c1)]();[_0x5f24fc(0x2db)];[_0x5f24fc(0x650)];[_0x5f24fc(0x7ef)](){const _0x41c60f=_0x5f24fc;this['updateDebounceTimeout']&&(clearTimeout(this['updateDebounceTimeout']),delete this[_0x41c60f(0x2db)]),delete this['lastUpdated'],this[_0x41c60f(0x516)]=Date[_0x41c60f(0x2c1)](),super['close']();}[_0x5f24fc(0xaf7)](_0x180021){const _0x49fcde=_0x5f24fc;this[_0x49fcde(0x541)]=_0x180021;}['unregisterSystemPublisher'](){const _0x2c6e31=_0x5f24fc;delete this[_0x2c6e31(0x541)];}[_0x5f24fc(0x51c)](_0x4a0a1c){const _0x55b95e=_0x5f24fc;!this[_0x55b95e(0x2db)]&&this['rank']&&this['systemTopic'][_0x55b95e(0x803)]({'sourceId':this['id'],'destinationIds':[_0x4a0a1c],'propagate':!0x0,'messageType':_0x31112d[_0x55b95e(0x91e)],'content':{'type':_0x4c7147[_0x55b95e(0x25a)],'id':this['id'],'metaData':{'type':this[_0x55b95e(0x781)],'displayName':this[_0x55b95e(0x75d)](),'email':this['getEmail']()},'rank':this['getRank'](),'remoteConnections':Array[_0x55b95e(0x3ce)](this['remoteConnections']),'version':this[_0x55b95e(0x516)]}});}[_0x5f24fc(0x7b6)](_0x11bffc){const _0x49d790=_0x5f24fc;this[_0x49d790(0x41c)][_0x49d790(0x4cb)](_0x11bffc)||(this['remoteConnections']['add'](_0x11bffc),this[_0x49d790(0x798)](),this['publishUserUpdate'](!0x0));}[_0x5f24fc(0xa00)](_0x51142e){const _0x43a3d2=_0x5f24fc;this['remoteConnections'][_0x43a3d2(0x4cb)](_0x51142e)&&(this[_0x43a3d2(0x41c)][_0x43a3d2(0x43a)](_0x51142e),this['incrementVersion'](),this['publishUserUpdate'](!0x0));}[_0x5f24fc(0x318)](){const _0x440159=_0x5f24fc;return this[_0x440159(0x516)];}['setDisplayName'](_0x43536c){const _0x3a261d=_0x5f24fc;this['displayName']!==_0x43536c&&(this[_0x3a261d(0x573)]=_0x43536c,this[_0x3a261d(0x798)](),this[_0x3a261d(0x847)]());}[_0x5f24fc(0x6aa)](_0x274bcb){const _0x3dc395=_0x5f24fc;this[_0x3dc395(0xa9b)]!==_0x274bcb&&(this['email']=_0x274bcb,this[_0x3dc395(0x798)](),this[_0x3dc395(0x847)]());}[_0x5f24fc(0xa3b)](_0x2874b7,_0x3a9f59=!0x0){const _0x587ee7=_0x5f24fc;this['rank']!==_0x2874b7&&(this['rank']=_0x2874b7,_0x3a9f59&&(this[_0x587ee7(0x798)](),this[_0x587ee7(0x847)]()));}['incrementVersion'](){const _0x566721=_0x5f24fc;this[_0x566721(0x516)]=Date[_0x566721(0x2c1)]();}[_0x5f24fc(0x847)](_0x5c3273=!0x1){const _0x2d2962=_0x5f24fc;if(this[_0x2d2962(0x217)]){if(this[_0x2d2962(0x650)]||(this[_0x2d2962(0x650)]=Date[_0x2d2962(0x2c1)]()),this[_0x2d2962(0x2db)]){if(Date[_0x2d2962(0x2c1)]()-this[_0x2d2962(0x650)]>0x2328)return;clearTimeout(this[_0x2d2962(0x2db)]);}this['updateDebounceTimeout']=setTimeout(()=>{const _0x4c8807=_0x2d2962;delete this['lastUpdated'],delete this[_0x4c8807(0x2db)],this[_0x4c8807(0x541)][_0x4c8807(0x803)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x31112d[_0x4c8807(0x91e)],'content':{'type':_0x5c3273?_0x4c7147[_0x4c8807(0x55a)]:_0x4c7147['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0x4c8807(0x781)],'displayName':this[_0x4c8807(0x75d)](),'email':this['getEmail']()},'rank':this[_0x4c8807(0x375)](),'remoteConnections':Array['from'](this[_0x4c8807(0x41c)]),'version':this['currentVersion']}});},0x3e8);}}}class _0x250b31{['id'];[_0x5f24fc(0x840)];[_0x5f24fc(0x240)];[_0x5f24fc(0x440)];[_0x5f24fc(0x781)]=_0x20053a[_0x5f24fc(0x6c8)][_0x5f24fc(0x723)];[_0x5f24fc(0x526)];constructor(_0x326b74,_0x43ec75,_0x1caeb9,_0x419e28){const _0x21b672=_0x5f24fc;this['id']=_0x326b74,this['groupId']=_0x43ec75,this['vendorId']=_0x1caeb9,this[_0x21b672(0x440)]=_0x419e28;}[_0x5f24fc(0x6e8)](){return this['id'];}[_0x5f24fc(0x8b1)](_0x3340a5){const _0x5ca168=_0x5f24fc,_0x526547=(0x0,_0x1d5bc0[_0x5ca168(0x377)])((0x0,_0x1d5bc0[_0x5ca168(0x1f8)])(_0x47e6c0[_0x5ca168(0x422)](),'developers/'+this[_0x5ca168(0x240)]+'/resources/agent/items/'+this['groupId']),_0x528478=>{const _0x18c6df=_0x5ca168;if(_0x528478[_0x18c6df(0x713)]()){const _0x10f826=_0x528478['data']();if(this[_0x18c6df(0x440)]['timestamp'][_0x18c6df(0x615)](_0x10f826['timestamp']))return;_0x40d481[_0x18c6df(0x60e)](_0xb10df[_0x18c6df(0x91e)],_0x18c6df(0x82b),{'agentId':this['id'],'groupId':this['groupId'],'oldConfig':this[_0x18c6df(0x440)],'newConfig':_0x10f826}),this[_0x18c6df(0x440)]=_0x10f826,_0x3340a5();}});return()=>_0x526547();}['setReportCapacity'](_0x16aef1){const _0x286740=_0x5f24fc;return this[_0x286740(0x771)](this[_0x286740(0x840)],_0x16aef1),_0x4ecfc3[_0x286740(0x668)](()=>this['reportCapacity'](this[_0x286740(0x840)],_0x16aef1),0x7530);}['getCapacityReport'](){const _0xda759f=_0x5f24fc;if(!this['lastCapacityReport'])throw new _0x4668fc(_0x4668fc[_0xda759f(0x85e)][_0xda759f(0x6b4)]);return this['lastCapacityReport'];}async['reportCapacity'](_0x12f9e1,_0x18f7c2){const _0x4edae6=_0x5f24fc,_0x29e04b=await _0x18f7c2();this[_0x4edae6(0x526)]=_0x29e04b,await(0x0,_0x1d5bc0[_0x4edae6(0x7e9)])((0x0,_0x1d5bc0['collection'])(_0x47e6c0[_0x4edae6(0x422)](),_0x4edae6(0x955)+this[_0x4edae6(0x240)]+_0x4edae6(0x9c5)),{'agentId':this['id'],'groupId':_0x12f9e1,'timestamp':(0x0,_0x1d5bc0[_0x4edae6(0x8f1)])(),'capacity':_0x29e04b});}}!function(_0x5808ae){const _0x85b8e8=_0x5f24fc;_0x5808ae[_0x5808ae[_0x85b8e8(0x3db)]=0x0]='Online',_0x5808ae[_0x5808ae[_0x85b8e8(0x82f)]=0x1]='Offline';}(_0x90840||(_0x90840={}));class _0x41541d extends _0x49c219{[_0x5f24fc(0x516)];[_0x5f24fc(0x524)]=_0x90840[_0x5f24fc(0x3db)];[_0x5f24fc(0x650)]=Date[_0x5f24fc(0x2c1)]();constructor(_0x9d28e7,_0x5eb307=new Set(),_0x3d12fd,_0xebd34d){super(_0x9d28e7,_0x5eb307,_0xebd34d),this['currentVersion']=_0x3d12fd;}[_0x5f24fc(0x318)](){const _0x35b885=_0x5f24fc;return this[_0x35b885(0x516)];}[_0x5f24fc(0x596)](){const _0x545a6f=_0x5f24fc;return this[_0x545a6f(0x524)];}[_0x5f24fc(0x873)](){return this['lastUpdated'];}[_0x5f24fc(0xa3b)](_0xef2624){const _0x3306ff=_0x5f24fc;this[_0x3306ff(0x217)]!==_0xef2624&&(this['rank']=_0xef2624,this['updateLastUpdated']());}[_0x5f24fc(0x543)](_0x55b4c1){const _0xfbad02=_0x5f24fc;let _0x406c81=!0x1;for(const _0x2c1c30 of this[_0xfbad02(0x41c)])_0x55b4c1[_0xfbad02(0x465)](_0x2c1c30)||(_0x406c81=!0x0,this['remoteConnections'][_0xfbad02(0x43a)](_0x2c1c30));for(const _0xb53d43 of _0x55b4c1)this[_0xfbad02(0x41c)][_0xfbad02(0x4cb)](_0xb53d43)||(_0x406c81=!0x0,this['remoteConnections'][_0xfbad02(0x859)](_0xb53d43));_0x406c81&&this[_0xfbad02(0x88a)]();}[_0x5f24fc(0x1f9)](_0x47fb00){const _0x13681a=_0x5f24fc;this[_0x13681a(0x516)]!==_0x47fb00&&(this[_0x13681a(0x516)]=_0x47fb00,this['updateLastUpdated']());}[_0x5f24fc(0x9e2)](_0x3a9e05){const _0x314cc5=_0x5f24fc;this['status']!==_0x3a9e05&&(this[_0x314cc5(0x524)]=_0x3a9e05,this[_0x314cc5(0x88a)](),_0x3a9e05===_0x90840[_0x314cc5(0x82f)]&&this[_0x314cc5(0x7ef)]());}['updateLastUpdated'](){const _0xfabf32=_0x5f24fc;this[_0xfabf32(0x650)]=Date[_0xfabf32(0x2c1)]();}}class _0x3c16c9 extends _0x4438c8{['currentVersion'];['status']=_0x90840[_0x5f24fc(0x3db)];[_0x5f24fc(0x650)]=Date[_0x5f24fc(0x2c1)]();constructor(_0x3ec794,_0x3ecd96,_0x3a173d,_0x5a4f2e=new Set(),_0x9df9bc,_0xefad35){super(_0x3ec794,_0x3ecd96,_0x3a173d,_0x5a4f2e,_0xefad35),this['currentVersion']=_0x9df9bc;}[_0x5f24fc(0x318)](){return this['currentVersion'];}[_0x5f24fc(0x596)](){const _0x41e715=_0x5f24fc;return this[_0x41e715(0x524)];}['getLastUpdated'](){const _0x1dfd1c=_0x5f24fc;return this[_0x1dfd1c(0x650)];}['setDisplayName'](_0x504529){const _0x3578a9=_0x5f24fc;this[_0x3578a9(0x573)]!==_0x504529&&(this[_0x3578a9(0x573)]=_0x504529,this['updateLastUpdated']());}[_0x5f24fc(0x6aa)](_0x3c1ee4){this['email']!==_0x3c1ee4&&(this['email']=_0x3c1ee4,this['updateLastUpdated']());}[_0x5f24fc(0xa3b)](_0x164e22){const _0x1c5088=_0x5f24fc;this['rank']!==_0x164e22&&(this[_0x1c5088(0x217)]=_0x164e22,this[_0x1c5088(0x88a)]());}['setRemoteConnections'](_0x214cbe){const _0x1a84ea=_0x5f24fc;let _0x230ca1=!0x1;for(const _0x386644 of this[_0x1a84ea(0x41c)])_0x214cbe[_0x1a84ea(0x465)](_0x386644)||(_0x230ca1=!0x0,this[_0x1a84ea(0x41c)][_0x1a84ea(0x43a)](_0x386644));for(const _0x14f832 of _0x214cbe)this['remoteConnections'][_0x1a84ea(0x4cb)](_0x14f832)||(_0x230ca1=!0x0,this[_0x1a84ea(0x41c)][_0x1a84ea(0x859)](_0x14f832));_0x230ca1&&this[_0x1a84ea(0x88a)]();}['setCurrentVersion'](_0x43b142){const _0x53cee0=_0x5f24fc;this['currentVersion']!==_0x43b142&&(this[_0x53cee0(0x516)]=_0x43b142,this[_0x53cee0(0x88a)]());}[_0x5f24fc(0x9e2)](_0x59dd62){const _0x57981d=_0x5f24fc;this[_0x57981d(0x524)]!==_0x59dd62&&(this[_0x57981d(0x524)]=_0x59dd62,this[_0x57981d(0x88a)](),_0x59dd62===_0x90840['Offline']&&this['close']());}['updateLastUpdated'](){const _0x22de51=_0x5f24fc;this[_0x22de51(0x650)]=Date['now']();}}class _0x34d7aa{[_0x5f24fc(0x240)];[_0x5f24fc(0x412)];[_0x5f24fc(0x8ad)];[_0x5f24fc(0x6b0)];['disconnectCallback']=_0x9e13e();[_0x5f24fc(0x88b)];[_0x5f24fc(0x357)];['onDisconnectHandler'];[_0x5f24fc(0x6d6)]=!0x1;[_0x5f24fc(0xa40)];[_0x5f24fc(0x537)];constructor(_0x272dc7,_0x1d9139,_0x3ba467,_0x42608c){const _0x1efb5d=_0x5f24fc;this[_0x1efb5d(0x240)]=_0x272dc7,this[_0x1efb5d(0x412)]=_0x1d9139,this[_0x1efb5d(0x8ad)]=_0x3ba467,this[_0x1efb5d(0x6b0)]=_0x42608c,this['clusterKey']=_0x1efb5d(0xa33)+this[_0x1efb5d(0x240)]+_0x1efb5d(0xa33)+this[_0x1efb5d(0x412)],this['nodeKey']=_0x1efb5d(0xa33)+this[_0x1efb5d(0x240)]+_0x1efb5d(0xa33)+this[_0x1efb5d(0x8ad)][_0x1efb5d(0x6e8)](),this[_0x1efb5d(0x88b)]=(0x0,_0x552cea[_0x1efb5d(0x4ed)])((0x0,_0x552cea[_0x1efb5d(0x79f)])(_0x47e6c0['getDatabase'](),'.info/connected'),_0x2df741=>{const _0x19ed96=_0x1efb5d;!0x0!==_0x2df741[_0x19ed96(0x3b4)]()?this[_0x19ed96(0x6d6)]&&_0x40d481[_0x19ed96(0x4d2)](_0x19ed96(0x28e),{'clusterId':this[_0x19ed96(0x412)],'nodeId':this[_0x19ed96(0x8ad)][_0x19ed96(0x6e8)](),'nodeType':this[_0x19ed96(0x8ad)][_0x19ed96(0x781)]}):(this['connected']=!0x0,this['setOnDisconnectHandler'](),_0x40d481[_0x19ed96(0x3a1)](_0x19ed96(0x42e),{'clusterId':this[_0x19ed96(0x412)],'nodeId':this[_0x19ed96(0x8ad)]['getId'](),'nodeType':this[_0x19ed96(0x8ad)][_0x19ed96(0x781)]}));});}async[_0x5f24fc(0x250)](){const _0x474ce9=_0x5f24fc;await this[_0x474ce9(0x672)]();const _0x57a846=await this['getAncestors']();return this[_0x474ce9(0x357)]=(0x0,_0x552cea['onChildRemoved'])((0x0,_0x552cea['ref'])(_0x47e6c0[_0x474ce9(0x99b)](),_0x474ce9(0x2f5)+this[_0x474ce9(0xa40)]+'/nodes'),_0x8f0183=>{const _0x1d0499=_0x474ce9,_0x29632c=_0x8f0183[_0x1d0499(0x3e2)];if(!_0x29632c)return;const _0x8749c6=_0x29632c['replace'](_0x1d0499(0xa33)+this[_0x1d0499(0x240)]+'ccc','');this[_0x1d0499(0x2c7)]['publish'](_0x8749c6);}),_0x57a846;}async['close'](){const _0x409091=_0x5f24fc;this[_0x409091(0x357)]?.(),delete this[_0x409091(0x357)],this[_0x409091(0x23b)]?.[_0x409091(0x5b8)](),delete this[_0x409091(0x23b)],this['firebaseUnsubscriber']?.(),delete this[_0x409091(0x88b)],await(0x0,_0x552cea[_0x409091(0x20d)])((0x0,_0x552cea[_0x409091(0x79f)])(_0x47e6c0[_0x409091(0x99b)](),_0x409091(0x2f5)+this[_0x409091(0xa40)]+'/nodes/'+this[_0x409091(0x537)]));}[_0x5f24fc(0x653)](_0x297895){const _0x56af8b=_0x5f24fc;return this[_0x56af8b(0x2c7)][_0x56af8b(0x6f8)](_0x297895);}async['getAncestors'](){const _0x4a734f=_0x5f24fc,_0x3c2e0b=[],_0x17c0b3=await(0x0,_0x552cea[_0x4a734f(0xb07)])((0x0,_0x552cea['ref'])(_0x47e6c0[_0x4a734f(0x99b)](),'clusters/'+this[_0x4a734f(0xa40)]+_0x4a734f(0x9c6))),_0x58bbfb=[];return _0x17c0b3['forEach'](_0x2fbe87=>{const _0xb2bfd3=_0x4a734f,_0x39b1cb=_0x2fbe87['key']?.[_0xb2bfd3(0x49d)](_0xb2bfd3(0xa33)+this['vendorId']+_0xb2bfd3(0xa33),'');_0x58bbfb[_0xb2bfd3(0x96d)]({'id':_0x39b1cb,'joinedAt':_0x2fbe87[_0xb2bfd3(0x3b4)]()[_0xb2bfd3(0x581)],'priority':_0x2fbe87[_0xb2bfd3(0x3b4)]()[_0xb2bfd3(0x80e)]});}),_0x58bbfb[_0x4a734f(0x838)]((_0x34366c,_0x11545e)=>_0x34366c[_0x4a734f(0x581)]===_0x11545e['joinedAt']?_0x34366c[_0x4a734f(0x80e)]-_0x11545e['priority']:_0x34366c[_0x4a734f(0x581)]-_0x11545e[_0x4a734f(0x581)])[_0x4a734f(0x658)](_0x58bbfb[_0x4a734f(0xa66)](_0x5eb44f=>_0x5eb44f['id']===this['localNode'][_0x4a734f(0x6e8)]())),_0x58bbfb[_0x4a734f(0x838)]((_0x4d99ce,_0x159631)=>_0x159631[_0x4a734f(0x581)]===_0x4d99ce[_0x4a734f(0x581)]?_0x159631['priority']-_0x4d99ce[_0x4a734f(0x80e)]:_0x159631[_0x4a734f(0x581)]-_0x4d99ce[_0x4a734f(0x581)])['forEach'](_0x37397b=>{const _0x22cc3c=_0x4a734f;_0x3c2e0b['length']>=this[_0x22cc3c(0x6b0)]||_0x3c2e0b[_0x22cc3c(0x96d)](_0x37397b['id']);}),_0x40d481['logEvent']('discover',{'clusterId':this[_0x4a734f(0x412)],'nodeId':this[_0x4a734f(0x8ad)]['getId'](),'nodeType':this[_0x4a734f(0x8ad)][_0x4a734f(0x781)],'data':{'ancestorIds':_0x3c2e0b,'allNodes':_0x58bbfb}}),_0x3c2e0b;}async[_0x5f24fc(0x672)](){const _0x52c656=_0x5f24fc;await(0x0,_0x552cea[_0x52c656(0x338)])((0x0,_0x552cea[_0x52c656(0x79f)])(_0x47e6c0['getDatabase'](),_0x52c656(0x2f5)+this[_0x52c656(0xa40)]+'/nodes/'+this[_0x52c656(0x537)]),{'joinedAt':(0x0,_0x552cea[_0x52c656(0x8f1)])(),'priority':Math[_0x52c656(0x3a0)]()});}[_0x5f24fc(0x270)](){const _0x50af10=_0x5f24fc;this[_0x50af10(0x23b)]&&this[_0x50af10(0x23b)]['cancel'](),this[_0x50af10(0x23b)]=(0x0,_0x552cea[_0x50af10(0x395)])((0x0,_0x552cea['ref'])(_0x47e6c0[_0x50af10(0x99b)](),_0x50af10(0x2f5)+this[_0x50af10(0xa40)]+_0x50af10(0x896)+this[_0x50af10(0x537)])),this[_0x50af10(0x23b)][_0x50af10(0x20d)]();}}class _0x413789{['configs'];[_0x5f24fc(0x878)];[_0x5f24fc(0x5fa)];[_0x5f24fc(0x7a5)];['discoveryUnsubscriber'];[_0x5f24fc(0x77e)]=[];[_0x5f24fc(0x541)];[_0x5f24fc(0x481)]=new Map();[_0x5f24fc(0x609)];[_0x5f24fc(0x733)];[_0x5f24fc(0xaba)];[_0x5f24fc(0x3d7)];[_0x5f24fc(0x322)];[_0x5f24fc(0x54b)];constructor(_0x454312,_0x3623e1){const _0x3c2758=_0x5f24fc;this['configs']=_0x454312,this[_0x3c2758(0x878)]=_0x3623e1,this[_0x3c2758(0xaba)]=new Promise((_0xa77af7,_0xaddc7c)=>{const _0x44a391=_0x3c2758;this[_0x44a391(0x3d7)]=_0xa77af7,this[_0x44a391(0x322)]=_0xaddc7c;}),this[_0x3c2758(0x7a5)]=new _0x34d7aa(this[_0x3c2758(0x6c1)]['vendorId'],this['configs'][_0x3c2758(0x412)],this['configs'][_0x3c2758(0x8ad)],this[_0x3c2758(0x878)]['getMinConnections']()),this[_0x3c2758(0x493)]=this[_0x3c2758(0x7a5)][_0x3c2758(0x653)](this['handleNodeDisconnect'][_0x3c2758(0x1ff)](this)),this[_0x3c2758(0x6c1)][_0x3c2758(0xae2)][_0x3c2758(0x545)](this[_0x3c2758(0x6c1)]['localNode']),this['configs'][_0x3c2758(0xae2)][_0x3c2758(0x545)](this),this[_0x3c2758(0x5fa)]=_0x4ecfc3[_0x3c2758(0x668)](()=>{const _0x80a09f=_0x3c2758,_0x4169da=Date[_0x80a09f(0x2c1)]();this[_0x80a09f(0x878)][_0x80a09f(0x97b)]()['forEach'](_0xbfd66=>{const _0x25cb27=_0x80a09f;_0xbfd66[_0x25cb27(0x596)]()===_0x90840['Offline']&&_0xbfd66[_0x25cb27(0x873)]()<_0x4169da-0x493e0&&this[_0x25cb27(0x878)][_0x25cb27(0xaec)](_0xbfd66['getId']());});},0xea60);}async[_0x5f24fc(0x9dd)](){const _0x757f4a=_0x5f24fc;return this[_0x757f4a(0xaba)];}async[_0x5f24fc(0x3e6)](_0x1804ee){return new Promise((_0x19c939,_0x3173da)=>{const _0x2d193c=a0_0x214c;let _0x3d0c1b;const _0xadf179=setTimeout(()=>{const _0x513ea8=a0_0x214c;_0x3d0c1b?.(),_0x3173da(new Error(_0x513ea8(0x9bf)+_0x1804ee+'\x27\x20is\x20not\x20ready'));},0x2710);if(this[_0x2d193c(0x878)][_0x2d193c(0x53e)](_0x1804ee))return clearTimeout(_0xadf179),void _0x19c939(!0x0);_0x3d0c1b=this['graphService'][_0x2d193c(0x45c)](()=>{const _0x2909d5=_0x2d193c;this[_0x2909d5(0x878)]['hasRemoteNode'](_0x1804ee)&&(clearTimeout(_0xadf179),_0x19c939(!0x0),_0x3d0c1b?.());});});}['registerSystemPublisher'](_0x84b88){const _0x1f9256=_0x5f24fc;this[_0x1f9256(0x541)]=_0x84b88;}[_0x5f24fc(0x29f)](){const _0x5cfb8e=_0x5f24fc;delete this[_0x5cfb8e(0x541)];}[_0x5f24fc(0x7ef)](){const _0x1cf783=_0x5f24fc;this['debounceProcessRank']&&(clearTimeout(this[_0x1cf783(0x609)]),delete this[_0x1cf783(0x609)]),delete this[_0x1cf783(0x733)],this[_0x1cf783(0x6c1)]['localNode']['close'](),this[_0x1cf783(0x5fa)](),this['discoveryUnsubscriber'](),this[_0x1cf783(0x6c1)][_0x1cf783(0xae2)][_0x1cf783(0x580)](this[_0x1cf783(0x6c1)][_0x1cf783(0x8ad)]),this['configs'][_0x1cf783(0xae2)][_0x1cf783(0x580)](this),this[_0x1cf783(0x7a5)]['close']();}['getAncestorIds'](){const _0x476dd0=_0x5f24fc;return this[_0x476dd0(0x77e)];}['getLocalId'](){const _0x1520cc=_0x5f24fc;return this[_0x1520cc(0x6c1)][_0x1520cc(0x8ad)][_0x1520cc(0x6e8)]();}[_0x5f24fc(0x373)](){const _0x29a09b=_0x5f24fc;return this[_0x29a09b(0x6c1)][_0x29a09b(0x8ad)];}['getRemoteNodes'](_0x33ba24){const _0x4beaec=_0x5f24fc,_0x4c8e74=Array[_0x4beaec(0x3ce)](this[_0x4beaec(0x878)]['getRemoteNodes']()[_0x4beaec(0x9af)]())[_0x4beaec(0x776)](_0x577503=>_0x577503['getStatus']()===_0x90840[_0x4beaec(0x3db)]);return _0x33ba24?_0x4c8e74[_0x4beaec(0x776)](_0x33ba24):_0x4c8e74;}async[_0x5f24fc(0x9ec)](){const _0x57aed2=_0x5f24fc;return this[_0x57aed2(0x77e)]=await this[_0x57aed2(0x7a5)][_0x57aed2(0x250)](),this[_0x57aed2(0x77e)][_0x57aed2(0x9a6)]<this[_0x57aed2(0x878)]['getMinConnections']()&&(this[_0x57aed2(0x6c1)]['localNode']['setRank'](this[_0x57aed2(0x77e)][_0x57aed2(0x9a6)]+0x1),this[_0x57aed2(0x232)]()),this[_0x57aed2(0x77e)];}['getDistance'](_0x3c67e6,_0x35a5a4){const _0xcc422d=_0x5f24fc,_0x5a1bf4=this['configs'][_0xcc422d(0x8ad)][_0xcc422d(0xa49)](),_0x13e2d6=new Set(_0x5a1bf4),_0x207863=Array[_0xcc422d(0x3ce)](_0x5a1bf4)[_0xcc422d(0x776)](_0x48fae7=>_0x48fae7!==_0x3c67e6)[_0xcc422d(0xa4a)](_0x5d216a=>({'id':_0x5d216a,'distance':0x1}));for(;_0x207863[_0xcc422d(0x9a6)]>0x0;){const _0x417da5=_0x207863[_0xcc422d(0x918)]();if(!_0x417da5)continue;if(_0x417da5['id']===_0x35a5a4)return _0x417da5[_0xcc422d(0x45a)];const _0xc21f78=this[_0xcc422d(0x878)]['getRemoteNode'](_0x417da5['id']);_0xc21f78&&_0xc21f78[_0xcc422d(0x596)]()!==_0x90840[_0xcc422d(0x82f)]&&_0xc21f78[_0xcc422d(0xa49)]()[_0xcc422d(0xac8)](_0x995561=>{const _0x5a5d35=_0xcc422d;_0x13e2d6[_0x5a5d35(0x4cb)](_0x995561)||(_0x13e2d6[_0x5a5d35(0x859)](_0x995561),_0x207863['push']({'id':_0x995561,'distance':_0x417da5[_0x5a5d35(0x45a)]+0x1}));});}return-0x1;}['handleNodeSystemEvents'](_0x378c48){const _0x26edd3=_0x5f24fc;try{switch(_0x378c48[_0x26edd3(0x6b2)][_0x26edd3(0x781)]){case _0x4c7147[_0x26edd3(0x25a)]:case _0x4c7147['NodeConnectionsUpdate']:this[_0x26edd3(0x72a)](_0x378c48[_0x26edd3(0x6b2)]),_0x40d481[_0x26edd3(0x60e)](_0xb10df[_0x26edd3(0x91e)],_0x26edd3(0x98d),'\x27'+this[_0x26edd3(0x6c1)]['localNode'][_0x26edd3(0x6e8)]()+',\x20'+_0x378c48[_0x26edd3(0x241)]+'\x27',_0x378c48,_0x378c48[_0x26edd3(0x6b2)]);break;case _0x4c7147[_0x26edd3(0xa70)]:this[_0x26edd3(0x7a1)](_0x378c48[_0x26edd3(0x6b2)]['id']),_0x40d481['log'](_0xb10df[_0x26edd3(0x91e)],_0x26edd3(0x544),'\x27'+this['configs'][_0x26edd3(0x8ad)][_0x26edd3(0x6e8)]()+',\x20'+_0x378c48[_0x26edd3(0x241)]+'\x27',_0x378c48,_0x378c48[_0x26edd3(0x6b2)]);}}catch(_0x2e0872){if(_0x2e0872 instanceof _0x34bdcf)return void _0x40d481[_0x26edd3(0x60e)](_0xb10df[_0x26edd3(0x91e)],_0x2e0872['message']);throw _0x2e0872;}}[_0x5f24fc(0x3b5)](_0x257bed){const _0x5db580=_0x5f24fc;switch(_0x257bed[_0x5db580(0x6b2)]['type']){case _0x1c3bcf['Success']:this[_0x5db580(0x7a0)](_0x257bed['sourceId']),_0x40d481[_0x5db580(0x60e)](_0xb10df['Node'],_0x5db580(0x755),'\x27'+this['configs'][_0x5db580(0x8ad)][_0x5db580(0x6e8)]()+',\x20'+_0x257bed['sourceId']+'\x27',_0x257bed,_0x257bed[_0x5db580(0x6b2)]);break;case _0x1c3bcf[_0x5db580(0x6db)]:this[_0x5db580(0x795)](_0x257bed[_0x5db580(0x241)]),_0x40d481['log'](_0xb10df[_0x5db580(0x91e)],_0x5db580(0xb2d),this[_0x5db580(0x6c1)][_0x5db580(0x8ad)][_0x5db580(0x6e8)](),_0x257bed,_0x257bed[_0x5db580(0x6b2)]);}}[_0x5f24fc(0x43c)](_0x45cf59){const _0x269c01=_0x5f24fc;this[_0x269c01(0x4c1)](_0x45cf59),this[_0x269c01(0x999)](_0x45cf59);}[_0x5f24fc(0x999)](_0x48ce5b){const _0xa78ab2=_0x5f24fc;this['configs']['localNode'][_0xa78ab2(0x51c)](_0x48ce5b['id']),this['publishNodeJoin'](_0x48ce5b['id']),this['notifyClusterNodeJoin'](_0x48ce5b);}['handleNodeUpdate'](_0x2da1d8){const _0x38593c=_0x5f24fc,{id:_0x34af77,metaData:_0x50b550,rank:_0x1117e5,remoteConnections:_0x9cd7e7,version:_0x2b5028}=_0x2da1d8,_0x341c1f=this[_0x38593c(0x878)][_0x38593c(0x7d5)](_0x34af77);if(_0x341c1f){if(!(_0x2b5028<=_0x341c1f[_0x38593c(0x318)]())){if(_0x341c1f['setRemoteConnections'](_0x9cd7e7),_0x341c1f[_0x38593c(0x1f9)](_0x2b5028),_0x341c1f['type']===_0x20053a[_0x38593c(0x6c8)]['User']&&_0x50b550[_0x38593c(0x781)]===_0x20053a[_0x38593c(0x6c8)][_0x38593c(0x578)]&&(_0x341c1f['setDisplayName'](_0x50b550['displayName']),_0x341c1f[_0x38593c(0x6aa)](_0x50b550[_0x38593c(0xa9b)])),_0x1117e5&&_0x341c1f[_0x38593c(0xa3b)](_0x1117e5),this['setLocalRank'](_0x34af77,_0x1117e5),_0x341c1f[_0x38593c(0x596)]()===_0x90840[_0x38593c(0x82f)])return _0x341c1f[_0x38593c(0x9e2)](_0x90840['Online']),this[_0x38593c(0x232)](),void this[_0x38593c(0x999)](_0x2da1d8);this[_0x38593c(0x232)](),this[_0x38593c(0x6d7)]({'id':_0x34af77,'metaData':_0x50b550,'remoteConnections':_0x9cd7e7,'version':_0x2b5028});}}else this[_0x38593c(0x43c)](_0x2da1d8);}[_0x5f24fc(0x502)](_0x5aea68,_0x494265){const _0x2dcb3f=_0x5f24fc;_0x494265&&this[_0x2dcb3f(0x77e)][_0x2dcb3f(0x465)](_0x5aea68)&&this['configs'][_0x2dcb3f(0x8ad)]['setRank'](_0x494265+this[_0x2dcb3f(0x77e)][_0x2dcb3f(0x5b2)](_0x5aea68)+0x1);}[_0x5f24fc(0x7a0)](_0x547ec5){const _0x482601=_0x5f24fc;this['configs'][_0x482601(0x8ad)][_0x482601(0x7b6)](_0x547ec5);}['createRemoteNode']({id:_0x1aa72c,metaData:_0x10efe4,rank:_0x56e1d6,remoteConnections:_0x1ec9aa,version:_0x16d9c8}){const _0x3480ac=_0x5f24fc;if(this[_0x3480ac(0x878)]['hasRemoteNode'](_0x1aa72c))throw new _0x34bdcf(_0x3480ac(0x87a)+_0x1aa72c);switch(_0x10efe4[_0x3480ac(0x781)]){case _0x20053a['NodeType'][_0x3480ac(0x578)]:const {displayName:_0x5043d8,email:_0x56a6ea}=_0x10efe4;this[_0x3480ac(0x878)]['setRemoteNode'](_0x1aa72c,new _0x3c16c9(_0x1aa72c,_0x5043d8,_0x56a6ea,new Set(_0x1ec9aa),_0x16d9c8,_0x56e1d6));break;case _0x20053a['NodeType'][_0x3480ac(0x723)]:this[_0x3480ac(0x878)][_0x3480ac(0x942)](_0x1aa72c,new _0x41541d(_0x1aa72c,new Set(_0x1ec9aa),_0x16d9c8,_0x56e1d6));}const _0x4ebfd9=this[_0x3480ac(0x97b)](),_0x3adcf2=new Set(this['ancestors']);_0x4ebfd9[_0x3480ac(0xac8)](_0x4df251=>{const _0x488a18=_0x3480ac;_0x3adcf2['has'](_0x4df251[_0x488a18(0x6e8)]())&&_0x3adcf2['delete'](_0x4df251[_0x488a18(0x6e8)]());}),0x0===_0x3adcf2['size']&&this['resolveReady']&&(this[_0x3480ac(0x54b)]&&clearTimeout(this['readyDebounce']),this[_0x3480ac(0x54b)]=setTimeout(()=>{const _0x2dafad=_0x3480ac;this[_0x2dafad(0x3d7)]?.(!0x0),delete this[_0x2dafad(0x3d7)],delete this['rejectReady'];},0x7d0)),this[_0x3480ac(0x502)](_0x1aa72c,_0x56e1d6),this['processRank']();}[_0x5f24fc(0x825)](_0x3411af){const _0x142207=_0x5f24fc;this[_0x142207(0x541)]['publish']({'sourceId':_0x7cf9e6,'messageType':_0x31112d[_0x142207(0x91e)],'content':{'type':_0x4c7147['NodeJoin'],'id':_0x3411af}});}[_0x5f24fc(0x795)](_0x2371ca){const _0x2c389c=_0x5f24fc;this[_0x2c389c(0x541)]?.[_0x2c389c(0x803)]({'sourceId':_0x7cf9e6,'messageType':_0x31112d[_0x2c389c(0x91e)],'content':{'type':_0x4c7147[_0x2c389c(0xa70)],'id':_0x2371ca}});}[_0x5f24fc(0x76e)](_0x2e2101){const _0x3bd9b0=_0x5f24fc;if(_0x2e2101===this['configs'][_0x3bd9b0(0x8ad)][_0x3bd9b0(0x6e8)]())return this['configs'][_0x3bd9b0(0xae2)][_0x3bd9b0(0x632)](_0x3bd9b0(0x9a3),{'id':_0x2e2101}),this['configs'][_0x3bd9b0(0xae2)][_0x3bd9b0(0x7ef)]({'force':!0x0},!0x0),this[_0x3bd9b0(0x6c1)][_0x3bd9b0(0xae2)][_0x3bd9b0(0x791)](),void this['configs'][_0x3bd9b0(0xae2)]['initialize']();this['publishNodeLeave'](_0x2e2101);}[_0x5f24fc(0x7a1)](_0x41bb33){const _0x59f486=_0x5f24fc;this[_0x59f486(0x77e)]['includes'](_0x41bb33)?this[_0x59f486(0x406)](_0x41bb33):this[_0x59f486(0x6c1)][_0x59f486(0x8ad)]['getRemoteConnections']()[_0x59f486(0x4cb)](_0x41bb33)&&this[_0x59f486(0x459)](_0x41bb33),this[_0x59f486(0x6c1)][_0x59f486(0x8ad)][_0x59f486(0xa00)](_0x41bb33);const _0xe4b5ea=Array[_0x59f486(0x3ce)](this[_0x59f486(0x481)][_0x59f486(0x8f3)]())[_0x59f486(0x260)](([,_0x5a4bd0])=>_0x5a4bd0==_0x5a4bd0);_0xe4b5ea&&this[_0x59f486(0x481)]['delete'](_0xe4b5ea[0x0]);const _0x54c28c=this[_0x59f486(0x878)]['getRemoteNode'](_0x41bb33);if(!_0x54c28c)return;const _0x4a7777=_0x54c28c[_0x59f486(0x375)](),_0xe26f38=this[_0x59f486(0x6c1)][_0x59f486(0x8ad)][_0x59f486(0x375)]();_0xe26f38&&_0x4a7777&&_0x4a7777<_0xe26f38&&this['configs'][_0x59f486(0x8ad)][_0x59f486(0xa3b)](_0xe26f38-0x1,!0x1),Array[_0x59f486(0x3ce)](this[_0x59f486(0x878)]['getRemoteNodes']()[_0x59f486(0x9af)]())['forEach'](_0x3d85ac=>{const _0x1113eb=_0x59f486,_0x51b413=_0x3d85ac[_0x1113eb(0x375)]();_0x51b413&&_0x4a7777&&_0x4a7777<_0x51b413&&_0x3d85ac['setRank'](_0x51b413-0x1);}),_0x54c28c[_0x59f486(0x9e2)](_0x90840[_0x59f486(0x82f)]),this[_0x59f486(0x6c1)][_0x59f486(0xae2)][_0x59f486(0x632)](_0x54c28c[_0x59f486(0x781)]+_0x59f486(0x379),{'id':_0x41bb33});}[_0x5f24fc(0x215)]({id:_0x450c5b,metaData:_0x22be91,remoteConnections:_0x2a306a}){const _0x4656a6=_0x5f24fc;switch(_0x22be91[_0x4656a6(0x781)]){case _0x20053a[_0x4656a6(0x6c8)]['User']:this[_0x4656a6(0x6c1)][_0x4656a6(0xae2)][_0x4656a6(0x632)]('user-join',{'id':_0x450c5b,'metaData':_0x22be91,'remoteConnections':_0x2a306a});break;case _0x20053a[_0x4656a6(0x6c8)][_0x4656a6(0x723)]:this[_0x4656a6(0x6c1)][_0x4656a6(0xae2)]['notifyCluster']('agent-join',{'id':_0x450c5b,'metaData':_0x22be91,'remoteConnections':_0x2a306a});}}['notifyClusterNodeUpdate']({id:_0x983abc,metaData:_0x5604e7,remoteConnections:_0x2250bb}){const _0x318dae=_0x5f24fc;switch(_0x5604e7[_0x318dae(0x781)]){case _0x20053a[_0x318dae(0x6c8)][_0x318dae(0x578)]:this[_0x318dae(0x6c1)]['mediator']['notifyCluster'](_0x318dae(0x21a),{'id':_0x983abc,'metaData':_0x5604e7,'remoteConnections':_0x2250bb});break;case _0x20053a['NodeType']['Agent']:this[_0x318dae(0x6c1)][_0x318dae(0xae2)][_0x318dae(0x632)](_0x318dae(0x530),{'id':_0x983abc,'metaData':_0x5604e7,'remoteConnections':_0x2250bb});}}[_0x5f24fc(0x232)](){const _0x2681e6=_0x5f24fc;if(this[_0x2681e6(0x733)]||(this['lastProcessRank']=Date[_0x2681e6(0x2c1)]()),this[_0x2681e6(0x609)]){if(Date[_0x2681e6(0x2c1)]()-this[_0x2681e6(0x733)]>0x2328)return;clearTimeout(this[_0x2681e6(0x609)]);}this[_0x2681e6(0x609)]=setTimeout(async()=>{const _0x3c600b=_0x2681e6;delete this['lastProcessRank'],delete this[_0x3c600b(0x609)];const _0x1421e1=this[_0x3c600b(0x6c1)][_0x3c600b(0x8ad)][_0x3c600b(0x375)]();if(!_0x1421e1)return;const _0x585906=this[_0x3c600b(0x878)][_0x3c600b(0x3a6)](this[_0x3c600b(0x878)]['getRemoteNodes']()[_0x3c600b(0x58d)]);if(this['optimizationLayers']['size']>=_0x585906)return;let _0x21a9aa=0x1;for(;this[_0x3c600b(0x6c1)][_0x3c600b(0xae2)][_0x3c600b(0x7e2)]()[_0x3c600b(0x9a6)]<this[_0x3c600b(0x878)][_0x3c600b(0x396)]()&&_0x21a9aa<=_0x585906;){if(this[_0x3c600b(0x481)][_0x3c600b(0x4cb)](_0x21a9aa)){_0x21a9aa+=0x1;continue;}const _0x597179=this['graphService'][_0x3c600b(0x321)](_0x1421e1,_0x21a9aa),_0x26064f=Array[_0x3c600b(0x3ce)](this['graphService'][_0x3c600b(0x97b)]()['values']())['find'](_0xb792d2=>_0xb792d2['getRank']()===_0x597179&&_0xb792d2[_0x3c600b(0x596)]()===_0x90840[_0x3c600b(0x3db)]);if(_0x26064f){try{await this[_0x3c600b(0x6c1)][_0x3c600b(0xae2)][_0x3c600b(0x7e1)](_0x26064f[_0x3c600b(0x6e8)](),_0x1d3b9e['Optimization']),this[_0x3c600b(0x481)][_0x3c600b(0x338)](_0x21a9aa,_0x26064f[_0x3c600b(0x6e8)]());}catch(_0x3e6209){if(!(_0x3e6209 instanceof _0x4668fc&&_0x3e6209[_0x3c600b(0x3ab)]===_0x4668fc[_0x3c600b(0x85e)][_0x3c600b(0xaa7)]))throw _0x3e6209;_0x40d481[_0x3c600b(0x60e)](_0xb10df['Node'],this[_0x3c600b(0x6c1)][_0x3c600b(0x8ad)][_0x3c600b(0x6e8)](),_0x26064f[_0x3c600b(0x6e8)](),_0x3e6209['message']);}_0x21a9aa+=0x1;}else _0x21a9aa+=0x1;}},0x3e8);}async[_0x5f24fc(0x406)](_0x1f37e2){const _0x13d9c9=_0x5f24fc;this[_0x13d9c9(0x77e)][_0x13d9c9(0x658)](this[_0x13d9c9(0x77e)][_0x13d9c9(0x5b2)](_0x1f37e2),0x1);const _0x2cefc4=await this[_0x13d9c9(0x7a5)][_0x13d9c9(0x984)]();for(const _0x4f4da2 of _0x2cefc4)if(!this[_0x13d9c9(0x77e)][_0x13d9c9(0x465)](_0x4f4da2)){const _0x44df6d=Array[_0x13d9c9(0x3ce)](this['optimizationLayers']['entries']())[_0x13d9c9(0x260)](([,_0x131977])=>_0x131977===_0x4f4da2);_0x44df6d&&this[_0x13d9c9(0x481)]['delete'](_0x44df6d[0x0]),this[_0x13d9c9(0x6c1)][_0x13d9c9(0xae2)][_0x13d9c9(0x7e1)](_0x4f4da2,_0x1d3b9e[_0x13d9c9(0x749)]);}0x0===_0x2cefc4[_0x13d9c9(0x9a6)]&&this[_0x13d9c9(0x6c1)][_0x13d9c9(0x8ad)][_0x13d9c9(0xa3b)](0x1),this[_0x13d9c9(0x77e)]=_0x2cefc4;}async[_0x5f24fc(0x459)](_0xf9ea1){const _0x1cd8b9=_0x5f24fc,_0x48d964=this['configs'][_0x1cd8b9(0x8ad)]['getRank']();if(!_0x48d964)return;const _0x2e9290=this[_0x1cd8b9(0x878)]['getRemoteNode'](_0xf9ea1);if(!_0x2e9290||_0x2e9290[_0x1cd8b9(0x596)]()===_0x90840[_0x1cd8b9(0x82f)])return;const _0x5e3050=_0x2e9290['getRank']();if(!_0x5e3050||_0x5e3050<_0x48d964)return;const _0x2c6487=this['getOutgoingOptimizationConnections'](this[_0x1cd8b9(0x6c1)][_0x1cd8b9(0x8ad)]['getRemoteConnections'](),_0x48d964),_0x2b95ec=this[_0x1cd8b9(0xb29)](_0x2e9290[_0x1cd8b9(0xa49)](),_0x5e3050)[_0x2c6487[_0x1cd8b9(0xa66)](([_0x412eb8])=>_0x412eb8===_0xf9ea1)];if(!_0x2b95ec||this[_0x1cd8b9(0x6c1)][_0x1cd8b9(0x8ad)]['getRemoteConnections']()[_0x1cd8b9(0x4cb)](_0x2b95ec[0x0]))return;const _0x3d4d8b=this[_0x1cd8b9(0x878)][_0x1cd8b9(0x7d5)](_0x2b95ec[0x0]);if(_0x3d4d8b&&_0x3d4d8b['getStatus']()!==_0x90840[_0x1cd8b9(0x82f)])try{await this['configs'][_0x1cd8b9(0xae2)][_0x1cd8b9(0x7e1)](_0x2b95ec[0x0],_0x1d3b9e[_0x1cd8b9(0x571)]);const _0x138cc8=Array[_0x1cd8b9(0x3ce)](this[_0x1cd8b9(0x481)][_0x1cd8b9(0x8f3)]())[_0x1cd8b9(0x260)](([,_0x41dd4d])=>_0x41dd4d===_0xf9ea1);_0x138cc8&&this[_0x1cd8b9(0x481)][_0x1cd8b9(0x338)](_0x138cc8[0x0],_0x2b95ec[0x0]);}catch(_0x5828cb){if(!(_0x5828cb instanceof _0x4668fc&&_0x5828cb['code']===_0x4668fc['codes'][_0x1cd8b9(0xaa7)]))throw _0x5828cb;_0x40d481['log'](_0xb10df[_0x1cd8b9(0x91e)],this['configs'][_0x1cd8b9(0x8ad)][_0x1cd8b9(0x6e8)](),_0x2b95ec[0x0],_0x5828cb[_0x1cd8b9(0x2ba)]);}}['getOutgoingOptimizationConnections'](_0x467ac5,_0x141541){const _0x56154c=_0x5f24fc;return Array['from'](_0x467ac5)['reduce']((_0x5e7d87,_0x2766e8)=>{const _0x1ccbb1=a0_0x214c,_0x54be53=this['graphService']['getRemoteNode'](_0x2766e8);if(!_0x54be53||_0x54be53[_0x1ccbb1(0x596)]()===_0x90840['Offline'])return _0x5e7d87;const _0x22a07d=_0x54be53[_0x1ccbb1(0x375)]();if(!_0x22a07d)return _0x5e7d87;const _0x39633a=_0x22a07d-_0x141541;return _0x39633a<=this[_0x1ccbb1(0x878)][_0x1ccbb1(0x35f)]()||_0x5e7d87[_0x1ccbb1(0x96d)]([_0x2766e8,_0x39633a]),_0x5e7d87;},[])[_0x56154c(0x838)](([,_0x3d7f4b],[,_0x2d5e65])=>_0x3d7f4b-_0x2d5e65);}}const _0x5c38bc=[{'problemType':_0x2d72e6['CPUCycle'],'remediations':[{'type':_0x3810f9[_0x5f24fc(0x42c)],'component':_0x4f4d3f[_0x5f24fc(0x6f3)],'action':_0xacf31a[_0x5f24fc(0x889)]},{'type':_0x3810f9[_0x5f24fc(0x24d)],'component':_0x4f4d3f[_0x5f24fc(0x6f3)],'action':_0xacf31a[_0x5f24fc(0x889)]}]},{'problemType':_0x2d72e6['TimePerFrame'],'remediations':[{'type':_0x3810f9[_0x5f24fc(0x42c)],'component':_0x4f4d3f[_0x5f24fc(0x6f3)],'action':_0xacf31a['Downgrade']}]},{'problemType':_0x2d72e6['AudioVideoDelay'],'remediations':[{'type':_0x3810f9[_0x5f24fc(0x42c)],'component':_0x4f4d3f[_0x5f24fc(0x6f3)],'action':_0xacf31a[_0x5f24fc(0x889)]}]},{'problemType':_0x2d72e6[_0x5f24fc(0x4ab)],'remediations':[{'type':_0x3810f9[_0x5f24fc(0x42c)],'component':_0x4f4d3f[_0x5f24fc(0x6f3)],'action':_0xacf31a[_0x5f24fc(0x889)]}]},{'problemType':_0x2d72e6['Bitrate'],'remediations':[{'type':_0x3810f9[_0x5f24fc(0x42c)],'component':_0x4f4d3f[_0x5f24fc(0x527)],'action':_0xacf31a['Downgrade']}]},{'problemType':_0x2d72e6[_0x5f24fc(0x91a)],'remediations':[{'type':_0x3810f9['Remediation'],'component':_0x4f4d3f[_0x5f24fc(0x527)],'action':_0xacf31a[_0x5f24fc(0x889)]}]},{'problemType':_0x2d72e6['RoundTripTime'],'remediations':[{'type':_0x3810f9[_0x5f24fc(0x42c)],'component':_0x4f4d3f[_0x5f24fc(0x527)],'action':_0xacf31a[_0x5f24fc(0x889)]}]}];class _0x247d13{['configs'];[_0x5f24fc(0x541)];[_0x5f24fc(0x6c9)]=new Map();constructor(_0x2f0468){const _0x2c18a5=_0x5f24fc;this['configs']=_0x2f0468,this[_0x2c18a5(0x6c1)][_0x2c18a5(0xae2)][_0x2c18a5(0x545)](this);}[_0x5f24fc(0x7ef)](){const _0x45e27a=_0x5f24fc;this[_0x45e27a(0x6c1)]['mediator']['unregisterSystemSource'](this);}[_0x5f24fc(0xaf7)](_0x18eb5c){const _0x2a8ce9=_0x5f24fc;this[_0x2a8ce9(0x541)]=_0x18eb5c;}[_0x5f24fc(0x29f)](){const _0x5d7307=_0x5f24fc;delete this[_0x5d7307(0x541)];}['handleDetectionSystemEvents'](_0x515ed2){const _0xd62b49=_0x5f24fc;_0x515ed2[_0xd62b49(0x6b2)]['type']===_0x54c889[_0xd62b49(0x8e1)]&&this[_0xd62b49(0x328)](_0x515ed2['content'][_0xd62b49(0x3b9)]);}[_0x5f24fc(0x73d)](_0x290832){const _0x5283e1=_0x5f24fc;_0x290832[_0x5283e1(0x6b2)][_0x5283e1(0x781)]===_0x3810f9['RemoteRemediation']&&this[_0x5283e1(0x497)](_0x290832[_0x5283e1(0x241)],{'type':_0x3810f9['Remediation'],'component':_0x290832['content']['data'][_0x5283e1(0x8ae)],'action':_0x290832[_0x5283e1(0x6b2)]['data'][_0x5283e1(0x32a)]});}[_0x5f24fc(0x328)](_0x2a3265){const _0x3b75c8=_0x5f24fc,_0x75031d=_0x5c38bc[_0x3b75c8(0x260)](_0x1452a4=>_0x1452a4[_0x3b75c8(0x65c)]===_0x2a3265[_0x3b75c8(0x781)]);_0x75031d[_0x3b75c8(0x978)]?.['forEach'](_0x3e285c=>{const _0x1b8f5e=_0x3b75c8;this[_0x1b8f5e(0x497)](_0x2a3265['nodeId'],{'type':_0x2a3265[_0x1b8f5e(0x8d0)]===_0x7885c9[_0x1b8f5e(0x4c8)]?_0x3810f9[_0x1b8f5e(0x42c)]:_0x3810f9[_0x1b8f5e(0x24d)],'component':_0x3e285c['component'],'action':_0x3e285c[_0x1b8f5e(0x32a)]});});}[_0x5f24fc(0x497)](_0x476459,_0x45cadc){const _0x40e053=_0x5f24fc;if(_0x45cadc['type']===_0x3810f9[_0x40e053(0x42c)]){const _0xf88919=Date[_0x40e053(0x2c1)](),_0x18b7e9=this[_0x40e053(0x6c9)]['get'](_0x476459);if(_0x18b7e9&&_0xf88919-_0x18b7e9<0x1388)return;this[_0x40e053(0x6c9)]['set'](_0x476459,_0xf88919);}_0x40d481[_0x40e053(0x60e)](_0xb10df[_0x40e053(0x42c)],_0x40e053(0x332),_0x45cadc),_0x40d481['logEvent']('remediation',{'clusterId':this[_0x40e053(0x6c1)]['clusterId'],'nodeId':this[_0x40e053(0x6c1)][_0x40e053(0x8ad)][_0x40e053(0x6e8)](),'nodeType':this[_0x40e053(0x6c1)][_0x40e053(0x8ad)][_0x40e053(0x781)],'remoteId':_0x476459,'data':{'type':_0x45cadc[_0x40e053(0x781)],'component':_0x45cadc[_0x40e053(0x8ae)],'action':_0x45cadc[_0x40e053(0x32a)]}});let _0x3f2766,_0x27b008=_0x7cf9e6;_0x45cadc[_0x40e053(0x781)]===_0x3810f9[_0x40e053(0x24d)]&&(_0x27b008=this[_0x40e053(0x6c1)][_0x40e053(0x8ad)]['getId'](),_0x3f2766=[_0x476459]),this[_0x40e053(0x541)][_0x40e053(0x803)]({'sourceId':_0x27b008,'destinationIds':_0x3f2766,'messageType':_0x31112d[_0x40e053(0x42c)],'content':{'type':_0x45cadc['type'],'targetId':_0x476459,'data':_0x45cadc}});}}const _0x3d0031=0x3e8,_0x9e41ed=0x7530,_0x556be6=_0x5f24fc(0x1f6),_0x170883=_0x5f24fc(0x78b),_0x46bea9='inbound-rtp',_0x149e0a=[_0x556be6,_0x170883],_0x4d19da=[_0x46bea9];class _0x519bdc{['roundTripTime']=0x0;['estimatedPlayoutTimestamp']=0x0;[_0x5f24fc(0xaa6)]=0x0;['packetsLost']=0x0;[_0x5f24fc(0x2ff)]=0x0;['currentTimestamp']=0x0;[_0x5f24fc(0x89a)]=0x0;['currentBytes']=0x0;[_0x5f24fc(0x296)]=0x0;get[_0x5f24fc(0x703)](){const _0x372a01=_0x5f24fc;return this[_0x372a01(0x9ca)]>0x0&&this[_0x372a01(0x89a)]>0x0&&Date[_0x372a01(0x2c1)]()-this[_0x372a01(0x9ca)]<_0x9e41ed?(this['currentBytes']-this[_0x372a01(0x296)])/(this[_0x372a01(0x9ca)]-this[_0x372a01(0x89a)])*0x8*0x3e8:0x0;}[_0x5f24fc(0x26e)](_0x1f4db3){const _0x293c1c=_0x5f24fc;switch(_0x1f4db3[_0x293c1c(0x781)]){case _0x46bea9:this['processInboundReport'](_0x1f4db3);break;case _0x556be6:this['processOutboundReport'](_0x1f4db3);break;case _0x170883:this[_0x293c1c(0x764)](_0x1f4db3);}}[_0x5f24fc(0x456)](){const _0x4957b6=_0x5f24fc;return{'bitrate':this[_0x4957b6(0x703)],'packetsLostPerc':this[_0x4957b6(0x3c6)](),'roundTripTime':this[_0x4957b6(0x8cc)],'jitter':this['jitter']};}[_0x5f24fc(0x44e)](_0x4290c2){const _0x3fedb2=_0x5f24fc;this[_0x3fedb2(0x24e)](_0x4290c2['bytesReceived']),this['setTimestamp'](_0x4290c2[_0x3fedb2(0x586)]),this['packets']=_0x4290c2[_0x3fedb2(0x7f7)],this[_0x3fedb2(0x8db)]=_0x4290c2['packetsLost'],void 0x0!==_0x4290c2[_0x3fedb2(0xaa6)]?this[_0x3fedb2(0xaa6)]=_0x4290c2['jitter']:this[_0x3fedb2(0xaa6)]=0x0,void 0x0!==_0x4290c2[_0x3fedb2(0x790)]?this[_0x3fedb2(0x790)]=_0x4290c2[_0x3fedb2(0x790)]:this[_0x3fedb2(0x790)]=0x0;}[_0x5f24fc(0x2fe)](_0x562f21){const _0x2c2bb8=_0x5f24fc;this[_0x2c2bb8(0x24e)](_0x562f21[_0x2c2bb8(0x688)]),this['setTimestamp'](_0x562f21[_0x2c2bb8(0x586)]),this['packets']=_0x562f21[_0x2c2bb8(0x90b)];}['processRemoteInboundReport'](_0x4d0bb0){const _0x5c0ffb=_0x5f24fc;this[_0x5c0ffb(0x8cc)]=0x3e8*_0x4d0bb0[_0x5c0ffb(0x8cc)],void 0x0!==_0x4d0bb0[_0x5c0ffb(0xaa6)]?this['jitter']=_0x4d0bb0[_0x5c0ffb(0xaa6)]:this[_0x5c0ffb(0xaa6)]=0x0;}[_0x5f24fc(0x3c6)](){const _0x1bdd6e=_0x5f24fc;return this[_0x1bdd6e(0x2ff)]>0x0?this[_0x1bdd6e(0x8db)]/this['packets']:0x0;}[_0x5f24fc(0x5ef)](_0x5d1f91){const _0x2b8957=_0x5f24fc;_0x5d1f91>this['currentTimestamp']&&(this[_0x2b8957(0x89a)]=this[_0x2b8957(0x9ca)],this[_0x2b8957(0x9ca)]=_0x5d1f91);}['setBytes'](_0x180e88){const _0x455096=_0x5f24fc;this['previousBytes']=this[_0x455096(0x572)],this[_0x455096(0x572)]=_0x180e88;}}class _0xa86838 extends _0x519bdc{}class _0x30f1be extends _0x519bdc{[_0x5f24fc(0xa31)]=0x0;[_0x5f24fc(0x4b2)]=0x0;[_0x5f24fc(0x8a4)]=0x0;[_0x5f24fc(0x6f7)]=0x0;[_0x5f24fc(0xb09)]=0x0;get['fps'](){const _0x24c23f=_0x5f24fc;return this['currentTimestamp']>0x0&&this[_0x24c23f(0x89a)]>0x0&&Date[_0x24c23f(0x2c1)]()-this['currentTimestamp']<_0x9e41ed?(this[_0x24c23f(0x6f7)]-this['previousFrames'])/(this[_0x24c23f(0x9ca)]-this[_0x24c23f(0x89a)])*0x3e8:0x0;}get['timePerFrame'](){const _0x38d284=_0x5f24fc;return this[_0x38d284(0xa31)]&&this[_0x38d284(0x6f7)]&&this[_0x38d284(0x6f7)]>0x0?this['frameTime']/this[_0x38d284(0x6f7)]:0x0;}set['frames'](_0x4707d1){const _0xdba573=_0x5f24fc;this[_0xdba573(0xb09)]=this[_0xdba573(0x6f7)],this[_0xdba573(0x6f7)]=_0x4707d1;}[_0x5f24fc(0x456)](){const _0x62886=_0x5f24fc;return{...super[_0x62886(0x456)](),'FPS':this[_0x62886(0x252)],'timePerFrame':this[_0x62886(0x6c3)],'frameWidth':this[_0x62886(0x4b2)],'frameHeight':this['frameHeight']};}[_0x5f24fc(0x44e)](_0x43da6b){const _0x51a915=_0x5f24fc;super['processInboundReport'](_0x43da6b),this[_0x51a915(0xa31)]=_0x43da6b[_0x51a915(0x7d2)],this['frames']=_0x43da6b[_0x51a915(0x6f1)],this[_0x51a915(0x4b2)]=_0x43da6b[_0x51a915(0x4b2)],this[_0x51a915(0x8a4)]=_0x43da6b['frameHeight'];}[_0x5f24fc(0x2fe)](_0x9aa81b){const _0x1e0f53=_0x5f24fc;super[_0x1e0f53(0x2fe)](_0x9aa81b),this['frameTime']=_0x9aa81b['totalEncodeTime'],this[_0x1e0f53(0x652)]=_0x9aa81b[_0x1e0f53(0x394)],this[_0x1e0f53(0x4b2)]=_0x9aa81b[_0x1e0f53(0x4b2)],this[_0x1e0f53(0x8a4)]=_0x9aa81b[_0x1e0f53(0x8a4)];}}class _0x28ee81{['audio']=new _0xa86838();[_0x5f24fc(0x829)]=new _0x30f1be();get[_0x5f24fc(0x703)](){const _0x45e27e=_0x5f24fc;return this[_0x45e27e(0x214)]['bitrate']+this[_0x45e27e(0x829)][_0x45e27e(0x703)];}['processReports'](_0x10078e){const _0x47d3e9=_0x5f24fc;return _0x10078e[_0x47d3e9(0xac8)](_0xf17199=>{const _0x51e792=_0x47d3e9;switch(_0xf17199[_0x51e792(0x59d)]){case _0x51e792(0x214):this['audio']['processReport'](_0xf17199);break;case _0x51e792(0x829):this[_0x51e792(0x829)][_0x51e792(0x26e)](_0xf17199);}}),this[_0x47d3e9(0x456)]();}[_0x5f24fc(0x456)](){const _0x84058e=_0x5f24fc;return{'audio':this[_0x84058e(0x214)]['getReport'](),'video':this[_0x84058e(0x829)]['getReport'](),'roundTripTime':this[_0x84058e(0x66c)](),'AudioVideoDelay':this[_0x84058e(0x982)](),'bitrate':this[_0x84058e(0x703)]};}['getRoundTripTime'](){const _0x2813f=_0x5f24fc;return Math[_0x2813f(0x748)]((this[_0x2813f(0x214)]['roundTripTime']+this[_0x2813f(0x829)][_0x2813f(0x8cc)])/0x2);}[_0x5f24fc(0x982)](){const _0x41cf1b=_0x5f24fc;return this[_0x41cf1b(0x214)][_0x41cf1b(0x790)]-this[_0x41cf1b(0x829)][_0x41cf1b(0x790)];}}class _0x3cd1c2{[_0x5f24fc(0x90d)]=0x0;['senderPreviousTimestamp']=0x0;[_0x5f24fc(0x457)]=0x0;[_0x5f24fc(0x904)]=0x0;['senderCurrentBytes']=0x0;['senderPreviousBytes']=0x0;[_0x5f24fc(0x7fe)]=0x0;[_0x5f24fc(0x1f3)]=0x0;[_0x5f24fc(0x7e3)]=0x0;['receiverTotalMessages']=0x0;[_0x5f24fc(0x2bf)]=0x0;[_0x5f24fc(0x858)]=0x0;['roundTripTime']=0x0;get[_0x5f24fc(0x703)](){const _0x8e375=_0x5f24fc;return this[_0x8e375(0x705)]+this[_0x8e375(0x39f)];}get[_0x5f24fc(0x705)](){const _0x139aaa=_0x5f24fc;return this[_0x139aaa(0x90d)]>0x0&&this[_0x139aaa(0x7c5)]>0x0&&Date[_0x139aaa(0x2c1)]()-this[_0x139aaa(0x90d)]<_0x9e41ed?(this[_0x139aaa(0x557)]-this['senderPreviousBytes'])/(this[_0x139aaa(0x90d)]-this[_0x139aaa(0x7c5)])*0x8*0x3e8:0x0;}get[_0x5f24fc(0x39f)](){const _0x1042f4=_0x5f24fc;return this['receiverCurrentTimestamp']>0x0&&this[_0x1042f4(0x904)]>0x0&&Date['now']()-this[_0x1042f4(0x457)]<_0x9e41ed?(this[_0x1042f4(0x7fe)]-this[_0x1042f4(0x1f3)])/(this[_0x1042f4(0x457)]-this['receiverPreviousTimestamp'])*0x8*0x3e8:0x0;}[_0x5f24fc(0x26e)](_0x2f1c75){const _0x39e4cc=_0x5f24fc;switch(_0x2f1c75['origin']){case _0x7885c9[_0x39e4cc(0x4c8)]:this[_0x39e4cc(0x468)](_0x2f1c75);break;case _0x7885c9[_0x39e4cc(0xab5)]:this[_0x39e4cc(0x64f)](_0x2f1c75);}}[_0x5f24fc(0x456)](){const _0x23c6b6=_0x5f24fc;return{'bitrate':this[_0x23c6b6(0x703)],'senderBitrate':this[_0x23c6b6(0x705)],'receiverBitrate':this[_0x23c6b6(0x39f)],'totalBytes':this[_0x23c6b6(0x4a4)](),'senderTotalBytes':this[_0x23c6b6(0x85d)](),'receiverTotalBytes':this[_0x23c6b6(0x7ba)](),'totalMessages':this[_0x23c6b6(0x7e3)]+this['receiverTotalMessages'],'senderTotalMessages':this[_0x23c6b6(0x7e3)],'receiverTotalMessages':this['receiverTotalMessages'],'timeProcessing':this['senderTimeProcessing']+this[_0x23c6b6(0x858)],'senderTimeProcessing':this[_0x23c6b6(0x2bf)],'receiverTimeProcessing':this[_0x23c6b6(0x858)],'roundTripTime':this[_0x23c6b6(0x8cc)]};}[_0x5f24fc(0x4a4)](){const _0x1e39a5=_0x5f24fc;return this[_0x1e39a5(0x557)]+this[_0x1e39a5(0x7fe)];}[_0x5f24fc(0x85d)](){return this['senderCurrentBytes'];}['getReceiverTotalBytes'](){const _0x74e5d=_0x5f24fc;return this[_0x74e5d(0x7fe)];}[_0x5f24fc(0x468)](_0x22f0a1){const _0x7e2eb2=_0x5f24fc;this['setSenderTimestamp'](_0x22f0a1[_0x7e2eb2(0x586)]),this['setBytes'](_0x22f0a1['bytesSent']),this[_0x7e2eb2(0x7e3)]=_0x22f0a1[_0x7e2eb2(0x365)],this[_0x7e2eb2(0x2bf)]=_0x22f0a1[_0x7e2eb2(0x25e)],this[_0x7e2eb2(0x8cc)]=_0x22f0a1['roundTripTime'];}[_0x5f24fc(0x64f)](_0x18aa29){const _0x50be61=_0x5f24fc;this['setReceiverTimestamp'](_0x18aa29[_0x50be61(0x586)]),this['setReceiverBytes'](_0x18aa29[_0x50be61(0x940)]),this[_0x50be61(0xae9)]=_0x18aa29[_0x50be61(0x546)],this['receiverTimeProcessing']=_0x18aa29[_0x50be61(0x539)];}[_0x5f24fc(0x88c)](_0x15490d){const _0x129fda=_0x5f24fc;_0x15490d>this[_0x129fda(0x90d)]&&(this[_0x129fda(0x7c5)]=this['senderCurrentTimestamp'],this[_0x129fda(0x90d)]=_0x15490d);}[_0x5f24fc(0x865)](_0x521cc8){const _0x406a7e=_0x5f24fc;_0x521cc8>this['receiverCurrentTimestamp']&&(this[_0x406a7e(0x904)]=this['receiverCurrentTimestamp'],this[_0x406a7e(0x457)]=_0x521cc8);}[_0x5f24fc(0x24e)](_0x1d0bce){const _0x19a857=_0x5f24fc;this[_0x19a857(0xac7)]=this[_0x19a857(0x557)],this['senderCurrentBytes']=_0x1d0bce;}[_0x5f24fc(0x4c7)](_0x1046d3){const _0x513757=_0x5f24fc;this[_0x513757(0x1f3)]=this[_0x513757(0x7fe)],this[_0x513757(0x7fe)]=_0x1046d3;}}class _0x4070b8{['senderStreams']=new Map();[_0x5f24fc(0x932)]=new Map();[_0x5f24fc(0x22b)]=new _0x3cd1c2();get[_0x5f24fc(0x705)](){const _0x1d7a30=_0x5f24fc;let _0x3c73da=0x0;return this['senderStreams'][_0x1d7a30(0xac8)](_0x47d6f0=>{const _0x2c2c26=_0x1d7a30;_0x3c73da+=_0x47d6f0[_0x2c2c26(0x703)];}),_0x3c73da+=this[_0x1d7a30(0x22b)]['senderBitrate'],_0x3c73da;}get['receiverBitrate'](){const _0x184e80=_0x5f24fc;let _0x23aab6=0x0;return this[_0x184e80(0x932)]['forEach'](_0x5a4542=>{const _0x2a6a12=_0x184e80;_0x23aab6+=_0x5a4542[_0x2a6a12(0x703)];}),_0x23aab6+=this[_0x184e80(0x22b)][_0x184e80(0x39f)],_0x23aab6;}get[_0x5f24fc(0x703)](){const _0x41af97=_0x5f24fc;return this[_0x41af97(0x705)]+this[_0x41af97(0x39f)];}[_0x5f24fc(0x482)](_0x5b55c4,_0x340de1){const _0x410747=_0x5f24fc,_0x38ea59=[],_0x3213bf=[];return _0x5b55c4 instanceof Array?_0x5b55c4[_0x410747(0xac8)](_0x312d49=>{const _0x31b666=_0x410747;_0x312d49[_0x31b666(0xac8)](_0x252d14=>{const _0x4b8cd6=_0x31b666;_0x4d19da[_0x4b8cd6(0x465)](_0x252d14[_0x4b8cd6(0x781)])&&_0x38ea59['push'](_0x252d14),_0x149e0a[_0x4b8cd6(0x465)](_0x252d14['type'])&&_0x3213bf[_0x4b8cd6(0x96d)](_0x252d14);});}):this[_0x410747(0x22b)]['processReport'](_0x5b55c4),_0x38ea59[_0x410747(0x9a6)]>0x0&&_0x340de1?{...this[_0x410747(0x579)](_0x340de1,_0x38ea59),'origin':_0x7885c9['Receiver'],'streamId':_0x340de1}:_0x3213bf[_0x410747(0x9a6)]>0x0&&_0x340de1?{...this[_0x410747(0x3c4)](_0x340de1,_0x3213bf),'origin':_0x7885c9[_0x410747(0x4c8)],'streamId':_0x340de1}:void 0x0;}[_0x5f24fc(0x456)](){const _0x264db6=_0x5f24fc,_0x1ceb56={};this['senderStreams'][_0x264db6(0xac8)]((_0x1dcab8,_0x2be3aa)=>{const _0x10fda2=_0x264db6;_0x1ceb56[_0x2be3aa]=_0x1dcab8[_0x10fda2(0x456)]();});const _0x197c8d={};return this['receiverStreams'][_0x264db6(0xac8)]((_0x591396,_0x24eb41)=>{const _0x54e498=_0x264db6;_0x197c8d[_0x24eb41]=_0x591396[_0x54e498(0x456)]();}),{'bitrate':this[_0x264db6(0x703)],'senderBitrate':this[_0x264db6(0x705)],'receiverBitrate':this['receiverBitrate'],'senderStreams':_0x1ceb56,'receiverStreams':_0x197c8d,'dataChannel':this[_0x264db6(0x22b)][_0x264db6(0x456)]()};}['processInboundReports'](_0x113525,_0x80f425){const _0x20ebc5=_0x5f24fc;return this[_0x20ebc5(0x932)][_0x20ebc5(0x4cb)](_0x113525)||this[_0x20ebc5(0x932)]['set'](_0x113525,new _0x28ee81()),this[_0x20ebc5(0x932)][_0x20ebc5(0xb07)](_0x113525)[_0x20ebc5(0x482)](_0x80f425);}[_0x5f24fc(0x3c4)](_0x11c936,_0x2eb64){const _0x28b6dd=_0x5f24fc;return this[_0x28b6dd(0x8d4)][_0x28b6dd(0x4cb)](_0x11c936)||this[_0x28b6dd(0x8d4)][_0x28b6dd(0x338)](_0x11c936,new _0x28ee81()),this['senderStreams'][_0x28b6dd(0xb07)](_0x11c936)[_0x28b6dd(0x482)](_0x2eb64);}}class _0x364857{[_0x5f24fc(0x945)]=new Map();[_0x5f24fc(0x221)]=0x0;[_0x5f24fc(0x6ad)]=0x0;[_0x5f24fc(0x1ea)]=new Map();[_0x5f24fc(0x49f)]=new Map();['keyValueDatabases']=new Map();['generativeAIContexts']=new Map();['generativeAIWorkers']=new Map();[_0x5f24fc(0x342)]=new Map();[_0x5f24fc(0x271)]=new Map();[_0x5f24fc(0x3bb)]=new Map();['senderTotalMessages']=new Map();[_0x5f24fc(0xae9)]=new Map();[_0x5f24fc(0x2bf)]=new Map();[_0x5f24fc(0x858)]=new Map();[_0x5f24fc(0x841)]=new Map();[_0x5f24fc(0x541)];[_0x5f24fc(0x456)](){const _0x2ae3b4=_0x5f24fc,_0x5d14e0={};this[_0x2ae3b4(0x945)][_0x2ae3b4(0xac8)]((_0x6cdc0c,_0x766c2e)=>{const _0x53312e=_0x2ae3b4;_0x5d14e0[_0x766c2e]=_0x6cdc0c[_0x53312e(0x456)]();});let _0x9be922=0x0;this['senderTimeProcessing'][_0x2ae3b4(0xac8)](_0x201cbc=>{_0x9be922+=_0x201cbc;});let _0x58276a=0x0;this[_0x2ae3b4(0x858)][_0x2ae3b4(0xac8)](_0xbc776f=>{_0x58276a+=_0xbc776f;});const _0x62d2d9=_0x9be922+_0x58276a;let _0x36b701={'messages':{'total':0x0}};this['systemMessages'][_0x2ae3b4(0xac8)](_0x3bfa19=>{const _0x211a78=_0x2ae3b4;Object[_0x211a78(0x6c0)](_0x3bfa19)[_0x211a78(0xac8)](_0x5bd225=>{const _0x3d5b58=_0x211a78;_0x36b701[_0x5bd225]||(_0x36b701[_0x5bd225]={}),Object['keys'](_0x3bfa19[_0x5bd225])[_0x3d5b58(0xac8)](_0x7fc9e7=>{_0x36b701[_0x5bd225][_0x7fc9e7]||(_0x36b701[_0x5bd225][_0x7fc9e7]=0x0),_0x36b701[_0x5bd225][_0x7fc9e7]+=_0x3bfa19[_0x5bd225][_0x7fc9e7];});});});let _0x121860=0x0,_0x393e76=0x0,_0x586e68=0x0,_0x3c3f1d=0x0,_0x243d91=0x0;return this[_0x2ae3b4(0x1ea)][_0x2ae3b4(0xac8)](_0x3945b9=>{const _0x3e615a=_0x2ae3b4;_0x393e76+=_0x3945b9['messagesSent'],_0x586e68+=_0x3945b9[_0x3e615a(0x546)],_0x3c3f1d+=_0x3945b9[_0x3e615a(0x688)],_0x243d91+=_0x3945b9[_0x3e615a(0x940)];}),this[_0x2ae3b4(0x49f)][_0x2ae3b4(0xac8)](_0x1a0365=>{const _0x897fdc=_0x2ae3b4;_0x121860+=_0x1a0365[_0x897fdc(0x792)],_0x393e76+=_0x1a0365['messagesSent'],_0x586e68+=_0x1a0365[_0x897fdc(0x546)],_0x3c3f1d+=_0x1a0365[_0x897fdc(0x688)],_0x243d91+=_0x1a0365[_0x897fdc(0x940)];}),this[_0x2ae3b4(0x66e)][_0x2ae3b4(0xac8)](_0x1544ee=>{const _0x2a1bc3=_0x2ae3b4;_0x121860+=_0x1544ee[_0x2a1bc3(0x792)],_0x393e76+=_0x1544ee[_0x2a1bc3(0x365)],_0x586e68+=_0x1544ee['messagesReceived'],_0x3c3f1d+=_0x1544ee[_0x2a1bc3(0x688)],_0x243d91+=_0x1544ee['bytesReceived'];}),this[_0x2ae3b4(0x7b3)][_0x2ae3b4(0xac8)](_0x16c4c5=>{const _0x5ec5d6=_0x2ae3b4;_0x121860+=_0x16c4c5[_0x5ec5d6(0x792)],_0x393e76+=_0x16c4c5[_0x5ec5d6(0x365)],_0x586e68+=_0x16c4c5[_0x5ec5d6(0x546)],_0x3c3f1d+=_0x16c4c5[_0x5ec5d6(0x688)],_0x243d91+=_0x16c4c5['bytesReceived'];}),this['generativeAIWorkers']['forEach'](_0x1e62ee=>{const _0x111efb=_0x2ae3b4;_0x121860+=_0x1e62ee['storage'],_0x393e76+=_0x1e62ee[_0x111efb(0x365)],_0x586e68+=_0x1e62ee[_0x111efb(0x546)],_0x3c3f1d+=_0x1e62ee['bytesSent'],_0x243d91+=_0x1e62ee[_0x111efb(0x940)];}),this['vectorDatabases'][_0x2ae3b4(0xac8)](_0x5381c2=>{const _0x5c55e2=_0x2ae3b4;_0x121860+=_0x5381c2['storage'],_0x393e76+=_0x5381c2['messagesSent'],_0x586e68+=_0x5381c2[_0x5c55e2(0x546)],_0x3c3f1d+=_0x5381c2[_0x5c55e2(0x688)],_0x243d91+=_0x5381c2[_0x5c55e2(0x940)];}),this[_0x2ae3b4(0x271)][_0x2ae3b4(0xac8)](_0x238da0=>{const _0x32dfb5=_0x2ae3b4;_0x121860+=_0x238da0['storage'],_0x393e76+=_0x238da0[_0x32dfb5(0x365)],_0x586e68+=_0x238da0[_0x32dfb5(0x546)],_0x3c3f1d+=_0x238da0[_0x32dfb5(0x688)],_0x243d91+=_0x238da0['bytesReceived'];}),{'STVolatility':this['getSTVolatility'](),'DTVolatility':this['getDTVolatility'](),'bitrate':this['getBitrate'](),'senderBitrate':this['getSenderBitrate'](),'receiverBitrate':this[_0x2ae3b4(0xa42)](),'totalStorageSize':_0x121860,'totalMessages':_0x393e76+_0x586e68,'totalMessagesSent':_0x393e76,'totalMessagesReceived':_0x586e68,'totalBytes':_0x3c3f1d+_0x243d91,'totalBytesSent':_0x3c3f1d,'totalBytesReceived':_0x243d91,'systemMessages':_0x36b701,'timeProcessing':_0x62d2d9,'nodes':_0x5d14e0,'pubsubTopics':Object[_0x2ae3b4(0x8f6)](this[_0x2ae3b4(0x1ea)]),'objectStores':Object[_0x2ae3b4(0x8f6)](this[_0x2ae3b4(0x49f)]),'keyValueDatabases':Object[_0x2ae3b4(0x8f6)](this[_0x2ae3b4(0x66e)]),'generativeAIContexts':Object['fromEntries'](this[_0x2ae3b4(0x7b3)]),'generativeAIWorkers':Object['fromEntries'](this['generativeAIWorkers']),'vectorDatabases':Object['fromEntries'](this[_0x2ae3b4(0x342)]),'graphDatabases':Object['fromEntries'](this[_0x2ae3b4(0x271)]),'externalStorages':Object[_0x2ae3b4(0x8f6)](this[_0x2ae3b4(0x3bb)])};}['addRemoteNode'](_0x42e118){const _0x3a79f2=_0x5f24fc;this['nodes'][_0x3a79f2(0x338)](_0x42e118,new _0x4070b8());}['removeRemoteNode'](_0x482d78){const _0x2a2b39=_0x5f24fc;this[_0x2a2b39(0x945)][_0x2a2b39(0x43a)](_0x482d78);}[_0x5f24fc(0x482)](_0x116ee6,_0x5c97f1,_0x33b09){const _0x392530=_0x5f24fc;_0x5c97f1 instanceof Array||this[_0x392530(0x477)](_0x116ee6,_0x5c97f1);const _0x10c7c2=this[_0x392530(0x945)][_0x392530(0xb07)](_0x116ee6)?.[_0x392530(0x482)](_0x5c97f1,_0x33b09);_0x10c7c2&&this['systemTopic'][_0x392530(0x803)]({'sourceId':_0x7cf9e6,'messageType':_0x31112d[_0x392530(0x7d3)],'content':{'type':_0x412a14['StreamReport'],'data':{..._0x10c7c2,'nodeId':_0x116ee6}}});}[_0x5f24fc(0x62b)](_0x2a0fc3){const _0x42f618=_0x5f24fc;this[_0x42f618(0x63b)](_0x2a0fc3['secheduleTime']),this[_0x42f618(0x4b8)](_0x2a0fc3[_0x42f618(0x6ad)]),this[_0x42f618(0x541)]['publish']({'sourceId':_0x7cf9e6,'messageType':_0x31112d[_0x42f618(0x7d3)],'content':{'type':_0x412a14['LocalReport'],'data':{'STVolatility':this[_0x42f618(0x9a0)](),'DTVolatility':this['getDTVolatility']()}}});}[_0x5f24fc(0x4ca)](_0x27c146,_0x5973cf,_0x528d2b){const _0x5ea9b7=_0x5f24fc;switch(_0x5973cf){case _0x21c730['PubSubTopicStats']:this[_0x5ea9b7(0x1ea)][_0x5ea9b7(0x338)](_0x27c146,_0x528d2b);break;case _0x21c730[_0x5ea9b7(0x531)]:this[_0x5ea9b7(0x49f)][_0x5ea9b7(0x338)](_0x27c146,_0x528d2b);break;case _0x21c730[_0x5ea9b7(0x34c)]:this['keyValueDatabases']['set'](_0x27c146,_0x528d2b);break;case _0x21c730[_0x5ea9b7(0xad5)]:this['generativeAIContexts']['set'](_0x27c146,_0x528d2b);break;case _0x21c730['GenerativeAIWorkerStats']:this[_0x5ea9b7(0x8c3)][_0x5ea9b7(0x338)](_0x27c146,_0x528d2b);break;case _0x21c730[_0x5ea9b7(0x2be)]:this[_0x5ea9b7(0x342)][_0x5ea9b7(0x338)](_0x27c146,_0x528d2b);break;case _0x21c730[_0x5ea9b7(0x5c8)]:this[_0x5ea9b7(0x271)][_0x5ea9b7(0x338)](_0x27c146,_0x528d2b);break;case _0x21c730[_0x5ea9b7(0x335)]:this[_0x5ea9b7(0x3bb)]['set'](_0x27c146,_0x528d2b);}}[_0x5f24fc(0xaf7)](_0x3a2f04){const _0x510283=_0x5f24fc;this[_0x510283(0x541)]=_0x3a2f04;}[_0x5f24fc(0x29f)](){const _0x6d8ab0=_0x5f24fc;delete this[_0x6d8ab0(0x541)];}['getSTVolatility'](){const _0x53d880=_0x5f24fc;return this['scheduleTime']>0x0&&this[_0x53d880(0x221)]-_0x3d0031>0x0?(this[_0x53d880(0x221)]-_0x3d0031)/_0x3d0031:0x0;}['getDTVolatility'](){const _0x441794=_0x5f24fc;return this['durationTime']>0x0&&this[_0x441794(0x6ad)]-0x64>0x0?(this[_0x441794(0x6ad)]-0x64)/0x64:0x0;}[_0x5f24fc(0x8b4)](){const _0x5455d2=_0x5f24fc;let _0x151a0c=0x0;return this['nodes'][_0x5455d2(0xac8)](_0x1ae863=>{const _0x1bc36e=_0x5455d2;_0x151a0c+=_0x1ae863[_0x1bc36e(0x705)];}),_0x151a0c;}[_0x5f24fc(0xa42)](){const _0x324927=_0x5f24fc;let _0x30f1ac=0x0;return this[_0x324927(0x945)][_0x324927(0xac8)](_0x11e7ad=>{_0x30f1ac+=_0x11e7ad['receiverBitrate'];}),_0x30f1ac;}[_0x5f24fc(0x662)](){const _0xfa3064=_0x5f24fc;let _0x28a33e=0x0;return this[_0xfa3064(0x945)][_0xfa3064(0xac8)](_0x326ca7=>{const _0x52ca47=_0xfa3064;_0x28a33e+=_0x326ca7[_0x52ca47(0x703)];}),_0x28a33e;}[_0x5f24fc(0x63b)](_0x434abb){this['scheduleTime']=_0x434abb;}[_0x5f24fc(0x4b8)](_0x3bc70d){const _0x47d711=_0x5f24fc;this[_0x47d711(0x6ad)]=_0x3bc70d;}[_0x5f24fc(0x477)](_0x3080b8,_0x68ad69){const _0x2475ca=_0x5f24fc;switch(_0x68ad69[_0x2475ca(0x8d0)]){case _0x7885c9[_0x2475ca(0x4c8)]:this[_0x2475ca(0x468)](_0x3080b8,_0x68ad69);break;case _0x7885c9[_0x2475ca(0xab5)]:this['processReceiverReport'](_0x3080b8,_0x68ad69);}}[_0x5f24fc(0x468)](_0x447e7c,_0x5332b5){const _0x12eca6=_0x5f24fc;this['senderTotalMessages'][_0x12eca6(0x338)](_0x447e7c,_0x5332b5['messagesSent']),this[_0x12eca6(0x2bf)]['set'](_0x447e7c,_0x5332b5[_0x12eca6(0x25e)]);}['processReceiverReport'](_0x4b600b,_0x2d896a){const _0x3cd17a=_0x5f24fc;this[_0x3cd17a(0xae9)][_0x3cd17a(0x338)](_0x4b600b,_0x2d896a['messagesReceived']),this['receiverTimeProcessing']['set'](_0x4b600b,_0x2d896a[_0x3cd17a(0x539)]),this[_0x3cd17a(0x841)][_0x3cd17a(0x338)](_0x4b600b,_0x2d896a['systemMessages']);}}class _0x18178c{[_0x5f24fc(0x6c1)];[_0x5f24fc(0x4d4)]=new Set();[_0x5f24fc(0x8c7)];['statsCollection'];['statsReporting'];[_0x5f24fc(0x3d5)]=new _0x364857();constructor(_0x35c8b1){const _0x46fa1e=_0x5f24fc;this[_0x46fa1e(0x6c1)]=_0x35c8b1,this[_0x46fa1e(0x6c1)]['mediator'][_0x46fa1e(0x545)](this[_0x46fa1e(0x3d5)]),this[_0x46fa1e(0x2b3)]=this[_0x46fa1e(0x46e)](),this[_0x46fa1e(0x533)]=this[_0x46fa1e(0x9df)]();}[_0x5f24fc(0x7ef)](){const _0x6924cf=_0x5f24fc;this['configs'][_0x6924cf(0xae2)]['unregisterSystemSource'](this[_0x6924cf(0x3d5)]),this[_0x6924cf(0x533)](),this[_0x6924cf(0x2b3)]();}[_0x5f24fc(0x24f)](_0x4e35a5){const _0x414586=_0x5f24fc;this[_0x414586(0x4d4)][_0x414586(0x859)](_0x4e35a5),this[_0x414586(0x3d5)][_0x414586(0x24f)](_0x4e35a5);}[_0x5f24fc(0x3c7)](_0x3ef9c9){const _0x1a5b3d=_0x5f24fc;this[_0x1a5b3d(0x4d4)][_0x1a5b3d(0x43a)](_0x3ef9c9),this['statsReport'][_0x1a5b3d(0x3c7)](_0x3ef9c9);}[_0x5f24fc(0x3b5)](_0x332ae0){const _0x204e6b=_0x5f24fc;if(_0x332ae0[_0x204e6b(0x6b2)]['type']===_0x1c3bcf[_0x204e6b(0x7d3)]){const {nodeId:_0xf2cbb8,streamId:_0x19f522,stats:_0x5d2a31}=_0x332ae0[_0x204e6b(0x6b2)];this[_0x204e6b(0x3d5)][_0x204e6b(0x482)](_0xf2cbb8,_0x5d2a31,_0x19f522);}}[_0x5f24fc(0xb20)](_0xaffcc3){const _0x2feda7=_0x5f24fc;switch(_0xaffcc3[_0x2feda7(0x6b2)][_0x2feda7(0x781)]){case _0x21c730[_0x2feda7(0x531)]:case _0x21c730[_0x2feda7(0x34c)]:case _0x21c730[_0x2feda7(0x8e2)]:case _0x21c730[_0x2feda7(0xad5)]:case _0x21c730['GenerativeAIWorkerStats']:case _0x21c730['VectorDatabaseStats']:case _0x21c730[_0x2feda7(0x5c8)]:case _0x21c730['ExternalStorageStats']:this['statsReport'][_0x2feda7(0x4ca)](_0xaffcc3[_0x2feda7(0x6b2)][_0x2feda7(0xa85)],_0xaffcc3['content'][_0x2feda7(0x781)],_0xaffcc3[_0x2feda7(0x6b2)][_0x2feda7(0x944)]);}}[_0x5f24fc(0x9df)](){const _0x2c03ae=_0x5f24fc;return _0x4ecfc3[_0x2c03ae(0x668)](()=>{const _0x75f52d=_0x2c03ae,_0x2bfaa5=this['statsReport'][_0x75f52d(0x456)]();_0x40d481[_0x75f52d(0x60e)](_0xb10df[_0x75f52d(0x7d3)],_0x75f52d(0x913),_0x2bfaa5),(0x0,_0x1d5bc0[_0x75f52d(0x7e9)])((0x0,_0x1d5bc0[_0x75f52d(0x6bc)])(_0x47e6c0[_0x75f52d(0x422)](),_0x75f52d(0x955)+this[_0x75f52d(0x6c1)][_0x75f52d(0x240)]+'/stats'),{'clusterId':this[_0x75f52d(0x6c1)][_0x75f52d(0x412)],'nodeId':this[_0x75f52d(0x6c1)][_0x75f52d(0x8ad)][_0x75f52d(0x6e8)](),'nodeType':this['configs']['localNode'][_0x75f52d(0x781)],'timestamp':(0x0,_0x1d5bc0[_0x75f52d(0x8f1)])(),'report':_0x2bfaa5}),_0x40d481[_0x75f52d(0x2e1)](_0x75f52d(0x944),{'clusterId':this[_0x75f52d(0x6c1)][_0x75f52d(0x412)],'nodeId':this[_0x75f52d(0x6c1)][_0x75f52d(0x8ad)][_0x75f52d(0x6e8)](),'nodeType':this['configs'][_0x75f52d(0x8ad)][_0x75f52d(0x781)],'data':{'report':_0x2bfaa5}});},_0x9e41ed);}[_0x5f24fc(0x46e)](){const _0xb5d141=_0x5f24fc;let _0x4a2a60=!0x1,_0x224b0d=Date[_0xb5d141(0x2c1)]();return _0x4ecfc3[_0xb5d141(0x668)](async()=>{const _0x559c42=_0xb5d141;if(_0x4a2a60)return;if(_0x4a2a60=!0x0,0x0===this['remoteNodes']['size'])return delete this[_0x559c42(0x8c7)],void(_0x4a2a60=!0x1);const _0x21a679=Date[_0x559c42(0x2c1)]();this[_0x559c42(0xa77)]();try{await this['configs'][_0x559c42(0xae2)][_0x559c42(0xae0)](this[_0x559c42(0x8c7)]);}catch(_0x1b525d){}this['statsReport']['processLocalReport']({'secheduleTime':_0x21a679-_0x224b0d,'durationTime':Date[_0x559c42(0x2c1)]()-_0x21a679}),_0x224b0d=_0x21a679,_0x4a2a60=!0x1;},_0x3d0031);}[_0x5f24fc(0xa77)](){const _0x44d48f=_0x5f24fc;let _0x3c0916,_0x2fca0d=!0x1;this[_0x44d48f(0x8c7)]&&(this[_0x44d48f(0x4d4)][_0x44d48f(0x4cb)](this[_0x44d48f(0x8c7)])||delete this['nextNodeId']);for(const _0x31d0d4 of this[_0x44d48f(0x4d4)])if(_0x3c0916||(_0x3c0916=_0x31d0d4),this[_0x44d48f(0x8c7)]!==_0x31d0d4){if(_0x2fca0d)return void(this[_0x44d48f(0x8c7)]=_0x31d0d4);}else _0x2fca0d=!0x0,delete this['nextNodeId'];this[_0x44d48f(0x8c7)]||(this[_0x44d48f(0x8c7)]=_0x3c0916);}}class _0x22587b{['source'];[_0x5f24fc(0xaaf)];['systemTopic'];constructor(_0x8aa75c,_0x1b9b81){const _0x20a515=_0x5f24fc;this[_0x20a515(0x9b4)]=_0x8aa75c,this[_0x20a515(0xaaf)]=_0x1b9b81;}[_0x5f24fc(0xaf7)](_0x1a7731){const _0x5d2752=_0x5f24fc;this[_0x5d2752(0x541)]=_0x1a7731;}[_0x5f24fc(0x29f)](){const _0x59837e=_0x5f24fc;delete this[_0x59837e(0x541)];}}class _0x26ba3f extends _0x22587b{[_0x5f24fc(0x9b4)];[_0x5f24fc(0xaaf)];[_0x5f24fc(0x826)];constructor(_0x429ed3,_0x5ba857,_0x29591a){const _0x292d30=_0x5f24fc;super(_0x429ed3,_0x5ba857),this[_0x292d30(0x9b4)]=_0x429ed3,this[_0x292d30(0xaaf)]=_0x5ba857,this[_0x292d30(0x826)]=_0x29591a;}[_0x5f24fc(0x6f8)](_0x514c56,_0x17edef,_0x286f74){const _0x1f677b=_0x5f24fc;if(this['destination'][_0x1f677b(0xadb)]()===_0x20053a[_0x1f677b(0x552)][_0x1f677b(0x9e3)]){const _0x3e301f={'type':_0x34d6dd[_0x1f677b(0x390)],'label':this[_0x1f677b(0xaaf)]['getLabel'](),'ownerId':_0x514c56,'trackKinds':_0x17edef??this[_0x1f677b(0xaaf)][_0x1f677b(0x601)](),'params':_0x286f74};this[_0x1f677b(0x541)][_0x1f677b(0x803)]({'sourceId':this[_0x1f677b(0x9b4)][_0x1f677b(0x8bb)](),'destinationIds':[this[_0x1f677b(0x9b4)][_0x1f677b(0x5b7)]()],'messageType':_0x31112d[_0x1f677b(0x63c)],'content':_0x3e301f}),this['params']=_0x286f74;}}[_0x5f24fc(0x220)](_0x2ea6ce,_0x13186c){const _0xfa8170=_0x5f24fc;if(this[_0xfa8170(0xaaf)][_0xfa8170(0xadb)]()===_0x20053a[_0xfa8170(0x552)]['Media']){const _0x86ac47={'type':_0x34d6dd[_0xfa8170(0x3e3)],'label':this['destination'][_0xfa8170(0x9b0)](),'ownerId':_0x2ea6ce,'params':_0x13186c};this[_0xfa8170(0x541)][_0xfa8170(0x803)]({'sourceId':this[_0xfa8170(0x9b4)][_0xfa8170(0x8bb)](),'destinationIds':[this['source'][_0xfa8170(0x5b7)]()],'messageType':_0x31112d['Subscription'],'content':_0x86ac47}),this['params']=_0x13186c;}}[_0x5f24fc(0xac2)](_0x2b774c,_0x313a21,_0x1abe9d){const _0x1f639f=_0x5f24fc;if(this[_0x1f639f(0xaaf)][_0x1f639f(0xadb)]()===_0x20053a[_0x1f639f(0x552)][_0x1f639f(0x9e3)]){const _0x440ec7={'type':_0x34d6dd[_0x1f639f(0x9fe)],'label':this[_0x1f639f(0xaaf)][_0x1f639f(0x9b0)](),'ownerId':_0x2b774c,'trackKinds':_0x1abe9d??this[_0x1f639f(0xaaf)][_0x1f639f(0x601)](),'remainingTracks':_0x313a21};this[_0x1f639f(0x541)]['publish']({'sourceId':this[_0x1f639f(0x9b4)]['getLocalId'](),'destinationIds':[this[_0x1f639f(0x9b4)][_0x1f639f(0x5b7)]()],'messageType':_0x31112d[_0x1f639f(0x63c)],'content':_0x440ec7});}}}class _0x51f635{['currentDistance'];[_0x5f24fc(0x81e)];[_0x5f24fc(0xb08)];[_0x5f24fc(0x541)];[_0x5f24fc(0x446)]=new Set();[_0x5f24fc(0x48a)]=Date[_0x5f24fc(0x2c1)]();[_0x5f24fc(0x826)];['retryCount']=0x0;constructor(_0x2cd40d,_0x9c7145,_0x5722dc,_0x25287f){const _0x55de0d=_0x5f24fc;this[_0x55de0d(0x4e4)]=_0x9c7145,this[_0x55de0d(0x81e)]=_0x5722dc,this['tracks']=_0x25287f,_0x2cd40d[_0x55de0d(0xac8)](_0x1e7f2e=>{const _0xbe61e9=_0x55de0d;this[_0xbe61e9(0x446)][_0xbe61e9(0x859)]({'nodeId':_0x1e7f2e,'type':_0x5bf86e[_0xbe61e9(0x81f)]});});}['getTracks'](){const _0x15ca7c=_0x5f24fc;return this[_0x15ca7c(0xb08)];}[_0x5f24fc(0xaf7)](_0x2e137e){const _0x5bff48=_0x5f24fc;this[_0x5bff48(0x541)]=_0x2e137e;}['unregisterSystemPublisher'](){const _0x1bc975=_0x5f24fc;delete this[_0x1bc975(0x541)];}['reset'](_0x21a6ba,_0x1a9bc3){const _0x50e7bc=_0x5f24fc;this[_0x50e7bc(0x48a)]=Date['now'](),this['answers']['clear'](),_0x21a6ba[_0x50e7bc(0xac8)](_0x50d45b=>{const _0x43053a=_0x50e7bc;this[_0x43053a(0x446)][_0x43053a(0x859)]({'nodeId':_0x50d45b,'type':_0x5bf86e['Waiting']});}),this['retryCount']+=0x1,this[_0x50e7bc(0x4e4)]=_0x1a9bc3;}['sendRequest'](_0x4f7816,_0x15010f,_0x3cdc42,_0x11b013,_0x545dc6){const _0x494bc1=_0x5f24fc;if(this[_0x494bc1(0x842)]>0xa)throw new _0x4668fc(_0x4668fc[_0x494bc1(0x85e)]['SubscriptionRequestNoAnswer'],{'answers':Array[_0x494bc1(0x3ce)](this['answers'])[_0x494bc1(0xa4a)](_0x4e358b=>({'nodeId':_0x4e358b[_0x494bc1(0x73c)],'type':_0x4e358b[_0x494bc1(0x781)]}))});const _0x59d6ec=Array[_0x494bc1(0x3ce)](this['answers'])[_0x494bc1(0xa4a)](_0xf312cd=>_0xf312cd['nodeId']);this[_0x494bc1(0x826)]=_0x545dc6,this[_0x494bc1(0x541)][_0x494bc1(0x803)]({'sourceId':_0x4f7816,'destinationIds':_0x59d6ec,'messageType':_0x31112d[_0x494bc1(0x63c)],'content':{'type':_0x34d6dd['NeedMediaStream'],'label':_0x3cdc42,'ownerId':_0x15010f,'trackKinds':_0x11b013,'params':_0x545dc6}}),_0x40d481[_0x494bc1(0x60e)](_0xb10df[_0x494bc1(0x63c)],'Send\x20request',_0x4f7816,_0x59d6ec);}['handleSubscriptionSystemEvents'](_0x4a9dd3,_0x155d0f){const _0x2aab17=_0x5f24fc;switch(_0x155d0f['type']){case _0x34d6dd['CanProvideMediaStream']:{const _0x29ef44=this[_0x2aab17(0x4e4)]>=_0x155d0f[_0x2aab17(0x45a)]&&_0x155d0f[_0x2aab17(0x45a)]<=this[_0x2aab17(0x81e)],_0x56c368=Array[_0x2aab17(0x3ce)](this[_0x2aab17(0x446)])[_0x2aab17(0x260)](_0x416277=>_0x416277[_0x2aab17(0x73c)]===_0x4a9dd3);_0x56c368['type']=_0x29ef44?_0x5bf86e[_0x2aab17(0x9e6)]:_0x5bf86e[_0x2aab17(0x27c)],_0x56c368[_0x2aab17(0x8ab)]=_0x155d0f['cost'],_0x56c368['distance']=_0x155d0f[_0x2aab17(0x45a)],_0x56c368[_0x2aab17(0x9d6)]=_0x155d0f[_0x2aab17(0x9d6)],_0x56c368['roundTripTime']=Date['now']()-this['startTime'],_0x56c368[_0x2aab17(0x826)]=this[_0x2aab17(0x826)],_0x56c368[_0x2aab17(0x4a1)]=_0x155d0f[_0x2aab17(0x4a1)],_0x56c368['trackKinds']=_0x155d0f['trackKinds'],_0x56c368[_0x2aab17(0x6fe)]=_0x155d0f[_0x2aab17(0xa85)],_0x40d481[_0x2aab17(0x60e)](_0xb10df['Subscription'],(_0x29ef44?_0x2aab17(0x9e6):'Rejected')+'\x20answer',_0x56c368);break;}case _0x34d6dd[_0x2aab17(0x475)]:{const _0x52b9e4=Array[_0x2aab17(0x3ce)](this[_0x2aab17(0x446)])[_0x2aab17(0x260)](_0x544a53=>_0x544a53[_0x2aab17(0x73c)]===_0x4a9dd3);_0x52b9e4[_0x2aab17(0x781)]=_0x5bf86e[_0x2aab17(0x27c)],_0x40d481[_0x2aab17(0x60e)](_0xb10df[_0x2aab17(0x63c)],_0x2aab17(0x4ce),_0x52b9e4);break;}}if(this[_0x2aab17(0x532)]())return this[_0x2aab17(0x4bc)]();}['chooseAnswer'](){const _0x53e370=_0x5f24fc,_0x5bff6a=Array[_0x53e370(0x3ce)](this[_0x53e370(0x446)])['filter'](_0x2ef4bb=>_0x2ef4bb[_0x53e370(0x781)]===_0x5bf86e[_0x53e370(0x9e6)])[_0x53e370(0x838)]((_0x5d35d5,_0x598d7d)=>_0x5d35d5[_0x53e370(0x8ab)]===_0x598d7d[_0x53e370(0x8ab)]?_0x5d35d5[_0x53e370(0x8cc)]-_0x598d7d[_0x53e370(0x8cc)]:_0x5d35d5['cost']-_0x598d7d[_0x53e370(0x8ab)]);if(0x0===_0x5bff6a[_0x53e370(0x9a6)])throw new _0x4668fc(_0x4668fc[_0x53e370(0x85e)][_0x53e370(0x4d0)],{'answers':Array[_0x53e370(0x3ce)](this[_0x53e370(0x446)])['map'](_0x5a8765=>({'nodeId':_0x5a8765[_0x53e370(0x73c)],'type':_0x5a8765['type']}))});return _0x40d481[_0x53e370(0x60e)](_0xb10df[_0x53e370(0x63c)],_0x53e370(0x9ee),_0x5bff6a[0x0],this[_0x53e370(0x446)]),_0x5bff6a[0x0];}[_0x5f24fc(0x532)](){const _0x210a69=_0x5f24fc;for(const _0xf4c692 of this['answers'])if(_0xf4c692[_0x210a69(0x781)]===_0x5bf86e['Waiting'])return!0x1;return!0x0;}}class _0x40538c{[_0x5f24fc(0xa85)];['contentType'];[_0x5f24fc(0x242)]=_0x449c97();constructor(_0x2d633b,_0x2e4119){const _0x119435=_0x5f24fc;this[_0x119435(0xa85)]=_0x2d633b,this[_0x119435(0x6cb)]=_0x2e4119;}['getLabel'](){return this['label'];}[_0x5f24fc(0xadb)](){return this['contentType'];}['registerSource'](_0x4c220f){_0x4c220f['registerPublisher'](this);}[_0x5f24fc(0x347)](_0x2ff987){const _0x12e511=_0x5f24fc;_0x2ff987[_0x12e511(0x4c6)](this);}[_0x5f24fc(0x803)](_0x35ab61){const _0x52c800=_0x5f24fc;this[_0x52c800(0x242)][_0x52c800(0x803)]({'topicLabel':this[_0x52c800(0xa85)],'contentType':this[_0x52c800(0x6cb)],'uuid':(0x0,_0x58fdf1['v4'])(),'recipients':[],..._0x35ab61});}['subscribe'](_0x26e35c){const _0x17afde=_0x5f24fc;return this[_0x17afde(0x242)][_0x17afde(0x6f8)](_0x26e35c);}[_0x5f24fc(0x783)](_0x27e258){const _0x370329=_0x5f24fc;_0x27e258[_0x370329(0xb21)](this);}['unregisterDestination'](_0x16d027){const _0x16f10c=_0x5f24fc;_0x16d027[_0x16f10c(0x2c6)](this);}}class _0x12f4a6{[_0x5f24fc(0x779)]={'topics':new Map(),'subscriptions':new Map()};['getPartsFromSubscription'];constructor(_0x3c04fd){this['getPartsFromSubscription']=_0x3c04fd;}get[_0x5f24fc(0x91b)](){const _0x323b50=_0x5f24fc;return this['maps'][_0x323b50(0x91b)];}get[_0x5f24fc(0x6c6)](){const _0x5b50b4=_0x5f24fc;return this[_0x5b50b4(0x779)][_0x5b50b4(0x6c6)];}[_0x5f24fc(0x98f)](_0x22e991,_0x425f62){const _0x214f87=_0x5f24fc,_0x5ea5f5=this[_0x214f87(0x5e8)](_0x425f62),_0x520796=_0x23dfb3(_0x22e991);if(!_0x5ea5f5['supportsContentType'])throw new _0x4668fc(_0x4668fc[_0x214f87(0x85e)][_0x214f87(0x3a2)],{'message':_0x520796+':\x20'+_0x5ea5f5[_0x214f87(0x931)]+'\x20does\x20not\x20support\x20content\x20type\x20'+_0x5ea5f5[_0x214f87(0x6cb)],'subscriptionType':_0x22e991,'subscription':_0x425f62,'subscriptonParts':_0x5ea5f5});const _0x24d245=_0x1bdf6c(_0x22e991,_0x5ea5f5);if(this[_0x214f87(0x779)][_0x214f87(0x91b)]['has'](_0x24d245))throw new _0x4668fc(_0x4668fc[_0x214f87(0x85e)][_0x214f87(0x3a2)],{'message':_0x520796+':\x20'+_0x24d245+_0x214f87(0x866),'subscriptionType':_0x22e991,'subscription':_0x425f62,'subscriptonParts':_0x5ea5f5});this[_0x214f87(0x779)][_0x214f87(0x91b)]['set'](_0x24d245,_0x425f62),this['createTopic'](_0x5ea5f5,_0x425f62);}[_0x5f24fc(0x403)](_0x205acc,_0x5572f9){const _0x48e820=_0x5f24fc,_0xf0ec76=_0x1bdf6c(_0x5572f9,_0x205acc),_0x350703=this[_0x48e820(0x779)][_0x48e820(0x91b)][_0x48e820(0xb07)](_0xf0ec76);if(!_0x350703)throw new _0x4668fc(_0x4668fc['codes'][_0x48e820(0x3a2)],{'message':_0x23dfb3(_0x5572f9)+':\x20'+_0xf0ec76+_0x48e820(0x9c3),'subscriptionType':_0x5572f9,'subscription':_0x350703,'subscriptonParts':_0x205acc});this[_0x48e820(0x5dd)](_0x350703,_0xf0ec76,_0x205acc);}[_0x5f24fc(0x5dd)](_0x3fd69e,_0x64e8f5,_0x410e43){const _0x4d95dc=_0x5f24fc;_0x410e43=_0x410e43||this[_0x4d95dc(0x5e8)](_0x3fd69e),this[_0x4d95dc(0x779)]['subscriptions'][_0x4d95dc(0x43a)](_0x64e8f5),this[_0x4d95dc(0x7f6)](_0x410e43,_0x3fd69e);}['createTopic'](_0x31d83f,{source:_0x33eb12,destination:_0x8b2bf9}){const _0x4ca5f3=_0x5f24fc,{contentType:_0x251c3c,label:_0x26f4a4,remoteId:_0x353e43}=_0x31d83f,_0x1789b2=_0xfcdd91(_0x251c3c,_0x26f4a4,_0x353e43),_0x51e035=new _0x40538c(_0x1789b2,_0x251c3c);_0x51e035['registerSource'](_0x33eb12),_0x51e035['registerDestination'](_0x8b2bf9),this['maps']['topics'][_0x4ca5f3(0x338)](_0x51e035[_0x4ca5f3(0x9b0)](),_0x51e035);}[_0x5f24fc(0x7f6)](_0x4df6f1,_0x5bdd6a){const _0x10fbea=_0x5f24fc,{contentType:_0x45ca82,label:_0x45cddc,remoteId:_0x184e3a}=_0x4df6f1,_0x5ebbc6=_0xfcdd91(_0x45ca82,_0x45cddc,_0x184e3a),_0x182b05=this[_0x10fbea(0x779)][_0x10fbea(0x6c6)][_0x10fbea(0xb07)](_0x5ebbc6);_0x182b05&&(this[_0x10fbea(0x9c7)](_0x182b05,_0x5bdd6a),this[_0x10fbea(0x779)][_0x10fbea(0x6c6)][_0x10fbea(0x43a)](_0x5ebbc6));}[_0x5f24fc(0x9c7)](_0x3dc06a,{source:_0x4a6bcd,destination:_0x306bb7}){const _0x49ee47=_0x5f24fc;_0x3dc06a[_0x49ee47(0x783)](_0x4a6bcd),_0x3dc06a[_0x49ee47(0x868)](_0x306bb7);}[_0x5f24fc(0x5be)](_0x183767){const _0x2220a5=_0x5f24fc;this[_0x2220a5(0x779)][_0x2220a5(0x91b)]['forEach']((_0x14070a,_0x5595bd)=>{const _0x56809f=_0x2220a5;_0x5595bd[_0x56809f(0x40f)](_0x183767)&&this[_0x56809f(0x5dd)](_0x14070a,_0x5595bd);});}}class _0x5b2e6f{[_0x5f24fc(0x6c1)];['maxDistance'];[_0x5f24fc(0x3f0)]=new Map();[_0x5f24fc(0x386)]=_0x65a5d(new _0x56a346(this[_0x5f24fc(0x902)]['bind'](this),()=>_0x4ecfc3['wait'](0x64)),!0x0);[_0x5f24fc(0x1fb)]=new Map();[_0x5f24fc(0x779)];[_0x5f24fc(0x5b9)]=new Map();constructor(_0x3afd36,_0xab9a47){const _0x14b61d=_0x5f24fc;this['configs']=_0x3afd36,this[_0x14b61d(0x81e)]=_0xab9a47,this[_0x14b61d(0x779)]=new _0x12f4a6(({source:_0x55526a,destination:_0x21df1b})=>_0x392053(_0x21df1b,_0x55526a));}[_0x5f24fc(0x98f)](_0x44c314,_0x1ef7ab){const _0x314376=_0x5f24fc,_0x512910=this[_0x314376(0x633)](_0x44c314)&&this['isMediaDestination'](_0x1ef7ab)?new _0x26ba3f(_0x44c314,_0x1ef7ab):new _0x22587b(_0x44c314,_0x1ef7ab);this[_0x314376(0x779)][_0x314376(0x98f)](_0x1949b7[_0x314376(0x64b)],_0x512910),this[_0x314376(0x6c1)]['mediator']['registerSystemSource'](_0x512910);}[_0x5f24fc(0x403)](_0xeb34ad,_0x581230,_0x5c6650=''){const _0x1e89cb=_0x5f24fc,_0x29ab57={'contentType':_0x581230,'label':_0xeb34ad,'remoteId':_0x5c6650},_0x438f7e=_0x1bdf6c(_0x1949b7['Incoming'],_0x29ab57),_0x224d1d=this['maps']['subscriptions'][_0x1e89cb(0xb07)](_0x438f7e);_0x224d1d&&this[_0x1e89cb(0x5dd)](_0x224d1d,_0x438f7e);}['handleContentUnpublishMediaStream'](_0x25daf0){const _0x44f9ea=_0x5f24fc;this[_0x44f9ea(0x998)](_0x25daf0);}['handleContentSubscribeMediaStream']({label:_0x18b40d,ownerId:_0x45d95e,trackKinds:_0x4c21f1,params:_0x46d341}){const _0x12961c=_0x5f24fc;this[_0x12961c(0x5a6)](_0x18b40d,_0x45d95e,_0x4c21f1,_0x46d341);}[_0x5f24fc(0x62f)]({ownerId:_0x5bf3b8,label:_0x50af2a,params:_0x38c73a}){const _0x237438=_0x5f24fc,{subscriptionLabel:_0x359544}=this[_0x237438(0x6ca)](_0x50af2a,_0x5bf3b8),_0x4a6076=this['getMediaSubscription'](_0x359544);_0x4a6076&&_0x4a6076[_0x237438(0x220)](_0x5bf3b8,_0x38c73a);}[_0x5f24fc(0xb35)]({ownerId:_0x28263a,label:_0x3706e9,trackKinds:_0x3be84,remainingTracks:_0xfb6f29}){const _0x3d466b=_0x5f24fc,_0x1f0423=_0x1bdf6c(_0x1949b7['Incoming'],{'contentType':_0x20053a[_0x3d466b(0x552)][_0x3d466b(0x9e3)],'label':_0x3706e9,'remoteId':_0x28263a});this['clearSubscriptionRequestTimeout'](_0x1f0423);const _0x43bdc1=this['subscriptionRequests'][_0x3d466b(0xb07)](_0x1f0423);_0x43bdc1&&(this[_0x3d466b(0x6c1)][_0x3d466b(0xae2)][_0x3d466b(0x580)](_0x43bdc1),this[_0x3d466b(0x3f0)]['delete'](_0x1f0423));const {parts:_0x514ad1,subscriptionLabel:_0x593232}=this[_0x3d466b(0x6ca)](_0x3706e9,_0x28263a),_0x1d2165=this[_0x3d466b(0x618)](_0x593232);_0x1d2165&&(_0x1d2165['unsubscribe'](_0x28263a,_0xfb6f29,_0x3be84),0x0===_0xfb6f29&&this[_0x3d466b(0x403)](_0x514ad1[_0x3d466b(0xa85)],_0x514ad1['contentType'],_0x514ad1['remoteId']));}['handleSubscriptionRestartNeedMediaStream'](_0x43412d,{label:_0x4bd717,ownerId:_0x6e7899,trackKinds:_0x3ceb25,streamId:_0x2d753b,params:_0x3dd27c}){const _0x58292f=_0x5f24fc,_0xc2b69b=_0x1bdf6c(_0x1949b7[_0x58292f(0x64b)],{'contentType':_0x20053a[_0x58292f(0x552)][_0x58292f(0x9e3)],'label':_0x2d753b,'remoteId':_0x43412d}),_0x4a9440=this[_0x58292f(0x779)]['subscriptions'][_0x58292f(0xb07)](_0xc2b69b);if(!(_0x4a9440&&_0x4a9440 instanceof _0x26ba3f))throw new _0x4668fc(_0x4668fc[_0x58292f(0x85e)][_0x58292f(0xa9d)],{'label':_0xc2b69b,'ownerId':_0x6e7899});this[_0x58292f(0x5dd)](_0x4a9440,_0xc2b69b),this[_0x58292f(0x5a6)](_0x4bd717,_0x6e7899,_0x3ceb25,_0x3dd27c);}[_0x5f24fc(0x93b)](_0x3ecf0f,_0x274011){const _0x1b6023=_0x5f24fc,{label:_0x194fcd,ownerId:_0x298a1e,trackKinds:_0x3ca534,params:_0xd71fdc}=_0x274011,_0x15886c=_0x1bdf6c(_0x1949b7[_0x1b6023(0x64b)],{'contentType':_0x20053a['ContentType'][_0x1b6023(0x9e3)],'label':_0x194fcd,'remoteId':_0x298a1e});if(!this[_0x1b6023(0x3f0)][_0x1b6023(0x4cb)](_0x15886c))throw new _0x4668fc(_0x4668fc[_0x1b6023(0x85e)][_0x1b6023(0xa9d)],{'label':_0x15886c,'ownerId':_0x298a1e,'streamId':_0x274011[_0x1b6023(0x9d6)],'requests':this[_0x1b6023(0x3f0)]});const _0x548001=this[_0x1b6023(0x3f0)]['get'](_0x15886c);if(_0x3ca534[_0x1b6023(0x9a6)]===_0x548001[_0x1b6023(0x393)]()[_0x1b6023(0x9a6)]&&_0x3ca534[_0x1b6023(0x667)](_0x3f7c28=>_0x548001['getTracks']()['includes'](_0x3f7c28)))try{const _0x2dc9d8=_0x548001['handleSubscriptionSystemEvents'](_0x3ecf0f,_0x274011);if(!_0x2dc9d8)return;this[_0x1b6023(0x6f8)](_0x2dc9d8,_0x298a1e,_0x194fcd,_0x15886c,_0x3ca534);}catch(_0x439371){return void this[_0x1b6023(0x980)](_0x194fcd,_0x298a1e,_0x3ca534,_0xd71fdc);}}[_0x5f24fc(0x3d9)](_0x4618e8,{label:_0x5a0719,ownerId:_0x4d9383,trackKinds:_0x4b39ce}){const _0x5abbd9=_0x5f24fc,_0x56c675=this[_0x5abbd9(0x6c1)][_0x5abbd9(0xae2)][_0x5abbd9(0x9fc)](_0x4d9383,_0x5a0719);if(!_0x56c675)return;const _0x3ef5f7=_0x56c675[_0x5abbd9(0xaa5)](),_0xe39114=_0x56c675['getSubscribedTracks']();_0xe39114['some'](_0x4e5ff3=>_0x4b39ce[_0x5abbd9(0x465)](_0x4e5ff3))&&this['findNewMediaSubscription'](_0x4618e8,_0x5a0719,_0x3ef5f7,_0x4d9383,_0xe39114);}[_0x5f24fc(0x823)]({label:_0xf4e0a4,providerId:_0x4c6446,ownerId:_0x3ed87a,streamId:_0x5de318,trackKinds:_0x12103f}){const _0x22faec=_0x5f24fc;this[_0x22faec(0x5ba)](_0x4c6446,_0xf4e0a4,_0x5de318,_0x3ed87a,_0x12103f);}[_0x5f24fc(0x22d)](_0x47d0a3){const _0x4056ce=_0x5f24fc;for(const _0x1bd062 of this[_0x4056ce(0x5b9)][_0x4056ce(0x9af)]()){const {streamLabel:_0x30841f,ownerId:_0x5d12ef,trackKinds:_0xeb2d5e,params:_0x4f6a6e}=_0x1bd062;if(!_0x5d12ef||!_0xeb2d5e||!_0x30841f)return;this[_0x4056ce(0x386)][_0x4056ce(0x96d)]({'label':_0x30841f,'ownerId':_0x5d12ef,'trackKinds':_0xeb2d5e,'params':_0x4f6a6e,'remoteId':_0x47d0a3});}}[_0x5f24fc(0x5be)](_0x2e2a8f){const _0x117040=_0x5f24fc;this['maps']['subscriptions'][_0x117040(0xac8)]((_0xb982c6,_0x562122)=>{const _0x1d722b=_0x117040;if(_0x562122[_0x1d722b(0x40f)](_0x2e2a8f)){if(_0xb982c6[_0x1d722b(0xaaf)][_0x1d722b(0xadb)]()===_0x20053a['ContentType'][_0x1d722b(0x9e3)]){const _0x43ed9c=_0xb982c6[_0x1d722b(0xaaf)];if(_0x43ed9c[_0x1d722b(0x5d3)]()[_0x1d722b(0x9a6)]>0x0){const _0x26a44e={'type':_0x34d6dd[_0x1d722b(0xb05)],'label':_0x43ed9c[_0x1d722b(0x9b0)](),'ownerId':_0x43ed9c[_0x1d722b(0x92a)](),'trackKinds':_0x43ed9c['getSubscribedTracks']()};return void this[_0x1d722b(0x3d9)](_0x2e2a8f,_0x26a44e);}}this[_0x1d722b(0x5dd)](_0xb982c6,_0x562122);}});}[_0x5f24fc(0x7ef)](){const _0xf6ee45=_0x5f24fc;this[_0xf6ee45(0x779)][_0xf6ee45(0x91b)][_0xf6ee45(0xac8)](this[_0xf6ee45(0x5dd)][_0xf6ee45(0x1ff)](this));}['subscribe'](_0x531e5e,_0x37f5f9,_0x37c091,_0x72fba2,_0x233769){const _0x7ae3b4=_0x5f24fc,_0x6d1f3c=this['configs'][_0x7ae3b4(0xae2)][_0x7ae3b4(0xa92)](_0x531e5e[_0x7ae3b4(0x73c)]),_0x58f77e=this['configs']['mediator']['getRemoteMediaStream'](_0x37f5f9,_0x37c091);this[_0x7ae3b4(0x98a)](_0x72fba2),this[_0x7ae3b4(0x3f0)]['has'](_0x72fba2)&&(this[_0x7ae3b4(0x6c1)][_0x7ae3b4(0xae2)][_0x7ae3b4(0x580)](this['subscriptionRequests'][_0x7ae3b4(0xb07)](_0x72fba2)),this[_0x7ae3b4(0x3f0)]['delete'](_0x72fba2)),this[_0x7ae3b4(0x67e)](_0x531e5e,_0x37f5f9,_0x37c091,_0x58f77e),_0x58f77e[_0x7ae3b4(0x7ec)](_0x531e5e[_0x7ae3b4(0x9d6)]),_0x58f77e['setProviderId'](_0x531e5e['nodeId']);const _0x28d195=_0x392053(_0x58f77e,_0x6d1f3c),_0x101ac6=_0x1bdf6c(_0x1949b7[_0x7ae3b4(0x64b)],_0x28d195);this[_0x7ae3b4(0x779)][_0x7ae3b4(0x91b)][_0x7ae3b4(0x4cb)](_0x101ac6)||this[_0x7ae3b4(0x98f)](_0x6d1f3c,_0x58f77e);const _0x2b3813=this[_0x7ae3b4(0x779)]['subscriptions'][_0x7ae3b4(0xb07)](_0x101ac6);if(!(_0x2b3813&&_0x2b3813 instanceof _0x26ba3f))throw new _0x4668fc(_0x4668fc['codes'][_0x7ae3b4(0xa9d)],{'label':_0x72fba2,'ownerId':_0x37f5f9});_0x40d481[_0x7ae3b4(0x2e1)](_0x7ae3b4(0x6b8),{'clusterId':this['configs']['clusterId'],'nodeId':this['configs'][_0x7ae3b4(0x8ad)][_0x7ae3b4(0x6e8)](),'nodeType':this['configs'][_0x7ae3b4(0x8ad)]['type'],'data':{'subscriptionLabel':_0x101ac6,'chosenAnswer':_0x531e5e}}),this[_0x7ae3b4(0x5b9)][_0x7ae3b4(0x338)](_0x101ac6,_0x531e5e),_0x2b3813[_0x7ae3b4(0x6f8)](_0x37f5f9,_0x233769,_0x531e5e['params']);}['removeRemoteStreamSubscription']({ownerId:_0x563176,label:_0x554ce0}){const _0x283a66=_0x5f24fc,_0x4f78c6=this['configs'][_0x283a66(0xae2)][_0x283a66(0x9fc)](_0x563176,_0x554ce0),[_0x39577f,_0x875d99]=Array[_0x283a66(0x3ce)](this[_0x283a66(0x779)][_0x283a66(0x91b)][_0x283a66(0x8f3)]())[_0x283a66(0x260)](([_0x311eab,_0x21b078])=>-0x1!==_0x311eab['indexOf'](_0x4f78c6[_0x283a66(0xaa5)]()));return this['closeSubscription'](_0x875d99,_0x39577f);}[_0x5f24fc(0x5dd)](_0x4a0755,_0x16ed7d){const _0x552098=_0x5f24fc;this[_0x552098(0x6c1)][_0x552098(0xae2)][_0x552098(0x580)](_0x4a0755),this[_0x552098(0x779)][_0x552098(0x5dd)](_0x4a0755,_0x16ed7d);}[_0x5f24fc(0x633)](_0x580618){const _0x964297=_0x5f24fc;return _0x580618['getSupportedContentTypes']()[_0x964297(0x465)](_0x20053a['ContentType'][_0x964297(0x9e3)]);}['isMediaDestination'](_0x232c85){const _0x19b87a=_0x5f24fc;return _0x232c85['getContentType']()===_0x20053a[_0x19b87a(0x552)]['Media'];}async[_0x5f24fc(0x980)](_0x26b435,_0xf1a0e9,_0x2b6d35,_0x1c291d){const _0x2a8cfa=_0x5f24fc;await _0x4ecfc3[_0x2a8cfa(0x7a2)](0x3e8);const _0x146168=_0x1bdf6c(_0x1949b7[_0x2a8cfa(0x64b)],{'contentType':_0x20053a[_0x2a8cfa(0x552)]['Media'],'label':_0x26b435,'remoteId':_0xf1a0e9});this[_0x2a8cfa(0x98a)](_0x146168);const _0x4680be=this[_0x2a8cfa(0x3f0)][_0x2a8cfa(0xb07)](_0x146168);if(!_0x4680be)throw new _0x4668fc(_0x4668fc[_0x2a8cfa(0x85e)][_0x2a8cfa(0xa9d)],{'label':_0x146168,'ownerId':_0xf1a0e9});const _0x483c18=this[_0x2a8cfa(0x6c1)][_0x2a8cfa(0xae2)][_0x2a8cfa(0x7e2)](_0x22c2d2=>_0x22c2d2[_0x2a8cfa(0x629)]()),_0x187cbb=this[_0x2a8cfa(0x6c1)][_0x2a8cfa(0xae2)][_0x2a8cfa(0x4c9)](this[_0x2a8cfa(0x6c1)][_0x2a8cfa(0x8ad)][_0x2a8cfa(0x6e8)](),_0xf1a0e9);_0x4680be[_0x2a8cfa(0x6d5)](_0x483c18[_0x2a8cfa(0xa4a)](_0xca6d36=>_0xca6d36[_0x2a8cfa(0x5b7)]()),_0x187cbb);try{_0x4680be[_0x2a8cfa(0x236)](this[_0x2a8cfa(0x6c1)][_0x2a8cfa(0x8ad)][_0x2a8cfa(0x6e8)](),_0xf1a0e9,_0x26b435,_0x2b6d35,_0x1c291d),this[_0x2a8cfa(0x81a)](_0x26b435,_0xf1a0e9,_0x2b6d35,_0x1c291d,_0x146168,_0x4680be);}catch(_0x430e16){this[_0x2a8cfa(0x386)][_0x2a8cfa(0x96d)]({'label':_0x26b435,'ownerId':_0xf1a0e9,'trackKinds':_0x2b6d35,'params':_0x1c291d});}}[_0x5f24fc(0x5a6)](_0xe01fc2,_0x5f184d,_0x328642,_0x34d695){this['subscriptionRequestsQueue']['push']({'label':_0xe01fc2,'ownerId':_0x5f184d,'trackKinds':_0x328642,'params':_0x34d695});}[_0x5f24fc(0x902)]({label:_0x2dbfef,ownerId:_0x39f954,trackKinds:_0x3f1cb1,params:_0x53eb79,remoteId:_0x1f4cbd}){const _0x42580b=_0x5f24fc;if(!this['configs'][_0x42580b(0xae2)][_0x42580b(0x9fc)](_0x39f954,_0x2dbfef))return;if(!this[_0x42580b(0x6c1)][_0x42580b(0xae2)][_0x42580b(0x373)]()[_0x42580b(0x375)]())throw new Error(_0x42580b(0xa0d));if(_0x1f4cbd){const _0x38d300=this[_0x42580b(0x6c1)][_0x42580b(0xae2)][_0x42580b(0x97b)]()[_0x42580b(0x260)](_0x2a66c7=>_0x2a66c7[_0x42580b(0x6e8)]()===_0x1f4cbd),_0x5264af=_0x38d300?.[_0x42580b(0x375)]();if(!_0x38d300||!_0x5264af)throw new Error(_0x42580b(0x8b8));const _0x57206c=this['configs'][_0x42580b(0xae2)]['getRemoteNodes']()[_0x42580b(0x260)](_0x3385b1=>_0x3385b1[_0x42580b(0x6e8)]()===_0x39f954),_0x480e8c=_0x57206c?.['getRank']();if(!_0x57206c||!_0x480e8c)throw new Error(_0x42580b(0x60c));const _0x3391fe=this[_0x42580b(0x5b9)][_0x42580b(0xb07)](_0x2dbfef);if(_0x3391fe){const _0xa6403c=this[_0x42580b(0x6c1)][_0x42580b(0xae2)][_0x42580b(0x97b)]()['find'](_0x1c9508=>_0x1c9508[_0x42580b(0x6e8)]()===_0x3391fe[_0x42580b(0x73c)]),_0x5dc089=_0xa6403c?.[_0x42580b(0x375)]();if(!_0xa6403c||!_0x5dc089)throw new Error(_0x42580b(0x574));if(Math[_0x42580b(0x7d7)](_0x5dc089-_0x480e8c)<Math[_0x42580b(0x7d7)](_0x5264af-_0x480e8c))return;}}const _0x225bd2=this[_0x42580b(0x6c1)][_0x42580b(0xae2)][_0x42580b(0x7e2)](_0x57ce94=>_0x57ce94['isConnected']()&&(!_0x1f4cbd||_0x57ce94[_0x42580b(0x5b7)]()===_0x1f4cbd));if(!_0x225bd2['length']||0x0===_0x225bd2[_0x42580b(0x9a6)])throw new Error(_0x42580b(0x1ed));const _0x3d4ea8=this[_0x42580b(0x6c1)]['mediator'][_0x42580b(0x4c9)](this[_0x42580b(0x6c1)][_0x42580b(0x8ad)]['getId'](),_0x39f954),_0x53e6ea=_0x1bdf6c(_0x1949b7[_0x42580b(0x64b)],{'contentType':_0x20053a['ContentType'][_0x42580b(0x9e3)],'label':_0x2dbfef,'remoteId':_0x39f954});if(this['subscriptionRequests'][_0x42580b(0x4cb)](_0x53e6ea)){if(_0x1f4cbd)throw new Error(_0x42580b(0xaf0));const _0x40ceac=this['subscriptionRequests']['get'](_0x53e6ea)['getTracks']();if(_0x40ceac['length']===_0x3f1cb1['length']&&_0x40ceac['every'](_0xcc70d5=>_0x3f1cb1[_0x42580b(0x465)](_0xcc70d5)))return;this[_0x42580b(0x6c1)]['mediator'][_0x42580b(0x580)](this[_0x42580b(0x3f0)]['get'](_0x53e6ea)),this[_0x42580b(0x3f0)][_0x42580b(0x43a)](_0x53e6ea),_0x3f1cb1=Array[_0x42580b(0x3ce)](new Set(_0x3f1cb1['concat'](_0x40ceac))),this[_0x42580b(0x98a)](_0x53e6ea);}const _0x5996d7=new _0x51f635(_0x225bd2[_0x42580b(0xa4a)](_0x3ff4ca=>_0x3ff4ca[_0x42580b(0x5b7)]()),_0x3d4ea8,this[_0x42580b(0x81e)],_0x3f1cb1);this[_0x42580b(0x6c1)]['mediator']['registerSystemSource'](_0x5996d7),this[_0x42580b(0x3f0)][_0x42580b(0x338)](_0x53e6ea,_0x5996d7),_0x5996d7[_0x42580b(0x236)](this[_0x42580b(0x6c1)][_0x42580b(0x8ad)]['getId'](),_0x39f954,_0x2dbfef,_0x3f1cb1,_0x53eb79),this[_0x42580b(0x81a)](_0x2dbfef,_0x39f954,_0x3f1cb1,_0x53eb79,_0x53e6ea,_0x5996d7);}[_0x5f24fc(0x98a)](_0x4404f3){const _0x3ad631=_0x5f24fc;this[_0x3ad631(0x1fb)][_0x3ad631(0x4cb)](_0x4404f3)&&(clearTimeout(this[_0x3ad631(0x1fb)][_0x3ad631(0xb07)](_0x4404f3)),this['subscriptionRequestTimeouts']['delete'](_0x4404f3));}['setSubscriptionRequestTimeout'](_0x39c904,_0x2e5231,_0x30f3ef,_0x5975be,_0x4884f4,_0x2f3f78){const _0x6b0bc5=_0x5f24fc;this[_0x6b0bc5(0x98a)](_0x4884f4),this['subscriptionRequestTimeouts'][_0x6b0bc5(0x338)](_0x4884f4,setTimeout(()=>{const _0x508278=_0x6b0bc5;this[_0x508278(0x1fb)][_0x508278(0x43a)](_0x4884f4);try{const _0x44aae7=_0x2f3f78['chooseAnswer']();this['subscribe'](_0x44aae7,_0x2e5231,_0x39c904,_0x4884f4,_0x30f3ef);}catch(_0x29b7c2){this['handleNoAnswer'](_0x39c904,_0x2e5231,_0x30f3ef,_0x5975be);}},0x7d0));}[_0x5f24fc(0x5ba)](_0x1c3b08,_0x5f1d18,_0x1ec48e,_0x337d7b,_0x287853){const _0xa83260=_0x5f24fc,{subscriptionLabel:_0x34dadc}=this[_0xa83260(0x6ca)](_0x5f1d18,_0x337d7b),_0x206ee6=this['getMediaSubscription'](_0x34dadc),_0x414670=_0x206ee6?.['params'];_0x206ee6&&(_0x206ee6['unsubscribe'](_0x337d7b,0x0),this[_0xa83260(0x403)](_0x1ec48e,_0x20053a['ContentType']['Media'],_0x1c3b08)),this[_0xa83260(0x5a6)](_0x5f1d18,_0x337d7b,_0x287853,_0x414670);}[_0x5f24fc(0x618)](_0x16b0a9){const _0xbf289e=_0x5f24fc,_0x265964=this[_0xbf289e(0x779)][_0xbf289e(0x91b)][_0xbf289e(0xb07)](_0x16b0a9);if(_0x265964){if(!(_0x265964 instanceof _0x26ba3f))throw new _0x4668fc(_0x4668fc['codes'][_0xbf289e(0x3a2)],{'label':_0x16b0a9,'subscription':_0x265964});return _0x265964;}}[_0x5f24fc(0x6ca)](_0x126c4e,_0x27b1bb){const _0x473a97=_0x5f24fc,_0x2dc7e2=this[_0x473a97(0x49a)](_0x126c4e,_0x27b1bb);return{'parts':_0x2dc7e2,'subscriptionLabel':_0x1bdf6c(_0x1949b7['Incoming'],_0x2dc7e2)};}[_0x5f24fc(0x49a)](_0x4b2f69,_0x2eb697){const _0x212fd1=_0x5f24fc,_0x44f131=this[_0x212fd1(0x6c1)][_0x212fd1(0xae2)][_0x212fd1(0x9fc)](_0x2eb697,_0x4b2f69),_0x52f456=_0x44f131['getProviderId']();if(!_0x52f456)throw new _0x4668fc(_0x4668fc[_0x212fd1(0x85e)][_0x212fd1(0x364)],{'label':_0x4b2f69,'streamId':_0x44f131[_0x212fd1(0xaa5)](),'ownerId':_0x2eb697,'localId':this[_0x212fd1(0x6c1)][_0x212fd1(0x8ad)][_0x212fd1(0x6e8)]()});return{'contentType':_0x20053a[_0x212fd1(0x552)][_0x212fd1(0x9e3)],'label':_0x44f131[_0x212fd1(0xaa5)](),'remoteId':_0x52f456};}[_0x5f24fc(0x67e)](_0x25f392,_0x4e1e30,_0x1d6b17,_0xa1ca7b){const _0x1629cd=_0x5f24fc,_0x2ea022=_0xa1ca7b['getProviderId']();if(_0x2ea022&&_0x2ea022!==_0x25f392[_0x1629cd(0x73c)]){const {parts:_0x1e4514,subscriptionLabel:_0xbb1e8f}=this[_0x1629cd(0x6ca)](_0x1d6b17,_0x4e1e30),_0x9b3873=this[_0x1629cd(0x618)](_0xbb1e8f);_0x9b3873&&(_0x9b3873[_0x1629cd(0xac2)](_0x4e1e30,0x0),this[_0x1629cd(0x403)](_0x1e4514['label'],_0x1e4514[_0x1629cd(0x6cb)],_0x1e4514['remoteId']));}}}class _0x46b9c9{[_0x5f24fc(0x6c1)];[_0x5f24fc(0x2f9)];[_0x5f24fc(0x779)];constructor(_0x29c15e,_0x585311){const _0x1c5161=_0x5f24fc;this[_0x1c5161(0x6c1)]=_0x29c15e,this[_0x1c5161(0x2f9)]=_0x585311,this[_0x1c5161(0x779)]=new _0x12f4a6(({source:_0x310792,destination:_0x1d54fa})=>_0x392053(_0x310792,_0x1d54fa));}[_0x5f24fc(0x98f)](_0x556edc,_0x48253e){const _0x286b4d=_0x5f24fc,_0xb2ac1c={'source':_0x556edc,'destination':_0x48253e};this[_0x286b4d(0x779)][_0x286b4d(0x98f)](_0x1949b7[_0x286b4d(0xa46)],_0xb2ac1c);}[_0x5f24fc(0x403)](_0x31ebe2,_0x15acef,_0x596621=''){const _0x198715=_0x5f24fc,_0x227e5b={'contentType':_0x15acef,'label':_0x31ebe2,'remoteId':_0x596621};this[_0x198715(0x779)]['removeSubscription'](_0x227e5b,_0x1949b7[_0x198715(0xa46)]);}[_0x5f24fc(0x2b6)](_0x181495,_0x3530de){const _0x1574d1=_0x5f24fc;let _0x1d22f3;_0x1d22f3=_0x3530de[_0x1574d1(0x4a1)]!==this['configs'][_0x1574d1(0x8ad)][_0x1574d1(0x6e8)]()?this[_0x1574d1(0x6c1)][_0x1574d1(0xae2)][_0x1574d1(0x9fc)](_0x3530de[_0x1574d1(0x4a1)],_0x3530de[_0x1574d1(0xa85)]):this['configs'][_0x1574d1(0xae2)][_0x1574d1(0xa1a)](_0x3530de[_0x1574d1(0xa85)]);const _0x2b33bd=_0x1bdf6c(_0x1949b7[_0x1574d1(0xa46)],{'contentType':_0x20053a[_0x1574d1(0x552)][_0x1574d1(0x9e3)],'label':_0x1d22f3[_0x1574d1(0x962)](),'remoteId':_0x181495}),_0x20ce77=this[_0x1574d1(0x65a)]();if(!this[_0x1574d1(0x779)][_0x1574d1(0x91b)][_0x1574d1(0x4cb)](_0x2b33bd)&&_0x20ce77>=this['maxOutgoingSubscriptions'])return{'type':_0x34d6dd[_0x1574d1(0x53a)],'ownerId':_0x3530de[_0x1574d1(0x4a1)],'label':_0x3530de[_0x1574d1(0xa85)],'streamId':_0x1d22f3[_0x1574d1(0x962)](),'trackKinds':_0x3530de['trackKinds'],'params':_0x3530de[_0x1574d1(0x826)]};_0x1d22f3 instanceof _0x31c3be&&!_0x1d22f3[_0x1574d1(0x900)](_0x3530de['trackKinds'])&&_0x1d22f3['subscribe'](_0x3530de[_0x1574d1(0x826)]),this[_0x1574d1(0x779)][_0x1574d1(0x91b)][_0x1574d1(0x4cb)](_0x2b33bd)||this[_0x1574d1(0x98f)](_0x1d22f3[_0x1574d1(0x576)](_0x181495),this[_0x1574d1(0x6c1)]['mediator'][_0x1574d1(0xa92)](_0x181495));}[_0x5f24fc(0x5a4)](_0x223a74,{label:_0x3b56aa,ownerId:_0xb555e6,remainingTracks:_0x1f22b3}){const _0x4abbea=_0x5f24fc;if(_0x1f22b3>0x0)return;let _0x2ed3ad;_0x2ed3ad=_0xb555e6!==this[_0x4abbea(0x6c1)][_0x4abbea(0x8ad)]['getId']()?this[_0x4abbea(0x6c1)]['mediator'][_0x4abbea(0x9fc)](_0xb555e6,_0x3b56aa):this[_0x4abbea(0x6c1)][_0x4abbea(0xae2)]['getLocalMediaStream'](_0x3b56aa);const _0x492794=_0x2ed3ad[_0x4abbea(0x962)](),_0x4ce426=_0x20053a[_0x4abbea(0x552)]['Media'];this[_0x4abbea(0x403)](_0x492794,_0x4ce426,_0x223a74);}[_0x5f24fc(0xb35)](_0x54f2a5,{label:_0x18e742,ownerId:_0x2b5afa,trackKinds:_0x30ba54}){const _0xd2e2bf=_0x5f24fc;if(_0x54f2a5!==_0x7cf9e6)return[];let _0x2d2dce=[];for(const _0x4633fb of this[_0xd2e2bf(0x779)][_0xd2e2bf(0x91b)]){const {source:_0x282ea5,destination:_0x1a9725}=_0x4633fb[0x1];_0x282ea5['getLabel']()===_0x18e742&&_0x282ea5['getOwnerId']()===_0x2b5afa&&_0x2d2dce[_0xd2e2bf(0x96d)]({'sourceId':this[_0xd2e2bf(0x6c1)][_0xd2e2bf(0x8ad)]['getId'](),'destinationIds':[_0x1a9725[_0xd2e2bf(0x5b7)]()],'messageType':_0x31112d[_0xd2e2bf(0x63c)],'content':{'type':_0x34d6dd[_0xd2e2bf(0xb05)],'label':_0x18e742,'ownerId':_0x2b5afa,'trackKinds':_0x30ba54}});}return _0x2d2dce;}[_0x5f24fc(0x511)](_0x2783a6,_0x11a512){const _0x44f435=_0x5f24fc,{label:_0x7a5abe,ownerId:_0x3e78dc,trackKinds:_0x3d6935,params:_0x19d093}=_0x11a512,{hasTracks:_0x1caadd,streamId:_0x48840b,hasResolution:_0x2b7934,distance:_0x3dcb0c,subscriptionLabel:_0xcceb7d}=this['getSubscriptionInfo'](_0x2783a6,_0x11a512);let _0x1f4646=this['getNumberOutgoingSubscriptions']()<this[_0x44f435(0x2f9)]&&(_0x1caadd||_0x3dcb0c>-0x1)?_0x34d6dd[_0x44f435(0x607)]:_0x34d6dd[_0x44f435(0x475)];const _0x4f61a8=_0x3dcb0c<0x0?0xa:_0x3dcb0c;let _0x36a8f3=_0x1caadd?_0x2b7934?_0x4f61a8:_0x4f61a8+0x0:_0x4f61a8+0xa;return _0xcceb7d&&this['maps'][_0x44f435(0x91b)]['has'](_0xcceb7d)&&(_0x1caadd&&(_0x36a8f3=0x0),_0x1f4646=_0x34d6dd['CanProvideMediaStream']),{'type':_0x1f4646,'cost':_0x36a8f3,'distance':_0x3dcb0c,'label':_0x7a5abe,'ownerId':_0x3e78dc,'streamId':_0x48840b,'trackKinds':_0x3d6935,'params':_0x19d093};}[_0x5f24fc(0x36a)](_0x32df89){const _0x4521d7=_0x5f24fc,{label:_0x3891f6,ownerId:_0x5dcf2d}=_0x32df89,_0x5ac14b=this[_0x4521d7(0x6c1)][_0x4521d7(0xae2)][_0x4521d7(0x9fc)](_0x5dcf2d,_0x3891f6);this[_0x4521d7(0x779)]['subscriptions'][_0x4521d7(0xac8)](_0x371fb8=>{const _0x1d1349=_0x4521d7;if(_0x371fb8[_0x1d1349(0x9b4)][_0x1d1349(0xaa5)]()===_0x5ac14b[_0x1d1349(0x962)]()){const _0x51ec03=_0x371fb8[_0x1d1349(0xaaf)];this[_0x1d1349(0x403)](_0x5ac14b[_0x1d1349(0x962)](),_0x20053a[_0x1d1349(0x552)][_0x1d1349(0x9e3)],_0x51ec03['getRemoteId']());}});}[_0x5f24fc(0x9bd)]({label:_0x38f74e}){const _0x37f03c=_0x5f24fc,_0x2d9089=this[_0x37f03c(0x6c1)][_0x37f03c(0xae2)]['getLocalMediaStream'](_0x38f74e);this['maps']['subscriptions'][_0x37f03c(0xac8)](_0x1bd365=>{const _0x2ff80a=_0x37f03c;if(_0x1bd365[_0x2ff80a(0x9b4)]['getInternalStreamId']()===_0x2d9089[_0x2ff80a(0x962)]()){const _0x2dc1ca=_0x1bd365[_0x2ff80a(0xaaf)];this[_0x2ff80a(0x403)](_0x2d9089[_0x2ff80a(0x962)](),_0x20053a[_0x2ff80a(0x552)][_0x2ff80a(0x9e3)],_0x2dc1ca[_0x2ff80a(0x5b7)]());}});}[_0x5f24fc(0x5be)](_0x30c473){const _0x2e6b47=_0x5f24fc;this['maps'][_0x2e6b47(0x5be)](_0x30c473);}[_0x5f24fc(0x7ef)](){const _0x190dd2=_0x5f24fc;this[_0x190dd2(0x779)][_0x190dd2(0x91b)][_0x190dd2(0xac8)](this[_0x190dd2(0x5dd)][_0x190dd2(0x1ff)](this));}['closeSubscription'](_0x40140d,_0x5ab0d4){this['maps']['closeSubscription'](_0x40140d,_0x5ab0d4);}[_0x5f24fc(0x310)](_0x360f77,{label:_0x1c857a,ownerId:_0x109cd3,trackKinds:_0x58a473,params:_0x5106c4}){const _0x2060b7=_0x5f24fc;if(_0x109cd3!==this[_0x2060b7(0x6c1)][_0x2060b7(0x8ad)]['getId']()){const _0x15061d=this[_0x2060b7(0x6c1)]['mediator'][_0x2060b7(0x9fc)](_0x109cd3,_0x1c857a);return _0x15061d&&_0x15061d[_0x2060b7(0x785)]()!==_0x360f77?{'hasTracks':_0x15061d[_0x2060b7(0x388)](_0x58a473),'hasResolution':this[_0x2060b7(0x50b)](_0x15061d[_0x2060b7(0xaed)](),_0x5106c4),'streamId':_0x15061d[_0x2060b7(0x962)](),'distance':this['configs'][_0x2060b7(0xae2)][_0x2060b7(0x4c9)](_0x360f77,_0x109cd3),'subscriptionLabel':_0x1bdf6c(_0x1949b7[_0x2060b7(0xa46)],{'contentType':_0x20053a[_0x2060b7(0x552)]['Media'],'label':_0x15061d['getShareableStreamId'](),'remoteId':_0x360f77})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x2c4f8a=this['configs']['mediator'][_0x2060b7(0xa1a)](_0x1c857a);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x2c4f8a[_0x2060b7(0x962)](),'distance':0x0,'subscriptionLabel':_0x1bdf6c(_0x1949b7['Outgoing'],{'contentType':_0x20053a[_0x2060b7(0x552)][_0x2060b7(0x9e3)],'label':_0x2c4f8a['getShareableStreamId'](),'remoteId':_0x360f77})};}[_0x5f24fc(0x65a)](){const _0x4eca53=_0x5f24fc;return Array[_0x4eca53(0x3ce)](this[_0x4eca53(0x779)][_0x4eca53(0x91b)]['entries']())[_0x4eca53(0x776)](([_0x316d3c,{source:_0x56460a}])=>_0x316d3c['startsWith'](_0x1949b7[_0x4eca53(0xa46)])&&_0x56460a['getContentType']()===_0x20053a[_0x4eca53(0x552)][_0x4eca53(0x9e3)])[_0x4eca53(0x9a6)];}['canProvideResolution'](_0x135905,_0x3652c1){const _0x4ec6d6=_0x5f24fc;if(!_0x3652c1||!_0x3652c1[_0x4ec6d6(0x829)]||_0x4ec6d6(0xa48)==typeof _0x3652c1[_0x4ec6d6(0x829)]||!_0x3652c1[_0x4ec6d6(0x829)]['maxResolution'])return!0x0;const {width:_0x753980,height:_0x15d972}=_0x3652c1['video'][_0x4ec6d6(0x235)];return _0x135905[_0x4ec6d6(0x58b)]>=_0x753980&&_0x135905[_0x4ec6d6(0x867)]>=_0x15d972;}}class _0x5eadf7{[_0x5f24fc(0x6c1)];[_0x5f24fc(0x2f9)];['maxDistance'];[_0x5f24fc(0x541)];['incomingManager'];[_0x5f24fc(0x402)];constructor(_0x47ad8e,_0x3c1707,_0x438176){const _0x140ed0=_0x5f24fc;this[_0x140ed0(0x6c1)]=_0x47ad8e,this[_0x140ed0(0x2f9)]=_0x3c1707,this['maxDistance']=_0x438176,this[_0x140ed0(0x6c1)][_0x140ed0(0xae2)]['registerSystemSource'](this),this[_0x140ed0(0x55f)]=new _0x5b2e6f(this[_0x140ed0(0x6c1)],this['maxDistance']),this[_0x140ed0(0x402)]=new _0x46b9c9(this['configs'],this[_0x140ed0(0x2f9)]);}[_0x5f24fc(0xaf7)](_0x5f1d30){const _0x43f3bb=_0x5f24fc;this[_0x43f3bb(0x541)]=_0x5f1d30;}[_0x5f24fc(0x29f)](){delete this['systemTopic'];}[_0x5f24fc(0x7ef)](){const _0x47b8ec=_0x5f24fc;this['incomingManager'][_0x47b8ec(0x7ef)](),this['outgoingManager'][_0x47b8ec(0x7ef)](),this[_0x47b8ec(0x6c1)]['mediator']['unregisterSystemSource'](this);}[_0x5f24fc(0x26d)](_0x2afbf8,_0x1e4a96){const _0x136623=_0x5f24fc;this[_0x136623(0x55f)][_0x136623(0x98f)](_0x2afbf8,_0x1e4a96);}[_0x5f24fc(0x76a)](_0x3d8973,_0x1c820b){const _0x26ce29=_0x5f24fc;this['outgoingManager'][_0x26ce29(0x98f)](_0x3d8973,_0x1c820b);}[_0x5f24fc(0xab0)](_0x18cb42,_0x39fa05,_0x2a2c10=''){const _0x24ae62=_0x5f24fc;this[_0x24ae62(0x55f)][_0x24ae62(0x403)](_0x18cb42,_0x39fa05,_0x2a2c10);}['removeOutgoingSubscription'](_0x489ab7,_0x474786,_0x2bc1a1=''){const _0x25b1a8=_0x5f24fc;try{this['outgoingManager']['removeSubscription'](_0x489ab7,_0x474786,_0x2bc1a1);}catch(_0x25e012){if(_0x25e012 instanceof _0x4668fc&&_0x25e012['code']===_0x4668fc['codes'][_0x25b1a8(0x3a2)])return;}}[_0x5f24fc(0xafd)](_0x3b1603){const _0x4aed55=_0x5f24fc;switch(_0x3b1603[_0x4aed55(0x6b2)][_0x4aed55(0x781)]){case _0x34d6dd[_0x4aed55(0x390)]:this[_0x4aed55(0x2b6)](_0x3b1603[_0x4aed55(0x241)],_0x3b1603[_0x4aed55(0x6b2)]);break;case _0x34d6dd['UnsubscribeMediaStream']:this['outgoingManager'][_0x4aed55(0x5a4)](_0x3b1603[_0x4aed55(0x241)],_0x3b1603[_0x4aed55(0x6b2)]);break;case _0x34d6dd[_0x4aed55(0x384)]:this['handleSubscriptionNeedMediaStream'](_0x3b1603[_0x4aed55(0x241)],_0x3b1603['content']);break;case _0x34d6dd[_0x4aed55(0x53a)]:this[_0x4aed55(0x55f)][_0x4aed55(0xb40)](_0x3b1603[_0x4aed55(0x241)],_0x3b1603[_0x4aed55(0x6b2)]);break;case _0x34d6dd[_0x4aed55(0x607)]:case _0x34d6dd[_0x4aed55(0x475)]:this[_0x4aed55(0x55f)][_0x4aed55(0x93b)](_0x3b1603[_0x4aed55(0x241)],_0x3b1603[_0x4aed55(0x6b2)]);break;case _0x34d6dd[_0x4aed55(0xb05)]:this[_0x4aed55(0x55f)]['handleSubscriptionMediaStreamUnavailable'](_0x3b1603[_0x4aed55(0x241)],_0x3b1603['content']);}}[_0x5f24fc(0xb20)](_0x6517d1){const _0x3875a1=_0x5f24fc;switch(_0x6517d1[_0x3875a1(0x6b2)][_0x3875a1(0x781)]){case _0x21c730[_0x3875a1(0x67b)]:this['incomingManager'][_0x3875a1(0x36a)](_0x6517d1[_0x3875a1(0x6b2)]),this[_0x3875a1(0x402)]['handleContentUnpublishMediaStream'](_0x6517d1[_0x3875a1(0x6b2)]);break;case _0x21c730[_0x3875a1(0x390)]:this[_0x3875a1(0x55f)][_0x3875a1(0x72c)](_0x6517d1[_0x3875a1(0x6b2)]);break;case _0x21c730[_0x3875a1(0x3e3)]:this[_0x3875a1(0x55f)][_0x3875a1(0x62f)](_0x6517d1[_0x3875a1(0x6b2)]);break;case _0x21c730['UnsubscribeMediaStream']:this[_0x3875a1(0xb35)](_0x6517d1['sourceId'],_0x6517d1['content']);break;case _0x21c730[_0x3875a1(0x676)]:this[_0x3875a1(0x402)][_0x3875a1(0x9bd)](_0x6517d1[_0x3875a1(0x6b2)]);break;case _0x21c730[_0x3875a1(0x416)]:this[_0x3875a1(0x8c4)](_0x6517d1[_0x3875a1(0x6b2)]['label'],_0x20053a[_0x3875a1(0x552)][_0x3875a1(0x534)]);break;case _0x21c730['CloseObjectStoreBucket']:this[_0x3875a1(0x8c4)](_0x6517d1[_0x3875a1(0x6b2)]['label'],_0x20053a[_0x3875a1(0x552)][_0x3875a1(0x496)]);break;case _0x21c730[_0x3875a1(0xa35)]:this[_0x3875a1(0x8c4)](_0x6517d1[_0x3875a1(0x6b2)][_0x3875a1(0xa85)],_0x20053a[_0x3875a1(0x552)][_0x3875a1(0xab6)]);break;case _0x21c730[_0x3875a1(0x8ec)]:this[_0x3875a1(0x8c4)](_0x6517d1['content'][_0x3875a1(0xa85)],_0x20053a[_0x3875a1(0x552)][_0x3875a1(0x71b)]);break;case _0x21c730[_0x3875a1(0x920)]:this[_0x3875a1(0x8c4)](_0x6517d1[_0x3875a1(0x6b2)][_0x3875a1(0xa85)],_0x20053a['ContentType']['VectorDatabase']);break;case _0x21c730[_0x3875a1(0x5fd)]:this[_0x3875a1(0x8c4)](_0x6517d1[_0x3875a1(0x6b2)]['label'],_0x20053a[_0x3875a1(0x552)][_0x3875a1(0x5ce)]);break;case _0x21c730['CloseJobDispatcher']:case _0x21c730['CloseJobWorker']:this[_0x3875a1(0x8c4)](_0x6517d1[_0x3875a1(0x6b2)][_0x3875a1(0xa85)],_0x20053a[_0x3875a1(0x552)]['Job']);break;case _0x21c730[_0x3875a1(0x5dc)]:this[_0x3875a1(0x55f)]['handleContentRemoteMediaStreamTrackFail'](_0x6517d1[_0x3875a1(0x6b2)]);}}[_0x5f24fc(0x8f7)]({content:_0x2d7dc6}){const _0x205b0b=_0x5f24fc;_0x2d7dc6[_0x205b0b(0x781)]===_0x4c7147[_0x205b0b(0xa70)]&&this[_0x205b0b(0x5be)](_0x2d7dc6);}[_0x5f24fc(0x3b5)](_0x484532){const _0x4045ec=_0x5f24fc;_0x484532[_0x4045ec(0x6b2)][_0x4045ec(0x781)]===_0x1c3bcf[_0x4045ec(0xa54)]&&this[_0x4045ec(0x55f)][_0x4045ec(0x22d)](_0x484532[_0x4045ec(0x241)]);}[_0x5f24fc(0xb35)](_0x585358,_0x2d5607){const _0x32d84d=_0x5f24fc;this[_0x32d84d(0x55f)][_0x32d84d(0xb35)](_0x2d5607),this[_0x32d84d(0x402)][_0x32d84d(0xb35)](_0x585358,_0x2d5607)['forEach'](_0x44a245=>this['systemTopic']['publish'](_0x44a245));}[_0x5f24fc(0x2b6)](_0x454da7,_0x12bf58){const _0x256ede=_0x5f24fc,_0x59fac0=this[_0x256ede(0x402)][_0x256ede(0x2b6)](_0x454da7,_0x12bf58);if(_0x59fac0&&(this[_0x256ede(0x541)][_0x256ede(0x803)]({'sourceId':this[_0x256ede(0x6c1)][_0x256ede(0x8ad)][_0x256ede(0x6e8)](),'destinationIds':[_0x454da7],'messageType':_0x31112d['Subscription'],'content':_0x59fac0}),_0x59fac0[_0x256ede(0x781)]===_0x34d6dd['RestartNeedMediaStream']))throw new _0x34bdcf('Restart\x20NeedMediaStream');}[_0x5f24fc(0x511)](_0x3bea42,_0x9ef7ac){const _0x28e5da=_0x5f24fc,_0x294926=this[_0x28e5da(0x402)][_0x28e5da(0x511)](_0x3bea42,_0x9ef7ac);this[_0x28e5da(0x541)][_0x28e5da(0x803)]({'sourceId':this['configs'][_0x28e5da(0x8ad)]['getId'](),'destinationIds':[_0x3bea42],'messageType':_0x31112d[_0x28e5da(0x63c)],'content':_0x294926});}['handleCloseContent'](_0x3f68b6,_0xc4386b){const _0x1bc541=_0x5f24fc;this[_0x1bc541(0xab0)](_0x3f68b6,_0xc4386b),this[_0x1bc541(0x76b)](_0x3f68b6,_0xc4386b);}[_0x5f24fc(0x5be)]({id:_0x1af0eb}){const _0x3d0dda=_0x5f24fc;this['incomingManager'][_0x3d0dda(0x5be)](_0x1af0eb),this['outgoingManager'][_0x3d0dda(0x5be)](_0x1af0eb);}}class _0x1cd95a{[_0x5f24fc(0xa85)];['listener']=_0x449c97();constructor(){const _0x3ab049=_0x5f24fc;this[_0x3ab049(0xa85)]=0x0;}[_0x5f24fc(0x9b0)](){const _0x1da712=_0x5f24fc;return this[_0x1da712(0xa85)];}[_0x5f24fc(0xadb)](){const _0x50f050=_0x5f24fc;return _0x20053a[_0x50f050(0x552)][_0x50f050(0xa11)];}[_0x5f24fc(0x44d)](_0x1c9f55){const _0x146bab=_0x5f24fc;_0x1c9f55[_0x146bab(0xaf7)](this);}[_0x5f24fc(0x783)](_0xff1578){const _0x15008b=_0x5f24fc;_0xff1578[_0x15008b(0x29f)]();}['publish'](_0x3eddee){const _0x2fffda=_0x5f24fc;_0x40d481['log'](_0xb10df['Events'],'SystemTopic\x20publish',_0x3eddee[_0x2fffda(0x241)],_0x3eddee),this[_0x2fffda(0x242)][_0x2fffda(0x803)]({'topicLabel':this[_0x2fffda(0xa85)],'contentType':_0x20053a[_0x2fffda(0x552)][_0x2fffda(0xa11)],'uuid':_0x3eddee[_0x2fffda(0x348)]??(0x0,_0x58fdf1['v4'])(),'recipients':_0x3eddee['recipients']??[],..._0x3eddee});}[_0x5f24fc(0x6f8)](_0x57cc31){const _0x4283be=_0x5f24fc;return this[_0x4283be(0x242)][_0x4283be(0x6f8)](_0x57cc31);}}class _0x55755e{[_0x5f24fc(0x49b)];[_0x5f24fc(0x96c)]=[];[_0x5f24fc(0x3b1)];[_0x5f24fc(0x4d4)]=new Map();[_0x5f24fc(0x5fc)]=_0x449c97();constructor(_0x56752c){const _0x371fac=_0x5f24fc;this[_0x371fac(0x49b)]=_0x56752c,this[_0x371fac(0x3b1)]=(this[_0x371fac(0x49b)]['maxConnections']-0x2*this[_0x371fac(0x49b)][_0x371fac(0x6b0)])/0x2,this[_0x371fac(0x96c)][_0x371fac(0x96d)]({'start':0x1,'end':this[_0x371fac(0x321)](0x1,0x1)-0x1});for(let _0x5dc9a4=0x0;_0x5dc9a4<this['maxLayer'];++_0x5dc9a4)this[_0x371fac(0x96c)][_0x371fac(0x96d)]({'start':this[_0x371fac(0x321)](0x1,_0x5dc9a4+0x1),'end':this[_0x371fac(0x321)](0x1,_0x5dc9a4+0x2)-0x1});}[_0x5f24fc(0x321)](_0x4e031c,_0x8c2190=0x1){const _0x39d718=_0x5f24fc;let _0x5838f9=this[_0x39d718(0x49b)]['maxDistance']-this['options'][_0x39d718(0x6b0)],_0xc47022=0x1;for(let _0x29c843=0x1;_0x29c843<_0x8c2190;++_0x29c843)_0x5838f9*=this[_0x39d718(0x49b)]['maxDistance']-this[_0x39d718(0x49b)][_0x39d718(0x6b0)]-_0x29c843,_0xc47022*=this['options'][_0x39d718(0x81e)]-this[_0x39d718(0x49b)][_0x39d718(0x6b0)]-_0x29c843+0x1;return _0x5838f9*this[_0x39d718(0x49b)][_0x39d718(0x6b0)]+_0x4e031c-_0xc47022;}['getCurrentMaxLayer'](_0x23f014){const _0x34c128=_0x5f24fc;let _0x21d7cf=0x0;for(;this[_0x34c128(0x96c)][_0x21d7cf]['end']<_0x23f014;)_0x21d7cf+=0x1;return _0x21d7cf;}[_0x5f24fc(0x35f)](){const _0x5801ed=_0x5f24fc;return this['options'][_0x5801ed(0x6b0)];}[_0x5f24fc(0x396)](){const _0x4d1b72=_0x5f24fc;return this[_0x4d1b72(0x49b)]['maxConnections'];}[_0x5f24fc(0x77c)](){const _0xb741a6=_0x5f24fc;return this[_0xb741a6(0x49b)]['maxDistance'];}[_0x5f24fc(0x97b)](){return this['remoteNodes'];}[_0x5f24fc(0x942)](_0x5a3e49,_0x585919){const _0x2e3226=_0x5f24fc;this[_0x2e3226(0x4d4)][_0x2e3226(0x338)](_0x5a3e49,_0x585919),this['nodeUpdate'][_0x2e3226(0x803)]();}[_0x5f24fc(0xaec)](_0x15bf09){const _0x1bb775=_0x5f24fc;this[_0x1bb775(0x4d4)][_0x1bb775(0x43a)](_0x15bf09),this[_0x1bb775(0x5fc)]['publish']();}['hasRemoteNode'](_0x3bfcbf){const _0x51be35=_0x5f24fc;return this['remoteNodes'][_0x51be35(0x4cb)](_0x3bfcbf);}[_0x5f24fc(0x7d5)](_0x39b9da){const _0x5ed043=_0x5f24fc;return this[_0x5ed043(0x4d4)][_0x5ed043(0xb07)](_0x39b9da);}['getClosestNodes'](_0x47b84c,_0x357d33){const _0x14e49d=_0x5f24fc,_0x27cab1=this[_0x14e49d(0x7d5)](_0x357d33)?.[_0x14e49d(0x375)]()??0x0;return _0x47b84c['map'](_0x3531e4=>this[_0x14e49d(0x7d5)](_0x3531e4))['filter'](_0x3385f6=>void 0x0!==_0x3385f6)['sort']((_0x26114d,_0x2996eb)=>Math[_0x14e49d(0x7d7)](_0x27cab1-(_0x26114d&&_0x26114d[_0x14e49d(0x375)]()||0x1/0x0))-Math[_0x14e49d(0x7d7)](_0x27cab1-(_0x2996eb&&_0x2996eb['getRank']()||0x1/0x0)))[_0x14e49d(0xa4a)](_0x148565=>_0x148565[_0x14e49d(0x6e8)]());}['onNodeUpdate'](_0x2995d9){const _0x335a1e=_0x5f24fc;return this[_0x335a1e(0x5fc)][_0x335a1e(0x6f8)](_0x2995d9);}}class _0x588423{[_0x5f24fc(0x240)];[_0x5f24fc(0x412)];[_0x5f24fc(0x20a)];[_0x5f24fc(0x6de)];[_0x5f24fc(0x49b)];[_0x5f24fc(0x6c1)];[_0x5f24fc(0x286)];[_0x5f24fc(0x86a)];[_0x5f24fc(0x745)];[_0x5f24fc(0x90e)];[_0x5f24fc(0x3a5)];[_0x5f24fc(0x51e)];[_0x5f24fc(0x9c2)];[_0x5f24fc(0x3ae)];['graphService'];[_0x5f24fc(0x541)]=new _0x1cd95a();['systemTopicUnsubscribe'];[_0x5f24fc(0x8ad)];constructor(_0x35d533,_0x39d25a,_0xdab8a3,_0x40e244,_0x430a87,_0x4ab290,_0x3b719c){const _0x313a31=_0x5f24fc;switch(this[_0x313a31(0x240)]=_0x35d533,this[_0x313a31(0x412)]=_0x39d25a,this[_0x313a31(0x20a)]=_0xdab8a3,this['authService']=_0x40e244,this[_0x313a31(0x49b)]=_0x430a87,this[_0x313a31(0x6c1)]=_0x4ab290,this[_0x313a31(0x286)]=_0x3b719c,_0xdab8a3['type']){case _0x20053a[_0x313a31(0x6c8)][_0x313a31(0x578)]:this[_0x313a31(0x8ad)]=new _0x1d60ad(_0xdab8a3[_0x313a31(0x6e8)](),_0xdab8a3['getDisplayName'](),_0xdab8a3['getEmail']());break;case _0x20053a[_0x313a31(0x6c8)][_0x313a31(0x723)]:default:this[_0x313a31(0x8ad)]=new _0x4256cf(_0xdab8a3['getId']());}const _0x211454=this['getConfigs']();this['graphService']=new _0x55755e(this[_0x313a31(0x49b)]),this[_0x313a31(0x86a)]=new _0x1b7511(_0x211454,this[_0x313a31(0x49b)],this[_0x313a31(0x6c1)]['searchApiKey'],this[_0x313a31(0x6c1)][_0x313a31(0x9d1)]),this[_0x313a31(0x745)]=new _0x2dfe8e(_0x211454,this['authService'],this[_0x313a31(0x878)],this[_0x313a31(0x6c1)][_0x313a31(0x972)],this[_0x313a31(0x49b)]),this[_0x313a31(0x90e)]=new _0x5eadf7(_0x211454,this[_0x313a31(0x49b)][_0x313a31(0x2f9)],this[_0x313a31(0x878)][_0x313a31(0x77c)]()),this['statsManager']=new _0x18178c(_0x211454),this[_0x313a31(0x51e)]=new _0x2fc17e(_0x211454),this[_0x313a31(0x9c2)]=new _0x247d13(_0x211454),this[_0x313a31(0x3ae)]=new _0x413789(_0x211454,this[_0x313a31(0x878)]),this['systemTopicUnsubscribe']=this[_0x313a31(0x68a)]();}['open'](){const _0x12b05b=_0x5f24fc,_0x4f991f=this[_0x12b05b(0x540)]();this['connectionManager']=new _0x2dfe8e(_0x4f991f,this[_0x12b05b(0x6de)],this['graphService'],this['configs'][_0x12b05b(0x972)],this[_0x12b05b(0x49b)]),this['subscriptionManager']=new _0x5eadf7(_0x4f991f,this[_0x12b05b(0x49b)][_0x12b05b(0x2f9)],this[_0x12b05b(0x878)][_0x12b05b(0x77c)]()),this[_0x12b05b(0x3a5)]=new _0x18178c(_0x4f991f),this['detectionManager']=new _0x2fc17e(_0x4f991f),this[_0x12b05b(0x9c2)]=new _0x247d13(_0x4f991f),this[_0x12b05b(0x3ae)]=new _0x413789(_0x4f991f,this['graphService']);const _0x545bd0=this[_0x12b05b(0x745)][_0x12b05b(0x29d)]();this['contentManager'][_0x12b05b(0x467)]()[_0x12b05b(0xac8)](_0x40828e=>{const _0x3eccfa=_0x12b05b;this[_0x3eccfa(0x90e)]['createOutgoingSubscription'](_0x40828e,_0x545bd0),this['subscriptionManager'][_0x3eccfa(0x26d)](_0x545bd0,_0x40828e),_0x40828e[_0x3eccfa(0x6d5)]();}),this['contentManager'][_0x12b05b(0x361)]()[_0x12b05b(0xac8)](_0x5ae612=>{const _0x2e3a80=_0x12b05b;this[_0x2e3a80(0x90e)]['createOutgoingSubscription'](_0x5ae612,_0x545bd0),this[_0x2e3a80(0x90e)][_0x2e3a80(0x26d)](_0x545bd0,_0x5ae612),_0x5ae612[_0x2e3a80(0x6d5)](),_0x5ae612['sync']();}),this[_0x12b05b(0x86a)]['getKeyValueDatabases']()[_0x12b05b(0xac8)](_0x7802b1=>{const _0x4aec1d=_0x12b05b;this[_0x4aec1d(0x90e)][_0x4aec1d(0x76a)](_0x7802b1,_0x545bd0),this['subscriptionManager'][_0x4aec1d(0x26d)](_0x545bd0,_0x7802b1),_0x7802b1[_0x4aec1d(0x6d5)](),this['syncKeyValueDatabase'](_0x7802b1);}),this[_0x12b05b(0x86a)][_0x12b05b(0x9ea)]()[_0x12b05b(0xac8)](_0x1d5a1c=>{const _0x4363d5=_0x12b05b;this['subscriptionManager']['createOutgoingSubscription'](_0x1d5a1c,_0x545bd0),this[_0x4363d5(0x90e)][_0x4363d5(0x26d)](_0x545bd0,_0x1d5a1c),_0x1d5a1c['reset']();}),this[_0x12b05b(0x86a)][_0x12b05b(0x5cc)]()[_0x12b05b(0xac8)](_0x298869=>{const _0x2dcd41=_0x12b05b;this[_0x2dcd41(0x90e)][_0x2dcd41(0x76a)](_0x298869,_0x545bd0),this[_0x2dcd41(0x90e)][_0x2dcd41(0x26d)](_0x545bd0,_0x298869),_0x298869[_0x2dcd41(0x6d5)]();}),this[_0x12b05b(0x86a)]['getVectorDatabases']()[_0x12b05b(0xac8)](_0x50cd26=>{const _0x548db7=_0x12b05b;this[_0x548db7(0x90e)]['createOutgoingSubscription'](_0x50cd26,_0x545bd0),this[_0x548db7(0x90e)]['createIncomingSubscription'](_0x545bd0,_0x50cd26),_0x50cd26[_0x548db7(0x6d5)]();}),this['contentManager']['getGraphDatabases']()['forEach'](_0x2947c7=>{const _0x3fddbb=_0x12b05b;this[_0x3fddbb(0x90e)]['createOutgoingSubscription'](_0x2947c7,_0x545bd0),this[_0x3fddbb(0x90e)][_0x3fddbb(0x26d)](_0x545bd0,_0x2947c7),_0x2947c7[_0x3fddbb(0x6d5)]();}),this[_0x12b05b(0x498)]=this[_0x12b05b(0x68a)]();}[_0x5f24fc(0x545)](_0x342f5d){const _0x1d56b9=_0x5f24fc;try{this[_0x1d56b9(0x541)][_0x1d56b9(0x44d)](_0x342f5d);}catch(_0x1ce86f){this['handleError'](_0x1ce86f,{});}}[_0x5f24fc(0x580)](_0x20c90b){const _0x3ad721=_0x5f24fc;try{this[_0x3ad721(0x541)][_0x3ad721(0x783)](_0x20c90b);}catch(_0x28bdf4){this['handleError'](_0x28bdf4,{});}}[_0x5f24fc(0x7e1)](_0x4b2144,_0x5a79b3){const _0x44b219=_0x5f24fc;return this['connectionManager'][_0x44b219(0x7e1)](_0x4b2144,_0x5a79b3);}[_0x5f24fc(0xa92)](_0x568e2d){const _0x32e9a5=_0x5f24fc;try{return this[_0x32e9a5(0x745)][_0x32e9a5(0xa92)](_0x568e2d);}catch(_0x57b199){throw this['handleError'](_0x57b199,{});}}[_0x5f24fc(0x7e2)](_0x2fd0be){const _0x110934=_0x5f24fc;try{return this[_0x110934(0x745)][_0x110934(0x7e2)](_0x2fd0be);}catch(_0x17b816){throw this[_0x110934(0x654)](_0x17b816,{});}}[_0x5f24fc(0x9fc)](_0x62cc94,_0x439a7c){const _0x23f3ad=_0x5f24fc;try{return this['contentManager'][_0x23f3ad(0x707)](_0x27586a=>_0x27586a[_0x23f3ad(0x92a)]()===_0x62cc94&&_0x27586a[_0x23f3ad(0x9b0)]()===_0x439a7c)[0x0];}catch(_0x145d30){throw this[_0x23f3ad(0x654)](_0x145d30,{});}}[_0x5f24fc(0xa1a)](_0x2f4830){const _0x1c30e7=_0x5f24fc;try{return this[_0x1c30e7(0x86a)]['getLocalMediaStreams'](_0x7ec89b=>_0x7ec89b['getLabel']()===_0x2f4830)[0x0];}catch(_0x49e82c){throw this[_0x1c30e7(0x654)](_0x49e82c,{});}}[_0x5f24fc(0x632)]=(..._0x54e14a)=>{const _0x43dfdb=_0x5f24fc;try{return this[_0x43dfdb(0x286)][_0x43dfdb(0x2ce)](..._0x54e14a);}catch(_0x26799c){throw this[_0x43dfdb(0x654)](_0x26799c,{});}};[_0x5f24fc(0x70e)](_0x2ed2fb){const _0x31a9e4=_0x5f24fc;try{this[_0x31a9e4(0x3a5)][_0x31a9e4(0x24f)](_0x2ed2fb);}catch(_0x11f865){throw this[_0x31a9e4(0x654)](_0x11f865,{});}}[_0x5f24fc(0x35c)](_0x2379a1){const _0x232f5d=_0x5f24fc;try{this['statsManager']['removeRemoteNode'](_0x2379a1);}catch(_0x4417be){throw this[_0x232f5d(0x654)](_0x4417be,{});}}[_0x5f24fc(0xae0)](_0x413ebf){const _0x1f499e=_0x5f24fc;return this[_0x1f499e(0x745)][_0x1f499e(0xae0)](_0x413ebf);}async[_0x5f24fc(0xa75)](){const _0x37e4a4=_0x5f24fc;try{await this['connectionManager']['initialize']();const _0x32b486=await this[_0x37e4a4(0x3ae)][_0x37e4a4(0x9ec)]();for(const _0x366602 of _0x32b486)this[_0x37e4a4(0x745)][_0x37e4a4(0x7e1)](_0x366602);}catch(_0xa046eb){throw this[_0x37e4a4(0x654)](_0xa046eb,{});}}[_0x5f24fc(0x2e5)](_0x42f8b6){const _0x2cdbe2=_0x5f24fc;this[_0x2cdbe2(0x8ad)][_0x2cdbe2(0x781)]===_0x20053a[_0x2cdbe2(0x6c8)][_0x2cdbe2(0x578)]&&(this['localNode'][_0x2cdbe2(0x6aa)](_0x42f8b6['getEmail']()),this[_0x2cdbe2(0x8ad)][_0x2cdbe2(0x7bd)](_0x42f8b6['getDisplayName']()));}[_0x5f24fc(0x7ef)]({force:_0x52e6a1=!0x1},_0x4c198c=!0x1){const _0x23f471=_0x5f24fc;if(_0x40d481[_0x23f471(0x3a1)](_0x23f471(0xa3c),{'clusterId':this['clusterId'],'nodeId':this[_0x23f471(0x8ad)][_0x23f471(0x6e8)](),'nodeType':this[_0x23f471(0x8ad)][_0x23f471(0x781)]}),!_0x52e6a1&&this[_0x23f471(0x745)][_0x23f471(0x351)]())throw new _0x55ecf3(_0x2efe49[_0x23f471(0x82a)],_0x23f471(0xb0b));_0x40d481[_0x23f471(0x4a7)](),this[_0x23f471(0x498)](),this[_0x23f471(0x9c2)]['close'](),this['detectionManager'][_0x23f471(0x7ef)](),this[_0x23f471(0x3a5)]['close'](),this[_0x23f471(0x90e)][_0x23f471(0x7ef)](),this[_0x23f471(0x745)][_0x23f471(0x7ef)](),this[_0x23f471(0x86a)]['close'](_0x4c198c),this['nodeManager']['close']();}[_0x5f24fc(0x29e)](_0x51d844){const _0x19f79d=_0x5f24fc;try{const _0x3e7566=this[_0x19f79d(0x86a)][_0x19f79d(0x7d4)](_0x51d844),_0x499688=this[_0x19f79d(0x745)]['getConnectionGroup']();return this[_0x19f79d(0x90e)]['createOutgoingSubscription'](_0x3e7566,_0x499688),this[_0x19f79d(0x90e)][_0x19f79d(0x26d)](_0x499688,_0x3e7566),_0x3e7566;}catch(_0x19bfc3){throw this['handleError'](_0x19bfc3,{});}}async[_0x5f24fc(0x600)](_0x120868,_0x302046){const _0x5d3536=_0x5f24fc;try{const _0x5cdc1f=this[_0x5d3536(0x86a)]['createObjectStoreBucket'](_0x120868,this[_0x5d3536(0x49b)][_0x5d3536(0x6be)],_0x302046),_0x84996d=this['connectionManager'][_0x5d3536(0x29d)]();return this[_0x5d3536(0x90e)][_0x5d3536(0x76a)](_0x5cdc1f,_0x84996d),this[_0x5d3536(0x90e)][_0x5d3536(0x26d)](_0x84996d,_0x5cdc1f),await _0x5cdc1f['sync'](),_0x5cdc1f;}catch(_0x5a053e){throw this['handleError'](_0x5a053e,{});}}async['openExternalStorageConnection'](_0x57b1fb,_0x443292){const _0x458a96=_0x5f24fc;try{if(!this['options'][_0x458a96(0x480)])throw new _0x55ecf3(_0x2efe49['ExternalStorageConnectorsMissing'],_0x458a96(0x2fc));if(!(this['authNode']instanceof _0x250b31))throw new _0x55ecf3(_0x2efe49[_0x458a96(0x7e8)],_0x458a96(0x2e7));const _0x56e728=this['options'][_0x458a96(0x480)][_0x458a96(0xb07)](_0x443292);if(!_0x56e728)throw new _0x55ecf3(_0x2efe49[_0x458a96(0x2e2)],_0x458a96(0x2fc));const _0x444376=this[_0x458a96(0x86a)]['createExternalStorageConnection'](_0x57b1fb,_0x56e728),_0x39eec8=this['connectionManager'][_0x458a96(0x29d)]();return this[_0x458a96(0x90e)][_0x458a96(0x76a)](_0x444376,_0x39eec8),this[_0x458a96(0x90e)][_0x458a96(0x26d)](_0x39eec8,_0x444376),await _0x444376[_0x458a96(0x791)](),_0x444376;}catch(_0x477c0c){throw this[_0x458a96(0x654)](_0x477c0c,{});}}async['openKeyValueDatabase'](_0x429260,_0x37eb9c,_0x28619c){const _0x56063c=_0x5f24fc;try{_0x28619c=_0x28619c||this[_0x56063c(0x49b)]['keyValueDatabaseConnector'];const _0x235c81=await this[_0x56063c(0x86a)][_0x56063c(0x4ba)](_0x429260,_0x37eb9c,_0x28619c),_0x3ecce4=this[_0x56063c(0x745)][_0x56063c(0x29d)]();return this[_0x56063c(0x90e)]['createOutgoingSubscription'](_0x235c81,_0x3ecce4),this[_0x56063c(0x90e)]['createIncomingSubscription'](_0x3ecce4,_0x235c81),await _0x235c81['open'](),this[_0x56063c(0x6c7)](_0x235c81),_0x235c81;}catch(_0x248c9d){throw this[_0x56063c(0x654)](_0x248c9d,{});}}async[_0x5f24fc(0x38d)](_0x58ecf8){const _0x31f729=_0x5f24fc;try{const _0x5e86ba=await this[_0x31f729(0x86a)][_0x31f729(0x959)](_0x58ecf8,this['graphService']),_0x3e3038=this[_0x31f729(0x745)][_0x31f729(0x29d)]();return this[_0x31f729(0x90e)][_0x31f729(0x76a)](_0x5e86ba,_0x3e3038),this[_0x31f729(0x90e)][_0x31f729(0x26d)](_0x3e3038,_0x5e86ba),_0x5e86ba[_0x31f729(0x791)](),_0x5e86ba;}catch(_0x7f1a48){throw this[_0x31f729(0x654)](_0x7f1a48,{});}}async['openJobWorker'](_0x58e545){const _0x46033b=_0x5f24fc;throw new Error(_0x46033b(0x8b7));}async[_0x5f24fc(0x430)](_0x7c40d2){const _0x55769d=_0x5f24fc;try{const _0x182394=await this[_0x55769d(0x86a)]['createGenerativeAIContext'](_0x7c40d2,this[_0x55769d(0x878)]),_0x3d4beb=this[_0x55769d(0x745)][_0x55769d(0x29d)]();return this[_0x55769d(0x90e)][_0x55769d(0x76a)](_0x182394,_0x3d4beb),this[_0x55769d(0x90e)]['createIncomingSubscription'](_0x3d4beb,_0x182394),_0x182394[_0x55769d(0x791)](),_0x182394;}catch(_0x4ab48b){throw console['error'](_0x4ab48b),this['handleError'](_0x4ab48b,{});}}async['openGenerativeAIWorker'](_0x3cd1fc){const _0x2e9047=_0x5f24fc;try{if(!this[_0x2e9047(0x49b)][_0x2e9047(0x694)]||!this[_0x2e9047(0x49b)][_0x2e9047(0x832)]||!this['options'][_0x2e9047(0x20b)])throw new _0x55ecf3(_0x2efe49[_0x2e9047(0x61c)],'Missing\x20AI\x20worker\x20connector');if(!(this['authNode']instanceof _0x250b31))throw new _0x55ecf3(_0x2efe49[_0x2e9047(0x7e8)],_0x2e9047(0x2e7));const _0x2191f8=[];for(const _0x6141ca of this[_0x2e9047(0x49b)]['generativeAIWorkerConnectors'])_0x2191f8['push'](new _0x6141ca());const _0x1cb9d0=new this[(_0x2e9047(0x49b))][(_0x2e9047(0x832))](),_0x494341=new this['options'][(_0x2e9047(0x20b))]();let _0xc1920b,_0x34b9d1,_0x2db3f6;this['options'][_0x2e9047(0x563)]&&(_0xc1920b=new this[(_0x2e9047(0x49b))][(_0x2e9047(0x563))]()),this['options']['aiSearchConnector']&&(_0x34b9d1=new this[(_0x2e9047(0x49b))][(_0x2e9047(0x244))]()),this['options'][_0x2e9047(0x2ab)]&&(_0x2db3f6=new this[(_0x2e9047(0x49b))][(_0x2e9047(0x2ab))]());const _0x3cf6d4=await this['contentManager'][_0x2e9047(0xab1)](_0x3cd1fc,this['authNode'],_0x2191f8,_0x1cb9d0,_0x494341,_0xc1920b,_0x34b9d1,_0x2db3f6),_0x546c2d=this[_0x2e9047(0x745)][_0x2e9047(0x29d)]();this[_0x2e9047(0x90e)][_0x2e9047(0x76a)](_0x3cf6d4,_0x546c2d),this[_0x2e9047(0x90e)][_0x2e9047(0x26d)](_0x546c2d,_0x3cf6d4);const _0x427518=this[_0x2e9047(0x3ae)][_0x2e9047(0x883)]();return await _0x3cf6d4['open'](0x0===_0x427518[_0x2e9047(0x9a6)]||void 0x0),_0x3cf6d4;}catch(_0x5994f3){throw this[_0x2e9047(0x654)](_0x5994f3,{});}}[_0x5f24fc(0x22e)](_0x4c4e97){const _0x24d5cb=_0x5f24fc;try{if(!this['options']['graphDatabaseConnector'])throw new _0x55ecf3(_0x2efe49[_0x24d5cb(0x2b8)],'Missing\x20graph\x20database\x20connector');if(!(this[_0x24d5cb(0x20a)]instanceof _0x250b31))throw new _0x55ecf3(_0x2efe49[_0x24d5cb(0x7e8)],_0x24d5cb(0x2e7));const _0x500c6e=this[_0x24d5cb(0x86a)]['createGraphDatabase'](_0x4c4e97,this[_0x24d5cb(0x49b)][_0x24d5cb(0x97f)]),_0x407a54=this[_0x24d5cb(0x745)]['getConnectionGroup']();return this[_0x24d5cb(0x90e)][_0x24d5cb(0x76a)](_0x500c6e,_0x407a54),this[_0x24d5cb(0x90e)][_0x24d5cb(0x26d)](_0x407a54,_0x500c6e),_0x500c6e;}catch(_0x5c9673){throw this[_0x24d5cb(0x654)](_0x5c9673,{});}}['openVectorDatabase'](_0x117eca){const _0xfb3627=_0x5f24fc;try{if(!this[_0xfb3627(0x49b)][_0xfb3627(0x36d)])throw new _0x55ecf3(_0x2efe49[_0xfb3627(0x8d6)],_0xfb3627(0x698));if(!(this[_0xfb3627(0x20a)]instanceof _0x250b31))throw new _0x55ecf3(_0x2efe49[_0xfb3627(0x7e8)],_0xfb3627(0x2e7));const _0x3ff9c7=this[_0xfb3627(0x86a)]['createVectorDatabase'](_0x117eca,this[_0xfb3627(0x49b)][_0xfb3627(0x36d)]),_0x4c150e=this['connectionManager']['getConnectionGroup']();return this[_0xfb3627(0x90e)][_0xfb3627(0x76a)](_0x3ff9c7,_0x4c150e),this[_0xfb3627(0x90e)][_0xfb3627(0x26d)](_0x4c150e,_0x3ff9c7),_0x3ff9c7;}catch(_0x392037){throw this[_0xfb3627(0x654)](_0x392037,{});}}[_0x5f24fc(0x467)](_0x3585ad){const _0x46631c=_0x5f24fc;try{return this[_0x46631c(0x86a)][_0x46631c(0x467)](_0x3585ad);}catch(_0x293946){throw this[_0x46631c(0x654)](_0x293946,{});}}['getObjectStoreBuckets'](_0x566dad){const _0x23ad12=_0x5f24fc;try{return this[_0x23ad12(0x86a)]['getObjectStoreBuckets'](_0x566dad);}catch(_0x1def5b){throw this[_0x23ad12(0x654)](_0x1def5b,{});}}[_0x5f24fc(0x684)](_0x9975d2){const _0x48a59d=_0x5f24fc;try{return this[_0x48a59d(0x86a)][_0x48a59d(0x684)](_0x9975d2);}catch(_0x55bccd){throw this[_0x48a59d(0x654)](_0x55bccd,{});}}[_0x5f24fc(0x987)](_0xc6496c){const _0x5541dd=_0x5f24fc;try{return this[_0x5541dd(0x86a)]['getKeyValueDatabases'](_0xc6496c);}catch(_0x13942d){throw this[_0x5541dd(0x654)](_0x13942d,{});}}[_0x5f24fc(0x664)](_0x4a8c50){const _0x5dce24=_0x5f24fc;try{return this[_0x5dce24(0x86a)]['getGenerativeAIContexts'](_0x4a8c50);}catch(_0x344af0){throw this[_0x5dce24(0x654)](_0x344af0,{});}}[_0x5f24fc(0x5e9)](_0x4a397a){const _0x37dac5=_0x5f24fc;try{return this['contentManager'][_0x37dac5(0x5e9)](_0x4a397a);}catch(_0x37de61){throw this['handleError'](_0x37de61,{});}}[_0x5f24fc(0x46a)](_0x434ebd){const _0xb865bb=_0x5f24fc;try{return this[_0xb865bb(0x86a)][_0xb865bb(0x46a)](_0x434ebd);}catch(_0x148e35){throw this[_0xb865bb(0x654)](_0x148e35,{});}}['createLocalMediaStream'](_0xec19ba,_0x477fd7){const _0x2c5005=_0x5f24fc;if(!this['configs']['features'][_0x2c5005(0x465)](_0x23fbba[_0x2c5005(0x69e)]))throw new _0x55ecf3(_0x2efe49[_0x2c5005(0xb1b)],_0x2c5005(0x9ad));try{return this[_0x2c5005(0x86a)]['createLocalMediaStream'](_0xec19ba,_0x477fd7);}catch(_0x3b157b){throw this['handleError'](_0x3b157b,{});}}[_0x5f24fc(0x90a)](_0x4b178a,_0x3c52ce){const _0x211962=_0x5f24fc;if(!this['configs'][_0x211962(0x772)]['includes'](_0x23fbba['MediaStream']))throw new _0x55ecf3(_0x2efe49[_0x211962(0xb1b)],'MediaStream\x20feature\x20not\x20enabled');try{return this[_0x211962(0x86a)][_0x211962(0x90a)](_0x4b178a,_0x3c52ce);}catch(_0x4f8b2c){throw this[_0x211962(0x654)](_0x4f8b2c,{});}}[_0x5f24fc(0x876)](_0x476365){const _0x3aff25=_0x5f24fc;if(!this[_0x3aff25(0x6c1)]['features'][_0x3aff25(0x465)](_0x23fbba[_0x3aff25(0x69e)]))throw new _0x55ecf3(_0x2efe49['FeatureNotEnabled'],_0x3aff25(0x9ad));try{return this[_0x3aff25(0x86a)][_0x3aff25(0x876)](_0x476365);}catch(_0x85006f){throw this[_0x3aff25(0x654)](_0x85006f,{});}}[_0x5f24fc(0x707)](_0x3c3908){const _0x3687b3=_0x5f24fc;if(!this[_0x3687b3(0x6c1)][_0x3687b3(0x772)]['includes'](_0x23fbba['MediaStream']))throw new _0x55ecf3(_0x2efe49[_0x3687b3(0xb1b)],_0x3687b3(0x9ad));try{return this[_0x3687b3(0x86a)][_0x3687b3(0x707)](_0x3c3908);}catch(_0x480fc7){throw this[_0x3687b3(0x654)](_0x480fc7,{});}}[_0x5f24fc(0x869)](_0x17fdd6){const _0x2464b2=_0x5f24fc;try{return this[_0x2464b2(0x86a)][_0x2464b2(0x869)](_0x17fdd6);}catch(_0x36054f){throw this[_0x2464b2(0x654)](_0x36054f,{});}}[_0x5f24fc(0x4c9)](_0x5c5142,_0x4a135a){const _0x13cacf=_0x5f24fc;return this[_0x13cacf(0x3ae)][_0x13cacf(0x4c9)](_0x5c5142,_0x4a135a);}[_0x5f24fc(0x373)](){const _0x4c8db4=_0x5f24fc;return this[_0x4c8db4(0x3ae)][_0x4c8db4(0x373)]();}['getRemoteNodes'](_0x2efa37){const _0x1fdd3d=_0x5f24fc;try{return this['nodeManager'][_0x1fdd3d(0x97b)](_0x2efa37);}catch(_0x180c19){throw this['handleError'](_0x180c19,{});}}[_0x5f24fc(0x4a0)](){const _0x3e8ba5=_0x5f24fc;return this[_0x3e8ba5(0x745)][_0x3e8ba5(0x4a0)]();}['isNodeReady'](_0x4bc9a7){const _0x3fcbe6=_0x5f24fc;return this[_0x3fcbe6(0x3ae)][_0x3fcbe6(0x3e6)](_0x4bc9a7);}async[_0x5f24fc(0x38e)](_0x4bdfcd){const _0x20ac29=_0x5f24fc;try{if(_0x40d481['log'](_0xb10df['Events'],_0x20ac29(0x5c0),this['nodeManager'][_0x20ac29(0x8bb)](),_0x4bdfcd),_0x5cedd3(_0x4bdfcd,this[_0x20ac29(0x3ae)][_0x20ac29(0x8bb)]()))return void this['connectionManager'][_0x20ac29(0x7a6)](_0x4bdfcd);switch(_0x4bdfcd[_0x20ac29(0x87f)]){case _0x31112d[_0x20ac29(0x209)]:this['statsManager'][_0x20ac29(0xb20)](_0x4bdfcd),this[_0x20ac29(0x90e)]['handleContentSystemEvents'](_0x4bdfcd),this[_0x20ac29(0x86a)]['handleContentSystemEvents'](_0x4bdfcd);break;case _0x31112d[_0x20ac29(0x91e)]:this[_0x20ac29(0x90e)][_0x20ac29(0x8f7)](_0x4bdfcd),this[_0x20ac29(0x745)]['handleNodeSystemEvents'](_0x4bdfcd),this[_0x20ac29(0x86a)][_0x20ac29(0x8f7)](_0x4bdfcd),this['nodeManager']['handleNodeSystemEvents'](_0x4bdfcd);break;case _0x31112d['Detection']:this[_0x20ac29(0x9c2)][_0x20ac29(0x59e)](_0x4bdfcd);break;case _0x31112d[_0x20ac29(0x42c)]:this[_0x20ac29(0x9c2)]['handleRemediationSystemEvents'](_0x4bdfcd);break;case _0x31112d[_0x20ac29(0x7d3)]:this[_0x20ac29(0x51e)][_0x20ac29(0x4a2)](_0x4bdfcd);break;case _0x31112d[_0x20ac29(0x63c)]:_0x4bdfcd[_0x20ac29(0x6b2)][_0x20ac29(0x781)]!==_0x34d6dd[_0x20ac29(0x9fe)]?(this[_0x20ac29(0x90e)]['handleSubscriptionSystemEvents'](_0x4bdfcd),this[_0x20ac29(0x86a)][_0x20ac29(0xafd)](_0x4bdfcd)):(this['contentManager'][_0x20ac29(0xafd)](_0x4bdfcd),this[_0x20ac29(0x90e)]['handleSubscriptionSystemEvents'](_0x4bdfcd));break;case _0x31112d[_0x20ac29(0x830)]:await this[_0x20ac29(0x745)][_0x20ac29(0x3b5)](_0x4bdfcd),this[_0x20ac29(0x3a5)][_0x20ac29(0x3b5)](_0x4bdfcd),this[_0x20ac29(0x3ae)][_0x20ac29(0x3b5)](_0x4bdfcd),this[_0x20ac29(0x90e)][_0x20ac29(0x3b5)](_0x4bdfcd);}}catch(_0x564ebb){throw _0x40d481[_0x20ac29(0x92c)](_0x20ac29(0x38e),_0x564ebb),this[_0x20ac29(0x654)](_0x564ebb,{});}}[_0x5f24fc(0x654)](_0x25a0a6,_0x48b37b){const _0x3bbc28=_0x5f24fc;if(!(_0x25a0a6 instanceof _0x34bdcf)){if(_0x25a0a6 instanceof _0x55ecf3)throw _0x25a0a6;if(!(_0x25a0a6 instanceof Error))throw new _0x55ecf3(_0x2efe49['InternalSDKError'],_0x3bbc28(0xae1)+_0x25a0a6);if(!(_0x25a0a6 instanceof _0x4668fc))throw new _0x55ecf3(_0x2efe49[_0x3bbc28(0xae5)],'Internal\x20error:\x20'+_0x25a0a6[_0x3bbc28(0x2ba)]);switch(_0x25a0a6[_0x3bbc28(0x3ab)]){case _0x4668fc[_0x3bbc28(0x85e)]['MissingSystemTopic']:case _0x4668fc[_0x3bbc28(0x85e)][_0x3bbc28(0xa02)]:case _0x4668fc[_0x3bbc28(0x85e)][_0x3bbc28(0xa57)]:case _0x4668fc['codes'][_0x3bbc28(0xa67)]:case _0x4668fc[_0x3bbc28(0x85e)][_0x3bbc28(0x8d5)]:case _0x4668fc['codes'][_0x3bbc28(0x409)]:case _0x4668fc[_0x3bbc28(0x85e)][_0x3bbc28(0x3b6)]:case _0x4668fc[_0x3bbc28(0x85e)][_0x3bbc28(0x2ed)]:case _0x4668fc[_0x3bbc28(0x85e)][_0x3bbc28(0xa9d)]:case _0x4668fc[_0x3bbc28(0x85e)][_0x3bbc28(0x31e)]:case _0x4668fc[_0x3bbc28(0x85e)][_0x3bbc28(0x4d0)]:case _0x4668fc[_0x3bbc28(0x85e)][_0x3bbc28(0x3a2)]:}throw _0x40d481['error'](_0x3bbc28(0x74f)+_0x25a0a6['message'],{'clusterId':this[_0x3bbc28(0x412)],'nodeId':this[_0x3bbc28(0x8ad)][_0x3bbc28(0x6e8)](),'nodeType':this[_0x3bbc28(0x8ad)]['type']},_0x25a0a6),new _0x55ecf3(_0x2efe49['InternalSDKError'],_0x3bbc28(0x6f0)+_0x25a0a6['message']);}}[_0x5f24fc(0x540)](){const _0x5b3994=_0x5f24fc;return{'mediator':this,'vendorId':this[_0x5b3994(0x240)],'clusterId':this['clusterId'],'localNode':this['localNode']};}[_0x5f24fc(0x68a)](){const _0xcb5d2=_0x5f24fc;return this[_0xcb5d2(0x541)][_0xcb5d2(0x6f8)](_0x2574d2=>{const _0x5847f2=_0xcb5d2,_0x334c5c=_0x56b0fa(_0x2574d2,this['localNode'][_0x5847f2(0x6e8)]()),_0x1b0631=_0x2574d2[_0x5847f2(0x87f)]===_0x31112d[_0x5847f2(0x7d3)]||_0x2574d2[_0x5847f2(0x87f)]===_0x31112d[_0x5847f2(0x830)]&&_0x2574d2[_0x5847f2(0x6b2)][_0x5847f2(0x781)]===_0x1c3bcf[_0x5847f2(0x7d3)]?_0xb10df[_0x5847f2(0x76c)]:_0xb10df['System'];_0x40d481[_0x5847f2(0x3fa)](_0x1b0631,_0x2574d2[_0x5847f2(0x348)]+_0x5847f2(0x686)+_0x334c5c,_0x2574d2),this['handleSystemEvents'](_0x2574d2)[_0x5847f2(0x2d7)](_0xf3cdc0=>{console['error'](_0xf3cdc0);});});}async[_0x5f24fc(0x6c7)](_0x4fccb8){const _0x496a3a=_0x5f24fc,{timingLogger:_0x4bd362,logger:_0x306e23,logBeforeSync:_0x2eb71b,logAfterSync:_0x5da3e6}=function(_0x5647d4,_0x57275e){const _0x20f5cc=a0_0x214c;if(!_0x40d481['isChannelEnabled'](_0x57275e))return _0x40d481['debug'](_0x20f5cc(0x9d9)+_0x57275e),{..._0x238822(_0x5647d4,_0x57275e),'syncStartTime':0x0,'logBeforeSync':()=>0x0,'logAfterSync':()=>{}};const {timingLogger:_0x4e8f09,logger:_0x7cd4a4}=_0x238822(_0x5647d4,_0x57275e);let _0x1a3442=0x0;return _0x1a3442=Date[_0x20f5cc(0x2c1)](),{'syncStartTime':_0x1a3442,'timingLogger':_0x4e8f09,'logger':_0x7cd4a4,'logBeforeSync':()=>(_0x38ba5d(_0x57275e,_0x20f5cc(0xb28)),_0x4e8f09[_0x20f5cc(0x2c1)]()),'logAfterSync':(_0x3afd15,_0x51f2ca)=>{const _0x3948ab=_0x20f5cc,_0x5ceb63=Date['now']();_0x38ba5d(_0x57275e,'After\x20Synchronization\x20-\x20Is\x20Database\x20sync?\x20'+_0x51f2ca);const _0x4728d9=(_0x5ceb63-_0x1a3442)/0x3e8,_0x50f4b8=(_0x5ceb63-_0x3afd15)/0x3e8;_0x40d481['log'](_0x57275e,_0x3948ab(0x56a),_0x5647d4,_0x3948ab(0x6f9)+_0x4728d9[_0x3948ab(0xae4)](0x2)+_0x3948ab(0x56d),_0x3948ab(0x4eb)+_0x50f4b8[_0x3948ab(0xae4)](0x3)+'\x20seconds',_0x3948ab(0x45b)+((_0x5ceb63-_0x1a3442)/0x3e8-_0x50f4b8)[_0x3948ab(0xae4)](0x2)+_0x3948ab(0x56d));}};}(_0x4fccb8['getLabel'](),_0xb10df[_0x496a3a(0x71b)]);_0x306e23['log'](_0x496a3a(0x5d7));const _0x31dce0=this['nodeManager']['getAncestorIds']()[_0x496a3a(0x9a6)]>0x0;if(_0x31dce0){_0x306e23[_0x496a3a(0x60e)](_0x496a3a(0x7f2),()=>this[_0x496a3a(0x3ae)][_0x496a3a(0x883)]()),_0x4bd362[_0x496a3a(0x8c2)](),await Promise[_0x496a3a(0x366)](this[_0x496a3a(0x3ae)]['getAncestorIds']()[_0x496a3a(0xa4a)](async _0x9a5ea2=>await this[_0x496a3a(0x3ae)][_0x496a3a(0x3e6)](_0x9a5ea2)))[_0x496a3a(0x2d7)](_0x1f8d87=>_0x40d481['warning']('SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process\x20with\x20not\x20all\x20ancestors\x20connected.',{'nodeId':this['localNode']['getId'](),'nodeType':this[_0x496a3a(0x8ad)][_0x496a3a(0x781)]}));const _0x3c44dc=_0x306e23[_0x496a3a(0x52b)](()=>this[_0x496a3a(0x3ae)][_0x496a3a(0x883)](),[]);_0x4bd362[_0x496a3a(0xadf)](_0x496a3a(0x68b)+_0x3c44dc+_0x496a3a(0x759));}_0x5da3e6(_0x2eb71b(),await _0x4fccb8['sync'](_0x31dce0,async()=>{const _0x5427fc=_0x496a3a;_0x4bd362[_0x5427fc(0x8c2)](),await this[_0x5427fc(0x3ae)][_0x5427fc(0x9dd)](),_0x4bd362[_0x5427fc(0xadf)](_0x5427fc(0x905)),_0x4fccb8[_0x5427fc(0x7ff)](!0x0,()=>{const _0x546435=_0x5427fc;_0x306e23[_0x546435(0x60e)](_0x546435(0x8c0)),_0x4fccb8[_0x546435(0x7ff)](!0x1);},!0x0);}));}}class _0x4c8134{[_0x5f24fc(0x240)];['clusterId'];['authNode'];[_0x5f24fc(0x71d)];[_0x5f24fc(0x8e5)];constructor(_0x4c2f36,_0x14a905,_0x1bfd5d,_0x3aa5ba,_0x282e8e,_0x37423c,_0x2fd9f6=new _0x398545()){const _0x11d9d4=_0x5f24fc;this[_0x11d9d4(0x240)]=_0x4c2f36,this['clusterId']=_0x14a905,this[_0x11d9d4(0x20a)]=_0x1bfd5d,this['eventEmitter']=_0x2fd9f6,this[_0x11d9d4(0x8e5)]=new _0x588423(this[_0x11d9d4(0x240)],this[_0x11d9d4(0x412)],_0x1bfd5d,_0x3aa5ba,_0x282e8e,_0x37423c,this);}async[_0x5f24fc(0x250)](){const _0x4b22bc=_0x5f24fc;await this['orchestrator'][_0x4b22bc(0xa75)](),this['authNode']['type']===_0x20053a[_0x4b22bc(0x6c8)][_0x4b22bc(0x578)]&&this[_0x4b22bc(0x20a)][_0x4b22bc(0x897)](this[_0x4b22bc(0x412)],_0x13a7b8=>{const _0x2b694d=_0x4b22bc;this[_0x2b694d(0x8e5)][_0x2b694d(0x2e5)](_0x13a7b8);});}[_0x5f24fc(0x95b)](_0x41994d={}){const _0x9cfbb5=_0x5f24fc;this[_0x9cfbb5(0x8e5)][_0x9cfbb5(0x7ef)](_0x41994d),this[_0x9cfbb5(0x20a)][_0x9cfbb5(0x781)]===_0x20053a[_0x9cfbb5(0x6c8)]['User']&&this['authNode']['unregisterCluster'](this[_0x9cfbb5(0x412)]),this[_0x9cfbb5(0x2ce)](_0x9cfbb5(0x4e9),void 0x0);}[_0x5f24fc(0x29e)](_0x3df798){const _0x410598=_0x5f24fc,_0x54539b=this[_0x410598(0x8e5)][_0x410598(0x29e)](_0x3df798);return{'getName':_0x54539b[_0x410598(0x520)]['bind'](_0x54539b),'getOwnerId':_0x54539b[_0x410598(0x92a)][_0x410598(0x1ff)](_0x54539b),'getContentType':_0x54539b[_0x410598(0xadb)][_0x410598(0x1ff)](_0x54539b),'publish':_0x54539b[_0x410598(0x803)][_0x410598(0x1ff)](_0x54539b),'subscribe':_0x54539b['subscribe'][_0x410598(0x1ff)](_0x54539b),'unsubscribe':_0x54539b[_0x410598(0xac2)]['bind'](_0x54539b),'close':_0x54539b[_0x410598(0x7ef)][_0x410598(0x1ff)](_0x54539b)};}async[_0x5f24fc(0x600)](_0x3f7318,_0x4600ed){const _0xf9d55a=_0x5f24fc,_0x4e3994=await this['orchestrator'][_0xf9d55a(0x600)](_0x3f7318,_0x4600ed);return{'getName':_0x4e3994[_0xf9d55a(0x520)][_0xf9d55a(0x1ff)](_0x4e3994),'getOwnerId':_0x4e3994[_0xf9d55a(0x92a)][_0xf9d55a(0x1ff)](_0x4e3994),'getContentType':_0x4e3994['getContentType'][_0xf9d55a(0x1ff)](_0x4e3994),'publish':_0x4e3994[_0xf9d55a(0x803)][_0xf9d55a(0x1ff)](_0x4e3994),'unpublish':_0x4e3994[_0xf9d55a(0x967)][_0xf9d55a(0x1ff)](_0x4e3994),'get':_0x4e3994[_0xf9d55a(0xb07)][_0xf9d55a(0x1ff)](_0x4e3994),'list':_0x4e3994[_0xf9d55a(0x46f)][_0xf9d55a(0x1ff)](_0x4e3994),'getSize':_0x4e3994[_0xf9d55a(0x41f)][_0xf9d55a(0x1ff)](_0x4e3994),'subscribe':_0x4e3994[_0xf9d55a(0x6f8)][_0xf9d55a(0x1ff)](_0x4e3994),'unsubscribe':_0x4e3994[_0xf9d55a(0xac2)][_0xf9d55a(0x1ff)](_0x4e3994),'close':_0x4e3994['close'][_0xf9d55a(0x1ff)](_0x4e3994)};}async[_0x5f24fc(0x9a8)](_0x10ec9e,_0xee4841){const _0x1b74ac=_0x5f24fc,_0x5a2bb3=await this[_0x1b74ac(0x8e5)]['openExternalStorageConnection'](_0x10ec9e,_0xee4841);return{'getName':_0x5a2bb3['getName'][_0x1b74ac(0x1ff)](_0x5a2bb3),'getOwnerId':_0x5a2bb3[_0x1b74ac(0x92a)][_0x1b74ac(0x1ff)](_0x5a2bb3),'getContentType':_0x5a2bb3[_0x1b74ac(0xadb)][_0x1b74ac(0x1ff)](_0x5a2bb3),'close':_0x5a2bb3[_0x1b74ac(0x7ef)][_0x1b74ac(0x1ff)](_0x5a2bb3),'get':_0x5a2bb3['get'][_0x1b74ac(0x1ff)](_0x5a2bb3),'list':_0x5a2bb3[_0x1b74ac(0x46f)]['bind'](_0x5a2bb3),'subscribe':_0x5a2bb3[_0x1b74ac(0x6f8)][_0x1b74ac(0x1ff)](_0x5a2bb3),'unsubscribe':_0x5a2bb3[_0x1b74ac(0xac2)]['bind'](_0x5a2bb3)};}async[_0x5f24fc(0x8f0)](_0x2fee03,_0x1c29ab,_0x284f4a){const _0xc683e8=_0x5f24fc,_0x17232f=await this[_0xc683e8(0x8e5)][_0xc683e8(0x8f0)](_0x2fee03,_0x1c29ab,_0x284f4a);return{'getName':_0x17232f[_0xc683e8(0x520)][_0xc683e8(0x1ff)](_0x17232f),'getOwnerId':_0x17232f['getOwnerId'][_0xc683e8(0x1ff)](_0x17232f),'getContentType':_0x17232f[_0xc683e8(0xadb)][_0xc683e8(0x1ff)](_0x17232f),'getTable':_0x17232f['getTable'][_0xc683e8(0x1ff)](_0x17232f),'subscribe':_0x17232f[_0xc683e8(0x6f8)][_0xc683e8(0x1ff)](_0x17232f),'unsubscribe':_0x17232f[_0xc683e8(0xac2)][_0xc683e8(0x1ff)](_0x17232f),'close':_0x17232f[_0xc683e8(0x7ef)]['bind'](_0x17232f)};}async[_0x5f24fc(0x38d)](_0x4b1d4b){const _0x5585f8=_0x5f24fc,_0x59b610=await this[_0x5585f8(0x8e5)]['openJobDispatcher'](_0x4b1d4b);return{'getName':_0x59b610['getName'][_0x5585f8(0x1ff)](_0x59b610),'getOwnerId':_0x59b610[_0x5585f8(0x92a)]['bind'](_0x59b610),'getContentType':_0x59b610[_0x5585f8(0xadb)][_0x5585f8(0x1ff)](_0x59b610),'createJob':_0x59b610[_0x5585f8(0x52f)][_0x5585f8(0x1ff)](_0x59b610),'getJob':_0x59b610[_0x5585f8(0xac9)]['bind'](_0x59b610),'getJobs':_0x59b610[_0x5585f8(0x560)][_0x5585f8(0x1ff)](_0x59b610),'close':_0x59b610[_0x5585f8(0x7ef)]['bind'](_0x59b610)};}async[_0x5f24fc(0x37d)](_0x4dce9a){const _0x270de9=_0x5f24fc,_0x784632=await this['orchestrator']['openJobWorker'](_0x4dce9a);return{'close':_0x784632[_0x270de9(0x7ef)][_0x270de9(0x1ff)](_0x784632)};}async[_0x5f24fc(0x430)](_0x5044a6){const _0x50292d=_0x5f24fc,_0x4901d5=await this['orchestrator'][_0x50292d(0x430)](_0x5044a6);return{'createAIJob':_0x4901d5[_0x50292d(0x27a)][_0x50292d(0x1ff)](_0x4901d5),'ratePrompt':_0x4901d5['ratePrompt'][_0x50292d(0x1ff)](_0x4901d5),'downloadDocument':_0x4901d5[_0x50292d(0x414)][_0x50292d(0x1ff)](_0x4901d5),'search':_0x4901d5['search'][_0x50292d(0x1ff)](_0x4901d5),'getDataBucketIds':_0x4901d5[_0x50292d(0xb0f)][_0x50292d(0x1ff)](_0x4901d5),'close':_0x4901d5[_0x50292d(0x7ef)][_0x50292d(0x1ff)](_0x4901d5)};}async[_0x5f24fc(0x86f)](_0x4de710){const _0xb303f=_0x5f24fc,_0x212354=await this[_0xb303f(0x8e5)]['openGenerativeAIWorker'](_0x4de710);return{'close':_0x212354[_0xb303f(0x7ef)]['bind'](_0x212354)};}[_0x5f24fc(0x22e)](_0x3ac21d){const _0x531f7b=_0x5f24fc,_0xa5e1b5=this[_0x531f7b(0x8e5)][_0x531f7b(0x22e)](_0x3ac21d);return{'getName':_0xa5e1b5['getName']['bind'](_0xa5e1b5),'getOwnerId':_0xa5e1b5['getOwnerId']['bind'](_0xa5e1b5),'getContentType':_0xa5e1b5['getContentType'][_0x531f7b(0x1ff)](_0xa5e1b5),'addNode':_0xa5e1b5[_0x531f7b(0x255)][_0x531f7b(0x1ff)](_0xa5e1b5),'addEdge':_0xa5e1b5['addEdge']['bind'](_0xa5e1b5),'getContent':_0xa5e1b5[_0x531f7b(0x6d9)][_0x531f7b(0x1ff)](_0xa5e1b5),'remove':_0xa5e1b5[_0x531f7b(0x20d)][_0x531f7b(0x1ff)](_0xa5e1b5),'saveToDisk':_0xa5e1b5[_0x531f7b(0x899)][_0x531f7b(0x1ff)](_0xa5e1b5),'loadFromDisk':_0xa5e1b5[_0x531f7b(0x380)]['bind'](_0xa5e1b5),'close':_0xa5e1b5['close'][_0x531f7b(0x1ff)](_0xa5e1b5)};}[_0x5f24fc(0x65b)](_0x4169b3){const _0x599dd5=_0x5f24fc,_0x39d867=this[_0x599dd5(0x8e5)][_0x599dd5(0x65b)](_0x4169b3);return{'getName':_0x39d867[_0x599dd5(0x520)][_0x599dd5(0x1ff)](_0x39d867),'getOwnerId':_0x39d867[_0x599dd5(0x92a)][_0x599dd5(0x1ff)](_0x39d867),'getContentType':_0x39d867[_0x599dd5(0xadb)]['bind'](_0x39d867),'search':_0x39d867[_0x599dd5(0x71f)][_0x599dd5(0x1ff)](_0x39d867),'insert':_0x39d867['insert'][_0x599dd5(0x1ff)](_0x39d867),'remove':_0x39d867[_0x599dd5(0x20d)]['bind'](_0x39d867),'saveToDisk':_0x39d867['saveToDisk'][_0x599dd5(0x1ff)](_0x39d867),'loadFromDisk':_0x39d867[_0x599dd5(0x380)][_0x599dd5(0x1ff)](_0x39d867),'close':_0x39d867[_0x599dd5(0x7ef)]['bind'](_0x39d867)};}['getPubSubTopics'](_0x5c3d6e){const _0x552f68=_0x5f24fc;return this['orchestrator']['getPubSubTopics'](_0x5c3d6e)[_0x552f68(0xa4a)](_0x110645=>({'getName':_0x110645[_0x552f68(0x520)][_0x552f68(0x1ff)](_0x110645),'getOwnerId':_0x110645[_0x552f68(0x92a)][_0x552f68(0x1ff)](_0x110645),'getContentType':_0x110645[_0x552f68(0xadb)][_0x552f68(0x1ff)](_0x110645),'publish':_0x110645['publish'][_0x552f68(0x1ff)](_0x110645),'subscribe':_0x110645[_0x552f68(0x6f8)][_0x552f68(0x1ff)](_0x110645),'unsubscribe':_0x110645[_0x552f68(0xac2)][_0x552f68(0x1ff)](_0x110645),'close':_0x110645[_0x552f68(0x7ef)][_0x552f68(0x1ff)](_0x110645)}));}['getObjectStoreBuckets'](_0x482b03){const _0x1bf558=_0x5f24fc;return this[_0x1bf558(0x8e5)][_0x1bf558(0x361)](_0x482b03)[_0x1bf558(0xa4a)](_0x53d9e5=>({'getName':_0x53d9e5['getName'][_0x1bf558(0x1ff)](_0x53d9e5),'getOwnerId':_0x53d9e5[_0x1bf558(0x92a)][_0x1bf558(0x1ff)](_0x53d9e5),'getContentType':_0x53d9e5[_0x1bf558(0xadb)][_0x1bf558(0x1ff)](_0x53d9e5),'publish':_0x53d9e5[_0x1bf558(0x803)]['bind'](_0x53d9e5),'unpublish':_0x53d9e5[_0x1bf558(0x967)][_0x1bf558(0x1ff)](_0x53d9e5),'get':_0x53d9e5[_0x1bf558(0xb07)][_0x1bf558(0x1ff)](_0x53d9e5),'list':_0x53d9e5['list'][_0x1bf558(0x1ff)](_0x53d9e5),'getSize':_0x53d9e5[_0x1bf558(0x41f)][_0x1bf558(0x1ff)](_0x53d9e5),'subscribe':_0x53d9e5[_0x1bf558(0x6f8)]['bind'](_0x53d9e5),'unsubscribe':_0x53d9e5[_0x1bf558(0xac2)]['bind'](_0x53d9e5),'close':_0x53d9e5['close'][_0x1bf558(0x1ff)](_0x53d9e5)}));}['getExternalStorageConnections'](_0x39d1e5){const _0x5d8a5c=_0x5f24fc;return this[_0x5d8a5c(0x8e5)][_0x5d8a5c(0x684)](_0x39d1e5)[_0x5d8a5c(0xa4a)](_0x5399a5=>({'getName':_0x5399a5[_0x5d8a5c(0x520)][_0x5d8a5c(0x1ff)](_0x5399a5),'getOwnerId':_0x5399a5['getOwnerId'][_0x5d8a5c(0x1ff)](_0x5399a5),'getContentType':_0x5399a5[_0x5d8a5c(0xadb)][_0x5d8a5c(0x1ff)](_0x5399a5),'close':_0x5399a5[_0x5d8a5c(0x7ef)][_0x5d8a5c(0x1ff)](_0x5399a5),'get':_0x5399a5[_0x5d8a5c(0xb07)]['bind'](_0x5399a5),'list':_0x5399a5[_0x5d8a5c(0x46f)][_0x5d8a5c(0x1ff)](_0x5399a5),'subscribe':_0x5399a5[_0x5d8a5c(0x6f8)][_0x5d8a5c(0x1ff)](_0x5399a5),'unsubscribe':_0x5399a5[_0x5d8a5c(0xac2)]['bind'](_0x5399a5)}));}['getKeyValueDatabases'](_0x2068f4){const _0x2d748d=_0x5f24fc;return this['orchestrator']['getKeyValueDatabases'](_0x2068f4)[_0x2d748d(0xa4a)](_0x3dfaa2=>({'getName':_0x3dfaa2['getName'][_0x2d748d(0x1ff)](_0x3dfaa2),'getOwnerId':_0x3dfaa2[_0x2d748d(0x92a)][_0x2d748d(0x1ff)](_0x3dfaa2),'getContentType':_0x3dfaa2['getContentType'][_0x2d748d(0x1ff)](_0x3dfaa2),'getTable':_0x3dfaa2[_0x2d748d(0x627)][_0x2d748d(0x1ff)](_0x3dfaa2),'subscribe':_0x3dfaa2['subscribe']['bind'](_0x3dfaa2),'unsubscribe':_0x3dfaa2[_0x2d748d(0xac2)][_0x2d748d(0x1ff)](_0x3dfaa2),'close':_0x3dfaa2[_0x2d748d(0x7ef)]['bind'](_0x3dfaa2)}));}[_0x5f24fc(0x664)](_0x427de9){const _0x284267=_0x5f24fc;return this[_0x284267(0x8e5)][_0x284267(0x664)](_0x427de9)[_0x284267(0xa4a)](_0x5ec3d6=>({'createAIJob':_0x5ec3d6[_0x284267(0x27a)][_0x284267(0x1ff)](_0x5ec3d6),'ratePrompt':_0x5ec3d6[_0x284267(0x683)][_0x284267(0x1ff)](_0x5ec3d6),'downloadDocument':_0x5ec3d6['downloadDocument'][_0x284267(0x1ff)](_0x5ec3d6),'search':_0x5ec3d6[_0x284267(0x71f)][_0x284267(0x1ff)](_0x5ec3d6),'getDataBucketIds':_0x5ec3d6['getDataBucketIds'][_0x284267(0x1ff)](_0x5ec3d6),'close':_0x5ec3d6[_0x284267(0x7ef)][_0x284267(0x1ff)](_0x5ec3d6)}));}[_0x5f24fc(0x5e9)](_0x2017e4){const _0x4958ea=_0x5f24fc;return this['orchestrator']['getGenerativeAIWorkers'](_0x2017e4)[_0x4958ea(0xa4a)](_0x499c79=>({'close':_0x499c79[_0x4958ea(0x7ef)]['bind'](_0x499c79)}));}[_0x5f24fc(0xa7f)](_0x29b3f9,_0x4d2ec3){const _0x30e8fc=_0x5f24fc,_0x53cf61=this[_0x30e8fc(0x8e5)][_0x30e8fc(0x2f0)](_0x29b3f9,_0x4d2ec3);return{'getLabel':_0x53cf61['getLabel'][_0x30e8fc(0x1ff)](_0x53cf61),'getOwnerId':_0x53cf61[_0x30e8fc(0x92a)]['bind'](_0x53cf61),'getContentType':_0x53cf61[_0x30e8fc(0xadb)][_0x30e8fc(0x1ff)](_0x53cf61),'getMediaStream':_0x53cf61[_0x30e8fc(0xa64)][_0x30e8fc(0x1ff)](_0x53cf61),'setPriority':_0x53cf61['setPriority']['bind'](_0x53cf61),'unpublish':_0x53cf61[_0x30e8fc(0x967)][_0x30e8fc(0x1ff)](_0x53cf61)};}['publishLocalDynamicMediaStream'](_0x2745e3,_0x5d0a8a){const _0x34bd0c=_0x5f24fc,_0x39b15f=this[_0x34bd0c(0x8e5)]['createLocalDynamicMediaStream'](_0x2745e3,_0x5d0a8a);return{'getLabel':_0x39b15f[_0x34bd0c(0x9b0)][_0x34bd0c(0x1ff)](_0x39b15f),'getOwnerId':_0x39b15f[_0x34bd0c(0x92a)]['bind'](_0x39b15f),'getContentType':_0x39b15f['getContentType'][_0x34bd0c(0x1ff)](_0x39b15f),'setPriority':_0x39b15f[_0x34bd0c(0x754)][_0x34bd0c(0x1ff)](_0x39b15f),'unpublish':_0x39b15f[_0x34bd0c(0x967)][_0x34bd0c(0x1ff)](_0x39b15f),'getMediaStream':_0x39b15f['getMediaStream'][_0x34bd0c(0x1ff)](_0x39b15f),'addTrack':_0x39b15f[_0x34bd0c(0x55e)][_0x34bd0c(0x1ff)](_0x39b15f),'removeTrack':_0x39b15f[_0x34bd0c(0xa94)][_0x34bd0c(0x1ff)](_0x39b15f),'replaceTrack':_0x39b15f[_0x34bd0c(0xb23)]['bind'](_0x39b15f),'setTransformations':_0x39b15f[_0x34bd0c(0x26a)][_0x34bd0c(0x1ff)](_0x39b15f)};}['getLocalMediaStreams'](_0xbecb72){const _0x5ccbb3=_0x5f24fc;return this[_0x5ccbb3(0x8e5)][_0x5ccbb3(0x876)](_0xbecb72)[_0x5ccbb3(0xa4a)](_0x1827d1=>({'getLabel':_0x1827d1[_0x5ccbb3(0x9b0)][_0x5ccbb3(0x1ff)](_0x1827d1),'getOwnerId':_0x1827d1[_0x5ccbb3(0x92a)][_0x5ccbb3(0x1ff)](_0x1827d1),'getContentType':_0x1827d1[_0x5ccbb3(0xadb)][_0x5ccbb3(0x1ff)](_0x1827d1),'getMediaStream':_0x1827d1[_0x5ccbb3(0xa64)][_0x5ccbb3(0x1ff)](_0x1827d1),'setPriority':_0x1827d1[_0x5ccbb3(0x754)][_0x5ccbb3(0x1ff)](_0x1827d1),'unpublish':_0x1827d1[_0x5ccbb3(0x967)][_0x5ccbb3(0x1ff)](_0x1827d1)}));}[_0x5f24fc(0x707)](_0x21da1a){const _0x55a16a=_0x5f24fc;return this[_0x55a16a(0x8e5)][_0x55a16a(0x707)](_0x21da1a)[_0x55a16a(0xa4a)](_0xdef124=>({'getLabel':_0xdef124['getLabel'][_0x55a16a(0x1ff)](_0xdef124),'getOwnerId':_0xdef124[_0x55a16a(0x92a)][_0x55a16a(0x1ff)](_0xdef124),'getContentType':_0xdef124[_0x55a16a(0xadb)][_0x55a16a(0x1ff)](_0xdef124),'getMediaStream':_0xdef124[_0x55a16a(0xa64)][_0x55a16a(0x1ff)](_0xdef124),'subscribe':_0xdef124[_0x55a16a(0x6f8)][_0x55a16a(0x1ff)](_0xdef124),'unsubscribe':_0xdef124[_0x55a16a(0xac2)][_0x55a16a(0x1ff)](_0xdef124),'getAvailableTrackKinds':_0xdef124[_0x55a16a(0x601)][_0x55a16a(0x1ff)](_0xdef124),'update':_0xdef124[_0x55a16a(0x220)][_0x55a16a(0x1ff)](_0xdef124),'onProviderChange':_0xdef124[_0x55a16a(0x288)][_0x55a16a(0x1ff)](_0xdef124)}));}[_0x5f24fc(0x46a)](_0x111378){const _0xcb3877=_0x5f24fc;return this['orchestrator'][_0xcb3877(0x46a)](_0x111378)[_0xcb3877(0xa4a)](_0x156e16=>({'getName':_0x156e16['getName'][_0xcb3877(0x1ff)](_0x156e16),'getOwnerId':_0x156e16['getOwnerId'][_0xcb3877(0x1ff)](_0x156e16),'getContentType':_0x156e16[_0xcb3877(0xadb)][_0xcb3877(0x1ff)](_0x156e16),'addNode':_0x156e16[_0xcb3877(0x255)][_0xcb3877(0x1ff)](_0x156e16),'addEdge':_0x156e16['addEdge'][_0xcb3877(0x1ff)](_0x156e16),'getContent':_0x156e16[_0xcb3877(0x6d9)][_0xcb3877(0x1ff)](_0x156e16),'remove':_0x156e16[_0xcb3877(0x20d)]['bind'](_0x156e16),'saveToDisk':_0x156e16[_0xcb3877(0x899)][_0xcb3877(0x1ff)](_0x156e16),'loadFromDisk':_0x156e16[_0xcb3877(0x380)][_0xcb3877(0x1ff)](_0x156e16),'close':_0x156e16[_0xcb3877(0x7ef)][_0xcb3877(0x1ff)](_0x156e16)}));}[_0x5f24fc(0x869)](_0x528591){const _0x25ae1b=_0x5f24fc;return this[_0x25ae1b(0x8e5)][_0x25ae1b(0x869)](_0x528591)[_0x25ae1b(0xa4a)](_0x3539ae=>({'getName':_0x3539ae[_0x25ae1b(0x520)][_0x25ae1b(0x1ff)](_0x3539ae),'getOwnerId':_0x3539ae['getOwnerId']['bind'](_0x3539ae),'getContentType':_0x3539ae[_0x25ae1b(0xadb)][_0x25ae1b(0x1ff)](_0x3539ae),'search':_0x3539ae[_0x25ae1b(0x71f)][_0x25ae1b(0x1ff)](_0x3539ae),'insert':_0x3539ae[_0x25ae1b(0x8c5)][_0x25ae1b(0x1ff)](_0x3539ae),'remove':_0x3539ae[_0x25ae1b(0x20d)][_0x25ae1b(0x1ff)](_0x3539ae),'saveToDisk':_0x3539ae['saveToDisk']['bind'](_0x3539ae),'loadFromDisk':_0x3539ae[_0x25ae1b(0x380)][_0x25ae1b(0x1ff)](_0x3539ae),'close':_0x3539ae[_0x25ae1b(0x7ef)]['bind'](_0x3539ae)}));}['getLocalNode'](){const _0x619387=_0x5f24fc,_0x297cbc=this['orchestrator']['getLocalNode']();switch(_0x297cbc['type']){case _0x20053a[_0x619387(0x6c8)][_0x619387(0x578)]:return{'type':_0x20053a[_0x619387(0x6c8)][_0x619387(0x578)],'getId':_0x297cbc[_0x619387(0x6e8)]['bind'](_0x297cbc),'getDisplayName':_0x297cbc[_0x619387(0x75d)][_0x619387(0x1ff)](_0x297cbc),'getEmail':_0x297cbc['getEmail']['bind'](_0x297cbc),'getRemoteConnections':_0x297cbc[_0x619387(0xa49)]['bind'](_0x297cbc),'setDisplayName':_0x297cbc[_0x619387(0x7bd)][_0x619387(0x1ff)](_0x297cbc),'setEmail':_0x297cbc['setEmail'][_0x619387(0x1ff)](_0x297cbc)};case _0x20053a[_0x619387(0x6c8)][_0x619387(0x723)]:default:return{'type':_0x20053a['NodeType']['Agent'],'getId':_0x297cbc[_0x619387(0x6e8)]['bind'](_0x297cbc),'getRemoteConnections':_0x297cbc[_0x619387(0xa49)][_0x619387(0x1ff)](_0x297cbc)};}}['getRemoteNodes'](_0x2a1bb7){const _0x51f6fa=_0x5f24fc;return this[_0x51f6fa(0x8e5)][_0x51f6fa(0x97b)](_0x2a1bb7)['map'](_0x2b7f78=>{const _0x36703b=_0x51f6fa;switch(_0x2b7f78[_0x36703b(0x781)]){case _0x20053a['NodeType'][_0x36703b(0x578)]:return{'type':_0x20053a[_0x36703b(0x6c8)][_0x36703b(0x578)],'getId':_0x2b7f78['getId']['bind'](_0x2b7f78),'getDisplayName':_0x2b7f78[_0x36703b(0x75d)][_0x36703b(0x1ff)](_0x2b7f78),'getEmail':_0x2b7f78['getEmail'][_0x36703b(0x1ff)](_0x2b7f78),'getRemoteConnections':_0x2b7f78[_0x36703b(0xa49)][_0x36703b(0x1ff)](_0x2b7f78)};case _0x20053a[_0x36703b(0x6c8)][_0x36703b(0x723)]:return{'type':_0x20053a[_0x36703b(0x6c8)][_0x36703b(0x723)],'getId':_0x2b7f78[_0x36703b(0x6e8)]['bind'](_0x2b7f78),'getRemoteConnections':_0x2b7f78[_0x36703b(0xa49)][_0x36703b(0x1ff)](_0x2b7f78)};default:throw new _0x55ecf3(_0x2efe49[_0x36703b(0x7e8)],'Invalid\x20node\x20type');}});}['on']=(..._0x3a32df)=>{this['eventEmitter']['on'](..._0x3a32df);};[_0x5f24fc(0x2ce)]=(..._0x5239f9)=>this[_0x5f24fc(0x71d)][_0x5f24fc(0x2ce)](..._0x5239f9);['off'](..._0x1f0e89){const _0x46fdcf=_0x5f24fc;this[_0x46fdcf(0x71d)][_0x46fdcf(0x5a0)](..._0x1f0e89);}}class _0x18d239{['id'];[_0x5f24fc(0x573)];['email'];[_0x5f24fc(0x781)]=_0x20053a[_0x5f24fc(0x6c8)][_0x5f24fc(0x578)];['joinedClusters']=new Map();[_0x5f24fc(0x325)]=_0x449c97();constructor(_0x52bfe7,_0xef19ff,_0x4b1108){const _0x27341d=_0x5f24fc;this['id']=_0x52bfe7,this[_0x27341d(0x573)]=_0xef19ff,this[_0x27341d(0xa9b)]=_0x4b1108;}[_0x5f24fc(0x6e8)](){return this['id'];}['getDisplayName'](){return this['displayName'];}[_0x5f24fc(0x5ea)](){return this['email'];}[_0x5f24fc(0x7bd)](_0x48f172){const _0xae18b5=_0x5f24fc;this[_0xae18b5(0x573)]!==_0x48f172&&(this[_0xae18b5(0x573)]=_0x48f172,this[_0xae18b5(0x325)][_0xae18b5(0x803)](this));}[_0x5f24fc(0x6aa)](_0x421ac5){const _0x28a49c=_0x5f24fc;this[_0x28a49c(0xa9b)]!==_0x421ac5&&(this['email']=_0x421ac5,this[_0x28a49c(0x325)][_0x28a49c(0x803)](this));}['registerCluster'](_0x4381ca,_0x155e58){const _0x1f3f15=_0x5f24fc;if(this[_0x1f3f15(0x37b)][_0x1f3f15(0x4cb)](_0x4381ca))return;const _0x5759ea=this[_0x1f3f15(0x325)]['subscribe'](_0x155e58);this[_0x1f3f15(0x37b)]['set'](_0x4381ca,_0x5759ea);}[_0x5f24fc(0x820)](_0xcad82b){const _0x596592=_0x5f24fc;if(!this['joinedClusters'][_0x596592(0x4cb)](_0xcad82b))return;const _0x103f0e=this[_0x596592(0x37b)][_0x596592(0xb07)](_0xcad82b);_0x103f0e&&_0x103f0e(),this[_0x596592(0x37b)][_0x596592(0x43a)](_0xcad82b);}}class _0x3daa79{[_0x5f24fc(0x240)];[_0x5f24fc(0x289)];constructor(_0x46c3a4){const _0x34d5b1=_0x5f24fc;this[_0x34d5b1(0x240)]=_0x46c3a4;}async[_0x5f24fc(0x912)](_0x2d3af5){const _0x4f3d4d=_0x5f24fc,_0x270a71=await(0x0,_0x5620ee[_0x4f3d4d(0x6af)])(_0x47e6c0['getFunctions'](),'sdkCreateToken')({'uid':_0x4f3d4d(0xa33)+this['vendorId']+_0x4f3d4d(0xa33)+_0x2d3af5['id']}),_0x581c32=await(0x0,_0x46a5ad[_0x4f3d4d(0xb33)])(_0x47e6c0[_0x4f3d4d(0xab2)](),_0x270a71['data'][_0x4f3d4d(0x1f7)]);this[_0x4f3d4d(0x289)]=_0x581c32['user'];}async[_0x5f24fc(0xa96)](){const _0x2bbd87=_0x5f24fc;await(0x0,_0x46a5ad['signOut'])(_0x47e6c0[_0x2bbd87(0xab2)]());}[_0x5f24fc(0x278)](){const _0x11efb5=_0x5f24fc;return this[_0x11efb5(0x289)]?.[_0x11efb5(0x278)]()??Promise[_0x11efb5(0xa50)](_0x11efb5(0x853));}}class _0x172c0c{static ['instance'];['featureSupport']=[];constructor(){}static['getInstance'](){const _0x5a1ef7=_0x5f24fc;return _0x172c0c[_0x5a1ef7(0x50d)]||(_0x172c0c[_0x5a1ef7(0x50d)]=new _0x172c0c()),_0x172c0c[_0x5a1ef7(0x50d)];}[_0x5f24fc(0xa75)](){const _0x5b6ac4=_0x5f24fc;this[_0x5b6ac4(0x589)](),this[_0x5b6ac4(0x628)](),this[_0x5b6ac4(0x8cd)](),this[_0x5b6ac4(0x5e4)](),this[_0x5b6ac4(0x678)](),this[_0x5b6ac4(0x7cd)](),this['checkMediaRecording'](),this[_0x5b6ac4(0x455)](),this[_0x5b6ac4(0x8ed)](),this[_0x5b6ac4(0x99c)](),_0x40d481[_0x5b6ac4(0x60e)](_0xb10df[_0x5b6ac4(0x3c1)],_0x5b6ac4(0xa6f),{'featureSupport':this['featureSupport']});}[_0x5f24fc(0x637)](_0x585ab3){const _0x2a04a7=_0x5f24fc,_0x5993ee=this[_0x2a04a7(0x309)]['find'](_0x1cab29=>_0x1cab29[_0x2a04a7(0x696)]===_0x585ab3);return!!_0x5993ee&&_0x5993ee[_0x2a04a7(0x54e)];}[_0x5f24fc(0x94a)](_0xf2523d){const _0x4b8c2c=_0x5f24fc;_0x40d481[_0x4b8c2c(0x2e1)]('support',{'nodeId':_0xf2523d['getId'](),'nodeType':_0xf2523d['type'],'data':{'featureSupport':this[_0x4b8c2c(0x309)]}});}['checkWebRTC'](){const _0x934cba=_0x5f24fc,_0x224040=_0x10be3e[_0x934cba(0x25f)];let _0x344b15=!0x1;_0x934cba(0x376)==typeof RTCPeerConnection&&_0x934cba(0x376)==typeof RTCIceCandidate&&_0x934cba(0x376)==typeof RTCSessionDescription?_0x344b15=!0x0:_0x40d481[_0x934cba(0x60e)](_0xb10df[_0x934cba(0x3c1)],_0x934cba(0x97d)+_0x224040+_0x934cba(0x966)),this[_0x934cba(0x309)]['push']({'name':_0x224040,'supported':_0x344b15});}['checkMediaStream'](){const _0x424195=_0x5f24fc,_0x3d009f=_0x10be3e['MediaStream'];let _0x2ecf8a=!0x1;'function'==typeof MediaStream&&'function'==typeof MediaStreamTrack&&_0x424195(0x863)==typeof navigator&&'object'==typeof navigator[_0x424195(0x894)]&&_0x424195(0x376)==typeof navigator['mediaDevices'][_0x424195(0x352)]?_0x2ecf8a=!0x0:_0x40d481[_0x424195(0x60e)](_0xb10df[_0x424195(0x3c1)],'Support:\x20'+_0x3d009f+_0x424195(0x966)),this[_0x424195(0x309)][_0x424195(0x96d)]({'name':_0x3d009f,'supported':_0x2ecf8a});}[_0x5f24fc(0x8cd)](){const _0x51f4e7=_0x5f24fc,_0x3c831c=_0x10be3e[_0x51f4e7(0xa4f)];let _0x20d948=!0x1;_0x51f4e7(0x863)==typeof navigator&&_0x51f4e7(0x863)==typeof navigator[_0x51f4e7(0x894)]&&_0x51f4e7(0x376)==typeof navigator['mediaDevices'][_0x51f4e7(0x2da)]?_0x20d948=!0x0:_0x40d481[_0x51f4e7(0x60e)](_0xb10df[_0x51f4e7(0x3c1)],_0x51f4e7(0x97d)+_0x3c831c+_0x51f4e7(0x966)),this['featureSupport'][_0x51f4e7(0x96d)]({'name':_0x3c831c,'supported':_0x20d948});}['checkAudioVolume'](){const _0x55a7ef=_0x5f24fc,_0x6a4d95=_0x10be3e[_0x55a7ef(0xb34)];let _0x2ab4d7=!0x1;'function'!=typeof AudioContext||_0x55a7ef(0x376)!=typeof ScriptProcessorNode&&_0x55a7ef(0x376)!=typeof AudioWorkletNode||_0x55a7ef(0x376)!=typeof MediaStreamAudioSourceNode?_0x40d481[_0x55a7ef(0x60e)](_0xb10df[_0x55a7ef(0x3c1)],_0x55a7ef(0x97d)+_0x6a4d95+_0x55a7ef(0x966)):_0x2ab4d7=!0x0,this[_0x55a7ef(0x309)][_0x55a7ef(0x96d)]({'name':_0x6a4d95,'supported':_0x2ab4d7});}[_0x5f24fc(0x678)](){const _0x38ada0=_0x5f24fc,_0x595db2=_0x10be3e[_0x38ada0(0x577)];let _0x25f053=!0x1;'object'==typeof navigator&&_0x38ada0(0x863)==typeof navigator[_0x38ada0(0x894)]&&_0x38ada0(0x376)==typeof navigator[_0x38ada0(0x894)][_0x38ada0(0x323)]&&_0x38ada0(0x376)==typeof MediaDeviceInfo?_0x25f053=!0x0:_0x40d481['log'](_0xb10df['Support'],'Support:\x20'+_0x595db2+'\x20not\x20supported'),this[_0x38ada0(0x309)][_0x38ada0(0x96d)]({'name':_0x595db2,'supported':_0x25f053});}[_0x5f24fc(0x7cd)](){const _0x1d9c06=_0x5f24fc,_0x190f95=_0x10be3e[_0x1d9c06(0xa53)];let _0x20fda2=!0x1;_0x1d9c06(0x863)==typeof document&&_0x1d9c06(0x376)==typeof document['createElement'](_0x1d9c06(0x829))[_0x1d9c06(0x421)]?_0x20fda2=!0x0:_0x40d481['log'](_0xb10df[_0x1d9c06(0x3c1)],'Support:\x20'+_0x190f95+_0x1d9c06(0x966)),this[_0x1d9c06(0x309)][_0x1d9c06(0x96d)]({'name':_0x190f95,'supported':_0x20fda2});}async[_0x5f24fc(0x5de)](){const _0x55e01a=_0x5f24fc,_0x380469=_0x10be3e[_0x55e01a(0x5d1)];let _0x3504bc=!0x1;try{const _0x3af217=document[_0x55e01a(0x964)](_0x55e01a(0x916));if(MediaRecorder&&MediaSource&&_0x3af217[_0x55e01a(0x9ff)]){const _0x5cfebd=_0x3af217[_0x55e01a(0x9ff)](),_0x3a842a=new MediaRecorder(_0x5cfebd);_0x3a842a['start'](),await new Promise(_0x3e95db=>setTimeout(_0x3e95db,0x7d0)),_0x3a842a[_0x55e01a(0x3dc)](),_0x3504bc=_0x55e01a(0x4bb)===_0x3a842a[_0x55e01a(0x23d)];}}catch(_0x1af4d4){_0x40d481[_0x55e01a(0x60e)](_0xb10df['Support'],_0x55e01a(0x97d)+_0x380469+'\x20check\x20failed',_0x1af4d4);}this['featureSupport']['push']({'name':_0x380469,'supported':_0x3504bc}),_0x3504bc||_0x40d481['log'](_0xb10df[_0x55e01a(0x3c1)],_0x55e01a(0x97d)+_0x380469+_0x55e01a(0x966));}['checkBackgrounds'](){const _0x151634=_0x5f24fc,_0xbe1c00=_0x10be3e[_0x151634(0x3ea)];let _0x5319c3=!0x1;try{document[_0x151634(0x964)](_0x151634(0x916))[_0x151634(0x9ff)]&&(_0x5319c3=!0x0);}catch(_0x14ffcd){_0x40d481['log'](_0xb10df[_0x151634(0x3c1)],_0x151634(0x97d)+_0xbe1c00+_0x151634(0xa43),_0x14ffcd);}this[_0x151634(0x309)][_0x151634(0x96d)]({'name':_0xbe1c00,'supported':_0x5319c3}),_0x5319c3||_0x40d481[_0x151634(0x60e)](_0xb10df[_0x151634(0x3c1)],_0x151634(0x97d)+_0xbe1c00+_0x151634(0x966));}[_0x5f24fc(0x8ed)](){const _0x11c41b=_0x5f24fc,_0x3089fe=_0x10be3e[_0x11c41b(0xa83)];let _0x464042=!0x1;try{const _0xbc47c8=document[_0x11c41b(0x964)]('canvas');WebGLRenderingContext&&_0xbc47c8[_0x11c41b(0x4d6)](_0x11c41b(0x70a))&&(_0x464042=!0x0);}catch(_0x34fca1){_0x40d481[_0x11c41b(0x60e)](_0xb10df[_0x11c41b(0x3c1)],_0x11c41b(0x97d)+_0x3089fe+_0x11c41b(0xa43),_0x34fca1);}this['featureSupport'][_0x11c41b(0x96d)]({'name':_0x3089fe,'supported':_0x464042}),_0x464042||_0x40d481['log'](_0xb10df[_0x11c41b(0x3c1)],'Support:\x20'+_0x3089fe+_0x11c41b(0x966));}[_0x5f24fc(0x99c)](){const _0x3caf99=_0x5f24fc,_0x2eeb6e=_0x10be3e[_0x3caf99(0x277)];let _0x557440=!0x1;'function'==typeof AudioContext?_0x557440=!0x0:_0x40d481[_0x3caf99(0x60e)](_0xb10df['Support'],_0x3caf99(0x97d)+_0x2eeb6e+_0x3caf99(0x966)),this[_0x3caf99(0x309)][_0x3caf99(0x96d)]({'name':_0x2eeb6e,'supported':_0x557440});}}const _0x21c27a=_0x172c0c['getInstance']();class _0x458fbe{static [_0x5f24fc(0x50d)];static [_0x5f24fc(0xac2)];static [_0x5f24fc(0xa25)];[_0x5f24fc(0x6de)];['vendorId'];[_0x5f24fc(0x49b)];[_0x5f24fc(0x6c1)];['clusters']=new Map();['authContext'];constructor(_0x33421a,_0x1b3614,_0x8ef4ee){const _0x26370e=_0x5f24fc;this[_0x26370e(0x240)]=_0x33421a,this[_0x26370e(0x6c1)]=_0x1b3614,this[_0x26370e(0x6de)]=new _0x3daa79(this[_0x26370e(0x240)]),_0x21c27a[_0x26370e(0xa75)](),this[_0x26370e(0x49b)]={'audioContext':_0x8ef4ee?.[_0x26370e(0x4e5)]??(_0x21c27a[_0x26370e(0x637)](_0x10be3e[_0x26370e(0x277)])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0x8ef4ee?.['maxOutgoingSubscriptions']??0x1,'minConnections':_0x8ef4ee?.[_0x26370e(0x6b0)]??0x3,'maxConnections':_0x8ef4ee?.[_0x26370e(0x33b)]??(_0x8ef4ee?.['minConnections']&&0x4*_0x8ef4ee['minConnections'])??0xc,'maxDistance':_0x8ef4ee?.['maxDistance']??0xa,'maxFps':_0x8ef4ee?.[_0x26370e(0xaf1)]??0x18,'maxBpp':_0x8ef4ee?.[_0x26370e(0xa24)]??0.12,'objectStoreConnector':_0x8ef4ee?.[_0x26370e(0x6be)]??_0x4df9bb[_0x26370e(0x69d)],'externalStorageConnectors':_0x8ef4ee?.['externalStorageConnectors'],'keyValueDatabaseConnector':_0x8ef4ee?.[_0x26370e(0xa65)]??_0x476d15[_0x26370e(0x6e7)],'loggingDatabaseConnector':_0x8ef4ee?.[_0x26370e(0x43e)]??_0x476d15[_0x26370e(0x6e7)],'peerConnectionConnector':_0x8ef4ee?.['peerConnectionConnector']??_0x3dc40a[_0x26370e(0x25c)],'generativeAIWorkerConnectors':_0x8ef4ee?.[_0x26370e(0x694)],'vectorDatabaseConnector':_0x8ef4ee?.[_0x26370e(0x36d)],'graphDatabaseConnector':_0x8ef4ee?.[_0x26370e(0x97f)],'documentParserConnector':_0x8ef4ee?.[_0x26370e(0x832)],'nlpLibraryConnector':_0x8ef4ee?.[_0x26370e(0x20b)],'searchConnector':_0x8ef4ee?.[_0x26370e(0x563)],'aiSearchConnector':_0x8ef4ee?.[_0x26370e(0x244)],'queryFileConnector':_0x8ef4ee?.[_0x26370e(0x2ab)]},_0x8ef4ee?.[_0x26370e(0x833)]&&this['options'][_0x26370e(0x4e5)]&&_0x4ecfc3['startNoThrottlingHack'](this['options'][_0x26370e(0x4e5)]),_0x40d481[_0x26370e(0x75f)](this[_0x26370e(0x240)]),_0x8ef4ee?.[_0x26370e(0x33e)]&&_0x40d481[_0x26370e(0x451)](_0x8ef4ee[_0x26370e(0x33e)]);}static async[_0x5f24fc(0x445)](_0x55a57c,_0x18a54c,_0x1f0327,_0x124db2,_0x31771f){const _0x10f939=_0x5f24fc;this[_0x10f939(0xa25)]=_0x1f0327;const _0x41552b=await this[_0x10f939(0x83f)](_0x55a57c,_0x18a54c,_0x31771f);return _0x458fbe[_0x10f939(0x50d)]||(_0x458fbe[_0x10f939(0x50d)]=new _0x458fbe(_0x55a57c,_0x41552b,_0x124db2)),{'close':_0x458fbe[_0x10f939(0x50d)][_0x10f939(0x7ef)][_0x10f939(0x1ff)](_0x458fbe[_0x10f939(0x50d)]),'authenticateUser':_0x458fbe['instance']['authenticateUser'][_0x10f939(0x1ff)](_0x458fbe[_0x10f939(0x50d)]),'authenticateAgent':_0x458fbe[_0x10f939(0x50d)][_0x10f939(0x760)][_0x10f939(0x1ff)](_0x458fbe[_0x10f939(0x50d)]),'joinCluster':_0x458fbe[_0x10f939(0x50d)][_0x10f939(0x672)][_0x10f939(0x1ff)](_0x458fbe[_0x10f939(0x50d)])};}static async[_0x5f24fc(0x586)](){const _0x43570b=_0x5f24fc;return _0x47e6c0[_0x43570b(0x634)]();}static['isProduction'](){const _0x4f0b06=_0x5f24fc;return _0x510c96[_0x4f0b06(0x3f1)];}async['close'](_0xa8f03d){const _0x2486a3=_0x5f24fc;this['clusters']['forEach'](_0x721ac5=>{const _0x4ccb4a=a0_0x214c;_0x721ac5[_0x4ccb4a(0x5a0)](),_0x721ac5['leave'](_0xa8f03d);}),this[_0x2486a3(0x647)][_0x2486a3(0x567)](),this[_0x2486a3(0x49b)][_0x2486a3(0x4e5)]&&_0x4ecfc3[_0x2486a3(0x461)](),_0x458fbe['unsubscribe']?.(),_0x458fbe[_0x2486a3(0xac2)]=void 0x0,this['authContext']=void 0x0,await this[_0x2486a3(0x6de)][_0x2486a3(0xa96)](),_0x458fbe[_0x2486a3(0x50d)]=void 0x0;}static async['validateAccess'](_0x21fd82,_0x4f685e,_0x201d02){const _0x4e3918=_0x5f24fc;if(!this[_0x4e3918(0xa25)])throw new _0x55ecf3(_0x2efe49[_0x4e3918(0x2c2)],_0x4e3918(0x95c));let _0x2ba5a3;try{_0x2ba5a3=await(0x0,_0x5620ee[_0x4e3918(0x6af)])(_0x47e6c0[_0x4e3918(0xb2f)](),_0x4e3918(0x32b))({'vendorId':_0x21fd82,'accessToken':_0x4f685e,'secretKey':_0x201d02});}catch(_0x145c5e){throw new _0x55ecf3(_0x2efe49[_0x4e3918(0x249)],_0x4e3918(0x619));}if(!this[_0x4e3918(0x778)](_0x2ba5a3['data']))throw new _0x55ecf3(_0x2efe49['InvalidAccess'],'Invalid\x20credentials');const _0xdfc264=_0x2ba5a3[_0x4e3918(0x3b9)];return _0xdfc264['features']||(_0xdfc264[_0x4e3918(0x772)]=[]),this[_0x4e3918(0xac2)]||(this['unsubscribe']=_0x4ecfc3[_0x4e3918(0x668)](async()=>{const _0xd337ec=_0x4e3918;try{const _0x41ccd3=await this[_0xd337ec(0x83f)](_0x21fd82,_0x4f685e,_0x201d02);this['mode']===_0x20053a[_0xd337ec(0x6c8)][_0xd337ec(0x723)]&&(_0x41ccd3['iceServers']=_0x41ccd3[_0xd337ec(0x972)][_0xd337ec(0x776)](_0x1b9a57=>_0x1b9a57['urls']['startsWith']('stun:'))),_0xdfc264[_0xd337ec(0x972)]=_0x41ccd3['iceServers'];}catch(_0x34192f){}},0x1b7740)),_0xdfc264;}async['authenticateUser'](_0x37aaec){const _0x7d46ab=_0x5f24fc;if(_0x458fbe[_0x7d46ab(0xa25)]!==_0x20053a['NodeType'][_0x7d46ab(0x578)])throw new _0x55ecf3(_0x2efe49[_0x7d46ab(0x7e8)],_0x7d46ab(0x72b));await this[_0x7d46ab(0x6de)][_0x7d46ab(0x912)](_0x37aaec);const _0xf9893a=new _0x18d239(_0x37aaec['id'],_0x37aaec[_0x7d46ab(0x573)],_0x37aaec['email']);return this[_0x7d46ab(0xaa9)]={'node':_0xf9893a},_0x21c27a[_0x7d46ab(0x94a)](_0xf9893a),{'type':_0x20053a[_0x7d46ab(0x6c8)][_0x7d46ab(0x578)],'getId':_0xf9893a[_0x7d46ab(0x6e8)]['bind'](_0xf9893a),'getDisplayName':_0xf9893a[_0x7d46ab(0x75d)]['bind'](_0xf9893a),'getEmail':_0xf9893a['getEmail'][_0x7d46ab(0x1ff)](_0xf9893a),'setDisplayName':_0xf9893a['setDisplayName']['bind'](_0xf9893a),'setEmail':_0xf9893a['setEmail'][_0x7d46ab(0x1ff)](_0xf9893a)};}async[_0x5f24fc(0x760)](_0x3a914e){const _0x5b0c7b=_0x5f24fc;if(_0x458fbe[_0x5b0c7b(0xa25)]!==_0x20053a[_0x5b0c7b(0x6c8)][_0x5b0c7b(0x723)])throw new _0x55ecf3(_0x2efe49[_0x5b0c7b(0x7e8)],_0x5b0c7b(0x72b));const {id:_0x4b8a41,groupId:_0x4c956e}=_0x3a914e,_0x3f3333=await(0x0,_0x1d5bc0['getDoc'])((0x0,_0x1d5bc0[_0x5b0c7b(0x1f8)])(_0x47e6c0[_0x5b0c7b(0x422)](),_0x5b0c7b(0x955)+this['vendorId']+_0x5b0c7b(0x844)+_0x4c956e));if(!_0x3f3333[_0x5b0c7b(0x713)]())throw new _0x55ecf3(_0x2efe49['NodeNotAuthenticated'],'Agent\x20group\x20not\x20found');const _0x3031a3=_0x3f3333[_0x5b0c7b(0x3b9)]();await this[_0x5b0c7b(0x6de)]['signInWithCredential']({'id':_0x4b8a41});const _0x9b8ba6=new _0x250b31(_0x4b8a41,_0x4c956e,this[_0x5b0c7b(0x240)],_0x3031a3);return this[_0x5b0c7b(0xaa9)]={'node':_0x9b8ba6},_0x21c27a[_0x5b0c7b(0x94a)](_0x9b8ba6),this['connectAgent'](_0x9b8ba6),{'type':_0x20053a[_0x5b0c7b(0x6c8)]['Agent'],'getId':_0x9b8ba6[_0x5b0c7b(0x6e8)][_0x5b0c7b(0x1ff)](_0x9b8ba6),'onConfigurationChange':_0x9b8ba6[_0x5b0c7b(0x8b1)][_0x5b0c7b(0x1ff)](_0x9b8ba6),'setReportCapacity':_0x9b8ba6[_0x5b0c7b(0xb24)]['bind'](_0x9b8ba6)};}async['joinCluster'](_0x240efc){const _0x80d982=_0x5f24fc;if(!this[_0x80d982(0xaa9)])throw new _0x55ecf3(_0x2efe49[_0x80d982(0x5c9)],'Node\x20not\x20authenticated');if(this[_0x80d982(0xaa9)][_0x80d982(0x670)][_0x80d982(0x781)]!==_0x20053a[_0x80d982(0x6c8)][_0x80d982(0x578)])throw new _0x55ecf3(_0x2efe49[_0x80d982(0x8a0)],'Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user');if(this['clusters'][_0x80d982(0x4cb)](_0x240efc))throw new _0x55ecf3(_0x2efe49['ClusterAlreadyJoined'],_0x80d982(0x5cb));const _0x5cfb01=new _0x4c8134(this[_0x80d982(0x240)],_0x240efc,this['authContext'][_0x80d982(0x670)],this[_0x80d982(0x6de)],this[_0x80d982(0x49b)],this[_0x80d982(0x6c1)]);return await _0x5cfb01[_0x80d982(0x250)](),this[_0x80d982(0x78d)](_0x240efc,_0x5cfb01),_0x40d481[_0x80d982(0x2e1)](_0x80d982(0x9e7),{'clusterId':_0x240efc,'nodeId':this['authContext'][_0x80d982(0x670)]['getId'](),'nodeType':this[_0x80d982(0xaa9)]['node']['type']}),{'leave':_0x5cfb01['leave'][_0x80d982(0x1ff)](_0x5cfb01),'getLocalNode':_0x5cfb01['getLocalNode'][_0x80d982(0x1ff)](_0x5cfb01),'openPubSubTopic':_0x5cfb01[_0x80d982(0x29e)][_0x80d982(0x1ff)](_0x5cfb01),'openObjectStoreBucket':_0x5cfb01[_0x80d982(0x600)][_0x80d982(0x1ff)](_0x5cfb01),'openExternalStorageConnection':_0x5cfb01[_0x80d982(0x9a8)]['bind'](_0x5cfb01),'openKeyValueDatabase':_0x5cfb01[_0x80d982(0x8f0)]['bind'](_0x5cfb01),'openGenerativeAIContext':_0x5cfb01[_0x80d982(0x430)][_0x80d982(0x1ff)](_0x5cfb01),'openGenerativeAIWorker':_0x5cfb01[_0x80d982(0x86f)][_0x80d982(0x1ff)](_0x5cfb01),'openGraphDatabase':_0x5cfb01[_0x80d982(0x22e)][_0x80d982(0x1ff)](_0x5cfb01),'openVectorDatabase':_0x5cfb01[_0x80d982(0x65b)][_0x80d982(0x1ff)](_0x5cfb01),'publishLocalMediaStream':_0x5cfb01[_0x80d982(0xa7f)][_0x80d982(0x1ff)](_0x5cfb01),'publishLocalDynamicMediaStream':_0x5cfb01['publishLocalDynamicMediaStream'][_0x80d982(0x1ff)](_0x5cfb01),'getPubSubTopics':_0x5cfb01[_0x80d982(0x467)]['bind'](_0x5cfb01),'getObjectStoreBuckets':_0x5cfb01[_0x80d982(0x361)][_0x80d982(0x1ff)](_0x5cfb01),'getExternalStorageConnections':_0x5cfb01['getExternalStorageConnections']['bind'](_0x5cfb01),'getKeyValueDatabases':_0x5cfb01['getKeyValueDatabases']['bind'](_0x5cfb01),'getGenerativeAIContexts':_0x5cfb01[_0x80d982(0x664)][_0x80d982(0x1ff)](_0x5cfb01),'getGenerativeAIWorkers':_0x5cfb01[_0x80d982(0x5e9)]['bind'](_0x5cfb01),'getGraphDatabases':_0x5cfb01[_0x80d982(0x46a)][_0x80d982(0x1ff)](_0x5cfb01),'getVectorDatabases':_0x5cfb01['getVectorDatabases'][_0x80d982(0x1ff)](_0x5cfb01),'getLocalMediaStreams':_0x5cfb01[_0x80d982(0x876)][_0x80d982(0x1ff)](_0x5cfb01),'getRemoteMediaStreams':_0x5cfb01[_0x80d982(0x707)]['bind'](_0x5cfb01),'getRemoteNodes':_0x5cfb01[_0x80d982(0x97b)][_0x80d982(0x1ff)](_0x5cfb01),'on':_0x5cfb01['on'][_0x80d982(0x1ff)](_0x5cfb01),'off':_0x5cfb01[_0x80d982(0x5a0)][_0x80d982(0x1ff)](_0x5cfb01)};}async[_0x5f24fc(0x4e7)](_0x5ea8b9){const _0x3568b6=_0x5f24fc;for(const _0x25d58b of _0x5ea8b9['agentConfig']['clusters']){const _0xcba57f=new _0x4c8134(this['vendorId'],_0x25d58b['id'],_0x5ea8b9,this[_0x3568b6(0x6de)],this[_0x3568b6(0x49b)],this[_0x3568b6(0x6c1)]);await _0xcba57f[_0x3568b6(0x250)](),this[_0x3568b6(0x78d)](_0x25d58b['id'],_0xcba57f),_0x40d481[_0x3568b6(0xa2f)](_0x3568b6(0x9dc),_0x25d58b['id']);for(const _0x2cfd79 of _0x25d58b[_0x3568b6(0xa7c)]??[])_0xcba57f[_0x3568b6(0x29e)](_0x2cfd79),_0x40d481[_0x3568b6(0xa2f)](_0x3568b6(0x4c0),_0x2cfd79);for(const _0x402747 of _0x25d58b[_0x3568b6(0x582)]??[])await _0xcba57f[_0x3568b6(0x600)](_0x402747),_0x40d481[_0x3568b6(0xa2f)](_0x3568b6(0x87c),_0x402747);for(const _0x45da37 of _0x25d58b['modelStorageBuckets']??[])await _0xcba57f['openObjectStoreBucket'](_0x45da37,{'standalone':!0x0}),_0x40d481['forceLog'](_0x3568b6(0x9d0),_0x45da37);for(const _0x54bb62 of _0x25d58b['externalStorageConnections']??[]){const _0x4fc5e1=_0x54bb62[_0x3568b6(0x5a1)]('-');await _0xcba57f['openExternalStorageConnection'](_0x4fc5e1[0x1],_0x4fc5e1[0x0]),_0x40d481[_0x3568b6(0xa2f)](_0x3568b6(0xa5c),_0x54bb62);}for(const _0x45df43 of _0x25d58b[_0x3568b6(0x66e)]??[])await _0xcba57f[_0x3568b6(0x8f0)](_0x45df43,{'version':0x1,'tables':{}}),_0x40d481[_0x3568b6(0xa2f)]('Opened\x20key\x20value\x20database',_0x45df43);for(const _0x18b55a of _0x25d58b['graphDatabases']??[])_0xcba57f[_0x3568b6(0x22e)](_0x18b55a),_0x40d481[_0x3568b6(0xa2f)](_0x3568b6(0x1f4),_0x18b55a);for(const _0x3f6d6c of _0x25d58b[_0x3568b6(0x342)]??[])_0xcba57f['openVectorDatabase'](_0x3f6d6c),_0x40d481['forceLog']('Opened\x20vector\x20database',_0x3f6d6c);for(const _0x35cf18 of _0x25d58b['generativeAIContexts']??[]){const _0x31d268=_0x561f17(this['vendorId'],_0x35cf18),_0x4a2df1=_0x5b97e0(),_0x3f3b2a=this[_0x3568b6(0x49b)]['loggingDatabaseConnector']??this[_0x3568b6(0x49b)][_0x3568b6(0xa65)];await _0xcba57f[_0x3568b6(0x8f0)](_0x31d268,_0x4a2df1,_0x3f3b2a),_0x40d481[_0x3568b6(0xa2f)]('Opened\x20logging\x20database',_0x31d268),await _0xcba57f[_0x3568b6(0x86f)](_0x35cf18),_0x40d481[_0x3568b6(0xa2f)](_0x3568b6(0x48d),_0x35cf18);}}}[_0x5f24fc(0x78d)](_0x3d2a35,_0x4fe441){const _0x260bfe=_0x5f24fc;this[_0x260bfe(0x647)]['set'](_0x3d2a35,_0x4fe441),_0x4fe441['on'](_0x260bfe(0x4e9),()=>{const _0x300c12=_0x260bfe;_0x4fe441['off'](),this[_0x300c12(0x647)]['delete'](_0x3d2a35);});}static[_0x5f24fc(0x778)](_0x3bfff4){const _0x3c5afa=_0x5f24fc;return void 0x0!==_0x3bfff4[_0x3c5afa(0x972)];}}return _0x488446;})())));function a0_0x214c(_0x2dac20,_0x5d18e2){const _0x5bce71=a0_0x5bce();return a0_0x214c=function(_0x214cd5,_0xd30249){_0x214cd5=_0x214cd5-0x1e9;let _0x4f6903=_0x5bce71[_0x214cd5];return _0x4f6903;},a0_0x214c(_0x2dac20,_0x5d18e2);}function a0_0x5bce(){const _0x524e05=['notifyJoin','removeTrackCallback','getDatabase','checkAudioContext','GraphSearch','object-store-invalid-sync-message','systemMessagesReceived','getSTVolatility','Loaded\x20from\x20disk','listChanges','cluster-disconnect','LocalReport','resizeHandler','length','639cScVjX','openExternalStorageConnection','Error\x20searching','keyPath','resetConnection','out','MediaStream\x20feature\x20not\x20enabled','bodyParameters','values','getLabel','PubSubTopicDoesNotExist','ObjectKind','DataStream\x20onMessage','source','history','LoggingService:\x20logging\x20enabled\x20for','No\x20files\x20found','Emitting\x20event\x20on\x20local\x20cluster','.pdf','getQuery','/resources/external-storage/items/','external-storage-name-not-string','handleContentCloseMediaStream','files','Node\x20\x27','mmrRoot','debounceRebuildMMRWithTransaction','remediationManager','\x20does\x20not\x20exists','startsWith','/capacities','/nodes','closeTopic','Error\x20executing\x20code',',\x20Transactions:\x20','currentTimestamp','handleJobAttribution','No\x20parameters\x20provided','validateValue','page','removeLocalMediaStream','Opened\x20model\x20store\x20bucket','aiSearchApiKey','getSentences','iceConnectionState\x20failed','noun','closed','streamId','vector-database','SentenceSplitter','Logging\x20not\x20enabled\x20for\x20channel\x20','checkExistingPendingFileContent','completeSync','Joined\x20cluster','isReady','ReceiverPeerConnection\x20onMessage\x27\x20-\x20Remote:\x20','setupStatsReporting','time_per_frame','Result','setStatus','Media','resume','.ppt','Accepted','join-cluster','20264DesRQn','links','getJobDispatchers','active','discover','JobWorker:\x20Error\x20getting\x20cores\x20from\x20capacity\x20report','Chosen\x20answer','lastHeartbeat','RebuildMMR\x20-\x20MMR\x20Root\x20changed?\x20','newPath','hasTable','processContentAvailable','An\x20error\x20occurred','PubSubTopicAlreadyExists','job-dispatcher-invalid-payload','messages','sendTransactionsValue\x20-\x20value\x20not\x20found','Received\x20request\x20for\x20peak\x20transactions.\x20Sending\x20Transactions.','problem','some','getRemoteMediaStream','docs','UnsubscribeMediaStream','captureStream','removeRemoteConnection','play','MissingRemoteConnection','toString','path','rootComputationPromise','getAudioTracks','__esModule','4ROArqs','appsync-connect','send\x20error\x20on\x20','modelId','PayloadAction','Local\x20node\x20rank\x20is\x20not\x20set','41920LYIVuU','external-storage-connection-already-subscribed','sourceVideo','Data','callback','buildQuery','handleSuccess','Internal\x20event\x20\x27','PromptFunctionParamsType','sendAction','@root','workflow-invalid-block-type','getLocalMediaStream','AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','.awk','subscribeToLocalContent','object-storage-upload','publishSyncCompletedAfterWrites\x20-\x20','Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream','match','GenerativeAITracing\x20-\x20job\x20id\x20is\x20already\x20set','jobId','maxBpp','mode','Unknown\x20skill\x20type','appsync-disconnect','Transaction','\x0a\x0a`Executing\x20agent\x20','database','handleDisconnect','debounceReady','AiSearch','model','forceLog','G-F7W8KXRKQB','frameTime','region','ccc','Received\x20ContentSynchronized\x20from\x20','CloseExternalStorageConnection','Disconnected','ExternalStorageConnection\x20not\x20found','FROM\x20file','Cannot\x20subscribe\x20to\x20ExternalStorage:\x20Already\x20subscribed','QueryFile','setRank','orchestrator-close','getTransactionByHash','JobDispatcherCreationFailed','tokens','clusterKey','completed','getReceiverBitrate','\x20check\x20failed','folder-create','processAddContent','Outgoing','enabled','boolean','getRemoteConnections','map','toLocaleDateString','AI\x20worker\x20creation\x20failed.','Data\x20collection\x20block\x20is\x20missing\x20required\x20data','searchApiKey','ScreenSharing','reject','candidate','AppSync\x20client\x20not\x20ready','AudioOutput','OptimizationConnectionSuccess','transactionService','KeyValueDatabaseSendTransactions','PeerConnectionInvalidDestination','chunks','JobWorker:\x20Received\x20job\x20attribution','signalingServer','rtt','Opened\x20external\x20storage\x20connection','updatePropagationProperties','propagate','handleUnpublishMediaStream','Error\x20loading\x20existing\x20content','Mistlet\x20capacity\x20report\x20not\x20set.','msalGetAccessToken','bufferedAmountLowThreshold','getMediaStream','keyValueDatabaseConnector','findIndex','ConnectionNotinitialized','detectLocalIssues','.sh','av_delay','handleOnMessage','AITrace','WorkflowInvalidBlockType','object-store-already-exists','Support:\x20current\x20config','NodeLeave','Setting\x20context\x20for\x20custom\x20skill\x20block','AI\x20Search\x20connector\x20not\x20set','Subscription\x20request\x20failed.','Node\x20does\x20not\x20exist.','initialize','\x0a\x0a`Writing\x20file`\x0a\x0a','findNextNodeId','northamerica-northeast1','handleUnsubscribeMediaStream','jobPhase','receiverUnsubscribers','pubSubTopics','object-store-invalid-path','en-US','publishLocalMediaStream','getPeakNode','bid','ConnectionGroup','WebGL','isAvailable','label','KeyValueDatabasePeakNotFound','Agent\x20block\x20is\x20missing\x20required\x20data','framerate','WordSplitter','commitBatch','Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.','SyncComplete','hashTransaction','.php','signaling','Info','loadLocalContent','getConnection','skipEncryption','removeTrack','request-file','signOut','getDataCollections','trim','DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found','deleteTransactionsForTable','email','Invalid\x20where\x20clause','SubscriptionRequestDoesNotExist','GenerativeAIContextCreationFailed','createRemoteMediaStream','contentMediator','Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.','setupResizeHandler','peer-connection-invalid-destination','sentence-splitter','getInternalStreamId','jitter','RemoteConnectionExists','orderBy','authContext','results','key-value-database-not-open','\x0a\x20===\x20Current\x20MMR\x20Root','internalProcessJob','missing-incoming-connection','destination','removeIncomingSubscription','createGenerativeAIWorker','getAuth','isWhereBetween','Today\x20Date:\x20','Receiver','ExternalStorage','append','mmr','RemoteAdd','_isReady','warn','outgoing-stream-no-topic','offset','waitSendBuffer','.json','isComputingMMR','tables','unsubscribe','Model\x20output\x20type\x20is\x20vector\x20but\x20input\x20is\x20not\x20an\x20index','objectRequests','commit','getBuffer','senderPreviousBytes','forEach','getJob','\x20to\x20send\x20dispatcherJob\x20','transactionTable','processJobStream','removeExternalStorageConnection','text','onDataChannel','arrayBuffer','processTransactionPayload','crewdle-sdk-stg.firebaseapp.com','checkSyncComplete','Error\x20writing\x20buffered\x20chunk\x20to\x20stream','GenerativeAIContextStats','.clj','crewdleSDKEnableLogging','outputTokens','collectSendersStats','answererId','getContentType','KeyValueDatabaseInvalidLayout','generative-ai-context-already-exists','logServiceEvent','logWaitTime','collectStats','Internal\x20unknown\x20error:\x20','mediator','RemoteRemove','toFixed','InternalSDKError','KeyValueDatabaseRequestTransactionsValue','eventListener','streams','receiverTotalMessages','payload','pendingSyncTransactions','deleteRemoteNode','getResolution','external-storage-connection-does-not-exist','peaks','We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set','maxFps','Context','Cannot\x20unpublish\x20object:\x20','supports','Medium','Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','registerSystemPublisher','\x0a\x20===\x20Total\x20Data\x20Sent:\x20','Error\x20writing\x20chunk\x20to\x20stream','420235181083','GenerativeAILabelConflict','_ready','handleSubscriptionSystemEvents','GenerativeAIModelInputType','sendWithRetry','.liquid','isIceCandidate','toStringTag','debounceAppendLog','remainingTracks','MediaStreamUnavailable','audioDestination','get','tracks','previousFrames','isChannelEnabled','Cannot\x20close\x20the\x20SDK\x20while\x20data\x20is\x20being\x20transferred.\x20Use\x20`force`\x20parameter\x20to\x20interrupt\x20the\x20connection','Job\x20service\x20creation\x20failed.','jobObservers','createDataChannel','getDataBucketIds','AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','comparePeaks','RequestFileWrite','vector-database-does-not-exist','handleLocalTrackFailure','parseWorkflowBlocks','next','slice','handleFileWrite','FolderDelete','SenderPeerConnection\x20send','FeatureNotEnabled','messageCallback','processRemoveContent','KeyValueDatabaseTableNameReserved','getTrackFromParam','handleContentSystemEvents','unregisterPublisher','connection-not-connected','replaceTrack','setReportCapacity','\x0a\x20\x20===\x20MMR\x20Computation\x20Time:\x20','Logging\x20database\x20not\x20initialized','jobQueue','Before\x20Synchronization','getOutgoingOptimizationConnections','transactionIds','bucketId','Attempt\x20','NodeManager\x20-\x20PublishNodeLeave','appsync-statechange','getFunctions','.hs','SHA-1','job-worker-invalid-type','signInWithCustomToken','AudioVolume','handleContentUnsubscribeMediaStream','\x20writes\x20from\x20','logLevel','detectAudioIssues','clientWidth','connection-invalid-data-event','chunksReceived','sendTransactionsValue','.crewdle-transactions','Sending\x20\x27','ExternalStorageNameNotString','handleSubscriptionRestartNeedMediaStream','st_volatility','Image','minRelevance','pubsubTopics','debugEnabled','.html','No\x20connections\x20available\x20to\x20send\x20subscription\x20request','root\x20hash:\x20','messageBuffer','\x20after\x20','.crewdle-layout','Cannot\x20create\x20Vector\x20Database:\x20Name\x20must\x20be\x20a\x20string','receiverPreviousBytes','Opened\x20graph\x20database','DataChannel\x20is\x20not\x20open.','outbound-rtp','token','doc','setCurrentVersion','OutgoingMediaStreamNoTopic','subscriptionRequestTimeouts','Search','object-store-already-subscribed','.dart','bind','logConnectionState','logStorage','compareTransactions','pendingFilesSyncing','traceLevel','direction','storeId','CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','No\x20connections\x20available\x20to\x20send\x20message','Content','authNode','nlpLibraryConnector','long','remove','externalStorageConnections','\x20MB','clockSkew','clearOncloseTimeout','\x20attributed\x20to\x20','trace','audio','notifyClusterNodeJoin','hashPeakHashes','rank','unsubscribeListener','1.0.21.0','user-update','Completed','connections','signalingState','firestore','publishSystemMessage','update','scheduleTime','KeyValueDatabaseNotOpen','readyPromises','expectedTransactions','onClose','getTableConnector','onMessage','runJobQueue','Signaling','initializeLoggingDatabase','dataChannel','CloseJobDispatcher','handleOptimizationConnectionSuccess','openGraphDatabase','upgradeTimeout','Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key','Missing\x20transaction\x20id','processRank','GenerativeAIContextJobTimeout','.conf','maxResolution','sendRequest','handleFileSync','capacityReporter','DEBUG\x20-\x20','closeTrace','onDisconnectHandler','crewdle-sdk-logging-','state','ai-search','test-page','vendorId','sourceId','listener','Index','aiSearchConnector','Failed\x20to\x20commit\x20batch\x20after\x20retries:','blocks','audioSource','createMediaStreamSource','InvalidAccess','OfficeParser','/logs','Ingest','RemoteRemediation','setBytes','addRemoteNode','join','pop','fps','KeyValueDatabaseContentSynchronized','generative-ai-label-conflict','addNode','hashNodes','logMMRRebuild','setOnMessageHandler','\x20not\x20found.','NodeUpdate','messageListeners','WebRTCBrowserPeerConnectionConnector','query','timeSending','WebRTC','find','cluster-already-joined','getAgents','Model','knowledgeCutoffDate','stream','Events','KeyValueDatabaseDoesNotExist','currentBatch','KeyValueDatabase\x20not\x20found','setTransformations','clearWaitSuccess','onCandidate','createIncomingSubscription','processReport','Model\x20not\x20found:\x20','setOnDisconnectHandler','graphDatabases','KeyValueDatabaseRequestPeakTransactions','logDataReceived','/transactions/lastTransaction','uid','calculateArrayBufferSize','AudioContext','getIdToken','GenerativeAIWorker:\x20Opened','createAIJob','Key-value\x20database\x20transaction\x20table\x20not\x20initialized.','Rejected','Prompt\x20is\x20required','GraphDatabaseDoesNotExist','arrayBufferToObject','RemoteMediaStreamAlreadyExists','detail','batch','Model\x20store\x20not\x20initialized','getEntities','accumulated','clusterEventEmitter','debounceReadyTimeout','onProviderChange','user','/objectstores/','Model\x20output\x20type\x20is\x20text\x20but\x20input\x20is\x20not\x20text','getSimilarity','filesSynced','firebase-disconnect','collectReceiversStats','CrewdleConnection\x20handlePeerConnectionSystemEvents','\x20transactions\x20from\x20node\x20','Job\x20worker\x20creation\x20failed.','retryDelay','/resources/generative-ai-grammar/items','local-media-stream-track-fail','previousBytes','system-stats','handleOffer','sender','Error\x20encountered\x20while\x20opening\x20database','Error\x20retrieving\x20context','handleFileRequest','getConnectionGroup','openPubSubTopic','unregisterSystemPublisher','\x0a</uploaded-files>','\x20received\x20partial\x20result:','subscription-request-in-progress','\x20when\x20you\x20need\x20contextual\x20data\x20to\x20inform\x20your\x20response.','FolderCreate','Default','total','max','buffer','job-worker-already-exists','JobContext','queryFileConnector','getBid','isSync','graph-database-name-not-string','ConnectionState','JobType','event','PromptRating','statsCollection','recipients','jobDispatchers','handleSubscriptionSubscribeMediaStream','key-value-database-invalid-layout','GraphDatabaseMissingConnector','Number','message','Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20','processTransactionsToComputeMMR','/developers/','VectorDatabaseStats','senderTimeProcessing','Move','now','NodeTypeRequired','writeTransaction\x20-\x20transaction\x20already\x20exists','rate','generative-ai-context-invalid-partial-result','unregisterSubscriber','disconnectCallback','object-store-cannot-write-transaction','String','pipe','transformations','2367700UjItXK','processList','emit','modelStore','support','errorDetails','right','jobWorkers','documentPath','Workflow\x20not\x20initialized','No\x20async\x20endpoint\x20URL','catch','Cannot\x20write\x20transaction.','handleChunkMessage','getDisplayMedia','updateDebounceTimeout','bandwidth.rtt','Connection','Job\x20service\x20observer\x20not\x20found.','isWhereValue','\x0a\x20===\x20Total\x20Data\x20Received:\x20','logEvent','ExternalStorageConnectorsMissing','cpu.cycle','reads','updateUser','processContentSynchronized','Node\x20is\x20not\x20an\x20agent','bandwidth.bitrate','trackListeners','gain','connector','Rating','InvalidSubscriber','getDoc','index','createLocalMediaStream','isArray','subscribeToExternalContent','onConnectionStateChange','setConnectionType','clusters/','addPendingHandshakeCandidate','.lua','.css','maxOutgoingSubscriptions','Cannot\x20list\x20directory:\x20','default','Missing\x20external\x20storage\x20connector','Database\x20Opened','processOutboundReport','packets','Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.','ModelText','Reranker','onUnregisterPublisher','KeyValueDatabaseIndexNotFound','addBidResponse','addCandidate','toLowerCase','File','featureSupport','getRoot','receivers',':\x0a\x0a','clearUpgradeTimeout','google','loadEnabledChannels','getSubscriptionInfo','restartHandshake','server','key-value-database-name-not-string','externalStores','RemoteMediaStreamDoesNotExist','chunk-splitter','connection-not-initialized','getCurrentVersion','handleMissingSenders','subscribeToJobs','clearRestartTimeout','Parameter\x20','pendingFilesTransactions','SubscriptionRequestFailed','threshold','logs','getNextTargetRank','rejectReady','enumerateDevices','buildInitialMMR','observer','table','updateJob','handleProblem','Restart','action','sdkValidateAccess','asyncEndpointMethod','Error\x20opening\x20trace','Partial','\x20must\x20be\x20a\x20string','shouldProcessTransaction','Queued','Apply\x20remediation','addConnection','clearHeartbeat','ExternalStorageStats','addIssue','Connection\x20not\x20connected.','set','Unexpected\x20output\x20type','parseWorkflowDocument','maxConnections','deleteObject','targetId','loggingConnectors','Hash\x20computation\x20failed,\x20retrying...','.java','Jobs','vectorDatabases','modelName','SenderSendMessage','left','startHeartbeat','registerDestination','uuid','JobWorker:\x20Sending\x20job\x20reject','removeEventListener','crewdle-sdk','KeyValueDatabaseStats','DataChannel\x20is\x20not\x20initialized.','agentId','handshakeCandidates','events','hasBufferedData','getUserMedia','appsync-no-destination','Unsupported\x20job\x20type','398964vzxxTM','setOnTableWriteHandler','childRemovedUnsubscriber','\x20to\x20generate\x20a\x20response.','hash','startTracing','GraphDatabaseCreationFailed','unregisterRemoteNode','count','IngestTrace','getMinConnections','getConnectionDestinations','getObjectStoreBuckets','Job\x20','queueLength','RemoteMediaStreamMissingProviderId','messagesSent','all','getModels','verb','ObjectStoreInvalidPath','handleContentUnpublishMediaStream','changesUnsubscriber','messageUnsubscriber','vectorDatabaseConnector','Error\x20fetching\x20URL','stringify','ConnectionInvalidDataEvent','JobQueueService:\x20Job\x20completed','addAudioTrack','getLocalNode','graph-database-does-not-exist','getRank','function','onSnapshot','startLoggingCycle','-leave','clearRect','joinedClusters','remote-connection-exists','openJobWorker','JobDispatcherJobNotFound','logSyncMetrics','loadFromDisk','outgoingTopic','defineProperty','KeyValueDatabaseTransactionTableNotInitialized','NeedMediaStream','mediaUnsubscribers','subscriptionRequestsQueue','.rs','hasTracks','clearWaitAnswer','VectorSearch','remote-stream-does-not-exist','isNeedRestart','openJobDispatcher','handleSystemEvents','RequestAccepted','SubscribeMediaStream','engineType','Upgrade','getTracks','framesEncoded','onDisconnect','getMaxConnections','track','generative-ai-context-does-not-exist','grammar','crewdle-sdk.appspot.com','upgrade','connectionConstructor','layout','::','receiverBitrate','random','warning','InvalidSubscription','reduce','Add','statsManager','getCurrentMaxLayer','Knowledge','topic','logging-db-','JobDispatcherInvalidPayload','code','internalContext','Internal\x20SDK\x20Error:\x20','nodeManager','Connection\x20does\x20not\x20exist.','key-value-database-table-not-found','maxLayer','\x0a\x0a`Executing\x20query`\x0a\x0a','Synced','val','handlePeerConnectionSystemEvents','InvalidPublisher','request-accepted','document-parser','data','Job','externalStorages','functionsRegion','Delete','`\x0a\x0a','handleHandshake','syncResolve','Support','\x0a</','internalDownloadDocument','processOutboundReports','engine','getPacketsLostPerc','removeRemoteNode','FetchUrl','Skill','Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20','WebScraperRaw','subscription-request-no-answer','.tsx','from','sendReject','results.txt','inputType','Error','.Total\x20pages\x20available:\x20','isInternalLoggingConnector','statsReport','queryFile','resolveReady','\x20is\x20required','handleSubscriptionMediaStreamUnavailable','jobType','Online','stop','internalProcessJobStream','extendedRecipients','Stream\x20does\x20not\x20exist','DataStream\x20send','mediaStream','key','UpdateMediaStream','getCapacityReport','splitParts','isNodeReady','JobDispatcherJobExists','Subject','restartTimeout','Backgrounds','createOffer','objectStoreId','writeTransaction','mute','waitSuccess','subscriptionRequests','isProduction','handleNodeJoinNeedPublishedStream','Problem\x20detected:\x20','CloseObjectStoreBucket','byteLength','handleNodeLeave','addProblem','CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','not-resolved','logRaw','Issue\x20detected:\x20','ExternalStorageConnectionDoesNotExist','topicLabel','tableObserver','internal-sdk-error','asObservable','object-store-invalid-state','outgoingManager','removeSubscription','\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','Invalid\x20key\x20\x27','manageAncestor','orderByKey','pub-sub-topic-name-not-string','InvalidDataChannel','minThreshold','0\x20B','numeric','buildTableEvent','lastExecuted','endsWith','ObjectStorageUpload','description','clusterId','.j2','downloadDocument','queryOrPrompt','ClosePubSubTopic','\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number','available','WebScraper','updateLastTransactionId','appsync-connect-fail','remoteConnections','getEnabledChannels','getApp','getSize','ExternalStorageInvalidPath','setSinkId','getFirestore','bufferedEvents','dt_volatility','listen','Consuming\x20buffered\x20event','DocumentParser','totalNodes','isRunning','syncTransactions','recomputeRoot','Remediation','ObjectStore\x20not\x20found','firebase-connect','temperature','openGenerativeAIContext','Invalid\x20value.\x20Property\x20\x27','crewdle-sdk-stg','contentRequestSent','Object\x20store\x20is\x20not\x20in\x20sync','createNewBatch','call','accessToken','heartbeatUnsubscriber','Error\x20loading\x20external\x20content','delete','JobDispatcherAlreadyExists','handleNodeJoin','getTrack','loggingDatabaseConnector','Additional\x20context:\x0a','agentConfig','ExternalStorageUpload','updateDebounce','.erb','handleIceCandidates','getInstance','answers','ceil','stopConnection','contextInputVariable','.handlebars','\x20must\x20be\x20a\x20valid\x20JSON\x20string','failJob','registerSource','processInboundReport','Subscription\x20request\x20does\x20not\x20exist.','GenerativeAIModelOutputType','setLoggingConnectors','feedback','workflow','queryParameters','checkBackgrounds','getReport','receiverCurrentTimestamp','key-value-database-transaction-value-not-set','manageOptimization','distance','\x0a\x20===\x20Synchronization\x20Time:\x20','onNodeUpdate','processContentQueue','prompt','local-stream-does-not-exist','createGenerativeAIContext','stopNoThrottlingHack','registerPublisher','destinationIds','collectionId','includes','generative-ai-context-job-failed','getPubSubTopics','processSenderReport','isLoaded','getGraphDatabases','setupTrackEndedListeners','PubSubTopic\x20not\x20found','crewdle-sdk-stg.appspot.com','setupStatsCollection','list','All','graph-database-already-exists','FolderMove','outputType','undefined','CannotProvideMediaStream','concat','processDataChannelReport','Vector\x20database\x20creation\x20failed.','GenerativeAIRatingStatus','rebuildMMR','TimePerFrame','.mustache','JobWorker:\x20Sending\x20job\x20result','Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20','SearchGoogle','externalStorageConnectors','optimizationLayers','processReports','WorkflowTrace','receiverConnection','GenerativeAITracing\x20-\x20Cannot\x20commit\x20trace,\x20database\x20is\x20not\x20set','\x0a\x0a`Searching\x20in\x20data\x20collection\x20','confirmSynchronization','JobQueueService:\x20Running\x20job','connectionStateListener','startTime','\x20ms\x0a','system','Opened\x20generative\x20AI\x20worker','getClosestNodes','prompts','object-store-name-not-string','processPendingHandshakeCandidates','timeoutCallback','discoveryUnsubscriber','object-storage','tableName','ObjectStore','applyRemediation','systemTopicUnsubscribe','.groovy','getPartsForSubscriptionLabel','options','\x0a\x20\x20===\x20New\x20MMR\x20Root:\x20','replace','addVideoTrack','objectStores','waitForArrayBufferSize','ownerId','handleStatsSystemEvents','getSkills','getTotalBytes','JobStream','handleObjectMove','processBatch','Knowledge\x20Cutoff\x20Date:\x20','remote-media-stream-invalid-subscription-params','removeJobDispatcher','FramePerSecond','instructions','sendIceCandidates','Invalid\x20query','Invalid\x20params','job-dispatcher-already-exists','createGraphDatabase','frameWidth','setupListeners','vector-database-name-not-string','ObjectStoreNameNotString','Invalid\x20value.\x20Must\x20be\x20an\x20object.','consumeBufferedEvents','setDurationTime','appsync-close','createKeyValueDatabase','inactive','chooseAnswer','Answer','Offer','Prompt\x20block\x20not\x20found','Opened\x20pubsub\x20topic','createRemoteNode','Debug','sequence','createObjectStoreBucket','\x0a\x20\x20===\x20Total\x20Nodes:\x20','registerSubscriber','setReceiverBytes','Sender','getDistance','processServiceReport','has','appendTransaction','chunk','Rejected\x20answer','key-value-database-table-name-reserved','SubscriptionRequestNoAnswer','bufferedChunks','error','Buffering\x20event','remoteNodes','Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number','getContext','GenerativeAIWorker:\x20Models','external-storage','crewdleSDKLoggingChannels','21a9d78dee97f487b','Success','handshakeDebounce','Received\x20request\x20for\x20transactions\x20value.\x20Sending\x20','onBufferedAmountLow','Invalid\x20layout:\x20','generative-ai-worker-creation-failed','.docx','MediaStreamPriority','asyncHeaders','currentDistance','audioContext','substring','connectAgent','addEdge','cluster-leave','getIsLoaded','\x0a\x20===\x20Wait\x20Time:\x20','disconnect','onValue','.vb','subtle','Module','job-dispatcher-job-exists','renderElement','loggingCycle','removeRemoteMediaStream','rating','GraphDatabase\x20not\x20found','receiver-on-message','JobWorker:\x20Error\x20processing\x20job','gpu','Received\x20sync\x20required.\x20Database\x20available:\x20Checking\x20synchronization','ObjectStoreDoesNotExist','Retrieve','getExternalStorageConnection','charCodeAt','isBidResponse','GenerativeAIContextJobMissingThreadId','job-dispatcher-observer-not-found','setLocalRank','Pending','localId','createPendingFileWrite','Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27','invalid-subscription','writes','connect','isFailedResponse','canProvideResolution','file-write','instance','missing-system-topic','Data\x20Sent','parseDataCollectionBlocks','handleSubscriptionNeedMediaStream','Store\x20already\x20exists','getBufferedAmount','ingestBlocks','282izRfzr','currentVersion','invalid-subscriber','/resources/generative-ai-skill/items','ObjectStoreInvalidPayload','notifyObjectStoreOfNodeJoin','output','answerJoin','complete','detectionManager','isJobRequest','getName','gatheringState','number','LocalMediaStreamAlreadyExists','status','retryLimit','lastCapacityReport','Bitrate','CrewdleConnectionGroup','setItem','.xls','performCalculation','Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','Invalid\x20subscription.','clientHeight','createJob','agent-update','ObjectStoreStats','canChooseAnswer','statsReporting','PubSub','JobWorkerCreationFailed','\x27\x20from\x20','nodeKey','setPendingFileSyncingPayload','timeReceiving','RestartNeedMediaStream','RequestFileSync','sendStats','clearConnectionTimeout','hasRemoteNode','remoteMediaStreams','getConfigs','systemTopic','.js','setRemoteConnections','NodeManager\x20-\x20NodeLeave','registerSystemSource','messagesReceived','ChunkSplitter','DTVolatility','Syncing','\x27\x20in\x20layout','readyDebounce','pathName','limitToFirst','supported','resolution','getObjectStoreBucket','getModel','ContentType','GenerativeAITracing\x20-\x20Error\x20while\x20opening\x20trace.\x20Retrying:\x20\x27','mediaTopics','indexes','transactions','senderCurrentBytes','.ts','\x20must\x20be\x20a\x20boolean','NodeConnectionsUpdate','Execute\x20the\x20agent\x20','Job\x20with\x20id\x20','trackCallback','addTrack','incomingManager','getJobs','syncedFileExists','getTotalNodes','searchConnector','Relation\x20extractor\x20block\x20is\x20missing\x20required\x20data','maxFramerate','json','clear','AppSync\x20connection\x20not\x20ready','PubSubTopicNameNotString','KeyValueDatabase\x20-\x20Sync\x20completed','handlePublishMediaStream','handshakeState','\x20seconds','getWorkflowObjectStorageBuckets','accumulateResult','drawImage','Optimization','currentBytes','displayName','Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank','localMediaStreams','getShareableStream','DeviceConfig','User','processInboundReports','string','statusText','handleAnswer','parse','\x0a\x0a`Executing\x20code\x20snippet`\x0a\x0a','LocalMediaStreamDoesNotExist','unregisterSystemSource','joinedAt','objectStorageBuckets','enabledChannels','removePubSubTopic','JobDispatcher:\x20Received\x20job','timestamp','.pug','transactionsToAppend','checkWebRTC','getVectorDatabase','width','Please\x20provide\x20a\x20threadId\x20in\x20the\x20options','size','key-value-database-transaction-table-not-initialized','batchQueue','VectorDatabaseCreationFailed','detectStreamIssues','taskType','previous','Graph\x20database\x20creation\x20failed.','readyResolve','getStatus','.pl','publishSyncCompletedAfterWrites','.jsx','System','Remove','addContent','kind','handleDetectionSystemEvents','getDocs','off','split','stopTracing','job-dispatcher-creation-failed','handleSubscriptionUnsubscribeMediaStream','manageBufferedChunks','requestSubscription','load','syncFolder','\x20new\x20transactions','GetContextResult','\x0a\x20\x20===\x20Initial\x20MMR\x20Root:\x20','title','addReservedTables','Method\x20not\x20implemented.','Key-Value\x20Database\x20-\x20Sync\x20Completed','publishMove','Execute\x20a\x20SQL\x20query\x20on\x20a\x20file\x20to\x20retrieve\x20data.\x20The\x20query\x20should\x20be\x20designed\x20to\x20extract\x20relevant\x20information\x20from\x20the\x20file.\x20Available\x20table\x20is\x20file\x20and\x20columns\x20are:\x20','indexOf','Invalid\x20version\x20\x27','isResultResponse','Vector','jobBids','getRemoteId','cancel','chosenAnswers','findNewMediaSubscription','.go','maxDepth','combinePeaks','removeSubscriptionsForNode','Request','Orchestrator\x20handleSystemEvents','Invalid\x20publisher.','ENOENT','ObjectStorageBucket','No\x20destinationIds\x20left','media-stream','Detection','Search\x20connector\x20not\x20set','GraphDatabaseStats','NodeNotAuthenticated','Logging\x20trace','Cluster\x20already\x20joined','getJobWorkers','onHandshakeStateChange','GraphDatabase','incomingTopic','ObjectStoreAlreadyExists','Recording','Text','getSubscribedTracks','JobDispatcherDoesNotExist','hasMessage','JobQueueService:\x20Error\x20running\x20job','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process','\x20attempts:','getPeaks','handleSubscribeMediaStream','Stream\x20already\x20exists','RemoteMediaStreamTrackFail','closeSubscription','checkMediaRecording','external-storage-connection-already-exists','8761819uubSky','key-value-database','Error\x20processing\x20retrieve','standalone','checkAudioVolume','\x0a\x0a`Searching\x20on\x20Perplexity\x20for\x20','handleTransactionPayload','overlap','getPartsFromSubscription','getGenerativeAIWorkers','getEmail','query-file','subscribedTracks','KeyValueDatabaseInvalidQuery','Generative\x20AI\x20context\x20job\x20already\x20consumed.','setTimestamp','ConnectionNoRetryQueue','processTransactionsToComputeMMR\x20-\x20Requires\x20a\x20rebuild.\x20Append:\x20','StorageEventType','QueryBuilderInvalidArgument','executeJavascriptCodeSnippet','configure','job-dispatcher-invalid-job-type','GenerativeAIContext','listenerUnsubscribers','Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','remoteUnsubscriber','GraphDatabaseAlreadyExists','nodeUpdate','CloseGraphDatabase','CPUCycle','createGain','openObjectStoreBucket','getAvailableTrackKinds','connectionGroup','searchOnPerplexity','file','local-media-stream-no-audio-context','Invalid\x20data\x20event.','CanProvideMediaStream','retry','debounceProcessRank','prototype','CrewdleReceiverConnection\x20ontrack','Missing\x20owner\x20node\x20or\x20rank','entity','log','ner','2-digit','connection-no-retry-queue','trackChanges','getEngineType','Amplify','isEqual','Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string','ModelVector','getMediaSubscription','Invalid\x20credentials','mergeParts','getKeyValueDatabase','GenerativeAIWorkerMissingConnector','pubsub','endpointMethod','FileWrite','Sync\x20completed','connection-state','detection','.md','KeyValueDatabaseSyncRequired','models','dataTopics','getTable','checkMediaStream','isConnected','getChannelData','processLocalReport','queues','bufferEvent','checksum','handleContentUpdateMediaStream','updated','utf8','notifyCluster','isMediaSource','getEstimatedTimestamp','VectorDatabaseNameNotString','parentId','isFeatureSupported','topK','internalSearch','Given\x20','setScheduleTime','Subscription','appendTransactionAndUpdateHashMap','ReceiverOnMessage','us-east-1','Code','Warning','\x0a\x0a`Fetching\x20content\x20from\x20URL\x20','syncTimeout','AppSync\x20subscribe','assign','logBatch','clusters','functions','successNotified','searchEngineId','Incoming','closeConnection','Error\x20closing\x20writable\x20stream','processJob','processReceiverReport','lastUpdated','senders','frames','onNodeDisconnect','handleError','skill','knowledge','getHash','splice','startIndex','getNumberOutgoingSubscriptions','openVectorDatabase','problemType','Error\x20fetching\x20file','app','GenerativeAIContextInvalidPartialResult','getDataLogged','registeredListeners','getBitrate','KeyValueDatabaseNameNotString','getGenerativeAIContexts','Writable\x20stream\x20is\x20missing','getJobObservable','every','setInterval','isPromiseResolved','file-upload','word-splitter','getRoundTripTime','srcObject','keyValueDatabases','vector','node','Start\x20Ingestion','joinCluster','Operations:','CONNECTION_STATE_CHANGE','ExecuteCustomSkill','CloseMediaStream','getPriority','checkDeviceConfig','clearSyncTimeout','generative-ai-worker-model-sync-error','UnpublishMediaStream','AgentSkill','Error\x20initializing\x20logging\x20database\x20with\x20\x27','cleanOldSubscription','onRemoveTrack','Job\x20Dispatcher\x20does\x20not\x20exist','reportMetric','lastTransactionId','ratePrompt','getExternalStorageConnections','timesCalled','\x20-\x20','calculateSize','bytesSent','peerConnectionConnector','initializeSystemTopic','SyncKeyValueDatabase\x20-\x20Ancestors\x20','publishFile','sourceUrl','Cannot\x20get\x20file:\x20','loop','onTrack','connectionType','retrieveBlocks','createFolder','generativeAIWorkerConnectors','ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.','name','\x20deleted.','Missing\x20vector\x20database\x20connector','logDataSent','Cannot\x20create\x20Graph\x20Database:\x20Name\x20must\x20be\x20a\x20string','connectorConstructor','fileChunks','OPFSObjectStoreConnector','MediaStream','.xml','pow','versions','GenerativeAIEngineType','.erl','.tcl','Low','deleteFileChunks','Generative\x20AI\x20context\x20job\x20failed.','removeJobWorker','Job\x20service\x20job\x20not\x20found.','setEmail','Handshake','providerListener','durationTime','JobWorkerAlreadyExists','httpsCallable','minConnections','KeyValueDatabaseTableNotFound','content','move','MistletCapacityReportNotSet','generative-ai-context-job-already-consumed','Received\x20content\x20available\x20from\x20node','take','subscription','setIsLoaded','local-media-stream-already-exists','dbKey','collection','Key-value\x20database\x20creation\x20failed.','objectStoreConnector','GenerativeAITracing\x20-\x20Trace\x20job\x20id\x20does\x20not\x20exist','keys','configs','text/plain','timePerFrame','publishTransaction','vectors','topics','syncKeyValueDatabase','NodeType','lastRemediations','getSubscriptionLabel','contentType','unshift','contentQueue','ended','Error\x20executing\x20agent','GenerativeAITracing\x20-\x20Error\x20while\x20tracing','.cs','sendPeakTransactions','JobWorker:\x20Handling\x20job\x20attribution','Remote\x20stream\x20does\x20not\x20exist.','reset','connected','notifyClusterNodeUpdate','Setting\x20context\x20for\x20agent\x20skill\x20block','getContent','setupConnectionEvents','Disconnect','https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','getTransactionFromTableWriteEvent','authService','Bid','ObjectStoreCannotWriteTransaction','listenerUnsubscriber','getWorkflow','failed','removeTrackListeners','graph-database-creation-failed','content-publish-media','IDBDatabaseConnector','getId','client','endpointUrl','handleObjectDelete','agent-skill','Count','isWhereValues','logInitialMMR','Internal\x20SDK\x20error:\x20','framesDecoded','Error\x20committing\x20batch:','Resolution','NodeAlreadyExist','addEventListener','transactionQueue','currentFrames','subscribe','\x0a\x20===\x20Total\x20Time:\x20','auth','pub-sub-topic-already-exists','SHA-256','Received\x20track','streamLabel','request-file-sync','relations','\x27\x20reserved','Query\x20is\x20required','bitrate','PubSubTopicAlreadySubscribed','senderBitrate','writeFile','getRemoteMediaStreams','web-scraper-raw','executeQuery','webgl','Connected','\x0aAdditional\x20data:\x20','waitConnected','registerRemoteNode','write','asc','Cannot\x20publish\x20file:\x20','computeHash','exists','removeObjectStore','Perform\x20a\x20search\x20on\x20Perplexity\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','Workflow','fetchContentFromUrl','queries','filteredDestinationIds','invalid-publisher','KeyValueDatabase','TestPage','eventEmitter','openedTraces','search','vector-database-creation-failed','getVideoTracks','outgoingStreams','Agent','createMediaStreamDestination','getTime','.ini','JobStatus','min','Subscription\x20request\x20has\x20not\x20been\x20answered.','handleNodeUpdate','Node\x20type\x20is\x20invalid','handleContentSubscribeMediaStream','oidc','\x20created\x20and\x20dispatched.','pub-sub-topic-does-not-exist','More\x20content\x20available\x20on\x20page\x20','setupRenderElement','Processing','lastProcessRank','FileDelete','KeyValueDatabaseCreationFailed','ExternalStorageConnectionAlreadyExists','relevance','isPartialResultResponse','once','JobWorker:\x20Sending\x20job\x20partial\x20result','Execute\x20skill\x20','nodeId','handleRemediationSystemEvents','handleUpdateMediaStream','sendBid','VectorDatabaseAlreadyExists','connectionPool','then','RelationExtractor','Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream','connectionManager','getSettings','FPS','floor','Core','blockId','pool','WriteFile','GenerativeAIContextAlreadyExists','6Qzjoau','sdk-internal-error:\x20','processPendingSyncTransactions','where','connection','FinalOutput','setPriority','NodeManager\x20-\x20ConnectionSuccess','internalRatePrompt','unregisterPublisherListener','getWorkflowModels','\x20were\x20ready\x20in','ObjectStoreAlreadySubscribed','answerContentAvailable','key-value-database-index-not-found','getDisplayName','setParams','setVendorId','authenticateAgent','GenerativeAIWorkerAlreadyExists','GenerativeAIContextJobFailed','removeContent','processRemoteInboundReport','RetrieveTrace','GenerativeAITracing\x20-\x20job\x20id\x20not\x20found','Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.','https://crewdle-sdk-default-rtdb.firebaseio.com','KeyValueDatabaseInvalidValue','createOutgoingSubscription','removeOutgoingSubscription','SystemStats','Workflow\x20does\x20not\x20exist.','handleNodeDisconnect','Invalid\x20subscriber.','NodeJoin','reportCapacity','features','providerId','feature-not-enabled','processTransactionsToComputeMMR\x20-\x20Transactions\x20appended\x20-','filter','syncContent','isInternalSDKConfigs','maps','Received\x20','ExecuteAgent','getMaxDistance','NeedRestart','ancestors','createExternalStorageConnection','GenerativeAIWorker:\x20Opening','type','validateLayout','unregisterSource','internalId','getProviderId','getGraphDatabase','waitAnswer','.rkt','deleteJob','ClusterAlreadyJoined','remote-inbound-rtp','Given\x20search\x20results\x20for\x20','addCluster','586712oeNHFC','data-stream','estimatedPlayoutTimestamp','open','storage','loadExternalContent','.bat','publishNodeLeave','counter','\x20completed.','incrementVersion','.jinja','debounceRebuildMMR','WorkflowDoesNotExist','parameters','Connection\x20does\x20not\x20exist','DataChannel\x20buffer\x20is\x20full.','ref','handleConnectionSuccess','removeNode','wait','KeyValueDatabaseTransactionValueNotSet','setUpgradeTimeout','discoveryService','handleOutgoingSystemEvents','Key-value\x20database\x20table\x20does\x20not\x20exist.','getConnectionType','maxThreshold','removeListener','.doc','ReceiverPeerConnection.onMessage','logger','createConstantSource','maxBitrate','\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.','invalid-data-chanel','removeItem','generativeAIContexts','GenerativeAIWorkerCreationFailed','RequestFile','addRemoteConnection','File\x20sending\x20interrupted','object-store-stream-does-not-exist','AI\x20Service\x20already\x20exists','getReceiverTotalBytes','Failed\x20to\x20get\x20file','generative-ai-context-job-timeout','setDisplayName','onGatheringStateChange','ObjectStorage','createBuffer','InitialPrompt','New\x20MMR\x20Root:\x20','Publish\x20the\x20transaction','Pool','senderPreviousTimestamp','Query\x20must\x20refer\x20to\x20the\x20file\x20table','return\x20this','MissingSystemTopic','transaction','key-value-database-peak-not-found','cpu.fps','content-unpublish-media','checkAudioOutput','\x20finalized.','Write\x20text\x20data\x20to\x20a\x20file.','job-worker-creation-failed','@id','totalDecodeTime','Stats','createPubSubTopic','getRemoteNode','ObjectStoreNotSynced','abs','No\x20connector\x20found\x20for\x20model','PubSubTopic\x20onMessage','Job\x20Dispatcher\x20already\x20exists','\x27:\x20missing\x20or\x20invalid\x20keyPath','Attribution','ObjectStoreInvalidSyncMessage','Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','High','pendingFilesRename','createConnection','getConnections','senderTotalMessages','AudioVideoDelay','/resources/generative-ai-collection/items','getItem','isOpened','NodeInvalidType','addDoc','issues','trackKinds','setInternalId','\x20must\x20be\x20a\x20number','PublishMediaStream','close','createBatchOperation','availableTrackKinds','SyncKeyValueDatabasse\x20-\x20Waiting\x20for\x20ancestors','Invalid\x20workflow\x20block\x20type.','Failed','RoundTripTime','removeTopic','packetsReceived','debounceLogTimeout','STVolatility','Error\x20stringifying\x20object','handleFileRequestAnswer','Folder','detectProblems','receiverCurrentBytes','sync','JobWorker:\x20Received\x20job','SenderPeerConnection.send','retryCallback','publish','memoryUsage','/resources/generative-ai-agent/items','Early\x20return','Key-value\x20database\x20peak\x20not\x20found.','exports','observe','Database\x20does\x20not\x20exist','round','write-file','LocalMediaStreamTrackFail','priority','DataStream','value','searchOnGoogle','handleNeedRestart','Search\x20in\x20data\x20collection\x20','Job\x20Worker\x20does\x20not\x20exist','processContentAvailable\x20-\x20Peak\x20comparison:','909OMtcXc','Model\x20not\x20found','Could\x20not\x20open\x20trace','success','setSubscriptionRequestTimeout','threadId','processTransactionsToComputeMMR\x20-\x20All\x20transactions\x20are\x20appendable.\x20Append:\x20','get-content','maxDistance','Waiting','unregisterCluster','url','handleRemoteTrackFailure','handleContentRemoteMediaStreamTrackFail','contextOutputVariable','publishNodeJoin','params','.djt','Update','video','ConnectionBufferNotEmpty','agent-config-changed','GenerativeAIContextDoesNotExist','peer-connection','getOrResetPendingFileTimeout','Offline','PeerConnection','setEncodingParameters','documentParserConnector','disableIntervalHack','syncTransactionsWritten','mistlet-capacity-report-not-set','Everyone\x20','EntityExtractor','sort','addMessage','Error\x20processing\x20ingest','interval','vector-database-already-exists','Wait','.ex','validateAccess','groupId','systemMessages','retryCount','context','/resources/agent/items/','unsubscribeTrackEndedListener','Failed\x20to\x20send\x20job\x20','publishUserUpdate','getResolutionScale','attributes','answer','handleFolderCreate','Label\x20already\x20in\x20use\x20by\x20AI\x20Service','LocalMediaStreamNoAudioContext','JobWorkerDoesNotExist','.jinja2','channel','JobWorkerInvalidType','removeConnection','User\x20not\x20signed\x20in','Processing\x20agent\x20block:\x20','generative-ai','asyncEndpointUrl','waitAsync','receiverTimeProcessing','add','clientStream','graph-database','isJobAttribution','getSenderTotalBytes','codes','loggingDb','hasOwnProperty','getTransactions','moveObject','object','aws','setReceiverTimestamp','\x20already\x20exists','height','unregisterDestination','getVectorDatabases','contentManager','job-dispatcher-job-not-found','isReconnecting','.txt','openTrace','openGenerativeAIWorker','evaluatePartialJob','No\x20global\x20object\x20found','isOffer','getLastUpdated','connectionTimeout','generateClient','getLocalMediaStreams','Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed','graphService','\x20for\x20','Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20','Vector\x20database\x20block\x20is\x20missing\x20required\x20data','Opened\x20object\x20store\x20bucket','.crewdle-last-transaction','DatabaseEvent','messageType','JobDispatcherObserverNotFound','getInternalTrackParams','isSyncing','getAncestorIds','Setting\x20context\x20for\x20agent\x20block','.twig','Cannot\x20publish\x20folder:\x20','issue','publishSyncCompleted','Downgrade','updateLastUpdated','firebaseUnsubscriber','setSenderTimestamp','batchTimeout','timeoutValue','minResolutionScale','Connection\x20already\x20exists',',\x20Total\x20Nodes:','unsubscribeHandler','addBatchOperation','mediaDevices','agent','/nodes/','registerCluster','trackEndedListeners','saveToDisk','previousTimestamp','collectTransactionsFromNode','evaluateProccessedJob','subscription-request-failed','retryQueue','VectorDatabase','NodeTypeNotSupported','externalStorageConnectionIds','Agent\x20output\x20is\x20not\x20a\x20string','between','frameHeight','compileStats','\x20sending\x20attempt\x20','Missing\x20answerer\x20id\x20on\x20request\x20answer','headers','operator','FileStatus','cost','.yaml','localNode','component','resolutionScale','createBatch','onConfigurationChange','connectionState','GenerativeAIWorkerStats','getSenderBitrate','Done','thread-','Method\x20not\x20supported','Missing\x20remote\x20node\x20or\x20rank','text/csv','removeKeyValueDatabase','getLocalId','transactionsToSync','GetContextQuery','send','Entity','KeyValueDatabase\x20-\x20Assuming\x20no\x20nodes\x20available\x20to\x20sync.\x20Completing\x20sync.','Logger.getInstance','start','generativeAIWorkers','handleCloseContent','insert','IntermediateOutput','nextNodeId','VectorDatabaseDoesNotExist','ExecuteCode','.vue','entities','roundTripTime','checkScreenSharing','Data\x20Received','{\x20\x22status\x22:\x20\x22success\x22\x20}','origin','\x20with\x20response:','SearchPerplexity','objectToArrayBuffer','senderStreams','ConnectionNotConnected','VectorDatabaseMissingConnector','owner','node-type-required','sender-send-message','debounceStats','packetsLost','result','Remote\x20connection\x20already\x20exists.','ready','@context.','internal','Problem','PubSubTopicStats','graphql','bufferedAmount','orchestrator','videoWidth','application/octet-stream','shouldContinuePropagation','NodeDoesNotExist','GenerativeAIContextJobAlreadyConsumed','notifyObjectStoreOfNodeLeave','CloseKeyValueDatabase','checkWebGL','setProviderId','padStart','openKeyValueDatabase','serverTimestamp','CloseJobWorker','entries','removeGraphDatabase','maxTokens','fromEntries','handleNodeSystemEvents','deployedVersion','element','transactionHashMap','Llamacpp','PartialResult','destroy','getGrammars','createBufferSource','isSubscribed','digest','requestSubscriptionAction','KeyValueDatabaseContentAvailable','receiverPreviousTimestamp','syncKeyValueDatabase\x20-\x20Retrying\x20sync\x20in\x20broadcast\x20mode.\x20Waited\x20for\x20cluster\x20readiness\x20for:','dataUnsubscribers','inputTokens','operations','sendFileRequestPayload','createLocalDynamicMediaStream','packetsSent','Prompt','senderCurrentTimestamp','subscriptionManager','dataStores','instantiateTransactionTable','encode','signInWithCredential','Stats:\x20report','commitType','\x0a\x0a`Executing\x20custom\x20skill\x20','canvas','sendFile','shift','Error\x20closing\x20trace','Jitter','subscriptions','isValidMediaSubscriptionParams','IncomingSubscription','Node','createReceiverConnection','CloseVectorDatabase','From\x20','globalObject','RemoteMediaStreamInvalidSubscriptionParams','CustomSkill','ObjectStoreInvalidState','fileSendingMap','job-worker-does-not-exist','eventTarget','Data\x20cluster\x20is\x20not\x20open.','getOwnerId','lastClockUpdate','debug','getLayout','resolve','Relation','removeVectorDatabase','remoteId','receiverStreams','race','subscription-request-does-not-exist','DataCollection','JobWorker:\x20Received\x20job\x20request','contentSize','oncloseTimeout','startBidResponseHandling','jobs','handleSubscriptionProvideMediaStream','/transactions','Key-value\x20database\x20transaction\x20value\x20not\x20set.','GenerativeAITracing\x20-\x20Cannot\x20commit\x20trace,\x20logging\x20table\x20is\x20not\x20set','Sender\x20connection\x20is\x20not\x20initialized.','bytesReceived','node-not-authenticated','setRemoteNode','responseTimeout','stats','nodes','evaluateBidsAndAttributeJob','senderConnection','propn','PubSubTopic\x20publish','logSupport','Cannot\x20unpublish\x20object\x20at\x20','LoadSkillFunction','head','.cpp','object-store-not-synced','Invalid\x20object\x20store\x20state.','StreamReport','version','AudioContext\x20is\x20not\x20available','UnsubscribeMediaStreamdiaStream','developers/','1:420235181083:web:4eff6062bd845cb0748cbe','Generative\x20AI\x20context\x20creation\x20failed.','Model\x20output\x20is\x20an\x20array\x20but\x20expected\x20text','createJobDispatcher','limit','leave','Node\x20type\x20is\x20required','KeyValueDatabaseAlreadyExists','GraphDatabaseNameNotString','retryQueues','external-storage-connectors-missing','generative-ai-context-creation-failed','getShareableStreamId','getWorkflowExternalStorageConnections','createElement','Cluster','\x20not\x20supported','unpublish','listenUnsubscriber','cachedRoot','subject','key-value-database-does-not-exist','ranges','push','cpu.av_delay','Reranker\x20block\x20is\x20missing\x20required\x20data','Database\x20already\x20exists','logPropagateSystemEvent','iceServers','ObjectStoreNotInSync','Remote\x20MediaStream\x20already\x20exists','https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','true','Database\x20not\x20open','remediations','evaluateBids','sendChunked','getRemoteNodes','createVectorDatabase','Support:\x20','\x20received\x20result:','graphDatabaseConnector','handleNoAnswer','KeyValueDatabaseTableDoesNotExist','getAudioVideoDelay','LoadKnowledgeFunction','getAncestors','tableUnsubscriber','nodesConnected','getKeyValueDatabases','pendingHandshakeCandidates','Cannot\x20fetch\x20content\x20from\x20this\x20type\x20of\x20file','clearSubscriptionRequestTimeout','.hbs','getSupportedContentTypes','NodeManager\x20-\x20NodeUpdate','tableLayout','createSubscription','syncPendingFiles','commitLevel','contentQueueRunning','createSenderConnection','cluster','Table\x20not\x20found','Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.','dataBucketIds','removeRemoteStreamSubscription'];a0_0x5bce=function(){return _0x524e05;};return a0_0x5bce();}